2024-05-17
[14:42:11.0605] <kriskowal>
What is a cover grammar? Where does one go to learn more about them?

[16:01:16.0759] <jmdyck>
Well, there's https://v8.dev/blog/understanding-ecmascript-part-4

[16:04:23.0702] <jmdyck>
A cover grammar, at least the way the ES spec uses it, is sort of a hack to avoid a conflict in a bottom-up parser.

[16:16:17.0826] <Chris de Almeida>
> <@kriskowal:aelf.land> What is a cover grammar? Where does one go to learn more about them?

https://github.com/tc39/how-we-work/blob/main/terminology.md#cover-grammar

[16:29:41.0697] <jmdyck>
That definition says "to remain context free and unambiguous", but the grammar would certainly still be context free without the cover, and it would in some cases also be unambiguous.

[16:33:17.0449] <jmdyck>
(E.g., in the case that CoverParenthesizedExpressionEtc deals with, there's no ambiguity: either the parenthesized thing is followed by an `=>` or it isn't, and that tells you whether it's a ParenthesizedExpression or ArrowFormalParameters. The problem is, that token is arbitrarily far away from where you would have to start taking different parse actions for the two possibilities.)

[16:36:33.0843] <Chris de Almeida>
> <@jmdyck:matrix.org> That definition says "to remain context free and unambiguous", but the grammar would certainly still be context free without the cover, and it would in some cases also be unambiguous.

indeed.  the definition should be improved

