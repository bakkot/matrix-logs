<!doctype html>
<head>
  <title>#tc39 on 2021-05-01</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "#tc39";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#tc39<br>2021-05-01<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-04-29" class="nav-link"><span>prev</span></a>
<a href="2021-05-02" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #tc39">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sat May 01 2021 05:32:15 GMT-0700 (Pacific Daylight Time)">12:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">is it discouraged for new proposals to depend on (or mention) other proposals that are still in the early stages? `Error.prototype.stack` seems to be taking its time and i don&#039;t know if it would be realistic to expect that proposal to reach stage 4 prior to being able to claim that a new error type should have that instance property <a href="https://github.com/tc39/proposal-error-stacks">https://github.com/tc39/proposal-error-stacks</a></td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sat May 01 2021 05:39:12 GMT-0700 (Pacific Daylight Time)">12:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">i also find the other non-standard Mozilla instance properties (`fileName`, `lineNumber`, `columnNumber`) very attractive and wonder what can be done to have `NativeError` from the spec also include these <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#instance_properties">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Error#instance_properties</a></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sat May 01 2021 05:46:11 GMT-0700 (Pacific Daylight Time)">12:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">DerekNonGeneric: it seems fine, just refine as you go through the stages</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Sat May 01 2021 05:46:49 GMT-0700 (Pacific Daylight Time)">12:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">All of those need to be standardized afaik, but they’re also tricky</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Sat May 01 2021 05:50:45 GMT-0700 (Pacific Daylight Time)">12:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">ok, sounds like having a wishlist of instance properties/methods wouldn&#039;t be unreasonable at this point</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Sat May 01 2021 08:23:02 GMT-0700 (Pacific Daylight Time)">15:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">DerekNonGeneric: i think that a) nobody will want any such enhancements until the existing behavior of .stack is standardized, and none of these things belong on the prototype, for membranes reasons, so they&#039;d need to be stored in internal slots and accessed via static methods</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Sat May 01 2021 08:23:22 GMT-0700 (Pacific Daylight Time)">15:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">DerekNonGeneric: `.stack` itself is eventually going to end up being legacy, effectively discouraged in favor of a static method on Error</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Sat May 01 2021 08:24:19 GMT-0700 (Pacific Daylight Time)">15:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">DerekNonGeneric: in general there&#039;s lots of flexibility around overlapping proposals, but error stacks are a bit of a special case.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Sat May 01 2021 08:25:49 GMT-0700 (Pacific Daylight Time)">15:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">aha!</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Sat May 01 2021 08:26:57 GMT-0700 (Pacific Daylight Time)">15:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">ljharb, any idea what you might name this method? `getStackTrace()` or similar?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Sat May 01 2021 08:27:08 GMT-0700 (Pacific Daylight Time)">15:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">DerekNonGeneric: yes, it&#039;s already in the proposal repo</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Sat May 01 2021 08:27:30 GMT-0700 (Pacific Daylight Time)">15:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">but i was basically told that i&#039;d have to split the proposal, and that nothing stack-related could happen until &quot;everything .stack currently does&quot; had already advanced</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Sat May 01 2021 08:28:26 GMT-0700 (Pacific Daylight Time)">15:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">if all the new things in the proposal land, you wouldn&#039;t need all those individual properties, since they&#039;d be in the pre-parsed data structure you could get.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Sat May 01 2021 08:29:29 GMT-0700 (Pacific Daylight Time)">15:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">indeed, a proper stack trace object would have filename, line &amp; column number</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Sat May 01 2021 08:30:29 GMT-0700 (Pacific Daylight Time)">15:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">ljharb, is there a rough draft of what that object might look like somewhere?</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Sat May 01 2021 08:30:52 GMT-0700 (Pacific Daylight Time)">15:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">there is a complete spec for it :-) you may want to read the proposal repo</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Sat May 01 2021 08:31:20 GMT-0700 (Pacific Daylight Time)">15:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">literally the only thing i didn&#039;t do is tightly specify how to create the _contents_ of the stack. and that&#039;s what i was told i must do before anything else.</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Sat May 01 2021 08:31:26 GMT-0700 (Pacific Daylight Time)">15:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">(eventually told)</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Sat May 01 2021 08:34:36 GMT-0700 (Pacific Daylight Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">woah, this is really nice</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Sat May 01 2021 08:34:46 GMT-0700 (Pacific Daylight Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">i had only seen the readme earlier</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Sat May 01 2021 08:36:26 GMT-0700 (Pacific Daylight Time)">15:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">welp, this answers soo many questions (basically knocks off 4 instance properties from my wishlist)</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Sat May 01 2021 08:39:20 GMT-0700 (Pacific Daylight Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">&gt; none of these things belong on the prototype, for membranes reasons</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Sat May 01 2021 08:39:40 GMT-0700 (Pacific Daylight Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">ljharb, care to elaborate what that ^ means?</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Sat May 01 2021 08:40:33 GMT-0700 (Pacific Daylight Time)">15:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">sounds like a security concern</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Sat May 01 2021 08:47:51 GMT-0700 (Pacific Daylight Time)">15:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">it means that position information is an encapsulation concern, yes</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Sat May 01 2021 08:48:17 GMT-0700 (Pacific Daylight Time)">15:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">and if it’s attached to the object, then it can’t be denied/shadowed based on lexical scope</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Sat May 01 2021 08:54:26 GMT-0700 (Pacific Daylight Time)">15:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">gotcha</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Sat May 01 2021 08:59:36 GMT-0700 (Pacific Daylight Time)">15:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">ok, now i _really_ wanna see this API in action [ no polyfill from the looks of it 😢 ]</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Sat May 01 2021 09:01:08 GMT-0700 (Pacific Daylight Time)">16:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">ljharb, it looks like `Error#lineNumber` &amp; `Error#columnNumber` would come out of `GetStackFramePositionString`, but would that mean that i would have to parse this string for this specific data, right?</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Sat May 01 2021 09:13:44 GMT-0700 (Pacific Daylight Time)">16:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">oh, the 2-element array returned by `FromStackFramePosition` is even easier, but it&#039;s unclear to me where these `position` objects come from</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Sat May 01 2021 09:58:08 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">&gt; literally the only thing i didn&#039;t do is tightly specify how to create the _contents_ of the stack</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Sat May 01 2021 09:59:04 GMT-0700 (Pacific Daylight Time)">16:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">ljharb, when you get the chance, take a look @ the methods on Java&#039;s `StackTraceElement` <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/StackTraceElement.html#getLineNumber()">https://docs.oracle.com/javase/7/docs/api/java/lang/StackTraceElement.html#getLineNumber()</a></td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Sat May 01 2021 12:15:51 GMT-0700 (Pacific Daylight Time)">19:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</div></td><td class="msg-cell">DerekNonGeneric: you’d never have to parse a string again, is the idea</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Sat May 01 2021 12:17:00 GMT-0700 (Pacific Daylight Time)">19:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=DerekNonGeneric@irc>DerekNonGeneric</span>&gt;</div></td><td class="msg-cell">👍</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Sat May 01 2021 13:40:39 GMT-0700 (Pacific Daylight Time)">20:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</div></td><td class="msg-cell">If two (or more) Agents share an executing thread, what does that mean? Is it just a time-sharing thing, where at most one of the Agents is executing at a given time? But the Agents are just as &#039;isolated&#039; (?) as if they weren&#039;t sharing?</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Sat May 01 2021 13:55:00 GMT-0700 (Pacific Daylight Time)">20:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">they&#039;re not quite isolated: the forward progress guarantee applies only to a collection of agents which share an executing thread, not each individual agent</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Sat May 01 2021 14:11:04 GMT-0700 (Pacific Daylight Time)">21:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</div></td><td class="msg-cell">i meant isolated in a more informational sense? execution contexts from 2 different agents that share an executing thread don&#039;t thereby have access to any more information (about each other)? An execution context can&#039;t even tell if the thread is shared?</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Sat May 01 2021 14:12:35 GMT-0700 (Pacific Daylight Time)">21:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">other than the forward progress guarantee, yes, that&#039;s true as far as I am aware</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Sat May 01 2021 14:12:40 GMT-0700 (Pacific Daylight Time)">21:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</div></td><td class="msg-cell">&quot;can&#039;t&quot; = &quot;the spec doesn&#039;t provide a way (though the implementation might)&quot;</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Sat May 01 2021 14:14:18 GMT-0700 (Pacific Daylight Time)">21:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</div></td><td class="msg-cell">ok, thx.</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Sat May 01 2021 14:55:10 GMT-0700 (Pacific Daylight Time)">21:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">did javascriptcore remove ptc?</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Sat May 01 2021 14:55:16 GMT-0700 (Pacific Daylight Time)">21:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">it no longer seems to work</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Sat May 01 2021 14:55:43 GMT-0700 (Pacific Daylight Time)">21:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">even in the most basic example, like</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Sat May 01 2021 14:55:50 GMT-0700 (Pacific Daylight Time)">21:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">var count = 0; (function f(bound) { ++ count; if (bound &lt;= 0) return; return f(bound - 1); })(100000); console.log(count);</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Sat May 01 2021 14:57:23 GMT-0700 (Pacific Daylight Time)">21:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">certainly should not have changed</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Sat May 01 2021 14:57:37 GMT-0700 (Pacific Daylight Time)">21:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">hard to point at since <a href="http://test262.report">test262.report</a> is not alive but</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Sat May 01 2021 14:59:09 GMT-0700 (Pacific Daylight Time)">21:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">for instance we have no failing (or skipped) tests with `tail` in the name</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Sat May 01 2021 14:59:18 GMT-0700 (Pacific Daylight Time)">21:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">hmmmm</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Sat May 01 2021 14:59:53 GMT-0700 (Pacific Daylight Time)">21:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">`tco` is the thing which would be in the name, not `tail`</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Sat May 01 2021 15:01:02 GMT-0700 (Pacific Daylight Time)">22:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">and those tests certainly fail for me if I try to run them with `jsc`</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Sat May 01 2021 15:01:14 GMT-0700 (Pacific Daylight Time)">22:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">or at least `tco-call-args` does</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Sat May 01 2021 15:01:35 GMT-0700 (Pacific Daylight Time)">22:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">( <a href="https://github.com/tc39/test262/blob/main/test/language/expressions/call/tco-call-args.js">https://github.com/tc39/test262/blob/main/test/language/expressions/call/tco-call-args.js</a> )</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Sat May 01 2021 15:03:56 GMT-0700 (Pacific Daylight Time)">22:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">oh `tco` oops</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Sat May 01 2021 15:04:51 GMT-0700 (Pacific Daylight Time)">22:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">that particular test should not fail, weird</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Sat May 01 2021 15:04:51 GMT-0700 (Pacific Daylight Time)">22:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">oh, apparently the test is strict-only</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Sat May 01 2021 15:05:00 GMT-0700 (Pacific Daylight Time)">22:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">it passes if I run it in strict mode</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Sat May 01 2021 15:05:06 GMT-0700 (Pacific Daylight Time)">22:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">odd, I did not realize tco was strict-only</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Sat May 01 2021 15:05:39 GMT-0700 (Pacific Daylight Time)">22:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">anyway yeah that appears to be what was happening</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Sat May 01 2021 15:05:46 GMT-0700 (Pacific Daylight Time)">22:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">only works (in jsc) in strict mode</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Sat May 01 2021 15:05:55 GMT-0700 (Pacific Daylight Time)">22:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">cool</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Sat May 01 2021 15:05:56 GMT-0700 (Pacific Daylight Time)">22:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">and yeah that&#039;s per spec</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Sat May 01 2021 15:05:59 GMT-0700 (Pacific Daylight Time)">22:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">ok all is well</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Sat May 01 2021 15:06:02 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">phew!</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Sat May 01 2021 15:06:07 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">fwiw these ones do fail</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Sat May 01 2021 15:06:11 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">test/language/expressions/call/tco-cross-realm-class-construct.js</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Sat May 01 2021 15:06:11 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">test/language/expressions/call/tco-cross-realm-class-derived-construct.js</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Sat May 01 2021 15:06:11 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">test/language/expressions/call/tco-cross-realm-fun-call.js</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Sat May 01 2021 15:06:11 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">test/language/expressions/call/tco-cross-realm-fun-construct.js</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Sat May 01 2021 15:06:11 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">test/language/expressions/call/tco-non-eval-function-dynamic.js</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Sat May 01 2021 15:06:11 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">test/language/expressions/call/tco-non-eval-function.js</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Sat May 01 2021 15:06:11 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">test/language/expressions/call/tco-non-eval-global.js</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Sat May 01 2021 15:06:12 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">test/language/expressions/call/tco-non-eval-with.js</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Sat May 01 2021 15:06:20 GMT-0700 (Pacific Daylight Time)">22:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">but they&#039;re a little more specific</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Sat May 01 2021 15:07:29 GMT-0700 (Pacific Daylight Time)">22:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">hah, the cross-realm aspect was actually the thing I was just looking into</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Sat May 01 2021 15:14:04 GMT-0700 (Pacific Daylight Time)">22:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">I think `test/language/expressions/call/tco-cross-realm-class-construct.js` and `test/language/expressions/call/tco-cross-realm-class-derived-construct.js` are wrong as of <a href="https://github.com/tc39/ecma262/pull/2216">https://github.com/tc39/ecma262/pull/2216</a>, actually</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Sat May 01 2021 15:15:27 GMT-0700 (Pacific Daylight Time)">22:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">all four of the `tco-cross-realm` ones, in fact</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Sat May 01 2021 15:15:56 GMT-0700 (Pacific Daylight Time)">22:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">the test could be repaired by using a revoked proxy instead of a class to produce the type error</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Sat May 01 2021 15:16:10 GMT-0700 (Pacific Daylight Time)">22:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">but tbh I feel like the spec should change there; the behavior being asserted in these tests is _very_ strange</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Sat May 01 2021 16:14:37 GMT-0700 (Pacific Daylight Time)">23:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/tc39/test262/issues/2978">https://github.com/tc39/test262/issues/2978</a></td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Sat May 01 2021 16:14:53 GMT-0700 (Pacific Daylight Time)">23:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">this might be the single most esoteric issue I&#039;ve ever written up, which is frankly saying something</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Sat May 01 2021 16:18:45 GMT-0700 (Pacific Daylight Time)">23:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">lolol</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Sat May 01 2021 16:19:12 GMT-0700 (Pacific Daylight Time)">23:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">incidentally, would the correction make current JSC behavior correct? or are we off in a different way?</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Sat May 01 2021 16:22:21 GMT-0700 (Pacific Daylight Time)">23:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">the correction to the tests I suggest in the issue, or the correction to the spec I hint at?</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Sat May 01 2021 16:22:47 GMT-0700 (Pacific Daylight Time)">23:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">if the first: no, you&#039;re off in a different way: JSC always derives the realm for the error in this case from the proxy, not its caller</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Sat May 01 2021 16:22:56 GMT-0700 (Pacific Daylight Time)">23:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">if the second: it depends on which of two possible fixes we went with</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Sat May 01 2021 16:24:42 GMT-0700 (Pacific Daylight Time)">23:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">you can observe the bug without tail calls being involved in e.g. <a href="https://gist.github.com/bakkot/c386c597938d3462a083865f2fe4df58">https://gist.github.com/bakkot/c386c597938d3462a083865f2fe4df58</a></td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Sat May 01 2021 16:24:54 GMT-0700 (Pacific Daylight Time)">23:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">there&#039;s may well be a test262 you xfail as well</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Sat May 01 2021 16:47:23 GMT-0700 (Pacific Daylight Time)">23:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">uh well since you ultimately suggested a spec fix I guess that&#039;s what I meant</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Sat May 01 2021 16:47:29 GMT-0700 (Pacific Daylight Time)">23:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">but was just generally curious</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Sat May 01 2021 16:47:37 GMT-0700 (Pacific Daylight Time)">23:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=rkirsling@irc>rkirsling</span>&gt;</div></td><td class="msg-cell">doesn&#039;t surprise me that it&#039;s not just &quot;A or B&quot;</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Sat May 01 2021 16:52:19 GMT-0700 (Pacific Daylight Time)">23:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</div></td><td class="msg-cell">safari&#039;s behavior is reasonable and is probably the one I&#039;d go with if I felt like trying to tweak this part of the spec</td></tr>

</tbody></table></div></div></div></body>
