<!doctype html>
<head>
  <title>#tc39 on 2019-08-09</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#tc39<br>2019-08-09<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2019-08-08" class="nav-link"><span>prev</span></a>
<a href="2019-08-10" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/" class="current-room">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #tc39">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Fri Aug 09 2019 00:20:30 GMT-0700 (Pacific Daylight Time)">07:20</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">re: `\N{LATIN CAPITAL LETTER A}`, it came up every now and then when discussing property escapes and more recently with sequence properties. IMHO it only adds minimal value and doesn&#039;t pay for the increase in binary size it would require, and I&#039;d not be in favor of such a proposal</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Fri Aug 09 2019 10:34:15 GMT-0700 (Pacific Daylight Time)">17:34</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">mathiasbynens: the size could trivially be eliminated by minifiers, and it seems like a pretty big win in terms of readability</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Fri Aug 09 2019 10:34:24 GMT-0700 (Pacific Daylight Time)">17:34</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">is the size overhead your only concern?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Fri Aug 09 2019 10:35:50 GMT-0700 (Pacific Daylight Time)">17:35</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</td><td class="msg-cell">the size in the engine, or in code?</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Fri Aug 09 2019 10:36:10 GMT-0700 (Pacific Daylight Time)">17:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yeah by &quot;binary size&quot; he means engine size</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Fri Aug 09 2019 10:36:25 GMT-0700 (Pacific Daylight Time)">17:36</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">ohhhh, sure, ok.</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Fri Aug 09 2019 10:37:03 GMT-0700 (Pacific Daylight Time)">17:37</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</td><td class="msg-cell">you wouldn’t necessarily have to ship the strings tho</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Fri Aug 09 2019 10:37:17 GMT-0700 (Pacific Daylight Time)">17:37</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">maybe I will make a babel plugin for it at some point</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Fri Aug 09 2019 10:37:32 GMT-0700 (Pacific Daylight Time)">17:37</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</td><td class="msg-cell">if for any given set of long names, there’s a deterministic computable small value for it, it’d work</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Fri Aug 09 2019 10:37:42 GMT-0700 (Pacific Daylight Time)">17:37</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</td><td class="msg-cell">like how php used to key on function names’ lengths :-p</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Fri Aug 09 2019 10:38:10 GMT-0700 (Pacific Daylight Time)">17:38</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</td><td class="msg-cell">*computable and unique</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Fri Aug 09 2019 10:38:52 GMT-0700 (Pacific Daylight Time)">17:38</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">NamesList.txt is 1.5 megabytes; Chrome is currently... what, 400 megs?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Fri Aug 09 2019 10:39:00 GMT-0700 (Pacific Daylight Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">I guess that&#039;s not trivial, but really does not seem that bad</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Fri Aug 09 2019 10:39:20 GMT-0700 (Pacific Daylight Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">&quot;It&#039;s just a third of a percent&quot; is how we got to 400mb in the first place</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Fri Aug 09 2019 10:39:46 GMT-0700 (Pacific Daylight Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">also it gzips doesn to 400k</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Fri Aug 09 2019 10:39:56 GMT-0700 (Pacific Daylight Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">*gzips down, not entirely sure how I made that typo</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Fri Aug 09 2019 10:39:59 GMT-0700 (Pacific Daylight Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">That doesn&#039;t help the binary while running ^_^</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Fri Aug 09 2019 10:40:15 GMT-0700 (Pacific Daylight Time)">17:40</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">... sure it does, you don&#039;t need to hold the whole thing in memory at any point</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Fri Aug 09 2019 10:40:52 GMT-0700 (Pacific Daylight Time)">17:40</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Are you proposing a disk access every time the parser encounters a \N{...}?</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Fri Aug 09 2019 10:41:30 GMT-0700 (Pacific Daylight Time)">17:41</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">oh, and that&#039;s with all the commentary too, hm. I wonder how much it would actually end up being if you stripped all that. one sec...</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Fri Aug 09 2019 10:41:47 GMT-0700 (Pacific Daylight Time)">17:41</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">why on earth would you ship the actual list of names</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Fri Aug 09 2019 10:41:58 GMT-0700 (Pacific Daylight Time)">17:41</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">generate a perfect hash at build time</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Fri Aug 09 2019 10:48:28 GMT-0700 (Pacific Daylight Time)">17:48</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">about a meg, uncompressed, without all the redundant stuff</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Fri Aug 09 2019 10:48:50 GMT-0700 (Pacific Daylight Time)">17:48</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">devsnek: that would mean that random other strings would end up being valid, which is probably no good</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Fri Aug 09 2019 10:49:26 GMT-0700 (Pacific Daylight Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Fri Aug 09 2019 10:49:32 GMT-0700 (Pacific Daylight Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">anyway, yeah, I guess that&#039;s a lot for browsers to ship if they aren&#039;t already</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Fri Aug 09 2019 10:49:33 GMT-0700 (Pacific Daylight Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">cpython uses a tree structure of some sort</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Fri Aug 09 2019 10:49:48 GMT-0700 (Pacific Daylight Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">i think this can be compressed a lot smaller than a meg</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Fri Aug 09 2019 10:50:22 GMT-0700 (Pacific Daylight Time)">17:50</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">Domenic: no, I was proposing that you hold the compressed thing in memory, and query it without completely decompressing it</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Fri Aug 09 2019 10:50:30 GMT-0700 (Pacific Daylight Time)">17:50</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Ah OK</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Fri Aug 09 2019 10:50:59 GMT-0700 (Pacific Daylight Time)">17:50</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Still this is just not worth it, I&#039;d give like a 5-10 KiB max budget for a feature of this importance</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Fri Aug 09 2019 10:51:16 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Is gzip usable that way? I know there are compression schemes that allow you to work on the compressed form.</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Fri Aug 09 2019 10:54:23 GMT-0700 (Pacific Daylight Time)">17:54</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">TabAtkins: kind of - it holds directory structure up front, IIRC, so you could e.g. split the table into files by first two letters of the character name and then only decompress the file which matched. but it would definitely not be the right choice for the kinds of query which would be relevant here; it was just an easy first approximation for compressed size.</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Fri Aug 09 2019 10:55:08 GMT-0700 (Pacific Daylight Time)">17:55</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">Domenic: seems reasonable. it would make sense as a babel plugin though!</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Fri Aug 09 2019 10:55:34 GMT-0700 (Pacific Daylight Time)">17:55</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">5-10 kib isn&#039;t enough to store the values of the mapping</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Fri Aug 09 2019 11:26:33 GMT-0700 (Pacific Daylight Time)">18:26</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">mathiasbynens: do you know if browser&#039;s unicode data includes names</td></tr>

</tbody></table></div></div></div></body>
