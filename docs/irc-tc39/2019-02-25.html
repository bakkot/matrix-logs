<!doctype html>
<head>
  <title>#tc39 on 2019-02-25</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#tc39<br>2019-02-25<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2019-02-22" class="nav-link"><span>prev</span></a>
<a href="2019-02-26" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/" class="current-room">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Feb 25 2019 01:48:31 GMT-0800 (Pacific Standard Time)">09:48</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">rkirsling, ljharb: i&#039;m working on a written version</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Feb 25 2019 01:49:40 GMT-0800 (Pacific Standard Time)">09:49</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">rkirsling, ljharb: afaict JSC doesn&#039;t suffer from this as much since unlike V8, it uses a uniform value representation for all numbers</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Feb 25 2019 09:21:15 GMT-0800 (Pacific Standard Time)">17:21</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</td><td class="msg-cell">annevk: lol i hardly think 18 days is “awhile” :-p</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Feb 25 2019 09:21:55 GMT-0800 (Pacific Standard Time)">17:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">everything is relative</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Feb 25 2019 10:18:35 GMT-0800 (Pacific Standard Time)">18:18</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">It&#039;s definitely... slower than we&#039;re used to.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Feb 25 2019 10:19:33 GMT-0800 (Pacific Standard Time)">18:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell"><a href="https://tc39.github.io/ecma262/#sec-abstract-module-records">https://tc39.github.io/ecma262/#sec-abstract-module-records</a> is it important that every module have an [[Environment]]? I&#039;m guessing yes, that the concept of bindings and thus lexical environments are pretty intimately tied into the machinery? But for example for built-in modules it seems really awkward to create a synthetic &quot;lexical environment&quot; which doesn&#039;t have any code, and just has a bunch of bindings which it looks up from</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Feb 25 2019 10:19:33 GMT-0800 (Pacific Standard Time)">18:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">elsewhere.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Feb 25 2019 11:18:22 GMT-0800 (Pacific Standard Time)">19:18</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=bradleymeck@irc>bradleymeck</span>&gt;</td><td class="msg-cell">Domenic: yea, the wording is pretty tied to bindings. is the concern that you don&#039;t want to make bindings themselves but something else?</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Feb 25 2019 11:19:16 GMT-0800 (Pacific Standard Time)">19:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">No, it&#039;s more &quot;editorial&quot;. It seems like it&#039;d be a ton of ceremony to make a built-in module record from an ordered map of strings -&gt; JS values, involving creating a whole new lexical environment with a customized ResolveBinding() that looks things up in the map.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Mon Feb 25 2019 11:19:37 GMT-0800 (Pacific Standard Time)">19:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I was hoping we could instead just override ResolveExport()</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Mon Feb 25 2019 11:19:59 GMT-0800 (Pacific Standard Time)">19:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">But I guess ResolveExport() only gives you back a binding name, which you then look up on the [[Environment]].</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Mon Feb 25 2019 11:23:00 GMT-0800 (Pacific Standard Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=bradleymeck@irc>bradleymeck</span>&gt;</td><td class="msg-cell">yea, i think actually making an env is the best approach for now, though you could work around and use an object environment or something?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Mon Feb 25 2019 11:23:23 GMT-0800 (Pacific Standard Time)">19:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm that might save a bit of work</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Mon Feb 25 2019 12:07:03 GMT-0800 (Pacific Standard Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">i took an approach where i eagerly bind all the exports from builtin modules as immutable declarations</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Mon Feb 25 2019 14:10:44 GMT-0800 (Pacific Standard Time)">22:10</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">What does that look like spec wise</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Mon Feb 25 2019 14:12:21 GMT-0800 (Pacific Standard Time)">22:12</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">Domenic: i&#039;m not 100% sure where the operations go (i think the end of ParseModule?) but it basically just grabs all the standard imports and directly creates immutable declarations to the values from the builtin</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Mon Feb 25 2019 14:12:33 GMT-0800 (Pacific Standard Time)">22:12</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hrm hrm</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Mon Feb 25 2019 14:12:35 GMT-0800 (Pacific Standard Time)">22:12</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">this assumes there is a syntax for builtins</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Mon Feb 25 2019 14:12:46 GMT-0800 (Pacific Standard Time)">22:12</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Well maybe I&#039;ll have you review my spec and see what you think, when I write it</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Mon Feb 25 2019 14:12:57 GMT-0800 (Pacific Standard Time)">22:12</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">alright</td></tr>
</tbody></table>
</div></div></div></body>
