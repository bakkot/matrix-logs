<!doctype html>
<head>
  <title>#tc39 on 2021-05-24</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#tc39<br>2021-05-24<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2021-05-23" class="nav-link"><span>prev</span></a>
<a href="2021-05-25" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/" class="current-room">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #tc39">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sun May 23 2021 17:09:34 GMT-0700 (Pacific Daylight Time)">00:09</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">jmdyck: I&#039;m don&#039;t understand the question I&#039;m afraid</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sun May 23 2021 17:10:29 GMT-0700 (Pacific Daylight Time)">00:10</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">my claim is that the position following `y:` is a.) a position where ObjectAssignmentPattern and b.) not initially parsing CoverParenthesizedExpressionAndArrowParameterList or CoverCallExpressionAndAsyncArrowHead (because there&#039;s no parenthesis)</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sun May 23 2021 17:31:14 GMT-0700 (Pacific Daylight Time)">00:31</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">Well, do you agree that (in the spec&#039;s processing model), `{}` is parsed 3 times as an ObjectLiteral before it&#039;s parsed as an ObjectAssignmentPattern?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Sun May 23 2021 17:32:50 GMT-0700 (Pacific Daylight Time)">00:32</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">The inner `{}`? I&#039;m not sure if I can count to three times, but I do agree it&#039;s parsed as an ObjectLiteral first, yes</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Sun May 23 2021 17:39:25 GMT-0700 (Pacific Daylight Time)">00:39</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">In the initial parse, the whole text is parsed as an instance of PrimaryExpression : CoverParenEtc, which 13.2.9.1 then requires to be covering a ParenthesizedExpression.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Sun May 23 2021 17:40:59 GMT-0700 (Pacific Daylight Time)">00:40</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">So when you do that, `{x = 0, y: {}} = z` is parsed as an Expression, in particular an AssignmentExpression</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Sun May 23 2021 17:41:51 GMT-0700 (Pacific Daylight Time)">00:41</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">in which `{x = 0, y: {}}` is a LHSExpression</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Sun May 23 2021 17:43:35 GMT-0700 (Pacific Daylight Time)">00:43</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">and in that parse also, the inner {} is an ObjectLiteral</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Sun May 23 2021 17:49:45 GMT-0700 (Pacific Daylight Time)">00:49</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">But then that instance of `AssignmentExpression : LeftHandSideExpression = AssignmentExpression` (the one that matches `{x = 0, y: {}} = z`) is subject to 13.15.1 Early Error that requires the LHSExpression `{x = 0, y: {}}` to be covering an AssignmentPattern.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Sun May 23 2021 17:55:43 GMT-0700 (Pacific Daylight Time)">00:55</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">So parse #3 is of `{x = 0, y: {}}` as an AssignmentPattern. It&#039;s an ObjectAssignmentPattern with 2 AssignmentPropertys. In the second one, the PropertyName is `y` and the AssignmentElement is `{}`.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Sun May 23 2021 17:57:38 GMT-0700 (Pacific Daylight Time)">00:57</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">That AssignmentElement is an instance of `DestructuringAssignmentTarget : LeftHandSideExpression` in which the LHSExpr is (yet again) an ObjectLiteral, so the Early Error in 13.15.5.1 requires it to be covering an AssignmentPattern.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Sun May 23 2021 17:58:11 GMT-0700 (Pacific Daylight Time)">00:58</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">So parse #4 is of `{}` as an AssignmentPattern, and it finally is recognized as an ObjectAssignmentPattern.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Sun May 23 2021 18:34:50 GMT-0700 (Pacific Daylight Time)">01:34</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">In parse #1, `x` matches `PropertyDefinition : CoverInitializedName`, but the 13.2.5.1 Syntax Error doesn&#039;t apply, because we&#039;re &quot;initially parsing a CoverParenthesizedExpressionAndArrowParameterList&quot;, but also (I think) because the ObjectLiteral `{x = 0, y: {}}` will eventually (in parse #3) be reparsed as an ObjectAssignmentPattern.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Sun May 23 2021 18:38:45 GMT-0700 (Pacific Daylight Time)">01:38</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">In parse #2, `x` matches `PropertyDefinition : CoverInitializedName` again, and presumably the 13.2.5.1 doesn&#039;t apply again, but not because of the &quot;initially parsing&quot; sentence, rather because (again) `{x = 0, y: {}}` will soon be parsed as an ObjectAssignmentPattern.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Sun May 23 2021 18:39:53 GMT-0700 (Pacific Daylight Time)">01:39</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">So now I&#039;m wondering if the &quot;initially parsing&quot; sentence is actually needed.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Sun May 23 2021 18:42:00 GMT-0700 (Pacific Daylight Time)">01:42</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">Is there a case where &quot;initially parsing&quot; sentence applies but the &quot;ObjectAssignmentPattern&quot; sentence doesn&#039;t?</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Sun May 23 2021 18:42:17 GMT-0700 (Pacific Daylight Time)">01:42</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">(This reverses the question I asked a few hours ago.)</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Sun May 23 2021 19:17:40 GMT-0700 (Pacific Daylight Time)">02:17</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">Yes, `({}) =&gt; 0` is initially parsed as CoverParenthesizedExpressionAndArrowParameterList, but never as ObjectAssignmentPattern</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Sun May 23 2021 19:18:18 GMT-0700 (Pacific Daylight Time)">02:18</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">that is, `({})` is initially parsed as CoverParenthesizedExpressionAndArrowParameterList, and `{}` is never parsed as ObjectAssignmentPattern</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Sun May 23 2021 20:37:04 GMT-0700 (Pacific Daylight Time)">03:37</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">test</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Sun May 23 2021 20:39:28 GMT-0700 (Pacific Daylight Time)">03:39</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">`({})` doesn&#039;t contain an instance of `PropertyDefinition : CoverInitializedName`, so the question of whether or not to apply the associated early error rule doesn&#039;t arise.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Sun May 23 2021 20:40:27 GMT-0700 (Pacific Daylight Time)">03:40</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">If I change it to `({x=1})` then that does contain an instance, so the question does arise, and presumably the answer is yes, apply the rule and raise a syntax error.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Sun May 23 2021 20:42:42 GMT-0700 (Pacific Daylight Time)">03:42</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">But is there a case where the question arises, and the &quot;initially parsing&quot; sentence tells us not to apply the rule, and the &quot;ObjectAssignmentPattern&quot; sentence doesn&#039;t?</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Sun May 23 2021 20:50:39 GMT-0700 (Pacific Daylight Time)">03:50</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">(The &quot;when initially parsing&quot; sentence first appeared in ES6.)</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Sun May 23 2021 22:44:48 GMT-0700 (Pacific Daylight Time)">05:44</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">sorry, change my example to `({x=1}) =&gt; 0`</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Sun May 23 2021 22:44:55 GMT-0700 (Pacific Daylight Time)">05:44</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">there&#039;s no ObjectAssignmentPattern in that case</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Mon May 24 2021 05:45:36 GMT-0700 (Pacific Daylight Time)">12:45</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">Bakkot: Ok, interesting. So the text that is initially parsed as an ObjectLiteral containing a CoverInitializedName is re-parsed as ObjectBindingPattern containing a SingleNameBinding.</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Mon May 24 2021 07:04:36 GMT-0700 (Pacific Daylight Time)">14:04</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">But it seems like that&#039;s analogous to the situation where an ObjectLiteral containing a CoverInitializedName is re-parsed as an ObjectAssignmentPattern containing an AssignmentProperty.</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Mon May 24 2021 07:07:57 GMT-0700 (Pacific Daylight Time)">14:07</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">So why doesn&#039;t 13.2.5.1 deal with them similarly? I.e., there&#039;s a sentence that directly handles cases where ObjectLiteral is re-parsed as an ObjectAssignmentPattern, so why not the same for cases where ObjectLiteral is re-parsed as an ObjectBindingPattern?</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Mon May 24 2021 07:09:10 GMT-0700 (Pacific Daylight Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">(e.g., just change &quot;where ObjectAssignmentPattern is required&quot; to &quot;where ObjectAssignmentPattern or ObjectBindingPattern is required&quot;)</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Mon May 24 2021 07:09:59 GMT-0700 (Pacific Daylight Time)">14:09</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">would that not handle some cases that are handled by the existing wording?</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Mon May 24 2021 07:19:55 GMT-0700 (Pacific Daylight Time)">14:19</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">rephrase: Does the current wording handle some cases that wouldn&#039;t be handled by an &quot;ObjectBindingPattern is required&quot; wording?</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Mon May 24 2021 07:40:11 GMT-0700 (Pacific Daylight Time)">14:40</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">Consider if we put your latest example in an extra pair of parens: (({x=1}) =&gt; 0)</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Mon May 24 2021 07:41:12 GMT-0700 (Pacific Daylight Time)">14:41</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">I&#039;ll refer to the whole expr as &quot;the outer&quot; and `({x=1})` as &quot;the inner&quot;.</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Mon May 24 2021 07:41:55 GMT-0700 (Pacific Daylight Time)">14:41</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">In the initial parse, both the outer and the inner are parsed as CoverParenEtc.</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Mon May 24 2021 07:44:30 GMT-0700 (Pacific Daylight Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">The outer is re-parsed as a ParenthesizedExpression, in which the inner is again parsed as CoverParenEtc.</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Mon May 24 2021 07:45:30 GMT-0700 (Pacific Daylight Time)">14:45</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">Then the inner is re-parsed as a ArrowFormalParameters.</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Mon May 24 2021 07:54:14 GMT-0700 (Pacific Daylight Time)">14:54</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">In that middle stage, where the inner is again parsed as CoverParenEtc, the `{x=1}` is (again) parsed as an ObjectLiteral with a CoverInitializedName. Presumably the example is valid, so the 13.2.5.1 Early Error for CoverInitializedName shouldn&#039;t be applied; but does the existing wording accomplish that?</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Mon May 24 2021 07:54:33 GMT-0700 (Pacific Daylight Time)">14:54</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">Obviously, the ObjectAssignmentPattern sentence isn&#039;t relevant.</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Mon May 24 2021 08:05:04 GMT-0700 (Pacific Daylight Time)">15:05</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">The other sentence says that the CoverInitalizedName rule isn&#039;t applied &quot;when initially parsing a CoverParenthesizedExpressionAndArrowParameterList ...&quot;. Does that describe this middle stage?</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Mon May 24 2021 08:06:27 GMT-0700 (Pacific Daylight Time)">15:06</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">On the one hand, this isn&#039;t the first time that the inner has been parsed as a CoverParenEtc. On the other, it is the first time it&#039;s been parsed as a CoverParenEtc *within* the re-parse of the outer.</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Mon May 24 2021 08:08:24 GMT-0700 (Pacific Daylight Time)">15:08</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">I don&#039;t think there&#039;s a definitive answer: the wording of &quot;initially parsing a CoverParenEtc&quot; isn&#039;t precise enough.</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Mon May 24 2021 08:09:24 GMT-0700 (Pacific Daylight Time)">15:09</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=jmdyck@irc>jmdyck</span>&gt;</td><td class="msg-cell">(For one thing, you don&#039;t parse a &lt;nonterminal&gt;, you parse a text.)</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Mon May 24 2021 10:25:48 GMT-0700 (Pacific Daylight Time)">17:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">Curious. Has anyone brought up renaming the object during parameter destructuring? function f({ a = 1, b = 2 }:options = {}) {} I might be missing something obvious here.</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Mon May 24 2021 10:28:21 GMT-0700 (Pacific Daylight Time)">17:28</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">Sirisian|Work yes, people have asked, see e.g. <a href="https://github.com/zkat/proposal-as-patterns">https://github.com/zkat/proposal-as-patterns</a></td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Mon May 24 2021 10:28:47 GMT-0700 (Pacific Daylight Time)">17:28</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">most people seem to get by fine with just doing it in two steps, though</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Mon May 24 2021 10:29:32 GMT-0700 (Pacific Daylight Time)">17:29</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">jmdyck, re &quot;why doesn&#039;t 13.2.5.1 deal with them similarly&quot;, that I could not tell you</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Mon May 24 2021 10:58:01 GMT-0700 (Pacific Daylight Time)">17:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">You mean like: function f({ a = 1, b = 2 }) { const options = { a, b }; } ?</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Mon May 24 2021 11:09:23 GMT-0700 (Pacific Daylight Time)">18:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">Also it looks like that &quot;as&quot; proposal doesn&#039;t do exactly what I&#039;d want. function({ a = 1, b = 2 } as x) { console.log(x); } with f({ c: 1 }); outputs &quot;{ a = 1, b = 2, c = 3 }&quot; which is consistent with that proposal.</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Mon May 24 2021 11:09:32 GMT-0700 (Pacific Daylight Time)">18:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">Looks like what I want is the pick proposal.</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Mon May 24 2021 11:09:58 GMT-0700 (Pacific Daylight Time)">18:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">function f(options.{ a = 1, b = 2 }) {}</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Mon May 24 2021 11:10:09 GMT-0700 (Pacific Daylight Time)">18:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">hmm, no.</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Mon May 24 2021 11:10:58 GMT-0700 (Pacific Daylight Time)">18:10</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</td><td class="msg-cell">Sirisian|Work: so you want the equivalent of `do { const { a, b } = options; ({ a, b }) }`?</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Mon May 24 2021 11:11:35 GMT-0700 (Pacific Daylight Time)">18:11</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=ljharb@irc>ljharb</span>&gt;</td><td class="msg-cell">Sirisian|Work: can you elaborate on the use case of accepting an options bag, but actively needing to omit un-named properties?</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Mon May 24 2021 11:16:29 GMT-0700 (Pacific Daylight Time)">18:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">function options(options) { Object.assign(this, { option1: 1, option2: 2 }, options); } Kind of like this, but where options is listed so the IDE can see the object in the parameters and sets defaults. I then assign all the options to this.</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Mon May 24 2021 11:19:19 GMT-0700 (Pacific Daylight Time)">18:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">function options({ option1 = 1, option2 = 2 }) { Object.assign(this, { option1, option2 }); }</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Mon May 24 2021 11:19:37 GMT-0700 (Pacific Daylight Time)">18:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">Not a huge deal really using that which is what I have now.</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Mon May 24 2021 12:44:09 GMT-0700 (Pacific Daylight Time)">19:44</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">&gt; You mean like</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Mon May 24 2021 12:44:27 GMT-0700 (Pacific Daylight Time)">19:44</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">No, I meant like `function f(options = {}) { const {a = 1, b = 2} = options; ...}`</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Mon May 24 2021 12:46:53 GMT-0700 (Pacific Daylight Time)">19:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">Bakkot, ah. options wouldn&#039;t have the defaults set then.</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Mon May 24 2021 12:47:16 GMT-0700 (Pacific Daylight Time)">19:47</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=Sirisian|Work@irc>Sirisian|Work</span>&gt;</td><td class="msg-cell">Which I might not have been clear about. I didn&#039;t explain myself well.</td></tr>

</tbody></table></div></div></div></body>
