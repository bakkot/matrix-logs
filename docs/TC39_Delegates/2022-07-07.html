<!DOCTYPE html><html><head>
  <title>TC39 Delegates on 2022-07-07</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "TC39 Delegates";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">TC39 Delegates<br>2022-07-07<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2022-07-06" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search TC39 Delegates">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Jul 07 2022 08:04:30 GMT-0700 (Pacific Daylight Time)">15:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@zbraniecki:matrix.org">zbraniecki</span>&gt;</div></td><td class="msg-cell">Can you explain what are the tangible implications of choosing Iterator here?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Jul 07 2022 08:31:45 GMT-0700 (Pacific Daylight Time)">15:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@rbuckton:matrix.org">rbuckton (OOF: 7/5 - 7/16)</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <p>üëÄ I want to do a temperature check on the range proposal (discussion <a href="https://github.com/tc39/proposal-Number.range/issues/17">https://github.com/tc39/proposal-Number.range/issues/17</a> )</p>
<p>Do you think it should be a Iterator (1Ô∏è‚É£) or an Iterable object (üî¢)?</p></blockquote></mx-reply><p>I generally prefer Iterable, so that a range can be reused:</p>
<pre><code class="language-js">const oneToTen = Number.range(1, 10);
// prints: 1\n2\n...
for (const x of oneToTen) console.log(x);
// prints: ??? 
for (const x of oneToTen) console.log(x);
</code></pre>
<p>Its rare that someone will manually step through an iterator rather than use <code>for..of</code> or <code>...</code>, and the latter will exhaust the iterator, making a range useless after it has been used once.<br>If you need to step over it manually, you could still use <code>Symbol.iterator</code>, so Iterable is vastly more flexible.<br>That said, the iterator helpers proposal depends on Iterator (which I still disagree with in principle), but relevant methods could be lifted to a Range as well.<br>I'm still hoping we could someday have a standalone range/slice syntax like <code>a..b</code>, though that can (hopefully) come later.</p></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Jul 07 2022 08:34:19 GMT-0700 (Pacific Daylight Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@rbuckton:matrix.org">rbuckton (OOF: 7/5 - 7/16)</span>&gt;</div></td><td class="msg-cell">(and I am not very good at avoiding work when I'm supposed to be on PTO) </td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Jul 07 2022 09:58:31 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">you can reuse it by sticking ()=&gt; in front of it</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Jul 07 2022 10:05:32 GMT-0700 (Pacific Daylight Time)">17:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@rbuckton:matrix.org">rbuckton (OOF: 7/5 - 7/16)</span>&gt;</div></td><td class="msg-cell">That's not reuse, that's recreating it each time. It also potentially reevaluates each argument, which could have side effects/performance implications.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Jul 07 2022 10:07:35 GMT-0700 (Pacific Daylight Time)">17:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@rbuckton:matrix.org">rbuckton (OOF: 7/5 - 7/16)</span>&gt;</div></td><td class="msg-cell">i.e., <code>const r = () =&gt; Number.range(0, f())</code>. Beginners could easily overlook the <code>f()</code></td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Jul 07 2022 10:09:08 GMT-0700 (Pacific Daylight Time)">17:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@rbuckton:matrix.org">rbuckton (OOF: 7/5 - 7/16)</span>&gt;</div></td><td class="msg-cell">Maybe PFA could help, but it's also not something a beginner would likely reach for immediately, nor is the <code>() =&gt;</code> trick</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Jul 07 2022 10:14:22 GMT-0700 (Pacific Daylight Time)">17:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@zbraniecki:matrix.org">zbraniecki</span>&gt;</div></td><td class="msg-cell">My mental model is aligned with <span class="nick-9">rbuckton (PTO: 7/5 - 7/16)</span> - <code>oneToTen</code> should produce an iterator when used in a loop. I probably am projecting how Rust does it where <code>Range</code> implements <code>IntoIterator</code></td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Jul 07 2022 10:20:24 GMT-0700 (Pacific Daylight Time)">17:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">i don't think beginners will expect to reuse it either tho.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Jul 07 2022 10:37:54 GMT-0700 (Pacific Daylight Time)">17:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@rbuckton:matrix.org">rbuckton (PTO: 7/5 - 7/16)</span>&gt;</div></td><td class="msg-cell">I think beginners are more likely to reuse it than not, just as you could reuse an array, or map, or set, or typed array. This is especially true if we do ever have a range/slice syntax in the future.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Jul 07 2022 10:41:08 GMT-0700 (Pacific Daylight Time)">17:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@rbuckton:matrix.org">rbuckton (PTO: 7/5 - 7/16)</span>&gt;</div></td><td class="msg-cell">I'm still of the opinion that the iterator helpers proposal has a very short-sighted view by focusing on Iterator and not Iterable, and I'd rather not repeat the mistake of leveraging the wrong level of abstraction in more places if we can potentially avoid it. That said, Iterator is probably fine for <code>Number.range()</code> on its own, but I would be strongly opposed to the same behavior for any potential Range/slice syntax in the future.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Jul 07 2022 10:57:18 GMT-0700 (Pacific Daylight Time)">17:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell">sidebar: I am now ~half of the agenda items for the next meeting. hope everyone is prepared to talk about dumb corner cases for an entire meeting.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Jul 07 2022 11:08:53 GMT-0700 (Pacific Daylight Time)">18:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@shuyuguo:matrix.org">shu</span>&gt;</div></td><td class="msg-cell">please cover them on wednesday, when i cannot be there</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Jul 07 2022 11:32:39 GMT-0700 (Pacific Daylight Time)">18:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">iterable isn‚Äôt a thing, it‚Äôs a trait.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Jul 07 2022 11:32:57 GMT-0700 (Pacific Daylight Time)">18:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">whereas an iterator is a thing</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Jul 07 2022 12:37:25 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-13" title="@pchimento:igalia.com">ptomato</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> sidebar: I am now ~half of the agenda items for the next meeting. hope everyone is prepared to talk about dumb corner cases for an entire meeting.</blockquote></mx-reply>I will add an item on Temporal, but unfortunately it's also all dumb corner cases</td></tr>

</tbody></table></div></div></div>
</body></html>