<!DOCTYPE html><html><head>
  <title>TC39 Delegates on 2024-02-09</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "TC39 Delegates";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">TC39 Delegates<br>2024-02-09<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-02-08" class="nav-link"><span>prev</span></a>
<a href="2024-02-12" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search TC39 Delegates">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Feb 08 2024 16:01:16 GMT-0800 (Pacific Standard Time)">00:01</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> the disagreement i see is the motivation is thus ergonomics, which comes down to feelings, which we disagree on</blockquote></mx-reply>there are more benefits than ergonomics, but that is one of the benefits.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Feb 08 2024 16:02:15 GMT-0800 (Pacific Standard Time)">00:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@shuyuguo:matrix.org">shu</span>&gt;</div></td><td class="msg-cell">my universe of benefits for that proposal is either a new capability, or an ergonomic improvement. that may be a broader brush than what you think of as "ergonomics"?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Feb 08 2024 16:02:20 GMT-0800 (Pacific Standard Time)">00:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@shuyuguo:matrix.org">shu</span>&gt;</div></td><td class="msg-cell">or am i misunderstanding</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Feb 08 2024 16:02:39 GMT-0800 (Pacific Standard Time)">00:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@shuyuguo:matrix.org">shu</span>&gt;</div></td><td class="msg-cell">there's performance but i thought we discarded that one</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Feb 08 2024 16:03:34 GMT-0800 (Pacific Standard Time)">00:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> my universe of benefits for that proposal is either a new capability, or an ergonomic improvement. that may be a broader brush than what you think of as "ergonomics"?</blockquote></mx-reply>what is Temporal?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Feb 08 2024 16:03:57 GMT-0800 (Pacific Standard Time)">00:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell">Temporal is a mix of new capabilities and ergonomics improvements</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Feb 08 2024 16:04:13 GMT-0800 (Pacific Standard Time)">00:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@shuyuguo:matrix.org">shu</span>&gt;</div></td><td class="msg-cell">i consider Temporal to be like 80% ergonomics</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Feb 08 2024 16:04:29 GMT-0800 (Pacific Standard Time)">00:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-8" title="@shuyuguo:matrix.org">shu</span>&gt;</div></td><td class="msg-cell">20% performance in the "we are going to take over distribution" sense</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Feb 08 2024 16:05:26 GMT-0800 (Pacific Standard Time)">00:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@jschoi:matrix.org">jschoi</span>&gt;</div></td><td class="msg-cell">Re: Temporal, does ‚Äúreducing ecosystem fragmentation‚Äù fall under ergonomics? Just wondering.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Feb 08 2024 16:05:58 GMT-0800 (Pacific Standard Time)">00:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Does ‚Äúreducing ecosystem fragmentation‚Äù fall under ergonomics?</blockquote></mx-reply>How is the ecosystem currently fragmented for function decorators?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Feb 08 2024 16:06:12 GMT-0800 (Pacific Standard Time)">00:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> we should probably have not included class decorators, yes; at one point they had additional expressivity and so I was ok with that on those grounds</blockquote></mx-reply>This presumes class decorators have no value aside from somehow aggregating class element decorators, but that isn't the case. The registration semantics are critical for use cases like custom elements and packages like <code>lit</code>. There are also useful cases like <code>@Callable</code>, amongst others. Manual function application is terribly unergonomic for class declarations, and I think its terribly unergonomic for functions as well. Libraries like material-ui use function "decorators" in this way, and it makes the code far harder to reason over and pick apart.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Feb 08 2024 16:06:12 GMT-0800 (Pacific Standard Time)">00:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@jschoi:matrix.org">jschoi</span>&gt;</div></td><td class="msg-cell">Sorry, was talking about Temporal.</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Feb 08 2024 16:07:19 GMT-0800 (Pacific Standard Time)">00:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> This presumes class decorators have no value aside from somehow aggregating class element decorators, but that isn't the case. The registration semantics are critical for use cases like custom elements and packages like <code>lit</code>. There are also useful cases like <code>@Callable</code>, amongst others. Manual function application is terribly unergonomic for class declarations, and I think its terribly unergonomic for functions as well. Libraries like material-ui use function "decorators" in this way, and it makes the code far harder to reason over and pick apart.</blockquote></mx-reply>it does not presume they have no value. the claim is that the benefits are not worth the cost.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Feb 08 2024 16:10:38 GMT-0800 (Pacific Standard Time)">00:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><p>I like reverse pipes, and they were suggested as an area of exploration back in the early pipeline days. That said, I don't think that is readable in the more common cases, as examples like these often focus on unary functions, but that's rarely the predominant use case. What you would actually see is something like:</p>
<pre><code class="language-js">const index =
  route("/api/foo")(^^) &lt;|
  authorized("Administrator")(^^) &lt;|
  originCheck(^^) &lt;|
  rateLimited(5, 1)(^^) &lt;|
  function () {};
</code></pre>
<p>You most likely need to use double invocation here if you want to reuse existing decorators (despite those decorators needing to be even more defensive around the missing 2nd argument).</p>
</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Feb 08 2024 16:11:21 GMT-0800 (Pacific Standard Time)">00:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">And I do not find that more readable in the slightest.</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Feb 08 2024 16:17:07 GMT-0800 (Pacific Standard Time)">00:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> I would hope we would use indexes instead of names if we do param decorators</blockquote></mx-reply>This is what we currently do in TS. Parameter names seem like a nice to have capability that is worth exploring as its useful for diagnostics purposes. for example, if your decorator performs some kind of route binding or validation and if that fails it throws an error. It's far more convenient to diagnose <code>"The provided value is not supported on parameter 'foo'"</code> than <code>"The provided value is not supported on parameter 6"</code>. Whether we support parameter names is definitely a topic for discussion at stage 1.</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Feb 08 2024 16:19:30 GMT-0800 (Pacific Standard Time)">00:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jridgewell:matrix.org">Justin Ridgewell</span>&gt;</div></td><td class="msg-cell">Didn‚Äôt we agree that closed over unary-returning functions are the devil in the pipelines proposal?</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Feb 08 2024 16:19:38 GMT-0800 (Pacific Standard Time)">00:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> my universe of benefits for that proposal is either a new capability, or an ergonomic improvement. that may be a broader brush than what you think of as "ergonomics"?</blockquote></mx-reply>It provides both ergonomics benefits (decorator reuse, language consistency), and new capabilities (post decorate registration, function name reflection for diagnostics, metadata).</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Feb 08 2024 16:22:10 GMT-0800 (Pacific Standard Time)">00:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title="@jridgewell:matrix.org">Justin Ridgewell</span>&gt;</div></td><td class="msg-cell">Sorry, me being cheeky isn‚Äôt needed here.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Feb 08 2024 17:19:55 GMT-0800 (Pacific Standard Time)">01:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">It depends on what capabilities we give to parameter decorators. In TypeScript, such a parameter decorator can only be used for recording metadata. It can't perform method replacement or run code on a per-invocation basis.</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Feb 08 2024 17:21:42 GMT-0800 (Pacific Standard Time)">01:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">For constructor parameters, this is a convenient way to associate metadata for dependency injection containers, which is the predominant use case in projects like <a href="https://github.com/microsoft/vscode">https://github.com/microsoft/vscode</a>. For method parameters, this is a convenient way to bind HTTP route parameters for RESTful APIs.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Feb 08 2024 17:24:49 GMT-0800 (Pacific Standard Time)">01:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">The parameter decorators proposal described a large number of areas of exploration beyond what TypeScript's version supported, but not all of those capabilities are critical to an MVP version of the proposal. An MVP version I would be comfortable advancing would at a minimum have the same capabilities that such decorators in TS have: parameter index, method name and placement, and the ability to record metadata.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Feb 08 2024 17:25:31 GMT-0800 (Pacific Standard Time)">01:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@anthonybullard:matrix.org">Anthony Bullard</span>&gt;</div></td><td class="msg-cell">Thanks for the response. I‚Äôll think about this. My initial thoughts are that syntactic constructs should meet an incredibly high bar for inclusion in a language. Basically they need to enable a new language construct that wasn‚Äôt possible without it</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Feb 08 2024 17:25:43 GMT-0800 (Pacific Standard Time)">01:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">There are a large number of examples on the explainer at <a href="https://github.com/tc39/proposal-class-method-parameter-decorators">https://github.com/tc39/proposal-class-method-parameter-decorators</a></td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Feb 08 2024 17:26:02 GMT-0800 (Pacific Standard Time)">01:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@anthonybullard:matrix.org">Anthony Bullard</span>&gt;</div></td><td class="msg-cell">That‚Äôs my personal opinion anyway</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Feb 08 2024 17:27:57 GMT-0800 (Pacific Standard Time)">01:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">Parameter decorators were added to TypeScript as a way to parallel what Java annotations or C# attributes can do, which is far more limited than a normal decorator. Even with that limitation, they saw a considerable amount of use in the TS ecosystem.</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Feb 08 2024 17:29:33 GMT-0800 (Pacific Standard Time)">01:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">A number of the nice-to-haves were based on feedback from the TS community over the years. We don't allow method replacement, so TS parameter decorators couldn't be used for parameter validation without pairing them with a method decorator.</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Feb 08 2024 17:32:12 GMT-0800 (Pacific Standard Time)">01:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">That was seen as a wart in the design, which prompted the proposed adoption of returning a callback that could intercept the bound argument.  That turns out to be a very powerful capability, but is perhaps a power we may not want to grant.</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Feb 08 2024 17:34:35 GMT-0800 (Pacific Standard Time)">01:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell">having to manually number a series of pseudo-parameter decorators that are far detached from the actual code they represent is extremely unergonomic. Having the runtime provide the parameter index for you, and keeping the declarations physically adjacent to the parameter improves readability and is extremely convenient for refactors.</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Feb 08 2024 18:02:23 GMT-0800 (Pacific Standard Time)">02:02</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@jschoi:matrix.org">jschoi</span>&gt;</div></td><td class="msg-cell"><p>Reading through this, I‚Äôm a little surprised that we‚Äôre considering making async iterables support unordered buffering. But it‚Äôs an exciting capability. It might be especially useful when combining WHATWG Streams.</p>
<p>I feel that the <em>default</em> behavior of AsyncIterators, including AsyncIterators created from arrays of promises, should wait for each promise sequentially, like how <code>for await</code> (and Array.fromAsync) already do. The contract of async iterators implies stable sequentiality to me. I don‚Äôt know how strongly I feel about this.</p>
<p>I think that using a Rust-like <code>bufferUnordered</code> method is a good idea. It would make developers <em>opt into</em> unordered buffering. (I also slightly prefer <code>bufferUnordered</code> to <code>buffered</code> to clearly indicate the lack of stable order.) I don‚Äôt know how I feel about <code>forEachConcurrent</code> and <code>findConcurrent</code>.</p>
<p>Would <code>bufferUnordered</code> return an AsyncIterator that is indistinguishable from other AsyncIterators? Or would it return a new async-iterable type, like Rust‚Äôs BufferUnordered class?</p>
</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Feb 08 2024 18:06:25 GMT-0800 (Pacific Standard Time)">02:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@rbuckton:matrix.org">rbuckton</span>&gt;</div></td><td class="msg-cell"><p>A quick note regarding reusing a punctuator in place of <code>void</code> for discards. There are very few of these that are viable due to compound assignment:</p>
<pre><code class="language-js">// these are all already legal:
using *= f();
using /= f();
using %= f();
using += f();
using -= f();
using &amp;= f();
using ^= f();
using |= f();
</code></pre>
</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Feb 08 2024 18:11:51 GMT-0800 (Pacific Standard Time)">02:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title="@nicolo-ribaudo:matrix.org">nicolo-ribaudo</span>&gt;</div></td><td class="msg-cell">Congrats to libjs for passing the most tests and being faster than V8/SM :)</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Feb 08 2024 18:19:57 GMT-0800 (Pacific Standard Time)">02:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@devsnek:matrix.org">snek</span>&gt;</div></td><td class="msg-cell">congrats to engine262 for being the slowest</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Feb 08 2024 18:31:35 GMT-0800 (Pacific Standard Time)">02:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@linusgroh:matrix.org">linusg</span>&gt;</div></td><td class="msg-cell">just talked to canadahonk about this, apparently some of the V8/SM experimental flags have changed so slightly inaccurate :P</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Feb 08 2024 18:33:33 GMT-0800 (Pacific Standard Time)">02:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@linusgroh:matrix.org">linusg</span>&gt;</div></td><td class="msg-cell">both rhino and nashorn take many hours to complete, check again in a few hours üòÖ</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Feb 08 2024 18:55:01 GMT-0800 (Pacific Standard Time)">02:55</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell"><p><span class="nick-2">jschoi</span>: re:</p>
<blockquote>
<p>I feel that the <em>default</em> behavior of AsyncIterators, including AsyncIterators created from arrays of promises, should wait for each promise sequentially</p>
</blockquote>
<p>So, an async iterator doesn't actually do anything itself. It doesn't really make sense to compare the behavior of async iterators to the behavior of <code>for await</code>, because the iterator doesn't have any behavior on its own (<code>buffer</code> excepted).</p>
<p>Instead of talking about the behavior of an async iterator itself, we can talk about the behavior observed by consumers of an async iterator. A consumer like <code>for await</code> will see the same thing in all worlds discussed here (unless one is using the new buffering helpers), because <code>for await</code> waits for each promise to settle before pulling the next one, and so could not possibly observe promises settling out of order. The "can things settle out of order" question does not affect such consumers at all.</p>
<p>If we allow settling out of order, that would only be observable to consumers which do multiple calls of <code>.next()</code>. There's nothing in the language that does that right now, but you could do it yourself, in principle. Or, as proposed, you could do it with <code>buffer</code> or <code>bufferUnordered</code> (which would do multiple calls to <code>.next()</code> under the hood). With <code>buffer</code>, if you pull from it the way <code>for await</code> does, you would never see things happening out of order. So the only places this "settling out of order" behavior would be observable would be when manually calling <code>.next()</code> multiple times, or when using <code>bufferUnordered</code>.</p>
<blockquote>
<p>Would <code>bufferUnordered</code> return an AsyncIterator that is indistinguishable from other AsyncIterators? Or would it return a new async-iterable type, like Rust‚Äôs BufferUnordered class?</p>
</blockquote>
<p>First thing. The return value of all helpers would just be instances of AsyncIteratorHelper.</p>
</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Feb 08 2024 19:04:24 GMT-0800 (Pacific Standard Time)">03:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@bakkot:matrix.org">bakkot</span>&gt;</div></td><td class="msg-cell">On the topic of parameter decorators, I wonder if other people have looked through the examples in the readme of the proposal, and if so what their reactions are: <a href="https://github.com/tc39/proposal-class-method-parameter-decorators#ecmascript">https://github.com/tc39/proposal-class-method-parameter-decorators#ecmascript</a></td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Thu Feb 08 2024 19:05:34 GMT-0800 (Pacific Standard Time)">03:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@rkirsling:matrix.org">rkirsling</span>&gt;</div></td><td class="msg-cell">it looks incredibly foreign to me</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Thu Feb 08 2024 19:09:03 GMT-0800 (Pacific Standard Time)">03:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@rkirsling:matrix.org">rkirsling</span>&gt;</div></td><td class="msg-cell">I have little experience with decorators in any language, but I'm at least used to the idea that they sit atop a method or function or whatever</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Thu Feb 08 2024 19:22:28 GMT-0800 (Pacific Standard Time)">03:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">Does eshost do as good a job as the engines‚Äô own test262 runners at filling in all of the hooks and such?</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Thu Feb 08 2024 19:36:31 GMT-0800 (Pacific Standard Time)">03:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@linusgroh:matrix.org">linusg</span>&gt;</div></td><td class="msg-cell">pretty much, yep!&nbsp;</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Thu Feb 08 2024 19:37:09 GMT-0800 (Pacific Standard Time)">03:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title="@jschoi:matrix.org">jschoi</span>&gt;</div></td><td class="msg-cell"><p>The framing here, from the perspective of the AsyncIterator consumer, makes sense. Promises‚Äô settling out of order is unobservable by default to ‚Äúhigher-level‚Äù consumers like <code>for await</code> or AsyncIterator methods (higher-level = ‚Äúdo not directly call <code>.next()</code>).</p>
<p>I think it‚Äôd be good to put something like the explanation here into your Gist or your future explainer.</p>
</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Thu Feb 08 2024 19:37:41 GMT-0800 (Pacific Standard Time)">03:37</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title="@linusgroh:matrix.org">linusg</span>&gt;</div></td><td class="msg-cell">the main advantage&nbsp;of writing a custom runner is that spawning 100k processes is slow (~50k tests each running in sloppy and strict mode)&nbsp;</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Fri Feb 09 2024 11:19:18 GMT-0800 (Pacific Standard Time)">19:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@devsnek:matrix.org">snek</span>&gt;</div></td><td class="msg-cell">it takes like 4 minutes to run engine262 on test262 with its runner, but eshost apparently takes 2 hours lol</td></tr>

</tbody></table></div></div></div>
</body></html>