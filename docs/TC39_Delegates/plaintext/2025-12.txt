2025-12-01
[01:01:24.0231] <Aki>
Happy Monday, delegates! Just a few days before the notes deadline. that means reviewing the transcript of what you said and editing for accuracy, making sure links to proposals and slides are present and accurate, and recording a summary of the presentation/conversation as well as any decisions the committee reached at the conclusion.


2025-12-03
[11:04:33.0531] <bakkot>
RCE in react server apparently arising from proto pollution

gotta start encouraging people to put `delete Object.prototype.__proto__` at the top of all their files I guess

[11:51:46.0623] <nicolo-ribaudo>
Gotta suggest a CSP to remove it, it's normative optional anyway 

[11:59:32.0009] <bakkot>
https://github.com/tc39/proposal-symbol-proto had something like that, although much more complex

[11:59:38.0328] <bakkot>
though in this case it was server-side

[12:00:17.0121] <bakkot>
(and node _does_ have `--disable-proto`, though no one uses it)

[12:07:17.0697] <Michael Ficarra>
If you could teach them to do this, you could teach them to not use objects as maps. Unfortunately, "we can teach them" as a strategy has never worked out once in my life.

[12:07:35.0842] <bakkot>
one of those things is a lot easier to teach!

[12:08:32.0274] <kriskowal>
yeah, and JSON makes a lie of ‚Äúdon‚Äôt use objects for maps‚Äù every time.

[12:17:04.0891] <ptomato>
so does the performance of using objects for maps

[12:54:20.0943] <Rob Palmer>
In the most recent meeting there was some advocacy for using objects as maps. Is this evidence against that? 

[12:56:23.0339] <bakkot>
if you're going to use an object as a map, you _must_ use `__proto__: null` when creating it, that's all

[12:56:55.0135] <bakkot>
the language does this, e.g. in RegExp groups or `groupBy`

[12:57:23.0154] <kriskowal>
However, JSON.parse, creator of many objects-as-maps, not so much.

[12:58:04.0227] <bakkot>
alas

[12:59:51.0270] <Rob Palmer>
Where is JSON.parse2

[14:19:39.0176] <Chris de Almeida>
seek the null prototype reviver 

[14:30:33.0896] <bakkot>
that reminds me, there was a suggestion at some point to add an option `proto` parameter to `Object.fromEntries`

[14:30:37.0171] <bakkot>
though possibly it should accept only the value `null`

[14:32:23.0475] <Michael Ficarra>
just prepend your entries with `["__proto__", null]` üòú

[14:34:08.0063] <bakkot>
ah yes, the bad old days of object initialization triggering setters from the prototype

[15:11:27.0563] <Michael Ficarra>
speaking of bad old days and object prototypes, does anyone else remember how in ES3 a named function expression (but not an anonymous function) would add an object with Object.prototype to the scope chain?

[15:12:39.0609] <Michael Ficarra>
* speaking of bad old days and object prototypes, does anyone else remember how in ES3 a named function expression (but not an anonymous function) would add an object with Object.prototype as its [[Prototype]] to the scope chain?

[15:13:33.0663] <Michael Ficarra>
at least one engine had actually implemented this literally (Opera I think?) and it was hilarious

