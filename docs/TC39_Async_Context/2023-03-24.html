<!DOCTYPE html><html><head>
  <title>TC39 Async Context on 2023-03-24</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "TC39 Async Context";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">TC39 Async Context<br>2023-03-24<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2023-03-23" class="nav-link"><span>prev</span></a>
<a href="2023-03-28" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search TC39 Async Context">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Mar 23 2023 17:30:16 GMT-0700 (Pacific Daylight Time)">00:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title="@ljharb:matrix.org">ljharb</span>&gt;</div></td><td class="msg-cell">sure. low bar, though.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Mar 23 2023 22:27:03 GMT-0700 (Pacific Daylight Time)">05:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">A lesson: donâ€™t talk about DI with respect to TC39 proposals</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Fri Mar 24 2023 15:54:27 GMT-0700 (Pacific Daylight Time)">22:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell"><p>Overall, really great job in the presentation, <span class="nick-1">Justin Ridgewell</span> and <span class="nick-7">Chengzhong Wu</span>! And great work supporting this proposal all around from everyone else. I think the next steps are:</p>
<ul>
<li>For next meeting, we should have a presentation which focuses on use cases, being both broad and concrete. Maybe <span class="nick-7">Chengzhong Wu</span> could give this talk, based on his past presentation. [If we make progress on any of the below items before next meeting, we could <em>briefly</em> explain that, but the focus would be the overall motivation, which we still haven't fully gotten across to the committee.]</li>
<li><span class="nick-7">Chengzhong Wu</span> will schedule a regular call to discuss this proposal and its evolution. (Should this be monthly? Biweekly?) We can check up on progress on various work items, and talk through what resolution we should take on the various items that Justin presented to the committee, and once we come to a resolution, assigning different spec-writing tasks to different people. This can also be where we dig into the "merging" idea that <span class="nick-15">Ben Newman (Apollo, @benjamn on GH)</span> and <span class="nick-2">Mathieu Hofman</span> have raised. Remember that, at Stage 2, it remains OK for us to land PRs without waiting for committee consensus.</li>
<li>On the host integration: Andreu, Yoav, ms2ger and Chengzhong to work on a draft "processing model" for HTML which explains how task attribution/AsyncContext works. This might involve iterating on the proposed layering, and might involve treating things like the incumbent Realm as analogous to an AsyncContext variable, etc. Several use cases (both the built-in cases that Yoav is looking at, and the JS-level AsyncContext cases that the rest of us here are thinking about) should be considered in terms of what "processing model" would work best.</li>
<li>Implementation: <span class="nick-4">Andreu Botella</span> and <span class="nick-7">Chengzhong Wu</span> to collaborate on an implementation in V8, potentially informed by pending feedback from <span class="nick-8">shu</span> about what performance concerns the V8 team might have. This process should start with a design doc to be reviewed in v8-dev, like all major V8 projects; the design doc should include the V8 API changes, which Yoav can review. Once this has a complete CL draft, they will work with <span class="nick-6">Yoav Weiss</span> to integrate it with TaskAttribution. It's currently unclear yet whether this will work with the existing TaskAttribution implementation or if significant changes are required; it might be at this point that we all realize that it'd be a lot easier to do this as a Web API, and change course. Maybe people could work on implementing this feature in a second browser as well, and/or test262+web-platform-test tests.</li>
</ul>
</td></tr>

</tbody></table></div></div></div>
</body></html>