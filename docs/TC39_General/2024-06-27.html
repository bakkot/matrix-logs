<!DOCTYPE html><html><head>
  <title>TC39 General on 2024-06-27</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "TC39 General";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">TC39 General<br>2024-06-27<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2024-06-26" class="nav-link"><span>prev</span></a>
<span style="float:right">next</span>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search TC39 General">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu Jun 27 2024 07:08:37 GMT-0700 (Pacific Daylight Time)">14:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@dalechyn:matrix.org">Vladyslav Dalechyn</span>&gt;</div></td><td class="msg-cell"><p>Hi folks! Great seeing TC39 being an open and collaborative space!<br>I joined here to express the problems and possible solutions over JSON serialization when it comes to <code>BigInt</code> type.</p>
<p>I originally come from Web3 where we are dealing with <code>uint256</code> – 32byte unsigned integer values and folks from Web3 space used to align on third party libraries to support numbers that big (<a href="https://github.com/GoogleChromeLabs/jsbi">https://github.com/GoogleChromeLabs/jsbi</a>) until the official support for <code>BigInt</code>s came live in 2020!<br>There have been many editions of ECMA-262 published since 1999, and to my belief it needs an upgrade to handle <code>BigInt</code> types.</p>
<p>I will be honest I did not spend that much time to research the efforts of handling such but I've seen many discussions evolving around somehow "smartly" detecting wether a number value should be parsed as a <code>BigInt</code> or <code>Number</code>. I don't believe that those are correct nor backwards compatible.</p>
<p>What if JSON as a whole could retrieve an upgrade to support BigInt literals ending with "n", as it does now in JS?</p>
<pre><code class="language-json">{
  "value": 1337n
}
</code></pre>
<p>I'd like to hear your thoughts wether you think if this possible and if so, what kind of backwards incompatibility issues this might have!<br>Regarding the latter I don't think this will introduce any issues as this addition doesn't change the serialization behavior of fields of other types – but instead introduces a new one.<br>I understand that making an addition like this is gonna introduce chain of changes of parsing JSON in different programming languages, but I believe this needs a review.</p>
</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu Jun 27 2024 07:11:35 GMT-0700 (Pacific Daylight Time)">14:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title="@michaelficarra:matrix.org">Michael Ficarra</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <p>Hi folks! Great seeing TC39 being an open and collaborative space!<br>I joined here to express the problems and possible solutions over JSON serialization when it comes to <code>BigInt</code> type.</p>
<p>I originally come from Web3 where we are dealing with <code>uint256</code> – 32byte unsigned integer values and folks from Web3 space used to align on third party libraries to support numbers that big (<a href="https://github.com/GoogleChromeLabs/jsbi">https://github.com/GoogleChromeLabs/jsbi</a>) until the official support for <code>BigInt</code>s came live in 2020!<br>There have been many editions of ECMA-262 published since 1999, and to my belief it needs an upgrade to handle <code>BigInt</code> types.</p>
<p>I will be honest I did not spend that much time to research the efforts of handling such but I've seen many discussions evolving around somehow "smartly" detecting wether a number value should be parsed as a <code>BigInt</code> or <code>Number</code>. I don't believe that those are correct nor backwards compatible.</p>
<p>What if JSON as a whole could retrieve an upgrade to support BigInt literals ending with "n", as it does now in JS?</p>
<pre><code class="language-json">{
  "value": 1337n
}
</code></pre>
<p>I'd like to hear your thoughts wether you think if this possible and if so, what kind of backwards incompatibility issues this might have!<br>Regarding the latter I don't think this will introduce any issues as this addition doesn't change the serialization behavior of fields of other types – but instead introduces a new one.<br>I understand that making an addition like this is gonna introduce chain of changes of parsing JSON in different programming languages, but I believe this needs a review.</p>
</blockquote></mx-reply><a href="https://github.com/tc39/faq#can-we-change-json">https://github.com/tc39/faq#can-we-change-json</a></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Jun 27 2024 07:27:32 GMT-0700 (Pacific Daylight Time)">14:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-5" title="@dalechyn:matrix.org">Vladyslav Dalechyn</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> <a href="https://github.com/tc39/faq#can-we-change-json">https://github.com/tc39/faq#can-we-change-json</a></blockquote></mx-reply><p>Hi! Thank you for referencing this FAQ.</p>
<p>Can you please explain how adding a fully backwards-compatible feature that adds a new JSON field type can break computing environments?<br>Can other environments just follow up and add support for BigInts (or similar) too?<br>I can feel this can become a "temporary" blocker for some environments. – consider C++ environment exchanging JSONs with Rust environment where one supports bigints and the other doesn't. However if the other one controls the process of building such JSONs, it most likely won't send unsupported bigint fields.</p>
</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Jun 27 2024 07:38:37 GMT-0700 (Pacific Daylight Time)">14:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">Honestly we should expand on this FAQ a bit. It reads a bit flippant right now. And I hear this is coming up in an IETF RFC.</td></tr>

</tbody></table></div></div></div>
</body></html>