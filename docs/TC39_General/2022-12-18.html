<!DOCTYPE html><html><head>
  <title>TC39 General on 2022-12-18</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "TC39 General";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">TC39 General<br>2022-12-18<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2022-12-17" class="nav-link"><span>prev</span></a>
<a href="2022-12-19" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>

<input type="text" id="query" size="25" placeholder="Search TC39 General">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sat Dec 17 2022 21:39:36 GMT-0800 (Pacific Standard Time)">05:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title="@gibson042:matrix.org">Richard Gibson</span>&gt;</div></td><td class="msg-cell">I'm assuming you're referring to duplicating <em>subtags</em> (cf. <a href="https://www.rfc-editor.org/rfc/rfc5646.html#section-2.1">RFC 5646 § 2.1</a>), in which case the answer is "it depends". Duplication never violates <em>syntactic</em> well-formedness, but duplicate <strong>language variant</strong> subtags and duplicate <strong>singleton</strong> subtags are always rejected per <a href="https://tc39.es/ecma402/#sec-isstructurallyvalidlanguagetag">IsStructurallyValidLanguageTag</a> and UTS #35 <a href="https://unicode.org/reports/tr35/#Unicode_locale_identifier">§ 3.2</a> and <a href="https://unicode.org/reports/tr35/#unicode_variant_subtag_validity">§ 3.4</a>. Duplicate UTS #35 "u" extension attribute and keyword subtags are permitted by ECMA-402, but <a href="https://tc39.es/ecma402/#sec-unicode-extension-components">UnicodeExtensionComponents</a> ensures that only the first instance of any given attribute or keyword key in a locale identifier is preserved.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sat Dec 17 2022 21:41:24 GMT-0800 (Pacific Standard Time)">05:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@devsnek:matrix.org">snek</span>&gt;</div></td><td class="msg-cell">interesting </td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sat Dec 17 2022 21:41:54 GMT-0800 (Pacific Standard Time)">05:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@devsnek:matrix.org">snek</span>&gt;</div></td><td class="msg-cell">so an engine shouldn't throw on something like `en-US-u-hc-h23-hc-h11`</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Sat Dec 17 2022 21:42:13 GMT-0800 (Pacific Standard Time)">05:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-7" title="@devsnek:matrix.org">snek</span>&gt;</div></td><td class="msg-cell">it should just consider it as if the 2nd one doesn't exist </td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Sat Dec 17 2022 23:16:21 GMT-0800 (Pacific Standard Time)">07:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@sirisian:matrix.org">sirisian</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> The awkwardness is why <a href="https://github.com/tc39/proposal-decorator-metadata">https://github.com/tc39/proposal-decorator-metadata</a> exists</blockquote></mx-reply>Oh so that's where metadata went. That doesn't even give you a reference to the class. They just have a metdataKey. Strange.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Sat Dec 17 2022 23:28:14 GMT-0800 (Pacific Standard Time)">07:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell"><mx-reply><blockquote> Oh so that's where metadata went. That doesn't even give you a reference to the class. They just have a metdataKey. Strange.</blockquote></mx-reply>Yes this limitation is very much the point. Would it hurt your application?</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Sat Dec 17 2022 23:29:48 GMT-0800 (Pacific Standard Time)">07:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@sirisian:matrix.org">sirisian</span>&gt;</div></td><td class="msg-cell">No, the metadataKey is sufficient for serialization tasks, which are the use cases I've been looking at.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Sat Dec 17 2022 23:33:14 GMT-0800 (Pacific Standard Time)">07:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">It might help the proposal authors advance if you document your use case, eg in an issue</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Sat Dec 17 2022 23:34:12 GMT-0800 (Pacific Standard Time)">07:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@sirisian:matrix.org">sirisian</span>&gt;</div></td><td class="msg-cell">I've been writing examples introducing template generics though, and having access to the class is useful. Was hoping that proposal would give me ideas. Sadly C++ doesn't have such concepts either.</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Sat Dec 17 2022 23:36:36 GMT-0800 (Pacific Standard Time)">07:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-10" title="@littledan:matrix.org">littledan</span>&gt;</div></td><td class="msg-cell">One reason the class is hidden is because, if it were exposed, you would be seeing a partially initialized class, and the engine would be forced to be modifying it step by step as opposed to building it based on the result of that operation. ES6 computed property names don’t see the class either, similarly.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Sat Dec 17 2022 23:39:17 GMT-0800 (Pacific Standard Time)">07:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@sirisian:matrix.org">sirisian</span>&gt;</div></td><td class="msg-cell">Not sure I fully understand. What happens if you call a static function in the class in the decorator? Does it not exist?</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Sat Dec 17 2022 23:44:34 GMT-0800 (Pacific Standard Time)">07:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title="@sirisian:matrix.org">sirisian</span>&gt;</div></td><td class="msg-cell">It does make sense for the computed property. I get that one. I never considered when decorators run. I thought it was like after the properties were defined.</td></tr>

</tbody></table></div></div></div>
</body></html>