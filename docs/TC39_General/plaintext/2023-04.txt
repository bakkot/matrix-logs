2023-04-01
[19:11:30.0014] <Justin Ridgewell>
https://web.archive.org/web/20160328225427/wiki.ecmascript.org/doku.php?id=strawman:catch_guards

[19:12:25.0549] <Justin Ridgewell>
If non match, it rethrows

[19:12:31.0467] <Justin Ridgewell>
 * If none match, it rethrows

[23:11:52.0670] <ljharb>
i can't imagine it working any other way

[09:52:27.0609] <littledan>
‚ÄúRethrows‚Äù sometimes could act differently from ‚Äúdoesn‚Äôt catch‚Äù with respect to things like dev tools (with the latter being more useful). This is actually a potential advantage of a built in catch guard construct, but could also add significant implementation complexity 

[09:53:25.0478] <littledan>
(The complexity comes when you need to evaluate JS to determine whether the guard hits, but then go back and ‚Äúdon‚Äôt catch‚Äù as if that didn‚Äôt happen)

[13:40:36.0449] <ljharb>
oh true, good point. in that case i'd expect it to mean "doesn't catch", but the desugaring would be basically rethrowing

[13:40:57.0827] <ljharb>
to runtime JS i don't think there'd be a difference, only to dev tools/engines?

[13:45:19.0002] <littledan>
Right


2023-04-04
[04:18:53.0999] <nicolo-ribaudo>
What does `MV` stand for in https://tc39.es/ecma262/#sec-string-literals-static-semantics-mv? _M-escape Value_?

[04:18:59.0464] <nicolo-ribaudo>
 * What does `MV` stand for in https://tc39.es/ecma262/#sec-string-literals-static-semantics-mv? _Mescape Value_?

[04:22:19.0059] <Andreu Botella>
I think mathematical value? It's computing the escape code point number

[04:38:46.0701] <nicolo-ribaudo>
Ohh it makes sense, probably

[05:28:52.0731] <jmdyck>
The spec used to have phrasing like "are interpreted as having a mathematical value (MV), as described below" until PR #2451 was merged.

[05:30:41.0448] <littledan>
maybe it'd be helpful to expand this acronym in an editorial PR?

[05:30:47.0170] <littledan>
(^ good first PR?)

[05:34:36.0485] <jmdyck>
Do you mean add a sentence that gives the expansion, or change the SDO name to something longer?

[05:35:19.0489] <littledan>
change the SDO name to something longer

[05:35:46.0367] <littledan>
(more sentences of explanation are good too but I was suggesting the latter)

[05:47:40.0679] <jmdyck>
One wrinkle is that if you simply expand "MV" to "MathematicalValue", then you have 2 terms ("MathematicalValue" and "mathematical value") which denote distinct ideas, but only differ by capitalization+spacing, which is probably not good. (Which was sort of the point of #2451, but from a different angle.)

[05:48:30.0081] <jmdyck>
So if we did rename the SDO, an appropriate name might be something like NumericLiteralValue.

[05:54:10.0956] <jmdyck>
Similarly, SV -> StringLiteralValue, TV -> TemplateLiteralValue, TRV -> TemplateLiteralRawValue ? I don't know, I think I prefer the current names.

[05:55:43.0111] <jmdyck>
But I agree that some kind of clarification would be good.


2023-04-07
[13:34:48.0262] <TabAtkins>
Anyone have a pointer to some place where "bindings in `if()` heads" was discussed in the past?

[13:39:16.0568] <littledan>
that would've been during ES6 when `let` was being decided on... not sure where/whether that's reflected in the notes. I'd ask dherman

[13:43:09.0871] <bakkot>
there was a proposal for it later

[13:43:13.0975] <shu>
keith miller has wanted to add that in the past

[13:43:26.0287] <shu>
yes, that must be what i'm thinking of

[13:43:52.0317] <bakkot>
https://github.com/tc39/proposal-Declarations-in-Conditionals

[13:43:59.0506] <bakkot>
https://github.com/tc39/notes/blob/HEAD/meetings/2019-10/october-2.md#declarations-in-conditionals

[13:58:00.0442] <jmdyck>
It's been 2 weeks since the TC39 meeting; time for notes to be published?

[14:01:55.0602] <Chris de Almeida>
> <@jmdyck:matrix.org> It's been 2 weeks since the TC39 meeting; time for notes to be published?

today is the day

[14:14:21.0376] <TabAtkins>
bakkot: Ah, thanks!


2023-04-08
[01:50:44.0832] <Ashley Claymore>
https://github.com/tc39/notes/pull/241 - one day delayed (I was visiting family yesterday and got back later than planned)


2023-04-09
[16:19:31.0363] <Guilherme Eidt>
Boa noite 

[16:20:01.0342] <Guilherme Eidt>
Voc√™: Algu√©m poderia me ajudar?

Voc√™: Invadiram minhas contas de Gmail e Hotmail e trocaram a senha e telefone de login üòî

Voc√™: Posso comprovar minha identidade 

[16:22:11.0784] <Guilherme Eidt>
 Could someone help me? 
 They broke into my Gmail and Hotmail accounts and changed the password and login phone üòî I can prove my identity


2023-04-10
[19:06:13.0623] <Guilherme Eidt>
Can someone help me there, guys?

[19:33:05.0640] <jmdyck>
I doubt anyone here can help you.


2023-04-11
[07:18:25.0117] <littledan>
In the TC39 Tools outreach call, we're looking into improvements to source maps. Maybe they should eventually be standardized in TC39? We're discussing this in #source-maps:matrix.org and collaborating in GItHub, e.g., some initial shared goals are at https://github.com/source-map/source-map-rfc/issues/22 . Please join us if you're interested!

[13:16:03.0391] <Michael Ficarra>
Can't TC39 only work on Ecma documents? Are you suggesting that Ecma should adopt the source map spec?

[13:18:12.0581] <littledan>
Yes

[13:18:35.0886] <littledan>
This is the question I would like input on: Should TC39 and therefore obviously Ecma take on this sort of work?

[13:20:14.0151] <littledan>
I think TC39 is a good place because we assemble a lot of relevant stakeholders, and because we have good IPR protections. But if the committee says no, there are lots of other possible paths.

[13:20:39.0385] <littledan>
I imagine source maps would be a separate document though 

[13:41:55.0579] <bakkot>
I tend to see the formal standards process as something to be adopted only as a last resort if necessary to allow companies to coordinate on tasks that might have IP or antitrust implications. If the potential contributors / users of a spec are able to cooperate without needing the aegis of an actual standards body that's going to be better.

[13:42:30.0333] <bakkot>
For source maps, is there a concern about IP/antitrust?

[13:48:10.0339] <Chris de Almeida>
there are always concerns about IP/antitrust

[13:48:33.0020] <littledan>
I think it is reasonable to be concerned about IP for all sorts of technical artifacts like this. (I have no understanding of what antitrust is supposed to mean in a standards universe where WHATWG is apparently kosher.)

The community shares an interest in having a solid written description, test cases, and process for continuing changes. I think TC39, or likely a TG4 of it, would provide a good context for this. If TC39 says no, I would encourage the community to start in WICG and then figuring out details later.

[13:49:26.0600] <Chris de Almeida>
and _not_ having it under the auspices of a standards body can make it difficult or impossible for employees of large companies to contribute

[13:50:12.0527] <littledan>
It is a common pattern in the web world to initially not bother with standards and then realize they are essential, see console, WebDriver, WebExtensions, ‚Ä¶

[13:51:40.0153] <littledan>
We live in a world of social constructs where the perceived legitimacy of a standards context acts as a culturally defined glue that encourages everyone to cooperate. TC39 can decide whether to invest its legitimacy in this project.

[15:24:22.0819] <Michael Ficarra>
who currently owns the IP for the source maps spec? Mozilla?

[15:24:28.0975] <Michael Ficarra>
they would have to assign it to Ecma, right?

[15:28:31.0568] <littledan>
License, not assign

[15:28:54.0530] <Michael Ficarra>
sure

[15:28:57.0695] <Michael Ficarra>
but is it Mozilla?

[15:29:05.0958] <littledan>
This is an advantage of working within an established standards organization that everyone who owns the relevant IP is already part of

[15:29:24.0899] <littledan>
I think Google would have more of a claim to the current version but I would need to check

[15:31:03.0642] <Michael Ficarra>
does Ecma have experience adopting existing works with mixed provenance? I would assume so

[15:31:27.0069] <littledan>
Well‚Ä¶ JS is one of those things

[15:32:06.0046] <littledan>
But apart from that, if the IP is owned by member companies, the act of standardizing it will cause the licenses to trigger

[15:35:10.0924] <littledan>
So far, I haven‚Äôt seen Ecma support TC39 with IPR infrastructure the way the W3C has. They sort of defer to us there. So I don‚Äôt think we will find pushback on the Ecma side, but I can float this at the upcoming ExeCom meeting to ferret out concerns if you think that it‚Äôs a good idea (arguably that would be out of order though; I was planning to raise it to committee first)

[16:03:49.0536] <Michael Ficarra>
I think it's pretty appropriate for TC39 to adopt it, considering the cross-cutting concerns

[16:04:06.0414] <Michael Ficarra>
so I personally would support it

[16:04:20.0225] <littledan>
It is important that source maps stay multilingual, but they are likely to grow some more JS-specific features

[16:04:37.0903] <littledan>
or at least make design decisions informed by JS, for sure

[16:05:25.0271] <Michael Ficarra>
yes, we have an interest in ensuring that they remain a good fit for JS and JS developers' needs

[16:05:39.0521] <littledan>
Some parts may have web tie-ins too, e.g., one of the problems with source maps is that it's ambiguous how the url is interpreted.


2023-04-12
[07:22:50.0964] <shu>
does anyone know of npm packages / libraries that depend on the non-standard `.stack`?

[07:31:12.0573] <Luca Casonato>
> <@shuyuguo:matrix.org> does anyone know of npm packages / libraries that depend on the non-standard `.stack`?

https://www.npmjs.com/package/get-caller-file

[07:33:16.0172] <Luca Casonato>
It also depends on v8 specific Error APIs

[07:33:35.0228] <nicolo-ribaudo>
Babel does some stack trace manipulation to show both plugin files and the code that originally called Babel

[07:35:24.0834] <Luca Casonato>
(It also uses prepareStackTrace)

[07:37:15.0861] <shu>
thanks luca and nicolo

[07:37:32.0659] <shu>
the context here is we're going to make it an accessor property instead of a data property because that's the right thing to do

[07:37:45.0200] <shu>
hopefully we don't break too anything but now i need to read these packages

[07:38:40.0740] <nicolo-ribaudo>
(we not only use `.stack`, but also do very bad things like relying on `.prepareStackTrace`)

[07:38:52.0216] <nicolo-ribaudo>
> <@shuyuguo:matrix.org> the context here is we're going to make it an accessor property instead of a data property because that's the right thing to do

It won't break Babel

[07:38:56.0662] <Luca Casonato>
Some of our enterprise customers also make use of Error.stack in various ways

[07:39:51.0471] <nicolo-ribaudo>
> <@nicolo-ribaudo:matrix.org> It won't break Babel

Oh actually, we do reassign `.stack`, so if it's only a getter it might throw on assignment

[07:40:09.0110] <Luca Casonato>
I‚Äôll check with our customers whether this will break them

[07:41:11.0437] <shu>
so, currently it's not a _real_ data property. it appears as one but it as C++ getter and setter

[07:41:19.0918] <shu>
we want to change it to an accessor property, it'll have the same getter and setter

[07:41:25.0845] <shu>
assignment should still work

[07:41:36.0788] <shu>
what'll break is stuff like `getOwnPropertyDescriptor` and depending on its being a data property

[07:41:44.0129] <shu>
> <@lucacasonato:matrix.org> I‚Äôll check with our customers whether this will break them

thanks!

[07:41:58.0266] <shu>
 * so, currently it's not a _real_ data property. it appears as one but it has C++ getter and setter

[07:42:18.0495] <littledan>
I like this change. I'll note that I previously changed some random Intl/Promise stuff into getters/setters when trying to deprecate them, and it didn't seem to break anything. But each case is random and different.

[07:42:47.0811] <shu>
yeah

[08:50:34.0784] <ljharb>
that's amazing, thank you - it will dramatically reduce the web reality that the stack proposal has to account for

[09:02:22.0255] <shu>
fingers crossed on no breakages

[09:16:33.0084] <Luca Casonato>
> <@shuyuguo:matrix.org> thanks!

Yeah, no breakages for the customer I was concerned about. üëç from me 

