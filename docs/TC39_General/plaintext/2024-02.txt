2024-02-01
[14:55:10.0151] <snek>
idea that popped into my head a few minutes ago while looking at some debugging tooling that someone made... what if you could attach metadata to stack traces to identify specific function invocations?
for example lets say you have something like an event emitter, you could do something like
```js
class Emitter {
  emit(name, data) {
    System.setStackMetadata(name);
    // ...
  }
}
```
and then in a stack trace, it would be identified as `emit (event name)` instead of just `emit`


[14:58:11.0346] <Chris de Almeida>
/me cries in stalled `error stacks` proposal

[15:04:06.0792] <Ashley Claymore>
> <@devsnek:matrix.org> idea that popped into my head a few minutes ago while looking at some debugging tooling that someone made... what if you could attach metadata to stack traces to identify specific function invocations?
> for example lets say you have something like an event emitter, you could do something like
> ```js
> class Emitter {
>   emit(name, data) {
>     System.setStackMetadata(name);
>     // ...
>   }
> }
> ```
> and then in a stack trace, it would be identified as `emit (event name)` instead of just `emit`
> 

I've wanted that for some stuff too!

[15:04:21.0246] <snek>
error stacks proposal would be nice

[15:04:32.0053] <snek>
ljharb: what was the holdup on that

[15:07:43.0003] <Chris de Almeida>
> <@devsnek:matrix.org> ljharb: what was the holdup on that

I think web platform folks asked for the ocean to be boiled


2024-02-02
[16:29:01.0893] <ljharb>
i wanted to specify just the format, and leave the contents for a follow-on, and i was blocked until i can specify the contents too

[16:50:20.0313] <snek>
> <@ljharb:matrix.org> i wanted to specify just the format, and leave the contents for a follow-on, and i was blocked until i can specify the contents too

the contents as in the stringification?

[16:50:36.0460] <snek>
isn't the point of the proposal to provide structured data so that stringification doesn't need to be relied on ðŸ¤”

[17:08:43.0825] <ljharb>
yes.

[17:09:14.0575] <ljharb>
as in the exact wording of the stack trace. Which i guess would have to be in English despite the spec not specifying prose messaging.

[17:09:56.0215] <ljharb>
it certainly felt unreasonable and demotivating :-) . if folks feel like i could still come back and specify structure only, then Iâ€™d be happy to do that.

[17:15:25.0656] <ljharb>
* it certainly _felt_ unreasonable and demotivating :-) . if folks feel like i could still come back and specify structure only, then Iâ€™d be happy to do that.

