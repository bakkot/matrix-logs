2024-08-02
[15:51:39.0997] <Andreu Botella>
Hey, I just noticed that the spec text for resizable ArrayBuffers defines a host hook that defaults to *not* resizing the buffer, and the HTML spec was not updated to include an implementation

[15:52:04.0640] <Andreu Botella>
there was a PR to the HTML spec, but that only changed the structured cloning algorithm

[15:52:22.0347] <Andreu Botella>
I assume this is not intentional?


2024-08-03
[19:42:38.0613] <shu>
> <@abotella:igalia.com> Hey, I just noticed that the spec text for resizable ArrayBuffers defines a host hook that defaults to *not* resizing the buffer, and the HTML spec was not updated to include an implementation

you're talking about https://tc39.es/ecma262/#sec-hostresizearraybuffer? that's a hook for the host to override the default behavior that's defined in ecma262

[19:43:08.0316] <shu>
the main practical reason it exists is for wasm to throw when you try to resize wasm memories using values that are not multiples of the wasm page size

[19:43:20.0038] <shu>
unless a host has special resize behavior like that, the default implementation is the right one

[19:44:17.0015] <Andreu Botella>
oh, that's right, I definitely should've checked its caller more closely ðŸ¤¦

