<!doctype html>
<head>
  <title>#whatwg on 2018-08-21</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2018-08-21<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2018-08-20" class="nav-link"><span>prev</span></a>
<a href="2018-08-22" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Aug 20 2018 23:35:22 GMT-0700 (Pacific Daylight Time)">06:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=cluelessperson@irc>cluelessperson</span>&gt;</td><td class="msg-cell">I want to help, not sure I have the skills to</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Aug 21 2018 00:05:57 GMT-0700 (Pacific Daylight Time)">07:05</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">cluelessperson: welcome, did you look at good first issues on GitHub?</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Aug 21 2018 00:37:30 GMT-0700 (Pacific Daylight Time)">07:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=cluelessperson@irc>cluelessperson</span>&gt;</td><td class="msg-cell">annevk: will o</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Aug 21 2018 00:37:33 GMT-0700 (Pacific Daylight Time)">07:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=cluelessperson@irc>cluelessperson</span>&gt;</td><td class="msg-cell">do</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Aug 21 2018 01:41:11 GMT-0700 (Pacific Daylight Time)">08:41</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: regarding <a href="https://github.com/whatwg/fetch/pull/773#discussion_r209604056">https://github.com/whatwg/fetch/pull/773#discussion_r209604056</a> what&#039;s the best way to tackle the &quot;code smell&quot; part? should I create a separate definition of &quot;same origin request&quot; and make sure that all places use that instead of defining the algorithm on their own?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Aug 21 2018 01:41:21 GMT-0700 (Pacific Daylight Time)">08:41</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">if so, should that be part of that PR or a separate one?</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Aug 21 2018 01:42:10 GMT-0700 (Pacific Daylight Time)">08:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: it depends on what kind of check we really want there</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Aug 21 2018 01:42:21 GMT-0700 (Pacific Daylight Time)">08:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: and whether a cross-origin request inbetween &quot;poisons&quot; it somehow</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Aug 21 2018 01:42:48 GMT-0700 (Pacific Daylight Time)">08:42</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">I don&#039;t *think* it does</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Aug 21 2018 01:43:10 GMT-0700 (Pacific Daylight Time)">08:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: that does allow for some attacks</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Aug 21 2018 01:43:17 GMT-0700 (Pacific Daylight Time)">08:43</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">we want to control info leakage on requests and make sure that there isn&#039;t one unless the site opts-in to one</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Aug 21 2018 01:43:38 GMT-0700 (Pacific Daylight Time)">08:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: in any event, since this is processing on the response it&#039;d make more sense for it to rely on the existing response filtering setup</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Aug 21 2018 01:46:24 GMT-0700 (Pacific Daylight Time)">08:46</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">what do you mean &quot;processing on the response&quot;? We&#039;re talking about <a href="https://whatpr.org/fetch/773.html#concept-fetch">https://whatpr.org/fetch/773.html#concept-fetch</a> step 1.8, right?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Aug 21 2018 01:50:42 GMT-0700 (Pacific Daylight Time)">08:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: oh hmm, so another problem with that is that we don&#039;t run those steps for redirects</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Aug 21 2018 01:51:35 GMT-0700 (Pacific Daylight Time)">08:51</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: these steps are only run once for the entire fetch operation</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Aug 21 2018 01:51:50 GMT-0700 (Pacific Daylight Time)">08:51</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">so redirects won&#039;t get CH? That could be a problem...</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Aug 21 2018 01:52:29 GMT-0700 (Pacific Daylight Time)">08:52</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: no, they retain the initial CH, even cross-origin (though depends a bit on safelists and such)</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Aug 21 2018 01:52:49 GMT-0700 (Pacific Daylight Time)">08:52</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Aug 21 2018 01:53:02 GMT-0700 (Pacific Daylight Time)">08:53</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">And yeah, that&#039;ll be a problem for no-cors cross-origin at least, esp with service workers and the new restrictions on Headers</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Aug 21 2018 01:53:31 GMT-0700 (Pacific Daylight Time)">08:53</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: so if there&#039;s origin restrictions I guess we need to redo the whole setup of this</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Aug 21 2018 01:53:34 GMT-0700 (Pacific Daylight Time)">08:53</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">that *might* be fine from a privacy perspective (maybe a redirect would be considered an opt-in), but need to verify that it is</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Aug 21 2018 01:54:16 GMT-0700 (Pacific Daylight Time)">08:54</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">Is there somewhere else where that logic can hang from that can handle redirects?</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue Aug 21 2018 01:54:16 GMT-0700 (Pacific Daylight Time)">08:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I don&#039;t think so, given open redirectors and such</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Tue Aug 21 2018 01:54:25 GMT-0700 (Pacific Daylight Time)">08:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: main fetch</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Tue Aug 21 2018 01:54:51 GMT-0700 (Pacific Daylight Time)">08:54</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">ok, I&#039;ll take a look</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Tue Aug 21 2018 01:55:02 GMT-0700 (Pacific Daylight Time)">08:55</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: though maybe it needs to be even deeper in the stack, near HTTP-network fetch, if it depends on the origin whether or not we&#039;ll include the headers</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Tue Aug 21 2018 02:02:23 GMT-0700 (Pacific Daylight Time)">09:02</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I&#039;m surprised by this github/fetch issue about making setting URL&#039;s query easier having lots of interaction and then nobody escalating that to whatwg/fetch over the past two years to suggest that maybe something should change...</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Tue Aug 21 2018 02:07:40 GMT-0700 (Pacific Daylight Time)">09:07</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: what do you mean by &quot;depends on the origin&quot;? It depends on the origin&#039;s opt-in</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Tue Aug 21 2018 02:08:01 GMT-0700 (Pacific Daylight Time)">09:08</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">should the request client-hints set cloning also move somewhere further down?</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Tue Aug 21 2018 02:08:48 GMT-0700 (Pacific Daylight Time)">09:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: for the second question, I don&#039;t think so, the global won&#039;t change</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Tue Aug 21 2018 02:09:16 GMT-0700 (Pacific Daylight Time)">09:09</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Tue Aug 21 2018 02:10:04 GMT-0700 (Pacific Daylight Time)">09:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: hmm, with navigation redirects they might, I suppose;</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Tue Aug 21 2018 02:10:27 GMT-0700 (Pacific Daylight Time)">09:10</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">well, no</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Tue Aug 21 2018 02:12:28 GMT-0700 (Pacific Daylight Time)">09:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">looking at main fetch, would an extra step on step 2 work for this?</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Tue Aug 21 2018 02:14:11 GMT-0700 (Pacific Daylight Time)">09:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: yeah, I guess that&#039;s where it should go if it needs to affect the request</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Tue Aug 21 2018 02:14:28 GMT-0700 (Pacific Daylight Time)">09:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">(and each subsequent request in case of redirects)</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Tue Aug 21 2018 02:15:31 GMT-0700 (Pacific Daylight Time)">09:15</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: and regarding the same origin check, should I keep the current language and then clean up to have a single definition somewhere?</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Tue Aug 21 2018 02:15:44 GMT-0700 (Pacific Daylight Time)">09:15</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">or clean up before this lands?</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Tue Aug 21 2018 02:16:56 GMT-0700 (Pacific Daylight Time)">09:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: so wait, I&#039;m not sure if main fetch step 2 is the place</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Tue Aug 21 2018 02:17:04 GMT-0700 (Pacific Daylight Time)">09:17</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Tue Aug 21 2018 02:17:11 GMT-0700 (Pacific Daylight Time)">09:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: it really depends on the behavior you want in the face of redirects</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Tue Aug 21 2018 02:17:16 GMT-0700 (Pacific Daylight Time)">09:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: and you haven&#039;t clarified that yet</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Tue Aug 21 2018 02:17:39 GMT-0700 (Pacific Daylight Time)">09:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: it sounds like it vary on a per-origin basis what headers end up being included?</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Tue Aug 21 2018 02:17:44 GMT-0700 (Pacific Daylight Time)">09:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">can vary*</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Tue Aug 21 2018 02:17:52 GMT-0700 (Pacific Daylight Time)">09:17</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">yeah, it can</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Tue Aug 21 2018 02:18:04 GMT-0700 (Pacific Daylight Time)">09:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">okay, so then headers need to be added at the last possible moment</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Tue Aug 21 2018 02:18:21 GMT-0700 (Pacific Daylight Time)">09:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">because the request, including headers, gets cloned</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Tue Aug 21 2018 02:18:44 GMT-0700 (Pacific Daylight Time)">09:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">however, that&#039;ll also affect what the service worker sees</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Tue Aug 21 2018 02:19:05 GMT-0700 (Pacific Daylight Time)">09:19</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Tue Aug 21 2018 02:19:48 GMT-0700 (Pacific Daylight Time)">09:19</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">so ideally, I want cross-origin redirects to not get CH headers</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Tue Aug 21 2018 02:20:07 GMT-0700 (Pacific Daylight Time)">09:20</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">but I do want SW to see the headers (and potentially change behavior based on them)</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Tue Aug 21 2018 02:20:32 GMT-0700 (Pacific Daylight Time)">09:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">that combination means you&#039;d have to remove headers, which is something we managed to avoid having to do thus far</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Tue Aug 21 2018 02:20:46 GMT-0700 (Pacific Daylight Time)">09:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">though we will be adding it for POST -&gt; GET redirects</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Tue Aug 21 2018 02:21:26 GMT-0700 (Pacific Daylight Time)">09:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">it also makes it hard to distinguish between user-set and UA-set headers, but I think CH already had that problem</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Tue Aug 21 2018 02:21:49 GMT-0700 (Pacific Daylight Time)">09:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">(I&#039;m not sure the current text accounts for it much)</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Tue Aug 21 2018 02:22:02 GMT-0700 (Pacific Daylight Time)">09:22</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">it does not</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Tue Aug 21 2018 02:22:13 GMT-0700 (Pacific Daylight Time)">09:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">e.g., one problem here is that if you decide to remove CH headers, you&#039;ll also remove user-set CH headers</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Tue Aug 21 2018 02:22:37 GMT-0700 (Pacific Daylight Time)">09:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">users might expect those headers to survive their cross-origin redirect though, assuming appropriate CORS opt ins along the way</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Tue Aug 21 2018 02:22:46 GMT-0700 (Pacific Daylight Time)">09:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">but this would make that impossible</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Tue Aug 21 2018 02:22:47 GMT-0700 (Pacific Daylight Time)">09:22</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">yeah...</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Tue Aug 21 2018 02:22:56 GMT-0700 (Pacific Daylight Time)">09:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">so you gotta figure that out</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Tue Aug 21 2018 02:24:14 GMT-0700 (Pacific Daylight Time)">09:24</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: is there a subset we can land right now and start a separate discussion for the redirection/SW handling?</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Tue Aug 21 2018 02:24:53 GMT-0700 (Pacific Daylight Time)">09:24</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">I prefer not to block the pending PRs on figuring this out</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Tue Aug 21 2018 02:25:26 GMT-0700 (Pacific Daylight Time)">09:25</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">and then we can discuss this and its privacy/ergonomics/use-case implications in isolation and not part of a huge PR</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Tue Aug 21 2018 02:26:45 GMT-0700 (Pacific Daylight Time)">09:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">We could replace all the Client Hints bit with issue markers I suppose?</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Tue Aug 21 2018 02:26:48 GMT-0700 (Pacific Daylight Time)">09:26</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">bits*</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Tue Aug 21 2018 02:27:33 GMT-0700 (Pacific Daylight Time)">09:27</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">It&#039;s pretty important for implementers to know the answers to all these questions, esp for security and such</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Tue Aug 21 2018 02:28:26 GMT-0700 (Pacific Daylight Time)">09:28</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: yeah, I&#039;m not suggesting we&#039;ll postpone answering those questions, just that it won&#039;t block the pending PRs</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Tue Aug 21 2018 02:29:05 GMT-0700 (Pacific Daylight Time)">09:29</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: the currently specified situation is that CH are sent on cross-origin requests</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Tue Aug 21 2018 02:29:17 GMT-0700 (Pacific Daylight Time)">09:29</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">that&#039;s also the currently shipped state in Chromium</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Tue Aug 21 2018 02:29:36 GMT-0700 (Pacific Daylight Time)">09:29</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">although there&#039;s intent to fix it, pending on feature-policy opt in</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Tue Aug 21 2018 02:30:11 GMT-0700 (Pacific Daylight Time)">09:30</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">so, we could drop that check from the current PR, and start an issue summarizing the trade-offs we discussed here</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Tue Aug 21 2018 02:30:16 GMT-0700 (Pacific Daylight Time)">09:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Yeah, I think if we can&#039;t figure out a complete solution it&#039;d be best to take it out for now or add issue markers</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Tue Aug 21 2018 02:30:50 GMT-0700 (Pacific Daylight Time)">09:30</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">ok, I&#039;ll do that</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Tue Aug 21 2018 03:02:49 GMT-0700 (Pacific Daylight Time)">10:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: uploaded a new patch to <a href="https://github.com/whatwg/fetch/pull/773">https://github.com/whatwg/fetch/pull/773</a>. Can you take a look?</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Tue Aug 21 2018 03:12:29 GMT-0700 (Pacific Daylight Time)">10:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">done</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Tue Aug 21 2018 03:26:32 GMT-0700 (Pacific Daylight Time)">10:26</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: thanks! switched to XXX</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Tue Aug 21 2018 03:28:01 GMT-0700 (Pacific Daylight Time)">10:28</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">missed the comment about comment message and CORS safelisted headers</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Tue Aug 21 2018 03:28:59 GMT-0700 (Pacific Daylight Time)">10:28</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: the headers are added to the CORS safelisted list at <a href="https://github.com/whatwg/fetch/pull/725">https://github.com/whatwg/fetch/pull/725</a></td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Tue Aug 21 2018 03:45:18 GMT-0700 (Pacific Daylight Time)">10:45</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: squashed and added a commit message</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Tue Aug 21 2018 05:32:54 GMT-0700 (Pacific Daylight Time)">12:32</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: Regarding <a href="https://github.com/whatwg/fetch/pull/773#discussion_r211569017">https://github.com/whatwg/fetch/pull/773#discussion_r211569017</a> what other integration is required beyond what we discussed above? Or should I just link to the same issue?</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Tue Aug 21 2018 05:33:40 GMT-0700 (Pacific Daylight Time)">12:33</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: yeah, I guess the same and maybe the more general one?</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Tue Aug 21 2018 05:33:54 GMT-0700 (Pacific Daylight Time)">12:33</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: just to make it clear client hints is half-finished</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Tue Aug 21 2018 05:34:00 GMT-0700 (Pacific Daylight Time)">12:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: or is it client-hints now?</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Tue Aug 21 2018 05:34:16 GMT-0700 (Pacific Daylight Time)">12:34</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">half finished in what way?</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Tue Aug 21 2018 05:35:45 GMT-0700 (Pacific Daylight Time)">12:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: in that there&#039;s a lot of open issues?</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Tue Aug 21 2018 05:37:24 GMT-0700 (Pacific Daylight Time)">12:37</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">I can link to <a href="https://github.com/whatwg/fetch/issues/726">https://github.com/whatwg/fetch/issues/726</a></td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Tue Aug 21 2018 05:37:49 GMT-0700 (Pacific Daylight Time)">12:37</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">but believe most of what&#039;s covered there should be fixed by this PR and the HTML PR that comes with it</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Tue Aug 21 2018 05:39:40 GMT-0700 (Pacific Daylight Time)">12:39</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">other than the feature policy bits</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Tue Aug 21 2018 05:40:01 GMT-0700 (Pacific Daylight Time)">12:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">And that step 6-7 of fetch is not the place to fix this?</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Tue Aug 21 2018 05:40:14 GMT-0700 (Pacific Daylight Time)">12:40</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I also didn&#039;t see the secure context restrictions</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Tue Aug 21 2018 05:41:08 GMT-0700 (Pacific Daylight Time)">12:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: basically, what I&#039;m saying is that non-Chromium cannot implement this from looking at Fetch</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Tue Aug 21 2018 05:41:20 GMT-0700 (Pacific Daylight Time)">12:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: they&#039;ll have to reverse engineer Chromium if they want to ship something today</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Tue Aug 21 2018 05:41:32 GMT-0700 (Pacific Daylight Time)">12:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: that much should be clear if you read Fetch</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Tue Aug 21 2018 05:41:46 GMT-0700 (Pacific Daylight Time)">12:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Well, what should be clear is that Fetch is incomplete</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Tue Aug 21 2018 05:42:34 GMT-0700 (Pacific Daylight Time)">12:42</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: if you have feedback regarding further things that are missing, I&#039;m happy to take a look</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Tue Aug 21 2018 05:46:45 GMT-0700 (Pacific Daylight Time)">12:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: apart from the above, I also worry about non-Google commitments, tests, and impact on no-cors</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Tue Aug 21 2018 05:47:47 GMT-0700 (Pacific Daylight Time)">12:47</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: and landing incomplete PRs with no guarantees on when the full model will be defined also makes me a bit uncomfortable</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Tue Aug 21 2018 05:48:19 GMT-0700 (Pacific Daylight Time)">12:48</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">at least in software projects where this is done it&#039;s usually the maintainer that ends up taking the hit</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Tue Aug 21 2018 05:49:07 GMT-0700 (Pacific Daylight Time)">12:49</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">annevk: Have you seen <a href="https://github.com/whatwg/html/issues/3885">https://github.com/whatwg/html/issues/3885</a>?</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Tue Aug 21 2018 05:49:31 GMT-0700 (Pacific Daylight Time)">12:49</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TimothyGu: I guess I should read it again</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Tue Aug 21 2018 05:50:03 GMT-0700 (Pacific Daylight Time)">12:50</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">Yeah the two options are basically not change the URL, or do what replaceState() does</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Tue Aug 21 2018 05:50:16 GMT-0700 (Pacific Daylight Time)">12:50</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">Iâ€™m happy to implement the proposed spec in Chrome btw</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Tue Aug 21 2018 05:51:54 GMT-0700 (Pacific Daylight Time)">12:51</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: I think tests should be in reasonable shape, given Tarun&#039;s latest work (% the redirection case, where we need to better define the behavior first)</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Tue Aug 21 2018 05:52:24 GMT-0700 (Pacific Daylight Time)">12:52</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">what&#039;s the impact on no-cors?</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Tue Aug 21 2018 05:53:01 GMT-0700 (Pacific Daylight Time)">12:53</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: I&#039;m not sure, but if an origin opted in and then someone makes a no-cors request to that origin, what would/should happen?</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Tue Aug 21 2018 05:53:52 GMT-0700 (Pacific Daylight Time)">12:53</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: adding operator overloading to JavaScript to avoid a convenience thingy in fetch() strikes me as overkill, but who knows</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Tue Aug 21 2018 05:54:19 GMT-0700 (Pacific Daylight Time)">12:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: fetch() also already exposes a bunch of convenience features (e.g., types of bodies it accepts)</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Tue Aug 21 2018 05:54:40 GMT-0700 (Pacific Daylight Time)">12:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TimothyGu: ah okay, I guess this is good then</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Tue Aug 21 2018 05:55:21 GMT-0700 (Pacific Daylight Time)">12:55</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TimothyGu: updated review comment</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Tue Aug 21 2018 05:57:05 GMT-0700 (Pacific Daylight Time)">12:57</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">annevk: thanks!</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Tue Aug 21 2018 05:59:05 GMT-0700 (Pacific Daylight Time)">12:59</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: an origin cannot opt-in to receive the hints when it is a 3rd party. The origin delivering the document can opt-in for future navigation requests</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Tue Aug 21 2018 05:59:47 GMT-0700 (Pacific Daylight Time)">12:59</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">than the document can opt-in for its subresources</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Tue Aug 21 2018 06:00:06 GMT-0700 (Pacific Daylight Time)">13:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">currently it&#039;s all of them, but we need to fix it to be for same-origin subresources</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Tue Aug 21 2018 06:00:38 GMT-0700 (Pacific Daylight Time)">13:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">with cross-origin subresources requiring a specific opt-in for their origin (so Feature Policy)</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Tue Aug 21 2018 06:00:52 GMT-0700 (Pacific Daylight Time)">13:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: and secure context?</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Tue Aug 21 2018 06:00:58 GMT-0700 (Pacific Daylight Time)">13:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">oh, of course</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Tue Aug 21 2018 06:01:57 GMT-0700 (Pacific Daylight Time)">13:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: yeah so even with feature policy I wouldn&#039;t be comfortable adding these headers to no-cors requests and cors without preflight is also somewhat problematic in hindsight</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Tue Aug 21 2018 06:02:15 GMT-0700 (Pacific Daylight Time)">13:02</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: since it&#039;s the attacker that determines the feature policy</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Tue Aug 21 2018 06:05:40 GMT-0700 (Pacific Daylight Time)">13:05</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: Is there a way to make them safelisted if UA added, but not user added?</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Tue Aug 21 2018 06:06:07 GMT-0700 (Pacific Daylight Time)">13:06</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">I&#039;d be fine with that, assuming it survives SW fetch events</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Tue Aug 21 2018 06:06:29 GMT-0700 (Pacific Daylight Time)">13:06</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: that&#039;d require new infrastructure, including in implementations</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Tue Aug 21 2018 06:06:58 GMT-0700 (Pacific Daylight Time)">13:06</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: I doubt anyone wants to go for that though, as you&#039;d need a side table for all your header lists, and make sure it stays accurate, etc.</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Tue Aug 21 2018 06:08:47 GMT-0700 (Pacific Daylight Time)">13:08</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: why would you need operator overloading? Just string conversion</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Tue Aug 21 2018 06:09:24 GMT-0700 (Pacific Daylight Time)">13:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: types of bodies isn&#039;t a fundamentally new concept, just convenient typing on an existing concept (&quot;body&quot;)</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Tue Aug 21 2018 06:12:18 GMT-0700 (Pacific Daylight Time)">13:12</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: with string conversion it&#039;s rather fragile if the input URL already contained a query</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Tue Aug 21 2018 06:13:15 GMT-0700 (Pacific Daylight Time)">13:13</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: I doubt that&#039;s often what people are dealing with, but if it is, there&#039;s URL-based conveniences that would make more sense then, e.g. url.withSearchParams(URLSearchParamsInit) -&gt; URL</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Tue Aug 21 2018 07:41:07 GMT-0700 (Pacific Daylight Time)">14:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">That ends up being a lot more verbose. And apparently this kind of API is also a common offering among libraries so from that perspective it seems worth elevating</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Tue Aug 21 2018 07:41:58 GMT-0700 (Pacific Daylight Time)">14:41</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">(It ends up being verbose if the url variable in your example is a relative URL string.)</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Tue Aug 21 2018 09:22:43 GMT-0700 (Pacific Daylight Time)">16:22</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">Domenic: Adding new query string parameters is something I did often at my former job.</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Tue Aug 21 2018 09:23:38 GMT-0700 (Pacific Daylight Time)">16:23</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</td><td class="msg-cell">E.g. adding pagination parameters to an URL with search filters.</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Tue Aug 21 2018 09:27:33 GMT-0700 (Pacific Daylight Time)">16:27</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, me too. (Or adding query params to a URL that already has a hash on it.) Relying on string-concat to work here is no good.</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Tue Aug 21 2018 09:43:59 GMT-0700 (Pacific Daylight Time)">16:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Perhaps URL.withSearch(url, searchParamsInit) that uses the current global object to find a base URL</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Tue Aug 21 2018 09:44:54 GMT-0700 (Pacific Daylight Time)">16:44</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">As Krinkle argued on Twitter that&#039;d allow reuse across APIs rather than have something specific for fetch()</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Tue Aug 21 2018 09:45:20 GMT-0700 (Pacific Daylight Time)">16:45</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</td><td class="msg-cell">(hi)</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Tue Aug 21 2018 09:45:35 GMT-0700 (Pacific Daylight Time)">16:45</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">It&#039;s still hard to hit the sweet spot with that kind of API though as it gets kinda verbose</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Tue Aug 21 2018 09:47:34 GMT-0700 (Pacific Daylight Time)">16:47</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</td><td class="msg-cell">I think it&#039;d be fine for the method to return URL, but I guess people would prefer it take string, which means it&#039;d have to be static.  That way you&#039;d have fetch(URL.withParams(url, {..})) rather than var x = new URL(url); fetch(x.withParams({..}));.</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Tue Aug 21 2018 09:48:11 GMT-0700 (Pacific Daylight Time)">16:48</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=Krinkle@irc>Krinkle</span>&gt;</td><td class="msg-cell">we&#039;ll want to be careful with regards to whether it means merge or replace for search</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Tue Aug 21 2018 09:48:24 GMT-0700 (Pacific Daylight Time)">16:48</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Yeah, alternate constructor sounds fine to me.</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Tue Aug 21 2018 10:07:32 GMT-0700 (Pacific Daylight Time)">17:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: <a href="https://github.com/whatwg/participant-data/pull/7">https://github.com/whatwg/participant-data/pull/7</a> could use a quick look too</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Tue Aug 21 2018 10:08:13 GMT-0700 (Pacific Daylight Time)">17:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: two takeaways there, perhaps we should validate it&#039;s an actual user name and perhaps communicate more clearly what string we want to have?</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Tue Aug 21 2018 10:08:22 GMT-0700 (Pacific Daylight Time)">17:08</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: yeah, agreed...</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Tue Aug 21 2018 10:08:57 GMT-0700 (Pacific Daylight Time)">17:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: I guess I can file an issue against p.w.o and land this?</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Tue Aug 21 2018 10:09:13 GMT-0700 (Pacific Daylight Time)">17:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: would like to unblock the new contributor</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Tue Aug 21 2018 10:09:20 GMT-0700 (Pacific Daylight Time)">17:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: yeah I&#039;ll file the issues, I have some thoughts.  Please do land though.</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Tue Aug 21 2018 10:09:31 GMT-0700 (Pacific Daylight Time)">17:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">ah great, thanks</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Tue Aug 21 2018 10:09:38 GMT-0700 (Pacific Daylight Time)">17:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I guess <a href="https://github.com/whatwg/participate.whatwg.org/issues/8">https://github.com/whatwg/participate.whatwg.org/issues/8</a> is already open</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Tue Aug 21 2018 10:18:37 GMT-0700 (Pacific Daylight Time)">17:18</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Sent <a href="https://github.com/whatwg/participate.whatwg.org/pull/32">https://github.com/whatwg/participate.whatwg.org/pull/32</a> as well</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Tue Aug 21 2018 12:43:49 GMT-0700 (Pacific Daylight Time)">19:43</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">annevk: That link-defaults issue we just ran into this morning is fixed now. Your manual fix isn&#039;t wrong tho, so no need to remove it. It&#039;ll just work properly in the future.</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Tue Aug 21 2018 13:20:47 GMT-0700 (Pacific Daylight Time)">20:20</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">what about throw()</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Tue Aug 21 2018 13:21:27 GMT-0700 (Pacific Daylight Time)">20:21</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">devsnek: do you need to implement throw?</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Tue Aug 21 2018 13:21:31 GMT-0700 (Pacific Daylight Time)">20:21</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">no idea</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Tue Aug 21 2018 13:21:34 GMT-0700 (Pacific Daylight Time)">20:21</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">thats why i&#039;m asking lol</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Tue Aug 21 2018 13:21:43 GMT-0700 (Pacific Daylight Time)">20:21</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">I guess you should</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Tue Aug 21 2018 13:21:58 GMT-0700 (Pacific Daylight Time)">20:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Tue Aug 21 2018 13:22:01 GMT-0700 (Pacific Daylight Time)">20:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I&#039;m not sure what it gives us</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Tue Aug 21 2018 13:22:31 GMT-0700 (Pacific Daylight Time)">20:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I think if you implement it it will just do the same as if it doensn&#039;t exist</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Tue Aug 21 2018 13:22:36 GMT-0700 (Pacific Daylight Time)">20:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">return() is worthwhile since it releases the lock</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Tue Aug 21 2018 13:22:38 GMT-0700 (Pacific Daylight Time)">20:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Oh wait</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Tue Aug 21 2018 13:22:41 GMT-0700 (Pacific Daylight Time)">20:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Maybe throw() should too?</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Tue Aug 21 2018 13:23:09 GMT-0700 (Pacific Daylight Time)">20:23</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Tue Aug 21 2018 13:23:13 GMT-0700 (Pacific Daylight Time)">20:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Hmm throw() is only used by yield*</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Tue Aug 21 2018 13:23:32 GMT-0700 (Pacific Daylight Time)">20:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I&#039;m unsure when throw() would be called in a streams scenario</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Tue Aug 21 2018 13:23:50 GMT-0700 (Pacific Daylight Time)">20:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Someone should write some code that would trigger it and we could turn that into a test if it turns out to be useful</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Tue Aug 21 2018 13:27:56 GMT-0700 (Pacific Daylight Time)">20:27</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">so it seems like yield* in async generator will fallback to return() if throw() doesn&#039;t exist</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Tue Aug 21 2018 13:29:23 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Heh right</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Tue Aug 21 2018 13:29:30 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">&gt; NOTE: If iterator does not have a throw method, this throw is going to terminate the yield* loop. But first we need to give iterator a chance to clean up.</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Tue Aug 21 2018 13:29:54 GMT-0700 (Pacific Daylight Time)">20:29</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">throw could be used to revive an async iterator after it has thrown an error</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Tue Aug 21 2018 13:30:13 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">but why</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Tue Aug 21 2018 13:30:17 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">but I assume once stream errors, it errors forever?</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Tue Aug 21 2018 13:30:39 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">so doesn&#039;t seem like `throw()` is necessary after all</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Tue Aug 21 2018 13:30:47 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">Domenic: weren&#039;t you the champion of the proposal</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Tue Aug 21 2018 13:30:59 GMT-0700 (Pacific Daylight Time)">20:30</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">lol</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Tue Aug 21 2018 13:31:50 GMT-0700 (Pacific Daylight Time)">20:31</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">A lot of the esoteric protocol stuff I just did by analogy</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Tue Aug 21 2018 13:33:55 GMT-0700 (Pacific Daylight Time)">20:33</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">I feel like we should have a &quot;language feature equality day&quot;</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Tue Aug 21 2018 13:34:24 GMT-0700 (Pacific Daylight Time)">20:34</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">all language features are created equal and deserves equal usage, rights, and protection</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Tue Aug 21 2018 13:35:58 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Nooooo</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Tue Aug 21 2018 13:36:02 GMT-0700 (Pacific Daylight Time)">20:36</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">lol</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Tue Aug 21 2018 13:36:08 GMT-0700 (Pacific Daylight Time)">20:36</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">e.g., just because the mismatched end tag is historically discriminated against doesn&#039;t mean it should continue being such â€“ and indeed now the HTML parser treats it as a first-class citizen</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Tue Aug 21 2018 13:36:26 GMT-0700 (Pacific Daylight Time)">20:36</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">with, @@species, stop the madness.</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Tue Aug 21 2018 15:59:37 GMT-0700 (Pacific Daylight Time)">22:59</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">is this validish? <a href="https://gc.gy/2597346.png">https://gc.gy/2597346.png</a></td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Tue Aug 21 2018 15:59:50 GMT-0700 (Pacific Daylight Time)">22:59</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">not quite sure how to make %Promise_reject% link either</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Tue Aug 21 2018 16:01:52 GMT-0700 (Pacific Daylight Time)">23:01</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">devsnek: so you should just do what the rest of the doc does and use higher-level stuff like &quot;reject the promise&quot; or &quot;resolve the promise&quot;</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Tue Aug 21 2018 16:02:08 GMT-0700 (Pacific Daylight Time)">23:02</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">But, note that next() must return a promise for { value, done }, not a { value: promise, done }</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Tue Aug 21 2018 16:02:35 GMT-0700 (Pacific Daylight Time)">23:02</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">actually in an error condition</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Tue Aug 21 2018 16:02:44 GMT-0700 (Pacific Daylight Time)">23:02</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">wouldn&#039;t it just be a rejected promise with the error</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Tue Aug 21 2018 16:03:12 GMT-0700 (Pacific Daylight Time)">23:03</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">So it should just be &quot;If _read_ is an abrupt completion, return a promise rejected with _read_.[[Value]]&quot;</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Tue Aug 21 2018 16:03:15 GMT-0700 (Pacific Daylight Time)">23:03</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">ye</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Tue Aug 21 2018 16:03:15 GMT-0700 (Pacific Daylight Time)">23:03</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">yeah exactly</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Tue Aug 21 2018 16:03:33 GMT-0700 (Pacific Daylight Time)">23:03</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I think we already have a helper for this?</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Tue Aug 21 2018 16:03:40 GMT-0700 (Pacific Daylight Time)">23:03</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell"><a href="https://streams.spec.whatwg.org/#promise-call">https://streams.spec.whatwg.org/#promise-call</a></td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Tue Aug 21 2018 16:03:52 GMT-0700 (Pacific Daylight Time)">23:03</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">No not quite</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Tue Aug 21 2018 16:04:11 GMT-0700 (Pacific Daylight Time)">23:04</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">&quot;a promise rejected with x&quot; is used all over the place</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Tue Aug 21 2018 16:04:15 GMT-0700 (Pacific Daylight Time)">23:04</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Yep</td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Tue Aug 21 2018 16:04:40 GMT-0700 (Pacific Daylight Time)">23:04</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">ReturnRejectedIfAbrupt would be a nice thing to have</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Tue Aug 21 2018 16:04:47 GMT-0700 (Pacific Daylight Time)">23:04</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">but oh well</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Tue Aug 21 2018 16:04:50 GMT-0700 (Pacific Daylight Time)">23:04</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Eh, a bit too macro-ey</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Tue Aug 21 2018 16:05:14 GMT-0700 (Pacific Daylight Time)">23:05</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">oh and the object literals thing is okay?</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Tue Aug 21 2018 16:05:19 GMT-0700 (Pacific Daylight Time)">23:05</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: Iâ€™m wondering, when you thumbs-up a comment like <a href="https://github.com/w3c/svgwg/issues/529#issuecomment-414762241">https://github.com/w3c/svgwg/issues/529#issuecomment-414762241</a> is it because you havenâ€™t taken time to consider that a comment like that might end up really bumming somebody else out, or is it instead because you just donâ€™t care</td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Tue Aug 21 2018 16:05:42 GMT-0700 (Pacific Daylight Time)">23:05</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Oh, no, it is not. Use <a href="https://streams.spec.whatwg.org/#readable-stream-create-read-result">https://streams.spec.whatwg.org/#readable-stream-create-read-result</a></td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Tue Aug 21 2018 16:06:29 GMT-0700 (Pacific Daylight Time)">23:06</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">i was afraid of that haha</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Tue Aug 21 2018 16:07:17 GMT-0700 (Pacific Daylight Time)">23:07</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">MikeSmith: I&#039;ve been vocal in the past with my annoyance for putting the CSS validator in the way of publishing, for exactly the reasons Chris cites.</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Tue Aug 21 2018 16:09:00 GMT-0700 (Pacific Daylight Time)">23:09</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">devsnek: also nit: put a colon after &quot;If â€¦, then&quot;</td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Tue Aug 21 2018 16:09:24 GMT-0700 (Pacific Daylight Time)">23:09</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">i need syntax highlighting for bs</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Tue Aug 21 2018 16:09:33 GMT-0700 (Pacific Daylight Time)">23:09</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">:set syntax=html</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Tue Aug 21 2018 16:09:49 GMT-0700 (Pacific Daylight Time)">23:09</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">that won&#039;t highlight the algorithms</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Tue Aug 21 2018 16:09:56 GMT-0700 (Pacific Daylight Time)">23:09</a></td><td class="nick-cell">&lt;<span class="nick nick-5" title=devsnek@irc>devsnek</span>&gt;</td><td class="msg-cell">even if some of it is prose</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Tue Aug 21 2018 16:10:25 GMT-0700 (Pacific Daylight Time)">23:10</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">TabAtkins: are there syntax highlighters for bikeshed?</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Tue Aug 21 2018 16:11:28 GMT-0700 (Pacific Daylight Time)">23:11</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: my question wasnâ€™t as much about the substance of Chrisâ€™s comment as it was about whether in general you actually take time think about how somebody else might feel when you thumbs-up a comment like that, or make a comment like that yourself</td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Tue Aug 21 2018 16:11:50 GMT-0700 (Pacific Daylight Time)">23:11</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">because you seem like a better person that somebody who would do that wilfully</td></tr>
  <tr class="msg" id="L210"><td class="ts-cell"><a class="ts" href="#L210" alt="Tue Aug 21 2018 16:14:32 GMT-0700 (Pacific Daylight Time)">23:14</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I can tell you&#039;ve taken it far more personally than I expected, and I&#039;m very sorry that I&#039;ve made you feel like this; that absolutely wasn&#039;t my intent and I would have done differently if I&#039;d known. Apologies.</td></tr>
  <tr class="msg" id="L211"><td class="ts-cell"><a class="ts" href="#L211" alt="Tue Aug 21 2018 16:15:33 GMT-0700 (Pacific Daylight Time)">23:15</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">TimothyGu: In the repo there&#039;s a tmLanguage file</td></tr>
  <tr class="msg" id="L212"><td class="ts-cell"><a class="ts" href="#L212" alt="Tue Aug 21 2018 16:15:49 GMT-0700 (Pacific Daylight Time)">23:15</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">It highlights a couple useful bits; PRs accepted.</td></tr>
  <tr class="msg" id="L213"><td class="ts-cell"><a class="ts" href="#L213" alt="Tue Aug 21 2018 16:15:57 GMT-0700 (Pacific Daylight Time)">23:15</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">ah, no .vim I assume?</td></tr>
  <tr class="msg" id="L214"><td class="ts-cell"><a class="ts" href="#L214" alt="Tue Aug 21 2018 16:16:08 GMT-0700 (Pacific Daylight Time)">23:16</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">PRs. Accepted.</td></tr>
  <tr class="msg" id="L215"><td class="ts-cell"><a class="ts" href="#L215" alt="Tue Aug 21 2018 16:16:20 GMT-0700 (Pacific Daylight Time)">23:16</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">k</td></tr>
  <tr class="msg" id="L216"><td class="ts-cell"><a class="ts" href="#L216" alt="Tue Aug 21 2018 16:25:50 GMT-0700 (Pacific Daylight Time)">23:25</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: tomorrow can you take a look at my counter-review of <a href="https://github.com/whatwg/html/pull/3677">https://github.com/whatwg/html/pull/3677</a> and let us know which parts you think are important despite my protestations? Also I know there are some things I didn&#039;t disagree with that fserb should still fix. Maybe just thumbs up/down would be fine.</td></tr>
</tbody></table>
</div></div></div></body>
