<!doctype html>
<head>
  <title>#whatwg on 2018-12-18</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2018-12-18<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2018-12-17" class="nav-link"><span>prev</span></a>
<a href="2018-12-19" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Dec 17 2018 21:48:45 GMT-0800 (Pacific Standard Time)">05:48</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=falken@irc>falken</span>&gt;</td><td class="msg-cell">How does CSS background-image hook into the Fetch spec? I&#039;m trying to determine what the spec says the referrer should be for those requests (the document or the stylesheet?). The closest I can find is <a href="https://drafts.csswg.org/css-backgrounds-3/#background-image">https://drafts.csswg.org/css-backgrounds-3/#background-image</a> which  leads to <a href="https://www.w3.org/TR/CSS21/syndata.html#value-def-uri">https://www.w3.org/TR/CSS21/syndata.html#value-def-uri</a> which doesn&#039;t seem to hook into Fetch.</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Dec 17 2018 21:54:23 GMT-0800 (Pacific Standard Time)">05:54</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=falken@irc>falken</span>&gt;</td><td class="msg-cell">Browsers look all over the place here <a href="https://wpt.fyi/results/service-workers/service-worker/fetch-request-css-base-url.https.html?label=stable&amp;aligned">https://wpt.fyi/results/service-workers/service-worker/fetch-request-css-base-url.https.html?label=stable&amp;aligned</a></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Dec 17 2018 22:16:23 GMT-0800 (Pacific Standard Time)">06:16</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">falken: we need to work on that. I think this issue is the placeholder: <a href="https://github.com/w3c/csswg-drafts/issues/904">https://github.com/w3c/csswg-drafts/issues/904</a></td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Dec 17 2018 22:16:55 GMT-0800 (Pacific Standard Time)">06:16</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">and/or this one: <a href="https://github.com/w3c/csswg-drafts/issues/562">https://github.com/w3c/csswg-drafts/issues/562</a></td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Dec 17 2018 22:18:23 GMT-0800 (Pacific Standard Time)">06:18</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=falken@irc>falken</span>&gt;</td><td class="msg-cell">Thanks! Do you know off-hand what the &quot;correct&quot; expectations should be for referrer of a subresource request from a stylesheet? It looks like Chrome/Firefox use the stylesheet URL after stripping the query, and Edge/Safari use the document URL. (at least for the referrer seen by a service worker)</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Dec 17 2018 22:18:48 GMT-0800 (Pacific Standard Time)">06:18</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=falken@irc>falken</span>&gt;</td><td class="msg-cell">If there&#039;s no CSS test for this without service workers, maybe this is an over enthusiastic test...</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Dec 17 2018 22:19:09 GMT-0800 (Pacific Standard Time)">06:19</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">I think we discussed something in that area recently, let me look</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Dec 17 2018 22:20:15 GMT-0800 (Pacific Standard Time)">06:20</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=falken@irc>falken</span>&gt;</td><td class="msg-cell">great thanks</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Dec 17 2018 22:25:33 GMT-0800 (Pacific Standard Time)">06:25</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=astearns@irc>astearns</span>&gt;</td><td class="msg-cell">bah - I can&#039;t find it. ping TabAtkins about this (probably tomorrow during PST working hours)</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Mon Dec 17 2018 22:38:08 GMT-0800 (Pacific Standard Time)">06:38</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=falken@irc>falken</span>&gt;</td><td class="msg-cell">OK thanks, np</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Dec 18 2018 04:24:12 GMT-0800 (Pacific Standard Time)">12:24</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">falken: style sheet URL is the referrer</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Dec 18 2018 06:17:32 GMT-0800 (Pacific Standard Time)">14:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">(also seems fine to test)</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Dec 18 2018 13:57:37 GMT-0800 (Pacific Standard Time)">21:57</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: ping on <a href="https://github.com/whatwg/html/pull/4234">https://github.com/whatwg/html/pull/4234</a> ? I think it&#039;s good to go but would be ideal to have your sign-off.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Dec 18 2018 13:58:10 GMT-0800 (Pacific Standard Time)">21:58</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Oh hmm I guess no multi-implementer interest yet.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Dec 18 2018 14:36:28 GMT-0800 (Pacific Standard Time)">22:36</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">anyone know off-hand what browser first limited <a href="http://window.open">window.open</a> to user-initated clicks?</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Dec 18 2018 14:47:09 GMT-0800 (Pacific Standard Time)">22:47</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I would guess Firefox</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Dec 18 2018 14:47:22 GMT-0800 (Pacific Standard Time)">22:47</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I feel like they were the first to advertise &quot;built in popup blocker&quot;</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Dec 18 2018 14:48:52 GMT-0800 (Pacific Standard Time)">22:48</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">was it really that late? geez! I know I remember the days before it being commonplace, but still, wow.</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Dec 18 2018 15:00:31 GMT-0800 (Pacific Standard Time)">23:00</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=falken@irc>falken</span>&gt;</td><td class="msg-cell">annevk: all right. do you know what the referrer policy is expected to be? Chrome and Firefox use the stylesheet URL after stripping the query. Tracing where referrer gets set in Fetch, looks like the default is &quot;no-referrer-when-downgrade&quot; which wouldn&#039;t strip the query.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Dec 18 2018 15:09:26 GMT-0800 (Pacific Standard Time)">23:09</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">falken: <a href="https://w3c.github.io/webappsec-referrer-policy/#integration-with-css">https://w3c.github.io/webappsec-referrer-policy/#integration-with-css</a></td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Dec 18 2018 15:18:12 GMT-0800 (Pacific Standard Time)">23:18</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=falken@irc>falken</span>&gt;</td><td class="msg-cell">Domenic: nice thanks</td></tr>

</tbody></table></div></div></div></body>
