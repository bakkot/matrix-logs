<!doctype html>
<head>
  <title>#whatwg on 2018-05-18</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2018-05-18<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2018-05-17" class="nav-link"><span>prev</span></a>
<a href="2018-05-19" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Thu May 17 2018 18:37:50 GMT-0700 (Pacific Daylight Time)">01:37</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: Any current estimate of when you might be able to do the thing of extracting the syntax-highlighting stuff from Bikeshed so that we can use it for the HTML spec?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Thu May 17 2018 19:58:04 GMT-0700 (Pacific Daylight Time)">02:58</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">MikeSmith: Ah dang, that&#039;s like 80% finished, I just dropped it. I&#039;ll get it done next week for you.</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu May 17 2018 20:32:40 GMT-0700 (Pacific Daylight Time)">03:32</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: \o/</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu May 17 2018 20:32:44 GMT-0700 (Pacific Daylight Time)">03:32</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">thanks!</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Fri May 18 2018 00:10:56 GMT-0700 (Pacific Daylight Time)">07:10</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=mkwst@irc>mkwst</span>&gt;</td><td class="msg-cell">annevk: re:<a href="https://github.com/w3c/web-platform-tests/pull/10594#issuecomment-390116038">https://github.com/w3c/web-platform-tests/pull/10594#issuecomment-390116038</a>, it would be nice if we could write down what folks think `from-origin` means. The github thread is confusing, and seems to be moving in a direction that doesn&#039;t match what&#039;s in WebKit at the moment.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Fri May 18 2018 00:11:23 GMT-0700 (Pacific Daylight Time)">07:11</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=mkwst@irc>mkwst</span>&gt;</td><td class="msg-cell">Is that on your plate? Or Apple&#039;s? Or do we need to find a volunteer? :)</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Fri May 18 2018 00:11:29 GMT-0700 (Pacific Daylight Time)">07:11</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">mkwst: so WebKit folks would get back to my suggestion I think</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Fri May 18 2018 00:11:53 GMT-0700 (Pacific Daylight Time)">07:11</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">mkwst: I think making From-Origin the CORB opt-in makes the most sense and would be the easiest to adopt</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Fri May 18 2018 00:13:01 GMT-0700 (Pacific Daylight Time)">07:13</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">mkwst: so I guess it&#039;s on Apple&#039;s plate and perhaps also on Google and Microsoft&#039;s plate to evaluate my input and give their perspective</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Fri May 18 2018 00:13:29 GMT-0700 (Pacific Daylight Time)">07:13</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=mkwst@irc>mkwst</span>&gt;</td><td class="msg-cell">I worry a bit that further narrowing `from-origin`&#039;s impact makes it even less likely that folks would serve it.</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Fri May 18 2018 00:13:46 GMT-0700 (Pacific Daylight Time)">07:13</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=mkwst@irc>mkwst</span>&gt;</td><td class="msg-cell">I also worry about some Google security folks&#039; feedback regarding deployability.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Fri May 18 2018 00:14:10 GMT-0700 (Pacific Daylight Time)">07:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">mkwst: this makes it much easier to deploy as it only affects cross-origin no-cors fetches</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Fri May 18 2018 00:14:38 GMT-0700 (Pacific Daylight Time)">07:14</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">mkwst: it also helps as a long term defense when everyone has site isolation</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Fri May 18 2018 00:15:57 GMT-0700 (Pacific Daylight Time)">07:15</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=mkwst@irc>mkwst</span>&gt;</td><td class="msg-cell">annevk: Less risky, certainly. *shrug* I&#039;m happy for folks to ship implementations of this to see if developers pick it up. My suspicion is that we&#039;ll end up seeing more value in approaches with broader scope, but this is small enough that shipping it doesn&#039;t cost much.</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Fri May 18 2018 00:16:41 GMT-0700 (Pacific Daylight Time)">07:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Whenever we tightly couple stuff it seems it&#039;s less likely to be adopted because it requires changing all the things</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Fri May 18 2018 00:17:02 GMT-0700 (Pacific Daylight Time)">07:17</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=mkwst@irc>mkwst</span>&gt;</td><td class="msg-cell">annevk: When you say that it should be part of CORB, do you mean it would be another way of triggering the blocking behavior? Or that it would influence the heuristics, similarly to `x-content-type-options`?</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Fri May 18 2018 00:17:24 GMT-0700 (Pacific Daylight Time)">07:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">mkwst: another way of triggering a block</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Fri May 18 2018 00:18:26 GMT-0700 (Pacific Daylight Time)">07:18</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=mkwst@irc>mkwst</span>&gt;</td><td class="msg-cell">Ok. So, the idea is that you&#039;d compare the resource&#039;s origin to the requesting origin (without consideration of embedding contexts, etc), and block if there&#039;s no match?</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Fri May 18 2018 00:18:33 GMT-0700 (Pacific Daylight Time)">07:18</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=mkwst@irc>mkwst</span>&gt;</td><td class="msg-cell">(for cross-origin, no-cors requests)</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Fri May 18 2018 00:18:53 GMT-0700 (Pacific Daylight Time)">07:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Yes</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Fri May 18 2018 00:19:41 GMT-0700 (Pacific Daylight Time)">07:19</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=mkwst@irc>mkwst</span>&gt;</td><td class="msg-cell">Ok. I&#039;ll try to summarize my understanding of the thing on the thread.</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Fri May 18 2018 00:20:42 GMT-0700 (Pacific Daylight Time)">07:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">And now we landed CORB in Fetch this would be a fairly trivial PR. I volunteered doing the work on it</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Fri May 18 2018 00:21:47 GMT-0700 (Pacific Daylight Time)">07:21</a></td><td class="nick-cell"><span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span></td><td class="msg-cell">read &quot;CORB in French&quot; and was very confused</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Fri May 18 2018 00:23:16 GMT-0700 (Pacific Daylight Time)">07:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ms2ger: &quot;Blocage de lecture inter-origine&quot;</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Fri May 18 2018 01:16:51 GMT-0700 (Pacific Daylight Time)">08:16</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=michael2@irc>michael2</span>&gt;</td><td class="msg-cell">hi all, does <a href="http://whatwg.org">whatwg.org</a> have a CSS spec?</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Fri May 18 2018 01:17:51 GMT-0700 (Pacific Daylight Time)">08:17</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">michael2: there&#039;s two CSS-related ideas we host, but they&#039;re not living standards: <a href="https://idea.whatwg.org/">https://idea.whatwg.org/</a></td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Fri May 18 2018 01:18:00 GMT-0700 (Pacific Daylight Time)">08:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">michael2: they&#039;re also not really maintained as far as I&#039;m aware</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Fri May 18 2018 01:19:07 GMT-0700 (Pacific Daylight Time)">08:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=michael2@irc>michael2</span>&gt;</td><td class="msg-cell">so would I need to browse <a href="http://w3c.org">w3c.org</a> to find the CSS spec&#039;s? (1,2,3+)</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Fri May 18 2018 01:20:59 GMT-0700 (Pacific Daylight Time)">08:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">michael2: I&#039;d use <a href="https://drafts.csswg.org/">https://drafts.csswg.org/</a></td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Fri May 18 2018 01:21:15 GMT-0700 (Pacific Daylight Time)">08:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">michael2: those are also the documents the WHATWG links to</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Fri May 18 2018 01:21:50 GMT-0700 (Pacific Daylight Time)">08:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">michael2: they&#039;re probably mostly identical to what ends up on <a href="http://w3.org">w3.org</a>, but might be a bit more recently updated</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Fri May 18 2018 01:22:46 GMT-0700 (Pacific Daylight Time)">08:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=michael2@irc>michael2</span>&gt;</td><td class="msg-cell">annevk: thats really helpful (alot of reading there) thank you :)</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Fri May 18 2018 01:53:19 GMT-0700 (Pacific Daylight Time)">08:53</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: is something in particular blocking [Cached] in idl? If so we could instead add something to infra like &quot;Return the cached result of these steps&quot;</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Fri May 18 2018 01:54:18 GMT-0700 (Pacific Daylight Time)">08:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: IDL is lacking resources</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Fri May 18 2018 01:54:29 GMT-0700 (Pacific Daylight Time)">08:54</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I don&#039;t think anything is blocking that work</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Fri May 18 2018 01:56:14 GMT-0700 (Pacific Daylight Time)">08:56</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: it could maybe work in Infra; I guess it could create a unique slot on this and store the result of running the steps there if it&#039;s empty and otherwise return the value of the unique slot</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Fri May 18 2018 01:56:34 GMT-0700 (Pacific Daylight Time)">08:56</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: though I guess creating the unique slot is the problem, but we could hand-wave it perhaps</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Fri May 18 2018 01:57:38 GMT-0700 (Pacific Daylight Time)">08:57</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: The context object could have a map, where the key is the steps and the value is the cached value. But I&#039;m not sure how to decide if it&#039;d be better as an idl thing or a prose thing</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Fri May 18 2018 02:01:22 GMT-0700 (Pacific Daylight Time)">09:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: IDL is somewhat better as just like it can generate the spec code for us, it can generate the impl code too</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Fri May 18 2018 02:01:39 GMT-0700 (Pacific Daylight Time)">09:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: e.g., Firefox supports a variant of Cached already iirc</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Fri May 18 2018 02:01:51 GMT-0700 (Pacific Daylight Time)">09:01</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">Gotcha. Yeah that makes sense</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Fri May 18 2018 02:32:14 GMT-0700 (Pacific Daylight Time)">09:32</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">annevk: It seems like subresource requests from an &lt;iframe referrerpolicy=xxx&gt;&lt;/iframe&gt; don&#039;t inherit the frame&#039;s referrer policy in Chrome/FF. Want to confirm with you that the rp should be inherited, due to steps in Main Fetch that use a request&#039;s client&#039;s referrer, right?</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Fri May 18 2018 02:34:42 GMT-0700 (Pacific Daylight Time)">09:34</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: looking at it now, I&#039;m not sure there&#039;s actually anything that takes that referrerpolicy attribute value and installs it on the loaded document or its global</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Fri May 18 2018 02:35:00 GMT-0700 (Pacific Daylight Time)">09:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: it seems to be just used for the load triggered by src=&quot;&quot;</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Fri May 18 2018 02:36:42 GMT-0700 (Pacific Daylight Time)">09:36</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">annevk: Hmm, but don&#039;t we set request&#039;s client to a node doc&#039;s Window&#039;s environment settings object when fetching things like &lt;img&gt; etc?</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Fri May 18 2018 02:36:55 GMT-0700 (Pacific Daylight Time)">09:36</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">And since environ settings obj has a referrer policy, Main Fetch should &quot;inherit&quot; it?</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Fri May 18 2018 02:37:17 GMT-0700 (Pacific Daylight Time)">09:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: yes</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Fri May 18 2018 02:37:37 GMT-0700 (Pacific Daylight Time)">09:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: but the referrer policy of the environment settings object of a thing loaded in an &lt;iframe&gt; is just the default value</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Fri May 18 2018 02:38:01 GMT-0700 (Pacific Daylight Time)">09:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: as things stand today (well, unless you set a referrer-policy via a header)</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Fri May 18 2018 02:38:16 GMT-0700 (Pacific Daylight Time)">09:38</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">(or &lt;meta name=referrer&gt;)</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Fri May 18 2018 02:38:28 GMT-0700 (Pacific Daylight Time)">09:38</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">annevk: but that&#039;s not the case if &lt;iframe referrerpolicy=origin&gt; etc right?</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Fri May 18 2018 02:39:28 GMT-0700 (Pacific Daylight Time)">09:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: it is the case is what I&#039;m saying</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Fri May 18 2018 02:39:45 GMT-0700 (Pacific Daylight Time)">09:39</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: again, there&#039;s nothing that transfers that value to the environment settings object&#039;s referrer policy of the loaded thing</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Fri May 18 2018 02:44:06 GMT-0700 (Pacific Daylight Time)">09:44</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">annevk: Ah. So an &lt;img&gt;&#039;s node document&#039;s Window&#039;s environment settings object&#039;s referrer policy is the default, regardless of the surrounding iframe</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Fri May 18 2018 02:47:29 GMT-0700 (Pacific Daylight Time)">09:47</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: let me put it differently</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Fri May 18 2018 02:47:53 GMT-0700 (Pacific Daylight Time)">09:47</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: the referrer policy of the environment settings object can be only be set through &lt;meta name=referrer&gt; or the Referrer-Policy header</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Fri May 18 2018 02:48:44 GMT-0700 (Pacific Daylight Time)">09:48</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: there&#039;s on inheritance from ancestors and there&#039;s no controlling it with &lt;iframe referrerpolicy&gt; either; again, afaict from the algorithms in the HTML Standard</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Fri May 18 2018 02:54:38 GMT-0700 (Pacific Daylight Time)">09:54</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">annevk: Ok that makes sense now, I appreciate it.</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Fri May 18 2018 02:55:58 GMT-0700 (Pacific Daylight Time)">09:55</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: it might make sense to do that though, but it&#039;d be a bit of work and we&#039;d have to figure out various details</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Fri May 18 2018 02:57:12 GMT-0700 (Pacific Daylight Time)">09:57</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">I guess when reading <a href="https://github.com/whatwg/html/issues/3670#issuecomment-387307670">https://github.com/whatwg/html/issues/3670#issuecomment-387307670</a>, I was assuming that the &quot;global state&quot; was the environment settings object...and the creation of an &lt;iframe referrerpolicy=xxx&gt; set the &quot;iframe&#039;s environment settings object&#039;s referrer policy&quot;, and this settings object was used as subresource request clients</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Fri May 18 2018 02:58:19 GMT-0700 (Pacific Daylight Time)">09:58</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">Bad assumption :( But yes, I kind of like that idea of somehow sharing that around more easily w/ subresources</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Fri May 18 2018 03:00:09 GMT-0700 (Pacific Daylight Time)">10:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: well, I was wrong there as I assumed that &lt;iframe referrerpolicy&gt; did the thing you were looking for</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Fri May 18 2018 03:00:29 GMT-0700 (Pacific Daylight Time)">10:00</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: global definitely is 1:1 with settings objects</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Fri May 18 2018 03:01:11 GMT-0700 (Pacific Daylight Time)">10:01</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: so, sorry for causing confusion and not checking how referrerpolicy operated first</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Fri May 18 2018 03:06:58 GMT-0700 (Pacific Daylight Time)">10:06</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">annevk: no worries, I made some heavy inferences</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Fri May 18 2018 03:08:25 GMT-0700 (Pacific Daylight Time)">10:08</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=domfarolino@irc>domfarolino</span>&gt;</td><td class="msg-cell">annevk: So the client that is a request&#039;s client for requests made within an &lt;iframe&gt; will be the &lt;iframe&gt;&#039;s environment settings object though, we just don&#039;t set that object&#039;s referrer policy with anything but the header and the meta tag</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Fri May 18 2018 03:15:43 GMT-0700 (Pacific Daylight Time)">10:15</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">Hey! I&#039;m looking at nested browsing contexts with iframe srcdoc documents, and where it is defined that they inherit the SW from the parent browsing context</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Fri May 18 2018 03:16:22 GMT-0700 (Pacific Daylight Time)">10:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">basically, I want to align Chromium&#039;s behavior with <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1426979">https://bugzilla.mozilla.org/show_bug.cgi?id=1426979</a></td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Fri May 18 2018 03:16:40 GMT-0700 (Pacific Daylight Time)">10:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">(and testing shows that Safari is the same as Firefox)</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Fri May 18 2018 03:18:24 GMT-0700 (Pacific Daylight Time)">10:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">domfarolino: it&#039;s the &lt;iframe&gt;&#039;s child browsing context&#039;s active document&#039;s relevant settings object, or some such</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Fri May 18 2018 03:19:07 GMT-0700 (Pacific Daylight Time)">10:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: I think part of the reason the bug you pinged is still open is because it&#039;s not defined</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Fri May 18 2018 03:19:13 GMT-0700 (Pacific Daylight Time)">10:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: the issue you pinged*</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Fri May 18 2018 03:20:14 GMT-0700 (Pacific Daylight Time)">10:20</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: yeah, it wasn&#039;t clear to me if it was defined elsewhere in the meantime</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Fri May 18 2018 03:24:12 GMT-0700 (Pacific Daylight Time)">10:24</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: so IIUC, in order to define that, I&#039;d need to say that a nested browsing context which has an active document which is an iframe srcdoc document has the same active service worker as the settings object of its parent browsing context?</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Fri May 18 2018 03:24:49 GMT-0700 (Pacific Daylight Time)">10:24</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">(many concepts that I never dove into before, so bare with me if I&#039;m totally off)</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Fri May 18 2018 03:28:43 GMT-0700 (Pacific Daylight Time)">10:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: yeah, though I&#039;m not sure that&#039;s good enough for the spec (since you also need to say something about time, unless it always inherits somehow)</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Fri May 18 2018 03:29:29 GMT-0700 (Pacific Daylight Time)">10:29</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">annevk: can you expand on &quot;something about time&quot;? When it inherits it?</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Fri May 18 2018 03:29:32 GMT-0700 (Pacific Daylight Time)">10:29</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: a big problem here is that part of the HTML spec is full of technical debt; document/global creation is really poorly done, which makes these kind of things hard to define (and probably why they&#039;re always causing problems)</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Fri May 18 2018 03:30:15 GMT-0700 (Pacific Daylight Time)">10:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: yeah; e.g. if the parent gained a service worker later on, would that be used?</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Fri May 18 2018 03:30:45 GMT-0700 (Pacific Daylight Time)">10:30</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">ok, got it</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Fri May 18 2018 03:30:51 GMT-0700 (Pacific Daylight Time)">10:30</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">fwiw, I think it should</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Fri May 18 2018 03:31:13 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: yeah, seems like that&#039;s what you&#039;d want</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Fri May 18 2018 03:31:26 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: this should apply to about:blank too btw; they should be identical imo</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Fri May 18 2018 03:32:01 GMT-0700 (Pacific Daylight Time)">10:32</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">are people embedding about:blank? Or is that a theoretical case?</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Fri May 18 2018 03:32:52 GMT-0700 (Pacific Daylight Time)">10:32</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yoav: whenever you create an &lt;iframe&gt; you are, so yes</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Fri May 18 2018 03:33:02 GMT-0700 (Pacific Daylight Time)">10:33</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">(and no)</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Fri May 18 2018 03:33:13 GMT-0700 (Pacific Daylight Time)">10:33</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">oh...</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Fri May 18 2018 03:33:16 GMT-0700 (Pacific Daylight Time)">10:33</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=yoav@irc>yoav</span>&gt;</td><td class="msg-cell">got it</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Fri May 18 2018 03:57:27 GMT-0700 (Pacific Daylight Time)">10:57</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: FWIW, I suspect a longer form explanation of why non-HTTPS is a problem and the diff between long and safe would help a lot of people</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Fri May 18 2018 03:57:58 GMT-0700 (Pacific Daylight Time)">10:57</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: hah, just in the middle of writing a tweet about that. Yeah, I wish the article had made that clear.</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Fri May 18 2018 03:58:17 GMT-0700 (Pacific Daylight Time)">10:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">secure/safe, not long</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Fri May 18 2018 04:03:23 GMT-0700 (Pacific Daylight Time)">11:03</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell"><a href="https://twitter.com/jaffathecake/status/997431630011752449">https://twitter.com/jaffathecake/status/997431630011752449</a></td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Fri May 18 2018 06:02:39 GMT-0700 (Pacific Daylight Time)">13:02</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">foolip: I think I found a better way to insert a newline with sed</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Fri May 18 2018 07:17:09 GMT-0700 (Pacific Daylight Time)">14:17</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: <a href="https://dom.spec.whatwg.org/#context-object">https://dom.spec.whatwg.org/#context-object</a> - when could the context object be omitted? Trying to think of an example</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Fri May 18 2018 07:17:46 GMT-0700 (Pacific Daylight Time)">14:17</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">If an object has an associated &#039;thing&#039;, can I just say &quot;Get the associated thing&quot; in a getter?</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Fri May 18 2018 07:18:14 GMT-0700 (Pacific Daylight Time)">14:18</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">I usually write &quot;Let whatever be the context object&#039;s thing&quot;</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Fri May 18 2018 07:20:31 GMT-0700 (Pacific Daylight Time)">14:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: I prefer always including it these days</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Fri May 18 2018 07:20:33 GMT-0700 (Pacific Daylight Time)">14:20</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">annevk: Context: I&#039;m looking at <a href="https://notifications.spec.whatwg.org/#dom-notification-actions">https://notifications.spec.whatwg.org/#dom-notification-actions</a> step 2, where it comes up with &quot;in the notification&#039;s&quot;</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Fri May 18 2018 07:20:42 GMT-0700 (Pacific Daylight Time)">14:20</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">Same. Gotcha.</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Fri May 18 2018 07:20:54 GMT-0700 (Pacific Daylight Time)">14:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: also, this is another thing where IDL needs updating so we can all start using &quot;this&quot; instead</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Fri May 18 2018 07:22:24 GMT-0700 (Pacific Daylight Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">Ta</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Fri May 18 2018 07:23:18 GMT-0700 (Pacific Daylight Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">JakeA: <a href="https://github.com/whatwg/dom/pull/647">https://github.com/whatwg/dom/pull/647</a></td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Fri May 18 2018 07:26:58 GMT-0700 (Pacific Daylight Time)">14:26</a></td><td class="nick-cell">&lt;<span class="nick nick-7" title=JakeA@irc>JakeA</span>&gt;</td><td class="msg-cell">LGTM</td></tr>
</tbody></table>
</div></div></div></body>
