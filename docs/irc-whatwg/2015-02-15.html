<!doctype html>
<head>
  <title>#whatwg on 2015-02-15</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2015-02-15<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2015-02-14" class="nav-link"><span>prev</span></a>
<a href="2015-02-16" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sun Feb 15 2015 02:06:08 GMT-0800 (Pacific Standard Time)">10:06</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: since css-parse.js no longer provides a parse(...) function I&#039;m trying to figure out what to call instead</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sun Feb 15 2015 02:06:38 GMT-0800 (Pacific Standard Time)">10:06</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">ok I see <a href="https://github.com/tabatkins/parse-css#parsing-functions">https://github.com/tabatkins/parse-css#parsing-functions</a></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sun Feb 15 2015 02:08:05 GMT-0800 (Pacific Standard Time)">10:08</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: so now I&#039;m wondering, if I&#039;m parsing the contents of a sizes attribute, what should I use</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Sun Feb 15 2015 02:12:27 GMT-0800 (Pacific Standard Time)">10:12</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: OK I see I have my code doing `cssParser.parse(&quot;@media &quot; + unparsedSize.toString() + &quot; {}&quot;);` so I suppose I need to try parseARule()</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Sun Feb 15 2015 12:31:27 GMT-0800 (Pacific Standard Time)">20:31</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">MikeSmith: Ooooof, no, that code&#039;s definitely wrong.</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Sun Feb 15 2015 12:31:55 GMT-0800 (Pacific Standard Time)">20:31</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">MikeSmith: The spec should describe this, let me dig it up to ensure I&#039;m remembering right.</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Sun Feb 15 2015 12:33:02 GMT-0800 (Pacific Standard Time)">20:33</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">MikeSmith: Here you go: <a href="https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-sizes-attribute">https://html.spec.whatwg.org/multipage/embedded-content.html#parse-a-sizes-attribute</a></td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Sun Feb 15 2015 12:33:24 GMT-0800 (Pacific Standard Time)">20:33</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Use parseACommaSeparatedListOfComponentValues() first, then follow the algo for each component of the returned list.</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Sun Feb 15 2015 12:34:02 GMT-0800 (Pacific Standard Time)">20:34</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(Basically just find the last non-ws component value for the size, and if there&#039;s anything non-ws preceding it, parse that as a media query.)</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Sun Feb 15 2015 12:36:10 GMT-0800 (Pacific Standard Time)">20:36</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">I mean, using that sort of string concat will sorta work, but only because the parser doesn&#039;t do any validation anyway, and it&#039;ll act incorrectly in the presence of some markup errors (like putting a `{}` in your sizes attr).  It doesn&#039;t do any special work for you - it&#039;d just return a CSSRule with a type of &quot;media&quot; and a prelude of the token stream it got</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Sun Feb 15 2015 12:36:10 GMT-0800 (Pacific Standard Time)">20:36</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">out of unparsedSize.</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Sun Feb 15 2015 12:38:10 GMT-0800 (Pacific Standard Time)">20:38</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">(HTML&#039;s lack of deeply nested headings makes large sections like &lt;img&gt;&#039;s really hard to navigate.)</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Sun Feb 15 2015 13:07:48 GMT-0800 (Pacific Standard Time)">21:07</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">HTML&#039;s lack of deeply nested headings?</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Sun Feb 15 2015 13:07:52 GMT-0800 (Pacific Standard Time)">21:07</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Are you high?</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Sun Feb 15 2015 14:07:05 GMT-0800 (Pacific Standard Time)">22:07</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Ms2ger: IT DOESN&#039;T NEST DEEPLY ENOUGH</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Sun Feb 15 2015 14:14:18 GMT-0800 (Pacific Standard Time)">22:14</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Will it ever?</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Sun Feb 15 2015 14:35:42 GMT-0800 (Pacific Standard Time)">22:35</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Well, for my purposes, if it puts the major &lt;img&gt; algorithms in their own subsections, like the &lt;picture&gt; spec did, that would be enough.</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Sun Feb 15 2015 14:36:31 GMT-0800 (Pacific Standard Time)">22:36</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">For some reason &lt;img&gt; thinks it&#039;s desperately important to give a heading to every single alt=&#039;&#039; use-case, but crams every single other part of its processing model into a single undelineated section.</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Sun Feb 15 2015 14:39:57 GMT-0800 (Pacific Standard Time)">22:39</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Well, ask and you&#039;ll probably get some headers :)</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Sun Feb 15 2015 14:43:43 GMT-0800 (Pacific Standard Time)">22:43</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Hixie: ^^^</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Sun Feb 15 2015 14:44:14 GMT-0800 (Pacific Standard Time)">22:44</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">He&#039;ll probably say &quot;file a bug&quot;</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Sun Feb 15 2015 14:45:11 GMT-0800 (Pacific Standard Time)">22:45</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Heh.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Sun Feb 15 2015 15:52:25 GMT-0800 (Pacific Standard Time)">23:52</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">TabAtkins: yeah that code I cited isn&#039;t that part that does the actual checking of the specific requirements for sizes in the HTML source/img spec; instead it&#039;s some separate code that runs just to to do an additional syntax check on the &lt;source-size&gt; and &lt;source-size-value&gt; parts.</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Sun Feb 15 2015 15:54:38 GMT-0800 (Pacific Standard Time)">23:54</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">MikeSmith: Well, running it through @media doesn&#039;t actually help anything; there&#039;s no syntax checking above the base statement/rule level.</td></tr>
</tbody></table>
</div></div></div></body>
