<!doctype html>
<head>
  <title>#whatwg on 2018-11-06</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "#whatwg";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2018-11-06<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2018-11-05" class="nav-link"><span>prev</span></a>
<a href="2018-11-07" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Nov 05 2018 20:00:38 GMT-0800 (Pacific Standard Time)">04:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">for “trailing commas” in JavaScript syntax, is there any specific fragment ID in the EcmaScript spec I can point to?</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Nov 05 2018 20:00:47 GMT-0800 (Pacific Standard Time)">04:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">see <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas">https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Trailing_commas</a> for the context</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Nov 05 2018 20:15:19 GMT-0800 (Pacific Standard Time)">04:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">is that what Elision&lt;sub&gt;opt&lt;/sub&gt; indicates?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Nov 05 2018 20:44:27 GMT-0800 (Pacific Standard Time)">04:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">when I look at a proposal in <a href="https://github.com/tc39/proposal-*">https://github.com/tc39/proposal-*</a> space, how can I tell if it’s already been adopted into the current <a href="https://tc39.github.io/ecma262/">https://tc39.github.io/ecma262/</a> standard? (short of actually checking the current spec text)</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Mon Nov 05 2018 20:45:11 GMT-0800 (Pacific Standard Time)">04:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">e.g., looking at <a href="https://github.com/tc39/proposal-trailing-function-commas">https://github.com/tc39/proposal-trailing-function-commas</a> I cannot tell if it’s been adopted or not from just looking at that</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Mon Nov 05 2018 20:45:34 GMT-0800 (Pacific Standard Time)">04:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">I think it has been, but there’s no statement there to indicate that</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Mon Nov 05 2018 20:50:44 GMT-0800 (Pacific Standard Time)">04:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">OK looking at <a href="https://github.com/tc39/proposals">https://github.com/tc39/proposals</a> I see it’s not listed there, so I guess the process is that I see a proposal in <a href="https://github.com/tc39/proposal-*">https://github.com/tc39/proposal-*</a>, I need to check <a href="https://github.com/tc39/proposals">https://github.com/tc39/proposals</a> and see if it’s listed there ー but if it’s not, then I need to assume it’s already been adopted</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Mon Nov 05 2018 20:52:03 GMT-0800 (Pacific Standard Time)">04:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">ah</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Mon Nov 05 2018 20:52:11 GMT-0800 (Pacific Standard Time)">04:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">now I find <a href="https://github.com/tc39/proposals/blob/master/finished-proposals.md">https://github.com/tc39/proposals/blob/master/finished-proposals.md</a></td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Mon Nov 05 2018 21:08:51 GMT-0800 (Pacific Standard Time)">05:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">filed <a href="https://github.com/tc39/proposals/issues/162">https://github.com/tc39/proposals/issues/162</a></td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Nov 06 2018 06:16:26 GMT-0800 (Pacific Standard Time)">14:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">so per spec HTMLAllCollection shouldn&#039;t have a @@iterator, right?</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Nov 06 2018 06:16:54 GMT-0800 (Pacific Standard Time)">14:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">because it does in FF/Ch, at least</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Nov 06 2018 06:17:03 GMT-0800 (Pacific Standard Time)">14:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">But I can&#039;t see any justification for that in the spec.</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Nov 06 2018 06:25:49 GMT-0800 (Pacific Standard Time)">14:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">‘allo ‘allo</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Nov 06 2018 06:26:08 GMT-0800 (Pacific Standard Time)">14:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">I heard there was a discussion about document.all[Symbol.iterator].</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Nov 06 2018 06:26:30 GMT-0800 (Pacific Standard Time)">14:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Is that a thing that only exists in Gecko?</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Nov 06 2018 06:26:54 GMT-0800 (Pacific Standard Time)">14:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">14:16 &lt; gsnedders&gt; so per spec HTMLAllCollection shouldn&#039;t have a @@iterator, right?</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Nov 06 2018 06:26:57 GMT-0800 (Pacific Standard Time)">14:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">14:16 &lt; gsnedders&gt; because it does in FF/Ch, at least</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Nov 06 2018 06:26:59 GMT-0800 (Pacific Standard Time)">14:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">14:17 &lt; gsnedders&gt; But I can&#039;t see any justification for that in the spec.</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Nov 06 2018 06:28:56 GMT-0800 (Pacific Standard Time)">14:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Oh interesting find.</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Nov 06 2018 06:29:54 GMT-0800 (Pacific Standard Time)">14:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">I&#039;m wondering if I&#039;ve misread the spec here</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Nov 06 2018 06:31:49 GMT-0800 (Pacific Standard Time)">14:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">I&#039;ve misread WebIDL, I think.</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue Nov 06 2018 06:32:24 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">&quot;an indexed property getter and an integer-typed length attribute&quot;</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Tue Nov 06 2018 06:32:31 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">which they do, hence they have a @@iterator</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Tue Nov 06 2018 06:32:34 GMT-0800 (Pacific Standard Time)">14:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">okay, ignore me</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Tue Nov 06 2018 06:50:10 GMT-0800 (Pacific Standard Time)">14:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">stupid question about DOM. If we have a document element the assumption is that it includes all the mixins that come with document?</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Tue Nov 06 2018 06:51:57 GMT-0800 (Pacific Standard Time)">14:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">the document has them, the document elmenet is the root element</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Tue Nov 06 2018 06:52:02 GMT-0800 (Pacific Standard Time)">14:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: I don&#039;t really understand the question</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Tue Nov 06 2018 06:52:10 GMT-0800 (Pacific Standard Time)">14:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">unless you&#039;re not asking what I think you are?</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Tue Nov 06 2018 06:52:27 GMT-0800 (Pacific Standard Time)">14:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">I might not be asking it properly...</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Tue Nov 06 2018 06:54:00 GMT-0800 (Pacific Standard Time)">14:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">so my question is do I need to explicitly call out document or shadowRoot for knowing where items should start from. E.g. in webdriver we have the start node for finding elements as the document element but if I want to search a shadow dom I need to use the shadowRoot</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Tue Nov 06 2018 06:54:40 GMT-0800 (Pacific Standard Time)">14:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">so is having it as the document fine or do I need to explicitly say document or shadowRoot</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Tue Nov 06 2018 06:56:35 GMT-0800 (Pacific Standard Time)">14:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">AutomatedTester: what are you using to find things? I presume you just do it by reference to Selectors or XPath?</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Tue Nov 06 2018 06:56:47 GMT-0800 (Pacific Standard Time)">14:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell"><a href="https://w3c.github.io/webdriver/#find-element">https://w3c.github.io/webdriver/#find-element</a> step 7 to be exact</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Tue Nov 06 2018 06:56:54 GMT-0800 (Pacific Standard Time)">14:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">gsnedders: yes</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Tue Nov 06 2018 06:58:16 GMT-0800 (Pacific Standard Time)">14:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">since there is no way to pierce a shadow dom otherwise we break encapsulation we need to set the start node to the shadowRoot and then search which is the equivalent of shadowRoot.querySelector(...)</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Tue Nov 06 2018 07:03:55 GMT-0800 (Pacific Standard Time)">15:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: hmm, doesn&#039;t WebDriver have super powers anyway? Why not break encapsulation?</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Tue Nov 06 2018 07:04:41 GMT-0800 (Pacific Standard Time)">15:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">annevk: we could but then we need to build our own selectors for starting at the top level and descending into a shadow dom</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Tue Nov 06 2018 07:05:10 GMT-0800 (Pacific Standard Time)">15:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: anyway, if you want to go through shadow trees, you need to say so, and define how</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Tue Nov 06 2018 07:05:17 GMT-0800 (Pacific Standard Time)">15:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: there&#039;s no freebies</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Tue Nov 06 2018 07:05:27 GMT-0800 (Pacific Standard Time)">15:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">and I am not sure we can guarantee a view into closed shadow dom&#039;s</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Tue Nov 06 2018 07:05:47 GMT-0800 (Pacific Standard Time)">15:05</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">annevk: thats what I thought and just wanted to check</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Tue Nov 06 2018 07:06:40 GMT-0800 (Pacific Standard Time)">15:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: WebDriver should be able to do that I think, but it might require the browser to provide ways</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Tue Nov 06 2018 07:10:24 GMT-0800 (Pacific Standard Time)">15:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">annevk: what was the plan for testing this for end users or was this &quot;webdriver will solve this... probably&quot;</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Tue Nov 06 2018 07:16:05 GMT-0800 (Pacific Standard Time)">15:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: end users being?</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Tue Nov 06 2018 07:16:26 GMT-0800 (Pacific Standard Time)">15:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">annevk: website QA folk</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Tue Nov 06 2018 07:16:55 GMT-0800 (Pacific Standard Time)">15:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: I think the idea there was that WebDriver would indeed provide hooks</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Tue Nov 06 2018 07:17:07 GMT-0800 (Pacific Standard Time)">15:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">gsnedders: I think [...collection] does some magic because for-of doesn’t work.</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Tue Nov 06 2018 07:17:09 GMT-0800 (Pacific Standard Time)">15:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: but there wasn&#039;t a lot of discussion about that, for sure</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Tue Nov 06 2018 07:17:22 GMT-0800 (Pacific Standard Time)">15:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">gsnedders: I think reading ECMAScript might reveal some clues.</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Tue Nov 06 2018 07:18:44 GMT-0800 (Pacific Standard Time)">15:18</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">ato: both should just call the iterator, no?</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Tue Nov 06 2018 07:19:04 GMT-0800 (Pacific Standard Time)">15:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">annevk: my worry is that since deep selectors were dropped its going to be non-trivial to allow people to call from the document down into a shadow dom</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Tue Nov 06 2018 07:19:14 GMT-0800 (Pacific Standard Time)">15:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">feels like there are a lot of dragons down there</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Tue Nov 06 2018 07:21:10 GMT-0800 (Pacific Standard Time)">15:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">ato: for (let x of document.all) console.log(x);</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Tue Nov 06 2018 07:21:13 GMT-0800 (Pacific Standard Time)">15:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">ato: that wfm?</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Tue Nov 06 2018 07:21:30 GMT-0800 (Pacific Standard Time)">15:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">gsnedders: OK, maybe HTMLAllCollection is not the problematic one here.</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Tue Nov 06 2018 07:21:53 GMT-0800 (Pacific Standard Time)">15:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell"><a href="https://searchfox.org/mozilla-central/source/testing/web-platform/tests/webdriver/tests/execute_script/collections.py">https://searchfox.org/mozilla-central/source/testing/web-platform/tests/webdriver/tests/execute_script/collections.py</a> for reference.</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Tue Nov 06 2018 07:23:03 GMT-0800 (Pacific Standard Time)">15:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">HTMLFormControlsCollection works with for-of.</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Tue Nov 06 2018 07:23:36 GMT-0800 (Pacific Standard Time)">15:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">And HTMLOptionsCollection.</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Tue Nov 06 2018 07:23:53 GMT-0800 (Pacific Standard Time)">15:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: I don&#039;t really know what folks are looking for, but you could offer things that basically iterate over the document and all its shadow roots and and match the selectors given</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Tue Nov 06 2018 07:24:06 GMT-0800 (Pacific Standard Time)">15:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">And NodeList.</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Tue Nov 06 2018 07:24:17 GMT-0800 (Pacific Standard Time)">15:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: it&#039;s just that we don&#039;t want to expose those kind of things directly to web pages</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Tue Nov 06 2018 07:24:40 GMT-0800 (Pacific Standard Time)">15:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">And HTMLCollection.</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Tue Nov 06 2018 07:24:47 GMT-0800 (Pacific Standard Time)">15:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">annevk: I think people want /deep/</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Tue Nov 06 2018 07:25:33 GMT-0800 (Pacific Standard Time)">15:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: I guess I&#039;m saying is that if they say that, we need to dig a little deeper since a) it doesn&#039;t work for closed trees and b) we don&#039;t want a different selector parser for WebDriver</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Tue Nov 06 2018 07:25:52 GMT-0800 (Pacific Standard Time)">15:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">agreed!</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Tue Nov 06 2018 07:26:23 GMT-0800 (Pacific Standard Time)">15:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">if I can offload to the webapi&#039;s then I can somewhat guarantee interop</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Tue Nov 06 2018 07:26:36 GMT-0800 (Pacific Standard Time)">15:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: we can offer utilities that do some kind of query on all shadow roots associated with a document and return nodes in some manner, but if we can&#039;t move the conversation past /deep/ I&#039;d just let it slide for now...</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Tue Nov 06 2018 07:26:56 GMT-0800 (Pacific Standard Time)">15:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">(note that this APIs would have to be WebDriver only)</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Tue Nov 06 2018 07:27:03 GMT-0800 (Pacific Standard Time)">15:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">these*</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Tue Nov 06 2018 07:27:15 GMT-0800 (Pacific Standard Time)">15:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">As does Arguments.</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Tue Nov 06 2018 07:27:26 GMT-0800 (Pacific Standard Time)">15:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">at the moment I can get around most cases (excluding closed shadow doms) using document or shadowRoot</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Tue Nov 06 2018 07:27:33 GMT-0800 (Pacific Standard Time)">15:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">and then base things off that</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Tue Nov 06 2018 07:28:31 GMT-0800 (Pacific Standard Time)">15:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">annevk: if I were to start a conversation about the searchability where is the best place to do that?</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Tue Nov 06 2018 07:28:56 GMT-0800 (Pacific Standard Time)">15:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: the WebDriver repo?</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Tue Nov 06 2018 07:29:13 GMT-0800 (Pacific Standard Time)">15:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: as I said, we don&#039;t want these to be web-exposed APIs</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Tue Nov 06 2018 07:29:17 GMT-0800 (Pacific Standard Time)">15:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Tue Nov 06 2018 07:29:36 GMT-0800 (Pacific Standard Time)">15:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">I will just @ the relevant people like you to discuss things further</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Tue Nov 06 2018 07:29:45 GMT-0800 (Pacific Standard Time)">15:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">we have a thread there at the moment</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Tue Nov 06 2018 07:29:49 GMT-0800 (Pacific Standard Time)">15:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: it&#039;s reasonable to start a WebDriver-specific thread on w3c/webcomponents though to point folks at that</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Tue Nov 06 2018 07:29:56 GMT-0800 (Pacific Standard Time)">15:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">gsnedders: What. Even FileList works with for-of.</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Tue Nov 06 2018 07:30:11 GMT-0800 (Pacific Standard Time)">15:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">annevk: thats what more what I was after :)</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Tue Nov 06 2018 07:30:25 GMT-0800 (Pacific Standard Time)">15:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">AutomatedTester: okay, yeah, please do that</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Tue Nov 06 2018 07:30:30 GMT-0800 (Pacific Standard Time)">15:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=AutomatedTester@irc>AutomatedTester</span>&gt;</div></td><td class="msg-cell">will do</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Tue Nov 06 2018 07:30:37 GMT-0800 (Pacific Standard Time)">15:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">gsnedders: OK, so am I right reading that the conclusion here is that it’s OK for the spec to rely on the collection implementing the Iterable interface?</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Tue Nov 06 2018 07:30:57 GMT-0800 (Pacific Standard Time)">15:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">gsnedders: I mean the language I used is clearly wrong, but that we can use the normal iterator protocol?</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Tue Nov 06 2018 07:31:01 GMT-0800 (Pacific Standard Time)">15:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">ato: it&#039;s a feature of IDL</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Tue Nov 06 2018 07:31:27 GMT-0800 (Pacific Standard Time)">15:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">ato: IDL added it to reduce the amount of specifying we&#039;d have to do to support it all over the place</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Tue Nov 06 2018 07:32:11 GMT-0800 (Pacific Standard Time)">15:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">annevk: Let me point you to the actual bit of spec we’re discussing.</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Tue Nov 06 2018 07:33:13 GMT-0800 (Pacific Standard Time)">15:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">annevk: In <a href="https://w3c.github.io/webdriver/#dfn-internal-json-clone-algorithm">https://w3c.github.io/webdriver/#dfn-internal-json-clone-algorithm</a>, under the “a collection” variant we say “For each item of value, …”.</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Tue Nov 06 2018 07:33:38 GMT-0800 (Pacific Standard Time)">15:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">And collection is not quite the same as in DOM/HTML: <a href="https://w3c.github.io/webdriver/#dfn-collection">https://w3c.github.io/webdriver/#dfn-collection</a></td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Tue Nov 06 2018 07:33:49 GMT-0800 (Pacific Standard Time)">15:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">(Here “type” should be “interface” I think.)</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Tue Nov 06 2018 07:34:16 GMT-0800 (Pacific Standard Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">But the effect we want to achieve is to rely on the each of these objects’ iterator protocols to run some JSON serialisation steps and add them to a JSON Array.</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Tue Nov 06 2018 07:34:22 GMT-0800 (Pacific Standard Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">ato: no, we want something like &quot;instance of&quot; except we need it to work cross-origin</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Tue Nov 06 2018 07:34:31 GMT-0800 (Pacific Standard Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">and I can&#039;t remember what the right way to define that</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Tue Nov 06 2018 07:34:32 GMT-0800 (Pacific Standard Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">gsnedders: Yes, I meant that actually!</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Tue Nov 06 2018 07:34:49 GMT-0800 (Pacific Standard Time)">15:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">the right way today is what you did</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Tue Nov 06 2018 07:35:03 GMT-0800 (Pacific Standard Time)">15:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">&quot;is X&quot; is the way to do that until we have [[PlatformBrand]] or equiv</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Tue Nov 06 2018 07:35:40 GMT-0800 (Pacific Standard Time)">15:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">now actually invoking the iterator protocol I don&#039;t know, that has all kinds of potential side effects that I&#039;m not sure you want here?</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Tue Nov 06 2018 07:36:03 GMT-0800 (Pacific Standard Time)">15:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">in any event, simply saying &quot;for of&quot; doesn&#039;t cut it if you want to call JS operations</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Tue Nov 06 2018 07:39:06 GMT-0800 (Pacific Standard Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">We don’t particularly care how implementations do it, as long as the result of the algorithm is that you end up with a JSON Array with the objects passed through a serialisation step.</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Tue Nov 06 2018 07:39:38 GMT-0800 (Pacific Standard Time)">15:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">So when you talk about side effects of invoking the iterator protocol and JS operations, I have a hard time understanding exactly what you mean.</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Tue Nov 06 2018 07:40:02 GMT-0800 (Pacific Standard Time)">15:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">iterators can execute arbitrary code</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Tue Nov 06 2018 07:40:07 GMT-0800 (Pacific Standard Time)">15:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">and throw exceptions, etc.</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Tue Nov 06 2018 07:40:36 GMT-0800 (Pacific Standard Time)">15:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Right, because they are custom?</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Tue Nov 06 2018 07:40:42 GMT-0800 (Pacific Standard Time)">15:40</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Or can be if the prototype has been replaced?</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Tue Nov 06 2018 07:41:00 GMT-0800 (Pacific Standard Time)">15:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Various things, once you run JavaScript stuff can throw</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Tue Nov 06 2018 07:41:15 GMT-0800 (Pacific Standard Time)">15:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">OK, so I don’t think the intention here is to run JS.</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Tue Nov 06 2018 07:41:18 GMT-0800 (Pacific Standard Time)">15:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">(and you&#039;ll also have to define other things, like what globals are in use and such)</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Tue Nov 06 2018 07:41:35 GMT-0800 (Pacific Standard Time)">15:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Right, and we do this for the actual script execution.</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Tue Nov 06 2018 07:41:53 GMT-0800 (Pacific Standard Time)">15:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">(Where you receive a script string and inject it into the runtime.)</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Tue Nov 06 2018 07:42:28 GMT-0800 (Pacific Standard Time)">15:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">ato: e.g., if I set document.all[Symbol.iterator], the iterator is no longer the default</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Tue Nov 06 2018 07:42:47 GMT-0800 (Pacific Standard Time)">15:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">gsnedders: Got it.</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Tue Nov 06 2018 07:43:07 GMT-0800 (Pacific Standard Time)">15:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Words are hard (-:</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Tue Nov 06 2018 07:44:02 GMT-0800 (Pacific Standard Time)">15:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">So when we say “for item of value” here, that doesn’t invoke the JS Symbol.iterator or the iterator protocol. What does it do?</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Tue Nov 06 2018 07:44:38 GMT-0800 (Pacific Standard Time)">15:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Is it inferred as an exercise for the reader to understand that you want to achieve the effect of looking at a DOM/HTML collections items in sequence without going down the same path as JS?</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Tue Nov 06 2018 07:45:25 GMT-0800 (Pacific Standard Time)">15:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Not trying to be nitpicky here by the way.  Just trying to understand how this works.</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Tue Nov 06 2018 07:45:27 GMT-0800 (Pacific Standard Time)">15:45</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">ato: it&#039;s not clear what it does since it&#039;s not defined</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Tue Nov 06 2018 07:46:18 GMT-0800 (Pacific Standard Time)">15:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">In the Gecko implementation, what we do specifically is call what I guess is the initial value of the iterator protocol by doing [...collection] in XPCOM.</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Tue Nov 06 2018 07:46:33 GMT-0800 (Pacific Standard Time)">15:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">ato: it does invoke the iterator protocol?</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Tue Nov 06 2018 07:46:48 GMT-0800 (Pacific Standard Time)">15:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Doesn’t the JS spread operator do that?</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Tue Nov 06 2018 07:47:11 GMT-0800 (Pacific Standard Time)">15:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell"><a href="https://searchfox.org/mozilla-central/rev/b096dcf0ea226af628fe03f7e7acb56a25853533/testing/marionette/evaluate.js#250-253">https://searchfox.org/mozilla-central/rev/b096dcf0ea226af628fe03f7e7acb56a25853533/testing/marionette/evaluate.js#250-253</a></td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Tue Nov 06 2018 07:47:11 GMT-0800 (Pacific Standard Time)">15:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Tue Nov 06 2018 07:47:15 GMT-0800 (Pacific Standard Time)">15:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">both do that</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Tue Nov 06 2018 08:12:06 GMT-0800 (Pacific Standard Time)">16:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">ato: I think you want to convert from JS into Infra or Web IDL data structures as soon as possible. Then you can operate without running JS side effects.</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Tue Nov 06 2018 08:13:00 GMT-0800 (Pacific Standard Time)">16:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Although, I guess that conversion will itself have JS side effects</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Tue Nov 06 2018 08:13:07 GMT-0800 (Pacific Standard Time)">16:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">So you need to go deeper -_-</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Tue Nov 06 2018 08:13:11 GMT-0800 (Pacific Standard Time)">16:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: so nobody working on Chrome&#039;s service worker implementation was considering this or they actively ruled out preloading one already somehow?</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Tue Nov 06 2018 08:13:44 GMT-0800 (Pacific Standard Time)">16:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">annevk: from what they&#039;ve told me there are engineering challenges with first-run service worker that they have no plans on solving</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Tue Nov 06 2018 08:14:07 GMT-0800 (Pacific Standard Time)">16:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">For Firefox it&#039;s only the former as far as I know, the latter is to be seen</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Tue Nov 06 2018 08:14:13 GMT-0800 (Pacific Standard Time)">16:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: are those documented somewhere?</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Tue Nov 06 2018 08:14:29 GMT-0800 (Pacific Standard Time)">16:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Not that I know of</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Tue Nov 06 2018 08:14:40 GMT-0800 (Pacific Standard Time)">16:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: who would I ask?</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Tue Nov 06 2018 08:14:41 GMT-0800 (Pacific Standard Time)">16:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Domenic: Other implemenations are in Rust and C++, so we don’t want to tie the spec to JS if we can avoid it.</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Tue Nov 06 2018 08:14:42 GMT-0800 (Pacific Standard Time)">16:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">But their vibe was that it was kind of common knowledge, so I dunno, maybe?</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Tue Nov 06 2018 08:15:01 GMT-0800 (Pacific Standard Time)">16:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Domenic: But I don’t really understand what you’re proposing…</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Tue Nov 06 2018 08:16:08 GMT-0800 (Pacific Standard Time)">16:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">ato: My best guess so far is something like &quot;for each supported property index (<a href="https://heycam.github.io/webidl/#dfn-supported-property-indices">https://heycam.github.io/webidl/#dfn-supported-property-indices</a>), run the algorithm specified for the collection&#039;s indexed property getter (<a href="https://heycam.github.io/webidl/#dfn-indexed-property-getter)&quot">https://heycam.github.io/webidl/#dfn-indexed-property-getter)&quot</a>; and collect all those into a list (<a href="https://infra.spec.whatwg.org/#lists">https://infra.spec.whatwg.org/#lists</a>)</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Tue Nov 06 2018 08:16:37 GMT-0800 (Pacific Standard Time)">16:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">annevk: kinuko and matto</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Tue Nov 06 2018 08:17:11 GMT-0800 (Pacific Standard Time)">16:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</div></td><td class="msg-cell">Domenic: thanks</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Tue Nov 06 2018 08:17:51 GMT-0800 (Pacific Standard Time)">16:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">ato: for Arrays you&#039;re totally screwed though, you&#039;ll have to run JS with side effects. E.g if someone does `new Array(3); Object.defineProperty(Array.prototype, &quot;1&quot;, { get () { throw new Error(&quot;foo&quot;); } })` there&#039;s no way to avoid hitting that exception</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Tue Nov 06 2018 08:19:38 GMT-0800 (Pacific Standard Time)">16:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">ato: It appears you&#039;re also screwed for Arguments objects in a very similar way</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Tue Nov 06 2018 08:20:33 GMT-0800 (Pacific Standard Time)">16:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">By &quot;screwed&quot; I mean &quot;you&#039;ll run JS&quot;, not &quot;unimplementable in Rust and C++&quot;</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Tue Nov 06 2018 08:20:41 GMT-0800 (Pacific Standard Time)">16:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Rust and C++ implementations just need to use the JS API</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Tue Nov 06 2018 08:21:08 GMT-0800 (Pacific Standard Time)">16:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">s/JS API/JS engine API</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Tue Nov 06 2018 08:30:07 GMT-0800 (Pacific Standard Time)">16:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Domenic: Thanks for explaining that, very useful!</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Tue Nov 06 2018 08:30:39 GMT-0800 (Pacific Standard Time)">16:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Domenic: So we are aware of the pitfalls that we can’t trust the input data to the algorithm, and I don’t think we particularly care that we fail in this case.</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Tue Nov 06 2018 08:31:21 GMT-0800 (Pacific Standard Time)">16:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Domenic: If a website makes an array throw an error on iteration and you try to return that array using an injected script, you would expect that behaviour.</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Tue Nov 06 2018 08:31:28 GMT-0800 (Pacific Standard Time)">16:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">ato: but we do need to define well the failure case</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Tue Nov 06 2018 08:31:39 GMT-0800 (Pacific Standard Time)">16:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Yes, that sounds like what is missing here.</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Tue Nov 06 2018 08:31:49 GMT-0800 (Pacific Standard Time)">16:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Or, I mean, generally throughout the spec.</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Tue Nov 06 2018 08:31:53 GMT-0800 (Pacific Standard Time)">16:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">+1. Ideally with tests ;)</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Tue Nov 06 2018 08:32:25 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">For the other commands in the specification, we expect them to work irregardless of prototype overrides.</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Tue Nov 06 2018 08:32:46 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">So it would be funny to see what happens if you inject a script replacing querySelectorAll or whatever and then you try using the Find Elements WebDriver command.</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Tue Nov 06 2018 08:32:59 GMT-0800 (Pacific Standard Time)">16:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">My guess is that hillarity would ensue depending on the implementation.</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Tue Nov 06 2018 08:33:12 GMT-0800 (Pacific Standard Time)">16:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</div></td><td class="msg-cell">Domenic: How does jsdom cope with such Array.prototype shenanigans btw?</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Tue Nov 06 2018 08:33:30 GMT-0800 (Pacific Standard Time)">16:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">It’s not entirely clear to me how to define these error scenarios, but I’ll file a bug and we can take it from there.</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Tue Nov 06 2018 08:34:14 GMT-0800 (Pacific Standard Time)">16:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">It sounds like “define error scenarios” is orthogonal from s/type/instance of/ and indeed how to say “for item of value”.</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Tue Nov 06 2018 08:34:27 GMT-0800 (Pacific Standard Time)">16:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">nox: it doesn&#039;t, yet. We haven&#039;t tried to harden it. But it could via the various techniques discussed here: <a href="https://github.com/domenic/get-originals/blob/master/Sample%20conversion.md#array-manipulation-analysis">https://github.com/domenic/get-originals/blob/master/Sample%20conversion.md#array-manipulation-analysis</a> . (That doc uses a hypothetical &quot;get originals&quot; API, but jsdom has access to the originals via other means, so that part isn&#039;t necessary.)</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Tue Nov 06 2018 08:34:49 GMT-0800 (Pacific Standard Time)">16:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</div></td><td class="msg-cell">Domenic: Thanks for the link.</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Tue Nov 06 2018 08:34:50 GMT-0800 (Pacific Standard Time)">16:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">ato: I think &quot;define error semantics&quot; is not orthogonal to &quot;for item of value&quot; because how you iterate is what generates or hides errors.</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Tue Nov 06 2018 08:35:14 GMT-0800 (Pacific Standard Time)">16:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">You’re right. But maybe we can do it in steps.</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Tue Nov 06 2018 08:35:24 GMT-0800 (Pacific Standard Time)">16:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell">Would you say “for item of value” is the right terminology here?</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Tue Nov 06 2018 08:36:13 GMT-0800 (Pacific Standard Time)">16:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">No</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Tue Nov 06 2018 08:36:28 GMT-0800 (Pacific Standard Time)">16:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Because it&#039;s not defined</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Tue Nov 06 2018 08:47:59 GMT-0800 (Pacific Standard Time)">16:47</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=ato@irc>ato</span>&gt;</div></td><td class="msg-cell"><a href="https://github.com/w3c/webdriver/issues/1349">https://github.com/w3c/webdriver/issues/1349</a></td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Tue Nov 06 2018 12:08:47 GMT-0800 (Pacific Standard Time)">20:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</div></td><td class="msg-cell">Domenic: For Array, could we wrap them in a Proxy that uses the original Object.defineProperty in its set method?</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Tue Nov 06 2018 12:09:08 GMT-0800 (Pacific Standard Time)">20:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</div></td><td class="msg-cell">To be able to still do a[i] = x</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Tue Nov 06 2018 12:16:56 GMT-0800 (Pacific Standard Time)">20:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">nox: hmm yeah that seems pretty good, +1</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Tue Nov 06 2018 12:20:59 GMT-0800 (Pacific Standard Time)">20:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</div></td><td class="msg-cell">Domenic: And is there any way to use Array.values and Array.of to copy an array avoiding holes and stuff like that?</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Tue Nov 06 2018 12:21:14 GMT-0800 (Pacific Standard Time)">20:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">nox: not sure what you mean</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Tue Nov 06 2018 12:21:29 GMT-0800 (Pacific Standard Time)">20:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Is this for the input, i.e. implementing the sequence&lt;&gt; -&gt; list conversion?</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Tue Nov 06 2018 12:21:38 GMT-0800 (Pacific Standard Time)">20:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">In that case the per-spec thing is to just use the iterator protocol, for-of</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Tue Nov 06 2018 12:21:38 GMT-0800 (Pacific Standard Time)">20:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</div></td><td class="msg-cell">Yeah.</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Tue Nov 06 2018 12:21:49 GMT-0800 (Pacific Standard Time)">20:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</div></td><td class="msg-cell">Oh right.</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Tue Nov 06 2018 13:19:03 GMT-0800 (Pacific Standard Time)">21:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</div></td><td class="msg-cell">Domenic: With such an Array proxy, couldn&#039;t we also allow array method calls with the certainty that we are calling the original ones from Array.prototype?</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Tue Nov 06 2018 13:19:43 GMT-0800 (Pacific Standard Time)">21:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">nox: I&#039;m not sure exactly how to write it, but it&#039;s definitely true that with a proxy you could make <a href="http://myProxy.map">myProxy.map</a>() always do the right thing.</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Tue Nov 06 2018 13:20:23 GMT-0800 (Pacific Standard Time)">21:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</div></td><td class="msg-cell">Domenic: I was thinking something way more generic than that, like makeAProxyHandlerThatWillCallExactlyTheCurrentMethodsOfThatGivenPrototype(Array.prototype).</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Tue Nov 06 2018 13:20:40 GMT-0800 (Pacific Standard Time)">21:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Yeah, I mean, that seems doable. Writing proxies is such an art though.</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Tue Nov 06 2018 13:21:07 GMT-0800 (Pacific Standard Time)">21:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Also you&#039;d need to save each method you&#039;re interested in, to avoid people deleting <a href="http://Array.prototype.map">Array.prototype.map</a> at runtime and thus messing you up</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Tue Nov 06 2018 13:22:06 GMT-0800 (Pacific Standard Time)">21:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Array methods are not a real big deal though. If you&#039;re saving them anyway, you can just do arrayMap(myProxy, mapper) which is almost as nice.</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Tue Nov 06 2018 13:22:11 GMT-0800 (Pacific Standard Time)">21:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=nox@irc>nox</span>&gt;</div></td><td class="msg-cell">Domenic: Hence why a proxy handler constructed from the prototype.</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Tue Nov 06 2018 15:03:29 GMT-0800 (Pacific Standard Time)">23:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">I wonder if anybody has any clue why every time I now try to do a Google search in Canary, I only instead get a generated error page from Canary about an Origin Policy violation</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Tue Nov 06 2018 15:03:42 GMT-0800 (Pacific Standard Time)">23:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">Well, well, well. What do we have here? An Origin Policy violation.</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Tue Nov 06 2018 15:03:42 GMT-0800 (Pacific Standard Time)">23:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">And what do we not have? A page!</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Tue Nov 06 2018 15:03:42 GMT-0800 (Pacific Standard Time)">23:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">You&#039;re trying to go to: <a href="https://www.google.co.jp/search?q=foo&amp;oq=foo&amp;aqs=chrome..69i57j69i60j69i61j69i60j0l2.776j0j9&amp;sourceid=chrome&amp;ie=UTF-8">https://www.google.co.jp/search?q=foo&amp;oq=foo&amp;aqs=chrome..69i57j69i60j69i61j69i60j0l2.776j0j9&amp;sourceid=chrome&amp;ie=UTF-8</a></td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Tue Nov 06 2018 15:03:45 GMT-0800 (Pacific Standard Time)">23:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</div></td><td class="msg-cell">The policy applies to: <a href="https://www.google.co.jp">https://www.google.co.jp</a></td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Tue Nov 06 2018 15:25:05 GMT-0800 (Pacific Standard Time)">23:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">You must be in some experiment group</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Tue Nov 06 2018 15:25:17 GMT-0800 (Pacific Standard Time)">23:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">Or with a flag flipped</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Tue Nov 06 2018 15:25:24 GMT-0800 (Pacific Standard Time)">23:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</div></td><td class="msg-cell">And <a href="http://google.co.jp">google.co.jp</a> implemented something wrong</td></tr>

</tbody></table></div></div></div></body>
