<!doctype html>
<head>
  <title>#whatwg on 2018-04-10</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2018-04-10<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2018-04-09" class="nav-link"><span>prev</span></a>
<a href="2018-04-11" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Tue Apr 10 2018 02:03:14 GMT-0700 (Pacific Daylight Time)">09:03</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=yhirano__@irc>yhirano__</span>&gt;</td><td class="msg-cell">annevk: hi</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Tue Apr 10 2018 02:05:30 GMT-0700 (Pacific Daylight Time)">09:05</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yhirano__: hey</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Tue Apr 10 2018 02:06:30 GMT-0700 (Pacific Daylight Time)">09:06</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=yhirano__@irc>yhirano__</span>&gt;</td><td class="msg-cell">Regarding <a href="https://github.com/whatwg/html/pull/3592">https://github.com/whatwg/html/pull/3592</a>, are you talking about <a href="https://html.spec.whatwg.org/multipage/browsing-the-web.html#traverse-the-history">https://html.spec.whatwg.org/multipage/browsing-the-web.html#traverse-the-history</a>? or do you have other call sites in your mind?</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Tue Apr 10 2018 02:08:09 GMT-0700 (Pacific Daylight Time)">09:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yhirano__: the other one I&#039;m unclear on is reloading</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Apr 10 2018 02:08:40 GMT-0700 (Pacific Daylight Time)">09:08</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yhirano__: it says to use the Document object&#039;s URL, but it also takes into account other state such as whether the Document object was created as the result of a POST</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Apr 10 2018 02:09:14 GMT-0700 (Pacific Daylight Time)">09:09</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yhirano__: which leads me to think it doesn&#039;t actually use a URL</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Apr 10 2018 02:11:31 GMT-0700 (Pacific Daylight Time)">09:11</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=yhirano__@irc>yhirano__</span>&gt;</td><td class="msg-cell">annevk: <a href="https://html.spec.whatwg.org/#traverse-the-history">https://html.spec.whatwg.org/#traverse-the-history</a> gives a URL to the navigate algorithm. I can give a request with body and method set from the history entry instead, I think. As reloading reuses the previously used resource that will fix the reload case as well. Does it make sense?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Apr 10 2018 02:13:03 GMT-0700 (Pacific Daylight Time)">09:13</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yhirano__: I&#039;m not sure; I suspect that&#039;s still wrong for browsers with a &quot;fast&quot; back implementation, where they keep the tree alive</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Apr 10 2018 02:16:03 GMT-0700 (Pacific Daylight Time)">09:16</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=yhirano__@irc>yhirano__</span>&gt;</td><td class="msg-cell">sorry, what does the &quot;fast&quot; case mean?</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Apr 10 2018 02:18:06 GMT-0700 (Pacific Daylight Time)">09:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yhirano__: Firefox doesn&#039;t always rebuild the node tree</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Apr 10 2018 02:18:44 GMT-0700 (Pacific Daylight Time)">09:18</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yhirano__: so you go back and you end up with the same node instances as before</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Apr 10 2018 02:18:53 GMT-0700 (Pacific Daylight Time)">09:18</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=yhirano__@irc>yhirano__</span>&gt;</td><td class="msg-cell">annevk: So are you talking about the case where the first step is skipped (i.e., Document is alive), right?</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Apr 10 2018 02:19:05 GMT-0700 (Pacific Daylight Time)">09:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yhirano__: the HTML Standard supports this to some extent, though it&#039;s buggy</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Apr 10 2018 02:19:33 GMT-0700 (Pacific Daylight Time)">09:19</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">yhirano__: I&#039;m not sure what you&#039;re referring to; none of these algorithms are particularly fresh for me</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Apr 10 2018 02:20:13 GMT-0700 (Pacific Daylight Time)">09:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I wish I had managed to refactor these at some point so this wouldn&#039;t be such a problem, but I didn&#039;t succeed :/</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Apr 10 2018 02:28:41 GMT-0700 (Pacific Daylight Time)">09:28</a></td><td class="nick-cell">&lt;<span class="nick nick-13" title=yhirano__@irc>yhirano__</span>&gt;</td><td class="msg-cell">annevk: thank you, I will file a bug. I&#039;m not sure I can / should fix this issue soon though.</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Apr 10 2018 02:43:22 GMT-0700 (Pacific Daylight Time)">09:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Thanks, note that there might well be one already, there&#039;s loads of issues tagged with topic: navigate</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Apr 10 2018 07:19:30 GMT-0700 (Pacific Daylight Time)">14:19</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">gsnedders: I might take over <a href="https://github.com/w3c/web-platform-tests/pull/5525">https://github.com/w3c/web-platform-tests/pull/5525</a> if you don&#039;t mind. Do you have any thoughts on whether the tests are still good according to your standards a year later? E.g. tests that take 5 seconds seem a bit suspect to me.</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Apr 10 2018 07:20:46 GMT-0700 (Pacific Daylight Time)">14:20</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: the JS side of an interface callback is a non-function object, no?</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Apr 10 2018 07:21:01 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I am 95% sure that is the case, yes</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Apr 10 2018 07:21:11 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I see</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Apr 10 2018 07:21:14 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: in that case the concern still applies unfortunately</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue Apr 10 2018 07:21:29 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">I remember us going through this in some incumbent global thing</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Tue Apr 10 2018 07:21:51 GMT-0700 (Pacific Daylight Time)">14:21</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Domenic: 5s is mostly just trying to avoid any chance of flakiness, esp. with debug, given it&#039;s essentially racing the network</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Tue Apr 10 2018 07:22:08 GMT-0700 (Pacific Daylight Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Domenic: go ahead and take it over, though</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Tue Apr 10 2018 07:22:19 GMT-0700 (Pacific Daylight Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Domenic: I only hadn&#039;t done anything because there&#039;s not a huge amount of interop and no spec</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Tue Apr 10 2018 07:22:20 GMT-0700 (Pacific Daylight Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">The bad thing with these complex things is that there&#039;s months that go by sometimes before a bit more progress is made and then having to remember it all is just...</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Tue Apr 10 2018 07:22:47 GMT-0700 (Pacific Daylight Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">gsnedders: yeah, bz and I both seem to have gotten annoyed enough at this that we&#039;re going to make there be a clear spec.</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Tue Apr 10 2018 07:22:50 GMT-0700 (Pacific Daylight Time)">14:22</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">and tests</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Tue Apr 10 2018 07:23:05 GMT-0700 (Pacific Daylight Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">annevk: So for <a href="https://heycam.github.io/webidl/#call-a-user-objects-operation">https://heycam.github.io/webidl/#call-a-user-objects-operation</a> we just decided to use the realm of the object, despite ES vs. reality concerns.</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Tue Apr 10 2018 07:23:15 GMT-0700 (Pacific Daylight Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">It links to <a href="https://heycam.github.io/webidl/#dfn-associated-realm">https://heycam.github.io/webidl/#dfn-associated-realm</a></td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Tue Apr 10 2018 07:23:27 GMT-0700 (Pacific Daylight Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</td><td class="msg-cell">Domenic: yeah, I saw</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Tue Apr 10 2018 07:23:44 GMT-0700 (Pacific Daylight Time)">14:23</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: hah</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Tue Apr 10 2018 09:42:31 GMT-0700 (Pacific Daylight Time)">16:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">It seems the lower bar for an edge case is a 50-50 split across browsers</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Tue Apr 10 2018 09:42:38 GMT-0700 (Pacific Daylight Time)">16:42</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Not even too mad with such an outcome</td></tr>
</tbody></table>
</div></div></div></body>
