<!doctype html>
<head>
  <title>#whatwg on 2014-03-11</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2014-03-11<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2014-03-10" class="nav-link"><span>prev</span></a>
<a href="2014-03-12" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Mon Mar 10 2014 19:15:42 GMT-0700 (Pacific Daylight Time)">02:15</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">zewt: fwiw, about the problem you mentioned the other day about the validator reporting errors about URLs with non-default ports -- the underlying problem will be going away soon, because I&#039;m switching the URL checker in the validator away from the old Jena IRI checker we were usin</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Mon Mar 10 2014 19:16:34 GMT-0700 (Pacific Daylight Time)">02:16</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">switching to using smola_&#039;s Galimatias instead <a href="https://github.com/smola/galimatias">https://github.com/smola/galimatias</a></td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Mon Mar 10 2014 19:16:45 GMT-0700 (Pacific Daylight Time)">02:16</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">which implementes the whatwg URL spec</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Mon Mar 10 2014 19:17:53 GMT-0700 (Pacific Daylight Time)">02:17</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">so if you have objections to any of the error messages after that, you can blame either smola_ for his code or AnneVK for his spec :-)</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Tue Mar 11 2014 00:20:03 GMT-0700 (Pacific Daylight Time)">07:20</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">is anybody other than anne familiar with <a href="https://raw.github.com/w3c/web-platform-tests/master/url/urltestdata.txt">https://raw.github.com/w3c/web-platform-tests/master/url/urltestdata.txt</a>?</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Tue Mar 11 2014 00:20:31 GMT-0700 (Pacific Daylight Time)">07:20</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">oh that came from webkit</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Tue Mar 11 2014 01:23:58 GMT-0700 (Pacific Daylight Time)">08:23</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">hmm is the fragment part of a URL allowed to contain spaces?</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Tue Mar 11 2014 01:27:07 GMT-0700 (Pacific Daylight Time)">08:27</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">not allowed but it appears that the parsing algorithm results in the fragment of the parsed URL retain ingthe space as-is</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Tue Mar 11 2014 01:28:30 GMT-0700 (Pacific Daylight Time)">08:28</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">or maybe not, and smola_ parse has a bug[D[D[D[D[D[D[D[D[D[Dr</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Tue Mar 11 2014 01:45:11 GMT-0700 (Pacific Daylight Time)">08:45</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">ok, <a href="http://url.spec.whatwg.org/#fragment-state">http://url.spec.whatwg.org/#fragment-state</a> : &quot;3. utf-8 percent encode c using the simple encode set, and append the result to url&#039;s fragment.&quot;, where &quot;The simple encode set are all code points less than U+0020 (i.e. excluding U+0020) and all code points greater than U+007E.&quot;, which doesn&#039;t include U+0032 SPACE so that behavior is expected</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Tue Mar 11 2014 01:48:33 GMT-0700 (Pacific Daylight Time)">08:48</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Nono</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Tue Mar 11 2014 01:48:45 GMT-0700 (Pacific Daylight Time)">08:48</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Space is 32 decimal, so U+0020</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Tue Mar 11 2014 01:49:02 GMT-0700 (Pacific Daylight Time)">08:49</a></td><td class="nick-cell"><span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span></td><td class="msg-cell">poofs</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Tue Mar 11 2014 01:49:07 GMT-0700 (Pacific Daylight Time)">08:49</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">oh</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Tue Mar 11 2014 01:49:35 GMT-0700 (Pacific Daylight Time)">08:49</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">weird then</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Tue Mar 11 2014 01:49:43 GMT-0700 (Pacific Daylight Time)">08:49</a></td><td class="nick-cell"><span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span></td><td class="msg-cell">looks back at smola_ code</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Tue Mar 11 2014 02:20:12 GMT-0700 (Pacific Daylight Time)">09:20</a></td><td class="nick-cell">&lt;<span class="nick nick-11" title=MikeSmith@irc>MikeSmith</span>&gt;</td><td class="msg-cell">nm</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Tue Mar 11 2014 03:16:16 GMT-0700 (Pacific Daylight Time)">10:16</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">MikeSmith: I think anne subsumed urltestdata.txt into his tests</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Tue Mar 11 2014 09:54:44 GMT-0700 (Pacific Daylight Time)">16:54</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: ping</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Tue Mar 11 2014 09:54:52 GMT-0700 (Pacific Daylight Time)">16:54</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">hi</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Tue Mar 11 2014 09:55:17 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: saw your comment about deprecating &quot;bigger&quot; features in the showModalDialog thread</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Tue Mar 11 2014 09:55:27 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: something we&#039;re unsurprisingly interested in too :)</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Tue Mar 11 2014 09:55:36 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">that&#039;s mostly a reference to XSLT</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Tue Mar 11 2014 09:55:39 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: by &quot;bigger&quot;, do you mean &quot;used more often&quot;?</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Tue Mar 11 2014 09:55:47 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: hah</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Tue Mar 11 2014 09:55:53 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">the current approach we&#039;re pursuing for XSLT is to make a JS polyfill using asm.js</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Tue Mar 11 2014 09:55:55 GMT-0700 (Pacific Daylight Time)">16:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">XSLT was my baby</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Tue Mar 11 2014 09:56:02 GMT-0700 (Pacific Daylight Time)">16:56</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">oh, sorry :(</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Tue Mar 11 2014 09:56:11 GMT-0700 (Pacific Daylight Time)">16:56</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">it&#039;s ok, she had a good run</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Tue Mar 11 2014 09:56:35 GMT-0700 (Pacific Daylight Time)">16:56</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">in principle, the polyfill should work in Firefox too</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Tue Mar 11 2014 09:56:37 GMT-0700 (Pacific Daylight Time)">16:56</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">&quot;it seemed like a good idea at the time&quot;</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Tue Mar 11 2014 09:56:46 GMT-0700 (Pacific Daylight Time)">16:56</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">yeah, it made sense in the past when JavaScript was slow</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Tue Mar 11 2014 09:57:11 GMT-0700 (Pacific Daylight Time)">16:57</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Tue Mar 11 2014 09:57:38 GMT-0700 (Pacific Daylight Time)">16:57</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">why polyfill with asm.js? Would you compile all of libxml?</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Tue Mar 11 2014 09:57:41 GMT-0700 (Pacific Daylight Time)">16:57</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">are there specific things you&#039;re interested in deprecating?  these sorts of thing are more likely to stick if we coordinate</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Tue Mar 11 2014 09:57:45 GMT-0700 (Pacific Daylight Time)">16:57</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Tue Mar 11 2014 09:57:50 GMT-0700 (Pacific Daylight Time)">16:57</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">libxml + libxslt</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Tue Mar 11 2014 09:57:53 GMT-0700 (Pacific Daylight Time)">16:57</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">wow!</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Tue Mar 11 2014 09:58:00 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">then an extension to expose the API to web pages</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Tue Mar 11 2014 09:58:03 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">why not just use the DOM?</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Tue Mar 11 2014 09:58:20 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">and do a DOM-&gt;DOM transformation</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Tue Mar 11 2014 09:58:20 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I don&#039;t want to re-implement XSLT in JavaScript</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Tue Mar 11 2014 09:58:27 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Tue Mar 11 2014 09:58:29 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">there are several people who&#039;ve tried that</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Tue Mar 11 2014 09:58:36 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and their things sort of, kind of work</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Tue Mar 11 2014 09:58:48 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I also tried a Java one</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Tue Mar 11 2014 09:58:53 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">compiled it to JS using GWT</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Tue Mar 11 2014 09:58:55 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">disable-output-escaping is the big thing you&#039;d lose</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Tue Mar 11 2014 09:59:01 GMT-0700 (Pacific Daylight Time)">16:59</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and that worked for about half the sites</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Tue Mar 11 2014 09:59:12 GMT-0700 (Pacific Daylight Time)">16:59</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">but it had some bugs</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Tue Mar 11 2014 09:59:21 GMT-0700 (Pacific Daylight Time)">16:59</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">i fixed some of the bugs, but there were more bugs</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Tue Mar 11 2014 09:59:30 GMT-0700 (Pacific Daylight Time)">16:59</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">so I got sad and decided we needed to use the libxslt implementation</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Tue Mar 11 2014 09:59:36 GMT-0700 (Pacific Daylight Time)">16:59</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">heh</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Tue Mar 11 2014 09:59:40 GMT-0700 (Pacific Daylight Time)">16:59</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">makes sense</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Tue Mar 11 2014 10:00:19 GMT-0700 (Pacific Daylight Time)">17:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: showModalDialog is definitely the big one that would be exiting to get rid of. XSLT is an interesting one too, though if we polyfill it&#039;s not really &quot;getting rid of&quot;</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Tue Mar 11 2014 10:00:40 GMT-0700 (Pacific Daylight Time)">17:00</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">the idea is that we would put the polyfill in the extension gallery</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Tue Mar 11 2014 10:00:46 GMT-0700 (Pacific Daylight Time)">17:00</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">and not ship it with the browser</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Tue Mar 11 2014 10:00:52 GMT-0700 (Pacific Daylight Time)">17:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">(also, my heart does cry a little getting rid of XSLT)</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Tue Mar 11 2014 10:01:00 GMT-0700 (Pacific Daylight Time)">17:01</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">if people wanted to use it, they could install the extension</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Tue Mar 11 2014 10:01:12 GMT-0700 (Pacific Daylight Time)">17:01</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">also, people who were passionate about XSLT could fork our version and improve it</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Tue Mar 11 2014 10:01:17 GMT-0700 (Pacific Daylight Time)">17:01</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Hmm</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Tue Mar 11 2014 10:01:22 GMT-0700 (Pacific Daylight Time)">17:01</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i see</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Tue Mar 11 2014 10:01:26 GMT-0700 (Pacific Daylight Time)">17:01</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">interesting</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Tue Mar 11 2014 10:01:38 GMT-0700 (Pacific Daylight Time)">17:01</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">I thought there was enough of the public internet using XSLT that wasn&#039;t viable</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Tue Mar 11 2014 10:02:07 GMT-0700 (Pacific Daylight Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">i&#039;m hopeful we can solve that problem by making the extension discoverable</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Tue Mar 11 2014 10:02:09 GMT-0700 (Pacific Daylight Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">jgraham: the numbers that chrome is collecting looks really low</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Tue Mar 11 2014 10:02:20 GMT-0700 (Pacific Daylight Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">jgraham: much lower than showmodaldialog</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Tue Mar 11 2014 10:02:32 GMT-0700 (Pacific Daylight Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">A few years ago it was enough that Opera felt the need to implement it at least</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Tue Mar 11 2014 10:02:40 GMT-0700 (Pacific Daylight Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">e.g., an infobar that says &quot;this page is using an old API, click here to install a compatibility shim&quot;</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Tue Mar 11 2014 10:02:41 GMT-0700 (Pacific Daylight Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Maybe usage has declined</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Tue Mar 11 2014 10:02:48 GMT-0700 (Pacific Daylight Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">don&#039;t know</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Tue Mar 11 2014 10:02:59 GMT-0700 (Pacific Daylight Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i&#039;d definitely want to get Gecko specific stats</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Tue Mar 11 2014 10:03:01 GMT-0700 (Pacific Daylight Time)">17:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">anyhow</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Tue Mar 11 2014 10:03:19 GMT-0700 (Pacific Daylight Time)">17:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: there&#039;s a lot of interesting APIs on the Chrome usage stats page</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Tue Mar 11 2014 10:03:20 GMT-0700 (Pacific Daylight Time)">17:03</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell"><a href="http://www.chromestatus.com/metrics/feature/timeline/popularity/79">http://www.chromestatus.com/metrics/feature/timeline/popularity/79</a></td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Tue Mar 11 2014 10:03:25 GMT-0700 (Pacific Daylight Time)">17:03</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell"><a href="http://www.chromestatus.com/metrics/feature/timeline/popularity/78">http://www.chromestatus.com/metrics/feature/timeline/popularity/78</a></td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Tue Mar 11 2014 10:03:43 GMT-0700 (Pacific Daylight Time)">17:03</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">the XSLT thing is a bit of a dream still.  we&#039;re still working on the technical part</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Tue Mar 11 2014 10:03:58 GMT-0700 (Pacific Daylight Time)">17:03</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">sicking: those are just whatever people happened to add metrics for</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Tue Mar 11 2014 10:04:04 GMT-0700 (Pacific Daylight Time)">17:04</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">sicking: I wouldn&#039;t read into it too much</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Tue Mar 11 2014 10:04:05 GMT-0700 (Pacific Daylight Time)">17:04</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: &lt;isindex&gt; for example. And document.all()</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Tue Mar 11 2014 10:04:12 GMT-0700 (Pacific Daylight Time)">17:04</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">we&#039;ve removed &lt;isindex&gt;</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Tue Mar 11 2014 10:04:37 GMT-0700 (Pacific Daylight Time)">17:04</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: oh? Also &lt;input name=isindex&gt;?</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Tue Mar 11 2014 10:05:02 GMT-0700 (Pacific Daylight Time)">17:05</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">data:text/html,&lt;input name=isindex&gt;</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Tue Mar 11 2014 10:05:03 GMT-0700 (Pacific Daylight Time)">17:05</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">yep</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Tue Mar 11 2014 10:06:17 GMT-0700 (Pacific Daylight Time)">17:06</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: neat</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Tue Mar 11 2014 10:06:56 GMT-0700 (Pacific Daylight Time)">17:06</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: when you say &quot;don&#039;t read too much into it&quot;, does that mean you don&#039;t think the numbers are accurate?</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Tue Mar 11 2014 10:07:16 GMT-0700 (Pacific Daylight Time)">17:07</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: or does it mean that there&#039;s many more things that might have low usage but you don&#039;t gather stats on it</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Tue Mar 11 2014 10:07:32 GMT-0700 (Pacific Daylight Time)">17:07</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">I expected the latter, not the former</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Tue Mar 11 2014 10:08:08 GMT-0700 (Pacific Daylight Time)">17:08</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">the latter</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Tue Mar 11 2014 10:08:12 GMT-0700 (Pacific Daylight Time)">17:08</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Tue Mar 11 2014 10:08:14 GMT-0700 (Pacific Daylight Time)">17:08</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">cool</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Tue Mar 11 2014 10:08:58 GMT-0700 (Pacific Daylight Time)">17:08</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: other things that I&#039;d love to see stats on (we&#039;re building the same thing for gecko, so i can get it myself soon) is document.domain-setter and namespaced attributes (modulo the SVG ones)</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Tue Mar 11 2014 10:10:15 GMT-0700 (Pacific Daylight Time)">17:10</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">yeah, those would be interesting</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Tue Mar 11 2014 10:11:34 GMT-0700 (Pacific Daylight Time)">17:11</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">in part, getting rid of document.domain setting could allow a more narrow process infrastructure</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Tue Mar 11 2014 10:11:47 GMT-0700 (Pacific Daylight Time)">17:11</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i.e. process-per-origin rather than process-per-eTLD+1</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Tue Mar 11 2014 10:12:42 GMT-0700 (Pacific Daylight Time)">17:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">process separation in particular is something we have to figure out to make webapps happen I think</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Tue Mar 11 2014 10:12:48 GMT-0700 (Pacific Daylight Time)">17:12</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Pretty sure that document.domain setting is used every-f—ing-where</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Tue Mar 11 2014 10:13:23 GMT-0700 (Pacific Daylight Time)">17:13</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">jgraham: it used to be used by facebook.  not sure if they still use it</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Tue Mar 11 2014 10:13:24 GMT-0700 (Pacific Daylight Time)">17:13</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Tue Mar 11 2014 10:13:30 GMT-0700 (Pacific Daylight Time)">17:13</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">Also Yahoo</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Tue Mar 11 2014 10:17:35 GMT-0700 (Pacific Daylight Time)">17:17</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">if it&#039;s just a couple of sites that use it a lot, then that gives some hope of getting rid of it</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Tue Mar 11 2014 10:17:49 GMT-0700 (Pacific Daylight Time)">17:17</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">by evangelizing said sites</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Tue Mar 11 2014 10:18:02 GMT-0700 (Pacific Daylight Time)">17:18</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">That is a very optimistic view</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Tue Mar 11 2014 10:18:03 GMT-0700 (Pacific Daylight Time)">17:18</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">or even by whitelisting them and removing it elsewhere, then evangelizing</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Tue Mar 11 2014 10:18:04 GMT-0700 (Pacific Daylight Time)">17:18</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</td><td class="msg-cell">:)</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Tue Mar 11 2014 10:18:16 GMT-0700 (Pacific Daylight Time)">17:18</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i try to be :)</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Tue Mar 11 2014 10:19:30 GMT-0700 (Pacific Daylight Time)">17:19</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">wow, SVG is used on over 9 percent of the web</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Tue Mar 11 2014 10:19:34 GMT-0700 (Pacific Daylight Time)">17:19</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">that&#039;s amazing</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Tue Mar 11 2014 10:20:16 GMT-0700 (Pacific Daylight Time)">17:20</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">hmm.. though &quot;SVGSVGElementInDocument&quot; says only 0.1%. I&#039;m not sure what that means</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Tue Mar 11 2014 10:20:38 GMT-0700 (Pacific Daylight Time)">17:20</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Maybe inline vs &lt;img&gt;?</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Tue Mar 11 2014 10:21:35 GMT-0700 (Pacific Daylight Time)">17:21</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ooh</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Tue Mar 11 2014 10:22:04 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">both inline and &lt;img&gt; counts as &quot;in document&quot;. But Modernizr (presumably feature detection) doesn&#039;t</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Tue Mar 11 2014 10:22:23 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">sicking: yes, we&#039;ve tried a couple times to quantify SVG usage</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Tue Mar 11 2014 10:22:37 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">i think modernizr was causing tricking us a few times</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Tue Mar 11 2014 10:22:50 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so i guess pages use libraries that check if svg is supported, but then never actually use svg in any form?</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Tue Mar 11 2014 10:23:06 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Tue Mar 11 2014 10:23:11 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">makes sense</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Tue Mar 11 2014 10:23:21 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">we can check with pdr to be sure</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Tue Mar 11 2014 10:23:37 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">we had the same trouble with webkitNotifications</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Tue Mar 11 2014 10:23:50 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">where people would touch the property but not actually use it</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Tue Mar 11 2014 10:25:34 GMT-0700 (Pacific Daylight Time)">17:25</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: i&#039;m surprised that some of the properties see such big changes in use of such short period of time. Makes me worried about trusting the data</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Tue Mar 11 2014 10:25:49 GMT-0700 (Pacific Daylight Time)">17:25</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">for example <a href="http://www.chromestatus.com/metrics/feature/timeline/popularity/211">http://www.chromestatus.com/metrics/feature/timeline/popularity/211</a></td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Tue Mar 11 2014 10:25:53 GMT-0700 (Pacific Daylight Time)">17:25</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">which properties?</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Tue Mar 11 2014 10:26:05 GMT-0700 (Pacific Daylight Time)">17:26</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell"><a href="http://www.chromestatus.com/metrics/feature/timeline/popularity/211">http://www.chromestatus.com/metrics/feature/timeline/popularity/211</a></td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Tue Mar 11 2014 10:26:12 GMT-0700 (Pacific Daylight Time)">17:26</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">that&#039;s probably the metric rolling out into the stable channel</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Tue Mar 11 2014 10:26:18 GMT-0700 (Pacific Daylight Time)">17:26</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">aah</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Tue Mar 11 2014 10:26:33 GMT-0700 (Pacific Daylight Time)">17:26</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">the graphics aren&#039;t well normalized</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Tue Mar 11 2014 10:26:59 GMT-0700 (Pacific Daylight Time)">17:26</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">we have more detailed graphics internally that slice and dice by version and platform</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Tue Mar 11 2014 10:27:11 GMT-0700 (Pacific Daylight Time)">17:27</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">if you have specific questions, I can dig into those for you</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Tue Mar 11 2014 10:28:07 GMT-0700 (Pacific Daylight Time)">17:28</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">does those internal graphs allow you to get stats per website?</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Tue Mar 11 2014 10:28:19 GMT-0700 (Pacific Daylight Time)">17:28</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i.e. could you see if document.domain is only used by facebook/yahoo for example?</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Tue Mar 11 2014 10:28:35 GMT-0700 (Pacific Daylight Time)">17:28</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">(i&#039;m not really hoping that we can get rid of document.domain anytime soon)</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Tue Mar 11 2014 10:29:17 GMT-0700 (Pacific Daylight Time)">17:29</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">no, we don&#039;t have per-site data</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Tue Mar 11 2014 10:29:43 GMT-0700 (Pacific Daylight Time)">17:29</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">its aggregated by page views</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Tue Mar 11 2014 10:30:05 GMT-0700 (Pacific Daylight Time)">17:30</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Tue Mar 11 2014 10:31:00 GMT-0700 (Pacific Daylight Time)">17:31</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">another thing that would be lovely to get rid of is GlobalScopePolluter. But I think we&#039;d only have a chance to do so on non-quirks pages. Or in ES6 strict mode or some such</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Tue Mar 11 2014 10:32:55 GMT-0700 (Pacific Daylight Time)">17:32</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Remember how we only supported it in quirks and Chrome&#039;s demos pushed us to enable it everywhere?</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Tue Mar 11 2014 10:35:01 GMT-0700 (Pacific Daylight Time)">17:35</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">that was IE&#039;s demos right?</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Tue Mar 11 2014 10:35:21 GMT-0700 (Pacific Daylight Time)">17:35</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Ms2ger: Right, that was MS&#039;s demos. And it wasn&#039;t intentional I bet</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Tue Mar 11 2014 10:35:36 GMT-0700 (Pacific Daylight Time)">17:35</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">it seemed intentional... trying to create something that failed in other browsers...</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Tue Mar 11 2014 10:36:02 GMT-0700 (Pacific Daylight Time)">17:36</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: i don&#039;t think it was. They just didn&#039;t care about testing in other browsers</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Tue Mar 11 2014 10:36:21 GMT-0700 (Pacific Daylight Time)">17:36</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">which arguably is equivalent to making it not work in other browsers</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Tue Mar 11 2014 10:36:35 GMT-0700 (Pacific Daylight Time)">17:36</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">but I don&#039;t think they were intentional about breaking in other browsers</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Tue Mar 11 2014 10:36:54 GMT-0700 (Pacific Daylight Time)">17:36</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">anyhow, that&#039;s just guessing</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Tue Mar 11 2014 10:37:45 GMT-0700 (Pacific Daylight Time)">17:37</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">it was a sad time, i am still somewhat bitter</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Tue Mar 11 2014 10:37:54 GMT-0700 (Pacific Daylight Time)">17:37</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Ms2ger: and just because we couldn&#039;t get consensus to do something good about GlobalScopePolluter back then, doesn&#039;t mean that we can&#039;t get it now</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Tue Mar 11 2014 10:38:06 GMT-0700 (Pacific Daylight Time)">17:38</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Oh, sure</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Tue Mar 11 2014 10:38:31 GMT-0700 (Pacific Daylight Time)">17:38</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: actually, since I have you here...</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Tue Mar 11 2014 10:38:42 GMT-0700 (Pacific Daylight Time)">17:38</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: I had one more thought on binary Streams</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Tue Mar 11 2014 10:39:38 GMT-0700 (Pacific Daylight Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: yes?</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Tue Mar 11 2014 10:39:39 GMT-0700 (Pacific Daylight Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: have you thought about performance around Streams that shuffle lots of data? In particular about how many times an implementation will have to copy data between buffers?</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Tue Mar 11 2014 10:39:49 GMT-0700 (Pacific Daylight Time)">17:39</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: that is our primary concern :P</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Tue Mar 11 2014 10:40:12 GMT-0700 (Pacific Daylight Time)">17:40</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">there should be no copying in any in-process use cases</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Tue Mar 11 2014 10:40:35 GMT-0700 (Pacific Daylight Time)">17:40</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: I don&#039;t think that is possible in the current API</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Tue Mar 11 2014 10:40:51 GMT-0700 (Pacific Daylight Time)">17:40</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: it is possible, as shown by the implementation that does so</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Tue Mar 11 2014 10:40:51 GMT-0700 (Pacific Daylight Time)">17:40</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">hmm...</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Tue Mar 11 2014 10:41:57 GMT-0700 (Pacific Daylight Time)">17:41</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">the buffers can be implemented as queues (i.e. with pointers)</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Tue Mar 11 2014 10:42:25 GMT-0700 (Pacific Daylight Time)">17:42</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">so the location of the data chunks (e.g. ArrayBuffer backing stores) can stay the same all the time</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Tue Mar 11 2014 10:42:28 GMT-0700 (Pacific Daylight Time)">17:42</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: So say that I have a Stream representing reading from a file</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Tue Mar 11 2014 10:43:30 GMT-0700 (Pacific Daylight Time)">17:43</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: well.. if you just keep pointers to ArrayBuffers, then that means that you&#039;ll end up with an array of ArrayBuffers when the data is asked for. Not a single ArrayBuffer</td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Tue Mar 11 2014 10:43:57 GMT-0700 (Pacific Daylight Time)">17:43</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Tue Mar 11 2014 10:44:00 GMT-0700 (Pacific Daylight Time)">17:44</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">you ask for one chunk at a time</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Tue Mar 11 2014 10:44:15 GMT-0700 (Pacific Daylight Time)">17:44</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">read() returns a single chunk, in whatever format---object, arraybuffer, string, etc.</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Tue Mar 11 2014 10:44:29 GMT-0700 (Pacific Daylight Time)">17:44</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">(whatever the stream wants to give you)</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Tue Mar 11 2014 10:45:00 GMT-0700 (Pacific Daylight Time)">17:45</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">if you want to concatenate them for some reason (you should never need to do this really...) then you&#039;d do so yourself, and pay the cost.</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Tue Mar 11 2014 10:45:21 GMT-0700 (Pacific Daylight Time)">17:45</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: So read() doesn&#039;t return all data read so far? It just returns the first buffer of all data read so far (API-wise that&#039;s the same, but implementation and performance-wise they are different)</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Tue Mar 11 2014 10:45:39 GMT-0700 (Pacific Daylight Time)">17:45</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">while the stream is readable, read() returns the oldest unread chunk</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Tue Mar 11 2014 10:45:50 GMT-0700 (Pacific Daylight Time)">17:45</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">you call read() repeatedly until the stream is no longer readable</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Tue Mar 11 2014 10:46:16 GMT-0700 (Pacific Daylight Time)">17:46</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: so that&#039;s a &quot;yes&quot;?</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Tue Mar 11 2014 10:46:35 GMT-0700 (Pacific Daylight Time)">17:46</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: I don&#039;t know what &quot;first buffer&quot; means, but &quot;probably&quot;?</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Tue Mar 11 2014 10:47:15 GMT-0700 (Pacific Daylight Time)">17:47</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: <a href="https://github.com/whatwg/streams/blob/master/Examples.md#usage">https://github.com/whatwg/streams/blob/master/Examples.md#usage</a></td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Tue Mar 11 2014 10:48:11 GMT-0700 (Pacific Daylight Time)">17:48</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: well.. if I have a Stream that represents reading from a file. The way I&#039;d probably implement that is by having some background thread allocate buffers, then issue a read() call into that buffer and then send the buffer to the JS thread. And then do that in a loop until I&#039;ve read the whole file.</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Tue Mar 11 2014 10:48:29 GMT-0700 (Pacific Daylight Time)">17:48</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: how fast I&#039;d be sending buffers is a function of the OS IO performance at the time</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Tue Mar 11 2014 10:48:49 GMT-0700 (Pacific Daylight Time)">17:48</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: i.e. i might be creating buffers faster than JS is consuming them</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Tue Mar 11 2014 10:48:51 GMT-0700 (Pacific Daylight Time)">17:48</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: ok, by buffers here you mean &quot;ArrayBuffers&quot; (or their C++ backing stores), not &quot;stream buffers&quot;. I guess that&#039;s confusing.</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Tue Mar 11 2014 10:49:10 GMT-0700 (Pacific Daylight Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: I mean their C++ backing stores</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Tue Mar 11 2014 10:49:23 GMT-0700 (Pacific Daylight Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: which is essentially the same as an ArrayBuffer yes</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Tue Mar 11 2014 10:49:25 GMT-0700 (Pacific Daylight Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">streams each have a single buffer containing the chunks available for reading, so that&#039;s the confusion</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Tue Mar 11 2014 10:49:35 GMT-0700 (Pacific Daylight Time)">17:49</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">but ok makes sense</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Tue Mar 11 2014 10:50:06 GMT-0700 (Pacific Daylight Time)">17:50</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: so when the call comes to read(), I might be sitting on a long list of ArrayBuffers</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Tue Mar 11 2014 10:50:21 GMT-0700 (Pacific Daylight Time)">17:50</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">you shouldn&#039;t be, if you are respecting the backpressure</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Tue Mar 11 2014 10:51:02 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">the stream asks the underlying source (i.e. your C++) for a certain number of bytes</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Tue Mar 11 2014 10:51:06 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">up to a high water mark</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Tue Mar 11 2014 10:51:10 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">e.g. 16 KB</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Tue Mar 11 2014 10:51:28 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">so that is supposed to be the maximum stored in memory at any given time</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Tue Mar 11 2014 10:51:45 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: We want to enable paralell IO and processing, no?</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Tue Mar 11 2014 10:51:46 GMT-0700 (Pacific Daylight Time)">17:51</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">then it waits for the consumer to start draining that before asking you to fill back up to the HWM</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Tue Mar 11 2014 10:52:00 GMT-0700 (Pacific Daylight Time)">17:52</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sure, but the point of streams is to limit the memory used</td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Tue Mar 11 2014 10:52:10 GMT-0700 (Pacific Daylight Time)">17:52</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">so say 16 KB at a time</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Tue Mar 11 2014 10:52:18 GMT-0700 (Pacific Daylight Time)">17:52</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: sure, I&#039;m not saying that we&#039;d consume unlimited amounts of space.</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Tue Mar 11 2014 10:52:22 GMT-0700 (Pacific Daylight Time)">17:52</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Tue Mar 11 2014 10:52:40 GMT-0700 (Pacific Daylight Time)">17:52</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">abarth: didn&#039;t realise you&#039;d gotten rid of name=isindex, on the thread it was only the parser thing that people were talking about</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Tue Mar 11 2014 10:52:49 GMT-0700 (Pacific Daylight Time)">17:52</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: but reading 16KB into a single buffer, and then stop IO until that buffer has been requested by the page doesn&#039;t seem good performance-wise</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Tue Mar 11 2014 10:53:01 GMT-0700 (Pacific Daylight Time)">17:53</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">Hixie: maybe I don&#039;t understand what name=isindex does</td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Tue Mar 11 2014 10:53:08 GMT-0700 (Pacific Daylight Time)">17:53</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">Hixie: i think we only changed the parser</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Tue Mar 11 2014 10:53:09 GMT-0700 (Pacific Daylight Time)">17:53</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: i was told the most natural (backing-)buffer size for most OSes was 1KB</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Tue Mar 11 2014 10:53:23 GMT-0700 (Pacific Daylight Time)">17:53</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">abarth: no, looks like you got rod of more than the parser</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Tue Mar 11 2014 10:53:24 GMT-0700 (Pacific Daylight Time)">17:53</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">abarth: does look like name=isindex is gone too</td></tr>
  <tr class="msg" id="L198"><td class="ts-cell"><a class="ts" href="#L198" alt="Tue Mar 11 2014 10:53:42 GMT-0700 (Pacific Daylight Time)">17:53</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">ok, i didn&#039;t review the actual code change</td></tr>
  <tr class="msg" id="L199"><td class="ts-cell"><a class="ts" href="#L199" alt="Tue Mar 11 2014 10:53:51 GMT-0700 (Pacific Daylight Time)">17:53</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: well, what if you are uploading that to a server over a slow connection?</td></tr>
  <tr class="msg" id="L200"><td class="ts-cell"><a class="ts" href="#L200" alt="Tue Mar 11 2014 10:53:54 GMT-0700 (Pacific Daylight Time)">17:53</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: that might be true</td></tr>
  <tr class="msg" id="L201"><td class="ts-cell"><a class="ts" href="#L201" alt="Tue Mar 11 2014 10:54:12 GMT-0700 (Pacific Daylight Time)">17:54</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: maybe in browsers a higher default HWM makes sense. In node by default each stream should take only 16 KB max of memory</td></tr>
  <tr class="msg" id="L202"><td class="ts-cell"><a class="ts" href="#L202" alt="Tue Mar 11 2014 10:54:29 GMT-0700 (Pacific Daylight Time)">17:54</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: but maybe in browsers we anticipate fewer streams open at a given time so it should be higher</td></tr>
  <tr class="msg" id="L203"><td class="ts-cell"><a class="ts" href="#L203" alt="Tue Mar 11 2014 10:54:35 GMT-0700 (Pacific Daylight Time)">17:54</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: i agree that backpressure is an important topic. But it also seems important to support reading from a file at maximum speed, no?</td></tr>
  <tr class="msg" id="L204"><td class="ts-cell"><a class="ts" href="#L204" alt="Tue Mar 11 2014 10:54:52 GMT-0700 (Pacific Daylight Time)">17:54</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: you should read from the file exactly as fast as the consumer is able to process data</td></tr>
  <tr class="msg" id="L205"><td class="ts-cell"><a class="ts" href="#L205" alt="Tue Mar 11 2014 10:55:05 GMT-0700 (Pacific Daylight Time)">17:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: that&#039;s impossible</td></tr>
  <tr class="msg" id="L206"><td class="ts-cell"><a class="ts" href="#L206" alt="Tue Mar 11 2014 10:55:08 GMT-0700 (Pacific Daylight Time)">17:55</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: if the consumer processes data synchronously, then there will be no difference between a HWM of 16KB and a HWM of 0 KB</td></tr>
  <tr class="msg" id="L207"><td class="ts-cell"><a class="ts" href="#L207" alt="Tue Mar 11 2014 10:55:17 GMT-0700 (Pacific Daylight Time)">17:55</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">because in both cases the data never accumulates</td></tr>
  <tr class="msg" id="L208"><td class="ts-cell"><a class="ts" href="#L208" alt="Tue Mar 11 2014 10:55:26 GMT-0700 (Pacific Daylight Time)">17:55</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">so the limit is never hit</td></tr>
  <tr class="msg" id="L209"><td class="ts-cell"><a class="ts" href="#L209" alt="Tue Mar 11 2014 10:55:35 GMT-0700 (Pacific Daylight Time)">17:55</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">abarth: hey while you&#039;re here, quick TLS question unrelated to HTML. If I have two servers who talk to each other over TLS, can the &quot;client&quot; authenticate with a server certificate to prove its host name to the &quot;server&quot;?</td></tr>
  <tr class="msg" id="L210"><td class="ts-cell"><a class="ts" href="#L210" alt="Tue Mar 11 2014 10:55:49 GMT-0700 (Pacific Daylight Time)">17:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: i&#039;m still not understanding how you envison an implementation should work</td></tr>
  <tr class="msg" id="L211"><td class="ts-cell"><a class="ts" href="#L211" alt="Tue Mar 11 2014 10:55:57 GMT-0700 (Pacific Daylight Time)">17:55</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: exactly like the one we already have does work :)</td></tr>
  <tr class="msg" id="L212"><td class="ts-cell"><a class="ts" href="#L212" alt="Tue Mar 11 2014 10:56:12 GMT-0700 (Pacific Daylight Time)">17:56</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">Hixie: I think the client and server certs are different, but I&#039;m not sure</td></tr>
  <tr class="msg" id="L213"><td class="ts-cell"><a class="ts" href="#L213" alt="Tue Mar 11 2014 10:56:15 GMT-0700 (Pacific Daylight Time)">17:56</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: then I don&#039;t understand how the one you already has does work</td></tr>
  <tr class="msg" id="L214"><td class="ts-cell"><a class="ts" href="#L214" alt="Tue Mar 11 2014 10:56:31 GMT-0700 (Pacific Daylight Time)">17:56</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">abarth: ah, bummer</td></tr>
  <tr class="msg" id="L215"><td class="ts-cell"><a class="ts" href="#L215" alt="Tue Mar 11 2014 10:56:35 GMT-0700 (Pacific Daylight Time)">17:56</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: OK, I will find the source code for you</td></tr>
  <tr class="msg" id="L216"><td class="ts-cell"><a class="ts" href="#L216" alt="Tue Mar 11 2014 10:56:51 GMT-0700 (Pacific Daylight Time)">17:56</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">Hixie: you should check with someone who is sure though</td></tr>
  <tr class="msg" id="L217"><td class="ts-cell"><a class="ts" href="#L217" alt="Tue Mar 11 2014 10:57:03 GMT-0700 (Pacific Daylight Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">abarth: who would know better than you?</td></tr>
  <tr class="msg" id="L218"><td class="ts-cell"><a class="ts" href="#L218" alt="Tue Mar 11 2014 10:57:07 GMT-0700 (Pacific Daylight Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-2" title=abarth@irc>abarth</span>&gt;</td><td class="msg-cell">I&#039;d ask agl</td></tr>
  <tr class="msg" id="L219"><td class="ts-cell"><a class="ts" href="#L219" alt="Tue Mar 11 2014 10:57:10 GMT-0700 (Pacific Daylight Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: do you know how it works?</td></tr>
  <tr class="msg" id="L220"><td class="ts-cell"><a class="ts" href="#L220" alt="Tue Mar 11 2014 10:57:14 GMT-0700 (Pacific Daylight Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">abarth: k, thanks</td></tr>
  <tr class="msg" id="L221"><td class="ts-cell"><a class="ts" href="#L221" alt="Tue Mar 11 2014 10:57:20 GMT-0700 (Pacific Daylight Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: yes, but it&#039;s easier to point to code</td></tr>
  <tr class="msg" id="L222"><td class="ts-cell"><a class="ts" href="#L222" alt="Tue Mar 11 2014 10:57:32 GMT-0700 (Pacific Daylight Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: <a href="https://github.com/joyent/node/blob/master/lib/fs.js#L1518">https://github.com/joyent/node/blob/master/lib/fs.js#L1518</a></td></tr>
  <tr class="msg" id="L223"><td class="ts-cell"><a class="ts" href="#L223" alt="Tue Mar 11 2014 10:57:43 GMT-0700 (Pacific Daylight Time)">17:57</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">when the consumer asks for data, you read it and give it back to them</td></tr>
  <tr class="msg" id="L224"><td class="ts-cell"><a class="ts" href="#L224" alt="Tue Mar 11 2014 10:58:56 GMT-0700 (Pacific Daylight Time)">17:58</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">_read is called by the stream implementation when the stream&#039;s buffer is below the HWM.</td></tr>
  <tr class="msg" id="L225"><td class="ts-cell"><a class="ts" href="#L225" alt="Tue Mar 11 2014 10:59:07 GMT-0700 (Pacific Daylight Time)">17:59</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: so you don&#039;t issue a filesystem read until someone calls read()?</td></tr>
  <tr class="msg" id="L226"><td class="ts-cell"><a class="ts" href="#L226" alt="Tue Mar 11 2014 10:59:09 GMT-0700 (Pacific Daylight Time)">17:59</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">so this ensures the stream&#039;s buffer is always full up to the HWM</td></tr>
  <tr class="msg" id="L227"><td class="ts-cell"><a class="ts" href="#L227" alt="Tue Mar 11 2014 10:59:34 GMT-0700 (Pacific Daylight Time)">17:59</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: you preemtively fill the buffer up to the HWM, but once the HWM is reached you stop filling until they call read() to make space in the buffer.</td></tr>
  <tr class="msg" id="L228"><td class="ts-cell"><a class="ts" href="#L228" alt="Tue Mar 11 2014 11:00:05 GMT-0700 (Pacific Daylight Time)">18:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: so when you issue a filesystem read, you issue it for the full HWM size?</td></tr>
  <tr class="msg" id="L229"><td class="ts-cell"><a class="ts" href="#L229" alt="Tue Mar 11 2014 11:01:11 GMT-0700 (Pacific Daylight Time)">18:01</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: you should issue it for the amount of space in the buffer. Initially that will be full HWM size; after a single read() it will be [full HWM size - size of returned chunk]</td></tr>
  <tr class="msg" id="L230"><td class="ts-cell"><a class="ts" href="#L230" alt="Tue Mar 11 2014 11:01:30 GMT-0700 (Pacific Daylight Time)">18:01</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">after five reads it will be [full HWM size - 5 * size of returned chunk]</td></tr>
  <tr class="msg" id="L231"><td class="ts-cell"><a class="ts" href="#L231" alt="Tue Mar 11 2014 11:01:45 GMT-0700 (Pacific Daylight Time)">18:01</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: why wouldn&#039;t you return the full chunk?</td></tr>
  <tr class="msg" id="L232"><td class="ts-cell"><a class="ts" href="#L232" alt="Tue Mar 11 2014 11:02:02 GMT-0700 (Pacific Daylight Time)">18:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: wait</td></tr>
  <tr class="msg" id="L233"><td class="ts-cell"><a class="ts" href="#L233" alt="Tue Mar 11 2014 11:02:13 GMT-0700 (Pacific Daylight Time)">18:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">let&#039;s say the buffer has room for 16 chunks before hitting HWM</td></tr>
  <tr class="msg" id="L234"><td class="ts-cell"><a class="ts" href="#L234" alt="Tue Mar 11 2014 11:02:16 GMT-0700 (Pacific Daylight Time)">18:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: before we go further, lets be more explicit about what buffers we are talking about</td></tr>
  <tr class="msg" id="L235"><td class="ts-cell"><a class="ts" href="#L235" alt="Tue Mar 11 2014 11:02:24 GMT-0700 (Pacific Daylight Time)">18:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yes, i am talking about the stream&#039;s buffer</td></tr>
  <tr class="msg" id="L236"><td class="ts-cell"><a class="ts" href="#L236" alt="Tue Mar 11 2014 11:02:33 GMT-0700 (Pacific Daylight Time)">18:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">which has room for e.g. 16 KB of data</td></tr>
  <tr class="msg" id="L237"><td class="ts-cell"><a class="ts" href="#L237" alt="Tue Mar 11 2014 11:02:35 GMT-0700 (Pacific Daylight Time)">18:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">is a &quot;buffer&quot; a continuous piece of memory?</td></tr>
  <tr class="msg" id="L238"><td class="ts-cell"><a class="ts" href="#L238" alt="Tue Mar 11 2014 11:02:47 GMT-0700 (Pacific Daylight Time)">18:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i use &quot;chunk&quot; for a 1 KB chunk of data from the file</td></tr>
  <tr class="msg" id="L239"><td class="ts-cell"><a class="ts" href="#L239" alt="Tue Mar 11 2014 11:03:09 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">is a &quot;chunk&quot; a continuous piece of memory?</td></tr>
  <tr class="msg" id="L240"><td class="ts-cell"><a class="ts" href="#L240" alt="Tue Mar 11 2014 11:03:12 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L241"><td class="ts-cell"><a class="ts" href="#L241" alt="Tue Mar 11 2014 11:03:24 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so chunk is continous but buffer is not?</td></tr>
  <tr class="msg" id="L242"><td class="ts-cell"><a class="ts" href="#L242" alt="Tue Mar 11 2014 11:03:40 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">the stream&#039;s buffer is just a queue</td></tr>
  <tr class="msg" id="L243"><td class="ts-cell"><a class="ts" href="#L243" alt="Tue Mar 11 2014 11:03:40 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">a buffer is an array of up to 16 chunks?</td></tr>
  <tr class="msg" id="L244"><td class="ts-cell"><a class="ts" href="#L244" alt="Tue Mar 11 2014 11:03:44 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L245"><td class="ts-cell"><a class="ts" href="#L245" alt="Tue Mar 11 2014 11:03:46 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">conceptually</td></tr>
  <tr class="msg" id="L246"><td class="ts-cell"><a class="ts" href="#L246" alt="Tue Mar 11 2014 11:03:49 GMT-0700 (Pacific Daylight Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ok, cool</td></tr>
  <tr class="msg" id="L247"><td class="ts-cell"><a class="ts" href="#L247" alt="Tue Mar 11 2014 11:04:03 GMT-0700 (Pacific Daylight Time)">18:04</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">in node it looks like they use a contiguous chunk as a &quot;pool&quot; for the stream&#039;s buffer</td></tr>
  <tr class="msg" id="L248"><td class="ts-cell"><a class="ts" href="#L248" alt="Tue Mar 11 2014 11:04:57 GMT-0700 (Pacific Daylight Time)">18:04</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ok, so the first thing you do is that you issue a 1KB read to the OS to read into the first chunk</td></tr>
  <tr class="msg" id="L249"><td class="ts-cell"><a class="ts" href="#L249" alt="Tue Mar 11 2014 11:05:07 GMT-0700 (Pacific Daylight Time)">18:05</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">and then you do that in a loop until you have 16 chunks</td></tr>
  <tr class="msg" id="L250"><td class="ts-cell"><a class="ts" href="#L250" alt="Tue Mar 11 2014 11:05:13 GMT-0700 (Pacific Daylight Time)">18:05</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">if i am understanding my sources correctly, yes :)</td></tr>
  <tr class="msg" id="L251"><td class="ts-cell"><a class="ts" href="#L251" alt="Tue Mar 11 2014 11:05:20 GMT-0700 (Pacific Daylight Time)">18:05</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">these sources who tell me reading 1 KB at a time is best</td></tr>
  <tr class="msg" id="L252"><td class="ts-cell"><a class="ts" href="#L252" alt="Tue Mar 11 2014 11:05:26 GMT-0700 (Pacific Daylight Time)">18:05</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">meanwhile, if read() is called, you return the first chunk and the first chunk only</td></tr>
  <tr class="msg" id="L253"><td class="ts-cell"><a class="ts" href="#L253" alt="Tue Mar 11 2014 11:06:04 GMT-0700 (Pacific Daylight Time)">18:06</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yup</td></tr>
  <tr class="msg" id="L254"><td class="ts-cell"><a class="ts" href="#L254" alt="Tue Mar 11 2014 11:06:05 GMT-0700 (Pacific Daylight Time)">18:06</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">?</td></tr>
  <tr class="msg" id="L255"><td class="ts-cell"><a class="ts" href="#L255" alt="Tue Mar 11 2014 11:06:48 GMT-0700 (Pacific Daylight Time)">18:06</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ok, so that&#039;s what I was asking for earlier. No matter how many chunks (sorry, i used &quot;buffer&quot; earlier) has been read, you just return the first one</td></tr>
  <tr class="msg" id="L256"><td class="ts-cell"><a class="ts" href="#L256" alt="Tue Mar 11 2014 11:07:07 GMT-0700 (Pacific Daylight Time)">18:07</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">ok, heh, sorry it took us so long to get there</td></tr>
  <tr class="msg" id="L257"><td class="ts-cell"><a class="ts" href="#L257" alt="Tue Mar 11 2014 11:07:13 GMT-0700 (Pacific Daylight Time)">18:07</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yeah the buffer thing is confusing...</td></tr>
  <tr class="msg" id="L258"><td class="ts-cell"><a class="ts" href="#L258" alt="Tue Mar 11 2014 11:07:28 GMT-0700 (Pacific Daylight Time)">18:07</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">it&#039;s about &quot;buffering&quot; data, so i&#039;m hesitant to rename it to &quot;queue,&quot; but that might be less confusing...</td></tr>
  <tr class="msg" id="L259"><td class="ts-cell"><a class="ts" href="#L259" alt="Tue Mar 11 2014 11:08:09 GMT-0700 (Pacific Daylight Time)">18:08</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">often times &quot;memory buffer&quot; is used to describe a continuous block of memory that has been allocated</td></tr>
  <tr class="msg" id="L260"><td class="ts-cell"><a class="ts" href="#L260" alt="Tue Mar 11 2014 11:08:16 GMT-0700 (Pacific Daylight Time)">18:08</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">which is what got me confused</td></tr>
  <tr class="msg" id="L261"><td class="ts-cell"><a class="ts" href="#L261" alt="Tue Mar 11 2014 11:08:23 GMT-0700 (Pacific Daylight Time)">18:08</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">obviously there are many other types of buffers though</td></tr>
  <tr class="msg" id="L262"><td class="ts-cell"><a class="ts" href="#L262" alt="Tue Mar 11 2014 11:09:15 GMT-0700 (Pacific Daylight Time)">18:09</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i will open an issue, if other people agree that it is confusing i am happy to rename</td></tr>
  <tr class="msg" id="L263"><td class="ts-cell"><a class="ts" href="#L263" alt="Tue Mar 11 2014 11:09:42 GMT-0700 (Pacific Daylight Time)">18:09</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i don&#039;t really care, just explaining the terminology i&#039;m used to</td></tr>
  <tr class="msg" id="L264"><td class="ts-cell"><a class="ts" href="#L264" alt="Tue Mar 11 2014 11:10:05 GMT-0700 (Pacific Daylight Time)">18:10</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">if these terms appear in the spec, then it&#039;d be good to explain them</td></tr>
  <tr class="msg" id="L265"><td class="ts-cell"><a class="ts" href="#L265" alt="Tue Mar 11 2014 11:11:00 GMT-0700 (Pacific Daylight Time)">18:11</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">For sure</td></tr>
  <tr class="msg" id="L266"><td class="ts-cell"><a class="ts" href="#L266" alt="Tue Mar 11 2014 11:11:09 GMT-0700 (Pacific Daylight Time)">18:11</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ok, i&#039;ll have to chat up some other people that know IO performance better than me to know if this is a good strategy</td></tr>
  <tr class="msg" id="L267"><td class="ts-cell"><a class="ts" href="#L267" alt="Tue Mar 11 2014 11:11:53 GMT-0700 (Pacific Daylight Time)">18:11</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sounds good! feel free to put them in touch or open issues or whatnot.</td></tr>
  <tr class="msg" id="L268"><td class="ts-cell"><a class="ts" href="#L268" alt="Tue Mar 11 2014 11:12:35 GMT-0700 (Pacific Daylight Time)">18:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">one thing that is not possible in the current API, but that I think might be too non-JSy to worry about, is being able to reuse ArrayBuffer objects</td></tr>
  <tr class="msg" id="L269"><td class="ts-cell"><a class="ts" href="#L269" alt="Tue Mar 11 2014 11:12:44 GMT-0700 (Pacific Daylight Time)">18:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so you end up with a bunch of churn</td></tr>
  <tr class="msg" id="L270"><td class="ts-cell"><a class="ts" href="#L270" alt="Tue Mar 11 2014 11:12:53 GMT-0700 (Pacific Daylight Time)">18:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">allocator churn</td></tr>
  <tr class="msg" id="L271"><td class="ts-cell"><a class="ts" href="#L271" alt="Tue Mar 11 2014 11:12:58 GMT-0700 (Pacific Daylight Time)">18:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">but i suspect that&#039;s fine</td></tr>
  <tr class="msg" id="L272"><td class="ts-cell"><a class="ts" href="#L272" alt="Tue Mar 11 2014 11:13:33 GMT-0700 (Pacific Daylight Time)">18:13</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">s/ArrayBuffer objects/Arraybuffer backing store objects/</td></tr>
  <tr class="msg" id="L273"><td class="ts-cell"><a class="ts" href="#L273" alt="Tue Mar 11 2014 11:13:39 GMT-0700 (Pacific Daylight Time)">18:13</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">hmm yeah i had requests for that from a node person actually</td></tr>
  <tr class="msg" id="L274"><td class="ts-cell"><a class="ts" href="#L274" alt="Tue Mar 11 2014 11:13:45 GMT-0700 (Pacific Daylight Time)">18:13</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">.readInto(ab)</td></tr>
  <tr class="msg" id="L275"><td class="ts-cell"><a class="ts" href="#L275" alt="Tue Mar 11 2014 11:14:38 GMT-0700 (Pacific Daylight Time)">18:14</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">the tricky part is that you don&#039;t want to allow the page to have a reference to an ArrayBuffer that you are writing into on a background thread</td></tr>
  <tr class="msg" id="L276"><td class="ts-cell"><a class="ts" href="#L276" alt="Tue Mar 11 2014 11:14:57 GMT-0700 (Pacific Daylight Time)">18:14</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so you have to mess around with transferring ArrayBuffers back and forth</td></tr>
  <tr class="msg" id="L277"><td class="ts-cell"><a class="ts" href="#L277" alt="Tue Mar 11 2014 11:15:03 GMT-0700 (Pacific Daylight Time)">18:15</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">which is messy</td></tr>
  <tr class="msg" id="L278"><td class="ts-cell"><a class="ts" href="#L278" alt="Tue Mar 11 2014 11:15:34 GMT-0700 (Pacific Daylight Time)">18:15</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">ah yeah makes sense</td></tr>
  <tr class="msg" id="L279"><td class="ts-cell"><a class="ts" href="#L279" alt="Tue Mar 11 2014 11:15:40 GMT-0700 (Pacific Daylight Time)">18:15</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">cf. web audio api?</td></tr>
  <tr class="msg" id="L280"><td class="ts-cell"><a class="ts" href="#L280" alt="Tue Mar 11 2014 11:15:48 GMT-0700 (Pacific Daylight Time)">18:15</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">But the API might be as simple as Stream.releaseBuffer(ab) after you&#039;re done with it</td></tr>
  <tr class="msg" id="L281"><td class="ts-cell"><a class="ts" href="#L281" alt="Tue Mar 11 2014 11:16:21 GMT-0700 (Pacific Daylight Time)">18:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i haven&#039;t looked at webaudio</td></tr>
  <tr class="msg" id="L282"><td class="ts-cell"><a class="ts" href="#L282" alt="Tue Mar 11 2014 11:16:28 GMT-0700 (Pacific Daylight Time)">18:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">not sure what they do</td></tr>
  <tr class="msg" id="L283"><td class="ts-cell"><a class="ts" href="#L283" alt="Tue Mar 11 2014 11:17:03 GMT-0700 (Pacific Daylight Time)">18:17</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">well there was a whole issue with data races</td></tr>
  <tr class="msg" id="L284"><td class="ts-cell"><a class="ts" href="#L284" alt="Tue Mar 11 2014 11:17:16 GMT-0700 (Pacific Daylight Time)">18:17</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">which iirc was exactly that &quot;writing into it on a background thread&quot; thing</td></tr>
  <tr class="msg" id="L285"><td class="ts-cell"><a class="ts" href="#L285" alt="Tue Mar 11 2014 11:17:33 GMT-0700 (Pacific Daylight Time)">18:17</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ah, right</td></tr>
  <tr class="msg" id="L286"><td class="ts-cell"><a class="ts" href="#L286" alt="Tue Mar 11 2014 11:18:01 GMT-0700 (Pacific Daylight Time)">18:18</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ok, gotta head into office</td></tr>
  <tr class="msg" id="L287"><td class="ts-cell"><a class="ts" href="#L287" alt="Tue Mar 11 2014 11:18:26 GMT-0700 (Pacific Daylight Time)">18:18</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i&#039;ll try to get some perf guys to look at this. Not sure if i&#039;ll be able to, but i&#039;ll try</td></tr>
  <tr class="msg" id="L288"><td class="ts-cell"><a class="ts" href="#L288" alt="Tue Mar 11 2014 11:19:19 GMT-0700 (Pacific Daylight Time)">18:19</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">awesome, thank you</td></tr>
  <tr class="msg" id="L289"><td class="ts-cell"><a class="ts" href="#L289" alt="Tue Mar 11 2014 11:19:56 GMT-0700 (Pacific Daylight Time)">18:19</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: oooh, now i see what I was looking for. Is it expected that readBytes() will cause memory copying?</td></tr>
  <tr class="msg" id="L290"><td class="ts-cell"><a class="ts" href="#L290" alt="Tue Mar 11 2014 11:20:09 GMT-0700 (Pacific Daylight Time)">18:20</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">if so, that makes sense</td></tr>
  <tr class="msg" id="L291"><td class="ts-cell"><a class="ts" href="#L291" alt="Tue Mar 11 2014 11:22:28 GMT-0700 (Pacific Daylight Time)">18:22</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: er, i think you are looking at the wrong spec?</td></tr>
  <tr class="msg" id="L292"><td class="ts-cell"><a class="ts" href="#L292" alt="Tue Mar 11 2014 11:22:44 GMT-0700 (Pacific Daylight Time)">18:22</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: <a href="https://github.com/whatwg/streams">https://github.com/whatwg/streams</a></td></tr>
  <tr class="msg" id="L293"><td class="ts-cell"><a class="ts" href="#L293" alt="Tue Mar 11 2014 11:43:10 GMT-0700 (Pacific Daylight Time)">18:43</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: oooh! This looks so much better!</td></tr>
  <tr class="msg" id="L294"><td class="ts-cell"><a class="ts" href="#L294" alt="Tue Mar 11 2014 11:43:24 GMT-0700 (Pacific Daylight Time)">18:43</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: ahaha yay! :D</td></tr>
  <tr class="msg" id="L295"><td class="ts-cell"><a class="ts" href="#L295" alt="Tue Mar 11 2014 11:44:03 GMT-0700 (Pacific Daylight Time)">18:44</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: does read() return a promise?</td></tr>
  <tr class="msg" id="L296"><td class="ts-cell"><a class="ts" href="#L296" alt="Tue Mar 11 2014 11:44:12 GMT-0700 (Pacific Daylight Time)">18:44</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: nope, it&#039;s synchronous</td></tr>
  <tr class="msg" id="L297"><td class="ts-cell"><a class="ts" href="#L297" alt="Tue Mar 11 2014 11:44:38 GMT-0700 (Pacific Daylight Time)">18:44</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: how do you know if you can read from it?</td></tr>
  <tr class="msg" id="L298"><td class="ts-cell"><a class="ts" href="#L298" alt="Tue Mar 11 2014 11:44:49 GMT-0700 (Pacific Daylight Time)">18:44</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">.state?</td></tr>
  <tr class="msg" id="L299"><td class="ts-cell"><a class="ts" href="#L299" alt="Tue Mar 11 2014 11:44:56 GMT-0700 (Pacific Daylight Time)">18:44</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yeah exactly, state === &quot;readable&quot;</td></tr>
  <tr class="msg" id="L300"><td class="ts-cell"><a class="ts" href="#L300" alt="Tue Mar 11 2014 11:45:11 GMT-0700 (Pacific Daylight Time)">18:45</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">do you got a callback when state changes?</td></tr>
  <tr class="msg" id="L301"><td class="ts-cell"><a class="ts" href="#L301" alt="Tue Mar 11 2014 11:45:18 GMT-0700 (Pacific Daylight Time)">18:45</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">oh, wait()?</td></tr>
  <tr class="msg" id="L302"><td class="ts-cell"><a class="ts" href="#L302" alt="Tue Mar 11 2014 11:45:20 GMT-0700 (Pacific Daylight Time)">18:45</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yeah, exactly</td></tr>
  <tr class="msg" id="L303"><td class="ts-cell"><a class="ts" href="#L303" alt="Tue Mar 11 2014 11:45:49 GMT-0700 (Pacific Daylight Time)">18:45</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so you do while(state === readable) process(read()) ?</td></tr>
  <tr class="msg" id="L304"><td class="ts-cell"><a class="ts" href="#L304" alt="Tue Mar 11 2014 11:45:53 GMT-0700 (Pacific Daylight Time)">18:45</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i bet with this in hand the examples at <a href="https://github.com/whatwg/streams/blob/master/Examples.md#readable-streams">https://github.com/whatwg/streams/blob/master/Examples.md#readable-streams</a> make more sense</td></tr>
  <tr class="msg" id="L305"><td class="ts-cell"><a class="ts" href="#L305" alt="Tue Mar 11 2014 11:46:25 GMT-0700 (Pacific Daylight Time)">18:46</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">man, i&#039;m so happy all the encoding stuff is dropped</td></tr>
  <tr class="msg" id="L306"><td class="ts-cell"><a class="ts" href="#L306" alt="Tue Mar 11 2014 11:46:31 GMT-0700 (Pacific Daylight Time)">18:46</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">hahaha me too man</td></tr>
  <tr class="msg" id="L307"><td class="ts-cell"><a class="ts" href="#L307" alt="Tue Mar 11 2014 11:46:39 GMT-0700 (Pacific Daylight Time)">18:46</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i wasn&#039;t looking forward to having that argument :)</td></tr>
  <tr class="msg" id="L308"><td class="ts-cell"><a class="ts" href="#L308" alt="Tue Mar 11 2014 11:52:03 GMT-0700 (Pacific Daylight Time)">18:52</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: so it feels like you need a lot of boilerplate to implement streamToConsole. I.e. something that essentially pipes the stream into a process() function</td></tr>
  <tr class="msg" id="L309"><td class="ts-cell"><a class="ts" href="#L309" alt="Tue Mar 11 2014 11:54:38 GMT-0700 (Pacific Daylight Time)">18:54</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: somewhat agreed. the idea is it&#039;s a lower-level primitive and there will be lots of user-land stream-utils packages, or writable streams</td></tr>
  <tr class="msg" id="L310"><td class="ts-cell"><a class="ts" href="#L310" alt="Tue Mar 11 2014 11:54:55 GMT-0700 (Pacific Daylight Time)">18:54</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">interestingly in node it&#039;s not popular to simply stream something to a process function</td></tr>
  <tr class="msg" id="L311"><td class="ts-cell"><a class="ts" href="#L311" alt="Tue Mar 11 2014 11:55:03 GMT-0700 (Pacific Daylight Time)">18:55</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">normally it would be a writable or transform stream</td></tr>
  <tr class="msg" id="L312"><td class="ts-cell"><a class="ts" href="#L312" alt="Tue Mar 11 2014 11:55:27 GMT-0700 (Pacific Daylight Time)">18:55</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: interesting</td></tr>
  <tr class="msg" id="L313"><td class="ts-cell"><a class="ts" href="#L313" alt="Tue Mar 11 2014 11:56:27 GMT-0700 (Pacific Daylight Time)">18:56</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: a TransformStream which pipes all data through a mapping function might address the use cases</td></tr>
  <tr class="msg" id="L314"><td class="ts-cell"><a class="ts" href="#L314" alt="Tue Mar 11 2014 11:57:00 GMT-0700 (Pacific Daylight Time)">18:57</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yeah, I think it&#039;s part of the non-minimal subset to have easy ways of creating properly-behaved transform streams.</td></tr>
  <tr class="msg" id="L315"><td class="ts-cell"><a class="ts" href="#L315" alt="Tue Mar 11 2014 11:57:39 GMT-0700 (Pacific Daylight Time)">18:57</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: though honesly, the cases I&#039;ve needed the most are simply piping the data to disk or to a network connection</td></tr>
  <tr class="msg" id="L316"><td class="ts-cell"><a class="ts" href="#L316" alt="Tue Mar 11 2014 11:57:46 GMT-0700 (Pacific Daylight Time)">18:57</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so no processing needed</td></tr>
  <tr class="msg" id="L317"><td class="ts-cell"><a class="ts" href="#L317" alt="Tue Mar 11 2014 11:57:47 GMT-0700 (Pacific Daylight Time)">18:57</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">right, in that case, writable streams :)</td></tr>
  <tr class="msg" id="L318"><td class="ts-cell"><a class="ts" href="#L318" alt="Tue Mar 11 2014 11:57:53 GMT-0700 (Pacific Daylight Time)">18:57</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">right</td></tr>
  <tr class="msg" id="L319"><td class="ts-cell"><a class="ts" href="#L319" alt="Tue Mar 11 2014 11:58:22 GMT-0700 (Pacific Daylight Time)">18:58</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">or simply allowing XHR.send() to take a ReadableStream</td></tr>
  <tr class="msg" id="L320"><td class="ts-cell"><a class="ts" href="#L320" alt="Tue Mar 11 2014 12:00:26 GMT-0700 (Pacific Daylight Time)">19:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: any thoughts on putBack(ab)? It&#039;s something that we&#039;ve somewhat needed internally in Gecko</td></tr>
  <tr class="msg" id="L321"><td class="ts-cell"><a class="ts" href="#L321" alt="Tue Mar 11 2014 12:00:37 GMT-0700 (Pacific Daylight Time)">19:00</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: I am almost sure it is needed actually.</td></tr>
  <tr class="msg" id="L322"><td class="ts-cell"><a class="ts" href="#L322" alt="Tue Mar 11 2014 12:00:54 GMT-0700 (Pacific Daylight Time)">19:00</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i was trying to get away with not needing it but it seems likely.</td></tr>
  <tr class="msg" id="L323"><td class="ts-cell"><a class="ts" href="#L323" alt="Tue Mar 11 2014 12:02:04 GMT-0700 (Pacific Daylight Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell"><a href="https://github.com/whatwg/streams/issues/3">https://github.com/whatwg/streams/issues/3</a> the minimalists are arguing &quot;do it yourself&quot; but I think giving you the ability to push onto the stream&#039;s buffer, instead of maintaining your own, is much better.</td></tr>
  <tr class="msg" id="L324"><td class="ts-cell"><a class="ts" href="#L324" alt="Tue Mar 11 2014 12:02:14 GMT-0700 (Pacific Daylight Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">More unclear is <a href="https://github.com/whatwg/streams/issues/74">https://github.com/whatwg/streams/issues/74</a></td></tr>
  <tr class="msg" id="L325"><td class="ts-cell"><a class="ts" href="#L325" alt="Tue Mar 11 2014 12:02:19 GMT-0700 (Pacific Daylight Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">the case we had was wanting to peek at the beginning of a stream and decide what to do with it (display or save-to-disk). Once we had determined that we wanted to do either, it was really annoying to have to deal with sending a &lt;data we&#039;ve pulled out of stream to peek, remaining stream&gt; tuple to the chosen consumer, rather than just a simple stream</td></tr>
  <tr class="msg" id="L326"><td class="ts-cell"><a class="ts" href="#L326" alt="Tue Mar 11 2014 12:02:20 GMT-0700 (Pacific Daylight Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">(which is related)</td></tr>
  <tr class="msg" id="L327"><td class="ts-cell"><a class="ts" href="#L327" alt="Tue Mar 11 2014 12:02:44 GMT-0700 (Pacific Daylight Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">yeah, &quot;do it yourself&quot; has performance implications</td></tr>
  <tr class="msg" id="L328"><td class="ts-cell"><a class="ts" href="#L328" alt="Tue Mar 11 2014 12:02:55 GMT-0700 (Pacific Daylight Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i wonder about putBack vs. peek</td></tr>
  <tr class="msg" id="L329"><td class="ts-cell"><a class="ts" href="#L329" alt="Tue Mar 11 2014 12:03:02 GMT-0700 (Pacific Daylight Time)">19:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">that i don&#039;t know though</td></tr>
  <tr class="msg" id="L330"><td class="ts-cell"><a class="ts" href="#L330" alt="Tue Mar 11 2014 12:03:09 GMT-0700 (Pacific Daylight Time)">19:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">either might work</td></tr>
  <tr class="msg" id="L331"><td class="ts-cell"><a class="ts" href="#L331" alt="Tue Mar 11 2014 12:03:40 GMT-0700 (Pacific Daylight Time)">19:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">the tricky thing with peek is how to deal with a consumer that doesn&#039;t know how many bytes it needs to peek</td></tr>
  <tr class="msg" id="L332"><td class="ts-cell"><a class="ts" href="#L332" alt="Tue Mar 11 2014 12:04:04 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">you don&#039;t want it to have to do peek(10), then if that wasn&#039;t enough data peek(20) etc</td></tr>
  <tr class="msg" id="L333"><td class="ts-cell"><a class="ts" href="#L333" alt="Tue Mar 11 2014 12:04:30 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">but how do you create an API that allows you to &quot;peek a little more, on top of what i previously peeked&quot;</td></tr>
  <tr class="msg" id="L334"><td class="ts-cell"><a class="ts" href="#L334" alt="Tue Mar 11 2014 12:04:37 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">hmm yeah</td></tr>
  <tr class="msg" id="L335"><td class="ts-cell"><a class="ts" href="#L335" alt="Tue Mar 11 2014 12:04:40 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">potentially you could use a tee</td></tr>
  <tr class="msg" id="L336"><td class="ts-cell"><a class="ts" href="#L336" alt="Tue Mar 11 2014 12:04:41 GMT-0700 (Pacific Daylight Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">is putBack better in that regard?</td></tr>
  <tr class="msg" id="L337"><td class="ts-cell"><a class="ts" href="#L337" alt="Tue Mar 11 2014 12:05:14 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">putback would let you do read() until you&#039;ve got enough data, then do a putBack(array-of-all-data-I-read)</td></tr>
  <tr class="msg" id="L338"><td class="ts-cell"><a class="ts" href="#L338" alt="Tue Mar 11 2014 12:05:31 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">ah ok i see</td></tr>
  <tr class="msg" id="L339"><td class="ts-cell"><a class="ts" href="#L339" alt="Tue Mar 11 2014 12:05:46 GMT-0700 (Pacific Daylight Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">that&#039;s a fairly solid argument</td></tr>
  <tr class="msg" id="L340"><td class="ts-cell"><a class="ts" href="#L340" alt="Tue Mar 11 2014 12:06:06 GMT-0700 (Pacific Daylight Time)">19:06</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">but potentially you could also do a tee, and then read from the tee</td></tr>
  <tr class="msg" id="L341"><td class="ts-cell"><a class="ts" href="#L341" alt="Tue Mar 11 2014 12:06:13 GMT-0700 (Pacific Daylight Time)">19:06</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">that leaves the original stream unchanged</td></tr>
  <tr class="msg" id="L342"><td class="ts-cell"><a class="ts" href="#L342" alt="Tue Mar 11 2014 12:06:22 GMT-0700 (Pacific Daylight Time)">19:06</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i.e. you&#039;d implement peek by tee-ing the stream</td></tr>
  <tr class="msg" id="L343"><td class="ts-cell"><a class="ts" href="#L343" alt="Tue Mar 11 2014 12:06:56 GMT-0700 (Pacific Daylight Time)">19:06</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">a tee might have performance overhead though. Depending on how it handles chunks and buffers</td></tr>
  <tr class="msg" id="L344"><td class="ts-cell"><a class="ts" href="#L344" alt="Tue Mar 11 2014 12:07:38 GMT-0700 (Pacific Daylight Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">arbuably, read-then-putback is also going to affect buffers to some extent</td></tr>
  <tr class="msg" id="L345"><td class="ts-cell"><a class="ts" href="#L345" alt="Tue Mar 11 2014 12:08:06 GMT-0700 (Pacific Daylight Time)">19:08</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i am tempted to avoid tees if possible; they seem annoying and complex</td></tr>
  <tr class="msg" id="L346"><td class="ts-cell"><a class="ts" href="#L346" alt="Tue Mar 11 2014 12:08:17 GMT-0700 (Pacific Daylight Time)">19:08</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">(but of course necessary in some cases)</td></tr>
  <tr class="msg" id="L347"><td class="ts-cell"><a class="ts" href="#L347" alt="Tue Mar 11 2014 12:08:38 GMT-0700 (Pacific Daylight Time)">19:08</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L348"><td class="ts-cell"><a class="ts" href="#L348" alt="Tue Mar 11 2014 12:09:26 GMT-0700 (Pacific Daylight Time)">19:09</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">btw, if you go the putBack route, then it&#039;d be great if you could transfer buffers into the stream when putting them back. Otherwise the stream has to copy them</td></tr>
  <tr class="msg" id="L349"><td class="ts-cell"><a class="ts" href="#L349" alt="Tue Mar 11 2014 12:09:48 GMT-0700 (Pacific Daylight Time)">19:09</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">why would it have to copy them?</td></tr>
  <tr class="msg" id="L350"><td class="ts-cell"><a class="ts" href="#L350" alt="Tue Mar 11 2014 12:10:06 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">it wouldn&#039;t need to modify them after they&#039;re put back</td></tr>
  <tr class="msg" id="L351"><td class="ts-cell"><a class="ts" href="#L351" alt="Tue Mar 11 2014 12:10:13 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">it would just keep it around for the next read() call</td></tr>
  <tr class="msg" id="L352"><td class="ts-cell"><a class="ts" href="#L352" alt="Tue Mar 11 2014 12:10:27 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">since ArrayBuffers are mutable. And you don&#039;t want whoever putBack the data to be able to mutate the data once it&#039;s semantically &quot;in the stream&quot;</td></tr>
  <tr class="msg" id="L353"><td class="ts-cell"><a class="ts" href="#L353" alt="Tue Mar 11 2014 12:10:38 GMT-0700 (Pacific Daylight Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">mmm :-/</td></tr>
  <tr class="msg" id="L354"><td class="ts-cell"><a class="ts" href="#L354" alt="Tue Mar 11 2014 12:11:00 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">well but streams are not just ArrayBuffers. This is a general issue with any mutable objects you put back in the stream</td></tr>
  <tr class="msg" id="L355"><td class="ts-cell"><a class="ts" href="#L355" alt="Tue Mar 11 2014 12:11:13 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">yup</td></tr>
  <tr class="msg" id="L356"><td class="ts-cell"><a class="ts" href="#L356" alt="Tue Mar 11 2014 12:11:18 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">this is also an issue for peek</td></tr>
  <tr class="msg" id="L357"><td class="ts-cell"><a class="ts" href="#L357" alt="Tue Mar 11 2014 12:11:47 GMT-0700 (Pacific Daylight Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">you don&#039;t want to enable someone to peek the start of the stream and then mutate the contents of the un-read() data</td></tr>
  <tr class="msg" id="L358"><td class="ts-cell"><a class="ts" href="#L358" alt="Tue Mar 11 2014 12:12:26 GMT-0700 (Pacific Daylight Time)">19:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">it&#039;s arguably (though yehuda might not agree) somewhat different with ArrayBuffers</td></tr>
  <tr class="msg" id="L359"><td class="ts-cell"><a class="ts" href="#L359" alt="Tue Mar 11 2014 12:12:40 GMT-0700 (Pacific Daylight Time)">19:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">I don&#039;t think of a Stream as a objectstream of ArrayBuffer objects</td></tr>
  <tr class="msg" id="L360"><td class="ts-cell"><a class="ts" href="#L360" alt="Tue Mar 11 2014 12:12:44 GMT-0700 (Pacific Daylight Time)">19:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">I think of it as a stream of bytes</td></tr>
  <tr class="msg" id="L361"><td class="ts-cell"><a class="ts" href="#L361" alt="Tue Mar 11 2014 12:12:58 GMT-0700 (Pacific Daylight Time)">19:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">it seems surprising that you could mutate those bytes inside the stream</td></tr>
  <tr class="msg" id="L362"><td class="ts-cell"><a class="ts" href="#L362" alt="Tue Mar 11 2014 12:13:14 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">with a stream of objects you can&#039;t mutate which objects the stream if containing</td></tr>
  <tr class="msg" id="L363"><td class="ts-cell"><a class="ts" href="#L363" alt="Tue Mar 11 2014 12:13:22 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">but you can mutate the objects</td></tr>
  <tr class="msg" id="L364"><td class="ts-cell"><a class="ts" href="#L364" alt="Tue Mar 11 2014 12:13:24 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">it seems pretty awkward to think of it as a stream of bytes</td></tr>
  <tr class="msg" id="L365"><td class="ts-cell"><a class="ts" href="#L365" alt="Tue Mar 11 2014 12:13:35 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">really?</td></tr>
  <tr class="msg" id="L366"><td class="ts-cell"><a class="ts" href="#L366" alt="Tue Mar 11 2014 12:13:43 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">read() would then return a single byte</td></tr>
  <tr class="msg" id="L367"><td class="ts-cell"><a class="ts" href="#L367" alt="Tue Mar 11 2014 12:13:54 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">well, we do chunks for performance</td></tr>
  <tr class="msg" id="L368"><td class="ts-cell"><a class="ts" href="#L368" alt="Tue Mar 11 2014 12:14:09 GMT-0700 (Pacific Daylight Time)">19:14</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">but really what we&#039;re semantically representing is a stream of bytes</td></tr>
  <tr class="msg" id="L369"><td class="ts-cell"><a class="ts" href="#L369" alt="Tue Mar 11 2014 12:14:22 GMT-0700 (Pacific Daylight Time)">19:14</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">but that&#039;s not what the API is communicating :-S</td></tr>
  <tr class="msg" id="L370"><td class="ts-cell"><a class="ts" href="#L370" alt="Tue Mar 11 2014 12:14:53 GMT-0700 (Pacific Daylight Time)">19:14</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">besides, why bytes and not words or bits or disk sectors? :P</td></tr>
  <tr class="msg" id="L371"><td class="ts-cell"><a class="ts" href="#L371" alt="Tue Mar 11 2014 12:16:11 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">well.. there&#039;s the whole platform endianness debacle</td></tr>
  <tr class="msg" id="L372"><td class="ts-cell"><a class="ts" href="#L372" alt="Tue Mar 11 2014 12:16:32 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">but if we agree that it&#039;s unfortunate that ArrayBufferViews expose CPU endianness</td></tr>
  <tr class="msg" id="L373"><td class="ts-cell"><a class="ts" href="#L373" alt="Tue Mar 11 2014 12:16:32 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">then an ArrayBuffer contains bytes and not words</td></tr>
  <tr class="msg" id="L374"><td class="ts-cell"><a class="ts" href="#L374" alt="Tue Mar 11 2014 12:16:49 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">but yes, you can think of it as a stream of bits too</td></tr>
  <tr class="msg" id="L375"><td class="ts-cell"><a class="ts" href="#L375" alt="Tue Mar 11 2014 12:16:55 GMT-0700 (Pacific Daylight Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">a stream of bits and a stream of bytes seem equivalent</td></tr>
  <tr class="msg" id="L376"><td class="ts-cell"><a class="ts" href="#L376" alt="Tue Mar 11 2014 12:17:28 GMT-0700 (Pacific Daylight Time)">19:17</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i guess i am more concerned about how consumers interact with the API than what is semantically being represented</td></tr>
  <tr class="msg" id="L377"><td class="ts-cell"><a class="ts" href="#L377" alt="Tue Mar 11 2014 12:18:00 GMT-0700 (Pacific Daylight Time)">19:18</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">sure, but it&#039;ll affect API behavior</td></tr>
  <tr class="msg" id="L378"><td class="ts-cell"><a class="ts" href="#L378" alt="Tue Mar 11 2014 12:19:18 GMT-0700 (Pacific Daylight Time)">19:19</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">if you create a WritableStream/ReadableStream pair (can you?), would you expect that object identity of ArrayBuffer objects would remain?</td></tr>
  <tr class="msg" id="L379"><td class="ts-cell"><a class="ts" href="#L379" alt="Tue Mar 11 2014 12:20:21 GMT-0700 (Pacific Daylight Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">what do you mean by a pair in this case?</td></tr>
  <tr class="msg" id="L380"><td class="ts-cell"><a class="ts" href="#L380" alt="Tue Mar 11 2014 12:21:03 GMT-0700 (Pacific Daylight Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">can you create a WriableStream/ReadableStream pair such that anything that&#039;s written into the WriableStream appears in the ReadableStream?</td></tr>
  <tr class="msg" id="L381"><td class="ts-cell"><a class="ts" href="#L381" alt="Tue Mar 11 2014 12:21:17 GMT-0700 (Pacific Daylight Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sure, that&#039;s an identity transform stream</td></tr>
  <tr class="msg" id="L382"><td class="ts-cell"><a class="ts" href="#L382" alt="Tue Mar 11 2014 12:22:39 GMT-0700 (Pacific Daylight Time)">19:22</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">do you have to write JS code which pumps data between the two? Or can you create a pair of platform objects where that happens automatically?</td></tr>
  <tr class="msg" id="L383"><td class="ts-cell"><a class="ts" href="#L383" alt="Tue Mar 11 2014 12:24:39 GMT-0700 (Pacific Daylight Time)">19:24</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">you could create platform objects implement in JS... but the JS code to pump data between the two would just be something like `new TransformStream(function (in) { return this.addToOutput(in); })` (non-final API)</td></tr>
  <tr class="msg" id="L384"><td class="ts-cell"><a class="ts" href="#L384" alt="Tue Mar 11 2014 12:26:15 GMT-0700 (Pacific Daylight Time)">19:26</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">is a TransformStream both a readablestream and a writablestream in one object?</td></tr>
  <tr class="msg" id="L385"><td class="ts-cell"><a class="ts" href="#L385" alt="Tue Mar 11 2014 12:26:32 GMT-0700 (Pacific Daylight Time)">19:26</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">it is an { input: WritableStream, output: WritableStream } object literal</td></tr>
  <tr class="msg" id="L386"><td class="ts-cell"><a class="ts" href="#L386" alt="Tue Mar 11 2014 12:26:57 GMT-0700 (Pacific Daylight Time)">19:26</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">not nominally type-checked, of course</td></tr>
  <tr class="msg" id="L387"><td class="ts-cell"><a class="ts" href="#L387" alt="Tue Mar 11 2014 12:27:18 GMT-0700 (Pacific Daylight Time)">19:27</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">do you mean { input: WritableStream, output: ReadableStream }?</td></tr>
  <tr class="msg" id="L388"><td class="ts-cell"><a class="ts" href="#L388" alt="Tue Mar 11 2014 12:27:39 GMT-0700 (Pacific Daylight Time)">19:27</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yes, sorry</td></tr>
  <tr class="msg" id="L389"><td class="ts-cell"><a class="ts" href="#L389" alt="Tue Mar 11 2014 12:28:00 GMT-0700 (Pacific Daylight Time)">19:28</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">wait, i stil don&#039;t get it. What does the &#039;this&#039; map to in your code example?</td></tr>
  <tr class="msg" id="L390"><td class="ts-cell"><a class="ts" href="#L390" alt="Tue Mar 11 2014 12:28:07 GMT-0700 (Pacific Daylight Time)">19:28</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">not that object literal obviously</td></tr>
  <tr class="msg" id="L391"><td class="ts-cell"><a class="ts" href="#L391" alt="Tue Mar 11 2014 12:29:14 GMT-0700 (Pacific Daylight Time)">19:29</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">nah, it was a perhaps overly-simplified example. the idea is that the TransformStream helper produces such objects. Perhaps a better constructor would be `new SyncTransformStream(function (in) { return in; })` or `new AsyncTransformStream(function (in, push, done) { push(in); push(in); done(); })` or something</td></tr>
  <tr class="msg" id="L392"><td class="ts-cell"><a class="ts" href="#L392" alt="Tue Mar 11 2014 12:29:25 GMT-0700 (Pacific Daylight Time)">19:29</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">this area is largely under-developed</td></tr>
  <tr class="msg" id="L393"><td class="ts-cell"><a class="ts" href="#L393" alt="Tue Mar 11 2014 12:29:57 GMT-0700 (Pacific Daylight Time)">19:29</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">as long as SyncTransformStream and AsyncTransformStream objects have { input, output } properties everything will work.</td></tr>
  <tr class="msg" id="L394"><td class="ts-cell"><a class="ts" href="#L394" alt="Tue Mar 11 2014 12:30:41 GMT-0700 (Pacific Daylight Time)">19:30</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">ok, let me ask the question this way then. If I have a ReadableStream, that I got from say XHR, can I pass that to Worker?</td></tr>
  <tr class="msg" id="L395"><td class="ts-cell"><a class="ts" href="#L395" alt="Tue Mar 11 2014 12:31:01 GMT-0700 (Pacific Daylight Time)">19:31</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">that goes outside my area of expertise... doesn&#039;t that have to be transferrable then?</td></tr>
  <tr class="msg" id="L396"><td class="ts-cell"><a class="ts" href="#L396" alt="Tue Mar 11 2014 12:31:39 GMT-0700 (Pacific Daylight Time)">19:31</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">transferrable or structured-clonable. For streams transferrable is indeed what you likely want</td></tr>
  <tr class="msg" id="L397"><td class="ts-cell"><a class="ts" href="#L397" alt="Tue Mar 11 2014 12:32:08 GMT-0700 (Pacific Daylight Time)">19:32</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i assume that would have to apply to all objects it holds a reference too</td></tr>
  <tr class="msg" id="L398"><td class="ts-cell"><a class="ts" href="#L398" alt="Tue Mar 11 2014 12:32:12 GMT-0700 (Pacific Daylight Time)">19:32</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">otherwise you have to tee the stream</td></tr>
  <tr class="msg" id="L399"><td class="ts-cell"><a class="ts" href="#L399" alt="Tue Mar 11 2014 12:32:18 GMT-0700 (Pacific Daylight Time)">19:32</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">which would include arbitrary objects in general</td></tr>
  <tr class="msg" id="L400"><td class="ts-cell"><a class="ts" href="#L400" alt="Tue Mar 11 2014 12:32:23 GMT-0700 (Pacific Daylight Time)">19:32</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">since you can create a stream of arbitrary objects</td></tr>
  <tr class="msg" id="L401"><td class="ts-cell"><a class="ts" href="#L401" alt="Tue Mar 11 2014 12:32:35 GMT-0700 (Pacific Daylight Time)">19:32</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">this is a stream i got from an XHR</td></tr>
  <tr class="msg" id="L402"><td class="ts-cell"><a class="ts" href="#L402" alt="Tue Mar 11 2014 12:32:48 GMT-0700 (Pacific Daylight Time)">19:32</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">...if that makes a difference</td></tr>
  <tr class="msg" id="L403"><td class="ts-cell"><a class="ts" href="#L403" alt="Tue Mar 11 2014 12:33:07 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L404"><td class="ts-cell"><a class="ts" href="#L404" alt="Tue Mar 11 2014 12:33:17 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so can you transfer that to a worker?</td></tr>
  <tr class="msg" id="L405"><td class="ts-cell"><a class="ts" href="#L405" alt="Tue Mar 11 2014 12:33:19 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">so i think i see what you&#039;re getting at</td></tr>
  <tr class="msg" id="L406"><td class="ts-cell"><a class="ts" href="#L406" alt="Tue Mar 11 2014 12:33:31 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">you would like certain platform-created streams to only hold references to transferable objects</td></tr>
  <tr class="msg" id="L407"><td class="ts-cell"><a class="ts" href="#L407" alt="Tue Mar 11 2014 12:33:35 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">so that they could be tranfserred to workers</td></tr>
  <tr class="msg" id="L408"><td class="ts-cell"><a class="ts" href="#L408" alt="Tue Mar 11 2014 12:33:38 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">but putBack would defeat this</td></tr>
  <tr class="msg" id="L409"><td class="ts-cell"><a class="ts" href="#L409" alt="Tue Mar 11 2014 12:33:48 GMT-0700 (Pacific Daylight Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">not neccesarily</td></tr>
  <tr class="msg" id="L410"><td class="ts-cell"><a class="ts" href="#L410" alt="Tue Mar 11 2014 12:34:09 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">and i don&#039;t think i just want it for &quot;certain platform created streams&quot;</td></tr>
  <tr class="msg" id="L411"><td class="ts-cell"><a class="ts" href="#L411" alt="Tue Mar 11 2014 12:34:33 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">well user-created streams can be streams of functions, which IIRC are not transferable</td></tr>
  <tr class="msg" id="L412"><td class="ts-cell"><a class="ts" href="#L412" alt="Tue Mar 11 2014 12:34:45 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">or streams where most of the time it&#039;s a string and then every 1000th element is a function</td></tr>
  <tr class="msg" id="L413"><td class="ts-cell"><a class="ts" href="#L413" alt="Tue Mar 11 2014 12:34:52 GMT-0700 (Pacific Daylight Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">right</td></tr>
  <tr class="msg" id="L414"><td class="ts-cell"><a class="ts" href="#L414" alt="Tue Mar 11 2014 12:35:32 GMT-0700 (Pacific Daylight Time)">19:35</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so my qustion remains. Do you think you should be able to take a stream that comes from an XHR and pass that to a worker?</td></tr>
  <tr class="msg" id="L415"><td class="ts-cell"><a class="ts" href="#L415" alt="Tue Mar 11 2014 12:36:04 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">*I* want that to be possible, but I realize that might not be something that everyone thinks is a priority</td></tr>
  <tr class="msg" id="L416"><td class="ts-cell"><a class="ts" href="#L416" alt="Tue Mar 11 2014 12:36:19 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i don&#039;t know enough about use cases to answer decisively. my gut is that the worker itself should have input and output streams you can pipe through</td></tr>
  <tr class="msg" id="L417"><td class="ts-cell"><a class="ts" href="#L417" alt="Tue Mar 11 2014 12:36:53 GMT-0700 (Pacific Daylight Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">it would be nice if piping arraybuffers or other transferables into a worker did a transfer instead of a copy</td></tr>
  <tr class="msg" id="L418"><td class="ts-cell"><a class="ts" href="#L418" alt="Tue Mar 11 2014 12:37:09 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">similarly, should you be able to take a ReadableStream and write it to disk using the filesystem API?</td></tr>
  <tr class="msg" id="L419"><td class="ts-cell"><a class="ts" href="#L419" alt="Tue Mar 11 2014 12:37:32 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i feel like these are all use cases streams were meant to obsolete</td></tr>
  <tr class="msg" id="L420"><td class="ts-cell"><a class="ts" href="#L420" alt="Tue Mar 11 2014 12:37:42 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">you pipe a readable stream to the disk</td></tr>
  <tr class="msg" id="L421"><td class="ts-cell"><a class="ts" href="#L421" alt="Tue Mar 11 2014 12:37:50 GMT-0700 (Pacific Daylight Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">you don&#039;t store the stream itself on the disk</td></tr>
  <tr class="msg" id="L422"><td class="ts-cell"><a class="ts" href="#L422" alt="Tue Mar 11 2014 12:38:01 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">you pipe a stream to a web worker</td></tr>
  <tr class="msg" id="L423"><td class="ts-cell"><a class="ts" href="#L423" alt="Tue Mar 11 2014 12:38:06 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">sure, s/write/pipe/</td></tr>
  <tr class="msg" id="L424"><td class="ts-cell"><a class="ts" href="#L424" alt="Tue Mar 11 2014 12:38:11 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">you don&#039;t transfer  the stream itself to the web worker</td></tr>
  <tr class="msg" id="L425"><td class="ts-cell"><a class="ts" href="#L425" alt="Tue Mar 11 2014 12:38:11 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">ok</td></tr>
  <tr class="msg" id="L426"><td class="ts-cell"><a class="ts" href="#L426" alt="Tue Mar 11 2014 12:38:17 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">but in that case the disk is a writable stream</td></tr>
  <tr class="msg" id="L427"><td class="ts-cell"><a class="ts" href="#L427" alt="Tue Mar 11 2014 12:38:23 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">and you&#039;re just piping the readable stream to it</td></tr>
  <tr class="msg" id="L428"><td class="ts-cell"><a class="ts" href="#L428" alt="Tue Mar 11 2014 12:38:28 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">which operates through the well-known public API</td></tr>
  <tr class="msg" id="L429"><td class="ts-cell"><a class="ts" href="#L429" alt="Tue Mar 11 2014 12:38:35 GMT-0700 (Pacific Daylight Time)">19:38</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">well</td></tr>
  <tr class="msg" id="L430"><td class="ts-cell"><a class="ts" href="#L430" alt="Tue Mar 11 2014 12:39:10 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">if I get a readable stream from an XHR, and then pipe that to a writablestream that goes to disk, I don&#039;t think we want to hit the main thread for each chunk of data, right?</td></tr>
  <tr class="msg" id="L431"><td class="ts-cell"><a class="ts" href="#L431" alt="Tue Mar 11 2014 12:39:21 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">fair, but that&#039;s an optimization</td></tr>
  <tr class="msg" id="L432"><td class="ts-cell"><a class="ts" href="#L432" alt="Tue Mar 11 2014 12:39:47 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">you can e.g. only make that optimization if nobody&#039;s done `diskStream.write = function (chunk) { console.log(chunk); oldDiskStreamWrite.apply(this, arguments); }`</td></tr>
  <tr class="msg" id="L433"><td class="ts-cell"><a class="ts" href="#L433" alt="Tue Mar 11 2014 12:39:56 GMT-0700 (Pacific Daylight Time)">19:39</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">is that an optimization that&#039;s possible if we always go through the public API?</td></tr>
  <tr class="msg" id="L434"><td class="ts-cell"><a class="ts" href="#L434" alt="Tue Mar 11 2014 12:40:06 GMT-0700 (Pacific Daylight Time)">19:40</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">the optimization would be skipping the public API where possible</td></tr>
  <tr class="msg" id="L435"><td class="ts-cell"><a class="ts" href="#L435" alt="Tue Mar 11 2014 12:40:48 GMT-0700 (Pacific Daylight Time)">19:40</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i&#039;m not sure if that&#039;s a good idea. I&#039;ve never thought about it that way</td></tr>
  <tr class="msg" id="L436"><td class="ts-cell"><a class="ts" href="#L436" alt="Tue Mar 11 2014 12:41:02 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">seems like it potentially is a big performance hit</td></tr>
  <tr class="msg" id="L437"><td class="ts-cell"><a class="ts" href="#L437" alt="Tue Mar 11 2014 12:41:07 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">hmm. from what i understand many JS engine optimizations work that way</td></tr>
  <tr class="msg" id="L438"><td class="ts-cell"><a class="ts" href="#L438" alt="Tue Mar 11 2014 12:41:41 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">what happens if no-one had touched diskStream.write, but after 2 minutes they suddenly set diskStream.write?</td></tr>
  <tr class="msg" id="L439"><td class="ts-cell"><a class="ts" href="#L439" alt="Tue Mar 11 2014 12:41:44 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">like if you do Object.defineProperty(Array.prototype, &quot;0&quot;, { set: function () { console.log(&quot;haha!&quot;); }) you skip the fast-path on setting array elements in memory</td></tr>
  <tr class="msg" id="L440"><td class="ts-cell"><a class="ts" href="#L440" alt="Tue Mar 11 2014 12:41:50 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">hmm</td></tr>
  <tr class="msg" id="L441"><td class="ts-cell"><a class="ts" href="#L441" alt="Tue Mar 11 2014 12:41:54 GMT-0700 (Pacific Daylight Time)">19:41</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">should we detect that and reroute the traffic at that point?</td></tr>
  <tr class="msg" id="L442"><td class="ts-cell"><a class="ts" href="#L442" alt="Tue Mar 11 2014 12:42:04 GMT-0700 (Pacific Daylight Time)">19:42</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">we could spec pipe to cache the value of the write function at the time the pipe initiates</td></tr>
  <tr class="msg" id="L443"><td class="ts-cell"><a class="ts" href="#L443" alt="Tue Mar 11 2014 12:42:12 GMT-0700 (Pacific Daylight Time)">19:42</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">it&#039;s not impossible. But it likely will mean we won&#039;t do it for a long time</td></tr>
  <tr class="msg" id="L444"><td class="ts-cell"><a class="ts" href="#L444" alt="Tue Mar 11 2014 12:43:29 GMT-0700 (Pacific Daylight Time)">19:43</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i&#039;m not sure what the right fix is. But I think it needs to be relatively easily possible for an implementation to not have to go through any thread that the data has been piped through at some point</td></tr>
  <tr class="msg" id="L445"><td class="ts-cell"><a class="ts" href="#L445" alt="Tue Mar 11 2014 12:43:38 GMT-0700 (Pacific Daylight Time)">19:43</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i agree that should be a high high priority</td></tr>
  <tr class="msg" id="L446"><td class="ts-cell"><a class="ts" href="#L446" alt="Tue Mar 11 2014 12:43:46 GMT-0700 (Pacific Daylight Time)">19:43</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">probably the highest</td></tr>
  <tr class="msg" id="L447"><td class="ts-cell"><a class="ts" href="#L447" alt="Tue Mar 11 2014 12:44:12 GMT-0700 (Pacific Daylight Time)">19:44</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">cool</td></tr>
  <tr class="msg" id="L448"><td class="ts-cell"><a class="ts" href="#L448" alt="Tue Mar 11 2014 12:45:02 GMT-0700 (Pacific Daylight Time)">19:45</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">the way we do this in the DOM is that we don&#039;t operate through the public API at all times. Rather we usually operate through internal operations. Which I realize might break use cases that you have in mind</td></tr>
  <tr class="msg" id="L449"><td class="ts-cell"><a class="ts" href="#L449" alt="Tue Mar 11 2014 12:45:22 GMT-0700 (Pacific Daylight Time)">19:45</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so not saying this as a recommendation, but rather as a &quot;that&#039;s how we solve it elsewhere&quot;</td></tr>
  <tr class="msg" id="L450"><td class="ts-cell"><a class="ts" href="#L450" alt="Tue Mar 11 2014 12:46:19 GMT-0700 (Pacific Daylight Time)">19:46</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">caching write (and any function it calls, if any?) might actually work too</td></tr>
  <tr class="msg" id="L451"><td class="ts-cell"><a class="ts" href="#L451" alt="Tue Mar 11 2014 12:48:10 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">and I do think that we need to be able to hand off consuming a stream from one thread to another. If that means &quot;pass to worker&quot; or &quot;pipe to worker&quot; I&#039;m not sure. But I don&#039;t know what &quot;pipe to worker&quot; would look like.</td></tr>
  <tr class="msg" id="L452"><td class="ts-cell"><a class="ts" href="#L452" alt="Tue Mar 11 2014 12:48:11 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">yeah, it is generally better to have fewer internal ops if possible, to allow users the same level of power and access as the platform. So if we can do that without hurting perf that&#039;s ideal. But obviously a large part of the point of streams is perf, so we have to be extra careful not to hurt ourselves in that way.</td></tr>
  <tr class="msg" id="L453"><td class="ts-cell"><a class="ts" href="#L453" alt="Tue Mar 11 2014 12:48:30 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">I am hoping pipe to worker looks like `myStream.pipeTo(myWorker.input)`</td></tr>
  <tr class="msg" id="L454"><td class="ts-cell"><a class="ts" href="#L454" alt="Tue Mar 11 2014 12:48:40 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">what&#039;s myworker.input?</td></tr>
  <tr class="msg" id="L455"><td class="ts-cell"><a class="ts" href="#L455" alt="Tue Mar 11 2014 12:48:55 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">a WritableStream</td></tr>
  <tr class="msg" id="L456"><td class="ts-cell"><a class="ts" href="#L456" alt="Tue Mar 11 2014 12:49:12 GMT-0700 (Pacific Daylight Time)">19:49</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">where does the data go?</td></tr>
  <tr class="msg" id="L457"><td class="ts-cell"><a class="ts" href="#L457" alt="Tue Mar 11 2014 12:49:21 GMT-0700 (Pacific Daylight Time)">19:49</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">which probably manifests as self....something... inside the worker</td></tr>
  <tr class="msg" id="L458"><td class="ts-cell"><a class="ts" href="#L458" alt="Tue Mar 11 2014 12:49:33 GMT-0700 (Pacific Daylight Time)">19:49</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">where ...something... is a readable stream</td></tr>
  <tr class="msg" id="L459"><td class="ts-cell"><a class="ts" href="#L459" alt="Tue Mar 11 2014 12:49:49 GMT-0700 (Pacific Daylight Time)">19:49</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so you can only pipe one stream to a worker ever?</td></tr>
  <tr class="msg" id="L460"><td class="ts-cell"><a class="ts" href="#L460" alt="Tue Mar 11 2014 12:49:50 GMT-0700 (Pacific Daylight Time)">19:49</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">node has this in its child process API, but granted that&#039;s processes, not heavyweight threads</td></tr>
  <tr class="msg" id="L461"><td class="ts-cell"><a class="ts" href="#L461" alt="Tue Mar 11 2014 12:49:57 GMT-0700 (Pacific Daylight Time)">19:49</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">nah, you can always multiplex</td></tr>
  <tr class="msg" id="L462"><td class="ts-cell"><a class="ts" href="#L462" alt="Tue Mar 11 2014 12:50:05 GMT-0700 (Pacific Daylight Time)">19:50</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">or we could do messageport-style ports</td></tr>
  <tr class="msg" id="L463"><td class="ts-cell"><a class="ts" href="#L463" alt="Tue Mar 11 2014 12:50:57 GMT-0700 (Pacific Daylight Time)">19:50</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">MessageChannel I mean. I suppose the fact that MessageChannel exists in the face of postMessage implies people want easy multiplexing</td></tr>
  <tr class="msg" id="L464"><td class="ts-cell"><a class="ts" href="#L464" alt="Tue Mar 11 2014 12:51:33 GMT-0700 (Pacific Daylight Time)">19:51</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">yeah, Gecko&#039;s lack of MessageChannel has been a thorn in yehuda&#039;s side</td></tr>
  <tr class="msg" id="L465"><td class="ts-cell"><a class="ts" href="#L465" alt="Tue Mar 11 2014 12:54:07 GMT-0700 (Pacific Daylight Time)">19:54</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">so would each messageport have a .input (ReadableStream) and a .output (WritableStream) property?</td></tr>
  <tr class="msg" id="L466"><td class="ts-cell"><a class="ts" href="#L466" alt="Tue Mar 11 2014 12:56:18 GMT-0700 (Pacific Daylight Time)">19:56</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">other way around, you write to inputs and and read from outputs, but yes</td></tr>
  <tr class="msg" id="L467"><td class="ts-cell"><a class="ts" href="#L467" alt="Tue Mar 11 2014 12:56:32 GMT-0700 (Pacific Daylight Time)">19:56</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=hober@irc>hober</span>&gt;</td><td class="msg-cell">&quot;thorn in yehuda&#039;s side&quot; was the name of *whose* high school band?</td></tr>
  <tr class="msg" id="L468"><td class="ts-cell"><a class="ts" href="#L468" alt="Tue Mar 11 2014 12:56:42 GMT-0700 (Pacific Daylight Time)">19:56</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Ms2ger@irc>Ms2ger</span>&gt;</td><td class="msg-cell">Mine</td></tr>
  <tr class="msg" id="L469"><td class="ts-cell"><a class="ts" href="#L469" alt="Tue Mar 11 2014 12:56:49 GMT-0700 (Pacific Daylight Time)">19:56</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">hober: haha</td></tr>
  <tr class="msg" id="L470"><td class="ts-cell"><a class="ts" href="#L470" alt="Tue Mar 11 2014 12:58:15 GMT-0700 (Pacific Daylight Time)">19:58</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: seems like a somewhat clunky way to get a stream transferred to a worker. You first have to create a message channel, then transfer one of the ports to the worker, then pipe your readablestream into the other port&#039;s input</td></tr>
  <tr class="msg" id="L471"><td class="ts-cell"><a class="ts" href="#L471" alt="Tue Mar 11 2014 13:00:04 GMT-0700 (Pacific Daylight Time)">20:00</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: is that how message channels work now? wow that is clunky</td></tr>
  <tr class="msg" id="L472"><td class="ts-cell"><a class="ts" href="#L472" alt="Tue Mar 11 2014 13:00:39 GMT-0700 (Pacific Daylight Time)">20:00</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">better APIs welcome certainly</td></tr>
  <tr class="msg" id="L473"><td class="ts-cell"><a class="ts" href="#L473" alt="Tue Mar 11 2014 13:01:05 GMT-0700 (Pacific Daylight Time)">20:01</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: only when you want to establish a new channel. If you already have a channel open then you can just postMessage</td></tr>
  <tr class="msg" id="L474"><td class="ts-cell"><a class="ts" href="#L474" alt="Tue Mar 11 2014 13:01:55 GMT-0700 (Pacific Daylight Time)">20:01</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: but if you have a channel open and you want to tell it &quot;here, process this stream&quot;, then you need a way to do that. For other things we just transfer them</td></tr>
  <tr class="msg" id="L475"><td class="ts-cell"><a class="ts" href="#L475" alt="Tue Mar 11 2014 13:02:31 GMT-0700 (Pacific Daylight Time)">20:02</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: but if you can&#039;t transfer streams then a simple postMessage doesn&#039;t work</td></tr>
  <tr class="msg" id="L476"><td class="ts-cell"><a class="ts" href="#L476" alt="Tue Mar 11 2014 13:02:36 GMT-0700 (Pacific Daylight Time)">20:02</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">ok, but if you already have the channel open, then it&#039;s just stream.pipeTo(channel.input). Seems similar effort to postMessage</td></tr>
  <tr class="msg" id="L477"><td class="ts-cell"><a class="ts" href="#L477" alt="Tue Mar 11 2014 13:03:33 GMT-0700 (Pacific Daylight Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: but you can only do that once. If you later want to say &quot;here, process this stream too&quot; then you&#039;d have to multiplex over the same channel</td></tr>
  <tr class="msg" id="L478"><td class="ts-cell"><a class="ts" href="#L478" alt="Tue Mar 11 2014 13:03:41 GMT-0700 (Pacific Daylight Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">err.. over the same stream</td></tr>
  <tr class="msg" id="L479"><td class="ts-cell"><a class="ts" href="#L479" alt="Tue Mar 11 2014 13:03:47 GMT-0700 (Pacific Daylight Time)">20:03</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">ah, i see</td></tr>
  <tr class="msg" id="L480"><td class="ts-cell"><a class="ts" href="#L480" alt="Tue Mar 11 2014 13:04:08 GMT-0700 (Pacific Daylight Time)">20:04</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">i guess i am assuming you would want multiple streams just as often as you would want multiple channels</td></tr>
  <tr class="msg" id="L481"><td class="ts-cell"><a class="ts" href="#L481" alt="Tue Mar 11 2014 13:04:13 GMT-0700 (Pacific Daylight Time)">20:04</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">what do people open multiple channels for anyway?</td></tr>
  <tr class="msg" id="L482"><td class="ts-cell"><a class="ts" href="#L482" alt="Tue Mar 11 2014 13:07:26 GMT-0700 (Pacific Daylight Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: i&#039;m not entirely sure. Ask Yehuda.</td></tr>
  <tr class="msg" id="L483"><td class="ts-cell"><a class="ts" href="#L483" alt="Tue Mar 11 2014 13:07:36 GMT-0700 (Pacific Daylight Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">sicking: will do!</td></tr>
  <tr class="msg" id="L484"><td class="ts-cell"><a class="ts" href="#L484" alt="Tue Mar 11 2014 13:07:44 GMT-0700 (Pacific Daylight Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">Domenic_: but here it&#039;s more &quot;multiple work items&quot; rather than &quot;multiple channels&quot;</td></tr>
  <tr class="msg" id="L485"><td class="ts-cell"><a class="ts" href="#L485" alt="Tue Mar 11 2014 13:07:55 GMT-0700 (Pacific Daylight Time)">20:07</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">i.e. a stream can represent a work item</td></tr>
  <tr class="msg" id="L486"><td class="ts-cell"><a class="ts" href="#L486" alt="Tue Mar 11 2014 13:08:03 GMT-0700 (Pacific Daylight Time)">20:08</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=sicking@irc>sicking</span>&gt;</td><td class="msg-cell">anyhow, gotta join a call, sorry</td></tr>
  <tr class="msg" id="L487"><td class="ts-cell"><a class="ts" href="#L487" alt="Tue Mar 11 2014 13:09:38 GMT-0700 (Pacific Daylight Time)">20:09</a></td><td class="nick-cell">&lt;<span class="nick nick-6" title=Domenic_@irc>Domenic_</span>&gt;</td><td class="msg-cell">np, i should probably do my day job</td></tr>
  <tr class="msg" id="L488"><td class="ts-cell"><a class="ts" href="#L488" alt="Tue Mar 11 2014 13:16:18 GMT-0700 (Pacific Daylight Time)">20:16</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=Rahul21@irc>Rahul21</span>&gt;</td><td class="msg-cell">hello everyone</td></tr>
  <tr class="msg" id="L489"><td class="ts-cell"><a class="ts" href="#L489" alt="Tue Mar 11 2014 13:17:01 GMT-0700 (Pacific Daylight Time)">20:17</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=Rahul21@irc>Rahul21</span>&gt;</td><td class="msg-cell">is it possible to customize the &lt;audio&gt; tag, to set cue points in the seekbar?</td></tr>
  <tr class="msg" id="L490"><td class="ts-cell"><a class="ts" href="#L490" alt="Tue Mar 11 2014 13:18:27 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Nope.</td></tr>
  <tr class="msg" id="L491"><td class="ts-cell"><a class="ts" href="#L491" alt="Tue Mar 11 2014 13:18:51 GMT-0700 (Pacific Daylight Time)">20:18</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=Rahul21@irc>Rahul21</span>&gt;</td><td class="msg-cell">TabAtkins: <a href="http://imgur.com/onhyHYR">http://imgur.com/onhyHYR</a></td></tr>
  <tr class="msg" id="L492"><td class="ts-cell"><a class="ts" href="#L492" alt="Tue Mar 11 2014 13:19:14 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=Rahul21@irc>Rahul21</span>&gt;</td><td class="msg-cell">TabAtkins: something like that, any alternatives to do it?</td></tr>
  <tr class="msg" id="L493"><td class="ts-cell"><a class="ts" href="#L493" alt="Tue Mar 11 2014 13:19:23 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Not with the &lt;audio&gt; tag, no.</td></tr>
  <tr class="msg" id="L494"><td class="ts-cell"><a class="ts" href="#L494" alt="Tue Mar 11 2014 13:35:50 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">Rahul21: what you can do is have an invisible &lt;audio&gt; element (without controls) and implement your own controls based on the JS API</td></tr>
  <tr class="msg" id="L495"><td class="ts-cell"><a class="ts" href="#L495" alt="Tue Mar 11 2014 13:36:02 GMT-0700 (Pacific Daylight Time)">20:36</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">… maybe</td></tr>
  <tr class="msg" id="L496"><td class="ts-cell"><a class="ts" href="#L496" alt="Tue Mar 11 2014 13:36:12 GMT-0700 (Pacific Daylight Time)">20:36</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">(I haven’t actually tried anything like this)</td></tr>
  <tr class="msg" id="L497"><td class="ts-cell"><a class="ts" href="#L497" alt="Tue Mar 11 2014 13:38:33 GMT-0700 (Pacific Daylight Time)">20:38</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=Rahul21@irc>Rahul21</span>&gt;</td><td class="msg-cell">SimonSapin: any demos or links would be very helpful</td></tr>
  <tr class="msg" id="L498"><td class="ts-cell"><a class="ts" href="#L498" alt="Tue Mar 11 2014 13:38:42 GMT-0700 (Pacific Daylight Time)">20:38</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=Rahul21@irc>Rahul21</span>&gt;</td><td class="msg-cell">resources anything</td></tr>
  <tr class="msg" id="L499"><td class="ts-cell"><a class="ts" href="#L499" alt="Tue Mar 11 2014 13:39:21 GMT-0700 (Pacific Daylight Time)">20:39</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=SimonSapin@irc>SimonSapin</span>&gt;</td><td class="msg-cell">I don’t any right now, sorry</td></tr>
  <tr class="msg" id="L500"><td class="ts-cell"><a class="ts" href="#L500" alt="Tue Mar 11 2014 16:00:00 GMT-0700 (Pacific Daylight Time)">23:00</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">anyone know that status of cross-origin font loading in the various browsers?</td></tr>
  <tr class="msg" id="L501"><td class="ts-cell"><a class="ts" href="#L501" alt="Tue Mar 11 2014 16:00:30 GMT-0700 (Pacific Daylight Time)">23:00</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">Firefox blocks, Webkit doesn&#039;t, Blink doesn&#039;t but is considering switching to blocking, IE I dunno.</td></tr>
  <tr class="msg" id="L502"><td class="ts-cell"><a class="ts" href="#L502" alt="Tue Mar 11 2014 16:01:59 GMT-0700 (Pacific Daylight Time)">23:01</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</td><td class="msg-cell">thanks</td></tr>
</tbody></table>
</div></div></div></body>
