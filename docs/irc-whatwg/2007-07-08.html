<!doctype html>
<head>
  <title>#whatwg on 2007-07-08</title>
  <link rel="stylesheet" href="../style.css">
  <script>window.room = "#whatwg";</script><script src="../render-roomlist.js"></script>
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2007-07-08<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2007-07-07" class="nav-link"><span>prev</span></a>
<a href="2007-07-09" class="nav-link"><span style="float:right">next</span></a>
</div>
    <div class="all-rooms"><noscript>JavaScript is required to load the channel index, but you can go to <a href="../..">the static index</a> directly.</noscript></div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs">
<div class="rhs-header">
<span id="error" style="color: red; display:none">error</span>
<input type="text" id="query" size=25 placeholder="Search #whatwg">
<a id="search-submit" class="button icon-link" title="Search">
  <svg class="icon" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"></path></svg>
</a>
</div>

<div class="log"><table id="log-table"><tbody id="log-tbody">

  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Sat Jul 07 2007 18:42:00 GMT-0700 (Pacific Daylight Time)">01:42</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-9" title=Philip`@irc>Philip`</span></div></td><td class="msg-cell">finds another html5lib bug</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Sat Jul 07 2007 18:43:00 GMT-0700 (Pacific Daylight Time)">01:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">and I now have tests for almost every state transition in the tokeniser, only missing the ones that require non-PCDATA (which I don&#039;t handle yet)</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Sat Jul 07 2007 19:07:00 GMT-0700 (Pacific Daylight Time)">02:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell"><a href="http://canvex.lazyilluminati.com/misc/test3.test">http://canvex.lazyilluminati.com/misc/test3.test</a></td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Sat Jul 07 2007 19:07:01 GMT-0700 (Pacific Daylight Time)">02:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">hsivonen: I see a couple of types of test failure in your tokeniser</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Sat Jul 07 2007 19:08:00 GMT-0700 (Pacific Daylight Time)">02:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(for &quot;&lt;!doctype! ?&gt;&quot; (too few parse errors) and &quot;&lt;z/0 &gt;&quot; (it misses the attribute), and variations of those)</td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Sat Jul 07 2007 19:14:00 GMT-0700 (Pacific Daylight Time)">02:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">((It wasn&#039;t intentional for my tests to use &quot;&lt;!doctype!&quot; and &quot;&lt;z/0&quot; so much - that&#039;s just what fell out of the sorting function))</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Sun Jul 08 2007 02:30:00 GMT-0700 (Pacific Daylight Time)">09:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: thank you. I fixed bugs exposed by your test cases. One test case failure is a bug in your test cases, though: &quot;&lt;z/0 0&quot; that should give 3 errors: non-permitted slash, EOF in attribute name and duplicate attribute &quot;0&quot;.</td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Sun Jul 08 2007 02:30:01 GMT-0700 (Pacific Daylight Time)">09:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: are you planning on contributing your tests to html5lib?</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Sun Jul 08 2007 03:20:00 GMT-0700 (Pacific Daylight Time)">10:20</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell"><a href="http://lists.w3.org/Archives/Member/w3c-html-cg/2007JulSep/0013.html">http://lists.w3.org/Archives/Member/w3c-html-cg/2007JulSep/0013.html</a> is interesting</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Sun Jul 08 2007 03:24:00 GMT-0700 (Pacific Daylight Time)">10:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">indeed</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Sun Jul 08 2007 03:24:01 GMT-0700 (Pacific Daylight Time)">10:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">the &quot;kitchen sink&quot; threads are also interesting</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Sun Jul 08 2007 03:25:00 GMT-0700 (Pacific Daylight Time)">10:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">in that it seems a lot of people on that mailing list don&#039;t really understand what&#039;s going on</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Sun Jul 08 2007 03:25:01 GMT-0700 (Pacific Daylight Time)">10:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">oh well</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Sun Jul 08 2007 03:29:00 GMT-0700 (Pacific Daylight Time)">10:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: do you mean vigorously lobbying for a detail that is already in the spec?</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Sun Jul 08 2007 03:31:00 GMT-0700 (Pacific Daylight Time)">10:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">someone really needs to write a primer on diminishing returns, externalities and network effects for the WG, but I&#039;m pretty sure that if someone did, (s)he&#039;d be slammed for not being a real economist</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Sun Jul 08 2007 03:44:00 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">hsivonen: i meant like being worried that XBL2 points to HTML5 and that therefore the security thing might not be defined, etc... missing the whole point that i had to write the security thing anyway, it didn&#039;t matter which spec i put it in</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Sun Jul 08 2007 03:44:01 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">anyway</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Sun Jul 08 2007 03:44:02 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">bed time</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Sun Jul 08 2007 03:44:03 GMT-0700 (Pacific Daylight Time)">10:44</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-14" title=Hixie@irc>Hixie</span>&gt;</div></td><td class="msg-cell">probably will be online very spottily for the next three weeks</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Sun Jul 08 2007 03:53:00 GMT-0700 (Pacific Daylight Time)">10:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">nn</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Sun Jul 08 2007 03:54:00 GMT-0700 (Pacific Daylight Time)">10:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Hixie: oh you referred to public-appformats</td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Sun Jul 08 2007 04:35:00 GMT-0700 (Pacific Daylight Time)">11:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">hsivonen: Oh, whoops, I haven&#039;t done anything about duplicate attributes</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Sun Jul 08 2007 04:35:01 GMT-0700 (Pacific Daylight Time)">11:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(I guess html5lib hasn&#039;t either, since it passed that test)</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Sun Jul 08 2007 04:39:00 GMT-0700 (Pacific Daylight Time)">11:39</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Looks a bit irritating how it says to drop the attribute value before you&#039;ve actually got an attribute value at all...</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Sun Jul 08 2007 04:40:00 GMT-0700 (Pacific Daylight Time)">11:40</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-9" title=Philip`@irc>Philip`</span></div></td><td class="msg-cell">tries to think of a nice way to handle that</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Sun Jul 08 2007 04:41:00 GMT-0700 (Pacific Daylight Time)">11:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: I have a boolean flag</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Sun Jul 08 2007 04:42:00 GMT-0700 (Pacific Daylight Time)">11:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: and I defer the actual addition of an attribute til the value is complete or know not to exist</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Sun Jul 08 2007 04:42:01 GMT-0700 (Pacific Daylight Time)">11:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: which was also the source of one class of test case failures you found</td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Sun Jul 08 2007 04:48:00 GMT-0700 (Pacific Daylight Time)">11:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Adding another state variable makes other things more complex (like when verifying you never have to alter an attribute unless there actually is an attribute), so it&#039;d be nice to avoid that if possible</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Sun Jul 08 2007 04:53:00 GMT-0700 (Pacific Daylight Time)">11:53</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(Well, it&#039;s fine to add a state variable into the C++/etc implementation, but preferably not into the conceptual model of the algorithm)</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Sun Jul 08 2007 05:04:00 GMT-0700 (Pacific Daylight Time)">12:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">Philip`: So do you want html5lib commit access (hint, hint)?</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Sun Jul 08 2007 05:10:00 GMT-0700 (Pacific Daylight Time)">12:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">would someone like to volunteer to check an email about bikeshedding, belling the cat and economics 101 for suitability of sending to public-html? in particular, checking whether it is offensively patronizing?</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Sun Jul 08 2007 05:11:00 GMT-0700 (Pacific Daylight Time)">12:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">jgraham: Oops, I forgot to respond to hsivonen&#039;s second comment - I expect it would be good to add these tests to html5lib (which is why I named the file test3.test already :-) )</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Sun Jul 08 2007 05:12:00 GMT-0700 (Pacific Daylight Time)">12:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">at least once I&#039;ve fixed the bugs, and added manually-written tests for the other bugs I have in my code</td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Sun Jul 08 2007 05:12:01 GMT-0700 (Pacific Daylight Time)">12:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">Philip`: I went ahead and gave you commit access whether you wanted it or not :)</td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Sun Jul 08 2007 05:12:02 GMT-0700 (Pacific Daylight Time)">12:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">jgraham: I just saw that - thanks :-)</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Sun Jul 08 2007 05:28:00 GMT-0700 (Pacific Daylight Time)">12:28</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-9" title=Philip`@irc>Philip`</span></div></td><td class="msg-cell">wonders if it matters that his test cases don&#039;t have good descriptions</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Sun Jul 08 2007 05:29:00 GMT-0700 (Pacific Daylight Time)">12:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">Philip`: I think I&#039;ve fixed issue 50. Your testcases would be most welcome now so I can have some confidence that I did the right thing</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Sun Jul 08 2007 05:29:01 GMT-0700 (Pacific Daylight Time)">12:29</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">And also because I promised them in the commit log :)</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Sun Jul 08 2007 05:30:00 GMT-0700 (Pacific Daylight Time)">12:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Just trying to fix the duplicate-attribute issue, which hopefully won&#039;t take long :-)</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Sun Jul 08 2007 05:30:01 GMT-0700 (Pacific Daylight Time)">12:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">Descriptions are good but probably not essential - the treebuilder tests are all description free, for example</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Sun Jul 08 2007 05:30:02 GMT-0700 (Pacific Daylight Time)">12:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">But if you can add them, please do :)</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Sun Jul 08 2007 05:31:00 GMT-0700 (Pacific Daylight Time)">12:31</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I have no idea what most of my test cases are doing, so I don&#039;t know how to usefully describe them</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Sun Jul 08 2007 05:32:00 GMT-0700 (Pacific Daylight Time)">12:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Maybe I could convince the test-generating program to work out why it&#039;s choosing those particular ones, but that seems like more effort than would be worthwhile</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Sun Jul 08 2007 05:33:00 GMT-0700 (Pacific Daylight Time)">12:33</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">Philip`: I guess if you keep all auto-generated tests to their own file it&#039;s fine</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Sun Jul 08 2007 05:33:01 GMT-0700 (Pacific Daylight Time)">12:33</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-6" title=jgraham@irc>jgraham</span></div></td><td class="msg-cell">notices he changed something and forgot to run the treewalkers tests</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Sun Jul 08 2007 05:34:00 GMT-0700 (Pacific Daylight Time)">12:34</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">hmm. I guess I just send the message at the risk of offending some people</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Sun Jul 08 2007 05:35:00 GMT-0700 (Pacific Daylight Time)">12:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">hsivonen: Go for it. At least then we&#039;ll get email about how offended people are rather than whether or not Anne should include all his optional tags</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Sun Jul 08 2007 05:36:00 GMT-0700 (Pacific Daylight Time)">12:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">which is probably the most boring thread ever</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Sun Jul 08 2007 05:36:01 GMT-0700 (Pacific Daylight Time)">12:36</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">;)</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Sun Jul 08 2007 05:38:00 GMT-0700 (Pacific Daylight Time)">12:38</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">jgraham: sent</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Sun Jul 08 2007 05:41:00 GMT-0700 (Pacific Daylight Time)">12:41</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">enjoy: <a href="http://lists.w3.org/Archives/Public/public-html/2007Jul/0507.html">http://lists.w3.org/Archives/Public/public-html/2007Jul/0507.html</a></td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Sun Jul 08 2007 05:56:00 GMT-0700 (Pacific Daylight Time)">12:56</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">was I too offensive?</td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Sun Jul 08 2007 05:57:00 GMT-0700 (Pacific Daylight Time)">12:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">jgraham: Committed the new tests now</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Sun Jul 08 2007 05:58:00 GMT-0700 (Pacific Daylight Time)">12:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">Philip`: Cool</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Sun Jul 08 2007 05:58:01 GMT-0700 (Pacific Daylight Time)">12:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">including one with duplicate attribute values, which html5lib fails</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Sun Jul 08 2007 05:58:02 GMT-0700 (Pacific Daylight Time)">12:58</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(hsivonen&#039;s implementation passes all those tests now)</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Sun Jul 08 2007 05:59:00 GMT-0700 (Pacific Daylight Time)">12:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">hsivonen: No, I don&#039;t think so. Possibly a little terse, but if people read the links they should get the idea (I&#039;m just reading the joel on software one which I don&#039;t think I&#039;ve seen before)</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Sun Jul 08 2007 06:12:00 GMT-0700 (Pacific Daylight Time)">13:12</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span></div></td><td class="msg-cell">likes hsivonen&#039;s terse style</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Sun Jul 08 2007 06:13:00 GMT-0700 (Pacific Daylight Time)">13:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Hmm, the html5lib Ruby tokeniser doesn&#039;t seem entirely happy with EOFs</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Sun Jul 08 2007 06:13:01 GMT-0700 (Pacific Daylight Time)">13:13</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(resulting in various things like &lt;&quot;undefined method `+&#039; for :EOF:Symbol&quot;&gt;)</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Sun Jul 08 2007 06:51:00 GMT-0700 (Pacific Daylight Time)">13:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">Philip`: All your tests seem to pass now</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Sun Jul 08 2007 07:14:00 GMT-0700 (Pacific Daylight Time)">14:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">jgraham: That must mean more tests are needed ;-)</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Sun Jul 08 2007 08:28:00 GMT-0700 (Pacific Daylight Time)">15:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">More tests says: html5lib doesn&#039;t lowercase tag/attribute names</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Sun Jul 08 2007 09:04:00 GMT-0700 (Pacific Daylight Time)">16:04</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">Philip`: We lowercase them at the tree construction stage (because Sam reuses the tokenizer in situations where case is important)</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Sun Jul 08 2007 09:06:00 GMT-0700 (Pacific Daylight Time)">16:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Ah, okay</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Sun Jul 08 2007 09:06:01 GMT-0700 (Pacific Daylight Time)">16:06</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">jgraham: what are those situations?</td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Sun Jul 08 2007 09:07:00 GMT-0700 (Pacific Daylight Time)">16:07</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">How would it best to test that tokenisers do implement what the spec says (with lowercasing names), while accepting that html5lib doesn&#039;t do that at that point?</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Sun Jul 08 2007 09:08:00 GMT-0700 (Pacific Daylight Time)">16:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">jgraham: out of curiosity, why didn&#039;t you parametrize this in the tokenizer?</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Sun Jul 08 2007 09:08:01 GMT-0700 (Pacific Daylight Time)">16:08</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(And does html5lib work correctly when you do &lt;a a=1 A=2&gt;?)</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Sun Jul 08 2007 09:09:00 GMT-0700 (Pacific Daylight Time)">16:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">(I think I&#039;ve been a bit naïve with the way I handle lower casing per spec instead of having a readCaseFolded() method)</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Sun Jul 08 2007 09:57:00 GMT-0700 (Pacific Daylight Time)">16:57</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">hsivonen: Your entity overflow code doesn&#039;t quite work - with input like &amp;#x100000041; the value overflows from 0x10000000 to 0x00000000 and it&#039;s never negative so it never hits the overflow-handler</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Sun Jul 08 2007 09:58:00 GMT-0700 (Pacific Daylight Time)">16:58</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-9" title=Philip`@irc>Philip`</span></div></td><td class="msg-cell">will upload tests for that at some point</td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Sun Jul 08 2007 09:59:00 GMT-0700 (Pacific Daylight Time)">16:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: ouch. good point</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Sun Jul 08 2007 09:59:01 GMT-0700 (Pacific Daylight Time)">16:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">hsivonen: Sam uses it for parsing XML</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Sun Jul 08 2007 09:59:02 GMT-0700 (Pacific Daylight Time)">16:59</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-2" title=gsnedders@irc>gsnedders</span>&gt;</div></td><td class="msg-cell">hsivonen: (the XML having failed to be processed by an XML parser)</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Sun Jul 08 2007 10:03:00 GMT-0700 (Pacific Daylight Time)">17:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: fix (I think) checked in</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Sun Jul 08 2007 10:03:01 GMT-0700 (Pacific Daylight Time)">17:03</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: thanks</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Sun Jul 08 2007 10:09:00 GMT-0700 (Pacific Daylight Time)">17:09</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">hsivonen: Seems to work perfectly now</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Sun Jul 08 2007 10:11:00 GMT-0700 (Pacific Daylight Time)">17:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">looks like my code is bad enough to generate community interest after all :-)</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Sun Jul 08 2007 10:12:00 GMT-0700 (Pacific Daylight Time)">17:12</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I&#039;m always interested in breaking things ;-)</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Sun Jul 08 2007 10:14:00 GMT-0700 (Pacific Daylight Time)">17:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I&#039;d be interested in trying to generate stack-using code like yours, and seeing how that works in comparison with switch-statements or gotos</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Sun Jul 08 2007 10:15:00 GMT-0700 (Pacific Daylight Time)">17:15</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">though I&#039;m not sure how much automatic transformation I can do to extract stackiness, and I&#039;m too lazy to do that manually</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Sun Jul 08 2007 10:16:00 GMT-0700 (Pacific Daylight Time)">17:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: my expectation is that the code won&#039;t be stack-based once server HotSpot has done its thing</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Sun Jul 08 2007 10:16:01 GMT-0700 (Pacific Daylight Time)">17:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">though that reminds me that I need to collect a set of documents for performance testing...</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Sun Jul 08 2007 10:16:02 GMT-0700 (Pacific Daylight Time)">17:16</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">if the expectation is incorrect, running a byte code-level optimizer would make sense</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Sun Jul 08 2007 10:19:00 GMT-0700 (Pacific Daylight Time)">17:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: either way, it seems to me that it is easier to convert the kind of code I have written to unconditional jumps than it would be for a switch (which, OTOH, would guarantee no worse that conditional jumps)</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Sun Jul 08 2007 10:21:00 GMT-0700 (Pacific Daylight Time)">17:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">It seems quite possible that HotSpot could give better performance for your code than for switch-based code, if it&#039;s doing lots of inlining and tail-call optimisation - it&#039;d be interesting to see how well it works in practice</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Sun Jul 08 2007 10:21:01 GMT-0700 (Pacific Daylight Time)">17:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: so whether the use of methods vs. one huge switch makes sense depends on what HotSpot really does</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Sun Jul 08 2007 10:21:02 GMT-0700 (Pacific Daylight Time)">17:21</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">That makes sense</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Sun Jul 08 2007 10:22:00 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Unfortunately C++ doesn&#039;t have the advantage of dynamic compilation, so I guess things will act totally differently there</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Sun Jul 08 2007 10:22:01 GMT-0700 (Pacific Daylight Time)">17:22</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">but fortunately it doesn&#039;t have dynamic compilation, so you can usually have some idea of what the compiler&#039;s actually going to do to your code :-)</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Sun Jul 08 2007 10:23:00 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: the problem is that testing which approach really performs better on HotSpot is a non-trivial task. Which is why I went with an unverified educated (hopefully :-) guess</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Sun Jul 08 2007 10:23:01 GMT-0700 (Pacific Daylight Time)">17:23</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: yeah, I&#039;d bet on switch in the C++ case</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Sun Jul 08 2007 10:24:00 GMT-0700 (Pacific Daylight Time)">17:24</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">That&#039;s why I&#039;d like to be able generate different implementation approaches from the same source data, which is still non-trivial but involves much less typing :-)</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Sun Jul 08 2007 10:25:00 GMT-0700 (Pacific Daylight Time)">17:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">besides, for Gecko-like threading (lack thereof), on would want to have a switch-based parser with states broken down even further so that each state reads at most one character</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Sun Jul 08 2007 10:25:01 GMT-0700 (Pacific Daylight Time)">17:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">this way, the state variable would effectively store the current continuation</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Sun Jul 08 2007 10:26:00 GMT-0700 (Pacific Daylight Time)">17:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">and the tokenizer could be interrupted after any input character</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Sun Jul 08 2007 10:26:01 GMT-0700 (Pacific Daylight Time)">17:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">s/on would/one would/</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Sun Jul 08 2007 10:27:00 GMT-0700 (Pacific Daylight Time)">17:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">What happens when you need to look ahead by ~6 characters at once?</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Sun Jul 08 2007 10:27:01 GMT-0700 (Pacific Daylight Time)">17:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: I don&#039;t.</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Sun Jul 08 2007 10:27:02 GMT-0700 (Pacific Daylight Time)">17:27</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: my max lookahead is one read()/unread()</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Sun Jul 08 2007 10:28:00 GMT-0700 (Pacific Daylight Time)">17:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: otherwise, I buffer pessimistically and look back</td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Sun Jul 08 2007 10:28:01 GMT-0700 (Pacific Daylight Time)">17:28</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">Philip`: when I start consuming a doctype, I start building a bogus comment in parallel just in case</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Sun Jul 08 2007 10:30:00 GMT-0700 (Pacific Daylight Time)">17:30</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">I should learn how to dump native code disassemblies from HotSpot some day</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Sun Jul 08 2007 10:32:00 GMT-0700 (Pacific Daylight Time)">17:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Ah, okay, so if you had &quot;&lt;!docty&gt;&quot;(network latency) then it would emit the token before running out of characters</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Sun Jul 08 2007 10:32:01 GMT-0700 (Pacific Daylight Time)">17:32</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">yes</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Sun Jul 08 2007 11:46:00 GMT-0700 (Pacific Daylight Time)">18:46</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">I wonder what the Wikipedia article on &quot;HTML 5&quot; means when it says &quot;Elements no longer compatible with HTML 4 – a, hr, strong&quot;</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Sun Jul 08 2007 11:49:00 GMT-0700 (Pacific Daylight Time)">18:49</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=othermaciej@irc>othermaciej</span>&gt;</div></td><td class="msg-cell">[NEEDS CITATION]</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Sun Jul 08 2007 11:50:00 GMT-0700 (Pacific Daylight Time)">18:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Looks like they just chose a random selection of points from html4-differences</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Sun Jul 08 2007 11:50:01 GMT-0700 (Pacific Daylight Time)">18:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">and in that case, particularly the points under &quot;These elements have new meanings in HTML 5 which are incompatible with HTML 4&quot;</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Sun Jul 08 2007 11:52:00 GMT-0700 (Pacific Daylight Time)">18:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">(Not entirely sure what the point is in duplicating that data badly, when there&#039;s an external link to html4-differences)</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Sun Jul 08 2007 12:13:00 GMT-0700 (Pacific Daylight Time)">19:13</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span></div></td><td class="msg-cell">edited the wiki page: &quot;Elements with redefined meaning which are not compatible with HTML 4 – a, hr, strong&quot;</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Sun Jul 08 2007 12:42:00 GMT-0700 (Pacific Daylight Time)">19:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">hsivonen: re: why case handling wasn&#039;t paramterized in the tokenizer: I don&#039;t know. I think Sam just picked a solution that did what he wanted. Is there a good reason to prefer a different approach</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Sun Jul 08 2007 12:42:01 GMT-0700 (Pacific Daylight Time)">19:42</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">?</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Sun Jul 08 2007 12:43:00 GMT-0700 (Pacific Daylight Time)">19:43</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">Philip`: I&#039;ll change the html5lib test harness to do the same thing with attribute names as the treebuilder</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Sun Jul 08 2007 12:48:00 GMT-0700 (Pacific Daylight Time)">19:48</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">jgraham: reasons are running tokenizer-level tests and eliminating duplicate attributes</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Sun Jul 08 2007 12:50:00 GMT-0700 (Pacific Daylight Time)">19:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">jgraham: going forward if we integrate SVG, a flag you can toggle in mid-tokenization might become useful</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Sun Jul 08 2007 12:50:01 GMT-0700 (Pacific Daylight Time)">19:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">hsivonen: That&#039;s a good point</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Sun Jul 08 2007 12:50:02 GMT-0700 (Pacific Daylight Time)">19:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-6" title=jgraham@irc>jgraham</span>&gt;</div></td><td class="msg-cell">OK, I think I will change it to work with a flag</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Sun Jul 08 2007 12:51:00 GMT-0700 (Pacific Daylight Time)">19:51</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">perhaps in the future I move case folding to one place behind a flag so that case folding writes back to the read buffer</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Sun Jul 08 2007 12:52:00 GMT-0700 (Pacific Daylight Time)">19:52</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">this way I could avoid name copying whenever a name doesn&#039;t cross the read buffer boundary</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Sun Jul 08 2007 12:54:00 GMT-0700 (Pacific Daylight Time)">19:54</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">the fun part would be that then one could make a legitimate claim that lower case is faster :-)</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Sun Jul 08 2007 13:09:00 GMT-0700 (Pacific Daylight Time)">20:09</a></td><td class="nick-cell"><div class="m-ov"><span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span></div></td><td class="msg-cell">likes &lt;xmp&gt; and wonders why it was deprecated way back when</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Sun Jul 08 2007 13:10:00 GMT-0700 (Pacific Daylight Time)">20:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">even pretending html to be sgml it&#039;s just an ordinary rcdata element, isn&#039;t it?</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Sun Jul 08 2007 13:10:01 GMT-0700 (Pacific Daylight Time)">20:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Maybe because they couldn&#039;t work out a good way to show authors an example of how to write &lt;xmp&gt;...&lt;/xmp&gt;, without the example closing itself half-way through?</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Sun Jul 08 2007 13:10:02 GMT-0700 (Pacific Daylight Time)">20:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</div></td><td class="msg-cell">zcorpan_: there&#039;s a subject for a fun public-html thread</td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Sun Jul 08 2007 13:10:03 GMT-0700 (Pacific Daylight Time)">20:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Opera&#039;s &lt;xmp&gt; parsing is very broken, unfortunately :-(</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Sun Jul 08 2007 13:10:04 GMT-0700 (Pacific Daylight Time)">20:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">I think it was actually mentioned on public-html some months ago</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Sun Jul 08 2007 13:10:05 GMT-0700 (Pacific Daylight Time)">20:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">Philip`: &amp;lt;/xmp&gt;</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Sun Jul 08 2007 13:11:00 GMT-0700 (Pacific Daylight Time)">20:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">zcorpan_: That won&#039;t work, except in Opera</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Sun Jul 08 2007 13:11:01 GMT-0700 (Pacific Daylight Time)">20:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">since it ought to just show the text &quot;&amp;lt;/xmp&gt;&quot;</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Sun Jul 08 2007 13:11:02 GMT-0700 (Pacific Daylight Time)">20:11</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">oh, it&#039;s a cdata element even</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Sun Jul 08 2007 13:14:00 GMT-0700 (Pacific Daylight Time)">20:14</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell"><a href="http://software.hixie.ch/utilities/js/live-dom-viewer/?a%3Cscript%3E%3C/script/%3Ea%0Aa%3Cstyle%3E%3C/style/%3Ea%0Aa%3Cxmp%3E%3C/xmp/%3Ea">http://software.hixie.ch/utilities/js/live-dom-viewer/?a%3Cscript%3E%3C/script/%3Ea%0Aa%3Cstyle%3E%3C/style/%3Ea%0Aa%3Cxmp%3E%3C/xmp/%3Ea</a> - that&#039;s rather odd in Firefox</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Sun Jul 08 2007 13:17:00 GMT-0700 (Pacific Daylight Time)">20:17</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">Philip`: file a bug? :)</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Sun Jul 08 2007 13:19:00 GMT-0700 (Pacific Daylight Time)">20:19</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">No need - it&#039;ll all be perfect once they&#039;ve just implemented HTML5 ;-)</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Sun Jul 08 2007 13:26:00 GMT-0700 (Pacific Daylight Time)">20:26</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell"><a href="http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Ca/x%3E%3Ca/x/%3E%3Ca/x/x%3E%3Ca/x%20%3E%3Ca/x%20x%3E">http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Ca/x%3E%3Ca/x/%3E%3Ca/x/x%3E%3Ca/x%20%3E%3Ca/x%20x%3E</a></td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Sun Jul 08 2007 13:35:00 GMT-0700 (Pacific Daylight Time)">20:35</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-15" title=zcorpan_@irc>zcorpan_</span>&gt;</div></td><td class="msg-cell">&lt;xmp&gt;&lt;!--&lt;/xmp&gt;--&gt;&lt;/xmp&gt; ;)</td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Sun Jul 08 2007 14:50:00 GMT-0700 (Pacific Daylight Time)">21:50</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Looks like my OCaml implementation isn&#039;t very good - the C++ one is 150 times faster...</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Sun Jul 08 2007 15:00:00 GMT-0700 (Pacific Daylight Time)">22:00</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Oh, right, that&#039;s because I&#039;m making it read from stdin one character at a time</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Sun Jul 08 2007 15:10:00 GMT-0700 (Pacific Daylight Time)">22:10</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell">Aha - the OCaml one is now only four times slower than the C++ one, for tokenising the HTML5 spec</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Sun Jul 08 2007 16:25:00 GMT-0700 (Pacific Daylight Time)">23:25</a></td><td class="nick-cell"><div class="m-ov">&lt;<span class="nick nick-9" title=Philip`@irc>Philip`</span>&gt;</div></td><td class="msg-cell"><a href="http://canvex.lazyilluminati.com/svn/tokeniser/">http://canvex.lazyilluminati.com/svn/tokeniser/</a> is the current version of [not quite all of] my code</td></tr>

</tbody></table></div></div></div></body>
