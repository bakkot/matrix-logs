<!doctype html>
<head>
  <title>#whatwg on 2020-11-05</title>
  <link rel="stylesheet" href="../style.css">
  <script src="../logs.js"></script>
</head>
<body><div class="wrapper">
<div class="sidebar">
<div class="title">#whatwg<br>2020-11-05<br><a href="plaintext/">plaintext logs</a></div>
<div class="nav">
<a href="2020-11-04" class="nav-link"><span>prev</span></a>
<a href="2020-11-06" class="nav-link"><span style="float:right">next</span></a>
</div>
    
<div class="room-list-wrapper">Active:<br>
<ul class="room-list">
<li><a href="../TC39_Delegates/">TC39 Delegates</a></li>
<li><a href="../TC39_Editors/">TC39 Editors</a></li>
<li><a href="../TC39_General/">TC39 General</a></li>
<li><a href="../WHATWG/">WHATWG</a></li>
</ul>
</div>
<br>
<div class="room-list-wrapper">Historical:<br>
<ul class="room-list">
<li><a href="../irc-tc39/">#tc39</a></li>
<li><a href="../irc-tc39-delegates/">#tc39-delegates</a></li>
<li><a href="../irc-tc39-editor-group/">#tc39-editor-group</a></li>
<li><a href="../irc-whatwg/" class="current-room">#whatwg</a></li>
</ul>
</div>
<div class="footer"><a href="https://github.com/bakkot/matrix-archive-bot">source on github</a></div>
</div>
<div class="rhs"><div class="log">
<table><tbody id="log-tbody">
  <tr class="msg" id="L0"><td class="ts-cell"><a class="ts" href="#L0" alt="Wed Nov 04 2020 21:07:26 GMT-0800 (Pacific Standard Time)">05:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Domenic: I suspect that‚Äôs fallout from shadow trees and that Chrome/Fx still haven‚Äôt fixed their bug but will double check later</td></tr>
  <tr class="msg" id="L1"><td class="ts-cell"><a class="ts" href="#L1" alt="Wed Nov 04 2020 23:01:07 GMT-0800 (Pacific Standard Time)">07:01</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell">jyasskin: thanks</td></tr>
  <tr class="msg" id="L2"><td class="ts-cell"><a class="ts" href="#L2" alt="Thu Nov 05 2020 00:24:40 GMT-0800 (Pacific Standard Time)">08:24</a></td><td class="nick-cell">&lt;<span class="nick nick-15" title=hsivonen@irc>hsivonen</span>&gt;</td><td class="msg-cell"><a href="https://bz.apache.org/bugzilla/show_bug.cgi?id=59311#c9">https://bz.apache.org/bugzilla/show_bug.cgi?id=59311#c9</a> reminds me of Apache-sent text/plain for binary file vs. browsers, therefore, not treating text/plain as authoritative</td></tr>
  <tr class="msg" id="L3"><td class="ts-cell"><a class="ts" href="#L3" alt="Thu Nov 05 2020 00:27:23 GMT-0800 (Pacific Standard Time)">08:27</a></td><td class="nick-cell"><span class="nick nick-12" title=annevk@irc>annevk</span></td><td class="msg-cell">sighs</td></tr>
  <tr class="msg" id="L4"><td class="ts-cell"><a class="ts" href="#L4" alt="Thu Nov 05 2020 01:45:11 GMT-0800 (Pacific Standard Time)">09:45</a></td><td class="nick-cell"><span class="nick nick-14" title=zcorpan@irc>zcorpan</span></td><td class="msg-cell">sees <a href="https://bugs.webkit.org/show_bug.cgi?id=212069">https://bugs.webkit.org/show_bug.cgi?id=212069</a></td></tr>
  <tr class="msg" id="L5"><td class="ts-cell"><a class="ts" href="#L5" alt="Thu Nov 05 2020 01:45:21 GMT-0800 (Pacific Standard Time)">09:45</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">Does WebKit support cross-origin isolation?</td></tr>
  <tr class="msg" id="L6"><td class="ts-cell"><a class="ts" href="#L6" alt="Thu Nov 05 2020 01:46:54 GMT-0800 (Pacific Standard Time)">09:46</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell"><a href="https://bugs.webkit.org/show_bug.cgi?id=215407">https://bugs.webkit.org/show_bug.cgi?id=215407</a></td></tr>
  <tr class="msg" id="L7"><td class="ts-cell"><a class="ts" href="#L7" alt="Thu Nov 05 2020 01:51:05 GMT-0800 (Pacific Standard Time)">09:51</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">thanks zcorpan, left a comment on the first bug</td></tr>
  <tr class="msg" id="L8"><td class="ts-cell"><a class="ts" href="#L8" alt="Thu Nov 05 2020 01:53:37 GMT-0800 (Pacific Standard Time)">09:53</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">üëç</td></tr>
  <tr class="msg" id="L9"><td class="ts-cell"><a class="ts" href="#L9" alt="Thu Nov 05 2020 02:29:12 GMT-0800 (Pacific Standard Time)">10:29</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">is it possible for the root element to somehow not take up the entire viewport (through non-default styles)?</td></tr>
  <tr class="msg" id="L10"><td class="ts-cell"><a class="ts" href="#L10" alt="Thu Nov 05 2020 02:30:03 GMT-0800 (Pacific Standard Time)">10:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">mathiasbynens: I think by default it doesn&#039;t do that</td></tr>
  <tr class="msg" id="L11"><td class="ts-cell"><a class="ts" href="#L11" alt="Thu Nov 05 2020 02:30:07 GMT-0800 (Pacific Standard Time)">10:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">mathiasbynens: just give it a border</td></tr>
  <tr class="msg" id="L12"><td class="ts-cell"><a class="ts" href="#L12" alt="Thu Nov 05 2020 02:30:57 GMT-0800 (Pacific Standard Time)">10:30</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">(background and overflow might be confusing here, but they end up applying to the viewport instead when set on the root + special behavior for HTML&#039;s body element)</td></tr>
  <tr class="msg" id="L13"><td class="ts-cell"><a class="ts" href="#L13" alt="Thu Nov 05 2020 02:33:42 GMT-0800 (Pacific Standard Time)">10:33</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">oh my this renders differently on Chrome vs. Firefox</td></tr>
  <tr class="msg" id="L14"><td class="ts-cell"><a class="ts" href="#L14" alt="Thu Nov 05 2020 02:33:43 GMT-0800 (Pacific Standard Time)">10:33</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">data:text/html,&lt;style&gt;:root{border:5px solid red</td></tr>
  <tr class="msg" id="L15"><td class="ts-cell"><a class="ts" href="#L15" alt="Thu Nov 05 2020 02:34:13 GMT-0800 (Pacific Standard Time)">10:34</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">(note: quirks mode)</td></tr>
  <tr class="msg" id="L16"><td class="ts-cell"><a class="ts" href="#L16" alt="Thu Nov 05 2020 02:34:21 GMT-0800 (Pacific Standard Time)">10:34</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">it renders the same in standards mode thankfully</td></tr>
  <tr class="msg" id="L17"><td class="ts-cell"><a class="ts" href="#L17" alt="Thu Nov 05 2020 02:35:19 GMT-0800 (Pacific Standard Time)">10:35</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Not sure why Chromium and WebKit have that quirk</td></tr>
  <tr class="msg" id="L18"><td class="ts-cell"><a class="ts" href="#L18" alt="Thu Nov 05 2020 02:35:24 GMT-0800 (Pacific Standard Time)">10:35</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">to be more precise, I&#039;m trying to find out if there&#039;s a way for `:root { filter: ...; }` to not take effect on some part of the viewport</td></tr>
  <tr class="msg" id="L19"><td class="ts-cell"><a class="ts" href="#L19" alt="Thu Nov 05 2020 02:37:05 GMT-0800 (Pacific Standard Time)">10:37</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Maybe ecobos can help; filter is too new for what I know</td></tr>
  <tr class="msg" id="L20"><td class="ts-cell"><a class="ts" href="#L20" alt="Thu Nov 05 2020 02:38:09 GMT-0800 (Pacific Standard Time)">10:38</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell"><a href="https://quirks.spec.whatwg.org/#the-html-element-fills-the-viewport-quirk">https://quirks.spec.whatwg.org/#the-html-element-fills-the-viewport-quirk</a></td></tr>
  <tr class="msg" id="L21"><td class="ts-cell"><a class="ts" href="#L21" alt="Thu Nov 05 2020 02:38:36 GMT-0800 (Pacific Standard Time)">10:38</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">assuming Firefox devtools&#039; &quot;computed&quot; tab actually shows the computed values, the width of the html element is the actual (used) width, not auto</td></tr>
  <tr class="msg" id="L22"><td class="ts-cell"><a class="ts" href="#L22" alt="Thu Nov 05 2020 02:43:13 GMT-0800 (Pacific Standard Time)">10:43</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">So there&#039;s a difference between getComputedStyle() and computed value and I&#039;m not sure what DevTools does</td></tr>
  <tr class="msg" id="L23"><td class="ts-cell"><a class="ts" href="#L23" alt="Thu Nov 05 2020 02:46:48 GMT-0800 (Pacific Standard Time)">10:46</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">I&#039;m looking at wpt and there doesn&#039;t seem to be a test for that quirk</td></tr>
  <tr class="msg" id="L24"><td class="ts-cell"><a class="ts" href="#L24" alt="Thu Nov 05 2020 02:50:10 GMT-0800 (Pacific Standard Time)">10:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">andreubotella: if you&#039;re interested in working on that spec I&#039;m sure zcorpan would appreciate the help</td></tr>
  <tr class="msg" id="L25"><td class="ts-cell"><a class="ts" href="#L25" alt="Thu Nov 05 2020 02:51:19 GMT-0800 (Pacific Standard Time)">10:51</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">this isn&#039;t a quirks mode thing, it&#039;s what getComputedStyle always does</td></tr>
  <tr class="msg" id="L26"><td class="ts-cell"><a class="ts" href="#L26" alt="Thu Nov 05 2020 02:52:30 GMT-0800 (Pacific Standard Time)">10:52</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell"><a href="https://drafts.csswg.org/cssom/#dom-window-getcomputedstyle">https://drafts.csswg.org/cssom/#dom-window-getcomputedstyle</a> step 5</td></tr>
  <tr class="msg" id="L27"><td class="ts-cell"><a class="ts" href="#L27" alt="Thu Nov 05 2020 02:53:03 GMT-0800 (Pacific Standard Time)">10:53</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">-&gt; <a href="https://drafts.csswg.org/cssom/#resolved-value">https://drafts.csswg.org/cssom/#resolved-value</a></td></tr>
  <tr class="msg" id="L28"><td class="ts-cell"><a class="ts" href="#L28" alt="Thu Nov 05 2020 02:55:41 GMT-0800 (Pacific Standard Time)">10:55</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">yeah, it does seem likely that the devtools &quot;computed&quot; tab is showing the results from getComputedStyle</td></tr>
  <tr class="msg" id="L29"><td class="ts-cell"><a class="ts" href="#L29" alt="Thu Nov 05 2020 02:55:56 GMT-0800 (Pacific Standard Time)">10:55</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">that was just me trying to debug, though</td></tr>
  <tr class="msg" id="L30"><td class="ts-cell"><a class="ts" href="#L30" alt="Thu Nov 05 2020 02:56:14 GMT-0800 (Pacific Standard Time)">10:56</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">&lt;mathiasbynens&gt; oh my this renders differently on Chrome vs. Firefox</td></tr>
  <tr class="msg" id="L31"><td class="ts-cell"><a class="ts" href="#L31" alt="Thu Nov 05 2020 02:56:14 GMT-0800 (Pacific Standard Time)">10:56</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">&lt;mathiasbynens&gt; data:text/html,&lt;style&gt;:root{border:5px solid red</td></tr>
  <tr class="msg" id="L32"><td class="ts-cell"><a class="ts" href="#L32" alt="Thu Nov 05 2020 02:57:43 GMT-0800 (Pacific Standard Time)">10:57</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">css/cssom/computed-style-002.html tests almost this case (getComputedStyle returning used value for &#039;width&#039;)</td></tr>
  <tr class="msg" id="L33"><td class="ts-cell"><a class="ts" href="#L33" alt="Thu Nov 05 2020 02:58:49 GMT-0800 (Pacific Standard Time)">10:58</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">andreubotella: so firefox still doesn&#039;t implement <a href="https://quirks.spec.whatwg.org/#the-html-element-fills-the-viewport-quirk">https://quirks.spec.whatwg.org/#the-html-element-fills-the-viewport-quirk</a></td></tr>
  <tr class="msg" id="L34"><td class="ts-cell"><a class="ts" href="#L34" alt="Thu Nov 05 2020 02:59:29 GMT-0800 (Pacific Standard Time)">10:59</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell"><a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1259924">https://bugzilla.mozilla.org/show_bug.cgi?id=1259924</a></td></tr>
  <tr class="msg" id="L35"><td class="ts-cell"><a class="ts" href="#L35" alt="Thu Nov 05 2020 03:07:14 GMT-0800 (Pacific Standard Time)">11:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">If Firefox DevTools use the resolved value for &quot;computed&quot; I wish that was called out somehow</td></tr>
  <tr class="msg" id="L36"><td class="ts-cell"><a class="ts" href="#L36" alt="Thu Nov 05 2020 03:07:34 GMT-0800 (Pacific Standard Time)">11:07</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Although it would be even nicer to make the specification align with the name of the public-facing API</td></tr>
  <tr class="msg" id="L37"><td class="ts-cell"><a class="ts" href="#L37" alt="Thu Nov 05 2020 03:24:46 GMT-0800 (Pacific Standard Time)">11:24</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">So I think I&#039;ll write a wpt test for that quirk</td></tr>
  <tr class="msg" id="L38"><td class="ts-cell"><a class="ts" href="#L38" alt="Thu Nov 05 2020 04:31:01 GMT-0800 (Pacific Standard Time)">12:31</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">andreubotella: great! <a href="http://wpt.live/quirks/">http://wpt.live/quirks/</a> looks like there are some tests for body-fills-html</td></tr>
  <tr class="msg" id="L39"><td class="ts-cell"><a class="ts" href="#L39" alt="Thu Nov 05 2020 04:32:01 GMT-0800 (Pacific Standard Time)">12:32</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">but firefox passes those, so not sure</td></tr>
  <tr class="msg" id="L40"><td class="ts-cell"><a class="ts" href="#L40" alt="Thu Nov 05 2020 04:38:22 GMT-0800 (Pacific Standard Time)">12:38</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">it looks like those tests are specifically checking that the quirk *doesn&#039;t* apply in the cases that the spec excludes, and nothing&#039;s checking that it applies elsewhere</td></tr>
  <tr class="msg" id="L41"><td class="ts-cell"><a class="ts" href="#L41" alt="Thu Nov 05 2020 04:38:32 GMT-0800 (Pacific Standard Time)">12:38</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">also, that&#039;s &quot;body fills html&quot;, not &quot;html fills viewport&quot;</td></tr>
  <tr class="msg" id="L42"><td class="ts-cell"><a class="ts" href="#L42" alt="Thu Nov 05 2020 04:39:04 GMT-0800 (Pacific Standard Time)">12:39</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">ah right</td></tr>
  <tr class="msg" id="L43"><td class="ts-cell"><a class="ts" href="#L43" alt="Thu Nov 05 2020 04:39:25 GMT-0800 (Pacific Standard Time)">12:39</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">but if firefox isn&#039;t implementing that quirk, maybe it&#039;s not needed for web compat</td></tr>
  <tr class="msg" id="L44"><td class="ts-cell"><a class="ts" href="#L44" alt="Thu Nov 05 2020 04:40:11 GMT-0800 (Pacific Standard Time)">12:40</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">yeeeeah, except they have web compat problems documented in the bug, and chromium and webkit aren&#039;t removing it</td></tr>
  <tr class="msg" id="L45"><td class="ts-cell"><a class="ts" href="#L45" alt="Thu Nov 05 2020 04:40:24 GMT-0800 (Pacific Standard Time)">12:40</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">the spec at first sided with gecko, until they asked me to change the spec</td></tr>
  <tr class="msg" id="L46"><td class="ts-cell"><a class="ts" href="#L46" alt="Thu Nov 05 2020 04:41:41 GMT-0800 (Pacific Standard Time)">12:41</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">if you can get the 4% of the web that uses quirks mode down to 0%, maybe we can drop quirks mode altogether :)</td></tr>
  <tr class="msg" id="L47"><td class="ts-cell"><a class="ts" href="#L47" alt="Thu Nov 05 2020 04:43:57 GMT-0800 (Pacific Standard Time)">12:43</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">yeah, I don&#039;t think that&#039;s something I can do :D</td></tr>
  <tr class="msg" id="L48"><td class="ts-cell"><a class="ts" href="#L48" alt="Thu Nov 05 2020 04:44:23 GMT-0800 (Pacific Standard Time)">12:44</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">:( :( :(</td></tr>
  <tr class="msg" id="L49"><td class="ts-cell"><a class="ts" href="#L49" alt="Thu Nov 05 2020 05:17:00 GMT-0800 (Pacific Standard Time)">13:17</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=ecobos@irc>ecobos</span>&gt;</td><td class="msg-cell">mathiasbynens: `:root { filter: ... }` is special</td></tr>
  <tr class="msg" id="L50"><td class="ts-cell"><a class="ts" href="#L50" alt="Thu Nov 05 2020 05:17:43 GMT-0800 (Pacific Standard Time)">13:17</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=ecobos@irc>ecobos</span>&gt;</td><td class="msg-cell">mathiasbynens: and it applies on the whole viewport, including fixed-pos elements and so on (on all browsers except FF, but we need to change that)</td></tr>
  <tr class="msg" id="L51"><td class="ts-cell"><a class="ts" href="#L51" alt="Thu Nov 05 2020 05:18:14 GMT-0800 (Pacific Standard Time)">13:18</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">ecobos: thanks for confirming! any idea which (part of which) spec mandates this?</td></tr>
  <tr class="msg" id="L52"><td class="ts-cell"><a class="ts" href="#L52" alt="Thu Nov 05 2020 05:20:06 GMT-0800 (Pacific Standard Time)">13:20</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=ecobos@irc>ecobos</span>&gt;</td><td class="msg-cell">mathiasbynens: see <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=1423746">https://bugzilla.mozilla.org/show_bug.cgi?id=1423746</a> / <a href="https://github.com/w3c/fxtf-drafts/issues/11">https://github.com/w3c/fxtf-drafts/issues/11</a>. It should really be <a href="https://drafts.fxtf.org/filter-effects/#FilterProperty">https://drafts.fxtf.org/filter-effects/#FilterProperty</a> (I commented on that issue a while ago to ask for that change), but it is in here: <a href="https://drafts.fxtf.org/compositing/#pagebackdrop">https://drafts.fxtf.org/compositing/#pagebackdrop</a></td></tr>
  <tr class="msg" id="L53"><td class="ts-cell"><a class="ts" href="#L53" alt="Thu Nov 05 2020 05:20:14 GMT-0800 (Pacific Standard Time)">13:20</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=ecobos@irc>ecobos</span>&gt;</td><td class="msg-cell">mathiasbynens: spec could be clearer</td></tr>
  <tr class="msg" id="L54"><td class="ts-cell"><a class="ts" href="#L54" alt="Thu Nov 05 2020 05:20:24 GMT-0800 (Pacific Standard Time)">13:20</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=mathiasbynens@irc>mathiasbynens</span>&gt;</td><td class="msg-cell">ecobos: cheers!</td></tr>
  <tr class="msg" id="L55"><td class="ts-cell"><a class="ts" href="#L55" alt="Thu Nov 05 2020 05:20:50 GMT-0800 (Pacific Standard Time)">13:20</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=ecobos@irc>ecobos</span>&gt;</td><td class="msg-cell">mathiasbynens: one way to get around it could be to apply an inverse filter on a given part of the page</td></tr>
  <tr class="msg" id="L56"><td class="ts-cell"><a class="ts" href="#L56" alt="Thu Nov 05 2020 05:21:03 GMT-0800 (Pacific Standard Time)">13:21</a></td><td class="nick-cell">&lt;<span class="nick nick-3" title=ecobos@irc>ecobos</span>&gt;</td><td class="msg-cell">mathiasbynens: (but that only works for filters that are actually invertible)</td></tr>
  <tr class="msg" id="L57"><td class="ts-cell"><a class="ts" href="#L57" alt="Thu Nov 05 2020 06:43:09 GMT-0800 (Pacific Standard Time)">14:43</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">zcorpan: looks like webkit&#039;s skipping the &quot;auto computed value&quot; exception for html fills viewport</td></tr>
  <tr class="msg" id="L58"><td class="ts-cell"><a class="ts" href="#L58" alt="Thu Nov 05 2020 06:43:42 GMT-0800 (Pacific Standard Time)">14:43</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">s/exception/restriction</td></tr>
  <tr class="msg" id="L59"><td class="ts-cell"><a class="ts" href="#L59" alt="Thu Nov 05 2020 06:43:53 GMT-0800 (Pacific Standard Time)">14:43</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(+1 to &quot;it would be even nicer to make the specification align with the name of the public-facing API&quot;; I made this pitch several years back but the CSSWG folks seem really attached to their computed/used/resolved hierarchy and not willing to do any renames...)</td></tr>
  <tr class="msg" id="L60"><td class="ts-cell"><a class="ts" href="#L60" alt="Thu Nov 05 2020 06:44:35 GMT-0800 (Pacific Standard Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">andreubotella: do you have a demo?</td></tr>
  <tr class="msg" id="L61"><td class="ts-cell"><a class="ts" href="#L61" alt="Thu Nov 05 2020 06:44:58 GMT-0800 (Pacific Standard Time)">14:44</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">that tests this in particular no, but it came up in tests for body fills html</td></tr>
  <tr class="msg" id="L62"><td class="ts-cell"><a class="ts" href="#L62" alt="Thu Nov 05 2020 06:45:05 GMT-0800 (Pacific Standard Time)">14:45</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">TabAtkins: ^ (re computed value)</td></tr>
  <tr class="msg" id="L63"><td class="ts-cell"><a class="ts" href="#L63" alt="Thu Nov 05 2020 06:45:32 GMT-0800 (Pacific Standard Time)">14:45</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">but give me a minute</td></tr>
  <tr class="msg" id="L64"><td class="ts-cell"><a class="ts" href="#L64" alt="Thu Nov 05 2020 06:50:49 GMT-0800 (Pacific Standard Time)">14:50</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">hm, turns out that&#039;s not the case</td></tr>
  <tr class="msg" id="L65"><td class="ts-cell"><a class="ts" href="#L65" alt="Thu Nov 05 2020 06:51:12 GMT-0800 (Pacific Standard Time)">14:51</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">there bug is with body fills html, but it&#039;s quite an odd one</td></tr>
  <tr class="msg" id="L66"><td class="ts-cell"><a class="ts" href="#L66" alt="Thu Nov 05 2020 06:55:56 GMT-0800 (Pacific Standard Time)">14:55</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell"><a href="https://software.hixie.ch/utilities/js/live-dom-viewer/?saved=8657">https://software.hixie.ch/utilities/js/live-dom-viewer/?saved=8657</a></td></tr>
  <tr class="msg" id="L67"><td class="ts-cell"><a class="ts" href="#L67" alt="Thu Nov 05 2020 06:56:44 GMT-0800 (Pacific Standard Time)">14:56</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">the body spans the whole viewport even though webkit&#039;s devtools have the html at 200x200</td></tr>
  <tr class="msg" id="L68"><td class="ts-cell"><a class="ts" href="#L68" alt="Thu Nov 05 2020 06:57:20 GMT-0800 (Pacific Standard Time)">14:57</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">then again, I&#039;m testing this with various webkit representatives on linux because I don&#039;t have a mac around, so ymmv</td></tr>
  <tr class="msg" id="L69"><td class="ts-cell"><a class="ts" href="#L69" alt="Thu Nov 05 2020 07:01:07 GMT-0800 (Pacific Standard Time)">15:01</a></td><td class="nick-cell"><span class="nick nick-3" title=ecobos@irc>ecobos</span></td><td class="msg-cell">really hates that quirk</td></tr>
  <tr class="msg" id="L70"><td class="ts-cell"><a class="ts" href="#L70" alt="Thu Nov 05 2020 07:06:45 GMT-0800 (Pacific Standard Time)">15:06</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">Hey, we&#039;re ( Node.js ) considering graduating our EventTarget and AbortController from experimental to stable and would love a glance by some skilled eyes on the code to make sure it looks good ( <a href="https://github.com/nodejs/node/pull/35949">https://github.com/nodejs/node/pull/35949</a> is the PR). We were unable to port the WPT (since it tests node) but we added quite a bit of coverage to it.</td></tr>
  <tr class="msg" id="L71"><td class="ts-cell"><a class="ts" href="#L71" alt="Thu Nov 05 2020 07:06:46 GMT-0800 (Pacific Standard Time)">15:06</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">Also pinging Domenic and annevk who have been very helpful in this undertaking in the past :]</td></tr>
  <tr class="msg" id="L72"><td class="ts-cell"><a class="ts" href="#L72" alt="Thu Nov 05 2020 07:24:24 GMT-0800 (Pacific Standard Time)">15:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">andreubotella: thanks. this makes it a bit clearer:  <a href="https://software.hixie.ch/utilities/js/live-dom-viewer/saved/8658">https://software.hixie.ch/utilities/js/live-dom-viewer/saved/8658</a></td></tr>
  <tr class="msg" id="L73"><td class="ts-cell"><a class="ts" href="#L73" alt="Thu Nov 05 2020 07:24:45 GMT-0800 (Pacific Standard Time)">15:24</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">andreubotella: so yes, it seems webkit makes body fill the viewport, rather than filling the &lt;html&gt;</td></tr>
  <tr class="msg" id="L74"><td class="ts-cell"><a class="ts" href="#L74" alt="Thu Nov 05 2020 07:25:42 GMT-0800 (Pacific Standard Time)">15:25</a></td><td class="nick-cell">&lt;<span class="nick nick-14" title=zcorpan@irc>zcorpan</span>&gt;</td><td class="msg-cell">(the &lt;span&gt; is not necessary here)</td></tr>
  <tr class="msg" id="L75"><td class="ts-cell"><a class="ts" href="#L75" alt="Thu Nov 05 2020 07:27:37 GMT-0800 (Pacific Standard Time)">15:27</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">zcorpan: right, I just copied from the existing tests</td></tr>
  <tr class="msg" id="L76"><td class="ts-cell"><a class="ts" href="#L76" alt="Thu Nov 05 2020 07:46:30 GMT-0800 (Pacific Standard Time)">15:46</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">benjamingr__: nothing really comes to mind, other than wondering whether the tests you have also pass in browsers</td></tr>
  <tr class="msg" id="L77"><td class="ts-cell"><a class="ts" href="#L77" alt="Thu Nov 05 2020 08:15:24 GMT-0800 (Pacific Standard Time)">16:15</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">They all do, I usually run them in the browser console first to iterate quickly :]</td></tr>
  <tr class="msg" id="L78"><td class="ts-cell"><a class="ts" href="#L78" alt="Thu Nov 05 2020 08:56:05 GMT-0800 (Pacific Standard Time)">16:56</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">Domenic: if you don&#039;t mind - is there a specific reason event handler ordering works this way? (that is in <a href="https://github.com/nodejs/node/pull/35949#issuecomment-722496598">https://github.com/nodejs/node/pull/35949#issuecomment-722496598</a> ) the behaviour is 1 2 3 4 and not 1 3 2 4 ?</td></tr>
  <tr class="msg" id="L79"><td class="ts-cell"><a class="ts" href="#L79" alt="Thu Nov 05 2020 08:58:25 GMT-0800 (Pacific Standard Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">benjamingr__: onmessage invokes addEventListener the first time it&#039;s called with a function that invokes the passed in function, roughly</td></tr>
  <tr class="msg" id="L80"><td class="ts-cell"><a class="ts" href="#L80" alt="Thu Nov 05 2020 08:58:48 GMT-0800 (Pacific Standard Time)">16:58</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">benjamingr__: it falls out from how event handler attributes work, basically (defined in HTML)</td></tr>
  <tr class="msg" id="L81"><td class="ts-cell"><a class="ts" href="#L81" alt="Thu Nov 05 2020 09:00:40 GMT-0800 (Pacific Standard Time)">17:00</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">Yeah, I&#039;m trying to figure out _why_ that&#039;s the behaviour</td></tr>
  <tr class="msg" id="L82"><td class="ts-cell"><a class="ts" href="#L82" alt="Thu Nov 05 2020 09:00:55 GMT-0800 (Pacific Standard Time)">17:00</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">That is, I assume event handlers behave this way for some reason (good or not), right?</td></tr>
  <tr class="msg" id="L83"><td class="ts-cell"><a class="ts" href="#L83" alt="Thu Nov 05 2020 09:02:47 GMT-0800 (Pacific Standard Time)">17:02</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=TimothyGu@irc>TimothyGu</span>&gt;</td><td class="msg-cell">annevk: how much work would it be to convert Web IDL to use spec-factory? I assume spec-factory is currently only for WHATWG specs?</td></tr>
  <tr class="msg" id="L84"><td class="ts-cell"><a class="ts" href="#L84" alt="Thu Nov 05 2020 09:03:11 GMT-0800 (Pacific Standard Time)">17:03</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">benjamingr__: I suspect it&#039;s just because that&#039;s what someone implemented back in the day</td></tr>
  <tr class="msg" id="L85"><td class="ts-cell"><a class="ts" href="#L85" alt="Thu Nov 05 2020 09:03:30 GMT-0800 (Pacific Standard Time)">17:03</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">benjamingr__: it&#039;s not like a lot of the early web had a lot of collaborative design</td></tr>
  <tr class="msg" id="L86"><td class="ts-cell"><a class="ts" href="#L86" alt="Thu Nov 05 2020 09:04:29 GMT-0800 (Pacific Standard Time)">17:04</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">TimothyGu: yeah, that&#039;s the case; not sure how much work it would be</td></tr>
  <tr class="msg" id="L87"><td class="ts-cell"><a class="ts" href="#L87" alt="Thu Nov 05 2020 09:14:41 GMT-0800 (Pacific Standard Time)">17:14</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">what in specific am i being pinged for?</td></tr>
  <tr class="msg" id="L88"><td class="ts-cell"><a class="ts" href="#L88" alt="Thu Nov 05 2020 09:20:17 GMT-0800 (Pacific Standard Time)">17:20</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">TabAtkins: &lt;Domenic&gt; (+1 to &quot;it would be even nicer to make the specification align with the name of the public-facing API&quot;; I made this pitch several years back but the CSSWG folks seem really attached to their computed/used/resolved hierarchy and not willing to do any renames...)</td></tr>
  <tr class="msg" id="L89"><td class="ts-cell"><a class="ts" href="#L89" alt="Thu Nov 05 2020 09:21:02 GMT-0800 (Pacific Standard Time)">17:21</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">ah k. yeah, that&#039;s not happening now, it would involve changing so much verbage across so many specs; the split happened like 15 years ago</td></tr>
  <tr class="msg" id="L90"><td class="ts-cell"><a class="ts" href="#L90" alt="Thu Nov 05 2020 09:29:42 GMT-0800 (Pacific Standard Time)">17:29</a></td><td class="nick-cell">&lt;<span class="nick nick-10" title=TabAtkins@irc>TabAtkins</span>&gt;</td><td class="msg-cell">The CSSWG at the time of the CSS2 -&gt; CSS2.1 development made a bunch of &quot;no, it&#039;s the children that are wrong&quot;-type mistake</td></tr>
  <tr class="msg" id="L91"><td class="ts-cell"><a class="ts" href="#L91" alt="Thu Nov 05 2020 10:01:03 GMT-0800 (Pacific Standard Time)">18:01</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">What&#039;s that site with COEP/COOP/CORP stats? Something like isolation.policy, but not...</td></tr>
  <tr class="msg" id="L92"><td class="ts-cell"><a class="ts" href="#L92" alt="Thu Nov 05 2020 10:01:57 GMT-0800 (Pacific Standard Time)">18:01</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">annevk: got it :D</td></tr>
  <tr class="msg" id="L93"><td class="ts-cell"><a class="ts" href="#L93" alt="Thu Nov 05 2020 10:03:33 GMT-0800 (Pacific Standard Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">By the way, two more questions I am unsure about a) are we allowed to expose a static utility to get the event listeners of an event target (kind of like `getEventListeners` in chrome)? b) are we allowed to warn (to stderr) if the number of listeners is above a certain threshold?</td></tr>
  <tr class="msg" id="L94"><td class="ts-cell"><a class="ts" href="#L94" alt="Thu Nov 05 2020 10:03:59 GMT-0800 (Pacific Standard Time)">18:03</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">benjamingr__: no new methods not in the spec... I&#039;m not aware of Chrome having such a nonstandard method.</td></tr>
  <tr class="msg" id="L95"><td class="ts-cell"><a class="ts" href="#L95" alt="Thu Nov 05 2020 10:04:25 GMT-0800 (Pacific Standard Time)">18:04</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">warn seems fine (assuming in the console)</td></tr>
  <tr class="msg" id="L96"><td class="ts-cell"><a class="ts" href="#L96" alt="Thu Nov 05 2020 10:04:39 GMT-0800 (Pacific Standard Time)">18:04</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">benjamingr__: console is generally up to the implementation. We do try to standardize some warnings, but a lot remain browser-specific, and that&#039;s fine, since (on the web) it&#039;s not observable</td></tr>
  <tr class="msg" id="L97"><td class="ts-cell"><a class="ts" href="#L97" alt="Thu Nov 05 2020 10:05:10 GMT-0800 (Pacific Standard Time)">18:05</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">benjamingr__: I guess you are referring to the method that only exists when you have the console open in Chrome? As long as it&#039;s not on the EventTarget interface itself, then it&#039;s fair game, yeah.</td></tr>
  <tr class="msg" id="L98"><td class="ts-cell"><a class="ts" href="#L98" alt="Thu Nov 05 2020 10:05:11 GMT-0800 (Pacific Standard Time)">18:05</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">Domenic:  I mean something like a `utils.getEventListeners(eventTarget)` and not a `eventTarget.getEventListeners`</td></tr>
  <tr class="msg" id="L99"><td class="ts-cell"><a class="ts" href="#L99" alt="Thu Nov 05 2020 10:05:17 GMT-0800 (Pacific Standard Time)">18:05</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Ah yeah, then that&#039;d be fine</td></tr>
  <tr class="msg" id="L100"><td class="ts-cell"><a class="ts" href="#L100" alt="Thu Nov 05 2020 10:05:29 GMT-0800 (Pacific Standard Time)">18:05</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">Ah, thanks, people have been asking for that for inspecting targets</td></tr>
  <tr class="msg" id="L101"><td class="ts-cell"><a class="ts" href="#L101" alt="Thu Nov 05 2020 10:05:51 GMT-0800 (Pacific Standard Time)">18:05</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">People have been asking for it in the spec too, but we&#039;re a bit stuck between the encapsulation folks and others...</td></tr>
  <tr class="msg" id="L102"><td class="ts-cell"><a class="ts" href="#L102" alt="Thu Nov 05 2020 10:06:12 GMT-0800 (Pacific Standard Time)">18:06</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell"><a href="https://github.com/whatwg/dom/issues/412">https://github.com/whatwg/dom/issues/412</a></td></tr>
  <tr class="msg" id="L103"><td class="ts-cell"><a class="ts" href="#L103" alt="Thu Nov 05 2020 10:06:34 GMT-0800 (Pacific Standard Time)">18:06</a></td><td class="nick-cell">&lt;<span class="nick nick-16" title=benjamingr__@irc>benjamingr__</span>&gt;</td><td class="msg-cell">Interesting, thanks</td></tr>
  <tr class="msg" id="L104"><td class="ts-cell"><a class="ts" href="#L104" alt="Thu Nov 05 2020 10:25:43 GMT-0800 (Pacific Standard Time)">18:25</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Does the fetch standard also define how img and script html tags fetch the resources?</td></tr>
  <tr class="msg" id="L105"><td class="ts-cell"><a class="ts" href="#L105" alt="Thu Nov 05 2020 10:25:57 GMT-0800 (Pacific Standard Time)">18:25</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">croraf: HTML does, but it uses fetch to do so</td></tr>
  <tr class="msg" id="L106"><td class="ts-cell"><a class="ts" href="#L106" alt="Thu Nov 05 2020 10:26:33 GMT-0800 (Pacific Standard Time)">18:26</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">So the HTML standard says &quot;fetch standard should be used for fetching&quot;?</td></tr>
  <tr class="msg" id="L107"><td class="ts-cell"><a class="ts" href="#L107" alt="Thu Nov 05 2020 10:28:23 GMT-0800 (Pacific Standard Time)">18:28</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">croraf: a lil more, but effectively that</td></tr>
  <tr class="msg" id="L108"><td class="ts-cell"><a class="ts" href="#L108" alt="Thu Nov 05 2020 10:28:34 GMT-0800 (Pacific Standard Time)">18:28</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">annevk, thanks</td></tr>
  <tr class="msg" id="L109"><td class="ts-cell"><a class="ts" href="#L109" alt="Thu Nov 05 2020 10:29:56 GMT-0800 (Pacific Standard Time)">18:29</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">croraf: standards do have access to some fields of the request that aren&#039;t available from the javascript fetch API, if that&#039;s something you care about</td></tr>
  <tr class="msg" id="L110"><td class="ts-cell"><a class="ts" href="#L110" alt="Thu Nov 05 2020 10:31:05 GMT-0800 (Pacific Standard Time)">18:31</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Ah yeah, although we haven&#039;t really updated HTML yet to poke at the internal response for &lt;img&gt; and &lt;script&gt;</td></tr>
  <tr class="msg" id="L111"><td class="ts-cell"><a class="ts" href="#L111" alt="Thu Nov 05 2020 10:31:30 GMT-0800 (Pacific Standard Time)">18:31</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">andreubotella, I just meant in general, if the HTML spec in the tags for fetching resources requires the use of resource fetching aligned with the fetch standard.</td></tr>
  <tr class="msg" id="L112"><td class="ts-cell"><a class="ts" href="#L112" alt="Thu Nov 05 2020 10:32:53 GMT-0800 (Pacific Standard Time)">18:32</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">annevk: &lt;script&gt; does poke at the internal response, it&#039;s &lt;link&gt; that doesn&#039;t</td></tr>
  <tr class="msg" id="L113"><td class="ts-cell"><a class="ts" href="#L113" alt="Thu Nov 05 2020 10:32:55 GMT-0800 (Pacific Standard Time)">18:32</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">That is, it requries the underlying fetching is aligned with the fetch standard</td></tr>
  <tr class="msg" id="L114"><td class="ts-cell"><a class="ts" href="#L114" alt="Thu Nov 05 2020 10:33:24 GMT-0800 (Pacific Standard Time)">18:33</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">I&#039;ll write a PR for that, but it looks like &lt;link rel=&quot;icon&quot;&gt; won&#039;t be testable (<a href="https://github.com/whatwg/html/issues/6122">https://github.com/whatwg/html/issues/6122</a>)</td></tr>
  <tr class="msg" id="L115"><td class="ts-cell"><a class="ts" href="#L115" alt="Thu Nov 05 2020 10:36:04 GMT-0800 (Pacific Standard Time)">18:36</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">andreubotella, &quot;That is, HTML requires the underlying fetching for the tags is done using the fetch standard&quot; Is this quote of mine correct?</td></tr>
  <tr class="msg" id="L116"><td class="ts-cell"><a class="ts" href="#L116" alt="Thu Nov 05 2020 10:36:21 GMT-0800 (Pacific Standard Time)">18:36</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">yeah</td></tr>
  <tr class="msg" id="L117"><td class="ts-cell"><a class="ts" href="#L117" alt="Thu Nov 05 2020 10:40:20 GMT-0800 (Pacific Standard Time)">18:40</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Thanks. My next question is regarding the fetch JS API. It has the options argument, which defines headers[&#039;content-type&#039;] property, and a body property.</td></tr>
  <tr class="msg" id="L118"><td class="ts-cell"><a class="ts" href="#L118" alt="Thu Nov 05 2020 10:41:11 GMT-0800 (Pacific Standard Time)">18:41</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Now, these two must be aligned, kind of.</td></tr>
  <tr class="msg" id="L119"><td class="ts-cell"><a class="ts" href="#L119" alt="Thu Nov 05 2020 10:44:06 GMT-0800 (Pacific Standard Time)">18:44</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">croraf: So, depending on what JS object you pass as the body, you might get a default content-type automatically, but you can override it by setting the header explicitly</td></tr>
  <tr class="msg" id="L120"><td class="ts-cell"><a class="ts" href="#L120" alt="Thu Nov 05 2020 10:44:38 GMT-0800 (Pacific Standard Time)">18:44</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">For example, a URLSearchParams object will get you Content-Type: application/x-www-form-urlencoded</td></tr>
  <tr class="msg" id="L121"><td class="ts-cell"><a class="ts" href="#L121" alt="Thu Nov 05 2020 10:44:54 GMT-0800 (Pacific Standard Time)">18:44</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">I think that&#039;s part of the JS API, not the main fetch infrastructure</td></tr>
  <tr class="msg" id="L122"><td class="ts-cell"><a class="ts" href="#L122" alt="Thu Nov 05 2020 10:46:01 GMT-0800 (Pacific Standard Time)">18:46</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">But the fetch standard also defines the JS API. It says that in the Preface: &quot;The Fetch Standard also defines the fetch() JavaScript API&quot;</td></tr>
  <tr class="msg" id="L123"><td class="ts-cell"><a class="ts" href="#L123" alt="Thu Nov 05 2020 10:47:19 GMT-0800 (Pacific Standard Time)">18:47</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">sure, but the fetch infrastructure is defined at the spec level, not in terms of JS</td></tr>
  <tr class="msg" id="L124"><td class="ts-cell"><a class="ts" href="#L124" alt="Thu Nov 05 2020 10:47:33 GMT-0800 (Pacific Standard Time)">18:47</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">thus why specs can use things JS doesn&#039;t have access to</td></tr>
  <tr class="msg" id="L125"><td class="ts-cell"><a class="ts" href="#L125" alt="Thu Nov 05 2020 10:50:05 GMT-0800 (Pacific Standard Time)">18:50</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">I understand that the spec can access more things. My question is in the other direction. That is, where can I read how are header[&quot;content-type&quot;] and body coordinated?</td></tr>
  <tr class="msg" id="L126"><td class="ts-cell"><a class="ts" href="#L126" alt="Thu Nov 05 2020 10:51:54 GMT-0800 (Pacific Standard Time)">18:51</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell"><a href="https://fetch.spec.whatwg.org/#dom-request">https://fetch.spec.whatwg.org/#dom-request</a> step 37, and <a href="https://fetch.spec.whatwg.org/#concept-bodyinit-extract">https://fetch.spec.whatwg.org/#concept-bodyinit-extract</a></td></tr>
  <tr class="msg" id="L127"><td class="ts-cell"><a class="ts" href="#L127" alt="Thu Nov 05 2020 10:52:32 GMT-0800 (Pacific Standard Time)">18:52</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">as you can see, if you explicitly set the content-type header, your header wins</td></tr>
  <tr class="msg" id="L128"><td class="ts-cell"><a class="ts" href="#L128" alt="Thu Nov 05 2020 11:00:46 GMT-0800 (Pacific Standard Time)">19:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">OK. And if there is no content-type header it is set by this &quot;body extraction&quot;?</td></tr>
  <tr class="msg" id="L129"><td class="ts-cell"><a class="ts" href="#L129" alt="Thu Nov 05 2020 11:00:49 GMT-0800 (Pacific Standard Time)">19:00</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">andreubotella,</td></tr>
  <tr class="msg" id="L130"><td class="ts-cell"><a class="ts" href="#L130" alt="Thu Nov 05 2020 11:01:43 GMT-0800 (Pacific Standard Time)">19:01</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">step 37 in the new Request algorithm starts with &quot;If init[&quot;body&quot;] exists and is non-null&quot;</td></tr>
  <tr class="msg" id="L131"><td class="ts-cell"><a class="ts" href="#L131" alt="Thu Nov 05 2020 11:02:15 GMT-0800 (Pacific Standard Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">my bad, I misread</td></tr>
  <tr class="msg" id="L132"><td class="ts-cell"><a class="ts" href="#L132" alt="Thu Nov 05 2020 11:02:19 GMT-0800 (Pacific Standard Time)">19:02</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">that&#039;s right</td></tr>
  <tr class="msg" id="L133"><td class="ts-cell"><a class="ts" href="#L133" alt="Thu Nov 05 2020 11:04:58 GMT-0800 (Pacific Standard Time)">19:04</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">What is init[&quot;body&quot;] is that just the value of the &quot;body&quot; property?</td></tr>
  <tr class="msg" id="L134"><td class="ts-cell"><a class="ts" href="#L134" alt="Thu Nov 05 2020 11:05:15 GMT-0800 (Pacific Standard Time)">19:05</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">basically yeah</td></tr>
  <tr class="msg" id="L135"><td class="ts-cell"><a class="ts" href="#L135" alt="Thu Nov 05 2020 11:07:45 GMT-0800 (Pacific Standard Time)">19:07</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">So if it is an object of ReadableStream type the extraction proceeds normally, and if it is not it will try to &quot;cast&quot; the body to ReadableStream?</td></tr>
  <tr class="msg" id="L136"><td class="ts-cell"><a class="ts" href="#L136" alt="Thu Nov 05 2020 11:09:15 GMT-0800 (Pacific Standard Time)">19:09</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">I think this is relatively recent, so not all browsers will support a stream as the body, but yeah</td></tr>
  <tr class="msg" id="L137"><td class="ts-cell"><a class="ts" href="#L137" alt="Thu Nov 05 2020 11:10:03 GMT-0800 (Pacific Standard Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">I&#039;m talking about 1. in <a href="https://fetch.spec.whatwg.org/#concept-bodyinit-extract">https://fetch.spec.whatwg.org/#concept-bodyinit-extract</a></td></tr>
  <tr class="msg" id="L138"><td class="ts-cell"><a class="ts" href="#L138" alt="Thu Nov 05 2020 11:10:25 GMT-0800 (Pacific Standard Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">It is not clear to me what will be done if body is a plain JS object, or just a string, or a number...</td></tr>
  <tr class="msg" id="L139"><td class="ts-cell"><a class="ts" href="#L139" alt="Thu Nov 05 2020 11:10:48 GMT-0800 (Pacific Standard Time)">19:10</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">that&#039;s where the &quot;basically yeah&quot; I gave above breaks down</td></tr>
  <tr class="msg" id="L140"><td class="ts-cell"><a class="ts" href="#L140" alt="Thu Nov 05 2020 11:11:11 GMT-0800 (Pacific Standard Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Seems like JS object, a string, or number will have to be converted to the ReadableStream.</td></tr>
  <tr class="msg" id="L141"><td class="ts-cell"><a class="ts" href="#L141" alt="Thu Nov 05 2020 11:11:20 GMT-0800 (Pacific Standard Time)">19:11</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Oh, OK. So in which step is that handled?</td></tr>
  <tr class="msg" id="L142"><td class="ts-cell"><a class="ts" href="#L142" alt="Thu Nov 05 2020 11:12:11 GMT-0800 (Pacific Standard Time)">19:12</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Somewhere prior to step 37 in <a href="https://fetch.spec.whatwg.org/#dom-request">https://fetch.spec.whatwg.org/#dom-request</a> ?</td></tr>
  <tr class="msg" id="L143"><td class="ts-cell"><a class="ts" href="#L143" alt="Thu Nov 05 2020 11:12:48 GMT-0800 (Pacific Standard Time)">19:12</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">RequestInit&#039;s `body` takes the `BodyInit?` (&quot;nullable BodyInit&quot;) WebIDL type</td></tr>
  <tr class="msg" id="L144"><td class="ts-cell"><a class="ts" href="#L144" alt="Thu Nov 05 2020 11:13:27 GMT-0800 (Pacific Standard Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">WebIDL handles the rest of JS objects, casting them to a string I suspect</td></tr>
  <tr class="msg" id="L145"><td class="ts-cell"><a class="ts" href="#L145" alt="Thu Nov 05 2020 11:13:29 GMT-0800 (Pacific Standard Time)">19:13</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">step 1 creates a new ReadableStream, step 5 defines an &quot;action&quot; depending on the type of the body, and step 6 runs the action to enqueue data into the stream</td></tr>
  <tr class="msg" id="L146"><td class="ts-cell"><a class="ts" href="#L146" alt="Thu Nov 05 2020 11:16:23 GMT-0800 (Pacific Standard Time)">19:16</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Mek, but how does ReadableStream get created from a string, a plain JS object, or a number?</td></tr>
  <tr class="msg" id="L147"><td class="ts-cell"><a class="ts" href="#L147" alt="Thu Nov 05 2020 11:17:04 GMT-0800 (Pacific Standard Time)">19:17</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">a string ends up in the &quot;scalar value string&quot; branch, which defines &quot;action&quot; as utf-8 encoding the string.</td></tr>
  <tr class="msg" id="L148"><td class="ts-cell"><a class="ts" href="#L148" alt="Thu Nov 05 2020 11:17:20 GMT-0800 (Pacific Standard Time)">19:17</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">Step 6 then enqueues a Uint8Array containing that encoding to the stream that was created</td></tr>
  <tr class="msg" id="L149"><td class="ts-cell"><a class="ts" href="#L149" alt="Thu Nov 05 2020 11:17:53 GMT-0800 (Pacific Standard Time)">19:17</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=Mek@irc>Mek</span>&gt;</td><td class="msg-cell">and indeed, webidl will tostring anything that doesn&#039;t match any of the types in BodyInit</td></tr>
  <tr class="msg" id="L150"><td class="ts-cell"><a class="ts" href="#L150" alt="Thu Nov 05 2020 11:18:11 GMT-0800 (Pacific Standard Time)">19:18</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">Since WebIDL handles the conversions before the params to the JS function ever get to spec-land, the &quot;extract&quot; algorithm won&#039;t ever have any type that isn&#039;t part of the BodyInit union</td></tr>
  <tr class="msg" id="L151"><td class="ts-cell"><a class="ts" href="#L151" alt="Thu Nov 05 2020 11:20:22 GMT-0800 (Pacific Standard Time)">19:20</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">I think I see now. But the step 1 is confusing me very much</td></tr>
  <tr class="msg" id="L152"><td class="ts-cell"><a class="ts" href="#L152" alt="Thu Nov 05 2020 11:21:07 GMT-0800 (Pacific Standard Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">But this is kind of irrelevant because 5 is switching on an object, not on the stream.</td></tr>
  <tr class="msg" id="L153"><td class="ts-cell"><a class="ts" href="#L153" alt="Thu Nov 05 2020 11:21:12 GMT-0800 (Pacific Standard Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">Step 1 doesn&#039;t do any conversion, it just creates a new ReadableStream if the body wasn&#039;t one already</td></tr>
  <tr class="msg" id="L154"><td class="ts-cell"><a class="ts" href="#L154" alt="Thu Nov 05 2020 11:21:37 GMT-0800 (Pacific Standard Time)">19:21</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">Step 5 then sets &quot;action&quot;, which in step 6.1 populates the stream</td></tr>
  <tr class="msg" id="L155"><td class="ts-cell"><a class="ts" href="#L155" alt="Thu Nov 05 2020 11:22:15 GMT-0800 (Pacific Standard Time)">19:22</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Oh, so 1 will take the body if it is a ReadableStream, otherwise will create an empty ReadableStream (irrespective of the content of the body)?</td></tr>
  <tr class="msg" id="L156"><td class="ts-cell"><a class="ts" href="#L156" alt="Thu Nov 05 2020 11:22:21 GMT-0800 (Pacific Standard Time)">19:22</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">right</td></tr>
  <tr class="msg" id="L157"><td class="ts-cell"><a class="ts" href="#L157" alt="Thu Nov 05 2020 11:22:25 GMT-0800 (Pacific Standard Time)">19:22</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">I see.</td></tr>
  <tr class="msg" id="L158"><td class="ts-cell"><a class="ts" href="#L158" alt="Thu Nov 05 2020 11:25:08 GMT-0800 (Pacific Standard Time)">19:25</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">And you did conclude that when entering here, the object is necesarily one of the types in the switch (5)?</td></tr>
  <tr class="msg" id="L159"><td class="ts-cell"><a class="ts" href="#L159" alt="Thu Nov 05 2020 11:25:24 GMT-0800 (Pacific Standard Time)">19:25</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">here = <a href="https://fetch.spec.whatwg.org/#concept-bodyinit-extract">https://fetch.spec.whatwg.org/#concept-bodyinit-extract</a></td></tr>
  <tr class="msg" id="L160"><td class="ts-cell"><a class="ts" href="#L160" alt="Thu Nov 05 2020 11:27:46 GMT-0800 (Pacific Standard Time)">19:27</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">Since RequestInit&#039;s `body` is of type BodyInit?, init[&quot;body&quot;] on the spec-land definition for new Request() is either missing (~= undefined), null, or one of the types in BodyInit</td></tr>
  <tr class="msg" id="L161"><td class="ts-cell"><a class="ts" href="#L161" alt="Thu Nov 05 2020 11:28:05 GMT-0800 (Pacific Standard Time)">19:28</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">And the condition to step 37 is &quot;if init[&quot;body&quot;] exists and is non-null&quot;</td></tr>
  <tr class="msg" id="L162"><td class="ts-cell"><a class="ts" href="#L162" alt="Thu Nov 05 2020 11:30:51 GMT-0800 (Pacific Standard Time)">19:30</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">cool</td></tr>
  <tr class="msg" id="L163"><td class="ts-cell"><a class="ts" href="#L163" alt="Thu Nov 05 2020 11:31:51 GMT-0800 (Pacific Standard Time)">19:31</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">So if it is a string Content-Type is set to text/plain;charset=UTF-8</td></tr>
  <tr class="msg" id="L164"><td class="ts-cell"><a class="ts" href="#L164" alt="Thu Nov 05 2020 11:32:09 GMT-0800 (Pacific Standard Time)">19:32</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">If it is URLSearchParams to application/x-www-form-urlencoded;charset=UTF-8`.</td></tr>
  <tr class="msg" id="L165"><td class="ts-cell"><a class="ts" href="#L165" alt="Thu Nov 05 2020 11:33:33 GMT-0800 (Pacific Standard Time)">19:33</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">FormData to multipart/form-data, and the only other option that sets the Content-Type is the Blob</td></tr>
  <tr class="msg" id="L166"><td class="ts-cell"><a class="ts" href="#L166" alt="Thu Nov 05 2020 11:34:18 GMT-0800 (Pacific Standard Time)">19:34</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">If it is of type ReadableStream, BufferSource or byte sequence, seems like Content-Type will be extracted as null.</td></tr>
  <tr class="msg" id="L167"><td class="ts-cell"><a class="ts" href="#L167" alt="Thu Nov 05 2020 11:35:03 GMT-0800 (Pacific Standard Time)">19:35</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">which gets filtered out by new Request&#039;s step 37.4</td></tr>
  <tr class="msg" id="L168"><td class="ts-cell"><a class="ts" href="#L168" alt="Thu Nov 05 2020 11:36:50 GMT-0800 (Pacific Standard Time)">19:36</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">No, 37.4 has nothing to do with what I said.</td></tr>
  <tr class="msg" id="L169"><td class="ts-cell"><a class="ts" href="#L169" alt="Thu Nov 05 2020 11:37:24 GMT-0800 (Pacific Standard Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">&quot;if Content-Type is non-null&quot;</td></tr>
  <tr class="msg" id="L170"><td class="ts-cell"><a class="ts" href="#L170" alt="Thu Nov 05 2020 11:37:33 GMT-0800 (Pacific Standard Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">37.4 non-null, as you said before, deals with the explicit Content-Type property value</td></tr>
  <tr class="msg" id="L171"><td class="ts-cell"><a class="ts" href="#L171" alt="Thu Nov 05 2020 11:37:41 GMT-0800 (Pacific Standard Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-8" title=Bakkot@irc>Bakkot</span>&gt;</td><td class="msg-cell">does anyone happen to have a state machine diagram for XHR lying around?</td></tr>
  <tr class="msg" id="L172"><td class="ts-cell"><a class="ts" href="#L172" alt="Thu Nov 05 2020 11:37:52 GMT-0800 (Pacific Standard Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Oh, sorry, indeed, 37.4 also deals with the extraction</td></tr>
  <tr class="msg" id="L173"><td class="ts-cell"><a class="ts" href="#L173" alt="Thu Nov 05 2020 11:37:57 GMT-0800 (Pacific Standard Time)">19:37</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">that is done in 37.3</td></tr>
  <tr class="msg" id="L174"><td class="ts-cell"><a class="ts" href="#L174" alt="Thu Nov 05 2020 11:44:17 GMT-0800 (Pacific Standard Time)">19:44</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Is init[&#039;body&#039;] of type BodyInit?</td></tr>
  <tr class="msg" id="L175"><td class="ts-cell"><a class="ts" href="#L175" alt="Thu Nov 05 2020 11:45:18 GMT-0800 (Pacific Standard Time)">19:45</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">I mean it can also be null, anything else?</td></tr>
  <tr class="msg" id="L176"><td class="ts-cell"><a class="ts" href="#L176" alt="Thu Nov 05 2020 11:56:27 GMT-0800 (Pacific Standard Time)">19:56</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">croraf: WebIDL dictionary fields that don&#039;t have the &quot;required&quot; keyword will let you set the value to undefined in JS-land</td></tr>
  <tr class="msg" id="L177"><td class="ts-cell"><a class="ts" href="#L177" alt="Thu Nov 05 2020 11:56:51 GMT-0800 (Pacific Standard Time)">19:56</a></td><td class="nick-cell">&lt;<span class="nick nick-4" title=andreubotella@irc>andreubotella</span>&gt;</td><td class="msg-cell">the spec-level language for this is: init[&quot;body&quot;] is missing, or init[&quot;body&quot;] does not exist</td></tr>
  <tr class="msg" id="L178"><td class="ts-cell"><a class="ts" href="#L178" alt="Thu Nov 05 2020 12:24:52 GMT-0800 (Pacific Standard Time)">20:24</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Bakkot: that is such a reasonable ask, but sadly I don&#039;t know of one. I&#039;m surprised Google image search doesn&#039;t seem to have one either.</td></tr>
  <tr class="msg" id="L179"><td class="ts-cell"><a class="ts" href="#L179" alt="Thu Nov 05 2020 12:38:49 GMT-0800 (Pacific Standard Time)">20:38</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">andreubotella, my point was more about the options handled in the switch not present in the interface: the byte sequence, and the scalar value string (which has a similar but not identical item in the interface at USVString)</td></tr>
  <tr class="msg" id="L180"><td class="ts-cell"><a class="ts" href="#L180" alt="Thu Nov 05 2020 12:42:04 GMT-0800 (Pacific Standard Time)">20:42</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">scalar value string === USVString</td></tr>
  <tr class="msg" id="L181"><td class="ts-cell"><a class="ts" href="#L181" alt="Thu Nov 05 2020 12:43:03 GMT-0800 (Pacific Standard Time)">20:43</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">byte sequence might be leftover; I can&#039;t find any callers that pass a byte sequence</td></tr>
  <tr class="msg" id="L182"><td class="ts-cell"><a class="ts" href="#L182" alt="Thu Nov 05 2020 12:47:34 GMT-0800 (Pacific Standard Time)">20:47</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Domenic, you think that byte sequence can perhaps be removed from the switch (5)?</td></tr>
  <tr class="msg" id="L183"><td class="ts-cell"><a class="ts" href="#L183" alt="Thu Nov 05 2020 12:48:07 GMT-0800 (Pacific Standard Time)">20:48</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">croraf: correct</td></tr>
  <tr class="msg" id="L184"><td class="ts-cell"><a class="ts" href="#L184" alt="Thu Nov 05 2020 12:48:23 GMT-0800 (Pacific Standard Time)">20:48</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">And about scalar value string, why is it named differently than USVString?</td></tr>
  <tr class="msg" id="L185"><td class="ts-cell"><a class="ts" href="#L185" alt="Thu Nov 05 2020 12:48:32 GMT-0800 (Pacific Standard Time)">20:48</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">I think we added that recently for something</td></tr>
  <tr class="msg" id="L186"><td class="ts-cell"><a class="ts" href="#L186" alt="Thu Nov 05 2020 12:50:44 GMT-0800 (Pacific Standard Time)">20:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell">Yeah you requested byte sequence Domenic üòä</td></tr>
  <tr class="msg" id="L187"><td class="ts-cell"><a class="ts" href="#L187" alt="Thu Nov 05 2020 12:50:48 GMT-0800 (Pacific Standard Time)">20:50</a></td><td class="nick-cell">&lt;<span class="nick nick-12" title=annevk@irc>annevk</span>&gt;</td><td class="msg-cell"><a href="https://github.com/whatwg/fetch/issues/1073">https://github.com/whatwg/fetch/issues/1073</a></td></tr>
  <tr class="msg" id="L188"><td class="ts-cell"><a class="ts" href="#L188" alt="Thu Nov 05 2020 12:50:54 GMT-0800 (Pacific Standard Time)">20:50</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">nice...</td></tr>
  <tr class="msg" id="L189"><td class="ts-cell"><a class="ts" href="#L189" alt="Thu Nov 05 2020 12:51:55 GMT-0800 (Pacific Standard Time)">20:51</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">Oh, I see, I missed all the call sites of &quot;safely extract&quot;</td></tr>
  <tr class="msg" id="L190"><td class="ts-cell"><a class="ts" href="#L190" alt="Thu Nov 05 2020 12:52:02 GMT-0800 (Pacific Standard Time)">20:52</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">So yeah it definitely has uses</td></tr>
  <tr class="msg" id="L191"><td class="ts-cell"><a class="ts" href="#L191" alt="Thu Nov 05 2020 12:52:07 GMT-0800 (Pacific Standard Time)">20:52</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">(just not ones that appear from the fetch() API)</td></tr>
  <tr class="msg" id="L192"><td class="ts-cell"><a class="ts" href="#L192" alt="Thu Nov 05 2020 12:53:08 GMT-0800 (Pacific Standard Time)">20:53</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">OK. What about &quot;scalar value string&quot;, can it be replaced with USVString in the switch (5)?</td></tr>
  <tr class="msg" id="L193"><td class="ts-cell"><a class="ts" href="#L193" alt="Thu Nov 05 2020 12:53:35 GMT-0800 (Pacific Standard Time)">20:53</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">And perhaps remove &quot;scalar value string&quot; completely from <a href="https://infra.spec.whatwg.org/#scalar-value-string">https://infra.spec.whatwg.org/#scalar-value-string</a></td></tr>
  <tr class="msg" id="L194"><td class="ts-cell"><a class="ts" href="#L194" alt="Thu Nov 05 2020 12:56:10 GMT-0800 (Pacific Standard Time)">20:56</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">We prefer the term &quot;scalar value string&quot;</td></tr>
  <tr class="msg" id="L195"><td class="ts-cell"><a class="ts" href="#L195" alt="Thu Nov 05 2020 12:57:02 GMT-0800 (Pacific Standard Time)">20:57</a></td><td class="nick-cell">&lt;<span class="nick nick-1" title=Domenic@irc>Domenic</span>&gt;</td><td class="msg-cell">The fact that IDL uses WordsSmushedTogether instead of words like normal means there&#039;s a slight mismatch, but it&#039;s OK.</td></tr>
  <tr class="msg" id="L196"><td class="ts-cell"><a class="ts" href="#L196" alt="Thu Nov 05 2020 12:57:32 GMT-0800 (Pacific Standard Time)">20:57</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">1 word instead of 3 is more concise, and more clear visually that a &quot;specific type&quot; is meant.</td></tr>
  <tr class="msg" id="L197"><td class="ts-cell"><a class="ts" href="#L197" alt="Thu Nov 05 2020 12:58:21 GMT-0800 (Pacific Standard Time)">20:58</a></td><td class="nick-cell">&lt;<span class="nick nick-9" title=croraf@irc>croraf</span>&gt;</td><td class="msg-cell">Doesn&#039;t matter, but the &quot;inconsistency&quot; might be slightly confusing.</td></tr>
</tbody></table>
</div></div></div></body>
