2010-09-01
[17:11:00.0000] <llrcombs>
what'd I miss?

[17:11:01.0000] <llrcombs>
UPS failed

[17:12:00.0000] <boogyman>
a lot of nothing

[17:13:00.0000] <llrcombs>
meh

[18:01:00.0000] <TabAtkins>
Random bugspam:

[18:02:00.0000] <TabAtkins>
Regarding bug 10479: Um.  This sort of suggestion appears to be the sort of thing that can only be made by someone who has no idea how the technology they're talking about actually works.

[18:07:00.0000] <aho>
it's magic, right?

[18:07:01.0000] <TabAtkins>
What, ARIA?

[18:08:00.0000] <aho>
"Any sufficiently advanced technology is indistinguishable from magic."

[18:08:01.0000] <aho>
that thing .)

[18:08:02.0000] <TabAtkins>
I don't think that ARIA qualifies as "sufficiently advanced" for that definition. ^_^

[18:11:00.0000] <Hixie>
when you call addEventListener() and pass it a lambda, what is the value of "this" when the event handler fires?

[18:11:01.0000] <TabAtkins>
The same as it is when you pass it a function name instead, iirc?

[18:13:00.0000] <Hixie>
the target node?

[18:13:01.0000] <TabAtkins>
Yeah.

[18:14:00.0000] <Hixie>
is that defined anywhere?

[18:14:01.0000] <TabAtkins>
Do you mean "is it defined how this works when you pass a lambda instead of a function name", or "is it defined how this works in general"?

[18:16:00.0000] <Hixie>
either

[18:17:00.0000] <TabAtkins>
The former, a function is a function is a function.  Passing it as a lambda or as a variable pointing to a function should be irrelevant.

[18:17:01.0000] <TabAtkins>
The latter, I dunno.

[18:18:00.0000] <Hixie>
(the former is not true in all languages)

[18:18:01.0000] <Hixie>
(many languages for example distinguish between a method and a function)

[18:19:00.0000] <Hixie>
(i.e. an object-bound function and a free function. Some also have class functions.)

[18:19:01.0000] <Hixie>
(all of which can have different "this"-analogues)

[18:22:00.0000] <TabAtkins>
True, but method vs function is a different thing than lambda versus variable holding a function.

[18:23:00.0000] <Hixie>
sure

[18:23:01.0000] <Hixie>
i can't find this defined anywhere

[18:23:02.0000] <Hixie>
looked in html and dom events

[18:23:03.0000] <Hixie>
not that html should define it really

[18:23:04.0000] <Hixie>
no shepazu around

[18:35:00.0000] <Hixie>
did the ECMA group decide on how to do getters and setters yet?

[18:52:00.0000] <aho>
http://dmitrysoshnikov.com/ecmascript/es5-chapter-1-properties-and-property-descriptors/

[18:52:01.0000] <aho>
ctrl+f Object.defineProperty

[18:55:00.0000] <aho>
also ctrl+f for declarative

[18:57:00.0000] <Hixie>
aha

[18:58:00.0000] <Hixie>
({ get foo { }, set foo { } })

[18:58:01.0000] <Hixie>
({ get foo { }, set foo(value) { } }) rather

[18:58:02.0000] <aho>
foo={get test(){return "foo";}};alert(foo.test);

[18:58:03.0000] <aho>
simple example :)

[18:58:04.0000] <Hixie>
({ get foo () { }, set foo(value) { } })  even

[23:32:00.0000] <hsivonen>
+1 to AryehGregor on the weirdness of browser reformatting dates without translating the surrounding page

[00:18:00.0000] <othermaciej>
TabAtkins, Hixie: I believe in actuality, "this" is the object to which the event listener was added

[00:19:00.0000] <othermaciej>
not the target node

[00:19:01.0000] <Hixie>
er you i meant current target

[00:19:02.0000] <Hixie>
not the actual target

[00:19:03.0000] <Hixie>
whatever the terminology is

[00:19:04.0000] <othermaciej>
I don't know for sure if current target is guaranteed to be identical to the object on which addEventListener was called in the first place, but if so, then yes

[00:20:00.0000] <othermaciej>
however, unlike attribute event listeners, there is no messing with the scope chain

[00:20:01.0000] <othermaciej>
I agree that DOM Events should define this somewhere, since it is both important for compatibility and apparently popular with authors (people complain that IE's attachEvent doesn't do it)

[00:42:00.0000] <hsivonen>
what's |this| with attachEvent?

[00:43:00.0000] <hsivonen>
/me hadn't realized that attachEvent wasn't just a naming difference

[01:10:00.0000] <hsivonen>
can someone explain to me how the Chromium nightly behavior on http://hsivonen.iki.fi/test/moz/sheet-blocking-script2.html arises from the spec?

[01:11:00.0000] <hsivonen>
or does Chromium not implement the spec exactly when it comes to style sheets blocking scripts?

[01:14:00.0000] <hsivonen>
hmm. loading that test case in Opera over a 5 Mbps connection suggests turning on Turbo due to slow connection

[01:14:01.0000] <hsivonen>
I guess cuzillion makes Opera think my connection is slow...

[01:14:02.0000] <hsivonen>
also, in IE and Opera, the number of scripts after the first .write is very spec-incompliant

[01:24:00.0000] <hsivonen>
ok. Chromium fails the baseline test: http://hsivonen.iki.fi/test/moz/sheet-blocking-script-baseline.php

[01:24:01.0000] <hsivonen>
so it doesn't block scripts when a style sheet is pending

[02:09:00.0000] <zcorpan_>
Ms2ger: looking at dom core; i made .prefix readonly since it was readonly in some implementations and where it wasn't readonly it didn't do anything sensible, iirc

[02:10:00.0000] <zcorpan_>
Ms2ger: actually there's a comment in the source

[02:14:00.0000] <annevk>
making prefix readonly would be nice

[02:14:01.0000] <annevk>
i think we need to put Attr nodes back in though

[02:15:00.0000] <zcorpan_>
yeah

[02:15:01.0000] <hsivonen>
Attr nodes are sad but hard to get rid of them now

[02:15:02.0000] <annevk>
but maybe we can make them not inherit from Node

[02:15:03.0000] <annevk>
if impls are willing to try

[02:16:00.0000] <zcorpan_>
i think it's only worth changing impls if it's a perf benefit

[02:17:00.0000] <annevk>
in theory smaller objects -> less memory -> more perf

[02:17:01.0000] <zcorpan_>
sure

[02:18:00.0000] <zcorpan_>
Ms2ger: iirc the legal hierarchy section is broken and needs rewriting

[02:18:01.0000] <hsivonen>
Linux FAIL. Compiling Firefox inside Eclipse makes the mouse pointer and Spotify music jumpy

[02:19:00.0000] <hsivonen>
with 8 hardware threads...

[02:22:00.0000] <zcorpan_>
wtf happened to http://simon.html5.org/

[02:23:00.0000] <zcorpan_>
ok fixed

[02:23:01.0000] <zcorpan_>
dreamhost--

[02:24:00.0000] <zcorpan_>
also, why does favicon.gif keep reappearing?

[02:25:00.0000] <annevk>
zcorpan_, I think they add that automatically to reduce error logs or something

[02:26:00.0000] <zcorpan_>
ok. i hid it from the index

[02:57:00.0000] <jgraham>
othermaciej: I made some progress with the annotation thing BTW but didn't get as far as testing the changes

[02:57:01.0000] <jgraham>
So it will be done as soon as I get another free moment

[02:58:00.0000] <othermaciej>
jgraham: thanks for the update

[02:58:01.0000] <othermaciej>
I think I am off to bed

[02:58:02.0000] <othermaciej>
unable to do anything useful tonight

[03:28:00.0000] <annevk>
it would be great gsnedders if you could unfork the various anolis variants and provide a single version

[03:28:01.0000] <annevk>
as a web service preferably

[03:29:00.0000] <Ms2ger>
annevk++

[03:33:00.0000] <hsivonen>
some day, when I have nothing else to do, I want to make Gecko's script running less Observer Pattern-y

[03:35:00.0000] <jgraham>
annevk: gsnedders has explicitly lost interest in anolis

[03:35:01.0000] <jgraham>
/me already has a somewhat forked version running as a web service

[03:36:00.0000] <jgraham>
So I guess I am the logical person to pull in other changes

[03:36:01.0000] <annevk>
okay

[03:36:02.0000] <jgraham>
Ms2ger: What did you actually change?

[03:36:03.0000] <annevk>
ideally I'd like to see http://bitbucket.org/ms2ger/anolis unforked

[03:37:00.0000] <annevk>
and maybe also a bitbucket account for your webservice so Ms2ger/I/others can hack there

[03:38:00.0000] <Ms2ger>
I'm generating the references and some form of cross-doc xrefs

[03:38:01.0000] <annevk>
those features seem quite useful for e.g. XMLHttpRequest too

[03:38:02.0000] <jgraham>
annevk: All my code can at least be pulled. So you can clone it to bb if you like

[03:40:00.0000] <annevk>
could you maybe at links from somewhere to your stuff?

[03:40:01.0000] <annevk>
e.g. WHATWG wiki or http://james.html5.org/

[03:41:00.0000] <annevk>
ah, http://wiki.whatwg.org/wiki/Developing_HTML5_derivatives has some

[03:44:00.0000] <jgraham>
annevk: http://hg.hoppipolla.co.uk

[03:44:01.0000] <jgraham>
anolis is anolis

[03:44:02.0000] <jgraham>
aquarium is the web frontend

[04:02:00.0000] <MikeSmith>
jgraham: if you are going to be consolidating changes, I have a patch I hope you can apply

[04:02:01.0000] <MikeSmith>
/me goes to looks for it

[04:03:00.0000] <jgraham>
MikeSmith: The "make it take an insanely long time" feature?

[04:03:01.0000] <MikeSmith>
yup

[04:03:02.0000] <MikeSmith>
but it's an option

[04:03:03.0000] <MikeSmith>
off by default

[04:03:04.0000] <jgraham>
Sure :)

[04:04:00.0000] <MikeSmith>
and 6 minutes ain't such an insanely long time for generating an completel index of terms for an insanely big document…

[04:05:00.0000] <MikeSmith>
http://github.com/sideshowbarker/html5forAuthors/raw/master/patch.anolis

[04:05:01.0000] <MikeSmith>
I suspect that with other documents, it won't increase the build time much at all

[04:07:00.0000] <MikeSmith>
anyway, the option for invoking it is "--enable terms"

[04:07:01.0000] <MikeSmith>
(if anybody cares to try it with some other specs)

[04:45:00.0000] <Ms2ger>
annevk, yes, I think that would make more sense

[05:15:00.0000] <Ms2ger>
TabAtkins, you know that MS Word generates @list at-rules, right?

[05:47:00.0000] <annevk>
created http://wiki.whatwg.org/wiki/Anolis to keep track

[05:53:00.0000] <annevk>
Ms2ger, was that in reply to a private message on whether legal hierarchy should move into the method definitions? :)

[05:53:01.0000] <Ms2ger>
annevk, yes

[05:53:02.0000] <annevk>
k

[06:00:00.0000] <annevk>
Ms2ger, for clone shouldn't Attr just reference clone again? now it's missing e.g. namespaceURI

[06:00:01.0000] <Ms2ger>
Yes, probably

[06:02:00.0000] <annevk>
does Anolis still require <var title> ?

[06:02:01.0000] <annevk>
or can we just write <var>?

[06:06:00.0000] <Ms2ger>
I don't think it's required

[06:21:00.0000] <hsivonen>
whatwg.org is taking too long to respond

[06:21:01.0000] <hsivonen>
well, www.whatwg.org

[06:27:00.0000] <hsivonen>
did we decide something about preventing script execution if an ancestor of the script is iframe, noembed or noframes?

[06:27:01.0000] <hsivonen>
/me files a bug just in case

[06:48:00.0000] <zcorpan_>
hsivonen: i think the conclusion was that only gecko did this and it's not needed for compat

[06:50:00.0000] <hsivonen>
zcorpan_: thanks

[06:56:00.0000] <annevk>
Ms2ger, user agents match elements with id="a b" just fine

[06:56:01.0000] <annevk>
Ms2ger, did you put that constrain in there intentionally?

[06:56:02.0000] <Ms2ger>
I think Hixie did

[06:57:00.0000] <annevk>
Ms2ger, a validation constraint sure, but not on matching

[06:57:01.0000] <Ms2ger>
Then I probably misread

[06:57:02.0000] <annevk>
Ms2ger, btw, why does everything around Attr only talk about name and not qualifiedName/localName?

[07:00:00.0000] <Ms2ger>
Oversight

[07:00:01.0000] <annevk>
k

[07:02:00.0000] <Ms2ger>
Didn't I say you'd find a lot of bugs? :)

[07:02:01.0000] <Ms2ger>
baib

[07:13:00.0000] <annevk>
i guess you did

[07:14:00.0000] <annevk>
still it's pretty great i think

[07:14:01.0000] <annevk>
lot less to be done than I thought

[07:25:00.0000] <hsivonen>
Where can I find the definitive license&copyright info for http://trac.webkit.org/export/LATEST/trunk/LayoutTests/fast/tokenizer/write-on-load.html ?

[07:25:01.0000] <hsivonen>
(I'd like to import the test and a modification thereof to the Mozilla codebase)

[07:27:00.0000] <annevk>
ask abarth?

[07:29:00.0000] <hsivonen>
asked on the bug

[07:33:00.0000] <annevk>
hmm, Opera does not support inputEncoding...

[07:52:00.0000] <wirepair>
is it technically possible to create a fake websocket client with xhr+cors and allowing the domain?

[07:52:01.0000] <wirepair>
i'm trying to think of how it wouldn't be possible and i'm drawing a blank

[08:25:00.0000] <jgraham>
wirepair: assuming the current handshake, how would you create all the right tokens?

[08:26:00.0000] <jgraham>
+security

[08:28:00.0000] <wirepair>
jgraham well the client creates them originally no?

[08:28:01.0000] <wirepair>
so xhr.setRequestHeader('Sec-WebSocket-Key1: ...')

[08:28:02.0000] <annevk>
that's not possible

[08:28:03.0000] <annevk>
XHR blocks Sec-

[08:29:00.0000] <wirepair>
hmm lemme add taht testcase ;)

[08:29:01.0000] <wirepair>
i don't think chrome was blocking Origin

[08:29:02.0000] <annevk>
really?

[08:29:03.0000] <annevk>
I would be surprised

[08:29:04.0000] <wirepair>
let me test again

[08:29:05.0000] <wirepair>
it was either chrome or opera

[08:29:06.0000] <annevk>
ooh, Opera is different

[08:29:07.0000] <annevk>
we haven't updated XHR yet

[08:29:08.0000] <wirepair>
ah that might be it then ;)

[08:30:00.0000] <wirepair>
yeah it was opera

[08:52:00.0000] <annevk>
Ms2ger, would you mind if I change the file to something like web-dom-core.src.html ?

[08:52:01.0000] <annevk>
I'm hoping that would allow me to view it

[08:53:00.0000] <Ms2ger>
Not at all

[08:53:01.0000] <Ms2ger>
But please use hg mv, then

[08:55:00.0000] <annevk>
lets see if it worked

[08:56:00.0000] <annevk>
to some extent

[08:56:01.0000] <annevk>
http://bitbucket.org/ms2ger/web-dom-core/raw/tip/web-dom-core.src.html

[09:04:00.0000] <smaug____>
Ms2ger: AFAIK, hg mv has still some bugs

[09:05:00.0000] <Ms2ger>
Apparently

[09:05:01.0000] <smaug____>
Ms2ger: http://mercurial.selenic.com/bts/issue1576

[09:05:02.0000] <annevk>
did I break something?

[09:06:00.0000] <Ms2ger>
Just blame

[09:06:01.0000] <annevk>
bah

[09:07:00.0000] <annevk>
it's not too important I guess

[09:09:00.0000] <AryehGregor>
One of the great things about git is you don't have to say "mv" explicitly.

[09:10:00.0000] <AryehGregor>
It finds moves on the fly when you run commands like "blame".

[09:10:01.0000] <AryehGregor>
Which is nice, it's easy to forget to tell the VCS to move/copy/whatever.

[09:16:00.0000] <annevk>
oh god

[09:16:01.0000] <annevk>
gruber calls an IETF draft an open standard

[09:16:02.0000] <annevk>
and Apple too apparently

[09:16:03.0000] <annevk>
fun times

[09:16:04.0000] <AryehGregor>
Maybe I'm stupid, but -- it isn't?

[09:17:00.0000] <annevk>
in IETF land a standard is something that has at least RFC status, but really has to have STD status

[09:17:01.0000] <annevk>
a draft which anyone or their dog can submit is most definitely not an open standard :)

[09:18:00.0000] <AryehGregor>
Not even a draft open standard?

[09:18:01.0000] <AryehGregor>
I tend to interpret "standard" very liberally.

[09:22:00.0000] <annevk>
it's a smokescreen

[09:23:00.0000] <annevk>
if it was a draft on its way to standard it would a) not be in the informational category and b) for something like this there would be a WG

[09:24:00.0000] <jgraham>
I have no idea what the context is but saying "our patent encumbered junk is an 'Open Standard' because we submitted it to IETF" is highly misleading

[09:28:00.0000] <AryehGregor>
I got into an argument with someone on Wikipedia about whether Web Accelerators is an "open standard".  We ended up just describing the situation without using the term "standard".

[09:28:01.0000] <AryehGregor>
Probably a good idea.  Contentious terminology, not very clearly defined.

[09:29:00.0000] <AryehGregor>
Or, at least, no one can agree on a clear definition.

[09:38:00.0000] <annevk>
what are web accelerators?

[09:40:00.0000] <Rik`>
the new IE8 stuff ?

[09:40:01.0000] <Philip`>
http://en.wikipedia.org/wiki/Web_accelerator ?

[09:40:02.0000] <Philip`>
Sounds like a caching proxy

[09:40:03.0000] <AryehGregor>
I don't know, something MS made up in IE8.

[09:40:04.0000] <AryehGregor>
They posted a spec after the fact and said anyone could implement it, so it's an open standard!

[09:43:00.0000] <Rik`>
http://en.wikipedia.org/wiki/Accelerator_%28Internet_Explorer%29

[09:44:00.0000] <espadrine>
that's not a web accelerator, is it?

[09:45:00.0000] <Philip`>
"Accelerators are a form of selection-based search which allow a user to invoke an online service from any other page using only the mouse introduced by Microsoft in Internet Explorer 8."

[09:45:01.0000] <Philip`>
Microsoft introduced the mouse in IE8?

[09:46:00.0000] <cheeser>
<blink>uh...</blink>

[09:46:01.0000] <cheeser>
that's not really what it's saying.  ;)

[09:47:00.0000] <jgraham>
Well obviously the mouse already existed. It's the one they introduced in IE8 that you can use to do the fancy shit

[09:49:00.0000] <AryehGregor>
It was Web Slices, that was it.

[09:49:01.0000] <AryehGregor>
My compromise wording: "Microsoft developed the Web Slice format, and published a specification under the Microsoft Open Specification Promise.[6] The specification is not published by any independent standards body. As of 2010, Internet Explorer 8 is the only browser to support Web Slices natively, although Mozilla Firefox has support via an add-on called webchunks.[7]"

[09:50:00.0000] <AryehGregor>
Originally I just said it was "non-standard", but someone reverted me.

[09:50:01.0000] <AryehGregor>
" Please define standard? standard set by whom? ie published a spec!"

[09:55:00.0000] <annevk>
i see...

[09:58:00.0000] <AryehGregor>
"Open standard" is a bit more precise, but it still has no generally-accepted definition.

[09:59:00.0000] <AryehGregor>
You can argue something is an "open standard" if it has a published spec and is royalty-free.

[10:00:00.0000] <annevk>
i would expect at least two independent implementations in addition to that

[10:00:01.0000] <annevk>
and a test suite

[10:00:02.0000] <AryehGregor>
I wouldn't expect either of those.  I'd say it has to be developed in the open and not under the control of any particular implementer, though.

[10:01:00.0000] <AryehGregor>
Seriously, though, there are tons of standards that don't have a test suite.

[10:01:01.0000] <AryehGregor>
You could have an open standard that has only one independent implementation.  You want two, but only because that proves the spec is clear enough for new implementations to interoperate without reverse-engineering.

[10:05:00.0000] <jgraham>
It is pretty hard to think of standards that meet that set of conditions

[10:06:00.0000] <Rik`>
CSS 3D transforms ?

[10:06:01.0000] <jgraham>
Especially if you usefully restrict the requirements for the size of the testsuite

[10:06:02.0000] <jgraham>
i.e. it can't be trivial to pass

[10:10:00.0000] <AryehGregor>
Which set of conditions?

[10:12:00.0000] <jgraham>
Two independent interoperable implementations and a testsuite

[10:14:00.0000] <AryehGregor>
Yeah, there aren't many of those.

[10:15:00.0000] <AryehGregor>
CSS 2.1 is pretty close, right?

[10:19:00.0000] <TabAtkins>
Yeah, it's getting there.

[10:47:00.0000] <annevk>
maybe I should announce Web DOM Core to www-dom or some such

[10:48:00.0000] <annevk>
hmm, public-webapps has far more subscribers

[10:48:01.0000] <TabAtkins>
I'd announce it on public-webapps.

[10:49:00.0000] <annevk>
yeah

[10:50:00.0000] <smaug____>
keyboard d-n-d was removed from the draft some time ago, right?

[10:52:00.0000] <annevk>
no

[10:52:01.0000] <annevk>
oh wait, yes

[10:52:02.0000] <annevk>
sorry, thought you meant copy/paste for some odd reason

[10:52:03.0000] <smaug____>
no

[10:53:00.0000] <smaug____>
I meant really the drag and drop, which used to be defined for keyboard too

[10:53:01.0000] <annevk>
right

[10:53:02.0000] <jgraham>
annevk: You should probably let the htmlwg know too

[10:53:03.0000] <smaug____>
the draft is just so difficult to read that you never know whether the feature is defined somewhere..

[10:54:00.0000] <annevk>
not very constructive

[10:55:00.0000] <annevk>
http://html5.org/tools/web-apps-tracker?from=4643&to=4644

[10:56:00.0000] <annevk>
was the change

[10:56:01.0000] <annevk>
it was commented out

[10:58:00.0000] <annevk>
why does Google not do timezone conversion?

[10:58:01.0000] <TabAtkins>
In what context?

[10:58:02.0000] <Hixie>
it does

[10:59:00.0000] <annevk>
it does? e.g. a query like "10am pdt in utc"

[10:59:01.0000] <Hixie>
it's not very intuitive syntax unfortunately

[11:00:00.0000] <annevk>
what do you use?

[11:00:01.0000] <TabAtkins>
Well, I know you can use "time in X" to find the current time.  I don't know what the syntax is for arbitrary conversion.

[11:01:00.0000] <Hixie>
yeah maybe there's no arbitrary conversion

[11:08:00.0000] <TabAtkins>
annevk: Use everytimezone.com

[11:08:01.0000] <TabAtkins>
annevk: Also, do you have a link to an explanation of the CSSOM Values API?

[11:09:00.0000] <Philip`>
annevk: http://www.wolframalpha.com/input/?i=10am+pdt+in+utc

[11:09:01.0000] <Philip`>
That'll give you more information than you likely wanted to know

[11:10:00.0000] <annevk>
TabAtkins, http://lists.w3.org/Archives/Public/www-style/2010Aug/0617.html is the best I've got

[11:10:01.0000] <annevk>
TabAtkins, including the follow up email from Boris and then me again

[11:11:00.0000] <TabAtkins>
kk.  I wanted to show it around the office.

[11:13:00.0000] <annevk>
sweet

[11:14:00.0000] <TabAtkins>
We've been wanting to push a non-sucky interface between CSS and JS for a bit now.

[11:15:00.0000] <othermaciej>
annevk: you should ask hyatt about it

[11:15:01.0000] <othermaciej>
he's on #webkit right now, though he may be watching the Apple event streaming video

[11:16:00.0000] <annevk>
i am too

[11:16:01.0000] <annevk>
and the question is on www-style, which hyatt reads to some extent

[11:17:00.0000] <annevk>
but I will do that once I work on CSSOM again if he hasn't followed up himself

[11:17:01.0000] <annevk>
playing with DOM Core now

[11:45:00.0000] <hsivonen>
jgraham: It would help the Open part if one of the two interoperable impls is available under a GPL-compatible license and could be distributed as binary under the GPL

[11:45:01.0000] <hsivonen>
(this definition implies stuff about patents)

[11:45:02.0000] <annevk>
so Apple is gonna compete with Twitter/Facebook

[11:45:03.0000] <annevk>
fun times

[11:47:00.0000] <hsivonen>
I guess now I should watch the Stevenote, too

[11:47:01.0000] <TabAtkins>
I'll just let blogs do my summarizing for me later.

[11:48:00.0000] <hsivonen>
boo. requires proprietary plug-in

[11:48:01.0000] <annevk>
iTunes is turned into Twitter/Facebook basically

[11:48:02.0000] <hsivonen>
when WebM streaming is known to work

[11:49:00.0000] <annevk>
seems sort of walled garden variant though -- called Ping

[11:59:00.0000] <TabAtkins>
annevk: Pinged you with the email I sent internally about the CSSOM Values API.

[11:59:01.0000] <annevk>
thanks for that

[12:02:00.0000] <TabAtkins>
I suppose the .m accessor means that every property that allows component values in multiple orders needs a defined "canonical" ordering so that we can number them?

[12:02:01.0000] <annevk>
m is gone

[12:02:02.0000] <annevk>
per your suggestion

[12:02:03.0000] <TabAtkins>
d'oh.  How do you get at the subvalues of textShadow, then?

[12:03:00.0000] <annevk>
textShadow["somethingwedefine"]

[12:03:01.0000] <TabAtkins>
Oh, okay.  And then I guess .margin['top']?

[12:03:02.0000] <annevk>
basically when a css value is mapped  it implements the interface directly

[12:03:03.0000] <annevk>
if it's a list it will get a .list accessor that gives you a list

[12:04:00.0000] <annevk>
so backgroundImage.list and margin.top or some such, indeed

[12:04:01.0000] <TabAtkins>
I liked the terseness of .l, by the way.

[12:05:00.0000] <TabAtkins>
And, for that matter, the .r, .g, .b, and .a of the Color interface.

[12:05:01.0000] <annevk>
we can tweak details later, but from experience with Selectors API it seems that people prefer libraries to provide shortcuts, and the core APIs to be unambiguous

[12:07:00.0000] <TabAtkins>
Does the textShadow['blur'] thing mean that we'd have to define the names of the subvalues when we define the property, even if we aren't defining subproperties yet?

[12:07:01.0000] <annevk>
yes

[12:07:02.0000] <annevk>
if you want a proper API for the property

[12:07:03.0000] <annevk>
boris suggested we might not need a proper API for each property, but I think opinions are spread on that

[12:08:00.0000] <TabAtkins>
I think we'd want as much as possible.  But we can certainly start small and build it out as we go.

[12:08:01.0000] <TabAtkins>
I'd be kind of afraid that .list may collide with some property name in the future.  .l had the advantage of that being impossible.

[12:09:00.0000] <annevk>
you mean we'd have a 'foo' shorthand and 'foo-list'?

[12:09:01.0000] <TabAtkins>
Maybe?

[12:10:00.0000] <annevk>
and 'foo' also happens to be a comma or space-separated list... hmm

[12:10:01.0000] <annevk>
could happen I suppose

[12:10:02.0000] <TabAtkins>
I think that for the basic workhorse properties it's totally fine to be terse.

[12:10:03.0000] <annevk>
but we can work around it, but we can also rename

[12:11:00.0000] <annevk>
I rather not focus too much on the specifics but more on the overall design right now

[12:11:01.0000] <annevk>
specifics are pretty flexible

[12:11:02.0000] <TabAtkins>
Right, but we'll probably bikeshed on that somewhat anyway, since we're interested in making new DOM APIs not suck from the beginning.  ^_^

[12:14:00.0000] <TabAtkins>
annevk: Any idea how you want to handle function values yet?  Presumably some generic function interface that can return contents or individual arguments as strings, but also specialized interfaces for specific functions like gradients?

[12:15:00.0000] <annevk>
I'm not sure generic is needed

[12:15:01.0000] <annevk>
e.g. url() will just be CSSURLComponent.url (maybe absoluteURL at some point)

[12:16:00.0000] <annevk>
rgba()/rgb()/hsl()/hsla() are all CSSColorComponentValue

[12:16:01.0000] <TabAtkins>
How would you easily be able to distinguish between, say, .backgroundImage being a url and a gradient?

[12:16:02.0000] <annevk>
you can .backgroundImage.type

[12:16:03.0000] <annevk>
which gives you the type of value

[12:17:00.0000] <TabAtkins>
Ah, gotcha.  Forgot about the .type global property.

[12:17:01.0000] <annevk>
there's also .value currently

[12:17:02.0000] <TabAtkins>
Which returns what?

[12:17:03.0000] <annevk>
but I'm not sure if that is needed

[12:18:00.0000] <annevk>
when type=string it returns a string when type=color it returns some kind of hexadecimal value I suppose, etc.

[12:18:01.0000] <annevk>
but again, maybe that should be dropped for now as it makes matters complex

[12:18:02.0000] <annevk>
well, more complex than needed for v1

[12:18:03.0000] <TabAtkins>
Hmm, yeah.

[12:31:00.0000] <espadrine>
What does the selectedOption attribute mean with an <input type=search> ?

[12:36:00.0000] <othermaciej>
DOM Core needs love

[13:49:00.0000] <annevk>
othermaciej, you noticed http://bitbucket.org/ms2ger/web-dom-core/ right? :)

[13:49:01.0000] <othermaciej>
I did not

[13:49:02.0000] <othermaciej>
cool

[13:50:00.0000] <jgraham>
annevk: Pointer to CSS Values?

[13:50:01.0000] <annevk>
othermaciej, I'll put something in writing to WebApps Monday or so or maybe while I'm in Brighton

[13:50:02.0000] <annevk>
jgraham, besides that email I mentioned in the scrollback there's http://dev.w3.org/csswg/cssom/#css-values

[13:51:00.0000] <annevk>
jgraham, you need to scroll down some for interface sketching

[13:58:00.0000] <AryehGregor>
Opera people: on Linux, how can I get the little "O" icon to stop displaying in the system tray thing?  You know, the one that violates the GNOME HIG by perpetually displaying an icon in the status area without being a core GNOME program.  http://library.gnome.org/devel/hig-book/2.30/desktop-notification-area.html.en

[13:58:01.0000] <AryehGregor>
It annoys me when I keep Opera open all the time for testing.

[13:59:00.0000] <AryehGregor>
(since it shoves other icons out of view)

[13:59:01.0000] <annevk>
it should be somewhere in opera:config

[13:59:02.0000] <daedb>
opera:config#UserPrefs|ShowTrayIcon

[14:00:00.0000] <annevk>
"Show Tray Icon" maybe?

[14:00:01.0000] <annevk>
there you go

[14:01:00.0000] <AryehGregor>
Thanks, worked.

[14:01:01.0000] <AryehGregor>
(I never saw opera:config before, it's kind of scary.  Less so than Mozilla's about:config, I guess.)

[14:02:00.0000] <zcorpan_>
annevk, Ms2ger: thanks for working on dom core

[14:02:01.0000] <Ms2ger>
zcorpan_, thanks for starting it :)

[14:02:02.0000] <zcorpan_>
that was years ago :)

[14:03:00.0000] <annevk>
Ms2ger and gsnedders added tests/

[14:03:01.0000] <annevk>
that's particularly great

[14:03:02.0000] <zcorpan_>
yeah

[14:03:03.0000] <TabAtkins>
Ms2ger: No, I had no idea that MS Word generated @list rules.  Pointer?

[14:05:00.0000] <TabAtkins>
annevk: I've got an internal request for some love to be thrown at a contextual unit-conversion function, so you could just ask an element how large "5em" or "50%" would be for it.

[14:05:01.0000] <Ms2ger>
TabAtkins, no pointers, just tests :)

[14:05:02.0000] <TabAtkins>
Basically just what was discussed a while ago on the list.

[14:05:03.0000] <TabAtkins>
Ms2ger: Pointer to tests?

[14:06:00.0000] <annevk>
TabAtkins, isn't that what CSSLengthComponentValue / CSSPercentageComponentValue would do?

[14:06:01.0000] <Ms2ger>
Just save any word document with lists to HTML, I don't have one handy

[14:06:02.0000] <TabAtkins>
annevk: Yes, but you have to set a value on the element to get that information.  If you're asking for the conversion so you can then use the length for positioning something else...

[14:07:00.0000] <TabAtkins>
Ms2ger: Hm, kk.

[14:07:01.0000] <annevk>
hmm

[14:07:02.0000] <annevk>
if you don't have properties calculating e.g. percentage is tricky

[14:08:00.0000] <annevk>
percentage for 'width' and 'height' is different for instance (iirc)

[14:08:01.0000] <TabAtkins>
Ah, that's right.  

[14:08:02.0000] <TabAtkins>
Yes, it is.

[14:09:00.0000] <zcorpan_>
"a call to <code title=dom-Document-importNode>importNode</code> is required" -- that exception is basically only raised for createDocument if you pass in a doctype from another document, and you can't importNode a doctype anyway... iirc anyway

[14:09:01.0000] <TabAtkins>
So like, .measureFor(csslength::string, propertyname::string) -> px amount as a number.

[14:10:00.0000] <annevk>
ugh

[14:11:00.0000] <annevk>
use cases -> www-style?

[14:11:01.0000] <TabAtkins>
Sure.

[14:12:00.0000] <annevk>
zcorpan_, at the moment importNode(DocumentType) works

[14:12:01.0000] <Ms2ger>
zcorpan_, you can push to the repo if you've got something better :)

[14:13:00.0000] <zcorpan_>
Ms2ger: then i first need to clone it :P

[14:13:01.0000] <annevk>
zcorpan_, but once I fully know the spec and have written a bunch more tests I'm definitely going to ask implementors if they are interested in simplifying some of this

[14:14:00.0000] <zcorpan_>
annevk: ok, then i misremembered

[14:15:00.0000] <annevk>
definitely some of this stuff does not make much sense

[14:15:01.0000] <annevk>
throwing different exceptions for Name and QName violations...

[14:15:02.0000] <Ms2ger>
/me points at the topic

[14:16:00.0000] <zcorpan_>
annevk: frustrating isn't it

[14:17:00.0000] <annevk>
a bit

[14:17:01.0000] <annevk>
but maybe I can make some developers enthusiastic about touching the code

[14:17:02.0000] <zcorpan_>
i recommend beer

[14:18:00.0000] <annevk>
heh

[14:18:01.0000] <jgraham>
Entusiastic about changing DOM Core in incompatible ways? GLWT :)

[14:18:02.0000] <jgraham>
You will need something stronger than beer at least

[14:18:03.0000] <zcorpan_>
depends on how much beer

[14:19:00.0000] <annevk>
oh come on now

[14:19:01.0000] <annevk>
people are screwing up their parser compat all over the place :)

[14:19:02.0000] <annevk>
if it's better developers will come

[14:19:03.0000] <annevk>
or something like that

[14:19:04.0000] <TabAtkins>
Next, let's draw some happy little clouds: http://i.imgur.com/2qMDS.jpg

[14:20:00.0000] <jgraham>
annevk: The parser thing is already scary as hell

[14:20:01.0000] <jgraham>
Even though it will be a great win in the end

[14:20:02.0000] <jgraham>
Making litle changes to DOM to make it nicer isn't such a big win and is just as scary

[14:20:03.0000] <zcorpan_>
the end for the parser is interop; in dom core we almost already have interop, it's just that it doesn't make sense

[14:23:00.0000] <annevk>
TabAtkins, now you made me look for that storm cloud computing comic graphic from glazou and I cannot find it!!!11!

[14:24:00.0000] <TabAtkins>
Ms2ger: Hrm.  My wife just made a doc with lists, and I don't see any @list rules.  They're just all <p>s with explicit symbols/numbers/letters put in.

[14:26:00.0000] <TabAtkins>
Ms2ger: Do you know if this was a particular version?  This was made with Word '07.

[14:27:00.0000] <Ms2ger>
I'm on 2003

[14:27:01.0000] <Philip`>
TabAtkins: http://www.ar-t.co.uk/Energy.html is one

[14:27:02.0000] <Philip`>
TabAtkins: http://www.militarysaves.org/Newsletter/MilitarySavesNews-100108.html too, which says "Word 12"

[14:27:03.0000] <TabAtkins>
Ah, got it.  Thank, Philip`.

[14:28:00.0000] <TabAtkins>
I think that modern Word generates *much* cleaner HTML.

[14:30:00.0000] <Ms2ger>
That wasn't hard

[14:33:00.0000] <TabAtkins>
Ms2ger: Were you talking to me about that because of my plan to rewrite the various list styles in terms of @list rules?

[14:33:01.0000] <Ms2ger>
TabAtkins, yes

[14:33:02.0000] <Ms2ger>
Thought you'd like to know

[14:33:03.0000] <TabAtkins>
Luckily, those are incompatible.  It appears they always come with a colon in their name, which is incompatible with my proposal.  Plus there's a bunch of prefixed properties that obviously wouldn't work.

[14:47:00.0000] <zcorpan_>
annevk: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/612

[14:48:00.0000] <zcorpan_>
annevk: i get different exceptions in opera, firefox and chrome

[14:48:01.0000] <annevk>
I know

[14:48:02.0000] <zcorpan_>
oh

[14:48:03.0000] <annevk>
there's a test for that and the spec defines it

[14:48:04.0000] <zcorpan_>
i'm looking through the changelog

[14:49:00.0000] <annevk>
the next change says "oops" :)

[15:10:00.0000] <AryehGregor>
TabAtkins, what's so nauseating about <http://miketaylr.com/post/edc33d19.png>?

[15:11:00.0000] <AryehGregor>
(other than inconsistent indentation)

[15:11:01.0000] <TabAtkins>
They just... keep rerunning the selector.  Over and over and over again.

[15:11:02.0000] <AryehGregor>
That it does $() a lot instead of caching the result?

[15:11:03.0000] <TabAtkins>
Yes.  That's expensive, *and* stupid.

[15:12:00.0000] <AryehGregor>
I could seven when it could be two.  Surely that's not so expensive?

[15:12:01.0000] <AryehGregor>
The function looks like it's only called when the user clicks a button or something.

[15:12:02.0000] <AryehGregor>
Five extra selector calls should be negligible.

[15:12:03.0000] <TabAtkins>
Descendant selectors are always expensive, and I suspect if they're doing it once they're doing this throughout their codebase.

[15:13:00.0000] <AryehGregor>
They're expensive if you have to evaluate them many times per second, but that's usually not the case in JS.

[15:13:01.0000] <AryehGregor>
/me tests

[15:16:00.0000] <TabAtkins>
There's also several style violations for no reason.  They use multiple .css() calls rather than just passing an object to set all the props at once.  They also avoid chaining like the plague.

[15:17:00.0000] <TabAtkins>
All in all, it's just bad jQuery style in multiple ways, for no apparent reason.

[15:17:01.0000] <TabAtkins>
(The inconsisten indentation didn't even bother me at first, though it does now.)

[15:23:00.0000] <Philip`>
TabAtkins: Looks to me like they're optimising readability over performance

[15:23:01.0000] <Philip`>
which is an entirely sensible thing to do

[15:23:02.0000] <TabAtkins>
Philip`: No, they're not.  jQuery convention is designed for readability.  They're breaking convention for no good reason, which hurts readability for anyone used to working in jQuery.

[15:24:00.0000] <AryehGregor>
javascript:(function(){var start = Date.now(); var el; for (var i = 0; i < 1000; i++) { el = document.querySelector("#security-with-canvas-elements span"); } alert(Date.now() - start);})();

[15:24:01.0000] <AryehGregor>
Gives me about 4700–4800 on complete.html.

[15:24:02.0000] <AryehGregor>
So half a millisecond, that's not bad, when you consider it's being called from script.

[15:25:00.0000] <AryehGregor>
(and that the HTML5 spec is pathological)

[15:25:01.0000] <AryehGregor>
I'm pretty sure if the thing is slow, it's because of macrooptimization issues, not failure to shave off a few queries here and there.

[15:25:02.0000] <TabAtkins>
Repeating selectors, lack of chaining, and repetition of the css() function are all against common style.

[15:26:00.0000] <Philip`>
Common style or your personal preferences?

[15:26:01.0000] <TabAtkins>
The former.  I have some personal preferences that it's also violating, but I didn't mention those.

[15:28:00.0000] <jgraham>
"common style" sounds dangreously close to a verifiable statement

[15:28:01.0000] <TabAtkins>
It should be.

[15:28:02.0000] <AryehGregor>
Yay PEP 8!

[15:29:00.0000] <TabAtkins>
Indeed.

[15:29:01.0000] <jgraham>
FWIW I can't imagine that that particular style is actually causing any bad effects on that page

[15:29:02.0000] <TabAtkins>
Note: the original complain was that the code nauseates me.

[15:30:00.0000] <jgraham>
I would be #topic span is only matching one element anyway or something

[15:31:00.0000] <jgraham>
TabAtkins: You should see the rest of the code on the internet

[15:31:01.0000] <jgraham>
Or maybe you shouldn't

[15:31:02.0000] <TabAtkins>
I'd rather not, yeah.

[15:34:00.0000] <jgraham>
(also a good engine could probably cache the result of repeated application of the same selector. You need to invalidate correctly of course. Indeed that seems like a likely optimistaion)

[15:34:01.0000] <TabAtkins>
Yeah, it probably does so.

[15:34:02.0000] <AryehGregor>
So is it just good practice in JS to always do .slice(0) when assigning one array to another if you don't want one to change when the other does?

[15:34:03.0000] <TabAtkins>
You mean, should you make a copy when you want a copy?

[15:35:00.0000] <jgraham>
AryehGregor: No need for the 0

[15:35:01.0000] <jgraham>
If we are being pedantic

[15:35:02.0000] <AryehGregor>
MDC seems to say it's required.  It isn't?

[15:36:00.0000] <jgraham>
Without the 0 it should be treated as undefined which is the same as 0

[15:36:01.0000] <Philip`>
AryehGregor: Seems like it might generally be easier to assume arrays are shared unless known otherwise, and clone with slice only in code that's about to modify a potentially-shared array

[15:36:02.0000] <AryehGregor>
Sneaky.

[15:36:03.0000] <jgraham>
Dunno what browsers actually do

[15:36:04.0000] <AryehGregor>
Philip`, then you have to remember what arrays are shared.

[15:37:00.0000] <jgraham>
I mean it is only the same as 0 in this case because it is specced to be

[15:37:01.0000] <AryehGregor>
I come from PHP-land, where everything copies unless you explicitly assign by reference (except maybe objects), so I'm not used to thinking about that.

[15:37:02.0000] <Peter->
MikeSmith: ping

[15:38:00.0000] <jgraham>
PHP. That's a sign it is time for bed

[15:38:01.0000] <jgraham>
Or as Talking Heads put it "run run run run run away"

[15:38:02.0000] <TabAtkins>
AryehGregor: Remembering what things are shared is the norm in most languages.

[15:39:00.0000] <AryehGregor>
It seems tiresome.

[15:39:01.0000] <AryehGregor>
And error-prone.

[15:39:02.0000] <TabAtkins>
Shrug.  The other way can be slow if you're not careful.

[15:40:00.0000] <Philip`>
You can avoid all these problems by only using immutable values

[15:40:01.0000] <MikeSmith>
Peter`: hej

[15:40:02.0000] <TabAtkins>
True.  You avoid unnecessary copying and are protected from accidental mutation.

[15:42:00.0000] <AryehGregor>
Philip`, do immutable arrays exist in JS?

[15:42:01.0000] <TabAtkins>
No.

[15:42:02.0000] <Peter->
MikeSmith: long story short, my server literally has vanished (yes, the physical box), so peter.sh's database isn't complete anymore. Going to re-add all posts right now. Although I expect things to be fine, a double message *could* reach planet html. Just a heads up

[15:42:03.0000] <TabAtkins>
Well...  strings?  I think they might be immutable?

[15:43:00.0000] <AryehGregor>
Are strings arrays?

[15:44:00.0000] <TabAtkins>
They're *like* arrays.

[15:44:01.0000] <Philip`>
AryehGregor: Make your own immutable list class

[15:45:00.0000] <AryehGregor>
Seems easier not to bother.

[15:45:01.0000] <Philip`>
like a {v:10, r:{v:20, r:null}} kind of thing

[15:45:02.0000] <TabAtkins>
Oh jeez.

[15:45:03.0000] <Philip`>
(with whatever stuff you need to make things read-only)

[15:45:04.0000] <TabAtkins>
Implementing conses manually?

[15:46:00.0000] <Philip`>
Define some functions to give you prettier syntax

[15:47:00.0000] <TabAtkins>
Hixie: Was there a specific reason why Workers can't have canvases?

[15:48:00.0000] <Hixie>
they can't have anything relating to the DOM

[15:48:01.0000] <Hixie>
because DOMs in browsers aren't threadsafe

[15:48:02.0000] <TabAtkins>
Right, but a DOMless canvas?

[15:49:00.0000] <Philip`>
A canvas is not much more than a DOM object

[15:49:01.0000] <Philip`>
so you wouldn't be left with much

[15:49:02.0000] <Hixie>
you mean a context?

[15:49:03.0000] <TabAtkins>
Well, sure.  It's a host for the important bit, the context.

[15:49:04.0000] <Philip`>
Oh, I suppose there's that bit

[15:49:05.0000] <Hixie>
we could provide a context if we did the work of speccing it, just hasn't been done yet

[15:49:06.0000] <Philip`>
minus drawImage

[15:49:07.0000] <TabAtkins>
Ok, just making sure.

[15:49:08.0000] <Hixie>
i'd rather have people implement the older stuff like making wf2 actually work rather than adding new features :-)

[15:50:00.0000] <TabAtkins>
Heh, kk.  There's just a discussion going on about canvas-in-workers again in Buzz.

[15:51:00.0000] <Philip`>
Presumably people who discuss things in Buzz aren't representative of typical web users' desires

[15:51:01.0000] <Hixie>
TabAtkins: there's been discussion in whatwg⊙wo too

[15:52:00.0000] <TabAtkins>
Right, but that was in the past.

[15:53:00.0000] <Hixie>
nothing has changed since

[15:54:00.0000] <Hixie>
(it was only like 2 weeks ago)

[15:54:01.0000] <zcorpan_>
http://forums.whatwg.org/viewtopic.php?t=4400 - i don't know anything about ePub, but would it make sense to add something to html to embed ePub books inline (with controls to navigate)?

[15:54:02.0000] <TabAtkins>
Time has no meaning to me when it's referring to something in the past.  There's only old and broken, right now, and not happening soon enough.

[15:55:00.0000] <zcorpan_>
TabAtkins: wasn't the discussion in buzz also in the past?

[15:55:01.0000] <TabAtkins>
The time windows are fuzzy.

[15:55:02.0000] <TabAtkins>
My "now" is a nebulous window roughly an hour wide.

[15:55:03.0000] <Hixie>
zcorpan_: ePub is basically XHTML. You should just be able to use <iframe> (with jar:, or you could expand the zipfile and point straight at the data files).

[15:56:00.0000] <zcorpan_>
Hixie: that was my first reaction as well, but iframe doesn't have navigation controls

[15:56:01.0000] <Hixie>
well you can't frame html pages either if you want navigation controls

[15:56:02.0000] <Hixie>
nothing special about ePub there

[15:58:00.0000] <TabAtkins>
I believe people's opinions of wikis are inversely correlated with how recently they got into an edit war.

[15:59:00.0000] <zcorpan_>
Hixie: then people will use flash or something instead of iframe to embed ePub books

[16:00:00.0000] <Hixie>
zcorpan_: how unfortunate for their users

[16:08:00.0000] <AryehGregor>
Aren't missing breaks in switch statements fun?

[16:08:01.0000] <Dashiva>
This is why you have static analysis tools

[16:08:02.0000] <TabAtkins>
Switch statements are fundamentally broken.

[16:09:00.0000] <Dashiva>
Fundamentally awesome, more like it.

[16:10:00.0000] <TabAtkins>
They would be if they worked in the opposite way and needed a continue statement or similar to activate fall-through.

[16:11:00.0000] <AryehGregor>
Except in the special case of an empty statement, so you can do things like case "foo": case "bar": ...

[16:12:00.0000] <TabAtkins>
I can see that exception, sure.

[16:12:01.0000] <workmad3>
AryehGregor: I believe skipping a 'break' in any situation apart from that one is an error (or at least a warning) in C# :)

[16:14:00.0000] <MikeSmith>
Peter`: no problem -- thanks for the heads-up

[16:15:00.0000] <zcorpan_>
hsivonen falls through in his html parser iirc

[16:15:01.0000] <MikeSmith>
Peter`: and sorry about your server vanishing

[16:15:02.0000] <MikeSmith>
I hope it ends up reappearing

[16:16:00.0000] <Peter->
MikeSmith: it seems to be going ok, already added a few posts and nothing got updated. I hope so too, it's colocated and it was rather expensive. Servers in datacenters mustn't randomly disappear.

[16:18:00.0000] <AryehGregor>
"Must" in the sense of RFC 2119?  :)

[16:18:01.0000] <Peter->
If only :(

[16:19:00.0000] <zcorpan_>
rfc2119 musts are violated all the time

[16:21:00.0000] <zcorpan_>
nn

[16:23:00.0000] <AryehGregor>
Am I hallucinating, or do UAs treat form.action as a string rather than a URL?  I can't believe I missed that, if they do.

[16:25:00.0000] <Dashiva>
How do you mean, treat?

[16:25:01.0000] <AryehGregor>
No, I'm not hallucinating.

[16:25:02.0000] <AryehGregor>
I just missed it before.

[16:25:03.0000] <AryehGregor>
Surely I filed a Firefox bug, at least . . . ?

[16:26:00.0000] <AryehGregor>
Dashiva, I mean, like form.action = "foo"; alert(form.action); seems per spec as though it should alert "http://baseurl/foo".

[16:26:01.0000] <AryehGregor>
Like, I don't know, a.href works.

[16:26:02.0000] <AryehGregor>
But it seems browsers don't do that.

[16:26:03.0000] <AryehGregor>
And I didn't realize until I just rewrote my tests and started checking their correctness.

[16:27:00.0000] <AryehGregor>
Okay, IE8 does treat it as a URL, but that's the only one.

[16:27:01.0000] <AryehGregor>
/me updates a bug he filed about form.action already

[16:53:00.0000] <AryehGregor>
Man, enum reflection is like six times as complicated as any other type of reflection.


2010-09-02
[18:31:00.0000] <tabatkins>
I once again justified my position by being "the guy who knows what specs are out there".

[18:48:00.0000] <llrcombs>
HTML5 has some of the best ideas I've ever seen in the web

[18:48:01.0000] <llrcombs>
/me can't wait for addContentHander+<device> in WebKit

[18:49:00.0000] <llrcombs>
*register

[18:50:00.0000] <Hixie>
tabatkins: wait, if you're that guy, who the heck am i?!

[18:50:01.0000] <tabatkins>
"The guy who's never in a predictable location".

[19:02:00.0000] <llrcombs>
hmmmmmmm

[19:02:01.0000] <llrcombs>
if I have a <select multiple>

[19:02:02.0000] <llrcombs>
in a form

[19:03:00.0000] <llrcombs>
and I select 2 values and hit submit

[19:03:01.0000] <llrcombs>
assuming it's a GET form, what should the query string look like?

[19:03:02.0000] <llrcombs>
example:

[19:03:03.0000] <llrcombs>
data:text/html,%3Cform%20action=%22http://combsconnections.tk/request.php%22%20method=%22GET%22%3E%3Cselect%20name=%22test%22%20multiple%3E%3Coption%20value=%221%22%3E1%3C/option%3E%3Coption%20value=%222%22%3E2%3C/option%3E%3C/select%3E%3Cinput%20type=%22submit%22%3E%3C/form%3E

[19:03:04.0000] <llrcombs>
WebKit sends both values (test=1&test=2)

[19:03:05.0000] <llrcombs>
the PHP script grabs the second one

[19:03:06.0000] <llrcombs>
(http://combsconnections.tk/request.php?test=1&test=2 just print_r's $_REQUEST)

[20:18:00.0000] <Maxdamantus>
am I allowed to scale one of the canvas transformation dimensions by 0?

[20:24:00.0000] <llrcombs>
sure!

[20:24:01.0000] <llrcombs>
it'll just not change anything!

[20:24:02.0000] <llrcombs>
iirc

[20:24:03.0000] <Maxdamantus>
It won't?

[20:24:04.0000] <Maxdamantus>
I'd think that scaling by 0 would make drawing operations do nothing.

[20:25:00.0000] <Maxdamantus>
Hm. Firefox doesn't seem to let me do it.

[20:25:01.0000] <llrcombs>
wait, did you mean scaling something by 0px?

[20:25:02.0000] <llrcombs>
maybe I misunderstood

[20:25:03.0000] <Maxdamantus>
No, 0

[20:25:04.0000] <Maxdamantus>
ctx.scale(0, 1)

[20:26:00.0000] <llrcombs>
ohwait

[20:26:01.0000] <llrcombs>
my fault

[20:26:02.0000] <llrcombs>
I'm 100% wrong

[20:26:03.0000] <llrcombs>
I must be tired

[20:26:04.0000] <llrcombs>
scaling with one arg at 0 sounds like a bad plan

[20:27:00.0000] <llrcombs>
I was thinking pixel transforms

[20:27:01.0000] <llrcombs>
you were thinking decimal-percent-thingy transforms

[20:28:00.0000] <Maxdamantus>
Ratio, maybe.

[20:28:01.0000] <llrcombs>
yeah, that'd be it!

[20:28:02.0000] <llrcombs>
/me sounds like an idiot about now

[20:28:03.0000] <llrcombs>
aww, it's 9:30 here

[20:28:04.0000] <llrcombs>
I have an excuse

[20:28:05.0000] <llrcombs>
(also, being 13 is one in and of itself)

[20:29:00.0000] <llrcombs>
well, back to hoping more people will try/report-issues-with http://code.google.com/p/plugin-blocker/

[20:32:00.0000] <Maxdamantus>
http://ntus.uni.cc/canv.htm mmm.. doesn't work on Firefox.

[20:33:00.0000] <Maxdamantus>
Hm. Firefox seems to be strange about canvas.. My canvas-driven application runs super-fast in Firefox (compared to Chrome, suprisingly), but only when it's doing about 1276x960 or less

[20:33:01.0000] <Maxdamantus>
as soon as I put it fullscreen (~1280x1024) it lags alot :\

[20:35:00.0000] <Maxdamantus>
Hm, seems to have to do with the actual fullscreen state of the browser window.. or not

[20:36:00.0000] <Maxdamantus>
I'm using a tiling WM, and when I tell the WM to make Firefox a borderless full screen window (but the normal Firefox controls are still there, because I didn't hit F11) it lags

[20:36:01.0000] <llrcombs>
so try ##javascript or #firefox

[20:37:00.0000] <Maxdamantus>
Not laggy after pressing F11 then forcing it out of fullscreen via the WM (but the controls are still gone, so Firefox appears to still think it's fullscreen)

[20:37:01.0000] <Maxdamantus>
Mmm, yeah I'll ask on irc.mozilla.org

[21:42:00.0000] <zcorpan_>
llrcombs: you can either parse the query string yourself in php, or use a name like test[] to make php turn it into an array, iirc

[21:42:01.0000] <llrcombs>
ahh, k

[21:47:00.0000] <llrcombs>
thanks

[21:51:00.0000] <zcorpan_>
np

[22:32:00.0000] <roc>
ta

[22:32:01.0000] <roc>
oops

[23:59:00.0000] <hsivonen>
AryehGregor: the parser code I've written is full of switch fall-thru

[23:59:01.0000] <hsivonen>
AryehGregor: though always with a comment // fall through

[00:06:00.0000] <othermaciej>
fallthrough is handy at times, but it can be a somewhat dangerous default

[01:10:00.0000] <hsivonen>
/me has trouble locating the processing rules for <base target>

[01:11:00.0000] <hsivonen>
aargh. I'm accidentally reading the multipage version

[01:11:01.0000] <hsivonen>
no wonder I don't find anything

[01:12:00.0000] <hsivonen>
found it

[01:18:00.0000] <hsivonen>
XML FTW! Minefield update failed due to a failure to parse an update file.

[01:45:00.0000] <bblfish>
hi

[01:45:01.0000] <hsivonen>
bblfish: hi

[01:46:00.0000] <bblfish>
There is a browser security issue that affects every browser and that is very easy to fix

[01:46:01.0000] <bblfish>
hi hsivonen

[01:46:02.0000] <bblfish>
I am wondering if this is something I could bring to the attention of the group here

[01:47:00.0000] <Hixie>
is it something that could harm users if attackers learnt of it?

[01:47:01.0000] <hsivonen>
bblfish: if it's not already publicly known, it would probably be more appropriate to report it via the security bug mechanism of the top browsers

[01:47:02.0000] <bblfish>
well it's an anonymity issue to do with ssl

[01:48:00.0000] <bblfish>
as well as a useability issue

[01:49:00.0000] <hsivonen>
Hixie: btw, it turned out that there's a software package whose output breaks with HTML5-compliant <base> handling

[01:49:01.0000] <hsivonen>
(hyperlatex)

[01:49:02.0000] <bblfish>
It's not an exploit

[01:49:03.0000] <hsivonen>
I'm treating it as evang, though, since the output already breaks in IE8

[01:50:00.0000] <hsivonen>
kinda sucks though, since there is hyperlatex output in the long tail of Web sites on multiple sites

[01:50:01.0000] <bblfish>
(though perhaps it could be used as an exploit: but really it's stopping the adoption of client side SSL)

[01:50:02.0000] <Hixie>
hsivonen: yeah, we know it might break things

[01:50:03.0000] <Hixie>
if it's not something that could be used to attack users, it's fine to talk about it here

[01:51:00.0000] <bblfish>
ok, it's very simple. Imagine you want a site to be completely behind SSL

[01:51:01.0000] <Hixie>
we just don't want attackers hearing about bugs that they can then turn around and use to install malware on a million machines tomorrow (or whatnot)

[01:51:02.0000] <Hixie>
at least not before we've had a chance to fix them :-)

[01:51:03.0000] <bblfish>
and imagine that you want to use SSL for client side auth

[01:52:00.0000] <bblfish>
currently the client will be asked for his certificate before he sees the first page

[01:52:01.0000] <bblfish>
which is a bad UI experience

[01:52:02.0000] <hsivonen>
bblfish: client-side certs indeed have a ridiculously bad UX

[01:53:00.0000] <bblfish>
also the client if he choose a client side cert, will not be able to change it later

[01:53:01.0000] <bblfish>
ie: he can't logout

[01:53:02.0000] <bblfish>
so the solution is very very simple, and fixes both issues

[01:54:00.0000] <bblfish>
in the URL bar of the browser the browser should show the server cert used, but also the client cert

[01:54:01.0000] <bblfish>
and the first login to a site it should allow the client to be logged in anonymously

[01:55:00.0000] <bblfish>
ie: if the server asks for a cert anonymously, the browser should not send one (if the user chooses that as a general preference)

[01:55:01.0000] <bblfish>
and the browser should show the anonymous cert in the tool bar

[01:55:02.0000] <bblfish>
then the user should be able to click on the client cert, and login by choosing his certificate

[01:56:00.0000] <hsivonen>
bblfish: that's probably worth filing as a UI feature request for each browser

[01:56:01.0000] <bblfish>
if you do that, then client side certs become useable, and extreemly useful, and you don't have the danger that a server track a user without his knowledge

[01:56:02.0000] <hsivonen>
bblfish: however, I'd expect client-side certs to be very, very low in the UI teams' priorities

[01:57:00.0000] <bblfish>
hsivonen: I have file this with Firefox, Chromium, Safari, Opera

[01:57:01.0000] <hsivonen>
bblfish: great

[01:57:02.0000] <Hixie>
do people still use client-side certs?

[01:57:03.0000] <bblfish>
but I think that perhaps if I bring it up here, then people can follow up on it

[01:57:04.0000] <Hixie>
(have people ever used client certs?)

[01:58:00.0000] <bblfish>
Hixie: with the WebID protocol, we believe that we can make client side certs and every day experience

[01:58:01.0000] <Hixie>
what problem do they solve?

[01:58:02.0000] <bblfish>
the login problem

[01:58:03.0000] <Hixie>
what login problem

[01:59:00.0000] <bblfish>
the one that OpenId is trying to solve

[01:59:01.0000] <Hixie>
isn't that solved by, like, entering a username and password

[01:59:02.0000] <bblfish>
the nice thing with client certs is that you don't need to enter a username/password

[01:59:03.0000] <bblfish>
you can just click a cert

[01:59:04.0000] <bblfish>
and it's secure

[02:00:00.0000] <bblfish>
and built right in the browser

[02:00:01.0000] <Hixie>
doesn't that mean i'm stuck if i ever use another computer?

[02:00:02.0000] <bblfish>
nope :-)

[02:00:03.0000] <Hixie>
or if i poor water into my laptop as i did recently

[02:00:04.0000] <Hixie>
pour even

[02:00:05.0000] <hsivonen>
bblfish: isn't Firefox Account Manager solving the login problem without client-side certs?

[02:01:00.0000] <bblfish>
here is a 4 minute video that shows how easy it is to create a cert http://www.youtube.com/watch?v=S4dlMTZhUDc

[02:01:01.0000] <bblfish>
and get a new one for each browser

[02:01:02.0000] <bblfish>
it's just a one click affair

[02:01:03.0000] <Hixie>
that you need a 4 minute video is a little disconcerting :-)

[02:01:04.0000] <bblfish>
Hixie: I am not a video artist

[02:02:00.0000] <hsivonen>
bblfish: does WebID also rely on FOAF/RDF in addition to client-side certs?

[02:02:01.0000] <Hixie>
i've never had to show someone a video to explain how to use a password ;-)

[02:02:02.0000] <bblfish>
hsivonen: It does not need to

[02:02:03.0000] <bblfish>
Hixie: I think in the early days of the web you probably had to show people a video

[02:03:00.0000] <Hixie>
in the early days of the web you were lucky to get images, let alone a video

[02:03:01.0000] <hsivonen>
in 2003 I had to help my superiors use smartcard-resident client-side certs with IE

[02:03:02.0000] <Hixie>
but that's another story

[02:03:03.0000] <hsivonen>
the experience was even worse than it necessarily had to be

[02:03:04.0000] <bblfish>
the point here is that you asked me if it was difficult, and a video makes the point clearly. It saves typing

[02:03:05.0000] <Hixie>
i don't really see what's wrong with typing in a password to be honest

[02:04:00.0000] <Hixie>
i mean, for secure sites you want some sort of second factor authentication, obviously

[02:04:01.0000] <hsivonen>
(IE copied the public part of the cert to its local storage, so on subsequent logins there were two identically-titled certs to choose from but only the one that was actually coming from the smartcard worked)

[02:05:00.0000] <bblfish>
Hixie: if you look at the video you'll see that in our use case we still have one site with passwords

[02:05:01.0000] <Hixie>
wait so you have passwords AND certs?

[02:05:02.0000] <Hixie>
wouldn't it be better just to use OAuth

[02:06:00.0000] <bblfish>
Well why not fix the browser bug?

[02:06:01.0000] <bblfish>
and get real identity in the browser

[02:07:00.0000] <bblfish>
it's a minor UI fix frankly, and the browser vendors would get maximum benefit, as well as allowing real security on the internet

[02:07:01.0000] <bblfish>
and it's a bug

[02:07:02.0000] <Hixie>
what's the benefit of "real identity"?

[02:08:00.0000] <bblfish>
as I said, no username password. On cell phones that is really cool

[02:08:01.0000] <bblfish>
one cert to login to any site you want to

[02:09:00.0000] <Hixie>
you just said that you did have a username and password

[02:09:01.0000] <bblfish>
and the browser anyway, should show the user what information he is sending to the site

[02:09:02.0000] <Hixie>
i don't want different sites to be able to tell i'm the same person!

[02:09:03.0000] <bblfish>
Hixie: not necessarily - and only for one site

[02:09:04.0000] <Hixie>
that'd be terrible

[02:09:05.0000] <Hixie>
if you want to just have central login, just use oauth

[02:09:06.0000] <bblfish>
Hixie: exactly: that is why the browser should show you what idenitty you are using when you log in

[02:09:07.0000] <boblet>
hey all, re: nav, I received a question about having a duplicate main nav in the page footer — logically seems to be appropriate for <nav> but duplicate so I wouldn’t…

[02:10:00.0000] <wirepair>
my understanding of client side certs is *only* for 2 factor auth

[02:10:01.0000] <wirepair>
you seem to be wanting to use it for something different

[02:10:02.0000] <wirepair>
it's mainly for the servers protection 

[02:10:03.0000] <boblet>
…worth adding something to spec about major navigation blocks being unique, or is this something that AT should automatically filter?

[02:10:04.0000] <bblfish>
wirepair: it can also be used for client side auth

[02:10:05.0000] <wirepair>
but why

[02:11:00.0000] <wirepair>
?

[02:11:01.0000] <bblfish>
because then you have identity in the browser

[02:11:02.0000] <wirepair>
why do i want identity in the browser?

[02:11:03.0000] <Hixie>
that's not something i want

[02:11:04.0000] <wirepair>
exactly

[02:11:05.0000] <Hixie>
it's actively something i don't want

[02:11:06.0000] <wirepair>
i'd rather be anonymous unless i *chose*

[02:11:07.0000] <Hixie>
exactly

[02:11:08.0000] <wirepair>
to i dunno, Login.

[02:11:09.0000] <wirepair>
;)

[02:11:10.0000] <Hixie>
boblet: not sure i follow

[02:11:11.0000] <bblfish>
wirepair: that's exactly what the point of the fix I am proposing would do

[02:12:00.0000] <bblfish>
alow you to be anonymous unless you choose

[02:12:01.0000] <boblet>
hixie: main nav links duplicated in page header and footer

[02:12:02.0000] <wirepair>
but i'm already doing that

[02:12:03.0000] <bblfish>
and also *show* you what you logged in as

[02:12:04.0000] <Hixie>
bblfish: why is it better to pick a cert rather than have the browser remember my username/password?

[02:12:05.0000] <Hixie>
boblet: what about them?

[02:12:06.0000] <bblfish>
because username/pass are the biggest security hole on the internet

[02:12:07.0000] <bblfish>
it's well known

[02:12:08.0000] <wirepair>
and what makes a cert better?

[02:13:00.0000] <bblfish>
it uses cryptography

[02:13:01.0000] <Hixie>
a cert is better than a password because it's essentially a longer password

[02:13:02.0000] <bblfish>
the same reason the web took off after 1997 when SSLv3 came out

[02:13:03.0000] <Hixie>
(a much, much longer password)

[02:13:04.0000] <boblet>
Hixie: if both use <nav> then there’d be two items in an AT-constructed list of <nav> with identical content (well, theoretically, one day)

[02:13:05.0000] <wirepair>
it really comes down to what are you protcting against

[02:14:00.0000] <wirepair>
i mean if i pop your box, i don't really care if you use a cert

[02:14:01.0000] <wirepair>
i'll just either extract your keys

[02:14:02.0000] <bblfish>
it is much better than a password. It is asymetrical

[02:14:03.0000] <wirepair>
or setup a sniffer 

[02:14:04.0000] <boblet>
I guess if the titles are identical the user can guess the content is duped

[02:14:05.0000] <bblfish>
you don't send the private key to the server

[02:14:06.0000] <wirepair>
pop your box == exploit a vulnerability and gain access to your system

[02:15:00.0000] <bblfish>
you get authentication without the server being able to reuse the password or try it out on another site

[02:15:01.0000] <wirepair>
i mean, most sites when i go to login, i do it over SSL anyways, not sure what a client cert would give me

[02:15:02.0000] <Hixie>
boblet: it seems silly to have the same content twice on the page, ideally we'd use CSS to duplicate content if we had to, but in the absence of that, i see nothing wrong with having it twice in the page

[02:15:03.0000] <Hixie>
boblet: you can hide it from ATs if you really want to by saying role=presentational or some such

[02:15:04.0000] <Hixie>
wirepair: passwords are insecure in practice because people pick terribly bad predictable passwords

[02:16:00.0000] <bblfish>
wirepair: if you pop someone's box then of course things are always in the air: with crypto it is possible to go further and put the private key on a hardware device

[02:16:01.0000] <wirepair>
hixie, i'm a security professional i'm playing devils advocate here ;)

[02:16:02.0000] <Hixie>
ah ok

[02:16:03.0000] <Hixie>
just checking :-)

[02:16:04.0000] <Hixie>
personally i think a cert is dumb because it's tied to the machine

[02:16:05.0000] <bblfish>
wirepair: did you check the video I sent?

[02:16:06.0000] <boblet>
Hixie: aah interesting. thanks

[02:16:07.0000] <Hixie>
i don't want to have to create a new cert on each device i have

[02:16:08.0000] <wirepair>
i mean i've worked with client certs before they are a pain

[02:16:09.0000] <Hixie>
let alone devices that aren't mine

[02:16:10.0000] <wirepair>
for *everyone* involved

[02:16:11.0000] <bblfish>
Hixie: in that video I show that it is cheap to create a cert

[02:16:12.0000] <wirepair>
not just the client

[02:17:00.0000] <wirepair>
create != distribute

[02:17:01.0000] <wirepair>
and manage

[02:17:02.0000] <Hixie>
bblfish: it's a step i don't have to do if i just use username+password+2ndfact+oauth

[02:17:03.0000] <Hixie>
2ndfactor even

[02:17:04.0000] <bblfish>
Hixie: I know you are in love with oauth

[02:17:05.0000] <bblfish>
but perhaps it's blinding you to some obvious solution

[02:18:00.0000] <bblfish>
I mean obvious solutions can be very difficult to see

[02:18:01.0000] <wirepair>
i'll bite and watch your movie ;)

[02:18:02.0000] <Hixie>
actually if you knew me you'd know my like of oauth is minimal

[02:18:03.0000] <bblfish>
ah ok

[02:18:04.0000] <bblfish>
sorry don't know everyone here

[02:18:05.0000] <bblfish>
(probably know hardly anyone)

[02:18:06.0000] <Hixie>
but maybe your love of certs is blinding you to the same thing :-)

[02:19:00.0000] <Hixie>
why are certs superior to having a site be your oauth login provider?

[02:19:01.0000] <bblfish>
Hixie: I know oauth, and the advantage of certs is that you can do the same as oauth in 1-2 connections that oauth/openid would take a lot more

[02:19:02.0000] <hsivonen>
Hixie: Firefox Sync solves the device problem

[02:19:03.0000] <Hixie>
(actually yeah i guess i really mean openid, not oauth)

[02:19:04.0000] <bblfish>
ah ok

[02:20:00.0000] <Hixie>
(shows how much i love them)

[02:20:01.0000] <hsivonen>
(as long as all your devices run Firefox Sync-compatible browsers)

[02:20:02.0000] <hsivonen>
I guess in theory, Firefox Sync could sync client-side certs, too

[02:20:03.0000] <Hixie>
hsivonen: given how often i (a) nuke profiles, (b) change browsers, and (c) use computers that aren't mine, cloud sync wouldn't help me at all

[02:20:04.0000] <bblfish>
yes. But if you look at the video you don't really need to sync client side certs: they are cheap to make

[02:21:00.0000] <hsivonen>
but then you'd end up encrypting your private key with a shorter Firefox Sync pass phrase

[02:21:01.0000] <Hixie>
they're not cheap to make compared to typing in a username and password

[02:21:02.0000] <wirepair>
then what does it gain you if they're cheap to make?

[02:21:03.0000] <bblfish>
(though this brings in WebID. And I was hoping not to bring that one also into this debate)

[02:21:04.0000] <wirepair>
i mean i just watched it and you'd have to put in your username/password to generate a new cert no?

[02:21:05.0000] <Hixie>
since you'd have to type in a username and password to get the cert associated with your account in the first place

[02:21:06.0000] <wirepair>
exactly ehe

[02:21:07.0000] <Hixie>
basically it would be entirely inferior to not having a cert

[02:21:08.0000] <hsivonen>
Hixie: if you wear your tinfoil hat properly, you should expect everything to have been compromised at c)

[02:21:09.0000] <bblfish>
yes, you have 1 site you need some id for - perhaps one time password

[02:21:10.0000] <Hixie>
in every way

[02:22:00.0000] <Hixie>
hsivonen: they're not random computers

[02:22:01.0000] <bblfish>
but once you have that you can log into every site

[02:22:02.0000] <wirepair>
bblfish, then the backend server *still* needs to store my username and password

[02:22:03.0000] <wirepair>
right?

[02:22:04.0000] <hsivonen>
Hixie: ok

[02:22:05.0000] <wirepair>
so ... your earlier threat scenario, doesn't really matter

[02:22:06.0000] <bblfish>
wirepair: the back end server could send you a password via phone

[02:23:00.0000] <wirepair>
so now i need an sms provider

[02:23:01.0000] <bblfish>
you have one identity provider site (you could have a few). you use that to create your cert in one click. 

[02:23:02.0000] <Hixie>
bblfish: what you are describing is username+password+click a few buttons to make a cert+openid or oauth to get the 3rd party site to know who the new cert represents

[02:23:03.0000] <wirepair>
i'll stick with username/passwords ;/

[02:23:04.0000] <Hixie>
bblfish: how is that in any way superior to username+password+2nd factor+openid or oauth to get the 3rd party site to know who the new cookie represents?

[02:24:00.0000] <Hixie>
bblfish: (ways in which it is inferior: the security is no better than the password in your model)

[02:24:01.0000] <Hixie>
bblfish: (and it takes ten times longer)

[02:24:02.0000] <Hixie>
bblfish: (and it doesn't work today with any sane UI)

[02:24:03.0000] <Hixie>
bblfish: (and it doesn't have 2 factors)

[02:25:00.0000] <bblfish>
the security is better than password. because you only have one site that you send a password to. All other sites can then be logged into in one click

[02:25:01.0000] <bblfish>
and you only need to do that once

[02:25:02.0000] <Hixie>
that is the same as with what i'm suggesting

[02:25:03.0000] <bblfish>
you need to do the same with Firefox sync btw

[02:25:04.0000] <Hixie>
except that i'm suggesting you have to send _more_ than just the password to the original site

[02:25:05.0000] <bblfish>
you need to remember the password of the sync file

[02:25:06.0000] <Hixie>
you have to send a second factor

[02:25:07.0000] <bblfish>
what is the second factor?

[02:25:08.0000] <Hixie>
(i am not suggesting anyone use firefox sync)

[02:26:00.0000] <Hixie>
the second factor can be whatever you want, e.g. a code sent by SMS, or a password calculator

[02:26:01.0000] <bblfish>
Well firefox sync could be the solution to not even having to have any site know your password

[02:26:02.0000] <bblfish>
making things even more secure

[02:26:03.0000] <bblfish>
I am trying to work with what we have

[02:26:04.0000] <Hixie>
what do you mean, what we have?

[02:26:05.0000] <hsivonen>
bblfish: with Firefox Sync, to be secure, you make up a long string of random characters, write it on paper, type it into each of your Firefox Sync instance and put the paper into a safe

[02:26:06.0000] <bblfish>
well the vieo is what works in current browsers

[02:27:00.0000] <Hixie>
my main authentication provider today uses two factors, a password and a code calculator

[02:27:01.0000] <bblfish>
cool. So it can use that too

[02:27:02.0000] <bblfish>
it all depends on how secure you want to be

[02:27:03.0000] <Hixie>
ok but how is the cert helping any?

[02:27:04.0000] <bblfish>
it allows you once in the browser to log into any site

[02:27:05.0000] <Hixie>
if i have an auth provider that's secure, what more do i need?

[02:28:00.0000] <Hixie>
i have that today with openid

[02:28:01.0000] <bblfish>
well openid requires 7 ssl connections

[02:28:02.0000] <bblfish>
http://blogs.sun.com/bblfish/entry/the_openid_sequence_diagram

[02:29:00.0000] <bblfish>
that means there are plenty of cases where it can break down

[02:29:01.0000] <Hixie>
well if you want to argue for moving openid up into the browser so we can get it down to 2, i'm all for it

[02:29:02.0000] <Hixie>
but that's far better than trying to use client certs imho

[02:29:03.0000] <bblfish>
and if openid wants to avoid physching, it also needs the client side cert part

[02:29:04.0000] <Hixie>
how so

[02:30:00.0000] <bblfish>
because you could go to a site, and it redirect you to a site that looks very much like your openid provider

[02:30:01.0000] <Hixie>
(what you described would be emminently susceptible to phishing, btw -- just send the user an e-mail asking the user to go to the attacker's site and type in the cert password, so the attacker can create a cert for himself as if he was the user on a new machine)

[02:30:02.0000] <bblfish>
Also OpenId is not restful

[02:31:00.0000] <bblfish>
Hixie: that only happens once in a user's browser lifetime. A user would rarely create a certificate

[02:31:01.0000] <bblfish>
openid requires you to go to the openid site every time

[02:31:02.0000] <Hixie>
openid only requires you to log in once

[02:32:00.0000] <Hixie>
after that the redirects are all silent

[02:32:01.0000] <bblfish>
yes, but every time you login you end up at that site

[02:32:02.0000] <Hixie>
so?

[02:32:03.0000] <Hixie>
the user doesn't see that

[02:32:04.0000] <bblfish>
well with client certs that is not the case

[02:32:05.0000] <Hixie>
so?

[02:32:06.0000] <Hixie>
who cares

[02:33:00.0000] <Hixie>
it works fine

[02:33:01.0000] <bblfish>
well if the user wishes his attributes to be updated then it is a problem

[02:33:02.0000] <Hixie>
i can't recall ever having wanted to Update my Attributes when using OpenID

[02:34:00.0000] <bblfish>
so Hixie: what is your problem? A fix to the SSL stack is easy, and it could allow certain things to happen, which should be fixed anyway

[02:34:01.0000] <Hixie>
i have no problem, that's my point

[02:34:02.0000] <Hixie>
everything works fine today

[02:34:03.0000] <Hixie>
no need to change anything :-)

[02:34:04.0000] <bblfish>
not really

[02:34:05.0000] <Hixie>
in fact we should just nuke the whole client cert feature

[02:34:06.0000] <bblfish>
you cannot use client side certs to their full potential

[02:35:00.0000] <Hixie>
simplify browsers

[02:35:01.0000] <bblfish>
and it would be easy to fix

[02:35:02.0000] <Hixie>
using client certs at all is not a goal, imho

[02:35:03.0000] <Hixie>
it's an antigoal

[02:35:04.0000] <bblfish>
that's because you don't understand their potential

[02:35:05.0000] <Hixie>
users in general do not understand cryptography

[02:35:06.0000] <Hixie>
it's like trying to get them to understand RDF

[02:35:07.0000] <Hixie>
it's a lost cause

[02:35:08.0000] <bblfish>
users don't understand html Hixie but they can use browsers

[02:36:00.0000] <Hixie>
users understand HTML well enough to use it

[02:36:01.0000] <Hixie>
you can fail to understand 90% of HTML yet still succeed at it

[02:36:02.0000] <bblfish>
Hixie: you are clutching on straws

[02:36:03.0000] <Hixie>
but if you only understand 95% of crypto, you'll shoot yourself in the foot

[02:36:04.0000] <bblfish>
you are using "Users" in two different ways

[02:36:05.0000] <Hixie>
which two ways?

[02:37:00.0000] <bblfish>
once you mention developers and then end users (mom, pops)

[02:37:01.0000] <Hixie>
(i've had the same person in mind every time i've said users so far)

[02:37:02.0000] <bblfish>
you uses a very generic term

[02:37:03.0000] <Hixie>
no, i actually meant end users when i mentioned HTML, as I thought you did

[02:37:04.0000] <bblfish>
if you mean developers say so

[02:37:05.0000] <Hixie>
in this particular case, i was thinking of someone blogging on livejournal

[02:37:06.0000] <bblfish>
ok, so end users don't understand html

[02:37:07.0000] <Hixie>
where they'd understand little bits of HTML, enough to make their text emphasised or add a link

[02:38:00.0000] <bblfish>
that's why there is wiki syntax

[02:38:01.0000] <bblfish>
those same users have no problem understand client side certs. It's a UI presentation issue

[02:38:02.0000] <bblfish>
that's all

[02:38:03.0000] <Hixie>
lol

[02:38:04.0000] <Hixie>
please

[02:39:00.0000] <bblfish>
I am not joking

[02:39:01.0000] <bblfish>
the issue is completely solved by the fix I am proposing

[02:39:02.0000] <Hixie>
then you should do some usability studies

[02:39:03.0000] <bblfish>
I bet you 10000 dollars that I am right

[02:39:04.0000] <bblfish>
your useability studies are missing some key issues

[02:40:00.0000] <Hixie>
i challenge you to walk out to your nearest bar, pick someone randomly from the dance floor, and ask them to explain what a "Client Certificate" is

[02:41:00.0000] <bblfish>
who cares. I challenge you to go into the nearest bar and ask them to explain what html is

[02:41:01.0000] <Hixie>
i live in mountain view so that's likely to get a different effect than you want

[02:42:00.0000] <bblfish>
well then the guy will probably also know what client certs are

[02:42:01.0000] <bblfish>
too

[02:42:02.0000] <Hixie>
one of us is dramatically out of touch with your average user, or even with average power user

[02:42:03.0000] <Hixie>
it could be me

[02:42:04.0000] <Hixie>
but i doubt it

[02:42:05.0000] <bblfish>
anyway - the reason most people won't know is just that people don't use them. And the reason they don't use them is complex, but it is not because they are difficult to use

[02:43:00.0000] <Hixie>
it's because they are easy to misuse

[02:43:01.0000] <bblfish>
I mean web sites don't use them

[02:43:02.0000] <bblfish>
passwords are a lot easier to misuse

[02:43:03.0000] <Hixie>
and users don't even understand the importance of passwords

[02:43:04.0000] <bblfish>
a good reason to remove passwords altogether

[02:43:05.0000] <bblfish>
and to move to certs

[02:44:00.0000] <Hixie>
so getting them to understand asymetric crypto, private and public keys, etc...

[02:44:01.0000] <Hixie>
your solution doesn't get rid of passwords!

[02:44:02.0000] <bblfish>
you don't have to get them to understand that!

[02:44:03.0000] <bblfish>
you just make sites that use that

[02:44:04.0000] <bblfish>
simple

[02:44:05.0000] <Hixie>
anyway, i have to return to work

[02:44:06.0000] <Hixie>
so, good luck

[02:44:07.0000] <bblfish>
nice talking to you Hixie. I should come to mountain view and give a talk

[02:45:00.0000] <bblfish>
It's a bit odd: the issue is one of perception only

[02:46:00.0000] <Hixie>
i hear the same from the RDFa guys :-)

[02:46:01.0000] <bblfish>
I like RDFa but btw, WebID would work with normal XML too

[02:46:02.0000] <Hixie>
rather than give a talk, i recommend deploying it and proving me (us) wrong

[02:47:00.0000] <Hixie>
XML is another technology that's basically dead on the web

[02:47:01.0000] <bblfish>
well have a look at the video: that proves you wrong. we are working on deployments

[02:47:02.0000] <bblfish>
Ok, it could work with json too

[02:47:03.0000] <bblfish>
we have defined the protocol so we don't take syntax sides

[02:47:04.0000] <bblfish>
no syntax wars here

[02:47:05.0000] <hsivonen>
"could work with JSON" isn't good enough

[02:47:06.0000] <Hixie>
what will prove me wrong is facebook, twitter, gmail, etc, using client certs as a default (or only) login mechanism.

[02:48:00.0000] <hsivonen>
only uses JSON is ok

[02:48:01.0000] <bblfish>
Hixie: ok. So you are not a path burner

[02:48:02.0000] <zcorpan_>
Hixie: didn't you have work to do? :)

[02:48:03.0000] <hsivonen>
unfortunately, the Web Finger stuff relies on an XML monstrosity

[02:48:04.0000] <hsivonen>
which could very well be JSON

[02:48:05.0000] <Hixie>
bblfish: no, i'm a paver of cowpaths :-)

[02:48:06.0000] <Hixie>
quite the opposite

[02:48:07.0000] <hsivonen>
but since the XML format is there, now every implementation has to support the XML thing even if a JSON alternative were possible

[02:49:00.0000] <bblfish>
well in this case it would be very minimal effort to fix a few bugs

[02:49:01.0000] <Hixie>
bblfish: so do it and submit patches :-)

[02:49:02.0000] <Hixie>
standardisation is about finding what trails were blazed, and building ducts and highways and so forth to use them

[02:49:03.0000] <Hixie>
it's not about innovation

[02:49:04.0000] <bblfish>
well the reason I am here is to chat to people who have access to browser vendors

[02:49:05.0000] <Hixie>
innovation is what happens before you get standards

[02:50:00.0000] <bblfish>
good, we are innovating with WebID - and again what I am proposing was just a use case for why I thought those patches would be useful

[02:50:01.0000] <Hixie>
bblfish: best to just approach the browsers directly and submit running code (especially for something like certs, which have nobody working on them at all)

[02:50:02.0000] <bblfish>
yes. I have done that. But sometimes it can be good to have other entry points

[02:51:00.0000] <bblfish>
there are other players who can find this interesting: banks, security agencies, governments, and other hackers

[02:51:01.0000] <bblfish>
and I thought perhaps this group here could be interested

[02:52:00.0000] <Hixie>
i'm afraid most of us are probably too joded by past experience with client side certs at this point to believe in anything until we've seen it actually used by millions of regular users daily

[02:53:00.0000] <bblfish>
the very nice thing about certs bytw is that it is completely standardised . No intellecutal property

[02:53:01.0000] <bblfish>
Hixie: We are working on getting that done. While doing it we found an issue that would be easy to fix. I reported it to browser vendors. 

[02:53:02.0000] <Hixie>
so you said :-)

[02:53:03.0000] <bblfish>
then I thought it could be a good channel to bring this up here

[02:54:00.0000] <Hixie>
well you're definitely welcome to discuss it here :-)

[02:54:01.0000] <Hixie>
but that doesn't mean we have to think it's a good idea :-)

[02:54:02.0000] <bblfish>
of course: freedom of thought

[02:55:00.0000] <bblfish>
Hixie: if you look at my two videos you'll see that at least part of your issues are solved - it is easy to create a cert, and to have a different one for each browser

[02:55:01.0000] <bblfish>
did you know that before seeing the video?

[02:56:00.0000] <Hixie>
yes, i specced <keygen>

[02:56:01.0000] <bblfish>
ah cool

[02:56:02.0000] <Hixie>
i am actually pretty familiar with this topic

[02:56:03.0000] <Hixie>
whence my jadedness

[02:56:04.0000] <bblfish>
ok. Did you see the possibility of creating on the fly client certs?

[02:56:05.0000] <bblfish>
that could be used across web sites?

[02:57:00.0000] <Hixie>
as opposed to what?

[02:57:01.0000] <Hixie>
i do understand what you're proposing

[02:57:02.0000] <bblfish>
well currently people have to go to a CA

[02:57:03.0000] <bblfish>
which is very tedious

[02:57:04.0000] <bblfish>
and costly

[02:57:05.0000] <Hixie>
how so?

[02:57:06.0000] <bblfish>
we don't require CAs

[02:57:07.0000] <Hixie>
<keygen> doesn't require CAs

[02:57:08.0000] <bblfish>
no, but until now keygen has created certs that only work for 1 web site

[02:58:00.0000] <bblfish>
I think that is the way they are usually used

[02:58:01.0000] <Hixie>
um, no?

[02:58:02.0000] <Hixie>
oh well it's often only used that way, yes

[02:58:03.0000] <Hixie>
but there's no inherent limitation

[02:58:04.0000] <bblfish>
no: no limitation in keygen. You did an excellent job

[02:58:05.0000] <bblfish>
I love keygen

[02:58:06.0000] <Hixie>
i hate it personally :-)

[02:58:07.0000] <Hixie>
had to spec it because people use it for some ungodly reason

[02:59:00.0000] <bblfish>
but the limitation is in the way Certs are used: because either they are tied to a single site, or they have to be signed by a CA - that's how people have been thinking of certs up till now

[02:59:01.0000] <bblfish>
and furthermore: there is very little flexibility in what you can put in a cert

[02:59:02.0000] <bblfish>
nobody is going to put their buddies in the cert

[03:00:00.0000] <bblfish>
or their telephone number

[03:00:01.0000] <bblfish>
etc.

[03:00:02.0000] <bblfish>
but if you go across sites that is what is important

[03:00:03.0000] <bblfish>
you want to login and have the site know something about you

[03:00:04.0000] <Hixie>
to you

[03:00:05.0000] <bblfish>
(as OpenId does)

[03:00:06.0000] <bblfish>
(with attribute exchange)

[03:00:07.0000] <Hixie>
i desperately do not want the site to know anything about me except what i tell it, personally

[03:00:08.0000] <hsivonen>
bblfish: fwiw, pretending to be a casual user, I had no idea what was going on in the video

[03:01:00.0000] <hsivonen>
bblfish: how should the user know the magic that happened is safe?

[03:01:01.0000] <bblfish>
hsivonen: It's not for a casual user, but for hackers like you

[03:01:02.0000] <hsivonen>
bblfish: how would the user know how to back up a cert like Firefox said?

[03:01:03.0000] <bblfish>
there is no need to back up the cert

[03:01:04.0000] <bblfish>
that is a firefox UI issue

[03:02:00.0000] <Hixie>
no, because anyone with the password can just generate a new one!

[03:02:01.0000] <Hixie>
security = awesome

[03:02:02.0000] <hsivonen>
Hixie: wait, what?

[03:02:03.0000] <Hixie>
hsivonen: ask him how you get a new cert if you move to another computer

[03:02:04.0000] <hsivonen>
maybe I should have followed along more carefully

[03:03:00.0000] <bblfish>
you get a new cert by having a shared secret with the identity provider. That can be a one time password, a password, something sent by sms, or whatever

[03:03:01.0000] <bblfish>
or that information could be backed up using firefox sync

[03:03:02.0000] <bblfish>
or some similar mechansim

[03:04:00.0000] <bblfish>
or if you want full protection you have a USB crypto stick

[03:04:01.0000] <Hixie>
hsivonen: basically this is just creating a much more expensive (in terms of CPU) cookie

[03:05:00.0000] <bblfish>
Hixie: TLS has the equivalent of cookies with SSL sessions

[03:05:01.0000] <Hixie>
hsivonen: (plus it provides a one-click solution to accidentally uploading your personal details to porn sites that use login)

[03:05:02.0000] <bblfish>
but the point of this is to allow you to login to new sites

[03:05:03.0000] <Hixie>
s/login/this mechanism for login/

[03:06:00.0000] <bblfish>
well that is why browsers should show the user what client cert he is using when logging into a site

[03:06:01.0000] <hsivonen>
bblfish: If this is just and expensive cookie, why is it user-visible unlike cookies?

[03:06:02.0000] <Hixie>
bblfish: it's too late by then, isn't it :-)

[03:06:03.0000] <bblfish>
cookies should also be user visible

[03:07:00.0000] <bblfish>
that is what Firefox Weave is working on http://blogs.sun.com/bblfish/entry/identity_in_the_browser_firefox

[03:07:01.0000] <Hixie>
i believe you've just gone past the edge of the local overton window

[03:07:02.0000] <bblfish>
overton?

[03:07:03.0000] <jgraham>
window

[03:07:04.0000] <Hixie>
http://en.wikipedia.org/wiki/Overton_window

[03:08:00.0000] <bblfish>
well the firefox weave people don't think that is a problem

[03:08:01.0000] <bblfish>
As I say it's a UI issue

[03:08:02.0000] <hsivonen>
bblfish: don't think what exactly is a problem?

[03:08:03.0000] <bblfish>
Aza Raskin has some very good ideas there

[03:09:00.0000] <bblfish>
well Hixie is suggesting that I went too far by suggesting that the user should be able to see the cookied

[03:09:01.0000] <bblfish>
if you look at the prototypes here: http://blogs.sun.com/bblfish/entry/identity_in_the_browser_firefox

[03:09:02.0000] <jgraham>
/me doesn't understand how the linked screenshot implies users should be able to see the cookies

[03:09:03.0000] <bblfish>
that is what the FF team is doing

[03:09:04.0000] <bblfish>
ok. You see how you can see what you are logged in as?

[03:10:00.0000] <Hixie>
i'm not saying you went too far, i'm saying that most people here think it's a crazy idea

[03:10:01.0000] <bblfish>
you can see the server you are logged in and the identity you are logged in as

[03:10:02.0000] <hsivonen>
Account Manager shows that you have logged in. it doesn't make you choose from a list of certs of cookies.

[03:10:03.0000] <jgraham>
That doesn't imply "user visible cookies" to me

[03:10:04.0000] <bblfish>
good. Of course: cookies should be tied to your identity

[03:10:05.0000] <hsivonen>
*certs or cookies

[03:11:00.0000] <bblfish>
so to show the users identity is to show indirectly the cookies

[03:11:01.0000] <bblfish>
and it will allow you to go to a site and notice that you are logged in and under what id

[03:12:00.0000] <Hixie>
what sites don't already do that?

[03:12:01.0000] <bblfish>
the sites show you. What we want is the browser to tell us. 

[03:12:02.0000] <bblfish>
so the site can't snoop

[03:12:03.0000] <Hixie>
can't snoop what? the site is the one that decised what it means to be logged in

[03:13:00.0000] <bblfish>
The browser can help for example to let you decide if you send cookies

[03:13:01.0000] <bblfish>
that is why chrome has anonymous mode

[03:13:02.0000] <bblfish>
for example

[03:14:00.0000] <Hixie>
chrome's anonymous mode is to allow you to "buy gifts for your spouse" without them finding out

[03:14:01.0000] <jgraham>
Hixie: Different anonymous mode I think

[03:14:02.0000] <Hixie>
has nothing to do with showing cookies

[03:14:03.0000] <Hixie>
wait, we have two anonymous modes?

[03:15:00.0000] <bblfish>
ah. I need to look into anonymous mode. Sorry, I had a talk about that this morning, and thought it also did cookies

[03:15:01.0000] <bblfish>
but anyway. It would be an idea

[03:15:02.0000] <jgraham>
Hixie: I man I assume the thing in Account Manager is not just the normal anonymous mode

[03:15:03.0000] <bblfish>
to be able to choose one's cookie set

[03:15:04.0000] <jgraham>
Hixie: I could be wrong, I don't really know

[03:15:05.0000] <Hixie>
i have really no idea what we're talking about any more

[03:16:00.0000] <bblfish>
in the picture here http://blogs.sun.com/bblfish/entry/identity_in_the_browser_firefox

[03:16:01.0000] <jgraham>
Oh, sorry I missed the change of topic to chrome

[03:16:02.0000] <Hixie>
i thought we were talking about having the site be able to tell the browser that the user was logged in, and for the browser to display that somewhere prominent and pretty

[03:16:03.0000] <bblfish>
it shows the user logged in as

[03:16:04.0000] <bblfish>
yes. The web site can do it. But the browser could do that in a secure way

[03:16:05.0000] <Hixie>
which doesn't add anything to do with security, it's just prettifying the current UI since each page does it differently

[03:17:00.0000] <bblfish>
Ie: depending on what your browser shows, it would or not send cookies

[03:17:01.0000] <Hixie>
cookies aren't only about being logged in

[03:17:02.0000] <bblfish>
so you could select what you want to be logged in as

[03:17:03.0000] <Hixie>
are you going to break all uses of cookies if you're not logged in?

[03:17:04.0000] <Hixie>
what if the site supports multiple simultaneous logins?

[03:17:05.0000] <bblfish>
well if you are not logged in, you get new cookies for your anonymous mode

[03:18:00.0000] <Hixie>
what if the site doesn't have a concept of user login?

[03:18:01.0000] <bblfish>
I suppose

[03:18:02.0000] <Hixie>
but uses something else?

[03:18:03.0000] <Hixie>
this is again far too confusing to ever make sense to a random user

[03:18:04.0000] <Hixie>
you really should spend more time in usability studies to get an appreciation of how far this is from how users think

[03:18:05.0000] <bblfish>
well I am not sure how the Weave team intend this to work in detail

[03:19:00.0000] <bblfish>
Aza Raskin is a UI guy

[03:19:01.0000] <bblfish>
I suppose he does see useability studies too

[03:20:00.0000] <bblfish>
with client side certs this can be just done even better. That's my argument in the blog post anywya. It would also be much simpler

[03:21:00.0000] <Hixie>
well, let me know when you get to a few million 7-day actives

[03:21:01.0000] <bblfish>
I think I won't have to ping you when it gets that far

[03:21:02.0000] <Hixie>
and i'll be happy to retract my pessimism

[03:21:03.0000] <bblfish>
pessimism should be justified. Otherwise it becomes a habit

[03:22:00.0000] <bblfish>
:-)

[03:22:01.0000] <Hixie>
i'm confident it is amply justified here, but i've already said my piece :-)

[03:23:00.0000] <Hixie>
no need to beat you over the head with it :-)

[03:23:01.0000] <bblfish>
well, my point is that there have been a few developments that you could not have forseen.

[03:23:02.0000] <bblfish>
so you will need to re-assess your pessimism

[03:24:00.0000] <Hixie>
i do not believe anything you have said so far in this conversation is new to me as far as certifications go

[03:24:01.0000] <Hixie>
certificates, even

[03:25:00.0000] <bblfish>
ah yes: did you see the potential of being able to login with one self-signed certificate to any number of sites globally, without using CAs?

[03:26:00.0000] <Hixie>
sure, there's never been a limitation there, it's just not been done before because it's not especially useful or a good idea

[03:26:01.0000] <zcorpan_>
new framing: http://www.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-01.txt

[03:26:02.0000] <bblfish>
there was no technical limitation. From the talks on the subject I give around the world, there was a psychological limitation

[03:27:00.0000] <bblfish>
relating primarly to Distinguished Names coming from X.500 and not being global identitiers

[03:27:01.0000] <Hixie>
i encourage you to give fewer talks and to spend more time getting it implemented :-)

[03:27:02.0000] <bblfish>
ie, that is the technical limitation that lead to the impossibility of the intial vision being workable

[03:28:00.0000] <bblfish>
we have implemetnations in every language http://esw.w3.org/Foaf%2Bssl

[03:28:01.0000] <Hixie>
if this is as good as you think it is, you won't need talks to get people adopting it

[03:28:02.0000] <Hixie>
they'll start adopting it before you want them to

[03:28:03.0000] <Hixie>
as is happening with html5 :-/

[03:28:04.0000] <bblfish>
the issue is psychological as I say

[03:28:05.0000] <bblfish>
but I suppose the html5 wg never meet

[03:28:06.0000] <jgraham>
zcorpan_: And now people want versioning :(

[03:29:00.0000] <bblfish>
because it's so good they don't need to?

[03:29:01.0000] <Hixie>
bblfish: the whatwg has never had a face-to-face meeting or a teleconference meeting

[03:29:02.0000] <bblfish>
well I travel, because I can too

[03:30:00.0000] <bblfish>
It's fun to travel, and I get to see the world

[03:30:01.0000] <bblfish>
discussing this with people in security has been very helpful

[03:30:02.0000] <bblfish>
email is not always the best medium

[03:31:00.0000] <bblfish>
it helps understand what their issues are. And they ALWAYS come up with the same issues

[03:31:01.0000] <zcorpan_>
hmm, -01 doesn't include Hixie's recent changes to the handshake (like subprotocol negotiation)

[03:31:02.0000] <Hixie>
oh, hey, this means i should strip out websockets from the html spec huh

[03:32:00.0000] <hsivonen>
zcorpan_: are all the relevant vendors on board with http://www.ietf.org/id/draft-ietf-hybi-thewebsocketprotocol-01.txt ?

[03:32:01.0000] <bblfish>
and they are all related to the X.500 problem in the end.

[03:32:02.0000] <zcorpan_>
Hixie: could you check with fette about your changes after -00 which don't seem to be included in -01?

[03:32:03.0000] <jgraham>
zcorpan_: No, see Ian Fette's message

[03:32:04.0000] <zcorpan_>
hsivonen: no idea

[03:33:00.0000] <Hixie>
zcorpan_: he said there wasn't consensus on them in the wg, so he wanted to discuss them first

[03:33:01.0000] <hsivonen>
I had hoped for the protocol to freeze in time for Firefox 4

[03:33:02.0000] <jgraham>
hsivonen: It isn't even clear that all the relevant vendors are *participating*

[03:34:00.0000] <jgraham>
e.g. I don't recall seeing anyone from Mozilla comment recently

[03:34:01.0000] <zcorpan_>
Hixie: ok

[03:35:00.0000] <roc>
I thought sayre was commenting

[03:35:01.0000] <Hixie>
is anyone from microsoft involved?

[03:35:02.0000] <zcorpan_>
are microsoft implementing websocket?

[03:35:03.0000] <Hixie>
they sent lots of comments a while back

[03:35:04.0000] <jgraham>
There is someone from microsoft that has commented a few times at least

[03:36:00.0000] <jgraham>
Presumably they are quietly implementing, but that is pure speculation

[03:36:01.0000] <zcorpan_>
Hixie: personally i'd prefer if you didn't nuke websockets from the html spec just yet

[03:36:02.0000] <jgraham>
roc: He at least posted some messages at the start of the month suggesting to cut scope and keep things simple

[03:37:00.0000] <jgraham>
Doesn't really seem to have worked

[03:37:01.0000] <Hixie>
zcorpan_: why?

[03:38:00.0000] <zcorpan_>
Hixie: because then i don't know where to look. -01 doesn't include the recent changes

[03:38:01.0000] <Hixie>
nor does the whatwg version

[03:38:02.0000] <Hixie>
since it doesn't have -01's stuff

[03:40:00.0000] <zcorpan_>
i guess our impl mostly matches -00 anyway

[03:40:01.0000] <jgraham>
I don't like the appearance of lots of SHOULDs in the draft

[03:41:00.0000] <jgraham>
I don't even know what some of them mean "Ping frames MAY be sent as a keep-alive mechanism, but if so the interval SHOULD be configurable.

[03:41:01.0000] <jgraham>
"

[03:41:02.0000] <jgraham>
Is that supposed to be a UI requirement?

[03:43:00.0000] <Hixie>
send feedback to the hybi list

[03:44:00.0000] <jgraham>
Sure

[03:45:00.0000] <jgraham>
Just being generally grumpy here first

[03:45:01.0000] <Hixie>
ian hasn't got much experience writing specs, so feel free to school him in proper use of rfc2119 :-)

[03:47:00.0000] <Hixie>
btw something to be careful about is checking whether terms in the ptocol spec and the api spec remain in sync

[03:47:01.0000] <Hixie>
since the two are no longer in the same document i won't get warning when i gen the spec and break xrefs

[03:48:00.0000] <Hixie>
or when ian breaks them

[03:49:00.0000] <jgraham>
Am I missing something or is the spec not clear on what happens if you get something that looks like a fragmented message but out of order

[03:49:01.0000] <bblfish>
anyway, thanks for listening Hixie. I'll go work on some more implementations in the mean time. Btw. WebId can also work with microdata

[03:50:00.0000] <jgraham>
e.g. just more=0 opcode=0

[04:22:00.0000] <hsivonen>
/me wonders how much Yellow Box for Windows has been resurrected to enable Safari and iTunes on Windows

[06:56:00.0000] <MikeSmith>
anybody know, is Anne away on vacation or something?

[06:56:01.0000] <MikeSmith>
was he around yesterday?

[06:57:00.0000] <jgraham>
MikeSmith: anne is around

[06:57:01.0000] <jgraham>
just never at the same time as you

[06:58:00.0000] <MikeSmith>
ah OK

[06:58:01.0000] <MikeSmith>
I've just been sleeping

[06:58:02.0000] <MikeSmith>
because of the summer heat

[06:58:03.0000] <MikeSmith>
I just sleep all day long

[06:58:04.0000] <MikeSmith>
and all night long

[06:59:00.0000] <KaOSoFt>
No offense, but that sounds like anything but a human.

[06:59:01.0000] <KaOSoFt>
,_,

[06:59:02.0000] <MikeSmith>
hey, it's human -- I get up for a couple hours to check my facebook wall

[06:59:03.0000] <KaOSoFt>
;_;

[07:00:00.0000] <MikeSmith>
and send mass "this is the funniest thing I have ever read" e-mail messages with big attachments to all my friends

[07:00:01.0000] <KaOSoFt>
You don't qualify to human, then.

[07:00:02.0000] <KaOSoFt>
._.

[07:01:00.0000] <MikeSmith>
watch a little youtube, make some xtranormal videos of my own, of teddy bears cursing at each other

[07:01:01.0000] <KaOSoFt>
That's... enough.

[07:01:02.0000] <KaOSoFt>
/me walks away slowly...

[07:01:03.0000] <MikeSmith>
basically, pretty much the same stuff all you all are doing

[07:01:04.0000] <MikeSmith>
the stuff the Web was designed for

[07:01:05.0000] <KaOSoFt>
/me is walking away

[07:01:06.0000] <KaOSoFt>
>_>

[07:02:00.0000] <MikeSmith>
/me yawns

[07:02:01.0000] <jgraham>
Teddy bears cursing at each other?

[07:03:00.0000] <MikeSmith>
yeah

[07:03:01.0000] <MikeSmith>
it's the funniest thing

[07:03:02.0000] <KaOSoFt>
That's where I started walking away.

[07:03:03.0000] <KaOSoFt>
Just me and my cat...

[07:03:04.0000] <MikeSmith>
you can make the little bears say anything you want

[07:03:05.0000] <jgraham>
Sounds like Adam Nad Joe

[07:03:06.0000] <jgraham>
*And

[07:04:00.0000] <MikeSmith>
http://www.xtranormal.com/

[07:04:01.0000] <MikeSmith>
you can choose characters

[07:04:02.0000] <MikeSmith>
of you're gonna choose the bears

[07:04:03.0000] <MikeSmith>
I don't know why they even bother to give other choices

[07:05:00.0000] <MikeSmith>
the bears are all that's needed

[07:05:01.0000] <jgraham>
/me was thinking more of http://www.youtube.com/watch?v=O89IEks9VPo

[07:05:02.0000] <rubys>
jgraham: any update on anolis?

[07:06:00.0000] <MikeSmith>
http://nosql.mypopescu.com/post/1016320617/mongodb-is-web-scale

[07:06:01.0000] <jgraham>
rubys: Not really. I didn;t have any time last night. Hopefully tonight I can test my changes and push them live

[07:06:02.0000] <rubys>
thanks!

[07:06:03.0000] <kbrosnan>
red: userChrome.css possibly

[07:06:04.0000] <kbrosnan>
er

[08:42:00.0000] <hsivonen>
http://hsivonen.iki.fi/test/moz/move-during-parse-parent.html

[08:43:00.0000] <hsivonen>
(crashes Chrome content process during reload)

[08:44:00.0000] <hsivonen>
interestingly, IE9 has been modified from IE8 to specifically support this crazy case

[08:44:01.0000] <hsivonen>
also, the HTML5 parser in Firefox 4 gets CSS frame construction right

[08:45:00.0000] <hsivonen>
the old parser moves the node into parent but doesn't let the CSS frame constructor know that they are there

[08:45:01.0000] <jgraham>
hsivonen: Nice test

[08:46:00.0000] <jgraham>
BTW it is theoretically possible to make tests like this (modulo the iframe but; but that could be worked around of course)

[08:46:01.0000] <jgraham>
html5lib tests

[08:46:02.0000] <jgraham>
no use to html5lib but maybe a convenient format and a good way for browser vendors to share

[08:47:00.0000] <hsivonen>
I expect Gecko to get things wrong once I add an external script and a style sheet that blocks scripts

[08:47:01.0000] <jgraham>
convenient in the sense that you already have all the machinary for specifying what the output DOM should look like

[08:52:00.0000] <zcorpan_>
jgraham: you could make the iframe src a data url, although then it's no longer convenient of course

[08:53:00.0000] <jgraham>
zcorpan_: Yeah, and you have to teach the comparison code to walk the contentDocument of the iframe

[08:53:01.0000] <jgraham>
So the case with <iframe>s is quite hard

[08:53:02.0000] <zcorpan_>
if you care about the dom of the nested document yeah

[08:53:03.0000] <hsivonen>
as predicted, Gecko fails: both old and new: http://hsivonen.iki.fi/test/moz/move-during-parse-parent2.html

[08:54:00.0000] <jgraham>
The case with scripts modifying the dom and no iframe is quite easy

[08:54:01.0000] <hsivonen>
Chromium crashes (content process)

[08:54:02.0000] <hsivonen>
as does Chrome

[08:54:03.0000] <zcorpan_>
wonder what ie9 does in xhtml

[08:54:04.0000] <hsivonen>
Opera works the same

[08:55:00.0000] <hsivonen>
IE9 doesn't run the alert

[08:55:01.0000] <jgraham>
Chromium doesn't crash for me

[08:55:02.0000] <jgraham>
Could be a differnet verion of course

[08:55:03.0000] <jgraham>
*different

[08:55:04.0000] <hsivonen>
jgraham: I have Linux 64-bit from yesterday or the day before

[08:55:05.0000] <hsivonen>
and 64-bit beta channel Chrome

[08:55:06.0000] <hsivonen>
on Linux

[08:56:00.0000] <zcorpan_>
crashes for me on reload on mac

[08:56:01.0000] <zcorpan_>
dev channel

[08:56:02.0000] <jgraham>
Oh on reload

[08:56:03.0000] <espadrine>
latest opera doesn't crash, does it?

[08:56:04.0000] <jgraham>
I though you meant this case crashed on initial load

[08:56:05.0000] <zcorpan_>
espadrine: no

[08:56:06.0000] <hsivonen>
espadrine: nope. I meant Opera runs test 2 the same as the first test

[08:56:07.0000] <jgraham>
Opera doesn't crash for me

[08:57:00.0000] <espadrine>
Indeed

[08:57:01.0000] <hsivonen>
I'm calling it a day and will fix Gecko tomorrow

[08:57:02.0000] <hsivonen>
should be easy enough for external scripts

[08:58:00.0000] <hsivonen>
and a bit more annoying for style sheets blocking scripts

[08:59:00.0000] <hsivonen>
the spec should probably say what style sheets that block scripts block when the <link> moves between documents between insertion and the completion of the style sheet load

[09:20:00.0000] <zcorpan_>
hsivonen: afaict the spec doesn't ban utf-16le, it just requires the encoding to be specified in content-type

[09:23:00.0000] <zcorpan_>
Hixie: please please please remove the :target styling or at least remove the yellow shadow

[09:24:00.0000] <espadrine>
Some browsers deal with it better than others

[09:24:01.0000] <espadrine>
Firefox goes fine

[09:24:02.0000] <zcorpan_>
my problem is that it distracts me from reading the text

[09:24:03.0000] <zcorpan_>
not a browser problem

[09:24:04.0000] <espadrine>
^^

[09:25:00.0000] <zcorpan_>
well i guess if i was using a browser without shadow support then it wouldn't be a problem

[10:05:00.0000] <tabatkins>
llrcombs: Did you ever figure out your <select multiple> issue?  The query string should be consistent across all browsers (test=1&test=2).  PHP will normally only let you at the last value, since previous values get overwritten.  The solution is to set your @name to have a [] at the end - then the PHP variable will be an array of all the values.

[10:06:00.0000] <variable>
which leads to some fascinating security issues if you don't expect an array btw ;)

[10:09:00.0000] <mike][inq>
*security* issues?

[10:11:00.0000] <variable>
mike][inq, if in PHP you attempt to read variable that you thought was a scalar but really was an array - you can get into some nasty issues

[10:11:01.0000] <variable>
espically if you use splicing to operating on "one" character at a time

[10:12:00.0000] <variable>
$_GET["foo"][0]; // I thought this was a string and I was getting the first character but I'm really getting an array

[10:12:01.0000] <mike][inq>
so you should probably validate your input

[10:13:00.0000] <mike][inq>
doesn't sound like a security issue, though

[10:13:01.0000] <variable>
mike][inq, can lead to - doesn't mean it always is one

[10:13:02.0000] <variable>
mike][inq, I've seen one issue where someone validated their input by going through each character and checking to make sure it was an allowed character at that point.... but it failed when passed an array

[11:58:00.0000] <annevk>
defined CharacterData methods

[11:58:01.0000] <annevk>
what a bunch of useless methods by the way

[11:58:02.0000] <annevk>
make no sense at all in ECMAScript context

[12:07:00.0000] <Ms2ger>
Yay Acid3

[12:07:01.0000] <smaug____>
annevk: defined where? and why do they not make sense in ECMAScript context? (just wondering :) )

[12:08:00.0000] <smaug____>
Ms2ger: ?

[12:09:00.0000] <smaug____>
/me is just fixing an ACID 3 bug

[12:09:01.0000] <smaug____>
/me hopes that ACID 3 would tests things only the way they are defined in the specs :p

[12:11:00.0000] <annevk>
smaug____, http://bitbucket.org/ms2ger/web-dom-core/

[12:11:01.0000] <annevk>
smaug____, insertData, replaceData, etc. are all not needed and seem kind of pointless if you have immutable strings

[12:12:00.0000] <smaug____>
annevk: but if you just want to change textnode without replacing them...

[12:12:01.0000] <smaug____>
textnodes

[12:12:02.0000] <annevk>
you can just assign data, no?

[12:13:00.0000] <annevk>
I suppose implementations can have some special kind of string for text nodes that is mutable...

[12:13:01.0000] <smaug____>
implementations could optimize things...

[12:14:00.0000] <smaug____>
like not re-generate all the lines

[12:14:01.0000] <smaug____>
only the ones which changed

[12:14:02.0000] <annevk>
sure

[12:14:03.0000] <annevk>
they could also do that if the entire string changed

[12:14:04.0000] <smaug____>
sure

[12:14:05.0000] <annevk>
but is that what Mozilla does?

[12:14:06.0000] <annevk>
it has special optimizations for these methods that nobody uses?

[12:15:00.0000] <smaug____>
it has some optimizations 

[12:15:01.0000] <smaug____>
apparently 

[12:15:02.0000] <smaug____>
just looking at the code

[12:16:00.0000] <smaug____>
it does search for the first rendering object which needs to be changed

[12:16:01.0000] <smaug____>
hmm

[12:16:02.0000] <annevk>
o_O

[12:17:00.0000] <annevk>
I have to go now, but if you're interested in helping out writing tests for the Web DOM Core project let me know

[12:17:01.0000] <annevk>
I'll email public-webapps when I have some more time to write the whole idea down

[12:17:02.0000] <smaug____>
I mean it doesn't remove and recreate all the objects related to text layout

[13:14:00.0000] <Hixie>
zcwhat? the :target styling is awesome! makes it really easy to tell what you're supposed to look at!

[13:14:01.0000] <Hixie>
er, that was supposed to be "zcorpan: what?" but zcorpan is gone

[13:14:02.0000] <Hixie>
oh well

[13:39:00.0000] <AryehGregor>
Why do people use the term "regrets" to mean "could not attend"?

[13:39:01.0000] <AryehGregor>
It vaguely annoys me.

[13:39:02.0000] <AryehGregor>
Seems like unnecessary jargon.

[13:40:00.0000] <gavin>
they regret not being able to attend

[13:48:00.0000] <AryehGregor>
Well, I get the etymology.

[13:49:00.0000] <Philip`>
What term do you suggest using instead?

[13:50:00.0000] <AryehGregor>
In the case I was looking at, there was a list of "Attending" and "Regrets".  I would have said "Attending" and "Not attending".

[13:50:01.0000] <AryehGregor>
/me can be picky about language, but guesses that's true of most programmers.

[13:50:02.0000] <AryehGregor>
Another random gripe: why do the HTMLWG and CSSWG often have e-mail subject lines containing an issue number, without any summary of what the issue is about?  Are we supposed to memorize all the issue numbers?

[13:52:00.0000] <Philip`>
"Not attending" seems misleading, unless you want to put seven billion people in the list

[13:52:01.0000] <Philip`>
You need something to express that someone would have attended but didn't

[13:53:00.0000] <Steve^>
assuming you regret it

[13:54:00.0000] <AryehGregor>
It's clear that the latter list only includes people whose non-attendance could not have been taken for granted a priori.

[13:54:01.0000] <AryehGregor>
Steve^, you can be polite and say you regret it if you don't, I don't mind that part.

[14:08:00.0000] <AryehGregor>
"If the IANA registry were hard to use because its servers went down on a monthly basis due to being struck by meteors because a former IANA executive was the subject of a gypsy curse, it would still be hard to use, and we would want to look for alternatives."

[14:08:01.0000] <AryehGregor>
I like colorful phrasing like that, don't you?

[14:13:00.0000] <Philip`>
So if I understand you right, we should blame gypsies for the status of image/svg+xml?

[14:14:00.0000] <AryehGregor>
That's one possible interpretation.

[14:54:00.0000] <jgraham>
Hixie: The :target styling makes it look vaugely like someone vomited on the part of the page that you want to look at

[14:55:00.0000] <jgraham>
Which is one way of drawing attention to it, but perhaps not the best one

[15:02:00.0000] <AryehGregor>
Yeah, target styling in the spec is really ugly.

[15:04:00.0000] <espadrine>
Kind of like the blinking tag... flashy.

[15:05:00.0000] <espadrine>
But I do like the idea of "knowing immediately where to look"

[15:06:00.0000] <espadrine>
Maybe a black border 2px wide would be enough for that

[15:14:00.0000] <AryehGregor>
It would possibly be less annoying if it were a solid color.

[15:37:00.0000] <Hixie>
jgraham: does it look different in opera or something? looks fine in chrome and firefox...

[15:42:00.0000] <AryehGregor>
Hixie, by "fine" do you mean "an ugly yellow haze surrounding some part of the page for no obvious reason"?

[15:42:01.0000] <AryehGregor>
(It took me quite a while to figure out it was :focus.)

[15:43:00.0000] <Hixie>
i'm certainly open to better ideas, but i have to say i really like it

[15:43:01.0000] <Hixie>
it's like a spotlight

[15:43:02.0000] <Hixie>
it's been massively helpful for me

[15:43:03.0000] <AryehGregor>
I'd go with a paler color and ditch the blur.

[15:44:00.0000] <AryehGregor>
/me experiments

[15:44:01.0000] <AryehGregor>
Ditch the text-shadow for sure.

[15:45:00.0000] <espadrine>
black 2px border, maybe?

[15:45:01.0000] <AryehGregor>
I think it would look much better if you got rid of the text-shadow, and either got rid of or massively toned down the box-shadow.

[15:45:02.0000] <AryehGregor>
I think a border would interfere.

[15:46:00.0000] <espadrine>
Maybe a yellow background-color is enough

[15:46:01.0000] <AryehGregor>
That's my vote, yeah.

[15:46:02.0000] <AryehGregor>
Just change the background.

[15:46:03.0000] <AryehGregor>
/me is looking at that right now, much better

[15:46:04.0000] <AryehGregor>
The text-shadow is particularly hideous.

[15:46:05.0000] <Hixie>
how are you even seeing the text-shadow

[15:46:06.0000] <Hixie>
i only used that to make the colours work better

[15:47:00.0000] <AryehGregor>
It looks like an ugly blur around all the text.

[15:47:01.0000] <AryehGregor>
It looks way crisper if I ditch it.

[15:47:02.0000] <AryehGregor>
Also, the shadow doesn't match the color of the background.  Shadow is yellow, background is #FFA.

[15:47:03.0000] <AryehGregor>
There's a clear boundary between them.

[15:47:04.0000] <AryehGregor>
I vote we enlist an actual designer.

[15:47:05.0000] <jgraham>
Also, the yellow and green are a bit much

[15:47:06.0000] <AryehGregor>
/me lassos tabatkins 

[15:48:00.0000] <AryehGregor>
What green?  Should I be thankful I'm not seeing any green?

[15:48:01.0000] <jgraham>
Dude he is like a cowboy

[15:48:02.0000] <jgraham>
The green of the rest of the page

[15:48:03.0000] <AryehGregor>
Oh.

[15:48:04.0000] <jgraham>
/me assumes all people from Texas are naturally born cowboy even if they have never left the city

[15:48:05.0000] <AryehGregor>
The rest of the page is mostly black on white, so I think it's okay.

[15:49:00.0000] <AryehGregor>
/me agrees with jgraham 

[15:49:01.0000] <AryehGregor>
/me always treats his friends from Kansas like that, even though they're from Kansas City, which has a population >1 million

[15:49:02.0000] <cheeser>
that's a big farm...

[15:50:00.0000] <AryehGregor>
(To be fair to me, they do have broken cars sitting on their untrimmed lawn all the time, plus an unhealthy interest in firearms and explosives, and other distinguishing features of rubes.)

[16:51:00.0000] <Philip`>
http://code.google.com/edu/ajax/tutorials/intro-to-js.html

[16:51:01.0000] <Philip`>
http://code.google.com/edu/ajax/tutorials/samples/dhtmltest.html

[16:51:02.0000] <Philip`>
What century was this written in?

[16:52:00.0000] <Philip`>
At least they've been thoughtful enough to handle the case of browsers that don't implement document.getElementById


2010-09-03
[23:58:00.0000] <annevk>
yay for simplified HTML

[23:58:01.0000] <annevk>
euh, XBL

[23:58:02.0000] <annevk>
guess I should read that

[00:42:00.0000] <annevk>
Hixie, do you care about oversights?

[00:42:01.0000] <annevk>
Hixie, e.g. XBLContentElement should be HTMLContentElement

[00:47:00.0000] <Hixie>
annevk: yeah... mail me what you see

[00:47:01.0000] <Hixie>
annevk: i have like 200 e-mails of feedback I haven't yet looked at

[00:47:02.0000] <Hixie>
annevk: before i actually go and fix the problems i want to see how much people like the simplified stuff

[00:49:00.0000] <annevk>
yeah, I wonder if we can simplify it even more

[00:50:00.0000] <Hixie>
we definitely can, the question is can we simplify it more without losing use cases

[00:51:00.0000] <annevk>
fwiw, I like it, but I also liked the original

[01:00:00.0000] <Hixie>
yeah

[01:01:00.0000] <Hixie>
the new one has some annoying problems

[01:01:01.0000] <Hixie>
problems which are why we didn't do it in html in the first place

[01:01:02.0000] <Hixie>
like you can't make a binding for <select>, say

[01:01:03.0000] <Hixie>
becaue <template> would always be "in body"

[01:02:00.0000] <annevk>
what if we made <template> act like a foreign land container except elements would still be in the HTML namespace?

[01:02:01.0000] <annevk>
or maybe do that for binding

[01:20:00.0000] <annevk>
ooh

[01:20:01.0000] <annevk>
Ian Fette has not added versioning

[01:20:02.0000] <annevk>
it was just proposed by Greg Wilkins

[01:20:03.0000] <annevk>
pfew

[01:20:04.0000] <zcorpan_>
Hixie: you can keep the background color, it's the shadow that disturbs me

[01:20:05.0000] <zcorpan_>
where's this xbl simplified you guys are talking about?

[01:21:00.0000] <annevk>
on the interwebs

[01:21:01.0000] <annevk>
http://dev.w3.org/2006/xbl2/Overview.html

[01:22:00.0000] <zcorpan_>
Xenogamous? heh

[01:24:00.0000] <hsivonen>
ooh. ooh. XBL being edited again!

[01:25:00.0000] <hsivonen>
hooray

[01:26:00.0000] <hsivonen>
I like the yellow halo on :target

[01:26:01.0000] <annevk>
hmm, he is supporting the Sec-WebSocket-Draft: 01 proposal

[01:27:00.0000] <annevk>
something like that just leaves everything wide open to be debated forever

[01:36:00.0000] <zcorpan_>
wait does xbl now use the html parser?

[01:36:01.0000] <nessy>
has anyone implemented xbl yet?

[01:40:00.0000] <nessy>
xbl2 that is

[01:40:01.0000] <annevk>
no

[01:40:02.0000] <annevk>
zcorpan_, that is the idea

[01:40:03.0000] <annevk>
zcorpan_, it would be integrated with HTML

[01:40:04.0000] <zcorpan_>
cool

[01:41:00.0000] <annevk>
http://dev.w3.org/2006/xbl2/Overview.html#editors-note

[01:41:01.0000] <zcorpan_>
yeah just read that

[01:43:00.0000] <hsivonen>
nice

[01:44:00.0000] <hsivonen>
Hixie: are you also going to make XBL2 not require any synchronous IO?

[01:44:01.0000] <Hixie>
annevk: then you couldn't just copy and paste HTML into a template, because (e.g.) implied tags wouldn't work

[01:44:02.0000] <Hixie>
hsivonen: loadBindingDocument() is no longer sync

[01:45:00.0000] <Hixie>
that was one of the changes... see the spec, there's a list of changes

[01:45:01.0000] <hsivonen>
Hixie: is all loading defined in terms of it?

[01:45:02.0000] <Hixie>
none of the other loading was ever synchronous, it just blocked parsing

[01:45:03.0000] <hsivonen>
Hixie: blocked parsing on arbitrary elements?

[01:45:04.0000] <Hixie>
not as far as i'm aware

[01:45:05.0000] <Hixie>
see the spec

[01:46:00.0000] <hsivonen>
Hixie: which elements can block parsing?

[01:46:01.0000] <Hixie>
none as far as i'm aware

[01:46:02.0000] <Hixie>
seriously, read the spec

[01:46:03.0000] <Hixie>
it's been years since i've been up to date with xbl

[01:47:00.0000] <Hixie>
and my changes were just me going once down the spec deleting text

[01:47:01.0000] <hsivonen>
last time I read it there was scary stuff

[01:47:02.0000] <Hixie>
it still is :-)

[01:47:03.0000] <Hixie>
though less so, since there's less stuff

[01:48:00.0000] <hsivonen>
Hixie: btw, "style sheet blocking scripts" is annoying

[01:48:01.0000] <hsivonen>
since "style sheet-blocking scripts" would mean totally the opposite

[01:49:00.0000] <hsivonen>
"style sheet that is blocking scripts" would be clearer

[01:49:01.0000] <hsivonen>
can't tell what AddStyleSheetBlockingScripts() adds

[01:51:00.0000] <Hixie>
file a bug

[01:52:00.0000] <Hixie>
i treat these terms as opaque personally

[01:52:01.0000] <Hixie>
i'd be equally happy calling them 0x000 0x001 0x002 0x003 etc

[01:52:02.0000] <Hixie>
sometimes coming up with terms is just a pain in the neck

[01:52:03.0000] <Hixie>
one of the worst cases being "value"

[01:52:04.0000] <Hixie>
which has about 4 different meanings just for the <input> element

[01:56:00.0000] <nessy>
lol

[01:57:00.0000] <nessy>
getting terminology right is hard - and then you end up with a <summary> element ...

[01:57:01.0000] <Ms2ger>
Hixie, the next time people complain that HTML is hard to read, I'll point them at that comment :)

[01:57:02.0000] <Hixie>
heh

[01:58:00.0000] <zcorpan_>
where's the websocket -00 draft? or does someone know when it was generated?

[01:58:01.0000] <Hixie>
"you think this is hard to read? just think how bad I *could* have made it!"

[01:58:02.0000] <annevk>
Hixie, ah I see

[01:59:00.0000] <Ms2ger>
"Append 0x007 to 0x003 and return 0x000."

[01:59:01.0000] <annevk>
zcorpan_, http://tools.ietf.org/html/draft-ietf-hybi-thewebsocketprotocol-00

[01:59:02.0000] <annevk>
zcorpan_, http://tools.ietf.org/html/websocket lists various documents (substring search)

[02:00:00.0000] <zcorpan_>
thanks

[02:02:00.0000] <Hixie>
ok nn

[02:02:01.0000] <Ms2ger>
Also, Hixie, you should call it WebBL instead

[02:03:00.0000] <annevk>
hyatt vetoed WBL -- pronounced wibble

[02:04:00.0000] <annevk>
but if we make it a true part of HTML we should just get rid of XBL altogether, except in prose and funny examples

[02:12:00.0000] <hsivonen>
Why did hyatt veto it? W is the new X.

[02:12:01.0000] <annevk>
dunno, was a long time ago

[02:12:02.0000] <hsivonen>
or rather, "Web" is the new X

[02:12:03.0000] <annevk>
prolly because he minted the name

[02:13:00.0000] <hsivonen>
WebBL

[02:13:01.0000] <annevk>
but it doesn't really matter if it's integrated with HTML

[02:13:02.0000] <espadrine>
And "Xenogamous" feels like a big joke!

[02:14:00.0000] <annevk>
what's wrong with jokes?

[02:15:00.0000] <hsivonen>
"HTML5 Bindings"

[02:15:01.0000] <espadrine>
Spices up the reading of the spec with laughter, no harm done...

[02:15:02.0000] <MikeSmith>
espadrine: X is the secret ingredident in the web-scale sauce

[02:16:00.0000] <annevk>
X is from generation X ;p

[02:16:01.0000] <MikeSmith>
I think XBL2 needs shards

[02:16:02.0000] <MikeSmith>
because shards make everything better

[02:17:00.0000] <annevk>
heh

[02:17:01.0000] <espadrine>
Shards are cutting-edge technology!

[02:18:00.0000] <MikeSmith>
I've now replaced all my transaction support with shards

[02:18:01.0000] <MikeSmith>
because shards trump everything

[02:19:00.0000] <MikeSmith>
just as I am now systematically rewriting all my old crappy PHP apps with new crappy node.js ones

[02:33:00.0000] <annevk>
Ms2ger, test runner does not work in Opera?

[02:34:00.0000] <Ms2ger>
It should

[02:34:01.0000] <Ms2ger>
It might take a while, though

[02:34:02.0000] <annevk>
http://bitbucket.org/ms2ger/dom-range ?!

[02:34:03.0000] <annevk>
you should really make some kind of overview page :)

[02:35:00.0000] <Ms2ger>
annevk, http://bitbucket.org/ms2ger/ :)

[02:43:00.0000] <jgraham>
Ms2ger: It would be pretty nice if we could port your tests to use the same harness as all the other tests

[02:43:01.0000] <Ms2ger>
Is there a standard one now?

[02:44:00.0000] <jgraham>
"standard"

[02:44:01.0000] <jgraham>
it seems to be what we are using for the HTML testsuite at least

[02:46:00.0000] <jgraham>
Ms2ger: http://dvcs.w3.org/hg/html/file/9ae7a792e141/tests/resources/testharness.js

[02:46:01.0000] <jgraham>
I am responsible for the bugs and missing features in that harness

[02:48:00.0000] <Ms2ger>
I'll look at it

[03:05:00.0000] <annevk>
Ms2ger, fwiw, I'm planning to rewrite the DOM Core tests to use that harness as well

[03:06:00.0000] <annevk>
Ms2ger, it would remove a bunch of duplication and improve the error reporting significantly

[03:32:00.0000] <hsivonen>
I wonder if parser-inserted scripts that have been moved to a new document should run with the window object of the new doc or with the window object of the old doc (for security)

[03:33:00.0000] <hsivonen>
whether the script is permitted to run makes sense to check in the context of the old doc

[03:34:00.0000] <hsivonen>
it seems iffy to execute anything in the context of something else

[03:34:01.0000] <hsivonen>
but IE9 PP executes in the context of the new document (if at all)

[03:35:00.0000] <hsivonen>
Chrome executes in the context of the old doc

[03:39:00.0000] <zcorpan_>
"This also means that the script's global object is the outer browsing context's Window object, not the Window object inside the iframe." -- http://www.whatwg.org/specs/web-apps/current-work/complete/the-end.html#scripts-that-modify-the-page-as-it-is-being-parsed

[03:40:00.0000] <hsivonen>
zcorpan_: yeah, but I'm doubting if that's a good idea in terms of security

[03:41:00.0000] <zcorpan_>
"Note: This isn't a security problem since the script that moves the div into the outer Document can only do so because the two Document object have the same origin."

[03:41:01.0000] <hsivonen>
can it be proven that if a script were permitted to run in the context of the parser-associated document, it's always OK to let it run in the context of another document if whatever moved it there was permitted the move it there?

[03:42:00.0000] <hsivonen>
zcorpan_: what if the two documents have different Content Security Policies or some other thingies that restrict things further than Same Origin?

[03:43:00.0000] <annevk>
what other things?

[03:43:01.0000] <annevk>
there doesn't seem much agreement on CSP yet either

[03:43:02.0000] <zcorpan_>
i don't know anything about CSP, so dunno

[03:43:03.0000] <annevk>
e.g. abarth thinks most of it is not needed

[03:43:04.0000] <zcorpan_>
i don't mind changing the spec though

[03:44:00.0000] <hsivonen>
I know next to nothing about CSP, so I have no opinion on whether it is needed. However, if we ship it, I don't want to be the person who made it not do what it was advertised to do.

[04:22:00.0000] <hsivonen>
hmm. If I send email about the script evaluation context, where should I send it?

[04:22:01.0000] <hsivonen>
sending it to whatwg would exclude Microsoft

[04:23:00.0000] <annevk>
cc adrian?

[04:23:01.0000] <hsivonen>
but sending it to public-html would risk it getting lost among other emails

[04:23:02.0000] <annevk>
and Microsoft is on the WHATWG list

[04:23:03.0000] <hsivonen>
well, WHATWG list it is

[04:28:00.0000] <jgraham>
s/about script evaluation context/with any technical feedback/ :(

[04:46:00.0000] <hsivonen>
Hixie: did you examine Gecko or WebKit as a white box when speccing script execution?

[05:35:00.0000] <zcorpan_>
smoke signal-based browser, would be cool

[05:35:01.0000] <zcorpan_>
/me is a bit behind on email

[05:36:00.0000] <jgraham>
zcorpan_: ??

[05:38:00.0000] <zcorpan_>
an email from hixie from 29 july mentioned that browsers could be based on smoke signals

[05:39:00.0000] <zcorpan_>
Hixie: didn't whatwg emails have an archived-at header at some point?

[05:40:00.0000] <hsivonen>
the whatwg archives are sad. the charset sniffing limit had to grow mainly because it's too hard to get Dreamhost to fix their Apache

[05:41:00.0000] <zcorpan_>
from 512 to 1024?

[05:44:00.0000] <hsivonen>
zcorpan_: yeah

[05:51:00.0000] <annevk>
zcorpan_, no Archived-At header no

[05:51:01.0000] <annevk>
zcorpan_, I had this idea to make a script at some point, but that never happened

[05:52:00.0000] <annevk>
maybe we should apply for http://w3.markmail.org/

[05:52:01.0000] <zcorpan_>
i'd like whatwg emails to have archived-at (and a pony)

[05:52:02.0000] <annevk>
i'd like them to have stable URLs for starters

[05:54:00.0000] <annevk>
smaug____, yt?

[05:55:00.0000] <smaug____>
yes

[05:55:01.0000] <annevk>
smaug____, Firefox does not associate form controls not in the DOM with a form attribute with forms in the Document

[05:55:02.0000] <annevk>
smaug____, the spec does require that afaict

[05:55:03.0000] <smaug____>
volkmar: ^^

[05:56:00.0000] <annevk>
e.g. you do input = document.createElement("input"); input.form = "x"; and in the Document you have <form id=x>; input.form should give you that form

[05:56:01.0000] <smaug____>
annevk: do you know why the draft requires that?

[05:56:02.0000] <annevk>
there's just no check for in Documentness

[05:57:00.0000] <smaug____>
annevk: also, does form.element contain the created element?

[05:57:01.0000] <smaug____>
apparently no

[05:57:02.0000] <smaug____>
so the API is rather strange

[05:58:00.0000] <annevk>
maybe email the list?

[05:58:01.0000] <annevk>
i gotta go

[06:15:00.0000] <espadrine>
Am I wrong, or doesn't the latest Minefield have insertAdjacentHTML built-in?

[06:16:00.0000] <jgraham>
Too many negatives error

[06:16:01.0000] <jgraham>
iirc gecko has previously not supported insertAdjacentHTML

[06:16:02.0000] <jgraham>
I don't know if you are saying that now it does or that it still doesn't

[06:17:00.0000] <espadrine>
jgraham: sorry, I meant 'I am surprised that it still doesn't'!

[06:20:00.0000] <smaug____>
espadrine: you should file a bug report

[06:21:00.0000] <espadrine>
Maybe there is one already? I'm looking it up.

[06:21:01.0000] <smaug____>
there isn't

[06:21:02.0000] <smaug____>
I just looked at

[06:21:03.0000] <smaug____>
or, there isn't valid one

[06:21:04.0000] <smaug____>
because insertAdjacentHTML used to be IE only thing

[06:21:05.0000] <smaug____>
based on lack of bug reports it seems like insertAdjacentHTML is very rarely used

[06:22:00.0000] <smaug____>
or that js libraries have some helper methods for gecko

[06:25:00.0000] <zcorpan_>
regarding websrt, we could use innerHTML but say that conforming content is only allowed to use <b> <i> and <ruby> (for non-web reusability)

[06:25:01.0000] <jgraham>
zcorpan_: Would you realisticly expect that to have any effect?

[06:29:00.0000] <zcorpan_>
maybe not

[06:30:00.0000] <zcorpan_>
but with the current setup people will just use the metadata kind if they want to use other elements, which isn't much better

[06:30:01.0000] <zcorpan_>
we can always extend the list of allowed elements when we see what people use

[06:36:00.0000] <hsivonen>
when Web content says the encoding is EUC-JP or ISO-2022-JP, are browsers supposed to use the ISO mapping tables or the tables that have been modified for Windows-31J as when Web content says Shift_JIS?

[06:40:00.0000] <cyberix>
I wrote a simple application which is able to send some binary data as the body of an http POST request

[06:40:01.0000] <hsivonen>
smaug____: recently, I've seen Prototype, Firebug and Outlook Web App work around the lack of insertAdjacentHTML by using createContextualFragment

[06:40:02.0000] <cyberix>
http://www.cs.helsinki.fi/u/twruottu/testi/bpost.html

[06:40:03.0000] <cyberix>
It requires the user to download a file and upload it back by dragging it back to the browser

[06:40:04.0000] <cyberix>
but this is afaik the best way to do this at the moment

[06:40:05.0000] <hsivonen>
which is sad, because we could optimize insertAdjacentHTML the same way innerHTML is now optimized

[06:41:00.0000] <hsivonen>
and createContextualFragment confuses people

[06:41:01.0000] <hsivonen>
since the context is passed in a goofy way

[06:41:02.0000] <hsivonen>
because the method is on Range and not on Element

[06:44:00.0000] <jgraham>
Latest message to HyBi is interesting. Hasn't made it to the archives yet but might be http://www.ietf.org/mail-archive/web/hybi/current/msg04029.html eventually

[06:44:01.0000] <jgraham>
Mozilla plan to either not ship in Fx4 or ship in "a clearly for-experiment-only namespace"

[06:45:00.0000] <jgraham>
Dunno quite what that means

[06:45:01.0000] <jgraham>
Maybe add "moz" to the front of lots of the API bits

[06:45:02.0000] <jgraham>
Although ironically the API is the one thing that is likely to be stable

[06:54:00.0000] <jgraham>
(message is in the archives now)

[07:02:00.0000] <hsivonen>
speaking of createContextualFragment, Opera might want to clone https://bugzilla.mozilla.org/show_bug.cgi?id=585819

[07:14:00.0000] <espadrine>
We will have neither insertAdjacentHTML nor outerHTML in Fx4.

[07:14:01.0000] <espadrine>
Johnny Stenback says, 'This won't happen for Firefox 4 unless someone steps up to own this. Not blocking.'

[07:14:02.0000] <hsivonen>
bug# ?

[07:14:03.0000] <espadrine>
https://bugzilla.mozilla.org/show_bug.cgi?id=92264

[07:14:04.0000] <hsivonen>
thanks

[10:31:00.0000] <Philip`>
http://www.itworldcanada.com/news/opinion-disband-the-itu-t-ipv6-group/141380-pg1 - hooray for XML

[10:31:01.0000] <Philip`>
(In Opera I get a parse error)

[10:31:02.0000] <Philip`>
(Hmm, looks like it's text/html in Firefox)

[10:52:00.0000] <cyberix>
It seems that xhr2.send(Blob) has been replaced with xhr2.send(ByteArray)

[10:52:01.0000] <cyberix>
has ByteArray been defined somewhere?

[11:21:00.0000] <espadrine>
Do we have a constructor for the video element?

[11:22:00.0000] <espadrine>
I don't see it in the spec, and it seems unimplemented...

[11:22:01.0000] <Philip`>
espadrine: document.createElement('video')

[11:22:02.0000] <Philip`>
I don't believe there's an equivalent of "new Audio()"

[11:22:03.0000] <tabatkins>
There isn't.

[11:22:04.0000] <espadrine>
Ah, ok.

[11:23:00.0000] <espadrine>
Do you know why?

[11:23:01.0000] <Philip`>
I assume because it's useful to play audio without doing any DOM interaction

[11:23:02.0000] <Philip`>
whereas there's no point using video unless you put it in the DOM

[11:24:00.0000] <Philip`>
(Useful for things like sound effects in games)

[11:24:01.0000] <espadrine>
I admit that video is less often scripted...

[12:12:00.0000] <AryehGregor>
Isn't http://ie.microsoft.com/testdrive/HTML5/DOMCapabilities/Default.html the kind of test that IE developers have publicly said is not a reasonable kind of test because it doesn't test whether all the details of the implementation are correct?

[12:14:00.0000] <annevk>
you should probably add a link for "have publicly said"

[12:14:01.0000] <AryehGregor>
I would, but I'm lazy.

[12:15:00.0000] <AryehGregor>
It was in some post where they were saying how amazing it was that they passed 100% of the tests they wrote for the W3C, and were trying to downplay the important of sites like html5test.com.

[12:15:01.0000] <annevk>
cyberix, there's send(Blob)

[12:15:02.0000] <AryehGregor>
Pretty sure it was in an actual blog post, might have been in a [MSFT] comment.

[12:15:03.0000] <annevk>
oh yeah

[12:16:00.0000] <annevk>
I recall something like that

[12:17:00.0000] <AryehGregor>
It's a totally legitimate point, of course.  Tests like Acid3 are pretty broken.

[12:17:01.0000] <AryehGregor>
They encourage vendors to implement some bare minimum of functionality that makes the test pass but isn't actually useful.

[12:17:02.0000] <AryehGregor>
Which breaks feature-testing and is evil.

[12:18:00.0000] <annevk>
Acid3 has taught us a bunch of things

[12:18:01.0000] <annevk>
I hope

[12:18:02.0000] <Hixie>
yes

[12:19:00.0000] <Hixie>
acid tests in general are helpful (would microsoft have even tried to do DOM Events without Acid3?), I think, but they are certainly only one part of a balanced diet

[12:22:00.0000] <annevk>
agreed, with lessons I meant testing for things that actually ought to have been removed from the platform (or changed drastically)

[12:23:00.0000] <annevk>
still a bit too much "unimplemented specs are nevertheless correct"

[12:23:01.0000] <annevk>
but I think we have a decent set of people now that will ensure that will not happen again that fast

[12:25:00.0000] <Hixie>
yeah i made a bunch of mistakes like that in acid3

[12:25:01.0000] <Hixie>
i have a file somewhere listing my mistakes so i can remember them for acid4 :-)

[12:25:02.0000] <annevk>
heh, I should do that too

[12:29:00.0000] <volkmar>
annevk: hey, about your discussion with smaug later

[12:30:00.0000] <volkmar>
you were talking about form elements association

[12:30:01.0000] <volkmar>
don't understand whit was the problem

[12:31:00.0000] <smaug____>
volkmar: and I commented that it is rather 

[12:31:01.0000] <smaug____>
er

[12:31:02.0000] <volkmar>
?

[12:32:00.0000] <smaug____>
volkmar: based on the draft,  if form attribute is set, the owner form should point to the form element even if the input element isn't in document

[12:33:00.0000] <volkmar>
that sounds insane

[12:33:01.0000] <smaug____>
volkmar: and I commented that it is rather strange API, that not-in-document element points to form, but .elements in form don't point to that

[12:34:00.0000] <volkmar>
and that's inconsistant

[12:34:01.0000] <volkmar>
label @for attribute required the element to be in the same document

[12:34:02.0000] <annevk>
that's how it works in Opera anyway

[12:35:00.0000] <annevk>
same document is that ownerdocument wise?

[12:36:00.0000] <annevk>
anyways, i don't mind the spec changing

[12:39:00.0000] <volkmar>
smaug____: did you find the part in the spec saying that .form should return the form element even if not in document ?

[12:39:01.0000] <smaug____>
volkmar: it is somewhere there

[12:39:02.0000] <smaug____>
not said explicitly 

[12:41:00.0000] <smaug____>
volkmar: if you follow the steps to set form owner, you notice that the element doesn't need to be in document

[12:49:00.0000] <volkmar>
smaug____: can't found it, i'm obviously too stupid :(

[12:50:00.0000] <smaug____>
volkmar: somewhere here http://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#attr-fae-form

[12:51:00.0000] <volkmar>
yeah, i was looking to that

[14:32:00.0000] <GPHemsley>
/me wonders what browser vendor is not on the WHATWG list

[14:32:01.0000] <Hixie>
Microsoft

[14:33:00.0000] <Hixie>
is probably the one being talked about

[14:33:01.0000] <Hixie>
(there's of course also lots of smaller players who aren't on the list)

[14:34:00.0000] <GPHemsley>
right... but isn't Microsoft on the list?

[14:34:01.0000] <GPHemsley>
I recall reading stuff from them once

[14:34:02.0000] <Hixie>
microsoft policy is not to participate on the whatwg list

[14:34:03.0000] <Hixie>
they do have some people who are subscribed and some have participated in the past

[14:34:04.0000] <Hixie>
but they fear the lack of a patent policy

[14:34:05.0000] <Hixie>
(not an entirely unreasonable position)

[14:35:00.0000] <GPHemsley>
for the entirety of the WHATWG work?

[14:36:00.0000] <Hixie>
not sure what you're asking

[14:37:00.0000] <GPHemsley>
I was trying to clarify your point about the lack of a patent policy

[14:38:00.0000] <Hixie>
The concern that they have conveyed to me is regarding the lack of a patent policy of any kind with respect to the WHATWG effort.

[14:38:01.0000] <Hixie>
it's a concern that is mostly academic at this point since most of the content is also published by the W3C under their patent policy.

[14:54:00.0000] <AryehGregor>
I assume lawyers won't like the "most".

[14:58:00.0000] <Hixie>
that's not really a whatwg-specific problem. e.g. none of the WebSocket protocol stuff at the IETF is under a patent policy worth anything.

[14:58:01.0000] <Hixie>
but yes

[15:01:00.0000] <GPHemsley>
and what exactly the fear of?

[15:01:01.0000] <GPHemsley>
+is

[15:02:00.0000] <Hixie>
someone participating in the project (e.g. google) patenting something that then becomes part of the spec, getting microsoft to implement it, and then suing for patent infringement

[15:02:01.0000] <GPHemsley>
ah

[15:02:02.0000] <GPHemsley>
yeah, that's scary

[15:02:03.0000] <GPHemsley>
</3 software patents

[15:02:04.0000] <Hixie>
not really

[15:02:05.0000] <Hixie>
but it's something the w3c patent policy solves

[15:02:06.0000] <GPHemsley>
what's it say?

[15:03:00.0000] <GPHemsley>
and, more importantly, why doesn't WHATWG have one?

[15:03:01.0000] <Hixie>
that you can't sue other participants, basically

[15:03:02.0000] <Hixie>
making a patent policy is years of lawyer work

[15:03:03.0000] <Hixie>
and nobody has cared enough to do the work

[15:03:04.0000] <GPHemsley>
why not just "nothing here is patentable"

[15:03:05.0000] <GPHemsley>
boom, done

[15:03:06.0000] <Hixie>
what would that do

[15:03:07.0000] <GPHemsley>
no idea

[15:03:08.0000] <GPHemsley>
;)

[15:04:00.0000] <Hixie>
the real scary imho is patents ending up in the hands of patent trolls

[15:04:01.0000] <Hixie>
and there ain't nothing a patent policy can do about that

[15:04:02.0000] <AryehGregor>
Who would agree to a WHATWG patent policy?  Why would they?

[15:04:03.0000] <AryehGregor>
All HTMLWG members have to agree to the W3C one as a condition of participation.

[15:04:04.0000] <Hixie>
presumably the same people who agree to the w3c one (anyone who participates)

[15:05:00.0000] <GPHemsley>
Just saw this: @ConanOBrien Facebook is trying to trademark the word "Face". I am going to trademark the word "aceboo", and then wait for the dollars to roll in. 

[15:05:01.0000] <Hixie>
(the reason the scenario listed above isn't scary is that all the people who would get sued have just as many patents of their own and would just counter-sue)

[15:05:02.0000] <AryehGregor>
So the whatwg list would no longer be open to immediate subscription, you'd need approval first?

[15:05:03.0000] <Hixie>
AryehGregor: if what occured?

[15:05:04.0000] <AryehGregor>
If you required a patent policy agreement from all contributors?

[15:06:00.0000] <AryehGregor>
Otherwise organizations could just have their employees participate and sign away all of their (the employee's) patents, which would be none.

[15:06:01.0000] <AryehGregor>
So you'd need to ask them who their employer is, at a minimum.

[15:06:02.0000] <Hixie>
if we request that people agree to something before they could post, then it seems tautological that they could indeed not post until they had agreed

[15:06:03.0000] <GPHemsley>
which is silly

[15:06:04.0000] <Hixie>
but i don't think anyone has proposed that so far

[15:06:05.0000] <Hixie>
since nobody has done any of the lawyery work

[15:07:00.0000] <AryehGregor>
But just asking them to agree isn't enough, you have to get their employer to agree.

[15:07:01.0000] <AryehGregor>
Or else it's kind of meaningless.

[15:07:02.0000] <AryehGregor>
Their agreement isn't binding on their employer.

[15:07:03.0000] <GPHemsley>
couldn't the patent policy be a stipulation of the standard, rather than the working group?

[15:08:00.0000] <Hixie>
GPHemsley: i don't know what that would mean

[15:08:01.0000] <GPHemsley>
yeah, I don't either... just thinking out loud

[15:08:02.0000] <Hixie>
but in general i recommend getting a law degree in patent law before trying to think about this stuff :-)

[15:08:03.0000] <GPHemsley>
:P

[15:09:00.0000] <GPHemsley>
yeah... everything I can think of just goes back to </3 software patents

[15:10:00.0000] <GPHemsley>
because it's really rather stupid for us all to be working together for a common goal, and then have somebody come out of nowhere and say "hahaha! you implemented the agreed-upon standard, which I secretly have a patent to! diediedie"

[15:11:00.0000] <GPHemsley>
that's worse than just trying to reverse engineer things 100 times

[15:13:00.0000] <AryehGregor>
I had an idea that a company like Google could use to kill software patents.  I recently summarized it here: http://weblogs.mozillazine.org/roc/archives/2010/08/google_vs_oracl.html#c2727630

[15:13:01.0000] <Hixie>
abarth: i don't understand your e-mail (re xbl2)

[15:13:02.0000] <AryehGregor>
I have some vague idea that maybe I could try pestering important people to listen to it, but I'm too lazy.

[15:14:00.0000] <abarth>
Hixie: xbl looks like a templating system

[15:14:01.0000] <abarth>
Hixie: where you supply a bunch of markup and script

[15:14:02.0000] <abarth>
and then instantiate the template with user-provided values

[15:14:03.0000] <Hixie>
AryehGregor: wouldn't that run afoul of the laws against, you know, the mafia

[15:14:04.0000] <Hixie>
abarth: i guess it vaguely is similar to such a concept

[15:15:00.0000] <AryehGregor>
Hixie, I dunno, why?  The mafia breaks people's kneecaps, you're just enforcing your patents.  And it's hardly anticompetitive, you're allowing anyone to join who wants to.

[15:15:01.0000] <abarth>
Hixie: at a quick glance, i didn't see how you instantate the template

[15:15:02.0000] <Hixie>
AryehGregor: well i'm no lawyer, so i have no idea

[15:15:03.0000] <AryehGregor>
Me either!

[15:16:00.0000] <hsivonen>
Hixie: AFAICT, RICO isn't being enforced against all operations in the U.S. that to a lay person look like protection rackets :-(

[15:16:01.0000] <abarth>
Hixie: there are two features that would be desirable from a security point of view

[15:16:02.0000] <abarth>
Hixie: 1) the ability to limit what can put put into one of the holes in the template

[15:16:03.0000] <abarth>
(e.g., text only, or passive content only, etc)

[15:17:00.0000] <abarth>
2) the ability to supply content for the template in a way that's hard to XSS yourself

[15:18:00.0000] <Hixie>
abarth: you don't instantiate xbl bindings... they are just added to existing dom nodes

[15:18:01.0000] <Hixie>
abarth: there are no nodes created that aren't already in the dom

[15:18:02.0000] <Hixie>
abarth: all it does is slightly transform the dom for the purposes of css

[15:19:00.0000] <abarth>
i see

[15:19:01.0000] <hsivonen>
abarth: http://hsivonen.iki.fi/test/moz/move-during-parse-parent.html suggests WebKit runs parser-inserted scripts in the context of the parser's document

[15:19:02.0000] <hsivonen>
(crashes Chrome and Chromium content process on reload))

[15:19:03.0000] <abarth>
Hixie: in the first example in the intro:

[15:19:04.0000] <abarth>
  <div id="wrapper">

[15:19:05.0000] <abarth>
   <div id="col2"><content includes=".nav"></div>

[15:19:06.0000] <abarth>
   <div id="col1"><content includes=".main"></div>

[15:19:07.0000] <abarth>
  </div>

[15:19:08.0000] <abarth>
it looks like <content> is a placeholder

[15:19:09.0000] <abarth>
that gets filled with something

[15:20:00.0000] <abarth>
you're saying it's a dom node that already exists in your document

[15:20:01.0000] <abarth>
hsivonen: crashes are bad :)

[15:20:02.0000] <Hixie>
abarth: it doesn't get filled in, it's just that that is where the dom nodes get grafted in when creating the final flattened tree

[15:20:03.0000] <Hixie>
abarth: the dom nodes are already there though, yeah

[15:21:00.0000] <Hixie>
abarth: this is a pure-dom technology, nothing happens at the markup level

[15:21:01.0000] <hsivonen>
abarth: my point being that I don't believe WebKit does what I called #3 in my whatwg email

[15:21:02.0000] <hsivonen>
re: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2010-September/028357.html

[15:22:00.0000] <Hixie>
ooh, jgraham just updated his script

[15:22:01.0000] <Hixie>
oh i guess it could have happened any time in the last 4 days

[15:22:02.0000] <Hixie>
hm, or not

[15:22:03.0000] <Hixie>
i'm confused

[15:22:04.0000] <Hixie>
nevermind

[15:23:00.0000] <abarth>
Hixie: ok, that's slightly unfortunate, but I guess we'll have to solve XSS another way then :)

[15:28:00.0000] <abarth>
hsivonen: nice test case

[15:29:00.0000] <abarth>
hsivonen: webkit is very confused by that test case

[15:30:00.0000] <Hixie>
abarth: seems very fortunate to me, it means i don't introduce any new bugs :-)

[15:31:00.0000] <hsivonen>
abarth: I find it odd that you and jgraham characterize the test case as "nice" :-)

[15:31:01.0000] <abarth>
Hixie: it should be the case that a good client-side templating system would make XSS very uncommon

[15:32:00.0000] <abarth>
Hixie: the unfortunate part is to build all this machinery and then not solve XSS, since it's very nearby

[15:33:00.0000] <Hixie>
this is not a client-side templating system

[15:33:01.0000] <Hixie>
so that's ok :-)

[15:34:00.0000] <hsivonen>
I expect we won't be able to introduce One True templating system

[15:34:01.0000] <hsivonen>
enough people will want a different one and not use the safe one

[15:35:00.0000] <hsivonen>
most people aren't using XSS-resilient server-side templating systems

[15:36:00.0000] <AryehGregor>
I've heard Facebook has a nice hack to PHP that does that.

[15:36:01.0000] <AryehGregor>
You can do XML literals, and interpolation into them automatically escapes the variables.

[15:36:02.0000] <AryehGregor>
So like: echo <p>$msg</p>;

[15:37:00.0000] <ap>
Hixie: I have a Web page here that expects window.elementID to not find an element in strict mode  (so it works in shipping Firefox). WebKit matches HTML5 in HTML documents, so it misbehaves on this page. Is a single example enough to change this part in HTML5 to match Firefox 3?

[15:37:01.0000] <ap>
Hixie: as a related issue, WebKit doesn't allow window.elementID for XHTML

[15:39:00.0000] <Ms2ger>
As a relates issue, WebKit seems to have way too many differences between HTML and XHTML

[15:40:00.0000] <Hixie>
ap: what does IE do?

[15:41:00.0000] <ap>
Hixie: I didn't test its strict mode, I can do that now

[15:41:01.0000] <Hixie>
ap: that would be interesting. Also, whether the original page works in IE, and why.

[15:42:00.0000] <ap>
Hixie: oh, I don't need to test. accessing the element works even in strict mode, which is how they test that it's IE

[15:42:01.0000] <Hixie>
oh heh

[15:42:02.0000] <ap>
Hixie: and then they use IE behaviors

[15:43:00.0000] <Hixie>
my expectation would be that there are pages that depend on both behaviours, and that we're screwed either way.

[15:44:00.0000] <Hixie>
so i'd rather keep the number of html/xhtml and quirk/noquirk differences as low as possible

[15:45:00.0000] <ap>
Hixie: this is also a pretty ugly behavior - and we know that we can live without it for the most part, given that Firefox works

[15:45:01.0000] <ap>
Hixie: with some properties coming from name and some from id, there is a lot of potential for mistakes, as well as other browser differences affecting results

[15:46:00.0000] <ap>
Hixie: having said that, we've been asked to support window.elementID in XHTML before

[15:47:00.0000] <Hixie>
i'm no fan of this behaviour, don't get me wrong :-)

[15:53:00.0000] <Ms2ger>
Hixie, now I was seriously thinking you loved it!


2010-09-04
[17:26:00.0000] <volkmar>
Hixie: about the input type change algorithm (for value management)

[17:27:00.0000] <volkmar>
it looks like we loose the value with type='file'

[17:27:01.0000] <volkmar>
if input.type='text', .value='foo', .type='file', .value would be ""

[17:27:02.0000] <volkmar>
because we don't save the value to the content attribute when switching to a file type

[17:28:00.0000] <volkmar>
why not doing that?

[17:29:00.0000] <tabatkins>
volkmar: Because you could just script-fill the value of the type=text with a filepath, then change it to type=file.  If the input is visually hidden, it can be smuggled inside another form, so the user ends up accidentally submitting files from their hard drive they didn't know about.

[17:29:01.0000] <Hixie>
the <input type=file> always ignored the /value/

[17:30:00.0000] <volkmar>
TabAtkins: hmmm, not what i meant

[17:30:01.0000] <Hixie>
volkmar: .value would still be "" even if we saved the /value/ to the value="" content attribute

[17:30:02.0000] <Hixie>
volkmar: because .value for type=file has nothing to do with either the /value/ concept or the value="" attribute

[17:30:03.0000] <volkmar>
Hixie: yes, the problem is if i go back to <input type='text'> i loose the previous value

[17:30:04.0000] <Hixie>
so?

[17:31:00.0000] <volkmar>
why not saving the value to the content attribute when we change teh type to 'file' considering 'file' shouldn't use it but it will be re-used if the type is changed to something else

[17:31:01.0000] <Hixie>
why bother?

[17:32:00.0000] <Hixie>
what's the use case?

[17:32:01.0000] <Hixie>
why does it matter?

[17:32:02.0000] <volkmar>
Hixie: it doesn't really matter, just sound weird than it's required for default and default_on and not filename

[17:33:00.0000] <Hixie>
/me points to the topic

[17:33:01.0000] <Hixie>
if that's the only thing that sounds weird about the forms model in HTML, you haven't looked closely :-P

[17:33:02.0000] <Hixie>
personally I think what's weird is that we have to change things at all

[17:33:03.0000] <Hixie>
not that it gets reset to ""

[17:34:00.0000] <Hixie>
unfortunately if we don't reset things, it breaks backcompat

[17:34:01.0000] <volkmar>
yeah...

[17:34:02.0000] <Hixie>
anyway if you think it should change, file a bug explaining why

[17:34:03.0000] <Hixie>
i don't make changes based on irc discussions :-)

[17:34:04.0000] <Hixie>
at least not while i'm making other changes :-)

[17:35:00.0000] <volkmar>
Hixie: i don't think it _should_ be changed, just wondering if there were a reason

[17:35:01.0000] <volkmar>
i don't really care actually

[17:35:02.0000] <Hixie>
no reason particularly

[17:35:03.0000] <Hixie>
it just didn't seem to matter for compat

[17:35:04.0000] <Hixie>
bz and i looked at what seemed to matter and just changed that

[17:35:05.0000] <volkmar>
fine then

[02:15:00.0000] <annevk>
really: http://html5.org/tools/web-apps-tracker?from=5413&to=5414 :/

[02:15:01.0000] <annevk>
charset overrides is one of the worst ideas anyone ever came up with

[02:15:02.0000] <annevk>
and has given us security issues (and is still giving them to anyone with UTF-7 support)

[03:17:00.0000] <Philip`>
If someone wants to argue about completeness of rel registries, maybe they should look at which of the common values in http://philip.html5.org/data/rel-rev-200904.txt are in each registry

[03:18:00.0000] <Philip`>
I expect someone who's using the registry to either understand a random web document or avoid collisions when choosing their own names will care much more about rel="edituri" than about rel="child"

[03:21:00.0000] <espadrine>
What are those french 'rel's at the end of the page?

[03:27:00.0000] <Philip`>
espadrine: People mixing up rel with src, I expect

[03:31:00.0000] <Philip`>
espadrine: http://www.tourdumonde.over-blog.com/photo-257570-saopaulo-placadese-cathedrale_jpg.html

[03:31:01.0000] <Philip`>
<img src="http://img.over-blog.com/630x470-000000/0/44/26/71//09-bresil/saopaulo-placadese-cathedrale.jpg" alt="saopaulo-placadese-cathedrale.jpg" class="played" rel="0/44/26/71//09-bresil/saopaulo-placadese-cathedrale.jpg" height="470" width="630" />

[04:00:00.0000] <Hixie>
annevk: i'm open to better ideas

[04:01:00.0000] <annevk>
allow the HTTP charset parameter?

[04:01:01.0000] <annevk>
I guess that is not very author friendly

[04:02:00.0000] <annevk>
though how about marking this as a v2 feature?

[04:02:01.0000] <annevk>
we'll deploy <track>, see how it works out in the first year and if enough problems occur we go for it

[04:03:00.0000] <annevk>
cause people will likely need to move SRT files around anyway and maybe making the adjustments is easy enough for them

[04:03:01.0000] <Hixie>
if the idea is to be compatible with legacy SRT, MIME types and UTF-8 only are both failures

[04:03:02.0000] <Hixie>
if it's not, we don't need the override, indeed

[04:04:00.0000] <Hixie>
people seemed pretty much in favour of the former though (haven't yet sent my reply to that thread, working on it still)

[04:05:00.0000] <annevk>
well yeah, it's tricky -- i want to be compatible too but I also do not want to introduce more features such as charset

[04:06:00.0000] <Hixie>
if you can think of an attack vector, mail the list and i'll remove it

[04:06:01.0000] <Hixie>
security trumps compatibility

[04:06:02.0000] <Hixie>
bed time now

[04:06:03.0000] <Hixie>
nn

[05:58:00.0000] <annevk>
Ms2ger, yo, where is PARSE_ERR from?

[05:58:01.0000] <annevk>
is that DOM L&S? if so, isn't that obsolete?

[05:59:00.0000] <Ms2ger>
Yes/Dunno

[05:59:01.0000] <annevk>
k, I think it should be

[05:59:02.0000] <annevk>
but maybe something else uses PARSE_ERR too... hmm

[06:01:00.0000] <Dashiva>
My google only finds L&S, and the reference in HTML5

[06:01:01.0000] <annevk>
HTML5 mentions them?

[06:02:00.0000] <annevk>
figures

[06:02:01.0000] <annevk>
I believe the WHATWG wiki does too

[06:02:02.0000] <annevk>
guess we just tried to be complete

[06:02:03.0000] <Ms2ger>
I'm blaming you, annevk 

[06:02:04.0000] <annevk>
Ms2ger, what is this "tempTests" in DOMImpl...createDocument..exceptions? rewriting that test now

[06:02:05.0000] <Ms2ger>
http://wiki.whatwg.org/index.php?title=Exception_Codes&diff=next&oldid=2625

[06:02:06.0000] <annevk>
Ms2ger, win

[06:03:00.0000] <annevk>
i'll annotate the wiki with "should be obsolete"

[06:04:00.0000] <Ms2ger>
Does any ua have them?

[06:04:01.0000] <annevk>
opera might

[06:04:02.0000] <annevk>
but i'm campaigning for nuking our (i believe somewhat broken) dom ls support

[06:04:03.0000] <annevk>
ok, breakfast time o_O

[06:04:04.0000] <annevk>
back later

[06:05:00.0000] <Ms2ger>
annevk, ask gsnedders :)

[06:32:00.0000] <annevk>
Ms2ger, guess i should use hg log more often

[06:32:01.0000] <annevk>
:)

[06:34:00.0000] <Ms2ger>
annevk, and all my tests have link rel=author :)

[06:37:00.0000] <annevk>
aah so i'm adding the wrong credits here

[06:39:00.0000] <Ms2ger>
Though I think I added a few cases recently

[07:06:00.0000] <llrcombs>
if a page has a .manifest file, shouldn't the UA check for a new version of each content file?

[07:16:00.0000] <llrcombs>
(just see if it's changed, not reload the whole file unless it hasn't changed)

[07:16:01.0000] <llrcombs>
amirite?

[09:42:00.0000] <llrcombs>
hello?

[10:04:00.0000] <Dashiva>
llrcombs: Better to just say or ask what you came for right away. People will get back to you :)

[10:05:00.0000] <Philip`>
It looks like he did ask, 3 hours ago, and nobody got back yet :-p

[10:07:00.0000] <Dashiva>
I just did

[10:13:00.0000] <llrcombs>
if a page has a .manifest file, should the UA check for a new version of each content file on load?

[10:24:00.0000] <llrcombs>
Dashiva; getting back?

[10:27:00.0000] <Dashiva>
I'm not well versed in offline, but my understanding is that content files are only checked when the manifest changes (and not necessarily then either)

[10:28:00.0000] <Dashiva>
You shouldn't take my word for it, though

[11:06:00.0000] <llrcombs>
hmmm

[11:07:00.0000] <llrcombs>
not much provision for when there's a new version of the file then, eh?

[11:38:00.0000] <annevk>
hmm, I screwed up all the help links in tests

[11:38:01.0000] <annevk>
but I don't really believe in those anyway

[11:39:00.0000] <annevk>
or in author for that matter...

[11:39:01.0000] <annevk>
Ms2ger, any particular reason we are using those fields?

[11:40:00.0000] <Ms2ger>
Blame the CSSWG

[11:40:01.0000] <Ms2ger>
You can get rid of them if you want

[11:41:00.0000] <annevk>
cool

[11:43:00.0000] <annevk>
not quite sure if rewriting the tests is the most efficient approach rather than just starting over but I guess overall it's not too much work

[11:43:01.0000] <annevk>
and it's almost done

[11:47:00.0000] <annevk>
jgraham, you around? how do you test for ECMAScript errors using your framework?

[11:47:01.0000] <annevk>
e.g. error instanceof TypeError

[11:48:00.0000] <annevk>
i.e. how to rewrite this code to use assert_throws:

[11:48:01.0000] <annevk>
  try {

[11:48:02.0000] <annevk>
    document.body.removeChild({'a':'b'})

[11:48:03.0000] <annevk>
    assert_unreached()

[11:48:04.0000] <annevk>
  } catch (e) {

[11:49:00.0000] <Ms2ger>
    assert_true(e instancof TypeError)

[11:49:01.0000] <Ms2ger>
  }

[11:52:00.0000] <annevk>
?

[11:52:01.0000] <annevk>
it's instanceof afaict

[11:53:00.0000] <Ms2ger>
It is

[12:02:00.0000] <annevk>
hmm

[12:02:01.0000] <annevk>
document.body.removeChild(null) makes the framework collapse?

[12:02:02.0000] <annevk>
i wonder if i do something wrong

[12:03:00.0000] <annevk>
ooh, I guess it's a bug in the framework

[12:03:01.0000] <annevk>
assert_throws is continuously buggy

[13:00:00.0000] <annevk>
yay

[13:00:01.0000] <annevk>
all existing stuff is fixored

[13:00:02.0000] <annevk>
now all the new stuff needs doing

[13:02:00.0000] <llrcombs>
if a page has a .manifest file, should the UA check for a new version of each content file on load? If not, when should it?

[13:03:00.0000] <annevk>
only when the manifest changes

[13:04:00.0000] <llrcombs>
so how would I designate that a file had been updated?

[13:04:01.0000] <llrcombs>
(i.e. a .js file with a new version)

[13:04:02.0000] <annevk>
you change the manifest

[13:04:03.0000] <annevk>
e.g. change a comment or do something like foo.js?v=2

[13:04:04.0000] <llrcombs>
or add whitespace?

[13:05:00.0000] <annevk>
could work

[13:05:01.0000] <llrcombs>
seems flawed

[13:05:02.0000] <annevk>
we can make it more complicated later

[13:05:03.0000] <llrcombs>
suggestion: allow a .manifest to include last-modified datetimes for each file

[13:05:04.0000] <annevk>
that would be complicated

[13:05:05.0000] <llrcombs>
so the UA can figure out if it should grab a new rev

[13:06:00.0000] <llrcombs>
until then, I can't use manifests for my webapps/widgets/etc

[13:06:01.0000] <annevk>
why?

[13:06:02.0000] <annevk>
you can just print the timestamp as comment, no?

[13:07:00.0000] <llrcombs>
yeah, but then it'd grab a new version of every file for every load

[13:07:01.0000] <annevk>
the server can return 304 like it can normally

[13:07:02.0000] <llrcombs>
defeats the purpose

[13:07:03.0000] <annevk>
if your file changes all the time you should prolly not put it in the manifest

[13:08:00.0000] <llrcombs>
no, I'm debugging

[13:08:01.0000] <llrcombs>
and I'll end up updating it to make new versions

[13:11:00.0000] <llrcombs>
you know, mantinence, new features...

[13:11:01.0000] <llrcombs>
bugfixes

[13:12:00.0000] <annevk>
sure

[13:12:01.0000] <annevk>
so add manifest when most of the other stuff is done

[13:12:02.0000] <annevk>
I don't really see the problem here

[13:13:00.0000] <llrcombs>
here's my idea:

[13:14:00.0000] <llrcombs>
the manifest file could be generated by a script, or just manually edited, so it include last-modified dates for each file in it

[13:14:01.0000] <llrcombs>
so when offline, the UA uses its cached versions of everything

[13:14:02.0000] <llrcombs>
and when online, it just checks the manifest against its stored manifest

[13:14:03.0000] <llrcombs>
to see if there's a new version of anything

[13:14:04.0000] <annevk>
yeah, I just told you you can do that

[13:14:05.0000] <llrcombs>
if there is, it just downloads THAT file

[13:15:00.0000] <llrcombs>
otherwise, it keeps using its cached version

[13:15:01.0000] <annevk>
it doesn't download the whole file anyway

[13:15:02.0000] <llrcombs>
the whole cached entity, or the whole .manifest?

[13:15:03.0000] <annevk>
the former

[13:16:00.0000] <annevk>
it just does a request and the server can say 304

[13:16:01.0000] <gsnedders>
For all those people nagging me about Anolis while I've been away, the following statement is true: 10:40 #whatwg: < jgraham> annevk: gsnedders has explicitly lost interest in anolis

[13:16:02.0000] <annevk>
SPDY will prolly optimize away the remaining bits

[13:16:03.0000] <llrcombs>
:D @ SPDY

[13:16:04.0000] <llrcombs>
but no one is implementing...

[13:17:00.0000] <llrcombs>
so it makes a request for every file, even those in the cache manifest?

[13:17:01.0000] <annevk>
yawn

[13:17:02.0000] <Ms2ger>
gsnedders, are you still going to put anolis2 somewhere?

[13:17:03.0000] <llrcombs>
sorry

[13:17:04.0000] <llrcombs>
I guess I'm not a caching expert

[13:17:05.0000] <gsnedders>
Ms2ger: Let me do that riht now

[13:20:00.0000] <gsnedders>
Ms2ger: http://hg.gsnedders.com/anolis2/

[13:20:01.0000] <gsnedders>
/me has no idea whether it even works at the moment

[13:22:00.0000] <Ms2ger>
/me wonders what prompted "I <3 namespaces."

[13:22:01.0000] <gsnedders>
Ms2ger: See the diff

[13:55:00.0000] <jgraham>
Oh anne left

[13:55:01.0000] <jgraham>
dammit

[13:56:00.0000] <jgraham>
for the record assert_throws(new TypeError(), document.body.removeChild({'a':'b'}))

[13:56:01.0000] <jgraham>
should work

[13:58:00.0000] <jgraham>
/me wonders what the bug is

[13:59:00.0000] <jgraham>
I guess I could investigate

[13:59:01.0000] <jgraham>
But I should probably do the thing that Sam wanted first

[14:00:00.0000] <Philip`>
Surely that won't work since it'll call removeChild before calling assert_throws?

[14:01:00.0000] <Ms2ger>
/me assumes function() { document.body.removeChild({'a':'b'}) }

[14:02:00.0000] <Philip`>
Ah, that would seem more sensible and less like magic

[14:02:01.0000] <jgraham>
Er, yeah right

[14:02:02.0000] <jgraham>
Lots of function() {} wrappers needed everywhere

[14:03:00.0000] <jgraham>
/me wishes javascript had a Haskell-like syntax for anonymous functions

[14:04:00.0000] <jgraham>
It would make this kind of thing much less visually noisy

[14:09:00.0000] <gsnedders>
jgraham: Are you starting to admit Haskell is a good language? :P

[14:28:00.0000] <jgraham>
gsnedders: WTF?

[14:28:01.0000] <jgraham>
I have *nver* said Haskell was a bad language

[14:28:02.0000] <jgraham>
**never*

[14:28:03.0000] <jgraham>
I sai it has a steep learning curve

[14:28:04.0000] <jgraham>
+d

[14:35:00.0000] <gsnedders>
You've said it in such a way as to imply it is bad as a result

[14:48:00.0000] <jgraham>
Only if I was being severely misunderstood

[14:48:01.0000] <jgraham>
Which is possible if I wasn't being clear

[14:48:02.0000] <jgraham>
(being hard to learn is a bad property. It is not necessarily enough to create a bad whole)

[14:52:00.0000] <gsnedders>
jgraham: what happened about the t-shirt, btw?

[14:56:00.0000] <jgraham>
gsnedders: Not sure

[14:57:00.0000] <gsnedders>
jgraham: Feel free to just keep it till New Year, fwiw

[14:57:01.0000] <jgraham>
gsnedders: It wouldn't fit

[14:57:02.0000] <jgraham>
:)

[14:58:00.0000] <gsnedders>
;P

[16:51:00.0000] <annevk>
jgraham, thanks, will try


2010-09-05
[00:22:00.0000] <boblet>
Hey all, anyone know what’s up with Flexbox, Template Layout and Grid Positioning CSS3 modules? Are all being actively developed? Are all expected to continue?

[01:34:00.0000] <annevk>
jgraham, you around?

[01:37:00.0000] <annevk>
jgraham, function assert throws a new AssertionError, but what is catching that?

[02:34:00.0000] <annevk>
jgraham, your script is fucking complicated

[02:34:01.0000] <annevk>
jgraham, I put an hour into debugging this assert_throws madness but no luck

[02:34:02.0000] <annevk>
jgraham, too much functions invoking each other and all kinds of crazyness

[02:36:00.0000] <annevk>
jgraham, I did found some smallish bugs

[02:40:00.0000] <annevk>
btw, rather than <?xbl?> maybe we should have <html binding=""> instead?

[02:41:00.0000] <annevk>
(or maybe name it bindings as it presumably takes a space-separated list)

[02:42:00.0000] <annevk>
jgraham, we should have some more discussion on the framework

[03:06:00.0000] <annevk>
jgraham, http://bitbucket.org/ms2ger/web-dom-core/changeset/d5e2a858a519 has the minor fixes

[03:22:00.0000] <annevk>
prolly away most of the day -- trying to get back to Oslo

[03:22:01.0000] <jgraham>
Wow I missed anne by || that much

[04:08:00.0000] <jgraham>
Oh it was a simple bug

[05:18:00.0000] <jgraham>
I pushed the fix to W3C repository BTW

[07:21:00.0000] <espadrine>
I'm confused about "new Image(undefined,undefined);"

[07:21:01.0000] <espadrine>
Firefox, Chrome, Opera all do something different

[07:21:02.0000] <espadrine>
Firefox fires an error, Chrome turns undefined into the number 0, Opera treats this as new Image().

[07:21:03.0000] <espadrine>
Which one is right?

[08:14:00.0000] <Damark>
Hey

[08:14:01.0000] <Damark>
I want help

[08:15:00.0000] <gsnedders>
espadrine: I think, if I'm understanding WebIDL correctly, Chrome is correct

[08:15:01.0000] <gsnedders>
Damark: Then ask.

[08:16:00.0000] <Damark>
i need shells please

[08:18:00.0000] <jgraham>
Damark: I assume you are not talking about Mario Kart, but can't really work out what you might be talking about

[08:19:00.0000] <jgraham>
annevk: see logs

[08:19:01.0000] <annevk>
sure

[08:19:02.0000] <annevk>
might grab some food first

[08:19:03.0000] <jgraham>
annevk: np

[08:19:04.0000] <annevk>
just arrived at heathrow

[08:19:05.0000] <jgraham>
annevk: Fix pushed to W3C repository

[08:19:06.0000] <jgraham>
ah

[08:19:07.0000] <annevk>
k

[08:19:08.0000] <jgraham>
Simple bug that I should find a generic solution for

[08:20:00.0000] <annevk>
did you see my fixes?

[08:20:01.0000] <jgraham>
The template stuff requires explicit string conversions everywhere at the moment

[08:20:02.0000] <jgraham>
Or it just dies in confusing ways

[08:20:03.0000] <annevk>
i figured something went wrong with that

[08:20:04.0000] <annevk>
but I couldn't find it

[08:20:05.0000] <annevk>
it's a maze of functions

[08:20:06.0000] <jgraham>
I fixed this one instance but it whould probably be fixed in more places

[08:21:00.0000] <annevk>
i wonder if we can simplify it somehow

[08:21:01.0000] <annevk>
less elegant but more clear or some such :)

[08:23:00.0000] <jgraham>
Maybe :)

[08:24:00.0000] <annevk>
i'm mostly worried about you being the only person that can fix "simple bugs" :)

[08:28:00.0000] <jgraham>
So am I :)

[08:39:00.0000] <annevk>
jgraham, the error message is still incorrect btw

[08:39:01.0000] <annevk>
oh maybe not

[08:39:02.0000] <annevk>
never mind

[08:46:00.0000] <boblet>
annevk: yt?

[08:46:01.0000] <annevk>
yup

[08:46:02.0000] <boblet>
re: CSS3 layout modules, I’m wondering how they’re going — are all being actively developed? Are all expected to continue?

[08:47:00.0000] <annevk>
flexbox seems like it will happen in some form

[08:47:01.0000] <annevk>
not sure about any of the others

[08:48:00.0000] <boblet>
I guess having implementation is a big help

[08:49:00.0000] <annevk>
sure

[08:50:00.0000] <boblet>
I perceive flexbox as being good for web app interfaces, would that be right? also would grid positioning & template layout be better (in certain cases) for more web page content layout 

[08:50:01.0000] <boblet>
?

[08:54:00.0000] <annevk>
flexbox can be used for web page layout as well

[08:55:00.0000] <annevk>
I haven't studied layout models enough to give a really good answer, though according to Tab (iirc) most should be doable with flexbox

[08:57:00.0000] <boblet>
annevk: ok. yeah I know flexbox should work for everything, but was wondering if setting up a page layout for content would be easier with the others, or what the different strengths of each one were. Maybe I should ping Tab :)

[08:57:01.0000] <boblet>
annevk: thanks for your help yo

[09:15:00.0000] <annevk>
jgraham, ms2ger had this feature request: http://bitbucket.org/ms2ger/web-dom-core/issue/1/make-assert_throws-do-an-instanceof-domexception

[09:15:01.0000] <annevk>
jgraham, of course that does not work for ECMAScript exceptions

[09:18:00.0000] <jgraham>
Sure but one could assume that anything with a code is a DOMException

[09:19:00.0000] <jgraham>
So it should be rather easy to implement I think

[09:21:00.0000] <annevk>
what might also be nice is adding a check for e.name

[09:21:01.0000] <annevk>
e.name == arg basically

[09:32:00.0000] <annevk>
wait, why does getElementsByTagName match on local name for HTML elements? I doubt that's true

[11:24:00.0000] <gsnedders>
/me wonders if you could write a generic runner for JS tests (for HTML5) using Watir

[11:24:01.0000] <gsnedders>
/me wonders if Watir works with IE9/Fx4/WebKit ToT

[11:34:00.0000] <jarib>
gsnedders: basically just opening a list of URLs?

[11:35:00.0000] <jarib>
i'd recommend looking at watir-webdriver instead, but i'm biased :)

[11:35:01.0000] <jgraham>
gsnedders: Why would you bother?

[11:35:02.0000] <jgraham>
To avoid the problems of <iframe>s

[11:35:03.0000] <jgraham>
?

[12:17:00.0000] <gsnedders>
jgraham: Process everything and come up with something listing tests that fail in all browsers too, for example

[12:17:01.0000] <gsnedders>
jarib: And read the DOM

[12:20:00.0000] <jarib>
gsnedders: watir doesn't support any webkit browsers, and its firefox support is pretty shaky (especially now when Jssh is being EOLed)

[12:21:00.0000] <gsnedders>
jarib: Ah, I thought the status of both of those was better than that

[12:25:00.0000] <jarib>
webdriver supports IE (though I haven't tested in IE9), chrome (though a rewritten driver just landed in the chromium tree), and firefox (Fx4 support just landed in trunk). a safari driver is under development

[12:25:01.0000] <jarib>
you might want to look at the selenium-webdriver gem to use that from ruby directly

[12:25:02.0000] <gsnedders>
webdriver can't actually access the DOM, though, right?

[12:26:00.0000] <jarib>
watir-webdriver is a watir wrapper around the selenium-webdriver gem

[12:26:01.0000] <jarib>
it can

[12:26:02.0000] <jarib>
the watir api is just more high level

[12:28:00.0000] <jarib>
i maintain both of those gems, feel free to pm/email me if you need any assistance

[12:40:00.0000] <Lachy>
Hixie, Requiem 1.9.7 has been released now. It should work for iTunes 9.2.1. Won't work for iTunes 10, if you've upgraded already

[12:44:00.0000] <gsnedders>
jarib: Assistance is only useful if I reach the point of bothering to automate them in the general case :P

[12:49:00.0000] <jarib>
yep. don't think i can help you reach that point :)

[12:50:00.0000] <jarib>
out of curiosity though, what tests are you referring to? 

[12:50:01.0000] <gsnedders>
http://dvcs.w3.org/hg/html/

[12:52:00.0000] <jarib>
thanks

[12:54:00.0000] <AryehGregor>
/me discovers that fall classes start in two days, drat

[12:55:00.0000] <gsnedders>
heh

[12:55:01.0000] <gsnedders>
I have another two weeks till that panic

[12:55:02.0000] <gsnedders>
But then it'll be like, "uh, studying? I stopped doing that before when I realized I hated that. Why am I here?"

[12:58:00.0000] <AryehGregor>
I was hoping to finish up my reflection test cases and submit them to the W3C before school started.

[12:58:01.0000] <AryehGregor>
Well, with luck I'll be able to do that before I have too much coursework to do.

[12:59:00.0000] <AryehGregor>
(not to mention all the other things I planned to do . . .)

[13:11:00.0000] <Hixie>
Lachy: k

[14:03:00.0000] <jgraham>
gsnedders: Except for special cases loading tests in an iframe should work rather well, no?

[14:04:00.0000] <jgraham>
The special cases being things that require a top-level browsing context

[14:04:01.0000] <jgraham>
In fact I was somewhat under the impression that that was what the Microsoft thing already did

[14:04:02.0000] <jgraham>
Although I confess I haven't really looked at it hard

[14:07:00.0000] <gsnedders>
jgraham: But then you have to then aggregate the results from different browsers separately

[14:07:01.0000] <jgraham>
gsnedders: That doesn't seem like a problem, really

[14:08:00.0000] <jgraham>
This isn't like the CSS case where you have thousands of manual tests

[14:08:01.0000] <gsnedders>
jgraham: Indeed

[14:08:02.0000] <gsnedders>
But it's still more work than it need be

[14:08:03.0000] <jgraham>
in the ideal case you open the browser, start the testsuite, it generates a json file of all the results for you

[14:08:04.0000] <gsnedders>
/me tries scanning some of his old 35mm film

[14:08:05.0000] <AryehGregor>
CSS has thousands of manual tests?  Yikes.

[14:09:00.0000] <jgraham>
CSS2.1 does

[14:09:01.0000] <gsnedders>
AryehGregor: Almost all of them are visual tests

[14:09:02.0000] <AryehGregor>
Oh, so you can just skim through to see what's green?

[14:09:03.0000] <jgraham>
For CSS 3 they will mostly use reftests which can be auomated more easilly

[14:09:04.0000] <AryehGregor>
(unless you're color-blind, oh well)

[14:09:05.0000] <AryehGregor>
Yay reftests.

[14:09:06.0000] <gsnedders>
AryehGregor: Well, yeha. But it's really way more time-consuming than that.

[14:10:00.0000] <gsnedders>
AryehGregor: MS guy in the F2F said it took 16 hours for all the HTML copies for one browser. There are XHTML copies of all the tests too.

[14:10:01.0000] <jgraham>
although browsers don't generally expose a consistent API for taking a screenshot so it is non-trivial to make a reftest harness

[14:10:02.0000] <gsnedders>
So the full testsuite would take 32 hours to run.

[14:10:03.0000] <AryehGregor>
jgraham, but that could be standardized pretty easily.

[14:10:04.0000] <AryehGregor>
At least in privileged contexts.

[14:10:05.0000] <jgraham>
that would be good

[14:11:00.0000] <gsnedders>
/me wants to get around 800 tests in the CSS 2.1 testsuite coverted to reftests in the next week

[14:13:00.0000] <gsnedders>
(there are around 9k)

[14:13:01.0000] <gsnedders>
(source files, that is)

[14:13:02.0000] <gsnedders>
(then there are generated from that 9k HTML copies)

[14:13:03.0000] <Philip`_>
AryehGregor: That sounds like it probably wouldn't help in the case of e.g. mobile browsers (when you're not a developer of that browser, e.g. you're someone who just wants to check standards compliance)

[14:13:04.0000] <gsnedders>
(but all that matters is the number of source files)

[14:14:00.0000] <Philip`_>
AryehGregor: or at least it doesn't sound pretty easy to standardise and implement in that context

[14:15:00.0000] <AryehGregor>
Philip`_, the obvious thing would be to just do a screenshot API that only works if nothing in the page is cross-domain.  Is there any reason you know of not to do that?

[14:15:01.0000] <AryehGregor>
It would probably have other applications too.

[14:16:00.0000] <Philip`_>
AryehGregor: That seems unsafe for non-privileged code, because you could do stuff like read vlink colours

[14:16:01.0000] <AryehGregor>
Oh, bleh.

[14:17:00.0000] <Philip`_>
and the text in <input type=file>s etc

[14:17:01.0000] <AryehGregor>
I guess so.

[14:17:02.0000] <AryehGregor>
Hmm.

[14:18:00.0000] <AryehGregor>
Maybe you could have a command-line flag where the browser will retrieve a URL, execute it non-interactively with a fresh profile with the screenshot feature enabled, and spit out a result.

[14:18:01.0000] <Philip`_>
Same issues as with exposing Mozilla's context2d.drawWindow to web content

[14:19:00.0000] <AryehGregor>
If you can get the user to type an arbitrary command line, you can pwn them anyway, right?

[14:19:01.0000] <Philip`_>
Does a command-line flag help if you want to test the browser on your mobile phone which doesn't have a command line?

[14:20:00.0000] <AryehGregor>
Mobile browsers are so hopelessly broken anyway that they can be set aside for now.

[14:20:01.0000] <AryehGregor>
Perfect is the enemy of good, you know.

[14:23:00.0000] <Philip`_>
It could be e.g. Opera on Wii, which probably isn't hopelessly broken, where some user wants to run the test suite to see how well they can rely on various features

[14:23:01.0000] <Philip`_>
and reftests would be less useful than some other pure JS style of testing

[14:24:00.0000] <gsnedders>
Philip`_: It does use Presto 1, so I expect it isn't exactly bug-free wrt stuff fixed in the past few years

[14:24:01.0000] <AryehGregor>
It doesn't have to be command-line.  Every browser just has to provide some reasonably secure way to expose the functionality.

[14:24:02.0000] <AryehGregor>
You could try exposing this to non-privileged JS, but it would be a minefield.

[14:25:00.0000] <gsnedders>
AryehGregor: Presto 2.1 and above with Scope protocol?

[14:25:01.0000] <gsnedders>
(or maybe the screenshot API was only added later)

[14:25:02.0000] <AryehGregor>
Maybe?

[14:26:00.0000] <gsnedders>
STP/1 certainly supports screenshots being taken

[14:26:01.0000] <gsnedders>
http://dragonfly.opera.com/app/scope-interface/services/Exec/Exec_2_0.html#setupscreenwatcher

[15:21:00.0000] <TheLifelessOne>
Soo


2010-09-06
[17:25:00.0000] <variable>
The One Page Principle:    A specification that will not fit on one page of 8.5x11 inch paper\    cannot be understood.        -- Mark Ardis

[17:25:01.0000] <variable>
:-|

[17:26:00.0000] <Philip`>
And a specification that will fit cannot be interoperably implemented

[17:26:01.0000] <Philip`>
Understanding is overrated

[17:27:00.0000] <Dashiva>
You don't need to understand the spec, just pieces of it big enough to make a test suite

[17:27:01.0000] <jcranmer>
a specification that fits on one page of 8.5x11 inch paper was written by an academic who has no concept of what the real world actually looks like

[17:28:00.0000] <jcranmer>
writing the specification for a language implemented by a ~800-line parser (including internal documentation comments and whitespace) is 3 pages long

[17:29:00.0000] <variable>
jcranmer, as a corollary of Mark Ardis and you: no real world spec could ever be understood

[17:29:01.0000] <Rik`>
I think we can conclude that the real world cannot be understood

[17:29:02.0000] <variable>
I just mentioned it cause it came on fortune ;)

[17:29:03.0000] <Dashiva>
We could just conclude that Mark Ardis is wrong

[17:30:00.0000] <Dashiva>
Or we can correctly state that he doesn't specify a minimum font size

[17:30:01.0000] <Dashiva>
Even HTML5 fits on one page if you make the font small enough!

[17:31:00.0000] <variable>
Dashiva, true, true

[17:32:00.0000] <Dashiva>
I've had exams where we were allowed to bring notes, one allowed a single page and another a single index card. The page case specified minimum 10px font, the index card "big enough that the teacher can read it without a magnifying lens"

[17:33:00.0000] <variable>
Dashiva, hillarious. Neither specifies the max size of the paper

[17:33:01.0000] <variable>
or the font itself

[17:33:02.0000] <variable>
I could create a font where 9px is tiny

[17:33:03.0000] <Dashiva>
It was A4 paper and 5x3 index card

[17:34:00.0000] <variable>
too bad

[17:34:01.0000] <Dashiva>
They were handed out beforehand. The paper because it had letterhead, and the index card for no particular reason

[17:35:00.0000] <variable>
Dashiva, what class was this for?

[17:36:00.0000] <Dashiva>
One was parallel systems and programming, the other was modern history

[17:38:00.0000] <jcranmer>
Dashiva: that's gotta suck for me

[17:38:01.0000] <jcranmer>
I can read my own notes without magnifying lens

[17:38:02.0000] <jcranmer>
but many people would have problems doing the same

[17:38:03.0000] <jcranmer>
to put it another way

[17:39:00.0000] <jcranmer>
I squished a 7x7 matrix in 2x2 of quadrille-ruled notebook paper

[17:40:00.0000] <Dashiva>
Well, you could... write bigger

[17:40:01.0000] <jcranmer>
...

[17:41:00.0000] <jcranmer>
I've tried

[17:41:01.0000] <jcranmer>
I generally fail

[17:41:02.0000] <Dashiva>
You could ask someone else to write for you :)

[18:21:00.0000] <Philip`>
/me tends to write small too

[18:21:01.0000] <Philip`>
I currently have 28 shopping lists on an A8 piece of paper

[18:21:02.0000] <Philip`>
(Not extremely long lists, admittedly)

[01:53:00.0000] <myakura>
“At this time we do not plan on fixing this issue.” :( https://connect.microsoft.com/IE/feedback/details/577604/borders-on-iframe-cannot-be-styled-via-css

[01:53:01.0000] <myakura>
same markup fails :(

[02:00:00.0000] <Hixie>
myakura: i thought microsoft had committed to fixing every bug?

[02:01:00.0000] <Hixie>
didn't they say that in a recent blog post?

[02:01:01.0000] <hsivonen>
Does DOM Range have an active editor?

[02:02:00.0000] <hsivonen>
Range doesn't have a component in the W3C Bugzilla :-(

[02:02:01.0000] <Hixie>
it does not

[02:02:02.0000] <Hixie>
i'm collecting feedback though if you have a bug to report

[02:02:03.0000] <Hixie>
("the spec is woefully underdefined" is a known bug)

[02:02:04.0000] <hsivonen>
Hixie: collecting via what mechanism?

[02:02:05.0000] <Hixie>
same as the whatwg mail

[02:03:00.0000] <Hixie>
my imap folders

[02:03:01.0000] <hsivonen>
Hixie: should I send the email to whatwg, webapps or www-dom?

[02:03:02.0000] <Hixie>
public-web-apps or www-dom is probably best, cc me

[02:03:03.0000] <hsivonen>
ok thanks

[02:05:00.0000] <Hixie>
np

[02:05:01.0000] <Hixie>
dunno what i'll do with the feedback

[02:06:00.0000] <Hixie>
if no editors come along i might just rewrite it miself

[02:06:01.0000] <Hixie>
myself even

[02:17:00.0000] <annevk>
hsivonen, Hixie, DOM Range is http://bitbucket.org/ms2ger/dom-range

[02:17:01.0000] <annevk>
ms2ger = awesome

[02:17:02.0000] <annevk>
(though it's quite incomplete still, but comes with some tests)

[02:17:03.0000] <Hixie>
how do i view it?

[02:18:00.0000] <Hixie>
if ms2ger wants to do that, i should send him the messages i've collected

[02:18:01.0000] <annevk>
http://bitbucket.org/ms2ger/dom-range/raw/tip/source.html

[02:19:00.0000] <annevk>
(in Opera you can open it somewhat directly if you configure it correctly; haven't figured out a way yet to just view the file)

[02:19:01.0000] <hsivonen>
awesomeness.

[02:20:00.0000] <hsivonen>
ms2ger: http://lists.w3.org/Archives/Public/public-webapps/2010JulSep/0703.html

[02:20:01.0000] <annevk>
Hixie, btw, I'm going to fix DOM Core and will do it in such a way that you can remove a bunch of stuff from HTML5

[02:20:02.0000] <Hixie>
hm, not much there yet

[02:20:03.0000] <Hixie>
annevk: oh?

[02:20:04.0000] <annevk>
DOM Core is http://bitbucket.org/ms2ger/web-dom-core (has a bunch more)

[02:21:00.0000] <annevk>
(about 80% done \o/)

[02:21:01.0000] <zcorpan_>
annevk: and 80% left to do? :)

[02:21:02.0000] <Hixie>
annevk: kill Attr

[02:22:00.0000] <hsivonen>
annevk: regarding getElementsByTagName(), is there any reason not to use localName except theoretical deliberate impurity of Level 1?

[02:23:00.0000] <annevk>
zcorpan_, exactly

[02:23:01.0000] <hsivonen>
/me hasn't read the latest draft, just annevk's IRC remarks

[02:23:02.0000] <Hixie>
"The nodeName, nodeValue and nodeType attributes must, on getting, return what is in the second, third and fourth column, respectively, if the node also implements the interface in the first column on the same row in the following table" is a very confused sentence

[02:24:00.0000] <annevk>
hsivonen, setAttribute, getAttribute, hasAttribute all use qualified name

[02:24:01.0000] <Hixie>
annevk: is the HTMLCollection stuff up to date?

[02:24:02.0000] <Hixie>
seems weird for DOM Core to define things that depend on HTML elements

[02:25:00.0000] <Hixie>
oh, i see, .children

[02:25:01.0000] <annevk>
Hixie, since we only talk about namespaces and type of documents I think it is okay

[02:25:02.0000] <Hixie>
well that's fun

[02:25:03.0000] <hsivonen>
annevk: why does that need to generalize to getElementsByTagName?

[02:25:04.0000] <annevk>
there's no HTML dependency

[02:25:05.0000] <hsivonen>
annevk: using localName would be good for code simplicity and perf

[02:26:00.0000] <annevk>
hsivonen, you do not store the qualifiedName internally?

[02:26:01.0000] <Hixie>
/me suggests again removing Attr forever

[02:26:02.0000] <hsivonen>
annevk: there's no HTML dependency if you make getElementsByTagName match localName and wildcard namespace

[02:26:03.0000] <annevk>
Hixie, you mean making it no longer inherit from Node?

[02:26:04.0000] <hsivonen>
annevk: IIRC, we don't

[02:27:00.0000] <Hixie>
annevk: no, i mean, not having it in the platform

[02:27:01.0000] <Hixie>
annevk: not supported

[02:27:02.0000] <Hixie>
annevk: gone

[02:27:03.0000] <Hixie>
annevk: unimplemented

[02:27:04.0000] <Hixie>
annevk: no longer in the global namespace

[02:27:05.0000] <annevk>
how would .attributes work?

[02:27:06.0000] <Hixie>
drop that too

[02:28:00.0000] <annevk>
don't sites rely on that?

[02:28:01.0000] <Hixie>
not to my knowledge

[02:28:02.0000] <Hixie>
if they do, find out what they actually rely on

[02:28:03.0000] <Hixie>
and just provide the minimum API to support that

[02:29:00.0000] <annevk>
chrome has these statistic collection thingies right? maybe someone can figure it out

[02:29:01.0000] <annevk>
hmm

[02:29:02.0000] <annevk>
would certainly be nice

[02:30:00.0000] <annevk>
hsivonen, you still need to lowercase the argument for HTML nodes

[02:32:00.0000] <hsivonen>
annevk: good point

[02:33:00.0000] <hsivonen>
so DOM Core has to know about the HTML namespace and the HTMLness bit

[02:33:01.0000] <annevk>
it already does

[02:33:02.0000] <hsivonen>
annevk: anyway, I think CSS element selector gets this right

[02:33:03.0000] <hsivonen>
would be nice if the DOM did, too

[02:34:00.0000] <jgraham>
/me relies on .attributes

[02:34:01.0000] <jgraham>
/me goes to read the backscroll

[02:34:02.0000] <annevk>
so either ele.namespaceURI == HTMLNS && ele.localName == localName.toLowerCase() or ele.localName == localName

[02:35:00.0000] <annevk>
or do we want this just for HTML documents also?

[02:40:00.0000] <zcorpan_>
annevk: just check localName

[02:40:01.0000] <zcorpan_>
though it might be too late to change it

[02:40:02.0000] <hsivonen>
annevk: opinion differs between reasonable people on the "HTML documents" part

[02:41:00.0000] <hsivonen>
annevk: depends on how much you are willing to tear down XML architecture in order to unify it with the HTML side

[02:43:00.0000] <annevk>
well, XML means namespaces in my book, so no "DOM1Core methods", but I do not really care

[02:43:01.0000] <annevk>
i added a note about changing it back

[02:44:00.0000] <hsivonen>
annevk: considering the problem holistically includes deciding if Selectors should always be ASCII-case-insensitive when matching on XHTML-namespace nodes even in XML docs

[02:45:00.0000] <jgraham>
"TLS server side implementers seem to be a little challenged [...] I very much hope WS implementers can do a better job" — how far we have come from "Amateur Programmers"

[02:45:01.0000] <annevk>
hsivonen, I would have no problem with that

[02:46:00.0000] <hsivonen>
now constituencies that are supposed to rank higher than theoretical purity need to remember to use lower case only in user style sheets and UA style sheet supplements (in browser extensions)

[02:46:01.0000] <hsivonen>
jgraham: I initially read WS as WS-*.

[02:46:02.0000] <annevk>
jgraham, yeah, wtf

[02:46:03.0000] <annevk>
better job than TLS

[02:46:04.0000] <annevk>
lolz

[02:50:00.0000] <Workshiva>
hsivonen: Maybe one day people won't remember WS-*

[02:52:00.0000] <Hixie>
hsivonen: tag names and attributes in Selectors should not match case-insensitively in XML

[02:53:00.0000] <Hixie>
hsivonen: they only match case-insensitively in HTML because the parser on the HTML side is itself doing case-folding

[02:57:00.0000] <annevk>
Hixie, they could match case-insensitively for nodes in the HTML namespace regardless of the type of the Document

[02:57:01.0000] <annevk>
Hixie, that is much closer to how things work in implementations (except the case-insensitve is also guarded by a isHTMLDocument check)

[02:58:00.0000] <Hixie>
well, hold on

[02:58:01.0000] <Hixie>
depends what you mean by case-insensitively, i guess

[02:58:02.0000] <Hixie>
do you want A {} to match <A xmlns="http://www.w3.org/1999/xhtml"/>  ?

[02:58:03.0000] <Hixie>
er

[02:58:04.0000] <Hixie>
do you want a {} to match <A xmlns="http://www.w3.org/1999/xhtml"/>  ?

[02:58:05.0000] <annevk>
no

[02:58:06.0000] <annevk>
neither would match, in fact, with these rules

[02:58:07.0000] <Hixie>
well you want the first to match

[02:59:00.0000] <Hixie>
clearly

[02:59:01.0000] <zcorpan_>
why?

[02:59:02.0000] <annevk>
it won't match in HTML documents with HTML5 reality

[02:59:03.0000] <Hixie>
?

[02:59:04.0000] <annevk>
it will match in XML documents as long as we keep the isHTMLDocument() check

[02:59:05.0000] <Hixie>
in HTML, if I do <A>, it turns into <a>, so it's fine

[02:59:06.0000] <Hixie>
in XML it doesn't

[02:59:07.0000] <annevk>
you can still do createElementNS() in HTML

[03:00:00.0000] <Hixie>
you can, sure, but that's far less of a worry

[03:00:01.0000] <zcorpan_>
why are you worried about <A xmlns="http://www.w3.org/1999/xhtml"/>?

[03:00:02.0000] <zcorpan_>
that's invalid anyway

[03:00:03.0000] <annevk>
uppercase HTML element names is a worry?

[03:00:04.0000] <annevk>
seems as theoretical as createElementNS

[03:00:05.0000] <Hixie>
i'm worried about <myWidget>

[03:00:06.0000] <Hixie>
or <x-myWidget>

[03:01:00.0000] <annevk>
if people used XML, sure

[03:01:01.0000] <zcorpan_>
Hixie: i think there are basically 0 pages that rely on that

[03:01:02.0000] <Hixie>
today, sure

[03:02:00.0000] <zcorpan_>
so then we can change it today

[03:02:01.0000] <Hixie>
but if we ever introduce something like <x-foo> as an element name, e.g. for use with XBL, it'd be very confusing to authors if they suddenly could only style their elements if they were lowercase

[03:02:02.0000] <Hixie>
look i'm all for simplifying and all, but let's not do so by burning bridges that don't need to be burnt

[03:02:03.0000] <Hixie>
the platform is crazy unintuitive enough as it is

[03:03:00.0000] <zcorpan_>
data-* already requires lowercase

[03:04:00.0000] <Hixie>
yeah, but not much we can do about that

[03:04:01.0000] <hsivonen>
Hixie: making Selectors work right with SVG camelCase and HTML "case-insensitive" names in HTML docs means that the data structures representing selectors have to contain the original-case string as an interned pointer and the ascii-lowercased string as an interned pointer

[03:04:02.0000] <Hixie>
hsivonen: authors > implementors

[03:05:00.0000] <hsivonen>
Hixie: once you've gone that far, not doing the same thing in XHTML only makes the style sheets less cacheable and the matching code have two cases

[03:06:00.0000] <Hixie>
that went over my head

[03:06:01.0000] <zcorpan_>
Hixie: i'm not convinced the current setup is any better for authors

[03:06:02.0000] <hsivonen>
Hixie: if you've implemented what makes sense for HTML (which is real-world constrained), making the XML side do something different means you have to support two cases

[03:07:00.0000] <hsivonen>
Hixie: the second one of which is motivated by theoretical purity

[03:07:01.0000] <Hixie>
there's a difference between theoretical purity and clean design

[03:08:00.0000] <hsivonen>
Hixie: and if you don't want to check isInHtmlDocument() at selector matching time, you make the HTML-specific interned string be case-folded or not case-folded at style sheet parse time

[03:08:01.0000] <hsivonen>
Hixie: which means compiled style sheets aren't cacheable across HTML and XML

[03:08:02.0000] <Hixie>
i thought we weren't caring about theoretical concerns?

[03:08:03.0000] <hsivonen>
different concerns! :-)

[03:09:00.0000] <Hixie>
uh huh

[03:09:01.0000] <Hixie>
XML is case-sensitive

[03:09:02.0000] <Hixie>
it is not intuitive for it to be inconsistent

[03:09:03.0000] <Hixie>
one of the few things about the XML side of the platform that is actually a redeeming factor is that it is at least somewhat consistent and mostly free of weird quirks

[03:10:00.0000] <Hixie>
let's not go and bring them all into XML

[03:10:01.0000] <Hixie>
it's one thing to have namespace-specific features (like backgrounds on <html:body> propagating to the viewport) in the name of compat, but it's far worse to have quirks on elements that don't even exist yet

[03:10:02.0000] <hsivonen>
making something case-insensitive is one of those things that seem really simple when someone first suggests it but that lead down to an abyss of implementation troubles

[03:11:00.0000] <hsivonen>
of course, the usability folks will claim that the abyss doesn't matter, because case-insensitivity is supposed to be human-friendly

[03:11:01.0000] <annevk>
so I'm now more radical than Hixie ;p

[03:13:00.0000] <Hixie>
annevk: my "radicalness" is usually driven by trying to simplify -- I don't think this simplifies. Or rather, it simplifies implementations, at the cost of complicating the platform for authors, which is the wrong prioritisation.

[03:13:01.0000] <hsivonen>
Hixie: fwiw, cacheability isn't a theoretical concern for impls. You know that clueful implementors feel they have to make caching work "right" even if the case breaking caching were rare to non-existent in practice

[03:13:02.0000] <hsivonen>
Hixie: I mean, you could put a caching test in Acid4 for all an implementor knows!

[03:14:00.0000] <Hixie>
parsing a sheet is cheap

[03:14:01.0000] <hsivonen>
Hixie: you still have to write the code and do the QA to make sure you actually reparse. that's my point.

[03:15:00.0000] <Hixie>
*shrug*

[03:15:01.0000] <Hixie>
it's already written in most browsers

[03:15:02.0000] <hsivonen>
(I agree that it would suck for UA style sheets to match nodes that didn't actually get the right implementation classes)

[03:15:03.0000] <hsivonen>
(so dominos would fall...)

[03:16:00.0000] <zcorpan_>
UA style sheets already don't use the case sensitivity rules for author style sheets per html5

[03:17:00.0000] <zcorpan_>
for attribute values

[03:17:01.0000] <Hixie>
that doesn't affect future elements that the author might invent

[03:18:00.0000] <Hixie>
wow, julian thinks that image/svg+xml not being registered for 10 years is a _success_

[03:21:00.0000] <Hixie>
anyway, i should go to bed

[03:21:01.0000] <Hixie>
nn

[03:33:00.0000] <abarth>
jgraham: the hybi working group is just insane

[03:33:01.0000] <abarth>
jgraham: i'm secretly hoping they screw up the protocol so badly that it's unusable :(

[03:35:00.0000] <jgraham>
abarth: Not very secretly anymore :)

[03:36:00.0000] <jgraham>
Anyway it seems unlikely that it will go that badly wrong, but it may be suboptimal

[03:36:01.0000] <annevk>
abarth, fwiw, I was mostly j/k on the cookie list

[03:36:02.0000] <abarth>
i know

[03:36:03.0000] <annevk>
abarth, Opera even implemented Cookie2

[03:36:04.0000] <annevk>
(though we're gonna nuke it one of these days)

[03:36:05.0000] <jgraham>
The "four weeks" timetable has been entirely ignored

[03:36:06.0000] <jgraham>
Which is a pity

[03:37:00.0000] <jgraham>
Because it means that -76 will have lots of time to get traction

[03:37:01.0000] <jgraham>
Whether they want it to or not

[03:37:02.0000] <ake1>
is there no standard font-family/size etc. on textareas? i have come to realise that using textareas and em is a bad idea.

[03:38:00.0000] <annevk>
yeah, they way hybi is being run now it seems like it might take years

[03:38:01.0000] <abarth>
annevk: i wish we could give people a better way to manage state than cookies, but it's a tough problem

[04:23:00.0000] <jgraham>
abarth: Did you say you had more parser tests?

[04:24:00.0000] <abarth>
i pushed a handful to html5lib

[04:24:01.0000] <abarth>
nothing too exciting

[04:24:02.0000] <jgraham>
Oh you pushed them already?

[04:24:03.0000] <jgraham>
Great

[04:24:04.0000] <jgraham>
Thanks :)

[04:24:05.0000] <abarth>
we're basically done, so we probably won't be generating too many more

[04:24:06.0000] <abarth>
unless we have bugs

[04:24:07.0000] <jgraham>
Sure

[04:24:08.0000] <abarth>
at some point we need to review all the changes to the spec to make sure we have them all

[04:24:09.0000] <jgraham>
Ones from bugs are possibly the most intersting of course

[04:25:00.0000] <abarth>
so far the bugs we've had are mostly with integrating with the render tree

[04:25:01.0000] <abarth>
not with the DOM

[04:25:02.0000] <abarth>
there's something goofy called a "demoted" form element

[04:26:00.0000] <abarth>
that means the form element magically renders differently depending on what happens to it during parsing

[04:26:01.0000] <abarth>
very strange

[04:26:02.0000] <jgraham>
Wow

[04:26:03.0000] <hsivonen>
abarth: what's the motivation for having that sort of thing?

[04:27:00.0000] <abarth>
the layout of some sites break without it

[04:27:01.0000] <abarth>
i think it's just a design error

[04:27:02.0000] <abarth>
in the render tree

[04:27:03.0000] <hsivonen>
abarth: what happens in Gecko on those sites?

[04:27:04.0000] <abarth>
they render correctly

[04:27:05.0000] <hsivonen>
abarth: why?

[04:28:00.0000] <abarth>
this is the case when the form element gets inserted in teh InTableBody insertion mode

[04:28:01.0000] <abarth>
if you don't "demote" the form element

[04:28:02.0000] <abarth>
it gets rendered as if it were a table-cell

[04:28:03.0000] <abarth>
which throws off the layout of the table

[04:28:04.0000] <abarth>
the right fix is probably to fix the render tree

[04:29:00.0000] <abarth>
so that it doesn't create these nutty anonymous table cells

[04:29:01.0000] <abarth>
but the expedient solution, for the time being, was to just set the "demoted" flag on the form

[04:29:02.0000] <hsivonen>
abarth: we have a UA style sheet rule for that

[04:30:00.0000] <abarth>
oh yeah?

[04:30:01.0000] <abarth>
what does that look like?

[04:30:02.0000] <zcorpan_>
it's specced in html5 iirc

[04:30:03.0000] <hsivonen>
abarth: http://mxr.mozilla.org/mozilla-central/source/layout/style/html.css#465

[04:31:00.0000] <abarth>
Important: don't show these forms in HTML

[04:31:01.0000] <abarth>
:)

[04:31:02.0000] <hsivonen>
:-moz-is-html matches if the owner doc of the node has the HTMLness bit set

[04:31:03.0000] <zcorpan_>
"In HTML documents, the user agent is expected to hide form elements that are children of table, thead, tbody, tfoot, or tr elements, irrespective of CSS rules."

[04:31:04.0000] <zcorpan_>
http://www.whatwg.org/specs/web-apps/current-work/complete/rendering.html#display-types

[04:32:00.0000] <abarth>
ok, i can try something like that

[04:32:01.0000] <abarth>
i usually stay away from the render tree

[04:32:02.0000] <abarth>
so i might ask some who knows about rendering to try it

[05:47:00.0000] <annevk>
emailed public-webapps with Web DOM Core notes

[05:57:00.0000] <annevk>
prolly best presentation at dConstruct: http://booktwo.org/notebook/wikipedia-historiography/

[05:58:00.0000] <annevk>
those books are huge btw

[05:59:00.0000] <adactio>
annevk: James Bridle completely blew my mind with his presentation. Awesome, in the true sense of the word.

[06:00:00.0000] <adactio>
annevk: By the way, it was good to see you, brief as it was. Shame we didn't have a chance to chat some more.

[06:02:00.0000] <annevk>
depending on the length of your stay, we can probably chat in the Netherlands start of October

[06:03:00.0000] <Peter`>
so you're coming now after all, annevk? :-p

[06:04:00.0000] <annevk>
well, I'm in town :)

[06:11:00.0000] <annevk>
hmm, DOM3Core is full of bugs

[06:11:01.0000] <annevk>
e.g. pseudo-code that assumes there is always a root element (return documentElement.isDefaultNamespace(namespaceURI);)

[06:13:00.0000] <zcorpan_>
that's not normative though is it?

[06:14:00.0000] <annevk>
the normative text says "See Namespace URI Lookup for details on the algorithm used by this method."

[06:14:01.0000] <annevk>
now idea on how else you would know the answer

[06:15:00.0000] <zcorpan_>
awesome

[06:15:01.0000] <hsivonen>
isDefaultNamespace and lookupNamespaceURI are not my favorite DOM methods

[06:16:00.0000] <zcorpan_>
what's your favorite?

[06:16:01.0000] <hsivonen>
good question

[06:16:02.0000] <hsivonen>
dunno, but those aren't it

[06:17:00.0000] <jgraham>
That sounds like a very geeky lame chat up line

[06:17:01.0000] <zcorpan_>
annevk: btw baseURI is going to need some html-specific processing

[06:17:02.0000] <jgraham>
Like an alternative to "what's your favourite colour"

[06:17:03.0000] <jgraham>
Well "chat up" is not quite right

[06:18:00.0000] <jgraham>
Umm, I should stop being incoherent about now, right?

[06:18:01.0000] <hsivonen>
what's the idiomatic way to sort a set of key-value pairs of strings by the lexical UTF-16 code unit order of the keys in JS?

[06:18:02.0000] <annevk>
zcorpan_, we are providing hooks instead

[06:19:00.0000] <zcorpan_>
annevk: ok

[06:19:01.0000] <annevk>
at least, we do that elsewhere at the moment for base URL fixups

[06:19:02.0000] <jgraham>
hsivonen: sort with a custom comparison function?

[06:19:03.0000] <jgraham>
assuming you have [[key1:value1], [key2:value2]] or similar

[06:19:04.0000] <jgraham>
s/:/,/g

[06:19:05.0000] <annevk>
but baseURI can be set, so HTML5 can just set it, afaict

[06:20:00.0000] <hsivonen>
jgraham: I guess I'm going to follow http://stackoverflow.com/questions/890807/iterate-over-a-javascript-associative-array-in-sorted-order

[06:20:01.0000] <hsivonen>
i.e. put keys in an array and .sort() then iterate over the array

[06:21:00.0000] <hsivonen>
/me is mildly disappointed at not being able to iterate over the keys of an object directly in the lexical order

[06:23:00.0000] <jgraham>
hsivonen: Oh, you have an object you are using as a hashmap?

[06:24:00.0000] <jgraham>
That is a bit different then

[06:24:01.0000] <hsivonen>
jgraham: yeah

[06:24:02.0000] <hsivonen>
jgraham: what I want to do is sorting the attributes of a node in the right order for the html5lib tree builder tests

[06:24:03.0000] <jgraham>
But it seems asking a lot for the language to support this use case directly

[06:24:04.0000] <jgraham>
hsivonen: I see

[06:25:00.0000] <hsivonen>
jgraham: in Java, I used TreeMap and it does the right thing on iteration

[06:25:01.0000] <jgraham>
That seems undesirable in general, doesn't it?

[06:26:00.0000] <hsivonen>
jgraham: if you don't want sorted iteration, you use HashMap in Java

[06:26:01.0000] <hsivonen>
TreeMap by design orders stuff

[06:26:02.0000] <jgraham>
Hmm

[06:27:00.0000] <hsivonen>
and in Python, you can ask a map for its keys and sort that list

[06:27:01.0000] <hsivonen>
anyway time to just write this in code

[06:27:02.0000] <jgraham>
In ES5 you can ask for the keys directly

[06:27:03.0000] <hsivonen>
ooh. how?

[06:28:00.0000] <jgraham>
Object.keys or so

[06:28:01.0000] <jgraham>
Object.keys(my_object)

[06:28:02.0000] <jgraham>
I think

[06:28:03.0000] <hsivonen>
cool.

[06:28:04.0000] <hsivonen>
thanks

[06:28:05.0000] <jgraham>
But I have never used it

[06:28:06.0000] <hsivonen>
/me tries if it works in Gecko

[06:29:00.0000] <hsivonen>
cool. works

[06:31:00.0000] <hsivonen>
annevk: fwiw, I'm just working on code that uses Element.attributes

[06:31:01.0000] <hsivonen>
useful for test cases :-/

[06:32:00.0000] <jgraham>
/me guesses hsivonen is using it in exactly the same way he is 

[06:33:00.0000] <Philip`>
The Live DOM Viewer uses .attributes too

[06:33:01.0000] <jgraham>
Heh

[06:33:02.0000] <annevk>
how is everyone using it?

[06:34:00.0000] <hsivonen>
annevk: iterating over attributes to get localName, namespaceURI and value

[06:34:01.0000] <hsivonen>
annevk: in order to print them all

[06:34:02.0000] <annevk>
that should be easy enough to keep

[06:35:00.0000] <annevk>
kind of depends to what level people are willing to hack on the DOM to simplify it and see if things break

[06:35:01.0000] <annevk>
otherwise we'll just end up with complexity

[06:35:02.0000] <annevk>
so if maciej/sicking can be convinced to play around a bit there's a good chance I think

[06:35:03.0000] <annevk>
otherwise not so much

[06:38:00.0000] <Philip`>
/me sees pages using getNamedItem(name).value, item=createAttribute(name), setNamedItem(item), etc

[06:39:00.0000] <annevk>
really? sigh

[06:40:00.0000] <annevk>
especially createAttribute is kind of unfortunate

[06:41:00.0000] <Philip`>
http://tonik.webovastranka.cz/friend?type=file&subservice=1

[06:49:00.0000] <hsivonen>
sigh. for (var e in array) doesn't work as expected 

[06:49:01.0000] <hsivonen>
shows how rusty my JS is

[06:49:02.0000] <jgraham>
hsivonen: What do you expect?

[06:50:00.0000] <hsivonen>
jgraham: e to become each of the array elements in turn

[06:50:01.0000] <jgraham>
Ah, no, that would be python :)

[06:51:00.0000] <Philip`>
"for each (var e in array)" if you want to use SpiderMonkey extensions

[06:51:01.0000] <Philip`>
though the warnings in https://developer.mozilla.org/en/JavaScript/Reference/Statements/for...in#Description are relevant

[06:52:00.0000] <hsivonen>
I guess I'll just go with an index

[06:53:00.0000] <zcorpan_>
that's what i usually do

[06:53:01.0000] <Philip`>
(I think SpiderMonkey changes the array iteration order depending on whether it applies the dense array optimisation or not, so it'll often be ordered but not always)

[06:54:00.0000] <hsivonen>
Philip`: oh, I want ordered iteration

[06:54:01.0000] <Philip`>
Which order? :-)

[06:54:02.0000] <hsivonen>
Philip`: the order of the array

[06:54:03.0000] <hsivonen>
as returned by .sort() on another one

[06:54:04.0000] <Philip`>
Ah

[06:56:00.0000] <Philip`>
I think you need either for(i=0;i<a.length;++i) or a.forEach(function(){ ... }) then, since nothing else provides enough guarantees

[06:58:00.0000] <peterhil>
hsivonen: I'm not sure what you want to do, but Trie could be used for sorting: http://en.wikipedia.org/wiki/Trie#Sorting

[07:00:00.0000] <jarib>
anyone know where a good place would be to find tests for HTMLTableElement.rows (especially with regard to nested tables)?

[07:01:00.0000] <hsivonen>
peterhil: JavaScript doesn't have built-in tries, does it?

[07:02:00.0000] <hsivonen>
I used Object.keys(foo).sort()

[07:02:01.0000] <peterhil>
Guess it doesn't.

[07:17:00.0000] <hsivonen>
the html5lib license file has the wrong copyright year and lacks authorship data for the WebKit tests

[07:17:01.0000] <hsivonen>
ezyang, too

[07:17:02.0000] <MikeSmith>
jarib: http://trac.webkit.org/browser/trunk/LayoutTests/fast/dom/HTMLTableElement ,maybe

[07:20:00.0000] <annevk>
zcorpan_, do you know why http://www.w3.org/TR/DOM-Level-3-Core/namespaces-algorithms.html does originalElement.lookupNamespaceURI(Element's prefix) == namespaceURI) checks?

[07:21:00.0000] <annevk>
in lookupNamespacePrefix?

[07:21:01.0000] <annevk>
they seem redundant

[07:30:00.0000] <jgraham>
hsivonen: You planning to fix?

[07:30:01.0000] <hsivonen>
jgraham: not really

[07:31:00.0000] <jarib>
MikeSmith: thanks, will take a look

[07:31:01.0000] <hsivonen>
jgraham: I could fix the year, but I don't know if the unlisted contributors chose to waive notice

[07:31:02.0000] <MikeSmith>
jarib: np

[07:31:03.0000] <hsivonen>
jgraham: And I don't know who the copyright holder for the contribs abarth landed is

[07:32:00.0000] <jgraham>
hsivonen: AFAIK it was abarth and eseidel

[07:32:01.0000] <hsivonen>
jgraham: but it would be really nice to have the legal stuff in order before I import the new tests to m-c

[07:33:00.0000] <hsivonen>
jgraham: well, I don't know if that means abarth and eseidel, UC Berkeley, Google or something else, so I'm not gonna land legal stuff based on guessing

[07:33:01.0000] <jgraham>
hsivonen: I was told by Eric that they considered them public domain

[07:33:02.0000] <hsivonen>
jgraham: cool. that works

[07:33:03.0000] <jgraham>
But I agree you should ask them

[07:34:00.0000] <hsivonen>
jgraham: than I can update the year to 2010, since the contribs I've been landing are Copyright 2010 Mozilla Foundation

[07:34:01.0000] <hsivonen>
*then

[07:34:02.0000] <jgraham>
(not least because I don't remember *where* I was told that so might have difficulty producing documentary evidence)

[07:42:00.0000] <hsivonen>
soo... window.btoa assumes the code points in the argument have the high half as zeros

[07:42:01.0000] <hsivonen>
what's the correct way to to convert a JS string to base64 so that it's first encoded as UTF-8?

[07:59:00.0000] <Workshiva>
hsivonen: Could you give an example of what doesn't work?

[08:00:00.0000] <jgraham>
/me wonders why hsivonen is doing base64 conversions at all

[08:03:00.0000] <hsivonen>
jgraham: afterwards I realized that I can stick a JS string unescaped into a data: URL and the right magic will happen

[08:40:00.0000] <annevk>
so DOM3Core states

[08:40:01.0000] <annevk>
"Before returning found prefix the algorithm needs to make sure that the prefix is not redefined on an element from which the lookup started."

[08:40:02.0000] <annevk>
that seems to assume async lookup

[08:40:03.0000] <annevk>
which is not at all the case

[08:41:00.0000] <annevk>
what were these people smoking

[08:42:00.0000] <annevk>
the more I complete this new doc the less I will have to study it I suppose

[08:42:01.0000] <annevk>
yay

[09:00:00.0000] <annevk>
now wondering why isDefaultNamespace is a method rather than an attribute that returns the default namespace

[09:00:01.0000] <annevk>
could just be an attribute

[09:09:00.0000] <boogyman>
Can someone point me to literature explaining the purpose behind allowing block-level elements to be encapsulated by an anchor tag in html5

[09:09:01.0000] <Workshiva>
People do it, browsers support it, none of the alternative solutions were any better

[09:12:00.0000] <annevk>
also, we obsoleted the block-level concept so it made sense

[09:12:01.0000] <annevk>
but really

[09:12:02.0000] <annevk>
dom3core was designed by ....

[09:13:00.0000] <boogyman>
monkeys

[09:13:01.0000] <jgraham>
with guns

[09:13:02.0000] <hsivonen>
Hixie: FYI, another interesting <base>-related site compat problem: https://bugzilla.mozilla.org/show_bug.cgi?id=593807

[09:14:00.0000] <hsivonen>
boogyman: people really wanted the feature and it mostly worked already

[09:14:01.0000] <hsivonen>
boogyman: IIRC, it had use cases, too :-)

[09:15:00.0000] <boogyman>
so because people want it, it should be so?

[09:16:00.0000] <hsivonen>
boogyman: IIRC, they had use cases to go with the wanting

[09:16:01.0000] <hsivonen>
boogyman: on Eric Meyer's blog, IIRC

[09:16:02.0000] <boogyman>
can you point me to the logs and/or literature?

[09:17:00.0000] <hsivonen>
boogyman: http://meyerweb.com/eric/html-xhtml/html5-linking.html

[09:20:00.0000] <boogyman>
hsivonen: thanks for the link, and can you provide a situation where linking an entire table row is using proper design techniques?

[09:22:00.0000] <hsivonen>
boogyman: sorry, at this point, I'm going to defer to the search function of the whatwg list and Eric Meyer's site

[09:22:01.0000] <hsivonen>
gotta run

[09:22:02.0000] <hsivonen>
AFK

[09:22:03.0000] <boogyman>
t/c

[09:24:00.0000] <espadrine>
boogyman: the tool is neutral...

[09:25:00.0000] <boogyman>
what tool?

[09:25:01.0000] <espadrine>
Sure, people can link an entire table row.

[09:26:00.0000] <espadrine>
But the fact that it is allowed doesn't mean anyone should do it.

[09:26:01.0000] <jgraham>
Umm, you can't using the current method anyway

[09:26:02.0000] <jgraham>
Unless you use XHTML or javascript

[09:27:00.0000] <jgraham>
Linking an entire table row seems rather useful though

[09:29:00.0000] <boogyman>
It seems like it's feeding back into improper design... Tables are already abused, so why offer the ability to abuse further? I can see where one might want to link an entire row, but that row, should consist of exactly 1 data/head cell with the appropriate column span

[09:30:00.0000] <nimbupani>
i dont see why it is improper design, sometimes all you want to do is have tabular data linked to one common page.

[09:30:01.0000] <nimbupani>
the table is visual data

[09:31:00.0000] <nimbupani>
linking is not visual but just navigation.

[09:31:01.0000] <annevk>
but linking table rows is not going to work

[09:31:02.0000] <jgraham>
boogyman: A good example colud be a mail client where the whole row was a link to the message

[09:32:00.0000] <annevk>
other example: http://html5.org/tools/web-apps-tracker

[09:32:01.0000] <jgraham>
It is clearly tabular data

[09:32:02.0000] <annevk>
but it does not work with the HTML5 parser (or with CSS)

[09:32:03.0000] <boogyman>
jgraham: there's no reason the whole row must be a link.. the TITLE of the message is perfectly capable of carrying that distinction

[09:32:04.0000] <annevk>
well, it would work with CSS if <a> replaced the <tr>

[09:32:05.0000] <annevk>
but then the semantics get dubious

[09:33:00.0000] <jgraham>
boogyman: There's no reason it *has* to be of course. But there's no reason it *shouldn't* be either

[09:33:01.0000] <jgraham>
if it makes nice UI

[09:33:02.0000] <annevk>
expressing the target area of a link in CSS might be neat

[09:34:00.0000] <annevk>
so you can say tr { redirect-hit-testing:childA } (bogus syntax)

[09:35:00.0000] <nimbupani>
does it not lead to more confusion between content and presentation?

[09:35:01.0000] <boogyman>
jgraham: proper design and/or ui techniques mandate that links be clearly distinguishable, and having 1 long "underline" across row after row ... doesn't make for good UI

[09:36:00.0000] <jgraham>
One would clearly not have one long underline

[09:36:01.0000] <boogyman>
So you're proposing to remove the default user-agent rendering of anchor tags?

[09:36:02.0000] <annevk>
web page UI != web app UI

[09:37:00.0000] <jgraham>
Anyway I am pretty sure it would make for good UI because I have often wished things would behave like this and many desktop apps do

[09:37:01.0000] <jgraham>
I don't see how the defaults really matter

[09:37:02.0000] <boogyman>
graceful degradation, and 508 compliance?

[09:38:00.0000] <jgraham>
Browsing without CSS will many many sites less usable

[09:38:01.0000] <jgraham>
*make many

[09:39:00.0000] <jcranmer>
try browsing the web without JS

[09:39:01.0000] <boogyman>
So you're okay with changing the specification because of the poor designs of some arbitrary number of websites, main-stream or not?

[09:39:02.0000] <jgraham>
Hmm?

[09:40:00.0000] <jgraham>
I am OK with making good design possible from pure markup even if it doesn't look great with the default style sheet

[09:40:01.0000] <boogyman>
Just because some websites do not follow proper design techniques is not a reason to abandon

[09:40:02.0000] <jcranmer>
making an HTML agent without supporting CSS or JS is just shooting yourself in the foot

[09:40:03.0000] <jgraham>
In this case it is a fail anyway because the solution doesn't work with table rows

[09:41:00.0000] <boogyman>
jcranmer: Markup first, Then presentation, Then dynamic content

[09:41:01.0000] <annevk>
boogyman, UAs without CSS could provide reasonable alternative presentation once the pattern becomes more prevalent

[09:42:00.0000] <annevk>
boogyman, if we only sticked with what is allowed in the past there would be no progress

[09:42:01.0000] <boogyman>
I agree, but not all progress is good

[09:42:02.0000] <jcranmer>
you say to-may-to, I say to-mah-to

[09:43:00.0000] <annevk>
I have a colleague that really makes a point of that tomato thing

[09:43:01.0000] <jcranmer>
/me needs to choose idioms that are easier to express in written language

[09:44:00.0000] <annevk>
btw

[09:44:01.0000] <annevk>
getting the default namespace is as easy as lookupNamespaceURI(null)

[09:44:02.0000] <boogyman>
I'd rather have these types of situations sorted before the specification comes out of draft form, as it will take 5-10 yrs for most user-agents to reasonably support it

[09:45:00.0000] <jcranmer>
the only compelling argument I see for having <a> only include inline content is that it keeps links small if people forget the </a>

[09:46:00.0000] <boogyman>
jcranmer: which in development should be sorted... 

[09:46:01.0000] <jcranmer>
so it's not a very strong argument, then

[09:47:00.0000] <jgraham>
This is something UAs already support 

[09:47:01.0000] <jgraham>
That's why we ended up with the doesn't-work-with-tables solution

[09:49:00.0000] <jgraham>
(a good argument against the current solution might be that it will encourage people to use <div> instead of table cells for tabular data and mnake it all display:table-cell or whatever

[09:50:00.0000] <jgraham>
like <div class="table"><a class="tr"><div class="td"> and so on, and some CSS attached to the classes)

[09:51:00.0000] <boogyman>
WOW, more improper design techniques

[09:51:01.0000] <jcranmer>
it all depends on the copy-paste sources

[10:17:00.0000] <annevk>
oh god

[10:17:01.0000] <annevk>
isSupported()

[10:18:00.0000] <annevk>
bloat

[10:20:00.0000] <Dashiva>
annevk.hasFeature('HtmlEditor')

[10:23:00.0000] <annevk>
it's just painful how much stuff is in here that is poorly thought out and designed

[10:25:00.0000] <annevk>
of course, it wasn't news to anyone that the DOM was a kludge, but it was news to me how that was driven throughout the design whole of it -- it is inherently a kludge, so to say

[10:31:00.0000] <annevk>
another one

[10:31:01.0000] <annevk>
Text.wholeText is readonly

[10:31:02.0000] <annevk>
Node.textContent is roughly of equivalent functionality but can also be set

[10:31:03.0000] <jcranmer>
if we could, I suppose we would rewrite everything from scratch

[10:31:04.0000] <annevk>
for Text.wholeText we need Text.replaceWholeText()

[10:32:00.0000] <annevk>
this whole wholeText feature is dubious to start with, but apparently every silly browser has it implemented

[10:33:00.0000] <annevk>
jcranmer, when I think about that I never no at what level it would be appropriate to stop

[10:33:01.0000] <annevk>
s/no/know/

[10:34:00.0000] <annevk>
it's also a lot easier of course to set up a slightly enhanced system now we know the requirements of now

[10:43:00.0000] <abarth>
jgraham, hsivonen: if you're talking about the html5lib tests, they're available under this license: http://trac.webkit.org/browser/trunk/WebKit/LICENSE

[10:44:00.0000] <abarth>
everything in svn.webkit.org that doesn't have an explicit license is available under that license

[10:44:01.0000] <annevk>
what about 2010?

[10:44:02.0000] <abarth>
:)

[10:45:00.0000] <abarth>
not sure who's supposed to bump the year on the file

[10:45:01.0000] <abarth>
i'm told that it doesn't actually matter

[10:45:02.0000] <annevk>
licensing is so passe anyway ;p

[10:48:00.0000] <abarth>
(to be clear, i was told the year doesn't actually matter.  the rest is moderately important)

[11:30:00.0000] <hsivonen>
abarth: whoa so the test cases you committed to html5lib aren't actually under the same license as the rest of html5lib?

[11:31:00.0000] <hsivonen>
abarth: is there a lawyer-satisfying statement on the WebKit site somewhere saying that license headerless test cases in the WebKit tree are under the Apple license even if they came from non-Apple contributors?

[11:32:00.0000] <abarth>
would you like them under the MIT license?

[11:32:01.0000] <hsivonen>
abarth: it would be simpler if everything in the html5lib repo were MIT, sure

[11:33:00.0000] <abarth>
IANAL, but i think this is the operative text:

[11:33:01.0000] <abarth>
http://pastebin.com/kXF5RqLm

[11:33:02.0000] <abarth>
you agree to that every time you upload a patch

[11:34:00.0000] <abarth>
also the committer agreement you sign when you get commit rights says something similar

[11:35:00.0000] <hsivonen>
abarth: thanks! I'll point Mozilla legal to that

[11:35:01.0000] <abarth>
i suspect, actually, they're already licensed under MIT as well

[11:35:02.0000] <abarth>
given that eric and i wrote them

[11:35:03.0000] <abarth>
and we added them to html5lib

[11:35:04.0000] <abarth>
which is licensed under MIT

[11:36:00.0000] <abarth>
ideally we would have agreed to something that says everything we push to html5lib is licensed under MIT

[11:36:01.0000] <abarth>
or, even better, the files themselves would carry a license block

[11:38:00.0000] <hsivonen>
abarth: I expected them to be under MIT, but the I noticed that the contributors weren't listed in the LICENSE file on the top level of html5lib

[11:39:00.0000] <abarth>
ok, i can add eric and myself to that list if you think that's helpful

[11:41:00.0000] <hsivonen>
abarth: I think it would be helpful to have the copyright holders listed, there (unless there are copyright holders who deliberately wish to waive notices)

[11:41:01.0000] <hsivonen>
s/,//

[11:42:00.0000] <abarth>
done

[11:42:01.0000] <abarth>
this licensing stuff is mostly religion as far as i can tell

[11:42:02.0000] <hsivonen>
abarth: thanks

[11:43:00.0000] <hsivonen>
abarth: sorry about being annoying, but I need to cover my legal behind for stuff I push to mozilla-central

[11:43:01.0000] <abarth>
oh, not at all.  Everyone in the community appreciates your being careful

[11:43:02.0000] <abarth>
webkit isn't careful enough, IMHO

[11:44:00.0000] <abarth>
i've long thought we should have a license bot that checks all incoming patches for appropriate license blocks

[12:03:00.0000] <AryehGregor>
MediaWiki developers don't seem to care about licenses at all.  No one signs anything when they submit patches or get commit access, and almost none of the files have license blocks.

[12:04:00.0000] <Moo^_^>
AryehGregor: live dangerously, die young? :)

[12:06:00.0000] <jgraham>
There are more people missing from the license file

[12:06:01.0000] <jgraham>
Looking at the commit history. And I should change my email address

[12:06:02.0000] <jgraham>
And there is probably more that is wrong

[12:58:00.0000] <AryehGregor>
/me discovers that Chrome now suggests the Readability bookmarklet when he starts typing "readability" in the Omnibox, which is awesome, since he can't figure out how to actually bookmark it

[13:26:00.0000] <aho>
AryehGregor, just create a new bookmark and paste that "javascript:..." junk there (in this case you can get that by right clicking the readability button and then selecting "copy link location" from the context menu)

[13:26:01.0000] <AryehGregor>
Oh, you know, I think that's what I did.

[13:26:02.0000] <AryehGregor>
Which is why Chrome found it.

[13:26:03.0000] <AryehGregor>
Duh.

[13:27:00.0000] <AryehGregor>
/me was vaguely wondering how it could have associated the bookmarklet with "Readability" automatically

[13:27:01.0000] <aho>
heh

[13:27:02.0000] <AryehGregor>
/me guesses he just assumes Chrome is magical

[13:28:00.0000] <paul_irish>
it certainly is.

[13:48:00.0000] <AryehGregor>
Does Firefox support ping?  There's a ping IDL attribute on a and area, it looks like, at least in Minefield.

[13:52:00.0000] <AryehGregor>
"On setting, the given value must be converted to the shortest possible string representing the number as a valid non-negative integer"

[13:52:01.0000] <AryehGregor>
That sounds non-trivial, and somehow I suspect browsers don't do it.

[13:53:00.0000] <AryehGregor>
I bet they do whatever ECMAScript says.

[13:53:01.0000] <AryehGregor>
/me wouldn't bet *too* much, though.

[13:54:00.0000] <Philip`>
AryehGregor: That just means omitting any leading 0s, I think

[13:54:01.0000] <AryehGregor>
It doesn't allow exponential notation?

[13:54:02.0000] <AryehGregor>
/me checks

[13:55:00.0000] <AryehGregor>
Oh, it doesn't.

[13:55:01.0000] <AryehGregor>
Okay, you're righ.t

[13:55:02.0000] <AryehGregor>
right.

[13:55:03.0000] <Philip`>
and omitting whitespace

[13:55:04.0000] <AryehGregor>
Ah, for floats it does reference ToString: http://www.whatwg.org/specs/web-apps/current-work/multipage/common-microsyntaxes.html#best-representation-of-the-number-as-a-floating-point-number

[14:28:00.0000] <AryehGregor>
Wow, IE8 supports "maxlength" instead of "maxLength" as an IDL property.  Impressive.

[14:28:01.0000] <AryehGregor>
By the way, is it correct to call them "IDL properties"?  Or is there some better name?

[14:28:02.0000] <AryehGregor>
Because I'm calling them IDL properties everything in the code for this test case, and it would be nice if I weren't completely confusing everyone.

[14:28:03.0000] <AryehGregor>
IDL attribute, I mean.

[14:29:00.0000] <AryehGregor>
Okay, the spec calls them that, so I'm safe.

[14:33:00.0000] <AryehGregor>
Oh, wait, IE8 supports textarea.maxlength but input.maxLength? . . . never mind, I don't even want to know.

[14:35:00.0000] <espadrine>
I don't understand why this does not work:

[14:36:00.0000] <espadrine>
http://software.hixie.ch/utilities/js/canvas/?c.clearRect(0,%200,%20640,%20480);%0Ac.save();%0A%0Avar%20img%20%3D%20new%20Image();%0Aimg.src%20%3D%20'http://croczilla.com/bits_and_pieces/svg/samples/lion/lion.svg';%0Ac.fillStyle%20%3D%20c.createPattern(img,'');%0Ac.fillRect(0,0,c.canvas.width,c.canvas.height);%0A%0Ac.restore();%0A

[14:36:01.0000] <AryehGregor>
"Work" in what sense?

[14:37:00.0000] <espadrine>
If you use one of the images Hixie gives, they appear.

[14:37:01.0000] <espadrine>
On the background.

[14:37:02.0000] <espadrine>
As a pattern.

[14:40:00.0000] <espadrine>
I have tested this piece of code on a number of browsers, none of them draw the image of the lion on the background...

[14:44:00.0000] <espadrine>
Actually, Opera *does*, but only if we *click* on the canvas.

[14:44:01.0000] <espadrine>
... and it crashes.

[14:44:02.0000] <AryehGregor>
Yeah, the example froze up Opera for me.

[14:44:03.0000] <AryehGregor>
And it threw some error in Firefox nightly.

[14:44:04.0000] <AryehGregor>
Displayed a lion picture in Chrome dev, though.

[14:44:05.0000] <espadrine>
Firefox refuses SVG images

[14:45:00.0000] <AryehGregor>
Dunno if it's correct, but it's a pretty lion picture, so I consider it the winner.

[14:45:01.0000] <espadrine>
No way! I tested Chrome dev seconds ago!

[14:45:02.0000] <AryehGregor>
What do you see?

[14:46:00.0000] <espadrine>
Nothing! (Elephants Dream reminiscence :)

[14:46:01.0000] <espadrine>
It is plain blank for me.

[14:48:00.0000] <espadrine>
/me is downloading the latest webkit...

[14:49:00.0000] <espadrine>
Nothing on the latest webkit too...

[14:53:00.0000] <espadrine>
Feels like SVG images are a big bag of bugs in all browsers, not just Firefox...

[15:00:00.0000] <AryehGregor>
I like to test the quality of my refactoring commits by doing git diff | grep ^- | wc -l  and comparing to git diff | grep ^+ | wc -l.

[15:00:01.0000] <AryehGregor>
/me sees -151, +77 on this commit, yay

[15:00:02.0000] <Hixie>
espadrine: you're painting it before it's leaded

[15:01:00.0000] <Hixie>
loaded

[15:01:01.0000] <Philip`>
AryehGregor: Tried "git diff | diffstat"?

[15:01:02.0000] <espadrine>
Hixie: http://software.hixie.ch/utilities/js/canvas/?c.clearRect(0,%200,%20640,%20480);%0Ac.save();%0Avar%20img%20%3D%20new%20Image();%0Aimg.src%20%3D%20'http://croczilla.com/bits_and_pieces/svg/samples/lion/lion.svg';%0Aimg.onload%20%3D%20function()%20{%0Ac.fillStyle%20%3D%20c.createPattern(img,'');%0Ac.fillRect(0,0,c.canvas.width,c.canvas.height);%0A}%0Ac.restore();%0A

[15:02:00.0000] <Philip`>
AryehGregor: or "git diff --stat"

[15:02:01.0000] <AryehGregor>
Philip`, this is git, we don't -- yeah, I was about to say that.

[15:02:02.0000] <Philip`>
AryehGregor: Seems easier than grepping

[15:02:03.0000] <AryehGregor>
git doesn't need any silly "external program" things.

[15:02:04.0000] <Philip`>
So why are you using grep and wc? :-)

[15:02:05.0000] <Hixie>
espadrine: the code in the box gets called ten times a second

[15:02:06.0000] <AryehGregor>
Because I used to a) use SVN, and b) not know about diffstat.

[15:02:07.0000] <Hixie>
espadrine: by the time the image has loaded you've launched another 20 image loads

[15:03:00.0000] <Hixie>
espadrine: and they'll all wipe out the one that did load

[15:06:00.0000] <espadrine>
Hixie: well... this is an issue indeed, but I swear it doesn't work! I just tested a version of it in an html test file!

[15:08:00.0000] <AryehGregor>
/me goes to get something to eat before he tries porting enums to the rewrite of his reflection testing framework

[15:10:00.0000] <jgraham>
espadrine: If you have crashed Opera could you file a bug, please

[15:11:00.0000] <espadrine>
jgraham: sure... although it seems to happen once in twenty times...

[15:11:01.0000] <Hixie>
espadrine: uri?

[15:13:00.0000] <jgraham>
espadrine: No problem

[15:13:01.0000] <jgraham>
Just note that in the description

[15:13:02.0000] <jgraham>
/me can't get the page to load from the permalink for some reason

[15:14:00.0000] <espadrine>
Hixie: http://jseed.sourceforge.net/bugs/bugCan.html

[15:20:00.0000] <Hixie>
can you add a document.body.appendChild(img)

[15:22:00.0000] <Hixie>
so that we can see if it's loading right?

[15:23:00.0000] <espadrine>
Hixie: That does it for Chrome dev. http://jseed.sourceforge.net/bugs/bugCan.html

[15:23:01.0000] <espadrine>
Opera does not trigger the onload event for SVG images, on the other hand.

[15:23:02.0000] <Hixie>
does what?

[15:23:03.0000] <Hixie>
still isn't painting

[15:24:00.0000] <Hixie>
weird

[15:24:01.0000] <Hixie>
OH!

[15:24:02.0000] <Hixie>
dude

[15:24:03.0000] <espadrine>
Hixie: it is painting for me on Opera.

[15:24:04.0000] <Hixie>
"''" isn't a valid argument to createPattern()

[15:25:00.0000] <Hixie>
though 'repeat' should be assumed so that shouldn't be it

[15:25:01.0000] <espadrine>
Yes it is! It is the same as null and "repeat"

[15:25:02.0000] <Hixie>
hm

[15:25:03.0000] <Hixie>
no, it's not valid

[15:25:04.0000] <Hixie>
"The second argument must be a string with one of the following values: repeat, repeat-x, repeat-y, no-repeat."

[15:25:05.0000] <Hixie>
other values are non-conforming, though '' is treated as 'repeat' for some reason

[15:25:06.0000] <espadrine>
Right. It is "tolerated".

[15:25:07.0000] <Hixie>
it's invalid

[15:25:08.0000] <Hixie>
but anyway, it shouldn't affect this

[15:26:00.0000] <espadrine>
It doesn't (I just changed the uri).

[15:28:00.0000] <Hixie>
does it work if you use a png instead of an svg?

[15:30:00.0000] <espadrine>
Yes.

[15:30:01.0000] <Hixie>
must just be poor support for SVG then

[15:37:00.0000] <espadrine>
Maybe IE9 is the only browser to render it well, I cannot test it.


2010-09-07
[17:59:00.0000] <MikeSmith>
Peter`: you around?

[18:08:00.0000] <MikeSmith>
othermaciej: hey

[18:10:00.0000] <othermaciej>
hi MikeSmith 

[18:11:00.0000] <MikeSmith>
hey man

[22:38:00.0000] <annevk>
spotted: http://bitbucket.org/ms2ger/domparser

[22:38:01.0000] <annevk>
I guess I should link some stuff from the WHATWG wiki

[22:41:00.0000] <annevk>
added to http://wiki.whatwg.org/wiki/Companion_specifications

[22:47:00.0000] <annevk>
whoa, ISSUE-88 has been awaiting a decision since June 30

[22:56:00.0000] <annevk>
http://lists.w3.org/Archives/Member/w3c-ac-forum/2010JulSep/0025.html (W3C Member-only; also sad for other reasons)

[00:47:00.0000] <annevk>
where is ms2ger?

[00:47:01.0000] <annevk>
/me summons

[00:50:00.0000] <annevk>
does anyone know what kind of funny local names can be created by the HTML parser that createElement cannot create?

[00:51:00.0000] <annevk>
and whether browsers want to forbid "adopting" or "importing" those type of element nodes?

[00:51:01.0000] <Hixie>
what does createElement stop?

[00:51:02.0000] <annevk>
not matching XML Name

[00:52:00.0000] <Hixie>
oh

[00:52:01.0000] <Hixie>
well then

[00:52:02.0000] <Hixie>
HTML parser allows almost anything

[00:52:03.0000] <annevk>
great

[00:52:04.0000] <Hixie>
so it should be easy to find conflicts :-)

[00:52:05.0000] <Hixie>
just work out what XML Name doesn't allow

[00:52:06.0000] <annevk>
<x<> sweet

[00:55:00.0000] <zcorpan_>
http://dev.cmsmadesimple.org/bug/view/3154 is disappointing (cmsms gets escaping wrong in lots of places)

[00:58:00.0000] <cyberix>
annevk: Where is xhr2 blob support mentioned?

[00:59:00.0000] <annevk>
zcorpan_, seems like he failed to understand your bug report

[00:59:01.0000] <annevk>
zcorpan_, as he says, "Certain characters will be transformed into HTML entities (& to &amp;, < to &lt;, etc.) for security reasons", and you pointed out that does not work properly

[01:00:00.0000] <othermaciej>
hi everyone

[01:00:01.0000] <annevk>
cyberix, in the XMLHttpRequest Level 2 draft specification?

[01:00:02.0000] <annevk>
hey othermaciej

[01:00:03.0000] <annevk>
ooh ojan_ is here too

[01:00:04.0000] <annevk>
ojan_, fyi, you can remove the WRONG_DOCUMENT_ERR stuff from WebKit; most other browsers have already done it

[01:01:00.0000] <othermaciej>
annevk: you mean for inserting nodes into a document other than their owner document?

[01:02:00.0000] <othermaciej>
annevk: what is the state of other browsers on this point?

[01:02:01.0000] <zcorpan_>
annevk: feel free to reopen it and explain it better

[01:03:00.0000] <annevk>
IE throws, but not when using nodes from responseXML; Firefox and Opera do not throw and automatically adopt

[01:03:01.0000] <othermaciej>
we have a strange rule

[01:03:02.0000] <othermaciej>
we throw except in some particular cases where the node has not yet been inserted into its document

[01:03:03.0000] <annevk>
zcorpan_, yeah...

[01:03:04.0000] <othermaciej>
(can't remember if it's just new Image/new Option or all not-yet-inserted nodes)

[01:04:00.0000] <annevk>
WRONG_DOCUMENT_ERR was designed for Java

[01:04:01.0000] <othermaciej>
I think we added WRONG_DOCUMENT_ERR solely to pass more DOM tests

[01:04:02.0000] <othermaciej>
from the official dom test suite

[01:04:03.0000] <othermaciej>
in fact I think I might have been the one to add it

[01:04:04.0000] <othermaciej>
can't remember though, was years ago

[01:04:05.0000] <annevk>
where you can have independent DOM implementations that need specific adoption stuff for each other

[01:04:06.0000] <othermaciej>
sure, it's a dumb exception

[01:04:07.0000] <zcorpan_>
now you can change again to pass more tests from the inofficial dom test suite :)

[01:05:00.0000] <othermaciej>
we tried pretty hard to pass domts

[01:05:01.0000] <othermaciej>
we gave up on 100% passing it when the dom mailing list completely shot down my comments about getAttribute returning null for missing attributes

[01:05:02.0000] <RytoEX>
zcorpan_ & annevk:  Hi there!  I actually wrote the comment for http://dev.cmsmadesimple.org/bug/view/3154 after checking with SjG.  If you'd like to discuss it further, feel free to comment on the bug.

[01:05:03.0000] <zcorpan_>
hey RytoEX

[01:05:04.0000] <othermaciej>
and I think there was one other thing that was wildly inconsistent with real-world web compat

[01:06:00.0000] <annevk>
othermaciej, yeah, that was insane

[01:06:01.0000] <othermaciej>
I'm trying to remember what the second thing was

[01:06:02.0000] <annevk>
there's a lot of weird stuff in the DOM though, I wish implementors had taken the approach they take today when implementing

[01:06:03.0000] <zcorpan_>
RytoEX: the source should say &amp; &amp;amp; &amp;amp;amp; to make it display properly, not have dataloss and be secure

[01:07:00.0000] <annevk>
which is objecting to bullshit

[01:07:01.0000] <cyberix>
annevk: I go to http://www.w3.org/TR/XMLHttpRequest2/ and do an in-page search for blob. Zero hits.

[01:07:02.0000] <othermaciej>
the leading implementors of the time were responsible for some of the bullshit :-(

[01:07:03.0000] <annevk>
cyberix, you want http://dev.w3.org/2006/webapi/XMLHttpRequest-2/

[01:07:04.0000] <RytoEX>
zcorpan_: Any thoughts on how to go about doing that code-wise?

[01:07:05.0000] <annevk>
cyberix, that draft is like old

[01:08:00.0000] <othermaciej>
annevk: hah, this is funny

[01:08:01.0000] <annevk>
othermaciej, yeah, dunno how that happened, I guess it was some kind of comittee disaster with the java guys

[01:08:02.0000] <othermaciej>
the other thing I complained about back then was WRONG_DOCUMENT_ERR

[01:08:03.0000] <zcorpan_>
RytoEX: replace & with &amp; and then < with &lt;

[01:08:04.0000] <cyberix>
annevk: thank you

[01:09:00.0000] <annevk>
othermaciej, yeah, they will be gone

[01:09:01.0000] <othermaciej>
wow, that was 2005

[01:10:00.0000] <annevk>
othermaciej, I hope implementors are interested in removing some of the other cruft too

[01:10:01.0000] <zcorpan_>
RytoEX: maybe currently there's an unescaping step followed by an escaping step, if so you should remove the unescaping step

[01:10:02.0000] <othermaciej>
I should read the draft some point

[01:10:03.0000] <othermaciej>
the top thing I find maddening about DOM Level 3 Core is the maddeningly vague language

[01:10:04.0000] <RytoEX>
zcorpan_: Isn't changing the source from what the user typed still problematic?

[01:11:00.0000] <annevk>
othermaciej, that'd be great; although it's not complete at this point it's prolly ready enough for a WD snapshot; that might give it some wider attention too I suppose

[01:11:01.0000] <annevk>
othermaciej, yeah, Web DOM Core is a complete rewrite to fix that

[01:11:02.0000] <zcorpan_>
RytoEX: why?

[01:11:03.0000] <annevk>
RytoEX, if you output text as HTML you need to escape it

[01:12:00.0000] <annevk>
RytoEX, if you always output it as HTML you might as well store the entered text as HTML

[01:12:01.0000] <annevk>
RytoEX, outputting text as HTML without escaping is a problem and gives dataloss for the scenario zcorpan_ outlined

[01:12:02.0000] <RytoEX>
So, the issue isn't about storing the data exactly as the user entered it, but that after being rendered in the browser it displays the same (regardless of whether the source matches the original input)?

[01:13:00.0000] <annevk>
the issue is that the input format is text and the output format is HTML and there is no conversion from one to the other

[01:15:00.0000] <zcorpan_>
annevk: actually it does escape (& becomes &amp; in the source) but it seems to first unescape (&amp; doesn't change in the source)

[01:15:01.0000] <zcorpan_>
so if i enter "& &amp;" the source becomes "&amp; &amp;" (and displays as "& &")

[01:16:00.0000] <zcorpan_>
personally i don't care how it's stored, so long as the end result matches the user input

[01:16:01.0000] <annevk>
oh weird

[01:17:00.0000] <annevk>
it's first parsed as if it were HTML?

[01:17:01.0000] <zcorpan_>
i haven't looked at the code

[01:17:02.0000] <RytoEX>
Okay, I think I'm getting a better idea of what you're describing.  Sorry if I'm a little dense, it's past 3AM here, and I've had a pretty rough sleep schedule the past several days.

[01:21:00.0000] <zcorpan_>
hybi hasn't discussed the changes that got lost between -00 and -01

[01:21:01.0000] <annevk>
RytoEX, yeah... woke up at 4:30AM today

[01:22:00.0000] <annevk>
zcorpan_, hybi is off the rails :/

[01:23:00.0000] <annevk>
who told me again XML parsing for feeds was a great success?

[01:23:01.0000] <annevk>
Error: not well-formed

[01:23:02.0000] <annevk>
Source File: http://feeds.bbci.co.uk/news/rss.xml

[01:23:03.0000] <annevk>
Line: 1312, Column: 14

[01:23:04.0000] <annevk>
Source Code:

[01:23:05.0000] <annevk>
   <title>Q&A: Tax letters</title>

[01:24:00.0000] <annevk>
BBC cannot even get ampersands right

[01:24:01.0000] <annevk>
XML is so not appropriate for the web

[01:24:02.0000] <annevk>
sylvia, if you are out there, take note ;)

[01:24:03.0000] <zcorpan_>
escaping ampersands is hard. let's go shopping.

[01:35:00.0000] <RytoEX>
zcorpan_: Okay, if I enter "0 < 10 &lt; 20" I get "0 < 10 < 20" currently.  I'm still looking for exactly where the escaping/unescaping occurs.  I may have to put this off until tomorrow, though, as I need to be at work in a few hours, and I'd like a nap.

[01:46:00.0000] <annevk>
othermaciej, I was trying to figure out from reading WebKit source code in what conditions nodes can be readonly but I cannot find the implementation of isReadOnlyNode()

[01:47:00.0000] <othermaciej>
./Node.h:    bool isReadOnlyNode() const { return nodeType() == ENTITY_REFERENCE_NODE; }

[01:47:01.0000] <othermaciej>
I don't think we support entity reference nodes though

[01:47:02.0000] <annevk>
aah, so that is completely bogus

[01:47:03.0000] <annevk>
entity nodes are gone from Web DOM Core

[01:49:00.0000] <RytoEX>
zcorpan_:  I've found the bits of code that unescape and escape stuff.  See the following:  function SetValue in FieldBase.class.php and function unmy_htmlentities in Form.class.php.

[01:51:00.0000] <zcorpan_>
RytoEX: skipping sleep anyway? :)

[01:52:00.0000] <RytoEX>
I ... get caught up in programming/debugging.  It causes great rifts in my sleep schedule.

[01:55:00.0000] <RytoEX>
However, with that, I do need a nap.  Got a 10 hour work day ahead of me and meetings after that.  Please feel free to comment on the bug report or email me directly.  If this can be fixed and the project admins don't have a problem with it, then hopefully we can work this out.

[01:57:00.0000] <zcorpan_>
cool

[02:03:00.0000] <zcorpan_>
annevk: "... return its local name. Then terminate these steps. (Continue if there was no such attribute.)" looks confusing

[02:03:01.0000] <zcorpan_>
annevk: maybe "... then return its local name and terminate these steps."

[02:10:00.0000] <annevk>
/me looks

[02:11:00.0000] <ojan_>
annevk: a bit late getting back to you, but yes, i plan to remove WRONG_DOCUMENT_ERR shortly. the initial patch i put up needed reworking, but i don't expect any real issues getting rid of it

[02:11:01.0000] <ojan_>
annevk: anyways, i gotta go, but i fully support getting rid of the cruft from the DOM core spec. thanks for taking this on.

[02:12:00.0000] <annevk>
ojan_, cool, ttyl then :)

[02:12:01.0000] <annevk>
zcorpan_, so it is easy for that one

[02:12:02.0000] <annevk>
zcorpan_, what about the other time I use that phrase?

[02:13:00.0000] <annevk>
(fixed this instance)

[02:16:00.0000] <zcorpan_>
annevk: i think it also looks confused, but i don't have a suggested replacement

[02:17:00.0000] <annevk>
i'll look at it

[02:21:00.0000] <annevk>
zcorpan_, fixed

[02:33:00.0000] <annevk>
I guess serializing and parsing should be out of scope for DOM Core

[02:33:01.0000] <annevk>
otherwise we'll get a HTML5 dependency

[02:33:02.0000] <annevk>
which seems bad

[02:34:00.0000] <annevk>
prolly need a DOM Parsing and Serialization spec that defines innerHTML, DOMParser, XMLSerializer

[02:34:01.0000] <annevk>
in great detail

[02:34:02.0000] <annevk>
that builds on DOM Core / HTML5

[02:35:00.0000] <annevk>
DOM Core would just define the tree model and the limitations of the tree model

[02:41:00.0000] <hsivonen>
annevk: it would be proper to have a spec that actually defines how an XML document is parsed into a DOM

[02:42:00.0000] <annevk>
if ms2ger does not turn his domparser notes into that i guess i could work on that after dom core unless cssom suddenly sees lots of interest

[02:43:00.0000] <annevk>
serializing stuff in an XML DOM also seems like lots of fun to define

[02:43:01.0000] <annevk>
harhar

[02:43:02.0000] <hsivonen>
annevk: do you mean for reconstructing namespace declarations?

[02:44:00.0000] <hsivonen>
other than that, it's relatively straight-forward

[02:44:01.0000] <annevk>
the namespace stuff, yes

[02:44:02.0000] <annevk>
and catching all the errors

[02:44:03.0000] <annevk>
but I guess it's not too hard

[02:44:04.0000] <zcorpan_>
it's almost already done in html5

[02:45:00.0000] <zcorpan_>
except it's a bit handwavy and not an algorithm

[02:45:01.0000] <annevk>
and it doesn't deal with the namespaces

[02:45:02.0000] <hsivonen>
I wonder if anyone (other than I) cares about how style sheets that block scripts behave if they are moved by a script between being parser-inserted and getting loaded

[02:45:03.0000] <hsivonen>
but for completeness, this should be defined!

[02:45:04.0000] <hsivonen>
and fixed in Gecko

[02:46:00.0000] <annevk>
fwiw, I think it's great that you're so thorough

[02:46:01.0000] <annevk>
hopefully we can easily reuse the tests you have for this

[02:51:00.0000] <hsivonen>
hmm. the whatwg lists don't send me list email if I'm listed in To or Cc

[02:51:01.0000] <hsivonen>
but when I go to the list settings, my settings say I've opted not to avoid duplicates

[02:51:02.0000] <hsivonen>
I tried checking the "set globally box" and submitting my settings

[02:58:00.0000] <annevk>
if you avoid duplicates you do not get list email if you are in the to or cc

[02:58:01.0000] <annevk>
otherwise you get duplicates

[02:58:02.0000] <annevk>
pretty simple

[02:58:03.0000] <hsivonen>
annevk: but the setting doesn't match the behavior I see. That's the problem.

[03:01:00.0000] <annevk>
hsivonen, are you saying you do get list email?

[03:02:00.0000] <annevk>
oh sorry, "not to avoid"

[03:02:01.0000] <hsivonen>
annevk: I'm saying I don't get list email when I'm listed in To or Cc

[03:02:02.0000] <annevk>
weird

[03:03:00.0000] <hsivonen>
I can't remember what the rationale for not hoisting <base> into <head> is.

[03:04:00.0000] <annevk>
some browsers did not do it

[03:04:01.0000] <annevk>
and we could remove it for everything else

[03:04:02.0000] <annevk>
so consistency

[03:04:03.0000] <hsivonen>
annevk: well, WebKit takes it into account when not hoisted

[03:05:00.0000] <hsivonen>
annevk: and IE8 doesn't implicitly open body for <foo:bar/> above <base>

[03:06:00.0000] <annevk>
i saw that bug

[03:06:01.0000] <annevk>
not sure why we restrict it to <head> personally; i guess because IE did that too

[03:07:00.0000] <hsivonen>
I think making it taken into account only in head makes more sense than not hoisting it there

[03:07:01.0000] <annevk>
to me it's the opposite :)

[03:08:00.0000] <hsivonen>
do we get some XSS defense in depth benefit from not hoisting?

[03:08:01.0000] <annevk>
the benefit is less crazy behavior in the parser

[03:09:00.0000] <hsivonen>
I've spent more time diagnosing site compat problems arising from this than I would have spent making the parser hoist into head

[03:09:01.0000] <zcorpan_>
injecting a <base> is also a bit scary

[03:09:02.0000] <hsivonen>
so far we've had three:

[03:10:00.0000] <hsivonen>
 1) <basefont> above <base> implicitly opened <body> and broke a bank. Fixed by making <basefont> stay in <head>

[03:10:01.0000] <annevk>
:/

[03:10:02.0000] <hsivonen>
 2) Hypelatex putting <base> after <body>. Treated as evang email to a dead project, because their stuff already broke in IE8

[03:11:00.0000] <annevk>
so would 1) have worked if <base> worked outside <head> or would the rendering still be broken?

[03:11:01.0000] <hsivonen>
 3) <c:set ... /> above <base> breaking united.com check-in process and IE8 keeping <c:set ... /> in head

[03:12:00.0000] <hsivonen>
annevk: all of these would have worked either by taking <base> into account as a child of <body> or by hoisting <base> into <head>

[03:12:01.0000] <hsivonen>
I think our DOM-side code is now saner than it used to be

[03:12:02.0000] <hsivonen>
I don't want to support multiple <base>s

[03:13:00.0000] <zcorpan_>
can we make <base> apply in body while not supporting multiple <base>s

[03:13:01.0000] <hsivonen>
zcorpan_: that would be a possibility

[03:13:02.0000] <hsivonen>
even only considering children of <body> would be enought without considering descendants

[03:14:00.0000] <zcorpan_>
alternatively we could make tags with colon in them stay in head

[03:15:00.0000] <zcorpan_>
or unknown tags with />

[03:16:00.0000] <hsivonen>
I wonder how common this problem is

[03:17:00.0000] <hsivonen>
we could also just wait for United.com to fix themselves eventually

[03:18:00.0000] <zcorpan_>
yeah

[03:19:00.0000] <zcorpan_>
i think Hixie analyzed <base> compat around the time ie8 shipped, and concluded that there was some breakage with ie8's behavior

[03:20:00.0000] <annevk>
hsivonen, just use the first <base>

[03:20:01.0000] <annevk>
hsivonen, you already need to take into account multiple <base> (somehow) as that situation could also occur with just <head>

[03:21:00.0000] <annevk>
this <basefont> hack also sounds ugly

[03:21:01.0000] <zcorpan_>
making <basefont> stay in head isn't ugly

[03:21:02.0000] <annevk>
everyone hates mutation events

[03:22:00.0000] <annevk>
if mutation events are going to end up in DOM Core I might cry

[03:22:01.0000] <annevk>
DOM Core is ugly enough as it is

[03:22:02.0000] <zcorpan_>
wouldn't they be in dom events?

[03:23:00.0000] <zcorpan_>
or do you mean as part of appendChild etc?

[03:24:00.0000] <hsivonen>
annevk: is it feasible to collect use cases from rich text editor developers, design and implement an async alternative and remove support for mutation events?

[03:29:00.0000] <annevk>
hsivonen, dunno

[03:29:01.0000] <annevk>
zcorpan_, the latter

[03:30:00.0000] <annevk>
zcorpan_, imo events need to be defined where they happen, otherwise it is not predictable enough

[03:36:00.0000] <annevk>
hsivonen, I've seen people on webkit-dev suggest they are willing to remove mutation events and replace it with an async model

[03:39:00.0000] <jgraham>
The problem with removing mutation events is that it is likely to break sites

[03:43:00.0000] <hsivonen>
jgraham: only rich text editor libraries used on sites or site-specific code?

[03:43:01.0000] <jgraham>
hsivonen: Not sure

[03:44:00.0000] <jgraham>
If it breaks rich text editor libs that is a big deal

[03:44:01.0000] <jgraham>
We can't realisticly ship a product that breaks e.g. tinyMCE

[03:44:02.0000] <jgraham>
(no idea if tinyMCE uses mutation events)

[03:44:03.0000] <annevk>
but they can get updated over time

[03:45:00.0000] <hsivonen>
is it assumed that sites never update their copy of tinyMCE?

[03:45:01.0000] <annevk>
e.g. over the course of a year or maybe two years

[03:45:02.0000] <jgraham>
That is an ideal first order assumption

[03:45:03.0000] <jgraham>
This sounds dangerously close to idealism rather than pragmatism

[03:46:00.0000] <jgraham>
(I mean it is a good assumption that they never update)

[03:46:01.0000] <jgraham>
(and it is idealism to assume that we can remove large, ugly, features from the platform)

[03:47:00.0000] <annevk>
sure

[03:47:01.0000] <annevk>
I don't think some amount of idealism is bad

[03:47:02.0000] <jgraham>
I mean we could have an alterntaive model and hope that eventually people use that insteade

[03:47:03.0000] <jgraham>
But we would have to take the risk of having two models

[03:48:00.0000] <annevk>
if mutation events start generating lots of noise in error consoles and there's an alternative I think we might find that we can change it

[03:48:01.0000] <annevk>
especially since they're only (mostly?) used for editors

[03:48:02.0000] <jgraham>
Generating noise in error consoles hasn't worked so well for..l. well anything

[03:49:00.0000] <jgraham>
Firefox even has messages saying "this site is insecure" and "this property has no effect" and they get ignored

[03:49:01.0000] <othermaciej>
jgraham: one thing I proposed on webkit-dev is to only ever fire the DOMSubtreeModified mutation event, batch it, and possibly fire it async

[03:50:00.0000] <othermaciej>
jgraham: I am not sure if this would be compatible with content, but it is technically compliant with DOM Level 3 Events afaict

[03:51:00.0000] <annevk>
what the specs say doesn't matter much -- they can be fixed

[03:51:01.0000] <jgraham>
It is what content requires that is important

[03:51:02.0000] <annevk>
jgraham, it has for e.g. Gecko trying to remove proprietary APIs

[03:51:03.0000] <annevk>
(the error console trick)

[03:51:04.0000] <jgraham>
annevk: Really? Examples?

[03:52:00.0000] <annevk>
getBoxObject() or some such

[03:52:01.0000] <jgraham>
Hmm

[03:53:00.0000] <annevk>
I think you're too pessimistic

[03:53:01.0000] <annevk>
but anyway, this is only about trying, if it does not work out, it does not work out, no big deal

[04:37:00.0000] <karlcow>
http://jobs.bbc.co.uk/fe/tpl_bbc01.asp?newms=jj&id=35072&aid=10281

[04:55:00.0000] <MikeSmith>
hsivonen: thinking further about updates to the validator.nu build, Scons looks like non-maniacal build system (i.e., one that lacks the misfeatures of Ant and Maven)

[04:55:01.0000] <MikeSmith>
and it has built-in support for building Java apps

[04:55:02.0000] <MikeSmith>
http://www.scons.org/doc/0.96.1/HTML/scons-user/c2590.html

[04:56:00.0000] <MikeSmith>
not that there's anything broken in the current build script

[04:57:00.0000] <Philip`>
/me thought SCons became unfashionable several years ago

[04:57:01.0000] <MikeSmith>
oh?

[04:57:02.0000] <Philip`>
(at least for C++ - everyone's into CMake now)

[04:58:00.0000] <Philip`>
(Probably not relevant for Java though)

[04:58:01.0000] <MikeSmith>
I noticed Scons today because V8 uses it

[04:59:00.0000] <MikeSmith>
I didn't know anything about Scons until I checked out the V8 code and found a SConstruct file where I was looking for makefile

[05:00:00.0000] <MikeSmith>
anyway, I was thinking about it for the v.nu build case because the v.nu build is already using a Python-based build script

[05:00:01.0000] <MikeSmith>
it's just that it's an ad-hoc one

[05:01:00.0000] <MikeSmith>
and it's a script, not a make mechanism - that is, it rebuilds the entire tree every time you run it

[05:01:01.0000] <MikeSmith>
instead of just rebuilding particular targets whose dependencies have changed

[05:01:02.0000] <MikeSmith>
but that said, it builds very quickly anyway

[05:02:00.0000] <Peter`>
MikeSmith: pong

[05:02:01.0000] <MikeSmith>
but if we end up moving the sources from the current subversion hosting service they are at now to some git-based or mercurial-based hosting service, we are going to need to make changes to the build anyway

[05:02:02.0000] <MikeSmith>
Peter`: hey man

[05:03:00.0000] <MikeSmith>
I had just been pinging you to say thanks

[05:03:01.0000] <MikeSmith>
for the latest status writeup

[05:03:02.0000] <Peter`>
don't worry about it, hope the post can be a bit less techy next week

[05:03:03.0000] <Peter`>
cheers! :)

[05:03:04.0000] <MikeSmith>
I don't mind the techy bits

[05:04:00.0000] <MikeSmith>
but I guess focusing on some non-techy bits would get more people to read about it

[05:04:01.0000] <zcorpan_>
read what?

[05:04:02.0000] <Peter`>
Ideally I'd like the posts to put some more attention to the "usable" parts, standards, things they can try out by downloading a nightly, possibly even with examples

[05:04:03.0000] <Peter`>
zcorpan_: http://peter.sh/

[05:06:00.0000] <zcorpan_>
/me wasn't at the csswg meeting

[05:16:00.0000] <Craig`>
hey guys.

[05:17:00.0000] <Craig`>
http://pastie.org/1141746 for some reason the alert('executed'); is never being executed, so that would imply that the image is not being loaded? can someone help me please.

[05:18:00.0000] <zcorpan_>
if you insert the image to the document, does it load?

[05:19:00.0000] <Craig`>
i'll try

[05:20:00.0000] <Craig`>
Yeah it loads

[05:20:01.0000] <annevk>
Craig`, your drawImage call could also fail

[05:21:00.0000] <annevk>
oh

[05:21:01.0000] <annevk>
that really ought to work

[05:23:00.0000] <Craig`>
what should i do then? ;/

[05:23:01.0000] <Craig`>
i was wanting to do some pixel/color manipulation on an iamge

[05:24:00.0000] <zcorpan_>
do you have a <canvas> element in the document?

[05:25:00.0000] <annevk>
Craig`, file bugs :)

[05:25:01.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/619 wfm

[05:25:02.0000] <Craig`>
yeah zcorpan_ i'll paste my html

[05:27:00.0000] <Craig`>
http://pastie.org/1143435

[05:28:00.0000] <zcorpan_>
does the script load?

[05:28:01.0000] <Craig`>
yep

[05:28:02.0000] <Craig`>
the canvas is 300x300

[05:28:03.0000] <Craig`>
and when i debugged by placing an alert

[05:28:04.0000] <Craig`>
it worked

[05:29:00.0000] <zcorpan_>
you sure you have the right path to the image?

[05:29:01.0000] <Craig`>
the image was origininally ../images/rs.png but that didn't work either so i placed it in the behaviour folder

[05:29:02.0000] <Craig`>
so my behaviour directory consists of base.js and rs.png

[05:30:00.0000] <Philip`>
The img.src is relative to the HTML page, not the .js file

[05:30:01.0000] <zcorpan_>
what Philip` said

[05:30:02.0000] <Craig`>
i actually just tried that

[05:30:03.0000] <Craig`>
but i'm sure it didn't wrork, i'll retry

[05:31:00.0000] <Craig`>
still doesn't work

[05:31:01.0000] <Craig`>
ignore that

[05:31:02.0000] <Craig`>
thanks.

[05:32:00.0000] <Craig`>
i spelled behaviour wrong

[05:32:01.0000] <Craig`>
haha :)

[05:34:00.0000] <Craig`>
do you think canvas has the potential for some serious colour manipulation? ie seeing if a colour exists in an x1,y1,x2,y2 environmentn, able to somehow create OCR etc etc?

[05:35:00.0000] <annevk>
people have done such things

[05:35:01.0000] <Craig`>
awesome

[05:35:02.0000] <annevk>
http://blog.mozbox.org/post/2009/04/12/Firefox-35%3A-a-new-experiment-with-Canvas-Video

[05:36:00.0000] <Craig`>
well what i'm wanting to do is game emulation, i've been told several times that i can't have javascript to emulate a mouse click on a java applet, but with getWindow (i think that's the name of the function) i could take a screenshot of the java applet as such then carry out manipulation on a canvas?

[05:37:00.0000] <annevk>
there's drawWindow() in Firefox but that is not exposed to web pages

[05:37:01.0000] <annevk>
also Java, boo

[05:37:02.0000] <Craig`>
yeah I know about Java, heh.

[05:37:03.0000] <Craig`>
it's a game so it's not my fault it's java :)

[05:38:00.0000] <zcorpan_>
port the game to canvas :)

[05:38:01.0000] <Craig`>
it's one of the biggest MMORPGS i doubt i can do that?

[05:38:02.0000] <MikeSmith>
http://twitter.com/pornelski/status/23228959072

[05:38:03.0000] <annevk>
so true

[05:40:00.0000] <Craig`>
i've been to `color clicking' communities in the past but they've used pascal and i'm more into web dev per se myself so i was hoping i could accomplish something as a project :) so thankfully it sounds like i can remake some if not all of the techniques they use it's just finding out how to emulate a click

[05:41:00.0000] <jgraham>
BBC are going to have a rep? That is awesome

[05:43:00.0000] <Craig`>
would you guys mind answering my questions when i have them? it's probably mostly code improvement and efficiency because if i'm to implemenet findColor(color, x1, y1, x2, y2) etc my version will surely be inefficient

[05:45:00.0000] <annevk>
this channel doesn't really have much rules so just ask and maybe you'll get an answer

[05:51:00.0000] <Craig`>
are there any books you advise me reading before attempting this project?

[05:51:01.0000] <Craig`>
or references

[05:53:00.0000] <Philip`>
You could try reading the HTML5 spec

[05:53:01.0000] <annevk>
well, if you continue with this Java thing I guess you will run into the problem that drawWindow() will not work in most browsers and in Firefox only runs for trusted content

[05:53:02.0000] <annevk>
but it really depends on what you want to know more about :)

[05:56:00.0000] <annevk>
zcorpan_, might end up removing your nodeType/nodeName/nodeValue table

[05:56:01.0000] <annevk>
zcorpan_, nodeValue can also be set

[05:56:02.0000] <Craig`>
well, if i'm honest i think i should get a brilliant javascript understanding before this, also i'd need to know colour algorithms and the like, but yeah, do you think what i'm wanting to do is somewhat possible? fair enough i may not be able to emulate a click with javascript but hopefully in the end i'll be able to have a scripts somewhat determine if some object is a tree or monster etc, by doing some advanced techniques

[06:05:00.0000] <zcorpan_>
annevk: i don't care for the table :)

[06:09:00.0000] <hsivonen>
sigh. is there a non-UTF-8 byte somewhere in html5lib .dat files...

[06:11:00.0000] <nessy>
Craig` thought about using svg?

[06:13:00.0000] <hsivonen>
yes, entities01.txt and entities02.txt aren't valid UTF-8

[06:13:01.0000] <hsivonen>
:-(

[06:14:00.0000] <hsivonen>
actually, it's just entities01.dat

[06:14:01.0000] <MikeSmith>
what is google bubbles?

[06:15:00.0000] <hsivonen>
and some other data file has a byte that's not valid Windows-1252

[06:15:01.0000] <hsivonen>
grr

[06:23:00.0000] <hsivonen>
hmm. or is gedit just incapable of handling Astral Planes?

[06:23:01.0000] <Craig`>
nessy: i've used svg in the past, but svg wouldn't be suited for this would it? I mean i'm wanting to do color manipulation on an image of a java applet

[06:24:00.0000] <nessy>
I missed the java applet part

[06:24:01.0000] <Craig`>
:)

[06:24:02.0000] <nessy>
how do you even get that into javascript?

[06:25:00.0000] <Craig`>
not even sure yet, i've been told getWindow but then i think someone mentioned it doesn't work if you have to confirm security

[06:25:01.0000] <Craig`>
or swomething

[06:25:02.0000] <nessy>
once you have it in javascript, you can use both canvas or svg to manipulate it - I just saw you needed mouse events, so svg would be more appropriate

[06:26:00.0000] <Craig`>
well i need to simulate a click on the applet

[06:26:01.0000] <nessy>
or do both, each for what it's better at :)

[06:26:02.0000] <nessy>
oh! that's a different problem altogether - good luck then!

[06:26:03.0000] <hsivonen>
Craig`: and you want to keep the Java code as an applet instead of porting it to the Open Web Platform using GWT?

[06:26:04.0000] <espadrine>
Hi, I'd like to know for sure if "new Image(undefined)" should trigger an error, as it does in Firefox, or be interpreted as "new Image(0)", as it does in Chrome, Webkit and Opera?

[06:26:05.0000] <Craig`>
could i do that?

[06:26:06.0000] <Craig`>
without the company knowing

[06:27:00.0000] <Craig`>
ignore the last message i said ;D

[06:27:01.0000] <hsivonen>
Craig`: I'd expect it to be hopeless to integrate <canvas> and an applet

[06:28:00.0000] <Craig`>
:/

[06:28:01.0000] <hsivonen>
Craig`: depending on how complex the applet is, you might be able to implement enough of the infrastructure it needs on GWT and compile the Java code into JS

[06:28:02.0000] <zcorpan_>
Craig`: maybe you can use Watir to read pixel data and emulate clicks on the applet

[06:28:03.0000] <hsivonen>
what's Watir?

[06:28:04.0000] <zcorpan_>
http://watir.com/

[06:30:00.0000] <Craig`>
i doubt i'll be able to convert it

[06:30:01.0000] <Craig`>
the source is obbed

[06:30:02.0000] <zcorpan_>
(related: http://my.opera.com/core/blog/2009/03/06/test-automation-with-operawatir )

[06:31:00.0000] <jarib>
if you want to do native clicks, webdriver would be a better choice 

[06:31:01.0000] <Craig`>
so i can't do this wit purely javascript?

[06:32:00.0000] <zcorpan_>
don't think so, no

[06:32:01.0000] <zcorpan_>
jarib: i thought watir did "native clicks"

[06:33:00.0000] <Craig`>
i doubt i can convert the code like you said because it's been obscured

[06:33:01.0000] <Craig`>
(sorry forgottent he word)

[06:34:00.0000] <zcorpan_>
Craig`: GWT is automated conversion

[06:34:01.0000] <jarib>
zcorpan_: it does a DOM click() (through OLE)

[06:35:00.0000] <zcorpan_>
jarib: ah. then i guess OperaWatir is different

[06:35:01.0000] <Craig`>
oh cool

[06:35:02.0000] <jarib>
zcorpan_: incidentally, there's a watir wrapper for webdriver (http://github.com/jarib/watir-webdriver) :)

[06:36:00.0000] <Craig`>
i'm totally new to this so i'll probably be asking this many questions for a long time :)

[06:36:01.0000] <Craig`>
i just hope that it's possible :D

[06:36:02.0000] <jarib>
zcorpan_: also if you have any influence on the operawatir folks, you should make them to work on their webdriver implementation instead 

[06:37:00.0000] <Craig`>
would it be considerably easier (or make it possible) if i converted the code

[06:37:01.0000] <jarib>
and they'll get the Watir API for free through my project :P

[06:37:02.0000] <Craig`>
just i didn't think you could do this because the game interacts with server so that you can not edit values etc

[06:37:03.0000] <Craig`>
well you can edit client side values that is, ie changing a value to make player black

[06:37:04.0000] <zcorpan_>
jarib: i probably have as much influence as you do

[06:38:00.0000] <jarib>
ok. you never know :)

[06:42:00.0000] <jgraham>
jarib: In what sense "work on"?

[06:42:01.0000] <jgraham>
We have a web driver implementation

[06:44:00.0000] <Craig`>
so yeah, i don't know whether to attempt this project or try and learn to make some canvas 2d/3d games ;/

[06:44:01.0000] <jarib>
jgraham: if the WD impl. was open source, we could write ruby bindings and it would "just work" with watir-webdriver

[06:45:00.0000] <jgraham>
jarib: You should speak to wilhelm

[06:47:00.0000] <jarib>
ok

[06:48:00.0000] <jarib>
i did chat with Andreas T. about this, he said they were basically working to just get things out the door (both OperaWatir + the webdriver bindings)

[06:50:00.0000] <annevk>
jarib, so what use is something like this outside browsers? some kind of website regression testing?

[06:50:01.0000] <jgraham>
annevk: Yeah, you automate your website in various browsers to check that it does what you expect under various actions

[06:51:00.0000] <zcorpan_>
or cheat in java games like Craig` is trying to do :)

[06:51:01.0000] <annevk>
ooh, everyone gets professional these days

[06:54:00.0000] <Craig`>
right i'm back had to do a few things, what should i start doing first then if i want to try this project? 

[06:57:00.0000] <zcorpan_>
Hixie: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10545 i think he's saying that the status annotations are annoying

[06:59:00.0000] <Craig`>
sorry does someone have the link for gwt? i've just googled, is this the page? http://code.google.com/webtoolkit/makinggwtbetter.html

[07:00:00.0000] <rimantas>
Craig`, more or less

[07:00:01.0000] <rimantas>
http://code.google.com/webtoolkit/overview.html

[07:06:00.0000] <Craig`>
i've got no idea how to even start using it, i mean to download the applet last time i think you had to build a `runner', ie writing some java code to trick the applet into thinking it was still on the webpage

[07:08:00.0000] <zcorpan_>
i guess you need the java source code for it to work

[07:10:00.0000] <Philip`>
I expect you'll have a very hard time if you're trying to do things that the applet developers specifically want to prevent

[07:11:00.0000] <Philip`>
and you'll make it far harder for yourself if you want to do it with web standards, rather than platform-specific hacks

[07:11:01.0000] <hsivonen>
basically, you are in the world of hurt if you want to do anything new and what you have now is an applet

[07:14:00.0000] <Craig`>
damn^

[07:14:01.0000] <Craig`>
meh i'm wanting to have some fun projects but web based, but everything i want to do web based (that is already done desktop based) is near enough impossible ;/

[07:16:00.0000] <Philip`>
Rather than taking something that's already done on the desktop and then doing it on the web, maybe you could try something that's inherently webby and not done on the desktop, and then it might be less painful :-)

[07:19:00.0000] <zcorpan_>
like making a web page?

[07:19:01.0000] <hsivonen>
implementing the applet APIs for GWT would gave great hack value, though

[07:20:00.0000] <Philip`>
Does the game use OpenGL APIs too?

[07:22:00.0000] <hsivonen>
it's a bit odd that there isn't a full implementation of the applet APIs and AWT for GWT yet

[07:22:01.0000] <hsivonen>
(or wasn't last time I looked)

[07:23:00.0000] <Philip`>
zcorpan_: Web pages are boring - I was thinking more of pointless flashy demos that use lots of dynamic content and third-party APIs and stuff, since web technology seems quite good at integrating things like that

[07:28:00.0000] <jgraham>
Like a 3D fish swimming in a stream of particles where each particle is a tweet and you can make the fish eat the tweets

[07:30:00.0000] <hsivonen>
jgraham: now you scared him off

[07:30:01.0000] <gsnedders>
jgraham: Be kind to the children.

[07:30:02.0000] <gsnedders>
Else they get annoyed and violent, even towards girls.

[07:32:00.0000] <jgraham>
You think he is going to go and beat people up because I imagined a demo? That is... interesting logic

[07:33:00.0000] <gsnedders>
You scared him.

[07:34:00.0000] <gsnedders>
It could have made consquences.

[07:36:00.0000] <jgraham>
gsnedders: Which language are you speaking today?

[07:36:01.0000] <jgraham>
It sounds like you are auto-translating to English

[07:41:00.0000] <gsnedders>
I spoke French

[07:53:00.0000] <MikeSmith>
jgraham: if you build an iPhone app along the lines you have described, I will pay you $3.99 for it

[07:58:00.0000] <jgraham>
MikeSmith: With that promise I would have a total expected revenue of $3.99

[07:58:01.0000] <KaOSoFt>
;_;

[08:19:00.0000] <annevk>
zcorpan_, yt?

[08:19:01.0000] <annevk>
so instead of legal hierarchy I was wondering about having a top-level section before "Nodes"

[08:20:00.0000] <annevk>
called "Nodes Model" or maybe "DOM Model" or whatever

[08:20:01.0000] <annevk>
that defines where nodes can occur relative to each other

[08:20:02.0000] <zcorpan_>
annevk: sure

[08:20:03.0000] <annevk>
e.g. there's one Document, it has exactly one child Element node

[08:20:04.0000] <annevk>
DocumentType needs to precede that Element node, blah die blah

[08:21:00.0000] <annevk>
and then have all mutating methods reference it

[08:21:01.0000] <annevk>
and throw when something is done that violates the model

[08:21:02.0000] <zcorpan_>
the list of conditions currently are always false

[08:22:00.0000] <zcorpan_>
since a node can't be both an attr and an element

[08:23:00.0000] <annevk>
kk, guess I won't preserve much of the current section

[08:23:01.0000] <annevk>
the new section will also say that defining how you get this structure from a byte/character stream is out of scope

[10:10:00.0000] <jgraham>
Is the Video MIME type thread still going on? Hasn't everything been said already?

[10:11:00.0000] <jgraham>
/me has not been closely following

[10:58:00.0000] <jwalden>
jgraham: everything has never been said

[12:25:00.0000] <Workshiva>
Is it too late to request a change so </sarcasm> doesn't cause a parse error due to missing start tag?

[13:02:00.0000] <hsivonen>
marking CDATA_SECTION_NODE historical is radical

[13:03:00.0000] <annevk>
yup

[13:04:00.0000] <annevk>
but it would be neat

[13:27:00.0000] <TabAtkins>
annevk: For CSSOM Values API, would the .values just be added to CSSStyleRule?  If so, would that be added in general to all the places you can get a CSSStyleRule from?

[13:28:00.0000] <annevk>
it would be added to CSSStyleDeclaration

[13:28:01.0000] <annevk>
as specified in the draft

[13:28:02.0000] <TabAtkins>
Durp, right.

[13:28:03.0000] <annevk>
and it would always be there, yes

[13:31:00.0000] <TabAtkins>
What level is the Values API inserted at?  Same as plain CSSOM, which means just setting the @style attribute?

[13:34:00.0000] <TabAtkins>
annevk: And if so, then what does it *get*?

[13:36:00.0000] <annevk>
lol http://twitter.com/dstorey/status/23262379450

[13:37:00.0000] <annevk>
TabAtkins, it depends on what you are manipulating

[13:37:01.0000] <annevk>
TabAtkins, could be @style, could be a rule in the style sheet, could be readonly (computed style)

[13:38:00.0000] <TabAtkins>
Okay, but if you're just doing el.style.values it's the @style attribute?

[13:38:01.0000] <annevk>
TabAtkins, same as CSSStyleDeclaration really

[13:38:02.0000] <annevk>
TabAtkins, yes, because el.style is the style attribute

[13:38:03.0000] <TabAtkins>
Cool, just patching up my mental model.  I had a broken understanding of the plumbing here.

[13:48:00.0000] <annevk>
oh hey

[13:48:01.0000] <annevk>
geolocation is Last Call

[13:48:02.0000] <annevk>
euh, Candidate Recommendation

[13:49:00.0000] <TabAtkins>
annevk: Just making sure I'm sane: I'm floating the values api internally.  Someone commented that they don't like that the setter and getter work at different levels (specified and used, respectively).  That's not actually true, right?  Both work on specified level, but getting might pass the value through a hidden conversion step which may rely on layout info, which essentially pushes it down into a used value?

[13:49:01.0000] <Craig`>
hey again.

[13:50:00.0000] <annevk>
TabAtkins, yeah, I'm not sure if we should really go there

[13:50:01.0000] <TabAtkins>
annevk: Hm?  What do you mean?

[13:50:02.0000] <annevk>
TabAtkins, "someone" might actually be right that we should not do the conversion

[13:50:03.0000] <TabAtkins>
But that means I can't grab the pixel width of something that was specified in percents!

[13:51:00.0000] <annevk>
TabAtkins, you can if you get the computed value

[13:51:01.0000] <Craig`>
for those of whom i was talking to before about my java applet project would you suggest me attempting that or learning webgl? i'm really interested at the project i just don't know if *i* can acomplish it

[13:51:02.0000] <annevk>
TabAtkins, which is really the used value for some stuff

[13:51:03.0000] <annevk>
TabAtkins, but if it's just .style or CSSStyleRule that does not seem like a good idea

[13:51:04.0000] <TabAtkins>
annevk: That just means I have to screw around with a *third* interface.  ;_;

[13:52:00.0000] <annevk>
computed values is not a new interface

[13:52:01.0000] <hsivonen>
Craig`: if you want to do 3D on the Web, WebGL is the thing to learn

[13:52:02.0000] <Craig`>
i'd like to do 3D on the web yes, it's just i don't know if i'm ready to learn webgl yet, that is if i'm capable.

[13:52:03.0000] <annevk>
there's a guy that's learning it as well and is writing his thoughts down as he goes

[13:53:00.0000] <Craig`>
i've always been interested in making my own automation bot for a game, and especially a web based one but the implications discussed before were....ah.

[13:53:01.0000] <TabAtkins>
Well, it's one more thing to screw around with for little apparent return on value.

[13:53:02.0000] <Craig`>
annevk: giles?

[13:53:03.0000] <annevk>
http://learningwebgl.com/blog/

[13:54:00.0000] <annevk>
TabAtkins, kind of depends on what you are after I guess

[13:54:01.0000] <annevk>
TabAtkins, we mostly want this API to avoid string manipulation

[13:54:02.0000] <Craig`>
bbl.

[13:54:03.0000] <TabAtkins>
Personally, I'm interested in a simple way to get at a value in whatever form I need, in as simple a way as possible.

[13:55:00.0000] <annevk>
if you just want the value why not use the computed style API?

[13:55:01.0000] <TabAtkins>
That returns me the px value of <length>s, though.

[13:56:00.0000] <annevk>
sure, but for computed styles we could convert I think

[13:57:00.0000] <annevk>
going from px to em is easy

[13:57:01.0000] <annevk>
that is always easy in fact, so that we could always allow

[13:57:02.0000] <annevk>
'ex' gets rather tricky though for the non-computed cases

[13:58:00.0000] <annevk>
though we could just say it means .5em in such scenarios if that would make people happy...

[14:00:00.0000] <TabAtkins>
So would you have some weird situation where el.style.values.px just didn't work (or threw an error or something) if the value was specified in percents?

[14:05:00.0000] <annevk>
yeah, basically

[14:06:00.0000] <annevk>
Hixie's original proposal had an exception, I'd prefer something more silent, but dunno really

[14:06:01.0000] <TabAtkins>
That sucks.  ;_;

[14:07:00.0000] <annevk>
don't really know how else to do it

[14:07:01.0000] <TabAtkins>
With an implicit conversion step?

[14:08:00.0000] <annevk>
what if the element was not in the DOM?

[14:08:01.0000] <TabAtkins>
If you expose the current type of the value, and provide a measure() function for resolving lengths manually, people can work around cases where they don't want the automatic stuff.

[14:08:02.0000] <TabAtkins>
If it's not in the DOM it does something magic, whatever we'd like a measure() function to do in the same situation.

[14:09:00.0000] <annevk>
what if it's not rendered?

[14:09:01.0000] <annevk>
I don't think I want this measure()

[14:09:02.0000] <annevk>
we have enough layout APIs as it is

[14:09:03.0000] <TabAtkins>
Without measure(), you have to create fake elements just to do unit conversion.

[14:10:00.0000] <TabAtkins>
And by "you" I mean "several teams at Google, multiple times independently in the past".

[14:10:01.0000] <TabAtkins>
And probably other people too.

[14:10:02.0000] <annevk>
sure

[14:10:03.0000] <Hixie>
/me pokes his head in

[14:10:04.0000] <Hixie>
wassup

[14:10:05.0000] <TabAtkins>
Yo.

[14:10:06.0000] <annevk>
nothing much really

[14:11:00.0000] <annevk>
just explaining your old CSS values proposal from last decade

[14:11:01.0000] <annevk>
:)

[14:11:02.0000] <TabAtkins>
And I'm trying to poke it into something less clumsy than what Anne's envisioning.

[14:12:00.0000] <annevk>
yeah... "less clumsy" is not the words I would chose

[14:12:01.0000] <TabAtkins>
annevk: If the element's not being rendered (display:none or something), that's basically the same issue as if it's not in the document - there's just not sufficient information to resolve it.  Some appropriate error should be thrown, probably the same in both cases.

[14:13:00.0000] <Hixie>
what's the problem y'all are trying to solve?

[14:13:01.0000] <Hixie>
specifically :-)

[14:13:02.0000] <TabAtkins>
I want units to interconvert transparently, so we dont' have to fap around with unit conversions in js code.

[14:13:03.0000] <annevk>
to obsolete DOM2Style completely implementations need an API for doing stringless CSS manipulation

[14:14:00.0000] <annevk>
that's my very minimal goal and I'd like to avoid making it much more complex, with undefined things like "implicit conversion"

[14:14:01.0000] <Hixie>
how would it not convert?

[14:14:02.0000] <TabAtkins>
Hixie: If you set el.style.width='50%' then ask for el.style.values.width.px, you have to grab layout information to do the conversion.

[14:14:03.0000] <TabAtkins>
annevk: What's undefined about it?

[14:15:00.0000] <Hixie>
oh, you mean unit conversion for units that have to go through layout

[14:15:01.0000] <Hixie>
fun

[14:15:02.0000] <annevk>
TabAtkins, why can't you just use clientWidth or some such?

[14:15:03.0000] <Hixie>
i'd recommend delaying until v2 before adding something that complex, we don't even know if the new API is any good yet

[14:16:00.0000] <annevk>
Hixie, glad we agree

[14:16:01.0000] <Hixie>
but v2 could be in a mere few months

[14:16:02.0000] <Hixie>
in the meantime you probably want to figure out how it would work

[14:17:00.0000] <Hixie>
so that you can put in NOT_IMPLEMENTED_ERR blocks in appropriate places

[14:17:01.0000] <Hixie>
so that people don't depend on it doing something else

[14:17:02.0000] <TabAtkins>
annevk: That kinda works for width specifically (though the various xWidth things all have their own specific quirks, and none actually reflect what I specify in 'width'), but it doesn't work at all for anything else that uses a <length>.

[14:17:03.0000] <ojan_>
meh. i still think explicit conversion functions are much clearer.

[14:18:00.0000] <Hixie>
what tab described isn't conversion as far as i can tell

[14:18:01.0000] <TabAtkins>
Hixie: It's a conversion from % to px.  

[14:18:02.0000] <Hixie>
it's trying to read used values

[14:18:03.0000] <Hixie>
as another unit

[14:18:04.0000] <Hixie>
it probably shouldn't be in the same API as specified values

[14:18:05.0000] <Hixie>
since for many properties they're not really compatible

[14:18:06.0000] <annevk>
ooh

[14:19:00.0000] <annevk>
we might get ele.usedStyle or some such

[14:19:01.0000] <annevk>
if that is what you want...

[14:19:02.0000] <Hixie>
TabAtkins: no, it's a conversion from specified (as relative units) to used (as absolute units)

[14:19:03.0000] <ojan_sydney>
annevk: that would make much more sense to me

[14:19:04.0000] <TabAtkins>
Hixie: I'm... not sure what distinction you're trying to draw here between what you and I said.

[14:20:00.0000] <annevk>
there's a similar idea for ele.overrideStyle for animation and such

[14:20:01.0000] <annevk>
and something else, which I forgot

[14:21:00.0000] <annevk>
but the sense I got was that a stringless API had priority and then we could add that kind of functionality

[14:21:01.0000] <ojan_sydney>
annevk: not to get too off-topic, but i've often wanted cascadedStyle as well. (a la IE's currentStyle).

[14:22:00.0000] <Hixie>
TabAtkins: there doesn't need to be a unit conversion

[14:22:01.0000] <annevk>
ojan_sydney, that is the one I forgot :)

[14:22:02.0000] <annevk>
ojan_sydney, dbaron wants it too

[14:22:03.0000] <annevk>
ojan_sydney, and lots of other people I'm sure

[14:22:04.0000] <Hixie>
TabAtkins: you can set the right margin in pixels, for example, and yet get a used value that's a different number

[14:22:05.0000] <Hixie>
TabAtkins: but presumably you don't want the same API to expose used values yet set specified values

[14:23:00.0000] <TabAtkins>
Hm.  In what situation would something like that happen?  (setting margin-right in px and getting a different value back out)

[14:23:01.0000] <Hixie>
overconstrained block layout, table layout, flex layout, any number of things

[14:24:00.0000] <TabAtkins>
Ah, right.

[14:25:00.0000] <Hixie>
similarly if you want to read what font name was actually used, you can't do that from this kind of API -- you'd have to have an API that would let you inspect individual characters

[16:30:00.0000] <Hixie>
abarth: there's no point sending -1 e-mails to the whatwg list, i ignore them when responding and editing the spec

[16:30:01.0000] <Hixie>
(same with +1s)

[16:31:00.0000] <abarth>
ok

[16:31:01.0000] <abarth>
sorry for the noise

[16:32:00.0000] <Hixie>
not really sure what to do with that whole thread

[16:33:00.0000] <Hixie>
it really only matters on a per-media-type basis

[16:35:00.0000] <abarth>
i think folks just are upset at each other

[16:35:01.0000] <abarth>
and need to air their sadness

[16:35:02.0000] <Hixie>
well, the main offenders are microsoft, and they're not on the list

[16:48:00.0000] <Hixie>
can people test their favourite media players that support SRT and see what they do with http://www.hixie.ch/tests/adhoc/srt/018.srt ?

[16:48:01.0000] <Hixie>
I tested VLC on Mac, it displays cues 1 and 2, then all of the remainder except 7 as one cue, then later it shoes 7.

[16:48:02.0000] <Hixie>
shows even

[16:55:00.0000] <aho>
i like that the menu element is back :)


2010-09-08
[17:28:00.0000] <nessy>
Hixie: wow - just wow - I'm totally in awe of the long email on timed tracks - that will take a bit to digest!

[17:29:00.0000] <gsnedders>
Has Hixie writen another multi-megabyte email?

[17:29:01.0000] <TabAtkins>
Yes.

[17:29:02.0000] <TabAtkins>
But it was easy to read.

[17:43:00.0000] <Hixie>
i've replied to every e-mail reporting problems up to august 3rd or so

[17:43:01.0000] <Hixie>
i have about 300 e-mails of feature requests that i've not replied to yet, some going back years

[17:43:02.0000] <Hixie>
but they're not getting replies any time soon

[17:43:03.0000] <Hixie>
now, bugs

[18:46:00.0000] <Dashiva>
Hixie: I get the same in MPC

[18:48:00.0000] <Hixie>
Dashiva: for 018.srt?

[18:48:01.0000] <Hixie>
Dashiva: cool, thanks

[18:48:02.0000] <Dashiva>
Although I guess it's wrong to name the player, it's DirectVobSub doing the work

[18:48:03.0000] <Hixie>
k

[18:52:00.0000] <Hixie>
one day we should add a TimedTrackCe.play() method that seeks to the cue start time and starts playing

[19:00:00.0000] <nessy>
oh, that would be nice indeed

[19:00:01.0000] <nessy>
handn't thought of that yet

[19:00:02.0000] <nessy>
but then I haven't implemented anything yet - that's next

[19:07:00.0000] <Hixie>
/me checks in the first of hopefully many examples for the timed track apis

[19:08:00.0000] <Hixie>
btw my twitter posting things are all broken because they turned off basic auth

[19:08:01.0000] <Hixie>
if anyone actually cares, let me know and i'll send you the code for you to update :-)

[23:34:00.0000] <TabAtkins_>
boblet: You wanna talk Flexbox/other layout modules?  I saw your request a few days ago, but haven't been able to catch you online.

[23:47:00.0000] <boblet>
hey TabAtkins_

[23:47:01.0000] <TabAtkins_>
yo

[23:48:00.0000] <boblet>
thanks. yeah, just reading up on them and wondering what the dealz is with three layout modules, progress, etc

[23:48:01.0000] <boblet>
also I’ve heard rumors that flexbox is coming to IE9 but can’t seem to find any proof

[23:51:00.0000] <TabAtkins_>
Alex Mogilevsky is implementing experimental support for Flexbox in the platform previews, but I have no clue if that'll remain in the final build or not.

[23:51:01.0000] <TabAtkins_>
I assume the third layout module you're talking about is Grid Positioning?

[23:52:00.0000] <boblet>
TabAtkins_:  also, atm I’m trying to implement the OOCSS AG test http://wiki.github.com/stubbornella/oocss/grids and am surprised that nested boxes seem to affect things when everything has box-flex:1

[23:52:01.0000] <boblet>
aah, ok good to know. Here’s hoping IE9 will have it.

[23:53:00.0000] <boblet>
yeah Grid Positioning and Template Layout

[23:53:01.0000] <boblet>
I’m guessing they can all do the same stuff, but am wondering if some have strengths for certain types of content eg web apps vs standard document content

[23:54:00.0000] <TabAtkins_>
They can't quite do all the same stuff.  ^_^

[23:54:01.0000] <boblet>
hehe

[23:55:00.0000] <boblet>
if you could highlight diffs and strengths/weaknesses that’d be awesome

[23:55:01.0000] <TabAtkins_>
Flexbox is in a state of flux.  AlexMog and I are reworking it to better suit both of our desires.  I hope to have a revised draft out by the end of this week, but it might not show up until next week.

[23:56:00.0000] <TabAtkins_>
Template is pretty stable, though no one's taken a first step on it yet.  I've been pushing it locally in Google, and it appears to have decent support among the other implementors in the CSSWG.

[23:56:01.0000] <TabAtkins_>
Grid Positioning is eh right now.  I think it's a good idea, but AlexMog is unimpressed with it and wants to somehow change how grids are referred to.  I don't know what his plans are for it, but I don't think it'll be implemented in the immediate future.

[23:57:00.0000] <boblet>
I saw the flexbox spec on xanthir.com…

[23:58:00.0000] <TabAtkins_>
That was a fairly radical redesign, and I've scaled it back in collab with AlexMog.  I really liked it, but there were several edge-case usability issues that made it not so great an idea.  So now it's back to something much closer to the original draft.

[23:58:01.0000] <boblet>
huh, interesting. feel free to ping me with the next draft :)

[23:59:00.0000] <boblet>
ok that’s about what I guessed at from spec completion levels, so what would you say are the strengths/weaknesses of them?

[23:59:01.0000] <TabAtkins_>
Re: nested boxes in Flexbox - Yeah, each flexbox does its flex calculations separately, so children flexboxes don't interact with the space distribution of their parents.

[00:00:00.0000] <TabAtkins_>
Flexbox is great for a number of linear-layout related things.  You see flexbox-like things used a *lot* in applications' toolbars and such, for example.  Firefox uses the XUL translation of flexbox concepts for all of its UI, for example.

[00:01:00.0000] <TabAtkins_>
However, it's pretty clumsy for doing a whole website in, because you have to deal with some pretty funky nesting issues.  Elements become siblings or not based on precise details of how your layout works, rather than on their semantic relationships.

[00:01:01.0000] <TabAtkins_>
I have an article about why Flexboxes suck for website layout, actually...

[00:02:00.0000] <boblet>
ohrly? link pls!

[00:02:01.0000] <TabAtkins_>
http://www.xanthir.com/:kf8

[00:05:00.0000] <TabAtkins_>
Overall site layout is what Template is designed for.  It's a super-easy WYSIWYG-style grid layout system.

[00:06:00.0000] <TabAtkins_>
It's basically equivalent to making a "shadow table" and shoving elements into various cells, in terms of what abilities and constraints you have to work with.

[00:06:01.0000] <TabAtkins_>
Grid Positioning is something that lies on top of everything else.  All it does is define a new length unit that can be used for positioning and sizing, the 'gr' unit, which refers to the space between "grid lines".

[00:07:00.0000] <TabAtkins_>
Grid lines can either be created implicitly by various other layout modules (like Table, Multicol, or Template), or explicitly via grid-rows and grid-columns.

[00:08:00.0000] <boblet>
hrm, ok

[00:11:00.0000] <boblet>
so it sounds like flexbox is good for per-line layout, especially for toolbars and stuff

[00:12:00.0000] <boblet>
and that template layout and grid positioning address full page stuff using table and DTP grid line metaphors

[00:13:00.0000] <TabAtkins_>
Yeah.

[00:14:00.0000] <boblet>
I’m a little sad that flexbox can’t be used for page layout as it actually has some implementation, even if it doesn’t separate content and presentation enough

[00:15:00.0000] <boblet>
but yeah, dimensions not being calculated based on parent dimensions seems like a pretty big problem in addition

[00:16:00.0000] <TabAtkins_>
Oh, it *can* be used for page layout.  It's just kinda sucky for it.  You see this in the OOCSS examples for Grid - there's tons of nesting required for any complex nonlinear layout.

[00:18:00.0000] <boblet>
but my attempt at the OOCSS grid example doesn’t seem to work only using nesting and box-flex:1, it seems like the most nested boxes take lots of space, so less nested units aren’t able to be equally sized due to content requirements

[00:18:01.0000] <boblet>
(if that makes sense :) )

[00:19:00.0000] <TabAtkins_>
Doing that AG test in Template Layout would be:

[00:19:01.0000] <TabAtkins_>
display: template("abbccd"

[00:19:02.0000] <TabAtkins_>
                  "aeffgd"

[00:19:03.0000] <TabAtkins_>
                  "aehhhd"

[00:19:04.0000] <TabAtkins_>
                  20% 20% 10% 10% 20% 20%);

[00:19:05.0000] <TabAtkins_>
(Hopefully you have a fixed-width font.)

[00:20:00.0000] <TabAtkins_>
/me heads out to shower for a bit.  He'll be back in about half an hour.

[00:22:00.0000] <boblet>
TabAtkins_: thanks for the help :) I’ll see if I can work out why flexbox isn’t doing what I want, and pseudo-code the same example in template and grid positioning CSS

[00:23:00.0000] <nimbupani>
boblet: http://peter.sh/examples/?/css/flexbox.html

[00:30:00.0000] <MikeSmith>
anybody here a V8 contributor or committer?

[00:32:00.0000] <boblet>
nimbupani: :p

[00:32:01.0000] <nimbupani>
:)

[00:32:02.0000] <nimbupani>
it has working examples!

[00:32:03.0000] <nimbupani>
that work in IE9!

[00:33:00.0000] <boblet>
nimbupani: “TabAtkins_: Alex Mogilevsky is implementing experimental support for Flexbox in the platform previews, but I have no clue if that'll remain in the final build or not.”

[00:33:01.0000] <nimbupani>
:|

[00:35:00.0000] <jarib>
MikeSmith: try #v8

[00:36:00.0000] <MikeSmith>
jarib: hai

[00:36:01.0000] <MikeSmith>
/me tries now

[00:36:02.0000] <hsivonen>
I wonder how the HTML WG schedule will work

[00:36:03.0000] <boblet>
bbiab

[00:37:00.0000] <hsivonen>
and whether there will be filibuster to trigger Consequences

[00:37:01.0000] <othermaciej>
what sort of abusive filibuster do you envision?

[00:38:00.0000] <hsivonen>
othermaciej: the kind that keeps bugs open on Dec 8 to autoescalate to ISSUEs

[00:39:00.0000] <othermaciej>
e.g. by abusively chain-reopening a bug?

[00:40:00.0000] <othermaciej>
I think the chairs would put a stop to that, but it also seems like a waste of time compared to marking the bug TrackerRequest

[00:55:00.0000] <TabAtkins_>
boblet: My flex algorithm computes flexes top-down, rather than bottom-up, which I think should make the OOCSS example work correctly.

[00:56:00.0000] <TabAtkins_>
/me 's flex algo from his xanthir.com draft should be ported to the spec draft when he does the rewrite.

[01:10:00.0000] <zcorpan_>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10556 lol

[01:10:01.0000] <TabAtkins_>
boblet: Urf.  I just looked at the actual source for the AG example with flexbox/OOCSS.  Five levels of nesting for two of the boxes.  That's as horrid and unmaintainable as table layouts.

[01:13:00.0000] <annevk>
zcorpan_, also yawn

[01:13:01.0000] <zcorpan_>
why do we have a registry for canvas contexts anyway?

[01:14:00.0000] <zcorpan_>
it's not clear to me that it's needed

[01:14:01.0000] <annevk>
so you can find the contexts defined elsewhere

[01:14:02.0000] <TabAtkins_>
zcorpan_: Mainly to document what contexts can be used together.

[01:14:03.0000] <annevk>
and how they work

[01:15:00.0000] <zcorpan_>
i would use a search engine to find contexts defined elsewhere

[01:16:00.0000] <zcorpan_>
the contexts we have today can't be used together

[01:16:01.0000] <TabAtkins_>
Correct.  But we kinda expect that to change in the future.

[01:16:02.0000] <annevk>
whether or not they can be used together does not really matter

[01:17:00.0000] <annevk>
it's a string that independent bodies can put a claim on and as such a registry is useful

[01:17:01.0000] <TabAtkins_>
annevk: ?_?  It certainly does matter!  Or do you mean that it doesn't matter for the registry itself?

[01:17:02.0000] <annevk>
the latter

[01:18:00.0000] <TabAtkins_>
I can assure you that the idea of the registry was decided on as a consequence of us talking about the best method to indicate which contexts can be used together.  ^_^

[01:18:01.0000] <othermaciej>
certainly it would be odd if the registry had a pairwise "can be used together" flag for every pair of contexts

[01:18:02.0000] <othermaciej>
at least if we ever get to a large number

[01:18:03.0000] <othermaciej>
which I am not sure will ever be the case

[01:19:00.0000] <annevk>
I hope not

[01:19:01.0000] <othermaciej>
but still, O(N^2) and all

[01:19:02.0000] <TabAtkins_>
Use a table!

[01:19:03.0000] <Hixie>
it's just a list of disjoint sets

[01:20:00.0000] <othermaciej>
it would be fortunate if it ends up so well-structured a relation

[01:21:00.0000] <Hixie>
it has to be a list of disjoint sets by definition

[01:21:01.0000] <Hixie>
i really don't understand the problem here :-)

[01:21:02.0000] <TabAtkins_>
It has to be a reflexive, transitive relationship to make any sense at all, so yeah, what Hixie said.

[01:23:00.0000] <TabAtkins_>
(Non-reflexive uses like a 3d context using a 2d context as a texture are not using the two contexts at the same time.  They're two separate canvases, one of which accepts the other somehow in a method call or something.)

[01:23:01.0000] <othermaciej>
I wouldn't assume transitivity a priori but I grant it's not completely impossible

[01:23:02.0000] <othermaciej>
s/impossible/implausible/

[01:24:00.0000] <Hixie>
it would be a pretty terrible API if the API worked differently based on what order you obtained the contexts in

[01:24:01.0000] <othermaciej>
that is true to some extent if any two can't be used together

[01:27:00.0000] <TabAtkins_>
Only insofar as grabbing from one set means you won't fail until you make a call to a context from a different set.

[01:27:01.0000] <zcorpan_>
Hixie: http://www.whatwg.org/specs/web-apps/current-work/complete/ gives an index listing

[01:27:02.0000] <TabAtkins_>
Which is a very minor sense of "[works] differently".

[01:28:00.0000] <Hixie>
zcorpan_: will fix

[01:33:00.0000] <Hixie>
zcorpan_: it's annevk's fault

[01:33:01.0000] <zcorpan_>
orly

[01:35:00.0000] <Hixie>
his server is returning data so slowly i'm getting estimates of 6 hours to get back the complete.zip tarball

[01:35:01.0000] <Hixie>
er, zip file

[01:35:02.0000] <Hixie>
whatever

[01:36:00.0000] <Hixie>
i screwed up the complete/ directory trying to kill the pending wgets :-)

[01:37:00.0000] <jgraham>
So the new timeline is that we are almost 9 months from LC?

[01:38:00.0000] <Hixie>
first LC

[01:38:01.0000] <jgraham>
Sure

[01:41:00.0000] <zcorpan_>
hmm an example with unbeforeunload in the spec

[01:41:01.0000] <annevk>
my fault huh

[01:42:00.0000] <annevk>
html5.org is fast enough for me -- weird

[01:42:01.0000] <Hixie>
maybe complete.zip is huge?

[01:42:02.0000] <Hixie>
i didn't investigate closely

[01:43:00.0000] <boblet>
TabAtkins_: thanks for your comments. really pleased about the proposed change to top-down for Flexbox, as that’d really improve things. re: AG test yeah it’s an extreme example, but atm there’s no way to make it better — rock on Template and/or Grid Positioning!

[01:57:00.0000] <zcorpan_>
Hixie: http://www.w3.org/Bugs/Public/show_bug.cgi?id=8966 doesn't link to the diff

[01:57:01.0000] <Hixie>
it happens

[01:58:00.0000] <Hixie>
sometimes my script fails and i'm so many bugs ahead of the script by that time that i don't notice

[01:58:01.0000] <Hixie>
other times i forget to paste in the bug number

[01:58:02.0000] <Hixie>
if you find the revision feel free to paste in a link

[01:58:03.0000] <zcorpan_>
done

[01:58:04.0000] <annevk>
whoa, fixing lots of bugs are we now? :)

[01:59:00.0000] <annevk>
I wish people paid that amount of attention to stuff I wrote

[01:59:01.0000] <Hixie>
zcorpan_: thanks

[01:59:02.0000] <Hixie>
annevk: yeah see comments earlier from me about where i stand with respect to e-mails andstuff

[01:59:03.0000] <Hixie>
plus the chairs just told me i had to be at zarro boogs by oct 1st or something

[02:00:00.0000] <Hixie>
or nov 8th

[02:00:01.0000] <Hixie>
i forget the exact date

[02:00:02.0000] <Hixie>
is there a way to get tracker to show more revs on the index page?

[02:00:03.0000] <zcorpan_>
?limit=xyz

[02:00:04.0000] <zcorpan_>
where xyz is a number...

[02:01:00.0000] <Hixie>
aha, cool

[02:01:01.0000] <Hixie>
thanks

[02:03:00.0000] <annevk>
or -1 for everything

[02:03:01.0000] <annevk>
which is very slow

[02:09:00.0000] <annevk>
whoa, someone on the charset list actually suggested updating shift_jis

[02:14:00.0000] <hsivonen>
annevk: speaking of shift_jis, the answer I got to my question if the Windows-31J tables should be used for ISO-2022-JP and EUC-JP was a "yes"

[02:14:01.0000] <hsivonen>
(maybe this was news only to me)

[02:15:00.0000] <hsivonen>
that is, you apply the same decoding delta that you apply to de jure Shift_JIS to make it Windows-31J

[02:15:01.0000] <hsivonen>
*decoding table delta

[02:17:00.0000] <annevk>
yeah, except Windows-31J is just a name IANA invented, it is not actually an alias you should recognize (nor does Windows)

[02:19:00.0000] <hsivonen>
well, hooray to IANA

[02:19:01.0000] <annevk>
Windows calls it windows-932 I believe

[02:19:02.0000] <annevk>
or just shift_jis

[02:19:03.0000] <hsivonen>
well, you apply the delta that makes shift_jis de jure tables into windows-932 tables

[02:20:00.0000] <annevk>
once Opera implements more Firefox-like encoding matching and I have some more time I was hoping to put some effort into it again

[02:20:01.0000] <annevk>
I think we should just have one spec you give an alias and a byte stream and it returns a Unicode stream

[02:21:00.0000] <annevk>
it's all legacy anyway

[02:21:01.0000] <annevk>
so we just figure out what the various mappings ought to be, write it down, and done.. or some such

[02:21:02.0000] <Hixie>
could someone sanity check me on http://www.w3.org/Bugs/Public/show_bug.cgi?id=10479 and if I'm right explain it to steven?

[02:21:03.0000] <annevk>
(also Unicode + alias -> byte stream

[02:21:04.0000] <annevk>
)

[02:23:00.0000] <hsivonen>
the weirdest part is that on OS/2, Gecko uses the IBM delta for shift_jis instead of the Microsoft delta

[02:24:00.0000] <hsivonen>
I think that's bogus, but it's not a high-priority battle for me

[02:24:01.0000] <zcorpan_>
does anyone use OS/2?

[02:24:02.0000] <annevk>
Hixie, I guess the user would still be able to expand the details (ARIA doesn't affect that) but the benefits would only be for AT users? (if there are benefits to using <fieldset> that is...)

[02:24:03.0000] <hsivonen>
zcorpan_: I believe there are OS/2 users, yes

[02:25:00.0000] <Hixie>
annevk: how would an AT user expand the details if you overrode the accessibility API mapping of <details>?

[02:25:01.0000] <zcorpan_>
/me thought OS/2 was about as dead as windows 3.1

[02:26:00.0000] <hsivonen>
Hixie: I think the right thing is to let details retain its natural role and have a div inside with role=radiogroup

[02:26:01.0000] <annevk>
Hixie, if "search" is allowed does that not override it as well?

[02:26:02.0000] <Hixie>
hsivonen: agreed, but can you explain that to steven?

[02:26:03.0000] <Hixie>
annevk: ?

[02:26:04.0000] <hsivonen>
since presumably, you don't want details to lose its default expanding nature

[02:26:05.0000] <annevk>
" 

[02:26:06.0000] <annevk>
Currently the details element    has a default ARIA role =group and overrides

[02:26:07.0000] <annevk>
allowed: Role must be either form, group, navigation, note, or search"

[02:26:08.0000] <hsivonen>
Hixie: feel free to copy and paste from IRC

[02:27:00.0000] <annevk>
so do any of those roles not override its native semantics?

[02:27:01.0000] <Hixie>
hsivonen: i said what you said but he didn't seem to understand it

[02:27:02.0000] <Hixie>
i was hoping someone else could find another way to explain it :-)

[02:27:03.0000] <Hixie>
annevk: yes, that sounds like a bug

[02:27:04.0000] <annevk>
maybe that is why he is confused

[02:28:00.0000] <hsivonen>
hmm. good question about landmarks overriding native semantic

[02:31:00.0000] <annevk>
added comments

[02:32:00.0000] <annevk>
oh god

[02:32:01.0000] <annevk>
3023bis is going to require XPointer

[02:32:02.0000] <hsivonen>
NOOOO! :-)

[02:33:00.0000] <annevk>
i wonder if IETF is just gonna approve that as RFC without checking implementations again

[02:33:01.0000] <annevk>
same with this whole IDNA crap

[02:33:02.0000] <hsivonen>
what I want from 3023bis is text/xml not to default to US-ASCII and not be required to have CRLF breaks

[02:34:00.0000] <annevk>
paraphrasing: "there was no IETF consensus to consider the needs of web browsers when it comes to IDNA handling"

[02:34:01.0000] <annevk>
actually

[02:34:02.0000] <annevk>
"there was IETF consensus to not consider them" was more like it

[02:34:03.0000] <annevk>
hsivonen, and also not be obsolete

[02:35:00.0000] <annevk>
look http://www.w3.org/2010/web-notifications/ Anne the Chair! ;p

[02:36:00.0000] <Hixie>
my condolences

[02:37:00.0000] <othermaciej>
annevk: welcome to the loser club

[02:37:01.0000] <annevk>
heh

[02:39:00.0000] <hsivonen>
annevk: congrats/condolences

[02:39:01.0000] <hsivonen>
nice background

[02:39:02.0000] <zcorpan_>
annevk: i'm disappointed that the background image isn't svg

[02:39:03.0000] <annevk>
MikeSmith can take credit for the design

[02:40:00.0000] <MikeSmith>
I tried to make it look really obnoxious

[02:40:01.0000] <MikeSmith>
but I seem to have failed at that

[02:41:00.0000] <MikeSmith>
anyway, annevk, indeed

[02:41:01.0000] <MikeSmith>
congrats and welcome to the home of the blues

[02:42:00.0000] <zcorpan_>
what's up with <div class="box"> ? isn't that a bit 2004?

[02:42:01.0000] <MikeSmith>
I'm a simple person and I like simple class values

[02:43:00.0000] <zcorpan_>
i mean as opposed to styling <body>

[02:43:01.0000] <MikeSmith>
I think i will change that to class=div

[02:43:02.0000] <MikeSmith>
styling body would be too efficient

[02:43:03.0000] <MikeSmith>
too obvious

[02:43:04.0000] <MikeSmith>
I don't like to do the obvious thing

[02:43:05.0000] <zcorpan_>
maybe you should use a <table> instead

[02:44:00.0000] <MikeSmith>
now you're talkin'

[02:44:01.0000] <annevk>
zcorpan_, you have to appreciate the fine line MikeSmith walks between keeping his job and not getting sacked for producing crap markup ;p

[02:44:02.0000] <MikeSmith>
my markup is an expression of my soul

[02:45:00.0000] <annevk>
haha

[02:45:01.0000] <MikeSmith>
when you criticize my markup, you wound me emotionally

[02:45:02.0000] <Hixie>
annevk: so you're gonna make sure there's no user permissions dialogs or infobars right? :-)

[02:46:00.0000] <annevk>
Hixie, I already tried that during discussion but I did not quite succeed I think

[02:46:01.0000] <zcorpan_>
Hixie: you get a notification instead

[02:46:02.0000] <Hixie>
annevk: you're the chair!

[02:46:03.0000] <Hixie>
annevk: lay the smack down

[02:46:04.0000] <Hixie>
annevk: anyone who thinks we should have a user permissions dialog, ban from the group for a week

[02:46:05.0000] <Hixie>
that'll show them who's boss

[02:46:06.0000] <annevk>
Hixie, that includes all your colleagues :)

[02:47:00.0000] <annevk>
Hixie, I think most people want to follow what geolocation has

[02:47:01.0000] <Hixie>
many of my colleagues are new to web browsers

[02:48:00.0000] <Hixie>
don't let them bully you into bad UI :-)

[02:48:01.0000] <jgraham>
"lay the smack down" — are you advocating drugging the WG?

[02:48:02.0000] <annevk>
Hixie, I tried advocating your model which I think is much nicer, but it did not work out for reasons I cannot recall right now

[02:48:03.0000] <annevk>
Hixie, the app people wanna know upfront whether it is going to work as notifications often serve as reminders

[02:49:00.0000] <zcorpan_>
[[ This page wants to know where you are and wants to show you notifications. ( Allow location and notification ) ( Allow location but not notification ) ( Allow location but not location ) ( Allow neither location or notification ) [ ] Remember setting ( Learn more... ) ( Cancel ) ]]

[02:49:01.0000] <annevk>
Hixie, of course they could show an example one, but that is not quite nice; also, they wanted to be able to combine multiple of these permission dialogs together into something like "grant app priveliges" which I think makes sense

[02:49:02.0000] <MikeSmith>
annevk: you need to cultivate this kind of any image now: http://www.cinemaretro.com/uploads/walking2.jpg

[02:50:00.0000] <MikeSmith>
http://www.cinemaretro.com/uploads/walking.jpg

[02:50:01.0000] <MikeSmith>
Walk Tall

[02:51:00.0000] <zcorpan_>
s/location but not location/notification but not location/

[02:51:01.0000] <jgraham>
zcorpan_: Was that a serious suggestion?

[02:51:02.0000] <Hixie>
annevk: a "grant app priveliges" [sic] dialog is a terrible idea

[02:51:03.0000] <Hixie>
annevk: users have no idea what that even means

[02:52:00.0000] <hsivonen>
are there non-Google "app people" in the group?

[02:52:01.0000] <hsivonen>
/me is too lazy to read the member list

[02:52:02.0000] <zcorpan_>
jgraham: not really, but it'll end up something like that

[02:52:03.0000] <annevk>
Hixie, so how do you think the geolocation bar works?

[02:52:04.0000] <jgraham>
/me predicts users will click whatever looks most like the "Fuck off and let me use the website" button

[02:52:05.0000] <annevk>
Hixie, do users understand that?

[02:52:06.0000] <annevk>
/me somewhat doubts they get all the implications

[02:52:07.0000] <Hixie>
the geolocation bar is a failure imho

[02:52:08.0000] <jgraham>
In fact maybe there should just be one button and it should be labeled thus

[02:53:00.0000] <hsivonen>
Hixie: how would you design the geolocation authorization?

[02:53:01.0000] <Hixie>
i have no idea

[02:53:02.0000] <Hixie>
hence my not whining about it :-)

[02:53:03.0000] <Hixie>
but the notification one is far easier

[02:53:04.0000] <Hixie>
have ui on the notifications to opt-in to having them global, and when they're not opted in, only show them within the viewport, not the desktop

[02:54:00.0000] <Hixie>
(and have similar ui to opt-out)

[02:54:01.0000] <Hixie>
and maybe have a special method call you can invoke that pops up one of these widgets with an arrow saying "click here to opt in" (translated into userese)

[02:54:02.0000] <Hixie>
or some such idea

[02:55:00.0000] <zcorpan_>
or allow the user to drag the notification

[02:57:00.0000] <annevk>
Hixie, yeah, though people had concerns about it; would be good if once the joining process is done at the W3C side you just joined the group

[02:58:00.0000] <Hixie>
remind me when i can

[02:58:01.0000] <Hixie>
if it's low traffic i can watch it

[02:58:02.0000] <annevk>
I hope it's low traffic

[02:59:00.0000] <annevk>
Hixie, you can just subscribe to public-web-notification⊙wo and not bother joining the group; Google will have to join regardless for the editor

[03:03:00.0000] <Hixie>
k

[03:05:00.0000] <hsivonen>
how does Opera enforce Same Origin for file: URLs?

[03:06:00.0000] <annevk>
pm'd you someone's email

[03:07:00.0000] <MikeSmith>
http://twitter.com/brianleroux/status/23898902961 @brianleroux "way to go growl! you've spawned a w3c working group"

[03:08:00.0000] <Hixie>
ok bed time

[03:08:01.0000] <Hixie>
nn

[03:10:00.0000] <zcorpan_>
http://www.w3.org/mid/581CCCEE-56A0-4C17-BECC-ABC15E4065B0⊙ac lol

[03:11:00.0000] <annevk>
the HTML variant of that email was more funny

[03:12:00.0000] <zcorpan_>
i don't see any HTML variant of that email

[03:12:01.0000] <zcorpan_>
although i got the attachment in the right place in M2

[03:13:00.0000] <annevk>
http://blogs.msdn.com/b/ie/archive/2010/09/07/transitioning-existing-code-to-the-es5-getter-setter-apis.aspx great how the "legacy" API is shorter and easier

[03:15:00.0000] <zcorpan_>
i thought you could do Object.defineProperty(myObject,"p",

[03:15:01.0000] <zcorpan_>
   {get: function() {/* getter function body */}, set: function(v) {/* setter function body */}}

[03:15:02.0000] <zcorpan_>
);

[03:15:03.0000] <annevk>
you can

[03:15:04.0000] <annevk>
but there's an equivalent of that as well

[03:16:00.0000] <annevk>
not sure whether it was legacy

[03:30:00.0000] <annevk>
via bruce: http://isyourmom.partofhtml5.com/

[03:33:00.0000] <hsivonen>
http://istheblinktag.partofhtml5.com/? shows a bug in Gecko :-(

[03:34:00.0000] <zcorpan_>
http://dhtml5.com/

[04:27:00.0000] <othermaciej>
insomnia qq

[04:57:00.0000] <MikeSmith>
othermaciej: :(

[05:13:00.0000] <Workshiva>
I like this one: http://ishtml5.partofhtml5.com/

[05:28:00.0000] <hsivonen>
FAIL. http://isvideo.partofhtml5.com/ is H.264 only

[05:30:00.0000] <annevk>
defining the nodes model was easier than expected

[05:51:00.0000] <annevk>
zcorpan_, your insertBefore fu is sort of broken

[05:51:01.0000] <annevk>
e.g. it doesn't catch the case where the node being inserted is the parentNode

[05:51:02.0000] <annevk>
(or some other ancestor)

[05:52:00.0000] <annevk>
and it doesn't remove the node from the other location, I guess adoptNode always has to be implicitly invoked

[05:54:00.0000] <zcorpan_>
annevk: ok

[05:56:00.0000] <annevk>
no, not ok

[05:56:01.0000] <annevk>
:)

[05:56:02.0000] <annevk>
I guess I'll write some tests for all the modifying the DOM tree stuff

[05:57:00.0000] <annevk>
and study the original DOM spec and impls some more

[05:57:01.0000] <annevk>
with the notable exception of mutation events, as I'm not going there for now

[05:59:00.0000] <zcorpan_>
i like <@philip>

[06:02:00.0000] <annevk>
yay: http://www.nu.nl/internet/2329069/europarlement-dreigt-anti-piraterijverdrag-blazen.html

[06:03:00.0000] <Peter`>
wrong channel?

[06:05:00.0000] <annevk>
see topic

[06:05:01.0000] <annevk>
:)

[06:05:02.0000] <Peter`>
pff :p

[06:05:03.0000] <annevk>
#whatwg is a convenient way to blog

[06:06:00.0000] <zcorpan_>
if the registries are intended to match reality, maybe they should be automated based on searches on actual content instead of maintained manually

[06:06:01.0000] <annevk>
and store bits of info

[06:06:02.0000] <Peter`>
fair enough

[06:37:00.0000] <zcorpan_>
0 unread public-html emails

[06:43:00.0000] <jgraham>
zcorpan_: How many did you actually read though?

[06:43:01.0000] <jgraham>
/me has 7770 unread public-html emails but doesn't mark emails read that he has not actually read

[06:46:00.0000] <jcranmer>
I ignore most of the emails I get anyways

[06:46:01.0000] <hsivonen>
/me notes that there hasn't been a use case presented you for using the script global object of the evaluation-time document

[06:46:02.0000] <zcorpan_>
jgraham: i partially read the subject line from all threads at least

[06:47:00.0000] <hsivonen>
s/you//

[06:48:00.0000] <jgraham>
zcorpan_: Partially reading the subject line once per thread doesn't count :)

[06:48:01.0000] <zcorpan_>
why not?

[06:50:00.0000] <jgraham>
It doesn't impart a sufficient fraction of the information content of the mails for me to consider it "read"

[06:50:01.0000] <jcranmer>
I generally wait to read it until I'm right about to delete it

[06:52:00.0000] <zcorpan_>
ok then i probably read somewhere around between 5% and 10% of the emails

[07:42:00.0000] <hsivonen>
does JS have a way for an anonymous function object to reference itself (as opposed to referencing the object it is a property of)

[07:44:00.0000] <smaug____>
hsivonen: https://developer.mozilla.org/en/JavaScript/Reference/Functions_and_function_scope/arguments/callee

[07:44:01.0000] <smaug____>
not sure if that is deprecated

[07:45:00.0000] <zcorpan_>
iirc it isn't (but arguments.caller is)

[07:49:00.0000] <jgraham>
hsivonen: You are supposed to do function foo() {foo()}

[07:49:01.0000] <jgraham>
which works even if foo is a functionexpression rather than a FunctionDeclaration

[07:50:00.0000] <zcorpan_>
what's a functionexpression?

[07:51:00.0000] <hsivonen>
smaug____: thanks. I decided to do something less fancy to avoid footguns, though.

[07:52:00.0000] <hsivonen>
jgraham: I don't understand. My use case was an anonymous event handler removing itself after running once

[07:57:00.0000] <jgraham>
A function expression is something like var foo = function X() {}

[07:58:00.0000] <jgraham>
Then inside the function you can use X to refer to the function

[07:58:01.0000] <jgraham>
outside the function you use foo()

[07:59:00.0000] <zcorpan_>
wow i didn't know that was even allowed

[07:59:01.0000] <gsnedders>
zcorpan_: n00b

[08:01:00.0000] <hsivonen>
jgraham: ooh. good to know. thanks

[08:19:00.0000] <FastJack>
heh, it's funny. I just thought about bringing back <img lowsrc> for mobile devices :)

[08:20:00.0000] <hsivonen>
over here, mobile devices have faster connections that desktops in some other places

[08:20:01.0000] <hsivonen>
I wouldn't want my mobile device downloading uglier images than my desktop

[08:22:00.0000] <FastJack>
you don't have to all the time. but sometimes only edge or gprs are available

[08:28:00.0000] <zcorpan_>
opera mini/turbo uglifies images for you for slow connections

[08:28:01.0000] <hendry>
where is the svn interface to HTML5? http://svn.whatwg.org/ doesn't seem to have it

[08:29:00.0000] <hendry>
i'm interested in running my own "Specification annotation system"

[08:29:01.0000] <hsivonen>
hendry: this one? http://html5.org/tools/web-apps-tracker?from=5299&to=5300

[08:30:00.0000] <hendry>
hsivonen: i want to checkout the HTML5 spec, not a diff interfac

[08:30:01.0000] <zcorpan_>
hendry: svn.whatwg.org is the svn interface

[08:30:02.0000] <hsivonen>
hooray. Gecko fails some html5lib tests, because the MathML implementation maintains private data in script-visible _moz- attributes

[08:31:00.0000] <hendry>
zcorpan_: http://svn.whatwg.org/webapps/complete.html doesn't look right ... ?

[08:32:00.0000] <zcorpan_>
how doesn't it look right?

[08:33:00.0000] <annevk>
hendry, it's composed via script

[08:39:00.0000] <hsivonen>
does DOM TreeWalker try to be fancy about munging white space on the text nodes it exposes?

[08:40:00.0000] <hsivonen>
aaargh!

[08:40:01.0000] <hsivonen>
data: URLs!1!!

[08:41:00.0000] <jgraham>
hsivonen: What is the problem?

[08:41:01.0000] <hsivonen>
output from the test harness doesn't match expected output on white space details

[08:41:02.0000] <hendry>
annevk: sorry, getting interrupted, and where is the script again?

[08:42:00.0000] <hsivonen>
I think the data: URL creation step throws away some unescaped white space

[08:42:01.0000] <jgraham>
hsivonen: example?

[08:42:02.0000] <annevk>
hendry, I don't think it's public

[08:42:03.0000] <jgraham>
hsivonen: Of the input that causes problems

[08:42:04.0000] <jgraham>
I want to check that my harness doesn't have the same problems

[08:42:05.0000] <hendry>
annevk: iirc hsivonen showed me it sometime ago. can't recall

[08:42:06.0000] <hsivonen>
jgraham: http://pastebin.mozilla.org/785408

[08:43:00.0000] <annevk>
hendry, well, there's http://pimpmyspec.net/

[08:43:01.0000] <annevk>
hendry, but I believe there is some preprocessing going on as well

[08:44:00.0000] <hendry>
annevk: be good to see how it works. esp. annotation. I'll write an email to Hixie :)

[08:45:00.0000] <zcorpan_>
hendry: by annotation do you mean the status boxes in the margin?

[08:46:00.0000] <hsivonen>
here's my problem: data:text/html,<pre>FOO%A0BAR</pre>

[08:49:00.0000] <hsivonen>
oops.

[08:49:01.0000] <hsivonen>
data:text/html,<pre>FOO%0ABAR</pre>

[08:49:02.0000] <hsivonen>
that's better

[09:09:00.0000] <hendry>
zcorpan_: yes, that too

[09:12:00.0000] <zcorpan_>
hendry: they're mostly done with javascript

[09:39:00.0000] <zcorpan_>
annevk: Node.removeNode() seems nice

[09:40:00.0000] <zcorpan_>
annevk: except it doesn't seem to do what i expect

[09:41:00.0000] <annevk>
removeNode?

[09:42:00.0000] <Workshiva>
Node.prototype.removeNode = function() { if (this.parentNode) this.parentNode.removeChild(this); };

[09:42:01.0000] <annevk>
oh, no arguments

[09:42:02.0000] <zcorpan_>
Workshiva: but that's not what it does in opera

[09:43:00.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/621

[09:43:01.0000] <zcorpan_>
also, it's on Element, not Node

[09:43:02.0000] <Workshiva>
Why?

[09:43:03.0000] <zcorpan_>
see topic

[09:45:00.0000] <zcorpan_>
ah removeNode takes a bool argument

[09:45:01.0000] <annevk>
by default it does not remove the children

[09:45:02.0000] <zcorpan_>
false inserts the element's children in its place

[09:46:00.0000] <annevk>
i rather have library authors do this kind of stuff

[09:47:00.0000] <zcorpan_>
i would have liked it if it was on Node instead and no argument meant true instead of false

[09:47:01.0000] <zcorpan_>
http://google.com/codesearch?as_q=%5C.removeNode%5C%28

[09:47:02.0000] <annevk>
or no argument support at all

[09:48:00.0000] <zcorpan_>
http://google.com/codesearch?q=%5C.removeNode%5C(++lang:javascript

[09:49:00.0000] <zcorpan_>
maybe those aren't using the native removeNode

[09:49:01.0000] <annevk>
seem like custom or IE-only impl

[09:49:02.0000] <zcorpan_>
does ie support this?

[09:49:03.0000] <annevk>
think so

[09:50:00.0000] <annevk>
gotta run

[10:38:00.0000] <zcorpan_>
what's the impl status of https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/doc/spec/TypedArray-spec.html ?

[10:44:00.0000] <zcorpan_>
<http://www.w3.org/mid/9B2DE9094C827E44988F5ADAA6A2C5DACD3E5C⊙Hppc> - "The AssocSS spec has been approved to go out for review as a PER

[10:44:01.0000] <zcorpan_>
with the expected publication date being tomorrow."

[10:48:00.0000] <zcorpan_>
annevk: don't you need a function wrapper here? assert_throws(new TypeError(), document.body.appendChild({'a':'b'}))

[10:50:00.0000] <jgraham>
yes

[10:52:00.0000] <zcorpan_>
annevk: doctypes are special. deal with it :)

[12:53:00.0000] <Hixie>
hober: thanks dude

[13:42:00.0000] <hober>
np

[14:38:00.0000] <annevk>
meh

[14:38:01.0000] <annevk>
insertBefore et al need to use adoptNode

[14:38:02.0000] <annevk>
but adoptNode throws for DocumentType

[14:39:00.0000] <gsnedders>
Who said DOM Core was nice?

[14:39:01.0000] <annevk>
Opera does not support DocumentType in this way it seems though

[14:39:02.0000] <annevk>
maybe we should drop support for it apart from document.doctype

[14:40:00.0000] <annevk>
oh I see simon said "<zcorpan_> annevk: doctypes are special. deal with it :) "

[14:42:00.0000] <annevk>
i guess i could define how it works now and then ask people to make it simpler

[15:05:00.0000] <annevk>
I wonder if Gecko/WebKit are willing to nuke inputEncoding

[15:05:01.0000] <annevk>
clearly charset, characterSet, and defaultCharset is enough for everyone :)

[15:06:00.0000] <zcorpan_>
annevk: have you covered this case? foo.insertBefore(foo, other)

[15:08:00.0000] <annevk>
it does not cover several cases atm, but thanks for mentioning that one

[15:12:00.0000] <annevk>
also applicable to appendChild/replaceChild

[15:13:00.0000] <zcorpan_>
yes

[15:14:00.0000] <annevk>
I wonder if the null/null passing should instead through some kind of ECMAScript error

[15:14:01.0000] <annevk>
types are not nullable if they do not have a trailing question mark so I guess Web IDL covers that and I do not have to

[15:14:02.0000] <annevk>
but then the question is how stable Web IDL is

[15:14:03.0000] <annevk>
when is cameron starting at Moz again?

[15:15:00.0000] <paul_irish>
cameron who?

[15:16:00.0000] <annevk>
Mr. Web IDL: http://dev.w3.org/2006/webapi/WebIDL/

[15:16:01.0000] <TabAtkins>
annevk: I do my best to make people aware of WebIDL when they're designing APIs around here, so they just consistently defer to the spec in matters like this.

[15:17:00.0000] <paul_irish>
ah

[15:18:00.0000] <annevk>
so I guess that ought to be a type error too then

[15:19:00.0000] <annevk>
jgraham, new TypeError() does not work

[15:20:00.0000] <annevk>
I'm getting

[15:20:01.0000] <annevk>
Error: invalid array length

[15:20:02.0000] <annevk>
Source File: file:///Users/annevk/Work/w3c-dvcs/web-dom-core/tests/testharness.js

[15:20:03.0000] <annevk>
Line: 802

[15:20:04.0000] <TabAtkins>
Has Chrome removed validation from the unimplemented input types yet?  I thought we had somewhere above the public channel, but I'm suddenly struck by doubt.

[15:20:05.0000] <smaug____>
/me thinks he wanted to change EventTarget handling in WebIDL

[15:20:06.0000] <annevk>
that reminds me, is EventTarget already defined in such a way that it no longer assumes nodes?

[15:21:00.0000] <smaug____>
I think so

[15:21:01.0000] <smaug____>
when did it assume nodes?

[15:21:02.0000] <annevk>
just in describing most things

[15:27:00.0000] <AryehGregor>
TabAtkins, pretty sure it has, but it's a one-line test, no?

[15:27:01.0000] <TabAtkins>
If I know which version has it turned off, sure.

[15:32:00.0000] <annevk>
btw, I killed all <table>s from Web DOM Core

[15:39:00.0000] <zcorpan_>
annevk: http://html5.org/tools/web-apps-tracker?from=5432&to=5433 doesn't show the commit message if i have 'show editorial changes' unchecked

[15:39:01.0000] <jgraham>
annevk: What actual code is causing the error

[15:39:02.0000] <jgraham>
It isn't new TypeError(0 :)

[15:39:03.0000] <jgraham>
s/0/)

[15:41:00.0000] <annevk>
jgraham, I thought you said that was it

[15:41:01.0000] <annevk>
zcorpan_, is the latest code not in subversion?

[15:42:00.0000] <zcorpan_>
annevk: what?

[15:42:01.0000] <annevk>
zcorpan_, usually you just commit fixes and I propagate

[15:43:00.0000] <zcorpan_>
ah. i haven't checked

[15:43:01.0000] <jgraham>
annevk: I am very confused/

[15:43:02.0000] <jgraham>
What did I say?

[15:43:03.0000] <annevk>
to use new TypeError()

[15:44:00.0000] <jgraham>
Right

[15:44:01.0000] <annevk>
i.e.

[15:44:02.0000] <annevk>
assert_throws(new TypeError(), function() { document.body.insertBefore({'a':'b'}, document.body.firstChild) })

[15:44:03.0000] <annevk>
but if I use that things fall apart

[15:44:04.0000] <jgraham>
OK, that is now enough for me to debug :)

[15:44:05.0000] <jgraham>
thanks

[15:44:06.0000] <jgraham>
(is this in the repo somewhere?)

[15:45:00.0000] <annevk>
if you take http://bitbucket.org/ms2ger/web-dom-core/src/tip/tests/Node-insertBefore.html

[15:45:01.0000] <annevk>
and change the first NOT_SUPPORTED_ERR to new TypeError()

[15:45:02.0000] <annevk>
you'll get it

[15:51:00.0000] <Hixie>
is it bad that i have no idea what i was talking about in http://www.w3.org/Bugs/Public/show_bug.cgi?id=10240

[15:51:01.0000] <Hixie>
/me starts rereading the algorithm in question

[15:51:02.0000] <Hixie>
i'm often irritated that people file the most terse bugs and i often can't work out wtf they're talking about, but if even I'm doing it...

[15:52:00.0000] <TabAtkins>
/me initially read that as "irradiated".

[15:52:01.0000] <Hixie>
oh, i know what i meant

[15:53:00.0000] <zcorpan_>
we should get rid of xml:id...

[15:53:01.0000] <zcorpan_>
(in opera)

[15:54:00.0000] <annevk>
yes

[15:54:01.0000] <MikeSmith>
zcorpan_: yeah

[15:54:02.0000] <annevk>
i had this "radical" idea of introducing a global id and class attribute in DOM Core

[15:54:03.0000] <MikeSmith>
heh

[15:55:00.0000] <MikeSmith>
breaking new ground

[15:55:01.0000] <annevk>
it's a pretty neat idea I think

[15:55:02.0000] <MikeSmith>
scare quotes implied

[15:55:03.0000] <MikeSmith>
what's so neat about it?

[15:55:04.0000] <annevk>
so my old phone is kind of broken

[15:55:05.0000] <jgraham>
annevk: Another instance of the same bug. I really need to sit down and work out how to stop this happening

[15:56:00.0000] <MikeSmith>
annevk: btw, I think I remembered cam saying he was starting in October

[15:56:01.0000] <annevk>
the zero key does mostly not work and getting it on at all is problematic

[15:56:02.0000] <annevk>
and my passcode is four zeros

[15:56:03.0000] <annevk>
so screwed

[15:56:04.0000] <annevk>
MikeSmith, cool

[15:56:05.0000] <zcorpan_>
sounds like you should get a new phone

[15:56:06.0000] <Hixie>
where's cam starting in october?

[15:56:07.0000] <MikeSmith>
Mozilla

[15:57:00.0000] <Hixie>
cam as in heycam?

[15:57:01.0000] <annevk>
getting one tomorrow, but I was hoping to back up to my sim card one more time

[15:57:02.0000] <MikeSmith>
Hixie: yeah

[15:57:03.0000] <Hixie>
sweet!

[15:57:04.0000] <MikeSmith>
yup

[15:57:05.0000] <MikeSmith>
cam rocks mightily

[15:57:06.0000] <Hixie>
any idea if he's gonna be doing spec stuff?

[15:57:07.0000] <annevk>
MikeSmith, so it's cool because a) it doesn't bother the XML people that much and b) simplifies code as id/class handling will be the same for all elements everywhere

[15:57:08.0000] <Hixie>
/me stares longingly at webidl

[15:57:09.0000] <MikeSmith>
Hixie: he's going to start back up on WebIDL

[15:57:10.0000] <Hixie>
woot

[15:58:00.0000] <Hixie>
that's awesome

[15:58:01.0000] <zcorpan_>
/me would like a bugzilla component for webidl

[15:58:02.0000] <MikeSmith>
The force of Cam will once again be felt around the standards world.

[15:58:03.0000] <Hixie>
zcorpan_: there is one

[15:58:04.0000] <zcorpan_>
oh. good then

[15:59:00.0000] <annevk>
i would like someone to make a decision on fricking null handling

[15:59:01.0000] <Hixie>
at least i'm pretty sure there is

[15:59:02.0000] <MikeSmith>
if there's not I can make one

[15:59:03.0000] <zcorpan_>
annevk: and too few arguments

[15:59:04.0000] <annevk>
null -> "" as default and undefined -> "undefined" (always?) is prolly best

[15:59:05.0000] <annevk>
zcorpan_, I guess that should throw

[16:00:00.0000] <zcorpan_>
annevk: some people prefer the webkit behavior since it's native JS behavior

[16:00:01.0000] <annevk>
jgraham, make the display code less magic

[16:00:02.0000] <TabAtkins>
I prefer webkit behavior.

[16:00:03.0000] <annevk>
zcorpan_, hmm fair enough

[16:00:04.0000] <TabAtkins>
/me commonly designs functions for himself which have omittable arguments on purpose, and expects the rest of the platform to follow suit.

[16:01:00.0000] <annevk>
it seems kind of silly though

[16:01:01.0000] <annevk>
if they are optional mark them as such

[16:01:02.0000] <annevk>
if they are not throwing seems better

[16:02:00.0000] <annevk>
e.g. xhr.open() makes no sense

[16:02:01.0000] <annevk>
or node.addEventListener()

[16:02:02.0000] <annevk>
(the third argument of that method should be optional though)

[16:02:03.0000] <TabAtkins>
Problem is that then you have silly people like Hixie who refuse to mark trailing boolean arguments as optional when they clearly should be.  ^_^

[16:02:04.0000] <TabAtkins>
(In the arcTo functions, specifically.)

[16:03:00.0000] <annevk>
you can override hixie by convincing all implementors of your solution

[16:03:01.0000] <annevk>
or just a couple

[16:03:02.0000] <TabAtkins>
Well, I've got webkit down.

[16:04:00.0000] <annevk>
that is the way I'm killing HTMLBaseFontElement :)

[16:04:01.0000] <jgraham>
annevk: Yeah, or less broken

[16:04:02.0000] <zcorpan_>
i like throwing better, personally, since it is easier to debug when you make a mistake and it can be easier to extend the spec in the future if people don't rely on missing arguments "working"

[16:04:03.0000] <jgraham>
anyway, more bandages applied

[16:04:04.0000] <jgraham>
in W3 repository

[16:04:05.0000] <jgraham>
/me hates having two copies of the file in different repositories

[16:04:06.0000] <zcorpan_>
but i don't care enough to fight over it

[16:05:00.0000] <jgraham>
since I just accidentially overwrote a copy with an older copy

[16:06:00.0000] <annevk>
would be neat if you could mark files as being from other repos

[16:06:01.0000] <annevk>
and hg would sort it all out

[16:06:02.0000] <annevk>
zcorpan_, I might

[16:06:03.0000] <jgraham>
/me likes throwing for too many arguments

[16:07:00.0000] <jgraham>
Not sure about too few

[16:07:01.0000] <annevk>
woot: http://w3future.com/2010/js1k.html

[16:07:02.0000] <annevk>
including music

[16:07:03.0000] <jgraham>
Certianly addEventListener should be changed to accept 2 arguments only

[16:08:00.0000] <zcorpan_>
jgraham: we have interop on too many arguments already

[16:08:01.0000] <Hixie>
Philip`: i don't understand http://lists.w3.org/Archives/Public/public-html/2008Apr/0770.html -- did you mean the radius to not be zero? Is the spec changed from what it was already? Did I miss that e-mail altogether?

[16:09:00.0000] <Hixie>
Philip`: oh, i see, you meant there to be an 'r'

[16:09:01.0000] <jgraham>
zcorpan_: What happens? I don't remember

[16:09:02.0000] <zcorpan_>
annevk: hmm, that crashed opera

[16:09:03.0000] <annevk>
oh, not here

[16:09:04.0000] <zcorpan_>
jgraham: excess arguments are ignored

[16:10:00.0000] <jgraham>
zcorpan_: Oh. Well that seems to suck for forward-compat

[16:10:01.0000] <jgraham>
or am I missing someting?

[16:10:02.0000] <annevk>
anyway, nn

[16:10:03.0000] <zcorpan_>
jgraham: yeah, it does

[16:10:04.0000] <jgraham>
Seems to suggest that too-few arguments should act like undefined as you would expect in js

[16:11:00.0000] <jgraham>
rather than throwing

[16:11:01.0000] <jgraham>
modulo special cases

[16:11:02.0000] <jgraham>
Not that I really like it

[16:11:03.0000] <jgraham>
but yeah, bed time

[16:11:04.0000] <zcorpan_>
nn

[16:41:00.0000] <Philip`>
Hixie: Yeah, there was meant to be an r there

[16:42:00.0000] <Hixie>
i commented on the relevant bug

[16:42:01.0000] <Hixie>
looks like i'd already fixed the spec though

[16:42:02.0000] <Philip`>
The spec was changed, though I forget what it was changed to

[16:42:03.0000] <Hixie>
it just compares the delta now

[16:43:00.0000] <Philip`>
and I think I need to concentrate a lot in order to understand it without getting myself mixed up

[16:43:01.0000] <Hixie>
as you increase endAngle (assuming endAngle > startAngle and the right direction is set) the arc can never shrink again

[16:44:00.0000] <Philip`>
What if it's the wrong direction?

[16:44:01.0000] <Hixie>
then it's the other way around

[16:45:00.0000] <Hixie>
bbiab


2010-09-09
[19:03:00.0000] <MikeSmith>
kennyluck: I'm on my way in to SFC

[19:04:00.0000] <MikeSmith>
I guess I'll get there by 11:15

[19:04:01.0000] <MikeSmith>
so we could meet up for lunch

[19:26:00.0000] <kennyluck>
MikeSmith: I'll be there by 11:30

[19:26:01.0000] <MikeSmith>
kennyluck: cool

[19:27:00.0000] <MikeSmith>
kennyluck: it's cooled down a lot today

[19:27:01.0000] <MikeSmith>
because of the rain I guess

[20:51:00.0000] <MikeSmith>
how do I get OSX to reload my /etc/hosts file?

[20:52:00.0000] <wirepair>
hu?

[20:52:01.0000] <wirepair>
is your nsswitch.conf set to use hosts file? (it should. dunno why it wouldn't)

[20:53:00.0000] <wirepair>
should say like hosts: files dns

[20:53:01.0000] <MikeSmith>
ok

[20:53:02.0000] <MikeSmith>
lemme describe what I actually want to do

[20:53:03.0000] <MikeSmith>
I want to make an alias for localhost

[20:54:00.0000] <MikeSmith>
what's the right way to do that?

[20:54:01.0000] <MikeSmith>
/me checks nsswitch.conf

[20:54:02.0000] <wirepair>
edit hosts to have a line like: localhost buh.not.localhost.com

[20:54:03.0000] <MikeSmith>
locate nsswitch.conf .. しーん

[20:55:00.0000] <MikeSmith>
ok, done that

[20:55:01.0000] <MikeSmith>
but how to I get the OS to actually re-read that

[20:55:02.0000] <wirepair>
it should be instant

[20:55:03.0000] <MikeSmith>
it's not :(

[20:56:00.0000] <wirepair>
weird... try like 127.0.0.1 something

[20:56:01.0000] <wirepair>
then ping someting and see if you get a response?

[20:56:02.0000] <MikeSmith>
I have no nsswitch.conf btw

[20:56:03.0000] <wirepair>
weird thought osx would have it ;)

[20:57:00.0000] <wirepair>
http://forums.macrumors.com/archive/index.php/t-614816.html

[20:57:01.0000] <wirepair>
try that?

[21:20:00.0000] <roc>
annevk: Cameron starts in a few weeks

[22:33:00.0000] <MikeSmith>
wirepair: that link appears to be a couple of confused dudes further confusing each other

[22:46:00.0000] <nimbupani>
it is ploughman no MikeSmith :P

[23:50:00.0000] <nattokirai>
MikeSmith: ping

[23:53:00.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=593963#c11

[00:23:00.0000] <annevk>
how do you get file size listing again in shell?

[00:25:00.0000] <hsivonen>
ls -al

[00:26:00.0000] <hsivonen>
http://www.w3.org/TR/webarch/summary makes it easy to see how disproportionalely "Web" arch is about XML

[00:36:00.0000] <cyberix>
Is there a concensus about using IPv6 addresses in urls?

[00:38:00.0000] <MikeSmith>
nattokirai: hey man

[00:38:01.0000] <MikeSmith>
back now

[00:39:00.0000] <cyberix>
Would http://[2001:200:dff:fff1:216:3eff:feb1:44d7]/ work on all modern browsers?

[00:39:01.0000] <MikeSmith>
nattokirai: long time no talky

[00:40:00.0000] <kennyluck>
cyberix: it works in Safari and Firefox at least

[00:40:01.0000] <cyberix>
Seems to work on Chrome

[00:41:00.0000] <variable>
cyberix, likely

[00:41:01.0000] <cyberix>
seems to work in Opera

[00:41:02.0000] <variable>
for some definition of modern

[00:41:03.0000] <cyberix>
Does anyone have an IE around?

[00:42:00.0000] <variable>
cyberix, fails to work on links

[00:42:01.0000] <variable>
but I'm not sure if I compiled it with IPV6 support ;-)

[00:45:00.0000] <cyberix>
variable: :-)

[01:06:00.0000] <hsivonen>
someone should make a TTY graphics layer for Gecko or WebKit to replace Lynx and Links

[01:21:00.0000] <annevk>
complete/ is almost resolved

[01:21:01.0000] <annevk>
meanwhile http://html5.org/complete/ still functions

[01:23:00.0000] <hsivonen>
I wonder if we already have a test case that checks if http://html5.org/tools/web-apps-tracker?from=5296&to=5297 has been implemented

[01:36:00.0000] <zcorpan_>
hsivonen: is argument.callee disallowed in strict mode?

[01:36:01.0000] <zcorpan_>
s//s/

[01:38:00.0000] <zcorpan_>
seems so (at least in gecko)

[01:41:00.0000] <hsivonen>
zcorpan_: I don't know

[01:48:00.0000] <hsivonen>
apparently we don't have a test for spec rev 5297

[02:00:00.0000] <hsivonen>
hmm. I wonder how to write a test case for rev 5297

[02:01:00.0000] <annevk>
hsivonen, something like </svg><div/>x

[02:01:01.0000] <annevk>
?

[02:02:00.0000] <annevk>
well, plus some content before it

[02:03:00.0000] <zcorpan_>
i take it there's already a test like "<svg></svg>"?

[02:04:00.0000] <hsivonen>
zcorpan_: AFAICT, it depends on EOF handling having or not having certain other fixes

[02:04:01.0000] <hsivonen>
but let's try it

[02:04:02.0000] <hsivonen>
zcorpan_: <svg></svg> doesn't produce the wrong tree without the fix

[02:05:00.0000] <hsivonen>
given the current state of V.nu EOF handling

[02:06:00.0000] <zcorpan_>
the bug says that it can cause a crash, so seems good to include it

[02:07:00.0000] <hsivonen>
zcorpan_: already included

[02:07:01.0000] <zcorpan_>
ok

[02:07:02.0000] <hsivonen>
I need to step through this in debugger to understand why there's no bug...

[02:14:00.0000] <hsivonen>
so "A start tag, if the current node is an element in the HTML namespace." handles the normal start tag case

[02:15:00.0000] <hsivonen>
hmm. maybe I should try something more evil like <svg></svg><![CDATA[]]>

[02:15:01.0000] <hsivonen>
woohoo! a test case!

[02:17:00.0000] <zcorpan_>
that's the spirit! think evil :)

[02:46:00.0000] <hsivonen>
malignmark is my favorite MathML element name

[02:47:00.0000] <MikeSmith>
heh

[02:47:01.0000] <jgraham>
hsivonen: I sonsidered "don't crash" to be a good TC for that change :)

[02:48:00.0000] <jgraham>
But the CDATA thing is neat

[02:49:00.0000] <othermaciej>
hsivonen: doesn't that tend to piss him off?

[02:49:01.0000] <jgraham>
Also: malignmark is indeed quite awesome

[02:50:00.0000] <Workshiva>
Could he sue w3c for that kind of harassment?

[02:53:00.0000] <hsivonen>
Isn't the "still in foreign content" check redundant in http://html5.org/tools/web-apps-tracker?from=5299&to=5300 ?

[02:53:01.0000] <hsivonen>
how could it not still be in foreign at that point?

[02:56:00.0000] <Hixie>
yeah that does seem redundant

[02:56:01.0000] <Hixie>
since you have to be in foreign to get to that clause, and popping can't change the mode

[02:56:02.0000] <Hixie>
right?

[02:56:03.0000] <ashaw>
with so many web browsers that are colour corrected, I was wondering if others thought it would be useful to be able to set the input colour correction profile in HTML5?

[02:56:04.0000] <hsivonen>
Hixie: right. I'll file a bug.

[02:57:00.0000] <Hixie>
ashaw: you could, using @color-profile http://www.w3.org/TR/2003/CR-css3-color-20030514/#atcolorprofile but it was dropped because nobody implemented it

[02:58:00.0000] <ashaw>
do you know why not?

[02:59:00.0000] <zcorpan_>
annevk: you're listed in the acks section in dom core :)

[02:59:01.0000] <Hixie>
probably nobody cared, but i have no direct information

[02:59:02.0000] <Hixie>
annevk and TabAtkins might know

[03:04:00.0000] <hsivonen>
I wonder if rev 5300 causes an infinite loop on EOF

[03:04:01.0000] <hsivonen>
/me looks closer

[03:05:00.0000] <hsivonen>
I think there's an infinite loop

[03:06:00.0000] <ashaw>
also the css3 color-profile rule states that the default profile should be sRGB, this is not implemented in Safari, is this a bug?

[03:08:00.0000] <hsivonen>
yep, there definitely is an infinite loop

[03:08:01.0000] <hsivonen>
time to file a spec bug...

[03:08:02.0000] <jgraham>
hsivonen: where?

[03:08:03.0000] <hsivonen>
jgraham: <math><mi>EOF keeps reprocessing the EOF token

[03:09:00.0000] <zcorpan_>
clearly getting foreign lands right is hard

[03:12:00.0000] <jgraham>
Hmm, I thought I hd thought about that case at the time

[03:12:01.0000] <jgraham>
I have a feeling that I might have been misled by not actually reprocessing the token, since that just affects parse errors

[03:13:00.0000] <myakura>
ashaw: iirc they've talked something about color correction stuff last year though i'm not sure if anything's happend since then.

[03:17:00.0000] <hsivonen>
jgraham: I think getting more than one parse error in that case provides no value

[03:17:01.0000] <hsivonen>
certainly no value that'd justify complexity

[03:18:00.0000] <jgraham>
Yes, I think when the psec has the choice between simplicity and theoretical purity of #parse errors, spimplicity wins every time

[03:19:00.0000] <jgraham>
Ubuntu is really very unresponsive

[03:19:01.0000] <jgraham>
A multisecond delay on everything I type is bad

[03:19:02.0000] <hsivonen>
I wonder if a security update has broken it some time during August

[03:20:00.0000] <hsivonen>
since I returned from vacation, compiling Firefox has started making the mouse cursor and Spotify really jumpy

[03:20:01.0000] <hsivonen>
with 8 hardware threads

[03:21:00.0000] <jgraham>
Similar problem here

[03:21:01.0000] <jgraham>
Fewer threads but a less impressive machine

[03:22:00.0000] <jgraham>
and not Firefox :)

[03:27:00.0000] <annevk>
zcorpan_, I haven't touched editors/acknowledgments yet

[03:27:01.0000] <annevk>
zcorpan_, maybe I should

[03:32:00.0000] <annevk>
ashaw, it's a more complicated feature basically

[03:32:01.0000] <annevk>
ashaw, it will probably return at some point

[03:32:02.0000] <ashaw>
why is it more complicated>

[03:32:03.0000] <ashaw>
? 

[03:33:00.0000] <annevk>
yay, 8MiB per second; finally a somewhat reasonable internet connection

[03:33:01.0000] <annevk>
ashaw, it's more complicated than the other CSS color features

[03:42:00.0000] <erlehmann>
annevk, and i am on GRPS ;_;

[03:43:00.0000] <annevk>
poor you

[03:43:01.0000] <annevk>
everyone should have at least 100mbit

[03:43:02.0000] <erlehmann>
i second that motion

[03:44:00.0000] <ashaw>
I am in Australia, until last year I had 512Kbps adsl, now somewhat 8mbit/s ADSL2+ cannot wait until the NBN comes to where I am.

[03:45:00.0000] <annevk>
whoa

[03:45:01.0000] <ashaw>
yeah, 

[03:45:02.0000] <ashaw>
looong copper lines.

[03:45:03.0000] <Lachy>
ashaw, I guess you must be in one of the lucky regional areas that will get prioritised over the next 3 years

[03:45:04.0000] <ashaw>
no

[03:45:05.0000] <ashaw>
newcastle.

[03:45:06.0000] <ashaw>
those areas can barely get 3mbit/s

[03:46:00.0000] <ashaw>
or less

[03:46:01.0000] <Lachy>
wow. I didn't expect Newcastle to have such bad ADSL at this stage.

[03:46:02.0000] <ashaw>
the exchange is 1km away/

[03:46:03.0000] <ashaw>
actually lake macqurie 

[03:46:04.0000] <Lachy>
hmm. that's strange. The copper lines must be really bad quality to have signal that low

[03:47:00.0000] <ashaw>
waterlogged.

[03:47:01.0000] <ashaw>
and no not really

[03:47:02.0000] <ashaw>
if you look at the graphs

[03:48:00.0000] <ashaw>
at the moment I am gettinh 9108000 baud

[03:48:01.0000] <ashaw>
and only 29.0dB attenuation

[03:48:02.0000] <ashaw>
which is pretty good.

[03:48:03.0000] <ashaw>
ADSL is just not as good as you think

[03:49:00.0000] <Lachy>
but surely if you're really getting ADSL2+, you'd be able to get more than 8Mbps. Are you sure you're not on ADSL1?

[03:49:01.0000] <ashaw>
no.

[03:49:02.0000] <ashaw>
it is ADSL2+ annex M, or so my modem says.

[03:50:00.0000] <Lachy>
ok

[03:50:01.0000] <ashaw>
the speed falls in a curve.

[03:52:00.0000] <ashaw>
anyway what sort of speed are you getitng.

[03:52:01.0000] <Lachy>
http://www.internode.on.net/residential/broadband/adsl/extreme/performance/

[03:52:02.0000] <ashaw>
yes I know.

[03:52:03.0000] <Lachy>
according to that graph, at only 1km from the exchange, you should be getting up around 20

[03:53:00.0000] <ashaw>
yeah, but I am not. my line looks electrically like 2.3km

[03:53:01.0000] <Lachy>
I'm overseas right now. But when I was in Aus in Northern Sydney, I believe I managed to get about 13Mbps on ADSL2+. But that was about 4 years ago.

[03:54:00.0000] <ashaw>
yeah, where are you now?

[03:54:01.0000] <Lachy>
Oslo

[03:54:02.0000] <ashaw>
hahaha.

[03:54:03.0000] <ashaw>
what project do you work on?

[03:54:04.0000] <ashaw>
to be here?

[03:55:00.0000] <Lachy>
I'm on Cable at home here. I get about 17Mbps peak. I could get up to 50Mbps if I could afford it.

[03:55:01.0000] <Lachy>
I work at Opera

[03:55:02.0000] <ashaw>
how much?

[03:55:03.0000] <ashaw>
ah.

[03:56:00.0000] <Lachy>
on my current plan, it works out to roughly $90/month depending on exchange rate

[03:56:01.0000] <ashaw>
download limit?

[03:56:02.0000] <Lachy>
but Norway is a very pricey country, so not bad overall

[03:56:03.0000] <Lachy>
haha. Usage caps don't exist in Europe :-)

[03:57:00.0000] <ashaw>
really?

[03:57:01.0000] <Lachy>
yes, really.

[03:57:02.0000] <Lachy>
at least, not in Norway, and I don't believe they do in any other country. But I could be wrong.

[03:57:03.0000] <ashaw>
I cannot wait for that to come here, as it will.

[03:57:04.0000] <ashaw>
Internode just released a 1TB plan.

[03:57:05.0000] <Lachy>
AAPT has unlimited

[03:58:00.0000] <Lachy>
iiNet has 1TB too

[03:58:01.0000] <Lachy>
(500GB on/off peak)

[03:59:00.0000] <ashaw>
I HATE AAPT.

[03:59:01.0000] <ashaw>
iinet is good though.

[04:00:00.0000] <Lachy>
I expect with the NBN, with reasonable wholesale prices and with the available bandwidth being more than enough to handle everyone, bandwidth caps will be a thing of the past

[04:00:01.0000] <Lachy>
I have no experience with AAPT

[04:00:02.0000] <Lachy>
iiNet were good for me though

[04:00:03.0000] <ashaw>
major problem is actually international trunks.

[04:00:04.0000] <Philip`>
Many UK ISPs seem to have usage caps

[04:01:00.0000] <Philip`>
like 10GB for the cheapest options and 40GB for slightly less cheap ones

[04:01:01.0000] <ashaw>
UK is very expensive though.

[04:01:02.0000] <Lachy>
woah. That's worse than Australia. WTF?

[04:01:03.0000] <ashaw>
yeah

[04:01:04.0000] <ashaw>
]

[04:05:00.0000] <ashaw>
before,  the main problem with colour calibration in browsers was Flash, is that still so?

[04:07:00.0000] <annevk>
no caps in the Netherlands

[04:11:00.0000] <annevk>
http://twitter.com/Rahul/status/23994111511 -- CNN on HTML5: "[...] an open-source platform that updates animation features of programs like Adobe's Flash." http://goo.gl/qXLV

[04:12:00.0000] <ashaw>
hahaha. Wroooong

[04:29:00.0000] <Lachy>
annevk, I don't see where in the linked article that can be found, nor anything else about HTML5

[04:30:00.0000] <Lachy>
annevk, also, thanks for leaving me the Kahlua yesterday

[04:33:00.0000] <annevk>
maybe they fixed it?

[04:33:01.0000] <annevk>
oh well

[04:42:00.0000] <Lachy>
http://www.macrumors.com/2010/09/09/vlc-video-player-coming-to-ipad/

[04:44:00.0000] <Lachy>
I assume that means they'll bring WebM and Theora support to the iPad, at least to the extent possible.

[04:51:00.0000] <DefV>
yeah, but it won't be hardware-accelerated like with x264 :-(

[04:51:01.0000] <ashaw>
why not?

[04:51:02.0000] <ashaw>
I mean why could it not be?

[04:52:00.0000] <gsnedders>
I expect the DSP is locked

[04:52:01.0000] <ashaw>
ewww.

[04:53:00.0000] <gsnedders>
It is on most phones, and I expect it is on the iPad

[05:13:00.0000] <hsivonen>
not a long time ago VLC folks claimed Apple doesn't them on Mac

[05:13:01.0000] <hsivonen>
if true, I wonder how the AppStore approval will go

[05:18:00.0000] <zcorpan_>
hsivonen: s//want/ ?

[05:18:01.0000] <hsivonen>
zcorpan_: yes

[05:26:00.0000] <hsivonen>
whoa, whoa. when has the meta prescan started to require http-equiv="content-type" for the content="..." case?

[05:29:00.0000] <zcorpan_>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=9225 ?

[05:30:00.0000] <hsivonen>
zcorpan_: thanks

[05:43:00.0000] <hsivonen>
does anyone happen to have data about browser support of <meta http-equiv="pragma" value="no-cache"> ?

[05:51:00.0000] <hsivonen>
why doesn't this get cached? http://hsivonen.iki.fi/test/moz/pragma-no-cache-baseline.php

[05:55:00.0000] <zcorpan_>
maybe because it doesn't have an expires header?

[05:55:01.0000] <hsivonen>
hmm. should the baseline have an Expires header?

[05:55:02.0000] <hsivonen>
ah

[05:57:00.0000] <hsivonen>
now I need the right php format string for the expires header...

[05:57:01.0000] <hsivonen>
"r"

[05:57:02.0000] <hsivonen>
cool

[05:58:00.0000] <boogyman>
hsivonen: ##php should be able to help you out

[06:01:00.0000] <hsivonen>
boogyman: the manual was enough :-)

[06:11:00.0000] <Philip`>
/me finds it strange when there's spec-related discussions about references to garbage collected objects

[06:11:01.0000] <Philip`>
since surely if there's a reference to the object then it's not garbage, by definition

[06:13:00.0000] <zcorpan_>
discussion where?

[06:13:01.0000] <hsivonen>
I need to do s/value/content/ in the test case

[06:15:00.0000] <Philip`>
zcorpan_: On the WHATWG list recently, and in the spec itself in various places

[06:15:01.0000] <Philip`>
Seems like it's more about manual memory management than about GC

[06:18:00.0000] <hsivonen>
doh. I forgot to test IE8 in the quirks mode

[06:19:00.0000] <zcorpan_>
Philip`: like websockets with event listeners?

[06:20:00.0000] <hsivonen>
aaargh. IE supports the pragma stuff in the IE 5.5 mode

[06:20:01.0000] <hsivonen>
yay for IE modes to make developers of other browsers test more cases

[06:20:02.0000] <hsivonen>
s/to make/for making/

[06:22:00.0000] <Philip`>
zcorpan_: Yes

[06:24:00.0000] <Philip`>
I think the usual definition is that a value is garbage after the last time it is read (and a conversative approximation is that it's definitely garbage after the last reference to it has been removed)

[06:24:01.0000] <Philip`>
so you can never tell the difference between a program that frees all garbage immediately and one that never frees garbage

[06:25:00.0000] <zcorpan_>
Philip`: isn't that the case with the spec also?

[06:26:00.0000] <Philip`>
The spec seems to care about the difference, else it wouldn't have to say anything about GC, so I assume it's got some undefined implementation-level notion of an imperfect garbage collection algorithm based on reference-counting and weak pointers or something

[06:29:00.0000] <zcorpan_>
if you create a websocket object and add an event listener to it, and remove the js-level reference to it, does the ua still have a reference to it because it has an event listener?

[06:32:00.0000] <Philip`>
If it is possible to observe a difference between an implementation that holds a reference and one that doesn't, then it must be because the potentially-collected value was still accessed somehow, which means it wasn't garbage, which means it shouldn't have been garbage collected

[06:32:01.0000] <zcorpan_>
yeah

[06:33:00.0000] <zcorpan_>
the spec just spells out that it is possible to observe a difference and spells out when it is no longer possible to observe a difference

[06:37:00.0000] <Philip`>
It spells it out in what seems like a peculiar level of abstraction, since it's talking about the mechanics of a garbage collection algorithm rather than about observable differences

[06:38:00.0000] <zcorpan_>
file a bug?

[06:39:00.0000] <hsivonen>
whoa. Opera doesn't cache http://hsivonen.iki.fi/test/moz/pragma-no-cache-quirks.php

[06:40:00.0000] <hsivonen>
so Opera has a quirks mode difference here like IE

[06:40:01.0000] <hsivonen>
sadness

[06:43:00.0000] <zcorpan_>
ouch

[06:46:00.0000] <hsivonen>
so the pragma is observed in Firefox 3.6, Opera quirks and IE quirks

[06:47:00.0000] <hsivonen>
and not observed in IE standards, Opera standards and WebKit

[06:47:01.0000] <hsivonen>
so currently WebKit is the only one not to observe the pragma in quirks...

[08:31:00.0000] <annevk>
DocumentType makes insertBefore insane

[08:32:00.0000] <annevk>
we should just make adoptNode support DocumentType and get rid of all the special casing

[08:41:00.0000] <hsivonen>
I'm starting to think the implicit closing of <p> might be *the* worst characteristic of HTML parsing

[08:42:00.0000] <hsivonen>
(from author POV)

[08:46:00.0000] <abarth>
hsivonen: it's really confusing to author

[08:46:01.0000] <abarth>
because it tricks you into thinking HTML works differently than it does

[08:47:00.0000] <zcorpan_>
hsivonen: why wouldn't you put the figure before the <p>?

[08:50:00.0000] <hsivonen>
zcorpan_: I want the top edge of the figure to align with the top edge of the paragraph text if the paragraph has a top margin or even padding plus border

[08:52:00.0000] <zcorpan_>
hsivonen: i take it you want figure to be phrasing content with transparent content model (plus figcaption)?

[08:52:01.0000] <hsivonen>
zcorpan_: it want it to be phrasing, yes

[08:53:00.0000] <hsivonen>
zcorpan_: I'd prefer non-transparent and scoping but maybe that's too much to ask for considering Degrade Gracefully

[08:53:01.0000] <zcorpan_>
hsivonen: what if you want it to align with the paragraph text but the figcaption contains several paragraphs?

[08:53:02.0000] <hsivonen>
zcorpan_: hence I'd prefer non-transparent and scoping

[08:54:00.0000] <zcorpan_>
maybe you should say that in the bug

[08:55:00.0000] <zcorpan_>
<figcaption> can still close <p> if <figure> is scoping

[08:57:00.0000] <zcorpan_>
although you also have this problem if you want a <table> to align with a paragraph, or a number of other things which also close <p>

[08:57:01.0000] <zcorpan_>
so i'm not convinced we should change this

[08:58:00.0000] <hsivonen>
zcorpan_: I think making <table> close <p> was a mistake

[08:58:01.0000] <hsivonen>
but Hixie put that one in Acid2, so water under the bridge

[08:58:02.0000] <hsivonen>
but that doesn't mean <figure> has to suck, too

[08:58:03.0000] <annevk>
hmm, insertBefore for DocumentFragment is prolly also wrong

[08:59:00.0000] <annevk>
as using insertBefore to "implement it would remove the nodes from the DocumentFragment

[08:59:01.0000] <annevk>
gah

[08:59:02.0000] <annevk>
these functions have lots of permutations, it's crazy

[09:10:00.0000] <gsnedders>
Hmm, I'm getting: "o: command not found", and I have gcc/g++ installed. WTF?

[09:11:00.0000] <hsivonen>
I learned something new today: http://www.utoronto.ca/web/HTMLdocs/NewHTML/multicol.html

[09:11:01.0000] <Philip`>
gsnedders: What command are you trying to run?

[09:12:00.0000] <hsivonen>
also, I was unaware that WebTV had minted multiple browser-specific elements that no one else supports

[09:12:01.0000] <gsnedders>
Philip`: Just trying to build mozilla-central tip (gah, really, no builds with --enable-tests? I think this everytime I need them…)

[09:14:00.0000] <jgraham>
I thought they had those builds now

[09:15:00.0000] <hsivonen>
<spacer> is about to become the longest-lived major engine-suppored HTML element to be eradicated

[09:15:01.0000] <Philip`>
Maybe the .tests.zip in http://ftp.mozilla.org/pub/mozilla.org/firefox/nightly/latest-trunk/ ?

[09:15:02.0000] <Philip`>
/me has no idea what they are, but they do say "tests" in them

[09:16:00.0000] <hsivonen>
<layer> and <ilayer> lasted only for one major release. <multicol> two. <hype> was Mac-only.

[09:16:01.0000] <hsivonen>
has Opera minted any elements?

[09:16:02.0000] <hsivonen>
WebKit has minted <canvas> but that one became standard

[09:16:03.0000] <gsnedders>
/me still wants to know why it won't compile

[09:17:00.0000] <gsnedders>
hsivonen: In HTML? Not that we currently support, at least

[09:17:01.0000] <hsivonen>
gsnedders: ok. Wikipedia doesn't know of any, either.

[09:18:00.0000] <hsivonen>
I think <spacer> is also about to become the first HTML element to be unsupported by Gecko after having been supported by Gecko

[09:19:00.0000] <gsnedders>
I know we dropped support for the bq element :P

[09:20:00.0000] <hsivonen>
gsnedders: Wikipedia is unaware!

[09:20:01.0000] <hsivonen>
I wonder if the IRC log works as an authoritative source for Wikipedia...

[09:21:00.0000] <gsnedders>
heh

[09:21:01.0000] <gsnedders>
Basically, we used HTMLQuoteElement for bq

[09:21:02.0000] <gsnedders>
That was the extent of our support for it.

[09:29:00.0000] <hsivonen>
jgraham: we have no way to represent a carriage return in expected tree builder output, right?

[09:30:00.0000] <hsivonen>
the test with FOO&#x000D;ZOO is the input is bogus. I'm wondering what to do about it

[09:30:01.0000] <gsnedders>
Why would a raw 0x0D byte now work?

[09:31:00.0000] <hsivonen>
gsnedders: wouldn't text editors break it upon next edit?

[09:31:01.0000] <hsivonen>
gsnedders: and it doesn't work when the test data is loaded via iframe

[09:31:02.0000] <jgraham>
That could be a problem

[09:31:03.0000] <jgraham>
Not sure what to do about it though

[09:31:04.0000] <hsivonen>
(maybe I should change our harness to use XHR but I'd rather not, since everything else works via iframe)

[09:32:00.0000] <hsivonen>
I could remove the test and make sure the tokenizer tests cover &#x000D;

[09:32:01.0000] <jgraham>
hsivonen: Why does the iframe present a problem?

[09:33:00.0000] <jgraham>
Does some normalisation happen if you load a data: uri?

[09:33:01.0000] <hsivonen>
jgraham: if you load text/plain in a browsing context, line break normalization happens

[09:34:00.0000] <jgraham>
Oh text/plain

[09:35:00.0000] <jgraham>
In fact it seems generally problematic

[09:35:01.0000] <hsivonen>
the use of an iframe might be caused by the harness been developed to work with file: URLs

[09:35:02.0000] <hsivonen>
dunno. sayrer would know

[09:35:03.0000] <jgraham>
Unless you keep the expected output e.g. percent encoded

[09:36:00.0000] <hsivonen>
jgraham: the files that get loaded as text/plain;charset=utf-8 in the iframes are the html5lib .dat files verbatim

[09:36:01.0000] <jgraham>
hsivonen: Yeah, it is not easy with your approach

[09:37:00.0000] <gsnedders>
http://pastebin.com/TgGNx2FF — fairly weird.

[09:38:00.0000] <gsnedders>
I guess I should try asking in a proper channel…

[09:40:00.0000] <hsivonen>
for the tests of the nature <html>�<frameset></frameset> I haven't yet checked with a hex editor if the test is bogus or if the harness is

[09:41:00.0000] <hsivonen>
the tests are still indicating 5 Gecko/V.nu bugs

[09:42:00.0000] <hsivonen>
and 6 if the above REPLACEMENT CHARACTER thing isn't a harness/test bug

[09:46:00.0000] <gsnedders>
I guess libvpx is trying to do something different to the rest of the moz build systems

[09:50:00.0000] <annevk>
jgraham, how easy would it be to let testharness not quit at the first non-fatal failure?

[09:50:01.0000] <hsivonen>
gsnedders: do you have yasm installed?

[09:51:00.0000] <jgraham>
annevk:All failures are fatal

[09:51:01.0000] <jgraham>
Unless they are in seperate tests

[09:51:02.0000] <Philip`>
gsnedders: Looks kind of like it's trying to execute half a line (I'd expect it to be "something ... -o emms.o -f elf64 ...")

[09:51:03.0000] <jgraham>
It's a pretty fundamental part of the design

[09:51:04.0000] <annevk>
i guess i could use nested tests more often

[09:51:05.0000] <annevk>
okay

[09:52:00.0000] <jgraham>
You don't need to nest

[09:52:01.0000] <jgraham>
Just have multiple test(function(){}) per file

[09:52:02.0000] <annevk>
yeah okay

[09:52:03.0000] <gsnedders>
hsivonen: yes

[09:53:00.0000] <gsnedders>
Philip`: I got that far :P

[09:53:01.0000] <gsnedders>
Running it with no parallelizisim appears to be working

[09:55:00.0000] <annevk>
insertBefore/appendChild/replaceChild are some of the most complex methods in whole of DOM Core

[09:55:01.0000] <annevk>
though compareDocumentPosition is pretty bad too

[10:52:00.0000] <jgraham>
I hate it when things sell for < 300 USD yet even in sales are 5000 SEK

[10:53:00.0000] <jgraham>
That is _more_than_a_factor_or_two_

[10:56:00.0000] <annevk>
that's the price of freedom

[11:12:00.0000] <annevk>
i wonder how many steps it would be to spell out the HIERARCHY_REQUEST_ERR cases

[11:13:00.0000] <annevk>
the easy solution would of course be "do not violate the nodes model" but that is very easy

[11:14:00.0000] <annevk>
but just considering the amount of complexity you get for DOCUMENT_TYPE or the root ELEMENT I'm not sure I want to go there

[11:14:01.0000] <annevk>
hmm

[11:19:00.0000] <annevk>
 // test 25: test namespace checking in createDocumentType

[11:19:01.0000] <annevk>
boo

[11:20:00.0000] <annevk>
Acid3 tests a whole bunch of crappy DOM stuff

[11:21:00.0000] <sicking>
s/DOM//

[11:22:00.0000] <annevk>
heh, true

[11:22:01.0000] <annevk>
oh well, we're not gonna repeat that mistake for Acid4

[11:24:00.0000] <sicking>
annevk: riiiiiight

[11:25:00.0000] <sicking>
also, i think we need to make changes to acid3

[11:25:01.0000] <sicking>
it's really stupid if we're adding things to the web platform just to make hixie happy

[11:26:00.0000] <sicking>
or rather, one page that hixie wrote happy

[11:26:01.0000] <annevk>
I don't think he's happy with it

[11:26:02.0000] <sicking>
right, but it's still about keeping that one page from breaking

[11:27:00.0000] <annevk>
yeah, I'm not at all opposed to changes to Acid tests

[11:27:01.0000] <annevk>
you're right actually, maybe we actively should make changes

[11:28:00.0000] <annevk>
not changing because we thought "something was set in stone" has made things bad in the past, too

[11:28:01.0000] <annevk>
e.g. CSS margin collapsing

[12:40:00.0000] <hsivonen>
Acid3 will bite us when we do XML5

[12:47:00.0000] <othermaciej>
does Acid3 test for XML strictness?

[12:49:00.0000] <hsivonen>
othermaciej: it does

[12:49:01.0000] <hsivonen>
character encoding strictness at least

[12:54:00.0000] <Hixie>
acid3 tests a bunch of stuff that the specs required that the browsers didn't do, which we have since largely come to view as suboptimal

[12:54:01.0000] <Hixie>
it's sad

[12:55:00.0000] <Hixie>
acid2, and to some extent acid3, both predate the time where i was comfortable with just making wholesale changes to long-established specs

[12:55:01.0000] <Hixie>
(acid3 does sidestep some problems, like making Attr nodes optional)

[12:56:00.0000] <Hixie>
anyway, if the specs change then i'll happily change acid3

[13:14:00.0000] <gsnedders>
/me blatantly has bad Mozilla karma today. Thunderbird appears to have lost all email.

[13:18:00.0000] <gsnedders>
All my account settings are there, but the list of folders is empty, and the list of emails doesn't even appear because there's no folder selected (because there are no folders)

[13:18:01.0000] <gsnedders>
What on earth?

[13:23:00.0000] <gsnedders>
http://stuff.gsnedders.com/thunderbird.png — awesome!

[13:30:00.0000] <gsnedders>
folderTree.json corrupt. Nice.

[13:44:00.0000] <ap>
Hixie: is there a spec that does/could specify what the following does? http://nypop.com/~ap/webkit/awstest.html

[13:44:01.0000] <ap>
WebKit matches IE, but not Firefox

[13:46:00.0000] <TabAtkins>
ap: What exactly is being tested here?  The use of try/catch in on* attributes?  Or naming a function the same as a @name in the document?  Something else?

[13:46:01.0000] <zcorpan_>
ap: the question is whether <elm id=foo> overrides function foo() {} ?

[13:46:02.0000] <ap>
TabAtkins: the latter (i.e. order of lookup on window object)

[13:46:03.0000] <ap>
zcorpan_: name or id, whatever

[13:48:00.0000] <ap>
zcorpan_: the relative precedence of id and name would be HTML5 domain, I think

[13:48:01.0000] <zcorpan_>
http://www.whatwg.org/specs/web-apps/current-work/multipage/browsers.html#named-access-on-the-window-object

[13:48:02.0000] <zcorpan_>
"supports named properties" is a webidl term iirc

[13:49:00.0000] <zcorpan_>
http://www.w3.org/TR/WebIDL/#dfn-support-named-properties

[13:49:01.0000] <ap>
zcorpan_: I'm not sure if that answers my question (I think not)

[13:50:00.0000] <ap>
zcorpan_: HTML5 talks about DOM, naturally, not about JS functions

[13:52:00.0000] <jgraham>
Would you not expect it to depend on the order in which they are defined

[13:52:01.0000] <zcorpan_>
ap: i would expect webidl to answer this question in its JS binding section, although i don't know if it does currently

[13:54:00.0000] <Workshiva>
You probably don

[13:54:01.0000] <Workshiva>
don't want to link the WebIDL from 2008

[14:02:00.0000] <zcorpan_>
oops

[14:03:00.0000] <zcorpan_>
google usually gives me the dev.w3.org version

[14:03:01.0000] <Workshiva>
It seems to have stopped

[14:03:02.0000] <Workshiva>
I remember accidentally reading the TR version a while ago

[14:06:00.0000] <zcorpan_>
horrifying experience?

[14:07:00.0000] <Workshiva>
I couldn't find the property I was looking for (because it hadn't been created in 2008)

[14:15:00.0000] <jgraham>
/TR/ is evil

[14:19:00.0000] <jgraham>
Also, why are the hybi people discussing compression? We don't even have a functional protocol yet

[14:20:00.0000] <jgraham>
and the four weeks timeline is long past

[14:20:01.0000] <TabAtkins>
Because they have no clue what they're doing?

[15:06:00.0000] <zcorpan_>
<http://www.w3.org/mid/9B2DE9094C827E44988F5ADAA6A2C5DACD486B⊙Hppc>

[15:07:00.0000] <zcorpan_>
W3C is pleased to announce the advancement of "Associating Style  

[15:07:01.0000] <zcorpan_>
Sheets with XML documents 1.0 (Second Edition)" to Proposed Edited  

[15:07:02.0000] <zcorpan_>
Recommendation:

[15:07:03.0000] <zcorpan_>
   http://www.w3.org/TR/2010/PER-xml-stylesheet-20100909/

[15:10:00.0000] <zcorpan_>
seems like he switched back to using the xhtml-generating version of the xslt sheet. oh well

[15:46:00.0000] <Hixie>
ap: WebIDL (and the IDL block and prose in the HTML5 spec) define it

[16:05:00.0000] <TabAtkins>
Is it appropriate for me to remove a TrackerRequest for a bug being escalated inappropriately?

[16:05:01.0000] <TabAtkins>
Or is that something only editor/chairs should do?

[16:07:00.0000] <Hixie>
not something for the editor to do

[16:07:01.0000] <Hixie>
that would be a conflict of interest

[16:08:00.0000] <TabAtkins>
K.  Then, othermaciej, can I kill TrackerRequest from 10465, or should I let you do so?  Faulkner is attempting to escalate a bug because of a different bug.

[16:09:00.0000] <TabAtkins>
(It's not even just trying to fit two bugs in one - there's actually another existing bug *from him* that actually covers the issue he's trying to escale 10465 over.)

[16:28:00.0000] <othermaciej>
TabAtkins: it does seem like it would be better for Steve to escalate bug 10478 if he intends to, though that bug in my opinion needs a PFWG response 

[16:29:00.0000] <TabAtkins>
Oh, I agree with that.  The issue at hand, though, is just the handling of 10465, which is completely wrong.


2010-09-10
[17:01:00.0000] <roc>
http://blog.mozilla.com/rob-sayre/2010/09/09/js-benchmarks-closing-in/ ... the fun paragraph is "]While I was running the SunSpider tests above, I noticed that IE9 got a score that was at least 10x faster than every other browser on SunSpider's math-cordic test..."

[17:03:00.0000] <annevk>
benchmark games!

[17:03:01.0000] <annevk>
having them for layout would be coolor

[17:09:00.0000] <Hixie>
roc: it's really hard to come up with good benchmarks on the web

[17:09:01.0000] <Hixie>
i wish we had better ones

[17:09:02.0000] <roc>
that is one problem, yes

[17:10:00.0000] <roc>
it's a problem everywhere, really

[17:10:01.0000] <Hixie>
part of the problem is that a realistic test would be something like taking gmail and automating it... but apps like gmail are incredibly hard to automate

[17:10:02.0000] <Hixie>
at least in a browser-agnostic fashion

[17:10:03.0000] <roc>
however, implementations pattern-matching whatever benchmarks you do come up with is another problem

[17:10:04.0000] <Hixie>
on the desktop it's a lot easier because you can just take real apps and drive them

[17:10:05.0000] <Hixie>
yeah, that IE result is rather suspicious

[17:10:06.0000] <roc>
(and that is also a problem everywhere)

[17:11:00.0000] <roc>
everywhere there's intense competition anyway

[17:11:01.0000] <Hixie>
yeah, video cards are notorious for this

[17:16:00.0000] <Hixie>
IPv6 is not serving maciej well, it seems

[17:19:00.0000] <Hixie>
say i am scrolled half way down a web page. Is there a way for a script to insert content near the top of the page without affecting my scroll position?

[17:19:01.0000] <Hixie>
record scrollTop then reset it afterwards?

[17:19:02.0000] <Hixie>
after having added the added height?

[17:22:00.0000] <Hixie>
aha, he's back on IPv4

[17:22:01.0000] <othermaciej>
roc: that faintly smells of optimizing out all the computation and/or constant folding the whole thing, which is something I'd like to prevent

[17:22:02.0000] <roc>
that's exactly what they're doing

[17:22:03.0000] <roc>
that's not really the problem though. It's not that hard to prove that the loop can be optimized away.

[17:23:00.0000] <Hixie>
they're not doing a particularly good job if a "true;" statement stops it

[17:23:01.0000] <roc>
the problem is that sayrer's diffs show that their optimization is extremely ... sensitive

[17:25:00.0000] <roc>
Hixie: recording and adjusting scrollTop would kinda work

[17:26:00.0000] <TabAtkins>
Hixie: Make the entire content area position:fixed, and fake scrolling so that doing so changes the position of the fixed container.

[17:26:01.0000] <roc>
it's an underspecified problem though, since pages can change in ways that make it unclear what it means for the user to be looking at the same content before and after

[17:26:02.0000] <TabAtkins>
(Horrifying hack, obviously.)

[17:26:03.0000] <othermaciej>
roc: what I'd like to do is for each test to have three separate JS files - one that provides inputs via global variables, another that takes the inputs and saves an output, and a third that checks output correctness

[17:26:04.0000] <TabAtkins>
Wait, that doesn't solve the problem.  Sorry.

[17:26:05.0000] <othermaciej>
I think that would prevent optimizing out a test entirely and would probably prevent unrealistic levels of constant folding

[17:26:06.0000] <Hixie>
roc: in this case, i'm just inserting content that's in flow, nothing special

[17:27:00.0000] <roc>
othermaciej: why not just compute something and then console.log it?

[17:27:01.0000] <TabAtkins>
How did I not know that @draggable was a thing?

[17:27:02.0000] <othermaciej>
roc: well, checking correctness of the computation has value in its own right...

[17:28:00.0000] <othermaciej>
not clear to me how console.log is better at preventing over-optimization than storing in a global

[17:28:01.0000] <roc>
yeah, but *hopefully* people aren't reporting benchmark results where the computation went wrong.

[17:28:02.0000] <othermaciej>
maybe in this case it's a matter of earlier loop iterations being ignored in the final output

[17:29:00.0000] <roc>
othermaciej: depends on the harness, but conceivably in some kinds of environments you could know the global is never read

[17:29:01.0000] <roc>
but sure, in a normal open-world JS environment globals are fine

[17:29:02.0000] <roc>
unless

[17:30:00.0000] <roc>
someone does an optimization that stores a lazy thunk in the global, so the benchmark only runs when/if someone reads the global :-)

[17:30:01.0000] <othermaciej>
magical levels of memoization, eh?

[17:31:00.0000] <roc>
if someone wrote a JS engine in Haskell they'd probably get that optimization for free and win big :-)

[17:31:01.0000] <othermaciej>
I guess the correctness check would have to be timed then

[17:32:00.0000] <othermaciej>
unlikely cause you'd need a whole lotta monads, since JS itself has side effects and generally non-lazy semantics

[17:33:00.0000] <roc>
yeah

[17:42:00.0000] <othermaciej>
but I could be wrong, I generally assume people who understand Haskell are smarter than me

[18:20:00.0000] <DoctorZayas>
anyone know about beekeeping

[18:21:00.0000] <jcranmer>
uh... my grandfather kept bees for a few weeks

[18:22:00.0000] <jcranmer>
that's about the extent of my knowledge

[18:23:00.0000] <Hixie>
that's really knowledge about your grandfather, not bees :-P

[18:23:01.0000] <DoctorZayas>
i want to get into it but not to sure where to start

[18:23:02.0000] <jcranmer>
well

[18:23:03.0000] <jcranmer>
this is not the channel for it

[18:23:04.0000] <jcranmer>
Hixie: I'm sorry, I left my sense of logic at the door

[18:23:05.0000] <DoctorZayas>
well u know of one

[18:23:06.0000] <Hixie>
there really isn't a topic for this channel

[18:23:07.0000] <Hixie>
if people want to talk about bee keeping, that's fine by me :-)

[18:24:00.0000] <jcranmer>
I highly doubt anyone in this channel has that kind of knowledge

[18:24:01.0000] <jcranmer>
so let me talk about the wonderful vagaries of, oh

[18:24:02.0000] <Dashiva>
I'm filing a formal objection if the spec doesn't properly explain that injoke

[18:24:03.0000] <TabAtkins>
Sure, but he's unlikely to find anyone with the right kind of information here.  ^_^

[18:24:04.0000] <jcranmer>
the bee dancing

[18:24:05.0000] <DoctorZayas>
so what is this chat about?

[18:24:06.0000] <TabAtkins>
DoctorZayas: www.whatwg.org

[18:25:00.0000] <DoctorZayas>
thanks

[18:25:01.0000] <Hixie>
the hits for "bee keeping irc" on google for me amusingly list our irc logs from 2008 as the tenth hit

[18:25:02.0000] <DoctorZayas>
thats y im here

[18:25:03.0000] <jcranmer>
so I'm sure I have a book somewhere that refers in great deal to something to which the intricate patterns that bees make dancing out information somehow relates

[18:25:04.0000] <TabAtkins>
Hixie: Haha, awesome.  We have too much googlejuice.

[18:25:05.0000] <Dashiva>
Let me answer that question with interpretive bee dance

[18:26:00.0000] <jcranmer>
really random

[18:26:01.0000] <Hixie>
anyway, the only knowledge i have about bee keeping is that the canonical example of <title> in HTML4 was about Bee Keeping, and HTML5's example is the sequel :-)

[18:26:02.0000] <jcranmer>
...

[18:26:03.0000] <jcranmer>
this isn't going to help those search results

[18:26:04.0000] <jcranmer>
so, in the interest of balancing out search results, let me commence:

[18:26:05.0000] <jcranmer>
GET SOLUTION MANUALS HERE!

[18:26:06.0000] <DoctorZayas>
well i don't know much about HTML either

[18:27:00.0000] <DoctorZayas>
but i know a little

[18:27:01.0000] <Dashiva>
Hixie: Where is that exmaple?

[18:27:02.0000] <jcranmer>
ADULT SEX GALLERY

[18:27:03.0000] <jcranmer>
Fill Form And Get $10,000 From PayPal.

[18:27:04.0000] <jcranmer>
fundamental accounting principles    19e    by    wild   test bank

[18:27:05.0000] <jcranmer>
okay, I suppose that's enough

[18:27:06.0000] <TabAtkins>
Dashiva: <title> element.

[18:27:07.0000] <Hixie>
Dashiva: <title> element section (in both specs)

[18:27:08.0000] <Dashiva>
Looking at 4.01, I see <TITLE>My first HTML document</TITLE> and <TITLE>A study of population dynamics</TITLE>

[18:28:00.0000] <DoctorZayas>
i made a simple web page with a text document once

[18:28:01.0000] <jcranmer>
</>

[18:28:02.0000] <Hixie>
hm maybe it was not the <title> example

[18:29:00.0000] <Hixie>
ah it's in the prose

[18:29:01.0000] <Hixie>
a little earlier

[18:29:02.0000] <Hixie>
search for "Bee-Keeping" in 7.4.2

[18:29:03.0000] <Dashiva>
Aha

[18:29:04.0000] <Hixie>
html5 is full of stupid in-jokes like that

[18:30:00.0000] <Dashiva>
Needs a separate "pop culture references" section, clearly

[18:30:01.0000] <Dashiva>
For some definition of pop culture that includes HTML4

[18:30:02.0000] <DoctorZayas>
sweet well thanks anyway everyone was a real help 

[18:30:03.0000] <Hixie>
one day i'll do a n editor's commentary or something

[18:31:00.0000] <Dashiva>
HTML5: Editor's cut

[19:28:00.0000] <karlcow>
http://www.w3.org/2008/04/mokstats/public/global/20080401-20100110/

[19:28:01.0000] <karlcow>
78% of URIs not valid wrt "The document does not validate against XHTML Basic 1.1 or MP 1.2."

[19:29:00.0000] <karlcow>
39% of URIs without caching "The document is served without caching information ("Expires" or "Cache-Control" header)"

[19:31:00.0000] <Hixie>
nessy: do you have an opinion on what i should do with http://www.w3.org/Bugs/Public/show_bug.cgi?id=9452 at this point?

[19:32:00.0000] <nessy>
let me check

[19:33:00.0000] <nessy>
can we have a JavaScript API to activate/deactivate multitrack resources?

[19:33:01.0000] <nessy>
I mean, the individual tracks?

[19:34:00.0000] <Hixie>
like multiple audio tracks?

[19:34:01.0000] <Hixie>
hmm

[19:35:00.0000] <nessy>
yeah, or different camera angles or sign language video tracks

[19:36:00.0000] <Hixie>
seems like a "v2" feature to me, but i guess it depends on what the browser vendors want

[19:40:00.0000] <nessy>
yeah, I think browser vendors want it "v2", too, but it doesn't hurt to start thinking about possible solutions

[19:41:00.0000] <nessy>
it needs a JS API and some UI controls for the track activation

[23:03:00.0000] <othermaciej>
San Bruno (city just south of SF) is on fire

[23:03:01.0000] <othermaciej>
yikes

[23:07:00.0000] <MikeSmith>
what happened?

[23:07:01.0000] <dpranke>
supposedly a gas line exploded

[23:08:00.0000] <roc>
not far from the airport

[23:08:01.0000] <roc>
my boss just got on a plane back to SF!

[23:09:00.0000] <dpranke>
http://www.mercurynews.com/bay-area-news/ci_16036178

[23:31:00.0000] <ashaw>
I was wondering if anyone here now knows what the status of color calibration in CSS stands?

[23:52:00.0000] <ashaw>
I was wondering if anyone here now knows what the status of color calibration in CSS stands?

[00:03:00.0000] <Hixie>
"According to reports, that service uses AJAX (Asynchronous JavaScript and XML) instead of HTML5 -- which so many tech leaders are hailing as the future of the Web."

[00:04:00.0000] <Hixie>
um

[00:04:01.0000] <Hixie>
say what?

[00:04:02.0000] <othermaciej>
buzzword bingo gone rogue!

[00:04:03.0000] <Hixie>
http://blog.seattlepi.com/microsoft/archives/220855.asp

[00:04:04.0000] <othermaciej>
I heard a rumor though that they are going to abandon the AJAX implementation and switch to Web 2.0

[00:05:00.0000] <MikeSmith>
heh

[00:06:00.0000] <ashaw>
general reporters really do not understand the net

[00:06:01.0000] <wirepair>
s/the net/anything

[00:07:00.0000] <ashaw>
well yeah,

[00:07:01.0000] <MikeSmith>
ashaw: that's why they should always ask other people and mostly just quote what they say

[00:07:02.0000] <MikeSmith>
otherwise they're not really reporters

[00:08:00.0000] <MikeSmith>
they're more like just… bloggers

[00:08:01.0000] <ashaw>
exactly

[00:08:02.0000] <ashaw>
or be arstechnica

[00:08:03.0000] <ashaw>
or someone else in the tech media

[00:08:04.0000] <MikeSmith>
the problems they have is when they make the mistake of stating things in their own words

[00:08:05.0000] <Hixie>
sweet jesus the video on that blog post is even worse

[00:09:00.0000] <wirepair>
technically it does say 'blog.' in the url :)

[00:09:01.0000] <ashaw>
microsoft in the URL?

[00:09:02.0000] <Hixie>
i got 2 minutes into it and the guy from microsoft has so far referred to at least 2 things explicitly as being html5 despite neither being html5, and has referred to a bunch of other features none of which are html5 either

[00:10:00.0000] <ashaw>
just accept that html5 is the new Buzz word.

[00:10:01.0000] <Hixie>
i don't mind that, it's just using "html5" as a buzzword for XMLHttpRequest doesn't even make sense

[00:11:00.0000] <ashaw>
and that the standard will be what it is, and we can all laugh at people who do not understand it

[00:11:01.0000] <ashaw>
well yeah, so. That realy is AJAX.

[00:16:00.0000] <variable>
Hixie, life is much easier if you have fewer expectations 

[00:16:01.0000] <variable>
about what people understand ;-)

[00:16:02.0000] <othermaciej>
sorry for Apple's wifi being so bouncy earlier btw, not sure what was up

[00:17:00.0000] <othermaciej>
I may have stepped too close to a significant source of electromagnetic radiation

[00:40:00.0000] <jgraham>
othermaciej: Did you develop any interesting superpowers?

[00:41:00.0000] <othermaciej>
the ability for my WiFi connection to drop and reconnect dozens of time

[00:41:01.0000] <othermaciej>
s

[00:41:02.0000] <jgraham>
So that would be a "no" then

[00:53:00.0000] <hsivonen>
Is set-cookie still the only http-equiv value not listed in HTML5 that needs to be supported for compat with existing content?

[00:54:00.0000] <hsivonen>
(I think compat with hixie.ch or annevankesteren.nl doesn't really count here. sorry.)

[00:55:00.0000] <Hixie>
tests are never a valid concern when considering compat

[00:56:00.0000] <hsivonen>
fwiw, I highly doubt defaul-style is needed for backwards or future compat

[00:59:00.0000] <Hixie>
yeah that's just a convenience feature

[00:59:01.0000] <Hixie>
probably not a critical one either since you can just do it by changing the rel values

[00:59:02.0000] <hsivonen>
too bad a google or dotbot analysis of content probably wouldn't reveal interesting things about dynamic sites

[00:59:03.0000] <Peter`>
MikeSmith: congrats! :P your code just landed in v8

[01:01:00.0000] <phrearch>
hey

[01:01:01.0000] <phrearch>
morning :)

[01:01:02.0000] <phrearch>
i was wondering whether there are some docs on how to implement rdf into a wiki

[01:01:03.0000] <phrearch>
some general recommendations or anything like that

[01:03:00.0000] <hsivonen>
phrearch: the general recommendation is not to implement rdf

[01:06:00.0000] <jgraham>
http://hacks.mozilla.org/2010/09/final-user-agent-string-for-firefox-4/ seems likely to have scary compat. consequences. Has it actually been tested?

[01:07:00.0000] <hsivonen>
jgraham: what are the scary bits? after all the discussion, 4 changes were made:

[01:07:01.0000] <hsivonen>
1) redundant Windows; removed

[01:07:02.0000] <hsivonen>
should be OK, since the substing Windows is still in another token

[01:08:00.0000] <hsivonen>
2) U; removed

[01:08:01.0000] <hsivonen>
*very* legacy

[01:08:02.0000] <hsivonen>
3) UI language removed

[01:08:03.0000] <hsivonen>
IE doesn't have it

[01:08:04.0000] <hsivonen>
4) Gecko date frozen

[01:08:05.0000] <hsivonen>
sniffers can't tell it's frozen

[01:09:00.0000] <roc>
jgraham: we'll be testing it for a month or two before final :-)

[01:09:01.0000] <hsivonen>
jgraham: also, removing the UI language improves how the fromser gets sniffed, because the Irish Gaelic version no longer has "IE" in the UA string

[01:10:00.0000] <hsivonen>
s/fromser/browser/

[01:10:01.0000] <jgraham>
hsivonen: *All* changes to the UA string are scary :) After all Opera 9-Opera 10 caused breakage

[01:10:02.0000] <jgraham>
Particularly 1 and 2 seem to have the same problem

[01:10:03.0000] <jgraham>
potentially

[01:11:00.0000] <jgraham>
(and it is suggested that the date will be removed in the future, which would also have the same problem)

[01:12:00.0000] <jgraham>
Of course I hope it is all fine, but one should never underestimate the craziness of the web

[01:12:01.0000] <hsivonen>
I'm rather dissatisfied with the changes. particularly that we didn't (at least yet) make nighlies indistinguishable from release builds

[01:13:00.0000] <jgraham>
Why for sniffing or?

[01:13:01.0000] <hsivonen>
for sniffing primarily (secondarily for privacy)

[01:14:00.0000] <jgraham>
as someone else pointed out, having a way to get a build number into a bug report without user effort is A Good Thing

[01:14:01.0000] <phrearch>
HSIVONEN: NOT?

[01:14:02.0000] <hsivonen>
I'll have to continue to override the UA string of the build I use to make them look like release builds

[01:14:03.0000] <phrearch>
oops sorry

[01:14:04.0000] <hsivonen>
phrearch: right

[01:14:05.0000] <phrearch>
ok, it's bloated then?

[01:15:00.0000] <phrearch>
i want to have some kind of ontology though

[01:15:01.0000] <hsivonen>
jgraham: that's a use case for *one* site

[01:15:02.0000] <hsivonen>
jgraham: while n sites can do something bad with the build ID

[01:16:00.0000] <hsivonen>
phrearch: why do you want an ontology?

[01:16:01.0000] <jgraham>
hsivonen: It's a use case for improving browser quality by making bugs easier to track down. But maybe not an important one

[01:16:02.0000] <phrearch>
hsivonen: i want an efficient crawler and user-side querying

[01:16:03.0000] <hsivonen>
jgraham: could be a JS API (potentially one limited to the bug tracker use)

[01:16:04.0000] <phrearch>
like sparql does, but then with json instead of xml for the rdf

[01:17:00.0000] <phrearch>
or something like it

[01:17:01.0000] <jgraham>
sure, although I don't know how you would limit it

[01:17:02.0000] <hsivonen>
phrearch: well, I suggest finding out what the crawlers and user agents support

[01:18:00.0000] <hsivonen>
jgraham: there's absolutely no point in letting Yahoo! break on the first on January each year

[01:18:01.0000] <phrearch>
i guess i would need to stick to rdf in that case

[01:18:02.0000] <hsivonen>
phrearch: which crawlers and user agents support RDF?

[01:19:00.0000] <phrearch>
i think they have another name for that: scutter

[01:19:01.0000] <phrearch>
http://lists.foaf-project.org/pipermail/foaf-dev/2003-April/005227.html

[01:19:02.0000] <phrearch>
its a bit outdated though

[01:20:00.0000] <phrearch>
i know that nepomuk knows rdf

[01:21:00.0000] <phrearch>
all stuff related to rdf seems to be at least 5 years old though :(

[01:22:00.0000] <hsivonen>
phrearch: http://inamidst.com/whits/2008/ditching might explain why

[01:23:00.0000] <phrearch>
thanks, ill read it. i'm seriously considering just writing some simple json format for this myself

[01:24:00.0000] <phrearch>
bit ambitious, but this wiki should have a visual tool using canvas, that shows the hierarchy of pages, including external pages not on the current site

[01:24:01.0000] <phrearch>
so if you open an external page, it should just load the data from site b

[01:29:00.0000] <phrearch>
hm good article

[01:30:00.0000] <phrearch>
i think there are use-cases for a web-of-data, but maybe rdf isnt the way to do it

[01:30:01.0000] <phrearch>
what i would like to see is a clean way to link data between multiple wikis

[01:31:00.0000] <phrearch>
and visualise it 

[01:32:00.0000] <mhausenblas>
phrearch see http://www.slideshare.net/badmotorfinger/wiki-sym2010

[01:32:01.0000] <kennyluck>
phrearch: I suggest you go to #swig if you are to ask questions related to RDF. If your use case is "user-side query", you might want to look into IndexedDB.

[01:33:00.0000] <phrearch>
ok thanks!

[01:33:01.0000] <kennyluck>
phreaarch: See also SIMILE Exhibit -> http://www.simile-widgets.org/exhibit/

[01:33:02.0000] <phrearch>
interesting stuff

[01:35:00.0000] <phrearch>
hm http://sioc-project.org/

[01:35:01.0000] <mhausenblas>
phrearch, as kennyluck said, maybe continue on #swig - happy to put you in touch with the SIOC guys (my colleagues ...)

[01:36:00.0000] <phrearch>
mhausenblas: ok i will. yea that would be interesting. i could use some ideas to implement this wiki

[01:37:00.0000] <phrearch>
this is the project im working on: http://hwios.org/

[01:38:00.0000] <mhausenblas>
interesting

[01:40:00.0000] <phrearch>
its still very unstable, but the grid architecture in opensim inspired me to do something likewise for the webpart

[02:56:00.0000] <myakura>
Hmm http://whatwg.org/c#rules-for-parsing-a-legacy-color-value doesn't say anything about currentcolor. is that intentional or a bug?

[02:56:01.0000] <Hixie>
legacy color values don't support 'currentcolor'

[02:59:00.0000] <ashaw>
What would it take to allow a colour value to be described in the LAB space?

[03:00:00.0000] <ashaw>
would that be feasable?

[03:01:00.0000] <annevk>
it's not possible now

[03:01:01.0000] <ashaw>
I know that.

[03:01:02.0000] <ashaw>
That is why I am proposing it.

[03:01:03.0000] <myakura>
Looks like Chrome 7 and IE9PP4 applies currentcolor in bgcolor and etc. http://software.hixie.ch/utilities/js/live-dom-viewer/saved/624

[03:02:00.0000] <Hixie>
ashaw: syntax for non-legacy colour values is defined by the CSSWG

[03:02:01.0000] <annevk>
ashaw, www-style⊙wo

[03:02:02.0000] <myakura>
and Fx4b5 doesn't (applies #c0e000)

[03:03:00.0000] <erlehmann>
myakura, will chrome reach version number 9 before IE reaches it? STAY TUNED.

[03:04:00.0000] <annevk>
heh

[03:05:00.0000] <annevk>
they're gonna beat us to 15 at this pace

[03:05:01.0000] <virtuelv>
annevk: based on the rate they have of release, I think the number is 13

[03:06:00.0000] <annevk>
virtuelv, jaja, but 15 is an interesting number :)

[03:06:01.0000] <erlehmann>
Will Chrome also cap their Browser string at 9.80?

[03:06:02.0000] <erlehmann>
WE WILL SEE. IN THE FUTURE.

[03:08:00.0000] <MikeSmith>
Peter`: thanks but it was a super-minor patch

[03:08:01.0000] <Peter`>
Chrome has a release cycle of six weeks, that is likely to mean that a new major gets introduced every six weeks

[03:09:00.0000] <Peter`>
MikeSmith: I realize, still it's nice to supply patches for random projects

[03:09:01.0000] <MikeSmith>
yeah

[03:10:00.0000] <Peter`>
Chrome 6 was released on the 2nd of September, so version 7 will be arriving mid October, v8 late November and version 9 early next year, which is before the IE9 stable will be released

[03:11:00.0000] <Rik`>
when is IE9 supposed to be launched?

[03:11:01.0000] <Peter`>
The first beta will be released next Wednesday

[03:11:02.0000] <erlehmann>
Peter`, someone should make whenwillchromegoover9000.com

[03:11:03.0000] <Peter`>
no idea about the timeframe after that

[03:12:00.0000] <erlehmann>
If IE gets fast canvas, who will port a Javascript Theora decoder to it?

[03:12:01.0000] <MikeSmith>
Peter` I guess though the change was minor, the effect of the bug wasn't so minor.. without that fix, it couldn't properly parse ISO8601-formatted dates .. anyway, while testing I found at least one more problem that I think it a bug, so I guess I should report that in case it is indeed a bug -- and maybe actually try to see if I can figure out what the fix might be

[03:12:02.0000] <Peter`>
erlehmann, November 28 in 3044? :)

[03:12:03.0000] <Rik`>
Peter`: I guess a beta in September means a final before the end of the year

[03:12:04.0000] <erlehmann>
(I Bet that would also upset The Steve.)

[03:13:00.0000] <Peter`>
Rik`, that'd be very nice, following their eight-week developer preview schedule it could be possible if there would only be two betas

[03:14:00.0000] <Peter`>
so I don't have very high hopes

[03:14:01.0000] <Rik`>
I don't think IE releases more than one beta

[03:14:02.0000] <Peter`>
MikeSmith: another bug with date parsing, or something else?

[03:15:00.0000] <MikeSmith>
Peter`: date parsing

[03:15:01.0000] <MikeSmith>
anyway, I'll look at it again today and see

[03:15:02.0000] <Peter`>
Rik`, maybe. Have to say Microsoft Connect isn't that active, which could be a good thing

[03:16:00.0000] <annevk>
MikeSmith, trying to define ECMAScript Date?

[03:18:00.0000] <MikeSmith>
Peter`, I was kinda surprised to see how few outside V8 contributors there have been.. the authors file only lists less than 25 people (that doesn't count the people at Google who wrote it and maintain)

[03:18:01.0000] <MikeSmith>
the ecmascript 5 Date.parse thing

[03:18:02.0000] <Peter`>
indeed, I was surprised by that as well 

[03:18:03.0000] <jgraham>
MikeSmith: That doesn't seem that surprising

[03:19:00.0000] <jgraham>
It's not like javascript engines are easy hobby projects

[03:20:00.0000] <Peter`>
jgraham: no, but there's a lot of skilled programmers out there, and since it's open source people can contribute anything they want. V8 as an open-source project is fairly closed however, most discussions don't take place on any public list

[03:22:00.0000] <MikeSmith>
annevk: section 15.9.1.15 in the ecmascript spec

[03:24:00.0000] <jgraham>
Peter`: I guess there is a steep learning curve and lots of performance critical code -> hard to get involved even if the project encouraged it (which is a prerequisite)

[03:24:01.0000] <MikeSmith>
btw, it continues to surprise me that there's no HTML version of that spec, and not even a complete JS reference available online

[03:24:02.0000] <jgraham>
MikeSmith: Tell me about it. Fancy doing the conversion from Word to HTML?

[03:25:00.0000] <MikeSmith>
I think the Word export to HTML has gotten better

[03:26:00.0000] <MikeSmith>
or actually I don't know that, I just hope it

[03:26:01.0000] <MikeSmith>
because it really could not have gotten too much worse

[03:26:02.0000] <MikeSmith>
or maybe it has

[03:26:03.0000] <MikeSmith>
/me knocks on wood

[03:27:00.0000] <annevk>
MikeSmith, that spec is woefully vague though, see http://wiki.whatwg.org/wiki/Web_ECMAScript

[03:27:01.0000] <annevk>
for submission of <input type=email multiple>, should the specification say something about the serialization of the list?

[03:27:02.0000] <MikeSmith>
yeah, it's an odd spec compared to most modern Web technology specs

[03:27:03.0000] <annevk>
e.g. not having any spaces around the comma

[03:27:04.0000] <zcorpan_>
not so much too vague as not addressing web compat issues enough

[03:29:00.0000] <MikeSmith>
I often seem to come across things in that spec that I don't understand the rationale for at all

[03:29:01.0000] <annevk>
same for DOM Core

[03:30:00.0000] <MikeSmith>
example, it allows you to do Date(someDateString) -- without the new, not as constructor

[03:30:01.0000] <MikeSmith>
and the spec says it must return the current date, not emit an error

[03:30:02.0000] <MikeSmith>
that is, it just silently ignores the argument

[03:30:03.0000] <erlehmann>
MikeSmith, it surprises me that standards organisations still use word 2002 format as of today.

[03:31:00.0000] <MikeSmith>
true

[03:37:00.0000] <zcorpan_>
MikeSmith: the rationale for that is in /topic

[03:37:01.0000] <MikeSmith>
heh

[03:37:02.0000] <MikeSmith>
they should put that on the cover of that spec

[03:39:00.0000] <erlehmann>
MikeSmith, Cake and grief counseling will be available upon completion of the implementation.

[03:39:01.0000] <MikeSmith>
:)

[03:40:00.0000] <erlehmann>
The WHATWG wishes to remind you that today is bring your browser to work day!

[04:07:00.0000] <mokush_>
bring your browser to work day?

[04:08:00.0000] <Jedi_>
it's already 18:13 here :-/

[04:12:00.0000] <Workmon>
erlehmann: You mean you don't bring your browser to wrok every day?

[04:13:00.0000] <Workmon>
*work

[04:19:00.0000] <erlehmann>
Workmon, part of my next job is to make a site work in IE6, because some people cannot use browsers of their own choosing. Incidentally, I was told that at the EU parliament, they still uses old versions of IE.

[04:19:01.0000] <erlehmann>
/me throws a pokéball at Workmon.

[04:19:02.0000] <erlehmann>
GOTTA CATCH THEM ALL

[04:20:00.0000] <annevk>
great, now we'll get pokemon questions

[04:21:00.0000] <jgraham>
Not if I mention that this is the top internet resource for Bee Keeping

[04:21:01.0000] <erlehmann>
Hey! Hacking pokemon ROMs with hex editors (changing attributes, maps and jump addresses) was one of the first things I did with computers.

[04:21:02.0000] <erlehmann>
Guess my age ;)

[04:21:03.0000] <jgraham>
We can answer all your Bee Kiiping related questions

[04:22:00.0000] <jgraham>
*Bee Keeping

[04:22:01.0000] <jgraham>
Not sure how it is even possible to typo e as i

[04:22:02.0000] <erlehmann>
Well, there is a german blogger called "Malte Welding".

[04:22:03.0000] <erlehmann>
Of course he gets queries regarding Malta and metal works.

[04:22:04.0000] <jgraham>
So, as I was saying. Bees

[04:23:00.0000] <jgraham>
delicious honey

[04:23:01.0000] <erlehmann>
Baby, you are making me so hooooneeey! 

[04:27:00.0000] <Philip`>
I love bees

[04:35:00.0000] <annevk>
so besides Drag & Drop and Microdata, what is using DOMStringList?

[04:35:01.0000] <annevk>
maybe we should nuke it in favor of DOMString[] or some such?

[04:36:00.0000] <annevk>
ah, Document.styleSheetSets

[04:36:01.0000] <annevk>
all defined by Hixie...

[04:37:00.0000] <erlehmann>
Oh, btw. I asked this last year already, but is anyone of the WHATWG folks coming to Chaos Communication Congress?

[04:53:00.0000] <hsivonen>
jgraham: should I expect that http://www.w3.org/Bugs/Public/show_bug.cgi?id=10456 and http://www.w3.org/Bugs/Public/show_bug.cgi?id=10578 get FIXED and pre-emptively fix the test cases?

[04:53:01.0000] <hsivonen>
abarth got r+ on the removal of 'comment end space' in WebKit

[04:54:00.0000] <karlcow>
http://code.google.com/p/wkhtmltopdf/

[04:54:01.0000] <annevk>
hsivonen, are we sure this does not break more content?

[04:55:00.0000] <hsivonen>
annevk: I haven't seen any reports of anything breaking because of this

[04:55:01.0000] <annevk>
I know CNN breaks now, but we're not sure what works now and will break, right?

[04:55:02.0000] <hsivonen>
annevk: we has shipped betas without 'comment end space' and no complaints have reached my plate

[04:56:00.0000] <Workmon>
erlehmann: We just deprecated IE6 here

[04:56:01.0000] <Workmon>
Not that it helped, since the same release blindsided us with some IE7 issues

[04:56:02.0000] <annevk>
hsivonen, ah sorry

[04:56:03.0000] <annevk>
hsivonen, lets fix the test then

[04:56:04.0000] <zcorpan_>
annevk: also see https://bugzilla.mozilla.org/show_bug.cgi?id=570309#c19

[04:57:00.0000] <hsivonen>
annevk: OK to pre-emptively fix the ]]EOF stuff, too?

[04:57:01.0000] <erlehmann>
Workmon, "here"?

[04:58:00.0000] <Workmon>
My project

[04:58:01.0000] <hsivonen>
Workmon: what's your project?

[04:58:02.0000] <annevk>
hsivonen, makes sense to me

[04:58:03.0000] <hsivonen>
karlcow: interesting. I wonder how it compares to Prince.

[04:58:04.0000] <hsivonen>
annevk: OK. Fixes coming up.

[04:58:05.0000] <annevk>
hsivonen, well actually, I guess CDATA is somewhat different from start tag tokens and such

[04:59:00.0000] <annevk>
hsivonen, i.e. rendering CDATA content partially might still be useful if a large batch of content is in CDATA and you get a premature EOF

[04:59:01.0000] <annevk>
but I don't feel strongly

[05:00:00.0000] <hsivonen>
annevk: partially, sure, but do you really care about rendering trailing ]]?

[05:00:01.0000] <hsivonen>
I'm not suggesting that the text in the CDATA section be suppressed

[05:01:00.0000] <annevk>
oh wait, I see what you mean now

[05:01:01.0000] <zcorpan_>
seems opera currently doesn't render the trailing ]]

[05:01:02.0000] <annevk>
you mean if the CDATA closing thing is not complete you drop the closing bit

[05:01:03.0000] <annevk>
that seems fine

[05:01:04.0000] <hsivonen>
annevk: yes, OK.

[05:02:00.0000] <hsivonen>
I think I'll start a new .dat file for tests that are text editor and text/plain-unfriendly

[05:02:01.0000] <annevk>
i'm sort of reaching the point in Web DOM Core where it would be very useful to know if we are going to experiment with Attr

[05:02:02.0000] <hsivonen>
and move the carriage return test there

[05:02:03.0000] <annevk>
other than that it is mostly complete I think

[05:03:00.0000] <hsivonen>
(personally, I'd prefer we focus energy on something other than eradicating Attr)

[05:04:00.0000] <annevk>
you are probably right

[05:05:00.0000] <annevk>
I don't really want to remove it, but maybe no longer making it a node would be nice

[05:08:00.0000] <hsivonen>
I don't have an opinion on whether removing Nodeness is worthwhile, but inheriting from Node seems like a design error to me

[05:08:01.0000] <zcorpan_>
Attrs also have a child text node

[05:08:02.0000] <hsivonen>
zcorpan_: whoa! I wasn't aware. that's crazy

[05:08:03.0000] <zcorpan_>
which iirc we had to implement for web compat

[05:09:00.0000] <hsivonen>
that's really sad

[05:09:01.0000] <annevk>
they have children because of entities

[05:09:02.0000] <annevk>
entities introduced a _lot_ of complexity to the DOM

[05:09:03.0000] <annevk>
however they never got implemented

[05:09:04.0000] <annevk>
but the complexity is still there

[05:11:00.0000] <hsivonen>
even SAX doesn't try to expose entity boundaries in attribute values

[05:11:01.0000] <hsivonen>
and SAX tries to expose everything if you ask for it

[05:13:00.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/625

[05:14:00.0000] <zcorpan_>
hmm, doesn't work in firefox

[05:15:00.0000] <annevk>
huh

[05:16:00.0000] <hsivonen>
maybe there's still hope!

[05:18:00.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/626 works in firefox though

[05:18:01.0000] <hsivonen>
boo. Hixie made all REPLACEMENT CHARACTERs not set frameset-ok to not ok

[05:21:00.0000] <jgraham>
hsivonen: I thought there was a reason for that

[05:21:01.0000] <annevk>
zcorpan_, o_O

[05:21:02.0000] <hsivonen>
jgraham: I'm reopening the bug with counter-reasons

[05:21:03.0000] <MikeSmith>
/me reads http://www.hcs.harvard.edu/~jrus/site/cocoa-text.html and discovers there is actually a kill ring in Cocoa/OSX -- with default of last 4 text selections -- and you can add to it, and you can associate a key binding with it cycling through yanking from it

[05:22:00.0000] <jgraham>
hsivonen: did you see http://www.w3.org/Bugs/Public/show_bug.cgi?id=10418 ?

[05:24:00.0000] <hsivonen>
jgraham: I didn't

[05:25:00.0000] <hsivonen>
MikeSmith: cocoa text widgets support some emacs keybindings

[05:28:00.0000] <MikeSmith>
hsivonen: yeah, I noticed that

[05:29:00.0000] <MikeSmith>
but they don't seem to have ^W by default

[05:29:01.0000] <MikeSmith>
which is the particular one I'm wanting

[05:36:00.0000] <annevk>
so Firefox creates different kind of Attr objects depending on which method you use to create the attribute

[05:37:00.0000] <annevk>
bah

[05:37:01.0000] <hsivonen>
ah. tests19.dat is by jgraham

[05:37:02.0000] <hsivonen>
for a moment there I worried that WebKit had implemented Hixie's "simplification"

[05:46:00.0000] <hsivonen>
jgraham: I'm starting to think the 'in foreign' mode is folly and we should be instead be looking at the namespace of the current element

[05:47:00.0000] <hsivonen>
when do we want the tree builder to be in "in foreign" when the element on the stack is in the HTML namespace?

[05:54:00.0000] <hsivonen>
how does TC39 keep the spec in version control if it's a Word file?

[05:55:00.0000] <annevk>
word has version control

[05:56:00.0000] <hsivonen>
Sharepoint?

[05:58:00.0000] <MikeSmith>
Hixie: kindly don't remove TrackerIssue or TrackerRequest keywords from bugs 

[05:58:01.0000] <MikeSmith>
please

[05:58:02.0000] <MikeSmith>
because if you do, then I will have to ban you from bugzilla and it will be sorta hard to get any bugs resolved if the editor can't respond to them…

[06:04:00.0000] <hsivonen>
maybe people should have to file bugs that end up FIXED to earn bug karma that permits the use of the escalation path

[06:04:01.0000] <Workmon>
/me files a preemptive issue on hsivonen's idea

[06:07:00.0000] <hsivonen>
jgraham: OK to pre-emptively adjust tests to assume that Hixie fixes http://www.w3.org/Bugs/Public/show_bug.cgi?id=9659 the Gecko/WebKit way?

[06:08:00.0000] <MikeSmith>
Workmon: :)

[06:09:00.0000] <hsivonen>
/me nebulously waves the threat of TrackerRequest in the general direction of bug 9659

[06:19:00.0000] <hsivonen>
whoa! the &#x000D; test wasn't bogus

[06:19:01.0000] <hsivonen>
my ways of observing it were

[06:19:02.0000] <jgraham>
hsivonen: Hmm. If you are going to adjust tests preemptively can you move the tests into a new file, check in the old version then make the changes?

[06:20:00.0000] <jgraham>
So that there is a commit that is right per the current spec and a commit that is right per the hypothetical future spec?

[06:20:01.0000] <annevk>
can we have this as example for <video>: http://www.youtube.com/watch?v=OQSNhk5ICTI

[06:20:02.0000] <jgraham>
(one file per bug)

[06:20:03.0000] <hsivonen>
jgraham: I already made the pre-emptive changes annevk OK'ed in-place

[06:20:04.0000] <jgraham>
hsivonen: Oh

[06:21:00.0000] <hsivonen>
jgraham: but I can do the REPLACEMENT CHARACTER thing by moving into a new file first

[06:21:01.0000] <jgraham>
hsivonen: Would it be an unreasonable amount of effort to rectroactively do that for the other change?

[06:21:02.0000] <jgraham>
It's not a big problem if it is

[06:22:00.0000] <hsivonen>
not a huge effort but why bother in the non-controversial cases?

[06:22:01.0000] <jgraham>
They're not really non-controversial until Hixie agrees to change the spec :)

[06:23:00.0000] <jgraham>
Plus if he changes in a third way, it keeps all the things that need to be updated together

[06:25:00.0000] <hsivonen>
if Hixie changes ]]> and comment end space in a third way, we have bigger problems than test cases

[06:25:01.0000] <jgraham>
Well that is probably true

[06:26:00.0000] <jgraham>
Still I would really prefer all the tests that touch pending spec chages to be isolated into their own files

[06:26:01.0000] <hsivonen>
jgraham: ok.

[06:35:00.0000] <MikeSmith>
kennyluck: how do you translate the word 无为?

[06:36:00.0000] <kennyluck>
MikeSmith: Literally it means "doing nothing" :)

[06:36:01.0000] <kennyluck>
... or the philosophy or "doing nothing makes things better".

[06:36:02.0000] <MikeSmith>
is it a normal word in modern usage?

[06:36:03.0000] <MikeSmith>
yeah

[06:36:04.0000] <MikeSmith>
it's a taoist word

[06:37:00.0000] <kennyluck>
MikeSmith: huh... this is an English question, not my expertise :)

[06:37:01.0000] <hsivonen>
jgraham: they are now isolated but the history isn't fancy

[06:37:02.0000] <MikeSmith>
"wu wei", right?

[06:37:03.0000] <kennyluck>
Yeah

[06:37:04.0000] <MikeSmith>
I mean in Chinese is it a normal word in modern usage?

[06:37:05.0000] <MikeSmith>
or is it quaint/old-fashioned sounding?

[06:37:06.0000] <kennyluck>
MikeSmith: no..

[06:38:00.0000] <MikeSmith>
not normally used in conversation?

[06:38:01.0000] <kennyluck>
MikeSmith: not at all

[06:38:02.0000] <MikeSmith>
I see

[06:38:03.0000] <MikeSmith>
just in the tao sense?

[06:39:00.0000] <kennyluck>
MikeSmith: Yes, but I would use this word even if I haven't studied taoist.

[06:39:01.0000] <kennyluck>
just because it's famous

[06:40:00.0000] <MikeSmith>
I see

[06:40:01.0000] <kennyluck>
So it's a famous old-fashioned word, I would say

[06:40:02.0000] <MikeSmith>
it's interesting to hear it's famous

[06:40:03.0000] <MikeSmith>
I don't think it's famous to most non-Chinese speakers

[06:41:00.0000] <jcranmer>
never heard of it

[06:41:01.0000] <kennyluck>
Probably, I probably don't know any thing you say about Shakesphere, too.

[06:41:02.0000] <kennyluck>
s/too/either/

[06:41:03.0000] <jcranmer>
'To be or not to be, that is the question.'

[06:42:00.0000] <jcranmer>
Whether 'tis nobler to die by the... that's as far as I know

[06:42:01.0000] <MikeSmith>
kennyluck: if you use that word in normal discussions with native Chinese speakers, they know right away what the connotations are? that is, the idea you described as "doing nothing makes things better"?

[06:43:00.0000] <MikeSmith>
that is, this is basically common knowledge to Chinese speakers

[06:43:01.0000] <kennyluck>
Yes, MikeSmith, 无 and 为 is not a normal comination.

[06:43:02.0000] <MikeSmith>
?

[06:43:03.0000] <MikeSmith>
ok

[06:43:04.0000] <kennyluck>
Although they are very simple characters.

[06:43:05.0000] <MikeSmith>
yeah

[06:43:06.0000] <MikeSmith>
seems like

[06:43:07.0000] <kennyluck>
s/comination/combination/

[06:44:00.0000] <MikeSmith>
I think people outside of China could maybe learning some of this common knowledge

[06:45:00.0000] <MikeSmith>
but I think the Tao Te Ching maybe had negative connotations to a lot of people, due to abuse by clowns like Deepak Chopra and such

[06:45:01.0000] <MikeSmith>
s/had/has/

[06:46:00.0000] <MikeSmith>
anyway, I digress

[06:46:01.0000] <kennyluck>
MikeSmith: I shamefully don't know who this Tao Te Ching is, the creator of Taoist?

[06:47:00.0000] <MikeSmith>
Lao Tzu

[06:47:01.0000] <kennyluck>
OhOh, the book, I see.

[06:47:02.0000] <MikeSmith>
yeah, just the book

[06:47:03.0000] <MikeSmith>
his writings

[06:52:00.0000] <hsivonen>
if I use XHR to request a text/plain; charset=utf-8 file and ask for responseText, will the UTF-16 string I get be a result of pure UTF-8 to UTF-16 conversion without anything tampering with carriage returns and U+0000?

[06:53:00.0000] <annevk>
per spec, yes

[06:54:00.0000] <annevk>
it only tampers with invalid sequences

[06:54:01.0000] <hsivonen>
annevk: OK. I guess I have to try to see what Gecko actually does

[06:54:02.0000] <annevk>
i tested this to some extent, if you find something let me know and i'll update the relevant test to cover more cases

[06:54:03.0000] <hsivonen>
ok

[06:55:00.0000] <annevk>
http://tc.labs.opera.com/apis/XMLHttpRequest/responsetext-decoding.htm is what I have now

[06:56:00.0000] <hsivonen>
annevk: would be prudent to have U+0000 and CR there in any case

[07:07:00.0000] <hsivonen>
whee! my Java test harness is CR-unsafe, too!

[07:07:01.0000] <hsivonen>
but for *expected* results, not for test input

[07:07:02.0000] <hsivonen>
oops. that's the unsafe thing everywhere

[07:15:00.0000] <MikeSmithX>
http://snoopy.allmarkedup.com/ seems pretty useful

[07:15:01.0000] <MikeSmithX>
by way of adactio 

[07:19:00.0000] <jgraham>
hsivonen: OK, thanks

[07:22:00.0000] <hsivonen>
jgraham: the file with the frameset-ok tests has fancy history

[07:22:01.0000] <hsivonen>
but it's useless to view it, since the file now contains \0

[07:49:00.0000] <hsivonen>
sigh. What problem does "in table text" solve?

[07:49:01.0000] <hsivonen>
clearly, I should watch way more carefully when Hixie changes what I suggest slightly

[07:50:00.0000] <annevk>
yay for XPATH_NAMESPACE_NODE

[07:50:01.0000] <hsivonen>
what's that?

[07:51:00.0000] <annevk>
the DOM XPath people thought they could not do with what existed so invented something new

[07:51:01.0000] <zcorpan_>
awesome. let's add // comments to websrt

[07:51:02.0000] <annevk>
"The XPathNamespace interface is returned by XPathResult interfaces to represent the XPath namespace node type that DOM lacks."

[07:52:00.0000] <annevk>
zcorpan_?

[07:52:01.0000] <hsivonen>
boo. I think what I have sucks less than "in table text"

[07:52:02.0000] <zcorpan_>
annevk: see whatwg

[07:55:00.0000] <annevk>
zcorpan_, old email? oh well

[07:57:00.0000] <zcorpan_>
http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2010-September/028479.html

[08:14:00.0000] <annevk>
things that would also be somewhat nice

[08:14:01.0000] <annevk>
moving namespaceURI and similar attributes down from Node

[08:17:00.0000] <hsivonen>
ok. I see "in table text" is equivalent with what I thought I had been doing

[08:17:01.0000] <hsivonen>
but not what my code actually does

[08:18:00.0000] <hsivonen>
sigh

[08:18:01.0000] <hsivonen>
major changes

[08:29:00.0000] <hsivonen>
abarth and eseidel sure have some evil test cases

[10:28:00.0000] <MikeSmith>
anybody know if there's a way I can cause the contents of the OSX system clipboard to be copied to Cocoa kill ring?

[10:51:00.0000] <TabAtkins>
zcorpan_: // comments sound good to me.  They're familiar enough that people try to use them in CSS all the time, despite them not actually being a comment there.

[10:58:00.0000] <Philip`>
TabAtkins: That's because CSS stupidly copied the /* syntax from JS and not the // syntax

[10:59:00.0000] <Philip`>
and people see that the first is correct and then assume the second must work too

[10:59:01.0000] <TabAtkins>
I agree that it's stupid.  ^_^  I was just saying that the // syntax is super-ubiquitous.

[10:59:02.0000] <Philip`>
I'm saying it's just ubiquitous in formats that already have /* :-)

[11:00:00.0000] <Philip`>
People don't seem to write // in HTML files much

[11:00:01.0000] <TabAtkins>
(I think maybe CSS wanted to maintain the invariant that all whitespace was equivalent, which // comments break?)

[11:02:00.0000] <annevk>
it's not a limitation of the crazy syntax system we use?

[11:03:00.0000] <TabAtkins>
I doubt it's an *intrinsic* limitation.

[11:24:00.0000] <Workshiva>
Is this actually a real commercial? http://www.youtube.com/watch?v=dvu2QPQLlYA

[11:24:01.0000] <TabAtkins>
Read the info on the video.

[11:25:00.0000] <Workshiva>
I did, but it could be part of the joke

[11:26:00.0000] <TabAtkins>
http://www.wired.com/gadgetlab/2009/05/first-look-vivitar-film-slr-is-all-manual-all-the-time/

[11:26:01.0000] <TabAtkins>
Oh, nm, that's a different camera.

[11:27:00.0000] <TabAtkins>
http://dvice.com/archives/2010/09/new-discovery-c.php

[11:28:00.0000] <Workshiva>
I guess I'm just amazed that 'remove memory card, take to store' is impossible when 'remove film roll, take to store' isn't

[11:33:00.0000] <annevk>
so when is <input list> / <datalist> in Minefield?

[11:33:01.0000] <annevk>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A...%3Cinput%20list%3Dtest%3E%3Cdatalist%20id%3Dtest%3E%3Coption%20value%3Dtest%3E%3Coption%20value%3Dtest2%3E%3C%2Fdatalist%3E does not work for me

[14:04:00.0000] <annevk>
aah

[14:04:01.0000] <annevk>
my Minefield copy was out of date for some reason

[14:05:00.0000] <annevk>
<input list> works!

[14:05:01.0000] <annevk>
unfortunately it has the same basic impl as us, no arrow that indicates more options are available

[14:09:00.0000] <Rik`_>
annevk: and it doesn't "filter" as I type

[14:10:00.0000] <Rik`_>
don't know if it's supposed too, I was just expecting that

[14:10:01.0000] <annevk>
that's why I think a select-box like arrow would be better

[14:11:00.0000] <annevk>
after all, this was supposed to be an editable select element

[14:18:00.0000] <annevk>
I thought HTML5 was using NamedNodeMap somewhere?

[14:18:01.0000] <annevk>
not so?

[14:36:00.0000] <jarib>
anyone know if/where i can find a map of IDL attributes -> content attributes?

[14:36:01.0000] <jarib>
e.g. htmlFor -> for

[14:37:00.0000] <jarib>
and by "map" i mean something machine readable

[14:44:00.0000] <annevk>
I don't think there is such a thing at the moment

[14:51:00.0000] <jarib>
would that be a good idea to add? and what would be the right place to request it?

[14:55:00.0000] <Hixie>
there's no index of reflected attributes currently, but if anyone wants to make such an index, I'd be happy to add it to the spec

[15:01:00.0000] <jarib>
Hixie: ok, i might take a stab at that. will have to think about the best way to structure it

[15:02:00.0000] <jarib>
it would probably have to be a map per IDL interface, no?

[15:03:00.0000] <jarib>
i'm guessing there are cases where it's not 100% consistent from element to element

[15:05:00.0000] <Hixie>
jarib: oh it's definitely not consistent, that's for sure

[15:05:01.0000] <Hixie>
jarib: i don't really know what the best organisation would be

[15:05:02.0000] <jarib>
:)

[15:05:03.0000] <Hixie>
jarib: ms2ger might have ideas on this front, he did most of our indexes so far

[15:06:00.0000] <jarib>
cool. is that his irc nick?

[15:07:00.0000] <Hixie>
yeah i think so

[15:07:01.0000] <jarib>
ok

[15:07:02.0000] <Hixie>
might be helpful to also note the kind of reflection, too

[15:07:03.0000] <Hixie>
though that would increase the workload

[15:07:04.0000] <jarib>
"kind of reflection"?

[15:08:00.0000] <Hixie>
e.g. "this is reflected as a DOMString as an enumerated attribute limited to only known values"

[15:08:01.0000] <jarib>
oh, right

[15:08:02.0000] <Hixie>
or "double" or "long limited to only non-negative numbers" or whatnot

[15:09:00.0000] <jarib>
i'm only interested the attribute names personally, but i can see how that would be useful

[15:10:00.0000] <Hixie>
yeah the attributes names would be helpful on its own too


2010-09-11
[17:30:00.0000] <ajnewbold>
heya gsnedders 

[01:19:00.0000] <hsivonen>
Hixie: you left XForms in the abstract of XBL2

[02:11:00.0000] <annevk>
hsivonen, doesn't really matter does it?

[02:27:00.0000] <hsivonen>
annevk: depends on whether people think that's a use case that has to be supported and start sending in requirements along those lines

[02:29:00.0000] <annevk>
http://www.guardian.co.uk/science/2010/sep/11/science-stephen-hawking-brian-cox is an interesting read

[02:30:00.0000] <annevk>
hsivonen, mkay...

[05:10:00.0000] <karlcow>
http://lint.brihten.com/html/

[05:11:00.0000] <karlcow>
>HTML Lint is a tool that makes sure your code looks good. While XHTML was very strict with syntax HTML 5 is more lenient like previous versions of HTML, which means keeping consistent code styles will become more difficult. Validating is not good enough anymore.

[05:11:01.0000] <karlcow>
--- http://lint.brihten.com/html/help

[10:49:00.0000] <llrcombs>
I've just noticed a flaw in the registerContentHandler API

[10:50:00.0000] <llrcombs>
it'd likely choke on files downloaded from servers you have to login to

[12:53:00.0000] <hober>
/me is working on the ISSUE-41 null CP

[12:55:00.0000] <hober>
I'm trying to find use-cases for DE that can't be met by HTML's existing extension mechanisms.

[12:56:00.0000] <Philip`>
Isn't that a job for the non-null CPs?

[12:57:00.0000] <hober>
Oddly, the non-null CPs don't do that

[12:57:01.0000] <hober>
they describe classes of extensions, but don't provide motivating use-cases for such extension classes

[12:57:02.0000] <webben>
hober: "existing" - does that exclude microdata and RDFa?

[12:58:00.0000] <hober>
anyway, I thought there would at least be use-cases not currently addressed that I could at least say "and it's a good thing that HTML doesn't address them"

[12:58:01.0000] <hober>
webben: it doesn't exclude other WG documents, no

[12:59:00.0000] <webben>
Hmm. What are the other change proposals asking for then? namespaced elements?

[12:59:01.0000] <hober>
yup

[13:00:00.0000] <webben>
hmm... how about something like including musical markup inline in HTML just like SVG and Math?

[13:01:00.0000] <hober>
is the expectation that browsers implement rendering such markup in some kind of useful way?

[13:01:01.0000] <hober>
if so, then the people speccing said markup should coordinate with the people working on HTML

[13:01:02.0000] <webben>
well, I guess in a DE model, browsers that implement that extension would, yeah.

[13:02:00.0000] <webben>
And, yeah, you can make the counterargument that it would be better for browsermakers etc. to come together and agree a standard.

[13:03:00.0000] <webben>
But it is a use-case that's not served out of the box - possibly 3d markup and http://en.wikipedia.org/wiki/Chemical_Markup_Language would be further examples.

[13:04:00.0000] <webben>
it's not that hard to think of ways to extend HTML, it's just a question of whether allowing incorporation of arbitrary elements is the way to do that, I guess.

[13:23:00.0000] <hober>
this is what I have so far: http://www.w3.org/html/wg/wiki/User:Eoconnor/ISSUE-41 comments, feedback, etc. very welcome

[13:40:00.0000] <hsivonen>
webben: those are theoretical until a browser vendor shows interest in implementing one of those vocabs

[14:03:00.0000] <annevk>
hmm, so now we could switch html5lib to public domain

[14:47:00.0000] <annevk>
hober, drop "quite" from "quite-complex" :)

[14:56:00.0000] <hober>
ok


2010-09-12
[17:24:00.0000] <webben>
hsivonen: Of course - by nature, any usage of DE is theoretical until actually implemented, no?

[18:18:00.0000] <vbulant>
caues

[01:32:00.0000] <hsivonen_>
webben: well, maybe we shouldn't cater for theoretical extension ahead of time in abstract architectures and should instead cross bridges as we get to them

[01:33:00.0000] <annevk>
I don't think that is still a maybe

[01:52:00.0000] <hsivonen>
looks like bluegriffon tries to be polyglot

[01:52:01.0000] <hsivonen>
a bit too much, even: there's an XML decl

[01:59:00.0000] <annevk>
jgraham_, the DOMImplementation-createDocument.html test gives very weird results

[01:59:01.0000] <hsivonen>
I wonder if the Super Friends have opinions on http://www.w3.org/Bugs/Public/show_bug.cgi?id=10589

[01:59:02.0000] <annevk>
jgraham_, "assert_throws:

[01:59:03.0000] <annevk>
function() { document.implementation.createDocument(namespaceURI, qualifiedName, doctype) } threw with code INVALID_CHARACTER_ERR (5) expected INVALID_CHARACTER_ERR (5)"

[02:14:00.0000] <annevk>
does the end of an SRT timestamp really look like "SS:,FFF"?

[02:14:01.0000] <annevk>
or "SS:.FFF"

[02:16:00.0000] <annevk>
looks like a bug in the spec

[02:17:00.0000] <annevk>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10607

[02:26:00.0000] <annevk>
jgraham_, more interesting is that in Chrome this problem does not occur

[02:34:00.0000] <annevk>
oh yeah, the WebKit way of omitting DOM arguments is not very great

[02:35:00.0000] <annevk>
e.g. by createDocument it will give you a root element of "undefined"

[03:04:00.0000] <annevk>
does IE have isSupported on Node?

[03:04:01.0000] <annevk>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cscript%3E%20w(%22isSupported%22%20in%20document)%20%3C%2Fscript%3E

[03:04:02.0000] <annevk>
true / false?

[03:05:00.0000] <hsivonen>
annevk: true in IE9 PP4

[03:06:00.0000] <hsivonen>
or at least I think I have PP4

[03:06:01.0000] <hsivonen>
/me wishes the PPs had nicer version numbers

[03:06:02.0000] <annevk>
bah

[03:06:03.0000] <annevk>
but thanks

[03:06:04.0000] <hsivonen>
annevk: were you hoping to zap that feature?

[03:06:05.0000] <annevk>
yes

[03:07:00.0000] <annevk>
it's no different from document.implementation.hasFeature as far as I can tell

[03:07:01.0000] <annevk>
which makes it a fairly stupid addition of DOM3Core

[03:09:00.0000] <annevk>
there's lots of features I'd really like to zap

[03:10:00.0000] <annevk>
the draft has a whole list at the end already of features marked historical that have not been implemented everywhere and are fairly close to useless

[03:10:01.0000] <othermaciej>
you should still zap it if it is unused

[03:11:00.0000] <annevk>
agreed, but that is hard to determine

[03:11:01.0000] <annevk>
but it seems somewhat unlikely that people use this one

[03:12:00.0000] <hsivonen>
kinda sad that XOM that's supposed to be a DOM replacement that doesn't suck has indexed child access instead of firstChild/nextSibling links

[03:12:01.0000] <hsivonen>
now that we've learned on the browser side that indexed children are worse

[03:13:00.0000] <hsivonen>
/me keeps a cache of table index in the XOM tree builder to make foster parenting have better performance characteristics

[03:14:00.0000] <annevk>
codesearch yields one somewhat relevant result, but that script adding support for the method via prototyping, and it doesn't actually use it...

[03:15:00.0000] <hsivonen>
didn't the IE team say they prioritized DOM additions based on use in the wild?

[03:15:01.0000] <annevk>
maybe they also implemented additions that were easy?

[03:16:00.0000] <annevk>
no idea really

[03:16:01.0000] <annevk>
hopefully they come to TPAC

[03:16:02.0000] <annevk>
cause mailing list communication...

[03:16:03.0000] <hsivonen>
fwiw, your test doesn't work in IE8

[03:17:00.0000] <hsivonen>
fails before logging anything

[03:17:01.0000] <hsivonen>
s/anything/true or false/

[03:18:00.0000] <annevk>
weird

[03:18:01.0000] <annevk>
oh, maybe that is their "security feature"

[03:18:02.0000] <hsivonen>
annevk: two errors:

[03:18:03.0000] <hsivonen>
Function expected

[03:19:00.0000] <hsivonen>
Object doesn't support this property or method

[03:19:01.0000] <annevk>
MSDN doesn't list it

[03:20:00.0000] <annevk>
I guess that is sufficient

[03:20:01.0000] <othermaciej>
hsivonen: what is worst of all is supporting both indexed and previous/next

[03:21:00.0000] <othermaciej>
(though I suppose indexed is almost inevitably poor in the face of remove/insert)

[03:21:01.0000] <hsivonen>
XOM: http://pastebin.mozilla.org/788007

[03:22:00.0000] <hsivonen>
DOM: http://pastebin.mozilla.org/788008

[03:22:01.0000] <othermaciej>
you have to reverse-engineer previous/next, eh?

[03:23:00.0000] <hsivonen>
well, I have to emulate them by first searching the node's index in the parent

[03:23:01.0000] <othermaciej>
I kinda wish the DOM didn't have indexed access at all (which it does via childNodes)

[03:23:02.0000] <othermaciej>
then the fundamental accessors and mutators could all be O(1) in all cases

[03:24:00.0000] <hsivonen>
also, JavaScript FTW for not having to do all this casting 

[03:29:00.0000] <annevk>
that code looks terrible

[03:48:00.0000] <hsivonen>
well. this isn't nice. I've updated GWT at some point and now the GWT Single Script Linker refuses to link the JS version of the parser

[03:50:00.0000] <hsivonen>
boo. and the GWT development mode plug-in would require downgrading to Firefox 3.5

[03:57:00.0000] <hsivonen>
I don't like it at all that GWT wants to default to generating browser-specific alternative scripts instead of generating a single-script with built-in feature sniffing

[03:59:00.0000] <hsivonen>
/me leaves the GWT build broken and code untested and moves on with making  Firefox better

[04:37:00.0000] <annevk>
I wonder why Google News thinks that Koran burning has anything to do with either Science or Technology

[04:37:01.0000] <annevk>
is that a US thing?

[04:39:00.0000] <othermaciej>
no, Google News is confused

[04:39:01.0000] <annevk>
j/k ;)

[04:40:00.0000] <hsivonen>
jgraham_: have you figured out if the Ubuntu jumpiness since August is a reported and known problem?

[05:28:00.0000] <webben>
hsivonen: Maybe. I wasn't arguing for DE. I was providing hober with examples of how it might be used.

[06:49:00.0000] <annevk>
so per http://www.w3.org/TR/DOM-Level-3-Core/core.html DOMTimeStamp should have been Date in ECMAScript bindings

[06:49:01.0000] <annevk>
but that never got implemented that way :/

[06:50:00.0000] <annevk>
in any event, it seems that should move to Web IDL just like DOMString

[06:50:01.0000] <annevk>
should just name those string and timestamp really, but I guess people do not want a largescale s&r

[06:55:00.0000] <MikeSmith>
about http://www.w3.org/TR/css3-text/#white-space-rules

[06:56:00.0000] <MikeSmith>
"A tab (U+0009) is rendered as a horizontal shift that lines up the start edge of the next glyph with the next tab stop. Tab stops occur at points that are multiples of 8 times the width of a space (U+0020) rendered in the block's font from the block's starting content edge."

[06:56:01.0000] <annevk>
hey mike

[06:56:02.0000] <MikeSmith>
do any browsers actually do that

[06:56:03.0000] <MikeSmith>
annevk: hey

[06:56:04.0000] <annevk>
filing some Web IDL bugs I wonder if they should maybe be emailed to public-script-coord as well

[06:56:05.0000] <MikeSmith>
yes

[06:56:06.0000] <MikeSmith>
would be a good idea

[06:57:00.0000] <annevk>
i think for white-space:pre tabs might be rendered, yes

[06:57:01.0000] <annevk>
that is why some browsers have this proprietary (prefixed) tab-size property

[06:57:02.0000] <annevk>
e.g. -o-tab-size

[06:57:03.0000] <MikeSmith>
oh yeah

[06:57:04.0000] <MikeSmith>
that works

[06:58:00.0000] <MikeSmith>
but white-space-collapse does not

[06:58:01.0000] <MikeSmith>
that's what I get for reading specs

[06:59:00.0000] <annevk>
oh, white-space-collapse is some new stuff that nobody does

[06:59:01.0000] <MikeSmith>
I see

[06:59:02.0000] <annevk>
kind of wondering why that is being added now

[07:01:00.0000] <MikeSmith>
heh, ES5 spec has the typo "hyphon"

[07:01:01.0000] <MikeSmith>
cute

[07:02:00.0000] <MikeSmith>
jacobolus: hey, I used some page of yours the other day that I seem to remember finding extremely useful

[07:02:01.0000] <MikeSmith>
but at the moment I cant remember what page it was

[07:03:00.0000] <MikeSmith>
ah

[07:03:01.0000] <MikeSmith>
jacobolus: ah, the pages you have about customizing Cocoa config

[07:03:02.0000] <jacobolus>
MikeSmith: hey, what's up?

[07:04:00.0000] <jacobolus>
MikeSmith: this one? http://www.hcs.harvard.edu/~jrus/site/cocoa-text.html

[07:04:01.0000] <MikeSmith>
yeah, and this: http://www.hcs.harvard.edu/~jrus/Site/Cocoa%20Text%20System.html

[07:04:02.0000] <jacobolus>
MikeSmith: that's a hard link to the same file :)

[07:04:03.0000] <MikeSmith>
ah

[07:05:00.0000] <MikeSmith>
anyway, very useful info

[07:06:00.0000] <jacobolus>
thx

[07:06:01.0000] <jacobolus>
let me know if anything is confusing, &c.

[07:07:00.0000] <MikeSmith>
I think I got everything figured out from that now

[07:07:01.0000] <MikeSmith>
re-bound my ^y key to cycle through kill ring

[07:07:02.0000] <jacobolus>
MikeSmith: btw, these might be useful too http://www.hcs.harvard.edu/~jrus/site/selectors.html and http://www.hcs.harvard.edu/~jrus/site/system-bindings.html

[07:08:00.0000] <MikeSmith>
thanks!

[07:08:01.0000] <MikeSmith>
handn't seen those yet

[07:09:00.0000] <MikeSmith>
I did also add a ^W binding to deleteWordBackward already

[07:10:00.0000] <MikeSmith>
<manusporny> Ha! The vim editor gets HTML5+RDFa and Microdata support: http://ht.ly/2CXH5 /via @cwaring #rdfa #microdata

[07:10:01.0000] <MikeSmith>
that's pretty cool

[07:11:00.0000] <MikeSmith>
adds autocomplete of attribute names

[07:11:01.0000] <henrikbjorn>
when i launch vim it shows some errors that is removed but the editor finishing loading, is there some place where does get logged ?

[07:11:02.0000] <jacobolus>
I set it up so that move up down left right is ⌃i ⌃k ⌃l ⌃j and forward/backward by a word is ⌃o ⌃u and to beginning/end of line is ⌃h ⌃;

[07:11:03.0000] <MikeSmith>
oh, http://github.com/othree/html5.vim says it has ARIA support also

[07:12:00.0000] <hsivonen>
how odd. a tree builder bugfix I made and that works in Java seems to  have regressed a tokenizer behavior on the C++ side

[07:12:01.0000] <MikeSmith>
jacobolus: oh, those sound good.. Ive been using the default control-option combos, which are a PITA to hit, especially on my Japanese laptop keyboard

[07:13:00.0000] <jacobolus>
yeah. I don't like moving my hand down to the arrow keys

[07:13:01.0000] <jacobolus>
and the "emacsish" ⌃a ⌃e &c. are not intuitive

[07:14:00.0000] <MikeSmith>
I guess I'm used to those from shell

[07:15:00.0000] <MikeSmith>
but in shell I use esc combos for word movements

[07:16:00.0000] <MikeSmith>
e.g, esc than b, esc than f

[07:17:00.0000] <MikeSmith>
henrikbjorn: :messages maybe?

[07:17:01.0000] <MikeSmith>
hmm, no

[07:18:00.0000] <henrikbjorn>
nope nothing is happening

[07:18:01.0000] <MikeSmith>
yeah, that was just guess

[07:18:02.0000] <henrikbjorn>
okay :)

[07:19:00.0000] <MikeSmith>
hmm, docs says that should work

[07:19:01.0000] <MikeSmith>
that and :echo errmsg

[07:19:02.0000] <henrikbjorn>
nope nothing :S

[07:20:00.0000] <MikeSmith>
darn

[07:25:00.0000] <MikeSmith>
kennyluck: do you know who this is? http://blog.othree.net/

[07:25:01.0000] <kennyluck>
MikeSmith: A Taiwanese folk I know. Why?

[07:30:00.0000] <MikeSmith>
kennyluck: dude has developed some HTML5-related software

[07:31:00.0000] <MikeSmith>
http://github.com/othree/html5.vim

[07:32:00.0000] <kennyluck>
MikeSmith: Oh, he's a Web Developer. :)

[07:33:00.0000] <MikeSmith>
kennyluck: hey, btw, about wu wei, you use 無為 in Taiwanese, right? (just like the Japanese word)

[07:33:01.0000] <kennyluck>
This is something I don't know why. But most of Taiwanese programmers prefer vim over emacs.

[07:33:02.0000] <kennyluck>
Yes. (I actullay don't know this term appears in Japan)

[07:33:03.0000] <annevk>
MikeSmith, othree is on this channel

[07:33:04.0000] <MikeSmith>
instead of 无为 I mean

[07:33:05.0000] <MikeSmith>
oh

[07:34:00.0000] <MikeSmith>
othree: thanks for vim stuff

[07:34:01.0000] <kennyluck>
Do we have a emacs html5 already BTW? :)

[07:35:00.0000] <kennyluck>
mode, I mean.

[07:35:01.0000] <kennyluck>
http://github.com/hober/html5-el

[07:35:02.0000] <kennyluck>
found it. Cool.

[07:36:00.0000] <hsivonen>
isn't that for XHTML5, though?

[07:36:01.0000] <MikeSmith>
yeah

[07:36:02.0000] <MikeSmith>
uses an XML parser

[07:36:03.0000] <MikeSmith>
but it still is great

[07:36:04.0000] <kennyluck>
Huh. I see. It does have nxml-mode dependency.

[07:37:00.0000] <MikeSmith>
we should make an nxml-mode for vim

[07:37:01.0000] <hsivonen>
we should make an incremental HTML5 parser for emacs

[07:37:02.0000] <MikeSmith>
yeah

[07:38:00.0000] <MikeSmith>
could maybe use James's nxml code as a starting point

[07:38:01.0000] <MikeSmith>
his parser code

[07:38:02.0000] <MikeSmith>
just have to learn emacs lisp

[07:39:00.0000] <MikeSmith>
your IQ will skyrocket if you learn lisp, I heard

[08:06:00.0000] <hsivonen>
Has Chrome 6 gone out of beta yet?

[08:06:01.0000] <hsivonen>
and Chrome 7 has already branched?

[08:08:00.0000] <annevk>
didn't they want to release every six weeks?

[08:08:01.0000] <annevk>
actually, I think Chrome 6 might be out

[08:08:02.0000] <hsivonen>
oh

[08:08:03.0000] <annevk>
http://en.wikipedia.org/wiki/Google_Chrome#Release_history

[08:08:04.0000] <hsivonen>
I was wondering if they have two releases that have branched but haven't gone final

[08:10:00.0000] <hsivonen>
*sigh* at the "Standards" section of the wikipedia article

[08:11:00.0000] <annevk>
i was just reading that

[08:11:01.0000] <evanchooly>
1

[08:12:00.0000] <hsivonen>
the "Standards" section for Firefox has this wonderful bit: "Firefox also implements[74] a proprietary protocol[92] from Google called "safebrowsing" (used to exchange data related with "phishing and malware protection"), which is not an open standard."

[08:13:00.0000] <annevk>
so they call out safebrowsing but not XUL, XBL, XPCOM, etc?

[08:22:00.0000] <Rik`_>
annevk: btw, @list is now filtering the propositions based on input

[08:23:00.0000] <annevk>
Ms2ger, hey, welcome back

[08:23:01.0000] <Ms2ger>
Thanks :)

[08:24:00.0000] <annevk>
I made a bunch of changes while you were gone, maybe you can review them

[08:25:00.0000] <annevk>
I was also wondering if we should file bugs on browser vendors to implement some of the changes to see if such a thing gains any traction

[08:25:01.0000] <hsivonen>
Ms2ger: http://lists.w3.org/Archives/Public/public-webapps/2010JulSep/0703.html

[08:25:02.0000] <Ms2ger>
I'll look at them and reply to your email after I skimmed through the rest of my inbox

[08:26:00.0000] <annevk>
e.g. removing xmlVersion, isSupported, etc.

[08:26:01.0000] <annevk>
Ms2ger, great

[08:26:02.0000] <annevk>
Ms2ger, hsivonen, regarding DOM Range, Hixie also suggested moving Selection there

[08:26:03.0000] <annevk>
/me goes off to do some shopping

[08:26:04.0000] <Ms2ger>
annevk, I saw that too :)

[08:27:00.0000] <Ms2ger>
And hsivonen, I was watching that bug

[08:37:00.0000] <hsivonen>
Ms2ger: cool

[08:44:00.0000] <Ms2ger>
Oh, fun, Shelby Moore in my bugmail

[08:45:00.0000] <erlehmann>
HTTP needs a status code for "not here yet"

[08:45:01.0000] <erlehmann>
(I am on a slow connection and have 333MB of PDFs to upload.)

[08:49:00.0000] <hsivonen>
Ms2ger: which bug tracker?

[08:49:01.0000] <Ms2ger>
Mozilla

[08:50:00.0000] <Ms2ger>
https://bugzilla.mozilla.org/show_bug.cgi?id=156388

[11:44:00.0000] <AryehGregor>
http://www.aregooglesbouncingballshtml5.com/

[11:46:00.0000] <aho>
balls!

[11:54:00.0000] <erlehmann>
balls are touching!

[11:55:00.0000] <aho>
:v

[12:22:00.0000] <AryehGregor>
Why does this display with no shadow in a Firefox nightly?  data:image/svg+xml,<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd"><svg xmlns="http://www.w3.org/2000/svg"><defs><filter id="Gaussian_Blur"><feGaussianBlur in="SourceGraphic" stdDeviation="5"/></filter></defs><rect x="20" y="20" width="100" height="100" style="fill:black;filter:url(#Gaussian_Blur)"/></svg>

[12:25:00.0000] <Ms2ger>
/me was wondering the same thing

[12:26:00.0000] <AryehGregor>
Same in 3.6.

[12:29:00.0000] <aho>
saving this as svg, however, works: <svg xmlns="http://www.w3.org/2000/svg"><defs><filter id="Gaussian_Blur"><feGaussianBlur in="SourceGraphic" stdDeviation="5"/></filter></defs><rect x="20" y="20" width="100" height="100" style="fill:black;filter:url(#Gaussian_Blur)"/></svg>

[12:30:00.0000] <aho>
same thing prefixed with "data:image/svg+xml," does not work

[12:30:01.0000] <aho>
odd

[12:31:00.0000] <aho>
also doesnt work with ff4b6

[12:32:00.0000] <aho>
works with chrome, parsing error with opera *shrug*

[12:35:00.0000] <annevk>
Ms2ger, not sure the File API exceptions will stay

[12:35:01.0000] <annevk>
Ms2ger, that's why I did not add them

[12:36:00.0000] <Ms2ger>
Sure, but I'd like the list to stay in sync with HTML5

[12:37:00.0000] <annevk>
hmm, the dependency really should be the other way around, but ok, it'll be fixed eventually

[12:39:00.0000] <Ms2ger>
Yes, but until then we shouldn't have conflicting requirements

[12:43:00.0000] <hsivonen>
aho: no fragment id in data URLs

[12:44:00.0000] <aho>
ah

[16:19:00.0000] <hober>
hsivonen: re: emacs comment earlier, I've started work on one

[16:19:01.0000] <hober>
(an html parser in elisp that impls the html5 algorithm)

[16:20:00.0000] <hober>
it's nowhere near usable; I'll let you know when it gets to the point where it's worth looking at

[16:39:00.0000] <jgraham>
hober: Awesome

[16:39:01.0000] <jgraham>
hsivonen: No

[16:40:00.0000] <jgraham>
anne: (for the logs) the test cndition is just wrong. I will check in a fix at some point

[16:40:01.0000] <jgraham>
(i.e. the way that assert_throws determines pass/failiure in that case)


2010-09-13
[18:10:00.0000] <AryehGregor>
"The following extract shows how a messaging client's text entry could be arbitrarily restricted to a fixed number of characters, thus forcing any conversation through this medium to be terse and discouraging intelligent discourse.

[18:10:01.0000] <AryehGregor>
What are you doing? <input name=status maxlength=140>"

[18:10:02.0000] <AryehGregor>
I love these little things.

[18:10:03.0000] <AryehGregor>
Hope the W3C crowd that spotted the jab at Flash doesn't demand this be removed too.  :)

[18:47:00.0000] <Dashiva>
AryehGregor: They will now

[18:47:01.0000] <Dashiva>
Thanks a lot!

[18:47:02.0000] <AryehGregor>
:)

[18:47:03.0000] <Dashiva>
:P

[19:31:00.0000] <AryehGregor>
"We’re excited that other browsers are starting to optimize for the Windows platform. Taking advantage of the PC’s hardware through the Windows APIs makes browsing on Windows better than browsing on other systems."

[19:31:01.0000] <AryehGregor>
I totally called that one.

[19:32:00.0000] <AryehGregor>
I said months ago that when other browsers supported acceleration, the IE team would say "Yeah, but it's way better when they run on Windows."

[19:32:01.0000] <AryehGregor>
(which it is)

[19:32:02.0000] <AryehGregor>
(my Linux machine doesn't even support hardware acceleration on my hardware yet unless I install unstable proprietary drivers)

[21:00:00.0000] <MikeSmith>
AryehGregor: about that potentially objectionable part of the spec, I think in this particular case, anybody who wants to have it removed must be required to provide a careful, thorough argument via a single tweet.

[21:00:01.0000] <MikeSmith>
hober: cool to hear about initial work on the html parser in elisp

[21:01:00.0000] <kevo_tool>
What part?

[21:02:00.0000] <MikeSmith>
kevo_tool: eh?

[21:02:01.0000] <kevo_tool>
Objectional part of the spec

[21:03:00.0000] <MikeSmith>
kevo_tool: see the logs

[21:04:00.0000] <MikeSmith>
would give Chinese speakers a huge advantage

[21:05:00.0000] <MikeSmith>
or I guess anybody could write their argument in their own language, use Google translate or whatever to translate it to Chinese

[21:06:00.0000] <MikeSmith>
we should all do that for all our tweets, actually

[21:06:01.0000] <MikeSmith>
and have twitter auto-translate them back to whatever native language you want

[21:14:00.0000] <MikeSmith>
http://twitter.com/sideshowbarker/status/24349057841

[21:14:01.0000] <MikeSmith>
如果我用中文写我的Twitter的消息，那么我可以说更多的，具有更少的字符。因此，从现在起，我会用中文写我的Twitter的所有邮件。

[21:16:00.0000] <MikeSmith>
to express that in English takes me 180 characters

[21:16:01.0000] <MikeSmith>
to express it in Chinese takes 67

[21:17:00.0000] <jcranmer>
but each Chinese character is several bytes in most charsets

[21:17:01.0000] <MikeSmith>
that sucks for those charsets

[21:17:02.0000] <jcranmer>
English is 1 byte/character in any sane charset

[21:18:00.0000] <jcranmer>
and no, UTF-16/UCS-2 and UTF-32 are not sane

[21:18:01.0000] <MikeSmith>
my message to those charsets is: Suck it up and find something else to complain about.

[21:18:02.0000] <jcranmer>
and UTF-9 is out of the question

[21:20:00.0000] <MikeSmith>
that's why this whole twit-tarded 140-character-limit thing is so senseless

[21:20:01.0000] <MikeSmith>
hence the editiorial comment in the spec, which is speaking gospel truth

[21:20:02.0000] <jcranmer>
does it count characters or bytes?

[21:21:00.0000] <MikeSmith>
twitter counts characters, not bytes

[21:21:01.0000] <MikeSmith>
to in the world of twitter, Chinese is king

[21:22:00.0000] <jcranmer>
characters as in Unicode codepoints?

[21:22:01.0000] <MikeSmith>
yeah, I reckon so

[21:23:00.0000] <MikeSmith>
with perhaps the usual exceptions

[21:23:01.0000] <MikeSmith>
surrogate pairs or whatever

[21:23:02.0000] <jcranmer>
so a + ` would be two characters

[22:32:00.0000] <MikeSmith>
d'oh

[22:32:01.0000] <MikeSmith>
/me remembers that the number box tells me how many characters I have left before I reach the limit

[00:32:00.0000] <hsivonen>
hober: cool (re: emacs)

[00:33:00.0000] <annevk>
jgraham, what is wrong about it?

[00:34:00.0000] <annevk>
jgraham, and why does it make Chrome not fail?

[00:41:00.0000] <annevk>
jcranmer, MikeSmith, twitter counts 16-bit code units

[00:41:01.0000] <annevk>
i.e. str.length

[00:43:00.0000] <MikeSmith>
annevk: 喔

[00:43:01.0000] <MikeSmith>
谢谢

[00:51:00.0000] <webben>
AryehGregor: Don't mind the jab myself, but it would be better if the example used a <label>.

[00:55:00.0000] <paul_irish>
what's the word on using dot notation to access web storage?

[00:56:00.0000] <annevk>
it's fine

[00:57:00.0000] <paul_irish>
good. the spec doesnt really mention it at all, so lots of folks think it's a dirty hack to be avoided.

[00:58:00.0000] <annevk>
it's part of the IDL

[00:58:01.0000] <annevk>
I grant you that specs are hard to read :)

[01:07:00.0000] <jgraham>
annevk: It tries to check the .name property of the exception, which makes sense for ECMAScript exceptions but not for DOMExceptions

[01:07:01.0000] <jgraham>
Chrome simply doesn't throw an error in that case

[01:08:00.0000] <jgraham>
So it fails for an entirely different reason (or at least the version of Chrome I have does)

[01:10:00.0000] <annevk>
DOMExceptions have .name as well

[01:10:01.0000] <annevk>
or maybe they don't?

[01:11:00.0000] <jgraham>
annevk: I couldn't see it in the spec

[01:11:01.0000] <jgraham>
I think they have .name === "Error" from the prototype chain

[01:11:02.0000] <annevk>
the new spec has it, I assume Simon added it for a reason

[01:11:03.0000] <jgraham>
but I didn't dig deep enough into spec land to find out

[01:12:00.0000] <annevk>
oh yeah, it's simply error

[01:12:01.0000] <annevk>
maybe I should just remove .message and .name from the spec for now

[01:12:02.0000] <annevk>
DOM3Core only has .code

[01:13:00.0000] <annevk>
i guess .message and .name are general to exceptions? maybe something for either ECMAScript or Web IDL

[01:14:00.0000] <jgraham>
.name comes from ECMAScript assuming DOMException inherits from Error

[01:14:01.0000] <jgraham>
Not sure how I tell that from DOM Core 3

[01:15:00.0000] <jgraham>
But the name won't be the name of the exception

[01:15:01.0000] <MikeSmith>
annevk: 15.11.4.3 Error.prototype.message

[01:15:02.0000] <MikeSmith>
in the ES5 spec

[01:15:03.0000] <annevk>
ta

[01:15:04.0000] <jgraham>
Maybe simon trying to make the spec more useful?

[01:15:05.0000] <MikeSmith>
and 15.11.4.2 Error.prototype.name

[01:15:06.0000] <annevk>
could be

[01:15:07.0000] <jgraham>
Anyway, remove that check and it all works as expected

[01:16:00.0000] <annevk>
but I'm not sure why it would be useful

[01:16:01.0000] <annevk>
oh wait, that is what WebKit does

[01:17:00.0000] <annevk>
Mozilla gives back "NS_ERROR_DOM_NAMESPACE_ERR"

[01:17:01.0000] <annevk>
and Opera just Error

[01:17:02.0000] <annevk>
(for a NAMESPACE_ERR)

[01:20:00.0000] <annevk>
but it seems this should be addressed at the binding level somehow

[01:20:01.0000] <annevk>
since these are ECMAScript exception members

[01:21:00.0000] <othermaciej>
Web IDL should let you have an exception interface that inherits from whatever the normal language-native exception interface is

[01:21:01.0000] <annevk>
right

[01:22:00.0000] <annevk>
and for ECMAScript some way to set the name attribute

[01:22:01.0000] <annevk>
or have it map automatically or something

[01:25:00.0000] <jgraham>
annevk: In any case I suggest we remove that from testharness.js and check it as part of the WebIDL testsuite

[01:26:00.0000] <annevk>
ja

[02:02:00.0000] <hsivonen>
I'd like to get a sanity check on http://www.w3.org/Bugs/Public/show_bug.cgi?id=10589 from a Web designer

[02:03:00.0000] <hsivonen>
(that is, am I arguing for a change that'd make things better for designers)

[02:03:01.0000] <hsivonen>
(I think I am)

[02:04:00.0000] <othermaciej>
<figure> in <p> for floating figure makes sense to me

[02:04:01.0000] <othermaciej>
making <figure> close <p> is less compatible with legacy browsers than not doing so

[02:05:00.0000] <MikeSmith>
hsivonen: I'm not a designer but I agree with you

[02:05:01.0000] <othermaciej>
I don't think the rest of us need to be bound by Chrome's release schedule

[02:05:02.0000] <othermaciej>
if they ship every 4 months, then they'll just ship again before whatever they ship in 7 gets locked in

[02:06:00.0000] <othermaciej>
and frankly the new HTML5 parser has a number of what I'd consider critical regressions that are not yet fixed

[02:06:01.0000] <hsivonen>
othermaciej: what kind of critical regressions?

[02:06:02.0000] <MikeSmith>
I'm sympathetic to abarth point about impact on implementations, but my response about that would be, it's cheaper to change it now than it will be later, so let's make absolutely sure we have it right

[02:06:03.0000] <annevk>
it's scarily conservative imo

[02:07:00.0000] <hsivonen>
annevk: what's conservative?

[02:07:01.0000] <annevk>
not doing any more changes

[02:07:02.0000] <abarth>
othermaciej: what regressions?

[02:07:03.0000] <othermaciej>
of course, I am not sure what Adam would consider the same issues critical

[02:08:00.0000] <abarth>
my concern is that there are lots of dials to twiddle

[02:08:01.0000] <othermaciej>
we have 7 live regressions in our internal bug tracker that we consider P1; some are originally reported on Apple-internal sites so they have no bugzilla except maybe a scrubbed one

[02:08:02.0000] <hsivonen>
fwiw, I'm very close to going to the annotation-xml bug and say that it won't make it in by the time for Firefox 4 feature freeze and it's feature-ish

[02:09:00.0000] <othermaciej>
sure, you *could* fiddle endlessly, but hsivonen in particular has been giving feedback for a long time and the rate of changes he asks for seems to be declining, not increasing

[02:10:00.0000] <othermaciej>
abarth: here's two in bugzilla that we consider P1: <https://bugs.webkit.org/show_bug.cgi?id=44637>  <https://bugs.webkit.org/show_bug.cgi?id=43328>

[02:10:01.0000] <abarth>
https://bugs.webkit.org/show_bug.cgi?id=44637 is a UA detect

[02:10:02.0000] <abarth>
it's not clear what we can do to fix it

[02:10:03.0000] <othermaciej>
we also have 4 bugs in Mail, the AIM client, and Pages

[02:11:00.0000] <othermaciej>
why would the UA detect start causing failure after the HTML5 parser is enabled?

[02:11:01.0000] <MikeSmith>
hsivonen: as a courtesy at last, please talk with David Carlisle before making a final decision on implementing it or not for the release

[02:11:02.0000] <othermaciej>
was that just a misdiagnosis?

[02:11:03.0000] <MikeSmith>
*at least

[02:11:04.0000] <abarth>
we started behaving more like other browsers

[02:11:05.0000] <othermaciej>
we also have two bugs on apple.com which can probably be fixed through evangelism

[02:11:06.0000] <abarth>
basically, they do a UA detect

[02:11:07.0000] <abarth>
and based on that

[02:12:00.0000] <abarth>
they decide which dom element to set to display:none

[02:12:01.0000] <othermaciej>
er, on internal apple sites rather, not the public apple.com

[02:12:02.0000] <abarth>
assuming that different UAs will produce different DOMs

[02:12:03.0000] <abarth>
for https://bugs.webkit.org/show_bug.cgi?id=43328, we have a two-line reduction

[02:12:04.0000] <abarth>
we just need to get eric's attention to finish the fix

[02:13:00.0000] <othermaciej>
does that one need a spec change?

[02:13:01.0000] <abarth>
i can't really help with apple-internal bugs unless someone tells me what the problem is

[02:14:00.0000] <othermaciej>
for the native apps we may have to add quirks

[02:14:01.0000] <othermaciej>
we are prepared to handle those ourselves as necessary

[02:14:02.0000] <abarth>
i imagine https://bugs.webkit.org/show_bug.cgi?id=40961 is something we'll need to add a pref for

[02:14:03.0000] <othermaciej>
for apple-internal sites, I sure hope evangelism works, cause I'd rather not ship a site-specific hack for an Apple intranet site

[02:15:00.0000] <othermaciej>
we have some cases of "<style</style>" in Mail messages

[02:16:00.0000] <abarth>
I don't think bug 43328 will need a spec change.  the issue is two async events that are racing

[02:16:01.0000] <hsivonen>
happily, evangelism has worked for Mozilla's intranet :-)

[02:16:02.0000] <othermaciej>
probably no way to handle that but an app-specific quirk, since even if we stop sending such content, those emails already exist

[02:16:03.0000] <abarth>
something subtle changed in the timing that reversed the outcome of the race

[02:16:04.0000] <othermaciej>
we have one report of unclosed <tilte> eating the page on a real site

[02:16:05.0000] <othermaciej>
that one should go into bugzilla

[02:16:06.0000] <hsivonen>
I thought window.location setting and .reload() were supposed to kill the parser synchronously

[02:17:00.0000] <hsivonen>
at least in Gecko, we have an API for terminating the parser synchronously

[02:17:01.0000] <abarth>
yes

[02:17:02.0000] <hsivonen>
at one time, it seemed like and endless pit of trouble

[02:17:03.0000] <abarth>
that's what we need

[02:17:04.0000] <hsivonen>
but I think I have it working now

[02:17:05.0000] <abarth>
AFAIK webkit doesn't/didn't have that

[02:17:06.0000] <hsivonen>
s/and/an/

[02:17:07.0000] <abarth>
but the observable results where the same

[02:18:00.0000] <hsivonen>
MikeSmith: OK.

[02:18:01.0000] <abarth>
othermaciej: the goal of this project (from my point of view) is that we pay these debts now and then never have to worry about this stuff again

[02:18:02.0000] <othermaciej>
anyway we'll add whatever quirks we need to handle compat with Mac OS X (and maybe iOS) native apps correctly

[02:18:03.0000] <annevk>
does HTML5 define that?

[02:18:04.0000] <annevk>
terminating the parser synchronously?

[02:18:05.0000] <abarth>
othermaciej: ideally, we'd have done this when we had 0% market share

[02:18:06.0000] <othermaciej>
abarth: I definitely think it's a worthwhile exercise

[02:19:00.0000] <othermaciej>
all I'm saying is that it's not done-and-practically-ready-to-ship from Apple's POV at least

[02:19:01.0000] <hsivonen>
annevk: I'm not sure if it does now, but at least it did when I was dealing with it

[02:19:02.0000] <othermaciej>
we are not even necessarily expecting anyone else to fix the bugs we consider showstoppers in it

[02:20:00.0000] <hsivonen>
annevk: IIRC, at least at the time, Hixie considered forced stopping a stop button thing (i.e. a browser-specific UI issue)

[02:20:01.0000] <abarth>
i'm happy to do whatever needs to be done, but communication is important

[02:20:02.0000] <hsivonen>
but window.location makes it a script-exposed issue :-(

[02:20:03.0000] <othermaciej>
anything that's on public sites, I'm sure we'll put in bugzilla well ahead of time

[02:21:00.0000] <othermaciej>
I think even for the native app cases, we've communicated the quirks we've hit, though the details of making it an app-specific hack are up to us

[02:21:01.0000] <othermaciej>
it looks like <foo</foo> is by far the most common source of problems

[02:21:02.0000] <abarth>
i'll add a setting for that now

[02:22:00.0000] <othermaciej>
it's too bad that HTML5 chose to go the Opera/IE way on that one

[02:22:01.0000] <othermaciej>
but perhaps IE team would be eating this same kind of pain otherwise

[02:22:02.0000] <abarth>
according to ian, stuff breaks either way

[02:22:03.0000] <othermaciej>
(though it's harder to imagine content depending on the IE/Opera way)

[02:23:00.0000] <othermaciej>
I haven't seen the data but I'm ok with just taking it on faith and biting this particular bullet

[02:23:01.0000] <hsivonen>
othermaciej: IIRC, someone from Opera on this channel has said content does depend on it

[02:23:02.0000] <hsivonen>
othermaciej: I'm taking the Opera guys' word for this, too

[02:24:00.0000] <othermaciej>
I have heard that and am mostly willing to believe it though I have not actually seen pointers to actual such content

[02:24:01.0000] <abarth>
w.r.t. conservatism, i think its easy to lose site of the fact that a stable platform is essential for building complex sites

[02:24:02.0000] <abarth>
in some sense, having IE6 around for so long was very good for the web

[02:24:03.0000] <othermaciej>
the parsing algorithm is definitely settling down I think

[02:25:00.0000] <othermaciej>
even though its simulated annealing process has not yet quite hit thermal equilibrium with the environment

[02:25:01.0000] <hsivonen>
abarth: in this particular <p><figure> case, I think it's essential not to make certain useful trees impossible by sprinkling implicit <p> closing around too much

[02:25:02.0000] <othermaciej>
I do believe HTML5 parsing has fixed more bugs than it has created, even though the latter end up more salient

[02:26:00.0000] <othermaciej>
abarth: btw, you don't *have* to add the setting - it would be useful for more people to learn the code by actually adding something to it

[02:26:01.0000] <hsivonen>
abarth: especially when experience with <p><table> suggests that not letting authors put stuff inside <p> isn't exactly helping authors

[02:26:02.0000] <othermaciej>
abarth: advice may add more value here than code

[02:26:03.0000] <annevk>
abarth, the problem with completely stable is that the most stupid bugs become platform features - some amount of change is needed to prevent that, I think

[02:26:04.0000] <othermaciej>
<p><ul> is also clearly fail in retrospect

[02:26:05.0000] <hsivonen>
othermaciej: yes

[02:27:00.0000] <abarth>
othermaciej: ok, i'm happy to review adding the setting.  it's actually very easy.  basically, you make '<' move out of the tag name state and get reconsumed in the data state

[02:27:01.0000] <hsivonen>
I nowaways think implicit <p> closing is a general fail

[02:27:02.0000] <hsivonen>
I'm willing to accept it for legacy stuff, but adding it for new stuff is a (small) tragedy if it makes things harder for authors

[02:28:00.0000] <annevk>
for <section> it makes sense

[02:28:01.0000] <annevk>
for <figure> not so much

[02:29:00.0000] <abarth>
each tweak is made with good intentions

[02:29:01.0000] <othermaciej>
I think implicit close tags in general might be fail

[02:29:02.0000] <hsivonen>
annevk: yeah, section makes sense, though I've had disapproving private feedback once about that, too

[02:29:03.0000] <abarth>
i'm not going to fight about it

[02:30:00.0000] <othermaciej>
over the next couple of months, changes to the w3c spec at least are going to become process-wise more difficult

[02:30:01.0000] <abarth>
but i'll be happy when we're done changing the spec :)

[02:30:02.0000] <MikeSmith>
amen to that

[02:30:03.0000] <othermaciej>
so it's kind of the last chance to make tweaks before things freeze up

[02:30:04.0000] <othermaciej>
I wish we could be done already but I feel that hsivonen has the merits of the case on that bug

[02:31:00.0000] <othermaciej>
because it's an HTML5 behavior that moves away from the behavior of any legacy browser, and is bad on the merits

[02:48:00.0000] <hsivonen>
given https://bugs.webkit.org/show_bug.cgi?id=44637 , maybe Safari should put "Chrome" in its UA string, too

[02:48:01.0000] <hsivonen>
"Safari (like Chrome)" and "Chrome (like Safari)"

[02:49:00.0000] <abarth>
the UA string is the definitely the thing i dislike the most about the web

[02:49:01.0000] <abarth>
one can only imagine what UA strings will look like 10 years from now

[02:50:00.0000] <abarth>
hsivonen: you should see the bug where the gtk version of WebKit gets locked out of advanced features because sites (including google) don't realize that it's webkit

[02:51:00.0000] <hsivonen>
the root of the problem is that you can't have your UA string cake and eat it too: if you put something in there for marketing statistics, someone *will* sniff it to exclude functionality

[02:51:01.0000] <abarth>
https://bugs.webkit.org/show_bug.cgi?id=39617

[02:51:02.0000] <hsivonen>
btw, SeaMonkey is putting "Firefox" in its UA string and providing an advanced pref for the hard-liners to take it out of the UA string

[02:52:00.0000] <hsivonen>
Open Source prefs...

[02:54:00.0000] <hsivonen>
abarth: why didn't WebKit GTK just always say "Safari" instead of making it a site-specific hack?

[02:54:01.0000] <hsivonen>
once you've put "Firefox", "Safari" or "Chrome" in the UA string, making sites sniff for a less obvious name like "Gecko" or "WebKit" is an exercise in futility

[02:54:02.0000] <othermaciej>
Chrome alrady has Safari in the UA string IIRC

[02:54:03.0000] <abarth>
it was hard to discuss the issue with the stakeholders

[02:55:00.0000] <hsivonen>
othermaciej: indeed

[02:55:01.0000] <abarth>
because they were somewhat emotional about it

[02:55:02.0000] <hsivonen>
abarth: I see.

[02:55:03.0000] <annevk>
yeah, User-Agent is a pain and bloat

[02:56:00.0000] <annevk>
kudos to Microsoft for promoting good detection practices on their blog

[02:56:01.0000] <abarth>
the part that gets me about it is how it makes it harder for browsers to fix their bugs

[02:56:02.0000] <annevk>
if only Google would take note...

[02:56:03.0000] <abarth>
:)

[02:57:00.0000] <hsivonen>
which reminds me that one of the things I have on my todo list today is working around GWT's on-by-default UA sniffing in V.nu live dom

[02:58:00.0000] <hsivonen>
http://groups.google.com/group/mozilla.dev.apps.seamonkey/msg/47f95dafd399495f?pli=1

[02:59:00.0000] <jgraham>
FWIW I agree with hsivonen about the <p><figure> thing

[02:59:01.0000] <abarth>
oh that FoxFire

[02:59:02.0000] <abarth>
always causing trouble

[03:00:00.0000] <othermaciej>
google sites have in the past had some of the worst UA checks I have ever seen

[03:01:00.0000] <hsivonen>
fwiw, if Mozilla executes on the currently announced Firefox 5.0 UA string plan, GWT apps would think Firefox 5.0 has Gecko < 1.8

[03:01:01.0000] <hsivonen>
s/would/will/

[03:05:00.0000] <jgraham>
GWT is evil

[03:05:01.0000] <jgraham>
evil

[03:05:02.0000] <hsivonen>
<svg><foreignObject><div><![CDATA[foo]]>

[03:06:00.0000] <hsivonen>
why should the CDATA thing parse as a bogus comment per spec?

[03:06:01.0000] <hsivonen>
(I understand we want it to parse as a bogus comment)

[03:06:02.0000] <hsivonen>
but I can't derive it from the spec

[03:06:03.0000] <jgraham>
hsivonen: The parent element is in the HTML namespace

[03:07:00.0000] <hsivonen>
/me re-checks the tokenizer spec

[03:07:01.0000] <abarth>
am i confused about http://www.w3.org/Bugs/Public/show_bug.cgi?id=10621 ?

[03:07:02.0000] <abarth>
i checked in Minefield, but Minefield doesn't seem to pass the tests I wrote about that part of the spec

[03:08:00.0000] <hsivonen>
abarth: I have unreviewed patches sitting in my queue

[03:09:00.0000] <hsivonen>
jgraham: the spec doesn't check the namespace of the current node. it checks if the tree builder is in the "in foreign content" mode

[03:09:01.0000] <jgraham>
hsivonen: Did you find it? In the markup declaration open state it says """Otherwise, if the insertion mode is "in foreign content" and the current node is not an element in the HTML namespace and the next seven characters are an case-sensitive match for the string "[CDATA[" (the five uppercase letters "CDATA" with a U+005B LEFT SQUARE BRACKET character before and after), then consume those characters and switch to the CDATA section state."""

[03:09:02.0000] <jgraham>
note "and the current node is not an element in the HTML namespace"

[03:10:00.0000] <hsivonen>
jgraham: ooh. when did the "and" part get added there?

[03:10:01.0000] <hsivonen>
jgraham: so why do we have "in foreign content" as a mode again? instead of always checking the namespace of the current node instead

[03:11:00.0000] <david_carlisle>
hsivonen: annotation-xml bug... Obviously Firefox has to have its production schedule and if that means it needs to go out implementing the currently broken parser specification, so be it,  but Firefox having gone out can't then be used as a reason for not fixing this bug in the spec which is pretty critical to MathML usage.

[03:11:01.0000] <abarth>
yeah, that's one of the annoying leaks of state from tree builder to tokenizer

[03:11:02.0000] <jgraham>
hsivonen: Ask Hixie :)

[03:11:03.0000] <abarth>
each one of those is tears

[03:11:04.0000] <jgraham>
abarth: Didn't hsivonen already file a bug on that?

[03:11:05.0000] <abarth>
it means things like the preload scanner don't get the right tokenization

[03:12:00.0000] <abarth>
oh, maybe, not sure

[03:12:01.0000] <hsivonen>
abarth: in Gecko it does!

[03:12:02.0000] <hsivonen>
off-the-main-thread parsing FTW!

[03:12:03.0000] <abarth>
how?

[03:12:04.0000] <abarth>
you run the whole treebuilder?

[03:12:05.0000] <hsivonen>
abarth: yes

[03:12:06.0000] <hsivonen>
abarth: there's no separate prescan

[03:12:07.0000] <abarth>
any then throw away the work if document.write ?

[03:12:08.0000] <hsivonen>
abarth: the speculative parse is the prescan

[03:12:09.0000] <hsivonen>
abarth: only if it's a bad kind of document.write

[03:13:00.0000] <hsivonen>
abarth: most document.writes are ok

[03:13:01.0000] <abarth>
do you tokenize for view-source?

[03:14:00.0000] <hsivonen>
david_carlisle: I have a hard time understanding the criticality, but I'll try again

[03:14:01.0000] <hsivonen>
abarth: the HTML5 parser isn't used for view source, yet, but the plan is to run the tree builder for view source

[03:14:02.0000] <abarth>
webkit just tokenizes and uses a different tree builder

[03:14:03.0000] <abarth>
that builds a colorization of the tokens as a DOM

[03:15:00.0000] <david_carlisle>
most mathml tools annotate the expressions they write so having annotations break in this frankly bizarre fashion means that it's not possible to use most mathml in html without first hand editing it, that's bad, 

[03:16:00.0000] <hsivonen>
abarth: that's how Gecko does it and will continue to do it

[03:16:01.0000] <hsivonen>
abarth: but the HTML5 tree building algorithm will have to run to get foreign land coloring right

[03:16:02.0000] <abarth>
that's true

[03:17:00.0000] <abarth>
i think we don't colorize that correctly today

[03:17:01.0000] <hsivonen>
HTML5 view source probably won't make it to Firefox 4

[03:17:02.0000] <hsivonen>
(unless maybe if the product drivers don't consider it a new feature)

[03:17:03.0000] <hsivonen>
it's definitely not making it for the feature freeze

[03:18:00.0000] <abarth>
the firefox release process is very strange

[03:18:01.0000] <abarth>
betas before feature freezes

[03:18:02.0000] <abarth>
i guess every browser has a strange release process

[03:20:00.0000] <abarth>
whoops.  we never removed the special case for the sarcasm tag

[03:20:01.0000] <hsivonen>
david_carlisle: and the tools today say encoding="application/xhtml+xml"?

[03:21:00.0000] <hsivonen>
abarth: how does WebKit take a deep breath? spin the event loop?

[03:21:01.0000] <abarth>
there's a comment and then a notImplement()

[03:21:02.0000] <abarth>
which means the end tag is ignored... :(

[03:23:00.0000] <annevk>
you have a bug in implementing </sarcasm>

[03:23:01.0000] <annevk>
now that's funny

[03:23:02.0000] <abarth>
yep

[03:23:03.0000] <abarth>
and it's going to ship in a stable release :P

[03:24:00.0000] <abarth>
so silly

[03:24:01.0000] <annevk>
Chrome 7 -- the one that didn't get </sarcasm> right ;p

[03:25:00.0000] <abarth>
https://bugs.webkit.org/show_bug.cgi?id=45645

[03:27:00.0000] <david_carlisle>
hsivonen: No of course not,  but.. needing to put on an attribute is very much a second choice, but the best we could get out of the bug reporting system it seemed, but tools and people can be instructed to add the attribute and most likely the existing uses of the annotation are unaffected. however if annotation is unusable then tools can't be fixed, the spec is just broken. The current...

[03:27:01.0000] <david_carlisle>
...behaviour is just so weird I had a hard time persuading the WG that it was actually specified that way (rather than just a software bug). I can understand product release cycles and code freezes but I can not understand  how anyone could possibly try to justify the parse tree that the current parse specification says should be produced. it is simply wrong.

[03:29:00.0000] <hsivonen>
david_carlisle: I don't see the point of putting HTML in an annotation

[03:30:00.0000] <hsivonen>
david_carlisle: I expect Hixie didn't, either

[03:30:01.0000] <hsivonen>
david_carlisle: if it's better expressed as MathML, why have HTML at all there? and if it's better expressed in HTML, why have MathML there?

[03:34:00.0000] <david_carlisle>
hsivonen:  "I don't see the point" perhaps, but we can't see the point of taking a perfectly well nested set of start and end tags and arbitrarily producing a tree for a completely different structure (that doesn't render at all) , So the "add an attribute" was the uneasy compromise that probably no one really liked that much.  The bug needs to be fixed somehow or we are in the nonsense of...

[03:34:01.0000] <david_carlisle>
...blocking objections and bureaucratic unpleasantness, which i really hoped we'd avoided.

[03:35:00.0000] <hsivonen>
david_carlisle: I might be able to suggest something better than "add an attribute" if I understood the existing usage patterns and their motivations

[03:37:00.0000] <david_carlisle>
hsivonen: maybe the html annotation is a proof step hint that just pops up on user interaction, maybe it's a list of references who knows?  annotation are like data- attributes, but allowing structured annotation. the whole point is that you, me, anyone is not supposed to second guess how they are to be used, they are a container for arbitrary user defined data.

[03:38:00.0000] <hsivonen>
david_carlisle: I see

[03:38:01.0000] <hsivonen>
and when MathML appears as an annotation, there's no new <math> root in the common case?

[03:39:00.0000] <david_carlisle>
hsivonen:  true

[03:39:01.0000] <hsivonen>
david_carlisle: ok. "add an attribute" is the best I can suggest

[03:39:02.0000] <david_carlisle>
hsivonen:  :-)

[03:39:03.0000] <hsivonen>
well, I suppose I should go ahead and implement it soonish

[03:40:00.0000] <david_carlisle>
hsivonen: stop chatting here and get to work (actually that applies to me too)

[03:45:00.0000] <hsivonen>
david_carlisle: well, figuring out what makes sense to implement is work, too

[03:46:00.0000] <annevk>
abarth, "callTheAdoptionAgency" lol

[03:46:01.0000] <abarth>
eric wanted a wittier name

[03:47:00.0000] <abarth>
but that's all we could think of

[03:47:01.0000] <othermaciej>
what does that function do?

[03:47:02.0000] <david_carlisle>
hsivonen:  OK you're forgiven than but probably I won't be, I need to go...

[03:48:00.0000] <abarth>
othermaciej: it goes and reparents a bunch of nodes

[03:48:01.0000] <annevk>
othermaciej, implements the adoption agency algorithm

[03:48:02.0000] <abarth>
othermaciej: to correct for mis-nested tags

[03:48:03.0000] <othermaciej>
abarth: I was thinking either giveUpForAdoption() or adopt() would be good names

[03:48:04.0000] <abarth>
its somewhat famous in HTML parsing circles

[03:48:05.0000] <othermaciej>
but it sounds like it does both, depending on your perspective

[03:48:06.0000] <abarth>
patches welcome :)

[03:49:00.0000] <abarth>
the spec sayeth

[03:49:01.0000] <othermaciej>
I know what the AAA is, I just wasn't sure what the parameters and behavior of this particular function were

[03:49:02.0000] <abarth>
'Because of the way this algorithm causes elements to change parents, it has been dubbed the "adoption agency algorithm" (in contrast with other possible algorithms for dealing with misnested content, which included the "incest algorithm", the "secret affair algorithm", and the "Heisenberg algorithm").'

[03:49:03.0000] <abarth>
it just takes the current token

[03:49:04.0000] <annevk>
hehe

[03:49:05.0000] <abarth>
like all the tree builder functions

[03:49:06.0000] <othermaciej>
I guess it is hard to make it a transitive verb then

[03:50:00.0000] <abarth>
but that's just how the tree builder works

[03:50:01.0000] <annevk>
I wonder when I'll forgot how each browser (used to) map to those names

[03:50:02.0000] <othermaciej>
I can figure out which is which from the names

[03:51:00.0000] <othermaciej>
maybe someday it won't be a memorable fact

[03:51:01.0000] <othermaciej>
(WebKit, Trident, Presto, Gecko in order of reference)

[03:52:00.0000] <othermaciej>
and I even vaguely remember why the other three have those names but even talking about what legacy IE does makes me shudder

[03:53:00.0000] <virtuelv>
othermaciej: are you implying the IE engine is a weapon?

[03:53:01.0000] <hsivonen>
btw, I was about to suggest a change to the AAA yesterday. maybe I'll get around to it today

[03:54:00.0000] <jgraham>
hsivonen: Should I be scared?

[03:54:01.0000] <hsivonen>
jgraham: no, I'd expect you to be happy about it

[03:55:00.0000] <hsivonen>
oops. actually my change is for putting stuff in the list of active formatting elements in the first place--not to the AAA

[03:55:01.0000] <othermaciej>
I wonder how the spec version of AAA avoids O(N^2) behavior in the cases where in the old WebKit parser we had to add hardcoded limits

[03:55:02.0000] <jgraham>
othermaciej: It doesn't

[03:55:03.0000] <othermaciej>
or rather I wonder how the WebKit implementation of the spec version does so

[03:55:04.0000] <hsivonen>
jgraham: I was thinking we should search the list for font elements with the same attributes as the current token

[03:55:05.0000] <hsivonen>
jgraham: then zap the first one on the list if there's a match

[03:55:06.0000] <hsivonen>
but only if the list is longer than n

[03:56:00.0000] <hsivonen>
for a carefully chosen n

[03:56:01.0000] <abarth>
othermaciej: we have limits

[03:56:02.0000] <hsivonen>
abarth: what do you limit?

[03:56:03.0000] <othermaciej>
I guess those tests are passing so there must be something

[03:56:04.0000] <jgraham>
hsivonen: Just to reduce the number of elements on the list?

[03:56:05.0000] <abarth>
the two loops

[03:56:06.0000] <hsivonen>
Gecko has a limit on the depth of the tree 

[03:57:00.0000] <abarth>
yeah, we don't have that yet, but i expect someone to complain

[03:57:01.0000] <hsivonen>
jgraham: to stop insane growth when pages open <font> without ever closing

[03:57:02.0000] <hsivonen>
and opening <font> a zillion times

[03:58:00.0000] <othermaciej>
I should probably see if I can get O(N^2) with variants of some of the cases I added as layout tests

[03:58:01.0000] <hsivonen>
so that reconstructing the active formatting elements reconstruct more and more every time

[03:58:02.0000] <jgraham>
The current gecko behaviour doesn't stop badness for well-chosen input

[03:58:03.0000] <hsivonen>
jgraham: I know

[03:58:04.0000] <jgraham>
I haven't tested webkit yet

[03:58:05.0000] <jgraham>
hsivonen: I know you know :)

[03:58:06.0000] <abarth>
the limits are different than the old parser

[03:58:07.0000] <hsivonen>
abarth: the depth limit is needed in Gecko, because Gecko's layout module has algorithms that are recursive along tree depth

[03:59:00.0000] <abarth>
webkit used to limit to 4k depth

[03:59:01.0000] <hsivonen>
and Windows has relatively small permitted call stack depth

[04:00:00.0000] <othermaciej>
WebKit has recursive algorithms too

[04:00:01.0000] <hsivonen>
othermaciej: interesting. how do you avoid crashing on Windows?

[04:00:02.0000] <othermaciej>
I kind of wish all recursive algorithms could be rewritten as iterative but it would be quite awkward in the case of layout

[04:00:03.0000] <othermaciej>
I think in practice other limits would kick in before the depth limit on bad input

[04:01:00.0000] <othermaciej>
there might also be a separate render tree limit but I don't recall

[04:01:01.0000] <othermaciej>
my design preference would be to not limit the dom around the render tree's limitations as probably nearly all dom algorithms could be made iterative without much hassle; and then depth limiting can be in the render tree if it exists at all

[04:02:00.0000] <othermaciej>
but that implies all sorts of nontrivial changes

[04:08:00.0000] <hsivonen>
abarth: did you check that the early exit from the AAA loops due to the limit doesn't leave the list of active formatting elements in a bad state?

[04:08:01.0000] <hsivonen>
/me has not gotten around to thinking through the implications

[04:09:00.0000] <abarth>
what bad states are there?

[04:09:01.0000] <hsivonen>
abarth: markers getting out of sync, I guess

[04:10:00.0000] <hsivonen>
but I think the AAA never removes a marker, does it?

[04:10:01.0000] <Rik`>
Why WebKit browsers add datalist { display: none; } ?

[04:10:02.0000] <abarth>
dunno.  eric wrote the AAA

[04:11:00.0000] <hsivonen>
maybe we should hard-code 10 as a limit in the spec if 10 is good enough

[04:12:00.0000] <Rik`>
it makes <datalist> useless for the time being :(

[04:12:01.0000] <abarth>
10 lets you build a really big tree

[04:12:02.0000] <hsivonen>
abarth: have you run this on Google data sets to see how often the limit is hit?

[04:13:00.0000] <abarth>
http://trac.webkit.org/browser/trunk/LayoutTests/fast/parser/residual-style-dom.html

[04:13:01.0000] <abarth>
nope

[04:13:02.0000] <annevk>
Rik`, shouldn't it be display:none?

[04:13:03.0000] <Rik`>
annevk: not if you don't support @list

[04:13:04.0000] <abarth>
http://trac.webkit.org/export/67375/trunk/LayoutTests/fast/parser/residual-style-dom-expected.txt

[04:13:05.0000] <annevk>
Rik`, oh... stupid

[04:14:00.0000] <Rik`>
annevk: btw, it's also broken in Opera but I can't even set display: block

[04:14:01.0000] <hsivonen>
abarth: isn't that testing "reconstruct active formatting element" as opposed to testing the AAA?

[04:15:00.0000] <annevk>
Rik`, data:text/html,<input list=x><datalist id=x><option value=test><option value=grr></datalist> wfm

[04:15:01.0000] <Rik`>
I'm using <option>test<option>grrr

[04:15:02.0000] <annevk>
interesting

[04:15:03.0000] <abarth>
hsivonen: there's no limit on reconstructing the active formatting elements

[04:16:00.0000] <annevk>
maybe we never supported that

[04:16:01.0000] <abarth>
hsivonen: i could be wrong about this stuff.  AAA is eric's area

[04:16:02.0000] <abarth>
(i make him do the hard stuff)

[04:16:03.0000] <Rik`>
annevk: is it supported in HTML5 now ?

[04:17:00.0000] <annevk>
dunno

[04:18:00.0000] <annevk>
Rik`, per HTML5 we have a bug yes

[04:18:01.0000] <Rik`>
annevk: but yeah, at least it's working with value=

[04:18:02.0000] <annevk>
value of option is either its value attribute or its textContent attribute

[04:19:00.0000] <Rik`>
I'm really angry at the webforms support in WebKit browsers :(

[04:19:01.0000] <hsivonen>
https://wiki.mozilla.org/User:Mounir.lamouri/HTML5_Forms#Shipping_Criteria FTW!

[04:21:00.0000] <Rik`>
this page is a bit out of date

[04:21:01.0000] <annevk>
yeah, Mozilla is doing it the right way

[04:22:00.0000] <Rik`>
I really enjoy working with Mounir although he's not in the Paris at the moment

[04:22:01.0000] <annevk>
Rik`, you work for Mozilla?

[04:22:02.0000] <Rik`>
currently

[04:22:03.0000] <abarth>
i might be misremembering, but i think some of the forms work in webkit was done by new contributors

[04:23:00.0000] <annevk>
ah

[04:23:01.0000] <Rik`>
my contract ends at the end of this week

[04:23:02.0000] <annevk>
abarth, someone from Google had the wrong idea too about some stuff iirc

[04:23:03.0000] <Rik`>
abarth: whoever worked on it, it should have never shipped in this state

[04:23:04.0000] <annevk>
i.e. that the UI-facing stuff could just be ignored

[04:24:00.0000] <hsivonen>
http://saintjohnchurchmiddletown.com/default.aspx has markup that exercises "reconstruct the active formatting elements" a lot

[04:24:01.0000] <hsivonen>
and they actually close </font> eventually!

[04:25:00.0000] <annevk>
heh

[04:25:01.0000] <abarth>
hsivonen: hum... that one definitely needs off-the-main-thread parsing

[04:25:02.0000] <annevk>
they expect logic and get HTML instead ;p

[04:26:00.0000] <abarth>
ok, bed time for me

[04:27:00.0000] <abarth>
night all

[04:58:00.0000] <annevk>
I'm starting to think that lots of stuff was kept on Node to make the Java case of casting the exception rather than the rule...

[04:59:00.0000] <annevk>
e.g. there's no reason for attributes to be on Node, and yet it is

[04:59:01.0000] <annevk>
or namespaceURI, or localName

[05:05:00.0000] <jgraham>
Oh, that makes more sense than my previous theory that the WG meeting happened in the same convention centre as a hippy gathering and the DOM WG got served the wrong brownies

[05:10:00.0000] <zcorpan_>
annevk: i thought fileapi didn't use domexception?

[05:11:00.0000] <annevk>
ms2ger wants to keep HTML5 and DOM Core consistent

[05:16:00.0000] <annevk>
jgraham, :)

[05:16:01.0000] <annevk>
hopefully we can undue some of the Java damage

[05:17:00.0000] <annevk>
I suppose the web will disagree, but I'm hoping nobody relies on namespaceURI returning null for e.g. Document and that undefined will be fine too

[05:25:00.0000] <zcorpan_>
if (!('namespaceURI' in document)) { breakPage(); }

[05:41:00.0000] <annevk>
yeah, those people

[07:56:00.0000] <boblet>
any microdata ppl around? random q for ya: why does itemtype not imply itemscope?

[07:56:01.0000] <hsivonen>
btoa(unescape(encodeURIComponent("\u0000")))

[07:57:00.0000] <hsivonen>
for the record, that's how to take a JS string and base64-encode the UTF-8 bytes

[07:57:01.0000] <zcorpan_>
boblet: iirc it did before (it was just called item="" or item="type"), but from the usability study it turned out to be confusing and having two attributes was better understood

[07:58:00.0000] <boblet>
zcorpan_: aah thanks. yeah I guessed ease of learning/parsing, nice to know I’m not too far off :)

[08:00:00.0000] <annevk>
did my bug just get hijacked: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10619 ?

[08:00:01.0000] <annevk>
it clearly says "other" in "component"...

[08:00:02.0000] <annevk>
oh well

[08:01:00.0000] <hsivonen>
MikeSmith: ^

[08:12:00.0000] <MikeSmith>
/me takes a lookg

[08:12:01.0000] <karlushi>
annevk, Bugzilla is confusing in terms of UI and indeed people read too quick sometimes. the Comment #1  seems to be out of scope indeed.

[08:12:02.0000] <MikeSmith>
btw, I will be turning off all Cc'ing of bug mail to the public-html list

[08:12:03.0000] <MikeSmith>
PhilippJ is right

[08:13:00.0000] <MikeSmith>
we need to find better ways to help WG members stay informed about bugs

[08:13:01.0000] <annevk>
ideally we'd use public-html for technical discussion

[08:13:02.0000] <annevk>
but that might be too high a bar

[08:13:03.0000] <hsivonen>
looks like Gecko doesn't support DONE property on xhr

[08:13:04.0000] <hsivonen>
need to use 4

[08:14:00.0000] <hsivonen>
so the examples in the spec don't work

[08:14:01.0000] <annevk>
I just changed those to use DONE

[08:14:02.0000] <annevk>
Opera doesn't support it either

[08:14:03.0000] <hsivonen>
annevk: I've sent a couple of technical emails. let's see how that goes

[08:14:04.0000] <karlushi>
MikeSmith, something that could be helpful but would take a lot more time and resources is a weekly summary of the bugs 

[08:14:05.0000] <annevk>
I'd appreciate if people start fixing their bugs in http://tc.labs.opera.com/apis/XMLHttpRequest

[08:15:00.0000] <MikeSmith>
annevk: I don't know what you mean by hijacked -- history of changes to the bug doen't show anything changing in component - http://www.w3.org/Bugs/Public/show_activity.cgi?id=10619

[08:15:01.0000] <hsivonen>
annevk: anyway, on a more positive note, \0 and CR aren't tampered with

[08:15:02.0000] <hsivonen>
annevk: http://hsivonen.iki.fi/test/moz/xhr-text.html

[08:16:00.0000] <annevk>
MikeSmith, oh, nothing like that happened

[08:16:01.0000] <MikeSmith>
karlushi: probably for some people, but a lot of other people would still not read it

[08:16:02.0000] <annevk>
hsivonen, cool, I should add that to the testsuite

[08:16:03.0000] <annevk>
the only interesting bugs are those that affect the big picture

[08:16:04.0000] <annevk>
and those are no longer filed, afaict

[08:17:00.0000] <hsivonen>
my priorities probably differ from the priorities of Web developers

[08:17:01.0000] <hsivonen>
I care more about \0 and CR

[08:17:02.0000] <MikeSmith>
annevk, hsivonen - just wondering what if anything requires my attention here -- thought Henri was pinging me about that bug

[08:18:00.0000] <annevk>
MikeSmith, I was complaining about the comment being added

[08:18:01.0000] <annevk>
MikeSmith, you can go back to sleep :)

[08:18:02.0000] <hsivonen>
MikeSmith: is it permitted to use that bugzilla component for developing specs that aren't yet at the W3C?

[08:18:03.0000] <karlushi>
annevk, MikeSmith : In the current design of Bugzilla, what are the labels which are useless? I see things like WhiteBoard

[08:19:00.0000] <karlushi>
MikeSmith, indeed some people would not read it. :/

[08:19:01.0000] <annevk>
karlushi, for the HTML WG?

[08:19:02.0000] <karlushi>
annevk, yes only for the htmlwg bugzilla

[08:19:03.0000] <annevk>
karlcow, version, platform, target milestone, QA contact

[08:20:00.0000] <annevk>
importance prolly only needs the text label, not the p1-5

[08:20:01.0000] <MikeSmith>
hsivonen: yes, it absolutely is.. we set up that bugzilla product for people who want to comment on any online version of the spec

[08:21:00.0000] <hsivonen>
MikeSmith: thanks. I guess shelley isn't aware

[08:21:01.0000] <MikeSmith>
yeah, well

[08:23:00.0000] <MikeSmith>
I leave it to Hixie or anybody else who wants to respond there to clarify that if they want

[08:26:00.0000] <MikeSmith>
(not that I'm saying that it actually needs any explicit clarification)

[08:31:00.0000] <karlushi>
http://www.symphonious.net/2010/09/12/content-types-matter/

[08:33:00.0000] <zcorpan_>
Tivoli Access Manager should have used the same sniffing algorithm as browsers (although it might not have helped in that case since <script src> is a specific context that Tivoli Access Manager might not know about)

[08:35:00.0000] <hsivonen>
zcorpan_: indeed

[08:35:01.0000] <hsivonen>
I like this bit: "Tivoli Access Manager is an interesting and powerful beast that never seems to be configured right."

[08:35:02.0000] <hsivonen>
back in 2003 when I was exposed to Tivoli Access Manager, it had a severe pipelining bug

[08:36:00.0000] <hsivonen>
if you made pipelined requests, it would return the right set of responses, but the responses would be to the wrong requests

[08:36:01.0000] <hsivonen>
so requesting a bunch of images made the images switch places on the page

[08:38:00.0000] <zcorpan_>
heh

[08:38:01.0000] <karlushi>
http randomizer? :)

[08:39:00.0000] <zcorpan_>
wonder if we have that in our regression testing system (sometimes it seems like it)

[08:58:00.0000] <annevk>
hmm, should DOM Core have contains()?

[09:02:00.0000] <hsivonen>
fwiw, I think COM / C++ is also to blame for "everything on Node" design. not just Java.

[09:05:00.0000] <MikeSmith>
is Node perceived as a negative reaction against Java?

[09:06:00.0000] <annevk>
well, my theory was that lots of stuff was put on Node to reduce the need for casting in Java

[09:06:01.0000] <annevk>
e.g. namespaceURI, localName, the works

[09:06:02.0000] <Philip`>
MikeSmith: Are you talking about the DOM Node interface, or Node.js?

[09:07:00.0000] <hsivonen>
also for reduced need to call QueryInterface in COM

[09:07:01.0000] <MikeSmith>
oh

[09:07:02.0000] <MikeSmith>
Philip`: sorry, I misunderstoo

[09:07:03.0000] <MikeSmith>
d

[09:07:04.0000] <MikeSmith>
ignore me

[09:22:00.0000] <zcorpan_>
hsivonen: iirc i have suggested not reconstructing on spaces before (and old gecko ignored linebreaks) although Hixie said the spec is the way it is for compat but didn't have a list of urls

[09:23:00.0000] <zcorpan_>
hsivonen: i've also seen author confusion at sitepoint forums about reconstructing for whitespace

[09:25:00.0000] <hsivonen>
zcorpan_: having to have it that way for compat seems odd

[09:26:00.0000] <hsivonen>
zcorpan_: what are people confused about on sitepoint? I thought the sitepoint folks would have clean enough code not to see it. ;-)

[09:27:00.0000] <zcorpan_>
someone had typoed </a> as <a/> and went WTF about the resulting DOM in webkit and new gecko

[09:27:01.0000] <hsivonen>
I see

[09:49:00.0000] <hober>
TabAtkins: made several changes to http://www.w3.org/html/wg/wiki/User:Eoconnor/ISSUE-41 over the weekend--added a use case (thanks hsivonen), rejiggered various other bits.

[10:31:00.0000] <zcorpan_>
if we're going to change the handshake in incompatible ways again, i hope we make it more straightforward to implement so that articles like these don't need to be written http://deusty.blogspot.com/2010/09/websocket-draft-76-algorithm-example.html

[10:51:00.0000] <TabAtkins>
hsivonen: Commented on the <p><figure> bug with support.

[10:52:00.0000] <hsivonen>
TabAtkins: thanks

[10:52:01.0000] <hsivonen>
TabAtkins: fwiw, the private feedback I've gotten (1 person) was about the same

[11:19:00.0000] <hober>
I've always emulated <figure> with <div>, not <span>

[11:19:01.0000] <hober>
so it seems weird to me to want <figure> as a child of <p>

[11:19:02.0000] <TabAtkins>
I know that I've written plain-text where I have figures inside of paragraphs.

[11:20:00.0000] <TabAtkins>
In fact, I do it regularly in technical emails, where I'll have a sample of code in the middle of a sentence.

[11:25:00.0000] <zcorpan_>
TabAtkins: maybe you sometimes also have a list or a table in the middle of a sentence?

[11:26:00.0000] <TabAtkins>
zcorpan_: Yes, but less commonly.  Presumably those have legacy constraints, though.

[11:27:00.0000] <annevk>
it gets icky when you do <p><figure><ol> though

[11:27:01.0000] <annevk>
or <p><figure><table>

[11:27:02.0000] <TabAtkins>
Icky in precisely which way?  From a spec-writing standpoint, an implemention standpoint, or an authoring standpoint?

[11:27:03.0000] <annevk>
hsivonen, so would those have to be disallowed? or do you want to make <figure> scoping which seems kind of hackish...

[11:27:04.0000] <annevk>
all

[11:28:00.0000] <annevk>
apart from the first, prolly

[11:28:01.0000] <annevk>
and the second does not matter much either

[11:28:02.0000] <TabAtkins>
I don't know about authoring.  I mean, the fact that <p><ol> wouldn't work but <p><figure><ol> might is *dumb*, but not a *problem*, per se.  It's just a stupid platform quirk.

[11:30:00.0000] <annevk>
it's not dumb, it's confusing as hell

[11:32:00.0000] <hober>
the way <p> auto-closes is weird, but it's not going away. given that, it seems like new elements should behave like their closest-analog old elements. so <section> auto-closes <p> because <div> does, etc.

[11:33:00.0000] <TabAtkins>
I prefer, when legacy behavior is retarded, to instead fix the behavior going forward rather than trying to remain consistent with the retarded behavior.  Foolish consistency, hobgoblin, little minds, etc.

[11:34:00.0000] <hober>
we at least want the language to cohere. given that <div> and the other old "block" elements auto-close <p>, as an author I expect <article> to, and would be (even more) weirded out if it didn't.

[11:35:00.0000] <hober>
I mean, I can at least sort-of make sense of the legacy auto-closing. If <article> didn't auto-close <p>, suddenly the weird-but-kinda-makes-sense auto-closing rules are even less predictable

[11:39:00.0000] <annevk>
I would not say it is "retarded"

[11:40:00.0000] <annevk>
and I also do not think that having half the features work one way and half the features work another way is a win

[11:42:00.0000] <TabAtkins>
On the other hand, neither is having all of the features work the wrong way.

[11:45:00.0000] <paul_irish>
annevk: is window.media.matchMedium gone from the spec?

[11:46:00.0000] <paul_irish>
gone forever? :'(

[11:49:00.0000] <annevk>
euh no?

[11:49:01.0000] <annevk>
we just redesigned the feature

[11:55:00.0000] <paul_irish>
annevk: good good. where can i find the latest ?

[12:02:00.0000] <annevk>
same draft?

[12:02:01.0000] <annevk>
it's called matchMedia and lives on window now

[12:02:02.0000] <paul_irish>
thx

[12:02:03.0000] <annevk>
http://dev.w3.org/csswg/cssom-view/#dom-window-matchmedia

[12:19:00.0000] <zcorpan_>
does someone have an example at hand of a utf-8 byte sequence of a 3 or 4-byte overlong form?

[12:19:01.0000] <TabAtkins>
What's an "overlong form"?  Anything that's 3 or 4 bytes in utf-8?

[12:19:02.0000] <zcorpan_>
"a sequence that decodes to a value that should use a shorter sequence"

[12:20:00.0000] <TabAtkins>
Oh, gotcha.  So called because there are boundary conditions where a value could be validly written with or without the extra byte.  Ok.

[12:20:01.0000] <annevk>
zcorpan_, they're easy to construct from http://en.wikipedia.org/wiki/UTF-8

[12:21:00.0000] <TabAtkins>
Just look at the end of the ranges for any given byte-length.  Anything sufficiently close to the end should be capable of being rewritten as an overlong form, though I'd have to do some work to actually determine what "sufficiently close" is.

[12:21:01.0000] <TabAtkins>
Probably just the last one or two of each range.

[12:22:00.0000] <annevk>
e.g. E0 80 80 80

[12:22:01.0000] <TabAtkins>
Or, no, you can construct an overlong from from any character, right?

[12:22:02.0000] <annevk>
that latest 80 is out of range

[12:23:00.0000] <annevk>
there's also start of 5 and 6 byte sequences but in theory they ought to be treated as a single invalid byte now, I think

[12:23:01.0000] <zcorpan_>
annevk: E0 is a 3-byte sequence. you gave a 4-byte sequence...

[12:24:00.0000] <annevk>
oh sorry

[12:25:00.0000] <annevk>
so there are 3/4 byte overlong forms?

[12:26:00.0000] <zcorpan_>
i'm not sure

[12:26:01.0000] <TabAtkins>
Would, say, F0 80 80 60 work?  (A space, expanded out to 4 bytes.)

[12:26:02.0000] <zcorpan_>
TabAtkins: 60 isn't a continuation byte

[12:27:00.0000] <TabAtkins>
Urgh, right.  Sorry.  I meant A0

[12:28:00.0000] <zcorpan_>
thanks

[12:28:01.0000] <zcorpan_>
seems webkit and gecko turn that into a u+fffd but opera doesn't

[12:29:00.0000] <annevk>
  0xC0 0x8A

[12:29:01.0000] <annevk>
  0xE0 0x80 0x8A

[12:29:02.0000] <annevk>
  0xF0 0x80 0x80 0x8A

[12:29:03.0000] <annevk>
  0xF8 0x80 0x80 0x80 0x8A

[12:29:04.0000] <annevk>
  0xFC 0x80 0x80 0x80 0x80 0x8A

[12:29:05.0000] <annevk>
via http://www.cl.cam.ac.uk/~mgk25/unicode.html

[12:32:00.0000] <hsivonen>
annevk: I'd prefer to make <figure> scoping, yes. 

[12:38:00.0000] <annevk>
zcorpan_, I think what you wrote there should be part of the "web UTF-8" spec (or just the UTF-8 spec if everyone can agree on decoding worldwide)

[12:38:01.0000] <annevk>
doesn't really make sense to me to handle UTF-8 decoding specifics as part of HTML5

[12:38:02.0000] <zcorpan_>
annevk: sure

[12:39:00.0000] <Hixie>
that would make my life so much easier

[12:40:00.0000] <Hixie>
btw i'm officially on vacation for the next two weeks -- i'll be online some of the time but not always

[12:40:01.0000] <annevk>
it's also a problem for instance for responseText

[12:41:00.0000] <annevk>
ooh, have fun

[12:41:01.0000] <zcorpan_>
starting today?

[12:46:00.0000] <MikeSmith>
so... Philip Jägenstedt has said in the past that he finds the volume of automated bug notifications on the public-html list and the a11y-tf list to be excessive

[12:47:00.0000] <hsivonen>
Hixie: have a good vacation

[12:47:01.0000] <MikeSmith>
Hixie: yeah, enjoy your break

[12:47:02.0000] <zcorpan_>
+1

[12:48:00.0000] <hsivonen>
I guess this means I'll have to file my pending mailing list questions as bugs in order to have them on file by the cutoff

[12:49:00.0000] <annevk>
MikeSmith, maybe email should go to public-html once a bug is resolved/reopened?

[12:49:01.0000] <annevk>
MikeSmith, though then I guess spam that gets closed as INVALID will be emailed too...

[12:49:02.0000] <annevk>
hmm

[12:50:00.0000] <zcorpan_>
some bugs are resolved and reopened lots of times

[12:51:00.0000] <MikeSmith>
annevk: I'm redirecting it to the issue-tracking list

[12:51:01.0000] <MikeSmith>
which is where we should have had it going to begin with

[12:52:00.0000] <MikeSmith>
having bug notifications going to a technical discussion list is an anti-pattern

[12:52:01.0000] <annevk>
ah, I'm not on that list

[12:52:02.0000] <zcorpan_>
/me would prefer to have no bugmail on public-html

[12:52:03.0000] <annevk>
I think it's great that bugmail goes to public-webapps

[12:53:00.0000] <annevk>
but it's a very different kind of bugmail

[12:53:01.0000] <annevk>
much like it's a very different kind of email that goes to public-webapps

[12:53:02.0000] <annevk>
you know, technical debate :)

[12:58:00.0000] <annevk>
Ms2ger, zcorpan_, gsnedders, for DOM Core you may not get listed as editor unless you somehow join the WG

[12:58:01.0000] <annevk>
I thought of adding something like this to the acknowledgments instead

[12:59:00.0000] <Ms2ger>
Fine with me

[12:59:01.0000] <zcorpan_>
me too

[12:59:02.0000] <annevk>
"Many thanks to ms2ger, Simon Pieters, and Geoffrey Sneddon for editing the initial 80% of this specification."

[13:00:00.0000] <annevk>
s/ms2ger/Ms2ger/ I guess

[13:00:01.0000] <Ms2ger>
Please :)

[13:16:00.0000] <zcorpan_>
wonder how i missed http://www.w3.org/Bugs/Public/show_bug.cgi?id=10343 in opera's impl

[13:29:00.0000] <zcorpan_>
wonder how many people will file a bug about "outlinee"

[13:31:00.0000] <Ms2ger>
Half a dozen so far?

[13:32:00.0000] <zcorpan_>
there were probably half a dozen before bugzilla also

[13:34:00.0000] <MikeSmith>
about http://hg.diveintohtml5.org/hgweb.cgi/rev/6067cc62b7016825817aa047cef52bc8ee8d7d5f

[13:34:01.0000] <MikeSmith>
I thought that some versions of IE would go into quirks mode if you had anything before the doctype

[13:34:02.0000] <MikeSmith>
is that not that case?

[13:35:00.0000] <hsivonen>
comments, including bogus one like XML decl, are bad in IE6

[13:36:00.0000] <Rik`>
I just discovered http://www.whatwg.org/specs/web-apps/current-work/multipage/scripting-1.html#script-processing-for

[13:36:01.0000] <zcorpan_>
comments, including bogus one except the XML decl (if it's on one line, iirc), are bad in IE7-8 (dunno about 9)

[13:36:02.0000] <Rik`>
that's kind of weird to only allow one value for this

[13:37:00.0000] <zcorpan_>
Rik`: allow? <script for> is invalid

[13:37:01.0000] <Ms2ger>
It's the only value that matters for compat

[13:37:02.0000] <Rik`>
zcorpan_: I mean you can only use it for window.onload

[13:38:00.0000] <zcorpan_>
except it's not equivalent to window.onload at all

[13:39:00.0000] <Rik`>
it's just a "check" to abort if those attributes use a different value ?

[13:39:01.0000] <zcorpan_>
yeah

[13:40:00.0000] <Rik`>
what's the point ?

[13:40:01.0000] <zcorpan_>
compat

[13:40:02.0000] <Rik`>
which browsers does that ?

[13:41:00.0000] <zcorpan_>
gecko and webkit match the spec, i think, and ie ... i don't know what ie does exactly

[13:41:01.0000] <zcorpan_>
opera ignores these currently

[13:41:02.0000] <Rik`>
Webkit just added it (http://peter.sh/2010/09/last-week-asynchronous-script-execution-and-gpu-acceleration-by-default/)

[13:41:03.0000] <zcorpan_>
the attributes that is

[13:42:00.0000] <zcorpan_>
yeah, webkit found they needed it for compat a few months ago

[13:42:01.0000] <zcorpan_>
which is why it's in the spec now

[13:42:02.0000] <Rik`>
who did invented this ?

[13:43:00.0000] <Rik`>
that's completely weird

[13:43:01.0000] <Peter->
apparently comedycentral.com was depending on it

[13:43:02.0000] <zcorpan_>
i think ie invented it (but with real events), mozilla implemented a hack for compat with something that was ie-only

[13:43:03.0000] <zcorpan_>
and now webkit copied mozilla and that's what's in hte spec

[13:44:00.0000] <Peter->
https://bugs.webkit.org/show_bug.cgi?id=45310#c8

[13:44:01.0000] <Rik`>
that's a great exemple of how web content is fucked up

[13:45:00.0000] <zcorpan_>
you'll get used to it :)

[13:45:01.0000] <Rik`>
well, I think that's the weirdest one I've seen

[13:46:00.0000] <annevk>
you don't think <table>test -> test<table> is weird?

[13:46:01.0000] <annevk>
or <image> -> <img>

[13:46:02.0000] <Rik`>
not that much

[13:48:00.0000] <zcorpan_>
should we replace 'This section is non-normative' with 'This section has no conformance requirements'?

[13:57:00.0000] <annevk>
yeah maybe

[13:57:01.0000] <annevk>
conformance requirements is somewhat clearer than non-normative

[13:58:00.0000] <zcorpan_>
i remember at first when i read specs, i didn't understand what normative/informative/non-normative meant

[13:59:00.0000] <annevk>
same, i recall being somewhat proud when I got it :)

[14:19:00.0000] <zcorpan_>
i remember thinking it was stupid terminology :P

[14:20:00.0000] <annevk>
heh

[14:21:00.0000] <annevk>
I guess DOM Core does not need to say much about baseURI

[14:21:01.0000] <annevk>
hmm, it's on Node again o_O

[14:21:02.0000] <annevk>
oh, and it's even readonly...

[14:28:00.0000] <zcorpan_>
iirc baseURI needs to be on Node, or at least Element

[14:29:00.0000] <annevk>
Element/Document would make sense to me

[14:31:00.0000] <annevk>
I guess they should be set at the markup language level

[14:31:01.0000] <annevk>
so DOM Core just needs to provide some hooks somehow

[14:36:00.0000] <annevk>
DOM3Core doesn't even define baseURI in detail for the various node types... I guess it could just inherit, but what about DocumentFragment?

[14:36:01.0000] <zcorpan_>
annevk: i didn't realize DOMException inherited from Error when i added name and message to the spec

[14:37:00.0000] <annevk>
k

[14:38:00.0000] <annevk>
I filed the relevant bugs on Web IDL to redo the way we do exceptions

[14:53:00.0000] <AryehGregor>
Hmm, as of last update http://aryeh.name/tests/reflection.html gives a sad tab in Chrome dev.  :(

[16:18:00.0000] <gsnedders>
/me rejoices from his initial fears about his flatmates all being crazy, finding one other that's totally sane, and another who's mostly

[16:26:00.0000] <AryehGregor>
Yay, my reflection tests cause WebKit nightlies to crash.

[16:54:00.0000] <mikekelly>
is it valid html to stick a link element in the body  ?


2010-09-14
[17:31:00.0000] <openstandards>
evening all

[19:45:00.0000] <micheil>
is <meta http-equiv="X-UA-Compatible" content="IE=edge" /> valid html5?

[19:49:00.0000] <Anti-X>
why wouldn't it be?

[19:49:01.0000] <MikeSmith>
micheil: no, it's not valid

[19:49:02.0000] <micheil>
okay

[19:50:00.0000] <micheil>
I wasn't sure, I'd just seen it in several places, including ALA

[19:50:01.0000] <MikeSmith>
the value of the http-equiv attribute is constrained to being an enumerated list

[19:50:02.0000] <Anti-X>
really?

[19:50:03.0000] <MikeSmith>
Anti-X: yeah

[19:50:04.0000] <MikeSmith>
that's one thing that's changed in HTML5

[19:51:00.0000] <MikeSmith>
micheil: yeah, some individual people at ALA came out in support of it

[19:51:01.0000] <Anti-X>
i didn't think values of meta attributes would ever matter

[19:51:02.0000] <micheil>
okay, but it's not actually part of the strict standards

[19:51:03.0000] <Anti-X>
for validity purposes

[19:51:04.0000] <MikeSmith>
oh whoops

[19:51:05.0000] <MikeSmith>
I meant WASP

[19:53:00.0000] <MikeSmith>
it matters because we want to help authors be aware that only certain values have an effect, and only certain values have agreed-upon semantics

[19:54:00.0000] <MikeSmith>
e.g., some people think they can set HTTP headers on the client side somehow by using the http-equiv attribute

[19:55:00.0000] <MikeSmith>
or they think at least that browsers will have behavioral responses to whatever values are set there

[19:55:01.0000] <micheil>
right, which isn't correct, yes?

[19:59:00.0000] <MikeSmith>
right

[20:00:00.0000] <MikeSmith>
http://dev.w3.org/html5/markup/meta.html#meta gives an overview

[20:01:00.0000] <MikeSmith>
if you click on the circled i links, that will take you to the corresponding info in the actual HTML5 spec

[20:02:00.0000] <MikeSmith>
micheil: on a different subject, do you happen to now how often the v8 subdir in the node source repo is updated

[20:03:00.0000] <micheil>
umm..

[20:03:01.0000] <MikeSmith>
if there's some update policy

[20:03:02.0000] <micheil>
when ever v8 is usually

[20:03:03.0000] <MikeSmith>
OK

[20:03:04.0000] <MikeSmith>
well, v8 has two branches

[20:03:05.0000] <MikeSmith>
trunk and "bleeding edge"

[20:04:00.0000] <MikeSmith>
changes were pushed from bleeding-edge to trunk yesterday

[20:04:01.0000] <MikeSmith>
so I guess I should just check to see if they made it into the node repo yet

[20:04:02.0000] <MikeSmith>
v8 trunk version is now at 2.4.3

[20:20:00.0000] <paul_irish>
micheil: for both ie=edge and chromeframe, headers can be sent that do the same thing (and get around the validation problem)

[20:20:01.0000] <paul_irish>
but.. yeah the validator bitches about it. ohwell.

[20:21:00.0000] <paul_irish>
one of the more prominent cases where best practices conflict with conformance.

[20:21:01.0000] <hober>
MikeSmith: I've made a lot of progress on the elisp tokenizer lately

[20:22:00.0000] <MikeSmith>
super

[20:22:01.0000] <hober>
hoping to get it to an experimentally-useful state in the next couple of weeks

[20:22:02.0000] <hober>
I think 80% of desirable major mode features can be tackled with just a tokenizer backend

[20:22:03.0000] <hober>
the remaining 20% will require the tree builder

[22:52:00.0000] <wirepair>
not sure who here updates the whatwg wiki but some of the images are broken on: http://wiki.whatwg.org/wiki/index.php?title=Rationale

[00:26:00.0000] <annevk>
great, so now public-html gets spammed with NotInW3CSpecYet

[00:26:01.0000] <annevk>
funny

[00:27:00.0000] <annevk>
hsivonen, are you following the thread on www-dom regarding exposing the keyboard locale?

[00:29:00.0000] <annevk>
hsivonen, given your bugs on reducing the uniqueness of users

[00:52:00.0000] <annevk>
http://www.phoboslab.org/biolab/ -- yay, old school type games in JavaScript :)

[00:54:00.0000] <wirepair>
wow that is neat.

[00:56:00.0000] <annevk>
http://blogs.msdn.com/b/ie/archive/2010/09/13/web-standards-from-working-draft-to-recommendation.aspx -- no mention of XMLHttpRequest

[00:56:01.0000] <annevk>
typical

[00:59:00.0000] <annevk>
oh god

[00:59:01.0000] <annevk>
Microsoft promotes unknown elements with this tagline

[00:59:02.0000] <annevk>
"This allows you to semantically describe the content of your page without losing any of the power you have with normal elements, using the same code as you would in other browsers."

[00:59:03.0000] <annevk>
fail

[01:04:00.0000] <hsivonen>
annevk: where's the quote from?

[01:06:00.0000] <annevk>
IE blog

[01:06:01.0000] <annevk>
http://blogs.msdn.com/b/ie/archive/2010/09/13/interoperable-html-parsing-in-ie9.aspx

[01:07:00.0000] <hsivonen>
annevk: 386 time!

[01:09:00.0000] <annevk>
I guess -- though I already pointed this out in 2005: http://annevankesteren.nl/2005/05/generic-xml

[01:33:00.0000] <jgraham>
386 time?

[01:34:00.0000] <annevk>
correcting people on the interwebs

[01:34:01.0000] <annevk>
see last two blog posts I made

[01:34:02.0000] <jgraham>
Oh

[01:34:03.0000] <jgraham>
xkcd :)

[01:34:04.0000] <annevk>
:)

[01:35:00.0000] <annevk>
http://twitter.com/foolip/status/24457028326 notices it too

[01:38:00.0000] <jgraham>
That is the biggest WTF, but I also have to wonder why they copied the webkit AAA rather than the HTML5 one

[01:38:01.0000] <jgraham>
In fact if they were rewriting the parser, why not just go for the HTML5 one from the start

[01:39:00.0000] <annevk>
euh yeah, dunno

[01:43:00.0000] <jgraham>
Oh, I see abarth already asked that :)

[01:43:01.0000] <phrearch>
hi

[01:43:02.0000] <abarth>
yeah, that blog post makes no sense

[01:43:03.0000] <phrearch>
i wonder whether websockets can be used for file uploads

[01:48:00.0000] <jgraham>
phrearch: Well yes, it's just getting access to the file that is the problem

[01:49:00.0000] <phrearch>
jgraham: reading up on it, it seemed everyone is using a post-to-iframe hack

[01:49:01.0000] <phrearch>
found something about new file functionality in http://soakedandsoaped.com/articles/read/firefox-3-native-ajax-file-upload

[01:50:00.0000] <phrearch>
webkit doesnt seem to support this though :(

[01:50:01.0000] <phrearch>
like getting the file as binary in js

[01:51:00.0000] <phrearch>
and then send it over the wire using whatever technique is available

[01:51:01.0000] <jgraham>
Yeah, not really sure what the state of support of the FileAPI is

[01:51:02.0000] <jgraham>
Websockets in particular currently only supports text uploads but one can always e.g. base64 encode stuff (in exchange for larger file size)

[01:52:00.0000] <phrearch>
yea that would be an idea

[01:52:01.0000] <Peter`>
Ericsson added binary data support for WebSockets for their Device experiments (https://labs.ericsson.com/blog/beyond-html5-conversational-voice-and-video-implemented-webkit-gtk)

[01:52:02.0000] <jgraham>
Binary will be supported in the future once we have a proper binary array type standard

[01:52:03.0000] <phrearch>
checking if getAsBinary is supported in later versions of chrome

[01:53:00.0000] <phrearch>
ow cool!

[01:53:01.0000] <annevk>
jgraham, thanks for "WTF" -- http://annevankesteren.nl/2010/09/generic-elements

[01:53:02.0000] <phrearch>
webcam support in html5 :)

[01:54:00.0000] <phrearch>
would be interesting to see a voice solution with js-only :)

[01:56:00.0000] <jgraham>
annevk: drop ", to be perfectly clear", it reads badly (imho) and it should probably be "will have the semantic meaning"

[01:58:00.0000] <phrearch>
i wonder why binary support is still not in websockets

[01:58:01.0000] <phrearch>
err in the specs

[01:59:00.0000] <annevk>
jgraham, thanks! fixed

[01:59:01.0000] <annevk>
phrearch, it is in some specs

[02:00:00.0000] <phrearch>
annevk: hope it gains some momentum

[02:01:00.0000] <annevk>
it has

[02:02:00.0000] <annevk>
will prolly take another year or so for it to reach stability

[02:03:00.0000] <phrearch>
cant wait :)

[02:11:00.0000] <phrearch>
hm, xhr2 seems to have an upload thingy

[02:12:00.0000] <hsivonen>
annevk: 'it' being Web Sockets?

[02:13:00.0000] <annevk>
octet APIs

[02:14:00.0000] <annevk>
is it octet or binary? I always wonder what the proper term here is...

[02:14:01.0000] <annevk>
or maybe byte?

[02:15:00.0000] <hsivonen>
byte unless you want to use IETF-speak

[02:19:00.0000] <annevk>
so the hard parser limits being discussed are only for the invalid cases right?

[02:19:01.0000] <annevk>
or did I miss something?

[02:21:00.0000] <hsivonen>
annevk: I suggested on limitation that'd apply to deep nesting of currently conforming formatting elements, too

[02:21:01.0000] <hsivonen>
s/on/one/

[02:22:00.0000] <annevk>
oh, that seems less nice

[02:22:01.0000] <hsivonen>
annevk: but that could easily be addressed by making insanely nesting <i> non-conforming

[02:22:02.0000] <hsivonen>
like <i> nested ten deep

[02:22:03.0000] <annevk>
new Web DOM Core snapshot: http://lists.w3.org/Archives/Public/www-archive/2010Sep/att-0015/Overview.html

[02:27:00.0000] <zcorpan_>
MikeSmith: NotInW3CSpecYet implies that it's going to be?

[02:28:00.0000] <zcorpan_>
MikeSmith: isn't the component "other hixie drafts" the same thing?

[02:31:00.0000] <zcorpan_>
is http://www.w3.org/Bugs/Public/show_bug.cgi?id=10586 the start of element creep in websrt? (i can imagine mathml in subtitles)

[02:32:00.0000] <annevk>
heh, didn't even notice the implication of "Yet"

[02:34:00.0000] <nessy>
I wished there was proper names on those bug submissions, not just contributor⊙.

[02:34:01.0000] <hsivonen>
zcorpan_: innerHTML parsing in SRT FTW

[02:35:00.0000] <zcorpan_>
hsivonen: yeah it's possible that we end up with that in the end

[02:36:00.0000] <hsivonen>
zcorpan_: it would be nice if Hixie gave in and we didn't have to walk the path of speccing and prototyping something else first

[02:37:00.0000] <zcorpan_>
http://www.businessinsider.com/disney-hates-on-html5-2010-9 what do they mean with 'no room for ads'?

[02:38:00.0000] <nessy>
probably ads in video, I would think

[02:38:01.0000] <hsivonen>
zcorpan_: I think they are also confusing "copyright protection" with TPM

[02:38:02.0000] <zcorpan_>
yeah, but surely that's possible with <video>

[02:39:00.0000] <jgraham>
MathML in subtitles would be awesome

[02:39:01.0000] <jgraham>
I mean insane

[02:39:02.0000] <jgraham>
But the awesome kind of insane

[02:39:03.0000] <nessy>
insanely awesome :)

[02:39:04.0000] <hsivonen>
jgraham: subtitled math lectures

[02:40:00.0000] <jgraham>
hsivonen: Yes, I see the sue case

[02:40:01.0000] <jgraham>
*use

[02:40:02.0000] <jgraham>
(bad typo)

[02:40:03.0000] <hsivonen>
I'd rather support MathML than karaoke

[02:40:04.0000] <jgraham>
But it seems like it would be hard to keep up

[02:40:05.0000] <hsivonen>
from the technical req POV

[02:41:00.0000] <jgraham>
Captions are typically ephemeral

[02:41:01.0000] <jgraham>
but equations need to stay up a long time to digest and copy

[02:41:02.0000] <annevk>
so SRT with HTML fragments?

[02:42:00.0000] <annevk>
as cues

[02:42:01.0000] <zcorpan_>
jgraham: nothing prevents cues staying up a long time

[02:42:02.0000] <jgraham>
(if I were implementing virtual maths lectures, I would probably try toi implement a virtual blackboard that rendered away from the video and retained all its contents)

[02:43:00.0000] <jgraham>
zcorpan_: No, but after the first blackboard-full of equations you can't see the video any more

[02:43:01.0000] <zcorpan_>
lol

[02:44:00.0000] <hsivonen>
annevk: yes. (I've been like a broken record about this)

[02:47:00.0000] <nessy>
hsivonen: don't stop that record!

[02:47:01.0000] <nessy>
though I am not so worried about it any more, since cues can have innerHTML as "metadata", I guess

[02:49:00.0000] <jgraham>
On an entirely different topic, is anyone else bothered by the "no excuses" pitch on the topic of bugspam? It seems to be about aportioning blame rather than achieving desirable goals (e.g. "everyone should have the information they need to participate in discussions relevant to them")

[02:51:00.0000] <zcorpan_>
aren't PERs usually announced on w3.org?

[02:52:00.0000] <hsivonen>
jgraham: I am, but I kinda sympathize given the circumstances

[02:53:00.0000] <hsivonen>
but then, I tend to follow bugmail, I still missed Hixie "simplifying" my U+0000 handling suggestion and I missed Hixie making <figure> close <p>

[02:53:01.0000] <hsivonen>
in a timely fashion, that it

[02:53:02.0000] <hsivonen>
*that is

[02:53:03.0000] <annevk>
zcorpan_, yeah

[02:53:04.0000] <hsivonen>
I found out once the corresponding test cases had made it to html5lib

[02:53:05.0000] <annevk>
zcorpan_, ij⊙wo can prolly help out (there's a dedicated address for this that I forgot)

[02:54:00.0000] <zcorpan_>
ok

[02:58:00.0000] <zcorpan_>
hsivonen: hasn't <figure> closed <p> since forever?

[02:58:01.0000] <hsivonen>
zcorpan_: nope

[02:58:02.0000] <zcorpan_>
i thought just <figcaption> changed

[02:58:03.0000] <hsivonen>
zcorpan_: then I have missed the change since forever

[02:59:00.0000] <zcorpan_>
<figure> closes <p> in my copy of minefield

[02:59:01.0000] <hsivonen>
ok. I'm confused, then

[03:00:00.0000] <hsivonen>
I still think that <figure> closing <p> is Bad.

[03:05:00.0000] <annevk>
Ms2ger, zcorpan_, clone throws for DocumentType, but that does not seem to work well if you want to clone e.g. Document

[03:05:01.0000] <annevk>
Ms2ger, zcorpan_, I guess it should not throw at all?

[03:06:00.0000] <Ms2ger>
I guess

[03:06:01.0000] <zcorpan_>
can you clone a document?

[03:06:02.0000] <annevk>
I think you can in most impl

[03:09:00.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/629 http://software.hixie.ch/utilities/js/live-dom-viewer/saved/630

[03:09:01.0000] <zcorpan_>
opera throws for both, firefox clones both, webkit clones the doctype but returns null for document

[03:17:00.0000] <annevk>
hmm

[03:19:00.0000] <zcorpan_>
/me wonders what's up with '386'

[03:20:00.0000] <Philip`>
jgraham: For a virtual maths lecture, why not just write some prose notes containing all the equations and suchlike (using LaTeX or HTML+MathML or whatever), and distribute that in parallel with the video?

[03:20:01.0000] <Philip`>
That seems simpler than a virtual blackboard and probably better usability

[03:22:00.0000] <annevk>
zcorpan_, xkcd

[03:22:01.0000] <jgraham>
Philip`: Also a good idea, but loses the synchronisation

[03:22:02.0000] <jgraham>
You could e.g. make the handout avaliable at the end of the lecture

[03:30:00.0000] <annevk>
Philip`, that would be too pragmatic

[03:30:01.0000] <MikeSmith>
ara! I just now discovered that Colloquy puts little indicators in my scrollbar to mark the point where somebody nick-pinged me

[03:30:02.0000] <MikeSmith>
sweet

[03:31:00.0000] <MikeSmith>
zcorpan_: about NotInW3CSpecYet, see the description: "This bug is for a feature that is has been adopted into the W3C version of HTML5 and may never be, and that is not under the HTML WG decision policy and may never be."

[03:31:01.0000] <MikeSmith>
oops

[03:31:02.0000] <MikeSmith>
missed a "NOT"

[03:32:00.0000] <MikeSmith>
/me fixes it

[03:35:00.0000] <annevk>
https://bugs.webkit.org/show_bug.cgi?id=45645 lol

[03:41:00.0000] <MikeSmith>
I would like to ask a favor from everybody here who has some time today to do a little review

[03:42:00.0000] <MikeSmith>
which is, please review the following

[03:42:01.0000] <MikeSmith>
http://www.w3.org/WAI/PF/HTML/wiki/Media_Accessibility_Checklist

[03:42:02.0000] <MikeSmith>
and comment on it if you find anything that you think should be changed in it

[03:43:00.0000] <MikeSmith>
anything removed, anything that needs to be added, anything altered/clarified

[03:45:00.0000] <MikeSmith>
about the topic areas, there are links that lead back to a more detailed description

[03:45:01.0000] <MikeSmith>
e.g., for the "DV" requirements, see http://www.w3.org/WAI/PF/HTML/wiki/Media_Accessibility_Requirements#Described_video

[03:47:00.0000] <MikeSmith>
nessy and others have spent a lot of time working together on hammering out the details of that checklist

[03:47:01.0000] <MikeSmith>
so it would be a professional courtesy at the very least to actually take time to read and respond to it

[03:48:00.0000] <MikeSmith>
it seems to me to be a pretty good document overall

[03:49:00.0000] <annevk>
while it seems like a good end goal, I'm not sure we want to meet those requirements all at once

[03:50:00.0000] <annevk>
that would just take forever and not help accessibility meanwhile

[03:50:01.0000] <MikeSmith>
annevk: would probably be an acceptable (meta)comment to make

[03:51:00.0000] <MikeSmith>
comment being, in a message to public-html

[03:51:01.0000] <annevk>
it's been said before

[03:51:02.0000] <MikeSmith>
I can also post a heads-up to the whatwg list about this I guess, and invite further comments there

[03:51:03.0000] <MikeSmith>
annevk: ah, OK

[03:52:00.0000] <MikeSmith>
annevk: another thing is, we would not want to be in the position later of having those requirements presented back to us as a fait accompli

[03:53:00.0000] <MikeSmith>
and being told that, You had the opportunity to comment on detail on those, and to ask for changes to them, and you didn't take it.

[03:53:01.0000] <annevk>
hah, good luck if they try playing it like that

[03:54:00.0000] <MikeSmith>
well, I'm not saying that anybody who's actually involved in creating those would do that

[03:54:01.0000] <MikeSmith>
because they would not

[03:55:00.0000] <MikeSmith>
I guess I'm just thinking about other possible polemicists who might choose to join the fray

[03:55:01.0000] <annevk>
some of the requirements seem kind of wrong btw

[03:55:02.0000] <MikeSmith>
so ignore that, thought, actually

[03:55:03.0000] <annevk>
"specify a character encoding" must?!

[03:56:00.0000] <annevk>
for i18n no less

[03:56:01.0000] <MikeSmith>
annevk: that indeed does seem not necessary to be a must

[03:56:02.0000] <annevk>
guess they missed how UTF-8 obsoleted that need

[03:57:00.0000] <jgraham>
I would prefer that as a MUST NOT, all things considered :)

[03:59:00.0000] <annevk>
i think it would help if they prioritized things

[03:59:01.0000] <annevk>
everything may be a must, but some are more important than others

[04:01:00.0000] <MikeSmith>
annevk, jgraham - I started adding comments on the Talk page there - http://www.w3.org/WAI/PF/HTML/wiki/Talk:Media_Accessibility_Checklist

[04:03:00.0000] <MikeSmith>
david_carlisle: hey

[04:04:00.0000] <annevk>
ta MikeSmith

[04:04:01.0000] <MikeSmith>
np

[04:04:02.0000] <MikeSmith>
thanks for the comments

[04:04:03.0000] <MikeSmith>
I just used what you said verbatim :)

[04:04:04.0000] <jgraham>
Yes, some things seem to depend on stuff that we are a way away from supporting

[04:05:00.0000] <jgraham>
Like an api for stero

[04:05:01.0000] <jgraham>
*stereo

[04:05:02.0000] <annevk>
stereo is in there?

[04:06:00.0000] <annevk>
i thought syncing audio with video was a complex one already

[04:06:01.0000] <annevk>
or syncing video with video

[04:06:02.0000] <jgraham>
annevk: There was something about being able to pan the audio

[04:06:03.0000] <david_carlisle>
hsivonen: "I'd rather support MathML than karaoke" Thanks for this support:-)  (wouldn't subtitles without maths in them be boring?)

[04:21:00.0000] <Ms2ger>
jarib, http://aryeh.name/tests/reflection.html might be a good place to start for an index

[05:17:00.0000] <jarib>
Ms2ger: interesting

[05:20:00.0000] <jarib>
Ms2ger: if we could figure out how the index should be organized, i'd be happy to start doing the boring work :)

[05:21:00.0000] <jarib>
hmm, can't figure out the clone URL for that repo

[05:22:00.0000] <jarib>
AryehGregor: ^^

[05:36:00.0000] <annevk>
Ms2ger, so what features of Anolis are we using that pimp my spec does not have?

[05:37:00.0000] <Ms2ger>
xspecxref.py and refs.py

[05:37:01.0000] <annevk>
cross-spec xref?

[05:37:02.0000] <Ms2ger>
Yes

[05:37:03.0000] <annevk>
oh, references

[05:37:04.0000] <annevk>
right

[05:38:00.0000] <annevk>
hmm

[05:39:00.0000] <annevk>
i guess either I have to get this to run locally or just lose those features for now

[05:39:01.0000] <annevk>
until jgraham catches up :)

[05:39:02.0000] <annevk>
having cross-spec xref and references would be neat -- though not sure how they work with a web interface

[05:39:03.0000] <Ms2ger>
Pubrules will probably want more detailed references, though

[05:40:00.0000] <annevk>
no

[05:40:01.0000] <annevk>
see e.g. XMLHttpRequest

[05:41:00.0000] <Ms2ger>
Works for me, then

[05:41:01.0000] <annevk>
yeah, it just doesn't for me :/

[05:41:02.0000] <Ms2ger>
Heh

[05:54:00.0000] <Ms2ger>
I think it shouldn't be too hard to get the json files somewhere on the server where anolis can find them

[05:54:01.0000] <annevk>
and how do we update them then?

[05:55:00.0000] <Ms2ger>
Bug jgraham? ;)

[05:55:01.0000] <annevk>
yeah, I guess we can provide patches

[05:56:00.0000] <Ms2ger>
They shouldn't change too often

[06:03:00.0000] <annevk>
zcorpan_, new thread next time?

[06:04:00.0000] <zcorpan_>
yeah, sorry

[06:11:00.0000] <nessy>
MikeSmith: ping?

[06:15:00.0000] <MikeSmith>
nessy: hej

[06:15:01.0000] <nessy>
hey, I am surprised you sent a link to the Checklist to the WHATWG - how come?

[06:16:00.0000] <MikeSmith>
because I want to get wider feedback on that doc

[06:16:01.0000] <nessy>
I would have understood a link to the requirements list, which is in good shape - but the checklist is so much still in raw format, I'm not sure input is helpful at this stage...

[06:16:02.0000] <MikeSmith>
we have so far gotten almost zero feedback on it

[06:17:00.0000] <MikeSmith>
we have not gotten much feedback on the requirements either

[06:17:01.0000] <MikeSmith>
and we need to have a sense of urgency about that

[06:17:02.0000] <MikeSmith>
we do not have infinite amounts of time to get implementors to wait for us

[06:19:00.0000] <nessy>
ok, I can see where you're coming from

[06:19:01.0000] <nessy>
I'm just wondering if feedback to the checklist can be useful at this stage

[06:19:02.0000] <nessy>
we've had some edits earlier this week, which I had to remove again because they were solution-specific rather than general technology area

[06:21:00.0000] <jgraham>
nessy: What is the value proposition in not getting feedback?

[06:21:01.0000] <nessy>
it's in an intermediate state - all the feedback at this stage can be only on the requirements realistically, which has its own page

[06:22:00.0000] <nessy>
the whole page will be re-organised by technology still to become actual checklists

[06:23:00.0000] <nessy>
getting feedback on the requirements would be awesome though

[06:23:01.0000] <jgraham>
nessy: It sounds like feedback now is a great idea

[06:24:00.0000] <nessy>
it's not feedback then, but rather input

[06:24:01.0000] <jgraham>
No point in doing a big refactoring of things people don't like

[06:24:02.0000] <jgraham>
Is there a difference?

[06:25:00.0000] <nessy>
what refactoring? there is no refactoring - it's about making checklists that make sense from a technology POV rather than a disability POV

[06:26:00.0000] <nessy>
also, one obvious critique right now is on the priorities - none of which have been discussed or consciously set yet

[06:27:00.0000] <annevk>
well, there are no priorities

[06:28:00.0000] <nessy>
yup, that's another thing that is on the todo for this page still - it's on the agenda

[06:28:01.0000] <nessy>
but anyway - I'm sure the "feedback" will be good input into the process, so go ahead :)

[06:40:00.0000] <zcorpan_>
hsivonen, abarth: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10630

[06:41:00.0000] <hsivonen>
zcorpan_: does that one have known site impact?

[06:42:00.0000] <zcorpan_>
hsivonen: no, not afaik

[06:43:00.0000] <zcorpan_>
we had an old bug about <div><frameset> (with url still working), but that's ok with the current spec

[06:46:00.0000] <annevk>
http://econsultancy.com/uk/blog/6573-why-it-s-time-to-pay-attention-to-html5 -- lol

[06:46:01.0000] <annevk>
"According to numerous sources, the balls were indeed in HTML5, specifically CSS3, part of the standard."

[06:47:00.0000] <zcorpan_>
hsivonen: iirc Refresh works as a real header at least in some browsers

[06:47:01.0000] <hsivonen>
zcorpan_: for which values of some?

[06:47:02.0000] <zcorpan_>
don't remember

[06:47:03.0000] <zcorpan_>
possibly all

[06:52:00.0000] <hsivonen>
annevk: maybe my suggestion for limiting the active formatting element growth could be modified not to affect conforming content

[06:53:00.0000] <hsivonen>
by not removing the formatting elements from the stack when removing them from the list

[06:53:01.0000] <zcorpan_>
or removing only elements that are obsolete :)

[06:54:00.0000] <hsivonen>
zcorpan_: curbing <font> growth is certainly the most important motivation here, but letting e.g. <i> grow insanely for DoS wouldn't be nice

[06:55:00.0000] <zcorpan_>
it wasn't a serious suggestion :)

[06:56:00.0000] <zcorpan_>
with your proposal it's still easy to cause a DoS, just have different attributes on each element

[06:56:01.0000] <zcorpan_>
<font 1><font 2> etc

[06:56:02.0000] <hsivonen>
zcorpan_: good point

[06:57:00.0000] <hsivonen>
I wonder if setting n to 0 and thus removing all duplicates from the list would break the Web

[07:03:00.0000] <hsivonen>
hmm. not removing from stack would required corresponding changes to the AAA

[07:04:00.0000] <hsivonen>
since currently the AAA can't close an element that's not on the list

[07:06:00.0000] <hsivonen>
too bad that simply banning duplicates would break the fancy pages that do nested emphasis and de-italicize the inner one

[07:07:00.0000] <hsivonen>
we could allow two duplicates...

[07:07:01.0000] <hsivonen>
actually, I like that more than picking a permitted length since the marker

[08:03:00.0000] <jgraham>
hsivonen: Like is relative here, right :)

[08:04:00.0000] <jgraham>
I mean the whole thing is a really nasty hack

[08:24:00.0000] <zcorpan_>
/me does s/Standards/Acid tests/ on the chrome wiki page

[08:34:00.0000] <hsivonen>
jgraham: I just sent email to public-html. I experimented some more and came up with something that I think works

[08:40:00.0000] <jgraham>
hsivonen: Interesting, but scary

[08:40:01.0000] <jgraham>
Especially for you I would have thought

[08:41:00.0000] <jgraham>
Like I would be tempted to keep the current algorithm for now and experiement with the new one in a more beta release

[08:41:01.0000] <Philip`>
"With this scheme, it's still possible to DoS the HTML5 parser" - does that mean browsers would have to add a second scheme to prevent DoS attacks?

[08:42:00.0000] <Philip`>
in which case wouldn't it be better to start by designing the second scheme, and then only the first scheme as an optimisation if the second one is still poor on some real-world content?

[08:42:01.0000] <hsivonen>
Philip`: it depends. if you look carefully (and you don't need to be that careful), there are already other ways to DoS browsers

[08:42:02.0000] <hsivonen>
it's trivial to crash Gecko remotely, for example

[08:43:00.0000] <Philip`>
Shouldn't the goal be to minimise those cases?

[08:43:01.0000] <hsivonen>
Philip`: we've managed for 12 years without malicious DoS prevention in the parser

[08:43:02.0000] <jgraham>
Arguably a hang is worse than a non-exploitable crash

[08:43:03.0000] <hsivonen>
only prevention for DoS-by-incompetence

[08:43:04.0000] <hsivonen>
Philip`: probably, yeah

[08:44:00.0000] <jgraham>
Since it can suck system resources

[08:44:01.0000] <Philip`>
Having lots of security vulnerabilities sounds like a poor excuse for intentionally not fixing security vulnerabilities

[08:45:00.0000] <Philip`>
Also it's a problem for any other tools that use HTML5 parsers

[08:45:01.0000] <hsivonen>
part of the problem is that DoS countermeasures shouldn't treat the HTML5 spec or bank sites as attacks

[08:45:02.0000] <Philip`>
Not much good trying to argue everyone should replace their XML toolchain parsers with HTML5 parsers if it introduces new DoS attacks that their XML parsers were protected from

[08:46:00.0000] <hsivonen>
Philip`: you are assuming too much

[08:46:01.0000] <hsivonen>
Philip`: it's way easier to crash Gecko via the XML code path

[08:46:02.0000] <hsivonen>
anyway

[08:46:03.0000] <Philip`>
Other applications care more about security

[08:47:00.0000] <hsivonen>
Philip`: here's a concrete problem: you can make the parser exhaust memory by feeding it aa multi-gigabyte attribute value (gzipped so that it explodes on the client)

[08:47:01.0000] <hsivonen>
Philip`: however, for every length limit you might come up with, there's a site somewhere out there that has a non-attack use for an insanely long attribute value that exceeds your limit

[08:49:00.0000] <hsivonen>
Philip`: anyway, I welcome you to design DoS-by-malice prevention for formatting elements

[08:52:00.0000] <jgraham>
I have heard that SVG content with multi-megabyte attributes is not unheard of

[08:52:01.0000] <Philip`>
/me should probably try to gather data about how the algorithm runs on some set of pages, rather than guessing what restrictions would be safe

[08:52:02.0000] <Philip`>
but that sounds like it'll take effort :-(

[08:53:00.0000] <hsivonen>
Philip`: I was hoping I could bait you to run an instrumented parser over the dotbot data

[08:53:01.0000] <Philip`>
If I had an instrumented parser .jar that was compatible with the old version I'm using, I could probably run it easily

[08:53:02.0000] <hsivonen>
fwiw, I put an attribute value length limit in Gecko, broke a bank site, and took it out

[08:54:00.0000] <hsivonen>
Philip`: how would you like the parser to output its self-diagnostics?

[08:55:00.0000] <hsivonen>
e.g. the number of iterations in the AAA outer loop or number of iterations in the AAA inner loop?

[08:55:01.0000] <Philip`>
Oh, maybe it's not an old version, it's htmlparser-1.2.1.jar

[08:55:02.0000] <hsivonen>
or the number of duplicate formatting elements on the list?

[08:55:03.0000] <hsivonen>
Philip`: that's *old*

[08:55:04.0000] <Philip`>
It's the latest one on http://about.validator.nu/htmlparser/ :-)

[08:56:00.0000] <Philip`>
/me incorrectly assumes "current" and "old" are mutually exclusive

[08:58:00.0000] <Philip`>
hsivonen: Hmm, I have no idea what output data would be helpful for this purpose

[08:59:00.0000] <Philip`>
/me has largely forgotten how the algorithm works

[08:59:01.0000] <hsivonen>
I think the helpful output data would be stuff like x% of pages require n iterations or fewer

[08:59:02.0000] <hsivonen>
so presumably at some point x is near hundred while n is low

[09:00:00.0000] <hsivonen>
and then at some point n skyrockets for diminishing returns in x

[09:01:00.0000] <hsivonen>
there are actually three distinct Ns worth measuring: AAA outer loop iterations per entry to the loop

[09:01:01.0000] <hsivonen>
AAA inner loop iterations per entry to the loop

[09:02:00.0000] <hsivonen>
duplicate items after the last marker

[09:04:00.0000] <Philip`>
If the parser can output those numbers somehow, so I can associate them with the URL that's being parsed, then it sounds like that should be sufficient and the output can be processed to get tables of pages vs Ns

[09:04:01.0000] <hsivonen>
Philip`: what's your preferred output mechanism?

[09:05:00.0000] <Philip`>
Um

[09:05:01.0000] <Philip`>
Don't know

[09:06:00.0000] <Philip`>
Currently my code mostly just uses ContentHandler (sometimes LexicalHandler) to collect output

[09:06:01.0000] <Philip`>
It'd probably be ugly to squeeze some Ns into that interface but maybe it'd be easier than alternatives

[09:06:02.0000] <hsivonen>
Philip`: how about I make a one-off handler interface for this? StatHandler or something?

[09:07:00.0000] <Philip`>
I guess that could work too

[09:07:01.0000] <hsivonen>
ok. I'll try to get that done tomorrow-ish. gotta go get some dinner now

[09:08:00.0000] <Philip`>
Alternatively, could just dump it to stdout and I could disable multithreading

[09:50:00.0000] <annevk>
Ms2ger, gsnedders, hmm no zcorpan..., I was thinking of maybe drafting out the Attr proposal from Jonas in the draft

[09:50:01.0000] <annevk>
and maybe even make some of the other suggested changes

[09:50:02.0000] <Ms2ger>
Go for it

[09:51:00.0000] <annevk>
initially I wanted to safe myself editing cycles, but maybe it is worth having a concrete proposal in the draft so people can see all the implications

[10:03:00.0000] <annevk>
heh abort the abort() algorithm

[10:03:01.0000] <annevk>
but I guess that might be needed, indeed

[10:09:00.0000] <hsivonen>
"Allow the author to use a codec which is optimised for voice only, rather than requiring the same codec as the original soundtrack. " categorized as a "must"

[10:09:01.0000] <hsivonen>
there goes the credibility of "must" in those reqs

[10:10:00.0000] <jgraham>
Because it touches on codecs?

[10:11:00.0000] <hsivonen>
jgraham: it makes codec choice into an accessibility requirement on the must level, which seems completely bogus

[10:11:01.0000] <hsivonen>
"Provide a means to prevent descriptions from carrying over from one program or channel when the user switches to a different program or channel. "

[10:11:02.0000] <hsivonen>
channel???

[10:12:00.0000] <hsivonen>
are these copied from a TV-oriented set of reqs?

[10:12:01.0000] <jgraham>
Yeah, that makes no sense

[10:12:02.0000] <annevk>
maybe nessy was right and we should not look at them yet

[10:12:03.0000] <jgraham>
Depends if it is useful to point out that it makes no sense

[10:13:00.0000] <jgraham>
Seems that it should be

[10:16:00.0000] <hsivonen>
relocating within the audion field meas setting the stereo balance?

[10:16:01.0000] <hsivonen>
or doing something more fancy with a surround system?

[10:16:02.0000] <jgraham>
I guess at least stereo

[10:16:03.0000] <jgraham>
But I am just as clueless as you really

[10:20:00.0000] <annevk>
I doubt anything beyond captions will have traction anytime soon

[10:20:01.0000] <annevk>
And even that is not close until we settle structured text vs all-of-HTML

[11:26:00.0000] <annevk>
ooh, TTML became a Proposed Recommendation

[11:27:00.0000] <annevk>
can't wait to (not?) avoid all those discussions

[11:35:00.0000] <TabAtkins>
I wonder what the implementations of it were?

[11:36:00.0000] <jgraham>
gsnedders: Did you put the code for the outliner somewhere? I thought you wanted me to host it?

[12:04:00.0000] <annevk>
so all ECMAScript errors are TypeError?

[12:04:01.0000] <annevk>
jgraham: ?

[12:04:02.0000] <annevk>
it seems so weird

[12:45:00.0000] <annevk>
Ms2ger, congrats on joining the HTML WG

[12:46:00.0000] <MikeSmith>
yay Ms2ger 

[12:47:00.0000] <paul_irish>
"Ms-Two-ger -"  haha. excellent. :)

[12:50:00.0000] <annevk>
I guess they banned numbers :)

[12:58:00.0000] <MikeSmith>
yeah, I had the same problem … they made me write my name out as Seven-Oh-Nine Seven-Five-Five Six-E-L-Three, Computer File Nine-Three

[13:20:00.0000] <annevk>
http://twitter.com/TVRaman/status/24493208893 :/

[13:37:00.0000] <Ms2ger>
annevk, did you notice "It is not possible to have a type Node?, since interface types already allow the null value."?

[13:40:00.0000] <annevk>
nooo :/

[13:41:00.0000] <annevk>
I wonder what heycam thinks

[13:47:00.0000] <jgraham>
annevk: No?

[13:48:00.0000] <jgraham>
annevk: Why do you think all ECMAScript errors are TypeError?

[13:48:01.0000] <jgraham>
(lots of interesting ones are, but not all)

[14:01:00.0000] <gsnedders>
jgraham: Uh, yeah.

[14:01:01.0000] <gsnedders>
jgraham: It's on my /. :P

[14:01:02.0000] <jgraham>
You have a slashdot?

[14:02:00.0000] <gsnedders>
Smartass.

[14:03:00.0000] <TabAtkins>
/me isn't sure how that's "being a smartass", since it's what gsnedders actually said.

[14:03:01.0000] <gsnedders>
/me sighs

[14:03:02.0000] <gsnedders>
This channel is full of geeks.

[14:04:00.0000] <TabAtkins>
/me is still confused.  ;_;

[14:06:00.0000] <TabAtkins>
Oh, I get it now.  It's on your /, followed by a period.  Damn you, slashdot.

[14:07:00.0000] <Philip`>
He has a slashcomma?

[14:07:01.0000] <TabAtkins>
Yup.  Typo on gsnedders' part.

[14:08:00.0000] <jgraham>
http://www.krakenbenchmark.com/ -- somewhere in the basement of a Mozilla office the old toaster that they appear to be hosting this on just caught fire

[14:12:00.0000] <gsnedders>
/me is hiding from flatmates playing drinking game

[14:12:01.0000] <gsnedders>
*games

[14:12:02.0000] <TabAtkins>
Dude.  There is this word.  It is called "No".  (Or "No thank you", if you want to be polite.)

[14:13:00.0000] <aho>
http://www.w3.org/TR/2010/PR-ttaf1-dfxp-20100914/ <- meh. me likes websrt a lot better

[14:13:01.0000] <TabAtkins>
/me has a bunch of alcoholic friends, and successfully uses this phrase all the time.

[14:14:00.0000] <gsnedders>
TabAtkins: I could do that… again. I'm somewhat tired of doing that every day though.

[14:14:01.0000] <TabAtkins>
gsnedders: Shrug.  A lot of people are alcoholics in college.  You'll just have to deal.

[14:14:02.0000] <gsnedders>
TabAtkins: Hey, why do you think I was so apprehensive about this?

[14:14:03.0000] <gsnedders>
:)

[14:15:00.0000] <TabAtkins>
gsnedders: But hiding means they wont' think of you when they're doing *non* drinking-related things, or things where drinking is onlyl an incidental part.

[14:15:01.0000] <gsnedders>
TabAtkins: The flatmates that are doing it, well, I don't expect to particuarly spend much time with them anyway

[14:16:00.0000] <gsnedders>
TabAtkins: And not joining occasionally isn't really going to cause that

[14:16:01.0000] <TabAtkins>
gsnedders: Whatever floats your boat.  I found in college that I had a lot of fun hanging out with people even if their standard idea of fun is getting blasted until they puke.

[14:16:02.0000] <TabAtkins>
(I didn't hang with them while they were out binge-drinking, is all.)

[14:17:00.0000] <gsnedders>
TabAtkins: My flatmates aren't really people I have much in common with at all, though. Maybe two of the eleven others in the flat I might actually become friends with.

[14:17:01.0000] <TabAtkins>
Ah.  I had the benefit of my roommate being one of my best friends from high school.

[14:18:00.0000] <jgraham>
There is a certian tension between wanting to hang out with people enough that you make friends, and avoiding the people that you don't get on with

[14:19:00.0000] <TabAtkins>
Excellent phrased, jgraham.  I find that it's often useful to me to swing in the direction of "more hangouts", but I've also trained myself to be very extroverted.

[14:37:00.0000] <aho>
jgraham, that kraken thing looks pretty dead to me :>

[14:55:00.0000] <erlehmann>
jgraham, can you explain that tension? i see none of it, i just avoid people i don't like.

[14:56:00.0000] <TabAtkins>
erlehmann: There's a difference between "people you don't like" and "people you don't immediately get along with, but might be fun to hang out with once you get to know them".

[14:59:00.0000] <erlehmann>
TabAtkins, for most people, I am of the latter kind, hehe

[15:04:00.0000] <variable>
http://pastebin.com/9DP7dLBe

[15:04:01.0000] <variable>
is that correct ?

[15:06:00.0000] <variable>
that is a reply to someone on the -help mailing list

[15:16:00.0000] <jgraham>
erlehmann: The problem is that in a situation where most people are in the pool of unknowns, it is hard to avoid all the people you don't like without avoiding many people you don't know but potentially would like

[15:17:00.0000] <variable>
jgraham, I find that the people I want to avoid tend to hang together

[15:17:01.0000] <variable>
and the people I want to get to know usually seperate from them

[15:17:02.0000] <variable>
at somepoint

[15:17:03.0000] <jgraham>
variable: Yeah, eventually by the time the whole system has stabilised

[15:17:04.0000] <TabAtkins>
That said, the benefits and downsides change somewhat based on how intro/extroverted you are.  If you've trained yourself in politely disengaging and avoiding people you find you hate, it's a lot easier to experiment with groups.

[15:18:00.0000] <jgraham>
But by that point you can already be classed as an outsider even by people that you would get on with if you met them

[15:19:00.0000] <variable>
jgraham, any advice for dealing with that then? I'm at the start of the the whole "finding people I like" period now ;-)

[15:19:01.0000] <variable>
also --> could someone verify that this is correct http://pastebin.com/9DP7dLBe

[15:20:00.0000] <jgraham>
variable: Not really. I think my university experience was rather atypical

[15:20:01.0000] <TabAtkins>
variable: Push yourself into social situations as much as possible.  Consciously focus on learning from it, so that the uncomfortable/painful situations you'll find yourself in actually serve a purpose in training you to deal with or avoid them in the future.

[15:20:02.0000] <jgraham>
since the social setup at Cambridge is somewhat unique

[15:20:03.0000] <TabAtkins>
/me supports approaching social interaction analytically until you've trained up a knack for it.

[15:21:00.0000] <jgraham>
(well it varies a bit per college and so on, and I guess Oxford might be similar)

[15:21:01.0000] <jgraham>
And also I can be painfully shy and very bad at doing what TabAtkins just suggested

[15:22:00.0000] <variable>
TabAtkins, I'll try doing that. Unfortunately my social abilites are a bit low at the moment

[15:22:01.0000] <gsnedders>
My biggest problem is just shyness and talking to people in the first case; if I have someone I know around I can use them to introduce me which I'm fine with

[15:22:02.0000] <jgraham>
+therefore

[15:22:03.0000] <variable>
I'm not shy - but I tend to say/do stupid things - either that or I think the smallest mistake I make is humongous and everyone notices

[15:22:04.0000] <TabAtkins>
jgraham: The painful shyness is (usually) a symptom of insufficient experience in the first place.  It's an unfortunate fact that you have to be painful uncomfortable in order to overcome being painfully uncomfortable.

[15:23:00.0000] <TabAtkins>
gsnedders: Yeah, I still have that problem sometimes.  I'm trying to learn to fix it using the techniques here: http://lesswrong.com/lw/2co/how_to_always_have_interesting_conversations/

[15:24:00.0000] <jgraham>
TabAtkins: I don't think that is quite the case. I mean I don't seem to have ended up a social outcast or anything

[15:24:01.0000] <TabAtkins>
I know that this works in general, because when I find someone who happens to trigger a box in my unconsciously-designed map I can have great convos.

[15:24:02.0000] <gsnedders>
jgraham: What, with all your friends running away from you? :P

[15:25:00.0000] <TabAtkins>
jgraham: I can only really speak from my own experience.  I was *ridiculously* shy and withdrawn in grade school, but consciously changed myself into an extrovert.

[15:25:01.0000] <TabAtkins>
variable: Yeah, that paste looks accurate.

[15:25:02.0000] <variable>
"One of the things that makes Michael Vassar an interesting person to be around is that he has an opinion about everything" - people tell me thats a BAD thing

[15:26:00.0000] <TabAtkins>
Having an opinion is a good thing.  Having a strong opinion that you push on people, or that you offer up unasked for, is not.

[15:26:01.0000] <jgraham>
I am assuming that isn't being used to mean "is opinionated"

[15:26:02.0000] <TabAtkins>
Having an opinion that you can express in conversation that moves into the topic area is great.

[15:26:03.0000] <jgraham>
I assume it means something like "is prepared to offer interesting thoughts on"

[15:27:00.0000] <TabAtkins>
Yeah, that's right.

[15:29:00.0000] <variable>
TabAtkins, and flow content would be elements that affect the flow of the document ? is there a better way to phrase that?

[15:29:01.0000] <variable>
/me finishes the article

[15:29:02.0000] <romeo_>
/me can't imagine TabAtkins as "shy and withdrawn"

[15:29:03.0000] <TabAtkins>
Flow content is sorta just "everything else", right?  Or everything that isn't one of the "non-rendering" things.

[15:29:04.0000] <TabAtkins>
romeo_: Have you met me somewhere?

[15:29:05.0000] <romeo_>
no

[15:29:06.0000] <romeo_>
only here

[15:30:00.0000] <TabAtkins>
Ah.  Was wondering if you'd seen me give a talk or something.  ^_^

[15:30:01.0000] <gsnedders>
/me can imagine TabAtkins not being the most outgoing person

[15:31:00.0000] <TabAtkins>
But yeah, I'm a substantially different person socially than I was a decade ago, mostly because of conscious effort to change myself.

[15:31:01.0000] <TabAtkins>
gsnedders: You met me personally, though, where I went out of my way to introduce myself and then took you out for ice cream.

[15:32:00.0000] <variable>
TabAtkins, part of the problem is that I find most chit-chat type topics (weather, most jobs, blah) boring

[15:32:01.0000] <jgraham>
variable: I assume that the idea is to work out ways to flow to topics that you find interesting from ones you find boring

[15:32:02.0000] <jgraham>
And hope there is mutual interest I guess

[15:32:03.0000] <TabAtkins>
variable: Two ways to combat that.  (1) Train yourself to think the opposite, or at least be able to project the image of interest.  It goes a long way.  (2) Using conversation maps or similar techniques, learn how to quickly transition a conversation from the boring chit-chat to more interesting subjects.

[15:33:00.0000] <TabAtkins>
One good thing is to learn how to ask personal questions of the person who's being boring.  People are a lot more interesting when they're talking about themselves, I find.

[15:35:00.0000] <gsnedders>
TabAtkins: There again, it was in a context where everyone already knew everyone to some levle

[15:35:01.0000] <jgraham>
And you could always discuss marin collapsing if you ran out of other topics ;)

[15:36:00.0000] <jgraham>
*margin

[15:36:01.0000] <TabAtkins>
gsnedders: It honestly wouldn't have mattered much to me.  Remember that when I first introduced myself to you guys it was kind of awkward.  That's just how it goes sometimes; I just hung out for a bit and then politely excused myself so I could try again later.  I successfully talked with you guys later in the bar.

[15:38:00.0000] <variable>
I don't mind forced social situations much

[15:38:01.0000] <variable>
(like my roommate was random and we like each other)

[15:38:02.0000] <variable>
but I find it hard to meet *new* people also

[15:38:03.0000] <gsnedders>
TabAtkins: I would have been a lot more awkward in the first case otherwise

[15:39:00.0000] <jgraham>
TabAtkins: I don't really remember that but it is quite distressing to dissect old social situations

[15:39:01.0000] <gsnedders>
/me can't remember the specifics either

[15:40:00.0000] <TabAtkins>
gsnedders: Otherwise what?  If I didn't already know you somewhat?  If that was the case, I could have at least gone into the suite of job-related questions.  I already know what you do, though.

[15:40:01.0000] <variable>
if I go over social situations I always thing I screwed up badly

[15:41:00.0000] <gsnedders>
TabAtkins: I basically wouldn't know what to say, at all

[15:42:00.0000] <jgraham>
Anyway, there was some original point to this

[15:42:01.0000] <TabAtkins>
variable: Nothing wrong with that, as long as you're analyzing it for places where you could have done better!

[15:42:02.0000] <jgraham>
Which I think was that you want to be sociable enough that you meet people you like

[15:42:03.0000] <jgraham>
But not so socialble that you do things that make you unhappy

[15:43:00.0000] <jgraham>
TabAtkins: I'm not sure I agree with that, necessarily. People generally can't manage clean emotional detachment

[15:43:01.0000] <variable>
jgraham, s/generally//

[15:43:02.0000] <jgraham>
So going over stuff in your head doesn't lead to good analysis

[15:44:00.0000] <variable>
I used to think I could - but over time I learned no one could 

[15:44:01.0000] <TabAtkins>
jgraham: In reference to what?  Emotionally detaching themselves from the memories of their interaction, so they can study it analytically?

[15:45:00.0000] <gsnedders>
It's so easy to just get dragged down into over-analyizing everything

[15:46:00.0000] <variable>
/me has to leave now 

[15:46:01.0000] <variable>
thanks TabAtkins 

[15:46:02.0000] <jgraham>
TabAtkins: For example

[15:46:03.0000] <TabAtkins>
True.  You have to teach yourself how to not do that, as well.  ^_^  There's a whole lot of generally just learning to recognize and account for emotional imprints in your actions and memories.

[15:47:00.0000] <jgraham>
Also, in the specific case of gsnedders, he has a tendency to over-think things at the best of times, which I'm not sure is always good :)

[15:47:01.0000] <TabAtkins>
He needs a social coach!

[15:47:02.0000] <gsnedders>
jgraham: It's definitely not good. :)

[15:48:00.0000] <gsnedders>
jgraham: I'm a lot better about that than I used to be, though.

[15:48:01.0000] <hober>
TabAtkins: isn't that what #whatwg is?

[15:48:02.0000] <TabAtkins>
(Also, he needs to read lesswrong.com, which has several posts about social interaction in terms of geeky near-aspies.)

[15:48:03.0000] <hober>
lesswrong++

[15:52:00.0000] <jgraham>
Isn't getting social skills advice from IRC practically the definition of irony?

[15:53:00.0000] <jgraham>
I just need to work out how to draw venn diagrams to illustrate it

[15:53:01.0000] <aho>
inkscape :>

[15:54:00.0000] <jgraham>
aho: On IRC?

[15:54:01.0000] <jgraham>
I meant ascii art

[15:55:00.0000] <aho>
ah

[15:55:01.0000] <jgraham>
:)

[15:56:00.0000] <gsnedders>
And then for the past year I've got mocked a fair bit for my behaviour with two of my best friends…

[15:56:01.0000] <gsnedders>
/me glares at jgraham (in part)

[15:57:00.0000] <aho>
krakenbenchmark works again, by the way

[15:57:01.0000] <aho>
looks like they moved it over to another server

[15:57:02.0000] <jgraham>
/me has no idea what gsnedders is glaring at

[15:58:00.0000] <aho>
http://blog.mozilla.com/rob-sayre/2010/09/14/release-the-kraken/

[15:58:01.0000] <aho>
some blurp over there


2010-09-15
[17:18:00.0000] <MikeSmith>
paul_irish: you got a couple minutes to chat?

[17:23:00.0000] <openstandards>
Hi all i'm after some advice concerning screen readers and aria

[17:23:01.0000] <paul_irish>
MikeSmith: yup. pm away.

[17:25:00.0000] <openstandards>
I've got a div thats hidden till a user clicks a link and it scrolls into the viewing area however i want it to be hidden to screen readers and picked up via google bot

[17:25:01.0000] <nimbupani>
openstandards: if you use display: none it should be hidden to screenreaders as well

[17:26:00.0000] <openstandards>
nimbupani,  however from an seo view will it still be seen to the search engines

[17:27:00.0000] <openstandards>
like whats aria-hidden all about i haven't found many examples of it being used in the wild

[17:27:01.0000] <nimbupani>
http://searchengineland.com/is-hiding-content-with-display-none-legitimate-seo-13643

[17:29:00.0000] <openstandards>
ok cheers 

[17:30:00.0000] <openstandards>
just gonna get some pizza and i'll return to read that link thanks nimbupani 

[17:30:01.0000] <nimbupani>
cheers openstandards 

[18:21:00.0000] <openstandards>
http://realtech.burningbird.net/web/html5/remove-hidden-attribute interesting link i've found

[18:37:00.0000] <MikeSmith>
<sigh> just now becoming aware of other cases where existence of long-outdated CSS WG drafts in TR space has ended up wasted a lot of some peoples' time, created unnecessary confusion

[18:37:01.0000] <TabAtkins>
Which ones?

[18:37:02.0000] <MikeSmith>
all of them, I guess

[18:37:03.0000] <TabAtkins>
Makes sense.

[18:37:04.0000] <MikeSmith>
people looking at docs published in 2003 

[18:37:05.0000] <TabAtkins>
We *really* need to just link to the dev drafts.

[18:38:00.0000] <MikeSmith>
yeah, please lobby the CSS WG to do more about this

[18:38:01.0000] <Philip`>
Should do it like the IETF, and delete the TR drafts after six months

[18:38:02.0000] <MikeSmith>
I have tried myself to make it clear

[18:38:03.0000] <MikeSmith>
Philip`: wfm

[18:38:04.0000] <MikeSmith>
or sounds good to me

[18:39:00.0000] <MikeSmith>
and WD that is more than 6 months old should definitely be removed/replaced

[18:40:00.0000] <jaket>
great name

[18:40:01.0000] <jaket>
mike smith

[18:40:02.0000] <jaket>
mike smith!

[18:40:03.0000] <MikeSmith>
even CR drafts, we need to some way to indicate whether they are still relevant or not

[18:40:04.0000] <MikeSmith>
I think some of these CSS drafts are actually CRs

[18:41:00.0000] <TabAtkins>
/me doesnt' even know what TR stands for.

[18:41:01.0000] <MikeSmith>
but everybody knows they are no longer up to date with implementations and implementation plans

[18:41:02.0000] <MikeSmith>
well, I should say not everybody knows, clearly -- *we* know, the rest of the world does not

[18:41:03.0000] <MikeSmith>
TabAtkins: Technical Report

[18:41:04.0000] <MikeSmith>
antique term of art

[18:42:00.0000] <MikeSmith>
opaque now, basically

[18:44:00.0000] <TabAtkins>
Ah, kk.

[18:48:00.0000] <openstandards>
can't they just add a css class to the page to highlight it after a given time easy enough to do

[18:48:01.0000] <variable>
Philip`, I prefer having an archive of past ideas - don't like when things like that are deleted

[18:49:00.0000] <openstandards>
variable, so do I which is why they should just make it known its a previous idea and no longer in use 

[18:51:00.0000] <othermaciej>
technically, the W3C produces Technical Reports, not "standards"

[18:51:01.0000] <TabAtkins>
/me doesn't know how easy it is to alter a TR document.

[18:52:00.0000] <othermaciej>
in general, what a TR url points to is easy to replace (that's the standard process) but are rarely modified in place

[18:53:00.0000] <othermaciej>
each time a WG publishes a draft it goes to TR

[18:53:01.0000] <othermaciej>
in theory the heartbeat requirement should keep non-REC items in TR space from getting too stale

[18:53:02.0000] <othermaciej>
but it doesn't seem to be very consistently followed

[18:55:00.0000] <MikeSmith>
othermaciej: yeah, about "standards", that is technically true on a "how many angels can you fit on the head of pin" definition of "technically"

[18:55:01.0000] <TabAtkins>
...I don't think the CSSWG has *ever* done a heartbeat thing while I've followed it.

[18:55:02.0000] <MikeSmith>
ISO and ITU want to own the term "standards"

[18:56:00.0000] <MikeSmith>
and national standards bodies actually do refer to specs from W3C and others as "de facto" standards rather than "de jure" standards

[19:00:00.0000] <MikeSmith>
but for the actual users of our specs, they are very much standards

[19:00:01.0000] <MikeSmith>
or should be at least

[19:00:02.0000] <MikeSmith>
in the sense that they should represent what is actually implemented

[19:01:00.0000] <TabAtkins>
Yes.

[19:01:01.0000] <othermaciej>
yeah, I don't care for the fussy technicalities around the word "standard"

[19:02:00.0000] <othermaciej>
but I imagine that is why other standards bodies invent different terms

[19:02:01.0000] <othermaciej>
I wonder why IEEE gets to have "standards"

[19:02:02.0000] <othermaciej>
are they an official national standards body?

[19:04:00.0000] <MikeSmith>
othermaciej: I guess maybe they are a so-called ISO "PAS submitter"

[19:04:01.0000] <MikeSmith>
othermaciej: http://isotc.iso.org/livelink/livelink/fetch/-8913189/8913214/8913248/Approved_PAS_Submitters.html?nodeid=2315468&vernum=-2

[19:05:00.0000] <MikeSmith>
or maybe not

[19:05:01.0000] <MikeSmith>
they're not listed there

[19:05:02.0000] <MikeSmith>
PAS Submitters can have their specs sort of fast-tracked to ISO standard status, as I understand it

[19:30:00.0000] <MikeSmith>
<big sigh> http://code.google.com/p/epub-revision/wiki/CSS3Relations#D3:_EPUB_specific_HTML_classes

[19:30:01.0000] <MikeSmith>
kennyluck: please educate them

[19:30:02.0000] <MikeSmith>
"Define class names"

[19:33:00.0000] <kennyluck>
I'd say WHATWG is very successful but IDPF is...

[21:15:00.0000] <jacobolus>
does anyone in here know about the state of optimization of SVGPointList in browsers? 

[21:16:00.0000] <jacobolus>
it strikes me that it might be possible to use it, completely outside the context of SVG, to do fast array math in browser javascript

[21:16:01.0000] <jacobolus>
but maybe the overhead of setting the object up would make it not worth the trouble most of the time

[21:18:00.0000] <jacobolus>
oh, actually, nevermind. I thought maybe matrixTransform could be used on a whole SVGPointList

[21:18:01.0000] <jacobolus>
but apparently it only works on one point at a time

[21:21:00.0000] <jacobolus>
it's really too bad javascript doesn't have some better data types, and some array math/crypto/compression/etc. APIs that can run at native speed

[00:16:00.0000] <xfinx>
ogguh

[00:43:00.0000] <MikeSmith>
heh, "Burauzabenda"

[00:44:00.0000] <MikeSmith>
= Japanese transliteration, in roman alphabet, of "browser vendor"

[01:23:00.0000] <_mthz>
anyone know anything about the html5lib tests, specifically for the tokenizer? i have some questions about some tests that actually look like they're not in accordance with the spec

[01:31:00.0000] <MikeSmith>
_mthz: if you wait around a bit until others in central Europe time come on, there are several people who could probably respond

[01:32:00.0000] <MikeSmith>
jgraham for one

[01:32:01.0000] <MikeSmith>
hsivonen too, if you can get his attention

[01:32:02.0000] <_mthz>
thanks!

[01:32:03.0000] <MikeSmith>
_mthz: are you writing a tokenizer?

[01:32:04.0000] <_mthz>
yes

[01:32:05.0000] <MikeSmith>
cool

[01:33:00.0000] <hsivonen>
_mthz: what's not in accordance?

[01:33:01.0000] <_mthz>
ah =)

[01:33:02.0000] <_mthz>
one sec

[01:33:03.0000] <_mthz>
xmlviolationtes -- Non-XML Character

[01:33:04.0000] <_mthz>
it excpects \uFFFF to be replaced with \uFFFD

[01:33:05.0000] <hsivonen>
_mthz: those test XML infoset coercion

[01:34:00.0000] <_mthz>
ahhhh

[01:34:01.0000] <_mthz>
that makes sense

[01:34:02.0000] <hsivonen>
_mthz: the tests in that file don't apply to the vanilla spec

[01:34:03.0000] <_mthz>
ok another bucket is parsing named entities in attributes

[01:34:04.0000] <_mthz>
an example being Entity in attribute without semicolon ending in 1

[01:35:00.0000] <hsivonen>
that's tricky, but I'm pretty sure those tests are right

[01:35:01.0000] <_mthz>
it expects an error for <h a='&not1'> but the spec says this is an error only if the ampersand is followed by at least one alphanumeric AND a semicolon

[01:35:02.0000] <_mthz>
If no match can be made, then no characters are consumed, and nothing is returned. In this case, if the characters after the U+0026 AMPERSAND character (&) consist of a sequence of one or more characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), U+0061 LATIN SMALL LETTER A to U+007A LATIN SMALL LETTER Z, and U+0041 LATIN CAPITAL LETTER A to U+005A LATIN CAPITAL LETTER Z,...

[01:35:03.0000] <_mthz>
...followed by a U+003B SEMICOLON character (;), then this is a parse error.

[01:37:00.0000] <hsivonen>
_mthz: the para begins with "If no match can be made"

[01:37:01.0000] <hsivonen>
_mthz: here a match *is* made

[01:37:02.0000] <hsivonen>
for "not"

[01:37:03.0000] <_mthz>
ahh!

[01:37:04.0000] <_mthz>
i thought it meant no "terminal" match

[01:37:05.0000] <hsivonen>
nope

[01:38:00.0000] <hsivonen>
named character references do longest prefix match

[01:38:01.0000] <hsivonen>
that's what makes them "fun"

[01:38:02.0000] <_mthz>
gotcha =)

[01:39:00.0000] <_mthz>
thank you very much -- that test suite is very useful!

[01:39:01.0000] <_mthz>
one one last question -- the other set of tests failing for me deal with comment parsing

[01:40:00.0000] <_mthz>
but it looks like i see that you updated those for a pre-emptive spec change

[01:40:01.0000] <_mthz>
any idea if/when that change should go through?

[01:40:02.0000] <hsivonen>
fwiw, I think getting the &not and &notin stuff right *and* linearlishly performant is the hardest part in the tokenizer

[01:40:03.0000] <hsivonen>
_mthz: after Hixie's vacation

[01:40:04.0000] <hsivonen>
_mthz: 2 to 4 weeks is my guess

[01:41:00.0000] <_mthz>
i use a trie structure to store the named entities so its pretty efficient i think

[01:43:00.0000] <_mthz>
i think the most unfortunate thing is the tokenizer's ties to the parsing for switching the content model

[01:43:01.0000] <_mthz>
parsing=parser

[01:48:00.0000] <_mthz>
wait a second

[01:49:00.0000] <_mthz>
to go back to the <h a='&not1'>example...

[01:49:01.0000] <_mthz>
that test expects an error but it shouldn't have one

[01:49:02.0000] <_mthz>
If the character reference is being consumed as part of an attribute, and the last character matched is not a U+003B SEMICOLON character (;), and the next character is either a U+003D EQUALS SIGN character (=) or in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), U+0041 LATIN CAPITAL LETTER A to U+005A LATIN CAPITAL LETTER Z, or U+0061 LATIN SMALL LETTER A to U+007A LATIN SMALL...

[01:49:03.0000] <_mthz>
...LETTER Z, then, for historical reasons, all the characters that were matched after the U+0026 AMPERSAND character (&) must be unconsumed, and nothing is returned

[01:50:00.0000] <_mthz>
it doesn't say that case is an error?

[01:51:00.0000] <annevk>
doesn't it say earlier it's an error?

[01:51:01.0000] <_mthz>
no -- it says it's an error if no match was found

[01:51:02.0000] <_mthz>
but we matched &not

[01:52:00.0000] <annevk>
oh right; I think we did that to not make & an error for hyperlinks

[01:54:00.0000] <_mthz>
i wonder if the spec shuldn't be adjusted to have special handling for href/src or something that likely has a URL in it? -- I noticed this deficiency myself awhile ago before the '=' was included in the list of special characters

[02:01:00.0000] <_mthz>
ahh i see my original question now. you have a bunch of "bad named entities" tests for things ike "&alpha" that expect errors, but again, these aren't errors as per the spec, since for it to be an error you need to hve a semicolon?

[02:02:00.0000] <annevk>
zcorpan_ knows more about this than I do

[02:03:00.0000] <_mthz>
hrm.. what would be the appropriate mailing list to send this sort of question to?

[02:03:01.0000] <zcorpan_>
what's the question?

[02:05:00.0000] <_mthz>
zcorpan: there are a bunch of tests in html5lib that test bad named entities (like "&alpha") -- these tests expect an error, but my reading of the spec says that a bad named entity is only an error in the case in which the ampersand is followed by at least 1 alphanumeric character AND a semi-colon

[02:05:01.0000] <_mthz>
but the tests don't have a semi-colon, so they shouldn't be errors?

[02:06:00.0000] <zcorpan_>
the spec changed wrt this a while ago (at the same time as = was added to the list of special chars), maybe the tests haven't been updated

[02:06:01.0000] <_mthz>
gotcha

[02:08:00.0000] <_mthz>
the second question would be tests like "<h a='&not1'>" -- these also expect an error, but there shouldn't be one since the last matched character is followed by an alphanumeric

[02:09:00.0000] <_mthz>
same issue -- tests not updated?

[02:09:01.0000] <zcorpan_>
probably

[02:10:00.0000] <_mthz>
what's the best way for me to log a bug or get them updated?

[02:11:00.0000] <zcorpan_>
i guess http://code.google.com/p/html5lib/issues/list

[02:11:01.0000] <zcorpan_>
or you could fix them yourself

[02:35:00.0000] <zcorpan_>
ericsson are implementing <device>?

[02:36:00.0000] <Peter`>
Yes

[02:36:01.0000] <Peter`>
experimenting with webkit

[02:36:02.0000] <zcorpan_>
cool

[02:36:03.0000] <hsivonen>
on which OS?

[02:37:00.0000] <Peter`>
I've only seen examples for Mac OS X

[02:37:01.0000] <Peter`>
https://labs.ericsson.com/blog/beyond-html5-conversational-voice-and-video-implemented-webkit-gtk

[02:38:00.0000] <hsivonen>
Peter`: looks more like Ubuntu from the screenshots

[02:38:01.0000] <hsivonen>
/me has lost track of which operating systems Ericsson ships

[02:38:02.0000] <zcorpan_>
i guess <video autoplay muted> would solve their problem

[02:38:03.0000] <Peter`>
Uh, you're right

[02:38:04.0000] <hsivonen>
something Android and something with some version of Symbian on some level of the stack at least

[02:39:00.0000] <hsivonen>
/me wonders what Symbian is in the latest Ericsson Symbian devices and what the userland is (UIQ/Qt/S60/other?)

[02:40:00.0000] <hsivonen>
/me also wonders if Spotify on phones uses Vorbis or AAC

[02:44:00.0000] <annevk>
/me is wondering who'll be first with P2P

[02:45:00.0000] <annevk>
also http://code.google.com/p/chromium/issues/detail?id=55377

[02:47:00.0000] <jgraham>
What's the state of postMessage support in browsers?

[02:47:01.0000] <annevk>
magical "/" is not in everywhere but other than that it should be good, I think

[02:48:00.0000] <jgraham>
Which IE version?

[02:48:01.0000] <annevk>
8?

[02:48:02.0000] <annevk>
I forgot

[02:48:03.0000] <annevk>
seems like 8 per http://msdn.microsoft.com/en-us/library/cc197015(VS.85).aspx

[02:48:04.0000] <annevk>
but limited to strings

[02:49:00.0000] <zcorpan_>
firefox doesn't seem to support MessageChannel or message ports

[02:49:01.0000] <jgraham>
It seems like it could be used in testharness.js to communicate the test results. Dunno if the benefits are worth the costs though

[02:49:02.0000] <annevk>
no message ports?

[02:49:03.0000] <annevk>
how did they do workers then?

[02:51:00.0000] <zcorpan_>
they also don't support shared workers

[02:51:01.0000] <othermaciej>
the hybi list makes me sad

[02:52:00.0000] <jgraham>
othermaciej: Why? I stopped paying attention when people started talking about compression

[02:53:00.0000] <jgraham>
Unless the lack of focus is the problem that makes you sad of course :)

[02:53:01.0000] <othermaciej>
versioning, featureitis, poor signal-to-noise, some people who are clearly just straight up trolling

[02:53:02.0000] <annevk>
i have tuned out of hybi

[02:54:00.0000] <othermaciej>
ietf-standard "this is more important than mere web browsers" attitude

[02:54:01.0000] <annevk>
i believe we are shipping -76; guess we'll see what happens

[02:54:02.0000] <zcorpan_>
webkit seems to have the old order of the arguments for postMessage

[02:54:03.0000] <jgraham>
othermaciej: It would help if Ian Fette was more active, I think

[02:54:04.0000] <annevk>
the benefit of going to IETF was getting Hixie to draft saner framing (that nobody has implemented) the drawback is everything else

[02:55:00.0000] <annevk>
imo

[02:55:01.0000] <annevk>
taking way too long

[02:55:02.0000] <jgraham>
I don't know if hew is on holiday or what, but without someone actually editing the draft there is no direction

[02:55:03.0000] <zcorpan_>
he was on holiday last week apparently

[02:56:00.0000] <zcorpan_>
but should be back this week

[02:56:01.0000] <othermaciej>
he posted an update at some point

[02:57:00.0000] <jgraham>
9/9

[02:59:00.0000] <othermaciej>
new draft < 1 week ago is not so bad, though I guess it went for a while without

[03:00:00.0000] <othermaciej>
I'm more concerned about the contents of that draft than its timing

[03:00:01.0000] <jgraham>
I guess

[03:00:02.0000] <jgraham>
But no one is really discussing that

[03:02:00.0000] <othermaciej>
I guess 9/1 was the last actual draft posted

[03:19:00.0000] <hsivonen>
othermaciej: what HTML5 parsing difference from old WebKit is breaking mail apps with system WebKit?

[03:19:01.0000] <othermaciej>
hsivonen: <foo<foo>

[03:20:00.0000] <hsivonen>
othermaciej: how does Outlook deal?

[03:20:01.0000] <othermaciej>
I don't know

[03:20:02.0000] <othermaciej>
I'm not 100% sure of the origin of the emails containing this error

[03:20:03.0000] <hsivonen>
does Outlook use the Word engine these days? does Word parse differently from Trident?

[03:20:04.0000] <othermaciej>
but apparently a bunch of people already have them

[03:20:05.0000] <hsivonen>
othermaciej: It would be very good to have the data

[03:20:06.0000] <othermaciej>
I believe Outlook uses the Word engine

[03:21:00.0000] <othermaciej>
we could try to test the relevant emails in outlook or entourage or other mail clients

[03:21:01.0000] <hsivonen>
adding app-specific quirks seems very sad compared to taking this as data to uphold the old Gecko/WebKit behavior in HTML5

[03:21:02.0000] <hsivonen>
esp. since the old Gecko/WebKit behavior is nicer for HTML editors that want to fix user-typed markup

[03:22:00.0000] <hsivonen>
othermaciej: it would good to know if the emails are generated by an email app in the wild or if they are hand-crafted advertisements

[03:22:01.0000] <othermaciej>
I think we made an effort to argue for the old Gecko/WebKit behavior on this, based on some actual public site breakage, but yes, this issue also hits native apps and some intranet sites

[03:22:02.0000] <othermaciej>
I believe at least some of them were produced by an automated reporting system of some kind

[03:23:00.0000] <hsivonen>
othermaciej: was Hixie's counter-argument based on fairness towards IE, based on data or based on something else_

[03:23:01.0000] <hsivonen>
?

[03:24:00.0000] <othermaciej>
based on data that showed either way causes problems

[03:24:01.0000] <othermaciej>
but I don't think the details of that data were cited

[03:24:02.0000] <hsivonen>
othermaciej: OK

[03:25:00.0000] <othermaciej>
I have a vague feeling that IE might face the same issues in reverse from dependent apps or intranet sites, but intuitively it seems like the IE/Opera behavior is harder to depend on, since it will tend to produce a result that looks wrong

[03:25:01.0000] <annevk>
when I looked into this a long time ago we had issues either way

[03:25:02.0000] <hsivonen>
annevk: wouldn't it then make sense to pick the solution that sucks less for editors?

[03:26:00.0000] <hsivonen>
now we've picked the solution that makes the tokenizer code simpler

[03:27:00.0000] <annevk>
I'm not sure what makes sense; I guess I should try to find the relevant bug reports if we are serious about changing this

[03:27:01.0000] <annevk>
seems kind of a fundamental change but I guess it is worth looking into considering the breakage it causes for WebKit

[03:31:00.0000] <hsivonen>
annevk: it would be great if you could share the data that made you go the IE way

[03:35:00.0000] <annevk>
hsivonen, hard to find anything at all really

[03:36:00.0000] <hsivonen>
annevk: interesting!

[03:38:00.0000] <annevk>
well, my searching fu for bug systems is limited

[03:40:00.0000] <zcorpan_>
http://html5.org/tools/web-apps-tracker?from=900&to=902

[03:41:00.0000] <jgraham>
annevk: That is a generic problem :)

[03:42:00.0000] <zcorpan_>
http://html5.org/tools/web-apps-tracker?from=899&to=902 even

[03:48:00.0000] <zcorpan_>
http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-June/011804.html

[03:49:00.0000] <zcorpan_>
iirc, it was a web compat requirement to not close script for </script<div>

[03:50:00.0000] <othermaciej>
annevk: it's by far the top source of breakage for us (other than just plain implementation bugs, which are mostly now fixed)

[03:51:00.0000] <annevk>
oh lol, autofocus became a tracker issue

[03:53:00.0000] <erlehmann>
„Word engine“ WTF AM I READIN

[03:58:00.0000] <zcorpan_>
http://www.gearthblog.com/blog/archives/2006/06/more_detail_on.html has </ul <div> (and looks broken with html5 parser)

[03:58:01.0000] <annevk>
othermaciej, hsivonen, zcorpan_, I am unable to find the relevant bug; I found a bug where we implemented the HTML5 behavior but the reasons for doing so were not very clear, maybe cleanup; and I found a bug that supported the old WebKit/Gecko behavior

[03:58:02.0000] <annevk>
(for which we got the site fixed)

[03:58:03.0000] <othermaciej>
annevk: I am done spamming the tracker now

[03:58:04.0000] <othermaciej>
I had an issue party in my pants

[03:59:00.0000] <jgraham>
wtf?

[03:59:01.0000] <Philip`>
http://philip.html5.org/data/gt-in-tag.txt has <foo<foo>s in case anyone is looking for those

[03:59:02.0000] <Philip`>
(Ignore the filename, it lies)

[03:59:03.0000] <othermaciej>
annevk: interesting - maybe preponderance of the evidence would actually favor the WebKit/Gecko behavior

[04:00:00.0000] <annevk>
I seem to recall there was more to it, but this was back in 2008

[04:00:01.0000] <annevk>
othermaciej, I am starting to think that; it would be nice if I was able to find the other bugs too though

[04:00:02.0000] <othermaciej>
I'm willing to take another pass at requesting a change on this but I'd need help putting together all the data

[04:01:00.0000] <othermaciej>
I can try to dig up the issues we specifically ran into for WebKit but I am not familiar with whatever breakage Gecko hit and I can't commit to do data analysis on any large data sets

[04:02:00.0000] <erlehmann>
there should be google code search on all web sites indexed

[04:02:01.0000] <erlehmann>
so you could easily spot how often some construct occurs

[04:03:00.0000] <othermaciej>
that would be way cool

[04:03:01.0000] <erlehmann>
hixie probably has it already

[04:03:02.0000] <erlehmann>
%)

[04:09:00.0000] <annevk>
I'm not opposed to change the parser. So far I only found data for the old Gecko/WebKit way... Of course actually going through the data Philip` provided would give a more clear answer.

[04:11:00.0000] <othermaciej>
yeah, I'm just not sure how to determine which parsing behavior is "better" short of visual inspection with both kinds of parsing

[04:11:01.0000] <othermaciej>
which seems slow

[04:12:00.0000] <annevk>
e.g. for http://pageranking.cbgw-lensahn-slh.de/ HTML5 is better

[04:12:01.0000] <annevk>
they use markup like this:

[04:13:00.0000] <annevk>
<a class="footer" <a href="..." target="_blank">

[04:14:00.0000] <annevk>
but yeah, inspecting these would take a lot of time

[04:15:00.0000] <othermaciej>
the I think the issue I am talking about might be specifically <foo</foo>, despite my statement above

[04:16:00.0000] <annevk>
so < in the tag name state?

[04:16:01.0000] <othermaciej>
or at least the cases observed to be a problem

[04:16:02.0000] <annevk>
Philip`, any chance you can filter your data on that?

[04:16:03.0000] <othermaciej>
here's a particular example:

[04:16:04.0000] <othermaciej>
some bad content had this in it: <style type='text/css'td{width='60%' cellpadding='20%'}</style>

[04:17:00.0000] <othermaciej>
which ate the rest of the page instead of making an empty style element with some bogus attributes

[04:17:01.0000] <annevk>
Philip`, i.e. starts with < or </ then a-Z then <

[04:17:02.0000] <annevk>
one or more a-Z

[04:17:03.0000] <annevk>
oh wait

[04:18:00.0000] <othermaciej>
I don't think that matches what I'm describing

[04:18:01.0000] <annevk>
no not at all

[04:18:02.0000] <othermaciej>
what I'm saying is that in the bad cases we've observed, the broken open tag is followed by a close tag

[04:18:03.0000] <annevk>
you mean </ anywhere in the tag name

[04:18:04.0000] <othermaciej>
rather than another open tag

[04:18:05.0000] <annevk>
euh, tag

[04:18:06.0000] <othermaciej>
I'm not 100% sure that's all of them, but yeah

[04:19:00.0000] <othermaciej>
actually I am wrong, that is not all the bad cases

[04:19:01.0000] <othermaciej>
another was <td class="popbox" <input type="checkbox" />

[04:21:00.0000] <annevk>
that directly clashes with the one above

[04:21:01.0000] <annevk>
so breakage either way :/

[04:22:00.0000] <Philip`>
annevk: You should be able to just grep the .txt file, if you want to try various filters

[04:23:00.0000] <othermaciej>
in what way does the <a> one actually break?

[04:23:01.0000] <annevk>
styling is not applied

[04:23:02.0000] <annevk>
because it lacks class=footer

[04:23:03.0000] <othermaciej>
ok

[04:23:04.0000] <othermaciej>
I saw that some links looked blue instead of orange when I compared

[04:23:05.0000] <annevk>
Philip`, I guess, but it's no longer needed

[04:27:00.0000] <annevk>
going a bit more through it quite often it does not seem to matter either way

[04:30:00.0000] <jgraham>
You need to weight by badness of the problem of course

[04:31:00.0000] <jgraham>
Like eating the whole page on a few pages is worse than slight issues on more pages

[04:33:00.0000] <annevk>
need to do a lot of things

[04:34:00.0000] <annevk>
WHATWG, great nick

[04:35:00.0000] <hsivonen>
did someone file a spec bug about <foo<bar> already?

[04:35:01.0000] <annevk>
anyway, I guess I'm good either way; in any event do not let Opera be the reason for not changing this

[04:37:00.0000] <othermaciej>
hsivonen: I think abarth did and it was declined (not 100% sure though)

[04:38:00.0000] <zcorpan_>
if we change this, we need to investigate carefully what to change to. old webkit and gecko don't agree in all cases (iirc) and they don't make </script<div> close the script, iirc

[04:38:01.0000] <hsivonen>
what did Opera do in 2006?

[04:39:00.0000] <hsivonen>
it would suck to use circular reasoning to make HTML5 do something, because of Opera if Opera changed to match HTML5

[04:39:01.0000] <zcorpan_>
i think we did the same as we do now

[04:39:02.0000] <hsivonen>
zcorpan_: I'd be willing to special-case "script" in the tag name, even

[04:39:03.0000] <hsivonen>
zcorpan_: OK

[04:39:04.0000] <annevk>
zcorpan_, no we didn't

[04:39:05.0000] <zcorpan_>
annevk: you sure?

[04:39:06.0000] <annevk>
pretty sure yes

[04:40:00.0000] <annevk>
see pm

[04:42:00.0000] <zcorpan_>
oh, previously we parsed <p<div> as <p <div=""> i.e. with an attribute "<div"

[04:44:00.0000] <zcorpan_>
so we were still closer to ie than gecko and webkit for both <p<div> and <p <div>

[04:46:00.0000] <zcorpan_>
we fixed that in 2008 to match ie and html5

[04:51:00.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=507498

[04:52:00.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=510252

[04:52:01.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=523516

[04:52:02.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=543652

[04:53:00.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=590416

[04:57:00.0000] <phrearch>
hi

[04:58:00.0000] <phrearch>
does anyone know how to determin the boundary in a Content-Type header for a multipart form post?

[05:03:00.0000] <zcorpan_>
also see http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-June/011891.html

[05:07:00.0000] <annevk>
http://w3.markmail.org/search/?q= public-html is getting closer to www-style

[05:09:00.0000] <annevk>
hmm, public-webapps is not even in the full list

[05:09:01.0000] <annevk>
not indexed at all? :/

[05:10:00.0000] <annevk>
oh, they call it public-webapi

[05:10:01.0000] <annevk>
and public-appformats

[05:10:02.0000] <annevk>
so all that is duplicated?

[05:30:00.0000] <hsivonen>
fwiw, the bug is http://www.w3.org/Bugs/Public/show_bug.cgi?id=9985 in case anyone wants to add more data or CC self

[05:36:00.0000] <zcorpan_>
hsivonen: maybe you should reopen the bug for Hixie to see it

[05:40:00.0000] <hsivonen>
zcorpan_: OK

[07:16:00.0000] <MikeSmith>
I think I've asked this question before, but I'll ask again -- is there any way to CSS selectors to express, e.g, "a <foo class=note> that is NOT followed by another <foo class=note>"?

[07:17:00.0000] <MikeSmith>
use case is: If I have one or more class=note instances in a row, as siblings, then I want to number the first one NOTE 1, the second NOTE 2, etc.

[07:17:01.0000] <MikeSmith>
but if I have only one class=note without any following class=note siblings, then I want to nub

[07:18:00.0000] <Rik`>
MikeSmith: afaict you can't

[07:18:01.0000] <MikeSmith>
*want to omit the number and just have NOTE

[07:18:02.0000] <MikeSmith>
Rik`: OK

[07:18:03.0000] <MikeSmith>
was hoping there's some magic I'm missing

[07:19:00.0000] <Rik`>
MikeSmith: maybe with something like ".note:first-child:last-child"

[07:19:01.0000] <Rik`>
if all your .note are inside an element

[07:19:02.0000] <MikeSmith>
they aren't, unfortunately

[07:19:03.0000] <MikeSmith>
it's a very flat structure I'm working with

[07:20:00.0000] <MikeSmith>
output converted from MS Word source

[07:26:00.0000] <erlehmann>
MikeSmith, format foo.note for something. format foo.note + foo.note for something else?

[07:26:01.0000] <erlehmann>
hmm

[07:26:02.0000] <erlehmann>
not

[07:26:03.0000] <erlehmann>
oh well

[07:27:00.0000] <MikeSmith>
erlehmann: thanks, but the hope is for me to not have to add additional markup for N different notes

[07:28:00.0000] <MikeSmith>
the document has dozens of these

[07:28:01.0000] <erlehmann>
MikeSmith, i would suggest you fix your ms word then.

[07:28:02.0000] <erlehmann>
like, dig out the source code of that export tool or something.

[07:29:00.0000] <erlehmann>
or use XSLT on the source. it is, like, black magic, only with XML.

[07:29:01.0000] <erlehmann>
disclaimer: i once wrote a CMS in XSLT. i know a guy who uses a CMS consisting mainly of XSLT. and makes money with it. sadly, it is not me.

[07:30:00.0000] <jgraham>
erlehmann: How much money would you have to make for a life of maintaining XSLT to be worthwhile?

[07:31:00.0000] <jgraham>
MikeSmith: Wold it be too optimistic to hope for the ECMAScript spec?

[07:32:00.0000] <MikeSmith>
erlehmann: thanks for the suggestion, I'll file it away with the many other suggestions for things that I can't do anything about

[07:32:01.0000] <MikeSmith>
jgraham: hope? how so?

[07:33:00.0000] <MikeSmith>
hope for it to be published, or …?

[07:33:01.0000] <jgraham>
MikeSmith: Hope that you are converting it to HTML :)

[07:33:02.0000] <MikeSmith>
oh

[07:33:03.0000] <MikeSmith>
I have done most of the conversion already

[07:33:04.0000] <erlehmann>
jgraham, that would depend on N squared, where N is the number of dom nodes.

[07:34:00.0000] <erlehmann>
MikeSmith, you cannot into XSLT?

[07:34:01.0000] <Rik`>
MikeSmith: maybe the safest way to go is to use javascript to add a class on single notes

[07:34:02.0000] <MikeSmith>
jgraham; what remains is, I now need to add consistent IDs to replace the generated ones that are in the source

[07:34:03.0000] <MikeSmith>
erlehmann: using XSLT for this would be one of those "now you have two problems" cases

[07:35:00.0000] <MikeSmith>
for one thing, the document is HTML, not XHTML

[07:35:01.0000] <erlehmann>
harr harr

[07:35:02.0000] <Philip`>
That's easy, just use XSLT4HTML5

[07:35:03.0000] <jgraham>
MikeSmith: You have crossreferenced all the headings and instances of terms? 

[07:35:04.0000] <erlehmann>
first i was like :D

[07:35:05.0000] <erlehmann>
but then i D:

[07:35:06.0000] <jgraham>
Because that is what I really crave

[07:37:00.0000] <jgraham>
e.g. I really really want to be able to click on [[HasOwnProperty]] and be taken to the right section

[07:37:01.0000] <MikeSmith>
Rik`: yeah, that is what I am thinking too

[07:37:02.0000] <MikeSmith>
and what I will probably do (use JS)

[07:38:00.0000] <MikeSmith>
jgraham: I've got it at github and welcome collaborators once I've got this initial conversion done

[07:38:01.0000] <MikeSmith>
cross-referencing headings I can probably do trivially

[07:39:00.0000] <MikeSmith>
because the spec uses, e.g., "see 15.5.6.3" pretty consisently

[07:39:01.0000] <MikeSmith>
terms are not marked up in the source

[07:40:00.0000] <MikeSmith>
so that would be pretty tough

[07:41:00.0000] <jgraham>
Yeah :(

[07:41:01.0000] <MikeSmith>
Norm Walsh calls this "dragging unstructured markup uphill"

[07:42:00.0000] <MikeSmith>
anyway, for ES6 I will personally volunteer to help them create the source for the spec using something better

[07:42:01.0000] <MikeSmith>
and will make sure that they publish and HTML version 

[07:43:00.0000] <jgraham>
Yeah, unless you can convince the committee that microsoft word is a dumb format, it will be like that thing where you drag the stone up hill, and then it rolls back down again, for eternity

[07:43:01.0000] <MikeSmith>
(to the degree that I am able to get the TC39 folks to do it, at least)

[07:43:02.0000] <MikeSmith>
yeah

[07:44:00.0000] <annevk>
MikeSmith, you can select all subsequent notes using ~

[07:45:00.0000] <MikeSmith>
annevk: what I need is for the case where there are no subsequent notes to be styled differently from the case where there are

[07:46:00.0000] <annevk>
aah

[08:54:00.0000] <erlehmann>
MikeSmith, jgraham, how come they use word at all?

[08:55:00.0000] <MikeSmith>
erlehmann: dunno, I guess it may be the common format among ecma TCs

[08:55:01.0000] <MikeSmith>
it's not uncommon in other SDOs at all

[08:56:00.0000] <MikeSmith>
ITU, for example

[08:56:01.0000] <erlehmann>
ECMA could at least use Office Open XML, harr harr

[08:57:00.0000] <MikeSmith>
I suppose ECMA has a lot of committees, most of which have nothing to do with the Web

[08:57:01.0000] <MikeSmith>
and they are organizationally probably not super Web-savvy

[08:57:02.0000] <jgraham>
erlehmann: I assumed it was because the editor works for Microsoft and because they like the change marking features

[08:58:00.0000] <jgraham>
That is entirely a guess though

[08:58:01.0000] <MikeSmith>
http://www.ecma-international.org/publications/standards/Standard.htm

[09:00:00.0000] <erlehmann>
jgraham, the first part sounds reasonable. the second, in the year 5 after git? the year 30something after DIFF?

[09:02:00.0000] <jgraham>
erlehmann: It's not like diff produces nice output for flowed text documents

[09:02:01.0000] <jgraham>
For code it is OK

[09:02:02.0000] <jgraham>
But I don't recall seeing anything that will let me go from diff to a word-like presentation of bits deleted and bits inserted

[09:03:00.0000] <jgraham>
/me can't believe he is defending word here

[09:04:00.0000] <jgraham>
For the record: I hate word. But I have heard that people in publishing like the change control functionality

[09:09:00.0000] <TabAtkins>
MikeSmith: Rik` is right - CSS doesn't allow you to express a selector that depends on information later in the document; that is, on information in descendants or later siblings.

[09:09:01.0000] <MikeSmith>
TabAtkins: ok

[09:09:02.0000] <Rik`>
and that's sad :(

[09:09:03.0000] <TabAtkins>
There's very good reasons for it, but yeah, it's kinda annoying.

[09:10:00.0000] <MikeSmith>
there's tradeoffs to everything

[09:10:01.0000] <MikeSmith>
such is life

[09:12:00.0000] <Rik`>
I should send my first mail to www-style about input:required::after { content: "*" }

[09:13:00.0000] <TabAtkins>
I can already tell you the response.

[09:13:01.0000] <TabAtkins>
input is a replaced element, so ::before and ::after are undefined for it currently.

[09:14:00.0000] <Rik`>
I know but there is a usecase to solve

[09:14:01.0000] <TabAtkins>
Agreed; there's just no solution currently.  There are only two ways to change it:

[09:14:02.0000] <TabAtkins>
1) Make <input> not a replaced element (probably not going to work).

[09:15:00.0000] <Rik`>
one of my ideas was involving CSS to not target the latest element of a selector

[09:16:00.0000] <TabAtkins>
2) Actually implement ::outside, which *is* cool for replaced elements, so you can use input:required::outside::after (that is, generated an after pseudo for the outside pseudo).

[09:16:01.0000] <Rik`>
(which is what MikeSmith want and why it reminded me of this topic)

[09:16:02.0000] <erlehmann>
TabAtkins, what would break if replaced elements suddenly get ::before and ::after?

[09:16:03.0000] <erlehmann>
what is ::outside? o.0

[09:16:04.0000] <TabAtkins>
erlehmann: It's not a matter of what woudl break, but rather what it even *means*.  The *definition* of a replaced element is "something that CSS doesn't know what's inside".

[09:16:05.0000] <erlehmann>
oh.

[09:17:00.0000] <TabAtkins>
erlehmann: Check out the Generated and Replaced Content draft.  Years old and unimplemented, but the idea's there.

[09:17:01.0000] <erlehmann>
<http://www.w3.org/TR/css3-content/> This, I think?

[09:17:02.0000] <TabAtkins>
Yeah.

[09:18:00.0000] <jgraham>
TabAtkins: Well there are *lots* of things with form elements that Should Not Work per CSS but magically do anyway

[09:19:00.0000] <TabAtkins>
jgraham: Indeed, which is why tantek is working on that now.

[09:24:00.0000] <Rik`>
TabAtkins: wow, I didn't know about ::outside

[09:24:01.0000] <Rik`>
is it implemented somewhere ?

[09:30:00.0000] <TabAtkins>
No, and there are currently no plans to do so anywhere that I know of.

[09:49:00.0000] <softdrink>
is there a good way to discover the implicit relationship of a <td> to any <th>, <col>, or <colgroup> elements that it 'belongs' to?

[09:53:00.0000] <TabAtkins>
No easy way, no.  You can check pretty easily for any <th> in the same <tr>, but for <col>/<colgroup> you have to do some potentially complex cell-counting (extra-hard because the position of a cell may be affected by colspans in a previous row).

[09:54:00.0000] <softdrink>
That's the conclusion I'm coming to.  Seems there's absolutely no way to do it in css.  The "headers" attribute seems super redundant to add just for targeting.

[09:55:00.0000] <softdrink>
The more I try to use tables for mildly complex data, the less sense the spec makes to me. ;)

[09:58:00.0000] <Workshiva>
Blame CSS, not HTML :)

[09:58:01.0000] <jgraham>
softdrink: It *can* be done see http://james.html5.org/tables/table_inspector.html

[09:58:02.0000] <Philip`>
Pfft, you expect specs to make sense? Are you crazy?

[09:58:03.0000] <jgraham>
It just can't be done from CSS

[09:58:04.0000] <jgraham>
or easily from anywhere

[09:59:00.0000] <softdrink>
right, which is a shame hehe

[10:05:00.0000] <TabAtkins_>
hsivonen: http://lists.w3.org/Archives/Public/www-style/2010Sep/0440.html

[10:07:00.0000] <TabAtkins_>
Or anyone else, ^^^, which option in the second part is easiest to implement?

[10:09:00.0000] <Hixie>
why do the a11y group think the drag and drop API in HTML is inaccessible?

[10:10:00.0000] <Hixie>
anyone know if they just mean the implementations so far, or is there some problem with the API itself?

[10:21:00.0000] <annevk>
Hixie, the keyboard bit got dropped from the spec; that might have prompted it

[10:22:00.0000] <annevk>
Hixie, but really, vacation time :)

[11:10:00.0000] <zcorpan_>
ie9 beta eh?

[11:20:00.0000] <jgraham>
They put print abouve file in the menu? Interesting

[11:20:01.0000] <jgraham>
*above

[11:43:00.0000] <espadrine>
"the browser is the stage, or backdrop, for the web, and the sites are the star of the show"

[11:43:01.0000] <espadrine>
That sounds like Google Chrome

[11:44:00.0000] <zcorpan_>
the ui is a lot better than ie8

[11:44:01.0000] <espadrine>
undoubtably

[11:46:00.0000] <softdrink>
except that i can't seem to have the new tab page just *blank*

[11:48:00.0000] <hsivonen>
so is there a notification API in IE9? if yes, does it resemble Web Notifications drafts?

[11:48:01.0000] <jgraham>
/me has only seen screenshots

[11:48:02.0000] <jgraham>
I guess it won't run under wine :)

[11:50:00.0000] <Philip`>
That would defeat their "we're better than other browsers because we're not cross-platform" claim, so I'd assume not

[11:56:00.0000] <zcorpan_>
seems only 4 out of their 19 "html5 demos" demo things that are in the html5 spec

[11:56:01.0000] <hsivonen>
/me notes that PP4 run on Windows 7 even with graphics drivers that don't do fancy DirectX

[11:56:02.0000] <hsivonen>
*runs

[11:56:03.0000] <Peter->
They removed their implementation of the flexbox module

[11:57:00.0000] <Peter->
as well as parsing of 2D CSS Transforms

[11:57:01.0000] <hsivonen>
I wonder why 2D transforms were removed

[11:57:02.0000] <Peter->
apparently only "filter" is supported as a css property, not "-ms-filter"

[12:00:00.0000] <hober>
time for my n-times-weekly ping for feedback on http://www.w3.org/html/wg/wiki/User:Eoconnor/ISSUE-41

[12:04:00.0000] <annevk>
http://www.beautyoftheweb.com/assets/images/content/logo-html5.png via mattur

[12:06:00.0000] <hsivonen>
annevk: I wonder if it is authorized

[12:10:00.0000] <jgraham>
http://www.neowin.net/news/optimizing-your-site-for-internet-explorer-9039s-new-features-part-1 lots of values to register there

[12:21:00.0000] <espadrine>
Easy to make fun of the design choice: http://static.arstechnica.com/ie-9-beta-1/excessive-tabs.png

[12:30:00.0000] <espadrine>
The white 5px-tall rectangle above the page feels odd and ugly...

[12:30:01.0000] <hsivonen>
hmm. I discovered operaunite.com, appspot.com and blogspot.com are already or being added to the public suffix list

[12:30:02.0000] <hsivonen>
interesting development

[12:45:00.0000] <erlehmann>
hsivonen, „public suffix list“ ?

[12:47:00.0000] <erlehmann>
jgraham, msapplication-task tags? can anyone explain what distinguishes that from favicons?

[12:47:01.0000] <erlehmann>
oh. silly me

[12:47:02.0000] <Workshiva>
erlehmann: For determining cookie privacy and such

[12:47:03.0000] <erlehmann>
forget those lines.

[12:48:00.0000] <Workshiva>
subdomains of example.com can share, but subdomains of co.uk shouldn't be able to

[12:50:00.0000] <zcorpan_>
hsivonen: interesting indeed

[12:50:01.0000] <erlehmann>
Workshiva, I get it. Those silly uk TLD issues.

[12:52:00.0000] <erlehmann>
what is the default behaviour for suffixes if they are not on the list?

[12:52:01.0000] <erlehmann>
forbid?

[12:53:00.0000] <Workshiva>
Good question

[12:59:00.0000] <gsnedders>
/me is fairly certain the girls in this flat will shortly set off the fire alarm

[13:05:00.0000] <Workshiva>
How about stopping them before the fact

[13:10:00.0000] <gsnedders>
Workshiva: Like they heed my warnings

[13:11:00.0000] <gsnedders>
(I did say they probably were about to…)

[13:11:01.0000] <gsnedders>
/me is waiting for it

[13:15:00.0000] <mpilgrim>
opera folk: is it possible to remove/alter the default UI for type="number" fields? As in, I want an <input type="number"> without the up/down arrow buttons

[13:16:00.0000] <annevk>
nope

[13:16:01.0000] <bl4ckcomb>
currently you can't style the new inputs 

[13:17:00.0000] <mpilgrim>
searching brought up my own work as the top result, which is never a good sign when you know you don

[13:17:01.0000] <mpilgrim>
't know something

[13:17:02.0000] <mpilgrim>
ok, thanks

[13:19:00.0000] <mpilgrim>
and with that answer, my inbox is down to 157

[13:22:00.0000] <Philip`>
http://blogs.msdn.com/b/ieinternals/archive/2010/09/15/ie9-beta-minor-change-list.aspx - "DataURIs may now be used in SCRIPT SRC attributes. The ACID3 test contains the following example: [...] …although there's no reason that you should do this."

[13:22:01.0000] <Philip`>
Shouldn't they be supporting data: because it's a widely-implemented standard, not simply special-casing the bits the Acid tests use?

[13:23:00.0000] <annevk>
mpilgrim, I got a copy btw; still need to take some time to read it :)

[13:24:00.0000] <mpilgrim>
annevk: copy of what?

[13:24:01.0000] <Peter->
Philip`: they don't, there was a bug of it on microsoft connect which got closed with "intended behavior" as its reason

[13:25:00.0000] <annevk>
mpilgrim, your latest book; you know, on paper

[13:26:00.0000] <mpilgrim>
oh, don't read that, it's several months out of date

[13:26:01.0000] <gsnedders>
Paper? People still use that thing?

[13:26:02.0000] <annevk>
:)

[13:26:03.0000] <mpilgrim>
gsnedders: even worse, people still pay money for it

[13:26:04.0000] <mpilgrim>
people baffle me

[13:27:00.0000] <mpilgrim>
just in general, but also why they give me money in particular

[13:30:00.0000] <hsivonen>
I haven't seen anything about a JIT for VBScript in IE9. Is VBScript now officially unloved?

[13:43:00.0000] <AryehGregor>
hsivonen, yes, they said JS is integrated into the browser and VBScript lives outside somehow.

[13:44:00.0000] <AryehGregor>
There was a blog post about it.

[13:44:01.0000] <AryehGregor>
(in which they made vague allusions that WebKit was inferior for having multiple JS engines)

[13:56:00.0000] <hsivonen>
AryehGregor: ok. I had missed that

[14:30:00.0000] <jgraham>
Should get a copy of mpilgrim's book for the office bookshelf

[14:33:00.0000] <hober>
mark mailed me a review copy; I feel guilty that I haven't posted a review yet.

[14:55:00.0000] <karlushi>
Are there Javascript libraries to create sounds? a bit like canvas can create graphics.

[15:01:00.0000] <jgraham>
karlushi: Only Mozilla have the right kind of API for that atm. I don't know if webapps are standardising it

[15:03:00.0000] <jgraham>
https://wiki.mozilla.org/Audio_Data_API

[15:03:01.0000] <jgraham>
I hope they are thaking it to some standards body

[15:04:00.0000] <karlushi>
jgraham, oh thanks. 

[15:05:00.0000] <karlushi>
it crossed my mind today because of this http://www.vexflow.com/

[16:14:00.0000] <Rik`>
karlushi: Firefox has a working Audio API and Chrome is working on it, don't know the exact state


2010-09-16
[17:20:00.0000] <reluctantwebdev>
Any humans here?

[17:20:01.0000] <jcranmer>
no

[17:20:02.0000] <TabAtkins>
Nah, just IRC bots.

[17:20:03.0000] <reluctantwebdev>
Darn.

[17:20:04.0000] <jcranmer>
we're all zombies here

[17:20:05.0000] <reluctantwebdev>
Oh well.

[17:20:06.0000] <bl4ckcomb_>
turing was wrong

[17:21:00.0000] <reluctantwebdev>
I’m fairly certain I can beat any web bot at whether it’s a bot or not, so I’ll stick around to see. :)

[17:21:01.0000] <reluctantwebdev>
So anyway, I had some thoughts about web development that I’d like to share.

[17:22:00.0000] <TabAtkins>
You said "I'd like to share".  Tell me more about that.

[17:22:01.0000] <reluctantwebdev>
Hah!

[17:22:02.0000] <reluctantwebdev>
Good one!

[17:22:03.0000] <reluctantwebdev>
Moving on...

[17:23:00.0000] <reluctantwebdev>
The way I see it, all web pages have 3 things that need to be covered.

[17:23:01.0000] <reluctantwebdev>
Layout, content handling, and the content itself.

[17:24:00.0000] <reluctantwebdev>
When I’m trying (and failing) to make a web page, it’s usually because I want to put the layout down first.

[17:24:01.0000] <reluctantwebdev>
As I would prefer it, I’d pretty much rather have layout be its own document. That way, I can change the layout without changing the content, and without changing how that content is handled.

[17:25:00.0000] <bl4ckcomb_>
that's why there is CSS

[17:25:01.0000] <reluctantwebdev>
Not exactly.

[17:25:02.0000] <bl4ckcomb_>
html is structure and semantics

[17:25:03.0000] <reluctantwebdev>
Sure, CSS handles layout, but it also handles things completely unrelated to layout.

[17:25:04.0000] <reluctantwebdev>
Stylizing content has NOTHING to do with layout.

[17:25:05.0000] <reluctantwebdev>
Yes, I’m aware of what HTML purports to do.

[17:26:00.0000] <reluctantwebdev>
Frankly, in my opinion, it’s a content handler.

[17:26:01.0000] <reluctantwebdev>
Or the content itself, really.

[17:26:02.0000] <reluctantwebdev>
HTML is the content, CSS is the content handler, saying how the content should be presented.

[17:26:03.0000] <bl4ckcomb_>
html is the structure which contains content

[17:27:00.0000] <reluctantwebdev>
Only sort of.

[17:27:01.0000] <bl4ckcomb_>
I'm not sure what you mean by handler

[17:27:02.0000] <reluctantwebdev>
One could argue that paragraphs themselves are content.

[17:27:03.0000] <bl4ckcomb_>
html doesnt doe anything with content then saying its there

[17:27:04.0000] <reluctantwebdev>
Well, suppose you had a video.

[17:27:05.0000] <bl4ckcomb_>
*do

[17:27:06.0000] <reluctantwebdev>
But, when you put up the video on your website, you want to stylize it.

[17:28:00.0000] <reluctantwebdev>
So, you feed the video to your content handler, and the content handler adds snow, or sepia tones or whatever.

[17:28:01.0000] <reluctantwebdev>
Not that we can do that, currently;

[17:28:02.0000] <reluctantwebdev>
but it’s the same metaphor as stylizing text.

[17:29:00.0000] <bl4ckcomb_>
thats not the purpose of html. html will for instance define controls for video

[17:29:01.0000] <reluctantwebdev>
See, from where I’m sitting, CSS is trying to handle both the bottom of the document, the layout, and the middle of the document, BUT ONLY IF THE DOCUMENT IS TEXT.

[17:29:02.0000] <bl4ckcomb_>
not effects

[17:29:03.0000] <reluctantwebdev>
Yes, I know this.

[17:29:04.0000] <reluctantwebdev>
I’m saying that not respecting this whole “layout, content handler, content” hierarchy is flawed.

[17:30:00.0000] <reluctantwebdev>
For instance, what exists in place of CSS for video, or audio even?

[17:30:01.0000] <TabAtkins>
You haven't said anything about anything violating the hierarchy yet.

[17:30:02.0000] <TabAtkins>
And I can't parse that last sentence.

[17:30:03.0000] <reluctantwebdev>
There is no such thing.

[17:30:04.0000] <bl4ckcomb_>
reluctantwebdev, js can manipulate things

[17:30:05.0000] <reluctantwebdev>
Yes, maybe it can, but you wouldn’t want to stylize video with it.

[17:31:00.0000] <bl4ckcomb_>
video or the player?

[17:31:01.0000] <reluctantwebdev>
Then we’re just using a plugin again, bl4ckcomb.

[17:31:02.0000] <TabAtkins>
Oh, you want to style a video?  FF has a (currently proprietary) ability to use SVG filters on HTML content via CSS.  This should be specified in some manner in the future with the Filters Module for CSS.

[17:31:03.0000] <bl4ckcomb_>
not exactly

[17:32:00.0000] <reluctantwebdev>
The issue isn’t that I want to stylize a video.

[17:32:01.0000] <reluctantwebdev>
My point is, stylization should be done by the content handler, whatever that content handler is.

[17:32:02.0000] <TabAtkins>
Which is CSS, presumably.  Which can stylize a video.  Is there a problem?

[17:32:03.0000] <bl4ckcomb_>
you mean adding properties to a structure, reluctantwebdev ?

[17:33:00.0000] <reluctantwebdev>
What I’m trying to get it is that trying to get CSS to stylize everything is ridiculous.

[17:33:01.0000] <reluctantwebdev>
I also think that having CSS do layout is ridiculous, but that’s kind of another thing.

[17:33:02.0000] <TabAtkins>
You haven't made any such argument yet.  You've so far just made a few observations that don't appear to be leading anywhere concrete.

[17:34:00.0000] <reluctantwebdev>
For instance, how would you stylize video of the World Cup to filter out those annoying horns?

[17:34:01.0000] <bl4ckcomb_>
you do it before you publish it

[17:34:02.0000] <TabAtkins>
You want to do advanced audio processing?  Do that before you send the video to the browser.

[17:34:03.0000] <reluctantwebdev>
Yes, but you don’t specify the font before you publish text content to the web, do you?

[17:35:00.0000] <reluctantwebdev>
I’m pointing out that we have an inconsistency between how text and video are handled.

[17:35:01.0000] <TabAtkins>
Because specifying the font isn't computationally intensive and requiring of techniques beyond most webdevs.

[17:35:02.0000] <bl4ckcomb_>
video is non-readable content

[17:35:03.0000] <bl4ckcomb_>
the user agent must download it separately

[17:35:04.0000] <reluctantwebdev>
That all depends on how the video is encoded, Bl4ckcomb.

[17:36:00.0000] <reluctantwebdev>
What I really think is missing is that you are not treating the issues of layout, content handling, and the content itself as separate areas.

[17:36:01.0000] <reluctantwebdev>
Much like how WSIWYG stuff was crammed into HTML thoughtlessly.

[17:37:00.0000] <bl4ckcomb_>
huh?

[17:37:01.0000] <TabAtkins>
Nah, we're definitely treating them as separate areas.  We're also practical about it, though.

[17:37:02.0000] <reluctantwebdev>
We can’t anticipate how the content of the future is going to be styled.

[17:37:03.0000] <bl4ckcomb_>
I'm not following at all

[17:38:00.0000] <reluctantwebdev>
bl4ckcomb, for instance, why are we changing a document whose main purpose is to stylize text in order to do the layout of the web page, which is a completely separate issue?

[17:39:00.0000] <TabAtkins>
The fact that CSS has properties for text styles and, separately, properties for document layout doesn't mean anything.

[17:39:01.0000] <reluctantwebdev>
I think it does.

[17:39:02.0000] <TabAtkins>
Your argument seems to be suggesting that you think the text-styling language and the document-layout language *must* be different things.

[17:39:03.0000] <TabAtkins>
Presumably because using a different syntax makes them more "independent"?

[17:40:00.0000] <reluctantwebdev>
My point is, I don’t see any rationale as to why they are the SAME thing.

[17:40:01.0000] <TabAtkins>
...and?

[17:41:00.0000] <reluctantwebdev_>
Bah, disconnected.

[17:41:01.0000] <TabAtkins>
"I dont' see a good reason for X" isn't the same as "I see a good reason for not X".

[17:42:00.0000] <reluctantwebdev_>
I can understand, for instance, why HTML should be purely semantic.

[17:42:01.0000] <bl4ckcomb_>
reluctantwebdev, you could develop your own style language to style video's, but imo its better that css is extended for that purpose and certainly not html

[17:42:02.0000] <reluctantwebdev_>
I do not understand why that means that layout, which is a completely different issue from style, should be lumped into CSS.

[17:43:00.0000] <reluctantwebdev_>
Moreover, I don’t see why HTML should be the document web browsers look for if it isn’t going to be handling issues like layout.

[17:43:01.0000] <bl4ckcomb_>
reluctantwebdev, CSS does things that need to be seen or experienced as a human user. html gives everything that user agents (not only browsers) must know

[17:43:02.0000] <TabAtkins>
You're making an argument that the current design of the web platform appears somewhat arbitrary.

[17:43:03.0000] <TabAtkins>
The answer to that is "Yes, it is."

[17:43:04.0000] <reluctantwebdev_>
Exactly.

[17:44:00.0000] <TabAtkins>
But you aren't making an argument that it is bad, or that there is a better solution.

[17:44:01.0000] <reluctantwebdev_>
I’m making the argument that, in that people are at least somewhat logical, there should be a somewhat logical layout to the division of labor.

[17:44:02.0000] <reluctantwebdev_>
If only so that people can understand how to make web pages easier.

[17:45:00.0000] <reluctantwebdev_>
I’m also asking if there has been any effort thus far to actually make a web document structure with meaningful division of labor.

[17:45:01.0000] <TabAtkins>
You haven't made an argument that the current division is illogical, just that it's somewhat arbitrary.

[17:46:00.0000] <reluctantwebdev_>
If you want to change the layout of a file, you don’t want to change the style of the content.

[17:46:01.0000] <TabAtkins>
Again, CSS being both a styling and a layout language is an accident of history, but it's not so far been an actual problem.

[17:46:02.0000] <reluctantwebdev_>
Lumping those two things together is illogical.

[17:46:03.0000] <TabAtkins>
...yes?

[17:46:04.0000] <TabAtkins>
Lumping the two such that changing one changed the other would be.

[17:46:05.0000] <reluctantwebdev_>
I’m merely stating that it’s a problem for ME.

[17:46:06.0000] <TabAtkins>
Having the two be separate features in a single language/document isn't illogical.

[17:47:00.0000] <reluctantwebdev_>
TabAtkins, having both features in a document only makes sense if that document contains all necessary information to display the web page.

[17:47:01.0000] <reluctantwebdev_>
I figure you either lump it all together, or you provide meaningful division of labor.

[17:48:00.0000] <reluctantwebdev_>
Either approach makes sense to me, and the status quo does not.

[17:48:01.0000] <TabAtkins>
That's one possible way to do it, yes.  It's not a requirement.

[17:49:00.0000] <daedb>
If you want layout and style to be separate documents, just put them in separate css files and link both of them :p

[17:49:01.0000] <reluctantwebdev_>
One thing I wonder about is why bother having CSS style text at all, when we turn to outside sources for video anyway?

[17:49:02.0000] <TabAtkins>
I don't understand.

[17:50:00.0000] <reluctantwebdev_>
When we play videos, we embed a video player in our web page to handle the content.

[17:50:01.0000] <reluctantwebdev_>
Why are we bothering stylizing text? Why not just have an embeddable text displayer, capable of handling stylized content on its own?

[17:51:00.0000] <reluctantwebdev_>
The whole mess seems inconsistent.

[17:51:01.0000] <TabAtkins>
Because text is easy to display, and cheap bandwidth-wise to send over in a plain manner.

[17:52:00.0000] <bl4ckcomb_>
reluctantwebdev_, I still see videos, tables, images, ... as attachments to the text that is displayed

[17:52:01.0000] <reluctantwebdev_>
Is it really that much better than just calling something to display an RTF?

[17:53:00.0000] <TabAtkins>
Apparently, yes.

[17:53:01.0000] <reluctantwebdev_>
Based on... ?

[17:53:02.0000] <TabAtkins>
History of the web platform?

[17:54:00.0000] <reluctantwebdev_>
I recognize the need to maintain backwards compatibility. At the same time, that isn’t really evidence that it is better than an alternative.

[17:55:00.0000] <TabAtkins>
Indeed, there are better alternatives.  There's no path going from here to there, though.

[17:56:00.0000] <reluctantwebdev_>
It seems to me, that, for the most part, HTML wants to evolve into merely a type of content, rather than the means by which that content is displayed, in much the same manner as a pure text file is content without formatting.

[17:57:00.0000] <reluctantwebdev_>
But I need to take content I already have, slap some style on it, and lay it out on the web page.

[17:58:00.0000] <reluctantwebdev_>
I may change the layout from time to time, I may change the style, and I may change the content.

[17:58:01.0000] <reluctantwebdev_>
But rarely will I ever modify two out of the 3 at once.

[18:01:00.0000] <reluctantwebdev_>
Not that there is an alternative that embodies this approach (for the web, anyway), but it seems like this is how web pages can, should, and often are, built; and it seems like the languages we use to code web pages aught to reflect that.

[18:01:01.0000] <TabAtkins>
You're still attempting to assert without evidence that it is better to have your three concerns handled by different languages.

[18:02:00.0000] <reluctantwebdev_>
In order to have evidence, I’d have to point to an industry that dynamically displays content on a regular bais.

[18:02:01.0000] <reluctantwebdev_>
Err, basis.

[18:02:02.0000] <reluctantwebdev_>
One that isn’t the Web.

[18:02:03.0000] <TabAtkins>
Not necessarily.  You just have to, you know, make an argument.  So far your argument appears to be "Well, I think it's cleaner this way."

[18:03:00.0000] <jcranmer>
you can do it that way if you use, say XSLT

[18:03:01.0000] <reluctantwebdev_>
I suspect there’s good reason I’ve never heard of XSLT.

[18:03:02.0000] <jcranmer>
what it comes down to is that things remain the way they are, I suppose

[18:04:00.0000] <jcranmer>
because people want them to be that way

[18:04:01.0000] <reluctantwebdev_>
No, if people wanted them to be that way, they’d be touting how great this division of labor is above anything else.

[18:04:02.0000] <jcranmer>
right now, you already have to effectively learn HTML, JS, and CSS

[18:04:03.0000] <reluctantwebdev_>
Exactly. That in itself is ridiculous.

[18:05:00.0000] <jcranmer>
your proposal would increase the number of languages to use

[18:05:01.0000] <reluctantwebdev_>
Maybe it would, but it makes more sense than kicking out JUST HTML.

[18:05:02.0000] <jcranmer>
JS for dynamic content, HTML for static content, CSS for styling, MAGIC for layout

[18:06:00.0000] <TabAtkins>
reluctantwebdev_: You're still not giving a reason why ripping out a chunk of CSS's functionality and giving it a different syntax would be an improvement.

[18:06:01.0000] <jcranmer>
the current answer seems to be using HTML to brush out the layout and CSS to actually fill it in

[18:06:02.0000] <reluctantwebdev_>
Because layout has its own issues that are not addressed by improving style attributes.

[18:07:00.0000] <jcranmer>
CSS already does most of the layout

[18:07:01.0000] <reluctantwebdev_>
Improving the ability to do layout has nothing to do with the ability to improve style, and deserves its own resources.

[18:07:02.0000] <jcranmer>
designing a new language would not give it its own resources

[18:07:03.0000] <jcranmer>
look at XHTML 2 :-)

[18:07:04.0000] <TabAtkins>
So are you now asserting that giving a chunk of CSS a different syntax will produce more resources for it?

[18:08:00.0000] <reluctantwebdev_>
I am merely asserting that the status quo is unacceptable and that someone should do something about it.

[18:08:01.0000] <TabAtkins>
You're asserting that, yes.  So far without any evidence.

[18:08:02.0000] <jcranmer>
well, clearly, the CSS WG is interested in tackling layout

[18:08:03.0000] <jcranmer>
that's why you have advanced layout and flexbox modules

[18:09:00.0000] <reluctantwebdev_>
I think that web pages should have a sensible design methodology behind them, and right now, they don’t.

[18:09:01.0000] <jcranmer>
how not?

[18:09:02.0000] <TabAtkins>
You haven't made the argument that they don't.

[18:11:00.0000] <reluctantwebdev_>
Layout, content, and how the content is handled should all be on equal footing from one another, because they are all independent parts of the design process, with their own separate issues.

[18:12:00.0000] <reluctantwebdev_>
You could also argue that they are interdependent, but you could not argue that some are interdependent, and the others are not.

[18:12:01.0000] <TabAtkins>
And they are currently.  You're trying to assert that, because two of them are addressed under the umbrella of a particular syntax, that they're not.  You're wrong.

[18:12:02.0000] <jcranmer>
layout and content are very highly interdependent

[18:13:00.0000] <reluctantwebdev_>
That’s not true, jcranmer.

[18:13:01.0000] <jcranmer>
if I had a boilerplate copyright notice, I want that to be laid out in a specific location

[18:13:02.0000] <jcranmer>
adding new content impacts my layout

[18:13:03.0000] <reluctantwebdev_>
If the length of your content changes, either the layout must also change, or must be pre-configured to allow scrolling in the same space.

[18:13:04.0000] <jcranmer>
as I said, modifying your content at the very least requires you to consider the impact to layout

[18:14:00.0000] <reluctantwebdev_>
Right, but if you also increase the size of your font, then that changes the layout also.

[18:14:01.0000] <reluctantwebdev_>
Sometimes, you change the size of the font to suit the layout.

[18:14:02.0000] <reluctantwebdev_>
Yes, I misunderstood you initially.

[18:14:03.0000] <jcranmer>
clearly, they are not independent

[18:14:04.0000] <reluctantwebdev_>
No, not entirely.

[18:15:00.0000] <reluctantwebdev_>
But they still have independent steps in the design process.

[18:15:01.0000] <reluctantwebdev_>
You may go back for tweaking, but for the most part, the general shape stays the same.

[18:15:02.0000] <jcranmer>
not necessarily

[18:16:00.0000] <jcranmer>
well, I'm not a professional web developer

[18:16:01.0000] <reluctantwebdev_>
Neither am I, frankly.

[18:16:02.0000] <jcranmer>
or web designer

[18:16:03.0000] <reluctantwebdev_>
I’m just saying that the languages should conform to the process.

[18:17:00.0000] <jcranmer>
my understanding of the process is this

[18:17:01.0000] <reluctantwebdev_>
Programming languages may exist for the sake of interpretation by computer, but their FORM should exist for the people that use them.

[18:17:02.0000] <jcranmer>
you get a graphics designer to sketch out how the site should look

[18:17:03.0000] <jcranmer>
you then get the web developer to actually implement that design

[18:17:04.0000] <reluctantwebdev_>
The layout, more or less.

[18:18:00.0000] <reluctantwebdev_>
Yes, but that doesn’t break it down nearly enough.

[18:18:01.0000] <jcranmer>
either that, or the graphics designer just pulls up, say, Dreamweaver and the web developer groans

[18:18:02.0000] <reluctantwebdev_>
First, you come up with the layout, so that you can nail down usability.

[18:19:00.0000] <jcranmer>
in none of the design processes that I've observed has that really happened

[18:19:01.0000] <reluctantwebdev_>
Maybe not. :P

[18:19:02.0000] <jcranmer>
in any case

[18:19:03.0000] <reluctantwebdev_>
Then again, that could just be a symptom of the current division of labor.

[18:19:04.0000] <jcranmer>
there's no great clamor to change the way it's done

[18:19:05.0000] <jcranmer>
it's clearly good enough for now

[18:21:00.0000] <reluctantwebdev_>
Well, of course the people that can stomach it are content with the status quo... :P

[18:25:00.0000] <reluctantwebdev_>
Anyway, I figure that as long as the tools of web development have irrational divisions of labor, we’re going to be stuck with poor WSIWYG tools.

[18:27:00.0000] <jcranmer>
as long as WYSIWYG attempts to get pixel perfection, we're going to have crappy WYSIWYG tools

[18:28:00.0000] <bl4ckcomb_>
code generators are crappy by definition

[18:28:01.0000] <jcranmer>
not necessarily

[18:34:00.0000] <reluctantwebdev_>
Something that might demonstrate my point is to see how many otherwise modern web pages use CSS for styling but HTML for formatting.

[18:35:00.0000] <reluctantwebdev_>
I wouldn’t know how to get that, though.

[18:36:00.0000] <jcranmer>
that's not too hard

[18:36:01.0000] <jcranmer>
just scrape a load of pages

[18:37:00.0000] <reluctantwebdev_>
It’s my understanding that Google did a study, and that study is the basis of a lot of the HTML 5 decisions, by using what’s actually used in practice.

[18:41:00.0000] <GPHemsley>
It it valid for a runaway <a> to span multiple <li>s?

[18:41:01.0000] <GPHemsley>
(from a rendering perspective)

[18:56:00.0000] <MikeSmith>
GPHemsley: what does it mean, "runaway <a>" ?

[18:56:01.0000] <GPHemsley>
came across a situation where an </a> was accidentally written as </li>

[18:56:02.0000] <reluctantwebdev_>
I think he means without an ending tag.

[18:56:03.0000] <MikeSmith>
OK, so that's not valid

[18:56:04.0000] <GPHemsley>
thus, there was <li>Text before link <a>Runaway link</li> Text supposed to be after link</li><li>Another point altogether. Should this be linkified?</li>

[18:56:05.0000] <GPHemsley>
Not valid markup, obviously

[18:56:06.0000] <GPHemsley>
but what should the browser do in that situation?

[18:57:00.0000] <TabAtkins>
You'd have to look at the parser/tokenizer part of the spec.  (I dunno.)

[18:57:01.0000] <GPHemsley>
:P

[18:58:00.0000] <MikeSmith>
GPHemsley: what TabAtkins said -- it should close the <a> element where the parsing algorithm says it should be closed

[18:58:01.0000] <MikeSmith>
and the rendering is then whatever you end up with in the DOM after that

[18:58:02.0000] <GPHemsley>
any tips (= links) to which part specifically I should be looking at?

[19:00:00.0000] <GPHemsley>
(Any idea what the non-HTML5 behavior was?)

[19:00:01.0000] <GPHemsley>
Pardon me for bringing my logic in with me for a moment, but I would think that the link should end with the </li>, no?

[19:00:02.0000] <MikeSmith>
the non-HTML5 behavior is likely pretty much what's in the spec

[19:02:00.0000] <GPHemsley>
hmm... it appears that what the browser did may be what the spec says (not that I'm surprised)

[19:02:01.0000] <GPHemsley>
http://dev.w3.org/html5/spec/the-end.html#misnested-tags:-b-p-b-p

[19:02:02.0000] <MikeSmith>
GPHemsley: you can use Live DOM Viewer to check this kind of stuff

[19:02:03.0000] <GPHemsley>
nah, I don't care that much :)

[19:03:00.0000] <MikeSmith>
OK, then I'l quit taking any more time to try to help you figure it out :)

[19:06:00.0000] <GPHemsley>
:P

[19:07:00.0000] <GPHemsley>
Well, I was just curious if I'd found a bug... and currently, there are two strikes against that

[19:07:01.0000] <GPHemsley>
;)

[21:40:00.0000] <MikeSmith>
so I'm trying to serialize a DOM tree

[21:40:01.0000] <MikeSmith>
to another window

[21:40:02.0000] <MikeSmith>
I do var x = window.open();

[21:41:00.0000] <MikeSmith>
then x.document.write(document.toString());

[21:41:01.0000] <MikeSmith>
but I don't get the document content serialized out 

[21:42:00.0000] <MikeSmith>
I instead get "[object HTMLDocument]"

[21:43:00.0000] <MikeSmith>
clearly I'm doing something wrong

[22:16:00.0000] <othermaciej>
hi all

[22:25:00.0000] <MikeSmith>
is there a restriction on being able to save the content of an about:blank window?

[22:25:01.0000] <MikeSmith>
save = user manually saves it to a file on filesystem

[22:27:00.0000] <MikeSmith>
my WebKit tells me, "The document "foo bar" could not be exported to "foo.html"

[22:28:00.0000] <MikeSmith>
and Chrome does not even give me a menu option for saving it

[22:28:01.0000] <MikeSmith>
and Gecko appears to not even let me write to the window to begin with

[01:27:00.0000] <zcorpan_>
MikeSmith: document.toString() is "[object HTMLDocument]"

[01:27:01.0000] <zcorpan_>
MikeSmith: maybe you want document.innerHTML, but that's not implemented anywhere

[01:28:00.0000] <jgraham>
If you don't care about things outside the <html> element, you could use .outerHTML on the root element

[01:29:00.0000] <zcorpan_>
i don't know what restrictions there are for about:blank documents

[01:30:00.0000] <hober>
have any of the major browser vendors expressed interest, one way or another, in implementing some form of distributed extensibility in text/html?

[01:30:01.0000] <hober>
besides msft, who have said they'd rather not: http://lists.w3.org/Archives/Public/public-html/2010Aug/0116.html

[01:30:02.0000] <jgraham>
hober: Microsoft did but then said that it shouldn't be in HTML5

[01:31:00.0000] <hober>
jgraham: indeed

[01:31:01.0000] <micheil>
hey, anyone on the microsoft board of directors want to get IE9 onto XP?

[01:31:02.0000] <micheil>
(like, if anyone has some contacts or anything like that? :P )

[01:31:03.0000] <hober>
micheil: I imagine that'll happen when safari 5 runs on mac os 10.3

[01:32:00.0000] <jgraham>
I assume the Microsoft borad of directors don't hang out in #whatwg

[01:32:01.0000] <hober>
jgraham: not usually anyway

[01:32:02.0000] <zcorpan_>
hober: i think some vendors have expressed interest in implementing microdata

[01:32:03.0000] <zcorpan_>
which is some form of distributed extensibility in text/html

[01:32:04.0000] <micheil>
hober: slightly different I think, considering the os x updates happen pretty easily

[01:33:00.0000] <micheil>
jgraham: I had a feeling about that.

[01:33:01.0000] <jgraham>
I'm pretty sure some of the others must have said they didn't want to implement namespaces somewhere citable

[01:33:02.0000] <hober>
zcorpan_: true, but I think when people say "distributed extensibility" what they mean is "custom element names"

[01:33:03.0000] <jgraham>
But I couldn't tell you where

[01:34:00.0000] <zcorpan_>
hober: when some people say "distributed extensibility" what they mean is "xml namespaces in text/html"

[01:34:01.0000] <hober>
micheil: honestly, I've never upgraded an Mac OS X machine from 10.n to 10.n+1

[01:34:02.0000] <hober>
micheil: the autoupdates get you from 10.n.m to 10.n.m+1

[01:34:03.0000] <hober>
zcorpan_: indeed

[01:35:00.0000] <jgraham>
When some people say "distributed extensibility" they mean "the ability to write fbml templates and send them over the wire as valid HTML"

[01:35:01.0000] <hober>
jgraham: yeah, same here, but now that I'm writing the null CP it'd be nice to have citations

[01:35:02.0000] <micheil>
oh, well, at any rate, I think there'd be more XP machine out there then 10.3 machines

[01:35:03.0000] <jgraham>
Which makes no sense to me whatsoever

[01:35:04.0000] <hober>
jgraham: i think it boils down to microsoft word export-to-html o:foo elements

[01:38:00.0000] <zcorpan_>
http://diveintomark.org/archives/2009/10/05/distributed-unicorns-and-ponies

[01:42:00.0000] <hober>
zcorpan_: classic

[02:01:00.0000] <ashaw>
Didi anyone here see my CIE coleospace proposal on css-style, any coments?

[02:12:00.0000] <ashaw>
Did anyone here see my CIE colorspace proposal on css-style? any coments?

[02:12:01.0000] <erlehmann>
ashaw, still not

[02:12:02.0000] <annevk>
no need to ask questions twice

[02:13:00.0000] <annevk>
we have logs

[02:13:01.0000] <ashaw>
sorry, I was correcting my spelling.

[02:13:02.0000] <annevk>
the convention for that is s/coleospace/colorspace/ normally

[02:13:03.0000] <ashaw>
sorry.

[02:14:00.0000] <annevk>
no worries

[02:16:00.0000] <ashaw>
Is there any way to force integer operations in Javascript.

[02:16:01.0000] <ashaw>
?

[02:16:02.0000] <ashaw>
As in crypto operations it is often a great disadvantage to use floats.

[02:17:00.0000] <ashaw>
.. implementing a library to do ECC over prime fields ..

[02:18:00.0000] <jgraham>
No

[02:19:00.0000] <ashaw>
could there be one in the future?

[02:19:01.0000] <jgraham>
But modern javascript engines are well optimised

[02:19:02.0000] <ashaw>
yes.

[02:19:03.0000] <jgraham>
So there is a good chance that if the number can be represented as an integer internally it will be

[02:20:00.0000] <ashaw>
but I use both the upper and lower half of the float so -- a*b = x+y

[02:20:01.0000] <annevk>
ojan_, it will need to be lowercase beforeinput though :)

[02:20:02.0000] <ashaw>
a, b, 26 bit integers.

[02:21:00.0000] <ashaw>
can be done without floats, but not.

[02:21:01.0000] <ashaw>
instead we need casts between floats and ints and other such anoyances

[02:22:00.0000] <annevk>
so do you have some code that you think ought to run faster?

[02:22:01.0000] <ashaw>
yep.

[02:22:02.0000] <ashaw>
just give me a sec.

[02:22:03.0000] <jgraham>
If you think a language limitation is mking you slow you need to post to es-discuss⊙mo

[02:23:00.0000] <annevk>
cryptography is supposedly part of these benchmarks that come out every other month or so

[02:23:01.0000] <ashaw>
no, this can be optimised. and public crypto is not.

[02:24:00.0000] <jgraham>
annevk: That is a bit unfair. There are like 3 serious javascript benchmarks

[02:24:01.0000] <ashaw>
inputs x, y integers < 23 bits.

[02:24:02.0000] <ashaw>
var a= x*y

[02:25:00.0000] <ashaw>
var temp = Math.floor(v/0x4000000)

[02:25:01.0000] <annevk>
euhm, a pointer would suffice

[02:25:02.0000] <ashaw>
ok

[02:25:03.0000] <annevk>
but yeah, es-discuss is the place

[02:29:00.0000] <ashaw>
pastie http://pastie.org/1162362

[02:30:00.0000] <ashaw>
and no it is not a language limitation.

[02:30:01.0000] <MikeSmith>
zcorpan_: thanks

[02:31:00.0000] <MikeSmith>
but I took a look at how Robin Berjon's respec tool handles this, and I'm now noticing that I have exactly the same problem when I try to save content generated with respec

[02:33:00.0000] <jgraham>
MikeSmith: For something that was designed to work with HTML, DOM is surprisingly poor at letting you parse and serialize HTML

[02:34:00.0000] <MikeSmith>
jgraham, yeah, seems so

[02:35:00.0000] <ashaw>
is this case optimised at opera, as my testing says that it is very slow compared to the native code.

[02:35:01.0000] <ashaw>
in all browsers.

[02:52:00.0000] <gsnedders>
ashaw: Opera, like every other ES engine, stores numbers as int32 when possible

[02:53:00.0000] <gsnedders>
(By and large, there are a few cases where it's stored as a double regardless)

[02:53:01.0000] <ashaw>
I know, the problem is that in the temp variable that is used nowhere else, you cannot store it as an int32.

[02:54:00.0000] <ashaw>
did you look at the code

[02:56:00.0000] <gsnedders>
No, but I have now.

[02:58:00.0000] <gsnedders>
Theoretically you could notice that the only operation it is used in starts with ToInt32() and just use int32 maths for it

[02:59:00.0000] <gsnedders>
However, I'm somewhat dubious this is going to be a serious bottleneck anytime soon

[03:02:00.0000] <ashaw>
 I meant my code

[03:05:00.0000] <gsnedders>
I meant your code too

[03:05:01.0000] <ashaw>
ah, where does the ToInt32

[03:05:02.0000] <ashaw>
.

[03:06:00.0000] <ashaw>
come from, where I got this has no ToInt32()

[03:07:00.0000] <gsnedders>
ashaw: ToInt32 is the first operation applyed to both LHS and RHS of the & operator in the ES engine.

[03:07:01.0000] <gsnedders>
(Well, this is untrue, to the value of the LHS and RHS)

[03:08:00.0000] <ashaw>
ah hah.

[03:08:01.0000] <ashaw>
the reason this is a problem is this runs in the core loop of most Public key crypto code.

[03:11:00.0000] <gsnedders>
Hmm, most benchmarks I've seen involving crypto haven't looked too slow for most real-world usage

[03:13:00.0000] <hsivonen>
the terminology around run/execute/evaluate a script is sad

[03:13:01.0000] <ashaw>
0.2s per encryption.

[03:13:02.0000] <hsivonen>
within the spec

[03:13:03.0000] <hsivonen>
and within Gecko

[03:13:04.0000] <hsivonen>
but especially across the spec and Gecko

[03:15:00.0000] <ashaw>
yes.

[03:15:01.0000] <ashaw>
but not fast enough to be useful as it could be.

[03:19:00.0000] <annevk>
hsivonen, attributes are unordered, right?

[03:25:00.0000] <jgraham>
annevk: YEs

[03:25:01.0000] <jgraham>
s/E/e/

[03:28:00.0000] <annevk>
I guess for now I will comment out all the Attr stuff and then add the new things

[03:33:00.0000] <hsivonen>
annevk: they are logically unordered but .attributes must stay in a stable order

[03:34:00.0000] <hsivonen>
annevk: IIRC, in Gecko, the iteration order of attributes is the reverse of the source order and in IE the iteration order depends on how the attribute names get hashed

[03:35:00.0000] <hsivonen>
actually, it's the reverse of the source order in HTML and the source order in XML in Gecko

[03:36:00.0000] <hsivonen>
annevk: IIRC, Flash Player depends on the order in which the attributes of <embed> are passed to it

[03:37:00.0000] <hsivonen>
so is there now both IE9 beta and PP5? do they have different engine snapshots?

[03:40:00.0000] <jgraham>
I recall he same thing about the flash player now that you mention it

[03:42:00.0000] <MikeSmith>
does foolip not come on IRC any more?

[03:43:00.0000] <annevk>
isn't embed in a-z order or something?

[03:52:00.0000] <ashaw>
I have discovered a bug in the code that I pasted ( in my edits to the paste)

[03:52:01.0000] <ashaw>
new code at http://pastie.org/1162427

[03:53:00.0000] <ashaw>
this code is run in a tight loop and in my ECC code 70% of time is in this code.

[03:53:01.0000] <ashaw>
is there any way to make this faster in any browsers.

[03:54:00.0000] <ashaw>
ECC: elliptic curve cryptography.

[03:55:00.0000] <jgraham>
Argh. The [ython logging module is insane

[03:55:01.0000] <jgraham>
*python

[03:55:02.0000] <jgraham>
insane

[03:56:00.0000] <jgraham>
Would it be so hard to write something like:

[03:56:01.0000] <jgraham>
logger = logging.logger(dest=sys.stdout, level="info")

[03:56:02.0000] <jgraham>
and get something that works?

[03:56:03.0000] <jgraham>
Rather than go through insane contortions

[04:08:00.0000] <timdown>
Hi all. I have some concerns about the text selections part of the HTML5 spec. I'd like to suggest some changes and am unsure of the most effective way of doing this.

[04:08:01.0000] <timdown>
Suggestions?

[04:13:00.0000] <Philip`>
timdown: The W3C Bugzilla is probably the best way for suggesting changes

[04:13:01.0000] <Philip`>
The WHATWG mailing list might be better if you want more discussion about it

[04:13:02.0000] <annevk>
timdown, changes that are not backwards compatible can probably not be made; new features are probably best done by convincing implementors

[04:15:00.0000] <timdown>
My concerns are all about the spec not being compatible with current browser implementations

[04:16:00.0000] <timdown>
I assume that's what you meant by backwards compatible, since previous versions of HTML have no text selection API

[04:18:00.0000] <annevk>
oh great

[04:18:01.0000] <annevk>
whatwg⊙wo would be best for that I think

[04:18:02.0000] <timdown>
I've filed a couple of bugs in Bugzilla, about a week ago, with no response. Is that normal? If so, I'll go quietly.

[04:19:00.0000] <annevk>
the editor is on a break

[04:19:01.0000] <timdown>
Ah, fair enough.

[04:19:02.0000] <annevk>
and bugs have taken up to three months before

[04:20:00.0000] <annevk>
there's lots of tiny issues everywhere so it takes a bit of time

[04:20:01.0000] <Philip`>
Mailing list posts have taken up to three years for a response

[04:20:02.0000] <timdown>
Great :)

[04:20:03.0000] <timdown>
OK, I'll be more patient.

[04:20:04.0000] <annevk>
Philip`, yeah, but not emails pointing out compatibility problems I think

[04:21:00.0000] <annevk>
timdown, what are the bug numbers?

[04:21:01.0000] <timdown>
10583, 10624

[04:22:00.0000] <timdown>
Actually that last one is only 3 days old, so I've exaggerated a bit.

[04:24:00.0000] <annevk>
Selection.toString() sounds like innerText

[04:24:01.0000] <timdown>
IE's innerText presumably

[04:25:00.0000] <timdown>
doesn't WebKit implement innerText as an alias for textContent? Or did I imagine that?

[04:25:01.0000] <Ms2ger>
It's not that simple

[04:25:02.0000] <annevk>
timdown, reportedly not

[04:26:00.0000] <Ms2ger>
innerText apparently even strips out the contents of script elements

[04:26:01.0000] <annevk>
timdown, e.g. just like in your example <script> is excluded

[04:26:02.0000] <annevk>
timdown, formatting is even taken into account

[04:26:03.0000] <timdown>
yes

[04:27:00.0000] <annevk>
textContent does none of that, it simply takes descendant Text nodes

[04:27:01.0000] <timdown>
I knew that innerText and textContent differed and that innerText stripped more out, but I forget the details.

[04:27:02.0000] <timdown>
Yes.

[04:28:00.0000] <timdown>
Much like Range.toString().

[04:29:00.0000] <timdown>
Ah, maybe it's Opera that aliases innerText to textContent.

[04:30:00.0000] <annevk>
prolly

[04:31:00.0000] <annevk>
we should fix that, but ideally someone first writes down how

[04:34:00.0000] <hsivonen>
jgraham: I whined to Canonical through paid support about the jumpiness under load since the first half of August problem

[04:37:00.0000] <timdown>
annevk, yes. Trying to write down the rules it should follow was not very appealing so I didn't do it for the bug report.

[04:37:01.0000] <timdown>
10624 I think is maybe more important

[04:39:00.0000] <jgraham>
hsivonen: Did anything happen?

[04:40:00.0000] <hsivonen>
jgraham: I whined a few minutes ago. let's see.

[04:40:01.0000] <hsivonen>
since I came back from vacation, I've been too busy with Gecko work to complain to Canonical about all the things that hinder my Gecko hacking

[04:41:00.0000] <kennyluck>
karlcow: re: Mozilla Audio data API, W3C launched the Audio Incubator Group for that -> http://www.w3.org/2010/04/audio/audio-incubator-charter

[04:42:00.0000] <karlcow>
kennyluck: ah thanks. I'll check that.

[04:42:01.0000] <karlcow>
the issue so far I have identified with Audio data API is that it is not a sound API, but an API to manipulate uploaded sounds. 

[04:44:00.0000] <karlcow>
Canvas gives the ability to create 2D graphics, I wonder if it would be possible to create sounds directly. modulation, envelop, frequency, tone, etc.

[04:44:01.0000] <karlcow>
maybe I have missed something

[04:44:02.0000] <kennyluck>
karlcow: I believe it is a sound API. See http://schepers.cc/web-audio-goes-to-eleven

[04:44:03.0000] <karlcow>
I will read more carefully

[04:45:00.0000] <karlcow>
kennyluck: thanks again :)

[04:45:01.0000] <kennyluck>
(the example looks extremely interesting, but I don't yet have time to test it. Cause you need to compile some branch apparently)

[04:46:00.0000] <annevk>
Ms2ger, is this concept of ID/class attributes useful?

[04:47:00.0000] <annevk>
Ms2ger, I think we should just say that the id="" attribute defines the element-ID and the class="" attribute defines the element-classes

[04:47:01.0000] <Ms2ger>
On which elements?

[04:50:00.0000] <annevk>
all of them

[04:51:00.0000] <annevk>
failing that, it would be "attribute X" defines the ID and "attribute Y" defines the classes, depending on the markup language et al

[04:52:00.0000] <annevk>
no need to say anything at the Attr level since this is an Element thing

[05:14:00.0000] <annevk>
AttrExodus is quite a big undertaking; hopefully someone will implement it

[05:37:00.0000] <annevk>
done

[05:41:00.0000] <MikeSmith>
does Opera support CSS columns stuff?

[05:42:00.0000] <annevk>
not yet

[05:45:00.0000] <MikeSmith>
oh

[06:09:00.0000] <annevk>
Ms2ger, for setAttribute maybe "starts with xmlns" should be banned?

[06:10:00.0000] <Ms2ger>
Probably

[06:10:01.0000] <annevk>
and I guess setAttributeNS should have all the same restrictions as createElementNS

[06:11:00.0000] <annevk>
Peter`, got any closer on compareDocumentPosition?

[06:59:00.0000] <MikeSmith>
hmm, http://ajaxian.com/archives/simulating-hover-and-double-clicks-with-pure-css-on-mobile-devices is interesting

[06:59:01.0000] <MikeSmith>
though, '“dblclick” is a native JavaScript event'

[07:00:00.0000] <hsivonen>
oh. IE9 beta replaced IE8

[07:00:01.0000] <hsivonen>
they didn't make that too clear ahead of installation

[07:00:02.0000] <hsivonen>
oh well

[07:01:00.0000] <hsivonen>
at least I still have IE8 for testing on XP

[07:04:00.0000] <hsivonen>
bah. the script error IE9 gives on this test case is not helpful: http://hsivonen.iki.fi/test/moz/sheet-blocking-script4.php

[07:26:00.0000] <miketaylr>
hsivonen: yeah you had to install ie9 preview 5 for a chromeless install that won't wipe out ie8

[07:28:00.0000] <smaug____>
how do I file bugs on Opera?

[07:28:01.0000] <smaug____>
or where

[07:28:02.0000] <Philip`>
https://bugs.opera.com/wizard/

[07:29:00.0000] <jgraham>
smaug____: Let me know the bug number you get back

[07:38:00.0000] <smaug____>
jgraham: "An error occurred while processing your bug report" :(

[07:40:00.0000] <smaug____>
jgraham: anyway, the bug is that :hover isn't consistent

[07:40:01.0000] <smaug____>
jgraham: http://mozilla.pettay.fi/moztests/hover.html

[07:40:02.0000] <smaug____>
jgraham: try to move mouse from parent document to iframe

[07:40:03.0000] <smaug____>
:hover state is kept properly

[07:41:00.0000] <smaug____>
if you move mouse outside window and then straight to the iframe, parent document doesn't get :hover state

[07:51:00.0000] <smaug____>
jgraham: any idea why I can't file bugs?

[08:01:00.0000] <hsivonen>
does anyone have an explanation of what exactly IE8 and IE9 are doing here: http://hsivonen.iki.fi/test/moz/sheet-blocking-script4.php ?

[08:01:01.0000] <hsivonen>
Does IE block the parser on <link> until the sheet has loaded?

[08:02:00.0000] <hsivonen>
AFAICT, my other tests in the sheet-blocking-script series suggest that IE generally continues parsing after <link>

[08:11:00.0000] <jgraham>
smaug____: (sorry my computer just died)

[08:11:01.0000] <jgraham>
smaug____: No idea why you can't file bugs

[08:11:02.0000] <jgraham>
I can ask

[08:20:00.0000] <jgraham>
smaug____: No, I'm told it should be working

[08:21:00.0000] <jgraham>
So erm, I'm not that useful

[08:43:00.0000] <hsivonen>
what's the deal with the blue outline in Opera at http://css-tricks.com/examples/ExpandingCaptionedImages/ ?

[08:43:01.0000] <hsivonen>
does outline: none; not suppress the outline in Opera?

[08:46:00.0000] <hsivonen>
eww. Chrome and Chromium don't anti-alias -webkit-transform rotations

[08:50:00.0000] <Rik`>
hsivonen: I think outline: 0; works better

[08:53:00.0000] <hsivonen>
Kudos to Opera for not visibly lowering the rendering quality during the transition

[08:54:00.0000] <hsivonen>
and for not rendering rotated text with hinting enabled (eww)

[08:56:00.0000] <hsivonen>
Rik`: at least Opera doesn't have the hideous outline when clicking. in a way, it makes sense not to let authors take the outline away when using the keyboard

[08:56:01.0000] <hsivonen>
Now that IE9 beta is out, I should probably do some community service and map out how the mode switching works

[08:58:00.0000] <Rik`>
outline: 0; seems to do nothing either so I guess you can't cancel it

[08:59:00.0000] <Rik`>
hsivonen: is it supposed to include IE6, 7 and 8 modes ?

[09:00:00.0000] <hsivonen>
Rik`: I think it has 5.5, 7, 8, 9 and something called 9 7 Compatibility View

[09:00:01.0000] <hsivonen>
dunno what the last one is

[09:01:00.0000] <Rik`>
how can they keep up with the maintenance ?

[09:01:01.0000] <hsivonen>
maybe the last thing is what happens if you press the compat mode button

[09:01:02.0000] <hsivonen>
maybe it means 5.5 or 7 depending on doctype

[09:02:00.0000] <hsivonen>
or something

[09:02:01.0000] <hsivonen>
oh, and I'd expect the 8 mode to have almost standards and standards within it

[09:02:02.0000] <hsivonen>
I wonder if the 9 mode also still has almost standards and standards

[09:02:03.0000] <hsivonen>
testing this is gonna be so much fun!

[09:03:00.0000] <hsivonen>
I think IE6 Standards Mode is the only mode that has been dropped from IE since 5.5

[09:05:00.0000] <hsivonen>
awesome! There is indeed IE9 Standards and IE9 Almost Standards

[09:12:00.0000] <annevk>
yeah, so far you cannot disable our custom outline

[09:12:01.0000] <annevk>
we might add it though

[09:13:00.0000] <annevk>
IE9 Almost Standards?

[09:13:01.0000] <annevk>
so only quirks mode is incorrect?

[09:13:02.0000] <annevk>
i.e. quirks mode triggers the gazillion other modes

[09:15:00.0000] <hsivonen>
IE9 Almost Standards is what you get with an almost standards doctype and without X-UA-Compatible or any blacklists or overrides

[09:16:00.0000] <hsivonen>
zcorpan_, Philip`: I finally got around to reviewing Microsoft's IE8 flowchart from March, and I believe mine is more accurate

[09:21:00.0000] <hsivonen>
what's quirky, standards or almost standards hasn't changed since IE8

[09:31:00.0000] <annevk>
I guess I'll move namespaceURI/localName/prefix from Node to Element and then request publication next week

[09:31:01.0000] <annevk>
prolly marked NodeExodus or some such

[09:31:02.0000] <annevk>
might as well put some of the bold ideas in there

[09:44:00.0000] <hsivonen>
hmm. does Microsoft not use the Public Suffix List?

[09:44:01.0000] <hsivonen>
iki.fi is on the list, but IE9 highlights "iki.fi" instead of "hsivonen.iki.fi"

[10:04:00.0000] <annevk>
hmm

[10:04:01.0000] <annevk>
did anyone else just get this email: 'Welcome to the "ietf-types" mailing list'?

[10:34:00.0000] <hsivonen>
if http://lostworldsfairs.com/moon/ is demoing WOFF, why does the font not look the same in Mac Minefield as it does in IE9?

[10:34:01.0000] <Philip`>
Because they have different font renderers?

[10:36:00.0000] <Philip`>
Or because Typekit does bad UA sniffing?

[12:38:00.0000] <hsivonen>
Philip`: I meant different on the level of showing a different font (from the OS font set, I think)

[14:01:00.0000] <MikeSmith>
jarib: you around?

[14:02:00.0000] <MikeSmith>
wanted to ask if you have interest in helping out with testing effort among Webapps, CSS, HTML, SVg WGs

[14:05:00.0000] <AryehGregor>
Oh, IE9 beta released.  I'm really behind.  (Well, it was only yesterday, but still.)

[14:06:00.0000] <AryehGregor>
/me doesn't have time to read the whole post

[14:07:00.0000] <MikeSmith>
me has not made time to look in detail either

[14:07:01.0000] <MikeSmith>
but seems like generally a really Good Thing

[14:08:00.0000] <MikeSmith>
and also seems good that they are immediately continuing on the next Platform Preview in parallel with the beta

[14:08:01.0000] <MikeSmith>
which seems like they are following the same dev model as other porjects

[14:09:00.0000] <MikeSmith>
(semi)stable release on one hand, dev releases on the other

[14:11:00.0000] <jarib>
MikeSmith: i do have interest. time might be more of an issue, though :)

[14:11:01.0000] <jarib>
anything in particular you're looking to do?

[14:11:02.0000] <MikeSmith>
jarib: just looking to have as much help with it as we can get -- especially testing-savvy people

[14:16:00.0000] <MikeSmith>
hey what happened to JonathanNeal?

[14:16:01.0000] <MikeSmith>
after his triumphant invention of the HTML5 gang sign, seems like he went quiet

[14:18:00.0000] <MikeSmith>
/me points jarib at DM

[14:21:00.0000] <paul_irish>
MikeSmith: he has a tendency to do that. :/

[14:22:00.0000] <paul_irish>
he met a girl.. said he found his wife.. said he was quitting webdev.. took her to hawaii, where she dumped him.

[14:22:01.0000] <MikeSmith>
works better than e-mail

[14:22:02.0000] <paul_irish>
so now he's back sort of. kind of. sometimes.

[14:22:03.0000] <MikeSmith>
paul_irish: ah, oK

[14:22:04.0000] <MikeSmith>
didn't know about the draam

[14:23:00.0000] <MikeSmith>
I do empathize

[14:23:01.0000] <paul_irish>
aye

[14:23:02.0000] <paul_irish>
isnt there a style control thing where you can have an element tree ignore any cascading styles?

[14:31:00.0000] <MikeSmith>
TabAtkins: you were talking a while back about work on developing a test harness we could use for cross-spec testing

[14:32:00.0000] <MikeSmith>
but I don't remember what the outcome of that was

[14:34:00.0000] <jgraham>
MikeSmith: What do you mean "harness". I think I have confused things by using the word "harness" where "framework" would be more apropos

[14:34:01.0000] <jgraham>
TabAtkins was developing some thing for loading tests and recording the results

[14:34:02.0000] <jgraham>
But last I heard it only supported visual tests

[14:35:00.0000] <jgraham>
/me also isn't sure what the relationship to W3TestRunner is

[14:37:00.0000] <MikeSmith>
jgraham: I mean software that lets us run the tests across browsers and across OSes/platforms + a mechanism for collecting the results and storing them in a way that lets us generates reports of the results

[14:38:00.0000] <MikeSmith>
jarib: we have tests in different formats, I think

[14:38:01.0000] <MikeSmith>
e.g, reftests from Mozilla

[14:39:00.0000] <jgraham>
MikeSmith: Right, taht sounds like a harness

[14:39:01.0000] <MikeSmith>
jgraham: so what means "framework"?

[14:39:02.0000] <jgraham>
I have also used the word harness to mean "a framework for writing tests"

[14:39:03.0000] <MikeSmith>
ah

[14:40:00.0000] <jgraham>
MikeSmith: Like a javascript file that provides a set of functions for writing tests and (possibly) reporting the results (visually, to a harness, stc.)

[14:40:01.0000] <jgraham>
s/stc/etc/

[14:40:02.0000] <MikeSmith>
ah, I see

[14:40:03.0000] <MikeSmith>
yeah

[14:42:00.0000] <jarib>
i'm guessing existing tests do not report results uniformly

[14:42:01.0000] <jarib>
so it's a question of whether tests should be rewritten/required to do that, or introduce another layer is needed to extract the results

[14:43:00.0000] <jarib>
s/is needed//

[14:43:01.0000] <MikeSmith>
ok

[14:44:00.0000] <jgraham>
jarib: For the HTML WG we seem, slowly, to be standardising around a single API for javascript tests

[14:44:01.0000] <jgraham>
Hopefully we will use reftests for most other things

[14:45:00.0000] <jgraham>
and then there will likely be a few visual tests for things that are inconvenient to automate

[14:46:00.0000] <jgraham>
If we can keep it that simple, making a harness to read the results is quite easy, although actually auomating reftests in a cross browser fashion isn't really possible yet

[14:46:01.0000] <jgraham>
*automating

[14:46:02.0000] <jarib>
what are reftests?

[14:46:03.0000] <jarib>
any links?

[14:46:04.0000] <jgraham>
Two pages, a test and a reference, should render identially

[14:46:05.0000] <jgraham>
*identically

[14:46:06.0000] <jarib>
aha

[14:47:00.0000] <jgraham>
http://wiki.csswg.org/test/reftest

[14:47:01.0000] <jarib>
have you considered using any of the existing JS testing frameworks?

[14:48:00.0000] <jarib>
(for the js tests, obviously)

[14:48:01.0000] <jarib>
i.e. http://code.google.com/p/js-test-driver/ would give you a lot for free

[14:48:02.0000] <TabAtkins>
paul_irish: No, no way to stop cascading.  You could set every property to explicit values, if you felt like.

[14:49:00.0000] <TabAtkins>
MikeSmith: Yes, generally.  I am right now bodging a previously-developer harness into working just for the CSSWG so we can get impl reports in time.

[14:49:01.0000] <MikeSmith>
ok

[14:49:02.0000] <MikeSmith>
good to hear

[14:50:00.0000] <TabAtkins>
But then I'll be writing one myself to work with the repo-slurper / review comment tracker I'm developing as well.

[14:50:01.0000] <TabAtkins>
I'm just being very slow at it, which is no good.  The sooner I finish it, the sooner I can start actually hacking on webkit.

[14:52:00.0000] <TabAtkins>
So, I'll be building a few harnesses.  First one is for self-describing tests, because they're the easiest.

[14:52:01.0000] <TabAtkins>
Then probably a js-test one using the framework that the testing WG is doing.

[14:52:02.0000] <TabAtkins>
Then reftest, if I can figure out how.

[14:52:03.0000] <jgraham>
"the testing wg"?

[14:53:00.0000] <TabAtkins>
Whatever you guys are.  I forget the name.

[14:53:01.0000] <jgraham>
oh the HTML test people?

[14:53:02.0000] <TabAtkins>
Yeah.

[14:53:03.0000] <jgraham>
Ah, I see

[14:53:04.0000] <jgraham>
We kindof have a very basic harness the microsot contributed

[14:53:05.0000] <jgraham>
I wouldn't be sad to see it replaced though

[14:54:00.0000] <TabAtkins>
Well, you have some js functions that do test-y things that I can hook into.

[14:54:01.0000] <jgraham>
Yeah

[14:54:02.0000] <paul_irish>
TabAtkins: ok. found an old thread were dean edwards proposed sandboxing styles like that but i guess it never ended up making it in.

[14:54:03.0000] <TabAtkins>
paul_irish: Right.

[14:54:04.0000] <paul_irish>
thx

[14:54:05.0000] <jgraham>
But there is also a html file that loads tests in iframes and allows you to mark the result

[14:55:00.0000] <TabAtkins>
So what is that, a self-describing basically?

[14:55:01.0000] <jgraham>
I think it will hook into the js at some point in the near future

[14:55:02.0000] <jgraham>
TabAtkins: Yeah. The feature set at the moment is pretty poor

[14:55:03.0000] <jgraham>
e.g. for reftests if you can't actually provide automation (hard, requires proprietary APIs)

[14:56:00.0000] <jgraham>
you should at least provide a harness that allows you to view test, view ref, flip between the two, and mark the result

[14:56:01.0000] <TabAtkins>
Right, reftests are a problem until we have dependable ability to draw DOM elements into canvas.

[14:56:02.0000] <TabAtkins>
Yeah, that's the limit of what humans can do right now.

[14:58:00.0000] <jgraham>
Mostly I don't think this is a big problem because vendors are working on their own reftest runners

[14:58:01.0000] <jgraham>
Or have them already

[14:58:02.0000] <TabAtkins>
Sure.  I think we all have the ability already, if we haven't built an actual runner for them.

[14:58:03.0000] <TabAtkins>
But you can't crowdsource a reftest runner.

[14:59:00.0000] <TabAtkins>
s/ a / with a /

[15:00:00.0000] <jgraham>
Well you don't really need to crowdsource, right? Or what do you envision crowdsourcing?

[15:00:01.0000] <TabAtkins>
Letting arbitrary people run tests themselves and report results.

[15:00:02.0000] <TabAtkins>
Like browserscope and the 20+ other similar efforts.

[15:01:00.0000] <TabAtkins>
The results are somewhat less trustworthy, but numbers can make up for that.

[15:02:00.0000] <jgraham>
It's not clear to me why it is interesting to do that

[15:02:01.0000] <jgraham>
I mean letting people run the tests is good for transparency

[15:02:02.0000] <jgraham>
But should have rather little other value

[15:03:00.0000] <jgraham>
Assuming that they are easy enough for vendors to run

[15:03:01.0000] <jgraham>
(CSS2.1 tests fail here)

[15:03:02.0000] <TabAtkins>
Yeah, that's the thing.

[15:03:03.0000] <TabAtkins>
If you can't automate, then the time necessary to run them can be prohibitive.

[15:03:04.0000] <TabAtkins>
But ordinary people donating some time to it is easier.

[15:07:00.0000] <jgraham>
Yeah, that is a point

[15:08:00.0000] <jgraham>
Really you want to avoid being in a situation where you are writing tests that vendors can't run economically

[15:08:01.0000] <TabAtkins>
Sure.  That's why reftests were invented, to solve this problem for CSS.

[15:08:02.0000] <jgraham>
Because the value proposition to vendors of the tests is regression tracking 

[15:33:00.0000] <MikeSmith>
karlcow: http://developer.apple.com/library/mac/#documentation/UserExperience/Conceptual/DictionaryServicesProgGuide/schema/schema.html#//apple_ref/doc/uid/TP40006152-CH4-SW1

[15:33:01.0000] <MikeSmith>
"Dictionary Markup" for Apple Dictionary format

[15:34:00.0000] <MikeSmith>
great stuff

[15:34:01.0000] <MikeSmith>
includes a "gi" element for marking up gaiji

[15:34:02.0000] <MikeSmith>
and lots of other stuff

[15:35:00.0000] <MikeSmith>
seems like it could be worthy of standardizing on as a cross-app dictionary format

[15:41:00.0000] <othermaciej>
hi all

[15:41:01.0000] <TabAtkins>
yo

[15:41:02.0000] <TabAtkins>
/me drinks too much Diet Coke.  He has a problem.

[15:41:03.0000] <othermaciej>
MikeSmith: so I did some checking on how bugmail would compare if we got new bug notifications instead of keyword notifications

[15:41:04.0000] <MikeSmith>
ok

[15:41:05.0000] <othermaciej>
MikeSmith: we'd get about twice as much bugmail per month, but a greater proportion of it would actually be relevant

[15:41:06.0000] <othermaciej>
I sent mail to the WG to see how people feel about that

[15:42:00.0000] <MikeSmith>
hai

[15:42:01.0000] <othermaciej>
TabAtkins: interested in what you think also, since you expressed the opinion that bugzilla currently hides things too much

[15:42:02.0000] <jgraham>
Could we get the bug mail for new bugs after some delay?

[15:42:03.0000] <jgraham>
Like 6 hours

[15:42:04.0000] <jgraham>
So obvious spam would be closed and never be sent to the list

[15:42:05.0000] <MikeSmith>
othermaciej, I still suggest considering to have the messages go to public-html-issue-tracking instead

[15:42:06.0000] <jgraham>
Might need some code

[15:43:00.0000] <MikeSmith>
having automated bug notifications go to the group's technical discussion list, for a group like this, seems less than ideal to me

[15:43:01.0000] <MikeSmith>
but I leave it up to the chairs to figure out what works best for the group

[15:43:02.0000] <TabAtkins>
othermaciej: Thanks!  Commenting now.

[15:47:00.0000] <othermaciej>
MikeSmith: I have mixed feelings, but right now I feel that we are getting too little technical content on public-html rather than too much

[15:47:01.0000] <othermaciej>
MikeSmith: also, I was a bit skeptical of it for WebApps WG but it actually seems to work kind of OK

[15:47:02.0000] <othermaciej>
MikeSmith: I think work could go better if more people have a chance to comment on bugs before they are at the escalation stage

[15:48:00.0000] <MikeSmith>
all true

[15:49:00.0000] <MikeSmith>
though WebApps is a very different WG than the HTML WG

[15:50:00.0000] <MikeSmith>
othermaciej: my main concern is frankly about how it affects implementor participation on the list

[15:51:00.0000] <othermaciej>
MikeSmith: well, Jonas and Tab expressed an interest in seeing more data about new bugs

[15:51:01.0000] <othermaciej>
having looked at the past month of bugs, I would have also liked to see more of them

[15:51:02.0000] <MikeSmith>
and PhilipJ expressed the opposite

[15:52:00.0000] <MikeSmith>
and you are not going to hear from the implementors who have already checked out because of perceived noise

[15:52:01.0000] <jgraham>
FWIW I think it will be better than what we currently have

[15:52:02.0000] <jgraham>
But that is not a great endorsement

[15:52:03.0000] <MikeSmith>
they are not going to post to the list because they have already filtered it or whatever

[15:52:04.0000] <MikeSmith>
already ignoring it, I mean

[15:52:05.0000] <MikeSmith>
I am not saying that is absolutely what has already happened

[15:53:00.0000] <othermaciej>
well, whatwg@ gets *much* more mail per week than we do currently, and people don't check out of that

[15:53:01.0000] <othermaciej>
I think it's about the kind of content, not just the volume

[15:53:02.0000] <MikeSmith>
yes

[15:53:03.0000] <othermaciej>
but I'll be curious to hear phillipj's feedback about my suggestion

[15:53:04.0000] <MikeSmith>
yeah, me too

[15:53:05.0000] <MikeSmith>
he doesn't seem to be around on IRC these days

[15:54:00.0000] <MikeSmith>
he used to here on #whatwg regularly

[15:54:01.0000] <othermaciej>
I think keyword changes come off as extra spammy because people tend to do them in batches

[15:54:02.0000] <othermaciej>
so even though it's less volume than new bugs, it clusters more

[15:54:03.0000] <MikeSmith>
hmm, yeah, true

[15:54:04.0000] <MikeSmith>
that is the pattern

[15:55:00.0000] <TabAtkins>
MikeSmith: There's a difference between volume and noise.  High-volume but low-noise can be hard to follow sometimes, but it's infinitely better than a high-noise list of somewhat lesser volume.

[15:56:00.0000] <MikeSmith>
TabAtkins: different people have very different perceptions about what they consider noise

[15:57:00.0000] <MikeSmith>
but we get into a philosophical discussion -- I think chatting with PhilipJ would help in this case

[15:57:01.0000] <TabAtkins>
Sure, but I suspect most people would agree that new bugs are much less noisy than random a11y keyword changes.

[15:57:02.0000] <TabAtkins>
Anyway, I sent my feedback.

[15:57:03.0000] <MikeSmith>
yeah, agreed

[16:56:00.0000] <gsnedders>
Who the hell drinks two bottles of vodka on their own in around an hour?

[16:56:01.0000] <gsnedders>
/me is kinda pissed off at having to deal with what flatmate inflicted on themself


2010-09-17
[17:01:00.0000] <TabAtkins>
Sigh.  You have to clean up or something?

[17:01:01.0000] <TabAtkins>
And the answer is "someone attempting to commit suicide via alcohol poisoning".

[17:02:00.0000] <gsnedders>
TabAtkins: Get him sober enough so that a taxi would let him in to get him home

[17:02:01.0000] <gsnedders>
TabAtkins: And now I've done that, I've run to my room, and put on headphones to cut it out. Everyone else can deal with this now.

[17:03:00.0000] <gsnedders>
Guy in the flat above literally walked away saying something like "I'm fucking tired of dealing with his drunk fucking ass all night". If I hadn't been in the same flat, and knowing what fallout it would cause, I would've done the same.

[17:04:00.0000] <gsnedders>
I'd been trying to get him to stop drinking for a while. I'd try to convince people that we shouldn't let him come out, as he'll just collapse (which he did) as well as getting refused entry to where we were going (which he did).

[17:04:01.0000] <gsnedders>
So I have even less sympathy than I normally do in such cases.

[17:06:00.0000] <gsnedders>
So yeah, that ball was kinda shit, seeming we just got there, waited for the second taxi load of people to arrive, and then five minutes after it did had him collapse onto paving (though thankfully didn't crack his head open or anything like that) and then had to help with that.

[17:06:01.0000] <gsnedders>
/me sighs

[17:06:02.0000] <gsnedders>
/me should just shut up

[17:06:03.0000] <gsnedders>
/me is way too pissed off to say anything rational

[17:07:00.0000] <TabAtkins>
Heh, agreed.  Take shameful photographs?

[17:07:01.0000] <gsnedders>
No, that's just taking pleasure in someone else's misery.

[17:08:00.0000] <TabAtkins>
Not necessarily.  The shame is intended for him, in a "dude, you are seriously fucking yourself up, just look" kind of way.

[17:09:00.0000] <gsnedders>
Heh. I did that once. I've never spoken to them since.

[17:09:01.0000] <gsnedders>
They rather don't like me for that.

[17:09:02.0000] <TabAtkins>
Welp, looks like you don't like him anyway.  ^_^

[17:09:03.0000] <gsnedders>
But oh well, I don't regret doing it.

[17:09:04.0000] <gsnedders>
TabAtkins: I don't really know this guy. I've been in the same flat as him since Monday pretty much.

[17:10:00.0000] <gsnedders>
And there's only two people in the flat (of 12, inc. me) who I really get on with.

[17:46:00.0000] <MikeSmith>
gsnedders: is your online outliner currently busted?

[17:46:01.0000] <MikeSmith>
I'm trying to use it but getting a 500 response

[18:08:00.0000] <gsnedders>
MikeSmith: It is known to be busted with file upload

[18:08:01.0000] <gsnedders>
It is unknown to be busted with URLs

[18:21:00.0000] <danj>
Does anyone know with mobile safari / webkit if it's possible to restrict audio playback to the ear speaker on an iphone when playing something through an audio element?

[18:22:00.0000] <TabAtkins>
If there is, it's proprietary.

[18:22:01.0000] <danj>
sure

[18:22:02.0000] <danj>
I should have generalised that more

[18:22:03.0000] <danj>
It shouldn't be device specific

[18:23:00.0000] <TabAtkins>
Then no.

[18:23:01.0000] <danj>
thanks

[19:10:00.0000] <MikeSmith>
it's great to read Sylvain's tweets, because he has wit and he doesn't mind going toe-to-toe with whoever wants to step into the ring

[19:11:00.0000] <MikeSmith>
e.g., http://twitter.com/sgalineau/status/24713191647

[19:11:01.0000] <paul_irish>
<3

[19:12:00.0000] <MikeSmith>
I wonder if Alex Mogilevsky uses twitter

[19:15:00.0000] <TabAtkins>
MikeSmith: I don't think he does, but he has a facebook.

[19:15:01.0000] <MikeSmith>
ok

[19:15:02.0000] <TabAtkins>
(If he does have a twitter, I'm not following him.)

[19:15:03.0000] <MikeSmith>
I guess I must eventually do the facebook thing

[19:16:00.0000] <paul_irish>
he did. but he quit http://twitter.com/#!/alexmog

[19:22:00.0000] <MikeSmith>
oh

[19:22:01.0000] <MikeSmith>
a sad loss for twitter

[19:25:00.0000] <paul_irish>
what is a usecase for MessagePorts?

[21:25:00.0000] <mpilgrim>
paul_irish: older browsers returned "no" instead of "" if they didn't think they could play a video

[21:35:00.0000] <paul_irish>
mpilgrim: ah okay.  do you know which?

[21:37:00.0000] <paul_irish>
looks like FF 3.5.1 and below.

[23:57:00.0000] <kennyluck>
MikeSmith: 白癡

[23:58:00.0000] <MikeSmith>
kennyluck: 谢谢

[00:48:00.0000] <zcorpan_>
http://www.w3.org/News/2010#entry-8894 - xml-stylesheet PER now announced on w3.org

[00:50:00.0000] <MikeSmith>
zcorpan_: congrats

[00:50:01.0000] <MikeSmith>
seems like that will move along pretty quickly

[00:52:00.0000] <zcorpan_>
yeah i hope we're pretty much done

[00:53:00.0000] <MikeSmith>
you can be certain you're done until Bjorn has reviewed it

[00:53:01.0000] <MikeSmith>
I trust that Bjorn has already commented?

[00:54:00.0000] <zcorpan_>
nope he hasn't

[00:54:01.0000] <MikeSmith>
uh-oh

[00:55:00.0000] <MikeSmith>
the phrase "behooves you" comes time mind here

[00:55:01.0000] <zcorpan_>
DoC: http://www.w3.org/XML/2010/01/disposition

[00:55:02.0000] <MikeSmith>
eh?

[00:55:03.0000] <MikeSmith>
/me gets a blank page

[00:56:00.0000] <MikeSmith>
well, not blank

[00:56:01.0000] <MikeSmith>
just mostily blank

[00:56:02.0000] <MikeSmith>
hmm, works in Opera

[00:57:00.0000] <MikeSmith>
works in Minefield...

[00:57:01.0000] <zcorpan_>
ah. chrome gets the xml version

[00:59:00.0000] <zcorpan_>
content negotiation--

[01:15:00.0000] <annevk>
WAI-ARIA is in Last Call again

[01:25:00.0000] <annevk>
ah, the message from yesterday was related to some moving of the list: "[admin] ietf-types is moving"

[02:19:00.0000] <MikeSmith>
kennyluck: Colloquy

[02:19:01.0000] <hsivonen>
annevk: is there a disposition of comments for ARIA somewhere?

[02:20:00.0000] <hsivonen>
is one required for previous LC comments when re-entering LC?

[02:21:00.0000] <MikeSmith>
hsivonen: I think it's required only if it's followed by a transition request to the Director

[02:21:01.0000] <hsivonen>
MikeSmith: ok

[02:22:00.0000] <hsivonen>
I wonder if the current state of the PF comment status tracking system is viewable from outside the PF (before it presumably gets dumped into a Disposition of Comments later)

[02:22:01.0000] <hsivonen>
"dumped" in the technical sense

[02:22:02.0000] <hsivonen>
not in the "disposing of" sense

[02:23:00.0000] <hsivonen>
hmm. do you dispose of a comment by putting it in the disposition of commments?

[02:24:00.0000] <zcorpan_>
does ie9 have an ie8 mode?

[02:24:01.0000] <annevk>
no, disposition of comments is an overview of all comments

[02:24:02.0000] <annevk>
including indication of whether the comment was accepted or rejected and whether any formal objections were raised

[02:24:03.0000] <hsivonen>
zcorpan_: it has two of them!

[02:24:04.0000] <hsivonen>
zcorpan_: IE8 Standards and IE8 Almost Standards

[02:25:00.0000] <zcorpan_>
sigh

[02:25:01.0000] <hsivonen>
zcorpan_: I intend to update /doctype/ with a new flowchart once I've tested everything

[02:25:02.0000] <annevk>
can't have enough modes

[02:26:00.0000] <zcorpan_>
so now there's ie5.5, ie7, ie8 almost standards, ie8 standards, ie9 almost standards, ie9 standards and ie9 xhtml?

[02:26:01.0000] <hsivonen>
the non-permanent Editor's Draft is http://hsivonen.iki.fi/doctype/ie9.html

[02:26:02.0000] <hsivonen>
zcorpan_: I think there are seven modes, yes, but I haven't yet verified that the XHTML mode is distinct in terms of DOM and CSS

[02:27:00.0000] <hsivonen>
though I expect it to be

[02:27:01.0000] <Rik`>
and no XP mode

[02:27:02.0000] <hsivonen>
also of interest is if text/xml and application/xhtml+xml are distinct

[02:27:03.0000] <hsivonen>
I mean they have to have a plan for all of that legacy intranet XSLT

[02:29:00.0000] <zcorpan_>
what's with the legacy intranet XSLT?

[02:29:01.0000] <hsivonen>
zcorpan_: previously, the output was text/html

[02:29:02.0000] <hsivonen>
zcorpan_: I don't know if it works the same now or if there's something different

[02:30:00.0000] <hsivonen>
if different, the hypothesis should be that there are more modes to find in there...

[02:30:01.0000] <hsivonen>
so many hypotheses to test

[02:39:00.0000] <zcorpan_>
i wonder if it's possible to convince microsoft to not have ie9 modes in ie10

[02:40:00.0000] <roc>
don't try

[02:40:01.0000] <roc>
eventually the browser will collapse under its own weight

[02:41:00.0000] <zcorpan_>
yeah i guess it's going to bite themselves in the end

[02:45:00.0000] <annevk>
I'm tempted to start misusing X-UA-Compatible on sites

[02:46:00.0000] <roc>
imagine what it's like to do site QA for IE12

[02:47:00.0000] <zcorpan_>
hsivonen's flowchart is going to be 10x bigger than it is now

[02:47:01.0000] <jgraham>
roc: You just made my brain explode

[02:50:00.0000] <zcorpan_>
<meta http-equiv="x-ua-compatible" content="IE=<?php emitRandomVersion(); ?>">

[02:51:00.0000] <annevk>
I like how people put it in HTTP instead so it "validates"

[02:52:00.0000] <annevk>
You'd hope that at one point people realize that hiding it from the validator does not actually make it better

[02:52:01.0000] <annevk>
But so far history is against that

[02:53:00.0000] <zcorpan_>
did shelley's server melt?

[02:53:01.0000] <jgraham>
Henri should declare anything with a x-ua-compatible header invalid :)

[02:54:00.0000] <annevk>
all X- headers really

[02:54:01.0000] <jgraham>
Of course then people would just send different headers to the validator

[03:01:00.0000] <Rik`>
jgraham: I could still use conditionnal comments

[03:03:00.0000] <Rik`>
(if that works)

[03:09:00.0000] <hsivonen>
jgraham: yeah, the validator really shouldn't allow itself to be gamed with a HTTP header

[03:09:01.0000] <hsivonen>
Rik`: it doesn't!

[03:10:00.0000] <hsivonen>
Rik`: if there's a script of conditonal comment before the meta, it gets ignored

[03:10:01.0000] <hsivonen>
yeah, yeah, I've been lazy since I haven't actually written about conditional comments on /doctype/

[04:50:00.0000] <zcorpan_>
http://www.teknikveckan.se/2010/09/periodiska-systemet-for-html-5/

[04:56:00.0000] <hsivonen>
zcorpan_: cool, but why <div>s instead of <td>s?

[04:57:00.0000] <hsivonen>
(a bit uncool to have links to W3Schools, though)

[04:57:01.0000] <zcorpan_>
yeah

[04:58:00.0000] <jgraham>
I wonder if people percieve that W# schools is somehow endorsed by W3C

[04:58:01.0000] <jgraham>
*W3

[04:59:00.0000] <zcorpan_>
some do, yes

[05:01:00.0000] <brucel>
loads do, imo

[05:02:00.0000] <brucel>
I posted that it was often wrong, and many ppl said "it can't be, it's from the W3C" (which is never wrong, presumably)

[05:05:00.0000] <hsivonen>
brucel: the W3C is so right that it's an authoritative source about itself for Wikipedia

[05:08:00.0000] <zcorpan_>
W3C is like god

[05:09:00.0000] <zcorpan_>
just can't be wrong

[05:18:00.0000] <zcorpan_>
what's the plan with websockets in firefox 4?

[05:19:00.0000] <hsivonen>
smaug____: ^

[05:23:00.0000] <jgraham>
zcorpan_: You saw the message from Patrick McManus on hybi?

[05:23:01.0000] <jgraham>
"""For those that aren't aware, I'm working with the Mozilla Websockets

[05:23:02.0000] <jgraham>
team. And with that hat on I can say FF is unlikely to deploy -76 in FF

[05:23:03.0000] <jgraham>
4 - except perhaps under a clearly for-experiment-only namespace which

[05:23:04.0000] <jgraham>
is subject to breakage at any time.

[05:23:05.0000] <jgraham>
"""

[05:23:06.0000] <zcorpan_>
ah, thanks

[05:24:00.0000] <jgraham>
Would be nice to get confirmation of that though

[05:24:01.0000] <jgraham>
Does it still work with -76 in the current nightlies?

[05:26:00.0000] <zcorpan_>
yes

[05:28:00.0000] <jgraham>
Hmm

[05:37:00.0000] <Workshiva>
jgraham: Are they more likely to implement -75 or -77?

[05:37:01.0000] <smaug____>
/me missed some messages

[05:38:00.0000] <smaug____>
what is -77?

[05:38:01.0000] <smaug____>
there was -76

[05:38:02.0000] <zcorpan_>
there's no -77

[05:38:03.0000] <smaug____>
and then ietf-0

[05:40:00.0000] <smaug____>
FF4 betas have -76

[05:40:01.0000] <jgraham>
Workshiva: -77 is -01

[05:40:02.0000] <jgraham>
Due to amazing IETF numbering

[05:40:03.0000] <smaug____>
after that the protocol has been way too unstable to implement anything

[05:42:00.0000] <zcorpan_>
smaug____: so what's the plan for firefox 4?

[05:42:01.0000] <smaug____>
I'm not quite sure about the plan

[05:42:02.0000] <zcorpan_>
ok

[05:42:03.0000] <smaug____>
*if* the protocol becomes more stable, we should probably update the implementation

[05:43:00.0000] <jgraham>
On an unrelated note, has minefield lost the ability for the user to override the page character encoding?

[05:43:01.0000] <smaug____>
otherwise I hope we just keep the API, and warn web app developers about using unstable/old protocol

[05:43:02.0000] <smaug____>
no

[05:44:00.0000] <jgraham>
Oh, where has it moved to?

[05:44:01.0000] <smaug____>
At least on linux the UI is still there

[05:44:02.0000] <jgraham>
Right

[05:44:03.0000] <jgraham>
We couldn't find it on Windows

[05:44:04.0000] <smaug____>
uh

[05:46:00.0000] <smaug____>
jgraham: it should be in the "developer" menu

[05:47:00.0000] <smaug____>
(that menu name will change)

[05:47:01.0000] <jgraham>
Oh

[05:47:02.0000] <jgraham>
Maybe this build was just missing it 

[05:48:00.0000] <jgraham>
Not sure how old it was

[05:52:00.0000] <hsivonen>
jgraham: I can't see it either when the menu bar is hidden

[05:52:01.0000] <hsivonen>
I also can't figure out how to get the menu bar back once it is hidden

[05:53:00.0000] <hsivonen>
jgraham: to get the menu bar back, right click in the space between the forward button and whatever is to the right of the forward button

[05:58:00.0000] <hsivonen>
IE9 puts Encoding in the page context menu in the menubarless world

[05:58:01.0000] <jgraham>
Seriously? In the context menu?

[05:58:02.0000] <hsivonen>
jgraham: yes

[05:58:03.0000] <jgraham>
Wow

[05:58:04.0000] <jgraham>
(it turns out that the verion of Windows Minefield we were looking at was like a month out of date)

[05:59:00.0000] <jgraham>
I guess it was too optimistic to hope that character encoding issues have gone away :)

[06:02:00.0000] <hsivonen>
IE could make the Compat Mode button magic so that when you press it, it tries the new combination of mode and encoding :-)

[06:02:01.0000] <hsivonen>
that way, the Encoding context menu submenu wouldn't be necessary :-)

[06:17:00.0000] <annevk>
does any browser have stats on how often users use the encoding menu?

[06:18:00.0000] <annevk>
I've been thinking it should just be killed altogether, but maybe that fails

[06:18:01.0000] <jgraham>
annevk: there is https://testpilot.mozillalabs.com/testcases/menu-item-usage/aggregated-data.html

[06:19:00.0000] <jgraham>
but you might want to worry about selection bias

[06:21:00.0000] <annevk>
why are there no graphs?

[06:21:01.0000] <annevk>
would have been easy to make graphs, no?

[06:21:02.0000] <jgraham>
there are on a blog somewhere

[06:22:00.0000] <jgraham>
http://blog.mozilla.com/metrics/2010/04/14/menu-item-usage-study-an-update-to-the-initial-analysis/

[06:27:00.0000] <jgraham>
In particular the selection bias I would worry about would be over-representation of western demographics where character encoding issues might be less prevalent

[07:33:00.0000] <annevk>
hmm

[07:33:01.0000] <annevk>
thinking about it some more throwing for starting with "xmlns" on setAttribute seems problematic

[07:37:00.0000] <annevk>
I suppose in XML you do not want <html xmlns="http://www.w3.org/1999/xhtml"> to be overwritten by a setAttribute call

[07:37:01.0000] <annevk>
hmm

[07:40:00.0000] <annevk>
mah, lets define it and see who implements it; leaving it as open issue doesn't really solve anything either

[07:41:00.0000] <jgraham>
Argh

[07:41:01.0000] <jgraham>
Why did plh blog the results table from the HTML5 testsuite

[07:41:02.0000] <jgraham>
I know he says not to pay attention to it

[07:42:00.0000] <jgraham>
But seriously, it can only be harnful right now

[07:42:01.0000] <jgraham>
*harmful

[07:43:00.0000] <annevk>
I'm still not sure how seriously to take the HTML testing effort

[07:43:01.0000] <annevk>
well, some tests are pretty good, but a lot of them...

[07:45:00.0000] <jgraham>
It is a serious effort

[07:45:01.0000] <jgraham>
But the volume and quality so far is not great

[07:45:02.0000] <jgraham>
We will get there

[07:46:00.0000] <bl4ckcomb>
evil Xpost: what would semantically be better: putting a 'post a comment' form in the footer of an article or putting it in a separate section outside the article?

[07:46:01.0000] <Philip`>
Is the test runner still entirely manual?

[07:47:00.0000] <Philip`>
/me guesses someone should automate it before approving a lot more tests

[07:47:01.0000] <zcorpan_>
bl4ckcomb: do you think of it as a footer or as a separate section?

[07:47:02.0000] <jgraham>
The test runner needs work

[07:47:03.0000] <jgraham>
Kris said he would do something, but I don't know exactly what his plans are

[07:47:04.0000] <bl4ckcomb>
zcorpan_, I still think it is relevant to the article, but it also isn't really footer stuff

[07:48:00.0000] <zcorpan_>
bl4ckcomb: how about a nested section?

[07:48:01.0000] <bl4ckcomb>
zcorpan_, you suggest a section in an article?

[07:48:02.0000] <zcorpan_>
yeah, why not

[07:48:03.0000] <bl4ckcomb>
ok

[07:49:00.0000] <bl4ckcomb>
I'm not saying its wrong :) thx for your help

[07:53:00.0000] <zcorpan_>
http://www.wired.com/threatlevel/2010/09/html5-safari-exploit/

[08:01:00.0000] <zcorpan_>
hmm. http://www.html5rocks.com/tutorials/workers/basics/ advocates using postMessage() without any argument

[08:02:00.0000] <zcorpan_>
but the argument is required and it's not defined in webidl if it should throw or not

[08:02:01.0000] <zcorpan_>
(it throws in opera)

[08:08:00.0000] <zcorpan_>
wonder why chrome doesn't run workers from file://

[08:10:00.0000] <gsnedders>
zcorpan_: For the same reason XHR doesn't work on file://, it considers it xorigin

[08:11:00.0000] <zcorpan_>
does opera also block xhr on file://?

[08:11:01.0000] <gsnedders>
No

[08:12:00.0000] <jgraham>
zcorpan_: The chrome people decided that all file:// access was x-origin iirc

[08:14:00.0000] <zcorpan_>
in order to pro-actively address security problems before they are discovered?

[08:15:00.0000] <gsnedders>
zcorpan_: Too many things have access to each origin on file

[08:20:00.0000] <AryehGregor>
So things like FFTs, Gaussian blurs, and AES are meant to be more real-world than what SunSpider or V8 test?

[08:20:01.0000] <AryehGregor>
Really?

[08:20:02.0000] <AryehGregor>
Those must be extremely non-real-world, then.

[08:21:00.0000] <AryehGregor>
Why doesn't someone just browse for a few minutes in Gmail or whatever, capture all the calls to browser functions, replace them with workalikes that will always return the same answer to avoid going down different code paths, and package that up as a test?

[08:22:00.0000] <AryehGregor>
Because I guess different browsers go down different code paths all over the place in an actual real-world app like Gmail due to sniffing.

[08:22:01.0000] <gsnedders>
AryehGregor: Because Gmail gives massively different JS to different browsers.

[08:22:02.0000] <AryehGregor>
And the same is probably true for every other real app.

[08:22:03.0000] <AryehGregor>
Sigh.

[08:22:04.0000] <gsnedders>
It's done on the server-side, so you only ever see your own JS.

[08:23:00.0000] <gsnedders>
(We have a bunch of non-standard Mozilla stuff in Opera to support some Google stuff where they only have Gecko/WebKit codepaths)

[08:23:01.0000] <AryehGregor>
Sigh.

[08:24:00.0000] <annevk>
not so much, I think

[08:25:00.0000] <annevk>
the utterly useless createContextualFragment (or whatever it was called) and something else that is pretty close to useless on Range()

[08:25:01.0000] <Philip`>
AryehGregor: Is the JS execution on Gmail (once you exclude all the DOM calls etc) a bottleneck?

[08:25:02.0000] <Philip`>
I'd have thought it wouldn't be doing much computation that would take any time

[08:25:03.0000] <AryehGregor>
Probably not.

[08:25:04.0000] <AryehGregor>
That's the point, isn't it?

[08:25:05.0000] <jgraham>
Wave caused some problems due to highly browser-specific code

[08:25:06.0000] <AryehGregor>
You want whole-browser benchmarks.

[08:25:07.0000] <AryehGregor>
jgraham, good thing no one used it.

[08:26:00.0000] <jgraham>
AryehGregor: It depends what you want to measure

[08:26:01.0000] <Philip`>
AryehGregor: Depends who "You" is

[08:26:02.0000] <gsnedders>
annevk: HTMLUnknownElement was origninally added for some Gecko codepath, Error.stack is in the same undocumented format as Gecko because GWT stuff relies upon the format(!)…

[08:26:03.0000] <Philip`>
People whose job is working on JS engines presumably want to make their JS engines really fast

[08:26:04.0000] <AryehGregor>
Well, whoever you are, you should want whole-browser benchmarks.  Maybe you also want subsystem-specific benchmarks, but that doesn't remove the need for whole-browser benchmarks.

[08:26:05.0000] <jgraham>
AryehGregor: A benchmark on gmail isn't going to tell you how fast you are at rendering some js-limited game

[08:27:00.0000] <jgraham>
(Microsoft had a whole paper where they said basically what you just said)

[08:27:01.0000] <jgraham>
(and it ignored the same issue)

[08:27:02.0000] <AryehGregor>
No, but if you focus JS-only benchmarks then you'll optimize it way more than necessary.

[08:27:03.0000] <AryehGregor>
You could have a bunch of whole-browser benchmarks.  Have some for games too

[08:27:04.0000] <AryehGregor>
.

[08:28:00.0000] <jgraham>
AryehGregor: http://benfirshman.com/projects/jsnes/ is pretty much javascript limited

[08:28:01.0000] <Philip`>
People will always write slower JS games - you'll never have optimised it enough

[08:28:02.0000] <gsnedders>
AryehGregor: Kraken does actually show up some interesting limitations of current non-Tracing engines

[08:28:03.0000] <annevk>
gsnedders, interesting, is that second one on Web ECMAScript?

[08:28:04.0000] <AryehGregor>
jgraham, that looks illegal.

[08:28:05.0000] <jgraham>
AryehGregor: (and has been used when assessing the performance of js engines)

[08:29:00.0000] <gsnedders>
AryehGregor: (namely, calling something like Math.abs in a tight loop is expensive doing a global lookup followed by a property lookup everytime)

[08:29:01.0000] <jgraham>
AryehGregor: Maybe. That's not really the point here though :)

[08:29:02.0000] <AryehGregor>
Wow, that runs horribly on Firefox 4b6.

[08:30:00.0000] <AryehGregor>
But really smoothly on Chrome dev.

[08:31:00.0000] <Philip`>
Once JSNES runs fast enough, someone needs to write JSPlayStation

[08:31:01.0000] <Philip`>
Actually they should call it JStation

[08:33:00.0000] <Workshiva>
And then JS2

[08:33:01.0000] <AryehGregor>
Has anyone ported Super Mario RPG yet?  I would totally want to play that.

[08:33:02.0000] <AryehGregor>
I think I even still own a legal copy somewhere.

[08:34:00.0000] <Workshiva>
I know someone was writing a gameboy emulator in JS too

[08:38:00.0000] <annevk>
allowing setting of xmlns attributes through the DOM at all seems kind of wrong

[08:39:00.0000] <AryehGregor>
I guess writing an XBox emulator would be easy, just write an x86 emulator.  When you can write an efficient x86 emulator in JavaScript, I'll be impressed.

[08:39:01.0000] <AryehGregor>
(alternatively, cheat and use NaCl?)

[08:41:00.0000] <Philip`>
AryehGregor: And an NVIDIA GPU emulator

[08:41:01.0000] <AryehGregor>
Yes, that too.

[08:41:02.0000] <Philip`>
and a DirectX API emulator

[08:41:03.0000] <AryehGregor>
Well, that's just a software reimplementation, not an emulator.

[08:41:04.0000] <Philip`>
and probably a lot of the rest of the Win32 API

[08:42:00.0000] <Philip`>
Just port Wine to JS, I guess

[08:42:01.0000] <AryehGregor>
Well, if you have an x86 emulator already, you can just run 

[08:42:02.0000] <AryehGregor>
Well, if you have an x86 emulator already, you can just run Wine on top of the emulator.

[08:42:03.0000] <AryehGregor>
/me waits for that to become fast.

[08:42:04.0000] <Philip`>
True

[08:42:05.0000] <Philip`>
though you'd have to run Linux on your emulator before running Wine on top of that

[08:43:00.0000] <Philip`>
Rather than emulating x86, you could emulate a much simpler instruction set and then run something like Qemu on that

[08:43:01.0000] <Philip`>
which'd save a lot of pain

[08:43:02.0000] <AryehGregor>
I guess you'd need to emulate kernel-mode x86 too, yeah.

[08:44:00.0000] <AryehGregor>
(I'm putting my money on NaCl being more practical here.)

[08:44:01.0000] <AryehGregor>
Although even that requires a recompile, right?

[08:44:02.0000] <AryehGregor>
Feh.

[08:44:03.0000] <gsnedders>
DirectX converted to WebGL?

[08:44:04.0000] <AryehGregor>
Well, you could still run Wine natively in NaCl, and then run an x86 emulator natively in NaCl . . .

[08:45:00.0000] <AryehGregor>
gsnedders, you can convert parts of Direct3D to WebGL, but not the rest of DirectX.

[08:45:01.0000] <AryehGregor>
Like DirectSound, and whatever else is part of it.

[08:45:02.0000] <gsnedders>
AryehGregor: Wlel, yeah

[08:45:03.0000] <Philip`>
As far as I'm aware, console games often work by sending raw data streams to the GPU and skipping the DirectX/OpenGL/etc layer

[08:45:04.0000] <gsnedders>
*Well

[08:45:05.0000] <gsnedders>
Oh. That makes it way more fun.

[08:45:06.0000] <Philip`>
so you need to emulate the lower level too

[08:45:07.0000] <AryehGregor>
Philip`, kind of like how games are often assembly-optimized?

[08:46:00.0000] <Philip`>
AryehGregor: I guess so

[08:46:01.0000] <Philip`>
i.e. only in the parts where it's really a bottleneck

[08:46:02.0000] <AryehGregor>
. . . okay, I think we can conclude at this point that we should look forward to JStation before JBox360.

[08:47:00.0000] <Philip`>
What about a Jii?

[08:48:00.0000] <AryehGregor>
J64 first, surely.

[08:55:00.0000] <AryehGregor>
/me begins reading the IE9 beta announcement carefully

[08:55:01.0000] <AryehGregor>
"Before IE9, browsers used perhaps 10% of the PC’s capability."  Is that like how people only use 15% of their brains?

[08:55:02.0000] <AryehGregor>
(i.e., completely false?)

[08:58:00.0000] <AryehGregor>
I like the use of totally incongruous statistics.  "About 40% of Windows 7 users have used Aero Snap. (Only 15% of users have control-click’d a link in a page.)"  That tells us . . . what?

[08:58:01.0000] <annevk>
yay for Text nodes having a baseURI

[08:59:00.0000] <AryehGregor>
What's yay about that, either really or sarcastically?

[08:59:01.0000] <AryehGregor>
All nodes have them, don't they?

[08:59:02.0000] <annevk>
sarcastically

[09:00:00.0000] <AryehGregor>
So why is it bad?

[09:00:01.0000] <annevk>
bloat?

[09:00:02.0000] <AryehGregor>
Is it really more bloated than the rest of the web platform?  :)

[09:00:03.0000] <annevk>
xml:base is of course very bad in general

[09:01:00.0000] <annevk>
AryehGregor, euh, with that line of reasoning you can add every feature you want

[09:01:01.0000] <AryehGregor>
/me notes that the blog post touts IE9's new tab page, which is a carbon copy of the functionality introduced by Opera (?) like five years ago, and copied by Chrome and Safari

[09:02:00.0000] <AryehGregor>
annevk, are we talking about adding new features, or speccing some stupid feature that no one really wants but some sites depend on it so we have to keep it?

[09:02:01.0000] <AryehGregor>
I was assuming the latter, given the usual tenor of this channel.

[09:02:02.0000] <Philip`>
AryehGregor: You could probably get a figure like 10% by computing utilisation of gigaflops from CPU+GPU, or something

[09:02:03.0000] <AryehGregor>
Philip`, it's probably more like 0%, since most of the time you're browsing, even the CPU is idle.

[09:02:04.0000] <annevk>
dunno if sites rely on baseURI

[09:03:00.0000] <Philip`>
AryehGregor: I assume they mean maximum usage of the PC's capability, not average

[09:03:01.0000] <AryehGregor>
I suggest that we make browsers use more of the PC's capability by replacing all blocking system calls with polling in a busy loop.

[09:03:02.0000] <AryehGregor>
Philip`, then it still uses very little of the memory or disk.

[09:03:03.0000] <AryehGregor>
I mean, it's just a really stupid way to pose the question.

[09:04:00.0000] <annevk>
hsivonen, so appendChild(script) acts as if async was set?

[09:04:01.0000] <Philip`>
Hmm, I'd be surprised if a browser only used 10% of the available RAM

[09:04:02.0000] <annevk>
hsivonen, if it has src=

[09:04:03.0000] <Philip`>
(even though I've got 4GB)

[09:04:04.0000] <AryehGregor>
I hope it uses a lot less than 10% of available disk in most cases.

[09:04:05.0000] <hsivonen>
annevk: if it has src, right

[09:05:00.0000] <hsivonen>
annevk: and runs sync if no src but child text

[09:05:01.0000] <annevk>
interesting

[09:05:02.0000] <Philip`>
AryehGregor: Yeah

[09:05:03.0000] <hsivonen>
annevk: now Presto is the only one left that doesn't do this like HTML5 says

[09:05:04.0000] <Philip`>
AryehGregor: Anyway, I think I generally agree it's a completely meaningless statistic

[09:05:05.0000] <annevk>
aah

[09:06:00.0000] <hsivonen>
interestingly enough, the HTML5 parser broke a couple of sites when this fix wasn't also present

[09:07:00.0000] <hsivonen>
I also made document.written inline scripts never block the parser

[09:07:01.0000] <hsivonen>
regardless of style sheet loads

[09:07:02.0000] <hsivonen>
but that didn't fit in the tweet

[09:08:00.0000] <jgraham>
Doesn't spotify use 10% disk space by default?

[09:16:00.0000] <AryehGregor>
People often get large hard disks specifically to store huge amounts of music or video, so that's reasonable.

[09:16:01.0000] <AryehGregor>
Browsers, less so.

[09:17:00.0000] <AryehGregor>
I have 1.5 TB of usable disk space, and I'd be kind of annoyed if my browser started using 150 GB.

[09:17:01.0000] <AryehGregor>
(actually it can only see 110G, due to partitioning, but that's beside the point)

[09:18:00.0000] <Philip`>
What could it use that space for?

[09:19:00.0000] <jgraham>
It's not obvious to me that a browser cache is a less valuble use of disk space than a spotify cache

[09:19:01.0000] <jgraham>
Given that the goal would be roughly the same

[09:19:02.0000] <jgraham>
i.e. to make content that you frequently access faster

[09:20:00.0000] <jgraham>
s/fater/appear faster/

[09:20:01.0000] <jgraham>
and given that browsers are increasingly beiong used as media players

[09:20:02.0000] <AryehGregor>
Well, browser caches are way too small, for sure.

[09:21:00.0000] <AryehGregor>
They should be at least a few gigabytes.  I doubt they'd be able to effectively use 100 GB, though.

[09:21:01.0000] <AryehGregor>
10 GB, sure.

[09:21:02.0000] <jgraham>
Well I doube spotify can either

[09:22:00.0000] <jgraham>
Oh it is 10% of free disk space by default

[09:22:01.0000] <AryehGregor>
/me doesn't really know what Spotify is, so might have misunderstood the comparison

[09:22:02.0000] <jgraham>
which is somewhat different

[09:40:00.0000] <AryehGregor>
Do HTMLWG members get commit access to dvcs.w3.org somehow?  Are there instructions somewhere on how to use thaT?

[09:40:01.0000] <AryehGregor>
that?

[09:47:00.0000] <jgraham>
Yes, you should just be able to use your w3c credentials

[09:48:00.0000] <jgraham>
http://www.w3.org/html/wg/wiki/Testing/Submission/

[09:48:01.0000] <jgraham>
AryehGregor: ^

[09:49:00.0000] <AryehGregor>
Oh, I missed the part where it said how to do it.

[09:49:01.0000] <AryehGregor>
I guess I should just use that instead of http://aryeh.name/gitweb.cgi?p=tests.

[09:49:02.0000] <AryehGregor>
I suppose it's not worth bikeshedding about git vs. hg.

[09:49:03.0000] <jgraham>
No

[09:49:04.0000] <AryehGregor>
(although git is better!)

[09:49:05.0000] <AryehGregor>
No?

[09:49:06.0000] <jgraham>
It's not worth bikeshedding

[09:49:07.0000] <AryehGregor>
Oh, okay then.

[09:50:00.0000] <jgraham>
Yes, you can just use that

[09:50:01.0000] <jgraham>
Although people might start trying to approve your tests or something

[09:50:02.0000] <AryehGregor>
That might be inconvenient.

[09:50:03.0000] <jgraham>
Did you see testharness.js in resources?

[09:50:04.0000] <AryehGregor>
Didn't look at it.

[09:50:05.0000] <jgraham>
AryehGregor: Well it is easy to stop them

[09:50:06.0000] <jgraham>
We seem to be using that for javascript tests

[09:52:00.0000] <AryehGregor>
I think the output format would be a little awkward, given that I've written >16,000 tests so far, >90% will pass on any remotely sane browser (i.e., not IE9), and failures tend to be extremely repetitive.

[09:53:00.0000] <jgraham>
AryehGregor: That isn't really a problem

[09:53:01.0000] <AryehGregor>
Although on the plus side, maybe the other framework won't crash on WebKit nightlies.

[09:53:02.0000] <AryehGregor>
No one has touched https://bugs.webkit.org/show_bug.cgi?id=45713 since I filed it four days ago.

[09:53:03.0000] <AryehGregor>
That never happens to me with Mozilla bugs.  Sigh.

[09:54:00.0000] <AryehGregor>
jgraham, why isn't it really a problem?

[09:55:00.0000] <jgraham>
AryehGregor: Well, why would it be?

[09:55:01.0000] <AryehGregor>
Because it will have 16,000 output rows, instead of a couple hundred?

[09:55:02.0000] <jgraham>
If you adapt the tests you can more or less choose how fine-grained to make it

[09:56:00.0000] <jgraham>
according to how much becomes an assert() vs how much becomes a seperate test

[09:56:01.0000] <AryehGregor>
Hmm, so I could have one test with a lot of asserts, and it would just say which asserts failed?

[09:56:02.0000] <AryehGregor>
That sounds tenable.

[09:57:00.0000] <jgraham>
Well no it would fail at the first assert

[09:57:01.0000] <AryehGregor>
That seems undesirable.

[09:57:02.0000] <AryehGregor>
Well, I'll work with my own reporting framework for now.

[09:57:03.0000] <jgraham>
Well then you have 16,000 seperate tests and we just have to deal

[09:57:04.0000] <AryehGregor>
Which only reports failures.

[09:58:00.0000] <AryehGregor>
Actually, I've been thinking maybe I'll just remove the number and percentage of passed tests.  It's somewhat meaningless anyway.

[09:58:01.0000] <jgraham>
It won't write anything to screen if you don't include an <div id="log"></div>

[09:58:02.0000] <AryehGregor>
The list of failures is the only important thing.

[09:59:00.0000] <jgraham>
AryehGregor: We can adapt the framework to optionally only report failures or something

[09:59:01.0000] <AryehGregor>
Yeah, in the medium term it's obviously right to use the same framework for everything.

[09:59:02.0000] <AryehGregor>
But for now I think it's easier for me to stick to my own, if only until I finish actually writing all the tests.

[10:06:00.0000] <hsivonen>
what's the address of zcorpan's single-pixel GIF site?

[10:07:00.0000] <hsivonen>
found it

[10:07:01.0000] <hsivonen>
http://spacergif.mobi/

[10:09:00.0000] <hsivonen>
Philip`: http://canvex.lazyilluminati.com/survey/2007-07-17/analyse.cgi/tag/spacer says Can't call method "selectrow_array" on an undefined value at /var/www/canvex/survey/2007-07-17/analyse.cgi line 293.

[10:10:00.0000] <Philip`>
hsivonen: I moved it to a new server and never set up the database for that

[10:12:00.0000] <AryehGregor>
Should I copy just the latest version of my tests into the W3C DVCS, or the whole history?

[10:16:00.0000] <Philip`>
AryehGregor: Will anybody ever care about the history?

[10:16:01.0000] <AryehGregor>
No.

[10:16:02.0000] <Philip`>
Seems like unnecessary effort and bandwidth, then

[10:16:03.0000] <AryehGregor>
However, it's fun to think about doing crazy stuff like that when you're using a DVCS.

[10:16:04.0000] <AryehGregor>
:)

[10:19:00.0000] <hsivonen>
Philip`: should I avoid linking to that URL?

[10:21:00.0000] <Philip`>
hsivonen: It hasn't worked for many months, and currently I don't care enough to make it work (since it's ancient and a tiny sample and doesn't seem very useful now), so it's probably best not to use it

[10:21:01.0000] <hsivonen>
Philip`: OK

[10:22:00.0000] <Philip`>
(It relied on Postgres, since that was less slow than SQLite, but that's not running on the new server)

[10:28:00.0000] <hsivonen>
blogged without the link: http://hsivonen.iki.fi/spacer/

[10:31:00.0000] <miketaylr>
hsivonen:  "Where spacer is still in use, it’s rarely makes any layout difference." s/it's/it/

[10:31:01.0000] <hsivonen>
miketaylr: fixed. thanks

[10:32:00.0000] <miketaylr>
it's a fun article. :)

[10:36:00.0000] <Philip`>
hsivonen: "The spacer element made of the page wider than necessary" - s/of//

[10:39:00.0000] <hsivonen>
Philip`: fixed. thanks

[10:43:00.0000] <TabAtkins>
That was... interesting.  I'd never before experienced webkit's "we won't show the text until we have the font" 'feature'.

[10:43:01.0000] <TabAtkins>
Here I got to see headers appear first, then monospace, then plain text.

[10:45:00.0000] <TabAtkins>
"without comparing the page into browsers at the same time." s/into/in two/

[10:45:01.0000] <jgraham>
TabAtkins: You could fuck with people by making key words appear delayed delaying the font load

[10:46:00.0000] <jgraham>
Of course this is easy to do in other ways

[10:46:01.0000] <TabAtkins>
hsivonen: ^^^ (my previous line, not jgraham's)

[10:47:00.0000] <hsivonen>
TabAtkins: thanks, fixed.

[10:47:01.0000] <hsivonen>
Dictation still isn't perfect :-(

[10:47:02.0000] <TabAtkins>
Oh, cool, that was dicatated?

[10:48:00.0000] <hsivonen>
TabAtkins: most of it, yeah

[10:48:01.0000] <miketaylr>
whoa cool

[11:10:00.0000] <AryehGregor>
Okay, so now my WebKit bug includes three lines of script that cause a reliable crash in WebKit nightlies.  Let's see if anyone notices.

[11:11:00.0000] <Dashiva>
/me sells as zero-day

[11:11:01.0000] <AryehGregor>
At least I know what the bug is now, so I can work around it.

[11:11:02.0000] <TabAtkins>
You could replace their coffee with Folgers crystals at the same time.

[11:13:00.0000] <AryehGregor>
Drat, it still crashes.

[11:13:01.0000] <AryehGregor>
Oh, wait.

[11:13:02.0000] <AryehGregor>
Yeah, it still does.

[11:13:03.0000] <AryehGregor>
Dangit.

[11:14:00.0000] <AryehGregor>
No more removeAttribute()s in sight.  Blech.

[11:15:00.0000] <AryehGregor>
No, it doesn't crash?  Hrm?

[11:16:00.0000] <AryehGregor>
Oh, caching.

[11:17:00.0000] <AryehGregor>
Now it works.

[11:53:00.0000] <annevk>
ap, I didn't reply to the EventSource bug anymore as it seemed like a repetition of a debate we had before on encodings

[11:53:01.0000] <annevk>
ap, I guess your sense of pragmatic here just does not align with mine :)

[11:55:00.0000] <ap>
annevk: I know, I don't expect to convince anyone at this point. But I want folks working on WebKit know more about the tradeoffs here than blindly follow whatever a spec says at the moment

[11:56:00.0000] <annevk>
that seems fair

[11:57:00.0000] <annevk>
questioning specs has not been done often enough in the past, lets not repeat that mistake :)

[12:25:00.0000] <annevk>
hsivonen, you wanted me to test CR and \0 in responseText right?

[12:36:00.0000] <hsivonen>
annevk: yes

[12:38:00.0000] <annevk>
http://tc.labs.opera.com/apis/XMLHttpRequest/responsetext-decoding.htm

[12:38:01.0000] <annevk>
seems to work fine, even in Opera!

[12:38:02.0000] <annevk>
I would have guessed we would have zero byte issues

[12:38:03.0000] <annevk>
the test is the one labeled "%0D%0A%00%0D"

[12:43:00.0000] <annevk>
god time zone math

[12:47:00.0000] <annevk>
maybe baseURI should not be readonly...

[12:55:00.0000] <cying>
is it possible to wrap text around a rectangle in CSS3?

[12:56:00.0000] <annevk>
no

[12:57:00.0000] <cying>
kinda like a float: left but the text that's right adjacent to the float gets indented but everything else (on top and bottom) flows around?

[12:58:00.0000] <cying>
hopefully? :D

[12:58:01.0000] <annevk>
still no :)

[12:58:02.0000] <cying>
right now i've been splitting the div in 2, but it's kinda less than ideal

[12:58:03.0000] <annevk>
but stuff like that is brought up every now and then

[12:59:00.0000] <annevk>
I've not really been involved much in the layout part of CSS, but I guess it's tricky

[12:59:01.0000] <cying>
yea, i was shocked it can't be done

[12:59:02.0000] <annevk>
welcome to the web

[13:01:00.0000] <TabAtkins>
Yeah, the algorithms are there to address that case, it's just that no one's done it yet.

[13:02:00.0000] <TabAtkins>
/me has all the layout specs on his plate for working on in the near future.

[13:05:00.0000] <cying>
*nod*

[13:08:00.0000] <annevk>
<META name="msapplication-task" content="name=Task 1;action-uri=http://host/Page1.html;icon-uri=http://host/icon1.ico"/>

[13:08:01.0000] <annevk>
yay

[13:09:00.0000] <annevk>
<meta name="msapplication-navbutton-color" content="red"/> whoa

[13:09:01.0000] <annevk>
it's like we're back in IE3 era

[13:15:00.0000] <AryehGregor>
You have *got* to be kidding me.

[13:15:01.0000] <AryehGregor>
WTF?

[13:15:02.0000] <AryehGregor>
Are they smoking crack?

[13:16:00.0000] <AryehGregor>
I wouldn't object quite so much to the deliberately and completely proprietary part of it, I expect that from Microsoft, but until now I had some fond idea that maybe their browser team wasn't actually completely incompetent.

[13:16:01.0000] <AryehGregor>
Then again, the iPhone does some similar things, right?

[13:16:02.0000] <AryehGregor>
Sigh.

[13:16:03.0000] <daedb>
Well, they can't let Apple have all the <meta> fun.

[13:17:00.0000] <annevk>
true, <meta name=viewport> ugh

[13:17:01.0000] <daedb>
It's just so awesome to put half a dozen <meta> elements on your page just for Iphones and IE9!

[13:18:00.0000] <annevk>
but that is kind of lemmingy

[13:19:00.0000] <annevk>
no need to follow bad precedents

[13:19:01.0000] <Philip`>
At least they didn't make it look for those settings in a hard-coded /application.xml URL

[13:20:00.0000] <annevk>
you know there is this proposal for /.well-known/ or some such?

[13:20:01.0000] <annevk>
with a registry et al

[13:20:02.0000] <annevk>
bah

[13:25:00.0000] <AryehGregor>
I think Mozilla's Account Manager thing uses /.well-known.  I don't see how it makes anything better.

[13:25:01.0000] <AryehGregor>
Just longer and uglier URLs.

[13:26:00.0000] <AryehGregor>
As long as it's something that won't be checked on every page view, a well-known location makes sense.

[13:27:00.0000] <hsivonen>
annevk: thanks for adding the test

[13:37:00.0000] <hsivonen>
Mike isn't the only one with a trademarked name: http://www.techdirt.com/articles/20100915/00102711022.shtml

[13:40:00.0000] <AryehGregor>
But he's sure to make much more money if he starts prosecuting.  I mean, who's named "Ann de Wees Allen"?

[13:43:00.0000] <annevk>
lol

[13:43:01.0000] <annevk>
did we make krijnserver liable for prosecution now?

[13:43:02.0000] <annevk>
I guess she'd have to set up shop in the Netherlands first

[15:32:00.0000] <BenoitRen>
Hi everyone. I've been inserting <link>s into documents recently, and I ran into a backwards compatibility issue.

[15:34:00.0000] <BenoitRen>
HTML5 introduces the rel="up up" and siblings into the mix. The problem is that this is being interpreted as just "up", and takes precedence over the entry that is just rel="up".

[15:34:01.0000] <BenoitRen>
At least, it's that way on Gecko.

[15:34:02.0000] <BenoitRen>
This might be something worth mentioning.

[15:35:00.0000] <AryehGregor>
There's an issue filed in the HTMLWG, I think.

[15:35:01.0000] <AryehGregor>
Or a bug, at least.

[15:36:00.0000] <AryehGregor>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=7543

[15:36:01.0000] <AryehGregor>
http://www.w3.org/html/wg/tracker/issues/119

[15:36:02.0000] <AryehGregor>
Clients can change.

[15:36:03.0000] <AryehGregor>
Compatibility is not absolutely essential here, and other solutions are probably uglier.

[15:37:00.0000] <AryehGregor>
It might change back, though, who knows.

[15:44:00.0000] <BenoitRen>
Just read through it. Thanks for the links.

[15:55:00.0000] <BenoitRen>
I'm not sure I understand what alternative text to provide for images in galleries of fictional characters.

[15:55:01.0000] <AryehGregor>
What would you say in place of the pictures if you had to read the page to someone over the phone?

[15:56:00.0000] <BenoitRen>
"There are 12 thumbnails of Alisa on the page." (and yes, I just read through the guidelines again :( )

[15:57:00.0000] <AryehGregor>
If that's all that the page contains, and the person you're talking to really wants to know what the page contains, you'd probably briefly describe each one.

[15:57:01.0000] <AryehGregor>
I mean, frankly it doesn't work well no matter what you do.

[15:57:02.0000] <AryehGregor>
Gallery pages are constructed specifically to display pictures, you can't replace them by textual descriptions.

[15:57:03.0000] <BenoitRen>
Yeah, that's the problem.

[15:58:00.0000] <BenoitRen>
And a description isn't alternative text.

[15:58:01.0000] <exp>
does it really need alternative text then?

[15:58:02.0000] <AryehGregor>
Between you and me (and whoever is reading the logs so as to quote this at an inopportune moment to discredit me), trying to come up with good alt text here is probably a waste of time, just leave it blank or give a few words for each ("Alisa talking with Bob").

[15:59:00.0000] <AryehGregor>
A description can be alternative text.  It depends.

[15:59:01.0000] <AryehGregor>
Some of the alt text given is just descriptions.

[16:00:00.0000] <BenoitRen>
Hmm, I see.

[16:05:00.0000] <BenoitRen>
Thanks AryehGregor. :)

[16:05:01.0000] <BenoitRen>
Bye.


2010-09-18
[18:44:00.0000] <TabAtkins>
Argh, I have too many CDs and games to buy right now.  >_<  Luckily my birthday's coming up, so I should have some cash to spend.

[18:47:00.0000] <TabAtkins>
http://i.imgur.com/G7WyP.gif

[18:56:00.0000] <cardona507>
TabAtkins: when is your bday? how old are you gonna be?

[18:56:01.0000] <TabAtkins>
mid november, and 25.

[18:57:00.0000] <cardona507>
interesting - for some reason I thought you were older than that

[18:58:00.0000] <TabAtkins>
It is clearly the beard.

[18:59:00.0000] <cardona507>
or the wealth of hacker knowledge

[19:01:00.0000] <TabAtkins>
^_^

[02:54:00.0000] <zcorpan_>
annevk: could you point to navigator.resolveURL?

[02:55:00.0000] <annevk>
what do you mean?

[02:55:01.0000] <zcorpan_>
i mean i can't find it in the spec

[02:55:02.0000] <annevk>
oh, it's location, sorry

[02:55:03.0000] <annevk>
http://www.whatwg.org/specs/web-apps/current-work/complete.html#dom-location-resolveurl

[02:56:00.0000] <zcorpan_>
ah

[02:57:00.0000] <zcorpan_>
WorkerLocation doesn't have it though

[02:57:01.0000] <annevk>
oh, oversight?

[02:58:00.0000] <zcorpan_>
dunno

[02:58:01.0000] <annevk>
as I said, I've not been involved

[02:59:00.0000] <annevk>
]http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2008-November/017275.html

[03:01:00.0000] <annevk>
ah, it's for passing URLs to workers

[03:18:00.0000] <annevk>
AryehGregor, you could just move http://www.w3.org/Bugs/Public/show_bug.cgi?id=10267 to the WebIDL component of the WebApps WG

[03:28:00.0000] <zcorpan_>
annevk: setAttributeNS(xmlns_ns, 'xmlns', 'foo') should be allowed, also setAttributeNS(null, 'xmlnslol', 'foo') should be allowed

[03:29:00.0000] <annevk>
are they not? (but why?)

[03:29:01.0000] <annevk>
oh, I guess setAttribute should only ban "xmlns" and starts with "xmlns:", not starts with "xmlns"

[03:31:00.0000] <zcorpan_>
yeah, and they should be allowed if the namespace argument is right, iirc

[03:32:00.0000] <annevk>
for compat you mean

[03:32:01.0000] <annevk>
?

[03:33:00.0000] <annevk>
manipulating namespace attributes is an extremely bad idea

[03:33:01.0000] <zcorpan_>
it's what browsers do (iirc), dunno if it's required for compat

[03:33:02.0000] <annevk>
oh sure

[03:33:03.0000] <annevk>
but it doesn't make sense

[04:10:00.0000] <annevk>
using the correct dashes is tricky

[04:13:00.0000] <MikeSmith>
I'm curious what editing apps others use for editing javascript

[04:13:01.0000] <annevk>
I use TextWrangler at the moment, but then I do not code anything serious in JavaScript...

[04:14:00.0000] <annevk>
or at all, really :)

[04:15:00.0000] <MikeSmith>
I'm using vim but I guess I would be nice to have something that docs better completion

[04:16:00.0000] <MikeSmith>
for Java I have this "eclim" thing set up that hooks vim into eclipse

[04:16:01.0000] <MikeSmith>
I suppose I could try that for js files and see see what I get

[04:16:02.0000] <annevk>
I wonder if there've been studies done to how much time that actually buys you

[04:16:03.0000] <MikeSmith>
*does better completion

[04:17:00.0000] <annevk>
it seems to me that figuring things out is the main problem; writing it down not so much

[04:18:00.0000] <annevk>
but maybe if you're not familiar with the APIs it helps

[04:18:01.0000] <annevk>
if the autocompletion comes with a few lines of documentation

[04:18:02.0000] <MikeSmith>
I think for the Java case, it buys a lot -- because of relatively high overhead (for lack of a better word) of programming in Java

[04:18:03.0000] <MikeSmith>
java is really unforgiving

[04:20:00.0000] <MikeSmith_>
and I find at least that using eclipse makes it a lot easier to catch certain kinds of problems

[04:20:01.0000] <MikeSmith_>
for java I mean

[04:20:02.0000] <MikeSmith_>
js is a lot different language of course

[04:22:00.0000] <MikeSmith_>
but I've gotten used to checking stuff using the js interpreter consoles like in firebug and web inspector and dragonfly

[04:22:01.0000] <MikeSmith_>
and node.js shell

[04:22:02.0000] <MikeSmith_>
and having completion on, e.g., DOM methods

[04:23:00.0000] <MikeSmith>
so having it for editing would seem like a plus

[04:30:00.0000] <Moo^>
MikeSmith: Aptana Studio (Eclipse distribution for web developers) comes with decent Javascript editor which can do some static analysis

[04:30:01.0000] <MikeSmith>
Moo^: thanks

[04:30:02.0000] <MikeSmith>
I seem to remember reading about that somewhere else as well

[04:31:00.0000] <Moo^>
MikeSmith: and I assume you are used to Eclipse so it is a perfect fit for you

[04:32:00.0000] <MikeSmith>
well, Eclipse itself is not a perfect fit for me

[04:33:00.0000] <MikeSmith>
I started using Eclipse just for java editing

[04:33:01.0000] <MikeSmith>
and I don't actually use Eclipse directly

[04:33:02.0000] <MikeSmith>
I use vim

[04:33:03.0000] <MikeSmith>
and I essentially run eclipse headless, with it hooked into vim through this eclim thing

[04:34:00.0000] <MikeSmith>
anyway, I was also just trying DashCode

[04:34:01.0000] <MikeSmith>
by accident

[04:35:00.0000] <MikeSmith>
because that seems to be what my OSX environment is set up to use by default for javascript

[04:36:00.0000] <MikeSmith>
and it actually seems to have pretty extensive built-in completion

[04:43:00.0000] <annevk>
http://iscrockford.partofhtml5.com/ haha

[04:48:00.0000] <JerichoM>
hey lhnz

[04:48:01.0000] <MikeSmith>
Crockford _parts_ HTML5 -- like Moses parting the Red Sea

[04:48:02.0000] <annevk>
that site has terrible markup btw

[04:49:00.0000] <annevk>
http://areunicorns.partofhtml5.com/ doesn't even validate

[04:49:01.0000] <JerichoM>
did you enjoy port scanning me?

[04:50:00.0000] <MikeSmith>
http://isvalidation.partofhtml5.com would be a good one

[04:53:00.0000] <MikeSmith>
annevk: btw, I was using Berjon's respec thing recently and noticed something that is a serious misfeature in it

[04:53:01.0000] <MikeSmith>
and I think maybe something like it is in anolis and the css3 postprocessor thing

[04:54:00.0000] <MikeSmith>
which is, it tries to turn instances of "[[foo]]" into bibliographic citations

[04:55:00.0000] <MikeSmith>
the whole thing of using macros like that -- or whatever the hell people call them -- is just fricking dumb

[04:55:01.0000] <MikeSmith>
I mean to do it in an HTML file

[04:55:02.0000] <MikeSmith>
this is what we have markup for

[04:56:00.0000] <annevk>
ms2ger added a <span data-anolis-ref> feature to Anolis (or some such; see Web DOM Core source file)

[04:56:01.0000] <MikeSmith>
good

[04:57:00.0000] <MikeSmith>
because the problem with that asshatted [[foo]] stuff is, what happens if the source that you're using refspec or whatever to generate output from actually already uses doubled square brackets to mean something?

[04:57:01.0000] <MikeSmith>
which is not a hypothetical problem

[04:58:00.0000] <MikeSmith>
case in point is the ES5 spec

[04:58:01.0000] <MikeSmith>
which has 1243 instances of terms in double square brackets

[05:01:00.0000] <JerichoM>
lol, lhnz... lol a PSH

[05:23:00.0000] <annevk>
mijn.ing.nl really should use autofocus=""

[05:23:01.0000] <annevk>
it always screws up my focus after I'm almost done having me overwrite my username with part of my password -- so annoying

[05:39:00.0000] <david_carlisle>
<MikeSmith> this is what we have markup for

[05:40:00.0000] <david_carlisle>
you  should use xmlspec and xslt, using XML makes you a happier person

[05:40:01.0000] <MikeSmith>
heh

[05:41:00.0000] <MikeSmith>
david_carlisle: don't tell me you're actually using xmlspec?

[05:41:01.0000] <MikeSmith>
if so, I think you must be the the last one using it :)

[05:41:02.0000] <hsivonen>
what does xmlspec solve that HTML+Anolis don't?

[05:41:03.0000] <MikeSmith>
it seems like nobody's been maintaining that in a long time

[05:42:00.0000] <MikeSmith>
david_carlisle: Robin Berjon's respec is worth taking a look at

[05:42:01.0000] <david_carlisle>
Not actually tried anolis but the idea of using html in authoring is just scary.

[05:42:02.0000] <david_carlisle>
xmlspec is extensively maintained but massively forked

[05:42:03.0000] <david_carlisle>
mathml has a fork

[05:43:00.0000] <david_carlisle>
xslt/xquery have one

[05:43:01.0000] <david_carlisle>
xml itself uses it still I think

[05:43:02.0000] <david_carlisle>
and so it goes on

[05:43:03.0000] <MikeSmith>
great thing about respec is it doesn't require you to install anything

[05:44:00.0000] <MikeSmith>
the transformation is all done inside your browser

[05:44:01.0000] <MikeSmith>
it gives you a way to save a copy of the generated DOM

[05:44:02.0000] <MikeSmith>
this reminds me, Google Docs has a better way

[05:44:03.0000] <david_carlisle>
could respec pull all the data out of unicode.xml to make  th mathml operator dictionary on the fly, or similarly typeset all the character tables in the xml entites spec (just from the same markup) or colour an cross link a relanx ng file?

[05:45:00.0000] <MikeSmith>
if you want to save a copy of a document, it generates it as a download

[05:45:01.0000] <MikeSmith>
respec should do that same kind of download thing

[05:45:02.0000] <MikeSmith>
david_carlisle: sure it could

[05:45:03.0000] <david_carlisle>
"colud" but do it

[05:46:00.0000] <david_carlisle>
anyway I want to type my specs in emacs (I saw earlier you are a vim user, so you wouldn't understand the love)

[05:46:01.0000] <MikeSmith>
I used to use emacs a lot too

[05:46:02.0000] <MikeSmith>
nxml-mode

[05:47:00.0000] <MikeSmith>
I may start using it again more, once hober finishes his elisp text/html parser

[05:47:01.0000] <david_carlisle>
yes I saw that...

[05:48:00.0000] <david_carlisle>
I just finally this year (after 23 years) cracked and stopped using email as my regular mail client 

[05:48:01.0000] <MikeSmith>
"email" is the name of an actual app?

[05:48:02.0000] <david_carlisle>
sorry emacs not email

[05:49:00.0000] <david_carlisle>
I can't type:-)

[05:49:01.0000] <MikeSmith>
ah

[05:49:02.0000] <MikeSmith>
yeah, I tried that for a while

[05:49:03.0000] <MikeSmith>
GNUs

[05:49:04.0000] <MikeSmith>
I think Haakon still uses Emacs for mail

[05:49:05.0000] <MikeSmith>
Gnus or something

[05:50:00.0000] <MikeSmith>
david_carlisle, hsivonen : while you're both here, have you guys chatted more about annotation-xml handling?

[05:50:01.0000] <MikeSmith>
/me is not caught up on bug mail

[05:51:00.0000] <david_carlisle>
well we had a conversation the other day somewhere (here? in mail, can't remeber)

[05:52:00.0000] <david_carlisle>
I think/hope the outcome is that he's going to look again if the spec change as outlined by hixie in the bug entry could work in FF4 timeframe

[05:52:01.0000] <MikeSmith>
last I saw was Henri's comment http://www.w3.org/Bugs/Public/show_bug.cgi?id=9887#c27

[05:52:02.0000] <MikeSmith>
and Simon's http://www.w3.org/Bugs/Public/show_bug.cgi?id=9887#c28

[05:52:03.0000] <MikeSmith>
Simon: "Another option is to make <annotation-xml><div> special."

[05:54:00.0000] <david_carlisle>
hang on 'll see if I can find the thread...

[05:57:00.0000] <david_carlisle>
from about here

[05:57:01.0000] <david_carlisle>
http://krijnhoetmer.nl/irc-logs/whatwg/20100913#l-423

[05:57:02.0000] <david_carlisle>
to about here

[05:57:03.0000] <david_carlisle>
hsivonen> well, I suppose I should go ahead and implement it soonish

[06:19:00.0000] <MikeSmith>
david_carlisle: what kind of implementation you mean/

[06:20:00.0000] <MikeSmith>
MathML spec change?

[06:25:00.0000] <david_carlisle>
MikeSmith: sorry, that was quoting Henri saying he should try implenting the html5 parser change,

[06:25:01.0000] <MikeSmith>
ah

[06:27:00.0000] <david_carlisle>
MikeSmith: mathML spec hopefully won't change as we're just waiting for the OK from w3C to publish, AC votes are all in, etc, so basically we're done

[06:27:01.0000] <hsivonen>
btw, was there a problem with Simon's <div> idea?

[06:33:00.0000] <david_carlisle>
hsivonen: Hi, you're there, probably not, both are just masking the real problem that the really isn't any reason for the parser to abort the math element unless it's doing fixup for mis-nested tagging or something.  The attribute version was suggested earlier and now has the advantage the the Math WG signed off on it, checked all the examples in the mathml spec would actually work, etc....

[06:33:01.0000] <david_carlisle>
...without looking too deeply I see

[06:33:02.0000] <david_carlisle>
http://www.w3.org/TR/MathML3/chapter6.html#interf.graphics

[06:33:03.0000] <david_carlisle>
which would fail?

[06:38:00.0000] <hsivonen>
david_carlisle: yeah, that would fail

[06:39:00.0000] <hsivonen>
david_carlisle: though the problem goes away as SVG support becomes ubiquitous and people no longer care about bitmap fallback

[06:41:00.0000] <david_carlisle>
hsivonen; yes but as  I said in the earlier irc thread, fallback is just one possible use of an annotation.

[06:41:01.0000] <david_carlisle>
especially once math in text/html becomes possible, far more interesting annotations are structured proof hints etc

[06:47:00.0000] <MikeSmith>
david_carlisle: not to (re)start an argument here, but as far as "masking the real problem", the real problem is arguably that the annotation-xml design does not lead to ease of implementation 

[06:47:01.0000] <david_carlisle>
annotation-xml really should not be complicated, the only thing that the parser has to do with it is get to the end of it and stuff the data somewhere accessible, honestly the fact that it is proving difficult should be seen as a problem with the html5 parser's intricate rules for foreign content, not a problem with annotation-xml. The currently proposed solution is to make the parser have...

[06:47:02.0000] <david_carlisle>
...even more intricate rules to hide some of the weirdness generated by the original rules, that wouldn't have been my choice, but it isn't my call,

[06:47:03.0000] <david_carlisle>
 I can live with it

[06:48:00.0000] <hsivonen>
david_carlisle: the HTML5 parser's fogeign content support is really designed for SVG and form MathML that doesn't use HTML annotations

[06:49:00.0000] <hsivonen>
david_carlisle: at the time of designing it, annotation-xml was seen as a way to include semantic mathml and as a way to hack in SVG as seen on Jacques Distler's blog

[06:49:01.0000] <david_carlisle>
its foreign object thing isn't so different is it?

[06:50:00.0000] <hsivonen>
david_carlisle: it's fundamentally different

[06:50:01.0000] <hsivonen>
david_carlisle: because it doesn't need to support non-<svg> SVG children

[06:50:02.0000] <hsivonen>
david_carlisle: but annotation-xml needs to support non-<math> MathML children

[06:50:03.0000] <hsivonen>
that's the problem

[06:51:00.0000] <hsivonen>
Jacques Distler's blog is the showcase of how MathML actually gets used, and AFAIK, there's no XHTML inside annotation-xml on his blog

[06:51:01.0000] <hsivonen>
so...

[06:51:02.0000] <david_carlisle>
That's a very artificial problem though, caused by the strangeness elsewhere in the html5 parser rules.

[06:51:03.0000] <hsivonen>
david_carlisle: what strangeness?

[06:52:00.0000] <hsivonen>
the concept is not strange at all: 1) the parser starts in an HTML scope. 2) <svg> and <math> switch to SVG or MathML scope 3) certain elements open a nested HTML scope

[06:53:00.0000] <hsivonen>
the problem is that annotation-xml doesn't know whether it wants to be a nested HTML scope or not

[06:54:00.0000] <david_carlisle>
the fact that /> doesn't do what one might expect (you may have needed to special case script and  other limited things for security) but if /> worked as an empty element on general elements (and the html parser didn't re-arrange html elements out of same)  but...

[06:54:01.0000] <hsivonen>
david_carlisle: that would still leave the namespace problem

[06:54:02.0000] <david_carlisle>
... I'm really not asking that the entire html5 parser design be ripped up now, so we are where we are

[06:54:03.0000] <david_carlisle>
namespaces: who cares;-)

[06:54:04.0000] <hsivonen>
david_carlisle: if we are doing hypotheticals, we wouldn't have this problem it Namespaces didn't exist

[06:56:00.0000] <david_carlisle>
Well personally I;d have been happy enough if the rule was that the html parser didn't do namespaces, and so if you wanted to namespace you dom fragments you'd have tto post process them in script. At least that way you would have the correct tree structure to work with

[06:57:00.0000] <hsivonen>
david_carlisle: that would have required drastic changes to e.g. Gecko's MathML implementation

[06:57:01.0000] <hsivonen>
david_carlisle: chameleon namespaces are bad

[06:57:02.0000] <david_carlisle>
Browsers come and go, documents last for thousands of years

[06:58:00.0000] <hsivonen>
david_carlisle: right, so if you want to support existing XML MathML content, you have to support the non-HTML namespace

[06:58:01.0000] <hsivonen>
if you also want to support mathml local names in the HTML namespace, you've got chameleon namespaces, which are bad

[06:59:00.0000] <Philip`>
/me notes that IE6 seems likely to last for thousands of years

[06:59:01.0000] <david_carlisle>
But no, you could have still had the rule that <math> flipped in the mathml namespace, and in practice the actual rules would be more complicated that can be specced in a couple of lines of irc grumbe, but... I just wish the world was different

[07:00:00.0000] <david_carlisle>
and /> should be empty elements even now, so there.

[07:11:00.0000] <david_carlisle>
hsivonen:  isn't it the case that if svg's foreign object element has any non-svg non xhtml xml then because of /> the tree will be incorrectly parsed as it will be parsed as html scope? 

[07:12:00.0000] <hsivonen>
david_carlisle: the only other possibility is <math>, and then you are in a math scope, so all is good

[07:12:01.0000] <hsivonen>
and /> on <svg/> and <math/> themselves is honored

[07:15:00.0000] <david_carlisle>
That isn't what the svg spec says, it says you can put any well formed xml in there. What you mean is the only other possibility that works is math, what you are saying is that if there is other cml guarded by a switch something like

[07:15:01.0000] <david_carlisle>
http://www.w3.org/TR/SVG/extend.html#ForeignObjectElement

[07:15:02.0000] <david_carlisle>
then the html parser will do something strange most likely, but such other html just isn't supported.

[07:15:03.0000] <david_carlisle>
this is not much different than annotation-xml, perhaps they have just complained less

[07:16:00.0000] <david_carlisle>
sorry, "such other xml"

[07:20:00.0000] <david_carlisle>
the problem is less for foreignobject as the expectation there is that the extended markup is rendered so in a browser context limiting to those vocabularies that can be rendered is perhaps reasonable, but that could be some home-brew xml css styled, for annotation-xml as the expectation isn't to render it it is less acceptable to restrict to the browsers native rendering vocabularies

[07:57:00.0000] <MikeSmith>
for anybody who might care: about my ramblings earlier on trying to find ways to get decent completion when editing javascript, I installed the "Eclipse IDE for JavaScript Web Developers" flavor of eclipse

[07:59:00.0000] <MikeSmith>
and I find it has "libraries" that enable completion for standard DOM interfaces

[07:59:01.0000] <MikeSmith>
in addition to ones for built-in Javascript objects

[08:00:00.0000] <MikeSmith>
and it works as expected in vim through eclim

[08:00:01.0000] <MikeSmith>
do everything is fine and dandy

[08:45:00.0000] <jgraham>
MikeSmith: You tried emacs + js2-mode for javascript? It rocks

[08:46:00.0000] <MikeSmith>
not tried it yet

[08:46:01.0000] <MikeSmith>
oh

[08:47:00.0000] <MikeSmith>
Steve Yegge

[08:47:01.0000] <MikeSmith>
cools

[08:47:02.0000] <MikeSmith>
*cool

[08:48:00.0000] <jgraham>
I'm not sure how much autocomplete it has; I mainly use it for the awesome highlighting, indentation and useful warning messages

[08:50:00.0000] <jgraham>
(in general my emacs-fu with autocomplete is limited to meta-/)

[14:23:00.0000] <gsnedders>
/me should try and work out how readonly parent/top/self actually are…

[15:13:00.0000] <annevk>
oh god, Paul Duffin just said lack of versioning is the problem

[15:13:01.0000] <annevk>
haha

[15:13:02.0000] <annevk>
guess I'll leave that thread to someone else

[15:14:00.0000] <annevk>
can't really explain everything all over again whenever someone does not do any research

[15:14:01.0000] <gsnedders>
/me wonders whether it's worthwhile pointing to XHTML 1.0 as an example of using versioning to introduce backwards-incompatible changes

[15:39:00.0000] <hsivonen>
you should write a 386 post about version once and then drop the URL everywhere

[15:39:01.0000] <hsivonen>
*versioning

[15:41:00.0000] <annevk>
I guess, but it's hard

[15:41:01.0000] <annevk>
but it should be done, yes, at some point

[15:41:02.0000] <annevk>
because clearly this does not scale

[15:42:00.0000] <annevk>
but summarizing x years of experience on a post-it is tricky :)

[15:44:00.0000] <gsnedders>
annevk: Also: don't lead me into reading more Murakami. I already have a full-time university course and a part-time job. Your blog is dangerous. :P

[15:45:00.0000] <annevk>
heh, you can block the URL :)

[15:46:00.0000] <jgraham>
After Dark is rather wonderful though

[15:47:00.0000] <jgraham>
Who is Paul Duffin and where is he bein misinformed about versioning?

[15:50:00.0000] <annevk>
www-style

[15:50:01.0000] <annevk>
see the namespace thread

[16:12:00.0000] <MikeSmith>
\(^\t<h[1-6].\+\)\@<!\([1-9][0-9]\?\.\)\+[1-9][0-9]\?

[16:13:00.0000] <aho>
that's a very good question

[16:13:01.0000] <aho>
:>

[16:36:00.0000] <MikeSmith>
aho: I didn't know til today that vim can do negative lookahead

[16:37:00.0000] <MikeSmith>
or whatever it's called

[16:37:01.0000] <gsnedders>
negative lookahead assertions

[16:37:02.0000] <MikeSmith>
@<!

[16:37:03.0000] <gsnedders>
(which, as it happens, aren't JIT'd in any browser)

[16:37:04.0000] <MikeSmith>
oh really?

[16:37:05.0000] <MikeSmith>
in regular expressions?

[16:38:00.0000] <gsnedders>
MikeSmith: AFAIK yes

[16:38:01.0000] <MikeSmith>
so yet another great reason to avoid using regular expressions unless you really can't avoid it

[16:38:02.0000] <gsnedders>
Most regexp are JIT'd

[16:39:00.0000] <MikeSmith>
ok

[16:40:00.0000] <gsnedders>
backreferences, assertions prevent stuff being JIT'd. I think there are other things too, but I can't remember off the top of my head.

[16:55:00.0000] <MikeSmith>
/me is listening to "Punta Banda" by Bostich & Fussible on WFMU on Transpacific Sound Paradise from WFMU - Freeform Radio the Way it Oughta Be


2010-09-19
[18:47:00.0000] <MikeSmith>
:%s/\(^.*<h[1-6].\+\)\@<!\(\([AB]\.\)\?\([1-9][0-9]\?\.\)\+[1-9][0-9]\?\)\([^0-9]\)/<a href="#x\2">\2<\/a>\5/gc

[20:50:00.0000] <variable>
MikeSmith - trying to use regex for HTML ?

[03:31:00.0000] <annevk>
replied to Paul Duffin anyway

[03:31:01.0000] <annevk>
his arguments were extremely weak

[03:31:02.0000] <annevk>
also wrong, which made it easier :)

[03:32:00.0000] <annevk>
he suggested replacing -moz-x -webkit-x -o-x etc. with a single namespaced x

[03:32:01.0000] <annevk>
that is not just using namespaces, that is changing the entire approach

[03:32:02.0000] <annevk>
completely identical to the -wd1-x proposal from a couple of weeks ago

[03:32:03.0000] <annevk>
except that it uses the cumbersome namespaces syntax

[03:49:00.0000] <Ms2ger>
/me wishes that thread would die already

[03:50:00.0000] <annevk>
yeah well

[03:50:01.0000] <annevk>
hey btw, why are you no IE yet for the WebAPPS WG?

[03:50:02.0000] <annevk>
and if you become one, do you want to become co-editor again as Ms-two-ger? ;p

[03:51:00.0000] <Ms2ger>
I'll deal with that tomorrow

[03:51:01.0000] <annevk>
alright

[03:51:02.0000] <Ms2ger>
Doesn't matter much to me

[03:51:03.0000] <annevk>
btw, do you know if within a repo you can create another repo?

[03:51:04.0000] <annevk>
mike asked me if I could put it on dvcs.w3.org/hg/webapps/somewhere

[03:51:05.0000] <Ms2ger>
No

[03:52:00.0000] <annevk>
right, that's what I thought

[03:52:01.0000] <annevk>
so I should just ask for a top-level DOM Core repo on http://dvcs.w3.org/hg/

[03:52:02.0000] <Ms2ger>
It would have made more sense to put that repo at hg/webapps/tests, IMO

[03:52:03.0000] <jgraham>
annevk: Or just make it a subdir of the other repository

[03:53:00.0000] <jgraham>
You might even be able to preserve history if you care

[03:53:01.0000] <Ms2ger>
This isn't CVS ;)

[03:53:02.0000] <annevk>
jgraham, you argued the other day that repos should be self-contained entities

[03:53:03.0000] <jgraham>
annevk: Well yeah they should

[03:54:00.0000] <jgraham>
Bu otoh it isn't obviously harmful to have all of WebApps in a single repository

[03:54:01.0000] <annevk>
indexeddb has a top-level repo

[03:54:02.0000] <annevk>
we can have one too

[03:54:03.0000] <annevk>
domcore is important enough

[03:55:00.0000] <jgraham>
OK, well if indexdb has set a precedent that is fine

[04:08:00.0000] <annevk>
emailed request for clone, cc'd www-archive

[04:42:00.0000] <annevk>
so I'm trying to update html5-diff

[04:42:01.0000] <annevk>
but really, nothing significant has happened

[04:42:02.0000] <annevk>
current list

[04:42:03.0000] <annevk>
     <li>Numerous changes to the HTML parsing algorithm based on

[04:42:04.0000] <annevk>
     implementation feedback.</li>

[04:42:05.0000] <annevk>
     <li>The <code>hidden</code> attribute now works for table-related

[04:42:06.0000] <annevk>
     elements.</li>

[04:42:07.0000] <annevk>
     <li>The <code>canvas</code> <code>getContext()</code> method is now

[04:42:08.0000] <annevk>
     defined to be able to handle multiple contexts better.</li>

[04:42:09.0000] <annevk>
     <li>The <code>prefetch</code> link relationship can now be used on

[04:42:10.0000] <annevk>
     <code>a</code> elements.</li>

[04:42:11.0000] <annevk>
     <li>The <code>datetime</code> attribute of <code>ins</code> and

[04:42:12.0000] <annevk>
     <code>del</code> no longer requires a time to be specified.</li>

[05:59:00.0000] <karlcow>
someone wants to create a breadcrumb in the URL bar with nav elements, I could see links used for this with title attributes for the labels of breadcrumbs. Missing a bit of hierarchy. I wonder if it would take off though http://www.uxmag.com/technology/making-the-url-bar-useful-again

[06:05:00.0000] <annevk>
nav elements?

[06:05:01.0000] <annevk>
hmm, that's what rel="up up" etc. is for

[06:59:00.0000] <karlcow>
annevk: I guess what he calls nav element not necessary the one of html5 :) he might not know about the details of the spec 

[07:13:00.0000] <annevk>
whoa, I haven't been following "html5" on twitter for a while

[07:13:01.0000] <annevk>
it seems now it's mentioned about every minute

[07:14:00.0000] <karlcow>
annevk: http://paper.li/tag/html5

[07:15:00.0000] <annevk>
interesting, "html5" does not include "#html5"

[07:32:00.0000] <MikeSmith>
karlcow: are you aware of any standards for marking up dictionaries that are actually used across any production applications?

[07:33:00.0000] <MikeSmith>
I mean stuff that different dictionaries vendors might actually be using

[07:35:00.0000] <MikeSmith>
hmm, I guess in the free-software world, there is whatever format(s) that dict(1) uses

[07:37:00.0000] <MikeSmith>
but not sure there's even much of a format at all to that

[07:38:00.0000] <MikeSmith>
I think it just pulls pre-formatted text records for various DBs without doing any manipulation of them

[07:38:01.0000] <Philip`>
Wasn't SGML designed for marking up a dictionary?

[07:39:00.0000] <MikeSmith>
dunno

[07:39:01.0000] <MikeSmith>
I thought SGML was designed to replace GML

[07:39:02.0000] <MikeSmith>
SuperGML

[07:40:00.0000] <MikeSmith>
hey we should relay claim to the S* prefix

[07:40:01.0000] <MikeSmith>
for "Super"

[07:40:02.0000] <MikeSmith>
as an alternative to "eXtensible"

[07:41:00.0000] <Ms2ger>
We're using Web for that

[07:41:01.0000] <MikeSmith>
so XBL could be SBL, the Super Binding Language

[07:41:02.0000] <MikeSmith>
Ms2ger: "Web" has 2 more letters than "S"

[07:41:03.0000] <Ms2ger>
/me is stunned

[07:42:00.0000] <MikeSmith>
if we go with 3 letters, I vote for "SSS"

[07:42:01.0000] <MikeSmith>
SSSBL

[07:42:02.0000] <MikeSmith>
"extra Ses for extra Super!"

[07:43:00.0000] <Dashiva>
S also looks like 5

[07:43:01.0000] <MikeSmith>
yeah

[07:43:02.0000] <MikeSmith>
so it'd be sorta backward-l33t

[07:43:03.0000] <Dashiva>
S > X on t-shirts

[07:44:00.0000] <Philip`>
I always seem to notice Microsoft employees using "super"

[07:44:01.0000] <Philip`>
and pretty much nobody else

[07:44:02.0000] <MikeSmith>
that's because they "get it"

[07:44:03.0000] <MikeSmith>
they understand the word "super" and super value

[07:45:00.0000] <MikeSmith>
*has super value

[07:45:01.0000] <Philip`>
http://www.theregister.co.uk/2005/08/04/microsoft_nicely/

[07:45:02.0000] <Philip`>
I don't know if it's a Microsoft-specific thing or a region-specific thing

[07:45:03.0000] <Philip`>
but it seems quite noticeable

[07:46:00.0000] <MikeSmith>
ok

[07:46:01.0000] <MikeSmith>
point taken

[07:47:00.0000] <MikeSmith>
they seem to have laid claim to it already

[07:47:01.0000] <MikeSmith>
damn

[07:47:02.0000] <MikeSmith>
OK, let's revive "groovy"

[07:47:03.0000] <MikeSmith>
I bet they don't use that

[07:47:04.0000] <MikeSmith>
no wait

[07:47:05.0000] <MikeSmith>
Bitchin'

[07:48:00.0000] <MikeSmith>
the Bitchin' Binding Language

[07:53:00.0000] <annevk>
if we can have three leading characters lets go for XXXBL

[07:56:00.0000] <Ms2ger>
/me pushes "XXX DOM Core"

[07:56:01.0000] <annevk>
objections?

[07:57:00.0000] <annevk>
I'm starting to think we should just go with "DOM Core"

[07:57:01.0000] <annevk>
but maybe that is too close to the original

[07:57:02.0000] <Ms2ger>
We can try

[08:12:00.0000] <wirepair>
anyone here from opera?

[08:13:00.0000] <annevk>
somewhat

[08:13:01.0000] <wirepair>
is there a better way of submitting security bugs than http://www.opera.com/support/bugs/

[08:17:00.0000] <annevk>
is there something with wrong with what is explained there?

[08:17:01.0000] <annevk>
it seems to include guidelines for submitting security-sensitive issues

[08:21:00.0000] <wirepair>
i'm more concerned with how long things are taking :)

[08:21:01.0000] <wirepair>
and was curious if there's a person i could just mail directly instead

[08:25:00.0000] <annevk>
oh, that sounds bad

[08:26:00.0000] <annevk>
if you have a bug ID I can probably do something

[08:27:00.0000] <wirepair>
yeah one sec

[09:56:00.0000] <AryehGregor>
annevk, I don't know if http://www.w3.org/Bugs/Public/show_bug.cgi?id=10267 is actually an issue in WebIDL -- I haven't read it, so it might clearly specify the result.

[09:57:00.0000] <AryehGregor>
It's poor form to file bugs against a spec you haven't read.  :)

[10:09:00.0000] <annevk>
http://dev.w3.org/2006/webapi/WebIDL/#delete

[10:10:00.0000] <AryehGregor>
Yes, I looked at the spec and saw that part, but didn't really understand it.  I think I was told that the correct answer was to silently ignore the delete, and IIRC I filed a bug against Chrome for it.

[10:11:00.0000] <AryehGregor>
https://bugs.webkit.org/show_bug.cgi?id=43224

[10:11:01.0000] <annevk>
"If property with name P on object O has the DontDelete attribute, return false." prolly means silently ignoring

[10:16:00.0000] <AryehGregor>
/me notes that of the 15 WebKit bugs he's filed, 7 have gotten any response at all that was relevant to the bug, and 4 have gotten a response longer than one comment with no follow-ups

[10:18:00.0000] <AryehGregor>
Whereas of the 16 Mozilla bugs I've filed, only one has received no response.

[10:19:00.0000] <AryehGregor>
And only three have received just one response, of which one was INVALID with a legitimate reason, and one was DUPLICATE.

[10:21:00.0000] <AryehGregor>
And of my six Chromium bugs, four are resolved, and one I just filed a few days ago and it's in the process of being resolved.

[10:21:01.0000] <AryehGregor>
Maybe I should re-report all my WebKit bugs as Chromium bugs.

[10:24:00.0000] <annevk>
I guess there's no real project QA

[10:24:01.0000] <annevk>
at least of the kind that goes through incoming bug reports

[10:24:02.0000] <AryehGregor>
I've filed two or three Opera bugs too, but I have no idea what happened to them.  Of the two IE bugs I filed, one got a "we've confirmed the problem" and the other got no response.

[10:25:00.0000] <AryehGregor>
Of course, this is somewhat biased by the fact that my median Mozilla bug is surely older than my median WebKit bug, but still.

[10:25:01.0000] <AryehGregor>
. . . also, I don't think more of the Mozilla bugs are actually *fixed*.

[10:27:00.0000] <annevk>
if you want follow-up to Opera bugs, feel free to give me bug numbers

[10:27:01.0000] <annevk>
s/numbers/IDs/

[10:28:00.0000] <variable>
AryehGregor, re mozilla bugs: I've seen some take over a year to get fixed

[10:28:01.0000] <AryehGregor>
variable, um, there are Mozilla bugs that have been open for ten years.

[10:28:02.0000] <variable>
re chrome bugs, of which I've filed 1, it got fixed within 3 days

[10:28:03.0000] <AryehGregor>
But it's nice to at least receive an indication that someone has looked at the bug and confirmed it's an issue.

[10:28:04.0000] <variable>
AryehGregor, yeah I know - longest mozilla bug I've seen open/unconfirmed is 5 years

[10:29:00.0000] <variable>
I've seen some open longer - but with activity ;-)

[10:29:01.0000] <AryehGregor>
Yeah, that's my experience too.  Chromium bugs get dealt with extremely quickly, Mozilla gets a response but is less likely to be fixed immediately, WebKit is usually ignored, Opera I can't tell, IE I'm not sure in general because I've only filed two bugs.

[10:29:02.0000] <AryehGregor>
Probably it varies by component somewhat.

[10:30:00.0000] <annevk>
might also depend on the issue

[10:31:00.0000] <annevk>
e.g. Chromium also has 16964 unresolved issues :)

[10:31:01.0000] <annevk>
which is more or less the same for every browser

[10:31:02.0000] <variable>
I'd love to figure out the statistics for avergage time to response and average time to completion ;-)

[10:31:03.0000] <AryehGregor>
But that's biased by the nature of the issues filed.

[10:32:00.0000] <variable>
also - chrome has far fewer features and is newer so it has less code bloat. So most issues can be dealt with fairly fast

[10:32:01.0000] <variable>
Mozilla has some really ugly and old code

[10:32:02.0000] <AryehGregor>
Probably Opera and IE get the fewest (and highest-quality?) issues filed, because of poor visibility and poor usability.  WebKit and Mozilla probably more.  Chromium probably the most -- it's very visible and easy to use and you don't even need to sign up, if you have a Google account.

[10:33:00.0000] <variable>
AryehGregor, IE had some stats about the quality of bug reports

[10:33:01.0000] <AryehGregor>
Yes, I saw those.

[10:33:02.0000] <AryehGregor>
Basically, "the general public is a lot worse at filing bug reports than QA".

[10:33:03.0000] <AryehGregor>
I hope so, or else you've got some pretty terrible QA.

[10:34:00.0000] <AryehGregor>
But QA will find different types of issues compared to the general public.

[10:38:00.0000] <variable>
AryehGregor, I'd like see a simpler "report a bug" function for the general public that is basically screenshot + bounding box + small comment

[10:38:01.0000] <variable>
and have QA/very technical audience do the rest

[10:38:02.0000] <dbaron>
annevk, you really think :not(a.foo) should be like :not(a):not(.foo) ?

[10:40:00.0000] <Ms2ger>
/me found that weird too

[10:40:01.0000] <AryehGregor>
That doesn't make sense.

[10:40:02.0000] <AryehGregor>
:not(a.foo) should match <a> and <span class=foo>, just not <a class=foo>.

[10:41:00.0000] <annevk>
AryehGregor, isn't that the same?

[10:41:01.0000] <annevk>
dbaron, oh wait, hmm

[10:42:00.0000] <annevk>
dbaron, not anymore

[10:42:01.0000] <annevk>
/me should probably stay out of :not() debates

[10:42:02.0000] <dbaron>
AryehGregor, also, re: mozilla bugs, a few thoughts:  (1) Gecko bugs tend to get ignored when they're filed on Firefox instead of Core. (2) sometimes we have the bad habit of just ignoring bug reports we don't understand rather than saying "I don't understand this"

[10:43:00.0000] <dbaron>
annevk, you should probably clarify, since so far there's been unanimous disagreement with what bzbarsky suggested

[10:43:01.0000] <AryehGregor>
dbaron, (1) I always file against Core.  (2) All but one received responses, and I'm pretty sure the remaining one is comprehensible: https://bugzilla.mozilla.org/show_bug.cgi?id=586763

[10:43:02.0000] <AryehGregor>
/me is pretty sure he files good bug reports, as a rule

[10:44:00.0000] <Ms2ger>
Three people added themselves to the cc list, that's not ignored :)

[10:44:01.0000] <annevk>
dbaron, replied to Paul Duffin who came to the same conclusion as bzbarsky

[10:45:00.0000] <AryehGregor>
I said it got no response, not that it was ignored.  :)

[10:45:01.0000] <AryehGregor>
Not that I'm saying it really needs a response.

[10:45:02.0000] <annevk>
so Chromium people fix those kind of bugs instantly?

[10:46:00.0000] <annevk>
seems weird

[10:46:01.0000] <AryehGregor>
Not necessarily, it's just a general impression I get.

[10:48:00.0000] <AryehGregor>
I'm mostly annoyed at the lack of response to the WebKit bugs.  Not even confirmed.

[10:49:00.0000] <dbaron>
AryehGregor, also, it's clear from the activity that bzbarsky saw it and cc:ed people on it; he just didn't say anything

[10:49:01.0000] <annevk>
AryehGregor, ask on webkit-dev about it?

[10:50:00.0000] <AryehGregor>
dbaron, my point was to compliment Mozilla's bug handling, relative to WebKit.

[10:50:01.0000] <AryehGregor>
Not to denigrate it.

[10:50:02.0000] <dbaron>
ok, well, I'm glad you think it's good.

[10:50:03.0000] <dbaron>
It could be better sometimes

[10:50:04.0000] <dbaron>
but anyway

[10:51:00.0000] <AryehGregor>
I can't really complain about the Mozilla bugs I've filed except to say they don't always get fixed, which is kind of inevitable.

[10:52:00.0000] <Ms2ger>
Patches welcome :)

[10:52:01.0000] <AryehGregor>
I know.

[10:52:02.0000] <variable>
dbaron, if a bug gets reported to the wrong component someone should really tell the reporter and and re-triage it. I don't always know which component to report issues with

[10:52:03.0000] <AryehGregor>
Which is why I didn't complain.  :)

[10:52:04.0000] <AryehGregor>
Some of these are pretty trivial, maybe I'll submit a patch to fix another one.

[10:53:00.0000] <Ms2ger>
Good, then I don't have to do it

[10:53:01.0000] <dbaron>
variable, that usually happens if the component it starts with is something other than Firefox::General

[11:09:00.0000] <annevk>
jgraham, http://bitbucket.org/ms2ger/web-dom-core/changeset/562deb8e647e

[11:11:00.0000] <weinig>
Ms2ger: ping

[11:11:01.0000] <Ms2ger>
Pong

[11:11:02.0000] <variable>
AryehGregor, https://bugzilla.mozilla.org/show_bug.cgi?id=554 --> oldest open mozilla bug I could find ;-)

[11:11:03.0000] <weinig>
Ms2ger: hi, I am curious what the comment on http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#embedding-custom-non-visible-data means

[11:12:00.0000] <variable>
MikeSmith, <MikeSmith> :%s/\(^.*<h[1-6].\+\)\@<!\(\([AB]\.\)\?\([1-9][0-9]\?\.\)\+[1-9][0-9]\?\)\([^0-9]\)/<a href="#x\2">\2<\/a>\5/gc ---> are you trying to use regex to parse HTML?

[11:12:01.0000] <weinig>
the implementation status says that WebKit does not pass all the relevent tests

[11:12:02.0000] <weinig>
and I am curious what tests (other than the two linked there) it is referring to

[11:12:03.0000] <Ms2ger>
Don't read too much into that

[11:12:04.0000] <weinig>
so I can fix them :)

[11:12:05.0000] <weinig>
Ms2ger: oh

[11:12:06.0000] <weinig>
Ms2ger: how much should I read into it

[11:13:00.0000] <Ms2ger>
A rough indication at the very best

[11:14:00.0000] <weinig>
Ms2ger: hm, ok, that is a bit confusing

[11:14:01.0000] <weinig>
Ms2ger: but ok

[11:14:02.0000] <Ms2ger>
It's got too many states to keep up to date

[11:15:00.0000] <weinig>
Ms2ger: is there a way we should notifying people when they are wrong?

[11:15:01.0000] <Ms2ger>
Change it yourself :)

[11:16:00.0000] <weinig>
Ms2ger: oh, fair enough

[11:16:01.0000] <Ms2ger>
Or file a bug

[11:16:02.0000] <weinig>
both very fair options, thanks!

[11:16:03.0000] <Ms2ger>
Np

[12:33:00.0000] <jgraham>
annevk: When you get Web DOM Core onto W3C, can you start using the HTML5 copy of testharnes.js

[12:33:01.0000] <jgraham>
At leat one of those bugfixes is a duplicate of something I already fixed

[12:33:02.0000] <jgraham>
Having multiple copies of things sucks

[12:35:00.0000] <jgraham>
Ms2ger: I don't understand what you are trying to achieve with the change on line 350

[13:01:00.0000] <annevk>
yeah, we should figure out something

[13:01:01.0000] <Ms2ger>
To make sure that this.message is a template

[13:01:02.0000] <Ms2ger>
There's way too many document.all-like things in testharness.js

[13:30:00.0000] <annevk>
whoa http://www.imdb.com/title/tt1521225/

[13:30:01.0000] <annevk>
did not know

[13:31:00.0000] <AryehGregor>
Compiling Firefox seems to produce a crazy number of warnings, at least by default.  I'm not used to these "compiler" things, but wouldn't it make sense to either fix them, or silence them?

[13:31:01.0000] <AryehGregor>
/me has heard that WebKit uses -Werror

[13:32:00.0000] <AryehGregor>
(plus -Wall, -Wextra, and lots of other -W's)

[13:33:00.0000] <Ms2ger>
We're working on them

[13:34:00.0000] <Ms2ger>
But yes, there are a lot

[13:34:01.0000] <AryehGregor>
Can't you institute a policy like "new commits must not introduce new warnings", at least?  Or do you already have such a policy?

[13:35:00.0000] <Ms2ger>
It's hard to see the new ones among the old ones

[13:36:00.0000] <AryehGregor>
Well, we have computers for that, right?  :)

[13:38:00.0000] <Ms2ger>
We tried to use -Werror on selected directories, but that would mean you have to test on all platforms before pushing

[13:38:01.0000] <Ms2ger>
And makes it harder to use newer compilers

[13:39:00.0000] <AryehGregor>
How does WebKit deal with that, I wonder?

[13:39:01.0000] <AryehGregor>
othermaciej was the one who mentioned WebKit uses -Werror, so I'd ask him, but he's not here.

[13:41:00.0000] <Ms2ger>
They have a bot that tries compiling all submitted patches, or something like that

[13:41:01.0000] <AryehGregor>
And Mozilla commits it and then tries compiling it?  Trying to compile and run all tests before the commit succeeds makes more sense, no?

[13:41:02.0000] <AryehGregor>
(so people don't check out broken code by mistake)

[13:42:00.0000] <hsivonen>
AryehGregor: the try server doesn't flag new warnings

[13:42:01.0000] <AryehGregor>
(you probably aren't the best person to ask these questions of :) )

[13:42:02.0000] <hsivonen>
but if you end up pushing new warnings to mozilla-central, you will get bugmail about it

[13:43:00.0000] <AryehGregor>
So is the total number of warnings actually decreasing?  Are trivial patches to eliminate warnings welcome?  I saw some quite trivial ones, like suggesting you use parentheses with || nested in &&.

[13:43:01.0000] <AryehGregor>
/me doubts he'd be interested in spending his time on that, but is wondering anyway

[13:43:02.0000] <Ms2ger>
Very welcome

[13:44:00.0000] <Ms2ger>
/me should actually get around to creating bugs for the warnings he's fixed locally

[13:44:01.0000] <hsivonen>
I don't really know what the trend is

[13:46:00.0000] <Ms2ger>
How widely supported is Array.isArray?

[13:57:00.0000] <jgraham>
Ms2ger: I think making this.message a template might be a mistake

[13:57:01.0000] <jgraham>
(my mistake, obviously)

[13:57:02.0000] <Ms2ger>
I don't disagree

[13:57:03.0000] <jgraham>
Ms2ger: What do you mean "document.all like things"

[13:58:00.0000] <jgraham>
?

[13:59:00.0000] <Ms2ger>
Returning a node instead of an array with a single node in it

[13:59:01.0000] <Ms2ger>
So you have to check everywhere what you got

[13:59:02.0000] <jgraham>
In the templaing system?

[14:00:00.0000] <jgraham>
*templating

[14:00:01.0000] <Ms2ger>
template.render in particular, yes

[14:01:00.0000] <jgraham>
(I am not unconvinced that the whole templaing system isn't a giant clusterfuck. But I'm not sure what is good)

[14:01:01.0000] <Ms2ger>
Too many negatives :)

[14:02:00.0000] <jgraham>
I think it might be a bad idea

[14:03:00.0000] <Ms2ger>
What's the use case for it anyway :)

[14:14:00.0000] <Ms2ger>
nn

[14:21:00.0000] <jgraham>
Ah, Ms2ger left

[14:22:00.0000] <jgraham>
I guess I havr to save my defence for some other time


2010-09-20
[18:35:00.0000] <faffers>
Do any mobile browser implementations support playback of cached audio?

[18:35:01.0000] <faffers>
(offline)

[18:35:02.0000] <faffers>
or on

[18:35:03.0000] <faffers>
actually

[18:35:04.0000] <faffers>
just cached

[18:43:00.0000] <MikeSmith>
faffers: Opera Mobile does

[18:43:01.0000] <MikeSmith>
or I should say, I think it does

[18:45:00.0000] <MikeSmith>
you'd have to ask somebody from Opera to confirm

[18:45:01.0000] <faffers>
sure

[18:45:02.0000] <faffers>
I'm trying on mobile safari atm

[18:46:00.0000] <faffers>
bit of a bastard, it's not interested in cached mp3s, whether they're the original file or I convert them to data uris

[18:46:01.0000] <MikeSmith>
as far as other Webkit-based browser engines, I think that's handled in the platform code, so it'd depend on which port/OS/platform version of Webkit (e.g., Qt, GTK+, whatever)

[18:46:02.0000] <faffers>
sure

[19:04:00.0000] <jacobolus>
is there someplace to report typos in the SVG spec?

[19:04:01.0000] <jacobolus>
oh, there's a w3 bugzilla. that'll work

[19:11:00.0000] <MikeSmith>
jacobolus: yeah, bugzilla is probably the best place

[19:11:01.0000] <MikeSmith>
so I'm just discovering ejacs - http://code.google.com/p/ejacs/

[19:12:00.0000] <MikeSmith>
"an Ecma-262 compliant JavaScript interpreter written entirely in Emacs Lisp"

[19:12:01.0000] <MikeSmith>
I wonder how well it actually works

[19:13:00.0000] <MikeSmith>
/me wonders if Steve Yegge is on twitter

[20:29:00.0000] <roc>
faffers: Fennec supports <audio> + the HTML5 offline cache

[20:30:00.0000] <roc>
faffers: also data: urls in <audio>

[23:46:00.0000] <faffers>
Have Apple disabled the ability to use uri data for HTML5 audio on iOS or is it just not done yet?

[23:58:00.0000] <zcorpan_>
TabAtkins: hey we're born the same month! which day?

[02:23:00.0000] <jgraham>
Anyone have any idea if the "reset the form owner" algorithm has been compatibility tested?

[02:23:01.0000] <jgraham>
Specifically the case where you have a form-associated element that is not a child of its form

[02:24:00.0000] <jgraham>
I think we have at least one bug on file that would regress if we implemented that behaviour

[02:26:00.0000] <volkmar>
jgraham: which is?

[02:27:00.0000] <jgraham>
volkmar: Which what?

[02:28:00.0000] <volkmar>
jgraham: what bug?

[02:28:01.0000] <jgraham>
Oh, bbc.co.uk relied on retaining the form element pointer after reparenting

[02:29:00.0000] <volkmar>
jgraham: gecko is implementing that in nightlies and everything seems fine

[02:29:01.0000] <jgraham>
I think we also got OTW on them

[02:29:02.0000] <jgraham>
But it's at least unclear that other sites won't break in the same way

[02:29:03.0000] <volkmar>
jgraham: but they don't use @form?

[02:30:00.0000] <jgraham>
No, they had markup like <table><form><td><input>

[02:30:01.0000] <volkmar>
jgraham: that should still work afaik

[02:30:02.0000] <hsivonen>
jgraham: so they didn't re-re-parent using a script?

[02:30:03.0000] <jgraham>
Then they removed and reinserted the table into the document

[02:30:04.0000] <jgraham>
Using a script

[02:30:05.0000] <hsivonen>
jgraham: and did that work in Gecko?

[02:31:00.0000] <jgraham>
hsivonen: I assume it did at the time

[02:31:01.0000] <hsivonen>
I'm surprised 

[02:31:02.0000] <jgraham>
This was 1.5 years ago

[02:32:00.0000] <jgraham>
It is possible that the old gecko parser did something different in this case?

[02:32:01.0000] <gsnedders>
jgraham: Are we sure we got the same markup as Gecko?

[02:32:02.0000] <gsnedders>
/me has some vague memory that we got different markup causing that bug

[02:33:00.0000] <jgraham>
gsnedders: No

[02:33:01.0000] <jgraham>
I'm not *sure* about anything

[02:34:00.0000] <jgraham>
Anyway, if gecko implements what is in the spec and doesn't see significant breakage that is fine

[02:34:01.0000] <hsivonen>
jgraham: I *think* the old parser had a subtle difference from the new parser in some form behavior

[02:36:00.0000] <hsivonen>
probably discoverable by searching my bugzilla comments from 2009 on bugs numbered < 400000

[02:36:01.0000] <hsivonen>
and not having [fixed by the html5 parser] in the whiteboard

[02:36:02.0000] <hsivonen>
and having status FIXED

[02:41:00.0000] <jgraham>
hsivonen: If the algorithm per spec is working for you, I think that is probably good enough. The comment I got from our developer was something like "I actually quite like the algorithm there, it seems fairly sane. But in HTML that isn't always a good sign"

[02:41:01.0000] <hsivonen>
jgraham: no site breakage bugs arising from this have reached me

[02:42:00.0000] <hsivonen>
the only bug I've seen about this area was filed by volkmar based on logic instead of site compat ;-)

[02:46:00.0000] <volkmar>
hsivonen: you mean the <form><form><input> bug?

[02:46:01.0000] <hsivonen>
volkmar: yes

[02:47:00.0000] <volkmar>
i still don't understand why the first form is used during parsing considering the second will be set as the form owner after, iirc

[02:52:00.0000] <hsivonen>
volkmar: there is no second form element

[02:52:01.0000] <hsivonen>
volkmar: the second tag is thrown away

[02:52:02.0000] <hsivonen>
due to compat reasons

[02:54:00.0000] <volkmar>
hsivonen: the parser is full of black magic :)

[02:54:01.0000] <hsivonen>
volkmar: not as magic as the old one, though :-)

[02:56:00.0000] <volkmar>
hsivonen: you mean Gandalf the White is not as magic as Gandalf the Grey? ;)

[02:57:00.0000] <hsivonen>
volkmar: this time it's actually possible to read the spec or source to see how stuff happens

[03:00:00.0000] <annevk>
hehe -- http://twitter.com/joedrew/status/24973615911

[03:10:00.0000] <MikeSmith>
Peter-: has there been some announcement from Mozilla about shipping FF4 with the initial Gecko API?

[03:11:00.0000] <MikeSmith>
and if so, they're essentially including it as still-experimental, right?

[03:12:00.0000] <Peter`>
It's prefixed, yes

[03:12:01.0000] <MikeSmith>
OK

[03:12:02.0000] <Peter`>
it's being announced as a feature here: http://www.mozilla.com/en-US/firefox/beta/features/

[03:13:00.0000] <MikeSmith>
is that any different from Chrome releasing beta that include their own still-experimental audio API?

[03:13:01.0000] <MikeSmith>
/me reads feature page

[03:13:02.0000] <Peter`>
Chrome's API is the one from the incubator group

[03:13:03.0000] <Peter`>
it doesn't ship yet, though, isn't even close to being enabled in WebKit

[03:14:00.0000] <MikeSmith>
there's been no decision in the incubator group about that spec

[03:14:01.0000] <MikeSmith>
in fact, we really need to convert that incubator group into a real WG

[03:14:02.0000] <Peter`>
The spec, as it is right now, is way too complicated

[03:14:03.0000] <MikeSmith>
because the incubator group can't publish andy spec anyway

[03:14:04.0000] <Peter`>
I agree that it's nowhere close to being finished, but Chris Rogers realizes that himself as well

[03:14:05.0000] <Peter`>
(the editor)

[03:15:00.0000] <Peter`>
Shipping an alternative API with Firefox 4 isn't going to make things better, prefixed or not

[03:15:01.0000] <Peter`>
when enabled by default, that is, before a consensus has been reached

[03:16:00.0000] <annevk>
do you think it will get lots of adoption soon then?

[03:16:01.0000] <MikeSmith>
Peter-: looking at http://www.mozilla.com/en-US/firefox/beta/features/ I do notice nothing indicating it's experimental or not fully baked -- so yeah, I agree that is not good. Developers should not be led to assume that is stable enough for them to implement production apps around

[03:17:00.0000] <Peter`>
annevk, even though it's proprietary, it's working. People will start experimenting and might expect it to show up in other browsers

[03:17:01.0000] <MikeSmith>
it otherwise might be interpreted as Mozilla trying to preemptively put some facts on the ground so that they won't have to change the API later

[03:18:00.0000] <Peter`>
I concur

[03:18:01.0000] <MikeSmith>
boaz: ↑

[03:19:00.0000] <jgraham>
MikeSmith: It's not clear to mw why this is a big problem for anyone other than the Mozilla people

[03:20:00.0000] <jgraham>
In that they might have some pressure to keep supporting their audio API in the future when some standard exists

[03:20:01.0000] <annevk>
really?

[03:20:02.0000] <annevk>
it's prefixed

[03:20:03.0000] <MikeSmith>
jgraham: you don't think it's a problem to be aware that a particular API is not stable?

[03:20:04.0000] <annevk>
prefixed is great

[03:20:05.0000] <jgraham>
MikeSmith: Prefixed === unstable

[03:20:06.0000] <Peter`>
It's not being advertised as such

[03:20:07.0000] <annevk>
you want people to do some amount of experimentation otherwise you never get a feel of what is wrong

[03:21:00.0000] <Peter`>
"Firefox is changing the way media is integrated on the web" sounds like something which is here to stay, prefixed or not

[03:21:01.0000] <jgraham>
It is no different to people shipping prefixed CSS or whatever

[03:21:02.0000] <jgraham>
It seems to me that, fundamentally, they are doing the right thing

[03:22:00.0000] <jgraham>
Possibly their PR people have gone overboard

[03:22:01.0000] <jgraham>
But seriously, who expects a mozFoo API to be the last word in Foo APIS?

[03:22:02.0000] <abarth>
i've been going through the WebKit bug database.  It's crazy how many bugs are fixed by the HTML5 parser

[03:23:00.0000] <jgraham>
It is clear that it can be replaced with some other API in the future and you can get the right one via feature detection

[03:26:00.0000] <hsivonen>
it could be, though, that -ms- and -webkit- are setting wrong expectations about future support for -moz- and -o- features

[03:26:01.0000] <Peter`>
jgraham, I agree that the PR part around it makes it seem worse than it is. Still I think it'd be best to keep it disabled by default, so that people who want to use it can experiment with it, while also waiting for the Incubator Group to reach a consensus. If Chrome is going to do the same there'll be two implementations of an "Audio API" which aren't similar at all

[03:28:00.0000] <hsivonen>
if you disable something by default, you can't really demo it as easily

[03:30:00.0000] <hsivonen>
(Apple and Google are demoing -webkit-* stuff as "HTML5" all the time, and Firefox looks bad, because the newest demos don't run)

[03:33:00.0000] <hsivonen>
how many people actually read http://slides.html5rocks.com/disclaimer.html ?

[04:57:00.0000] <Rik`>
Peter`: then WebKit should not activate css gradients by default

[04:57:01.0000] <Rik`>
or CSS reflections

[05:01:00.0000] <Rik`>
Peter`: and https://developer.mozilla.org/en/Manipulating_audio_using_the_enhanced_audio_API

[05:01:01.0000] <Rik`>
there is a big "non standard" on top of the doc

[05:01:02.0000] <Rik`>
the chart will point to this page

[05:03:00.0000] <Rik`>
hi MikeSmith or MikeSmith_

[05:03:01.0000] <MikeSmith_>
Rik`: hej

[05:03:02.0000] <Rik`>
as I said before the chart will link to https://developer.mozilla.org/en/Manipulating_audio_using_the_enhanced_audio_API

[05:03:03.0000] <Rik`>
which clearly claims this is non standard

[05:04:00.0000] <MikeSmith_>
I see

[05:04:01.0000] <MikeSmith_>
/me reads page

[05:09:00.0000] <annevk>
pretty cool

[05:10:00.0000] <MikeSmith>
yeah

[05:11:00.0000] <MikeSmith>
I think once people get their hands on this stuff, we are going to see all kinds of cool stuff

[05:12:00.0000] <MikeSmith>
just hope there won't be too much pain involved for everybody in migrating to whatever the standard API ends up being

[05:14:00.0000] <jgraham>
The Chrome thing looks scary-complex

[05:23:00.0000] <hsivonen>
someone should do an objective analysis of the level of complexity of proposals coming from each browser vendor

[05:24:00.0000] <hsivonen>
(I mean more generally--not just for audio)

[05:24:01.0000] <hsivonen>
(Yes, I know you can't really objectively quantify spec proposal complexity)

[05:26:00.0000] <jcranmer>
75.0896

[05:26:01.0000] <jcranmer>
hsivonen: count the number of external/internal section dependencies it adds

[05:27:00.0000] <hsivonen>
isn't http://www.w3.org/Bugs/Public/show_bug.cgi?id=10657 violating ARIA design principles?

[05:30:00.0000] <Ms2ger>
Doesn't matter, it was filed by an expert

[05:31:00.0000] <annevk>
hsivonen, though so too

[05:32:00.0000] <annevk>
hsivonen, but maybe the principles have changed

[05:32:01.0000] <hsivonen>
annevk: I commented. 

[05:32:02.0000] <annevk>
hsivonen, there's also this weird notion in the WAI-ARIA spec that AT may change the markup and that web authors have to ensure they check mutation events

[05:32:03.0000] <hsivonen>
annevk: I expect the principles haven't changed. But if they had, it would be a pretty bad bait and switch.

[05:33:00.0000] <hsivonen>
annevk: yeah, that's truly bizarre

[05:33:01.0000] <annevk>
hsivonen, I objected to that (too late for the deadline) but maybe I should again now that there's another Last Call without someone responding to my comments

[05:33:02.0000] <annevk>
that the W3C rechartered it as a Member-only group is also truly bizarre

[05:34:00.0000] <annevk>
T.V. Raman has complained quite loudly about that

[05:34:01.0000] <annevk>
and he's in the TAG -- quite the expert

[05:34:02.0000] <hsivonen>
annevk: I hope Opera sent charter review comments requesting the group to be public

[05:34:03.0000] <annevk>
I haven't checked to be honest

[05:34:04.0000] <hsivonen>
annevk: I also hope Raman sent in charter review comments to that effect

[05:35:00.0000] <annevk>
I should really kill this "to be honest" habit, it makes no sense

[05:35:01.0000] <jcranmer>
to be honest, I disagree with you

[05:36:00.0000] <Dashiva>
To be honest, I'm not

[05:36:01.0000] <annevk>
heh

[05:37:00.0000] <annevk>
AryehGregor, textArea should just work actually; SVG is matched case-sensitively

[05:38:00.0000] <hsivonen>
annevk: SVG textArea should not be implemented

[05:40:00.0000] <annevk>
ah yeah, forgot about that

[05:45:00.0000] <annevk>
ooh

[05:45:01.0000] <annevk>
@volantis.com

[05:45:02.0000] <annevk>
I thought I recognized that

[05:45:03.0000] <MikeSmith>
?

[05:45:04.0000] <MikeSmith>
what about volantis?

[05:45:05.0000] <annevk>
Dave Raggett worked for them iirc

[05:46:00.0000] <annevk>
the convert this XHTML2 markup to device-specific-markup people

[05:46:01.0000] <MikeSmith>
I can't remember if Dave did or not, but Rhys Lewis did

[05:46:02.0000] <MikeSmith>
Rhys is now at Qualcomm

[05:46:03.0000] <hsivonen>
annevk: ah. that's what I suspected, but their product page is broken, so I couldn't check

[05:47:00.0000] <MikeSmith>
Rhys was a major force behind the Device Independence Activity stuff

[05:47:01.0000] <annevk>
Paul Duffin's latest email makes this perfectly clear

[05:47:02.0000] <MikeSmith>
which eventually morphed into the Ubiquitous Web Applications work

[05:48:00.0000] <hsivonen>
and Opera Mini and WebKit ate their lunch

[05:49:00.0000] <MikeSmith>
I'm trying to remember the name of that proposed vocab

[05:51:00.0000] <MikeSmith>
DIAL

[05:51:01.0000] <MikeSmith>
it was called

[05:52:00.0000] <MikeSmith>
wow

[05:52:01.0000] <MikeSmith>
http://www.w3.org/TR/dial/

[05:52:02.0000] <MikeSmith>
they are still working on that, it seems

[05:52:03.0000] <MikeSmith>
oh

[05:52:04.0000] <MikeSmith>
"This document has been discontinued as part of the closure the Ubiquitous Web Applications Working Group."

[05:53:00.0000] <hsivonen>
I hadn't noticed the group had been closed. what happened?

[05:54:00.0000] <annevk>
Opera Mini ;p

[05:55:00.0000] <MikeSmith>
hsivonen: er, I guess I should know the answer to that question… but to be honest, I don't

[05:55:01.0000] <MikeSmith>
maybe no longer enough member interest

[05:55:02.0000] <MikeSmith>
Rhy was for quite a long time the major force in sorta singlehandedly keeping some of that work going

[05:56:00.0000] <MikeSmith>
architect of sorts

[05:56:01.0000] <MikeSmith>
behind a lot of it

[05:56:02.0000] <annevk>
geolocation is in a different activity? whoa

[05:56:03.0000] <MikeSmith>
and when Rhys moved on, not sure anybody else was prepared to step in and pick up the work

[05:56:04.0000] <hsivonen>
MikeSmith: I see

[05:58:00.0000] <MikeSmith>
annevk: W3C activity classifications are somewhat artificial constructs that don't necessarily affect much

[05:58:01.0000] <MikeSmith>
given that patent policy is all per-spec

[05:58:02.0000] <MikeSmith>
or per-WG

[05:58:03.0000] <annevk>
yeah, could just move to a flat structure

[05:59:00.0000] <MikeSmith>
yeah, there are a lot people who think that might work better

[06:55:00.0000] <boaz>
MikeSmith: woah.

[06:57:00.0000] <boaz>
Hm, I agree, that "feature" is misleading given that the API is likely to change.

[06:58:00.0000] <MikeSmith>
boaz: Rik` has pointed out that the page which actually provides the details about the API makes it more clear

[06:58:01.0000] <boaz>
that's good

[06:58:02.0000] <boaz>
Also, this is a case where the API was implemented long before an incubator group was even formed...

[06:59:00.0000] <boaz>
like six months before.

[06:59:01.0000] <boaz>
Due to my limited experience, I'm not sure how often that happens.

[06:59:02.0000] <boaz>
And in either case, It doesn't really matter. We should be telling developers that the API will totally change.

[06:59:03.0000] <boaz>
... or at least that it might.

[07:32:00.0000] <mokush>
hey, is there a <controls> element defined anywhere?

[07:33:00.0000] <annevk>
nope

[07:34:00.0000] <zcorpan_>
my google-fu gives http://msdn.microsoft.com/en-us/library/ms164640.aspx

[07:35:00.0000] <mokush>
yeah, but this results in some other html being generated by asp, right?

[07:35:01.0000] <mokush>
not the actual <controls> markup

[07:35:02.0000] <zcorpan_>
no idea what it does, but it's not html

[07:36:00.0000] <mokush>
but the validator validates <controls>

[07:36:01.0000] <mokush>
as well as <bar> and <extended>

[07:37:00.0000] <zcorpan_>
which validator?

[07:38:00.0000] <mokush>
validator.w3 as well as html5.validator.nu

[07:38:01.0000] <mokush>
as html5

[07:38:02.0000] <zcorpan_>
doesn't for me

[07:39:00.0000] <karlushi>
mokush, is there a page online which validates with these elements

[07:39:01.0000] <karlushi>
with a public URI?

[07:40:00.0000] <miketaylr>
http://html5.validator.nu/?doc=http%3A%2F%2Fjsbin.com%2Fepevi3%2F

[07:40:01.0000] <zcorpan_>
Error: Element controls not allowed as child of element body in this context. (Suppressing further errors from this subtree.)

[07:41:00.0000] <mokush>
http://pastebin.com/raw.php?i=FrqRLwCx try this code

[07:41:01.0000] <mokush>
.nu spits the error about controls, but w3 doesn't say anything about these

[07:42:00.0000] <zcorpan_>
i get " Line 27, Column 13: Element controls not allowed as child of element div in this context. (Suppressing further errors from this subtree.)" in validator.w3.org

[07:42:01.0000] <karlushi>
mokush, http://validator.w3.org/ says Errors found while checking this document as HTML5!

[07:42:02.0000] <karlushi>
Result:  4 Errors, 2 warning(s) 

[07:43:00.0000] <karlushi>
Line 27, Column 13: Element controls not allowed as child of element div in this context. (Suppressing further errors from this subtree.)

[07:43:01.0000] <karlushi>
   <controls>

[07:44:00.0000] <karlushi>
/me has the feeling that mokush is trying to validate this http://validator.w3.org/check?uri=http%3A%2F%2Fpastebin.com%2Fraw.php%3Fi%3DFrqRLwCx+&charset=%28detect+automatically%29&doctype=Inline&group=0  more than the markup itself

[07:45:00.0000] <mokush>
I missed a line, my bad. " (Suppressing further errors from this subtree.)"

[07:45:01.0000] <karlushi>
mokush, view source http://pastebin.com/raw.php?i=FrqRLwCx

[07:46:00.0000] <mokush>
I don't get what you're trying to say by 'more than the markup..'?

[07:46:01.0000] <karlushi>
to validate the code on pastebin, you have to select all and cut and paste it in Direct Input Form.

[07:46:02.0000] <mokush>
and no, I wasn't trying to validate the link..

[07:46:03.0000] <karlushi>
ok

[07:46:04.0000] <karlushi>
:)

[07:47:00.0000] <mokush>
I just tought the validator was supposed to post some errors about the <bar> and <extended> attrs

[07:48:00.0000] <mokush>
but I was wrong

[07:49:00.0000] <miketaylr>
that why it says "Suppressing further errors from this subtree"

[07:49:01.0000] <mokush>
yeah, I didn't see that 5 mins ago.

[07:50:00.0000] <miketaylr>
;)

[09:26:00.0000] <annevk>
is there any other WebSocket demo besides the one from Hixie?

[09:26:01.0000] <annevk>
I wonder what is enabled in Minefield

[09:27:00.0000] <annevk>
someone made claims on hybi, but I'm sceptical

[09:31:00.0000] <jgraham>
I think -76 is currently enabled in Minefield

[09:32:00.0000] <jgraham>
The claim was that this would be disabled or prefixed

[09:35:00.0000] <annevk>
right

[09:35:01.0000] <annevk>
I'm not buying that at all

[09:35:02.0000] <annevk>
which means we might be stuck with -76 forever at the current rate the IETF is doing things

[09:36:00.0000] <jgraham>
Well yeah I said that back in July

[09:37:00.0000] <jgraham>
And they eventually agreed in mid August to finish stuff on a four week timescale

[09:37:01.0000] <jgraham>
That has not happened

[09:37:02.0000] <jgraham>
Obviously

[09:37:03.0000] <annevk>
yeah

[09:37:04.0000] <annevk>
fail

[09:38:00.0000] <annevk>
they don't even have an open bug as far as I can tell related to the claims of that guy

[09:40:00.0000] <annevk>
not much traffic either on hybi recently

[09:40:01.0000] <AryehGregor>
annevk, SVG in text/html has case-insensitive element and attribute names . . . but you're saying that by the time they get to the DOM they're canonical case, so CSS should be case-sensitive?  But HTML elements and attributes are lowercased before getting to the DOM in text/html, so how is that different?

[09:40:02.0000] <jgraham>
It is of course not impossible it will happen

[09:40:03.0000] <jgraham>
But I agree there is not a great deal of evidence for it

[09:40:04.0000] <AryehGregor>
(Does HTML define whether CSS should be case-sensitive for text/html?)

[09:41:00.0000] <Rik`>
annevk: I did this demo and it still works in Minefield

[09:41:01.0000] <Rik`>
http://ssh.alwaysdata.com:11801/

[09:41:02.0000] <annevk>
AryehGregor, it is different because SVG uses camel case element names and to keep performance happy you want pointer comparison

[09:42:00.0000] <AryehGregor>
annevk, okay, so is this difference specced anywhere?  I don't see it immediately.

[09:42:01.0000] <annevk>
XHR is consistently faster in Firefox, Rik`? :)

[09:42:02.0000] <Rik`>
annevk: normally, it shouldn't :)

[09:42:03.0000] <annevk>
AryehGregor, not sure, it's part of Web DOM Core

[09:42:04.0000] <AryehGregor>
It seems fairly magical.  unknownElement { ... } matches <unknownelement>, right?

[09:42:05.0000] <AryehGregor>
/me doesn't really care much, won't bother investigating :)

[09:42:06.0000] <hsivonen>
AryehGregor: selectors need to have two interned strings: one that's compared against HTML-namespace elements and another that's compard for everything else

[09:43:00.0000] <annevk>
(the DOM part, not the Selectors part)

[09:43:01.0000] <annevk>
when is Firefox 4 shipping again?

[09:43:02.0000] <Rik`>
sometimes before the end of 2010

[09:44:00.0000] <hsivonen>
AryehGregor: when the sheet belongs to an HTML doc, the CSS parser needs to ascii-lowercase the interned string that's used for HTML comparisons

[09:44:01.0000] <annevk>
oh god http://dev.w3.org/2009/dap/features/

[09:44:02.0000] <hsivonen>
AryehGregor: https://bugzilla.mozilla.org/show_bug.cgi?id=499655

[09:44:03.0000] <AryehGregor>
But then it does the non-HTML comparisons case-sensitively.

[09:44:04.0000] <hsivonen>
AryehGregor: exactly

[09:44:05.0000] <AryehGregor>
Fun.

[09:46:00.0000] <annevk>
I wonder if I should bother hybi with this information

[09:48:00.0000] <jgraham>
annevk: What information?

[09:50:00.0000] <Philip`>
Seems good to post and remind people what's important to focus on, since the worst that'll happen is they'll ignore it

[09:51:00.0000] <annevk>
jgraham, that nothing happened and that Firefox is on track to ship, but I'm not sure I want to deal with the endless emails that'll undoubtedly follow

[09:52:00.0000] <jgraham>
Well no, the worst that will happen is that they will send you long emails about why you are wrong, and you will be drawn into a pointless discussion that ultimatley has no effect, and you will have wasted hours of your life

[09:52:01.0000] <jgraham>
And you will turn out to have been right

[09:52:02.0000] <Philip`>
You can just ignore any responses that aren't clearly driving the discussion forwards

[09:52:03.0000] <jgraham>
And people will keep bemoaning the fact that browsers didn't do what they wanted

[09:52:04.0000] <Rik`>
is there any public email about what will ship in Firefox 4 regarding websockets ?

[09:53:00.0000] <Philip`>
Maybe the browser developers should split off into their own group to focus on what they consider important

[09:53:01.0000] <jgraham>
And next time the same thing happens people will mysteriously still ignore you when the same thing happens again

[09:54:00.0000] <jgraham>
Erm, too many happens there

[09:54:01.0000] <annevk>
Rik`, there is one, yes

[09:54:02.0000] <Philip`>
Call it the WhyBiWG or something

[09:54:03.0000] <annevk>
Rik`, I guess I could try to find it

[09:55:00.0000] <annevk>
that was easier than anticipated

[09:55:01.0000] <annevk>
http://www.ietf.org/mail-archive/web/hybi/current/msg04029.html

[09:57:00.0000] <Rik`>
that was more than 2 weeks ago, I think plans have changed again

[09:58:00.0000] <jgraham>
Philip`: If we call it the WhyBiWG, people will get the wrong idea. And we will probably get the Pope on our backs as well as the IETF. So, I think you are off the naming committee

[09:58:01.0000] <annevk>
Rik`, interesting, are "plans" public?

[09:58:02.0000] <Rik`>
I don't know

[09:58:03.0000] <annevk>
you just happen to know them? :)

[09:58:04.0000] <Rik`>
I don't remember the timeline but there was a lot of changes

[09:59:00.0000] <jgraham>
Seems liek a weird thing to keep secret relative to the other stuff that Mozilla makes public

[09:59:01.0000] <Rik`>
I've heard it was not being shipped, shipped with a prefix, shipped behind a pref, shipped by default

[10:00:00.0000] <jgraham>
But not necessarily in that order?

[10:00:01.0000] <Rik`>
yes

[11:20:00.0000] <mokush>
what would be the best way to provide description for html5 videos?

[11:20:01.0000] <mokush>
this is mainly aimed at screenreaders, so they read the video's description before they reach the controls

[11:22:00.0000] <Philip`>
Does https://perf.wiki.kernel.org/ give errors in Opera ("Secure connection: fatal error (112) from server") or is it just me?

[11:23:00.0000] <gavin>
Philip`: I get that too

[11:24:00.0000] <Philip`>
Works for me in Firefox

[11:24:01.0000] <gavin>
the opera updater seems to be broken

[11:25:00.0000] <gavin>
downloads the 10.62 update but fails to install it

[11:25:01.0000] <annevk>
bah, Microsoft obstructing automating the CSS test suite

[11:26:00.0000] <gavin>
where?

[11:26:01.0000] <annevk>
http://lists.w3.org/Archives/Public/public-css-testsuite/2010Sep/0117.html

[11:27:00.0000] <TabAtkins>
annevk: No, they're expressing the exact same concern I did.  We just need to get 2.1 through REC with the testsuite it has, *then* spend the effort making the testsuite actually useful.

[11:28:00.0000] <gavin>
I would prefer "John Jansen obstructing"

[11:28:01.0000] <annevk>
I don't want to waste Opera QA time for "REC" purposes

[11:28:02.0000] <gavin>
kind of annoys me when people refer to "Mozilla" as a whole based on what one person says, so probably shouldn't do it for microsoft either :)

[11:28:03.0000] <annevk>
CSS 2 has not been a "REC" for over a decade, it can wait a little longer

[11:28:04.0000] <annevk>
gavin, fair enough

[11:29:00.0000] <TabAtkins>
Go tell that to glazou, who I'm pretty sure would agree with what Jansen is saying.

[11:29:01.0000] <annevk>
I'll tell him when he asks us to make those hours

[11:30:00.0000] <annevk>
oh, apparently gsnedders knows more than I do

[11:38:00.0000] <MikeSmith>
w3c bugzilla down at the moment

[11:39:00.0000] <MikeSmith>
systems team has been alerted

[12:04:00.0000] <hober>
the elisp tokenizer is basically done

[12:05:00.0000] <hober>
though without a parser on top of it I can't get at any of the states that get triggered by the parser (RAWTEXT stuff, etc.)

[12:06:00.0000] <hober>
my "pile of rubbish markup" file for exercising tokenizer states all of the other ones though

[12:06:01.0000] <TabAtkins>
That sentence not parse.

[12:13:00.0000] <hober>
yeah, indeed. s/all/hits all/

[12:35:00.0000] <annevk>
is someone still keeping track of http://groups.google.com/group/html5lib-discuss/ ?

[12:35:01.0000] <annevk>
there's a number of unanswered questions there

[12:36:00.0000] <annevk>
I think my role is approving messages at this point, as my latest commit to the project was a long time ago :/

[12:50:00.0000] <jgraham>
I am very poor at responding to messages there :(

[12:51:00.0000] <jgraham>
hober: You are using the html5lib tests, right?

[12:51:01.0000] <annevk>
the entity one found its way here

[12:51:02.0000] <annevk>
I believe

[12:51:03.0000] <annevk>
not sure about the rest

[12:51:04.0000] <jgraham>
Yeah I need to check out the spec on the entity thing

[12:53:00.0000] <annevk>
http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html

[12:53:01.0000] <annevk>
sweet

[13:11:00.0000] <annevk>
Peter`, I doubt writing-mode is supported; the change seems to suggest that parsing and serializing of the property is supported, but not its actual effects

[13:13:00.0000] <Peter->
annevk, I've changed it to "interpreted" for now, although the layout test suggests otherwise

[13:13:01.0000] <Peter->
going to test it

[13:13:02.0000] <annevk>
https://bugs.webkit.org/show_bug.cgi?id=45020 also says only parser support

[13:14:00.0000] <karlushi>
annevk, Web Dom Core algorithms are normative or not?

[13:14:01.0000] <annevk>
Peter-, the layout tests are for serializing (getComputedStyle)

[13:14:02.0000] <annevk>
karlcow, normative

[13:15:00.0000] <jgraham>
annevk: presumably black-box normative

[13:15:01.0000] <Peter->
You're right. Well spotted

[13:15:02.0000] <annevk>
Peter-, if they had added vertical text in a week with no feedback and me not noticing I'd have been very surprised :)

[13:16:00.0000] <karlushi>
ah I see. the Conformance requirements section confused me. I read it again carefully. 

[13:16:01.0000] <karlushi>
thanks

[13:18:00.0000] <Peter->
annevk, updated it :) Was a bit of a quick job, didn't have a lot of spare time

[13:20:00.0000] <annevk>
Peter-, no worries; posts are nice; short and to the point

[13:21:00.0000] <karlushi>
oh a "goto"

[13:22:00.0000] <jgraham>
annevk: Please no gotos :) They are the worst thing about Hixie's specs

[13:22:01.0000] <annevk>
goto?

[13:23:00.0000] <hsivonen>
specs should only allow break and continue (by label)

[13:23:01.0000] <annevk>
if there's a goto it's not my fault

[13:24:00.0000] <annevk>
but let me know and I'll remove it

[13:24:01.0000] <annevk>
/me can't find it

[13:24:02.0000] <annevk>
going to watch Studio 60; supposedly it's awesome

[13:25:00.0000] <karlushi>
/me search Studio 60 on the Web :)

[13:25:01.0000] <karlushi>
http://en.wikipedia.org/wiki/Studio_60_on_the_Sunset_Strip ?

[13:25:02.0000] <jgraham>
/me can't see the goto either

[13:27:00.0000] <jgraham>
Oh it's in common microsyntaxes

[13:27:01.0000] <jgraham>
Which I assume is just taken from HTML5

[13:31:00.0000] <hober>
jgraham: I will be

[13:31:01.0000] <karlushi>
yep in common microsyntaxes

[13:31:02.0000] <karlushi>
#

[13:31:03.0000] <karlushi>
Loop: If position is beyond the end of input, terminate these steps. 

[13:31:04.0000] <karlushi>
#

[13:31:05.0000] <karlushi>
Return to the step labeled loop. 

[13:39:00.0000] <jgraham>
hober: I assume you know there are seperate tests for the tokenizer alone

[13:40:00.0000] <hsivonen>
karlushi: that can be dressed as a continue, so it's ok

[13:41:00.0000] <jgraham>
hsivonen: It would still be better phrased as such

[13:42:00.0000] <jgraham>
(don't get me wrong, I think Hixie's style is orders of magnitude better than the prevaling style at W3C prior to HTML5. But it is not as clear as it could be in some cases)

[13:44:00.0000] <hober>
jgraham: yes

[13:46:00.0000] <annevk>
karlushi, yeah, that's the one, it's pretty good so far

[13:46:01.0000] <annevk>
oh, common microsyntaxes

[13:46:02.0000] <annevk>
haven't really studied those yet

[13:48:00.0000] <karlushi>
I'm always careful, but would it be better if you indent 6. as a 1. because the "terminate these steps." seems to be a bit awkward

[14:29:00.0000] <tonyg-cr>
Hi, I heard a rumor there might be Opera folks hanging out it here. I've been playing around with the "Delayed script execution" feature for a bit and am surprised that I haven't been able to write a test case that breaks it. I'm curious how it works and if there are known bugs.

[14:31:00.0000] <jgraham>
tonyg-cr: Yes there are Opera folks here. DSE works by "magic" (I would say more but I would probably get it wrong). I believe there are some outstanding issues that prevent it being enabled by default

[14:32:00.0000] <jgraham>
If you find a case that breaks we would be interested to hear about it

[14:32:01.0000] <jgraham>
File a bug

[14:33:00.0000] <jgraham>
Basically it is rather like the speculative parsing of other browsers

[14:33:01.0000] <tonyg-cr>
jgraham: It is quite magical :)

[14:34:00.0000] <tonyg-cr>
I was expecting it to easily break, but it appears quite resilient

[14:34:01.0000] <tonyg-cr>
Does it snapshot the DOM at each point?

[14:34:02.0000] <tonyg-cr>
Or somehow mark versions/generations on the tree?

[14:34:03.0000] <jgraham>
I'm not sure about the implementation details

[14:36:00.0000] <tonyg-cr>
The closest thing I could find to a bug is flash of unstyled content (e.g. aol.com), but everything always seems to end up correct even in some pathological test cases

[14:36:01.0000] <TabAtkins>
jgraham: Who's a better person to ask?  zcorpan?  Someone else?

[14:37:00.0000] <jgraham>
TabAtkins: Umm, I guess jl or bratell or one of the other developers. But they don't really hang out here :)

[14:37:01.0000] <TabAtkins>
Could you /msg tonyg with some email addresses or something?

[14:38:00.0000] <jgraham>
TabAtkins: I should be able to remember more about it than I can. Also, I am not sure how much is considered secret sauce

[14:40:00.0000] <tonyg-cr>
jgraham: yeah, proprietary implementation makes sense (it is awesome work), i guess i'm more wondering what sort of things tend to break — if it is really compatible with the web should that behavior be specced?

[14:42:00.0000] <AryehGregor>
What does Opera's "delayed script execution" do?  If it's really the same as other browsers' speculative parsers or whatever, then it causes no semantic changes, so it should break nothing.

[14:42:01.0000] <AryehGregor>
(nor does it make sense to spec it in that case)

[14:43:00.0000] <jgraham>
tonyg-cr: It doesn't really make sense to spec it

[14:43:01.0000] <AryehGregor>
http://www.stevesouders.com/blog/2008/09/11/delayed-script-execution-in-opera/ makes it sound like it's something totally different, though.

[14:43:02.0000] <jgraham>
It is ideally black-box indistinguishable from not-having the feature (except from performance)

[14:45:00.0000] <AryehGregor>
So it not only reads ahead to fetch resources when blocked on script, it also adds stuff to the DOM and lays things out, then just rewrites it once the script loads?

[14:45:01.0000] <jgraham>
AryehGregor: "like" was not supposed to be exact

[14:45:02.0000] <AryehGregor>
That sounds pretty cool, but also sounds hard to get right.  :)

[14:49:00.0000] <tonyg-cr>
jgraham: thanks for the info, it is really interesting work :)

[14:57:00.0000] <hsivonen>
tonyg-cr: afaict, document.write in both Opera and IE works very differently from the stream insertion Gecko, WebKit and HTML5 have

[14:58:00.0000] <tonyg-cr>
I'm familiar w/ the stream insertion model, what does opera do differently?

[14:59:00.0000] <hsivonen>
tonyg-cr: I think I wrote a test case where poking to DOM suggested that document.written stuff went on the side somehow instead of going into the stream 

[14:59:01.0000] <hsivonen>
let's see if I'm remembering correctly

[15:00:00.0000] <hsivonen>
oh yes

[15:01:00.0000] <hsivonen>
tonyg-cr: if you take a look at the number of script elements found in the DOM in http://hsivonen.iki.fi/test/moz/sheet-blocking-script.html

[15:02:00.0000] <hsivonen>
or was it http://hsivonen.iki.fi/test/moz/sheet-blocking-script2.html

[15:03:00.0000] <tonyg-cr>
well the # in the first test does vary w/ DSE is toggled in Opera

[15:03:01.0000] <hsivonen>
huh. now I see the same numbers in Minefield and Opera at home

[15:03:02.0000] <hsivonen>
I wonder if I had a different configuration at work

[15:04:00.0000] <tonyg-cr>
toggle this: opera:config#Delayed%20Script%20Execution

[15:05:00.0000] <hsivonen>
yeah, the number changes

[15:06:00.0000] <hsivonen>
tonyg-cr: now I remember what the weird thing is

[15:07:00.0000] <hsivonen>
so if the number is 2, you'd expect the parser to have blocked

[15:07:01.0000] <hsivonen>
but elapsed and the color suggest it didn't block

[15:09:00.0000] <tonyg-cr>
hsivonen: that is odd, still wrapping my head around it

[15:09:01.0000] <hsivonen>
um. maybe I'm just confused now

[15:11:00.0000] <hsivonen>
now, that's the oddity. some clues suggest it blocked while others suggest it didn't

[15:11:01.0000] <hsivonen>
the other day I concluded that Opera and WebKit never block scripts on style sheets

[15:13:00.0000] <hsivonen>
I wouldn't be surprised if Opera had some DOM snapshotting mechanism

[15:14:00.0000] <hsivonen>
I can imagine such a mechanism would be useful for Mini going back to the server to run a script off an event handler

[15:15:00.0000] <hsivonen>
well, maybe that doesn't require snapshotting per se

[15:15:01.0000] <hsivonen>
but requires a way to hibernate a DOM in an inexpensive way

[15:16:00.0000] <hsivonen>
(I'm assuming Mini doesn't keep as many active browser instances alive as there have been recent Mini page loads)

[15:16:01.0000] <annevk>
I don't think we go back to the server

[15:17:00.0000] <hsivonen>
annevk: I can highlight lines in krijn's logs on Mini

[15:17:01.0000] <hsivonen>
if it's been a couple of minutes since the page load, it works

[15:18:00.0000] <hsivonen>
annevk: but after some timeout, it stops working

[15:19:00.0000] <annevk>
oh, maybe for some things we do


2010-09-21
[18:03:00.0000] <MikeSmith>
http://twitter.com/mattmay/status/25070606712

[18:03:01.0000] <MikeSmith>
「Are web devs REALLY that afraid of namespaces? Only people I've heard complain about it are (or were) browser devs. http://bit.ly/b99D0I 」

[18:04:00.0000] <tabatkins>
To be honest, that's probably because most web authors don't know what namespaces are.  *At best*, they're just part of the copypasta header they use on every page without knowing what it means.

[18:09:00.0000] <MikeSmith>
sicking: ↑

[18:10:00.0000] <sicking>
MikeSmith: i seem to be lacking the scrollback you're pointing to

[18:10:01.0000] <MikeSmith>
http://twitter.com/mattmay/status/25070606712

[18:10:02.0000] <MikeSmith>
「Are web devs REALLY that afraid of namespaces? Only people I've heard complain about it are (or were) browser devs. http://bit.ly/b99D0I 」

[18:11:00.0000] <MikeSmith>
…which cites your recent message on the subject

[18:11:01.0000] <AryehGregor>
"Waiting for a2.twimg.com..."

[18:12:00.0000] <MikeSmith>
AryehGregor: hey~ long time no talk — I seem to not be on here at the same time as you lately

[18:12:01.0000] <MikeSmith>
hope things are going well for your

[18:12:02.0000] <MikeSmith>
*you

[18:14:00.0000] <AryehGregor>
They are, thanks.

[18:14:01.0000] <AryehGregor>
Pretty sure we've talked at some point in the last couple of weeks.

[18:20:00.0000] <MikeSmith>
AryehGregor: ok — I guess it's due to my "long term loss of short term memory" issue

[18:21:00.0000] <MikeSmith>
I remember stuff better that happened 2 months ago than I do from 2 weeks ago…

[18:23:00.0000] <sicking>
hrm, i keep loosing connection :(

[18:24:00.0000] <AryehGregor>
sicking, would you be a good person to review https://bugzilla.mozilla.org/show_bug.cgi?id=586763, once I have a patch that's reviewable?

[18:25:00.0000] <sicking>
AryehGregor: sure

[18:25:01.0000] <AryehGregor>
Okay, thanks.

[18:25:02.0000] <sicking>
AryehGregor: though i'll probably check against spec rather than against other impls

[18:25:03.0000] <AryehGregor>
I'm doing both.

[18:26:00.0000] <sicking>
AryehGregor: if gecko and other browsers disagree, and there's a very logical default, then we should probably use the logical one

[18:26:01.0000] <AryehGregor>
(and deciding what seems most reasonable when there's disagreement)

[18:26:02.0000] <AryehGregor>
Yes, that's the principle I'm abiding by.

[18:26:03.0000] <AryehGregor>
I've got all the rationale for my changes in the bug, I think.

[19:03:00.0000] <AryehGregor>
sicking, okay, I've got a patch there for you to review.  I've CC'd you.

[19:14:00.0000] <sicking>
AryehGregor: r? me so that it ends up in my queue

[19:46:00.0000] <MikeSmith>
is it possible to change the width of the line that's rendered for <del> text content?

[19:46:01.0000] <MikeSmith>
text-decoration=line-through 

[19:50:00.0000] <MikeSmith>
ah, ok

[19:50:01.0000] <MikeSmith>
http://dev.w3.org/csswg/css3-text/#text-decoration

[19:51:00.0000] <MikeSmith>
    text-decoration: underline;

[19:51:01.0000] <MikeSmith>
    text-decoration: navy dotted underline; /* Ignored in CSS1/CSS2 UAs */

[19:52:00.0000] <MikeSmith>
hmm

[19:53:00.0000] <MikeSmith>
that still doesn't allow me to set the thickness

[20:03:00.0000] <jgornick>
Hey guys, quick question... Attributes values can't have escaped strings like: <myelement myattribute="\"this is a test\"" /> the value needs to be HTML entity encoded?

[20:31:00.0000] <MikeSmith>
jgornick: yeah

[22:26:00.0000] <tw2113>
good evening

[01:26:00.0000] <jgraham>
Hmm, element creation is atomic from the point of view of the spec, so I can't see how you could get different behaviour depending on attribute order

[01:26:01.0000] <jgraham>
Or am I missing something?

[01:26:02.0000] <jgraham>
(latest message on whatwg@)

[01:43:00.0000] <Peter->
annevk: https://bugs.webkit.org/show_bug.cgi?id=46123

[04:19:00.0000] <gsnedders>
Oh yay! Microsoft Office Outlook Web Access!

[04:20:00.0000] <jgraham>
gsnedders: May I be the first to offer my commiserations?

[04:21:00.0000] <jgraham>
(presumably this is to encourage you not to use your university mail account? Or to run an illicit webmail server of your own?)

[04:24:00.0000] <gsnedders>
jgraham: Encourage you to not use your university mail account where they send important stuff.

[04:25:00.0000] <gsnedders>
/me has already missed an important email on his second day

[04:25:01.0000] <gsnedders>
Oh well.

[04:25:02.0000] <jgraham>
Presumably you get imap access? I mean they're not *insane*, right?

[04:26:00.0000] <Ms2ger>
Probably not

[04:26:01.0000] <gsnedders>
jgraham: IMAP access? You assume they're sane. :)

[04:26:02.0000] <annevk>
unknown use cases from the future

[04:27:00.0000] <gsnedders>
So, um, it uses an Exchange server within the univeristy's internal network. So, setup VPN and use IMAP to access the Exchange server? This is totally undocumented, but the "about" page in the webmail gives enough information to set this up I think…

[04:27:01.0000] <annevk>
please make them work now

[04:27:02.0000] <annevk>
o_O

[04:30:00.0000] <jgraham>
gsnedders: You are seriously telling me that you can't just connect to imap.gla.ac.uk:443 and log in?

[04:30:01.0000] <hsivonen>
gsnedders: does OWA work in Opera?

[04:30:02.0000] <gsnedders>
jgraham: Seriously.

[04:31:00.0000] <gsnedders>
hsivonen: OWA?

[04:31:01.0000] <gsnedders>
hsivonen: Outlook Web App?

[04:31:02.0000] <jgraham>
gsnedders: Outlook Web Access

[04:31:03.0000] <gsnedders>
hsivonen: It appears to.

[04:31:04.0000] <jgraham>
gsnedders: Than is in-fucking-sane. Are you sure the CS department don't have their own mail server?

[04:32:00.0000] <jgraham>
I would pretty much expect them to not put up with the setup you jut described

[04:32:01.0000] <gsnedders>
hsivonen: At least in the Light version (this is Outlook 2007)

[04:32:02.0000] <gsnedders>
jgraham: Staff have an entirely separate system which allows IMAP.

[04:32:03.0000] <gsnedders>
jgraham: So, uh, I guess no staff member has cared enough to get it set up.

[04:33:00.0000] <gsnedders>
jgraham: There's no separate CS server at all.

[04:33:01.0000] <gsnedders>
Anyhow, I have a CS lecture to get to… somewhere.

[04:33:02.0000] <gsnedders>
/me knows what building, but that's all

[04:33:03.0000] <Philip`>
Look for other confused-looking people, and follow them

[04:33:04.0000] <hsivonen>
gsnedders: is "light" version something non-Ajaxy?

[04:34:00.0000] <jgraham>
Your homepage suffers from xkcd:773

[04:34:01.0000] <gsnedders>
hsivonen: I wasn't paying much attention.

[04:34:02.0000] <hsivonen>
does Opera support insertAdjacentHTML?

[04:34:03.0000] <gsnedders>
hsivonen: But I think it does a bit

[04:34:04.0000] <gsnedders>
IIRC no

[04:34:05.0000] <gsnedders>
Anyhow, I'm off.

[04:35:00.0000] <hsivonen>
I'm just wondering how OWA could work in Opera unless they serve different code given OWA's reliance of createContextualFragment quirkiness when the context is "html"

[04:36:00.0000] <jgraham>
http://www.gla.ac.uk/services/it/forstudents/email/clients/

[04:36:01.0000] <jgraham>
That could be wrong of course

[04:36:02.0000] <hsivonen>
annevk: thanks for the link. You can probably guess what my remarks here would be if the document weren't secret.

[04:38:00.0000] <jgraham>
link?

[04:39:00.0000] <hsivonen>
jgraham: http://www.w3.org/2010/07/WAI-Activities-DoC

[04:42:00.0000] <hsivonen>
It's ridiculous that Flash Player on Mac doesn't have an autoupdater

[04:42:01.0000] <hsivonen>
(or if it does, it's not working)

[05:10:00.0000] <MikeSmith>
if I have a position=absolute element and its height is greater than the height of the viewport, how do I get a browser to enable scrolling within it?

[05:11:00.0000] <MikeSmith>
that is, if I also have height=auto on the element

[05:11:01.0000] <MikeSmith>
I tried overflow-y=scroll but that doesn't work unless I also set an explicit height

[05:17:00.0000] <jgraham>
http://weblogs.mozillazine.org/bz/archives/020683.html is funny

[05:18:00.0000] <Dashiva>
MikeSmith: Would max-height: 100% work?

[05:19:00.0000] <MikeSmith>
Dashiva: will give it a try

[05:20:00.0000] <MikeSmith>
hmm, that causes it to be rendered at only 24 px or so

[05:21:00.0000] <MikeSmith>
due to the way I have it marked up, I guess

[05:21:01.0000] <MikeSmith>
maybe I can try making it draggable

[05:22:00.0000] <MikeSmith>
hey, that works

[05:22:01.0000] <MikeSmith>
it's better than scroll bars too

[05:22:02.0000] <MikeSmith>
I hate scroll bars

[05:22:03.0000] <MikeSmith>
don't know if a UX professional would judge it to be good or not

[05:23:00.0000] <hsivonen>
jgraham: the comments are disturbing

[05:24:00.0000] <Dashiva>
When in doubt, "This site works best in 1920x1080"

[05:24:01.0000] <MikeSmith>
heh

[05:27:00.0000] <hsivonen>
jgraham: are you still experiencing the Ubuntu jumpiness during CPU-intensive tasks?

[05:28:00.0000] <hsivonen>
jgraham: as of today, things look good to me...

[05:31:00.0000] <jgraham>
hsivonen: It got better a while back when I rebooted

[05:31:01.0000] <jgraham>
Although it could just be less memory pressure now

[05:31:02.0000] <MikeSmith>
foolip: you there?

[05:33:00.0000] <hsivonen>
jgraham: good point. 

[05:34:00.0000] <hsivonen>
jgraham: I wonder if crashing X or suspend/resume have the same effect as rebooting

[06:02:00.0000] <annevk>
jgraham, especially the comments

[06:08:00.0000] <foolip>
MikeSmith, I'm here

[06:08:01.0000] <MikeSmith>
foolip: hey

[06:09:00.0000] <MikeSmith>
so I did briefly turn off bugmail to public-html

[06:09:01.0000] <foolip>
ok

[06:09:02.0000] <MikeSmith>
but I was told to turn it back on

[06:09:03.0000] <MikeSmith>
and there has been a subsequent discussion on public-html

[06:10:00.0000] <foolip>
ok, wasn't the idea to send mail for new bugs?

[06:10:01.0000] <MikeSmith>
the problem with that is that it will also send notifications for spam

[06:10:02.0000] <foolip>
I think I've read all of that discussion

[06:10:03.0000] <MikeSmith>
OK

[06:10:04.0000] <MikeSmith>
foolip: if you would comment on that thread, that'd be great

[06:11:00.0000] <foolip>
as I remember, there was no controversy to have an opinion on?

[06:11:01.0000] <foolip>
will look again

[06:12:00.0000] <annevk>
MikeSmith, there's only very little spam

[06:12:01.0000] <MikeSmith>
controversy is just about that level of bug notifications is appropriate for the list

[06:12:02.0000] <MikeSmith>
annevk: yeah, true

[06:12:03.0000] <MikeSmith>
currently at least

[06:12:04.0000] <foolip>
what was the name of the thread?

[06:12:05.0000] <MikeSmith>
annevk: so as long as people can live with that small amount, I guess we can re-configure to have it send notices only for new bugs

[06:13:00.0000] <foolip>
if spam is a problem, can't we make bugmail be moderated, or will that double the amount of time spent on spam by someone?

[06:13:01.0000] <MikeSmith>
foolip: I will get you a url to archive

[06:14:00.0000] <MikeSmith>
no, I really don't want to make it moderated

[06:14:01.0000] <MikeSmith>
I don't think there's any way I can enable non-team moderator access to the list admin UI

[06:14:02.0000] <MikeSmith>
so it would mean I'd get stuck with moderating it all

[06:14:03.0000] <foolip>
oh well

[06:14:04.0000] <virtuelv>
whoah

[06:15:00.0000] <virtuelv>
everyone turn off JS on twitter

[06:15:01.0000] <virtuelv>
http://oh.no/#"@onmouseover=";alert('xss')" does what you hope it wouldn't

[06:15:02.0000] <virtuelv>
it also allows style

[06:16:00.0000] <MikeSmith>
foolip: heh, http://lists.w3.org/Archives/Public/public-html/2010Sep/thread.html#msg133

[06:16:01.0000] <MikeSmith>
the thread is "Bug mail (Was: [Bug 10479] add role=radiogroup to details element)"

[06:16:02.0000] <MikeSmith>
foolip: you initiated it :)

[06:17:00.0000] <foolip>
yes, I've found it

[06:17:01.0000] <MikeSmith>
virtuelv: wow

[06:17:02.0000] <virtuelv>
MikeSmith: yup

[06:17:03.0000] <virtuelv>
it seems like they're failing input validation 101

[06:18:00.0000] <virtuelv>
which, in this case be, "validate the generated output"

[06:18:01.0000] <foolip>
MikeSmith, is it othermaciej's suggestion you want a comment on?

[06:19:00.0000] <MikeSmith>
foolip: yeah please

[06:20:00.0000] <MikeSmith>
I think that asking the people who are still actively reading the list what their opinion is about the bugmail settings is not a complete answer

[06:20:01.0000] <foolip>
hehe

[06:54:00.0000] <hsivonen>
the Old Twitter unescaped HTML named character references, so it seems that keeping plain text plain isn't twitter's strong point

[06:59:00.0000] <annevk>
tomorrow I'm gonna present at a Flex meeting at Adobe

[06:59:01.0000] <annevk>
on HTML5

[06:59:02.0000] <annevk>
ordering bulletproof vests online is tricky

[07:00:00.0000] <MikeSmith>
just be prepared to call in the air strike at the appropriate time

[07:02:00.0000] <MikeSmith>
and make sure to get Kurtz's diary before you escape

[07:02:01.0000] <MikeSmith>
a lot of gamers miss that part

[07:05:00.0000] <annevk>
I don't really know what to say... "Hi, my name is Anne; together with some other people I work on HTML5. We set out six years to eat your lunch..."

[07:08:00.0000] <MikeSmith>
s/eat your lunch/drink your milkshake/

[07:08:01.0000] <MikeSmith>
but anyway that weren't the plan that was set out with back then

[07:08:02.0000] <MikeSmith>
afaict

[07:09:00.0000] <MikeSmith>
/me is listening to Teenage Dream by T. Rex from Zinc Alloy and the Hidden Riders of Tomorrow (Deluxe Version) (✮✮✮✮✮)

[07:09:01.0000] <MikeSmith>
annevk: ↑

[07:10:00.0000] <annevk>
certainly was in the back of my mind

[07:10:01.0000] <MikeSmith>
that song is about the Plan

[07:10:02.0000] <annevk>
heh

[07:10:03.0000] <MikeSmith>
"Whatever happened to the teenage dream?"

[07:10:04.0000] <MikeSmith>
I am pretty sure that is the official theme song for The Plan

[07:12:00.0000] <hsivonen>
annevk: I thought Web Apps 1.0 wasn't Flash-motivated but Avalon-motivated

[07:14:00.0000] <annevk>
sorry, yeah, I meant plugins in general

[07:16:00.0000] <MikeSmith>
/me is listening to This Year by The Thrills from Teenager (✮✮✮✮✮)

[07:17:00.0000] <MikeSmith>
that's the song for the New Plan

[07:17:01.0000] <MikeSmith>
"I know, this year could be our year, this year could be our year"

[07:18:00.0000] <annevk>
I'm surprised Opera supports all this color crap you keep sending me

[07:18:01.0000] <annevk>
I have no idea how to generate that myself :)

[07:19:00.0000] <annevk>
meanwhile krijnh seems to simply strip out the markup it uses

[07:26:00.0000] <MikeSmith>
hmm, is setting draggable=true on an element not sufficient for making it draggable?

[07:26:01.0000] <MikeSmith>
something else I need to set?

[07:27:00.0000] <MikeSmith>
I mean, just for making it draggable -- I don't actually need to drop it anywhere in particular

[07:28:00.0000] <MikeSmith>
just to drag it to read the part that overflowed outside the viewport

[07:28:01.0000] <MikeSmith>
so, dragging it as an alternative to scrolling

[07:28:02.0000] <annevk>
might only work in Firefox?

[07:29:00.0000] <MikeSmith>
I thought everybody had some degree of drag-n-drop implemented at this point?

[07:30:00.0000] <MikeSmith>
after messing with this, I have to say, the dragging metaphor seems a lot more real-world-like natural than scrollbarring

[07:31:00.0000] <MikeSmith>
from a UX point of view, scrollbarring seems really suboptimal

[07:31:01.0000] <hsivonen>
MikeSmith: otoh, not having a clue about scrollable areas is bad UX, too

[07:32:00.0000] <MikeSmith>
not having a clue?

[07:32:01.0000] <MikeSmith>
a UI clue you mean?

[07:32:02.0000] <hsivonen>
MikeSmith: right

[07:32:03.0000] <MikeSmith>
yeah, true

[07:32:04.0000] <MikeSmith>
what I did for that is change the cursor

[07:32:05.0000] <MikeSmith>
to "move"

[07:33:00.0000] <MikeSmith>
but I guess it should have some more obvious visual clue as weel

[07:33:01.0000] <MikeSmith>
that is, one that doesn't require hovering over the element first

[07:35:00.0000] <Philip`>
PDF readers seem to have done the drag-to-scroll thing since forever, but it hasn't really caught on anywhere else

[07:35:01.0000] <Philip`>
maybe because it conflicts with drag-to-select-text

[07:36:00.0000] <MikeSmith>
Philip`: I guess I have noticed that in PDF readers yet

[07:36:01.0000] <MikeSmith>
particular readers? does Acrobat do that?

[07:37:00.0000] <Philip`>
Yes

[07:37:01.0000] <MikeSmith>
ok

[07:37:02.0000] <Philip`>
(when you've got the hand tool selected, not the text-selection tool)

[07:38:00.0000] <MikeSmith>
ok

[07:39:00.0000] <MikeSmith>
I think the PDF format is way underappreciated

[07:39:01.0000] <MikeSmith>
/me is not a PDF-basher

[07:39:02.0000] <MikeSmith>
like, the stuff generated out of ConTeXt

[07:40:00.0000] <Philip`>
When we got electronic whiteboards (basically a projector plus touch-sensitive board) at school, one of the teachers seemed to love using it to display PDF files since he could use his real hand to drag the document up and down the board

[07:40:01.0000] <hsivonen>
how is the twitter XSS being exploited?

[07:40:02.0000] <MikeSmith>
and pdfTeX

[07:41:00.0000] <MikeSmith>
Philip`: yeah, like that

[07:41:01.0000] <hsivonen>
MikeSmith: the biggest flaw of PDF itself is it's main feature: that the text doesn't reflow

[07:41:02.0000] <MikeSmith>
yup

[07:41:03.0000] <hsivonen>
(yes, I know about the accessibility stuff. It doesn't really count here)

[07:42:00.0000] <hsivonen>
other than that, the biggest flaw of PDF is Adobe Reader

[07:42:01.0000] <Philip`>
I've never really been concerned about lack of reflow

[07:42:02.0000] <Philip`>
since it's trivial to zoom and scroll to read whatever I need

[07:42:03.0000] <jgraham>
I find the inability to select text in logical order to be the worst thing

[07:42:04.0000] <jgraham>
Lack of reflow is second

[07:43:00.0000] <MikeSmith>
non-reflow-as-feature is not unique to PDF -- it's something that people also want for HTML-based presentations and such

[07:43:01.0000] <annevk>
need for a plugin first

[07:43:02.0000] <MikeSmith>
e.g., scribd

[07:43:03.0000] <annevk>
imo

[07:43:04.0000] <hsivonen>
I think Adobe Reader is the worst. Then lack of reflow when the document should have been published as HTML instead. then text selection.

[07:43:05.0000] <jgraham>
annevk: I'm not really interested as PDF-as-part-of-the-web so have never used a plugin

[07:43:06.0000] <hsivonen>
fourth the occasional occurrence of PDFs that come from 90s workflows and require font magic that only Adobe Reader does

[07:44:00.0000] <Philip`>
The most frequent pain I encounter is copying-and-pasting fl ligatures - it ought to get automatically decomposed but doesn't (at least in Okular)

[07:44:01.0000] <hsivonen>
jgraham: I want native PDF support in Firefox but I haven't used a plug-in since I decided the Adobe was too unstable in the Netscape 2.0 days

[07:45:00.0000] <jgraham>
I don't want to encourasge people to use PDF on the web

[07:45:01.0000] <hsivonen>
PDF 1.4: good

[07:45:02.0000] <jgraham>
So I don't want native support

[07:45:03.0000] <hsivonen>
Adobe Reader: bad

[07:46:00.0000] <jgraham>
Since it isn't really a format that plays well with the whole web ideal

[07:46:01.0000] <Philip`>
Is Google's in-browser PDF renderer considered a good thing or a bad thing?

[07:46:02.0000] <Philip`>
(The one you get when you say "View" on PDF attachments in Gmail)

[07:46:03.0000] <jgraham>
(what I really want is TeX-quality typography in HTML, including for maths, so that people stop using PDF for e.g. scientific papers)

[07:47:00.0000] <hsivonen>
jgraham: I want that, too

[07:47:01.0000] <Philip`>
jgraham: You'd probably have to solve diagrams and graphs in HTML, too

[07:47:02.0000] <jgraham>
Philip`: SVG

[07:47:03.0000] <jgraham>
In principle

[07:48:00.0000] <jgraham>
I mean it is not a-priori obvious that outputting a diagram to SVG has to be worse than outputting it to PDF

[07:48:01.0000] <jgraham>
Although that turns out to be true with much current content-creation software

[07:48:02.0000] <Philip`>
You need the text and the shapes to be aligned correctly, which means you need to know the font metrics in advance

[07:49:00.0000] <Philip`>
and you want the text to match the text in the rest of the document else it looks ugly

[07:49:01.0000] <jgraham>
Right, but doesn't @font-face solve that?

[07:49:02.0000] <jgraham>
Philip`: A surprising number of papers are ugly through not matching text in figures / body

[07:49:03.0000] <Philip`>
Probably not unless all platforms' font renderers use precisely the same metrics

[07:49:04.0000] <hsivonen>
jgraham: only for fonts with reasonable licenses

[07:50:00.0000] <Philip`>
(which they probably don't, because of sub-pixel positioning etc)

[07:50:01.0000] <hsivonen>
for fonts with unreasonable licenses, we really need the ability for SVG paths to have text alternatives

[07:50:02.0000] <hsivonen>
Philip`: that's an issue with PDF as well

[07:50:03.0000] <jgraham>
Philip`: I expect you can get good enough compared to the aesthetic taste of most scientists

[07:50:04.0000] <hsivonen>
Philip`: oops, I misread what you said

[07:50:05.0000] <Philip`>
jgraham: Lots are ugly, but I'd prefer not to switch to a technology that forces all to be ugly

[07:51:00.0000] <jgraham>
Philip`: I would trade a little ugliness for much improved usability

[07:51:01.0000] <hsivonen>
does SVG already support positioning individual glyphs if you want to do that?

[07:51:02.0000] <karlushi>
/me guesses he missed the twitter xss.

[07:51:03.0000] <Philip`>
I suppose what I'd really want is a high-quality TikZ-to-SVG-and-MathML converter, and then I'd be happy

[07:52:00.0000] <hsivonen>
karlushi: I wonder if it was on #newtwitter only. I'm still on old twitter.

[07:52:01.0000] <jgraham>
hsivonen: I thought it was the opposite

[07:52:02.0000] <karlushi>
I'm using an app, and it seems it was only the Web browser UI which was the victim.

[07:53:00.0000] <Philip`>
(TikZ seems a crazy idea but somehow it actually works and is really useful)

[07:53:01.0000] <Philip`>
(and I find it easier than using WYSIWYG editors for diagrams)

[07:54:00.0000] <Ms2ger>
Philip`++

[07:54:01.0000] <Philip`>
(so it'd be nice to have something like that for SVG, instead of being stuck with Inkscape)

[07:58:00.0000] <hsivonen>
karlushi: I'm dogfooding the Web Platform, so I don't use Twitter clients

[07:59:00.0000] <hsivonen>
jgraham: how can I tell if my account was exploited?

[08:00:00.0000] <jgraham>
hsivonen: I have no idea

[08:00:01.0000] <jgraham>
I am jsut passing on the small amounts of information I picked up

[08:00:02.0000] <hsivonen>
(well, actually, I'm using Gwibber for notification of incoming @hsivonen mentions, but only because annevk's WG isn't done yet.)

[08:01:00.0000] <Rik`_>
hsivonen: in fact it was only on oldtwitter

[08:01:01.0000] <hsivonen>
Rik`_: ok

[08:02:00.0000] <Philip`>
Ooh, sounds like tex4ht might do TikZ->SVG already

[08:07:00.0000] <annevk>
http://www.xml.com/axml/notes/TheCorrectTitle.html XML could've been MAGMA (via mutter)

[08:11:00.0000] <zcorpan_>
would then xhtml be mhtml?

[08:12:00.0000] <Dashiva>
annevk: I'm a bit disappointed they used such a bad voting system to decide

[08:15:00.0000] <jgraham>
They should have used proportional representation

[08:15:01.0000] <jgraham>
We would be required to refer to it as MAGMA 4/13 of the time

[08:16:00.0000] <annevk>
you guys are putting too much thought into this

[08:18:00.0000] <Dashiva>
They ignored a third of the group in the final decision, that seems big to me

[08:19:00.0000] <Ms2ger>
XMAGMA?

[08:30:00.0000] <Dashiva>
Get out, MikeSmith

[08:31:00.0000] <Dashiva>
No pretending you're Norwegian on my twitter

[08:31:01.0000] <MikeSmith>
who's to say I'm not really Norwegian?

[08:32:00.0000] <Dashiva>
We all know you're Japanese

[08:39:00.0000] <MikeSmith>
speaking of Japanese, I heard that the following is somehow Japan-related: http://theshrinechi.blogspot.com/2010/05/kool-keith-howlin-wolf-q-bert-japan.html

[08:51:00.0000] <Philip`>
At the current rate of reviewing canvas test cases, it looks like it'll be finished after a mere 1.2 years

[08:52:00.0000] <jgraham>
I am not sure how we will cope when we get thousands of testcases

[08:53:00.0000] <jgraham>
e.g. AryehGregor's tests

[08:57:00.0000] <zcorpan_>
maybe it'll be finished in 2022

[09:07:00.0000] <jgraham>
Well say be get 250,000 tests and review 25/week, that is 10,000 weeks or about 200 years

[09:11:00.0000] <jgraham>
(which would imply that we can't have more than 12,500 tests with the current system to be done by 2022)

[09:11:01.0000] <jgraham>
(whcih is clearly far too few)

[09:11:02.0000] <jgraham>
Now someone can point out why my maths is wrong

[09:12:00.0000] <workmad3>
jgraham: doesn't take into account multiple people/committees reviewing test for different sections?

[09:12:01.0000] <workmad3>
I don't know if that's actually happening... but it would make sense 

[09:14:00.0000] <payman>
jgraham: You just need 200 reviewers and you are done in a year!

[09:14:01.0000] <workmad3>
payman: ooh, and if we get 9 women, we can have a baby made in a month!

[09:14:02.0000] <jgraham>
In either case we souls have to change the current system, which isn;t much like those :)

[09:15:00.0000] <payman>
workmad3: quite possibly! :D

[09:16:00.0000] <jgraham>
s/souls/would/

[09:17:00.0000] <payman>
workmad3: If only we could quantize a baby!

[09:17:01.0000] <workmad3>
hmm... maybe if we took one apart to see how it worked...

[09:18:00.0000] <payman>
/me is afraid :S

[09:19:00.0000] <workmad3>
too far? :)

[09:35:00.0000] <jgraham>
Philip`: Do you mind increasing the tolerance on your toDataURL.jpeg tests?

[10:03:00.0000] <gsnedders>
yay! there is really hard-to-find documentation on IMAP access to student email!

[10:09:00.0000] <Philip`>
jgraham: No

[10:09:01.0000] <Philip`>
jgraham: Just the one that was mentioned on the list?

[10:12:00.0000] <jgraham>
Philip`: I don't know of any others

[10:13:00.0000] <Philip`>
There are others but they use default/high quality

[10:13:01.0000] <Philip`>
It sounds like only the one with 0.01 quality was exceeding the tolerance

[10:13:02.0000] <Philip`>
since nobody has complained about the others yet

[10:13:03.0000] <jgraham>
Philip`: Just changing that one for now would be fine

[10:14:00.0000] <jgraham>
Also, if you could update the test that throws NOT_SUPPORTED_ERR to throw TypeError, that would be great

[10:15:00.0000] <Philip`>
Is WebIDL correct in requiring that?

[10:15:01.0000] <jgraham>
No idea

[10:15:02.0000] <Philip`>
If people are uncertain, maybe it's safer to make it accept any exception

[10:15:03.0000] <jgraham>
But it's not like we don't have other tests that will have to change if a spec changes

[10:15:04.0000] <Philip`>
and then the exact exception type is someone else's problem

[10:15:05.0000] <Philip`>
Yeah, I suppose it's easy enough to change again

[10:15:06.0000] <jgraham>
I would somewhat prefer to have a specific type

[10:16:00.0000] <Philip`>
For the cross-origin tests it seems I can simply use http://test2.w3.org/html/tests/approved/images/yellow.png (as long I don't want to use any not-yet-approved images)

[10:17:00.0000] <jgraham>
MikeSmith: BTW re: bugmail, at this point my main priority is that we *stop* getting bugmail for random keyword additions

[10:18:00.0000] <jgraham>
I am OK with getting it for new bugs, but I am not OK with getting content-free mails from random fiddling with a11y keywords (or indeed any keywords)

[10:19:00.0000] <jgraham>
(that is, I consider any change that leads to not getting those emails to be a relative win)

[10:20:00.0000] <david_carlisle>
hsivonen: just to let you know I do sometimes do something other than moan that the html5 parser is all wrong, validator.nu says it likes this html5/svg/mathml document

[10:20:01.0000] <david_carlisle>
http://monet.nag.co.uk/~dpc/d02agf.html#MAT

[10:22:00.0000] <jgraham>
david_carlisle: sweet

[10:37:00.0000] <Philip`>
jgraham: Pushed some changes

[10:37:01.0000] <david_carlisle>
just need to get it working in ie9...

[10:39:00.0000] <jgraham>
IE9 has MathML support? Or you will do some magic to work around that?

[10:39:01.0000] <gsnedders>
jgraham: It does into the right namespace, AFAIK

[10:39:02.0000] <david_carlisle>
mathplayer will render the maths, IE9 has regressed support for extensions but I have a plan.. (I think)

[10:40:00.0000] <jgraham>
Oh, mathplayer, yeah, I forgot about that

[10:48:00.0000] <MikeSmith>
jgraham: understood (about the bugmail)

[12:10:00.0000] <gsnedders>
/me gets bitten again by the fact that X clipboards don't persist beyond the application's lifetime… ergh.

[12:22:00.0000] <Dashiva>
It's a feature, really

[12:23:00.0000] <Philip`>
Data loss is my favourite feature in any program

[12:32:00.0000] <Dashiva>
Philip`: Data loss is such a negative way to phrase it

[12:36:00.0000] <Philip`>
Liberating data from the shackles of existence, then?

[12:38:00.0000] <Dashiva>
Well, if you really cared about the data you would save it immediately, not keep it in the clipboard

[12:52:00.0000] <Hixie>
jgraham: i don't know how to get rid of the gotos. Every time I try to do 'while' and 'repeat...until' and 'for' loops, I end up making the text orders of magnitude harder to understand. It's like English doesn't have good structured loops, or at least I haven't worked out good wording for them.

[12:53:00.0000] <Hixie>
jgraham: if you have any suggestions for replacing gotos with structured loops, file bugs with suggested text, i'm certainly up for it.

[13:57:00.0000] <gsnedders>
Hmm, anyone know something with leak detection on armel Linux?

[13:58:00.0000] <gsnedders>
/me can't see this leaks on anything apart from ARM

[13:58:01.0000] <gsnedders>
Gah. :\

[16:38:00.0000] <annevk>
AryehGregor, nested ul case is addressed with dbaron's cycle() proposal


2010-09-22
[00:40:00.0000] <jacobolus>
is http://www.w3.org/TR/2009/WD-SVG-Transforms-20090320/ actually implemented anywhere?

[01:16:00.0000] <hsivonen>
fi.msn.com is still in IE7 Standards mode in IE9...

[01:25:00.0000] <zcorpan_>
http://www.sitepoint.com/forums/showthread.php?p=4699335 shows it was a right move to make the "EN" part be ignored in the doctype...

[01:33:00.0000] <annevk>
hmm, Gecko still has globalStorage?

[01:46:00.0000] <zcorpan_>
seems so

[01:47:00.0000] <zcorpan_>
http://google.com/codesearch?q=globalStorage++lang:javascript&ct=rr&cs_r=lang:javascript

[02:19:00.0000] <annevk>
http://www.w3.org/2010/web-notifications/ -- regressed a bit MikeSmith! :)

[02:23:00.0000] <MikeSmith>
yeah, unfortunately

[02:23:01.0000] <MikeSmith>
I was told it was "hard to read"

[02:44:00.0000] <wirepair>
MikeSmith are you about?

[02:44:01.0000] <MikeSmith>
wirepair: yeah, here

[02:44:02.0000] <wirepair>
where do i submit typos to?

[02:44:03.0000] <wirepair>
or where should i, for the w3c html5 spec

[02:45:00.0000] <annevk>
w3.org/Bugs/Public/

[02:45:01.0000] <wirepair>
thanks

[02:45:02.0000] <annevk>
it's easiest from the WHATWG copy

[02:45:03.0000] <annevk>
fwiw

[02:46:00.0000] <wirepair>
o

[02:46:01.0000] <wirepair>
hehe

[02:46:02.0000] <MikeSmith>
wirepair: yeah, either of the ways annevk mentioned is preferred -- because they both cause a new bug to be entered into our bugzilla

[02:46:03.0000] <wirepair>
would i still submit to w3.org?

[02:46:04.0000] <wirepair>
or..?

[02:47:00.0000] <MikeSmith>
that submits it for you

[02:47:01.0000] <MikeSmith>
the embedded comment thing in the whatwg version of the spec does a call to bugzilla to create a new bug

[02:48:00.0000] <MikeSmith>
if you log in before you use the comment form, it'll also include your e-mail address in the comment

[02:48:01.0000] <wirepair>
severity = trivial yeah?

[02:50:00.0000] <wirepair>
alright submitted; "only" was repeated twice in the HTMLAllCollections under the namedItem algorithm

[02:53:00.0000] <MikeSmith>
ok

[02:54:00.0000] <MikeSmith>
so, am I doing something wrong or does Firefox not yet support <img src="foo.svg">

[02:54:01.0000] <MikeSmith>
that is, specifying an SVG file in the URL for an img element

[02:55:00.0000] <MikeSmith>
it works in Minefield but in FF4.0b6 it doesn't display

[02:55:01.0000] <wirepair>
is the server returning the proper content-type?

[02:55:02.0000] <wirepair>
i know chrome will fail to load

[02:55:03.0000] <MikeSmith>
in this case I am testing it locally

[02:56:00.0000] <wirepair>
ah.

[02:57:00.0000] <wirepair>
is there any place that i could look up the reasoning behind certain decisions for html 5? i'm particularly interested in the point of having document.open have a replace flag

[02:57:01.0000] <wirepair>
s/have/having

[03:00:00.0000] <MikeSmith>
somebody was working on putting together a Rationale page at the whatwg wiki

[03:00:01.0000] <wirepair>
cool, looking now

[03:01:00.0000] <wirepair>
not listed hehe ;/

[03:01:01.0000] <MikeSmith>
http://wiki.whatwg.org/wiki/Rationale

[03:01:02.0000] <MikeSmith>
the work of variable-san

[03:01:03.0000] <wirepair>
guess i could pour over the whatwg mailing list too

[03:01:04.0000] <MikeSmith>
wirepair: so if there's nothing there, the places to look are in the whatwg mailing-list archives and in commit messages

[03:02:00.0000] <MikeSmith>
or, just ask

[03:02:01.0000] <MikeSmith>
ask Hixie or ask others here if they recall the discussions about it

[03:03:00.0000] <wirepair>
will do

[03:03:01.0000] <wirepair>
thanks

[03:03:02.0000] <jgraham>
MikeSmith: I believe Gecko landed support for SVG in <img> very recently

[03:04:00.0000] <MikeSmith>
jgraham: ah, OK

[03:04:01.0000] <MikeSmith>
thanks

[03:06:00.0000] <hsivonen>
MikeSmith: SVG as <img> is pretty recent. Could well be post-beta6

[03:06:01.0000] <MikeSmith>
hsivonen: ok

[03:06:02.0000] <hsivonen>
oh. jgraham said so already

[03:06:03.0000] <hsivonen>
http://www.w3.org/2010/web-notifications/ doesn't finish loading in Opera

[03:07:00.0000] <hsivonen>
hmm. now it does. weird

[03:07:01.0000] <MikeSmith>
yeah -- I do find it's working in my Minefield, that doesn't seem to work as expected if I set different width and height for the image (but I can deal with that later)

[03:08:00.0000] <MikeSmith>
hsivonen: dunno why that would happe -- I'm not doing anything fancy on that page

[03:08:01.0000] <hsivonen>
probably some random oddity

[03:08:02.0000] <MikeSmith>
could be something dumb in my CSS too

[03:12:00.0000] <MikeSmith>
jgraham: so, I have the following ready for testing

[03:12:01.0000] <MikeSmith>
http://sideshowbarker.github.com/es5-spec/

[03:13:00.0000] <MikeSmith>
though not ready for widespread announcing yet

[03:13:01.0000] <MikeSmith>
because I need to check with TC39 chair and secretary about copyright and license

[03:13:02.0000] <jgraham>
MikeSmith: So just on a publicly logged irc channel? :)

[03:14:00.0000] <MikeSmith>
yeah, I know

[03:14:01.0000] <MikeSmith>
I can take it down if it turns out it's not in line with the license

[03:14:02.0000] <MikeSmith>
anyway, I think it is OK as far as the license on the ES5 spec itself

[03:14:03.0000] <jgraham>
MikeSmith: Looks nice. I am really interested in the annotation bits

[03:15:00.0000] <MikeSmith>
so I have not created any annotations yet

[03:15:01.0000] <MikeSmith>
no original ones at least

[03:15:02.0000] <jgraham>
I mean I am really intersted in the technology

[03:15:03.0000] <MikeSmith>
but what I have created is annos for the published ES5 errata

[03:16:00.0000] <MikeSmith>
the technology? it's just using XHR to suck in content from static files

[03:16:01.0000] <MikeSmith>
http://github.com/sideshowbarker/es5-spec/tree/gh-pages/erra/

[03:16:02.0000] <MikeSmith>
those are the files for the errata

[03:16:03.0000] <jgraham>
Yeah, I am looking at the source

[03:17:00.0000] <MikeSmith>
example is, if you go to http://sideshowbarker.github.com/es5-spec/#x7.1

[03:17:01.0000] <MikeSmith>
and mouse over the heading

[03:17:02.0000] <MikeSmith>
it will show # T E A

[03:17:03.0000] <MikeSmith>
and if you click on E, it will show the errata for that section

[03:18:00.0000] <MikeSmith>
…except that I somehow broke it in Gecko

[03:18:01.0000] <MikeSmith>
I had it working before in Minefield at least

[03:18:02.0000] <MikeSmith>
but now it just stays stuck at "Loading..."

[03:19:00.0000] <jgraham>
OK, so annotations are per section and have to be commited as static files?

[03:19:01.0000] <MikeSmith>
yes

[03:19:02.0000] <jgraham>
That is a little less interesting :)

[03:19:03.0000] <MikeSmith>
old school

[03:19:04.0000] <MikeSmith>
well, I didn't set out to make it interesting

[03:19:05.0000] <MikeSmith>
just useful

[03:19:06.0000] <jgraham>
Sure

[03:20:00.0000] <MikeSmith>
jgraham: if you have a github account I would be happy to give you write access so you can create some annos

[03:20:01.0000] <jgraham>
I just wondered how much I could <strike>steal</strike> reuse for annotating the HTML5 spec with testcases

[03:21:00.0000] <jgraham>
But per-section isn't fine-grained enough

[03:21:01.0000] <jgraham>
MikeSmith: (BTW the design is nice)

[03:21:02.0000] <MikeSmith>
thanks

[03:21:03.0000] <MikeSmith>
you can put markup within the section to indicate which part it is annotating

[03:21:04.0000] <jgraham>
Although it is a bit annoying that hovering a heading shifts the content down

[03:22:00.0000] <MikeSmith>
that is what the ES5 errata doc does

[03:22:01.0000] <MikeSmith>
it says stuff like, "In the last step of the algorithm, change foo to bar"

[03:22:02.0000] <MikeSmith>
or whatever

[03:23:00.0000] <jgraham>
Right, so how do you deal with that? Also can the default view of the document be with errata applied? 

[03:24:00.0000] <MikeSmith>
applying the errata would violate the license

[03:24:01.0000] <MikeSmith>
afaict

[03:24:02.0000] <jgraham>
Sigh

[03:24:03.0000] <MikeSmith>
http://sideshowbarker.github.com/es5-spec/#license

[03:24:04.0000] <MikeSmith>
"this document itself may not be modified in any way"

[03:25:00.0000] <MikeSmith>
I hope they are not going to judge that an HTML version represents a modification of the document

[03:25:01.0000] <MikeSmith>
and the other thing is, they have no license statement at all in the errata document

[03:25:02.0000] <MikeSmith>
that's the main thing I need to get clarification on

[05:39:00.0000] <annevk>
ivan`, http://www.whatwg.org/demos/workers/shared/001/test.html works in Opera

[05:40:00.0000] <ivan`>
indeed, I had that simpler test working too

[05:41:00.0000] <annevk>
all the links seem to work

[05:41:01.0000] <annevk>
if you're not doing things over HTTP stuff might break

[05:44:00.0000] <ivan`>
all the demos in that /shared/ do work for me, thanks

[05:45:00.0000] <ivan`>
I haven't read the whole spec but I don't understand why onconnect's event has an array of ports, instead of just one port

[05:46:00.0000] <annevk>
oh sorry, Multiviewer is a bit down

[05:46:01.0000] <ivan`>
every example I see uses [0], and I assume the examples aren't broken, so it's always an array of one port?

[05:46:02.0000] <annevk>
I see now

[05:46:03.0000] <ivan`>
:)

[05:46:04.0000] <annevk>
there can be multiple ports afaik

[05:49:00.0000] <ivan`>
can a SharedWorker know when a port disconnects (because a tab/window was closed)?

[05:49:01.0000] <ivan`>
I found a bunch of mailing list posts about onclose but I don't see anything in the current spec

[05:50:00.0000] <ivan`>
there's a suggestion of using onunload but this doesn't work everywhere

[05:50:01.0000] <hsivonen>
wow. the poster thread just goes on and on

[05:51:00.0000] <annevk>
ivan`, I think best would be emailing the list

[05:51:01.0000] <ivan`>
thanks

[06:19:00.0000] <nessy>
hsivonen: you just gotta love that poster thread ;)

[06:27:00.0000] <hsivonen>
Philip`: my "tomorrow-ish" is now...

[06:27:01.0000] <hsivonen>
Philip`: http://hsivonen.iki.fi/htmlparser-statistics.jar

[06:28:00.0000] <hsivonen>
Philip`: the interface to implement is http://pastebin.mozilla.org/794419

[06:28:01.0000] <hsivonen>
Philip`: there's a setter on the HtmlParser, HtmlBuilder and HtmlDocumentBuilder

[06:28:02.0000] <hsivonen>
Philip`: it's called once per doc

[06:29:00.0000] <hsivonen>
Philip`: I recommend running the JVM with -XX:-DontCompileHugeMethods

[06:30:00.0000] <hsivonen>
Philip`: without that JVM switch, the perf drops to about one tenth compared to the situation with that switch

[09:08:00.0000] <jgraham>
The bug tracker needs a resolution Resolved: 2004 called and they want their bug back

[09:10:00.0000] <hsivonen>
jgraham: indeed.

[10:30:00.0000] <KrooniX>
Hello

[10:30:01.0000] <KrooniX>
What is the state of the target="_blank" in html5?

[10:31:00.0000] <zcorpan_>
it's valid

[10:36:00.0000] <bzed>
p News · Most Recent

[10:38:00.0000] <KrooniX>
is it recommended?

[10:40:00.0000] <bzed>
gah, sorry for that paste :)

[10:41:00.0000] <zcorpan_>
it's recommended over jumping through hoops with script to make a link open in a new window, but you should consider omitting target altogether and let the user decide how the link should be opened

[10:43:00.0000] <hober>
right. it's the best way to do what it does, but you probably shouldn't want to do what it does

[10:43:01.0000] <KrooniX>
so it is in other words, nothing in the specification, which discourages its use?

[10:44:00.0000] <zcorpan_>
right

[10:44:01.0000] <KrooniX>
it's not that I want to use it, I just wanted to use the specification as an argument for not using it.

[10:47:00.0000] <KrooniX>
thanks

[13:28:00.0000] <AryehGregor>
http://samy.pl/evercookie/

[13:29:00.0000] <AryehGregor>
This contains a way to use canvas to store and retrieve data after the user clears their cookies, via browser cache.

[13:30:00.0000] <AryehGregor>
It retrieves a URL that gives a PNG containing the data, and writes it to canvas, which it then uses to retrieve the data, I guess by reading pixels or whatever.  If the request contains a cookie, it copies the cookie data into the returned PNG.  Otherwise it just returns a 304 so that the client uses the cached copy, which contains the old cookie version.

[13:30:01.0000] <AryehGregor>
Fun.

[13:31:00.0000] <Philip`>
Why not just cache a text file and use XHR to retrieve it?

[13:31:01.0000] <espadrine>
Scary. It even uses web history!

[13:32:00.0000] <AryehGregor>
Philip`, because that wouldn't use cool HTML5 features!

[13:33:00.0000] <AryehGregor>
espadrine, well, that one's well-known, and fixed in Firefox 4.  http://hacks.mozilla.org/2010/03/privacy-related-changes-coming-to-css-vistited/

[13:33:01.0000] <AryehGregor>
vistited :(

[13:34:00.0000] <AryehGregor>
So, I wonder whether browsers could adapt to prevent this attack.

[13:34:01.0000] <AryehGregor>
Is there any simple change that would prevent it?

[13:34:02.0000] <AryehGregor>
Of course, if you can run JS, you can just store the cookies server-side and use fingerprinting, which is extremely reliable if you do it right . . .

[13:38:00.0000] <AryehGregor>
https://panopticlick.eff.org/index.php?action=log&js=yes

[13:39:00.0000] <AryehGregor>
One in 147485.63 browsers has my UA string, and I'm the only one tested so far with my exact list of plugins.

[13:39:01.0000] <Philip`>
Seems the more interesting problem is identifying users, not browsers

[13:39:02.0000] <AryehGregor>
Sure, but the latter is a considerable step toward the former.

[13:40:00.0000] <Philip`>
(I saw some work from Microsoft about trying to identify multiple users sharing a computer users using multiple computers, based on analysing login names and times and things)

[13:41:00.0000] <AryehGregor>
Sites wouldn't have access to login names, though.

[13:42:00.0000] <Philip`>
Some sites (e.g. lots of Microsoft ones) do

[13:43:00.0000] <AryehGregor>
You mean they have access to the name that you use to log into that same site?

[13:43:01.0000] <AryehGregor>
But that's already a unique identifier, why do they care if they have that?  To identify duplicate accounts?

[13:44:00.0000] <Philip`>
It's a unique identifier of login names, it's not a unique identifier of users

[13:44:01.0000] <Philip`>
It's interesting when multiple users are logging in with the same account (e.g. one might have stolen the other's password), or when one user is logging in with many accounts (e.g. they're sending spam)

[15:20:00.0000] <MikeSmith>
Opera seems to be ignoring my z-index setting 

[15:20:01.0000] <MikeSmith>
http://sideshowbarker.github.com/es5-spec/#x7.1

[15:20:02.0000] <MikeSmith>
mouse over the head and click on the Ⓔ

[15:20:03.0000] <annevk>
we think it's wrong

[15:20:04.0000] <MikeSmith>
oh

[15:21:00.0000] <MikeSmith>
how do I work around it?

[15:21:01.0000] <annevk>
sorry, I was just joking

[15:21:02.0000] <annevk>
time to read a book :)

[15:22:00.0000] <MikeSmith>
heh

[15:23:00.0000] <zcorpan_>
MikeSmith: what's the issue?

[15:24:00.0000] <MikeSmith>
in the box that pops up, look at the left side

[15:24:01.0000] <MikeSmith>
at the little curley thing that leads from the box to the globe

[15:24:02.0000] <MikeSmith>
that curley thing is an SVg image

[15:25:00.0000] <MikeSmith>
that i put z-index=10 on

[15:25:01.0000] <zcorpan_>
it doesn't overlap the border of the other box?

[15:25:02.0000] <MikeSmith>
it does overlap

[15:25:03.0000] <MikeSmith>
but it has a higher z-index

[15:25:04.0000] <zcorpan_>
i mean in opera

[15:25:05.0000] <AryehGregor>
Did Opera remove its UI for form validation?  data:text/html,<!doctype html><form action=http://google.com><input required> <input type=submit></form>

[15:25:06.0000] <AryehGregor>
Clicking sends me to Google.

[15:26:00.0000] <MikeSmith>
zcorpan_ the border shows in Opera, but not in other browsers

[15:26:01.0000] <zcorpan_>
AryehGregor: you need name=something for the input to be validated

[15:26:02.0000] <AryehGregor>
Oh.

[15:26:03.0000] <AryehGregor>
Then that's a Firefox bug.  :)

[15:26:04.0000] <zcorpan_>
MikeSmith: right

[15:26:05.0000] <MikeSmith>
maybe I need to set an explicit z-index on the box as well

[15:27:00.0000] <zcorpan_>
AryehGregor: ...but the spec changed so that name is no longer needed

[15:27:01.0000] <AryehGregor>
Heh, oh well.

[15:28:00.0000] <zcorpan_>
MikeSmith: is the problem that opera doesn't apply z-index on svg elements?

[15:28:01.0000] <jgraham>
zcorpan_: Do we have a bug report on that?

[15:28:02.0000] <zcorpan_>
MikeSmith: if so maybe you could set z-index on a parent

[15:28:03.0000] <zcorpan_>
jgraham: dunno

[15:29:00.0000] <MikeSmith>
zcorpan_, I don't know -- this is the first time I've tried to do much with SVG

[15:29:01.0000] <jgraham>
zcorpan_: Oh. Well I guess I can try my luck with Jira

[15:29:02.0000] <zcorpan_>
jgraham: or ask emil

[15:30:00.0000] <jgraham>
zcorpan_: The point was more to tell emil

[15:30:01.0000] <jgraham>
Although asking might have the right effect :)

[15:33:00.0000] <zcorpan_>
hmm. there haven't been any emails on hybi since 14th

[15:33:01.0000] <zcorpan_>
what's wrong?

[15:35:00.0000] <jgraham>
Ian hasn't posted anything since his draft on the 1st (I think that is the right date)

[15:35:01.0000] <jgraham>
I assume that everyone realised that discussing v2 features was pointless

[15:35:02.0000] <jgraham>
Since we don't have a v1 yet

[15:35:03.0000] <jgraham>
other than -76

[15:36:00.0000] <zcorpan_>
i wonder if fette is making any progress on -02

[15:36:01.0000] <zcorpan_>
maybe i should ask on the list

[15:36:02.0000] <jgraham>
That might be a good idea

[15:37:00.0000] <jgraham>
Really we needed v1 done a month ago

[15:37:01.0000] <jgraham>
Even that might have been too late

[15:39:00.0000] <AryehGregor>
Where's that usability study that concluded it was best to report input validity errors onchange rather than onsubmit, and not to report them on inputs the user hasn't changed?

[15:41:00.0000] <AryehGregor>
Found it: http://www.alistapart.com/articles/inline-validation-in-web-forms/

[15:41:01.0000] <AryehGregor>
<3 Google

[15:43:00.0000] <zcorpan_>
:invalid:dirty:not(:focus)

[15:46:00.0000] <zcorpan_>
or maybe just :invalid:dirty where :dirty means that the element has received and lost focus at least once

[15:46:01.0000] <AryehGregor>
Tab and I talked about :dirty once.

[15:46:02.0000] <AryehGregor>
I don't think we ever had a real proposal going, but it would be really useful for this.

[15:47:00.0000] <AryehGregor>
(Does :dirty get set if the element is changed by script?  Can script control the dirty bit directly, perhaps?)

[15:54:00.0000] <AryehGregor>
Hmm, I see.

[15:54:01.0000] <AryehGregor>
I wonder if the meaning of this is specced if you look closely: data:text/html,<!doctype html><form><input required oninvalid="this.setCustomValidity(''); if (!this.validity.valid) this.setCustomValidity('abcd')"><input type=submit></form>?

[15:54:02.0000] <AryehGregor>
It seems to work as I expect in Opera but not Firefox.

[15:54:03.0000] <AryehGregor>
If you try submitting, then enter something in the first field, then submitting, it should submit, right?

[15:55:00.0000] <AryehGregor>
Because it will have no errors left.

[15:55:01.0000] <zcorpan_>
did you include name=foo when testing opera?

[15:55:02.0000] <AryehGregor>
Yes.

[15:56:00.0000] <AryehGregor>
data:text/html,<!doctype html><form><input name=x required oninvalid="this.setCustomValidity(''); if (!this.validity.valid) this.setCustomValidity('abcd')"> <input type=submit></form>

[15:58:00.0000] <zcorpan_>
i've never learned the forms api properly. what does setCustomValidity do?

[15:59:00.0000] <AryehGregor>
It sets a custom validity message.  An element with a nonempty custom validity message is invalid, and should display the given message.

[16:00:00.0000] <AryehGregor>
In some undefined fashion.

[16:00:01.0000] <AryehGregor>
I think Firefox displays it much better than Opera.

[16:03:00.0000] <zcorpan_>
so when it's submitted the first time, the script sets setCustomValidity to 'abcd'. then if you type in the field, is setCustomValidity reset?

[16:04:00.0000] <AryehGregor>
The custom validity thing is totally custom, only setCustomValidity() ever changes it.

[16:04:01.0000] <AryehGregor>
So my idea was that when you try submitting, first it clears the custom invalidity, then if it's invalid, it sets the message to override the UA default message.

[16:05:00.0000] <AryehGregor>
With tweaks so that it actually works in Firefox, it works really well, because Firefox just replaces the whole error message with the provided one.

[16:05:01.0000] <AryehGregor>
In Opera it's kind of terrible, but then so is everything about Opera's form validation UI.

[16:06:00.0000] <AryehGregor>
I submitted a bug months ago that pointed out that <input type=password pattern=....*> to require passwords at least 3 characters long will print out the password in cleartext if there's an error.

[16:06:01.0000] <AryehGregor>
Seemingly still not fixed in 10.60.

[16:06:02.0000] <AryehGregor>
DSK-262266.

[16:06:03.0000] <AryehGregor>
I reported it in 10.00.

[16:08:00.0000] <AryehGregor>
I guess if Firefox 4's UI works well, we can enable it somehow for everyone except WebKit and Opera.  But that will be a pain, and require JavaScript.  Oh well.

[16:10:00.0000] <miketaylr>
so only for FF4?

[16:11:00.0000] <AryehGregor>
Well, we could blacklist only specific WebKit versions.

[16:11:01.0000] <AryehGregor>
Then future WebKit or IE could Just Work. 

[16:11:02.0000] <AryehGregor>
Or Unknown Browser X, whatever.

[16:14:00.0000] <zcorpan_>
MikeSmith: the es5 doc is awesome. one annoyance though is that the text moves when you hover a heading -- maybe use position:absolute or something on the annotation links?

[16:15:00.0000] <MikeSmith>
zcorpan_: yeah, I need to fix that somehow

[16:15:01.0000] <MikeSmith>
but note that it only happens in Opera

[16:15:02.0000] <MikeSmith>
I think I need to adjust the line-height of the headings

[16:16:00.0000] <zcorpan_>
the text jumps in firefox too

[16:16:01.0000] <MikeSmith>
the x height of those circled letters is apparently bigger than normal glyphs or something

[16:16:02.0000] <MikeSmith>
ah, OK

[16:16:03.0000] <MikeSmith>
hmm, doesn't jump in minefield at least

[16:16:04.0000] <MikeSmith>
but anyway I will fix it one way or the other

[16:17:00.0000] <MikeSmith>
more serious problem I am having right now is that I can't get text into those anno boxes in Gecko, because readystate on my XHR never changes away from 1

[16:17:01.0000] <MikeSmith>
can't figure out why

[16:19:00.0000] <jamesr>
was 'clear' supported at one point for canvas 2d's globalCompositeOperation?

[16:19:01.0000] <jamesr>
it appears that gecko and webkit currently accept it as a valid value

[16:26:00.0000] <Philip`>
jamesr: Not in the spec

[16:26:01.0000] <jamesr>
Philip`: was there any particular reason not to add it?

[16:26:02.0000] <Philip`>
http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-June/012063.html has the information I'm aware of

[16:26:03.0000] <Philip`>
jamesr: The default state for features is to not add them, and there wasn't any particular reason to add it

[16:27:00.0000] <jamesr>
but it's observable

[16:27:01.0000] <jamesr>
i.e. if bullet point 2 is true, then they should be added

[16:27:02.0000] <Philip`>
It's an observable spec-compliance bug in browsers that implement it :-)

[16:28:00.0000] <Philip`>
Is bullet point 2 true?

[16:28:01.0000] <jamesr>
dunno

[16:28:02.0000] <Philip`>
As far as I'm aware, Opera hasn't had to add it for compatibility

[16:28:03.0000] <Philip`>
which suggests it's not used much on the web

[16:28:04.0000] <zcorpan_>
MikeSmith: seems to wfm

[16:29:00.0000] <MikeSmith>
zcorpan_: really? in Firefox or in Minefield?

[16:29:01.0000] <MikeSmith>
it doesn't stay stuck at "loading..."?

[16:29:02.0000] <zcorpan_>
MikeSmith: minefield... although only when i have the web console open...

[16:29:03.0000] <zcorpan_>
which is helpful for debugging it...

[16:29:04.0000] <MikeSmith>
heh

[16:30:00.0000] <MikeSmith>
I'm testing in Minefield with console open but not seeing what I expect to see

[16:30:01.0000] <MikeSmith>
/me tries FF4 beta

[16:32:00.0000] <jgraham>
(usually you get "only works with console open" because you left a console.log in. Which you probably know already

[16:32:01.0000] <jgraham>
)

[16:33:00.0000] <zcorpan_>
we need to standardize console.log

[16:34:00.0000] <miketaylr>
a standardized console API would be great

[16:36:00.0000] <MikeSmith>
I think Web Inspector already supports the Firebug console API

[16:36:01.0000] <MikeSmith>
Dragonfly does too?

[16:37:00.0000] <miketaylr>
possibly, but the webkit has added some newer stuff that firebug doesn't support

[16:38:00.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/644

[16:39:00.0000] <zcorpan_>
in particular i think browsers should expose console even when the console isn't open, and we need to agree on which members to have on console

[16:40:00.0000] <zcorpan_>
otherwise scripts around the web will break in some browsers because the author left in a console.something

[16:40:01.0000] <zcorpan_>
s/will//

[16:40:02.0000] <miketaylr>
/me has done that before >_>

[16:42:00.0000] <zcorpan_>
can someone file a bug on html5? i really need to go to bed now :)

[16:42:01.0000] <zcorpan_>
nn

[16:45:00.0000] <othermaciej>
MikeSmith: does w3c bugzilla use Bcc for Cc'd bugs?

[16:45:01.0000] <MikeSmith>
othermaciej: no, it uses a normal Cc afaict

[16:46:00.0000] <othermaciej>
MikeSmith: I'm getting new bugmail for all HTML5 bugs but I don't see public-html in the recipient list on the email and I don't think I am on the other lists, so I am unsure of what is happening

[16:47:00.0000] <MikeSmith>
othermaciej: because you're subscribed to the issue-tracking list, I think

[16:47:01.0000] <MikeSmith>
I'll turn off those

[16:47:02.0000] <othermaciej>
ah, I guess I just forgot about subscribing and have been bitbucketing the emails

[16:48:00.0000] <othermaciej>
I do want to be getting them, though via public-html so my mail filter catches them

[16:48:01.0000] <MikeSmith>
you aren't manually subscribed to that list -- its subscriber list is populated out of the user DB

[16:48:02.0000] <othermaciej>
I see

[16:49:00.0000] <othermaciej>
so everyone in the WG is on the public-html-issue-tracking list?

[16:49:01.0000] <othermaciej>
er, public-html-wg-issue-tracking

[16:50:00.0000] <MikeSmith>
othermaciej: no, just some people.. I can't remember when we set up the group in the DB for that, but you are in it

[16:50:01.0000] <MikeSmith>
we have maybe 20 people or so in that group

[16:50:02.0000] <othermaciej>
I see

[16:50:03.0000] <MikeSmith>
othermaciej: so, I can change right now to having notifications for new bugs go to public-html, as you proposed. Do you want me to do that now?

[16:50:04.0000] <othermaciej>
looking at the archives it looks like it gets about the same set of mail that I suggested public-html should be getting

[16:50:05.0000] <othermaciej>
MikeSmith: I would appreciate it - I think the other chairs agree that we should at least try it out that way

[16:50:06.0000] <MikeSmith>
PhilipJ seemed to be OK with new bugs notifications going to public-html

[16:51:00.0000] <MikeSmith>
OK

[16:51:01.0000] <MikeSmith>
I will flip the switch on it now

[16:51:02.0000] <othermaciej>
thanks!

[16:51:03.0000] <othermaciej>
I guess we can probably obsolete the separate issue tracking list then

[16:51:04.0000] <othermaciej>
I'm off to a meeting, ttyl

[16:53:00.0000] <jamesr>
Philip`: there are a _lot_ of failures in this suite in WebKit and Gecko ToT :(

[16:57:00.0000] <jamesr>
Philip`: where is the rounding/wrapping behavior for canvaspixelarray defined? it's tested by 2d.imageData.object.round/wrap


2010-09-23
[17:17:00.0000] <Philip`>
jamesr: It's defined by WebIDL

[17:17:01.0000] <Philip`>
Hopefully the tests match that behaviour

[17:19:00.0000] <jamesr>
ah, since they are defined as octet

[17:19:01.0000] <jamesr>
looks like only opera currently implements that part of WebIDL

[17:20:00.0000] <jamesr>
Philip`: 2d.text.draw.baseline.bottom is failing on ffx/opera/gecko - is that expected?

[17:21:00.0000] <jamesr>
ah, has it been updated?

[17:22:00.0000] <Philip`>
Apparently it passed for me in Firefox 3.7 on Linux some time ago

[17:22:01.0000] <Philip`>
Some browsers do get it wrong

[17:23:00.0000] <Philip`>
I don't remember updating it

[17:23:01.0000] <jamesr>
yeah, i was doing something wrong. bottom.html passes in minefield

[17:23:02.0000] <jamesr>
but ideographic and hanging fail everywhere

[17:24:00.0000] <Philip`>
As far as I'm aware, the test font is set up correctly for those and they're just not implemented

[17:25:00.0000] <jamesr>
ok

[17:26:00.0000] <Philip`>
(I assume nobody really cares about them - they're just in the canvas spec to match some CSS spec, I think)

[17:27:00.0000] <jamesr>
sucks to have it in the spec if nobody's doing it

[17:30:00.0000] <Philip`>
jamesr: I guess that applies to a lot of CSS3

[17:34:00.0000] <karlcow>
/me is reading about the evercookie nightmare http://samy.pl/evercookie/

[17:35:00.0000] <Dashiva>
It was pretty nightmare from the point flash added SharedObjects

[17:38:00.0000] <karlcow>
Dashiva: yep definitely. I think there will be new-adds on popping up.

[19:21:00.0000] <variable>
Dashiva, karlcow that attack is nothing new

[19:21:01.0000] <variable>
I recall reading something like that involving storing unique data in a .png file and reading it back from the cache to restore cookies some years ago

[20:36:00.0000] <karlcow>
variable: do you have a pointer? that would be cool.

[20:37:00.0000] <variable>
karlcow, I read it *years* ago

[20:39:00.0000] <variable>
I wish I had some method of saving bookmarks and searching thru them

[20:40:00.0000] <variable>
karlcow, what makes the attack so "amazing" now is 1) its all put together in a nice package 2) the public is starting to care ;-)

[22:30:00.0000] <ivan`>
what happens if a worker can't be started because of process limits? an Error thrown of some sort? (I don't see in the spec)

[00:54:00.0000] <MikeSmith>
Cache-Control: max-age=0 means "no caching", right?

[00:57:00.0000] <abarth>
think so :)

[00:57:01.0000] <abarth>
max-age=-10000

[00:58:00.0000] <abarth>
dont' cache it!  not even in the past!

[00:58:01.0000] <MikeSmith>
heh

[01:35:00.0000] <annevk>
XBL5!

[01:41:00.0000] <abarth>
:)

[01:42:00.0000] <zcorpan>
annevk: the coersion rules break a lot more than html[xmlns] in css -- a browser would never use the coersion rules for web content

[01:43:00.0000] <zcorpan>
annevk: besides the bug was about xmlns:foo if i understood it correctly :)

[01:48:00.0000] <hsivonen>
validator.nu is going down for kernel update

[01:49:00.0000] <hsivonen>
annevk: browsers don't apply the infoset coercion rules anyway

[01:49:01.0000] <annevk>
he was talking about DOM

[01:50:00.0000] <hsivonen>
I understand that part of what we are doing is fixing stuff that the XHTML2 WG did in the HTML4 era, but it's really annoying that they've created new problems recently that we are now supposed to fix

[01:53:00.0000] <hsivonen>
validator.nu is back up. html5.validator.nu going down

[01:54:00.0000] <annevk>
it depends in how far you consider RDFa an actual problem I suppose

[01:58:00.0000] <hsivonen>
sigh. Jaunty's security updates end next month. I have to upgrade my servers soon.

[02:02:00.0000] <zcorpan>
didn't rdfa's prefixes="" solve the problem anyway?

[02:02:01.0000] <MikeSmith>
zcorpan: fwiw, I think I fixed the jumpy-headings problem -

[02:02:02.0000] <MikeSmith>
http://sideshowbarker.github.com/es5-spec/

[02:03:00.0000] <zcorpan>
MikeSmith: nice

[02:03:01.0000] <MikeSmith>
if you notice other problems or have suggestions, definitely let me know

[02:04:00.0000] <hsivonen>
zcorpan: maybe ask the question on the bug?

[02:05:00.0000] <hsivonen>
and html5.validator.nu is back up

[02:09:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/public-rdfa-wg/2010Sep/0090.html

[02:10:00.0000] <hsivonen>
hasn't Hixie proposed Microdata?

[02:11:00.0000] <zcorpan>
maybe the implication is that microdata doesn't deliver what they need

[02:11:01.0000] <hsivonen>
might be

[02:12:00.0000] <annevk>
othermaciej, yeah, I'm hoping the person to write the counter-proposal is not going to be me

[02:12:01.0000] <othermaciej>
annevk: I'm just shaking the tree in the hope that a volunteer will fall out

[02:13:00.0000] <annevk>
in fact, I'm pretty sure it won't be as there are lots of other things to take care of

[02:13:01.0000] <annevk>
heh

[02:14:00.0000] <annevk>
so hybi is missing its self-impossed deadline of 4 weeks by a month?

[02:14:01.0000] <othermaciej>
it doesn't require a high degree of expertise to do it, someone would just need to carefully go over the discussion and make a specific proposal such as using the microformats.org wiki, plus a particular description of how registration goes, etc

[02:14:02.0000] <othermaciej>
what was the 4 week deadline?

[02:15:00.0000] <annevk>
there was this idea to define the base protocol in 4 weeks

[02:15:01.0000] <annevk>
and flush out extensions and other things in the next 6 months

[02:15:02.0000] <othermaciej>
I remember when Hixie suggested that

[02:15:03.0000] <annevk>
instead Hixie left and it went dead

[02:15:04.0000] <othermaciej>
I think the change of editors has rendered all previous plans inoperative and thrown open the gates to more features in the base protocol

[02:15:05.0000] <annevk>
and now everyone has implemented the framing of -76, including Firefox 4

[02:16:00.0000] <annevk>
and we'll likely be stuck with that for a long time

[02:16:01.0000] <othermaciej>
does -76 have the halfway-secure handshake?

[02:16:02.0000] <othermaciej>
I can't remember

[02:17:00.0000] <annevk>
-76 has the handshake with the 8 random bytes that were not part of the messaged

[02:17:01.0000] <annevk>
-d

[02:17:02.0000] <othermaciej>
ok

[02:17:03.0000] <othermaciej>
I guess the main thing that sucks about it is that the 8 bytes could break otherwise-working proxies without actually triggering a fast detectable failure

[02:17:04.0000] <annevk>
better than what Safari shipped (iirc), but still has the "incorrect" framing

[02:18:00.0000] <othermaciej>
I think we have -76 in WebKit trunk so we'll likely ship it in due course

[02:22:00.0000] <hsivonen>
othermaciej: will you be prefixing the API?

[02:22:01.0000] <othermaciej>
hsivonen: for WebSocket? unlikely...

[02:23:00.0000] <hsivonen>
othermaciej: ok

[02:23:01.0000] <othermaciej>
the API seems pretty stable, and we don't usually vendor-prefix things with a draft spec unless there is a lot of reason to expect they will change

[02:24:00.0000] <othermaciej>
and I am not sure prefixing the API would protect against future protocol changes

[02:25:00.0000] <othermaciej>
I did at one point suggest prefixing the protocol scheme, so you could use different URLs for different protocol versions, but that suggestion was not met with enthusiasm by WebKit developers

[02:25:01.0000] <annevk>
I emailed my concern to the hybi list

[02:26:00.0000] <annevk>
Opera will be shipping -76 relatively soonish by the way, but we can change the moment one of WebKit/Gecko changes relatively easily

[02:26:01.0000] <MikeSmith>
how do I completely clear my browser cache in Opera?

[02:26:02.0000] <zcorpan>
format c:

[02:27:00.0000] <annevk>
Tools -> Delete Private Data

[02:30:00.0000] <MikeSmith>
annevk: thanks

[02:33:00.0000] <MikeSmith>
annevk: hmm, in spite of checking Delete entire cache there and hitting the Delete button, when I go to opera:cache it still shows that it has files cached for multiple domains

[02:35:00.0000] <MikeSmith>
/me tries restarting his Opera

[02:35:01.0000] <MikeSmith>
ok, restarting Opera seems to clear it

[02:42:00.0000] <annevk>
You could file a bug. I have no idea how any of that is supposed to work.

[02:42:01.0000] <MikeSmith>
ok

[03:01:00.0000] <MikeSmith>
ok, I continue to have some behavior in Firefox and Minefield that I can't figure out

[03:01:01.0000] <MikeSmith>
if somebody can please try this and see if you can reproduce it, I'd appreciate it

[03:01:02.0000] <MikeSmith>
1. go to http://sideshowbarker.github.com/es5-spec/#x7.1

[03:01:03.0000] <MikeSmith>
2. hover anywhere over the "7.1 Unicode Format-Control Characters" text

[03:01:04.0000] <MikeSmith>
3. click the Ⓔ

[03:01:05.0000] <MikeSmith>
… pop-up displays a "Table 1 — Format-Control Character Usage" table

[03:01:06.0000] <MikeSmith>
4. click the up-arrow at the top right (next to the "x")

[03:01:07.0000] <MikeSmith>
… a new tab opens, showing an empty page

[03:01:08.0000] <MikeSmith>
5. open Firebug on that page and observe that despite not

[03:01:09.0000] <MikeSmith>
   displaying anything, there is content in the DOM…

[03:03:00.0000] <hsivonen>
ooh <center>!

[03:06:00.0000] <hsivonen>
MikeSmith: how is that document created?

[03:06:01.0000] <hsivonen>
the one that doesn't show up?

[03:08:00.0000] <MikeSmith>
hsivonen: abbreviate version is this:

[03:08:01.0000] <MikeSmith>
    var win = window.open();

[03:08:02.0000] <MikeSmith>
    ...

[03:08:03.0000] <MikeSmith>
    var annoBody = win.document.importNode(document.getElementById("annotation"),true);

[03:08:04.0000] <MikeSmith>
    win.document.body.appendChild(annoBody);

[03:08:05.0000] <MikeSmith>
    win.document.close();

[03:08:06.0000] <jgraham>
gsnedders: yt?

[03:09:00.0000] <hsivonen>
MikeSmith: ok. that should work.

[03:10:00.0000] <hsivonen>
MikeSmith: I tested that it's not a frame constructor integration bug of the usual kind

[03:10:01.0000] <MikeSmith>
fwiw, the full source of the script is here - http://github.com/sideshowbarker/es5-spec/blob/gh-pages/anno.js

[03:10:02.0000] <hsivonen>
that is, setting body to display:none and back to block didn't make content show up

[03:10:03.0000] <MikeSmith>
OK

[03:10:04.0000] <MikeSmith>
I wonder if there's some other best-practice way I should be using instead

[03:10:05.0000] <MikeSmith>
for writing to a new window

[03:10:06.0000] <hsivonen>
MikeSmith: I think this one needs a bugzilla entry. Probably in the DOM component.

[03:11:00.0000] <MikeSmith>
hsivonen: OK

[03:11:01.0000] <MikeSmith>
will file it now

[03:11:02.0000] <hsivonen>
MikeSmith: thanks

[03:11:03.0000] <MikeSmith>
thanks for checking it

[03:12:00.0000] <MikeSmith>
btw, the <center> is from Open Office output from the MS Word source I generated that doc from

[03:13:00.0000] <MikeSmith>
I cleaned up a lot, but there's some other junk still in there that I probably should still move to CSS

[03:13:01.0000] <hsivonen>
MikeSmith: as a workaround, you could try calling .write("<!DOCTYPE html>"); .close(); on the newly-opened document before importing the nodes

[03:13:02.0000] <annevk>
can someone explain to me how upload events work for forms?

[03:13:03.0000] <annevk>
i mean, the page will be replaced by some other page right?

[03:13:04.0000] <annevk>
or is this mainly for encouraging people to submit to <iframe> instead?

[03:13:05.0000] <MikeSmith>
hsivonen: ah yeah, I will try that

[03:13:06.0000] <MikeSmith>
(after I file this bug)

[03:15:00.0000] <hsivonen>
now I have a guess

[03:15:01.0000] <hsivonen>
there might be a bug that if you don't .write(), layout never gets started

[03:16:00.0000] <MikeSmith>
oh

[03:16:01.0000] <MikeSmith>
lemme try now

[03:16:02.0000] <hsivonen>
the life cycle of the document and parser is sad in Gecko in the .open() case

[03:17:00.0000] <hsivonen>
a bunch of initialization happens on the first .write() instead of .open()

[03:17:01.0000] <hsivonen>
mainly because I was trying to conform to a legacy API instead of fixing the API

[03:18:00.0000] <hsivonen>
MikeSmith: oops. I misread your code

[03:19:00.0000] <hsivonen>
MikeSmith: your .open() call is on window instead of win.document

[03:19:01.0000] <MikeSmith>
aha

[03:20:00.0000] <hsivonen>
MikeSmith: my scientific wild-ass guess is that you are importing stuff into a synthetic about:blank document that hasn't had layout started for it

[03:20:01.0000] <hsivonen>
MikeSmith: try calling win.document.open(); win.document.write("<!DOCTYPE html>"); win.document.close(); before you import

[03:21:00.0000] <hsivonen>
and then removing the later win.document.close(); you have now

[03:22:00.0000] <MikeSmith>
OK

[03:22:01.0000] <MikeSmith>
will try it now

[03:23:00.0000] <MikeSmith>
hmm, first thing is, if I call window.document.open() it replaces the current window instead of opening a new window

[03:23:01.0000] <hsivonen>
MikeSmith: I meant calling it on the win variable you assigned the return value of window.open() into

[03:23:02.0000] <MikeSmith>
d'oh

[03:24:00.0000] <MikeSmith>
OK

[03:24:01.0000] <hsivonen>
if this still doesn't work, I suggest attaching a "load" event handler to win and running the rest of your method from that handler

[03:24:02.0000] <hsivonen>
MikeSmith: but clearly, there's a Gecko-side bug to fix here

[03:25:00.0000] <MikeSmith>
yeah, I will get the bug filed too

[03:27:00.0000] <david_carlisle>
Hi, is there a version of opera that does inline svg in html5? I tried http://www.nag.co.uk/blog_files/d02agf.html in 10.62, and it just shows the text of <desc> FF4 and IE9 work fine

[03:28:00.0000] <jgraham>
david_carlisle: Not yet

[03:29:00.0000] <david_carlisle>
ah, that's why it didn't work then:-)

[03:31:00.0000] <MikeSmith>
hsivonen: thanks much

[03:31:01.0000] <MikeSmith>
just changing the order of the .write seems to fix it

[03:37:00.0000] <hsivonen>
MikeSmith: good. must be something to do with starting layout then

[03:37:01.0000] <MikeSmith>
yeah, seems like

[03:47:00.0000] <annevk>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10694 o_O

[03:54:00.0000] <zcorpan>
annevk: what?

[03:55:00.0000] <annevk>
forgot to leave my logic behind

[03:56:00.0000] <zcorpan>
heh

[04:12:00.0000] <jgraham>
Does anyone remember why <div><object>a</div> doesn't close the <object>? We have the HTML5 behaviour in current Opera and have a slight site compat. issue from it which Gecko+WebKit have just gained from implementing HTML5

[04:13:00.0000] <annevk>
presumably because IE/Opera made <object> scoping?

[04:13:01.0000] <annevk>
I suspect there might be issues either way

[04:13:02.0000] <annevk>
going from a single broken page with parsing is really tricky

[04:14:00.0000] <MikeSmith>
hsivonen: https://bugzilla.mozilla.org/show_bug.cgi?id=598895 (new bug for the issue you helped me with)

[04:14:01.0000] <MikeSmith>
hsivonen: thanks again for the help

[04:15:00.0000] <jgraham>
annevk: I know

[04:15:01.0000] <jgraham>
annevk: I was hoping I could say something in the bug other than "well changing parsing is hard and we can't make everything work"

[04:15:02.0000] <jgraham>
Which is true but kind of weak

[04:18:00.0000] <zcorpan>
jgraham: the question is whether there's another way with better site compat (e.g. maybe it should only be scoping for <p> and </p> but not for </div>)

[04:19:00.0000] <jgraham>
zcorpan: Indeed. But it is hard to tell from insignificant breakage on one site if that is a net win or not

[04:19:01.0000] <zcorpan>
yeah

[04:19:02.0000] <annevk>
I'm starting to lean towards abarth "stop tweaking it" pov

[04:20:00.0000] <jgraham>
I guess it might be closer to legacy gecko/webkit

[04:20:01.0000] <abarth>
:)

[04:20:02.0000] <zcorpan>
tweaking is the fun part :)

[04:20:03.0000] <jgraham>
Well me too, but it sucks to be the person trying to explain that we just have to live with it

[04:21:00.0000] <abarth>
welcome to the web

[04:21:01.0000] <abarth>
my name is adam

[04:21:02.0000] <abarth>
i'll be your host

[04:21:03.0000] <zcorpan>
GET /tagsoup HTTP/1.1

[04:22:00.0000] <zcorpan>
Host: adam

[04:22:01.0000] <zcorpan>
/me awaits response

[04:23:00.0000] <annevk>
402 PAYMENT REQUIRED

[04:23:01.0000] <abarth>
200 OK

[04:23:02.0000] <annevk>
aah

[04:23:03.0000] <abarth>
Content-Length: 27

[04:23:04.0000] <abarth>
Content-Length: 2394

[04:24:00.0000] <zcorpan>
crap, now i don't know when to stop reading :(

[04:24:01.0000] <abarth>
Good news: you're now just supposed to stop immediately and close the socket

[04:26:00.0000] <abarth>
:)

[04:26:01.0000] <hsivonen>
jgraham: I've filed a spec bug about that

[04:26:02.0000] <hsivonen>
jgraham: my guess is that Hixie's reverse engineering of existing browsers hasn't been perfect

[04:27:00.0000] <abarth>
zcorpan: :)

[04:27:01.0000] <hsivonen>
jgraham: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10427

[04:30:00.0000] <zcorpan>
hsivonen: iirc this is a case where i decided that opera should follow ie for compat with some site, so Hixie changed the spec to match

[04:31:00.0000] <hsivonen>
zcorpan: IE isn't as scoping as HTML5, either, IIRC

[04:31:01.0000] <abarth>
hsivonen: how come Firefox fails so many of the HTML5lib tests?

[04:31:02.0000] <abarth>
is that spec skew?

[04:32:00.0000] <zcorpan>
hsivonen: i think ie6 and ie7 (and maybe ie8) parsing of object depends on whether the plugin was used or not

[04:32:01.0000] <hsivonen>
abarth: the summary/figcaption stuff I haven't fixed, because there's the outstanding spec bug on <figure>

[04:32:02.0000] <hsivonen>
abarth: though I was planning on writing patches today anyway

[04:32:03.0000] <abarth>
ic

[04:32:04.0000] <hsivonen>
abarth: other than that, I have fixes in my queue

[04:32:05.0000] <hsivonen>
abarth: and they have review

[04:32:06.0000] <abarth>
i should sync the tests again

[04:33:00.0000] <abarth>
when should we change the "-- >" thing in html5lib

[04:33:01.0000] <hsivonen>
abarth: but only beta7 blockers are allowed to land

[04:33:02.0000] <hsivonen>
abarth: already changed

[04:33:03.0000] <abarth>
oh, good

[04:33:04.0000] <abarth>
beta7 gets cut from trunk?

[04:33:05.0000] <zcorpan>
hsivonen: in fact, <object> is sort of a cdata element in ie, iirc

[04:34:00.0000] <hsivonen>
abarth: I think we might branch first and bake beta7 on the branch for a few days, but for practical purposes, yes

[04:34:01.0000] <hsivonen>
zcorpan: oh

[04:34:02.0000] <abarth>
there have been some pretty major things landing between betas

[04:35:00.0000] <abarth>
like a new JavaScript engine

[04:35:01.0000] <abarth>
:)

[04:35:02.0000] <zcorpan>
i read ie9 changed parsing of <object>, i wonder if they now match html5 there

[04:36:00.0000] <hsivonen>
abarth: AFAICT, Firefox "beta" is what gets offered to a larger audience

[04:36:01.0000] <hsivonen>
abarth: can't really infer feature-completeness from "beta"

[04:36:02.0000] <abarth>
how does that differ from the nightly builds?

[04:36:03.0000] <abarth>
i guess they're more stable

[04:37:00.0000] <hsivonen>
abarth: stability and publicity

[04:38:00.0000] <abarth>
strange

[04:38:01.0000] <abarth>
why did html5lib remove test cases?

[04:38:02.0000] <hsivonen>
abarth: I moved some tests to new files

[04:39:00.0000] <hsivonen>
abarth: either because the tests were text editor-unsafe

[04:39:01.0000] <hsivonen>
abarth: or because the test changed ahead of spec

[04:39:02.0000] <hsivonen>
abarth: IIRC, I didn't remove any tests

[04:39:03.0000] <abarth>
i see the new files

[04:39:04.0000] <abarth>
l don't really have a good way of merging the files

[04:39:05.0000] <abarth>
i do it by hand

[04:41:00.0000] <hsivonen>
abarth: fwiw, I landed my queue of fixes to the htmlparser repo today and deployed them on validator.nu (but not livedom.validator.nu yet)

[04:41:01.0000] <hsivonen>
(I need to work around GWT UA sniffing bogosity to redeploy livedom)

[04:42:00.0000] <hsivonen>
I really wish GWT feature sniffed and loaded a bit more code

[04:43:00.0000] <hsivonen>
I can sympathise with wanting to load different code for IE6, but loading different code for WebKit, Gecko < 1.8, Gecko >=1.8 and Opera is BAD

[04:43:01.0000] <hsivonen>
and what's the deal with supporting Gecko < 1.8 anyway?

[04:44:00.0000] <hsivonen>
we should start calling window.console "HTML5 console" once it's in the spec :-)

[05:01:00.0000] <abarth>
tests pushed

[05:01:01.0000] <abarth>
not that much exciting

[05:20:00.0000] <hsivonen>
abarth|zZz: umm. It seems to me you pushed back bits that I had specifically moved to different files

[05:21:00.0000] <hsivonen>
abarth|zZz: specifically, in comments01.dat and entities01.dat

[05:23:00.0000] <abarth|zZz>
ah, sorry about that

[05:23:01.0000] <abarth|zZz>
feel free to fix it

[05:23:02.0000] <abarth|zZz>
we need a better process to merge changes

[05:24:00.0000] <hsivonen>
abarth|zZz: ok. I'll fix it at some point unless someone else beats me to it. 

[07:08:00.0000] <GPHemsley>
/me unsubscribed from the WHATWG mailing list

[07:09:00.0000] <GPHemsley>
(signal-noise ratio too high for me, personally)

[07:09:01.0000] <GPHemsley>
(or is it low? anyway, too much I didn't care to read...)

[07:10:00.0000] <jgraham>
I guess you mean low

[07:10:01.0000] <jgraham>
Unless you are complaining that there is too mcuh technical discussion that is hard to have an opinion on

[07:11:00.0000] <jgraham>
and not enough useless bikeshedding that is fun for all the family

[07:13:00.0000] <hsivonen>
GPHemsley: what's been noise lately?

[07:13:01.0000] <hsivonen>
/me tuned the poster='' thread out

[07:30:00.0000] <Hixie>
sorry, been on vacation so haven't been able to tone noise down

[07:30:01.0000] <Hixie>
do i need to do anything on the poster thread?

[07:31:00.0000] <Hixie>
(i'm mostly back now btw, just going through massive mail backlog)

[07:33:00.0000] <hsivonen>
Hixie: I don't know. before I tuned out, the content of the thread was appropriate for the list. There were just an unusual number of messages.

[07:34:00.0000] <Hixie>
ah ok

[07:34:01.0000] <Hixie>
i'll take a look when i get to figuring out which folder it should go to shortly then

[07:34:02.0000] <Hixie>
and will see if anything needs doing

[07:38:00.0000] <MikeSmith>
jgraham: for the content of the actual annotations in the annotated ES5 doc, I'm wondering if the audience should be implementors and authors, or just implementors

[07:40:00.0000] <MikeSmith>
jgraham: example I thought of today was the fact that, e.g.,  parseInt("08") returns 0 and parseInt("010") returns 8

[07:40:01.0000] <MikeSmith>
etc.

[07:40:02.0000] <MikeSmith>
(because the leading zero causes parseInt to assume octal)

[07:41:00.0000] <MikeSmith>
and the spec doesn't state that explicitly

[07:41:01.0000] <MikeSmith>
so, I added an annotation for authors

[07:41:02.0000] <MikeSmith>
just saying, always supply the radix param

[07:43:00.0000] <MikeSmith>
but… I don't know if the annotations should end up being addressed both to implementors and authors, or if it should be just one or the other

[07:44:00.0000] <MikeSmith>
I guess the intended-for-author annotations could be marked up to indicate they are for authors -- class=author or whatever

[07:45:00.0000] <jgraham>
MikeSmith: Yeah, t would be helpful to annotate the spec with what is actually required for implementors too

[07:45:01.0000] <jgraham>
Work around the refusal of ECMAScript committee to fix bugs in the parts that they hope will go away in the future

[07:45:02.0000] <jgraham>
(bugs in the spec relative to reality I mean)

[07:53:00.0000] <MikeSmith>
ok

[11:04:00.0000] <jgraham>
Oh, hybi how I missed you

[11:05:00.0000] <Hixie>
what's up there?

[11:15:00.0000] <mokush>
hey, can anybody expand on the "label" for <track>?

[11:15:01.0000] <mokush>
http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#attr-track-charset

[11:16:00.0000] <Hixie>
expand how?

[11:16:01.0000] <mokush>
the definition in the spec is very very fague

[11:16:02.0000] <mokush>
at least to me

[11:18:00.0000] <mokush>
is it a sort-of invisible title attr?

[11:23:00.0000] <Hixie>
mokush: oh you mean "what does it do?"?

[11:38:00.0000] <Hixie>
mokush: it basically decides what the browser's name for the track will be

[11:38:01.0000] <Hixie>
mokush: in its menus and stuff

[11:38:02.0000] <Hixie>
(sorry for the delay, i'm in and out here)

[11:40:00.0000] <jgraham>
Hixie: """I think the reluctance to fix it has mostly been due to partisan

[11:40:01.0000] <jgraham>
politics - either defending the origins  and/or a reluctance to causeoffence by it's replacement with another solution."""

[11:40:02.0000] <Hixie>
o_O

[11:40:03.0000] <jgraham>
"it" being the handshake in this case

[11:40:04.0000] <Hixie>
so glad i got out of that wg

[11:41:00.0000] <mokush>
Hixie: no prob, I was out too. So it's actualy a short name like "English"?

[11:47:00.0000] <Hixie>
mokush: yeah

[11:47:01.0000] <mokush>
does track have even minimal support in any browser?

[11:47:02.0000] <Hixie>
not yet

[11:48:00.0000] <Hixie>
it's only just been added

[11:48:01.0000] <Hixie>
afk, bbl

[11:48:02.0000] <mokush>
js to the rescue

[11:50:00.0000] <mokush>
I read somewhere that Safari has some support for captions.

[13:02:00.0000] <othermaciej>
MikeSmith: public-html seems to be getting bugmail other than new bugs...

[13:03:00.0000] <othermaciej>
I see a few today that are keyword changes or resolutions (though it seems just plain comments are not getting through)

[13:17:00.0000] <jgraham>
othermaciej: In case you are not paying attention, Hybi seems to be discussing the handshake again

[13:18:00.0000] <othermaciej>
jgraham: is it worth my time to pay attention?

[13:23:00.0000] <jgraham>
othermaciej: I think it is would be a net win if you pay attention. I'm not sure if you personally will benefit from it


2010-09-24
[18:05:00.0000] <MikeSmith>
othermaciej: I had bugmail set to also send notifications when status of a bug changes

[18:05:01.0000] <MikeSmith>
you really want it only for new bugs?

[18:05:02.0000] <MikeSmith>
not for status changes?

[18:11:00.0000] <othermaciej>
MikeSmith: I don't terribly mind them myself, but my original suggestion was new bugs only, so maybe we should start with that so people get what they signed up for

[18:11:01.0000] <othermaciej>
MikeSmith: maybe we can add more notifications later if we need to

[18:14:00.0000] <MikeSmith>
ok

[18:14:01.0000] <MikeSmith>
now set to just notifications for new bugs

[18:19:00.0000] <nessy>
I like that - I can always subscribe to updates for those bugs that I care about

[18:19:01.0000] <Hixie>
yeah new bugs only makes sense to me too

[22:06:00.0000] <GPHemsley>
hsivonen, Hixie: Keep in mind that what I consider noise is likely very different from what you consider noise. ;)

[00:24:00.0000] <annevk>
oh, extensibility went to vote

[03:04:00.0000] <annevk>
zcorpan, maybe you should add your suggestion for what to replace non-normative with here: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10626

[03:04:01.0000] <annevk>
/me forgot what it was

[03:22:00.0000] <zcorpan>
done

[06:07:00.0000] <hsivonen>
cool. Opera has added support for &TRADE;. More interop!

[06:25:00.0000] <annevk>
hsivonen, we did that in August 2006...

[06:33:00.0000] <jacobolus>
do events sent to dom elements work synchronously or asynchronously?

[06:33:01.0000] <jacobolus>
that is, if I'm in the middle of some function foo and I fire off an event to some div or svg shape, will the object handle that event before the rest of foo finishes, or after?

[06:35:00.0000] <annevk>
if you dispatch it yourself, before

[06:35:01.0000] <annevk>
otherwise, it depends

[06:35:02.0000] <jgraham>
Oh, dispatchEvent is sync?

[06:35:03.0000] <hsivonen>
annevk: I'm slow to notice, I guess. I have a note to make validator.nu whine about &TRADE; on Opera compat grounds. I guess I won't implement that feature.

[06:36:00.0000] <annevk>
oh wow

[06:36:01.0000] <jgraham>
?

[06:37:00.0000] <annevk>
jgraham, yes it's sync

[06:38:00.0000] <hsivonen>
and IE9 supports &apos;, so that took care of itself before I got around to make V.nu warn about that one

[06:39:00.0000] <annevk>
I wonder if IE dropped support for entities it had in addition to those that are in HTML5

[06:39:01.0000] <jgraham>
Oh, I guess it must be really

[06:39:02.0000] <jgraham>
Since it returns a value

[06:39:03.0000] <annevk>
I personally thought they made sense...

[06:39:04.0000] <jgraham>
/me has managed to mostly avoid dispatchEvent

[06:40:00.0000] <annevk>
jgraham, yeah, it's also "queue a task to dispatch an event" when you want async in spec lang

[06:41:00.0000] <jgraham>
Yeah. Seems liek you should be able to make async events from user code though

[06:41:01.0000] <annevk>
just use setTimeout

[06:42:00.0000] <jgraham>
Yeah, I guess that has the right effect

[06:43:00.0000] <jacobolus>
annevk: okay, thanks

[06:44:00.0000] <jacobolus>
annevk: I guess it's useful to have it sync, since it's not hard to wrap in a setTimeout if you want async &c.

[06:45:00.0000] <jacobolus>
oh, you said that

[06:45:01.0000] <jacobolus>
heh

[06:51:00.0000] <jacobolus>
maybe someone here has some advice then. I'm trying to build up some drag/drop for SVG objects.

[06:51:01.0000] <jacobolus>
my intended method is to have the whole svg area have a 'mousedown' handler that figures out the object being clicked using elementFromPoint, and then registers 'mousemove', 'mouseup' (again on the whole svg area) and I can then put the logic about how far the mouse should move before it's considered a drag, etc. in this one place.

[06:51:02.0000] <jacobolus>
to figure out what object is underneath the drag, the mousemove handler hides the dragged object, does elementFromPoint, and then shows the dragged object again, and I write my own logic to figure out when we're hovering over new drop targets, etc.

[06:53:00.0000] <jacobolus>
actually, hold that thought. I'm going to change seats. bb10

[07:14:00.0000] <jacobolus>
well, if anyone has any thoughts, I'm back, but now a question too. is there any way to get the mouse position when it's not over the viewport?

[07:39:00.0000] <annevk>
it's great that bug 10720 references Microsoft for good practice on not messing up standards

[07:50:00.0000] <Philip`>
Hmm, is test.w3.org down?

[07:50:01.0000] <Philip`>
Sadly I can't use downforeveryoneorjustme.com because it seems to return 404 for URLs starting with the string "test"

[07:51:00.0000] <jgraham>
Down for me, but dvcs is up

[08:16:00.0000] <jacobolus>
hmm. okay, another question then. is there any way to get a mouseup event if someone starts dragging while in the browser window and then releases the mouse somewhere outside?

[08:17:00.0000] <jacobolus>
annevk: ?

[08:17:01.0000] <nimbupani>
you can do a dragStart event on browsers that support it. 

[08:17:02.0000] <jacobolus>
nimbupani: which is that?

[08:18:00.0000] <annevk>
jacobolus, maybe with setCapture stuff? (not standardized, not interoperable)

[08:18:01.0000] <nimbupani>
https://developer.mozilla.org/En/DragDrop/Drag_Operations

[08:18:02.0000] <annevk>
jacobolus, but don't really know

[08:18:03.0000] <jacobolus>
nimbupani: this isn't too promising http://www.quirksmode.org/blog/archives/2009/09/the_html5_drag.html

[08:18:04.0000] <jacobolus>
(at least the first couple sentences)

[08:22:00.0000] <nimbupani>
true, but Opera still does not support drag and drop http://caniuse.com/#feat=dragndrop

[08:22:01.0000] <annevk>
thanks Philip`

[08:23:00.0000] <jacobolus>
nimbupani: so do you know if there's a drag outside the browser window, and the user releases the mouse, will I get some event?

[08:24:00.0000] <nimbupani>
i saw such a demo once.

[08:24:01.0000] <nimbupani>
so I am looking

[08:25:00.0000] <nimbupani>
here you are http://londonwebstorenight.appspot.com/html5/index.html#slide20

[08:26:00.0000] <nimbupani>
it uses dragstart tho.

[08:26:01.0000] <nimbupani>
and I think it cancels events for other drag ops.

[08:29:00.0000] <jacobolus>
nimbupani: it looks like that's sending some info to the world that there's a thing being dragged that can be dropped outside

[08:29:01.0000] <jacobolus>
e.g. the interface implies I can drop on dock icons, the desktop, my chat client, etc.

[08:29:02.0000] <jacobolus>
which isn't quite what I want

[08:30:00.0000] <nimbupani>
not really it only says you can drag

[08:30:01.0000] <jacobolus>
I just want to be able to catch mouseup whether the user is over the browser or not

[08:30:02.0000] <nimbupani>
the dataTransfer is only when the drag ends

[08:30:03.0000] <nimbupani>
you can put whatever you want within function(e) {}

[08:30:04.0000] <jacobolus>
nimbupani: sure, but whether there's dataTransfer or not safari acts like I can drop stuff anywhere

[08:31:00.0000] <jacobolus>
nimbupani: e.g. in slide 18

[08:31:01.0000] <jacobolus>
or is that a safari bug?

[08:31:02.0000] <nimbupani>
oh i was only looking at it in chrome :)

[08:32:00.0000] <nimbupani>
oh i see it. you mean the + sign?

[08:33:00.0000] <nimbupani>
that only exists because there is a listener for it in that drop area.

[08:33:01.0000] <jacobolus>
nimbupani: I mean that if I drag the object into any other app on my system, it is implied that I can drop there

[08:34:00.0000] <nimbupani>
that is a feature of the mac itself I think. 

[08:34:01.0000] <nimbupani>
oh no

[08:34:02.0000] <nimbupani>
it only works on safari

[08:35:00.0000] <jacobolus>
perhaps a safari bug?

[08:35:01.0000] <nimbupani>
or a safari feature? :P

[08:35:02.0000] <jacobolus>
is every draggable object supposed to be droppable on the world?

[08:35:03.0000] <jacobolus>
or just some of them?

[08:35:04.0000] <jacobolus>
clearly some should be

[08:35:05.0000] <jacobolus>
(so maybe everyone's buggy?)

[08:36:00.0000] <nimbupani>
ideally it should be droppable anywhere. 

[08:36:01.0000] <jacobolus>
some objects should be

[08:37:00.0000] <jacobolus>
but I think there are some that should probably stay within the web app

[08:37:01.0000] <nimbupani>
i dont think you can set where it can be dropped though. 

[08:37:02.0000] <nimbupani>
you can only add listeners to drop targets AFAIK

[09:23:00.0000] <Philip`>
hsivonen: Is there a known reason why htmlparser-statistics.jar might use lots more heap space than a standard htmlparser-1.2.2.jar?

[09:32:00.0000] <Philip`>
Ah, seems better when I give the JVM 2GB

[09:42:00.0000] <Philip`>
hsivonen: http://philip.html5.org/data/parser-stats-raw.xml.bz2 is the raw data

[09:42:01.0000] <Philip`>
(with a <processed> line for each page it started processing, and a <stats> line for each time the handler got called)

[09:45:00.0000] <Philip`>
http://parsetree.validator.nu/?doc=http%3A%2F%2Fwww.4clubs.ch%2Flms.php%3Fmodule%3Ddivers is quite a bit of nesting

[09:51:00.0000] <Philip`>
http://parsetree.validator.nu/?doc=http://www.vdofilm.com/webwinkel/contents/nl/d102_01.html does quite well on outer loop entries (around 60% down that page)

[09:53:00.0000] <Philip`>
/me isn't sure how to usefully analyse the data

[10:07:00.0000] <cardona507>
i just realized that the html-wg doesn't have digest mode for the mailing list

[10:18:00.0000] <annevk>
cardona507, don't you have filters and such for that?

[10:18:01.0000] <annevk>
digest seems so old fashioned; for the time when clients sucked

[10:18:02.0000] <cardona507>
i actually like diges

[10:18:03.0000] <cardona507>
heh

[10:19:00.0000] <cardona507>
*digest

[10:19:01.0000] <cardona507>
fine tuning my filter as we speak

[11:43:00.0000] <hober>
As I tweeted the other day: ISSUE-41 has gone to poll, and I know I only captured some of the relevant arguments in the zero-edit CP. I encourage everyone to respond to the poll if you feel you have a point not already covered in that CP. Thanks!

[12:49:00.0000] <variable>
does anyone know where the bulk of the security discussion about iframe srcdoc and sandbox attributes occured?

[12:52:00.0000] <variable>
I found BUG-100 which is to remove the element - but I can't find the original discussion

[12:56:00.0000] <Philip`>
I would assume the WHATWG list

[12:57:00.0000] <variable>
Philip`, I've been searching the archives but I can't find anything

[12:57:01.0000] <variable>
do you know the name of any threads?

[13:01:00.0000] <Philip`>
http://lists.w3.org/Archives/Public/public-html/2010Jan/0491.html may be relevant

[13:01:01.0000] <variable>
http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2008-July/015349.html is what I found

[13:05:00.0000] <Philip`>
http://lists.w3.org/Archives/Public/public-webapi/2008May/0326.html looks like one of the first suggestions for doc="..."

[13:08:00.0000] <variable>
Philip`, thanks - let me read that thread now

[15:49:00.0000] <Hixie>
my mac has started ignoring responses from my DHCP server

[15:49:01.0000] <Hixie>
wtf

[15:49:02.0000] <Hixie>
it connects to the wifi network, and i can see the DHCP response in a tcpdump of the network seen from the laptop

[15:50:00.0000] <Hixie>
but the IP remains set to one of the autoconfigured IPs


2010-09-25
[18:54:00.0000] <variable>
Hixie, try "ifconfig flushall" from Terminal as root - it /may/ help

[19:12:00.0000] <Hixie>
variable: thanks, will try if it happens again. I ended up solving it by installing any pending updates and rebooting twice.

[19:12:01.0000] <variable>
Hixie, all that command does is forces the mac to release any current DHCP leases - I duno if it would help

[19:12:02.0000] <Hixie>
well i tried "renew dhcp lease" in the pref panel and that had no effect

[19:13:00.0000] <Hixie>
i could see in the tcpdump log that it was asking for a DHCP lease

[19:13:01.0000] <Hixie>
and it was getting a reply

[19:13:02.0000] <Hixie>
it was just not doing anything with it

[19:13:03.0000] <variable>
yeah - that is why I said to flush it first

[19:13:04.0000] <Hixie>
k

[19:13:05.0000] <variable>
another solution might be to statically set it to the reply that it got

[19:14:00.0000] <Hixie>
well that's how i got on IRC earlier and how I got online to download the updates

[19:14:01.0000] <Hixie>
but that's not a great solution ;-)

[20:01:00.0000] <Hixie>
/me gets to the volume/muted content attribute thing

[20:10:00.0000] <Hixie>
i don't see any way to have a muted="" content attribute that is reflected by the IDL attribute, since it would mean that if the user had requested a blanket mute of all audio, and you had a page today (with no muted="" attribute), it would magically sprout a muted="" attribute in the DOM each time the document was parsed

[20:10:01.0000] <Hixie>
that seems suboptimal

[21:10:00.0000] <Hixie>
i've no idea how to do this

[21:12:00.0000] <variable>
Hixie, do what?

[21:18:00.0000] <Hixie>
variable: the muted thing i mentioned above

[21:18:01.0000] <variable>
oh - woops

[03:49:00.0000] <annevk>
http://twitter.com/sideshowbarker/status/25201432241 o_O

[03:59:00.0000] <MikeSmith>
annevk: the word "faktisk" is a model of precision and economy compared to "daadwerkelijk"

[04:01:00.0000] <annevk>
it sounds more like the Dutch "feitelijk"

[04:01:01.0000] <annevk>
than "daadwerkelijk"

[04:01:02.0000] <MikeSmith>
oh

[04:02:00.0000] <MikeSmith>
so it is

[04:02:01.0000] <annevk>
I was mostly surprised you tweet in Dutch now :)

[04:03:00.0000] <annevk>
or something very close to it anyway ;p

[04:04:00.0000] <MikeSmith>
heh

[04:04:01.0000] <MikeSmith>
/me finds daadwerkelijk

[04:04:02.0000] <MikeSmith>
oops

[04:04:03.0000] <MikeSmith>
/me finds http://www.mijnwoordenboek.nl/synoniemen/daadwerkelijk

[04:05:00.0000] <MikeSmith>
I've quit tweeting in English forever

[04:19:00.0000] <hsivonen>
http://domscripting.com/blog/display/99

[04:20:00.0000] <hsivonen>
looks like adactio has been promoting a trick that doesn't work with HTML5-compliant innerHTML

[04:21:00.0000] <hsivonen>
correction: it's not adactio but one of the commenters who suggests using the trick for executing innerHTML-inserted scripts

[04:22:00.0000] <annevk>
it's from 2007

[04:23:00.0000] <hsivonen>
annevk: which means that potentially a lot of people have read it

[04:52:00.0000] <MikeSmith>
speaking of bad advice, the following seems questionable:

[04:52:01.0000] <MikeSmith>
http://dev.opera.com/articles/view/efficient-javascript/?page=2#implicitconversion

[04:53:00.0000] <MikeSmith>
annevk: btw, does Tarquin still work at Opera?

[04:53:01.0000] <MikeSmith>
that article is otherwise great, btw

[05:00:00.0000] <annevk>
MikeSmith, yup

[05:00:01.0000] <MikeSmith>
cool

[05:00:02.0000] <MikeSmith>
dude should write more

[05:00:03.0000] <MikeSmith>
write more articles I mean

[05:00:04.0000] <MikeSmith>
at dev.opera.com or his own site

[05:00:05.0000] <MikeSmith>
he seems to have gone quiet some time back

[05:04:00.0000] <jgraham>
MikeSmith: Clearly we work him too hard

[05:05:00.0000] <jgraham>
And yeah, that advice sucks

[05:05:01.0000] <jgraham>
But it is from 2006

[05:05:02.0000] <MikeSmith>
true

[05:06:00.0000] <jgraham>
That is like 1000BC (Before Carakan) in javascript years

[05:06:01.0000] <MikeSmith>
yeah

[05:07:00.0000] <MikeSmith>
but to some degree, it seems to have been intended as general advice (though I to realize he makes a point there of saying it applies more directly to the then-shipping Opera JS engine)

[05:07:01.0000] <jgraham>
We should write a new article that actually applies to the mordern world

[05:07:02.0000] <jgraham>
MikeSmith: Yeah, but 2006 is before fast javascript in general

[05:07:03.0000] <jgraham>
isn't it?

[05:08:00.0000] <jgraham>
Unless I am off by a couple of years at least

[05:08:01.0000] <jgraham>
Some stuff still applies of course

[05:09:00.0000] <jgraham>
"don't use try/catch in inner loops" for example

[05:09:01.0000] <jgraham>
And he doesn't appear to say "don't use the with statement, ever", but if he did that would still apply

[05:09:02.0000] <MikeSmith>
jgraham: no, you right (about the dates)

[05:10:00.0000] <jgraham>
(he says the rather too weak "avoid using with")

[05:10:01.0000] <Philip`>
Ideally all articles about JS performance would come with benchmarks so you could see how relevant they are in your current browser

[05:10:02.0000] <Philip`>
The benchmarks would probably be rubbish but at least they'd be better than nothing

[05:11:00.0000] <jgraham>
(which is just wrong. You should assume that using "with" is forbidden by law and carrys a prison term)

[05:12:00.0000] <annevk>
i like with

[05:12:01.0000] <annevk>
sue me

[05:12:02.0000] <annevk>
i'll make a point about using it more

[05:13:00.0000] <MikeSmith>
every article about JS performance should probably have an accompanying script with a timer that triggers after 1 year ot 2 years at most and causes the contents of the pages to be replaced with the single sentence: "The chances of this article still being relevant are very low. Find a more up-to-date article instead."

[05:13:01.0000] <MikeSmith>
make that, replaced with the _two_ single sentences

[05:14:00.0000] <Philip`>
Also they should all start with a section about how to profile your code to find bottlenecks, before wasting time micro-optimising irrelevant parts

[05:14:01.0000] <Philip`>
(Do good profiling tools for JS actually exist?)

[05:15:00.0000] <gsnedders>
Philip`: JSC has one that disables JIT, at lesat

[05:15:01.0000] <Philip`>
That sounds the opposite of "good"

[05:15:02.0000] <gsnedders>
Well, it's the best I know of :PP

[05:16:00.0000] <Philip`>
It's kind of useless getting profiling data over a version of your code that is not the version whose performance you actually care about

[05:17:00.0000] <gsnedders>
Well, yeah.

[05:17:01.0000] <Philip`>
/me wonders if authors would get better performance improvements if browser developers focused on decent profiling support to help authors optimise their code, rather than focusing on making the JS engine faster

[05:17:02.0000] <gsnedders>
That just kinda says how diabolical profiling is

[05:18:00.0000] <gsnedders>
Philip`: Harder to market, though

[05:18:01.0000] <Philip`>
Development tools like Firebug seem good marketing points (which forced other browser developers to implement something similar)

[05:19:00.0000] <Philip`>
at least for authors

[05:20:00.0000] <Philip`>
and for users you claim that more real web sites will be optimised for your browser since you're making it easy for authors to do that

[06:11:00.0000] <MikeSmith>
somebody please help me out here… where in the Ecmascript spec does it actually specify that you can get the character at a particular index in a string value by using square-bracket syntax?

[06:12:00.0000] <MikeSmith>
…or even where it states that you can use that to get retrieve a particular element from an array?

[06:13:00.0000] <miketaylr>
MikeSmith: section 15.5.5.2 of http://www.ecma-international.org/publications/standards/Ecma-262.htm

[06:13:01.0000] <miketaylr>
(for string)

[06:13:02.0000] <miketaylr>
i think that was non-standard until es5

[06:14:00.0000] <MikeSmith>
/me reads http://localhost:8080/index.html#x15.5.2

[06:14:01.0000] <MikeSmith>
oops

[06:14:02.0000] <paul_irish>
Ooh! /me bookmarks.

[06:16:00.0000] <MikeSmith>
:)

[06:16:01.0000] <MikeSmith>
http://sideshowbarker.github.com/es5-spec/#x15.5.2

[06:16:02.0000] <MikeSmith>
oops

[06:16:03.0000] <miketaylr>
ooOOooo html

[06:17:00.0000] <MikeSmith>
/me copies the section number correctly this time

[06:17:01.0000] <MikeSmith>
http://sideshowbarker.github.com/es5-spec/#x15.5.5.2

[06:17:02.0000] <MikeSmith>
ah, sweet

[06:17:03.0000] <miketaylr>
:)

[06:19:00.0000] <MikeSmith>
hey, I initially misread step 8 of that algorithm as "If resultStr be a String of length 1,"

[06:19:01.0000] <MikeSmith>
it would be great if specs were actually written with that kind of language

[06:19:02.0000] <MikeSmith>
"If foo be bar, then

[06:21:00.0000] <Dashiva>
Only one day a year

[06:22:00.0000] <MikeSmith>
heh

[06:22:01.0000] <MikeSmith>
I guess that day passed recently

[06:22:02.0000] <MikeSmith>
too bad

[07:26:00.0000] <jgraham>
annevk: I have no idea why you would like making your code look more like it was written in Visual Basic 

[07:26:01.0000] <jgraham>
If God had intended the web to be programmed in VB, He would have given Microsoft a monopoly

[07:35:00.0000] <Philip`>
If JS used VB's with syntax (where you write ".Height = 100" etc so it's easily distinguishable from local/global variable references), would that have avoided the performance problems it causes?

[07:41:00.0000] <jgraham>
Maybe

[07:42:00.0000] <jgraham>
/me hasn't actually programmed any VB for >10 years and had forgotten the . thing

[07:42:01.0000] <MikeSmith>
anybody know if there is interactive help or a man page or doc of some kind for the OSX "jsc" command?

[07:44:00.0000] <jgraham>
MikeSmith: No idea. I doubt it. Do you have a question?

[07:44:01.0000] <MikeSmith>
nah, nothing specific

[07:44:02.0000] <jgraham>
/me is unlikely to be able to help, but nevertheless

[07:45:00.0000] <MikeSmith>
just running the jsc shell

[07:45:01.0000] <MikeSmith>
and wondering if there is any help on the shell at least

[07:45:02.0000] <MikeSmith>
node shell has a .help

[07:46:00.0000] <MikeSmith>
but that is actually not very useful at all

[07:46:01.0000] <MikeSmith>
at this point

[07:46:02.0000] <jgraham>
Does it do more than just take javascript expressions and evaluate the results?

[07:46:03.0000] <jgraham>
There is a print() function to write to stdout if that helps

[07:47:00.0000] <MikeSmith>
node shell has a .break and .clear 

[07:47:01.0000] <MikeSmith>
which are actually useful in the case of node

[07:47:02.0000] <jgraham>
It's not like command-line repls have been the main focus of javascript

[07:47:03.0000] <MikeSmith>
true

[07:48:00.0000] <jgraham>
Or non-browser use cases in general really

[07:48:01.0000] <MikeSmith>
a thing that the node shell does that I find highly annoying is that if you hit ^C it drops you out of the shell entirely and exists back to your bash prompt

[07:49:00.0000] <MikeSmith>
I don't think ^C in a shell or shell-like thing should do that

[07:49:01.0000] <MikeSmith>
that's what ^D is for

[07:49:02.0000] <Philip`>
Perhaps you could run it in rlwrap to get a more standard shell-like interface

[07:49:03.0000] <MikeSmith>
so I guess this .break thing is what you are meant to use instead

[07:49:04.0000] <MikeSmith>
what's rlwrap?

[07:50:00.0000] <MikeSmith>
…readline wrapper

[07:50:01.0000] <MikeSmith>
I see

[10:10:00.0000] <karlcow>
in http://mozillalabs.com/zaphod/2010/09/16/6/ spotted a http-equiv=”Content-Script-Type”

[10:10:01.0000] <karlcow>
<meta http-equiv=”Content-Script-Type” content=”application/narcissus” />

[10:11:00.0000] <karlcow>
http://www.w3.org/TR/REC-html40/interact/scripts.html#h-18.2.2.1

[10:11:01.0000] <annevk>
ugh

[10:11:02.0000] <annevk>
"Doing so will cause Narcissus to execute the various on* listeners specified for different elements.  (Unfortunately, SpiderMonkey will also execute them, which may or may not cause issues)."

[10:12:00.0000] <karlcow>
yes it seems SpiderMonkey it doesn't remove the other. Kind of strange

[10:24:00.0000] <hsivonen>
application/narcissus is like application/chromeframe, expect the former is only for experimentation while the latter is marketed for non-experimental deployment

[10:28:00.0000] <annevk>
could have used a more "there be dragons" identifier

[10:28:01.0000] <annevk>
but I guess it doesn't really matter

[10:29:00.0000] <karlcow>
hmm application/crouching-tiger

[12:25:00.0000] <jacobolus>
is there any way to add focus/blur events to custom objects?

[12:25:01.0000] <jacobolus>
for instance, to get a blur event on a div for someone clicking on some other form element?

[12:28:00.0000] <Hixie>
jacobolus: i don't follow

[12:28:01.0000] <Hixie>
can someone with IE let me know what IE does for http://software.hixie.ch/utilities/js/live-dom-viewer/saved/647 ?

[12:28:02.0000] <gsnedders>
jacobolus: var div = document.getElementsByTagName("div")[0], form = document.getElementsByTagName("form")[0]; form.addEventListener("blur", function(e){div.dispatchEvent(e);}, false);

[12:29:00.0000] <gsnedders>
jacobolus: Or something like that?

[12:29:01.0000] <Hixie>
so far i have three browsers with three different results

[12:29:02.0000] <jacobolus>
Hixie: in other words, currently only form elements or something containing them gets key presses and focus/blur events right?

[12:29:03.0000] <gsnedders>
jacobolus: Oh, that'll throw

[12:30:00.0000] <jacobolus>
can I get a div to accept focus & key events?

[12:30:01.0000] <Hixie>
jacobolus: per the spec, all kinds of elements can be focusable, see http://www.whatwg.org/specs/web-apps/current-work/complete/editing.html#focus-management

[12:30:02.0000] <jacobolus>
oh, okay

[12:30:03.0000] <Hixie>
jacobolus: plus you can be "specially focusable" http://www.whatwg.org/specs/web-apps/current-work/complete/editing.html#specially-focusable

[12:31:00.0000] <Hixie>
it strikes me that contenteditable isn't on either of those lists

[12:31:01.0000] <Hixie>
but that would also make something focusable

[12:31:02.0000] <Hixie>
probably

[12:31:03.0000] <jacobolus>
Hixie: so if I have some random div in the middle of my page, can I make it focusable?

[12:31:04.0000] <Hixie>
sure, just set tabindex=0 on it

[12:31:05.0000] <jacobolus>
(or perhaps an SVG shape that I want to be selectable)

[12:32:00.0000] <jacobolus>
neat

[12:32:01.0000] <jacobolus>
let me try that

[12:32:02.0000] <Hixie>
SVG probably has an attribute like fcFocusableElementActivationBehaviorMatrix="focusable-element"

[12:32:03.0000] <jacobolus>
:)

[12:32:04.0000] <Hixie>
but i wouldn't know what it was off-hand

[12:33:00.0000] <jacobolus>
I can't just set tabindex on it?

[12:33:01.0000] <jacobolus>
that's too bad

[12:33:02.0000] <Hixie>
dunno if SVG has tabindex

[12:33:03.0000] <Hixie>
maybe

[12:33:04.0000] <jacobolus>
aha! "focusable"

[12:33:05.0000] <jacobolus>
at least in svg tiny 1.2

[12:33:06.0000] <Hixie>
wow that's remarkably succint

[12:34:00.0000] <jacobolus>
and the associated event is apparently "DOMFocusIn"

[12:36:00.0000] <jacobolus>
I wonder if any browsers support that

[12:44:00.0000] <jacobolus>
sorry for the obvious questions, but what exactly is the relation of svg tiny 1.2 to svg 1.2, and what specs are browsers trying to implement?

[12:49:00.0000] <jacobolus>
or are browsers just shooting for svg 1.1?

[12:49:01.0000] <jacobolus>
(which doesn't include this keyboard stuff as far as I can tell)

[12:58:00.0000] <Hixie>
hsivonen: i'm completely confused by http://www.w3.org/Bugs/Public/show_bug.cgi?id=9843

[13:08:00.0000] <hsivonen>
Hixie: the patch that landed in Gecko makes document.written scripts not block on style sheets. seems to match IE

[13:09:00.0000] <Hixie>
hsivonen: i don't think we should be adding things that make document.write('foo') work differently than data:text/html,foo

[13:10:00.0000] <Hixie>
at least not without clear compat need


2010-09-26
[17:12:00.0000] <karlcow>
http://twitter.com/ndw/status/25527799850

[17:13:00.0000] <karlcow>
>I have joined the HTML Working Group. May the fates have mercy on my soul. -- Norman Walsh

[17:30:00.0000] <Dashiva>
Souls are deprecated

[19:24:00.0000] <annevk>
karlcow, looking at some of his other messages; more drama?

[19:25:00.0000] <annevk>
joining when everything is pretty much done is a bit late though...

[19:26:00.0000] <annevk>
but on the other hand we can never have enough feedback

[19:26:01.0000] <annevk>
the more feedback we get the more viewpoints we can consider

[19:47:00.0000] <Hixie>
what DOM should <option><button><option> give?

[19:48:00.0000] <othermaciej>
what do browsers do with it?

[19:49:00.0000] <Hixie>
historically they treated <option> as a void element or ignored it altogether

[19:49:01.0000] <Hixie>
so they're not especially helpful

[19:50:00.0000] <Hixie>
<option><div><option> creates the same DOM as <option><div></option><option>, which is the same as <option><div></div></option><option>

[19:50:01.0000] <Hixie>
but <button> has weird scoping rules

[19:51:00.0000] <Hixie>
i guess <option><details><option> and <option><h1><option> has the same problem as <button> actually

[19:53:00.0000] <Hixie>
maybe i just need to make </option> close more forcefully

[19:57:00.0000] <Hixie>
ok two options that i can see:

[19:57:01.0000] <Hixie>
1. make </option> as powerful as </div>

[19:58:00.0000] <Hixie>
2. make <option> only imply </option> if the current node is an <option> element

[19:58:01.0000] <Hixie>
option 2 seems safest

[20:38:00.0000] <Hixie>
wtf is webkit doing with form.enctype

[20:38:01.0000] <Hixie>
<form enctype="multipart/formdata"> returns "multipart/form-data"

[20:38:02.0000] <Hixie>
as does:

[20:38:03.0000] <Hixie>
enctype="multipart/anything"

[20:39:00.0000] <Hixie>
enctype="anything/form-data"

[20:39:01.0000] <Hixie>
enctype="form-data"

[20:39:02.0000] <Hixie>
enctype="multipart"

[20:40:00.0000] <Hixie>
enctype="form-data/multipart"

[20:40:01.0000] <Hixie>
enctype="not-form-data-at-all"

[20:40:02.0000] <Hixie>
basically it seems to match anything that contains either "multipart" or "form-data"

[02:33:00.0000] <annevk>
lots of closed bugs

[02:35:00.0000] <annevk>
ooh, December 8

[02:35:01.0000] <annevk>
for some reason I thought the "all addressed" date was October 1

[02:44:00.0000] <annevk>
Hixie, should HTML5 register application/x-www-form-urlencoded ?

[04:28:00.0000] <annevk>
http://ie.microsoft.com/testdrive/HTML5/DOMParserXMLSerializer/Default.html -- because responseXML is stupid?

[04:28:01.0000] <annevk>
and since when are they in HTML5?

[04:29:00.0000] <annevk>
oh, border-radius is part of HTML5 too, I see

[04:30:00.0000] <annevk>
So HTML5 now means "Web" with emphasis on new features?

[05:02:00.0000] <jgraham>
Hixie: Re: Bug 10427 (object scoping), we have a couple of different reports of broken sites due to that behaviour. I will dig up the URLs at some point (maybe tomorrow)

[05:51:00.0000] <karlcow>
annevk, maybe not more drama. I do not think ndw is a drama person. But maybe frustration at a point for him. We will see.

[05:52:00.0000] <karlcow>
plus I'm not sure there is a list of all discussions which involves XML and what are the specific issues he would like to see addressed.

[05:53:00.0000] <karlcow>
Maybe that would be a start, an open list of issues and I'm pretty sure for many of them, there was already a discussion about it in the mailing lists. 

[05:57:00.0000] <AryehGregor>
<annevk> So HTML5 now means "Web" with emphasis on new features? <-- Dude, that's what it's meant for years now.

[05:58:00.0000] <Dashiva>
Except when it means uppity kids destroying the web

[05:58:01.0000] <jgraham>
You're doing well if you get "emphasis on new features"

[09:35:00.0000] <Hixie>
anne, if you read this, HTML doesn't really defien application/x-www-form-urlencoded, it just says how to encode it

[09:37:00.0000] <karlcow>
http://www.opera.com/portal/unw/ I wonder

[09:37:01.0000] <karlcow>
"The red-hot world of technology gets a breath of fresh, cool air in Oslo on October 14, 2010."

[09:40:00.0000] <karlcow>
and the source is not more explicit either <meta name="description" content="Information about Opera’s history, vision, executive team, and more" />

[10:47:00.0000] <Hixie>
the more i hack the foreign lands the more i think i need to just get rid of the secondary mode and just use the "reset insertion mode" algorithm

[10:52:00.0000] <Hixie>
anyone remember ms2ger's e-mail in bugzilla?

[10:52:01.0000] <Hixie>
MikeSmith: why does the autocomplete for e-mails not work in the w3c's bugzilla?

[10:53:00.0000] <Hixie>
ah, @gmail

[11:12:00.0000] <annevk>
so if HTML5 does not define it... who does?

[11:22:00.0000] <Hixie>
define what?

[11:22:01.0000] <Hixie>
oh the form submission type

[11:22:02.0000] <annevk>
yeah

[11:22:03.0000] <annevk>
application/x-www-form-urlencoded

[11:22:04.0000] <Hixie>
well in theory bjorn's draft

[11:23:00.0000] <Hixie>
i'm not sure what really needs defining

[11:23:01.0000] <annevk>
well... he's only doing application/www-form-urlencoded

[11:23:02.0000] <Hixie>
i guess we could define how to interpret it, but people seem to be doing fine without it

[11:23:03.0000] <Hixie>
what's application/www-form-urlencoded

[11:23:04.0000] <annevk>
it's a "cleaned up version"

[11:23:05.0000] <Hixie>
implemented by nobody?

[11:23:06.0000] <annevk>
some idea from 2006 he just resurrected

[11:24:00.0000] <Hixie>
bjorn is weird

[11:24:01.0000] <annevk>
nope, but it has some attractive features, like omitting empty parameters, and using ; rather than &

[11:24:02.0000] <annevk>
but I don't think it's worth it

[11:24:03.0000] <Hixie>
like a cross between julian and ms2ger -- all the pedantic quality of ms2ger, with all of the practicality of julian

[11:24:04.0000] <annevk>
so yeah

[11:24:05.0000] <annevk>
hahaha

[11:25:00.0000] <Hixie>
ok well i guess we can define the x- type

[11:25:01.0000] <annevk>
so yeah, if we define how to write and how to parse the media type is done

[11:25:02.0000] <Hixie>
can you file a bug with bullet points of what i need to spec?

[11:26:00.0000] <Hixie>
or send me a mail or something

[11:26:01.0000] <Hixie>
with the highlights

[11:26:02.0000] <Hixie>
i can turn it into prose

[11:26:03.0000] <annevk>
it ties in with abarth <a>.queryParameters proposal too

[11:26:04.0000] <annevk>
i guess

[11:26:05.0000] <annevk>
ok

[11:27:00.0000] <Hixie>
oooh

[11:27:01.0000] <Hixie>
yeah

[11:27:02.0000] <Hixie>
adam's thing

[11:27:03.0000] <Hixie>
interesting

[11:27:04.0000] <Hixie>
we should pull adam into this

[11:27:05.0000] <Hixie>
that's what we should do

[11:27:06.0000] <Hixie>
have adam's URL spec define this

[11:28:00.0000] <Hixie>
annevk: forget filing a bug or whatnot

[11:28:01.0000] <Hixie>
annevk: let's just give this to adam

[11:28:02.0000] <Hixie>
annevk: as you say he's already speccing the parsing 

[11:28:03.0000] <Hixie>
s/say/say,/

[11:37:00.0000] <AryehGregor>
Has anyone given any thought on how browsers could stop the evercookie PNG cache trick?

[11:38:00.0000] <annevk>
Hixie, yeah, makes sense that it would define that type

[11:39:00.0000] <annevk>
AryehGregor, can't that be done with any kind of file and XHR?

[11:39:01.0000] <AryehGregor>
Yes, the PNG part is immaterial.

[11:39:02.0000] <AryehGregor>
It's a cache poisoning attack, sort of.

[11:39:03.0000] <annevk>
(solution: don't cache)

[11:39:04.0000] <AryehGregor>
What, don't cache anything?

[11:39:05.0000] <annevk>
i don't think there's much else you can do

[11:39:06.0000] <AryehGregor>
That's my initial reaction too.

[11:45:00.0000] <karlcow>
(other not practical solution: don't use javascript)

[11:47:00.0000] <jcranmer>
karlcow: howis that not practical? ;-)

[11:48:00.0000] <karlcow>
hehe. 

[11:49:00.0000] <annevk>
ooh, Dexter is back

[11:49:01.0000] <karlcow>
the last 6 months or one year I have tried different strategies with regards to cookies to see how the browsers UIs make it difficult to really have a control on them.

[11:50:00.0000] <annevk>
Hixie, hsivonen was suggesting foreign lands could just be a namespace check?

[11:50:01.0000] <karlcow>
There is a lot of things which could be done on the side of PIM with regards to browsers

[11:51:00.0000] <annevk>
Hixie, also, you wrote "<code title="">annotation-xml</code> in the SVG namespace"

[11:51:01.0000] <Hixie>
annevk: yeah, dunno how that would work though

[11:51:02.0000] <Hixie>
oops

[11:51:03.0000] <annevk>
Hixie, I think that should be MathML namespace and needs a <span> too probably

[11:51:04.0000] <Hixie>
yeah

[11:52:00.0000] <annevk>
AryehGregor, regarding Web == HTML5; you know, it never really got to me that much

[11:53:00.0000] <annevk>
AryehGregor, here in my ivory tower; most web developer friends also get the distinction, but when I was at the Adobe thing the other day...

[12:23:00.0000] <Hixie>
man what is it with people describing solutions before problems

[12:25:00.0000] <aho>
too much jeopardy

[13:00:00.0000] <annevk>
the type=date impl in WebKit is weird

[13:02:00.0000] <annevk>
or in Chrome, that is

[13:02:01.0000] <AryehGregor>
It's crazy.

[13:03:00.0000] <AryehGregor>
It implements it like a number-picker.

[13:03:01.0000] <AryehGregor>
The person developing HTML5 forms support for Chrome appears to believe that it's okay to dump semi-functional behavior into releases.

[13:04:00.0000] <AryehGregor>
First no validation UI, now this.  Blech.

[13:13:00.0000] <itissid>
hey I wanted to ask about this sandbox feature i read on the blog... What does an iframe gave to do with insecure content? Culd it nt be just anywhere other than the iframe? Unless i am missing something fundamental here...

[13:20:00.0000] <AryehGregor>
itissid, if your insecure content isn't in an iframe, that's what srcdoc is meant to handle.

[13:42:00.0000] <itissid>
Here is my story, its a bit long,pls bear... I am making a chrom extension that saves pages as HTML strings and displays them later... The only way to display after safely is using dataURL scheme and then do a  location.replace(). The problem with this is it wipes out all the scripts of the previous page..

[13:42:01.0000] <itissid>
Although this protects me from some XSS rather than I use the much more vulneralble document.write()

[13:43:00.0000] <itissid>
I cant run those scripts if i use the dataURI scheme..

[13:45:00.0000] <itissid>
So Some one suggested i use sandboxing

[13:46:00.0000] <itissid>
Now what i want to understand is that if i have a an HTML string can i limit its cross-origin policy using sandbox... 

[13:48:00.0000] <itissid>
Cause i want to use document.write() as it preserves the scripts in the head tag 

[13:50:00.0000] <annevk>
AryehGregor, it appears validation is now simply not enforced?

[13:50:01.0000] <AryehGregor>
annevk, yes, thankfully.

[13:50:02.0000] <AryehGregor>
Until they can get some real UI for it.

[13:51:00.0000] <AryehGregor>
Have you seen Firefox's UI?  It's in nightlies, and it looks pretty slick.

[13:51:01.0000] <annevk>
AryehGregor, it sucks a bit that it comes in pieces

[13:51:02.0000] <annevk>
the outline? looks nice, yeah

[13:51:03.0000] <annevk>
I wonder what they'll do for <input type=date>

[13:51:04.0000] <annevk>
but I guess that's not going to make Firefox 4

[13:52:00.0000] <AryehGregor>
What comes in pieces?

[13:52:01.0000] <AryehGregor>
I don't think the outline is good for stuff that the user hasn't touched yet.

[13:52:02.0000] <AryehGregor>
But the UI generally looks good.  Unlike Opera's, no offense.

[13:53:00.0000] <annevk>
HTML5 forms support comes in pieces

[13:53:01.0000] <AryehGregor>
Well, as long as it falls back gracefully, it seems fine.

[13:53:02.0000] <annevk>
it gets more and more painful to decide whether to use a library for a control or not at this point

[13:54:00.0000] <AryehGregor>
I don't think it's such a big deal.  If the built-in stuff isn't good enough, use the library.  Better yet, use a library that uses whatever native stuff is available.

[13:55:00.0000] <AryehGregor>
Firefox's UI for manually-set errors is good so far, a library could use that to implement date-pickers and such seamlessly.

[14:01:00.0000] <AryehGregor>
Hixie, there is no "diff given below" at http://www.w3.org/Bugs/Public/show_bug.cgi?id=9828

[14:02:00.0000] <Hixie>
yeah my script fails to submit the link whenever the page has non-UTF-8 text on it

[14:02:01.0000] <Hixie>
not sure how to fix it

[14:02:02.0000] <AryehGregor>
What would cause such a crazy bug?

[14:04:00.0000] <annevk>
AryehGregor, it's not a big deal, it just means that detection is getting more complicated over time

[14:04:01.0000] <AryehGregor>
annevk, seems inevitable.

[14:08:00.0000] <AryehGregor>
Hixie, An error occured while submitting your comment. Please let ian⊙hc know.

[14:08:01.0000] <itissid>
AryehGregor: Hey, I may seem like a noob but does the following seem reasonable. What i want to do is to maintain the javascripts in the original browsing context. Now the problem is that location.replace('NEW HTML PAGE IN STRING') would destroy that. So If I created an Iframe element and put my 'NEW HTML PAGE IN STRING' in that , along with a sandbox attrribute, it would protect me from XSS...

[14:08:02.0000] <itissid>
...attacks?

[14:08:03.0000] <Hixie>
AryehGregor: yeah bugzilla is screwed right now

[14:08:04.0000] <AryehGregor>
itissid, I don't really know anything about those APIs, sorry.

[14:08:05.0000] <itissid>
Anyone else?

[14:08:06.0000] <Hixie>
AryehGregor: i can pass you the script (perl) if you want to figure it out :-)

[14:09:00.0000] <AryehGregor>
Hixie, no thanks, I don't do Perl.

[14:09:01.0000] <Hixie>
:-0

[14:09:02.0000] <Hixie>
:-) even

[14:10:00.0000] <annevk>
itissid, why not iframe.srcdoc = htmlstring ?

[14:10:01.0000] <annevk>
(and also set sandbox, of course)

[14:11:00.0000] <itissid>
annevk: So you suggest I add that small iframe element to the HTML of my original browsing context?

[14:12:00.0000] <itissid>
I am making a chrome extension so i dont need to worry about other browsers..

[14:12:01.0000] <Ms2ger>
Hixie, in http://html5.org/tools/web-apps-tracker?from=5508&to=5509, annotation-xml in the *SVG* namespace?

[14:14:00.0000] <annevk>
itissid, wherever you want to display this HTML I suppose

[14:14:01.0000] <annevk>
itissid, not sure if srcdoc is supported by Chrome

[14:15:00.0000] <annevk>
Ms2ger, already reported

[14:15:01.0000] <Ms2ger>
annevk, thanks

[14:16:00.0000] <AryehGregor>
No one has objected to decentralized-extensibility, or is the survey software broken or something?

[14:17:00.0000] <Hixie>
can someone translate http://www.w3.org/Bugs/Public/show_bug.cgi?id=9817 for me? I have no idea what the problem is.

[14:17:01.0000] <Hixie>
Ms2ger: yeah anne pointed it out

[14:17:02.0000] <Hixie>
thanks

[14:17:03.0000] <annevk>
AryehGregor, has someone objected to centralized?

[14:17:04.0000] <annevk>
I'm planning on objecting, unless I don't have to

[14:17:05.0000] <annevk>
well, objecting

[14:18:00.0000] <annevk>
saying it's highly unlikely we'll implement it

[14:18:01.0000] <annevk>
but maybe that wasn't needed with this proposal; I should read it again

[14:20:00.0000] <AryehGregor>
The only non-zero-edit proposal that got to vote is sane enough that I don't think it's totally out of the question that it would be accepted if there weren't a lot of strong objections.

[14:21:00.0000] <Ms2ger>
/me would rather not be crossed with julian

[14:21:01.0000] <Hixie>
hah

[14:21:02.0000] <Hixie>
so nobody can explain http://www.w3.org/Bugs/Public/show_bug.cgi?id=9817 for me?

[14:22:00.0000] <annevk>
Hixie, I looked at it (sparing Leif's comments)

[14:22:01.0000] <annevk>
Hixie, I'm not quite sure either

[14:22:02.0000] <annevk>
Hixie, if this is about tabindex I do not get it and something else does not appear in the specification

[14:25:00.0000] <Hixie>
ok i'll mark it NEEDSINFO again

[14:25:01.0000] <Hixie>
i wish i didn't have as much trouble understanding bugs filed by a11y people

[14:26:00.0000] <Ms2ger>
Don't we all?

[14:28:00.0000] <AryehGregor>
Presumably they also wish they didn't have as much trouble being understood by us.

[14:30:00.0000] <Ms2ger>
I try to avoid presuming things about what the a11y people want

[14:31:00.0000] <AryehGregor>
I don't think it's much of a presumption that they want Hixie to change the spec, and that they've figured out that sometimes he doesn't get what they're asking.

[14:31:01.0000] <Hixie>
from what i hear they think i'm lying when i say i don't understand

[14:31:02.0000] <Hixie>
so...

[14:31:03.0000] <Hixie>
anyway

[14:32:00.0000] <Craig`>
hey guys, haven't really done much socket programming, is it possible to create an irc client using websockets?

[14:32:01.0000] <Ms2ger>
Also, self-closing tags in html!

[14:32:02.0000] <Ms2ger>
Craig`, no

[14:32:03.0000] <Ms2ger>
See the note in the spec that says exactly that

[14:32:04.0000] <Craig`>
actually thinking about it i think i remember reading that note

[14:32:05.0000] <Philip`>
Hixie: Maybe ask for suggested replacement spec text? Perhaps that'd make their meaning more explicit

[14:33:00.0000] <Craig`>
actually, probably, i should read the html5 spec then move on from there, leaving websockets 'til last

[14:33:01.0000] <Hixie>
Philip`: that usually just confuses me more, because i end up with text that is clearly wrong, but still no idea why they want it

[14:33:02.0000] <Philip`>
Oh, it already says "<summary> should not support tabindex" which seems an explicit suggestion

[14:39:00.0000] <annevk>
twitter has so much going for it

[14:40:00.0000] <annevk>
take this: http://twitter.com/johnfoliot/status/25607580283 followed by http://twitter.com/terrahawkes/status/25608513143 both in my retweet stream thanks to @mattur :)

[14:40:01.0000] <itissid>
annevk: Ok srcdoc support does not exist for chrome... 

[14:41:00.0000] <itissid>
Even something like this src="data:text/html-sandboxed,%3Chtml%3E%3Ch1%3EHello%20World%3C/h1%3E%3C/html%3E" wont work..

[14:42:00.0000] <annevk>
itissid, at this point it's prolly best to ask the Chrome guys

[14:43:00.0000] <itissid>
Hmm

[14:50:00.0000] <itissid>
annvek: Just so i know i am testing this correctly I made a small iframe with a sandbox attribute and a link to google... I put this code http://jsbin.com/olale3 in a local file and fired it up on my browser... If sandboxing works that should not allow me to navigate to google right?

[14:52:00.0000] <annevk>
why not?

[14:52:01.0000] <Hixie>
annevk: hahahaha that's an awesome reply

[14:52:02.0000] <Hixie>
spot on

[14:54:00.0000] <itissid>
as in there is a link to google in that HTML text in the iframe... The idea is that I cant make cross-origin requests..

[14:55:00.0000] <annevk>
itissid, that's now how it works


2010-09-27
[17:24:00.0000] <AryehGregor>
Who's Kris Krueger and what role does he have in the testing task force?

[17:40:00.0000] <Philip`>
He's a Microsoft person who seems to be trying to get the TF to do some work

[17:40:01.0000] <Philip`>
(organising some things and talking to people and doing telcons and submitting some tests etc)

[17:41:00.0000] <AryehGregor>
What's the decision-making procedure there, beyond consensus?  He acts like he's in charge of it.

[17:42:00.0000] <Philip`>
I'm not aware that there are any procedures

[17:42:01.0000] <Philip`>
It's mostly just down to whoever's willing to do the work

[17:42:02.0000] <AryehGregor>
Except that people review your tests at 25 a week?

[17:42:03.0000] <AryehGregor>
I'm going to submit over 15,000, I wonder how that will work.

[17:43:00.0000] <Philip`>
"people" don't seem to be reviewing them (as far as I can tell), only he is

[17:44:00.0000] <Philip`>
and I'm not going to demand that he review faster

[17:44:01.0000] <AryehGregor>
Because no one else can be bothered?

[17:44:02.0000] <Philip`>
Apparently

[17:44:03.0000] <Philip`>
If anybody else wants to do more of the work then that'd be great and I don't think anyone would object

[17:45:00.0000] <AryehGregor>
So basically Microsoft is the only one that cares about tests, am I right?

[17:46:00.0000] <Philip`>
Some people like jgraham and gsnedders have been doing some related stuff too

[17:47:00.0000] <AryehGregor>
Yay.

[17:47:01.0000] <Philip`>
Most browser people only seem to care about their own test suites, not about a coordinated HTML WG test suite

[17:48:00.0000] <AryehGregor>
Maybe I'll get Google or Mozilla to pay me to do this when I get my degree in January.

[17:50:00.0000] <Philip`>
If you have tests, I expect browser people are more interested in spending effort importing it into their automated testing systems and then maintaining it there, rather than on getting it in a W3C test suite and on carefully reviewing every test

[17:50:01.0000] <AryehGregor>
So why don't they incorporate some version of the W3C test suite into their automated test suites?

[17:51:00.0000] <AryehGregor>
Maybe Google or Mozilla would also pay me to do that for their respective browsers.

[17:51:01.0000] <AryehGregor>
(hopefully someone will pay me to do something, otherwise I'll starve to death)

[17:54:00.0000] <Philip`>
If there was a standardised format for the W3C test suite with lots of tests they don't already have, then I think writing tools to import into their test systems would be useful and good

[17:54:01.0000] <Philip`>
and I'd generally expect them to be interested in doing that

[17:55:00.0000] <Philip`>
but currently there isn't much of a standardised format and there aren't many tests so there's not much for them to care about yet

[18:00:00.0000] <Philip`>
By the way, one concern with automated test suites and lots of tests is the time it takes to run

[18:00:01.0000] <Philip`>
and particularly the time wasted creating and destroying documents

[18:01:00.0000] <AryehGregor>
My tests don't waste time creating and destroying documents.  :)

[18:01:01.0000] <AryehGregor>
But anyway, existing browser tests have that problem too.

[18:01:02.0000] <Philip`>
so e.g. Mozilla combined all my canvas tests into a single giant .html file

[18:01:03.0000] <AryehGregor>
Mozilla's tests take like an hour to run.

[18:01:04.0000] <AryehGregor>
Obviously the TF should produce tests in whatever format is best for the browsers.

[18:02:00.0000] <Philip`>
So you don't have 15,000 of any concrete thing, just that number of iterations of a loop?

[18:02:01.0000] <Philip`>
In that case it's probably not a concern

[18:03:00.0000] <AryehGregor>
Something like that, yeah.

[18:03:01.0000] <AryehGregor>
http://aryeh.name/tests/reflection.html

[18:03:02.0000] <AryehGregor>
The real work is in: http://aryeh.name/tests/reflection.js

[18:05:00.0000] <Philip`>
Are you intentionally relying on ES5 features?

[18:05:01.0000] <Philip`>
(Array.indexOf in particular)

[18:07:00.0000] <AryehGregor>
I'm just aiming for it to work in the latest versions of everything.

[18:07:01.0000] <AryehGregor>
I don't particularly care that they don't work in IE8.

[18:07:02.0000] <AryehGregor>
They seem to work in everything else.

[18:07:03.0000] <Anti-X>
if your audience is developers or geeks, they're not using ie8 anyways

[18:08:00.0000] <Anti-X>
and if they are, they obviously arent worth dealing with

[18:08:01.0000] <AryehGregor>
It's browser implementers.

[18:08:02.0000] <Anti-X>
right

[18:09:00.0000] <Anti-X>
just commented on ie8 supportiveness, didn't actually check your product

[18:18:00.0000] <AryehGregor>
I like how now that I'm testing things like document.bgColor, the tests flash odd colors briefly while they run.

[19:07:00.0000] <nimbupani>
hi MikeSmith you around?

[19:07:01.0000] <MikeSmith>
yep

[19:16:00.0000] <Hixie>
well

[19:17:00.0000] <Hixie>
i wonder if i can get the chairs to push the deadline for responding to bugs

[19:17:01.0000] <Hixie>
since the bug system is down

[19:24:00.0000] <itissid>
after 3 hours of search I was able to inject possibly mallacious HTML into an sandboxed Iframe in chrome and I am happy to say that it disables all inline script execution(provided you remove the allow-scripts tag)... http://pastebin.com/cGe5d8C6

[19:24:01.0000] <itissid>
No XSS possible... Yet...

[22:50:00.0000] <Hixie>
"So how does Microdata fit with Microformats and RDFa? Well, the WHAT-WG, which helps to develop the HTML5 spec, decided the flame wars provoked by the debate over whether to use Microformats or RDFa lacked sufficient vehemence, so they added a third definition of their own."

[22:50:01.0000] <Hixie>
lol

[22:50:02.0000] <Hixie>
(http://www.webmonkey.com/2010/09/microdata-html5s-best-kept-secret/)

[23:04:00.0000] <nimbupani>
roflz

[01:15:00.0000] <jgraham>
Philip`, AryehGregor: I think it is inaccurate to say that only Microsoft care about the testing TF thing. Certianly we care and are trying to release tests and so on

[01:16:00.0000] <jgraham>
It is somewhat disappointing that others are not more involved

[01:16:01.0000] <jgraham>
But I assume that will change

[01:19:00.0000] <jgraham>
It is also somewhat true that Kris seems to be doing a lot of the review. I'm not quite sure what to think about review of the tests, but I'm not sure the current setup will scale if we get a reasonably-sized testsuite

[01:20:00.0000] <annevk>
well, html5lib tests are in active development, just not at the W3C

[01:25:00.0000] <jgraham>
annevk: true

[01:37:00.0000] <annevk>
oh, all of Bugzilla is down now

[01:51:00.0000] <micheil>
does anyone know if the validators are opensource?

[01:52:00.0000] <micheil>
(css3, html5, that is.)

[01:52:01.0000] <annevk>
they are

[01:58:00.0000] <micheil>
oh?

[01:58:01.0000] <micheil>
links perhaps?

[01:59:00.0000] <Peter`>
http://about.validator.nu/#src

[02:01:00.0000] <micheil>
hmm.. validator.nu doesn't do css, does it?

[02:02:00.0000] <Peter`>
http://jigsaw.w3.org/css-validator/DOWNLOAD.html is for the css validator

[02:04:00.0000] <annevk>
also http://dev.w3.org/cvsweb/2002/css-validator/

[02:07:00.0000] <annevk>
W3C Bugzilla back online

[02:09:00.0000] <annevk>
oh, but it's still broken

[02:13:00.0000] <micheil>
okay, cool.

[02:14:00.0000] <micheil>
I think I might rewrite it in node/javascript just for fun.

[02:15:00.0000] <jgraham>
micheil: Good luck with that :)

[02:15:01.0000] <jgraham>
Also I think DanC started rewiting the CSS Validator in Scala

[02:15:02.0000] <micheil>
heh, I probably won't start, but I may.

[02:15:03.0000] <Peter`>
porting is easier than reading the spec yourself :p

[02:15:04.0000] <micheil>
Peter-: yes, it is.

[02:16:00.0000] <micheil>
Peter-: I'm doing some judging for the McFarlane Prize.. and the validators are just sooo slow at the moment.

[02:16:01.0000] <jgraham>
http://dvcs.w3.org/hg/css-val/

[02:16:02.0000] <Hixie>
anyone have a link to the e-mail i wrote a few months ago explaining why image maps wouldn't work well as a way to make canvas interactive?

[02:17:00.0000] <jgraham>
micheil: The solution to that sounds like running a local instance rather than rewriting from scratch

[02:17:01.0000] <micheil>
maybe

[02:17:02.0000] <micheil>
isn't it in like php or java or something?

[02:18:00.0000] <micheil>
to of the things that either don't run or won't run on this machine well.

[02:18:01.0000] <Peter`>
Hixie: http://lists.w3.org/Archives/Public/public-html/2010Jun/0542.html that one?

[02:19:00.0000] <micheil>
I mean, parsing CSS shouldn't be too hard; then the validating would be fairly easy once you have a tree of the css

[02:19:01.0000] <Hixie>
that's the only one i could find as well, and it just repeats what i wrote on the bug... i was hoping i'd written a more detailed one

[02:19:02.0000] <Hixie>
oh well

[02:19:03.0000] <Hixie>
Peter`: thanks anyway!

[02:19:04.0000] <Peter`>
You're welcome

[02:23:00.0000] <zcorpan>
the processing around <script> is really rediculous

[02:23:01.0000] <Hixie>
no kidding

[02:24:00.0000] <micheil>
hmm?

[02:26:00.0000] <hsivonen>
fwiw, I commented on http://www.w3.org/Bugs/Public/show_bug.cgi?id=10067 but Bugzilla's email sending is broken

[02:27:00.0000] <Hixie>
any opinions on http://www.w3.org/Bugs/Public/show_bug.cgi?id=10314 ? (also a parsing issue)

[02:28:00.0000] <micheil>
hmm.. the validator seems to be down.

[02:31:00.0000] <hsivonen>
micheil: http://html5.validator.nu/?doc=http%3A%2F%2Fhsivonen.iki.fi%2F not down for me

[02:31:01.0000] <micheil>
hsivonen: css validator

[02:31:02.0000] <micheil>
not html

[02:31:03.0000] <micheil>
my bad there.

[02:32:00.0000] <hsivonen>
Hixie: my initial thought is that we shouldn't have "in foreign content" as a mode and we instead should check if the namespace of the current node is not the HTML namespace

[02:32:01.0000] <Hixie>
that would add a branch for every single tag on the entire web

[02:32:02.0000] <Hixie>
that seems suboptimal

[02:33:00.0000] <hsivonen>
Hixie: I've already implemented it as as an additional branch per start tag

[02:33:01.0000] <hsivonen>
anyway, gotta run now. I'll take a better look later.

[02:36:00.0000] <hsivonen>
oh, one more constraint about named characters in Gecko: currently, the code assumes that the sum of the tails of the named character names (including the semicolon but not including the first two letters) fits in 16 bits

[02:36:01.0000] <gsnedders>
Philip`, AryehGregor: Almost all myself and jgraham have spent time with the testing TF is making sure they can be imported and are auotable.

[02:37:00.0000] <gsnedders>
Philip`, AryehGregor: Also, reviewing all tests doesn't seem worth the time it takes (we'd look at what we fail, but if there's a bogus pass, we probably wouldn't notice)

[02:41:00.0000] <gsnedders>
I fear what's happening is what happened with CSS 2.1, which is nobody apart from MS does anything apart from submit tests till after beta 1 is released, by which time it is too lat

[02:42:00.0000] <micheil>
with DOMEvents, the actual callback to the event, or the event handler, are the arguments as set in init[type]Event or in the Attributes?

[02:43:00.0000] <jgraham>
gsnedders: That won't happen here

[02:45:00.0000] <annevk>
CSS 2.1 got rushed for unclear reasons

[05:53:00.0000] <annevk>
so is Bugzilla working again?

[05:54:00.0000] <zcorpan>
seems so, but it gives up an error message when commenting (but the comment goes through anyway)

[05:54:01.0000] <annevk>
hmm, I'll try submit a bug from the spec

[05:59:00.0000] <annevk>
now I understand the duplicates

[05:59:01.0000] <annevk>
it gives an error back when submitting a bug from the WHATWG spec

[05:59:02.0000] <annevk>
but the bug is actually there

[05:59:03.0000] <annevk>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10767

[06:08:00.0000] <annevk>
AryehGregor, nuking HTMLMarqueeElement might be nice

[06:08:01.0000] <hsivonen>
I commented on http://www.w3.org/Bugs/Public/show_bug.cgi?id=10067

[06:08:02.0000] <hsivonen>
Do MathML authors really type &NotNestedGreaterGreater;?

[06:09:00.0000] <annevk>
" It also looks like the longest of the proposed names is substantially longer than the longest existing name," shouldn't this say shorter somewhere for it not to matter?

[06:09:01.0000] <hsivonen>
annevk: there's a "not" missing

[06:10:00.0000] <annevk>
ok

[06:10:01.0000] <annevk>
I wonder about the IE entities

[06:10:02.0000] <annevk>
&pdf; or some such

[06:11:00.0000] <annevk>
they seemed potentially useful for mixed direction text editing

[06:11:01.0000] <hsivonen>
annevk: I thought the use cases were covered by bdo='' and dir=''

[06:12:00.0000] <hsivonen>
I wonder what proportion of the DLL space on a non-error-reporting HTML5 parser is named character tables

[06:17:00.0000] <annevk>
http://www.google.com/hostednews/ap/article/ALeqM5j-lHgTNcpwpJ4fC_zPzYRtsuym0QD9IG7JNO1 euh they cannot eavesdrop there now? so what if terrorists just set up their own provider?

[06:18:00.0000] <annevk>
(i'm not sure any of this is a good thing btw; just wondering what the point if this law is to begin with)

[06:21:00.0000] <david_carlisle>
hsivonen> Do MathML authors really type &NotNestedGreaterGreater;? 

[06:21:01.0000] <david_carlisle>
perhaps, the camel case names historically come from mathematica, so more to the point, mathml authoring systems probably do.

[06:22:00.0000] <david_carlisle>
MathML3 though tries to downplay entity names as much as possible, all instances of entity names in the mathml2 spec are replaced by numeric references or character data in the mathml3 spec. 

[06:22:01.0000] <annevk>
david_carlisle, btw, you may wanna point out on the member-math list that the annotation-xml thingie has been fixed

[06:23:00.0000] <david_carlisle>
done

[06:23:01.0000] <annevk>
figures :)

[06:24:00.0000] <david_carlisle>
(is there a version of the generated spec that mentions the annotation-xml encoding = ... test, maybe I looked in the wrong place but i couldn't see what i thought I'd  see in http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html

[06:25:00.0000] <annevk>
http://lists.w3.org/Archives/Public/www-html-editor/2010JulSep/0002.html is awesome

[06:25:01.0000] <annevk>
(about <abbr> and <acronym>)

[06:26:00.0000] <annevk>
david_carlisle, the interesting bit is in http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html

[06:27:00.0000] <david_carlisle>
ah maybe I should have used the dreaded single page version so search worked:-)

[06:33:00.0000] <jacobolus>
does html5 ignore security? http://news.ycombinator.com/item?id=1731253 :p

[06:33:01.0000] <Philip`>
annevk: I expect the point is that most terrorists are lazy and poor and technologically ignorant (like most non-terrorists too), and will use cheap commonplace technology that seems to work (like mobile phones and Facebook) and use rubbish codewords to try to make it appear more secure

[06:34:00.0000] <Philip`>
and almost none of them will bother doing something that's actually securely encrypted because it's too much effort

[06:36:00.0000] <Philip`>
so it's useful for governments to intercept the common communication methods

[06:36:01.0000] <jacobolus>
crockford: "there doesn't appear to be a lot of discipline in the html5 thing"

[06:37:00.0000] <jgraham>
http://www.guardian.co.uk/science/the-lay-scientist/2010/sep/24/1?CMP=twt_gu

[06:38:00.0000] <annevk>
crockford is a known troll

[06:39:00.0000] <jgraham>
Or, more precisely, based on his previous musigs on HTML5 (at which point he wanted the whole thing to be thrown out), he is unaware of the design constraints in this space

[06:39:01.0000] <hsivonen>
does Acid3 test that DOM APIs throw on "bad" names?

[06:39:02.0000] <annevk>
jgraham, nice article

[06:39:03.0000] <jgraham>
I haven't watched this interview so I don't know if he is still making the same errors as before

[06:39:04.0000] <annevk>
hsivonen, yeah it might

[06:40:00.0000] <annevk>
/me looks at the crockford thing against better judgment

[06:40:01.0000] <jacobolus>
annevk: I disclaim any responsibility for the consequences :)

[06:41:00.0000] <annevk>
wow, weak comments on that ycombinator thing

[06:41:01.0000] <annevk>
i thought that was a good site

[06:41:02.0000] <jacobolus>
well they've been there all of 5 minutes, and no one has voted on them yet or made reasonable comments for contrast

[06:41:03.0000] <jacobolus>
10 minutes I guess

[06:41:04.0000] <annevk>
oh

[06:41:05.0000] <annevk>
fair enough

[06:46:00.0000] <annevk>
he's actually mostly reasonable

[06:47:00.0000] <annevk>
glad I watched it

[06:47:01.0000] <annevk>
went a long way from "lets replace HTML5 with these 10 notes I just thought up"

[06:47:02.0000] <jacobolus>
yeah, not too bad

[06:48:00.0000] <jacobolus>
bits like "we should only have one of {svg, canvas}" aren't too convincing, I must say

[06:49:00.0000] <annevk>
he's right that some stuff got somewhat bloated, but then he forgets some of it has been in development since 2000 (SVG) and not just in recent years

[06:49:01.0000] <annevk>
HTML5 itself started in 2004

[06:53:00.0000] <hsivonen>
I shouldn't comment on Crockford, but he was pro-compat in the JS context but when he talks about anything else, he is quick to suggest throwing old stuff out and doing something else

[08:21:00.0000] <annevk>
the wiretap thing is also gonna fail for P2P

[08:35:00.0000] <hsivonen>
annevk: wiretap?

[08:35:01.0000] <annevk>
http://www.nytimes.com/2010/09/27/us/27wiretap.htm?_r=1

[08:36:00.0000] <annevk>
or

[08:36:01.0000] <annevk>
http://www.google.com/hostednews/ap/article/ALeqM5j-lHgTNcpwpJ4fC_zPzYRtsuym0QD9IG7JNO1

[08:37:00.0000] <jcranmer>
well

[08:37:01.0000] <jcranmer>
it would be easy if secure protocols weren't designed to guard against MITM attacks

[08:38:00.0000] <AryehGregor>
Then they wouldn't be secure, would they?

[08:39:00.0000] <AryehGregor>
There's no way you're going to be able to enforce backdoors in P2P applications.  You can easily use open-source stuff.

[08:39:01.0000] <jcranmer>
well, I have read somewhere that MITM attacks are rare in practice

[08:39:02.0000] <AryehGregor>
Even just tunnel some random program over SSL.

[08:39:03.0000] <jcranmer>
since it pretty much requires ISP collusion to work

[08:39:04.0000] <Philip`>
jcranmer: Maybe they're rare because protocols are secure against them

[08:40:00.0000] <AryehGregor>
jcranmer, not quite.  They're very uncommon in practice, it's true, but partly because protocols are usually secure against them where it's important.

[08:40:01.0000] <AryehGregor>
E.g., websites with sensitive info generally use SSL.

[08:40:02.0000] <AryehGregor>
Without that, hackers could feasibly compromise a router, or just dump a free WiFi hotspot and grab all traffic from that.

[08:40:03.0000] <AryehGregor>
Or even just listen in on someone else's free WiFi hotspot.

[08:40:04.0000] <AryehGregor>
Or use DNS cache poisoning to redirect the traffic to their servers.

[08:40:05.0000] <AryehGregor>
Etc.

[08:41:00.0000] <AryehGregor>
Luckily, preventing this sort of thing is a solved problem, we just need to deploy some more infrastructure (like DNSSEC).

[08:42:00.0000] <Philip`>
/me wouldn't consider it a solved problem when we still just need to do the really hard part :-p

[08:42:01.0000] <AryehGregor>
Well, theoretically solved.

[08:42:02.0000] <AryehGregor>
As opposed to other problems that are theoretically hard as well.

[08:42:03.0000] <Philip`>
Ah

[08:42:04.0000] <AryehGregor>
Like, what was I reading about the other day?

[08:42:05.0000] <AryehGregor>
/me checks browser history

[08:43:00.0000] <Philip`>
DRM?

[08:43:01.0000] <jgraham>
FTLT?

[08:43:02.0000] <AryehGregor>
http://en.wikipedia.org/wiki/Differential_privacy

[08:43:03.0000] <AryehGregor>
/me doesn't know what FTLT is

[08:43:04.0000] <AryehGregor>
DRM is a good example too.

[08:44:00.0000] <AryehGregor>
Although there it's mostly implementation details ("how can we get the program to really require using our hardware without messing up the user experience?").

[08:44:01.0000] <AryehGregor>
So maybe not a good example.

[08:44:02.0000] <jgraham>
(Faster Than Light Travel; I was being facetious)

[08:44:03.0000] <AryehGregor>
Ah.

[08:45:00.0000] <AryehGregor>
Speaking of up-and-coming cryptography stuff, tcpcrypt.org is very cool.

[08:45:01.0000] <AryehGregor>
There's really no reason to not encrypt everything these days.

[08:45:02.0000] <AryehGregor>
Even without authentication.

[08:46:00.0000] <Philip`>
Is stopping terrorists not a sufficient reason?

[08:47:00.0000] <AryehGregor>
You can't do that either way, if the terrorists are even mildly competent, because they can use encryption regardless.

[08:48:00.0000] <micheil>
Philip`: who says that the CIA / FBI can't break the encryption any way?

[08:48:01.0000] <Philip`>
Given how many terrorist plots are reportedly foiled by intercepted communications, and how few plots succeed, they're clearly not mildly competent

[08:48:02.0000] <jgraham>
Right now, somebody on slashdot will be saying "if you make strong encryption illegal, then only terrorists will have strong encryption")

[08:48:03.0000] <micheil>
>_>

[08:48:04.0000] <AryehGregor>
micheil, because they use it themselves.

[08:48:05.0000] <AryehGregor>
The NSA has approved AES for top-secret communications, for instance (if it has to be transmitted at all).

[08:48:06.0000] <micheil>
but if only they have the tech to decrypt / break the encryption, then they could still use it.

[08:49:00.0000] <AryehGregor>
No, because then they know there's a break that they were able to find.

[08:49:01.0000] <AryehGregor>
Which means other people could find it too.

[08:49:02.0000] <AryehGregor>
Like, I don't know, the Chinese government.

[08:49:03.0000] <Philip`>
If they have the tech, everyone else will have it in a few years from now when computers are a tenth of the cost

[08:49:04.0000] <AryehGregor>
Or some random annoying researcher from Japan who doesn't tell them in advance of publication.

[08:49:05.0000] <micheil>
well, either way, there's a bundle of issues there.

[08:49:06.0000] <Philip`>
and secret data needs to stay secret for a long time

[08:49:07.0000] <AryehGregor>
Depends on the data.

[08:49:08.0000] <AryehGregor>
It could be "we're going to bomb Iran in three days".

[08:49:09.0000] <Philip`>
Well, some secret data

[08:50:00.0000] <AryehGregor>
Stuff like "how to build a nuclear bomb" is unlikely to have to be transmitted where MITMs could intercept it anyway.

[08:50:01.0000] <Philip`>
You'd still want to protect that for a long time, because you might change your mind two days later and don't want anyone to decrypt your old message a year from now

[08:50:02.0000] <AryehGregor>
(although that particular issue is evidently a lost cause anyway) 

[08:51:00.0000] <micheil>
minds you, just the fact that I'm even talking / thinking about these sorts of things could more then likely lay me in jail in australia.

[08:51:01.0000] <Philip`>
By "more than likely" I assume you mean "extremely unlikely"?

[08:51:02.0000] <micheil>
actually, no.

[08:52:00.0000] <Philip`>
/me doubts that a large percentage of people discussing encryption will get jailed

[08:52:01.0000] <micheil>
australian law is really odd on that

[08:52:02.0000] <micheil>
no, more so the part about terrorism

[08:52:03.0000] <AryehGregor>
Maybe you mean "there were one or two high-profile cases where someone talked about something like this and landed in jail, so I'm going to generalize that to me while ignoring the hundreds of thousands of people who say things like this and don't end up in jail"?

[08:52:04.0000] <AryehGregor>
Lots of people like to do that when it comes to free speech.

[08:53:00.0000] <micheil>
sides the point; I'd rather not take chances ;P

[08:53:01.0000] <AryehGregor>
"One journalist was jailed for refusing to disclose sources to a grand jury!  America is becoming a police state!!!!"

[08:53:02.0000] <AryehGregor>
"Two American citizens were jailed in Guantanamo Bay without trial, until a court ordered their release, at which point they were released!  American citizens no longer have a right to habeas corpus!!!!!!!!"

[08:54:00.0000] <AryehGregor>
/me doesn't know if it was actually two, but that's the right order of magnitude

[08:54:01.0000] <micheil>
just like entering that competition where you get given a scenario and have to think up the worst terrorist attack possible could land you in jail in australia if you participated.

[08:54:02.0000] <AryehGregor>
"could"

[08:54:03.0000] <micheil>
(run by the guy that did Bluefish and such)

[08:54:04.0000] <AryehGregor>
Jaywalking "could" land you in jail too.

[08:54:05.0000] <micheil>
actually, it's legal in some towns

[08:54:06.0000] <AryehGregor>
That doesn't mean the possibility is significantly enough to be worth contemplating.

[08:56:00.0000] <AryehGregor>
s/ly//

[08:57:00.0000] <annevk>
bah rain

[08:57:01.0000] <annevk>
for the entire day now

[08:57:02.0000] <annevk>
and i don't have dinner

[08:57:03.0000] <AryehGregor>
Here too.

[08:58:00.0000] <annevk>
can't believe I never needed grep before

[08:58:01.0000] <annevk>
it's so useful

[08:58:02.0000] <AryehGregor>
You never needed grep before?  O_o

[08:58:03.0000] <AryehGregor>
How is that even remotely possible?

[08:58:04.0000] <AryehGregor>
Maybe if you use IDEs for absolutely everything, and they magically find all the function calls and things for you . . .

[08:58:05.0000] <annevk>
it probably is not, but I never used it before

[08:59:00.0000] <annevk>
no... I use a text editor

[08:59:01.0000] <AryehGregor>
Then how do you do something like find all callers of a function whose interface you want to change?

[09:00:00.0000] <AryehGregor>
Or find where a function is defined, even?

[09:00:01.0000] <AryehGregor>
(or class, or anything else)

[09:00:02.0000] <AryehGregor>
(maybe automated documentation works for that?)

[09:00:03.0000] <jgraham>
Maybe annevk doesn't write that much code :)

[09:00:04.0000] <annevk>
I only do very simple programs :)

[09:00:05.0000] <micheil>
or you know your code so well you know where everything is

[09:01:00.0000] <AryehGregor>
Really?  I thought you worked for Opera as a programmer.  What do you do, then?

[09:01:01.0000] <micheil>
man.. 

[09:01:02.0000] <micheil>
css3 validator is still down

[09:01:03.0000] <micheil>
does someone know if it's server can be restarted or something?

[09:02:00.0000] <jgraham>
annevk is responsible for collecting up all the cups from peoples desks

[09:02:01.0000] <jgraham>
(that or specs/QA. I forget)

[09:02:02.0000] <annevk>
and I do that remotely, too

[09:03:00.0000] <AryehGregor>
Well, for people who don't do a lot of programming, not having used grep before is reasonable.

[09:03:01.0000] <AryehGregor>
It's only mildly useful for things other than working with large programs.

[09:03:02.0000] <Philip`>
/me likes ack, since it's like grep with the annoyances fixed

[09:03:03.0000] <annevk>
which is why I rake up lots of frequent flier miles 

[09:03:04.0000] <AryehGregor>
(since if it's just one or two files, you can use any text editor to search)

[09:04:00.0000] <MikeSmith>
micheil: I'll check on the CS3 validator

[09:04:01.0000] <AryehGregor>
ACK  is a highly versatile Kanji code converter.  ACK can do reciprocal conversion among Japanese EUC, Shift-JIS and 7bit JIS.  JIS Kata-kana(SJIS Han-kaku Kana) is also supported.  Kanji code can be automatically detected even if the input stream contains Kata-kana characters.  Besides,  ACK can be used as a Kanji code checker with very high detection rate.

[09:04:02.0000] <MikeSmith>
CSS3

[09:04:03.0000] <annevk>
but euh, it's hard to describe what I do; something with standards

[09:04:04.0000] <micheil>
many thanks

[09:05:00.0000] <micheil>
I'm needing it to do judging for the McFarlane prize..

[09:05:01.0000] <Philip`>
AryehGregor: Probably not quite that one

[09:08:00.0000] <jgraham>
/me assumes http://betterthangrep.com/

[09:11:00.0000] <jgraham>
Is is DVCS aware? The webpage is rather vauge about which VCS's files it ignores

[09:12:00.0000] <jgraham>
Oh it says

[09:15:00.0000] <AryehGregor>
Okay, this sounds like it's worth it.

[09:15:01.0000] <AryehGregor>
/me installs

[09:15:02.0000] <MikeSmith_>
micheil: http://jigsaw.w3.org/css-validator/ appears to be working

[09:15:03.0000] <MikeSmith_>
just very slowly

[09:15:04.0000] <micheil>
okay

[09:16:00.0000] <micheil>
yeah, I'm getting little response.

[09:16:01.0000] <MikeSmith_>
I think load on it is currently extreme

[09:17:00.0000] <micheil>
may have been me earlier in the day

[09:17:01.0000] <micheil>
validating 80 odd sits over 3 hours.

[09:17:02.0000] <micheil>
(i still have another.. 70 to go)

[09:17:03.0000] <Philip`>
/me would have assumed its average load was quite a lot higher than that

[09:18:00.0000] <MikeSmith_>
EverettZ: hey there

[09:23:00.0000] <annevk>
hmm

[09:23:01.0000] <annevk>
is there an Apache setting that allows you to handle HEAD requests yourself?

[09:23:02.0000] <AryehGregor>
Define "yourself"?

[09:23:03.0000] <annevk>
i.e. someone does a HEAD request and I give back a response entity body because I like to mess with them?

[09:24:00.0000] <AryehGregor>
I think for CGI, it will pass the request on to the script just like for a GET and then just ignore the body.

[09:24:01.0000] <micheil>
annevk: why would you do that?

[09:26:00.0000] <annevk>
micheil, tests

[09:26:01.0000] <micheil>
ah, okay

[09:29:00.0000] <Philip`>
http://perl.apache.org/docs/2.0/user/handlers/http.html#Handling_HEAD_Requests suggests that Apache tries hard to stop you doing that

[09:30:00.0000] <annevk>
bah

[09:31:00.0000] <annevk>
one day i'll write my own server

[09:31:01.0000] <Philip`>
Lots of languages have HTTP server implementations you could use and modify

[09:32:00.0000] <annevk>
just printing a set of octets over a socket connection is prolly sufficient for my needs

[09:33:00.0000] <annevk>
with some infrastructure around it to make it easy to add tests

[09:34:00.0000] <EverettZ>
annevk: I haven't used it myself, but would Varnish possibly allow you to script something like this?

[09:38:00.0000] <annevk>
dunno, it doesn't really matter

[10:06:00.0000] <loucapo_>
hey everyone

[10:06:01.0000] <Craig`>
hi

[10:06:02.0000] <loucapo_>
new to irc

[10:07:00.0000] <loucapo_>
was recommended to come on here

[10:07:01.0000] <loucapo_>
RE: xmlhttprequest level 2

[10:08:00.0000] <zcorpan>
welcome loucapo_

[10:09:00.0000] <loucapo_>
thx zcorpan

[10:09:01.0000] <loucapo_>
i'm running into a strange issue and am not sure if there is a recommended way to handle it.

[10:12:00.0000] <zcorpan>
what's the issue?

[10:12:01.0000] <loucapo_>
anyone here have experience with this?

[10:12:02.0000] <loucapo_>
o

[10:12:03.0000] <loucapo_>
well, lets say u do a cross-origin POST...and get anything outside the 200 range as a response.

[10:13:00.0000] <loucapo_>
the spec says it should return a status of 0

[10:13:01.0000] <loucapo_>
so u dont know WTF happened...how can/should you error trap this?

[10:13:02.0000] <annevk>
that's not what the spec says

[10:14:00.0000] <loucapo_>
unless i misread it....but that seems to be what its doing

[10:15:00.0000] <annevk>
you misread it then

[10:16:00.0000] <annevk>
it would help to know why you think it said that

[10:17:00.0000] <loucapo_>
section 3.7.1

[10:18:00.0000] <annevk>
why would the error flag be set?

[10:19:00.0000] <loucapo_>
ok, the spec is updated from when i first read it

[10:19:01.0000] <loucapo_>
but here is what i am experiencing

[10:20:00.0000] <annevk>
the spec hasn't changed much in this regard to be honest

[10:20:01.0000] <loucapo_>
site x does a post to site y

[10:20:02.0000] <annevk>
but has been clarified a few times

[10:20:03.0000] <loucapo_>
site y returns a 500

[10:20:04.0000] <loucapo_>
the browser can only see a 0

[10:20:05.0000] <loucapo_>
and status text of ""

[10:21:00.0000] <annevk>
does site y set the appropriate headers to make cross-origin requests work?

[10:21:01.0000] <loucapo_>
yup

[10:21:02.0000] <annevk>
also for the 500?

[10:21:03.0000] <annevk>
i.e. did you inspect the network traffic to make sure that's all dandy?

[10:21:04.0000] <loucapo_>
looks it to me

[10:22:00.0000] <loucapo_>
here is my page:

[10:22:01.0000] <loucapo_>
http://ozoli.comuf.com/

[10:22:02.0000] <annevk>
oh

[10:22:03.0000] <annevk>
does the site handle the preflight request?

[10:23:00.0000] <annevk>
site y

[10:23:01.0000] <annevk>
I see you are setting Content-Type to json

[10:23:02.0000] <annevk>
that makes this a complex cross-origin request

[10:24:00.0000] <annevk>
-> food

[10:24:01.0000] <loucapo_>
good idea

[10:24:02.0000] <loucapo_>
bbiab

[10:25:00.0000] <loucapo_>
thx for the help, btw

[10:25:01.0000] <Firefox>
Remember kids, use Ctrl + L on Windows or Cmd + L on Mac to focus the address bar!

[11:07:00.0000] <loucapo_>
back

[11:07:01.0000] <annevk>
let me know if the above was not the problem

[11:08:00.0000] <annevk>
won't be much available for some time

[11:08:01.0000] <loucapo_>
my response content type is text/html

[11:08:02.0000] <annevk>
no, it's about the request

[11:09:00.0000] <annevk>
see http://dev.w3.org/2006/waf/access-control/ for details

[11:09:01.0000] <annevk>
(that is what XHR2 uses for cross-origin requests)

[12:17:00.0000] <Hixie>
lol. Charles Pritchard e-mailed me privately to say that I was wrong about thinking that making a canvas editor was dumb, and linked to http://www.reddit.com/r/programming/comments/dj75k/lead_html_5_specs_editor_denies_accessibility/ to prove his case

[12:18:00.0000] <Hixie>
yet pretty much everyone there is agreeing with me :-P

[12:26:00.0000] <Hixie>
feedback on http://www.w3.org/Bugs/Public/show_bug.cgi?id=10314 welcome

[12:36:00.0000] <Ms2ger>
Internal error

[12:37:00.0000] <Ms2ger>
Also, is Opera planning to remove element.all?

[12:39:00.0000] <gsnedders>
Ms2ger: Yes.

[12:39:01.0000] <Ms2ger>
Good

[12:49:00.0000] <loucapo_>
just got back to this after a delay, getting the same issue

[12:59:00.0000] <zcorpan>
Hixie: what's wrong with the current behavior for 10314?

[13:01:00.0000] <jgraham>
bugzilla search 404?

[13:03:00.0000] <AryehGregor>
Why is this channel +s?

[13:11:00.0000] <Hixie>
zcorpan: <svg><body><desc></html> e.g. closes the SVG <body> because of seeing an HTML </html>

[13:13:00.0000] <zcorpan>
Hixie: ah, ok. i was thinking about the <table><tr><td><svg><desc><td> case

[13:38:00.0000] <inimino>
MikeSmith ⋱ Hey, how'd you generate your HTML ES5 version?

[13:39:00.0000] <inimino>
/me had one of those in the works but never finished it

[13:54:00.0000] <MikeSmith>
inimino: started from HTML export from OpenOffice

[14:42:00.0000] <MikeSmith>
http://twitter.com/jeresig/status/25705944689

[14:42:01.0000] <MikeSmith>
"There doesn't appear to be a way to detect a 304 response from an Ajax request in Opera"

[14:42:02.0000] <MikeSmith>
really?

[14:53:00.0000] <gsnedders>
MikeSmith: Really.

[14:54:00.0000] <MikeSmith>
well, that should be fixed

[14:54:01.0000] <MikeSmith>
should get fixe

[14:56:00.0000] <inimino>
MikeSmith ⋱ Ah, I think that's what I started with too, then did you do the rest by hand?

[14:58:00.0000] <MikeSmith>
inimino: did the by postprocessing with some custom scripts, regular-expression replacements in vim, and some manual tweaks

[14:59:00.0000] <inimino>
cool

[15:00:00.0000] <inimino>
looks great

[15:08:00.0000] <MikeSmith>
inimino: would be great to have some actual annotations added

[15:10:00.0000] <MikeSmith>
I think forking and pull requests would be a good way to manage collaboration on the annotations

[15:10:01.0000] <MikeSmith>
but other ideas would be welcom

[15:12:00.0000] <inimino>
Ah, I hadn't thought about adding annotations but it could be useful.

[15:14:00.0000] <annevk>
MikeSmith, it's being planned

[15:18:00.0000] <annevk>
Deadmau5 is chill

[15:21:00.0000] <cardona507>
can anyone point me toward a chart that shows HTML5 support in iOS and Android devices?

[15:24:00.0000] <MikeSmith>
annevk: ok

[15:24:01.0000] <MikeSmith>
btw, http://twitter.com/james_clark/status/25542207709

[15:25:00.0000] <MikeSmith>
「@ndw Good luck! I think they are beyond help in many ways, but it is noble of you to try.」

[15:25:01.0000] <MikeSmith>
they  = us

[15:25:02.0000] <MikeSmith>
I guess

[15:26:00.0000] <annevk>
whoa, James Clark comments

[15:26:01.0000] <annevk>
I think that might be a first, no?

[15:28:00.0000] <MikeSmith>
first I can recall seeing at least

[15:28:01.0000] <MikeSmith>
ringing vote of confidence

[15:28:02.0000] <MikeSmith>
I suggest we all take a moment to pat ourselves on the back

[15:29:00.0000] <annevk>
asked on twitter

[15:30:00.0000] <MikeSmith>
"beyond help" means "don't need any help", right?

[15:31:00.0000] <hober>
AryehGregor: thanks for replying to the ISSUE-41 poll!

[15:31:01.0000] <AryehGregor>
I was the only one, last I checked.

[15:31:02.0000] <annevk>
MikeSmith, it is "noble to try" suggests he's not pleased :)

[15:33:00.0000] <AryehGregor>
Who's James Clark?

[15:34:00.0000] <jacobolus>
is useCapture a required argument in firefox's addEventListener?

[15:34:01.0000] <jgraham>
yes

[15:34:02.0000] <jacobolus>
in Safari it doesn't matter if I leave it off, but in Firefox leaving it off makes it barf

[15:34:03.0000] <Firefox>
/me barfs

[15:34:04.0000] <MikeSmith>
"it is noble of you try to try, but clearly no help is needed" is obviously what he meant

[15:34:05.0000] <jgraham>
g.org/ -- logs: http://krijnhoetmer.nl/irc-logs/ -- stats: http://gavinsharp.com/irc/whatwg

[15:34:06.0000] <jgraham>
16:29 < MikeSmith> btw, http://twitter.com/james_clark/status/25542207709

[15:34:07.0000] <jgraham>
Oops

[15:34:08.0000] <jgraham>
Sorry

[15:35:00.0000] <jgraham>
Terminal.app decided I was trying to drag text

[15:35:01.0000] <jacobolus>
jgraham: was that 'yes' directed at me?

[15:35:02.0000] <jgraham>
jacobolus: Yes

[15:36:00.0000] <jacobolus>
jgraham: is there a reason it's optional in safari & required in ff?

[15:37:00.0000] <jacobolus>
or is that just to make sure we're paying attention and test everywhere

[15:38:00.0000] <annevk>
AryehGregor, guy who wrote / designed / implemented XSLT, RelaxNG, and more such things

[15:38:01.0000] <AryehGregor>
Ah.

[15:40:00.0000] <jgraham>
jacobolus: I see no evidence in the spec it is optional

[15:40:01.0000] <jgraham>
Though it is pretty dumb to make it required IMHO

[15:41:00.0000] <hober>
annevk: don't forget nxml-mode

[15:41:01.0000] <jgraham>
AryehGregor: By all accounts, James Clarke is a genius. But a tragically XML-obsessed genius :)

[15:42:00.0000] <jgraham>
s/e//

[15:43:00.0000] <jacobolus>
grumble grumble spotty café wifi (I missed anything after my last comment)

[15:43:01.0000] <MikeSmith>
I think James has in recent years been more critical of XML in recent years

[15:43:02.0000] <MikeSmith>
about shortcomings in XML

[15:43:03.0000] <MikeSmith>
e.g., his post about XML namespaces

[15:44:00.0000] <MikeSmith>
http://blog.jclark.com/2010/01/xml-namespaces.html

[15:45:00.0000] <jgraham>
jacobolus: I don't think so. useCapture appears to be required. Arguably it should be optional. Per current specs you would conclude that it should raise TypeError if missing

[15:45:01.0000] <MikeSmith>
"On the one hand, the pain that is caused by XML Namespaces seems massively out of proportion to the benefits that they provide."

[15:45:02.0000] <MikeSmith>
etc.

[15:45:03.0000] <jacobolus>
jgraham: okay. that's what it does in FF

[15:45:04.0000] <jgraham>
Oh, @ping landed in webkit

[15:45:05.0000] <jacobolus>
(ff 3.6)

[15:46:00.0000] <annevk>
MikeSmith, yeah, he has a sense of perspective, so it'd be really interesting to hear his thoughts

[15:46:01.0000] <jacobolus>
jgraham: I think my confusion was just because jquery's function which does the same makes that arg. optional

[15:47:00.0000] <jacobolus>
and then because safari seemed to do the same

[15:47:01.0000] <MikeSmith>
annevk: true, seriously speaking, it would be great to hear some specifics about what he believes the problems are

[15:47:02.0000] <jgraham>
jacobolus: I miss out that parameter by mistake rather often

[15:49:00.0000] <annevk>
MikeSmith, I started following him in twitter and replied

[15:49:01.0000] <annevk>
MikeSmith, not really sure what protocol is on twitter to get someone's attention, but hopefully this works

[15:50:00.0000] <MikeSmith>
yeah, I think an @ reply will work

[15:54:00.0000] <MikeSmith>
annevk: though, it's only 6am or so in Thailand, so I suspect he might not respond for a while yet

[15:55:00.0000] <annevk>
Peter`, "Dave Hyatt has started working on supporting the https://bugs.webkit.org/show_bug.cgi?id=46123."

[15:55:01.0000] <annevk>
Peter-, prolly wanna add some text there :)

[15:56:00.0000] <annevk>
Peter`, also, compareDocumentPosition()?!

[15:57:00.0000] <annevk>
http://weblogs.mozillazine.org/bz/archives/020692.html lol

[15:57:01.0000] <zcorpan>
webkit developers are working against annevk by implementing dom3core stuff :)

[15:57:02.0000] <annevk>
I wonder what the story behind onsearch is

[15:58:00.0000] <annevk>
zcorpan, missed that, where?

[15:59:00.0000] <zcorpan>
annevk: you mentioned compareDocumentPosition above, and there was something in the Attr thread before

[16:00:00.0000] <annevk>
oh, compareDocumentPosition is something I try to get Peter- to define (and test)

[16:00:01.0000] <annevk>
it's something we'll have to keep for sure

[16:00:02.0000] <zcorpan>
ah

[16:00:03.0000] <annevk>
yeah, that Attr message was somewhat odd

[16:01:00.0000] <annevk>
after the FPWD of Web DOM Core I'll release Acid4 which tests for non-Attr support

[16:01:01.0000] <annevk>
o_O

[16:02:00.0000] <zcorpan>
Acid4: only testing things that have been in FPWD for at least a week

[16:03:00.0000] <annevk>
Acid4: also things annevk was annoyed at the time

[16:04:00.0000] <annevk>
annoyed by, even

[16:04:01.0000] <zcorpan>
annoyed by the time?

[16:04:02.0000] <annevk>
how about annoyed by at the time?

[16:04:03.0000] <annevk>
anyway....

[16:17:00.0000] <jacobolus>
okay, another question. in firefox 3.6, if I start dragging an svg shape really fast, it interprets it as I want to drag an image to my desktop or something, and shows a little square that I can drag around

[16:17:01.0000] <jacobolus>
(it doesn't actually save anything useful on my desktop (OS X 10.5) -- just an empty text clipping)

[16:17:02.0000] <jacobolus>
anyway, this interferes with my ability to do my own mouse handling when it happens. is there any way to prevent it, does anyone know?

[16:22:00.0000] <jacobolus>
example: http://www.hcs.harvard.edu/~jrus/sbg/workflow-pane-experiment1.html

[16:40:00.0000] <jacobolus>
do I need to add a callback and stick event.preventDefault on every single svg object?

[16:42:00.0000] <jacobolus>
nm, I seem to have figured out a reasonable way out

[16:57:00.0000] <Hixie>
does leif go out of his way to make his bug reports unreadable, or is he using some browser that is buggy or something? http://www.w3.org/Bugs/Public/show_bug.cgi?id=10604

[16:57:01.0000] <Hixie>
i get a headache just trying to read that

[16:59:00.0000] <hober>
Hixie: I usually have a hard time understanding his emails


2010-09-28
[17:00:00.0000] <Hixie>
i'm not even talking about what he's saying

[17:00:01.0000] <Hixie>
just the formatting

[17:06:00.0000] <zcorpan>
Hixie: my guess is that bugzilla made his lines wrap

[17:06:01.0000] <AryehGregor>
Yes, he must have composed the thing in something that wraps lines, then Bugzilla re-wrapped them.

[17:47:00.0000] <AryehGregor>
sicking, are you going to comment further on bug 586763, or you're just saying r+ and that's it?  Also, who should I ask for superreview?

[17:48:00.0000] <sicking>
AryehGregor: wasn't planning on any further comments, patch looked good

[17:48:01.0000] <sicking>
AryehGregor: i'm sure I can come up with some changes if you really want me to? :)

[17:48:02.0000] <AryehGregor>
/me is really quite surprised that there's only one response on decentralized-extensibility so far after four days -- didn't other issues almost always get more comments faster?

[17:49:00.0000] <AryehGregor>
sicking, no, it's fine.  I just wondered if you were writing up a reply now or something (although I guess that makes no sense, Bugzilla UI lets you set r+ at the same time as commenting).  Who should I ask for superreview?

[17:49:01.0000] <Hixie>
sicking: btw, while i have you here, did you see the muted="" discussion on whatwg?

[17:50:00.0000] <Hixie>
sicking: http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-September/028755.html

[17:52:00.0000] <sicking>
AryehGregor: :jst is a good sr for that bug

[17:52:01.0000] <sicking>
Hixie: looking...

[17:52:02.0000] <sicking>
Hixie: yeah, i did see that

[17:52:03.0000] <Hixie>
sicking: specifically, you said you wanted muted="" and .muted to reflect each other, but i am worried that would set a bad precedent

[17:52:04.0000] <Hixie>
sicking: and am curious if my proposal of a defaultmuted="" and .defaultMuted would be ok instead

[17:52:05.0000] <Hixie>
(maybe with a better name)

[17:52:06.0000] <Hixie>
(if i can find one)

[17:53:00.0000] <sicking>
Hixie: was your concern mutating the dom during parsing? That i agree shouldn't happen, but i don't understand why it would

[17:53:01.0000] <Hixie>
yes

[17:53:02.0000] <Hixie>
let me explain:

[17:53:03.0000] <Hixie>
suppose the user has set his defaults to always mute videos

[17:53:04.0000] <Hixie>
so .muted is always true

[17:54:00.0000] <Hixie>
now support you have a page with <video src="x.ogg"></video>

[17:54:01.0000] <Hixie>
for .muted to be true, the element now needs a muted="" attribute, if it's reflecting

[17:54:02.0000] <AryehGregor>
Why does the default value of .muted depend on user preference?  That seems like it will cause lots of bugs, since authors will assume it defaults to false across the board.

[17:54:03.0000] <Hixie>
sicking: so either the user preference doesn't apply, or the reflection breaks, or the DOM mutates

[17:54:04.0000] <AryehGregor>
And if they realize it doesn't, then the logical thing to do would be to just set .muted = false always right away.

[17:55:00.0000] <AryehGregor>
Why not have the preference be invisible to the author?

[17:55:01.0000] <AryehGregor>
That's how preferences generally work, no?

[17:55:02.0000] <Hixie>
the API is exposing the UI here

[17:55:03.0000] <Hixie>
if we don't expose the user preference, the UI will be out of sync

[17:56:00.0000] <sicking>
Hixie: i wouldn't expect user settings to be reflected in .muted?

[17:56:01.0000] <sicking>
Hixie: or is it expected that there will be user settings that the page can override?

[17:57:00.0000] <AryehGregor>
The UI won't be out of sync.  It's just that there are multiple levels of muting, logically.

[17:57:01.0000] <AryehGregor>
So for instance, if I mute at the OS level, an individual application's UI still thinks it's unmuted.

[17:57:02.0000] <Hixie>
if the controls don't say "muted", but the audio doesn't play, that will be very confusing.

[17:57:03.0000] <AryehGregor>
If I turn off my speaker, the OS will still think it's unmuted.

[17:57:04.0000] <AryehGregor>
Similarly, if the user tells the browser to mute things, the page doesn't have to know about it.

[17:58:00.0000] <AryehGregor>
Having the default value of an attribute reflect user preference seems like a really bad idea overall.  Is there any precedent for it?

[17:58:01.0000] <AryehGregor>
It will make things extremely inconsistent for authors.

[17:59:00.0000] <Hixie>
how would it be inconsistent? the whole point here is to have an API that lets you build a UI that the user can use

[17:59:01.0000] <Hixie>
users aren't going to want to unmute the video in 2 places

[17:59:02.0000] <Hixie>
they're just going to click the video's unmute button

[17:59:03.0000] <AryehGregor>
It's extremely inconsistent from an author perspective, because 98.6% of users will have it set to false by default, so they'll assume it's always set to false.

[17:59:04.0000] <AryehGregor>
Then their scripts will break when someone actually has the preference set to true.

[18:00:00.0000] <Hixie>
why would a script in any way depend on this

[18:00:01.0000] <AryehGregor>
Is that a serious question?

[18:00:02.0000] <AryehGregor>
Do I need to refer you to the topic?  :)

[18:00:03.0000] <AryehGregor>
But it's very likely.

[18:01:00.0000] <Hixie>
can you give an example?

[18:01:01.0000] <AryehGregor>
E.g., you have a button you show for "muted" and another for "unmuted".

[18:01:02.0000] <AryehGregor>
When you initialize the UI, you start off with the "unmuted" button presented.

[18:01:03.0000] <AryehGregor>
Because that's always correct when you test it.

[18:01:04.0000] <AryehGregor>
Then when the user clicks, you mute and set the muted attribute, or unmute and unset it.

[18:01:05.0000] <AryehGregor>
This will display incorrectly if the muted attribute is ever true by default.

[18:02:00.0000] <Hixie>
that's hardly "broken", it just means the user will have to click twice

[18:02:01.0000] <AryehGregor>
It's buggy.

[18:02:02.0000] <AryehGregor>
Moreover, exposing the preference this way lets authors override user preferences, which is wrong.

[18:02:03.0000] <Hixie>
the whole point of this API is to let authors override the user's preferences

[18:02:04.0000] <AryehGregor>
My first reaction as an author if I hit this situation would be "set muted to false when I initialize the controls, that way it's consistent".

[18:03:00.0000] <AryehGregor>
Is it?  I thought the point is to allow them to implement their own UI for things like muting.

[18:03:01.0000] <AryehGregor>
If the user wants all videos to be muted until they unmute them explicitly, the page shouldn't be able to override that.

[18:04:00.0000] <AryehGregor>
All this goes for volume too, by the way.

[18:04:01.0000] <AryehGregor>
These should have a single fixed default value, they shouldn't depend on user preference.

[18:04:02.0000] <Hixie>
if the user's preference is that the video start playing when they click play, but the author starts playing when they want, they're overriding the user's preference

[18:04:03.0000] <AryehGregor>
Users are used to having several levels of volume control that multiply together, and likewise several levels of muting.

[18:05:00.0000] <AryehGregor>
Yes, so if the browser allowed the user to express such a preference, the browser would have to ignore play() unless the user triggered it.

[18:05:01.0000] <AryehGregor>
But this is all theoretical.

[18:05:02.0000] <AryehGregor>
Do you have any reason to believe that browsers will want to implement such preferences in such a fashion?

[18:05:03.0000] <AryehGregor>
I doubt it.

[18:06:00.0000] <Hixie>
i don't have any reason to believe browsers will want to implement anything other than just providing authors with a default as to whether to start muted or not either

[18:06:01.0000] <AryehGregor>
I don't follow.

[18:06:02.0000] <Hixie>
i'm saying the spec is fine

[18:07:00.0000] <AryehGregor>
I'm saying browsers will ignore the whole "the muted state may start as muted" thing and just always start it as false.

[18:07:01.0000] <AryehGregor>
So your concern about reflecting is not practically relevant, you'd just have to remove that provision, which will be unused forever anyway.

[18:07:02.0000] <Hixie>
and have a separate per-tab mute control? ew

[18:07:03.0000] <AryehGregor>
Am I wrong?  Does any browser ever start it off as true?

[18:08:00.0000] <Hixie>
well right now they barely implement the basics of the API, so it's too early to really say what's going to happen

[18:08:01.0000] <AryehGregor>
You could ask them.

[18:08:02.0000] <Hixie>
i've not found that to be a reliably indicator :-)

[18:08:03.0000] <Hixie>
reliable

[18:10:00.0000] <AryehGregor>
Well, if I'm right, your defaultMuted API is a pretty bad idea.

[18:11:00.0000] <Hixie>
but if i'm right, the muted API is even worse :-)

[18:11:01.0000] <Hixie>
(as a content attribute, i mean)

[18:12:00.0000] <AryehGregor>
Yes, certainly.

[18:15:00.0000] <Hixie>
i love how all the people using the whatwg style sheet now having a spinning circle in their header because they don't also run the script that gets rid of it :-)

[18:15:01.0000] <Hixie>
(e.g. http://dvcs.w3.org/hg/domcore/raw-file/tip/Overview.html#historical )

[18:15:02.0000] <Hixie>
er

[18:15:03.0000] <Hixie>
minus the #historical

[18:19:00.0000] <david_carlisle>
Hixie (or anyone else who's managed to embed the html parser in their head better than I have), is there an example that can help me see what effect the diff at

[18:19:01.0000] <david_carlisle>
http://html5.org/tools/web-apps-tracker?from=5520&to=5521

[18:19:02.0000] <david_carlisle>
makes for mathml in html?

[18:19:03.0000] <Hixie>
nothing if your markup is valid

[18:19:04.0000] <david_carlisle>
oh I'll go to bed then, night

[18:20:00.0000] <Hixie>
:-)

[18:20:01.0000] <Hixie>
it's stunning how much more time figuring out how to parse invalid content has taken

[18:21:00.0000] <Hixie>
is taking

[18:22:00.0000] <david_carlisle>
well has anyone suggested a draconian model where anyone who submits invalid content is hung drawn and quartered? I believe that was popular around 1998

[18:22:01.0000] <david_carlisle>
that way you don't need to worry about it

[18:22:02.0000] <Hixie>
lots of people have suggested it :-)

[18:23:00.0000] <david_carlisle>
good night, I really am going this time.

[19:23:00.0000] <MikeSmith>
hamaji: you at the GDD 2010 event today?

[20:02:00.0000] <macpherson_ojan>
Hixie: yt? we are looking at some XHR issues that point to the XML fragment serialization algorithm.

[20:03:00.0000] <macpherson_ojan>
Hixie: not quite sure why the spec lists all the exceptions

[20:03:01.0000] <macpherson_ojan>
Hixie: unless we're testing it wrong, it doesn't seem that any browser fires these exceptions

[20:04:00.0000] <macpherson_ojan>
Hixie: e.g. serializing an element node with two attributes with the same local name doesn't give an exception in any browser

[20:04:01.0000] <macpherson_ojan>
Hixie: is using an xhtml strict doctype the correct way to this this algoritm?

[20:04:02.0000] <macpherson_ojan>
s/this this/hit this

[20:05:00.0000] <macpherson_ojan>
Hixie: http://tc.labs.opera.com/apis/XMLHttpRequest/send-entity-body-document-bogus.htm expects an error because of this, but it's not clear to us that it's worth implementing all these exceptions

[20:38:00.0000] <Hixie>
macpherson: well we have to do something, throwing an exception seemed like a simple thing to spec

[20:38:01.0000] <Hixie>
macpherson: if there's something else we can do, we can spec that

[20:55:00.0000] <macpherson>
Hixie: ojan is at lunch and will have more input, but our observation is that existing browsers don't throw an exception, but instead produce sanitized output

[20:55:01.0000] <Hixie>
works for me

[20:56:00.0000] <Hixie>
file a bug saying how each bug is to be sanitised and i'll spec that instead

[20:56:01.0000] <macpherson>
Hixie: will do. thanks.

[21:10:00.0000] <ojan_>
Hixie: is filing a bug better than emailing whatwg@?

[21:11:00.0000] <ojan_>
Hixie: also, are we testing this correctly? is using an XHTML strict doctype and then grabbing innerHTML or outerHTML the right way to hit what is supposed to be this codepath?

[21:25:00.0000] <Hixie>
ojan_: bug or e-mail makes no difference in practice

[21:26:00.0000] <Hixie>
ojan_: so long as you're in XML, the DOCTYPE shouldn't matter

[21:26:01.0000] <ojan_>
Hixie: so, what do i need to do in order to hit this codepath to see what browsers do?

[21:37:00.0000] <Hixie>
ojan_: simplest way is probably to use createDocument() to generate an XML doc, and then generate its DOM using the createElement() and company and then serialise that

[21:37:01.0000] <Hixie>
probably with innerHTML if that's supported

[21:37:02.0000] <ojan_>
Hixie: ok, that's what i thought, just wanted to make sure i understood. we'll give that a go

[21:38:00.0000] <Hixie>
you can also use XHR or just navigate straight to an XML doc, and the mutate it into the bogus state

[21:38:01.0000] <ojan_>
Hixie: FWIW, XHR doesn't seem to hit at least one of these exception cases in any browser

[21:40:00.0000] <ojan_>
Hixie: should an XHTML document hit this?

[21:41:00.0000] <ojan_>
Hixie: i tried an RSS feed and none of the nodes have an innerHTML/outerHTML

[21:41:01.0000] <Hixie>
what do you mean by "an XHTML document"?

[21:42:00.0000] <wirepair>
Hixie, i had a question for you regarding the use case for the Document open's replace ability. I searched mailing lists and the rationale wiki and couldn't find anything. Any thoughts?

[21:42:01.0000] <wirepair>
(http://dev.w3.org/html5/spec/Overview.html#dom-document-open if you need a refresher)

[21:42:02.0000] <ojan_>
Hixie: a .xhtml file that is proper xhtml?

[21:42:03.0000] <Hixie>
ojan_: if you mean xml, then yes

[21:42:04.0000] <Hixie>
wirepair: what's the question?

[21:43:00.0000] <wirepair>
like what is the purpose/use of document.open having a replace flag

[21:43:01.0000] <wirepair>
Causes the Document to be replaced in-place, as if it was a new Document object, but reusing the previous object, which is then returned. 

[21:43:02.0000] <wirepair>
as in, why would anyone want that

[21:43:03.0000] <Hixie>
no idea

[21:43:04.0000] <ojan_>
Hixie: i guess the part i'm confused by, is what causes a page to be considered an HTML document.

[21:43:05.0000] <Hixie>
ojan_: the MIME type

[21:43:06.0000] <Hixie>
ojan_: text/html = HTML

[21:44:00.0000] <ojan_>
Hixie: hm. ok.

[21:44:01.0000] <Hixie>
ojan_: text/xml = XML

[21:44:02.0000] <Hixie>
wirepair: document.open() as a whole seems a bit weird to me

[21:44:03.0000] <crankharder>
it this a good forum for a WebDB question?

[21:44:04.0000] <Hixie>
wirepair: it's all historical at this point

[21:45:00.0000] <Hixie>
crankharder: if you mean Web SQL Database, then yes, but be aware that it's essentially dead

[21:45:01.0000] <wirepair>
yeah

[21:45:02.0000] <wirepair>
ok was just curious if there was a particular reason, as i see no mention of it on mailing lists, it just sort of 'appeared' in the spec as far as i can tell

[21:45:03.0000] <wirepair>
thanks :)

[21:45:04.0000] <crankharder>
Hixie: it is? :(

[21:46:00.0000] <ojan_>
Hixie: ah. i am now able to reproduce some of these errors :)

[21:46:01.0000] <crankharder>
whats the backstory on that?

[21:46:02.0000] <Hixie>
wirepair: it appeared because it was pointed out that it was needed for back compat, i would imagine

[21:46:03.0000] <Hixie>
crankharder: yeah, mozilla and microsoft said no to implementing it, so we gave up

[21:47:00.0000] <Hixie>
crankharder: Web Indexed DB is replacing it in spirit

[21:47:01.0000] <Hixie>
crankharder: but i don't work on that

[21:47:02.0000] <crankharder>
I was totally find w/ telling users to get FF/chrome <sadface>

[21:48:00.0000] <Hixie>
FF didn't do it

[21:48:01.0000] <Hixie>
:-)

[21:48:02.0000] <Hixie>
FF = mozilla

[21:48:03.0000] <crankharder>
is this what i want? http://dvcs.w3.org/hg/IndexedDB/raw-file/tip/Overview.html

[21:48:04.0000] <crankharder>
probably not implemented, eh?

[21:58:00.0000] <ojan_>
Hixie: anyways, sorry for all the questions. i understand the situation now.

[21:58:01.0000] <ojan_>
Hixie: the html5 spec seems fine. we might need to tweak XHR though.

[21:59:00.0000] <ojan_>
not sure yet.

[22:06:00.0000] <Hixie>
ojan_: k

[22:06:01.0000] <Hixie>
crankharder: url looks right, dunno off-hand though

[22:57:00.0000] <micheil>
MikeSmith: yeah, the validator for css is still a little slow.

[22:57:01.0000] <micheil>
but it's quicker then it was yesterday afternoon

[23:12:00.0000] <Hixie>
I'm interested in the opinion of others on the usefulness of having an element to convey the semantic "indicates that the contents are no longer accurate or no longer relevant". www.w3.org/Bugs/Public/show_bug.cgi?id=9429

[23:13:00.0000] <micheil>
yeah, it'd probably be useful

[23:13:01.0000] <micheil>
or, put it, I could see use-cases

[23:14:00.0000] <micheil>
especially in the realtime arena, for instance with applications like Storify, where facts may change very quickly, making old data on the page become out-dated

[23:15:00.0000] <micheil>
I might write up a reply on that ticket later; after I've finished this judging..

[23:49:00.0000] <abarth>
othermaciej: the issue about NPN not working for Java is sadface

[23:50:00.0000] <othermaciej>
abarth: yeah, though it would be sad to design the protocol around JDK release cycles...

[23:51:00.0000] <othermaciej>
I tend to think products like RoR or Node.js or Django will be the killer early adopters

[23:51:01.0000] <othermaciej>
that or a good apache module that integrates with some popular scripting language commonly used via Apache (PHP?)

[23:52:00.0000] <abarth>
i should learn more about node.js

[23:52:01.0000] <abarth>
it seems to be the new hotness

[23:52:02.0000] <othermaciej>
abarth: do you think we sound like Roy Fielding in our responses to Greg?

[23:53:00.0000] <abarth>
to some extent, probably

[23:53:01.0000] <abarth>
in retrospect, i was a bit too harsh

[23:53:02.0000] <othermaciej>
I try to balance any perceived harumphing with detailed explanations of the actual issues but he seems to skip over that part

[23:53:03.0000] <abarth>
i get along much better with roy no that I assume he has good intentions

[23:53:04.0000] <abarth>
and is just tired of talking with folks who don't understand http

[23:54:00.0000] <abarth>
s/no/now

[23:54:01.0000] <othermaciej>
of course he has good intentions - no one is the villain of their own story, in real life

[23:54:02.0000] <abarth>
like the bit about 307 and notifying users

[23:55:00.0000] <abarth>
he's right that browsers screwed this up a long time ago

[23:55:01.0000] <othermaciej>
what's the "this" that browsers screwed up?

[23:56:00.0000] <abarth>
allowing cross-origin non-safe methods

[23:56:01.0000] <othermaciej>
in a way 307 only exists because browsers screwed up on implementing the other 3xx codes

[23:56:02.0000] <othermaciej>
well that's a fair point

[23:56:03.0000] <othermaciej>
CSRF is a direct consequence

[23:57:00.0000] <othermaciej>
although disallowing it or making it opt-in might have made the Web in some ways less open, or led to more abuse of GET for unsafe operations

[23:57:01.0000] <abarth>
there's an opportunity to do something better with PUT

[23:57:02.0000] <othermaciej>
however, user notification is not really a solution

[23:57:03.0000] <othermaciej>
do you think there's anything good we can do for PUT in forms, or should we just drop that?

[23:58:00.0000] <abarth>
ignoring semantics for a moment

[23:58:01.0000] <abarth>
if all browsers had PUT forms

[23:58:02.0000] <othermaciej>
my inclination: drop b/c it doesn't have much of a use case as a form method

[23:58:03.0000] <abarth>
that only worked same-origin

[23:58:04.0000] <abarth>
that would be fantastic

[23:58:05.0000] <abarth>
basically, you'd just use PUT when you wanted CSRF protection

[23:59:00.0000] <othermaciej>
that's an interesting suggestion, although it would violate HTTP, including in ways that may have a material effect

[23:59:01.0000] <othermaciej>
(PUT is idempotent, POST is not)

[23:59:02.0000] <abarth>
can we invent a new method

[23:59:03.0000] <abarth>
that is not idempotent

[23:59:04.0000] <othermaciej>
POST2?

[00:00:00.0000] <Hixie>
LOCAL-POST

[00:00:01.0000] <abarth>
POST_THE_WAY_IT_WAS_SUPPOSED_TO_BE_DARN_IT

[00:00:02.0000] <othermaciej>
what about sites composed of multiple domains that want CSRF protection against servers outside that set?

[00:00:03.0000] <abarth>
CORS

[00:01:00.0000] <othermaciej>
I guess they can just use POST + Origin check + secret token

[00:01:01.0000] <abarth>
all these things run into confused deputy problems

[00:01:02.0000] <abarth>
if you POST2 to URLs of the attacker's choice

[00:01:03.0000] <othermaciej>
true

[00:02:00.0000] <othermaciej>
though that would be somewhat unlikely, if you can't POST2 cross-origin

[00:02:01.0000] <abarth>
there are deeper problems here if you want protection from active network attackers

[00:03:00.0000] <othermaciej>
(presumably the case where you dereference a URL to yourself unexpectedly is when you expect your counterparty to give you a third-party URL)

[00:03:01.0000] <abarth>
the fact that the network attacker can overwrite your cookies kind of screws you

[00:03:02.0000] <othermaciej>
can overwriting cookies have worse consequences than making a transaction fail, in the CSRF-type scenario?

[00:04:00.0000] <abarth>
we're writing a paper about this stuff now

[00:04:01.0000] <abarth>
it turns out that CSRF is only half the equation

[00:05:00.0000] <abarth>
that's about the server changing state because it thought a request came from the client

[00:05:01.0000] <abarth>
the flip side of that

[00:05:02.0000] <abarth>
is the client changing state because of a response sent by the server

[00:05:03.0000] <abarth>
when the attacker overwrites the user's cookies

[00:05:04.0000] <abarth>
the server thinks its sending the response to the attacker

[00:05:05.0000] <abarth>
but the response arrives at the client's machine

[00:07:00.0000] <abarth>
http://pastebin.com/Ui8ZXvVj

[00:07:01.0000] <abarth>
is a painfully detailed explaination

[00:07:02.0000] <othermaciej>
cookies suck

[00:07:03.0000] <abarth>
of what can go wrong

[00:07:04.0000] <abarth>
(not sure why the numbers show up twice)

[00:08:00.0000] <othermaciej>
why is she called "The Alice"?

[00:08:01.0000] <abarth>
haha

[00:08:02.0000] <abarth>
i think it used to say "the user"

[00:09:00.0000] <abarth>
the paper is very rough at the moment

[00:09:01.0000] <othermaciej>
clever

[00:09:02.0000] <othermaciej>
this reminds me of an attack against a university's online auth protocol in a paper that someone (maybe you?) pointed me to

[00:10:00.0000] <abarth>
yes

[00:10:01.0000] <abarth>
it's similar to that

[00:10:02.0000] <abarth>
in that the attacker spams his credentials onto the user's browser

[00:10:03.0000] <othermaciej>
would this work against HTTPS?

[00:10:04.0000] <abarth>
yes

[00:10:05.0000] <abarth>
HTTP can overwrite HTTPS cookies

[00:10:06.0000] <abarth>
cookie provide confidentiality but not integrity

[00:11:00.0000] <abarth>
it works against OAuth / OpenID too, as far as we can tell

[00:11:01.0000] <othermaciej>
I see, example.com doesn't even need to actually have port 80 open for this to work

[00:11:02.0000] <abarth>
right

[00:11:03.0000] <othermaciej>
evil!

[00:11:04.0000] <abarth>
a web site can actually defend against it today, but it's a big pain

[00:12:00.0000] <abarth>
you need to store a nonce in localStorage

[00:12:01.0000] <abarth>
since localStorage actually respects the same-origin policy

[00:12:02.0000] <abarth>
then you send the nonce explicitly in every request in a custom HTTP header

[00:12:03.0000] <abarth>
b/c custom HTTP headers cannot be sent across origins (without opt-in)

[00:12:04.0000] <abarth>
but that means you are restricted to only using XMLHttpRequest to communicate with the server

[00:14:00.0000] <Hixie>
wait, you can set cookies on port 80 that get sent on port 443?

[00:14:01.0000] <abarth>
yes

[00:14:02.0000] <Hixie>
what kind of crazy nonsense is that!

[00:14:03.0000] <abarth>
cookies don't care about ports

[00:14:04.0000] <abarth>
cookie are insane technology from a bygone era

[00:14:05.0000] <Hixie>
wow i had no idea

[00:14:06.0000] <Hixie>
that is so utterly bogus

[00:15:00.0000] <abarth>
building something better is actually really easy

[00:15:01.0000] <abarth>
you just have a nonce for each origin

[00:15:02.0000] <abarth>
that the browser makes up itself

[00:15:03.0000] <abarth>
and then it sends in a header

[00:15:04.0000] <abarth>
with every request

[00:15:05.0000] <abarth>
to that origin

[00:15:06.0000] <Hixie>
it's even easier than that... just don't cross origins when setting cookies!

[00:16:00.0000] <abarth>
unfortunately, a couple important sites use cookies ;)

[00:18:00.0000] <Hixie>
oh you mean building something better that's compatible with the world today

[00:19:00.0000] <Hixie>
per-origin nonces would be a privacy leak unfortunately

[00:20:00.0000] <Hixie>
but you could use the new thing we have to ensure use of TLS to also ensure that cookies don't get set cross-origin

[00:20:01.0000] <abarth>
why are per-origin nonce more of a privacy leak than localStorage?

[00:21:00.0000] <Hixie>
because the user has no way to know the origin is using it

[00:24:00.0000] <abarth>
i see.  i just assume every web site i visit is setting a cookie

[00:24:01.0000] <othermaciej>
abarth: I think the UI parts of your attack don't quite connect

[00:24:02.0000] <abarth>
because Alice ends up with two tabs to example.com?

[00:24:03.0000] <othermaciej>
how does the request in step 8 result in the experience in step 11?

[00:25:00.0000] <othermaciej>
Alice was looking at a specific window/tab, and the request in step 8 won't affect what that original tab displays

[00:25:01.0000] <abarth>
it's slightly tricky to arrange for it to be picture perfect

[00:25:02.0000] <abarth>
but you can certainly do it with a UI flash if

[00:26:00.0000] <othermaciej>
in fact it seems like that original tab would tell Alice she wins, unless the network attacker somehow prevents the response from getting through, in which case it will seem to be waiting indefinitely

[00:26:01.0000] <abarth>
1) the original example.com tab has a name

[00:26:02.0000] <abarth>
2) the attacker can open a new tab for the results page on top of the old tab

[00:26:03.0000] <abarth>
3) the attacker can close the old tab

[00:27:00.0000] <abarth>
those three things revolve around how the original example.com tab came into existence

[00:27:01.0000] <othermaciej>
so either the attacker is the opener of the example.com tag, or has it enframed, or it somehow otherwise has a guessable reachable name

[00:28:00.0000] <abarth>
or the attacker can bypass the popup blocker and alice don't notice that a new tab has been created on top of the old tab

[00:28:01.0000] <abarth>
the security model doesn't prevent the attacker from doing any of these things

[00:28:02.0000] <abarth>
so we, pessimistically, assume that the attacker can do whatever isn't forbidden by a security property

[00:29:00.0000] <abarth>
"tabnapping" is aza's term

[00:29:01.0000] <abarth>
but i think he's playing a joke on the security community

[00:29:02.0000] <abarth>
(although aza assumes users don't read the address bar, whereas we assume they do)

[00:42:00.0000] <othermaciej>
"tabnapping" as described by Aza seems to be based on some of the same assumptions as phishing

[00:43:00.0000] <othermaciej>
phishing (without spoofing the address field) is sometimes not considered a 

[00:43:01.0000] <othermaciej>
"real" attack, but evidence seems to be that it does really work

[00:43:02.0000] <Hixie>
abarth: we have data showing they don't, so it's not an unreasonable assumption ;-)

[00:43:03.0000] <othermaciej>
I can see how "tabnapping" could be more effective, because when switching tabs the user could be less vigilant than when following a link or clicking on a mysterious scary email

[00:44:00.0000] <abarth>
i suspect he's poking fun at the security community for inventing silly names for attacks

[01:27:00.0000] <othermaciej>
bugzilla queries seem to be broken :-)

[01:27:01.0000] <othermaciej>
er

[01:27:02.0000] <othermaciej>
:-(

[04:05:00.0000] <zcorpan>
othermaciej: it happens that editors drafts have an older date than a published draft, because the publication date is written down in the draft before it is actually published, and then the editor's draft could have changed back to editors draft before the actual publication date

[04:05:01.0000] <zcorpan>
othermaciej: not sure if that's the case with aria though

[04:05:02.0000] <othermaciej>
zcorpan: in this case there seems to be at least one missing edit in the ED that is in the WD

[04:06:00.0000] <zcorpan>
ah, ok

[04:09:00.0000] <annevk>
didn't get much back from @james_clark http://twitter.com/james_clark/status/25746086798

[04:17:00.0000] <jgraham>
Ah, twitter, that great conduit of intellectual discourse

[04:17:01.0000] <othermaciej>
jgraham: I somewhat regret paying more attention to the hybi list

[04:17:02.0000] <jgraham>
it seems strange to say that you don't like the porcess for something without saying what about the results of the process you don't like

[04:18:00.0000] <jgraham>
After all the two are tightly coupled

[04:18:01.0000] <jgraham>
othermaciej: I, on the other hand, am grateful for your contribution

[04:19:00.0000] <jgraham>
Although I am still concerned about hybi in general

[04:20:00.0000] <othermaciej>
I am a bit frustrated at repeatedly explaining cross-protocol attacks and my seeming inability to get the ideas across

[04:22:00.0000] <jgraham>
I guess it is subtle. I certianly don't fel like I have a deep understanding like you or abarth. And it is harder if you can't demonstrate a real exploit for proposals, only point out that they depend on weak assumptions

[04:23:00.0000] <jgraham>
I'm not sure giving up on the group now is good in the long run because you will ikely be one of the people who has to put out the fires if an exploit is found

[04:23:01.0000] <jgraham>
+l

[04:25:00.0000] <annevk>
hybi is so sad

[04:25:01.0000] <jgraham>
On the other hand, we may already have lost; -76 might gain enough traction that we are forced to support that handshake forever

[04:25:02.0000] <annevk>
we could've had something cool for developers by now

[04:26:00.0000] <jgraham>
We do, kind of

[04:28:00.0000] <annevk>
true

[04:31:00.0000] <zcorpan>
is accessKeyLabel another fingerprinting feature?

[04:35:00.0000] <annevk>
I suppose that depends on the complexity of user agent implementations

[04:35:01.0000] <annevk>
but I suspect you cannot get more from it than platform + user agent which are already exposed

[04:40:00.0000] <zcorpan>
if the browser chooses a key based on the user's keyboard layout, then it exposes information about the user's keyboard layout

[04:40:01.0000] <annevk>
yup

[05:45:00.0000] <annevk>
http://twitpic.com/2spyxf heh

[05:47:00.0000] <zcorpan>
so true

[05:47:01.0000] <annevk>
yeah, we don't really know what we want

[05:48:00.0000] <Firefox>
s/allready/already/

[06:01:00.0000] <loucapo>
good morning everyone

[06:02:00.0000] <loucapo>
i still could use some help with the xmlhttp request level 2

[06:04:00.0000] <annevk>
feel free to drop questions

[06:05:00.0000] <loucapo>
annevk...stuck at the same point i was yesterday

[06:06:00.0000] <annevk>
did you read the things I pointed out?

[06:06:01.0000] <annevk>
and did you check if the server handled preflight requests?

[06:07:00.0000] <loucapo>
i changed my content-type on the request to application/x-ww-form-urlencoded

[06:07:01.0000] <Philip`>
/me always reads that as "pref-light"

[06:07:02.0000] <loucapo>
yes the server definitely does handle them

[06:07:03.0000] <annevk>
what is the page again?

[06:08:00.0000] <loucapo>
http://ozoli.comuf.com

[06:08:01.0000] <loucapo>
the server is just a simple php page that responds with whatever code u enter into the querystring

[06:09:00.0000] <loucapo>
if u enter a 200 u can see the status 200 in the console

[06:09:01.0000] <loucapo>
if u enter a 304 for example, u see status is 0

[06:09:02.0000] <annevk>
so if the browser before doing the actual request does a request with OPTIONS the server handles that?

[06:10:00.0000] <annevk>
mkay

[06:10:01.0000] <loucapo>
sure

[06:10:02.0000] <loucapo>
and i set the allowed origin to be whatever the requested origin is, knowing thats not something i would do in production

[06:10:03.0000] <annevk>
check if the error event is dispatched on the XHR object

[06:11:00.0000] <annevk>
could just be a bug :/

[06:12:00.0000] <annevk>
loucapo, so WebKit says this in their console

[06:12:01.0000] <loucapo>
i thought in reading the spec a version or two ago it said if there is any error, treat it as a network error..then in reading the network error it seemed like it was supposed to return a 0

[06:12:02.0000] <annevk>
"XMLHttpRequest cannot load http://quitdev.host22.com/response.php?code=304. Origin http://ozoli.comuf.com is not allowed by Access-Control-Allow-Origin."

[06:12:03.0000] <loucapo>
yea, i think that is a bug...i didnt start to see that until i got the chrome dev channel

[06:13:00.0000] <annevk>
they also fail for 200

[06:13:01.0000] <loucapo>
do u know php?

[06:13:02.0000] <annevk>
yes

[06:13:03.0000] <loucapo>
here is what i have in the php page for that

[06:14:00.0000] <loucapo>
header('Acces-Control-Allow-Origin: '.$_SERVER['HTTP_ORIGIN']);

[06:14:01.0000] <loucapo>
oops, typo just then

[06:15:00.0000] <loucapo>
header('Access-Control-Allow-Origin: '.$_SERVER['HTTP_ORIGIN']);

[06:16:00.0000] <loucapo>
and the options call has this in the response: Access-Control-Allow-Orig...    http://ozoli.comuf.com

[06:18:00.0000] <annevk>
so as far as I can tell 304 does not work because the PHP script is bypassed or some such

[06:18:01.0000] <annevk>
at least when inspecting with curl

[06:19:00.0000] <loucapo>
its anything thats not a 200

[06:19:01.0000] <annevk>
curl --header "Origin: http://test/" http://quitdev.host22.com/response.php?code=501 --head

[06:19:02.0000] <annevk>
seemed alright to me

[06:19:03.0000] <annevk>
but maybe there's a bug in Minefield

[06:21:00.0000] <loucapo>
i mean there is noting in my php to do anything special based on the code

[06:22:00.0000] <loucapo>
i had a guy from google looking at this a few weeks back but he seems to have gotten pulled away

[06:22:01.0000] <Philip`>
Sounds like Apache might have something to do something special based on the code

[06:23:00.0000] <loucapo>
based on the code and if uxingXHR?

[06:24:00.0000] <loucapo>
cuz if i set them to the same domain this does not happen

[06:27:00.0000] <Philip`>
The curl command with ?code=304 doesn't give any of the extra headers, and with e.g. ?code=309 returns a "200 OK" instead, so it just looks like there's some rewriting happening after your PHP script

[06:27:01.0000] <Philip`>
regardless of how it's being accessed

[06:28:00.0000] <loucapo>
hmm, strange

[06:28:01.0000] <annevk>
but e.g. 402 works but fails in Firefox

[06:28:02.0000] <annevk>
afaict

[06:29:00.0000] <Firefox>
That’s right.

[06:29:01.0000] <annevk>
oh wait

[06:29:02.0000] <annevk>
loucapo, the OPTIONS request requires a 200 response

[06:30:00.0000] <annevk>
not sure if Firefox already requires that, but they might

[06:31:00.0000] <loucapo>
that is getting a 200 in my net

[06:36:00.0000] <annevk>
minefield's console says otherwise

[06:36:01.0000] <loucapo>
not sure what minefield is

[06:37:00.0000] <annevk>
Firefox nightlies

[06:38:00.0000] <loucapo>
i see

[06:38:01.0000] <loucapo>
whats it saying the satus is?

[06:40:00.0000] <annevk>
0, as it seems to be failing to process the preflight

[06:40:01.0000] <annevk>
per the console only one request is made

[06:41:00.0000] <annevk>
loucapo, if you remove the setting of custom headers as well you should not get a preflight

[06:41:01.0000] <annevk>
might make it easier to determine what goes wrong

[06:41:02.0000] <loucapo>
i thought preflight was required on cross origin

[06:42:00.0000] <annevk>
not always

[06:42:01.0000] <loucapo>
hmm

[06:42:02.0000] <loucapo>
let me see my headers

[06:43:00.0000] <annevk>
see http://dev.w3.org/2006/waf/access-control/#cross-origin-request

[06:43:01.0000] <loucapo>
what would u consider a custom header?

[06:43:02.0000] <loucapo>
x-requested-with?

[06:43:03.0000] <annevk>
yes

[06:43:04.0000] <annevk>
anything apart from this whitelist: http://dev.w3.org/2006/waf/access-control/#simple-header

[06:44:00.0000] <loucapo>
wait r u sure? i think u need x-requested with for cross origin to work

[06:44:01.0000] <annevk>
i am sure

[06:45:00.0000] <loucapo>
ok, removing

[06:46:00.0000] <loucapo>
when i do that Firefox fails the options call

[06:46:01.0000] <annevk>
it already did

[06:47:00.0000] <loucapo>
well i removed it

[06:47:01.0000] <loucapo>
now even 200 returns 0

[06:48:00.0000] <annevk>
did you write all the server code yourself?

[06:49:00.0000] <annevk>
i don't really see why x-requested-with would matter unless your server is depending on it somehow

[06:49:01.0000] <loucapo>
my colleague did, its quite short

[06:49:02.0000] <annevk>
anyway, at this point it might be better to go to stackoverflow.com or something

[06:54:00.0000] <loucapo>
i did post there

[06:55:00.0000] <loucapo>
got no answer

[06:55:01.0000] <loucapo>
lol, i just realized u edited the spec last

[06:55:02.0000] <annevk>
yes, I'm that person

[06:56:00.0000] <loucapo>
so i understand...u do not need to set x-requested-with on an ajax request using xmlhttprequest level 2?

[06:57:00.0000] <annevk>
you have never needed that, ever

[06:58:00.0000] <loucapo>
so to enable CORS, u just need to set the allow origin?

[06:58:01.0000] <loucapo>
btw...http://stackoverflow.com/questions/3440371/problem-using-html5-for-cross-origin-resource-sharing

[06:58:02.0000] <annevk>
xml:space is soo fucked up

[06:59:00.0000] <annevk>
loucapo, yes

[06:59:01.0000] <loucapo>
how intereting

[06:59:02.0000] <annevk>
loucapo, what the server needs to implement is explained here: http://dev.w3.org/2006/waf/access-control/#resource-processing-model

[07:00:00.0000] <loucapo>
reading

[07:05:00.0000] <loucapo>
i think i got all of what that section says

[07:06:00.0000] <loucapo>
hey miketaylr, i spoke to u via twitter a few weeks back and u sent me here...thanks for that.

[07:06:01.0000] <miketaylr>
heh, no problem

[07:07:00.0000] <loucapo>
though i still cant get it working

[07:07:01.0000] <loucapo>
sigh

[07:15:00.0000] <annevk>
loucapo, I don't really have the tools to look into it properly unfortunately

[07:16:00.0000] <annevk>
loucapo, if sshfs was not such a pain on Mac I would have made something working

[07:16:01.0000] <annevk>
I guess I should learn vim or emacs or another sucky terminal editor so I don't have to bother with sshfs

[07:17:00.0000] <loucapo>
lol

[07:17:01.0000] <loucapo>
would it help at all if i sent u the php page?

[07:17:02.0000] <annevk>
might help yes

[07:19:00.0000] <loucapo>
how should i send?

[07:19:01.0000] <Philip`>
annevk: Or you should use something like KDE that lets all its applications open files across SFTP/etc connections exactly like local files

[07:19:02.0000] <Philip`>
though I suppose that might not be too great if you're using OS X

[07:19:03.0000] <variable>
annevk, sshfs is quite nice. Or if you don't want to bother with a big learning curve use nano

[07:20:00.0000] <variable>
tis a nice editor with syntax highlighting - but very easy to use

[07:21:00.0000] <annevk>
loucapo, annevk⊙oc works or just put it online somewhere?

[07:21:01.0000] <ben_alman>
miketaylr: hi

[07:21:02.0000] <ben_alman>
who should i be talking to?

[07:22:00.0000] <hsivonen>
annevk: fwiw, I think Julian is right about xml:space.

[07:22:01.0000] <miketaylr>
ben_alman: dunno if adam barth hangs here

[07:22:02.0000] <ben_alman>
he's the url api guy?

[07:23:00.0000] <ben_alman>
hmmn.. well i'd like as easy a format as possible for discussing the working draft

[07:23:01.0000] <ben_alman>
chat would be preferred to long email chains

[07:23:02.0000] <miketaylr>
yeah

[07:23:03.0000] <ben_alman>
i don't have the time

[07:23:04.0000] <ben_alman>
but i see some clear deficiencies

[07:23:05.0000] <miketaylr>
spend less time with your cats

[07:24:00.0000] <ben_alman>
most notably (imo) is the ancient idea that only location.search contains a serialized data object, when in reality the fragment can (and maybe should) as well

[07:24:01.0000] <annevk>
hsivonen, xml:space should be removed from XML; everything assumes whitespace is always kept and it's a hint anyway so not even useful

[07:25:00.0000] <ben_alman>
also, the serialization algorithm is maybe too basic

[07:25:01.0000] <annevk>
hsivonen, and it's a constant source of confusion

[07:25:02.0000] <ben_alman>
it would be nice to come up with a standard algorithm

[07:25:03.0000] <ben_alman>
that handles nested objects

[07:25:04.0000] <Philip`>
miketaylr: abarth often seems to be around here

[07:26:00.0000] <ben_alman>
then again, we should probably just use JSON to encode everything :P

[07:26:01.0000] <miketaylr>
Philip`: that's what i thought, thanks

[07:26:02.0000] <Philip`>
(but not now, presumably due to timezones)

[07:26:03.0000] <ben_alman>
well miketaylr if he shows up ping me and him

[07:26:04.0000] <annevk>
ben_alman, putthing data in fragments is kind of a hack though to work around other limitations

[07:26:05.0000] <miketaylr>
lol ok. can i get you a sandwich too?

[07:26:06.0000] <annevk>
ben_alman, that pushState etc. hopefully solve

[07:26:07.0000] <loucapo>
annevk...just sent

[07:26:08.0000] <ben_alman>
pushState will solve that for sure

[07:27:00.0000] <annevk>
ben_alman, but you should just email him and cc some list

[07:27:01.0000] <ben_alman>
annevk i don't have the time for email tbh

[07:27:02.0000] <ben_alman>
i need a quick chat

[07:27:03.0000] <ben_alman>
:)

[07:27:04.0000] <annevk>
i don't see the difference

[07:27:05.0000] <ben_alman>
i do.

[07:27:06.0000] <ben_alman>
chat is quick, you can respond to each line in real time

[07:28:00.0000] <ben_alman>
email requires you to ingest the whole response and formulate a reply, if you choose to reply to individual points you start getting into this kind of unmanageable branching

[07:28:01.0000] <ben_alman>
plus i'm really anal about emails with spell checking etc

[07:28:02.0000] <ben_alman>
chat, not so much

[07:36:00.0000] <hsivonen>
annevk: xml:space has utility in generic XML editors like oXygen than don't otherwise know if it is OK to rewrap text node content

[07:36:01.0000] <hsivonen>
annevk: I agree that it's a source of confusion

[07:37:00.0000] <zcorpan>
wouldn't it be better for oXygen to have some knowledge about XHTML?

[07:38:00.0000] <hsivonen>
zcorpan: that would be even more useful, sure

[07:38:01.0000] <annevk>
loucapo, your PHP file does not handle OPTION requests

[07:40:00.0000] <annevk>
loucapo, i.e. the preflight requests I kept mentioning

[07:40:01.0000] <loucapo>
hmm i swear my colleague told me it did...i dont know much php so i will get my colleague to look at that

[07:40:02.0000] <loucapo>
and fix it ASAP

[07:40:03.0000] <loucapo>
thx for the help

[07:41:00.0000] <annevk>
 //header('Access-Control-Allow-Origin: ozoli.comuf.com'); is also wrong fwiw

[07:41:01.0000] <loucapo>
thats commented out

[07:41:02.0000] <annevk>
an origin includes the scheme

[07:48:00.0000] <Philip`>
The xml:space thread is terribly confusing, since I seem to be receiving all the messages out of order

[07:48:01.0000] <jgraham>
Philip`: I assumed I just wasn't recieveing messages from Julian

[07:49:00.0000] <Philip`>
Hmm, http://lists.w3.org/Archives/Public/public-html/2010Sep/ looks misordered too

[08:34:00.0000] <zcorpan>
/me adds "RegExp.prototype.compile changes the regexp in place. In Carakan/Nitro/V8 the method returns undefined; in SpiderMonkey it returns the regexp object." to http://wiki.whatwg.org/wiki/Web_ECMAScript#RegExp

[08:34:01.0000] <zcorpan>
mozilla javascript people: fancy changing your impl to match opera/safari/chrome? :)

[08:46:00.0000] <MikeSmith>
/me didn't know about http://wiki.whatwg.org/wiki/Web_ECMAScript

[08:48:00.0000] <MikeSmith>
I can add those contents as annotations to the annotated HTML version of the spec

[08:49:00.0000] <zcorpan>
that'd be cool

[09:05:00.0000] <loucapo>
annevk, can you rechk my page? i think we have the options stuff right now.

[09:05:01.0000] <loucapo>
but i still see status 0

[09:06:00.0000] <annevk>
karlcow, someone on twitter says we hired you

[09:06:01.0000] <annevk>
karlcow, if so, welcome

[09:07:00.0000] <annevk>
loucapo, i'd rather check the source code again

[09:07:01.0000] <loucapo>
sure

[09:07:02.0000] <loucapo>
will send

[09:09:00.0000] <loucapo>
sent

[09:10:00.0000] <loucapo>
annevk, i also found the part of the spec i was taking about

[09:10:01.0000] <loucapo>
http://www.w3.org/TR/XMLHttpRequest/#response

[09:15:00.0000] <jgraham>
karlcow: Oh, nice :)

[09:16:00.0000] <annevk>
loucapo, still don't get what you mean and that is not Level 2

[09:19:00.0000] <loucapo>
if a 404 comes back, is the error flag not set?

[09:19:01.0000] <annevk>
loucapo, it never says it would be set

[09:19:02.0000] <annevk>
loucapo, so now your request no longer requires a preflight

[09:19:03.0000] <annevk>
loucapo, I guess you should put something in the response body as well and see what responseText returns

[09:20:00.0000] <annevk>
loucapo, to see if the bug is in Firefox or in your code

[09:20:01.0000] <loucapo>
but i still cannot tell what happened...ie a 500

[09:21:00.0000] <annevk>
I can in Chrome now

[09:23:00.0000] <loucapo>
really?

[09:25:00.0000] <annevk>
no, I'm just kidding...

[09:26:00.0000] <annevk>
/me sighs

[09:26:01.0000] <loucapo>
maybe we are having a communication issue?

[09:26:02.0000] <loucapo>
i cannot see the status even in chrome

[09:27:00.0000] <annevk>
well I can for 402, 500, etc.

[09:27:01.0000] <annevk>
304 of course still fails

[09:28:00.0000] <loucapo>
i was doing a 404, which i guess should fail too

[09:28:01.0000] <annevk>
works here

[09:32:00.0000] <karlcow>
annevk: yes, I'm starting on November 1st :) - ODIN Team

[09:32:01.0000] <karlcow>
thanks :)

[09:38:00.0000] <jgraham>
karlcow: Do you get to do a scandinavian tour as part of the induction?

[09:40:00.0000] <hober>
karlcow: congats!

[09:44:00.0000] <karlcow>
jgraham: I will be visiting I guess in January. Is the induction painful? ;)

[10:01:00.0000] <loucapo>
annevk, what if i need or want to set a custom header? why would that cause all of this to fail?

[10:02:00.0000] <annevk>
presumably because either your are not doing the preflight correctly or the browser has some kind of bug

[10:03:00.0000] <loucapo>
chrome, safari both?

[10:18:00.0000] <rubys>
just checking... is Date.parse intended to handle RFC3339 formatted dates?

[10:18:01.0000] <rubys>
seems to with a recent firefox, but not with a recent chrome...

[10:19:00.0000] <Philip`>
http://wiki.whatwg.org/wiki/Web_ECMAScript#Date_Parsing may be relevant

[10:19:01.0000] <rubys>
TODO:This is a mess 

[10:19:02.0000] <Philip`>
(Not necessarily useful, though)

[10:19:03.0000] <rubys>
doesn't look like it has any relevant info

[10:20:00.0000] <jgraham>
rubys: Date.parse is intentionally unspecified

[10:20:01.0000] <Philip`>
http://sideshowbarker.github.com/es5-spec/#x15.9.4.2 - "the function may fall back to any implementation-specific heuristics or implementation-specific date formats"

[10:20:02.0000] <jgraham>
Apart from a requirement to handle ISO dates

[10:20:03.0000] <jgraham>
(which AFAIK are typiucally not supported)

[10:21:00.0000] <paul_irish>
philip jager.... who does video for opera.. someone help me out with his twitter or somesuch?

[10:21:01.0000] <jgraham>
So if you really mean "intended", then the answer is "no"

[10:21:02.0000] <Philip`>
paul_irish: http://twitter.com/foolip

[10:21:03.0000] <jgraham>
paul_irish: foolip

[10:22:00.0000] <paul_irish>
thx

[10:37:00.0000] <loucapo>
paul_irish u are at google, right?

[10:38:00.0000] <paul_irish>
loucapo: yes

[10:39:00.0000] <loucapo>
rey told me to talk to you...i tweeted at u the other day

[10:39:01.0000] <loucapo>
u got a few min?

[10:39:02.0000] <paul_irish>
loucapo: sure. PM away

[10:41:00.0000] <loucapo>
i'm such a newb on IRC, not sure how to PM, :-(

[10:42:00.0000] <tabatkins>
Do /msg <name> <msg>, or /query <name> and then send messages.

[10:43:00.0000] <loucapo>
thx

[10:56:00.0000] <MikeSmith>
rubys: I wonder if you may be running into a bug that was in the V8 code prior to v2.4.3 that caused it to fail on date-times like 2010-09-23T01:15:30+09:00 that have a timezone offset but no milliseconds component, by succeed on date-times like  2010-09-23T01:15:30.003+09:00 that have the milliseconds specified

[10:57:00.0000] <MikeSmith>
I'm not sure how you can check your chrome to see what V8 version it was built against

[10:58:00.0000] <rubys>
That could be.  It produces NaN for 2010-09-28T12:33:46-04:00

[10:58:01.0000] <MikeSmith>
yeah

[10:58:02.0000] <rubys>
Chrome 6.0.472.63 beta FWIW

[10:58:03.0000] <MikeSmith>
if you try 2010-09-28T12:33:46.000-04:00 I bet it will work

[11:00:00.0000] <rubys>
http://intertwingly.net/tmp/localize_dates.js

[11:01:00.0000] <rubys>
Instead of replacing the parseRFC3339 function, I added the first two lines to it.

[11:17:00.0000] <zcorpan>
Hixie: oh, i wondered why the're a spinning circle there. could you make it not appear if the relevant script(s) aren't loaded?

[11:17:01.0000] <Hixie>
i guess i could make them appear when a script runs to make them appear

[11:17:02.0000] <Hixie>
and put that script right at hte top of the page or something

[11:18:00.0000] <Hixie>
or i could just hide it

[11:18:01.0000] <Hixie>
i was just using it to tell at a glance how long the browser was locking up for when repainting or running scripts

[11:19:00.0000] <zcorpan>
yeah, i'm not going to miss it if you hide it altogether :)

[11:23:00.0000] <gsnedders>
jgraham: ping

[11:32:00.0000] <gsnedders>
jgraham: At the moment treewalkers have a really messy API for attributes. They return a list of name,value tuples, where the name varies massively between which tree is used. Some give QName, some give localname, some give Clark notation

[11:33:00.0000] <gsnedders>
jgraham: We really to make that consistent before we build anything much off that API… say, a serializer with foreign content support

[11:34:00.0000] <gsnedders>
jgraham: I think the two basic choices are to go for a three-tuple of namespace URL, local name, value or to go for dicts (like we do for tags) with "name", "namespace", and "value" indexes

[11:34:01.0000] <gsnedders>
jgraham: Opinions?

[11:34:02.0000] <gsnedders>
(Anyone else is free to have opinions too, though)

[11:34:03.0000] <tabatkins>
dicts++

[11:35:00.0000] <tabatkins>
But I'm not familiar enough with common Python library styles to know if tuples are more idiomatic.

[11:36:00.0000] <gsnedders>
A list of dicts is less common, as you'd tend to want to use something lighter-weight for attributes… But there again, you don't want the tuples to get too big.

[11:36:01.0000] <zcorpan>
about cookies, i think cookie2 has a way to respect ports, but only opera supports it and no-one uses it

[11:37:00.0000] <zcorpan>
maybe we should convince everyone else to migrate to cookie2

[11:37:01.0000] <gsnedders>
zcorpan: I think Philip`'s dump of HTTP data had some instances of it :P

[11:37:02.0000] <gsnedders>
Yeah, three instances of set-cookie2 (and 5105 of set-cookie)

[11:38:00.0000] <zcorpan>
gsnedders: i rest my case :)

[11:38:01.0000] <gsnedders>
Three instances is not "no-one"! :P

[11:38:02.0000] <zcorpan>
sure it is

[11:38:03.0000] <zcorpan>
just like you are no-one

[11:39:00.0000] <gsnedders>
/me cries

[11:39:01.0000] <gsnedders>
I'm a real person!

[11:40:00.0000] <gsnedders>
jgraham: Oh, there appears to be some tree-walker that gives a four-tuple of prefix, local, url, value

[11:43:00.0000] <gsnedders>
jgraham: SimpleTree gives a four-tuple, DOM gives a two-tuple (QName, value), etree gives Clark Notation

[11:43:01.0000] <gsnedders>
(well, Clark Notation, value)

[11:44:00.0000] <karlcow>
/me hands tissues to gsnedders 

[11:50:00.0000] <hsivonen>
Hixie: thanks for mentioning xml:space for those of us who aren't sure how to understand what XML 1.0 says about it in a non-DTD validation context

[11:53:00.0000] <Hixie>
XML is crystal clear as far as I can tell

[11:53:01.0000] <Hixie>
"A special attribute named xml:space may be attached to an element to signal an intention that in that element, white space should be preserved by applications."

[11:54:00.0000] <Hixie>
what more is needed?

[11:54:01.0000] <gsnedders>
karlcow: Also: congrats on joining us! (The plot for world domination continues!)

[11:55:00.0000] <karlcow>
hehe

[11:55:01.0000] <karlcow>
merci !

[11:56:00.0000] <zcorpan>
yeah welcome and congrats

[11:56:01.0000] <zcorpan>
what are you going to do? :)

[11:56:02.0000] <gsnedders>
/me was about to ask that

[11:57:00.0000] <karlcow>
ODIN Team. 

[11:58:00.0000] <zcorpan>
ah

[12:15:00.0000] <Hixie>
AryehGregor: i don't recall where the discussions about <time> happened that led to what we have now, but i think it was whatwg⊙wo (re bug 10318)

[12:33:00.0000] <gavin>
what does ODIN stand for?

[12:38:00.0000] <karlcow>
gavin: developer relationships

[12:38:01.0000] <karlcow>
http://my.opera.com/ODIN/blog/

[12:39:00.0000] <karlcow>
http://my.opera.com/ODIN/members/

[12:41:00.0000] <gavin>
yeah, I found that, but none of it explains what "ODIN" means

[12:41:01.0000] <gavin>
I assumed it was an acronym...

[12:41:02.0000] <gavin>
is it norwegian? :)

[12:42:00.0000] <tabatkins>
Opera Developer Insurrection Network.

[12:43:00.0000] <karlcow>
gavin: ODIN is one of the major gods of Norwegian mythology

[12:43:01.0000] <karlcow>
or more exactly Norse mythology

[12:44:00.0000] <karlcow>
http://en.wikipedia.org/wiki/Odin

[12:44:01.0000] <tabatkins>
Right, but having it in all caps makes it look like an acronym, not a proper name.

[12:45:00.0000] <Philip`>
You're meant to shout it

[12:48:00.0000] <gavin>
/me wonders why karlcow keeps inserting strange characters in his nick :)

[12:48:01.0000] <gavin>
(I only notice because it fails to ping me)

[12:50:00.0000] <zcorpan>
gavin: you should make your client ping you when karlcow sends strange characters

[12:53:00.0000] <karlcow>
Do I really send strange characters?

[12:53:01.0000] <karlcow>
I thought I was just sending "karlcow"

[12:53:02.0000] <jgraham>
gsnedders: That is the _output_ from the treewalkers? The series of tokens?

[12:53:03.0000] <tabatkins>
karlcow: In gavin's nick, not yours.

[12:54:00.0000] <tabatkins>
In one there's a strange character after the v, in the next there's one after the a.

[12:55:00.0000] <gavin>
http://grab.by/6BvZ

[12:55:01.0000] <jgraham>
/me is guessing that karlcow has some strage character encoding and a weird symbol next to v on his keyboard

[12:56:00.0000] <karlcow>
ah interesting… hmm I wonder if it's xchat autocompletion system.

[12:56:01.0000] <jgraham>
Yeah, my theoy doesn't work in light of tab completion

[12:57:00.0000] <tabatkins>
Well, it sorta does, if tab completion is broken.  If he hit tab after typing "gav" in one circumstance, and after "ga" in another, that would mesh with the placement of the weird character.

[12:57:01.0000] <karlcow>
when I tab for autocompletion the nick is showed with a yellow background and I usually finished it by hand. 

[12:58:00.0000] <karlcow>
test gavi

[13:00:00.0000] <karlcow>
ah interesting bug the grab.by piece of code doesn't display in Opera :O)

[13:01:00.0000] <karlcow>
but works perfectly in Safari

[13:03:00.0000] <zcorpan>
karlcow: now you just need to figure out why it doesn't work in opera and file a bug :)

[13:23:00.0000] <karlcow>
javascript/css issue 

[13:24:00.0000] <Hixie>
hsivonen: i don't understand why it's a pretense that foreign content is an insertion mode

[13:25:00.0000] <Hixie>
hsivonen: in what way is it _not_ an insertion mode? It's very similar to how "in table" works, no?

[13:25:01.0000] <gsnedders>
jgraham: yeah

[13:27:00.0000] <jgraham>
gsnedders: I don't understand how anything works, then

[13:28:00.0000] <jgraham>
Why don't things break if the different treebuilders all have inconsistent token formats?

[13:29:00.0000] <gsnedders>
jgraham: Because the serializer supports both

[13:29:01.0000] <gsnedders>
(which works okay for HTML namespace stuff)

[13:32:00.0000] <Hixie>
hsivonen: btw i commented on http://www.w3.org/Bugs/Public/show_bug.cgi?id=9843 while the mails weren't going out

[13:33:00.0000] <jgraham>
gsnedders: In principle I like the idea of dicts, but I guess they might be slow

[13:34:00.0000] <jgraham>
It might not matter of course

[13:34:01.0000] <jgraham>
Compared to the other slowness

[13:34:02.0000] <gsnedders>
jgraham: Not a bottle-neck, is my attitude

[13:35:00.0000] <jgraham>
Right

[13:35:01.0000] <gsnedders>
jgraham: I pushed what I had locally, which means the treewalker tests actually run all the tests, as well as the first couple of fixes (and disabling it entirely for Genshi, because that was really broken and everything failed)

[13:36:00.0000] <jgraham>
gsnedders: OK, great

[13:37:00.0000] <gsnedders>
I'd really like to get runtests.py running again.

[13:37:01.0000] <gsnedders>
Because, uh, until then, we can't really claim to be able to properly test.

[13:40:00.0000] <jgraham>
Things That Are Confusing vol. 1: Finding that songs you have liked for years are actually covers

[13:41:00.0000] <jgraham>
e.g. I have long enjoyed spotify:track:4KLlwC9yoOmsTDWQM4CdY1 without ever knowing about spotify:track:5eos4i4cbrBtq9Rr1IB565

[13:42:00.0000] <Dashiva>
Cool URIs don't start in spotify

[13:44:00.0000] <jgraham>
http://open.spotify.com/track/4KLlwC9yoOmsTDWQM4CdY1 and http://open.spotify.com/track/5eos4i4cbrBtq9Rr1IB565 if you prefer

[13:45:00.0000] <hober>
Hixie: why not use -vendor-attr=""?

[13:45:01.0000] <tabatkins>
Can't start an attribute with -.  I forget why.

[13:45:02.0000] <hober>
pros: mirrors CSS, doesn't conflict with comment syntax or data-*

[13:46:00.0000] <jgraham>
Probably osn't work in XHTML

[13:46:01.0000] <jgraham>
*doesn't

[13:46:02.0000] <jgraham>
Although gsnedders is the one who memorises all the productions

[13:47:00.0000] <jgraham>
(I think vendor.attribute personally)

[13:47:01.0000] <jgraham>
s/think/like/

[13:48:00.0000] <hober>
does [vendor.attribute] work as a selector?

[13:48:01.0000] <tabatkins>
No reason why it shouldn't.

[13:49:00.0000] <tabatkins>
Well, apparently there is.  It doesn't work.

[13:49:01.0000] <zcorpan>
it doesn't

[13:49:02.0000] <tabatkins>
You have to escape the . in the selector, and write [foo\.bar]

[13:50:00.0000] <hober>
I think whatever we pick should be usable in a selector without escaping

[13:50:01.0000] <tabatkins>
Agreed.

[13:50:02.0000] <hober>
Why not just use vendor-foo="bar"?

[13:50:03.0000] <zcorpan>
because it clashes with everything (since vendor can be anything)

[13:51:00.0000] <tabatkins>
I guess to avoid accidental collisions of "vendor" and a prefix from an actual attribute?

[13:51:01.0000] <hober>
x-vendor-foo="bar"?

[13:51:02.0000] <gsnedders>
jgraham: An attribute name in XML must start with a NameStartChar

[13:51:03.0000] <tabatkins>
Doing something that is unambiguously not a normal attribute prevents that (starting with _ or using -- in HTML, or starting with - in CSS).

[13:51:04.0000] <jgraham>
gsnedders: No shit

[13:51:05.0000] <hober>
that has the added benefit (benefit? really?) of matching webos's x-mojo-bleah="stuff"

[13:52:00.0000] <gsnedders>
jgraham: Oh, that's only fifth edition that calls it that. Otherwise just the first char of Name is special-cased

[13:52:01.0000] <jgraham>
gsnedders: What I haven't memorised (but you have) is the full range of constraints tht implies

[13:52:02.0000] <gsnedders>
jgraham: I didn't quite know, I knew it was Letter and a few punctuation characters :)

[13:52:03.0000] <gsnedders>
jgraham: So it's Letter, : and _

[13:52:04.0000] <gsnedders>
Namespaces for XML means we can't use :

[13:52:05.0000] <jgraham>
Yah

[13:53:00.0000] <jgraham>
*Yeah

[13:53:01.0000] <gsnedders>
(And yeah, I do actually remember far too many such productions)

[13:53:02.0000] <gsnedders>
/me wishes he remembered less

[13:53:03.0000] <zcorpan>
gsnedders: do you know the xml-stylesheet productions by heart?

[13:54:00.0000] <gsnedders>
zcorpan: I expect I'm fairly close to it

[13:54:01.0000] <hober>
now that I'm looking at it, I'm surprised to find I don't mind x-vendor-attr=""

[13:54:02.0000] <jgraham>
gsnedders: My advice is that, for picking up girls, you use the 70s underground rock knowledge you get from this channel rather than the XML productions

[13:54:03.0000] <gsnedders>
zcorpan: Ah, I only forgot about PredefEntityRef from that

[13:55:00.0000] <gsnedders>
jgraham: I seem to be having more success with Apocalyptica knowledge ;P

[13:55:01.0000] <jgraham>
It would be nice if we could spell out experimetal. But I guess people wouldn't go for that

[13:55:02.0000] <zcorpan>
gsnedders: i'll ask again in 6 months

[13:55:03.0000] <gsnedders>
zcorpan: :)

[13:55:04.0000] <jgraham>
Well I can't spell experimental at all it seems

[13:56:00.0000] <jgraham>
gsnedders: Still, best to stay off the XML productions :)

[13:56:01.0000] <gsnedders>
jgraham: :)

[13:56:02.0000] <gsnedders>
jgraham: Y'know, the lecture I have which is mostly girls isn't CS, surprisingly enough.

[13:57:00.0000] <jgraham>
Really? Shocking

[13:57:01.0000] <gsnedders>
(I know, I know, you were wishing secretly I'd fall in love with a CS girl and have an excuse to go back to Lkpg…)

[13:57:02.0000] <gsnedders>
(Because, uh, blatantly they all aspire to work for Opera Sweden)

[13:58:00.0000] <tabatkins>
Dude, you *don't* want to fall in love with a CS girl?

[13:59:00.0000] <gsnedders>
tabatkins: I dunno, at the moment I'm not sure I really want to fall in love at all.

[13:59:01.0000] <tabatkins>
It's pretty good times.

[13:59:02.0000] <jgraham>
gsnedders: Oh I thought you would just like to fall in love with *a* girl

[14:00:00.0000] <jgraham>
(OK I amit the lst line was entirely for the White Stripes reference)

[14:00:01.0000] <gsnedders>
/me was wondering if that reference was intentional, and expecting it was

[14:00:02.0000] <gsnedders>
tabatkins: Meh.

[14:01:00.0000] <jgraham>
gsnedders: Anyway, certian rumors at your disappointment at the lack of cute CS girlsmay or may not have reached me

[14:02:00.0000] <jgraham>
(of course it might be that there are any number of nice irls and you just have bad taste)

[14:02:01.0000] <gsnedders>
/me wonders what rumours

[14:03:00.0000] <gsnedders>
Eiyj? She's not a CS girl…

[14:04:00.0000] <jgraham>
Taht's not even a real name, it's just a collection of letters

[14:04:01.0000] <jgraham>
(and note the word "lack")

[14:04:02.0000] <gsnedders>
Well, yeah. That's kinda the point. But it was funny at the time.

[14:08:00.0000] <zcorpan>
Hixie: i found a typo in your utf-8 text ("must be replace with")

[14:10:00.0000] <tabatkins>
Urgh, all these [0] scattered around my code are ugly.  I much prefer Lisp's multiple return values paradigm over Python's.  In Lisp, unless you specifically handle the extra values they just get dropped on the floor, so you can ignore them easily.  In Python you have to remember what functions return a tuple to simulate multiples return values, and handle it every time if you only want the one value.

[14:12:00.0000] <jgraham>
tabatkins: Fixed in python 3

[14:12:01.0000] <tabatkins>
Of course, in Lisp, you have to be careful to handle multiple values properly if you're writing a generic wrapper that should just pass the return value of the wrapped function through.

[14:13:00.0000] <jgraham>
But really doing value_I_care_about, b,c,d =foo() doesn't seem that hard

[14:13:01.0000] <jgraham>
Unless you don't know how many values the function will return

[14:13:02.0000] <gsnedders>
But that's just API-badness

[14:14:00.0000] <jgraham>
Well if the function returns a generator

[14:14:01.0000] <tabatkins>
Well, simple example is get_or_create in django, which returns the value and a bool telling if it was found or not.  I don't care whether it was found or created, so I keep having to do "Foo.get_or_create(...)[0]".

[14:15:00.0000] <tabatkins>
In Lisp, GETHASH works similarly, but you can just not pay attention to the bool return value if you don't want it.  If you do want it, it's easy to bind it.

[14:15:01.0000] <jgraham>
why not just do, value, created = Foo.get_or_create()

[14:15:02.0000] <tabatkins>
Because that doesn't say what I mean.

[14:15:03.0000] <jgraham>
and ignore created

[14:15:04.0000] <jgraham>
tabatkins: Yes it does

[14:15:05.0000] <jgraham>
It is much clearer than taking [0]

[14:16:00.0000] <tabatkins>
No, it says that I care about the second value enough to create a variable for it.  I don't care about it at all, though.

[14:16:01.0000] <tabatkins>
Hmm, using a _ to indicate an ignored variable seems like a relatively clean way to do it.

[14:16:02.0000] <tabatkins>
"value,_ = Foo.get_or_create()".

[14:17:00.0000] <jgraham>
Doesn't really work if there is > 1 extra value

[14:18:00.0000] <tabatkins>
Sure it does.

[14:18:01.0000] <tabatkins>
You just set _ twice.  But you're ignoring it anyway, so who cares?

[14:19:00.0000] <tabatkins>
And it's consistent with the pattern matching syntax in Prolog, Haskell, and probably others.

[14:20:00.0000] <Philip`>
ML too

[14:20:01.0000] <jgraham>
Yeah, I don't really like the fact that it looks magic, but it's not, it's just odd

[14:25:00.0000] <zcorpan>
maybe x-foo-bar makes people think that they are allowed to use x-* attributes instead of data-*

[14:25:01.0000] <jgraham>
vnd-foo-bar?

[14:25:02.0000] <tabatkins>
vendor-vendor-attribute.  Where the second vendor is a variable.

[14:26:00.0000] <tabatkins>
vendor-webkit-foo.

[14:26:01.0000] <jgraham>
ua-foo-bar

[14:26:02.0000] <zcorpan>
vendor is a bit long, but vnd could work

[14:26:03.0000] <jgraham>
ua-opera-magic

[14:26:04.0000] <zcorpan>
'ua' is a bit opaque and people don't know what it means

[14:27:00.0000] <jgraham>
No more opaque than vnd, really

[14:27:01.0000] <zcorpan>
true, but i think more people understand what vnd means

[14:27:02.0000] <jgraham>
I would call it browser- or clarity, but people would scream blue murder

[14:27:03.0000] <zcorpan>
but i might very well be wrong about that

[14:28:00.0000] <tabatkins>
I would have absolutely no idea what vnd meant if I weren't just now part of this conversation and saw it next to "vendor".

[14:29:00.0000] <zcorpan>
there's application/vnd.ms-excel etc in mime types

[14:29:01.0000] <tabatkins>
Is that what vnd is supposed to mean there?

[14:29:02.0000] <zcorpan>
yeah

[14:29:03.0000] <tabatkins>
/me really had no clue - he assumed it was some arcane MS-ism.

[14:29:04.0000] <gsnedders>
VeNDor

[14:29:05.0000] <tabatkins>
It being a TLA contributes, I think, to it being opaque.

[14:30:00.0000] <zcorpan>
maybe it doesn't matter that people don't know what it means, so long as they don't use it

[14:31:00.0000] <zcorpan>
maybe it should be do-not-use-this-opera-feature=""

[14:31:01.0000] <gsnedders>
I'm not sure marketing would like that

[14:31:02.0000] <tabatkins>
Hahaha.

[14:32:00.0000] <Philip`>
zcorpan: Who is "they"?

[14:32:01.0000] <zcorpan>
Philip`: authors who should be using data-* instead

[14:33:00.0000] <tabatkins>
Or authors creating public pages that aren't just experiments.

[14:34:00.0000] <zcorpan>
tabatkins: well authors use vendor extensions in css in production all the time

[14:34:01.0000] <Philip`>
People use e.g. text/vnd.sun.j2me.app-descriptor and text/vnd.abc; should the same kind of people be allowed to use vnd-* attributes for the same kind of thing?

[14:34:02.0000] <Philip`>
(where by "use" I mean "make up new strings of that form")

[14:34:03.0000] <tabatkins>
zcorpan: Right, but they shouldn't be.  ^_^

[14:35:00.0000] <gsnedders>
/me realizes trying to look through a corpus looking for instances of singular they isn't worth his time

[14:36:00.0000] <zcorpan>
Philip`: text/vnd.sun.j2me.app-descriptor is a registered mime type, so i assume it is a real vendor extension and not something Joe Author made up for private use

[14:36:01.0000] <tabatkins>
gsnedders: Why would you be doing so?

[14:36:02.0000] <zcorpan>
same with vnd.abc

[14:36:03.0000] <zcorpan>
so yes

[14:37:00.0000] <jgraham>
tabatkins: To be fair, if it was up to you, we would likely get two words stuffed together to make the name

[14:37:01.0000] <tabatkins>
?_?

[14:37:02.0000] <gsnedders>
tabatkins: To find out how common its usage is to avoid a pronoun with a specific gender, and whether this has become more common since the 70s or so

[14:37:03.0000] <jgraham>
following the "frex" template

[14:37:04.0000] <gsnedders>
(because, y'know, it's interesting?)

[14:38:00.0000] <tabatkins>
gsnedders: I know it's attested back since Shakespeare at least.  No idea on relative frequency.

[14:38:01.0000] <gsnedders>
tabatkins: Further back than Shakespeare

[14:38:02.0000] <tabatkins>
jgraham: Dunno.

[14:38:03.0000] <gsnedders>
tabatkins: I'm not interested in its age, I know it's old :)

[14:38:04.0000] <tabatkins>
gsnedders: Ah, kk.

[14:39:00.0000] <tabatkins>
gsnedders: Then I imagine you'd be doing lots of manual verification.  I doubt you can programmatically distinguish a plural and singular they.

[14:39:01.0000] <gsnedders>
tabatkins: You can't. Welcome to the world of linguistics. :)

[14:39:02.0000] <gsnedders>
("They" is a particuarly bad word to choose, as it's particuarly common.)

[14:40:00.0000] <tabatkins>
Hmm.  I think I'll go spend some time running the CSS2.1 test suite now.  Woo!

[14:41:00.0000] <gsnedders>
Using interns ftw!

[14:41:01.0000] <gsnedders>
(Okay, this is strictly untrue. It wasn't _just_ interns who did it for us…)

[14:43:00.0000] <jgraham>
tabatkins: Is this a masochistic streak?

[14:52:00.0000] <tabatkins>
jgraham: Nah, just something that needs to be done, and I'm the person to do it.  I don't have any interns to fob it off on.

[14:54:00.0000] <gsnedders>
tabatkins: automate it!

[14:55:00.0000] <tabatkins>
That's the idea, yeah.  But I can't automate 10k tests in time for the impl report deadline of mid-Oct.

[14:55:01.0000] <jgraham>
tabatkins: You don't have any way to use pure visual tests in your regression tracking system?

[14:56:00.0000] <jgraham>
(or maybe that is Google Secret Information)

[14:56:01.0000] <tabatkins>
We do, but you have to use reference images.

[14:56:02.0000] <gsnedders>
tabatkins: See my post to public-css-testsuite from earlier today. Get a list of all tests with the same screenshot, create references for them, starting with the ones that automate the most tests, and then you can automate half the testsuite in a week or so, and you get a net-gain for the mid-Oct deadline

[14:56:03.0000] <gsnedders>
jgraham: It's not, it's all in the public WebKit repo.

[14:57:00.0000] <jgraham>
gsnedders: It seems plausible that Google *also* have their own internal QA facilities

[14:57:01.0000] <gsnedders>
(actually, that was only a net-gain for all vendors combined)

[14:57:02.0000] <gsnedders>
jgraham: Well, yeah. But they at least have screenshot-based comparisons with reference images in the public tree

[14:58:00.0000] <tabatkins>
gsnedders: I'd also have to learn how our regression testing system works, which I haven't had to interact with yet.

[14:58:01.0000] <jgraham>
Having fixed reference images seems to be major badness

[14:59:00.0000] <tabatkins>
Yup.

[14:59:01.0000] <gsnedders>
jgraham: Probably just more random noise, more than anything else. And more effort to create initially.

[14:59:02.0000] <jgraham>
gsnedders, tabatkins: Make sure people coordinate so we don't get 4 different reftest versions of some tests and none of others

[15:00:00.0000] <gsnedders>
jgraham: Well, apart from dsinger and dbaron making vague comments about prodding people, I see little evidence that anyone apart from me has done anything.

[15:01:00.0000] <dbaron>
I wrote the python script that I sent to the list in order to separate out the tests

[15:01:01.0000] <jgraham>
gsnedders: tabatkins just said he planned to automate them

[15:01:02.0000] <dbaron>
oh, you mean specifically for turning things into reftests?

[15:01:03.0000] <gsnedders>
dbaron: yeah

[15:01:04.0000] <dbaron>
I didn't say I'd do anything at all for that

[15:01:05.0000] <gsnedders>
(I think it was you who said that from Mozilla at the F2F)

[15:02:00.0000] <gsnedders>
I remember dsinger and someone else, Moz IIRC, saying that

[15:03:00.0000] <jgraham>
My understanding is that enough of the tests have similar reference images that one doesnt have to produce anything like 10k refs to get a sizable fration of the tests

[15:04:00.0000] <gsnedders>
Indeed.

[15:04:01.0000] <gsnedders>
100 references gets you around 3.5k

[15:04:02.0000] <tabatkins>
That sounds like some awesome low-hanging fruit.

[15:05:00.0000] <gsnedders>
Well, I sent a patch to the list for 830 with four references.

[15:05:01.0000] <gsnedders>
(those were 1, 2, 3, and 5 in terms of lowest hanging fruit)

[15:05:02.0000] <jgraham>
Yeah, if I believ gsnedeers numbers you get 1k with the top 6

[15:06:00.0000] <jgraham>
Wow that was amazingly bad typing

[15:06:01.0000] <gsnedders>
No shit

[15:20:00.0000] <Hixie>
zcorpan: thanks

[15:28:00.0000] <Hixie>
any opinions on http://www.w3.org/Bugs/Public/show_bug.cgi?id=10113 ? (making </rt> optional in WebSRT cue text)

[16:38:00.0000] <karlcow>
running the css 2.1 TS the other day, I realized that would be cool if I could see 20 tests at once with radio button under each and click pass, fail, etc.

[16:41:00.0000] <Philip`>
karlcow: Like http://philip.html5.org/tests/canvas/suite/tests/reportgen.html?100,0 ?

[16:41:01.0000] <Philip`>
(only that one does most of them automatically)

[16:42:00.0000] <karlcow>
Philip`: yes 

[16:43:00.0000] <karlcow>
because we loose a lot of times in the transition when accessing the next test

[16:44:00.0000] <Philip`>
It's much more convenient when you simply have to press 'y' or 'n' and then it goes onto the next test instantly


2010-09-29
[17:13:00.0000] <cying>
is there an event fired when a CSS WebFont has finished loading?

[17:18:00.0000] <hober>
cying: you might look at how google's font loader does it

[17:19:00.0000] <cying>
hober: *nod* they do it by polling a hidden div for a size change every 50 ms

[17:19:01.0000] <cying>
hober: but i was hoping there was a more cool way of doing that

[17:24:00.0000] <billh>
how call mercurial for dev html5lib (python)

[17:25:00.0000] <karlcow>
Philip`: 49 tests in 10 min.

[17:25:01.0000] <Rik`>
cying: there's not at the moment but they are some discussions to add one

[17:26:00.0000] <cying>
Rik`: that would be awesome and very helpful

[17:29:00.0000] <Philip`>
karlcow: Sounds fun

[17:29:01.0000] <Philip`>
In the olden days when Safari couldn't automatically check the canvas output and I had to run the tests manually, I did something like 1 per second but still got bored with it

[17:29:02.0000] <billh>
anyone here know html5lib?

[17:30:00.0000] <Philip`>
billh: Yes

[17:30:01.0000] <billh>
I assume the tarkit is rather old

[17:31:00.0000] <karlcow>
a bit slow, the waiting time in between each tests \o/ Let's hope many people participate

[17:31:01.0000] <billh>
so the wiki say the dev version can be retrieved with mercurial -- where do I go

[17:35:00.0000] <Philip`>
billh: http://code.google.com/p/html5lib/source/checkout

[17:37:00.0000] <Philip`>
Hixie: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10647 probably shouldn't be NEEDSINFO

[17:38:00.0000] <Hixie>
fixed

[17:39:00.0000] <Hixie>
but i wonder why it was NEEDSINFO

[17:39:01.0000] <Hixie>
have i marked lots of other things NEEDSINFO recently?

[17:39:02.0000] <Hixie>
i wonder if my scripts are failing on the new bugzilla

[17:41:00.0000] <Hixie>
looks like it goes to NEEDSINFO whenever I go back after bugzilla tells me it didn't know an e-mail address

[17:48:00.0000] <billh>
Philip: thanks

[21:14:00.0000] <hober>
ok, I pushed the elisp html5 tokenizer to github if anyone wants to play with it

[21:15:00.0000] <hober>
I'm in the middle of hooking it up with html5lib's tokenier tests, so I don't actually know if it works beyond ad-hoc testing, but it seems to work. :)

[01:58:00.0000] <jgraham>
I wonder how hard it would break the web to make <aol> into a parser macro that expands to "Me too"

[02:03:00.0000] <Hixie>
feedback on bugs 10419 (muted), 9843 (parser), 9895 (img.complete), 10539 (parser), 10743 (intro), 10694 (console), 10672 (video), 9590 (vendor prefix), 10625 (parsing), 10798 (selection), 9429 (<s>), and 10320 (websrt voice) would be most welcome from anyone who sees this, as i'm somewhat blocked on all of those

[02:03:01.0000] <Hixie>
and without your input i'll just make stuff up :-)

[02:03:02.0000] <hsivonen>
Hixie: scary

[02:05:00.0000] <hsivonen>
the styling on http://www.w3.org/Bugs/Public/ is weird

[02:06:00.0000] <othermaciej>
Hixie: my survey of Apple folks seems to lean in favor of x-vendor-attribute, with corresponding IDL (if any) of elt.vendorAttribute, but so far I only have answers from people who read mail late at night

[02:07:00.0000] <hsivonen>
I'm compiling my browser in place, so I can't post comments right now, but re: 9843 as of two weeks ago, none of the major browsers blocks document.written scripts on sheets

[02:07:01.0000] <Hixie>
othermaciej: k

[02:08:00.0000] <Hixie>
hsivonen: how do they define "document.written script"? one that is run by a nested parser invocation?

[02:09:00.0000] <Hixie>
i have to go to bed, but if anyone has any feedback on those bugs please put it in the bugs when you have the chance, that way i don't lose it if my irc client dies overnight

[02:09:01.0000] <Hixie>
thanks in advance

[02:10:00.0000] <Hixie>
nn

[02:22:00.0000] <hsivonen>
Hixie: Gecko (as of now) and IE *don't* define document.written scripts based on the nesting level at the time of tokenization.

[02:22:01.0000] <hsivonen>
oh. Hixie went away already

[02:30:00.0000] <jgraham>
Sigh. I see that I have entirely failed to be aware of another ISSUE before it reached poll

[02:32:00.0000] <hsivonen>
jgraham: cleanuptable?

[02:33:00.0000] <jgraham>
Yeah

[02:41:00.0000] <annevk>
guess I now need to actually test rightmargin et al

[02:43:00.0000] <annevk>
I'm pretty sure non-IE browsers only support topmargin/leftmargin

[02:43:01.0000] <annevk>
has anyone started some kind of Rendering Chapter Test Suite project?

[02:47:00.0000] <jgraham>
annevk: No

[02:47:01.0000] <jgraham>
Kind of hard to do because it is all non-normative

[02:48:00.0000] <annevk>
for typical browsers it's pretty much a must

[02:49:00.0000] <Philip`>
I thought someone had produced a big table of all the default stylesheet rules of all the browsers, or something like that

[02:49:01.0000] <jgraham>
Maybe, but "typical browsers [...] pretty much" hides a world of hurt

[02:49:02.0000] <Philip`>
which could be compared against what the spec expects

[02:49:03.0000] <annevk>
jgraham, I have no idea what you're talking about

[02:50:00.0000] <annevk>
jgraham, most of the rules there are there because of compatibility concerns, not because we thought they were funny

[02:50:01.0000] <annevk>
jgraham, so they need to be tested

[02:51:00.0000] <jgraham>
I very well understand that. Nevertheless it is very tricky to write tests for non-normative content

[02:52:00.0000] <annevk>
I don't understand

[02:52:01.0000] <jgraham>
I don't want people feeling compelled to change their rendering on e.g. small screen devices to get a better score in some test but worse user experience

[02:54:00.0000] <annevk>
I think you're envisioning problems that are not really there

[02:55:00.0000] <jgraham>
I am not against these tests existing

[02:55:01.0000] <jgraham>
But they need big warnings about which UAs they should apply to

[02:55:02.0000] <annevk>
Anyway, if anything that has nothing to do with the trickyness of writing the tests; just with how they are published/promoted

[02:56:00.0000] <jgraham>
Well sure, the difficulty is not in testing the guidelines, but in making the difference between these tests and those for actual normative content clear

[03:32:00.0000] <annevk>
whoa, Minefield does support bottommargin and rightmargin

[03:32:01.0000] <annevk>
but only in quirks mode

[03:36:00.0000] <annevk>
but analysis in bug report but did not reopen: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10564

[03:36:01.0000] <annevk>
s/but/put/

[06:23:00.0000] <jgraham>
http://www.reddit.com/r/reddit.com/comments/dk3s0/the_ie9_team_responds_to_your_questions/ seems to be much less interesting than it sounds

[06:24:00.0000] <hsivonen>
Is there a canonical summary that explains why the Selector API does with namespace bindings what it does?

[06:27:00.0000] <annevk>
it doesn't do namespaces

[06:55:00.0000] <karlcow>
i18n storm

[06:56:00.0000] <jgraham>
really

[06:56:01.0000] <Workshiva>
s5m

[06:56:02.0000] <Peter`>
let's hope they don't have hundreds of comments

[06:57:00.0000] <Peter`>
though most comments seem ok

[06:57:01.0000] <karlcow>
that's often the issue with deadlines sometimes. 

[06:58:00.0000] <karlcow>
I expect the Last Call to be also quite interesting. 

[06:59:00.0000] <jgraham>
Some subset of the i18n bugs seem to be UI issues that are strictly out of scope

[06:59:01.0000] <karlcow>
/me realizes that "often" and "sometimes" make a quite awkward sentence.

[07:00:00.0000] <Philip`>
Where did i18n comment 4 go?

[07:00:01.0000] <Philip`>
(Also 13 and 20 seem to be in Bugzilla but not on the list)

[07:01:00.0000] <jgraham>
I have 20

[07:01:01.0000] <jgraham>
Not 13 or 4

[07:01:02.0000] <jgraham>
Maybe in i18n circles the number 4 is like the number 13 in many western cultures

[07:01:03.0000] <Philip`>
Okay, I guess 20 is stuck somewhere in my pipes

[07:02:00.0000] <Workshiva>
Tubes

[07:02:01.0000] <karlcow>
Philip`: chinese curse :) 4 = number of death

[07:02:02.0000] <jgraham>
Hotels run by i18n people never have a floor 4

[07:02:03.0000] <Workshiva>
So that's why HTML was bumped to 4.01 so fast...

[07:03:00.0000] <annevk>
way to submit comments at the last possible moment :/

[07:03:01.0000] <annevk>
oh well

[07:03:02.0000] <Philip`>
When is the last possible moment?

[07:03:03.0000] <karlcow>
http://en.wikipedia.org/wiki/Numbers_in_Chinese_culture#Four

[07:03:04.0000] <Philip`>
/me wonders if he should submit some

[07:04:00.0000] <karlcow>
Philip`: the moment be4 death

[07:04:01.0000] <annevk>
Philip`, the pre Last Call date was October 1

[07:04:02.0000] <annevk>
Philip`, everything after that will automatically be handled as a Last Call comment

[07:04:03.0000] <Philip`>
Oh, that's loads of time

[07:04:04.0000] <Philip`>
/me wonders what timezone October 1 is in

[07:05:00.0000] <karlcow>
if it's Bugzilla timezone, then it is EST

[07:05:01.0000] <jgraham>
I think October 1st occurs in all Earth timezones

[07:06:00.0000] <Philip`>
Ah, if it's EST then that's two whole days (rounded to the nearest whole days) so no rush

[07:06:01.0000] <annevk>
zcorpan, we are removing Cookie2 support fwiw

[07:09:00.0000] <zcorpan>
annevk: oh

[07:27:00.0000] <karlcow>
ah 4 is in

[07:28:00.0000] <annevk>
lots of very specific features

[08:04:00.0000] <mpilgrim>
annevk: you around?

[08:05:00.0000] <mpilgrim>
what would be a reasonable JavaScript feature detection script for XMLHttpRequest Level 2?

[08:06:00.0000] <annevk>
you would have to test it per feature really

[08:06:01.0000] <mpilgrim>
i'm interested in two features

[08:06:02.0000] <mpilgrim>
.upload

[08:06:03.0000] <annevk>
for cross-origin requests what people use is ("withCredentials" in (new XMLHttpRequest)) or some such

[08:07:00.0000] <mpilgrim>
and the ability to send FormData in the send() method

[08:07:01.0000] <annevk>
since the whole reason FormData was added was for send() I suppose checking window.FormData is enough

[08:07:02.0000] <mpilgrim>
ah, excellent

[08:08:00.0000] <annevk>
upload you can do similarly to withCredentials

[08:08:01.0000] <mpilgrim>
if ("upload" in (new XMLHttpRequest)) { ... }

[08:08:02.0000] <annevk>
yeah

[08:08:03.0000] <mpilgrim>
/me wonders if "new XMLHttpRequest" works in all browsers

[08:09:00.0000] <annevk>
since IE7, I think

[08:09:01.0000] <annevk>
oh, maybe you want (new XMLHttpRequest())

[08:10:00.0000] <paul_irish>
yup

[08:10:01.0000] <annevk>
I think per ECMAScript it's just a stylistic difference, but I've really only tested the latter widely

[08:10:02.0000] <mpilgrim>
both variants appear to work in chrome

[08:11:00.0000] <mpilgrim>
but i'll take your word for it

[08:11:01.0000] <jgraham>
They should be identical

[08:11:02.0000] <annevk>
both also work in Gecko and Opera

[08:11:03.0000] <jgraham>
Provided browsers follow the spec

[08:11:04.0000] <annevk>
dunno about IE

[08:11:05.0000] <jgraham>
So, erm, good luck with that ;)

[08:13:00.0000] <annevk>
mpilgrim, writing a chapter on XMLHttpRequest?

[08:13:01.0000] <mpilgrim>
no, just adding some feature tests to the appendix

[08:13:02.0000] <mpilgrim>
someone emailed and requested

[08:14:00.0000] <paul_irish>
annevk: you know how gecko has a global DataTransfer object? is that specced out? it not being available in webkit is really a downer sometimes.

[08:14:01.0000] <paul_irish>
mpilgrim: to peeks, pokes?

[08:14:02.0000] <mpilgrim>
apparently, when you name a list "a guide to detecting everything," some people take it literally

[08:14:03.0000] <annevk>
mpilgrim, can I request a chapter? :)

[08:14:04.0000] <annevk>
paul_irish, isn't that part of drag & drop?

[08:15:00.0000] <paul_irish>
annevk: yup. but hey you're smart.. you might know offhand. :)

[08:15:01.0000] <annevk>
http://www.whatwg.org/specs/web-apps/current-work/complete.html#the-dragevent-and-datatransfer-interfaces

[08:15:02.0000] <annevk>
paul_irish, jaja, those tricks only work a few times ;)

[08:16:00.0000] <annevk>
(I think it's also used for copy and paste, an API which is not defined yet :/)

[08:17:00.0000] <annevk>
mpilgrim, could be part of the Python book too, how to create a web service that works cross-origin; but maybe it's a little too experimental still

[08:17:01.0000] <hsivonen>
annevk: wasn't CORS almost done in 2006?

[08:18:00.0000] <annevk>
hsivonen, changes have been requested several times

[08:19:00.0000] <annevk>
hsivonen, I think it's now more or less done, but still being tweaked, and not implemented everywhere yet

[08:22:00.0000] <annevk>
http://security.sys-con.com/node/1544072 -- Crockford flaming again in the media without any kind of constructive suggestion

[08:22:01.0000] <annevk>
what a tool

[08:24:00.0000] <micheil>
actually, raising the point is okay even so

[08:24:01.0000] <micheil>
other wise those posting bug reports in the open are also tools

[08:24:02.0000] <annevk>
this is not a bug report

[08:24:03.0000] <micheil>
true

[08:24:04.0000] <micheil>
but it's still raising a ponit

[08:25:00.0000] <micheil>
a lot of what I've heard from douglas is about fixing what's broken before adding more that could be broken

[08:25:01.0000] <annevk>
and if he actually paid closer attention (and the media would ask for different perspectives before going ahead and publishing) he might learn about sandboxing of untrusted content

[08:26:00.0000] <annevk>
so far he hasn't even done such a thing as filing a bug report, he's just yelling from the sidelines

[08:26:01.0000] <micheil>
annevk: I guess in the end someone has to do that, right?

[08:26:02.0000] <mpilgrim>
ok, http://diveintohtml5.org/everything.html updated with 3 "XMLHttpRequest Level 2" tests

[08:26:03.0000] <annevk>
micheil, for what benefit?

[08:27:00.0000] <annevk>
micheil, spread some FUD?

[08:27:01.0000] <micheil>
maybe not much, but there was always that saying: some publicity is better then no publicity.

[08:27:02.0000] <mpilgrim>
everything who helped answer my questions in the past 5 minutes gets a free copy of the online edition

[08:28:00.0000] <annevk>
i feel so privileged

[08:30:00.0000] <mpilgrim>
and the knowledge that you've helped make the print edition even more out of date

[08:30:01.0000] <annevk>
right, and I paid for that one!

[08:31:00.0000] <mpilgrim>
the withered ghost of the traditional publishing industry thanks you

[08:32:00.0000] <jgraham>
annevk: You're clearly too old for standards. You're changing stuff faster than your library can cope with

[08:34:00.0000] <mpilgrim>
then again, that withered ghost has sold over 12,000 copies of my book

[08:35:00.0000] <mpilgrim>
like actual sales, with money changing hands and everything

[08:35:01.0000] <mpilgrim>
people baffle me

[08:36:00.0000] <annevk>
time for Ghost Busters?

[09:10:00.0000] <jacobolus>
annevk: is there ever a time where "new foo" does different than "new foo()"?

[09:10:01.0000] <Workshiva>
Not if the spec has a word in it

[09:10:02.0000] <annevk>
dunno

[09:11:00.0000] <jacobolus>
annevk: for instance, I use "+new Date" all the time to get the time as # of milliseconds since the epoch

[09:11:01.0000] <Workshiva>
Well, obviously it matters if you don't end with a semicolon

[09:11:02.0000] <Workshiva>
new foo()('/index.html') is very different from new foo('/index.html')

[09:12:00.0000] <jacobolus>
Workshiva: sure. sometimes (+new Date)

[09:12:01.0000] <micheil>
Workshiva: but doing stuff like (fab)(router)(/^azs$/)

[09:12:02.0000] <micheil>
is far cooler. :P

[09:12:03.0000] <Workshiva>
Also, evil

[09:13:00.0000] <micheil>
it looks so bizzar

[09:13:01.0000] <jacobolus>
mpilgrim: so I think "new XMLHttpRequest" *should* be the same everywhere :)

[09:13:02.0000] <jacobolus>
that is, the same as "new XMLHttpRequest()"

[09:15:00.0000] <mpilgrim>
but both fail gracelessly in IE6, right?

[09:16:00.0000] <jacobolus>
something like that

[09:16:01.0000] <mpilgrim>
excellent

[09:17:00.0000] <jacobolus>
MSXML2.XMLHTTP, etc.

[09:17:01.0000] <mpilgrim>
in unrelated news, i finally got an email from someone complaining that i'd removed the sentence "This site is optimized for Lynx just because fuck you." from the front page of diveintopython3.org

[09:17:02.0000] <Workshiva>
I would like to file a formal objection against the removal

[09:18:00.0000] <Ms2ger>
Please write a change proposal

[09:18:01.0000] <Workshiva>
"Call the [[Construct]] method on Result(2), providing no arguments (that is, an empty list of arguments)."

[09:18:02.0000] <mpilgrim>
i had previous gotten numerous complaints about its presence

[09:19:00.0000] <mpilgrim>
including MORE THAN ONE from Lynx users who complained that it was not actually optimized for Lynx

[09:20:00.0000] <Workshiva>
Did you tell them it was optimized for another version than the one they were using?

[09:21:00.0000] <mpilgrim>
i've found it is unwise to troll Lynx users

[09:24:00.0000] <Workshiva>
Do they gather their posse and diss your CSS files?

[09:24:01.0000] <jacobolus>
mpilgrim: you could serve a separate version of the page to lynx user agents with the sentence left out

[09:27:00.0000] <Philip`>
It's slightly distracting that the body font in diveintohtml5.org makes me read Modernizr as "Modemizr"

[09:27:01.0000] <Philip`>
which would be a good name for a browser extension that simulates a really slow network connection

[09:28:00.0000] <jacobolus>
mpilgrim: btw, unless you like them for extra readability, you can leave off parens in many places on http://diveintohtml5.org/everything.html

[09:28:01.0000] <jacobolus>
mpilgrim: in binds tighter than && for example

[09:28:02.0000] <jacobolus>
well, in a few places

[09:29:00.0000] <mpilgrim>
lies! custom fonts make your design look dean and modem!

[09:30:00.0000] <micheil>
duh.

[09:30:01.0000] <Workshiva>
Them's fighting words

[09:31:00.0000] <AryehGregor>
annevk, I wasn't really planning on working out what features of <marquee> should be supported, no, beyond the IDL stuff that I'm working on anyway.

[09:31:01.0000] <jacobolus>
(and new binds tighter than in, of course)

[09:32:00.0000] <mpilgrim>
since Lynx doesn't execute script, I could just add the sentence with document.write

[09:32:01.0000] <tabatkins>
Hmm.  An extension that simulates a really slow network connection would be pretty useful, actually.

[09:33:00.0000] <nimbupani>
tabatkins: http://stackoverflow.com/questions/473465/firefox-plugin-to-simulate-slow-internet-connection-or-limit-bandwidth

[09:33:01.0000] <tabatkins>
Oh Firefox, is there anything you don't have an extension for?

[09:33:02.0000] <nimbupani>
mute volume on specific tabs :(

[09:33:03.0000] <mpilgrim>
jacobolus: i'm willing to streamline the code

[09:34:00.0000] <mpilgrim>
some concrete examples?

[09:34:01.0000] <jacobolus>
mpilgrim: return ('localStorage' in window) && window['localStorage'] !== null;

[09:34:02.0000] <jacobolus>
return ('sessionStorage' in window) && window['sessionStorage'] !== null;

[09:35:00.0000] <jacobolus>
and then the two at the bottom with (new XMLHttpRequest());

[09:36:00.0000] <AryehGregor>
jacobolus, the general rule is 1) multiplication and division bind tighter than addition and subtraction, 2) arithmetic and bitwise operators bind tighter than logical operators, 3) logical operators bind tighter than comparison operators, 4) use parentheses for everything else because otherwise you're just going to confuse people reading the code who haven't spent hours memorizing the language's precedence rules.

[09:36:01.0000] <AryehGregor>
/me hates it when people do things like omit parentheses when they mix && and ||

[09:36:02.0000] <jacobolus>
AryehGregor: fair enough

[09:37:00.0000] <jacobolus>
AryehGregor: people should learn that && and || bind looser than almost everything in most languages

[09:37:01.0000] <AryehGregor>
I think "in" is like "+" or something, though, I think it's pretty obvious it binds tighter than "&&".  'localStorage' in (window && ...) doesn't make any sense.

[09:37:02.0000] <AryehGregor>
Yeah, that's my (2).

[09:37:03.0000] <jacobolus>
AryehGregor: in javascript the only things looser than && and || are assignment and the ternary conditional

[09:38:00.0000] <AryehGregor>
Yeah, ternary is looser than basically anything.

[09:38:01.0000] <jacobolus>
actually I looked at https://developer.mozilla.org/en/JavaScript/Reference/Operators/Operator_Precedence

[09:38:02.0000] <AryehGregor>
So that you can do a == b ? foo : bar.

[09:38:03.0000] <jacobolus>
apparently also "comma" is loosest

[09:38:04.0000] <AryehGregor>
Well, that hardly counts.

[09:38:05.0000] <AryehGregor>
You're not going to do f(foo, bar + baz) and expect it to mean f((foo, bar) + baz), seriously.

[09:39:00.0000] <AryehGregor>
Is there any case where there are multiple ways to associate commas and other operators and more than one isn't a syntax error?

[09:39:01.0000] <jacobolus>
but anyway, if you see foo in bar && baz === spam, it shouldn't be that hard to learn that such things will be (foo in bar) && (baz === spam)

[09:39:02.0000] <AryehGregor>
Right, that I agree with.

[09:40:00.0000] <jacobolus>
mpilgrim: !!('something that presumably returns yes or no').replace(/no/, '')); is a cute construction. who came up with that?

[09:41:00.0000] <mpilgrim>
i think i did

[09:41:01.0000] <mpilgrim>
and it's not "yes"/"no"

[09:41:02.0000] <Philip`>
What's wrong with "!=== 'no'"?

[09:42:00.0000] <mpilgrim>
it's "probably"/"maybe"/"no"/""

[09:42:01.0000] <mpilgrim>
and only older versions of firefox ever return "no"

[09:42:02.0000] <AryehGregor>
jgraham, MS's response in that reddit link links to a log of this channel, did you notice?

[09:42:03.0000] <AryehGregor>
Although they apparently didn't figure out how to link to specific links.

[09:42:04.0000] <Philip`>
Link to links?

[09:42:05.0000] <jgraham>
AryehGregor: No, I think I drowned in the waffle before that

[09:42:06.0000] <AryehGregor>
They probably meant to link to this: http://krijnhoetmer.nl/irc-logs/whatwg/20100625#l-151

[09:42:07.0000] <AryehGregor>
http://www.reddit.com/r/reddit.com/comments/dk3s0/the_ie9_team_responds_to_your_questions/

[09:42:08.0000] <AryehGregor>
(for the "why don't we get 100 on Acid3")

[09:43:00.0000] <mpilgrim>
ok, http://hg.diveintohtml5.org/hgweb.cgi/rev/0c2514cfbd99

[09:43:01.0000] <AryehGregor>
"As you can imagine a hospital with a multimillion dollar patient tracking web based application doesn't want a silent or automatic upgrade to their browser that could in fact jeopardize their patient's safety."

[09:44:00.0000] <AryehGregor>
Why do people always use these emotive and totally improbable examples?

[09:44:01.0000] <nimbupani>
coz feelings are stronger than rational thoughts.

[09:44:02.0000] <Philip`>
AryehGregor: If it's merely improbable and not impossible, then it seems like an important concern

[09:44:03.0000] <tabatkins>
As you can imagine a hospital with a multimillion dollar patient tracking web based application doesn't want a connection to the outisde internet on their computers that could in fact jeopardize their patient's safety.

[09:46:00.0000] <Philip`>
I imagine hospitals are also interested in having many of their computers actually be usable, and internet connections are important for that

[09:46:01.0000] <tabatkins>
Computers with connections to outside don't have to be the same as computers with private patient's data in the multimillion doloor patient tracking application.

[09:46:02.0000] <AryehGregor>
Philip`, according to statistical mechanics, it is improbable but not impossible that all the air in the room you're standing in right now will randomly move to the other side of the room and stay away from your mouth and nose for five minutes, thus causing you to suffocate.  Does this particularly concern you?

[09:46:03.0000] <jacobolus>
eek. usable for what? not like the people inputting patient records need to use the same machines for chatting on IRC

[09:47:00.0000] <Workshiva>
Applications that depend on a certain IE version could specify that in the compat header

[09:47:01.0000] <Workshiva>
The header they themselves added, hmm!

[09:47:02.0000] <jacobolus>
AryehGregor: you're talking about many many many orders of magnitude difference in probability

[09:47:03.0000] <AryehGregor>
jacobolus, probably at least 10^100.

[09:47:04.0000] <AryehGregor>
Orders of magnitude, I mean.

[09:47:05.0000] <AryehGregor>
Not a factor of 10^100, you understand.

[09:48:00.0000] <Philip`>
tabatkins: If that application has no connection to the outside world, it's not much good if doctors or ambulances etc need to access it remotely

[09:48:01.0000] <AryehGregor>
A factor of 10^10^100, or actually probably rather more, but that's the ballpark.

[09:48:02.0000] <tabatkins>
Philip`: That's what VPNs into the hosting server are for.

[09:48:03.0000] <AryehGregor>
Anyway, I suspect that people who work outside the hospital/financial/etc. industries have an exaggerated view of how important reliability is.

[09:48:04.0000] <jacobolus>
AryehGregor: the molecules in my roommate could reassemble themselves into a pink unicorn too, for example

[09:49:00.0000] <AryehGregor>
jacobolus, that would be even less likely.  Possibly add another 10^ at the bottom.

[09:49:01.0000] <Philip`>
tabatkins: In some cases the risk introduced by internet connectivity would be outweighed by the benefits (in convenience, cost, maintainability, etc) of having it, but only because people like Microsoft are careful to keep the risk relatively low by not throwing giant unwanted software updates at everyone

[09:50:00.0000] <Philip`>
AryehGregor: That doesn't concern me because I could get up and walk to the other side of the room

[09:51:00.0000] <AryehGregor>
Philip`, no, because the empty space could follow you.

[09:51:01.0000] <AryehGregor>
Wherever you went.

[09:51:02.0000] <AryehGregor>
Including if you tried putting on an oxygen mask.

[09:51:03.0000] <jacobolus>
....

[09:51:04.0000] <tabatkins>
The probability really is roughly equivalent.

[09:52:00.0000] <AryehGregor>
I know someone who works as a programmer in the financial industry.  I think I've said this before.  He writes bond-trading software that people use to trade billions of dollars.  They write everything in C++, and have no automated testing, and he thinks XML's fast failure is obnoxious.

[09:52:01.0000] <AryehGregor>
They mostly rely on employing really good programmers, I think.

[09:53:00.0000] <AryehGregor>
(whereas hospitals mostly rely on the fact that if they mess up and a patient dies due to their incompetence, they have liability insurance)

[09:53:01.0000] <AryehGregor>
As far as the financial industry goes, I mean, there's lots of money at stake, but probably they make the big clients' lawyers sign some limitation of liability agreement.

[09:54:00.0000] <AryehGregor>
It's not like the NYSE has to worry that if their computers mess up, they'll be liable for a trillion dollars of lost trades or something.

[09:54:01.0000] <AryehGregor>
Hixie, what's the status of removing the SMIL and/or SVG Fonts requirements from Acid3?  Did anything ever come of that?

[09:55:00.0000] <mpilgrim>
jesus, i leave this channel for 10 minutes and it goes all to hell

[09:57:00.0000] <AryehGregor>
jgraham, I think the reddit article is pretty interesting, given that it's a usual Microsoft shill piece.

[09:57:01.0000] <mpilgrim>
hmm, whwat's the status of getting the world to recognize that Acid3 should not be treated as a standards compliance test on a scale of 0 to 100?

[09:57:02.0000] <AryehGregor>
They do actually answer some hard questions, although they spin the answers very heavily.

[09:57:03.0000] <AryehGregor>
(e.g., see answer to iamnotobama)

[09:58:00.0000] <AryehGregor>
mpilgrim, the status is if we remove SMIL and SVG Fonts as a requirement, everyone will score 100/100.  Then we just have to make sure no one makes an Acid4.

[09:58:01.0000] <AryehGregor>
Using physical force, if necessary.

[09:58:02.0000] <mpilgrim>
damn, i probably shouldn't have registered diveintoacid4.org

[09:59:00.0000] <AryehGregor>
Man, Unicode smilies are useless.  They're just too small to be legible in normal text.

[09:59:01.0000] <AryehGregor>
☺

[09:59:02.0000] <Philip`>
mpilgrim: "Inline SVG" on http://diveintohtml5.org/peeks-pokes-and-pointers.html has an unmatched )

[09:59:03.0000] <AryehGregor>
At least in my fonts.

[09:59:04.0000] <mpilgrim>
eek

[09:59:05.0000] <AryehGregor>
$ whois diveintoacid4.org

[09:59:06.0000] <AryehGregor>
NOT FOUND

[09:59:07.0000] <Philip`>
Diving into acid sounds painful

[09:59:08.0000] <jgraham>
mpilgrim: Maybe "dive into acid" should be the punishment for attempting to create acid 4

[09:59:09.0000] <jacobolus>
is there an Acid 4?

[10:00:00.0000] <jacobolus>
can we start suggesting features for it sometime?

[10:00:01.0000] <Ms2ger>
Not yet

[10:00:02.0000] <jacobolus>
can we promote reasonable color management to the top of the list?

[10:00:03.0000] <AryehGregor>
"Heres a question, what do you have to offer over Chrome or Firefox except for a bigger market of popup ads and browser specific viruses?" "Thanks for the excellent double rhetorical question."

[10:01:00.0000] <mpilgrim>
Philip`: fixed

[10:01:01.0000] <Philip`>
mpilgrim: Also, 'shadowColor . . . CSS bg, default = "transparent black"' - there is no such CSS colour as "transparent black"

[10:02:00.0000] <mpilgrim>
it doesn't say it's a CSS color, it says it's a CSS background

[10:02:01.0000] <Philip`>
As far as I'm aware there is no such CSS background as "transparent black", and anyway it's a colour not a background

[10:03:00.0000] <Philip`>
(The CSS keyword "transparent" is sort of defined as rgba(0,0,0,0) so it's black already)

[10:04:00.0000] <Ms2ger>
FWIW, http://www.hixie.ch/tests/evil/acid/004/

[10:06:00.0000] <AryehGregor>
/me throws rocks at Hixie 

[10:06:01.0000] <AryehGregor>
This kind of glitzy "score X/100" test with a pretty picture really makes people focus on the wrong things.

[10:06:02.0000] <AryehGregor>
We should develop real test suites and get people to focus on those.

[10:06:03.0000] <AryehGregor>
You know, ones that actually test details instead of encouraging implementers to implement exactly the bare minimum necessary features to pass the test.

[10:07:00.0000] <jgraham>
AryehGregor: Happily, we are :)

[10:07:01.0000] <jgraham>
/me will be disappointed if acid 4 is XML-based

[10:08:00.0000] <AryehGregor>
Okay, so let's not also do Acid4, because then people are just going to focus on Acid4.

[10:08:01.0000] <Philip`>
The problem is that implementers don't really bother to pass 100% of real test suites

[10:08:02.0000] <AryehGregor>
Yes, so we should advertise those more widely.

[10:08:03.0000] <jgraham>
Mixed namespace HTML5 seems much more fun

[10:08:04.0000] <Philip`>
AryehGregor: Advertising works best when you have something fun to advertise

[10:08:05.0000] <AryehGregor>
We should get a unified test suite that you can easily run in your browser that prints out the number of tests failed.

[10:08:06.0000] <Philip`>
Pretty pictures and "score X/100" are fun since random people can run the tests themselves easily

[10:08:07.0000] <AryehGregor>
(not percentage, since that would start at 80% or more for a lot of features)

[10:09:00.0000] <jgraham>
Maybe we should make the official testsuite forma pretty picture

[10:09:01.0000] <AryehGregor>
Yes, we should do that for the real tests.

[10:09:02.0000] <mpilgrim>
Philip`: you're right, i was misreading the spec. fixed.

[10:09:03.0000] <jgraham>
But based on tens of thousands of tests

[10:09:04.0000] <jgraham>
Not a hundred

[10:09:05.0000] <jgraham>
It will be slow to run though

[10:10:00.0000] <Philip`>
I suppose there ought to be an interesting way to visualise thousands of boolean values

[10:10:01.0000] <Philip`>
so that it converges on some nice coherent image as the values tend towards true

[10:10:02.0000] <AryehGregor>
Hundreds of thousands of tests.

[10:10:03.0000] <jgraham>
Or becomes functional somehow

[10:11:00.0000] <Philip`>
(More interesting than just a plain bitmap)

[10:11:01.0000] <JBark>
Each fail is a dead pixel?

[10:11:02.0000] <AryehGregor>
Depending on what you call a "test".

[10:11:03.0000] <Philip`>
(but at least that'd be a place to start)

[10:11:04.0000] <AryehGregor>
I've written over 15,000 tests, sort of.

[10:11:05.0000] <AryehGregor>
Although of course it's really a script that makes 15,000+ assertions.

[10:11:06.0000] <Ms2ger>
BTW, jgraham, are there any approved html tests that use the test harness, apart from those for getElementsByClassName?

[10:11:07.0000] <Philip`>
for (var i = 0; i < 15001; ++i) assert(i == i);

[10:11:08.0000] <jgraham>
Yes, I expect us to get to 100,000

[10:11:09.0000] <Philip`>
Now I've written more than you

[10:12:00.0000] <AryehGregor>
Yeah, that's why counting tests doesn't make much sense.

[10:12:01.0000] <AryehGregor>
Proper test suites are meant to find bugs, not compare browsers.

[10:13:00.0000] <AryehGregor>
At least in my tests, in more than one case, I have one bug causing 100 failures or more.

[10:13:01.0000] <Philip`>
Test suites aren't just meant to find bugs, they're meant to get bugs fixed

[10:13:02.0000] <AryehGregor>
Well, okay.

[10:13:03.0000] <Philip`>
and comparing browers motivate developers to fix their bugs

[10:14:00.0000] <Philip`>
*browsers

[10:14:01.0000] <Philip`>
*motivates

[10:14:02.0000] <jgraham>
Ms2ger: I don't know

[10:14:03.0000] <AryehGregor>
Yes, but that's not how the tests are written.  If you want to compare browsers fairly, you need to make sure all the tests are independent and comparable in scope.

[10:14:04.0000] <annevk>
getElementsByClassName tests might end up getting pulled

[10:14:05.0000] <AryehGregor>
But that's incompatible with thorough testing.

[10:14:06.0000] <annevk>
if we make it a DOM Core feature

[10:15:00.0000] <Philip`>
AryehGregor: You don't need to compare browsers *fairly*

[10:15:01.0000] <AryehGregor>
Well, if you don't, then you create perverse incentives.

[10:16:00.0000] <jgraham>
Ms2ger: Why?

[10:16:01.0000] <AryehGregor>
Like "let's fix this bug that doesn't affect authors at all because it causes 2,000 test failures".

[10:16:02.0000] <AryehGregor>
Of course, test suites always create perverse incentives.

[10:16:03.0000] <AryehGregor>
Like I found that Gecko and WebKit will refuse to set tabIndex to anything higher than 32k or something.  Violates the spec, but is anyone going to run into it, really?

[10:17:00.0000] <AryehGregor>
But I'll file bugs on it anyway, because it does violate the spec . . .

[10:17:01.0000] <Ms2ger>
I was wondering if there was anything else I could run

[10:17:02.0000] <Philip`>
AryehGregor: The goal of the test suite is usually to have browsers pass 100% of it, so if we added a test it's because we want that incentive to exist

[10:17:03.0000] <jgraham>
Ms2ger: The XHR tests use the test harness

[10:17:04.0000] <AryehGregor>
I guess.

[10:17:05.0000] <annevk>
http://tc.labs.opera.com/apis/XMLHttpRequest/ and http://tc.labs.opera.com/apis/EventSource/

[10:17:06.0000] <AryehGregor>
We just have to make sure that browsers don't start cheating.

[10:18:00.0000] <Ms2ger>
Just for HTML, though

[10:18:01.0000] <AryehGregor>
There will be pressure for that to happen if there's too much pressure to pass all the tests.

[10:18:02.0000] <jgraham>
Ms2ger: No. I have some unreleased bit

[10:18:03.0000] <jgraham>
s

[10:18:04.0000] <AryehGregor>
Because then the goal will change from "fix bugs highlighted by tests" to "pass tests".

[10:18:05.0000] <AryehGregor>
The same thing happens with benchmarks.

[10:18:06.0000] <Philip`>
AryehGregor: I guess we could do that by watching how they fix the bugs, and if they do it in a cheating way then update the test suite to break them again

[10:19:00.0000] <AryehGregor>
How can you watch how they fix the bugs?

[10:19:01.0000] <Philip`>
Look in their bug trackers

[10:19:02.0000] <annevk>
AryehGregor, make sure you test all aspects

[10:19:03.0000] <AryehGregor>
IE9 apparently blatantly cheats on some of the SunSpider tests, in that its performance drops dramatically if you add "true;" in the middle of a loop or "return;" at the end of a function or whatever.

[10:19:04.0000] <AryehGregor>
Philip`, works for Gecko and WebKit.  Others, not so much.

[10:19:05.0000] <annevk>
AryehGregor, which admittedly is somewhat hard

[10:19:06.0000] <AryehGregor>
If you write good enough tests, though, it's true that the easiest way to pass will hopefully be to just fix the bugs.

[10:20:00.0000] <AryehGregor>
Unless they cheat by detecting whether the page is part of the test suite and running different code for it.

[10:20:01.0000] <jgraham>
In theory if you write good enough benchmarks that is true too

[10:20:02.0000] <Philip`>
AryehGregor: I think that was only reported on one SunSpider test, and it seems quite plausible that it's just hitting some optimisation threshold (don't inline functions larger than n AST nodes etc) or something

[10:20:03.0000] <AryehGregor>
Yes, if the benchmarks are real-world enough.

[10:20:04.0000] <jgraham>
I am unconvinced that sunspider is a good enopugh benchmark

[10:20:05.0000] <AryehGregor>
Philip`, maybe.

[10:20:06.0000] <AryehGregor>
No one seems to have any really good benchmarks.

[10:20:07.0000] <AryehGregor>
It's a shame.

[10:20:08.0000] <Philip`>
AryehGregor: I'd prefer more compelling evidence before accusing them of cheating on it

[10:20:09.0000] <jgraham>
It's a hard problem

[10:21:00.0000] <AryehGregor>
Philip`, yeah, okay.

[10:21:01.0000] <AryehGregor>
It's just an offhand remark on IRC.

[10:21:02.0000] <AryehGregor>
It was just an example, too.

[10:21:03.0000] <AryehGregor>
It happens all the time with this sort of thing.

[10:21:04.0000] <Philip`>
I agree it does happen

[10:22:00.0000] <AryehGregor>
Like I think Raymond Chen said that sometimes driver authors will ship drivers to Microsoft with an installer that sets a registry key that makes them act safely so that they pass the tests and get signed by Microsoft, then ship it to users with an installer that sets a different registry key so that it's faster but less stable.

[10:22:01.0000] <AryehGregor>
So totally different code paths.

[10:22:02.0000] <Philip`>
and there's lots of cases of not directly cheating but just fine-tuning the code specifically for the benchmarks at the expense of normal code

[10:22:03.0000] <AryehGregor>
It's very hard to detect that kind of thing in general with closed-source software.

[10:23:00.0000] <AryehGregor>
Actually, don't I remember hearing that some browser contained special-case code for a font used in a prominent test or something?

[10:23:01.0000] <AryehGregor>
(I think WebKit and Acid3, but my memory is very vague)

[10:23:02.0000] <Ms2ger>
You would be right

[10:23:03.0000] <Philip`>
Microsoft should just require than all programs running on Windows must be open source

[10:23:04.0000] <Philip`>
It'd solve a lot of their compatibility problems

[10:24:00.0000] <AryehGregor>
How could they enforce it without breaking compatibility with all existing programs?

[10:24:01.0000] <AryehGregor>
(hypothetically)

[10:24:02.0000] <Philip`>
Just break compatibility once and be done with it

[10:25:00.0000] <Ms2ger>
Versioning, of course!

[10:25:01.0000] <Philip`>
It's not like everyone's going to suddenly migrate to ReactOS

[10:25:02.0000] <AryehGregor>
No, but they'll migrate to pirated old Windows.

[10:26:00.0000] <Philip`>
Push out an automated update that kills all old Windowses

[10:26:01.0000] <Philip`>
Microsoft must know a lot of security vulnerabilities in old Windowses so they could write a pretty effective virus that'll catch even machines not on the internet

[10:27:00.0000] <AryehGregor>
Pirated Windows doesn't get automated updates.

[10:27:01.0000] <AryehGregor>
At least it's not supposed to.

[10:27:02.0000] <Philip`>
That's why you distribute the update in a virus

[10:28:00.0000] <AryehGregor>
That sounds illegal.

[10:28:01.0000] <AryehGregor>
They'd have to do it via a plausibly-deniable proxy.

[10:29:00.0000] <Philip`>
Disguise it as a virus that's infecting Iranian nuclear power stations or something

[10:35:00.0000] <Philip`>
/me just noticed http://hg.diveintohtml5.org/hgweb.cgi/rev/0c2514cfbd99 was committed "in the future ago"

[10:39:00.0000] <AryehGregor>
Weird . . . how easy is it to get a subdomain of mit.edu?  http://margaret.mit.edu/

[10:40:00.0000] <timdown>
Ms2ger: Hi. You seem to be editing a new version of the DOM Range spec. Being a random nobody, can I contribute?

[10:40:01.0000] <Ms2ger>
Yes!

[10:41:00.0000] <zcorpan>
timdown: awesome!

[10:41:01.0000] <Ms2ger>
timdown, do you have a bitbucket account?

[10:41:02.0000] <timdown>
Ms2ger: Yes, I signed up an hour or so ago

[10:42:00.0000] <timdown>
I should fork the repo, right?

[10:42:01.0000] <annevk>
should put a call for rand nobodies that are also aspiring spec editors on blog.whatwg.org :)

[10:42:02.0000] <annevk>
random, even

[10:42:03.0000] <Ms2ger>
timdown, I'll just give you access to the repo

[10:42:04.0000] <timdown>
great

[10:42:05.0000] <Philip`>
/me wonders if the Bitbucket acquisition is considered good or bad or unknown by open source people

[10:43:00.0000] <AryehGregor>
Unknown to me.

[10:44:00.0000] <Ms2ger>
And done

[10:45:00.0000] <Ms2ger>
timdown, you should be able to push

[10:45:01.0000] <Ms2ger>
if you need any help, do ping me

[10:47:00.0000] <zcorpan>
Ms2ger: innerText seems like a fun thing to spec

[10:48:00.0000] <Ms2ger>
zcorpan, I accept patches

[10:48:01.0000] <timdown>
Ms2ger, thanks. What's the aim with the new spec? Formalizing extensions? Ironing ambiguities in the old spec?

[10:48:02.0000] <Ms2ger>
Both

[10:48:03.0000] <zcorpan>
timdown: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10798 (fyi)

[10:49:00.0000] <timdown>
Ah, innerText being not dissimilar to how browsers implement Selection.toString()?

[10:49:01.0000] <Ms2ger>
Original goal was just speccing intersectsNode, tbh

[10:49:02.0000] <Ms2ger>
But that expanded a bit

[10:49:03.0000] <timdown>
zorcan: ah yes, I saw that. I wrote up a few Selection issues that prompted that, I think

[10:50:00.0000] <timdown>
intersectsNode works differently in Mozilla and WebKit

[10:50:01.0000] <timdown>
Mozilla took it out

[10:50:02.0000] <Ms2ger>
Yes

[10:50:03.0000] <Ms2ger>
And I have a bug assigned to me to add it back

[10:50:04.0000] <timdown>
heh, that was me as well

[10:50:05.0000] <annevk>
basically we want to rewrite the old DOM specs so they are far less ambiguous, match browsers more closely, and add/remove features based on existing implementations

[10:50:06.0000] <Ms2ger>
Oh, that's where I knew your name from

[10:50:07.0000] <timdown>
Seems likely

[10:51:00.0000] <jgraham>
annevk: You know it is shorter to say "don't suck"?

[10:52:00.0000] <Ms2ger>
jgornick, please rewrite that sentence so it doesn't suck

[10:52:01.0000] <Ms2ger>
s/jgornick/jgraham/

[10:53:00.0000] <jgornick>
no i not rewrite better sentences

[10:53:01.0000] <jgornick>
:P

[10:53:02.0000] <Ms2ger>
Or rewrite your name not to interfere with tab-completing jgraham ;)

[10:53:03.0000] <timdown>
Ms2ger, just so I'm clear, you're happy for me to write up some of the stuff you haven't done yet on the Range spec, push it and then presumably there's some mechanism for picking it apart?

[10:54:00.0000] <timdown>
sorry

[10:54:01.0000] <timdown>
noob

[10:55:00.0000] <Ms2ger>
I would be very happy if you did that

[10:55:01.0000] <timdown>
OK

[11:11:00.0000] <AryehGregor>
while ! sudo -n true </dev/null >/dev/null 2>&1 ; do sleep 1; done ; sudo id </dev/null 2>&1 | cat

[11:11:01.0000] <AryehGregor>
Do that and then do something in the GUI that asks for your password, like updating the system.

[11:11:02.0000] <AryehGregor>
The command will immediately execute as soon as you type your password in the GUI.

[11:11:03.0000] <AryehGregor>
Yay for the requirement that you type your password actually doing anything.

[11:11:04.0000] <AryehGregor>
(this is assuming you're on Linux, obviously)

[11:26:00.0000] <karlcow>
AryehGregor: not tried, but it seems it could work on macosx too, or any bsd at least

[11:27:00.0000] <AryehGregor>
I wonder if there's an easy variant that works on Windows.

[11:32:00.0000] <Philip`>
I thought Windows didn't have the concept of global user elevation (like sudo apparently does), which is why it asks you a million times if you're sure you want to give permission to click this button and that button and that button

[11:34:00.0000] <AryehGregor>
It seems to be stricter than Linux, yes.

[11:34:01.0000] <AryehGregor>
But I don't know if it's actually asking you for every action.

[11:36:00.0000] <Philip`>
I think it's per-process, but there's often a lot of processes involved in a series of user actions (like setting up a new networking connection)

[11:36:01.0000] <Philip`>
/me has only used Vista, and assumes Win7 makes it somewhat better

[11:37:00.0000] <Hixie>
is there any way to make xml.dom.minidom.parse use less RAM?

[11:38:00.0000] <Hixie>
i'm trying to parse a 6MB file and it turns into hundreds of MB in RAM

[11:38:01.0000] <Philip`>
You could buy more RAM, then it will use proportionally less

[11:38:02.0000] <Hixie>
that's the solution i'm using

[11:38:03.0000] <Philip`>
Or you could use lxml, I guess

[11:38:04.0000] <Hixie>
but it's a pain to have to get more RAM each time i update the entities db

[11:38:05.0000] <AryehGregor>
You could also force it to swap everything, then it will use disk instead of RAM.

[11:39:00.0000] <Hixie>
i should say "memory" rather than RAM

[11:39:01.0000] <AryehGregor>
You're moving the goalposts.  :(

[11:39:02.0000] <zcorpan>
you could use a custom regexp instead of a proper parser

[11:40:00.0000] <Hixie>
ok, having gotten more memory i can report that it uses 658MB

[11:40:01.0000] <Hixie>
i guess 100x increase isn't so bad (!)

[11:41:00.0000] <zcorpan>
or use a streaming parser maybe?

[11:41:01.0000] <tabatkins>
My browser tab doesn't have a 100x increase in memory usage when loading a page.

[11:41:02.0000] <Philip`>
Your browser's not written in Python

[11:41:03.0000] <Ms2ger>
You don't know that

[11:41:04.0000] <tabatkins>
This is true, but ideally it should be irrelevant.

[11:43:00.0000] <AryehGregor>
http://www.sharenator.com/w/whatwg.org

[11:43:01.0000] <annevk>
Hixie, the parsing does not happen elsewhere?

[11:43:02.0000] <Philip`>
Your browser was also written by people who spent a great deal of time optimising it, whereas Hixie's script was written by him presumably trying to do whatever's easiest to get working, using an API whose main design goal is to be reasonably simple

[11:46:00.0000] <Hixie>
annevk: elsewhere?

[11:48:00.0000] <annevk>
Hixie, I thought you generated it on pimpmyspec.net or some such

[11:50:00.0000] <jgraham>
Hixie: Just don't use minidom

[11:50:01.0000] <karlcow>
node.unlink() ? http://docs.python.org/library/xml.dom.minidom.html#dom-objects

[11:51:00.0000] <jgraham>
If you are using minidom you have already lost

[11:51:01.0000] <karlcow>
lxml is better than minidom for performance

[11:51:02.0000] <Hixie>
is there a drop-in replacement for minidom?

[11:51:03.0000] <Hixie>
annevk: nope

[11:53:00.0000] <jgraham>
Hixie: There are other dom modules, but not in the stdlib

[11:53:01.0000] <jgraham>
Hixie: Why are you so attached to DOM?

[11:53:02.0000] <Philip`>
It means one less API to learn

[11:54:00.0000] <tabatkins>
That's certainly why I use minidom for my page parsing needs.

[11:54:01.0000] <Philip`>
but lxml didn't seem much of a pain when I started using it

[11:54:02.0000] <jgraham>
Yeah, but a) DOm sucks and b) minidom sucks even more

[11:55:00.0000] <Hixie>
jgraham: because the code is already written and works fine, it just requires me to increase the memory allocation every few months when i have to rerun the entity processor script

[11:55:01.0000] <jgraham>
Hixie: How long is the code?

[11:55:02.0000] <Hixie>
and the pain of rewriting it exceeds the pain of 5 minutes of changing memory settings every few years

[11:55:03.0000] <Philip`>
Can't you run it on your local machine then upload the output?

[11:56:00.0000] <jgraham>
The pleasure of learning lxml so that you never have to use minidom again outweighs the cost of writing it

[11:56:01.0000] <Hixie>
the code is like 20 lines, the fixed cost of learning a new api is orders of magnitude higher than the incremental cost per line of changing the script :-)

[11:56:02.0000] <Hixie>
Philip`: far easier to briefly increase my memory allocation than try to ping pong data back and forth to my local dumb terminal

[11:57:00.0000] <Hixie>
jgraham: well to be fair i don't know how to use minidom either, i wrote this years ago

[11:57:01.0000] <Hixie>
and haven't used minidom since

[11:57:02.0000] <jgraham>
Oh well if it's 20 lines I will even rewite it for you. Though seriously, using minidom fr, well, anything, is a bad idea

[11:57:03.0000] <karlcow>
or publish the script, let someone fixing it

[11:58:00.0000] <Hixie>
jgraham: noted :-)

[11:59:00.0000] <Hixie>
http://damowmow.com/temp/entity-processor.txt is the script if anyone actually cares

[11:59:01.0000] <Hixie>
but it's fine, really

[11:59:02.0000] <Hixie>
i was just wondering if there was a quick fix i could apply

[12:01:00.0000] <Philip`>
You should compress your RAM

[12:05:00.0000] <AryehGregor>
Yes, but it would still use the same amount of virtual memory, and Hixie already ruled that out when I suggested swapping.

[12:05:01.0000] <AryehGregor>
Hixie, you have a local dumb terminal?

[12:06:00.0000] <tabatkins>
I didn't realize that Pokemon was actually set in the real Japan, until just now when I saw a map of all the pokemon areas overlaid onto the continent.

[12:06:01.0000] <tabatkins>
Now I'm mapping what the cities correspond to.

[12:06:02.0000] <Hixie>
AryehGregor: yeah, it's called a macbook pro

[12:09:00.0000] <AryehGregor>
Hixie, that's not a dumb terminal, it's a smart terminal.

[12:10:00.0000] <Philip`>
AryehGregor: Depends what you mean by "virtual memory"

[12:10:01.0000] <Hixie>
AryehGregor: i treat it as a dumb terminal

[12:10:02.0000] <AryehGregor>
tabatkins, seriously?  Cool.

[12:10:03.0000] <Philip`>
The application would have the same virtual address space, but the OS could store it in fewer physical pages (either in RAM or as virtual memory on disk)

[12:11:00.0000] <AryehGregor>
Hixie, so you don't ever try to do things like resize your terminal or move the cursor backwards?

[12:11:01.0000] <tabatkins>
AryehGregor: http://i.imgur.com/bQg7E.png?ref=nf

[12:11:02.0000] <jgraham>
http://ietherpad.com/LuFCwnAf8s is something like what that might look like in lxml assuming the input has no namespaces, with added bugs, and without being any more idiomatic than the original

[12:11:03.0000] <AryehGregor>
tabatkins, I guess that would have been obvious to the original Japanese audience.

[12:12:00.0000] <Philip`>
Or I suppose you could set up a RAM disk, format it with a compressed filesystem, then put a swap file on it, so the OS doesn't have to do anything special

[12:12:01.0000] <tabatkins>
AryehGregor: Yeah, probably.  The Kanto region is basically the area around Tokyo, so I assume that bit of geography is pretty well-known.

[12:13:00.0000] <tabatkins>
AryehGregor: Celadon City is very obviously Tokyo, for example.

[12:13:01.0000] <Ms2ger>
Oh, wow

[12:13:02.0000] <AryehGregor>
tabatkins, makes sense.

[12:13:03.0000] <AryehGregor>
Which cities did the bullet train go between?

[12:13:04.0000] <Hixie>
AryehGregor: resize my terminal, no, not other than by accident. It isn't a dumb terminal in the old mainframe sense, it's really just a dumb terminal in the Network Terminal sense Sun wanted -- it just runs a browser and some SSH sessions

[12:13:05.0000] <Ms2ger>
/me takes out his Game Boy

[12:13:06.0000] <AryehGregor>
/me only played Red/Blue and Gold/Silver

[12:13:07.0000] <tabatkins>
AryehGregor: That's from something other than red/blue/yellow, so I dunno.

[12:13:08.0000] <AryehGregor>
/me goes to dig up his Game Boy Color

[12:14:00.0000] <AryehGregor>
Oh, it is?

[12:14:01.0000] <AryehGregor>
I can't remember.

[12:14:02.0000] <tabatkins>
I'm playing Fire Red right now, so yes.

[12:14:03.0000] <AryehGregor>
It must be from GSC.

[12:14:04.0000] <AryehGregor>
Fire Red is what, a remake of Red with better graphics?

[12:14:05.0000] <AryehGregor>
I thought there was a train from Celadon City to somewhere.

[12:14:06.0000] <tabatkins>
Yeah.  And an import of some of the 3rd gen mechanics.

[12:15:00.0000] <AryehGregor>
I guess I only know second gen.  So like what mechanics?

[12:16:00.0000] <tabatkins>
Traits, and the dark/metal types.

[12:16:01.0000] <tabatkins>
Several new moves from the later games.

[12:17:00.0000] <AryehGregor>
Dark and steel are from generation two.

[12:17:01.0000] <AryehGregor>
Dunno about traits.

[12:17:02.0000] <tabatkins>
Right, but they exist in Gen 3 too.

[12:18:00.0000] <AryehGregor>
http://bulbapedia.bulbagarden.net/wiki/Magnet_Train

[12:18:01.0000] <AryehGregor>
It looks like it was between Goldrenrod and Saffron, and only in generators 2 and 3.

[12:18:02.0000] <tabatkins>
Ah, it's a Johto/Kanto link.

[12:18:03.0000] <AryehGregor>
Also: http://bulbapedia.bulbagarden.net/wiki/Pok%C3%A9mon_world_in_relation_to_the_real_world

[12:18:04.0000] <AryehGregor>
<3 wikis

[12:19:00.0000] <AryehGregor>
(also notice HTML5 versions, yay for 1.16.0)

[12:19:01.0000] <AryehGregor>
(also notice HTML5 features, yay for 1.16.0)

[12:19:02.0000] <AryehGregor>
(specifically <input type=search>)

[12:19:03.0000] <tabatkins>
Ah, I was wondering if Saffron was supposed to be part of Tokyo too.

[12:19:04.0000] <karlcow>
/me is suddenly missing Japan :)

[12:21:00.0000] <AryehGregor>
/me has never been to Japan and doesn't want to be there, but is suddenly missing Pokémon

[12:21:01.0000] <karlcow>
/me wonders where the original unicode.xml file is 

[12:21:02.0000] <AryehGregor>
/me goes to find his GBC

[12:21:03.0000] <tabatkins>
Pokemon is a great game to take on long flights.  It blows a lot of time, and is very kind to the battery.

[12:26:00.0000] <AryehGregor>
Turns out my Game Boy Color is right in the drawer, with Pokémon Gold loaded into it.  Batteries still good and everything.

[12:26:01.0000] <AryehGregor>
/me checks where he was when he left off the game

[12:27:00.0000] <AryehGregor>
No game saved.  :(

[12:28:00.0000] <tabatkins>
;_;

[12:31:00.0000] <AryehGregor>
I've got Gold, Silver, Red, Blue, and Yellow here.  Only Blue and Yellow have any saved games at all.  Blue has a game by my sister, with one badge and 16 Pokédex entries.  Yellow has a game by "Ash" with 0 badges and one Pokédex entry.

[12:32:00.0000] <AryehGregor>
I guess these things lose their memory if you don't use them for seven or eight years.  :(

[12:32:01.0000] <AryehGregor>
/me got all the badges in both Red and Silver at some point

[12:32:02.0000] <tabatkins>
Right, they save games using an internal battery.

[12:32:03.0000] <tabatkins>
That probably means that the games themselves can no longer be relied on to save themselves.

[12:33:00.0000] <Hixie>
man, you try to paste one 80k URL into a browser, and that browser won't let you hear the end of it

[12:33:01.0000] <Hixie>
/me twiddles thumbs waiting for chrome to come back to him

[12:33:02.0000] <tabatkins>
This was before non-volatile flash memory was cheap.

[12:33:03.0000] <AryehGregor>
Hixie, you can't kill the tab?  I guess the UI process is involved in URL parsing or something.

[12:33:04.0000] <AryehGregor>
tabatkins, really?  Sad.  I wonder why Blue and Yellow still work, then.

[12:33:05.0000] <AryehGregor>
I don't think they were used much more recently.

[12:33:06.0000] <tabatkins>
Luck, probably.

[12:33:07.0000] <Hixie>
firefox handled it much better

[12:34:00.0000] <tabatkins>
AryehGregor: A lot of NES games can't really be played anymore for the same reason, unless you open them up and replace the battery.

[12:34:01.0000] <AryehGregor>
:(

[12:34:02.0000] <tabatkins>
That's not an overly difficult task if you have a soldering iron.

[12:35:00.0000] <AryehGregor>
I have some SNES games lying around, including Super Mario RPG, which was my favorite.  But I sold my SNES years ago for like $15, so they're kind of useless.

[12:35:01.0000] <tabatkins>
My friend's done it several times while cleaning the inside of used games he's bought.

[12:35:02.0000] <AryehGregor>
On the other hand, I can feel morally justified in playing a ROM if I own the actual game and there's no reasonable legal way to play it.

[12:35:03.0000] <tabatkins>
AryehGregor: Buy it on the Virtual Console!

[12:35:04.0000] <AryehGregor>
What's that?

[12:36:00.0000] <tabatkins>
Wii.

[12:36:01.0000] <AryehGregor>
Also, why do you change your name's capitalization sometimes?  It changes coloring in XChat, which is distracting.

[12:36:02.0000] <AryehGregor>
Oh, really?

[12:36:03.0000] <AryehGregor>
But you have to buy it a second time, I suppose.

[12:36:04.0000] <TabAtkins>
Yeah, you do.  But it's cheap, like $10 in wii points.

[12:37:00.0000] <TabAtkins>
And I don't change my name capitalization on purpose.  lowercased seems to be the default I set up, so whenever I restart my comp it sets to that until I remember to identify myself and change it.

[12:37:01.0000] <AryehGregor>
"Wii points" meaning you have to buy them in blocks that don't cleanly divide the price of anything so you actually spend more than $10 and then have leftover points to try luring you into buying more things so that they aren't a waste?

[12:37:02.0000] <TabAtkins>
Actually, wii points generally divide well.

[12:37:03.0000] <TabAtkins>
Most prices are in blocks of $5.

[12:38:00.0000] <TabAtkins>
Otherwise, yes.

[12:38:01.0000] <TabAtkins>
There are some VC games that cost $6-$8, but shrug.

[12:48:00.0000] <Peter->
Ms2ger: changed the post, thank you!

[12:49:00.0000] <Ms2ger>
np

[12:50:00.0000] <AryehGregor>
TabAtkins, regarding http://www.w3.org/Bugs/Public/show_bug.cgi?id=10647 : didn't you conclude that sigma = pixels/2 was the right formula, when we had that discussion on www-style?

[12:50:01.0000] <AryehGregor>
If so, yay.

[12:52:00.0000] <AryehGregor>
Also, now Philip` has to update all his canvas blur tests.

[12:56:00.0000] <TabAtkins>
AryehGregor: Yes.  That's why that's the current definition in the CSS3 Backgrounds & Borders draft.

[12:56:01.0000] <AryehGregor>
Yay, convergence.

[12:57:00.0000] <AryehGregor>
Too bad SVG specifies sigmas.

[12:57:01.0000] <TabAtkins>
Yeah, it's a little annoying.  But at least the rule is easy.  When doing SVG, just cut your desired blur width in half.

[13:00:00.0000] <Hixie>
five points to the first person who can work out for me what the formal reference for EUC-JP should be

[13:00:01.0000] <Hixie>
IANA and Wikipedia have failed me

[13:08:00.0000] <AryehGregor>
annevk, does this fit your "send HEAD with a body" needs? http://httpd.apache.org/docs/2.0/mod/mod_asis.html

[13:08:01.0000] <AryehGregor>
(thanks to Julian for mentioning it in a bug I was reading)

[13:08:02.0000] <Philip`>
AryehGregor: Updating the tests should be trivial

[13:09:00.0000] <Philip`>
/me supposes he ought to just update it now, rather than sticking it on the end of an infinite queue

[13:12:00.0000] <karlcow>
Hixie: ISO 2022-JP (JIS) Text Codec

[13:15:00.0000] <AryehGregor>
"I'm filing this without testing what happens in other browsers and without providing bugzilla/cvs archeology information about the rationale of the lore, because I want to get this on file before the deadline."

[13:15:01.0000] <AryehGregor>
hsivonen, that sounds like cheating.

[13:15:02.0000] <AryehGregor>
Also, is it actually necessary?  Anything that implementers agree on can still go in indefinitely, right?

[13:15:03.0000] <TabAtkins>
No, it's just an honestly incomplete bug.  ^_^

[13:16:00.0000] <karlcow>
ah no misread EUC-JP not JIS 

[13:16:01.0000] <karlcow>
http://www.iana.org/assignments/character-sets

[13:17:00.0000] <karlcow>
Source: Standardized by OSF, UNIX International, and UNIX Systems

[13:17:01.0000] <karlcow>
        Laboratories Pacific.  Uses ISO 2022 rules to select

[13:18:00.0000] <AryehGregor>
Actually, I suppose the WHATWG cabal may as well totally ignore the HTMLWG deadline for bug-filing, since it presumably won't affect the WHATWG version regardless.

[13:19:00.0000] <Workshiva>
AryehGregor: Sort of like how HTMLWG ignored the WHATWG last call? :P

[13:19:01.0000] <AryehGregor>
ReportedBy: public-i18n-bidi⊙wo

[13:19:02.0000] <AryehGregor>
Bugs are being reported by mailing lists?

[13:19:03.0000] <Hixie>
karlcow: yes, read all those... but what's the reference?

[13:19:04.0000] <annevk>
AryehGregor, prolly not

[13:19:05.0000] <AryehGregor>
Workshiva, as far as I can tell, the WHATWG ignored the WHATWG last call too.  Or at least I didn't see any difference other than the spec saying "Last Call" on it for a while.

[13:20:00.0000] <Hixie>
well shortly after we went to last call i switched to an unversioned model so it became kinda moot

[13:21:00.0000] <Philip`>
Hmph, the spec all got changed since I last updated the annotations :-(

[13:25:00.0000] <annevk>
AryehGregor, I should prolly draw a line too with how much of HTTP I test in the XMLHttpRequest test suite

[13:25:01.0000] <AryehGregor>
I've been trying to avoid testing anything outside of HTML5 in my reflection tests.

[13:25:02.0000] <AryehGregor>
Not WebIDL, DOM methods, etc.

[13:26:00.0000] <AryehGregor>
I do test that setAttribute() followed by getAttribute() returns the same thing (there are surprisingly many implementations where it doesn't always), but that's just to avoid confusing error messages when it causes reflection to fail since setAttribute() isn't working as intended.

[13:26:01.0000] <annevk>
do you try assigning null/undefined and see what happens?

[13:26:02.0000] <annevk>
that could really help Web IDL

[13:26:03.0000] <annevk>
that data

[13:27:00.0000] <annevk>
for things that take a DOMString that is

[13:27:01.0000] <AryehGregor>
No, I don't assign anything to the IDL attribute that's not in the range of the type, because that's WebIDL and I haven't read WebIDL, so I can't say what's supposed to happen.

[13:28:00.0000] <annevk>
I think your test should handle those boundaries

[13:28:01.0000] <annevk>
not quite sure what other test would

[13:31:00.0000] <Philip`>
Seems better to test too much than too little

[13:31:01.0000] <Philip`>
In the worst case, implementers will tell you your tests are wrong

[13:35:00.0000] <AryehGregor>
I could do it, but someone has to tell me the expected values.

[13:35:01.0000] <AryehGregor>
Or I have to read WebIDL.

[13:35:02.0000] <TabAtkins>
It's really simple for the null/undefined stuff.

[13:35:03.0000] <AryehGregor>
Maybe I just need to put this kind of thing off till when I have more free time.

[13:35:04.0000] <annevk>
Web IDL is quite easy to read

[13:36:00.0000] <annevk>
and soonish heycam will be able to help out

[13:36:01.0000] <TabAtkins>
/me became sufficiently expert to advise some dudes in about 5 minutes.

[13:36:02.0000] <annevk>
well, the null/undefined stuff is still not decided

[13:37:00.0000] <annevk>
i guess the defaults will be ""/"undefined" respectively, but it requires some more investigation

[13:37:01.0000] <TabAtkins>
Luckily my advice was regarding null/undefined passed to a numeric argument.

[13:37:02.0000] <AryehGregor>
I already sat down today thinking "Okay, let me do some schoolwork before I check my e-mail or anything."  Then went "Eh, I did schoolwork all yesterday, plus the professor said he doesn't really care if we hand stuff in on time, let me quick check who pinged me on IRC."  That was about five hours ago.

[13:38:00.0000] <AryehGregor>
Why aren't all values just cast to the type of the variable, using standard JS rules?  Not web-compatible?

[13:38:01.0000] <annevk>
AryehGregor, heh, shut down IRC :)

[13:38:02.0000] <AryehGregor>
I'm capable of ignoring it.

[13:38:03.0000] <AryehGregor>
I just chose not to.

[13:38:04.0000] <annevk>
AryehGregor, not compatible no

[13:38:05.0000] <AryehGregor>
/me has a not-yet-installed copy of StarCraft II sitting a few feet away in case he gets really stressed

[13:39:00.0000] <TabAtkins>
/me is coming over to Aryeh's house.

[13:39:01.0000] <AryehGregor>
TabAtkins, I'm pretty sure you could get StarCraft II locally for less than the cost of a plane ticket.

[13:39:02.0000] <TabAtkins>
Yeah, but I can only run it on my wife's computer, and she's using it right now.

[13:39:03.0000] <AryehGregor>
Anyway, speaking of my reflection tests, Hixie kindly resolved a few months' worth of reflection-related bugs in one day, so I have some test-updating to do.

[13:40:00.0000] <AryehGregor>
TabAtkins, I suspect you get a computer capable of running StarCraft II locally for less than it would cost to get a last-minute plane ticket to New York.

[13:40:01.0000] <AryehGregor>
But I dunno, I don't fly much.

[13:41:00.0000] <TabAtkins>
I probably should avoid installing Steam on my work computer, though it would be *very* nice for playing Fallout on top settings.

[13:41:01.0000] <TabAtkins>
Mmm...

[13:42:00.0000] <AryehGregor>
Do you own your work computer?

[13:42:01.0000] <TabAtkins>
No.

[13:42:02.0000] <AryehGregor>
Google gave you a work computer with a decent graphics card?

[13:43:00.0000] <TabAtkins>
They gave me a work computer with a ridiculous everything.

[13:43:01.0000] <AryehGregor>
What's the graphics card?

[13:43:02.0000] <Philip`>
/me got given one with a decent graphics card, mainly because an indecent graphics card wouldn't have been able to power the 30" monitor

[13:43:03.0000] <karlcow>
aaaaaah

[13:43:04.0000] <AryehGregor>
I can understand they'd give programmers dual quad-core CPUs and 8 GB of RAM or whatever, but I can't see the need for a $300 graphics card.

[13:43:05.0000] <karlcow>
Hixie: I might have a lead

[13:43:06.0000] <karlcow>
ISO/IEC 10744

[13:44:00.0000] <AryehGregor>
Philip`, are you working for someone these days?

[13:44:01.0000] <Philip`>
No

[13:44:02.0000] <AryehGregor>
/me isn't sure how much you'd need to spend to run Fallout 3 (I assume that's what you're referring to) on highest settings

[13:44:03.0000] <AryehGregor>
I mean, for a graphics card.

[13:44:04.0000] <AryehGregor>
My gaming machine has a . . . GeForce 7900, I think.

[13:45:00.0000] <TabAtkins>
nvidia quadro fx 380.  No clue on the relative quality of that.

[13:45:01.0000] <AryehGregor>
I never cared much for running everything on highest settings, and it still works.

[13:45:02.0000] <AryehGregor>
http://www.nvidia.com/object/product_quadro_fx_380_us.html

[13:45:03.0000] <AryehGregor>
256 MB of VRAM does not sound like a high-end card.  Mid-end, maybe.  But I don't follow this too closely.

[13:46:00.0000] <TabAtkins>
Eh, sure.  It'd be fine to running F3 fairly high, though.

[13:46:01.0000] <AryehGregor>
Costs about $100.

[13:46:02.0000] <karlcow>
/me is grrrr at ISO spec

[13:55:00.0000] <annevk>
I'm not really sure it makes sense to do innerText in CSSOM

[13:55:01.0000] <annevk>
well, it may make sense, but I'd rather not take it on

[13:56:00.0000] <annevk>
for now

[13:56:01.0000] <karlcow>
http://en.wikipedia.org/wiki/JIS_X_0208

[13:56:02.0000] <annevk>
and it's prolly better grouped with visual selection, editing, etc.

[13:56:03.0000] <karlcow>
"The official title of the current standard is 7-bit and 8-bit double byte coded KANJI sets for information interchange"

[14:34:00.0000] <jgraham>
"WebIDL is pretty easy" - which WebIDL is that? The one I have seen is quite confusing

[14:36:00.0000] <jgraham>
(it could just be me of course, but since other people seemed to find it non-trivial to understand and since they do things like program high performance javascript engines, I conclude that they are reasonably bright)

[14:37:00.0000] <jgraham>
(and hence that it is probably not just me)

[14:37:01.0000] <annevk>
http://www.icanhasmotivation.com/wp-content/uploads/2009/05/thebible.jpg heh

[14:37:02.0000] <TabAtkins>
The one I get from googling WebIDL.

[14:40:00.0000] <annevk>
jgraham, or maybe they have trouble reading specs?

[14:41:00.0000] <AryehGregor>
I found WebIDL confusing too, FWIW.

[14:41:01.0000] <jgraham>
antti_s: Possible, but unlikely

[14:41:02.0000] <annevk>
developers seem relatively often confused

[14:41:03.0000] <jgraham>
er

[14:41:04.0000] <AryehGregor>
Then again, some people find HTML5 confusing, and I think it's very clear.

[14:41:05.0000] <jgraham>
annevk: ^

[14:41:06.0000] <AryehGregor>
(usually)

[14:41:07.0000] <jgraham>
Indeed, I think HTML5 is clear

[14:41:08.0000] <jgraham>
I think WebIDl is much less clear

[14:43:00.0000] <jgraham>
TabAtkins: FWIW the one you get by googling webidl (you are supposed to tell us not to verbify "Google") is the /TR/ version

[14:43:01.0000] <jgraham>
Which is hopelessly out of date

[14:43:02.0000] <TabAtkins>
I get the dev.w3.org version.

[14:45:00.0000] <jgraham>
TabAtkins: Obviously google biases good results towards its own employees

[14:45:01.0000] <jgraham>
Or Americans

[14:45:02.0000] <jgraham>
Or something

[14:45:03.0000] <TabAtkins>
Both, actually.

[14:45:04.0000] <TabAtkins>
That's your daily dose of confidential google-fu.

[14:47:00.0000] <TabAtkins>
I have to stop pulling up the asteroids-in-the-page bookmarklet and just spinning it in the center of the page spraying bullets every 5 minutes.

[14:49:00.0000] <annevk>
you get the dev version? impressive

[14:50:00.0000] <annevk>
/me just remembers URLs these days since Google fails hard

[14:50:01.0000] <AryehGregor>
Search results are customized based on your search history, you know.

[14:50:02.0000] <AryehGregor>
Try it in private browsing mode or whatever, perhaps tunneled over a server so it doesn't use IP address.

[14:51:00.0000] <jgraham>
I should try to convince google that w3.org/TR/ is all spam

[14:51:01.0000] <jgraham>
so it gets deindexed

[14:51:02.0000] <TabAtkins>
Yeah, a private mode window gives me /TR/ for the top result.

[14:51:03.0000] <annevk>
private gives me dev.w3.org as top

[14:51:04.0000] <annevk>
see, Google doesn't make any sense

[14:52:00.0000] <jgraham>
So, we need to get /TR/ deindexed

[14:52:01.0000] <jgraham>
Or destroy /TR/

[14:52:02.0000] <jgraham>
Or both

[14:52:03.0000] <TabAtkins>
I go with "destroy /TR/".

[14:52:04.0000] <annevk>
pretty easy to just remember dev.w3.org/2006/webapi/WebIDL/

[14:52:05.0000] <TabAtkins>
"easy", yeah.

[14:53:00.0000] <TabAtkins>
I can barely remember that css stuff is at /csswg/

[14:53:01.0000] <jgraham>
annevk: Not really. Also not that handy if you tell someone else to look and they look in the wrong version

[14:53:02.0000] <jgraham>
Which happens *all the time* (as well you know)

[14:54:00.0000] <annevk>
so bad at sarcasm

[14:54:01.0000] <jgraham>
Oh

[14:54:02.0000] <jgraham>
The internet is bad at sarcasm

[14:54:03.0000] <jgraham>
Or rather text is bad at sarcasm

[14:54:04.0000] <annevk>
reddit is pretty good at it

[14:55:00.0000] <annevk>
at least after a couple of voting rounds :)

[15:05:00.0000] <karlcow>
"EUC-JP is based on the character repertoire defined in JIS X 0208, see http://tinyurl.com/2v8r9rp . It seems that the term "EUC-JP" is not defined within a standard, but is based on the encoding method first developed by AT&T and others in 1985." --- Felix Sasaki

[15:06:00.0000] <karlcow>
Hixie, ping

[15:06:01.0000] <AryehGregor>
You know what someone needs to do?  Instrument their shipping browsers to store a list of all features -- like all supported elements, DOM attributes, JS features, maybe other stuff too -- and keep a persistent bitmap someplace that sets the bit for a feature when it's used.  Then once in a while, when checking for updates or something, ship the bitmap back to the implementer.

[15:07:00.0000] <AryehGregor>
Maybe along with the number of pages the browser has visited since the bitmap was last cleared.

[15:07:01.0000] <AryehGregor>
Then you can say things like "99.99% of our users have not visited a page using feature X, so it's safe to remove."

[15:10:00.0000] <hober>
what webidl module are all of the IDL definitions in the spec supposed to be in?

[15:12:00.0000] <annevk>
if someone just /msg'd me I hit a wrong button so please repeat...

[15:14:00.0000] <AryehGregor>
While I'm at it, I also want browsers to be able to automatically sync passwords and cookies between them.

[15:14:01.0000] <AryehGregor>
And a pony.

[15:26:00.0000] <AryehGregor>
Can anyone tell me what I should put in my hgrc for committing to dvcs.w3.org, given that I don't generally use Mercurial and don't have any hgrc right now at all?  I need to set ui.username to even record a commit, but what should I set so that "hg push" does what I want?

[15:26:01.0000] <AryehGregor>
IIRC, hg only supports HTTP auth, so I can't use a private key to authenticate, right?

[15:29:00.0000] <AryehGregor>
Looks like hg theoretically supports key-based login, but I guess password is easier to set up.

[15:33:00.0000] <jgraham>
[paths]

[15:33:01.0000] <jgraham>
default = https://dvcs.w3.org/html/

[15:34:00.0000] <jgraham>
I think that is all you need

[15:34:01.0000] <AryehGregor>
Ah, it will just prompt me then.

[15:35:00.0000] <jgraham>
Yes

[15:36:00.0000] <AryehGregor>
/me just got an exception when running "hg pull", nice

[15:36:01.0000] <AryehGregor>
I'm impressed already.

[15:36:02.0000] <AryehGregor>
Also "hg push".

[15:37:00.0000] <AryehGregor>
Apparently it was my [auth] that did it.

[15:38:00.0000] <AryehGregor>
$ hg push

[15:38:01.0000] <AryehGregor>
pushing to https://dvcs.w3.org/hg/html

[15:38:02.0000] <AryehGregor>
searching for changes

[15:38:03.0000] <AryehGregor>
http authorization required

[15:38:04.0000] <AryehGregor>
realm: W3C Mercurial Repository

[15:38:05.0000] <AryehGregor>
user: agregor

[15:38:06.0000] <AryehGregor>
password: 

[15:38:07.0000] <AryehGregor>
abort: HTTP Error 500: Internal Server Error

[15:38:08.0000] <AryehGregor>
Sigh.

[15:38:09.0000] <Philip`>
I think you get that if your password is wrong

[15:38:10.0000] <AryehGregor>
How helpful.

[15:39:00.0000] <jgraham>
I think that is a W3C problem though

[15:39:01.0000] <AryehGregor>
I'm not an HTTP expert, but I seem to recall that there might be a status code for that condition?  Like maybe 403?  (Or there might even be a more specific one for failed HTTP auth.)

[15:39:02.0000] <AryehGregor>
500 is not helpful.

[15:39:03.0000] <jgraham>
rather than a mercurial problem per-se

[15:40:00.0000] <AryehGregor>
What login am I using, though?  The same one I use to get access to the members' area?

[15:40:01.0000] <Philip`>
Yes

[15:40:02.0000] <Philip`>
like for polls and whatnot

[15:40:03.0000] <AryehGregor>
Chrome doesn't let me copy-paste it, maybe I mistyped it.

[15:40:04.0000] <AryehGregor>
jgraham, it's Mercurial's problem because Mercurial made the braindead decision to use HTTP auth, which is a vestigial authentication mechanism that nobody sane uses, cares about, or works on making non-broken.

[15:41:00.0000] <jgraham>
(agreed that 5000 is not helpful)

[15:41:01.0000] <AryehGregor>
If they used something normal like SSH, or their own custom protocol, the problem wouldn't occur.

[15:41:02.0000] <AryehGregor>
This seriously annoyed me when I tried to write a web app that integrated with hg.

[15:41:03.0000] <AryehGregor>
Changes to some auth information required restarting the web server.

[15:42:00.0000] <AryehGregor>
Or no, it was something about virtual paths, or I don't remember, but it was directly because hg only supports HTTP auth.

[15:42:01.0000] <AryehGregor>
</rant>

[15:42:02.0000] <TabAtkins>
/me still doesn't really understand HTTP Auth, and thus hates it.

[15:42:03.0000] <TabAtkins>
Also it's ugly.

[15:43:00.0000] <jgraham>
AryehGregor: Huh? ssh works fine with hg

[15:43:01.0000] <AryehGregor>
Does it?

[15:43:02.0000] <jgraham>
Yes

[15:43:03.0000] <AryehGregor>
This was a while ago.

[15:43:04.0000] <jgraham>
It has worked for at least two years

[15:43:05.0000] <AryehGregor>
Oh, well, I guess SSH was impractical for my purposes.

[15:43:06.0000] <AryehGregor>
Because I'd have had to give everyone SSH logins.

[15:43:07.0000] <Philip`>
/me wonders if AryehGregor is going to successfully push soon

[15:43:08.0000] <Philip`>
(because if so then I won't commit/push myself)

[15:43:09.0000] <Philip`>
(to save the effort of merging)

[15:44:00.0000] <AryehGregor>
Philip`, I just unsuccessfully pushed four times in a row, does that help?

[15:44:01.0000] <jgraham>
It is not clear to me that making shit up is better than reusing http auth

[15:44:02.0000] <AryehGregor>
Possibly.

[15:44:03.0000] <AryehGregor>
I remember being annoyed at the time, though.

[15:44:04.0000] <AryehGregor>
Anyway.

[15:44:05.0000] <AryehGregor>
I still can't commit.

[15:44:06.0000] <AryehGregor>
Probably it's just that I'm mistyping the password or something.

[15:44:07.0000] <jgraham>
Yeah

[15:45:00.0000] <AryehGregor>
Philip`, in git, you'd rebase before committing rather than having to merge, so it would be basically effortless if there were no conflicts.

[15:45:01.0000] <AryehGregor>
(which there wouldn't be, unless you're creating an AryehGregor directory in submission/)

[15:45:02.0000] <AryehGregor>
I take it hg doesn't support rebase out of the box.  It seems to have lots of extensions.

[15:45:03.0000] <AryehGregor>
Extensions are bad.

[15:46:00.0000] <Philip`>
Does rebase alter the history?

[15:46:01.0000] <AryehGregor>
Maybe I'll get used to hg if I'm forced to use it enough, though.

[15:46:02.0000] <Philip`>
Hg seems to try hard to avoid ever altering history

[15:46:03.0000] <AryehGregor>
Yes, it rewrites all the local commits so they're based on the new upstream.

[15:46:04.0000] <AryehGregor>
It's extremely convenient.

[15:46:05.0000] <Philip`>
(which is kind of annoying and forces you to put a layer like mq on top of it)

[15:47:00.0000] <AryehGregor>
Although of course it completely breaks everything if you publish a tree and then rewrite it.

[15:47:01.0000] <AryehGregor>
Well, not completely, but it's a pain.

[15:47:02.0000] <AryehGregor>
But being able to freely rewrite local commits is one of the awesomest things about git.

[15:47:03.0000] <jgraham>
AryehGregor: With or without rebasing it will be rather painless if there are no conflicts

[15:47:04.0000] <AryehGregor>
Merge will have to record an extra commit, though, won't it?

[15:48:00.0000] <jgraham>
Well yes, but that is hardly painful

[15:48:01.0000] <jgraham>
W3C has an "email me my password in cleartext" facility if you need it BTW

[15:48:02.0000] <AryehGregor>
I've got it now.

[15:49:00.0000] <jgraham>
OK, good

[15:49:01.0000] <AryehGregor>
Extra useless commits are annoying, though.  You want to avoid them.  There's no reason to avoid a rebase.

[15:49:02.0000] <AryehGregor>
I mean, I haven't committed yet.

[15:49:03.0000] <AryehGregor>
But I'm sure what my password is.

[15:50:00.0000] <AryehGregor>
I give up.

[15:50:01.0000] <AryehGregor>
I can log in successfully to the members' area.

[15:50:02.0000] <AryehGregor>
But the same login for the DVCS fails.

[15:51:00.0000] <jgraham>
I assume you have the right username

[15:51:01.0000] <AryehGregor>
It works for the surveys.

[15:53:00.0000] <jgraham>
Talk to plh or MikeSmith?

[15:53:01.0000] <Philip`>
Huh

[15:53:02.0000] <Philip`>
abort: HTTP Error 500: Internal Server Error

[15:53:03.0000] <Philip`>
It's not just you

[15:53:04.0000] <AryehGregor>
Yay.

[15:53:05.0000] <AryehGregor>
/me commiserates

[15:53:06.0000] <Philip`>
(and I haven't changed my configuration since it last worked successfully)

[15:54:00.0000] <AryehGregor>
That's what they always say.

[15:55:00.0000] <jgraham>
Hmm

[15:55:01.0000] <jgraham>
I wonder if they changed the auth

[15:59:00.0000] <jgraham>
Yeah, I can't push either

[16:02:00.0000] <Philip`>
http://blogs.msdn.com/b/ie/archive/2010/09/29/ie9-s-faster-more-capable-compatibility-view-list.aspx

[16:02:01.0000] <Philip`>
<domain docMode="EmulateIE9" featureSwitch="createElementWithMarkup">verizonwireless.com</domain>

[16:02:02.0000] <Philip`>
Excellent - now there's not merely a dozen different engine modes, you can toggle individual features within each mode

[16:03:00.0000] <AryehGregor>
If that's what it takes to get IE to be standards-compliant by default, I'm sold.

[16:03:01.0000] <AryehGregor>
I don't think they had any other option than all this compatibility given how radically different IE was to every other browser.

[16:04:00.0000] <AryehGregor>
"We want the CV List to be as small as possible when IE9 ships and to get smaller over time because more and more of the web works well in IE9 by default."  See, they don't want this to be permanent.

[16:04:01.0000] <AryehGregor>
It's a transition move.

[16:04:02.0000] <AryehGregor>
IE10 might not need it at all.

[16:05:00.0000] <Philip`>
"We won’t create feature switches for every change in behavior and sites cannot opt-in to them."

[16:05:01.0000] <Philip`>
Lack of opt-in is good

[16:06:00.0000] <AryehGregor>
So it's basically just what every browser does, except they use XML.

[16:06:01.0000] <Philip`>
so it seems more like Opera's browser.js

[16:06:02.0000] <AryehGregor>
And have more sites on the list.

[16:06:03.0000] <AryehGregor>
WebKit also has code like that, I know.

[16:06:04.0000] <AryehGregor>
Probably Gecko too.

[16:06:05.0000] <Philip`>
Yeah

[16:06:06.0000] <AryehGregor>
(One of WebKit's hacks is for old MediaWiki, yay.)

[16:19:00.0000] <Hixie>
even the spec has per-site stuff like that

[16:24:00.0000] <Hixie>
annevk: you don't like x-vendor-feature?

[16:24:01.0000] <Hixie>
annevk: it's the only one apple seems happy to use :-(

[16:40:00.0000] <Hixie>
i wonder if we should change the parser so that each node on the stack has an associated state, and when you pop the stack, you automatically switch back to the state that you were in when the node was pushed on

[16:42:00.0000] <Hixie>
the problem is HTML in foreign lands, where you really want to not be in foreign lands, but you need to be able to switch back when the first HTML-in-foreign element is popped

[16:42:01.0000] <Hixie>
same as the in-table-cell mode actually

[16:42:02.0000] <Hixie>
in-table-cell and in-foreign-content are basically the same problem

[16:43:00.0000] <Hixie>
in caption is like that too

[16:44:00.0000] <Hixie>
bbiab


2010-09-30
[18:31:00.0000] <cardona507>
anyone know any other mobile sites that are live like gmail for iPhone that are html5? 

[20:31:00.0000] <Hixie>
if anyone has IE8 or IE9 it would be great if they could e-mail me the result of running http://www.hixie.ch/tests/adhoc/html/parsing/encoding/all.html

[20:31:01.0000] <Hixie>
man i wish we had microsoft people here

[20:32:00.0000] <abarth>
i wish IE9 had just implemented the HTML5 parsing algorithm

[20:32:01.0000] <abarth>
maybe next time

[22:06:00.0000] <Hixie>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10743 Anyone got a good idea for another example of where we have conformance criteria to avoid brittle constructs in HTML?

[22:07:00.0000] <Hixie>
(since we've made the one that we had as an example less brittle such that it no longer applies...)

[22:27:00.0000] <myakura>
agrrr “Rename the input element's @speech attribute to @webkitspeech since it is still experimental.” http://webkit.org/b/46799

[22:31:00.0000] <jacobolus>
question about the svg spec, if anyone around here knows.

[22:31:01.0000] <jacobolus>
In the part for the V command inside a path, it says "Multiple y values can be provided (although usually this doesn't make sense). At the end of the command, the new current point becomes (cpx, y) for the final value of y."

[22:31:02.0000] <jacobolus>
Is there any reason at all for the multiple values of y thing with the last one superseding the rest? It seems to me that "this" *never* makes sense.

[22:33:00.0000] <jacobolus>
or does that imply that it'll draw a separate segment for each value of y provided?

[22:33:01.0000] <jacobolus>
then I could understand it maybe, if there were e.g. markers at the vertices

[22:34:00.0000] <Hixie>
myakura: file a bug to make it x-webkit-speech :-)

[22:38:00.0000] <jacobolus>
Hixie: people were joking about acid 4 earlier. will there be such a thing and is it possible to send ideas/pleas/etc?

[22:41:00.0000] <othermaciej>
myakura: did you file it? if not I can

[22:42:00.0000] <othermaciej>
I wonder if we have any other cruft we can rename

[22:45:00.0000] <abarth>
we should rename all experimental things every release, just to stop people from relying on it

[22:47:00.0000] <othermaciej>
heh

[22:47:01.0000] <abarth>
(that might be a bit meanspirited)

[22:47:02.0000] <othermaciej>
I think it would not be a win for users

[22:48:00.0000] <othermaciej>
I am always leery of adding too much experimental stuff because it's so easy for it to accidentally become not-so-experimental

[22:49:00.0000] <abarth>
btw, thanks for explaining the security issues to the hybi folks

[22:49:01.0000] <abarth>
you're doing a much better job than I would :)

[22:49:02.0000] <abarth>
the XOR with a PRNG isn't a terrible idea

[22:49:03.0000] <abarth>
implementing RC4 isn't that hard

[22:50:00.0000] <othermaciej>
things increasingly turn into poor man's TLS

[22:50:01.0000] <abarth>
sure

[22:50:02.0000] <othermaciej>
thanks for your kind words, but I am not sure I am doing such a great job of explaining

[22:50:03.0000] <abarth>
it improves on TLS in the sense that you don't have to waste packet bits with a MAC

[22:50:04.0000] <othermaciej>
I feel like I have gotten some points across, but people still get confused between the two possible directions of attack, what parties can be trusted in what situation, etc

[22:51:00.0000] <abarth>
the model of trusting the browser but not the code running inside the browser is tricky for folks who don't do this all the time

[22:51:01.0000] <abarth>
i spend a lot of time working that idea into the minds of students

[22:51:02.0000] <abarth>
the "don't trust the client" message is easier to understand

[22:52:00.0000] <othermaciej>
I find it hard to get the intuition across, since I have spent so much time now as an insider

[22:52:01.0000] <abarth>
part of it is just a knowledge base of "what can JavaScript inside the browser actually do"

[22:53:00.0000] <abarth>
vis-a-vis generating network requests (in this case)

[22:53:01.0000] <othermaciej>
the seductive idea of browsers passing the buck to web sites also seems to arise with regards to backwards compatibility (vs following the letter of the spec) a lot

[22:53:02.0000] <abarth>
e.g., setting some headers but not other

[22:54:00.0000] <abarth>
that's part of a more general cultural difference

[22:54:01.0000] <abarth>
there's a lot of places where the IETF community is happy to pass the buck

[22:54:02.0000] <abarth>
i don't quite understand why that is

[22:55:00.0000] <abarth>
i think they have more of an attachment to the aesthetic beauty of what could be

[22:55:01.0000] <abarth>
rather than feeling chained to what is

[22:55:02.0000] <othermaciej>
the lowest level protocols require a fairly rigorous treatment and maybe that spawned a culture of "doing it right"

[22:56:00.0000] <othermaciej>
whereas http is not nearly so foundational and is only really complicated because of accretion, not for essential reasons

[22:56:01.0000] <othermaciej>
also in the earliest days it was probably completely reasonable to suggest that a large proportion of all the hosts on the internet should change their software

[22:57:00.0000] <abarth>
i've noticed a pattern that folks tend to think that things that existed before they were paying attention are fixed whereas everything that came after can be changed

[22:57:01.0000] <abarth>
maybe they've just been in the game longer than us

[22:57:02.0000] <abarth>
so they view more as changable

[23:04:00.0000] <Hixie>
jacobolus: no immediate plan

[23:05:00.0000] <jacobolus>
okay

[23:05:01.0000] <jacobolus>
I guess everyone should be keeping their lists of pet bugs anyway

[23:06:00.0000] <jacobolus>
othermaciej: I'm amazed at your dedication to discussion in hybi. I can't even skim the subject lines without getting dizzy

[23:07:00.0000] <othermaciej>
jacobolus: I only did it cause jgraham asked

[23:08:00.0000] <othermaciej>
abarth: I'm not sure I would characterize the pattern that way

[23:08:01.0000] <othermaciej>
some people think specs are fixed and implementations are malleable

[23:08:02.0000] <jacobolus>
abarth: I don't think IETF community has any specific attachments to things. I think they just like arguing without experience or much careful thought for the sake of arguing

[23:09:00.0000] <jacobolus>
the proposals are certainly not "aesthetically beautiful" by any standard of beauty I would recognize

[23:10:00.0000] <othermaciej>
oh, there's certainly people whose enthusiasm is greater than their cluefulness

[23:10:01.0000] <abarth>
othermaciej: as a WebKit example, Darin and Eric think we should/could rename LayoutTests to RegressionTests whereas that never occurred to me.  I attribute that to them being around when the name "LayoutTests" was picked, but I could well be overgeneralizing

[23:10:02.0000] <othermaciej>
but they are to some extent emulating the cultural patterns set by their tribal elders

[23:11:00.0000] <othermaciej>
I was around before almost anything in WebKit was picked, so I guess it's hard for me to evaluate this for myself

[23:12:00.0000] <othermaciej>
I mean, I guess I wouldn't advocate "start over and base on Gecko instead of KHTML", but I'd like to think that's because it would be an insane plan, not because KHTML was picked before I joined

[23:13:00.0000] <othermaciej>
I like to think of myself as more attached to broad principles than to specifics

[23:14:00.0000] <othermaciej>
so "be willing to rename if the new name is better (for names not exposed as API at least)" seems more important than any specific name

[23:17:00.0000] <abarth>
i think that's been healthy for the project

[23:17:01.0000] <abarth>
having a clearly defined API also helps

[23:17:02.0000] <abarth>
so its clear what's allowed to be changed wildly and what has to stay the same

[23:34:00.0000] <gsnedders>
9:15am firealarms are evil.

[23:34:01.0000] <gsnedders>
s/9/6/

[23:34:02.0000] <gsnedders>
(and a fire-drill at that)

[00:10:00.0000] <abarth>
Hixie: thoughts on http://code.google.com/p/chromium/issues/detail?id=54563 ?

[00:47:00.0000] <jgraham>
Hixie: I have often wondered why the stack of open elements isn't composed of (insertion mode, element) tuples

[00:48:00.0000] <jgraham>
So if that design works I see no reason to avoid it. It's a pretty scary change at this stage though

[00:49:00.0000] <Hixie>
abarth: (a) report it to the SVG and SMIL WGs, (b) limit the animation code to non-JS attributes by whitelisting the animatable ones

[00:50:00.0000] <abarth>
sounds reasonable

[00:50:01.0000] <Hixie>
but yeah, it's just yet more reason blacklist filters are doomed

[00:50:02.0000] <Hixie>
jgraham: agreed on all counts

[00:51:00.0000] <Hixie>
abarth: did you see the URL-related bug?

[00:51:01.0000] <abarth>
10410 ?

[00:51:02.0000] <abarth>
i just commented on it

[00:52:00.0000] <abarth>
i love that every browser is different

[00:52:01.0000] <abarth>
at least on different parts of that test case

[00:52:02.0000] <abarth>
;a just disappears for Firefox

[00:53:00.0000] <abarth>
etc

[01:00:00.0000] <Hixie>
heh

[01:01:00.0000] <Hixie>
abarth: how about the other way around? fragment #%23, say?

[01:01:01.0000] <Hixie>
does it unescape?

[01:03:00.0000] <abarth>
generally speaking, there are two approaches browsers take

[01:03:01.0000] <abarth>
IE+Chrome have a canonical representation for each character in each part of the URL

[01:03:02.0000] <abarth>
and they like to transform things to their canonical representation

[01:04:00.0000] <abarth>
Firefox+Safari on the other hand

[01:04:01.0000] <abarth>
like to keep things in the original form

[01:04:02.0000] <abarth>
but will canonicalize "problematic" characters

[01:04:03.0000] <abarth>
e.g., that aren't representable in a reasonably way

[01:04:04.0000] <abarth>
e.g., a ":" character in the scheme

[01:05:00.0000] <abarth>
some characters are so nutty, that the proper way to represent them in some parts of the URL is as a percent-encoded HTML entity

[01:05:01.0000] <abarth>
(i couldn't make this stuff up)

[01:06:00.0000] <abarth>
IMHO, the aggressive canonicalizing behavior is better

[01:06:01.0000] <abarth>
because you don't get confused by HTTP schemes when you meant http, etc

[01:07:00.0000] <abarth>
also, other folks who parse URLs after you are more likely to get the result you expect :)

[01:09:00.0000] <Hixie>
k well i guess i'll wontfix this bug on the assumption that in due course this will all become defined by your spec and i'll eventually just defer to that

[01:10:00.0000] <abarth>
makes sense to me

[01:10:01.0000] <abarth>
i need to find a good solid week to dig into this stuff and get the spec in reasonable shape

[01:57:00.0000] <annevk>
Hixie, hmm, I do like x-vendor-feature, I wonder what I said in that bug report

[01:58:00.0000] <Hixie>
heh

[01:58:01.0000] <Hixie>
so long as you like it, we're good. :-)

[01:59:00.0000] <annevk>
"I think we should reserve everything apart from x-vendor-feature." what I meant was that only x-vendor-feature should be playground for UAs, the rest should be available to whoever is in charge of HTML

[02:01:00.0000] <Hixie>
aah

[02:01:01.0000] <Hixie>
by "reserve" i meant "guarantee that we'll never use"

[02:01:02.0000] <annevk>
fair enough

[02:05:00.0000] <annevk>
Hixie, in Safari I get Windows-1252 / Windows-1254

[02:05:01.0000] <Hixie>
yeah i get that on mac too

[02:05:02.0000] <Hixie>
dunno what he's doing

[02:06:00.0000] <annevk>
doesn't that mean it does not ignore escapes?

[02:06:01.0000] <annevk>
as he says?

[02:07:00.0000] <Hixie>
er wait, what do you get?

[02:07:01.0000] <Hixie>
/me looks again

[02:07:02.0000] <annevk>
I'm not on a nightly though

[02:08:00.0000] <Hixie>
for http://www.hixie.ch/tests/adhoc/html/parsing/encoding/113.html i get 1252/1252 for chrome and safari nightlies

[02:08:01.0000] <annevk>
aah, I see

[02:08:02.0000] <Hixie>
sorry, misread what you wrote

[02:08:03.0000] <annevk>
so Safari changed!

[02:08:04.0000] <annevk>
that is even more of an indication that I was correct

[02:08:05.0000] <Hixie>
i wonder if safari changed or if it's a mac/windows thing

[02:08:06.0000] <Hixie>
let me test older safari on mac

[02:08:07.0000] <annevk>
well, I have a Mac here too

[02:08:08.0000] <annevk>
but only stable Safari

[02:08:09.0000] <annevk>
5.02 or some such

[02:08:10.0000] <Hixie>
wohay, yes, older safari did 1252/1254

[02:09:00.0000] <Hixie>
interesting!

[02:12:00.0000] <annevk>
ooh, <s> is valid now

[02:17:00.0000] <jgraham>
I love bugs that are just statements

[02:17:01.0000] <jgraham>
"Sections may contain headings of any rank

[02:17:02.0000] <jgraham>
"

[02:17:03.0000] <zcorpan>
/me updated html5-elements

[02:18:00.0000] <hsivonen>
it'll be interesting to see what happens if Julian and Leif disagree on <s>

[02:19:00.0000] <Hixie>
heh

[02:27:00.0000] <Hixie>
othermaciej: i'm confused. i thought the ARIA change for 'grid' was that HTML <table> elements, etc, no longer were considered examples of those. But the spec linked to in the bug still lists HTML table as being the "base concept" for 'grid'?

[02:27:01.0000] <othermaciej>
Hixie: "base concept" apparently is supposed to mean "sort of resembles this other thing" rather than "this other thing is an example of fulfilling this role"

[02:28:00.0000] <Hixie>
o_O

[02:28:01.0000] <othermaciej>
"base concept" strikes me as a fuzzy concept

[02:28:02.0000] <hsivonen>
Hixie: <table> is a table and <table role=grid> is semantically like <datagrid>, AFAICT

[02:28:03.0000] <othermaciej>
the thing they actually changed is that the grid role is now defined as only referring to an interactive grid control

[02:29:00.0000] <Hixie>
hsivonen: can you quote where in ARIA it says that?

[02:29:01.0000] <Hixie>
othermaciej: in an AT, a <table> is an interactive control

[02:29:02.0000] <Hixie>
othermaciej: so...?

[02:29:03.0000] <Hixie>
othermaciej: i'm confused

[02:29:04.0000] <hsivonen>
Hixie: this is the understanding I have inferred from extensive tea leaf reading over time. I'm not looking at the ARIA spec right now.

[02:30:00.0000] <othermaciej>
"A grid is an interactive control which contains cells of tabular data arranged in rows and columns, like a table."

[02:30:01.0000] <Hixie>
hsivonen: k. I'm trying to work out what the spec actually says, rather than what they meant it to say. I find the latter to lead to even more pain than the former.

[02:30:02.0000] <othermaciej>
you could argue that AT makes absolutely everything "interactive", but that would be a silly inference in context

[02:30:03.0000] <Hixie>
othermaciej: sounds exactly like what an AT does with <table> to me.

[02:30:04.0000] <hsivonen>
Hixie: IIRC, I have outstanding LC comments on ARIA regarding whether <table role=grid> should imply role=gridcell on every <td> in that table

[02:30:05.0000] <othermaciej>
yes, but the role is supposed to be about what the non-AT semantics are

[02:31:00.0000] <othermaciej>
so they can be exposed to AT

[02:31:01.0000] <Hixie>
othermaciej: i thought ARIA was about what ATs did

[02:31:02.0000] <othermaciej>
ARIA is about expressing how the content behaves in a way that AT can see and act upon

[02:31:03.0000] <Hixie>
othermaciej: if an AT treats a table and an interactive grid in the same way, why would they have different roles?

[02:31:04.0000] <hsivonen>
Hixie: I gather the idea is that non-interactive tables and interactive datagrids would be exposed differently to AT

[02:32:00.0000] <othermaciej>
apparently at least some accessibility APIs expose data tables and interactive grid controls (datagrid type things) in different ways

[02:32:01.0000] <hsivonen>
I have absolutely no idea if they actually *are* in existing implemetations

[02:32:02.0000] <Hixie>
what could the difference be?

[02:32:03.0000] <othermaciej>
I believe they are the same role in Mac OS X / iOS accessibility APIs

[02:32:04.0000] <Hixie>
i'm honestly curious

[02:33:00.0000] <Hixie>
so ARIA can't represent non-interactive grids?

[02:33:01.0000] <hsivonen>
Hixie: right. you'd use plain old HTML tables for those

[02:33:02.0000] <Hixie>
just like you'd use a plain old HTML heading for a heading?

[02:33:03.0000] <Hixie>
but they still have role=heading?

[02:33:04.0000] <hsivonen>
Hixie: right

[02:33:05.0000] <Hixie>
ARIA makes less and less sense the more i try to apply it

[02:34:00.0000] <hsivonen>
Hixie: someone might make a heading out of <div>s but only hard-core "tables are evil" folks make non-interactive tables out of <div>s

[02:35:00.0000] <Hixie>
someone making a heading out of <div>s is not writing conforming html

[02:36:00.0000] <hsivonen>
Hixie: ARIA is about putting duct tape on HTML as practiced--not only as conforming

[02:36:01.0000] <Hixie>
and why would they make interactive tables out of divs but not non-interactive ones?

[02:36:02.0000] <jgraham>
Really if you are making a heading out of <div>s the chance of you being clueful enough to use aria seem slim

[02:36:03.0000] <hsivonen>
Hixie: I don't know why role=gridcell exists

[02:36:04.0000] <hsivonen>
Hixie: but you'd make interactive grids out of <table>

[02:37:00.0000] <hsivonen>
Hixie: hence <table role=grid>

[02:37:01.0000] <Hixie>
well i sure hope web authors can make head or tail of this

[02:37:02.0000] <hsivonen>
jgraham: see http://diveintomark.org/archives/2009/03/21/accessibility-is-a-harsh-mistress

[02:37:03.0000] <hsivonen>
jgraham: also, see GWT

[02:38:00.0000] <hsivonen>
Hixie: sola scriptura doesn't work here, you need to consider the tradition for context

[02:39:00.0000] <Hixie>
nevermind

[02:39:01.0000] <othermaciej>
from what I can tell, UIA is the only accessibility API to distinguish between grids and tables

[02:39:02.0000] <Hixie>
i've moved on

[02:39:03.0000] <annevk>
jgraham, but expensive IBM consultants will do it for you!

[02:39:04.0000] <annevk>
jgraham, it's great

[02:40:00.0000] <othermaciej>
out of reasonably popular ones

[02:41:00.0000] <othermaciej>
I think the notion of interactivity is vaguely believed to be about keyboard navigability, though that is not a device-independent distinction -- it makes no sense on systems that the multitouch UI paradigm instead of mouse/keyboard

[02:41:01.0000] <othermaciej>
GMail is almost completely made out of <div>s

[02:41:02.0000] <othermaciej>
except for the occasional stray <span> or <a>

[02:42:00.0000] <othermaciej>
looking at GMail with the Web Inspector makes me cry with sad

[02:47:00.0000] <jgraham>
hsivonen: GWT generates aria?

[02:49:00.0000] <Hixie>
abarth, othermaciej: any comment on http://www.w3.org/Bugs/Public/show_bug.cgi?id=10625#c6 from a webkit perspective?

[02:49:01.0000] <hsivonen>
jgraham: I gather it does.

[02:50:00.0000] <othermaciej>
Hixie: I think <https://bugs.webkit.org/show_bug.cgi?id=43328> says it all - we'd like some behavior that doesn't lead to that regression, which to my limited understanding the spec does not exactly forbid but does not require either

[02:50:01.0000] <Hixie>
k

[02:50:02.0000] <jgraham>
hsivonen: Wow. I thought that there was no new badness to discover about GWT

[02:51:00.0000] <jgraham>
(assuming it uses ARIA instead of, rather than in addition to, good HTML)

[02:51:01.0000] <othermaciej>
jgraham: given that it's making <div> soup, I don't think ARIA counts as net marginal badness

[02:52:00.0000] <jgraham>
othermaciej: If it has the information needed to write useful aria, it presumably also has the information needed to use the correct elements 

[02:52:01.0000] <othermaciej>
jgraham: I do wonder about that

[02:52:02.0000] <othermaciej>
not just for GWT but for other also clearly autogenerated div soup UIs like GMail

[02:53:00.0000] <othermaciej>
is custom styling of <button> interoperable enough that you could use it in place of <div role=button>, without incurring cross-browser compat headaches?

[02:53:01.0000] <othermaciej>
I don't actually know

[02:53:02.0000] <jgraham>
Maybe form controls are harder

[02:53:03.0000] <jgraham>
But headings are gimmes

[02:55:00.0000] <othermaciej>
GMail has some <span role=link>

[02:55:01.0000] <othermaciej>
that just seems like needless self-torture

[02:56:00.0000] <jgraham>
That's just sad

[02:56:01.0000] <jgraham>
I heard an unverified rumor that facebook uses <u href>

[03:01:00.0000] <zcorpan>
jgraham: looking around on a few random pages on facebook, javascript:alert(document.getElementsByTagName('u').length) gives 0

[03:02:00.0000] <jgraham>
zcorpan: Hmm, maybe I misunderstood

[03:02:01.0000] <jgraham>
Or it could be mobile facebook or something

[03:03:00.0000] <zcorpan>
yeah, i see <u href> on touch.facebook.com

[03:03:01.0000] <jgraham>
hsivonen: BTW did you have any thoughts on Hixie's idea of making the stack of open elements hold the insertion mode?

[03:03:02.0000] <Hixie>
i don't plan on actually doing it btw

[03:03:03.0000] <jgraham>
Hixie: Oh, that's sad 

[03:03:04.0000] <Hixie>
it was just as idea of what we could do on the long term if we ever decided to revamp how we wrote the spec

[03:04:00.0000] <Hixie>
it's possible that it would work better as an implementation strategy though

[03:04:01.0000] <Hixie>
it would make the 'reset' algorithm O(1)

[03:04:02.0000] <jgraham>
Hixie: It feels like it might fix up lots of the scary stuff around foreign content

[03:04:03.0000] <Hixie>
at the cost of making the stack more expensive

[03:04:04.0000] <jgraham>
You would still need the reset algorithm for fragment parsing

[03:04:05.0000] <Hixie>
i just rewrote the foreign content section to be less scary (without changing it normatively, i hope)

[03:05:00.0000] <Hixie>
yeah you'd need to reset once at the start, but that's O(1) also

[03:05:01.0000] <Hixie>
since the stack is more or less empty then

[03:05:02.0000] <hsivonen>
/me considers whether to escalate http://www.w3.org/Bugs/Public/show_bug.cgi?id=10589 into an ISSUE

[03:05:03.0000] <jgraham>
True

[03:06:00.0000] <Hixie>
anyway the foreign content section isn't anywhere near as bad now

[03:06:01.0000] <jgraham>
Hixie: I guess I will look at it to decide that :)

[03:06:02.0000] <Hixie>
(it's still not what hsivonen wants, but it's better than what it was, imho)

[03:06:03.0000] <othermaciej>
hsivonen: I don't agree with the resolution but I'm not gonna escalate it myself

[03:07:00.0000] <hsivonen>
jgraham: my thought about having the stack hold the insertion mode is that it's not an optimization the spec should make

[03:07:01.0000] <jgraham>
hsivonen: Why optimisation? It feels like the right mental model

[03:07:02.0000] <hsivonen>
Hixie: what's the most appropriate bug to dump my thoughts about the modeness of "in foreign" into?

[03:08:00.0000] <hsivonen>
jgraham: I think the right mental model is first checking if the current node isn't in the HTML namespace and doing what's now in the in foreign mode

[03:08:01.0000] <hsivonen>
and if the current node is in the HTML namespace, doing all the insertion mode stuff

[03:09:00.0000] <jgraham>
hsivonen: It doesn't only help for that case though

[03:09:01.0000] <Hixie>
hsivonen: a new one probably

[03:09:02.0000] <hsivonen>
jgraham: I'm not sure what case we are talking about?

[03:09:03.0000] <jgraham>
foreign content

[03:09:04.0000] <hsivonen>
I don't know what problem is being solved

[03:09:05.0000] <jgraham>
Unless I am missing something it mostly eliminates the "reset the insertion mode"

[03:09:06.0000] <jgraham>
stuff

[03:10:00.0000] <hsivonen>
jgraham: I'm open to remembering the insertion mode on stack

[03:10:01.0000] <hsivonen>
jgraham: I think it might even be a good thing

[03:10:02.0000] <hsivonen>
jgraham: my main concern is that Hixie is resisting the de-mode-ification of "in foreign" on optimization grounds

[03:10:03.0000] <hsivonen>
and having it as a mode has already resulted in a number of egde case bugs

[03:11:00.0000] <jgraham>
I generally agree that the spec shouldn't worry too hard about optimisation

[03:11:01.0000] <hsivonen>
jgraham: so before I support remembering the mode, I want to know if it's solving something other than letting "in foreign" continue to be a mode

[03:14:00.0000] <hsivonen>
Hixie: fwiw, I think <p><figure> is like <p><table> all over again

[03:14:01.0000] <Hixie>
the remembering the mode thing doesn't really have anything to do with foreign stuff

[03:14:02.0000] <Hixie>
it just gets rid of the reset algorithm

[03:14:03.0000] <Hixie>
while parsing

[03:14:04.0000] <hsivonen>
Hixie: and in the <p><table> case we now have a comment in the spec source saying you hate yourself because of it

[03:14:05.0000] <Hixie>
(it's entirely an optimisation)

[03:15:00.0000] <Hixie>
hsivonen: what i hate myself for is that it's a quirk

[03:15:01.0000] <Hixie>
hsivonen: if i were designing the language from scratch it wouldn't be a quirk and would always close <p>

[03:15:02.0000] <hsivonen>
Hixie: If I were designing the language from scratch, <p> would never autoclose

[03:16:00.0000] <Hixie>
i don't understand why we'd want inline <figure>s or <table>s, but especially <figure>s

[03:16:01.0000] <Hixie>
i'm not worried about the autoclosing behaviour so much as the content model

[03:16:02.0000] <othermaciej>
if you were designing from scratch, would you make <ul> close <p>?

[03:16:03.0000] <hsivonen>
Hixie: authors regularly try to put tables inside paragraphs. Priority of constituencies.

[03:16:04.0000] <Hixie>
the autoclosing behaviour is nothing but a function of the content model

[03:16:05.0000] <Hixie>
othermaciej: dunno, maybe. I probably wouldn't use SGML-like syntax in the first place.

[03:16:06.0000] <jgraham>
/me agrees with hsivonen fwiw

[03:16:07.0000] <jgraham>
Hardcoding this stuff into the parser just seems bad

[03:16:08.0000] <Hixie>
hsivonen: intentionally, or because of the quirk?

[03:17:00.0000] <othermaciej>
but people do put inline lists in paragraphs, and it's lame that you can't mark them up as such

[03:17:01.0000] <jgraham>
Because you can never ever change it again

[03:17:02.0000] <hsivonen>
Hixie: intentionally and then they find out HTML parsing in the standards mode doesn't let them

[03:17:03.0000] <hsivonen>
Hixie: well, find out after they have whined on www-validator

[03:17:04.0000] <Hixie>
we had this in xhtml5 for a while, and people complained

[03:17:05.0000] <Hixie>
so...

[03:18:00.0000] <Hixie>
like i said, my main concern is the content model

[03:18:01.0000] <othermaciej>
for <figure> it seems sensible to have a figure in a paragraph that is floated left or right, or displayed a la inline-block

[03:18:02.0000] <hsivonen>
Hixie: wasn't the complaint there about HTML and XHTML differing?

[03:18:03.0000] <Hixie>
if figure is flow, not phrasing, then it has to close <p> or the syntax just becomes incomprehensibly quirky.

[03:18:04.0000] <othermaciej>
unless you would argue that an image + caption combination in such a context is not a figure

[03:19:00.0000] <Hixie>
othermaciej: if it's not actually inline, what's the point of putting it inlien in the markup? just have it before or after the <p>

[03:19:01.0000] <hsivonen>
Hixie: I'd expect implicit </p> to already be incomprehensibly quirky for most people who aren't regulars on this channel

[03:20:00.0000] <jgraham>
Hixie: Authors don't understand flow vs phrasing. They just try to do stuff and get surprised when it breaks

[03:22:00.0000] <Hixie>
i do not believe that people are putting <figure>s in the middle of their paragraphs and floating them and then wondering why there's a line break.

[03:23:00.0000] <hsivonen>
Hixie: around 2002ish, I worked around the lack of figure by creating one from <span>s, not <div>s, precisely to get the floating I wanted

[03:23:01.0000] <Hixie>
what difference would span vs div do to floating??

[03:24:00.0000] <hsivonen>
Hixie: the alignment with the text in the paragraph when the paragraph has margin/padding/border

[03:24:01.0000] <Hixie>
just stick a div around it

[03:24:02.0000] <hsivonen>
Hixie: srly?

[03:24:03.0000] <Hixie>
"srly?

[03:24:04.0000] <Hixie>
s/y\?/y"?/

[03:25:00.0000] <hsivonen>
Hixie: you are suggesting adding divs in order to work around a problem you are creating?

[03:25:01.0000] <Hixie>
no i'm suggesting adding divs to get the effect you want with margin collapsing

[03:26:00.0000] <Hixie>
whereas you are suggesting corrupting the content model because you want to achieve a particular presentational effect

[03:26:01.0000] <Hixie>
(one can spin this both ways! ;-) )

[03:27:00.0000] <hsivonen>
Hixie: what if the float is higher than one para? where should divs go?

[03:27:01.0000] <hsivonen>
http://fimug.fi/mugi-illoista

[03:27:02.0000] <hsivonen>
there's an example of <span>s I coded long ago

[03:28:00.0000] <Hixie>
you really don't think having the span as the first child of the <p> is a hack on that page?

[03:28:01.0000] <Hixie>
it's so glaringly wrong to me

[03:29:00.0000] <hsivonen>
Hixie: it's right for the CSS formatting model

[03:29:01.0000] <hsivonen>
which is the model we have

[03:29:02.0000] <Hixie>
(re your question, the height doesn't matter - you just need to have the div contain the figure and the first p after the figure)

[03:30:00.0000] <Hixie>
we shouldn't screw up HTML's content model and parser just to work around a quick of the CSS margin collapsing rules that can pretty easily be fixed in a future version

[03:30:01.0000] <hsivonen>
Hixie: when the div interferes with p following p selectors and/or margin collapsing

[03:30:02.0000] <jgraham>
Different question: Did the tokenizer always not emit a tag token for '<img href="foo' or is that a recent change?

[03:30:03.0000] <hsivonen>
jgraham: if EOF happens inside the tag, the token hasn't been emitted for quite some time

[03:30:04.0000] <annevk>
it's been that way for a while I think

[03:30:05.0000] <Hixie>
instead of asking for a change to HTML, ask for a change to CSS -- add keyword 'flush-next' or some such to 'margin-top' which causes the margin to grow so as to have a border-top equal to the border-top of the next element in the margins from which the element has been removed from flow

[03:31:00.0000] <zcorpan>
jgraham: i think that changed about a year ago or so

[03:31:01.0000] <jgraham>
That's what I thought

[03:31:02.0000] <jgraham>
Hmm

[03:31:03.0000] <Hixie>
(hard to express in english, but pretty simple in css terms)

[03:31:04.0000] <jgraham>
Maybe there wasn't a test for the attribute case before

[03:31:05.0000] <Hixie>
hsivonen: you're like a man with a hammer, and your hammer is the parser. :-) we can change more parts of the web platform than just html

[03:32:00.0000] <Hixie>
https://bugs.webkit.org/show_bug.cgi?id=46873#c3 is interesting, re x-foo-bar

[03:32:01.0000] <hsivonen>
Hixie: I'd rather not whack authors with the hammer when legacy behavior doesn't require <figure> to close <p>

[03:32:02.0000] <jgraham>
/me still really dislikes adding new elements to the list of ones with magic behaviour in the parser

[03:33:00.0000] <Hixie>
hsivonen: as noted above, i'm not really interested in the issue of the parser here, imho what the parser does is entirely a function of the content model

[03:33:01.0000] <annevk>
since <figure> is block it makes sense to me

[03:33:02.0000] <annevk>
right, what Hixie just said

[03:33:03.0000] <Hixie>
hsivonen: if <figure> is not phrasing content, then it should close <p>, it's just asking for bugs otherwise

[03:33:04.0000] <Hixie>
and if it isn't, then it shouldn't, obviously

[03:34:00.0000] <hsivonen>
I'll try to cool off for a few hours before I decide whether I escalate.

[03:34:01.0000] <Hixie>
(and should be scoping, since it can contain <p>... but that's another reason imho it shouldn't be allowed in <p>)

[03:34:02.0000] <othermaciej>
Hixie: indeed - doesn't seem so great to apply the pattern to event handler attributes

[03:34:03.0000] <hsivonen>
Hixie: I think hardcoding content models into the parser is a mistake when legacy doesn't require it

[03:35:00.0000] <Hixie>
hsivonen: if </p> has an optional end tag, it has an optional end tag; as bad as optional end tags are, they're even worse if they're not optional based on what the following sibling is.

[03:35:01.0000] <annevk>
hsivonen, so you think <section> should not imply </p>? what about </section>?

[03:35:02.0000] <annevk>
hsivonen, what about <datalist> and <option>?

[03:36:00.0000] <jgraham>
</section> popping to the nearest ancestor <section> seems entirely different

[03:36:01.0000] <Hixie>
if anyone has an idea for https://bugs.webkit.org/show_bug.cgi?id=46873#c3, please file a bug

[03:36:02.0000] <Hixie>
i have to go to bed now

[03:36:03.0000] <Hixie>
i'll let anne take over :-)

[03:36:04.0000] <Hixie>
nn

[03:36:05.0000] <jgraham>
I could live with <section> not closing <p>

[03:36:06.0000] <annevk>
o_O

[03:36:07.0000] <hsivonen>
annevk: I think making section close <p> doesn't close any realistic doors

[03:37:00.0000] <hsivonen>
annevk: but it's pretty bogus in terms of Degrade Gracefully

[03:38:00.0000] <annevk>
Hixie, for event handler attributes I think on<vendor><feature> makes sense

[03:38:01.0000] <annevk>
Hixie, even for normal attributes maybe <vendor><feature> makes sense, especially if the IDL attributes are <vendor><Feature>

[03:38:02.0000] <othermaciej>
it should match the event name, so assuming that's <vendor><feature>, I think that's the right suggestion

[03:39:00.0000] <hsivonen>
on-x-webkit-foo

[03:39:01.0000] <othermaciej>
(of course, it is kind of awkward for the prefix to have no punctuation, when event names are often all-lowercase

[03:39:02.0000] <othermaciej>
hsivonen, even if the event is named webkitfoo?

[03:39:03.0000] <hsivonen>
othermaciej: good point

[03:40:00.0000] <othermaciej>
or are you suggesting a change of convention for experimental/proprietary event names as well?

[03:40:01.0000] <annevk>
unless we get weird vendor names I do not think this matters much

[03:40:02.0000] <annevk>
ms/moz/o/webkit are all prefixes we are probably not going to use

[03:40:03.0000] <hsivonen>
othermaciej: I withdraw my suggestion

[03:40:04.0000] <annevk>
so I think we do not need x- for <vendor>-<feature> attributes either prolly

[03:42:00.0000] <zcorpan>
annevk: 'o' as a prefix without punctuation seems likely to clash

[03:42:01.0000] <zcorpan>
annevk: e.g. there's an attribute called 'open'

[03:42:02.0000] <zcorpan>
what if opera wants a 'pen' attribute

[03:42:03.0000] <annevk>
o-pen

[03:42:04.0000] <annevk>
oPen

[03:42:05.0000] <annevk>
both different

[03:42:06.0000] <zcorpan>
oh, with a dash

[03:43:00.0000] <annevk>
and we could use opera for HTML and events

[03:43:01.0000] <annevk>
I think we might do that already

[03:43:02.0000] <zcorpan>
well, we'll just have to convince the future Data and Aria browsers to use a different name for their prefixes :P

[03:44:00.0000] <annevk>
that should be no problem

[03:45:00.0000] <jgraham>
I like the x-

[03:45:01.0000] <jgraham>
I think it conveys a sense of danger

[03:45:02.0000] <jgraham>
Which is fitting in the circumstances

[03:46:00.0000] <zcorpan>
why is there no x in IDL extensions?

[03:47:00.0000] <annevk>
yeah, if it's not in the IDL it makes no sense to have it in markup

[04:03:00.0000] <MikeSmith>
it'd be useful to get the RDFa WG some comments on the current RDFa API spec -

[04:03:01.0000] <MikeSmith>
http://www.w3.org/TR/2010/WD-rdfa-api-20100923/

[04:04:00.0000] <MikeSmith>
which just went to FPWD a few days ago

[04:06:00.0000] <MikeSmith>
actually, it seems to have already been published as a FPWD in June

[04:07:00.0000] <MikeSmith>
but an updated WD was just published on the 23rd

[04:07:01.0000] <annevk>
but we don't want to implement RDFa

[04:07:02.0000] <annevk>
it's like giving comments on XHTML2

[04:08:00.0000] <MikeSmith>
http://www.w3.org/TR/2010/WD-rdfa-api-20100923/#sotd

[04:08:01.0000] <MikeSmith>
did XHTML2 have any APIs?

[04:09:00.0000] <MikeSmith>
are we implementing the Microdata API in browsers?

[04:09:01.0000] <annevk>
we probably will

[04:09:02.0000] <MikeSmith>
really?

[04:09:03.0000] <annevk>
I saw Gecko bug on it too

[04:09:04.0000] <MikeSmith>
why?

[04:09:05.0000] <MikeSmith>
hmm

[04:09:06.0000] <annevk>
with patches

[04:10:00.0000] <MikeSmith>
they will probably get patches for the RDFa API as well

[04:10:01.0000] <annevk>
sure, they got patches for XForms too

[04:14:00.0000] <MikeSmith>
https://lists.webkit.org/pipermail/webkit-dev/2010-September/014544.html

[04:14:01.0000] <MikeSmith>
"New Rich Text Editing Test suite"

[04:14:02.0000] <MikeSmith>
for contentEditable

[04:15:00.0000] <MikeSmith>
http://www.browserscope.org/richtext2/test

[04:16:00.0000] <MikeSmith>
hey,  a frames-based layout

[04:22:00.0000] <hsivonen>
MikeSmith: the microdata API patches are from David Zbarsky, so it's a bit different from general "getting patches"

[04:24:00.0000] <hsivonen>
MikeSmith: that is, at least his other bugs are more coordinated than someone just showing up with patches.

[04:24:01.0000] <MikeSmith>
ok

[04:24:02.0000] <MikeSmith>
I don't know David… is he related to Boris?

[04:25:00.0000] <hsivonen>
MikeSmith: they are brothers

[04:26:00.0000] <MikeSmith>
ah OK

[04:30:00.0000] <annevk>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10806 -- I wonder how Julian plans on getting this past CR

[04:31:00.0000] <annevk>
He's just process-trolling; not actually helping getting this resolved to his satisfaction in any way :/

[04:36:00.0000] <MikeSmith>
we want to do DOM Range in WebApps, right?

[04:37:00.0000] <smaug____>
certainly not in whatwg

[04:40:00.0000] <smaug____>
I wonder if webapps could do DOM Range 2, 2nd revision or something

[04:40:01.0000] <smaug____>
which would be just re-writing the spec without any functional changes

[04:40:02.0000] <smaug____>
(Opera and Webkit probably object that because they don't conform with range anyway)

[04:45:00.0000] <annevk>
we don't?

[04:46:00.0000] <smaug____>
the acid3 thingie

[04:46:01.0000] <annevk>
what thingie?

[04:46:02.0000] <smaug____>
acid3 allows non-conforming handling

[04:46:03.0000] <annevk>
a new revision should have at least the Gecko proprietary extensions everyone copied

[04:47:00.0000] <smaug____>
the extensions could go to Range 3

[04:47:01.0000] <smaug____>
or perhaps we don't need range 2, 2nd revision 

[04:48:00.0000] <smaug____>
but it might take long enough to just re-write range 2

[04:48:01.0000] <smaug____>
range 3 could be done in the same time

[04:49:00.0000] <smaug____>
similar to what happens with XHR 1&2

[05:05:00.0000] <annevk>
lets not take xhr 1&2 as example for anything

[07:09:00.0000] <morelli>
hi is the pubdate attribute on time element is suposed to be empty or not or what :D ?

[09:41:00.0000] <TabAtkins>
It's a boolean attribute, so it doesn't need to have a value in HTML.  In XHTML, write it as pubdate="pubdate".

[09:41:01.0000] <TabAtkins>
D'oh.  Didn't check beforehand when that question was asked, or if the asker was still around.  ;_;

[09:41:02.0000] <KaOSoFt>
._:

[09:41:03.0000] <KaOSoFt>
._.

[10:12:00.0000] <TabAtkins>
KaOSoFt: I prefer your 3-eyed mutant.

[10:13:00.0000] <Workshiva>
Don't be so geneist

[10:28:00.0000] <TabAtkins>
Also, I don't know why everyone doesn't just switch to RDFa5 http://www.xanthir.com/rdfa5.html

[10:31:00.0000] <MikeSmith>
that page is unsatisfying

[10:31:01.0000] <MikeSmith>
it lacks an invisible metadata of any kind at all

[10:32:00.0000] <MikeSmith>
let alone mineable invisible metadata

[10:32:01.0000] <TabAtkins>
I ensure that all metadata is visible, and non-meta.

[10:32:02.0000] <MikeSmith>
actually, I've coined a new acronym

[10:32:03.0000] <MikeSmith>
MUM

[10:32:04.0000] <MikeSmith>
= mineable Un-visible metadata

[10:33:00.0000] <TabAtkins>
Keep MUM about it?

[10:33:01.0000] <MikeSmith>
see, you like it already

[10:33:02.0000] <MikeSmith>
it's catching on quickly

[10:33:03.0000] <TabAtkins>
If this rate keeps up, it'll be an international phenonemon in less than a month.

[10:35:00.0000] <MikeSmith>
and the royalty checks will start pouring in

[10:36:00.0000] <MikeSmith>
and I can use the money to invest in my new business idea

[10:36:01.0000] <MikeSmith>
which is hush-hush for now

[10:36:02.0000] <Anti-X>
that page uses uppercase tags, which makes me want to shoot them in the face

[10:36:03.0000] <TabAtkins>
Blame the browser that saved the HTML for me.

[10:36:04.0000] <MikeSmith>
but just to give a clue, my business idea involves a combination of Segway and parachute

[10:36:05.0000] <Anti-X>
i'll shoot you in the face then?

[10:37:00.0000] <Anti-X>
let me just get started first.. *opens porn*

[10:37:01.0000] <TabAtkins>
Anti-X: No, shoot Chrome in the face.  Which I suppose involves shooting me in the face, yes.

[10:37:02.0000] <TabAtkins>
Also: eww.

[10:37:03.0000] <Anti-X>
you know you like it

[10:37:04.0000] <Anti-X>
... better than a real shooting

[10:38:00.0000] <TabAtkins>
I suppose so, yes, but that's like one of those questions you ask each other when you're drunk - "Would you rather X or Y" - and then either answer makes you weird because you have to explain it.

[10:38:01.0000] <TabAtkins>
Anyway, I'm out for a bit.

[10:45:00.0000] <Anti-X>
yeah except i'm not drunk, so it's not like that at all

[10:45:01.0000] <Anti-X>
:P

[10:51:00.0000] <Philip`>
AryehGregor: dvcs.w3.org seems to be working again

[11:04:00.0000] <MikeSmith>
systems team has been doing some kind of migration on dvcs.w3.org and test.w3.org

[11:04:01.0000] <MikeSmith>
I'm not sure if they are completely done yet

[11:04:02.0000] <MikeSmith>
so you might notice other problems in the mean time

[11:06:00.0000] <Philip`>
I noticed that the changelog Atom entries all got duplicated

[11:06:01.0000] <Philip`>
but otherwise it seems okay so far

[11:07:00.0000] <MikeSmith>
ok

[12:02:00.0000] <loucapo>
hey annevk, thanks again for the help the other day

[13:00:00.0000] <loucapo>
hey does anyone here know why cross-origin xmlhttpreq in chrome/safari are workign fine but FF3.x and 4 are barking about it?

[13:23:00.0000] <jacobolus>
loucapo: https://developer.mozilla.org/En/HTTP_Access_Control

[13:23:01.0000] <jacobolus>
is that what you're asking for?

[13:25:00.0000] <jacobolus>
loucapo: here are some examples http://arunranga.com/examples/access-control/

[13:26:00.0000] <loucapo>
perhaps, though I thought i had it working. will read this, thanks.

[13:41:00.0000] <Peter->
http://news.cnet.com/8301-30685_3-20018146-264.html

[13:41:01.0000] <Peter->
Following a video format.. an image format

[13:41:02.0000] <Peter->
"Google offers JPEG alternative for faster Web"

[13:48:00.0000] <Philip`>
/me wonders why anyone would care about that

[13:48:01.0000] <Philip`>
since JPEG is basically good enough

[13:49:00.0000] <espadrine>
Especially if the world is leaning towards massive use of video, which is far more memory-consuming.

[13:51:00.0000] <Rik`>
Philip`: is there any technology that stays good enough ?

[13:53:00.0000] <Philip`>
Lots of technology stays good enough to not be worth the effort of upgrading the entire world

[13:54:00.0000] <Rik`>
name one :)

[13:54:01.0000] <espadrine>
JPEG XR

[13:55:00.0000] <Philip`>
HTML

[13:55:01.0000] <Rik`>
HTML has evolved

[13:55:02.0000] <Philip`>
Everything evolves

[13:56:00.0000] <Philip`>
(including JPEG)

[13:56:01.0000] <Dashiva>
HTML... never changes

[13:57:00.0000] <espadrine>
Although JPEG2000 didn't gain much usage share, did it?

[13:58:00.0000] <Philip`>
About zero

[13:58:01.0000] <Philip`>
because JPEG was good enough

[13:58:02.0000] <Rik`>
or because it hasn't been implemented

[13:59:00.0000] <espadrine>
It depends on how amazingly awesome the new stuff is, I suppose.

[13:59:01.0000] <espadrine>
If there is a wow factor, people adopt it.

[14:00:00.0000] <gsnedders>
And also people are more likely to spend more time implementing it better

[14:53:00.0000] <Rik`>
http://blog.chromium.org/2010/09/webp-new-image-format-for-web.html

[14:54:00.0000] <Rik`>
improving 65% of a page by 39% seems pretty good to me

[14:55:00.0000] <Rik`>
plus transparency in a future update

[14:56:00.0000] <Rik`>
this part seems pretty interesting

[14:58:00.0000] <aho>
oh boy oh boy

[15:02:00.0000] <aho>
i'm disappointed that they didn't add transparency right away

[15:02:01.0000] <aho>
the web really needs some lossy true color image format with support for transparency

[15:02:02.0000] <aho>
if it's something photo based, png32 is just too f-ing huge

[15:03:00.0000] <Philip`>
Rik`: They say they saved an average 39% on a collection of JPEG/PNG/GIF images without "perceptibly" affecting quality

[15:04:00.0000] <Philip`>
which seems a pretty useless number if I'm interpreting it right

[15:04:01.0000] <Philip`>
because one person might have a photo saved as a 5MB PNG and they'd get huge compression improvements by encoding even as plain old JPEG

[15:05:00.0000] <aho>
Philip`, check the gallery: http://code.google.com/speed/webp/gallery.html

[15:05:01.0000] <Rik`>
yes, that only says "if everyone uses webp instead of what they're doing now, we'll save 39%"

[15:06:00.0000] <Philip`>
It'd be more useful if they did comparisons against JPEG re-encoding with equivalent quality loss, and against the dozens of other JPEG-but-slighty-better formats that exist

[15:07:00.0000] <Rik`>
they did the first one

[15:08:00.0000] <jacobolus>
is there a list of SVG tests someplace?

[15:08:01.0000] <jacobolus>
that wants tests added?

[15:08:02.0000] <aho>
ye, a comparison with jp2 and jpg xr would have ben nice

[15:08:03.0000] <Philip`>
Rik`: Where?

[15:08:04.0000] <aho>
+e

[15:09:00.0000] <aho>
well, in about 10 years we can use jp2 :>

[15:09:01.0000] <Rik`>
the link aho posted

[15:09:02.0000] <jacobolus>
safari apparently currently supports marker-start, marker-mid, marker-end, but not marker as attributes on paths

[15:11:00.0000] <Philip`>
Rik`: That says they're comparing against JPEG originals (which might have stupid compression settings), not against re-encoded JPEGs

[15:13:00.0000] <Philip`>
Rik`: e.g. they claim 76% improvement on http://code.google.com/speed/webp/images/2.jpg, but if I just save it as a JPEG in Gimp then I can get 76% improvement without it looking much different

[15:15:00.0000] <jacobolus>
Rik`, Philip`: the webp images seem to have their color profiles stripped?

[15:16:00.0000] <jacobolus>
espadrine: JP2 is used a lot by people archiving very large images

[15:16:01.0000] <jacobolus>
it's just not used by consumer-facing web apps

[15:17:00.0000] <Philip`>
(The fact you can get a big improvement by just recompressing as marginally lower quality JPEG indicates that most people don't care about image size anyway)

[15:17:01.0000] <jacobolus>
decoders for JPEG 2000 are much much slower than decoders for JPEG

[15:18:00.0000] <jacobolus>
Philip`: or it indicates that grabbing the originals uploaded to wikipedia is a bad way to find compressed images

[15:18:01.0000] <jacobolus>
I believe the wikipedia thumbnails are reasonably compressed. the originals should be as high quality as possible IMO

[15:19:00.0000] <jacobolus>
because you never know what someone might want to do with them, and they won't be served to article page viewers

[15:19:01.0000] <annevk>
ah, WebP is out

[15:19:02.0000] <annevk>
and my inbox is full of bugmail yay

[15:20:00.0000] <Philip`>
Are there better benchmarks of WebP anywhere that I'm missing?

[15:20:01.0000] <jacobolus>
also, if google wants to use the lena image, they should just ask playboy; the magazine hasn't had any problem in the past with its use

[15:21:00.0000] <annevk>
"<video> element needs to support some form of parental control solution" whoa

[15:21:01.0000] <annevk>
lets boil the ocean

[15:21:02.0000] <aho>
the internet is AO rated

[15:21:03.0000] <Philip`>
Better add parental controls to <img> first

[15:22:00.0000] <jacobolus>
using webp for images seems to me like a really stupid thing to be pushing

[15:22:01.0000] <jacobolus>
I guess they want to hype the video format?

[15:22:02.0000] <annevk>
John Foliot is also asking for DRM

[15:23:00.0000] <annevk>
fun times

[15:23:01.0000] <aho>
lol :>

[15:23:02.0000] <Philip`>
http://code.google.com/speed/webp/docs/c_study.html - ah, that has more data

[15:24:00.0000] <jacobolus>
yeah, their jpeg 2000 numbers seem pretty sketchy

[15:25:00.0000] <jacobolus>
is there any evidence that PSNR is a good metric for "human-detectable degradation"

[15:25:01.0000] <Philip`>
Seems the average improvement over (Re-)JPEG is more like 20%

[15:26:00.0000] <Philip`>
Are WebP and/or JPEG and/or JPEG2K optimised for PSNR?

[15:26:01.0000] <jacobolus>
I'd be very interested to see what the JPEG 2000 inventors have to say about this study

[15:26:02.0000] <jacobolus>
also, they took existing jpeg images to convert, it looks like?

[15:27:00.0000] <jacobolus>
of arbitrary provenance

[15:27:01.0000] <jacobolus>
some of those might be ickily compressed with lots of artifacts aligned with jpeg block boundaries

[15:35:00.0000] <Philip`>
http://code.google.com/speed/webp/index.html - "Did you know? WebP is pronounced "weppy"." - no it's not, it's pronounced "web pee"

