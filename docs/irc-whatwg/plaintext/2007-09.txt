2007-09-01
[17:01:00.0000] <othermaciej>
it's actually kind of vague

[17:01:01.0000] <othermaciej>
see the RFC

[17:01:02.0000] <othermaciej>
http://www.ietf.org/rfc/rfc2854.txt

[17:01:03.0000] <othermaciej>
"The text/html media type is now defined by W3C Recommendations;

[17:01:04.0000] <othermaciej>
      the latest published version is [HTML401].  In addition, [XHTML1]

[17:01:05.0000] <othermaciej>
      defines a profile of use of XHTML which is compatible with HTML

[17:01:06.0000] <othermaciej>
      4.01 and which may also be labeled as text/html."

[17:02:00.0000] <othermaciej>
HTML5 would update the definition of the text/html media type to include the HTML serialization of HTML5, but not the XML serialization

[17:02:01.0000] <othermaciej>
I'm not sure whether it could meaningfully remove old allowed serializations from what is legal for the media type

[17:02:02.0000] <othermaciej>
because I don't know how media type registration rules work

[17:03:00.0000] <webben>
othermaciej: I guess that's my point. It sounds like that would be a bureaucratic hassle with no real-world advantages.

[17:03:01.0000] <othermaciej>
it does look like the existing RFC does not allow HTML 3.2 or HTML 2

[17:04:00.0000] <webben>
othermaciej: ? which bit to you gather that from?

[17:04:01.0000] <webben>
*do you

[17:04:02.0000] <othermaciej>
there's not a whole lot of MUST there

[17:05:00.0000] <webben>
indeed

[17:05:01.0000] <othermaciej>
webben: the "Published specification:" section

[17:05:02.0000] <othermaciej>
it's written sloppily

[17:05:03.0000] <othermaciej>
it's unclear what other specifications, if any, alsocover the media type

[17:05:04.0000] <webben>
I'd have though if they meant to exclude 3.2 they would have said "The text/html media type is now defined by the latest version of the W3C Recommendation for HTML" (or something)

[17:06:00.0000] <webben>
rather than talking about "Recommendations" (plural)

[17:06:01.0000] <webben>
or actually said: "You should not serve 3.2 ..."

[17:06:02.0000] <othermaciej>
in any case it's standard practice for W3C specifications to define their associated MIME type

[17:06:03.0000] <othermaciej>
well, it does mention two recommendations, HTML 4.01 and XHTML 1.0

[17:07:00.0000] <webben>
/me resists the urge to comment that it's a bad habit of W3C specs to allude to MIME types that they might register someday...

[17:07:01.0000] <webben>
othermaciej: ah, I see how your reading works.

[17:08:00.0000] <webben>
othermaciej: i think it's a bit of a stretch on such vague text though

[17:08:01.0000] <othermaciej>
webben: well, it's pretty clear what this registration allows, but it's totally unclear what, if anything, it disallows

[17:09:00.0000] <othermaciej>
the only actual MUST is related to line breaks

[17:09:01.0000] <othermaciej>
and here's the worst abuse of must in a spec ever:

[17:09:02.0000] <othermaciej>
"User agents executing such

[17:09:03.0000] <othermaciej>
   scripts or programs must be extremely careful to insure that

[17:09:04.0000] <othermaciej>
   untrusted software is executed in a protected environment."

[17:45:00.0000] <Philip`>
Hmm, I never knew Thunderbird automatically strips out " (was: ...)" from subjects when replying

[18:41:00.0000] <Lachy>
hmm. I wonder why people are wasting their time discussing "HTML 4.02" and widely unsupported SGML features.

[18:58:00.0000] <othermaciej>
how many NETs can dance on the head of a pin?

[01:45:00.0000] <zcorpan>
hmm, wonder if we can limit text/html sniffing to "text/html", "text/html; charset=iso-8859-1" and "text/html; charset=ISO-8859-1" so that when you declare utf-8 it's not sniffed

[01:46:00.0000] <zcorpan>
or are there feeds in the wild that are declared as "text/html; charset=utf-8"?

[06:45:00.0000] <zcorpan>
Hixie: "Error loading the folder list: Internal Server Error. Let Hixie know."

[06:46:00.0000] <zcorpan>
oh, now it worked (3rd time)

[09:13:00.0000] <zcorpan>
Hixie: i fail to parse this sentence (in a note in #writing): "It is suggested that newlines be inserted after the DOCTYPE and any comments that aren't in the root element."

[09:58:00.0000] <deltab>
zcorpan: "We suggest that you insert newlines after the DOCTYPE and after each comment that isn't in the root element."

[10:01:00.0000] <zcorpan>
aha

[10:02:00.0000] <zcorpan>
i read "it is suggested" as in "we have heard"

[10:03:00.0000] <zcorpan>
but doing so for comments after the root will append LF characters to the html element each time it is parsed and serialized

[10:05:00.0000] <zcorpan>
not a biggie but the rest of the section goes to great lengths to ensure that things round-trip

[10:15:00.0000] <zcorpan>
hmm, they are appended to the body -- not html

[10:37:00.0000] <zcorpan>
hmm, i should remember to take out my own address from the To field when replying to myself :|

[10:52:00.0000] <zcorpan>
not sure i'm fond of the ambigous ampersand thing

[10:52:01.0000] <zcorpan>
it's more straightforward to require it to be escaped


2007-09-02
[19:53:00.0000] <tibberio>
hi

[20:13:00.0000] <Lachy_>
hi tibberio

[20:42:00.0000] <tibberio>
hi Lachy_, I'm asleep, night

[05:42:00.0000] <Lachy>
I implemented the text/html content sniffing algorithm in JavaScript http://html5.lachy.id.au/content-sniffing/

[05:42:01.0000] <Lachy>
also checked it into google code

[05:44:00.0000] <virtuelv_>
Lachy: should the [invalid] sequence '<??>' really be text/html?

[05:45:00.0000] <Lachy>
that's what the algorithm says

[05:45:01.0000] <Lachy>
in the spec

[05:45:02.0000] <Lachy>
I wondered about that too, but I figured it would be better to implement exactly what the spec says and then provide feedback about it

[05:46:00.0000] <Lachy>
wait, why wouldn't <??> be text/html?

[05:47:00.0000] <Lachy>
if anything, it should always be text/html, since it's not well formed XML and thus can't be a feed

[05:47:01.0000] <Lachy>
i.e. <??><feed> probably shouldn't be Atom

[06:05:00.0000] <zcorpan>
Lachy: that's a good environment to run testcases

[06:05:01.0000] <zcorpan>
for browsers

[06:05:02.0000] <Lachy>
yep

[06:06:00.0000] <Lachy>
it would probably be a good idea to integrate it into the live dom viewer later

[06:06:01.0000] <zcorpan>
similar to http://html5.org/parsing-tests/testrunner.htm and http://simon.html5.org/test/html/serializing/001.htm

[06:07:00.0000] <zcorpan>
though you could use json as the format for the tests

[06:08:00.0000] <Lachy>
right, that shouldn't be too hard to do

[06:08:01.0000] <zcorpan>
though i wonder if you have to have a server involved to actually test what browsers do

[06:09:00.0000] <zcorpan>
i.e. the relevant sniffing only occurs for resources served over the wire

[06:09:01.0000] <Lachy>
yeah, but that's not too hard to do

[06:09:02.0000] <zcorpan>
true

[06:10:00.0000] <Lachy>
I tried a few simple test cases with data: URIs and Firefox didn't sniff them

[06:10:01.0000] <zcorpan>
right, data: are never sniffed

[06:10:02.0000] <zcorpan>
afaik

[06:11:00.0000] <Lachy>
so we'd probably need to load from the server into an iframe or something

[06:11:01.0000] <zcorpan>
exactly

[06:11:02.0000] <zcorpan>
slightly annoying but certainly doable :)

[06:12:00.0000] <Lachy>
I think I have a PHP script somewhere that will echo whatever data you pass, using whatever MIME specified,

[06:12:01.0000] <zcorpan>
we could perhaps also use Philip`'s appoach with creating tests

[06:13:00.0000] <zcorpan>
hmm

[06:13:01.0000] <zcorpan>
might be better to just find all the edge cases

[06:18:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/dom-viewer/reflect.cgi?%3Cscript%3Ealert('Hello%20world')%3C/script%3E echoes stuff but it's probably not so useful since it always does text/html

[06:19:00.0000] <Philip`>
(There's a reflect-xhtml.cgi for XHTML)

[06:19:01.0000] <Lachy>
I've got one that does the same thing, though I'm going to make it check for a content-type parameter in the query string and use that

[06:21:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/dom-viewer/reflect.c - I don't really fancy modifying that to actually parse the query string at all, so it's probably more sensible to use PHP :-)

[06:21:01.0000] <Lachy>
the only problem with something like that is that it creates a huge security risk

[06:21:02.0000] <virtuelv_>
Lachy: the spec doesn't define text/plain when it lacks angle brackets?

[06:21:03.0000] <Lachy>
virtuelv, no, why would it?

[06:22:00.0000] <virtuelv_>
/me goes back and reads the proposal again

[06:22:01.0000] <Lachy>
virtuelv_, it's the algorithm that sniffs content delivered as text/html to see if it's a feed.  If it's not a known feed format, it's text/html

[06:22:02.0000] <Lachy>
seel http://www.whatwg.org/specs/web-apps/current-work/multipage/section-content-type-sniffing.html#content-type3

[06:38:00.0000] <Lachy>
Philip`, zcorpan, http://html5.lachy.id.au/output

[06:41:00.0000] <zcorpan>
Lachy: you need to do stipslashes()

[06:42:00.0000] <Lachy>
oh crap, that should be off by default on my server.

[06:43:00.0000] <Lachy>
hmm. I'll have to add stripslashes for now, since I can't remember how to do it in .htaccess or php.ini or whatever it is

[06:43:01.0000] <zcorpan>
i can't get "<rss>" to be echoed

[06:44:00.0000] <zcorpan>
in firefox

[06:45:00.0000] <zcorpan>
and safari

[06:46:00.0000] <zcorpan>
no wait it works in safari

[06:47:00.0000] <zcorpan>
Lachy: you also need an id on the <datalist> :)

[06:47:01.0000] <Lachy>
oops :-)

[06:51:00.0000] <Lachy>
where can I find an Atom test file?

[06:52:00.0000] <zcorpan>
in the rfc :)

[06:52:01.0000] <Lachy>
never mind, found one

[06:53:00.0000] <zcorpan>
hmm, ie doesn't add attributes to the root node from misplaced <html> tags

[06:53:01.0000] <Lachy>
it appears that Firefox will only sniff as the result of a GET request, not a POST

[06:56:00.0000] <Lachy>
Firefox needs to see the Atom xmlns and there needs to be at least a title and link element in it for it to be sniffed as a feed.

[06:56:01.0000] <Lachy>
http://html5.lachy.id.au/output?type=text%2Fhtml&data=%3Cfeed+xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2005%2FAtom%22%3E%0D%0A++%3Ctitle%3EExample+Feed%3C%2Ftitle%3E%0D%0A++%3Clink+href%3D%22http%3A%2F%2Fexample.org%2F%22%2F%3E%0D%0A%3C%2Ffeed%3E%0D%0A

[06:58:00.0000] <zcorpan>
doesn't opera sniff for feeds?

[06:58:01.0000] <Lachy>
it doesn't appear to

[06:58:02.0000] <Lachy>
maybe it needs more content in it

[06:59:00.0000] <Lachy>
nope, it doesn't (at least not for Atom)

[07:00:00.0000] <zcorpan>
not for rss 2.0 either

[07:01:00.0000] <Lachy>
hmm. How do I turn off AddDefaultCharset for just that one file?

[07:02:00.0000] <Lachy>
I've tried putting it in a <Files> directive, but it doesn't seem to to work

[07:03:00.0000] <zcorpan>
AddDefaultCharset Off in the same folder should work (for all files in that folder)

[07:03:01.0000] <Lachy>
yeah, but it's in the root directory, so I don't want it to do that

[07:04:00.0000] <zcorpan>
dunno

[07:04:01.0000] <zcorpan>
perhaps opera only does sniffing for following <link>s

[07:05:00.0000] <Lachy>
oh well, I'll just turn it off for everything now and fix it later

[07:06:00.0000] <Lachy>
maybe, try it

[07:06:01.0000] <zcorpan>
but it's a php file, and AddDefaultCharset doesn't apply to php

[07:06:02.0000] <zcorpan>
php sends its own headers

[07:07:00.0000] <Lachy>
http://html5.lachy.id.au/output?type=text%2Fhtml&data=%3Clink+rel%3D%22alternate%22+type%3D%22application%2Fatom%2Bxml%22+href%3D%22http%3A%2F%2Fhtml5.lachy.id.au%2Foutput%3Ftype%3Dtext%252Fhtml%26data%3D%253Cfeed%2Bxmlns%253D%2522http%253A%252F%252Fwww.w3.org%252F2005%252FAtom%2522%253E%250D%250A%2B%2B%253Ctitle%253EExample%2BFeed%253C%252Ftitle%253E%250D%250A%2B%2B%253Clink%2Bhref%253D%2522http%

[07:07:01.0000] <Lachy>
253A%252F%252Fexample.org%252F%2522%252F%253E%250D%250A%253C%252Ffeed%253E%250D%250A%22%3E%0D%0A%3Cp%3ETest

[07:07:02.0000] <Lachy>
AddDefaultCharset applies based on the MIME type I think

[07:08:00.0000] <Lachy>
so all text/* responses get ; charset=...

[07:08:01.0000] <zcorpan>
yeah but php will still send its own headers

[07:08:02.0000] <zcorpan>
php overrides apache

[07:09:00.0000] <Lachy>
indeed, but it's not.  I'm using headers("Content-Type: $type"); in the php, so it should send exactly what's in the text box, but it doesn't

[07:09:01.0000] <zcorpan>
it does afaict

[07:10:00.0000] <Lachy>
yeah, it does now, cause I turned off AddDefaultCharset already

[07:10:01.0000] <Lachy>
but if I turn it on again, it won't

[07:11:00.0000] <zcorpan>
can you turn it on again, please?

[07:12:00.0000] <Lachy>
done

[07:12:01.0000] <zcorpan>
oh, indeed. that's not how my server behaves though

[07:13:00.0000] <zcorpan>
perhaps a different version of php or different settings

[07:13:01.0000] <Lachy>
which version of Apache does your server run?

[07:13:02.0000] <zcorpan>
1.3 iirc

[07:13:03.0000] <Lachy>
I'm using PHP 5, Apache 1.3 I think

[07:13:04.0000] <zcorpan>
php 4

[07:13:05.0000] <zcorpan>
ok, so then php 5 pays attention to apache settings

[07:13:06.0000] <Lachy>
I'll try it with PHP4...

[07:15:00.0000] <zcorpan>
hmm, perhaps i was wrong

[07:16:00.0000] <Lachy>
nope, still does it

[07:16:01.0000] <Lachy>
I've turn default charset off again

[07:30:00.0000] <Lachy>
zcorpan, for the HTML status updating, I think it would be easiest if we just use HTTP basic authentication and using a .htpasswd file, which grants access to the confirmation script for Hixie (or whoever else is authorised)

[07:32:00.0000] <zcorpan>
Lachy: ok

[07:33:00.0000] <Lachy>
we just need to write the script that commits the changes to the DB, and then make a few minor changes to the existing update script and we're done

[07:53:00.0000] <zcorpan>
Lachy: great

[07:56:00.0000] <gsnedders>
Lachy: it's all the magic_quotes settings

[07:56:01.0000] <Lachy>
gsnedders, thanks, I do have the instructions for it written down somewhere. I just have to find them and set it up

[07:57:00.0000] <gsnedders>
http://uk2.php.net/magic_quotes

[07:57:01.0000] <gsnedders>
(a "feature" that's gone in PHP6)

[07:58:00.0000] <hsivonen>
interpreter/compiler-level settings that change programming language semantics suck big time

[07:59:00.0000] <Lachy>
yeah, PHP already sucks and fixing PHP by turning off silly "features" just needs to be done

[08:03:00.0000] <gsnedders>
according to the PHP devs, <span title="this > that"> is invalid HTML.

[08:04:00.0000] <gsnedders>
the only way I could get them to fix the bug in strip_tags() which claims to only work with valid HTML anyway was to quote both HTML5, HTML 4.01, and SGML.

[08:06:00.0000] <Lachy>
PHP devs often don't know HTML very well at all

[08:06:01.0000] <Lachy>
try to get them to fix the ampersand bug, for instance!

[08:07:00.0000] <Lachy>
the one where they generate and output "...&PHPSESSID=..." instead of using &amp;

[08:08:00.0000] <Dashiva>
Or just get them to handle multiple selects/checkboxes without hacking the names

[08:09:00.0000] <Lachy>
yeah, that too

[08:09:01.0000] <Dashiva>
Although that's not html-specific, they mangle it the same way with parsing ini files

[08:09:02.0000] <gsnedders>
Lachy: oh, that's a config option. duh :P

[08:10:00.0000] <Lachy>
gsnedders, I know, but it should be default!

[08:10:01.0000] <gsnedders>
but backwards compatibility!11!!!!elevnty!

[08:10:02.0000] <Lachy>
they should have fixed it for PHP5, which isn't backwards compatible anyway

[08:10:03.0000] <Lachy>
or even PHP6

[08:10:04.0000] <gsnedders>
yes, they're backwards compatible!11!!1!

[08:10:05.0000] <gsnedders>
It's stupid.

[08:11:00.0000] <gsnedders>
They refuse to fix things in the name of BC, yet totally break it anyway.

[08:11:01.0000] <Lachy>
yeah, I know. I should just learn python and how to get it running on my server

[08:13:00.0000] <gsnedders>
yeah, I've been meaning to learn python too.

[08:14:00.0000] <gsnedders>
far more general use, too

[08:23:00.0000] <Philip`>
Python's going to break backward compatibility too, but at least they're intending to fix lots of small mistakes at the same time, which seems good as long as you only do it once a decade

[08:40:00.0000] <Lachy>
woo hoo! My first python script running on my server :-) http://lachy.id.au/temp/test


2007-09-03
[22:33:00.0000] <Lachy_>
I added some more features to the content sniffing page.  It will now load data from the query string (like the live dom viewer) and shows the browser output in an iframe

[22:34:00.0000] <Lachy_>
http://html5.lachy.id.au/content-sniffing/?%3Cfeed%3Etest2%3C/feed%3E

[02:18:00.0000] <hsivonen>
Philip`: running a copy of the validator.nu software is not hard if your host allows permanantly memory-resident processess and has mod_jk

[02:19:00.0000] <hsivonen>
what happened with the validator.nu outage was that the shared host was taken down for scheduled maintenance one day

[02:19:01.0000] <hsivonen>
then something went wrong and the outage took 2 days instead of planned 5 hours

[02:20:00.0000] <hsivonen>
since the maintenance went long, I couldn't make sure validator.nu was back up before I flew out to Budapest

[02:21:00.0000] <hsivonen>
and then mod_jk was missing

[02:22:00.0000] <hsivonen>
and then giving my password to a random internet cafe computer was unacceptable security-wise and GPRS roaming didn't work in Romania, so it took a while to find working wifi connectivity to get everything back up

[02:22:01.0000] <hsivonen>
I'm going to investigate moving away from the shared host to avoid maintenance breaks when I happen to be traveling

[02:23:00.0000] <hsivonen>
my apoligies to everyone who tried to use the service during the outage

[02:23:01.0000] <hsivonen>
apologies even

[03:07:00.0000] <hsivonen>
Re: accesskey UI: BBEdit/TextWrangler show shortcut keys on dialog buttons when the command key is held down.

[03:38:00.0000] <hsivonen>
I'm going to implement POSTing documents to validator.nu. Is Content-Location on POST a good way to indicate the base URI of the POSTed document? (the RFC leaves Content-Location on POST undefined)

[04:44:00.0000] <zcorpan>
hsivonen: are there any alternatives? :)

[04:44:01.0000] <zcorpan>
why do you need the base uri?

[04:51:00.0000] <hsivonen>
zcorpan: the alternative would be along the lines of X-Content-Location

[04:51:01.0000] <hsivonen>
zcorpan: the base URI is needed for the DTD-loading mode

[04:52:00.0000] <hsivonen>
zcorpan: also, if Hixie really goes down the road of requiring conformance checkers to load images, then the base URI will be needed for HTML5 as well

[04:52:01.0000] <hsivonen>
(although I'm kinda hoping Hixie won't go there :-)

[05:04:00.0000] <zcorpan>
hsivonen: you could opt to not support loading DTDs in such cases

[05:08:00.0000] <hsivonen>
zcorpan: I could. but picking a HTTP header name and sticking its value in a SAX InputSource is so embarrassingly easy that I feel I should do it for completeness

[05:11:00.0000] <hsivonen>
the harder part is checking that the pre-existing code that expects to see sane URIs doesn't break too much when a URI is missing

[05:32:00.0000] <Lachy>
hi hsivonen, how was your holiday?

[05:45:00.0000] <hsivonen>
Lachy: the holiday was fine

[05:45:01.0000] <Lachy>
cool :-)

[05:47:00.0000] <Lachy>
re POST and Content-Location header, I don't understand how you intend it to be used. Are you expecting clients to send the Content-Location header with their POST request?

[05:49:00.0000] <Lachy>
and is the HTML file supposed to be posted in the body of the request?

[05:49:01.0000] <hsivonen>
Lachy: yes and yes

[05:50:00.0000] <Lachy>
ok, but regular web browsers wouldn't send that header. Which clients would you expect to do so?

[05:50:01.0000] <hsivonen>
Lachy: blogging systems, command line tools and such non-browser Web service clients

[05:51:00.0000] <Lachy>
ok

[05:51:01.0000] <hsivonen>
Lachy: I intend to implement back end support for form POST, too

[05:52:00.0000] <hsivonen>
(but I don't have a satisfactory design for form POST front end UI yet)

[06:25:00.0000] <annevk_zeist>
the omit-alt comments are fun

[06:25:01.0000] <zcorpan>
hey annevk_zeist

[06:26:00.0000] <zcorpan>
alles goed?

[06:28:00.0000] <annevk_zeist>
ja, op zich wel

[06:28:01.0000] <annevk_zeist>
beetje dingen opruimen van vakantie enzo

[06:28:02.0000] <zcorpan>
oke

[06:29:00.0000] <annevk_zeist>
en nog steeds geen baggage uit Madrid...

[06:29:01.0000] <gsnedders>
still? (or have I misunderstood)

[06:29:02.0000] <annevk_zeist>
yeah, still no luggage

[06:30:00.0000] <gsnedders>
just not been there to get it, or…?

[06:30:01.0000] <annevk_zeist>
neh, they're messing it up

[06:30:02.0000] <gsnedders>
/me sighs

[06:30:03.0000] <gsnedders>
it's been too long since I've read such languages

[06:30:04.0000] <annevk_zeist>
supposedly it would go to my parents, but they haven't received anything yet and trying to reach KLM luggage service on the phone is not really possible

[06:31:00.0000] <gsnedders>
ergh.

[06:36:00.0000] <annevk_zeist>
anything interesting happened?

[06:37:00.0000] <gsnedders>
annevk_zeist: oh, just one or two flamewars on public-html. not really interesting by WG standards, though

[06:38:00.0000] <annevk_zeist>
Lachy, yt?

[06:38:01.0000] <annevk_zeist>
gsnedders, heh

[06:38:02.0000] <Lachy>
yo

[06:38:03.0000] <gsnedders>
annevk_zeist: mainly on the subject of making @alt optional

[06:38:04.0000] <annevk_zeist>
Lachy, I think it would be nice if the FAQ became a wiki page

[06:39:00.0000] <Lachy>
ok. If you make the page, I can set up redirection

[06:40:00.0000] <annevk_zeist>
k, I'll look into it when I have my laptop again

[06:40:01.0000] <annevk_zeist>
(it's in Utrecht, not lost with the luggage)

[06:45:00.0000] <gsnedders>
/me really needs some sort of hosting on a stable domain for all the browser tests I'm going to write

[06:47:00.0000] <annevk_zeist>
you can get firstname.html5.org

[06:47:01.0000] <gsnedders>
meh. geoffrey is a horrible name :)

[06:48:00.0000] <gsnedders>
annevk_zeist: gsnedders would be preferable, but I wouldn't complain with geoffrey

[06:48:01.0000] <annevk_zeist>
I suppose I could break the convention...

[06:48:02.0000] <annevk_zeist>
/me ponders

[06:51:00.0000] <gsnedders>
/me has got annevk_zeist pondering. is that safe? :P

[06:53:00.0000] <annevk_zeist>
as long as you're not here :p

[06:58:00.0000] <annevk_zeist>
I'll get you gsnedders.html5.org later; need my laptop first

[06:58:01.0000] <gsnedders>
annevk_zeist: yeah, having your own computer would be useful; thanks, though :)

[07:11:00.0000] <hsivonen>
Hixie: Re: offline: Isn't if more Web-like for each app view to have its own URI instead of having one top-level URI and a lot of Ajaxy dynamism on the one "page"?

[07:49:00.0000] <annevk>
ah, 2033 new e-mails

[08:31:00.0000] <brianherman>
hello

[08:31:01.0000] <brianherman>
everyone having a good labor day?

[10:22:00.0000] <gsnedders>
labour day>

[10:23:00.0000] <gsnedders>
s/>/?/

[10:24:00.0000] <Lachy>
gsnedders, apparently it's labor day in the US.  I think it's a public holiday

[12:30:00.0000] <annevk>
hmm, one angry e-mail to KLM and I suddenly get a call from Spain

[12:30:01.0000] <annevk>
/me wonders if they're connected

[12:43:00.0000] <Lachy>
annevk, what's KLM?

[12:43:01.0000] <Lachy>
btw, this article seems to be nothing more than FUD http://www.gnucitizen.org/blog/i-dont-think-that-you-understand-firefox3-vulnerable-by-design

[12:46:00.0000] <Lachy>
the port scanning script is the only one that seems reasonable, but it depends on whether or not readystate ever fires for 3 LOADING when the request hasn't been allowed

[12:46:01.0000] <annevk>
airline company

[12:47:00.0000] <annevk>
it doesn't go to readyState 3 obviously (that would also allow more than just port scanning)

[12:47:01.0000] <Lachy>
yeah, I didn't think it would

[12:48:00.0000] <virtuelv_>
but restricting browsers from setting the Content-Access-Control header in the request seems reasonable, if over the top

[12:49:00.0000] <Lachy>
virtuelv_, why would it matter if it was sent as a request header?

[12:52:00.0000] <virtuelv_>
Lachy: You're right. It shouldn't

[12:52:01.0000] <virtuelv_>
   The TRACE method is used to invoke a remote, application-layer loop-

[12:52:02.0000] <virtuelv_>
   back of the request message. The final recipient of the request

[12:52:03.0000] <virtuelv_>
   SHOULD reflect the message received back to the client as the

[12:52:04.0000] <virtuelv_>
   entity-body of a 200 (OK) response. 

[12:53:00.0000] <virtuelv_>
but, understanding that correctly, offsite TRACE would mostly be impossible anyway

[12:53:01.0000] <virtuelv_>
or rather, not

[12:53:02.0000] <virtuelv_>
the point being:

[12:54:00.0000] <virtuelv_>
(You can theoretically get content back, but the only thing you could possibly steal were the cookies sent to the server in the first place)

[12:55:00.0000] <Lachy>
IIRC, cookies aren't sent with XHR requests to other domains, are they?

[12:58:00.0000] <virtuelv_>
There is exactly one mention: "User agents which implement this specification should take care not to expose other trusted data (cookies, HTTP header data) inappropriately."

[12:58:01.0000] <virtuelv_>
whatever that means

[12:59:00.0000] <virtuelv_>
if the meaning is that cookies are not to be sent, then I'd say the spec ought to state this explicitly

[12:59:01.0000] <Lachy>
hmm. I'm not sure, but it would seem crazy if browsers did, since it would open up a huge security risk

[12:59:02.0000] <annevk>
headers and content body and such is still a big vague atm I'm afraid

[13:05:00.0000] <annevk>
now everyone can fix bugs: http://wiki.whatwg.org/wiki/FAQ

[13:06:00.0000] <annevk>
Lachy, you were ok with this, right?

[13:07:00.0000] <Lachy>
yeah

[13:09:00.0000] <Lachy>
I'll set up redirection from /faq/ on the blog later

[13:10:00.0000] <annevk>
k

[13:41:00.0000] <annevk>
jgraham_, found a bug in your tool: http://wordsandpictures.dyndns.org/cgi-bin/tables/table_inspector.py?uri=http%3A%2F%2Fannevankesteren.nl%2F2007%2F09%2Ftmb-overview&algorithm=html4&scope=1&headers=1

[13:41:01.0000] <annevk>
jgraham_, it doesn't respect <tbody>

[13:41:02.0000] <annevk>
jgraham_, or maybe a bug in scope="rowgroup", dunno

[13:42:00.0000] <annevk>
jgraham_, it also has encoding issues

[13:50:00.0000] <annevk>
It's fascinating how RB claims <input usemap> to be implemented in WebKit and Trident

[13:50:01.0000] <annevk>
to see*

[14:09:00.0000] <annevk>
I think the <img> section should give some advice on smileys

[14:12:00.0000] <zcorpan>
<img alt=:-) title=Smile src=smile.gif> ?

[14:12:01.0000] <annevk>
for instance

[14:12:02.0000] <annevk>
/me always wonders whether ASCII art is appropriate there

[14:13:00.0000] <jgraham_>
annevk: What do you expect the behaviour to be?

[14:13:01.0000] <jgraham_>
/me doesn't want to fix the "wrong" problem

[14:14:00.0000] <annevk>
jgraham_, I expect stuff like "Day 1" not be repeated until the end of the table, it solely applies to the <tbody> it's in

[14:14:01.0000] <zcorpan>
annevk: i think it's appropriate. it's what you would use if you didn't use an image, and it's quite common in "plain text"

[14:17:00.0000] <jgraham_>
Oh, I see what you mean

[14:25:00.0000] <annevk>
good :)

[14:25:01.0000] <annevk>
I was actually wondering if the algorithm could be made even more nice for the lazy author so I could omit scope= there too

[14:26:00.0000] <annevk>
scope=rowgroup is implicit if the first row of a rowgroup contains a single header cell

[14:28:00.0000] <annevk>
zcorpan, well, there are Unicode smileys...

[14:29:00.0000] <gsnedders>
do homework, or write test cases? hmmm…

[14:29:01.0000] <annevk>
☹☺☻

[14:36:00.0000] <zcorpan>
annevk: yeah, but they aren't very common in "plain text", probably wasn't what the author typed in, and there are only 3 of them

[14:37:00.0000] <zcorpan>
forums often have dozens of smileys

[14:38:00.0000] <zcorpan>
using exactly what was typed in as alt has the advantage that it round trips copy-and-paste

[14:48:00.0000] <annevk>
hmm, specialcasing <input type=hidden> is ugly

[14:48:01.0000] <annevk>
doable, but ugly

[14:48:02.0000] <zcorpan>
indeed

[14:48:03.0000] <zcorpan>
ie already specialcases it, it allows hidden inputs in head

[14:48:04.0000] <annevk>
oh

[14:49:00.0000] <zcorpan>
doesn't make it less ugly but proves that it is doable :)

[14:49:01.0000] <annevk>
I was thinking that maybe form.elements could be filled up during parsing

[14:49:02.0000] <zcorpan>
yeah, i was pondering about alternative approaches too

[16:04:00.0000] <jgraham_>
annevk: I think the heading information for your table is almost right now

[16:05:00.0000] <jgraham_>
The finalk thing is that the <th>Day 2</th> has "Day 1" as one of its headings (and so on down the page)

[16:05:01.0000] <jgraham_>
This is because these headers aren't assigned any heading information from the scope algorithm

[16:06:00.0000] <jgraham_>
and HTML 4 says "In the absence of header information from either the scope or headers attribute, user agents may construct header information according to the following algorithm"

[16:06:01.0000] <annevk>
how would Day 2 get Day 1? Day 1 has an explicit scope...

[16:07:00.0000] <jgraham_>
From the implicit algorithm.

[16:07:01.0000] <annevk>
I do get how Day x gets Location, estimated time, etc. although that's not desired

[16:07:02.0000] <jgraham_>
I think it's an incorrect reading of the HTML 4 spec, but I don't know what the right reading is.

[16:08:00.0000] <annevk>
I'm not sure why you think there's absense of scope or headers attribute

[16:09:00.0000] <annevk>
I suppose I need something like <th scope=rowgroup colspan=4 headers>Day x</th> to override the Location, Height, ... headings

[16:09:01.0000] <jgraham_>
Because, at the moment, my implementation assumes that ""In the absence of header information from either the scope or headers attribute" applies to the cell we are trying to assign a heading to

[16:09:02.0000] <annevk>
assuming <th headers> works like that

[16:10:00.0000] <annevk>
jgraham_, yeah, so you look up and find a <th>, but that <th> can't be the header of the header because it has a different scope...

[16:10:01.0000] <jgraham_>
in the case of the <th> cell containing "Day 2" there is no information from any scope or headers attribute that assigns heading information to that cell

[16:11:00.0000] <jgraham_>
annevk: But does HTML 4 actually say that?

[16:11:01.0000] <annevk>
not sure

[16:11:02.0000] <annevk>
it also seems that the headers given in <thead> are not applied to the four columns...

[16:12:00.0000] <jgraham_>
My reading is that if a cell has no heading information supplied from headers or scope you then do the row/column search ignoring scope or headers attributes

[16:12:01.0000] <annevk>
this is the case in the HTML5 algorithm though

[16:12:02.0000] <jgraham_>
annevk: agreed

[16:12:03.0000] <annevk>
HTML5 actually has exactly how I want it

[16:12:04.0000] <jgraham_>
My imp. of the HTML 5 algorithm seems to get that right

[16:12:05.0000] <annevk>
including the scope=rowgroup headers not getting the <thead> headers

[16:13:00.0000] <annevk>
/me wonders if that always makes sense

[16:13:01.0000] <webben>
Probably not.

[16:13:02.0000] <jgraham_>
My conclusion from playing with a few tables on the net is that nothing always makes sense

[16:14:00.0000] <webben>
You could have a header cell for a rowgroup in a row that contained summary information/totals for the rowgroup

[16:14:01.0000] <webben>
I think I've seen tables like that in print.

[16:14:02.0000] <annevk>
I'm not sure if that's correct usage though

[16:15:00.0000] <webben>
correct usage of what?

[16:15:01.0000] <annevk>
of HTML tables

[16:15:02.0000] <webben>
Why aren't you?

[16:16:00.0000] <annevk>
because it doesn't make much sense to me to put summaries in headers

[16:16:01.0000] <webben>
annevk: I don't see why not. A good example would be demographics.

[16:16:02.0000] <webben>
say you have area then pop in the thead

[16:17:00.0000] <webben>
then you have each rowgroup as a continent with total pop

[16:17:01.0000] <webben>
then you have countries in each rowgroup row

[16:17:02.0000] <webben>
with their respective pop

[16:18:00.0000] <webben>
Don't forget that a td can be a header simultaneously with being a data cell.

[16:20:00.0000] <annevk>
that's not actually clear from HTML4

[16:20:01.0000] <webben>
annevk: yes it is. it's stated in the DTD

[16:20:02.0000] <webben>
is there anything that contradicts that?

[16:21:00.0000] <annevk>
the prose doesn't really support that comment

[16:22:00.0000] <webben>
annevk: I think trying to read the comments against the prose doesn't make much sense. Specifications aren't meant to be read to be self-contradicting. :) (They might be self-contradicting by accident, but you don't seem to be arguing that's the case here.)

[16:24:00.0000] <annevk>
I'm not sure why it doesn't make sense. Comments, notes, examples, etc. are all non-normative. (Although in this specific case nothing much is normative and the whole thing is rather vague.)

[16:26:00.0000] <webben>
annevk: Actually the prose does say: "Note that it's not always possible to make a clean division of cells into headers or data. You should use the TD element for such cells together with the id or scope attributes as appropriate." Which seems a relatively clear restatement of the principle.

[16:26:01.0000] <webben>
annevk: Yes. But they are all intended to help explain the spec, not contradict it.

[16:27:00.0000] <webben>
therefore trying to read them as a source of contradictions, like two alternative sources for the same thing, is strange

[16:27:01.0000] <webben>
(that quote is from 11.4.1)

[16:28:00.0000] <webben>
annevk: also note the example intended to illustrate the scope attribute which features td with the scope="row"

[16:28:01.0000] <webben>
followed by the text in the prose: "Although the first cell in each row contains data, not header information, the scope attribute makes the data cell behave like a row header cell."

[16:29:00.0000] <zcorpan>
/me is unsure what the benefit is of trying to figure out what the intent of html4 is

[16:29:01.0000] <zcorpan>
isn't it better to focus on figuring out an algorithm for html5 that works with existing tables on the web?

[16:29:02.0000] <annevk>
/me is not going to add scope="row" to all his <tr>s

[16:29:03.0000] <annevk>
euh, <td>s

[16:29:04.0000] <jgraham_>
zcorpan: I'm interested insofar as it it necessary to show people that vauge = bad + probably illogical

[16:30:00.0000] <jgraham_>
(illogical in non-trivial cases, that is)

[16:30:01.0000] <zcorpan>
jgraham_: ok

[16:31:00.0000] <annevk>
it's also good to know what use cases HTML4 catered for

[16:31:01.0000] <webben>
annevk: Actually looking through the prose throughout supports that comment.

[16:31:02.0000] <webben>
I hadn't realised just how supported it was.

[16:32:00.0000] <annevk>
?

[16:33:00.0000] <webben>
I can't see how one could construct anything contradicting the comment.

[16:33:01.0000] <annevk>
oh

[16:34:00.0000] <webben>
zcorpan: Depends on whether "figuring out an algorithm ... that works with existing tables" without consulting the spec that data table creators used is a realistic task. I suspect it isn't.

[16:36:00.0000] <webben>
(Although I'd certainly say it would be also worth looking at representations of the spec in major unlearning resources like w3schools.)

[16:37:00.0000] <annevk>
I'm not sure why it's unrealistic to study actual tables out there

[16:39:00.0000] <webben>
annevk: I didn't say it was. I think that's a very important part of the process too.

[16:40:00.0000] <webben>
annevk: What I am saying is it's unrealistic to /only/ do that.

[16:42:00.0000] <webben>
(because the spec is a guide to well-authored tables that aren't sampled and unlearning resources are a guide to badly authored ones)

[16:43:00.0000] <annevk>
/me shrugs and goes to bed

[16:43:01.0000] <tndH>
speaking of w3schools... http://w3schools.invisionzone.com/index.php?showtopic=15018 *grin*

[16:50:00.0000] <Philip`>
I'm hoping that doesn't count as a legitimate use case for <input usemap>

[16:50:01.0000] <Philip`>
(It's good to see the author has stopped using <font> - now they just need to go a little further and stop using </font> too...)

[16:57:00.0000] <annevk>
Given the way how HTML5 defines that browsers should present an image (inside an HTML document) you can  theoretically style that page using the Link: HTTP header...

[16:57:01.0000] <annevk>
/me adds it to a list of silly things to test


2007-09-04
[17:01:00.0000] <annevk>
", and to the #mrt crew, the #mrt.no crew, and the cabal for their ideas and support."

[17:01:01.0000] <annevk>
lol, I'm pretty sure that read #whatwg before...

[20:35:00.0000] <Lachy>
jgraham, is the source code for your table inspector available yet, or are you planning to release it soon?

[01:12:00.0000] <hsivonen>
wow. while I was away public-html complaints have broadened to cover b.m.o and bugzilla.webkit.org bug content.

[01:12:01.0000] <hsivonen>
I wonder if Opera's bugs would merit complaints, too, if they were world-readable. :-)

[01:13:00.0000] <othermaciej>
hsivonen: I found those particular complaints to be mind-boggling

[01:13:01.0000] <othermaciej>
especially the complaint about a comment by me on a bugs.webkit.org bug

[01:20:00.0000] <virtuelv>
hsivonen: huh? URL?

[01:23:00.0000] <hsivonen>
virtuelv: http://www.w3.org/mid/00bf01c7e5b9$ccf642f0$582b42ab@Piglet

[01:25:00.0000] <annevk>
the comments in those bug reports are even more fun, claiming that IE and Safari support <input usemap>

[02:01:00.0000] <jgraham>
Lachy: I'm planning to release it Any Minute Now. 

[02:03:00.0000] <hsivonen>
zcorpan: which apps convert real (non-entity) no-break spaces to regular spaces on copy/paste?

[02:06:00.0000] <zcorpan>
hsivonen: just tested copying from firefox into notepad on windows, and it became a regular space

[02:08:00.0000] <annevk>
well, it seems like we released an experimental build with improved support for <canvas>, Selectors and the like: http://www.opera.com/products/desktop/next/ (plug)

[02:08:01.0000] <zcorpan>
ah, it's tuesday already

[02:08:02.0000] <annevk>
morning zcorpan :p

[02:08:03.0000] <zcorpan>
morning :)

[02:12:00.0000] <marcosc>
/me installs Opera 9.5....

[02:17:00.0000] <marcosc>
/me likes the smooth scroll :D

[02:20:00.0000] <marcosc>
hmmm... still leaves rendering artifacts in gmail.... 

[02:24:00.0000] <hendry>
annevk: hi, i am studing your access control TR. Have you seen http://www.gnucitizen.org/blog/i-dont-think-that-you-understand-firefox3-vulnerable-by-design ? is that stuff serious?

[02:24:01.0000] <Lachy>
hendry, most of it is bogus

[02:25:00.0000] <hendry>
annevk: ah, I've seen you responded. no worries

[02:25:01.0000] <hendry>
Lachy: looked a bit OTT ;)

[02:25:02.0000] <Lachy>
what's OTT?

[02:26:00.0000] <hendry>
OTT = over the top

[02:29:00.0000] <annevk>
changelog: http://snapshot.opera.com/windows/w950a1.html

[02:30:00.0000] <Dashiva>
It doesn't look like he even thought his ideas through...

[02:30:01.0000] <Lachy>
hmm. why does the URI to the blog entry call it "...opera-9-5-alpha-3", but the it's only alpha 1? http://my.opera.com/desktopteam/blog/2007/09/04/go-and-get-opera-9-5-alpha-3

[02:31:00.0000] <annevk>
he should read the spec, there are method restrictions, there are restrictions on availability of readyState, etc.

[02:32:00.0000] <Dashiva>
Lachy: Maybe they messed up the post two times before getting it right :D

[02:36:00.0000] <Lachy>
oh nice, they finally fixed this bug "No longer use font-variant: small-caps for acronym elements". I wondered how long they would remain inconsistent with other browsers on that

[02:38:00.0000] <othermaciej>
cool, text-shadow support

[02:39:00.0000] <virtuelv>
othermaciej: something not immediatly evident: We support multiple text shadows, comma-separated

[02:39:01.0000] <virtuelv>
I think the limit is at something like 12 shadows

[02:39:02.0000] <othermaciej>
our limit is one shadow

[02:39:03.0000] <jgraham>
Lachy: http://html5.googlecode.com/svn/trunk/tables/

[02:39:04.0000] <Lachy>
jgraham, thanks

[02:40:00.0000] <othermaciej>
cause that was easier to implement with high performance, and more than one shadow seemed useless

[02:40:01.0000] <Dashiva>
virtuelv had some crazy use case for 8, I think :)

[02:40:02.0000] <virtuelv>
Dashiva: 9 in fact

[02:41:00.0000] <virtuelv>
I used Opera as a rendering engine for some PNG

[02:41:01.0000] <virtuelv>
instead of torturing myself with GIMP

[02:41:02.0000] <annevk>
I wonder when we'll be flamed at for implementing some bits of HTML5

[02:41:03.0000] <Dashiva>
I heard we already implemented <p>

[02:43:00.0000] <othermaciej>
how dare you speak for the HTML working group!

[02:43:01.0000] <othermaciej>
no final decision has been made on <p>

[02:43:02.0000] <hsivonen>
/me is mildly surprised about Opera putting resources into text-shadow implementation considering that howcome categorized text-shadow as "excessive" in his thesis

[02:44:00.0000] <hsivonen>
Dashiva: do you work for Opera?

[02:44:01.0000] <Dashiva>
Only in the summer

[02:44:02.0000] <othermaciej>
snapshot.opera.com is responding really slowly for me

[02:44:03.0000] <hsivonen>
Dashiva: ok. I hadn't realized.

[02:45:00.0000] <Dashiva>
I'm just a lowly webapps slave

[02:45:01.0000] <annevk>
othermaciej, confirmed :)

[02:45:02.0000] <othermaciej>
I have to benchmark the new beta against Safari 3

[02:45:03.0000] <othermaciej>
er, new alpha

[02:49:00.0000] <othermaciej>
hmm, does window.resizeTo not work?

[02:51:00.0000] <annevk>
I'd guess that's disabled by default, but dunno really

[02:51:01.0000] <othermaciej>
I was trying to type javascript:resizeTo(800,600) to have a consistent testing environment

[02:51:02.0000] <othermaciej>
but I just resized by hand instead

[02:55:00.0000] <othermaciej>
well, the JS is faster than Opera 9.2

[02:55:01.0000] <othermaciej>
at least on Mac

[02:56:00.0000] <Lachy>
hmm. there still doesn't appear to be a way to make Find-as-you-type work properly in Opera :-(

[02:59:00.0000] <Dashiva>
How does it not work properly at the moment?

[03:00:00.0000] <Lachy>
I have to press '/' to activate it. I want it to start finding as soon as I start typing, like I have it configured in FF

[03:03:00.0000] <Dashiva>
How does that interact with one-key shortcuts, though?

[03:04:00.0000] <Lachy>
I don't care. I don't want one-key shortcuts

[03:12:00.0000] <othermaciej>
wow, I can't imagine having find configured that way

[06:56:00.0000] <Philip`>
"Fixed canvas locking in the 2dgame context to allow updating when the canvas is locked and fixed the update function to actually work" - aha, sounds like it's no longer utterly useless

[06:57:00.0000] <Philip`>
http://snapshot.opera.com/unix/u950a1.html has encoding errors in [micro]Torrent's name near the bottom :-(

[07:10:00.0000] <Philip`>
Hmm, Canvex is broken in O9.5 - if I select "large" then it only draws the top-left quarter of the canvas

[07:14:00.0000] <annevk>
encoding error is being fixed

[07:15:00.0000] <hsivonen>
hmm. validator.nu sucks in Opera Mini 4 beta

[07:16:00.0000] <hsivonen>
I wonder if I should make a handheld style sheet

[07:17:00.0000] <annevk>
It seems that teaching the world that "Selectors" is not "CSS3 Selectors" is near impossible

[07:17:01.0000] <Philip`>
http://canvex.lazyilluminati.com/tests/tests/results.html

[07:19:00.0000] <annevk>
Cool, looks like quite a lot of bugfixes and a few regressions

[07:19:01.0000] <hsivonen>
will Opera Mini take the handheld CSS if I bother making a separate style sheet?

[07:20:00.0000] <Dashiva>
Hmm... canvex seems to mess up info panel too

[07:20:01.0000] <annevk>
I think it will, though given that pages abuse handheld CSS as well it might not...

[07:21:00.0000] <Dashiva>
nm, I missed the commenting out of all those scripts

[07:21:01.0000] <Philip`>
Dashiva: ?

[07:22:00.0000] <hsivonen>
annevk: is there a media value that says: "I have Opera for Mobile, Opera Mini and S60 Browser for testing, I know what I'm doing."

[07:22:01.0000] <hsivonen>
?

[07:23:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/physics.html still seems peculiarly slow in Opera :-(

[07:24:00.0000] <annevk>
hsivonen, I'd use a media query

[07:24:01.0000] <annevk>
hsivonen, see also http://dev.opera.com/articles/view/evolving-the-internet-on-your-phone-des-1/ which does say you can use "handheld" but media queries probably work better with other mobile devices such as the iPhone etc.

[07:24:02.0000] <hsivonen>
annevk: thanks

[07:25:00.0000] <hsivonen>
annevk: testing validator.nu with iPhone probably ain't gonna happen (by me) as long as it isn't available in Europe

[07:27:00.0000] <hsivonen>
/me now has a mobile arsenal of 5 browsers

[07:28:00.0000] <othermaciej_>
hsivonen: which ones?

[07:29:00.0000] <hsivonen>
S60 browser, Opera for Mobile, Opera Mini 4 beta, Maemo Browser with Gecko and Maemo Browser with Opera

[07:42:00.0000] <othermaciej>
Nokia is so open-minded in their choice of browser engines

[07:45:00.0000] <virtuelv>
hsivonen: I'd stay away from handheld, and just use media queries too

[07:46:00.0000] <hsivonen>
virtuelv: ok. thanks

[07:47:00.0000] <virtuelv>
othermaciej: resizeTo() has, afair, to be turned on here: opera:config#UserPrefs|Allowscripttoresizewindow

[07:49:00.0000] <zcorpan>
hsivonen: i think you could make it work ok in opera mini 4 without media queries

[07:49:01.0000] <zcorpan>
i.e. media="all"

[07:49:02.0000] <virtuelv>
othermaciej: with the added snag that maximized windows are unresizable

[07:50:00.0000] <othermaciej>
virtuelv: in the end it was easier to just resize manually

[07:51:00.0000] <othermaciej>
(wanted to see how Opera 9.5 did on page load speed benchmarks, which requires a consistent sized content area to be meaningful)

[07:51:01.0000] <zcorpan>
hsivonen: use % for left and right padding on body and fieldset

[07:51:02.0000] <zcorpan>
e.g. 3%

[08:04:00.0000] <hsivonen>
zcorpan: thanks. I made it suck less

[08:05:00.0000] <hsivonen>
zcorpan: I think I'm still going to read about media queries one day and move the labels above the fields on narrow displays

[08:06:00.0000] <zcorpan>
hsivonen: ok. that should be doable (again without mq ;) ) with float and min-width

[08:08:00.0000] <zcorpan>
but perhaps simpler with mq

[08:09:00.0000] <hsivonen>
zcorpan: at least if I use mq I don't need to change markup or retest in IE :-)

[08:10:00.0000] <zcorpan>
@media all and (max-width:15em) { ... }

[08:12:00.0000] <zcorpan>
table, tbody, tr, th, td { display:block; }

[08:22:00.0000] <hsivonen>
hmm. why does the Opera Mini doc talk about device widths instead of the rendering surface width?

[08:23:00.0000] <zcorpan>
pointer?

[08:24:00.0000] <hsivonen>
zcorpan: http://dev.opera.com/articles/view/evolving-the-internet-on-your-phone-des-1/

[08:24:01.0000] <hsivonen>
should I expect queries relative to the rendering surface to be supported?

[08:25:00.0000] <virtuelv>
hsivonen: such as?

[08:25:01.0000] <zcorpan>
hsivonen: by opera, yes

[08:26:00.0000] <zcorpan>
dunno why one would want to use max-device-width at all

[08:26:01.0000] <hsivonen>
zcorpan: thanks

[08:27:00.0000] <hsivonen>
virtuelv: max-width (as opposed to max-device-width)

[08:27:01.0000] <virtuelv>
hsivonen: I think so, but I'm not entirely sure

[08:27:02.0000] <Lachy>
I'm trying out Opera's IRC client.  Does anyone know if there's a way to make it automatically connect as soon as I launch Opera?

[08:28:00.0000] <virtuelv>
Lachy: save the windows in a session and restore that session on startup

[08:28:01.0000] <zcorpan>
or just let opera remember which tabs were open last time, wfm

[08:28:02.0000] <virtuelv>
zcorpan: that too

[08:29:00.0000] <Lachy>
virtuelv, how do I do that?

[08:29:01.0000] <virtuelv>
and remember to lock your IRC tabs if you want to prevent yourself from accidentally leaving a channel

[08:29:02.0000] <virtuelv>
Lachy: File->Sessions->Save session

[08:30:00.0000] <virtuelv>
Lachy: and close all other windows before saving the session

[08:31:00.0000] <Lachy>
ok, I'll see if that worked

[08:32:00.0000] <zcorpan>
wb

[08:33:00.0000] <Lachy>
ok, that worked. now I need find out how to make it send my freenode password whenever I log into #whatwg

[08:33:01.0000] <zcorpan>
tools, mail and chat accounts

[08:35:00.0000] <Lachy>
cool, it all works :-)

[08:35:01.0000] <zcorpan>
:)

[08:35:02.0000] <hsivonen>
hmm. Opera on desktop does weird things with max-width media queries :-(

[08:35:03.0000] <zcorpan>
hsivonen: such as?

[08:36:00.0000] <Lachy>
hmm. I wonder why Opera had the default encoding set to ISO-8859-15?

[08:37:00.0000] <zcorpan>
Lachy: as opposed to utf-8 or iso-8859-1?

[08:37:01.0000] <Lachy>
yes, in the IRC acct settings

[08:37:02.0000] <hsivonen>
zcorpan: it seems to set the max-width property of body or html. dunno which :-(

[08:37:03.0000] <hsivonen>
in 9.20

[08:38:00.0000] <Lachy>
just checking it's using UTF-8 now, this should be a smily face: ☺

[08:39:00.0000] <Lachy>
cool, that showed in the logs correctly :-)

[08:40:00.0000] <zcorpan>
hsivonen: do you have a test case?

[08:42:00.0000] <zcorpan>
i don't see it with 9.23

[08:42:01.0000] <zcorpan>
Lachy: which do you think should be default: utf-8 or iso-8859-1?

[08:43:00.0000] <Lachy>
for IRC, it should be UTF-8

[08:43:01.0000] <Lachy>
that's what chatzilla and xchat use, I believe

[08:44:00.0000] <zcorpan>
Lachy: file a bug? :)

[08:46:00.0000] <virtuelv>
hsivonen: tried in 9.5?

[08:48:00.0000] <hsivonen>
zcorpan: hmm. when I try to minimize the test case, I see neither the problem nor correct behavior...

[08:48:01.0000] <zcorpan>
hsivonen: interesting

[08:49:00.0000] <hsivonen>
zcorpan: test case http://hsivonen.iki.fi/test/max-width-mq.html

[08:50:00.0000] <hsivonen>
hmm. might have been a mistake in my testing or I don't grok the SSR mode in the desktop build

[08:50:01.0000] <hsivonen>
anyway, it turns out that max-width works

[08:50:02.0000] <hsivonen>
but not after window resize without reload

[08:50:03.0000] <hsivonen>
so the query applies at initial load time only

[08:51:00.0000] <zcorpan>
hsivonen: you will need to make the window narrower for the mq to apply, not just enable ssr

[08:51:01.0000] <zcorpan>
hsivonen: in 9.5 it gets applied as you change the window size

[08:55:00.0000] <Lachy>
zcorpan, bugs.opera.com really needs to have a link to bugs.opera.com/wizard/ - I had to go the long way around to find it through opera.com -> support -> ...

[08:57:00.0000] <Lachy>
zcorpan, bug-281826 is filed

[08:58:00.0000] <hsivonen>
yay. made validator.nu no longer suck in Opera Mini

[08:58:01.0000] <zcorpan>
Lachy: thanks

[08:58:02.0000] <hsivonen>
still sucks in S60 browser, though

[08:58:03.0000] <hsivonen>
I guess they don't support media queries :-(

[08:59:00.0000] <zcorpan>
hsivonen: nice

[09:01:00.0000] <zcorpan>
hsivonen: they might support "handheld"

[09:08:00.0000] <othermaciej>
if they ever update to a newer WebKit they will

[09:08:01.0000] <othermaciej>
in fact the WebKit media query support was originally written by someone from Nokia

[09:15:00.0000] <hasather>
Lachy: it does have a link to te wizard

[09:16:00.0000] <zcorpan>
/me just forwarded the request... :)

[09:17:00.0000] <Lachy>
hasather, where?

[09:18:00.0000] <hasather>
Lachy: bugs.opera.com says "If you are not an Opera employee or partner, but wish to report a bug, please visit the bug report wizard after reading the guidelines." with a link to the wizard

[09:19:00.0000] <Lachy>
oh, that's not at all obvious. It should be in the toolbar

[09:20:00.0000] <Lachy>
I tried "Enter new bug" in the toolbar, and that didn't work, so I figured there wasn't another link

[09:24:00.0000] <Lachy>
hmm. smileys aren't showing as graphics for me, as they're supposed to http://help.opera.com/Windows/9.20/en/chat.html#smileys

[09:25:00.0000] <virtuelv>
Lachy: known, I believe

[09:25:01.0000] <Lachy>
ok, is it just a bug in the 9.5 alpha?

[09:25:02.0000] <hasather>
Lachy: yes

[09:26:00.0000] <Lachy>
ok

[09:26:01.0000] <Lachy>
is it possible to fix the nickname completion to use a comma instead of a colon after the name?

[09:26:02.0000] <Lachy>
I couldn't find any pref for it

[09:27:00.0000] <hasather>
Lachy: not that I know of, but I've never looked into it

[09:31:00.0000] <zcorpan>
Lachy: file another bug? :)

[09:35:00.0000] <Lachy>
zcorpan: I will later. I'm currently trying to work out how to manage my user profile in opera, like I can with Firefox.

[09:50:00.0000] <gsnedders>
hmmm… which is the lesser evil: XHTML, or HTML 3.2?

[09:50:01.0000] <hsivonen>
I wonder if anything can be done to the Apache policy of not putting x- types in mime.types...

[09:50:02.0000] <hsivonen>
seems like a *very* counter-productive policy to me

[10:00:00.0000] <Lachy_>
hmm. I can't figure out how Opera's profile managment works.  I want to store the whole profile on my data disk (D:) instead of my system disk (C:). I give up for tonight

[10:03:00.0000] <hasather>
Lachy_: this might help http://operawiki.info/OperaProfiles

[10:07:00.0000] <Lachy_>
hasather, thanks.

[10:08:00.0000] <Lachy_>
Opera definitely needs a profile manager like Firefox's though

[11:01:00.0000] <aaronlev_>
hsivonen: yt?

[11:06:00.0000] <hsivonen>
aaronlev_: yes. (still catching up on email. sorry.)

[11:06:01.0000] <aaronlev_>
hsivonen: np

[11:06:02.0000] <aaronlev_>
i probably wrote a similar email twice, sorry about that

[11:15:00.0000] <Philip`>
Opera 9.5 says: "Insert em tag instead of i tag when using italic execCommand parameter" - that sounds semantically unsound :-(

[11:21:00.0000] <hsivonen>
aaronlev_: I'm reading your mail now, but it will take me a while to think enough before I reply

[11:22:00.0000] <aaronlev_>
cool

[11:44:00.0000] <hasather>
Philip`: thought so too. Is it for compatibility?

[11:45:00.0000] <jbarnett__>
iirc, that's what IE does.  Firefox uses <b> and <i> (again, iirc)

[12:07:00.0000] <gsnedders>
/me adds a list of contributors to his draft of tolerant HTTP parsing: Philip` 

[12:08:00.0000] <Philip`>
/me wonders why

[12:09:00.0000] <gsnedders>
Philip`: "why" is answered somewhere on your web space. Don't have the URI off hand. You did it before I was intending to actually formally write the behaviour down.

[12:11:00.0000] <Philip`>
Hmm, I sort of vaguely remember doing something to test different combinations of \r and \n in headers

[12:12:00.0000] <gsnedders>
Yeah. That.

[12:14:00.0000] <Philip`>
/me probably ought to sort out a better method of remembering what he's done in the past, since his brain is too leaky to store non-backed-up data in

[12:14:01.0000] <gsnedders>
ergh. apparently RAID HD has failed. yuk.

[12:15:00.0000] <Hixie>
Philip`: you could do less work... that's the only way i've found

[12:15:01.0000] <Hixie>
not a particularly fun way of solving the problem though

[12:19:00.0000] <Philip`>
I was thinking more along the lines of writing stuff down, and not putting everything in "misc" folders :-)

[12:19:01.0000] <Hixie>
Philip`: pah, google is your friend :-P

[12:25:00.0000] <gsnedders>
but yeah Philip`, you are the list :)

[12:27:00.0000] <Philip`>
Do I win a T-shirt or badge or something, or is it just fame and glory?

[12:29:00.0000] <gsnedders>
Philip`: just fame and glory for draft -00

[12:37:00.0000] <Philip`>
Hmm, I suppose that'll be good enough for now, given that I can barely remember what contribution I made :-p

[12:43:00.0000] <gsnedders>
Philip`: If you care, further testing made it rather clear that how you treat CR is rather irrelevant, as every browser treats it differently

[12:49:00.0000] <Philip`>
Is any of them sensible enough to use its behaviour in a specification, or is it saner to make up another different behaviour?

[12:50:00.0000] <gsnedders>
Well, I've yet to find anything reliant on any particular behaviour, so I am (for now) treating it as a valid header name/value character

[12:51:00.0000] <gsnedders>
which as the algorithm will be written, is the simplist

[12:51:01.0000] <gsnedders>
but it's also different to everything I've tested

[12:51:02.0000] <gsnedders>
actually, Safari is somewhat like it

[12:51:03.0000] <gsnedders>
Safari's behaviour is more complex when it is surrounded by whitespace in the value, though

[12:56:00.0000] <gsnedders>
http://geoffers.uni.cc/draft-sneddon-http-parsing-00.html is current draft

[13:07:00.0000] <Hixie>
gsnedders: one thing for the security section of that draft is the need for implementations to follow the spec exactly lest they be vulnerable to content stuffing that abuses differences in parsing algorithms

[13:08:00.0000] <gsnedders>
Hixie: yeah, that was one section I needed to solicit comments on about what to write there :)

[13:08:01.0000] <Hixie>
looks good so far though

[13:09:00.0000] <gsnedders>
some of the algorithmic text is based off HTML 5 text, so it's not overly amazing that you're saying that

[13:09:01.0000] <Hixie>
:-)

[13:09:02.0000] <gsnedders>
there was in very early drafts a reference to that, but all the algorithms have been totally rewritten since

[13:09:03.0000] <gsnedders>
(i.e., at least one algorithm was a verbatim copy)

[13:09:04.0000] <Hixie>
heh

[13:09:05.0000] <Lachy>
hey Hixie

[13:10:00.0000] <Hixie>
hey!

[13:10:01.0000] <Hixie>
wassup?

[13:10:02.0000] <Hixie>
anything fun while i was in the desert?

[13:10:03.0000] <gsnedders>
the first step ("input"/"position" inheritance) is still verbatim. the rest is totally my own writing, as far as I can see

[13:10:04.0000] <Lachy>
what were you in the desert for?

[13:10:05.0000] <Hixie>
gsnedders: yeah i noticed that, i'm all in favour :-D

[13:10:06.0000] <Hixie>
Lachy: burning man

[13:11:00.0000] <Lachy>
I implemented the text/html feed sniffing algorithm a few days ago

[13:11:01.0000] <Hixie>
cool

[13:11:02.0000] <Hixie>
does it work?

[13:11:03.0000] <Lachy>
http://html5.lachy.id.au/content-sniffing/

[13:11:04.0000] <gsnedders>
Hixie: WP:NPOV!11!!11!

[13:11:05.0000] <Lachy>
I found one problem with the prose, which I should send mail about but havent yet.

[13:12:00.0000] <gsnedders>
Lachy: several have already been sent by both me and kingryan 

[13:12:01.0000] <Hixie>
gsnedders: :-D

[13:12:02.0000] <Hixie>
Lachy: k

[13:12:03.0000] <gsnedders>
Lachy: was it fairly obvious?

[13:12:04.0000] <Lachy>
/me is looking for it now...

[13:13:00.0000] <Lachy>
step 6 says:

[13:13:01.0000] <Lachy>
3. Otherwise, increase pos by 1.

[13:13:02.0000] <Lachy>
4. Otherwise, return to step 2 in these substeps. 

[13:13:03.0000] <gsnedders>
yeah, that's already been sent

[13:13:04.0000] <kingryan>
 Lachy: what's that content-sniffing written in?

[13:14:00.0000] <Lachy>
gsnedders: ok

[13:14:01.0000] <Lachy>
kingryan: javascript

[13:14:02.0000] <Hixie>
Lachy: just an extra "Otherwise", right?

[13:14:03.0000] <gsnedders>
I sent an email about rdf:RDF as well

[13:14:04.0000] <Lachy>
yes

[13:14:05.0000] <gsnedders>
Hixie: yeah

[13:14:06.0000] <Hixie>
Lachy: also, did you implement step 10?

[13:14:07.0000] <Lachy>
no, not yet

[13:15:00.0000] <Hixie>
k

[13:15:01.0000] <kingryan>
Hixie: fwiw, I implemented step 10 in a naive way and it seems to work

[13:15:02.0000] <Hixie>
i'm not sure how to spec it exactly

[13:15:03.0000] <Hixie>
kingryan: yeah?

[13:15:04.0000] <gsnedders>
regarding step 10: <http://lists.w3.org/Archives/Public/public-html/2007Aug/0671.html>

[13:17:00.0000] <Hixie>
i think that's in the issues list

[13:17:01.0000] <gsnedders>
yeah, it is

[13:17:02.0000] <kingryan>
Hixie:  yeah, I did what gsnedders' email suggests

[13:17:03.0000] <gsnedders>
just for anyone here not aware of it while discussing it

[13:17:04.0000] <kingryan>
I don't look for the namespaces

[13:18:00.0000] <gsnedders>
as I said, I've yet to see anything break

[13:19:00.0000] <Hixie>
well, i'm sure i'll look at this again when i edit that part of the spec :-D

[13:20:00.0000] <kingryan>
when that time comes, let me know and I can run some stats from our spider to see how well the simple version of step 10 works

[13:20:01.0000] <gsnedders>
Hixie: I'm going to be writing test cases (far more comprehensive than yours) for all sorts of sniffing behaviour. I'll test what I have time to myself, but help is always welcome ;)

[13:20:02.0000] <Hixie>
gsnedders: cool

[13:21:00.0000] <gsnedders>
I conned anne out of gsnedders.html5.org, which is where they'll be

[13:21:01.0000] <Hixie>
hah

[13:21:02.0000] <gsnedders>
first person to not have firstname.html5.org :P

[13:21:03.0000] <kingryan>
gsnedders: we can put the tests in html5lib, too, if you wish

[13:22:00.0000] <Philip`>
gsnedders: Not the first - there's www.html5.org, and I doubt there's anyone here named www :-)

[13:22:01.0000] <Lachy>
oh wow! IE doesn't need to see the namespaces put on the start tag for it to sniff as a feed

[13:22:02.0000] <gsnedders>
kingryan: they'll all be MIT licensed, but arguably having tests over hundreds of files isn't that nice for test suites

[13:23:00.0000] <Lachy>
http://html5.lachy.id.au/content-sniffing/?%3Crdf%3ARDF%3Etest%3C%2Frdf%3ARDF%20xmlns%3D%22http%3A%2F%2Fpurl.org%2Frss%2F1.0%2F%22%20xmlns%3Ardf%3D%22http%3A%2F%2Fwww.w3.org%2F1999%2F02%2F22-rdf-syntax-ns%23%22%3E

[13:23:01.0000] <zcorpan>
Hixie: btw, do you have data about how many feeds are "text/html;..." but not "text/html; charset=iso-8859-1" or "text/html; charset=ISO-8859-1"? i was wondering if it would be possible to limit the sniffing similarly to text/plain

[13:23:02.0000] <gsnedders>
Philip`: meh. www is the same as without :P

[13:23:03.0000] <Hixie>
zcorpan: no data at the moment

[13:24:00.0000] <zcorpan>
Hixie: ok

[13:26:00.0000] <gsnedders>
Hixie: oh, and regarding the informative reference to HTML 5 in W3C repo, that's mainly down to needed a stable URI. I'm planning on changing it to the FPWD when that comes (whenever that is, or whether the heart stops beating)

[13:26:01.0000] <gsnedders>
terrible pun, I know.

[13:27:00.0000] <Hixie>
stable how?

[13:28:00.0000] <gsnedders>
a non-changing URI pointing to the same document. my understanding of the I-D/RFC requirements is for that to be a specific version of the document.

[13:29:00.0000] <Hixie>
ah

[13:29:01.0000] <Hixie>
makes sense

[13:30:00.0000] <gsnedders>
and the W3C CVS URIs are the only ones to my knowledge that currently meet that requirement

[13:30:01.0000] <Hixie>
i'm very interested to see what reaction your draft gets when you submit it

[13:31:00.0000] <gsnedders>
theoretically I don't need that much done to be allowed to submit it, but it'd probably be better to have more done

[13:31:01.0000] <Lachy>
gsnedders: how much of RFC 2616 are you intending to rewrite?

[13:32:00.0000] <gsnedders>
Lachy: just define the parsing. nothing more.

[13:32:01.0000] <Lachy>
ok

[13:33:00.0000] <Lachy>
so you're not redefining what is and is not conforming syntax?

[13:33:01.0000] <gsnedders>
/me wonders where he could get it published if the reaction when submitted is less than ideal

[13:34:00.0000] <gsnedders>
Lachy: conformance requirements for syntax are unchanged. conformance requirements for parsing are.

[13:34:01.0000] <Lachy>
ok.

[13:35:00.0000] <gsnedders>
I should do my homework that's due for tomorrow…

[13:35:01.0000] <Hixie>
gsnedders: we can definitely set up an http.whatwg.org thing if the ietf doesn't react favourably

[13:36:00.0000] <gsnedders>
Hixie: you think it was coincidence I mentioned that with you around, and hosting with anne around? :D

[13:37:00.0000] <Lachy>
hey, gsnedders, in a MIME type for the Content-Type header, is there technically allowed to be whitespace between the semi-colon and paramters? like: text/html;<space>charset=UTF-8?

[13:37:01.0000] <Hixie>
gsnedders: :-)

[13:37:02.0000] <gsnedders>
Lachy: yes

[13:37:03.0000] <Lachy>
when I read it yesterday, cause I had to write a regex to validate it, the BNF in the RFC seemed to indicate that it can't

[13:38:00.0000] <gsnedders>
Lachy: the MIME spec allows one spec, IIRC, and any LWS in HTTP is reduced to a single space

[13:39:00.0000] <Lachy>
really? RFC 2616 says this:

[13:39:01.0000] <Lachy>
       media-type     = type "/" subtype *( ";" parameter )

[13:39:02.0000] <Lachy>
       type           = token

[13:39:03.0000] <Lachy>
       subtype        = token

[13:39:04.0000] <Lachy>
       parameter      = attribute "=" value

[13:39:05.0000] <Lachy>
       attribute      = token

[13:39:06.0000] <Lachy>
       value          = token | quoted-string

[13:39:07.0000] <Lachy>
       quoted-string  = ( '"' *(qdtext | quoted-pair ) '"' )

[13:39:08.0000] <Lachy>
       qdtext         = any TEXT except '"'

[13:39:09.0000] <Lachy>
       quoted-pair    = "\" CHAR

[13:40:00.0000] <gsnedders>
yeah, RFC 2045 agrees with no space being allowed

[13:40:01.0000] <Hixie>
what's a "token"?

[13:40:02.0000] <gsnedders>
my memory is wrong

[13:40:03.0000] <gsnedders>
Hixie: a horribly wrong number of characters

[13:40:04.0000] <gsnedders>
s/wrong/long/

[13:40:05.0000] <Lachy>
and token is defined to exclude control chars, spaces and a few other special things

[13:40:06.0000] <Hixie>
can it start with LWS?

[13:40:07.0000] <gsnedders>
no

[13:40:08.0000] <Hixie>
k

[13:40:09.0000] <Hixie>
odd

[13:40:10.0000] <gsnedders>
it's what a header name can be

[13:41:00.0000] <Hixie>
does *( ... ) imply LWS?

[13:41:01.0000] <Lachy>
       token          = 1*<any CHAR except CTLs or separators>

[13:41:02.0000] <Lachy>
       separators     = "(" | ")" | "<" | ">" | "@"

[13:41:03.0000] <Lachy>
                      | "," | ";" | ":" | "\" | <">

[13:41:04.0000] <Lachy>
                      | "/" | "[" | "]" | "?" | "="

[13:41:05.0000] <Lachy>
                      | "{" | "}" | SP | HT

[13:41:06.0000] <gsnedders>
Lachy: my memory is wrong because it's impossible to implement that as specified :P

[13:42:00.0000] <Lachy>
yeah, I noticed. I decided to explicitly allow spaces to occur there in my regex

[13:42:01.0000] <gsnedders>
here we go

[13:42:02.0000] <gsnedders>
actually

[13:42:03.0000] <gsnedders>
it is allowed

[13:42:04.0000] <gsnedders>
page 15

[13:42:05.0000] <gsnedders>
see implied *LWS

[13:43:00.0000] <gsnedders>
it disallows it between the type and subtype, and attribute and vale, but not before the semi-colon

[13:43:01.0000] <Lachy>
what about between attr=value?

[13:44:00.0000] <gsnedders>
yeah, it's disallowed between attr and value

[13:44:01.0000] <Lachy>
where does it say that?

[13:44:02.0000] <gsnedders>
page 26

[13:44:03.0000] <gsnedders>
bottom paragraph

[13:45:00.0000] <gsnedders>
when fetching a HTTP header through JS, is its name case-sensitive?

[13:46:00.0000] <gsnedders>
Lachy: I was sure it was allowed, just couldn't see where straight away. RFC 2616 is like that :)

[13:47:00.0000] <Lachy>
but it says "linear white space (LWS) can be included ... between adjacent words and separators", so therefore space between attribute and "=" would be allowed

[13:47:01.0000] <Hixie>
othermaciej: i think i'm convinced by your idea of application="manifest" with the manifest being the identifier for the cache

[13:47:02.0000] <Hixie>
othermaciej: especially because for single-page apps, it still works to have application="" since we can just say it's a relative URL to the same page

[13:48:00.0000] <Hixie>
thus making the manifest optional, effectively

[13:48:01.0000] <gsnedders>
Lachy: it also says except where explicitly it is not allowed. page 26 explicitly says between attributes and their values it is not allowed.

[13:48:02.0000] <Hixie>
hmm, the manifest could also point to the "top" page, so the manifest could be HTML...

[13:48:03.0000] <Hixie>
hm

[13:48:04.0000] <othermaciej>
Hixie: I'd say the manifest should either be implicit or some format other than HTML

[13:49:00.0000] <Lachy>
gsnedders: ok

[13:49:01.0000] <othermaciej>
Hixie: in other words, make application="" a special case

[13:49:02.0000] <Hixie>
oh?

[13:49:03.0000] <Hixie>
even with the feedback we got from the gears guys that people don't like manifests?

[13:50:00.0000] <Lachy>
gsnedders: so spaces could occur here: type/subtype LWS ; LWS attribute=value

[13:50:01.0000] <othermaciej>
Hixie: sorry, I might not be expressing myself clearly

[13:50:02.0000] <Hixie>
i kinda like the idea of making the manifest executable, the way the top page is in the proposal i mentioned, because it allows for the page to talk from its new version to its old version and negotiate things between multiple open pages, etc

[13:50:03.0000] <gsnedders>
Lachy: correct

[13:50:04.0000] <Hixie>
i have to get lunch, i'll be back shortly

[13:50:05.0000] <Lachy>
ok, I'll update my regex

[13:50:06.0000] <othermaciej>
I think application with no value or an empty value should be a special case where you get the "implicit manifest" behavior

[13:51:00.0000] <othermaciej>
but in other cases the manifest should be some specific non-executable format

[13:51:01.0000] <gsnedders>
Lachy: or in ABNF, more exactly: type "/" subtype *(LWS ";" LWS parameter)

[13:51:02.0000] <othermaciej>
one of the benefits of a manifest is being able to very quickly check for updates

[13:51:03.0000] <gsnedders>
Lachy: as there can be multiple parameters

[13:51:04.0000] <othermaciej>
you can just do a conditional GET of the manifest

[13:52:00.0000] <othermaciej>
and then further do conditional GETs of the resources listed, possibly only if the manifest indicates their version changed, depending on the format

[13:52:01.0000] <othermaciej>
I don't think that works where your external manifest is an HTML file that executes script

[13:52:02.0000] <othermaciej>
I also think some of the reasons stated for not liking manifests are equally bad problems for an implicit offline cache scheme

[13:53:00.0000] <othermaciej>
if all loads go in the offline cache, then to do valid offline testing you have to blow away your browser cache *and* your offline cache

[13:53:01.0000] <othermaciej>
otherwise you might miss hard dependencies on resources that are not loaded every single time

[13:53:02.0000] <othermaciej>
(that load late on demand, say)

[15:08:00.0000] <Hixie>
othermaciej: true

[15:25:00.0000] <Hixie>
/me finally gets to the public-html mail

[15:45:00.0000] <zcorpan>
Hixie: http://tdspodcast.com/archive/2007/09/04/constructive-feedback-lacking-in-opinion-of-at-product.aspx

[16:45:00.0000] <Hixie>
zcorpan: thanks

[16:46:00.0000] <hsivonen>
Hixie: is it by any chance possible that JAWS might be a piece of software with bad defaults but configurable to be more bearable?

[16:46:01.0000] <hsivonen>
I hear it has lots of prefs

[16:46:02.0000] <Hixie>
it certainly has bad defaults

[16:47:00.0000] <Hixie>
but the prefs UI is amongst the worst UI i have ever seen (or heard)

[16:47:01.0000] <Hixie>
it's worse than the windows registry

[16:49:00.0000] <Hixie>
/me gets out the JAWS manual to work out how the heck to navigate the Web again

[16:53:00.0000] <Hixie>
god jaws sucks

[16:53:01.0000] <Hixie>
i'm at the windows desktop

[16:53:02.0000] <karlUshi>
/me wonders if hixie used jaws with a piece of cloth on his eyes

[16:53:03.0000] <Hixie>
i turn the screen off

[16:53:04.0000] <karlUshi>
ah good, but I would have shut off my visual sense

[16:54:00.0000] <karlUshi>
it is an interesting experiment

[16:54:01.0000] <karlUshi>
though desktop browsers from what I see from my parents are also very hard to use

[16:54:02.0000] <Hixie>
i can't close my eyes, with my eyes closed i couldn't read the jaws manual which i need to work out wtf the navigation keys are

[16:55:00.0000] <Hixie>
/me finally finds "read line" in the manual (Caps Lock + I, obviously)

[16:55:01.0000] <gsnedders>
It's all right, it's all right Hixie, she moves in mysterious ways.

[16:55:02.0000] <Hixie>
woot, finally launched IE

[16:56:00.0000] <gsnedders>
(yes, I'm getting my own back on all your hidden references to various things)

[16:56:01.0000] <Hixie>
in my blog you mean?

[16:57:00.0000] <webben_>
Hixie: Have you read Surf's Up?

[16:57:01.0000] <gsnedders>
Hixie: oh, just all the references you have to all sorts of things all over the place, in HTML 5, on your blog, and too many other places

[16:57:02.0000] <Hixie>
heh

[16:58:00.0000] <gsnedders>
it's not really hard to find, though

[16:58:01.0000] <gsnedders>
anyhow, school starts in just under nine hours, time for me to go sleep


2007-09-05
[17:00:00.0000] <takkaria>
/me wonders how the mobile IE works on the real web

[17:01:00.0000] <hsivonen>
takkaria: what's the relationship to normal IE codebase-wise?

[17:01:01.0000] <Hixie>
on this page:

[17:01:02.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/html/screen-readers/

[17:02:00.0000] <Hixie>
it says "Index of /tests/adhoc/html/screen-readers" three times

[17:02:01.0000] <Hixie>
and says "eighty" twice (at the end of a line each time)

[17:02:02.0000] <Hixie>
why?!?!

[17:02:03.0000] <webben_>
it should say the first thing twice because it is in both title and h1

[17:03:00.0000] <takkaria>
hsivonen: I have no idea.  I'm getting a windows mobile smartphone tomorrow, though, so I guess I'll see how well it works then...

[17:03:01.0000] <takkaria>
I guess I can get opera mobile or whatever the portable mozilla browser's called though

[17:03:02.0000] <hsivonen>
http://www.lukew.com/resources/articles/PSactions.asp

[17:04:00.0000] <Hixie>
webben_: twice i would understand

[17:04:01.0000] <takkaria>
Hixie: 80?  is that the width of the line or something?

[17:04:02.0000] <Hixie>
(though it's still retarded)

[17:04:03.0000] <Hixie>
takkaria: maybe? but why does it say it, even then?!

[17:05:00.0000] <webben_>
Hixie: What happens in Fox?

[17:05:01.0000] <karlUshi>
nah it is not 80, but "s'ti" in Quebecois. It means something like "geez"

[17:06:00.0000] <Hixie>
webben_: dunno, don't want to go through the pain of switching browsers yet!

[17:06:01.0000] <takkaria>
I think part of the problem of screenreaders for the web is that there isn't actually a web-specific screnreader

[17:06:02.0000] <takkaria>
one of those could do a much better job, I imagine

[17:07:00.0000] <webben_>
takkaria: There are. But there shouldn't be any need for such a thing.

[17:07:01.0000] <webben_>
takkaria: HTML is in a lot of different applications, don't forget, not just web browsers.

[17:07:02.0000] <webben_>
e.g. WebKit is used in Colloquy and Mail

[17:08:00.0000] <takkaria>
mm, true.  but in applications it tends to be slightly different, since they're not browsers

[17:08:01.0000] <karlUshi>
plus the fact that navigating the web is not the only thing

[17:08:02.0000] <karlUshi>
you have to be able to use the desktop as large

[17:08:03.0000] <webben_>
and the process of transmuting HTML to a screen reader-navigable DOM is very similar to that for Word files and PDF files and everything

[17:09:00.0000] <webben_>
takkaria: There have been many attempts at providing dedicated browsers. But there are major advantages to using the same software as sighted peers.

[17:09:01.0000] <Hixie>
i tend to agree that there should be a dedicated speech browser rather than a screen reader, but that's a separate problem entirely

[17:09:02.0000] <takkaria>
fair enough.  I can see that

[17:10:00.0000] <takkaria>
but if HTML5 works out, then I would imagine that a dedicated browser would be much easier than at present

[17:10:01.0000] <Hixie>
sure wish i knew why it kept saying "ninety eight percent"

[17:10:02.0000] <webben_>
Hixie: That's page load information.

[17:10:03.0000] <webben_>
i.e. how much of the page has loaded

[17:11:00.0000] <webben_>
Hixie: quite possibly that was your 80 earlier too

[17:11:01.0000] <Hixie>
no, IE is not doing anything

[17:11:02.0000] <Hixie>
maybe, though i doubt it, it happens in the same place on that page

[17:13:00.0000] <karlUshi>
/me would suggest hixie to learn with a blind user who is using a lot jaws.  

[17:13:01.0000] <takkaria>
Hixie: are you IRCing on the same machine as the one you're using JAWS on?

[17:13:02.0000] <karlUshi>
each category of individuals develops skills with regards to software, and there is always a learning curve 

[17:14:00.0000] <Hixie>
takkaria: no

[17:15:00.0000] <Hixie>
karlUshi: this is not software that should have a notable learning curve. the target audience includes the learning disabled.

[17:15:01.0000] <Hixie>
i seem to have entered some mouse-related reading mode

[17:15:02.0000] <Hixie>
maybe something to do with the cursor settings

[17:15:03.0000] <karlUshi>
cough cough :) wishful thinking :)

[17:16:00.0000] <webben_>
Hixie: Heh. So does Windows. :)

[17:16:01.0000] <Hixie>
karlUshi: this is orders of magnitude harder than it needs to be

[17:16:02.0000] <Hixie>
i can't work out how to get this out of this strange mode

[17:16:03.0000] <Hixie>
/me logs out and back in agaain

[17:17:00.0000] <webben_>
Hixie: Have you played around with Window-Eyes yet?

[17:17:01.0000] <Hixie>
no

[17:17:02.0000] <webben_>
I've tended to find that less overwhelming than JAWS.

[17:17:03.0000] <karlUshi>
how do *you* know what *needs* to be, again look at my previous comment, spend time with a real user :) and identify the real problem. :)

[17:17:04.0000] <karlUshi>
moving to svgopen

[17:19:00.0000] <Hixie>
webben_: ah

[17:19:01.0000] <Hixie>
christ this weird ass mode followed my to the logon box

[17:19:02.0000] <Hixie>
it's only reading the stuff from the disabled dialog

[17:19:03.0000] <webben_>
Hixie: What happens in this mode exactly?

[17:20:00.0000] <Hixie>
the dialog that's in front telling me my password is wrong is not reading it

[17:20:01.0000] <Hixie>
s/it//

[17:20:02.0000] <takkaria>
hsivonen: that forms design post is very interesting, ta

[17:20:03.0000] <Hixie>
webben_: hard to describe

[17:21:00.0000] <Hixie>
so "say all" doesn't work in dialogs, i guess

[17:22:00.0000] <webben_>
I don't think it would

[17:22:01.0000] <Hixie>
i hit "say paragraph" and it says "blank"

[17:22:02.0000] <Hixie>
helpful, thanks jaws

[17:22:03.0000] <webben_>
Hixie: try just tabbing around?

[17:22:04.0000] <webben_>
(if this is a dialog)

[17:22:05.0000] <Hixie>
webben_: an alert dialog, i mean

[17:23:00.0000] <Hixie>
webben_: pressing tab just makes it say "tab".

[17:23:01.0000] <Hixie>
i can't get it to read me the message again

[17:23:02.0000] <webben_>
Hixie: try INSERT + B (read current window)

[17:24:00.0000] <Hixie>
wait, i've found the bug

[17:25:00.0000] <Hixie>
(i'm in laptop mode, btw, so i use caps lock instead of insert)

[17:25:01.0000] <Hixie>
caps lock Y dismisses the alert dialog without telling me

[17:25:02.0000] <Hixie>
christ is that confusing

[17:25:03.0000] <webben_>
Hixie: ah okay.

[17:25:04.0000] <Hixie>
caps lock - b is a useful command, thanks

[17:26:00.0000] <webben_>
yw

[17:26:01.0000] <Hixie>
i don't understand why caps lock - a isn't the same thing though

[17:26:02.0000] <Hixie>
why two commands?

[17:27:00.0000] <webben_>
Hixie: Judging from http://www.freedomscientific.com/fs_products/JAWSkeystrokes.asp INSERT+A just reads the address bar

[17:27:01.0000] <Hixie>
capslock+a is say all in laptop mode

[17:28:00.0000] <webben_>
Hixie: I suspect say all is specific to buffers

[17:28:01.0000] <Hixie>
seems so

[17:28:02.0000] <webben_>
whereas in dialogs JAWS would be in some sort of mode that more closely follows MSAA

[17:28:03.0000] <webben_>
(like forms mode in webpages)

[17:30:00.0000] <webben_>
If you have a window which also has a document loaded into a buffer, I guess there is a logic in there being two different commands.

[17:32:00.0000] <Hixie>
yeah

[17:47:00.0000] <Hixie>
ok, here's a test case for JAWS: http://www.hixie.ch/tests/adhoc/html/screen-readers/001.html

[17:52:00.0000] <webben_>
What's it reading wrong there?

[17:53:00.0000] <Hixie>
reads everything after "elephants" on the second line in the same voice as "elephants"

[17:53:01.0000] <webben_>
Hixie: This is with the Web Rent-A-Crowd scheme or something is it?

[17:54:00.0000] <Hixie>
yeah

[17:57:00.0000] <webben_>
Hixie: what happens if you turn on announcements too? does it think there's more than one link there?

[17:59:00.0000] <Hixie>
/me hunts for announcements

[18:00:00.0000] <webben_>
Hixie: sorry, that's not necessarily the technical term

[18:01:00.0000] <webben_>
I just mean where it will say "unvisited link" or whatever before a link

[18:02:00.0000] <Hixie>
not sure how to enable that, but it does say "visited link" once on that page

[18:03:00.0000] <webben_>
well at least it only thinks there's one link

[18:03:01.0000] <webben_>
are you sure you've got the voices different enough that you'd be able to tell the difference?

[18:03:02.0000] <Hixie>
oh yes

[18:03:03.0000] <Hixie>
one is male and the other female

[18:03:04.0000] <webben_>
ah okay

[18:04:00.0000] <Hixie>
i love the way it reads the first line, too:

[18:06:00.0000] <Hixie>
"In the following text, only one word left paren the word. Quote elephants quote. Right paren! should be said like a link."

[18:06:01.0000] <Hixie>
though that depends on the synthesiser

[18:07:00.0000] <Hixie>
SAPI5 in particular seems to suck.

[18:36:00.0000] <Hixie>
weird, it'll read certain sentences differently when it's reading the paragraph vs reading just the sentence

[19:00:00.0000] <Hixie>
second screen reader test case: http://www.hixie.ch/tests/evil/screen-readers/002.html

[19:32:00.0000] <Hixie>
i'm amused by the alt text discussion

[19:32:01.0000] <Hixie>
the arguments are all about whether we should allow alt="" to be omitted

[19:32:02.0000] <Hixie>
the spec already requires alt=""

[19:41:00.0000] <om_food>
it does in some cases allow alt to be omitted

[19:41:01.0000] <othermaciej>
"In such cases, the alt attribute may be omitted"

[19:42:00.0000] <othermaciej>
allowing it to be omitted in some cases means conformance checkers can't report failure whenever it is missing

[19:42:01.0000] <othermaciej>
which may have some small effect at the margins

[19:42:02.0000] <othermaciej>
though whether that effect is good or bad is unclear

[19:43:00.0000] <Hixie>
iirc every case where it says may be omitted is followed by a should-level requirement that it be not omitted

[19:44:00.0000] <othermaciej>
well yes, it's (almost) always strongly encouraged, but it is not 100% mandated

[19:45:00.0000] <othermaciej>
I'm thinking that is probably ok, though it does make JAWS give worse-than-usual results in many cases apparently

[19:57:00.0000] <Lachy>
Oh no! people are asking for RDFa in HTML :-( http://lists.w3.org/Archives/Public/public-html/2007Sep/0120.html

[19:57:01.0000] <Lachy>
(btw, how did that sneak into the charter?)

[19:59:00.0000] <Lachy>
oh good, it says "whether it is also allowed in the classic HTML serialization ... is for the HTML WG to determine."

[19:59:01.0000] <othermaciej>
Lachy: it snuck in there is an example

[19:59:02.0000] <othermaciej>
Lachy: it used to be there as a feature to add

[19:59:03.0000] <hober>
fortunately, the charter doesn't require support for RDFa, but simply encourages a mechanism to support extension

[19:59:04.0000] <othermaciej>
"The HTML WG is encouraged to provide a mechanism to permit independently developed vocabularies *such as* Internationalization Tag Set (ITS), Ruby, and RDFa to be mixed into HTML documents" (emphasis mine)

[20:00:00.0000] <hober>
yay "such as" :)

[20:00:01.0000] <karlUshi>
rdfa++

[20:01:00.0000] <Lachy>
karlUshi, I don't believe RDFa is good for anything, it's way too complex and overengineered

[20:01:01.0000] <Hixie>
surely not

[20:01:02.0000] <Hixie>
it uses namespaces, it must be good!

[20:02:00.0000] <karlUshi>
yes lachy, you put the key thing here "believe"

[20:02:01.0000] <Hixie>
it also uses RDF, and we all know that Web authors are rushing to author RDF and are only being stopped by lack of support in browsers

[20:02:02.0000] <karlUshi>
troll fest :) funny

[20:03:00.0000] <karlUshi>
/me is enjoying relax in a comfortable seat

[20:03:01.0000] <othermaciej>
RDF stands for RSS Data Format, right?

[20:03:02.0000] <Hixie>
hah

[20:03:03.0000] <karlUshi>
othermaciej: you could do better, Really Dat Fucked

[20:04:00.0000] <othermaciej>
/me is shocked at karlUshi's scandalous language

[20:05:00.0000] <karlUshi>
yes I know othermaciej but I'am applying your freedom of expression rule :) I'm just a robot

[20:05:01.0000] <Hixie>
i'm going to complain to DanC right now!

[20:05:02.0000] <Hixie>
/me ducks

[20:05:03.0000] <karlUshi>
you should

[20:06:00.0000] <Lachy>
oh, it also uses CURIEs.  that's even better ;-)

[20:07:00.0000] <Hixie>
isn't that a measurement of radioactivity

[20:07:01.0000] <hober>
I'm trying to come up with something sufficiently righteously angry-sounding to say, but am laughing too hard to think of anything.

[20:07:02.0000] <karlUshi>
Lachy: to see through

[20:31:00.0000] <Lachy>
hey Hixie, how does your clipboard.cgi script work?  Does it just save POSTed data to a text file and then send it back on GET requests?

[20:33:00.0000] <Lachy>
Hixie, can I get a copy of it to run on html5.lachy.id.au for my own tools?

[00:07:00.0000] <Hixie>
Lachy_: yes

[00:41:00.0000] <Hixie>
wow these videos are really interesting

[00:43:00.0000] <othermaciej>
what videos?

[00:44:00.0000] <Hixie>
http://lists.w3.org/Archives/Public/public-html/2007Sep/0103.html

[00:45:00.0000] <othermaciej>
ah cool

[00:45:01.0000] <othermaciej>
yeah, actual user testing

[00:54:00.0000] <Hixie>
man this is so interesting

[00:55:00.0000] <Hixie>
in the first 10 minutes of the table video it seems the biggest problems are with a bug jaws has about colspan/rowspan

[00:55:01.0000] <Hixie>
also interesting with the budget table is that it's clear that the headers being read out are completely useless

[00:55:02.0000] <Hixie>
it's not reading the column header

[00:57:00.0000] <hsivonen>
Hixie: also, JAWS has pretty significant trouble with thousand separators that are commonplace

[00:59:00.0000] <Hixie>
hsivonen: yeah, the number handling is appalling in that instance

[00:59:01.0000] <Hixie>
notice he goes to the horrific configuration UI

[00:59:02.0000] <Hixie>
and does far better than I (a sighted user) did when I went there!

[01:00:00.0000] <Hixie>
i think that revenue table (http://www.wisc.edu/about/facts/budget.php#budgetRev) is an example of a table that is badly marked up with headers=""

[01:00:01.0000] <Hixie>
"source" shouldn't be on the headers="" list for the data cells

[01:00:02.0000] <Hixie>
and that table uses abbr="" in a really confusing way, too

[01:01:00.0000] <Hixie>
"amount state revenue source. 151.8 column 2" is not a useful way of showing that data.

[01:04:00.0000] <hsivonen>
Hixie: what would you do better (apart from striking "source" from the speech)?

[01:05:00.0000] <Hixie>
"source" is a header for first column, it shouldn't be given as a header for the data cells

[01:05:01.0000] <Hixie>
headers aren't transitive

[01:06:00.0000] <Hixie>
arguably the "state revenue" row shouldn't be a header for anything but the first column either

[01:06:01.0000] <Hixie>
though scope="" can't represent that while still keeping the row table-wide

[01:06:02.0000] <Hixie>
which is interesting

[01:07:00.0000] <hsivonen>
with VoiceOver, I found that due to lack of easy documentation and due to the aural UI features being undiscoverable without docs, it is really hard for a person who isn't a routine user to check if something works in a sane way

[01:07:01.0000] <Hixie>
i think you'd want that first data cell read out as "255.1 millions of dollars, general program appropriations, state revenue"

[01:08:00.0000] <Hixie>
second cell as "-1.7 percent change from previous year, general program appropriations, state revenue"

[01:09:00.0000] <Hixie>
though how you decide that the top header comes first, then the left header, then the sub-top header, i dunno

[01:09:01.0000] <Hixie>
on the next table you'd want it the other way around

[01:09:02.0000] <Hixie>
second data cell on http://broads-authority.gov.uk/boating/navigating/tide-tables.html you'd want to read out as "1.69 meters, high water, wednesday 5th, september"

[01:09:03.0000] <hsivonen>
I've only watched the first two videos so far

[01:10:00.0000] <hsivonen>
and I think they demonstrate that "row" and "column" aren't the real scopes but "right" and "down"

[01:14:00.0000] <Hixie>
yeah that's basically what html5 does

[01:15:00.0000] <Hixie>
(though it uses the row/column names)

[01:15:01.0000] <Hixie>
the federal bank table example is interesting, it's a table that uses scope but that shows jaws7 not supporting it

[01:15:02.0000] <Hixie>
it also shows that jaws has some heuristics to read out the first column even with no markup for it

[01:16:00.0000] <Hixie>
woah

[01:16:01.0000] <Hixie>
the immediate reaction to the first table with summary="" information is "i'm wondering how necessary is that."

[01:19:00.0000] <hsivonen>
also, it shows how the insistence on cultural variance in date and number formats is an accessibility problem

[01:21:00.0000] <Hixie>
yeah

[01:21:01.0000] <Hixie>
go <time>

[01:21:02.0000] <Hixie>
not sure what to do about numbers

[01:21:03.0000] <Hixie>
<n> seems excessive and unlikely to be widely used

[01:21:04.0000] <Hixie>
i'd rather test the waters with <time> first

[01:21:05.0000] <hsivonen>
there's no way normal authors who are accustomed to type in Word would stop and mark up their numbers as numbers

[01:22:00.0000] <Hixie>
yeah

[01:22:01.0000] <Hixie>
same could be said of dates though

[01:22:02.0000] <hsivonen>
I suppose having a comma, period or nbsp every three digits could match a heuristic pattern

[01:23:00.0000] <Hixie>
or apostrophe

[01:23:01.0000] <hsivonen>
but dealing with non-nbsp regular spaces would be hard

[01:23:02.0000] <othermaciej>
you could use lang to infer the likely number format

[01:24:00.0000] <hsivonen>
everything would be so much easier if all nationalistic vive la difference could be put aside here

[01:24:01.0000] <othermaciej>
or just try to recognize a bunch of widely used number formats

[01:24:02.0000] <othermaciej>
but I guess some are ambiguous

[01:24:03.0000] <othermaciej>
1.001 - is that just over 1, or just over 1000?

[01:25:00.0000] <Hixie>
you're not going to get france or the uk to change to 1,001 or 1.001 respectively

[01:25:01.0000] <Hixie>
(or vice versa)

[01:25:02.0000] <hsivonen>
othermaciej: to some extent yes. but there are a lot of people who use English together with ISO dates, SI units and 24 hour clock for international communications

[01:25:03.0000] <hsivonen>
(in fact, it annoys me that legacy English date-time stuff comes with the English UI language on many systems)

[01:27:00.0000] <hsivonen>
https://bugs.maemo.org/show_bug.cgi?id=1968 for instance

[01:27:01.0000] <othermaciej>
there's also wide disagreement on the right way to do quotation marks but that seems less of a practical problem

[01:28:00.0000] <hsivonen>
systems would benefit from a U.S. English plus metric/ISO "locale"

[01:35:00.0000] <hsivonen>
/me sighs at optimism about parsing text/html as XML

[01:35:01.0000] <Whiskey_M>
'lo

[01:35:02.0000] <hsivonen>
back when Netscape decided not to sniff XMLness in text/html in Mozilla, O'Reilly was ill-formed

[01:36:00.0000] <Hixie>
wow the longdesc="" comments are really interesting too

[01:36:01.0000] <hsivonen>
good luck with others getting it right if the xml.com folks don't

[01:36:02.0000] <Hixie>
hsivonen: http://www.damowmow.com/playground/html-or-xml.html ! :-D

[01:53:00.0000] <Lachy>
wow, I didn't realise screen readers were sooo bad at reading out numbers!

[01:54:00.0000] <Lachy>
I would have expected it to read 278,000 as "two hundred and seventy eight thousand", not "two seven eight zero zero zero"

[01:55:00.0000] <Whiskey_M>
it changes dependent on the screen reader I believe (and version of the software), but in general they aren't great

[01:56:00.0000] <Lachy>
hmm. I guess.  So is it a problem that screen readers should really solve, or do we need a number element? like <n>278,000</n>

[01:57:00.0000] <Lachy>
I wonder how they handle numbers written using with the use of ',' (separator) and '.' (decimal point) reversed

[01:58:00.0000] <hsivonen>
is it known how much http://www.nvda-project.org/ sucks/rocks compared to JAWS?

[01:59:00.0000] <Lachy>
cool, I didn't know there was an open source screen reader available. I wonder how mature it is

[02:00:00.0000] <Lachy>
well, I guess it's only version 0.5, so probably not very mature

[02:02:00.0000] <virtuelv>
Lachy: is <n>278,000</n> "two hundred and seventy eight, comma triple-zero" or "two hundred and seventy eight thousand"?

[02:02:01.0000] <Hixie>
lachy: as far as i can tell that's a jaws bug that the experienced jaws user hadn't seen before

[02:04:00.0000] <hsivonen>
interestingly, both nvda and orca are written in Python. I wonder if there's any cross-pollination

[02:04:01.0000] <Hixie>
http://www.cs.auckland.ac.nz/~pgut001/pubs/malware_biz.pdf is frightening

[02:07:00.0000] <Lachy>
virtuelv: it's 278 thousand

[02:08:00.0000] <Lachy>
there'd need to be a space after the comma (278, 000) if it was two hundred seventy eight, triple zero

[02:11:00.0000] <karlUshi>
virtuelv: it depends on your language

[02:11:01.0000] <karlUshi>
in French comma is the separator

[02:11:02.0000] <karlUshi>
for decimal

[02:16:00.0000] <Lachy>
Thanks Hixie, I've now got http://html5.lachy.id.au/clipboard running :-)

[02:18:00.0000] <hsivonen>
Lachy: what is it supposed to do?

[02:19:00.0000] <Lachy>
that's a clipboard, just like Hixie has for the Live DoM Viewer

[02:19:01.0000] <Lachy>
POST data to it to save or GET to retrieve

[02:19:02.0000] <Lachy>
I'm just adding the upload/download scripts to my other tools now

[02:20:00.0000] <hsivonen>
Lachy: the use case is not obvious to me

[02:22:00.0000] <Lachy>
it makes it easier to save data and then download it again in other browsers or on other computers

[02:22:01.0000] <Dashiva>
It's a pastebin, basically

[02:24:00.0000] <hsivonen>
Lachy: does it expect form POSTs or raw entity body POSTs?

[02:26:00.0000] <Hixie>
raw

[02:30:00.0000] <Hixie>
interesting, the power jaws user in question hadn't come across [D] links

[02:30:01.0000] <Lachy>
that's not too surprising. I rarely see them myself

[02:37:00.0000] <Hixie>
his comments about a long _description_ being useless to him are interesting

[02:37:01.0000] <Hixie>
(as opposed to a long discussion of the image)

[02:37:02.0000] <Hixie>
seems to me it would be better to just put the long discussion in the alt="", though.

[02:38:00.0000] <Hixie>
there's a bug in JAWS' handling of newlines

[02:38:01.0000] <Hixie>
in attributes

[02:43:00.0000] <virtuelv>
Lachy: karlUshi was making my point for me. My question was largely a rhetorical one

[02:43:01.0000] <Hixie>
seems the summary and header_id videos are the same

[02:43:02.0000] <Hixie>
which is odd

[02:43:03.0000] <Hixie>
oh well

[02:43:04.0000] <Hixie>
i really should be in bed 3 hours ago

[02:43:05.0000] <Hixie>
bbl

[03:02:00.0000] <Lachy>
I've now implemented the clipboard scripts in http://html5.lachy.id.au/output and http://html5.lachy.id.au/content-sniffing/ so now you can share data between them easily

[03:08:00.0000] <hsivonen>
does someone remember off-hand if HTTP-methods should be compared case-sensitively or insensitively?

[03:08:01.0000] <hsivonen>
(on the HTTP server when examining incoming requests)

[03:11:00.0000] <hsivonen>
case-sensitive it is

[03:11:01.0000] <Lachy>
hsivonen: they're case sensitive and, I believe, all existing methods (GET, POST, etc.) should be uppercase

[03:23:00.0000] <hsivonen>
Lachy: yeah, thanks

[03:35:00.0000] <hsivonen>
is there a best practice for transferring long non-ASCII strings in HTTP headers?

[03:35:01.0000] <hsivonen>
or should I just steer clear and do something else?

[03:36:00.0000] <Lachy>
hmm. you could use %-encoding, but that's really only for URIs

[03:37:00.0000] <Lachy>
what are you trying to do?

[03:38:00.0000] <hsivonen>
Lachy: I'm considering whether I should allow validator parameters as HTTP headers as opposed to query string params in the POST Web service API

[03:38:01.0000] <Lachy>
what HTTP headers are you trying to use for that?

[03:39:00.0000] <hsivonen>
Lachy: Content-Location for doc=

[03:39:01.0000] <hsivonen>
Lachy: the others would have to be X-Foo-Or-Bar

[03:39:02.0000] <hsivonen>
the potentially non-ASCII value would be schema IRIs

[03:40:00.0000] <Lachy>
you might be better off just using a query string

[03:40:01.0000] <hsivonen>
which I could force to be URIs

[03:40:02.0000] <hsivonen>
well, let's see if I can get away with query string only

[03:45:00.0000] <Lachy>
if a query string doesn't meet your needs, you could also try POSTing JSON or XML or something n the request body

[03:46:00.0000] <hsivonen>
Lachy: that would be much worse

[03:46:01.0000] <Lachy>
ok

[04:15:00.0000] <hsivonen>
aargh. Form-based form upload with the servlet API is ridiculous

[04:15:01.0000] <hsivonen>
supporting raw entity body POST was super-simple, though

[04:20:00.0000] <hsivonen>
do browsers guarantee that multipart form submissions contain the fields in the order of the original form?

[04:20:01.0000] <Lachy>
yes, I think so

[04:24:00.0000] <hsivonen>
well, on a more positive note, perhaps Java developers will resist the new Web Forms 2.0 submission format less than developers using other languages as even multipart/form-data support isn't part of the platform API

[08:52:00.0000] <Lachy>
in Table5.wmv of those usability tests, we were told that the table uses axis="", but he never actually showed how or why that is actually useful for anything

[09:00:00.0000] <zcorpan>
indeed

[09:08:00.0000] <Lachy>
I like what the bind man says at the end of Longdesc_IDC.wmv, where he talks about how longdesc can be made more mainstream by making it useful to more people

[09:21:00.0000] <Lachy>
the [D] link example didn't look any more difficult for the user than the longdesc attributes did, which is interesting given the claims that it's a problem because it's not explicitly associated with the image

[09:34:00.0000] <Lachy>
oh, I spoke too soon. in the BoxModel video, [D] links are explained to him

[09:40:00.0000] <gsnedders>
/me  wonders how to get an email to the majority of major browser vendors regarding HTTP response parsng

[09:53:00.0000] <Lachy>
gsnedders: you could ask people you know from each browser vendor to put you in contact with the appropriate people who work on HTTP stuff

[09:56:00.0000] <gsnedders>
Lachy: I don't really know anyone who works on either IE or FF, though

[09:57:00.0000] <Lachy>
gsnedders: maybe try Chris Wilson for IE

[09:58:00.0000] <Lachy>
and ask Hixie about Mozilla, he may know

[09:58:01.0000] <gsnedders>
Lachy: yeah, that what's I was thinking I would try — last time I tried Chris I never heard back, though

[10:00:00.0000] <zcorpan>
https://bugzilla.mozilla.org/buglist.cgi?query_format=advanced&short_desc_type=allwordssubstr&short_desc=&component=Networking%3A+HTTP&long_desc_type=substring&long_desc=&bug_file_loc_type=allwordssubstr&bug_file_loc=&status_whiteboard_type=allwordssubstr&status_whiteboard=&keywords_type=allwords&keywords=&bug_status=ASSIGNED&emailassigned_to1=1&emailtype1=exact&email1=&emailassigned_to2=1&emailreporter2=1&emailqa_con

[10:00:01.0000] <zcorpan>
l2=&bugidtype=include&bug_id=&votes=&chfieldfrom=&chfieldto=Now&chfieldvalue=&cmdtype=doit&order=Reuse+same+sort+as+last+time&field0-0-0=noop&type0-0-0=noop&value0-0-0=

[10:00:02.0000] <zcorpan>
...might give a hint about who are working on http in moz

[10:00:03.0000] <gsnedders>
ah. true. I'd looked through public bug trackers for what I'm interested in, nothing about it, though

[12:06:00.0000] <Hixie>
gsnedders: feel free to mail whatwg⊙wo about it if you want to hit browser vendors in general

[12:14:00.0000] <gsnedders>
Hixie: thanks

[13:05:00.0000] <Philip`>
http://www.w3.org/QA/2007/09/svg-open-2007-day-2.html - "SVG as texture for 3D Canvas" - hmm, that's possibly interesting in terms of making 3D applications that don't need to download dozens of megabytes of bitmap textures

[13:55:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/3d.html - hmm, Opera 9.5 beats 9.2 quite measurably, but it still seems no browser is adequate at vector/matrix calculations in JavaScript :-(

[13:56:00.0000] <Philip`>
(That code was originally in a toy language that got compiled to JVM bytecode, which was far faster - I think it did 30fps easily on a slower computer than what I'm using now)

[14:50:00.0000] <jgraham>
Hixie?

[14:50:01.0000] <Hixie>
hey

[14:52:00.0000] <jgraham>
You pinged. I don't know if I can use the private message thing on freenode without an account

[14:52:01.0000] <Hixie>
are you on another network?

[14:52:02.0000] <Hixie>
or jabber/aim/icq/msn?

[14:52:03.0000] <annevk>
just use irc.w3.org

[14:52:04.0000] <jgraham>
/me is somewhat communications poor

[14:53:00.0000] <virtuelv>
jgraham: you need to register on freenode

[14:54:00.0000] <jgraham>
Hixie: I think anne's suggestion should work

[14:54:01.0000] <othermaciej>
jgraham: you need to register, or the person you are talking to needs to set up their account to accept privmsgs from unregistered nicks

[14:54:02.0000] <jgraham>
/me goes to register on freenode

[14:55:00.0000] <virtuelv>
 /msg NickServ help

[14:55:01.0000] <virtuelv>
^^ for jgraham 

[15:39:00.0000] <gsnedders>
jgraham: are you stalking me adding me on Flickr? :P

[15:40:00.0000] <gsnedders>
jgraham: you're the first person to add me from WHATWG, and I don't think we have any common friends at all :P

[15:40:01.0000] <jgraham>
gsnedders: Well if you will put photos on the internet, you can't expect people not to look...

[15:41:00.0000] <gsnedders>
jgraham: but look for photos by me? :P Twitter or my blog, I assume>?

[15:42:00.0000] <gsnedders>
jgraham: most people I've had add me I have explicitly pointed to my Flickr page, or know them well

[15:42:01.0000] <jgraham>
Er, I think I originally searched for your blog for some reason which I have forgotten.

[15:42:02.0000] <gsnedders>
heh

[15:43:00.0000] <gsnedders>
I think the only thing on my blog that links to it is photo of my sister + husband at their wedding

[15:43:01.0000] <jgraham>
Yeah but you're pretty much unique on google :)

[15:44:00.0000] <gsnedders>
wait, you mean that everything within the top 50 results being me makes me unique? :)

[15:45:00.0000] <gsnedders>
It's something absurd like that which is all me

[15:46:00.0000] <jgraham>
That would fit my definition of "pretty much unique", yeah.

[15:47:00.0000] <gsnedders>
here we go, result 59 isn't me

[15:47:01.0000] <jgraham>
/me is cursed/blessed with a much more common name

[15:47:02.0000] <gsnedders>
I'm not a pilot.

[15:48:00.0000] <jgraham>
<green-wing>Except on friends reunited</green-wing>

[15:49:00.0000] <Lachy>
jgraham, in python, what APIs are available for accessing the query string and post data of a request? I've looked at cgi.FieldStorage(), but AFAICT, it's only desiged for accessing name=value pairs and doesn't make it easy to get data in other formats

[15:49:01.0000] <gsnedders>
59, and 82 are the only 2 results in the top 150 that aren't me

[15:50:00.0000] <jgraham>
Lachy: Have you tried httplib2? It's not in the standard-lib but I think it's what you want

[15:50:01.0000] <Lachy>
ok, I'll look it up

[15:50:02.0000] <jgraham>
http://code.google.com/p/httplib2/

[15:51:00.0000] <Lachy>
it seems odd that that stuff isn't build into the language. like in PHP, I can do $_SERVER['QUERY_STRING'], etc. to get the raw data

[15:53:00.0000] <Philip`>
os.environ['QUERY_STRING']?

[15:53:01.0000] <jgraham>
Lachy: httplib is built in but httplib2 is supposed to be better

[15:54:00.0000] <jgraham>
Where builtin = standard-lib

[15:54:01.0000] <gsnedders>
ah well, I'm going, g'nite

[15:54:02.0000] <jgraham>
goodnight

[15:54:03.0000] <gsnedders>
I'll try to stay out of sweet shops, though, jgraham :)

[16:08:00.0000] <jgraham>
Lachy: Did you find what you wanted?

[16:08:01.0000] <Lachy>
I think so, os.environ gives me the query string from GET requests, and I think stdin will give me post data

[16:10:00.0000] <Lachy>
hmm. stdin didn't work for me

[16:13:00.0000] <jgraham>
/me wonders if there is a sane way of setting up python on dreamhost

[16:13:01.0000] <Lachy>
oh, it works. but not when I try to read stdin after I import cgi, which already reads it

[16:17:00.0000] <jgraham>
http://wordsandpictures.dyndns.org/tables/table_inspector.html now with "smart colspan" option

[16:18:00.0000] <annevk>
audio on ubuntu works again after a reboot

[16:18:01.0000] <annevk>
bizarre

[16:18:02.0000] <jgraham>
Er, I meant to link to the html5.org copy there

[16:18:03.0000] <annevk>
just like windows :)

[16:18:04.0000] <jgraham>
http://james.html5.org/tables/table_inspector.html

[16:24:00.0000] <annevk>
"smart colspan" meaning I can omit scope= entirely on my table?

[16:25:00.0000] <annevk>
feature request: what you probably also want is a view where all algorithms are applied so you can easily see the differences for a single table; no real suggestions for the UI though

[16:54:00.0000] <jgraham>
annevk: "smart colspan" is what Ben Millard described on the list. It allows you to emit scope="" on your table entirely, yes.

[16:54:01.0000] <annevk>
awesome

[16:55:00.0000] <annevk>
I was thinking about that when I wrote the table

[16:55:01.0000] <jgraham>
I agree about the multiple algorithms thing; I think I can make it work technically but I'm not sure how to present it either

[16:55:02.0000] <annevk>
Now in theory the first column should maybe have scope=row for each row but I don't really like that. I'm not sure how to solve that issue

[16:56:00.0000] <annevk>
(Don't really like the typing.)

[16:56:01.0000] <annevk>
Making the table XML well-formed so I could enter it in my blog system was already a pain

[16:56:02.0000] <annevk>
I should probably have used html5lib or something...

[16:57:00.0000] <takkaria>
fwiw, mobile IE seems to render pages OK though is rather terrible at fitting things on-screen decently

[16:58:00.0000] <jgraham>
annevk: I think special casing rows or columns that are entirely heading cells to be like scope="column" or scope="row" respectively should work

[16:59:00.0000] <annevk>
the problem is that they're not headings

[16:59:01.0000] <annevk>
well, they're both (as HTML4 seems to allow)


2007-09-06
[17:00:00.0000] <jgraham>
I don't understand why html 4 suggests cells that are both data and headings should be marked as data

[17:00:01.0000] <jgraham>
It seems much more useful to mark them as headings

[17:00:02.0000] <annevk>
would you say they're headings?

[17:00:03.0000] <annevk>
the location column

[17:00:04.0000] <jgraham>
Arguably, yes. 

[17:01:00.0000] <jgraham>
Although I think the table makes sense if you don't mark them as such

[17:02:00.0000] <jgraham>
Anyway, bedtime

[17:03:00.0000] <annevk>
prolly a good idea

[17:43:00.0000] <Philip`>
Hmm, Opera 9.5 has fixed the BGRA vs RGBA ordering in getImageData, but it looks like it's still the wrong way round in putImageData

[17:45:00.0000] <annevk>
ouch

[17:45:01.0000] <annevk>
I still haven't gotten around testing those methods yet (thoroughly at least); also because I don't really like how they're currently defined

[17:46:00.0000] <annevk>
If you could file a bug that'd be nice

[17:46:01.0000] <annevk>
/me -> bed

[17:46:02.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/putimgdata_rgb.html

[17:47:00.0000] <Philip`>
/me will do

[18:05:00.0000] <Hixie>
heh

[18:05:01.0000] <Hixie>
i just discovered something

[18:05:02.0000] <Hixie>
the first mention of smell-o-vision in the htmlwg and whatwg irc archives that i can find is actually from DanC

[18:05:03.0000] <Hixie>
http://krijnhoetmer.nl/irc-logs/html-wg/20070426#l-517

[18:06:00.0000] <Lachy>
ha!

[18:08:00.0000] <hober>
Yeah, but he's not a cabal member, so it's not offensive when he does it. :/

[18:08:01.0000] <Lachy>
who keeps the membership lists for the cabal?

[18:10:00.0000] <Hixie>
i wonder if S. Mike Dierken and Mike Dierken are the same person

[18:11:00.0000] <kingryan>
Lachy: we developed a microformat for cabal lists, so the list can be distributed

[18:14:00.0000] <Lachy>
oh right, so to join, I just markup my membership details using hCard and rel=cabal?

[18:14:01.0000] <Lachy>
:-)

[18:14:02.0000] <kingryan>
yeah

[18:26:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/radial.html is an interestingly crazy effect in O9.5

[19:08:00.0000] <Hixie>
i have got to stop responding to john's e-mails

[19:08:01.0000] <Hixie>
(responses in www-archive for the morbidly curious)

[19:09:00.0000] <Hixie>
(his e-mails aren't publicly archived as far as i can tell -- he only cc'ed the secret html4all cabal -- membership list at http://html4all.org/wiki/index.php/Special:Listusers )

[19:14:00.0000] <othermaciej>
omg, he has an *actual* secret cabal!

[19:15:00.0000] <Philip`>
(Isn't just the list of people who've bothered to register on the wiki (which doesn't appear to be restricted)?)

[19:15:01.0000] <Philip`>
s/ / that /

[19:24:00.0000] <Philip`>
It seems a bit of a waste of time to write <acronym title="information and communication technology">ICT</acronym> when JAWS apparently reads it like "icked"

[19:26:00.0000] <Philip`>
(At least that suggests that people are happy to write things that are unhelpful today, in the hope that they will be helpful in the future when the tools catch up)

[19:30:00.0000] <karlUshi>
interesting

[20:07:00.0000] <Philip`>
/me guesses http://html4all.org/pipermail/list_html4all.org/ is the relevant list

[20:20:00.0000] <Lachy>
Philip`, how did you find that URL?

[20:21:00.0000] <Lachy>
did you just guess it? I was looking for it earlier

[20:35:00.0000] <Philip`>
Lachy: http://html4all.org/wiki/index.php/New_Logos_Archive_and_discussion_page points to list⊙ho, so it's just the public archives from that

[20:36:00.0000] <Lachy>
yeah, I knew about the mailing list.  Didn't know how to find the archives

[20:36:01.0000] <Philip`>
(Note to whoever's reading the logs: if you don't want to work in the open, I think Mailman's "Archiving Options" -> archive_private is the relevant setting)

[20:36:02.0000] <Lachy>
you shouldn't tell them that!

[20:37:00.0000] <Lachy>
if they do, we won't be able to follow their discussions

[20:38:00.0000] <Philip`>
We shouldn't follow their discussions if they don't want us to

[20:40:00.0000] <Philip`>
Incidentally, I like some of their logos - I think the WHATWG's "(?)" is rather too plain and boring

[20:44:00.0000] <Lachy>
the current whatwg logo was an improvement from the original one that Hixie had made

[20:45:00.0000] <Philip`>
Was the original one a cat?

[20:45:01.0000] <Lachy>
no

[20:47:00.0000] <Philip`>
Oh :-(

[20:49:00.0000] <Lachy>
http://web.archive.org/web/20040529190138/http://www.whatwg.org/

[20:49:01.0000] <Lachy>
http://web.archive.org/web/20040714070149/http://www.whatwg.org/

[20:51:00.0000] <Philip`>
The red circled question mark isn't bad, but the tiny writing and oddly sloped "Working Group" beside it look a bit suspect :-)

[21:18:00.0000] <gavin>
http://html4all.org/pipermail/list_html4all.org/2007-September/000197.html

[21:18:01.0000] <gavin>
haha

[21:20:00.0000] <gavin>
it's like a game of hide and seek with mailing lists and IRC

[21:21:00.0000] <gavin>
/me goes off to start a secret list⊙wo mailing list

[21:29:00.0000] <Philip`>
It's great how modern technology lets you have a conversation where each message goes from IRC to web-based log to mailing list to web archive then round the circle again, probably with some diversions through other mailing lists every so often

[21:30:00.0000] <Philip`>
We just need to integrate it with Twitter somehow

[21:30:01.0000] <Lachy>
quick, someone twitter it as well!

[21:30:02.0000] <Hixie>
what was the e-mail in which we were accused of being a cabal?

[21:31:00.0000] <gavin>
http://lists.w3.org/Archives/Public/public-html/2007Aug/1006.html

[21:32:00.0000] <Hixie>
thx

[21:32:01.0000] <Philip`>
http://html4all.org/pipermail/list_html4all.org/2007-August/000074.html has various cabal-related bits

[21:34:00.0000] <Philip`>
(http://html4all.org/pipermail/list_html4all.org/2007-August/000004.html too - they're not denying its existence)

[21:36:00.0000] <Lachy>
Hixie, why did you take the twitter form off whatwg.org?

[21:36:01.0000] <Lachy>
oh, no, it's still there

[21:50:00.0000] <Hixie>
http://html4all.org/pipermail/list_html4all.org/2007-September/000164.html

[21:53:00.0000] <Hixie>
(http://wilbur.bytowninternet.com/mailman/listinfo/list_html4all.org to subscribe, apparently)

[21:54:00.0000] <Hixie>
eep, i'm on the archives of that mailing list!

[22:00:00.0000] <Lachy>
if we subscribed, would they kick us off?

[22:00:01.0000] <Hixie>
dunno :-)

[22:00:02.0000] <Hixie>
i have no intention of subscribing

[22:00:03.0000] <Hixie>
ooo

[22:00:04.0000] <Hixie>
an e-mail from freedom scientifir

[22:00:05.0000] <Hixie>
freedom scientific

[22:00:06.0000] <Hixie>
/me reads

[22:00:07.0000] <Lachy>
nor do I, I follow enough mailing lists :-)

[22:01:00.0000] <Hixie>
ooo, they forwarded my e-mail on to someone

[22:01:01.0000] <Lachy>
Hixie, was it a private email or archived somewhere?

[22:01:02.0000] <Hixie>
private

[22:01:03.0000] <Lachy>
ok

[22:01:04.0000] <Hixie>
i e-mailed them my set of tests earlier

[22:03:00.0000] <Lachy>
Hixie, did you see this? http://www.isolani.co.uk/blog/access/ScreenReadersAWebDeveloperFailure

[22:10:00.0000] <Hixie>
i'm replying to it now

[00:21:00.0000] <Lachy>
Hey Hixie, to create a persistent connection, e.g. for <event-source), is the best way to do that with a loop like this: while (true) { sleep(10); /*  check for new events and send them ... */ }

[00:24:00.0000] <Hixie>
no

[00:24:01.0000] <Lachy>
ok, how would I do it then?

[00:24:02.0000] <Hixie>
you'd want some sort of select() loop or other os-supported mechanism like waiting on a semaphor

[00:24:03.0000] <Hixie>
or other signalling mechanism

[00:25:00.0000] <Hixie>
a loop would be very cpu intensive

[00:25:01.0000] <marcosc>
you really should not need a loop

[00:25:02.0000] <marcosc>
as hixie said

[00:26:00.0000] <Lachy>
ok, how do you do it with your whatwg.org/status/ app?

[00:26:01.0000] <Hixie>
you mean issues/listen ?

[00:26:02.0000] <Hixie>
or?

[00:26:03.0000] <Lachy>
yes

[00:27:00.0000] <othermaciej>
Lachy: how/where are you trying to implement it?

[00:27:01.0000] <Lachy>
I was just wanting to do a few experements

[00:27:02.0000] <Lachy>
on my own server

[00:28:00.0000] <Hixie>
it uses blocking I/O

[00:28:01.0000] <marcosc>
seems that the server is not closing the connection... 

[00:28:02.0000] <Hixie>
i can put the code up somewhere hold on

[00:29:00.0000] <Lachy>
is it in perl?

[00:29:01.0000] <Hixie>
yeah

[00:30:00.0000] <Lachy>
perl is very cryptic, but ok :-(

[00:30:01.0000] <othermaciej>
Lachy: you want to make a server-side script that's meant to connect to an event-source?

[00:30:02.0000] <marcosc>
my mum codes in perl :)

[00:30:03.0000] <Hixie>
http://damowmow.com/temp/listen and http://damowmow.com/temp/common.pm

[00:31:00.0000] <Lachy>
othermaciej, yeah, just wanted to test out <event-source> in opera

[00:31:01.0000] <othermaciej>
a loop that sleeps won't hog the CPU

[00:31:02.0000] <othermaciej>
but it won't be that responsive, if it is polling for events somewhere

[00:31:03.0000] <Hixie>
a loop that sleeps will not scale

[00:32:00.0000] <Lachy>
yeah, I didn't think it would

[00:32:01.0000] <Hixie>
it will quickly hog the cpu if you have many

[00:32:02.0000] <Hixie>
which is what i meant

[00:32:03.0000] <Hixie>
even one alone is bad practice, since it prevents the cpu from stepping down, etc

[00:32:04.0000] <othermaciej>
how to do it depends on where your events are coming from

[00:32:05.0000] <Hixie>
yes

[00:33:00.0000] <Hixie>
Lachy: did the code help?

[00:33:01.0000] <othermaciej>
sleep() doesn't prevent the CPU from stepping down afaik

[00:33:02.0000] <othermaciej>
sleep yields the CPU until the interval has passed

[00:33:03.0000] <Lachy>
Hixie, I'm just trying to decrypt it :-)

[00:33:04.0000] <Hixie>
hehe

[00:33:05.0000] <Hixie>
othermaciej: it doesn't prevent it from stepping down while sleeping, no

[00:34:00.0000] <othermaciej>
but yeah, if events are infrequent, you don't want your process to wake all the time

[00:34:01.0000] <Hixie>
othermaciej: but it forces the cpu to run every Nms even if nothing has happened

[00:34:02.0000] <Hixie>
right

[00:36:00.0000] <othermaciej>
if your event-source script is ultimately getting events from a network connection, you can just read off of that network connection

[00:36:01.0000] <othermaciej>
if it is a single connection, just blocking I/O should do

[00:36:02.0000] <othermaciej>
if you are multiplexing, you'd want to use select(), or multithreading

[00:38:00.0000] <othermaciej>
if it's just for testing purposes, you could just send a fixed set of events with predetermined intervals in between

[00:39:00.0000] <Lachy>
othermaciej, that's what I was thinking about doing, but I was curious how else it could be done

[00:40:00.0000] <othermaciej>
well if it's just a test case, using sleep is fine

[04:17:00.0000] <zcorpan>
Hixie: yt?

[04:54:00.0000] <Philip`>
I like Twisted for asynchronous network IO (in Python)

[04:54:01.0000] <Philip`>
(though I've not tried using it for event-source in particular)

[04:55:00.0000] <Philip`>
(and it does take quite a while to work out how Twisted works)

[04:57:00.0000] <virtuelv>
Philip`: twisted works great for event-source

[04:58:00.0000] <MikeSmith>
new SVG viewer for MSIE released here today in Japan

[04:58:01.0000] <MikeSmith>
http://blog.svg-map.com/2007/09/svg_map_toolkit.html

[05:04:00.0000] <Philip`>
Is there meant to be a decent two-way communication system somewhere (e.g. for real-time multiplayer games)? event-source only seems to cover one direction, and I couldn't find a reliable way to go the other way

[05:10:00.0000] <annevk>
I think the idea was to extend TCPConnection to P2P at some point (and also let it cover bluetooth and such) but that's just an idea

[05:11:00.0000] <othermaciej>
TCPConnection could be used as a two-way protocol to talk to a server

[05:11:01.0000] <Philip`>
I wouldn't expect P2P to be too useful in most cases, since firewalls tend to get in the way

[05:11:02.0000] <othermaciej>
now that I think about it, TCPConnection and event-source do awfully similar things but in almost completely different ways

[05:11:03.0000] <othermaciej>
seems kinda random

[05:12:00.0000] <othermaciej>
P2P in the browser == instant botnet

[07:29:00.0000] <gsnedders>
Hixie: ping

[07:40:00.0000] <MikeSmith>
annevk - when is XHR spec expected to go to CR?

[07:41:00.0000] <hsivonen>
MikeSmith: btw, I'm implementing text output now

[07:42:00.0000] <MikeSmith>
hsivonen - cool. very happy to hear that

[07:43:00.0000] <zcorpan>
text output?

[07:44:00.0000] <hsivonen>
zcorpan: validator output in text/plain as opposed to text/html

[07:50:00.0000] <annevk>
MikeSmith, needs to go to LC first and there are some outstanding issues

[07:52:00.0000] <zcorpan>
hsivonen: aha

[08:01:00.0000] <MikeSmith>
annevk - so any idea how soon it might go to LC?

[08:04:00.0000] <annevk>
"when it's ready"

[08:04:01.0000] <annevk>
this likely involves someone creating lots of additional testcases to make sure we're ready although maybe we just try to go to LC again like last time...

[08:04:02.0000] <annevk>
dunno

[08:08:00.0000] <zcorpan>
/me should do that some time

[08:09:00.0000] <Philip`>
Hmm, I can (in Opera) do <canvas width=0> and it stays 0, but if I do setAttribute('width', 0) then it goes to 300

[08:41:00.0000] <hsivonen>
MikeSmith: http://html5.validator.nu/?doc=http%3A%2F%2Fabout.validator.nu%2F&out=text

[08:42:00.0000] <MikeSmith>
/me trying now

[08:42:01.0000] <MikeSmith>
sweet

[08:42:02.0000] <hsivonen>
whew. that was a slow deployment. still fallout of the outage from the 21st of last month to fix

[08:42:03.0000] <MikeSmith>
hsivonen - hmm, any way to put the error message and line numbers on one line?

[08:44:00.0000] <hsivonen>
MikeSmith: I guess I could do that, but this format is supposed to be human-readable as opposed to machine-parseable

[08:46:00.0000] <hsivonen>
MikeSmith: the service will requild itself in a moment

[08:46:01.0000] <hsivonen>
(I need to figure out how to make these updates less disruptive by using mod_jk load balancing)

[08:46:02.0000] <Lachy_>
hsivonen, that looks like it's quite well designed for machine parsing anyway

[08:48:00.0000] <Lachy_>
shouldn't it output the erroneous code for reference? e.g. for the bad attribute value, so users can easily see what the mistake is before going and looking at the markup

[08:49:00.0000] <hsivonen>
Lachy_: yes, once I first implement support for that feature in any output format at all

[08:49:01.0000] <hsivonen>
Lachy_: on my near-future todo list

[08:49:02.0000] <Lachy_>
oh, ok

[08:56:00.0000] <hsivonen>
MikeSmith: fixed

[09:04:00.0000] <zcorpan>
hsivonen: when the document passes, it might be useful to know if it was html or xhtml

[09:04:01.0000] <hsivonen>
zcorpan: yeah

[09:05:00.0000] <hsivonen>
zcorpan: umm. it alread tells it

[09:06:00.0000] <zcorpan>
ah. indeed

[09:07:00.0000] <hsivonen>
only on the (X)HTML5 side, though

[09:07:01.0000] <hsivonen>
the generic side should emit Info: blah blah

[09:08:00.0000] <zcorpan>
yeah, looks good

[09:18:00.0000] <hsivonen>
annevk: POSTing doc in entity body now supported by validator.nu

[09:18:01.0000] <hsivonen>
annevk: curl -d 'uoeua' -H 'Content-Type: text/html' 'http://html5.validator.nu/?out=text'

[09:19:00.0000] <hsivonen>
annevk: compare with: curl -d '<!DOCTYPE html><title></title>' -H 'Content-Type: text/html; charset=utf-8' 'http://html5.validator.nu/?out=text'

[09:33:00.0000] <MikeSmith>
hsivonen - now I'm getting the error message on first line, line number on next, column number on next

[09:33:01.0000] <MikeSmith>
3 lines instead of 1 ... 

[09:33:02.0000] <MikeSmith>
that is by design?

[10:02:00.0000] <hsivonen>
MikeSmith: sorry. I misread your request

[10:03:00.0000] <hsivonen>
I'd rather not put the line and col on the same line as the message

[10:03:01.0000] <hsivonen>
if I put them after, the message may be so long that the numbers are hard to glance at

[10:04:00.0000] <hsivonen>
if I put them before, the text before the message will vary

[10:04:01.0000] <hsivonen>
as it is possible to have no number, only line or both line and col

[10:05:00.0000] <MikeSmith>
hsivonen - I see the issues with that. Wondering if in spite of that, if there's any way you could you provide single-line output as an option.

[10:05:01.0000] <MikeSmith>
I understand the need to make the output human-readable

[10:06:00.0000] <hsivonen>
MikeSmith: would xml or JSON be overkill for your use case?

[10:06:01.0000] <MikeSmith>
hsivonen - yeah, for the use case I had in mind, it would be

[10:07:00.0000] <MikeSmith>
The use case behind my original request was to make the output easily consumable by editing apps

[10:07:01.0000] <hsivonen>
MikeSmith: ok. I'll change the format

[10:08:00.0000] <hsivonen>
MikeSmith: for that use case, XML or JSON should be used

[10:08:01.0000] <hsivonen>
this format is too ambiguous and unstable

[10:09:00.0000] <MikeSmith>
hsivonen - ideally, yeah. But there is a certain standard format that many *nix apps at least already have support for parsing out

[10:09:01.0000] <MikeSmith>
Emacs-style or something

[10:09:02.0000] <hsivonen>
MikeSmith: do you have a spec for the desired output?

[10:10:00.0000] <MikeSmith>
hsivonen - looking now

[10:11:00.0000] <MikeSmith>
hsivonen - couldn't find anything right away now, but will look again later

[10:12:00.0000] <MikeSmith>
I'm headed off to sleep (1:19am here now)

[10:14:00.0000] <hsivonen>
MikeSmith: ok

[11:04:00.0000] <hsivonen>
isn't there a way to make the python httplib handle redirects?

[11:06:00.0000] <annevk>
there should be...

[11:06:01.0000] <hober>
httplib2 does it...

[11:06:02.0000] <Lachy_>
hsivonen, you can just do redirects like this in python:

[11:06:03.0000] <Lachy_>
print "Status: 302 Found"

[11:06:04.0000] <Lachy_>
print "Location: ..."

[11:06:05.0000] <annevk>
it's not about making, it's about handling

[11:06:06.0000] <hsivonen>
Lachy_: on the client

[11:09:00.0000] <hsivonen>
hober: I'm trying to make a simple script that works with the standard lib

[11:11:00.0000] <hsivonen>
http://about.validator.nu/html5check.py

[11:14:00.0000] <hsivonen>
annevk: well, now there is a way to upload files. still not through the browser, though

[11:15:00.0000] <annevk>
you should probably add .htm and .xht

[11:15:01.0000] <Lachy>
wow, this is a very nice response from John Foliot! http://www.w3.org/mid/004301c7f0a7$bdc00070$643d42ab@Piglet

[11:16:00.0000] <hsivonen>
annevk: they are *so* last century :-)

[11:16:01.0000] <hsivonen>
annevk: but yeah

[11:18:00.0000] <annevk>
and .xml

[11:18:01.0000] <annevk>
and maybe others...

[11:32:00.0000] <Lachy>
hsivonen, you should output the validation results to stdout instead of stderr.  stderr should be for errors in the program itself

[11:42:00.0000] <annevk>
/me is afraid his pictures will remain inaccessible

[11:42:01.0000] <annevk>
adding alt= is just too much work

[11:44:00.0000] <takkaria>
anyone else find it amusing that the first thing in the list archives for html4all is making a logo?

[11:54:00.0000] <Lachy>
hsivonen, have you added Content-Access-Control: allow <*> to the validator response so it can be done from XHR?

[11:55:00.0000] <annevk>
that should be Access-Control:allow <*>

[11:55:01.0000] <annevk>
please code to the standards!

[11:55:02.0000] <annevk>
(well, editor drafts)

[11:55:03.0000] <Lachy>
oh, why did it change?

[11:55:04.0000] <Lachy>
I was looking at the /TR/ page

[11:56:00.0000] <annevk>
because people wanted it to be shorter and I agreed

[11:57:00.0000] <annevk>
http://lists.w3.org/Archives/Public/public-appformats/2007Aug/0010.html

[11:57:01.0000] <Philip`>
takkaria: That sounds like an unusual definition of "first" - the earliest messages are about it being a new list and wondering what to do about the old one

[11:58:00.0000] <Lachy>
ok. I've updated my own script that uses it now :-)

[11:59:00.0000] <takkaria>
Philip`: logo idea is 13th post, on the second day of the list's archived posts

[12:00:00.0000] <takkaria>
that's close enough to first for me

[12:01:00.0000] <Philip`>
It'd be great if someone could compete in the Olympics and get a gold medal for coming 13th since it's close enough to first ;-)

[12:01:01.0000] <takkaria>
:)

[12:02:00.0000] <takkaria>
I've just been in groups of various sorts before where one of the first things people have talked about is getting a good logo

[12:02:01.0000] <takkaria>
I mean really, what kind of cabal needs a logo?  it goes against the grain

[12:05:00.0000] <Philip`>
A cabal with a wiki with a logo like http://html4all.org/wiki/skins/common/images/wiki.png needs one

[12:07:00.0000] <kingryan>
a cabal needs a secret handshake before a logo

[12:09:00.0000] <Philip`>
What's up with http://html4all.org/wiki/index.php?title=MediaWiki:Common.css&action=raw&ctype=text/css&smaxage=18000 ? That doesn't really look like sensible CSS

[12:09:01.0000] <annevk>
/me needs history.pushState()

[12:09:02.0000] <annevk>
bookmarks like http://anne.is.weggeweest.nl/image-viewer#2006,madrid-waf,1 are dubious

[12:19:00.0000] <Hixie>
sweet, they actually are going to try to fix the bugs i reported, in jaws9

[12:20:00.0000] <annevk>
nice

[12:29:00.0000] <Hixie>
people need to stop seeing statements of fact and assuming that i forgot to make them requiremenets

[12:31:00.0000] <annevk>
that would probably require pointers to the place where the requirement is made

[12:31:01.0000] <Philip`>
People should assume you never make mistakes and trust that everything is perfect without needing to ask questions? :-)

[12:32:00.0000] <Hixie>
yes! :-P

[12:33:00.0000] <Dashiva>
Philip`: Not much point in being sinister overlord of the cabal otherwise, is there?

[12:33:01.0000] <kingryan>
Hixie: I think you need to be more sinister in order to get people to stop asking questions. ;)

[12:37:00.0000] <Hixie>
annevk: ping

[12:42:00.0000] <annevk>
Hixie, pong

[12:43:00.0000] <Hixie>
hey

[12:43:01.0000] <Hixie>
so i'm looking at xhr2

[12:43:02.0000] <Hixie>
regarding the constructor

[12:44:00.0000] <Hixie>
would it make snese to have  var x = new XMLHttpRequest(url, method, data, onreadystatechange); ?

[12:45:00.0000] <annevk>
sounds interesting

[13:02:00.0000] <virtuelv_>
Hixie: I'd like to see that as well

[13:05:00.0000] <annevk>
would you still be able to do var x = new XHR(...); x.onload = ...; as in, would the request be done after the current script block is executed?

[13:08:00.0000] <jgraham>
Am I right in thinking that screenreaders don't read display:none content?

[13:08:01.0000] <billmason>
That is correct.

[13:09:00.0000] <virtuelv_>
annevk: possibly?

[13:09:01.0000] <jgraham>
Thanks

[13:10:00.0000] <virtuelv_>
I'd still like to be able to actually specify and send it in one operation

[13:10:01.0000] <annevk>
virtuelv_, I believe that's the case with img.src = ...; img.onload = ...; for instance...

[13:10:02.0000] <annevk>
although not necessarily so in all implementations...

[13:10:03.0000] <annevk>
well yeah, Hixie's constructor allows that already

[13:12:00.0000] <Dashiva>
It looks quite a similar to the one I suggested, so I'm all for it

[13:15:00.0000] <takkaria>
6

[13:15:01.0000] <takkaria>
er, sorry, cat on keyboard

[13:17:00.0000] <Hixie>
annevk: well, that's why i included the handler in the constructor

[13:18:00.0000] <hsivonen>
annevk: extension fixed in my local copy

[13:18:01.0000] <hsivonen>
Lachy: stderr fixed in my local copy

[13:19:00.0000] <hsivonen>
Lachy: what are the implications of Access-Control? 

[13:19:01.0000] <hsivonen>
Lachy: should I allow XHR only to XML and JSON?

[13:20:00.0000] <hsivonen>
hmm. RFC 2616 tells me I MUST NOT silently follow redirects on POST

[13:20:01.0000] <hsivonen>
should I care?

[13:20:02.0000] <annevk>
/me wonders what the scenario is

[13:21:00.0000] <hsivonen>
annevk: the html5check.py script

[13:22:00.0000] <hsivonen>
annevk: if html5.validator.nu stops being the preferred location of the service

[13:22:01.0000] <annevk>
ah, I see

[13:23:00.0000] <annevk>
you probably should, so they don't send their data to some weird place instead if html5.validator.nu is hijacked

[13:23:01.0000] <hsivonen>
ok

[13:23:02.0000] <hsivonen>
(or on a bad WLAN setup)

[13:24:00.0000] <annevk>
actually, if html5.validator.nu is hijacked they're screwed anyway

[13:24:01.0000] <hsivonen>
yes

[13:29:00.0000] <annevk>
prolly most practical is just to distribute a new script and give some sort of stable link where they can find updates for the script

[13:57:00.0000] <hsivonen>
http://about.validator.nu/html5check.py now does redirects but the code is ugly

[13:59:00.0000] <annevk>
shouldn't it handle 303 and 307 too?

[13:59:01.0000] <Hixie>
if anyone wants to reply to http://html4all.org/pipermail/list_html4all.org/2007-September/000198.html (also at http://lists.w3.org/Archives/Public/www-archive/2007Sep/0014.html) then feel free to, i can't see what else i can say to explain why his approach isn't going to have the best accessibility impact.

[14:00:00.0000] <kingryan>
Hixie: I don't see what more could be said.

[14:00:01.0000] <Hixie>
jgraham: http://james.html5.org/cgi-bin/tables/table_inspector.py?uri=http%3A%2F%2Fgoogle.com%2F&algorithm=experimental&scope=1&headers=1&b_headings=1&strong_headings=1 crashes

[14:01:00.0000] <Hixie>
kingryan: yeah me either, and my replying is taking time away from editing the spec

[14:01:01.0000] <kingryan>
Hixie: yeah, it's time to give up

[14:02:00.0000] <hsivonen>
annevk: 303, no

[14:02:01.0000] <annevk>
Hixie, he does seem to claim that some alt= text (even really bad alt text) is better than none

[14:03:00.0000] <annevk>
I'm not sure what that's based on, but then I'm not sure what the current text in the HTML5 spec is based on either

[14:03:01.0000] <hsivonen>
annevk: added 307

[14:03:02.0000] <Hixie>
he seemes to be suggesting that duplicating content elsewhere on the page is good alt text, which seems clearly untrue to me

[14:03:03.0000] <kingryan>
Hixie: here's the part that gets me: "...but making it too easy to invoke the exception dilutes the rule. ".  As if stronger rules are more likely to be followed, just because they're stronger, more stringent.

[14:03:04.0000] <kingryan>
its a very legalistic view of conformance

[14:03:05.0000] <Hixie>
kingryan: yeah, i didn't understand that either

[14:04:00.0000] <hsivonen>
kingryan: many people have a legalistic view of conformance

[14:04:01.0000] <kingryan>
to follow his analogy, some people just won't wear seatbelts, no matter how strong the laws

[14:04:02.0000] <hober>
I liked the part about free beer.

[14:04:03.0000] <kingryan>
hsivonen: I agree. Unfortunately that's counter productive.

[14:05:00.0000] <Dashiva>
I want free candy instead

[14:05:01.0000] <Dashiva>
Stop the beer monopoly on analogies

[14:05:02.0000] <kingryan>
I don't remember when, but I at one point, finally, came to realize that conformance is just like lint-checking.

[14:05:03.0000] <annevk>
/me missed the free beer

[14:05:04.0000] <kingryan>
it's just a tool for building better tools

[14:07:00.0000] <hsivonen>
kingryan: validator.nu is two-point-ohey in a participatory way: it lets you load in your own rules (if they are describable as RNG or Schematron) and it lets you turn off any Java-based checker

[14:08:00.0000] <kingryan>
hsivonen: that's nice

[14:08:01.0000] <kingryan>
ironically, /me just finished porting html5lib's python validator to ruby

[14:08:02.0000] <hsivonen>
does html5lib now have a validator? what does it do?

[14:09:00.0000] <kingryan>
yes, markp wrote it: http://html5lib.googlecode.com/svn/trunk/python/src/html5lib/filters/validator.py

[14:09:01.0000] <annevk>
it checks content models

[14:09:02.0000] <annevk>
maybe more

[14:09:03.0000] <kingryan>
tags, attributes (required and forbidden), attribute formats

[14:10:00.0000] <kingryan>
by tags I mean allowed and forbidden elements

[14:10:01.0000] <kingryan>
enumerated attribute values

[14:11:00.0000] <hsivonen>
hmm. that looks more compact than the RNC schema

[14:12:00.0000] <kingryan>
lunchtime, bbiab

[14:13:00.0000] <Hixie>
at some point i'll need to write a validator

[14:16:00.0000] <hsivonen>
Hixie: why?

[14:16:01.0000] <Hixie>
i want to try an approach that doesn't use data tables

[14:17:00.0000] <Hixie>
and see if it is better or worse than the more common approach of data tables with exceptions

[14:28:00.0000] <jgraham>
Hixie: Thanks for the bug report. That's what I get for accidentally rolling untested changes into updates :)

[14:42:00.0000] <jgraham>
Hixie: Crash is fixed

[14:42:01.0000] <jgraham>
/me needs to check if the <td><b> stuff actually works

[14:53:00.0000] <zcorpan>
anyone have jero (ph5p) 's email address?

[14:55:00.0000] <annevk>
/me posted about the table inspector

[14:56:00.0000] <annevk>
http://jero.net/contact

[14:56:01.0000] <annevk>
oh, nm

[14:57:00.0000] <zcorpan>
or anyone know how to use ph5p?

[14:58:00.0000] <Dashiva>
ph5p?

[14:58:01.0000] <zcorpan>
http://jero.net/lab/ph5p/

[15:02:00.0000] <kingryan>
Hixie: i'm a validator n00b, what other approaches are there besides data tables?

[15:34:00.0000] <Philip`>
/me tries reporting quite a few Opera canvas bugs, and apologises for any that are dupes

[15:37:00.0000] <Dashiva>
Philip`: Maybe you should run it through zcorpan or annevk?

[15:37:01.0000] <Dashiva>
I'm going to bed, so can't help right now :)

[15:37:02.0000] <zcorpan>
don't worry about reporting dups :)

[15:37:03.0000] <zcorpan>
better safe than sorry :)

[15:38:00.0000] <Dashiva>
Poor first-line QA, nobody thinks about their feelings

[15:39:00.0000] <zcorpan>
/me does some of that

[15:39:01.0000] <Philip`>
I hope it doesn't matter that most of my "Describe in 3 steps or more how to reproduce this bug" only have two steps

[15:39:02.0000] <zcorpan>
no

[15:39:03.0000] <Dashiva>
That's pure filler

[15:40:00.0000] <zcorpan>
1. Look at TC

[15:40:01.0000] <zcorpan>
2. See the bug!!11

[15:40:02.0000] <zcorpan>
:)

[15:40:03.0000] <Dashiva>
I have at least one bug with description "Words fail me, see testcase"

[15:41:00.0000] <Philip`>
Bah, I only got consecutive bug numbers once :-(

[15:41:01.0000] <zcorpan>
Philip`: hmm?

[15:42:00.0000] <Philip`>
I got 282997 and 282998, but the next was 283001 and none of the subsequent ones were consecutive numbers

[15:48:00.0000] <zcorpan>
aha

[15:49:00.0000] <zcorpan>
you're not fast enough ;)

[16:00:00.0000] <Philip`>
/me needs to get back to implementing canvas shadows in Mozilla, so he can be more justified in complaining that Opera doesn't support them when every other browser does

[16:02:00.0000] <zcorpan>
:)

[16:18:00.0000] <zcorpan>
smart colspan seems to work pretty well

[16:18:01.0000] <zcorpan>
jgraham: you think it would be possible to implement the same algorithm for both directions?

[16:20:00.0000] <zcorpan>
i think we had another idea also... that headers in <thead> imply scope="col" so that they apply to the entire table regardless of other cells

[16:20:01.0000] <zcorpan>
because you can have scrollable tbody or repeat the thead on each page when printed, it only makes sense that they should apply to the whole table

[16:35:00.0000] <webben>
IIRC you can have more than one thead per table.

[16:36:00.0000] <webben>
zcorpan: e.g. http://www.w3.org/TR/html401/struct/tables.html#h-11.2.3: "When present, each THEAD, TFOOT, and TBODY contains a row group."

[16:37:00.0000] <webben>
hmm, actually maybe that's not what that means

[16:37:01.0000] <webben>
no looking at the DTD it can't mean that, nm :)

[16:42:00.0000] <zcorpan>
webben: only one thead is allowed :)

[16:42:01.0000] <webben>
yep

[16:43:00.0000] <webben>
zcorpan: how would one undo scope-="col" in that situation?

[16:43:01.0000] <webben>
zcorpan: for example if you had a column th of Country ... but then grouped countries in continental rowgroups

[16:44:00.0000] <webben>
Country wouldn't be the header for "Europe"

[16:45:00.0000] <webben>
but you'd still want the header at the top of each page

[16:50:00.0000] <zcorpan>
webben: i don't quite follow

[16:50:01.0000] <zcorpan>
why would you place headers in <thead> if you don't want them to apply to the whole table?

[16:52:00.0000] <webben>
zcorpan: Because they apply to the whole table does not mean they apply to every cell.

[16:53:00.0000] <zcorpan>
webben: could you create such a sample table, please?


2007-09-07
[17:07:00.0000] <webben>
zcorpan: something like http://pastebin.com/mc5b47f9 only longer

[17:13:00.0000] <Hixie>
kingryan: pure code

[17:14:00.0000] <Hixie>
kingryan: e.g. you have one class per element type, and you create a DOM tree using those classes, then you just interogate the root "are you valid", and the root asks its kids the same question, after having checked them for validity according to the rules for that type of node, etc

[17:14:01.0000] <kingryan>
so, instead of having a table that says "for element a, forbid these attributes", you'd have code that gets run when encountering element a that checks for the attribute?

[17:14:02.0000] <kingryan>
ah, ok

[17:58:00.0000] <Hixie>
gah, i replied again

[18:05:00.0000] <kingryan>
anything but a reply!

[20:04:00.0000] <annevk>
/me reads www-archive

[20:30:00.0000] <Hixie>
hm, john boyer left the htmlwg

[20:32:00.0000] <othermaciej>
Hixie: your new proposal is sounding better

[20:32:01.0000] <Hixie>
great!

[20:32:02.0000] <othermaciej>
Hixie: but it's hard to think through all of the implications

[20:33:00.0000] <othermaciej>
Hixie: will have to read it and send comments

[20:33:01.0000] <Hixie>
k

[20:34:00.0000] <othermaciej>
Hixie: Gears does handle a few details that aren't in this, like handling <input type="file"> when offline

[20:34:01.0000] <Hixie>
yeah the plan is to do that by just providing an API on HTMLInputFile that exposes the file data

[20:35:00.0000] <othermaciej>
that's definitely good for relatively small files

[20:35:01.0000] <othermaciej>
probably not as good for large uploads

[20:35:02.0000] <othermaciej>
in Safari at least, we stream the file straight from disk in the middle of the form data when uploading, which is pretty much necessary to handle large files sanely

[20:36:00.0000] <Hixie>
true

[20:36:01.0000] <othermaciej>
you'd also need some control to dump the data back into (maybe the file input API can also offer API to set data in the same format that it allows get)

[20:36:02.0000] <Hixie>
but the gears API isn't much better than HTMLInputElement being done, as far as i can tell

[20:37:00.0000] <othermaciej>
I don't remember how it works

[20:37:01.0000] <annevk>
othermaciej, you can just post using XHR

[20:37:02.0000] <othermaciej>
it might not be any better

[20:37:03.0000] <Hixie>
well you can send your data using any backend sync system you do

[20:37:04.0000] <Hixie>
doesn't have to be a real form

[20:37:05.0000] <othermaciej>
that's true

[20:39:00.0000] <othermaciej>
I guess this doesn't need to tie all that closely into the offline cache

[20:40:00.0000] <Hixie>
yeah, i feel better about keeping them orthogonal

[20:42:00.0000] <annevk>
Hixie, should template= and ref be "super" global?

[20:43:00.0000] <Hixie>
yeah they probably will be

[20:43:01.0000] <Hixie>
bbl afk

[21:13:00.0000] <MikeSmith>
Hixie - do you of any existing browser support for inputmode?

[01:41:00.0000] <zcorpan>
webben: that's an interesting table. so you want Country to apply to all cells in the column but EUROPE and ASIA?

[03:31:00.0000] <hsivonen>
if Opera has supported media queries since version 7, why isn't the query in validator.nu's style sheet applying in Opera 8.5 (S60r3.1)? (it is in 9.2 on desktop and in Mini 4 beta)

[03:43:00.0000] <peepo>
oops

[05:02:00.0000] <annevk>
zcorpan, isn't scope=col already implied?

[05:03:00.0000] <annevk>
it already works for my tables for instance... (which don't have scope=col)

[05:20:00.0000] <zcorpan>
annevk: not with the smart colspan algorithm if you have headers lower down with the same colspan as the one in thead

[05:23:00.0000] <annevk>
hmm, I thought leading spaces were not allowed currently for integer values (such as tabindex=)?

[05:24:00.0000] <annevk>
/me looks through the validator tests

[05:24:01.0000] <annevk>
is looking through*, even

[05:25:00.0000] <zcorpan>
"A string is a valid integer if it consists of one of more characters in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), optionally prefixed with a U+002D HYPHEN-MINUS ("-") character."

[05:25:01.0000] <annevk>
indeed

[05:30:00.0000] <hsivonen>
can anyone suggest a collective term for errors that caused validation to end up in an indeterminate state due to problems outside the checked document (validator bugs, IO failures, unusable schemas)?

[05:31:00.0000] <zcorpan>
"internal error"?

[05:31:01.0000] <zcorpan>
or well, doesn't have to be internal

[05:31:02.0000] <hsivonen>
zcorpan: I considered that, but a bogus outside schema isn't exactly internal

[05:31:03.0000] <hsivonen>
zcorpan: neither is outside server failure

[05:32:00.0000] <zcorpan>
indeed

[05:32:01.0000] <annevk>
can't you distinguish between them?

[05:33:00.0000] <hsivonen>
annevk: I'm tring to come up with a forward-compatible format that has a two-level taxonomy of messages

[05:33:01.0000] <hsivonen>
annevk: with the assumption that the higher level doesn't need to change but the detailed level can change without breaking clients

[05:34:00.0000] <hsivonen>
so that I'd have "informative", "document error" and "not-document error" as the frozen high level

[05:35:00.0000] <hsivonen>
and I could introduce a new error type as a subtype with legacy clients still able to figure out the rough category of the new error

[05:36:00.0000] <hsivonen>
the semantics being: no document nor non-document errors: valid

[05:36:01.0000] <hsivonen>
no non-document errors but one or more document errors: invalid

[05:37:00.0000] <hsivonen>
one or more non-document errors: indeterminate

[05:38:00.0000] <hsivonen>
does that make sense or am on the side of astronautics?

[05:38:01.0000] <zcorpan>
makes sense

[05:39:00.0000] <zcorpan>
"non-document" seems like a good term also

[05:39:01.0000] <annevk>
it would be useful to know though if my schema is bogus for instance

[05:48:00.0000] <annevk>
is the person who did <event-source> for WebKit around?

[05:49:00.0000] <hsivonen>
annevk: that would be <non-document type='schema'>

[05:49:01.0000] <annevk>
there's http://tc.labs.opera.com/html/event-source/ and http://tc.labs.opera.com/html/parsing/event-source/

[05:51:00.0000] <hsivonen>
basically, I want to do a native XML format and a native JSON format in a forward-compatible way and say that I reserve the right to break HTML/XHTML/text scraping at whim without notice

[06:19:00.0000] <Philip`>
annevk: That was G0k, I think

[06:21:00.0000] <annevk>
ah ok, I'll guess I'll ping him when he's around

[08:09:00.0000] <hsivonen>
in the XML output format, a message may have these optional subitems: short message (may contain XHTML <code> and <a>), long advice (may contain rich XHTML narrative) and extract from the source

[08:09:01.0000] <hsivonen>
what kind of markup would people on this channel prefer?

[08:11:00.0000] <hsivonen>
explicit: <error><message>Blah <h:code>div</h:code></message><elaboration><h:p>BlahBlah</h:p><h:p>BlahBlah</h:p></elaboration><source>&lt;div&gt;</source></error>

[08:11:01.0000] <hsivonen>
or something less verbose with implied relationships?

[08:12:00.0000] <hsivonen>
e.g. merging message and elaboration and stating that the first para is the main message

[08:12:01.0000] <zcorpan>
using a heading for the message, perhaps?

[08:12:02.0000] <hsivonen>
interesting

[08:13:00.0000] <zcorpan>
<error><h:h1>Blah <h:code>div</h:code></h:h1><h:p>Blah...

[08:13:01.0000] <hsivonen>
my initial though is that they'd be non-heading-like in content

[08:13:02.0000] <hsivonen>
basically, the message part is what you see now

[08:13:03.0000] <hsivonen>
and elaboration is going to be a new feature

[08:14:00.0000] <hsivonen>
I'm thinking of leveraging the liberal WHATWG copyright license and dumping extracts from the spec

[08:15:00.0000] <zcorpan>
<details>? :)

[08:15:01.0000] <hsivonen>
zcorpan: that could be a good idea for the (X)HTML output

[08:17:00.0000] <zcorpan>
having <message><elaboration><source> in the xml format seems good for me, i'm just brainstorming :)

[08:18:00.0000] <hsivonen>
zcorpan: ok. :-)

[08:19:00.0000] <hsivonen>
speaking of <details>

[08:19:01.0000] <hsivonen>
has safe is it in current browsers and are there forward-compatible open-source canned scripted emulation packages?

[08:19:02.0000] <hsivonen>
s/has/how/

[08:26:00.0000] <hsivonen>
I wonder if I should add redundant data as a precomputed success/failure/indeterminate verdict even though the client could compute the verdict from the messages

[08:32:00.0000] <zcorpan>
iirc <legend> is dropped in some browsers

[08:33:00.0000] <zcorpan>
haven't seen any scripts to emulate <details> that uses <details>

[08:34:00.0000] <zcorpan>
thinking about it, reusing <fieldset> might have a better compat story

[08:34:01.0000] <zcorpan>
but might confuse some ATs

[09:53:00.0000] <annevk>
Lachy, you would set up a redirect for http://blog.whatwg.org/faq (try it again here as there's less traffic)

[09:54:00.0000] <Lachy>
annevk, remind me on Sunday

[11:59:00.0000] <kingryan>
has anyone seen markp around?

[12:16:00.0000] <gsnedders>
kingryan: you ever have any issues with standalone in the XML declaration with feeds?

[12:17:00.0000] <kingryan>
hi gsnedders 

[12:17:01.0000] <kingryan>
I'm not sure what you're asking

[12:17:02.0000] <gsnedders>
like <?xml version="1.0" standalone='yes'?>

[12:17:03.0000] <gsnedders>
and the fact that standalone=yes

[12:17:04.0000] <kingryan>
no, not really

[12:17:05.0000] <kingryan>
not sure I've ever seen that in a feed

[12:18:00.0000] <gsnedders>
/me looks up the bug report he got

[12:18:01.0000] <gsnedders>
/me shrugs

[12:18:02.0000] <gsnedders>
seems to be fixed in the feed

[12:19:00.0000] <gsnedders>
probably no need to set standalone=no in everything

[12:19:01.0000] <gsnedders>
(I await for XMLists to go mad at me for even suggesting that)

[12:30:00.0000] <kingryan>
/me doesn't even know what standalone is for

[12:32:00.0000] <gsnedders>
kingryan: http://www.w3.org/TR/xml/#sec-rmd

[12:41:00.0000] <kingryan>
thanks gsnedders. I'm still not sure I understand it, but I think that might be ok

[12:42:00.0000] <gsnedders>
kingryan: read the validity constraint, that basically summarises it

[14:23:00.0000] <Hixie>
don't forget to fill out http://www.w3.org/2002/09/wbs/35125/TPAC2007/registrants#html if you're going to the f2f btw

[15:02:00.0000] <a-ja>
anyone familiar with current state of browser support for figure element?

[15:03:00.0000] <zcorpan>
no support anywhere yet afaik (although it degrades pretty well)

[15:04:00.0000] <a-ja>
fairly...with a bit of css lovin

[15:04:01.0000] <a-ja>
actually, looks like opera kestral gets it right,,,,,or mostly

[15:06:00.0000] <annevk>
the draconian answer is that if you use XHTML5 it will work quite good (given that you add stuff like display:block)

[15:07:00.0000] <a-ja>
isntf figure supposed to be block (like a <p>) ? and a legend within a figure should be inline?

[15:08:00.0000] <annevk>
yeah, but it's not natively supported yet and the initial value of the display property is inline

[15:09:00.0000] <annevk>
not sure about <legend> in <img>, I would expect the typical presentation to be block level I think, so that it appears under the image

[15:09:01.0000] <zcorpan>
seems <legend> creates an empty element in kestrel that is display:block... pretty much like <br>

[15:09:02.0000] <zcorpan>
(unless it's in a <fieldset> that is)

[15:10:00.0000] <annevk>
<legend> parsing is kind of buggy everywhere...

[15:10:01.0000] <zcorpan>
indeed

[15:11:00.0000] <a-ja>
certainly is in ff....legend content ends up as figure's content in dom (and no legend in dom)

[15:14:00.0000] <a-ja>
from you're comment re: <img>.....are you implying that <img></img> allowing fallback is in html5, rather than <img/> 's alt  ?

[15:17:00.0000] <a-ja>
this is what i've been looking at, fwiw: <figure><img alt="fallback text"/><legend>caption text</legend></figure>

[15:18:00.0000] <annevk>
what comment regarding <img> are you referring to?

[15:19:00.0000] <a-ja>
<annevk> not sure about <legend> in <img> .....

[15:19:01.0000] <annevk>
oh, meant <legend> in <figure>

[15:19:02.0000] <a-ja>
ah

[15:19:03.0000] <annevk>
my bad

[15:20:00.0000] <a-ja>
np...you just saved me some re-reading :)

[15:22:00.0000] <zcorpan>
hmm. opera doesn't support display:table-caption on <legend>s

[15:25:00.0000] <a-ja>
seeing some text-shadow and box-shadow oddities in kestrel, too, btw.  

[15:26:00.0000] <a-ja>
haven't come up with a simplified test case yet though

[15:27:00.0000] <a-ja>
/me will when he gets some more free time

[15:27:01.0000] <annevk>
box-shadow?

[15:27:02.0000] <a-ja>
um....just text-shadow, actually

[15:27:03.0000] <annevk>
too bad :)

[15:28:00.0000] <zcorpan>
box-shadow would be nice :)

[15:29:00.0000] <a-ja>
kinda mostly works on safari beta (win).....a little shaky with border-radius

[15:34:00.0000] <zcorpan>
yeah, the new border stuff creates a lot of edge cases

[15:35:00.0000] <Philip`>
Was that meant to be a pun? :-p

[15:35:01.0000] <a-ja>
w/ border bg images, too, still? <haven't tried lately)

[15:35:02.0000] <a-ja>
heh

[15:36:00.0000] <a-ja>
/me groans

[15:38:00.0000] <a-ja>
well....tks for the info, folks.....later

[15:38:01.0000] <a-ja>
keep up the good work!

[15:39:00.0000] <zcorpan>
Philip`: it wasn't :)


2007-09-08
[17:57:00.0000] <Philip`>
http://html4all.org/pipermail/list_html4all.org/2007-September/000232.html - "How on earth can Wikis work if all and sundry can change what the previous author has written ?!"

[17:57:01.0000] <Philip`>
I'd have to agree that, in theory, wikis simply cannot work - the fact that they do work is almost enough to restore one's faith in humanity

[17:58:00.0000] <Philip`>
(Well, at least until they get flooded with wikispam, and then you return to a more realistic view of the world)

[01:20:00.0000] <Foone2>
hello. I found this in the wikipedia entry on future firefox versions: "More API's implemented from WHATWG specs, such as the ability to read files from file selection fields without the need to upload"

[01:20:01.0000] <Foone2>
looking at the WHATWG specs I can't find anything related to that though. could someone point me in the right direction?

[02:58:00.0000] <annevk>
Foone2, not yet specified

[02:58:01.0000] <Foone2>
oh. So what's firefox implementing from?

[03:03:00.0000] <annevk>
an idea

[03:04:00.0000] <Foone2>
well, has anyone written anything down about this idea then?

[03:05:00.0000] <annevk>
yeah, there's a bug report with them

[03:06:00.0000] <annevk>
it's mostly sketched

[03:07:00.0000] <annevk>
basically, you get an "input" / "change" event and then a new member becomes non-null if the user has selected any files

[03:07:01.0000] <annevk>
which exposes a list of selected files

[03:30:00.0000] <gsnedders>
/me sighs

[03:31:00.0000] <gsnedders>
/me can't ship the HTML 5 content type sniffing, as so many feeds are served as text/plain

[03:33:00.0000] <zcorpan>
gsnedders: are (m)any of those "text/plain; charset=X" where X is something other than "iso-8859-1" or "ISO-8859-1"?

[03:33:01.0000] <gsnedders>
zcorpan: I haven't yet looked at the specifics

[03:34:00.0000] <zcorpan>
/me is hoping that it will be possible to limit the sniffing so that "text/html; charset=utf-8" and "text/plain; charset=utf-8" are never sniffed

[03:34:01.0000] <gsnedders>
even those are only sniffed to see if they are text/plain or binary data

[03:35:00.0000] <zcorpan>
gsnedders: yeah, i know

[03:35:01.0000] <zcorpan>
but all text/html are sniffed for feeds

[03:40:00.0000] <gsnedders>
/me wonders whether to just ship it, and possibly pull it at a later date if we get too many bug reports

[03:41:00.0000] <annevk>
how many of these feeds are discovered using autodiscovery?

[03:42:00.0000] <gsnedders>
annevk: I don't have that many stats readily available

[03:42:01.0000] <gsnedders>
http://macnn.com/podcasts/macnn.rss — there's the first failure I've found just going through the demo feeds

[03:43:00.0000] <gsnedders>
served as "text/plain"

[03:44:00.0000] <gsnedders>
http://web.mac.com/turboderek/iPhoto/top-rides/index.rss — "application/octect-stream" (yuk)

[03:45:00.0000] <gsnedders>
/me wonders how to sniff application/octect-stream

[03:46:00.0000] <gsnedders>
http://youtube.com/rss/global/top_favorites.rss — text/plain

[04:04:00.0000] <annevk>
http://www.html5.jp/trans/whatwg_html5faq.html (translation in JP)

[04:12:00.0000] <MikeSmith>
annevk - can you please check and see if you can get to http://sideshowbarker.net ?

[04:12:01.0000] <MikeSmith>
/me is at the Kuala Lumpur airport and having some problems with DNS on the wireless LAN here

[04:13:00.0000] <zcorpan>
MikeSmith: doesn't seem to load for me

[04:15:00.0000] <MikeSmith>
zcorpan - OK, that's what I was afraid of

[04:15:01.0000] <MikeSmith>
thanks for checking

[04:16:00.0000] <annevk>
nope :(

[04:18:00.0000] <MikeSmith>
annevk - k

[04:20:00.0000] <MikeSmith>
unfortunately that host also runs my mail server too, and because of DNS problems here, I can't even get to the admin shell to restart it

[04:21:00.0000] <MikeSmith>
anyway, very little I can do about it now, and have to catch a plane in 20 minutes

[04:24:00.0000] <annevk>
you're complaining about not getting to your e-mail? that's weird, seems like a luxury to me :)

[04:28:00.0000] <MikeSmith>
yeah, guess I should appreciate the break

[04:30:00.0000] <zcorpan>
don't miss the plane :)

[04:34:00.0000] <MikeSmith>
hey, I've been wondering if anybody is aware of support for the inputmode attribute in any browsers (mobile or desktop or otherwise)

[04:35:00.0000] <MikeSmith>
I know Opera Mobile doesn't yet support it

[04:35:01.0000] <MikeSmith>
neither do the released versions of Openwave V6 or V7

[04:35:02.0000] <MikeSmith>
though I'm told Openwave v7.2 does

[04:36:00.0000] <MikeSmith>
I'm thinking it is probably supported in Access NetFront but have not been able to try it yet

[04:37:00.0000] <MikeSmith>
there's a test case here:

[04:40:00.0000] <MikeSmith>
http://testfest.openmobilealliance.org/xHTML_3c/Input_Modes/TextInputModeDigits.xhtml

[04:41:00.0000] <MikeSmith>
but, um, though it's being server up with an XML/XHTML MIME type, it has the wrong doctype and is also missing the XHTML namespace

[04:42:00.0000] <MikeSmith>
so sort of makes it problematic to test with

[04:42:01.0000] <MikeSmith>
I do notice though that the Openwave browser displays it in spite of it brokenness

[04:43:00.0000] <MikeSmith>
which would seem to confirm that it's just using its HTML parser and ignoring the mime type

[04:44:00.0000] <MikeSmith>
anyway, gotta go

[06:04:00.0000] <annevk>
Firefox support for getElementsByClassName() seems also quite buggy: http://tc.labs.opera.com/apis/getElementsByClassName/

[06:04:01.0000] <annevk>
Although I think most problems are related to the fact that they don't look for classes on the HTMLHtmlElement

[06:05:00.0000] <annevk>
(and for some reason <g:x> (with g bound to the SVG namespace) doesn't seem to implement SVGElement and therefore class="" doesn't seem to be supported there either)

[06:10:00.0000] <Dashiva>
We're still failing badly too, I see

[06:11:00.0000] <annevk>
oh, yes

[06:11:01.0000] <annevk>
alpha alpha alpha :p

[06:13:00.0000] <annevk>
Oh, another problem is that \f is not seen as whitespace in Firefox iirc

[06:17:00.0000] <om_sleep>
we have a getElementsByClassName patch for WebKit as well

[06:18:00.0000] <othermaciej>
not yet landed

[06:18:01.0000] <othermaciej>
I added a link to the test cases

[06:18:02.0000] <othermaciej>
http://bugs.webkit.org/show_bug.cgi?id=14955

[06:19:00.0000] <annevk>
cool

[06:24:00.0000] <annevk>
seems your impl doesn't consider \f either

[06:25:00.0000] <annevk>
/me wonders why HTML5 has \f as whitespace char

[06:26:00.0000] <othermaciej>
well, it's not even code reviewed yet. I'm not sure why \f needs to be treated as whitespace in the string parameter though

[06:26:01.0000] <othermaciej>
I'm not sure why it's necessary to consider anything but space, really

[06:26:02.0000] <othermaciej>
it's not like people randomly put form feeds in their scripts

[06:28:00.0000] <annevk>
i guess it's for consistency

[06:28:01.0000] <annevk>
and it probably works better if you do ele.getElementsByClassName(ele.className)

[06:29:00.0000] <othermaciej>
fair enough

[06:35:00.0000] <hsivonen>
http://james.html5.org/cgi-bin/tables/table_inspector.py?uri=http%3A%2F%2Fhsivonen.iki.fi%2Fthesis%2Fhtml5-conformance-checker.html&algorithm=html5

[06:35:01.0000] <hsivonen>
the abstract cell is associated with the author label

[06:35:02.0000] <hsivonen>
I wonder if there's a way to implicitly disassociate

[06:36:00.0000] <hsivonen>
/me tries other modes

[06:36:01.0000] <hsivonen>
Smart Colspan is worse

[06:37:00.0000] <annevk>
/me wonders if <table> is appropriate for that data

[06:38:00.0000] <hsivonen>
annevk: clearly, it is at least appropriate for everything but the abstract

[06:38:01.0000] <annevk>
the HTML4 algorithm is a lot worse btw

[06:39:00.0000] <hsivonen>
annevk: and since there's a row below the abstract, it needs to be one table for the columns to be held together

[06:39:01.0000] <hsivonen>
annevk: besides, the LaTeX and Word templates use tables, so it would be silly to have to do something more complex in HTML

[06:40:00.0000] <hsivonen>
however, one could argue that I should have headers='' on the abstract cell

[06:41:00.0000] <annevk>
it's not clear whether headers= is authorative or augmentative

[06:41:01.0000] <hsivonen>
also, one might argue that for this case, the HTML5 algorithm is Good Enough and it is obvious to anyone that Author is not the right header for the abstract if you start listening the abstract

[06:42:00.0000] <annevk>
Why doesn't the abstract simply have a <th> as well? (this is the wrong question to ask, but I'm curious)

[06:43:00.0000] <hsivonen>
annevk: because it wouldn't produce the exact layout required

[06:43:01.0000] <hsivonen>
annevk: most of the layout carefully emulates a known-good traditional LaTeX template

[06:44:00.0000] <hsivonen>
(see comments in the CSS file)

[06:48:00.0000] <annevk>
maybe smart colspan should only look at headers which span as much or more headers than the cell they might apply to

[06:48:01.0000] <annevk>
s/headers than the cell/cells than the data cell/

[06:51:00.0000] <annevk>
smartcolspan doesn't look to the left otherwise it seems the same as HTML4

[06:51:01.0000] <annevk>
there also seems to be a problem with the second table

[06:51:02.0000] <annevk>
but maybe the tool only handles one table correctly

[06:55:00.0000] <hsivonen>
annevk: the second table has the exact sama structure

[06:55:01.0000] <hsivonen>
if a cell spans a column that doesn't have a header cell above the current cell, then the current cell has no column header at all

[06:56:00.0000] <hsivonen>
analogously for rows

[06:56:01.0000] <hsivonen>
I wonder if applying that rule would break anything

[07:00:00.0000] <annevk>
shouldn't you look further up as well?

[07:26:00.0000] <hsivonen>
annevk: above as in anywhere above

[07:26:01.0000] <hsivonen>
annevk: I didn't mean only immediately above

[07:44:00.0000] <hsivonen>
"currently I am writing from a mobile phone and for mobile devices the alt-attribute is more than essential." Huh?

[07:45:00.0000] <Ducki>
OK!

[07:45:01.0000] <takkaria>
if you want to save being charged ridiculous money, then I guess it is

[07:45:02.0000] <webben>
hsivonen: I imagine to speed up web access people will often disable images.

[07:46:00.0000] <webben>
takkaria: It's not just money, it's also speed. Mobile access is kinda slow.

[07:46:01.0000] <takkaria>
true enough

[07:46:02.0000] <hsivonen>
/me has a flatrate data plan

[07:46:03.0000] <doublec>
i disable images usually when browsing from a phone

[07:47:00.0000] <doublec>
no flatrate data plans in nz :(

[07:47:01.0000] <hsivonen>
today, I could get a mobile 1M downlink for less money than I pay for an ADLS 1M downlink

[07:48:00.0000] <doublec>
nice

[07:48:01.0000] <hsivonen>
I used to disable images occasionally, though, back when I had a traffic quota for GPRS

[07:48:02.0000] <hsivonen>
but back then I wouldn't have described alt as more than essential

[07:51:00.0000] <hsivonen>
competition and laws that guarantee unlocked carrier-neutral phones are good

[07:52:00.0000] <webben>
hsivonen: Maybe that simply reflects different browsing patterns between you and the author of the quote. (i.e. maybe the sites you were browsing didn't use images for anything important, or maybe they use alt so that you wouldn't necessarily notice)

[07:53:00.0000] <takkaria>
hsivonen: wish UK had those :(

[07:54:00.0000] <hsivonen>
webben: for me, when browsing using a mobile, the most essential image use case is maps (which don't have reasonable alts)

[07:54:01.0000] <hsivonen>
webben: textual directions are typically provided in page content

[07:59:00.0000] <Philip`>
/me wonders if Hixie has any data about <script language> values

[10:12:00.0000] <webben>
OT: does anyone know if there's a (unofficial or whatever) index to CSS3 properties in the current CSS3 drafts comparable to http://www.w3.org/TR/CSS21/propidx.html ?

[10:12:01.0000] <annevk>
for all CSS3 properties?

[10:12:02.0000] <webben>
yeah

[10:12:03.0000] <annevk>
I don't think so

[10:13:00.0000] <zcorpan>
Hixie: why did html5 change the tokenization rules for "<p<p>" before?

[10:13:01.0000] <webben>
ah well, thanks :)

[10:13:02.0000] <annevk>
should be pretty trivial to write a script that goes through a hardcoded list of drafts and then extracts them though

[10:13:03.0000] <annevk>
zcorpan, it was based on Firefox

[10:13:04.0000] <webben>
I guess.

[10:14:00.0000] <zcorpan>
annevk: that wasn't my question :)

[10:15:00.0000] <annevk>
hmm, change from what to what exactly?

[10:16:00.0000] <zcorpan>
from firefox rules to ie rules

[10:16:01.0000] <zcorpan>
two elements "p", "p" to one element "p<p"

[10:17:00.0000] <zcorpan>
(or well, start tag tokens)

[10:22:00.0000] <annevk>
more compat with IE

[10:22:01.0000] <annevk>
(and Opera)

[10:23:00.0000] <zcorpan>
but which approach is more compatible with existing web pages?

[10:26:00.0000] <annevk>
i think it doesn't matter

[12:00:00.0000] <zcorpan>
try this. check the "XHTML" button in http://www.google.com/preferences

[12:00:01.0000] <zcorpan>
then load the front page

[12:02:00.0000] <zcorpan>
hmm, that option is only available if you use opera it seems

[12:02:01.0000] <Philip`>
Is it fair to call them bozos if they're not actually generating XML incorrectly, but are just transmitting HTML incorrectly?

[12:04:00.0000] <Philip`>
The "PDA" option just sends the normal page too

[12:05:00.0000] <Philip`>
so it looks like they've forgotten to do the bit where it actually sends different content depending on your choice

[12:05:01.0000] <zcorpan>
yeah

[12:06:00.0000] <Philip`>
I vaguely remember trying the XHTML option before and getting some odd minimalist version of the page, like it was designed for mobile devices

[13:40:00.0000] <Philip`>
/me wonders if it's best to just clamp shadowBlur when someone sets it really high

[13:44:00.0000] <gsnedders>
/me wonders whether he should be coding, and watching TV, with laptop on lap :P

[13:47:00.0000] <Philip`>
Firefox 3 doesn't sniff http://youtube.com/rss/global/top_favorites.rss

[13:49:00.0000] <gsnedders>
Fx2, Saf3 do

[13:50:00.0000] <Philip`>
IE7 does

[13:58:00.0000] <gsnedders>
YouTube is the largest site I could find that did it

[13:59:00.0000] <gsnedders>
/me sighs

[14:00:00.0000] <Philip`>
You could email them and ask them to fix it, since the next largest site with that problem is probably much smaller than YouTube and could be more easily ignored :-)

[14:01:00.0000] <Philip`>
/me can't actually work out how to reach YouTube's RSS feed page, without reading the source code and following the <link rel=alternate>

[14:01:01.0000] <annevk>
the idea is that the browser has feed autodiscovery implemented and offers the user a download link of some sorts

[14:04:00.0000] <Philip`>
That idea doesn't appear to work so well in practice

[14:05:00.0000] <annevk>
dunno, it has worked for a number of people (enough even for HTML5 to include rel=feed

[14:05:01.0000] <annevk>
started here: http://diveintomark.org/archives/2002/05/30/rss_autodiscovery

[14:07:00.0000] <Philip`>
The link is just <link rel="alternate" title="YouTube - [RSS]" href="/rssls"> and points at an HTML page which has un-marked-up <a> links to the feeds (and also a <link rel="alternate" title="YouTube - [RSS]" href="/rssls"> pointing at itself)

[14:08:00.0000] <annevk>
oh

[14:09:00.0000] <annevk>
and then some people think the bigger sites are more likely to get it right

[14:10:00.0000] <Philip`>
I guess the type="application/atom+xml" is necessary for autodiscovery in browsers?

[14:10:01.0000] <zcorpan>
yes

[14:11:00.0000] <annevk>
or rel=feed

[14:11:01.0000] <zcorpan>
is that implemented?

[14:11:02.0000] <annevk>
not in Opera

[14:12:00.0000] <annevk>
it's implemented in Firefox iirc

[14:16:00.0000] <gavin>
Philip`: I asked one of our RSS gurus about that feed, he didn't know why the behavior changed between Firefox 2 and current trunk builds

[14:16:01.0000] <gavin>
I filed https://bugzilla.mozilla.org/show_bug.cgi?id=395533

[14:21:00.0000] <Philip`>
gavin: Okay - thanks!

[14:35:00.0000] <gsnedders>
Philip`: I've already emailed YouTube

[15:10:00.0000] <zcorpan>
Hixie: when serializing xml with innerHTML, may CDATASection nodes be output as data instead of cdata sections?

[15:11:00.0000] <zcorpan>
i.e., "ismorphic" in the canonical xml sense or in the dom sense?

[15:13:00.0000] <Hixie>
the text/plain sniffing behaviour presumably changed for security reasons

[15:14:00.0000] <Hixie>
zcorpan: good question

[15:17:00.0000] <zcorpan>
it would be nice if it were allowed because you can use c14n for test cases and you wouldn't have to worry about ]]> in implementations

[15:18:00.0000] <zcorpan>
though then ]]> in a cdata section would have to not raise an exception

[15:19:00.0000] <zcorpan>
hmm, perhaps you can't really use c14n for test cases anyway...

[15:20:00.0000] <zcorpan>
no, should be possible :)

[15:21:00.0000] <gsnedders>
Hixie: get my PM?

[15:23:00.0000] <gavin>
the text/plain sniffing issue that Philip` wasn't changed for security reasons, it's a regression from an unrelated change made to better support plugin content sent as text/plain

[15:23:01.0000] <gavin>
(https://bugzilla.mozilla.org/show_bug.cgi?id=395533#c1)

[15:26:00.0000] <Hixie>
gsnedders: yeah

[15:26:01.0000] <Hixie>
gavin: :-(

[15:26:02.0000] <zcorpan>
except perhaps for one thing. c14n removes uncessessary namespace declarations. it's unclear to me if they may be omitted when using innerHTML

[15:27:00.0000] <gsnedders>
http://php5.simplepie.org/trunk/demo/?feed=http%3A%2F%2Fyoutube.com%2Frss%2Fglobal%2Ftop_favorites.rss now fails

[15:27:01.0000] <gsnedders>
/me waits for a bug report

[15:35:00.0000] <zcorpan>
/me files a bug report for gsnedders

[15:35:01.0000] <zcorpan>
;)

[15:35:02.0000] <gsnedders>
:)

[15:42:00.0000] <annevk>
Hixie, zcorpan had the idea of maybe whitelisting text/{html|plain};charset=utf-8 from sniffing

[15:42:01.0000] <annevk>
(if not much content is labeled as such)

[15:42:02.0000] <gsnedders>
annevk: it currently isn't sniffed, though

[15:43:00.0000] <gsnedders>
annevk: his point was more to avoid sniffing too much

[15:44:00.0000] <annevk>
/me thought all text/html was sniffed

[15:45:00.0000] <zcorpan>
"Let official type be the type given by the Content-Type metadata for the resource (in lowercase, ignoring any parameters)."

[15:45:01.0000] <gsnedders>
oh, all text/html is. I didn't hear zcorpan say anything about that, I don't think

[15:46:00.0000] <Hixie>
i'm all for restricting the sniffing, but you'll have to convince the UAs first

[15:46:01.0000] <gsnedders>
Hixie: SimplePie 1.1 will ship with the HTML 5 content-type sniffing

[15:46:02.0000] <zcorpan>
i need data about how much it would break before trying to convince UAs :)

[15:47:00.0000] <gsnedders>
(but there again, we currently totally ignore content-type, so anything is an improvement)

[15:49:00.0000] <Hixie>
zcorpan: remind me next week and i'll look into it

[15:50:00.0000] <zcorpan>
Hixie: ok

[15:58:00.0000] <Philip`>
Can an HTML5 document ever have more than one head element?

[15:59:00.0000] <zcorpan>
not by just parsing (otherwise there's a bug in the spec)

[16:03:00.0000] <zcorpan>
hmm. using c14n might be problematic anyway for HTMLDocument.innerHTML, since c14n requires a validating xml processor

[16:07:00.0000] <Philip`>
zcorpan: Okay, thanks

[16:37:00.0000] <Hixie>
Philip`: it can via DOM and via XML, but then it can have almost anything that way


2007-09-09
[20:18:00.0000] <Hixie>
hm, rfc4329 doesn't actually define text/javascript1.2, it just says people use it

[20:18:01.0000] <Hixie>
guess i'll have to add rfc4329's list to html5

[20:21:00.0000] <Philip`>
I only saw it on 7 out of 16K pages, and at least the first 2 of those are the same user-tracking code

[20:21:01.0000] <Philip`>
At least the first 3

[20:22:00.0000] <Philip`>
At least the first 4

[20:22:01.0000] <Philip`>
I guess they're probably all exactly the same code

[20:22:02.0000] <Philip`>
(See http://www.allesjagd.com/start/index.php etc)

[20:28:00.0000] <Philip`>
Why does rfc4329 mention text/javascript1.(4|5)? I can't find any browser that supports them

[20:32:00.0000] <Philip`>
Oh, Konqueror supports them

[20:43:00.0000] <Hixie>
supporting them the way the spec says to seems cheap and harmless

[20:43:01.0000] <Hixie>
(since it makes the language="" attribute a non-issue basically, a couple of lines of code)

[20:45:00.0000] <Hixie>
so in http://lists.w3.org/Archives/Public/www-archive/2007Sep/0019.html john asked that i reply to that e-mail i said i wouldn't reply to

[20:46:00.0000] <Hixie>
i sent a reply shortly after http://lists.w3.org/Archives/Public/www-archive/2007Sep/0020.html

[20:46:01.0000] <Hixie>
i haven't heard from them since

[20:49:00.0000] <Hixie>
so one thing that's weird about the argument that we should require alt text because that will force authors of sites like flickr to get the users to include alt text is that it's so obviously false... since html4 already requires alt="", and has for a decade

[20:49:01.0000] <Hixie>
yet flickr doesn't ask the user for alt=""

[20:59:00.0000] <Hixie>
incidentally, http://html4all.org/wiki/index.php/Mission_Statement is quite a good statement, except for the last paragraph

[21:02:00.0000] <Hixie>
(the last paragraph makes a somewhat unjustified leap from their problem statement to a solution that is more extreme than required to solve the problem they put forward)

[21:02:01.0000] <Hixie>
but it might be a good start for text for the design principles

[21:16:00.0000] <Lachy>
Hixie, the problem I have with the alt="" debate is that I'm yet to get a clear answer to the question that: if omitting alt isn't the answer to the problem of what to do when the user doesn't provide alt text, then what is? alt="" or alt="some placeholder text"?

[21:17:00.0000] <Lachy>
And, if the latter, then what placeholder text?

[21:17:01.0000] <Hixie>
yeah

[21:18:00.0000] <Hixie>
the spec uses an example from flickr... i spoke to the person who put up that image, telling them that all these accessibility people were saying she should have included alt text (not that flickr lets her)

[21:18:01.0000] <Lachy>
although, as Steve Faulkner pointed out, omitting alt and letting the screen reader read out the file name isn't the best user experience

[21:18:02.0000] <Hixie>
she was like "uh, i don't care, i don't know any blind people, this photo isn't going to be looked at by any blind people"

[21:18:03.0000] <Philip`>
alt="the best metadata that the application can provide"?

[21:18:04.0000] <Hixie>
and i think a lot of people agree with that

[21:18:05.0000] <Hixie>
(though not accessibility experts, typically)

[21:19:00.0000] <Hixie>
well if the alt is omitted, the AT should do something better. we're at the early stages of image analysis, but things are getting better.

[21:20:00.0000] <Lachy>
indeed, like in cases like this: <figure><img src=...> <legend>Caption</legned></figure>, the UA should probably not read the file name by default and just use the caption (if no alt or title attrs have been given)

[21:20:01.0000] <Philip`>
Web browsers don't seem like the place to put technology that is an active research topic and still in its early stages

[21:21:00.0000] <Lachy>
that would fix the reading out long meaningless numeric filename problem

[21:21:01.0000] <Hixie>
yeah

[21:22:00.0000] <Philip`>
(I can't actually think of anything even vaguely like modern research areas that web browsers are doing...)

[21:24:00.0000] <Lachy>
http://www.mail-archive.com/wsg⊙wo/msg30517.html

[21:25:00.0000] <Lachy>
that points to http://www.w3.org/TR/WAI-AUTOOLS/#check-no-default-alt

[21:25:01.0000] <Hixie>
Philip`: sure, today, but by the time html5 is finished...

[21:25:02.0000] <Lachy>
.. which says what not to do, without saying what should be done

[21:25:03.0000] <Hixie>
and before html6...

[21:28:00.0000] <Hixie>
(the other funny thing is that actually, lack or inclusion of alt text is the least of flickr's accessibility problems)

[21:29:00.0000] <Lachy>
this response seem to be the bury-your-head-in-the-sand-and-hope-the-problem-goes-away approach http://www.mail-archive.com/wsg⊙wo/msg30511.html

[21:30:00.0000] <Philip`>
Around ten years from now? If useful image analysis libraries begin to become practical then, it's still ten years of people writing content based on the HTML5 draft/CR which will work badly in UAs during that time

[21:33:00.0000] <othermaciej>
flickr uses layout tables!

[21:34:00.0000] <othermaciej>
in a way that splits related content in different table cells!

[21:47:00.0000] <Hixie>
more examples of poor alt text: http://www.w3.org/2006/03/TP-minutes.html

[04:09:00.0000] <zcorpan>
btw, i've seen "download this video" links alongside the video on several sites

[04:12:00.0000] <zcorpan>
e.g. http://catpages.nwmissouri.edu/m/lgmf/video-clips/slide1.html

[04:13:00.0000] <zcorpan>
(that page could make use of <video><source>)

[04:20:00.0000] <jgraham>
Alt text from an email I got recently: Oxford Playhouse Logo

[04:20:01.0000] <jgraham>
 Floating Kate Rusby Jeremy Hardy Floating Kate Rusby Jeremy Hardy Floating Kate Rusby Jeremy Hardy

[04:20:02.0000] <jgraham>
Floating

[04:29:00.0000] <zcorpan>
jgraham: Brillant!!

[04:33:00.0000] <annevk>
For some reason I always get two commit e-mails

[04:36:00.0000] <annevk>
(from the html5 project)

[04:37:00.0000] <annevk>
jgraham, you should probably also update the comment that says that only "axis" makes it a heading

[04:39:00.0000] <jgraham>
Done

[04:42:00.0000] <annevk>
I think I might be on the commit list twice or something

[04:43:00.0000] <annevk>
jgraham, how about ensuring that a given header cell spans the same or more columns than the data cell?

[04:44:00.0000] <annevk>
this would help with Henri's thesis and my tmb table

[04:44:01.0000] <annevk>
and I can't directly think of any data cell that would have two headings and not be empty

[04:47:00.0000] <jgraham>
annevk: I'll try that

[04:47:01.0000] <jgraham>
/me is going out now

[04:48:00.0000] <jgraham>
I also really need to write some proper tests but #algorithms * #options =a large number

[04:52:00.0000] <annevk>
HTML5 also doesn't really take rowgroup into account

[04:52:01.0000] <annevk>
HTML5 algorithm seems a bit simplistic although at least it seems accurate

[04:58:00.0000] <zcorpan>
as far as associating header cells with header cells goes, it would make sense to associate a cell that spans fewer columns but not more columns, with a header cell higher up in the table

[04:59:00.0000] <annevk>
I think that's my suggestion, although I'd say fewer or equal amount of columns

[05:00:00.0000] <zcorpan>
yeah

[05:00:01.0000] <annevk>
probably analogously for rows

[05:00:02.0000] <zcorpan>
yes

[05:01:00.0000] <zcorpan>
ignoring <thead>, it should be possible to flip or rotate a table and still have the same associations

[05:02:00.0000] <annevk>
well, cells can span columns, but can't span rowgroups

[05:02:01.0000] <annevk>
iirc

[05:04:00.0000] <zcorpan>
right

[05:05:00.0000] <zcorpan>
ok, ignoring <thead>, multiple <tbody> and <tfoot>

[05:06:00.0000] <webben>
zcorpan: Why would it make sense to associate...?

[05:06:01.0000] <webben>
aren't related header cells likely to span the same number of columns?

[05:07:00.0000] <zcorpan>
webben: yes (what anne said)

[05:07:01.0000] <zcorpan>
though only if they are adjacent

[05:08:00.0000] <zcorpan>
http://html5.lachy.id.au/output?data=%3Ctable+border%3E%0D%0A%3Ctr%3E%3Cth%3Efoo%3Cth%3Ebar%0D%0A%3Ctr%3E%3Ctd%3E1%3Ctd%3E2%0D%0A%3Ctr%3E%3Cth%3Ebaz%3Cth%3Equux%0D%0A%3Ctr%3E%3Ctd%3E3%3Ctd%3E4%0D%0A%3C%2Ftable%3E&type=text%2Fhtml%3B+charset%3DUTF-8

[05:08:01.0000] <zcorpan>
there, foo and baz probably shouldn't be associated together

[05:09:00.0000] <zcorpan>
but should be with http://html5.lachy.id.au/output?data=%3Ctable+border%3E%0D%0A%3Ctr%3E%3Cth%3Efoo%3Cth%3Ebar%0D%0A%3Ctr%3E%3Cth%3Ebaz%3Cth%3Equux%0D%0A%3Ctr%3E%3Ctd%3E1%3Ctd%3E2%0D%0A%3Ctr%3E%3Ctd%3E3%3Ctd%3E4%0D%0A%3C%2Ftable%3E&type=text%2Fhtml%3B+charset%3DUTF-8

[05:09:01.0000] <Lachy>
zcorpan, note the new tinyURL button http://html5.lachy.id.au/

[05:10:00.0000] <peepo>
~:" just about to send something similar....

[05:10:01.0000] <webben>
zcorpan: When you say associated, what do you mean in this case?

[05:10:02.0000] <Lachy>
it generates that link and then gets a tinyurl.com/ address for it

[05:10:03.0000] <webben>
zcorpan: If you mean foo should be a header for baz, I'm not sure.

[05:11:00.0000] <zcorpan>
webben: yes

[05:11:01.0000] <webben>
zcorpan: If foo had two or more sub-th's that would certainly make sense.

[05:11:02.0000] <zcorpan>
why not?

[05:11:03.0000] <zcorpan>
yeah

[05:11:04.0000] <webben>
zcorpan: Or at least if at least one other th at the same level as foo had two or more sub-th's

[05:12:00.0000] <webben>
zcorpan: Because then it's likely that the first row of th's is being used to  carve up the second row.

[05:13:00.0000] <zcorpan>
hmm

[05:13:01.0000] <webben>
if each top th has only one "child" th, I'd have thought something else is going on

[05:13:02.0000] <annevk>
/me wonders what http://html5.lachy.id.au/ does

[05:13:03.0000] <annevk>
Lachy, was today the day you were going to put that redirect in place?

[05:14:00.0000] <webben>
(I'm sure there could be instances where the same thing is going on; perhaps the subheadings are time related or something, and the table is automatically generated and there will be more subheadings as time progresses.)

[05:14:01.0000] <Lachy>
annevk, yes, I'm working on that.  I just need to port the /faq/pl/ page across to the wiki

[05:14:02.0000] <annevk>
oh, missed that

[05:14:03.0000] <webben>
But it would be nice to see some live examples of th pairs to see if they do often differ.

[05:14:04.0000] <Lachy>
annevk, http://html5.lachy.id.au/ is what http://html5.lachy.id.au/output

[05:14:05.0000] <Lachy>
... used to be

[05:14:06.0000] <annevk>
but the purpose is?

[05:14:07.0000] <webben>
Do we have any?

[05:15:00.0000] <annevk>
well, my table would benefit from that additional rule

[05:15:01.0000] <Lachy>
for generating simple test pages, without having to create and upload a file

[05:15:02.0000] <annevk>
Henri's thesis would

[05:15:03.0000] <Lachy>
annevk, just like zcorpan did above

[05:16:00.0000] <webben>
annevk: Your table?

[05:16:01.0000] <zcorpan>
annevk: we're discussing what should be done in this case specifically http://tinyurl.com/2gtf6a

[05:16:02.0000] <annevk>
webben, http://annevankesteren.nl/2007/09/tmb-overview

[05:16:03.0000] <zcorpan>
if foo a heading for baz or not?

[05:17:00.0000] <annevk>
it is

[05:17:01.0000] <zcorpan>
why?

[05:17:02.0000] <annevk>
http://lists.w3.org/Archives/Public/www-archive/2007Aug/att-0003/offset-mess.htm

[05:18:00.0000] <zcorpan>
that's not the same case (they don't span the same number of columns)

[05:18:01.0000] <annevk>
oh, hmm

[05:19:00.0000] <annevk>
i guess it doesn't really matter

[05:19:01.0000] <webben>
it might be equally reasonable (for example) to assume the th pairs are equivalents.

[05:19:02.0000] <webben>
I don't think we can make any conclusions about whether it matters without finding some examples that are actually like that.

[05:20:00.0000] <webben>
I wonder if Philip could find us some tables with those specific characteristics.

[05:23:00.0000] <webben>
Alternatively one could just follow the html4 algorithm and assume people have assumed that.

[05:23:01.0000] <webben>
(I /guess/ that would make foo a heading for baz.)

[05:24:00.0000] <annevk>
yeah, I believe HTML4 does that

[05:24:01.0000] <annevk>
I don't think many people have read HTML4 table association though

[05:25:00.0000] <zcorpan>
since <th> is used in layout tables... :)

[05:25:01.0000] <webben>
zcorpan: How often is that?

[05:26:00.0000] <webben>
(used in layout tables, I mean)

[05:26:01.0000] <zcorpan>
not very common but i've seen it

[05:32:00.0000] <Philip`>
I can parse lots of pages now (whereas before I was just tokenising), so I should be able to find things with certain characteristics (assuming those characteristics aren't too hard to determine) if it'd be helpful

[05:32:01.0000] <webben>
zcorpan: When you have seen it, was th still being used for headers?

[05:34:00.0000] <webben>
Philip`: would looking for <tr><th>+</tr> followed immediately by another <tr> with an equal number of <th> be easy?

[05:34:01.0000] <annevk>
Philip`, you finished your tree builder?

[05:35:00.0000] <Philip`>
annevk: No, I used hsivonen's one since that's much easier and probably better :-)

[05:36:00.0000] <zcorpan>
webben: just recently when debugging a parsing problem in opera... can't find the bug again though

[05:36:01.0000] <zcorpan>
webben: the page didn't have data tables

[05:37:00.0000] <webben>
zcorpan: No I meant structural headers (where say <hX> or <dt> or something might have been vaguely appropriate), rather than for data headers.

[05:37:01.0000] <webben>
Or whether people just get th and td confused.

[05:37:02.0000] <webben>
(they're not the most intuitive of names!)

[05:38:00.0000] <zcorpan>
it was for the page logo at least

[05:38:01.0000] <zcorpan>
but that table didn't cover the whole page, just the top part

[05:39:00.0000] <Philip`>
webben: That sounds feasible, though I'm not sure exactly how to write the code to detect it (or whether it'd be easier with the DOM parser rather than the SAX one)

[05:39:01.0000] <annevk>
Philip`, HTML5 has an algorithm on how to construct a table

[05:40:00.0000] <annevk>
although maybe implementing that is overkill, dunno

[05:42:00.0000] <Philip`>
annevk: That sounds like it might be hard work, particularly since writing Java is no fun

[05:42:01.0000] <zcorpan>
webben: found it, it only had one <th> for the page logo http://www.itquestionbank.com/

[05:43:00.0000] <webben>
Well at least it makes a certain amount of logical sense.

[05:44:00.0000] <zcorpan>
yeah, but it's still a layout table... :)

[05:44:01.0000] <webben>
okay, so twisted logic ;)

[05:45:00.0000] <Philip`>
I saw some pages a while ago that had only <th> and no <td>s

[05:46:00.0000] <Philip`>
http://krijnhoetmer.nl/irc-logs/html-wg/20070717#l-11

[05:54:00.0000] <Philip`>
 http://www.gbk-unternehmensberatung.de/ |        8

[05:54:01.0000] <Philip`>
 http://www.new-video.de/film-lolita/    |      173

[05:54:02.0000] <Philip`>
 http://www.chalupa24.cz/                |        2

[05:54:03.0000] <Philip`>
 http://ccel.org/cceh/                   |        1

[05:54:04.0000] <Philip`>
 http://www.akatalent.com                |        1

[05:54:05.0000] <Philip`>
 http://www.spiderrobinson.com/          |        1

[05:54:06.0000] <Philip`>
 http://www.soundmedical.com/home.html   |        8

[05:54:07.0000] <Philip`>
are pages with the given number of <th>s, and no <td>s

[05:55:00.0000] <Philip`>
(Fun game: guess how many are layout tables!)

[05:55:01.0000] <zcorpan>
7? :)

[05:58:00.0000] <annevk>
you're in on the next round in Markup Stats!

[05:58:01.0000] <Philip`>
/me guesses that those people are just pressing the wrong button in their WYSIWYG editors

[06:10:00.0000] <Philip`>
krijnh: I think you might need something like white-space:pre in the IRC logs else it messes up my aligned columns :-)

[06:21:00.0000] <zcorpan>
pre-wrap ?

[06:31:00.0000] <Lachy>
is there a function in python that reads a file and outputs it, sort of like the include() function in PHP?

[06:32:00.0000] <Philip`>
print(open("filename").read()) ?

[06:33:00.0000] <Lachy>
yeah, something like that, but won't I need to close the file afterwards? Or does it do that automatically?

[06:34:00.0000] <Philip`>
I think it closes when the file object gets garbage-collected, which is at some unknown point in the future but before the program terminates

[06:34:01.0000] <Philip`>
so it only matters if you've got a long-running process and don't want to run out of file handles

[06:35:00.0000] <annevk>
there's .close() iirc

[06:35:01.0000] <annevk>
but i never needed it so far

[06:37:00.0000] <Philip`>
You can also do

[06:38:00.0000] <Philip`>
from __future__ import with_statement;

[06:38:01.0000] <Philip`>
with open("filename") as f: print(f.read())

[06:38:02.0000] <Philip`>
Uh, without the semicolon

[06:38:03.0000] <Philip`>
(but only in Python 2.5)

[06:39:00.0000] <Philip`>
which will close it immediately

[06:40:00.0000] <Philip`>
(The explicit close seems quite inelegant compared to Perl)

[06:54:00.0000] <webben>
Hixie: Ignoring the Hofstader-Clark antagonism, you may find the recent posts at http://blindconfidential.blogspot.com/ (about your blogpost re Jaws and Isolani's response) interesting. Chris Hofstader used to run the JAWS development team.

[07:10:00.0000] <Philip`>
'"For the best results using a screen reader we suggest you read this site with <some screen reader or another>."' - hmm, that sounds familiar, and I thought most people now agreed it's a bad idea (hence http://www.anybrowser.org/campaign/ )

[07:30:00.0000] <webben>
Philip`: I don't think most people agree with the Any Browser principle. Most people paid to do webdev work (from what I've seen) seem to care only about IE + Firefox + maybe Safari.

[07:30:01.0000] <webben>
Philip`: It's quite hard to persuade people they need to worry about ELinks or Konqueror.

[07:32:00.0000] <Philip`>
webben: At least that's somewhat better than "Best viewed in Netscape 4, 800x600 resolution, 16-bit color"

[07:34:00.0000] <webben>
Philip`: Hmm. I dunno. I see a lot of notices saying things only work in Firefox.

[07:34:01.0000] <webben>
Once Netscape 4 was the biggest and best.

[07:34:02.0000] <webben>
what really dooms such notices is the inexorable march of time.

[07:41:00.0000] <webben>
Philip`: See also things like: http://minghong.f2g.net/products/infobar/

[07:46:00.0000] <hsivonen>
hmm. contrary to what anne assumed, the cabal acknowledgment has been in the spec since at least May 24 2006 (likely longer, but I have a snapshot from May 24 2006).

[07:57:00.0000] <Philip`>
Hmm, looking at my old sites, the only browser suggestion is that users should use one with Java such as Netscape Navigator

[07:59:00.0000] <hsivonen>
Philip`: what did you use applets for?

[07:59:01.0000] <Philip`>
Wobbly text and marquee-like scrolling banners

[07:59:02.0000] <Philip`>
It was great!

[08:00:00.0000] <hsivonen>
ok. my previous statements about applet use cases hold, then :-)

[08:03:00.0000] <Lachy>
I just migrated this from the blog http://wiki.whatwg.org/wiki/FAQ/pl

[08:03:01.0000] <Lachy>
now I will set up the redirects

[08:03:02.0000] <Philip`>
/me finds his ancient Theme Hospital site, and uses it to solve a mystery on a Wikipedia talk page about who first patched the "pregnancy" disease into the game

[08:04:00.0000] <Lachy>
Theme Hospital was an awesome game! :-)

[08:05:00.0000] <annevk>
indeed

[08:06:00.0000] <hsivonen>
/me has no idea what Theme Hospital is

[08:07:00.0000] <Philip`>
http://web.archive.org/web/19991008150009/http://www.geocities.com/SiliconValley/Park/7676/pregnant.html - hooray, layout tables

[08:08:00.0000] <annevk>
so much for cool URIs don't change

[08:10:00.0000] <Lachy>
annevk, http://blog.whatwg.org/faq/ and http://blog.whatwg.org/faq/pl/ now redirect to the wiki

[08:11:00.0000] <annevk>
cool, now hopefully people will update :)

[08:12:00.0000] <Lachy>
I wish I knew of an HTML to wiki markup script. I had to write a simple one myself, but didn't cover everything

[08:13:00.0000] <Lachy>
would have made migrating the pl version easier

[08:13:01.0000] <Philip`>
http://www.uni-bonn.de/~manfear/html2wiki-tables.php ?

[08:14:00.0000] <Lachy>
that looks like it only handles tables, not headings, links, etc.

[08:14:01.0000] <annevk>
/me wonders why people don't ask the question: "why would it be non-conforming to include those characters"

[08:14:02.0000] <Philip`>
http://diberri.dyndns.org/wikipedia/html2wiki/ ?

[08:15:00.0000] <Lachy>
/me should have googled for one!

[08:16:00.0000] <Philip`>
Do we have use cases for making the character "q" conforming? Could they be satisfied by only making "q" conforming if it is followed by a "u"?

[08:16:01.0000] <gsnedders>
Philip`: there are some exceptions to that

[08:17:00.0000] <Philip`>
gsnedders: Sure, but there's exceptions to everything, and we only need to handle 80% of cases

[08:17:01.0000] <annevk>
:)

[08:18:00.0000] <gsnedders>
Philip`: that's true.

[08:19:00.0000] <annevk>
however, apart from how to construct a DOM with them characters are more or less out of scope

[08:20:00.0000] <Lachy>
Philip`, there are plenty of cases for a Q not followed by a u. e.g. QANTAS, FAQ. Q&A, etc.

[08:21:00.0000] <Philip`>
Lachy: Those are all "Q", not "q"

[08:21:01.0000] <Lachy>
:-)

[08:22:00.0000] <Lachy>
http://en.wikipedia.org/wiki/List_of_English_words_containing_Q_not_followed_by_U

[08:25:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/public-html/2007Aug/1255.html

[08:25:01.0000] <hsivonen>
hmm. I understood T.V. Raman's point as an indictment of designing specs for current JAWS.

[08:26:00.0000] <hsivonen>
I wonder if I understood his points right.

[08:27:00.0000] <Philip`>
Lachy: A few dozen examples, out of half a million words in the English language? The statistics aren't very convincing

[08:29:00.0000] <Lachy>
Philip`, sure, but qwerty is a very common word these days, and so it makes it into the 80% mark

[08:37:00.0000] <gsnedders>
Lachy: you look very qwerty today

[08:38:00.0000] <Lachy>
are you saying I look like a keyboard?

[08:38:01.0000] <Lachy>
:-)

[08:38:02.0000] <gsnedders>
I dunno. I'm just wondering what the usage is :)

[08:38:03.0000] <gsnedders>
Philip`: why don't we only handle 0.0014% of web content (i.e., XML)

[08:46:00.0000] <Philip`>
http://www.google.com/search?q=qwerty suggests that "QWERTY" and "Qwerty" are much more common than "qwerty"

[08:47:00.0000] <Philip`>
so I've still not seen any great arguments for why characters should be conforming :-)

[08:48:00.0000] <Philip`>
(Switching the question from "why should it be conforming?" to "why should it be non-conforming?" isn't very helpful since it's not giving answers to either question)

[08:49:00.0000] <annevk>
there's a good reason for some characters, such as NULL, to be non-conforming, there's not really a good reason for the other characters to be non-conforming afaict; they're not causing interoperability concerns and it's out of scope of HTML to say what a conforming string of text is

[08:50:00.0000] <Philip`>
It would be easy if there was a design principle that said "things that don't cause interoperability problems should be conforming"

[08:53:00.0000] <Philip`>
The null character seems special since it's always(?) converted into U+FFFD, which is not what you'd ever want to happen, so it indicates an authoring error and conformance checkers should complain about it

[08:54:00.0000] <Philip`>
whereas any(?) other character is passed straight through, regardless of whether it's conforming, unless people want to convert control characters into spaces or something

[08:54:01.0000] <Philip`>
/me isn't sure what happens in HTML5 if you try adding U+0000 through the DOM

[08:56:00.0000] <annevk>
I think U+0000 doesn't reach the DOM APIs in some browsers and others remove it...

[08:56:01.0000] <annevk>
I mentioned U+0000 because it's special

[09:00:00.0000] <Philip`>
It seems IE7/Opera9.5 cut off the string after the \0, Safari3/Firefox3 keep the \0 (and Safari doesn't render it, while FF renders a little [00/00] box)

[09:21:00.0000] <annevk>
what is the Unicode character that lowercases to "i" again?

[09:22:00.0000] <annevk>
/me needs it to make sure comparisons are done based on ASCII

[09:25:00.0000] <zcorpan>
İ

[09:28:00.0000] <zcorpan>
ı might be uppercased to I

[09:30:00.0000] <annevk>
seems that IE7 does ASCII case-insensitive here: http://tc.labs.opera.com/html/global-attributes/contenteditable/014.htm

[09:32:00.0000] <annevk>
/me adds a test for ı

[09:32:01.0000] <zcorpan>
annevk: ie also says PASS if you change the value to "blurb"

[09:33:00.0000] <annevk>
correct

[09:33:01.0000] <annevk>
which is why it's a good test :)

[09:33:02.0000] <zcorpan>
aha

[09:34:00.0000] <zcorpan>
/me didn't read carefully

[09:34:01.0000] <annevk>
although they would fail again if I'm going to test for the specific error...

[09:35:00.0000] <annevk>
guess I'll do that in another test for now

[09:35:01.0000] <annevk>
tests are cheap

[09:38:00.0000] <zcorpan>
<!html html>? :)

[09:43:00.0000] <annevk>
way ahead of you

[10:02:00.0000] <annevk>
btw, I wonder if the RFC for script types needs to be updated, after all, server MIME types are ignored and we could just say that the type= attribute takes certain magical values

[10:02:01.0000] <annevk>
such as text/javascript1.1, etc.

[10:11:00.0000] <Philip`>
Is the server type ignored if you send text/javascript vs text/vbscript to IE?

[10:14:00.0000] <annevk>
dunno

[10:14:01.0000] <annevk>
(read as: please tell me if you find out :) )

[10:16:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cscript%20src%3Dhttp%3A%2F%2Fhtml5.lachy.id.au%2Foutput%3Fdata%3D%2527%2B%2527%253B%2Balert%2528%2522JavaScript%2522%2529%253B%2Bif%2B%25280%2529%250D%250Aalert%2528%2522VBScript%2522%2529%26type%3Dtext%252Fvbscript%3E%3C%2Fscript%3E%20

[10:16:01.0000] <Philip`>
It is ignored

[10:17:00.0000] <Philip`>
(IE assumes JavaScript regardless of the Content-Type)

[10:17:01.0000] <Philip`>
(unless you do <script type=text/vbscript> etc)

[10:17:02.0000] <Philip`>
(IE7, at least)

[10:18:00.0000] <Philip`>
It's odd how few people use VBScript

[10:23:00.0000] <annevk>
the spec doesn't seem to consider script elements without either type or language attributes...

[10:44:00.0000] <annevk>
made some script tests: http://tc.labs.opera.com/html/script/

[11:01:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/stats/scripttypes.html

[11:02:00.0000] <Philip`>
More text/html than text/javascript? That's quite odd

[11:04:00.0000] <Philip`>
http://www.artesea.co.uk/cnps/blogs/artesea.js - I wish there was a programming language where you could put images in the source code like that

[11:08:00.0000] <PHPechowiec>
Is there someone from poland?

[11:12:00.0000] <annevk>
Philip`, not really, application/x-javascript is the default

[11:13:00.0000] <annevk>
although I suppose it's weird :)

[11:13:01.0000] <annevk>
I updated my two tests btw to make them slightly more useful

[11:15:00.0000] <annevk>
seems that IE also executes: "javascript 1.3" and "text/javascript " etc.

[11:15:01.0000] <Philip`>
http://www.assoc-amazon.co.uk/s/ads.js - that's odd - it sends a 404 with Content-Type: image/gif if you do a HEAD request, but a 200 text/javascript if you do GET

[11:17:00.0000] <gsnedders>
Philip`: oh, that's nothing that odd

[11:18:00.0000] <Philip`>
/me wonders if he should just do GET and try to abort the connection before it's downloaded the body

[11:19:00.0000] <annevk>
that's prolly better if you want accurate results

[11:20:00.0000] <annevk>
btw, it seems for type= and language= parsing some browsers simply use startswith("text/javascript") ...

[11:20:01.0000] <PHPechowiec>
where I can find about HTML5 inpolish

[11:20:02.0000] <PHPechowiec>
**in polish

[11:21:00.0000] <Philip`>
annevk: I didn't see that behaviour for type= in any browser

[11:22:00.0000] <annevk>
I only see it when I construct my tests wrong

[11:22:01.0000] <annevk>
I made a small python script to generate the tests and then I managed to turn some stuff around

[11:22:02.0000] <annevk>
so, oops

[11:24:00.0000] <gsnedders>
/me is going to fail Computing having missed the last two lessons — not knowing what the (wrong) answers are sucks :P

[11:26:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/stats/scripttypes2.html - hmm, it's a bit better when I use GET and when I correctly stop processing 404s

[11:27:00.0000] <Philip`>
http://ads49.bpath.com/gif.cfm?ID=266432&Page=0&Ver=40 - that one really is an image

[11:28:00.0000] <Philip`>
but http://alissathechihuahua.freeservers.com/index.html includes it via <script src>

[11:28:01.0000] <Philip`>
Hmm, Alissa looks rather ugly

[11:30:00.0000] <Philip`>
http://environmentalchemistry.com/JavaScripts/Primary.js - how does that end up as text/css?

[11:34:00.0000] <annevk>
seems that there are almost no parameters around looking at your stats for <script type> and <script language>

[11:36:00.0000] <Philip`>
The few users of language=javascript1.5 that I looked at were browser-JS-version-detection user-stats-tracking scripts, so it seems those aren't used for anything important either

[11:39:00.0000] <annevk>
it's quite a big mess

[11:39:01.0000] <annevk>
and such a tiny feature... :(

[11:41:00.0000] <Philip`>
Can we just say that <script> means JavaScript and UAs can ignore everything else? :-)

[11:42:00.0000] <Philip`>
It's not like anybody really uses any other language

[11:43:00.0000] <annevk>
some people use <script type=text/xml> or something

[11:45:00.0000] <Philip`>
That wouldn't work too terribly if you parsed it as JS into an E4X object and then, er, hacked in a compatible API somewhere

[11:47:00.0000] <Philip`>
http://www.americasalfalfa.com/ - I can't quite tell what they're using text/xml for

[11:47:01.0000] <Philip`>
http://www.kinderklinik-buch.de/Neonatologie/Richtlinien.html - they're using it for exactly the same

[11:48:00.0000] <Philip`>
(Those are the only two sites I saw)

[11:49:00.0000] <Philip`>
(Still, it'd be nasty to prevent other languages or language versions, even if they're not used very commonly)

[11:50:00.0000] <zcorpan>
how do you allow other langauges for onclick=""? do we need to?

[11:51:00.0000] <zcorpan>
html4 says content-script-type, but i think browsers ignore it

[13:40:00.0000] <Hixie>
anything interesting happening in the world?

[13:41:00.0000] <annevk>
http://news.google.com/ ?

[13:54:00.0000] <Hixie>
i meant in our screwed up corner of it :-)

[13:55:00.0000] <annevk>
oh, people played with tables and <script type language>

[13:56:00.0000] <annevk>
i pinged the guy on the forms TF who hasn't introduced himself yet as you suggested

[14:06:00.0000] <Hixie>
i guess i better do some work on datatemplates tonight

[14:06:01.0000] <Hixie>
bbiab

[15:03:00.0000] <hsivonen>
/me wonders how to force apache to respond with 503 with apache config only without having to resort to scripting

[15:10:00.0000] <Dashiva>
On what condition?

[15:12:00.0000] <Dashiva>
I know you can use mod_rewrite, but it's kinda hacky

[15:12:01.0000] <hsivonen>
hmm. RedirectMatch 503 ^/ might do the trick

[15:12:02.0000] <hsivonen>
Dashiva: on the condition that required modules did not load

[15:13:00.0000] <hsivonen>
e.g. mod_jk did not load

[15:13:01.0000] <hsivonen>
use case: admin updates Apache, forgets to reinstall mod_jk

[15:14:00.0000] <Dashiva>
Redirect 503 / should work too

[16:04:00.0000] <jgraham>
html5lib just reached rev. 1000

[16:05:00.0000] <annevk>
party?

[16:11:00.0000] <annevk>
jgraham, ah, so you're building a table model using the HTML5 algorithm and made various heading algorithms on top of that?

[16:15:00.0000] <jgraham>
annevk: Yeah (to both ;) )

[16:18:00.0000] <hsivonen>
after talks about an "IRC cabal", I find http://wilbur.bytowninternet.com/pipermail/list_html4all.org/ interesting

[16:19:00.0000] <annevk>
there's also http://html4all.org/pipermail/list_html4all.org/ ...

[16:19:01.0000] <annevk>
I guess they're the same

[16:45:00.0000] <hsivonen>
http://html4all.org/pipermail/list_html4all.org/2007-August/000032.html

[16:45:01.0000] <hsivonen>
wow.

[16:47:00.0000] <annevk>
the "html4all cabal"

[16:48:00.0000] <takkaria>
it's a cabal-eat-cabal world...

[16:54:00.0000] <hsivonen>
/me finds that his relative openness to ideas compared to annevk is assessed at http://www.w3.org/2002/09/wbs/40318/dprv/results

[16:55:00.0000] <hsivonen>
doh. edit in mid sentence

[16:55:01.0000] <hsivonen>
s/is assessed //

[16:57:00.0000] <annevk>
I'm open to changes, I just don't really mind the current text

[16:58:00.0000] <annevk>
(also taking into account that perfection is not needed for a first draft, imo)


2007-09-10
[17:01:00.0000] <Philip`>
hsivonen: You have been corrupted by your years in the presence of Hixie's Ring - it bends you to its will, and it will never let go unless you cast it into the flames

[17:02:00.0000] <takkaria>
I thought you were joking for a minute, there

[17:02:01.0000] <Philip`>
(Hmm, I think the metaphor broke down before the end of the sentence)

[17:03:00.0000] <annevk>
It's interesting that the blog from Gregory is full of <b> and <i> ( http://my.opera.com/oedipus/blog/ )

[17:03:01.0000] <annevk>
while he claims they're bad for accessibility

[17:04:00.0000] <annevk>
(fwiw, this is about markup in the posts he writes)

[17:04:01.0000] <hsivonen>
Philip`: no comment after looking it up in urbandictionary.com

[17:06:00.0000] <annevk>
/me is confused

[17:06:01.0000] <webben>
annevk: How does Opera's blogging thingy generate emphasis? And how does it generate italic?

[17:06:02.0000] <webben>
(I mean, what is the UI.)

[17:06:03.0000] <annevk>
dunno

[17:06:04.0000] <webben>
I rather doubt it's under Gregory's control.

[17:07:00.0000] <hsivonen>
hmm. perhaps the ad hominem wasn't intended to be as dirty as I thought. carry on

[17:07:01.0000] <annevk>
webben, that's besides the point though

[17:07:02.0000] <webben>
annevk: It is?

[17:07:03.0000] <annevk>
webben, why would he use them?

[17:07:04.0000] <webben>
Why would he use Opera's blogging software?

[17:07:05.0000] <webben>
Dunno. I've never used it.

[17:07:06.0000] <annevk>
no, why would he use the italic and bold markup

[17:07:07.0000] <Philip`>
hsivonen: Hmm, urbandictionary.com has, uh, cruder meanings than I was thinking of

[17:08:00.0000] <webben>
annevk: What makes you think he has any effective control of what Opera's blogging software generates?

[17:09:00.0000] <annevk>
webben, I've no idea what you're talking about

[17:09:01.0000] <hsivonen>
Philip`: I was just figuring out what he mean with his footnote about connotations and that was what I found.

[17:09:02.0000] <hsivonen>
meant

[17:09:03.0000] <webben>
annevk: (NB I know zilch about Opera's blogging software, but it could for all I know be like blogger. Blogger doesn't have em and strong as options.)

[17:09:04.0000] <annevk>
it's not about options, it's about using them in the first place

[17:09:05.0000] <annevk>
obviously they have some sort of effect, even in the software he's using

[17:10:00.0000] <webben>
annevk: Then I don't understand your point (or perhaps you've misunderstood the problem with <i>, I'm not sure.)

[17:11:00.0000] <annevk>
I suppose, I already said your remark was besides the point...

[17:11:01.0000] <webben>
That is to say: the problem with i is ambiguous semantic; but some effect in UAs may be better than no effect at all.

[17:12:00.0000] <annevk>
all elements in HTML have ambiguous semantics afaict...

[17:12:01.0000] <annevk>
anyway, bedtime

[17:12:02.0000] <webben>
annevk: good night

[17:18:00.0000] <hsivonen>
/me finds "divide and conqueror the current crop of HTML5 manglers" in the html4all archives...

[17:20:00.0000] <takkaria>
url?

[17:21:00.0000] <hsivonen>
takkaria: hmm. they don't seem to have an easy facility of mapping message-ids to URLs. 

[17:21:01.0000] <hsivonen>
takkaria: http://html4all.org/pipermail/list_html4all.org/2007-August/000054.html

[17:21:02.0000] <takkaria>
ta

[17:23:00.0000] <webben>
Interesting. A quick test shows Opera's blogging software has only B and I buttons, and emits <i> for I and <strong> for B.

[17:24:00.0000] <webben>
unless I'm missing something (easily possible) it doesn't offer a way to enter HTML directly

[17:40:00.0000] <Hixie>
hsivonen: wow, that's awesome in so many ways

[18:02:00.0000] <Hixie>
http://html4all.org/pipermail/list_html4all.org/2007-August/000016.html

[18:02:01.0000] <Hixie>
it's interesting to note how different his opinions are from those that the whatwg used as a foundation (as described in the opera/mozilla position paper)

[18:13:00.0000] <jruderman>
Hixie: does HTML5 specify https://bugzilla.mozilla.org/show_bug.cgi?id=395597 either way?

[18:14:00.0000] <jruderman>
(if set innerHTML on a new element and *then* put that element into the document, do <script>s in the innerHTML execute?)

[18:23:00.0000] <Hixie>
the spec does cover it

[18:29:00.0000] <Hixie>
jruderman: search for "If the parser was originally created for the HTML fragment parsing algorithm, then mark the script element as "already executed""

[18:44:00.0000] <jruderman>
so it's a bug, then

[18:44:01.0000] <jruderman>
in gecko

[18:45:00.0000] <jruderman>
thanks

[18:52:00.0000] <Hixie>
unless you think we should change the spec, yeah

[18:53:00.0000] <jruderman>
the spec seems sane to me, and it matches ie and opera according to the bug report

[18:54:00.0000] <Hixie>
cool

[18:55:00.0000] <jruderman>
"already executed" might not be the best name for the flag, though

[18:55:01.0000] <Hixie>
well originally it was just set when the <script> element was executed

[18:56:00.0000] <Hixie>
i added innerHTML support later

[18:56:01.0000] <Hixie>
it's true it is no longer a hugely accurate name

[19:57:00.0000] <othermaciej>
/me wonders how that works in Safari

[00:19:00.0000] <boogs>
Does anyone know how in Hixie's most recent offline proposal the last caveat-paragraph (the same url shows up in two applications) can happen?

[00:20:00.0000] <boogs>
I thought it should be impossible since the first time a page shows up with it's application URL pointing to someplace else it is an error, or removed from the prior place.

[00:20:01.0000] <Hixie>
consider this case:

[00:20:02.0000] <Hixie>
go to http://example.com/a

[00:20:03.0000] <Hixie>
it has an application="a.manifest"

[00:20:04.0000] <Hixie>
you load a.manifest and it says to load http://example.com/b

[00:21:00.0000] <Hixie>
you load http://example.com/b and it has application="a.manifest"

[00:21:01.0000] <Hixie>
then, totally separately, you go to http://example.com/c, and it has application="c.manifest", which also says to load http://example.com/b

[00:21:02.0000] <Hixie>
when you load http://example.com/b now, the server sends back a file with application="c.manifest".

[00:22:00.0000] <Hixie>
now, you go to http://example.com/b -- which app cache should it load from?

[00:22:01.0000] <boogs>
Right, ok, I agree that can happen.

[00:22:02.0000] <boogs>
Right now this is a bug in Gears, the result is non-deterministic, which is bad.

[00:23:00.0000] <boogs>
our only idea was to make the second one an error.

[00:24:00.0000] <Hixie>
making it an error doesn't say what should happen :-)

[00:24:01.0000] <boogs>
I mean, it would be a runtime error, the capture would fail.

[00:24:02.0000] <Hixie>
so you couldn't load http://example.com/c ?

[00:24:03.0000] <Hixie>
or rather, couldn't cache it?

[00:24:04.0000] <boogs>
right.

[00:25:00.0000] <Hixie>
seems a bit draconian

[00:25:01.0000] <boogs>
It seems like the other option is to invalidate the first application.

[00:25:02.0000] <boogs>
otherwise, you lose atomicy, right?

[00:25:03.0000] <Hixie>
especially if the http://example.com/a was a mistake

[00:26:00.0000] <Hixie>
my proposal was just to say that the last one wins, iirc

[00:26:01.0000] <Hixie>
i don't think it's a huge issue

[00:26:02.0000] <Hixie>
it's not like it'll happen much; maybe occasionally in development

[00:26:03.0000] <Hixie>
but then you want the last one to win anyway

[00:26:04.0000] <boogs>
it is a problem

[00:27:00.0000] <boogs>
so in the current proposal, if a resource is in more than one app caches, the browser loads it from the cache that got it last?

[00:27:01.0000] <Hixie>
you mean if you go there as a top-level page?

[00:27:02.0000] <boogs>
let's just say a non-top-level thing for now.

[00:27:03.0000] <Hixie>
or do you mean if you load it in an <img> or <iframe> or something?

[00:27:04.0000] <boogs>
a js file.

[00:28:00.0000] <Hixie>
non-top-level always loads from the current top-level-page's own app cache

[00:28:01.0000] <Hixie>
or the network if it's not there

[00:28:02.0000] <boogs>
I see, it wasn't clear from the new proposal that you were keeping that feature from the old one.

[00:29:00.0000] <Hixie>
ah, my bad

[00:29:01.0000] <Hixie>
yeah

[00:29:02.0000] <Hixie>
otherwise there's not much point having multiple caches :-)

[00:30:00.0000] <boogs>
Another question: why have the slurp feature at all, if you're going to have manifests?

[00:30:01.0000] <boogs>
it seems so mushy

[00:30:02.0000] <boogs>
I mean, I can construct cases where I want XHR to go to the cache

[00:31:00.0000] <Hixie>
well, the slurp feature is useful in the one-page-app case, but also, you don't want to have to specify every dependency, you only want to need to specify the other top-level pages and the per-page or only occasional dependencies

[00:32:00.0000] <Hixie>
like, an image that you don't always preload

[00:32:01.0000] <Hixie>
or a stylesheet that you only use occasionally

[00:32:02.0000] <Hixie>
why would you want XHR to go from the cache?

[00:32:03.0000] <Hixie>
(the app cache, that is, vs the general network layer cache)

[00:32:04.0000] <boogs>
well we actually do that in a gears unit test, to test that the cache is working

[00:32:05.0000] <boogs>
does that count? :)

[00:33:00.0000] <Hixie>
no :-P

[00:33:01.0000] <Hixie>
use a dynamically added <script> or something :-P

[00:33:02.0000] <boogs>
well, if you want to get the text contents of some resource, to process it.

[00:33:03.0000] <boogs>
like a text file.

[00:34:00.0000] <boogs>
maybe it's config.

[00:35:00.0000] <Hixie>
just load it once from the network and cache it in the database, or cookies

[00:35:01.0000] <boogs>
Also, going the other way, like I said, it is common to use a new Image() to ping a server.

[00:35:02.0000] <boogs>
In which case you don't want it to go the app cache.

[00:36:00.0000] <Hixie>
since you have to rewrite your apps for this anyway, it doesn't seem bad to require authors to use a more appropriate pinging method

[00:36:01.0000] <Hixie>
creating an image is really not an appropriate pinging method

[00:36:02.0000] <Hixie>
since it has nothing to do with images

[00:36:03.0000] <Hixie>
no?

[00:36:04.0000] <boogs>
That *is* the pinging method we are using in new apps. I guess it is just more convenient than xhr

[00:37:00.0000] <boogs>
What if it was just that it slurped the things that were in the html markup, not dynamically created things. That might be crisper.

[00:37:01.0000] <Hixie>
that's basically impossible to do from an architecture point of view

[00:38:00.0000] <Hixie>
dynamically created from the parser vs dynamically created by script should work the same

[00:38:01.0000] <Hixie>
(not even considering things like innerHTML, which blur the lines yet further)

[00:38:02.0000] <boogs>
hm, ok.

[00:38:03.0000] <Hixie>
i don't really understand why new Image() is considered a good way of pinging a server

[00:39:00.0000] <Hixie>
it's not an image... why would you use Image()?

[00:39:01.0000] <boogs>
We do ping an image.

[00:39:02.0000] <Hixie>
that's like using a table for layout purposes...

[00:39:03.0000] <boogs>
x.gif, or whatever

[00:39:04.0000] <boogs>
or the google logo

[00:39:05.0000] <Hixie>
why?

[00:39:06.0000] <Hixie>
why not just grab an actual status file?

[00:39:07.0000] <boogs>
because xhr can fail in a variety of dramatic ways on different browsers and catching all of them is difficult.

[00:39:08.0000] <boogs>
where as image just fires onerror no matter what happened.

[00:39:09.0000] <Hixie>
sounds like something we should fix

[00:40:00.0000] <Hixie>
we could also just provide a server-status-pinging api

[00:40:01.0000] <Hixie>
what is it you want to know? whether you're online?

[00:40:02.0000] <boogs>
Whether our server is alive.

[00:41:00.0000] <Hixie>
to sync with the server?

[00:41:01.0000] <boogs>
yes.

[00:41:02.0000] <Hixie>
hm

[00:41:03.0000] <boogs>
We try to not do this ever, but there are cases where you need to know.

[00:41:04.0000] <boogs>
For example, the login screen must be different if you can't reach the server.

[00:41:05.0000] <boogs>
It is useless to show the password box.

[00:42:00.0000] <Hixie>
a login screen while offline?

[00:42:01.0000] <boogs>
A pick-which-user-you'd-like-to-be screen

[00:42:02.0000] <boogs>
profile picker

[00:42:03.0000] <Hixie>
wouldn't you have to be logged in for the app to be cached in the first place?

[00:42:04.0000] <Hixie>
ew

[00:42:05.0000] <Hixie>
isn't that what the os profile picker is for?

[00:42:06.0000] <boogs>
do people use that? :)

[00:43:00.0000] <boogs>
having multiple users on the same os session is a fact of life for web apps I think.

[00:44:00.0000] <Hixie>
hm, that wasn't on the list of reqs :-/

[00:44:01.0000] <Hixie>
i have no idea how to handle that well

[00:44:02.0000] <boogs>
you don't need to spec for it

[00:44:03.0000] <boogs>
It is possible to provide the feature without any changes to your spec, it just means webdevs need to do some ugly things.

[00:45:00.0000] <Hixie>
wanna avoid ugly things if possible :-)

[00:46:00.0000] <boogs>
Anyway, all of this is workaroundable. If you make the image ping trick not work, we can just use xhr. My main point was that it seems mushy to me that some requests silently get cached, others don't.

[00:46:01.0000] <Hixie>
well the idea is they all get cached except XHR (that being the official way to talk to servers) and anything that isn't a GET (because i don't really want to think about what it means to cache a POST or DELETE)

[00:47:00.0000] <Hixie>
would be interesting to have an explicit way to check for the server though

[00:47:01.0000] <boogs>
But only during load, right?

[00:47:02.0000] <boogs>
(that is what the previous proposal said)

[00:47:03.0000] <Hixie>
i don't think there's anything limited to load, in either proposal

[00:48:00.0000] <boogs>
I think the previous one said that all requests that were GET during load were slurped.

[00:48:01.0000] <Hixie>
no, all GET requests always

[00:48:02.0000] <Hixie>
(maybe when the server gets the manifest (changed or not) we fire an event saying "server up"?)

[00:49:00.0000] <Hixie>
uh, when the UA gets the manifest

[00:49:01.0000] <boogs>
Maybe.

[00:50:00.0000] <boogs>
So if you always capture GETs, that means you can get an inconsistent application.

[00:50:01.0000] <boogs>
I guess that can happen anyway though, if the server restarts during capture.

[00:50:02.0000] <boogs>
or if new files show up or whatever, and apps will have to be robust to that.

[00:50:03.0000] <Hixie>
how would you get an inconsistent application?

[00:51:00.0000] <boogs>
well if you're running v1 on your server, and then you push v2, and then an app requests a resource dynamically.

[00:51:01.0000] <boogs>
it will get resource(v2)

[00:51:02.0000] <boogs>
but it will be running app(v1)

[00:51:03.0000] <Hixie>
oh yeah, but that'll happen today anyway, and also happens regardless of whether we limit it to before load or after load

[00:52:00.0000] <boogs>
gears prevents this by checking the manifest version before and after update

[00:52:01.0000] <Hixie>
how does that prevent it?

[00:52:02.0000] <Hixie>
does it just not show the app in that case?

[00:52:03.0000] <Hixie>
that seems like it would slow page load dramatically

[00:52:04.0000] <Hixie>
(in the initial load case_

[00:52:05.0000] <Hixie>
)

[00:52:06.0000] <boogs>
updates are not linked to page load

[00:52:07.0000] <boogs>
in gears

[00:53:00.0000] <boogs>
they happen completely in the background

[00:53:01.0000] <Hixie>
so what happens if i visit http://example.com/ the first time

[00:53:02.0000] <boogs>
it loads it from the network

[00:53:03.0000] <Hixie>
and an update is pushed at the same time

[00:53:04.0000] <boogs>
you have to call an api to capture in gears

[00:53:05.0000] <Hixie>
ah

[00:53:06.0000] <boogs>
it doesn't happen automatically

[00:53:07.0000] <boogs>
and then updates happen automatically after that

[00:54:00.0000] <boogs>
I had another question: what happens if the upgrader fails?

[00:56:00.0000] <Hixie>
re the earlier question, we could make this system also check the manifest before and after and check they're the same, and throw everything out and retry if they're not

[00:56:01.0000] <Hixie>
what kind of failure? script syntax error so it never responds to the other pages? or?

[00:57:00.0000] <boogs>
right, like a script error at parse or runtime, or maybe a database error updating the schema

[00:59:00.0000] <Hixie>
a database error updating the schema will work the same as in the only-online-app case

[00:59:01.0000] <Hixie>
an error in the script, though, can work gracefully -- the other pages, when they try to communicate with the upgrader, will see something bad happened (e.g. cos it doesn't respond) and will be able to report it, or ignore the upgrader

[00:59:02.0000] <boogs>
to put it another way, is the update successful before or after the updater?

[01:00:00.0000] <boogs>
sorry, upgrader

[01:00:01.0000] <Hixie>
for the purposes of checking consistency?

[01:00:02.0000] <Hixie>
before

[01:00:03.0000] <Hixie>
well

[01:00:04.0000] <Hixie>
hmm

[01:02:00.0000] <Hixie>
i guess it would only work in the manifest case

[01:02:01.0000] <Hixie>
the consistency check, i mean

[01:02:02.0000] <Hixie>
since in the other case, you're already running script

[01:04:00.0000] <boogs>
It seems like it simplifies things to just have the first page load with the new code responsible for doing the update.

[01:04:01.0000] <Hixie>
if you have the app open in multiple tabs, how do they know which is the first?

[01:05:00.0000] <boogs>
Whichever one reloads first.

[01:05:01.0000] <Hixie>
they all reload at the same time

[01:05:02.0000] <boogs>
You can use db transactions (if you keep your local state in the db) to serialize them.

[01:05:03.0000] <boogs>
anyway that is what we do.

[01:05:04.0000] <Hixie>
i guess you could

[01:05:05.0000] <Hixie>
still seems nice to be able to negotiate

[01:06:00.0000] <Hixie>
e.g. you might not want to reload the whole page, but still have the db update

[01:06:01.0000] <Hixie>
in which case you might want to talk to the upgrader to determine what needs to happen

[01:06:02.0000] <boogs>
Yeah, it's a neat idea.

[01:06:03.0000] <Hixie>
i guess we don't need the upgrader concept, just seemd like a useful thing to have if we were having the simple one-page case slurp anyway

[01:07:00.0000] <Hixie>
i mean, it's basically free at that point

[01:07:01.0000] <Hixie>
and seems easy enough to implement

[01:07:02.0000] <boogs>
What you mean because you already had to implement the hidden window thing?

[01:08:00.0000] <Hixie>
yeah assuming we still support the one-page case the way it's described, with no manifest, the upgrader in the manifest case seems to be a minor addition

[01:08:01.0000] <Hixie>
maybe i'm just trying to be too clever for my own good though

[01:09:00.0000] <boogs>
It's a nice touch to be able to communicate between the windows.

[01:09:01.0000] <boogs>
That solves one problem in gears because right now if window 1 upgrades the schema, window 2 doesn't know and can corrupt it by accessing it with old code.

[01:09:02.0000] <Hixie>
yeah

[01:10:00.0000] <boogs>
We had wanted to solve that by having versioned db connections

[01:10:01.0000] <Hixie>
i've added a note about an event to fire with the manifest is fetched (whether changed or not)

[01:10:02.0000] <Hixie>
to my notes

[01:10:03.0000] <Hixie>
fwiw

[01:10:04.0000] <Hixie>
the other issues was ensuring consistency during an update, right?

[01:10:05.0000] <boogs>
yes, it would be nice to check the manifest again after update.

[01:11:00.0000] <boogs>
i guess it's then on the developer to know that if they fetch things after load, that can make their app inconsistent.

[01:11:01.0000] <boogs>
and they should check that.

[01:11:02.0000] <Hixie>
yeah

[01:12:00.0000] <Hixie>
what's the alternative? just fail the later loads?

[01:12:01.0000] <boogs>
I suppose you could recheck the manifest before each later load :-/

[01:12:02.0000] <boogs>
and after :P

[01:12:03.0000] <Hixie>
heh

[01:13:00.0000] <boogs>
aight, i'm off. thanks for your time.

[01:13:01.0000] <Hixie>
later

[01:13:02.0000] <othermaciej>
boogs: if you are doing anything that would make the autoslurping unworkable...

[01:13:03.0000] <Hixie>
boogs: and thank _you_!

[01:13:04.0000] <othermaciej>
boogs: you can always use a manifest

[01:14:00.0000] <othermaciej>
it doesn't seem to hurt to also have it

[01:14:01.0000] <boogs>
othermaciej: yeah, i liked the slurping a lot from the first proposal because it seems great for new developers.

[01:14:02.0000] <othermaciej>
the question is just whether any real apps are simple enough to work that way

[01:15:00.0000] <othermaciej>
I guess it is nice for prototyping

[01:15:01.0000] <boogs>
we have a lot of disagreements on our team about whether it is more of a help or a hinderance.

[01:15:02.0000] <boogs>
and also the guys say that it seems implement for gears, so we might have to skip it either way.

[01:16:00.0000] <othermaciej>
pardon?

[01:16:01.0000] <boogs>
pardon which?

[01:16:02.0000] <othermaciej>
"and also the guys say that it seems implement for gears" ==> parse error

[01:16:03.0000] <boogs>
heh

[01:16:04.0000] <boogs>
seems hard to implement

[01:17:00.0000] <othermaciej>
ah

[01:17:01.0000] <othermaciej>
I have to get to bed

[01:17:02.0000] <boogs>
me too.

[01:17:03.0000] <othermaciej>
I'm gonna take the train to work tomorrow so I have quiet time to read the relevant proposals

[01:17:04.0000] <othermaciej>
nini

[01:17:05.0000] <boogs>
toodles.

[02:50:00.0000] <hsivonen>
Philip`_: re: th in layout tables: http://www.spiderrobinson.com/ looks like SEO. yay for trustworthy semantics

[02:51:00.0000] <hsivonen>
eww. http://blindconfidential.blogspot.com/ is hard to read visually due to all the <br>s

[02:54:00.0000] <Lachy>
comment 42 is interesting http://www.456bereastreet.com/archive/200709/can_the_alt_attribute_be_omitted_without_hurting_accessibility/#comment42

[02:55:00.0000] <Lachy>
though I'm not sure how a UA could treat img without alt any different from <img noalt> - I thought it was just a validation indicator

[02:56:00.0000] <zcorpan>
they might want to treat altless <img> the same as alt="" because of the many decorative images that don't have alt, perhaps?

[02:57:00.0000] <Lachy>
maybe, but there are also a lot of existing content images without alt as well and adding noalt now won't fix them all

[02:57:01.0000] <hsivonen>
suppose J. Random Hacker is a dev on a Web app team

[02:57:02.0000] <zcorpan>
Lachy: true

[02:58:00.0000] <hsivonen>
the app gets images from users and external database or whatever source outside the policy enforcement control of the app devs

[02:58:01.0000] <hsivonen>
marketing has just advertised the app as being standards compliant

[02:58:02.0000] <hsivonen>
the manager tells the devs to make sure the pages validate

[02:59:00.0000] <hsivonen>
now the devs are going to generate whatever the spec says is OK

[02:59:01.0000] <hsivonen>
if the spec says it is no alt attribute, they'll do that

[03:00:00.0000] <hsivonen>
if the spec says it is some alt attribute, they'll put some junk in there

[03:00:01.0000] <hsivonen>
if it says noalt, they'll just do that

[03:00:02.0000] <hsivonen>
in the end, noalt would just get autogenerated

[03:00:03.0000] <hsivonen>
so you couldn't use it for determining how essential an image is

[03:01:00.0000] <hsivonen>
just that the generator couldn't tease an alt out of the image source

[03:01:01.0000] <hsivonen>
now how is noalt better than no alt?

[03:01:02.0000] <hsivonen>
for UAs

[03:01:03.0000] <Lachy>
so it really depends which alternative can help make the best of a bad situation for the end user?

[03:02:00.0000] <hsivonen>
Lachy: yes

[03:03:00.0000] <hsivonen>
actually s/generate whatever the spec says is OK/whatever passes the validator with the least effort/

[03:03:01.0000] <othermaciej>
I don't know if noalt would be useful to UAs

[03:03:02.0000] <othermaciej>
the way it would be helpful is for thoughtful content authors or web app developers who want to make sure that every image has alt text that possibly could

[03:03:03.0000] <othermaciej>
and who want to use a validator to ensure that

[03:04:00.0000] <othermaciej>
if omitting alt is not allowed, it can't be a validator error

[03:04:01.0000] <othermaciej>
it could be a validator warning

[03:04:02.0000] <othermaciej>
but if sometimes you meant to omit alt and other times it was just a mistake, in the same document, then the warning is not very helpful

[03:04:03.0000] <othermaciej>
because you can't get the warning count to 0 so it's hard to notice new ones creeping in

[03:04:04.0000] <othermaciej>
I don't know if that is enough justification for adding an attribute to the language

[03:05:00.0000] <othermaciej>
but it seems like it would be a real benefit

[03:05:01.0000] <othermaciej>
my mental analogy is to warnings from a C/C++ compiler

[03:05:02.0000] <othermaciej>
any warnings that can be practically avoided in all cases, we just turn on -Werror and they never happen

[03:05:03.0000] <othermaciej>
warnings that can't always be practically avoided we basically don't benefit from

[03:05:04.0000] <othermaciej>
to draw a more concrete analogy

[03:05:05.0000] <othermaciej>
gcc will warn on this:

[03:06:00.0000] <othermaciej>
if (x = someFunc()) { /.../ }

[03:06:01.0000] <othermaciej>
(because you probably meant ==)

[03:06:02.0000] <othermaciej>
but not on this:

[03:06:03.0000] <othermaciej>
if ((x = someFunc())) { /*...*/ }

[03:06:04.0000] <othermaciej>
because the extra parens are so unlikely to occur by accident that clearly you did it to say you really meant to do an assignment there

[03:07:00.0000] <othermaciej>
/me hopes he is still connected

[03:07:01.0000] <zcorpan>
you are :)

[03:07:02.0000] <othermaciej>
zcorpan: ok I guess I just bored everyone then :-)

[03:07:03.0000] <hsivonen>
othermaciej: gcc warnings are for human programmers

[03:07:04.0000] <hsivonen>
othermaciej: not code generators

[03:08:00.0000] <othermaciej>
hsivonen: we build our generated source files with full warnings too, to catch bugs in the code generators

[03:08:01.0000] <hsivonen>
I compiled genx for python yesterday and got and awful lot of warnings but didn't care

[03:09:00.0000] <othermaciej>
well, warnings are for developers of the code, not consumers of the code

[03:09:01.0000] <othermaciej>
I don't care about warnings either when I am just compiling someone else's code

[03:12:00.0000] <hsivonen>
yeah. bad example

[03:13:00.0000] <hsivonen>
but too many warning lead to warning fatigue. my Eclipse workspace has 927 warnings

[03:13:01.0000] <hsivonen>
too many to bother to fix them all

[03:13:02.0000] <hsivonen>
and too harmless to really care

[03:14:00.0000] <othermaciej>
the WebKit build system treats warnings as errors so it makes me fix mine as I go

[03:14:01.0000] <othermaciej>
usually they're not indicative of real bugs, but sometimes they are, often enough to be worth the effort

[03:15:00.0000] <othermaciej>
(I would consider even one real bug fix for every 20 warnings worth it, when considering the cost of any other form of QA)

[03:16:00.0000] <othermaciej>
but I know of other projects that turn on lots of warning flags in the build system but never fix the warnings

[03:16:01.0000] <othermaciej>
sometimes they have a theory that they'll go back and fix them in batches at some later time

[03:16:02.0000] <othermaciej>
usually that later time does not arrive

[03:17:00.0000] <othermaciej>
I guess this is a matter of taste, and it's hard to pick one option that lets validators cater to anyone's tastes

[03:17:01.0000] <othermaciej>
I must admit, the terrible results of omitting alt in screen readers (well, JAWS at least) make me doubt the wisdom of omitting alt in public content, it seems like even the worst imaginable autogenerated alt is better

[03:18:00.0000] <othermaciej>
alt="" or alt="image here"

[03:19:00.0000] <hsivonen>
even if I had a zero-tolerance policy for my own code, importing someone else's code is a problem

[03:19:01.0000] <hsivonen>
a great number of warnings come from someone else's code that wasn't originally developed in Eclipse

[03:24:00.0000] <othermaciej>
a possible middle ground would be to make noalt allowed but not required when alt isn't specified

[03:24:01.0000] <Lachy>
it may actually end up being better for the wikipedia and flickr examples in the spec, which are marked up using figure/legend, to just use alt="", since figure already indicates that it's a content image

[03:24:02.0000] <othermaciej>
and validators could have an optional warning for when neither alt or noalt is specified

[03:25:00.0000] <othermaciej>
that makes its utility even more marginal though

[03:26:00.0000] <othermaciej>
perhaps the root of the problem is just that announcing the filename is a very bad heuristic

[03:26:01.0000] <othermaciej>
perhaps compounded by the fact that reading a long string of digits in a garbage filename with millions, billions and thousands instead of just as digits makes it even more annoying

[03:27:00.0000] <Lachy>
sure, but in some cases, there's nothing else available.  Consider <a href="..."><img src=home.png></a>, it's really not that bad

[03:27:01.0000] <othermaciej>
D3124597.JPG wouldn't think "3 million" while reading it

[03:28:00.0000] <Lachy>
it just doesn't work for long numeric, auto-generated file names

[03:28:01.0000] <othermaciej>
it works well for the kind of filenames that are most likely to occur in cases where useful alt text is more likely to be available

[03:30:00.0000] <othermaciej>
I guess I'm assuming that hearing "dee three million one hundred twenty-four thousand five hundred ninety-seven dot jay pee gee" is way more irritating than seeing the filename

[03:30:01.0000] <othermaciej>
especially repeatedly hearing similar ones

[03:31:00.0000] <othermaciej>
but I could be wrong on that, since I've never tried to seriously use a screen reader

[03:38:00.0000] <krijnh>
Philip`_, zcorpan: added white-space: pre-wrap; :)

[03:40:00.0000] <zcorpan>
did it make a difference?

[03:40:01.0000] <krijnh>
In Opera, yes :)

[03:41:00.0000] <zcorpan>
ah, there

[03:41:01.0000] <krijnh>
Hmm, Kestrel has support for :target as well, nice

[04:11:00.0000] <hendry>
is there some forms stuff for telephone numbers with whatwg?? I assumed there probably was

[04:21:00.0000] <Dashiva>
I hope not, telephone number validation is a nightmare

[04:21:01.0000] <Dashiva>
(mostly for the users)

[04:23:00.0000] <hendry>
i'm tired of crap form validators by web authors

[04:23:01.0000] <krijnh>
/me guilty!

[04:27:00.0000] <Dashiva>
hendry: The only way to validate a phone number is not to validate it

[04:34:00.0000] <zcorpan>
hendry: pattern=""?

[04:35:00.0000] <krijnh>
How can you style the default Opera error message?

[04:35:01.0000] <zcorpan>
not sure you can

[04:36:00.0000] <zcorpan>
but you can override it altogether

[04:44:00.0000] <hendry>
zcorpan: ok. i see web authors struggling to come up with a pattern for telephone numbers. oh well

[04:57:00.0000] <virtuelv>
oh, I never noticed that :target was in

[04:57:01.0000] <virtuelv>
means http://virtuelvis.com/gallery/css3/target/interface.html#contact now works in most browsers

[04:59:00.0000] <krijnh>
virtuelv: you work at Opera ;]

[05:00:00.0000] <krijnh>
How can you not know about :target

[05:00:01.0000] <virtuelv>
krijnh: yeah, but my day job isn't exactly centered around CSS

[05:00:02.0000] <krijnh>
Is there anything else?

[05:01:00.0000] <krijnh>
:+

[05:01:01.0000] <virtuelv>
:)

[05:01:02.0000] <hsivonen>
/me smiles at “Sometimes I go so far as to use quotation marks rather than <q> or <blockquote>. I know, I'm completely out of control.”

[05:08:00.0000] <Lachy>
it's interesting how some people want to introduce semantics for just about everything, while others want to remove existing and useful semantics like blockquote

[05:24:00.0000] <virtuelv>
removing blockquote!?

[05:25:00.0000] <zcorpan>
yes, <div class="quote" cite="..."> makes more sense, apparently

[05:29:00.0000] <zcorpan>
hmm. wonder if there's a simple way to compare two elements' all properties except namespace prefixes

[05:30:00.0000] <Lachy>
zcorpan, using DOM APIs?

[05:30:01.0000] <zcorpan>
with javascript

[05:30:02.0000] <zcorpan>
yeah

[05:31:00.0000] <zcorpan>
for the purpose of testing getting innerHTML in XML

[05:31:01.0000] <zcorpan>
i'll build a particular dom tree, then serialize that with innerHTML, parse the resulting string and compare the result with the original tree

[05:32:00.0000] <zcorpan>
(for now i'll assume that cdata sections must be serialized as cdata sections)

[05:32:01.0000] <Lachy>
I think you'll have to write your own function

[05:32:02.0000] <zcorpan>
yeah

[05:35:00.0000] <Lachy>
why would you compare everything except namespace prefixes? aren't they preserved?

[05:37:00.0000] <zcorpan>
"User agents may adjust prefixes and namespace declarations in the serialisation (and indeed might be forced to do so in some cases to obtain namespace-well-formed XML)."

[05:37:01.0000] <Lachy>
ok

[05:38:00.0000] <zcorpan>
e.g., if you have an attribute in a namespace but no prefix, you have to come up with a prefix when serializing

[05:40:00.0000] <Lachy>
I don't understand how people are interpreting header and footer as being presentational?

[05:40:01.0000] <Dashiva>
Anything that's not a div or span is presentational

[05:41:00.0000] <Lachy>
headers and footers are common features in documents.  It's what common word processing software calls them, it's what a significant portion of authors are calling them

[05:41:01.0000] <Dashiva>
Joke aside, I'd guess they consider having default placement as presentation

[05:42:00.0000] <Dashiva>
Cf. the footer { position: absolute; top: 0; } example on the list

[05:42:01.0000] <Lachy>
http://en.wikipedia.org/wiki/Page_header http://en.wikipedia.org/wiki/Page_footer

[05:44:00.0000] <zcorpan>
http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-April/010686.html

[05:44:01.0000] <Lachy>
yeah, but so what?  Just because their names are somewhat derived from their presentation doesn't make them presentation

[05:45:00.0000] <virtuelv>
zcorpan: dropping blockquote sounds more than a little over-the-top

[05:45:01.0000] <zcorpan>
virtuelv: indeed

[05:47:00.0000] <Dashiva>
I've been expecting some interaction between the "semantics for semantics' sake" people and the "we don't need no stinkin' new elements" people, but so far there's been little

[05:50:00.0000] <Lachy>
the people that think "semantics for the sake of semantics" is a good idea, clearly don't understand what we mean by it

[05:50:01.0000] <Lachy>
they say it's a good idea, and then back it up with examples illustrating semantics that fulfill some use case (though the use case isn't always very strong)

[05:51:00.0000] <Dashiva>
Yeah, we still have a long way to go in establishing a shared vocabulary

[05:52:00.0000] <Lachy>
for those people reading IRC logs who don't understand it: semantics for the sake of semantics means the introducing semantics that have no use case at all. Basically a talisman for semanitc purists

[05:55:00.0000] <zcorpan>
/me waves to log readers :)

[05:56:00.0000] <Dashiva>
The <sentence> suggestion made me think... <sentence><word role="pronoun">I</word><whitespace /></word>agree</word></sentence>

[05:56:01.0000] <hsivonen>
http://stevenclark.com.au/2007/09/08/the-solution-is-a-html-5-apathetic-doctype

[05:57:00.0000] <zcorpan>
http://youtube.com/watch?v=dPHtKarae2Q -- log!

[05:58:00.0000] <Dashiva>
Makes me wonder why anyone would rather read logs on irc than within the comfort of their own irc client

[05:58:01.0000] <Dashiva>
*on the web

[06:01:00.0000] <Lachy>
some people may find the temptation to chat all day too distracting to do any work

[06:05:00.0000] <Lachy>
krijnh, a cool feature for the irc logs would be to list the 20 or so most recent URIs posted in a nice convenient list, so that it's easier to find the interesting ones again later

[06:13:00.0000] <krijnh>
Lachy: good idea

[06:13:01.0000] <krijnh>
Lachy: where? :)

[06:14:00.0000] <krijnh>
And only the last x URIs or an archive?

[06:14:01.0000] <krijnh>
Can also make a checkbox at the top of the log; "only show lines with URIs"

[06:14:02.0000] <Lachy>
make it a monthly archive

[06:15:00.0000] <takkaria>
#

[06:15:01.0000] <Lachy>
should you do it per channel, or combine them all?

[06:16:00.0000] <krijnh>
What I should do, is work right now :)

[06:16:01.0000] <Lachy>
probably better to combine them and then include the channel name and a link to the comment it came from

[06:16:02.0000] <Lachy>
what? this is work!

[06:16:03.0000] <Lachy>
:-)

[06:16:04.0000] <krijnh>
Hehe :)

[06:17:00.0000] <Lachy>
no worries, there's no rush. let me know when it's done

[06:17:01.0000] <krijnh>
I think you'll notice when it's done :)

[06:17:02.0000] <Lachy>
maybe, but I don't check the logs every day

[06:17:03.0000] <krijnh>
What?!

[06:18:00.0000] <Lachy>
sorry, I cheat on your logs by reading them from my own client sometimes :-(

[06:19:00.0000] <krijnh>
Well thanks for ruining my dreams..

[06:19:01.0000] <krijnh>
Go ahead and remove alt as well ;]

[06:22:00.0000] <Lachy>
hey, is there any progress on mirroring the logs on w3.org?

[06:22:01.0000] <krijnh>
Yeah

[06:23:00.0000] <krijnh>
"So for now :) I think we can continue like this."

[06:23:01.0000] <krijnh>
That's progress :)

[06:23:02.0000] <Lachy>
ok, so the idea has been dropped?

[06:24:00.0000] <krijnh>
Yeah

[06:24:01.0000] <Lachy>
ok

[06:24:02.0000] <krijnh>
Told Karl I wasn't planning to take down my domain/server

[06:24:03.0000] <krijnh>
And if I did, I would hand over all logs and stuff to them

[06:25:00.0000] <krijnh>
And would make sure I'd redirect everything properly

[06:25:01.0000] <Lachy>
ok

[06:34:00.0000] <hsivonen>
krijnh: RFE for the IRC logs: it would be useful to have classes for people who say stuff on IRC and for people to whon stuff is being said

[06:34:01.0000] <krijnh>
Come again?

[06:34:02.0000] <hsivonen>
like the above would have class='auth-hsivonen re-krijnh' or somethig

[06:34:03.0000] <krijnh>
Ah

[06:34:04.0000] <krijnh>
That'd be cool

[06:35:00.0000] <krijnh>
Combined with user stylesheets you mean?

[06:35:01.0000] <hsivonen>
krijnh: yes

[06:37:00.0000] <zcorpan>
custom attributes! _author="hsivonen" _re="krijn"

[06:38:00.0000] <krijnh>
If anybody can hand me the regex stuff for that :)

[06:38:01.0000] <krijnh>
PHP, $line is the entire line

[06:39:00.0000] <krijnh>
<?php foreach ($lines as $number => $line) { ?>

[06:39:01.0000] <krijnh>
 <li id="l-<?php echo $number + 1; ?>"<?php if (in_array($number + 1, $flaggedLines)) { echo ' class="flagged"'; } ?>><a href="#l-<?php echo $number + 1; ?>">#</a> <?php echo rtrim($line); ?> <span> </span></li>

[06:39:02.0000] <krijnh>
<?php } ?>

[06:39:03.0000] <krijnh>
That's what I'm currently using :)

[06:39:04.0000] <zcorpan>
hold on

[06:40:00.0000] <krijnh>
($line is htmlspecialchar()'ed btw)

[06:42:00.0000] <zcorpan>
it would be simpler to fetch the relevant bits before htmlspecialchar() :)

[06:42:01.0000] <krijnh>
Yeah :)

[06:42:02.0000] <zcorpan>
is that possible=

[06:42:03.0000] <zcorpan>
?

[06:42:04.0000] <krijnh>
Now I just read in the entire file

[06:42:05.0000] <krijnh>
And htmlspecialchar() that

[06:43:00.0000] <krijnh>
But it's PHP, so totally flexible ;]

[06:43:01.0000] <zcorpan>
can't you htmlspecialchar() at the end, after splitting lines?

[06:43:02.0000] <krijnh>
Sure

[06:43:03.0000] <zcorpan>
ok

[06:44:00.0000] <krijnh>
You want the entire code?

[06:44:01.0000] <zcorpan>
no

[06:44:02.0000] <krijnh>
oki

[06:44:03.0000] <krijnh>
Ow wait

[06:44:04.0000] <krijnh>
I htmlspecialchars() before adding <a> :)

[06:44:05.0000] <krijnh>
That's why

[06:57:00.0000] <krijnh>
/me is waiting like http://youtube.com/watch?v=TTwgNhX4BSo ;p

[07:01:00.0000] <krijnh>
Lachy did a better job presenting himself on Youtube

[07:03:00.0000] <zcorpan>
sorry, got distracted :)

[07:03:01.0000] <krijnh>
Np :)

[07:04:00.0000] <krijnh>
It's not like you get payed to work on HTML5

[07:04:01.0000] <krijnh>
Ow, wait ;)

[07:06:00.0000] <zcorpan>
ereg('/<([^>]+)> ([^ ]+(?:\:|,))?/', $line, $regs);

[07:06:01.0000] <zcorpan>
$author = $regs[1];

[07:07:00.0000] <zcorpan>
$re = $regs[2];

[07:07:01.0000] <zcorpan>
not tested

[07:07:02.0000] <Lachy>
/me wonders if that german kid was a set up? Why would someone film themselves freaking out and then post it on youtube?

[07:12:00.0000] <Lachy>
you'd have to process the $author and $re to handle special characters that can't be used in class="" (if any) and you might want to treat names ending with underscores as equivalent to those without

[07:13:00.0000] <gsnedders>
zcorpan: ereg is being removed by default from PHP6

[07:13:01.0000] <zcorpan>
gsnedders: ok. what is to be used instead?

[07:13:02.0000] <gsnedders>
zcorpan: pcre

[07:13:03.0000] <gsnedders>
zcorpan: which is installed by default since PHP 4.1, IIRC

[07:14:00.0000] <Lachy>
what's the difference between the pcre and ereg?

[07:14:01.0000] <gsnedders>
typical PHP attitude to backwards compat

[07:14:02.0000] <gsnedders>
Lachy: ereg is POSIX regex, PCRE is perl-compat

[07:15:00.0000] <Lachy>
yeah, I knew that much, but do they use differnet reg ex syntax?

[07:15:01.0000] <zcorpan>
ereg is presentational, pcre is semantic

[07:15:02.0000] <zcorpan>
/me hides

[07:16:00.0000] <zcorpan>
/me would be surprised if his suggested regex would actually work, he usually gets something wrong

[07:16:01.0000] <krijnh>
:)

[07:17:00.0000] <gsnedders>
zcorpan: what are we trying to do?

[07:17:01.0000] <zcorpan>
extract author and re

[07:17:02.0000] <zcorpan>
from $line

[07:17:03.0000] <krijnh>
gsnedders: extracting hsivonen and krijnh from '[14:43] &lt;hsivonen&gt; krijnh: yes' 

[07:17:04.0000] <Lachy>
gsnedders, see the last messages from hsivonen

[07:17:05.0000] <gsnedders>
Lachy: POSIX allows things like [[:digit:]], whereas in PCRE you'd need to use [0-9]

[07:19:00.0000] <zcorpan>
krijnh: the regexp (if it works at all) will only work with "[14:43] <hsivonen> krijnh: yes"

[07:19:01.0000] <krijnh>
zcorpan: Yeah, I know

[07:21:00.0000] <krijnh>
Will fix it tomorrow

[07:21:01.0000] <krijnh>
Real work now :)

[07:22:00.0000] <gsnedders>
preg_match('/<([^)]*)> (\S*)[:,]/', $line, $match);

[07:22:01.0000] <gsnedders>
$author = $match[1];

[07:22:02.0000] <gsnedders>
$to = $match[2];

[07:22:03.0000] <gsnedders>
preg_match('/<([^>]*)> (\S*)[:,]/', $line, $match); even

[07:23:00.0000] <krijnh>
(and now with &lt; and &gt; ;> )

[07:23:01.0000] <gsnedders>
well, just replace them verbatim

[07:25:00.0000] <gsnedders>
bbl

[07:32:00.0000] <zcorpan>
that looks better than mine :)

[07:32:01.0000] <krijnh>
Only matches lines with both in it though :)

[07:32:02.0000] <krijnh>
Splitting them works

[07:36:00.0000] <zcorpan>
 /<([^>]*)> (?:(\S*)[:,])?/

[07:36:01.0000] <zcorpan>
should work

[07:37:00.0000] <krijnh>
<li id="l-598" _a="zcorpan"><a href="#l-598">#</a> [15:44] &lt;zcorpan&gt; should work <span> </span></li>

[07:37:01.0000] <krijnh>
\o/

[07:37:02.0000] <zcorpan>
perhaps \S+ instead of \S* also

[07:37:03.0000] <krijnh>
Including the tbe bugs :]

[07:38:00.0000] <krijnh>
<li id="l-597" _a="zcorpan&gt;  /&lt;([^&gt;]*)"><a href="#l-597">#</a> [15:44] &lt;zcorpan&gt;  /&lt;([^&gt;]*)&gt; (?:(\S*)[:,])?/ <span> </span></li>

[07:38:01.0000] <krijnh>
Bah

[07:38:02.0000] <krijnh>
preg_match('/&lt;(.*)&gt;/U', $line, $match);

[07:38:03.0000] <krijnh>
(Ungreedy stuff)

[07:40:00.0000] <zcorpan>
yeah, you need [^>] to make it not leak outside the <...>

[07:40:01.0000] <krijnh>
Now in your user stylesheet put something like ol#lines li[_a='me'] { color: #aaa; font-size: 60%; }

[07:41:00.0000] <zcorpan>
which is why it needs to be done before htmlspecialchars :)

[07:41:01.0000] <krijnh>
It's okay now, right?

[07:42:00.0000] <zcorpan>
afaict

[07:42:01.0000] <krijnh>
Or if you really like yourself: ol#lines li[_a='me'] { font-weight: bold; font-size: 120%; }

[07:43:00.0000] <krijnh>
Of course :)

[07:44:00.0000] <Lachy>
krijnh, you could make it easier for us and allow us to log in with our usernames, which then sets a cookie that you can use to generate the appropriate CSS

[07:44:01.0000] <krijnh>
Sure, sure

[07:44:02.0000] <krijnh>
;p

[07:44:03.0000] <krijnh>
*sigh*

[07:45:00.0000] <Lachy>
where logging in only requres a name, not a password or anything complicated

[07:45:01.0000] <krijnh>
Yep

[07:45:02.0000] <krijnh>
A list of names prolly

[07:45:03.0000] <zcorpan>
doesn't the "to" work?

[07:45:04.0000] <krijnh>
Not yet

[07:45:05.0000] <krijnh>
But thanks for trying! :p

[07:46:00.0000] <zcorpan>
:)

[07:51:00.0000] <Lachy>
krijnh, replace /:-?[\)\(]/ with emoticon graphics

[07:52:00.0000] <Philip`>
<li id="l-442" _a="q"><a href="#l-442">#</a> [13:09] * hsivonen smiles at ?Sometimes I go so far as to use quotation marks rather than &lt;q&gt; or &lt;blockquote&gt;. I know, I'm completely out of control.? <span> </span></li>

[07:52:01.0000] <Philip`>
^ that _a="q" shouldn't be there

[07:52:02.0000] <krijnh>
Lachy: Hush! ;p

[07:52:03.0000] <krijnh>
Any ideas for styling your own lines?

[07:52:04.0000] <krijnh>
Philip`: good point

[07:53:00.0000] <Philip`>
What happens if I write <"style="text-decoration:blink> ?

[07:53:01.0000] <Lachy>
krijnh, how about checking it into google code so we can all contribute to it instead of making you do all the work?

[07:53:02.0000] <krijnh>
If a line starts with * foobar _a should be foobar

[07:53:03.0000] <Philip`>
Uh

[07:53:04.0000] <Philip`>
/me tries <"style="text-decoration:blink> again

[07:53:05.0000] <Philip`>
Bah, you escape it :-(

[07:54:00.0000] <zcorpan>
 /^.{8}<([^>]*)> (?:(\S+)[:,])?/

[07:55:00.0000] <krijnh>
:D

[07:55:01.0000] <krijnh>
http://krijnhoetmer.nl/irc-logs/

[07:55:02.0000] <krijnh>
Everybody

[07:55:03.0000] <krijnh>
Insert your nicks!

[07:55:04.0000] <krijnh>
;]

[07:55:05.0000] <krijnh>
(comma separated doesn't work yet btw)

[07:56:00.0000] <zcorpan>
lol

[07:56:01.0000] <krijnh>
:>

[07:57:00.0000] <krijnh>
Eat that for rapid development, RoR ;p

[07:57:01.0000] <krijnh>
Anyway, styling for your own lines?

[07:57:02.0000] <zcorpan>
font-weight:bold ?

[07:57:03.0000] <Lachy>
yeah, bold would be better than a colour

[07:58:00.0000] <krijnh>
Refresh

[07:58:01.0000] <krijnh>
Horrible ;\

[07:58:02.0000] <Philip`>
krijnh: What if I have a different name on each channel? :-)

[07:58:03.0000] <krijnh>
Philip`: comma separated list

[07:58:04.0000] <Lachy>
oh, I didn't realise you put blink in there (I have it disabled, so I didn't notice)

[07:58:05.0000] <krijnh>
Philip`: but not yet :) don't want to spoil it this quick

[07:59:00.0000] <zcorpan>
krijnh: can you have font-family:monospace so i can get my preferred monospace font? :)

[07:59:01.0000] <krijnh>
Done

[07:59:02.0000] <zcorpan>
thanks

[08:00:00.0000] <krijnh>
I don't like the boldish stuff

[08:00:01.0000] <Lachy>
hmm. bold doesn't work too well with monospace fonts

[08:00:02.0000] <krijnh>
Nope

[08:01:00.0000] <zcorpan>
works good with the font i use :)

[08:01:01.0000] <krijnh>
I guess it's a personal preference

[08:01:02.0000] <krijnh>
My lines don't make sense

[08:01:03.0000] <krijnh>
So I like them whiped out

[08:01:04.0000] <krijnh>
:p

[08:01:05.0000] <Lachy>
background: lime; isn't too bad

[08:02:00.0000] <krijnh>
If you like Spice Girls it isn't

[08:02:01.0000] <krijnh>
(or testcases)

[08:02:02.0000] <zcorpan>
a left thick border?

[08:03:00.0000] <Lachy>
background: deepskyblue; ?

[08:03:01.0000] <krijnh>
/me evil

[08:03:02.0000] <zcorpan>
mediumspringgreen

[08:04:00.0000] <Lachy>
oh, nice

[08:04:01.0000] <krijnh>
Anybody else want their own colors? :P

[08:04:02.0000] <Lachy>
add a colour selector

[08:04:03.0000] <krijnh>
I should integrate this with myspace

[08:04:04.0000] <Lachy>
let us pick our own!

[08:05:00.0000] <zcorpan>
/me needs to do actual work now

[08:05:01.0000] <krijnh>
Same here

[08:05:02.0000] <krijnh>
Done playing for today :)

[08:07:00.0000] <krijnh>
Philip`: remind me of the bugs if I forget to do anything about them ;]

[08:07:01.0000] <virtuelv>
hm. does khtml support "opacity" now, or is it just -khtml-opacity?

[08:07:02.0000] <virtuelv>
(and webkit?)

[08:09:00.0000] <Philip`>
krijnh: Don't expect me to ever remember anything :-p

[08:10:00.0000] <krijnh>
:)

[08:10:01.0000] <Philip`>
Or, rather, expect me to remember things, but don't expect any specific thing to be remembered by me, since it's pretty much random whether I remember or forget a particular thing

[08:30:00.0000] <hsivonen>
krijnh: thank you. 

[08:35:00.0000] <krijnh>
hsivonen: np

[08:56:00.0000] <zcorpan>
yay!

[08:56:01.0000] <zcorpan>
i think my function compareNodes actually works

[08:56:02.0000] <zcorpan>
on first try (after fixing trivial syntax mistakes)

[09:01:00.0000] <zcorpan>
http://simon.html5.org/test/html/serializing/support/test.xht

[09:01:01.0000] <zcorpan>
the demo doesn't work in opera though since we don't support getElementsByTagNameNS :(

[09:04:00.0000] <zcorpan>
oh wait

[09:04:01.0000] <zcorpan>
we do... i just uploaded the wrong file

[09:11:00.0000] <Lachy>
zcorpan, it's not clear what this output actually means: [object Text],[object Text],the text nodes' data

[09:13:00.0000] <zcorpan>
indeed

[09:14:00.0000] <zcorpan>
it returns the nodes that were different and a text that explains what was different

[09:14:01.0000] <zcorpan>
if nothing was different it returns the nodes and an empty string

[09:15:00.0000] <Lachy>
ok

[09:15:01.0000] <zcorpan>
that demo isn't very useful except for me to see that it works :)

[09:32:00.0000] <zcorpan>
hmm, didn't get it quite right with namespaced attributes

[11:23:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/shadow/shadowdemo.png / http://canvex.lazyilluminati.com/misc/shadow/shadowdemo.html - did I forget any interesting cases to test?

[11:39:00.0000] <zcorpan>
http://simon.html5.org/test/html/serializing/002.xht

[11:39:01.0000] <zcorpan>
phew!

[11:40:00.0000] <zcorpan>
i really had to jump through hoops to test getting innerHTML (in both html and xml)

[11:42:00.0000] <zcorpan>
i had to come up with a custom format to express dom trees: http://simon.html5.org/specs/sdf

[11:42:01.0000] <zcorpan>
write a parser for that format in javascript

[11:44:00.0000] <zcorpan>
then write the actual tests in that format, and the expected html string (or exception) and expected exception for xml (if any)

[11:45:00.0000] <zcorpan>
for html, i parse the custom format and build a tree, then serialize it using innerHTML and compare the string with the expected html (or check if an exception was raised)

[11:46:00.0000] <zcorpan>
for xml, i parse the custom format and build a tree, then serialize it using innerHTML, then parse that with an XML parser, then compare the result with the original tree using a function that compares all characteristics of each node *except* namespace declarations and namespace prefixes

[11:48:00.0000] <Philip`>
zcorpan: http://simon.html5.org/specs/sdf - "It has tree strings ..."

[11:49:00.0000] <Philip`>
and "respecively"

[11:50:00.0000] <Philip`>
"U+00A0 LINE FEED"

[11:51:00.0000] <zcorpan>
fixed, thanks

[11:54:00.0000] <Dashiva>
/me wonders why anyone would consider [[:digit:]] an improvement over [0-9]

[11:55:00.0000] <Hixie>
in case the range changes

[11:56:00.0000] <Hixie>
like "PI" is better than 3.14..., in case the value of PI changes

[11:56:01.0000] <Hixie>
:-P

[11:57:00.0000] <Philip`>
You might want to include all Unicode digits, and the [...] syntax isn't incredibly great for that

[11:59:00.0000] <Hixie>
:digit: doesn't include Ud, does it?

[11:59:01.0000] <Hixie>
i thought it was only 0-9

[12:02:00.0000] <Hixie>
er, Nd, i guess

[12:02:01.0000] <Philip`>
perl -e'for (qr/[0-9]/, qr/[[:digit:]]/, qr/\d/) { print "\x{0b66}" =~ $_ ? 1 : 0 }'

[12:02:02.0000] <Philip`>
says 011

[12:02:03.0000] <Philip`>
since U+0B66 is category Nd

[12:03:00.0000] <Hixie>
ah

[12:03:01.0000] <Hixie>
then that answers Dashiva's question

[12:03:02.0000] <Hixie>
they're not the same :-)

[12:03:03.0000] <Dashiva>
But if you're matching more than 0-9 you'd obviously use \d

[12:04:00.0000] <Philip`>
What if you want to match e.g. digits or commas?

[12:04:01.0000] <Dashiva>
[\d,]

[12:04:02.0000] <Philip`>
Hmm...

[12:05:00.0000] <Philip`>
What if you want to match e.g. digits or whitespace?

[12:05:01.0000] <Philip`>
given that \s is not equivalent to [:space:]

[12:05:02.0000] <Philip`>
Actually, ignore the digits bit

[12:05:03.0000] <Philip`>
Actually, ignore all of that

[12:06:00.0000] <Philip`>
since you could use [\s\ck] instead of [[:space:]] which isn't that bad

[12:07:00.0000] <Philip`>
and it's irrelevant for the case of [:digit:] vs \d

[12:08:00.0000] <Philip`>
But [:digit:] wins because it has theoretical purity, being consistent with the other Unicode category matchers

[12:12:00.0000] <Dashiva>
Semantics for semantics' sake, eh? :P

[12:21:00.0000] <tndH_>
fwiw, with a recent php/pcre you can do stuff like /\p{Nd}/u

[12:25:00.0000] <Philip`>
Looks like Perl does that too, but without the /u

[12:25:01.0000] <Hixie>
i just realised that this e-mail: http://html4all.org/pipermail/list_html4all.org/2007-August/000054.html

[12:25:02.0000] <Hixie>
was sent the very day before i banned him from the whatwg list for 2 weeks for being unreasonable.

[12:28:00.0000] <Dashiva>
So while we joke about cabals and conspiracies, they go and form one?

[12:28:01.0000] <Hixie>
yeah, isn't it awesome?

[12:31:00.0000] <Dashiva>
I dunno, how come they aren't getting formal complaints against them? :)

[12:31:01.0000] <Philip`>
I still don't see why they form a secret cabal with a public mailing list

[12:44:00.0000] <kingryan>
Philip`: for the same reason we formed a secret cabal w/ a public IRC channel

[14:38:00.0000] <zcorpan>
interesting.

[14:38:01.0000] <zcorpan>
in opera, setting innerHTML in xml does not raise an exception if the string was malformed

[14:39:00.0000] <zcorpan>
but with DOMParser() it does

[14:39:01.0000] <zcorpan>
safari is the exact opposite

[14:39:02.0000] <zcorpan>
DOMParser() silently passes (it seems to use some sort of liberal xml parser, actually) while innerHTML throws

[14:42:00.0000] <othermaciej>
DOMParser uses libxml

[14:42:01.0000] <othermaciej>
however, it might give you an XML error document (parsed up to the first error) instead of failing

[14:43:00.0000] <zcorpan>
aha

[14:43:01.0000] <zcorpan>
does it have any characteristics i can look for?

[14:46:00.0000] <zcorpan>
a <parseerror> element somewhere

[14:47:00.0000] <zcorpan>
as the first child of the root element even

[14:47:01.0000] <zcorpan>
ok

[14:48:00.0000] <Hixie>
kingryan: #whatwg is hardly secret :-)

[14:54:00.0000] <gsnedders>
Hixie: shhhhh

[14:54:01.0000] <gsnedders>
Hixie: don't tell anyone!

[15:14:00.0000] <zcorpan>
er, make that <parsererror>

[15:29:00.0000] <zcorpan>
so in webkit, the error page can either have a root element "parsererror", or the root element's first child is a "parser error", or the root element's first child's first child is a "parser error"

[15:29:01.0000] <zcorpan>
s/parser error/parsererror/

[15:30:00.0000] <zcorpan>
/me would really prefer an exception instead

[15:30:01.0000] <zcorpan>
when dealing with DOMParser()

[15:33:00.0000] <zcorpan>
re done event, isn't it possible to do onload = onerror = onabort = function() { ... } ?

[15:34:00.0000] <zcorpan>
(which is still less nice than ondone = function() { ... } i guess)

[15:44:00.0000] <zcorpan>
Hixie: when serializing innerHTML in xml, and the element is in no namespace, does xmlns="" need to be specified?

[15:45:00.0000] <zcorpan>
e.g., take this document: <h:p xmlns:h='http://www.w3.org/1999/xhtml'><x/></h:p>

[15:45:01.0000] <zcorpan>
what is the P's innerHTML?

[15:45:02.0000] <zcorpan>
is <x/> ok, or does it need to be <x xmlns=""/>

[15:48:00.0000] <zcorpan>
since setting innerHTML will imply a default namespace, i think the latter

[15:50:00.0000] <zcorpan>
/me thinks the spec needs to be specific about the namespace declarations and prefixes


2007-09-11
[02:17:00.0000] <hsivonen>
hmm. does C# allow switch() {} with any string values or just interned strings?

[02:17:01.0000] <hsivonen>
just curious after glancing at the Twintsam source link for [imps]

[02:17:02.0000] <hsivonen>
from [imps]

[02:21:00.0000] <Lachy>
hsivonen, check the language spec http://msdn2.microsoft.com/en-us/library/Aa645596(VS.71).aspx

[02:25:00.0000] <hsivonen>
hmm. looks like any string is allowed

[02:50:00.0000] <zcorpan>
another case where serialization needs to throw: an element in the "http://www.w3.org/2000/xmlns/" namespace

[02:53:00.0000] <zcorpan>
and an unclear case: two attributes that have the same namespace and local name

[05:12:00.0000] <zcorpan>
/me looks at http://www.w3.org/TR/xml/#NT-AttValue

[05:13:00.0000] <zcorpan>
where does it say that attribute have to follow the Char production?

[05:52:00.0000] <hsivonen>
what's the mediawiki way to say <code>?

[05:53:00.0000] <hsivonen>
bah. <code> according to http://diberri.dyndns.org/wikipedia/html2wiki/index.html

[06:19:00.0000] <hsivonen>
Lachy: is there a way to permanently convince the whatwg wiki that I am not a bot and to suppress the math test?

[06:21:00.0000] <Lachy>
hsivonen, maybe.

[06:26:00.0000] <Lachy>
hsivonen, it should only ask you that when you attempt to add a URI to the page

[06:28:00.0000] <hsivonen>
Lachy: ah. 

[06:28:01.0000] <hsivonen>
Lachy: I have namespace URIs

[06:28:02.0000] <Lachy>
ok

[06:29:00.0000] <Lachy>
I may be able to turn it off for some additional user groups, I'm just trying to find out what group I can put you in to do it

[06:33:00.0000] <Lachy>
hsivonen, I made you a Sysop and Bureaucrat so you have more rights now and won't see the captcha

[06:37:00.0000] <hsivonen>
Lachy: thanks

[06:37:01.0000] <Lachy>
does anyone know if it's possible to delete users? I want to get rid of known spammers completely

[06:55:00.0000] <Lachy>
I'm upgrading wordpress on the blog, so it may break a little bit during the process

[06:57:00.0000] <met_>
hi

[06:57:01.0000] <met_>
http://blog.whatwg.org/ gives some php errors

[06:59:00.0000] <Philip`>
met_: http://krijnhoetmer.nl/irc-logs/whatwg/20070911#l-104

[07:00:00.0000] <met_>
oh, haven't read yesterday log, ok

[07:00:01.0000] <met_>
no today, i am blind

[07:00:02.0000] <met_>
completelly 8-)

[07:00:03.0000] <Philip`>
It was a minute before you joined :-)

[07:14:00.0000] <Lachy>
blog is working again

[07:23:00.0000] <Lachy>
wordpress update is complete, now with a comment preview function

[07:30:00.0000] <hsivonen>
http://html4all.org/wiki/index.php/List_Rules

[07:30:01.0000] <hsivonen>
public-html might benefit from adherence to those rules

[07:35:00.0000] <Philip`>
Do they have a new secret hideout where things like "Greg's draft" of the list rules were circulated?

[07:37:00.0000] <Lachy>
I finally upgraded my own blog too :-)

[07:37:01.0000] <Lachy>
I think I was running an obsolete and insecure version of WP for a while now

[07:56:00.0000] <hsivonen>
http://wiki.whatwg.org/wiki/Validator.nu_XML_Output

[07:56:01.0000] <hsivonen>
comments welcome before I implement

[08:01:00.0000] <zcorpan>
/me would suggest to rename the uri attribute to url, though doesn't feel strongly about it

[08:02:00.0000] <hsivonen>
zcorpan: thanks. done.

[08:07:00.0000] <zcorpan>
hsivonen: is it not allowed to have <code><a> or <a><code> in <message>?

[08:07:01.0000] <zcorpan>
i.e. nest them

[08:07:02.0000] <hsivonen>
zcorpan: <a><code> should be allowed by the prose.

[08:07:03.0000] <zcorpan>
ah, right

[08:08:00.0000] <zcorpan>
why not the other way around?

[08:08:01.0000] <hsivonen>
zcorpan: simplicity

[08:08:02.0000] <zcorpan>
ok

[08:09:00.0000] <Lachy>
why put the url attribute on each info, error and non-document-error element instead of just once on their parent messages element?

[08:09:01.0000] <hsivonen>
Lachy: because messages may pertain to schema or DTD files

[08:10:00.0000] <hsivonen>
Lachy: defining inheritance could save bytes, though

[08:10:01.0000] <Lachy>
ok

[08:10:02.0000] <zcorpan>
the m element is in the v.validator.nu... namespace?

[08:10:03.0000] <Lachy>
yeah, I'd do <messages url=".."> for the default url and then allow url="" on other elements if its different for some

[08:11:00.0000] <hsivonen>
zcorpan: in the n.validator.nu...

[08:11:01.0000] <hsivonen>
Lachy: makes sense

[08:12:00.0000] <Lachy>
so if someone submits an IRI, will the output include the punycode version?

[08:12:01.0000] <hsivonen>
Lachy: yes

[08:12:02.0000] <Lachy>
ok. what's the reason for not outputting IRIs?

[08:13:00.0000] <Lachy>
for better compatibility with legacy software?

[08:13:01.0000] <hsivonen>
Lachy: 1) I don't have the code to do that. 2) It would be less compatible with IRIless clients.

[08:17:00.0000] <Lachy>
does this "implementation may count column numbers in terms of UTF-16 code units instead of characters." mean that characters above the basic multilingual plane, which use more than 16 bits, would be counted as 2 characters instead of 1?

[08:18:00.0000] <zcorpan>
looks good to me

[08:19:00.0000] <hsivonen>
Lachy: yes

[08:20:00.0000] <hsivonen>
zcorpan: thanks

[08:20:01.0000] <Lachy>
hsivonen, would a Content-Type issue be emitted as a <non-document-error>?

[08:21:00.0000] <hsivonen>
Lachy: hmm. IIRC, not

[08:21:01.0000] <hsivonen>
Lachy: IIRC, that's an IOException internally

[08:22:00.0000] <Lachy>
so wouldn't that qualify for <non-document-error type="io">?

[08:25:00.0000] <hsivonen>
Lachy: doh. yes

[08:26:00.0000] <hsivonen>
I should have said yes, above. sorry

[08:26:01.0000] <Lachy>
hsivonen, did you look at the XML output available from validator.w3.org and base any of this of that?

[08:26:02.0000] <hsivonen>
Lachy: I did

[08:26:03.0000] <hsivonen>
Lachy: it is non-streamable

[08:27:00.0000] <hsivonen>
or they are, rather

[08:27:01.0000] <hsivonen>
"I think there are two problems with the SOAP and Unicorn formats: they are unnecessarily complex and they don’t support streaming output."

[08:28:00.0000] <hsivonen>
though it is possible that I overvalue streaming

[08:34:00.0000] <hsivonen>
Lachy: also, the W3C validator format uses the entity-escaped HTML anti-pattern

[08:34:01.0000] <Lachy>
what does that mean?

[08:35:00.0000] <hsivonen>
Lachy: it's like RSS

[08:35:01.0000] <Lachy>
like the <![CDATA[ stuff with escaped HTML?

[08:35:02.0000] <hsivonen>
Lachy: yes

[08:37:00.0000] <Lachy>
oh I see, like in the <m:explanation> and <m:source> elements where it should just use XHTML.

[08:37:01.0000] <Lachy>
http://validator.w3.org/docs/api.html

[08:38:00.0000] <zcorpan>
hsivonen: are clients expected to reject responses where the root element is "messages" in some other namespace?

[08:38:01.0000] <hsivonen>
zcorpan: yes

[08:40:00.0000] <hsivonen>
and now it is time to spec a JSON format...

[08:40:01.0000] <Lachy>
I don't understand the <parse-tree> section

[08:41:00.0000] <hsivonen>
Lachy: if I didn't salt the namespaces and someone loaded it in a browser, it would be a script injection bug to the validator.nu domain

[08:42:00.0000] <zcorpan>
how can you serialize the parse tree to xml if you parsed html that is not serializable as xml?

[08:42:01.0000] <Lachy>
no, I understood the reason for the namespace change, but not how you serialise a parse tree

[08:42:02.0000] <Lachy>
wouldn't that just be the entire document?

[08:42:03.0000] <hsivonen>
zcorpan: I intend to cheat

[08:43:00.0000] <hsivonen>
zcorpan: in the case of white space

[08:43:01.0000] <zcorpan>
hsivonen: what about e.g. colons in local names?

[08:43:02.0000] <hsivonen>
with non-NCName names, I guess I'm going to drop the parse tree

[08:43:03.0000] <zcorpan>
ok

[08:43:04.0000] <hsivonen>
Lachy: yes

[08:44:00.0000] <zcorpan>
perhaps the parse tree could be serialized as http://simon.html5.org/specs/sdf instead? :)

[08:44:01.0000] <hsivonen>
I expect the parse tree part to be the least useful and the most controversial

[08:44:02.0000] <Lachy>
how do you intend to represent the parse tree of HTML documents, especially for the cases where HTML and XML differ

[08:44:03.0000] <zcorpan>
though i need to support character escaping for that format

[08:45:00.0000] <hsivonen>
Lachy: I intend not to

[08:45:01.0000] <hsivonen>
zcorpan: yeah, perhaps I should use SDF instead

[08:46:00.0000] <Lachy>
hsivonen, yeah, sdf would make sense

[08:47:00.0000] <gsnedders>
http://simplepie.org/support/viewtopic.php?id=1167 —that's so typical of PHP bugs.

[08:47:01.0000] <zcorpan>
"\u000C" for a form feed?

[08:48:00.0000] <zcorpan>
perhaps i should look at how css escapes characters and do the same

[08:48:01.0000] <hsivonen>
zcorpan: if you want to represent arbitratry DOMs, you should probably represent UTF-16 code point sequences

[08:48:02.0000] <hsivonen>
not character sequences

[08:49:00.0000] <hsivonen>
\uXXXX

[08:49:01.0000] <hsivonen>
is fine

[08:49:02.0000] <zcorpan>
ok

[08:49:03.0000] <hsivonen>
with surrogates as two escapes

[08:49:04.0000] <zcorpan>
makes sense

[08:50:00.0000] <Lachy>
yeah, \uXXXX would be compatible with JavaScript escape sequences too

[08:50:01.0000] <Lachy>
which might be useful

[08:55:00.0000] <zcorpan>
perhaps the whole spec should talk about utf-16 code points instead of characters

[08:55:01.0000] <hsivonen>
yeah

[08:56:00.0000] <hsivonen>
code units, actually

[08:56:01.0000] <Lachy>
zcorpan, in SDF, do all attribute nodes have to occur before any other child nodes of an element?

[08:56:02.0000] <zcorpan>
Lachy: no

[08:56:03.0000] <zcorpan>
U+0022 QUOTATION MARK -> 0x0022 UTF-16 code unit ?

[08:57:00.0000] <hsivonen>
yeah

[08:57:01.0000] <hsivonen>
but saying QUOTATION MARK is still useful

[08:57:02.0000] <Lachy>
so this would be conforming:

[08:57:03.0000] <Lachy>
e "div"

[08:57:04.0000] <Lachy>
  t "foo"

[08:57:05.0000] <Lachy>
 a "class" "bar"

[08:57:06.0000] <zcorpan>
yes

[08:58:00.0000] <hsivonen>
zcorpan: any particular reason for not have exactly one way of doing it? (so that results would be byte-wise comparable for equality)

[08:58:01.0000] <zcorpan>
i haven't thought much about serializing to sdf yet

[08:59:00.0000] <Lachy>
I would have expected that to be non-conforming and for each node to represented in document order

[09:00:00.0000] <zcorpan>
yeah, although attributes are unordered :) and if you implement it using dom methods it doesn't really matter if an attribute appears after other nodes

[09:02:00.0000] <zcorpan>
if you write sdf by hand you might not want to care about what order you place the attributes (though it makes sense to put them before child nodes of the element)

[09:02:01.0000] <zcorpan>
but when serializing and comparing you'd probably sort the attributes

[09:07:00.0000] <Lachy>
hmm. sdf is a lot nicer than the format onsgmls outputs, which emits attributes before the element

[09:09:00.0000] <zcorpan>
is there a good character that would be encoded as a surrogate pair in utf-16 that i can use in the examples?

[09:10:00.0000] <Lachy>
zcorpan, U+1047E

[09:11:00.0000] <zcorpan>
thanks

[09:11:01.0000] <Lachy>
that's the one that appears in Hixie's email sig

[09:11:02.0000] <zcorpan>
noticed (by googling for it) :)

[09:31:00.0000] <zcorpan>
ok, specced escaping

[09:34:00.0000] <zcorpan>
/me hopes he got the example right

[09:36:00.0000] <Lachy>
zcorpan, can CR and LF occur anywhere within a string?

[09:37:00.0000] <Lachy>
so if a text node spans multiple lines, it's just represnted like this:..

[09:37:01.0000] <zcorpan>
they can

[09:37:02.0000] <Lachy>
t "this string contains

[09:37:03.0000] <Lachy>
a new line"

[09:38:00.0000] <zcorpan>
yes

[09:39:00.0000] <Lachy>
you should probably change "It is not intended for data exchange, but rather intended to be used for test suites.", especially if Henri ends up using it for the validator's parse tree output

[09:40:00.0000] <Lachy>
maybe say that it's primarily intended for test suites

[09:43:00.0000] <hsivonen>
communicating DOMs on XML without using XML doesn't quite feel right

[09:44:00.0000] <hsivonen>
/me likes the images of the JSON spec

[09:45:00.0000] <zcorpan>
Lachy: changed

[10:00:00.0000] <zcorpan>
how is "0x000A" generally pronounced? oh-ecks-... or zero-ecks-... ?

[10:01:00.0000] <Lachy>
zcorpan, I pronounce it zero-ecks...

[10:01:01.0000] <zcorpan>
ok

[10:01:02.0000] <Lachy>
why?

[10:01:03.0000] <zcorpan>
"A 0x..." vs "An 0x..."

[10:02:00.0000] <gsnedders>
zcorpan: I pronounce it oh-ecks-…

[10:02:01.0000] <zcorpan>
oh well :)

[10:03:00.0000] <gsnedders>
zcorpan: though normally only in my head. I have little occasion to actually talk about such things :)

[10:04:00.0000] <zcorpan>
yeah, but it might be annoying to read text that assumes the other pronounciation (by having "a" or "an" in front of it) 

[10:05:00.0000] <zcorpan>
"a FAQ" vs "an FAQ" is the same

[10:05:01.0000] <Lachy>
whenever I read something like that, I just change it mentally to read it how I like it

[10:06:00.0000] <zcorpan>
yeah, that's what is annoying (not very but still)

[10:06:01.0000] <Lachy>
"an FAQ" is correct because I pronounce it F-A-Q rather than "Fack"

[10:07:00.0000] <zcorpan>
/me pronounces it as "fack"

[10:09:00.0000] <gsnedders>
F-A-Q

[10:11:00.0000] <Lachy>
zcorpan, SDF should probably say something about character encodings

[10:12:00.0000] <Lachy>
should a consumer assume SDF files are encoded as UTF-8 or is that left explicitly undefined?

[10:13:00.0000] <zcorpan>
dunno

[10:15:00.0000] <zcorpan>
haven't thought much about it, but so far i've just used bomless utf-8

[10:15:01.0000] <Lachy>
maybe say encoded as UTF-8 or UTF-16 (with an appropriate BOM) or otherwise specified by a higher level protocol or container format

[10:19:00.0000] <hsivonen>
Lachy: why bother with UTF-16 if you have a chance of mandating UTF-8?

[10:19:01.0000] <Lachy>
dunno

[10:20:00.0000] <zcorpan>
thinking about it, perhaps the spec should talk about characters instead of code units for the things that are integral to the syntax itself, and that it's just the \uXXXX escaping that should talk about utf-16 code units

[10:21:00.0000] <hsivonen>
zcorpan: the language itself should probably be defined in terms of characters but the string values it encodes should be strings of UTF-16 code units

[10:21:01.0000] <zcorpan>
yeah

[10:25:00.0000] <hsivonen>
are there any guides on JSON design patterns?

[10:25:01.0000] <hsivonen>
I tried to google, but I only found references to the use of JSON itself being an Ajax design pattern

[10:27:00.0000] <Lachy>
you should be able to just do a 1:1 mapping between elements in the XML format and objects in JSON, with attributes represented as properties.

[10:28:00.0000] <hsivonen>
Lachy: wouldn't such a JSON format suck compared to one designed as JSON?

[10:28:01.0000] <Lachy>
maybe

[10:28:02.0000] <hsivonen>
Lachy: how do you do mixed content in JSON?

[10:29:00.0000] <Lachy>
what kind of mixed content?

[10:29:01.0000] <hsivonen>
the kind that mixes text and inline markup

[10:29:02.0000] <hsivonen>
as far as I can tell, JSON doesn't do mixed content 

[10:30:00.0000] <hsivonen>
which means no document-style XML

[10:30:01.0000] <hsivonen>
only "data"-style XML

[10:30:02.0000] <zcorpan>
/me isn't really sure how to spec the escaping part

[10:30:03.0000] <hober>
"foo ", {"bar": [{}. "baz"]} " quux" is something like "foo <bar>baz</bar> quux"

[10:30:04.0000] <Lachy>
yeah, you'd have to represent xml as strings

[10:31:00.0000] <hsivonen>
zcorpan: I suggest escaping everything except code units that correspond to printable ASCII

[10:31:01.0000] <hober>
(assuming you fix the missing commas, typos, etc. in my example)

[10:32:00.0000] <hsivonen>
zcorpan: assuming you want something that is hard to break and unambiguous for byte comparisons

[10:32:01.0000] <zcorpan>
ok

[10:34:00.0000] <hsivonen>
zcorpan: though that would make the format suck big time as a human-readable tree dump for real pages

[10:35:00.0000] <hsivonen>
as opposed to ASCII-dominated test cases

[10:35:01.0000] <zcorpan>
indeed

[10:37:00.0000] <zcorpan>
though mixing utf-16 escapes and utf-8 characters seems error prone

[10:38:00.0000] <zcorpan>
also, if all non-ascii is escaped it doesn't matter much what encoding is used for the format itself

[10:39:00.0000] <Lachy>
hsivonen, something like this could work http://tinyurl.com/ytldcz

[10:39:01.0000] <hsivonen>
Lachy: yes, except I'm going to leave elaboration out

[10:40:00.0000] <Lachy>
ok

[10:42:00.0000] <hsivonen>
http://wiki.whatwg.org/wiki/Validator.nu_JSON_Output

[10:43:00.0000] <Lachy>
what's extract-offset?

[10:44:00.0000] <hsivonen>
a pointer to the character of interest inside extract

[10:44:01.0000] <hsivonen>
since <m> and mixed content is not JSON-like

[10:46:00.0000] <Lachy>
ok, so it's value would have to give start and end points or start and length

[10:49:00.0000] <hsivonen>
no, only offset to the character of interest

[10:50:00.0000] <hsivonen>
<m> conceptually only designates one character, but it will have to expand not to cut a sequence of a base character plus combining characters

[10:50:01.0000] <hsivonen>
an offset in JSON does not have that problem

[10:54:00.0000] <Lachy>
ok, I thought <m> would mark the whole section.  e.g. for an invalid attribute, it would mark the whole thing: &lt;p <m>align="right"</m>&gt; ...

[10:55:00.0000] <hsivonen>
Lachy: no, it is just for indicating which part of the extract corresponds to line & col

[10:55:01.0000] <Lachy>
ah

[10:55:02.0000] <hsivonen>
attribute errors will point to the last > of the start tag

[10:57:00.0000] <Lachy>
oh, that's unfortunate

[10:57:01.0000] <hsivonen>
I need to figure out how to do this without letting a huge string of combining diacritics to be used as a DoS attack

[10:57:02.0000] <Lachy>
that means for something making use of the API which wants to highlight the attribute itself would need to search the string itself

[10:58:00.0000] <hsivonen>
Lachy: SAX only allows source locations on a per-event basis

[10:58:01.0000] <Lachy>
oh right

[10:58:02.0000] <hsivonen>
Lachy: and the whole start tag is the event

[10:59:00.0000] <Lachy>
I suppose it wouldn't be too hard to use a regex to find the attribute in most cases

[11:00:00.0000] <hsivonen>
Lachy: well, in the case of elements, the element may be implied so you wouldn't find anything matching in the source

[11:00:01.0000] <hsivonen>
at least SAX does some source location

[11:00:02.0000] <hsivonen>
the DOM does none

[11:01:00.0000] <hsivonen>
which is one of the reasons why I wrote my own tree model

[11:02:00.0000] <Lachy>
I updated my example based on the current description in the wiki http://html5.lachy.id.au/clipboard

[11:03:00.0000] <hsivonen>
Lachy: is it OK to copy that into the wiki under the MIT license?

[11:05:00.0000] <Lachy>
as long as you comply with my copyright licence <http://lachy.id.au/about/copyright>, then sure

[11:05:01.0000] <zcorpan>
ok, rewrote the escaping part

[11:08:00.0000] <zcorpan>
hmm

[11:08:01.0000] <hsivonen>
Lachy: unfortunately, I'm not at liberty to release my changes to the Public Domain

[11:08:02.0000] <Lachy>
no worries

[11:09:00.0000] <Lachy>
everything after the first paragraph is basically a non-binding suggestion

[11:09:01.0000] <Lachy>
maybe I should update it to say "or a free licence"

[11:10:00.0000] <hsivonen>
Lachy: I realized it was non-binding

[11:11:00.0000] <hsivonen>
speccing this stuff is so much more tedious than just implementing it and telling people to view source and guess

[11:14:00.0000] <zcorpan>
there, i think i got it right now

[11:15:00.0000] <Lachy>
I updated it

[11:19:00.0000] <Lachy>
hsivonen, I think you should change "extract-offset" to "offset"

[11:19:01.0000] <Lachy>
and consider shortening "non-document-error"

[11:22:00.0000] <Philip`>
/me updates http://canvex.lazyilluminati.com/misc/ref/ref.html so all the examples get automatically conformance-checkered when the HTML is generated

[11:24:00.0000] <hsivonen>
Lachy: any suggestions for "non-document-error"? it won't waste too many bytes as there will be unlikely to be more than two per result

[11:24:01.0000] <hsivonen>
Philip`: with what software?

[11:27:00.0000] <Philip`>
hsivonen: It's using the validator.nu API (with text output)

[11:27:01.0000] <Philip`>
(via httplib)

[11:29:00.0000] <hsivonen>
Philip`: ok

[11:29:01.0000] <Lachy>
my example had syntax errors, I fixed them and updated the wiki

[11:29:02.0000] <hsivonen>
Lachy: thanks

[11:32:00.0000] <Lachy>
hsivonen, probably best to avoid "-" characters in property names because it allows scripts to use this notation: result.messages[0].line, which can't be done with result.result.parse-tree

[11:32:01.0000] <Lachy>
authors would have to use result.result["parse-tree"] instead

[11:33:00.0000] <hsivonen>
Lachy: ok. is any of the names a reserved word by any chance? e.g. "class" is a usual suspect

[11:34:00.0000] <hsivonen>
Lachy: should I use camelCase instead?

[11:34:01.0000] <Lachy>
yeah, that would work

[11:36:00.0000] <hsivonen>
class will be reserved in the future 

[11:36:01.0000] <hsivonen>
http://developer.mozilla.org/en/docs/Core_JavaScript_1.5_Reference:Reserved_Words

[11:37:00.0000] <hsivonen>
should I have type and subtype instead of class and type?

[11:38:00.0000] <Lachy>
yeah

[11:41:00.0000] <virtuelv>
(mildly OT: What is the status of selector support in Firefox 3? does http://virtuelvis.com/download/2007/09/backgammon/ render correctly?)

[11:48:00.0000] <Philip`>
virtuelv: Doesn't work in a build from a few days ago

[11:49:00.0000] <Philip`>
http://www.css3.info/selectors-test/test.html indicates that everything from nth-child to nth-last-of-type is unsupported

[11:52:00.0000] <hsivonen>
What technical change to HTML5 is called for in the message about braille printing charts?

[12:13:00.0000] <Lachy>
wow, IE only has 63.86% market share now according to http://www.itproductivity.org/browser.htm

[12:27:00.0000] <Philip`>
Lachy: And apparently Netscape has 10% - that sounds a bit odd

[12:28:00.0000] <Lachy>
yeah, it's nowhere near the vales wikipedia lists from several other sources

[12:28:01.0000] <zcorpan>
krijnh: would be nice to pick up on /me lines also :)

[12:30:00.0000] <Lachy>
krijnh, it would be nice to not use grey text on a green background also. it's so hard to read

[12:30:01.0000] <zcorpan>
 /^.{8}\* ([^ ]+)/

[12:30:02.0000] <Philip`>
"The survey is accurate to +/- 1.0%" is peculiar - that number of decimal places doesn't really seem justified

[12:31:00.0000] <kingryan>
any idea of the survey's methodology?

[12:31:01.0000] <Philip`>
"a majority of the NS users are on version 4.x"!

[12:33:00.0000] <Lachy>
see what slashdot readers have to say about it http://slashdot.org/article.pl?sid=07/09/11/1222256

[12:34:00.0000] <zcorpan>
the change is also percent units, not percents

[12:34:01.0000] <Philip`>
http://www.e-janco.com/Samples/BrowserSample.pdf lists the sites they got data from

[12:35:00.0000] <Philip`>
(I like how their you-must-register-to-download-it form is circumvented by disabling JavaScript)

[12:36:00.0000] <Lachy>
hmm. 9 web sites isn't really a reasonable sample size

[12:36:01.0000] <Philip`>
By the way, how can they say 63.86% +/- 1.0%?

[12:36:02.0000] <zcorpan>
e.g. opera had 0.78% in 2006 and 1.87% in 2007 according to that table, that's a change of +240%

[12:38:00.0000] <zcorpan>
Philip`: i would guess they rounded the numbers arbitrarily and picked 1.0% out from the blue :)

[12:40:00.0000] <markp>
re: http://krijnhoetmer.nl/irc-logs/whatwg/20070906#l-554

[12:40:01.0000] <markp>
html5lib does NOT have a validator

[12:40:02.0000] <markp>
it has a prototype of an idea of a concept of a half-baked scheme of a validator

[12:40:03.0000] <markp>
i hope that clarifies things

[12:40:04.0000] <Philip`_>
How come Netscape usage increased from 6.3% to 10.2% in the past two years, when a majority of Netscape users are (apparently) Netscape 4.x? Does that mean everybody was using NS4 two years ago, or more people have started using NS4 now than two years ago?

[12:41:00.0000] <markp>
and a disturbing amount of it was written on a red-eye flight from CA to NC

[12:41:01.0000] <Hixie>
netscape usage isn't anywhere near 6% or 10%

[12:41:02.0000] <kingryan>
markp: I didn't mean to overrepresent it as something useful :)

[12:42:00.0000] <markp>
:)

[12:42:01.0000] <zcorpan>
some bots might identify themselves as nn4

[12:42:02.0000] <zcorpan>
though i wouldn't expect that to change the number much

[12:43:00.0000] <Philip`_>
The numbers don't seem entirely convincing

[12:44:00.0000] <Philip`_>
and I'd prefer to not be convinced that people still actually use Netscape 4 :-)

[13:19:00.0000] <zcorpan>
/me is unsure how to implement the escaping with javascript

[13:20:00.0000] <Dashiva>
What kind of escaping?

[13:21:00.0000] <zcorpan>
in sdf

[13:21:01.0000] <zcorpan>
http://simon.html5.org/specs/sdf

[13:21:02.0000] <zcorpan>
see the last example at the bottom

[13:25:00.0000] <Dashiva>
Newlines are serialized as actual newlines?

[13:26:00.0000] <zcorpan>
LFs, yes

[13:27:00.0000] <Dashiva>
Isn't that likely to cause trouble outside browsers?

[13:27:01.0000] <zcorpan>
why?

[13:28:00.0000] <Dashiva>
Could be misinterpreted as a line separator?

[13:29:00.0000] <Lachy>
zcorpan, see http://lachy.id.au/dev/mozilla/sidebar/Unicode/character-tools.html

[13:30:00.0000] <Lachy>
that has the code to deal with parsing \uXXXX

[13:30:01.0000] <zcorpan>
Dashiva: you mean you would parse line for line instead of character by character?

[13:30:02.0000] <zcorpan>
Lachy: thanks

[13:31:00.0000] <Dashiva>
I just know I've used text editors that do weird stuff when faced with both CR and LF mixed

[13:31:01.0000] <Lachy>
String.fromCharCode(codepoint) where code point is XXXX

[13:32:00.0000] <zcorpan>
Lachy: but will that work correctly with surrogate pairs?

[13:32:01.0000] <Lachy>
you have to do each one separately, JS can't deal with astral characters

[13:32:02.0000] <zcorpan>
Dashiva: but this format will only have LFs

[13:33:00.0000] <Dashiva>
Oh! I missed that

[13:33:01.0000] <zcorpan>
Lachy: oh. well then that makes it simpler

[13:33:02.0000] <Lachy>
zcorpan, you should probably make that clearer about LFs, even though that's actually specified in HTML5

[13:33:03.0000] <Dashiva>
What's the reason for not escaping them inside strings, though? 

[13:34:00.0000] <Dashiva>
It makes the code more complex, after all

[13:34:01.0000] <zcorpan>
Lachy: html5?

[13:34:02.0000] <Lachy>
doesn't HTML5 specify how to serialise a DOM

[13:35:00.0000] <zcorpan>
umm. to html and xml using innerHTML

[13:35:01.0000] <Lachy>
well, actually, it defines that CR and CRLF wil be replaced with LF in the input stream, so CRs won't appear in the output

[13:35:02.0000] <Lachy>
unless they're added later

[13:35:03.0000] <zcorpan>
Lachy: right, but the dom can have CRs

[13:36:00.0000] <zcorpan>
Lachy: CRs have to be escaped in sdf

[13:36:01.0000] <Lachy>
why?

[13:36:02.0000] <zcorpan>
to avoid ending up with a mix of CRs and LFs

[13:37:00.0000] <zcorpan>
some text editors will be smart and make sure the file has consistent line endings

[13:38:00.0000] <zcorpan>
Dashiva: i'm not sure what is more complex by having LFs in strings

[13:39:00.0000] <Dashiva>
You need an additional check if ( c == 0x000A ) { emit LF }

[13:39:01.0000] <Lachy>
zcorpan, this works http://html5.lachy.id.au/output?data=%3Cscript%3E%0D%0Avar+c1+%3D+parseInt%28%22D801%22%2C+16%29%3B%0D%0Avar+c2+%3D+parseInt%28%22DC7E%22%2C+16%29%3B%0D%0Avar+chars+%3D+String.fromCharCode%28c1%29+%2B+String.fromCharCode%28c2%29%3B%0D%0A%0D%0Adocument.write%28chars%29%3B%0D%0A%3C%2Fscript%3E&type=text%2Fhtml%3B+charset%3DUTF-8

[13:39:02.0000] <Philip`>
LFs in strings would mean you couldn't use a text editor to indent a chunk of SDF

[13:40:00.0000] <zcorpan>
Philip`: why not?

[13:40:01.0000] <Dashiva>
And from the syntax, it seems like SDF strings are intended to be JS-parseable, which the LFs break

[13:40:02.0000] <Lachy>
zcorpan, because you'd introduce extra spaces into the string

[13:40:03.0000] <Philip`>
Because the editor would add indentation at the start of each line, and if the start of a line is the inside of a string, then you'd be modifying the inside of the string unintentionally

[13:41:00.0000] <zcorpan>
good points

[13:41:01.0000] <zcorpan>
/me takes out the LF special case

[13:41:02.0000] <Lachy>
zcorpan, maybe allow \n and \r to occur within strings

[13:42:00.0000] <zcorpan>
maybe. if i do then i could also allow the other shorthands

[13:42:01.0000] <Lachy>
like \t?

[13:43:00.0000] <zcorpan>
yeah, and \f

[13:43:01.0000] <Lachy>
oh right

[13:43:02.0000] <Lachy>
yeah, those are compatible with various libraries and programming languages, so that shouldn't add too much complexity

[13:44:00.0000] <Philip`>
Can you just define it to be a JSON string?

[13:44:01.0000] <Dashiva>
That's pretty much what it is

[13:44:02.0000] <zcorpan>
well then :)

[13:44:03.0000] <Dashiva>
http://pastebot.nd.edu/3535

[13:45:00.0000] <zcorpan>
i guess i could simplify my parser after these changes

[13:47:00.0000] <Dashiva>
One concern about the current form is that it uses a lot of bytes for non-printables inside the ascii range, but that's hardly a big deal

[13:50:00.0000] <zcorpan>
/me puts sdf in version control

[13:52:00.0000] <hsivonen>
hmm. I wonder if a reply from me is expected to John Foliot's public-html follow-up to my message

[13:58:00.0000] <zcorpan>
ok, changed string to JSON string

[14:01:00.0000] <Hixie>
any italians able to translate this for us? :-) http://scaccoalweb.vnunet.it/2007/09/html-5-ritorno-.html

[14:01:01.0000] <zcorpan>
google translate seems to work :)

[14:01:02.0000] <Lachy>
Hixie http://translate.google.com/translate?u=http%3A%2F%2Fscaccoalweb.vnunet.it%2F2007%2F09%2Fhtml-5-ritorno-.html

[14:02:00.0000] <Hixie>
wow, a translation service that works? *skeptical*

[14:03:00.0000] <zcorpan>
/me points to http://hsivonen.iki.fi/test/translate.html

[14:06:00.0000] <zcorpan>
i use that bookmarklet a lot :)

[14:06:01.0000] <Hixie>
:-)

[14:06:02.0000] <Hixie>
it doesn't work on my portal

[14:06:03.0000] <Hixie>
i guess encodeURIComponent() doesn't work on IDN uris

[14:43:00.0000] <Hixie>
www.satogo.com has a pretty cool AT tool

[14:43:01.0000] <Hixie>
seems on par with JAWS in many ways

[14:44:00.0000] <Hixie>
(there's a free trial if you want to try it)

[16:02:00.0000] <Hixie>
i'm amused by the arguments that say that x% of pages omit alt attributes, since they seem to forget the x% of pages that do include alt attributes but do so in fundamentally useless or bad ways

[16:15:00.0000] <Philip`>
It matters that the x% omitting alt because of lazy/stupid/careless/etc authors is non-zero and non-negligible, because then the 0.00y% that omits alt because their authors conscientiously followed the HTML5 spec (and that has indistinguishable syntax from the first case) will have to be processed with the "lazy/stupid/careless author forgot about alt" semantics, not the "critical part of content" semantics, in order to work in the majority of cases

[16:39:00.0000] <zcorpan>
/me finds it somewhat ironic that http://blog.whatwg.org/result-format seems to have comments disabled

[16:40:00.0000] <zcorpan>
hsivonen: was that intentional?

[16:50:00.0000] <hsivonen>
zcorpan: no. the admin interface tells me they are enabled

[16:50:01.0000] <hsivonen>
Lachy: see above. fallout from the upgrade?

[16:50:02.0000] <hsivonen>
nn

[16:51:00.0000] <zcorpan>
nn hsivonen


2007-09-12
[17:17:00.0000] <Hixie>
Philip`: i don't really understand what the difference between those two modes would be

[17:21:00.0000] <Hixie>
Philip`: nor do i understand why this would be any more of a problem than the UA determining the difference between alt="..." written by morons and alt="..." written usefully

[17:48:00.0000] <Hixie>
still no sign of sebastian?

[17:53:00.0000] <Philip`>
Hixie: When alt was accidentally omitted, the UA can predict there's a good chance it's a decorative image (based on statistics from current content). When an image is explicitly marked as being critical content, there should be a much better chance that it actually is critical content. That can set the initial bias for any heuristics when the UA is trying to decide how to present the image to the user

[17:54:00.0000] <Hixie>
i'm surprised as to your initial assertion

[17:54:01.0000] <Hixie>
is that really true?

[17:54:02.0000] <Philip`>
(The heuristics might be as simple as "if it's got no alt, it's probably decorative, so ignore it" and "if it's marked as important, say "image, press enter for more information"")

[17:55:00.0000] <Philip`>
I haven't looked at any relevant statistics from current content so I don't really know :-)

[17:55:01.0000] <Hixie>
ah ok

[17:55:02.0000] <Philip`>
(Or the heuristics might be some futuristic image analysis thing with a Bayesian classifier or whatever it is)

[17:55:03.0000] <Hixie>
my guess would be that it isn't true

[17:55:04.0000] <Hixie>
and that there is no corrolation between lack of alt text and importance of image

[17:55:05.0000] <othermaciej>
I suspect that images with missing alt show the same statistical distribution of decorative or non-decorative as images that do have alt

[17:55:06.0000] <Hixie>
right, what maciej said

[17:56:00.0000] <Philip`>
If you count the spacer and background images in http://canvex.lazyilluminati.com/misc/imgs.xhtml then there's quite a lot of decorative ones

[17:57:00.0000] <Philip`>
but it'd be easy for a UA to just ignore all files called spacer.gif

[17:57:01.0000] <Philip`>
"quite a lot" isn't very scientific, since I haven't bothered actually counting :-p

[17:57:02.0000] <Hixie>
most images are spacer gifs according to my surveys

[17:57:03.0000] <Hixie>
but they don't all have names like spacer.gif

[17:59:00.0000] <Hixie>
anyway

[17:59:01.0000] <Hixie>
you can tell if an image is a spacer gif quite easily

[17:59:02.0000] <Hixie>
it'll be 100% transparent

[17:59:03.0000] <Hixie>
so that can be one of the heuristics the spec talks about

[18:00:00.0000] <gavin_>
I'd imagine some people use spacers that are the same color as the background, too?

[18:00:01.0000] <Hixie>
my point is that i don't see that lack of alt text is any more of a legacy problem we face than is bad alt text

[18:02:00.0000] <Hixie>
/me looks

[18:04:00.0000] <Hixie>
(er, wc)

[18:04:01.0000] <jruderman>
gavin_: the heuristic could be "all the same color + opacity"

[18:04:02.0000] <gavin_>
yeah

[18:04:03.0000] <gavin_>
that just gets a bit more complicated :)

[18:04:04.0000] <gavin_>
(to implement)

[18:05:00.0000] <Philip`>
They're both problems, but it seems easier to solve the first problem (by identifying intentionally-omitted-alt with some new syntax, so authors can make sure their critical images don't get ignored by incorrect heuristics) than the second problem, and partially solving one problem is usually better than solving none (except when solving that problem takes far too much effort to be worthwhile and distracts from other problems :-) )

[18:10:00.0000] <Hixie>
it's not clear to me that it is possible to identify intentionally-omitted-alt from lazily-omitted-alt.

[18:11:00.0000] <Hixie>
(or from ignorantly-included-alt)

[18:12:00.0000] <Hixie>
because tools tend to mix all three of those up

[18:23:00.0000] <Philip`>
It's not possible to identify them if the syntax for both is <img src=...> with no alt, so it'd need other syntax like <img noalt> or <figure><img></figure> or whatever

[18:23:01.0000] <Hixie>
i don't understand why the syntax makes things any better

[18:23:02.0000] <Philip`>
Then they'd still get mixed up and used wrong, but there should be some (imperfect) correlation between images-marked-as-important (with intentionally omitted alt) and images-which-are-important, so UAs can make more accurate guesses - they still have to guess, but they can guess better than with no extra information, and good authors can help their users by making UAs guess in the right direction

[18:23:03.0000] <Hixie>
what will stop people from using <img noalt> to shut up the validator?

[18:24:00.0000] <Hixie>
i guess i'm not convinced that it would really improve matters that much

[18:25:00.0000] <hober>
I suspect the primary use of @noalt would be to make the validator stop complaining

[18:26:00.0000] <Hixie>
in particular, i'm not convinced that if we added an <img noalt> or <img missing-alt> attribute, that well-meaning people would be able to tell the difference between <img alt=""> and <img missing-alt> or <img noalt>.

[18:26:01.0000] <Hixie>
and we would actually end up making it worse -- making images that are critical get explicitly marked as decorative (<img alt="">)

[18:39:00.0000] <Hixie>
othermaciej_: any news on the offline storage stuff? i'd like to spec a first draft soon

[18:42:00.0000] <othermaciej_>
Hixie: it's high on my todo list for the next few days

[18:43:00.0000] <othermaciej>
I think the basic model seems sound, I just want to think through some of the details (especially with respect to updating)

[18:45:00.0000] <othermaciej>
Hixie: if you want, I can come by and we can discuss with a whiteboard (maybe aa would be interested as well)

[18:46:00.0000] <othermaciej>
but I'll try to write up some comments first

[18:46:01.0000] <othermaciej>
Hixie: I'm very interested in having offline stuff in the spec soon

[18:46:02.0000] <Hixie>
cool

[18:47:00.0000] <Hixie>
yeah you're welcome to come over and discuss it

[18:47:01.0000] <aa>
othermaciej: yes, interested

[18:48:00.0000] <othermaciej>
Hixie, aa: would you guys be free this Friday around lunchtime and/or early afternoon, perhaps?

[18:49:00.0000] <Hixie>
friday is a non-starter for me

[18:49:01.0000] <Hixie>
as is monday

[18:49:02.0000] <Hixie>
pretty much any other time is ok though

[18:49:03.0000] <othermaciej>
my other free times are either next week or after 5PM on Thursday

[18:50:00.0000] <Hixie>
thursday works for me

[18:50:01.0000] <Hixie>
dunno about aaron

[18:51:00.0000] <aa>
I was planning on being out thursday

[18:51:01.0000] <aa>
the gears team was planning on taking a lazy approach to the spec because, well, we are super busy

[18:52:00.0000] <aa>
but we are interested, we were just going to forego having actual meetings in favor of email

[18:53:00.0000] <othermaciej>
I don't wanna have lots of meetings (the Safari team is super busy too, pretty much all the time) but it seems like one small one might help

[18:53:01.0000] <othermaciej>
ok then how about I'll send comments in email and we can sync up in person next week if we have time and think it's useful

[18:53:02.0000] <Hixie>
sure

[18:53:03.0000] <aa>
next week would be better for me

[18:53:04.0000] <KevinMarks>
 There's a Google open house thursday night, so you may find the place crowded

[18:53:05.0000] <aa>
i have some comments i need to send to and i think michael nordman is going to send some too

[18:54:00.0000] <Hixie>
KevinMarks: that won't be an issue

[18:54:01.0000] <aa>
send too*

[18:54:02.0000] <Hixie>
k

[18:54:03.0000] <Hixie>
i encourage y'all to send comments soon, i want to have this wrapped up by the end of the month lest i miss my quarterly OKRs ;-)

[18:54:04.0000] <aa>
wrapped up, as in, a recommendation?

[18:55:00.0000] <Hixie>
wrapped up as in the people implementing this (you, webkit, mozilla) can go ahead and implement a first draft and give implementation feedback

[18:55:01.0000] <Hixie>
wrapped up the way that, say, canvas is

[18:55:02.0000] <Hixie>
(well maybe not quite that far)

[18:56:00.0000] <aa>
that is a little faster pace than we were anticipating.

[18:57:00.0000] <aa>
i guess you can go ahead and do that, but I'm not sure how much useful feedback we can give that quickly.

[19:00:00.0000] <Hixie>
k

[19:00:01.0000] <othermaciej>
yes, I'd also like the spec to be ready enough for preliminary implementation on something like that time scale, though it doesn't have to be final

[19:22:00.0000] <Hixie>
nothing's ever final really

[20:34:00.0000] <Lachy>
I fixed the comments on the blog for now

[20:34:01.0000] <Lachy>
but now I need to find a new comment preview plugin that actually works

[21:01:00.0000] <Lachy>
I added a working preview plugin to the blog :-)

[01:32:00.0000] <krijnh>
Lachy: You're the only one with green lines ;)

[01:32:01.0000] <Lachy>
really?

[01:32:02.0000] <krijnh>
Jep

[01:33:00.0000] <Lachy>
I see, others get grey text

[01:33:01.0000] <krijnh>
:)

[01:33:02.0000] <krijnh>
You wanted lime!

[01:34:00.0000] <Lachy>
I don't like the grey text though. Can I get mediumspringgreen with black text?

[01:34:01.0000] <Lachy>
or make it customisable, store the prefs in a cookie

[01:37:00.0000] <Lachy>
after the user submits their name, you need to respond with a 303 See Other response to redirect the user.  That way, going back doesn't do another POST request

[01:38:00.0000] <krijnh>
Lachy: Done

[01:38:01.0000] <krijnh>
Hmm, that's new for me..

[01:39:00.0000] <krijnh>
And I use Opera, so I never get that message anyway

[01:39:01.0000] <krijnh>
Do you have some docs on that 303 thing?

[01:39:02.0000] <krijnh>
http://krijnhoetmer.nl/irc-logs/#styling

[01:39:03.0000] <Lachy>
using PHP?

[01:39:04.0000] <krijnh>
Yeah

[01:41:00.0000] <Lachy>
header("Location: http://krijnhoetmer.nl/irc-logs/", true, 303); should work

[01:41:01.0000] <krijnh>
Doh

[01:41:02.0000] <krijnh>
I'll just google for an article :)

[01:41:03.0000] <Lachy>
or http://www.php.net/manual/en/function.http-redirect.php if you have PECL available

[01:42:00.0000] <Lachy>
http://www.php.net/manual/en/function.header.php

[01:42:01.0000] <krijnh>
Yeah, I know how to use header()

[01:42:02.0000] <krijnh>
Just wanted to know some more about that 303 response :)

[01:42:03.0000] <Lachy>
RFC 2616

[01:46:00.0000] <Lachy>
cool, it allows me to inject whatever styles I want for the whole page :-)

[01:48:00.0000] <krijnh>
Yeah :)

[01:48:01.0000] <hsivonen>
including JavaScript via XBL or HTC or expression() ?

[01:48:02.0000] <krijnh>
Probably

[01:49:00.0000] <krijnh>
Only htmlspecialchar'ed() the stuff

[01:49:01.0000] <krijnh>
'ed()..

[01:49:02.0000] <krijnh>
Ke

[01:49:03.0000] <krijnh>
Remove it? ;]

[01:50:00.0000] <Lachy>
it doesn't really matter that much, since the injected code can only affect the individual user

[01:50:01.0000] <krijnh>
It can probably be used to spam the 'flag this line' functionality

[01:51:00.0000] <krijnh>
To make XHR requests

[01:51:01.0000] <krijnh>
But that can be done already

[01:51:02.0000] <Lachy>
krijnh, how?

[01:53:00.0000] <krijnh>
$('li span').click() in jQuery :)

[02:07:00.0000] <krijnh>
And comma separated nicknames also work now

[02:11:00.0000] <krijnh>
Philip`: Especially for you ;)

[02:18:00.0000] <hsivonen>
hmm. looks like Apple goes to great lengths on its site to present text as images without the <img> element in the DOM

[02:19:00.0000] <hsivonen>
Yet, in VoiceOver, the user experience is as good with <a href='...'><img alt='foo'></a> is it is with <a href='...'>foo</a> plus elaborate CSS hacks

[02:35:00.0000] <krijnh>
/me tests

[02:37:00.0000] <othermaciej>
hsivonen: examples?

[02:41:00.0000] <hsivonen>
othermaciej: the top navigation bar and the linked big iPod images read the same way (announced as links--nothing said about them also being images)

[02:41:01.0000] <hsivonen>
othermaciej: the top bar appears to be an elaborate CSS image replacement hack

[02:41:02.0000] <hsivonen>
othermaciej: the iPods in the center are normal image links

[02:41:03.0000] <krijnh>
zcorpan: "<zcorpan> krijnh: would be nice to pick up on /me lines also :)" - done

[02:42:00.0000] <zcorpan>
krijnh: nice :)

[02:42:01.0000] <othermaciej>
but there's text for the links?

[02:42:02.0000] <hsivonen>
othermaciej: yes

[02:42:03.0000] <hsivonen>
hmm. it might be that the motivation behind the CSS stuff is doing hovers

[02:47:00.0000] <Lachy>
/me just testing if this line gets highlighted in the logs

[02:48:00.0000] <Lachy>
cool, it works :-)

[02:49:00.0000] <Lachy>
krijnh, did you start filtering out '}' characters from the styles?

[02:49:01.0000] <krijnh>
O:)

[02:49:02.0000] <krijnh>
Btw

[02:49:03.0000] <krijnh>
"cool, it works :-)" <-- that would make _re="cool"

[02:49:04.0000] <krijnh>
I don't think that's cool

[02:50:00.0000] <Lachy>
well, you need better logic to check that the matched word is actually a user's name

[02:50:01.0000] <krijnh>
And how to do that

[02:50:02.0000] <krijnh>
Could compare previous lines

[02:51:00.0000] <krijnh>
But sometimes you just scream: foo: do this or that, expecting foo to read the logs and then react

[02:51:01.0000] <Lachy>
save a list of names from the <name> regex and then compare

[02:51:02.0000] <krijnh>
Even if foo isn't on the channel

[02:51:03.0000] <krijnh>
I was thinking of making a list of recent stuff said to you on the homepage

[02:52:00.0000] <krijnh>
Ow, wait, I need a use case first :)

[02:53:00.0000] <Lachy>
krijnh, that would be useful, because then we could send messages to people even when they're not logged in and they'll get them later

[02:53:01.0000] <krijnh>
Indeed

[02:53:02.0000] <krijnh>
I could use the nicknames in the box on the homepage

[02:57:00.0000] <krijnh>
There's an average of 3.1 important line per logfile btw :p

[03:07:00.0000] <krijnh>
Lachy, zcorpan, others, hit the save button for nicks on the homepage please :)

[03:08:00.0000] <krijnh>
Lachy: ty

[03:08:01.0000] <Lachy>
krijnh, are you keeping a list of users who register their nicks?

[03:08:02.0000] <krijnh>
Lachy: I am now, yes

[03:08:03.0000] <Lachy>
for the re_="" field?

[03:08:04.0000] <krijnh>
Yes

[03:09:00.0000] <Lachy>
can't you allow me to inject my own styles for the rest of the page any more?

[03:09:01.0000] <krijnh>
User stylesheets :)

[03:09:02.0000] <Lachy>
don't filter out }

[03:09:03.0000] <krijnh>
Keke, you win :)

[03:10:00.0000] <Lachy>
I suppose I could use a user stylesheet, but I'm lazy

[03:10:01.0000] <krijnh>
zcorpan: thanks :)

[03:10:02.0000] <Lachy>
thanks krijnh 

[03:10:03.0000] <krijnh>
Now onto the fluffy stuff

[03:11:00.0000] <krijnh>
Howdy Hixie :]

[03:11:01.0000] <Lachy>
krijnh, I added Hixie

[03:12:00.0000] <krijnh>
Ow, hehe

[03:12:01.0000] <krijnh>
Why would you do that? :)

[03:12:02.0000] <Lachy>
I wanted to test out comma separated nicks

[03:12:03.0000] <krijnh>
Ah

[03:14:00.0000] <Lachy>
oh, when did you add the montly archive lists?

[03:15:00.0000] <krijnh>
While ago, anne came up with the idea

[03:15:01.0000] <Lachy>
ah, I never noticed :-)

[03:15:02.0000] <krijnh>
The homepage got a bit huge :)

[03:16:00.0000] <krijnh>
Lachy: test

[03:16:01.0000] <krijnh>
Lachy, test

[03:16:02.0000] <krijnh>
Lachy; test

[03:16:03.0000] <krijnh>
(This was bad for you ego)

[03:19:00.0000] <zcorpan>
does it matter that "cool, it works" generates _re="cool"?

[03:20:00.0000] <krijnh>
Sure

[03:21:00.0000] <krijnh>
Yeah

[03:21:01.0000] <krijnh>
<li id="l-277" _a="krijnh" _r="Lachy"><a href="#l-277">#</a> [11:24] &lt;krijnh&gt; Lachy, test <span> </span></li>

[03:21:02.0000] <krijnh>
\o/

[03:21:03.0000] <krijnh>
cool: test

[03:21:04.0000] <krijnh>
zcorpan: test

[03:21:05.0000] <Lachy>
krijnh, are nicks compared case insensitively?

[03:21:06.0000] <krijnh>
lachy: don't know

[03:22:00.0000] <zcorpan>
lachy: test

[03:22:01.0000] <krijnh>
No

[03:22:02.0000] <krijnh>
And now, yes

[03:23:00.0000] <krijnh>
People should not add cool as a nickname ;)

[03:23:01.0000] <krijnh>
(zcorpan: just removed cool from the db)

[03:23:02.0000] <Lachy>
hey! That's why it's not working any more :-(

[03:24:00.0000] <krijnh>
:)

[03:24:01.0000] <cool>
can we get some default styling for the _r ?

[03:24:02.0000] <krijnh>
cool, Cool! Ideas?

[03:26:00.0000] <zcorpan>
well, bold works for me, although it might look ugly in some other fonts

[03:28:00.0000] <krijnh>
Same problem with _a styling

[03:31:00.0000] <krijnh>
There

[03:32:00.0000] <Lachy>
krijnh, I need you to stripslashes from styles so I can change set: font-family: "Lucida Console"; and use ENT_NOQUOTES

[03:33:00.0000] <hsivonen>
http://www.456bereastreet.com/archive/200709/can_the_alt_attribute_be_omitted_without_hurting_accessibility/#comment43

[03:33:01.0000] <hsivonen>
the comments on that blog page are sad

[03:33:02.0000] <krijnh>
Lachy: refresh ?

[03:35:00.0000] <Lachy>
krijnh, it's outputting ol { font-family: \"Lucida Console\", monospace; } for my custom styles

[03:35:01.0000] <Lachy>
that's why I need stripslashes()

[03:35:02.0000] <Lachy>
in fact, magic quotes should be turned off completely

[03:36:00.0000] <krijnh>
I did stripslashes()

[03:36:01.0000] <krijnh>
Lachy: agreed, but can't do it anymore on this machine

[03:37:00.0000] <othermaciej>
hsivonen: weird comment

[03:37:01.0000] <Lachy>
well, here's my custom styles: background: lemonchiffon; color: black; } ol { font-family: "Lucida Console", monospace;

[03:38:00.0000] <Lachy>
it's still outputting the slashes for that

[03:38:01.0000] <krijnh>
Yeah

[03:38:02.0000] <krijnh>
I see

[03:38:03.0000] <krijnh>
Weird

[03:38:04.0000] <krijnh>
Ah, it's double slashed :/

[03:39:00.0000] <krijnh>
It's probably saved with slashes in your cookie :)

[03:39:01.0000] <Lachy>
yeah, because you're not calling stripslashes when you set the cookie

[03:39:02.0000] <krijnh>
Indeed

[03:40:00.0000] <krijnh>
Am now, working

[03:40:01.0000] <krijnh>
Resave your settings

[03:41:00.0000] <Lachy>
that works

[03:50:00.0000] <krijnh>
And with all this user generated content

[03:50:01.0000] <krijnh>
There's now a Web2.0 logo

[03:53:00.0000] <krijnh>
Gonna  make that list with recent lines for a user some other day :)

[03:54:00.0000] <Lachy>
krijnh, web 2.0 logos need to be BIG!

[03:54:01.0000] <krijnh>
Lachy: I know, but I don't want it to take up too much space

[03:55:00.0000] <Lachy>
make it a splash screen :-)

[03:55:01.0000] <krijnh>
:p

[03:57:00.0000] <hsivonen>
hmm. I wonder if I should sanitize characters in JSON output in an XML-compatible way to help client avoid shooting themselves in the foot

[04:00:00.0000] <Lachy>
hsivonen, which characters?

[04:01:00.0000] <Lachy>
hsivonen, is it possible to test out the json format yet?

[04:02:00.0000] <Lachy>
hsivonen, I don't think "400 Unsupported+output+format" is a conforming HTTP status code

[04:03:00.0000] <Lachy>
"400 Bad Request" should be appropriate

[04:06:00.0000] <Lachy>
hmm. I didn't realise RFC 2616 said "The reason phrases listed here are only recommendations -- they MAY be replaced by local equivalents without affecting the protocol."

[04:16:00.0000] <hsivonen>
Lachy: ASCII controls, U+FFFF and whatever else XML bans

[04:16:01.0000] <hsivonen>
Lachy: not testable yet.

[04:16:02.0000] <hsivonen>
Lachy: this is 1) spec, 2) solicit feedback, 3) respec, 4) implement

[06:05:00.0000] <Lachy>
http://www.isolani.co.uk/blog/access/ThePriceOfOmittingTheAlt

[06:05:01.0000] <annevk>
that's a nice article

[06:07:00.0000] <annevk>
the only thing that's a bit unclear is that he doesn't provide context for your quote, but maybe that's hidden because my browser (like most) doesn't expose <blockquote cite>

[06:07:01.0000] <annevk>
/me looks

[06:07:02.0000] <annevk>
ah, indeed, it's from http://blog.whatwg.org/omit-alt

[06:09:00.0000] <hsivonen>
/http://www.splintered.co.uk/documents/presentations/psf_accessibility_08.08.2007/

[07:03:00.0000] <hsivonen>
do current browsers load scripts with HTTP content-type application/javascript

[07:03:01.0000] <hsivonen>
?

[07:05:00.0000] <hsivonen>
http://wiki.whatwg.org/wiki/Validator.nu_JSON_Output

[07:09:00.0000] <krijnh>
http://krijnhoetmer.nl/stuff/javascript/mime-types/

[07:09:01.0000] <krijnh>
hsivonen: is that helpful?

[07:10:00.0000] <hsivonen>
krijnh: yes, but not exactly what I'm looking for

[07:10:01.0000] <hsivonen>
krijnh: you test the type attribute

[07:11:00.0000] <hsivonen>
krijnh: I'm interested in HTTP content-type

[07:11:01.0000] <krijnh>
Doh, sorry

[07:11:02.0000] <Lachy>
hsivonen, IIRC, Firefox understands <script type=application/javascript>

[07:11:03.0000] <Lachy>
but if you want the MIME for JSON, it's application/json

[07:12:00.0000] <hsivonen>
Lachy: I'm trying to figure out the Right Thing for the callback case HTTP-wise

[07:12:01.0000] <Lachy>
I don't understand what you mean

[07:13:00.0000] <hsivonen>
Lachy: there's a non-quite-JSON design pattern of allowing a callback function name as a get parameter and wrapping the JSON stuff in a function call to a function of that name

[07:14:00.0000] <Lachy>
ah

[07:14:01.0000] <hsivonen>
callbackName({JSON-stuff})

[07:14:02.0000] <hsivonen>
so the result is JS not JSON

[07:15:00.0000] <Lachy>
in that case, I think application/javascript would be the correct Content-Type to specify in HTTP. In practice, browsers ignore that anyway for <script> elements

[07:16:00.0000] <krijnh>
text/html works as well :)

[07:16:01.0000] <hsivonen>
Lachy: ok. I just wanted to check that it doesn't confuse IE

[07:17:00.0000] <hsivonen>
well, then. Next item: back end support for showing source code and extracts

[07:20:00.0000] <Philip`>
You can send text/vbscript to IE and it happily executes it as JavaScript

[07:22:00.0000] <hsivonen>
ok

[08:02:00.0000] <annevk>
hsivonen, maybe update the blog post too?

[08:59:00.0000] <hsivonen>
annevk: done

[09:04:00.0000] <annevk>
/me thinks that describing the Rorschach ink test (with alt=) might defeat the purpose of the test

[09:04:01.0000] <gavin>
heh

[10:46:00.0000] <ROBOd>
hello guys

[10:46:01.0000] <ROBOd>
i got to the 4.1. Browsing contexts section of the HTML 5 spec ( http://www.whatwg.org/specs/web-apps/current-work/multipage/section-windows.html )

[10:47:00.0000] <annevk>
hi

[10:47:01.0000] <ROBOd>
hi annevk 

[10:47:02.0000] <annevk>
btw, why would you use <select> for navigation?

[10:47:03.0000] <ROBOd>
(i was going to talk about Views, hehe)

[10:48:00.0000] <Dashiva>
annevk: It's a common practice for forums and such

[10:48:01.0000] <ROBOd>
i have used until thing like <form> <label>Go to page <select>....</select></label> <input type=submit> </label>

[10:49:00.0000] <ROBOd>
*until now (at least)

[10:49:01.0000] <ROBOd>
of course, i had something like onchange=this.form.submit() for the select

[10:50:00.0000] <annevk>
Dashiva, sure, seems better to have them change to <menu> though in due course

[10:50:01.0000] <ROBOd>
menu will be just another way to do this - i'd say it shouldn't be the *only* way

[10:50:02.0000] <annevk>
hmm, I'm generally in favor of less options

[10:50:03.0000] <ROBOd>
annevk: i don't say that's not true - it really depends how UAs will implement <menu>

[10:50:04.0000] <ROBOd>
if it sucks, web devs won't use it

[10:51:00.0000] <ROBOd>
now, back to my Views-related question(s)

[10:52:00.0000] <ROBOd>
first, i understand the concept that a Document (a single DOM) can have multiple views: the Visual view - what we see in the browser, the Speech view - the supposed view in Opera's X+V implementation, the Print View - the supposed view in UAs which have an option to print a document

[10:53:00.0000] <Dashiva>
annevk: How exactly, though? None of the menu modes seem to be very similar to a select

[10:53:01.0000] <ROBOd>
Dashiva: indeed - if they will render as a menu, we will still want to use <select> in some cases

[10:53:02.0000] <annevk>
Dashiva, I believe you just wrap your <select> inside <menu>

[10:54:00.0000] <ROBOd>
annevk: that's a semantic exaggeration :)

[10:54:01.0000] <annevk>
Dashiva, not entirely sure how an example would look like though

[10:54:02.0000] <ROBOd>
annevk: i would not wrap selects in menus - unless given a good reason

[10:54:03.0000] <annevk>
ROBOd, it's for fallback

[10:54:04.0000] <Dashiva>
annevk: I mean presentation-wise

[10:54:05.0000] <ROBOd>
annevk: obviously

[10:56:00.0000] <ROBOd>
back again to views: is there any document explaining DOM 3 Views?

[10:56:01.0000] <ROBOd>
it's waay to abstract - and I don't know if any major UA implements this (Opera, Gecko, Safari)

[10:57:00.0000] <ROBOd>
*Safari, make that WebKit

[10:58:00.0000] <Dashiva>
It looks more like java than javascript :)

[11:01:00.0000] <annevk>
I'm not sure what will happen to Views

[11:01:01.0000] <ROBOd>
hmm, views is an interesting concept - it should be properly defined

[11:01:02.0000] <annevk>
so far nobody has been really interested in implementing it

[11:02:00.0000] <ROBOd>
i'd imagine a "world" in which you can create new views with JS, in the UA, each view having any combination of stylesheets enabled/disabled

[11:02:01.0000] <annevk>
there's already an alternate style sheet api

[11:02:02.0000] <ROBOd>
as such, allowing the JS to check in each view the computed style (for example)

[11:02:03.0000] <ROBOd>
annevk: simultaneously? i haven't got to that, yet

[11:03:00.0000] <ROBOd>
annevk: also, can we instantiate the view, so the user gets to see both renders in the same time?

[11:03:01.0000] <ROBOd>
with a semi-shared DOM

[11:04:00.0000] <annevk>
as I said, nobody is really interested in implementing views

[11:04:01.0000] <annevk>
(it seems, anyway)

[11:04:02.0000] <ROBOd>
semi-shared because i'd like to check computed styles in both views in the same time - yet if the user changes the value of an input, both DOMs (and views) would be automatically updated

[11:05:00.0000] <Dashiva>
I don't really see the benefit, the use case seems so obscure

[11:05:01.0000] <ROBOd>
Dashiva: well ... the beneift for what I said is ... hard to figure out

[11:06:00.0000] <annevk>
i agree with Dashiva

[11:07:00.0000] <ROBOd>
the concept of views came in to life because multiple views of the same document do exist

[11:07:01.0000] <annevk>
in theory

[11:09:00.0000] <ROBOd>
not only

[11:09:01.0000] <Dashiva>
Can't you emulate it using mutation events anyhow?

[11:10:00.0000] <ROBOd>
as I understand Gecko has at least two internal representations of the same document, one for rendering (a "DOM of rendering"),  and the actual DOM (what we call DOM)

[11:10:01.0000] <ROBOd>
internally, Gecko can reference both representations of the document

[11:10:02.0000] <annevk>
that has not much to do with views

[11:11:00.0000] <annevk>
that's simply a layout and document tree

[11:11:01.0000] <ROBOd>
it's a view as well - but not a rendered view

[11:11:02.0000] <annevk>
/me assumes most implements have that as CSS more or less requires it

[11:11:03.0000] <Dashiva>
No, that's more like two models and one view

[11:13:00.0000] <ROBOd>
thing is, if say, you'd be able to create two separate views (one for print, and the other for speech), you might want to make some adjustments for each, individually

[11:14:00.0000] <ROBOd>
modifying the actual DOM of the view

[11:14:01.0000] <annevk>
I think we're all aware of the potential things you can do

[11:14:02.0000] <annevk>
I don't think we all agree that the additional feature is worth the complexity and cost, etc.

[11:15:00.0000] <ROBOd>
but no implementation is available

[11:15:01.0000] <annevk>
my point exactly

[11:16:00.0000] <ROBOd>
i'm not saying the additional feature is worth the complexity and cost

[11:18:00.0000] <annevk>
in unrelated news: attribute value dependent parsing... boo

[11:19:00.0000] <annevk>
(otoh, we already have <plaintext>)

[11:26:00.0000] <Hixie>
Lachy: yt? i broke the wiki :-(

[11:26:01.0000] <annevk>
oops

[11:26:02.0000] <Hixie>
(i was upgrading it)

[11:33:00.0000] <annevk>
given he's around +10 I think he might be sleeping now

[11:49:00.0000] <hsivonen>
/me uses open browser windows to make backup of wiki-resident specs

[11:50:00.0000] <ROBOd>
no backups before trying to upgrade?

[11:54:00.0000] <hsivonen>
ROBOd: I didn't have backups. I don't know about Hixie.

[11:57:00.0000] <Philip`>
Maybe Google has backups

[11:58:00.0000] <ROBOd>
hsivonen: where's the wiki hosted? wiki.whatwg.org ? on dreamhost?

[11:59:00.0000] <annevk>
yup

[12:01:00.0000] <ROBOd>
if it's dreamhost they have automatic backups, snapshots

[12:01:01.0000] <ROBOd>
on any type of hosting. does whatwg use shared or dedicated hosting?

[12:02:00.0000] <annevk>
Hixie would know that

[12:02:01.0000] <ROBOd>
they have no automatic backups, afaik, for the databases, only for the files on the server

[12:03:00.0000] <ROBOd>
still, it's easy to setup a cronjob, with a simple command for dumping a database to a file, daily

[12:04:00.0000] <annevk>
I don't believe that's the problem though

[12:15:00.0000] <Hixie>
i'm sure the database is fine

[12:15:01.0000] <Hixie>
it probably just doesn't know how to handle the plugins we have

[12:34:00.0000] <Hixie>
sigh

[12:34:01.0000] <Hixie>
i reallly reallllly wanted to not make the parser dependent on attributes

[12:35:00.0000] <annevk>
i was wondering if form.elements could be populated during tokenization

[12:35:01.0000] <annevk>
but that doesn't really work as at that point you don't have dom nodes yet

[12:36:00.0000] <zcorpan>
are there pages that use <input> other than hidden in tables? (probably)

[12:37:00.0000] <zcorpan>
/me was thinking about allowing all <input>s in tables

[12:38:00.0000] <annevk>
yes, otherwise we would not have the issue

[12:39:00.0000] <Hixie>
we can't allow anything else, it would screw up the table

[12:39:01.0000] <Hixie>
<input type=hidden> is ok because it's display:none

[12:39:02.0000] <annevk>
Hixie, in the end, the big deal with the HTML parser is that it's documented :)

[12:39:03.0000] <Hixie>
IE's attribute-dependent parsing for <object> and that sucks

[12:40:00.0000] <annevk>
oh, you're thinking of doing more quirks if you go this way anyway?

[12:41:00.0000] <Hixie>
i'm thinking people will point to this and ask for more

[12:41:01.0000] <annevk>
not unrealistic

[12:42:00.0000] <jgraham>
if it's going to be implemented by the browsers anyway we may as well include it

[12:43:00.0000] <Hixie>
yeah the browser vendors didn't like my proposed alternatives so much

[12:43:01.0000] <zcorpan>
Hixie: it would, but if no-one does it, it doesn't matter... :) although, as i said, people probably have non-hidden <input>s in tables

[12:44:00.0000] <Hixie>
zcorpan: my point is that we can't solve that problem by changing the parser. the change only works for <input type=hidden>

[12:45:00.0000] <Hixie>
the other question is whether to actually make <input type=hidden> conforming there, or just make it a parser hack that is non-compliant

[12:45:01.0000] <Hixie>
i think non-compliant is probably best.

[12:45:02.0000] <zcorpan>
yeah

[12:46:00.0000] <zcorpan>
though perhaps doesn't need to be a parse error

[12:46:01.0000] <hsivonen>
aargh. Feisty ships with AddDefaultCharset UTF-8

[12:46:02.0000] <hsivonen>
/me expect sniffing trouble down the road

[12:46:03.0000] <Hixie>
christ

[12:48:00.0000] <Hixie>
k, bbl

[12:48:01.0000] <annevk>
doesn't need to be a parse error

[12:48:02.0000] <annevk>
or maybe, because it's so ugly :)

[12:49:00.0000] <annevk>
"You enter the realms of attribute-value dependent parsing. Beware! Continue? [Y]"

[12:50:00.0000] <zcorpan>
so what requests can we expect because of this change?

[12:50:01.0000] <zcorpan>
allow forms and hidden inputs in head?

[12:51:00.0000] <annevk>
not sure about the former

[12:51:01.0000] <annevk>
apparently <object> is attribute dependent

[12:52:00.0000] <zcorpan>
in browsers other than ie?

[12:52:01.0000] <zcorpan>
(ie allows forms and hidden inputs in head)

[12:53:00.0000] <annevk>
don't think so

[12:56:00.0000] <zcorpan>
ie doesn't support changing the .type of an input dynamically to or from hidden

[12:57:00.0000] <annevk>
maybe it's represented by a different interface altogether?

[12:59:00.0000] <annevk>
ROBOd, no need to reraise issues on public-html

[13:00:00.0000] <ROBOd>
annevk: i was just thinking of that, but ... what should I reply to the guy asking?

[13:00:01.0000] <annevk>
ROBOd, dunno, just in case you were planning to do the same for other issues ;)

[13:01:00.0000] <annevk>
ROBOd, see http://www.whatwg.org/issues/ for a list of open issues; emails is part of it

[13:01:01.0000] <ROBOd>
for example? :D

[13:01:02.0000] <ROBOd>
ah, i forgot about the issues page, sorry

[13:02:00.0000] <ROBOd>
as you might have noticed, i don't contribute daily, i'm not among *the* most active contributors. i only follow the mailing-list and I contribute when time allows me

[13:03:00.0000] <ROBOd>
as for the input type=emails issue... that wasn't planned at all - i just mentioned it as being one suggestion which would be welcome to be applied to the WF2-spec once it's folded into HTML 5

[13:06:00.0000] <annevk>
no worries

[13:07:00.0000] <ROBOd>
thanks :)

[13:22:00.0000] <ROBOd>
i have a question about "the list of added properties": http://www.whatwg.org/specs/web-apps/current-work/multipage/section-the-default0.html#list-of2

[13:23:00.0000] <ROBOd>
does that refer to the global properties added to the window object by scripts executing in the global scope?

[13:23:01.0000] <ROBOd>
e.g. var myName = 'myValue';

[13:24:00.0000] <ROBOd>
also, does this include things like document.myName = 'myValue'; as well? or just window.myStuff ?

[13:25:00.0000] <ROBOd>
last, but not least, if the answer is positive: then ... is the UA supposed to be able to  (re)store "complex" properties like window.myStuff = function () { ... }; ?

[13:27:00.0000] <ROBOd>
hmm.. writing an email

[13:30:00.0000] <annevk>
I suppose it's something like that, yes

[13:30:01.0000] <Philip`>
krijnh: http://krijnhoetmer.nl/irc-logs/'s logo's alt text isn't an equivalent replacement of the image, since it doesn't get across the web-two-point-ohyness of the logo

[13:30:02.0000] <ROBOd>
annevk: still writing an email, because i think there's an interesting discussion about this

[13:31:00.0000] <ROBOd>
annevk: in relation to another part of the spec (session history)

[13:31:01.0000] <Philip`>
I expect it should be alt="HTML5 IRC Logsr (beta!)" or similar

[13:32:00.0000] <annevk>
/me would argue the image is a worse replacement

[13:32:01.0000] <annevk>
s/worse replacement/bad replacement for the text/

[13:37:00.0000] <Philip`>
I suppose you should also add longdesc='data:text/plain,The words "HTML5 IRC Logs" in blue followed by a red "r", in parody of the Flickr logo, with a yellow star containing "BETA" and a faint mirrored image below, clearly created by a generic Web 2.0 logo generator tool.' else some people will miss the subtleties, but maybe that's just way too much effort :-(

[13:38:00.0000] <annevk>
/me is done with the table debate

[13:38:01.0000] <Philip`>
On the other hand, the generic logo generator tool could generate the generic longdesc too

[13:38:02.0000] <annevk>
if anyone wishes to continue the debate, have fun

[13:38:03.0000] <jgraham>
/me wonders how Leif expects to unambiguously determine what constitutes "bug free" when the HTML4 spec is loose enough to let not just bugs but also many larger species of animal through

[13:39:00.0000] <annevk>
yeah, whatever

[13:39:01.0000] <annevk>
feels like it's going nowhere

[13:45:00.0000] <Philip`>
http://www.cl.cam.ac.uk/local/web/guidelines/basichtml.html - '<hr/ width="50%" size="5">' in a guide on "Basic HTML tags" - I think they've got quite confused by XHTML

[13:47:00.0000] <jgraham>
Philip`: Next time someone brings up the "dumb authors" thing maybe pointing out that CS departments get it wrong will be interesting

[13:48:00.0000] <jgraham>
(where "interesting" means "fun to see what arguments are presented")

[13:49:00.0000] <hsivonen>
HTML isn't CS. it is multimedia. :-)

[13:50:00.0000] <annevk>
I wonder what I've done wrong though, Leif seems so offensive

[13:55:00.0000] <annevk>
it's also nice how they nest lists

[13:55:01.0000] <annevk>
or not

[13:56:00.0000] <Philip`>
It seems unfortunate that http://www.cl.cam.ac.uk/local/web/ucampas/ inserts a comment before the doctype and makes IE6 do quirks

[13:58:00.0000] <annevk>
through that uni website I found http://www.rewritables.net/htmltagchart.htm

[13:59:00.0000] <annevk>
/me stops reading to avoid getting dragged into '95 markup advocacy

[14:04:00.0000] <Philip`>
/me wonders how hard the ucampas tool tries to produce well-formed XML, and whether he could convince the author to output HTML instead, because it's fun to argue against XHTML

[14:04:01.0000] <Lachy>
I'll have to upgrade the wiki manually

[14:05:00.0000] <Lachy>
I restored the previous version for now

[14:08:00.0000] <jgraham>
Philip`: I have a feeling that the university house style is "XHTML"

[14:11:00.0000] <jgraham>
Aha here we go, from http://www.cam.ac.uk/cambuniv/webstyle/tech.html "The University webstyle templates (http://www.cam.ac.uk/cambuniv/webstyle/) are valid xhtml - the DTD at the top of the file declares the level of xhtml that the code is written to"

[14:11:01.0000] <annevk>
that's slightly better than what we have: http://www.cs.uu.nl/docs/vakken/cmc/

[14:12:00.0000] <annevk>
maybe not: http://www.cs.uu.nl/

[14:12:01.0000] <annevk>
(the site is horrible though)

[14:18:00.0000] <Philip`>
jgraham: Hmm, I've got no idea how strict they are on that style - the ucampas tool seems to be only used for cl.cam.ac.uk, and everywhere else does their own different thing, so maybe they're happy with anything that just looks consistent on the outside

[14:19:00.0000] <jgraham>
Philip`: Not strict at all; look at http://www.ast.cam.ac.uk (but only if you can stomach really bad design)

[14:19:01.0000] <annevk>
rubyonrails-core group on (X)HTML: http://groups.google.com/group/rubyonrails-core/browse_thread/thread/a1188ff42cd3fb59

[14:20:00.0000] <annevk>
(bottom)

[14:22:00.0000] <Philip`>
http://web.archive.org/web/20060925113302/http://www.maths.cam.ac.uk/undergrad/ - hooray for frames

[14:23:00.0000] <Philip`>
(Sadly they've changed to the standard style now)

[14:23:01.0000] <annevk>
don't need archive.org for that: http://www.cs.uu.nl/education/

[14:26:00.0000] <jgraham>
annevk: I assume you just linked to the rails thread because you are described as "standards uber-geek Anne Van Kesteren" ;)

[14:26:01.0000] <annevk>
yeah, that's real flattering

[14:27:00.0000] <annevk>
(I found the link after I found a blogspot site which seems to aggregate the feed searching for html5 on blogsearch.google.com)

[14:27:01.0000] <markp>
sigh

[14:27:02.0000] <markp>
same argument we had in habari-dev a few months back

[14:28:00.0000] <markp>
same argument people have been having for years

[14:28:01.0000] <markp>
there's no hope for this generation of web developers

[14:28:02.0000] <hsivonen>
markp: here in my SAX ivory tower, I have pluggable serializers

[14:28:03.0000] <markp>
(wordpress, RoR, etc.)

[14:28:04.0000] <gsnedders>
silly old people

[14:29:00.0000] <markp>
the best you can hope for is to influence the next generation

[14:29:01.0000] <gsnedders>
I'm telling you, we should allow anyone _my_ age into the current web.

[14:30:00.0000] <gsnedders>
(where "_my_ age" == 15)

[14:30:01.0000] <hsivonen>
interestingly, though, it appears that HTML5 being on the roadmap hadn't registered even after the HTML5 comment

[14:31:00.0000] <markp>
hsivonen: good for you

[14:31:01.0000] <hsivonen>
/me learns that the mod_jk load balancer is not smart enough to switch requests from one keep-alive pipe to another worker when the original worker no longer exists

[14:31:02.0000] <markp>
the rest of the world still uses string concatenation

[14:31:03.0000] <markp>
if they're really advanced, they use unicode string concatenation

[14:32:00.0000] <gsnedders>
unicode? that 16-bit standard?

[14:32:01.0000] <markp>
/me slaps gsnedders

[14:32:02.0000] <gsnedders>
(sorry, that's what I was taught at school)

[14:32:03.0000] <markp>
yeah yeah

[14:32:04.0000] <gsnedders>
oh, and US-ASCII is 8-bit

[14:32:05.0000] <gsnedders>
/me sighs

[14:32:06.0000] <gsnedders>
this is how I lose marks in exams :(

[14:32:07.0000] <ROBOd>
annevk: i found the answer to my question related to window properties. the answer is no, that's not what's happening. the spec actually says that the "custom window properties" (from the default view of the browsing context) is saved as a list of added properties in the document object, such that when the user/script goes *back* to the same document, the list of properties can be restored in the window object

[14:33:00.0000] <markp>
i fixed a bunch of unicode-related myths just before "dive into python" was released

[14:33:01.0000] <markp>
not sure if i ever fixed them in the online version

[14:33:02.0000] <markp>
so i'm part of the problem, spreading lies and misconceptions about unicode

[14:33:03.0000] <hsivonen>
markp: Klingon? :-)

[14:33:04.0000] <gsnedders>
markp: well they haven't reached my classroom :(

[14:33:05.0000] <markp>
silly rabbit, Klingon is not in unicode

[14:33:06.0000] <markp>
everyone knows that

[14:34:00.0000] <Philip`>
I feed data from a SAX parser into a DOM builder and stick bits of DOM together then convert the tree into a SAX stream and serialise it to disk and then copy-and-paste an HTML header onto it in a text editor, just for fun

[14:34:01.0000] <gsnedders>
what encoding do you use for Klingon, anyway?

[14:34:02.0000] <markp>
you have a clipboad?  luxury...

[14:35:00.0000] <hsivonen>
gsnedders: UTF-8 plus de facto PUA mappings

[14:35:01.0000] <markp>
/me laughs at the iphone users without clipboards

[14:36:00.0000] <markp>
/me has an unpublished draft about accessibility issues in html 5

[14:36:01.0000] <hsivonen>
markp: cool

[14:37:00.0000] <markp>
it needs... work

[14:37:01.0000] <annevk>
ROBOd, yeah, something like that is what I thought actually

[14:37:02.0000] <markp>
and lots of editing

[14:37:03.0000] <markp>
and probably some high-blood-pressure medication

[14:37:04.0000] <gsnedders>
/me wonders whether to waste more time trying to get Windows to install

[14:38:00.0000] <markp>
people still install windows?

[14:38:01.0000] <gsnedders>
sadly I need it for testing

[14:38:02.0000] <gsnedders>
and it's driving me insane.

[14:38:03.0000] <annevk>
as long as IE has market share :)

[14:38:04.0000] <Philip`>
Why install when you can use a pre-built VM image? :-)

[14:39:00.0000] <markp>
IEs4Linux, surely?

[14:39:01.0000] <gsnedders>
markp: I'm not on Linux :P

[14:39:02.0000] <annevk>
/me is running VM actually

[14:39:03.0000] <markp>
well, there's your first problem

[14:39:04.0000] <gsnedders>
I (stupidly) need Windows for some school things, too.

[14:39:05.0000] <hsivonen>
I just reconfigured DNS for html5.validator.nu to point to a new server

[14:39:06.0000] <gsnedders>
(Which is ironic as my teacher doesn't use Windows himself, and doesn't even have a copy)

[14:39:07.0000] <hsivonen>
please let me know if things break

[14:40:00.0000] <hsivonen>
validator.nu still points to the old place

[14:40:01.0000] <gsnedders>
/me sighs

[14:40:02.0000] <Philip`>
(Answer to earlier question: because the IE6/7 VM images are released for Microsoft's VirtualPC and you seemingly have to use the Windows version of VMware Workstation to convert them into a format which the VMware Player on Linux/etc can load)

[14:40:03.0000] <markp>
there were several things at ibm that only worked on windows

[14:40:04.0000] <gsnedders>
time for one final attempt

[14:40:05.0000] <annevk>
markp called my OS "Not Debian" at some point iirc

[14:40:06.0000] <gsnedders>
Philip`: I'm aware

[14:40:07.0000] <gsnedders>
/me sighs. time for one final attempt I think

[14:41:00.0000] <markp>
annevk: ?

[14:41:01.0000] <gsnedders>
I've already wasted hours.

[14:41:02.0000] <markp>
what OS was that?

[14:41:03.0000] <Philip`>
IEs4Linux is annoying since the main reason I want to test stuff in IE6 is to see if alpha-channel PNGs are working properly, and IEs4Linux doesn't support that

[14:41:04.0000] <gsnedders>
wish me luck (and my life, in case I get too annoyed).

[14:42:00.0000] <annevk>
markp, Ubuntu, but maybe it was someone else

[14:42:01.0000] <annevk>
/me can't find the reference

[14:42:02.0000] <markp>
i bear no ill will towards ubuntu

[14:43:00.0000] <annevk>
ah, http://diveintomark.org/archives/2006/06/26/essentials-2006 'Ubuntu, which is an ancient African word meaning “can’t install Debian”.'

[14:43:01.0000] <annevk>
/me got the quote wrong

[14:43:02.0000] <markp>
ah

[14:43:03.0000] <Lachy>
/me is attempting to update the wiki now, it will be temporarily broken

[14:43:04.0000] <markp>
that was actually a random quote i found on slashdot, iirc

[14:45:00.0000] <othermaciej_>
hey, that rails thing linked to my post, too

[14:48:00.0000] <Philip`>
Someone needs to teach GMail that dropping the " (Was: ...)" in the subject line does not mean the message is the start of a new discussion

[14:49:00.0000] <zcorpan>
Philip`: don't use the web interface of gmail :)

[14:53:00.0000] <Lachy>
successfully upgraded mediawiki, now I need to reinstall the extensions

[14:57:00.0000] <gsnedders>
time to follow the normal advice, me thinks. repartition HD :(

[14:59:00.0000] <Philip`>
gsnedders: Make sure you don't have any backups before repartitioning

[14:59:01.0000] <gsnedders>
Philip`: :)

[14:59:02.0000] <Philip`>
The exhileration of danger is good for you

[15:00:00.0000] <Philip`>
s/e/a/

[15:00:01.0000] <zcorpan>
Tha? :)

[15:01:00.0000] <gsnedders>
at least it wasn't s/e/a/g (Tha axhilaration of dangar is good for you)

[15:03:00.0000] <Lachy>
the wiki upgrade is complete :-)

[15:05:00.0000] <Philip`>
These are a very special type of context-sensitive regexp that are highly irregular and cannot be computed without first implementing AI

[15:06:00.0000] <gsnedders>
:)

[15:12:00.0000] <annevk>
Hixie, no response from sebastian btw (re: question from you a day or so ago)

[15:13:00.0000] <gsnedders>
Is it fair to call the Tech Plenary "meetings"?

[15:14:00.0000] <annevk>
yup

[15:15:00.0000] <annevk>
/me -> bed


2007-09-13
[18:17:00.0000] <Hixie>
this forms task force isn't moving very fast

[18:20:00.0000] <othermaciej_>
indeed

[01:00:00.0000] <hsivonen>
"Blindly following

[01:00:01.0000] <hsivonen>
standards is being "enterprise" but bowing to a different master. "

[01:00:02.0000] <hsivonen>
(from the Rails discussion)

[01:01:00.0000] <hsivonen>
for context "I don't care if the browser is really treating my xhtml as invalid

[01:01:01.0000] <hsivonen>
html4. That has had zero impact on my work."

[06:57:00.0000] <zcorpan>
hsivonen: do you have a pointer as to why the html 4.0 transitional doctype with url has to trigger quirks mode?

[06:58:00.0000] <hsivonen>
zcorpan: yeah. one of the bug numbers I remember. :-) https://bugzilla.mozilla.org/show_bug.cgi?id=42525

[06:59:00.0000] <hsivonen>
zcorpan: it was needed for apple.com before the Almost Standards Mode existed

[07:00:00.0000] <hsivonen>
zcorpan: when the Almost Standards Mode was introduced, changing the quirkiness of the 4.0 doctype was seen as unnecessary and something that would just shake the stability of sniffing

[07:02:00.0000] <hsivonen>
zcorpan: https://bugzilla.mozilla.org/show_bug.cgi?id=154683

[07:34:00.0000] <zcorpan>
hsivonen: thanks

[09:12:00.0000] <ROBOd>
hey guys

[09:13:00.0000] <ROBOd>
what's up with the Window specification? the one being worked on by the Web API group http://dev.w3.org/cvsweb/~checkout~/2006/webapi/Window/publish/Window.html?content-type=text/html;%20charset=utf-8

[09:14:00.0000] <ROBOd>
it seems as a duplicate of the Browsing contexts section from HTML 5 (and not only, there's session history and navigation in HTML 5 as well)

[09:16:00.0000] <othermaciej>
ROBOd: it was an attempt to spec the Window object independently of HTML5 so it could be sensibly used for non-HTML languages and such

[10:15:00.0000] <YaaL>
http://42.pl/u/utb

[10:15:01.0000] <YaaL>
Oops

[10:24:00.0000] <ROBOd>
othermaciej: is the spec "abandoned"? Window 1.0

[10:25:00.0000] <othermaciej>
ROBOd: not explicitly, although I'm not sure if it's worth continuing effort with HTML5 under w3c auspices now

[10:27:00.0000] <ROBOd>
othermaciej: that's what i was thinking... what's now defined in the HTML 5 spec is more mature (and better) than the Window 1.0 spec

[10:30:00.0000] <othermaciej>
ROBOd: I haven't read over what HTML5 says lately

[10:30:01.0000] <othermaciej>
ROBOd: if I or anyone else worked on that spec, I would recommend plagiarizing HTML5

[10:32:00.0000] <ROBOd>
i'm reading the entire html5 spec - i want to get know all of it. of course, not in minute details, but i want to be aware of the entire set of functionality, how it works, etc

[10:32:01.0000] <ROBOd>
while doing that, i also contribute with comments, reporting errors and such

[10:32:02.0000] <zcorpan>
and write test cases? :)

[10:32:03.0000] <ROBOd>
othermaciej: what do you mean by ... "recommend plagiarizing html5"?

[10:33:00.0000] <othermaciej>
zcorpan: I actually already wrote a bunch of test cases

[10:33:01.0000] <othermaciej>
http://dev.w3.org/cvsweb/2006/webapi/WindowTestSuite/

[10:33:02.0000] <ROBOd>
zcorpan: hehe, that's next. ;) after i'm "done" with review the spec, i'm interesting in writing test cases and/or implementations for various algorithms

[10:33:03.0000] <othermaciej>
there's html, xhtml and svg versions of all the tests autogenerated from a common source

[10:33:04.0000] <ROBOd>
(i'm talking of html5)

[10:34:00.0000] <ROBOd>
*i'm interested 

[10:34:01.0000] <zcorpan>
othermaciej: nice!

[10:34:02.0000] <othermaciej>
in theory it could also make versions of all those that use other scripting languages too

[10:34:03.0000] <othermaciej>
(at one point it seemed interesting to have Java versions)

[10:35:00.0000] <othermaciej>
here's an example of what the test output looks like: http://dev.w3.org/cvsweb/~checkout~/2006/webapi/WindowTestSuite/publish/html/ecmascript/browsing-contexts/Window-window.html?rev=1.1&content-type=text/html;%20charset=iso-8859-1

[10:35:01.0000] <othermaciej>
btw I highly recommend my test framework for anyone who wants to make DOM tests

[10:35:02.0000] <ROBOd>
working on TCs and implementations of some stuff will allow me to provide more in-depth comments on the html5 spec

[10:35:03.0000] <ROBOd>
othermaciej: i'll look into that

[10:36:00.0000] <othermaciej>
the test framework is here: http://dev.w3.org/cvsweb/2006/webapi/ReTest/

[10:37:00.0000] <zcorpan>
/me bookmarks to his del.icio.us

[11:34:00.0000] <dglazkov>
/me was looking at pushState spec and it looked strangely familiar

[11:35:00.0000] <dglazkov>
in a good way

[12:09:00.0000] <krijnh>
Philip`: shh ;)

[16:13:00.0000] <aa>
othermaciej: Did you decide on a time to come visit?

[16:14:00.0000] <aa>
michael would like to join, but he is out wed-fri next week, so he would prefer the monday after, or else monday or tuesday next week.

[16:14:01.0000] <Hixie>
monday is no good for me next week

[16:18:00.0000] <aa>
tuesday?

[16:18:01.0000] <Hixie>
wfm

[16:52:00.0000] <othermaciej>
aa: I might be able to do Tuesday

[16:52:01.0000] <othermaciej>
(meeting right now though)


2007-09-14
[17:15:00.0000] <Hixie>
othermaciej_: renaming them to "studying existing practices" and "studying existing implementations" is nice, gives it good symmetry and sidesteps the whole kneejerk reaction, i like it.

[17:16:00.0000] <othermaciej>
Hixie: yeah, that's sort of the idea

[17:16:01.0000] <othermaciej>
idiomatic, punchy names are fun to say, but they seem to promote controversy

[17:16:02.0000] <Hixie>
yeah

[17:40:00.0000] <MikeSmith>
I think the idiomatic names are more than just fun to say; they have the advantage of already being familiar to people and capture the ideas more succinctly, though with the downside of being less precise

[17:43:00.0000] <MikeSmith>
the alternative of being more precise risks watering down some ideas to the point where they have a lot less value in quickly and clearly making the high-level design goals more clear to outside parties who have not been involved in the discussions

[17:45:00.0000] <MikeSmith>
the general slide toward meaninglessness that trying to get general consensus over language issues always brings

[17:47:00.0000] <MikeSmith>
"The faultfinder will find fault even in paradise.", to quote a little Thoreau

[17:48:00.0000] <othermaciej_>
idiomatic names are great when there is a consistent shared understanding of them

[17:48:01.0000] <othermaciej_>
but some of the current ones (the Wheel and Cowpaths ones in particular) are widely misunderstood, to the point of seriously damaging their helpfulness

[17:51:00.0000] <Lachy>
I don't want cowpaths renamed, but if it must, then we need to pick something good

[17:51:01.0000] <MikeSmith>
othermaciej - OK, then I can see it making sense to changing them

[17:52:00.0000] <MikeSmith>
Though I guess I would wonder just how widely they are misunderstood relative to any other such idioms

[17:52:01.0000] <MikeSmith>
all idioms risk being misunderstood

[17:54:00.0000] <MikeSmith>
I guess we need to consider if we are more interested in making the document easily and quickly understand to clueful people than we are to trying to prevent it from being misunderstood by less clueful people

[18:05:00.0000] <jacobolus>
Hixie: line 24774 of html5 spec, has a <?p> instead of </p>

[18:05:01.0000] <Hixie>
thanks

[18:05:02.0000] <Hixie>
it'll get fixed in due course hopefully

[18:06:00.0000] <jacobolus>
:)

[18:06:01.0000] <Hixie>
right now i'm in the middle of a complicated edit

[18:06:02.0000] <jacobolus>
pretty minor detail

[18:06:03.0000] <jacobolus>
so no worries

[18:06:04.0000] <jacobolus>
thought you'd like to know though :)

[18:06:05.0000] <Hixie>
yup, thanks :-)

[21:54:00.0000] <Hixie>
so what makes one an accessibility expert anyway

[21:55:00.0000] <Hixie>
since there seems to be at least as little agreement between the self-styled accessibility experts as there is between members of any other self-styled community

[21:55:01.0000] <Hixie>
e.g. software engineers

[21:57:00.0000] <othermaciej>
one may as well ask what makes one an expert on any topic

[21:57:01.0000] <Hixie>
well in some cases, a degree

[22:02:00.0000] <othermaciej>
that doesn't seem applicable to anything software-related however

[22:03:00.0000] <Hixie>
yeah

[23:01:00.0000] <jacobolus>
Hixie: are there some examples of accessibility experts whose resumes can be examined?

[23:01:01.0000] <jacobolus>
Hixie: maybe there's a pattern

[23:06:00.0000] <Hixie>
jacobolus: not that i know of

[23:06:01.0000] <jacobolus>
you don't know of accessibility experts? or patterns?

[23:08:00.0000] <jacobolus>
Hixie: I see a link in a google search for a pdf: “Become an Accessibility Expert in 50 min”

[23:08:01.0000] <jacobolus>
so maybe you too can be one

[23:09:00.0000] <jacobolus>
whoa: "   *  Stuff to impress your Client & Boss with.   * Surprise, it might be you! Who are covered in accessibility issues.   * Wow, That’s allot of work."

[23:15:00.0000] <Hixie>
uri?

[23:15:01.0000] <jacobolus>
second link: http://www.google.com/search?client=camino&hl=en&q=accessibility%20expert

[23:15:02.0000] <jacobolus>
http://www.cfconf.org/cfun-04/talks/HAMMAN_BecomeanAccessibilityExpertin50min.ppt

[23:16:00.0000] <jacobolus>
that's not going to be much practical use, I'm afraid

[23:19:00.0000] <jacobolus>
it has some good clipart in the corner though

[23:21:00.0000] <Lachy>
it's difficult to judge who is an expert.  I'm sure there are a lot of people who either claim to be, or have been called by others, an accessibility expert, but whom are merely advocates

[23:22:00.0000] <Lachy>
but those search results include include people like Joe Clark and Gez Lemon, which could be considered a fair assessment of them.

[23:43:00.0000] <Lachy>
I see Joshue accepted Hixie's invitation to the F2F http://html4all.org/pipermail/list_html4all.org/2007-September/000294.html

[00:45:00.0000] <Hixie>
heh, someone proposed a way to change http to allow for the content-sniffing behaviour in html5

[00:46:00.0000] <Hixie>
but unintentionally they actually proposed making it far wider-reaching than the html5 spec allows

[00:47:00.0000] <othermaciej>
oh?

[00:56:00.0000] <Hixie>
othermaciej: on www-tag

[01:04:00.0000] <othermaciej>
I'm glad the Transatmospheric Architecture Group is on the job

[01:06:00.0000] <marcosc>
ehehe

[01:06:01.0000] <hsivonen>
I think asking servers to return 406 more often is not going to help not to Break The Web

[01:08:00.0000] <hsivonen>
in retrospect, Content-Type seems like a mistake compared to making sure all Web formats had a magic number

[01:10:00.0000] <hsivonen>
fwiw, implementing the suggestion would wreak havoc with all the PHP scripts out there that serve images from a database and are hosted on Apache 1.3

[01:12:00.0000] <othermaciej>
magic numbers don't work well for text formats

[01:13:00.0000] <hsivonen>
#! works pretty well

[01:14:00.0000] <hsivonen>
a mandatory <?xml could work, too

[01:14:01.0000] <hsivonen>
and the UTF-8 BOM is pretty cool

[01:17:00.0000] <othermaciej>
I guess it depends on whether sending otherwise functional markup to be processed as plain text is considered useful

[01:19:00.0000] <othermaciej>
these TAG minutes have many interesting moments

[01:19:01.0000] <othermaciej>
http://lists.w3.org/Archives/Public/www-tag/2007Sep/0071.html

[01:25:00.0000] <Hixie>
magic numbers for text formats work fine

[01:25:01.0000] <Hixie>
but anyway, bed time

[01:25:02.0000] <Hixie>
(i agree that magic numbers would have been the better way forward, in retrospect)

[01:26:00.0000] <othermaciej>
metadata works better when it's directly attached

[01:29:00.0000] <othermaciej>
so is it at all common for GIFs to be sent with an image/jpeg content type or the like?

[02:17:00.0000] <hsivonen>
Lachy: btw, regarding <m> and offset in the Web service formats: I think I could improve the usability of Validator.nu if I highlighted ranges of the source instead of individual points

[02:17:01.0000] <hsivonen>
Lachy: in which case I'd use heuristics for guessing the start of the range

[02:18:00.0000] <hsivonen>
(basically, the previous errorless SAX event location would set the start point of the range)

[02:20:00.0000] <hsivonen>
one problem is that in practice, there are two layers of errors: 1) exact errors from the tokenizer and below and 2) inexact errors locations from above the tokenizer

[02:22:00.0000] <Lachy>
hsivonen, ok

[02:23:00.0000] <Lachy>
hsivonen, did you see the comment you got on the blog?

[02:23:01.0000] <hsivonen>
not yet

[02:23:02.0000] <hsivonen>
/me looks

[02:23:03.0000] <Lachy>
(it's from me, nothing too exciting)

[02:27:00.0000] <hsivonen>
replied

[02:28:00.0000] <hsivonen>
/me notes that markp has posted

[02:29:00.0000] <Lachy>
yeah, mark's post explains the longdesc issue really well

[02:31:00.0000] <Lachy>
I think I have another idea for how to represent the parse tree in XML, without simply dumping the whole document with a modified namespace

[02:32:00.0000] <Lachy>
and also an alternative format for JSON

[02:32:01.0000] <Lachy>
I'll make up a few examples

[02:52:00.0000] <Lachy>
hsivonen, this is the parse tree in JSON. It gives a simple DOM like interface for authors to traverse. http://tinyurl.com/yowlqm

[02:59:00.0000] <othermaciej>
hello Lachy

[02:59:01.0000] <Lachy>
hello othermaciej

[03:01:00.0000] <hsivonen>
Lachy: a very interesting idea!

[03:01:01.0000] <hsivonen>
zcorpan: what's your take on Lachy's format vs. SDF?

[03:02:00.0000] <hsivonen>
Lachy: Thank you!

[03:02:01.0000] <Lachy>
hsivonen, a slight variation to that idea would be to give it a SAX like interface

[03:02:02.0000] <Lachy>
/me is wondering why othermaciej pinged him

[03:03:00.0000] <hsivonen>
Lachy: I'm most likely going to use SAX Tree as the internal parse tree representation

[03:04:00.0000] <zcorpan>
hsivonen: lachy's format seems easier to parse but harder to read/write for humans

[03:04:01.0000] <othermaciej>
Lachy: I was just saying hi to be friendly

[03:04:02.0000] <Lachy>
oh, ok.

[03:06:00.0000] <Lachy>
hsivonen, s/SAX/XOM/ in my last message

[03:07:00.0000] <zcorpan>
/me finds http://jsonml.org/

[03:08:00.0000] <zcorpan>
that seems to be designed to be able to express legal trees only

[03:08:01.0000] <Lachy>
zcorpan, where can I find a simple example to see how it works?

[03:09:00.0000] <zcorpan>
Lachy: on that page, "Colorful Table Example"

[03:09:01.0000] <Lachy>
ok, found it

[03:10:00.0000] <hsivonen>
zcorpan: does it do namespaces?

[03:11:00.0000] <zcorpan>
hsivonen: doesn't seem like it

[03:12:00.0000] <Lachy>
oh I see, it represents each element as an array: ["nodeName", { ... attributes ...}, childNode, childNode, ...]

[03:12:01.0000] <Lachy>
hsivonen, it would probably do namespaces by serialising the xmlns and xmlns:foo attributes into the attributes object

[03:14:00.0000] <hsivonen>
Lachy: yeah. eww.

[03:15:00.0000] <hsivonen>
Lachy: though the nature of namespaces is that they are incredibly wasteful to serialize without a compression mechanism like prior declarations

[03:15:01.0000] <Lachy>
it doesn't seem to handle comment nodes well either and has no support for PIs

[03:17:00.0000] <Lachy>
zcorpan, does SDF have to serialise the namespace for every non-XHTML element, or does it do inheritance?

[03:17:01.0000] <zcorpan>
Lachy: the former

[03:18:00.0000] <zcorpan>
it also doesn't know about the "xml" prefix, e.g.

[03:18:01.0000] <Lachy>
hsivonen, it really depends what the pupose of a parse tree is, does it really need to have all the namespace info for every node?

[03:21:00.0000] <hsivonen>
Lachy: somehow, I was assuming that it had to encode everything

[03:21:01.0000] <Lachy>
I wish the w3 validator didn't remove its parse tree option

[03:22:00.0000] <zcorpan>
Lachy: indeed, it was one of the actual useful features

[03:23:00.0000] <Lachy>
the parse tree should, IMHO, just represent how the markup was parsed, not a complete representation of the tree built by the tree builder.

[03:23:01.0000] <hsivonen>
Unicode normalization is an interesting issue for tools like Validator.nu

[03:23:02.0000] <hsivonen>
Validator.nu whines if the input isn't in NFC

[03:23:03.0000] <hsivonen>
so to keep it self-validating, I cannot show the original code points for non-NFC source

[03:24:00.0000] <hsivonen>
but then, non-b0rked Unicode renderers shouldn't suffer if I normalize

[03:25:00.0000] <Lachy>
I don't really understand normalisation

[03:25:01.0000] <hsivonen>
philosophical questions about what the "source" is in the context of a NFC character presentation when the source really consists of bytes

[03:27:00.0000] <hsivonen>
implementing showing source pedantically correctly in an interesting demo on how non-simple "just normalize to NFC" is

[03:27:01.0000] <hsivonen>
as the source positions need to stay anchored before and after normalization

[03:30:00.0000] <hsivonen>
I think that eventually I'm going to sacrifice some perf in order to get some sane separation of concern in the validator.nu internals

[03:37:00.0000] <Lachy_>
hsivonen, this was my idea for representing the parse tree in XML http://tinyurl.com/24nanw

[03:37:01.0000] <hsivonen>
Lachy_: thanks. It is verbose, but probably better than my namespace salting idea

[03:39:00.0000] <Lachy_>
yeah, and it should be able to represent any document at all, whether or not the source was well formed.

[03:40:00.0000] <zcorpan>
hsivonen: <form name="foo"> is flagged as invalid for html4 documents in validator.nu

[03:40:01.0000] <Lachy_>
name isn't allowed on <form>, IIRC

[03:40:02.0000] <zcorpan>
Lachy_: it is in html4

[03:41:00.0000] <hsivonen>
zcorpan: do you have a test case with a URI?

[03:41:01.0000] <zcorpan>
xhtml 1.0 prose says that it is deprecated but it's not present in the xhtml 1.0 dtd

[03:41:02.0000] <zcorpan>
http://validator.nu/?doc=http%3A%2F%2Fwww.americanhomeinspectordirectory.com%2Findextest.php

[03:41:03.0000] <hsivonen>
zcorpan: well, that explains it

[03:42:00.0000] <zcorpan>
yeah. seems to be a mistake in the xhtml 1.0 spec

[03:42:01.0000] <Lachy_>
it's just one of those many undocumented changes between XHTML1 and HTML4

[03:43:00.0000] <Lachy_>
hmm. I wonder why so many comments are being flagged for moderation in the blog.

[03:44:00.0000] <hsivonen>
at least Relaxed has the same bug

[03:44:01.0000] <zcorpan>
"HTML 4 defined the name attribute for the elements a, applet, form, frame, iframe, img, and map." ... "Note that in XHTML 1.0, the name attribute of these elements is formally deprecated, and will be removed in a subsequent version of XHTML."

[03:44:02.0000] <zcorpan>
-- http://www.w3.org/TR/xhtml1/#h-4.10

[03:44:03.0000] <hsivonen>
zcorpan: thanks. for now, I think I'm going to note this in documentation instead of forking the XHTML 1.0 / HTML 4.01 schema

[03:46:00.0000] <zcorpan>
and the dtd: http://www.w3.org/TR/xhtml1/dtds.html#dtdentry_xhtml1-strict.dtd_form

[03:46:01.0000] <zcorpan>
hsivonen: ok

[03:47:00.0000] <hsivonen>
zcorpan: fixed in documentation

[03:49:00.0000] <hsivonen>
zcorpan: thanks. (at least I now have a note about the bug in case I overhaul HTML 4.01 support some day)

[03:50:00.0000] <zcorpan>
hsivonen: np

[03:52:00.0000] <hsivonen>
I want a streaming Unicode normalizer...

[03:55:00.0000] <Lachy>
it looks like Rob misunderstands when the spec says alt can be omitted. http://blog.whatwg.org/the-longdesc-lottery#comment-8929

[03:56:00.0000] <Lachy>
his example is when the image is illustrative of the surrounding text, but the spec is clear that alt="" should be used

[03:57:00.0000] <hsivonen>
/me wonders how many times in his life he will end up writing new line normalization

[03:57:01.0000] <hsivonen>
ooh. all the wasted productivity on CRLF

[03:58:00.0000] <Lachy>
indeed. That's got to be one of the stupidest things that various protocol designers (FTP, HTTP, etc.) have ever made

[03:58:01.0000] <Lachy>
s/things/mistakes/

[04:01:00.0000] <othermaciej>
you mean a requirement to handle all the various line ending permutations?

[04:03:00.0000] <Lachy>
not that they had to handle it, but that they handled it using CRLF instead of just LF.  We can blame the system engineers before them that implemented CRLF and CR for line endings.

[04:03:01.0000] <hsivonen>
othermaciej: I mean having to write code to handle CRLF, LF and CR for the nth time

[04:04:00.0000] <othermaciej>
it's annoying but given the state of the world requiring exactly one of those options would probably lead to non-conformance and lack of interoperability

[04:05:00.0000] <othermaciej>
I blame the implementors of DOS and the original Macintosh System for not seeing that LF is the one true path

[04:05:01.0000] <Lachy>
othermaciej, yeah, we can't change it now, but CR should never have existed

[04:05:02.0000] <hsivonen>
othermaciej: yeah

[04:14:00.0000] <Lachy>
othermaciej, did you update Degrade Gracefully, but forget to check in the changes?

[04:18:00.0000] <othermaciej>
Lachy: I thought I verified that the new version was on the web site, but let me double check

[04:18:01.0000] <Lachy>
oh, never mind, it was cached

[04:18:02.0000] <othermaciej>
I like the way the rewritten versions of the principles are coming out but it's a lot of work

[04:18:03.0000] <Lachy>
the original design principles were intended to be short, clear and concise statements.  The rewrites are becoming significantly more verbose.

[04:21:00.0000] <othermaciej>
yes

[04:21:01.0000] <othermaciej>
but I think they will also be more enlightening to people who didn't already have them as implicit assumptions

[04:22:00.0000] <Lachy>
given the parsing behaviour of existing browsers, using section { display: block } is really only effective in XHTML5

[04:23:00.0000] <Lachy>
sadly, graceful fallback for new block elements in HTML5 isn't all that great, but there's little that can be done about it

[04:23:01.0000] <othermaciej>
I guess I should remove that example then

[04:24:00.0000] <othermaciej>
I guess if you nest blocks inside it gets split by residual style handling?

[04:24:01.0000] <hober>
with <section><div>...</div></section> they end up as sibling elements, IIRC

[04:25:00.0000] <othermaciej>
hmm

[04:25:01.0000] <Lachy>
yes, though, that's not really a problem unless you also try to do: section { background: green; }

[04:25:02.0000] <Lachy>
or similar

[04:25:03.0000] <othermaciej>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Csection%3E%0A%3Cdiv%3ETest.%3C%2Fdiv%3E%0A%3Cp%3EThis%20is%20also%20a%20test.%3C%2Fp%3E%0A%3C%2Fsection%3E%0A%0A

[04:25:04.0000] <Lachy>
it is a problem if you want to use selectors like: section section h1 { ... }

[04:26:00.0000] <othermaciej>
seems to work as I expect in Safari

[04:26:01.0000] <othermaciej>
(in my current trunk build, anyway)

[04:26:02.0000] <Lachy>
that's because Safari is too good. Check FF and IE

[04:26:03.0000] <Lachy>
current release versions

[04:26:04.0000] <othermaciej>
I get siblings in Firefox though

[04:26:05.0000] <Lachy>
works for Safari 3 beta (Win)

[04:27:00.0000] <hsivonen>
hmm. the Feed Validator doesn't even try do source highlighting with finer than line granularity...

[04:27:01.0000] <othermaciej>
Firefox helpfully adds a _moz-userdefined="" attribute too

[04:27:02.0000] <hsivonen>
a highlight can span a line break in my design (since a tag can)

[04:27:03.0000] <othermaciej>
Opera also nests as I expected

[04:28:00.0000] <hsivonen>
which means I want pre handling for line breaks instead of one <li> per line

[04:28:01.0000] <Lachy>
hsivonen, is your validator's show source feature going to have a pretty print feature?

[04:28:02.0000] <othermaciej>
I guess I need to take that example out though

[04:28:03.0000] <hsivonen>
Lachy: I wasn't planning to pretty print

[04:28:04.0000] <othermaciej>
but not right now, 'tis sleepytime

[04:28:05.0000] <hsivonen>
Lachy: I was planning on dumping the source and the parse tree

[04:28:06.0000] <hsivonen>
Lachy: but not pretty-printed source

[04:29:00.0000] <Lachy>
ok

[04:29:01.0000] <hsivonen>
(preserving error positions before and after pretty printing is a problem I'd rather avoid solving

[04:29:02.0000] <Lachy>
so if you were to highlight entire lines, it wouldn't be particularly useful for input that uses long lines

[04:29:03.0000] <hsivonen>
Lachy: right

[04:30:00.0000] <hsivonen>
Lachy: which is why I want more granularity

[04:30:01.0000] <hsivonen>
but HTML doesn't do overlapping ranges (except in IE :-)

[04:30:02.0000] <hsivonen>
so I don't know how I could mark a range that spans a line break *and* have one <li> per line for line numbering

[04:31:00.0000] <Lachy>
<li>aaa<m>bbb</m></li><li><m>ccc</m>ddd</li>

[04:32:00.0000] <Lachy>
that'll work well enough

[04:32:01.0000] <hsivonen>
Lachy: not with the :target selector :-(

[04:33:00.0000] <hsivonen>
what's the CSS situation with making white space significant (including breaks) but allowing line wrapping?

[04:34:00.0000] <Lachy>
I assume both lines would be highlighted, but the :targeted line would be in a diff colour?

[04:34:01.0000] <Lachy>
like the IRC logs?

[04:34:02.0000] <Lachy>
white-space: pre-wrap; works in some browsers

[04:35:00.0000] <hsivonen>
does "some" include IE? what about WebKit/Gecko/Opera?

[04:35:01.0000] <krijnh>
Whuh, whah?

[04:35:02.0000] <krijnh>
IRC logs?

[04:35:03.0000] <Lachy>
see the styles used in the W3C list archive. e.g. this random post http://lists.w3.org/Archives/Public/www-archive/2007Aug/0082.html - they use various proprietary alterntives

[04:35:04.0000] <hsivonen>
simple problems are surprisingly complicated when you start implementing

[04:36:00.0000] <Lachy>
krijnh, I was referring to the yellow highligting for important lines and orange for :target

[04:37:00.0000] <hsivonen>
Lachy: that one has -moz-pre-wrap

[04:37:01.0000] <hsivonen>
pre {

[04:37:02.0000] <hsivonen>
  white-space: pre-wrap;       /* css-3 */

[04:37:03.0000] <hsivonen>
  white-space: -moz-pre-wrap;  /* Mozilla, since 1999 */

[04:37:04.0000] <hsivonen>
  white-space: -pre-wrap;      /* Opera 4-6 */

[04:37:05.0000] <hsivonen>
  white-space: -o-pre-wrap;    /* Opera 7 */

[04:37:06.0000] <hsivonen>
  word-wrap: break-word;       /* Internet Explorer 5.5+; makes the CSS invalid :( */

[04:37:07.0000] <hsivonen>
 }

[04:37:08.0000] <hsivonen>
cute

[04:38:00.0000] <krijnh>
white-space: -hp-pre-wrap; /* HP printers */

[04:39:00.0000] <Lachy>
krijnh, does that really work?

[04:39:01.0000] <krijnh>
(from http://ln.hixie.ch/resources/style/spaced.css )

[04:40:00.0000] <krijnh>
Sorry, I'm just dropping in the discussion, I'll leave again now :)

[04:40:01.0000] <hsivonen>
do people care about visible line numbers if you can address an error position by fragment id?

[04:40:02.0000] <Lachy>
hsivonen, yes

[04:41:00.0000] <hsivonen>
Lachy: :-(

[04:41:01.0000] <Lachy>
line numbers make it possible to then look up that line in their editor

[04:41:02.0000] <hsivonen>
Lachy: oh, the error messages would have numbers

[04:41:03.0000] <hsivonen>
Lachy: I mean does the source dump need to show them?

[04:42:00.0000] <Lachy>
it is convenient.  That's what we need a ::line pseudo-element for to add line numbers without explicit markup

[04:44:00.0000] <annevk>
XBL

[04:44:01.0000] <annevk>
/me is for less pseudo-elements and more generic solutions

[04:44:02.0000] <Lachy>
ooh, that would be a good example to do in the primer!

[04:45:00.0000] <Lachy>
but I'm not sure how it could work

[04:46:00.0000] <annevk>
a simple script

[04:46:01.0000] <annevk>
split on \n and put it in <li> or something

[04:46:02.0000] <annevk>
although you still need some API to change selection behavior and such

[04:46:03.0000] <annevk>
well, a simpler one

[04:47:00.0000] <Lachy>
that would also split the <m> elements

[04:48:00.0000] <annevk>
hmm, if trey're used multiline I suppose you have to make it slightly more advanced

[04:48:01.0000] <annevk>
(that's a good reason not to add ::line fwiw)

[04:49:00.0000] <hsivonen>
annevk: there's already first-line that does styling in a way that doesn't match the underlying tree

[04:49:01.0000] <Lachy>
only if you care about implementation complexity for browsers :-)

[04:50:00.0000] <Lachy>
/me doesn't have to care about that stuff for at least another 2 weeks

[04:51:00.0000] <Lachy>
(till I start at Opera, then such things will matter for me)

[04:51:01.0000] <annevk>
hsivonen, yes, and ::first-letter, they're annoying

[04:51:02.0000] <annevk>
(and underdefined for those specific cases of course)

[04:52:00.0000] <Lachy>
/me --> dinner, bbl

[04:53:00.0000] <annevk>
/me reads a funny discussion on the longdesc= debate

[04:54:00.0000] <hsivonen>
is there a nice way to capture fragment id changes in JS?

[04:54:01.0000] <hsivonen>
I guess I could use few lines of JS instead of :target

[04:55:00.0000] <annevk>
setTimeout()

[04:55:01.0000] <annevk>
HTML5 introduces hashchanged

[04:55:02.0000] <Lachy>
capture the click event for links and update

[04:59:00.0000] <hsivonen>
eww. setTimeout() can't be right

[04:59:01.0000] <Lachy>
hmm. window.watch('location', myHandler); won't work now :-( http://developer.mozilla.org/en/docs/Core_JavaScript_1.5_Reference:Global_Objects:Object:watch

[05:00:00.0000] <annevk>
hsivonen, just add an onclick= to all the links for which you want the effect

[05:02:00.0000] <virtuelv_>
hsivonen: while not right, it 'works'

[05:03:00.0000] <Lachy>
virtuelv_, it may work, but extremely inefficient

[05:03:01.0000] <zcorpan>
document.onclick = ...

[05:04:00.0000] <virtuelv_>
Lachy: sort of right

[05:04:01.0000] <virtuelv_>
what hsivonen wants is not an expensive operation

[05:04:02.0000] <annevk>
you need setTimeout() for real btw

[05:04:03.0000] <annevk>
otherwise you're not handling history traversel, bookmarks to the link, etc.

[05:06:00.0000] <Lachy>
maybe, but you'd still be polling the value every X milliseconds, where X is short enough to not provide a significant delay when the value really changes

[05:08:00.0000] <annevk>
200 worked for me

[05:08:01.0000] <annevk>
/me uses it in http://anne.is.weggeweest.nl/image-viewer

[05:11:00.0000] <Lachy>
annevk, looks like it uses 2000

[05:11:01.0000] <zcorpan>
ooh, <area alt> sort of works in O9.5a

[05:11:02.0000] <annevk>
oops, you want setInterval

[05:12:00.0000] <Lachy>
oh, I see

[05:12:01.0000] <hsivonen>
virtuelv_: ok

[05:13:00.0000] <Lachy>
ah, \setTimeout is used for the automatic slide show

[05:15:00.0000] <virtuelv_>
I remember, back in the bad old days when one had to use setTimeout to emulate onresize

[05:17:00.0000] <virtuelv_>
(Can't remember if it was for Opera or Netscape, though)

[05:23:00.0000] <annevk>
(I stole my technique from http://w3future.com/weblog/stories/2002/05/04/urisForDynamicPages.xml by the way. It's surprisingly simple.)

[06:27:00.0000] <annevk>
interesting data from the German guy

[06:29:00.0000] <annevk>
anyway, time to go for the rest of the weekend

[06:41:00.0000] <Lachy>
that is indeed a very interesting conclusion. It'll be interesting to see the responses from those in favour of keeping longdesc

[06:49:00.0000] <Lachy>
I wonder if the the cite attribute for blockquote should be given the same treatment as longdesc.  i.e. drop it because a) it's not usefully implemented and b) <cite><a href=""> is more effective.

[06:52:00.0000] <zcorpan>
Philip`, Hixie: we need a survey about whether <img usemap> have useful alt text (on the image itself) often enough to make it useful to show to the user... (though i don't know how to perform such a survey, perhaps manual checking of some random pages that have image maps with non-empty alt is required)

[06:52:01.0000] <zcorpan>
s/need/want/ :)

[06:53:00.0000] <stelt>
Services working on files usually have both a file upload and a text field for URL. As web and local are mixing, what about combining these 2 form fields into one as well ? (i did a bit of javascript coding to simulate it)

[06:54:00.0000] <Lachy>
stelt, please explain what you mean?

[06:54:01.0000] <zcorpan>
/me looks at http://canvex.lazyilluminati.com/survey/2007-07-17/analyse.cgi/tagattr/img/usemap

[06:57:00.0000] <Philip`>
"useful alt text" is unfortunately hard to determine automatedly :-(

[06:58:00.0000] <Lachy>
Philip`, you just need to write some better artificial intelligence!

[06:58:01.0000] <Philip`>
Is it worth looking for a list of <img alt usemap>, or is it fine to just manually check all the <img usemap> uses for ones with alt?

[06:59:00.0000] <zcorpan>
i've looked at the first 4 in http://canvex.lazyilluminati.com/survey/2007-07-17/analyse.cgi/pages/tagattr/img/usemap although they all had no alt at all

[07:00:00.0000] <zcorpan>
so it would be useful to have a list of pages that have <img usemap> with a non-empty alt attribute

[07:01:00.0000] <zcorpan>
or at least have an alt attribute

[07:01:01.0000] <Lachy>
Philip`, on the results page, could you show the images and alt text besides each other to make it easier to examine them

[07:02:00.0000] <Lachy>
it might be worth looking at the <area alt=""> of the associated image map too, if possible.

[07:03:00.0000] <stelt>
Lachy, instead of <input type="text" name="url"> and <input type="file"> (for either local or remote file) i'd sometimes just like something like <input type="local_or_remote">

[07:03:01.0000] <stelt>
i sort of simulated this with 1 <input type="text"> and 

[07:03:02.0000] <stelt>
<div id="data" style="z-index:2;visibility:hidden;">

[07:03:03.0000] <stelt>
file

[07:03:04.0000] <stelt>
<input name="data_file" id="datadata_file" type="file" onchange="return divInputChange('data','file',this.value);">

[07:03:05.0000] <stelt>
<br><br>or URL 

[07:03:06.0000] <stelt>
<input name="data_url" id="data_url" type="text" onchange="return divInputChange('data','url',this.value);">

[07:03:07.0000] <stelt>
</div>

[07:03:08.0000] <zcorpan>
first page with an alt attribute: http://www.harrahs.com/casinos/harrahs-atlantic-city/hotel-casino/property-home.shtml -- alt="brand_bar"

[07:03:09.0000] <zcorpan>
not useful

[07:06:00.0000] <Philip`>
/me tries implementing the rules for parsing a hashed ID reference

[07:06:01.0000] <Lachy>
stelt, could you link to a useful example that demonstrates what you're trying to achieve?

[07:07:00.0000] <Lachy>
stelt, or fix the example you gave earlier.

[07:07:01.0000] <Lachy>
stelt, http://html5.lachy.id.au/?type=text%2Fhtml%3B+charset%3DUTF-8&data=%3Cdiv+id%3D%22data%22+style%3D%22z-index%3A2%22%3E%0D%0Afile+%3Cinput+name%3D%22data_file%22+id%3D%22datadata_file%22+type%3D%22file%22+onchange%3D%22return+divInputChange%28%27data%27%2C%27file%27%2Cthis.value%29%3B%22%3E%0D%0A%3Cbr%3E%3Cbr%3Eor+URL%0D%0A%3Cinput+name%3D%22data_url%22+id%3D%22data_url%22+type%3D%22text%22+

[07:07:02.0000] <Lachy>
onchange%3D%22return+divInputChange%28%27data%27%2C%27url%27%2Cthis.value%29%3B%22%3E%0D%0A%3C%2Fdiv%3E

[07:07:03.0000] <zcorpan>
http://www.sil.org/computing/comp-morph-phon.html --  ALT="See Text Menu" ... hmm, denotes that it is a menu

[07:08:00.0000] <zcorpan>
although most client side image maps seem to be menus

[07:08:01.0000] <stelt>
Lachy, for example the W3C validator has separate forms for file upload and  on-line files, if there was 1 input flavour that combines both into 1 it would make it a lot easier for both coder and user

[07:10:00.0000] <Lachy>
stelt, I don't see how a combined control would make that easier for developers. I'd like to see a functioning example of the JS solution you mentioned

[07:11:00.0000] <Lachy>
stelt, use that page I linked to before, write the markup and script, click "upload" to upload  it to the clipboard when you're done and let me know

[07:11:01.0000] <zcorpan>
the w3c validator interface wouldn't really need separate forms, it could have one form with multiple fields for the input document

[07:11:02.0000] <zcorpan>
like e.g. http://software.hixie.ch/utilities/cgi/data/data

[07:12:00.0000] <stelt>
zcorpan, when you have a service that has a file for many parameters it will get you an ugly UI ...

[07:12:01.0000] <Lachy>
stelt, do you have a site somewhere that needs this feature?

[07:12:02.0000] <Lachy>
if so, provide a link

[07:13:00.0000] <zcorpan>
stelt: you could spice up the ui to be just like the w3c validator while still having one form

[07:14:00.0000] <stelt>
Lachy, i'm working on such a site

[07:48:00.0000] <Philip`>
zcorpan, Lachy: http://canvex.lazyilluminati.com/misc/imgmaps.xhtml shows images which have usemap and alt attributes, where the usemap points to an existent map

[07:50:00.0000] <Philip`>
(I only found one usemap syntax error (usemap="0") and two where I couldn't find the matching <map>)

[07:51:00.0000] <Philip`>
(...and 140 correct ones, from 1024 pages)

[07:51:01.0000] <Philip`>
((I can look at more pages trivially - it only took a minute to run))

[07:52:00.0000] <zcorpan>
Philip`: thanks!

[07:53:00.0000] <zcorpan>
Philip`: wow, that's really useful

[07:55:00.0000] <Lachy>
Philip`, that's awesome!

[07:56:00.0000] <Lachy>
#map21 is a nice one :-)

[07:56:01.0000] <Lachy>
Philip`, can you add numbers to the table to help identify them?

[08:00:00.0000] <zcorpan>
http://simon.html5.org/temp/usemap-alt.txt

[08:00:01.0000] <virtuelv_>
1024 pages is a small sample, though

[08:02:00.0000] <zcorpan>
virtuelv: yeah, but they need manual investigation anyway

[08:03:00.0000] <zcorpan>
seems like supressing alt would be a good thing in some cases and a bad thing in others

[08:03:01.0000] <Philip`>
Lachy: Updated so it's numbered

[08:04:00.0000] <Philip`>
See e.g. http://canvex.lazyilluminati.com/misc/imgmaps.xhtml#10

[08:04:01.0000] <zcorpan>
it would be possible to catch some of the first by checking if there's exactly one area and it has same alt as the image

[08:05:00.0000] <Philip`>
If anybody wants more stuff to read through manually, I'm happy to do a larger sample since it doesn't require any effort :-)

[08:06:00.0000] <zcorpan>
/me is happy with the current sample :)

[08:08:00.0000] <zcorpan>
e.g. #4, #29, #110

[08:08:01.0000] <zcorpan>
though that case is not very common and it wouldn't be very annoying to use both

[08:09:00.0000] <zcorpan>
overall it seems useful to never supress the image's alt

[08:36:00.0000] <Lachy>
#10 interesting "[English Flag - click here for English version]" with a picture of the US flag

[08:37:00.0000] <Lachy>
it has effectively the same meaning, though still innaccurate

[09:28:00.0000] <Lachy>
I wrote some instructions for posting to the blog http://blog.whatwg.org/submit-article

[10:11:00.0000] <Philip`>
Ooh, APNG in Opera

[10:12:00.0000] <Philip`>
(That makes it more useful to draw auto-animated images in <canvas> than when you could only do animated GIFs)

[10:15:00.0000] <virtuelv_>
Philip`: I'm not convinced canvii should accept animated images

[10:16:00.0000] <Philip`>
It'd make the sprites on http://canvex.lazyilluminati.com/83/play.xhtml easier to implement

[10:17:00.0000] <Philip`>
(and save bandwidth, since most of the frames are the same)

[10:17:01.0000] <virtuelv_>
yeah, but what should happen with the different composite modes?

[10:18:00.0000] <Philip`>
Why would it be any different to drawing a static image, except that it uses the current frame at the time when you call drawImage?

[10:19:00.0000] <virtuelv_>
would require browsers to store the rectangle covered by the canvas 

[10:20:00.0000] <virtuelv_>
s/canvas/image/

[10:20:01.0000] <virtuelv_>
not saying it can't be done, but it puts a toll on implementations

[10:21:00.0000] <Philip`>
I don't want the canvas output to ever change automatically, since that sounds probably crazy and complicated - I'm imagining that you'd still have to manually redraw the screen for every frame, but drawImage would automatically pick the current animation frame each time you call it

[10:22:00.0000] <Philip`>
(which is what Firefox does, if I remember correctly)

[10:36:00.0000] <virtuelv_>
anyway, how animated images behave should go into the spec

[10:39:00.0000] <Philip`>
(Drawing animated SVG into a canvas is a more fun problem :-) )

[10:44:00.0000] <virtuelv_>
drawing SVG into a canvas is a useful means to get canvas text

[11:29:00.0000] <gsnedders>
how is application/octect-stream sniffed?

[11:31:00.0000] <chrismurf>
what's the correct way to do dotted / dashed / etc. lines with canvas strokes?  I expected strokeStyle, but that seems to be just color.  Should I just draw/move/draw/move/draw/move (yuck) ?

[11:35:00.0000] <Philip`>
chrismurf: Currently the only way is to manually draw lots of short lines

[11:35:01.0000] <chrismurf>
Philip`, thank you.  If you're Philip Taylor, I was just stumbling on your notes on html5.org on this topic

[11:36:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/dash.html implements it in a slightly generic and not entirely bug-free way

[11:36:01.0000] <chrismurf>
sorry for not finding it sooner

[11:36:02.0000] <chrismurf>
oh - that's perfect

[11:36:03.0000] <Philip`>
That is me :-)

[11:36:04.0000] <chrismurf>
generic and not entirely bug-free is better than non-existent and buggy, which is what I would have ;-)


2007-09-15
[18:10:00.0000] <Lachy>
Very interesting comment from Joe Clark http://blog.whatwg.org/the-longdesc-lottery#comment-9051

[18:23:00.0000] <jruderman>
Lachy: internal server error

[18:24:00.0000] <Lachy>
I know

[18:24:01.0000] <Lachy>
I don't know why the wiki broke

[18:24:02.0000] <Lachy>
oh, now the blog too!

[18:24:03.0000] <Lachy>
Hixie, yt?

[18:38:00.0000] <Lachy>
error message from the blog: "Fatal error: Out of memory (allocated 4718592) (tried to allocate 19456 bytes) in /home/.hardangervidda/lhunt/blog.whatwg.org/wp-includes/widgets.php on line 610"

[19:12:00.0000] <Lachy>
krijnh, there's a bug in your URL detection code for the logs, '>' should not be included as part of a link. http://krijnhoetmer.nl/irc-logs/whatwg/20070911#l-368

[22:36:00.0000] <Lachy>
the wiki and blog seem to be having intermittent problems. One minute it works, the next it doesn't.

[22:36:01.0000] <Lachy>
I suppose I should make a backup of the DB ASAP in case something serious should happens to it

[23:08:00.0000] <Lachy>
it is impossible to make a back up when the server keeps dying every 2 minutes :-(

[03:44:00.0000] <comster404>
you should check out http://fluidsurfandsport.com surf shop and http://jeffpelton.com

[06:39:00.0000] <Dahu>
Hi, I read this last sentence in the FAQ : "It is important to make the distinction between the rules that apply to user agents and the rules that apply to authors for produce conforming documents. They are completely orthogonal." Knowing that the majority of authors develop by copying examples on the web, and testing in their favorite browsers, how to make them aware of that distinction ?

[06:44:00.0000] <Dashiva>
Badges

[06:44:01.0000] <Philip`>
I expect the main ways would be conformance checkers and tutorials/guides/books and discussions (on forums etc) with people who understand the rules

[06:48:00.0000] <Philip`>
(By the way, I think it could be good to have a "Developed with help from the HTML5 conformance checker" badge, since it can be very widespread and effective advertising for that service)

[06:48:01.0000] <Dahu>
Well, forums/tutorials/books have existed from the beginning. And it has nonetheless led to the poor web we can now experience... And about conformance checkers, wouldn't their implementations differs, as browsers do ? Will there be an official checkers ?

[06:49:00.0000] <webben>
Dahu: The books and tutorials have not been very good ones.

[06:49:01.0000] <webben>
Dahu: One of the interesting goals in the HTML WG is to produce semi-official tutorials

[06:49:02.0000] <webben>
(the current official ones aren't too hot either)

[06:50:00.0000] <Dashiva>
The current official spec isn't so hot either ;)

[06:50:01.0000] <Philip`>
Dahu: Conformance checkers should agree on most aspects, since the specification defines what is conforming and the checkers just have to implement that

[06:51:00.0000] <Philip`>
though there are some requirements which are impossible to check, and implementations will tend to have bugs and missing features, so there would be some differences

[06:52:00.0000] <Dashiva>
And the differences would lead to those bugs being discovered (in theory)

[06:53:00.0000] <Philip`>
Given how people have adopted XHTML in the past few years, it looks like a significant number do actually follow expert advice to some extent, so it's not totally hopeless :-)

[06:54:00.0000] <karlUshi>
for what is worth, there will be news very soon about HTML 5 for Authors

[06:55:00.0000] <webben>
what exactly is HTML 5 for Authors? a document? a book? a project?

[06:56:00.0000] <karlUshi>
a document

[06:56:01.0000] <webben>
ok

[06:58:00.0000] <Lachy>
karlUshi, are you referring to this? http://canvex.lazyilluminati.com/misc/ref/ref.html

[07:00:00.0000] <webben>
/me wonders what the order of elements is based on there. Frequency?

[07:00:01.0000] <Philip`>
I think he's referring to some secretive cabal, about which I know nothing except that it exists :-p

[07:00:02.0000] <karlUshi>
Lachy: no 

[07:00:03.0000] <Philip`>
webben: It's the same order as the HTML5 spec

[07:00:04.0000] <webben>
oh

[07:01:00.0000] <webben>
Philip`: So are you just stripping out the UA parsing information?

[07:01:01.0000] <karlUshi>
which is a good starting point but doesn't help that much in the context of authors. It makes a good detailed index though.

[07:02:00.0000] <Dahu>
Ok. I work with developers who have no IT diploma. When they need to do a tricky stuff, they search on google, usually find a popular horrible browser specific hack, and are just happy with it. So HTML5 is just a bet that it will change ?

[07:02:01.0000] <webben>
Having no IT diploma isn't some sort of bar to reading the HTML spec.

[07:03:00.0000] <karlUshi>
/me is off to a F2F

[07:03:01.0000] <webben>
Dahu: The solution to that is to work on the search engine visibility and end-user attractiveness of the tutorials.

[07:03:02.0000] <webben>
And make sure they offer solutions for common problems.

[07:03:03.0000] <Philip`>
webben: It's more like writing a whole new document, by going through the spec and copying the points that apply to authors (and rearranging some related points so they're described in the same place)

[07:04:00.0000] <Dahu>
i know, but it's not in their culture to read a spec. They prefer practical solutions and examples.

[07:04:01.0000] <Philip`>
(Almost all of the text is new, and just a couple of examples were copied from the original spec)

[07:04:02.0000] <webben>
Dahu: That's a different set of people than they people who "have no IT diploma".

[07:05:00.0000] <webben>
(some people are doubtless members of both sets)

[07:05:01.0000] <webben>
Philip`: If you're not reordering the elements alphabetically, perhaps it would help to group them a bit?

[07:05:02.0000] <webben>
(i.e. with headings?

[07:06:00.0000] <Philip`>
webben: Like the grouping that the HTML5 spec uses when describing elements?

[07:06:01.0000] <webben>
yeah maybe

[07:07:00.0000] <Philip`>
I agree something like that would be good

[07:08:00.0000] <Philip`>
(though I don't know what'd be the best way to write it)

[07:10:00.0000] <Philip`>
(It should be easy enough to rearrange things, since the element definitions are mostly independent of each other)

[07:11:00.0000] <webben>
Philip`: If you want to make things really fancy, have you seen the user-customisable draft WCAG 2 quickref

[07:12:00.0000] <webben>
http://www.w3.org/WAI/WCAG20/quickref/

[07:13:00.0000] <hsivonen>
hmm. Google Translator translates the contents of <code>

[07:13:01.0000] <hsivonen>
so much for semantics

[07:13:02.0000] <Philip`>
webben: No, but I have now

[07:13:03.0000] <hsivonen>
<code>old</code> 

[07:13:04.0000] <hsivonen>
(German to English)

[07:13:05.0000] <webben>
hsivonen: So much for Google Translator.

[07:14:00.0000] <webben>
Last time I used it, it translated the German for "elderly cats" into "elderly tigers".

[07:14:01.0000] <Philip`>
webben: Looks kind of like that's designed for printing

[07:14:02.0000] <webben>
Philip`: I don't /think/ so.

[07:15:00.0000] <webben>
It's a lot less useful if you can't follow the links.

[07:15:01.0000] <Philip`>
I'm not sure why you'd want to remove e.g. the Introduction section if you were just reading it on the screen, since it's trivial to scroll past

[07:15:02.0000] <webben>
I think it's more meant to provide a usable way of getting to content inside the WCAG2 labyrinth.

[07:15:03.0000] <webben>
Philip`: I think it remembers your settings.

[07:16:00.0000] <webben>
yeah, last option: Keep these settings when I leave the page.

[07:16:01.0000] <webben>
Just a thought, it may not help as much with HTML.

[07:16:02.0000] <Philip`>
Ah, okay

[07:17:00.0000] <Philip`>
Maybe it could be useful for showing/hiding things like the "Further details: ..." sections

[07:23:00.0000] <Dahu>
I think the main problem is that developers just test their page on the browser at that's it. If it works, they don't bother if it conforms to the specs. Checking if it conforms to the spec is a waste of time. What can we do against that kind of developping behaviour ?

[07:30:00.0000] <Philip`>
One of the problems in that case can be solved by making all browsers act the same, so something that's tested in one browser will work in the others (even if it's nasty ugly non-conforming code)

[07:31:00.0000] <Philip`>
(I can't think of any realistic ways to solve the problem of people writing nasty ugly non-conforming code, though)

[07:31:01.0000] <hsivonen>
Dahu: the thing to do is the make the notion of conformance useful in such a way that if your document is conforming, you could expect fewer counter-intuitive surprises

[07:32:00.0000] <hsivonen>
Dahu: in particular, even if browsers are consistent, if they are consistently counter-intuitive, it is still worth flagging

[07:32:01.0000] <hsivonen>
Dahu: example: forbidden stuff in tables

[07:34:00.0000] <Dahu>
hsivonen: ok. interesting. Philip: it's forgetting about browsers wars. The most popular always want to add exclusive features (see MNG APNG for exemple), in order to assure its position.

[07:36:00.0000] <Philip`>
APNG is in the alpha builds of Opera 9.5 as well as of Firefox 3, so it's not really exclusive

[09:29:00.0000] <hsivonen>
http://plasmasturm.org/log/469/

[09:44:00.0000] <MikeSmith>
hsivonen - the whole comment that he's quoting is worth reading as well

[09:44:01.0000] <MikeSmith>
http://www.tbray.org/ongoing/When/200x/2007/09/14/Lousy-Aggregators#c1189816400.193978

[09:44:02.0000] <MikeSmith>
"it might be time to acknowledge that the problem is the spec instead of the implementors"

[09:47:00.0000] <hsivonen>
MikeSmith: yeah.

[09:48:00.0000] <hsivonen>
MikeSmith: which is the reason why it might make sense to resist the kind of text/html extensibility that'd bring XML-style namespacing to HTML

[09:58:00.0000] <MikeSmith>
hsivonen - I think more people would see value in adding a general extensibility mechanism if it there were any problem cases other than dealing with SVG for which it would address any real market/user demand

[09:59:00.0000] <MikeSmith>
extensibility mechanisms that didn't solve any specific existing or forseeable problems were what the SGML guys specialized in

[09:59:01.0000] <MikeSmith>
and we can see how far it got them

[10:04:00.0000] <hsivonen>
MikeSmith: I agree. Though I do see a little bit of market demand for MathML integration as well (to the extent there's MathML demand in the first place).

[10:04:01.0000] <MikeSmith>
but perhaps the HTML case is different in that we know it's going to be around for good while longer, so building extensibility mechanisms for future possible down-the-road problems may not be as much of a waste of time as it turned out to be for SGML (now that SGML is dead and most people think it's good riddance)

[10:05:00.0000] <hsivonen>
the main problem with Namespaces in XML is that the cure (namespaces) seems to cause more grief than the problem (name collisions in cases where people *actually* merge two vocabularies)

[10:06:00.0000] <MikeSmith>
yeah, exactly

[10:06:01.0000] <MikeSmith>
cure is worse than the disease

[10:07:00.0000] <hsivonen>
(the "problem" of giving a global identity to elements seems less real than the collision issue in the case of an actual merge)

[10:14:00.0000] <MikeSmith>
design principle: Don't try to get too far ahead of the implementor requirements and user requirements...

[10:17:00.0000] <MikeSmith>
don't add additional pain/hassles for all users by introducing mechanisms for solving problems that most users don't encounter and aren't asking you to provide a solution for

[12:46:00.0000] <zcorpan>
lol... http://annevankesteren.nl/

[12:48:00.0000] <Philip`>
Sadly browsers don't sniff that it's meant to be text/plain :-(

[12:48:01.0000] <zcorpan>
hah

[12:52:00.0000] <hsivonen>
:-)

[12:53:00.0000] <hsivonen>
Shouldn't that be 503? :-)

[12:54:00.0000] <zcorpan>
he wants to loose page rank :)

[12:54:01.0000] <hsivonen>
503: Google Please Don't Break My Rank While My Hosting Sucks :-)

[13:06:00.0000] <Philip`>
Hmm, I need to write about forty test cases for shadow rendering, because otherwise Opera will still be winning in terms of canvas test passes

[13:29:00.0000] <zcorpan>
Philip`: that would be really bad :)

[13:47:00.0000] <Philip`>
Oh, that's not fair - Opera is passing about a third of the cases, despite not implementing the feature at all

[13:49:00.0000] <zcorpan>
perhaps you need a baseline test such that if that doesn't pass, the rest are invalid

[13:54:00.0000] <Philip`>
Since shadows (and gradients) are meant to be optional, I suppose browsers should be able to get a perfect score without implementing them at all, so it would be useful to determine whether the browser is attempting support for the feature before counting all the tests that rely on that feature

[13:54:01.0000] <Philip`>
but that sounds like slightly more effort, and it wouldn't be as good at encouraging people to implement the optional features

[13:55:00.0000] <Philip`>
(I don't understand why they're optional, though - it would be easier if everything was just required...)

[14:22:00.0000] <zcorpan>
hmm, expanding the allowed characters for unquoted attributes might make conformance checking not catch some mistakes, e.g. alt=="foo bar"

[14:23:00.0000] <zcorpan>
though i guess they could emit a warning

[14:25:00.0000] <Philip`>
They could emit a warning for all unquoted attributes, because unquoted attributes look kind of ugly and people don't use them much anyway

[14:26:00.0000] <zcorpan>
naw

[14:26:01.0000] <zcorpan>
i use them :)

[14:27:00.0000] <Philip`>
I occasionally try using them, but then I rediscover that they look ugly so I add the quotes again :-p

[14:27:01.0000] <zcorpan>
warning about things that aren't mistakes nor conformance violations just makes the checking less useful

[14:27:02.0000] <hsivonen>
zcorpan: have you already tested alt=="foo bar" in browsers?

[14:28:00.0000] <zcorpan>
hsivonen: yes, they don't do anything stupid

[14:28:01.0000] <zcorpan>
same as alt='="foo bar"'

[14:29:00.0000] <zcorpan>
er

[14:29:01.0000] <zcorpan>
same as alt='=foo' bar"=''

[14:30:00.0000] <zcorpan>
alt='="foo' bar"='' even

[14:30:01.0000] <hsivonen>
I think we should make that non-conforming in order to alert authors

[14:30:02.0000] <hsivonen>
that is, non-conforming for docs

[14:31:00.0000] <hsivonen>
zcorpan: are you going to send email or should I?

[14:31:01.0000] <zcorpan>
hsivonen: you can do it if you want :)

[14:31:02.0000] <hsivonen>
zcorpan: ok

[14:34:00.0000] <zcorpan>
hsivonen: btw, perhaps the input's title in http://html5.validator.nu/ should drop the last sentence since there are no options to save :)

[14:35:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Ca%20b%3D%60c%20d%60%3E - IE thinks that's a single attribute

[14:37:00.0000] <hsivonen>
zcorpan: good point. thanks

[14:49:00.0000] <hsivonen>
zcorpan: email sent

[14:50:00.0000] <zcorpan>
hsivonen: thanks

[15:11:00.0000] <zcorpan>
"HTML is extremely high profile, and everybody knows enough about it to have an opinion. HTML5 is the world's biggest bikeshed." -- http://www.jaim.at/2007/09/14/brendan-taylor-the-flamewars-are-fun-to-read-though/

[15:16:00.0000] <gsnedders>
green. _please_.

[15:31:00.0000] <Philip`>
I think the bikeshed should be coloured "bogus", since that's a nice shade of red

[15:35:00.0000] <Dashiva>
Haha, I remember that

[15:35:01.0000] <Philip`>
(I don't think the HTML5/bikeshed analogy is particularly strong - bikesheds are simple so anyone can know enough to have an opinion; HTML is complex so almost nobody knows enough except about tiny parts of it, and people have opinions about lots of tiny parts of it instead of about the whole)

[15:36:00.0000] <Dashiva>
But it seems simple enough that people think they can

[15:37:00.0000] <hsivonen>
Dashiva: I think the key to the HTML issue is that it isn't obvious to everyone that it is the power plant--not the bikeshed

[15:37:01.0000] <Philip`>
(so maybe HTML5 is more like a city which has lots of bikesheds and atomic power plants in it, and almost all the discussion focuses on several of the bikesheds)

[15:37:02.0000] <Dashiva>
That might be closer

[15:38:00.0000] <Philip`>
(Not that I know of many cities which have "lots of ... atomic power plants" in them)

[15:38:01.0000] <Dashiva>
sim cities

[15:59:00.0000] <Philip`>
Current status: Firefox 3 + shadow patch: 44/44 passed. Safari 3: 35/44. Opera 9.5: 12/44.

[16:00:00.0000] <Philip`>
(The failures in Safari are (in my opinion) definitely bugs, rather than just being differences with the (proposed) specification)


2007-09-16
[19:12:00.0000] <Lachy>
http://adactio.com/journal/1343

[19:19:00.0000] <Lachy>
looks like me misunderstands and misrepresents how the 80-20 rule is applied and then uses that as a straw man to argue why we shouldn't be using it

[20:51:00.0000] <othermaciej>
Lachy: do you have any suggestions for a "Degrade Gracefully" example I could add to replace the section/block one?

[20:52:00.0000] <othermaciej>
Lachy: I'd like an example of an element that can be pretty much emulated with CSS styling

[20:52:01.0000] <Lachy>
maybe <m>

[20:52:02.0000] <othermaciej>
does HTML5 have any new block-level elements that are only allowed inline contents?

[20:53:00.0000] <othermaciej>
I'm not sure what the expected presentation of <m> is, if any

[20:53:01.0000] <Lachy>
I would expect a yellow highlight or something

[20:55:00.0000] <othermaciej>
it's not totally obvious yet what is expected so I'm not sure I could give a concrete example of the style rule to use

[20:56:00.0000] <othermaciej>
I'm going through the elements at http://simon.html5.org/html5-elements

[20:56:01.0000] <Lachy>
that's what I'm looking through too

[20:56:02.0000] <othermaciej>
hmmm

[20:56:03.0000] <othermaciej>
can <figure> be handled properly with just display: block?

[20:57:00.0000] <Lachy>
maybe

[20:57:01.0000] <othermaciej>
it's not allowed any block children

[20:58:00.0000] <othermaciej>
the legend doesn't really display in what seems like a useful way by default

[20:58:01.0000] <Lachy>
unfortunately, <legend> has problems in some browsers.  it doesn't appear in the DOM in Firefox

[21:00:00.0000] <Lachy>
and IE isn't going to play nicely with any new element at all

[21:00:01.0000] <othermaciej>
the legend element isn't in the DOM in Safari either

[21:02:00.0000] <othermaciej>
it seems like using a new element for a figure caption instead of <legend> would work better

[21:02:01.0000] <othermaciej>
seems like <legend> will have the same problem for <details> as well

[21:02:02.0000] <othermaciej>
I can't figure out how to get this to style reasonably in any browser:

[21:03:00.0000] <othermaciej>
<figure><img src=chair.jpg><legend>a chair</legend></figure>

[21:03:01.0000] <Lachy>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%0Afigure%20%7B%20display%3A%20block%3B%20background%3A%20yellow%3B%20%7D%0Afigure%20legend%2C%20figure%20span%20%7B%20display%3A%20block%3B%20%7D%0A%3C%2Fstyle%3E%0A%3Cfigure%3E%3Cimg%20src%3Dimage%3E%0A%3Clegend%3E%3Cspan%3ECaption%3C%2Fspan%3E%3C%2Flegend%3E%3C%2Ffigure%3E

[21:03:02.0000] <othermaciej>
(what I'd like to do is make the legend display on its own line horizontally centered)

[21:04:00.0000] <Lachy>
wrong link...

[21:04:01.0000] <Lachy>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%0Afigure%20%7B%20display%3A%20block%3B%20background%3A%20yellow%3B%20%7D%0Afigure%20legend%2C%20figure%20span%20%7B%20display%3A%20block%3B%20background%3A%20lime%3B%20%7D%0A%3C%2Fstyle%3E%0A%3Cfigure%3E%3Cimg%20src%3Dimage%3E%0A%3Clegend%3E%3Cspan%3ECaption%3C%2Fspan%3E%3C%2Flegend%3E%3C%2Ffigure%3E

[21:04:02.0000] <othermaciej>
I can see that adding a span would work

[21:04:03.0000] <othermaciej>
I was hoping there might be a better way

[21:05:00.0000] <othermaciej>
a new element in place of <legend> would make it simpler at least in SafOperFox

[21:06:00.0000] <Lachy>
is there a reason why browsers need to ignore <legend> outside of a fieldset? Can that handling be changed without breaking anything?

[21:06:01.0000] <othermaciej>
it probably can be, but a new element would already work in today's browsers, so degrades better

[21:06:02.0000] <othermaciej>
<legend> is given special rendering behavior in a <fieldset> that can't be expressed with CSS

[21:07:00.0000] <othermaciej>
browsers probably ignore it in other places as a way to avoid causing problems with that in other places

[21:07:01.0000] <Lachy>
I know, that may cause some problems if someone tries to use a figure inside a fieldset

[21:08:00.0000] <othermaciej>
it seems pretty hard to center-align the caption under the image as well

[21:08:01.0000] <othermaciej>
this is the best I've got:

[21:08:02.0000] <othermaciej>
figure { display: block; float: left;}

[21:08:03.0000] <othermaciej>
figure legend, figure span { display: block; text-align: center; }

[21:08:04.0000] <othermaciej>
but floating by default is probably not desirable

[21:09:00.0000] <othermaciej>
/me tries to remember what else will cause shrink-wrap

[21:09:01.0000] <Lachy>
no, definately not a good idea to float by default

[21:09:02.0000] <Lachy>
inline-block;

[21:09:03.0000] <Lachy>
display: table-cell;

[21:09:04.0000] <othermaciej>
does mozilla support inline-block yet?

[21:09:05.0000] <othermaciej>
ah, table-cell

[21:09:06.0000] <othermaciej>
well, that won't work in IE probably

[21:10:00.0000] <Lachy>
IE has limited support for inline-block

[21:11:00.0000] <othermaciej>
this works in Safari and Opera but not Firefox: http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cstyle%3E%0D%0Afigure%20%7B%20display%3A%20inline-block%3B%7D%0D%0Afigure%20legend%2C%20figure%20span%20%7B%20display%3A%20block%3B%20text-align%3A%20center%3B%20%7D%0D%0A%3C%2Fstyle%3E%0D%0A%3Cfigure%3E%3Cimg%20src%3Dimage%3E%0D%0A%3Clegend%3E%3Cspan%3ECaption%3C%2Fspan%3E%3C%2Flegend%3E%3C%2Ffigure%3E

[21:11:01.0000] <othermaciej>
but in general inline-block seems good since it will make the image + caption work basically like a replaced element woud

[21:11:02.0000] <othermaciej>
*would

[21:13:00.0000] <othermaciej>
display: table-cell breaks the centering in Opera, but not Safari or Firefox

[21:14:00.0000] <Lachy>
this works in Firefox and Opera

[21:14:01.0000] <othermaciej>
ok, here's one that works in all three:

[21:14:02.0000] <othermaciej>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%0Afigure%20%7B%20display%3A%20table-cell%3B%20display%3A%20inline-block%3B%20%7D%0Afigure%20legend%2C%20figure%20span%20%7B%20display%3A%20block%3B%20text-align%3A%20center%3B%20%7D%0A%3C%2Fstyle%3E%0A%3Cfigure%3E%3Cimg%20src%3Dimage%3E%0A%3Clegend%3E%3Cspan%3ECaption%3C%2Fspan%3E%3C%2Flegend%3E%3C%2Ffigure%3E

[21:14:03.0000] <Lachy>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%0Afigure%20%7B%20display%3A%20table-cell%3B%20display%3A%20inline-block%3B%20background%3A%20yellow%3B%20%7D%0Afigure%20legend%2C%20figure%20span%20%7B%20display%3A%20block%3B%20background%3A%20lime%3B%20text-align%3A%20center%3B%20%7D%0A%3C%2Fstyle%3E%0A%3Cfigure%3E%3Cimg%20src%3Dimage%3E%0A%3Clegend%3E%3Cs

[21:14:04.0000] <Lachy>
pan%3ECaption%3C%2Fspan%3E%3C%2Flegend%3E%3C%2Ffigure%3E

[21:14:05.0000] <othermaciej>
yours got split into multiple lines

[21:14:06.0000] <Lachy>
yeah, that's the same thing :-)

[21:14:07.0000] <Lachy>
mine has pretty colours!

[21:14:08.0000] <othermaciej>
I'm not sure if that would work in IE

[21:14:09.0000] <Lachy>
download it from the clipboard

[21:15:00.0000] <othermaciej>
I'll fire up Windows

[21:15:01.0000] <Lachy>
doesn't work well in IE

[21:16:00.0000] <Lachy>
mostly because it treats "FIGURE", "/FIGURE", "LEGEND" and "/LEGEND" as distinct elements, that are all siblings of each other

[21:18:00.0000] <Lachy>
Hixie's server is having serious trouble. even is clipboard is generating intermittent HTTP 500 errors

[21:19:00.0000] <othermaciej>
ick

[21:20:00.0000] <othermaciej>
Lachy: IE's behavior on unknown elements seems to be a pretty serious impediment to adding new elements

[21:20:01.0000] <othermaciej>
even what Firefox does is pretty bad in a lot of cases

[21:20:02.0000] <othermaciej>
it's weird that Safari and Opera seem to be more similar to each other than the top two in a lot of these cases

[21:20:03.0000] <Lachy>
yeah, but there's nothing we can do about it

[21:20:04.0000] <Lachy>
unless we want to replace <section>, etc. with <div role=section>

[21:21:00.0000] <Lachy>
which I don't want to do

[21:21:01.0000] <othermaciej>
for Firefox we might have a reasonable shot of getting Mozilla to change handling of unknown elements to let them contain blocks

[21:22:00.0000] <othermaciej>
which seems to be the major issue

[21:22:01.0000] <othermaciej>
(change it well in advance of broad HTML5 adoption, that is)

[21:22:02.0000] <Lachy>
IIRC, the HTML5 parsing algorithm says unknown elements need to be treated as inlines

[21:23:00.0000] <othermaciej>
does that mean it would require that block element open tags terminate them?

[21:23:01.0000] <othermaciej>
that would (obviously) be a bad requirement

[21:23:02.0000] <Lachy>
hmm, apparently not http://wordsandpictures.dyndns.org/cgi-bin/parsetree/parsetree.py?source=%3C%21DOCTYPE%20html%3E%0D%0A%3Cbody%3E%0D%0A%3Cfoo%3ETest%3Cp%3Etest%3C%2Fp%3Etest%3C%2Ffoo%3E

[21:24:00.0000] <othermaciej>
that's good

[21:24:01.0000] <Lachy>
assuming that implementation is correct, yes

[21:24:02.0000] <othermaciej>
so anyway, I guess <figure> is not a good example

[21:24:03.0000] <othermaciej>
given IE's current behavior, I'm not sure any new element can be handled reasonably in existing versions of IE

[21:24:04.0000] <Lachy>
why not? We got good results in 3 out of 4

[21:25:00.0000] <othermaciej>
well, having to add the span is ugly

[21:25:01.0000] <othermaciej>
and the style rule is kinda complicated

[21:26:00.0000] <Lachy>
IE's handling could be patched using a script to modify the dom

[21:28:00.0000] <othermaciej>
true, but that also seems to be the case for <section> in Firefox and IE

[21:28:01.0000] <othermaciej>
(though the script would be nontrivial)

[21:30:00.0000] <Lachy>
not too hard. Dean Edwards (I think) has a script somewhere that fixes IE 6's handling of <abbr>, which was treated as an unknown element.

[21:30:01.0000] <Lachy>
so it's been done before

[21:30:02.0000] <othermaciej>
well, it's a bit easier in IE because the end tag also ends up as an element in the DOM

[21:30:03.0000] <Lachy>
yep

[21:30:04.0000] <othermaciej>
doing the fixup in Firefox would require some marker for the end of the element

[21:31:00.0000] <othermaciej>
I think I'll take the example out for now

[21:31:01.0000] <othermaciej>
there doesn't seem to be any element that can be adequately handled just with a CSS rule currently

[21:31:02.0000] <othermaciej>
except maybe <m>, but I'm not sure what default rendering would be appropriate

[21:32:00.0000] <Lachy>
m { background: yellow; }

[21:32:01.0000] <Lachy>
you don't need to demonstrate the default styling, only that it's possible for authors to provide their own

[21:33:00.0000] <othermaciej>
I think the background: yellow thing wouldn't even work in IE

[21:33:01.0000] <othermaciej>
though I guess by that standard, I'm not sure if IE supports attribute selectors either

[21:35:00.0000] <Lachy>
IE7 supports attribute selectors

[23:59:00.0000] <othermaciej>
just sent email about the Mozilla issue

[23:59:01.0000] <othermaciej>
apparently there was already a bug filed some time ago (by Hixie)

[00:13:00.0000] <gavins>
https://bugzilla.mozilla.org/show_bug.cgi?id=311366

[00:14:00.0000] <othermaciej>
yes, I cited that in my email

[00:15:00.0000] <gavins>
email to the list?

[00:15:01.0000] <gavins>
(sorry, lacking context)

[00:17:00.0000] <gavin_>
ah, yes

[00:19:00.0000] <othermaciej>
to public-html

[00:19:01.0000] <othermaciej>
seems like it would be nice to fix that in Firefox 3, since Firefox, Opera and Safari are all starting to get into HTML5 implementation

[00:20:00.0000] <gavin_>
yeah

[00:26:00.0000] <othermaciej>
Lachy: does IE7 still handle <abbr> as an unknown element?

[00:27:00.0000] <Lachy>
othermaciej, no, IE7 supports it properly

[00:27:01.0000] <othermaciej>
ok cool

[00:53:00.0000] <othermaciej>
Lachy: hmm, I think putting text-align: center on <figure> might be about the right thing

[00:55:00.0000] <Lachy>
othermaciej, show me a demo?

[00:59:00.0000] <Lachy>
figure { display: table; } figure legend { display: table-caption; } is probably the ideal default presentation, since it also allows the use of 'caption-side'

[01:00:00.0000] <othermaciej>
I'm not sure if it's right for the figure to shrink to fit the image or not

[01:00:01.0000] <othermaciej>
it's supposed to represent a paragraph

[01:00:02.0000] <othermaciej>
so presumably it should be its own block when mixed with paragraphs, and should get the full width of the containing block

[01:01:00.0000] <othermaciej>
but I don't think there's any way to handle it without adding a span or something inside the <legend>

[01:01:01.0000] <othermaciej>
hmm

[01:02:00.0000] <othermaciej>
display: table-caption means you have to control whether the caption appears above or below with separate properties instead of just whether it is before or after the image

[01:02:01.0000] <Lachy>
is that a bad thing?

[01:02:02.0000] <othermaciej>
well, yeah

[01:03:00.0000] <othermaciej>
why allow both <figure><img><legend>...</legend></figure> and <figure><legend>...</legend><img></figure> if they do the same thing?

[01:03:01.0000] <othermaciej>
whereas other elements that take a <legend> require it to be first

[01:05:00.0000] <othermaciej>
presumably there are cases where the image or video caption comes logically first, so you'd want it visually first by default as well

[01:13:00.0000] <Lachy>
I have a solution to that

[01:13:01.0000] <Lachy>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%0Afigure%20%7B%20display%3A%20table%3B%20%7D%0Afigure%20legend%2C%20figure%20span%20%7B%20display%3A%20table-caption%3B%20caption-side%3A%20bottom%3B%20text-align%3A%20center%3B%20%7D%0Afigure%20legend%3Afirst-child%2C%20figure%20span%3Afirst-child%20%7B%20caption-side%3A%20top%3B%20%7D%0A%3C%2Fstyle%3E%0A%3

[01:13:02.0000] <Lachy>
Cp%3E%3Cfigure%3E%3Cimg%20src%3Dimage%3E%3Clegend%3E%3Cspan%3ECaption%3C%2Fspan%3E%3C%2Flegend%3E%3C%2Ffigure%3E%0A%3Cp%3E%3Cfigure%3E%3Clegend%3E%3Cspan%3ECaption%3C%2Fspan%3E%3C%2Flegend%3E%3Cimg%20src%3Dimage%3E%3C%2Ffigure%3E

[01:13:03.0000] <Lachy>
(if that split across several lines, download it from the clipboard)

[01:15:00.0000] <othermaciej>
that's not bad

[01:29:00.0000] <Lachy>
that doesn't work in Opera because legend is in the DOM as an empty element.

[01:30:00.0000] <Lachy>
These styles work:

[01:30:01.0000] <Lachy>
figure { display: table; }

[01:30:02.0000] <Lachy>
figure legend, figure span { display: table-caption; text-align: center; caption-side: bottom; }

[01:30:03.0000] <Lachy>
figure legend:first-child, figure legend:first-child+span, figure span:first-child { caption-side: top; }

[01:31:00.0000] <Lachy>
though I still haven't found anything that will get it working in IE

[01:35:00.0000] <othermaciej>
I don't think there's any way to make it work in IE without script

[01:38:00.0000] <othermaciej>
that latest set of rules seems to give consistent and useful rendering in SafOperFox

[01:39:00.0000] <othermaciej>
hmmm

[01:39:01.0000] <othermaciej>
Lachy: would there be any problem with using <label> instead of <legend>?

[01:41:00.0000] <Lachy>
not as far as the DOM is concerned, but I don't know how assistive technology reacts to labels that aren't used for form controls

[01:42:00.0000] <othermaciej>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%0Afigure%20%7B%20display%3A%20table%3B%20%7D%0Afigure%20label%20%7B%20display%3A%20table-caption%3B%20text-align%3A%20center%3B%20caption-side%3A%20bottom%3B%20%7D%0Afigure%20label%3Afirst-child%20%7B%20caption-side%3A%20top%3B%20%7D%0A%3C%2Fstyle%3E%0A%0A%3Cfigure%3E%0A%3Cimg%20src%3Dimage%3E%0A%3Clabel%3ECaption%3C%2Flabel%3E%0A%3C%2Ffigure%

[01:42:01.0000] <Lachy>
would it, for example, interfere with forms mode, or would they be read out when not in forms mode? I have no idea. it may not be a problem at all.

[01:42:02.0000] <othermaciej>
the DOM for that is right even in IE

[01:44:00.0000] <othermaciej>
IE doesn't support CSS tables, right?

[01:44:01.0000] <Lachy>
well, the DOM is as close as we're going to get it without replacing figure too.

[01:44:02.0000] <Lachy>
no, it doesn't support css tables

[01:45:00.0000] <othermaciej>
the DOM is real close anyway; required script fallback would be limited to putting the <figure> contents back inside the figure

[01:46:00.0000] <Lachy>
the problem I would have with reusing label is that authors currently style label a lot for use with forms, and if they wanted to insert a figure into an existing page, those existing styles would interfere

[01:46:01.0000] <Lachy>
that would create a lot of headaches as they modified their style sheets

[01:48:00.0000] <othermaciej>
true, but they'd need to add a rule for "figure label", so that can undo changes in that rule

[01:49:00.0000] <Lachy>
from an authoring perspective, I can tell you that undoing styles from countless styles spread across several stylesheets is a lot harder than you might think

[01:52:00.0000] <Lachy>
it makes it even more complicated when authors want to copy and paste their figure styles from one site to another, which may have different label styles and thus more to undo

[01:53:00.0000] <othermaciej>
all you have to do is have "initial" rules for the kind of styles that are likely to be seen on "label" (which I suspect is somewhat limited)

[01:53:01.0000] <othermaciej>
the problems with <legend> go beyond styling

[01:53:02.0000] <othermaciej>
you need tricky script-based fixup to be able to even put event listeners on the caption

[01:53:03.0000] <othermaciej>
or to find figure captions in the DOM

[01:54:00.0000] <othermaciej>
anyway I'll mention this objection in my email

[01:54:01.0000] <Lachy>
ok

[01:56:00.0000] <Lachy>
but I don't think label styles that authors use today are in any way limited. Some use floats, display: block; cursor pointers, font styles, colours, text-align and much more.

[02:25:00.0000] <Lachy>
hmm. so much for the "No Original Research" policy on the wiki. I wonder where all those suggestions for using type="" for everything came from, and elements like bmark that have never been discussed on the mailing list

[02:26:00.0000] <Lachy>
http://esw.w3.org/topic/HTML/ThoughtExperimentInGracefulDegradation

[02:26:01.0000] <Lachy>
none of the <object type=""> suggestions to replace video, audio and canvas will work.  I thought the reason for rejecting that idea had already been explained on public-html

[02:28:00.0000] <othermaciej>
the browser test results on that page are useful though

[02:28:01.0000] <othermaciej>
wow

[02:28:02.0000] <Lachy>
@IRC log readers: the main reason is that overloading <object> with APIs for video, audio and canvas will be extremely complex for implementers

[02:28:03.0000] <othermaciej>
that's some insane use of type=""

[02:29:00.0000] <othermaciej>
using new elements not only reduces complexity but also improves semantics

[02:29:01.0000] <othermaciej>
Since in practice "a video" is more meaningful than "an object"

[02:29:02.0000] <Lachy>
indeed. We need to cure divitis, not encourage it

[02:30:00.0000] <Lachy>
not only that, but getting authors to understand MIME types enough to use type="video/mp4", "application/ogg", etc. properly, is a non-starter

[02:31:00.0000] <othermaciej>
application/x-canvas also seems like a bad idea, since it doesn't in fact represent a content type

[02:31:01.0000] <othermaciej>
and also the <source> element is a significantly better approach than <object>'s fallback model

[02:33:00.0000] <Lachy>
maybe we should add this to the wiki http://esw.w3.org/topic/HTML/AddedElementVideo

[02:33:01.0000] <Lachy>
anyway, dinner time

[02:33:02.0000] <Lachy>
bbl

[02:34:00.0000] <othermaciej>
later

[02:40:00.0000] <Lachy>
I'm back (the kitchen's in use and dinner needs to defrost)

[02:54:00.0000] <Philip`>
About new elements in IE: ExplorerCanvas does the same thing with recognising "CANVAS" and "/CANVAS" elements, then treating everything in between as fallback content

[02:55:00.0000] <Philip`>
Doesn't work when you have <canvas><canvas>A</canvas>B</canvas>, though

[02:55:01.0000] <Philip`>
(but that doesn't work in Opera either)

[03:02:00.0000] <hsivonen>
Philip`: should doc conformance ban nested canvas in your opinion?

[03:09:00.0000] <Lachy>
hmm. <description> might be a reasonable alternative to <legend> for captions

[03:10:00.0000] <Lachy>
nested canvas don't make sense, since if a UA doesn't support canvas and thus uses the fallback content, then it won't support the nested canvas either

[03:11:00.0000] <Lachy>
so, yes, I think it should be banned for conformance

[03:11:01.0000] <othermaciej>
<description> is not bad

[03:12:00.0000] <Lachy>
Ben's other suggestion to use <title> won't work, since that would mess with legacy handling of <title>

[03:12:01.0000] <othermaciej>
but it's a bit wordy and a bit inaccurate

[03:12:02.0000] <othermaciej>
agreed on <title>

[03:12:03.0000] <othermaciej>
on <details> especially, it's definitely a label (or perhaps a caption, stretching it), not a description

[03:14:00.0000] <Lachy>
I'd never heard of "rubric" before, so that's not a good option either.

[03:16:00.0000] <othermaciej>
it's always possible to add an arbitrary marker of disctionction, like <caption2>

[03:17:00.0000] <othermaciej>
but that's kind of lame

[03:17:01.0000] <Lachy>
maybe something like <cap>

[03:18:00.0000] <othermaciej>
<capt>, <cptn>

[03:18:01.0000] <othermaciej>
or, just to be silly, <c>

[03:18:02.0000] <othermaciej>
if we had our names of choice without regard to compatibility, I would say a figure has a caption, but a details section has a label

[03:19:00.0000] <Lachy>
capt. is generally the abbreviation of captain

[03:19:01.0000] <Lachy>
yeah, that's the advantage the XHTML2 group has - they don't care about compatibility

[03:22:00.0000] <othermaciej>
I wouldn't consider that an advantage

[03:23:00.0000] <Lachy>
not in reality, but it's an advantage because they don't have to spend time thinking about the issues like we do

[03:25:00.0000] <Lachy>
thesaurus.com lists these synonyms: explanation, head, inscription, legend, rubric, subtitle, title, underline

[03:26:00.0000] <othermaciej>
yeah, that's where I looked

[03:26:01.0000] <othermaciej>
I ruled out title, underline, legend and head for various reasons that should be obvious

[03:26:02.0000] <Lachy>
description, descriptor, headline, label, lemma

[03:27:00.0000] <Lachy>
descriptor might work

[03:27:01.0000] <Lachy>
or <desc>

[03:29:00.0000] <othermaciej>
another possibility is two new elements, say <figcaption> and <detailslabel>

[03:29:01.0000] <othermaciej>
I'm not sure I like any of these a lot more than <label>

[03:30:00.0000] <Lachy>
I really don't like <label> for the reasons I gave before

[03:31:00.0000] <othermaciej>
it's true that one or more new elements would be better for pragmatic reasons

[03:31:01.0000] <othermaciej>
and would have basically no disadvantage compared to <legend>

[03:31:02.0000] <othermaciej>
playing off of <label>, another possibility is <tag>

[03:31:03.0000] <othermaciej>
but that might just confuse people

[03:32:00.0000] <Lachy>
<tagline>

[03:32:01.0000] <Lachy>
nah, doesn't quite fit its definition

[03:34:00.0000] <Lachy>
How about just using <figure><img/><p>Caption</p></figure>?

[03:38:00.0000] <othermaciej>
I'd guess the default and author styling for p would both interfere with that

[03:40:00.0000] <Lachy>
yeah, possibly.  But I don't think it would be as bad as <label>, since most p styles are just margin and padding - the rest are typically just inherited

[03:41:00.0000] <Lachy>
but I could be wrong, people do all sorts of crazy things

[03:45:00.0000] <gsnedders>
is it possible to look up any post on whatwg archives by message-id (or anything else I'd have in my email client)?

[03:45:01.0000] <Lachy>
gsnedders, the closest you can get is narrowing it down by date, subject and author

[03:45:02.0000] <gsnedders>
Lachy: that was my fear

[03:46:00.0000] <gsnedders>
silly othermaciej posting so many things in a single thread…

[03:46:01.0000] <othermaciej>
gsnedders: it doesn't look like a single thread to me...

[03:46:02.0000] <Lachy>
the alternative is to download the gzip'd mbox files and search those

[03:46:03.0000] <gsnedders>
http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-June/011973.html

[03:47:00.0000] <gsnedders>
that's what I was looking for

[03:48:00.0000] <othermaciej>
I shouldn't have posted anything on *that* thread

[03:48:01.0000] <gsnedders>
(I had been looking for it for around five minutes before asking the above question)

[03:57:00.0000] <Lachy>
othermaciej, why? did that thread turn into a flamewar or something?

[03:57:01.0000] <othermaciej>
I remember there being a lot of flamage around that topic

[03:58:00.0000] <gsnedders>
A lot.

[03:59:00.0000] <Lachy>
yeah, that's what happens when patents, laywers, and free-software advocates get involved

[08:26:00.0000] <hsivonen>
hmm. validator.nu got killed by the kernel :-(

[10:50:00.0000] <Philip`>
hsivonen: I don't see any value in forbidding nested canvases - it doesn't seem likely to be a mistake that authors will make, and it's supported in current browsers about as well as plain canvas fallback content is (i.e. it works in Firefox and Safari)

[10:51:00.0000] <Philip`>
I can only think of minor value in ever using nested canvases, though - I can imagine something like http://canvex.lazyilluminati.com/misc/photos.html where (in Firefox/Safari) the canvas gets replaced with its fallback content via DOM manipulation if certain JS/canvas features are missing, where it would be plausible for that fallback content to contain another canvas, but I don't expect that would be common

[10:55:00.0000] <Philip`>
Via http://triin.net/2006/06/12/CSS - it seems about 2% of pages style 'label'

[10:57:00.0000] <Philip`>
(but no idea how many just use "label { ... }" by itself, rather than ".loginform label { ... }" or whatever)

[10:58:00.0000] <Philip`>
/me wonders how easy it would be to collect data about these kinds of things...

[11:09:00.0000] <hsivonen>
Philip`: ok. I won't suggest making nested canvases non-conforming, then

[11:26:00.0000] <hsivonen>
I wonder if the intra-paragraph VoiceOver navigation is different from Safare in Kestrel on purpose or if it is a bug

[11:27:00.0000] <hsivonen>
(I couldn't figure out how to read more than the first line of a para with VoiceOver in Kestrel)

[13:58:00.0000] <gsnedders>
apparently HTML parsers are SGML parsers as they parse HTML 4.01, an SGML standard.

[13:59:00.0000] <gsnedders>
Whether they comply with the SGML spec is irrelevant.

[13:59:01.0000] <Dashiva>
heh

[14:18:00.0000] <zcorpan>
Hixie: i get a 500 internal server error for http://forums.whatwg.org/

[14:54:00.0000] <hsivonen>
http://html4all.org/wiki/index.php/Open_Issues

[14:57:00.0000] <zcorpan>
hsivonen: looks like a list of solutions

[15:07:00.0000] <antifuchs>
hi there. the blog.whatwg.org gives me a 500 error. is the web master around? (if not, I'll just write an email)

[15:08:00.0000] <gavin_>
I think that's known

[15:08:01.0000] <gavin_>
Lachy mentioned it earlier

[15:08:02.0000] <antifuchs>
ah, ok

[15:09:00.0000] <antifuchs>
(so is the wiki, btw)

[15:12:00.0000] <Philip`>
So is ln.hixie.ch

[15:18:00.0000] <Lachy>
yeah, it appears that all sites on Hixie's server, especially the ones that aren't just serving static files, are having problems.  Sometimes it gives an out of memory error.

[15:20:00.0000] <Lachy>
I wonder why the axis attribute is listed in their open issues list? It's totally useless for everyone and serves no practical purpose.

[16:01:00.0000] <grimboy>
Damn you dreamhost, damn you to hell.

[16:01:01.0000] <grimboy>
Oh no, back to okay.


2007-09-17
[18:38:00.0000] <webben>
Lachy: AT actually supports AXIS and authors actually use it. Just one example of how it can be used is to label rowgroup headers (http://uk.biz.yahoo.com/16/sector.html).

[18:38:01.0000] <webben>
Lachy: You might dispute whether it's very useful or not, but it's an exaggeration to say it's "totally useless for everyone".

[18:40:00.0000] <webben>
(It's also worth noting that axis might be rather handy if microformat parsing ever goes beyond nested classes (something that doesn't translate to HTML data tables that well anyhow.)

[19:07:00.0000] <theunscene>
I don't trust someone name after a member of 98 degrees anyways

[19:08:00.0000] <theunscene>
named*

[19:31:00.0000] <Philip`>
I wish cssutils didn't use an O(n^2) tokeniser

[19:32:00.0000] <Philip`>
(Removing characters from the head of a list in Python is an officially Bad Idea)

[00:15:00.0000] <othermaciej>
Philip`: are Python lists secretly arrays?

[00:33:00.0000] <hsivonen>
/me notes WordPress inserts <em> when I click the button labeled "i"

[00:38:00.0000] <hsivonen>
I tried to post to the whatwg blog but got error 500 upon saving my post

[00:40:00.0000] <Lachy>
hsivonen, try again or wait till Hixie gets back and fixes it.  Hixie's server is having trouble.  Sometimes it works, sometimes it doesn't.

[00:44:00.0000] <marcosc>
/me notes that WordPress' HTML editor is the work of the devil...

[00:45:00.0000] <Lachy>
marcosc, indeed! that's why I disable it

[00:46:00.0000] <hsivonen>
Lachy: ok

[00:46:01.0000] <marcosc>
/me goes searching for ways to turn off that darn editor...

[00:47:00.0000] <hsivonen>
I tried to post a short response to Jeremy Keith's post pointing out that the design of HTML5 hasn't been about 80% of users but about 80% of authoring cases

[00:47:01.0000] <Lachy>
oh good, I was going to respond to that eventually too.  now I don't have to :-)

[00:49:00.0000] <Lachy>
I'll write a custom error document for the blog and wiki, pointing out that it's a known issue, since people keep asking about it in here.

[00:57:00.0000] <Lachy>
that's weird. The ErrorDocument directive isn't working in .htaccess on the blog

[00:59:00.0000] <hsivonen>
AllowOverride at work, I guess

[01:07:00.0000] <Lachy>
yeah, that's probably it.  There's a few other directives that aren't working either

[01:17:00.0000] <Lachy>
I wonder how often people are going to keep suggesting IE's broken, pseudo-namespace syntax as a solution to various problems?

[01:21:00.0000] <virtuelv>
<q>The problem, as I see it, is that img is an empty element. Had it not been, both longdesc and alt could be replaced with inline content, as advanced as anyone could ever grok their HTML to be. </q>

[01:22:00.0000] <virtuelv>
I don't really think I've ever seen proper use of <object> fallback, except in tutorials explaining it

[01:26:00.0000] <hsivonen>
virtuelv: how do you know? if it worked perfectly, you wouldn't notice.

[01:26:01.0000] <virtuelv>
hsivonen: hence, the "think"

[01:28:00.0000] <jacobolus>
hmm, blog.whatwg.org is giving back “500 Internal Server Error”

[01:28:01.0000] <virtuelv>
this is entirely "gut feeling"-based. I'd like to see some evidence that it's used outside the standards community

[01:28:02.0000] <Lachy>
jacobolus, we know, we can't fix it yet

[01:28:03.0000] <jacobolus>
okay, fair enough :)

[01:30:00.0000] <hsivonen>
500: hosting broken in an unforeseen way

[01:30:01.0000] <hsivonen>
503: hosting broken in a foreseeable way

[01:31:00.0000] <Lachy>
it's interesting how some people claim that <img>fallback</img> would solve problems if it were possible, whereas some others claim that <object>fallback</object> doesn't even work like that

[01:31:01.0000] <Lachy>
(although I hope object fallback can be fixed)

[01:31:02.0000] <hsivonen>
fallback != alternative content

[01:32:00.0000] <hsivonen>
in the case of video, at least

[01:33:00.0000] <Lachy>
yeah, that's the problem with object. Gez Lemon ponited out on JuicyStudio recently that ATs don't read the fallback content if the object is rendered

[01:33:01.0000] <hsivonen>
makes sense if the rendered content is AT-enabled like Flash on Windows

[01:34:00.0000] <Lachy>
sometimes that's the desired behaviour (like embedded Flash or other multimedia with built in accessability), but other times it's not (like embedded images)

[01:34:01.0000] <hsivonen>
/me wonders if anything is happening at Adobe when it comes to Gnome & OS X accessibility of Flash

[01:35:00.0000] <hsivonen>
Lachy: one could use this as another argument of why <object> is too multipurpose

[01:35:01.0000] <Lachy>
indeed

[01:36:00.0000] <hsivonen>
as for <video>, the accessibility story for the deaf is that the video file itself should have captions

[01:37:00.0000] <Lachy>
yeah, that's why <embed> is good for plugins, because they should ideally be natively accessible

[01:37:01.0000] <hsivonen>
but I'm not sure what the accessibility story for the blind is considering that fallback is for legacy UAs

[01:37:02.0000] <Lachy>
audio descriptions are a possibility

[01:38:00.0000] <hsivonen>
Lachy: do Ogg and MP4 support flagging additional sound tracks as audio descriptions?

[01:39:00.0000] <Lachy>
sometimes, the normal audio may be sufficient if the visuals aren't that important.  such as an interview or speech that isn't accompanied by slides

[01:39:01.0000] <hsivonen>
I wonder if Apple has already fixed the MP4 captioning perf bug markp found

[01:40:00.0000] <Lachy>
I don't know about flagging audio tracks

[01:40:01.0000] <Lachy>
(not really our problem though, we can't fix every format)

[01:43:00.0000] <hsivonen>
well, it is a bit disingenious to suggest that authors use the functionality of the video format if Mozilla/Opera baseline (Ogg) and the Apple/Nokia baseline (MP4) lack support

[01:43:01.0000] <hsivonen>
although I agree as far as theory goes

[01:53:00.0000] <jacobolus>
Lachy: so will the html5 spec itself include suggested best practices for image accessibility, etc? or is that the purview of some separate document?

[01:54:00.0000] <Lachy>
the HTML5 spec already includes some good accessibility suggestions for alt text and it will be improved where necessary

[01:54:01.0000] <Lachy>
although the spec isn't a tutorial and so there's a limit to how far it will go

[01:55:00.0000] <jacobolus>
rather, is there anything to be done to quiet the longdesc flamewar?

[01:55:01.0000] <hsivonen>
the accessibility advice in the spec draft is for HTML5-compliant UAs, though

[01:55:02.0000] <jacobolus>
or will that just die down by itself?

[01:55:03.0000] <Lachy>
sure, find a solution that works. longdesc="" doesn't.

[01:55:04.0000] <hsivonen>
not for current JAWS

[01:56:00.0000] <Lachy>
I think the best solution is to either include the alternative content within the same page or link to it with an ordinary link, possibly with the addition of rel=longdesc

[01:57:00.0000] <jacobolus>
css can presumably hide such links if it's undesirable for sighted people to see them

[01:58:00.0000] <Lachy>
sure, though the long description may include information that is useful for more than just the blind

[01:58:01.0000] <hsivonen>
Lachy: I think the WG needs to find out if mere juxtaposition is enough in practice for blind users to associate an image indicator and a link to a description

[01:58:02.0000] <hsivonen>
Lachy: or if explicit association is needed

[01:58:03.0000] <jacobolus>
so why is there such opposition to scrapping longdesc?

[01:59:00.0000] <Lachy>
<a href=desc.html rel=longdesc><img src=image alt=...></a>

[01:59:01.0000] <jacobolus>
if neither authors nor users ever look at it?

[01:59:02.0000] <Lachy>
because it works in theory, just not in practice

[02:00:00.0000] <hsivonen>
Lachy: well, yeah, if it turns out that the images that require long descriptions are extremely used as links to somewhere else

[02:00:01.0000] <Lachy>
some people care more about the theory than the practice, and cling to the hope that longdesc="" will start to improve.  However, there's no sign of that actually happening.

[02:01:00.0000] <hsivonen>
Lachy: moreover, sighted users tend to assume that, by convention, a non-iconic photo is a link to a larger version if hover shows the hand cursor

[02:01:01.0000] <hsivonen>
longdesc has been in public drafts/specs for over a decade

[02:01:02.0000] <Lachy>
you mean like in wikipedia?

[02:02:00.0000] <hsivonen>
Lachy: like almost anything, actually

[02:02:01.0000] <hsivonen>
Lachy: when iconic images are links,

[02:02:02.0000] <Lachy>
that works. just put the long description on the same page as the larger version and the thumbnail model still works

[02:02:03.0000] <hsivonen>
they take you to some place represented by the icon

[02:02:04.0000] <hsivonen>
when photos are links, they almost always take you to a larger version of the photo

[02:03:00.0000] <Lachy>
iconic images (as opposed to thumbnails) used as links rarely require long descriptions anyway

[02:03:01.0000] <hsivonen>
Lachy: yes.

[02:03:02.0000] <hsivonen>
Lachy: yeah, putting the large file and the description at the same URI would avoid breaking the pattern

[02:04:00.0000] <hsivonen>
in theory, image files themselves should contain the long description

[02:04:01.0000] <hsivonen>
of course, in practice, they won't

[02:05:00.0000] <Lachy>
maybe, though the content of the long description sometimes depends on the context in which the image is used

[02:12:00.0000] <hsivonen>
"The Flash Player itself does not care about file extensions, you can feed it .txt files for all it matters. The Flash Player always looks inside the file to determine what type of file it is."

[02:12:01.0000] <hsivonen>
http://www.kaourantin.net/2007/08/what-just-happened-to-video-on-web_20.html

[02:16:00.0000] <hsivonen>
whoa! Flash Player will support parts of MPEG-4 part 10 without supporting part 2. that's radical

[02:29:00.0000] <jacobolus>
hsivonen: well it looks like they were able to license a 100kb h.264 decoder, and wanted to be able to support all the h.264 m4v files people are now cranking out… doesn't seem too surprising that they'd skip mpeg-4 part 2.  that would just add complexity for an unclear benefit

[02:30:00.0000] <othermaciej>
ok I'm starting to think Robert Burns is from a parallel universe where black is white and up is down

[02:31:00.0000] <jacobolus>
othermaciej: swapping black and white is part of the accessibility options of OS X

[02:31:01.0000] <othermaciej>
Lachy: in MP4 and many other audio formats it is possible to have an additional descriptive audio track

[02:31:02.0000] <othermaciej>
er

[02:32:00.0000] <othermaciej>
I meant that for hsivonen

[02:32:01.0000] <othermaciej>
it works mostly the same way as multi-language soundtracks

[02:32:02.0000] <othermaciej>
however even without descriptive audio tracks, just hearing the audio of a video with dialog is probably better than whatever fallback markup might be provided

[02:34:00.0000] <hsivonen>
othermaciej: any pointers for docs? I tried to google, but the results are full of noise.

[02:34:01.0000] <hsivonen>
s/for/to/

[02:35:00.0000] <othermaciej>
hsivonen: I don't know offhand, but I can ask the QuickTime folks

[03:29:00.0000] <othermaciej>
http://www.programimi.com/2007/09/14/55-reasons-to-design-in-xhtml-css/

[03:34:00.0000] <Whiskey_M>
'lo

[03:35:00.0000] <Whiskey_M>
henry in regards to your e-mail to the list have you looked at SMIL - http://www.w3.org/TR/REC-smil/

[03:36:00.0000] <hsivonen>
Whiskey_M: SMIL would add a huge layer of complexity compared to using the simpler features of video formats themselves

[03:37:00.0000] <hsivonen>
Whiskey_M: also, as far as closed captioning goes, it would break stuff across files instead of making captions always travel with the video

[03:40:00.0000] <hsivonen>
Whiskey_M: the latest SMIL is much larger: http://www.w3.org/TR/SMIL/

[03:43:00.0000] <Whiskey_M>
cool - if it's been considered then that's fine.  Nothing you've suggested as far as I can see would stop anyone who wants to also providing SMIL for their videos and by providing a halfway house route to improving accessibility that is easier to attain it can only improve matters

[03:48:00.0000] <Lachy>
hsivonen, did you mean to say "The spec already says that the fallback is not for old browsers."?  did you mean s/is not/is/ ?

[03:49:00.0000] <hsivonen>
Lachy: oops

[03:50:00.0000] <hsivonen>
this is what happens when I edit a sentence instead of writing it from start to finish in one go. :-(

[03:54:00.0000] <hsivonen>
it is hard to proof-read one's own text

[03:54:01.0000] <hsivonen>
when you already know what it is supposed to say and think it says that

[03:56:00.0000] <hsivonen>
hmm. a phpbb exploit scanner is scanning validator.nu

[03:56:01.0000] <hsivonen>
I guess that means phpbb is popular enough for such scan to be worthwhile

[03:59:00.0000] <Lachy>
which forum software is forums.whatwg.org running? I wonder if it's been kept up to date.

[04:00:00.0000] <hsivonen>
Lachy: phpbb I think

[04:01:00.0000] <virtuelv>
has any thought gone in to providing external captioning files?

[04:02:00.0000] <virtuelv>
so that captioning is made independent of the video stream itself

[04:02:01.0000] <Lachy>
there are external caption file formats

[04:02:02.0000] <virtuelv>
Lachy: I seem to remember markp blogging about this

[04:02:03.0000] <Lachy>
it may be useful to provide a way to link to them from the HTML

[04:03:00.0000] <virtuelv>
http://diveintomark.org/archives/2007/06/26/piracy-lessons

[04:04:00.0000] <Lachy>
this is one such format http://en.wikipedia.org/wiki/SubRip

[04:04:01.0000] <Lachy>
oops, wrong link

[04:05:00.0000] <hsivonen>
virtuelv: I guess the crucial question is: will external files be better for users than muxed captions?

[04:06:00.0000] <virtuelv>
hsivonen: potentially, since you can probably make use of browser settings to get subtitles and captioning based on what language the UA is set to prefer

[04:06:01.0000] <virtuelv>
and it makes the subtitling separate from the data stream itself

[04:06:02.0000] <hsivonen>
virtuelv: do you mean content negotiation on the HTTP level?

[04:06:03.0000] <virtuelv>
hsivonen: yes

[04:06:04.0000] <hsivonen>
/me has severe doubts about conneg

[04:07:00.0000] <Lachy>
oh, that is the right link (the first paragraph of that wikipedia page is confusing)

[04:07:01.0000] <hsivonen>
conneg doesn't tell you what else was available

[04:07:02.0000] <virtuelv>
hsivonen: I have doubts as well, but there are other ways around this, using scripting

[04:07:03.0000] <hsivonen>
and conneg-based approaches assume that the site developer is able and competent to configure the HTTP layer

[04:10:00.0000] <hsivonen>
anyway, I'd expect a dedicated external timed text format to have better chances of implementation than SMIL

[04:12:00.0000] <hsivonen>
"Unfortunately there is no exact specification of the .SRT file format." -- Wikipedia

[04:12:01.0000] <hsivonen>
is "Unfortunately" NPOV? :-)

[04:15:00.0000] <hsivonen>
still about conneg:

[04:16:00.0000] <hsivonen>
virtuelv: with captioning for accessibility, the captions are expected to be in the same language as the soundtrack

[04:16:01.0000] <hsivonen>
virtuelv: when you start doing translations as subtitles, it isn't accessibility anymore

[04:16:02.0000] <hsivonen>
virtuelv: and for subtitles, automating the choice becomes much more difficult

[04:17:00.0000] <hsivonen>
virtuelv: with captions, if one is deaf, a permanent "Enable closed captions" pref makes sense

[04:17:01.0000] <hsivonen>
virtuelv: with subtitles, the choice of subtitles depends not only on the language of the subtitles but also on the language of the audio content

[04:19:00.0000] <hsivonen>
my personal subtitle preferences are complex enough that I wouldn't think it'd be reasonable for UAs to model them and try to relieve me of choosing manually

[04:22:00.0000] <hsivonen>
oh, btw, if one applies the Design Principles, one could argue that translations as subtitles as well as alternative language sound tracks are out of scope

[04:32:00.0000] <Lachy>
I've been asked to write an article for a popular online magazine, called "Developing with HTML5" (somewhat based on the presentation I did in August)...

[04:32:01.0000] <Lachy>
I'm trying to decide which topics to discuss.

[04:33:00.0000] <Lachy>
So far, I've written about choosing HTML or XHTML and using both together, and about the sectioning elements and heading algorithm

[04:33:01.0000] <Lachy>
I want to include one more topic and would like some feedback about what to choose:

[04:34:00.0000] <Lachy>
1. new semantics: time/meter/progress

[04:34:01.0000] <Lachy>
2. Embedded content and multimedia (video, audio and canvas)

[04:34:02.0000] <Lachy>
3. Form controls

[04:34:03.0000] <Lachy>
any preferences?

[04:35:00.0000] <hsivonen>
Lachy: does the title imply developing today? or is it about developing in the future?

[04:37:00.0000] <hsivonen>
Lachy: form controls and video are perhaps the most interesting things to your audience

[04:37:01.0000] <Lachy>
a little of both. I'd prefer to avoid things that won't be available for a long time, such as <datagrid>, but also want to give some insight into the future

[04:37:02.0000] <hsivonen>
Lachy: you could use <progress> as an example of built-in accessibility semantics

[04:38:00.0000] <Lachy>
yeah, same with time and meter

[04:38:01.0000] <hsivonen>
Lachy: also, the good thing about form controls and video is that they seem to be getting attention from browser vendors and might even get deployed sooner than later

[04:39:00.0000] <Lachy>
I could do video and audio.  There's already so much about canvas and it's already widely deployed

[04:39:01.0000] <zcorpan>
Lachy: will you only cover front-end development?

[04:39:02.0000] <Lachy>
(I'm also not an expert on canvas, so I'm probably not the best person to write about it)

[04:40:00.0000] <Lachy>
mostly front end, but the HTML/XHTML bit talks about using XHTML on the back end and serialsing as HTML

[04:40:01.0000] <zcorpan>
ok

[04:40:02.0000] <hsivonen>
Lachy: of the HTML5 features that weren't in HTML 4.01, canvas probably has the best market penetration

[04:41:00.0000] <hsivonen>
Lachy: to the point that it doesn't feel like a future feature anymore

[04:41:01.0000] <Lachy>
yeah, that's basically what I meant by what I said above

[04:42:00.0000] <Lachy>
I suppose further discussion of forms should really wait till the we get results from the Forms TF

[04:44:00.0000] <Lachy>
alright, I'll do video and audio

[04:50:00.0000] <Lachy>
if I do video, I should probably create a demo page with a sample video.

[04:50:01.0000] <Lachy>
I wonder if I should create a new one or just reuse one of my existing videos http://lachy.id.au/lib/media/2007/

[04:56:00.0000] <virtuelv>
hixie's site is down?

[04:56:01.0000] <Lachy>
virtuelv, yes

[04:57:00.0000] <Lachy>
sometimes.  It's having the same problems as the whatwg blog, wiki and forum

[04:57:01.0000] <Lachy>
(they're all on the same server)

[04:59:00.0000] <virtuelv>
Hm. And the server is not crumbling under the weight of the traffic?

[05:15:00.0000] <othermaciej>
hsivonen: Apple has a proposal for how to have multiple media sources w/ different accessibility features, that integrates with CSS media queries

[05:15:01.0000] <othermaciej>
(since other likely reasons for choosing one of several videos include screen size and bandwidth)

[05:16:00.0000] <othermaciej>
hsivonen: I need to get that sent out

[05:17:00.0000] <othermaciej>
hsivonen: this will make it possible to either use a video with a separate caption track, or if preferable a whole separate video with burned-in captions

[05:17:01.0000] <othermaciej>
and so forth

[05:22:00.0000] <hsivonen>
othermaciej: cool.

[06:21:00.0000] <Philip`>
othermaciej: It seems that lists are arrays or something similar - http://docs.python.org/lib/deque-objects.html says "list objects ... are optimized for fast fixed-length operations and incur O(n) memory movement costs for "pop(0)" and "insert(0, v)" operations which change both the size and position of the underlying data representation."

[06:22:00.0000] <othermaciej>
I guess that would only be confusing to someone who would expect a list to be a linked list

[06:28:00.0000] <Philip`>
Someone who expected that would be confused as soon as they accessed items[1000000] and got a quick answer

[08:18:00.0000] <othermaciej>
does HTML 4.01 have any requirements for the handling of unknown elements?

[08:18:01.0000] <othermaciej>
I thought it did, but I can't find it in the spec

[08:19:00.0000] <zcorpan>
not normatively

[08:19:01.0000] <zcorpan>
http://www.w3.org/TR/html401/appendix/notes.html#h-B.1

[08:20:00.0000] <zcorpan>
(though close to nothing is normative in html4, but anyway)

[08:30:00.0000] <zcorpan>
"Since user agents may vary in how they handle error conditions, authors and users must not rely on specific error recovery behavior." -- so users are non-conforming by just browsing the web! (or was that sentence not normative?)

[08:49:00.0000] <hsivonen>
whoa! Rob characterizes my email as flame bait. 

[08:50:00.0000] <Philip`>
Maybe that's because you were discussing accessibility, and accessibility discussions inevitably draw flames

[08:53:00.0000] <hsivonen>
well, it was more like a point came up on IRC so better post it on list so it gets in Hixie's IMAP box instead of getting lost

[09:04:00.0000] <othermaciej>
he's such a timesink

[09:19:00.0000] <zcorpan>
Philip`: is there a way to browse http://canvex.lazyilluminati.com/ other than using google?

[09:26:00.0000] <Philip`>
zcorpan: No - I always use Google to find things on it too :-p

[09:26:01.0000] <zcorpan>
Philip`: heh, ok

[09:26:02.0000] <Philip`>
/me probably should do some kind of organisation at some point

[09:27:00.0000] <Philip`>
but I always end up dumping everything into "misc"

[09:27:01.0000] <zcorpan>
could you enable indexes on that directory, maybe?

[09:30:00.0000] <Philip`>
/me checks for any embarrassing files in that directory

[09:31:00.0000] <zcorpan>
/me finds http://canvex.lazyilluminati.com/misc/htmldiffs.txt -- useful :)

[09:32:00.0000] <Philip`>
That's a tiny bit wrong - it misses at least one HTML5 attribute

[09:33:00.0000] <zcorpan>
which one?

[09:34:00.0000] <Philip`>
Indexes enabled now

[09:34:01.0000] <zcorpan>
thanks

[09:36:00.0000] <zcorpan>
  font:    Attributes only in HTML5 and HTML4 Transitional (deprecated by HTML4, restored by HTML5):      color      face      size      style

[09:37:00.0000] <zcorpan>
seems incorrect

[09:37:01.0000] <Philip`>
li@value is the only problem I can find

[09:37:02.0000] <Philip`>
Hmm

[09:38:00.0000] <Philip`>
Oh

[09:38:01.0000] <Philip`>
   </dd><dt>Element-specific attributes:</dt>

[09:38:02.0000] <Philip`>
   <!--

[09:38:03.0000] <Philip`>
   <dd><code title="attr-font-color">color</code></dd>

[09:38:04.0000] <Philip`>
   <dd><code title="attr-font-face">face</code></dd>

[09:38:05.0000] <Philip`>
   <dd><code title="attr-font-size">size</code></dd>-->

[09:38:06.0000] <Philip`>
My HTML5 spec parser didn't understand comments

[09:39:00.0000] <zcorpan>
hmm, <form onreset> is gone in html5?

[09:41:00.0000] <Philip`>
I didn't count anything that was defined in WF2

[09:42:00.0000] <zcorpan>
perhaps it should be a global attribute like the rest of event handler attributes

[09:43:00.0000] <zcorpan>
reset bubbles so that could be useful

[09:43:01.0000] <Philip`>
(This was mostly meant for checking the contents of anne's differences document, so there are various areas where human judgement is needed to decide whether something's a real difference)

[09:46:00.0000] <Philip`>
/me is away for a while


2007-09-18
[17:37:00.0000] <Philip`>
http://philip.html5.org/demos/apng/blending/ - highly useful

[17:37:01.0000] <Philip`>
http://philip.html5.org/demos/apng/sierpinski.png doesn't work so well in Opera since the blending gets broken :-(

[17:38:00.0000] <Philip`>
(White blended onto white really shouldn't give grey)

[18:39:00.0000] <Philip`>
The APNG spec seems to be a little loose with its use of normative language

[19:12:00.0000] <Hixie_>
ok the whatwg.org server is now running under DreamhostPS (a virtual server system)

[19:12:01.0000] <Hixie_>
the 500 errors were because i had the RAM setting too low

[19:12:02.0000] <Hixie_>
i doubled it

[19:12:03.0000] <Hixie_>
we'll see if that helps

[19:30:00.0000] <Hixie_>
fyi for anyone here who has an account on my dreamhost plan (lachlan, zcorpan, charlvn...) -- the ssh key changed this weekend. that's normal. sorry for any inconvenience.

[21:16:00.0000] <Lachy>
othermaciej, I have a good example for degrade gracefully

[21:17:00.0000] <Lachy>
oh, never mind, it's already in the list

[21:17:01.0000] <othermaciej>
heh :-)

[21:17:02.0000] <othermaciej>
what was it going to be?

[21:17:03.0000] <Lachy>
datalist

[21:17:04.0000] <Lachy>
I missed the first time I looked

[21:18:00.0000] <othermaciej>
I was thinking of adding <dialog>

[21:18:01.0000] <othermaciej>
since it works mostly without even the need for CSS styling

[21:18:02.0000] <Lachy>
you could do <input pattern="">, that was designed to be easy to simulate using script

[21:19:00.0000] <othermaciej>
but it does have the IE new element problem

[21:20:00.0000] <Lachy>
for dialog, one could style all dt and dd elements and then undo any unwanted styles for dl dt and dl dd

[21:21:00.0000] <othermaciej>
datalist is also not so great in IE

[21:21:01.0000] <Lachy>
why?

[21:21:02.0000] <othermaciej>
the contents of the options render

[21:21:03.0000] <Lachy>
not if you use <option value=""> instead <option>value</option>

[21:21:04.0000] <othermaciej>
and you get OPTION and /OPTION as void elements in the DOM

[21:21:05.0000] <othermaciej>
ah

[21:22:00.0000] <Lachy>
or you do what I did here using select http://html5.lachy.id.au/

[21:23:00.0000] <othermaciej>
yeah, that's not bad, works even in IE with relatively minor tweaking of the markup

[21:23:01.0000] <othermaciej>
I might take a stab at rewriting the next two principles tonight or tomorrow

[21:24:00.0000] <othermaciej>
those will be fun

[21:24:01.0000] <Lachy>
cowpaths and wheel?

[21:24:02.0000] <othermaciej>
yeah

[21:25:00.0000] <Lachy>
are you going to rename cowpaths?

[21:25:01.0000] <Lachy>
(please don't)

[21:31:00.0000] <othermaciej>
I think I need to

[21:31:01.0000] <othermaciej>
I like the name

[21:31:02.0000] <othermaciej>
but if I hear one more person say "we shouldn't pave this cowpath" I will stab my eyes out

[21:35:00.0000] <othermaciej>
I'm not sure how else to do that

[21:35:01.0000] <othermaciej>
I don't think clarification or an education campaign will do it

[21:36:00.0000] <othermaciej>
Apparently I haven't even managed to make "Degrade Gracefully" clear, even with the detailed description and wealth of examples

[21:57:00.0000] <Lachy>
I just don't understand why so many people are having difficulty understanding such simple concepts like graceful degradation

[21:58:00.0000] <othermaciej>
nothing about the web is simple

[21:58:01.0000] <othermaciej>
I gotta go

[21:58:02.0000] <othermaciej>
later

[21:59:00.0000] <Lachy>
bye

[22:33:00.0000] <MikeSmith>
Lachy - I think some people who have posted recently about the design principles are just plain confused and lack some of the necessary background/socialization needed to understand the context for the discussion

[22:34:00.0000] <MikeSmith>
I'm not sure that any amunt of re-wording is going to help them understand 

[22:39:00.0000] <Lachy>
yeah, I realise that. Though there are some people who really should have the necessary background by now, but still don't

[02:44:00.0000] <Hixie>
pull quotes are i think what henri was talking about

[02:44:01.0000] <Hixie>
but any of these would be valid uses of <aside>

[02:44:02.0000] <Hixie>
if html5 (the spec) were written using html5, then the examples, the issues, and some of the notes would be <aside>s.

[02:44:03.0000] <Hixie>
it's just anything that isn't part of the main flow

[02:45:00.0000] <Lachy>
would a pullquote be best marked up using <aside><blockquote>pull quote</blockquote></aside>?

[02:45:01.0000] <Lachy>
or maybe <q> instead.

[02:46:00.0000] <jgraham>
Lachy: "from article to the next" s/from/from one/

[02:46:01.0000] <Lachy>
Hixie, you should probably make a note of that as a comment in the spec or something for when you get around to adding usage examples for the elements.

[02:48:00.0000] <hsivonen>
Hixie: has the cite attribute undergone the same kind of usefulness scrutiny as longdesc?

[02:48:01.0000] <Lachy>
jgraham, fixed

[02:49:00.0000] <Lachy>
hsivonen, I don't think it has.  As far as I know, no UA does anything useful with it and <cite><a> is a better solution.

[02:49:01.0000] <Hixie>
Lachy: i guess

[02:49:02.0000] <Lachy>
every time I've used it, I've always duplicated it with a link, and that's just not worth the effort

[02:49:03.0000] <Hixie>
Lachy: (re blockquote)

[02:50:00.0000] <Hixie>
Lachy: yeah... send mail :-D

[02:50:01.0000] <Hixie>
hsivonen: not to my knowledge

[02:50:02.0000] <Lachy>
Hixie, send mail about the pullquote example?

[02:51:00.0000] <Lachy>
or the cite issue?

[02:51:01.0000] <Lachy>
oh, I see, the blockquote. I should read everything you write before responding :-)

[02:53:00.0000] <jgraham>
Lachy: my other comment about the article is that it's a little terse; in places it reads a bit more like a spec or a technical email than a friendly introduction (but I guess you haven't finished editing it yet)

[02:54:00.0000] <Hixie>
Lachy: send mail about anything you want in the spec, basically :-)

[02:54:01.0000] <Hixie>
feel free to mail whatwg if you don't want to cause a panic each time

[02:54:02.0000] <Hixie>
all the same to me

[02:54:03.0000] <Lachy>
jgraham, yeah, I definitely need to shorten the article a bit

[02:55:00.0000] <Lachy>
any particular sections?

[02:55:01.0000] <Lachy>
Hixie, yeah, I was sending it to whatwg

[02:55:02.0000] <hsivonen>
Lachy: why is "Strict XML Syntax." a benefit? :-)

[02:55:03.0000] <Lachy>
some authors like the immediate feedback about errors

[03:05:00.0000] <zcorpan>
html allows that too, you could have a setting in browsers to make parse errors fatal

[03:05:01.0000] <zcorpan>
hidden setting, of course

[03:18:00.0000] <zcorpan>
Lachy: s/XHTML serialisation/XML serialisation/ ?

[03:19:00.0000] <zcorpan>
Lachy: s/Browsers will/Browsers/

[03:24:00.0000] <Lachy>
zcorpan, a draconian HTML5 parser is more likely to appear in an authoring tool than it is in a browser, even with a hidden pref

[03:24:01.0000] <zcorpan>
Lachy: indeed

[04:28:00.0000] <hsivonen>
Hixie: did you consider tri-state checkboxes for WF2.0? Tri-state checkboxes seems to be the most common example for demonstrating the need for ARIA.

[04:31:00.0000] <zcorpan>
Lachy_: shouldn't the Excerpt from A Tale of Two Cities by Charles Dickens have <br>s?

[04:31:01.0000] <Lachy_>
Are the new lines semantically important?

[04:32:00.0000] <Lachy_>
hsivonen, tri-state checkboxes were discussed in IRC a few days ago

[04:32:01.0000] <Lachy_>
I think it was in #html-wg

[04:32:02.0000] <zcorpan>
Lachy_: hmm, perhaps not, it looked like a poem

[04:32:03.0000] <hsivonen>
Lachy_: hmm. I thought I've read all the logs

[04:33:00.0000] <Lachy_>
maybe krijnh didn't log it, let me check

[04:34:00.0000] <hsivonen>
Lachy_: found it: http://krijnhoetmer.nl/irc-logs/html-wg/20070914#l-510

[04:34:01.0000] <hsivonen>
looks like I skipped it as something that I thought was still part of the telecon and that I could digest from the minutes

[04:35:00.0000] <Lachy_>
yeah, there's a little bit further down with Hixie, mjs and I too

[04:36:00.0000] <hsivonen>
Lachy_: Re: http://krijnhoetmer.nl/irc-logs/html-wg/20070914#l-545 based on my understanding about the motivations, ARIA has been written with authoring considerations in mind--just not the ones you'd expect

[04:36:01.0000] <hsivonen>
Lachy_: it isn't optimized for authoring new apps.

[04:36:02.0000] <hsivonen>
Lachy_: it is optimized for retrofitting into legacy Ajax widgets

[04:38:00.0000] <hsivonen>
/me finds http://krijnhoetmer.nl/irc-logs/html-wg/20070914#l-562

[04:38:01.0000] <Lachy>
I highlighted all the discussion of tri-state, just reload the logs

[04:39:00.0000] <hsivonen>
Lachy: thanks

[04:39:01.0000] <Lachy>
oh, I missed some

[04:57:00.0000] <hsivonen>
hmm. I wonder if getting search engines to seach embedded text-based closed captioning data in video files would be a curse or a blessing for the accessibility quality of captions.

[04:58:00.0000] <Lachy>
I would hope publishers realise that captions are useful for more than just the deaf. e.g. users at work without speakers or who need to keep the volume low

[04:59:00.0000] <Lachy>
so they would get complaints if they started using caption files for keyword stuffing

[05:42:00.0000] <Lachy>
looks like Rob didn't realise that jgraham's HTML5 table header implementation already makes improvements upon the spec, rather than intending to follow it as-is. http://html4all.org/pipermail/list_html4all.org/2007-September/000236.html

[05:44:00.0000] <Lachy>
and that what he's asking for (that we develop and refine an algorithm that actually works) is what jgraham and others are alread attempting

[05:45:00.0000] <Lachy>
wow, and he has a selective interpretation of the HTML4 algorithm, where it implicitly means what he wants it to mean. http://html4all.org/pipermail/list_html4all.org/2007-September/000237.html

[06:30:00.0000] <Lachy>
jgraham, yt?

[06:59:00.0000] <virtuelv>
hm, one mildly bothering thing about <object>

[07:00:00.0000] <virtuelv>
<object type="[unsupported]" title="Foo"> <object type="[supported]"> </object></object>

[07:00:01.0000] <virtuelv>
should title be rendered by a UA?

[08:29:00.0000] <zcorpan>
virtuelv: yes

[08:29:01.0000] <virtuelv>
zcorpan: what with <object type="[unsupported]" title="foo"><object type="[supported]" title="bar">?

[08:30:00.0000] <virtuelv>
foo or bar, or both?

[08:30:01.0000] <virtuelv>
also, are you sure the title for foo actually applies to bar?

[08:31:00.0000] <zcorpan>
bar (assuming that the supported object completely covers the unsupported)

[08:31:01.0000] <zcorpan>
title is inherited if title is not present (with some exceptions, e.g. <link> and <style>)

[08:32:00.0000] <zcorpan>
object is not an exception per the current spec, iirc.

[08:33:00.0000] <zcorpan>
though i can imagine that ie doesn't add the unsupported object element to the dom at all, and so drops the title

[08:33:01.0000] <zcorpan>
(does it?)

[09:13:00.0000] <gsnedders>
what's the best MathML editor?

[09:15:00.0000] <gsnedders>
(I know, a subjective question)

[09:24:00.0000] <Philip`>
Maybe a text editor and a LaTeX-to-MathML converter

[09:26:00.0000] <zcorpan>
perhaps the table inspector needs a heuristic to tell layout tables and data tables apart? :)

[09:26:01.0000] <zcorpan>
perhaps such a heuristic should be specced

[09:26:02.0000] <Philip`>
(Hmm, apparently TeXmacs can export XHTML+MathML too - I wonder if that actually works...)

[09:27:00.0000] <gsnedders>
/me is actually tempted to use a WYSIWYG editor for the first time in years (namely Amaya)

[09:28:00.0000] <Philip`>
(I vaguely remember TeXmacs being actually alright as a WYSIWYG equation editor, but I might just be remembering wrong)

[09:30:00.0000] <zcorpan>
this is interesting: <label for=foo>LABEL</label> <a href=# id=foo>LINK</a>

[09:30:01.0000] <gsnedders>
/me is thinking that he'll probably put only all of his Higher Maths notes online, just in case they help anyone

[09:30:02.0000] <zcorpan>
in ie, if you click the label, it follows the link

[09:30:03.0000] <gsnedders>
it'd be nicer to have them digitally organised rather than the paper mess they are now anyway

[09:30:04.0000] <gsnedders>
zcorpan: I doubt anything breaks from that behaviour, and it seems logical to me

[09:32:00.0000] <zcorpan>
safari is same as ie, in firefox and opera the label is dead

[09:33:00.0000] <gsnedders>
Saf3, I assume?

[09:33:01.0000] <zcorpan>
yeah

[09:35:00.0000] <zcorpan>
breaks pages that use <label>Label (<a href>help</a>): <input></label>

[09:37:00.0000] <Lachy>
gsnedders, http://www.w3.org/Math/iandi/

[09:38:00.0000] <zcorpan>
same with <span tabindex=0>; seems in ie a label can point to anything that is in the tab order

[09:38:01.0000] <zcorpan>
also some things that are not in the tab order

[09:39:00.0000] <zcorpan>
er... ie's implicit label association seems to be very broken

[09:40:00.0000] <zcorpan>
it seems to point to the first element child, regardless of what that is

[09:40:01.0000] <zcorpan>
<label><span>foo</span><input></label>

[09:43:00.0000] <othermaciej>
Lachy: would you like to make an argument not renaming the "Pave the Cowpaths" principle before I start editing it?

[09:44:00.0000] <Lachy>
I think I've made all my arguments for keeping the name in emails I've sent on the topic

[09:46:00.0000] <Lachy>
what alternative name are you considering?

[09:46:01.0000] <othermaciej>
you've sent a *lot* of emails on the topic :-)

[09:47:00.0000] <Lachy>
and I expect you to read each and every one of them :-)

[09:47:01.0000] <othermaciej>
mostly they seemed to be about the content, not the name

[09:47:02.0000] <othermaciej>
my current thinking is:

[09:47:03.0000] <othermaciej>
"Don't Reinvent the Wheel" ==> "Consider Existing Implementations"

[09:47:04.0000] <othermaciej>
"Pave the Cowpaths" ==> "Study Authoring Practices"

[09:49:00.0000] <Lachy>
study authoring practices might be ok, if you can make it clear that it's mostly about studying *what* they're doing rather than just *how* they're doing it.

[09:49:01.0000] <othermaciej>
yes, that's the idea

[09:50:00.0000] <tantek>
you may find this distinction useful: http://microformats.org/wiki/process-faq#Why_waste_time_wading_through_flakey_HTML

[09:50:01.0000] <tantek>
(regarding authoring practices)

[09:51:00.0000] <Lachy>
tantek, thanks. I was looking for something like that in the microformats wiki a few days ago.

[09:52:00.0000] <othermaciej>
tantek: thanks

[09:53:00.0000] <othermaciej>
Lachy: as for the new wording of the actual principle I intend to base it a lot on your proposal

[09:53:01.0000] <Lachy>
othermaciej, just copy and paste that, and you're done :-)

[09:53:02.0000] <Lachy>
oh yeah, that too

[09:54:00.0000] <tantek>
/me needs to do more documentation and braindumping of the microformats principles, the reasoning/experience behind them, and more details.

[10:00:00.0000] <Lachy>
I really like the last paragraph of this post http://www.windley.com/archives/2005/07/microformats.shtml

[10:00:01.0000] <Lachy>
"HTML has never been about purity—it’s been about practically solving problems."

[10:37:00.0000] <Lachy>
good example of how wai-aria is over engineered. http://juicystudio.com/article/wai-aria-in-html.php (though he's using it as an example of how good it is)

[10:38:00.0000] <Lachy>
I think it would be better to make the custom slider widget (or any other type of custom control) invisible to assistive technology and let them access the <select> directly.

[10:38:01.0000] <Lachy>
alternatively, just use <input type=range> when supported

[10:40:00.0000] <Lachy>
XBL will also be good for making custom widgets like that when supported too

[10:43:00.0000] <zcorpan>
the main advantage of aria over basic html plus css/xbl, afaict, is that it is simpler to apply to existing apps that abuse divs for custom controls. you can slap aria in there without changing anything else, while css/xbl would probably require a rewamp of the app

[10:43:01.0000] <zcorpan>
however, i don't expect a significant amount of authors to actually do so, and i don't even expect those who do to do it correctly (because it's hard to test)

[10:43:02.0000] <zcorpan>
and it doesn't apply to new apps

[10:45:00.0000] <zcorpan>
(where "basic html" includes new stuff from wf2)

[10:48:00.0000] <Dashiva>
"A touch of class" seems to be popping up everywhere

[10:50:00.0000] <zcorpan>
another thing that disturbs me is that it seems to be possible to use aria in many different ways. role attribute in no namespace, role attribute in the xhtml2 namespace (?), in the xhtml namespace (?), the states being attributes in some namespace, or attributes in no namespace but the local name begin with "wairole:", or attributes in no namespace and the local name begin with "aria-"...

[10:50:01.0000] <zcorpan>
and browsers may have to support them all

[10:51:00.0000] <Lachy>
aargh! You've got to be kidding!

[10:51:01.0000] <zcorpan>
no

[10:52:00.0000] <zcorpan>
http://lists.w3.org/Archives/Public/public-pfwg-comments/2007JulSep/0000.html , https://bugzilla.mozilla.org/show_bug.cgi?id=391713 , https://bugzilla.mozilla.org/show_bug.cgi?id=395909

[10:54:00.0000] <zcorpan>
perhaps we should try to make aria namespaceless completely and support only one way to do it

[10:54:01.0000] <Lachy>
ok, well in that case, I guess the HTMLWG will be forced to spec ARIA in HTML (even though it's a disaster), just so that it's not a complete disaster

[10:56:00.0000] <Lachy>
if we do it, there should be no namespace syntax at all in the HTML serialisation

[10:56:01.0000] <Lachy>
(or at least not the xmlns syntax and aaa:foo

[10:56:02.0000] <zcorpan>
indeed, e.g. role="checkbox" aria-hidden="true"

[10:57:00.0000] <zcorpan>
and then the same syntax can be used in xhtml as well

[10:57:01.0000] <Lachy>
are there any clashes between aria states and properties, and existing HTML attributes?

[10:57:02.0000] <zcorpan>
yeah, e.g. required

[10:58:00.0000] <Lachy>
if possible, just to avoid further namespace disasters like you descrbied above, the HTML parser should place the attributes into the correct namespace automatically

[10:58:01.0000] <zcorpan>
and i'm not sure we want to have all states and properties without any prefix, it would eat a lot of useful names we might want to use in the future

[10:58:02.0000] <Lachy>
just like the proposed <math> element would automatically go into the mathml namespace

[10:58:03.0000] <zcorpan>
why have namespaces at all?

[10:59:00.0000] <zcorpan>
if the parser puts them in a namespace you would have to use different syntax in xhtml

[10:59:01.0000] <Lachy>
because that complicates things. implementations would have to support the attributes in the aria namespace for XML and the null namespace on XHTML elements

[10:59:02.0000] <Lachy>
I don't mind having a different syntax in XHTML

[10:59:03.0000] <Lachy>
(I don't see aria ever getting used much in practice anyway, so not a big deal)_

[10:59:04.0000] <zcorpan>
ok. i think it would be simpler to just have all attributes in no namespace

[11:00:00.0000] <Lachy>
I think it's too late for that. implementations already support them in the aria namespace

[11:00:01.0000] <Lachy>
and we'd need to be compatible with exisitng implementations. they don't support them in the null namespace

[11:01:00.0000] <zcorpan>
firefox does (iirc)

[11:01:01.0000] <zcorpan>
though not "aria-foo" (yet)

[11:02:00.0000] <Lachy>
those bugs aren't marked as fixed, I assume they currently don't (unless the patches have been checked in for testing already)

[11:05:00.0000] <zcorpan>
aiui firefox supports "wairole:foo" in no namespace already

[11:05:01.0000] <Lachy>
is it really in no namespace in the DOM?

[11:07:00.0000] <zcorpan>
yeah. though i could be mistaken about whether it supports it

[11:09:00.0000] <zcorpan>
oh, and class names. firefox supports class names (without the author using a script) i think

[11:17:00.0000] <Lachy>
do you mean people can do class="axs checkbox" and that works?

[11:19:00.0000] <zcorpan>
yeah

[11:19:01.0000] <zcorpan>
or so i was told; i haven't tested the implementation at all

[11:20:00.0000] <Lachy>
I hope that's not the case.  Standardised class names didn't go down well in the HTMLWG

[11:20:01.0000] <Lachy>
I don't think it would fly if we had to do it with those

[11:21:00.0000] <Lachy>
/me wonders why the accessibility community have been messing around with HTML without consulting the real HTMLWG before implementing disastrous features (assuming what you're saying is true)

[11:22:00.0000] <Lachy>
(I suspect they've probably consulted the ex-HTMLWG in the past)

[11:23:00.0000] <zcorpan>
the role module spec is a deliverable of the ex-htmlwg

[11:24:00.0000] <Lachy>
I know, hence my suspicion

[11:24:01.0000] <zcorpan>
it seems it went like this...

[11:24:02.0000] <zcorpan>
1) role was invented as a native attribute for xhtml2 elements

[11:25:00.0000] <zcorpan>
2) we need role in xhtml1, so put the role attribute in the xhtml2 namespace for xhtml1 elements

[11:25:01.0000] <zcorpan>
3) make the role attribute a native attribute for xhtml1 (the role module spec)

[11:26:00.0000] <zcorpan>
4) the aria specs are a layer on top of role

[11:26:01.0000] <zcorpan>
5) shoe-horn it in different ways to make it work in html

[11:27:00.0000] <zcorpan>
and then somewhere the aria specs note that xhtml 1.0 isn't modular so the role module spec can't be used for xhtml 1.0, so it suggests that the role attribute can be used in the xhtml namespace also

[11:28:00.0000] <zcorpan>
(how that makes any difference to the "problem" of xhtml 1.0 not being modular is unclear)

[11:32:00.0000] <Lachy>
/me got caught in a netsplit, missed everything you said after point 1).

[11:33:00.0000] <Lachy>
though it's in the logs, so not a problem

[12:30:00.0000] <Philip`>
http://philip.html5.org/demos/mathml/texmacs.xhtml - wow, TeXmac's XHTML export works well

[12:34:00.0000] <Lachy>
Philip`, it's not well formed

[12:40:00.0000] <Lachy>
here's a well formed version with the correct DOCTYPE http://tinyurl.com/26nyka

[12:43:00.0000] <zcorpan>
hsivonen: usemap is an idref in your xhtml 1.0 schema; should be url

[13:01:00.0000] <zcorpan>
Lachy: opera doesn't recognize the dtd, so the entities aren't replaced

[13:35:00.0000] <Philip`>
Why does MathML prefix all its element names with "m" when they're already in a namespace?

[13:37:00.0000] <Philip`>
Lachy: I don't quite understand how TeXmacs manages to generate XHTML that is always ill-formed - I thought draconian error handling was meant to result in people fixing obvious mistakes like that when they first tested it and before releasing their code

[13:38:00.0000] <Lachy>
Philip`, not everyone tests, unfortunately

[13:43:00.0000] <jgraham>
Lachy: I think I've fixed the bug you reported in the table inspector

[13:44:00.0000] <Lachy>
jgraham, thanks

[13:48:00.0000] <Philip`>
http://philip.html5.org/demos/mathml/presentational.xhtml - am I doing something stupid here, to make Firefox draw the cube-roots one line too high and with a black box inside the root sign?

[13:49:00.0000] <Hixie_>
http://lists.w3.org/Archives/Public/public-forms/2007Sep/0056.html para 2

[13:49:01.0000] <Philip`>
(I'm not sure why TeXmacs bothers with the MathML namespace and everything, when it's just outputting HTML tables instead)

[13:51:00.0000] <jgraham>
Philip`: Have you got all the right fonts installed? Also there (used to be?) problems on Mac.

[14:01:00.0000] <Philip`>
jgraham: Ah, thanks - it works better when I install various fonts and set something in about:config

[14:01:01.0000] <Philip`>
Not quite as user-friendly as rendering LaTeX into a PNG, sadly :-(

[14:11:00.0000] <jacobolus>
Philip`: seems it would be better to just render LaTeX to SVG

[14:12:00.0000] <jacobolus>
even though the resulting files would likely take more space than pngs, they'd be resolution-independant

[14:14:00.0000] <karlUshi>
SVG Print

[14:14:01.0000] <karlUshi>
http://www.w3.org/TR/SVGPrint/

[14:15:00.0000] <karlUshi>
This Working Draft defines features of the Scalable Vector Graphics (SVG) Language that are specifically for printing environments.

[14:23:00.0000] <Philip`>
http://www.ctan.org/tex-archive/systems/win32/bakoma/samples/svgtour.html fails in Opera, which is not very helpful

[14:57:00.0000] <Hixie_>
jgraham: yt?

[14:57:01.0000] <Hixie_>
or anyone based in the UK?

[14:59:00.0000] <jgraham>
Hixie: yep

[15:03:00.0000] <Dashiva>
I wonder if the group would be more productive if certain threads died out, or if they're simply on top of normal activity

[15:32:00.0000] <Philip`>
http://philip.html5.org/demos/mathml/svg.xhtml - not incredibly elegant code, but it looks alright

[15:44:00.0000] <jacobolus>
Philip`: looks pretty good.  now all we need is for browsers to embed pdflatex and some pdf→svg converter!

[15:45:00.0000] <jacobolus>
Philip`: incidentally, isn't it possible to embed the font in the svg, instead of using outlines for everything?


2007-09-19
[17:01:00.0000] <Hixie>
the tools will save us!

[17:01:01.0000] <Hixie>
except apparently in this case: http://www.shelter-systems.com/grip-clips.html

[17:01:02.0000] <Hixie>
where the user got confused between "list bullet" and "radio button"

[17:03:00.0000] <gavin_>
heh

[17:04:00.0000] <kingryan>
yeah, Hixie, I can't wait for the day, far in the future, when the tools will save us

[17:04:01.0000] <kingryan>
of course, then they'll develop AI, violate the 3 laws and destroy human civilization

[17:05:00.0000] <marcosc>
but at least we will be saved!

[17:05:01.0000] <kingryan>
our robot masters will save us from ourselves

[17:09:00.0000] <Dashiva>
They won't save us, they'll just save HTML

[17:12:00.0000] <Philip`>
jacobolus: I was using pstoedit (via Inkscape) to convert PS->SVG, and that appears to only work correctly if you make it convert all text into curves

[17:12:01.0000] <Lachy>
looks like they wanted to create an inline list, rather than a vertical bulleted list, and wasn't aware of either stylesheets or characters like U+2022 Bullet •

[19:01:00.0000] <Lachy>
I wonder why Křištof is arguing about the meaning of "checked"? http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-September/012520.html

[19:22:00.0000] <Hixie>
i dunno, but i hope nobody tries to correct him

[20:07:00.0000] <Webtester01>
Hello.

[20:08:00.0000] <Webtester01>
I have an idea that would be great for web applications.

[20:11:00.0000] <Webtester01>
Related to javascript and html5

[20:11:01.0000] <Webtester01>
.

[20:20:00.0000] <Webtester01>
Hello.

[20:23:00.0000] <Webtester01>
I propose two attributes to the the script tag: private and allowid. The private attribute would isolate a script's variables from other scripts on the page, and the allowid attribute would contain ids of scripts or objects allowed to access the script marked private.

[20:25:00.0000] <deltab>
you can do the former with  (function () { ... })()

[20:26:00.0000] <Webtester01>
Scripts marked as private would be allowed to make persistant socket connections, ie: var sock = XMLSocket(host,port), or some other syntax.

[20:26:01.0000] <Lachy>
where is XMLSocket defined?

[20:26:02.0000] <Webtester01>
This is just a hypothetical idea.

[20:26:03.0000] <Lachy>
maybe you want the TCPConnection interface

[20:27:00.0000] <Lachy>
that's already in HTML5, or maybe you actually want <event-source>

[20:27:01.0000] <Webtester01>
Ok.

[20:27:02.0000] <Webtester01>
So I can connect to a host other than the domain, on which the html 5 page resides?

[20:28:00.0000] <Webtester01>
For example, a web-based IRC client, that uses html and styling to produce a gui.

[20:29:00.0000] <Webtester01>
Or a terminal?

[20:29:01.0000] <Lachy>
you would have to proxy messages through a custom server to do that

[20:30:00.0000] <Lachy>
cross-domain security restrictions apply

[20:30:01.0000] <Webtester01>
Yes.

[20:30:02.0000] <Webtester01>
That's why I had some security ideas in place, regarding the idea I mentioned earlier.

[20:31:00.0000] <Lachy>
the way you described the private attribute wouldn't actually solve those problems

[20:32:00.0000] <Lachy>
Webtester01, http://www.whatwg.org/specs/web-apps/current-work/multipage/section-network.html#network

[20:32:01.0000] <Webtester01>
Well the private script would not be able to access the pool from the other scripts either.

[20:33:00.0000] <Lachy>
so?

[20:33:01.0000] <Lachy>
it would still be able to modify the DOM and insert information into that.  Other scripts could then read from the DOM

[20:35:00.0000] <Lachy>
what do you want cross-domain TCP connections for?  Do you really want to implement an IRC client in javascript?

[20:37:00.0000] <Webtester01>
Well I wrote one in java for the socket connection, then javascript creates the gui.

[20:38:00.0000] <Lachy>
can create connections to any arbitrary host?

[20:38:01.0000] <Lachy>
can *java create ...?

[20:39:00.0000] <Webtester01>
Not cross domain.

[20:39:01.0000] <Lachy>
ah, so similar restrictions apply

[20:40:00.0000] <Webtester01>
/me will be back soon. Dinner.

[20:44:00.0000] <Lachy>
Hixie, in TCP connections, there's an issue that states "We currently don't allow connections to be set up back to an originating IP address, but we could, if the subdomain is the empty string."

[20:44:01.0000] <Lachy>
then that's followed by "Then, if the subdomain argument is null or the empty string, the target host is the domain part of the script's origin."

[20:45:00.0000] <Lachy>
so it seems that that issue has been resolved already

[20:45:01.0000] <Hixie>
really?

[20:45:02.0000] <Lachy>
yeah, unless I'm misunderstanding something

[20:49:00.0000] <Hixie>
oh well

[20:49:01.0000] <Hixie>
i'm sure it'll come out in the wash when that section gets its next hose down

[20:51:00.0000] <Lachy>
it's also not clear how often the read event is fired for the Connection interface

[20:52:00.0000] <Lachy>
I assume it's probably once for every TCP packet (for the TCPConnection)

[20:52:01.0000] <Hixie>
yeah i wouldn't look too closely at that section

[20:52:02.0000] <Hixie>
it needs much work

[20:52:03.0000] <Lachy>
I realise that (given the number of red boxes in it)

[20:53:00.0000] <Hixie>
:-)

[21:12:00.0000] <Lachy>
Hixie, when are planning to edit the spec some more? it's been almost a month since the last commit

[21:13:00.0000] <Hixie>
yeah, been at burning man and on a boat trip

[21:13:01.0000] <Hixie>
this part of the year is my vacations

[21:13:02.0000] <Hixie>
:-)

[21:13:03.0000] <Hixie>
that's over though

[21:13:04.0000] <Hixie>
i've been editing today in fact

[21:13:05.0000] <Hixie>
writing up the datatemplate algorithms

[21:14:00.0000] <Hixie>
spec on the site is regenned

[21:14:01.0000] <Hixie>
still incomplete though

[21:17:00.0000] <Lachy>
oh cool, I was wating to find out more about datatemplate

[21:19:00.0000] <Lachy>
I'll have to read it later though, right now I'm trying to install MySQL

[21:20:00.0000] <Lachy>
hi othermaciej

[21:21:00.0000] <othermaciej>
hey Lachy 

[21:21:01.0000] <othermaciej>
colloquy keeps messing up my nick

[21:21:02.0000] <othermaciej>
/me swears

[01:46:00.0000] <Dashiva>
http://www.joelonsoftware.com/items/2007/09/18.html?provocative_title

[02:00:00.0000] <Hixie>
Dashiva: he's probably right

[02:00:01.0000] <Hixie>
though google already has something like what he describes (GWT)

[02:00:02.0000] <Hixie>
compiles Java straight to JS+DOM, cross-browser

[02:02:00.0000] <othermaciej>
Google also compiles JS down to JS

[02:02:01.0000] <othermaciej>
/me is on the receiving end of that a fair bit

[02:03:00.0000] <kfish>
http://haskell.org/haskellwiki/Yhc/Javascript

[02:04:00.0000] <kfish>
((((a real language, but no need for endless trailing parentheses))))

[02:04:01.0000] <Hixie>
othermaciej: true

[02:11:00.0000] <KevinMarks>
you can usually append something to get it uncompiled

[02:25:00.0000] <KevinMarks>
isn't HTML5 at least part of Joel's answer?

[02:25:01.0000] <Hixie>
HTML5 is a level below what joel's talking about

[02:25:02.0000] <Hixie>
it's like a new libc

[02:26:00.0000] <KevinMarks>
I was thinking this bit: "Right now the big hole in the portability story is — tada! — client-side JavaScript, and especially the DOM in web browsers. Writing applications that work in all different browsers is a friggin’ nightmare. There is simply no alternative but to test exhaustively on Firefox, IE6, IE7, Safari, and Opera, and guess what? I don’t have time to test on Opera. Sucks to be Opera. Startup web browsers

[02:26:01.0000] <KevinMarks>
 don’t stand a chance."

[02:27:00.0000] <Hixie>
well, only insofar that html5 does a small amount to help interop

[02:27:01.0000] <Hixie>
but really interop problems are largely up to the browser vendors

[02:28:00.0000] <Hixie>
just having a detailed spec doesn't solve the problem, the browsers still have to be fixed to match the spec

[02:29:00.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/#datatemplate

[02:29:01.0000] <Hixie>
behold

[02:30:00.0000] <hsivonen>
zcorpan: thanks. bug documented and queued for the great XHTML 1 refactoring

[02:31:00.0000] <othermaciej>
HTML5 can foster interop directly (by providing useful spec language and backing it by exhaustive tests

[02:31:01.0000] <othermaciej>
but also indirectly by creating a forum where the players talk about interop

[02:32:00.0000] <othermaciej>
and by fostering  a culture where interop is  aprimary value

[02:32:01.0000] <KevinMarks>
the comment about cut and paste is interesting

[02:32:02.0000] <othermaciej>
I'm not sure what question Joe is trying to answer

[02:32:03.0000] <KevinMarks>
when I cut/paste within firefox, it seems to just work

[02:32:04.0000] <othermaciej>
*Joel

[02:33:00.0000] <Hixie>
ok i just checked in several hundred lines

[02:33:01.0000] <Hixie>
hopefully that'll make up for the few weeks of nothing

[02:33:02.0000] <KevinMarks>
he's not traying to answer one, he's just being a old fart and saying he's seen ti all before

[02:33:03.0000] <Hixie>
KevinMarks: you can't cut and paste a contact from gmail and paste it into yahoo mail

[02:33:04.0000] <Hixie>
his concern is valid, imho

[02:33:05.0000] <Hixie>
othermaciej: did you decide you wanted to visit us for the offline stuff?

[02:33:06.0000] <KevinMarks>
he said an image

[02:34:00.0000] <KevinMarks>
but yes, a contact woudl be good

[02:34:01.0000] <KevinMarks>
*cough* hCard *cough*

[02:34:02.0000] <Hixie>
you wouldn't want to use hCard

[02:34:03.0000] <Hixie>
vCard would make more sense imho

[02:34:04.0000] <KevinMarks>
I would

[02:35:00.0000] <KevinMarks>
firefox does HTML copy paste nicely

[02:35:01.0000] <KevinMarks>
hCard is HTML

[02:35:02.0000] <Hixie>
html5 actually does introduce proper APIs for copy/paste though

[02:35:03.0000] <KevinMarks>
the other browsers need to catch up there

[02:35:04.0000] <Hixie>
so i guess in a way that's part of his SDK

[02:35:05.0000] <hsivonen>
KevinMarks: does HTML copy paste nicely within two text/html views? or otherwise?

[02:36:00.0000] <KevinMarks>
hm

[02:36:01.0000] <Hixie>
pasting html into a web page wouldn't really help

[02:36:02.0000] <Hixie>
you want to paste into the app, not into the page

[02:36:03.0000] <Hixie>
anyway

[02:36:04.0000] <Hixie>
i should sleep

[02:36:05.0000] <Hixie>
nn

[02:36:06.0000] <kfish>
javascript to watch selections and override the selection buffer (with an appropriate arbitrary xml representation of the selected data, contact etc.)?

[02:36:07.0000] <KevinMarks>
well, paste works in gmail and writely

[02:36:08.0000] <hsivonen>
ok

[02:37:00.0000] <KevinMarks>
with copy from $arbitrary_webpage

[02:37:01.0000] <hsivonen>
KevinMarks: have you tried copying from a page served as application/xhtml+xml?

[02:38:00.0000] <KevinMarks>
nah, they always show up as invalid anyway ;)

[02:38:01.0000] <hsivonen>
I had a good look at the Gecko clipboard code a bit over a year ago. I can't remember what happens with XML, but I'd expect trouble

[02:38:02.0000] <KevinMarks>
per Hixie, finding one is hard....

[02:38:03.0000] <KevinMarks>
.02% wasn't it?

[02:38:04.0000] <hsivonen>
Planet Intertwingly

[02:39:00.0000] <KevinMarks>
or shelley I suppose

[02:39:01.0000] <KevinMarks>
come to think of it, I haven't seen anything by her in a while

[02:40:00.0000] <zcorpan>
KevinMarks: 0.014% had some xml mime type iirc (might not be xhtml, more likely rss)

[02:41:00.0000] <othermaciej>
KevinMarks: how come Pages and Pesentations have an HTML editing engine that utterly fails in Safari, but GMail and Writely work fine

[02:42:00.0000] <KevinMarks>
google is large, it contains multitudes

[02:42:01.0000] <hsivonen>
the only application/xhtml+xml blog that I've read repeatedly and on which I haven't seen the yellow screen of death is Jacques Distler's Musings

[02:42:02.0000] <othermaciej>
it contains a knowledge exchange problem

[02:45:00.0000] <jgraham>
/me thinks he remembers seeing the YSOD on Musings (at least, I remember Jacques said there had been a problem caused by a trackback with an unexpected character encoding)

[02:47:00.0000] <hsivonen>
well, I've had a vicarious YSoD on Musings. I instructed another person read something over there and he replied that he can't because of YSoD. (He had a Gecko build without the MathML pseudo-DTD in the catalog--Netscape 6.something.)

[02:51:00.0000] <KevinMarks>
did you see the footnote here, maciej? http://ejohn.org/blog/freeing-the-grid/

[02:55:00.0000] <hsivonen>
interestingly, when Joel mentions compilation to cross-browser JS, he doesn't mention Google Web Toolkit

[02:55:01.0000] <othermaciej>
KevinMarks: the whiny part or the cnfusing part?

[02:57:00.0000] <othermaciej>
UI toolkits do soeem to have very aggressive expectations of the pace of new browser version deployment

[02:59:00.0000] <hsivonen>
btw, Joel is right about download times. Flickr sucked on GPRS (not because of photos but because of JS). Moving to HSDPA fixed it better than code optimization.

[03:00:00.0000] <othermaciej>
a fair chunk of Safari users are still on Safari < 2

[03:01:00.0000] <othermaciej>
.63% of total market

[03:01:01.0000] <othermaciej>
close to Opera's total share

[03:01:02.0000] <othermaciej>
otoh developing for Safari 1.3 (or god forbit 1.1) would be painful

[03:04:00.0000] <KevinMarks>
I don't like dojo's basic model of crufting up the html with their own extensions

[03:09:00.0000] <hsivonen>
what are considered the least biased sources of browser statistics these days?

[03:09:01.0000] <KevinMarks>
measuring your won site

[03:09:02.0000] <KevinMarks>
*own

[03:10:00.0000] <KevinMarks>
it was an education seeing Orkut's browser stats

[03:12:00.0000] <hsivonen>
http://msdn2.microsoft.com/en-us/library/ms534654.aspx looks self-contradictory to me

[03:12:01.0000] <hsivonen>
"An element can have focus if the tabIndex property is set to any valid negative or positive integer."

[03:12:02.0000] <hsivonen>
shouldn't that be zero or positive?

[03:14:00.0000] <hsivonen>
hmm. perhaps I misunderstood and tabbability and focusability are different in IE. hmm.

[03:15:00.0000] <hsivonen>
othermaciej: has Apple said anything about ARIA in public?

[03:16:00.0000] <othermaciej>
hsivonen: not that I know of

[03:16:01.0000] <othermaciej>
I look at http://marketshare.hitslink.com/ usually

[03:17:00.0000] <othermaciej>
(re market share)

[03:17:01.0000] <othermaciej>
I don't have any specific reason to think their methodology is way better than the competition

[03:17:02.0000] <othermaciej>
but their numbers seem so align with my expectations

[03:18:00.0000] <othermaciej>
and it's not a one-site survey of a specialist site

[03:18:01.0000] <hsivonen>
hmm. they don't count engines

[03:19:00.0000] <hsivonen>
instead they isolate some branded products: Netscape, PSP and Playstation

[03:19:01.0000] <othermaciej>
you have to know what product is what engine

[03:19:02.0000] <othermaciej>
you can also get a more detailed version breakdown

[03:20:00.0000] <hsivonen>
when I write my perfect log analysis tool, it'll count engines

[03:21:00.0000] <othermaciej>
this is pretty detailed: http://marketshare.hitslink.com/report.aspx?qprid=6

[03:21:01.0000] <othermaciej>
I don't know what the PSP browser is

[03:22:00.0000] <othermaciej>
Blazer seems to be the top entrant to clearly not use one of the top 4 engines

[03:22:01.0000] <hsivonen>
othermaciej: I've been told that PSP in NetFront

[03:23:00.0000] <othermaciej>
series 60 shows up in os share but I don't see a browser that is obviouslly theirs

[03:26:00.0000] <hsivonen>
weird. Opera Mini reveals my phone's built-in UA to servers in a custom header

[03:27:00.0000] <hsivonen>
the headers Mini sends are more crufty than headers that cause size concern in desktop Gecko...

[05:24:00.0000] <Lachy>
the copy/paste issue Joel wrote about in that article wouldn't be too hard to solve

[05:24:01.0000] <Lachy>
it's not that hard to implement a clipboard: http://html5.lachy.id.au/clipboard

[05:25:00.0000] <Lachy>
just need to develop the API a bit more, make it support multiple users (probably backed by a DB instead of a simple text file)

[05:26:00.0000] <Lachy>
then just get different web apps to hook into the API, and then you've got an instant shared clipboard between apps that works anywhere

[05:27:00.0000] <Dashiva>
And a huge giant SPOF

[05:28:00.0000] <Lachy>
SPOF?

[05:29:00.0000] <Lachy>
ah, Single Point of Failure?

[05:29:01.0000] <Lachy>
then make it a distributed system.

[05:30:00.0000] <hsivonen>
the browser should probably perform token exchange choreography between the sites and then initiate a site-to-site transfer with the browser-negotiated token

[05:30:01.0000] <hsivonen>
not simple

[05:31:00.0000] <hsivonen>
(for stuff like enabling copy-paste of large media files without round-tripping originals through the browser)

[05:32:00.0000] <Lachy>
if the API is standardised, web apps could talk directly to each other without having to round trip everything through the browser

[06:25:00.0000] <Lachy>
othermaciej, have you made any progress on the design principles today?

[06:55:00.0000] <jeremyb>
does dave raggett come by here?

[06:56:00.0000] <jeremyb>
/me wonders about the topic

[06:56:01.0000] <jeremyb>
or anyone know much about slidy/want to discuss it?

[06:57:00.0000] <jeremyb>
ooooh, /me likes the ability to highlight nicks in the logs and doesn't remember that from last time he looked at them

[07:01:00.0000] <Lachy>
jeremyb, the highlight feature was added about a week ago

[07:02:00.0000] <jeremyb>
/me now realizes that could be confused with the line highlighting which he does remember from the last time

[07:03:00.0000] <Lachy>
what's confusing about it?

[07:03:01.0000] <jeremyb>
my description?

[07:03:02.0000] <jeremyb>
when you highlight a line the nicks are highlighted too

[07:03:03.0000] <jeremyb>
nvm :)

[07:06:00.0000] <hsivonen>
jeremyb: I don't recall seeing Dave Raggett here in the last couple of months

[07:06:01.0000] <jeremyb>
anyway, gotta run, but if anyone wants to point me to a better place for slidy that'd be great.  btw, i'm planning on doing something with slidy and a wiki.  prolly 1 whole slide show per wiki page.

[07:06:02.0000] <jeremyb>
/me wonders if anyone's done anything like that

[07:06:03.0000] <jeremyb>
/me waves good morning to aaron

[07:06:04.0000] <jeremyb>
hsivonen: thx

[07:07:00.0000] <aaronlev>
good morning jeremyb 

[07:07:01.0000] <aaronlev>
hi hsivonen 

[07:07:02.0000] <hsivonen>
jeremyb: IIRC Jacques Distler blogged about putting S5 slides on Instiki

[07:07:03.0000] <hsivonen>
aaronlev: hi

[07:08:00.0000] <jeremyb>
hsivonen: s5?

[07:08:01.0000] <hsivonen>
jeremyb: http://golem.ph.utexas.edu/instiki/show/S5

[07:08:02.0000] <jeremyb>
thx

[07:08:03.0000] <jeremyb>
/me runs (busy day :()

[07:09:00.0000] <hsivonen>
jeremyb: S5 is a competitor of Slidy if I have the right idea of what Slidy does

[07:38:00.0000] <MikeSmith>
hsivonen - The GNU coding standards for error messages are documented here:

[07:38:01.0000] <MikeSmith>
http://www.gnu.org/prep/standards/html_node/Errors.html#Errors

[08:06:00.0000] <hsivonen>
MikeSmith: thanks

[08:42:00.0000] <Philip`_>
APNG interoperability is not good so far :-(

[08:48:00.0000] <hsivonen>
Philip`_: do Firefox 3 and Opera 9.5 use the same libpng extensions?

[08:49:00.0000] <hsivonen>
that is, is this a graphics drawing layer issue of an APNG impl. level issue?

[08:50:00.0000] <hsivonen>
what's today's compat situation with <m>? should I use it or go with a styled <b> or something?

[08:51:00.0000] <zcorpan>
hsivonen: you can't style it in ie7

[08:52:00.0000] <hsivonen>
zcorpan: ok. then I'm not gonna use it

[08:52:01.0000] <hsivonen>
/me mumbles something about <u>

[08:52:02.0000] <zcorpan>
<u> works fine :)

[08:53:00.0000] <hsivonen>
zcorpan: it doesn't validate as HTML5 as of today

[08:56:00.0000] <zcorpan>
/me tries to wrap his head around datatemplates

[09:01:00.0000] <Philip`_>
hsivonen: From the differences, it looks like they're independent implementations - e.g. Opera thinks offset_x=2^32-1 means offset one pixel left, whereas Firefox thinks it's a fatal error

[09:02:00.0000] <Philip`_>
(The spec says that case is an error, so Opera I think is wrong (except error-handling doesn't seem to be strictly defined anywhere))

[09:06:00.0000] <Philip`>
and e.g. Opera doesn't like zero-length fdAT chunks, whereas Firefox accepts them correctly

[09:06:01.0000] <hsivonen>
Philip`: ok

[09:25:00.0000] <virtuelv>
Philip`: filed a bug?

[09:32:00.0000] <Philip`>
virtuelv: Not yet - I expect there are lots more bugs, so I'm trying to develop a semi-organised way to find as many as possible

[09:53:00.0000] <zcorpan>
well, i have a bit trouble grasping the levenberg algorithms and thus how the whole datatemplate things actually works

[09:53:01.0000] <zcorpan>
can someone explain how it's supposed to work or give an example? :)

[11:14:00.0000] <Philip`>
zcorpan: I'm guessing it works somewhat like http://philip.html5.org/demos/datatemplate/experimental/001.html though I'm not entirely certain :-)

[11:19:00.0000] <Philip`>
(For backward compatibility, I guess you'd have to put the <datatemplate> and <items> parts in separate XML documents, else HTML parsers will mangle them horribly)

[11:43:00.0000] <Philip`>
/me wonders who Levenberg is

[12:24:00.0000] <hsivonen>
any better way to visualize newlines in Unicode than U+21A9?

[12:29:00.0000] <Philip`>
/me now remembers that HTML4 mentions the &{ script }; syntax as being reserved for script macros, and wonders if that could be used for text expansion of templates since it shouldn't conflict with existing syntax

[12:30:00.0000] <hsivonen>
Philip`: what about XHTML5?

[12:30:01.0000] <Philip`>
Hmm

[12:30:02.0000] <Philip`>
I suppose you'd have to write &amp;{ script }; to get the equivalent DOM

[12:31:00.0000] <Philip`>
(assuming the &{ script }; template expansion happens somewhere outside the parser, so you should get the & character in the DOM)

[12:31:01.0000] <hsivonen>
maikmerten: what's the closed captioning and closed audio description situation with the Ogg family?

[12:31:02.0000] <Philip`>
which isn't overly pretty

[12:32:00.0000] <maikmerten>
hsivonen, I'm currently trying to figure out what "closed" means in that context ;)

[12:32:01.0000] <maikmerten>
ah, subtitles

[12:32:02.0000] <hsivonen>
maikmerten: closed means opt-in

[12:33:00.0000] <hsivonen>
maikmerten: open captioning means that everyone sees them by default

[12:33:01.0000] <maikmerten>
hsivonen, I think using annodex + ogg together with Ogg Skeleton can give the semantics wanted

[12:34:00.0000] <maikmerten>
(Ogg Skeleton is basically carrying meta information about streams multiplexed in Ogg)

[12:34:01.0000] <hsivonen>
maikmerten: does annodex bring in more complexity than just timed text?

[12:34:02.0000] <hsivonen>
maikmerten: whatever happened to Ogg Writ?

[12:35:00.0000] <maikmerten>
let's simply say that Ogg Writ did fall flat onti its face

[12:35:01.0000] <maikmerten>
onto

[12:35:02.0000] <hsivonen>
ouch

[12:36:00.0000] <maikmerten>
the way to go is annodex, which is semantically more rich than yet-another-Ogg-only-thingie anyway

[12:36:01.0000] <hsivonen>
I'm a bit afraid of scope creep

[12:37:00.0000] <maikmerten>
well, if there's need for a "more straightforward" subtitle thingie I guess it may be possible to specify that, too (given the manpower and time)

[12:37:01.0000] <hsivonen>
maikmerten: I see. I was looking for an off-the-shelf replacement for 3GP Timed Text

[12:38:00.0000] <hsivonen>
MPEG-4 part 17, IIRC

[12:38:01.0000] <maikmerten>
http://trac.annodex.net/wiki/CmmlSubtitles

[12:38:02.0000] <hsivonen>
and also a way to have a second sound track off-by-default and flagged as audio description

[12:38:03.0000] <hsivonen>
thanks

[12:39:00.0000] <maikmerten>
http://wiki.xiph.org/index.php/Ogg_Skeleton

[12:39:01.0000] <maikmerten>
Skeleton is exactly for that kind of stuff AFAIK

[12:39:02.0000] <hsivonen>
thanks

[12:40:00.0000] <maikmerten>
oggplay, which is the kitchen-sink solution to play Ogg (and used by Chris Double for Firefox <video>) carries support for Annodex and IIRC Skeleton

[12:40:01.0000] <hsivonen>
ooh. cool.

[12:41:00.0000] <maikmerten>
well, liboggply is developed by the annodex guys ;)

[12:41:01.0000] <maikmerten>
little surprise here

[12:41:02.0000] <maikmerten>
but makes all of our lives much easier ;)

[12:41:03.0000] <hsivonen>
maikmerten: well, I am a bit surprised, because I've been awfully naive about the status of Writ

[12:42:00.0000] <maikmerten>
hsivonen, well, seems Writ can/does work

[12:42:01.0000] <hsivonen>
the Wrip page on the Xiph wiki and the one in Wikipedia give the impression of ongoing work instead of abandonware

[12:42:02.0000] <hsivonen>
oh

[12:42:03.0000] <maikmerten>
it's just that it never actually made it to some sort of "recommendation"

[12:43:00.0000] <maikmerten>
plus I may be misinformed about the state of things

[12:43:01.0000] <maikmerten>
and if there's demand a solution isn't out of reach, I guess

[12:43:02.0000] <maikmerten>
I'll have to investigate

[12:43:03.0000] <hsivonen>
in order to promote the Ogg family for <video>, the accessibility stuff needs to be sorted out at some point

[12:44:00.0000] <maikmerten>
 - what the exact status of subtitles is in Annodex

[12:44:01.0000] <maikmerten>
 - what the status of Writ is

[12:44:02.0000] <maikmerten>
(or if there's a newer approach)

[12:44:03.0000] <maikmerten>
I see

[12:45:00.0000] <hsivonen>
as a sidenote, I've so far learned that "subtitles" is a bad word in North America in the accessibility context and captioning is the preferred word. (even though en-GB uses subtitles)

[12:45:01.0000] <hsivonen>
subtitles has a translation connotation

[12:46:00.0000] <maikmerten>
oh

[12:47:00.0000] <hsivonen>
I'll put the urls you gave into Bugzilla

[12:49:00.0000] <maikmerten>
http://svn.xiph.org/trunk/writ/ <-- the writ implementation, by the way

[12:49:01.0000] <maikmerten>
I never tried it, but it seems like it's doing something

[12:50:00.0000] <gsnedders>
Hixie: is it worth defining application/octect-stream sniffing at all, for the sake of HTML documents served as such?

[12:51:00.0000] <hsivonen>
maikmerten: thanks

[12:52:00.0000] <maikmerten>
hsivonen, you're welcome

[12:53:00.0000] <maikmerten>
I'm currently writing a mail to our advocacy mailing list forwarding your request and asking for status information

[12:53:01.0000] <hsivonen>
maikmerten: thanks

[13:59:00.0000] <Hixie>
Philip`: wow, you pretty much nailed it.

[13:59:01.0000] <Hixie>
Philip`: i'm glad i didn't specify the expansion algorithm, you came up with something quite interesting that i hadn't thought of

[13:59:02.0000] <Hixie>
i was thinking of using an extensions to CSS

[13:59:03.0000] <Hixie>
also, you don't need a registration mark in your example

[14:00:00.0000] <Hixie>
the only other thing is you'd want to have the input elements update the items

[14:02:00.0000] <Hixie>
e.g. onchange="dataNode.setAttribute('value', value)" value="&{this.getAttribute('value')}"

[14:12:00.0000] <Hixie>
othermaciej: interesting site for browser stats, though they really should show the data on a log scale

[14:13:00.0000] <Hixie>
they could show more browsers that way too

[14:13:01.0000] <othermaciej>
Hixie: that would certainly make it easier to see the trends

[14:14:00.0000] <Philip`>
I'm not sure why I bothered putting the registrationmark in, since it's useless without scripting

[14:15:00.0000] <Hixie>
Philip`: it's useful when the data regenerates and hits a different set of conditions, but you want the same element to be used for different parts of the two conditions, yeah

[14:15:01.0000] <Hixie>
othermaciej: these stats also don't include the iPhone browser, which i believe would be interesting to see

[14:16:00.0000] <othermaciej>
Hixie: if you mean these stats: <http://marketshare.hitslink.com/>, then they lump the iPhone browser in with Safari, but you can see it in the OS share stats

[14:17:00.0000] <othermaciej>
(you can also see Nintendo Wii in the OS share stats)

[14:17:01.0000] <Hixie>
ah, so they do

[14:17:02.0000] <Hixie>
but those don't appear on the line graph

[14:17:03.0000] <Hixie>
pah

[14:17:04.0000] <Hixie>
do you know if there's a way to download those numbers without site scraping?

[14:17:05.0000] <hsivonen>
/me reads old Joel Strategy Letters over supper

[14:17:06.0000] <Philip`>
Oops, I missed the bit where the algorithm does useful stuff if you regenerate the structure without any registrationmarks

[14:18:00.0000] <hsivonen>
(they should be required reading)

[14:18:01.0000] <Hixie>
or without downloading each page in turn?

[14:18:02.0000] <Hixie>
hsivonen: uris?

[14:18:03.0000] <Hixie>
Philip`: that was the Levenberg breakthrough. :-)

[14:19:00.0000] <hsivonen>
Hixie: http://www.google.fi/search?q=site%3Ajoelonsoftware.com+strategy+letter top six hits

[14:19:01.0000] <Hixie>
(btw for what it's worth i can confirm that these marketshare.hitslink.com stats are remarkably high quality)

[14:19:02.0000] <Hixie>
hsivonen: aha

[14:20:00.0000] <hsivonen>
HTML5 (unlike XHTML2) gets plugging into existing network right

[14:22:00.0000] <hsivonen>
Hixie: btw, what ARIA has going for it over HTML5 plus XBL is that ARIA doesn't disrupt existing systems

[14:25:00.0000] <othermaciej>
Hixie: they do show a surprising amount of month-to-month variance which seems unlikely to reflect real changes in user base in at least some cases, but since it's based on usage, not count of unique users, I guess that could just reflect variability in browsing habits

[14:25:01.0000] <othermaciej>
Joel's letter # VI confuses me

[14:26:00.0000] <othermaciej>
afaik Google has at least two systems that compile languages down to JavaScript (with the source languages being Java and JavaScript respectively)

[14:26:01.0000] <hsivonen>
othermaciej: yeah, I noticed that he didn't mention GWT

[14:27:00.0000] <othermaciej>
there's also less reason on the web for a single library-level SDK to dominate, since there is no bundling/integration issue

[14:40:00.0000] <hsivonen>
btw, http://marketshare.hitslink.com/report.aspx?qprid=2 must be heavily U.S.-biased

[14:40:01.0000] <hsivonen>
there's no way the iPhone could have more market share than S60 globally

[14:41:00.0000] <hsivonen>
http://vowe.net/archives/008814.html

[14:42:00.0000] <othermaciej>
hsivonen: it's usage share, so it's possible if iPhone users browse a lot more per user

[14:45:00.0000] <othermaciej>
I guess WinCE shows up pretty high too though

[14:46:00.0000] <Hixie>
iPhone users use the web way more than any other cell phone

[14:47:00.0000] <Hixie>
hsivonen: as i understand it it's not HTML5+XBL vs <div>+ARIA, it's HTML5 vs <div>+ARIA

[14:48:00.0000] <Hixie>
hsivonen: the XBL is only required if you want to start making custom new widgets, which isn't anywhere near as important in this case afaict

[14:49:00.0000] <hsivonen>
Hixie: ARIA is about retrofitting custom JS+div widgets with accessibility if I've understood correctly

[14:52:00.0000] <hsivonen>
Hixie: XBL is also required if you want to make native HTML5 widgets looks kewl the way your art dept required

[14:52:01.0000] <Philip`>
http://philip.html5.org/demos/datatemplate/experimental/002.html - now somewhat more elaborate and even more likely to be wrong

[14:52:02.0000] <Philip`>
What'd be really nice is a scripted implementation to test things with :-)

[14:53:00.0000] <Hixie>
hsivonen: yeah

[14:53:01.0000] <Philip`>
Oops, I think the <rule condition="categories"><nest filter="category"></rule> is unnecessary

[14:54:00.0000] <Philip`>
(but the <rule condition="items" mode="summary"><nest id="item_filter" mode="summary"></rule> is still necessary)

[14:54:01.0000] <Hixie>
Philip`: dude, you kick ass. this is exactly what we need to check the spec makes sense.

[14:54:02.0000] <Hixie>
002 has two item_filter IDs

[14:55:00.0000] <Hixie>
also, holy crap, i hadn't thought of modifying the <nest> dynamically

[14:55:01.0000] <Hixie>
that's awesome

[14:55:02.0000] <Hixie>
the spec will have to say the UA must monitor the template, too

[14:55:03.0000] <hsivonen>
Hixie: as far as I can tell, if someone replaces HTML 4.01 buttons, radio buttons and checkboxes with divitis, they'll going to want to do the same with sliders even when those are natively available

[14:56:00.0000] <Philip`>
Fixed item_filters

[14:56:01.0000] <Hixie>
hsivonen: yeah, can't argue with that

[14:56:02.0000] <Hixie>
hsivonen: let's hope xbl2 gets implemented soon :-/

[14:57:00.0000] <othermaciej>
some of the kewlness can be achieved just through CSS styling of standard controls

[14:57:01.0000] <othermaciej>
although browsers vary in how much of that they allow

[14:57:02.0000] <othermaciej>
it's doable for buttons and text fields, but not really for checkboxes or radio buttons afaict

[14:58:00.0000] <Hixie>
yeah

[15:00:00.0000] <othermaciej>
you can style them in Safari 3 by setting "-webkit-appearance: none" but I don't think there is any way in IE

[15:06:00.0000] <Hixie>
did i get unsubscribed from public-html or something

[15:06:01.0000] <Hixie>
there's been no e-mail to it for hours

[15:10:00.0000] <jgraham>
Hixie: It's been surprisingly quiet

[16:42:00.0000] <copper>
Hi

[16:42:01.0000] <copper>
"Please leave your sense of logic at the door"?

[16:43:00.0000] <Hixie>
hi copper 

[16:43:01.0000] <Hixie>
Philip`: so my original idea was to have bla{input::attr(value)}bla sort of stuff

[16:43:02.0000] <Hixie>
Philip`: but i'm not a big fan of that either

[16:47:00.0000] <Hixie>
i do kind of like the JS idea

[16:47:01.0000] <Hixie>
maybe we can say that any mutations of the DOM during expansion will cause the entire thing to abort

[16:50:00.0000] <Hixie>
Philip`: your 002 has an error -- your onchange should not be in &{}

[16:50:01.0000] <Hixie>
interesting error though. might well be common.

[16:50:02.0000] <Philip`>
Would implementors find it easier to detect and abort from DOM mutations than to make the algorithm interruptible on a timeout?

[16:51:00.0000] <copper>
People can't really serve their documents as XHTML because of MSIE... Since Microsoft doesn't support the development of (X)HTML5, does it mean that XHTML is definitely out of the window?

[16:51:01.0000] <Hixie>
Philip`: implementors have to detect DOM mutations anyway for other parts of the algorithm

[16:51:02.0000] <Hixie>
also, your data tree is non-compliant -- <div>s can't contain <shop>s

[16:51:03.0000] <Hixie>
copper: not definitely, but for now, certainly, i wouldn't recommend using XHTML

[16:51:04.0000] <Philip`>
(They'd have to support &{while(1);} too, so it doesn't seem obvious that they couldn't recover from infinite loops elsewhere)

[16:52:00.0000] <copper>
Hixie: on practical ground, not technical grounds, right?

[16:52:01.0000] <Philip`>
(or at least it doesn't seem obvious to me, but then I've never written a web browser and don't intend to :-) )

[16:52:02.0000] <Hixie>
copper: on practical technical grounds, right, as opposed to theoretical ones

[16:52:03.0000] <copper>
:(

[16:53:00.0000] <Hixie>
copper: but don't worry, we're working on html5, so html won't be left behind

[16:53:01.0000] <Hixie>
Philip`: catching an infinite loop in your own code is a lot harder than catching it in code you are running in a sandbox

[16:53:02.0000] <copper>
Good for you, but I was hoping XHTML would win eventually

[16:53:03.0000] <Hixie>
copper: well, it might eventually, if IE loses more market share or implements XHTML

[16:54:00.0000] <Hixie>
copper: HTML5 and XHTML5 are being developed in lockstep

[16:54:01.0000] <Philip`>
Hixie: I assume I'd have to use X(HT)ML to make it not non-conformant HTML, so I'm happy to neglect conformance for convenience as long as it works :-)

[16:54:02.0000] <Hixie>
copper: so we're agnostic as to which one succeeds

[16:54:03.0000] <Hixie>
Philip`: well, you'll probably have to use XML for the datatemplate anyway

[16:54:04.0000] <Hixie>
Philip`: e.g. your <rule condition="category"><option ...></rule> rule will probably not parse as you'd expect

[16:55:00.0000] <Hixie>
same as your <select> <nest/> </select>

[16:55:01.0000] <copper>
That's good, but it doesn't give people the choice to serve XHTML, because we are still dependent on browser vendors...

[16:55:02.0000] <Philip`>
Hmm, I guess that means I'll have to give up the convenience :-(

[16:55:03.0000] <Hixie>
copper: yup, not much we can do about that from the specs side of things :-)

[16:56:00.0000] <copper>
*sigh*

[16:56:01.0000] <Philip`>
except this is a non-working demonstration, so I can keep the convenience even though it wouldn't actually work in reality :-)

[16:56:02.0000] <Hixie>
Philip`: yeah, i don't expect to have <datatemplate> ever work in HTML5 without external files for the template at least (and the data, if the data isn't in HTML)

[16:56:03.0000] <Hixie>
(though the data could easily be in HTML, e.g. using <ol>, maybe marked up as a microformat)

[16:56:04.0000] <Philip`>
(Fixed the onchange)

[16:57:00.0000] <copper>
Hixie: do you know from experience if an X(HT)ML-only browser would be faster than an HTML/XHTML one?

[16:57:01.0000] <Hixie>
copper: wouldn't make any difference in speed

[16:58:00.0000] <copper>
just code complexity?

[16:58:01.0000] <copper>
or not even that?

[16:58:02.0000] <copper>
(on the browser's side I mean)

[16:58:03.0000] <Hixie>
copper: it's almost entirely the same code, except for the parser, which is just different, not especially more or less complex or slower or faster, and not even that different really

[16:58:04.0000] <copper>
I would have thought a tag-soup parser would be much more complex?

[16:59:00.0000] <Hixie>
not really

[16:59:01.0000] <Hixie>
and xml is pretty complex to parse itself anyway


2007-09-20
[17:00:00.0000] <copper>
I'm a little concerned that if browsers continue to be conservative in error handling people will keep generating terrible code

[17:01:00.0000] <Hixie>
copper: html5 defines exactly what the error handling should be

[17:01:01.0000] <Hixie>
copper: and people will keep generating terrible code regardless of what browsers do

[17:01:02.0000] <Hixie>
copper: even if the code is forced to be syntactically correct, that doesn't guarentee it'll be semantically correct

[17:01:03.0000] <copper>
Even more so: people will be able to count on browsers handling their errors silently

[17:02:00.0000] <Hixie>
they already can

[17:02:01.0000] <Hixie>
Philip`: one advantage of having them be external files is that it makes it easier to build shims for IE, btw

[17:02:02.0000] <copper>
differences between browsers arise, which if I understand correctly, won't be the case with HTML5

[17:03:00.0000] <Hixie>
copper: there'll still be bugs

[17:05:00.0000] <copper>
hehe, I guess one can always count on software being buggy :)

[17:05:01.0000] <copper>
I don't have to worry about HTML5 before firefox 3.0 / opera 10 though, right?

[17:05:02.0000] <Hixie>
you don't ever have to _worry_ about html5, hopefully :-)

[17:05:03.0000] <copper>
lol

[17:05:04.0000] <Hixie>
parts of html5 are already implemented in browsers

[17:05:05.0000] <Hixie>
other parts won't be implemented for a decade or more

[17:05:06.0000] <Hixie>
if ever

[17:05:07.0000] <copper>
yeah I remember reading something about it

[17:07:00.0000] <copper>
hmmm... "XHTML content can be parsed with a simpler parser than tag soup can, and a _much_ simpler parser than SGML can."

[17:07:01.0000] <copper>
changed your mind, or did I misunderstand you?

[17:08:00.0000] <copper>
http://www.hixie.ch/advocacy/xhtml

[17:09:00.0000] <Hixie>
changed my mind :-)

[17:09:01.0000] <Hixie>
that was written before we had a spec for html5

[17:09:02.0000] <Dashiva>
Makes me wonder... is xml+namespaces+allthatstuff still less than a html5 parser?

[17:11:00.0000] <Philip`>
jgraham: Your recent html5lib commit had "- return result" "+ return resutl" which looks like an odd change

[17:12:00.0000] <Hixie>
copper: (fixed)

[17:12:01.0000] <copper>
oh ok

[17:13:00.0000] <copper>
I've been out of touch with the web development word - has XHTML become a nasty word in a resume?

[17:13:01.0000] <copper>
s/word/world/

[17:13:02.0000] <copper>
s/nasty/dirty/

[17:14:00.0000] <jgraham>
Philip`: Which file?

[17:14:01.0000] <copper>
(I need to replace that brain -> fingers uplink)

[17:14:02.0000] <jgraham>
Oh, I see

[17:15:00.0000] <Philip`>
inputstream.py

[17:17:00.0000] <jgraham>
Philip`: Fixed. Thanks :)

[17:17:01.0000] <jgraham>
/me -> bed

[17:23:00.0000] <copper>
Alright, I'm off. Thanks for your insight Hixie.

[17:23:01.0000] <copper>
Good night!

[17:28:00.0000] <Philip`>
/me wonders which versions of Netscape Navigator supported the &{script}; syntax

[18:11:00.0000] <Philip`>
http://www.allwords.com/word-comma.html - what are all those &wbox; and &cir; from?

[18:13:00.0000] <Hixie>
good question

[18:35:00.0000] <Hixie>
right, updated the spec to fix some dangling ends

[18:35:01.0000] <Hixie>
only things that need resolving now are the intro (examples), and how to handle selectors and how to handle text expansion

[18:38:00.0000] <MikeSmith>
Hixie - this is the first change since Aug 24, right?

[18:39:00.0000] <MikeSmith>
hmm, commit message for rev 1019 didn't get mailed out on commit-watchers

[18:40:00.0000] <MikeSmith>
I think because it was too big

[18:41:00.0000] <MikeSmith>
As far as I can see, the largest commit message that's gone out on commit-watchers was 43KB

[18:41:01.0000] <MikeSmith>
for r1000

[18:42:00.0000] <MikeSmith>
some that kind of makes me think the list config must be set up with some limit on the size of messages

[18:43:00.0000] <MikeSmith>
40 or 45KB or something like that

[18:43:01.0000] <MikeSmith>
I seem to remember that 40KB size limit being the default in GNU Mailman

[18:44:00.0000] <Hixie>
oh yeah

[18:44:01.0000] <Hixie>
i'm sure i have a limit

[18:44:02.0000] <Hixie>
let me fix that

[18:47:00.0000] <Hixie>
increased it to 1mb

[18:48:00.0000] <MikeSmith>
Hixie - cool, thanks. Pretty sure that must be what's been responsible for certain commit messages not showing up on commit-watchers

[18:49:00.0000] <MikeSmith>
btw, are you planning to be at the November tech plenary in Boston?

[18:56:00.0000] <Hixie>
oh yeah could be

[18:56:01.0000] <Hixie>
yes, i will be attending the htmlwg f2f in boston

[18:57:00.0000] <MikeSmith>
good to hear

[19:49:00.0000] <om_sleep>
hsivonen: I like Joel's old "chicken and egg" strategy letter much more than the new one

[19:49:01.0000] <othermaciej>
or at least, I find it much more relevant to the web

[21:17:00.0000] <Lachy>
Hixie, in 3.19.6.3. The ref attribute, the paragraph beginning "If the resource has failed to parse,..."

[21:18:00.0000] <Lachy>
"failed to parse" should has title="datatemplate-template-failed" instead of title="datatemplate-ref-failed"

[21:18:01.0000] <Lachy>
s/should//

[21:58:00.0000] <Lachy>
Hixie, Philip`, that &{...} macro syntax looks similar to JSP Expression Language, which uses ${...}

[21:58:01.0000] <Lachy>
http://java.sun.com/products/jsp/syntax/2.0/syntaxref207.html

[21:59:00.0000] <othermaciej>
/me is wary of macro language microsyntaxes

[22:01:00.0000] <Lachy>
othermaciej, made any progress on the design princples?

[22:04:00.0000] <othermaciej>
Lachy: nope, but I'm about to do some editing now

[22:04:01.0000] <Lachy>
ok

[23:42:00.0000] <Hixie>
othermaciej: have you sent all the offline feedback you intend to send or is there more?

[23:43:00.0000] <Hixie>
/me 's next task is the offline storage stuff

[23:43:01.0000] <Hixie>
since i've done the template stuff first draft now

[23:43:02.0000] <othermaciej>
Hixie: it's on the todo list for tonight

[23:43:03.0000] <othermaciej>
Hixie: after I finish rewriting the next two design principles

[23:43:04.0000] <othermaciej>
I gotta tell you, I enjoy writing prose a lot less than I enjoy writing code

[23:44:00.0000] <maikmerten>
hsivonen: http://lists.xiph.org/pipermail/advocacy/2007-September/001441.html

[23:44:01.0000] <maikmerten>
(hi!)

[23:45:00.0000] <maikmerten>
(ewww... why don't I see typos/grammar mistakes *before* sending mail?)

[23:51:00.0000] <othermaciej>
Hixie: I'm reading the last few emails now

[23:52:00.0000] <othermaciej>
Hixie: I have something to say about the query string idea, but I want to make sure the follow-up emails haven't obsoleted it

[23:59:00.0000] <maikmerten>
hsivonen: http://www.annodex.net/TR/draft-pfeiffer-cmml-03.html <-- the CMML spec

[00:03:00.0000] <maikmerten>
hsivonen: and the good news is that Firefox with Chris Double's video patch is actually well-prepared for annodex/cmml as liboggplay apparently has support for it

[00:03:01.0000] <Lachy>
maikmerten, that seems complicated. It's annoying having so many different formats that do the same thing (i.e. Ogg Writ, ASS, CMML - and theyr'e just the ones I saw mentioned in those emails)

[00:04:00.0000] <maikmerten>
well, Ogg Writ is actually buried

[00:04:01.0000] <maikmerten>
so one can take that off the list

[00:04:02.0000] <maikmerten>
ASS seems to be proprietary, so similar rules apply

[00:04:03.0000] <Hixie>
othermaciej: k

[00:04:04.0000] <Lachy>
CMML seems to do more than just captioning/subtitles

[00:05:00.0000] <othermaciej>
Hixie: writing the email now about the query thing, and I'll have more to come

[00:05:01.0000] <Hixie>
k

[00:05:02.0000] <maikmerten>
Lachy: yeah, which makes it so cool

[00:05:03.0000] <Lachy>
also complicated

[00:05:04.0000] <maikmerten>
you don't have to implement all of that

[00:06:00.0000] <maikmerten>
if you want just captioning I assume you can ignore e.g. the links to other annotated media

[00:07:00.0000] <Lachy>
maikmerten, what's the Skeleton thing that was mentioned? How does it relate to CMML?

[00:08:00.0000] <Lachy>
ah http://wiki.xiph.org/OggSkeleton

[00:08:01.0000] <maikmerten>
Lachy: Skeleton is a "codec" to embed meta information about streams into Ogg

[00:09:00.0000] <maikmerten>
Ogg will carry anything and for some applications it's useful to have information in place what *exactly* is in some multiplexed Ogg thingie

[00:09:01.0000] <maikmerten>
one nice property of CMML is that it's not just Ogg only

[00:09:02.0000] <Lachy>
is there a simple diagram or flowchart that shows how the Ogg Container format, Ogg Vorbis, Ogg Theora, Ogg Skeleton, CMML and whatever else fit together?

[00:09:03.0000] <maikmerten>
(I love Ogg, but one cannot expect it to be the only game around)

[00:10:00.0000] <maikmerten>
not that I'm aware of, but here it is in a nutshell:

[00:10:01.0000] <maikmerten>
 - Ogg: simply a container, lightweight, low overhead

[00:11:00.0000] <maikmerten>
 - Ogg Skeleton: a "codec" delivered by Ogg carrying information about other encapsulated streams (MIME-type etc. and whatnot)

[00:11:01.0000] <maikmerten>
- Ogg Vorbis and Ogg Theora are the most common codecs for audio (Vorbis) and video (Theora)

[00:12:00.0000] <maikmerten>
- CMML in Ogg is "serialized" CMML embedded as multiplexed stream in Ogg

[00:15:00.0000] <maikmerten>
actually the most common video files around are plain Ogg with just Theora and Vorbis multiplexed. One does neither need Skeleton nor CMML for basic video + audio

[00:15:01.0000] <othermaciej>
Hixie: "query string" email sent

[00:15:02.0000] <Hixie>
k

[00:15:03.0000] <Hixie>
you sending the others tonight?

[00:16:00.0000] <othermaciej>
Hixie: the short version is that I find it in bad taste to special-case the query part of the URI

[00:17:00.0000] <othermaciej>
Hixie: but I think it's probably useful to have some sort of fallback mechanism for resources not in the offline cache, and you need either that or the ability to exlpicity insert data into the cache to have offline apps support editing not just viewing

[00:17:01.0000] <maikmerten>
Lachy: basically Ogg Skeleton is additional semantics for streams (low level), CMML is additional semantics on content (high level)

[00:17:02.0000] <othermaciej>
I proposed something that I think is better than special-casing the query

[00:17:03.0000] <othermaciej>
Hixie: I'll be sending more, yeah

[00:21:00.0000] <Lachy>
maikmerten, ok, so for example. If I wanted a video with 2 main audio tracks and a director commentary track and a captions for each, I would use Vorbis for the main audio, probably Speex for the commentary, CMML for each of the caption/subtitle tracks...

[00:21:01.0000] <maikmerten>
Lachy: yes

[00:21:02.0000] <Lachy>
and then use Skeleton to describe each of those (i.e. language, etc.)

[00:22:00.0000] <Lachy>
then pack it all up in an ogg container

[00:22:01.0000] <maikmerten>
well, Skeleton is auto-generated

[00:22:02.0000] <Hixie>
othermaciej: k then i'll go to bed now and start writing tomorrow

[00:22:03.0000] <Hixie>
nn

[00:22:04.0000] <maikmerten>
but right, that's the general setup

[00:22:05.0000] <othermaciej>
Hixie: all righty

[00:22:06.0000] <maikmerten>
and if annodex.net wouldn't be down I'd now point you to the user tools existing to actually do just that ;)

[00:23:00.0000] <Lachy>
are the tools easy to use?

[00:24:00.0000] <Lachy>
one of the big problems with ogg at the moment is that mainstream authoring tools don't support it.

[00:25:00.0000] <othermaciej>
Hixie: I'm still having a bit of trouble following the use of the 'new cache' flag in your second proposal

[00:25:01.0000] <Lachy>
I've made Ogg videos in the past by outputting MPEG4 from Adobe Premiere and then using ffmpeg2theora to convert it, which is annoying

[00:26:00.0000] <maikmerten>
well, ffmpeg2theora is the best known way, but there are actually GUI driven convertes by now

[00:26:01.0000] <maikmerten>
plus if you have e.g. the QuickTime components installed your iMovie-Apple thingie e.g. can suddenly export Ogg

[00:26:02.0000] <Lachy>
any available for Windows?

[00:27:00.0000] <maikmerten>
Lachy: several. http://wiki.xiph.org/index.php/TheoraSoftwareEncoders

[00:27:01.0000] <Lachy>
my Mac isn't powerful enough to do much video encoding and I don't particularly like iMovie

[00:28:00.0000] <maikmerten>
:)

[00:29:00.0000] <maikmerten>
many frontends to Theora don't expose all interesting tuning parameters, though - which is why I usually still use ffmpeg2theora

[00:29:01.0000] <maikmerten>
and in worst case there's always http://mux.am/ ;)

[00:32:00.0000] <Lachy>
hmm. having lots of parameters can be useful, but it's a pain for anyone that just wants to say convert myvideo.mov to Ogg. It took me a little while to figure out which settings worked best.

[00:34:00.0000] <Lachy>
I tried using VLC to do it once, but it just crashed

[00:36:00.0000] <maikmerten>
well, VLC apparently also doesn't get the Ogg muxing right

[00:36:01.0000] <maikmerten>
I added a warning to the wiki

[00:55:00.0000] <maikmerten>
hi doublec 

[00:56:00.0000] <hsivonen>
maikmerten: thank you

[00:57:00.0000] <maikmerten>
you're welcome :)

[00:57:01.0000] <hsivonen>
I get the impression that this area is being worked on but not quite there yet, as the people on the advocate list didn't have a single canned solution

[01:04:00.0000] <maikmerten>
well, CMML is ready and in use, it's just that it isn't a "caption-only" thing

[01:04:01.0000] <hsivonen>
it seems to me that one foreseeable issue with closed captioning and closed audio description is that for content provider buy-in, content providers need to be reasonably confident that the "closed" tracks don't play with browser defaults

[01:05:00.0000] <maikmerten>
aye

[01:06:00.0000] <hsivonen>
maikmerten: the CmmlSubtitles wiki page gives the impression that CMML captioning/subtitles aren't done yet

[01:06:01.0000] <maikmerten>
this is sorta confusing, yes

[01:07:00.0000] <maikmerten>
I'll better request if there e.g. are demo files

[01:07:01.0000] <maikmerten>
read: a real-life working solution

[01:08:00.0000] <hsivonen>
since this is confusing, I think it would be good for the spec to have a note pointing to the Right Way once the stakeholders agree what the right way is

[01:08:01.0000] <hsivonen>
the HTML 5 spec, that is

[01:09:00.0000] <maikmerten>
yeah

[01:11:00.0000] <maikmerten>
if HTML 5 raises special needs for captioning it may make sense to e.g. have a list of requirements to be met somewhere

[01:11:01.0000] <maikmerten>
if captioning in CMML isn't set in stone yet it should be possible to make sure the spec turns out well-shaped for those needs

[01:12:00.0000] <Lachy>
maikmerten, does VLC support captions made with CMML?

[01:15:00.0000] <maikmerten>
Lachy: well, VLC supports CMML since 2004, but I don't know to what extend

[01:16:00.0000] <maikmerten>
the cmml code hooks e.g. into the OSD code - which may be used for captions

[01:16:01.0000] <maikmerten>
http://www.videolan.org/developers/vlc/doc/doxygen/html/cmml_8c.html

[01:28:00.0000] <hsivonen>
does the cmml code do its own cross-platform text layout or is text layout and compositing the responsibility of the player application?

[01:48:00.0000] <kfish>
hi

[01:48:01.0000] <kfish>
hsivonen, it's the responsibility of the player

[01:49:00.0000] <kfish>
http://trac.annodex.net/wiki/CmmlStyleSheets

[01:50:00.0000] <hsivonen>
kfish: ok. 

[01:51:00.0000] <kfish>
it would probably be good to spec that up together with html5

[01:52:00.0000] <kfish>
we designed cmml to use existing xhtml4(?) modules where possible

[01:52:01.0000] <hsivonen>
CMML looks rather complex. there have already been question of reinventing SMIL

[01:52:02.0000] <kfish>
hmm, cmml is pretty simple, and the goals are different to those of smil

[01:54:00.0000] <hsivonen>
it looks like supporting captioning will involve more in a browser than just flipping a switch in an off-the-shelf library :-/

[01:54:01.0000] <hsivonen>
whereas one might hope that implementing audio descriptions would be a matter of conditionally playing an audio track based on prefs and metadata

[01:55:00.0000] <kfish>
ok, so for just getting caption text without styling it, using plain cmml is fine

[01:55:01.0000] <hsivonen>
good

[01:56:00.0000] <kfish>
so eg. xine will just display the contents of the <desc> tag as a caption, without styling

[01:58:00.0000] <kfish>
an earlier annodex firefox extension displayed a line of plain text under the video

[01:58:01.0000] <kfish>
a symbian browser we did just displayed on-screen as a caption

[02:06:00.0000] <hsivonen>
http://wiki.whatwg.org/wiki/Video_accessibility

[02:06:01.0000] <hsivonen>
I wrote up the issues without solutions as a wiki page

[02:55:00.0000] <hsivonen>
http://html4all.org/pipermail/list_html4all.org/2007-September/000349.html

[03:01:00.0000] <hsivonen>
I wonder if there's an existing practice of shoehorning URLs into the GNU error format that expects filenames that cannot contain the colon

[03:06:00.0000] <zcorpan>
hsivonen: re the link above; that's exactly what i've noted as well, and i think we would be better off if browsers treated all positive values as 0 and only 0 and -1 were conforming

[03:08:00.0000] <hsivonen>
zcorpan: is email about that already logged in the whatwg archives?

[03:08:01.0000] <zcorpan>
i think so, or something along those lines anyway

[03:08:02.0000] <hsivonen>
ok

[03:09:00.0000] <othermaciej>
it seems like tabindex can be useful in theory if the visual order of things is different than the source order

[03:09:01.0000] <othermaciej>
but the visual order is controlled by CSS, not markup

[03:10:00.0000] <othermaciej>
so it would be wrong to have tab indices tied to the presumed visual order in the markup

[03:10:01.0000] <othermaciej>
but it might be useful to say you want tabbing to prefer the onscreen visual order of controls

[03:10:02.0000] <zcorpan>
othermaciej: even if you want to change the order, tabindex as implemented doesn't work the way authors think it works

[03:11:00.0000] <othermaciej>
zcorpan: what is the point of author confusion (besides just not realizing that it's usually not necessary)?

[03:12:00.0000] <zcorpan>
don't ask me, i didn't spec it in html4 :)

[03:12:01.0000] <othermaciej>
zcorpan: the feature I would propose would be to express a preference for visual or source order for the next control, but still let the UA build the tab loop

[03:12:02.0000] <hsivonen>
othermaciej: wouldn't it be better to leave the visual tab order to the UAs spatial navigation algorithm?

[03:12:03.0000] <othermaciej>
zcorpan: I'm not sure what you mean by "tabindex as implemented doesn't work the way authors think it works"

[03:13:00.0000] <zcorpan>
othermaciej: elements with tabindex come first in the taborder, before any elements that are before them in the source

[03:13:01.0000] <othermaciej>
hsivonen: I guess the only problem with source order that is actually at all likely to come up is when you use layout tables

[03:14:00.0000] <othermaciej>
zcorpan: ah yes, that seems bad, since it makes tabindex viral

[03:14:01.0000] <hsivonen>
othermaciej: or, in theory, wild CSS positioning

[03:14:02.0000] <othermaciej>
hsivonen: yeah, but wild CSS positioning seems less likely to put individual controls out of order

[03:14:03.0000] <othermaciej>
as opposed to, say, a two-column layout table with two forms to fill out, each made of multiple rows

[03:15:00.0000] <othermaciej>
the CSS ways to lay that out would leave the controls of each individual form in order

[03:16:00.0000] <othermaciej>
I'm trying to think about non-obvious tab orders that may be desirable

[03:16:01.0000] <othermaciej>
you might want a sidebar on the left to be in the tab cycle after some form content in the main area

[03:17:00.0000] <othermaciej>
but that only requires the ability to say where to start

[03:17:01.0000] <othermaciej>
maybe the ability to give the start position and to possibly give the tab index of the next control would do for such cases

[03:17:02.0000] <othermaciej>
tabnext="ID"

[03:18:00.0000] <hsivonen>
here's an example of a page that micromanages tab order and often manages to annoy me for it: http://aikataulut.ytv.fi/reittiopas/en/

[03:18:01.0000] <hsivonen>
if I want to tab around, I want to enter a target time

[03:19:00.0000] <hsivonen>
if I just want to submit after entering the start and end addresses, I just press enter

[03:19:01.0000] <othermaciej>
ah

[03:19:02.0000] <othermaciej>
it didn't annoy me in Safari since buttons are not keyboard focusable by default

[03:20:00.0000] <othermaciej>
that is indeed an annoying tab order

[03:26:00.0000] <hsivonen>
btw, the result pages for that service could benefit from an attribute that vehemently asserts that a table is not a layout table and shouldn't be linearized

[03:32:00.0000] <othermaciej>
do they otherwise look like layout tables?

[03:33:00.0000] <othermaciej>
it seems to use TD elements for headers, I guess that's bad

[03:43:00.0000] <hsivonen>
othermaciej: it is good to linearize all other tables except the table that shows the suggested routes

[03:48:00.0000] <othermaciej>
I wonder if the html4all list is the reason for reduced public-html email traffic

[04:42:00.0000] <hendry>
oversimplying greatly: there is to types of writing standards. writing standards when none exists

[04:42:01.0000] <hendry>
what is that called?

[04:43:00.0000] <hendry>
then there is whatwg style, studying existing implementations.

[04:43:01.0000] <hendry>
just wondering what the catch line is for these approaches

[05:08:00.0000] <zcorpan>
/me likes othermaciej's shortcutkey proposal

[05:10:00.0000] <othermaciej>
zcorpan: pleased to hear it

[05:14:00.0000] <hsivonen>
btw, I've seen 0-9 access keys presented visually on sites that "helpfully" sniff that I'm using a phone to browse. I haven't yet even learned how to use numeric access keys in S60 Browser or Opera for Mobile...

[05:15:00.0000] <hsivonen>
just scrolling around as usual seems to be a more effective cross-site strategy than learning what the shortcuts are on a particular site--especially if they are documented at the bottom of the page as on CNN, so once you get to the access keys, you've already scrolled through the whole page the usual way

[05:28:00.0000] <zcorpan>
hsivonen: but if you visit cnn often then you might remember the shortcuts and use them

[05:28:01.0000] <hsivonen>
othermaciej: your shortcut key proposal looks good to me, except it lacks graceful degradation to 0-9 accesskeys

[05:29:00.0000] <othermaciej>
hsivonen: you mean literally using the accesskey attribute?

[05:29:01.0000] <othermaciej>
hsivonen: it doesn't conflict with also using accesskey="1", although it doesn't help you there either

[05:31:00.0000] <hsivonen>
othermaciej: I didn't have any particular solution in mind

[05:31:01.0000] <hsivonen>
othermaciej: but yeah, using also the accesskey attribute would work for legacy UA support

[05:32:00.0000] <othermaciej>
also using accesskey works for legacy UAs

[05:32:01.0000] <othermaciej>
if you mean just working on HTML5 UAs on devices that only offer 0-9, I think that is adequately covered

[05:32:02.0000] <zcorpan>
i wonder if it would work to hijack the accesskey attribute

[05:33:00.0000] <othermaciej>
I suspect including multiple space-separated items would make accesskey ineffective in current UAs

[05:34:00.0000] <othermaciej>
and you need either that or no value provided to make nice shortcuts on both desktop and mobile

[05:34:01.0000] <zcorpan>
true, but that would be an extension to accesskey

[05:34:02.0000] <zcorpan>
that it breaks in legacy uas doesn't seem like a showstopper to me

[05:35:00.0000] <Lachy>
it's a reasonable proposal, it certainly fixes many of the problems with accesskey

[05:35:01.0000] <zcorpan>
since the current best practice is to not use accesskey at all, aiui

[05:35:02.0000] <hsivonen>
interestingly, 0-9 accesskey map to bare keys in Opera for Mobile, which more often gets sniffed as a full content browser, but they don't in S60 browser which more often gets sniffed as a mobile browser eligible for "mobile content"

[05:35:03.0000] <othermaciej>
if you're going to break in legacy UAs anyway, you may as well use a different name

[05:35:04.0000] <zcorpan>
othermaciej: but some sites already use accesskey

[05:36:00.0000] <zcorpan>
othermaciej: it would be nice to just make them DTRT

[05:36:01.0000] <Lachy>
I really like the idea of using a different name too, accesskey should be forbidden and UAs should start to turn off support for it (at least by default)

[05:37:00.0000] <othermaciej>
zcorpan: true, but there's no way to solve the "lack of a good label" problem, and that actually makes it harder to use both shortcutkey for new UAs and accesskey for downlevel support

[05:37:01.0000] <zcorpan>
othermaciej: right, indeed

[05:38:00.0000] <othermaciej>
also taking access out of the name will stop people from thinking it is just for accessibility and therefore make them more likely to use it effectively

[05:38:01.0000] <othermaciej>
which will in the end likely aid accessibility

[05:38:02.0000] <othermaciej>
despite advertising it less

[05:39:00.0000] <hsivonen>
comparing S60 browser and Opera for Mobile, I'm inclined to think that for the accesskeyless real Web out there, taking the bare keys to the UA is the better way

[05:39:01.0000] <Lachy>
would shortcutkey="" only be allowed on <command> elements?

[05:39:02.0000] <zcorpan>
btw, doesn't DOMFocusIn bubble?

[05:40:00.0000] <othermaciej>
it could be only on <command>, or on any command elements

[05:40:01.0000] <othermaciej>
also it would be defined to activate, unlike accesskey which in theory per spec is supposed to focus (I guess I forgot to mention that because I forgot accesskey does that)

[05:41:00.0000] <zcorpan>
"Pressing an access key assigned to an element gives focus to the element. The action that occurs when an element receives focus depends on the element. For example, when a user activates a link defined by the A element, the user agent generally follows the link."

[05:41:01.0000] <zcorpan>
hmm

[05:42:00.0000] <othermaciej>
yeah, it seems confused about the distinction between focus and activation

[05:42:01.0000] <Lachy>
maybe the attribute could just be called shortcut="" or key="", since shortcutkey="" seems a little long

[05:43:00.0000] <othermaciej>
I thought of both of those, and they seemed to me like they could be confused with other things, but I don't feel strongly either way

[05:43:01.0000] <Lachy>
XHTML2 uses <access key="">

[05:44:00.0000] <othermaciej>
great, we could align with XHTML2 then :-)

[05:44:01.0000] <othermaciej>
except with <command> instead of access

[05:44:02.0000] <othermaciej>
I suppose this might arguably make it useful to make a focus command type, so you can declare a shortcut key to focus a control in a way that works with script disabled or unavailable

[05:45:00.0000] <Lachy>
I think, if I understand it correctly, XHTML2 could provide multiple access keys using multiple <access> element with the targetid="" pointing to the same target.  Using a space separated attr is so much easier

[05:48:00.0000] <Lachy>
another way to improve shortcut keys (although this is really an implementation detail) is for browsers to provide a special Web App mode where the web application is treated more like a native app and the browser's own keyboard shortcuts don't apply for that window

[05:49:00.0000] <Lachy>
... so Ctrl+N on Gmail could, for example, mean compose new message, rather than open new window

[05:54:00.0000] <Lachy>
should we allow authors to recommend modifier keys?  e.g. <command shortcutkey="Control+N" (where Control, Alt, Shift, etc. are the names of the modifier keys defined in DOM3 Events)

[05:55:00.0000] <Lachy>
it would make sense if web apps or even widgets (like Dashboard) can be treated more like native apps

[06:03:00.0000] <othermaciej>
Lachy: recommending modifiers would probably only be useful in contexts where there aren't already keyboard shortcuts to conflict with (like a hypothetical app mode)

[06:03:01.0000] <othermaciej>
Lachy: also preferred shortcut modifiers vary with platform

[06:04:00.0000] <othermaciej>
Control is the normal shortcut modifier on Windows and Linux but is almost never used for keyboard shortcuts on the Mac (Command is the most common modifier)

[06:04:01.0000] <othermaciej>
Command usually maps to "Meta" in the DOM3 Events sense

[06:05:00.0000] <Lachy>
I thought Command would map to Control

[06:05:01.0000] <othermaciej>
no, Control maps to Control

[06:05:02.0000] <othermaciej>
Option maps to Alt

[06:05:03.0000] <Lachy>
oh right.

[06:05:04.0000] <othermaciej>
Shift maps to Shift

[06:05:05.0000] <othermaciej>
that only leaves one modifier :-)

[06:06:00.0000] <othermaciej>
anyway, ability to request specific modifiers could be compatibly added to the basic version

[06:07:00.0000] <othermaciej>
you could have <command shortcutkey="Control+N n 1"> for control-N, anything with N, anything with 1 or anything whatsoever in that preference order

[06:07:01.0000] <Lachy>
yeah, that's what I was thinking

[06:08:00.0000] <othermaciej>
but I'm not sure you could get into modifiers without encouraging sites to be overly device- and platform-specific

[06:08:01.0000] <othermaciej>
bedtime for me

[06:09:00.0000] <Lachy>
bye

[07:44:00.0000] <zcorpan>
funny that apache doesn't have a proper html parser for extracting <title>s: http://simon.html5.org/test/html/parsing/fragment/content-model-flag/

[08:08:00.0000] <Lachy>
zcorpan, that's because HTML4 didn't define <title> as a CDATA or RCDATA element

[08:17:00.0000] <zcorpan>
Lachy: could be

[09:32:00.0000] <zcorpan>
wrt shortcut keys, it might be good to have a way to express the semantics of some more common commands, such as undo, copy, etc, instead of specific keys

[09:32:01.0000] <zcorpan>
so the ua can provide the platform neutral shortcuts to those commands

[09:33:00.0000] <zcorpan>
s/neutral/specific/

[09:44:00.0000] <zcorpan>
ooh, firefox supports contenteditable now

[09:55:00.0000] <aaronlev>
hi Lachy 

[09:55:01.0000] <aaronlev>
Lachy: checkboxtristate was killed a while ago in ARIA, but the publicly available specs haven't been updated

[09:55:02.0000] <Lachy>
hi

[09:57:00.0000] <zcorpan>
...or at least the content attribute, .contentEditable seems to be unsupported

[09:58:00.0000] <aaronlev>
Lachy: also i sent an email to public-html with a FAQ on ARIA in HTML, to address some concerns i often see raised

[09:58:01.0000] <Lachy>
ok

[10:04:00.0000] <Lachy>
I like this "If and when HTML 5+ is ubiquitous and JavaScript websites and toolkits move to that, then eventually ARIA can be deprecated."

[10:04:01.0000] <Lachy>
at least it seems I was right about ARIA being a short term band-aid solution

[10:06:00.0000] <aaronlev>
well, i should modify that statement

[10:06:01.0000] <aaronlev>
we still need a solution for accessible custom widgets

[10:07:00.0000] <aaronlev>
like XBL, and it needs to be ubiquitous

[10:07:01.0000] <aaronlev>
developers always want to make their own widgets

[10:07:02.0000] <aaronlev>
even when there are perfectly good ones available

[10:07:03.0000] <aaronlev>
it's just the reality about developers

[10:07:04.0000] <aaronlev>
buti can see that a better soluition than ARIA would be XBL

[10:07:05.0000] <aaronlev>
for custom widgets

[10:09:00.0000] <aaronlev>
having HTML 5 everywhere drastically removes the most common use cases for ARIA

[10:09:01.0000] <aaronlev>
but not all of the use cases

[10:09:02.0000] <aaronlev>
and we don't know when HTML 5 will be so ubiquitious that developers mosty move to that for advanced widgets

[10:09:03.0000] <aaronlev>
could be 5-7 years, if you look at CSS 2

[10:09:04.0000] <aaronlev>
short term" is not what i would call that exactly

[10:13:00.0000] <zcorpan>
what is the status of the DOMFocusIn/DOMFocusOut events?

[10:14:00.0000] <aaronlev>
dead afaict

[10:14:01.0000] <zcorpan>
pity; bubbling focus/blur events would have been useful

[10:15:00.0000] <zcorpan>
e.g. for having a js implementation of placeholder=""

[10:15:01.0000] <aaronlev>
zcorpan: it might be impl'd by some browsers, but do you care about anything that doesn't work in IE?

[10:18:00.0000] <aaronlev>
Lachy: actually i see that i did say that in the next paragraph 

[10:32:00.0000] <zcorpan>
aaronlev: yes, e.g. i care about canvas, svg, wf2

[10:33:00.0000] <zcorpan>
the events seem to be implemented in safari and opera, at least

[10:34:00.0000] <aaronlev>
i see code for it in firefox, but it looks only impl'd fo xforms

[10:38:00.0000] <aaronlev>
and i don't see a bug filed for domfocusin

[10:38:01.0000] <aaronlev>
you could file a bug and see what happens

[10:38:02.0000] <zcorpan>
ok

[10:39:00.0000] <aaronlev>
mentioing briefly that it works in opera and safari, and why it's useful would be alright

[10:39:01.0000] <zcorpan>
yeah

[11:05:00.0000] <zcorpan>
filed https://bugzilla.mozilla.org/show_bug.cgi?id=396927

[11:13:00.0000] <zcorpan>
hmm, safari doesn't support the .placeholder dom attribute

[11:14:00.0000] <zcorpan>
makes it hard to check for native support with script

[11:28:00.0000] <aaronlev>
hsivonen: i sent that faq in

[11:29:00.0000] <aaronlev>
w/ proposal

[11:29:01.0000] <aaronlev>
no responses yet

[11:30:00.0000] <hsivonen>
aaronlev: looks good

[11:53:00.0000] <othermaciej>
zcorpan: I think Safari fires both onfocus/onblur and DOMFocusIn/DOMFocusOut for all focus changes (could be wrong though)

[11:53:01.0000] <othermaciej>
zcorpan: placeholder DOM attribute on what?

[11:54:00.0000] <othermaciej>
zcorpan: oh, reflecting the content attribute

[11:57:00.0000] <zcorpan>
othermaciej: ok. i think per the spec, focus and blur should only be fired for html form controls (but firing for any focussable element seems more useful)

[11:58:00.0000] <zcorpan>
worked around that the placeholder was masked for password fields: http://simon.html5.org/sandbox/js/placeholder-demo.htm

[11:59:00.0000] <zcorpan>
now there's no difference from webkit's native impl, afaict

[12:29:00.0000] <aaronlev>
zcorpan: yeah these days it should be fired for anything focusable, especially with the html5 changes to tabindex

[12:30:00.0000] <zcorpan>
aaronlev: ok, good :)


2007-09-21
[19:09:00.0000] <Hixie>
http://lists.w3.org/Archives/Member/w3c-ac-members/2007JulSep/0060.html

[19:09:01.0000] <Hixie>
someone should probably tell them about <video>

[19:27:00.0000] <doublec>
Hixie: definitely

[21:06:00.0000] <Hixie>
aa: yt?

[21:06:01.0000] <Hixie>
crap, i need othermaciej

[22:44:00.0000] <Hixie>
grr

[22:44:01.0000] <Hixie>
/me runs into all sorts of edge cases with the offline storage stuff

[23:16:00.0000] <Hixie>
"I'll try to find another way to get an update on design principles draft 

[23:16:01.0000] <Hixie>
status, spec review, issue tracking, and such."

[23:17:00.0000] <Hixie>
/me doesn't understand what DanC needs that he doesn't get from reading e-mail

[01:35:00.0000] <Lachy>
I wonder why the W3C set up member-video instead of public-video

[01:38:00.0000] <Lachy>
it would probably be a good idea to get some HTMLWG representatives involved in that work

[01:47:00.0000] <Hixie>
the summary="" attribute video is interesting

[01:48:00.0000] <Hixie>
he makes a comment about how he has hit so many sites that use it incorrectly that he just doesn't use it anymore

[01:49:00.0000] <Hixie>
(stuart does, that is)

[04:28:00.0000] <Hixie>
/me mails his latest offline proposal to the list

[04:28:01.0000] <Hixie>
/me goes to sleep

[04:29:00.0000] <zcorpan>
nn Hixie

[04:39:00.0000] <hsivonen>
interesting. I'm seeing a bogus YSoD in Gecko on Maemo but not on desktop

[04:41:00.0000] <zcorpan>
hsivonen: for what page?

[04:44:00.0000] <hsivonen>
zcorpan: http://planet.intertwingly.net/

[04:45:00.0000] <hsivonen>
it is even possible that it is my fault (fallout from bug 18333 but fixed on trunk)

[06:46:00.0000] <hsivonen>
Does IE6 support .foo.bar combined class selectors? what about IE7?

[06:52:00.0000] <gsnedders>
hsivonen: IE7 does. IIRC IE6 doesn't

[06:54:00.0000] <hsivonen>
gsnedders: thanks

[06:55:00.0000] <hsivonen>
any opinions whether I should flatten my microformat(ish) class names from class='error fatal' and class='error' to class='error-fatal' and class='error'?

[06:56:00.0000] <hsivonen>
and same on the JSON side

[06:56:01.0000] <Lachy>
IE6's handling of chained selectors is that it ignores all but the last one.  so .foo.bar would match class="foo bar" and class="bar", but not class="foo"

[06:56:02.0000] <hsivonen>
hmm. in that case I might just about get away with using two class names

[06:57:00.0000] <Lachy>
yes, if you're careful and put the most important one at the end.  So use .error.fatal rather than .fatal.error

[06:59:00.0000] <Lachy>
though you could just use .fatal by itself since it will be slightly more efficient than .error.fatal

[07:00:00.0000] <hsivonen>
Lachy: ok. what's your take on putting "type":"error fatal" in JSON and giving semantics to splitting the type on space as opposed to having two fields?

[07:01:00.0000] <hsivonen>
/me still hasn't found a JSON design pattern guide

[07:02:00.0000] <Lachy>
or you could do "type":["error", "fatal"].  It depends on how you expect authors to make use of the values.

[07:03:00.0000] <Lachy>
do you expect authors to be able to use the value as-is in a class name, for example?  If so, then it would make sense to use a space separated list

[07:03:01.0000] <Lachy>
But if you expect that authors will want easier access to the individual values, then the array might be better.

[07:04:00.0000] <hsivonen>
Lachy: I expect most client developers to merely test the string for identity and I expect angel developers to write proper fallback code when the string doesn't match

[07:07:00.0000] <Lachy>
oh, I see, you're attempting to combine the type and subtype properties into one value

[07:11:00.0000] <zcorpan>
hsivonen: class="error fatal" seems more useful since you won't use "fatal" for other than errors, and you might want to have common styles for all errors

[07:12:00.0000] <zcorpan>
so style rules like .error {...} .fatal {...} works fine (also in ie6)

[07:13:00.0000] <Lachy>
hsivonen, have you seen http://ajaxpatterns.org/Patterns

[07:14:00.0000] <Lachy>
http://ajaxpatterns.org/JSON_Message

[07:30:00.0000] <hsivonen>
zcorpan: ok.

[07:30:01.0000] <hsivonen>
Lachy: I think I haven't read those. thanks

[07:33:00.0000] <hsivonen>
Lachy: actually, that is one of the pages that presents the use of JSON as an Ajax pattern instead of telling about patterns for designing JSON formats themeselves

[07:34:00.0000] <Lachy>
ok

[07:34:01.0000] <Lachy>
well, it was the first search result for "JSON Design Patterns", I didn't read it thoroughly myself

[07:34:02.0000] <hsivonen>
perhaps JSON is so new that there aren't solid patterns yet

[07:35:00.0000] <hsivonen>
yeah, I googled for that already

[07:50:00.0000] <aaronlev>
hsivonen: i only see one reply to the ARIA thread

[07:50:01.0000] <aaronlev>
but it is an affirmative in the end

[07:51:00.0000] <aaronlev>
is there a weekly call where people discuss stuff like that?

[07:51:01.0000] <hsivonen>
aaronlev: I think that's a good sign

[07:51:02.0000] <aaronlev>
ok

[07:51:03.0000] <hsivonen>
aaronlev: there's an almost weekly telecon but it is canceled this week

[07:51:04.0000] <hsivonen>
aaronlev: and the telecon attendance doesn't reflect the mailing list

[07:52:00.0000] <aaronlev>
ok

[07:54:00.0000] <hsivonen>
aaronlev: we tried to get rid of "+1" messages, so plain agreement doesn't show

[07:55:00.0000] <aaronlev>
ah

[07:55:01.0000] <aaronlev>
yeah because the list is too busy

[07:55:02.0000] <aaronlev>
to keep up with otherwise

[08:41:00.0000] <hsivonen>
http://wiki.whatwg.org/wiki/Validator.nu_GNU_Output

[08:41:01.0000] <hsivonen>
if anyone knows how to solve the issues, please chime in on the wiki. thanks

[08:41:02.0000] <hsivonen>
MikeSmith: ^

[08:48:00.0000] <Lachy>
zcorpan, in your email about ARIA, did you really mean that dojo is using http://www.w3.org/TR/xhtml2 as the namespace URI, or are they using the namespace URI defined in that spec, http://www.w3.org/2002/06/xhtml2/ ?

[08:48:01.0000] <Philip`>
Mozilla uses both html:role and xhtml2:role in its XUL code

[08:49:00.0000] <zcorpan>
Lachy: the former

[08:49:01.0000] <Philip`>
(where xmlns:html="http://www.w3.org/1999/xhtml" and xmlns:xhtml2="http://www.w3.org/TR/xhtml2")

[08:49:02.0000] <zcorpan>
Philip`: ouch

[08:49:03.0000] <hsivonen>
yay, legacy!

[08:50:00.0000] <zcorpan>
/me was hoping that html:role wouldn't be implemented or used

[08:50:01.0000] <Lachy>
aargh! I despise dojo even more now

[08:50:02.0000] <Lachy>
/me wonders why would anyone use a spec URI as a namespace URI???

[08:51:00.0000] <gavin>
Philip`: that looks like a bug

[08:51:01.0000] <Lachy>
and it confirms that aria is a real mess :-(

[08:51:02.0000] <hsivonen>
/me reminds Lachy of the ancient practice of using the uri of the HTML 4 spec as the XHTML 1 namespace URI

[08:52:00.0000] <hsivonen>
Lachy: more to the point, it confirms that namespaces are a mess

[08:52:01.0000] <Lachy>
I don't recall that ever happening

[08:52:02.0000] <Lachy>
but yes, they're a mess too

[08:52:03.0000] <hsivonen>
Lachy: local names overlive organizational URI choices

[08:52:04.0000] <hsivonen>
Lachy: oh, it happened

[08:53:00.0000] <hsivonen>
Lachy: Gecko had the HTML 4 URI built in early on

[08:53:01.0000] <hsivonen>
Lachy: and MS tools might still emit it somewhere

[08:53:02.0000] <Lachy>
does it still support it?

[08:53:03.0000] <zcorpan>
Lachy: http://www.w3.org/TR/1999/REC-xml-names-19990114/ search for "html40"

[08:53:04.0000] <hsivonen>
Lachy: no

[08:53:05.0000] <hsivonen>
IIRC

[08:54:00.0000] <Philip`>
From the Mozilla code, it looks like they accept non-namespaced role attribute starting with 'wairole:' in text/html, or namespaced role attribute in the XHTML or unofficial-XHTML2 namespaces with more complex prefixing rules

[08:54:01.0000] <zcorpan>
hmm, opera supports the http://www.w3.org/TR/REC-html40 namespace

[08:55:00.0000] <hsivonen>
some of the classes in validator.nu have survived three package name changes...

[08:55:01.0000] <Philip`>
I found some of those REC-html40 namespaced pages a while ago, since they broke hsivonen's parser

[08:55:02.0000] <hsivonen>
domain name-based Java package names have the same problems as XML namespaces

[08:55:03.0000] <hsivonen>
code outlives organizational stewardship

[08:55:04.0000] <Philip`>
It looked a lot like some version of Word was emitting them

[08:56:00.0000] <Lachy>
hsivonen, what would you recommend for a namespace identifier other than a URI or the java like syntax?

[08:57:00.0000] <hsivonen>
Lachy: the well-known name of the language

[08:57:01.0000] <Philip`>
A UUID

[08:57:02.0000] <hsivonen>
Lachy: e.g. xml, atom, aria, xbl, svg

[08:58:00.0000] <Lachy>
makes sense.

[08:58:01.0000] <hsivonen>
Lachy: where those who pick the name are informed of what's already out there

[08:58:02.0000] <Lachy>
though the (possibly theoretical) problem that the URI solves is what happens when 2 languages share the same name?

[08:58:03.0000] <hsivonen>
Lachy: like if you are inventing a new binary format, you should probably consult file(1) for taken magic numbers

[08:59:00.0000] <Philip`>
What about people developing private technologies that are not out there and that need to interact with other private technologies that are not out there?

[08:59:01.0000] <hsivonen>
Lachy: somehow, magic numbers have worked fine most of the time (since the seventies?)

[08:59:02.0000] <Lachy>
yeah, I suppose magic numbers work reasonably well for binary formates

[08:59:03.0000] <hsivonen>
Philip`: I though this was about Web formats ;-)

[09:00:00.0000] <hsivonen>
anyway, baking in the name of a private company sucks

[09:00:01.0000] <hsivonen>
when you try to advance the tech to IEFT, OASIS or the W3C

[09:00:02.0000] <hsivonen>
or, worse, first advance to OASIS and then to ISO

[09:01:00.0000] <Philip`>
I guess the idea with XHTML is that web formats benefit from sharing tools and ideas with what's widely used outside the web, hence universally-unique namespaces and stuff

[09:01:01.0000] <hsivonen>
/me waves to the ECMA team who has to deal with ISO comments on having microsoft.com namespaces in OOXML

[09:04:00.0000] <hsivonen>
/me points out that the old Mac OS did fine with 4-letter type codes for a couple of decades

[09:05:00.0000] <Philip`>
http://lxr.mozilla.org/seamonkey/source/toolkit/components/feeds/src/FeedProcessor.js#1495 - "// Thanks for QNames in content, W3C // This will even be a perf hit for every single feed" - they don't sound too happy

[09:05:01.0000] <Lachy>
yeah, well, it seems far too late to fix namespaces now.

[09:06:00.0000] <Philip`>
http://www.w3.org/WAI/PF/GUI/roleTaxonomy-20060508.html - hmm, a .bmp image? That doesn't seem very standard

[09:10:00.0000] <hsivonen>
Lachy: it isn't too late to oppose to qNames in content, though, whenever someone suggests that something new should use that anti-pattern

[09:10:01.0000] <Lachy>
hsivonen, of course, qnames in content should be banned

[09:10:02.0000] <hsivonen>
/me once interviewed for a job that involved an XML language that had stuff that looked like qNames in content but wasn't

[09:14:00.0000] <zcorpan>
/me points out that xbl2 has qnames in content

[09:14:01.0000] <zcorpan>
effectively

[09:14:02.0000] <Lachy>
for selectors, yeah

[09:15:00.0000] <Lachy>
but that's ok because it's just using xmlns as the namespace declaration mechanism, instead of @namespace or something new

[09:16:00.0000] <Lachy>
XSLT does a similar thing e.g. <template match="x:p"> where xmlns:x="..." is defined somewhere

[09:17:00.0000] <zcorpan>
yeah

[09:17:01.0000] <Lachy>
so I guess they're acceptable uses of qname-like features in content

[09:18:00.0000] <zcorpan>
/me heads over to get some friday beer

[09:18:01.0000] <Lachy>
CURIE's, on the other hand, are not acceptable uses.

[10:34:00.0000] <aaronlev>
hsivonen: still there?

[11:01:00.0000] <annevk>
aaronlev, hey, it seems that the standards are not really helping here :(

[11:02:00.0000] <annevk>
this role= stuff is getting pretty insane just to please some WG members

[11:02:01.0000] <aaronlev>
annevk: just the fact that it accepts qnames?

[11:02:02.0000] <hsivonen>
aaronlev: I'm back now

[11:02:03.0000] <aaronlev>
annevk: my point is we can deprecate that later, it's not as urgent

[11:02:04.0000] <aaronlev>
we can open a discussion on it

[11:02:05.0000] <aaronlev>
it's just hard to do everything at once, right?

[11:03:00.0000] <aaronlev>
we've gotten pretty far since last year when html 5 was just for outsiders

[11:03:01.0000] <annevk>
aaronlev, well, not only that, but also role= in some weird XHTML2 namespace

[11:03:02.0000] <annevk>
yeah, I regret not having paid more attention to it now

[11:03:03.0000] <aaronlev>
annevk: i see an acceptance that the w3c is moving to html 5

[11:03:04.0000] <aaronlev>
it just takes time for everyone to "Get it"

[11:04:00.0000] <aaronlev>
plus i think html folks need to figure out a strategy for svg 

[11:04:01.0000] <aaronlev>
or is *Everything* supposed to be html

[11:04:02.0000] <annevk>
the main problem I have with "deprecate" is that it's not entirely clear to me how it affects the Firefox code base (and that of other browsers)

[11:04:03.0000] <annevk>
(if it's not actually going to be removed it might only increase as such to issue warnings etc. to developers which doesn't seem very helpful)

[11:05:00.0000] <hsivonen>
I don't really believe that we can ever deprecate anything in a way that would actually allow UAs to drop stuff

[11:05:01.0000] <aaronlev>
annevk: i don't see it as an issue because almost everyone is going to be using this in html

[11:05:02.0000] <aaronlev>
they can't use the namespaces anyway

[11:05:03.0000] <annevk>
well, it still needs to be tested and implemented correctly

[11:06:00.0000] <annevk>
if there was no cost attached it would be fine, but the number of possible combinations you can have right now is huge

[11:06:01.0000] <annevk>
which makes interoperability a lot harder

[11:06:02.0000] <hsivonen>
Lachy: what makes qNames in content semi-bearable in XSLT is that you are assumed to compile a stream of SAX events into a representation of a transformation

[11:06:03.0000] <hsivonen>
Lachy: you aren't supposed to do live DOM modifications

[11:07:00.0000] <annevk>
as for SVG, I'm not sure why people would want to write applications directly in that format; seems like transferring a bunch of <font> elements over the wire

[11:07:01.0000] <hsivonen>
Lachy: but it seems that imitating XSLT is what gave us qNames in content elsewhere

[11:07:02.0000] <annevk>
then again, this may be what people want

[11:07:03.0000] <annevk>
...

[11:08:00.0000] <aaronlev>
annevk: then why does opera have such good svg support? :)

[11:08:01.0000] <hsivonen>
and qNames in content as such would not be quite as bad if the DOM captured the namespace mapping scope on a per-Element basis at node creation time and had methods for getting qName values as ns,local pairs 

[11:09:00.0000] <hsivonen>
aaronlev: my vision regarding SVG is that we should extend the HTML5 parsing algorithm to do the right namespace magic for subtrees rooted at <svg> (and <math>)

[11:10:00.0000] <hsivonen>
aaronlev: (though SVG is harder than MathML due to camelCaps and xlink:href)

[11:11:00.0000] <aaronlev>
hsivonen: i guess, i find that to get rid of qnames, the larger political issue is in my way

[11:11:01.0000] <aaronlev>
i've had to straddle the 2 worlds for a while

[11:12:00.0000] <aaronlev>
i feel people are coming around to the html 5 wg

[11:12:01.0000] <aaronlev>
but are scared of the size and don't know how to deal wit hthat

[11:12:02.0000] <hsivonen>
aaronlev: yeah, I realize that. I'm just noting that I don't really believe deprecation later solves anything.

[11:12:03.0000] <aaronlev>
and i think they still hang on to belief in namespaces

[11:12:04.0000] <aaronlev>
hsivonen: no one is going to want to use namespaces if they don't have to anyway

[11:12:05.0000] <hsivonen>
aaronlev: Gecko and others will still have to support content that gets authored to Gecko as of Firefox 3

[11:12:06.0000] <aaronlev>
yeah but it's not expensive to support qnames for roles

[11:13:00.0000] <aaronlev>
it doesn't hurt us

[11:13:01.0000] <aaronlev>
i'm just prioritizing the fixes that i have to squeeze in before ff3 release first

[11:13:02.0000] <aaronlev>
if i get those in and can breathe again

[11:13:03.0000] <aaronlev>
then we can tackle this qname issue, but it brings up a lot o other issues people have

[11:13:04.0000] <aaronlev>
and old divisions

[11:13:05.0000] <hsivonen>
sure, I'm not suggesting unsupporting qNames at this point. I just don't believe you'll be able to unsupport them ever

[11:14:00.0000] <aaronlev>
oh ok, i think ff will proably still support them but the docs can say it's not the preferred way

[11:14:01.0000] <annevk>
that doesn't help anybody I'm afraid :(

[11:14:02.0000] <aaronlev>
annevk: it helps a lot -- authors don'[t have to use them

[11:14:03.0000] <aaronlev>
it's not expensive code at all, a couple of lines really

[11:14:04.0000] <aaronlev>
so what's the big deal

[11:15:00.0000] <aaronlev>
i mean it's not expensive in the user agent to allow the qname role values

[11:15:01.0000] <annevk>
sorry, I agree that it helps to simplify things

[11:15:02.0000] <annevk>
I don't agree that it helps to deprecate things but don't actually change the code as well

[11:16:00.0000] <aaronlev>
annevk: if you can get chaals to advocate for it, soon, in pf

[11:16:01.0000] <aaronlev>
but we have to open up a huge discussion then

[11:16:02.0000] <aaronlev>
and i reallyu don't believe pf wants that right now, we're on the march to get aria 1.0 out the door

[11:16:03.0000] <hsivonen>
If we get to the point of tackling SVG and MathML in text/html, we should probably introduce namespaceless aria-foo attributes on SVG and MathML elements at that point

[11:17:00.0000] <aaronlev>
hsivonen: good point

[11:17:01.0000] <aaronlev>
i haven't thought of a use case for aira in mathml

[11:17:02.0000] <aaronlev>
but i haven't thought that hard

[11:17:03.0000] <aaronlev>
interactive math of some kind

[11:19:00.0000] <aaronlev>
annevk: some folks in pf are still trying to hold on to the idea of using rdf to define roles

[11:19:01.0000] <aaronlev>
that authors could define new ones that way

[11:19:02.0000] <annevk>
right...

[11:19:03.0000] <aaronlev>
i wrote about it in the faq

[11:19:04.0000] <aaronlev>
the qname points to the role definition on the web

[11:20:00.0000] <aaronlev>
but everyone agrees this is aria 2.0 or whatever

[11:20:01.0000] <annevk>
you'd think the accessibility folks realize that authors don't get complex stuff (see longdesc)... but then they go ahead and use RDF!

[11:20:02.0000] <hsivonen>
afk

[11:20:03.0000] <aaronlev>
some of the a11y folks involved in standards love that kind of crap

[11:21:00.0000] <aaronlev>
it does have 1 gigantic advantage over xbl

[11:21:01.0000] <annevk>
yeah, but that doesn't make it practical :(

[11:21:02.0000] <aaronlev>
i'm not arguing for it

[11:21:03.0000] <aaronlev>
the chances of all browser manufacturers having XBL support is like, zero

[11:22:00.0000] <aaronlev>
the big content developers do what some kind of capability like this

[11:22:01.0000] <annevk>
I'm not sure why the chances are different from them supporting something else

[11:22:02.0000] <aaronlev>
let's just take IE as an example, not sure why i would do that

[11:23:00.0000] <aaronlev>
if they don't support ARIA, it doesn't kill ARIA usage --because the pages don't render any differently in IE

[11:23:01.0000] <aaronlev>
so users that need it to be accessible use firefox or opera instead

[11:23:02.0000] <aaronlev>
same with the custom roles

[11:23:03.0000] <aaronlev>
if IE doesn't support it, no big deal, there's another free browser that does

[11:23:04.0000] <aaronlev>
but with XBL it's different

[11:23:05.0000] <aaronlev>
you're defining your whole widget in XBL, which is cool

[11:23:06.0000] <aaronlev>
but the page simply won't work in IE at all

[11:23:07.0000] <aaronlev>
therefore no one will use it

[11:24:00.0000] <annevk>
that's not really how XBL is designed, but I see your point

[11:24:01.0000] <aaronlev>
what do you mean?

[11:24:02.0000] <annevk>
XBL is an optional language

[11:24:03.0000] <aaronlev>
unless it's a lot different from how XBL works in mozila 

[11:24:04.0000] <annevk>
like CSS

[11:24:05.0000] <annevk>
XBL2 anyway

[11:25:00.0000] <aaronlev>
what good is it as an option, if the widgets i designed in it will only work in a couple borwsers

[11:25:01.0000] <aaronlev>
with Javascript my widgets even work in IE 

[11:25:02.0000] <annevk>
XBL is implemented in JS at least partially

[11:25:03.0000] <annevk>
I'm sure people will make that work in IE in some way as well

[11:25:04.0000] <aaronlev>
yes but IE won't go fetch the JS definition

[11:26:00.0000] <aaronlev>
annevk: if that's the case, then XBL would be by far the best solution

[11:26:01.0000] <annevk>
the page will just point to it, similar to how <canvas> works in IE today

[11:26:02.0000] <aaronlev>
it works in ie?

[11:28:00.0000] <annevk>
http://code.google.com/p/explorercanvas/

[11:29:00.0000] <Philip`>
http://philip.html5.org/tests/canvas/suite/tests/results.html - it only works correctly in fairly trivial cases

[11:30:00.0000] <aaronlev>
wow

[11:30:01.0000] <aaronlev>
i wish i had time to read how that works

[11:30:02.0000] <annevk>
Web Forms 2 has also been made to work in IE

[11:31:00.0000] <annevk>
most of HTML5 can be implemented in IE in one way or another, although not always optimally of course and it would be far better if they started doing some stuff

[11:31:01.0000] <Philip`>
ExplorerCanvas mostly works by building up VML strings, which IE can render

[11:31:02.0000] <aaronlev>
Philip`: ah

[11:32:00.0000] <aaronlev>
i can't find any canvas example in there that does curvy lines or something

[11:32:01.0000] <aaronlev>
annevk: that's the part that scares me

[11:32:02.0000] <aaronlev>
i've never seen one of these middleman IE things get used widely

[11:33:00.0000] <aaronlev>
i mean, it needs to be something that companies like Yahoo and IBM are willing to base their stuff on

[11:33:01.0000] <aaronlev>
i order for it to relevant to the accessible extended widgets discussion

[11:33:02.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/curve.html has curvy lines and I think it works in IE

[11:34:00.0000] <annevk>
aaronlev, Y! has used that plugin actually on Y! Pipes

[11:35:00.0000] <annevk>
or, they're using <canvas> on Y! Pipes, not sure what they do with IE

[11:35:01.0000] <aaronlev>
annevk: you know what i mean

[11:35:02.0000] <aaronlev>
large scale stuff tends not to want to use these things

[11:35:03.0000] <aaronlev>
it's never quite good enough for some reason or another

[11:35:04.0000] <aaronlev>
i suspect XBL in IE would be the same

[11:35:05.0000] <hsivonen>
annevk: if XBL becomes successful, it'll be "optional" to entering into the market the same way CSS was "optional" for Apple

[11:36:00.0000] <annevk>
aaronlev, http://pipes.yahoo.com/pipes/pipe.info?_id=gOkiTeFS3BGRTwZy8ivLAg uses excanvas for instance

[11:38:00.0000] <aaronlev>
annevk: i'm skeptical any big org wil change their strategy based on an exXBL library

[11:38:01.0000] <aaronlev>
but i could be proven wrong

[11:38:02.0000] <aaronlev>
i just don't see google using it in something like google office

[11:39:00.0000] <aaronlev>
that kind of thing, where you have tons of widgets

[11:39:01.0000] <aaronlev>
and it all is already brittle enough

[11:39:02.0000] <aaronlev>
that's where you need the custom widgets to be accessible

[11:41:00.0000] <annevk>
if you see the amount of code Joel Spolsky is talking about a simple wrapper for XBL would not be too much code :)

[11:42:00.0000] <annevk>
anyway, I agree it's a problem if a browser with a lot of market share stops implementing, hopefully that doesn't happen

[11:43:00.0000] <aaronlev>
annevk: when have they started implementing?

[11:43:01.0000] <aaronlev>
we can't rely on anything being implemented, because it 90% won't be

[11:45:00.0000] <aaronlev>
XBL heaven is proably not going happen, i'm sorry, because i would love it to happen

[11:47:00.0000] <annevk>
you're saying the web will just stay like it is now for the coming 20 years?

[11:47:01.0000] <annevk>
(in terms of stuff you can use)

[11:47:02.0000] <annevk>
/me doesn't really believe in that

[11:48:00.0000] <aaronlev>
annevk: who cares abouit 20 years from now?

[11:49:00.0000] <annevk>
I do

[11:49:01.0000] <annevk>
HTML5 is not exactly short term stuff

[11:50:00.0000] <aaronlev>
ok

[11:51:00.0000] <aaronlev>
well, web 2.0 or whatever people want to call it is already underway

[11:51:01.0000] <aaronlev>
so, yes, ideally i would love xbl to help out with a11y

[11:51:02.0000] <aaronlev>
but lots of standards have come and gone

[11:51:03.0000] <aaronlev>
don't get me wrong, i'm the biggest xbl proponent in pf

[11:51:04.0000] <hsivonen>
XBL needs a killer app that is so cool it can bootstrap business even if only two of top four browser work with it

[11:52:00.0000] <aaronlev>
i love using it -- i've done a lot of work with it in mozilla

[11:52:01.0000] <hsivonen>
kinda like Google Maps made Opera and Apple implement XHR

[11:52:02.0000] <aaronlev>
right, but who is going to bootrtrap their business with a technology that cuts out most of their markeshare

[11:52:03.0000] <aaronlev>
cutting out opera and apple is one thing

[11:53:00.0000] <aaronlev>
but cutting out ie, uh, no new business does that

[11:54:00.0000] <annevk>
to early to tell whether or not IE will implement

[11:55:00.0000] <annevk>
(and there's the aforementioned library solution)

[11:55:01.0000] <hsivonen>
I think it isn't quite that bleak. Just like Macs are the "top 6%" (or whatever the figure was) and that's enough for some desktop apps, hopefully for the XBL killer app, Firefox, Safari and Opera are the top 20%

[11:57:00.0000] <annevk>
/me wonders if Julian Reschke on public-webapi uses the tactic that if you keep saying it enough times it will become true :)

[11:58:00.0000] <aaronlev>
but xbl can't do anything that you cant' do with dojo

[11:59:00.0000] <aaronlev>
or plain javascript or some other js toolkit

[12:00:00.0000] <aaronlev>
annevk: well if it is too early to tell if they will implement it, that means you can't rely on it for a strategy now if you need something now

[12:00:01.0000] <annevk>
hmm, html4all is discussing whether my blog is valid and whether I care about standards... fun

[12:00:02.0000] <aaronlev>
maybe we can convince everyone they don't need extended widgets yet, and that it's worth waiting to see

[12:00:03.0000] <aaronlev>
but i think they'll be waiting for a long time

[12:00:04.0000] <aaronlev>
fun

[12:01:00.0000] <annevk>
short term there's nothing you can really rely on

[12:01:01.0000] <aaronlev>
yes there is

[12:01:02.0000] <aaronlev>
javascript

[12:01:03.0000] <annevk>
not if you want it to be accessible too

[12:01:04.0000] <aaronlev>
javacsript +aria

[12:01:05.0000] <annevk>
hmm

[12:01:06.0000] <aaronlev>
or dojo

[12:03:00.0000] <annevk>
html4all people, hi!, my page has 4 errors because it uses Web Forms 2 features that supposedly improve usability in browsers that support said features

[12:03:01.0000] <annevk>
html4all people, at some point I'll change the doctype to <!doctype html>, but it doesn't really matter much

[12:04:00.0000] <annevk>
actually, I'll change the doctype of that page

[12:05:00.0000] <aaronlev>
hsivonen: xbl would have to provide some new functionality you can't get already with dojo

[12:05:01.0000] <aaronlev>
in order to make up for the huge market share of non-xbl browsers, otherwise no killer app will happen

[12:06:00.0000] <aaronlev>
sorry, i don't mean to be pedantic

[12:07:00.0000] <aaronlev>
does html 5 have anything like cc/pp?

[12:07:01.0000] <aaronlev>
if you want to communicate client capabilities better

[12:08:00.0000] <hsivonen>
aaronlev: true.

[12:09:00.0000] <hsivonen>
aaronlev: capability sniffing that is based on the UA stating its own capabilities is considered doomed

[12:09:01.0000] <annevk>
hsivonen, heh, changing the doctype doesn't help much: http://validator.nu/?doc=http%3A%2F%2Fannevankesteren.nl%2F2007%2F09%2Falt

[12:10:00.0000] <aaronlev>
hsivonen: why?

[12:10:01.0000] <aaronlev>
hsivonen: is there a good article?

[12:10:02.0000] <hsivonen>
aaronlev: there's a risk of accidental errors as well as an incentive to lie

[12:10:03.0000] <annevk>
(those are all bugs in the validator as far as I can tell)

[12:10:04.0000] <aaronlev>
so what's the big deal if the ua lies about being, say, a screen reader

[12:11:00.0000] <hsivonen>
aaronlev: otoh, if you exercise the feature you want to sniff for, you are more likely to get the right answer

[12:11:01.0000] <aaronlev>
i see

[12:11:02.0000] <aaronlev>
i guess there are some folks that want to use it in the learning space, it's crazy researchy stuff that's far out

[12:12:00.0000] <aaronlev>
but i need to have an answer

[12:12:01.0000] <aaronlev>
for educational content, they want to be able to express a lot about the user and their prefs/capabilities

[12:12:02.0000] <hsivonen>
aaronlev: the big deal is this: browser A supports features foo and bar that are coupled as foobar. Part foo becomes part of a killer app from company G. Browser B implements support for only foo, not bar, but lies and claims support for foobar in order to get the killer app working

[12:12:03.0000] <aaronlev>
and change the content accordigly

[12:13:00.0000] <hsivonen>
result: asking for foobar support gives you the wrong answer if you want to use bar

[12:13:01.0000] <aaronlev>
right, but for user preferences that might not be an issue

[12:13:02.0000] <aaronlev>
makes sense for capabilities

[12:14:00.0000] <annevk>
hmm, accept-language and such is often wrong

[12:14:01.0000] <annevk>
which is something that depends on the user

[12:14:02.0000] <annevk>
(in theory, anyway)

[12:14:03.0000] <hsivonen>
annevk: hmm. interesting error messages...

[12:15:00.0000] <annevk>
yeah

[12:15:01.0000] <annevk>
totally weird

[12:17:00.0000] <annevk>
I think it might be because of the "http:http://asbjornu.myopenid.com/" value for href=

[12:17:01.0000] <annevk>
that fixes at one message

[12:18:00.0000] <annevk>
not sure what the problem is with the other two, although I think you might not allow the empty string for type=url

[12:23:00.0000] <hsivonen>
annevk: cool. at least one of the messages was useful ;-)

[12:23:01.0000] <annevk>
in a way :)

[12:24:00.0000] <annevk>
that it pointed hilited rel=nofollow didn't really help :)

[12:24:01.0000] <hsivonen>
annevk: I'm not stopping what I'm doing right now, but I intend to fix the two other errors soonish

[12:24:02.0000] <hsivonen>
annevk: yeah, that's what I'm fixing now

[12:25:00.0000] <hsivonen>
getting showing the source right isn't a small thing

[12:25:01.0000] <hsivonen>
so far, I've doubled the number of classes in the validator subrepo...

[13:37:00.0000] <Philip`>
Blending rgba(0,255,0,0.5) on top of rgba(0,255,0,1) gives dark green, in APNG with default gamma, which is annoying because it means I'll have to learn how gamma works

[13:39:00.0000] <Philip`>
...although I'm not convinced it actually should give dark green

[13:39:01.0000] <Philip`>
but it does in both Firefox and Opera

[13:56:00.0000] <Hixie>
wow, 2.1% of pages using accesskey="" is a lot

[13:57:00.0000] <annevk>
all my weblog pages used it until a few hours back

[13:57:01.0000] <Hixie>
heh

[13:57:02.0000] <annevk>
/me had accesskey=1 for home and accesskey=9 for contact

[13:58:00.0000] <annevk>
which are not all that useful I think

[13:59:00.0000] <Hixie>
i'm not really all that convinced access keys are that useful in general, but that's just me

[13:59:01.0000] <Hixie>
(in particular it seems obvious to me that the touch model of the iPhone is the way visual browsing should work when you don't have a mouse)

[14:01:00.0000] <annevk>
I think chaals wants to make it some kind of "this link is more important than others" hint

[14:01:01.0000] <annevk>
but I'm not entirely sure that's a correct representation

[14:02:00.0000] <Hixie>
importance can be indicated using <strong>

[14:02:01.0000] <annevk>
I guess

[14:05:00.0000] <tantek>
Hixie, access keys are quite an accelerant for editing/previewing/saving wiki pages.  It makes it "feel" much more like a "real" text editor.

[14:05:01.0000] <Hixie>
i wonder how long i should wait for feedback on the latest offline proposal

[14:05:02.0000] <Hixie>
tantek: ah

[14:06:00.0000] <tantek>
specifically, MediaWiki installs, e.g. Wikipedia.org, and pbwiki.com have consistent editing accesskeys

[14:06:01.0000] <tantek>
on a Mac, ctrl-E to edit, ctrl-P to preview, ctrl-S to save.

[14:07:00.0000] <tantek>
but this may be a specific instance, and your comment about *in general* may still be correct.

[14:12:00.0000] <Philip`>
(Oh, whoops, I was being stupid and using premultiplied alpha in the APNG which means my expectation was completely wrong...)

[14:33:00.0000] <hsivonen>
annevk: I get timeouth when connecting to your site

[14:33:01.0000] <hsivonen>
timeouts even

[14:35:00.0000] <annevk>
wfm, although it's somewhat slow

[14:38:00.0000] <hsivonen>
annevk: well, my timouts are quite reasonable considering other sites

[14:40:00.0000] <annevk>
avg ping is 161.354ms

[14:42:00.0000] <hsivonen>
ok. not it responded in less than 5 seconds

[14:43:00.0000] <hsivonen>
I now have range start guessing code, but it appears to be very broken

[14:43:01.0000] <hsivonen>
(the ranges start far too early)

[14:43:02.0000] <hsivonen>
will debug tomorrow

[15:44:00.0000] <gsnedders>
really odd semantics question: if I'm calling two girls that I loved "her", how do I stress the importance of the "her", and note that they are different people?

[15:44:01.0000] <gsnedders>
far harder to do semantically than it is to do visually

[15:50:00.0000] <gsnedders>
oh, and with something like http://script.geoffers.uni.cc/node/9, how would I offset the actual poem from the introduction? should I treat it as a quote of something I wrote elsewhere, or…?

[15:51:00.0000] <gsnedders>
(the last link includes some profanity, actually)

[16:01:00.0000] <jgraham_>
gsnedders: I don't understand the first question. "Calling two girls that I loved her" is giving me a parse error...

[16:02:00.0000] <gsnedders>
jgraham_: can you enter HTML mode, so we don't have draconian errors? :)

[16:03:00.0000] <jgraham_>
s/calling/{something}/ maybe?

[16:03:01.0000] <Hixie>
othermaciej: any input on the latest proposal? (just a quick read followed by a "looks good" or a "i have comments that i'll send later" would be fine)

[16:03:02.0000] <gsnedders>
jgraham_: I have a long standing tradition of calling any girl that I like "her" on IRC, with different markers around the names, e.g., _her_ and *her*. how could I use "her" and make it clear that it is important (thereby |strong|) without mixing up different people

[16:03:03.0000] <Hixie>
(just need to know whether i should start writing it up or not)

[16:04:00.0000] <othermaciej>
Hixie: I'm in a meeting that will be over momentarily and then I'll do a quick scan

[16:04:01.0000] <Hixie>
excellent, thanks

[16:04:02.0000] <Hixie>
by the way, you need to work on being in fewer meetings.

[16:04:03.0000] <gsnedders>
(don't ask here that naming convention comes from, it's a long story)

[16:04:04.0000] <Hixie>
i swear you're always in a meeting where i ping you :-)

[16:04:05.0000] <othermaciej>
Hixie: I sure do

[16:04:06.0000] <jgraham_>
gsnedders: Oh, I see.

[16:05:00.0000] <othermaciej>
that's what I get for being promoted to my level of incompetence

[16:05:01.0000] <Hixie>
no comment

[16:05:02.0000] <gsnedders>
:D

[16:05:03.0000] <gsnedders>
ergh. I want a parent selector in CSS.

[16:05:04.0000] <Hixie>
don't we all

[16:05:05.0000] <Hixie>
:matches() baby

[16:06:00.0000] <gsnedders>
I want something like p < cite { text-align: right; }

[16:06:01.0000] <annevk>
p:matches($>cite) { text-align:right }

[16:06:02.0000] <Hixie>
or p:has(>cite) { text-align: right; }

[16:06:03.0000] <jgraham_>
gsnedders: I think the answer is "use surrounding context to differentiate the two people". Although that might not go down well with some members of public-html who don't believe in context

[16:06:04.0000] <Hixie>
though in this case it doesn't really improve much

[16:07:00.0000] <gsnedders>
if only there was a block level cite element :P

[16:07:01.0000] <deltab>
gsnedders: why not use the same convention?

[16:08:00.0000] <gsnedders>
jgraham_: if you read two posts of mine, one from last year, the other from this, you could end up thinking they were the same person

[16:08:01.0000] <aa>
it stinks that xpath and css are different

[16:08:02.0000] <Hixie>
just use <p class="cite"><cite> ... </cite></p>  and then set .cite cite { display: block; }

[16:08:03.0000] <Hixie>
or some such

[16:08:04.0000] <Philip`>
p.parent-of-cite { text-align: right; } <script>for each (var c in document.getElementsByTagName('cite')) c.parentNode.className += ' parent-of-cite'</script>

[16:08:05.0000] <Hixie>
ah if only you could enumerate NodeLists

[16:08:06.0000] <gsnedders>
jgraham_: (which is further complicated by the fact that I have gone on about people for over a year)

[16:08:07.0000] <gsnedders>
Hixie: I already use such a thing

[16:09:00.0000] <Hixie>
good good

[16:09:01.0000] <gsnedders>
just annoying :P

[16:09:02.0000] <gsnedders>
/me is going to end up with an insane number of posts tagged "lust" merging all his blogs into one

[16:09:03.0000] <jgraham_>
gsnedders: Isn't language wonderful. Also why do you need <cite>? Are you expecting anything special from UAs?

[16:10:00.0000] <gsnedders>
jgraham_: or, more just using it as a styling hook :P

[16:10:01.0000] <gsnedders>
s/or/oh/

[16:10:02.0000] <deltab>
gsnedders: use different fonts for different people

[16:10:03.0000] <gsnedders>
deltab: that only helps in visual UAs

[16:10:04.0000] <Philip`>
Or different colours

[16:11:00.0000] <gsnedders>
(I'm currently using underlining/bold/etc for visual UAs, and using |strong| for all)

[16:11:01.0000] <gsnedders>
thereby relying on context for non-visual UAs

[16:12:00.0000] <jgraham_>
/me wonders if <cite> has a compelling usecase

[16:12:01.0000] <Philip`>
You could have her<sub>1</sub> and her<sub>2</sub>

[16:13:00.0000] <gsnedders>
Philip`: I thought of that… If I do that, do I start with him<sub>1</sub> or him<sub>3</sub> though?

[16:13:01.0000] <jgraham_>
him<sub>3</sub> is futureproff against sex change operations

[16:14:00.0000] <Philip`>
That depends on whether you are talking about anyone who is likely to change gender, because that would cause conflicts if you had two distinct numbering systems

[16:14:01.0000] <gsnedders>
I didn't even think of it in that way…

[16:15:00.0000] <gsnedders>
/me wonders whether any of his ex-bfs would ever have a sex change operation

[16:16:00.0000] <jgraham_>
Or you could go URI happy and do <a href="http://geoffers.uni.cc/people/girls/1">her</a>

[16:17:00.0000] <jgraham_>
The resources at the end of the link would be RDF I guess

[16:17:01.0000] <Philip`>
People can start thinking of themselves as "she" without having an actual operation, and then maybe switch back to "he" a while later, so you can get namespace collisions even if the people involved don't do anything drastic

[16:17:02.0000] <gsnedders>
/me sighs

[16:17:03.0000] <gsnedders>
meaning monosexual would probably simplify this

[16:17:04.0000] <gsnedders>
s/mea/be/

[16:18:00.0000] <Philip`>
(I tend to avoid using pronouns in that case, so I don't have to decide which one to apply to the person, which isn't actually too difficult)

[16:18:01.0000] <gsnedders>
I'd use their names, but I'm too secretive about my private life to use names

[16:19:00.0000] <ozamosi>
But names aren't unique either...

[16:19:01.0000] <ozamosi>
(usually)

[16:19:02.0000] <Philip`>
You could use the SHA-1 of their name

[16:19:03.0000] <gsnedders>
ozamosi: forename + surname is unique enough

[16:19:04.0000] <gsnedders>
Philip`: but collisions?

[16:20:00.0000] <ozamosi>
gsnedders: well... I think forename + surname collisions are more likely than sex changes, actually

[16:21:00.0000] <Philip`>
/me says hello to the other Philip Taylor in the HTML WG

[16:21:01.0000] <gsnedders>
ozamosi: that's probably true.

[16:21:02.0000] <gsnedders>
Philip`: s/Taylor/TAYLOR/

[16:21:03.0000] <Philip`>
You could use their MSN address

[16:21:04.0000] <gsnedders>
Philip`: no, friends would be able to find out who

[16:21:05.0000] <ozamosi>
SHA-1 on MSN address! :)

[16:22:00.0000] <gsnedders>
Philip`: and I've had enough people kill me for spreading their MSN address among one or two people, yet alone the web

[16:22:01.0000] <Philip`>
You could use the hash of their MSN address, with a prepended salt so other people can't work out who it is

[16:22:02.0000] <gsnedders>
ozamosi: that might work, if I knew all of their MSN addresses

[16:22:03.0000] <gsnedders>
Philip`: a salt wouldn't help

[16:22:04.0000] <ozamosi>
FoaF use SHA-1 on email addresses as UID:s, I think

[16:22:05.0000] <Philip`>
It would have to be a secret salt which only you know

[16:22:06.0000] <Philip`>
though maybe that's not a salt any more

[16:22:07.0000] <gsnedders>
Philip`: if you find a string that happens to be the original, which is infinitely unlikely anyway, having a hash wouldn't help

[16:23:00.0000] <gsnedders>
s/hash/salt/

[16:23:01.0000] <gsnedders>
/me is too tired

[16:23:02.0000] <Philip`>
but then people couldn't just hash the MSN user database to find out who you're talking about

[16:23:03.0000] <gsnedders>
Philip`: ah. true.

[16:23:04.0000] <gsnedders>
actually, I know all of their bebo usernames…

[16:23:05.0000] <gsnedders>
that's a UID I could use (hash + salt, obviously)

[16:24:00.0000] <jgraham_>
/me points out that more ambiguity = more privacy

[16:24:01.0000] <gsnedders>
jgraham_: some of the names involved are quite rare where I live, and I'm in a relatively small town

[16:25:00.0000] <jgraham_>
I was just saying that y'know /not bothering/ will improve privacy even if it offends your instincts for attaching objects unique identifiers ;)

[16:26:00.0000] <gsnedders>
her<sub>f3fbff01d2a29fb88526a6be2f7d3d97c78bc87b</sub> is a bit awkward, though

[16:26:01.0000] <jgraham_>
Oh, and per your second question; I think <article> or <section> is what you want.

[16:27:00.0000] <gsnedders>
<section> probably

[16:27:01.0000] <gsnedders>
jgraham_: not bother? me? :)

[16:27:02.0000] <gsnedders>
(looking up bebo username to calculate that hash made me laugh — her username is to do with lust :P)

[16:28:00.0000] <Philip`>
Base 16 encoding is very inefficient - you should probably be able to do it in base 32768 if you use Unicode characters

[16:29:00.0000] <gsnedders>
/me bursts out laughing

[16:30:00.0000] <kingryan>
Philip`: wouldn't there be numbers that couldn't be expressed?

[16:30:01.0000] <gsnedders>
surely base 0x1400 would be enough?

[16:31:00.0000] <gsnedders>
kingryan: yeah, that would be an issue

[16:32:00.0000] <om_sleep_>
Hixie: ok, out of meeting, reading now

[16:32:01.0000] <Philip`>
kingryan: Why would that be?

[16:32:02.0000] <Hixie>
wow, othermaciej fell asleep during his meeting

[16:32:03.0000] <gsnedders>
Philip`: not all unicode code points are assigned

[16:32:04.0000] <gsnedders>
Hixie: Apple is exciting. I thought you knew? :)

[16:33:00.0000] <hsivonen>
hmm. why is it that so many Java libraries implement their own UTF-8 encoding or decoding?

[16:33:01.0000] <othermaciej>
Hixie: no, my IRC client just sucks :-(

[16:34:00.0000] <Philip`>
You don't need 32K consecutive code points - just pick some subset that doesn't conflict with HTML (like avoid whitespace and control characters), and I assume there's enough allocated code points to manage that

[16:39:00.0000] <hsivonen>
the Xalan XML serializer is surprisingly big

[16:39:01.0000] <gsnedders>
if I had binary data, how would I get it into a state from which I could get a codepoint (I really am too tired)?

[16:39:02.0000] <hsivonen>
and all I wanted was an easily hackable ContentHandler to stream serializer

[16:40:00.0000] <gsnedders>
/me realises

[16:40:01.0000] <kingryan>
hsivonen: some java libraries (namely lucene) do their own utf-8 encoding b/c they implemented it before the spec was done, IIRC

[16:40:02.0000] <gsnedders>
/me facepalms

[16:41:00.0000] <hsivonen>
kingryan: yeah, there's a lot pre-1.4.2 stuff out there

[16:41:01.0000] <othermaciej>
Hixie: looks good to me

[16:42:00.0000] <hsivonen>
some Java libraries are surprisingly conservative about support for old JDKs

[16:42:01.0000] <othermaciej>
Hixie: I may have feedback on details once I see it in spec form but the basic model seems sound

[16:43:00.0000] <Hixie>
othermaciej: k

[16:43:01.0000] <Hixie>
othermaciej: thanks

[16:44:00.0000] <hsivonen>
/me seriously considers writing a non-configurable *simple* UTF-8-only XML serializer

[16:45:00.0000] <hsivonen>
I know that I could write a namespaceless serializer faster than I could familiarize myself with the Xalan codebase

[16:45:01.0000] <hsivonen>
but namespaces will be yucky

[16:50:00.0000] <othermaciej>
Hixie: actually, I'm still not sure how to address login, since with many web apps the main URL normally goes to a login page - perhaps it's ok for a first cut to say the offline API only works with "remember me on this computer" style login

[16:54:00.0000] <Hixie>
othermaciej: the mail url typically goes to a login page unless you're already logged in

[16:54:01.0000] <Hixie>
othermaciej: it's trivial for that page to check if you are logged in

[16:54:02.0000] <gsnedders>
numeric subscripts it is, starting at 1 for both male and female.


2007-09-22
[19:20:00.0000] <Hixie>
aa: yt?

[19:21:00.0000] <Hixie>
i'm changing executeSql() to be async

[19:22:00.0000] <Hixie>
so you do executeSql('update scores set score=? where user=? and score < ?', score, user, score, function (result) { ... });

[19:22:01.0000] <Hixie>
but what happens when an error occurs?

[19:23:00.0000] <Hixie>
should i call the callback anyway, just with an object representing an error?

[19:23:01.0000] <Hixie>
or should i dispatch an 'error' event to the database?

[19:23:02.0000] <Hixie>
i guess the former is better...

[19:23:03.0000] <om_sleep>
aa: did you see my email suggestion of how to change ResultSet, which proposes adding errorCode and errror fields?

[19:24:00.0000] <othermaciej>
Hixie: sorry, meant that for you

[19:24:01.0000] <Hixie>
assuming you're talking to me, yes, that's why i'm asking

[19:24:02.0000] <othermaciej>
letting the callback handle the error seems easier to work with

[19:24:03.0000] <Hixie>
j

[19:24:04.0000] <Hixie>
k, even

[19:24:05.0000] <othermaciej>
and you'd also want that for the sync version

[19:25:00.0000] <Hixie>
and i guess we just say that if you call executeSql() on the database while in a callback that went wrong, you raise an exception?

[19:25:01.0000] <Hixie>
since that probably indicates you didn't check for errors

[19:25:02.0000] <Hixie>
or do we just start a new transaction in that case

[19:26:00.0000] <othermaciej>
I'm not sure

[19:26:01.0000] <othermaciej>
are there any errors where it ever makes sense to continue the same transaction?

[19:26:02.0000] <othermaciej>
I'd guess probably not

[19:26:03.0000] <othermaciej>
so exception seems ok

[19:26:04.0000] <Hixie>
well you can't continue the same transaction

[19:26:05.0000] <Hixie>
since you've rolled back by then

[19:27:00.0000] <othermaciej>
that's true

[19:27:01.0000] <Hixie>
but you could start a new one

[19:27:02.0000] <Hixie>
if we raise an exception, which i think is the better thing to do for catching errors, it means that the only way to then do a new transaction as part of error handling is to have a timeout

[19:27:03.0000] <Hixie>
to start a new "context"

[19:27:04.0000] <Hixie>
which is ugly

[19:27:05.0000] <othermaciej>
continuing blindly seems like it could give bad results, on the other hand, the timeout thing to retry is ugly

[19:27:06.0000] <Hixie>
yeah

[19:27:07.0000] <Hixie>
exactly

[19:28:00.0000] <Hixie>
hard to know which is better

[19:28:01.0000] <othermaciej>
you could have a closeTransaction() method on Database

[19:28:02.0000] <Hixie>
could do

[19:28:03.0000] <othermaciej>
which isn't needed in the normal case, but could be used for retry in a callback

[19:28:04.0000] <Hixie>
yeah

[19:28:05.0000] <Hixie>
ok

[19:28:06.0000] <Hixie>
will do that

[19:59:00.0000] <Hixie>
i suppose we really want the database version to be set as part of a transaction

[19:59:01.0000] <Hixie>
oh well

[20:00:00.0000] <Hixie>
i guess it doesn't matter

[20:01:00.0000] <Hixie>
/me thinks to himself... . o O ( the upgrading app can set it to a secret value while upgrading, then to the new version when done )

[20:02:00.0000] <Hixie>
grr this is going to introduce all kinds of race conditions

[20:11:00.0000] <Hixie>
hm

[20:11:01.0000] <Hixie>
how do we handle a commit failing?

[20:12:00.0000] <Hixie>
we have no way to notify the app

[22:51:00.0000] <Lachy>
access keys don't seem to work in Opera 9.5 alpha, but they do in 9.2

[22:53:00.0000] <Lachy>
pressign Shift+Esc on this page lists all the keys defined, but labels them poorly. http://www.cs.tut.fi/~jkorpela/forms/accesskey.html#ex

[22:54:00.0000] <Lachy>
<input ... accesskey="N"> shows up as: "(N) (Null)" in the menu

[22:54:01.0000] <Lachy>
ah, that's probably because there's no <label> for those controls

[22:57:00.0000] <Lachy>
no, makes no difference whether you define the accesskey on the input or label, it still lists (Null)

[23:40:00.0000] <om_sleep>
Lachy: seems like it will always use the "value"

[23:41:00.0000] <othermaciej>
Lachy: or title

[23:43:00.0000] <Lachy>
I see. That's not very useful

[23:44:00.0000] <othermaciej>
Lachy: it does seem like neither of those is suitable for a text field

[23:44:01.0000] <othermaciej>
but a keyboard shortcut to focus a specific text field seems a little silly in itself

[23:45:00.0000] <othermaciej>
anyway Opera is not really selling me on the potential of accesskey not sucking

[23:46:00.0000] <Lachy>
it's not that silly. It's common for Alt+(key) to focus controls in dialog boxes on Windows

[23:46:01.0000] <Lachy>
the key is typically underlined in the controls label

[23:48:00.0000] <othermaciej>
ok, "silly to me as a mac user"

[23:49:00.0000] <othermaciej>
I think even on windows you don't see that on text fields that aren't part of a dialog box

[23:49:01.0000] <Lachy>
yeah, Macs have a lot of bad UI design ;-)

[23:49:02.0000] <othermaciej>
that's what I've always heard

[23:50:00.0000] <othermaciej>
on mac it's pretty rare for a dialog to have more than a handful of items in the focus cycle so you just use tab

[23:51:00.0000] <Lachy>
well, Alt+D typically focuses the address bar in IE and Firefox, so it doesn't only occur in dialog boxes

[23:52:00.0000] <othermaciej>
on mac Cmd-L is the usual shortcut for that in browsers, but it's kind of an exception

[23:52:01.0000] <Lachy>
Ctrl+L also works in Firefox

[23:52:02.0000] <othermaciej>
(and it has a menu item, so it's a menu shortcut, not a focus shorcut; there's certainly no underlined letter)

[23:55:00.0000] <Lachy>
where's the menu item located for it?

[02:07:00.0000] <Lachy>
one of the problems with the accesskey discussion is that some people don't seem to understand how <command> and <menu> work in HTML5. Perhaps if someone clearly explained that it can be used for toolbar menus or context menus, much like native apps use.

[02:59:00.0000] <othermaciej>
Lachy: yeah, my original proposal assumed too much

[03:00:00.0000] <othermaciej>
Lachy: I mainly just wanted to jot down my idea somewhere that it wouldn't get lost

[03:01:00.0000] <othermaciej>
Lachy: btw Open Location... in the File menu is the menu item with Cmd-L as a shortcut, at least in Safari and Firefox on Mac

[03:03:00.0000] <Lachy>
ok

[03:53:00.0000] <hsivonen>
hmm. dev.w3.org is taking too long to respond. I hope my list reply wasn't silly given the current edit state of the principle doc (which I was unable to check)

[04:21:00.0000] <billyjack>
hsivonen - fwiw, your reply didn't seem silly at all to me

[04:21:01.0000] <billyjack>
if you're referring to the "HTML5 does *not* aim to be backwards compatible with HTML 4" one

[04:26:00.0000] <annevk>
hmm, why is the callback the last argument in executeSql...

[04:26:01.0000] <annevk>
it looks weird because of the arguments... in the middle

[04:32:00.0000] <annevk>
yeah, made sense to me too fwiw

[04:33:00.0000] <hsivonen>
MikeSmith: yeah, that was what I was referring to

[04:33:01.0000] <hsivonen>
MikeSmith: did you see my list of GNU error format issues?

[04:35:00.0000] <hsivonen>
MikeSmith: http://wiki.whatwg.org/wiki/Validator.nu_GNU_Output

[04:35:01.0000] <MikeSmith>
hsivonen - no, haven't seen it yet

[04:35:02.0000] <MikeSmith>
/me is looking now

[04:41:00.0000] <MikeSmith>
hsivonen - I agree about the tab issue (should count as one column); as far as UTF-8 in the message, I think there are likely many users in console envrionments who don't have UTF-8 support; as far as how to distinguish classes of messages, I think "Error; " and "Warning; " and "Note; " as a prefix in the message field

[04:41:01.0000] <MikeSmith>
The other questions I don't have any brilliant insights one

[04:41:02.0000] <MikeSmith>
on

[04:44:00.0000] <hsivonen>
MikeSmith: Do Emacs, etc., recognize Error: and Warning; labels?

[04:45:00.0000] <hsivonen>
MikeSmith: that is, if the aim is to make Emacs tell you that you don't have errors, will a Note: or Warning: line be counted as error?

[04:46:00.0000] <annevk>
/me reads posts on the alt attribute such as http://whatnitishknows.blogspot.com/2007/09/get-traffic-from-image-serach-engines.html

[04:46:01.0000] <annevk>
"Its the very sweet ‘alt’ attribute which most of us do not use in our Image tags because we want to save our time or mainly because we think its useless. The ‘alt’ attribute is very important to place while writing the tag code for your image as it servers another keyword targeting purpose for image search bot."

[04:46:02.0000] <hsivonen>
MikeSmith: my own use of emacs is *very* superficial, so the exact integration screnarios aren't at all clear to me

[04:46:03.0000] <annevk>
seems that SEO, not authoring tools, might help authors care :)

[04:47:00.0000] <hsivonen>
hendry: any insights on http://wiki.whatwg.org/wiki/Validator.nu_GNU_Output from the vim perspective?

[04:49:00.0000] <MikeSmith>
hsivonen - I think the expectation is that users need to do a certain about of Emacs customization for each time of compiler/checker/whatever they want to be able to have Emacs parse error messages for

[04:49:01.0000] <hsivonen>
MikeSmith: ok

[04:50:00.0000] <MikeSmith>
some other apps, like Vim, have similar features; e.g.:

[04:50:01.0000] <MikeSmith>
http://mail-archives.apache.org/mod_mbox/ant-user/200101.mbox/%3C20010129173134.A24005⊙zo%3E

[04:50:02.0000] <hsivonen>
MikeSmith: should I try to keep the forward-compatible two-level taxonomy that I intend to use for XML and JSON?

[04:51:00.0000] <hsivonen>
MikeSmith: that is, should I do something like Error, Fatal:

[04:51:01.0000] <hsivonen>
so that forward-compatible script can extract "Error" when they see Error, Foobar:

[04:51:02.0000] <MikeSmith>
I would personally prefer that

[04:51:03.0000] <hsivonen>
MikeSmith: ok

[04:51:04.0000] <MikeSmith>
yeah

[04:58:00.0000] <hsivonen>
annevk: it is rather sad how much "blog" content these days is written by humans only to bait users to see Google Ads

[04:59:00.0000] <hsivonen>
annevk: check out tasks on mturk.com and you'll find that poor people can make a cent by participating in astroturfing schemes

[05:02:00.0000] <hsivonen>
mturk.com is already used for transcribing audio. I wonder if it'll be used for outsourcing alt text writing.

[05:09:00.0000] <annevk>
oh yeah, heard about that

[05:10:00.0000] <annevk>
I think marp suggested that something like that might work, but it doesn't really seem to scale to the amount of images that are hosted on Flickr for instance

[05:10:01.0000] <annevk>
or maybe it does...

[05:11:00.0000] <annevk>
/me wonders why role= needs namespaced extensibility

[05:15:00.0000] <hsivonen>
annevk: I'm not ethically comfortable with mturk. It feels exploitative.

[05:22:00.0000] <annevk>
/me reads an old Gecko bug where canvas.showFallback() is suggested

[05:23:00.0000] <annevk>
see https://bugzilla.mozilla.org/show_bug.cgi?id=291216#c18

[05:23:01.0000] <annevk>
other options: <canvas require-context="3d funky">

[06:40:00.0000] <jwalden>
question: are there any URLs which can be used to link to specific versions of the HTML5 spec?

[06:40:01.0000] <jwalden>
/me has a feeling now may not be the best time to ask, PDT-wise

[06:40:02.0000] <krijnh>
jwalden: http://www.whatwg.org/specs/web-apps/current-work/multipage/

[06:41:00.0000] <jwalden>
krijnh: isn't that just the latest version?

[06:41:01.0000] <jwalden>
I think I really meant s/version/revision/ in my question, actually

[06:42:00.0000] <krijnh>
Ah, versions, my eyes told me you said sections

[06:42:01.0000] <krijnh>
Sorry :)

[06:42:02.0000] <jwalden>
fragment identifiers work for that anyway

[06:46:00.0000] <gsnedders>
jwalden: http://dev.w3.org/cvsweb/ (wherever HTML5 is under that, but it's down at the moment)

[06:46:01.0000] <jwalden>
heh

[07:45:00.0000] <hsivonen>
annevk: btw, regarding firehose photostreams and metadata, tantek's photostream is an interesting case study. no sets, no human-entered titles, but, yet, elaborate tagging

[07:46:00.0000] <hsivonen>
jgraham's Flickrs stream is very different

[07:46:01.0000] <hsivonen>
people use these tools very differently

[09:36:00.0000] <Lachy_>
does anyone know where the command attribute is defined?  It's mentioned once, but doesn't seem to be defined anywhere http://www.whatwg.org/specs/web-apps/current-work/#the-icon

[09:43:00.0000] <Dashiva>
That paragraph could probably do with significant rewriting

[09:46:00.0000] <Lachy_>
yeah, probably. But I believe the intention is that one can do, e.g. <input type=button command=foo> pointing to <command id=foo ...>, and then the input (and any other elements that reference it) get included in that command elements .triggers DOM attribute.

[09:46:01.0000] <Lachy_>
and when one activates that input, the associated command is triggered.

[09:47:00.0000] <Dashiva>
Sounds sensible

[10:14:00.0000] <jgraham_>
Lachy: As far as I can tell, it isn't 

[11:33:00.0000] <Hixie>
othermaciej: i love that you commented only on the part of hte Database APIs that i hadn't changed at all yet

[11:36:00.0000] <Hixie>
and apparently the spec is confuding, but right now you only get a transaction if you call executeSql from within a callback

[11:36:01.0000] <Hixie>
exactly as originaly suggested :-

[12:29:00.0000] <annevk>
hsivonen, "firehose photostreams"? :)

[12:41:00.0000] <hsivonen>
annevk: the kind of photostreams that contain lots and lots of photos. more than what you'd want to type in titles or alternative text for

[13:22:00.0000] <hsivonen>
are there any video sharing sites that output Ogg these days?

[13:26:00.0000] <Philip`>
There's http://blog.blip.tv/blog/2006/05/31/introduction-ogg-theora-support/

[13:29:00.0000] <Philip`>
Looks like they only offer FLV and the original source version for most videos, though

[13:31:00.0000] <Philip`>
but there is e.g. http://blip.tv/file/340551/ with http://blip.tv/file/get/Anvazher-PruebaVideo318.ogg

[13:31:01.0000] <Philip`>
(but the applet doesn't work for me - first it crashed the browser, now it just shows a black box)

[13:33:00.0000] <gsnedders>
hsivonen: Wikipedia uses ogg, but that isn't really a video sharing site. probably the biggest, though

[13:51:00.0000] <Dashiva>
Are the people arguing for merging ul, ol, nl, etc into a single element really serious?

[13:59:00.0000] <gsnedders>
Dashiva: I expect so

[14:12:00.0000] <hsivonen>
Philip`: I just registered to blip.tv and uploaded a file. the only format they autogenerate is .flv

[14:12:01.0000] <hsivonen>
which isn't cool. Apparantly, if I want .ogg or .mp4 I need to generate those myself and upload

[14:13:00.0000] <hsivonen>
which means that blip.tv doesn't really solve the boring and hard part of Web video

[14:52:00.0000] <jgraham>
/me notes that even though his flickr stream is not a firehose writing good alternative text has an unfavourable opportunity cost

[14:53:00.0000] <jgraham>
Because the two groups of people I care about viewing the content are: my friends and family (who are all presently sighted) for the purposes of documentary and random strangers for any aesthetic value the pictures might have

[14:55:00.0000] <jgraham>
So the only reason to write descriptions now would be so that the descriptions were available should they be needed by any member of the first group in the future

[14:56:00.0000] <jgraham>
However I don't think the content is valuable enough to spend the time writing descriptions rather than, say, processing more photos

[14:58:00.0000] <jgraham>
/me wonders if he will be called anti-accessibility now

[15:00:00.0000] <Dashiva>
There are two groups of those, the "lazy" ones and the "evil" ones

[15:00:01.0000] <Dashiva>
Most of us fall into the lazy group

[15:05:00.0000] <jgraham>
But part of "laziness" is opportunity cost; e.g. the opportunity cost of writing descriptions for photos is that I have less time to spend on producing more photos. The second activity has a small, identifiable, audience (my friends and family), the first has a, presumably smaller, unknown audience

[15:06:00.0000] <jgraham>
Of course the situation would be entirely different if I were producing content with a different audience. A government site should have useful alternative text for all non-decorative images

[15:06:01.0000] <jgraham>
(for example)

[15:08:00.0000] <Dashiva>
Yeah, that's why it's not evil. You aren't doing it to hurt accessibility, it's just a side effect

[15:09:00.0000] <Dashiva>
But objectively, accessibility suffers

[15:10:00.0000] <jgraham>
Sure. 

[16:32:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cbody%20onload%3Dw(document.getElementById('i').width)%3E%0D%0A%3Cimg%20id%3Di%20src%3Dimage%20style%3Dmax-width%3A1em%20width%3D100%3E

[16:32:01.0000] <Philip`>
IE7 makes the DOM controlled by CSS

[16:33:00.0000] <Philip`>
(Opera and Firefox return different things from .width, too)

[16:39:00.0000] <Philip`>
/me changes his code so it calculates image sizes on the server then outputs <img _width=...> so the client side can recover the real width, which seems totally horrible


2007-09-23
[04:30:00.0000] <jgraham>
hsivonen: I recall you had a new suggestion for a table headers algorithm. Did you put that in an email anywhere?

[04:34:00.0000] <hsivonen>
jgraham: I sent it to public-html. 

[04:34:01.0000] <jgraham>
OK

[04:35:00.0000] <jgraham>
I'll find it then

[04:35:01.0000] <hsivonen>
jgraham: http://www.w3.org/mid/845ECFD6-91AB-43CB-BFB2-ED0939C25463⊙if

[04:37:00.0000] <hsivonen>
jgraham: see also http://krijnhoetmer.nl/irc-logs/html-wg/20070911#l-108 onwards

[04:37:01.0000] <jgraham>
hsivonen: I guess that is supposed to work with the smart colspan algorithm?

[04:39:00.0000] <hsivonen>
let's see...

[04:40:00.0000] <hsivonen>
jgraham: yes, I think. If I understood the question right.

[04:41:00.0000] <hsivonen>
that is, adding my rule to smart colspan would make it work for my thesis

[04:42:00.0000] <jgraham>
OK, I;'ll look at implementing it later today (I've been roped into doing some gardening now ;) )

[06:57:00.0000] <hsivonen>
hmm. is DOMContentLoaded Gecko-only

[06:57:01.0000] <annevk>
other browsers are implementing or have implemented it too now

[06:57:02.0000] <hsivonen>
my Planet Intertwingly experience on a Geckoless platform would be so much better if Opera supported that event

[06:58:00.0000] <hsivonen>
annevk: ok. I'm looking forward to a new version.

[06:58:01.0000] <annevk>
it's also part of HTML5, fwiw...

[06:59:00.0000] <Dashiva>
hsivonen: Opera supports it

[06:59:01.0000] <hsivonen>
in related news, the S60 Browser get the character encoding wrong on Planet Intertwingly. Probably due to the deliberate a/x+x breakage that zcorpan found

[06:59:02.0000] <hsivonen>
Dashiva: since which engine version?

[07:00:00.0000] <hsivonen>
Dashiva: doesn't work for me in the laters release version available for S60r3.1

[07:00:01.0000] <Dashiva>
S60 runs 8.6, doesn't it?

[07:00:02.0000] <annevk>
Safari has bugs with XHTML character encoding detection anyhow

[07:00:03.0000] <hsivonen>
Dashiva: 8.something, yet

[07:00:04.0000] <hsivonen>
yes even

[07:00:05.0000] <Dashiva>
Then it's not supported :)

[07:01:00.0000] <Dashiva>
Think it was in 9.0 it was added

[07:01:01.0000] <hsivonen>
the 9.5 engine is so much better than 8.6 that Mini is actually competive against for Mobile on devices that can run both

[07:01:02.0000] <annevk>
hsivonen, see also http://www.flickr.com/photos/hsivonen/204688573/

[07:01:03.0000] <annevk>
:)

[07:01:04.0000] <hsivonen>
annevk: good point ;-)

[07:02:00.0000] <hsivonen>
that's my third most viewed photo, btw

[07:02:01.0000] <annevk>
heh

[07:06:00.0000] <hsivonen>
sales-wise it isn't such a great idea to say that Opera 9 is coming soon without promising a free upgrade for those who buy an 8.6 license today...

[07:10:00.0000] <hsivonen>
Planet Intertwingly is one of my favorite mobile destinations, but none of MicroB, S60 Browser or Opera Mobile get it quite ok

[08:38:00.0000] <rhymes>
Hi guys, I re-ran the test with the latest html5lib version: http://www.oluyede.org/blog/2007/09/22/html5lib-is-getting-faster/

[08:59:00.0000] <Philip`>
That looks like quite a nice improvement

[09:00:00.0000] <Philip`>
You could probably get a significant speed increase by running with Psyco, but I don't know if that counts as cheating :-)

[09:01:00.0000] <Philip`>
(Hmm, seems a less significant improvement than when I last used Psyco on html5lib)

[10:43:00.0000] <Philip`>
krijnh: Maybe you could increase the size limit on logged refer(r)ers to something higher than 255 characters, so it doesn't cut off Google Image Search requests in the middle of the interesting bit?


2007-09-24
[11:52:00.0000] <krijnh>
Test

[12:10:00.0000] <zcorpan>
hsivonen: hmm, perhaps a bit too light. something in between. :) also, try making the second and third paragraph non-bold, i think that makes it easier to scan the errors

[12:12:00.0000] <hsivonen>
zcorpan: is the color now better?

[12:12:01.0000] <hsivonen>
zcorpan: I'm not sure what you want made non-bold

[12:12:02.0000] <zcorpan>
hsivonen: yes, the color is good

[12:12:03.0000] <hsivonen>
zcorpan: do you mean second and third para in each li?

[12:12:04.0000] <zcorpan>
At line 1, column 2

[12:12:05.0000] <zcorpan>
<?xml v

[12:12:06.0000] <zcorpan>
yes

[12:12:07.0000] <zcorpan>
including the <b>

[12:13:00.0000] <hsivonen>
zcorpan: hmm. the location para is already non-bold

[12:13:01.0000] <hsivonen>
zcorpan: do you want the highlighted tag to be non-bold?

[12:13:02.0000] <zcorpan>
oh?

[12:14:00.0000] <hsivonen>
zcorpan: is your CSS2 UI font something that always looks bold?

[12:14:01.0000] <zcorpan>
yeah, could be

[12:14:02.0000] <hsivonen>
the whole page is font: caption;

[12:15:00.0000] <zcorpan>
perhaps explicitly say that the first paragraph should be bold and the others font-weight:normal?

[12:15:01.0000] <hsivonen>
zcorpan: hmm. I think I'd rather conclude that CSS2 UI fonts were a nice idea but the implementation sucks

[12:15:02.0000] <hsivonen>
and do font: sans-serif instead

[12:16:00.0000] <hsivonen>
zcorpan: which platform/browser are you using?

[12:16:01.0000] <zcorpan>
opera, win xp (classic theme)

[12:18:00.0000] <hsivonen>
I guess I should do research about OS X, XP and Ubuntu and figure out named fonts myself considering that CSS2 UI fonts aren't good enough :-(

[12:19:00.0000] <zcorpan>
isn't sans-serif good, then?

[12:21:00.0000] <hsivonen>
not as good as what I get on OS X with font: caption now

[12:21:01.0000] <hsivonen>
http://hsivonen.iki.fi/screen/validator-nu.png

[12:21:02.0000] <hsivonen>
that's what I see

[12:24:00.0000] <zcorpan>
http://simon.html5.org/temp/validator-nu.png

[12:24:01.0000] <hsivonen>
eww.

[12:24:02.0000] <hsivonen>
that need fixing

[12:25:00.0000] <hsivonen>
zcorpan: thanks

[12:25:01.0000] <zcorpan>
np :)

[12:27:00.0000] <hsivonen>
now the form is still caption but the rest is sans-serif

[12:29:00.0000] <zcorpan>
http://simon.html5.org/temp/validator-nu-2.png

[12:30:00.0000] <hsivonen>
looks better to me except now there's a size disparity

[12:31:00.0000] <hsivonen>
I don't know how to manage the font-size property on body relative to the CSS2 UI font on form

[12:32:00.0000] <hsivonen>
hmm.

[12:33:00.0000] <hsivonen>
ok. found a fix that works in Firefox trunk and Kestrel but not in Firefox 2

[12:36:00.0000] <zcorpan>
hsivonen: i think it looks better with non-bold for the highlighted part, though that might just be because of my choice of monospace font :)

[12:36:01.0000] <hsivonen>
I like the bold with the highlight

[12:37:00.0000] <zcorpan>
ok

[12:37:01.0000] <hsivonen>
with my fonts, that is :-)

[12:38:00.0000] <zcorpan>
now everything's bold for me again, fwiw

[12:38:01.0000] <hsivonen>
hmm. has there been a CSS2.1 decision or something? Safari trunk agrees with Kestrel and Firefox 3. but Safari 2 agrees with Firefox 2

[12:38:02.0000] <hsivonen>
on size inheritance

[12:39:00.0000] <hsivonen>
zcorpan: do you know why that happens?

[12:39:01.0000] <zcorpan>
when using ui fonts?

[12:39:02.0000] <hsivonen>
but shouldn't font-family on body cancel the UI font from html?

[12:40:00.0000] <zcorpan>
not sure how that's defined

[12:40:01.0000] <zcorpan>
ui fonts might imply font-size and weight etc

[12:40:02.0000] <zcorpan>
and setting font-family probably doesn't undo it

[12:42:00.0000] <hsivonen>
hmm. too hard

[13:12:00.0000] <kingryan>
has anyone but me looked at markp's validator implemenation in html5lib?

[14:43:00.0000] <hsivonen>
CSS question: what's the preferred way of making sure inline elements with no content are as tall as inline elements containing an NO-BREAK SPACE?

[14:44:00.0000] <Hixie>
only use standards-compliant UAs

[14:45:00.0000] <Hixie>
and it should Just Happen

[14:45:01.0000] <hsivonen>
Hixie: looks like Firefox trunk isn't compliant enough

[14:45:02.0000] <Hixie>
i don't think any browsers are

[14:45:03.0000] <Hixie>
oh there's an exception; the block has to have content

[14:46:00.0000] <Hixie>
<p><span></span></p> is still allowed to be zero-height

[14:46:01.0000] <hsivonen>
WebKit trunk is!

[14:46:02.0000] <hsivonen>
Hixie: I want <li><code></code></li> to look like an empty line

[14:48:00.0000] <hsivonen>
given the current state of Gecko, are there practical workarounds on the CSS level?

[14:49:00.0000] <Hixie>
ah there you are screwed

[14:49:01.0000] <Hixie>
you can use min-height on hte li

[14:49:02.0000] <Hixie>
or include a zwnbsp

[14:49:03.0000] <hsivonen>
tried it already. no good

[14:49:04.0000] <Hixie>
min-height should work

[14:49:05.0000] <hsivonen>
should, but doesn't :-(

[14:50:00.0000] <hsivonen>
the list markers are still off

[14:50:01.0000] <Hixie>
ah yes the list markers will only work if you have actual content in there

[14:50:02.0000] <tantek>
is that because they have nothing to align their baseline to?

[14:50:03.0000] <Hixie>
since they line up with the first line box

[14:51:00.0000] <tantek>
yes, you need at least a text character of some sort in there to trigger font metrics resolution, the establishment of a baseline, and thus something that the list marker can be placed relative to

[14:52:00.0000] <hsivonen>
good old &nbsp; it is, I guess

[14:53:00.0000] <hsivonen>
I hope people don't copy and paste

[14:53:01.0000] <hsivonen>
hmm. I wonder if space with white-space: pre-wrap works...

[14:53:02.0000] <tantek>
there may be something in CSS3-Text that allows you to set an explicit baseline on a block. That plus an explicit line-height should theoretically do the trick.  But not sure if there are any browsers that support that.

[14:55:00.0000] <hsivonen>
tantek: ok. perhaps in the future

[14:57:00.0000] <hsivonen>
space plus pre-wrap not enough...

[14:59:00.0000] <hsivonen>
nbsp works

[14:59:01.0000] <hsivonen>
thanks


2007-09-25
[20:38:00.0000] <Hixie>
aa: ping

[20:39:00.0000] <Hixie>
aa: the second example in http://code.google.com/p/google-gears/wiki/HigherLevelDatabaseAPI uses |row| without declaring it

[21:03:00.0000] <othermaciej>
Hixie: presumably the intent is var row = rows[i] inside the loop

[21:06:00.0000] <Hixie>
i assume so, yeah

[21:08:00.0000] <othermaciej>
Hixie: I think it would be better to use a pseudo-array for the rows instead of a literal JS array, and especially so for the object representing an individual result row

[21:08:01.0000] <Hixie>
but we want it to inherit whatever is on the Array prototype

[21:09:00.0000] <othermaciej>
most functions on the Array prototype are generic, so it's possible to require inheriting them without requiring being an array

[21:09:01.0000] <Hixie>
sounds complex

[21:10:00.0000] <othermaciej>
("generic" in the sense that they are required to work on any JS object that has numeric properties and a property named "length")

[21:10:01.0000] <othermaciej>
(by ECMAScript)

[21:10:02.0000] <Hixie>
other than increasing the complexity of the spec, what is gained by making it not an object?

[21:10:03.0000] <Hixie>
er

[21:10:04.0000] <Hixie>
not an Array

[21:11:00.0000] <othermaciej>
it's harder to do lazy computation tricks while literally subclassing JS array, and it's not clear if the few non-generic Array methods are desired here

[21:11:01.0000] <othermaciej>
in any case, it's more obvious to me for the objects representing a row, since you want both named and indexed access

[21:11:02.0000] <Hixie>
the objects representing the row are just Object elements

[21:11:03.0000] <Hixie>
er

[21:11:04.0000] <Hixie>
Object objects

[21:11:05.0000] <Hixie>
as it were

[21:12:00.0000] <othermaciej>
yes, I know

[21:12:01.0000] <othermaciej>
that leaves out any way to do index-based operations

[21:12:02.0000] <Hixie>
just enumerate them

[21:12:03.0000] <othermaciej>
(thought if they chose to implementations could still do lazy computation for the properties)

[21:12:04.0000] <Hixie>
for (field in row) { ... }

[21:13:00.0000] <othermaciej>
for..in loops are somewhat inefficient in JS, and while you can do similar things to forEach, filter and map, being able to use functional programming style directly can be handy

[21:13:01.0000] <Hixie>
i guess we can make them custom objects implementing interfaces specific for this case, but that basically just makes the spec complicated without an obvious gain as far as i can tell

[21:14:00.0000] <Hixie>
i don't really see what the use case is for non-named access to the fields

[21:16:00.0000] <Hixie>
(debugging being the exception, but it's not like performance is a high priority there)

[21:27:00.0000] <othermaciej>
indexed access is likely to be higher-performance than named access, even in a non-looping context

[21:28:00.0000] <othermaciej>
though probably harder to read, if you just did that directly

[21:28:01.0000] <othermaciej>
FWIW in WebKit we'd probably implement it as a custom object subclass anyway, if only to make conversion from SQLite API data types to JS types lazy

[21:29:00.0000] <othermaciej>
at which point is seems gratuitous not to offer indexed as well as named access

[21:30:00.0000] <Hixie>
i'd expect it to be implemented as a subclass, yes

[21:30:01.0000] <Hixie>
i can make the object have non-enumerable numeric properties

[21:31:00.0000] <Hixie>
but i don't want to give it a "length" property

[21:31:01.0000] <Hixie>
or any other named properties for that matter (like namedItem())

[21:31:02.0000] <Hixie>
since anything i add here is a column name you can't use

[21:33:00.0000] <othermaciej>
well, it would be a column name that it would be inconvenient to use, at the very least (since you could always use function accessors for such a column, if there were a complete set)

[21:34:00.0000] <Hixie>
that would be really confusing

[21:34:01.0000] <othermaciej>
non-enumerable numeric properties are somewhat less valuable without "length", since you can't use any array functions

[21:34:02.0000] <Hixie>
i agree

[21:34:03.0000] <Hixie>
but "length" seems like something you'd want to call a column relatively often

[21:34:04.0000] <othermaciej>
but it does seem like "length" might be a likely column name

[21:35:00.0000] <Hixie>
we could put the number of fields on SQLResultSet, though that doesn't help you use generic methods

[21:35:01.0000] <othermaciej>
I guess I'm sort of convinced that it's better not to have a special interface

[21:36:00.0000] <Hixie>
it's a weird set of constraints

[21:36:01.0000] <Hixie>
i don't really know how best to handle it

[21:36:02.0000] <othermaciej>
it looks like the only array methods that are not rebindable are toString and toLocaleString

[21:37:00.0000] <othermaciej>
so if you override those it's possible to inherit the array prototype without inheriting from the Array implementation is the "class" sense

[21:37:01.0000] <othermaciej>
(that's in reference to the rows array)

[21:38:00.0000] <Hixie>
is that preferable to just implementing an Array internally?

[21:38:01.0000] <Hixie>
it's distinguishable at the JS level, so it's not like the spec can punt on this

[21:39:00.0000] <Hixie>
/me notes that having a variadic set of arguments on sqlExecute in the _middle_ of the arguments list is probably going to cause issues in non-JS languages

[21:39:01.0000] <Hixie>
but you really want the callback at the end

[21:39:02.0000] <Hixie>
maybe we should always require the array syntax

[21:39:03.0000] <Hixie>
executeSql(['sql', arguments...], callback)

[21:39:04.0000] <Hixie>
no wait

[21:39:05.0000] <Hixie>
it would be

[21:39:06.0000] <Hixie>
executeSql([['sql', arguments...]], callback)

[21:39:07.0000] <Hixie>
boy is that ugly

[21:39:08.0000] <othermaciej>
yeah

[21:40:00.0000] <othermaciej>
non-JS languages could certainly implement only the array version

[21:40:01.0000] <othermaciej>
you can't really express the other version well in the type system of any statically typed language

[21:41:00.0000] <Hixie>
not without a buttload of overloads, no

[21:42:00.0000] <othermaciej>
how is it distinguishable at the JS level whether you subclass Array or just have its prototype in your prototype chain?

[21:42:01.0000] <Hixie>
well if it's not, it doesn't matter what the spec says

[21:43:00.0000] <Hixie>
but as far as I can tell, an Array doesn't have a prototype chain

[21:43:01.0000] <Hixie>
so you could distinguish by checking to see if it had one

[21:44:00.0000] <othermaciej>
an Array instance does have a prototype chain

[21:44:01.0000] <othermaciej>
however anything that was either a subclass of Array or for other reasons had a prototype chain that included Array's prototype would have a longer prototype chain

[21:45:00.0000] <othermaciej>
your spec, if read literally, would possibly rule out a custom subclass of Array

[21:45:01.0000] <Hixie>
why?

[21:45:02.0000] <othermaciej>
since it says "must return a native array of objects"

[21:45:03.0000] <othermaciej>
assuming you mean "native" in the sense of the ECMAScript spec

[21:46:00.0000] <Hixie>
you can implement a native array however you like

[21:46:01.0000] <Hixie>
it does disallow a different prototype chain length, though, yes

[21:46:02.0000] <Hixie>
(var x = new Array(); x.__prototype__; returns 'undefined' in mozilla.)

[21:47:00.0000] <othermaciej>
I think the property is named __proto__

[21:47:01.0000] <Hixie>
ah

[21:47:02.0000] <Hixie>
/me checks that

[21:48:00.0000] <Hixie>
var x = new Array(); x.__proto__ == Array.prototype; returns true

[21:48:01.0000] <Hixie>
so yes

[21:48:02.0000] <othermaciej>
so anyway that constraint seems of marginal value to JS coders and would make it hard to implement as a custom Array subclass in at least Gecko and WebKit afaik

[21:49:00.0000] <othermaciej>
(probably not impossible, but shouldn't simplicity of implementation trump simplicity of the spec?)

[21:49:01.0000] <Hixie>
yes it should

[21:49:02.0000] <Hixie>
so what would you want it to say?

[21:50:00.0000] <othermaciej>
I'm not sure

[21:50:01.0000] <othermaciej>
another issue with Array is that it has to allow adding arbitrary array properties and those must be reflected in "length" and in behavior of the array methods

[21:50:02.0000] <othermaciej>
which would make a completely custom implementation that used a different backing store even harder

[21:51:00.0000] <Hixie>
yeah i'd be ok with making it immutable

[21:51:01.0000] <Hixie>
so you'd want something that had a length and an item() method?

[21:51:02.0000] <Hixie>
we really need a way to make these objects enumerable in JS

[21:51:03.0000] <Hixie>
same problem with NodeList, et al

[21:52:00.0000] <othermaciej>
yes, NodeList's non-arrayness is inconvenient

[21:53:00.0000] <othermaciej>
thinking...

[21:53:01.0000] <othermaciej>
I think giving the row list item(), a read-only length, indexed access via array syntax, and requiring that it have all normal methods of Array would make implementation not too hard and would give JS coders all they need

[21:54:00.0000] <othermaciej>
similar requirements could be placed on NodeList et al for convenience

[21:54:01.0000] <othermaciej>
the downside is you couldn't use any of the mutating array methods usefully since they all modify length

[21:54:02.0000] <othermaciej>
maybe it is better not to have them than to have non-working versions

[21:54:03.0000] <Hixie>
yeah i'm not sure how to require that though

[21:56:00.0000] <Hixie>
i'm really not sure how to handle errors with the array form of executeSql

[21:56:01.0000] <Hixie>
/me doesn't really want to add it

[21:56:02.0000] <othermaciej>
"all methods available on Array instances except those that may modify any property of the array

[21:56:03.0000] <othermaciej>
Hixie: the form that lets you pass an array of statements?

[21:56:04.0000] <Hixie>
yeah

[21:56:05.0000] <othermaciej>
it doesn't seem super essential

[21:57:00.0000] <othermaciej>
but you could say in case of error the callback is delivered after the first error, with only as the ResultSets for the successful statements up to the first failing one, plus the first failing one

[23:10:00.0000] <othermaciej>
Hixie: should I send my comments about the "native array" requirement to the list? (you've explained away my concerns about the row objects themselves)

[02:09:00.0000] <Lachy>
Hixie, yt?

[02:09:01.0000] <Lachy>
what's the point of the version parameter in the openDatabase() function?

[02:18:00.0000] <Hixie>
Lachy: lets you ensure the database is using the schema you expect

[02:21:00.0000] <Hixie>
othermaciej: yeah, send mail, in case i forget

[02:48:00.0000] <Lachy>
ok, so authors can check the version number and then, if necessary, run some ALTER TABLE queries or whatever to upgrade to the right schema

[02:49:00.0000] <Hixie>
yeah

[02:49:01.0000] <Hixie>
and if they do that while any other pages are using the db

[02:49:02.0000] <Hixie>
those pages will start raising exceptions instead of corrupting the database

[02:50:00.0000] <othermaciej>
Hixie: another possible coment I had was that maybe version should be an integer and only be allowed to go up, but I'm not really sure if that's better

[02:52:00.0000] <othermaciej>
actually I think it is good

[02:52:01.0000] <othermaciej>
since there is no atomic test-and-set of the version, there is no way right now to tell if you are overwriting a newer version with an older one

[02:52:02.0000] <Hixie>
seems to artificially impose a constrain on the developer

[02:53:00.0000] <Hixie>
we could add an atomic change

[02:54:00.0000] <othermaciej>
it would have to be atomic test-and-set and you'd need to pass all versions you know how to upgrade

[02:54:01.0000] <Hixie>
database.changeVersion(oldVersion, newVersion) -> bool (true if changed, false if old version didn't match)

[02:54:02.0000] <Hixie>
no just get the old version, check that you like it and can upgrade it, and if you can call db.changeVersion(oldVersion, '1.4');

[02:55:00.0000] <Hixie>
it

[02:55:01.0000] <Hixie>
it's not like it's gonna change frequently

[02:55:02.0000] <othermaciej>
I guess you'd have to possibly loop in case of partial upgrade in between

[02:55:03.0000] <Hixie>
the only clash you're likely to get is that the update was done for you

[02:55:04.0000] <othermaciej>
true, it's kind of an edge case

[02:56:00.0000] <othermaciej>
but it is nice to have a design that at least can possibly work in the odd case that you end up running v1, v2 and v3 schema code all at once

[02:57:00.0000] <othermaciej>
another issue - should you bump the version before or after the upgrade transaction?

[02:57:01.0000] <othermaciej>
seems like it has to be done as part of an exclusive transaction

[02:58:00.0000] <Hixie>
i'd bump it twice

[02:58:01.0000] <othermaciej>
but the version itself is not subject to the exclusive access lock

[02:58:02.0000] <Hixie>
once to a temporary "upgrading" version, and once to the final version

[02:58:03.0000] <othermaciej>
makes sense

[02:58:04.0000] <Hixie>
and do all the changes in one transaction

[02:58:05.0000] <othermaciej>
you could bump to upgrading before the upgrade transaction, and to the final inside the transaction at the very end

[02:59:00.0000] <othermaciej>
(inside the transaction you'd have to retest that it's still the expected upgrading value)

[02:59:01.0000] <Hixie>
and if you find the version is in an "upgrading" stage, you could wait a few seconds and if it doesn't change offer the user to "fix the corruption" somehow

[03:00:00.0000] <Hixie>
i was originally considering just extending SQL to have a SET VERSION statement

[03:00:01.0000] <Hixie>
but that seemed more trouble than it's worth

[03:03:00.0000] <othermaciej>
it would certainly solve the atomic test and set problem (indeed, atomic test old version, perform upgrade and set new version)

[03:03:01.0000] <Hixie>
yeah

[03:03:02.0000] <Hixie>
it would also solve the problem of the db being in an inconsistent state

[03:04:00.0000] <Hixie>
as you'd be able to set the version in the same transaction as the changes

[03:04:01.0000] <Hixie>
and so a rollback would roll everything back

[03:04:02.0000] <othermaciej>
it's hard to do better than only being able to change version inside a transaction

[03:04:03.0000] <Hixie>
yeah

[03:04:04.0000] <Hixie>
but i fear it puts too much burden on the implementors

[03:04:05.0000] <Hixie>
they'd all have to hack sqlite to do it

[03:05:00.0000] <othermaciej>
or use a dedicated table with a reserved name

[03:07:00.0000] <Hixie>
that's rather heavy-weight

[03:07:01.0000] <Hixie>
and you have to do things like prevent it from being dropped, etc

[03:08:00.0000] <Lachy>
the biggest problem I see will be that different UAs will use different DBs on the backend.  Mozilla and Safari will probably use SQLLite, but IE will probably use some MS database, and there will be differences in the supported SQL features

[03:10:00.0000] <Hixie>
we'll have to define the sql subset before the latter happens

[03:10:01.0000] <othermaciej>
at some point the query language has to be specced

[03:11:00.0000] <Lachy>
yeah, add SQL5 to your todo list :-)

[03:12:00.0000] <othermaciej>
some relatively easilly defined subset of SQL92 might be sufficient

[03:12:01.0000] <Hixie>
i'll have to get a copy of SQL9x

[03:13:00.0000] <Lachy>
why not SQL:2006 or at least 2003?

[03:13:01.0000] <Hixie>
i've updated the spec to have a locking changeVersion()

[03:13:02.0000] <Hixie>
Lachy: whichever is latest is fine by me. i haven't been able to find _any_ version of that spec.

[03:13:03.0000] <Lachy>
SQL 2006 is ISO/IEC 9075-14:2006 (according to wikipedia)

[03:14:00.0000] <Hixie>
yeah

[03:14:01.0000] <Hixie>
ISO specs aren't free

[03:14:02.0000] <hsivonen>
is SQL one of those standards that are kept secret in Geneva?

[03:14:03.0000] <Lachy>
http://en.wikipedia.org/wiki/SQL#Standardization

[03:14:04.0000] <Hixie>
othermaciej: the only issue really with changeVersion() now, afaict, is that if the script somehow dies without setting the version properly, the db can be left in a messy state

[03:14:05.0000] <Hixie>
othermaciej: but that could happen whatever do, really

[03:14:06.0000] <hsivonen>
whoa. they've added XML to SQL

[03:16:00.0000] <Lachy>
Do ISO specs require interop before becoming standards?

[03:16:01.0000] <othermaciej>
Hixie: well, atomic commit/rollback would reduce the likelihood if the version change were part of the transaction

[03:16:02.0000] <othermaciej>
Lachy: I do not believe so, as a general rule

[03:16:03.0000] <othermaciej>
I don't think they even require op, let alone interop

[03:17:00.0000] <othermaciej>
but I think individual technical committees can set their own rules

[03:17:01.0000] <othermaciej>
obviously SQL needs to be fully AJAX compliant

[03:21:00.0000] <Lachy>
Hixie, I think there may be a problem with the way .insertId is defined.

[03:21:01.0000] <othermaciej>
mapping from SQL types to JS types will also need defining at some point

[03:21:02.0000] <Lachy>
it says "If the statement inserted multiple rows, the ID of the last row must be the one returned"

[03:21:03.0000] <othermaciej>
not sure how many non-obvious cases there will be

[03:22:00.0000] <Lachy>
but I was reading in the MySQL docs that the LAST_INSERT_ID returns the id of the first row

[03:22:01.0000] <Lachy>
(I know it's unintuitive, but the MySQL docs said there was a reason for it)

[03:28:00.0000] <Hixie>
Lachy: what does sqlite do?

[03:29:00.0000] <Hixie>
othermaciej: yeah, a transaction would make it easier to do the right thing, but i doubt that would actually result in many more cases of the right thing. ;-)

[03:30:00.0000] <Lachy>
Hixie, I tried looking for that, but the sqllite docs were very unclear

[03:30:01.0000] <annevk>
see http://nl.php.net/manual/en/function.sqlite-last-insert-rowid.php

[03:30:02.0000] <annevk>
for some reason I'm on wanadoo and freenode, this can't last long

[03:30:03.0000] <othermaciej>
Hixie: I'll try to get you implementation feedback on the versioning thing

[03:30:04.0000] <Hixie>
othermaciej: k

[03:31:00.0000] <Hixie>
othermaciej: in the meantime, we have a readonly version and a method changeVersion(old, new)

[03:31:01.0000] <othermaciej>
(and the rest of it)

[04:08:00.0000] <hsivonen>
weird. when Gecko adds Zapfino ligature support, WebKit regresses it

[04:48:00.0000] <othermaciej>
did WebKit ever have it?

[04:48:01.0000] <othermaciej>
as far as I know, our fast code path never supported ligatures or other contextual forms

[04:48:02.0000] <othermaciej>
but the code paths that require shaping do

[05:54:00.0000] <hsivonen>
othermaciej: http://weblogs.mozillazine.org/roc/archives/2007/09/textalicious.html look different (better) in Safari 2.0.4 than it does in the latest WebKit nightly

[05:54:01.0000] <hsivonen>
s/look/looks/

[05:57:00.0000] <hsivonen>
with a dualcore CPU, I'd like to get my share of the shaping eyecandy for English as well. 

[06:15:00.0000] <Philip`>
executeSql('sql', arguments).addCallback(callback)

[06:17:00.0000] <Philip`>
(to avoid callback argument after varargs)

[06:17:01.0000] <Philip`>
or steal more from Twisted and have

[06:17:02.0000] <Philip`>
executeSql('sql', arguments).addCallback( function (res) { return executeSql('sql2', res.rows[0].id) }

[06:17:03.0000] <Philip`>
).addCallback( function (res) { alert('Okay') }

[06:17:04.0000] <Philip`>
).addErrback( function (err) { alert('Oops') }

[06:17:05.0000] <Philip`>
)

[06:17:06.0000] <Philip`>
/me wonders why he keeps losing newlines when pasting into IRC

[09:48:00.0000] <Philip`>
Argh, it's harder doing APNG tests now that I've got one which segfaults Opera

[09:52:00.0000] <virtuelv>
Philip`: file a bug, please

[09:52:01.0000] <virtuelv>
(I know you will, but I'd be interested in knowing the bug number)

[09:55:00.0000] <Philip`>
virtuelv: 287173

[09:56:00.0000] <virtuelv>
ty

[09:56:01.0000] <Philip`>
/me removes it from his test-case page for now

[10:03:00.0000] <virtuelv>
Philip`: out of curiosity: Which tools do you use for APNG?

[10:04:00.0000] <Philip`>
Perl :-)

[10:05:00.0000] <Philip`>
at least for creating APNG test cases

[10:06:00.0000] <Philip`>
I used the Firefox APNG Editor extension for http://philip.html5.org/demos/apng/sierpinski.png (with canvas code to draw each frame)

[10:24:00.0000] <othermaciej>
hsivonen: always using shaping APIs can cause overall page loading (not just text drawing) to be 20-25% slower

[10:26:00.0000] <othermaciej>
hsivonen: we haven't yet come up with a way to do contextual forms as fast as we do normal latin text, but we're certainly thinking about it

[10:49:00.0000] <Philip`>
http://philip.html5.org/tests/apng/ - now with more tests

[10:49:01.0000] <Philip`>
I think my use of the alt attribute is non-conforming, but I'm not terribly concerned about how this page works in non-graphical UAs

[11:18:00.0000] <zcorpan>
Philip`: things like alt="FAIL" is ok for test cases :)

[11:19:00.0000] <zcorpan>
test cases don't need to comply with document conformance criteria from the specs they are using or testing

[12:57:00.0000] <Hixie>
Philip`: your .addCallback() idea would i'm sure result in people taking a reference to that object and then doing really evil things with it

[12:59:00.0000] <Hixie>
<Hixie> Philip`: your .addCallback() idea would i'm sure result in people taking a reference to that object and then doing really evil things with it

[13:05:00.0000] <Philip`_>
In Twisted, the asynchronous methods return a Deferred (which indicates either a result or a soon-to-be-a-result), and you can keep it forever and do addCallback whenever, and the callback is either called immediately (if the Deferred has the result already) or later (when the result becomes available)

[13:05:01.0000] <Philip`_>
so there's not really anything evil you can do with the object

[13:06:00.0000] <Hixie>
you can keep the transaction open forever

[13:07:00.0000] <Hixie>
e.g. if you don't add a callback it'll never close

[13:07:01.0000] <Philip`_>
I guess it's harder in JavaScript since GC isn't immediate, so you'd have to keep all the result data just in case someone's still got a reference to the deferred result

[13:07:02.0000] <Philip`_>
Ah, transactions sound harder too :-)

[13:08:00.0000] <Hixie>
i like the api concept though

[15:27:00.0000] <Hixie>
any preference as to which object the app cache api is on?

[15:27:01.0000] <Hixie>
window? window.navigator?

[15:28:00.0000] <Hixie>
window.cache?

[15:30:00.0000] <virtuelv>
isn't the window.navigator object already overloaded with all kinds of crap?

[15:30:01.0000] <Hixie>
yup

[15:30:02.0000] <Hixie>
so's window

[15:30:03.0000] <virtuelv>
heh, yeah

[15:31:00.0000] <virtuelv>
window.cache sounds more descriptive

[15:31:01.0000] <Hixie>
but it adds yet another singleton

[15:31:02.0000] <Hixie>
which is expensive

[15:44:00.0000] <Hixie>
this is, in a nutshell, the misunderstanding that the pro-required-alt camp is stumbling upon, i think:

[15:44:01.0000] <Hixie>
"The issue is not to do so much with what the AT UA can do with an image

[15:44:02.0000] <Hixie>
without the alt attribute, it is about what the UA cannot do.

[15:44:03.0000] <Hixie>
-- http://html4all.org/pipermail/list_html4all.org/2007-September/000401.html

[15:45:00.0000] <Hixie>
It cannot reliably differentiate between an important image without an alt

[15:45:01.0000] <Hixie>
attribute and an unimportant image."

[15:45:02.0000] <Hixie>
(the problem being that _regardless_ of what the spec says, a UA cannot _reliably_ differentiate between an important image and an unimportant image)

[15:46:00.0000] <Hixie>
(as henri later points out in http://html4all.org/pipermail/list_html4all.org/2007-September/000409.html)

[15:50:00.0000] <Hixie>
wow that thread is sad

[15:50:01.0000] <Hixie>
henri explains the problem: http://html4all.org/pipermail/list_html4all.org/2007-September/000409.html

[15:50:02.0000] <Hixie>
steven completely blanks on understanding it: http://html4all.org/pipermail/list_html4all.org/2007-September/000410.html

[15:50:03.0000] <Hixie>
henri explains it again: http://html4all.org/pipermail/list_html4all.org/2007-September/000411.html

[15:51:00.0000] <Hixie>
steven doesn't even reply: http://html4all.org/pipermail/list_html4all.org/2007-September/000412.html

[15:51:01.0000] <Hixie>
good lord

[15:52:00.0000] <kingryan>
good lord indeed

[15:53:00.0000] <kingryan>
/me gave up awhile ago

[15:56:00.0000] <Hixie>
one reason to use window.navigator is that window.navigator.onLine is already there

[15:57:00.0000] <Philip`>
http://html4all.org/pipermail/list_html4all.org/2007-September/000416.html - "Moved to the public list" - aha, it does sound like they have a new private list for the cabal

[15:57:01.0000] <Hixie>
HAHAHAHAHA

[15:57:02.0000] <Hixie>
i totally missed that

[15:57:03.0000] <Hixie>
that's awesome

[16:04:00.0000] <gsnedders>
html4all?

[16:06:00.0000] <Philip`>
I guess they worked out how to turn on the non-public flag this time

[16:07:00.0000] <tndH>
i read that as "Moved [from private email]", but i guess i'm not paraniod enough...

[16:07:01.0000] <Philip`>
(Note to whoever's reading logs: I think the old public archives mentioned the list admin password at some point - you should probably make sure it's been changed)

[16:08:00.0000] <Philip`>
((This is a much easier way of communicating than email))

[16:10:00.0000] <gsnedders>
Philip`: especially as it allows us to be quoted without context while quoting a whole response

[16:10:01.0000] <Dashiva>
Hi mom!

[16:10:02.0000] <Dashiva>
/me waves

[16:10:03.0000] <gsnedders>
/me realises what Dashiva is on about

[16:12:00.0000] <Dashiva>
Hoo boy: "why not develop a validator that looks for and fails the page if it has bogus alt? using heauristics, that shouldn't be so hard should it?"

[16:13:00.0000] <Hixie>
it baffles me how much they can miss the point

[16:14:00.0000] <Philip`>
tndH: If it was, why would he explicitly say "the public list" instead of "the list"?

[16:15:00.0000] <tndH>
point. :)

[16:15:01.0000] <Philip`>
Paranoia is more fun anyway, even if it's wrong - they can always correct us easily by saying there's only that one list :-)

[16:16:00.0000] <Hixie>
i'm sure they'll cc us and their private list soon enough

[16:17:00.0000] <Dashiva>
Philip`: Paranoia would suggest it was a cover-up

[16:22:00.0000] <Philip`>
Like with our secret invite-only IRC channel?

[16:30:00.0000] <Hixie>
ok i still don't have a good answer as to what we do with <?xml-stylesheet?>s and offline app caches

[16:30:01.0000] <Hixie>
since they come before the application="" is seen

[16:36:00.0000] <Philip`>
If it ought to come before everything, there's <!DOCTYPE html PUBLIC "application" "foo">

[16:36:01.0000] <Philip`>
(That is probably not a serious suggestion)

[16:37:00.0000] <Hixie>
heh

[16:37:01.0000] <Hixie>
that would be _hi_larious

[16:37:02.0000] <Dashiva>
You mean mlarious

[16:37:03.0000] <Hixie>
"hi everyone, we're co-opting the DOCTYPE tag, hope y'all are ok with that"

[16:38:00.0000] <Hixie>
it might even take attention away from the alt text stuff!

[16:38:01.0000] <Dashiva>
Look over there, a <div>ersion!

[16:44:00.0000] <Philip`>
http://html4all.org/pipermail/list_html4all.org/2007-September/000415.html - it doesn't even need to be handled by the browser - just create a font with ligatures for sequences of characters like "color" so it gets rendered as "colour"

[16:47:00.0000] <Hixie>
it needs markup-level support because you'd need to do context-sensitive substitution in all but the most trivial of cases

[16:59:00.0000] <Philip`>
/me wonders what "Content-Type: image/jpeg; charset=utf-8" means


2007-09-26
[17:03:00.0000] <Hixie>
Philip`: it could give the encoding of the TXT chunks, assuming jpeg has those :-)

[17:05:00.0000] <brodie>
it could have exif data with UserComment tags, but the encoding is defined in the tag

[17:24:00.0000] <Hixie>
you know, i think we're gonna have to define a wrapper around the xml parser in the html5 spec

[17:24:01.0000] <Hixie>
to handle things like application="" on the root element, and so forth

[17:25:00.0000] <Hixie>
oh hey, we could just use a PI and say it has to come before <?xml-stylesheet?>

[17:25:01.0000] <Hixie>
for XHTML

[17:25:02.0000] <Hixie>
though yet more differences... that would suck

[17:25:03.0000] <Hixie>
gah, xml makes things so much more annoying.

[18:26:00.0000] <Hixie>
the biggest problem with the current offline design i think is that there is a race condition the first time you fetch a page with a manifest

[18:26:01.0000] <Hixie>
in that as soon as the manifest is fetched, uris that aren't in teh manifest start failing

[18:26:02.0000] <Hixie>
but before, they work

[18:27:00.0000] <othermaciej_>
you could make the initial load block on the manifest, but not actually fetching the cache contents

[18:28:00.0000] <Hixie>
that would slow initial page load

[18:28:01.0000] <othermaciej>
that would be no worse than what a <script> element causes now

[18:28:02.0000] <Hixie>
which is unacceptable

[18:28:03.0000] <othermaciej>
(<script src="..."> that is)

[18:28:04.0000] <Hixie>
<script> is bad enough that people have mumbled suggestions that browsers should optimistically go ahead and parse past them

[18:29:00.0000] <Hixie>
(throwing away the results of that if the script ends up doing anything that depends on the dom)

[18:29:01.0000] <Hixie>
(i don't think it would work well, but that people are considering that is probably an indication that we don't want to add any more blocking things)

[18:30:00.0000] <othermaciej>
another (crazy) possibility is to keep parsing and even be willing to start loads but don't deliver the actual results of any loads until the manifest has been returned

[18:31:00.0000] <Hixie>
that could give really weird results on slow connections

[18:31:01.0000] <Hixie>
it would also interact poorly with the http 2-connectio-per-server limit

[18:31:02.0000] <Hixie>
s//n/magic

[18:32:00.0000] <othermaciej>
it could

[18:32:01.0000] <othermaciej>
I'm just trying to think of possible ways to avoid the race - I'm not sure any of them is actually preferable to the race

[18:32:02.0000] <Hixie>
yeah me either

[18:56:00.0000] <Hixie>
Andrew is arguing that google doesn't use sql as a backend and that therefore we shouldn't use sql in html5

[18:56:01.0000] <Hixie>
does he realise that one of the main supporters of sql in html5 is google, to the point where google has implemented ua extensions that support sql in browsers?

[19:04:00.0000] <aa>
fwiw, I argued against putting sql in gears :)

[19:04:01.0000] <aa>
unsuccessfully

[19:04:02.0000] <Hixie>
heh

[19:04:03.0000] <Hixie>
i argued against it in html5, too

[19:05:00.0000] <aa>
but then, I am frequently wrong

[19:05:01.0000] <Hixie>
same here :-)

[19:05:02.0000] <othermaciej>
I don't love it either

[19:05:03.0000] <othermaciej>
but being there is a pretty compelling advantage vs. the hypothetical wonderfully elegant design

[19:05:04.0000] <aa>
does nobody love sql?

[19:05:05.0000] <Hixie>
it's not clear to me what would be better for solving the problem of keeping masses of structured data clientside

[19:06:00.0000] <othermaciej>
also I have even more distaste for object persistence systems than RDBMs

[19:06:01.0000] <Hixie>
yeah

[19:06:02.0000] <Hixie>
the fact that nobody understands object persistence systems, least of all web authors, is a big negative point against them

[19:07:00.0000] <othermaciej>
in fact I get the impression that most implementors of object persistence systems don't understand them

[19:07:01.0000] <Hixie>
indeed

[19:07:02.0000] <Philip`>
Judging by all the web frameworks that hide SQL behind magical object systems, people want to get away from SQL, though I'm not sure if where they're getting away to is a better solution

[19:08:00.0000] <Hixie>
yeah

[19:08:01.0000] <othermaciej>
it seems more practical to build a magical object system on top of SQL than vice versa

[19:09:00.0000] <Philip`>
and it's probably out of scope for an HTML group to design a better database system than what the world has already produced, and to do it in a couple of years and with too much backward-compatibility burden to be allowed a second chance

[19:10:00.0000] <othermaciej>
and there doesn't seem to be much consensus on how a magical object system should work

[19:10:01.0000] <Philip`>
That's easy - they should work like magic

[19:11:00.0000] <Hixie>
to be fair there's not that much consensus on how sql should work either, but i guess that compared to the object systems, there might appear to be unity :-)

[19:12:00.0000] <Philip`>
SQLite seems particularly consensus-ignoring in deciding that SQL's strong column types are a bug that should be fixed

[19:13:00.0000] <aa>
yes, who needs types

[19:13:01.0000] <Hixie>
no comment

[19:13:02.0000] <aa>
luckily it works well with javascript

[19:14:00.0000] <Philip`>
Will it be possible to automatically convert JS Date objects into suitable SQL values?

[19:15:00.0000] <aa>
since there is no 'date' type in sqlite, I don't think it would come back out the same

[19:15:01.0000] <aa>
but you could certainly store the number

[19:16:00.0000] <Hixie>
i have to admit to never using sql date types and always just storing integers representing seconds from the epoch

[19:16:01.0000] <Hixie>
i always seem to just get into problems when i use the sql date/time types

[19:16:02.0000] <Hixie>
that could say more about me than about sql or mysql, though

[19:17:00.0000] <Philip`>
http://www.sqlite.org/cvstrac/wiki?p=DateAndTimeFunctions - SQLite uses YYYY-MM-DD HH:MM:SS strings

[19:18:00.0000] <Philip`>
It's nice when you can do "select * from t where modified > date('now', '-1 day')"

[19:19:00.0000] <Hixie>
i've always found it more reliable to do "select * from t where modified > ?", now-1*day

[19:21:00.0000] <aa>
Philip`: but you wouldn't be able to drop it into a variant column and have it come back out as a js date

[19:21:01.0000] <aa>
which you could do, to some extent, with other js datatypes

[19:28:00.0000] <Hixie>
ok going for lunch. i've written up a bunch of the offline stuff in the spec, though not all.

[19:28:01.0000] <Philip`>
It seems you can do "create table x ( y datetime )" and SQLite will happily ignore you and make it a numeric column affinity, and the API can recover the declared column type and do some conversions when passing between SQL and JS, maybe

[19:30:00.0000] <aa>
oh, cool

[19:33:00.0000] <Philip`>
(But there's something disturbing about declaring a column as "datetime", having it treated by SQLite like "numeric", then storing "YYYY-MM-DD" text strings in it)

[19:39:00.0000] <aa>
hey hey chrisp

[02:15:00.0000] <Hixie>
lordy, now steven f is complaining that in irc chat i laugh at him. http://lists.w3.org/Archives/Public/www-archive/2007Sep/0095.html

[02:15:01.0000] <othermaciej>
/me reads

[02:16:00.0000] <Hixie>
it's strange to me that the subscribers to html4all keep talking about their being a "divide" between "them" and "us", when personally i don't care who says what, i take input to the spec regardless of its source

[02:17:00.0000] <Hixie>
this is especially amusing to me, though, given the whole e-mail where John was saying that their goal was "divide and conquer" of the "html5 manglers" http://html4all.org/pipermail/list_html4all.org/2007-August/000054.html

[02:17:01.0000] <Hixie>
/me sighs

[02:17:02.0000] <jgraham_>
/me finds the email from steve quite strange

[02:18:00.0000] <othermaciej>
I'm sure you endeavour to do that (and I think you do a good job), but it is almost inevitable human nature to come to trust effective repeat collaborators a bit more, and be potentially a bit more open to their input

[02:18:01.0000] <othermaciej>
still, trying to position it as an us vs. them battle is unlikely to solve any real or perceived problems of cliquishness

[02:18:02.0000] <Dashiva>
Hixie: Stop dragging me down with you >:)

[02:20:00.0000] <jgraham_>
Oh and I'm not sure I've been keeping up with all the out-of-band communication about alt to have a well-informed opinion but the idea of requiring embedded elements that are the sole contents of a link to have textual fallback (where possible i.e. not on <embed>) seems like it might address one of the most serious criticisms of missing @alt

[02:21:00.0000] <Hixie>
othermaciej: i really try to avoid any bias from who wrote the input, to the point where the issues list, for instance, doesn't list any metadata regarding who wrote the e-mail

[02:22:00.0000] <Hixie>
othermaciej: i'm sure there is still some bias, of course, but i doubt that the bias is such that it significantly disadvantages steven f to the level that he is suggesting

[02:22:01.0000] <Hixie>
jgraham_: any idea if that was sent to the whatwg list or put on the htmlwg wiki?

[02:22:02.0000] <hsivonen>
jgraham_: requiring data that isn't available is going to result in bogus data

[02:23:00.0000] <jgraham_>
hsivonen: I know. I'm not clear on whether that particular case is special enough to warrant special conformance criteria though

[02:24:00.0000] <jgraham_>
For example on a photo page having alt="Large size photo" would at least tell you where the link goes in a way that is compatible with existing AT

[02:25:00.0000] <othermaciej>
I have to admit to a slight tendency to sometimes write off people who seem to be consistently non-constructive but I try to compensate for that as best I can

[02:25:01.0000] <othermaciej>
jgraham_: do you think a title="" on the link might be an acceptable alternative in such cases?

[02:25:02.0000] <othermaciej>
also, presumably if alt were required in such cases alt="" would be disallowed

[02:26:00.0000] <Dashiva>
othermaciej: I think in the end non-constructive people will be written off based on their non-constructive ideas, even if the idea is anonymized

[02:27:00.0000] <jgraham_>
othermaciej: Yeah, my other thought was to define that in the case where an image was the sole content of a link and the link had a title, the link's title would be the alt text for the image in the absence of any significant alt text (or something to that effect)

[02:27:01.0000] <hsivonen>
jgraham_: yes, in practice, alt text like that is probably good idea if other text isn't available

[02:29:00.0000] <Hixie>
hsivonen: btw for the record the significant inline thing will die, i just haven't gotten around to it yet

[02:29:01.0000] <hsivonen>
Hixie: good.

[02:29:02.0000] <hsivonen>
Hixie: did my message make sense in your opinion?

[02:31:00.0000] <Hixie>
hsivonen: all the messages you sent on that thread made sense to me

[02:33:00.0000] <hsivonen>
Hixie: good

[02:34:00.0000] <Lachy_>
good evening

[02:35:00.0000] <Lachy_>
I just got back from the W3C SIG day at Web Directions

[02:35:01.0000] <jgraham_>
hsivonen: BTW, I added the "Cells that span a column with no heading have no headings" option you wanted to the table inspector smart colspan algorithm

[02:35:02.0000] <othermaciej>
hello Lachy_ 

[02:35:03.0000] <Lachy_>
the RDF/OWL/Semantic Web talks were interesting...

[02:36:00.0000] <Hixie>
(the aforementioned www-archive thread has grown)

[02:36:01.0000] <Lachy_>
especially when they said that they only began considering the application layer and looking for the "killer app" in 2006, and I asked what on earth was everything else developed for before those yet-to-be-developed apps?

[02:37:00.0000] <hsivonen>
jgraham_: hmm. http://james.html5.org/cgi-bin/tables/table_inspector.py?uri=http%3A%2F%2Fhsivonen.iki.fi%2Fthesis%2Fhtml5-conformance-checker.html&source=&algorithm=smartcolspan changed to worse :-(

[02:37:01.0000] <hsivonen>
jgraham_: the expected disassociation of the big abstract cell still doesn't happen

[02:37:02.0000] <jgraham>
hsivonen: I may have got it wrong of course :)

[02:37:03.0000] <hsivonen>
jgraham: but now the horizontal associations don't work

[02:38:00.0000] <Lachy_>
I also met Chris Wilson today

[02:38:01.0000] <jgraham>
hsivonen: The latter is expected as the smart colspan only looks for vertical associations

[02:38:02.0000] <Hixie>
Lachy_: did anyone explain how the Semantic Web was going to avoid spammers doing metadata-stuffing?

[02:38:03.0000] <hsivonen>
jgraham: oh.

[02:38:04.0000] <hsivonen>
jgraham: IIRC, clicking "Computer Science and Engineering" used to highlight "Department:", which was good

[02:39:00.0000] <Lachy_>
no, that topic never came up.  But without any applications for spammers to exploit, there's really no problem anyway.

[02:39:01.0000] <Hixie>
(cos that and the question of how to get ordinary authors to output triples are the two main problems i have with the SW)

[02:39:02.0000] <Hixie>
Lachy_: fair enough

[02:40:00.0000] <jgraham>
hsivonen: I'm reasonably sure that never worked with the smart colspan thing. I'll look into why the cell isn't being disassociated this evening (it worked with your testcase)

[02:40:01.0000] <Lachy_>
though, one potential app that was discussed later was the use of RDF in some sort of rights policy description framwork.  (that turned out to be essentially DRM, but without any kind of enforcement. That's left up to individual vendors)

[02:40:02.0000] <Hixie>
i thought we were busy moving _away_ from drm

[02:42:00.0000] <Lachy_>
yeah, some music labels are dropping it, though there are still some people and organisations that can't grasp the concept of treating customers like customers instead of criminals

[02:42:01.0000] <othermaciej>
so people on IRC can follow the side commentary in email: http://lists.w3.org/Archives/Public/www-archive/2007Sep/0099.html

[02:45:00.0000] <jgraham>
/me thinks that Steve joining IRC would be more straightforward than having a parallel conversation via email but realises this might not be possible for a variety of reasons

[02:45:01.0000] <Lachy_>
anyway, on a more positive note, Chris' presentation about the HTMLWG, Marcos' Widgets and Dean Jackson's SVG were intereresting

[02:58:00.0000] <jgraham>
hsivonen: http://james.html5.org/cgi-bin/tables/table_inspector.py?uri=http%3A%2F%2Fhsivonen.iki.fi%2Fthesis%2Fhtml5-conformance-checker.html&source=&algorithm=smartcolspan&no_headings_if_spans_data_col=1 (I think you didn't select the correct option; the UI is abysmal, so I'm not surprised)

[03:00:00.0000] <othermaciej>
Lachy_: cool, any highlights?

[03:01:00.0000] <hsivonen>
jgraham: oh. excellent. thank you. (I used the exact same setting I had used before.)

[03:01:01.0000] <Lachy_>
well, I spoke to Chris during lunch about Microsoft's position on HTML5 and when they would be sending their review to the HTMLWG...

[03:02:00.0000] <Lachy_>
Chris' biggest problems with the spec is regarding <video> (mostly because of patents) and <canvas>, because he claims that not within the charter.

[03:03:00.0000] <Lachy_>
he send he would be focussing on reviewing the spec and send it shortly, but couldn't be any more specific about when

[03:03:01.0000] <othermaciej>
I suppose it would be stating the obvious to point out that these are two areas where proprietary technologies dominate on the web due to inadequacy of current standards-based alternatives

[03:05:00.0000] <Lachy_>
he also had a problem with the accessibility of canvas, but I didn't get a clear response when I said it was just as accessible as static images - alternate content can and should be provided elsewhere.

[03:07:00.0000] <othermaciej>
it does seem that scene-graph based solutions could have an advantage in cases where interaction is desired (at least for clicks that do simple activation - not so much for more freeform interaction)

[03:08:00.0000] <othermaciej>
maybe it would be worthwhile to have something similar to imagemaps to define interactive areas in a canvas

[03:08:01.0000] <othermaciej>
in a way that could be exposed to assistive technologies

[03:09:00.0000] <othermaciej>
it couldn't handle complex interaction cases (like the drawing area of a paint program) but it's not obvious if anything reasonable can

[03:10:00.0000] <Lachy_>
could this work? <canvas map=#foo></canvas> <map id=foo><area onclick=doSomeInteraction()></map>

[03:11:00.0000] <othermaciej>
you'd want a decent API to programatically alter the <area>s and probably also the ability to define one with a general bezier path

[03:12:00.0000] <Lachy_>
maybe, but maybe possible that SVG could probably solve those use cases better than canvas, since you can already attach events to any shape or path

[03:13:00.0000] <othermaciej>
that is true, though you would need role="" or similar to expose those to assistive technologies reasonably

[03:15:00.0000] <Lachy_>
oh, Dean Jackson showed off a really cool app built with SVG and <video> running in recent internal build of Safari

[03:17:00.0000] <othermaciej>
we have an html <video> implementation checked in on a branch in the open source webkit tree but we haven't really publicized it much yet

[03:17:01.0000] <Lachy_>
yeah, that's what he told me

[03:17:02.0000] <othermaciej>
which reminds me that I need to wrangle up our implementation feedback because we have some changes to suggest

[03:18:00.0000] <hsivonen>
Desktop platforms don't ban direct-draw 2D graphics APIs for accessibility reasons. Instead, they provide low-level accessibility APIs.

[03:19:00.0000] <hsivonen>
Likewise, HTML shouldn't ban direct-draw 2D graphics but should provide a low-level accessibility API (<canvas> subtree with ARIA)

[03:19:01.0000] <Lachy_>
I'd prefer to find something simpler than ARIA if possible

[03:21:00.0000] <othermaciej>
extending image maps seems potentially easier to use and also possibly useful for other reasons in addition to accessibility

[03:21:01.0000] <othermaciej>
(and could also be used in conjunction with ARIA)

[03:23:00.0000] <othermaciej>
I guess it depends on whether trying to actually manage the clickable areas is more likely helpful or annoying

[03:24:00.0000] <hsivonen>
forcing people to use a scene-graph-based solution (SVG) solves very little if the author doesn't make an effort to take care of accessibity (using ARIA, etc.)

[03:24:01.0000] <othermaciej>
SVG at least lets you use <a> elements in your scene graph so you could get built-in link semantics

[03:25:00.0000] <othermaciej>
but of course this would not cover other forms of interaction

[03:26:00.0000] <hsivonen>
yeah, the main benefit of the scene graph is that doing VoiceOver-style correlation of the visual point of interest and the aural point of interest comes "for free"

[03:27:00.0000] <hsivonen>
whereas walking the <canvas> subtree could give a JAWS-like result that doesn't highlight the corresponding part of the visual <canvas>

[03:27:01.0000] <othermaciej>
which an image map style approach could hypothetically solve at least for simple cases

[03:27:02.0000] <othermaciej>
though unclear if authorability would be acceptable

[03:42:00.0000] <Hixie>
it's not clear to me how the use cases of <canvas> (as opposed to SVG) can really be made accessible at all

[03:42:01.0000] <Lachy_>
I think we need to document the use cases for interactive canvas that could possibly be made accessible.  Yahoo Pipes would be one, since, AFAIK, there's no way to draw pipes and add components without  a mouse.

[03:42:02.0000] <Lachy_>
though I'm not entirely sure how that could be done without a complete separate UI

[03:42:03.0000] <Hixie>
those being graphical games, graphical image manipulation, and things like fractal visualisation

[03:43:00.0000] <Hixie>
the pipes in yahoo pipes could be trivially done using some simple text with links inside the canvas, as far as i can tell

[03:43:01.0000] <Hixie>
but yeah, seems like you'd want a separate ui for that

[03:45:00.0000] <Lachy_>
I doubt something like CanvasPaint could be made accessible to a blind user, since one needs to see in order to paint. Though, it could be made accessible to a keyboard user using cursor keys

[03:46:00.0000] <Hixie>
that doesn't require anything to do with aria

[03:46:01.0000] <Hixie>
just requires OS-level mousekeys support

[03:46:02.0000] <Lachy_>
indeed, cursor keys are provided by the OS

[03:46:03.0000] <hsivonen>
Hixie: the main accessibility problem with <canvas> is that it can be used to implement the visual part of use cases that theoretically should be done in SVG.

[03:46:04.0000] <Hixie>
hsivonen: just like <table> elements can be used to implement the visual part of use cases that theoretically should be done in CSS

[03:47:00.0000] <hsivonen>
Hixie: that is, <canvas> is low-level, and low-level APIs make it easier to do the wrong thing

[03:47:01.0000] <Hixie>
except maybe not quite as harmful

[03:47:02.0000] <Hixie>
yup

[03:47:03.0000] <karlUshi>
opening pandora's box

[03:47:04.0000] <Hixie>
just look at how ajax is used to replace static sites

[03:47:05.0000] <Hixie>
by loading pages dynamically

[03:47:06.0000] <Hixie>
man that is annoying

[03:48:00.0000] <hsivonen>
karlUshi: however, if there's enough demand for pandora's box to be opened, competing proprietary technologies will open it

[03:49:00.0000] <hsivonen>
(or have opened it already)

[03:50:00.0000] <karlUshi>
oh yes, for sure. But it doesn't mean you have to go down the path with everyone. Only a few people care about ecology that doesn't mean we should stop fighting massively used technologies which create global warming. :) There is a tension between the two, find the right balance is the key. 

[03:51:00.0000] <Lachy_>
yeah, it's better to provide authors with the keys to open the box instead of letting them break it open with a crowbar

[03:51:01.0000] <othermaciej>
it does seem that most uses of canvas are either non-interactive or not fixable with scene-graph type solutions

[03:51:02.0000] <karlUshi>
/me wonders where Lachy has grown up ;)

[03:54:00.0000] <othermaciej>
but if there are cases where it's called for, I think the right solution would be to add some suitable low-level accessibility mechanism rather than drop canvas

[03:55:00.0000] <hsivonen>
any ideas how to prevent people from abusing "show source" as an open proxy?

[03:56:00.0000] <hsivonen>
in an online validator, that is

[03:57:00.0000] <Lachy_>
what's the problem with that and why would authors try to anyway?

[03:57:01.0000] <Lachy_>
s/authors/uses/

[03:57:02.0000] <Lachy_>
*users

[03:57:03.0000] <othermaciej>
does that show the source as source, or attempt to render it?

[03:58:00.0000] <hsivonen>
Lachy_: for all the reasons why people seek open proxies: to cover their tracks accessing contraband

[03:59:00.0000] <hsivonen>
othermaciej: it dumps the source as content, but a smallish script could be written to feed the result as renderable to a browser

[04:02:00.0000] <Lachy_>
hsivonen, add a rights policy written in RDF that expresses using triples that users are not allowed to use the service as an open proxy ;-)

[04:11:00.0000] <Steve_>
hi all just lurking

[04:12:00.0000] <hsivonen>
hi

[04:13:00.0000] <Steve_>
its steve faulkner btw

[04:14:00.0000] <Steve_>
now i am able to talk i porbably won't ever get any work done :-)

[04:15:00.0000] <Lachy>
Hi Steve

[04:18:00.0000] <hsivonen>
validator.nu now supports &out=xml

[04:18:01.0000] <hsivonen>
expect bugs

[04:18:02.0000] <hsivonen>
in particular, I haven't yet bullet-proofed it against non-XML chars

[04:21:00.0000] <othermaciej>
hi Steve_

[04:23:00.0000] <Lachy>
hsivonen, any idea why Firefox doesn't show the XML tree when I load the xml output? http://validator.nu/?doc=http%3A%2F%2Fannevankesteren.nl%2F2007%2F09%2Falt&out=xml

[04:23:01.0000] <hsivonen>
Lachy: the XHTML namespace

[04:23:02.0000] <Lachy>
oh

[04:28:00.0000] <krijnh>
Is it okay for a JS for in loop to return the objects in a different order than they were put in?

[04:28:01.0000] <krijnh>
Opera seems to do that

[04:29:00.0000] <Lachy>
hsivonen, why does the xml output declare xmlns:h="..." and then use <code xmlns="...">?

[04:30:00.0000] <hsivonen>
Lachy: I thought I'd be helping the serializer with the former but the serializer chose to do the latter

[04:31:00.0000] <hsivonen>
Lachy: apparently, the the Xalan serializer prefers not to alter prefixes instead of preferring to avoid new namespace declarations

[04:31:01.0000] <hsivonen>
krijnh: JS objects behaving as hashtables are unordered, IIRC

[04:32:00.0000] <hsivonen>
krijnh: at least I remember reading that JSON objects should have HashMap as opposed to LinkedHashMap semantics in Java

[04:37:00.0000] <Hixie>
hey Steve_ 

[04:38:00.0000] <Steve_>
hi ian hope that our email exchange has not fixed our opinions of each other

[04:39:00.0000] <krijnh>
hsivonen: ah, okay

[04:39:01.0000] <Hixie>
steve: not on my end at least :-)

[04:39:02.0000] <Hixie>
Steve_: like i said in the thread, i really don't take into account where data is coming from when writing the spec

[04:40:00.0000] <Steve_>
hixie: me neither i would much prefer to be on good terms with people

[04:41:00.0000] <Steve_>
hixe: (i know i brought it up) but wanted to clear the air, anyway i didn't join the irc to continue the discussion, but to read and learn hopefully :-)

[04:42:00.0000] <Hixie>
:-)

[04:55:00.0000] <othermaciej>
krijnh: the ECMAScript spec lets for..in return the properties in any order

[04:55:01.0000] <othermaciej>
krijnh: however, there are sites that depend on returning them in original insertion order, at least for author-defined properties

[04:55:02.0000] <othermaciej>
krijnh: because that is what IE and Mozilla do

[04:56:00.0000] <othermaciej>
(and also Safari now too, though it didn't originally)

[04:56:01.0000] <othermaciej>
krijnh: so if Opera doesn't do that it is likely a bug, though not a standards-compliance bug

[04:57:00.0000] <hsivonen>
hmm. looks like I need to know about JS reserved words in order to sanitize callback names :-(

[04:58:00.0000] <hsivonen>
hmm. I wonder if real-world JS interpreters know about astral character categories...

[04:58:01.0000] <hsivonen>
having to know about Unicode categories in order to parse identifiers seems wasteful

[05:12:00.0000] <Hixie>
right, nn

[05:37:00.0000] <virtuelv>
Hm. I've found a site where the author actually writes sensible content that could be used with longdesc

[05:38:00.0000] <virtuelv>
(Meaning he writes meaningful longdesc, but doesn't provide an attribute, or a URL for the longdesc content -- he displays it in search results, though)

[05:41:00.0000] <Lachy_>
virtuelv, URI?

[05:42:00.0000] <virtuelv>
see the output of http://www.ohnorobot.com/index.pl?comic=56&s=Hypotheticals&search=Search and compare it to http://xkcd.com/248/

[05:43:00.0000] <virtuelv>
Lachy_: or try searching for the title of http://xkcd.com/135/

[05:44:00.0000] <Lachy_>
virtuelv, is that search actually maintained by the author of xkcd or just someone else who does it for him?

[05:44:01.0000] <virtuelv>
Lachy_: dunno

[05:44:02.0000] <Philip`>
I believe readers submit transcriptions of the comics

[05:45:00.0000] <Philip`>
http://www.ohnorobot.com/letsbefriends.pl - "By adding a small bit of code to your comics pages, you make it possible for yourself and your readers to transcribe each comic, quickly and accurately building your own personalized comic search engine!"

[05:45:01.0000] <Lachy_>
http://www.ohnorobot.com/archive.pl?comic=56&show=1&page=11

[05:45:02.0000] <Lachy_>
"[untranscribed - please consider transcribing this comic!]"

[05:45:03.0000] <Lachy_>
see the last one listed

[05:46:00.0000] <virtuelv>
their idea is neatish, though

[05:47:00.0000] <virtuelv>
I don't, for one second, believe that web authors will ever bother with longdesc

[05:47:01.0000] <virtuelv>
but allowing people to transcribe and upload transcription data for an image, and put it somewhere on the web seems feasible

[05:48:00.0000] <Lachy_>
indeed. It's evidence that the community-based alternative content approach may work for other sites,  perhaps photo sites like Flickr

[05:48:01.0000] <Lachy_>
and also that SEO really is an incentive for providing alt text

[05:48:02.0000] <hsivonen>
Lachy_: my expectations with Flickr are low

[05:49:00.0000] <hsivonen>
Lachy_: I've solicited tags on my photos from stranges for 14 months

[05:49:01.0000] <Lachy_>
yeah, I wouldn't expect a large proportion of users to contribute

[05:49:02.0000] <hsivonen>
Lachy_: no one has tagged my photos so far

[05:49:03.0000] <hsivonen>
Lachy_: my photos aren't as interesting as xkcd

[05:49:04.0000] <Lachy_>
where's your photo stream?

[05:50:00.0000] <hsivonen>
Lachy_: http://www.flickr.com/photos/hsivonen/

[05:50:01.0000] <Lachy_>
hmm. that was predictable.

[05:50:02.0000] <krijnh>
othermaciej: Yeah, okay, but it's better not to assume any order :)

[05:50:03.0000] <hsivonen>
Lachy_: community work only works when the subject matter is interesting enough to create a community

[05:50:04.0000] <hsivonen>
the photos of a random guy generally aren't

[05:51:00.0000] <Lachy_>
yeah, but there are communities in flickr and popular photographers who would have a lot more viewers than yourself.

[05:56:00.0000] <virtuelv>
Heh. I found myself on one of hsivonen's photos

[05:58:00.0000] <Steve_f>
i don't hold much hope for sites like flickr to provide alt texts in many cases, i was checking the just uploaded files page on flcikr and only about 5% had soemthing in the alt that could be considered of any use

[05:59:00.0000] <Steve_f>
but certain tagged photo section appear to be better

[06:18:00.0000] <Steve_f>
hsivonen: the alts on your photos aren't too bad :-). I know that they are just a replication of the title text, but for users of AT who navigate the page via tabbing or use a keystroke (example G in JAWS) to move through images or use a links list (as all the photos arecontained within  links), they don't get that replication or the association between text and the image.

[06:21:00.0000] <Lachy_>
I wonder, in the case of <figure><a href="large-image"><img src="thumbnail"></a> <legend>Caption</legend></figure>, ATs should probably fallback to reading the caption as the link text even though it's technically not part of the link.

[06:21:01.0000] <Lachy_>
I wonder if that would be possible

[06:22:00.0000] <zcorpan>
should be possible

[06:24:00.0000] <Steve_f>
if there is a relationship between them there should be no problem

[06:26:00.0000] <Steve_f>
i this case as the image has a functional role it should describe the traget of the link e.g larger image caption

[06:27:00.0000] <Steve_f>
or frontloading the unique info "caption larger image"

[06:56:00.0000] <Lachy_>
Hixie, yt?

[08:40:00.0000] <Philip`>
http://xtech06.usefulinc.com/schedule/paper/58 says "This is <span property="foaf:name">Jo Lambda</span>'s home page." - are there languages where that doesn't work, because possessives aren't just a suffix/prefix on the name?

[12:06:00.0000] <zcorpan>
http://www.madwebskills.net/2007/09/26/wds07-workshop-day-two/

[12:12:00.0000] <Hixie>
Lachy: here

[12:20:00.0000] <Hixie>
zcorpan: your spec does more to explain aria than anything i have ever seen from the aria advocates in the last 3 years

[12:21:00.0000] <Hixie>
zcorpan: assuming you can resolve the two main big issue boxes in that spec (the ones that say what the values and attributes are and what they mean), we might actually have something that can be useful to the html5 spec.

[12:25:00.0000] <zcorpan>
Hixie: yeah.

[12:25:01.0000] <zcorpan>
Hixie: i started writing it three days ago. :)

[12:26:00.0000] <Hixie>
yeah

[12:27:00.0000] <zcorpan>
i think i'll leave the spec to rest for a bit; i have some other things to work on

[12:27:01.0000] <zcorpan>
but i plan to spec everything that's needed to implement it in due course

[12:31:00.0000] <markp>
url to said spec?

[12:31:01.0000] <zcorpan>
http://simon.html5.org/specs/aria-proposal

[12:31:02.0000] <markp>
thx

[12:32:00.0000] <markp>
sigh

[12:32:01.0000] <markp>
aaa:clusterfuck="true"

[12:41:00.0000] <hsivonen>
Philip`: how did you generate the SVG formulas from LaTeX?

[12:43:00.0000] <gsnedders>
/me wonders how to mark-up a graph

[12:44:00.0000] <Hixie>
zcorpan: as it stands, it's still useless, since it doesn't define what any of the values and attributes mean, which is the main problem with aria. It's certainly a step in the right direction though.

[12:44:01.0000] <zcorpan>
Hixie: indeed

[12:44:02.0000] <Hixie>
/me tries to understand the w3c's obsession with scheduling the unschedulable

[12:45:00.0000] <gsnedders>
MathML makes no provisions for graphs, SVG wouldn't really work with cubic graphs…

[12:45:01.0000] <Hixie>
regardless of what answers i give for the question of when xbl2 will exit cr, someone says it's unacceptable.

[12:45:02.0000] <gsnedders>
Hixie: tomorrow. kthxbai.

[12:47:00.0000] <hsivonen>
http://developer.mozilla.org/en/docs/ARIA_to_API_mapping

[12:47:01.0000] <hsivonen>
that doc seems to define the semantics by reference to MSAA

[12:49:00.0000] <zcorpan>
yep, i will need to research that part. i also think some things should happen in response to focus and changes to the dom, etc

[12:51:00.0000] <bewest>
/me is surpised no one has mentioned couchDB in the course of "why sql" re offline web apps

[12:58:00.0000] <Philip`>
hsivonen: From a menu item in Inkscape, which renders LaTeX to PS normally then uses pstoedit (with the '-dt' option to make fonts work, I think) to get SVG

[13:01:00.0000] <Philip`>
gsnedders: <canvas><table>...data...</table></canvas> and then you can even use canvas3d and get shiny reflective texture-mapped rotating graphs :-)

[13:01:01.0000] <gsnedders>
Philip`: oh yuck.

[13:04:00.0000] <Philip`>
I kind of like the automatic table-to-graph conversion in http://canvex.lazyilluminati.com/survey/2007-07-17/analyse.cgi/index except it's not fancy enough :-(

[13:08:00.0000] <gsnedders>
Philip`: my physics teacher was calling bar charts the second worse type of graphs :P

[13:09:00.0000] <Philip`>
How else are you meant to represent frequencies of discrete values?

[13:10:00.0000] <Philip`>
...apart from pie charts, which I'd guess are the first worst type of graph :-)

[13:11:00.0000] <gsnedders>
no, stack charts were, IIRC

[13:21:00.0000] <Philip`>
/me wonders if you could do something with the table header association algorithm to determine a table's structure, then automatically feed the data into PlotKit to get graphs of it

[13:24:00.0000] <hsivonen>
Philip`: thanks

[13:51:00.0000] <Hixie>
this app cache thing is going to make things SO confusing to people who list more than they should in their manigest

[13:51:01.0000] <Hixie>
manifest

[13:58:00.0000] <jgraham>
/me notes that #7 in DanC's list of things to do with RDFa is happening without RDFa and even without the author having to insert the data

[14:01:00.0000] <gsnedders>
can someone create GraphML? :P

[14:02:00.0000] <gsnedders>
(possibly as a delta spec on top of MathML)

[14:02:01.0000] <gsnedders>
possibly start at version 5?

[14:02:02.0000] <jgraham>
e.g. http://www.cl.cam.ac.uk/~aac10/escience/sciborg.html

[14:02:03.0000] <jgraham>
gsnedders: GraphML would be tough

[14:03:00.0000] <Philip`>
gsnedders: Use cases? I'm not quite sure what you want it for :-)

[14:07:00.0000] <gsnedders>
Philip`: graphing things like f(x) and f'(x) (for the same function). Just thinking about typing up all of my Higher Maths notes :P

[14:08:00.0000] <gsnedders>
Philip`: and then things in physics like the relation between pressure and the multiplicative inverse of the volume

[14:09:00.0000] <gsnedders>
jgraham: surely all you need to do is specify some method to link up some graphing software to MathML?

[14:11:00.0000] <Philip`>
What's wrong with existing solutions, like using gnuplot and outputting PNG or SVG?

[14:14:00.0000] <gsnedders>
Philip`: surely any export to SVG of something like an exponential curve will rely on setting points, which will therefore lessen quality somewhat?

[14:14:01.0000] <Philip`>
Also, it's far easier to just scan hand-written notes rather than type them in :-p

[14:15:00.0000] <Philip`>
s/in/up/

[14:15:01.0000] <gsnedders>
Philip`: but harder to read :P

[14:15:02.0000] <gsnedders>
/me has hellish handwriting

[14:17:00.0000] <Philip`>
Just put error bars on the exponential-approximated-by-Beziers curve, since that'll be proper and physicsy

[14:18:00.0000] <gsnedders>
the more I think about doing it, the less easy it seems to do :P

[14:18:01.0000] <Philip`>
(Actually, I'd guess gnuplot always approximates with straight lines, but the same concept applies)

[14:19:00.0000] <gsnedders>
I got some homework for next Monday. I can't remember what.

[14:19:01.0000] <gsnedders>
s/next/this/

[14:21:00.0000] <Hixie>
jgraham: in fact, all of 1 through 5 are...

[14:41:00.0000] <jgraham>
"Finally, though Ursula may not know what to make of the paul:audience predicate, she can quickly find out what this predicate means using typical RDF navigation." I have no idea what "typical RDF navigation" is...

[14:43:00.0000] <hsivonen>
jgraham: download some OWL?

[14:43:01.0000] <jgraham>
and?

[14:44:00.0000] <othermaciej>
meta is like cowbell

[14:44:01.0000] <othermaciej>
no matter how much you have, you clearly need more

[14:45:00.0000] <jgraham>
/me knows nothing about RDF except that most things using RDF seem to have been written under the assumption that everyone using it is exceptionally bright and into markup-based categorisation

[14:51:00.0000] <jgraham>
gsnedders: If all you want is a function plotting language, content MathML might get you most of the way there. If you want to do data plots as well things get harder

[14:57:00.0000] <hsivonen>
hmm. these XML and JSON formats I have designed waste an insane propertion of bytes in repeated element, attribute and JSON object key names

[14:58:00.0000] <hsivonen>
proportion even

[14:58:01.0000] <hsivonen>
perhaps I should investigate gzip

[14:59:00.0000] <kingryan>
hsivonen: or bencode?

[14:59:01.0000] <kingryan>
Bencode

[14:59:02.0000] <kingryan>
rather http://en.wikipedia.org/wiki/Bencode

[14:59:03.0000] <hsivonen>
/me looks

[14:59:04.0000] <kingryan>
like a compact less readable json

[15:00:00.0000] <Philip`>
Just pack all the data into a custom binary stream

[15:00:01.0000] <hsivonen>
kingryan: I take it that it doesn't have the off-the-shelf tool benefits nor the mindshare benefits of JSON

[15:01:00.0000] <kingryan>
hsivonen: correct

[15:02:00.0000] <hsivonen>
figuring out how to enable gzip filtering in Jetty seems more like something that software at the other end of the pipe might support

[15:03:00.0000] <kingryan>
yeah

[15:03:01.0000] <kingryan>
http://jetty.mortbay.org/xref/org/mortbay/jetty/servlet/DefaultServlet.html

[15:03:02.0000] <kingryan>
"gzip             If set to true, ...."

[15:03:03.0000] <Philip`>
/me converted a game engine to use XML instead of a custom binary format for its map files, which was alright until people started making maps with thousands of trees, at ~170 bytes of XML per tree vs ~20 bytes of binary data

[15:03:04.0000] <kingryan>
wait, that's not an on-the-fly gzipper

[15:05:00.0000] <Lachy>
ha! "Use Case #9 — Publishing a RDF Vocabulary" - how does that qualify as a use case for RDF?

[15:05:01.0000] <Hixie>
huh, bencoding is quite nice

[15:05:02.0000] <Philip`>
Lachy: It's a use case for RDFa, not for RDF

[15:06:00.0000] <kingryan>
Hixie: it is nice, but doesn't have the popular tool support of json+gzip

[15:06:01.0000] <kingryan>
which gets you pretty close in terms of space savings

[15:06:02.0000] <Hixie>
kingryan: yeah but since it would take all of 10 lines in most languages to write a decoder...

[15:06:03.0000] <kingryan>
Hixie: writing the decoder isn't hard, it's getting people to install it

[15:06:04.0000] <Hixie>
kingryan: i like that it has bijection between values and encoded data

[15:07:00.0000] <kingryan>
yeah, that's nice

[15:07:01.0000] <Hixie>
though i can't find any definition anywhere of error handling for bencoded strings

[15:07:02.0000] <kingryan>
we'll looked at it for an internal project at Technorati, but ended up going with json+gzip instead

[15:07:03.0000] <kingryan>
there is no error handling, there is no spec

[15:08:00.0000] <kingryan>
other than http://wiki.theory.org/BitTorrentSpecification

[15:08:01.0000] <Hixie>
that's unfortunate

[15:08:02.0000] <Hixie>
i'm looking for a format for the manifest of offline application caches

[15:09:00.0000] <kingryan>
json seems like a good candidate

[15:09:01.0000] <Hixie>
i don't want to use json or xml, both have way too many ways of going wrong and json doesn't define error handling

[15:09:02.0000] <kingryan>
given that browsers tend to support i already

[15:09:03.0000] <Hixie>
and json is really heavy weight (though not as much as xml)

[15:10:00.0000] <Hixie>
i'm thinking of just having one uri per line, with # for comments, and maybe some annotation support of some kind to list the various other things we have to include

[15:10:01.0000] <kingryan>
so is HTML, maybe we should make a binary version?

[15:10:02.0000] <Hixie>
html has defined error handling now

[15:10:03.0000] <Hixie>
and yes, it's far too heavy weight for a manifest format

[15:10:04.0000] <hsivonen>
looks like my JSON serializer produces parseable JSON. yay

[15:11:00.0000] <Hixie>
i didn't even consider using html :-)

[15:11:01.0000] <kingryan>
/me points an obligatory finger at http://microformats.org/wiki/xoxo

[15:13:00.0000] <Philip`>
What kind of structure does the manifest need?

[15:13:01.0000] <Dashiva>
It seems like RDF(a) has hijacked all claims to sharing vocabularies

[15:14:00.0000] <Hixie>
Philip`: a list of URIs, a list of URI-prefix to URI mappings, another list of URIs distinguishable from the first, and user comments for documentation and so there is a way to force the file contents to change without changing their semantics.

[15:16:00.0000] <hsivonen>
validator.nu now supports &out=json

[15:16:01.0000] <hsivonen>
(the spec on the wiki isn't up-to-date yet)

[15:16:02.0000] <hsivonen>
callbacks aren't supported yet, either

[16:22:00.0000] <Hixie>
so

[16:22:01.0000] <Hixie>
if i have an opportunistic caching namespace of "http://example.com/data/"

[16:23:00.0000] <Hixie>
then if i go to "http://example.com/data/a" it'll get cached

[16:23:01.0000] <Hixie>
but what if i go to "http://example.com/data/"?

[16:23:02.0000] <Hixie>
should that match it too?

[16:23:03.0000] <Dashiva>
I would say yes, since it's likely to be http://example.com/data/index.html or similar in the background

[16:24:00.0000] <Hixie>
k

[16:27:00.0000] <hsivonen>
validator.nu now supports &out=json&callback=foo to get a JS callback instead of pure JSON

[16:28:00.0000] <hsivonen>
with IdentifierName and reserved word checks

[16:38:00.0000] <hsivonen>
/me wonders why Gecko and WebKit accept gzip, deflate but Opera acceps deflate, gzip

[16:38:01.0000] <hsivonen>
isn't gzip just deflate plus magic & CRC?

[16:43:00.0000] <Hixie>
/me slowly gets rid of red boxes in his work-in-progress offline section

[16:45:00.0000] <kingryan>
Hixie: out of curiosity, what do you use that has red boxen?

[16:48:00.0000] <Hixie>
i mean the red boxes in the spec

[16:48:01.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/#offline

[16:48:02.0000] <Hixie>
(not checked in yet)

[16:49:00.0000] <Hixie>
nice! the silly pipes thing i have that takes a word from my blog entries and then gets a flickr picture for that word to render next to my blog picked a picture of zibibbo's!

[16:50:00.0000] <hsivonen>
rfc 2616 is being friendly by defining the whole q value thing for content-encodings instead of just listing the order of preference...

[16:52:00.0000] <kingryan>
Hixie: ah

[16:52:01.0000] <Dashiva>
hsivonen: Yeah, it's really intuitive and never confused anyone

[16:57:00.0000] <hsivonen>
opera makes use of the q facility: Accept-Encoding: deflate, gzip, x-gzip, identity, *;q=0


2007-09-27
[17:02:00.0000] <hendry>
Hixie: awesome blog post. I am getting my head around tipping here too

[17:13:00.0000] <Philip`>
About canvas exceptions: there are quite a lot of simple cases where browsers differ, like getContext('unrecognised') and toDataURL('image/jpeg') and toDataURL('image/png', 1) and restore() and lots of Infinity/NaN and globalCompositeOperation='unknown' and loads more

[17:14:00.0000] <Philip`>
but I don't know which ones are worth trying to fix now (like for FF3 / Opera 9.5)

[17:19:00.0000] <Philip`>
(Also, I don't really like how the spec handles infinities in the transform functions - it seems weird and confusing, since it'll just silently stop rendering, and I expect it'd be more helpful to have exceptions in those cases)

[17:21:00.0000] <Philip`>
(Hmm, it looks like Opera 9.5 does throw exceptions in those cases (contrary to the spec), whereas Opera 9.2 didn't)

[17:21:01.0000] <Philip`>
((All Firefoxes throw, and Safari 3 doesn't))

[17:31:00.0000] <Hixie>
Philip`: iirc the idea was to make it easier to plot graphs with asymptotes without having to be too careful about boundary conditions

[17:37:00.0000] <Philip`>
Hixie: If you're plotting graphs, you'd want lineTo to handle infinities without throwing - transformations aren't relevant for that

[17:37:01.0000] <bewest>
hrm. I see opensearch mentioned in the discussion of link elements... I don't suppose the js API exposed by some browsers will make it into the spec as well?

[17:39:00.0000] <Hixie>
Philip`: i forget the exact use case. but it was something to do with an edge case and making it easier to handle.

[17:39:01.0000] <Philip`>
The comment in the spec blames me for wanting scale(x);translate(1/x);drawStuff() to work (drawing nothing) when x=0, but I'm not convinced now that that's sufficiently useful or common

[17:40:00.0000] <Hixie>
ah heh

[17:40:01.0000] <Hixie>
well, send more mail

[17:40:02.0000] <Hixie>
not sure when i'll get to canvas next though

[17:40:03.0000] <Hixie>
it's gotten more attention than most parts of the spec

[17:41:00.0000] <Hixie>
incidentally I don't suppose anyone has written a perl html5 parser yet

[17:41:01.0000] <Hixie>
/me wants to write one himself but doesn't want to embark on that quite yet

[17:41:02.0000] <Hixie>
yet i need one now :-)

[17:41:03.0000] <Hixie>
oh well, regexps it is.

[17:42:00.0000] <Philip`>
I'll see if I can think of any compelling arguments about infinite transformations, though I'm not sure if I'll come up with anything useful :-)

[17:42:01.0000] <Philip`>
I have a Perl HTML5 tokeniser

[17:42:02.0000] <Hixie>
i need a dom really

[17:42:03.0000] <Hixie>
but interesting

[17:42:04.0000] <Hixie>
is it online anywhere?

[17:43:00.0000] <Philip`>
http://canvex.lazyilluminati.com/svn/tokeniser/ will generate the Perl code

[17:43:01.0000] <Philip`>
/me looks for a pregenerated version

[17:44:00.0000] <Hixie>
nice

[17:44:01.0000] <Hixie>
http://canvex.lazyilluminati.com/svn/tokeniser/tokeniser.pl presumably

[17:45:00.0000] <Hixie>
ah no that's the wrapper

[17:45:01.0000] <Philip`>
That has everything except the tokeniser algorithm :-)

[17:46:00.0000] <Philip`>
http://canvex.lazyilluminati.com/misc/tokeniser/ though I haven't tested it recently and it was never particularly well developed in the first place

[17:46:01.0000] <Philip`>
(It can run all the tokeniser tests successfully, though)

[17:47:00.0000] <Philip`>
(...except for some Unicode issues, I think)

[17:47:01.0000] <Philip`>
Oh, it's even got hardcoded file paths in it

[17:50:00.0000] <Philip`>
/me still wants to write the rest of the HTML5 parser, and then it should work in C++/JS/Perl at the same time

[17:50:01.0000] <Hixie>
good luck

[17:51:00.0000] <Philip`>
/me still wants to do too many other things and doesn't know when he'll have the time :-(

[17:52:00.0000] <Hixie>
i know the feeling

[17:53:00.0000] <Philip`>
$ echo '<test ===>foo' | perl tokeniser.pl

[17:53:01.0000] <Philip`>
[["StartTag","test",{"=":"="}],["Character","foo\n"]]

[17:53:02.0000] <Philip`>
Hooray, it still works (after I remembered how to install the JSON module)

[18:13:00.0000] <Hixie>
oh hey, look at that, my cronjobs aren't running any more so the issues list isn't updating

[18:14:00.0000] <Hixie>
/me contacts dreamhost

[18:28:00.0000] <Hixie>
hmm

[18:28:01.0000] <Hixie>
we don't really have a way to _disable_ the app cache once you have one

[18:52:00.0000] <Hixie>
if i go to page A and it has an application="" with a manifest M1 that brings in page B

[18:52:01.0000] <Hixie>
and i later go to page B

[18:52:02.0000] <Hixie>
we have decided that it should load B from appcache M1

[18:52:03.0000] <Hixie>
ok so i go to M1 and load B but I find that that copy of B says application="" M2, not M1

[18:52:04.0000] <Hixie>
so what do i do?

[18:54:00.0000] <Hixie>
i can't just load it from M1 anyway, because then it'll fail and there's no way out other than fixing M1.

[18:54:01.0000] <Hixie>
so i have to give up and load it from the network (assuming i haven't got M2 loaded yet)

[18:54:02.0000] <Hixie>
but then i might find that it actually says application="" with a manifest M1

[18:55:00.0000] <Hixie>
(i'm assuming that this whole time the manifests themselves aren't changing, so we're not updating anything)

[19:07:00.0000] <Hixie>
...but i guess getting it back as M1 would be ok... i would just overwrite that particular entry in the cache.

[22:54:00.0000] <Hixie>
/me tries to untangle himself from the mess that has become the offline application cache work

[22:54:01.0000] <Hixie>
it's already a 1000+ line patch to the spec

[22:54:02.0000] <Hixie>
sheesh

[23:04:00.0000] <othermaciej>
Hixie: it's a tough, messy job

[23:04:01.0000] <othermaciej>
Hixie: but somebody's gotta do it

[23:05:00.0000] <Hixie>
there are a lot of edge cases

[23:06:00.0000] <othermaciej>
well, I hope you have the leadership skills, social grace, and all around friendliness to get the edge cases right

[00:17:00.0000] <Hixie>
krijnh: any idea why people mark so many boring lines as interesting in the irc logs?

[01:49:00.0000] <krijnh>
Hixie: no idea

[01:50:00.0000] <Hixie>
i'm thinking maybe the ui should change, i think right now it almost encourages you to hit random lines

[01:50:01.0000] <krijnh>
I only know the feature isn't that useful :)

[01:50:02.0000] <Hixie>
but i dunno what would be better

[01:50:03.0000] <Hixie>
the feature would be great if it wasn't abused :-)

[01:50:04.0000] <krijnh>
:)

[01:51:00.0000] <krijnh>
It isn't used that much either

[01:51:01.0000] <krijnh>
It's the longdesc of my irc logs

[01:51:02.0000] <krijnh>
Let's just drop it ;]

[01:51:03.0000] <Hixie>
fair enough :-)

[01:52:00.0000] <krijnh>
Statistics tell me there is an average of 3 important lines per day

[01:52:01.0000] <krijnh>
So

[01:52:02.0000] <krijnh>
How do we solve the problem?

[01:53:00.0000] <krijnh>
'use case': we want to let people know which parts are important

[01:53:01.0000] <krijnh>
Perhaps flagging the non-important ones makes more sense

[01:57:00.0000] <Hixie>
i like the current model

[01:57:01.0000] <Hixie>
i just think the current ui is poor

[01:57:02.0000] <Hixie>
i'm not sure how to improve it though

[01:58:00.0000] <krijnh>
Drag 'n drop stuff!

[01:58:01.0000] <krijnh>
The solution for everything

[02:00:00.0000] <krijnh>
If anybody has an idea; let me know :)

[02:00:01.0000] <krijnh>
Until then; flagging boring lines is considered harmful

[02:01:00.0000] <krijnh>
</afi>

[02:01:01.0000] <Dashiva>
We could make it a community based rating solution

[02:01:02.0000] <Dashiva>
(with tag clouds)

[02:40:00.0000] <hsivonen>
krijnh: I don't know how to improve it, either, but double-clicking and hovering is mobile unfriendly.

[02:41:00.0000] <hsivonen>
/me doesn't like q values in Accept-Encoding

[02:50:00.0000] <krijnh>
hsivonen: double clicking?

[02:51:00.0000] <krijnh>
Are people that addicted to irc logs, that they even read them on a mobile?

[02:51:01.0000] <hsivonen>
krijnh: to highlight an IRC log row, one needs to first hover and then double-click, right?

[02:51:02.0000] <krijnh>
hsivonen: no

[02:51:03.0000] <hsivonen>
krijnh: yes

[02:53:00.0000] <hsivonen>
/me finds that the online Jetty javadocs omit some important classes

[02:53:01.0000] <hsivonen>
like GzipFilter

[02:55:00.0000] <hsivonen>
krijnh: if I read IRC logs on the bus, I spend less time reading them when I'm at my desk

[02:56:00.0000] <krijnh>
Hehe, ke

[02:58:00.0000] <krijnh>
hsivonen: removed the :hover

[02:58:01.0000] <krijnh>
Now every line has a grey box

[02:58:02.0000] <krijnh>
And on hover it becomes yellow

[02:58:03.0000] <krijnh>
You can click the grey box as well though

[02:58:04.0000] <krijnh>
No double click needed

[02:58:05.0000] <krijnh>
Issue with jumping lines on hover fixed this way as well

[03:02:00.0000] <hsivonen>
can't see gray boxes in S60 Browser

[03:02:01.0000] <krijnh>
Why not?

[03:02:02.0000] <krijnh>
Can't you click the void space behind a line either? :)

[03:02:03.0000] <krijnh>
Click, push, touch, whatever

[03:03:00.0000] <hsivonen>
nope :-(

[03:04:00.0000] <hsivonen>
krijnh: works in MicroB on N800, though. Thanks

[03:04:01.0000] <zcorpan>
i can use the spatnav in opera to highlight lines

[03:06:00.0000] <hsivonen>
zcorpan: Opera is no good for reading the IRC logs. It shows the list markers, which take space. Also, it doesn't hide the leaves/joins. (8.6 on S60r3.1)

[03:10:00.0000] <zcorpan>
hsivonen: you want mini 4 beta ;)

[03:11:00.0000] <krijnh>
The leave/joins should be stripped from the HTML, I think

[03:12:00.0000] <zcorpan>
irrelevant="" :)

[03:13:00.0000] <hsivonen>
zcorpan: in Mini Beta, you have to reload to switch between SSR and minimap

[03:14:00.0000] <zcorpan>
hmm

[03:27:00.0000] <hsivonen>
bah. the Jetty GzipFilter doesn't do q values

[03:54:00.0000] <hsivonen>
JSON indeed compresses well

[03:55:00.0000] <hsivonen>
I'm *very* disappointed with Jetty docs, though

[03:55:01.0000] <hsivonen>
I had to read the source to figure out how to enable the GzipFilter

[03:55:02.0000] <hsivonen>
and the existence of the filter was undocumented

[03:56:00.0000] <hsivonen>
I found out accidentally from Eclipse's autocomplete

[09:08:00.0000] <hsivonen>
weird. Am I reading correctly that the Python gzip module wants to read for a file and won't read form another kind of source?

[09:09:00.0000] <hsivonen>
hmm. I guess I can pass a fileObj and a bogus name...

[09:10:00.0000] <hsivonen>
ah. diveintopython to rescue

[09:10:01.0000] <Philip`>
Can you use plain zlib instead?

[09:11:00.0000] <hsivonen>
Philip`: it looks complicated

[09:11:01.0000] <Philip`>
output = zlib.decompress(input) ? :-)

[09:11:02.0000] <hsivonen>
gzip.GzipFile(fileobj=foo)

[09:12:00.0000] <hsivonen>
Philip`: does decompress skip over gzip header and deal with the CRC?

[09:14:00.0000] <hsivonen>
in related news, I had regressed &out=text. works now. sorry

[09:17:00.0000] <Philip`>
It sounds like zlib.decompress handles the "standard gzip header" (unless you pass it negative wbits)

[09:17:01.0000] <Philip`>
but I don't know if it's exactly the same header, or if it does the right kind of checksum too

[09:20:00.0000] <hsivonen>
if response.getheader('Content-Encoding', 'identity').lower() == 'gzip': response = gzip.GzipFile(fileobj=StringIO.StringIO(response.read()))

[09:20:01.0000] <hsivonen>
that works

[09:21:00.0000] <hsivonen>
How badly does gzip break streamability, though?

[09:21:01.0000] <hsivonen>
surely it can't break it beyond its compression window?

[09:22:00.0000] <hsivonen>
how would piping gigabytes of data to gzip work otherwise?

[09:22:01.0000] <hsivonen>
markp explains GzipFile is being difficult because it needs random access to the fileobj

[09:25:00.0000] <hsivonen>
http://about.validator.nu/html5check.py now uses compression

[09:35:00.0000] <zcorpan>
/me adds form[action$="validator.nu/"] ~ *, form[action$="validator.nu/"] ~ * b { font-weight:normal !important; } to his user.css :)

[09:38:00.0000] <Dashiva>
And to think CSS used to be readable

[09:39:00.0000] <zcorpan>
krijnh: you could change the color of the box only when you hover the actual box -- not when you hover the line

[09:40:00.0000] <zcorpan>
krijnh: that would make it less distracting when reading :)

[09:41:00.0000] <zcorpan>
krijnh: or use checkboxes instead?

[09:44:00.0000] <zcorpan>
hmm, the ui fonts can expose to js what os theme the user has

[09:45:00.0000] <zcorpan>
dunno how that could be used

[09:45:01.0000] <hsivonen>
zcorpan: could be used for UI spoofing

[09:45:02.0000] <zcorpan>
hsivonen: yeah

[09:46:00.0000] <hsivonen>
zcorpan: although the whole CSS UI font idea is intended for white-hat UI consistency

[09:46:01.0000] <hsivonen>
which is what I'm trying to do, but your browser is not playing along to your taste :-(

[09:46:02.0000] <zcorpan>
indeed

[09:47:00.0000] <zcorpan>
perhaps browsers can combat ui spoofing in the same way as the visited links thing

[09:48:00.0000] <Philip`>
The UI spoofing use case seems to be handled alright by screenshotting the standard Windows UI into a GIF, judging by the adverts I see on the web

[09:48:01.0000] <Philip`>
and users don't care if minor details are not consistent with the standard UI, like if the dialog box's button is bouncing all over the place and flashing

[09:49:00.0000] <zcorpan>
Philip`: bouncing and flashing ads are too obvious to be spoofing

[09:54:00.0000] <zcorpan>
more serious spoofing would be to imitate active x dialogs in fake bank sites

[10:09:00.0000] <zcorpan>
hsivonen: your html5 schema doesn't allow id="" on <title> it seems

[10:12:00.0000] <zcorpan>
hsivonen: or any attributes on <title>

[10:30:00.0000] <zcorpan>
hsivonen: is the reason you don't have upload and textarea that you don't know how to integrate it nicely in the ui?

[10:41:00.0000] <gsnedders>
/me wonders what happens according to the spec if you have a <title> element within .innerHTML on a |div|

[10:42:00.0000] <zcorpan>
gsnedders: when setting innerHTML?

[10:42:01.0000] <gsnedders>
zcorpan: yeah

[10:44:00.0000] <gsnedders>
if it the fragment algorithm returns all the children of the root |html|, surely it'll return things like |head| for every fragment?

[10:45:00.0000] <zcorpan>
gsnedders: no, the parsing algorithm has fragment case checks

[10:46:00.0000] <zcorpan>
gsnedders: also, fragment parsing starts in the main phase

[10:46:01.0000] <gsnedders>
surely it starts with the insertion mode as "before head"?

[10:47:00.0000] <gsnedders>
then when it reaches the "any other start tag token" case it creates a |head| element

[10:47:01.0000] <zcorpan>
gsnedders: depends on the context element

[10:47:02.0000] <zcorpan>
i think

[10:47:03.0000] <gsnedders>
all the context element affects is the content model flag

[10:48:00.0000] <zcorpan>
ok

[10:48:01.0000] <gsnedders>
actually, it calls the  insertion mode appropriately algorithm

[10:51:00.0000] <gsnedders>
insertion mode starts as "in body"

[10:52:00.0000] <zcorpan>
regardless of the context element?

[10:52:01.0000] <gsnedders>
no, in the case of |div| (as per my question)

[10:55:00.0000] <zcorpan>
right

[10:56:00.0000] <zcorpan>
you process the "title" start tag token as if the insertion mode was in head

[10:57:00.0000] <zcorpan>
which says: "Follow the generic RCDATA parsing algorithm, with the head element pointer as the context node, unless that's null, in which case use the current node (fragment cose)."

[10:57:01.0000] <zcorpan>
the head element pointer will be null in your case

[10:57:02.0000] <gsnedders>
so it just goes where it was in the source?

[10:58:00.0000] <zcorpan>
yeah, seems so

[12:58:00.0000] <zcorpan>
Hixie: whereto did you send test cases to freedom scientific?

[13:00:00.0000] <Hixie>
zcorpan: support@, iirc

[13:00:01.0000] <Hixie>
i can find more info if you want

[13:00:02.0000] <zcorpan>
Hixie: that would be good

[13:01:00.0000] <Hixie>
k, in the middle of something right now, but remind me in 10-15 mins

[13:01:01.0000] <Hixie>
if i fornget

[13:01:02.0000] <zcorpan>
ok

[13:04:00.0000] <Hixie>
zcorpan: ok i e-mailed support⊙fc, eventually Bryan Carver <bcarver⊙fc>, their tech support director, e-mailed me back after having spoken with the dev team.

[13:05:00.0000] <zcorpan>
Hixie: ok, thanks

[13:06:00.0000] <Hixie>
they seemed to really like having nice simple test cases

[13:06:01.0000] <Hixie>
(unsurprisingly)

[13:06:02.0000] <Hixie>
(for those of you following along at home, the tests i sent them are at http://hixie.ch/tests/evil/screen-readers/ )

[13:08:00.0000] <bewest>
interesting... w3m renders bullets on each line in the second test

[13:08:01.0000] <Hixie>
w3m presumably doesn't support css

[13:09:00.0000] <bewest>
nope

[14:07:00.0000] <Hixie>
seeing the comments about my last blog entry on reddit is leading me to the conclusion that the people who read reddit aren't as technically capable as i'd previously assumed

[14:08:00.0000] <Hixie>
doesn't everyone find bit maths easy?

[14:08:01.0000] <kingryan>
Hixie: I'm surprised that you're surprised


2007-09-28
[22:32:00.0000] <Hixie>
http://www.w3.org/mid/p06240608c3222c5f42fe@%5B192.168.0.101%5D - someone should point out to sander that matthew was talking about unimplemented features, whereas the e-mail he cites is about a widely implemented feature...

[00:24:00.0000] <Hixie>
that's weird

[00:25:00.0000] <Hixie>
the html4all archives were recently switched from a text dump to a gzipped text dump, and since then the archive file hasn't actually updated

[01:43:00.0000] <Hixie>
hm, i wonder if the people in www-svg will see the latest thread as evidence of problems with http's content-type concept, or as evidence of an ignorant author

[01:46:00.0000] <heycam>
not evidence of a problem with content-type, just a problem of not sane defaults on the server

[01:46:01.0000] <Hixie>
well, you can never have sane defaults for emerging technologies

[01:46:02.0000] <Hixie>
since the server is likely years older than the technology

[01:47:00.0000] <heycam>
not hard to update your magic file, or whatever the server uses to determine content type

[01:47:01.0000] <Hixie>
in his case it is, he's not root

[01:47:02.0000] <othermaciej>
it would be better for servers not to send a content-type by default

[01:48:00.0000] <heycam>
if it doesn't know what type it is?  maybe

[01:48:01.0000] <othermaciej>
(not that it would help the author in this case, since browsers don't sniff for SVG)

[01:49:00.0000] <heycam>
do they sniff for svg if something is sent as application/xml?

[01:50:00.0000] <othermaciej>
for browsers with native SVG support, they would not need to

[01:50:01.0000] <othermaciej>
since rendering of XML content is based on the namespace, not the MIME type, so long as it is recognized as XML

[01:50:02.0000] <heycam>
"sniff" would mean just "look at the document element"

[01:50:03.0000] <heycam>
right

[01:50:04.0000] <othermaciej>
but presumably plugin-based solutions like ASV would not work

[01:50:05.0000] <heycam>
so that's a sane forward looking default for a web server to use then

[01:51:00.0000] <othermaciej>
to assume anything unknown is XML?

[01:51:01.0000] <heycam>
no :)  to say it's XML if it looks like XML.

[01:51:02.0000] <othermaciej>
so the server should do content sniffing?

[01:52:00.0000] <othermaciej>
if it comes down to content sniffing, better to let the client do it

[01:52:01.0000] <othermaciej>
if it became common for servers to serve with no Content-Type header when they don't know, you can bet browsers would improve sniffing for that case a lot

[01:53:00.0000] <heycam>
i suppose clients do get upgraded more often

[01:54:00.0000] <Hixie>
as a general rule you want to fake the metadata as late as possible

[01:54:01.0000] <Hixie>
because as soon as you add it, it becomes authoritative

[01:54:02.0000] <Hixie>
even if wrong

[01:54:03.0000] <heycam>
yes that does sound sensible

[01:55:00.0000] <Hixie>
(same reason, in fact, why it is suggested that critical images that are missing alt text should have the alt text invented by the client instead of being faked by the server)

[02:04:00.0000] <Hixie>
anyone have any opinions on the format for the appcache manifest?

[02:11:00.0000] <othermaciej>
I would prefer something simple (one entry per line, easy to parse entries) but I am sure some would prefer XML

[02:11:01.0000] <othermaciej>
and once someone suggests XML, someone else will suggest JSON

[02:12:00.0000] <Dashiva>
OOXML

[02:13:00.0000] <othermaciej>
it would also be nice to have some relatively unambiguous signature at the top, so things that are clearly not at all a manifest can be quickly rejected

[02:13:01.0000] <Steve_f>
hixie:"being faked by the server", depends on what usable data is available to the server (e.g. title or description) is better than none.

[02:15:00.0000] <Hixie>
othermaciej: yeah i am leaning towards one entry per line with space-separated annotation syntax, too

[02:15:01.0000] <Hixie>
othermaciej: and yes, it'll have a signature

[02:16:00.0000] <Hixie>
Steve_f: i'm not sure i understand what you're saying (you seem to have too many "is"s in your sentence)

[02:16:01.0000] <Steve_f>
hixie: The developer of the application would have a better idea about what could possibly substute for alt text than the client

[02:17:00.0000] <Hixie>
sure

[02:17:01.0000] <Hixie>
i'm talking about the case where there is no information available (other than information already in the page anyway)

[02:17:02.0000] <Hixie>
obviously if you have information available to create alt text, it should be used

[02:18:00.0000] <Steve_f>
then we agree :-)

[02:18:01.0000] <Dashiva>
And if we provide the information in RDFa, we'll make other people happy too :D

[02:19:00.0000] <Hixie>
Steve_f: indeed

[02:19:01.0000] <Hixie>
Steve_f: i've been a little mystified as to what all the fuss has been about to be honest

[02:19:02.0000] <Hixie>
Steve_f: though hopefully it'll become clear when i next work on that section

[02:20:00.0000] <Steve_f>
i think the point of disagreement is whether its better for the application to insert a flag to indicate that no usable alt is available rather than just leaving out the alt attribute.

[02:22:00.0000] <Dashiva>
One group seems to say "It has to be handled the same, so no difference needed" and another seems to say "We can't let no alt be valid for validation purposes"

[02:22:01.0000] <Hixie>
Steve_f: oh just the syntax issue remains?

[02:23:00.0000] <Steve_f>
hixie: for me yes, but i am just talking for myself, i understand the issue, but would like to see something to indicate to AT that the image should not be ignored because it contains important info.

[02:24:00.0000] <Hixie>
something other than just the lack of an alt="" attribute, you mean?

[02:24:01.0000] <Steve_f>
yes

[02:25:00.0000] <Hixie>
interesting

[02:25:01.0000] <Hixie>
what's your reasoning for that?

[02:25:02.0000] <Hixie>
i mean, why isn't the lack of the attribute enough?

[02:27:00.0000] <othermaciej>
lack of an attribute doesn't let you distinguish "definitely a key content image, but no alt is available" from "someone forgot alt"

[02:27:01.0000] <Steve_f>
Now AT generally treats no alt the same as alt="" that is unless its in a link the image is ignored by default. reason being that there are lost of images without alt attributes and informing the user of every on or even a subset would be damned annoying

[02:28:00.0000] <Hixie>
my understanding actually was that today ATs generally treated images with no alt very differently than images with alt="" (namely, they read out the filename or some godawful thing like that)

[02:28:01.0000] <Hixie>
but i don't understand why a new syntax would help

[02:28:02.0000] <Hixie>
wouldn't you just end up with a lot of images that had this new syntax despite being useless unimportant images?

[02:29:00.0000] <Hixie>
the same as we today have missing alt="" on useless unimportant images?

[02:29:01.0000] <Steve_f>
by default, only if the image is the sole content of a link (for jaws and window eyes) and the img does not have a title

[02:30:00.0000] <Hixie>
ah ok

[02:30:01.0000] <Hixie>
(that's better than i had understood. excellent.)

[02:30:02.0000] <othermaciej>
let's pretend the new syntax is noalt -- you have to at least think about whether to put <img src=foo noalt> or <img src=foo alt="">

[02:31:00.0000] <othermaciej>
assuming you care about conformance checking

[02:31:01.0000] <othermaciej>
if you don't, presumably you just leave it out and go merrily on your way

[02:31:02.0000] <othermaciej>
if the conformance checker required one or the other, it could even give brief advice on how to choose one

[02:32:00.0000] <Steve_f>
I don't think that html  conformance checking is a major reason why people include or don't include alt

[02:32:01.0000] <othermaciej>
well, it's obviously not a reason people *don't* include it

[02:33:00.0000] <Dashiva>
I would say conformance checking is why people -start- using it. Then they probably learn more and figure out why it's a good idea in itself on the way.

[02:33:01.0000] <Steve_f>
otherm: true

[02:33:02.0000] <othermaciej>
I would guess either conformance checking, or a general impression that it is the correct thing to do, or review of their html source by experts would be among the reasons in many cases

[02:34:00.0000] <Steve_f>
i think a major reason people use it is because it is displayed as a tooltip in IE

[02:35:00.0000] <hsivonen>
Steve_f: that depends a lot on the author and image. some designer types *avoid* alt (or use alt='') because they feel the tooltip taints their art

[02:35:01.0000] <Hixie>
othermaciej: noalt="" is certainly an interesting idea... is there any precedent for function-free syntax purely intended as a conformance checking aid? the only one i can think of is nohref on <area>, which was such a dismal disaster that we didn't bother to include it in html5.

[02:35:02.0000] <othermaciej>
perhaps, for those who only test in IE

[02:36:00.0000] <othermaciej>
Hixie: the DTD declaration? (although it has evolved to have the function of triggering standards mode)

[02:36:01.0000] <Hixie>
the DTD declaration would be another example of pretty dismal failure :-)

[02:36:02.0000] <Steve_f>
hixie: i don't see it as a conformance checking aid, i see it as a indicator it UA's

[02:37:00.0000] <Hixie>
Steve_f: sure, i was just responding to othermaciej's suggestion (he suggested it as a conformance checking aid)

[02:37:01.0000] <othermaciej>
I'm saying that is one possible purpose - it could also be an aid to AT

[02:37:02.0000] <Steve_f>
hixie: cool!

[02:37:03.0000] <othermaciej>
if it wanted to do something different in cases of apathy and ignorance

[02:38:00.0000] <Hixie>
Steve_f: in terms of an indicator to UAs, see my comments above from "but i don't understand why a new syntax..." and the next three lines

[02:38:01.0000] <othermaciej>
the main downside is that a normal mainstream UA wouldn't do anything different

[02:40:00.0000] <othermaciej>
Steve_f says that currently missing alt (the apathy case) is treated as if the image is decorative except when it is the sole content of a link

[02:41:00.0000] <Hixie>
right, because many images without alt="" are decorative

[02:41:01.0000] <othermaciej>
presumably noalt could be used to instead always signal presence of an image in some way

[02:41:02.0000] <Hixie>
i don't understand how we could get noalt="" to be reliable enough

[02:41:03.0000] <othermaciej>
well, people who don't care would not specify it, so that removes a large source of noise

[02:41:04.0000] <Hixie>
i wouldn't be at all surprised to see huge sites like picassa putting noalt="" on decorative images and omitting it on critical ones

[02:42:00.0000] <othermaciej>
that is possible

[02:42:01.0000] <othermaciej>
messages get garbled on the way to authors

[02:43:00.0000] <Hixie>
especially subtle ones like this

[02:43:01.0000] <othermaciej>
I will note that I don't consider my arguments in favor of it inevitably compelling, even though I have brought them up more than once

[02:43:02.0000] <jgraham>
Presumably accessibility guides would recommend always supplying alt text and never using noalt, so it's not clear who would use it

[02:43:03.0000] <Steve_f>
hixie: then we are back to the question of what is the use of having no alt attribute on an image to indicate that it is critical content, as effectively these images will be ignored

[02:45:00.0000] <Hixie>
Steve_f: well, it doesn't indicate critical content per se, it just reduces the pressure on authors who care about compliance to make up bogus alt texts where they simply have no control over the image

[02:45:01.0000] <Steve_f>
jgarham: accessibility guides have to come to terms with the reality that the alt is not going to be provided in cases such as photo sites and give guidance based on this 

[02:46:00.0000] <jgraham>
Steve_f: Do you think they will?

[02:46:01.0000] <Hixie>
/me ponders about whether bijection is a useful property for the manifest format to have

[02:47:00.0000] <Hixie>
i'm guessing it's gonna be hard to guarentee it without making whitespace errors excessively hard to debug

[02:47:01.0000] <Hixie>
oh well

[02:47:02.0000] <jgraham>
(also, Steve_f if you're using xchat tab will auto-complete usernames, which is nice)

[02:47:03.0000] <Steve_f>
jgraham: well i have and I work in the industry :-)

[02:48:00.0000] <jgraham>
Well I guess if people are being told the right thing it means there will be some meaningful signal in the usage of noalt.

[02:49:00.0000] <Steve_f>
i suggested that alt=" " quote space quote be used to indicate something other than content that should be ignored, reason being it does not require any new attributes

[02:50:00.0000] <Steve_f>
and does not have any majpor problems with backwards compatibility

[02:50:01.0000] <Hixie>
new attributes aren't a problem per se

[02:50:02.0000] <Hixie>
alt=" " has been widely used though

[02:50:03.0000] <Steve_f>
yes

[02:50:04.0000] <Hixie>
it's one of the most common alt texts according to some of my studies

[02:51:00.0000] <Hixie>
so i'm worried it in fact would have back-compat issues

[02:51:01.0000] <Steve_f>
hixie: thanks for the info, there goes another great idea...

[02:51:02.0000] <othermaciej>
any pattern to the use?

[02:52:00.0000] <othermaciej>
I guess it seems like it would most likely be a typo for alt=""

[02:52:01.0000] <Hixie>
didn't look at the use patterns

[02:52:02.0000] <Hixie>
it was very common along with things like alt="", alt="*", and the like

[02:53:00.0000] <Hixie>
also common was alt="This seller accepts PayPal"

[02:53:01.0000] <Hixie>
which tells you something about the ubiquity of eBay

[02:53:02.0000] <Steve_f>
whatever the outcome i would like to see some sort of decision sooner rather than later, so the AT vendors can be lobbied to  build in support for it early so when it starts to get used it is already in a few versions of the AT

[02:54:00.0000] <othermaciej>
Steve_f: do you have effective channels for lobbying them?

[02:55:00.0000] <Hixie>
i imagine i'll be looking at images again within a year

[02:55:01.0000] <Hixie>
which is soon relative to when the spec'll be done :-)

[02:55:02.0000] <hsivonen>
is there any other single ASCII non-alphanumeric character that could be used as the "alternative text unavailable" flag? (if " " and "*" won't work)

[02:56:00.0000] <Steve_f>
the company i work for has contacts with a number of AT vendors, my boss mike paciello has been around for yonks, he was one of the founders of WAI

[02:56:01.0000] <jgraham>
/me has to go now

[02:56:02.0000] <hsivonen>
would alt="_", alt="-" or alt="." have conflicts with existing content or sound too horrible in existing browser plus AT setups?

[02:56:03.0000] <Hixie>
i tried to get freedom scientific to give me feedback on html5, but they accepted my test cases and seemed to ignore my suggestion re the spec

[02:57:00.0000] <Steve_f>
they are not known for thier openeness, they don't provide any documentation on how they do stuff, which is really frustrating

[02:57:01.0000] <Hixie>
hsivonen: i think if we're making up new syntax we might as well use a new attribute, i don't see much benefit in having obscure syntax in alt=""

[02:58:00.0000] <hsivonen>
Hixie: the benefit would be suppressing JAWS/WindowsEyes from reading horrid filenames if the new magic value was less horrid when read

[02:58:01.0000] <Steve_f>
anyway thanks for the conversation, I have to go and do some paid work, i will resume lurking mode

[02:59:00.0000] <Hixie>
Steve_f: later

[02:59:01.0000] <Hixie>
hsivonen: we can always say that you can put both in (<img alt missingalt src="...">)

[02:59:02.0000] <hsivonen>
Hixie: true

[02:59:03.0000] <Hixie>
on another subject, i've put two (kinda crappy) sample syntaxes for the manifest file at http://www.whatwg.org/specs/web-apps/current-work/#offline (page down a bit)

[02:59:04.0000] <Hixie>
better suggestions welcome

[03:00:00.0000] <Hixie>
i'm gonna go to bed now though

[03:01:00.0000] <othermaciej>
hsivonen: apparently the filename reading is only in cases where the image is sole content of a link

[03:03:00.0000] <hsivonen>
othermaciej: yeah, but still. The bright side, though, is that when a markup generator generates a link, the programmer usually knows the function of the link (like "Original size") even if the content of the image is unknown in advance

[03:04:00.0000] <othermaciej>
hsivonen: if that's the recommendation, then presumably the filename readoing wouldn't kick in regardless of whether the syntax is a magic alt value or a new attribute

[04:38:00.0000] <hsivonen>
http://www.w3.org/Graphics/WebCGM/WG/2007/errata-10/webcgm10-errata-20070621.html

[04:38:01.0000] <hsivonen>
who uses WebCGM? is there browser support?

[04:58:00.0000] <othermaciej>
I don't know of any browser support

[14:13:00.0000] <hsivonen>
now I've got a *real* heisenbug

[14:14:00.0000] <Dashiva>
How fun

[14:23:00.0000] <hsivonen>
well, Show Source is now supported with the XML parser

[14:24:00.0000] <hsivonen>
bug occasionally (depending on how buffer boundaries fall depending on network bursts) the location counting goes to the weeds

[14:26:00.0000] <hsivonen>
hmm. I broke something

[14:33:00.0000] <hsivonen>
*now* Show Source is supported with the XML parser (subject to the heisenbug)

[14:43:00.0000] <hsivonen>
/me wonders who the writer of http://www.deitel.com/eBook/tabid/2478/Default.aspx is.

[14:44:00.0000] <hsivonen>
/me notes Dive Into®

[14:51:00.0000] <hendry>
hsivonen: i met Mark Pilgrim in SF at the wordpress 2.3 launch party :)

[14:55:00.0000] <hsivonen>
hendry: does WP 2.3 support Atom out of the box?

[14:55:01.0000] <hendry>
hsivonen: evidently though i have not checked

[14:55:02.0000] <hendry>
hsivonen: tbh i prefer ikiwiki.info

[16:07:00.0000] <Hixie>
crap, someone tried to ask for status on the naming debate

[16:08:00.0000] <Hixie>
some people need to learn to let sleeping dogs lie

[16:08:01.0000] <Hixie>
if they sleep for long enough, they die.

[16:08:02.0000] <Hixie>
<-- cat person

[16:21:00.0000] <gsnedders>
/me stares at Hixie blankly

[16:22:00.0000] <gsnedders>
Hixie: I guess the cat reference was a (bad) joke?

[16:22:01.0000] <Dashiva>
I once caught a cat the size of a semi-trailer

[16:39:00.0000] <Hixie>
gsnedders: yes :-P

[16:51:00.0000] <Hixie>
so nobody had any opinions on the manifest format huh

[16:56:00.0000] <aa>
I hate one-off formats, they always seem so cute at first, then you have to extend them and it becomes a mess

[16:56:01.0000] <aa>
See also: chrome.manifest in firefox

[16:56:02.0000] <aa>
JSON doesn't have any comment facilities

[16:56:03.0000] <aa>
so make it xml and be done with it

[16:57:00.0000] <aa>
(you asked)

[16:57:01.0000] <Dashiva>
Well, that's certainly an opinion :)

[16:57:02.0000] <Hixie>
aa: yeah, i don't like making my own format either

[16:57:03.0000] <Hixie>
aa: but xml and json both don't define error recovery

[16:58:00.0000] <aa>
why do you have to recover?

[16:58:01.0000] <aa>
sorry, I've not been paying attention last few days

[16:58:02.0000] <Hixie>
well, if it doesn't the debugging is gonna be a pain, since there's nowhere to report the errors

[16:58:03.0000] <Dashiva>
Can't the browser dump the error to console?

[16:58:04.0000] <othermaciej>
Hixie: most browsers have an error console

[16:58:05.0000] <aa>
that's what I was going to say

[16:58:06.0000] <Hixie>
it could

[16:59:00.0000] <aa>
also if there is UI for updating, it could go there

[16:59:01.0000] <Hixie>
sigh... using xml or json is gonna make it so much harder to test for interop... but ok...

[16:59:02.0000] <aa>
I vote for json then

[16:59:03.0000] <aa>
for obvious reasons


2007-09-29
[17:00:00.0000] <Hixie>
what reasons?

[17:00:01.0000] <Dashiva>
Well, with non-xml you have to test for interop on the format parser itself as well, don't you?

[17:00:02.0000] <aa>
Gears already has a JSON format

[17:00:03.0000] <aa>
and we don't really want to include an xml parser

[17:00:04.0000] <othermaciej>
if json doesn't have a way to add comments I think that's a big problem

[17:00:05.0000] <aa>
true, it is lame

[17:00:06.0000] <Hixie>
Dashiva: yeah but that becomes much easier, you don't have to test at the level of things like "what happens when you have a dictionary and are expecting a string" or "what happens when you have an element in the wrong namespace"

[17:01:00.0000] <aa>
othermaciej: that 'true' went to you

[17:01:01.0000] <othermaciej>
aa: roger that

[17:01:02.0000] <Dashiva>
JSON is just a format, we could define a comment property

[17:01:03.0000] <aa>
Dashiva: Not as convenient as being able to put it anywhere

[17:02:00.0000] <aa>
like above an individual array entry or something

[17:02:01.0000] <othermaciej>
does JSON not allow /* ... */ comments?

[17:02:02.0000] <aa>
I think json should just allow js comments, but I don't think it currently does, technically

[17:02:03.0000] <Dashiva>
/me wonders how long until someone suggests JSON5

[17:04:00.0000] <aa>
othermaciej: json.org doesn't define any comment grammar at all

[17:04:01.0000] <aa>
obviously we could just spec it in :)

[17:04:02.0000] <aa>
by we, I mean hixie

[17:05:00.0000] <Hixie>
oh yeah that'll go down REAL well

[17:05:01.0000] <othermaciej>
I think changing the basic JSON serialization should be avoided

[17:05:02.0000] <othermaciej>
I don't think JSON is really that much better than XML

[17:05:03.0000] <Hixie>
not for this, no

[17:06:00.0000] <Hixie>
it has all the same problems of needing all kinds of edge case definitions

[17:09:00.0000] <Dashiva>
What about SML?

[17:09:01.0000] <Hixie>
uri?

[17:10:00.0000] <Dashiva>
Wait, sdf

[17:11:00.0000] <Dashiva>
The one zcorpan was working on, http://simon.html5.org/specs/sdf

[17:11:01.0000] <Hixie>
same problem as xml and json

[17:11:02.0000] <Hixie>
the whole point is that we _don't_ want a syntax with arbitrary structure

[17:11:03.0000] <Hixie>
since then you have to define and implement and test how to handle every single possible unexpected structure

[17:13:00.0000] <Dashiva>
That kinda limits the options quite a bit

[17:15:00.0000] <Hixie>
bbiab, mtg

[04:41:00.0000] <hsivonen>
is there any way to inform HTTP clients that the server accepts *inbound* gzip-compressed POST data?

[04:42:00.0000] <hsivonen>
will clients go crazy if I use Accept-Encoding as a *response* header and write support for Content-Encoding as a *request* header?

[04:46:00.0000] <gsnedders>
hsivonen: clients will ignore the accept-encoding header

[04:46:01.0000] <Dashiva>
The form element has various attributes, but I'm not sure if any of them are able to do on-the-fly gzip

[04:47:00.0000] <hsivonen>
Dashiva: I'm mainly considering restful Web service clients

[04:48:00.0000] <hsivonen>
it appears that RFC 2616 allows Content-Encoding on Entities

[04:48:01.0000] <hsivonen>
i.e. both on response and request entities

[04:49:00.0000] <hsivonen>
/me goes implement incoming gzip

[04:49:01.0000] <Dashiva>
/me wonders why people make html versions of rfcs without hyperlinks

[04:52:00.0000] <Dashiva>
"If the content-coding of an entity in a request message is not acceptable to the origin server, the server SHOULD respond with a status code of 415 (Unsupported Media Type)."

[04:52:01.0000] <Dashiva>
Seems like you're expected to just try gzip and retry without if it fails on 415

[04:53:00.0000] <hsivonen>
I want to get compression right in both directions before I start advertising the Web service facet of validator.nu

[04:53:01.0000] <hsivonen>
so I can tell people from get-go that they can (should?) compress incoming stuff

[04:53:02.0000] <hsivonen>
incoming from my POV

[04:54:00.0000] <Dashiva>
Do you want to disallow identity entirely?

[04:54:01.0000] <hsivonen>
that would be extreme

[04:55:00.0000] <hsivonen>
I think I'll cross the bridge of banning uncompressed stuff if the bandwidth bill actually grows to be unmanageable

[04:56:00.0000] <hsivonen>
of course, the joke will be on me if the service ends up being CPU-bound instead of bandwidth/IO-bound

[04:56:01.0000] <Dashiva>
Because if identity is allowed, and you mention gzip is encouraged in the docs, shouldn't that be enough to get people who are willing to do gzip to do it?

[04:56:02.0000] <hsivonen>
Dashiva: hopefully

[04:57:00.0000] <Dashiva>
Can't really imagine a http client which supports automatic switching to gzip based on a non-documented header :)

[04:57:01.0000] <hsivonen>
I need to post some sample code, too

[05:01:00.0000] <gsnedders>
/me has Xbox 360 fail

[05:01:01.0000] <gsnedders>
/me watches his productivity rise massively

[05:21:00.0000] <hsivonen>
hmm. hmm. the RFC is not too clear about the relationship of content-length and content-encoding

[05:27:00.0000] <Philip`>
Does inbound compression make DOS attacks easier? Someone could send a low-bandwidth compressed stream that expands into a huger amount of data on the server and uses up lots of CPU time

[05:28:00.0000] <hsivonen>
Philip`: do you mean a specially-crafted Gzip-stream designed to just expand?

[05:28:01.0000] <hsivonen>
Philip`: it seems to me the same risk exists with compressed streams read using GET

[05:29:00.0000] <hsivonen>
how do browsers cope with that case?

[05:29:01.0000] <Philip`>
Not necessarily specially-crafted - someone could just compress a gigabyte of space characters, transmit that (which is cheap for them), and your server would decompress and process it all (which is expensive for you)

[05:30:00.0000] <Philip`>
Browsers have observant users and a 'stop' button, whereas servers tend to blindly process whatever you send them

[05:31:00.0000] <hsivonen>
hmm. can a single read() from a GzipInputStream be worse that decompressing 32 KB of data? 

[05:32:00.0000] <hsivonen>
that is, if I put a watchdog stream wrapper between the decompression and the parser, am I safe?

[05:33:00.0000] <hsivonen>
32 KB is the default gzip window, isn't it?

[05:34:00.0000] <hsivonen>
am I right that Content-Length is the length of the compressed stream--not the length of the decompressed stream?

[05:34:01.0000] <Philip`>
/me is unsure of how it works

[05:36:00.0000] <gsnedders>
/me has reverse-engineered that yet

[05:36:01.0000] <gsnedders>
I can say it is not what is defined in RFC2616, though

[05:36:02.0000] <Dashiva>
It says "transfer-length", seems clear to me

[05:37:00.0000] <gsnedders>
But there again, a lot of RFC2616 isn't actually what things are done

[05:39:00.0000] <Dashiva>
hmm, no... tricky stuff this

[05:44:00.0000] <Dashiva>
content-length is the entity-length if there is no transfer-encoding. The entity-length is the length of the entity-body. The entity-body includes content-encoding.

[05:45:00.0000] <hsivonen>
moreover, transfer-encoding and content-encoding are different beast with potentially same values

[05:46:00.0000] <hsivonen>
I think I sort of grok content-encoding where there are no byte ranges involved

[05:46:01.0000] <Dashiva>
Well, if you use transfer-encoding it says to not use content-length at all. Not sure if that's how it works in practice, but still

[05:46:02.0000] <gsnedders>
is Opera the only browser to not download <img style="display:none" src="test.gif">?

[05:47:00.0000] <krijnh>
No

[05:47:01.0000] <Dashiva>
Let's find out

[05:48:00.0000] <hsivonen>
is non-chunked transfer-encoding used in the real world?

[05:53:00.0000] <Dashiva>
Both FF2 and IE7 downloaded the image

[05:56:00.0000] <Philip`>
If you do <object data="test.svg"><img src="test.png"></object> then FF2 downloads both files and Opera only downloads the .svg, if I remember correctly

[05:58:00.0000] <hsivonen>
http://www.aerasec.de/security/advisories/decompression-bomb-vulnerability.html

[05:58:01.0000] <krijnh>
Dashiva: you sure?

[05:59:00.0000] <Dashiva>
Apache logs do not lie (I hope)

[05:59:01.0000] <krijnh>
They do! :)

[05:59:02.0000] <krijnh>
Hmm

[05:59:03.0000] <krijnh>
I tested it with background images

[05:59:04.0000] <krijnh>
Those aren't downloaded for elements with display: none

[05:59:05.0000] <krijnh>
Or for :hover states

[06:00:00.0000] <Dashiva>
I could venture a guess, the img tag is recognized and starts downloading before the inline style is applied

[06:00:01.0000] <Dashiva>
Background image is not recognized as such until styling is applied

[06:00:02.0000] <krijnh>
That's probably it

[06:00:03.0000] <krijnh>
Background images with visibility: hidden are downloaded though

[06:04:00.0000] <zcorpan>
hsivonen: http://simon.html5.org/temp/validator.nu/Validator.nu.htm

[06:07:00.0000] <krijnh>
hsivonen: why am I getting an IO Error: Circular redirect to ..

[06:08:00.0000] <krijnh>
For a page that can be viewed in a browser

[06:08:01.0000] <zcorpan>
hsivonen: although the file upload label doesn't seem to focus the "file" field in firefox :|

[06:12:00.0000] <hsivonen>
zcorpan: thank you

[06:12:01.0000] <hsivonen>
krijnh: URL?

[06:12:02.0000] <krijnh>
http://www.toernooi.nl/sport/teammatches.aspx?id=17064&tid=191

[06:12:03.0000] <krijnh>
It's a weird site

[06:14:00.0000] <hsivonen>
krijnh: might have something to do with their cookie behavior

[06:16:00.0000] <krijnh>
If you disable cookies, you get back a really weird URL

[06:17:00.0000] <hsivonen>
yes, but still not circular

[06:17:01.0000] <hsivonen>
I wonder if Commons HttpClient is so aggressive with circularity that it ignores the query string

[06:18:00.0000] <krijnh>
Damnit, we really want to parse this site :)

[06:20:00.0000] <zcorpan>
hmm, doesn't tabindex on <label> work in ie/firefox?

[06:21:00.0000] <hsivonen>
I'm experiencing the jar version of dll hell when trying to debug :-(

[06:23:00.0000] <zcorpan>
i can't get keyboard nav work in ie or firefox

[06:23:01.0000] <zcorpan>
s/work/to work/

[06:24:00.0000] <zcorpan>
perhaps it's better to add radio buttons after all

[06:39:00.0000] <zcorpan>
hsivonen: there, that works better, although it doesn't boot correctly in ie for some reason

[06:47:00.0000] <zcorpan>
hsivonen: ie barks at "n.disabled = false" in toggleParsers()

[06:53:00.0000] <hsivonen>
krijnh: I suspect this is the problem: http://jakarta.apache.org/httpcomponents/httpclient-3.x//xref/org/apache/commons/httpclient/HttpMethodDirector.html#630

[06:55:00.0000] <zcorpan>
hsivonen: also, ie doesn't seem to uncheck the other radio buttons for some reason

[06:55:01.0000] <krijnh>
hsivonen: is that a bug?

[06:56:00.0000] <krijnh>
Or just bad behavior of that site?

[06:57:00.0000] <hsivonen>
krijnh: bad behavior of site coupled with over-eager counter-measures

[06:59:00.0000] <krijnh>
Bah

[06:59:01.0000] <hsivonen>
/me tries to loosen the counter-measures

[06:59:02.0000] <krijnh>
Too bad that's the only site where results are posted :/

[07:13:00.0000] <hsivonen>
krijnh: fixed

[07:14:00.0000] <krijnh>
hsivonen: Cool, thanks :)

[07:15:00.0000] <hsivonen>
it took me like 3 tries to stick the params in the right place. Commons HttpClient has a zilloin places you can stick params into

[07:21:00.0000] <krijnh>
hsivonen: What's a good entry point if you're not into HTML5, but you just want to use your parser in a Java project?

[07:26:00.0000] <krijnh>
http://about.validator.nu/htmlparser/ I guess :)

[07:28:00.0000] <Philip`>
With that parser, I found it pretty straightforward to set up the libraries and get it to parse a document into a DOM, so it seems to work fine :-)

[07:31:00.0000] <hsivonen>
krijnh: I suggest you check out how I instantiate the parser in XSLT4HTML5 (bundled sample)

[07:31:01.0000] <krijnh>
I'm not into Java

[07:31:02.0000] <krijnh>
Somebody else is going to try it out

[07:32:00.0000] <krijnh>
I hope :)

[07:32:01.0000] <hsivonen>
krijnh: do you want DOM, XOM or SAX?

[07:32:02.0000] <krijnh>
I really have no idea

[07:32:03.0000] <hsivonen>
krijnh: streaming or tree?

[07:32:04.0000] <krijnh>
We were talking about fetching results from a website, and now I'm pointing him to your library

[07:33:00.0000] <hsivonen>
krijnh: well, if the wants DOM, he should do  new HtmlDocumentBuilder(XmlViolationPolicy.ALTER_INFOSET);

[07:33:01.0000] <hsivonen>
and then proceed the same way as with an XML DocumentBuilder instance

[07:34:00.0000] <hsivonen>
if he wants SAX, he should do new HtmlParser(XmlViolationPolicy.ALTER_INFOSET); and proceed as with a usual XMLReader instance

[07:35:00.0000] <hsivonen>
if he wants XOM, he should do new HtmlBuilder(XmlViolationPolicy.ALTER_INFOSET); and proceed as with a usual XOM Builder instance

[07:35:01.0000] <hsivonen>
familiarity with one of DOM, XOM or SAX in a prerequisite

[07:36:00.0000] <Philip`>
/me was unfamiliar with all of those but just made it up as he went along and it kind of worked

[07:38:00.0000] <Philip`>
(Well, I suppose I had some familiarity with the JS DOM, and the Java version is basically the same except it takes four method calls to set an attribute (as far as I can see))

[07:39:00.0000] <hsivonen>
Philip`: elem.setAttribute("foo", "bar");

[07:41:00.0000] <Philip`>
hsivonen: Hmm

[07:41:01.0000] <Philip`>
Oh, it's because I was using Node instead of Element, and Node doesn't have setAttribute

[07:42:00.0000] <Philip`>
... and I was using Node because stuff like getElementsByTagName returns a NodeList

[07:43:00.0000] <Dashiva>
Yeah, that one's a bit silly, there is no ElementList

[07:43:01.0000] <hsivonen>
Philip`: the interface hierarchy of DOM sucks big time with strongly-typed languages

[07:43:02.0000] <Philip`>
I guess I can cast things to Element, but casting always feels a little dirty and unsafe

[07:43:03.0000] <Dashiva>
Just check nodeType (or instanceof) and you're safe enough

[07:45:00.0000] <Philip`>
Sounds reasonable

[07:46:00.0000] <Philip`>
Too lazy to fix my code now, though :-p

[07:46:01.0000] <hsivonen>
it would be interesting to know if which one is faster: instanceof followed by cast or nodeType followed by cast

[07:47:00.0000] <hsivonen>
I'd expect instanceof to be slower than nodeType, but then I'd expect HotSpot to perform less expensive cast operations if it can prove that instanceof was just tested

[07:52:00.0000] <hsivonen>
when I wrote my own XML tree API, I hoisted all methods to the top of the hierarchy to avoid casts when traversing

[10:17:00.0000] <hsivonen>
does IE parse and apply the contents of <style> elements inserted to the DOM via script after onload has long since been fired?

[10:19:00.0000] <hsivonen>
more to the point: what's the best practice for introducing and later removing a class selector-based style rule?

[10:19:01.0000] <hsivonen>
or changing the class selector on a single rule_

[10:19:02.0000] <hsivonen>
?

[10:34:00.0000] <hsivonen>
http://developer.mozilla.org/en/docs/DOM:style Do Opera and WebKit support that stuff?

[10:38:00.0000] <hsivonen>
is there some perf badness if I modify the first rule? should I make sure to modify the last rule to avoid recascade?

[10:56:00.0000] <hsivonen>
zcorpan: whole-line messages now highlight the associated line as a whole

[11:17:00.0000] <zcorpan>
hsivonen: cool

[11:17:01.0000] <zcorpan>
hsivonen: in the case of direct input, i guess you could default to using the html parser if the user didn't choose

[11:18:00.0000] <hsivonen>
zcorpan: ok

[11:19:00.0000] <zcorpan>
hsivonen: is the whole-line highlighting deployed? i don't see it

[11:20:00.0000] <hsivonen>
zcorpan: http://validator.nu/?doc=http%3A%2F%2Fwww.accessifyforum.com%2F&showsource=yes#l151

[11:20:01.0000] <hsivonen>
zcorpan: please reload css

[11:20:02.0000] <zcorpan>
hsivonen: ah

[11:20:03.0000] <zcorpan>
sorry :)

[11:24:00.0000] <jgraham>
/me grumbles that different people are on #what-wg and #html-wg

[11:24:01.0000] <jgraham>
Does anyone have a good use case for tables with no headers?

[11:27:00.0000] <hsivonen>
jgraham: sidebars

[11:27:01.0000] <hsivonen>
/me hides

[11:28:00.0000] <hsivonen>
jgraham: form grid layout

[11:28:01.0000] <zcorpan>
jgraham: genealogical table

[11:36:00.0000] <zcorpan>
hsivonen: http://www.quirksmode.org/dom/changess.html

[11:42:00.0000] <zcorpan>
hsivonen: an idea: have the error message as title="" in the show source. would that be possible?

[11:43:00.0000] <hsivonen>
zcorpan: thanks

[11:43:01.0000] <hsivonen>
zcorpan: possible but hard

[11:44:00.0000] <hsivonen>
zcorpan: there can be more than one message per position.

[11:45:00.0000] <zcorpan>
hsivonen: true

[11:45:01.0000] <hsivonen>
zcorpan: I wonder if doing some fancy JS backlinking would be smarter than putting a lot of content in attributes

[11:45:02.0000] <zcorpan>
perhaps

[11:46:00.0000] <Dashiva>
Make an error attribute as a comma-separated list of errors, and put all the errors in an array somewhere. Use JS to build tooltips or whatnot from it.

[11:46:01.0000] <Dashiva>
^ Something like that?

[11:47:00.0000] <hsivonen>
Dashiva: I was thinking of augmenting the highlight element DOM nodes with an array or references to the list item DOM nodes in the message list and doing fake tooltips as divs

[12:03:00.0000] <jgraham>
hsivonen: Ignoring the tables for layout cases (which we'll temporarily pretend are obviously bad) what does a genealogical table look like?

[12:05:00.0000] <jgraham>
ah, sorry, that was zcorpan

[12:09:00.0000] <hsivonen>
jgraham: http://www.pointerklubben.se/stamtavla.asp?Id=S35236/97

[12:11:00.0000] <jgraham>
hmm. I think that's not really a table but I'm not sure how one could do better


2007-09-30
[03:45:00.0000] <mpt>
jgraham, a genealogical table is something HTML happens not to have semantics for, I think

[03:45:01.0000] <mpt>
At least, it doesn't make *semantic* sense to have to change the rowspan of every cell in the table whenever you add a generation, but that's what <table> requires

[03:48:00.0000] <mpt>
A genealogical table has the same semantics as a cladistic tree (e.g. <http://www.gingersrus.com/CostaceaeCladistics.gif>), but the latter happens not to have a tabular layout

[03:55:00.0000] <mpt>
And once you've started trying to mark up the semantics of purely-hierarchical trees, you're just one line away from not-purely-hierarchical trees such as <http://www.lyricsvault.net/history/MusicGenealogy.jpg> and <http://www.levenez.com/unix/history.html>

[03:57:00.0000] <othermaciej>
so what markup would be appropriate for a general directed graph?

[03:59:00.0000] <othermaciej>
it seems like marking such a thing up in a purely semantic way and yet still getting the desired presentation is a rather difficult problem

[04:18:00.0000] <mpt>
Isn't that what RDF was supposed to be for?

[04:18:01.0000] <mpt>
/me ducks

[04:19:00.0000] <jgraham>
/me is worried he was thinking exactly the same thing at the same moment

[04:19:01.0000] <jgraham>
But it doesn't solve the presentation problem, of course

[04:20:00.0000] <mpt>
XSLT into SVG?

[04:20:01.0000] <mpt>
/me is spewing random acronyms at this point, and should probably be ignored

[04:21:00.0000] <mpt>
It's not as if browser layout engines have the smarts to lay out trees like that anyway

[04:22:00.0000] <mpt>
Implementing it would be like implementing tables from scratch, squared

[04:22:01.0000] <jgraham>
But you still need to be able to get at the underlying data somehow. Maybe if you throw a little XBL into the mix you can bind the svg representation to the underlying data 

[04:22:02.0000] <mpt>
(because for example one branch of the family might be pushed lower so as to accommodate the width of another branch higher up)

[04:23:00.0000] <jgraham>
but I may be misremembering what XBL is capable of

[04:24:00.0000] <othermaciej>
I'm not sure if XBL has sufficient powers to transform the DOM to dynamically convert RDF to SVG in a way that visually represents the graph

[04:25:00.0000] <othermaciej>
I guess XBL can always fall back to JS but I am not sure how much JS can manipulate the contents of the shadow tree

[04:25:01.0000] <othermaciej>
XSLT would only be suitable for static applications

[04:28:00.0000] <Philip`>
Semantics for its own sake doesn't seem useful - it's useful when it enables things like media independence, but media independence seems infeasible here since a standard visual family tree and a small-screen version and an aural version will have to be completely different presentations and each carefully designed to be understandable

[04:28:01.0000] <othermaciej>
I think datagrid can provide the semantics for things that are truly a tree but would require major styling heroics to get the presentation right

[04:29:00.0000] <othermaciej>
if you had a family tree *editor* though, you'd definitely want to be able to edit an underlying data model and have the presentation reflect that

[04:29:01.0000] <Philip`>
(http://www.pointerklubben.se/stamtavla.asp?Id=S35236/97 in Opera's Small Screen mode silently loses most of the page's information)

[04:32:00.0000] <jgraham>
I wonder how successful existing desktop family tree editors are at being accessible. I would guess "not very"

[04:32:01.0000] <mpt>
The standard interchange format for genealogical info is called Gedcom

[04:33:00.0000] <mpt>
I think it predates XML in the same way as MathML does

[04:33:01.0000] <mpt>
http://en.wikipedia.org/wiki/GEDCOM

[04:35:00.0000] <mpt>
/me remembers trying to implement a Gedcom parser as a CS project

[04:58:00.0000] <zcorpan>
/me added <datatemplate>, <rule condition mode>, <nest filter mode> to html5-elements

[05:01:00.0000] <zcorpan>
/me now also added ref, registrationmark and template to the global attributes

[05:10:00.0000] <jgraham>
http://james.html5.org/temp/html5lib-0.10.zip

[05:10:01.0000] <jgraham>
Pre-release for testing

[05:38:00.0000] <Lachy>
I upgraded the blog to Wordpress 2.3

[10:53:00.0000] <jgraham>
bzed: re: setuptools; I think it still makes sense for people who are not running Debian. It's not as simple or reliable as I would like but nevertheless has some nice features.

[11:23:00.0000] <bzed>
jgraham: we had a long discussion with the fedora people about setuptools and co some time ago, I think all agreed that setuptools is broken by design and seems to have an upstream which does not react on the wishes of users and the distributions

[12:43:00.0000] <bzed>
jgraham: and even from a user's point of view - I too often had completely random problems with setuptools, switching to distutils fixed that easily.

[15:41:00.0000] <Philip`>
<header><span> ...non-inline content... </span></header> seems to be useful for making Firefox parse correctly, but I expect it's annoyingly nonconforming :-(

[15:47:00.0000] <zcorpan>
hsivonen: your html4 parser should perhaps know about boolean attributes and set appropriate values when they appear as minimized

[15:48:00.0000] <zcorpan>
hsivonen: see the last error in http://validator.nu/?doc=http%3A%2F%2Fwww.apple.com%2F

[15:50:00.0000] <jgraham>
Philip`: Yeah. Annoyingly, the relevant bug is marked blocking 1.9- and I'm not clever enough to work out how to make unknown elements work with the Mozilla residual style thing

[15:50:01.0000] <jgraham>
Bug relevant to making unknown elements able to contain blocks, that is

[16:02:00.0000] <Philip`>
/me decides to do <header><span> and treat conformance as a guideline rather than a rule

[16:03:00.0000] <Philip`>
(I just hope it doesn't make things break confusingly in certain cases)

[16:04:00.0000] <zcorpan>
Philip`: why not <div class=header>?

[16:08:00.0000] <jgraham>
zcorpan: Well potentially he wants to make use of the header algorithm

[16:11:00.0000] <Philip`>
So that my site will work (or, at least, break more interestingly) when UAs start supporting HTML5 features

[16:23:00.0000] <zcorpan>
hsivonen: <iframe> isn't a cdata element according to html4 (see message 4 in http://validator.nu/?doc=http%3A%2F%2Fwww.blogger.com )

[16:33:00.0000] <zcorpan>
(neither are title or textarea rcdata elements according to html4)

