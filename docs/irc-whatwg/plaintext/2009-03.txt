2009-03-01
[17:32:00.0000] <karlcow>
http://lists.w3.org/Archives/Public/www-archive/2009Feb/0181

[02:06:00.0000] <zcorpan_>
Hixie: shouldn't createPattern support HTMLVideoElement as well?

[02:10:00.0000] <Hixie>
at the time i thought there was some reason not to

[02:10:01.0000] <Hixie>
send a mail to the whatwg list if you think it should be there, so the other implementors see it

[02:11:00.0000] <zcorpan_>
ok

[04:05:00.0000] <annevk3>
Hixie, when are you checking in the changes?

[07:29:00.0000] <Philip`>
hsivonen: Should your "If the token does not contain a colon: Prepend "http://www.iana.org/assignments/relation/" to the token and use the resulting string as an IRI." involve lowercasing the token before prepending?

[07:29:01.0000] <hsivonen>
Philip`: no, per earlier observation by zcorpan

[07:30:00.0000] <Philip`>
If they're not lowercased, won't that cause needless pain because any RDF processor will have to understand that http://www.iana.blah/STYLESHEET is equivalent to http://.../stylesheet?

[07:42:00.0000] <krijnh>
Philip`: whoops :)

[07:43:00.0000] <hsivonen>
Philip`: ooh. good point

[08:41:00.0000] <takkaria>
how about just lowercasing the things we know about now?

[09:32:00.0000] <Philip`>
takkaria: So it's basically impossible for someone writing a document to know whether this is one of the pre-2009 rel values that can be written in either case, or one of the not-yet-known-in-2009 things which must be lowercase?

[09:47:00.0000] <takkaria>
that's a point against what I said, sure :)

[09:52:00.0000] <takkaria>
since I switched to reading public-html from the archives, I've found it much less frustrating

[09:53:00.0000] <takkaria>
when you see that three people have been replying to each other all day, you kinda know that they're going in circles :)

[09:56:00.0000] <Philip`>
Sounds like you need a better mail client, if the list archive view is easier to read

[10:02:00.0000] <takkaria>
I have a fine mail client

[10:02:01.0000] <takkaria>
it's just that when you get mail in piece-by-piece, there's a tendency to read it

[10:02:02.0000] <takkaria>
whereas on the list view, you can cherrypick the people you know who talk sense and just read those

[10:03:00.0000] <gsnedders>
takkaria: So everyone except me?

[10:03:01.0000] <Philip`>
If your mail client was fine, you'd be able to configure it to hide new emails until you choose to look at the wholeD[D[D[D[D[D[D[D[D[D[D[D list

[10:03:02.0000] <Philip`>
Um

[10:03:03.0000] <Philip`>
/me blames SSH

[10:04:00.0000] <takkaria>
I can do that anyway


2009-03-02
[18:44:00.0000] <gsnedders>
/me recalculates uncertainties and has them almost double

[18:44:01.0000] <gsnedders>
/me sighs

[20:40:00.0000] <john_fallows>
Hixie: the EventSource attribute called "URL" looks like it has the wrong case (compare StorageEvent.url)

[22:25:00.0000] <Hixie>
john_fallows: StorageEvent is the one with the wrong case

[22:26:00.0000] <john_fallows>
isn't the attribute name "URL" (all upper case) inconsistent with other attribute names?

[22:26:01.0000] <Hixie>
yeah but document.URL has existed for years

[22:27:00.0000] <john_fallows>
so then propagate that to EventSource, WebSocket, StorageEvent, ... ?

[22:35:00.0000] <john_fallows>
i suppose the attributes on EventSource, WebSocket, StorageEvent would not need to be consistent with the case of "URL" if they were named something completely different :-)

[22:39:00.0000] <Hixie>
WebSocket and EventSource both already use .URL

[22:39:01.0000] <Hixie>
might be too late to change StorageEvent though

[22:39:02.0000] <Hixie>
since i imagine that's about to ship in IE8

[22:49:00.0000] <jwalden>
/me remembers MessageEvent.uri almost a year ago, in ancient times

[22:52:00.0000] <john_fallows>
if that's the state of things, then why not keep the legacy "URL" on document as a special case and make everything else self-consistent case?

[22:52:01.0000] <Hixie>
it is self-consistent now :-)

[22:52:02.0000] <Hixie>
what's wrong with upper case?

[22:53:00.0000] <Hixie>
have one uppercase and three lowercase or three uppercase and one lowercase, they're still inconsistent

[22:53:01.0000] <john_fallows>
you just pointed out that it's not self-consistent now, (StorageEvent.url )

[22:53:02.0000] <Hixie>
right but why does it matter whether we're consistent with uppercase or lowercase?

[22:54:00.0000] <john_fallows>
you are right, so the argument of consistency with uppercase "URL" is already moot

[22:54:01.0000] <john_fallows>
but the argument of consistency with the case of all the other attributes still holds, no?

[22:54:02.0000] <Hixie>
*shrug*

[22:55:00.0000] <Hixie>
consistency in the html apis is so far beyond a lost cause at this point that i'd rather just be consistent with the existing attribute names (like document.URL)

[22:55:01.0000] <john_fallows>
it just looked a bit confusing to me because "URL" in upper case instantly looks like a type, not an attribute

[22:57:00.0000] <Hixie>
oh i'm not saying it makes any sense, indeed

[22:59:00.0000] <Hixie>
/me stares at his inbox

[22:59:01.0000] <Hixie>
holy crap what a lot of e-mail

[22:59:02.0000] <john_fallows>
you'll be glad when 2022 rolls around ;-)

[23:01:00.0000] <Hixie>
i'll be glad when sam manages to get people to stop repeating themselves

[23:01:01.0000] <Hixie>
34 messages on summary="" alone in 24 hours

[23:02:00.0000] <Hixie>
is smylers on irc?

[23:04:00.0000] <MikeSmith>
I think to bypass the rules that Sam outlined in his message today, people can switch to using "thou" instead of "you", and the royal "we" instead of "I"

[23:11:00.0000] <Dashiva>
Semantics on public-html? Unheard of

[23:13:00.0000] <MikeSmith>
Hixie: if you were to put the spellcheck attribute into a particular class, would "interactive" be appropriate? the WHATTF schema has contenteditable, draggable, hidden, and contextmenu in that class (named pattern in the schema)

[23:14:00.0000] <Hixie>
yes

[23:14:01.0000] <MikeSmith>
OK

[23:14:02.0000] <Hixie>
tabindex would likely be in the same class

[23:16:00.0000] <MikeSmith>
schema has that in common.attrs.present (presentational), along with style attribute

[23:17:00.0000] <Hixie>
what an odd distinction

[23:17:01.0000] <Hixie>
are they handled differently?

[23:17:02.0000] <MikeSmith>
comment there says, "REVISIT move style to a module and bundle tabindex with ARIA"

[23:17:03.0000] <Hixie>
o_O

[23:28:00.0000] <Hixie>
i wonder if i can get out of watching the video sam wants us to watch, on the grounds that i was there at the filming of the video...

[23:30:00.0000] <sayrer>
Hixie, you weren't required, as you were under the limit

[23:30:01.0000] <Hixie>
aah, that's lucky

[23:36:00.0000] <Hixie>
/me watches the video again anyway

[00:13:00.0000] <hsivonen>
sigh. that's a lot of email on public-html for one Sunday

[00:14:00.0000] <hsivonen>
I think I'm going to limit my posting rate voluntarily to max one message per day per thread

[00:17:00.0000] <Hixie>
hsivonen: i hope that means you start e-mailing whatwg instead :-)

[00:17:01.0000] <Hixie>
i wouldn't want to lose your input just because some people are crazy :-)

[00:36:00.0000] <jgraham>
Oh good lord. 

[00:36:01.0000] <jgraham>
/me sees like 100 new messages for 1.5 days

[00:41:00.0000] <jgraham>
hsivonen: Is there any good reason to believe that people would use summary="" reliably enough to use it a presentation-indicator (or, at least, a lone presentation indicator)

[01:19:00.0000] <hsivonen>
jgraham: I don't expect all layout tables to be flagged with summary="" or role=presentation

[01:19:01.0000] <hsivonen>
jgraham: I do assume (with no data) that people wouldn't put role=presentation on data tables

[01:28:00.0000] <jgraham>
hsivonen: I can imagine copy-and-paste authouring making it less than 100% accurate

[01:50:00.0000] <Hixie>
what's the opposite of "lexical space"?

[01:50:01.0000] <Hixie>
i'm having a mind blank

[01:52:00.0000] <Philip`>
I don't know what you mean by "opposite", but maybe it's what XML Schema calls "value space"?

[01:55:00.0000] <virtuelv>
Hixie: would you support splitting the storage spec from HTML5?

[01:55:01.0000] <virtuelv>
(local/sessionStorage that is)

[01:56:00.0000] <Hixie>
value space is where i was going, thanks

[01:56:01.0000] <virtuelv>
we have some use for the same interfaces in Widgets APIs and Events, and have some extra requirements, such as read-only storage, and the ability to reset storage to default values

[02:03:00.0000] <jgraham>
virtuelv: I was under the impression that splitting out the storage spec is a done deal it's just that it hasn't happened yet. But I could be wrong of course

[02:03:01.0000] <virtuelv>
ah, I was unsure of that

[02:04:00.0000] <virtuelv>
the issue here being that we're on a different timeline than html5

[02:04:01.0000] <virtuelv>
and with slightly different needs

[02:04:02.0000] <Hixie>
yeah it'll be taken out, uh, *consults calendar*

[02:05:00.0000] <Hixie>
erm

[02:05:01.0000] <Hixie>
/me adds to the calendar

[02:05:02.0000] <Hixie>
this month!

[02:05:03.0000] <virtuelv>
Hixie: in other words, we need an editor for a storage spec? and asap? :)

[02:05:04.0000] <Hixie>
nah, i can do it

[02:05:05.0000] <Hixie>
it's stable enough

[02:07:00.0000] <virtuelv>
Hixie: when you do, will you account for the extra requirements raised? (read-only storage items, reset to default (in Widgets, you can declare prefs in the manifest), and also making sure that it's agnostic towards where something is stored)?

[02:08:00.0000] <Hixie>
i would recommend inheriting from the Storage interface and defining those extensions in the widgets spec

[02:09:00.0000] <virtuelv>
for now, we've tried to avoid dependencies on HTML5

[02:09:01.0000] <jgraham>
Hixie: Does that work better than making storage deal with both sets of requirements and making HTML5 say "all values are Read Write, All values default to undefined"

[02:09:02.0000] <Hixie>
virtuelv: the Storage interface will be in another doc within the month, hopefully

[02:10:00.0000] <Hixie>
jgraham: i'll have to look closer at the two needs to know which is better

[02:10:01.0000] <virtuelv>
Hixie: given its relative maturity, are you foreseeing any fast-track to LC?

[02:10:02.0000] <jgraham>
Hixie: Fair enough :)

[02:25:00.0000] <Lachy>
Hixie, are you splitting out localStorage/sessionStorage and the Database storage APIs together?

[02:25:01.0000] <Hixie>
yes

[02:25:02.0000] <Hixie>
virtuelv: html5 itself is intended for lc in october, i doubt i'll be attempting for anything faster

[02:26:00.0000] <Lachy>
ok, so basically the whole of section 5.11 "Structured client-side storage" will be removed

[02:26:01.0000] <Hixie>
virtuelv: i expect it'll take longer than that for the w3c to manage to get us a charter allowing us to get to fpwd!

[02:26:02.0000] <Hixie>
Lachy: right

[02:26:03.0000] <Philip`>
/me fails to understand what Kristof means about "bounding box" and "flattening"

[02:27:00.0000] <Lachy>
ok. that's good cause it will reduce the size of HTML5, but that's bad cause it's another spec I will need to look at separately. I hate having conflicting needs.

[02:29:00.0000] <jgraham>
/me imagines Lachy's head exploding like some poorly designed film robot that can't cope with contradictions

[02:30:00.0000] <Hixie>
Lachy: i'm tempted to leave them in the whatwg version (they'll still be in the whatwg source file...)

[02:30:01.0000] <Lachy>
but that will make the W3C and WHATWG copies differ.

[02:31:00.0000] <Hixie>
that is the main downside, yes

[02:31:01.0000] <Lachy>
/me 's head explodes! *BOOM*

[02:31:02.0000] <Hixie>
oh dear oh dear

[02:31:03.0000] <Hixie>
/me cleans up the mess

[02:31:04.0000] <Hixie>
someone order a new lachy!

[02:34:00.0000] <hsivonen>
Hixie: how did workers being in a separate source file work out?

[02:36:00.0000] <Hixie>
Not. Well.

[02:39:00.0000] <Hixie>
ok i'm going to sleep

[02:39:01.0000] <Hixie>
nn

[02:39:02.0000] <Lachy>
nn

[02:59:00.0000] <Philip`>
Is it appropriate to use dl/dt/dd for marking up FAQs?

[03:05:00.0000] <jgraham>
Philip`: I don't see any reason why not

[03:07:00.0000] <Philip`>
jgraham: I suppose I don't quite see a FAQ question as being a "name"

[03:07:01.0000] <Philip`>
but it's still associating a sort-of-not-quite-name thing with some other text

[03:08:00.0000] <Philip`>
and, most importantly, the default presentation is kind of appropriate

[03:08:01.0000] <jgraham>
Philip`: Yeah, I just read the spec text and it doesn't quite support it.

[03:08:02.0000] <jgraham>
But since my opinion is roughly "if you have to ask about semantics they have already failed" I don't think it matters much

[03:09:00.0000] <Philip`>
Hmm, maybe the questions should be <hN> so an outline-based ToC generator would include them

[03:09:01.0000] <virtuelv>
Hixie: I'd imagine that a storage API already falls in under the webapps charter - you could ask chaals

[03:10:00.0000] <jgraham>
Philip`: That is certianly a good practical reason for taking that approach. 

[03:10:01.0000] <Lachy>
I think <dl> is suitable for an FAQ. But I think the problem is trying to find an appropriate way to express the semantics in the spec, without making the definition too vague and also without making it too specific that it accidentally eliminates otherwise valid uses

[03:10:02.0000] <jgraham>
Although I bet accessibuility people have a rule like "you shouldn't have more than three words in a heading" or something silly

[03:11:00.0000] <Lachy>
the other problem is that some people tend to be overly strict in their interpretation of the semantics in the spec

[03:11:01.0000] <Philip`>
jgraham: Such a rule should not be acceptable to i18n people, because it would allow German sites to put whole paragraphs of meaning in a single compound word in a heading

[03:12:00.0000] <jgraham>
Uh, maybe they should syllables instead

[03:13:00.0000] <jgraham>
(I often see characters used as a measure, but that is silly for obvious reasons)

[03:13:01.0000] <Dashiva>
Syllables still lets languages like Japanese run wild

[03:13:02.0000] <Philip`>
Lachy: You can't really blame people for reading overly strictly when the spec itself says you rfc2119:MUST follow the intended semantics

[03:14:00.0000] <jgraham>
Dashiva: Really? Japanese has syllables just like every other language that has a spoken form

[03:14:01.0000] <Philip`>
If it wasn't meant to be interpreted strictly, it should be phrased more as suggestions rather than as absolute requirements

[03:15:00.0000] <Lachy>
Philip`, there's a difference between being strict and being overly strict.

[03:17:00.0000] <Philip`>
jgraham: Now you're discriminating against sign language users

[03:18:00.0000] <jgraham>
Lachy: But if the point of semantics is to let people build general-purpose consuming software then you either have to be really narrow and strict or... well actually even if you are really narrow and strict you have to deal with the fact that people get things wrong. So you have to either solve a different problem or do something more clever

[03:18:01.0000] <Philip`>
((I'm assuming they find it harder to understand the concept of syllables than people who regularly use verbal communication, and so they'd find it hard to count the syllables of their written text))

[03:18:02.0000] <jgraham>
Like only use the markup as one input amongst many

[03:18:03.0000] <Lachy>
Philip`, the important part of the element's definition is that it says it's an association list.  It just uses to terms "name" and "value" to refer to the parts within a group. It doesn't strictly mean that the first has to be a name, and that is an example of being overly strict

[03:20:00.0000] <jgraham>
Philip`: However you have to consider that the visually-impaired community has much better advocacy than the deaf community. So as long as things work in screenreaders people tend to assume it meets the definition of "accessible"

[03:21:00.0000] <Philip`>
Lachy: But the spec says the list MUST be name-value pairs, so it seems fairly clear that its intention is that <dt>s represent names, and it's stated elsewhere that you MUST NOT use elements except for how they were intended to be used

[03:21:01.0000] <Philip`>
jgraham: If that was true, nobody would care about <video> captioning, but clearly some people do care about that

[03:22:00.0000] <jgraham>
Philip`: Hmm. Good point. 

[03:22:01.0000] <jgraham>
/me should maybe stop being contrary

[03:23:00.0000] <Philip`>
It's fine to be contrary as long as you're correct ;-)

[03:23:01.0000] <virtuelv>
<jgraham> Although I bet accessibuility people have a rule like "you shouldn't have more than three words in a heading" or something silly

[03:23:02.0000] <virtuelv>
that would rather be UX people

[03:24:00.0000] <jgraham>
virtuelv: Not sure what UX has to do with it, really. Long heaings are more-or-less OK for people who are reading the document. I guess they would be annoying if you were scanning through it in a screenreader

[03:25:00.0000] <jgraham>
Philip`: I think I am right in general that the visually disabled have the best advocacy for their needs

[03:26:00.0000] <Philip`>
I wouldn't like to read http://www.whatwg.org/specs/web-apps/current-work/multipage/index.html#contents if all the headings were limited to three words

[03:26:01.0000] <Lachy>
Philip`, there's an example in the spec that uses the dl to give a set of instructions. The statements marked up as DTs don't really fit the definition of a "name". But if you understand that the term "name" is merely being used as an identifer of the component, rather than a strict definition of what it can contain, then it makes sense

[03:27:00.0000] <jgraham>
Lachy: Arguably the spec is wrong then. But I bet it is wrong in this way for almost every element

[03:29:00.0000] <Philip`>
jgraham: Perhaps that's largely because they have the most drastically different needs of all the common disability groups, in terms of how HTML is designed and authored?

[03:29:01.0000] <Lachy>
jgraham, can you think of a better way to define it that doesn't suffer from the same problem of misinterpretation?

[03:29:02.0000] <Philip`>
jgraham: HTML is primarily a visual markup language, so visual disabilities are going to have to fight hardest to make it acceptable to them

[03:30:00.0000] <jgraham>
Philip`: Maybe. But nevertheless consider the difference in the public-html traffic between @alt and the equivalent for <audio>

[03:30:01.0000] <Lachy>
jgraham, besides, the spec clearly states that "Name-value groups may be terms and definitions, metadata topics and values, or any other groups of name-value data.", so it's clear that "names" isn't strictly limited to names.

[03:31:00.0000] <jgraham>
Lachy: Well if "name" doesn't fit the semantic of the english word "name" it is clearly confusing

[03:31:01.0000] <jgraham>
"identifier" might be better for example

[03:32:00.0000] <Philip`>
jgraham: Hmm, perhaps it's also relevant that there's been a decade for groups focused on visual accessibility to grow, whereas audio accessibility is a very new concern on the web and so very few people have got organised enough to participate in discussions on it

[03:32:01.0000] <Lachy>
possibly, but you have to balance strictness with readability, and more people would be familiar with the concept of name-value groups than "identifier-value" groups.

[03:34:00.0000] <jgraham>
Philip`: That could be true too. I am only making an empirical observation that almost all the people involved in a10y threads come from a visual-impairment background. I hope I didn't claim to know why that was :)

[03:34:01.0000] <Philip`>
Maybe the spec shouldn't try to say that using <dl> for FAQs is (depending on its intended semantics, which I can only vaguely discern from the text) the same kind of conformance error as using <blink>

[03:35:00.0000] <jgraham>
Lachy: That familiarity seems unhelpful if the semantics of <dd>/<dt> pairs are different from those usually associated with name-value groups

[03:35:01.0000] <Philip`>
jgraham: I don't mean to disagree with you; I'm just idly wondering :-)

[03:37:00.0000] <Philip`>
/me idly wanders off

[03:38:00.0000] <jgraham>
Anyway on a not-entirely-unrelated subject, is there any easier way to produce a UI for categorising layout/data tables whilst simultaneously collecting information about the table inclusing its computed style, than developing something like a firefox extension?

[03:38:01.0000] <Philip`>
Is computed style important to capture?

[03:39:00.0000] <jgraham>
Philip`: No idea. That's the point really. It seems like it could be

[03:40:00.0000] <jgraham>
Although if you can convince me that it is trivial to do everything apart from computed style it would maybe be worth doing that first and then seeing how well it works

[03:41:00.0000] <Philip`>
If you want to get a human to categorise thousands of tables, it seems like it'd be quite a pain if they had to download the entire page (along with styles and images and adverts etc) just so they could see the table and decide if it was data or layout

[03:41:01.0000] <jgraham>
Basically I want the user to see the table, probably out of its original context, to have three buttons marked "Layout", "Data", "Unknown" and some script that computes properties of the tble in its original context

[03:41:02.0000] <Philip`>
because that would be slow

[03:41:03.0000] <jgraham>
It would be possible to have the categorisation happen at an entirely different time to the property computation if that would help

[03:42:00.0000] <Philip`>
It'd be pretty trivial to e.g. extract all the <table> elements from 130K pages from dmoz, ignoring all the external styles and everything, which would be one way to get a list of tables you could show to a user and have them press a key to categorise each one

[03:43:00.0000] <jgraham>
Philip`: Right. Could you then find the _same_ tables again and compute the properties of them somehow

[03:44:00.0000] <jgraham>
In their original context. e.g. by constructing an xpath that matched the table and then discarding any cases where the same xpath didn't return a table

[03:44:01.0000] <jgraham>
(it would just be something like /html/body/div[3]/table or whatever Xpath syntax is

[03:44:02.0000] <Philip`>
XPath sounds complex - just remember that it was table n on http://...

[03:45:00.0000] <Philip`>
(and keep a static copy of the page's markup so it won't change)

[03:45:01.0000] <Philip`>
(though you might have to worry about external stylesheets changing, but I guess that's pretty rare)

[03:46:00.0000] <jgraham>
I guess that might work

[03:46:01.0000] <Philip`>
Maybe you could do something like using the embedding API of a browser engine to write an application that loads the pages and dumps the computed style information

[03:46:02.0000] <jgraham>
Philip`: That was roughly what I had in mind

[03:46:03.0000] <Philip`>
/me doesn't know if that'd be easier or harder than writing a Firefox extension

[03:47:00.0000] <Philip`>
I can't think of any other sane way to get computed style information

[03:48:00.0000] <Philip`>
(Ooh, the bug that made @font-face crash Firefox appears to have been fixed upstream now)

[03:48:01.0000] <Philip`>
(Hmm, why did someone make Bugzilla's background pink?)

[03:49:00.0000] <Dashiva>
jgraham: Re:japanese, use of ideograms lets you overload syllables massively.

[03:50:00.0000] <Philip`>
Oops, I forgot I was going to wander off

[03:50:01.0000] <Philip`>
/me does so

[04:35:00.0000] <Philip`>
jgraham: In terms of UI for table categorisation, I kind of like the thing like in http://philip.html5.org/tests/canvas/suite/tests/reportgen.html?100,0 where there's a button for each case, and also you can use the keyboard (y/n), and it automatically scrolls down to the next case, and you can manually scroll up and change your answers if you did it wrong

[04:51:00.0000] <jgraham>
Philip`: Interesting

[04:52:00.0000] <Philip`>
...though that particular example page is rubbish unless you're using IE or Safari 3.0 or something, because otherwise it automatically determines almost all the results

[05:12:00.0000] <hsivonen>
I wonder if adding classes to text/plain elements is interop-sensitive. see https://bugzilla.mozilla.org/show_bug.cgi?id=369301

[05:15:00.0000] <zcorpan>
hsivonen: seems more appropriate to extend css with vendor-specific @rules or something

[05:16:00.0000] <zcorpan>
@-moz-text-document { pre { color:green } } @-moz-web-document { pre { color:red } }

[05:17:00.0000] <zcorpan>
/me notes that HTTP Link: headers can apply css to text/plain documents

[05:17:01.0000] <hsivonen>
@-moz-content-type("text/plain") { ... } maybe?

[05:17:02.0000] <zcorpan>
yeah

[05:17:03.0000] <gavin>
the use case in that bug was to avoid styling the <pre>s

[05:17:04.0000] <gavin>
can you do that with an @ rule?

[05:18:00.0000] <zcorpan>
gavin: @-moz-web-document { pre { color:red } } 

[05:18:01.0000] <hsivonen>
gavin: as much as with classes in the text/plain DOM, I think

[05:19:00.0000] <gavin>
oh, I misunderstood what you meant by -moz-web-document

[06:02:00.0000] <annevk3>
sshfs + komodo is no fun over a slow connection

[06:02:01.0000] <annevk3>
geez

[06:02:02.0000] <annevk3>
every i/o operation takes >10s or so

[06:04:00.0000] <hsivonen>
/me reads http://lists.w3.org/Archives/Public/www-html/2006Feb/0095

[06:05:00.0000] <annevk3>
/me joins

[06:08:00.0000] <hsivonen>
"Firefox can't establish a connection to the server at hades.mn.aptest.com."

[06:08:01.0000] <hsivonen>
Yay for issue tracking systems maintained by spec editors without the W3C systeam

[06:14:00.0000] <annevk3>
you realize we're doing the same, right?

[06:15:00.0000] <annevk3>
though admittedly an index of e-mails without replies is a bit different from an issue database in a lot of people's minds

[06:15:01.0000] <Philip`>
At least there's an externally-hosted mirror of whatwg.org/issues

[06:15:02.0000] <hsivonen>
annevk3: I fully realize we are doing the same thing

[06:16:00.0000] <annevk3>
Philip`, you're not supposed to defend us :p

[06:17:00.0000] <Philip`>
More concerning than any technical infrastructure is that Hixie's head is not maintained by the W3C systeam, despite being critical to the development of HTML 5

[06:48:00.0000] <Philip`>
/me finds it really strange to be reading papers from research conferences that include fragments of XML and RDF and talk about OWL and stuff

[06:48:01.0000] <Philip`>
I suppose it's good that people are using the technologies, but it seems very far removed from the web

[06:59:00.0000] <virtuelv>
Philip`: is http://www.rijksmuseum.nl/ far removed from the web?

[07:04:00.0000] <virtuelv>
I listened in on a presentation about this during last year's xtech, and it's almost all built on semweb stuff

[07:05:00.0000] <Philip`>
virtuelv: No, but that's independent of the issue of me hearing about RDF/OWL/etc in contexts that have very little to do with the web (e.g. policy services frameworks for distributed computing platforms in industrial, military and space applications, in one particular example)

[07:06:00.0000] <virtuelv>
ah

[07:07:00.0000] <virtuelv>
I guess it's a decent enough means of data exchange for those industries

[07:11:00.0000] <Philip`>
There's a strange mixture of lines like (M, œÄ) ‚ä® p ‚áî p ‚àä L(œÄ‚ÇÄ) and lines like <Resource name="XI_J2EE_LOP_achalm47_AS" class="IBM.Application" node="achalm47"> in one paper

[07:12:00.0000] <Philip`>
(and I can understand the former much better than the latter)

[07:28:00.0000] <hsivonen>
virtuelv: but does rijksmuseum expose its RDF data to the public?

[07:29:00.0000] <Philip`>
Or does it import RDF data from the public?

[07:35:00.0000] <jgraham>
And if it does either of those things, does anyone make use of those facilities?

[07:45:00.0000] <hsivonen>
http://www.w3.org/2001/tag/2009/sum02.html

[07:46:00.0000] <Philip`>
/me tries to work out whether that's from 2001 or 2009 or 2002

[07:49:00.0000] <Philip`>
"The TAG [...] reopened its ISSUE-20: What should specifications say about error handling?, an issue that the TAG originally raised in 1992." / "The Technical Architecture Group (TAG) was created in February 2001." - how does that work, in the absence of time travel?

[08:04:00.0000] <virtuelv>
hsivonen: I can't recall

[08:05:00.0000] <virtuelv>
weren't you at ms. Stash's lightning talk in Dublin? 

[08:05:01.0000] <virtuelv>
I believe you, at the very least, joined us for Irish food and beer later

[08:06:00.0000] <virtuelv>
and, I think they imported data from elsewehre

[08:07:00.0000] <virtuelv>
/me has to run

[12:00:00.0000] <virtuelv>
.innerHTML history lesson: http://www.ericvasilik.com/2006/07/code-karma.html

[13:53:00.0000] <Hixie>
with the whole splitting of html5 into multiple specs, i think we're going to need a name for the group of next gen specs, for PR purposes

[13:54:00.0000] <Hixie>
it was bad enough people calling all this stuff "HTML5" when it was 90% in HTML5

[13:54:01.0000] <Hixie>
but when more than half of the features are their own specs, that's just not going tofly

[13:54:02.0000] <Hixie>
maybe the WHATWG should release a spec called simply "Web"

[13:55:00.0000] <Hixie>
we could start it at version 3.0

[13:55:01.0000] <gsnedders>
Hixie: But 5 > *!

[13:56:00.0000] <Hixie>
no 5 > 2

[13:56:01.0000] <Hixie>
3 > 5!

[13:56:02.0000] <gsnedders>
WHAT logic: 3 > 5 > 2

[13:56:03.0000] <Hixie>
it goes 1 2 5 3 4, apparently

[13:56:04.0000] <gsnedders>
Hixie: What is 4 + 1?

[13:56:05.0000] <Hixie>
i don't think you can add version numbers

[13:57:00.0000] <roc>
Radiance

[13:57:01.0000] <gsnedders>
Hixie: What version number comes after 4, then?

[13:57:02.0000] <Hixie>
gsnedders: i don't know that it's come up

[13:58:00.0000] <Hixie>
actually come to think of it, it goes 1 4 2 5 3

[13:58:01.0000] <svl>
HTML 2011?

[13:58:02.0000] <Hixie>
since HTML4 comes before HTML5 and XHTML2

[13:58:03.0000] <gsnedders>
/me still wants the revision of HTML after 5 to be 2œÄ

[13:59:00.0000] <jcranmer>
be exotic

[13:59:01.0000] <Philip`>
The next should be HTML VI

[13:59:02.0000] <jcranmer>
name it after some random dieties

[13:59:03.0000] <Philip`>
(obviously followed by HTML EMACS)

[13:59:04.0000] <jcranmer>
Philip`: HTML NANO?

[13:59:05.0000] <jcranmer>
then HTML PICO

[13:59:06.0000] <gsnedders>
jcranmer: only after PCIO

[13:59:07.0000] <gsnedders>
*PICO

[14:00:00.0000] <gsnedders>
jcranmer: No, NANO must come after PICO

[14:00:01.0000] <jcranmer>
HTML FEMTO

[14:00:02.0000] <Philip`>
HTML Tiny

[14:00:03.0000] <gsnedders>
What about HTML MOO?

[14:00:04.0000] <jcranmer>
HTML "It's just HTML, why do I need a version number?"

[14:00:05.0000] <jcranmer>
HTML Buddha

[14:01:00.0000] <jcranmer>
followed by HTML Zeus

[14:01:01.0000] <svl>
Why do we need the H, T and M anymore, really? Just call it L and be done with it.

[14:02:00.0000] <jcranmer>
‚Ç§

[14:02:01.0000] <gsnedders>
HTML ‚àû

[14:02:02.0000] <jcranmer>
make it stylized letters!

[14:02:03.0000] <jcranmer>
HTML ◊ê‚ÇÄ

[14:03:00.0000] <gsnedders>
◊ü…Ø á…•

[14:04:00.0000] <Lachy>
Hixie, how many specs are being split out from HTML5?

[14:04:01.0000] <Hixie>
half a dozen at least

[14:05:00.0000] <Hixie>
search for "marked for extraction" in the spec

[14:08:00.0000] <Lachy>
OK, so it's URLs, Content Sniffing, Storage APIs, Server-sent Events, Web Sockets, and Timers. There's also Web Workers, although it was never in the same spec.

[14:08:01.0000] <Lachy>
have I missed anything?

[14:09:00.0000] <Hixie>
i think that's it for now

[14:09:01.0000] <Hixie>
there's also webidl, geolocation, selectors api, xhr2, cors

[14:09:02.0000] <Lachy>
let's just call it something like The Web Platform, without a version number.

[14:09:03.0000] <Hixie>
the problem is you can't market "the web platform" without a number, because every browser supports "the web platform"

[14:09:04.0000] <Lachy>
or Web Core

[14:10:00.0000] <Hixie>
web dom core is a whole other thing, and should be on the list too :-)

[14:10:01.0000] <Lachy>
oh, that would clash with Web DOM Core.

[14:10:02.0000] <roc>
And Webcore

[14:10:03.0000] <Hixie>
the idea is to have something that you can point people to with "does your browser implement this?"

[14:10:04.0000] <Hixie>
to kind of establish a baseline term for web technologies that people generally agree should be implemented in the next gen web platform

[14:11:00.0000] <Hixie>
where "people" means us, primarily. :-)

[14:11:01.0000] <roc>
the most logical term would be Web5

[14:11:02.0000] <Lachy>
The Cabal's Collection of Baseline Web Specs

[14:11:03.0000] <Hixie>
roc: can we get away with skipping 3.0 and 4.0 in the public eye?

[14:12:00.0000] <roc>
of course

[14:12:01.0000] <Hixie>
Lachy: you are off the naming committee. :-P

[14:12:02.0000] <jcranmer>
Stupendous Hypertext Index of Technology?

[14:13:00.0000] <Lachy>
damn, today isn't a good day. First my head explodes, and now I'm kicked of the committee. :-)

[14:13:01.0000] <Hixie>
jcranmer: also off the committee :-P

[14:13:02.0000] <Hixie>
i could buy Web 5.0

[14:13:03.0000] <Lachy>
why does this need a version number?

[14:13:04.0000] <Hixie>
i'm just worried that people will focus on the skipping of 3.0 and 4.0

[14:13:05.0000] <jcranmer>
sounds too... buzzword-y

[14:14:00.0000] <Hixie>
Lachy: because it'll change over time and it's easier to just have one name you keep revving than have multiple names

[14:14:01.0000] <Hixie>
jcranmer: it _is_ a buzzword. :-P

[14:14:02.0000] <jcranmer>
Specifications for Interoperable Platform-Independent Technology

[14:15:00.0000] <jcranmer>
Specifications for Interoperable Platform-Independent Mostly Backwards-Compatible Technology

[14:16:00.0000] <jcranmer>
Hixie's Specifications?

[14:16:01.0000] <Lachy>
but given that it will change gradually over time, and given the way browsers implement specs, the point at which we set the feature freeze for each version will be completely arbitrary.

[14:16:02.0000] <Hixie>
yes

[14:17:00.0000] <Hixie>
just like people referring to HTML5 now is arbitrary :-)

[14:17:01.0000] <Philip`>
HTML 2009.0

[14:17:02.0000] <Philip`>
Just use dates instead of version numbers

[14:19:00.0000] <Lachy>
Philip`, not a good idea because if we say Web 2009 includes the 10 or so specs mentioned above, by the time they all get fully implemented and browsers start claiming support for this collection of specs, it will already be about 2019.

[14:20:00.0000] <Lachy>
I mean, if we want a way for browser marketing to make themselves sound out of date, it's a brilliant idea.

[14:21:00.0000] <Lachy>
I think calling it Web 5.0 would be a mistake because of it's similarity to Web 2.0, but with which it has absolutely no relation

[14:23:00.0000] <Lachy>
How about Core Web Specs

[14:23:01.0000] <Hixie>
i think the great thing about Web 3.0 or 5.0 is that it co-opts the Web 2.0 term to actually mean something

[14:23:02.0000] <Hixie>
embrace and extend

[14:24:00.0000] <Lachy>
But Web 2.0 does have a meaning in relation to the design and functionality of modern web sites. It's just not very specific about what design features qualify.

[14:25:00.0000] <Philip`>
Call it Acid 4

[14:25:01.0000] <Philip`>
because that's already got the right brand association in people's minds

[14:25:02.0000] <Hixie>
roc: we could call the specs we are working on today 5.0, with the specs that are mostly done 4.0, and the specs of a few years ago 3.0, so that the Acid test numbers line up with the Web numbers :-)

[14:25:03.0000] <Hixie>
heh, Philip` thought of it at the same time

[14:26:00.0000] <Lachy>
so if we start with a version greater than 1.0, then we should retroactively describe roughly which specs correspond to the earlier versions.

[14:26:01.0000] <Philip`>
It's A Collection of Internet D... uh, Drafts?

[14:27:00.0000] <Hixie>
Lachy: agreed

[14:27:01.0000] <Hixie>
Philip`: hah

[14:28:00.0000] <jcranmer>
published by the Web Technology Foundation?

[14:28:01.0000] <jcranmer>
Web Task Force, sorry

[14:29:00.0000] <Lachy>
jcranmer, we already have the WHATTF. Introducing the WTF too might be a little confusing

[14:30:00.0000] <jcranmer>
/me intended it as a parody to IETF + the Internet Drafts

[14:33:00.0000] <Philip`>
People complain that the Acid tests are only testing a tiny part of necessary functionality for the web, and passing the test has little correlation to being able to render real web sites properly, so it makes sense to redefine Acid to be the entire collection of specs that ought to be supported, and the Acid tests can be the entire conformance test suites for those specs

[14:34:00.0000] <gsnedders>
We just need bigger Acid tests in general.

[14:37:00.0000] <Lachy>
gsnedders, I thought one of the complaints about acid 3 was that it was too large

[14:37:01.0000] <gsnedders>
Lachy: I don't care what other people think. In en-gb-x-sneddy where wrong is defined as disagreeing with me, they are wrong.

[14:38:00.0000] <heycam>
/me finds it interesting that the "Continue" button in the firefox unresponsive script window is the one that has the red X icon

[14:39:00.0000] <gsnedders>
It should be pink!

[14:39:01.0000] <heycam>
:)

[14:39:02.0000] <heycam>
and when did the green element definition sections get the funky border and identation

[14:40:00.0000] <gsnedders>
http://twitter.com/gsnedders/status/1260379505

[14:40:01.0000] <heycam>
(the unresponsive script window is for status.js in html5 btw...)

[14:41:00.0000] <Hixie>
funky border and indentation?

[14:41:01.0000] <Hixie>
what version of firefox?

[14:41:02.0000] <Philip`>
(Everyone loves status.js!)

[14:41:03.0000] <heycam>
nightly from january

[14:42:00.0000] <Hixie>
hm

[14:42:01.0000] <Hixie>
try updating

[14:42:02.0000] <Hixie>
there were some problems around the beta1 timeframe

[14:43:00.0000] <heycam>
http://mcc.id.au/temp/funky-border.png

[14:43:01.0000] <heycam>
i like it

[14:44:00.0000] <jcranmer>
that does look nice

[14:44:01.0000] <Hixie>
oh, cool, glad you like it :-)

[14:44:02.0000] <heycam>
but is it accidental?

[14:44:03.0000] <Hixie>
it was to avoid the status boxes overlapping the element boxes

[14:44:04.0000] <Hixie>
no, it was intentional

[14:44:05.0000] <heycam>
ah ok good

[14:44:06.0000] <Philip`>
That border looks ugly in Opera (9.63)

[14:44:07.0000] <heycam>
damn unresponsive status.js keeps popping up every so often

[14:44:08.0000] <Philip`>
The horizontal bit extends one pixel too far to the right

[14:44:09.0000] <heycam>
does it run some script whenever i press a key or something?

[14:45:00.0000] <Lachy>
heycam, the design change was at my request to stop the status boxes overlapping. The weird indentation is a result of the way the spec is marked up and the limitations of CSS having no :matches() selector

[14:46:00.0000] <Hixie>
heycam: 500ms or so after you stop scrolling

[14:46:01.0000] <heycam>
ah.  can you make status.js faster, for people with 5 year old computers like me? :)

[14:48:00.0000] <Hixie>
heycam: i don't really understand why it is slow

[14:48:01.0000] <gsnedders>
Hixie: Because you're running it on a kinda big document?

[14:49:00.0000] <Hixie>
well clearly

[14:59:00.0000] <Hixie>
but beyond that

[14:59:01.0000] <gsnedders>
Hixie: Because you can't write good optimized code?

[14:59:02.0000] <gsnedders>
/me ducks

[14:59:03.0000] <Hixie>
well i know that too

[14:59:04.0000] <Philip`>
Because the web platform is actually a pretty rubbish development environment?

[14:59:05.0000] <Hixie>
i mean, what exactly is the slow part

[14:59:06.0000] <Hixie>
Philip`: clearly

[14:59:07.0000] <heycam>
how come updateOffsetTops is passed an argument at one point, but the function doesn't use it?

[14:59:08.0000] <Philip`>
Hixie: Have you tried running it in a profiler?

[14:59:09.0000] <Philip`>
(Does Venkman still work and have a profiler?)

[14:59:10.0000] <gsnedders>
That'd be logical, so I'd assume not.

[14:59:11.0000] <Philip`>
(I vaguely remember it giving some kind of timing output when I last used it)

[14:59:12.0000] <gsnedders>
WebKit has one! :P

[14:59:13.0000] <jcranmer>
gsnedders: use dtrace!

[14:59:14.0000] <Hixie>
Philip`: i haven't successfully been able to get any of the dev tools to work with my firefox builds

[14:59:15.0000] <Hixie>
it appears part of the problem is that offsetTop is really slow in firefox

[14:59:16.0000] <gsnedders>
Then don't use it?

[14:59:17.0000] <gavin>
/me doubts that offsetTop itself is slow

[14:59:18.0000] <gavin>
but the layout flushes it triggers are another story

[14:59:19.0000] <Hixie>
i wait til after the page has painted to get the offsetTops

[14:59:20.0000] <Hixie>
and it takes upwards of a second to get all the offsetTop data of all the annotation boxes

[15:24:00.0000] <roc>
Firebug has a profiler

[15:26:00.0000] <gsnedders>
/me wants Coldbug

[15:28:00.0000] <Hixie>
gah why won't my browsers load my js files

[15:28:01.0000] <gsnedders>
/me informs Hixie of this <script> element

[15:28:02.0000] <Hixie>
it's a caching problem actually

[15:56:00.0000] <olliej>
roc: webkit has a profiler as well, i ahven't yet worked out how it decides how long is spent in functions though

[15:56:01.0000] <olliej>
roc: i'm not convinced it's restricting itself to the same rules of mathematics that we might usually expect

[15:57:00.0000] <roc>
I think everyone has a profiler now. Even IE8 has one

[15:58:00.0000] <olliej>
roc: .. lynx? ;D

[15:58:01.0000] <olliej>
/me hides

[15:58:02.0000] <roc>
ok ok ok you win

[15:58:03.0000] <olliej>
hehehe

[15:58:04.0000] <olliej>
victory!

[15:58:05.0000] <olliej>
/me does a dance

[15:58:06.0000] <olliej>
/me trips and falls

[15:59:00.0000] <roc>
I think our profiler turns off the JIT so it's probably less useful than it was

[15:59:01.0000] <olliej>
roc: ours doesn't

[15:59:02.0000] <roc>
need sample-based profiling of JITted code

[15:59:03.0000] <olliej>
roc: but omg 

[15:59:04.0000] <olliej>
roc: completely nails performance

[15:59:05.0000] <olliej>
roc: yeah


2009-03-03
[16:00:00.0000] <olliej>
roc: i'd like sampling based perf, we actually can do it, but it's fairly awful, and doesn't provide sufficient information for us to be able to give a useful profile

[16:01:00.0000] <olliej>
roc: we use it to work out what opcodes are taking too long

[16:01:01.0000] <roc>
you need stacks

[16:01:02.0000] <roc>
getting stacks in Tracemonkey would be interesting, since there's inlining going on

[16:01:03.0000] <olliej>
roc: yeah, i've often wondered how shark does it with such minimal perf impact

[16:01:04.0000] <olliej>
roc: hehe

[16:02:00.0000] <olliej>
roc: i see there work on tracking trace behaviour

[16:02:01.0000] <olliej>
roc: which is awesome

[16:02:02.0000] <roc>
Yeah

[16:02:03.0000] <olliej>
roc: i forget who was working on it, but is [s]he aware of my bug on that?

[16:02:04.0000] <roc>
Dave Mandelin

[16:02:05.0000] <roc>
what bug?

[16:03:00.0000] <olliej>
erm

[16:03:01.0000] <olliej>
roc: one moment

[16:03:02.0000] <Hixie>
i just commented out a block of code that does the most amount of work (i thought!) per page load in status.js

[16:03:03.0000] <Hixie>
the metric i'm timing went from 8319ms to 8416ms

[16:03:04.0000] <Hixie>
...

[16:03:05.0000] <roc>
I'd like to have Dave's visualization in the progress bar :-)

[16:04:00.0000] <olliej>
roc: https://bugzilla.mozilla.org/show_bug.cgi?id=471645

[16:05:00.0000] <roc>
thanks :-)

[16:05:01.0000] <roc>
of course, traces should just not abort :-)

[16:06:00.0000] <olliej>
roc: heh

[16:06:01.0000] <olliej>
roc: there's always exceptions :D

[16:06:02.0000] <olliej>
roc: our jit handles exceptions, but it isn't pretty to watch

[16:07:00.0000] <roc>
This is going to be an ongoing problem for JS though ... to get good performance you'll always need an aggressive compiler, and the more aggressive the compiler, the less predictable the performance

[16:07:01.0000] <gsnedders>
/me puts on angry face to try and make him do work quicker

[16:08:00.0000] <roc>
which is one reason all the efforts to achieve really good performance for higher-level languages than C/C++ have, to a large extent, failed

[16:08:01.0000] <Hixie>
ok i have narrowed down the 8000ms performance hit to the whitespace between two of my lines of code

[16:08:02.0000] <Hixie>
(@&*$(@!%&(!@#%!

[16:08:03.0000] <Hixie>
i wonder if what's happening is that the toc script is running between two of my timeouts or something

[16:09:00.0000] <olliej>
roc: i don't believe matching -O2/3 is feasible (at least not consistently) but i think O1 should be

[16:09:01.0000] <olliej>
Hixie: what are you working on?

[16:09:02.0000] <Hixie>
olliej: making the spec load faster in firefox

[16:09:03.0000] <gsnedders>
status.js

[16:09:04.0000] <gsnedders>
in the spec

[16:10:00.0000] <olliej>
Hixie: ah

[16:10:01.0000] <Hixie>
nope, not the toc script.

[16:10:02.0000] <gsnedders>
/me wonders why status annotations aren't done as part of the compiling of the spec

[16:11:00.0000] <gsnedders>
I guess that'd mean the spec would have to be regened to change them

[16:12:00.0000] <gsnedders>
I also guess that'd mean me coding it

[16:12:01.0000] <Hixie>
heh

[16:13:00.0000] <Hixie>
the toc script could be done pretty easily

[16:13:01.0000] <gsnedders>
Yeah, that could and should be done

[16:13:02.0000] <Hixie>
(it does a bit more than the short toc now, btw)

[16:13:03.0000] <gsnedders>
Email me :P

[16:13:04.0000] <Hixie>
no rush

[16:14:00.0000] <gsnedders>
Indeed not, I'm currently listening to Leonard Cohen

[16:14:01.0000] <gsnedders>
</bad joke>

[16:14:02.0000] <gsnedders>
Also, email doesn't mean a rush. I have emails to deal with going back to mid-last year :)

[16:15:00.0000] <Hixie>
i just mean i'm more interested in the other things you've on your list :-)

[16:15:01.0000] <gsnedders>
/me looks at Facebook mailbox, then realizes he clicked on the wrong one, and clicks on "spec-gen"

[16:16:00.0000] <gsnedders>
Hixie: What do I have outstanding from you?

[16:16:01.0000] <Hixie>
cross-spec xrefs

[16:16:02.0000] <gsnedders>
:)

[16:17:00.0000] <gsnedders>
OK, _apart_ from xdoc xref?

[16:17:01.0000] <Hixie>
i think that's it

[16:17:02.0000] <gsnedders>
mid:Pine.LNX.4.62.0808051950100.5140‚äôhdc too

[16:17:03.0000] <gsnedders>
Accessibility and specgen

[16:17:04.0000] <Hixie>
what's that one?

[16:17:05.0000] <Hixie>
oh yeah

[16:17:06.0000] <Hixie>
that too

[16:18:00.0000] <gsnedders>
First the "make everyone-except-Hixie happy" release :P

[16:18:01.0000] <Hixie>
making it even faster would be nice too

[16:19:00.0000] <gsnedders>
I'd like that too, but I'm not sure quite how much quicker I can get in Python

[16:20:00.0000] <Hixie>
ok seriously, i don't understand why it takes 8s for firefox to run this 0ms setTimeout callback

[16:22:00.0000] <Hixie>
i'm gonna stick the html5 spec in an iframe in acid4 and just call that the test, i think

[16:24:00.0000] <gsnedders>
/me copies a whole load of emails into the spec-gen folder

[16:25:00.0000] <gsnedders>
/me wonders about rewriting Anolis in C++ in an attempt to learn C++

[16:26:00.0000] <gsnedders>
/me wonders what browser-compat. HTML parsers there are that can be used without including the whole rendering engine

[16:27:00.0000] <sicking>
Hixie, firefox seems to be struggling pretty bad with rendering the HTML5 spec lately :(

[16:27:01.0000] <Hixie>
sicking: yeah, and i can't work out why

[16:27:02.0000] <sicking>
Hixie, dunno if something's changed recently

[16:27:03.0000] <Hixie>
sicking: i just spent the last 2 hours trying to pin it down

[16:27:04.0000] <sicking>
more annotations?

[16:27:05.0000] <Hixie>
sicking: the annotations don't appear to be the cause of the slowdown

[16:28:00.0000] <Hixie>
sicking: i mean, they take a few seconds here and there, but i'm seeing 8s pauses in between two of my callbacks, and stuff like that

[16:28:01.0000] <sicking>
Hixie, ping bz for a profile, he rocks at finding hotspots

[16:28:02.0000] <sicking>
some of it felt like rendering to me, but i'm not sure

[16:29:00.0000] <gsnedders>
sicking: Wait, you feel how long code takes to execute? Dude, you should be a millionaire!

[16:29:01.0000] <sicking>
gsnedders, it's all in the finger tips

[16:30:00.0000] <sicking>
also laying my ear against the terminal window helps

[16:31:00.0000] <Hixie>
i just disabled all the scripts

[16:31:01.0000] <Hixie>
and it's still slowish

[16:32:00.0000] <doublec>
I get the 'this script is taking too long to execute' all the time

[16:32:01.0000] <Hixie>
i wonder which script

[16:33:00.0000] <doublec>
hmm, not happening now. It was happening a lot yesterday.

[16:33:01.0000] <Hixie>
i've done a bunch of changes

[16:33:02.0000] <Hixie>
which might help

[16:34:00.0000] <doublec>
it got to the point where vi was my browser of choice for the spec

[16:34:01.0000] <jcranmer>
not elinks?

[16:34:02.0000] <doublec>
I didn't think to try a text mode browser :)

[16:35:00.0000] <Hixie>
looks like a big chunk of the time is spent rendering the Status boxes

[16:43:00.0000] <Lachy>
hey, why is section 2.1.1 XML marked as controversial? What issue could anyone possibly have with it?

[16:43:01.0000] <Hixie>
Lachy: annotations may be wrong right now

[16:43:02.0000] <Hixie>
i'm fiddling with the script

[16:45:00.0000] <Lachy>
Hixie, I don't see how you fiddling with the script could be messing up the annotations, since all the others marked controversial, actually are controversial

[16:45:01.0000] <Hixie>
hm

[16:45:02.0000] <Hixie>
maybe an ID changed?

[16:46:00.0000] <Lachy>
it says it was last set on 2008-12-15. So check SVN for that date and see which section had that ID.

[16:46:01.0000] <sicking>
Lachy, i consider it offensive!

[16:47:00.0000] <Lachy>
what's offensive about it?

[16:47:01.0000] <Hixie>
oh it was set by dean

[16:47:02.0000] <Hixie>
i'm sure he finds all kinds of things offensive

[16:47:03.0000] <sicking>
it doesn't cater to my swedish ancestry. Or something

[16:48:00.0000] <Hixie>
Lachy: feel free to update it

[16:48:01.0000] <Hixie>
assuming the annotation script works :_)

[16:49:00.0000] <Lachy>
maybe the status section needs a notes section for people to write or link to reasons for marking controversial

[16:49:01.0000] <Lachy>
s/status section/status boxes/

[16:50:00.0000] <Lachy>
anyway, I changed it to Working Draft for now

[16:51:00.0000] <gsnedders>
/me procrastinates and thinks about Anolis2

[16:51:01.0000] <Hixie>
the real solution is to not use the status boxes to mark controvesry

[16:52:00.0000] <Lachy>
why was controversy added to the available options then?

[16:52:01.0000] <Hixie>
because it seemed like a good way to show that we were willing to work with the w3c

[16:54:00.0000] <sicking>
Hixie, does it ever stop consuming CPU if I wait?

[16:54:01.0000] <sicking>
Hixie, going on a couple of minutes here and it's still chugging away

[16:55:00.0000] <Hixie>
sicking: yes, but i'm still tuning it.

[16:55:01.0000] <sicking>
Hixie, you should see if firebug is finding any hotspots

[16:55:02.0000] <Hixie>
firebug doesn't work for me

[16:55:03.0000] <Hixie>
for some reason

[16:55:04.0000] <sicking>
yay!

[16:55:05.0000] <sicking>
CPU is down

[16:55:06.0000] <gsnedders>
It's all these impatient young'uns nowadays, unable to stop waiting :P

[16:56:00.0000] <sicking>
now all i need to do is to not close this tab ever again :)

[16:56:01.0000] <Hixie>
part of the problem is i'm trying to balance the script doing work and the browser doing layout

[16:56:02.0000] <gsnedders>
s/stop waiting/wait/

[16:56:03.0000] <Hixie>
if i portion off the script's work into tiny bits, the browser tries to do a layout in between each iteration

[16:56:04.0000] <Hixie>
if i do all of it at once, the browser locks up

[16:57:00.0000] <Hixie>
if firefox did layout of the spec faster, this would be much less of an issue

[16:57:01.0000] <gsnedders>
Firefox--

[16:58:00.0000] <sicking>
Hixie, can't you make all annotations display:none until you've positioned them all

[16:58:01.0000] <sicking>
Hixie, and then flip them all on at the end

[16:58:02.0000] <Hixie>
hm, that's an idea

[16:59:00.0000] <sicking>
not sure if changing a rule at the end is faster, or if looping through them all and removing a class is

[16:59:01.0000] <sicking>
iirc we optimize poorly rule changes

[17:00:00.0000] <sicking>
but that might have been additions/subtractions of rules/stylesheets. Not changing existing rules

[17:00:01.0000] <sicking>
and we might also be optimizing it better these days

[17:00:02.0000] <gsnedders>
Everything should just run in 0 CPU time, then everything would be fine

[17:02:00.0000] <Hixie>
oh wow yeah making them display:none definitely helps

[17:02:01.0000] <Hixie>
still slow though

[17:03:00.0000] <Hixie>
and the restily at the end takes an ungodly amount of time

[17:03:01.0000] <Hixie>
restyle, even

[17:03:02.0000] <Hixie>
(restily?!)

[17:03:03.0000] <gsnedders>
That isn't even a thought -> audio -> text fail.

[17:07:00.0000] <gsnedders>
What's the amperage of normal US home power sockets?

[17:10:00.0000] <Hixie>
holy crapamoli

[17:10:01.0000] <Hixie>
removing document.getElementById() sped things up by a factor of 3

[17:13:00.0000] <Hixie>
sicking: is there some way to get firefox to prime its ID cache or something?

[17:16:00.0000] <sicking>
hmm

[17:16:01.0000] <sicking>
there is

[17:16:02.0000] <sicking>
why do you want to do it though?

[17:17:00.0000] <Hixie>
getElementById() is where all the time is being spent

[17:17:01.0000] <sicking>
in calls that fail or succeed?

[17:17:02.0000] <Hixie>
literally 20s of the 30s or so of loading it is spent in that one function

[17:17:03.0000] <Hixie>
all succeeds

[17:17:04.0000] <sicking>
/me goes to look at the code

[17:18:00.0000] <sicking>
do you know if each call takes approx the same amount of time, or is there one call that all of a sudden takes a ton of time?

[17:18:01.0000] <sicking>
(where we prime the cache)

[17:19:00.0000] <sicking>
and are you not using the result of the gEBI call? How can you otherwise just remove it?

[17:20:00.0000] <Hixie>
i replaced it with document.body

[17:20:01.0000] <sicking>
(i'm asking if you accidentally killed more code than the gEBI call)

[17:20:02.0000] <Hixie>
i turned this:

[17:20:03.0000] <Hixie>
function sectionToElement(section) { return document.getElementById(section);

[17:20:04.0000] <Hixie>
}

[17:20:05.0000] <Hixie>
into this:

[17:20:06.0000] <Hixie>
function sectionToElement(section) { return document.body; return document.getElementById(section);

[17:20:07.0000] <Hixie>
}

[17:20:08.0000] <Hixie>
and two thirds of the time went away

[17:20:09.0000] <Hixie>
there might be some misses, actually

[17:20:10.0000] <Hixie>
but most will be hits

[17:21:00.0000] <gsnedders>
Damn that cmd+w!

[17:22:00.0000] <sicking>
and you're sure that doing whatever operation to the same element tons of times is the same as doing it to different elements?

[17:22:01.0000] <Hixie>
i do target = sectionToElement(section) followed by:

[17:22:02.0000] <Hixie>
target.parentNode.insertBefore(this.panel, target.nextSibling);

[17:22:03.0000] <Hixie>
oh

[17:22:04.0000] <Hixie>
so

[17:22:05.0000] <Hixie>
no

[17:23:00.0000] <Hixie>
in fact that would indeed be cheaper

[17:23:01.0000] <othermaciej_>
I don't know the context here but "doing whatever operation to the same element tons of times is the same as doing it to different elements" is not the case for most DOM operations

[17:23:02.0000] <Hixie>
i guess the time is really spent on insertBefore

[17:23:03.0000] <Hixie>
since document.body.nextSibling will always be null

[17:23:04.0000] <sicking>
Hixie, would it? inserting is about the same no matter where it happens

[17:23:05.0000] <Hixie>
which would turn that into a cheap append

[17:23:06.0000] <sicking>
basically

[17:23:07.0000] <sicking>
wait, unless you're inserting outside of what's displayed

[17:24:00.0000] <Hixie>
actually i guess that the first one would be different, but all subsequent inserts would be happening before the first one

[17:24:01.0000] <Hixie>
so yeah, it should be no different

[17:24:02.0000] <othermaciej>
wouldn't insertBefore be more expensive than appending in Gecko, due to the array representation of child nodes?

[17:24:03.0000] <sicking>
hmm.. actually

[17:24:04.0000] <sicking>
insertBefore(..., null) turns into appendChild

[17:25:00.0000] <Hixie>
let me try again with the document.body in the insertBefore but still doing the document.gEBI

[17:25:01.0000] <othermaciej>
(in WebKit it would be about the same unless it causes excessive style recalc or rebuilding of the render tree)

[17:25:02.0000] <sicking>
which we've optimized more heavily since it matters a lot during parsing

[17:25:03.0000] <sicking>
i.e. the layout engine is better at dealing with appendChild

[17:25:04.0000] <othermaciej>
(since we have a linked list representation of children)

[17:26:00.0000] <sicking>
Hixie, how many gEBI lookups do you do?

[17:26:01.0000] <Hixie>
300 or so

[17:26:02.0000] <Hixie>
one per status box

[17:26:03.0000] <sicking>
so after 64 lookups we start priming

[17:26:04.0000] <Hixie>
apparently there are 270 hits and 47 misses

[17:27:00.0000] <sicking>
64 lookups of different IDs. Doesn't matter if they return null or not

[17:27:01.0000] <sicking>
but looking up 'hello' 100 times does not prime

[17:27:02.0000] <Hixie>
these are all different

[17:27:03.0000] <sicking>
so would be interesting if lookup number 60 or so takes a long time. I doubt it though

[17:28:00.0000] <sicking>
try changing your insertBefore into appendChild and see if that makes a difference

[17:28:01.0000] <sicking>
or

[17:29:00.0000] <sicking>
start by looking up 65 'random' ids before doing anything else

[17:29:01.0000] <sicking>
and just time that part

[17:30:00.0000] <sicking>
/me wonders if this lazy priming is really worth it

[17:31:00.0000] <Hixie>
yeah appendchild is really fast compared to insertbefore, and insertbofer on document.body is really fast compared to doing it in the middle of a big doc

[17:31:01.0000] <Hixie>
not doing gEBI doesn't actually save time once i take this into account

[17:31:02.0000] <sicking>
cool

[17:32:00.0000] <Hixie>
so basically dom manipulation is what is taking a long time

[17:32:01.0000] <sicking>
well, it's rather the rendering after that takes time i would think

[17:32:02.0000] <sicking>
hmm..

[17:32:03.0000] <sicking>
maybe not actually

[17:32:04.0000] <Hixie>
no the rendering is turned off right now

[17:32:05.0000] <Hixie>
i did the display:none thing you suggested

[17:33:00.0000] <sicking>
do you have very long child lists?

[17:33:01.0000] <Hixie>
yes

[17:33:02.0000] <Hixie>
very very very long

[17:33:03.0000] <Hixie>
the entire spec long

[17:33:04.0000] <sicking>
are you inserting into the long lists?

[17:33:05.0000] <Hixie>
yes

[17:33:06.0000] <Hixie>
i'm inserting these boxes all the way down this list

[17:34:00.0000] <sicking>
"all the way down"?

[17:34:01.0000] <sicking>
s/elements/boxes/?

[17:34:02.0000] <sicking>
s/boxes/elements/?

[17:34:03.0000] <Hixie>
basically the spec is a long list of h2/h3/h4 elements, p elements, div elements, etc

[17:34:04.0000] <Hixie>
and for almost every h2/h3/h4 element, i'm inserting a div element next to it

[17:35:00.0000] <sicking>
how many children are we talking here?

[17:35:01.0000] <Hixie>
10032

[17:35:02.0000] <Hixie>
javascript:alert(document.body.childNodes.length) = 10032

[17:35:03.0000] <sicking>
we are going to end up doing a linear search through this list a lot

[17:36:00.0000] <sicking>
are you inserting these in order?

[17:36:01.0000] <Hixie>
no

[17:36:02.0000] <sicking>
ish?

[17:36:03.0000] <Hixie>
i'm probably inserting them in the order they were created

[17:36:04.0000] <sicking>
just random, not even close top-to-bottom

[17:36:05.0000] <Hixie>
which probably looks pseudo-random

[17:36:06.0000] <sicking>
chronological spec creation wise?

[17:37:00.0000] <Hixie>
chronological status annotation creation wise

[17:37:01.0000] <Hixie>
i guess

[17:37:02.0000] <Hixie>
i don't know

[17:37:03.0000] <Hixie>
it's certainly not spec order

[17:37:04.0000] <sicking>
ok

[17:37:05.0000] <Hixie>
it could also be some random mysql order

[17:37:06.0000] <sicking>
still surprises me a little, it shouldn't be *that* slow to search the list, though 10032 is a lot

[17:38:00.0000] <sicking>
can you change to spec order and see if it makes a difference?

[17:38:01.0000] <sicking>
or

[17:38:02.0000] <sicking>
can you avoid inserting into this long list?

[17:38:03.0000] <Hixie>
i don't really have a good way to figure out the spec order

[17:39:00.0000] <Hixie>
well i could put divs all over the place

[17:39:01.0000] <Hixie>
but then i'd be working around a particular browser's limitation

[17:39:02.0000] <Hixie>
which i keep telling people i won't do for IE :-)

[17:39:03.0000] <sicking>
can you insert these elements as children of the hx/p/divs? rather than as siblings

[17:39:04.0000] <sicking>
hah

[17:39:05.0000] <sicking>
fair enough

[17:39:06.0000] <Hixie>
inserting divs into hxs and ps would be a spec violation

[17:40:00.0000] <Hixie>
i do actually insert them into the divs when that's possible

[17:40:01.0000] <sicking>
spec schmeck. No-one reads specs anyways :)

[17:40:02.0000] <sicking>
well, we'll have to release the profile hounds on this and see what's up

[17:41:00.0000] <sicking>
can i turn off annotations somewhere for now?

[17:42:00.0000] <Hixie>
not currently

[17:42:01.0000] <Hixie>
but i might add that feature shortly

[17:42:02.0000] <gsnedders>
Turn of JS!

[17:42:03.0000] <gsnedders>
*off

[17:44:00.0000] <sicking>
i was gonna, turns out we don't have easy-access prefs for turning off JS on a site-by-site basis :(

[17:44:01.0000] <sicking>
i'm sure we have it somewhere, just no UI for it

[17:44:02.0000] <sicking>
we do have prefs for images, popups, cookies and addons though.... awesome

[17:50:00.0000] <roc>
use noscript or something

[17:54:00.0000] <annevk3>
Hixie, can you generate a copy of the spec without all the scripts?

[17:55:00.0000] <annevk3>
Hixie, they are actually becoming a pain for me in Opera too

[17:55:01.0000] <gsnedders>
annevk3: But I thought Opera was quick!

[17:55:02.0000] <gsnedders>
I mean, that's what the marketing says!

[17:55:03.0000] <annevk3>
are you saying you trust TV commercials as well?

[17:56:00.0000] <Hixie>
yeah i can just have a slow browsers mode

[17:58:00.0000] <annevk3>
:)

[18:24:00.0000] <Hixie>
ok you can now stick ?slow-browser on the end of the URL to disable the scripts

[18:24:01.0000] <Hixie>
and ?profile to get timings

[18:45:00.0000] <annevk4>
Hixie, the W3C editor's draft is still marked WD

[01:22:00.0000] <hsivonen_>
for people interested in HTML5 parsing: integration with layout now sucks less https://build.mozilla.org/tryserver-builds/2009-03-02_06:05-hsivonen‚äôif/

[01:22:01.0000] <hsivonen_>
innerHTML setter should work, too

[01:22:02.0000] <Lachy>
Hixie, since section 2.5.4 (relationship to flash, etc.) was removed, are you intending to leave it out for good, or are you still interested in readding it once it has been rewritten?

[01:23:00.0000] <Lachy>
I have that action item that I need to deal with this week about rewriting it with Larry and I need to know if I should bother spending time on it

[01:23:01.0000] <roc_>
hsivonen_: awesome!

[01:24:00.0000] <hsivonen_>
roc: thanks. I'm using nsTArray as a very naive set in the notification batching code. I should see if there's something better.

[01:24:01.0000] <roc>
set?

[01:25:00.0000] <roc>
nsTHashtable maybe

[01:25:01.0000] <roc>
if you're doing element-of a lot

[01:25:02.0000] <hsivonen_>
roc: a set of elements that that I know aren't touching the notification boundary between the old and new parts of the tree

[01:26:00.0000] <hsivonen_>
/me looks up nsTHashtable

[01:26:01.0000] <roc>
you may also want to look at nsHashKeys.h

[01:26:02.0000] <hsivonen_>
roc: ok. thanks

[01:38:00.0000] <Hixie>
hsivonen_: i've given up on that fight, so unless someone else thinks we should keep it, i'm ok with just dropping it

[01:38:01.0000] <hsivonen_>
Hixie: did you mean Lachy?

[01:38:02.0000] <Hixie>
er yes

[01:38:03.0000] <Hixie>
Lachy: ^

[01:39:00.0000] <hsivonen_>
Hixie: btw, making the tree builder not read from the DOM during AAA turns out to be useful for the single-threaded case as well

[01:39:01.0000] <Hixie>
i'm sure

[01:40:00.0000] <hsivonen_>
Hixie: because timeouts don't need to flush the tree builder

[01:40:01.0000] <Hixie>
timeouts?

[01:40:02.0000] <hsivonen_>
Hixie: scripts that run through setTimeout/interval

[01:40:03.0000] <Hixie>
ah

[01:40:04.0000] <hsivonen_>
Hixie: since whatever they do wouldn't affect the queue of pending tree ops

[01:46:00.0000] <Lachy>
Hixie, I don't think it's worth fighting for either. There are much more important things to worry about.

[01:50:00.0000] <Lachy>
hsivonen_, why does your HTML5 build of Mozilla suffer from the unresponsive script issues in the HTML5 spec, whereas the latest trunk build doesn't? Are you using some older components?

[01:50:01.0000] <Hixie>
latest trunk isn't so hot either

[01:51:00.0000] <Lachy>
yeah, but at least the trunk doesn't need to show the unresponsive script dialog asking to stop the script.

[01:52:00.0000] <hsivonen_>
Lachy: the HTML5 stuff branched in December

[01:53:00.0000] <Lachy>
ok

[01:55:00.0000] <Lachy>
/me decides to work on the HTML 5 Reference today

[01:55:01.0000] <hsivonen_>
I think I should merge in new stuff from the trunk once 1) I have eliminated the leaks I introduced and 2) the trunk itself is in good shape

[02:17:00.0000] <john_fallows>
Hixie: what is the type of the "open" event for EventSource and WebSocket ? (it is not hyperlinked like the others)

[02:18:00.0000] <Hixie>
find the text that fires the event, there should be some term of art used to fire it

[02:18:01.0000] <Hixie>
probably "fire a simple event"

[02:19:00.0000] <Hixie>
follow the link for that term of art and it'll answer the question, unless i screwed up

[02:20:00.0000] <hsivonen_>
I think I found the cause of the bug zcopran reported about doctype sometimes not showing up in the DOM in the HTML5 parsing Gecko builds

[02:23:00.0000] <john_fallows>
Hixie: yes, fire a simple event, which "does not bubble, but is cancelable (unless otherwise stated)" - what would it mean to cancel a WebSocket / EventSource open event?

[02:27:00.0000] <Hixie>
if no default action is specified, then nothing

[02:28:00.0000] <john_fallows>
ok, thanks

[02:35:00.0000] <john_fallows>
Hixie: one of the other pieces of feedback on that email thread that prompted the change from <eventsource> to EventSource mentioned sharing stream data at the browser as a killer feature for SSE, what do you think?

[02:36:00.0000] <Hixie>
sharing stream data?

[02:36:01.0000] <john_fallows>
yeah, across tabs to avoid 2 physical streams for the same logical information

[02:37:00.0000] <Hixie>
ah, interesting

[02:37:01.0000] <Hixie>
technically the spec allows that already i think

[02:37:02.0000] <Hixie>
though technically the second tab would need to be sent all the events so far

[02:38:00.0000] <Hixie>
ok i should definitely be in bed

[02:38:01.0000] <Hixie>
nn

[02:38:02.0000] <john_fallows>
nn

[02:55:00.0000] <annevk>
http://code.google.com/p/tircd/ is interesting

[03:00:00.0000] <jgraham>
annevk: It seems to encourage real-time conversations via twitter in a way that it's not clear that twitter can really manage (I know it is far from unique in having this property)

[03:42:00.0000] <Philip`>
Did Google change its link colour? It looks a bit more cyan to me than usual

[03:42:01.0000] <Philip`>
but it might just be my eyes

[03:43:00.0000] <virtuelv>
Philip`: dunno -- color: #0029cc;

[03:44:00.0000] <virtuelv>
 default is #0000cc 

[03:44:01.0000] <Lachy>
Philip`, looks the same color to me

[03:45:00.0000] <Lachy>
maybe your monitor is getting old and rendering colours wrongly

[03:45:01.0000] <Philip`>
Hmm, it's different in Opera than in Firefox

[03:46:00.0000] <Philip`>
Maybe it's a per-cookie thing?

[03:47:00.0000] <Philip`>
The front page is #0000cc, but the search results page uses #03e

[03:47:01.0000] <Philip`>
It's weird and disturbing :'-(

[03:48:00.0000] <Philip`>
(and it's definitely a real change in the markup, not just monitor/eyes/etc)

[03:51:00.0000] <hsivonen_>
Philip`: are they decaying the color over time based on cookie?

[03:54:00.0000] <Philip`>
hsivonen_: That would be kind of neat, but totally absurd

[03:55:00.0000] <Philip`>
Also I didn't notice this problem yesterday, so it's a sudden change and not a decay :-)

[03:55:01.0000] <Philip`>
/me guesses it's just some kind of experiment

[04:41:00.0000] <jgraham>
/me hates Swedish telecoms companies

[05:12:00.0000] <Lachy>
Hixie, from section 5.1 Browsing Contexts, "The origin of the about:blank Document is set when the Document is created..." - shouldn't that say "The origin [and the effective script origin] ..."

[05:14:00.0000] <Lachy>
hmm, maybe not.

[05:14:01.0000] <Lachy>
Section 5.4 Origin only sets the origin:

[05:14:02.0000] <Lachy>
If a Document has the address  "about:blank"

[05:14:03.0000] <Lachy>
    The origin of the Document is the origin it was assigned when its browsing context was created.

[05:16:00.0000] <Philip`>
jgraham: More than British ones?

[05:23:00.0000] <jgraham>
Philip`: Yes on the quite reasonable basis that I no longer have to deal with british ones.

[05:24:00.0000] <jgraham>
ANd also on the basis that I could always get an internet connection within the first 6 weeks of trying there, whereas that has not been the case here

[05:27:00.0000] <jgraham>
Although admittedly my experiences with both English and Swedish telecoms companies suffer from small number statistics

[05:28:00.0000] <hsivonen_>
/me decides to try implementing frameset-ok as an insertion mode

[05:41:00.0000] <jgraham>
hsivonen_: Hacker news comment threads (e.g. http://news.ycombinator.com/item?id=500781 ) have doubled text, some in grey, with the HTML 5 Firefox 

[05:43:00.0000] <hsivonen_>
jgraham: thanks. It seems that node removals from parent during AAA aren't properly notified to layout.

[05:44:00.0000] <hsivonen_>
jgraham: if you try selecting the text, some of the text doesn't exist as selectable

[05:44:01.0000] <jgraham>
hsivonen_: Oh yes, I noticed that but forgot to say :)

[06:16:00.0000] <gsnedders>
MikeSmith: I was going to ping you about something. Any idea what?

[06:19:00.0000] <MikeSmith>
gsnedders: yeah, you were finally going to send me that big bag of dope you've been promising 

[06:19:01.0000] <gsnedders>
Ah, OK.

[06:20:00.0000] <MikeSmith>
gsnedders: plus, you said you were going to write a poem about me

[06:20:01.0000] <gsnedders>
Ah, OK.

[06:20:02.0000] <MikeSmith>
you said it would be along the lines of Gilgamesh

[06:20:03.0000] <MikeSmith>
but with more sex

[06:23:00.0000] <gsnedders>
Ah, OK.

[06:40:00.0000] <Lachy>
gsnedders, I think I need something like an include mechanism in anolis, so that I can include automatically generated bits together with the rest

[06:41:00.0000] <gsnedders>
Lachy: email

[06:41:01.0000] <Lachy>
specifically, what I have is the element descriptions being extracted and generated from the HTML5 spec, and I need each of those to be included along with the custom explanatory text that I write for each

[06:41:02.0000] <gsnedders>
Lachy: Email.

[06:43:00.0000] <jgraham>
Surely that should be eMail if you are progressively adding caps :p

[06:43:01.0000] <Lachy>
jgraham, no, it's e-mail or E-Mail

[06:44:00.0000] <jgraham>
but everything that is foo -> foo on the internet gets a lowercase e

[06:47:00.0000] <Philip`>
jgraham: Do you mean "foo -> efoo"?

[06:48:00.0000] <Philip`>
I guess eRDF supports your case

[06:50:00.0000] <Lachy>
I can't think of anything else that has a lowercase e like that.

[06:52:00.0000] <gsnedders>
What the best way to teach someone how to use a compuer?

[06:52:01.0000] <gsnedders>
*computer

[06:52:02.0000] <jgraham>
gsnedders: No one knows

[06:52:03.0000] <Philip`>
gsnedders: Give them one and tell them not to worry about breaking it

[06:52:04.0000] <gsnedders>
:P

[06:53:00.0000] <jgraham>
gsnedders: However a more sensible question would have more parameters like the age and background of the person involved

[06:54:00.0000] <gsnedders>
jgraham: 65, has minimal experience using Mac OS 7 asking for help every approx. 0.5 seconds

[06:54:01.0000] <Philip`>
Other useful parameters include what the goal of teaching them to use a computer is

[06:55:00.0000] <gsnedders>
Philip`: Use teh power of teh intarwebs!111!!eleventy!

[06:56:00.0000] <Philip`>
/me knows an elderly person who likes going to classes at the local Apple store

[06:56:01.0000] <gsnedders>
(Or, use the web and email)

[06:56:02.0000] <jgraham>
gsnedders: So what are the main problems?

[06:56:03.0000] <gsnedders>
Philip`: local here means 80 mlles away

[06:56:04.0000] <jgraham>
Like typical problems would be "fear of data loss"

[06:56:05.0000] <gsnedders>
jgraham: Not knowing how to do anything, more or less :)

[06:57:00.0000] <jgraham>
Is it paranoia about breaking something or...

[06:57:01.0000] <gsnedders>
"I just don't like using it."

[06:59:00.0000] <jgraham>
Replace the desktop with sugar, explain it is designed for children and that you have no idea how to use it either? 

[06:59:01.0000] <jgraham>
/me will think of a serious suggestion in a moment

[06:59:02.0000] <Philip`>
I'm not sure that much sugar would be particularly healthy

[06:59:03.0000] <gsnedders>
Also, lack of intuition about how to delete something (y'know, you see that delete button?)

[07:00:00.0000] <Philip`>
By "that delete button", do you mean "that button which says <--- on it"?

[07:00:01.0000] <jgraham>
gsnedders: Have you turned on text in icons? That seems like it would help by reducing the abstraction level

[07:01:00.0000] <gsnedders>
Philip`: The delete button that says delete on it

[07:01:01.0000] <jgraham>
(Does OSX even do that?)

[07:01:02.0000] <gsnedders>
jgraham: Yeah

[07:01:03.0000] <gsnedders>
jgraham: yeah

[07:01:04.0000] <gsnedders>
jgraham: It is turned on.

[07:02:00.0000] <jgraham>
Hmm. I think people have difficulty with the abstract concepts associated with using a computer, particularly if they are old

[07:02:01.0000] <jgraham>
But I don't know what you do about it

[07:02:02.0000] <gsnedders>
Nor do I.

[07:03:00.0000] <Philip`>
Teach them through repetition to know which actions are needed to perform the tasks they want to perform

[07:03:01.0000] <Philip`>
As long as nothing changes much (e.g. they don't accidentally resize their windows), that works well enough to be beneficial in practice

[07:04:00.0000] <jgraham>
http://www.google.com/search?q=teaching+old+people+to+use+a+computer+techniques&btnG=Search&hl=en&sa=2 seems like it might be helpful

[07:05:00.0000] <jgraham>
Actually the sugar suggestion, whilst impractical, is not entirely non-serious for roughly the reason Philip` mentioned; the fact that everything runs fullscreen means there is a lot less conceptual baggage around window mangement

[07:05:01.0000] <Philip`>
/me hopes it's not considered too patronising to talk about "old people" like this

[07:10:00.0000] <Philip`>
/me discovers that GCC 4.3 does data flow analysis to detect aliasing violations in C++, which is pretty neat

[07:12:00.0000] <Philip`>
(It is, admittedly, less neat that the language supports errors that can't be detected without data flow analysis, and can't reliably be detected even with data flow analysis)

[07:13:00.0000] <Philip`>
(but that's what makes it fun)

[07:14:00.0000] <gsnedders>
Heh.

[07:15:00.0000] <gsnedders>
Side-effect of my mother's great computing skill: just got an email saying payment has to be made by 28 Feb for where I was meant to be going during Easter holidays.

[07:15:01.0000] <gsnedders>
(It has, inevitably, not been made.)

[07:20:00.0000] <gsnedders>
/me thinks the sugar idea might not be a bad one

[07:25:00.0000] <jgraham>
It seems you can run sugar in its own window, which is nice

[07:26:00.0000] <Philip`>
Can you combine it with the 3D rotating virtual desktops of Compiz to make a sugar cube?

[07:41:00.0000] <Philip`>
/me sees that about 15% of Canvex visitors over the past ten days have 1024x768 screens, and almost everyone else it at least 1280x800

[07:41:01.0000] <Philip`>
which I suppose is nice in terms of knowing that there's no point caring about 800x600

[07:41:02.0000] <Philip`>
and not much point in caring about anything below 1280x800

[07:42:00.0000] <Lachy>
Philip`, sure, but remember that not everyone maximises their window and on a 1024 screen, a non=maximised window may only be about 800px wide

[07:42:01.0000] <svl_>
Philip`: but of course that half of those with larger resolutions won't be running fullscreen, and will probably have their browser widths set to something close to 800 or 1024

[07:42:02.0000] <svl_>
/me is slow

[07:43:00.0000] <Lachy>
on my 1920x1200 screen, my browser window is only about 1200px wide

[07:44:00.0000] <Philip`>
(Hmm, and 40% of the 1024x768 users were IE, which I really don't care about in Canvex)

[07:45:00.0000] <Philip`>
Lachy: But at least they can choose to maximise their browser in order to fully experience my compelling content

[07:45:01.0000] <Philip`>
rather than simply not having a big enough monitor

[08:55:00.0000] <sayrer>
does HTML5 cover interoperability of mixed SSL / non-SSL pages?

[09:01:00.0000] <jgraham>
"Let L be a string of the same length as S where each character of L is either the Unicode lowercase

[09:01:01.0000] <jgraham>
equivalent of the corresponding character of S

[09:01:02.0000] <sayrer>
I ask because I noticed that Safari leaves SSL indicators in that case while Firefox turns them off

[09:01:03.0000] <jgraham>
" - has ES3.1 really abandoned the cases where case shifting changes the number of characters

[09:05:00.0000] <jgraham>
/me should ask on es-discuss but doesn't want to without some confirmation he is not being totally dozy

[09:05:01.0000] <gsnedders>
This is why I don't post to mailing lists.

[09:07:00.0000] <Philip`>
jgraham: Do you have an example where lowercasing changes the number of characters?

[09:07:01.0000] <Philip`>
(in whatever locale it's meant to be)

[09:08:00.0000] <jgraham>
Philip`: In some locales, yes.

[09:09:00.0000] <jgraham>
Note that the draft also says toUpperCase behaves in exactly the same was as toLoerCase

[09:09:01.0000] <jgraham>
toLowerCase

[09:09:02.0000] <jgraham>
and toUpperCase has several non-locale-dependant cases where the length changes

[09:10:00.0000] <jgraham>
e.g. u00DF -> u0053 u0053

[09:13:00.0000] <Philip`>
alert("\uFB00".toUpperCase()) seems to consistently give U+FB00 in browsers

[09:16:00.0000] <jgraham>
Philip`: AFAICT Squirrelfish and V8 give FF for that case

[09:16:01.0000] <Philip`>
Oh

[09:17:00.0000] <Philip`>
alert("\uFB00".toUpperCase()) seems to consistently give U+FB00 in the three browsers I tested, which excludes anything based on WebKit

[09:17:01.0000] <gsnedders>
WebKit from a few days ago gives FF

[09:18:00.0000] <jgraham>
(and if the intention was to ignore special cases like this, it is surprising that the next paragraph in the spec specifically draws attention to the fact that SpecialCasings.txt must be considered)

[09:19:00.0000] <gsnedders>
/me thinks teh spec is b0rked

[09:20:00.0000] <jgraham>
For bonus points, decide what is supposed to happen with "\u03A3\u03A".toLowerCase()3

[09:20:01.0000] <jgraham>
er, "u03A3\u03A3".toLowerCase()

[09:21:00.0000] <jgraham>
s/"u/"\u/

[09:21:01.0000] <gsnedders>
/me waits for jgraham to eventually get there

[09:21:02.0000] <jgraham>
Or something.

[09:21:03.0000] <jgraham>
Look you know what I mean

[09:21:04.0000] <gsnedders>
Oh, sure.

[09:58:00.0000] <Philip`>
sayrer: I don't remember ever seeing HTML5 cover anything SSL-related like that

[09:59:00.0000] <Philip`>
(which is probably intentional, since it's a UI issue and isn't really related to HTML interoperability)

[10:13:00.0000] <sayrer>
Philip`, there are lots of things in the spec that aren't related to HTML interoperability

[10:13:01.0000] <sayrer>
but I could see whether the page is considered secure influencing some parts of navigation

[10:14:00.0000] <sayrer>
also cache policies

[10:18:00.0000] <Philip`>
sayrer: It does seem to be mentioned in the context of navigation: "Note: Typically user agents are configured to not report referrers in the case where the referrer uses an encrypted protocol and the current page does not (e.g. when navigating from an https: page to an http: page)."

[10:18:01.0000] <Philip`>
(I imagine one could argue whether this kind of thing should be a normative requirement)

[10:21:00.0000] <sayrer>
maybe it's not a big deal

[10:21:01.0000] <sayrer>
a mixed-context page should get all of the restrictions an SSL page does

[13:50:00.0000] <Hixie>
jmb: btw, the google maps bug was fixed

[13:50:01.0000] <Hixie>
let me know if you spot any others

[13:51:00.0000] <jmb>
Hixie: thanks :)

[13:51:01.0000] <jmb>
Hixie: I shall :)

[13:51:02.0000] <gsnedders>
Hixie says having been reminded :P

[13:52:00.0000] <Hixie>
:-)

[14:26:00.0000] <Philip`>
/me wonders if 8KB is unacceptably large for a favicon

[14:28:00.0000] <Philip`>
Hmm, looks like it's well above average, but some other sites have quarter-megabyte favicons, so I won't feel too guilty

[14:29:00.0000] <Philip`>
/me now has a nice animated 16x16 Sierpinski gasket favicon

[14:29:01.0000] <Hixie>
QUARTER MEGABYTE?!

[14:30:00.0000] <Philip`>
http://l4d.com/blog/images/favicon.ico

[14:31:00.0000] <Hixie>
wow, they're ready for the high res world

[14:31:01.0000] <Philip`>
It's still only a 16x16 icon

[14:32:00.0000] <Philip`>
Looks like they've got a high-res BMP version of the image after the IEND chunk in the PNG

[14:32:01.0000] <Hixie>
that wasn't 16x16 for me

[14:32:02.0000] <Hixie>
unless safari is showing me some other chunk

[14:33:00.0000] <Philip`>
Hmm, Opera and Firefox show me a 16x16 one

[14:34:00.0000] <Philip`>
Safari tries to download the file instead of displaying it

[14:34:01.0000] <Philip`>
Actually it looks like the file has a low-res PNG, then a low-res BMP, then a high-res PNG, then a high-res BMP

[14:35:00.0000] <Hixie>
what's the outer format?

[14:35:01.0000] <Hixie>
or are they just concatenated

[14:36:00.0000] <Philip`>
http://images.wikia.com/half-life/en/images/6/64/Favicon.ico is pretty huge too

[14:36:01.0000] <Hixie>
"images/6/64/" indeed

[14:36:02.0000] <Philip`>
Those numbers are just from the MD5 of the filename :-p

[14:36:03.0000] <Hixie>
likely story!

[14:37:00.0000] <Philip`>
About outer format: Oh, I thoughtlessly assumed it was PNG, but actually it's not, so presumably it's the new Windows ICO format that embeds high-res PNGs

[14:37:01.0000] <Hixie>
aah

[14:38:00.0000] <Philip`>
$ echo -n Favicon.ico|md5sum -

[14:38:01.0000] <Philip`>
64682bf96f86015fb949533728963457  -

[14:38:02.0000] <Philip`>
It's a very likely story that that's the MD5 :-)

[14:40:00.0000] <Hixie>
:-P

[14:41:00.0000] <Philip`>
(Well, there's a 1 in 256 chance that that was a coincidence, except I already know how Mediawiki generates directory names for images)


2009-03-04
[16:17:00.0000] <Hixie>
hsivonen_: really unuseful error message: it told me that on line 60000, when it hit the </body>, it had some unclosed elements

[16:17:01.0000] <Hixie>
hsivonen_: which ones? what lines did they start on?

[16:18:00.0000] <gsnedders>
/me needs to be less good at procrastinating

[16:22:00.0000] <Philip`>
gsnedders: You need to get better at procrastinating, so you can direct it towards tasks that weren't worth doing anyway

[16:28:00.0000] <xydyx>
probably similar to http://bugzilla.validator.nu/show_bug.cgi?id=440

[16:35:00.0000] <Hixie>
if the people who comment on sam's blog would instead take part in the actual official mailing lists, we might drown out the nonsense on public-html with at least semi-sane discussion

[16:59:00.0000] <Hixie>
given the following sentence:

[16:59:01.0000] <Hixie>
  The DOM attribute relList must reflect the rel content attribute

[16:59:02.0000] <Hixie>
...can you come up with a way of phrasing it whereby it means the same as that, but by only removing characters, you can get it to mean the equivalent of:

[17:00:00.0000] <Hixie>
  The DOM attribute relList reflects the rel content attribute

[17:03:00.0000] <Dashiva>
What's that s doing to cause trouble?

[17:05:00.0000] <Hixie>
mostly, it's grammatically required

[17:05:01.0000] <Hixie>
if you can get an s into the first one that works too

[17:07:00.0000] <gsnedders>
me gets confused by the question

[17:07:01.0000] <gsnedders>
/me wonders why Hixie needs that

[17:08:00.0000] <Hixie>
the former is what i need for the full spec, the second is what i need for the author-only spec

[17:08:01.0000] <Hixie>
but for QA purposes i really want to keep the second a pure subset of the former

[17:08:02.0000] <Dashiva>
<span class="main-spec-only">s</span> :)

[17:08:03.0000] <Hixie>
you mean author-spec-only?

[17:09:00.0000] <Hixie>
that unfortunately doesn't satisfy my "keep the second a pure subset of the former" goal :-)

[17:09:01.0000] <Dashiva>
You'd have the tag in both specs

[17:10:00.0000] <Hixie>
there is only one spec

[17:10:01.0000] <Dashiva>
Yes

[17:10:02.0000] <Hixie>
and one tag, which hides stuff from the author version

[17:10:03.0000] <Dashiva>
And you do the opposite with this

[17:10:04.0000] <Hixie>
hiding from the main version is what i'm trying to avoid

[17:11:00.0000] <Hixie>
because then the specs aren't a pure subset of each other

[17:11:01.0000] <Hixie>
and QA becomes a huge pain

[17:11:02.0000] <Hixie>
because you have to always check things in two specs

[17:11:03.0000] <gsnedders>
You need a script that magically fixes grammar issues, while removing RFC2119 keywords :P

[17:12:00.0000] <Dashiva>
"must always be in a state where it reflects"

[17:12:01.0000] <Hixie>
hm, interesting approach

[17:13:00.0000] <gsnedders>
/me tweets his feelings

[17:13:01.0000] <Dashiva>
I don't think it's possible to do without looking silly

[17:13:02.0000] <Hixie>
Dashiva: so i fear

[17:13:03.0000] <Hixie>
/me types /invite gsnedders into his #twitter channel

[17:13:04.0000] <gsnedders>
Hixie: What do you think of that, so far, BTW?

[17:13:05.0000] <Hixie>
effing awesome

[17:14:00.0000] <Hixie>
makes twitter usable

[17:14:01.0000] <gsnedders>
/me used the IM interface till that died

[17:14:02.0000] <gsnedders>
Is it real time, or do tweets come bunched together?

[17:14:03.0000] <Hixie>
having the same interface for msn, yahoo, aim, icq, jabber, freenode, moznet, w3net, quakenet, operanet, and twitter is pretty spectacularly awesometastic.

[17:14:04.0000] <Hixie>
gsnedders: it polls every 2 minutes

[17:15:00.0000] <Hixie>
or something like that

[17:15:01.0000] <gsnedders>
That sucks a bit.

[17:15:02.0000] <Hixie>
feels real time

[17:15:03.0000] <Hixie>
since i only check irc every 2 minutes or so :-)

[17:15:04.0000] <Hixie>
and so far people haven't replied anywhere near that fast

[17:15:05.0000] <gsnedders>
:)

[17:16:00.0000] <Hixie>
sod it, i'll use an author-only class

[17:16:01.0000] <Hixie>
but it's for grammar only!

[17:16:02.0000] <gsnedders>
Hixie: What do you use for IM?

[17:16:03.0000] <Hixie>
bitlbee

[17:17:00.0000] <gsnedders>
Hixie: How does that show who is online? I guess you need to manually poll using ISON?

[17:18:00.0000] <Hixie>
when they come online they join the channel

[17:18:01.0000] <Hixie>
when they are away they get -v, and when they are not away they get +v

[17:18:02.0000] <gsnedders>
It seem a bit like trying to shoehorn things into IRC

[17:18:03.0000] <Hixie>
how so?

[17:19:00.0000] <Hixie>
i mean, it is, but it seems like a near perfect fit

[17:19:01.0000] <gsnedders>
Well, most IM clients have proper ways to note whether people are away or not without misusing some other feature for it

[17:19:02.0000] <Hixie>
if irssi did /away polling, i'd see if bitlbee supported using that instead

[17:19:03.0000] <Hixie>
but i prefer seeing the mode changes

[17:19:04.0000] <Hixie>
it works well

[17:20:00.0000] <Hixie>
and it works in all im clients

[17:20:01.0000] <Hixie>
er, irc clients

[17:20:02.0000] <Hixie>
Dashiva: i can;t use the class actually, because then it means you must use css to view the spec

[17:20:03.0000] <Dashiva>
<del>s</del> :P

[17:21:00.0000] <Hixie>
uh huh

[17:23:00.0000] <Hixie>
one option is to go through and change all the uses of the term reflect to be definitions instead of requirements

[17:23:01.0000] <Hixie>
and move the requirement to the definition of "Reflect"

[17:23:02.0000] <Hixie>
but that would be a huge pain

[17:24:00.0000] <Dashiva>
A one-time pain?

[17:24:01.0000] <Hixie>
all of this is a one-time pain

[17:24:02.0000] <Hixie>
the easier option is to hide the entire paragraph and use a domintro thingy instead

[17:24:03.0000] <Hixie>
another option is to say that all attributes that are omitted reflect by default

[17:25:00.0000] <Dashiva>
One-time as in it won't hurt if you write new sections, since the pain is only rewriting and not writing.

[17:25:01.0000] <Hixie>
yes

[17:25:02.0000] <Hixie>
i dunno if it's a good idea though

[17:28:00.0000] <gsnedders>
/me plays around with BitlBee

[17:30:00.0000] <gsnedders>
Heh

[17:30:01.0000] <gsnedders>
/me realizes everyone is away on IM

[17:40:00.0000] <Hixie>
ok problem solved

[17:40:01.0000] <Hixie>
i'll just hide all these paragraphs and rely on a summary table that future ian will write

[17:51:00.0000] <MikeSmith>
heh

[17:51:01.0000] <MikeSmith>
does future Ian have a lot more time on his hands than existing Ian?

[17:53:00.0000] <Hixie>
actually yes

[17:53:01.0000] <Hixie>
future ian has a whole week in august for writing summary tables

[18:32:00.0000] <annevk>
should HTML5 say that the initial value of font-size is 16px ?

[18:32:01.0000] <annevk>
oh, I suppose medium is good enough

[18:48:00.0000] <annevk>
I realize quibbling about exceptions is pedantic and near useless but I think insertAdjacentHTML() should throw HIERARCHY_REQUEST_ERR and not NO_MODIFICATION_ALLOWED_ERR

[18:54:00.0000] <deltab>
ohh, pretty: (insertAdjacentHTML docs) http://msdn.microsoft.com/en-us/library/aa170709(office.11).aspx

[19:06:00.0000] <gsnedders>
Writing to-do lists in unreadable hand-writing is not a good idea.

[19:08:00.0000] <deltab>
/me notes: improve handwriting to point of legibility

[19:10:00.0000] <deltab>
actually I'm trying out a program called NoteCase

[20:07:00.0000] <jwalden>
Hixie: another redirect loop for you, just noticed in reader: http://pastebin.mozilla.org/630108 :-)

[21:41:00.0000] <gsnedders>
hsivonen_: You have any validator tests?

[21:41:01.0000] <gsnedders>
(I guess yes, where?)

[22:52:00.0000] <annevk>
http://eligrey.com/2009/03/03/apng-feature-detection/ hmm; a data: URL should not do that :/

[23:03:00.0000] <hsivonen>
gsnedders: there are old and incomplete tests at http://syntax.whattf.org/relaxng/tests/

[23:04:00.0000] <hsivonen>
gsnedders: there's also a testing framework without tests waiting for a go-ahead from Hixie & the HTML WG that the conformance definition has stabilized

[23:04:01.0000] <hsivonen>
gsnedders: given http://intertwingly.net/blog/2009/02/25/Safari-and-Standards , I'd expect a bit of a shake-up still

[23:41:00.0000] <olliej>
hsivonen: who is it who is writing the html5 validator?

[23:41:01.0000] <annevk>
it is hsivonen

[23:41:02.0000] <olliej>
annevk: i thought so, but i figured i'd ask to be safe :D

[23:47:00.0000] <hsivonen>
there are other code contributors

[23:52:00.0000] <hsivonen>
Hixie: does the frameset-ok stuff clone any particular browser?

[23:55:00.0000] <hsivonen>
/me sees that frameset-ok matches WebKit but not Gecko

[23:56:00.0000] <hsivonen>
matches Opera, too

[23:57:00.0000] <hsivonen>
actually, doesn't match either of those exactly

[23:57:01.0000] <hsivonen>
weird

[23:57:02.0000] <hsivonen>
/me starts IE8

[00:02:00.0000] <olliej>
hsivonen: i was actually going to ask about the apple.com/safari results -- it's claiming required attributes are missing on script nodes, and text is not allowed inside <script>, and i'm like "what?"  (bare in mind i don't know any of the markup related stuff in html5)

[00:02:01.0000] <hsivonen>
olliej: yeah, noted, that sucks

[00:03:00.0000] <hsivonen>
olliej: artifact of RELAX NG validation

[00:03:01.0000] <olliej>
hsivonen: oh?

[00:03:02.0000] <olliej>
hsivonen: so is the script thing a validator or page bug? 

[00:03:03.0000] <olliej>
hsivonen: eg. should i be harassing people

[00:04:00.0000] <annevk>
olliej, if the script is inline charset is not allowed

[00:05:00.0000] <annevk>
olliej, the other errors should be obvious

[00:05:01.0000] <hsivonen>
olliej: the page is in error, but the lousy error message is an artifact of RELAX NG validation

[00:05:02.0000] <hsivonen>
olliej: the charset attribute causes the RELAX NG engine to accept the linked script derivation

[00:06:00.0000] <olliej>
annevk: ah ha, you mean no putting utf16 inside the script tags of a utf8 document? how boring

[00:06:01.0000] <olliej>
;D

[00:06:02.0000] <hsivonen>
olliej: then it sees that src is missing, so it complains

[00:06:03.0000] <hsivonen>
olliej: then it sees the element has text content, so it complains about that, too

[00:06:04.0000] <olliej>
/me pokes people

[00:06:05.0000] <olliej>
hsivonen: yeah

[00:06:06.0000] <olliej>
once i know the start error, it's easy to see how the waterfall starts

[00:07:00.0000] <olliej>
hsivonen: still not as bad as c++ template errors :D

[00:07:01.0000] <hsivonen>
:-)

[00:07:02.0000] <Philip`>
Someone should make a validator.nufilt program

[00:07:03.0000] <annevk>
or a validator fully based on custom code

[00:08:00.0000] <hsivonen>
or get the Oxygen Jing patches landed on the Jing trunk and then synced to the V.nu branch

[00:08:01.0000] <hsivonen>
or better yet, get the Jing trunk to implement all the features V.nu needs

[00:09:00.0000] <hsivonen>
or by moving various attribute co-occurrence constraints to custom code

[00:10:00.0000] <hsivonen>
fwiw, for ARIA, I have a hack that permutes the attribute array such that the role attribute always comes before the states and properties to make Jing commit to the derivation on role making the rest of errors sane

[00:10:01.0000] <MikeSmith>
off-the-shelf error messages from Jing are near useless, just at they are in sp (SGML-based thing that validator.w3.org relies on); same guy wrote both libraries, so...

[00:11:00.0000] <hsivonen>
MikeSmith: I intend to check in your patches today

[00:11:01.0000] <MikeSmith>
hsivonen: cool, but no hurry

[00:12:00.0000] <MikeSmith>
I'd reckon you probably got something more important you're working on

[00:12:01.0000] <MikeSmith>
but would be cool to have them upstream

[00:12:02.0000] <MikeSmith>
may still be a couple of element or attribute changes that Hixie made recently but I missed

[00:13:00.0000] <MikeSmith>
(btw)

[00:13:01.0000] <Hixie>
hsivonen: IE, iirc, modulo craziness

[00:26:00.0000] <hsivonen>
Hixie: actually, it seems the frameset-ok stuff matches Opera modulo craziness

[00:26:01.0000] <hsivonen>
and is roughly similar to WebKit

[00:26:02.0000] <hsivonen>
the DOM I get in IE8 is much crazier, but maybe it renders sanely. dunno

[00:27:00.0000] <hsivonen>
Hixie: should I expect frameset-ok to be stable except for editorial changes of making it a mode?

[00:28:00.0000] <hsivonen>
Hixie: fwiw, I implemented it as a mode

[00:28:01.0000] <hsivonen>
Hixie: did less damage to (expected) perf that way

[00:28:02.0000] <hsivonen>
(didn't measure)

[00:28:03.0000] <Hixie>
k

[00:29:00.0000] <hsivonen>
so currently, the V.nu parser diverges from test cases on 4 points

[00:29:01.0000] <hsivonen>
1) new AAA

[00:29:02.0000] <hsivonen>
2) frameset-ok

[00:29:03.0000] <hsivonen>
3) taint

[00:29:04.0000] <hsivonen>
4) </body> and </html> in head

[00:30:00.0000] <hsivonen>
I hope #1 and #2 are now settled enough to update test cases?

[00:33:00.0000] <Hixie>
man have y'all seen this crazy idea that text/html with a <svg> tag at the start should create an SVG document?

[00:34:00.0000] <heycam>
Hixie, is this the one in our wiki page?

[00:34:01.0000] <Hixie>
yeah

[00:34:02.0000] <Hixie>
the svg group have gone from being scared of text/html to wanting to have it as a primary serialistion for svg

[00:34:03.0000] <heycam>
:)

[00:35:00.0000] <heycam>
so that proposal is to solve that problem with the svg sizing and scripting thing

[00:35:01.0000] <Lachy>
heycam, where's the evidence that it's a real problem?

[00:35:02.0000] <heycam>
but i'm not sure how to get around the problem of not having a <body> somewhere to pop back up to

[00:35:03.0000] <Lachy>
and the justification for why we should attempt to address it?

[00:36:00.0000] <heycam>
Lachy, you can't serve svg as text/html to current browsers, so it's speculation of course

[00:36:01.0000] <hsivonen>
Hixie: do you mean that <svg> as the first tag should not imply <html>, <head> and <body>?

[00:36:02.0000] <annevk>
which wiki page?

[00:36:03.0000] <annevk>
/me would like a loose SVG serialization

[00:36:04.0000] <Hixie>
hsivonen: yeah

[00:36:05.0000] <annevk>
would make it way easier to write simple graphics

[00:36:06.0000] <heycam>
annevk, the one that svg wg is using for staging our svg in text/html reply

[00:36:07.0000] <Hixie>
heycam: which problem?

[00:36:08.0000] <annevk>
no need for xmlns and other stuff :)

[00:37:00.0000] <annevk>
heycam, pointer handy?

[00:37:01.0000] <heycam>
Hixie, the problem that <svg> would be placed under body and because of css rules would get rendered with 150px height

[00:37:02.0000] <heycam>
instead of filling the viewport

[00:37:03.0000] <Hixie>
heycam: ?

[00:37:04.0000] <Hixie>
heycam: which <svg>

[00:37:05.0000] <hsivonen>
annevk: http://www.w3.org/Graphics/SVG/WG/wiki/SVG_in_text-html_2009

[00:37:06.0000] <heycam>
http://www.w3.org/mid/20090303002433.GC17647‚äôamia

[00:37:07.0000] <heycam>
Hixie, the root svg

[00:38:00.0000] <Hixie>
heycam: what root svg. text/html is for HTML documents, why would there be a root svg?

[00:38:01.0000] <heycam>
because people will mistakenly serve a whole svg document as text/html

[00:38:02.0000] <heycam>
they will paste svg in as a whole something.html file

[00:38:03.0000] <Lachy>
heycam, do they do that now?

[00:39:00.0000] <heycam>
Lachy, no, because there are no browsers that do svg in text/html

[00:39:01.0000] <Hixie>
heycam: people will put <html> elements as children of <svg>, but we're not asking the svgwg to change their rendering rules to handle html :-)

[00:40:00.0000] <hsivonen>
Hixie: I think this idea is worth researching for feasibility given existing content

[00:40:01.0000] <heycam>
no, but then xml is of course more constrained about that sort of thing

[00:40:02.0000] <heycam>
so a whole svg document server as html will sort of work but not be sized properly

[00:40:03.0000] <Hixie>
it'll be invalid

[00:40:04.0000] <Hixie>
missing <title>, for one

[00:40:05.0000] <heycam>
if it's possible to tweak how the parser treats it so that it works, then i think we should consider that

[00:40:06.0000] <Hixie>
and DOCTYPE

[00:40:07.0000] <Philip`>
body > svg:only-child { width: 100%; height: 100% } - easily fixed :-)

[00:41:00.0000] <Lachy>
annevk, so the problem you're trying to solve seems to be different from what the SVG WG have described.  Namely, that you want non-draconian parsing and easier namespaces for XML

[00:41:01.0000] <hsivonen>
Hixie: we could make <svg> trigger stardards mode if the first tag token

[00:41:02.0000] <heycam>
Philip`, so have that as suggested UA style sheet?

[00:41:03.0000] <Hixie>
/me thinks this whole idea is ludicrous

[00:41:04.0000] <Lachy>
and you think using text/html as a hack to achieve that is good enough?

[00:41:05.0000] <Philip`>
(I have no idea if that would actually fix the sizing issue, or if it would even be sane)

[00:41:06.0000] <Hixie>
it's text/html, not text/svg

[00:42:00.0000] <heycam>
brb phone

[00:42:01.0000] <hsivonen>
Hixie: I think the idea isn't prima facie crazy

[00:42:02.0000] <hsivonen>
Hixie: I am worried about an <?xml slippery slope for charset sniffing, though

[00:42:03.0000] <Hixie>
i think it would make sense if we were not in a Content-Type world

[00:42:04.0000] <Hixie>
but we are

[00:43:00.0000] <Lachy>
Hixie, it gets worse when you realise that they want the <svg> to trigger standards mode, and then have it switch to quirks mode and employ adoption agency like behaviour to change the root to HTML in the event of an error, like trailing HTML after the </svg>

[00:43:01.0000] <hsivonen>
Hixie: is application/xml in a content type world?

[00:43:02.0000] <Hixie>
if a document is labeled as text/html, it means it's HTML, not some sort of dumping ground for every wg that picked the wrong serialisation format

[00:43:03.0000] <Philip`>
Extend the content-sniffing algorithm to interpret documents starting with "<svg" as image/svg+xml or whatever it is

[00:43:04.0000] <heycam>
"and then have it switch to quirks mode and employ adoption agency like behaviour to change the root to HTML in the event of an error"  -- not sure we asked for that

[00:43:05.0000] <annevk>
Philip`, width:100vw and height:100vh would do the trick prolly along with absolute positioning

[00:43:06.0000] <heycam>
just noted that the fact that there's no <body> would be a problem that we don't have a good solution for atm

[00:43:07.0000] <annevk>
Philip`, 100% would not work and you would not want quirks mode either

[00:43:08.0000] <Hixie>
hsivonen: application/xml has a coherent (if not particularly wonderful) vocabulary dispatch mechanism

[00:43:09.0000] <Lachy>
Philip`, we've already done that for RSS and Atom. That's bad enough already

[00:44:00.0000] <heycam>
yeah i'm not sure it'd be a good idea for it to be sniffed as image/svg+xml

[00:44:01.0000] <hsivonen>
Hixie: the difference between SVG and every working group is that SVG has serious implementation on the higher layers of three of the top four Web engines

[00:44:02.0000] <heycam>
applicateion/please-guess-the-type-for-me

[00:45:00.0000] <hsivonen>
octet-stream

[00:45:01.0000] <Hixie>
hsivonen: so?

[00:45:02.0000] <heycam>
well, if only octet-stream didn't in reality mean "pop up a download window"

[00:46:00.0000] <Hixie>
unknown/unknown is treated as "guess for me" in the mime-sniff spec

[00:46:01.0000] <Philip`>
heycam: I thought that was what no-Content-Type-header-at-all was for

[00:46:02.0000] <hsivonen>
Hixie: it's more worthwhile to bring SVG over to the text/html serialization world

[00:46:03.0000] <Philip`>
(please-guess-the-type-for-me, that is)

[00:46:04.0000] <hsivonen>
(unless, of course, full-blown RDF/XML in <metadata> comes as a rider)

[00:46:05.0000] <heycam>
Philip`, quite possible (i'm no expert on such things)

[00:47:00.0000] <heycam>
hsivonen, that's not something we're pushing for

[00:47:01.0000] <Hixie>
hsivonen: i'm all for XML5-like ideas, but there's a difference between that and overloading text/html to mean "this could be an HTML doc or an SVG doc maybe"

[00:48:00.0000] <hsivonen>
Hixie: anyway, I don't have an informed opinion about <svg> root yet, but I think it's not prima facie crazy and is worth researching for feasibility

[00:48:01.0000] <heycam>
Hixie, so we don't definitely want document.documentElement to be <svg>, we just want to solve the problems

[00:48:02.0000] <heycam>
if default UA styling can fix that...

[00:49:00.0000] <heycam>
script would need to be changed, still

[00:49:01.0000] <Philip`>
If it's not prima facie crazy, that makes it inconsistent with the rest of the web platform

[00:49:02.0000] <Hixie>
hsivonen: oh i think it's pretty clear that it's not really feasible in practice, i mean, even if there's only a few HTML docs that start with <svg>, we wouldn't want a format that changed so radically based on a the presence or absence of two BOMs at the start, for instance

[00:49:03.0000] <Hixie>
heycam: i really don't understand the problem.

[00:50:00.0000] <Hixie>
heycam: since when has the svg worried about errors being handled gracefully?

[00:50:01.0000] <Hixie>
heycam: you do realise that SVG's default serialisation will show a fatal error for the slightest syntax error, right?

[00:50:02.0000] <heycam>
given that graceful error handling is what we'll get by having svg in text/html, it makes sense to try and reduce paint points related to that error handling where practicable

[00:51:00.0000] <hsivonen>
for perf reasons, I really don't want to make the tokenizer case-preserving. particularly not for tokens that are a case-insensitive match with a well-known token name

[00:51:01.0000] <Hixie>
heycam: wouldn't that argue for allowing case-insensitive tag names too?

[00:51:02.0000] <heycam>
Hixie, i don't think we've said we want to make incorrect-case tag names not work

[00:52:00.0000] <heycam>
(with our current proposal in development anyway)

[00:52:01.0000] <Hixie>
heycam: i don't see how incorrect case tag names could work without the table

[00:52:02.0000] <heycam>
hsivonen, if you could elaborate on those perf reasons, when we get to officially send our comments, that'd be helpful

[00:52:03.0000] <hsivonen>
heycam: it's easier to make the incorrect case well-known tokens to work than to preserve case

[00:52:04.0000] <hsivonen>
heycam: I think I've elabored on it in the long email I sent about the previous proposal

[00:52:05.0000] <Hixie>
hsivonen actually already commented in detail on the perf reasons in response to the svg group's last proposal, iirc

[00:53:00.0000] <Hixie>
ok i'm just 500ms slower than hsivonen reliably today, it seems

[00:53:01.0000] <hsivonen>
heycam: but basically, it comes to early token interning and having static pre-interned tokens for all well-known names

[00:53:02.0000] <heycam>
Hixie, the implementation of course would need a table to map them.  but organisationally, it's not good if we need to edit html to make a new svg element work.

[00:53:03.0000] <heycam>
hsivonen, ok i'll dig it up

[00:54:00.0000] <Hixie>
editing html to add a new tag name or attribute takes all of 10 seconds

[00:54:01.0000] <hsivonen>
heycam: organizational reasons are bad reasons to foil code optimizations, though

[00:54:02.0000] <heycam>
now, yes, but when it's not a WD?

[00:54:03.0000] <heycam>
hsivonen, i don't want code optimizations to be foiled by having the table removed

[00:54:04.0000] <Hixie>
it'll be a wd until 2022, and html6 will be a wd before that's over, i expect

[00:54:05.0000] <Hixie>
so...

[00:55:00.0000] <Hixie>
we could put it on a wiki though :-)

[00:55:01.0000] <heycam>
the point about the table is merely about the svg wg being able to mint new element/attribute names and for implementations to be able to support them in text/html without having to edit the html spec

[00:55:02.0000] <Hixie>
implementations have never been beholden to what the spec says in the past :-)

[00:55:03.0000] <heycam>
guess we can all go home now then and save the effort :)

[00:56:00.0000] <hsivonen>
My preferred way forward is SVG deciding not to mint new names with upper-case ASCII letters. My second-preferred solution is SVG being able to amend the case fix-up tables without having to respin HTML through the REC process.

[00:56:01.0000] <heycam>
hsivonen, there is agreement in the group to avoid uppercase letters

[00:56:02.0000] <annevk>
Hixie, we could just defer to an SVG spec right?

[00:56:03.0000] <heycam>
as i pointed out somewhere recently though, e.g., introducing new filter primitive element names that are all lower case could be very confusing

[00:57:00.0000] <hsivonen>
heycam: cool

[00:57:01.0000] <heycam>
annevk, exactly.  and it doesn't even need to be The SVG Spec, it could be some small separate spec

[00:58:00.0000] <annevk>
a wiki page would work for me too btw

[00:58:01.0000] <annevk>
i like wiki pages

[00:59:00.0000] <Hixie>
annevk: if the svgwg committed to actually doing the research necessary before adding each tag name, maybe

[00:59:01.0000] <heycam>
/me wonders what happens with edit wars on spec-critical wiki pages

[00:59:02.0000] <Hixie>
annevk: but since their research so far has been lacking, i'm not convinced they will :-)

[00:59:03.0000] <Hixie>
anyway, editing html is a low-cost affair

[00:59:04.0000] <heycam>
Hixie, it's clear that in the past little consideration was given to adopting svg element names directly into text/html

[00:59:05.0000] <hsivonen>
heycam: see http://hg.mozilla.org/users/mrbkap_mozilla.com/html5parsing/file/e2713bb08d00/content/html/parser/src/nsHtml5ElementName.cpp and http://hg.mozilla.org/users/mrbkap_mozilla.com/html5parsing/file/e2713bb08d00/content/html/parser/src/nsHtml5AttributeName.cpp

[01:00:00.0000] <heycam>
and that now that's something we're working towards

[01:00:01.0000] <Hixie>
heycam: i was just thinking of the discussion recently, e.g. the suggestion to add <textArea> to the list

[01:00:02.0000] <Hixie>
(notwithstanding that <textArea shouldn't exist in the first place regardless of its name)

[01:00:03.0000] <hsivonen>
Hixie: editing HTML is lower cost that changing parsers and syncing the test suite...

[01:00:04.0000] <Hixie>
(but that's a whole other discussion)

[01:00:05.0000] <Hixie>
hsivonen: exactly

[01:00:06.0000] <Philip`>
heycam: I think the idea is that nobody cares enough about web standards to edit-war or vandalise or spam the relevant wiki pages

[01:01:00.0000] <Philip`>
heycam: which is the same idea behind having whatwg.org let any random visitor update its Twitter status

[01:01:01.0000] <Philip`>
heycam: (I'm not absolutely convinced this is an infallible mechanism)

[01:02:00.0000] <heycam>
right, i think it's demonstrably fallible if you wanted to fail it now :)

[01:02:01.0000] <annevk>
Hixie, if browsers agree with the SVG WG, things should be fine

[01:02:02.0000] <annevk>
Hixie, if stuff breaks, we can fix it

[01:07:00.0000] <heycam>
anyway, i'm confident that we're (svgwg and htmlwg/whatwg) getting closer on our proposals and that we'll get to an agreement at some point

[01:07:01.0000] <Hixie>
heycam: cool. it would be helpful if the svgwg could clarify what the perceived requirements are (as per my last e-mail on the subject), as that will definitely help in evaluating the proposals

[01:08:00.0000] <heycam>
perceived as in what our requirements are?

[01:09:00.0000] <Hixie>
as what the svgwg thinks the requirements are, yes (as opposed to what i think the requirements are based on feedback within the htmlwg)

[01:09:01.0000] <Hixie>
as in

[01:09:02.0000] <annevk>
gtg

[01:10:00.0000] <heycam>
probably there are still a couple missing for that wiki page; it'll get fixed up by the time we send our Official E-mail

[01:10:01.0000] <heycam>
(which'll be soon)

[01:14:00.0000] <Hixie>
hsivonen: all four of the things you mentioned as far as test case variations are things that should be stable enough, though the spec still needs fixing for 2 (to mode), 3, and 4; i hope to do that sometime this month

[01:14:01.0000] <Hixie>
heycam: i meant high-level requirements

[01:15:00.0000] <Hixie>
heycam: like "it must be possible to embed svg in html"

[01:15:01.0000] <Hixie>
heycam: or "syntax errors must be caught and must not work"

[01:15:02.0000] <Hixie>
or whatever

[01:15:03.0000] <hsivonen>
Hixie: do you mean you are going to revert the </body> and </html> in head rev?

[01:15:04.0000] <Hixie>
hsivonen: wasn't that one of the things you raised as an issue?

[01:16:00.0000] <hsivonen>
Hixie: do you mean the spec is going to adopt WebKit-style taintless foster parenting?

[01:16:01.0000] <Hixie>
hsivonen: wasn't that what you concluded would be best?

[01:16:02.0000] <hsivonen>
Hixie: yes to both :-)

[01:16:03.0000] <Hixie>
well then probably :-)

[01:16:04.0000] <hsivonen>
cool. Thanks

[01:16:05.0000] <Hixie>
to both :-)

[01:17:00.0000] <Hixie>
i tend to do whatever implementors say, especially when they're actually coding it :-)

[01:17:01.0000] <Hixie>
i find it increases the odds of the specs matching implementations dramatically

[01:19:00.0000] <Hixie>
who are the active whatwg blog admins these days?

[01:19:01.0000] <Hixie>
lachy and jgraham?

[01:23:00.0000] <Hixie>
ooh, the admin site got prettier

[01:28:00.0000] <Hixie>
oooh, admin graphs

[01:28:01.0000] <Hixie>
with ham

[01:28:02.0000] <Lachy>
Hixie, me

[01:28:03.0000] <Hixie>
too late, i already mailed the list

[01:29:00.0000] <virtuelv>
hm - http://intertwingly.net/blog/2009/03/03/Interesting-Times

[01:30:00.0000] <Lachy>
ok, I think jgraham is also an admin, as is hsivonen, markp, annevk and a few others

[01:30:01.0000] <Hixie>
yeah, i checked the list :_)

[01:30:02.0000] <Lachy>
oh

[01:30:03.0000] <Hixie>
first list = mailing list, second list = admin users page, just for clarity

[01:36:00.0000] <Lachy>
Hixie, btw, there are instructions on the blog for how to post http://blog.whatwg.org/submit-article

[01:36:01.0000] <Hixie>
oh, cool

[01:36:02.0000] <Hixie>
oh hey look at that, it's even right there at the top

[01:37:00.0000] <Hixie>
is there no way to make it come before the copyright link?

[01:37:01.0000] <Hixie>
nobody cares about the copyright

[01:39:00.0000] <Hixie>
(i did try to do it myself, for the record! :-) )

[01:45:00.0000] <Lachy>
I don't know how

[01:45:01.0000] <Hixie>
oh well

[01:45:02.0000] <Hixie>
no worries

[01:45:03.0000] <Lachy>
done

[01:46:00.0000] <Lachy>
there's an order setting in the page editor

[01:48:00.0000] <jgraham>
/me considers blogging to ask for a new theme

[01:48:01.0000] <Lachy>
we did have a volunteer once.  I don't know what happened to that

[01:49:00.0000] <jgraham>
Clearly nothing useful because the blog is still f‚Äî ugly

[01:55:00.0000] <Lachy>
jgraham, we could also try using 99designs.com if we don't get any volunteers to do it for free. But that would cost a little to run the competition there

[01:55:01.0000] <Lachy>
I'm going to be using that to get a redesign for my site

[01:57:00.0000] <Philip`>
Aren't there a zillion free themes available, of which at least one must be decent?

[01:57:01.0000] <Lachy>
Philip`, feel free to find one

[01:58:00.0000] <Philip`>
I never read the blog so I don't care enough to find one :-p

[01:58:01.0000] <Philip`>
and I don't mind the current theme anyway

[01:58:02.0000] <hsivonen>
are there test cases already to go with HTML5 frameset parsing?

[01:58:03.0000] <hsivonen>
(the kind of test cases one can try in a browser)

[02:00:00.0000] <hsivonen>
are the Epson and HP CSS formatters independent of any better-known code bases?

[02:02:00.0000] <Hixie>
i believe hp's is, dunno about epson

[02:02:01.0000] <Hixie>
fantasai might know more about hp's

[02:02:02.0000] <hsivonen>
ok

[02:03:00.0000] <Hixie>
/me gets to the sections section of the spec in his Big Author Spec Effort

[02:05:00.0000] <hsivonen>
http://www.w3.org/mid/49ADD04B.4010206‚äôvnn

[02:05:01.0000] <hsivonen>
(V.nu should be fine in Opera Mini and other mobile UAs that support media queries)

[02:06:00.0000] <Hixie>
Lachy: does the selectors api test suite test dynamic modifications to the dom?

[02:07:00.0000] <hsivonen>
"emerging nations" hmm.

[02:16:00.0000] <Lachy>
Hixie, I'm not sure.

[02:17:00.0000] <Hixie>
k

[02:21:00.0000] <Hixie>
Lachy: what does "subtrees" mean in your spec?

[02:21:01.0000] <Hixie>
(in particular, how do i tell if foo.querySelector('*') should return foo or foo.firstChild or something else?)

[02:21:02.0000] <Hixie>
er, firstChildElement, i guess

[02:23:00.0000] <Lachy>
Hixie, that question has been asked so many times. Isn't the spec clear enough?!

[02:23:01.0000] <Hixie>
oh, found the definiton

[02:23:02.0000] <Hixie>
i only looked in the terminology section

[02:24:00.0000] <Hixie>
and didn't see the one in the prose because it came out all garbled due to some charset issue

[02:24:01.0000] <Hixie>
ok, so the node isn't included, got it

[02:26:00.0000] <Lachy>
Hixie, that example also explains why it isn't included, becuase having foo.querySelector("*") return foo would be useless

[02:26:01.0000] <Hixie>
yes

[02:26:02.0000] <Hixie>
you should hyperlink your terms so that it's obvious they're terms :-)

[02:27:00.0000] <Lachy>
hmm, that's weird. I don't know why they're not hyperlinked

[02:31:00.0000] <Lachy>
Hixie, fixed

[02:34:00.0000] <Hixie>
stweet

[02:34:01.0000] <Hixie>
sweet, even

[02:45:00.0000] <Hixie>
what are the browsers that we have interop on?

[02:49:00.0000] <Hixie>
Lachy: is there an implementation report?

[02:50:00.0000] <Lachy>
Hixie, there were emails on public-webapps that described the implementations status

[02:51:00.0000] <Lachy>
WebKit passes everything except querySelector() with no parameters. Mozilla passes everything except querySelector(null)

[02:52:00.0000] <Lachy>
Internally, we fail :checked, :enabled and :disabled tests on disconnected elements. We have patches that should allow us to pass the null/undefined, but I haven't yet got a build with those patches yet

[02:52:01.0000] <Hixie>
man, there's really not much to test in querySelector

[02:53:00.0000] <Hixie>
it's a tiny tiny spec

[02:53:01.0000] <Lachy>
and Travis sent an email describing IE's failures

[02:53:02.0000] <Lachy>
sure, but given it's size, we still managed to get over 2000 tests

[02:54:00.0000] <Lachy>
and people laughed when we said we'd need 20,000 for HTML5 :-)

[02:55:00.0000] <Hixie>
we'll need 20,000 tests for HTML5 in a reckoning that considers what we have for Selectors API to be 1 test. :-)

[02:55:01.0000] <Hixie>
but yes, i am impressed at the coverage

[02:57:00.0000] <Philip`>
I guess most of the Selectors test complexity is in how it interacts with everything in the CSS spec?

[02:57:01.0000] <Hixie>
yeah it's really mostly a selectors test suite

[02:58:00.0000] <Hixie>
/me adds 85 test assertions to the pile

[02:58:01.0000] <Hixie>
i'm very impressed at how hard it was to find new bugs

[02:58:02.0000] <Philip`>
so it doesn't seem entirely valid to assume the number of tests vs size of Selectors API spec will correspond to any other testable feature

[02:58:03.0000] <Hixie>
there's just not much to test!

[02:58:04.0000] <Hixie>
and not because the spec is vague, either

[02:59:00.0000] <Hixie>
Philip`: right, hence my comment above (that it would count as one test in the reckoning that results in 20,000 tests)

[03:02:00.0000] <Philip`>
Hopefully most of the rest of those 20,000 will be features that aren't dependent on large chunks of other very large specs, so it won't end up being 400,000 test cases in total

[03:03:00.0000] <Hixie>
html5 depends on large chunks of http, dom core, dom events, unicode, and other specs

[03:03:01.0000] <Hixie>
i could well see us having tests that check something for every unicode character

[03:03:02.0000] <Hixie>
or even combinations thereof

[03:06:00.0000] <Philip`>
Given the overhead involved in loading an HTML document, hopefully the tests for every Unicode character would be folded into a single test case in a single file

[03:06:01.0000] <Hixie>
that's what i mean

[03:06:02.0000] <Hixie>
it'd be one test

[03:06:03.0000] <Philip`>
(Hmm, that reminds me that some Mozilla people were complaining about the canvas tests taking too long to run, so I ought to merge them all into a single file...)

[03:06:04.0000] <Lachy>
no, I want 65536 files, each testing a single unicode character :-)

[03:06:05.0000] <Hixie>
but by the reckoning used to get to 2000 tests for selectors api, it would be counted as 65000+, which is silly imho :-)

[03:06:06.0000] <Philip`>
Lachy: Don't forget non-BMP characters

[03:07:00.0000] <Lachy>
I don't care about such characters

[03:07:01.0000] <Hixie>
they're a great source of bugs!

[03:07:02.0000] <Hixie>
as a qa person, you should care :-P

[03:07:03.0000] <Philip`>
Oh, what reckoning does the Selectors API test use, then?

[03:07:04.0000] <Hixie>
Philip`: test assertions

[03:07:05.0000] <Philip`>
Is it every single assert() call or something?

[03:07:06.0000] <Philip`>
Ah, right

[03:07:07.0000] <Hixie>
as far as i can tell, yes

[03:07:08.0000] <Philip`>
/me assumed otherwise

[03:07:09.0000] <Hixie>
i only found one actual file

[03:07:10.0000] <Hixie>
i've now added two more, with 80 or so assertions

[03:07:11.0000] <Philip`>
In that case, I have thousands and thousands of canvas tests

[03:08:00.0000] <Hixie>
right, that's what i mean

[03:08:01.0000] <jgraham>
The problem with tests taht loop over 0X10FFFF characters is that they take rather a long time to run :(

[03:08:02.0000] <Hixie>
jgraham: you can skip over most and just check the interesting ones, e.g. all of planes 3-14 or so are blank right now and highly unlikely to act differently

[03:08:03.0000] <Hixie>
so you can just spot check them

[03:09:00.0000] <Philip`>
512 test cases to make sure the stack is large enough, 1024 test cases to make sure getImageData returns the right pixels, etc

[03:09:01.0000] <jgraham>
Hixie: Even so, just looping over the whole BMP can be rather slow

[03:09:02.0000] <Hixie>
well again, you can skip large chunks using just spot-checking

[03:10:00.0000] <Philip`>
jgraham: It's only a million, and computers are really really fast

[03:10:01.0000] <jgraham>
That alays raises the possibility that you chose the wrong spots

[03:10:02.0000] <Lachy>
what are you adding test assertions to?

[03:10:03.0000] <Hixie>
so long as each test spot checks different characters, you'll get good probablity of catching whatever bugs there are

[03:10:04.0000] <Hixie>
Lachy: see main to public-webapps

[03:10:05.0000] <Hixie>
mail

[03:10:06.0000] <Hixie>
anyway what matters isn't the number of tests but the number of _bugs_

[03:11:00.0000] <Hixie>
it always bugs me as a QA person when someone says "i wrote 100000000 tests!" -- if they found zero bugs, and i write one test and find a bug, then i did a better job as a qa person.

[03:11:01.0000] <Philip`>
Not if they found zero bugs when writing the tests but are going to find two bugs in the future when someone introduces a regression

[03:12:00.0000] <Hixie>
(the metric that matters is the number of bugs you found per unit time, per engineer that isn't already saturated with bugs, weighted to bug seriousness)

[03:12:01.0000] <Hixie>
Philip`: one bug now is better than two bugs later

[03:12:02.0000] <jgraham>
A bug in the hand?

[03:12:03.0000] <Hixie>
Philip`: though i agree that many bugs later is better than few bugs now

[03:13:00.0000] <Hixie>
Philip`: but in practice the tests that find bugs later also find bugs now

[03:13:01.0000] <Hixie>
Philip`: it's rare for a huge test suite that found no bugs to actually find as many regressions later as a test suite that tests things that were actually broken when the tests were written

[03:13:02.0000] <Hixie>
Philip`: note that i'm not saying you should throw away tests that don't fail

[03:14:00.0000] <Hixie>
Philip`: i'm just saying that the best qa person only writes tests that fail, because they just are amazingly lucky / skilled and they find bugs intuitively

[03:14:01.0000] <jgraham>
Hixie: I guess there is sme danger of always trying to look for "evil", likely to fail cases

[03:14:02.0000] <jgraham>
and not spending enough time ensuring that trivial cases work as expected

[03:15:00.0000] <Hixie>
some of the best qa people i found for crash bugs would log onto a computer, run the program they were supposed to test, and the program would crash, despite it never crashing for anyone else in the dev team.

[03:15:01.0000] <Philip`>
You could bribe the developers to write really rubbish code so that you can find lots of bugs with every test case, so you look really good on your end-of-year progress reports

[03:15:02.0000] <Hixie>
jgraham: right, you have to weigh it by seriousness of  bug

[03:15:03.0000] <Lachy>
Hixie, it's impossible to write only tests that fail, since you need to write the tests to discover if they fail first

[03:16:00.0000] <Lachy>
or have prior knowledge, based on, e.g., a site that demonstrates the bug

[03:16:01.0000] <Philip`>
Lachy: Or be lucky

[03:16:02.0000] <Hixie>
Philip`: oh it's trivial to game any metric here, yes.

[03:16:03.0000] <Philip`>
Lachy: or be good at guessing where problems are likely to occur

[03:16:04.0000] <jgraham>
Philip`: Still pretty much impossible to find only cases that fail

[03:16:05.0000] <Hixie>
Lachy: in practice, really good qa people have an intuition which just leads to them writing test cases that find bugs at an unlikely rate

[03:17:00.0000] <Lachy>
somehow I managed to find a relatively high proportion of bugs when I was testing transitions recently. About 60 or so tests, found roughly a dozen bugs

[03:17:01.0000] <Hixie>
not bad

[03:17:02.0000] <Philip`>
jgraham: It seems pretty trivial actually - just think of something that's almost certainly going to fail, write a single test case, and now you've written only test cases that fail

[03:18:00.0000] <jgraham>
/me notes that there are other strategies like writing fuzzers

[03:18:01.0000] <Hixie>
again, fuzzers come in good varieties and bad varieties

[03:18:02.0000] <Hixie>
you can write a bad fuzzer that doesn't actually fuzz anything useful

[03:19:00.0000] <jgraham>
Hixie: Of course

[03:19:01.0000] <Hixie>
or you can write a fuzzer that just hits every single bit that is going to screw things up

[03:19:02.0000] <Hixie>
good qa people have an intuition for writing the latter

[03:19:03.0000] <Philip`>
/me wrote a floating-point maths fuzzer that accidentally found a security vulnerability in Firefox

[03:20:00.0000] <Philip`>
(Well, I suppose it wasn't really a fuzzer, it was just a thing that tried a lot of combinations of stuff)

[03:20:01.0000] <Philip`>
(and didn't do anything random)

[03:20:02.0000] <jgraham>
Philip`: Interesting. Is it avaliable?

[03:22:00.0000] <Philip`>
jgraham: The code?

[03:22:01.0000] <jgraham>
Philip`: Yes. I don't care about the security vunerability

[03:22:02.0000] <jgraham>
;)

[03:22:03.0000] <jgraham>
/me does not plan to make a botnet from out-of-date firefox installs

[03:23:00.0000] <Hixie>
hsivonen: 66931.2-66931.8: error: End tag for "body" seen but there were unclosed elements.

[03:23:01.0000] <Hixie>
hsivonen: ...is not a useful error message :-P

[03:25:00.0000] <Philip`>
jgraham: I think http://philip.html5.org/misc/fp-test/ was it

[03:26:00.0000] <Philip`>
(It doesn't really test stuff, it just prints output that you can compare between implementations)

[03:26:01.0000] <Philip`>
(or between the same implementations with different compilers and different compiler settings, which is what I was interested in)

[03:26:02.0000] <jgraham>
Philip`: Thanks

[03:30:00.0000] <jgraham>
/me never feels good after conversations about the qualities of a good $X

[03:33:00.0000] <Philip`>
Replace "good" with "implausibly ideal" and you won't have to worry about it so much :-)

[03:34:00.0000] <jgraham>
Philip`: But usually an impluausibly ideal $X would have superhuman powers, and these conversations never seem to involve those. So that would be lying to myself.

[03:34:01.0000] <jgraham>
WWhich is a natural part of the human condition but doesn't work so well if you know that you're doing it

[03:36:00.0000] <Philip`>
It's just an unstated assumption that a good QA engineer should be able to see through walls, leap over tall buildings and teleport to Mars

[03:37:00.0000] <olliej_>
Philip`: well yeah, those are standard phone screening questions though

[03:38:00.0000] <olliej_>
Philip`: why would you have a real interview for someone who couldn't :D

[03:38:01.0000] <Philip`>
The only reason these conversations never explicitly state such things is that it's just a basic assumption and not worth discussing further

[03:38:02.0000] <Philip`>
and it's not because people don't believe those are the requirements

[04:10:00.0000] <hsivonen>
heycam: what's Batik's DOM building and script running threading like? Have you considered writing a script-capable Batik-DOM tree builder subclass for the V.nu HTML Parser?

[04:11:00.0000] <Philip`>
http://avatraxiom.livejournal.com/97999.html - "it would be nice if this was all standardized some day" - is that relevant for HTML5?

[04:14:00.0000] <heycam>
hsivonen, it's not particularly web compatible

[04:14:01.0000] <heycam>
scripts are only run once the whole document is loaded

[04:15:00.0000] <heycam>
changing it to run them upon </script> would be good, but not at the top of my list of things to do... :)

[04:15:01.0000] <Lachy>
Philip`, that's an issue I've run into before too.  Although the case I needed for is addressed by placeholder, since what I was trying to do was simulate a placeholder using a background image on the password input that said "Password", that needed to be removed when there was text in it

[04:16:00.0000] <heycam>
hsivonen, so subclassing the v.nu parser would get me scripts running at appropriate times?

[04:16:01.0000] <hsivonen>
heycam: I see. anyway, if you are interested in changing stuff, the V.nu parser core is independent of the java.io threading model and could run with java.nio in a Web-compatible way (if someone writes a java.nio IO driver)

[04:16:02.0000] <Lachy>
the problem I had was that when the background image was applied onload, browsers would autocomplete the field afterwards and end up with text overlaying the image

[04:16:03.0000] <Philip`>
Lachy: It might be important for interoperability even if there are other ways authors could achieve the same effect, I guess

[04:17:00.0000] <hsivonen>
heycam: the tree builder supports subclassing for custom tree back ends

[04:17:01.0000] <heycam>
ok.  so yeah at the moment it just uses whatever jaxp supplied xml parser is available.

[04:17:02.0000] <Lachy>
it would have been nice if an onchange event had fired when the browsers autocompleted.

[04:17:03.0000] <Lachy>
I think that's what I tried first, but found that some browsers didn't fire the event

[04:17:04.0000] <hsivonen>
heycam: the tokenizer can be driven in a push fashion, but the current Java IO driver pulls from a java.io stream

[04:17:05.0000] <heycam>
hsivonen, can it do xml parsing with script running on </script>?

[04:18:00.0000] <hsivonen>
heycam: the V.nu HTML Parser doesn't support XML parsing at all

[04:18:01.0000] <heycam>
hsivonen, ah ok

[04:18:02.0000] <heycam>
still i guess it would be an interesting exercise to plug in an html5 parser to it

[04:18:03.0000] <heycam>
though i don't know what it would do with actual html elements...

[04:18:04.0000] <hsivonen>
heycam: I think you may get away with writing a tree back end that runs script on </script> if you don't support document.write

[04:19:00.0000] <hsivonen>
heycam: if you want document.write, you need a Web-compatible IO driver

[04:19:01.0000] <heycam>
hsivonen, ok

[04:19:02.0000] <hsivonen>
i.e. not the java.io one

[04:19:03.0000] <heycam>
so basically doing lots of ungetc()s or something?

[04:20:00.0000] <hsivonen>
heycam: no, the IO driver needs to manage a UTF-16 buffer queue from which it pushes to the parser

[04:20:01.0000] <hsivonen>
document.write needs to be able to insert to the queue

[04:20:02.0000] <heycam>
insert at some arbitrary places, or just at the front?

[04:21:00.0000] <hsivonen>
heycam: at certain slice boundaries

[04:21:01.0000] <hsivonen>
heycam: see http://hg.mozilla.org/users/mrbkap_mozilla.com/html5parsing/file/e2713bb08d00/content/html/parser/src/nsHtml5Parser.cpp#l334 onwards

[04:22:00.0000] <heycam>
well, getting html rendering in foreignObject (using a library like Flying Saucer) is a distant goal

[04:22:01.0000] <heycam>
once that was there, having an html5 parser to feed to it could be useful

[04:22:02.0000] <hsivonen>
heycam: that IO driver is hand-written C++. it hasn't been automatically translated from Java, so corresponding Java code for that piece doesn't exist

[04:24:00.0000] <heycam>
since v.nu doesn't run scripts, i suppose

[04:24:01.0000] <hsivonen>
right

[04:24:02.0000] <heycam>
/me heads to bed

[04:24:03.0000] <hsivonen>
nn

[04:25:00.0000] <heycam>
i'll probably forward a pointer to the svg-as-root-element stuff on www-archive to public-svg-wg

[04:25:01.0000] <hsivonen>
ok

[04:25:02.0000] <heycam>
feel free to use www-svg for those kinds of discussions

[04:25:03.0000] <hsivonen>
ok

[04:26:00.0000] <heycam>
unless you're specifially trying to avoid starting a big conversation about ideas you're bouncing around

[04:26:01.0000] <heycam>
ok, bfn

[04:26:02.0000] <hsivonen>
I kinda was expecting Hixie to poke major holes into my notes first :-)

[05:33:00.0000] <annevk5>
Lachy, btw, I was just caring about non-draconian parsing for SVG there

[05:33:01.0000] <annevk5>
Lachy, no need to generalize it

[05:34:00.0000] <annevk5>
Lachy, we already have it for SVG embedded in text/html, sort of makes sense to also allow SVG to be root though there's merit for the body > svg:only-child idea too

[05:41:00.0000] <rubys>
svg:only-chlid?

[05:42:00.0000] <hsivonen>
rubys: making the <svg> element size as if it were root if it is the only child of body

[05:43:00.0000] <annevk5>
the only other thing i'd do in that case is set standards mode to true

[05:43:01.0000] <Philip`>
Not much fun when you insert some whitespace or a comment and suddenly everything breaks in entirely unexpected ways

[05:44:00.0000] <hsivonen>
Philip`: perhaps selectors should behave more like XPath/RELAX NG here

[05:44:01.0000] <hsivonen>
/me hides

[05:44:02.0000] <annevk5>
you know that only-child ignores that right?

[05:44:03.0000] <hsivonen>
ah they already do. good

[05:45:00.0000] <Philip`>
That's illogical

[05:45:01.0000] <annevk5>
no, Selectors is about elements

[05:45:02.0000] <annevk5>
not about nodes

[05:46:00.0000] <Philip`>
It's logical for it to be about DOM trees

[05:46:01.0000] <Philip`>
and children in DOM trees include all nodes

[05:46:02.0000] <annevk5>
it's about DOM trees where you filtered all non-elements

[05:46:03.0000] <hsivonen>
rubys: do you have a text/html view of planet intertwingly for UAs that Accept application/xhtml+xml?

[05:47:00.0000] <annevk5>
(though not all extensions follow this, e.g. :-moz-first-node)

[05:47:01.0000] <Philip`>
annevk5: That seems conceptually awkward

[05:47:02.0000] <annevk5>
Philip`, what are you trying to say? it's not going to change

[05:47:03.0000] <Philip`>
Understanding documents as trees is hard enough, but now you've got to understand it as a tree plus a subset of that tree

[05:47:04.0000] <Philip`>
I'm just trying to justify my claim that it's illogical

[05:47:05.0000] <hsivonen>
Philip`: inter-element white space FTW!

[05:48:00.0000] <annevk5>
Philip`, mu

[05:48:01.0000] <Philip`>
(since you disagreed with my claim, so I thought I should justify it :-) )

[05:50:00.0000] <annevk5>
I still disagree with your claim

[05:50:01.0000] <annevk5>
:)

[05:51:00.0000] <Philip`>
Well, I disagree with your disagreeing

[05:51:01.0000] <Philip`>
and you have to agree with that

[05:53:00.0000] <annevk5>
I'm not following your sense of logic

[05:54:00.0000] <Philip`>
/me points at the door

[05:55:00.0000] <Lachy>
annevk5, I hadn't heard the body>svg:only-child idea before.

[05:55:01.0000] <annevk5>
Philip`, after you

[05:55:02.0000] <Lachy>
how is that supposed to work?

[05:55:03.0000] <annevk5>
:p

[05:56:00.0000] <annevk5>
body > svg:only-child { height:100vh; width:100vw; position:absolute; top:0; left:0 } + standards mode would do the trick I think

[05:56:01.0000] <Philip`>
(Well, not so much at the door as at the collection point adjacent to the dor)

[05:57:00.0000] <annevk5>
or remove the absolute positioning and do body { margin:0 } besides changing the rendering mode

[05:57:01.0000] <annevk5>
either way should work

[05:58:00.0000] <annevk5>
or body:matches($>svg:only-child) { margin:0 } if you want to into undrafted territory

[06:01:00.0000] <Lachy>
then that would also occur for this document: <!DOCTYPE html><title>...</title><body><svg>...</svg></body>

[06:01:01.0000] <annevk5>
though alternatively what hsivonen proposes could work as well

[06:01:02.0000] <annevk5>
that's pretty much what I had in mind initially and would work better for "SVG as image" and all

[06:01:03.0000] <annevk5>
Lachy, right

[06:02:00.0000] <annevk5>
and would also work better for SVG scripts that deal with root elements, etc.

[06:03:00.0000] <Lachy>
I'd be sligihtly more comfortable with that solution, than I am with messing around with the parsing

[06:03:01.0000] <Lachy>
*slightly

[06:05:00.0000] <Lachy>
though I still have some concerns about incremental rendering for the case where authors use <body><svg>...</svg> <p>content...</body>, where the SVG is used as, e.g. a site logo

[06:07:00.0000] <annevk5>
that seems rather theoretical

[06:08:00.0000] <annevk5>
especially since this would be implemented together with SVG in HTML support in general

[06:08:01.0000] <annevk5>
and there is not that much stray <svg> stuff going around

[06:09:00.0000] <Philip`>
Does/will anyone implement incremental rendering of SVG?

[06:09:01.0000] <Philip`>
/me can't imagine it would work well

[06:09:02.0000] <Lachy>
if they don't, then it's not really a problem

[06:10:00.0000] <Lachy>
it's only a problem if it is because you don't know if the SVG element is the :only-child until after you fiinished parsing it

[06:10:01.0000] <hsivonen>
Philip`: Gecko does

[06:10:02.0000] <Lachy>
but that's a problem with :only-child in general, I think

[06:20:00.0000] <Lachy>
actually, in most cases, that won't be a problem, because the author would generally have specified a size they want the SVG to be in the page, which would override that default

[06:20:01.0000] <Lachy>
most won't want the default of 300x150, or whatever it is

[06:25:00.0000] <Philip`>
Could the default size be {height:100vh;width:100vw} instead of 300x150?

[06:26:00.0000] <annevk5>
the default size is actually different for SVG elements with an aspect ratio

[06:28:00.0000] <Philip`>
Oh, I guess it needs to be consistent with existing SVG-in-XHTML implementations

[06:29:00.0000] <annevk5>
mostly with other replaced elements that lack intrinsic sizes

[06:34:00.0000] <annevk5>
e.g. <iframe>

[06:36:00.0000] <Lachy>
annevk5, what's the default size for SVG?

[06:37:00.0000] <annevk5>
see CSS

[06:38:00.0000] <Lachy>
doesn't CSS say the deafult is 300x150?

[06:38:01.0000] <Lachy>
for replaced elements

[06:41:00.0000] <annevk5>
not anymore

[06:41:01.0000] <annevk5>
it's more complex

[09:27:00.0000] <gsnedders>
Oh how fun

[09:28:00.0000] <gsnedders>
I'm gonna have to make my own BibTeX style

[09:32:00.0000] <Philip`>
Why can't you do it like everybody else in the world and use the defaults? :-)

[09:34:00.0000] <gsnedders>
Because the SQA is stupid?

[09:36:00.0000] <Philip`>
Do they really care that much about bibliography formatting?

[09:36:01.0000] <gsnedders>
Probably not, and nor do I relly.

[09:36:02.0000] <gsnedders>
*really

[09:37:00.0000] <gsnedders>
And I'm going to do terribly at this project anyway so it makes little difference ;P

[09:37:01.0000] <gsnedders>
"Books  -  Author, title, edition, page numbers"

[09:38:00.0000] <Philip`>
Maybe that's because you're spending all your time on infrastructure matters, and not on the content :-)

[09:38:01.0000] <gsnedders>
:P

[09:38:02.0000] <gsnedders>
No, it's not actually

[09:38:03.0000] <gsnedders>
It's mainly because I suck at experimental physics

[09:38:04.0000] <Philip`>
Oh, okay then

[11:01:00.0000] <Philip`>
/me uses <footer> for a day, before realising he's just being an idiot and should use <div class=footer> instead

[12:54:00.0000] <gsnedders>
http://twitter.com/isofarro_public/statuses/1278017272

[13:15:00.0000] <hsivonen>
gsnedders: did I understand coorectly that they say that Ben doesn't get accessibility when he prefers <footer> over <div role="contentinfo"> once browsers expose both to AT in the same way?

[13:16:00.0000] <gsnedders>
hsivonen: No

[13:17:00.0000] <hsivonen>
gsnedders: what did I misunderstand?

[13:17:01.0000] <gsnedders>
http://www.accessifyforum.com/viewtopic.php?p=66854

[13:18:00.0000] <gsnedders>
"Incidentally, I think all HTML5's new section-ish elements are bad." ‚Äî Ben

[13:20:00.0000] <hsivonen>
ah. I thought the tweet referred to a blog post

[13:20:01.0000] <hsivonen>
gsnedders: the part of using JS to get around validation is sad

[13:20:02.0000] <gsnedders>
The blog post is in that context

[13:27:00.0000] <Philip`>
We need to add markup to address the use case of wanting to write documents that validators won't accept, since the current script-based solution is horrid and we could come up with a much better way of doing it, like <html please-shut-up-validator>

[13:36:00.0000] <sayrer>
http://www.browsertests.org/

[14:09:00.0000] <Lachy>
damn, looks like the W3C didn't agree to use the MIT licence :-(

[14:32:00.0000] <BX>
wow - good thing I didn't come here for the action :-)

[14:35:00.0000] <BlankXavier>
XHTML question -> Firefox appears to ignore accept-charset in a <form> -> anyone successfully prodded FF3 into emitting UTF-16LE?  or indeed anything which isn't UTF8...

[14:47:00.0000] <Lachy>
I'm writing a python script to generate a table for the HTML5 Reference, based on some info in a datafile I have.  I'm trying to use the ElementTree interface this time...

[14:48:00.0000] <Lachy>
I have it set up to parse the table template from a template file, which basically sets it up with the right headings and another row to be filled in.

[14:48:01.0000] <gsnedders>
ElementTree is crazy

[14:48:02.0000] <Lachy>
gsnedders, I thought that's what was recommended for me to use, instead of the DOM, which I used last time

[14:48:03.0000] <Lachy>
is there something better I should use?

[14:49:00.0000] <gsnedders>
No, all tree models suck basically

[14:49:01.0000] <Lachy>
ok

[14:50:00.0000] <Lachy>
so, what I need to know, is there an easy way for me to make copies of that row from the template (basically like cloneNode from the DOM API), and fill in each with its own data?

[14:50:01.0000] <gsnedders>
import copy

[14:50:02.0000] <gsnedders>
x = copy.deepcopy(y)

[14:51:00.0000] <Lachy>
ok, I'll try that

[14:54:00.0000] <Lachy>
I have this: table = ET.parse("indexelements-template.xhtml")

[14:54:01.0000] <Lachy>
that returns an ElementTree instance. How do I access the elements within that?

[14:54:02.0000] <Lachy>
the API documentation isn't really clear

[14:55:00.0000] <Lachy>
oh, getroot()

[15:00:00.0000] <annevk5>
hmm, is <input type=text spellcheck> really invalid?

[15:00:01.0000] <annevk5>
that would be different from contenteditable

[15:06:00.0000] <Lachy>
yeah, it appears so.  The spec should probably say the empty string and the true keyword map to the true state, like it does for contenteditable

[15:24:00.0000] <Lachy>
does html5lib support parsing fragments, like using innerHTML?

[15:25:00.0000] <Lachy>
I have a config file with descriptions of elements, and each of those descriptions can contain fragments of markup. I need those parsed so that I can add them to the element tree

[15:25:01.0000] <gsnedders>
Lachy: Yes, it does

[15:26:00.0000] <gsnedders>
/me can remember from hacking on the code it does‚Ä¶ what the API is is a different question

[15:27:00.0000] <Lachy>
I can't find much API documentation for it, which makes it hard

[15:28:00.0000] <gsnedders>
Yeah, you basically have to code read‚Ä¶

[15:28:01.0000] <gsnedders>
Or ask jgraham

[15:28:02.0000] <Philip`>
Try "import html5lib; help(html5lib.HTMLParser)" in the interactive shell?

[15:29:00.0000] <Philip`>
That lists parseFragment(self, stream, container='div', encoding=None, parseMeta=False, useChardet=True)

[15:29:01.0000] <gsnedders>
p.parseFragment instead of p.parse

[15:29:02.0000] <Lachy>
oh, nice

[15:29:03.0000] <Lachy>
I didn't know I could get documentation from there

[15:29:04.0000] <Lachy>
would be nice if that were provided on the html5lib project page though

[15:30:00.0000] <gsnedders>
Lachy: Patches welcome. :)

[15:40:00.0000] <Lachy>
what kind of object does the parseFragment() method return?

[15:40:01.0000] <Lachy>
it doesn't seem to be returning an element tree

[15:47:00.0000] <Lachy>
ah, I figured it out. It returns a list of elements

[15:53:00.0000] <Lachy>
I can't find an easy way of appending a list of elements and text nodes, which are returned by parseFragment(), to an existing element.

[15:54:00.0000] <Lachy>
I can see getchildren(), which reutrns all the children of an element as a list, but there doesn't seem to be a matching setchildren() method


2009-03-05
[18:56:00.0000] <Lachy>
I've now added the brief descriptions to the element summaries in the HTML 5 Reference http://dev.w3.org/html5/html-author/#the-elements (i.e. paragraphs that say "The foo element represents...")

[18:56:01.0000] <Lachy>
some of those are identical to what's in the spec, and still need to be updated to be more author friendly

[18:57:00.0000] <Lachy>
and some, like the a element, are incomplete because the spec splits the description across multiple paragraphs, but my script only extracted the first

[18:58:00.0000] <Lachy>
I also added the index of elements http://dev.w3.org/html5/html-author/#index-of-elements

[19:07:00.0000] <Lachy>
I now added the tag requirements (required/optional/empty) to the element summaries

[20:11:00.0000] <annevk>
html5alt‚äôlwe?

[20:13:00.0000] <annevk>
(from www-archive)

[20:43:00.0000] <annevk>
/me killed wiki.html5.org

[20:43:01.0000] <dglazkov>
murderer!

[20:45:00.0000] <annevk>
if you only knew :p

[20:45:01.0000] <MikeSmith>
dglazkov: about the WSJ article, dude doesn't know his ass from the hole in the ground, so wouldn't worry about it too much

[20:46:00.0000] <dglazkov>
MikeSmith: :) I know. It still bugs me.

[20:47:00.0000] <dglazkov>
/me mumbles something about manners and civility

[20:51:00.0000] <Lachy>
annevk, why did you kill it? Was it getting spammed too much?

[20:57:00.0000] <karlcow>
little agony‚Ä¶

[20:58:00.0000] <annevk>
it was unused and there was some spam

[21:10:00.0000] <MikeSmith>
hsivonen: btw, it's been more than one year now since we first contacted the GNU guys about quoting of filenames in GNU error format

[21:12:00.0000] <Hixie>
i mam now 25% done with this edit

[21:12:01.0000] <Hixie>
am

[21:13:00.0000] <MikeSmith>
Hixie: commit to checkpoint what you got done so far?

[21:16:00.0000] <Hixie>
checkpoint?

[21:16:01.0000] <Hixie>
the whatwg copy has what i've done so far

[21:16:02.0000] <Hixie>
i regen it after each subsection

[21:16:03.0000] <jwalden>
Hixie: did you see the URL I posted here last night directed at you?

[21:17:00.0000] <Hixie>
which one?

[21:17:01.0000] <jwalden>
Hixie: http://pastebin.mozilla.org/630108

[21:17:02.0000] <jwalden>
another infinite redirect in Google props

[21:17:03.0000] <Hixie>
what are the steps to get to that point?

[21:17:04.0000] <Hixie>
i.e. where did you get that link?

[21:18:00.0000] <jwalden>
Hixie: Google Reader site URL for the feed for http://www.brandonsanderson.com/blog/

[21:18:01.0000] <jwalden>
viewing a specific post, clicked on the title of that post and got sent there

[21:19:00.0000] <Hixie>
so the steps to reproduce are subscribe to that feed, then click the title of a post in google reader?

[21:20:00.0000] <jwalden>
Hixie: http://feeds.feedburner.com/BrandonSandersonBlog is the feed, select "all items" as the view for it, expand the "AMoL Update...kind of." post, click on the title

[21:21:00.0000] <Hixie>
weird

[21:22:00.0000] <jwalden>
I really have no idea how it is I've managed to find two of these redirect-to-self bugs, I'm not making a special effort to use Google stuff weirdly :-)

[21:24:00.0000] <jwalden>
conveniently for anyone who might have also hit this there's 1) not much in the entry and 2) a Continue Reading link that works :-)

[21:24:01.0000] <jwalden>
so at least for this one weird case nobody's going to be especially inconvenienced

[21:24:02.0000] <Hixie>
i wonder if it's because of the encoding declaration errors

[21:25:00.0000] <jwalden>
I've been watching that feed for months and haven't had problems in the past, so dunno

[21:26:00.0000] <Hixie>
that particular post has a "..." unicode character

[21:26:01.0000] <Hixie>
that is badly encoded

[21:26:02.0000] <jwalden>
ah, yes, http://feedvalidator.org/check.cgi?url=http%3A%2F%2Ffeeds2.feedburner.com%2FBrandonSandersonBlog

[21:27:00.0000] <jwalden>
that whole site/feed aren't the greatest tech-wise, most posts on the site show up with what seems to be a UTF-8 BOM and flash of white until the rest of the page loads and presumably Firefox decides it's really a different encoding at that point

[21:28:00.0000] <jwalden>
/me hasn't cared enough to really investigate the problem

[21:28:01.0000] <sayrer>
god that feed is brutal

[21:29:00.0000] <jwalden>
:-D

[21:29:01.0000] <Hixie>
well i filed the bug

[21:29:02.0000] <Hixie>
so thanks

[21:30:00.0000] <Hixie>
:-)

[21:30:01.0000] <jwalden>
no problem, always fun to amuse your peeps with obscure bugs :-)

[21:30:02.0000] <jwalden>
/me can't believe he just said "peeps"

[21:30:03.0000] <Hixie>
:-)

[22:07:00.0000] <Hixie>
29% and about to embark on <video>

[22:46:00.0000] <Hixie>
hsivonen: wow, one missing space character triggered thousands of errors :-)

[22:46:01.0000] <Hixie>
(the missing space ate the end tag of an inline element that then got AAA'ed into the next eight thousand or so paragraphs, headers, etc)

[23:20:00.0000] <hsivonen>
MikeSmith: oh yeah, should I follow up on the GNU stuff? I thought the ball was in their court.

[23:20:01.0000] <MikeSmith>
hsivonen: yeah, it is

[23:21:00.0000] <MikeSmith>
actually, I think it's specifically in the hands of RMS

[23:21:01.0000] <MikeSmith>
I'll e-mail a reminder to Karl Berry

[23:30:00.0000] <hsivonen>
MikeSmith: thanks

[23:40:00.0000] <hsivonen>
MikeSmith: what's your preferred user id other than 'mike'? 'sideshowbarker'?

[23:42:00.0000] <MikeSmith>
hsivonen: yeah, "sideshowbarker"

[23:42:01.0000] <hsivonen>
k

[02:16:00.0000] <Hixie>
34% done

[02:16:01.0000] <Hixie>
5% of the spec is video, wow

[02:19:00.0000] <Lachy>
Hixie, what's 34% done?

[02:21:00.0000] <Lachy>
gotta go, back soon

[02:35:00.0000] <Hixie>
lachy: going through doing the author stuff

[02:45:00.0000] <hsivonen>
http://lists.w3.org/Archives/Member/w3c-wai-cg/2009JanMar/0029.html

[02:50:00.0000] <Philip`>
https://lists.wisc.edu/read/?forum=html5alt - new list?

[02:51:00.0000] <Philip`>
(That's a horrid list interface - why can't they just use plain HTML with links, and not squash everything into tiny boxes?)

[03:01:00.0000] <jgraham>
http://www.w3.org/2009/03/04-cg-minutes.html

[03:18:00.0000] <jgraham>
http://esw.w3.org/topic/PF/XTech/HTML5/TextAlternativeProposal

[03:22:00.0000] <beowulf>
i'm just a dumb html author, but why not simply assume an img with alt="" is presentational?

[03:24:00.0000] <Dashiva>
Isn't that what everyone does?

[03:25:00.0000] <Philip`>
beowulf: Maybe the idea is to make the cost of incorrectly marking a critical image as presentational greater than the cost of giving it correct alt text, so people will do less of the former and hence more of the latter

[03:26:00.0000] <Philip`>
But that's probably not the reasoning, and I have no idea what the reasoning is because that wiki page doesn't seem to include any

[03:28:00.0000] <beowulf>
speaking for the dumb html authors, making things harder isn't a good tactic for success

[03:29:00.0000] <jgraham>
beowulf: Really? Who knew?

[03:29:01.0000] <beowulf>
:)

[03:30:00.0000] <Philip`>
But if it makes valid pages more accessible then it's a net win!

[03:30:01.0000] <Philip`>
(and don't bother about invalid pages because they're invalid and who cares what they're going to do)

[03:31:00.0000] <Philip`>
(and people who do care about writing valid pages will clearly go to whatever extreme lengths are necessary to make their pages valid, so we can make it as hard as we want)

[03:33:00.0000] <jgraham>
There seems to be some idea that having alt as a validity requirement makes authours who would otherwise not have cared about writing alt text suddenly write good, useful alt text

[03:33:01.0000] <jgraham>
This is just the extension of that argument

[03:33:02.0000] <beowulf>
Philip`: and making those people that care enough a small isolated island really helps them be advocates for Doing The Right Thing

[03:33:03.0000] <Philip`>
It seems plausible to believe that telling people to do X (perhaps via a validator's error messages) will result in more people doing X

[03:33:04.0000] <Philip`>
and the question is how many more people will that be, and how does it balance against the costs

[03:34:00.0000] <beowulf>
the people that use a validator aren't the people you need to talk to about @alt usage, i believe

[03:34:01.0000] <beowulf>
(in IRC, what's the channel mode to switch off cynicism?)

[03:35:00.0000] <jgraham>
Philip`: Sure, if X is "write alt text". But the X we should actually care about is "write accessible pages"

[03:35:01.0000] <jgraham>
beowulf: In this channel I think you /leave

[03:35:02.0000] <beowulf>
lol

[03:35:03.0000] <hsivonen>
I notice that the alt wiki page doesn't say what the alt TF wants rendering clients (browser+AT) to do and doesn't say what they want authoring tools to do

[03:36:00.0000] <hsivonen>
In my opinion, the right order to deal with things is 1) establish what rendering clients should do (in a way that is compatible with existing content)

[03:36:01.0000] <hsivonen>
2) Establish what authoring tools should do considering what rendering clients should do

[03:37:00.0000] <hsivonen>
3) Make sure that the validity definition is broad enough not to flag as invalid output from authoring tools that follow the advice for authoring tools

[03:42:00.0000] <hsivonen>
wow. the wisc list archive UI is indeed fantastically bad

[03:42:01.0000] <Philip`>
The <time> restriction kind of reminds me of the <img alt="{whatever}"> idea, in that it adds some arbitrary restrictions that make automated generation of markup really painful because you've got worry about all the new edge cases

[03:45:00.0000] <Philip`>
There should be a counterpart of Postel's law, like "Be liberal in producing metadata; be selective in accepting it from others", like you should mark up all times with <time> because that's easier to working out precisely when there's a use case for marking it up, and the consumer can decide whether to bother with your metadata or not

[03:46:00.0000] <Philip`>
s/easier to/easier than/

[03:47:00.0000] <Philip`>
It avoids the problem of problem of forcing producers (who see the <time> element, and see a time value in their markup) to twist their minds to view everything from the consumer side (to work out whether this a time value that someone's going to copy into the calendar)

[03:47:01.0000] <Philip`>
s/problem of//

[04:01:00.0000] <hsivonen>
Philip`: should consumers be required to support e.g. the Mayan calendar if a blogger wants to image (s)he is blogging from the height of the Mayan civilazation?

[04:02:00.0000] <hsivonen>
*civilization

[04:05:00.0000] <olliej>
hsivonen: yes, because that would be awesome

[04:05:01.0000] <olliej>
:D

[04:06:00.0000] <hsivonen>
olliej: what about the Y2012 problem? :-)

[04:06:01.0000] <olliej>
hsivonen: what problem? ;D

[04:07:00.0000] <hsivonen>
olliej: http://www.usatoday.com/tech/science/2007-03-27-maya-2012_n.htm

[04:07:01.0000] <olliej>
hsivonen: you're not suggesting there will still be people left to complain are you?

[04:07:02.0000] <olliej>
hsivonen: :D

[04:12:00.0000] <Philip`>
hsivonen: No, because that would be very rare, whereas it'd be very common for software to take a nice simple ISO8601ish date object and try to serialise it into a <time> but now they've got to add extra checks for year>0 to avoid producing invalid markup

[04:14:00.0000] <hsivonen>
Philip`: if common libraries are consistent in their serialization of negative seconds since the epoch to earlier than 1 Jan 0001, I suppose that might be OK

[04:15:00.0000] <hsivonen>
but if common libraries can't handle dates before 1 Jan 0001 consistently, I think it's not worth the implementation and QA effort

[04:18:00.0000] <Philip`>
$ perl -MDateTime -le'print new DateTime(year=>-100)'

[04:18:01.0000] <Philip`>
-0100-01-01T00:00:00

[04:18:02.0000] <Philip`>
Seems to work fine there

[04:18:03.0000] <Philip`>
(It's documented that year 0 exists, so year -100 is 101 BC)

[04:18:04.0000] <hsivonen>
Philip`: so if you take the seconds since epoch from Perl and give them to Java, do you get the same proleptic Gregorian date serialization?

[04:36:00.0000] <jgraham>
 datetime(-100,0,0)

[04:36:01.0000] <jgraham>
---------------------------------------------------------------------------

[04:36:02.0000] <jgraham>
ValueError                                Traceback (most recent call last)

[04:36:03.0000] <jgraham>
/home/jgraham/html5lib/trunk/<ipython console> in <module>()

[04:36:04.0000] <jgraham>
ValueError: year is out of range

[04:38:00.0000] <jgraham>
(datetime(0,1,1) which has valid month and day values also doesn't work, fwiw)

[04:41:00.0000] <Philip`>
hsivonen: Java always seems to drop the minus sign when serialising years

[04:42:00.0000] <hsivonen>
Philip`: Python and Java are enough of reasons for me not to want pre-0001 years

[04:42:01.0000] <Philip`>
hsivonen: (I can't easily get seconds-since-epoch from Perl since it does some 32-bit maths, but that doesn't seem a real problem since you can use strings for communication between languages)

[04:43:00.0000] <Philip`>
/me doesn't know if there's a better way to serialise dates in Java - he was just use Data.toString, and also the annoyingly complex SimpleDateFormat

[04:44:00.0000] <Philip`>
*Date.toString

[04:44:01.0000] <Philip`>
(Having a method that takes a date and returns a string would clearly be too simple for SimpleDateFormat, so it wants an input StringBuffer and a FieldPosition too)

[04:46:00.0000] <Philip`>
http://joda-time.sourceforge.net/ - looks like someone didn't like Java's date/time library

[04:54:00.0000] <Philip`>
jgraham: Consuming software in Python would simply check if year > 0 and if so then it would decide to ignore that <time> element

[04:55:00.0000] <jgraham>
Philip`: Then it would fail testcases, etc.

[04:55:01.0000] <Philip`>
It already has to check if year <= 9999

[04:56:00.0000] <Philip`>
so it's already incompatible with the range of <time>

[04:56:01.0000] <jgraham>
Ah, well we should reduce it to have the same range

[04:57:00.0000] <jgraham>
Although practically no one seems to care about <time> for very large years

[04:57:01.0000] <Philip`>
And if we find a language/library that fails on dates before 1970 and after 2038 then we should reduce <time> to that range too?

[04:57:02.0000] <Philip`>
jgraham: Maybe practically no one cares, but it would fail test cases

[04:58:00.0000] <jgraham>
Philip`: Depends ho significant a language/library it is

[04:58:01.0000] <jgraham>
Are there any popular langauges that are known to fail for a smaller range and for which simple workarounds are not avalaible

[05:00:00.0000] <Philip`>
http://www.boost.org/doc/libs/1_38_0/doc/html/date_time/gregorian.html says it's limited to 1400-Jan-01 to 9999-Dec-31

[05:02:00.0000] <jgraham>
Hmm that's pretty annoying

[05:02:01.0000] <jgraham>
It does sugest limiting to 4-digit years is sensible

[05:04:00.0000] <jgraham>
Or rather, maximum 4-digit

[05:15:00.0000] <Philip`>
http://uk2.php.net/manual/en/datetime.add.php - "interval: The amount to be added. For the date use "P3D", "P3M", "P3Y" or a combination of the three e.g. "P2M5D" (Y = Years, M = Months, D = Days.) MUST BE YEAR MONTH DAY FORMAT "P5Y", "P5M2D", "P5Y4D". For the time use "T3H", "T3M", "T3S" or or a combination of the three e.g. "T5H20M" (H = Hours, M = Minutes, S = Seconds). For dateTime use "P5D2M4YT5H20M". The digit before the letter (NOT P or T) can b

[05:16:00.0000] <Philip`>
...What?

[05:16:01.0000] <Philip`>
Are the people who wrote this API literally insane?

[05:35:00.0000] <Philip`>
/me sees http://fhtr.blogspot.com/2009/03/anatomy-of-canvas-3d-extension.html

[05:36:00.0000] <Philip`>
"with a 7x7 gaussian blur kernel over a 256x256 Firefox logo (decomposed into a horizontal blur and a vertical blur.) JavaScript took 0.8 seconds to do a single blur. With GLSL, it took 0.4 seconds to do a thousand blurs." - I don't think any amount of clever JITting is likely to beat that

[05:38:00.0000] <olliej>
Philip`: it's very easy to write a very slow convolution in js, but yes, if you throw pixel manipulation at something that is built from the ground up to do nothing but pixel manipulation, it's going to do well

[05:38:01.0000] <olliej>
Philip`: i would expect a gpu to easily be at least 100x faster than a C impl

[05:39:00.0000] <Philip`>
I suppose this is a bit irrelevant in practice because you could just blur the image once and send it as a static file across the network, instead of getting your users to blur it :-)

[05:40:00.0000] <olliej>
Philip`: unless you're writing photoshop

[05:40:01.0000] <olliej>
or something

[05:40:02.0000] <Philip`>
If you're writing Photoshop you probably care about precision, so you wouldn't rely on the GPU to get the maths right

[05:40:03.0000] <Philip`>
Actually I suppose that's totally untrue

[05:41:00.0000] <Philip`>
particularly since you'd have real-time previews of effects, where you don't care about precision

[05:41:01.0000] <Philip`>
and maybe modern GPUs can do proper floating-point maths now

[05:41:02.0000] <olliej>
Philip`: some can

[05:42:00.0000] <olliej>
Philip`: people keep saying canvas 3d should expose shaders, i'm like noooooo

[05:42:01.0000] <Philip`>
(where "proper" means "conforming to IEEEwhatever")

[05:42:02.0000] <Philip`>
I think Canvas 3D without shaders would be pretty rubbish in practice, because it'd be painful and you couldn't do anything interesting with it

[05:43:00.0000] <olliej>
Philip`: the variation in a) what the maths actually produces b) what shaders can actually get compiled on given hardware varies dramatically c) running arbitrary untrusted content on the gpu is a really really really bad plan

[05:43:01.0000] <Philip`>
In the last few years of pre-shader OpenGL you at least had vendor extensions to get similar effects

[05:43:02.0000] <Philip`>
and without shaders your content will all look like VRML and people will laugh at you

[05:44:00.0000] <olliej>
people coped without shaders for years and years and years

[05:44:01.0000] <Philip`>
but I can't imagine it working decently with shaders either, so I've kind of given up on the idea for now

[05:44:02.0000] <Philip`>
olliej: They did, but that was ages ago and I can't imagine it being visually acceptable now

[05:44:03.0000] <olliej>
quake3 is still used as a benchmark today

[05:45:00.0000] <olliej>
halflife/cs was still very popular for years after becoming graphically obsolete (hl/cs was based in quake2's engine iirc)

[05:45:01.0000] <Philip`>
olliej: (In terms of security, I'd probably be more worried about driver bugs in shader compilers rather than in the actual execution on the GPU)

[05:46:00.0000] <Philip`>
olliej: (And interoperability is certainly a problem - the very first Canvas 3D example I wrote worked with NVIDIA drivers on Windows but not with NVIDIA drivers on OS X, because I used a clamp() function in a shader)

[05:46:01.0000] <olliej>
Philip`: while(true); in a shader, on a gpu that supports true conditional branching == hung gpu

[05:49:00.0000] <Philip`>
olliej: Hmm, good point about infinite loops

[05:49:01.0000] <Philip`>
GLSL says "Non-terminating loops are allowed. The consequences of very long or non-terminating loops are platform dependent." which doesn't help much

[05:50:00.0000] <olliej>
Philip`: if you have good drivers they will kill the shader (eventually)

[05:50:01.0000] <olliej>
iirc that will take out the app however

[05:50:02.0000] <olliej>
maybe i'm wrong

[05:50:03.0000] <olliej>
it's been a long time since i did anything really gpu related

[05:51:00.0000] <Philip`>
olliej: I'd imagine Canvas 3D uses would include games (which would compete with non-browser-based games), adverts (like shiny rotatable 3D iPhones for you to examine), and I can't really think of much else

[05:51:01.0000] <Philip`>
and both those cases seem to need modern decent-quality graphics (i.e. shaders)

[05:51:02.0000] <jgraham>
Philip`: They wwouldn't really have to compete with non-rowser-based games

[05:52:00.0000] <jgraham>
People don't really expect to play GTA in their browser

[05:52:01.0000] <jgraham>
They expect to be able to play tetris

[05:52:02.0000] <olliej>
Philip`: i think a canvas capable of doing sprite/layers etc would be a good intermediate step

[05:52:03.0000] <olliej>
but then

[05:53:00.0000] <olliej>
you could basically use css :D

[05:53:01.0000] <Philip`>
jgraham: They still expect to be able to play a decent-quality Tetris, e.g. if it's 2D then it should have pretty sprites and everything

[05:53:02.0000] <jgraham>
Philip`: Sure. But the level of graphics you need to make an acceptable tetris are lower than those needed for a 3D shooter

[05:53:03.0000] <Philip`>
jgraham: so if they play a game that is 3D, they should have similar expectations of quality, and they don't want it to look like http://www.dmp.cz/rt3d/onsi/diplomka/images/bitmanagement_neruda.jpg

[05:54:00.0000] <Philip`>
and the only sensible way to get decent lighting and shadows and materials is by using shaders

[05:57:00.0000] <Philip`>
(and the methods used in e.g. Quake are not sensible, because they require hours of preprocessing and large texture maps and static geometry stuff, since they're just cheating)

[05:57:01.0000] <Philip`>
s/stuff/and stuff/

[05:57:02.0000] <olliej>
Philip`: hours of preprocessing == decade or two ago

[05:58:00.0000] <olliej>
Philip`: that said, yes, there are many reasons i haven't done any canvas-3d like thing in wk 

[05:58:01.0000] <Philip`>
olliej: Okay, so maybe it's more like seconds now :-)

[05:58:02.0000] <Philip`>
olliej: but it's still annoyingly limited and painful to write code that way, particularly when it's just an artifact of the API and you know the hardware is capable of so much more

[05:59:00.0000] <olliej>
Philip`: doom3 recomputes the level BSP for every frame -- that used to be an half and hour or something back when quake 3 was released

[05:59:01.0000] <olliej>
Philip`: ah ha

[05:59:02.0000] <olliej>
Philip`: you *don't*

[06:00:00.0000] <olliej>
websites don't have minimum requirements in the same way shop purchased software does

[06:00:01.0000] <olliej>
eg. you have a much more varied set of platforms

[06:00:02.0000] <Philip`>
Sure they do

[06:00:03.0000] <Philip`>
"You must install the Flash plugin"

[06:00:04.0000] <Philip`>
"This site requires 1024x768 resolution"

[06:00:05.0000] <Philip`>
etc

[06:01:00.0000] <olliej>
Philip`: yes, and that just means people complain about your site not working

[06:01:01.0000] <Philip`>
Canvex has minimum requirements that exclude a majority of all people

[06:01:02.0000] <Philip`>
and nobody has complained to me about it not working in IE :-)

[06:02:00.0000] <Philip`>
Even integrated graphics and mobile phones can do GLSL now, so in five years it's not really going to be an issue

[06:03:00.0000] <Philip`>
(Also I think the Mozilla people wanted to use Mesa to implement shaders in software when it's not supported by hardware, though I don't know if that's possible or practical)

[06:05:00.0000] <Philip`>
/me wonders if Doom 3's BSPing has the same output as Q3's, or if it does it much more loosely and relies more on the graphics card to cope with unnecessary polygons

[06:07:00.0000] <Philip`>
/me remembers seeing some discussion of lots of complex terrain LOD algorithms, and then someone suggesting just throwing all the polygons at the GPU and letting it cope with them all itself, which actually worked surprisingly well in their example

[06:14:00.0000] <hsivonen>
hrm. jgraham's test case at http://news.ycombinator.com/item?id=500781 seems to be gone / unresponsive

[06:17:00.0000] <jgraham>
hsivonen: Yeah, the server seems to be down

[06:24:00.0000] <hsivonen>
I wonder if it is significant if scripts run immediately upon </script> or if timeouts/intervals have an opportunity to run between </script> being tokenized and the script starting running

[07:39:00.0000] <Lachy>
note to self: never mention on public-html that there is a potential issue about what to name something.

[07:40:00.0000] <Lachy>
/me tries to stop the bikeshedding and ask people to focus on the real content of the HTML 5 Reference

[07:40:01.0000] <rubys>
/me likes blue.  Or is it red these days?  :-)

[07:41:00.0000] <Lachy>
I like blue too

[07:42:00.0000] <Lachy>
I just find it strange that of the 5 responses to my email about the HTML5 reference, all of them have focussed on what to call polyglot documents, rather than providing any useful feedback about what I had written in the other sections

[07:43:00.0000] <svl_>
"strange"? You must be new here.

[07:43:01.0000] <svl_>
*g*

[07:46:00.0000] <jgraham>
Lachy: Call them Bob

[07:46:01.0000] <jgraham>
Bonus points if you can make it sound like Blackadder

[07:55:00.0000] <Lachy>
jgraham, I never watched Blackadder, so I'm not sure what you mean

[07:58:00.0000] <jgraham>
Lachy: Rowan Atkinson who plays blackadder has a speech impediment that makes it difficult for him to pronounce b sounds. So in one episode they introduced a character called "bob" which he found very difficult to say. As a result... well I don't knoww how to explain it but the way he says it is memorable

[07:59:00.0000] <jgraham>
It kind of builds up gently then suddenly pops out

[08:10:00.0000] <beowulf>
/me replied to lachy's tweet with 'good work' but now considers asking for it in pink

[08:11:00.0000] <gsnedders>
pink? I'd rather have it in green, personally.

[08:11:01.0000] <gsnedders>
But more important is what to make the roof of.

[08:12:00.0000] <gsnedders>
/me is sure he should remember who svl is

[08:14:00.0000] <hsivonen>
hmm. all of Steven Pemberton's posts to public-html pertain to issues arising from using colonified attribute names in text/html: http://www.w3.org/Search/Mail/Public/search?keywords=&hdr-1-name=from&hdr-1-query=steven.pemberton%40cwi.nl&index-grp=Public__FULL&index-type=t&type-index=public-html

[08:17:00.0000] <virtuelv_>
hsivonen: does validator.nu offer a json interface?

[08:17:01.0000] <hsivonen>
virtuelv_: yes. (with callbacks and without)

[08:17:02.0000] <hsivonen>
virtuelv_: &out=json&callback=foo

[08:17:03.0000] <virtuelv_>
thanks

[09:02:00.0000] <Lachy>
woah, I think I need to take a break from editing the HTML5 Reference. I didn't realise how late it had gotten here. Although, I've managed to do a fair bit on it today.

[09:05:00.0000] <gsnedders>
/me wonders whether he can send comments without getting bikesheded

[09:12:00.0000] <Lachy>
gsnedders, just avoid issues about the name of polyglot documents and you'll be fine

[09:12:01.0000] <gsnedders>
Wanna bet?

[09:12:02.0000] <gsnedders>
:)

[09:13:00.0000] <rubys>
/me will take that bet too

[09:13:01.0000] <gsnedders>
rubys: Which way?

[09:13:02.0000] <rubys>
same side as you

[09:13:03.0000] <gsnedders>
Ah, another realist.

[09:13:04.0000] <gsnedders>
:P

[09:14:00.0000] <Lachy>
/me bets $2.50 on the bikeshed being painted green

[09:16:00.0000] <hsivonen>
/me wants papayawhip

[10:36:00.0000] <gsnedders>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cdiv%3E%3C%2Fdiv%3E%0A%3Cscript%3E%0Adocument.getElementsByTagName(%22div%22)%5B0%5D.innerHTML%20%3D%20%22%3Cbase%20href%3Dhttp%3A%2F%2Fexample.com%3E%3Cp%3E%3Ca%20href%3D%2F%3Efoo%22%3B%0A%3C%2Fscript%3E

[10:36:01.0000] <gsnedders>
Where does the link link?

[10:37:00.0000] <gsnedders>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cdiv%3E%3C%2Fdiv%3E%0A%3Cscript%3E%0Awindow.onload%20%3D%20function()%20{%0Adocument.getElementsByTagName(%22div%22)[0].innerHTML%20%3D%20%22%3Cbase%20href%3Dhttp%3A%2F%2Fexample.com%3E%3Cp%3E%3Ca%20href%3D%2F%3Efoo%22%3B%0A}%0A%3C%2Fscript%3E

[10:37:01.0000] <gsnedders>
That's needed for compat. with some browsers

[11:08:00.0000] <hdh>
in chrome, both to http://example.com/

[11:09:00.0000] <hdh>
firefox trunk, http://software.hixie.ch/

[11:09:01.0000] <gsnedders>
Got IE?

[11:09:02.0000] <gsnedders>
In HTML 5, http://example.com/

[11:10:00.0000] <Hixie>
/me wonders what he did that causes long urls to screw up in terminal now

[11:11:00.0000] <gsnedders>
Hixie: n00b

[11:11:01.0000] <hdh>
IE6 http://example.com/

[11:12:00.0000] <Hixie>
score, the spec wins again

[11:13:00.0000] <gsnedders>
IE7: http://software.hixie.ch/

[11:13:01.0000] <Hixie>
d'oh

[11:13:02.0000] <Hixie>
is there a /saved url for these tests?

[11:13:03.0000] <gsnedders>
25 is a more complex example but doesn't seem to work in IE7

[11:14:00.0000] <gsnedders>
But otherwise no

[11:15:00.0000] <gsnedders>
/me is back to reverse-engineering base URL behaviour

[11:16:00.0000] <gsnedders>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cp%3Efoo%0A%3Cbase%20href%3D%22http%3A%2F%2Fexample.com%22%3E%0A%3Cp%3Ebar

[11:16:01.0000] <gsnedders>
That moves base to head in both Saf and FF

[11:16:02.0000] <gsnedders>
Doesn't in HTML 5

[11:19:00.0000] <Hixie>
the <base> handling in the spec is based on some research of what pages need in practice, iirc

[11:19:01.0000] <Hixie>
i wanted to simplify what the browsers do now since they're not all perfectly compatible

[11:45:00.0000] <gsnedders>
/me goes insane

[11:45:01.0000] <gsnedders>
I have this one bit of hair that will not stay tied back today.

[11:46:00.0000] <Philip`>
Cut it off

[12:16:00.0000] <gsnedders>
/me wonders what Mellblomenator references

[12:16:01.0000] <gsnedders>
I mean, that _has_ to be a joke.

[12:21:00.0000] <gsnedders>
Anyone able to give me a hand with writing a security considerations section?

[12:21:01.0000] <Philip`>
gsnedders: Seems quite likely that it's referring to the same person as http://www.mellblom.us/blog/

[12:21:02.0000] <Philip`>
particularly since the photo on that site indicates the person works for Google

[12:22:00.0000] <Philip`>
and the latest blog post talks about the Mellblom Browser, mere days before the similar text was inserted into HTML5

[12:33:00.0000] <Hixie>
damn, you're good

[12:51:00.0000] <rubys>
/me wonders who Hixie is referring to...

[12:54:00.0000] <Hixie>
philip

[12:57:00.0000] <Philip`>
/me used his incredible skills to type Mellblom into Live Search and find that page

[12:58:00.0000] <Hixie>
and you actually found it?

[12:58:01.0000] <Hixie>
impressive

[12:59:00.0000] <gsnedders>
Hixie: How do you keep spam off whatwg?

[12:59:01.0000] <Philip`>
I used my supersight abilities to look through plastic and liquid crystals to see the first search result

[12:59:02.0000] <gsnedders>
http://lastweekinhtml5.blogspot.com/2009/03/hair-in-gait.html

[12:59:03.0000] <gsnedders>
oh dear‚Ä¶

[13:00:00.0000] <Hixie>
gsnedders: off spam where?

[13:00:01.0000] <gsnedders>
Hixie: I mean the whatwg‚äôwo list

[13:00:02.0000] <Hixie>
only subscribers can post

[13:01:00.0000] <gsnedders>
That's all?

[13:03:00.0000] <Hixie>
yup

[13:04:00.0000] <roc>
hang on, are there multiple Philip Taylors?

[13:04:01.0000] <Hixie>
yes

[13:04:02.0000] <gsnedders>
roc: Yes

[13:04:03.0000] <Hixie>
two

[13:04:04.0000] <Hixie>
both of which have used at least two different e-mail addresses

[13:04:05.0000] <roc>
wow, that explains a lot!

[13:04:06.0000] <Hixie>
possibly three

[13:04:07.0000] <Hixie>
lol

[13:04:08.0000] <gsnedders>
Three

[13:07:00.0000] <Philip`>
I'm pretty sure I've used at least three addresses

[13:11:00.0000] <gsnedders>
roc: One has "Philip TAYLOR" in the From header and isn't on IRC; the other has "Philip Taylor" in the From header and is Philip` on Freenode and Philip on irc.w3.org

[13:11:01.0000] <roc>
thanks

[13:14:00.0000] <Philip`>
I'm the one who's on IRC

[13:15:00.0000] <Hixie>
they are otherwise undistinguishable

[13:15:01.0000] <Hixie>
/me ducks

[13:16:00.0000] <Hixie>
s/u/i/

[13:16:01.0000] <Philip`>
/me hopes that substitution was meant to apply to the last-but-one line

[13:17:00.0000] <Hixie>
yes

[13:17:01.0000] <Hixie>
you can't apply substitutions to what i'm doing, silly

[13:17:02.0000] <Hixie>
/me ducks again

[13:21:00.0000] <Hixie>
btw roc, re your mail, things out of the document shouldn't delay the event

[13:21:01.0000] <Hixie>
i'll make it clearer at some point

[13:22:00.0000] <roc>
images do

[13:22:01.0000] <roc>
boris says this matters for existing content

[13:22:02.0000] <roc>
image preloading stuff

[13:22:03.0000] <Hixie>
really?

[13:22:04.0000] <Hixie>
wow

[13:22:05.0000] <Hixie>
good to know

[13:22:06.0000] <Hixie>
well then i guess it's up to you

[13:23:00.0000] <Hixie>
i can go either way

[13:23:01.0000] <Hixie>
per spec right now technically they do even out of their doc, though i should make it clearer either way

[13:29:00.0000] <roc>
I think video should be consistent with images

[13:30:00.0000] <Hixie>
right-o

[13:33:00.0000] <gsnedders>
/me waves his maths working at #whatwg

[13:33:01.0000] <gsnedders>
Anyone able to see the mistake?

[13:34:00.0000] <Philip`>
gsnedders: I think you calculated x wrongly

[13:34:01.0000] <gsnedders>
Philip`: Nah, that's given.

[13:35:00.0000] <Philip`>
gsnedders: Oh, maybe you got y wrong then

[13:35:01.0000] <gsnedders>
Philip`: There is no y.

[13:35:02.0000] <gsnedders>
This is question five, BTW.

[13:36:00.0000] <Philip`>
Hmm, beats me

[13:36:01.0000] <gsnedders>
It would work if I got ln 2/3 + ln 2/3 and not ln 2/3 + ln 3/2

[13:57:00.0000] <gsnedders>
"A solid is formed by rotating the curve $y = e^{-2x}$ between $x = 0$ and $x = 1$ through $360\circ$ about the $x$-axis. Calculate the volume of the solid that is formed."

[13:57:01.0000] <gsnedders>
Why would I ever want to be able to do this?

[13:57:02.0000] <gsnedders>
:P

[14:00:00.0000] <roc>
I've got one of those at home

[14:00:01.0000] <roc>
makes a great toilet plunger

[14:01:00.0000] <gsnedders>
And Boris realizes I'm being dumb on /.

[14:01:01.0000] <gsnedders>
roc: So what's its volume?

[14:01:02.0000] <gsnedders>
(Or rather: why would I care?)

[14:02:00.0000] <roc>
so you know how much rubber to buy to make it

[14:02:01.0000] <gsnedders>
But then surely I care about the circumference at the bottom and not the volume?

[14:03:00.0000] <roc>
I give up

[14:04:00.0000] <gsnedders>
/me concludes that it has no use and ignores the question

[14:10:00.0000] <Hixie>
why is knowing the volume not useful?

[14:10:01.0000] <Hixie>
for the case roc gave?

[14:10:02.0000] <Philip`>
gsnedders: Isn't it just something like integral(pi*y^2, dx)?

[14:10:03.0000] <gsnedders>
Philip`: Well, there's some equation, yeah

[14:11:00.0000] <Philip`>
gsnedders: What I mean is "Isn't it exactly integral(pi*y^2, dx)? (except if that's wrong then it's just because I've not spent much time thinking about it, not because I'm stupid, honest)"

[14:12:00.0000] <gsnedders>
Philip`: The answer to which is "I don't know because I can't be bothered looking it up or thinking about it."

[14:13:00.0000] <Hixie>
is RT retweet?

[14:13:01.0000] <Lachy>
Hixie, I think it is.

[14:13:02.0000] <gsnedders>
Hixie: Yeah

[14:13:03.0000] <Lachy>
today's the first time I've seen that too

[14:13:04.0000] <gsnedders>
Sorry Hixie, forgive me :P

[14:14:00.0000] <Philip`>
gsnedders: You don't need to think about it, it's just obvious that the volume is the sum of lots of discs, and sums are integrals, and discs have volume pi*r^2*dx, and that's about it :-)

[14:15:00.0000] <Philip`>
and the mere existence of a question is enough reason to attempt to solve it

[14:18:00.0000] <gsnedders>
http://flickr.com/photos/gsnedders/3331908722/

[14:18:01.0000] <gsnedders>
(MLW take note)

[14:25:00.0000] <Hixie>
i sure hope this RT thing doesn't take off

[14:25:01.0000] <Hixie>
/me reads the latest AB minutes and raises several eyebrows

[14:26:00.0000] <Dashiva>
RT?

[14:26:01.0000] <Lachy>
AB?

[14:26:02.0000] <Lachy>
Dashiva, re-tweet

[14:27:00.0000] <Dashiva>
Is that the twitter-IRC interface thing?

[14:27:01.0000] <Lachy>
no

[14:28:00.0000] <deltab>
http://bloggingbits.com/the-art-and-science-of-retweeting-for-twitteraholics/

[14:28:01.0000] <deltab>
reposting, in other words

[14:28:02.0000] <Lachy>
Dashiva, see http://twitter.com/gsnedders/statuses/1285533654 and http://twitter.com/migrosch/statuses/1283809127

[14:29:00.0000] <hsivonen>
Hixie: URL?

[14:33:00.0000] <Dashiva>
Wow. Retweeting sounds like dupe heaven

[14:37:00.0000] <deltab>
surely it'd be better to give a link and your own thoughts or at least rephrasing

[14:37:01.0000] <rubys>
Hixie: ping?

[14:47:00.0000] <Hixie>
rubys: pong

[14:48:00.0000] <rubys>
My read is that the discussion on the proposed Excerpt License is simply going to rediscover the original use cases that we already sent, after a lot of email.

[14:49:00.0000] <rubys>
It occurs to me that if you happened to agree with the last two paragraphs of this: <http://lists.w3.org/Archives/Public/public-html/2009Mar/0144.html> and were to say so, it might (just might) shorten the process a bit.

[14:49:01.0000] <Hixie>
that would certainly follow past patterns of public-html e-mail

[14:49:02.0000] <rubys>
Of course, if you disagree, feel free to say that also

[14:50:00.0000] <Hixie>
seems reasonable to me, which is why i didn't post again to the list after saying my bit about license proliferation :-)

[14:51:00.0000] <rubys>
I'm just suggesting that you do consider posting again.  You're call.  I agree with you about license proliferation, but given the brokenness of not having a dialog, it unfortunately could be seen as us raising the goal posts.

[14:52:00.0000] <Hixie>
rubys: i disagree with your earlier point (though i don't care enough to say so on the list), in that i think that the change you talk about happened in 2004

[14:52:01.0000] <Hixie>
and the w3c license is really a change back to the old ways

[14:52:02.0000] <Hixie>
er

[14:52:03.0000] <Hixie>
<Hixie> rubys: i disagree with your earlier point (though i don't care enough to say so on the list), in that i think that the change you talk about happened in 2004

[14:52:04.0000] <Hixie>
<Hixie> and the w3c license is really a change back to the old ways

[14:53:00.0000] <Hixie>
but if you want me to say +1 then i'm happy to do so

[14:53:01.0000] <Hixie>
it might set up a bad precedent, though :-)

[14:53:02.0000] <Hixie>
(public-html had a bad problem with people +1'ing each other historically)

[14:53:03.0000] <rubys>
your call

[15:01:00.0000] <Hixie>
rubys: sent

[15:01:01.0000] <Hixie>
i really wish dragging the w3c into modernity wasn't so painful a process

[15:04:00.0000] <gsnedders>
Well, you should be less demanding, and you should just be a post-modernist.

[15:58:00.0000] <Hixie>
woot, done <canvas>.


2009-03-06
[16:00:00.0000] <gsnedders>
This endless requirement of CSS implementers is for it to be applying while iterating in tree order?

[16:22:00.0000] <MikeSmith>
Hixie: I see you're using tircd

[16:28:00.0000] <takkaria>
Hixie: what are you actually doing atm?

[16:30:00.0000] <Hixie>
MikeSmith: it roxors

[16:31:00.0000] <Hixie>
takkaria: going through and providing non-normative descriptions for all the apis aimed at authors rather than implementors

[16:32:00.0000] <Hixie>
takkaria: look for the green <dl>s e.g. at http://www.whatwg.org/specs/web-apps/current-work/#images which i just did

[16:33:00.0000] <Hixie>
if you're using a decent browser you can try one of the experimental alternative style sheets, too

[16:37:00.0000] <MikeSmith>
Hixie: I been using tircd for a while too.. definitely rocks the bells

[16:38:00.0000] <heycam>
/me is just trying it, seems good

[16:39:00.0000] <heycam>
i was just using the web interface before.  polling is for suckers... :/

[16:41:00.0000] <Hixie>
tircd makes twitter usable for me

[16:46:00.0000] <gavin>
oh hey

[16:47:00.0000] <gavin>
I hacked a mozbot to broadcast tweets onto IRC using the RSS feed

[16:47:01.0000] <gavin>
that looks much better

[16:48:00.0000] <Hixie>
tircd is way better than a bot because it makes each user have its own user in your ircclient

[16:48:01.0000] <Hixie>
it's like bitlbee

[16:49:00.0000] <gavin>
and it's two-way, right?

[16:49:01.0000] <Hixie>
with tircd you can follow new people with /invite, find out who people are with /whois, unfollow with /kick, block with /ban, etc

[16:49:02.0000] <Hixie>
yeah

[16:49:03.0000] <Hixie>
if you talk it tweets your message

[16:49:04.0000] <Hixie>
it's the hotness

[16:51:00.0000] <tantek_>
Hixie, I presume this is the tircd you speak of? http://code.google.com/p/tircd/

[16:55:00.0000] <Hixie>
yeah

[16:58:00.0000] <annevk>
timbl joins the RDFa debate

[16:58:01.0000] <annevk>
funs

[17:07:00.0000] <Hixie>
ok who wants to be the one to tell tim about the bazillions of xmlns:* attributes in legacy content

[17:16:00.0000] <Hixie>
40% done

[17:22:00.0000] <annevk>
oh lol, I had not read timbl's message yet and just see the part mjs quoted

[17:22:01.0000] <annevk>
"I can't imagine that there are a lot of people who have accidentally used the string xmlns: inside attribute names in the past. :-)"

[17:23:00.0000] <annevk>
-- timbl

[18:06:00.0000] <Hixie>
oh good, mjs answered that one

[18:06:01.0000] <Hixie>
i was worried i might have to

[18:20:00.0000] <roc>
We should get tbl to be a Mozilla intern for the summer

[18:21:00.0000] <Hixie>
good luck with that

[18:24:00.0000] <MikeSmith>
I don't blame anybody for not wanting to work on a browser project

[18:24:01.0000] <MikeSmith>
most sane people don't want to work in the sausage factory

[18:27:00.0000] <Hixie>
the problem is the people who want to design the sausage

[18:27:01.0000] <Hixie>
but haven't worked in the factory

[18:27:02.0000] <Hixie>
(or not worked in it this century)

[18:30:00.0000] <MikeSmith>
new guy in the sausage factory: "hey! spec says you aren't supposed to take that disgusting part of the big/cow/rat-that-got-caught-in-the-chopper and make it into food!" .. guy who's been working in the sausage factory: "Heh. That's what you been eating, friend. For a long time."

[18:31:00.0000] <Hixie>
"In fact if we stopped using that part... your digestive system would break down and you'd only be able to eat peanuts for the rest of your life."

[18:33:00.0000] <annevk>
/me raises an eyebrow

[18:34:00.0000] <Hixie>
read the AB minutes and raise more! :-)

[18:34:01.0000] <roc>
how many have you got

[18:34:02.0000] <Hixie>
...several.

[18:40:00.0000] <karlcow>
hmm sausages‚Ä¶ yum! Just had a bun bo hue, but would not say no to a sausage

[18:41:00.0000] <Hixie>
gah i hate the table dom model

[18:41:01.0000] <Hixie>
does anyone ever even use this nonsense?

[18:42:00.0000] <heycam>
karlcow, is vietnamese food popular/widely available in france?  and is that because of it being a former colony?

[18:43:00.0000] <karlcow>
/me is waiting for the day of people who wants a spec which is forkable and when the next EvilEmpire Inc comes around with a super marketing force creates a spec which is imposed to the mass of people. Think about Intel Inside, Think MS Word, etc.

[18:44:00.0000] <karlcow>
heycam: Vietnamese food is popular in France indeed, because of the 100 years of colony of this asian region. (but I'm not in France)

[18:44:01.0000] <deltab>
Hixie: I've done so, though I've been told the implementations are very slow

[18:44:02.0000] <heycam>
karlcow, oh right you're in canada, forgot

[18:44:03.0000] <Hixie>
/me writes half-hearted authoring descriptions for the six thousand apis the table elements have

[18:44:04.0000] <Hixie>
deltab: curse you! :-P

[18:45:00.0000] <deltab>
it does seem odd that tables get special attention in the DOM

[18:45:01.0000] <karlcow>
:) no issue. I moved recently from Japan to Canada. :)

[18:45:02.0000] <heycam>
/me loves him some c√† ph√™ s·ªØa ƒë√°

[18:46:00.0000] <MikeSmith>
claims of threat of spec forking is total FUD

[18:46:01.0000] <heycam>
(with funky diacritical characters copied from somewhere, since i have no idea how to type them)

[18:46:02.0000] <MikeSmith>
hmm, guess I shouldn't say that so forcefully

[18:46:03.0000] <MikeSmith>
um, some people might say that claims of threat of spec forking is total FUD

[18:47:00.0000] <Hixie>
given html5's history, claims that copyright has any ability to stop spec forking are ridiculous

[18:47:01.0000] <MikeSmith>
/me caught up in excitement of CSS WG f2f and got carried away

[18:47:02.0000] <Hixie>
and given html5's present (and its two forks), claims that spec forking are a problem are also ridiculous imho

[18:48:00.0000] <Hixie>
but i understand that a lot of people are scared

[18:48:01.0000] <karlcow>
hehe

[18:48:02.0000] <Hixie>
on another note, why are html5's forks only written by robs

[18:49:00.0000] <Hixie>
and is roc going to make one too? :-P

[18:49:01.0000] <heycam>
ha

[18:49:02.0000] <MikeSmith>
we need some rocspec

[18:49:03.0000] <karlcow>
I love maciej's message :) 1) and 2) did nothing so let's change the license to achieve the same nothing. huh‚Ä¶ hihi That is logical. poooof

[18:50:00.0000] <karlcow>
a big circus of clowns

[18:50:01.0000] <Hixie>
oh sheesh, <td> has a whole swathe of apis too

[18:50:02.0000] <Hixie>
/me cries

[18:51:00.0000] <Hixie>
the table elements are actually proving more of a pain than <canvas> and <video>!

[18:51:01.0000] <Hixie>
er, <tr>, not <td>

[18:52:00.0000] <roc>
I think spec forking could be a problem but copyright threats are not remotely the right solution

[18:52:01.0000] <Hixie>
food time

[18:53:00.0000] <annevk>
karlcow?

[18:53:01.0000] <roc>
*actual* forks that is. The *ability* to fork is essential, *actual* forks are harmful

[18:53:02.0000] <annevk>
we already have "actual" forks in a way

[18:55:00.0000] <karlcow>
annevk: my sincere and honest opinion about that is the license is just fine as it has always been. And all the comments around it are FUD. I do not believe in W3C but I trust W3C and its social process. To create a license for prose which protects it and puts it in the hand of a group is a good thing.

[18:56:00.0000] <karlcow>
I still have no trust in whatwg social structure because of the way in history they have acted. 

[18:56:01.0000] <karlcow>
I understand perfectly that people can disagree with me and that's fine.

[18:58:00.0000] <karlcow>
And my trust in the social structure of whatwg can't be improved as long that the whatwg is used as a gun on my head saying if you don't behave as we wish, we (opera, mozilla, apple) will do our own way. That is not acceptable in a social process.

[18:58:01.0000] <annevk>
you believe the use cases put forward are FUD?

[18:59:00.0000] <karlcow>
annevk: here‚Ä¶ you just put words in my mouth I have not said. Classical!

[18:59:01.0000] <annevk>
you said that all the comments around the license argument are FUD

[18:59:02.0000] <karlcow>
yes.

[18:59:03.0000] <annevk>
use cases are comments around the license argument

[18:59:04.0000] <annevk>
we want it changed because of the use cases

[19:00:00.0000] <karlcow>
the use cases are hypothetical cases which never happened. 

[19:00:01.0000] <annevk>
it may be that I don't know what you're saying though; admittedly I often find that difficult

[19:00:02.0000] <annevk>
karlcow, that's not true

[19:00:03.0000] <roc>
Henri already cited a case where he was warned not to put spec text in his code

[19:00:04.0000] <annevk>
karlcow, e.g. hsivonen uses text from the WHATWG draft in his code

[19:00:05.0000] <karlcow>
for a group of people who say all the time that we live by "real world" dogma

[19:00:06.0000] <karlcow>
I find it quite amusing

[19:01:00.0000] <annevk>
karlcow, software copies IDL fragments from drafts

[19:01:01.0000] <karlcow>
roc: henri cited a case which never happened really and to completion

[19:01:02.0000] <gavin>
that these things are tolerated but not allowed by the license isn't a very strong argument

[19:01:03.0000] <karlcow>
someone at w3c asked him to do something and someone reverted his/her decision

[19:01:04.0000] <annevk>
you still haven't explained how I'm putting words in your mouth

[19:01:05.0000] <roc>
what's 'completion'? Someone is successfully sued for copyright infringement?

[19:02:00.0000] <karlcow>
/me took a knife this morning, I could have kill the squirel outside, but I didn't do it. Damn!

[19:02:01.0000] <karlcow>
roc: yes

[19:03:00.0000] <roc>
so if the W3C sued someone and lost, you'd say there's still no problem?

[19:03:01.0000] <karlcow>
if W3C lost the case that would prove that W3C was not in its rights

[19:03:02.0000] <roc>
to be more precise

[19:03:03.0000] <karlcow>
Justice system

[19:05:00.0000] <karlcow>
annevk: FUD the comments about the license. The use cases were exactly to try to have a practical discussion around the issue. Test cases if you prefer. 

[19:05:01.0000] <roc>
So you're saying that what Henri was doing was not within the letter of the license, but it should be tolerated, and the W3C as a whole will tolerate it even though we know not all W3C people agree

[19:05:02.0000] <karlcow>
roc: no. I didn't say that

[19:06:00.0000] <roc>
oh

[19:06:01.0000] <karlcow>
IMHO what henri was doing was perfectly fine. 

[19:06:02.0000] <annevk>
karlcow, the comments evolve around the use cases

[19:06:03.0000] <annevk>
karlcow, I'm confused

[19:07:00.0000] <karlcow>
annevk: it's ok. :) I'm confused with all this discussion, because for me I se No. zill. nada. issues with the W3C License as it is.

[19:08:00.0000] <karlcow>
and I love opensource and creative commons licenses, but they all have their particular context.

[19:08:01.0000] <annevk>
some people apparently have an issue with the license

[19:08:02.0000] <karlcow>
annevk: I see that.

[19:09:00.0000] <annevk>
at some point people didn't have an issue with Member-only groups either

[19:09:01.0000] <annevk>
things change

[19:09:02.0000] <karlcow>
some people have an issue with the existence of the whatwg ;)

[19:09:03.0000] <roc>
karlcow: you don't think our desire to be able to incorporate spec text in our open source projects is reasonable?

[19:09:04.0000] <annevk>
karlcow, prolly the same people that are fine with the license :p

[19:09:05.0000] <karlcow>
roc: it is perfectly reasonnable AND possible today

[19:09:06.0000] <gavin>
it's always been technically possible

[19:10:00.0000] <gavin>
but the license does not allow it

[19:10:01.0000] <roc>
you mean via fair use and other copyright defenses?

[19:10:02.0000] <karlcow>
roc: yes

[19:10:03.0000] <karlcow>
never the W3C will sue open source projects

[19:10:04.0000] <roc>
New Zealand does not have a fair use doctrine, where does that leave me?

[19:10:05.0000] <karlcow>
that is dumb

[19:10:06.0000] <roc>
maybe so, but where does that leave me?

[19:10:07.0000] <karlcow>
but if NextEvelEmpire Inc

[19:10:08.0000] <tokamak>
SLEEP

[19:11:00.0000] <karlcow>
does bad things, then there will be room for actions

[19:11:01.0000] <gavin>
copyright law is not the right tool for that

[19:12:00.0000] <karlcow>
roc: for me the fear of the new requested license is that it prepares the bed for the NextLevelEmpire Inc. 

[19:12:01.0000] <roc>
copyrighted specs did not slow down Microsoft one iota

[19:12:02.0000] <roc>
and they will not slow down the next attacker, if it comes

[19:13:00.0000] <karlcow>
slow down on what?

[19:13:01.0000] <karlcow>
I'm talking about a technical spec

[19:13:02.0000] <roc>
developing their own APIs, publishing them, implementing them, evangelizing them

[19:13:03.0000] <karlcow>
not implementation

[19:13:04.0000] <gavin>
what are you afraid that NextEvilEmpire will do?

[19:13:05.0000] <karlcow>
heeeey?

[19:14:00.0000] <gavin>
if they gain enough credibility at W3C's expense, maybe they deserve it!

[19:14:01.0000] <karlcow>
[21:48]  * karlcow is waiting for the day of people who wants a spec which is forkable and when the next EvilEmpire Inc comes around with a super marketing force creates a spec which is imposed to the mass of people. Think about Intel Inside, Think MS Word, etc.

[19:14:02.0000] <roc>
that's not really a concrete fear

[19:15:00.0000] <annevk>
unless you believe in the vast browser wing conspiracy o_O

[19:15:01.0000] <gavin>
you're talking about "imposing" a spec - they can do that either way, whether they're allowed to copy the original spec text or not

[19:16:00.0000] <karlcow>
roc: I like open source projects and community projets, I like community social structures giving protection to a body of work with a kind of equilibrium of forces. I do NOT like at all Marketing Department of huge companies. The issue is that many people *believe*.

[19:17:00.0000] <roc>
I don't understand how marketing departments are relevant here. If you're talking about marketing to the masses, the copyright status of HTML is completely irrelevant to the masses

[19:17:01.0000] <karlcow>
roc: marketing is what is relevant specifically. 

[19:17:02.0000] <karlcow>
and where the evil comes from most of the time.

[19:18:00.0000] <roc>
and for marketing, trademarks are what you want

[19:18:01.0000] <karlcow>
roc: would you accept that W3C trademark html5 ?

[19:18:02.0000] <roc>
by all means trademark "HTML" or whatever you can get your hands on

[19:18:03.0000] <roc>
"W3C HTML: The Real Web"

[19:18:04.0000] <roc>
karlcow: yes

[19:18:05.0000] <karlcow>
‚Ä¶

[19:18:06.0000] <karlcow>
/me is lost

[19:19:00.0000] <roc>
we trademark Firefox

[19:19:01.0000] <roc>
that's how we protect our brand from evil people who try to sell malware as "Firefox" etc

[19:20:00.0000] <roc>
no-one is impeded from taking our code and doing what they like with it, they just can't call it "firefox" necessarily

[19:20:01.0000] <roc>
everybody's happy, except for some misguided Debian users

[19:20:02.0000] <karlcow>
And some people said that Mozilla was evil because of the trademark.

[19:21:00.0000] <roc>
they're in the minority, I believe

[19:21:01.0000] <karlcow>
w3c license case: every's happy, except for some misguided html wg participants

[19:21:02.0000] <roc>
they probably haven't realized that there actually are people out there offering "Firefox downloads" containing malware

[19:21:03.0000] <karlcow>
:) i can do sentences too ;)

[19:22:00.0000] <roc>
karlcow: everybody's happy except for three out of four browser vendors and other people developing open-source software related to these specs

[19:23:00.0000] <roc>
that's a pretty big part of the spec audience

[19:23:01.0000] <roc>
even the Debian users are pretty happy, they've got their Iceweasel build without the Firefox trademark

[19:23:02.0000] <karlcow>
roc: for a few people into the browser communities

[19:24:00.0000] <roc>
I daresay Maciej can speak for Webkit

[19:24:01.0000] <karlcow>
I think I hear recently that for example for the Mozilla's case, people didn't like when someone was saying "I talk for Mozilla"

[19:24:02.0000] <roc>
and I doubt anyone at Mozilla would disagree with Jonas or dbaron's position

[19:24:03.0000] <roc>
we don't all agree about everything but we do tend to agree pretty strongly about our open source licensing

[19:25:00.0000] <karlcow>
roc: I have nothing against open source code.

[19:25:01.0000] <karlcow>
quite the opposite

[19:26:00.0000] <roc>
nevertheless you prefer to put us at legal risk for incorporating spec text in our code

[19:27:00.0000] <karlcow>
heh http://sam.zoy.org/wtfpl/

[19:27:01.0000] <karlcow>
roc: there is no risk.

[19:29:00.0000] <roc>
We've already been over that. Henri was threatened. There is risk.

[19:30:00.0000] <karlcow>
and it's where I come with the argument fud. So I guess we will not find a solution today :)

[19:32:00.0000] <roc>
if you think the people who have spoken out against the license are just "a few of the browser communities", please try to find one person from the Mozilla or Webkit community to speak out in support of the license

[19:32:01.0000] <roc>
just one

[19:33:00.0000] <karlcow>
Let's say that you rely on a very rigid and binary interpretation of law.

[19:33:01.0000] <karlcow>
and I rely on social structures and their organic natures, I rely on humans and need trust for it. 

[19:33:02.0000] <karlcow>
Having been closed of quite a number of participants of this story, my trust is still on the side of the social structure of W3C.

[19:33:03.0000] <roc>
no, make it two

[19:33:04.0000] <karlcow>
roc: what does it take to be part of Moz community?

[19:34:00.0000] <karlcow>
employed by Moz Corp? or anyone participating?

[19:34:01.0000] <roc>
for the sake of argument, I'll say "commit access to the repository"

[19:34:02.0000] <roc>
which includes hundreds of non-MoCo people

[19:34:03.0000] <karlcow>
yep

[19:34:04.0000] <roc>
that's the funny thing. We in the open source communities advocate using social structures, not copyright law, to prevent forking

[19:35:00.0000] <roc>
you think that the threat of lawsuit hanging over everyone's head is the way to get people to behave

[19:35:01.0000] <karlcow>
you still didn't get my opinion, did you?

[19:35:02.0000] <karlcow>
there is no threat

[19:36:00.0000] <roc>
if we can have that in writing, then the problem is solved

[19:37:00.0000] <roc>
although you'd need to extend your amnesty to all downstream recipients of our code, or else we won't be able to distribute our own code under GPL/LGPL

[19:37:01.0000] <karlcow>
the funny thing is that if the license changes I don't care. If I look carefully in my W3C staff mail archives, I'm even pretty sure I have been advocating at least one or twice for creative commons licenses when I was working at W3C. 

[19:38:00.0000] <roc>
great, then why resist it?

[19:38:01.0000] <karlcow>
roc: it is not *my* amnesty

[19:38:02.0000] <roc>
ok, if it's the W3C's policy they can write it down in a binding manner

[19:39:00.0000] <karlcow>
roc: isn't it what was in the proposal just made by W3C?

[19:45:00.0000] <roc>
the latest proposal imposes conditions that make it impossible to distribute derived works of parts of the spec with our code

[19:45:01.0000] <roc>
where's the amnesty?

[19:46:00.0000] <karlcow>
roc's rippling

[19:49:00.0000] <karlcow>
/me is throwing the towel. I tried to explain‚Ä¶ but I'm not rigid enough be a wall. License might change, and the world will continue. The only thing I know is that it will still orbit around the sun. 

[19:51:00.0000] <karlcow>
A breed whose testimony is behaviour,

[19:51:01.0000] <karlcow>
What we are, we are‚Äînativity is answer enough

[19:51:02.0000] <karlcow>
         to objections; 

[20:19:00.0000] <annevk>
bit annoying that workers have race conditions through cookies

[20:19:01.0000] <annevk>
hopefully on idiot site starts relying on specifics of execution

[20:20:00.0000] <annevk>
s/on i/no i/

[21:25:00.0000] <annevk>
hmm, I guess I should put http://wiki.whatwg.org/wiki/RelExtensions in order :/

[21:27:00.0000] <annevk>
maybe it's very easy to write a script for that

[21:30:00.0000] <annevk>
I wonder why some values are listed there that are already defined in the specification itself

[21:40:00.0000] <annevk>
was indeed very easy

[21:40:01.0000] <annevk>
list = rawdata.split("\n|-\n")

[21:40:02.0000] <annevk>
list.sort()

[21:40:03.0000] <annevk>
print "\n|-\n".join(list)

[21:40:04.0000] <annevk>
well, I also lowercased EditURI first

[22:07:00.0000] <annevk>
I removed the values already defined in the spec

[22:07:01.0000] <annevk>
is there some way to grey out a line in wiki tables to mark it obsolete?

[00:21:00.0000] <hsivonen>
does anyone have a reference to the CSS hack the tests the namespace of xmlns="..." on root to determine whether a document is in the HTML or XML mode?

[01:55:00.0000] <hsivonen>
streaming XPath impl: http://code.google.com/p/jlibs/wiki/XMLDog

[02:27:00.0000] <Lachy>
I updated the list of obsolete elements. http://dev.w3.org/html5/html-author/#obsolete-elements

[02:27:01.0000] <Lachy>
let me know if I missed any. That's all the elements I found mentioned in the spec

[02:28:00.0000] <Lachy>
the list does seem a little short though

[02:30:00.0000] <Philip`>
/me wonders why datagrid isn't a link, in the table just above there

[02:31:00.0000] <Philip`>
Lachy: Are you aware that the DOM interfaces are (except for their first line) indented by two tabs too many?

[02:32:00.0000] <Lachy>
Philip`, because the spec stuck a note saying "The API here needs rewriting. Don't implement this right now." between the heading and the <dl class="element">, and so my script to extract it from the spec didn't find it

[02:32:01.0000] <Philip`>
Ah

[02:32:02.0000] <Lachy>
whereas, I have a separately maintined datafile from which I generate those tables, which includes datagrid

[02:33:00.0000] <Lachy>
http://dev.w3.org/html5/html-author/utils/elementdesc.txt

[02:34:00.0000] <Lachy>
the DOM interfaces are extracted as-is from the spec. They will be replaced with something a lot more author friendly later on

[02:34:01.0000] <Lachy>
so I'm not too concerned about the indentation now

[02:35:00.0000] <Philip`>
Also, tabs are aesthetically displeasing and you should indent with spaces instead ;-)

[02:35:01.0000] <Lachy>
I suppose I could set my editor to use soft tabs instead

[02:36:00.0000] <Lachy>
which means 4 spaces

[04:41:00.0000] <Lachy>
Added description of the html element http://dev.w3.org/html5/html-author/#the-html-element

[06:16:00.0000] <Philip`>
Lachy: Perhaps it could do with a few more pixels of left margin on the heading text in those green boxes

[06:17:00.0000] <Lachy>
ok

[06:17:01.0000] <Philip`>
By the way, I hope you're not wanting any substantial comments :-p

[06:17:02.0000] <Philip`>
/me tries actually reading the text

[06:18:00.0000] <Lachy>
Philip`, of course not. Don't even think about provinding any constructive feedback

[06:18:01.0000] <Lachy>
*providing

[06:19:00.0000] <Philip`>
s/langauge/language/

[06:20:00.0000] <Philip`>
"Every document must begin with this element" - that seems to be mixing the concepts of elements and tags - the document as a DOM tree doesn't have a 'beginning', and the document as a character stream has tags rather than elements

[06:20:01.0000] <Philip`>
(Or if it's not mixing elements and tags, it's mixing trees and character streams)

[06:21:00.0000] <Lachy>
The character stream needs to begin with the DOCTYPE (possibly preceded by whitespace or comments)

[06:22:00.0000] <Lachy>
how do you suggest I rephrase it?

[06:23:00.0000] <Philip`>
Maybe something like "The html tag must be the first tag in the document" would be more accurate? (with a subsequent paragraph clarifying that that really means "The html tag must, if not omitted entirely, be the first tag in the document")

[06:24:00.0000] <Philip`>
I don't know if that's just more confusing, though

[06:25:00.0000] <Philip`>
The discussion of languages should link to something describing what languages are, e.g. that they're two-character codes from some list somewhere so you write lang="en" and not lang="english"

[06:27:00.0000] <Philip`>
(Maybe that'd be part of the definition of the global lang attribute, once it's defined?)

[06:29:00.0000] <Philip`>
(If so, it might still be good to mention it explicitly in the html definition, since that's where most people are going to use lang, and most aren't going to bother following every single cross-reference in the document)

[06:33:00.0000] <Philip`>
It seems like it'd be a good idea to include the doctype in XHTML examples, because people will skim through the document and see a block of code that uses the element they want to use, and copy and paste it and use it as their own document, and never know that they should add a doctype

[06:34:00.0000] <Lachy>
the lang and xml:lang attributes will be described in the global attributes section, and that will elaborate on langauge tags

[06:34:01.0000] <Philip`>
If they're advanced authors, they might notice that it's XHTML, and think "ooh, XHTML is the cool new thing so I'll copy that one rather than the HTML example" and have the same problem

[06:35:00.0000] <Lachy>
the way I have it set up is that "HTML Example" means an HTML only examle, "XHTML Example" means XHTML only, and "Example" means it's compatible with both.

[06:36:00.0000] <Philip`>
Indeed, but nobody's going to care when they're copying-and-pasting chunks of code

[06:36:01.0000] <Philip`>
so it's beneficial to improve the chances of them copying-and-pasting a chunk of code that has a doctype and won't be quirks mode

[06:37:00.0000] <Philip`>
(Hmm, isn't the "XHTML Example" for <html> already compatible with both, so it should be "Example"?)

[06:41:00.0000] <Philip`>
http://www.codinghorror.com/blog/archives/001234.html - "HTML Validation: Does It Matter?"

[06:47:00.0000] <Dashiva>
ho ho: "Google actually ranks it's indexed pages. The more valid the (X)HTML of your pages, the higher it'll appear in a search."

[06:50:00.0000] <Philip`>
Dashiva: Shhhh, don't tell people that that's untrue

[06:51:00.0000] <Philip`>
People's selfishness combined with their blind following of SEO 'experts' makes it a very effective way to encourage them to write valid pages

[06:53:00.0000] <jgraham_>
Apparently Google ranks your pages higher if you send me cake

[06:55:00.0000] <Philip`>
jgraham_: Nobody's going to believe you in IRC - you have to set up an SEO blog first, and then link to it from thousands of other SEO blogs' comment threads

[06:56:00.0000] <Dashiva>
Philip`: Or you can RT it

[06:57:00.0000] <Philip`>
/me is insufficiently down with the lingo

[06:57:01.0000] <Philip`>
Oh, do you mean retweet?

[06:58:00.0000] <Dashiva>
Yes

[06:58:01.0000] <Philip`>
That introduces the problem of bootstrapping yourself with followers, I assume

[07:01:00.0000] <Dashiva>
I'm sure there's a group of SEO twits (tweeters? twitterers?) who dedicate themselves to being a complete graph

[07:02:00.0000] <jgraham_>
Philip`: Frankly you are the wrong sort of people to get cake from anyway. I only really care about people trying to SEO their luxury good sites so that I get decent cake

[07:03:00.0000] <jgraham_>
s/good/goods/

[07:04:00.0000] <jgraham_>
For example, my insider knowledge tells me that the search ranking of internationally famous London department stores is heavily contingent on a steady supply of cake

[07:10:00.0000] <beowulf>
finally, something i can do 

[07:11:00.0000] <beowulf>
/me loads a pallet of cake onto a boat for jgraham 

[07:11:01.0000] <beowulf>
/me awaits fame and fortune

[07:13:00.0000] <jcranmer>
I've seen SEO spam by companies who weren't in the top 10 results for "SEO" on Google

[07:13:01.0000] <jcranmer>
there are two explanations for this: 1. they're so bad, they need to spam for advertisement purposes, or 2. the spam is how they do SEO

[07:14:00.0000] <Dashiva>
Or 3. The 10 companies are their customers

[07:14:01.0000] <Philip`>
"We're Ranked No 1 For SEO" says the sponsored link at the top of Google's search results, linking to a site that is ranked No 11

[07:15:00.0000] <Dashiva>
E.g. http://xkcd.com/125/

[08:44:00.0000] <Almad>
Hi, I'd like to ask about html5lib: Is there an easy way to have only a specific portion of html sanitized? For example, I have img src attribute and I'd like to use html5lib to return an escaped/sanitized/stripped string. Is there an API for that?

[08:46:00.0000] <jgraham>
Almad: I think the short anser is "no" and the longer anser is "what are you trying to achieve, exactly"?

[08:46:01.0000] <Lachy>
jgraham, I think I might have found a bug in html5lib. http://validator.nu/?doc=http%3A%2F%2Fdev.w3.org%2Fhtml5%2Fhtml-author%2F&showsource=yes#l1033c16

[08:46:02.0000] <Lachy>
although, I will update to trunk first and see if it's been resolved

[08:47:00.0000] <jgraham>
Specifically what is the situation in which you can sanitize a single attribute and be reasonably sure you are doing the right thing?

[08:47:01.0000] <Almad>
jgraham: I'm having a wiki language and I have construct like "((picture http://picture))". I have it parsed and have "http://picture" string and I'd like to sanitize it using html5lib

[08:48:00.0000] <jgraham>
Lachy: Interesting

[08:50:00.0000] <gsnedders>
/me agrees with that conclusion

[08:51:00.0000] <Lachy>
jgraham, from lookiing at my source document, the bug appears to occur with <section> <p>foo </section> <section><h1>...</h1></section>

[08:51:01.0000] <Lachy>
although, I haven't made a minimal TC to verify that

[08:51:02.0000] <jgraham>
Almad: You could do something like s = sanitizer.HTMLSanitizerMixin()

[08:52:00.0000] <jgraham>
s.sanitize_token({"type":"StartTag", "name":"a", "data":["href":href]}

[08:52:01.0000] <jgraham>
)

[08:52:02.0000] <jgraham>
hich would return a token with the href sanitized

[08:52:03.0000] <gsnedders>
/me fails at tweeting

[08:53:00.0000] <jgraham>
but it's not like that isn't a hack

[08:53:01.0000] <Almad>
jgraham: thanks

[08:53:02.0000] <jgraham>
Almad: All the other ways I can think of off the top of my head require you to sanitize the whole document

[08:54:00.0000] <jgraham>
Which seems safer, but slower

[08:54:01.0000] <Almad>
jgraham: well another solution in my mind is to expand to full <img src="unsanitized content"/>, then parse it, get proper node and return it

[08:54:02.0000] <jgraham>
We should really refactor the HTMLSanitizer to make this use case easier

[08:54:03.0000] <Almad>
hmm

[08:54:04.0000] <Lachy>
jgraham, the bug seems to be fixed in trunk, so nevermind

[08:55:00.0000] <jgraham>
Almad: Yes, you could of course do that

[08:55:01.0000] <Almad>
jgraham: ...but this still seems to be hacky for me ,)

[08:55:02.0000] <jgraham>
Almad: Indeed

[08:55:03.0000] <jgraham>
/me wonders if rubys has an opinion

[08:56:00.0000] <jgraham>
/me wonders if rubys read the logs

[08:56:01.0000] <jgraham>
s/d/ds/

[08:56:02.0000] <Lachy>
gsnedders, in anolis, what's the parameter to make it quote all attribute values in the output?

[08:56:03.0000] <gsnedders>
Lachy: Whatever html5lib's parse.py uses

[08:56:04.0000] <Almad>
I'm afraid about that expanding wighout sanitizing part, at least user will probably have some unexpected formatting output (at least)

[08:56:05.0000] <Lachy>
any idea what that is?

[08:57:00.0000] <gsnedders>
Lachy: no

[08:57:01.0000] <jgraham>
quote_attr_values

[08:57:02.0000] <jgraham>
I think

[08:57:03.0000] <gsnedders>
--quote-attr-values I guess through CLI?

[08:57:04.0000] <Almad>
jgraham: I'll probably use Your hack now and look at another solutions later, thanks for helping

[08:57:05.0000] <jgraham>
But I'm reading pms.net which is a bit buggy

[08:57:06.0000] <jgraham>
gsnedders: Yeah, probably

[08:58:00.0000] <jgraham>
Lachy: You are using the commandline?

[08:58:01.0000] <Lachy>
yes

[08:59:00.0000] <Lachy>
yay, that worked. Now when I open the generated file in my editor, it doesn't mess up the syntax highlighting.

[09:00:00.0000] <jgraham>
/me should really stop calling it pms.net since that seems to be a domain squatting site that is looking for a pre-menstrual-syndrome related buyer

[09:01:00.0000] <Philip`>
jgraham: You should buy that domain

[09:02:00.0000] <jgraham>
Philip`: That involves spending money. I don't think PimpMySpec is important enough to warrant two domain

[09:02:01.0000] <jgraham>
s

[09:02:02.0000] <Lachy>
if that domain isn't taken, I'd be surprised

[09:03:00.0000] <Lachy>
it is taken

[09:03:01.0000] <Lachy>
someone took a domain I wanted too, recently

[09:03:02.0000] <jgraham>
Lachy: Like I said, it's being squatted on. The first link on the page says "The domain might be for sale"

[09:04:00.0000] <Lachy>
I got html5reference.org and html5reference.net. I couldn't get the .com

[09:04:01.0000] <jgraham>
s/The/This/

[09:06:00.0000] <Philip`>
http://dev.quickfire.org/perfect/?query=html

[09:06:01.0000] <Philip`>
Looks like the web isn't very perfect :-(

[09:07:00.0000] <jgraham>
Hmm mjs is arguing against standardising on a behaviour that webkit already has in ES3.1

[09:07:01.0000] <jgraham>
Or at least saying that it might be problematic...

[09:45:00.0000] <Philip`>
/me wonders if the comments on http://www.codinghorror.com/ are usually as voluminous and full of people entirely missing the point and repeating misinformation as they are on the post about HTML validation

[09:46:00.0000] <sid0>
yes

[09:48:00.0000] <Philip`>
I guess I've noticed similar things in comments on The Daily WTF

[09:48:01.0000] <Philip`>
Is there something about popular technical blogs that turns their comments sections into floods of hundreds of comments that provide no value whatsoever?

[09:49:00.0000] <Philip`>
Actually, I suppose it's just that I'm judging popularity based on number of comments

[09:50:00.0000] <Philip`>
and at a certain point there are so many comments that people post without reading all the previous ones, and then nobody will bother posting anything worthwhile because they know it's going to get lost in the flood and nobody will read it

[10:17:00.0000] <jcranmer>
"This new approach to programming doesn't yet have a handy name like Ajax, though some refer to it as HTML 5."

[10:17:01.0000] <jcranmer>
uh... misinformation++

[10:18:00.0000] <jcranmer>
the author also seems to equate Ajax with dynamic web pages

[10:19:00.0000] <jcranmer>
"Ajax also allowed Web pages to be more dynamic in other ways, letting users, say, right-click and see a menu tailored to their needs."

[10:19:01.0000] <jcranmer>
that's plain old DOM manipulation

[12:53:00.0000] <svl>
/me frowns. I don't grok the two errors this gives me: http://validator.nu/?doc=http://have-skill.com/presentation/2009/mozcamp Could someone enlighten me (or have I stumbled upon a bug in the validator)?

[12:54:00.0000] <gsnedders>
svl: opening pre tag implies a closing p tag, so there is no open p element there

[12:55:00.0000] <svl>
Ah, dagnabbit - I thought I'd checked that was 'inline'.

[12:56:00.0000] <svl>
So that leaves the datalist thing; which I copy/pasted from some Opera tutorial...

[12:57:00.0000] <gsnedders>
hsivonen: I think that's a validator bug

[12:57:01.0000] <gsnedders>
svl: ^^ also

[12:58:00.0000] <svl>
thanks. :)

[13:01:00.0000] <svl>
/me also spots an Opera bug with the actual <input list> thing, in that it causes a weird reflow removing all the linebreaks from the pre after having been activated. Where's anne when you need him anyway?

[13:02:00.0000] <gsnedders>
On a plane, I think

[13:02:01.0000] <Philip`>
A basic multilingual plane?

[13:02:02.0000] <gsnedders>
No, an aeroplane.

[13:03:00.0000] <Philip`>
Oh, right

[14:01:00.0000] <Philip`>
http://www.crummy.com/software/BeautifulSoup/3.1-problems.html

[14:58:00.0000] <gsnedders>
Wow. Markup by me with closing tags.


2009-03-07
[16:36:00.0000] <gsnedders>
Lachy: Happy b'day!

[17:10:00.0000] <wahnfrieden>
hi

[17:10:01.0000] <wahnfrieden>
is there any demo site to see how html5lib sanitizes HTML?

[17:13:00.0000] <karlcow>
wahnfrieden: As far as I know last time I looked at html5lib, there were doing parsing only and not serialization/sanitization

[17:21:00.0000] <wahnfrieden>
they are doing a whitelist sanitization tokenizer

[18:17:00.0000] <Hixie>
dimich: in theory the spec already says what encoding to use for the query part

[18:17:01.0000] <Hixie>
dimich: see the url part of html5 (somewhere in section 2 iirc)

[18:18:00.0000] <dimich>
/me looking...

[18:20:00.0000] <dimich>
so it says the encoding should match the encoding of the document or script (in case of the Worker)

[18:21:00.0000] <Hixie>
/me looks

[18:21:01.0000] <dimich>
If I read it correctly :-) 2.5.1 and further

[18:22:00.0000] <Hixie>
it says to use the "script's character encoding"

[18:22:01.0000] <Hixie>
which is set by the "Create a script" algorithm

[18:22:02.0000] <Hixie>
which in the case of a worker is invoked in step 3 of section 2.5's algorithm

[18:22:03.0000] <Hixie>
and is always set to utf-8

[18:23:00.0000] <Hixie>
so in the worker case i guess the answer is always utf-8

[18:27:00.0000] <dimich>
Hixie:  sorry, I'm not sure I follow. Lets say we load a Worker and it has a http header that sets charset.

[18:27:01.0000] <dimich>
So we decode the script using that encoding. Doesn't it become a "script'

[18:27:02.0000] <dimich>
s encoding"?

[18:28:00.0000] <dimich>
so when this script tries to open XHR (for example) shouldn't we encode that url with that encoding?

[18:29:00.0000] <dimich>
I guess I'm looking for "create a script" algorithm...

[18:29:01.0000] <dimich>
ah, ok, I see it now.

[18:30:00.0000] <dimich>
in a worker spec, "Set the script's character encoding to UTF-8. (This is just used for encoding non-ASCII characters in the query component of URLs.)"

[18:30:01.0000] <dimich>
So basically all URLs inside scripts should be encoded UTF8

[18:30:02.0000] <dimich>
Thanks!

[19:44:00.0000] <olliej>
Hixie: ping?

[20:12:00.0000] <Hixie>
olliej: here vaguely

[20:12:01.0000] <Hixie>
hm, dimich left while i was at dinner, d'oh

[20:15:00.0000] <olliej>
Hixie: sorry, back

[20:16:00.0000] <olliej>
Hixie: looking at importScripts ( http://www.whatwg.org/specs/web-workers/current-work/#importing-scripts-and-libraries )

[20:17:00.0000] <olliej>
Hixie: it implies that importScripts(sources) does for (source in sources) { script = loadSource(source); if (network error) throw; execute(script) }

[20:18:00.0000] <Hixie>
olliej: right

[20:18:01.0000] <olliej>
Hixie: but the behaviour exhibited by firefox is for (source in sources) { scripts.append(loadSource(source)); if (network error) throw; } for (script in scripts) execute(script)

[20:18:02.0000] <olliej>
Hixie: so if any script fails to load, none are run

[20:18:03.0000] <Hixie>
olliej: file a bug

[20:18:04.0000] <Hixie>
either on them or on me :-)

[20:18:05.0000] <olliej>
Hixie: on moz or the spec

[20:18:06.0000] <olliej>
hehe

[20:18:07.0000] <Hixie>
i don't really care either way

[20:18:08.0000] <olliej>
which mailing list are workers discussed on?

[20:18:09.0000] <Hixie>
whatwg or public-webapps

[20:35:00.0000] <olliej>
Hixie: emailed

[20:35:01.0000] <olliej>
Hixie: honestly not sure what the best approach is, so i've just asked for other people to comment

[20:46:00.0000] <Hixie>
k

[20:47:00.0000] <wahnfrieden>
html5 will never happen.

[20:47:01.0000] <wahnfrieden>
IE6 will always be the lowest common denominator

[20:48:00.0000] <olliej>
wahnfrieden: i saw one stat that said firefox has more marketshare than ie6 now

[20:48:01.0000] <olliej>
wahnfrieden: and ie is the only browser with shrinking marketshare

[20:49:00.0000] <Hixie>
html4 will never happen either

[20:49:01.0000] <Hixie>
IE2 will always be the lowest common denominator

[20:50:00.0000] <Hixie>
(also, lots of part of html5 can have shims written for them that work around their limitations in ie6)

[20:50:01.0000] <Hixie>
(that was part of the plan from the very start)

[20:51:00.0000] <wahnfrieden>
heh

[20:51:01.0000] <wahnfrieden>
i like operating only in a scholars world

[20:51:02.0000] <wahnfrieden>
i can utterly ignore IE 

[20:52:00.0000] <olliej>
i also ignore ie entirely

[21:38:00.0000] <Hixie>
dimich: i should probably make it clearer that "the script's encoding" doesn't necessarily mean the encoding of the actual script file

[21:38:01.0000] <Hixie>
dimich: i'll file a bug

[21:39:00.0000] <dimich>
Hixie: Yeah, that could be a good idea. I was thinking all along that the encoding used to decode the actual script is the same one but apparently not.

[22:18:00.0000] <Lachy>
I revised the description of the DOCTYPE http://dev.w3.org/html5/html-author/#doctype-declaration

[22:19:00.0000] <Lachy>
I've attempted to use a new interactive technique to illustrate the case insensitivity

[22:19:01.0000] <Lachy>
if you hover over the highlighted parts of the doctype where it discusses case sensitivity, it shows the alternative cases

[23:19:00.0000] <olliej>
yo dbaron 

[23:19:01.0000] <dbaron>
hi

[08:04:00.0000] <gsnedders>
/me wonders how a U+0010 got into his CV

[08:10:00.0000] <hsivonen>
/me is angry at Apple for glossy screens

[10:00:00.0000] <karlcow>
https://www.ohloh.net/p/html5lib

[10:01:00.0000] <karlcow>
$ 605,355  

[10:01:01.0000] <sayrer>
hmm

[10:01:02.0000] <sayrer>
http://blog.360.yahoo.com/blog-TBPekxc1dLNy5DOloPfzVvFIVOWMB0li?p=978

[10:03:00.0000] <Philip`>
"reducing its complexity" - that sounds incompatible with the idea of "don't break the web", because people rely on all the complexity

[10:04:00.0000] <annevk>
tags "javascript"

[10:04:01.0000] <sayrer>
I think it is difficult to dismiss it out of hand without seeing a proposal

[10:04:02.0000] <annevk>
I think that's exactly why it's easy to dismiss it out of hand

[10:05:00.0000] <Philip`>
It's easy to dismiss it until such a time as a more concrete proposal exists, and then it would be bad to dismiss it out of hand

[10:05:01.0000] <sayrer>
should be interesting

[10:05:02.0000] <annevk>
he has done a proposal before actually

[10:05:03.0000] <Philip`>
Based on the lack of any other information, I'd assume it's based on the ideas in http://www.crockford.com/html/

[10:06:00.0000] <annevk>
that's the one

[10:06:01.0000] <sayrer>
he was comparing it to ES3.1

[10:06:02.0000] <sayrer>
which is mostly compatible

[10:06:03.0000] <sayrer>
unlike that html proposal of his

[10:07:00.0000] <sayrer>
although some have called ES3.1 a "nothing burger"

[10:07:01.0000] <sayrer>
:)

[10:07:02.0000] <gsnedders>
Compatibility? Peh! We should just use an XML parser for text/html!

[10:07:03.0000] <Philip`>
Does ES3.1 attempt "to simplify, streamline, and generalize, increasing the system's expressive power while reducing its complexity"?

[10:07:04.0000] <Philip`>
(I have no idea what ES3.1 does, so it's not a rhetorical question :-) )

[10:09:00.0000] <Philip`>
I'd assume a nothing burger is a bun, and buns are often nice by themselves

[10:09:01.0000] <sayrer>
I don't think it reduced complexity much

[10:09:02.0000] <Dashiva>
I haven't been following the list lately, but last I can recall es3.1 was "the parts of es4 that we like"

[10:09:03.0000] <sayrer>
but it did add some good features

[10:10:00.0000] <Philip`>
Dashiva: Is that a different "we" to the people who presumably liked things enough to put them in ES4?

[10:10:01.0000] <sayrer>
the ideas were basically the same

[10:10:02.0000] <Dashiva>
Yeah. The main point was supposed to be that it both adds and changes, it's not a strict fix-only rev.

[10:10:03.0000] <sayrer>
yeah

[10:10:04.0000] <sayrer>
also it breaks

[10:11:00.0000] <sayrer>
for instance it adds window.JSON

[10:11:01.0000] <annevk>
and still doesn't define e.g. Date parsing :/

[10:11:02.0000] <gsnedders>
Peh! Why do you want to parse dates?

[10:11:03.0000] <sayrer>
it added ISO8061 style dates

[10:11:04.0000] <Dashiva>
It's also a bit hard to apply es semantics to html development. In the es case, they rely on e.g. computer science research on static analysis of certain structures

[10:12:00.0000] <sayrer>
not really

[10:12:01.0000] <Dashiva>
In HTML, research usually means going it alone

[10:12:02.0000] <Dashiva>
And isn't that what we want to avoid in the first place?

[10:13:00.0000] <annevk>
anyway, i don't really follow his analogy

[10:13:01.0000] <annevk>
compared to es4 HTML5 is actually being implemented and parts that aren't will be removed

[10:16:00.0000] <sayrer>
well, if Microsoft shows up next to him, things get interesting

[10:16:01.0000] <Philip`>
Maybe part of the difference is that JS already lets you write programs that do anything you want, so new versions can just slowly make it nicer to do certain things, whereas HTML is fundamentally incapable of almost everything and so the most useful thing you can do is add features, and if you don't add features then people won't be happy

[10:17:00.0000] <sayrer>
that's not a very good description of ES3.1, actually

[10:17:01.0000] <sayrer>
it adds a bunch of introspection capabilities that were previously only available to the VMs themselves

[10:19:00.0000] <annevk>
it'll only ever get interesting if it gets further than rethoric

[10:21:00.0000] <Dashiva>
I wonder how close his 4.2 vision is to sayrer's thing. What's it called again?

[10:21:01.0000] <Philip`>
As far as I'm aware (which isn't far) you could still kind of hack things together using explicit functions to make scripts with similar functionality in pre-ES3.1 - it's different to e.g. <canvas> or offline web applications which let you do things that are fundamentally impossible with HTML4

[10:21:02.0000] <sayrer>
Philip`, one example would be that you define properties on Objects that don't appear in for...in loops

[10:22:00.0000] <sayrer>
you can define

[10:22:01.0000] <Philip`>
You can hack things together with hasOwnProperty to make scripts that work like that

[10:22:02.0000] <Philip`>
It's not very elegant but people seem to put up with it

[10:23:00.0000] <sayrer>
I don't think you can emulate that

[10:23:01.0000] <Dashiva>
And you could do canvas with positioned divs, one per pixel...

[10:23:02.0000] <sayrer>
especially if you want to write library code, e.g. adding stuff to an array

[10:23:03.0000] <sayrer>
and not break your users' for...in loops

[10:25:00.0000] <Philip`>
Dashiva: Well, you could if you're writing a 16x16 version of Wolfenstein 3D, but anything more practical is impossible

[10:25:01.0000] <Philip`>
so there's some implicit requirement on practicality in my use of "fundamentally impossible"

[10:25:02.0000] <Philip`>
which probably invalidates my argument, but oh well

[10:26:00.0000] <Dashiva>
Part of it. Some of the new stuff is 100% sugar, of course.

[10:27:00.0000] <Philip`>
sayrer: Hmm, the libraries could just provide standalone functions instead of trying to add themselves to Object and then I guess it'd be emulating the functionality (though not the syntax)

[10:29:00.0000] <sayrer>
it's interesting to me that lots of people say HTML5 should be smaller, but then go into toxic shock when someone proposing making something smaller

[10:30:00.0000] <sayrer>
I wonder if crockford's proposal will be smaller than mine

[10:30:01.0000] <Philip`>
/me doesn't care how big HTML5 is since he is happy to just ignore most of it

[10:31:00.0000] <sayrer>
I got to the same place, actually :)

[10:32:00.0000] <Philip`>
I suppose I'm indirectly affected by it spreading the resources of browser developers more widely, but that's a long-term issue and I don't care about the long-term because it's less fun than looking at what works today

[10:33:00.0000] <Dashiva>
<sayrer> it's interesting to me that lots of people say HTML5 should be smaller, but then go into toxic shock when someone proposing making something smaller

[10:33:01.0000] <Dashiva>
I don't understand the last part

[10:33:02.0000] <gsnedders>
/me passes Dashiva a copy of English5

[10:33:03.0000] <Philip`>
s/proposing/proposes/ ?

[10:33:04.0000] <sayrer>
yeah, bit of a typo there, sorry

[10:34:00.0000] <Dashiva>
Aha. I was wondering if the last part of the sentence was missing.

[10:34:01.0000] <sayrer>
implementation defined

[11:11:00.0000] <ehird>
http://blog.360.yahoo.com/blog-TBPekxc1dLNy5DOloPfzVvFIVOWMB0li?p=978 <‚Äî *yawn*

[11:11:01.0000] <jcranmer>
ehird: you mean

[11:11:02.0000] <jcranmer>
13:06 < sayrer> http://blog.360.yahoo.com/blog-TBPekxc1dLNy5DOloPfzVvFIVOWMB0li?p=978

[11:11:03.0000] <ehird>
i am not yet telepathic into the past :-)

[11:15:00.0000] <Philip`>
ehird: I find http://krijnhoetmer.nl/irc-logs/whatwg/ less stressful than telepathy

[11:16:00.0000] <ehird>
Philip`: i can never load logs from there, I keep getting 499 telepathy not possible :(

[11:16:01.0000] <Philip`>
Then again, trying to read all the IRC logs for this channel is quite likely to drive you crazy

[12:55:00.0000] <gsnedders>
This whole writing a CV thing sucks.

[12:55:01.0000] <eighty4>
:)

[12:55:02.0000] <eighty4>
I know how it feels

[13:07:00.0000] <gsnedders>
Hmmm‚Ä¶

[13:08:00.0000] <gsnedders>
What can I say about participation in WHATWG?

[13:08:01.0000] <eighty4>
that you do?

[13:08:02.0000] <gsnedders>
/me slaps eighty4 around a lill'

[13:09:00.0000] <eighty4>
I'm still not sure what whatwg is

[13:09:01.0000] <gsnedders>
/me points at the topic

[13:09:02.0000] <gsnedders>
/me points at the FAQ

[13:09:03.0000] <gsnedders>
/me still wants to rename that section to "What's WHAT?"

[13:11:00.0000] <eighty4>
oh. That would involve reading

[13:11:01.0000] <eighty4>
I'll do it when I need to know what whatwg is :)

[13:18:00.0000] <gsnedders>
/me pokes Philip` 

[13:19:00.0000] <Philip`>
Ouch

[13:19:01.0000] <gsnedders>
Philip`: Is "automatable" in the OED?

[13:20:00.0000] <gsnedders>
Sorry, you're the first person I can think of with access to it :P

[13:23:00.0000] <Philip`>
It's not explicitly listed as far as I can see, but I didn't think the OED ever listed that kind of word form

[13:24:00.0000] <gsnedders>
Philip`: How about automate?

[13:25:00.0000] <Philip`>
Automate is in there

[13:25:01.0000] <Philip`>
(twice)

[13:25:02.0000] <gsnedders>
Philip`: Of what etymology? Latin?

[13:26:00.0000] <gsnedders>
Actually, French I'll guess?

[13:26:01.0000] <gsnedders>
/me stops questioning Philip` 

[13:28:00.0000] <Philip`>
[Back-formation f. next or f. AUTOMATION; cf. AUTOMATE n. and a.]

[13:28:01.0000] <gsnedders>
k, thx

[13:29:00.0000] <gsnedders>
Thus it should be fine to use -able

[13:30:00.0000] <Philip`>
It'd be fine to use it in any case - the language police aren't going to arrest you for making up a new word

[13:30:01.0000] <gsnedders>
/me is listening to And The Mouse Police Never Sleeps by Jethro Tull from Heavy Horses

[13:31:00.0000] <olliej>
sicking: ping?

[13:32:00.0000] <olliej>
/me wishes he knew what importScripts is meant to be doing

[13:33:00.0000] <olliej>
yo sayrer 

[13:33:01.0000] <sayrer>
olliej yo

[13:33:02.0000] <olliej>
sayrer: i'm beginning to hate importScripts 

[13:34:00.0000] <sayrer>
what has it done?

[13:34:01.0000] <olliej>
sayrer: do you follow the whatwg mailing list?

[13:34:02.0000] <sayrer>
nope

[13:35:00.0000] <sayrer>
but I'll look at the importScripts traffic

[13:35:01.0000] <olliej>
sayrer: basically the spec says importScripts does one thing, mozilla does another 

[13:35:02.0000] <sayrer>
we have some time to fix it. did we do it on purpose?

[13:35:03.0000] <olliej>
sayrer: and both models make sense from certain points of view

[13:35:04.0000] <olliej>
sayrer: sicking filed a bug

[13:35:05.0000] <olliej>
and ben turner said it was deliberate

[13:36:00.0000] <olliej>
sayrer: so i have no idea wth i should be doing in webkit :D

[13:36:01.0000] <sayrer>
hmm, puzzling

[13:36:02.0000] <olliej>
sayrer: makes writing the test case even more fun

[13:37:00.0000] <sayrer>
could you use ours?

[13:37:01.0000] <olliej>
i'm 90% i can match your model exactly

[13:37:02.0000] <sayrer>
http://mxr.mozilla.org/mozilla-central/search?string=importScripts

[13:37:03.0000] <olliej>
sayrer: oh

[13:37:04.0000] <olliej>
your test cases?

[13:37:05.0000] <sayrer>
yeah, I thought that's what you meant

[13:38:00.0000] <sayrer>
http://mxr.mozilla.org/mozilla-central/source/dom/src/threads/test/Makefile.in#50

[13:39:00.0000] <sayrer>
did you see that browsertests.org page?

[13:39:01.0000] <sayrer>
we fail each other's tests, pretty much

[13:39:02.0000] <sayrer>
depressing!

[13:39:03.0000] <olliej>
sayrer: sadness

[13:40:00.0000] <sayrer>
though maybe a lot of them are superficial bugs

[13:40:01.0000] <sayrer>
like we had some failing because our emulation of your harness was printing differently

[13:40:02.0000] <olliej>
sayrer: i would hope so, but there are icky things in drt

[13:41:00.0000] <olliej>
(for most of the pure layout tests anyway)

[13:41:01.0000] <olliej>
sayrer: what's worrying is that there appear to be some tests that everyone fails O_o

[13:42:00.0000] <sayrer>
that made me laugh some

[13:42:01.0000] <sayrer>
we have some tests we only pass on mac, though

[13:43:00.0000] <olliej>
ditto

[13:44:00.0000] <sayrer>
bz's post reminded me we should stop trying so hard on function definitions at parse time

[13:44:01.0000] <sayrer>
hrmph

[13:44:02.0000] <sayrer>
so much to do

[13:45:00.0000] <sayrer>
can't say I have an opinion on this importScripts thing

[13:45:01.0000] <olliej>
:-/

[13:45:02.0000] <olliej>
oh well

[13:45:03.0000] <olliej>
i'm just implementing the current moz model

[13:45:04.0000] <sayrer>
would be interested to hear what the chrome guys want

[13:45:05.0000] <olliej>
i currently have #if 1 ... #else ... #endif

[13:45:06.0000] <olliej>
sayrer: why?

[13:45:07.0000] <sayrer>
just more opinions

[13:45:08.0000] <olliej>
sayrer: they will just get what i implement

[13:45:09.0000] <olliej>
ehhehe

[13:46:00.0000] <sayrer>
haha

[13:46:01.0000] <olliej>
v8 cannot run more than once per process -- they actually have to run workers in separate processes

[13:46:02.0000] <olliej>
which seems excessively heavy weight, but there you go

[13:47:00.0000] <olliej>
mean while jsc has to continue to support some of the most horrific threading semantics i have ever encountered

[13:47:01.0000] <olliej>
/me beats head on desk

[13:47:02.0000] <sayrer>
we've managed to get the worst of both worlds

[13:47:03.0000] <sayrer>
join the club

[13:48:00.0000] <olliej>
A single JSC context is not thread safe -- eg. you can't have too threads using the same js context concurrently

[13:48:01.0000] <olliej>
but you can have JS execution on a single context switch from thread to thread

[13:49:00.0000] <gsnedders>
olliej: So you basically have a lock on execution?

[13:49:01.0000] <olliej>
or thread A can execute js which can call a native function which then calls back into JS again

[13:49:02.0000] <olliej>
but calls back into JS on a different thread

[13:49:03.0000] <olliej>
gsnedders: that would be nice, but the above semantic results in that being pain

[13:51:00.0000] <olliej>
so much pain

[13:51:01.0000] <Philip`>
/me has a multithreaded application that embeds SpiderMonkey, and deals with threading issues mostly by sticking his head in the sand and hoping it's not going to break, which seems to be a fine strategy so far

[13:51:02.0000] <olliej>
in the pre-workers world i believe we did just do a global lock on entry to jsc

[13:51:03.0000] <gsnedders>
"You should worry 'bout the day/That the pain it goes away"

[13:51:04.0000] <sayrer>
spidermonkey is usually decent by the release

[13:51:05.0000] <olliej>
Philip`: mostly that works for jsc as well, it's just when people do insane things

[13:52:00.0000] <sayrer>
there are server embedders that stress it pretty hard

[13:52:01.0000] <sayrer>
Firefox doesn't really

[13:52:02.0000] <gsnedders>
olliej: But where's the fun in life without doing insane things? :D

[13:52:03.0000] <olliej>
sayrer: people keep telling me the TM has stability issues, but i really haven't seen any problems with it -- is it a platform specific issues or something?

[13:52:04.0000] <olliej>
gsnedders: oh we have plenty of insane clients

[13:52:05.0000] <sayrer>
we have more blockers than I would like

[13:53:00.0000] <Philip`>
I think I currently have two totally separate JSRuntimes that each run in separate threads and never communicate, so presumably it's avoiding pretty much all of the complicated synchronisation issues

[13:53:01.0000] <olliej>
sayrer: ick

[13:53:02.0000] <sayrer>
I never hit them in my daily browsing, though

[13:53:03.0000] <olliej>
sayrer: ah right

[13:53:04.0000] <sayrer>
we had quite a subtle, awful bug fixed two weeks ago

[13:53:05.0000] <olliej>
sayrer: so it's icky edge cases basically?

[13:53:06.0000] <sayrer>
yeah

[13:54:00.0000] <sayrer>
the tracing approach is somewhat prone to that, since it violates DRY to an extent

[13:54:01.0000] <olliej>
DRY?

[13:55:00.0000] <sayrer>
Don't Repeat Yourself

[13:55:01.0000] <olliej>
ah

[13:55:02.0000] <olliej>
:D

[13:55:03.0000] <olliej>
sayrer: but i bet you don't have some of the bugs we get -- we had one client that used a cache of common native object wrappers

[13:56:00.0000] <sayrer>
we have all sorts of insane stuff like that. in the browser, because we let extension use the JSAPI

[13:56:01.0000] <olliej>
sayrer: and it would lazily create these wrapper with logic that basically did: ctx=createContext(); object=createObject(ctx); deleteContext(ctx); store(object)

[13:56:02.0000] <olliej>
sayrer: ah ha

[13:57:00.0000] <olliej>
sayrer: i was not aware you directly exposed api like that

[13:57:01.0000] <gsnedders>
Peh! Who needs context!?

[13:57:02.0000] <gsnedders>
/me is useless

[14:54:00.0000] <olliej>
sayrer: hmmm, jonas said he'd file a bug, but i can't find it in b.m.o -- any idea what he may have filed it as?

[14:56:00.0000] <sayrer>
olliej,  don't see one

[14:56:01.0000] <olliej>
neither

[14:57:00.0000] <olliej>
/me just implements firefox behaviour for now


2009-03-08
[17:50:00.0000] <Hixie>
43% done; forms next (eek))

[21:00:00.0000] <olliej>
sicking: ping?

[23:12:00.0000] <Hixie>
sicking: if you load the same page in two tabs, and they both get different cookies, why can't the document.cookie change in the first page while the second is loading?

[06:34:00.0000] <gsnedders>
Why is there no @accesskey in HTML 5?


2009-03-09
[12:54:00.0000] <Lachy>
Hixie, yt?

[13:00:00.0000] <Lachy>
Hixie, if you allow some unescaped ampersands in URLs, that's going to make some complicated conformance requirements. To be useful for catching omitted semicolons, you would still have to make things like ?foo&copy=1&sect=2 non-conforming because they're entities

[13:25:00.0000] <Philip`>
Hixie: http://hixie.ch/bugzilla/enter_bug.cgi?product=hixie.ch says "Gone ... If you wish to report this problem (please do!) then you may <a href="http://hixie.ch/bugzilla/enter_bug.cgi?product=hixie.ch">report a bug using bugzilla</a>"

[13:28:00.0000] <gsnedders>
Well, report a bug, Philip`!

[13:28:01.0000] <gsnedders>
In Bugzilla, that is

[13:31:00.0000] <Philip`>
gsnedders: I've been doing that for the past half an hour, but then I realised I wasn't getting anywhere so I thought I'd try IRC too

[13:47:00.0000] <sicking>
Hixie, currently? Because cookie-changes happen on the same thread as JS execution

[13:47:01.0000] <sicking>
Hixie, until recent releases of chrome and IE8 that is

[14:31:00.0000] <sicking>
olliej, you pinged

[14:32:00.0000] <olliej>
sicking: i was going to harangue you about importscripts :D

[14:32:01.0000] <gsnedders>
Hixie: http://twitter.com/ringmaster/status/1302295097

[14:32:02.0000] <sicking>
olliej, harangue away

[14:32:03.0000] <sicking>
olliej, just saw your comment. I would not implement what we do

[14:33:00.0000] <sicking>
olliej, I don't think anyone has brought up an argument for doing the syntax checking part

[14:33:01.0000] <olliej>
sicking: that was the conclusion i had come to

[14:33:02.0000] <sicking>
olliej, cool. I'm gonna try to convince bent that what the spec says is the right thing to do :)

[14:37:00.0000] <olliej>
sicking: righto


2009-03-10
[18:05:00.0000] <Hixie>
I sure had a lot fewer meetings back when Google didn't know HTML5 was important.

[18:05:01.0000] <olliej>
Hixie: heheh

[18:09:00.0000] <gsnedders>
Hixie: Wait, they hired you to work on it before they knew it was important? :\

[18:11:00.0000] <MikeSmith>
Vic Gundotra's demos in Barcelona seemed to have caught quite a bit of attention

[18:11:01.0000] <gsnedders>
Who?

[18:12:00.0000] <gsnedders>
/me claims ignorance

[18:20:00.0000] <Hixie>
http://www.w3.org/mid/49B4D2B2.7010803‚äôin is fantastic

[18:20:01.0000] <Hixie>
the summary in particular

[18:21:00.0000] <Hixie>
that afternoon, they decided that something that would only happen by mistake should be an error, then they decided -- separately! -- to actually update the spec to reflect the previous decision.

[18:21:01.0000] <Hixie>
then they discussed what to discuss next time they discussed things

[18:22:00.0000] <Hixie>
then they reviewed a process for reviewing things

[18:22:01.0000] <gsnedders>
"that afternoon" doesn't appear in that link

[18:22:02.0000] <Hixie>
and then they decided to publish a document

[18:22:03.0000] <Hixie>
"PM" means afternoon

[18:23:00.0000] <gsnedders>
Oh, was that your summary of her summary?

[18:23:01.0000] <Hixie>
yes

[18:23:02.0000] <Hixie>
i wonder if they had a process for reviewing the process for reviewing the review process that they used to review the review process.

[18:24:00.0000] <Hixie>
or if they just winged it

[18:24:01.0000] <gsnedders>
/me thinks Hixie has just proved his craziness by finding this funny

[18:25:00.0000] <gsnedders>
Slightly mad, yes; funny, not really.

[18:25:01.0000] <Hixie>
what did i find funny?

[18:26:00.0000] <gsnedders>
Oh, I thought you meant it was funny by saying it was fantastic

[18:29:00.0000] <roc>
MikeSmith: of what do you speak?

[18:29:01.0000] <Hixie>
gsnedders: funny is the wrong word really

[18:30:00.0000] <gsnedders>
Hixie: I mean it is certainly s/ic/ai/, but without that change you end up debating what you mean by it :P

[18:30:01.0000] <MikeSmith>
roc: some videos on youtube

[18:30:02.0000] <MikeSmith>
Vic did a keynote that the Mobility World Congress event last month

[18:31:00.0000] <MikeSmith>
and another presentation too, I think

[18:31:01.0000] <MikeSmith>
in both of which he talked about HTML5 features

[18:32:00.0000] <MikeSmith>
demo'ed HTML5-enabled GMail on Palm Pre, and Google Maps on iPhone

[18:33:00.0000] <roc>
What's HTML5-enabled GMail?

[18:34:00.0000] <gsnedders>
"Discussed fallback color and syntax, no consensus so fantasai will edit and collect complaints later." is nice too

[18:39:00.0000] <Hixie>
roc: uses the database and appcache features to have real offline mode without using gears

[18:39:01.0000] <roc>
oh really?

[18:39:02.0000] <roc>
cool

[18:39:03.0000] <Hixie>
(falls back to gears for android, iirc, sadly; but true html5 offline on iphone)

[18:40:00.0000] <Hixie>
hopefully this will actually ship one day and stop being just vic's favourite demo :-)

[18:40:01.0000] <roc>
do you happen to know if it uses SQLite's full-text search for searching the email store?

[18:41:00.0000] <Hixie>
not off-hand, but i do know that was one of the features the gmail team was asking the gears team for a few years back

[18:41:01.0000] <roc>
there's a thread about the database situation on mozilla.dev.platform

[18:41:02.0000] <MikeSmith>
roc: http://www.readwriteweb.com/archives/google_goes_html5_demoes_expermental_gmail.php

[18:41:03.0000] <Hixie>
yeah, i've been watching it

[18:41:04.0000] <Hixie>
afk, food

[18:42:00.0000] <gsnedders>
wow. Hixie away from keyboard. that's impressive.

[18:42:01.0000] <roc>
we want client-side SQL of some kind, but we don't want SQLite to be the standard for the Web forever more :-(

[18:43:00.0000] <gsnedders>
How about SQL '92? :P

[18:52:00.0000] <gsnedders>
Hmm‚Ä¶ http://gsnedders.com/about-the-author is blocked by google safe-search

[20:28:00.0000] <sicking>
Hixie, ping

[20:35:00.0000] <olliej>
yo sicking

[20:36:00.0000] <sicking>
olliej, word to your mother

[20:37:00.0000] <olliej>
sicking: just tidying up my importScripts patch

[20:37:01.0000] <olliej>
am matching the spec behaviour

[20:37:02.0000] <sicking>
olliej, cool, sounds like bent was ok with doing that too. Hope we'll be able to do that before ff3.1 is out

[20:38:00.0000] <olliej>
sicking: it's not dramatically different for our code in webkit

[20:38:01.0000] <olliej>
sicking: just one for-loop instead of 2

[20:39:00.0000] <olliej>
sicking: although my initial pass is doing sequential loading

[20:39:01.0000] <olliej>
rather than doing it in parallel

[20:39:02.0000] <olliej>
which is suckful, but makes the aptch simpler

[20:43:00.0000] <sicking>
olliej, cool

[20:43:01.0000] <sicking>
olliej, though i definitely think you'll want to do parallel loading, makes a big difference in general

[20:43:02.0000] <olliej>
sicking: yeah

[20:43:03.0000] <olliej>
sicking: but that will make reviewing harder :D

[20:44:00.0000] <sicking>
olliej, i think we'll end up doing parallel compilation as well, the code already does that

[21:08:00.0000] <Hixie>
sicking: here

[21:08:01.0000] <sicking>
Hixie, doh, just on my way out

[21:08:02.0000] <Hixie>
me too

[21:08:03.0000] <sicking>
Hixie, but i think i'm making progress

[21:08:04.0000] <sicking>
Hixie, trying to figure out which places there is feedback from parser to tokenizer

[21:09:00.0000] <sicking>
Hixie, and found something that looks like a bug in the spec

[21:09:01.0000] <Hixie>
oh, cool

[21:09:02.0000] <Hixie>
do tell

[21:09:03.0000] <sicking>
Hixie, hmm.. maybe not

[21:10:00.0000] <Hixie>
you are toying with my emotions here :-P

[21:10:01.0000] <sicking>
Hixie, textareas switch the parser into CDATA/RCDATA

[21:10:02.0000] <Hixie>
right

[21:10:03.0000] <sicking>
Hixie, but that mode doesn't have special handling for </textarea>

[21:10:04.0000] <sicking>
seems like it would treat </foobar> the same as </textarea>

[21:10:05.0000] <Hixie>
the tokeniser knows the last start tag it saw

[21:10:06.0000] <sicking>
ah, that's what i was wondering

[21:10:07.0000] <sicking>
ok

[21:11:00.0000] <Hixie>
see the first paragraph of 8.2.4.4 Close tag open state

[21:11:01.0000] <Hixie>
Referenced in:

[21:11:02.0000] <Hixie>
* Full table of contents * 8.2.4.3 Tag open state (2)

[21:11:03.0000] <Hixie>
er

[21:11:04.0000] <Hixie>
ignore the overpaste there

[21:11:05.0000] <Hixie>
8.2.4.4, anyway

[21:11:06.0000] <sicking>
yeah, i keep getting those too :)

[21:11:07.0000] <sicking>
is there a way to turn off scripting when loading the spec?

[21:11:08.0000] <Hixie>
"and the next few characters do not match the tag name of the last start tag token emitted"

[21:11:09.0000] <Hixie>
?slow-browser will turn off all the scripts

[21:11:10.0000] <sicking>
cool

[21:12:00.0000] <Hixie>
i'm going to have some better ui that can toggle things on and off soon

[21:12:01.0000] <Hixie>
once i'm done with this author dom intro stuff

[21:12:02.0000] <sicking>
cool

[21:12:03.0000] <Hixie>
anyway, i'm outta here, should be back online briefly later tonight

[21:12:04.0000] <sicking>
cool

[22:51:00.0000] <MikeSmith>
http://hg.mozilla.org/mozilla-central/rev/ca2d45349d89fdf50e52b93e666365a059053341

[22:51:01.0000] <MikeSmith>
/me looks around for roc

[22:51:02.0000] <MikeSmith>
"Enable SVG Animation (SMIL) support in builds by default."

[22:51:03.0000] <MikeSmith>
wondering if that is for dev builds only, or if that affects 3.5 also

[22:55:00.0000] <kinetik>
MikeSmith: dev only, 3.5 is/will be based off of the existing mozilla-1.9.1 branch

[22:56:00.0000] <MikeSmith>
kinetik: thanks

[22:57:00.0000] <MikeSmith>
guess there's not much that can be done with it anyway until the actual animation support gets implemented on top of that

[22:57:01.0000] <MikeSmith>
still, cool to see that it's compiled in by default now

[23:05:00.0000] <jwalden>
compiled in but not enabled

[23:06:00.0000] <jwalden>
gotta flip a hidden pref for now

[23:08:00.0000] <MikeSmith>
jwalden: oh

[23:08:01.0000] <MikeSmith>
guess that makes sense

[23:09:00.0000] <MikeSmith>
animations going to be very handy to have in combination with the existing filters support

[23:11:00.0000] <jwalden>
/me is too no-nonsense, down-to-earth to care much about animations

[00:12:00.0000] <MikeSmith>
jwalden: I'm too lacking in chops to be able to do anything much with the animation stuff myself. just glad it'll eventually be there to those with animation chops/clue to use

[00:25:00.0000] <annevk5>
http://www.maximumpc.com/files/u69/IE8_Fail_0.png

[03:25:00.0000] <olliej>
sicking: ping?

[03:37:00.0000] <jgraham>
"An implementation of ECMAScript is expected to determine the daylight saving time algorithm" Not only is that insane, it doesn't even mean what they want it to mean

[05:53:00.0000] <hsivonen>
hmm. the spec looks really weird in an HTML5-parsing-enabled build

[05:54:00.0000] <hsivonen>
I'm seeing traces of the weirdness in WebKit trunk, so perhaps it's not all my fault

[05:59:00.0000] <zcorpan>
hsivonen: what's weird?

[06:01:00.0000] <hsivonen>
zcorpan: there's a huge gray horizontal rectange at the top and bottom in Gecko+HTML5 parser and at the bottom in WebKit trunk

[06:03:00.0000] <hsivonen>
hmm. same problem on trunk without HTML5 parser

[06:03:01.0000] <hsivonen>
not my fault, then

[06:08:00.0000] <zcorpan>
at the bottom is intentional i think

[06:18:00.0000] <Lachy>
hsivonen, zcorpan, Hixie added the bottom margin for the reason mentioned here: http://krijnhoetmer.nl/irc-logs/whatwg/20090226#l-192

[06:19:00.0000] <hsivonen>
ok. the bottom margin makes sense

[06:19:01.0000] <hsivonen>
which makes me wonder if I get two bodies then

[06:20:00.0000] <hsivonen>
unfortunately, firebug thinks its incompatible with tryserver builds

[06:27:00.0000] <Lachy>
hsivonen, get the Nightly Tester Tools addon and override the plugin compatibility check

[06:27:01.0000] <Lachy>
I have firebug running in the latest trunk just fine

[06:32:00.0000] <hsivonen>
Lachy: thanks

[08:34:00.0000] <Lachy>
in the HTML5 Reference, should I use something like "hybrid document" instead of "polyglot document"?

[08:35:00.0000] <jgraham>
hybrid is kind of wrong

[08:36:00.0000] <Lachy>
jgraham, how so?

[08:36:01.0000] <Lachy>
I'm just trying to find a more common and easily understood term that can be used instead of jargon like polyglot.

[08:37:00.0000] <jgraham>
Because hybrid suggests that it is two different things joined together whereas it is actually more like one thing that happens to be parsable in two differnent ways

[08:37:01.0000] <Philip`>
Call it an Appendix C document

[08:38:00.0000] <zcorpan>
/me likes polyglot

[08:38:01.0000] <zcorpan>
Philip`: Appendix C is nowadays Appendix A

[08:38:02.0000] <Philip`>
/me doesn't like polyglot

[08:38:03.0000] <Philip`>
(because it sounds silly)

[08:38:04.0000] <gsnedders>
/me agrees that it sounds illy

[08:38:05.0000] <Philip`>
(and it's unlikely that many people will know what it means)

[08:39:00.0000] <jgraham>
pollyglot is indeed lly

[08:39:01.0000] <gsnedders>
Peh! They should read more books by Russian authors!

[08:39:02.0000] <Philip`>
(and it's easily confused with e.g. a document containing multiple human languages)

[08:39:03.0000] <Philip`>
jgraham: lly?

[08:39:04.0000] <Philip`>
Oh

[08:39:05.0000] <Philip`>
/me missed the joke

[08:41:00.0000] <Lachy>
the only other alternative I have to consider is "mixed document", but I didn't like that as much as hybrid

[08:41:01.0000] <Philip`>
Could you call it a "combined HTML/XHTML document"? (assuming you don't refer to it often enough for that to be too ugly)

[08:41:02.0000] <jgraham>
Lachy: Does "(X)HTML document" not work?

[08:42:00.0000] <jgraham>
or X/HTML or something

[08:42:01.0000] <Philip`>
jgraham: No, since that means "HTML or XHTML"

[08:42:02.0000] <Lachy>
I wanted it to be different enough from both "HTML document" and "XHTML document"

[08:42:03.0000] <gsnedders>
What are you trying to refer to anyway?

[08:42:04.0000] <jgraham>
(X&HT)ML

[08:42:05.0000] <gsnedders>
A document that is both HTML and XHTML?

[08:42:06.0000] <Lachy>
gsnedders, polyglot documents

[08:42:07.0000] <gsnedders>
Lachy: But what the hell do you mean by that!

[08:42:08.0000] <Philip`>
You could avoid the problem by not referring to them :-)

[08:43:00.0000] <jgraham>
gsnedders: Documents that will parse in both HTML and XML parsers

[08:43:01.0000] <Lachy>
a document that conforms to both HTML and XHTML syntaxes

[08:43:02.0000] <gsnedders>
All right.

[08:43:03.0000] <Philip`>
Should it parse to the same DOM?

[08:43:04.0000] <Philip`>
(or at least close enough)

[08:43:05.0000] <jgraham>
I don't know if they have to produce the same infoset

[08:43:06.0000] <jgraham>
(or whatever the right technical term is)

[08:43:07.0000] <gsnedders>
Philip`: Well, if you're using ElementTree, I hope not

[08:43:08.0000] <Lachy>
Philip`, it will be close enough. It's not possible for it to be exactly the same DOM due to the way namespaces are handled

[08:44:00.0000] <Philip`>
like would "<pre>\nfoo</pre>" or "<textarea>\nfoo</textarea>" be allowed in a polyglot document, despite being parsed and rendered differently?

[08:44:01.0000] <zcorpan>
Philip`: we need conformance requirements for polyglot documents

[08:44:02.0000] <Lachy>
Philip`, it would be technically conforming, but it would need to be documented as a compatibility issue

[08:46:00.0000] <gsnedders>
What does "floramors" mean?

[08:48:00.0000] <Philip`>
gsnedders: It means whatever the author wanted it to mean

[08:49:00.0000] <gsnedders>
/me blames Nabokov for dying in 1977

[08:49:01.0000] <jgraham>
But only if the author was Lewis Carroll

[08:49:02.0000] <gsnedders>
jgraham: What if the author was V. Nabokov?

[08:49:03.0000] <Philip`>
Presumably it's a reference to http://www.wikia.com/dofus/Floramor_Root

[08:50:00.0000] <Lachy>
Philip`, I suppose issues like that are the type of things that could be checked by a (X)HTML lint, much like there were some partial Appendix C checkers I remember seeing.

[08:50:01.0000] <gsnedders>
"One clause in the Rules of the Club seemed to indicate that Eric, though frenziedly heterosexual, had enjoyed some tender ersatz fumblings with schoolmates at Note (a notorious preparatory school in that respect): at least two of the maximum number of inmates in the major floramors might be pretty boys"

[08:50:02.0000] <Lachy>
though, I don't recall where exactly, and I didn't see too many of htem

[08:50:03.0000] <Lachy>
*them

[08:50:04.0000] <gsnedders>
Lachy: It's Appendix A now! Get with it!

[08:50:05.0000] <Lachy>
gsnedders, in what spec?

[08:51:00.0000] <gsnedders>
Lachy: XHTML Media Types

[08:51:01.0000] <gsnedders>
(Second Edition)

[08:51:02.0000] <Lachy>
oh

[08:52:00.0000] <Philip`>
"The little chap saw it as a kind of fashionable club, with branches, or, in his poetical phrase, "Floramors," in the vicinity of cities and spas."

[08:52:01.0000] <Philip`>
(http://www.ada.auckland.ac.nz/ada23.htm)

[08:52:02.0000] <gsnedders>
What is it with Nabokov and this word I cannot find a definition of!?

[08:53:00.0000] <Philip`>
/me presumes that sentence is the definition

[08:53:01.0000] <gsnedders>
It is sorta

[08:53:02.0000] <gsnedders>
/me reads more context, and then it makes sense

[09:01:00.0000] <Philip`>
gsnedders: You're not meant to actually *read* books to make them make sense

[09:02:00.0000] <Lachy>
the person who volunteered to help redesign the HTML 5 Reference just got back to me with a few small changes. These element summaries look better now. http://dev.w3.org/html5/html-author/#the-html-element

[09:03:00.0000] <jgraham>
Philip`: Why read when you can ask on IRC?

[09:38:00.0000] <MikeSmith>
http://ajaxian.com/archives/de-crocking-html5

[09:38:01.0000] <gsnedders>
MikeSmith: 404

[09:38:02.0000] <MikeSmith>
yeah, I know

[09:38:03.0000] <MikeSmith>
intriguing title

[09:38:04.0000] <gsnedders>
Then why the link? :\

[09:39:00.0000] <gsnedders>
http://ajaxian.com/archives/MikeSmith-is-awesome is an intriguing title which gives the same result

[09:39:01.0000] <MikeSmith>
well, that MikeSmith one is not actually linked to from teh Ajaxian home page

[09:39:02.0000] <MikeSmith>
unlike the De-Crocking HTML5 one

[09:40:00.0000] <MikeSmith>
btw, a more likely title at Ajaxian wuld be  http://ajaxian.com/archives/MikeSmith-is-a-jaggoff

[09:41:00.0000] <MikeSmith>
which wouldn't be totally inaccurate

[09:41:01.0000] <Lachy>
what's a jaggoff?

[09:41:02.0000] <Lachy>
Is that a cleaner version of a more common insult?

[09:42:00.0000] <MikeSmith>
Lachy: I don't know what it means. I heard it on the school bus on the way to school

[09:42:01.0000] <Philip`>
Maybe the non-existent blog post is referring to http://blog.360.yahoo.com/blog-TBPekxc1dLNy5DOloPfzVvFIVOWMB0li?p=978 (which is the worst URL ever, and also the server seems to be not responding)?

[09:43:00.0000] <Lachy>
are you sure they said jaggoff, and not jack off?

[09:44:00.0000] <MikeSmith>
Lachy: yeah, I'm sure. They spelled it out for me. while punching me in the face and taking my milk money

[09:44:01.0000] <Philip`>
Perhaps they were talking about Jacobites

[09:44:02.0000] <MikeSmith>
or Maccabees

[09:45:00.0000] <MikeSmith>
Philip`: that might be the link if it were "Crocking HTML5".. but why "De-Crocking"?

[09:46:00.0000] <Philip`>
MikeSmith: I presume it to be some kind of pun, based on the idea of making it less of a crock

[09:47:00.0000] <MikeSmith>
by the way, if you put a quote from Doug into a presentation or e-mail message or whatever, that's called "Dropping some Crock"

[09:47:01.0000] <MikeSmith>
which you can modify with stuff like "classic Crock"

[09:48:00.0000] <MikeSmith>
e.g., "I dropped some classic Crock into that presentation for extra audience appeal"

[09:48:01.0000] <Lachy>
I never had anyone steal my milk money. Sure they beat me up, but never stole from me afterwards

[09:49:00.0000] <Dashiva>
We didn't have milk money. Parents paid per semester.

[09:49:01.0000] <MikeSmith>
Lachy: you mean you never got punked either? on the way to school?

[09:49:02.0000] <Philip`>
/me wants to see Fraggle Crock

[09:49:03.0000] <MikeSmith>
Crock got some great quotes

[09:49:04.0000] <MikeSmith>
he knows how to put words together in memorable ways

[09:50:00.0000] <Philip`>
Like Einstein

[09:53:00.0000] <MikeSmith>
OK, I think I will make use of the remaining hours of the morning to sleep

[10:32:00.0000] <gsnedders>
Awesome. I got email saying UCAS track has changed (of course not saying how) and the website is down

[10:34:00.0000] <jgraham>
What is a UCAS track? Is it like a music track? Can you shuffle them or put them on repeat?

[10:35:00.0000] <Philip`>
Is it like a Mario Kart track?

[10:40:00.0000] <gsnedders>
weeee!

[10:40:01.0000] <gsnedders>
So I've got rejected for everywhere except Edinburgh and York :P

[10:44:00.0000] <jgraham>
That doesn't sound like a Mario Kart track. They usually tell me things like "you suck at mario kart". I guess it could be some kind of dance music track in which gsnedders' UCAS offers are read out over a funk-eh beat

[10:47:00.0000] <kig_>
United Canadian Air Service

[10:50:00.0000] <jgraham>
gsnedders: BTW both edinburgh and york are excellent unis

[10:50:01.0000] <jgraham>
afaik

[10:50:02.0000] <jgraham>
In particular I know a lot of super-bright people who went to edinburgh

[10:52:00.0000] <gsnedders>
jgraham: Edi. has the issue of around half my school going there, which means I'd rather fail at getting away from some people

[10:52:01.0000] <gsnedders>
jgraham: And York didn't impress me anywhere near so much in terms of comp.sci.

[10:54:00.0000] <jgraham>
gsnedders: The people thing is likely to be less of a problem than you think, unless it is really a large number of people and you are doing similar courses

[10:54:01.0000] <gsnedders>
jgraham: On the open day last month I saw two people from the year above

[10:55:00.0000] <jgraham>
gsnedders: Doing the same sourse?

[10:55:01.0000] <jgraham>
*course

[10:55:02.0000] <gsnedders>
jgraham: No, but bear in mind that courses in Scotland tend to be far broader ‚Äî especially in the first two years

[10:55:03.0000] <gsnedders>
jgraham: One of them was doing engineering, and doing the first year physics courses‚Ä¶

[10:56:00.0000] <Philip`>
/me wonders if it ends up being like the college system in Cambridge where you're exposed to a few hundred random people and partly isolated from everyone else, or if it's much more mixed up

[10:57:00.0000] <gsnedders>
Philip`: Much more mixed up

[10:57:01.0000] <jgraham>
gsnedders: There were about five people from my sixth form in my year at Cambridge. Two were doing the same course as me. I saw one of them sometimes

[10:58:00.0000] <jgraham>
(the other dropped out quite early)

[10:58:01.0000] <jgraham>
(none were at the same college)

[10:59:00.0000] <Philip`>
I think about a dozen people from my school/year went to Cambridge, and I saw one of them in Sainsbury's once, and I think I might have seen another on the other side of a road

[11:01:00.0000] <jgraham>
I saw one of the others (if there were indeed two others, there may only have been one) in Saiinsburies once. We chatted as we went round the supermarket, he got to the end, decided that the queues were too long, dumped his basket in the middle of an isle and left

[11:02:00.0000] <Philip`>
(There was an isle? Was the shop flooded?)

[11:04:00.0000] <jgraham>
:p

[11:22:00.0000] <jgraham>
http://stephencelis.com/2009/03/09/yahoo-for-the-future.html

[11:22:01.0000] <jgraham>
Seems to possibly be the blog post

[13:30:00.0000] <Hixie>
it would be useful if people would review http://dev.w3.org/2006/webapi/progress/Progress.html

[13:31:00.0000] <gsnedders>
/me looks briefly then screams at self: "DO NOT PROCRASTINATE."

[13:31:01.0000] <Hixie>
in particular with respect to conformance criteria

[13:31:02.0000] <Hixie>
other spec writers in particular would probably benefit from reviewing it

[13:32:00.0000] <Hixie>
(anne, lachy, zcorpan, heycam, ...)

[13:34:00.0000] <Lachy>
Hixie, ok

[13:36:00.0000] <Lachy>
I will do it later

[13:37:00.0000] <gsnedders>
jgraham: You said you wanted to be able to use distutils for anolis a while back. I wantz email.

[13:48:00.0000] <Philip`>
http://weblog.infoworld.com/enterprisedesktop/archives/2009/03/is_version_8_th.html - unsubstantiated rumours are great

[13:49:00.0000] <Philip`>
I suppose the people "insisting" that Microsoft is going to drop the IE engine and switch to Gazelle have failed to notice that Gazelle is a hacked-up version of IE7's rendering engine

[14:09:00.0000] <gsnedders>
uh, Hixie, you aware there's been no emails on commit-watchers for a while?

[14:12:00.0000] <Philip`>
gsnedders: There haven't been any commits for a while

[14:12:01.0000] <gsnedders>
/me wonders what has happened to Hixie 

[14:14:00.0000] <Philip`>
Maybe he's got fed up with HTML 5 and decided to spend the rest of his life working on something more useful

[14:15:00.0000] <gsnedders>
http://stuff.gsnedders.com/w3c.refer

[14:18:00.0000] <roc>
/me discovers he has to schedule all meetings according to US Pacific time to prevent daylight savings time changes introducing conflicts

[15:31:00.0000] <Hixie>
47%

[15:31:01.0000] <Hixie>
man this is tedious

[15:31:02.0000] <Hixie>
i sure hope that people appreciate this when i'm done! :-P

[15:37:00.0000] <Philip`>
Hixie: Why not commit the work-in-progress so people can review it and give feedback as to whether it's appreciable?

[15:40:00.0000] <Lachy>
Hixie, what exactly are you doing?

[15:40:01.0000] <Hixie>
Philip`: you can see the work in progress on the whatwg site

[15:41:00.0000] <Hixie>
Lachy: the "spec views" thing

[15:41:01.0000] <Hixie>
if you use firefox or opera, you can toggle the alternative style sheet to see the work so far

[15:41:02.0000] <Hixie>
i'll have some sort of ui for it in due course

[15:42:00.0000] <Philip`>
Hixie: But I wouldn't want to bother reading through the whole spec trying to guess which bits are new, since I'm lazy - I imagine it'd be easier with diffs to look at

[15:42:01.0000] <Hixie>
all the new bits are highlighted in green

[15:42:02.0000] <Philip`>
(but even if there were diffs, I'd still be too lazy to look at it, I suppose)

[15:42:03.0000] <Hixie>
so it's actually pretty obvious

[15:43:00.0000] <Hixie>
also there's an alternative style sheet that marks in red all the bits i took out for the author version

[15:43:01.0000] <Philip`>
I'm still too lazy to even look at the spec

[15:43:02.0000] <Hixie>
most of the diff is:

[15:43:03.0000] <Hixie>
+ <div class="impl">

[15:43:04.0000] <Hixie>
...

[15:43:05.0000] <Hixie>
+ </div>

[15:43:06.0000] <Philip`>
If you committed the changes then I'd be forced to read the commit email because otherwise it would taunt me continually with its unreadness

[15:44:00.0000] <Hixie>
the diff is up to 17000 lines

[15:44:01.0000] <Hixie>
so good luck with that

[15:44:02.0000] <Philip`>
You should have done it in small batches :-)

[15:45:00.0000] <Hixie>
i don't think the diff would be a useful way to review this change

[15:45:01.0000] <annevk>
anyone following public-css-testsuite?

[15:45:02.0000] <Hixie>
better to set the style sheet to "author only" and see if it works

[15:45:03.0000] <Philip`>
But I don't want to review it, I just want to complain

[15:45:04.0000] <Hixie>
oh well then i definitely shouldn't check it in :-P

[15:49:00.0000] <gsnedders>
Hixie: You shouldn't check anything in around Philip` :P

[15:51:00.0000] <Hixie>
51%!

[15:58:00.0000] <Lachy>
Hixie, so are you just going through the whole specification and adding class=impl to all the implementation requiremetns?

[15:58:01.0000] <Lachy>
*requirements

[16:00:00.0000] <Lachy>
Hixie, if you're not checking it in, how are we able see the changes in the spec that we're seeing?

[16:00:01.0000] <Lachy>
without looking at the /working-copy

[16:01:00.0000] <Hixie>
i keep regenning the spec

[16:02:00.0000] <Hixie>
everything above the huge yellow-black dotted line is done

[16:02:01.0000] <annevk>
/me finds http://technews.am/conversations/ajaxian/de_crocking_html5

[16:02:02.0000] <Hixie>
everything below it is not

[16:02:03.0000] <Lachy>
ok, so is it only the whatwg copy that's being updated, not the W3C copy?

[16:02:04.0000] <fakeolliej>
annevk: is your presentation going to be anywhere online?

[16:03:00.0000] <Lachy>
/me finds the big yellow line just above "4.10.4 The input element"

[16:03:01.0000] <Hixie>
annevk: seems to be about http://stephencelis.com/2009/03/09/yahoo-for-the-future.html

[16:03:02.0000] <annevk>
olliej, yeah, likely, not too much new things though

[16:05:00.0000] <Lachy>
Hixie, those class="domintro" sections look useful. I'm going to steal those for the HTML5 Reference

[16:06:00.0000] <annevk>
thanks Hixie

[16:06:01.0000] <Lachy>
but it's going to be hard to get a script to extract them and work out which section they need to be inserted in the reference

[16:07:00.0000] <annevk>
http://cwilso.com/2009/03/10/sam-ruby/ fwiw (no real news)

[16:08:00.0000] <Hixie>
Lachy: yeah

[16:08:01.0000] <Hixie>
Lachy: my biggest problem is going to be trying to work out how to do link fixup when the impl bits are hidden

[16:09:00.0000] <Lachy>
http://tech.slashdot.org/article.pl?sid=09/03/10/1942232&from=rss

[16:09:01.0000] <Lachy>
That's going to suck if there's any truth to that rumour

[16:11:00.0000] <roc>
suck? why?

[16:12:00.0000] <Lachy>
well, actually, reading the article instead of just the slashdot summary, it may not suck so much. But if they adopt webkit, then that will reduce the competition in the market

[16:12:01.0000] <roc>
having both HTML WG co-chairs work for Microsoft, who have shown no interest in most of HTML5, just seems bizarre

[16:12:02.0000] <Philip`>
The comment there about Gazelle seems to be based on completely failing to understand what Gazelle is

[16:13:00.0000] <Lachy>
but if they adopt the new Gazelle rendering engine that the article talks about, then it keeps the competition, but it gives web developers a whole new browser engine and set of bugs to contend with

[16:13:01.0000] <Philip`>
There isn't a new Gazelle rendering engine

[16:13:02.0000] <roc>
Gazelle doesn't have a new rendering engine

[16:13:03.0000] <olliej>
Lachy: i doubt they'd adopt webkit, we actually like standards

[16:13:04.0000] <roc>
Gazelle uses Trident

[16:13:05.0000] <olliej>
/me hides from any ms folk around

[16:14:00.0000] <Philip`>
It claims to use IE7 in particular

[16:14:01.0000] <roc>
it's possible they could write a new rendering engine in C# or something and use it in Gazelle

[16:14:02.0000] <Philip`>
(presumably modified a bit)

[16:14:03.0000] <Lachy>
roc, the article seems to indicate that Gazelle is a new engine. Not just a new browser that uses trident

[16:15:00.0000] <roc>
it's wrong

[16:15:01.0000] <Lachy>
but I don't know anything about it. I haven't heard of it before.

[16:15:02.0000] <Philip`>
Lachy: That's because the person who wrote the article doesn't know what they're talking about :-)

[16:15:03.0000] <Lachy>
Philip`, that's likely :-)

[16:15:04.0000] <Hixie>
the odds of microsoft dropping trident after spending all the effort on IE8 seem remote to me

[16:15:05.0000] <Philip`>
Lachy: http://research.microsoft.com/apps/pubs/default.aspx?id=79655

[16:15:06.0000] <Philip`>
Lachy: though the abstract seems pretty rubbish because I didn't understand it at all when I read it

[16:16:00.0000] <Philip`>
Lachy: but the actual content makes more sense

[16:17:00.0000] <roc>
Microsoft dropping Trident for Gecko or Webkit would make a lot of sense, but it's very hard to imagine

[16:17:01.0000] <Philip`>
"Instead of undertaking a significant effort of writing our own HTML parser, renderer, and JavaScript engine, we borrow these components from Internet Explorer 7 in a way that does not compromise security. Relying on IE‚Äôs Trident renderer has a big benefit of inheriting IE‚Äôs page rendering compatibility and performance."

[16:18:00.0000] <roc>
except they go on to trash compatibility and performance

[16:18:01.0000] <Philip`>
Well, sure, but that's better than not even starting with compatibility and performance :-)

[16:19:00.0000] <Philip`>
and it only takes an extra 15MB of memory and 0.5 seconds to load the Google front page

[16:19:01.0000] <Philip`>
and computers are getting faster every day!

[16:22:00.0000] <Philip`>
Hmm, they make it sound like most of that performance loss is just due to an inefficient prototype implementation

[16:22:01.0000] <Philip`>
so it wouldn't be so much of a problem in a real implementation

[16:23:00.0000] <Lachy>
If Microsoft do anything with the architecture of IE, even if they hypothetically did replace the rendering engine, then I really doubt they would drop the Internet Explorer brand. So I think that slashdot summary is completly wrong in every way

[16:24:00.0000] <Philip`>
/me is shocked

[16:25:00.0000] <Lachy>
indeed. I'm sure this is the first time in history that a slashdot summary has ever been wrong.

[16:25:01.0000] <annevk>
heycam, note that if <script> does CDATA parsing CDATA sections will no longer be recognized

[16:25:02.0000] <annevk>
heycam, unless you create something weird such as CDATAorCDATASection parsing

[16:27:00.0000] <gsnedders>
Hixie: You got anything against me using a WHATWG wiki page for Anolis biblio?

[16:27:01.0000] <Hixie>
no go ahead

[16:28:00.0000] <Lachy>
annevk, if we did, authors would just need to use the same technique they do to make <script> compatible with both HTML and XHTML by using commented CDATA sections. <script>//<![CDATA[ ... //]]></script>

[16:29:00.0000] <Lachy>
but then that prevents simply copying and pasting exsisting SVG images without modification into HTML

[16:29:01.0000] <Lachy>
if they contain scripts with cdata sections

[16:30:00.0000] <heycam>
annevk, right, i don't think making <svg:script> do CDATA parsing is the right solution

[16:30:01.0000] <Lachy>
I would prefer it if we did it so that they had consistent parsing

[16:31:00.0000] <Lachy>
I'm not a big fan of introducing such XML-like parsing rules into HTML

[16:31:01.0000] <Lachy>
and so they had consistent rules for authors

[16:31:02.0000] <heycam>
i kinda of like having CDATA parsing being made explicit

[16:32:00.0000] <heycam>
means i don't have to remember which elements have CDATA content models and which don't

[16:32:01.0000] <Lachy>
sure, but now you have to remember that <script> has CDATA parsing when in HTML, but not when it's in an SVG fragment. I think that is harder than just remembering that <script> is always CDATA

[16:33:00.0000] <heycam>
perhaps :)

[16:34:00.0000] <heycam>
most SVG content uses "<![CDATA[" without it being prefixed with "//"

[16:35:00.0000] <Lachy>
heycam, I know. that's why I said it would prevent copying and pasting SVG from existing tools without modification

[16:35:01.0000] <heycam>
unless we special case <![CDATA[ within an element defined to be CDATA

[16:36:00.0000] <heycam>
which is what sicking was suggesting, i think

[16:36:01.0000] <Lachy>
that might work

[16:36:02.0000] <Lachy>
much like <!-- is

[16:36:03.0000] <heycam>
/me wonders out loud whether there is much content that uses CDATA sections in other elements (<style>, <text>, ...)

[16:36:04.0000] <Lachy>
I doubt it

[16:36:05.0000] <heycam>
i don't think we can make <svg:script> in SVG/XML be CDATA

[16:37:00.0000] <heycam>
without a DTD

[16:37:01.0000] <Lachy>
heycam, no, it has to be #PCDATA

[16:37:02.0000] <Lachy>
in XML

[16:37:03.0000] <Lachy>
using a DTD is not an option

[16:37:04.0000] <heycam>
right, i wouldn't want to reintroduce a DTD

[16:37:05.0000] <heycam>
(or require it to be specified for things to work properly)

[16:38:00.0000] <heycam>
but having <svg:script> parse differently in XML and HTML isn't ideal

[16:38:01.0000] <Lachy>
if we do make <script> CDATA, then there would be issues with any scripts that use character references instead of a CDATA section

[16:38:02.0000] <heycam>
yep

[16:39:00.0000] <Lachy>
but I'm not sure how many scripts do that. I suspect most would use CDATA cause it's easier

[16:39:01.0000] <heycam>
i contend that there aren't many of those

[16:39:02.0000] <heycam>
with no proof

[16:39:03.0000] <Lachy>
yep

[16:39:04.0000] <Lachy>
I mean, most would use <![CDATA[ sections

[16:39:05.0000] <heycam>
yeah

[16:40:00.0000] <heycam>
or at least would leave it out if the authors knows it's not using any characters that need escaping

[16:40:01.0000] <Lachy>
sure

[16:40:02.0000] <heycam>
i have actually written some content like <script>for (i = 0; i &lt; 10; ...</script>

[16:40:03.0000] <heycam>
just because i knew the script was short, and it was quicker to type the &lt; than to go back and insert the CDATA section markers

[16:41:00.0000] <Lachy>
I don't think it would be a problem to ignore compatibility with those, since there's an easy fix for authors

[16:41:01.0000] <Lachy>
and it's presumably a rarity anyway. Though, it would be nice to have evidence on that

[16:41:02.0000] <heycam>
yeah.  i'm on the fence about how much compatibility is needed with existing scripts, since they'll likely need to change in some way anyway, given that the SVG fragment is now in the middle of an HTML document.

[16:42:00.0000] <heycam>
so why not just have them change those other syntactic differences at the same time

[16:43:00.0000] <Lachy>
it depends what the scripts are used for, and whether it matters for most scripts if <svg> is the root or not

[16:44:00.0000] <Lachy>
it might affect scripts that do document.getElemetnsByTagName("..."); and they get all the elements from multiple SVG images within the document, instead of just the one image

[16:44:01.0000] <heycam>
sure.  some scripts can be "position independent".

[16:45:00.0000] <Hixie>
you can animate the script src? really?

[16:45:01.0000] <Hixie>
wow

[16:45:02.0000] <Hixie>
how does that even work

[16:45:03.0000] <heycam>
that you can is an oversight

[16:45:04.0000] <heycam>
because the xlink:href attribute is defined in a single place, and defined to be animatable

[16:45:05.0000] <heycam>
(in SVG 1.1)

[16:45:06.0000] <Lachy>
and if you're including multiple SVG images, you need to deal with issues like clashing id attributes

[16:45:07.0000] <heycam>
iirc in 1.2T it's explicitly non-animatable

[16:45:08.0000] <heycam>
(but 1.2T doesn't include those parts of the SVG DOM, the SVGAnimatedBlah interfaces)

[16:46:00.0000] <Lachy>
actually, clashing IDs can occur any time you embed documents within another

[16:47:00.0000] <Philip`>
Can I smoothly interpolate the script src from /scripts/001.js to /scripts/099.js ?

[16:47:01.0000] <heycam>
:)

[16:47:02.0000] <heycam>
(but no, string-typed attributes in SVG don't interpolate)

[16:48:00.0000] <Philip`>
(Oh, that's no fun)

[16:56:00.0000] <Lachy>
"* The SVG WG is of the opinion that the contents of the SVG 'title' element should be RCDATA, and therefore would prefer that the HTML5 parsing algorithm not require conforming parsers to break out of foreign content mode and parse the element's content as HTML."

[16:57:00.0000] <Lachy>
I'm a little confused by that because the HTML <title> element is RCDATA, whereas the <title> in SVG as XML would be PCDATA

[16:57:01.0000] <Lachy>
so isn't that what we get by parsing it according to the HTML rules anyway?

[16:59:00.0000] <heycam>
i think the reasoning behind the comment was that we don't need HTML elements inside <title>

[16:59:01.0000] <heycam>
/me imagines <svg><title><p>blah blah</p><svg>...</svg></title></svg>


2009-03-11
[17:00:00.0000] <heycam>
for <desc> i think it's fine, since that's meant to be like a long description of the content, so including HTML in there would be handy

[17:00:01.0000] <heycam>
even if it doesn't actually render or do anything

[17:00:02.0000] <Hixie>
/me never understood what <desc> and <title> were really for

[17:00:03.0000] <Hixie>
/me has a sneaking suspicion they're a (successful) way to shut accessibility people up

[17:01:00.0000] <heycam>
i don't think that's the intention of them, though i wasn't there at the start of course

[17:01:01.0000] <heycam>
i mean, i think having <title> (or <desc>) annotated elements could help with ATs navigating around a diagram

[17:02:00.0000] <heycam>
Hixie, i see your point around <title> being an element sort of implying that the intention is to allow <bdo> or other i18n things that you can't get in attributes

[17:03:00.0000] <heycam>
maybe <title> could allow HTML but have conformance requirements so that it doesn't include crazy stuff like the above /me'd example

[17:03:01.0000] <Hixie>
i would be really impressed if i ever saw a blind or text mode user actually successfully navigating an svg file using <title> or <desc>

[17:03:02.0000] <heycam>
in fact i don't know if any ATs actually support SVG at all, i'd be interested to know

[17:04:00.0000] <heycam>
/me wonders why AT vendors don't participate in HTML and SVG WGs

[17:05:00.0000] <Hixie>
i've approached several of them trying to get them involved in html5

[17:05:01.0000] <Hixie>
unsuccessfully

[17:06:00.0000] <heycam>
i wonder if there is some level of self-interest in not getting better?  if all of the ATs are mediocre (which is my impression; correct me if i'm wrong) then maybe they are happy staying at that level.

[17:06:01.0000] <Hixie>
it is sad that in their absence their position is instead argued for them by... other people

[17:07:00.0000] <heycam>
it'd be great if a major org (like google) could put resources into one of the open source ones

[17:07:01.0000] <heycam>
(orca, is it?)

[17:07:02.0000] <Hixie>
the firevox guy works for google

[17:07:03.0000] <Philip`>
Might it be more an issue of limited resources (due to limited market)?

[17:07:04.0000] <heycam>
Philip`, could be.  AT software is expensive though.

[17:08:00.0000] <Hixie>
i don't understand why AT software hasn't improved much over the years

[17:08:01.0000] <Hixie>
i'm also confused as to why most accessibility advocates seem to defend accessibility software

[17:08:02.0000] <heycam>
it seems unfortunate to be speccing various accessibility related stuff that may not get implemented for many years in ATs (or at all)

[17:09:00.0000] <Hixie>
yeah, well, that's one reason i want to drop the more useless stuff, so that AT vendors don't waste their time on that and instead focus on the big bang for the buck features

[17:09:01.0000] <heycam>
do the AT vendors participate in the WAI groups?

[17:10:00.0000] <tantek>
Hixie, the defending may be coming from thinking something is better than nothing.

[17:11:00.0000] <Hixie>
you'd think they'd be campaigning for quality

[17:11:01.0000] <Hixie>
rather than being thankful for dirt

[17:11:02.0000] <Hixie>
as it were

[17:11:03.0000] <Hixie>
but maybe you're right

[17:47:00.0000] <Hixie>
52%

[17:47:01.0000] <Hixie>
just did <input>

[17:48:00.0000] <Hixie>
i wonder how many dangling links are going to be left in the author version

[17:48:01.0000] <Hixie>
i bet i've used terms in the author prose whose definitions i've hidden

[17:50:00.0000] <Hixie>
i wish people wouldn't cross-post to lists that bounce non-subscriber e-mails

[17:50:01.0000] <Philip`>
You mean like the WHATWG list?

[17:58:00.0000] <Hixie>
Philip`: yeah, specifically people cross-posting to public-html and whatwg

[17:58:01.0000] <Hixie>
Philip`: it results in fragmented threads when people who are only in one group reply

[17:59:00.0000] <Philip`>
/me has often noticed Hixie cross-posting to public-html and whatwg

[17:59:01.0000] <Hixie>
recently?

[17:59:02.0000] <Hixie>
if i do, i usually do so because the feedback threads were cross-posted, and i ask people not to do this when replying

[18:02:00.0000] <Philip`>
Maybe not recently

[22:09:00.0000] <jwalden>
/me gets the impression, from reading a few <time> posts, that if there is a problem html5 should address, rdfa will be proposed as the solution to it

[01:19:00.0000] <Lachy>
apparently polyglot documents can now come in HTML, XHTML and Haiku :-) http://xkcd.com/554/

[01:35:00.0000] <Lachy>
re the <time> thread, it seems the use cases for imprecise dates (YYYY or YYYY-MM) seem reasonable and warrant further investigation into the problems being solved.

[01:35:01.0000] <Lachy>
but as far as historical dates and alternative calendars are concerned, that just seems like massive scope creep

[02:17:00.0000] <annevk>
Hixie, how do you calculate the percentage? number of lines?

[02:25:00.0000] <Lachy>
Hixie, "My thinking when I made <title> switch to the HTML mode was that this was necessary for supporting <ruby>" -- http://lists.w3.org/Archives/Public/public-html/2009Mar/0219.html

[02:26:00.0000] <Lachy>
Am I missing something, cause AFAIK, <ruby> is not supported with HTML <title> either, since it's parsed as RCDATA

[03:01:00.0000] <hsivonen>
Do WebKit and Gears have any kind of abstraction layer between Web authors and SQLite?

[03:02:00.0000] <hsivonen>
/me is reading http://groups.google.com/group/mozilla.dev.platform/browse_thread/thread/49aa555219df43ae/a34f54cb5db3db70#msg_a54d77a22ec606ca

[03:06:00.0000] <jgraham>
hsivonen: Good luck with that (OK so it's not you doing it but‚Ä¶). If Mozilla turns out to be much more strict than Webkit it seems pretty likely to have problems with sites that mainly care about the iPhone

[03:10:00.0000] <annevk>
I agree we need Web SQL

[03:11:00.0000] <annevk>
I think there is some layer between authors and SQLite (e.g. to prevent COMMIT), but I'm not sure about the details

[03:11:01.0000] <jgraham>
annevk: Yeah totally but Webkit has both the important deployment platform (iPhone) and the first mover advantage to effectively define what WebSQL is

[03:12:00.0000] <roc>
I don't think the iPhone is the only important platform here

[03:13:00.0000] <jgraham>
roc: OK, iPhone and Android :)

[03:13:01.0000] <roc>
I don't think phones are the most important platform here eitehr

[03:14:00.0000] <jgraham>
Really? I imagine Google doing their Gmail thing (which seems like the killer app) to make it run on those platforms and others basically having to be compatible with whatever Google did

[03:15:00.0000] <roc>
we'll see

[03:15:01.0000] <annevk>
is the platform you're thinking about the desktop roc?

[03:15:02.0000] <roc>
I think a lot of people would like and use offline support in their desktop/laptop/netbook browser too

[03:16:00.0000] <roc>
it may be true that Webkit has locked the Web into (some version of) SQLite already

[03:16:01.0000] <roc>
that would be sad

[03:17:00.0000] <jgraham>
roc: You particularly dislike SQLite or?

[03:17:01.0000] <roc>
it seems unwise to tie the Web to one randomly-chosen engine and SQL dialect

[03:18:00.0000] <roc>
SQLite happens to be the only major SQL engine that lets you stick values of any type in columns declared as other types

[03:18:01.0000] <roc>
for instance

[03:18:02.0000] <jgraham>
Oh, well most things about the web are unwise and usually unfortunate. It seems to work pretty well for all that

[03:18:03.0000] <roc>
"The Web sucks, doesn't matter if we make it suck more" does not make me happy

[03:19:00.0000] <annevk>
Is there any other option?

[03:19:01.0000] <roc>
what option?

[03:19:02.0000] <annevk>
short of inventing a new SQL language and requiring everyone to implement their own database

[03:19:03.0000] <roc>
it's not obviously too late to try the Web SQL approach

[03:20:00.0000] <roc>
it seems worth trying

[03:20:01.0000] <roc>
I hope we'll try it ASAP

[03:20:02.0000] <annevk>
oh, yeah, though it seems it will pretty much have to be compatible with SQLite for ease of impl

[03:21:00.0000] <roc>
that may be OK

[03:26:00.0000] <hsivonen>
are there live demos of Ubiquity XForms on the Web? I already googled.

[03:27:00.0000] <hsivonen>
if WebKit exposes SQLite without a query sanitization layer, it seems scary even from a security POV of exposing something intended for trusted developers to untrusted code

[03:27:01.0000] <annevk>
/me finds https://bugzilla.mozilla.org/show_bug.cgi?id=414102 throught that thread

[03:27:02.0000] <annevk>
/me sighs

[03:28:00.0000] <annevk>
I guess it was naive to assume that SQL was a relatively constrained problem space

[03:29:00.0000] <hsivonen>
/me finds http://ubiquity-xforms.googlecode.com/svn/branches/new_samples/samples/

[03:29:01.0000] <annevk>
I sure hope we're not going to require stemming algorithms and the like for implementing full text search... I mean, doing it just for English is relatively easy (depending on how far you go), but once you go beyond that...

[03:31:00.0000] <roc>
yeah, that sucks

[03:31:01.0000] <roc>
I built a nice i18n-capable text indexing system once that was based on 4-grams

[03:32:00.0000] <annevk>
hsivonen, loading just input-color.html takes ages and a lot of HTTP requests...

[03:32:01.0000] <roc>
woah, someone's even been maintaining it

[03:32:02.0000] <roc>
http://linux.die.net/man/8/squatter

[03:38:00.0000] <jgraham>
roc: My feeling about SQLite is that, for all it gets complained about, it is used an awful lot in actual quality products

[03:38:01.0000] <jgraham>
So it is not obviously the worst possible thing 

[03:39:00.0000] <annevk>
it's public domain

[03:39:01.0000] <roc>
it's not the worst possible thing, sure

[03:39:02.0000] <jgraham>
annevk: I doubt that is the reason it is used in e.g. Lightroom

[03:39:03.0000] <roc>
we already ship it in Firefox so exposing it to the Web is fairly low resistance

[03:41:00.0000] <roc>
but taking some arbitrary version of SQLite and saying, without really analyzing it, "hey let's make this the database API for the Web for all time" seems irresponsible

[03:43:00.0000] <jgraham>
roc: It seems to me that, at best, having any significantly different outcome will require us to move rather fast at this point

[03:44:00.0000] <jgraham>
Otherwise it will end up like every other part of the web platform

[03:44:01.0000] <jgraham>
i.e. dictated by the behaviour of an early version of IE or Netscape

[03:44:02.0000] <jgraham>
(or, in this case, Webkit)

[03:44:03.0000] <roc>
indeed

[03:49:00.0000] <annevk>
might be worth studying http://www.datatables.net/ if we are to revive <datagrid> one day

[03:51:00.0000] <jgraham>
http://blog.mozbox.org/post/2009/03/10/video-tag-and-subtitles

[03:54:00.0000] <roc>
yeah that titles hack is cool

[03:54:01.0000] <roc>
although the execution of arbitrary script from the .srt files in the context of the page is not cool

[03:56:00.0000] <jgraham>
roc: Indeed. But it lends weight to the idea that people want subtitle-like things with embedded HTML

[03:57:00.0000] <roc>
people want all kinds of flashy crazy stuff that doesn't make a lot of sense :-)

[08:02:00.0000] <Lachy>
with the ElementTree API in python, how do I check the node type of a node to make sure it's an Element and not a comment?

[08:04:00.0000] <Lachy>
the reason I need that is that I'm using html5lib's parseFragment to parse in a source file, and this returns an array of elements and comments.  I then need the script to ignore the comments and process the elements

[08:05:00.0000] <jgraham>
you could use isinstance(node, etree.Element)

[08:06:00.0000] <Lachy>
in what package is the isinstance method defined?

[08:07:00.0000] <Dashiva>
/me figured ElementTree would only have Elements

[08:07:01.0000] <Philip`>
/me discovers (too late) that upgrading one's LaTeX installation while simultaneously writing a paper in LaTeX is probably a bad idea

[08:07:02.0000] <Dashiva>
isinstance is a builtin

[08:07:03.0000] <jmb>
Philip`: hell yes :)

[08:08:00.0000] <Lachy>
Dashiva, it does, but it treats comments as a special type of element, and so it makes the etree.iselement() method useless is this case.

[08:08:01.0000] <Lachy>
    if (isinstance(node, etree.Element)):

[08:08:02.0000] <Lachy>
TypeError: isinstance() arg 2 must be a class, type, or tuple of classes and types

[08:08:03.0000] <Philip`>
(particularly when this is Gentoo, and so it spends a long time compiling code and regenerating font files and everything)

[08:09:00.0000] <karlcow>
Lachy: xml.etree.ElementTree.iselement(element)

[08:09:01.0000] <Lachy>
karlcow, see my comment above to Dashiva

[08:09:02.0000] <karlcow>
ah just read ;)

[08:09:03.0000] <Dashiva>
Lachy: Well, do all comments have the same tagname? E.g. #comment

[08:10:00.0000] <jgraham>
Lachy: Ah I forgot Element is a constructor

[08:10:01.0000] <Lachy>
all the comments look like <!-- The foo Element -->

[08:10:02.0000] <jgraham>
You use node.tag == etree.Comment

[08:10:03.0000] <jgraham>
/me remembers doing this now

[08:10:04.0000] <jgraham>
I admit that is not quite obvious

[08:11:00.0000] <Philip`>
Lachy: Use re.replace('<!--.*?-->', '', markup) before passing it to the parser, and then you know they're not comments

[08:11:01.0000] <jgraham>
Philip`: Just because you did something stupid with LaTeX doesn't mean that you shouldn't play nice with the other children

[08:12:00.0000] <Lachy>
jgraham, that worked.

[08:12:01.0000] <Lachy>
(except I used != instead of ==)

[08:12:02.0000] <karlcow>
Philip`: huh?

[08:13:00.0000] <Lachy>
now I'm trying to use the element.find() method, but the documentation is really poor. http://effbot.org/zone/pythondoc-elementtree-ElementTree.htm#elementtree.ElementTree.ElementTree.find-method

[08:13:01.0000] <jgraham>
(you could also use not isinstance(node, etree._Comment) but that seems more like a hack

[08:13:02.0000] <jgraham>
Lachy: What do you want to do?

[08:13:03.0000] <jgraham>
in lxml you should just use .xpath instead for almost everything

[08:13:04.0000] <Lachy>
oops, I linked to the wrong one...

[08:14:00.0000] <Lachy>
http://effbot.org/zone/pythondoc-elementtree-ElementTree.htm#elementtree.ElementTree._ElementInterface.find-method

[08:14:01.0000] <jgraham>
(iirc .find is like .xpath but with less features)

[08:14:02.0000] <Lachy>
it doesn't define what syntax the path needs to use though

[08:15:00.0000] <jgraham>
Lachy: Originally it only searched children

[08:15:01.0000] <jgraham>
So it would just be .find(tagname)

[08:15:02.0000] <jgraham>
iirc

[08:15:03.0000] <jgraham>
Now I think you can do desendants too

[08:15:04.0000] <karlcow>
jgraham: did you look at lxml for writing html5lib http://codespeak.net/lxml/

[08:16:00.0000] <Lachy>
How do I do descendants, because node.find("code") doesn't work, because the <code> elements I'm looking for aren't children of the node

[08:16:01.0000] <karlcow>
Lachy: the find use a classical path

[08:17:00.0000] <jgraham>
Lachy http://effbot.org/zone/element-xpath.htm documents the syntax

[08:17:01.0000] <jgraham>
karlcow: I don't understand the question. html5lib can use lxml as the tree representation but it implements a parser

[08:17:02.0000] <karlcow>
Lachy do you want to find all descendants ?

[08:18:00.0000] <jgraham>
Lachy: By far the easiest thing to do is node.xpath("//code")

[08:18:01.0000] <jgraham>
.xpath accepts any xpath 1.0

[08:18:02.0000] <jgraham>
.find accepts some subset

[08:18:03.0000] <karlcow>
   for ph in content.findall(".//{http://www.w3.org/1999/xhtml}code"):  in XHTML ;)

[08:19:00.0000] <karlcow>
   for ph in content.findall(".//code"):  in HTML ;)

[08:19:01.0000] <jgraham>
/me mutters something about the XML tax

[08:19:02.0000] <karlcow>
hehe

[08:20:00.0000] <karlcow>
/me has no problem with it

[08:20:01.0000] <karlcow>
in my code I declare it at the start, and then I do not have to worry about it

[08:20:02.0000] <Philip`>
We should cut the XML tax by 2.5% and allow people to use the shorter namespace http://www.w3.org/1999/html to stimulate the XML economy

[08:21:00.0000] <jgraham>
Lachy: In general, if you don't care about compat. with non-lxml etree implementations then you should jsut use .xpath for pretty much all cases like this. It is blazing fast and well documented to the extent that xpath is well documented

[08:22:00.0000] <jgraham>
karlcow: Unless you don't know whether the document was parsed as XHTML or HTML up front

[08:23:00.0000] <karlcow>
jgraham: what do you mean? you know it if you parse it

[08:24:00.0000] <Lachy>
jgraham, does xpath return a single element or a list of elements?

[08:24:01.0000] <jgraham>
Lachy: a list

[08:24:02.0000] <Lachy>
good, that's what I need

[08:25:00.0000] <Lachy>
I need a list so I can deal with the way elements like h1 to h6 are defined together in the spec

[08:25:01.0000] <karlcow>
I wonder if Fredrik is in the process of porting to Python 3.0

[08:25:02.0000] <Lachy>
fwiw, this is the source document I'm working from http://dev.w3.org/html5/html-author/utils/elements.html (which is itself, generated from the spec using another script)

[08:25:03.0000] <karlcow>
because ElementTree 1.3 is in beta for a very long time

[08:26:00.0000] <Lachy>
anyway, the script I'm writing now is using the data in that to build the table of elements and their associated categories.

[08:27:00.0000] <karlcow>
Lachy: do you detect specific class or id?

[08:28:00.0000] <jgraham>
karlcow: You could have a system that accepts both XML and HTML and parses them both to etrees. But the differences between the two formats mean that you always need to keep a record of which format you parsed in and use the correct tag names for each case

[08:28:01.0000] <jgraham>
Python 3.0rc1+ (py3k, Oct 28 2008, 09:23:29).

[08:28:02.0000] <jgraham>
>>> from xml.etree import ElementTree

[08:28:03.0000] <jgraham>
>>>

[08:28:04.0000] <karlcow>
ah cool

[08:29:00.0000] <karlcow>
/me installed ElementTree 1.3 alpha locally http://effbot.org/zone/elementtree-13-intro.htm

[08:30:00.0000] <jgraham>
karlcow: Does 1.3 have parent pointers?

[08:31:00.0000] <karlcow>
hmm I don't know. I installed it, specifically for ET.register_namespace()

[08:32:00.0000] <karlcow>
but at first sight it doesn't seem

[08:38:00.0000] <Lachy>
karlcow, what class or id are you referring to?

[08:40:00.0000] <karlcow>
Lachy: I don't know. You said you were building a list, and I was wondering how you were scoping the right elements. In my code usually I subscope by id or class

[08:41:00.0000] <karlcow>
example

[08:41:01.0000] <karlcow>
   for ph in billet.findall(".//{http://www.w3.org/1999/xhtml}meta"):

[08:41:02.0000] <karlcow>
      if ph.attrib.has_key('name') and ph.attrib['name'] == 'keywords':

[08:41:03.0000] <karlcow>
         keywords = ph.attrib['content']

[08:41:04.0000] <karlcow>
         return keywords

[08:44:00.0000] <jgraham>
/me barely remembers that has_key exists

[08:44:01.0000] <jgraham>
'in' ftw

[08:45:00.0000] <gsnedders>
/me stretches

[08:47:00.0000] <gsnedders>
Is there any way to avoid having to prefix everything with {http://www.w3.org/1999/xhtml}?

[08:47:01.0000] <hsivonen>
gsnedders: but namespaces FTW!

[08:50:00.0000] <Lachy>
karlcow, no, I'm just relying on the fact that I know the structure of the markup

[08:52:00.0000] <Lachy>
wtf?! The result I'm getting is not making any sense at all

[08:52:01.0000] <jgraham>
gsnedders: Not sure. Maybe using the Namespace API somehow but I'm not sure

[08:52:02.0000] <Lachy>
node.xpath("//table//tr[1]//li") is returning li items that are not descendants of node!

[08:52:03.0000] <jgraham>
In case you didn't realise I'm not sure

[08:54:00.0000] <jgraham>
Lachy: try  node.xpath(".//table//tr[1]//li")

[08:54:01.0000] <Lachy>
ah, it works if I use a "." to match the current node. But it still makes no sense why it's searching the other nodes too node.xpath(".//table//tr[1]//li")

[08:54:02.0000] <jgraham>
/me is guessing

[08:55:00.0000] <jgraham>
Lachy: AIUI xpath treats // at the start of the expression as mean "search from the document root"

[08:55:01.0000] <gsnedders>
Lachy: It makes perfect sense!

[08:55:02.0000] <gsnedders>
Yeah

[08:55:03.0000] <Hixie>
my feeling that it's way too early doesn't bode well for tomorrow when i have to get up even earlier

[08:55:04.0000] <Lachy>
but I don't have a document node. I'm using html5lib's parseFragment which is returning a list of Element nodes

[08:56:00.0000] <jgraham>
Lachy: Guess again

[08:56:01.0000] <Lachy>
jgraham, no.

[08:56:02.0000] <jgraham>
lxml has no concept of a node without a document

[08:56:03.0000] <Lachy>
ah, well, that's just confusing

[08:56:04.0000] <jgraham>
I guess s/lxml/libxml2/ probably

[08:56:05.0000] <Lachy>
I really wish lxml had selectors api support so I didn't have to work with this xpath nonsense

[08:57:00.0000] <smedero>
http://codespeak.net/lxml/dev/cssselect.html

[08:57:01.0000] <jgraham>
smedero: I was going to say that 

[08:57:02.0000] <jgraham>
meanie

[08:57:03.0000] <jgraham>
;)

[08:57:04.0000] <smedero>
/me shuffles back to his cave

[08:58:00.0000] <jgraham>
Lachy: Bonus points if you get it to run the selectors api testsuite :)

[08:59:00.0000] <Lachy>
awesome

[09:00:00.0000] <Philip`>
Lachy: You should write you code in JS in a browser, rather than in Python

[09:04:00.0000] <Lachy>
Philip`, if I had a JavaScript engine avaialble with DOM support that would let me run javascripts from the command line and write to standard output, then I would

[09:09:00.0000] <jgraham>
http://www.croczilla.com/jssh

[09:09:01.0000] <jgraham>
It sounds like more effort than just writing the python though

[09:13:00.0000] <Lachy>
nice. I will look at that later

[09:19:00.0000] <karlcow>
gsnedders: you can create a variable for the namespace, so you can shorten the typing ;)

[09:26:00.0000] <smedero>
/me wonders when Hixie is planning on doing a check-in for the authoring stylesheet work... 

[09:27:00.0000] <Hixie>
when i reach the bottom :-)

[09:27:01.0000] <smedero>
(the multipage and w3c versions seem to be quite a bit out-of-sync with the whatwg single page... maybe it is no big deal.) 

[09:27:02.0000] <Hixie>
about 51% in so far, by line

[09:27:03.0000] <Philip`>
smedero: I assume it's when he's reached 110%

[09:27:04.0000] <Philip`>
Hixie: I hope you're going to annotate the acknowledgements section so it only lists people who have contributed to the author-relevant sections of the spec

[09:28:00.0000] <Hixie>
Philip`: i do intend to annotate the acknowledgements section though not along those lines

[09:29:00.0000] <jgraham>
Just personal insults about the contrbuters?

[09:29:01.0000] <Hixie>
nah

[09:29:02.0000] <Hixie>
just hiding one paragraph that makes no sense to the author section

[09:29:03.0000] <Philip`>
The $10,000 one?

[09:30:00.0000] <Philip`>
I'd prefer a version with insults

[09:30:01.0000] <Philip`>
as long as they're entertaining ones

[09:32:00.0000] <Lachy>
Philip`, use the annotation system to insert notes into the spec :-)

[09:32:01.0000] <Lachy>
s/notes/insults/

[09:34:00.0000] <Philip`>
Lachy: I can't, because I've set my browser to block access to the status script

[09:34:01.0000] <Lachy>
is that because it's slow?

[09:35:00.0000] <Lachy>
it no longer freezes Opera

[09:35:01.0000] <Philip`>
No, it's because it was slow

[10:22:00.0000] <sayrer_>
Lachy, if you build Firefox you get a thing called XPCShell

[10:22:01.0000] <sayrer_>
it has all the DOM stuff

[10:22:02.0000] <gavin>
you mean XPCOM stuff?

[10:22:03.0000] <gavin>
I guess that includes some DOM stuff

[10:23:00.0000] <sayrer_>
I think all the DOM works now

[10:23:01.0000] <sayrer_>
someone finally fixed it to work in there

[10:23:02.0000] <sayrer_>
Maybe some globals are missing

[10:23:03.0000] <gavin>
still accessed via xpcom though?

[10:24:00.0000] <sayrer_>
gavin, you have to use XPCOM to get a DOMParser, I think. But once you have that, I think it works right, with all the shortcuts.

[10:26:00.0000] <sayrer_>
oh wait, no it doesn't

[10:27:00.0000] <sayrer_>
cause my hack to let it do text/html isn't in the tree

[10:34:00.0000] <jcranmer>
hmm

[10:34:01.0000] <jcranmer>
on the /. article about MS possibly dumping Trident

[10:35:00.0000] <jcranmer>
I see several wildly different figures for non-IE market share

[10:35:01.0000] <Philip`>
jcranmer: How many of those figures have at least two decimal places in their percentages?

[10:35:02.0000] <jcranmer>


[10:35:03.0000] <jcranmer>
they're all to 1 significant figure

[10:36:00.0000] <sid0>
jcranmer: link? can't see it on /.

[10:36:01.0000] <jcranmer>
http://tech.slashdot.org/article.pl?sid=09/03/10/1942232

[10:36:02.0000] <sid0>
oh, heh, no wonder I didn't see it -- i removed kdawson from my authors list

[10:37:00.0000] <jcranmer>
FF has ~20% market share, Safari ~ 2-3%, IE ~ 70-75%, Others <1%, IIRC

[10:37:01.0000] <jcranmer>
I sure hope MS continues to develop its own engine for IE

[10:38:00.0000] <Philip`>
I think Safari people like to quote the numbers from http://marketshare.hitslink.com/browser-market-share.aspx?qprid=1 which says Safari is at 8%

[10:39:00.0000] <jcranmer>
I am recalling from early-to-mid 2008, so my Safari may be underrepresented

[10:39:01.0000] <Philip`>
That page says 6% in mid-2008

[10:40:00.0000] <jcranmer>
WP seems to be quoting 8% for Safari

[10:40:01.0000] <jcranmer>
based on Net Applications

[10:40:02.0000] <jcranmer>
oh, same site

[10:41:00.0000] <jcranmer>
most of the other sites show lower numbers for Safari

[10:41:01.0000] <Philip`>
On Canvex, with ~800 visitors in the past few weeks, I see 56% Firefox, 17% IE, 11% Safari, 7% Chrome, 6% Opera

[10:41:02.0000] <Philip`>
which I guess is not exactly following the typical distribution of users

[10:42:00.0000] <jcranmer>
market share is tricky business

[10:42:01.0000] <Philip`>
Defining markets is a tricky business

[10:43:00.0000] <gsnedders>
Philip`: 17% for IE is fun

[10:43:01.0000] <jcranmer>
the only thing I can say with certainty is my school's intranet statistics

[10:43:02.0000] <gsnedders>
Like, with IE's well-known support for canvas

[10:43:03.0000] <Philip`>
gsnedders: The game page is application/xhtml+xml, too

[10:43:04.0000] <Philip`>
(These stats are just for the front page)

[10:45:00.0000] <jcranmer>
53% IE 6, 13% IE 7+, 23% FF (~20% FF 3+), 5% Safari, ~2.5% Chrome, 0.3% Opera

[10:45:01.0000] <sayrer_>
numbers from a friend's architecture + design blog:

[10:45:02.0000] <sayrer_>
45.89% Firefox, 29.66% IE, 19.06% Safari, 2.94% Chrome, 1.19% Opera

[10:45:03.0000] <gsnedders>
Lies, damned lies and statistics!

[10:46:00.0000] <sayrer_>
US skewed, but pretty popular

[10:46:01.0000] <jcranmer>
the high FF 2.0.0.6 + IE 6 numbers comes from school computers

[10:46:02.0000] <gsnedders>
But while we're at it, numbers for SimplePie's website:

[10:46:03.0000] <gsnedders>
(over past 72 hours)

[10:47:00.0000] <gsnedders>
67% Firefox, 16% Safari, 12% IE, 3% Opera, nothing else reaches 1%

[10:47:01.0000] <jcranmer>
if you exclude school computers (i.e., look at a weekend's statistics), you get something more like 20% IE and 50-60% FF

[10:47:02.0000] <Philip`>
gsnedders: Is Chrome <1%, or are you just failing to count it?

[10:48:00.0000] <gsnedders>
Dunno

[10:50:00.0000] <jcranmer>
in any case, I really hope MS doesn't use Webkit in IE 9+

[10:50:01.0000] <Philip`>
Hmm, Google has a mobile bot?

[10:50:02.0000] <jcranmer>
that would force the market into a duopoly again

[10:51:00.0000] <gsnedders>
I agree with Hixie that it would be highly unlikely after putting so much work into IE8

[10:51:01.0000] <jcranmer>
it seems too speculative

[10:51:02.0000] <Philip`>
SAMSUNG-SGH-E250/1.0 Profile/MIDP-2.0 Configuration/CLDC-1.1 UP.Browser/6.2.3.3.c.1.101 (GUI) MMP/2.0 (compatible; Googlebot-Mobile/2.1; +http://www.google.com/bot.html)

[10:51:03.0000] <jcranmer>
if IE 8 is as good as reports claim it is, Trident wouldn't be worth scrapping

[10:52:00.0000] <Philip`>
jcranmer: Belief in the authenticity of the speculation is not helped by it talking about Gazelle as if it were a new browser engine

[10:52:01.0000] <sid0>
/me wonders what reports jcranmer has been reading

[10:53:00.0000] <jcranmer>
Philip`: I imagine it would be a revamp in surrounding sandboxing issues

[10:55:00.0000] <Philip`>
jcranmer: That's kind of what Gazelle is, but the article linked from Slashdot seemed to be entirely unaware of that

[10:56:00.0000] <jcranmer>
I figured it was misinformation

[10:57:00.0000] <Philip`>
(hence me not putting much faith in their speculation)

[16:29:00.0000] <MikeSmith>
dglazkov: congrats on becoming a reviewer

[16:33:00.0000] <dglazkov>
MikeSmith: thanks!

[16:34:00.0000] <MikeSmith>
dglazkov: so you doing some work on Web Inspector?

[16:34:01.0000] <dglazkov>
yep.

[16:35:00.0000] <dglazkov>
but nothing dramatic, no features

[16:35:01.0000] <dglazkov>
just cleaning up

[16:35:02.0000] <MikeSmith>
great

[16:35:03.0000] <MikeSmith>
it's a great tool

[16:35:04.0000] <MikeSmith>
I love that thing

[16:35:05.0000] <dglazkov>
indeed

[16:37:00.0000] <MikeSmith>
dglazkov:  speaking of features, I wonder if there's a bug open for implementing support for examining AppCache/manifest in Web Inspector

[16:38:00.0000] <dglazkov>
I don't know

[16:38:01.0000] <dglazkov>
sounds like a useful thing

[16:38:02.0000] <dglazkov>
you should file it

[16:39:00.0000] <MikeSmith>
yeah, I will


2009-03-12
[17:03:00.0000] <MikeSmith>
Hixie: would it be useful for the spec to suggest a convention for the file extension for application-cache manifest files/

[17:03:01.0000] <Hixie>
that goes in the mime type registration bit

[17:04:00.0000] <MikeSmith>
Hixie: that's not been written yet?

[17:08:00.0000] <Hixie>
not yet

[17:08:01.0000] <Hixie>
sometime this year

[17:10:00.0000] <MikeSmith>
k

[18:21:00.0000] <billyjackass>
Hixie: is there any way I can programatically examine the URLs lists from an appcache manifest file?

[18:22:00.0000] <billyjackass>
I'm trying to figure out how to write a test to see whether the application cache is actually working as expected

[18:26:00.0000] <Hixie>
MikeSmith: not from within the browser, no

[18:26:01.0000] <Hixie>
i mean you can xhr it and parse it yourself

[18:27:00.0000] <MikeSmith>
yeah

[18:29:00.0000] <MikeSmith>
Hixie: so lacking that, I'm wondering how one could write a test to see whether the UA actually conforms to the spec

[18:31:00.0000] <MikeSmith>
hmm, does Safari really not have a "Work Offline" option? FF and Opera both do

[18:31:01.0000] <Hixie>
why? as a tester, you know what's in the manifest

[18:31:02.0000] <Hixie>
just pull the plug and see if the urls keep working

[18:31:03.0000] <Hixie>
afk, food

[18:36:00.0000] <roc>
MikeSmith: https://developer.mozilla.org/en/DOM/window.navigator.mozIsLocallyAvailable

[18:38:00.0000] <MikeSmith>
/me looks at roc link

[18:38:01.0000] <MikeSmith>
roc: ah, excellent

[18:38:02.0000] <MikeSmith>
thanks

[18:40:00.0000] <roc>
we proposed that for the spec but people felt it wasn't important enough

[18:43:00.0000] <Hixie>
mozIsLocallyAvailable doesn't tell you what's in the manifest

[18:43:01.0000] <Hixie>
it tells you what's cached

[18:44:00.0000] <Hixie>
and wouldn't really help with testing what's cached, since you can't trust what the browser tells you in a test :-)

[18:44:01.0000] <roc>
that's true, but I think it's what he actually wants

[18:47:00.0000] <roc>
MikeSmith: btw for your tests you probably want to flush the main browser cache before you run the test because otherwise mozIsLocallyAvailable (or manual URI loads, for that matter) could be served out of the main cache 

[18:48:00.0000] <MikeSmith>
roc: OK

[19:06:00.0000] <MikeSmith>
http://hg.mozilla.org/mozilla-central/rev/fbbc3d6c9f3171023ab94d286e9c4bea80f1ef22

[19:06:01.0000] <MikeSmith>
tracemonkey wasn't in mozilla-central previously?

[19:08:00.0000] <roc>
no, it was, that's just an update from the tracemonkey repo to the mozilla-central repo

[19:08:01.0000] <roc>
they've continued to use a parallel repository

[19:08:02.0000] <roc>
the wonders of DVCS

[19:09:00.0000] <MikeSmith>
ah, I see

[20:00:00.0000] <jwalden>
parallel repo with periodic merges is actually pretty good for not competing too hard for a place to commit patches

[20:00:01.0000] <jwalden>
I have five or six people to race, not fifty or a hundred

[21:21:00.0000] <gsnedders>
/me stetches

[21:22:00.0000] <gsnedders>
I need to stop sleeping such fucked up hours.

[21:52:00.0000] <MikeSmith>
jwalden: how is success at getting patches committed to a particular repository affected by how many people use the repository?

[21:53:00.0000] <jwalden>
MikeSmith: someone screws up and pushes a patch that breaks the build or breaks automated tests, you have to wait for them to have taken steps to demonstrate that it's probably fixed

[21:53:01.0000] <jwalden>
fewer people means fewer times that has to happen

[21:53:02.0000] <MikeSmith>
jwalden: ah, I see

[21:54:00.0000] <jwalden>
not to mention fewer times you have to update a push to make sure you're changing tip and not committing new heads

[21:54:01.0000] <jwalden>
which Mozilla forbids, so if two people try at once, one will succeed and the other will have to modify the patch to sit atop the first one

[21:55:00.0000] <MikeSmith>
yeah, understood

[21:55:01.0000] <jwalden>
MikeSmith: I assume a server-side script to count times-loaded is a no-go for manifest testing?

[21:56:00.0000] <MikeSmith>
jwalden: It would be fine I guess. but I do really that Web developers will also end up wanting some access to it from some client-side interface

[21:56:01.0000] <MikeSmith>
do really think

[21:57:00.0000] <MikeSmith>
jwalden: as far as the part about breaking builds and tests, you guys really seem to do a lot of reverting due to that

[21:57:01.0000] <MikeSmith>
it seems like commits get reverted just about as often as they don7t

[21:57:02.0000] <jwalden>
not quite that bad, but our tests are not quite as reliable as they should be

[21:58:00.0000] <MikeSmith>
OK

[21:58:01.0000] <jwalden>
but people do make changes which break tests in will-always-happen ways

[21:58:02.0000] <jwalden>
not often, but it's not quite rare, either

[21:59:00.0000] <roc>
that's the point of having a lot of tests

[21:59:01.0000] <roc>
although it's better if you can run the tests locally, that's not always feasible

[21:59:02.0000] <roc>
getting more feasible since we'll have try-servers running tests soon

[22:00:00.0000] <MikeSmith>
yeah, the try-server thing is great

[22:00:01.0000] <MikeSmith>
I notice that's what hsivonen is using for his parser work

[22:01:00.0000] <MikeSmith>
I guess he's got the tests worked into that

[22:01:01.0000] <roc>
jwalden: we have a secret weapon against random test failures in the works ... but I'll let cpearce brag about it when it's ready

[22:01:02.0000] <jwalden>
gsnedders: wait for college, particularly if you're in a dorm that's not full of buckle-down-and-study people :-)

[22:02:00.0000] <jwalden>
roc: that's just mean, telling but not telling me

[22:02:01.0000] <roc>
yeah it is

[22:02:02.0000] <jwalden>
/me wants ops in some shared channel to enact violence upon roc

[22:10:00.0000] <gsnedders>
Compare: http://stuff.gsnedders.com/Overview.out.out.html and http://dev.w3.org/csswg/css3-namespace/

[22:12:00.0000] <gsnedders>
(The former has never been through the module post-processor, blatantly)

[22:17:00.0000] <sayrer>
somehow I suspect roc's weapon concerns replay

[23:56:00.0000] <hsivonen>
MikeSmith: actually, I don't have tests integrated to try server pushes. The builds crash on try server and I think I know the stack of the crash but I have no idea how to fix it.

[23:58:00.0000] <MikeSmith>
hsivonen: the builds crash right away at some smoke-testing stage?

[23:58:01.0000] <hsivonen>
MikeSmith: right.

[23:59:00.0000] <hsivonen>
MikeSmith: I can't reproduce on Mac. I can on Linux.

[23:59:01.0000] <hsivonen>
MikeSmith: on Linux, the first run after a fresh compile (even with and old profile) crashes

[23:59:02.0000] <hsivonen>
the second run doesn't

[23:59:03.0000] <hsivonen>
it's weird

[23:59:04.0000] <MikeSmith>
heh

[00:00:00.0000] <hsivonen>
moreover, the stack trace doesn't show local variables for the interesting bits

[00:00:01.0000] <MikeSmith>
ah

[00:00:02.0000] <MikeSmith>
well, makes it kind of hard to debug I guess

[00:00:03.0000] <hsivonen>
but it's related to freeing interned strings that are alive through the process lifetime

[00:01:00.0000] <hsivonen>
my guess is that there's a bug when the same string has been interned from two atom tables, although I've been told that's OK

[00:02:00.0000] <MikeSmith>
hsivonen: would that be something a lint checker or some other kind of static analysis thing might find for you?

[00:02:01.0000] <hsivonen>
I think that would be unlikely.

[00:02:02.0000] <MikeSmith>
OK

[01:28:00.0000] <hsivonen>
grr. read-only google spreadsheets inhibits my ability to copy text

[03:17:00.0000] <Lachy>
/me wonders how many people, out of those arguing for better historical date and alternative calendar support in the <time> element, would actually make use of such historical dates and alternative calendars themselves.

[03:18:00.0000] <Lachy>
I suspect this is another case of people arguing to support use cases for other people, when those other people aren't really calling for such use cases to be addressed by HTML

[03:24:00.0000] <hsivonen>
Lachy: and more importantly, who'd actually consume the data without a prior bilateral agreement

[03:25:00.0000] <Lachy>
indeed

[03:26:00.0000] <Lachy>
the only potentially compelling use cases I've seen in that thread relate to imprecise dates, like YYYY or YYYY-MM.

[03:26:01.0000] <Lachy>
although, they still need more investigation into the problems being solved

[03:31:00.0000] <hsivonen>
that would only make approximate sense for Julian years

[03:31:01.0000] <hsivonen>
but would still distriminate against various calendars still in religious use

[03:33:00.0000] <Lachy>
what? The use cases I was referring to for imprecise dates have nothing to do with julian dates

[03:33:01.0000] <Lachy>
nor any other non-Gregorian calendars

[03:34:00.0000] <roc>
just use timestamps which are unlimited-precision floating point numbers of seconds since the Unix epoch, with negative values allowed

[03:39:00.0000] <hsivonen>
Lachy: oh ok.

[03:40:00.0000] <hsivonen>
s/distriminate/discriminate/

[03:44:00.0000] <Philip`>
roc: Unlimited precision doesn't help when I want to represent the moment precisely a third of a second after the epoch

[03:45:00.0000] <roc>
will you settle for rational numbers or do we need full support for transcendentals?

[03:46:00.0000] <annevk5>
wasn't <time> also meant to replace class=date kind of stuff? e.g. as styling hook

[03:46:01.0000] <annevk5>
in that case it sort of makes sense to allow just years or months

[03:47:00.0000] <Philip`>
roc: It's possible that we'll be invaded by aliens whose calendar systems use multiples of pi seconds, so we'd better make sure HTML can cope with that use case

[03:47:01.0000] <Philip`>
or perhaps we should just use RDFa for it

[05:11:00.0000] <hsivonen>
looking at http://www.w3.org/Bugs/Public/show_bug.cgi?id=6684 , could just fix text/* in non-SMTP protocols already?

[05:35:00.0000] <jgraham>
Crazy telecoms related things number #3456 we just got PAYG mobile broadband with 3 to fill in the gap before we can convince someone to give us proper useful broadband. To buy time you have to log onto the website. To log on to the website you need a password. They supply the password by SMS. To get the SMS you need either a 3G Phone or a Windows laptop

[05:35:01.0000] <jgraham>
because even though they have a OS X version of the client software it doesn't support the SMS feature

[05:36:00.0000] <MikeSmith>
jgraham: I recommend a shotgun.

[05:37:00.0000] <MikeSmith>
(for you visit to the headquarters to discuss the issue)

[05:37:01.0000] <jgraham>
MikeSmith: Oh, I thought you were suggesting suicide

[05:38:00.0000] <jgraham>
(Anyway their uselessness pales into comparison compared with tele2 who, two whole months after we first asked for a broadband connection and were told 2-3 weeks, finally decided that we had not been in the country for long enough and so were not entitled to their services)

[05:38:01.0000] <MikeSmith>
heh

[05:39:00.0000] <hsivonen>
has anyone tested if nodeName returning in upper case in WebKit for HTML elements is a characteristic of the node itself or its owner document?

[05:39:01.0000] <MikeSmith>
jgraham: welcome to Scandinavia

[05:39:02.0000] <jgraham>
MikeSmith: Indeed

[05:39:03.0000] <MikeSmith>
World's Best Customer Service

[05:40:00.0000] <hsivonen>
/me had a pretty good experience with getting IP connectivity to a new apartment

[05:40:01.0000] <hsivonen>
right on time

[05:40:02.0000] <hsivonen>
but then, it wasn't ADSL

[05:40:03.0000] <jgraham>
hsivonen: What was it?

[05:41:00.0000] <hsivonen>
jgraham: I don't know. Could be fiber optic. The pipe that comes into the apartement is 100 M Ethernet

[05:41:01.0000] <jgraham>
hsivonen: How much does that cost?

[05:43:00.0000] <hsivonen>
we only pay for 10/10 M, which is 32.90 euros per month. 100/10 M would be 42.90 euros per month

[05:43:01.0000] <hsivonen>
(incl. VAT)

[05:44:00.0000] <jgraham>
That sounds roughly similar to Sweden. I think the UK is quite a bit cheaper (or can be)

[05:54:00.0000] <hsivonen>
hmm. looks like HTML 5 defines the case folding to be dependent on the HTML documentedness of the document and not a property of the element nodes themselves...

[05:57:00.0000] <MikeSmith>
virtuelv: you calling in to widgets call?

[05:58:00.0000] <MikeSmith>
and any clues where is marcos?

[06:09:00.0000] <hsivonen>
Hixie: should script-inserted base attribute in the XML namespace be ignored in HTML documents?

[06:19:00.0000] <hsivonen>
Do we want to make createElement in XML documents whose document object implements the HTMLDocument interface create elements in the XHTML namespace?

[06:21:00.0000] <Lachy>
hsivonen, yes

[06:21:01.0000] <Lachy>
well, maybe

[06:22:00.0000] <Lachy>
what do browsers do?

[06:23:00.0000] <hsivonen>
Lachy: I haven't written a test case, I have only read browser source :-)

[06:23:01.0000] <hsivonen>
but source says yes

[06:23:02.0000] <hsivonen>
Gecko's source, that is

[06:26:00.0000] <hsivonen>
/me sees http://mxr.mozilla.org/mozilla-central/source/content/base/src/nsDocument.cpp#6057

[06:27:00.0000] <Lachy>
hsivonen, document.createElement("foo").namespaceURI returns the XHTML namespace in an XHTML document.

[06:28:00.0000] <hsivonen>
Lachy: excellent. thanks

[06:29:00.0000] <Lachy>
for an SVG document, Opera returns the SVG namespace, but Gecko and WebKit return the XHTML namespace still

[06:30:00.0000] <hsivonen>
Hixie: Web DOM Core doesn't have renameNode...

[06:30:01.0000] <hsivonen>
Hixie: but HTML 5 places a requirement on its behavior

[06:44:00.0000] <hsivonen>
Does SetAttributeNode really lower case the name in existing browsers?

[06:44:01.0000] <hsivonen>
Shouldn't instead the attribute node creator method do the lower casing?

[06:46:00.0000] <hsivonen>
/me files a spec bug

[06:50:00.0000] <Lachy>
JohnResig, yt?

[06:50:01.0000] <JohnResig>
Lachy: what's up

[06:50:02.0000] <Lachy>
JohnResig, I just noticed that the selectors api test suite doesn't contain any tests for the namespace selectors "|foo" and "*|foo", which need to be supported cause they don't need to be resolved

[06:51:00.0000] <JohnResig>
Lachy: so the should be handled as if they were the same as "foo", correct?

[06:52:00.0000] <Lachy>
"|foo" matches elements in no namesace.  i.e. the element created by document.createElementNS("", "foo");

[06:52:01.0000] <JohnResig>
hmm

[06:52:02.0000] <Lachy>
"*|foo" should match a foo element in any namespace

[06:53:00.0000] <Lachy>
for "|foo", you would have to test it by creating elements with createElementNS. You can't rely on any elements in an HTML document being in no namespace, since browsers (and HTML5) say to use the XHTML namespace

[06:55:00.0000] <Lachy>
I'll send an email about this to public-webapps as a reminder for this to be added when you have time

[06:55:01.0000] <JohnResig>
Lachy: ok, thanks

[07:05:00.0000] <Lachy>
JohnResig, I just made some quick demos and it looks like WebKit fails the "|p" test. http://software.hixie.ch/utilities/js/live-dom-viewer/saved/27

[07:05:01.0000] <Lachy>
both Opera and Firefox pass that oen

[07:05:02.0000] <Lachy>
*one

[07:05:03.0000] <Lachy>
IE8 will fail because it doesn't support the namespace syntax

[07:06:00.0000] <JohnResig>
Lachy: ok, definitely post it to the list then, because I'm cautious of landing changes that'll cause 100%-passing regressions (people get grumpy)

[07:06:01.0000] <JohnResig>
it seems painless enough to land, though

[07:07:00.0000] <Lachy>
JohnResig, the whole point of a test suite is to find bugs. If we can find bugs in browsers that currently pass 100%, that's even better.

[07:08:00.0000] <JohnResig>
Lachy: absolutely - but I don't want the burdern of notifying and arguing with the vendors to be on me - that should be on the spec people (you)

[07:08:01.0000] <JohnResig>
since my only rebuttle will be "Well, Lachy told me to add it."

[07:08:02.0000] <Lachy>
good

[07:09:00.0000] <JohnResig>
just let them know on the list and I'll land it no problem

[09:07:00.0000] <annevk>
so when of the Python devs is here and when I asked him about the annoyance that the internal encoding can be set at compile time he admitted it was a mistake and that they should have fixed it to UTF-32

[09:07:01.0000] <annevk>
a small battle ensued

[09:08:00.0000] <annevk>
s/so when/so one/

[09:08:01.0000] <smedero>
ÔøΩ

[09:08:02.0000] <Dashiva>
utf-32? heh

[09:09:00.0000] <annevk>
PHP6 with ETA "unknown" will be fixed to UTF-16 according to Rasmus (also here)

[09:10:00.0000] <Lachy>
why would anyone want to use UTF-32 for anything?!

[09:10:01.0000] <Philip`>
Because it's easy and works

[09:10:02.0000] <Philip`>
unlike everything else

[09:10:03.0000] <Dashiva>
If you think space is cheap and astral characters are important, I suppose

[09:11:00.0000] <Lachy>
but it's so inefficient with space, and UTF-16 is only mildly less efficient with non-BMP characters

[09:11:01.0000] <Philip`>
Lachy: With UTF-16 you can't do constant-time extraction of substrings

[09:11:02.0000] <gsnedders>
PHP6 just uses UTF-16 because it's what ICU uses

[09:11:03.0000] <Philip`>
(because you've got to scan the whole string to count characters)

[09:12:00.0000] <Philip`>
If you care so much about performance that a mere doubling of string sizes is significant, you shouldn't be using Python

[09:13:00.0000] <annevk>
gsnedders, he might have mentioned that, yes :)

[09:14:00.0000] <Lachy>
Philip`, that's why python shouldn't bother with UTF-32 for the small performance benefit it brings in comparisson with its overall performance

[09:15:00.0000] <Philip`>
Lachy: It's much more than a small performance benefit when you're e.g. extracting the millionth character from a string, and it can read the four-millionth byte instead of scanning through the whole string

[09:15:01.0000] <jgraham>
Lachy: Do you have evidence that most programs consume a significant amount of their memory in string types?

[09:16:00.0000] <Lachy>
no

[09:16:01.0000] <jgraham>
UTF-32 is much /much/ easier than UTF-16 for non-BMP characters

[09:16:02.0000] <Lachy>
Philip`, jgraham, so are you arguing that using UTF-32 for python is a good thing?

[09:17:00.0000] <jgraham>
Lachy: If the choice is between the UCS2 and UCS4 code currently in Python, UCS4 wins every time

[09:17:01.0000] <Philip`>
Lachy: It seems a better thing than the alternatives

[09:17:02.0000] <annevk>
/me notes that what Python  does depends on how you compile it and will continue to do so for the foreseeable future in case that wasn't clear

[09:17:03.0000] <jgraham>
(the 2-byte string code is not quite UTF-16)

[09:18:00.0000] <jgraham>
(Or at least python doesn't really handle non-BMP characters well)

[09:18:01.0000] <gsnedders>
(Guido said on the dev mailing list that anywhere it wasn't UTF-16 was a bug)

[09:18:02.0000] <gsnedders>
(But it presents non-BMP characters to interpreted code in a whacky way (i.e., as surrogates))

[09:20:00.0000] <Lachy>
how many people actually deal with astral characters in python programs?

[09:20:01.0000] <jgraham>
/me raises a hand

[09:20:02.0000] <gsnedders>
/me raises a hand

[09:21:00.0000] <Lachy>
what do you use them for?

[09:21:01.0000] <jgraham>
Lachy: html5lib

[09:21:02.0000] <Philip`>
/me raises a hand, complete with half an arm and some severed tendons

[09:21:03.0000] <gsnedders>
For stripping any character not valid in ifragment in Anolis when creating IDs

[09:21:04.0000] <jgraham>
Also some thing I did for parsing the UCD

[09:23:00.0000] <annevk>
http://www.christopherschmitt.com/2009/03/12/convert-xhtml-web-pages-to-html5/ has some amusing terminology

[09:24:00.0000] <annevk>
and untidying is fun too

[09:24:01.0000] <jgraham>
/me wonders why he can't reproduce a bug in the python unicode support, realises he is using a UCS4 build

[09:52:00.0000] <Philip`>
gsnedders: Be careful about suggesting deferring to self-proclaimed date/time experts who wrote ISO8601, because the same argument could apply to things like RDF :-p

[10:48:00.0000] <ap>
annevk: does the change event bubble in IE? I didn't test myself, but saw a blog post saying that it didn't (referenced in the bug)

[10:49:00.0000] <annevk>
dunno, but the testcase works in Opera (and reportedly Firefox)

[10:49:01.0000] <annevk>
maybe Hixie based the spec on IE?

[10:49:02.0000] <zcorpan>
Lachy: please have both "" and null in the test suite :)

[10:49:03.0000] <ap>
annevk: that usually makes sense ;)

[10:49:04.0000] <annevk>
I suppose

[10:50:00.0000] <annevk>
/me launches IE6

[10:50:01.0000] <ap>
zcorpan: that's a CSS Selectors test, not a DOM 3 one! :)

[10:50:02.0000] <ap>
annevk: I'm also puzzled by the requirement to fire the event asynchronously (post a task to fire a simpl event)

[10:51:00.0000] <gsnedders>
:P

[10:51:01.0000] <annevk>
I'm mostly mystified with the event source thing so I can't help you there

[10:51:02.0000] <annevk>
in IE6 the onchange handler does not trigger

[10:52:00.0000] <gsnedders>
Philip`: There is a difference between saying that use-cases they didn't deal with we don't have to compared with we have to cope with all their use-cases.

[10:52:01.0000] <annevk>
but I've no idea if that means it doesn't do bubbling

[10:52:02.0000] <gsnedders>
Damn chaals writes long emails at times.

[10:52:03.0000] <ap>
annevk: the test at <http://www.johnvey.com/blog/2007/07/ie-does-not-bubble-form-select-element-onchange-events> uses attachEvent, so it apparently doesn't bubble

[10:54:00.0000] <annevk>
ap, it seems that the more useful thing to do is to bubble though

[10:54:01.0000] <zcorpan>
ap: yeah, true

[10:54:02.0000] <annevk>
ap, and IE can fix bugs

[10:55:00.0000] <annevk>
I guess you can use capture listeners instead, but that's cumbersome

[10:57:00.0000] <zcorpan>
so firefox and webkit don't support 'copy' in canvas globalCompositeOperation

[10:57:01.0000] <annevk>
(and also doesn't work in IE :p)

[11:00:00.0000] <Philip`>
zcorpan: I think they do

[11:01:00.0000] <Philip`>
(modulo certain bugs that are not directly related to 'copy')

[11:48:00.0000] <gsnedders>
What's controversial about bb?

[11:49:00.0000] <annevk>
the name!

[11:49:01.0000] <Philip`>
The fact that it's a crazy idea

[11:50:00.0000] <smedero>
didn't Philip` find a noticeable occurrence of people mistyping b as bb.

[11:50:01.0000] <gsnedders>
smedero: I dunno. Ask Philip`.

[11:50:02.0000] <Philip`>
It's like a script API but made much harder to use by not actually being a script API

[11:51:00.0000] <Philip`>
Hmm, a load of people use <bb:menu> elements

[11:52:00.0000] <gsnedders>
LOL

[11:52:01.0000] <gsnedders>
"to Pillar and Hedral for their ideas and support."

[11:52:02.0000] <gsnedders>
/me expects they gave Hixie lots of ideas :P

[11:52:03.0000] <Philip`>
There do exist people who typo <b> as <bb>, but not a huge number

[11:53:00.0000] <Philip`>
and hopefully <bb> is specced so it does nothing if it's not got any interesting attributes

[11:54:00.0000] <smedero>
http://menumachine.com/kb/64 suggest that <bb:menu> is some sort of GoLive plugin?

[12:00:00.0000] <jgraham>
/me has somewhat crappy home internet at last

[13:20:00.0000] <gsnedders>
jgraham: w00t! crappy intarwebs!

[13:22:00.0000] <gsnedders>
jgraham: How on earth did you get that photo?

[13:28:00.0000] <jgraham>
gsnedders: Multiple photos overlayed

[13:28:01.0000] <gsnedders>
I was guessing that.

[13:29:00.0000] <jgraham>
Macro lens wih the minimum depth of field

[13:29:01.0000] <jgraham>
I really want to do it in a way that looks seamless

[13:31:00.0000] <jgraham>
And SSH seems to be really bad on this connection

[13:34:00.0000] <Philip`>
jgraham: You could make it seamless by taking a single photo :-)

[13:49:00.0000] <jgraham>
Philip`: Yes, if I had a large format camera :)

[15:55:00.0000] <jcranmer>
why are non-Gregorian dates such a big deal?

[15:55:01.0000] <jcranmer>
point 1: How many people are actually going to add in <time> elements for all of their dates?

[15:56:00.0000] <jcranmer>
point 2: How many of those people are cogniscent of the Gregorian/Julian calendar issues?

[15:56:01.0000] <jcranmer>
point 3: How many of those will actually care enough to do it right?

[15:57:00.0000] <jcranmer>
if it's that much of an issue, just make it the Hixie calendar: an integer denoting the time in days since Hixie's birthday

[15:58:00.0000] <jcranmer>
</rant>

[16:01:00.0000] <Philip`>
jcranmer: If we do that, we'll build up an entire civilisation based on offsets from Hixie's birthday, and then we'll probably find out that actually Hixie was born around four years earlier than that

[16:01:01.0000] <Philip`>
and then we won't be sure whether he even existed, or was just a fiction created by the WHATWG cabal

[16:02:00.0000] <jcranmer>
ok then, how about a better time

[16:02:01.0000] <jcranmer>
1234567890 in Unix time?

[16:02:02.0000] <jcranmer>
February 29, 1900?

[16:02:03.0000] <jcranmer>
Smarch 13, 1313?

[16:03:00.0000] <Philip`>
January 1, 1601

[16:03:01.0000] <Philip`>
in order to match Windows

[16:03:02.0000] <Philip`>
(http://blogs.msdn.com/oldnewthing/archive/2009/03/06/9461176.aspx)

[16:06:00.0000] <kig>
how about a floating point number that measures the count of planck intervals from the present time in the current frame of reference

[16:06:01.0000] <kig>
floating point just to be sure and present time because it simplifies calculations because the current time is always 0.0

[16:07:00.0000] <Philip`>
kig: If it's Planck intervals, why not just use integers?

[16:09:00.0000] <kig>
future proof

[16:09:01.0000] <Philip`>
Are you expecting the laws of physics to change in the future?

[16:09:02.0000] <kig>
most certainly

[16:10:00.0000] <Philip`>
Hmm, I suppose it's good to make sure HTML5 is prepared for that future and won't be adding to our problems in such an eventuality

[16:11:00.0000] <kig>
oh, better make it a complex number, i hear they're all the rage in quantum probability

[16:11:01.0000] <Lachy>
kig, who's frame of reference, exactly? It would be kind of hard since everyone's frame of reference is slightly different, because it's based on how fast they're moving and slight differences in gravity

[16:11:02.0000] <kig>
well, the frame of reference of the author

[16:11:03.0000] <kig>
or rather, the document

[16:11:04.0000] <kig>
at the present point in time on the present device

[16:11:05.0000] <Philip`>
Lachy: Relative time offsets from daylight saving is hard enough, we don't want to add relativity too :-(

[16:14:00.0000] <kig>
and as all the times you define are relative to the document, it's super easy to say things like <time value="5*60*plank_per_sec">five minutes from now</time> (but saying 5th of march 2007 is a bit more difficult)

[16:14:01.0000] <Philip`>
Planck intervals from the present time are fine to add into HTML5, but we've got to draw the line somewhere

[16:16:00.0000] <Lachy>
let's make it the number of plank intervals since the big bang in a standardised hypothetical reference frame

[16:17:00.0000] <Lachy>
/me chooses to ignore the fact that our current estimate for the age of the earth has a 0.4 billion year margin of error.

[16:17:01.0000] <Lachy>
s/earth/univers/

[16:17:02.0000] <Lachy>
*universe

[16:18:00.0000] <Philip`>
Wikipedia says it's more like +/- 0.12 billion years, which isn't nearly so bad

[16:18:01.0000] <kig>
you say -1, i say 2^32

[16:18:02.0000] <Lachy>
oh, last I heard, it was +/- 0.2

[16:19:00.0000] <Philip`>
http://en.wikipedia.org/wiki/Age_of_the_universe - "Current theory and observations suggest that this is between 13.61 and 13.85 billion years.[1]" - it's got a citation so it must be true

[16:20:00.0000] <Lachy>
did you actually follow the citation?

[16:20:01.0000] <Philip`>
Of course not

[16:20:02.0000] <kig>
i.. probably should've written a test generator rather than more tests

[16:21:00.0000] <Philip`>
kig: But if you wrote a test generator, you'd have to write tests for the test generator to make sure it doesn't have bugs

[16:21:01.0000] <Lachy>
the cited PDF has a table that lists the age of the universe as "013.72 ¬± 0.12 Gyr " in the column entitled "WMAP+BAO+SN"

[16:23:00.0000] <jcranmer>
how about the frame of reference of the Scott-Amundsen Research Base?

[16:23:01.0000] <kig>
Philip`: actually, if you take a fault injector that tests your tests (if your tests fail to catch the fault, your tests have a bug) and an evolutionary test generator and let them duke it out

[16:23:02.0000] <Philip`>
That only differs from Wikipedia by ten million years, which is neither here nor there

[16:24:00.0000] <Lachy>
sure, but if we're measuring in plank intervals, that's a huge margin of error

[16:24:01.0000] <jcranmer>
the Big Bang also happened on October 23, 4004 BC

[16:24:02.0000] <jcranmer>
:-)

[16:25:00.0000] <kig>
how near c do you have to be travelling for that to be true?

[16:25:01.0000] <Lachy>
jcranmer, did you just make up the October 23 date, or are there creationists actually claiming that's the specific date?

[16:25:02.0000] <Philip`>
I thought the Big Bang was the goal of Great A'Tuin in the distant future

[16:26:00.0000] <jcranmer>
Lachy: http://en.wikipedia.org/wiki/James_Ussher

[16:27:00.0000] <Lachy>
wow

[16:28:00.0000] <Philip`>
It's not like they had any better evidence to go by in those days

[16:28:01.0000] <rubys>
"Ussher was a gifted polyglot"  :-)

[16:30:00.0000] <Philip`>
Polyglot sounds like a horrid disease


2009-03-13
[23:06:00.0000] <MikeSmith>
/me contemplates jumping into the <time> thread on whatwg list, decides against it

[23:24:00.0000] <MikeSmith>
hsivonen: you around?

[23:57:00.0000] <jwalden>
/me wonders how many people who attempted http://blag.xkcd.com/2009/02/11/a-math-problem-2/ did so using a URL like data:text/html,%3Ctextarea%20rows=50%20cols=100%3E as a scratchpad

[23:57:01.0000] <jwalden>
I'm such a wacko

[00:20:00.0000] <hsivonen>
MikeSmith: I'm around now

[00:21:00.0000] <MikeSmith>
hsivonen: accesskey is still in the WHATTF schema but did not survive the integration of WF2 into HTML5

[00:21:01.0000] <MikeSmith>
you OK with removing it?

[00:23:00.0000] <hsivonen>
MikeSmith: removing it is ok

[00:24:00.0000] <hsivonen>
eek. lots of <time> email

[00:24:01.0000] <MikeSmith>
hsivonen: OK

[00:26:00.0000] <MikeSmith>
and that <time> discussion seems to be looping through the same 2 or 3 people

[00:26:01.0000] <MikeSmith>
wonder how many other people are paying attention to that discussion, or care

[00:27:00.0000] <hsivonen>
I care a bit, but for now, I trust Hixie's gatekeeping abilities. I'll scream when I find several historic calendars on my validation todo list.

[00:35:00.0000] <jwalden>
expanding the range of representable dates seems fine

[00:35:01.0000] <jwalden>
supporting alternate date schemes is insane

[00:36:00.0000] <jwalden>
although, honestly, I'm not sure how much value I see in <time> over any number of other elements to semanticize otherwise-meaningless markup

[00:37:00.0000] <hsivonen>
jwalden: adding BCE dates to <input type=date> seems like implementation and QA cost without a compelling upside

[00:37:01.0000] <hsivonen>
I bet that would be the next step after <time>

[00:38:00.0000] <jwalden>
frankly, if it were up to me I think I'd just constrain range to that of ECMAScript and be done with it

[00:38:01.0000] <jwalden>
whatever that range is

[00:40:00.0000] <jwalden>
but this isn't something I care much about either way anyway

[00:40:01.0000] <jwalden>
beyond wishing people would say their keep and shut up

[00:41:00.0000] <hsivonen>
/me resists the urge to reply to chaals' <time> email

[00:42:00.0000] <jwalden>
/me high-fives hsivonen for acting so :-)

[01:26:00.0000] <zcorpan>
http://www.cmswire.com/cms/web-content/html-5-supersedes-web-forms-20-004054.php

[01:44:00.0000] <Lachy>
hsivonen, if you did respond to chaals' <time> email, what would you say?

[01:45:00.0000] <hsivonen>
Lachy: I'd ask about loosely coupled without bilateral agreement consuming software use cases

[01:51:00.0000] <Lachy>
if the spec does end up allowing BCE years, then I look forward to seeing errors of the form <time datetime="-0001-01-01">1 BCE</time> (due to the year 0000 complication)

[01:52:00.0000] <jwalden>
...and window.event bites MS again when some MessageEvent properties are readonly <http://blogs.msdn.com/ie/archive/2009/03/12/site-compatibility-and-ie8.aspx>

[01:53:00.0000] <jwalden>
although, if their documentation is to be believed, only .source is readonly, probably because they didn't want to break people using .data (or the like) properties

[01:54:00.0000] <jwalden>
/me really doesn't understand why they don't bite the bullet and at least implement proper event-passing, if not full w3 event model compliance

[01:57:00.0000] <zcorpan>
clearly getting markup parsed and serialized correctly is a hard problem when using text-based templates. i tried cmsms and found various problems with using the wrong encoding, expanding entities when they shouldn't, etc, and even their bug tracker failed to escape markup in the bug heading

[01:58:00.0000] <zcorpan>
(http://dev.cmsmadesimple.org/bug/view/3155 )

[01:59:00.0000] <hsivonen>
zcorpan: you filed an XSS hole as a bug report that runs JS? :-)

[01:59:01.0000] <zcorpan>
yeah :) although i maybe filed it in the wrong place

[02:02:00.0000] <annevk>
http://www.w3.org/2001/tag/2009/03/12-minutes.html o_O

[02:07:00.0000] <zcorpan>
/me wonders what the "old" namespace is

[02:11:00.0000] <Lachy>
zcorpan, AFAICT, the "old" namespace refers to the 1999 namespace

[02:13:00.0000] <Lachy>
it's strange how they were discussing the MIME type too. I wasn't aware anyone had complained about the reuse of the XHTML MIME type for XHTML2. Only the namespace.

[02:18:00.0000] <annevk>
so apparently not defining error handling for character leads to XSS issues

[02:19:00.0000] <annevk>
IE when seeing a UTF-8 byte that indicates two more bytes follow will replace all three bytes with a replacement character where other browsers just replace the first

[02:19:01.0000] <annevk>
so if you insert such a byte just before the end of the attribute you can do stuff

[02:22:00.0000] <jgraham>
annevk: Neat

[02:27:00.0000] <hsivonen>
wouldn't application/xml make sense for XHTML2 as the MIME type if XHTML2 is what it says it is?

[02:27:01.0000] <hsivonen>
did I read the TAG minutes correctly that the TAG isn't asking XHTML5 to change its namespace?

[02:29:00.0000] <zcorpan>
hmm http://www.w3.org/TR/2007/WD-dial-primer-20071101/intro1.png

[02:30:00.0000] <hsivonen>
zcorpan: seems like a model totally obsoleted by the iPhone, Opera Mini and Opera on Wii

[02:31:00.0000] <annevk>
hsivonen, dunno, I read it in a way as that they are unclear as to what should happen

[02:31:01.0000] <zcorpan>
maybe it's just me but [HTML5+SVG+CSS (server)] --> [HTML5+SVG+CSS (all clients)] seems simpler

[02:33:00.0000] <jgraham>
That diagram is kinda crazy

[02:34:00.0000] <jgraham>
Why would you send XHTML to desktops but HTML to WebTV?

[02:35:00.0000] <jgraham>
And why the obsession with the idea that mobiles can only do XHTML-MP desite the fact that there are literally millions of mobiles with HTML support

[02:35:01.0000] <hsivonen>
jgraham: it's the official motivation XHTML-MP, so it must be true

[02:36:00.0000] <zcorpan>
i'm thinking of registring a .mobi domain, but i don't know what it should be

[02:36:01.0000] <jgraham>
zcorpan: For any reason?

[02:36:02.0000] <zcorpan>
for my personal site

[02:36:03.0000] <zcorpan>
that i don't yet have

[02:36:04.0000] <jgraham>
Ah

[02:37:00.0000] <hsivonen>
zcorpan: what kind of content do you plan on serving?

[02:37:01.0000] <annevk>
zcorpan, http://forums.whatwg.org/viewtopic.php?t=4055 has a spammer

[02:37:02.0000] <hsivonen>
zcorpan: can they revoke your .mobi domain if your content isn't MobileOk?

[02:37:03.0000] <jgraham>
I was hoping that you could register doesw3cthinkimevil.mobi that just runs XHTML-MP tests and says "Yes" if they fail and "No" if they pass

[02:38:00.0000] <zcorpan>
hsivonen: i doubt it

[02:38:01.0000] <zcorpan>
hsivonen: just a blog or something

[02:39:00.0000] <zcorpan>
annevk: thanks

[02:39:01.0000] <hsivonen>
I suppose I should make sure I only read zcorpan's blog on the bus to make sure the mobile context is right :-)

[02:40:00.0000] <jgraham>
/me reads a cople of emails from the <time> thread, finds a debate about the meaning of the year 0, gives up

[02:41:00.0000] <zcorpan>
jgraham: too long and i want other content than just "Yes" :)

[02:41:01.0000] <zcorpan>
but keep em coming

[02:41:02.0000] <zcorpan>
i was thinking of spacergifs.mobi

[02:42:00.0000] <jgraham>
tablelayout.mobi

[02:42:01.0000] <zcorpan>
yeah or nestedtables.mobi

[02:42:02.0000] <jgraham>
Can you get html.mobi

[02:42:03.0000] <zcorpan>
already taken

[02:42:04.0000] <hsivonen>
my top mobile destinations are the damowmow portal and planet intertwingly, neither of which are .mobi :-/

[02:43:00.0000] <hsivonen>
oh, and krijnhoetmer.nl, of course

[02:44:00.0000] <annevk>
"thistldsucks.mobi" is available!

[02:44:01.0000] <annevk>
-- http://mtld.mobi/domain/whois?q=domain/whois

[02:47:00.0000] <jgraham>
feff.mobi?

[02:49:00.0000] <zcorpan>
jgraham: that's available but i don't get the joke

[02:50:00.0000] <jgraham>
zcorpan: Not really a joke, just a BOM Which doesn't quite seem like what you are looking for but does have the practical advantage of being easier to type on a mobile keypad

[02:53:00.0000] <zcorpan>
ok... any other suggestions? :)

[02:53:01.0000] <hsivonen>
html5.mobi is taken :-( presumably by a squatter, since there's no HTTP server

[02:54:00.0000] <annevk>
iusethistldforlaughs

[02:54:01.0000] <jgraham>
dotmobiftw.mobi

[02:55:00.0000] <annevk>
spacergif.mobi is still pretty good I think

[02:55:01.0000] <zcorpan>
/me wants an indirect reference to .mobi

[02:55:02.0000] <zcorpan>
yeah

[02:55:03.0000] <zcorpan>
gif or gifs?

[02:56:00.0000] <zcorpan>
i guess i'll settle for the shorter

[02:56:01.0000] <annevk>
it's a better blog title I think

[02:56:02.0000] <annevk>
(the singular)

[02:57:00.0000] <zcorpan>
yep.

[03:01:00.0000] <zcorpan>
ok registered

[03:02:00.0000] <annevk>
if you take some kind of hosting account somewhere i can prolly transfer complete control of simon.html5.org to you

[03:02:01.0000] <annevk>
alternatively you can use more space on my server

[03:02:02.0000] <zcorpan>
i'll use the same host as my mom :)

[03:03:00.0000] <annevk>
"server"

[03:04:00.0000] <jgraham>
/me never got that offer

[03:04:01.0000] <jgraham>
:-p

[03:05:00.0000] <annevk>
here it is :)

[03:09:00.0000] <jgraham>
/me has discovered that registereing a domain name you don't know how to pronounce makes giving out your email address harder

[04:01:00.0000] <beowulf>
talking to the tld about xhtml probably won't help win the .mobi is evil argument

[04:02:00.0000] <beowulf>
they're bound by contract so to speak

[04:04:00.0000] <beowulf>
i believe they see html5 as a good path forward, but they have to do what they're told

[04:41:00.0000] <hsivonen>
beowulf: who is "they" and who is bound by contract?

[04:43:00.0000] <beowulf>
hsivonen: afaik .mobi, the company that runs the tld and enforces the xhtml-ness, are bound by a contract with ICANN

[04:43:01.0000] <beowulf>
i could be wrong though

[04:43:02.0000] <hsivonen>
beowulf: bound by contract with ICANN to enforce XHTML-ness???

[04:44:00.0000] <hsivonen>
beowulf: Gandi's registration services don't warn me that .mobi requires XHTML. (Or if they do warn, it's not obvious.)

[04:44:01.0000] <beowulf>
hsivonen: again, maybe i'm wrong, but that tld has a contractual obligation to ensure the domains use xhtml

[04:44:02.0000] <beowulf>
s/,//

[04:44:03.0000] <hsivonen>
beowulf: wow

[04:45:00.0000] <beowulf>
so even if they were accutely aware of the state of the web, say for example because they spider all .mobi domains, they couldn't do much about it

[04:46:00.0000] <beowulf>
and they may also be aware of the state of mobile browsers wrt xml parsers

[04:46:01.0000] <beowulf>
but maybe their hands are tied

[04:46:02.0000] <hsivonen>
beowulf: is the contract because ICANN wouldn't have minted a new TLD without a story telling how it is special?

[04:47:00.0000] <beowulf>
hsivonen: i wouldn't know

[04:47:01.0000] <Philip`>
http://www.opensrs.com/resources/documentation/opensrsrwi/mobi_compliance.htm

[04:47:02.0000] <jgraham>
http://mtld.mobi/ is text/html with an XHTML doctype

[04:48:00.0000] <jgraham>
(not XHTML-MP)

[04:48:01.0000] <beowulf>
there's enough wiggle room in the contract to serve XHTML like HTML as text/html, i guess

[04:49:00.0000] <Philip`>
jgraham: Are you seeing a non-mobile version of that page?

[04:49:01.0000] <jgraham>
Philip`: Maybe

[04:49:02.0000] <beowulf>
jgraham: the mtld site sends different content to a desktop than it does to a mobile device

[04:50:00.0000] <Philip`>
jgraham: With Opera 9.63, I see a mobile-optimised (i.e. ugly) page with <!DOCTYPE html PUBLIC "-//WAPFORUM//DTD XHTML Mobile 1.0//EN" "http://www.wapforum.org/DTD/xhtml-mobile10.dtd">

[04:50:01.0000] <Philip`>
jgraham: but with FF2 I see one with lots of images and stuff

[04:50:02.0000] <annevk>
It's unclear whether those rules are actually enforced. E.g. opera.mobi has redirected to opera.com for longer than 60 days

[04:50:03.0000] <jgraham>
Philip`: What mime type?

[04:50:04.0000] <Philip`>
jgraham: How do I find out?

[04:50:05.0000] <beowulf>
annevk: as i understand it the rules are not currently enforced

[04:50:06.0000] <jgraham>
You are supposed to use application/vnd.wap.xhtml+xml

[04:50:07.0000] <jgraham>
Philip`: Dragonfly?

[04:51:00.0000] <beowulf>
but maybe they've come to a point where enforcing the rules would cause massive problems

[04:51:01.0000] <Philip`>
/me tries View Source and inserting non-XML stuff, and it seems to parse it like HTML instead of fatally erring

[04:52:00.0000] <beowulf>
and maybe the very idea of trying to enforce those rules brings up questions about the whole xhtml idea, who knows

[04:52:01.0000] <beowulf>
/me speculates wildly

[04:52:02.0000] <Philip`>
jgraham: (I've got no idea how to view HTTP headers in Dragonfly, and can't find any relevant buttons)

[04:54:00.0000] <jgraham>
Philip`: Oh. Myabe we don't support that then

[04:54:01.0000] <annevk>
/me finds out about http://en.wikipedia.org/wiki/.tel

[04:54:02.0000] <jgraham>
/me couldn't really remember

[04:56:00.0000] <Philip`>
/me can't quite tell whether .tel is an abuse of DNS, or a decent way of using it

[04:56:01.0000] <beowulf>
ICANN, making money out of DNS since 1998

[04:56:02.0000] <annevk>
with what they're charging it looks like a scam

[04:58:00.0000] <Philip`>
annevk: They're only charging a lot at the beginning - the standard rate seems much more normal

[04:58:01.0000] <Philip`>
http://iwi.gandibar.net/post/2008/11/26/Launching-of-TEL says ‚Ç¨14/yr after March 24

[04:59:00.0000] <beowulf>
/me wonders if they've resevered a bunch of names to auction

[05:00:00.0000] <annevk>
I'm surprised this hasn't come up in the TAG

[05:00:01.0000] <jgraham>
/me wonders how you determine trademark holders given that multiple entities may legitimatley have the same trademark

[05:00:02.0000] <Philip`>
jgraham: "first-come, first-served", it says

[05:01:00.0000] <beowulf>
jgraham: wipo

[05:02:00.0000] <Philip`>
(and trademarks must have been registered before 30 May 2008)

[05:02:01.0000] <Philip`>
(so you can't just register one in an obscure country and then immediately buy the .tel domain)

[05:02:02.0000] <beowulf>
didn't ICANN recently say they'd allow anyone to set up a tld? so foo.html5 might be possible in the future?

[05:03:00.0000] <Philip`>
beowulf: That was proposed and seemed to have significant support within ICANN

[05:03:01.0000] <Philip`>
and I guess the support is completely unrelated to the fact you have to pay ICANN a zillion dollars for a TLD

[05:03:02.0000] <jgraham>
I thought it was confirmed. But I heard that on /. so I guess it is probably not true

[05:04:00.0000] <beowulf>
http://www.icann.org/en/announcements/announcement-2-23oct08-en.htm

[05:04:01.0000] <beowulf>
"a per applicant fee of $US185,000"

[05:04:02.0000] <jgraham>
"innovation, Choice and Diversity"

[05:05:00.0000] <beowulf>
there's about 185000 members of the w3c + whatwg, $1 each and ...

[05:05:01.0000] <annevk>
didn't congress or so block that?

[05:06:00.0000] <Philip`>
http://en.wikipedia.org/wiki/TLD#cite_ref-7 - "the U.S. Department of Commerce reiterated the statement that it has "no plans to transition management of the authoritative root zone file to ICANN.""

[05:06:01.0000] <jgraham>
I will believe in the unlimited tlds thing more once people get the idea that webservers don't all start www.

[05:07:00.0000] <Philip`>
jgraham: I'd much rather live in a world where all web sites start with www. than one in which all web sites start with http:// or one in which it's impossible to easily tell that a certain string is meant to be a web site URL

[05:07:01.0000] <Philip`>
(http:// is bad because it's hard to pronounce)

[05:07:02.0000] <annevk>
"The total fee per applicant takes into account close to $US13 million invested by ICANN since October 2007 to put the design of the implementation program in place."

[05:07:03.0000] <Philip`>
(and people on TV read it out in really annoying ways)

[05:07:04.0000] <beowulf>
jgraham: a local company here spent some time on a new url, u.tv (the company is called UTV), no-one got it

[05:07:05.0000] <annevk>
whoa

[05:08:00.0000] <beowulf>
had to change all the advertising to www.u.tv

[05:08:01.0000] <annevk>
those guys must be making shitloads of money

[05:08:02.0000] <beowulf>
annevk: yes

[05:08:03.0000] <Philip`>
annevk: Charging people multiple dollars per year for the privilege of putting a few hundred bytes in a database is a pretty good business model if you can make it work for you

[05:09:00.0000] <jgraham>
Philip`: We're kind of stuck with the http:// thing though. www isn't even particccularly easy to say

[05:09:01.0000] <beowulf>
20 cents per domain

[05:10:00.0000] <beowulf>
per year

[05:10:01.0000] <Philip`>
Oh, okay

[05:10:02.0000] <beowulf>
still a lot though :)

[05:11:00.0000] <Philip`>
The distributed nature of DNS is a bit pointless really - I think Google should set up its own domain name system, where you connect directly to a Google data center's IP address and ask it to look up details in its centralised database

[05:11:01.0000] <Philip`>
It'd be much easier that way

[05:11:02.0000] <Philip`>
and it could replace ICANN

[05:12:00.0000] <Lachy>
Philip`, that would create a single failure point for the entire web

[05:12:01.0000] <jgraham>
/me mutters something about tinyurl

[05:13:00.0000] <Lachy>
tinyurls suck for more reasons than that

[05:13:01.0000] <Philip`>
Lachy: But that single point is Google, and we can trust Google to not go down

[05:14:00.0000] <jgraham>
Lachy: I never claimed otherwise. But it would be really worrying if anyone cared about twitter archives

[05:14:01.0000] <Lachy>
of course, because Google has proven that it can successfully last a decade, and so that means it can last forever.

[05:15:00.0000] <jgraham>
/me gets a reading on his irony-o-meter

[05:15:01.0000] <beowulf>
/me picks the needle from jgraham's meter out of the wall

[05:15:02.0000] <Lachy>
/me wonders how many companies of any kind have lasted more than century or two

[05:16:00.0000] <Philip`>
If Google was ever going to collapse and take the whole internet with it, it could just get a government bail-out

[05:16:01.0000] <beowulf>
the vatican

[05:16:02.0000] <Philip`>
Nintendo

[05:16:03.0000] <Lachy>
the vatican isn't a company

[05:16:04.0000] <beowulf>
the vatican to replace ICANN

[05:16:05.0000] <Lachy>
Guiness

[05:16:06.0000] <jgraham>
Lachy: They have a better business model than most companies

[05:17:00.0000] <Lachy>
who? Guiness or the Vatican?

[05:17:01.0000] <jgraham>
The vatican :)

[05:17:02.0000] <Philip`>
Nintendo could replace DNS names with friend codes, so you can only visit web sites if you've already met the webmaster and exchanged codes, as a way of constructing a trust network

[05:18:00.0000] <jgraham>
Nintendo could identify websites by Mii so to go to the Microsoft website, for example, you'd have to find the Microsoft Mii in the Mii Plaza

[05:19:00.0000] <beowulf>
i think that would look like a middle ages battlefield

[05:20:00.0000] <beowulf>
dead mii's everywhere, a few standing

[05:20:01.0000] <jgraham>
The slashdot Mii would be throwing rocks at the Microsoft Mii who would be blissfully oblivious

[05:20:02.0000] <Lachy>
I'm not sure what the Mii plaza is (though I assume it's something to do with the Wii)

[05:21:00.0000] <jgraham>
The Reddit Mii would be behind the bikesheds with the 4chan Mii

[05:23:00.0000] <Philip`>
/me thinks someone should port Dungeon Keeper to the Wii, and replace the characters with Miis so you can slap them around with your Hand of Evil and drop them in the torture chamber

[05:23:01.0000] <Philip`>
That would much more fun than going bowling with them

[05:42:00.0000] <zcorpan>
Philip`: what's correct behavior for 'copy' in http://simon.html5.org/dump/html5-canvas-cheat-sheet.html ?

[05:44:00.0000] <Philip`>
zcorpan: You should get just a red circle, because the circle is drawn onto an infinite transparent plane and then that plane is composited (with 'copy') onto the canvas and replaces all the pixels

[05:46:00.0000] <Philip`>
http://philip.html5.org/tests/canvas/suite/tests/results.html#2d.composite.uncovered.fill.copy - only Opera matches the spec, other people don't affect pixels that are outside the shape that's being painted

[05:46:01.0000] <kig>
anyone want to write tests for a [part of] hundred opengl canvas functions :>? goals for the tests (in the order of importance): crash the driver, hang the driver, crash the browser, read data that doesn't belong to the current gl context, read non-SOP data, hang the browser, hang the page, find stuff that doesn't work like it should

[05:47:00.0000] <zcorpan>
Philip`: so in firefox and webkit it's effectively the same as source-over?

[05:48:00.0000] <Philip`>
kig: Are there any expectations that people use modern or high-quality drivers, or does it include the thousands of many-years-old horribly-buggy drivers that people use in reality?

[05:49:00.0000] <Philip`>
kig: (because it's probably much easier to cause crashes in the latter case, but much harder to test)

[05:49:01.0000] <kig>
modern high-quality drivers, i don't expect this thing to see the light of day before the modern high-quality drivers have become old

[05:51:00.0000] <kig>
http://github.com/kig/canvas3d-tests + i guess i should put my current fork of the extension up somewhere

[05:52:00.0000] <Philip`>
I encountered one bug a year ago which I think was caused by calling getActiveUniform with invalid parameters, which raised a GL error, and the Mozilla code ignored the error and returned an uninitialised output variable, so maybe nobody's fixed that yet and it should be tested

[05:52:01.0000] <kig>
it's likely, yeah

[05:52:02.0000] <Philip`>
but I think I've currently stopped caring about canvas3d so I don't want to do any work on it now :-)

[05:52:03.0000] <kig>
none of the methods in the binding check for gl errors

[05:52:04.0000] <kig>
aight

[05:55:00.0000] <kig>
my plan for the rest of this spring is getting the gles20 canvas solid and writing an openal binding and making a website that only works if you have both

[05:55:01.0000] <kig>
then i have truly transcended to the realm of oh god why

[05:56:00.0000] <Philip`>
It'll be almost as useful as VRML!

[05:56:01.0000] <Philip`>
except with more hardware incompatibility issues

[06:01:00.0000] <kig>
i heard irc rumors mozilla js people are going to use boehm's incremental mark&sweep instead of MMgc

[06:01:01.0000] <kig>
either way, maybe the 100+ ms gc pauses will be history in the future

[06:04:00.0000] <zcorpan>
<img>, <input type=image>, <embed>, <object>, <video>... are there other ways to embed an image?

[06:05:00.0000] <zcorpan>
for which 'image-fit' is testable?

[06:05:01.0000] <zcorpan>
/me notes that generated content is not since you can't actually select the replaced element

[06:06:00.0000] <zcorpan>
<svg>?

[06:07:00.0000] <Philip`>
<canvas/><script>drawImage(foo)</script> ?

[06:07:01.0000] <zcorpan>
maybe

[06:19:00.0000] <jgraham>
http://www.marcozehe.de/2009/03/13/happy-birthday-world-wide-web/

[06:37:00.0000] <zcorpan>
/me learns that svg 1.1 is more useful a reference than svg 1.2 for preserveAspectRatio

[06:38:00.0000] <zcorpan>
s/1.2/1.2 Tiny/

[06:44:00.0000] <krijnh>
hsivonen: thanks, I feel honored :)

[06:45:00.0000] <annevk>
it's in my top 5 as well :)

[06:46:00.0000] <krijnh>
Aaw :)

[06:47:00.0000] <krijnh>
It's not even in my top 5.. I must be doing something wrong

[06:47:01.0000] <jgraham>
krijnh: Nowhere near my top 5

[06:47:02.0000] <jgraham>
Actully I don't really know but I doubt it

[06:48:00.0000] <jgraham>
Since I just use the scrollback in irssi most of the time

[06:49:00.0000] <zcorpan>
/me has http://krijnhoetmer.nl/irc-logs/whatwg as a speed dial

[06:50:00.0000] <krijnh>
You're all getting payed to have that though, I'm having enough trouble already staying up to date on the mailinglists :)

[06:51:00.0000] <Philip`>
/me has memorised how to spell krijnhoetmer

[06:51:01.0000] <Philip`>
Nobody pays me :-(

[06:51:02.0000] <krijnh>
Pronunciation as well?

[06:51:03.0000] <krijnh>
They don't?

[06:51:04.0000] <krijnh>
Wow

[06:51:05.0000] <Philip`>
(Well, not for anything web-related)

[06:51:06.0000] <krijnh>
Correction then, you must be doing something wrong!

[06:51:07.0000] <Philip`>
Pronunciation is trickier :-)

[06:53:00.0000] <Philip`>
/me reads it as something like "kreen hote-mer"

[06:53:01.0000] <krijnh>
Cryin' hoodmer

[06:55:00.0000] <Philip`>
Ah

[06:55:01.0000] <Philip`>
Close enough ;-)

[06:55:02.0000] <krijnh>
Yeah, not :)

[06:56:00.0000] <Philip`>
If I ever need to refer to you during verbal communication, I can say "that IRC logs guy" and not worry about pronunciation

[06:56:01.0000] <krijnh>
Hehe

[07:00:00.0000] <krijnh>
That's actually how annevk calls me IRL

[07:05:00.0000] <hsivonen>
/me didn't know the whattf repo had ViewVC associated with it: https://svn8.cvsdude.com/vvc/whattf/syntax?view=revision&revision=385

[07:09:00.0000] <hsivonen>
wow. Gecko has had... interesting... bugs related to document.write...

[07:39:00.0000] <Lachy>
is anyone here aware of a simple to use templating system that I can use with my varius python scripts to generate things like those tables in the HTML 5 Reference?

[07:41:00.0000] <Lachy>
I want something that allows me to extract the data from various sources, such as the spec or other config files, and input that into a templating engine, which then populates the given template file with the data

[07:43:00.0000] <Lachy>
I found cheetah, which looks like it may work. Anyone had any experience with that? http://www.cheetahtemplate.org

[07:43:01.0000] <beowulf>
isn't there a python port of Template Toolkit?

[07:43:02.0000] <beowulf>
/me goes to look

[07:44:00.0000] <jgraham>
Lachy: I use Genshi a lot

[07:44:01.0000] <jgraham>
Lachy: Mako is also supposed to be good

[07:45:00.0000] <beowulf>
http://template-toolkit.org/python/index.html

[07:45:01.0000] <jgraham>
Lachy: I think cheetah is a bit old

[07:45:02.0000] <beowulf>
TT is the best templating system I have used

[07:47:00.0000] <jgraham>
The big advantage of genshi is that it is (X|HT)ML centric so it gets things like escaping right be default

[07:47:01.0000] <Lachy>
ok, I'll investigate both of those.

[07:47:02.0000] <Philip`>
/me has used TT in Perl, but doesn't really like it, mostly because it has weird syntax rules (like you can't use expressions in function arguments)

[07:48:00.0000] <Philip`>
Lachy: Can't you just use Python print statements?

[07:52:00.0000] <Lachy>
Philip`, that's what I did with the character entity reference generator, but found that to be less flexible, and it required doing things like print header-file, loop to print each line with the data, print footer-file, instead of just having one template file and declaring which section needs to be repeated.

[07:55:00.0000] <Lachy>
it also requires me to reinvent the wheel each time I want to do it with a new template and new set of data, as do my more recent approaches, and I want to avoid that

[08:07:00.0000] <jgraham>
Lachy: BTW, if it makes a difference, I can offer help with Genshi, less so with anything else :)

[08:15:00.0000] <Lachy>
jgraham, ok, thanks

[08:15:01.0000] <neuroo>
davidb_: do you know any place where I can get the current coverage of html5 by firefox?

[08:18:00.0000] <davidb_>
neuroo: hi sorry 1 sec

[08:27:00.0000] <davidb>
neuroo: i don't know, sorry. we don't seem to have a tracker bug for html5 coverage

[08:27:01.0000] <neuroo>
okay, I actually looked for it and didn't find anything :/

[08:27:02.0000] <neuroo>
any timeline plan or something for the support? would you be aware for that?

[08:28:00.0000] <jcranmer>
well, I suppose HTML5 needs to be complete before it can be fully implemented

[08:28:01.0000] <neuroo>
true, but well, they actaully started to support audio/video

[08:29:00.0000] <jcranmer>
someone's working on an HTML5 parser

[08:30:00.0000] <annevk>
there is http://wiki.whatwg.org/wiki/Implementations_in_Web_browsers

[08:31:00.0000] <hsivonen>
neuroo: it's hard to track coverage without a test suite

[08:31:01.0000] <hsivonen>
neuroo: but the theory is that the annotation boxes in the whatwg copy of the spec track coverage in Firefox and other browsers

[08:32:00.0000] <hsivonen>
neuroo: the practice may be different, of course...

[08:32:01.0000] <neuroo>
okay, thanks :)

[08:34:00.0000] <zcorpan>
i think the annotation boxes should be reasonably accurate currently

[08:34:01.0000] <Lachy>
jgraham, if I'm understanding the documentation correctly, is the easiest way for me to proceed to create a template that contains stuff like <tr py:for="category in categories"><td>${category.tagname}</td><td>...</td></tr>

[08:35:00.0000] <Lachy>
... then then create an array of dictionaries like this: categories = [{tagname: "html", flow: "yes", phrasing: "no", ...}, {...}]

[08:35:01.0000] <Lachy>
and then feed it all through Genshi?

[08:36:00.0000] <jgraham>
Lachy: That would work for sure

[08:36:01.0000] <Lachy>
cool, then this is perfect for my needs

[08:37:00.0000] <hsivonen>
should http://www.whatwg.org/specs/web-apps/current-work/#apis-in-html-documents say Safari implements it?

[08:40:00.0000] <Lachy>
template is done http://dev.w3.org/html5/html-author/utils/categories-template.html

[08:40:01.0000] <Lachy>
now I just need to finish writing the script to create the dictionary

[08:41:00.0000] <Lachy>
/me decides to ignore the fact that that file is XML containing namespaces served as text/html :-)

[08:44:00.0000] <Lachy>
hmm, it would probably be useful if I wrote a single script that deals with all my templates so I can somehow pipe the output of other scripts that collect the data, into that one script that populates the template

[08:45:00.0000] <Lachy>
something like this: python categories.py | python template.py templatefile.html > output.html

[08:46:00.0000] <Lachy>
I wonder what the most appropriate format would be to serialise from categories.py (in this case) which can then be easily parsed by template.py

[08:51:00.0000] <jgraham>
Lachy: You could just use pickle or something

[08:51:01.0000] <jgraham>
If you don't care about human readable intermediate formats

[08:54:00.0000] <Lachy>
what's pickle?

[08:55:00.0000] <Lachy>
it definitely doesn't need to be a human readable intermediate format. It just needs to be something I can easily use for each of my scripts I have for extracting things from the spec and other sources

[08:55:01.0000] <jgraham>
Lachy: In this case it's a way of serializing python objects as strings

[08:56:00.0000] <jgraham>
Like JSON but different

[08:56:01.0000] <Lachy>
ok, that sounds like the most appropriate thing to use

[08:56:02.0000] <jgraham>
In that you can serialise more objects but it doesn't pretend to be readable

[08:57:00.0000] <jgraham>
just import pickle; it's in the stdlib

[08:58:00.0000] <Lachy>
ok, I found http://docs.python.org/library/pickle.html

[09:02:00.0000] <Lachy>
wow, that format really is unreadable by humans. I just did a simple test serialising an array of dictionaries

[09:10:00.0000] <zcorpan>
Hixie: http://www.whatwg.org/specs/web-apps/current-work/multipage/?slow-browser#video redirects to http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#video instead of http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html?slow-browser#video

[09:13:00.0000] <Philip`>
It is possible that one could claim that's a problem with the redirection script I wrote and therefore should be considered my problem, but Hixie added the ?slow-browser feature so I will claim that it is his problem instead

[09:40:00.0000] <Philip`>
kig: For uniforms, I kind of like the idea of overloading setters on the shader object, so you can say "sp.diffuseColor = [1,0,1]" and it's all nice and Javascripty

[09:40:01.0000] <Philip`>
(and the implementation can use getActiveUniform to work out what types and coercions are required)

[09:41:00.0000] <Philip`>
kind of like wrapShaderProgram in http://philip.html5.org/demos/canvas/3d/x3d/gfx_glweb20.js

[09:42:00.0000] <Philip`>
but maybe that's just crazy :-)

[09:42:01.0000] <kig>
nnnwell, i'd leave that to javascript

[09:42:02.0000] <kig>
and just do as standards-compliant and straightforward binding as possible

[09:44:00.0000] <Philip`>
Hmm, I guess that's sensible

[09:46:00.0000] <kig>
of course there's a lot of weird cruft in gles, like glTexSubImage2D spec saying that the border parameter must be 0

[09:48:00.0000] <kig>
but if you remove that, you turn s/gl/gl./ -port into s/glTexImage2D((stuff),(border)(,stuff))/gl.texImage2D(\1\3)/

[09:50:00.0000] <Philip`>
Then you've still got the cruft of talking about "2D" explicitly, when there's no 1D or 3D

[09:50:01.0000] <kig>
yeah

[09:52:00.0000] <Philip`>
/me wondered a while ago whether it'd be sensible to adopt the kind of API that OpenGL 3.0 was going to switch to (before they decided that actually they didn't want to modernise the API at all)

[09:54:00.0000] <Philip`>
(I think that new API sort of sneaked out as http://www.opengl.org/registry/specs/EXT/direct_state_access.txt or something? I probably should have paid more attention when this was happening...)

[09:58:00.0000] <kig>
gles20 doesn't even have any stacks, so it's very stabby writing code for it

[09:59:00.0000] <kig>
500 lines for a spinning lit cube D:

[10:01:00.0000] <Philip`>
Just the kind of thing we should be exposing to web authors who can't even understand the difference between HTML and XHTML

[10:02:00.0000] <kig>
what i might want to do is a GC-friendly matrix and vector classes, but uh, no idea what the JS call overheads are like (if your M*v takes 30 cycles, 100-cycle overhead for the C call ..is still going to be faster than plain js)

[10:06:00.0000] <gsnedders>
/me kinda tempted to do some work on PHP html5lib

[10:06:01.0000] <gsnedders>
But there again, that means bothering

[10:39:00.0000] <kig>
Philip`: yeah, it is expert stuff, like writing a text editor with canvas 

[10:43:00.0000] <Philip`>
kig: The difference is that it's designed solely for experts and unusable to everyone else, unlike normal canvas which is designed for more normal people but can be twisted by experts into doing crazy things

[10:44:00.0000] <kig>
so it is a good logical continuation on that path

[10:45:00.0000] <kig>
designed for more expert people but can be twisted by programming demigods into doing utterly insane things

[10:46:00.0000] <Philip`>
The problem is that normal people will it anyway, and they'll make a horrible mess

[10:46:01.0000] <Philip`>
*will use it

[10:47:00.0000] <jgraham>
gsnedders: Do some work on python html5lib instead

[10:47:01.0000] <kig>
i do see the problem, but i don't see what can be done about it

[10:47:02.0000] <Philip`>
When 2D-canvas has slightly complex features like getImageData not necessarily returning 1 pixel of data per canvas-pixel, people keep using it wrongly, which means browsers that try to do higher-quality canvases will start breaking, so it hurts everyone

[10:49:00.0000] <kig>
uh, there are browsers that do that?

[10:50:00.0000] <Philip`>
and with 3D-canvas people are going to write pages that only work on NVIDIA drivers on Windows and silently fail everywhere else, and it could be considered worse than if the feature didn't exist at all

[10:51:00.0000] <Philip`>
kig: I think WebKit does if you've set some OS UI scaling factor

[10:52:00.0000] <kig>
only work on Nvidia drivers, yes, that is a problem with the nvidia glsl allowing Cg-isms unless the shader has #version foo 

[10:53:00.0000] <kig>
i guess there are other things as well, but that's the first example that sprung to mind

[10:58:00.0000] <kig>
i don't like pixels not being pixels. it's so "let's break every pixel-munging canvas script out there"

[11:00:00.0000] <Philip`>
Before getPixelData came along, nobody said that canvas was pixels

[11:00:01.0000] <Philip`>
It was just a vector-based immediate-mode API

[11:00:02.0000] <Philip`>
and implementations could do whatever high-resolution stuff or low-resolution-but-with-anti-aliasing stuff they fancied, to make it look good

[11:01:00.0000] <kig>
and then they put getImageData in, the knaves!

[11:02:00.0000] <Philip`>
I must admit it's quite useful functionality

[11:03:00.0000] <Philip`>
but it prevents the canvas-is-a-bunch-of-vectors and canvas-is-a-bunch-of-pixels people from coexisting peacefully

[11:03:01.0000] <kig>
i hope canvas.width and height at least return the correct pixel amount or that there's some way of getting the dimensions for getting the whole canvas contents

[11:04:00.0000] <Philip`>
canvas.width/height are the size in canvas coordinate units, which are not necessarily related to the number of device pixels in the backing buffer that the implementation uses

[11:04:01.0000] <kig>
var fac = getImageData(0,0,1,1).width

[11:05:00.0000] <kig>
oh but maybe it's fractional, var fac = getImageData(0,0,canvas.width,1).width/canvas.width

[11:05:01.0000] <Philip`>
There's no requirement for it to even be linear, I think

[11:06:00.0000] <Philip`>
You could have a higher pixel density in the left of the image

[11:06:01.0000] <Philip`>
perhaps because you know the user is looking at their screen from the side, and you don't need so many pixels in the distance

[11:06:02.0000] <kig>
:--------|

[11:06:03.0000] <Philip`>
Oh, actually, that's not true

[11:06:04.0000] <Philip`>
Oh, actually, I think it might be

[11:07:00.0000] <Philip`>
It's required that context.createImageData(w, h).width == context.getImageData(0, 0, w, h).width but maybe it could differ if you change the getImageData x

[13:32:00.0000] <jgraham>
http://intertwingly.net/stories/2009/03/13/html5-evolution.html

[16:04:00.0000] <VeXocide>
hmz, should '<a <b><i>b</b>c' parse to '<html><head></head><body><a <b=""><i>bc</i></a></body></html>' ?

[16:05:00.0000] <VeXocide>
as in, is <a <b=""> legal ?

[16:08:00.0000] <Philip`>
VeXocide: HTML5 says it should parse like that, i.e. having an attribute named "<b"

[16:08:01.0000] <VeXocide>
Philip`, i find that odd, but alright

[16:10:00.0000] <gsnedders>
VeXocide: It is, however, non-conforming

[16:11:00.0000] <VeXocide>
non-conforming ?

[16:12:00.0000] <gsnedders>
VeXocide: And a conforming implementation could also create no parse tree, and throw a fatal error (as it'll never get to the point of emitting the a start tag, so thus won't even have <html><head></head><body></body></html>)

[16:12:01.0000] <VeXocide>
ah, right, but when forced to make something out of it, this would be it

[16:12:02.0000] <gsnedders>
VeXocide: I mean "<a <b><i>b</b>" does not conform to HTML 5's requirements for documents, and  '<a <b="">' cannot occur in a conforming document

[16:13:00.0000] <gsnedders>
(and insofar as that, it is not legal)

[16:13:01.0000] <gsnedders>
But a conforming parser would either end up with what you gave, or give a fatal error.

[16:13:02.0000] <VeXocide>
gsnedders, that was why i was amazed, gecko makes something like <a><b><i>b</i></b><i>c</i></a> out of it

[16:14:00.0000] <VeXocide>
which somehow makes more sense

[16:14:01.0000] <gsnedders>
VeXocide: Consider the <a <script>alert(foo)</script>>magic link</a> case

[16:14:02.0000] <VeXocide>
fair enough, and they are rather nasty cases

[16:15:00.0000] <gsnedders>
What IE does is probably more relevant than Gecko, though

[16:21:00.0000] <Philip`>
(<a <b=""> isn't a parse error, it's just an undefined attribute so it's the same kind of error as <a b="">)

[16:23:00.0000] <gsnedders>
Woah.

[16:23:01.0000] <gsnedders>
Odd.

[16:24:00.0000] <gsnedders>
/me didn't expect "Start a new attribute in the current tag token. Set that attribute's name to the current input character, and its value to the empty string. Switch to the attribute name state."

[16:24:01.0000] <Philip`>
Without that step, you would have to write all attributes names in uppercase :-p

[16:24:02.0000] <Philip`>
s/s//

[16:24:03.0000] <gsnedders>
Well, sure


2009-03-14
[19:09:00.0000] <[bjoern]>
Hixie, you around?

[19:10:00.0000] <gsnedders>
jgraham or annevk5: ping

[19:13:00.0000] <annevk5>
pong

[19:13:01.0000] <annevk5>
/me deals with an invasion of Portuguese twitter followers

[19:14:00.0000] <gsnedders>
annevk5: Could I possibly ask you to host something, seeming you have a working copy of lxml on a pubic webserver?

[19:16:00.0000] <gsnedders>
annevk5: Namely, my school computing project, which is really just a slightly disguised biblio module for Anolis

[19:16:01.0000] <annevk5>
can't you use gsnedders.html5.org ?

[19:17:00.0000] <gsnedders>
Oh, lxml works there. Oh.

[19:17:01.0000] <gsnedders>
All right, that'll work.

[19:19:00.0000] <[bjoern]>
Hixie: nm

[19:28:00.0000] <Hixie>
here now

[19:28:01.0000] <[bjoern]>
annevk5 kindly took care of the matter.

[19:29:00.0000] <annevk5>
"RDFa in XHTML becomes a W3C Recommendation. Still not in HTML5." is a bit misleading in that intertwingly page; it's not in XHTML 1.0 either

[19:32:00.0000] <Hixie>
annevk5: there's a lot on that page that's misleading, starting with the first sentence :-)

[19:32:01.0000] <Philip`>
/me wonders why Rob Burns' proposals always seem to involve making things massively more complex

[19:33:00.0000] <annevk5>
Hixie, fair enough, I was just skimming a bit

[19:33:01.0000] <annevk5>
Philip`, I'm sure he'd disagree with that :p

[19:35:00.0000] <Hixie>
annevk5: there's a lot of other stuff in there that is misleading to various degrees

[19:35:01.0000] <annevk5>
hmm, missed Pi Day by a ~50 minutes

[19:35:02.0000] <Hixie>
it's not clear if sam knows that it's misleading and is trying to achieve some goal or other, or if he doesn't know

[19:35:03.0000] <annevk5>
s/by a/by/

[19:36:00.0000] <annevk5>
I always find it hard to tell with him though he usually seems to have some goal

[20:42:00.0000] <heycam>
what's a one-liner i can use for html5lib to convert html5 to xml?

[20:49:00.0000] <heycam>
seems i already asked this =)   http://krijnhoetmer.nl/irc-logs/html-wg/20070622#l-85

[21:20:00.0000] <[bjoern]>
/me notes to self that adding attributes to elements in a schema is not adding a new feature

[02:17:00.0000] <annevk5>
(bjoern, if you read these logs at all the answer to your question is "no")

[02:26:00.0000] <jgraham>
/me wonders why rubys is so hung up on aria when there is agreement that aria will be included in html5 just as soon as the interaction with other parts of html5 is defined

[02:26:01.0000] <annevk5>
and ARIA itself is defined in implementable terms

[02:27:00.0000] <jgraham>
And when several "whatwg" people spent a great deal of effort making it possible to implement aria

[02:27:01.0000] <jgraham>
(in HTML)

[02:28:00.0000] <jgraham>
annevk5: That's roughly the same thing. But there is an aria taskforce thing

[02:28:01.0000] <annevk5>
yeah dunno, maybe because the TAG used it as example

[02:28:02.0000] <annevk5>
and he's obviously been reading up on what happened so it might just have come from that debate

[02:29:00.0000] <annevk5>
jgraham, I'm not really sure it's the same; defining how ARIA interacts with HTML and how ARIA maps to platform accessibility APIs seems quite separate

[02:30:00.0000] <jgraham>
annevk5: Well it's kind of a subset I guess. Define how aria maps to accessibility apis, define how html maps to accessibility apis and define precedence and you can infer how aria fits into html

[02:32:00.0000] <jgraham>
Who is doing the aria work?

[02:33:00.0000] <annevk5>
not sure

[02:33:01.0000] <annevk5>
/me hasn't been following it

[02:42:00.0000] <annevk5>
maybe now aaronlev left IBM it's sort of falling through the cracks?

[02:42:01.0000] <rubys1>
it==aria?

[02:42:02.0000] <olliej>
annevk5: hahaha 

[02:42:03.0000] <olliej>
/me is supportive

[02:42:04.0000] <annevk5>
rubys, y

[02:43:00.0000] <rubys>
definitely not falling through the cracks

[02:43:01.0000] <annevk5>
well, I meant the ARIA mapping to platform APIs

[02:43:02.0000] <jgraham>
rubys: regarding your document, I think there are pretty clear plans to integrate api in html5

[02:43:03.0000] <annevk5>
though someone from Microsoft was leading that too, I recall now

[02:44:00.0000] <jgraham>
But it is blocking on aria being defined in a sutiable way

[02:44:01.0000] <rubys>
aria is an exemplar, those that worked on it have worked well with those that are leading html5

[02:44:02.0000] <rubys>
other groups (e.g. RDFa): not so much

[02:45:00.0000] <annevk5>
ARIA was quite a tough sell actually

[02:46:00.0000] <annevk5>
ask hsivonen

[02:46:01.0000] <rubys>
I watched it from the sidelines

[02:46:02.0000] <annevk5>
they seemed to care more about XHTML2 than HTML at various points in the discussion o_O

[02:47:00.0000] <jgraham>
rubys: There are still some technical issues blocking aria. Like, say, how does aria-labelledby interact with @headers on a <td>

[02:47:01.0000] <jgraham>
I believe integrating aria into HTML5 is blocking on those issues being reslved

[02:47:02.0000] <rubys>
ARIA is in last call... perhaps somebody should raise such issues?

[02:48:00.0000] <annevk5>
the PFWG wants to address those in separate documents

[02:48:01.0000] <jgraham>
rubys: I think I have

[02:48:02.0000] <annevk5>
including e.g. basic things such as how to implement it

[02:48:03.0000] <jgraham>
Although I find the tangle of accessibility related lists hard to follow

[02:49:00.0000] <rubys>
My read is that those that want ARIA want it in HTML5, and view being in a separate document as somewhat suboptimal

[02:49:01.0000] <jgraham>
who are "those that want aria" in this case?

[02:50:00.0000] <rubys>
Mostly I talk to RichardS, mainly because he's in my dept.

[02:51:00.0000] <jgraham>
I think it is possible to have HTML5 define how ARIA+HTML5 works. Although I think it is a little dependant on the outcome of this aria taskforce thing what it should say

[02:52:00.0000] <jgraham>
(the one about how to map aria to accessibility apis)

[07:15:00.0000] <annevk>
pff, reading through http://intertwingly.net/stories/2009/03/13/html5-evolution.html more carefully I find I have quite a few remarks to make, but I wonder if it's worth the effort

[07:16:00.0000] <rubys>
/me listening

[07:16:01.0000] <annevk>
e.g. the WHATWG scope never changed imo

[07:17:00.0000] <annevk>
we always wanted to fix all the holes in previous specifications

[07:17:01.0000] <annevk>
it turned out that while doing this, the WF 2.0 approach wasn't that good

[07:18:00.0000] <annevk>
(writing a "patch-spec")

[07:20:00.0000] <annevk>
the introduction reads very much like a strawman and I'm not sure if e.g. "Those with a vested interest will portray portions of the truth in a way that will sound very plausible." does not apply to you

[07:20:01.0000] <rubys>
oh, it applies to me. 

[07:23:00.0000] <rubys>
annevk: is that it?  Hardly "quite a few remarks"...

[07:24:00.0000] <Philip`>
There are clearly serious problems with that article - for a start, the colours are a little bit peculiar

[07:24:01.0000] <Philip`>
Also I'm not a big fan of serif fonts

[07:25:00.0000] <rubys>
Did I set the fonts?  checking...

[07:25:01.0000] <Philip`>
They're just the default, I think

[07:25:02.0000] <rubys>
Nope.  Unless you count "font-size: small"

[07:26:00.0000] <rubys>
You don't like the defaults provided by your browser, and somehow that's *my* problem?  <grin>

[07:28:00.0000] <annevk>
I wasn't planning on being exhaustive; but to continue... it doesn't explain why the WHATWG was formed

[07:28:01.0000] <rubys>
/me wishes everybody a happy œÄ day.

[07:28:02.0000] <annevk>
as we actually did try to get this done at the W3C

[07:29:00.0000] <rubys>
If you have links to add, I'll gladly revise.  If you want to rip it to shreds on your weblog or elsewhere, that's also entirely OK with me.

[07:30:00.0000] <rubys>
I do believe that the stated scope is different.  The notion that perhaps people stated one scope while intending to do something else and then doing that other things... let's just say that bothers me deeply.  I prefer to think that WF 2.0 didn't work out (as you said), and the scope changed.

[07:34:00.0000] <annevk>
WF2 was about updating and extending one part of HTML4/DOM2, WA1 was about the rest

[07:35:00.0000] <Philip`>
http://esw.w3.org/topic/HTML/history links to a lot of the history

[07:35:01.0000] <annevk>
which seems in line with the position paper that led to the WHATWG http://www.w3.org/2004/04/webapps-cdf-ws/papers/opera.html

[07:35:02.0000] <annevk>
but I may be missing stuff

[07:35:03.0000] <Philip`>
e.g. the Workshop on Web Applications and Compound Documents and surrounding blog posts and formation of the WHATWG

[07:37:00.0000] <rubys>
annvk's link is a good one, and one that isn't in the esw history...

[07:38:00.0000] <Philip`>
"Opera and Mozilla jointly submit and present a position paper with a set of proposed Design Principles for Web Application Technologies"

[07:38:01.0000] <Philip`>
That looks to be linking to the same paper

[07:38:02.0000] <rubys>
dates are off by two months?

[07:38:03.0000] <annevk>
the WHATWG charter also hasn't been revised apart from the members section afaik and it still applies I think

[07:39:00.0000] <Philip`>
rubys: I hope you're not attempting to derive any meaning from the date-like numbers in w3.org URLs :-)

[07:39:01.0000] <annevk>
rubys, W3C uses dates in URIs for namespacing only

[07:39:02.0000] <annevk>
there's hardly ever much meaning in it :/

[07:40:00.0000] <Philip`>
rubys: The workshop was 2004-06-{01,02}, and I guess they just created the web site in 2004-04

[07:40:01.0000] <rubys>
ok, got it

[07:41:00.0000] <rubys>
ok, so todo is to scour that page for useful links and/or simply link outright to that page.  I'm surprise to see Atom featured so prominently in that page.

[07:41:01.0000] <Philip`>
I'm sure I saw a /2009 URL (for the next TPAC or something?) last year, so presumably it doesn't always correspond to creation date

[07:42:00.0000] <Philip`>
http://www.w3.org/2009/11/TPAC/

[07:43:00.0000] <annevk>
might depend on who sets it up :)

[07:43:01.0000] <rubys>
http://shawn.medero.net/blog/2009/03/11/buckle-up/

[07:43:02.0000] <rubys>
that suggests that more coverage of canvas seems appropriate.  I don't see canvas mentioned in the ews page either.

[07:46:00.0000] <Philip`>
/me presumes the appropriateness depends on the goal of the document, and he doesn't know what the goal is

[07:46:01.0000] <annevk>
time to find a gate

[07:47:00.0000] <rubys>
Philip`: world domination?

[07:48:00.0000] <Philip`>
rubys: If that's the goal, I think an army of clones would be more effective than a document on the history of HTML

[07:55:00.0000] <rubys>
a week from tomorrow, I'll be in a room with a bunch of people, some of which actually think that RDFa is a good idea or XForms is a good idea, or alt attributes should be required.  Many of them will be looking at me, as I will be on stage in a panel.

[08:59:00.0000] <sayrer>
"If you don't agree with a rule you are told to follow, announce your agreement to it in a statement, and in that statement, assert that you intend to follow it in a manner consistent with some other set of rules;"

[09:02:00.0000] <rubys>
As a general rule, I tend to reduce over time my association with people who live by that particular maxim.

[09:10:00.0000] <karlcow>
hehe

[09:38:00.0000] <Hixie>
sayrer: the last US administration was really quite good at applying that particular technique

[09:38:01.0000] <sayrer>
so is the editor of the W3C HTML5 spec ;)

[09:39:00.0000] <Hixie>
if you say so

[09:39:01.0000] <jgraham>
 There's nothing like a little flamebait to warm the heart on a Saturday afternoon

[09:40:00.0000] <rubys>
Meanwhile, draft-hixie has gotten a lot of attention the past month.  draft-sayre... not so much.

[09:40:01.0000] <sayrer>
*shrug

[09:41:00.0000] <Hixie>
crap, match is about to start. gotta go.

[09:43:00.0000] <gsnedders>
/me wonders what match

[09:44:00.0000] <jgraham>
/me guesses not football

[09:44:01.0000] <gsnedders>
jgraham: football in what language?

[09:44:02.0000] <jgraham>
Does anyone have any useful LaTeX advice for me?

[09:44:03.0000] <gsnedders>
http://pastebin.com/m1fb3906a ‚Äî can someone explain why Python isn't importing it from where I'd expect?

[09:45:00.0000] <gsnedders>
Oh, wait, duh.

[09:45:01.0000] <jgraham>
Specifically what to do when dvip[s|df] complains dvips: ! Couldn't find header file times.ttf

[09:45:02.0000] <jgraham>
This used to work

[09:46:00.0000] <jgraham>
But I guess the system has been upgraded under me

[09:46:01.0000] <jgraham>
*upgraded

[09:48:00.0000] <Philip`>
jgraham: Use Computer Modern

[09:49:00.0000] <Philip`>
Also, use pdflatex

[09:49:01.0000] <gsnedders>
Also, use xelatex

[09:50:00.0000] <jgraham>
Philip`: That would involve redoing all my plots. It is the text in the plots that is causing the problem afaict

[09:51:00.0000] <jgraham>
Also pdflatex doesn't show any of the plots at all for some reason. And I really really don't want to change tools now

[09:51:01.0000] <jgraham>
xelatex is simply not an ooption 

[09:52:00.0000] <Philip`>
jgraham: Use Word

[09:52:01.0000] <jgraham>
(these are the corrections for my thesis which I should have done several months ago but didn't have an internet connection handy. Hence the reluctance to make any major changes)

[09:53:00.0000] <jgraham>
(because I never want to read it again)

[09:54:00.0000] <gsnedders>
/me is intending on never writing a thesis

[09:54:01.0000] <gsnedders>
Thereby avoiding this issue

[09:54:02.0000] <Philip`>
/me too

[09:54:03.0000] <gsnedders>
Philip`: What degree is it that you're doing now?

[09:55:00.0000] <Philip`>
gsnedders: It's a PhD

[09:55:01.0000] <gsnedders>
That's what I thought.

[09:55:02.0000] <gsnedders>
/me wonders how Philip` intends to do a PhD without writing a thesis

[09:55:03.0000] <Philip`>
That doesn't mean I'm intending on doing any work

[09:55:04.0000] <jgraham>
/me was never quite sure what happened ifyou did a PhD but never handed anything in

[09:56:00.0000] <Philip`>
You stop getting any funding

[09:56:01.0000] <jgraham>
Although one of my supervisors ex students went home to brazil to write up and was never seen again

[09:56:02.0000] <jgraham>
Philip`: Yeah, I realise that

[09:56:03.0000] <Philip`>
and in CS I think they try to kick you out if you've taken more than four or five years because it means the department will get less funding in the future

[09:56:04.0000] <gsnedders>
And it's meant to be what? Three years?

[09:56:05.0000] <gsnedders>
/me forgets

[09:57:00.0000] <jgraham>
Is there a way for the funding people to try to reclaim anyof their money?

[09:57:01.0000] <Philip`>
(since the funding bodies don't like paying for people who aren't going to finish anything)

[09:57:02.0000] <jgraham>
(There was a similar situation with us and overrunning)

[09:57:03.0000] <gsnedders>
jgraham: (Us meaning astrophys.?)

[09:58:00.0000] <jgraham>
gsnedders: Us meaning "people funded by the funding body formerly known as PPARC and now known as STFC"

[09:58:01.0000] <Philip`>
jgraham: I'm not aware of that being possible - I assume they just decide each year whether to continue the funding

[09:59:00.0000] <gsnedders>
Wow, very loud low flying jets suddenly

[09:59:01.0000] <gsnedders>
(I assume Eurofighters)

[10:17:00.0000] <hsivonen>
rubys: I think it would be fair to say that Microsoft was invited to the WHATWG

[10:19:00.0000] <Philip`>
But it seems the WHATWG wasn't willing to take the necessary steps (like patent policy stuff) for Microsoft to be able to accept that invitation

[10:20:00.0000] <hsivonen>
yeah, it would also be fair to say that

[10:22:00.0000] <Philip`>
(and Apple's canvas patent demonstrates that implementing HTML5 will infringe on people's patents, so the need for protection is realistic)

[10:25:00.0000] <gsnedders>
(Apart from the fact that Apple didn't sue anyone)

[10:28:00.0000] <Philip`>
(I don't think "I haven't sued anyone yet" is an adequate justification for companies to believe there's no risk of being sued in the future)

[10:29:00.0000] <Philip`>
(Maybe everyone will stop buying Apple products and they will devolve into a patent troll five years from now)

[10:31:00.0000] <karlcow>
gsnedders: if you choose the way of "didn't sue anyone", then you have to admit that there is "no issue with w3c doc license". Very similar case.

[10:32:00.0000] <gsnedders>
karlcow: You assume everything I say is serious

[10:32:01.0000] <gsnedders>
:)

[10:34:00.0000] <Philip`>
gsnedders: You should be sure to use ":)" whenever you say anything non-serious

[10:38:00.0000] <gsnedders>
Hmm‚Ä¶ There's a hole in my hoodie.

[10:38:01.0000] <gsnedders>
Actually, that's untrue. There's quite a lot of holes in my hoodie.

[10:38:02.0000] <karlcow>
gsnedders: it is hard (even with smileys) to convey the intent of the message. Electronic communications are  highly decontextualized. Plus humour is something which is very cultural and "private" group of alike minded people 

[10:38:03.0000] <Philip`>
Makes it easier to insert your head

[10:39:00.0000] <karlcow>
* in a group‚Ä¶

[10:42:00.0000] <rubys>
hsivonen and Philip`: I'm looking for statements that have URIs

[10:44:00.0000] <Philip`>
/me wonders what kinds of statements rubys means

[10:44:01.0000] <rubys>
"it seems the WHATWG wasn't willing to take the necessary steps".... got a URI?

[10:44:02.0000] <Philip`>
Ah

[10:46:00.0000] <Philip`>
http://blogs.msdn.com/cwilso/archive/2007/01/10/you-me-and-the-w3c-aka-reinventing-html.aspx

[10:46:01.0000] <rubys>
preferably one with a date... mailing list archives are ideal.  Not this W3C business of putting what looks like dates in URIs that have little resemblance to actual dates.  (caption for the humor impaired: It's a joke, son)

[10:46:02.0000] <Philip`>
"I was asked personally to join the WHAT WG over a year ago.  I had a back-and-forth discussion in email with several of the members of the WHAT-WG.  I said [...] ‚Äúyou have no patent policy, and that makes it impossible for me to join.‚Äù  The response was something along the lines of ‚Äúyeah, we should get one of those.‚Äù"

[10:47:00.0000] <gsnedders>
http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2004-June/000220.html also says we should do something about the lack

[10:47:01.0000] <rubys>
thanks!

[10:48:00.0000] <gsnedders>
/me doesn't think anything has ever happened about getting one thoguh

[10:49:00.0000] <rubys>
I think the issue is that if whatever is broken at the W3C (starting with the license) were to be fixed, there would be no need to fix the WHATWG's lack of patent policy.

[10:49:01.0000] <Philip`>
gsnedders: The WHATWG did get a patent policy, by getting the W3C to make a WG for it

[10:53:00.0000] <Philip`>
/me assumes a W3C patent policy is going to be more effective than a WHATWG patent policy could be, because people could decide to violate the WHATWG patent policy and not suffer any significant repercussions

[10:53:01.0000] <Philip`>
(whereas "Microsoft kicked out of W3C for violating patent policy" would be bad in terms of PR and in terms of all the other W3C work they care about)

[10:54:00.0000] <Philip`>
s/Microsoft/Apple/ if you want

[10:56:00.0000] <karlcow>
aaah? Was it a political move from whatwg then? ;) explicitly kidding

[11:12:00.0000] <Philip`>
gsnedders: http://bugs.gsnedders.com/ says "Bad Gateway" :-(

[11:14:00.0000] <Hixie>
gsnedders: First Robotics match. I'm one of the refs at the silicon valley regional.

[11:14:01.0000] <Hixie>
gsnedders: don't you read my twitters?

[11:26:00.0000] <rubys>
hixie: there was some confusion, you are still planning on going to this, right: http://esw.w3.org/topic/IETF_HTML5_Meeting_March_2009 ?

[11:27:00.0000] <Hixie>
yes; i'm planning on going to all meetings in san franscisco near the ietf meeting that don't involve me paying an entrance fee

[11:27:01.0000] <Hixie>
(and that i'm invited to)

[11:27:02.0000] <Hixie>
as far as i know that's the only one

[11:28:00.0000] <rubys>
there's an unrelated meeting the next day, let me find the URI...

[11:28:01.0000] <rubys>
Actually, I twittered it, don't you read my twitters?  :-)

[11:29:00.0000] <rubys>
http://tinyurl.com/ahtgn3

[11:29:01.0000] <rubys>
Brad Neuberg

[11:31:00.0000] <Hixie>
i don't classify "drinking" as a meeting :-)

[11:33:00.0000] <Hixie>
rubys: incidentally, re the first sentence of your html-evolution document, the whatwg list has more subscribers than the entire browser development teams of apple, opera, google, and mozilla put together

[11:34:00.0000] <rubys>
interesting, but only if you conflate subscribers with contributors :-)

[11:35:00.0000] <rubys>
that said, I'm a contributor and I'm not employed by a browser vendor

[11:35:01.0000] <Hixie>
the acknowledgements section of html5 -- all people who have contributed in a way that actually affected the spec -- has more names on it than the core browser development teams of all those browser vendors too

[11:36:00.0000] <rubys>
some sort of adjective, like "primarily" perhaps, would seem to be in order.

[11:36:01.0000] <Hixie>
(i.e. not counting suppot staff like lawyers)

[11:36:02.0000] <Hixie>
i don't know that it's even "primarily" to be honest

[11:36:03.0000] <Hixie>
since the browser vendors are contributing just as much to the w3c as the whatwg at this point

[11:37:00.0000] <Hixie>
and other people are mostly contributing just to the whatwg

[11:40:00.0000] <rubys>
My perception is that there is a long tail phenomenon going on here.  Some people (e.g. annevk) contribute dramatically more than others (e.g., rubys).  Those that tend to contribute more tend to be tightly associated with a browser vendor, for obvious reasons.

[11:44:00.0000] <Hixie>
actually anne's a great example

[11:44:01.0000] <Hixie>
if i'm not mistaken, he was independent originally

[11:44:02.0000] <Hixie>
and it was his involvement in the list that led to him working for a browser vendor

[11:44:03.0000] <Hixie>
same with jgraham, lachy, zcorpan

[11:44:04.0000] <Hixie>
probably others too

[11:57:00.0000] <karlcow>
rubys: browser vendors employees and usually students. People who have paid time for it, or people who use their free time for community involvement instead of studies

[11:57:01.0000] <Hixie>
just like with the w3c :-)

[11:58:00.0000] <karlcow>
I noticed since I have a job which is not directly tied to standards work that it becomes a *lot* harder to follow what is really happening (from political to technical). 

[11:58:01.0000] <Hixie>
right, alliances are selected; time for lunch, then the elimination rounds!

[12:16:00.0000] <gsnedders>
Hixie: Not sync. enough :)

[12:17:00.0000] <gsnedders>
Philip`: Why do you want that bugtracker anyway? :P

[12:22:00.0000] <Philip`>
gsnedders: I don't, but Google told me to look at it

[12:22:01.0000] <gsnedders>
Philip`: Why?

[12:22:02.0000] <Philip`>
when I was searching for your HTTP parsing thing

[12:23:00.0000] <gsnedders>
http://stuff.gsnedders.com/http-parsing.html

[12:28:00.0000] <annevk5>
"Plus humour is something which is very cultural and "private" group of alike minded people" I find I can have a laugh with most people in most countries I've visited (saying most because I might not remember all)

[12:31:00.0000] <Philip`>
Cultures aren't necessarily aligned with national boundaries, so that doesn't mean much if the people in those countries were all part of the web-development cultures

[12:31:01.0000] <Philip`>
s/s$//

[12:32:00.0000] <jgraham>
Philip`: I dunno, it's not like all web developoers have the same sense of humour

[12:33:00.0000] <annevk5>
And it's also not like I only meet web-development people :)

[12:34:00.0000] <karlcow>
+1 to Philip`. A unix joke with fly a lot better with people actually knowing unix (aka culture) in any countries 

[12:34:01.0000] <karlcow>
annevk5: hehe

[12:35:00.0000] <Philip`>
jgraham: Sure, but they're much more similar to each other than to e.g. goatherders in Morocco, I would assume

[12:35:01.0000] <karlcow>
I know that most of the humour I could do here would be shocking, so most of the time I abstain. I do it with the group of people which have the same sense of humour. It avoids me troubles ;) I have already enough here ;)

[12:36:00.0000] <jgraham>
karlcow: Shocking?

[12:38:00.0000] <Philip`>
You couldn't be even as shocking as Mr Last Week, surely

[12:38:01.0000] <karlcow>
jgraham: yes :) I have a tendency to be very sarcastic (checking the dictionary), but in an absurd way. For understanding the humour, you would have to really know me, because it is often at the opposite of what I really think. 

[12:38:02.0000] <Philip`>
and he's just weird rather than shocking :-)

[12:38:03.0000] <karlcow>
Philip`: Mr Last Week is not shocking. He is right on the spot ;)

[12:39:00.0000] <jgraham>
karlcow is looking increasingly like a Mr Last Week candidate :)

[12:40:00.0000] <jgraham>
karlcow: Yeah, I do the sarcasm thing. Or a sarcasm thing. But I'm trying to tone it down for living abroad because it doesn't necessarily cross language (rather than cultural) barriers

[12:41:00.0000] <karlcow>
jgraham: I wish I was, but unfortunately 1) my English level is not good enough compared to the talent of Mr Last Week, 2) I don't think I have said things about people behind a pseudo. 

[12:42:00.0000] <karlcow>
at least a pseudo which was not known from the recipient of the message

[12:42:01.0000] <karlcow>
would be more exact

[12:42:02.0000] <karlcow>
aka karlcow for example

[12:42:03.0000] <jgraham>
karlcow: 2) suggests that you don't really wish you were

[12:43:00.0000] <jgraham>
Since you don't have a tendency toward anonymous trolling

[12:43:01.0000] <jgraham>
however literate

[12:44:00.0000] <karlcow>
yep exactly. If I was doing comments. It would be serious ;) maybe even more critics and it would get me a lot of troubles. I have only one life, I don't wish to spend it fighting all the time. :)) just being sane

[12:45:00.0000] <karlcow>
though I'm more likely to say things face to face, which I prefer usually. 

[12:45:01.0000] <karlcow>
annevk5 and I had a few enjoyable (at least for me) discussions. 

[12:45:02.0000] <karlcow>
annevk5 is someone I respect.

[12:51:00.0000] <gsnedders>
You respect annevk5!? You idiot! :D

[12:51:01.0000] <karlcow>
ahah

[12:51:02.0000] <gsnedders>
/me wonders what on earth is going on with this Python

[12:51:03.0000] <karlcow>
/me is waiting for my money transfert

[12:51:04.0000] <annevk5>
that's what you get for calling me idiot

[12:53:00.0000] <karlcow>
rha gsnedders you see, you made him upset!

[12:54:00.0000] <gsnedders>
And I can't even say sorry!

[12:54:01.0000] <Philip`>
gsnedders: Maybe it swallowed a crocodile

[12:55:00.0000] <Philip`>
http://news.bbc.co.uk/1/shared/spl/hi/pop_ups/05/americas_enl_1128575604/html/1.stm - poor python :-(

[12:56:00.0000] <Philip`>
If that's not it, I don't know what problems you're experiencing

[12:56:01.0000] <karlcow>
"La Grenouille et la Vache" Jean de la Fontaine. 

[12:58:00.0000] <gsnedders>
WTF!?

[13:01:00.0000] <gsnedders>
Has anyone here read Le Chiendent?

[13:01:01.0000] <gsnedders>
(by Raymond Queneau)

[13:06:00.0000] <Philip`>
/me hasn't read any French books, except a few pages of an English translation of "Graphes, dio√Ødes et semi-anneaux"

[13:09:00.0000] <gsnedders>
deepcopy does something really whacky

[13:09:01.0000] <gsnedders>
The copy it creates has no attributes seemingly

[13:32:00.0000] <gsnedders>
Ow.

[13:32:01.0000] <gsnedders>
I just killed performance in a big way.

[13:35:00.0000] <Philip`>
gsnedders: As opposed to a tiny little killing?

[13:35:01.0000] <gsnedders>
Philip`: Exactly.

[13:36:00.0000] <Philip`>
/me wonders if you can get a reduced sentence for murder if you only kill somebody a little bit

[13:57:00.0000] <Philip`>
/me would be more convinced by Microsoft's claims of "most complete" CSS 2.1 support if they didn't close his bug report, of a CSS bug which makes his site unusable in IE8 (compared to merely ugly in IE7), as "postponed"

[14:04:00.0000] <gsnedders>
How the hell does that happen‚Ä¶

[14:05:00.0000] <gsnedders>
self.index(self[key]) ‚Äî ValueError: list.index(x): x not in list

[14:06:00.0000] <gsnedders>
Oh, duh.

[14:18:00.0000] <jgraham>
gsnedders: I bet x is not in the list

[14:18:01.0000] <gsnedders>
Indeed it is not.

[14:19:00.0000] <gsnedders>
/me has basically changed everything about how the list behaves though

[14:19:01.0000] <jgraham>
gsnedders: Is that an ordered dict? 

[14:19:02.0000] <gsnedders>
jgraham: No

[14:19:03.0000] <jgraham>
Oh. Well it has a __getitem__ and an index so it seems quite like one

[14:20:00.0000] <jgraham>
(maybe not insertion ordered)

[14:21:00.0000] <gsnedders>
It's the real whacky data structure I have to represent a refer file

[14:21:01.0000] <gsnedders>
It seems perfectly sane until you look at the code that implements it

[14:21:02.0000] <jgraham>
gsnedders: Oh, usually I have the opposite problem

[14:22:00.0000] <gsnedders>
the getter also uses a cache to find what to get

[14:22:01.0000] <jgraham>
My data structures look insane until you realise they were the only thing that you could do in two lines of code

[14:22:02.0000] <gsnedders>
Fun bugs like that appear when the list and cache get out of sync

[14:23:00.0000] <jgraham>
gsnedders: Can't you force them to be in sync? Like by being the same data?

[14:23:01.0000] <gsnedders>
Oh, the implementation of the list subclass should keep them in sync

[14:23:02.0000] <jgraham>
/me doesn't really know what "the list" does

[14:23:03.0000] <gsnedders>
But there are blatantly bugs

[14:24:00.0000] <jgraham>
Nooooooooooooooooooooo

[14:28:00.0000] <jgraham>
gsnedders: A fun way to implement object caches in python is to give the class that implenments the cached objects a metaclass with __call__ that looks for an object of the same type and the same properties in the cache and returns that instead

[14:29:00.0000] <jgraham>
So you only ever have one object of each set of properties

[14:29:01.0000] <gsnedders>
Fun bug: entry is deleting itself.

[14:33:00.0000] <gsnedders>
The thing is the cache key can be changed in the entry, so the entry needs to keep the database up-to-date too

[14:33:01.0000] <gsnedders>
And it was deleting itself from the database, but keeping itself in the cache

[14:44:00.0000] <gsnedders>
/me wonders how many lines of code he hasn't changed in the past day

[14:47:00.0000] <gsnedders>
So, my original implementation: FAILED (failures=10, errors=3)

[14:47:01.0000] <gsnedders>
Now passes

[14:48:00.0000] <gsnedders>
Sadly, I think I created a whole load of bugs while fixing other bugs, but those have equally been fixed.

[15:39:00.0000] <Philip`>
/me wonders what's a good tool for drawing diagrams for LaTeX

[15:40:00.0000] <jgraham>
Philip`: in what sense for LaTeX?

[15:40:01.0000] <Philip`>
jgraham: To be embedded into a document which is written in LaTeX

[15:41:00.0000] <karlcow>
hmmmm take any tools which generates eps files

[15:41:01.0000] <Philip`>
and to use proper LaTeX fonts so it doesn't look ugly

[15:41:02.0000] <jgraham>
Philip`: I used inkscape with some problems

[15:42:00.0000] <karlcow>
Philip`: if you got a mac, I would recommend OmniGraffle

[15:43:00.0000] <Philip`>
/me has access to a Mac, but there's no way he'd ever spend any money on software ever

[15:44:00.0000] <Philip`>
(Well, except for games)

[15:44:01.0000] <heycam>
there are ttf versions of computer modern roman somewhere; you could just use those in whatever diagramming tool you end up using

[15:44:02.0000] <karlcow>
you can download it and it will be usable for x days 

[15:45:00.0000] <Philip`>
/me might just put up with xfig's UI, since it seems to be possible to make it work nicely

[15:45:01.0000] <Philip`>
karlcow: I also don't want software which will expire and prevent me from modifying my data at any point in the future :-)

[15:45:02.0000] <karlcow>
:) 

[15:45:03.0000] <karlcow>
/me found that but has no idea if it's good or not http://www.ctan.org/tex-archive/help/Catalogue/entries/pgf.html

[15:47:00.0000] <jgraham>
heycam: Will ttf versions of computer modern work in diagrams embedded in LaTeX

[15:47:01.0000] <jgraham>
/me guesses it depends on the exact toolchain

[15:49:00.0000] <heycam>
jgraham, yeah, if you just convert them to paths

[15:49:01.0000] <heycam>
e.g. just by exporting to pdf from inkscape

[15:50:00.0000] <heycam>
but if you want to keep them as text, not sure

[15:50:01.0000] <jgraham>
Maybe that's how I got inkscape to work in the end inkscape->pdf->eps

[15:51:00.0000] <heycam>
/me just 

[15:51:01.0000] <heycam>
er

[15:51:02.0000] <heycam>
/me just \includegraphics{}s the pdf itself

[15:51:03.0000] <jgraham>
Does that work if you aren't using pdflatex?

[15:51:04.0000] <heycam>
probably not :)

[15:52:00.0000] <heycam>
/me afk

[16:11:00.0000] <jgraham>
/me wishes he knew why there was still such a strong perception that HTML 5 has disenfranchised authors somehow

[16:12:00.0000] <jgraham>
Because, you know, I actually went to conferences and spoke about HTML5 to authors and they, by and large, didn't sound disenfranchised

[16:14:00.0000] <jgraham>
So I don't know if I'm just talking to the wrng people or if the whole "problem" is something that has been invented by people thinking that things should be a certain way and then assuming that the disconnect between hypothesis and reality represents a problem

[16:14:01.0000] <jgraham>
Or both

[16:14:02.0000] <jgraham>
Or neither

[16:15:00.0000] <Philip`>
/me wonders where that perception is being expressed

[16:19:00.0000] <jgraham>
Philip`: http://intertwingly.net/blog/2009/03/13/HTML5-Evolution#c1237062155 suggests outreach to content creators is needed, which is what brought it to mind

[16:19:01.0000] <jgraham>
Anyway, bedtime :)

[16:24:00.0000] <annevk5>
Same here, I visited a few companies in Japan and Portugal in the past few weeks and had no real negative comments. There were some security concerns with WebSockets and such, but nothing that suggested they didn't like the approach.

[16:55:00.0000] <karlcow>
I met authors who enjoyed it and met authors who despised it. 

[16:56:00.0000] <karlcow>
There are many types of people using the language, some of them will be only comfortable with the markup and don't know what a DOM is.

[16:57:00.0000] <karlcow>
so definitely not black and white


2009-03-15
[17:05:00.0000] <annevk5>
I don't think anyone is sugesting that

[17:05:01.0000] <annevk5>
Just that anecdotically more people seem to be cool with it than not. See also e.g. twitter and blog posts around the Web

[17:08:00.0000] <karlcow>
http://www.google.com/search?q=%22html5+sucks%22

[17:08:01.0000] <karlcow>
http://www.google.com/search?q=%22html5+rocks%22

[17:08:02.0000] <karlcow>
but not sure it is very relevant ;)

[17:11:00.0000] <svl>
/me is a web developer, and is not only firmly on the "cool with it" side of things, but also believes the same goes for every single other web developer he knows (and given the various organizations I'm part of and the meetings I attend, that's a sizeable group). And beyond the people involved enough to be part of all that, I suspect most simply don't think about html5 at all yet.

[17:12:00.0000] <karlcow>
I agree with svl specifically for the last sentence.

[17:12:01.0000] <karlcow>
/me will ask monday in the office.

[17:12:02.0000] <Philip`>
Based on a large sampling of one person (outside the WHATWG community) who has expressed an opinion on HTML5, 100% of people like it

[17:12:03.0000] <Philip`>
mostly because the doctype is short

[17:12:04.0000] <karlcow>
that will be around 20 persons actually making Web sites in a commercial context

[17:13:00.0000] <Philip`>
but that's about the limit of my personal experience

[17:47:00.0000] <Hixie>
woah, my issues chart is saying i checked lots in in the past few weeks which is completely bogus

[17:48:00.0000] <Hixie>
wtf

[17:59:00.0000] <Hixie>
goddamnit

[17:59:01.0000] <Hixie>
i always get caught up on this "january is month zero" nonsense

[17:59:02.0000] <Hixie>
ok, chart fixed.

[20:02:00.0000] <rubys>
jgraham: what I wrote was "It is less obvious that we have adequate representation from content creators."

[20:02:01.0000] <rubys>
jgraham: what you read "strong perception that HTML 5 has disenfranchised authors somehow"

[20:02:02.0000] <rubys>
how the @#$#&^ did THAT happen?

[21:16:00.0000] <sayrer>
rubys, if you buy this: "Content creation should not be recondite. It should not be this bizarre arcana that only experts and gold-plated computer science gurus can do."

[21:17:00.0000] <sayrer>
how do you find people to participate in the working group?

[21:17:01.0000] <sayrer>
tough question, if you ask me

[01:38:00.0000] <jgraham>
rubys: Because I was not just basing what I said on what you wrote. As I said, that merely brought it to mind.

[03:53:00.0000] <rubys>
/me looks up "recondite"

[03:55:00.0000] <rubys>
rsayre: I understand the statement by Brendan, but don't see the association.

[03:55:01.0000] <rubys>
jgraham: thanks for clearing that up

[03:57:00.0000] <gsnedders>
http://pastebin.com/m41bc51f9 ‚Äî why does __copy__ create copies of the key values and not references to them>

[04:21:00.0000] <Philip`>
/me notes that making a subclass of dict whose API is different in many ways is quite likely to be violating fundamental principles of OO design

[05:59:00.0000] <gsnedders>
True, but being better would mean doing odd things in places.

[06:19:00.0000] <Philip`>
gsnedders: But being better would, by definition, be better

[06:57:00.0000] <bell007>
hi

[06:57:01.0000] <bell007>
hi all

[06:58:00.0000] <bell007>
When I sanitize  "<IMG SRC="HTTP://WWW.G.COM/png.png" ALT="g">", there

[06:58:01.0000] <bell007>
is only receive "<IMG  ALT="g">",  the string  SRC="HTTP://WWW.G.COM/

[06:58:02.0000] <bell007>
png.png"  lost!

[07:15:00.0000] <jgraham>
gsnedders: What are the keys?

[07:16:00.0000] <gsnedders>
Oh, I found why it wasn't working, it doesn't matter.

[07:16:01.0000] <gsnedders>
(__setitem__ caused a copy to be created)

[07:16:02.0000] <jgraham>
gsnedders: Oh and what Philip` said :)

[07:19:00.0000] <Philip`>
/me blames jgraham for doing s/and/or/ when attempting to change line wrapping in html5lib

[07:20:00.0000] <jgraham>
/me tries to look innocent

[07:20:01.0000] <jgraham>
DId we not have a unit test that covered it?

[07:20:02.0000] <Philip`>
jgraham: We had dozens

[07:21:00.0000] <jgraham>
And they failed? Wow I suck

[07:21:01.0000] <Philip`>
They did

[07:21:02.0000] <Philip`>
You said "there are some regressions in the liberal xml parser and the sanitizer that need to be fixed"

[07:21:03.0000] <Philip`>
so presumably you did check them :-)

[07:21:04.0000] <jgraham>
Oh, well I feel better about that then :)

[07:22:00.0000] <jgraham>
I have to learn that people are actually trying to use this stuff

[07:22:01.0000] <Philip`>
Breaking the sanitiser tests is probably not an excellent idea, even temporarily, when people seem to rely on trunk versions for security :-)

[07:22:02.0000] <Philip`>
One test still fails, but I don't quite know why

[07:23:00.0000] <Philip`>
(I think it passes in the Ruby version, though it's hard to tell because there's a load of bogus test failures from <a/> vs <a></a> serialisation)

[07:23:01.0000] <jgraham>
/me winders if people are relying on the ruby version

[07:24:00.0000] <jgraham>
*wonders

[07:24:01.0000] <Philip`>
val_unescaped = CGI.unescapeHTML(attrs[attr].to_s).gsub(/`|[\000-\040\177\s]+|\302[\200-\240]/,'').downcase

[07:24:02.0000] <Philip`>
Is that doing a gsub on UTF-8 byte values?

[07:25:00.0000] <Philip`>
If so, what's the equivalent in a non-insane language like Python that understands Unicode?

[07:25:01.0000] <jgraham>
Thst doesn't look entirely implausible

[07:27:00.0000] <Philip`>
Hmm, look like the last bit is U+0080 to U+00A0

[07:31:00.0000] <Philip`>
Oh, the Python one's already equivalent

[07:33:00.0000] <Philip`>
Oh, right, the difference is probably that the Python version correctly translates &#14; into U+FFFD, and the Ruby one doesn't

[07:33:01.0000] <Philip`>
so it's just a parser issue

[07:34:00.0000] <Philip`>
and the Ruby parser is already broken lots, so I don't care about it

[07:34:01.0000] <jgraham>
So the test is wrong?

[07:36:00.0000] <Philip`>
jgraham: No

[07:37:00.0000] <jgraham>
Oh. So we still fail a test but we just don't know why?

[07:37:01.0000] <Philip`>
Oh, wait

[07:37:02.0000] <Philip`>
Yes it is wrong

[07:37:03.0000] <Philip`>
The test is for <img src=" &#14;  javascript:alert('XSS');" />

[07:38:00.0000] <Philip`>
which runs the script in IE

[07:38:01.0000] <Philip`>
and the test case says it should become <img/>, but Python html5lib says u'<img src=" \ufffd  javascript:alert(\'XSS\');"/>'

[07:39:00.0000] <Philip`>
which is okay because the U+FFFD results in the script not running

[07:40:00.0000] <Philip`>
but I don't know if it's dodgy to rely on that output being safe

[07:41:00.0000] <jgraham>
It seems like it would be nicer to pass the test

[07:41:01.0000] <jgraham>
/me doesn't really like the sanitizer code because it relies so heavilly on regexps for attribute sanitisation

[07:42:00.0000] <Philip`>
It relies on regexp blacklisting of attribute values, in particular

[07:42:01.0000] <jgraham>
Can we do it better?

[07:43:00.0000] <Philip`>
Use whitelisting :-)

[07:43:01.0000] <jgraham>
Well it doesn't seem reasonable to whitelist all possible attribute values

[07:43:02.0000] <Philip`>
It's reasonable to whitelist values that are valid URIs

[07:44:00.0000] <jgraham>
Yes, that would be better

[07:44:01.0000] <Philip`>
(and invalid URIs can be escape into valid URIs first)

[07:45:00.0000] <Philip`>
Someone should write an HTML insanitiser that makes your markup crazier

[07:46:00.0000] <Philip`>
/me doesn't care enough about this to work out what to do, so he'll leave it with the failing test

[07:50:00.0000] <Philip`>
(...since it seems to be a 'safe' failure, in terms of not introducing XSS vulnerabilities)

[08:19:00.0000] <jgraham>
http://www.iamcal.com/understanding-bidirectional-text/ is interesting. I guess the HTML sanitizer should do something about mismatched explicit override markers

[08:22:00.0000] <Philip`>
jgraham: Their effects seem to be scoped by elements like <div>, so as long as you've got some block markup around any user-supplied content then it shouldn't be a problem

[08:24:00.0000] <Philip`>
where "problem" means "denial of service attack, via user-generated content making significant parts of your page unreadable"

[08:24:01.0000] <Philip`>
(Localised nonsense isn't a problem that the sanitiser should be dealing with, because people can (and do) write nonsense just with plain ASCII anyway)

[08:26:00.0000] <jgraham>
Philip`: Ah, did the article say about the <div> thing or did you just test that?

[08:27:00.0000] <Philip`>
(By "block markup", I mean "markup which gets rendered with display:block")

[08:27:01.0000] <Philip`>
jgraham: I just tested it

[08:27:02.0000] <Philip`>
very briefly and incomprehensively

[08:28:00.0000] <Philip`>
http://www.google.com/search?q=%E2%80%AE

[08:28:01.0000] <jgraham>
The example in the article still makes some sense; you might not have user entered content in a <div>

[08:28:02.0000] <Philip`>
"Your search - .stnemucod yna hctam ton did -"

[08:28:03.0000] <jgraham>
Yeah so I see :)

[08:28:04.0000] <Philip`>
but then the rest of the page is fine

[08:29:00.0000] <Philip`>
(in the browsers I've tried)

[08:29:01.0000] <jgraham>
So it would still make sense to try and balance that out

[08:31:00.0000] <Philip`>
Of course I could still write http://www.google.com/search?q=.stnemucod+yna+htcam+ton+did to get very similar output

[08:33:00.0000] <jgraham>
You can imagine situations where content from several users is put together in a single block-level element so one user can confuse everyone else

[08:34:00.0000] <jgraham>
I agree that it doesn't seem like a very serious issue

[10:32:00.0000] <gsnedders>
http://gsnedders.html5.org/cite/

[10:43:00.0000] <Lachy>
gsnedders, when I submit a file to that, I get an internal server error

[10:43:01.0000] <Lachy>
I tried submitting the html5 reference source

[10:43:02.0000] <gsnedders>
Awesome.

[10:43:03.0000] <gsnedders>
suexec policy violation: see suexec log for more details

[10:44:00.0000] <Lachy>
gsnedders, is that supposed to be running anolis with support for biblio, and with support for submitting an auxilliary biblio file?

[10:44:01.0000] <gsnedders>
No, it just does biblio

[10:44:02.0000] <Philip`>
gsnedders: "bilbiography"?

[10:45:00.0000] <gsnedders>
Yes, I can't spell.

[10:45:01.0000] <Philip`>
/me suggests a spell chequer

[10:45:02.0000] <Lachy>
gsnedders, so when I submit one of my specs, does it just append the reference section to the end, without doing any other processing like anolis does?

[10:45:03.0000] <gsnedders>
Yeah

[10:46:00.0000] <Lachy>
so should I go Overview.src.html -> anolis -> Overview.html -> then biblio, to get the final copy of my spec?

[10:46:01.0000] <gsnedders>
Yeah

[10:46:02.0000] <Lachy>
ok

[10:46:03.0000] <gsnedders>
biblio will be merged into Anolis

[10:47:00.0000] <Lachy>
good

[10:47:01.0000] <gsnedders>
It's just I really did it for my computing project for school disguised as a separate project

[10:47:02.0000] <Lachy>
what file format does the extra biblio database field support?

[10:47:03.0000] <gsnedders>
refer

[10:47:04.0000] <Lachy>
ok

[10:49:00.0000] <Lachy>
gsnedders, ping me when you get the internal server error resolved

[10:51:00.0000] <gsnedders>
/me gets a different error

[10:56:00.0000] <Lachy>
i now get an ImportError

[11:08:00.0000] <gsnedders>
/me sighs, having compiled libxml2 and libxslt

[11:10:00.0000] <gsnedders>
hmm, so having managed to build lxml, from lxml import html still fails

[11:33:00.0000] <gsnedders>
Lachy: ping

[12:00:00.0000] <gsnedders>
/me posts <http://gsnedders.com/installing-lxml-on-dreamhost>

[12:05:00.0000] <Lachy>
gsnedders, I just tried it with Selectors API. Your bibliographic database seems to be using different identefiers for the references from what Bert's does

[12:06:00.0000] <Lachy>
e.g. [{!SELECT] is CSS3 selectors in Bert's, but not in yours

[12:07:00.0000] <Lachy>
and [[!WEBIDL]] doesn't seem to work. I'm guessing that means yours in case sensitive, since "WebIDL" is listed in yours

[12:07:01.0000] <Lachy>
same issue with Dom-Level-3-Core

[12:10:00.0000] <Lachy>
gsnedders, other than those relatively minor issues, since I can easily update the references in my spec, the system seems to work fairly well

[13:14:00.0000] <Hixie>
re the sanitiser, you should always use only whitelisting

[13:15:00.0000] <Hixie>
and for every attribute value

[13:15:01.0000] <Hixie>
including e.g. src="", style="", etc

[14:09:00.0000] <gsnedders>
Lachy: Indeed, I know that.

[14:09:01.0000] <gsnedders>
Lachy: I can't legitimately copy Bert's database, because I have no access to it, and myself, annevk5, and marcos all disagree with how it does stuff

[14:10:00.0000] <gsnedders>
Lachy: But you can download Bert's database and use it yourself

[14:10:01.0000] <gsnedders>
It's linked to from the docs

[14:26:00.0000] <Hixie>
56%...

[14:28:00.0000] <gsnedders>
/me wonders when Hixie will finish this

[14:29:00.0000] <gsnedders>
In time for his birthday?

[14:31:00.0000] <Philip`>
Which of his birthdays?

[14:32:00.0000] <gsnedders>
Philip`: 27th December

[14:32:01.0000] <Philip`>
gsnedders: There's an infinite number of 27ths of December, so that doesn't narrow it down much

[14:33:00.0000] <gsnedders>
27th December 2009 AD

[14:35:00.0000] <Hixie>
60%

[14:35:01.0000] <jgraham>
gsnedders: Which calendar system?

[14:35:02.0000] <gsnedders>
/me was waiting for that question

[14:35:03.0000] <gsnedders>
jgraham: the 29th December 2009 AD is only his birthday in one calendar system

[14:36:00.0000] <gsnedders>
(Thus that one)

[14:36:01.0000] <jgraham>
gsnedders: Not given a sufficiently large universe

[14:36:02.0000] <gsnedders>
Oh shut up.

[14:49:00.0000] <jgraham>
RFC 3986 tlks about certian URI forms being "less likely" which seems like a fairly pointless distincion to make since it is essential to treat them uniformly anyway

[14:49:01.0000] <jgraham>
I guess it should say "be sure to test wih the following special cases" or something

[15:31:00.0000] <Hixie>
62%

[15:34:00.0000] <annevk5>
why is the datagrid section greyed out?

[15:35:00.0000] <annevk5>
I see, <div class=bad> :)


2009-03-16
[18:47:00.0000] <Hixie>
Lachy: yt?

[22:16:00.0000] <Hixie>
i wonder what to do about the definition of "browsing context"

[22:16:01.0000] <Hixie>
(in the content of an author version of the spec)

[22:49:00.0000] <MikeSmith>
Hixie: define by example?

[22:50:00.0000] <Hixie>
well i was wondering whether i need a definition at all

[22:50:01.0000] <Hixie>
maybe i can just refer to frames and windows in the author text and leave all the complexities out

[22:51:00.0000] <MikeSmith>
Hixie: It does seem like there needs to be some definition or explanation of that term in the author view

[22:52:00.0000] <MikeSmith>
and seems necessary to leave out the complexities because otherwise you'd get into also needing to define a lot of other terms too

[22:52:01.0000] <MikeSmith>
like pulling a thread

[22:53:00.0000] <Hixie>
yeah

[22:55:00.0000] <MikeSmith>
but I would think you'd not be able to get away with just referring to frames and windows and not to "browsing context" at all

[22:55:01.0000] <Hixie>
oh well, i'll figure something out

[01:19:00.0000] <hsivonen>
yay! the whatwg archives are back!

[01:40:00.0000] <Lachy>
Hixie, I'm here now

[01:45:00.0000] <zcorpan>
http://spacergif.mobi/

[01:46:00.0000] <zcorpan>
(for now, it just returns a spacer gif)

[02:01:00.0000] <Lachy>
Hixie, Requiem 1.8.7 is out now. The most recent changes provide support for iTunes 8.1, speed improvements and fixes for >2GB files

[04:34:00.0000] <annevk5>
http://twitter.com/jsdc/statuses/1335371346 we do?

[04:38:00.0000] <Lachy>
annevk5, no, we don't. I wonder where that misconception came from

[04:40:00.0000] <annevk5>
http://spacergif.mobi/ most excellent :)

[04:40:01.0000] <Lachy>
hmm, that no longer returns a spacer gif for me.  All I get is an empty directory listing

[04:42:00.0000] <zcorpan>
fixed

[04:44:00.0000] <Lachy>
zcorpan, is that your domain?

[04:44:01.0000] <zcorpan>
yeah

[04:44:02.0000] <Lachy>
oh. Why did you get that?

[04:44:03.0000] <Lachy>
are you going to use it for anything but a spacer gif?

[04:44:04.0000] <zcorpan>
yeah i'll probably have a blog there

[04:44:05.0000] <Lachy>
ok

[04:45:00.0000] <Lachy>
/me looks forward to reading about all the different ways of creating and using spacer gifs on a mobile

[04:46:00.0000] <zcorpan>
now i wonder two things... how do i get genshi installed there and has someone written a blog using genshi already?

[04:46:01.0000] <jgraham>
/me hopes that zcorpan will blog in the style of a teenage girl

[04:47:00.0000] <zcorpan>
jgraham: sorry to disappoint you

[04:47:01.0000] <jgraham>
zcorpan: http://www.cmlenz.net/archives/2008/08/view-source#more

[04:47:02.0000] <jgraham>
Is the only one I can think of

[04:48:00.0000] <zcorpan>
jgraham: thanks

[04:49:00.0000] <jgraham>
zcorpan: Ah, shame. It could have been all like, well I got us this morning right? and there was all this email about XML Namespaces, y'know so I was just like you guys are so lame if you don't know what a script inserted xmlns decleration does and I laughed so hard I almost split my frosties on the cat

[04:50:00.0000] <zcorpan>
lol

[04:51:00.0000] <jgraham>
zcorpan: I was going to use it but didn't get around to installing couchdb. But I think I might have another go at some point. SO let me know if you use it and if you have any issues

[04:52:00.0000] <zcorpan>
ok

[04:52:01.0000] <annevk5>
jgraham, :D you should write a blog

[05:12:00.0000] <jgraham>
/me had forgotten that the aria taskforce plans to do HTML element -> accessibility api mappings

[05:20:00.0000] <takkaria>
wtf are people spending so much time discussing alternative calendars?

[05:20:01.0000] <takkaria>
am I missing something obvious?

[05:22:00.0000] <annevk5>
the fun in it

[05:22:01.0000] <annevk5>
though thank god I'm not a calendar geek and not wasting my time on this one :)

[05:24:00.0000] <zcorpan>
http://html5gallery.com/

[05:26:00.0000] <rubys>
One of these days, I really need to complete this: http://rails.intertwingly.net/blog/

[05:27:00.0000] <rubys>
(and convert planet intertwingly to use html5 features)

[05:34:00.0000] <Lachy>
that html5gallery site doesn't actually include any links or URLs for the sites it lists

[05:39:00.0000] <beowulf>
zcorpan: feel free to add http://havetheygoneawayyet.com/ :)

[07:20:00.0000] <Lachy>
Hixie, dfn.js is missing from http://www.whatwg.org/specs/web-apps/current-work/multipage/dfn.js but the script on the page still attempts to load it from there.

[07:58:00.0000] <annevk5>
http://twitter.com/diveintomark/status/1336512675

[08:04:00.0000] <hsivonen>
the <time> email just keeps coming...

[08:05:00.0000] <Lachy>
yeah, it's becomming a permathread

[08:06:00.0000] <karlcow>
/me yawns

[08:07:00.0000] <Lachy>
I wonder who that tweet from diveintomark is responding to

[08:07:01.0000] <Lachy>
LOL http://twitter.com/diveintomark/status/1329398270

[08:09:00.0000] <karlcow>
/me yawns bis

[08:09:01.0000] <jgraham>
Is any of the time email intersting? I keep dipping in and out and there seems to be a lot of discussion about year 0 and alternate calendar systems

[08:10:00.0000] <jgraham>
/me wonders how one can yawn bis. Or hat bis means. I thought they were some sort of pop band...

[08:10:01.0000] <jgraham>
s/hat/what/

[08:10:02.0000] <annevk5>
bis can also mean second or some such

[08:10:03.0000] <annevk5>
e.g. house number 12 and 12bis

[08:11:00.0000] <annevk5>
numbers* meh

[08:13:00.0000] <Lachy>
jgraham, I don't think so. It's all repeating the same thing over and over again

[08:13:01.0000] <jgraham>
It also stands for Bandalag √≠slenskra sk√°ta, the icelandic boy scouts. But I doubt karlcow yawned so wide he swallowed a whole nation's scouts by mistake

[08:15:00.0000] <Lachy>
it gets a little weird when you start to realise the contradictory arguments that seem to be getting put forth, like wanting to allow negative years, a year 0000, and have the year -0001 mean 1BCE instead of 2BCE

[08:15:01.0000] <jgraham>
It's only confusing if the contradictory positions are all taken by a single person at a single time

[08:16:00.0000] <Lachy>
there was one email in which that seemed to be the case

[08:16:01.0000] <Lachy>
/me looks it up

[08:16:02.0000] <Lachy>
http://lists.w3.org/Archives/Public/public-html/2009Mar/0341.html

[08:17:00.0000] <Philip`>
What if I want to represent dates in Flatland's calendar system, where there is a year 0?

[08:18:00.0000] <Lachy>
"I think [year 0000] should be allowed. Historians deny the existence of year 0, but astronomers use it... ISO 8601:2000 and above suggest that year 0000 be used and be considered year 1 BC, and then -0001 is 2 BC, etc. Most, I believe, will want year -0004 = 4BC (and this is what I'd suggest)."

[08:19:00.0000] <jgraham>
Funness

[08:20:00.0000] <Lachy>
Philip`, Flatland usually refers to an imaginary universe in which there are only 2 spatial dimensions. I'm not sure what that universe has to do with a year 0

[08:20:01.0000] <karlcow>
yep bis aka a second time to which people could have replied "Bis repetita non placent"

[08:21:00.0000] <Lachy>
karlcow, google translate says that translates to "Repeat not place". What on earth does that mean?

[08:22:00.0000] <jgraham>
Lachy: But imagine I am writing a book about flatland and I want to say it was <time datetime=00-00-00>the first day</time>..."

[08:23:00.0000] <karlcow>
http://www.google.com/search?q="Bis+repetita+non+placent"

[08:23:01.0000] <Philip`>
A Square says, "It was the last day of the 1999th year of our era. The pattering of the rain had long ago announced nightfall; and I was sitting in the company of my wife, musing on the events of the past and the prospects of the coming year, the coming century, the coming Millennium."

[08:24:00.0000] <Philip`>
and since the new millennium starts on the year 2000, their calendar system must have started with the year 0

[08:25:00.0000] <jgraham>
karlcow: Limiting communications to latin should at least cut down on the noise in the channel

[08:25:01.0000] <karlcow>
http://yauba.com/?q=%22Bis+repetita+non+placent%22 or by the new one ;)

[08:25:02.0000] <Philip`>
"Acting, as was their wont, in strict accordance with precedent, the highest Circles of the realm were meeting in solemn conclave, as they had met on the first hour of the first day of the year 1000, and also on the first hour of the first day of the year 0."

[08:25:03.0000] <karlcow>
jgraham: indeed :)

[08:25:04.0000] <Philip`>
Ah, there's an explicit year 0

[08:26:00.0000] <Lachy>
Philip`, what are you quoting from?

[08:26:01.0000] <Philip`>
Lachy: Flatland

[08:27:00.0000] <karlcow>
# Bis repetita non placent -- "Repetitions are not well-received." (Horace, Ars Poetica 365) 

[08:27:01.0000] <Philip`>
(http://www.geom.uiuc.edu/~banchoff/Flatland/ etc, though that's not a nicely formatted version)

[08:27:02.0000] <Lachy>
I didn't know that was a book

[08:28:00.0000] <Philip`>
http://en.wikipedia.org/wiki/Flatland

[08:28:01.0000] <karlcow>
Lachy: be happy, being young means that there is a lot of classics to discover.

[08:28:02.0000] <Lachy>
I'd only ever heard of the place being described in quantum physics documentaries as a way of explaining the concept of 11 demensions to average people.

[08:29:00.0000] <Philip`>
/me wonders how Lachy could have gone through life without knowing of the Flatland book

[08:29:01.0000] <Lachy>
I don't read much

[08:31:00.0000] <Lachy>
anyway, I think marking up the calendar systems of fictional universes can be considered an edge case that we don't need to support in HTML5

[08:32:00.0000] <hsivonen>
Lachy: next you are going to say we don't need Klingon in Unicode!

[08:33:00.0000] <Philip`>
It's kind of a weird book, since it's half a discussion of dimensional geometry and half a social commentary on Victorian life

[08:33:01.0000] <Philip`>
hsivonen: But Unicode is all about edge cases

[08:35:00.0000] <Lachy>
hsivonen, no, that's a different issue, because writing about fictional universes with different calendar systems doesn't gain anything by having explicit <time> element support, nor lose anything by not having it.

[08:37:00.0000] <Lachy>
however, it is questionable whether Klingon should be added to Unicode or not. There are several fictional writing systems that I can think of which are not supported in Unicode, such as those from the Lord of the Rings, or the Ancients' alphabet from Stargate

[08:38:00.0000] <jgraham>
Kligon was rejected from unicode

[08:38:01.0000] <jgraham>
*Klingon

[08:40:00.0000] <Philip`>
There are practical reasons to include artificial languages in Unicode - people want to use normal software (text editors, copy-and-paste, TTF fonts, HTML, etc) to manipulate text in those languages, and that software is all designed around being able to represent any text using Unicode

[08:41:00.0000] <hsivonen>
/me proceeds to remove table tainting from the V.nu parser

[08:41:01.0000] <Philip`>
(though Private Use Areas are probably a sufficient level of inclusion)

[08:44:00.0000] <Lachy>
for such characters to be useful for such purposes, the code points used within the Private Use Areas would need to have some level of agreement between the applications involved

[08:45:00.0000] <Lachy>
at the very least, font vendors making different fonts for those characters would need to agree on the code points

[08:48:00.0000] <Philip`>
Indeed, so you have some simple low-cost external registry to assign character ranges to anyone who wants them

[08:50:00.0000] <hsivonen>
is it OK if I update html5lib tests to the new AAA tomorrow? what about getting rid of taint and doing foster-parenting the WebKit way?

[08:53:00.0000] <hsivonen>
I should also update the tests to deal with the new frameset-ok stuff

[08:54:00.0000] <hsivonen>
good thing I didn't change the tests for spec rev 2730

[09:03:00.0000] <gsnedders>
annevk5: ping

[09:03:01.0000] <annevk5>
pang

[09:03:02.0000] <gsnedders>
annevk5: What's the state of setting Authorization via XHR?

[09:04:00.0000] <annevk5>
forbidden I think

[09:04:01.0000] <gsnedders>
annevk5: I found an old email from 10 months ago saying you'd disallowed it, but it isn't in the latest TR

[09:04:02.0000] <gsnedders>
Actually, TR version is too old

[09:04:03.0000] <annevk5>
maybe because TR is from more than 10 months ago?

[09:06:00.0000] <gsnedders>
/me is speaking to people about the possibility of using it for OAuth, which needs Authorization

[09:09:00.0000] <annevk5>
per XHR Authorization is UA controlled

[09:10:00.0000] <annevk5>
even though we might be able to change that for same-origin requests it would not be possible for cross-origin so we might as well keep them in sync

[09:31:00.0000] <annevk5>
does anyone know if SWSX or whatever it's called has live transcripts of sessions?

[09:31:01.0000] <annevk5>
e.g. the Browser War Panel might be fun to follow

[09:38:00.0000] <beowulf>
/me wonders if browsers will be put in harms way during this panel

[10:40:00.0000] <Lachy>
"... Rob [Burns] really has a lot to say and I'm looking forward to read more of his ideas and opinions" -- http://lists.w3.org/Archives/Public/public-html/2009Mar/0346.html

[10:45:00.0000] <Philip`>
/me agrees with half of that sentence

[11:46:00.0000] <sayrer>
jgraham, Philip, mozilla implementors have brought up the fact that HTML5 doesn't define the SQL syntax

[11:46:01.0000] <sayrer>
rubys, my use of brendan's quote was meant to be considered in relation to your desire to bring in more "content creators"

[11:47:00.0000] <annevk5>
yeah, SQL syntax is an issue

[11:47:01.0000] <sayrer>
I am not sure what you meant by that. People from big websites? They always have lots of feature requests

[11:48:00.0000] <sayrer>
annevk5, yes it fails a number of the design principles as currently specified

[11:50:00.0000] <annevk5>
and basic LC exit criteria

[11:50:01.0000] <annevk5>
I don't think anyone is  contesting that :)

[11:51:00.0000] <Hixie>
indeed not

[11:51:01.0000] <sayrer>
I am actually kinda bummed about that

[11:52:00.0000] <sayrer>
what a pain, and everyone is using sqlite anyway

[11:52:01.0000] <annevk5>
afaik it was announced when we added this feature that speccing the dialect would be done once we had some impl experience

[11:53:00.0000] <sayrer>
that is sort of like specifying a barn door after the horse has escaped

[11:53:01.0000] <sayrer>
but oh well

[11:54:00.0000] <sayrer>
I was also wondering what this big effort Hixie keeps giving percentage updates on is

[11:55:00.0000] <sayrer>
some sort of automated spec split?

[11:55:01.0000] <Hixie>
going through marking up all the non-author stuff so it can be hidden by a style sheet

[11:55:02.0000] <Hixie>
if you load the spec in firefox switch to one of the other stylesheets to see the effect

[11:55:03.0000] <Hixie>
re sql, i think it would have been a mistake to spec the language before having impl experience

[11:55:04.0000] <sayrer>
so you get something akin to Mike Smith's doc by CSS switching?

[11:56:00.0000] <Hixie>
looks more like a cut-down version of the html5 spec, but sort of, yes

[11:56:01.0000] <sayrer>
are there any compatible HTML5 SQL impls?

[11:56:02.0000] <sayrer>
I thought Gears didn't match WebKit

[11:56:03.0000] <sayrer>
does Opera match WebKit?

[11:57:00.0000] <annevk5>
we haven't implemented the database API yet

[11:57:01.0000] <sayrer>
I guess the Gears one was never claimed to be compatible

[11:57:02.0000] <annevk5>
though when we will I expect us to use SQLite as well

[11:57:03.0000] <Hixie>
the gears one and the webkit one have differences, but are more similar than different

[11:57:04.0000] <Hixie>
much like implementations of everything else :-)

[12:25:00.0000] <Lachy>
hey Hixie, you pinged me last night?

[12:25:01.0000] <Hixie>
was going to ask you about requiem

[12:26:00.0000] <Lachy>
ok

[12:26:01.0000] <Lachy>
I sent you the latest version

[12:26:02.0000] <Hixie>
sweet

[12:26:03.0000] <Hixie>
thanks dude

[12:34:00.0000] <Hixie>
/me discovers that the split-window concept breaks the multiple views concept

[12:34:01.0000] <Hixie>
what should UIEvent.view return?

[12:34:02.0000] <Hixie>
shepazu: this may affect DOM3 Events

[12:50:00.0000] <annevk5>
we could of course do away with multiple views and have a concept of primary view which is the one exposed to scripts...

[13:07:00.0000] <virtuelv>
/me innocently wonders what split-window concept is

[13:09:00.0000] <virtuelv>
(In other words, where do I look for a description?)

[13:13:00.0000] <gsnedders>
virtuelv: /dev/null

[13:13:01.0000] <gsnedders>
/me ducks

[13:13:02.0000] <virtuelv>
:P

[13:14:00.0000] <gsnedders>
/dev/random should have it somewhere, actually

[13:14:01.0000] <virtuelv>
gsnedders: generally, ducking is not adviced

[13:14:02.0000] <jcranmer>
/dev/urandom is faster

[13:14:03.0000] <jcranmer>
now, can someone get this purr-bucket off my lap?

[13:15:00.0000] <virtuelv>
gsnedders: if it's a real-world fight, that is, because it'll end with your opponent kicking your face instead of your chest or nuts)

[13:15:01.0000] <gsnedders>
See, this is why I don't have a face.

[13:15:02.0000] <gsnedders>
/me takes the purr-bucket and gives it to Hixie 

[13:16:00.0000] <annevk5>
virtuelv, HTML5 defines it

[13:16:01.0000] <annevk5>
virtuelv, look for e.g. WindowProxy

[13:16:02.0000] <gsnedders>
Silly people giving useful answers‚Ä¶

[13:17:00.0000] <virtuelv>
"As mentioned earlier, each browsing context has a WindowProxy object. This object is unusual in that it must proxy all operations to the Window object of the browsing context's active document. It is thus indistinguishable from that Window object in every way, except that it is not equal to it."

[13:22:00.0000] <gsnedders>
awww‚Ä¶ there's no such thing as \subsubsubsection

[13:23:00.0000] <atw>
It looks like the webworker spec implies that MessagePorts implement EventTarget (so you can call addEventListener() on them) but I don't actually see that explicitly stated anywhere. I'm curious, because setting the onmessage attribute effectively calls start() on the port, which perhaps implies that calling addEventListener() does too?

[13:23:01.0000] <virtuelv>
reading on from there. Why is Window exposing browser chrome constructs, such as the location bar

[13:23:02.0000] <virtuelv>
knowing that there is no location bar only lets me create more convincing phishing UI 

[13:24:00.0000] <virtuelv>
(Besides, there are contexts wherein application UI constructs are completely irrelevant

[13:24:01.0000] <virtuelv>
mobile, widgets and embedded cases

[13:25:00.0000] <sayrer>
http://intertwingly.net/blog/2009/03/16/Yahoo-and-HTML-Rip-Mix-Burn

[13:25:01.0000] <virtuelv>
chiefly usable in the XUL case, no?

[13:26:00.0000] <virtuelv>
in which case I wonder: Why is it in HTML5?

[13:27:00.0000] <annevk5>
atw, "Objects implementing the MessagePort interface must also implement the EventTarget interface."

[13:27:01.0000] <annevk5>
atw, -- http://www.whatwg.org/specs/web-apps/current-work/#messageport

[13:40:00.0000] <atw>
anne - sigh, there it is right under the interface description. I must be blind.

[13:41:00.0000] <atw>
Is the implication that adding an event listener for (say) the "message" event is equivalent to setting an onmessage() handler (meaning it triggers side effects like starting the message port)?

[13:41:01.0000] <annevk5>
atw, long term it should probably be part of the interface, but Web IDL isn't quite there yet

[13:41:02.0000] <Hixie>
atw: no

[13:41:03.0000] <Hixie>
atw: there's no implication

[13:41:04.0000] <Hixie>
atw: the spec says exactly what it means and no less :-)

[13:42:00.0000] <annevk5>
/me wonders why there's magic for onmessage

[13:43:00.0000] <Hixie>
so that you don't have to call .start() in the simple case

[13:43:01.0000] <roc>
does anyone know what Crockford wants to do in his "HTML 4.2", in concrete terms?

[13:43:02.0000] <atw>
Yeah, it does seem kind of magical for onmessage() to have side effects but nothing else. I'm playing with the WebKit implementation now to see if they've implemented that side effect, as I'm not getting it to work.

[13:44:00.0000] <Hixie>
roc: http://www.crockford.com/html/

[13:44:01.0000] <sayrer>
roc, I think he mainly wants something similar to seamless iframes, not many other new features, and possibly some breaking changes

[13:44:02.0000] <Hixie>
roc: q.v. also http://diveintomark.org/archives/2008/02/21/the-bolero-of-troll

[13:45:00.0000] <atw>
Hixie: got it. We can argue why addEventListener() isn't part of the simple case, but the motivation for the side-effect seems clear.

[13:45:01.0000] <Hixie>
atw: well you're only going to use aEL() if you're hooking multiple listeners up

[13:45:02.0000] <Hixie>
atw: in which case you might be doing asynchronously

[13:45:03.0000] <Hixie>
atw: so we don't want to start the message queue in that case

[13:45:04.0000] <Hixie>
atw: or you might miss messages

[13:46:00.0000] <roc>
ah OK, so he wants a completely different language with a version switch

[13:46:01.0000] <sayrer>
I dunno, I think his experience with ES3.1 will make it less completely new

[13:47:00.0000] <roc>
are we sure that's still his plan? that page is quite old

[13:47:01.0000] <sayrer>
yeah, my point

[13:47:02.0000] <roc>
ok

[13:47:03.0000] <Hixie>
roc: no idea

[13:47:04.0000] <sayrer>
oh, he'll want postMessage too

[13:50:00.0000] <atw2>
hixie: thx, makes sense

[13:53:00.0000] <Hixie>
roc: if he has other concrete ideas, he hasn't said them

[13:54:00.0000] <Hixie>
I wish he would

[13:59:00.0000] <sayrer>
Hixie, I've seen videos where he touches on it

[14:00:00.0000] <sayrer>
and I expect he'll raise it at the ECMA/W3C joint meeting later this year

[14:00:01.0000] <Hixie>
would be nice if he actually told us directly

[14:00:02.0000] <sayrer>
that is the entire purpose of the co-location, afaik

[14:01:00.0000] <Hixie>
are the numerous mailing lists and irc channels not open enough for him?

[14:01:01.0000] <annevk5>
he's the entire reason for co-location? wow

[14:01:02.0000] <sayrer>
he asked for it, iirc

[14:01:03.0000] <sayrer>
the ECMA committee is only 12 people in a room usually, and 4 of them seem to never come back

[14:02:00.0000] <annevk5>
true

[14:03:00.0000] <Hixie>
oh maybe the html5 work is in fact _too_ open for him

[14:07:00.0000] <sayrer>
Hixie, well, in my experience he isn't too interested in open goal setting, just open bug fixes

[14:09:00.0000] <Hixie>
sayrer: well he's not reported any bugs in our numerous open bug reporting mechanisms either

[14:10:00.0000] <sayrer>
Hixie, I didn't mean in that direction

[14:10:01.0000] <sayrer>
you fix his bugs, see :)

[14:11:00.0000] <Hixie>
while it does look like one day i might end up fixing the mess he made with JSON, i'm assuming that's not what you meant :-)

[14:11:01.0000] <gsnedders>
But JSON is pefect!

[14:11:02.0000] <jgraham>
/me doesn't quite understand why his opinion has such disproportionate weight

[14:11:03.0000] <jgraham>
Or at least why people act as if it did

[14:12:00.0000] <Hixie>
64%!

[14:12:01.0000] <Hixie>
jgraham: dunno, but if you find out please let me know, it'd be a nice trick to reproduce!

[14:13:00.0000] <annevk5>
/me finds an email in the <time> thread where the three people still debating have declared agreement

[14:14:00.0000] <Hixie>
speaking of the <time> thread

[14:14:01.0000] <sayrer>
Hixie, what do you want to change?

[14:14:02.0000] <sayrer>
about JSON, I mean

[14:14:03.0000] <Hixie>
is there an e-mail somewhere in that beast that describes use cases?

[14:14:04.0000] <Hixie>
sayrer: error handling, adding comments, adding NaN and Infinity

[14:15:00.0000] <sayrer>
error handling, hmm

[14:15:01.0000] <sayrer>
do you want to add error handling to every format?

[14:15:02.0000] <Hixie>
me personally? no

[14:16:00.0000] <sayrer>
do you want error handling added?

[14:16:01.0000] <Hixie>
formats that expect to be interoperably implemented amongst a wide number of UAs and used amongst a very wide array of producers and consumers all have error handling rules, whether they are de-facto or de-jure

[14:17:00.0000] <Hixie>
by having de-jure rules (i.e. by speccing them) is a huge help in getting interoperability sooner. it doesn't matter whether those rules are draconian like XML, or ignore-unknown like CSS, or crazy-complicated like HTML, or whatever.

[14:17:01.0000] <Hixie>
s/by//

[14:18:00.0000] <sayrer>
JSON in ES3.1 has draconian rules, then

[14:18:01.0000] <Hixie>
excellent

[14:18:02.0000] <sayrer>
anything that doesn't match the grammar is supposed to raise a syntax error

[14:18:03.0000] <sayrer>
we'll see how long that lasts

[14:18:04.0000] <gsnedders>
But that doesn't happen now.

[14:19:00.0000] <Hixie>
does JSON in ES3.1 replace the json.org JSON?

[14:19:01.0000] <sayrer>
the json.org JSON keeps changing to match ES3.1

[14:19:02.0000] <sayrer>
ES3.1 allows more than the RFC does

[14:19:03.0000] <roc>
there's the problem that the market rewards violations of draconian-ness, but we can try to hold the line

[14:20:00.0000] <Dashiva>
Is there still that silly duality of / being allowed both as / and as \/?

[14:21:00.0000] <sayrer>
I asked him why Infinity and NaN weren't allowed

[14:21:01.0000] <sayrer>
he said he didn't want to tie it to IEEE floating point

[14:23:00.0000] <roc>
is there a rational reason not to, given JS and most other languages depend them?

[14:24:00.0000] <sayrer>
not that I know of

[14:24:01.0000] <sayrer>
the JSON specified by the RFC allows you to support whatever extensions you want, btw

[14:25:00.0000] <Hixie>
lovely

[14:25:01.0000] <sayrer>
the main change in ES3.1 is to allow primitive root values

[14:25:02.0000] <Hixie>
/me strikes "error handling" from his JSON fixit list and adds "utter mess caused by allowing arbitrary extensions"

[14:26:00.0000] <Dashiva>
Just require namespaces for the extensions

[14:26:01.0000] <sayrer>
see, JSON really is replacing XML!

[14:59:00.0000] <Hixie>
67%

[15:11:00.0000] <Philip`>
I like how example 1 on http://developer.search.yahoo.com/help/objects/games is giving bogus metadata

[15:11:01.0000] <Philip`>
(It says it's talking about resource="http://example.com/video_object.swf" when actually it's a game_object.swf instead)

[15:11:02.0000] <Hixie>
68%

[15:17:00.0000] <Hixie>
i don't really understand what the resource="" URL is for on that example

[15:17:01.0000] <Hixie>
couldn't it just be anything?

[15:20:00.0000] <annevk5>
sigh, the markup they recommend will not exactly do as shown in text/html

[15:20:01.0000] <annevk5>
(apart from the xmlns clutter, that is)

[15:21:00.0000] <Philip`>
Hixie: The resource is to tell the RDFa processor what object the <a rel href>s are properties of

[15:22:00.0000] <Hixie>
so how does yahoo know which URLs to examine the properties of?

[15:22:01.0000] <Hixie>
is there any way to test this in anything approaching real time?

[15:23:00.0000] <Philip`>
It looks like the idea is that when a page comes up in the search results, they look at its RDF triples and if there's one saying "the media:thumbnail of foo is bar" then they'll show the little bar picture and make it link to foo

[15:23:01.0000] <Hixie>
so then it doesn't matter what the value is, right?

[15:24:00.0000] <Hixie>
oh wait they make it link to foo?

[15:24:01.0000] <Hixie>
not to the page?

[15:24:02.0000] <Philip`>
Oh, but that's probably not all since it's got <object rel=media:game> too, which I guess must do something

[15:24:03.0000] <Hixie>
sigh, authors are never going to make heads or tails of this

[15:24:04.0000] <Philip`>
They can copy and paste the examples

[15:24:05.0000] <Hixie>
the examples are wrong, as you just pointed out!

[15:25:00.0000] <Philip`>
and we'll have a thousand pages all making assertions about http://example.com/video_object.swf

[15:26:00.0000] <Philip`>
Hixie: I assume the "Test Markup" button on that page will let you test things in real time

[15:28:00.0000] <Hixie>
http://developer.search.yahoo.com/help/objectfinder?url=http%3A%2F%2Fjunkyard.damowmow.com%2F368

[15:29:00.0000] <Philip`>
Works fine with tag soup too

[15:30:00.0000] <Hixie>
if you change <object> to <div> it says that one of the required attributes is missing

[15:30:01.0000] <Hixie>
...

[15:30:02.0000] <Hixie>
so it's not rdfa

[15:31:00.0000] <Philip`>
Really? Works fine for me with <div>

[15:31:01.0000] <Hixie>
hm, yes, indeed

[15:31:02.0000] <Hixie>
weird

[15:31:03.0000] <Hixie>
compare

[15:31:04.0000] <Hixie>
http://developer.search.yahoo.com/help/objectfinder?url=http%3A%2F%2Fjunkyard.damowmow.com%2F369

[15:31:05.0000] <Hixie>
http://developer.search.yahoo.com/help/objectfinder?url=http%3A%2F%2Fjunkyard.damowmow.com%2F370

[15:32:00.0000] <Hixie>
they parse the URLs incorrectly, too

[15:32:01.0000] <Hixie>
http://developer.search.yahoo.com/help/objectfinder?url=http%3A%2F%2Fjunkyard.damowmow.com%2F372

[15:34:00.0000] <Philip`>
http://developer.search.yahoo.com/help/objectfinder?url=http%3A%2F%2Fphilip.html5.org%2Fdemos%2Frdfa%2Fmisc01.html

[15:35:00.0000] <Hixie>
wow, you killed it

[15:35:01.0000] <Philip`>
(http://developer.search.yahoo.com/help/objectfinder?url=http%3A%2F%2Fphilip.html5.org%2Fdemos%2Frdfa%2Fmisc00.html does work)

[15:35:02.0000] <Philip`>
Gosh, I never meant to kill it

[15:35:03.0000] <Hixie>
dude they totally don't actually support xmlns

[15:35:04.0000] <Hixie>
they use magic prefixes!

[15:35:05.0000] <Hixie>
http://developer.search.yahoo.com/help/objectfinder?url=http%3A%2F%2Fjunkyard.damowmow.com%2F375

[15:35:06.0000] <Hixie>
http://developer.search.yahoo.com/help/objectfinder?url=http%3A%2F%2Fjunkyard.damowmow.com%2F376

[15:36:00.0000] <Hixie>
they do check the URL in the xmlns:media="" attribute though

[15:38:00.0000] <Hixie>
they don't support CURIEs either

[15:38:01.0000] <Hixie>
they just have magic prefixes and they check that they are declared to the expected value

[15:39:00.0000] <rubys>
The HTML 4.2 page is dated March 7, 2009.  Doesn't seem that old to me.

[15:40:00.0000] <Philip`>
http://www.w3.org/RDF/Validator/ARPServlet?URI=http%3A%2F%2Fphilip.html5.org%2Fdemos%2Frdfa%2Fmisc02.html&PARSE=Parse+URI%3A+&TRIPLES_AND_GRAPH=PRINT_TRIPLES&FORMAT=PNG_EMBED

[15:41:00.0000] <Hixie>
Philip`: nice

[15:41:01.0000] <Hixie>
Philip`: guess you should report it

[15:43:00.0000] <Philip`>
Hmm, they have a nice problem-reporting form but it just uses mailto: and so it doesn't work

[15:44:00.0000] <annevk5>
rubys, http://www.crockford.com/html/ is relatively old, the 4.2 page doesn't amount to anything last I checked...

[15:47:00.0000] <roc>
the "HTML 4.2" blog post just says that he will simplify, streamline and generalize

[15:47:01.0000] <Philip`>
/me sends a manual email instead

[15:47:02.0000] <Hixie>
Philip`: hahaha, they support these attributes on any namespace, including the null namespace: http://developer.search.yahoo.com/help/objectfinder?url=hixie.ch%2Fwww%2Ftests%2Fadhoc%2Frdfa%2F001.xml

[15:47:03.0000] <roc>
which is obviously something no-one can disagree with

[15:48:00.0000] <roc>
I'd like to see how he actually plans to do that without breaking the Web

[15:48:01.0000] <Hixie>
you can simplify too much, and you can generalise too much

[15:48:02.0000] <Hixie>
i have no idea what "streamlining" means in this context

[15:48:03.0000] <gsnedders>
where is the ES 3.1 draft?

[15:48:04.0000] <Philip`>
/me notes that http://lists.w3.org/Archives/Public/public-rdf-in-xhtml-tf/2009Mar/0096.html is where this was mentioned

[15:48:05.0000] <roc>
and without leaving behaviour unspecified

[15:49:00.0000] <rubys>
I'm sure that his intentions are good, not evil.  <http://www.json.org/license.html>

[15:50:00.0000] <Hixie>
Philip`: oh hey, i totally misunderstood what that rdfa was doing

[15:50:01.0000] <Hixie>
Philip`: the <a>s nested in the <object> are misleading

[15:50:02.0000] <Hixie>
Philip`: they're all using the implied subject of the whole page

[15:51:00.0000] <Philip`>
Hixie: Do you just mean they support the RDFa attributes on elements in any namespace? (which doesn't seem inherently unreasonable)

[15:51:01.0000] <Hixie>
yes

[15:51:02.0000] <Hixie>
that's what i meant above up to the point where i posted the 001 link

[15:51:03.0000] <Hixie>
haha this "rdfa" support is completely bogus

[15:52:00.0000] <Philip`>
Hixie: The <a>s are using the subject defined by the nearest @resource, I think

[15:52:01.0000] <Hixie>
nope, i can get the same result without any nesting

[15:52:02.0000] <Philip`>
and they themselves define the predicate and object that goes with that subject

[15:54:00.0000] <Hixie>
good lord almighty rdfa is really feaking confusing

[15:54:01.0000] <rubys>
blasphemer!  <ducks>

[15:54:02.0000] <annevk5>
your English is too :p

[15:56:00.0000] <Philip`>
http://developer.search.yahoo.com/help/objectfinder?url=http%3A%2F%2Fphilip.html5.org%2Fdemos%2Frdfa%2Fmisc03.html

[15:56:01.0000] <Philip`>
The last one looks wrong in that view, but correct in the raw RDF that it passes to the validator

[15:58:00.0000] <Hixie>
can you confirm that http://hixie.ch/tests/adhoc/rdfa/003.xml and http://hixie.ch/tests/adhoc/rdfa/004.xml are equivalent in RDFa?

[15:58:01.0000] <Hixie>
i'm having issues understanding it

[15:58:02.0000] <Hixie>
it = the spec

[15:59:00.0000] <gsnedders>
RDFa is pointless

[15:59:01.0000] <gsnedders>
/me hides

[16:01:00.0000] <Philip`>
Hixie: It looks to me like they ought to be the same :-)

[16:01:01.0000] <Hixie>
they're not in the yahoo thing

[16:02:00.0000] <gsnedders>
/me writes to Edinburgh to defer his application for 2010 entry

[16:02:01.0000] <Philip`>
http://torrez.us/rdfa/ says they're the same

[16:02:02.0000] <Hixie>
seriously though, rdfa is really confusing

[16:02:03.0000] <annevk5>
Is Y! using a proper parser though? I thought the expectation was that people wouldn't use such a thing...

[16:02:04.0000] <Hixie>
when does one use rel and when does one use property?

[16:03:00.0000] <Hixie>
content or resource or href?

[16:03:01.0000] <Philip`>
("same" in the sense that they parse into an equivalent RDF graph)

[16:03:02.0000] <Philip`>
annevk5: What do you mean by "proper"?

[16:03:03.0000] <Philip`>
annevk5: It's totally tag soup and not at all XML, and is case-insensitive etc

[16:04:00.0000] <annevk5>
Philip`, I meant in the RDF sense, but that's interesting too :D

[16:04:01.0000] <Hixie>
i was triggering their xml parser with my most recent tests

[16:04:02.0000] <Hixie>
illformed content caused it to fail

[16:04:03.0000] <Philip`>
annevk5: but I assumed the RDFa people's idea is that you extract data from the DOM in the same way (modulo real vs fake namespace declarations etc)

[16:04:04.0000] <Hixie>
the yahoo thing is definitely not following rdfa rules correctly

[16:05:00.0000] <Philip`>
annevk5: and I thought that was what existing tools tended to do, e.g. using Tidy to convert stuff into XML before parsing it

[16:05:01.0000] <annevk5>
Philip`, which is why I meant in the RDF sense

[16:05:02.0000] <Hixie>
actually i lie

[16:05:03.0000] <Hixie>
they are getting the same triples out

[16:05:04.0000] <Hixie>
they're just reading their rdf tree wrongly

[16:07:00.0000] <Philip`>
s/tree/graph/

[16:11:00.0000] <Hixie>
http://developer.search.yahoo.com/help/objectfinder?url=hixie.ch%2Fwww%2Ftests%2Fadhoc%2Frdfa%2F002.xml

[16:11:01.0000] <Hixie>
i made the button disappear!

[16:12:00.0000] <Philip`>
Can you use this to sabotage Yahoo search result pages?

[16:13:00.0000] <Hixie>
i don't understand http://torrez.us/services/rdfa/?url=http%3A%2F%2Fhixie.ch%2Fwww%2Ftests%2Fadhoc%2Frdfa%2F002.xml

[16:13:01.0000] <Hixie>
am i misunderstanding curies?

[16:14:00.0000] <Philip`>
What bit don't you understand?

[16:14:01.0000] <Hixie>
where did my namespaces go?

[16:14:02.0000] <Hixie>
http://hixie.ch/www/tests/adhoc/rdfa/002.xml

[16:14:03.0000] <Philip`>
It doesn't matter where they went

[16:14:04.0000] <Hixie>
in particular test3

[16:15:00.0000] <Hixie>
i mean the namespace values, not the prefixes

[16:15:01.0000] <Philip`>
Oh

[16:15:02.0000] <Philip`>
Hmm...

[16:17:00.0000] <Philip`>
You have to use Safe CURIEs

[16:17:01.0000] <Philip`>
rel="[med:ia/game]"

[16:18:00.0000] <Hixie>
...why?

[16:19:00.0000] <Hixie>
5.4.4. Use of CURIEs in Specific Attributes says rel="" takes regular curies

[16:19:01.0000] <Hixie>
"@rel and @rev do not differentiate their two types of data by using [safe CURIE]s. Instead, any value that matches an entry in the list of link types in the section The rel attribute, MUST be treated as if it was a URI within the XHTML vocabulary, and all other values must be CURIEs."

[16:19:02.0000] <Philip`>
Oops, I was reading the wrong bit

[16:20:00.0000] <Hixie>
this is a seriously confusing technology

[16:20:01.0000] <Philip`>
but if you use rel="[med:ia/game]" in http://torrez.us/rdfa/ then it works like you want :-)

[16:20:02.0000] <Hixie>
so http://torrez.us/rdfa/ is buggy?

[16:21:00.0000] <Philip`>
Seems so

[16:22:00.0000] <Philip`>
Since the rel token isn't a known keyword, it should be processed a CURIE with prefix "[med" and name "ia/game]", I think

[16:23:00.0000] <Philip`>
though I don't see anything that defines what should happen when the prefix isn't in scope

[16:23:01.0000] <Philip`>
/me guesses Hixie is not being convinced of the value and quality of RDFa

[16:23:02.0000] <Hixie>
oh i'm being convinced...

[16:25:00.0000] <Lachy>
Hixie, what? Are you seriously almost convinved to add RDFa to HTML5?

[16:26:00.0000] <Philip`>
HTML is way too easy to understand already

[16:26:01.0000] <Lachy>
LOL

[16:26:02.0000] <Philip`>
We need to do something about that

[16:26:03.0000] <Hixie>
i think it's pretty clear that there are use cases that need to be addressed

[16:26:04.0000] <Lachy>
possibly. But does RDFa really address those cases?

[16:27:00.0000] <Hixie>
hard to tell, given how mind-bendingly confusing it is

[16:29:00.0000] <Lachy>
I'm not sure what the use cases are exactly, since I haven't followed most of the RDF threads. But I don't like the idea of introducing RDFa mostly due to its overall complexity

[16:33:00.0000] <Philip`>
http://www.w3.org/2007/08/pyRdfa/extract?uri=http%3A%2F%2Fphilip.html5.org%2Fdemos%2Frdfa%2Fmisc01.html&format=pretty-xml&warnings=false&parser=lax&host=xhtml&space-preserve=true&submit=Go%21


2009-03-17
[17:04:00.0000] <sayrer>
gsnedders, http://wiki.ecmascript.org/doku.php?id=es3.1:es3.1_proposal_working_draft

[17:12:00.0000] <sayrer>
Hixie, why do keep tearing down RDFa? Why do you Creative Commons so much?

[17:13:00.0000] <sayrer>
Why do you hate Creative Commons so much?

[17:13:01.0000] <Hixie>
sayrer: should i add rdfa to html5?

[17:14:00.0000] <sayrer>
Yahoo! supports it. So does Obama.

[17:14:01.0000] <Hixie>
that doesn't answer my question :-)

[17:15:00.0000] <sayrer>
My opinion is archived, let me dig up a hypertext reference

[17:17:00.0000] <sayrer>
Hixie, http://lists.w3.org/Archives/Public/www-tag/2009Feb/0328.html

[17:17:01.0000] <Hixie>
is that a "yes" or a "no"? i don't understand

[17:17:02.0000] <sayrer>
it's a "doesn't matter"

[17:18:00.0000] <sayrer>
which is different than "I don't care"

[17:18:01.0000] <sayrer>
even if I had an opinion, putting it in HTML5 would do nothing

[17:18:02.0000] <Hixie>
your opinions are very confusing

[17:18:03.0000] <Hixie>
much like rdfa itself :-)

[17:18:04.0000] <jcranmer>
RDF must burn in hell

[17:19:00.0000] <jcranmer>
RDFa sounds too much like RDF

[17:19:01.0000] <sayrer>
how about this: If it were my document, I wouldn't put it in

[17:19:02.0000] <sayrer>
Hixie, does that work?

[17:19:03.0000] <Hixie>
sayrer: so i should't add rdfa to html5?

[17:19:04.0000] <Philip`>
/me finds jcranmer's opinions refreshingly clear

[17:19:05.0000] <Hixie>
i thought you did have a document that was html5 now :-)

[17:19:06.0000] <sayrer>
mine is called HTML 2010, I think

[17:19:07.0000] <sayrer>
still trying not to be confusing

[17:20:00.0000] <Philip`>
C++0x should have taught the world not to put future dates in standard names

[17:20:01.0000] <jcranmer>
it should be released in late 2009

[17:20:02.0000] <Philip`>
even if the resolution is limited to a decade

[17:20:03.0000] <sayrer>
I don't expect any title I pick will be the name of a standard

[17:20:04.0000] <Hixie>
/me still plans to reach last call in 2009 :-)

[17:21:00.0000] <Philip`>
jcranmer: Sounds like they're cutting it a bit close :-)

[17:21:01.0000] <jcranmer>
now, if only I could convince those arguing about whether or not <time> needs to support non-Gregorian calendars that 99.99% of users don't care

[17:22:00.0000] <Hixie>
jcranmer: have actual use cases been mentioned in that thread?

[17:22:01.0000] <Hixie>
i lost track a few days ago

[17:22:02.0000] <roc>
yes

[17:22:03.0000] <Hixie>
ok good

[17:22:04.0000] <sayrer>
In HTML 2010, there is no <time>

[17:22:05.0000] <sayrer>
eventually it will float

[17:22:06.0000] <Hixie>
sayrer: so what element should microformats use?

[17:22:07.0000] <jcranmer>
I think people were talking about something like mentioning dates for old Parliamentary records or something

[17:23:00.0000] <jcranmer>
Hixie: <doesitreallymatter>

[17:23:01.0000] <Hixie>
jcranmer: why won't plain text do for that use cases again?

[17:23:02.0000] <roc>
for example, a history of Central America written in the Mayan calendar

[17:23:03.0000] <sayrer>
microformats are a so far unsuccessful experiment

[17:23:04.0000] <Hixie>
wow, sayrer and i are two for two on agreeing on things today

[17:24:00.0000] <sayrer>
I like that SGML people idenitified them as "architectural forms" and said they wouldn't catch on

[17:30:00.0000] <Hixie>
i wonder what the benefit of marking a string in rdf as a particular type is

[17:31:00.0000] <Hixie>
and what the expected behaviour is when the type given -- e.g. ISO8601 date -- doesn't match the actual type -- e.g. RFC822 date

[17:32:00.0000] <sayrer>
no need to wonder, surely there are RSS 1.0 instances of that exact example

[17:33:00.0000] <sayrer>
answer: don't use and RDF parser

[17:33:01.0000] <Hixie>
75%

[17:33:02.0000] <sayrer>
don't use an RDF parser

[17:33:03.0000] <Hixie>
i meant the theoretical answer of rdf types

[17:33:04.0000] <Hixie>
s/types/people/

[17:34:00.0000] <sayrer>
oh they never answer stuff like that, afaik

[17:35:00.0000] <sayrer>
/me has Atom flashbacks

[17:35:01.0000] <Hixie>
maybe i should introduce a simple syntax for giving structured data that can be used by both the microformats and rdfa crowds, and we can drop <time> at the same time

[17:35:02.0000] <Philip`>
http://developer.search.yahoo.com/help/objectfinder?url=http%3A%2F%2Fphilip.html5.org%2Fdemos%2Frdfa%2Fmisc03.html

[17:35:03.0000] <Philip`>
See numbers 6 and 7

[17:36:00.0000] <sayrer>
Hixie, if the syntax resulted in a rendering, that might work

[17:36:01.0000] <Philip`>
It looks like it's handling <b><i></b></i> like how HTML5 says

[17:36:02.0000] <Hixie>
Philip`: holy crap, i was about to say, that's an html5 parser

[17:38:00.0000] <Philip`>
"Mozilla/5.0 (compatible; Yahoo! SearchMonkey 1.0; http://developer.yahoo.com/searchmonkey/useragent)"

[17:38:01.0000] <Philip`>
http://developer.yahoo.com/searchmonkey/useragent - "Sorry, the page you requested was not found."

[17:38:02.0000] <sayrer>
http://developer.yahoo.com/searchmonkey/smguide/overview.html

[17:39:00.0000] <Philip`>
/me wonders if SearchMonkey uses a different parser to the real Yahoo search

[17:39:01.0000] <Philip`>
...e.g. html5lib

[17:39:02.0000] <sayrer>
http://developer.yahoo.com/searchmonkey/smguide/datarss.html

[17:39:03.0000] <sayrer>
what could be simpler?

[17:52:00.0000] <Hixie>
ooh, i did the whole Browsers section in a few hours

[17:52:01.0000] <Hixie>
time for a break

[18:06:00.0000] <Lachy>
Hixie, yt?

[19:18:00.0000] <Hixie>
Lachy: here

[01:16:00.0000] <hsivonen>
heh. yesterday I thought about writing tests to discover if Y! *really* implements RDFa. It seems now I don't need to.

[01:23:00.0000] <MikeSmith>
hsivonen: how come?

[01:30:00.0000] <hsivonen>
MikeSmith: according to IRC logs, Hixie and Philip` already did the testing

[01:31:00.0000] <MikeSmith>
hsivonen: ah, OK

[01:33:00.0000] <hsivonen>
interestingly, of the things I've blogged about on hacking Gecko code, the report on a patch that never got in has generated the largest number of interested email from the developers of other apps (the post about the OS X clipboard)

[01:43:00.0000] <zcorpan>
/me wonders whether someone has pointed out that firefox already has the feature that's being discussed in the 'view source' thread

[01:43:01.0000] <zcorpan>
it's called "view selection source"

[01:43:02.0000] <hsivonen>
zcorpan: it has been pointed out in previous threads on the topic, IIRC

[01:45:00.0000] <zcorpan>
hsivonen: doing safe "pretty"-printing will probably make it more ugly if the original source is already half-pritty-printed

[01:45:01.0000] <roc>
someone should point it out again

[01:45:02.0000] <roc>
"bags not"

[01:47:00.0000] <zcorpan>
hsivonen: a more useful pretty-printing is a tree view that hides whitespace-only text nodes

[01:48:00.0000] <zcorpan>
/me has played around with css transitions this morning and found that it was surprisingly hard to get a simple menu working acceptably

[01:48:01.0000] <zcorpan>
things i'd like to change

[01:49:00.0000] <zcorpan>
* make height:0 and height:0px both work

[01:49:01.0000] <zcorpan>
* make 'display' an animatable property (that just flips to the new value at the end of the transition)

[01:50:00.0000] <zcorpan>
* make height:auto work by using the computed value

[01:50:01.0000] <jgraham>
Didn't Mozilla used to implement "View Source" as "View DOM Tree" but changed because people complained?

[01:51:00.0000] <jgraham>
I think the whole idea of reccommending UA features to match some political goals of the W3C is slightly absurd

[01:51:01.0000] <zcorpan>
* make text-shadow not affect layout (unrelated to transitions but anyway)

[01:52:00.0000] <hsivonen>
zcorpan: a tree view doesn't solve the issue of wanting authors to copy and paste reseriazed markup

[01:53:00.0000] <hsivonen>
zcorpan: but I suppose a "clean" view could mess with text node contents and say "tough" to scripts that break

[01:54:00.0000] <MikeSmith>
jgraham: I would not at all be surprised if many people objected to "View DOM Tree"

[01:55:00.0000] <MikeSmith>
since many probably have no idea what it means

[01:55:01.0000] <jgraham>
MikeSmith: The point is that it was called "View Source" but implemented as a serialization of the DOM tree

[01:56:00.0000] <MikeSmith>
ah

[01:57:00.0000] <MikeSmith>
well, it definitely shouldn't be called "View Source" if it's not showing the actual source

[01:57:01.0000] <jgraham>
hsivonen: If you are going down this road, allowing authors to select anything other than a complete subtree is obviously wrong so you could just add a copy function to firebug/dragonfly/etc that copied a serialized view of the subtree under the node

[01:57:02.0000] <MikeSmith>
maybe it should be "View Raw" and "View Cooked"

[01:57:03.0000] <zcorpan>
/me remembers a moz bug where view source didn't match what came from the network, apparently an artifact of how source highlighting was implemented

[01:58:00.0000] <zcorpan>
maybe something like <foo<bar> showed up as <foo><bar>

[01:59:00.0000] <jgraham>
Maybe I am just remembering what zcorpan is talking about and it wasn't a total reserialization

[02:00:00.0000] <jgraham>
In any case View Source shoud do exactly what it says on the tin

[02:00:01.0000] <hsivonen>
zcorpan: I expect reimplementing source highlighting to be "fun"

[02:01:00.0000] <zcorpan>
hsivonen: will you highlight syntax errors? :)

[02:01:01.0000] <hsivonen>
zcorpan: very unlikely

[02:02:00.0000] <zcorpan>
too bad :(

[02:02:01.0000] <roc>
zcorpan: how does text-shadow affect layout? are you just talking about potentially adding scrollbars?

[02:03:00.0000] <zcorpan>
roc: yes

[02:03:01.0000] <roc>
why do you care? I'm curious

[02:03:02.0000] <roc>
(we have a plan to make text-shadow and other things not affect layout)

[02:04:00.0000] <roc>
jgraham: I don't think View Source ever did "View DOM Tree", but it did do "View Document Reloaded From Server" which a lot of people complained about

[02:04:01.0000] <zcorpan>
roc: in my case, i have overflow:hidden on submenus to make a css transition. when tabbing through the links, the menu moves because of text-shadow

[02:04:02.0000] <roc>
hmm

[02:04:03.0000] <zcorpan>
roc: i solved it with padding and negative margin, though

[02:05:00.0000] <roc>
I wouldn't have thought text-shadow would cause a layout change in conjunction with overflow:hidden

[02:05:01.0000] <hsivonen>
zcorpan: actually, since the plan is to generate a second tokenizer for view source, I suppose it would be OK to run additional code for highlighting parse errors

[02:05:02.0000] <hsivonen>
zcorpan: I just don't want that code in the tokenizer that runs when people browse the Web

[02:05:03.0000] <roc>
I think you'll want to highlight syntax errors, since we currently do and we wouldn't want to regress that

[02:06:00.0000] <hsivonen>
roc: what's highlighted except />?

[02:07:00.0000] <roc>
hmm, maybe nothing

[02:08:00.0000] <zcorpan>
hsivonen: <!doctype<, <foo<bar

[02:08:01.0000] <roc>
I assumed there was more than just that

[02:08:02.0000] <hsivonen>
ok

[02:08:03.0000] <roc>
I guess tokenizer errors are highlighted

[02:09:00.0000] <zcorpan>
<foo/bar>

[02:09:01.0000] <roc>
anyway it's useful :-)

[02:10:00.0000] <zcorpan>
or maybe <foo bar/baz>

[02:10:01.0000] <roc>
it would be really useful if you had different colors for hard errors and soft errors :-)

[02:10:02.0000] <hsivonen>
roc: for what definitions of hard and soft?

[02:10:03.0000] <zcorpan>
hsivonen: could you blink <blink> tags? :)

[02:11:00.0000] <roc>
no, he could not

[02:11:01.0000] <roc>
URI attributes should still be turned into links though

[02:12:00.0000] <zcorpan>
/me wonders whether <?xml-stylesheet href="..."?> is auto-linked

[02:13:00.0000] <zcorpan>
apparently not

[02:13:01.0000] <zcorpan>
hsivonen: what will be used for xml view source?

[02:14:00.0000] <hsivonen>
zcorpan: that's a hard question. one possibility is the HTML5 tokenizer with a bogo tree builder

[02:15:00.0000] <hsivonen>
zcorpan: as I understand it, currently the HTML tokenizer is used for XML view source

[02:15:01.0000] <zcorpan>
yeah

[02:16:00.0000] <hsivonen>
having an XML5 tokenizer would help :-)

[02:16:01.0000] <roc>
I thought HTML5 distinguished error types but I must be wrong

[02:16:02.0000] <hsivonen>
particularly, having one for which a second view source tokenizer can be autogenerated :-)

[02:17:00.0000] <hsivonen>
roc: there are parse errors, other machine-checkable conformance errors and non-machine-checkable conformance errors

[02:17:01.0000] <zcorpan>
roc: it did in the early days where hard erros were errors with undefined error recovery (i.e. before hixie figured out what to do with what is now AAA)

[02:17:02.0000] <hsivonen>
roc: I think parse errors is the only class of errors for which it makes sense to ship checking in Firefox

[02:18:00.0000] <hsivonen>
roc: I'd put other machine-checkable errors in an extension if it were up to me

[02:18:01.0000] <roc>
depends on what you mean by errors

[02:18:02.0000] <hsivonen>
roc: since that would basically be a GWT port of Validator.nu

[02:18:03.0000] <roc>
there are certain kinds of "errors" that you can only really catch in the layout engine

[02:19:00.0000] <roc>
if you want to catch the ones that arise due to script execution

[02:19:01.0000] <zcorpan>
hsivonen: it would be nice with tree-builder-level errors (in particular highlighting unexpected end tags)

[02:20:00.0000] <hsivonen>
zcorpan: that would require duplicating all the trickery Validator.nu used for highlighting those, but it would be possible

[02:20:01.0000] <hsivonen>
roc: do you mean checking validity at a user-chosen point in time or performing continuous validation as scripts run?

[02:25:00.0000] <roc>
the latter

[02:26:00.0000] <hsivonen>
roc: I see. on the face of it, it seems like a perf problem or at least a non-trivial feature implementation-wise

[02:26:01.0000] <roc>
it depends

[02:27:00.0000] <roc>
our CSS warnings are a bit of a perf problem sometimes

[02:29:00.0000] <hsivonen>
roc: I'm not even sure I'd want to validate as scripts run; only when spinning the event loop, and at that point one would need to remember the mutation points or pay the price of revalidating the whole DOM

[02:30:00.0000] <roc>
ah

[02:31:00.0000] <roc>
I'm thinking about places in the code where we already find things that are clearly errors and reject them

[02:31:01.0000] <roc>
not general DOM tree conformance rules

[02:31:02.0000] <hsivonen>
otherwise, authors would have to be careful to perform their tree mutations in the right order to keep things valid after each individual DOM operation

[02:31:03.0000] <hsivonen>
I see

[05:14:00.0000] <MikeSmith>
hsivonen: please ping me when you around

[05:15:00.0000] <hsivonen>
MikeSmith: ping

[05:16:00.0000] <MikeSmith>
hsivonen: so I've been invited to do a sort of speaking tour in a few cities in Australia in May

[05:17:00.0000] <MikeSmith>
to university audiences

[05:18:00.0000] <MikeSmith>
graduate/research-oriented folk

[05:18:01.0000] <MikeSmith>
I want to cover some of the work going on around HTML5

[05:19:00.0000] <MikeSmith>
so was thinking to talk about your work on validator.nu

[05:19:01.0000] <MikeSmith>
by proxy

[05:20:00.0000] <hsivonen>
MikeSmith: would you like to remix my slides?

[05:21:00.0000] <MikeSmith>
yeah, that was what I was going to ask

[05:21:01.0000] <hsivonen>
I'll dig up my original files. all in proprietary formats, though...

[05:24:00.0000] <MikeSmith>
hsivonen: any format fine by me

[05:25:00.0000] <MikeSmith>
I might want to hit you up for some "lessons learned" info about your work on integrating an html5 parser in gecko

[05:25:01.0000] <MikeSmith>
also

[05:31:00.0000] <hsivonen>
MikeSmith: http://hsivonen.iki.fi/validator-nu-slides.zip

[05:31:01.0000] <hsivonen>
MikeSmith: in shiny Cocoa app lock-in formats

[05:33:00.0000] <hsivonen>
MikeSmith: the very short version of lessons learned is: 

[05:33:01.0000] <hsivonen>
 * Translating Java to C++ is the easy part

[05:34:00.0000] <hsivonen>
 * Writing Java and translating it is a pretty nice way to write C++

[05:34:01.0000] <hsivonen>
 * There are more places in a browser that depend on the HTML parser than you'd think

[05:34:02.0000] <hsivonen>
 * Nested scripts are hard

[05:35:00.0000] <hsivonen>
 * HTML character encoding stuff is worse than it appears

[05:36:00.0000] <MikeSmith>
hsivonen: thanks

[05:36:01.0000] <hsivonen>
 * Usual software project issues apply: goalposts move, polish takes time

[05:37:00.0000] <hsivonen>
 * Learning about the internals of a huge system takes time; mxr necessary in the absence of Eclipse's code comprehension tools

[05:37:01.0000] <hsivonen>
 * Valgrind rocks

[05:38:00.0000] <hsivonen>
those are my first thoughts

[05:38:01.0000] <hsivonen>
of course, garbage collectors rock, too, because with them you don't need Valgrind unless you are the person writing the collector

[05:39:00.0000] <zcorpan>
/me wonders what the second time means in transition:visibility 2s 1s;

[05:49:00.0000] <Lachy>
zcorpan, delay

[05:50:00.0000] <Lachy>
so the transition will begin 1s after the property is changed, and transition over a 2s duration

[05:58:00.0000] <zcorpan>
ah

[05:59:00.0000] <zcorpan>
ok but what does the second time mean in transition-duration:2s 1s?

[06:01:00.0000] <hsivonen>
Does Flash talk to AT anywhere other than Windows?

[06:01:01.0000] <Lachy>
zcorpan, the duration for the second property specified using transition-property.

[06:02:00.0000] <Lachy>
e.g. transition-property: color, background; transition-duration: 1s, 2s;

[06:03:00.0000] <zcorpan>
oh i missed the comma in the grammar

[06:08:00.0000] <zcorpan>
ok so if i have div { transition:visibility 1s } div:hover { visibility:hidden }

[06:08:01.0000] <zcorpan>
after how long should the div become hidden and visible when hovering and removing hover?

[06:09:00.0000] <Lachy>
then the visibility will transition from visible to hidden. But since there are only two states, it depends on the timing function and decimal rounding.

[06:10:00.0000] <Lachy>
so with linear timing function, it should be after about 0.5s, when the calculation starts round down to 0 instead of back up to 1

[06:10:01.0000] <Lachy>
at least, that's how I understand it

[06:11:00.0000] <Lachy>
we have some test cases internally that you can take a look at to see it in action

[06:35:00.0000] <MikeSmith>
/me gets back from dinner

[06:47:00.0000] <MikeSmith>
hsivonen: I like the "Valgrind rocks" part especially

[06:48:00.0000] <MikeSmith>
and "Writing Java and translating it is a pretty nice way to write C++" is an interesting point too

[06:50:00.0000] <MikeSmith>
the fact that it's actually practical

[06:52:00.0000] <hsivonen>
It depends on what kind of Java the Java code is, though

[06:52:01.0000] <hsivonen>
this code is made with an eye towards translation to C++ and JS

[07:14:00.0000] <MikeSmith>
hsivonen: yeah, understood

[07:14:01.0000] <MikeSmith>
still, even given that, that fact that it's practical at all is notable

[07:54:00.0000] <rubys>
hisvonen: re: "an eye towards translation to C++", for some values of C++ perhaps.  :-)

[07:54:01.0000] <rubys>
example: the code generated today depends heavily on the mozilla classes and on assumptions like utf-16.

[07:55:00.0000] <jgraham>
rubys: Is it the code generated that depends heavilly on those assumptions or the code generating?

[07:56:00.0000] <jgraham>
Because the former seems less of a problem than the latter

[07:56:01.0000] <rubys>
the former, but it makes it rather difficult for somebody else to pick up from there and take it in a different direction.

[07:56:02.0000] <rubys>
at least for this someone :-)

[07:56:03.0000] <annevk>
but you could hack the translator maybe?

[07:57:00.0000] <jgraham>
rubys: I would have thought that e.g. a notional v.nu -> python translation would en up depending a lot on python APIs and the Python string type in particular

[07:57:01.0000] <rubys>
I generally don't give up easily, and that was my thoughts, but it looked too difficult (read: more than a weekend project to get even small results) for me at the time.

[07:58:00.0000] <rubys>
jgraham: that's exactly what I want to be working on.

[07:58:01.0000] <jgraham>
rubys: I know :)

[07:58:02.0000] <jgraham>
(which would be really cool btw)

[07:59:00.0000] <rubys>
I was hoping that hsivonen was still around.  Because a command line tokenizer that worked with the mozilla class libraries might be something smaller that, if I saw how that worked, I could start with.

[07:59:01.0000] <rubys>
by that I mean, just the tokenizer.  The rest could be added in a second pass.

[08:00:00.0000] <rubys>
A third pass could be pythonic (elementtree, etc)

[08:01:00.0000] <jgraham>
You could probably hook a standalone tokenizer in to html5lib fairly easilly

[08:02:00.0000] <Philip`>
/me still kind of likes his OCaml tokeniser generator :-)

[08:02:01.0000] <jgraham>
s/n t/nt/

[08:02:02.0000] <Philip`>
(though it doesn't currently generate Python, only C++ and JS and Perl)

[08:02:03.0000] <rubys>
Philip`: does it pass the HTML5 tests?

[08:02:04.0000] <Philip`>
rubys: Some versions have passed all the tokeniser tests at some point in the past

[08:03:00.0000] <rubys>
just the tokenizer tests?  That's somewhat less interesting.

[08:03:01.0000] <jgraham>
/me wonders how it could pass other tests without implementing a treebuilder

[08:03:02.0000] <Philip`>
It's a tokeniser, so it's not going to run any non-tokeniser tests :-)

[08:04:00.0000] <rubys>
I'm interested in a tree builder.

[08:04:01.0000] <Philip`>
I have half of an OCaml tree builder generator, but that's not enough to actually be useful :-(

[08:05:00.0000] <jgraham>
Philip`: Generating C++ is more useful than generating python if you can make python run that C++

[08:05:01.0000] <jgraham>
(unless the generated python is better than html5lib)

[08:06:00.0000] <rubys>
generating python may be useful for other implementations of python (jython, pypy, etc)

[08:06:01.0000] <Philip`>
(By "better", do you mean "faster"?)

[08:07:00.0000] <jgraham>
Philip`: Faster would be one criterion, yes

[08:07:01.0000] <rubys>
What appeals to me about Henri's is that it is likely to be maintained, so even if it isn't a better match technically, it appears to be the one to bet on.

[08:07:02.0000] <Philip`>
(If so, I'm not sure how to make it faster, since I've not seen any easily fixable bottlenecks in html5lib, and can't think of alternative ways of writing the code that would make it much faster)

[08:08:00.0000] <Philip`>
/me 's OCaml stuff is very much unmaintained, but he thinks it's a fun toy :-)

[08:09:00.0000] <Philip`>
/me hopes a pure-Python html5lib will always exist, because it's often a pain to use impure modules

[08:09:01.0000] <Philip`>
(e.g. in sandboxed environments where you can't use binary modules)

[08:09:02.0000] <annevk>
or they ship a native version with Python

[08:10:00.0000] <rubys>
annevk: +1

[08:11:00.0000] <rubys>
to get it to ship with python, it might be helpful to move past "draft" stage at some point that's still useful.

[08:13:00.0000] <Philip`>
annevk: People still use Python 2.3 today, so having it added in Python 2.7 won't solve all the problems until many years in the future

[08:14:00.0000] <annevk>
in that case they might not care whether html5lib is still maintained

[08:14:01.0000] <Philip`>
/me is thinking of things like Google App Engine, which are likely to be frozen at a particular version for a long time

[08:14:02.0000] <zcorpan>
Lachy: the spec already defines how to mutate the dom to make it xml-compatible

[08:14:03.0000] <rubys>
This group seems to have some good contacts at Google.

[08:15:00.0000] <Philip`>
Has anyone pointed out that a document like <script>document.write('x')</script> is impossible to serialise to a DOM that will be parsed back into the same DOM?

[08:16:00.0000] <Philip`>
(Well, impossible for a generic algorithm to serialise)

[08:16:01.0000] <annevk>
or <script>document.body.appendChild(document.createElement("img"))</script>

[08:16:02.0000] <annevk>
not sure anyone did that yet

[08:20:00.0000] <zcorpan>
you could have a view source that does a parse and serialize with no scripting support

[08:21:00.0000] <Lachy>
zcorpan, http://www.whatwg.org/specs/web-apps/current-work/#xml-fragment-serialization-algorithm defines that for things that would cause well formedness errors, throw an INVALID_STATE_ERR exception

[08:22:00.0000] <Philip`>
zcorpan: That would break pages like <script>document.write('<table>')</script><tr><td>foo

[08:22:01.0000] <zcorpan>
Lachy: i was referring to http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#coercing-an-html-dom-into-an-infoset

[08:22:02.0000] <zcorpan>
Philip`: yes

[08:23:00.0000] <Lachy>
oh, I wasn't aware of that section

[08:30:00.0000] <sayrer>
maybe it should be written in RPython

[08:56:00.0000] <hsivonen>
rubys: the UTF-16 assumption is pretty contained

[08:56:01.0000] <hsivonen>
rubys: have you found issues where I assume the environment to be too Gecko-like not to be really pluggable?

[08:59:00.0000] <hsivonen>
I think by far the biggest deal with making the generator target a new environment is writing the IO driver

[09:00:00.0000] <hsivonen>
I like to think that my most Gecko-specific assumption so far is that namespaces are primitives that don't need releasing

[09:01:00.0000] <hsivonen>
and that assumption is easy to change. It's just a bridge I haven't had a need to cross with Gecko

[09:02:00.0000] <hsivonen>
Philip`: I assumed that a reserializing-based cleanup wouldn't run scripts but would parse in the scripting on mode and then set the innerHTML of each <noscript> element to its textContent

[09:03:00.0000] <zcorpan>
hsivonen: why the last step?

[09:04:00.0000] <hsivonen>
zcorpan: to get end tags and quoted attributes for stuff inside <noscript> without actually letting the contents leak into the outside tree building

[09:05:00.0000] <hsivonen>
zcorpan: it's quite possible that I'm missing something that I should have thought about regarding <noscript>...

[09:07:00.0000] <zcorpan>
doesn't the <noscript>.innerHTML setter set the content model flag to CDATA?

[09:07:01.0000] <hsivonen>
zcorpan: good point. that step would need to fake the context node for the purposes of the algorithm

[09:09:00.0000] <annevk>
"The response to the request can be found under a different URI and SHOULD be retrieved using a GET method on that resource." why SHOULD?! meh

[09:09:01.0000] <annevk>
-- http://www.ietf.org/rfc/rfc2616

[09:10:00.0000] <zcorpan>
what about <noembed>, <iframe>, etc?

[09:10:01.0000] <Philip`>
annevk: Because you might have valid reasons for not retrieving the resource under that different URI

[09:11:00.0000] <annevk>
Philip`, true, but the SHOULD also applies to the type of method

[09:11:01.0000] <annevk>
Philip`, which is the part I don't like

[09:14:00.0000] <Philip`>
annevk: I'm kind of assuming it intends something like "you SHOULD retrieve the resource, and if you do then you MUST use GET"

[09:14:01.0000] <Philip`>
though that's not what it actually says

[09:14:02.0000] <annevk>
right

[09:14:03.0000] <hsivonen>
zcorpan: <noembed> might need the same treatment

[09:14:04.0000] <hsivonen>
zcorpan: <iframe> probably not

[09:14:05.0000] <zcorpan>
why not?

[09:14:06.0000] <annevk>
there is only a single parse mode for <iframe>

[09:15:00.0000] <zcorpan>
not in opera, but i fail to see how that matters

[09:23:00.0000] <zcorpan>
it can contain markup intended for browsers that don't support iframes

[09:23:01.0000] <annevk>
then <style> and <script> should be required to use <!-- and such

[09:23:02.0000] <annevk>
<iframe> should probably be required to be empty

[09:23:03.0000] <hsivonen>
zcorpan: the spec doesn't provide for user toggling iframes on and off

[09:23:04.0000] <zcorpan>
hsivonen: it doesn't for noembed, either

[11:53:00.0000] <Hixie>
http://www.reddit.com/r/technology/comments/85acf/microsoft_is_ignoring_web_standards_and_should/c08agbv

[11:59:00.0000] <Philip`>
/me wonders where the idea of an "obligation to promote competition" comes from

[12:03:00.0000] <Hixie>
not that anyone cares, but our cats are ridiculous. http://junkyard.damowmow.com/380 he's been lying there for about 10 minutes now.

[12:03:01.0000] <Hixie>
he's fine, in case anyone wonders. he just likes to lie down like that.

[12:04:00.0000] <rubys>
citing wikipedia always gives an air of truthiness to any statement.

[12:06:00.0000] <gsnedders>
Hixie: But is their ridiculousness news?

[12:07:00.0000] <gsnedders>
Hixie: Also, why do I think the guy who wrote that comment failed to realize you read reddit?

[12:07:01.0000] <zcorpan>
rubys: http://uncyclopedia.wikia.com/wiki/Proof#Proof_by_Wikipedia

[12:09:00.0000] <rubys>
bookmarked here: http://intertwingly.net/blog/2009/03/13/HTML5-Evolution#c1237317281

[12:10:00.0000] <Philip`>
http://www.imdb.com/title/tt0751831/ - everyone trusts IMDB

[12:11:00.0000] <annevk2>
rubys, are you asserting Hixie edited Wikipedia to state that the episode "was first broadcast 13 February 1986"? :p

[12:12:00.0000] <Philip`>
"In stage one we say nothing is going to happen. Stage two, we say something may be about to happen, but we should do nothing about it. In stage three, we say that maybe we should do something about it, but there's nothing we *can* do. Stage four, we say maybe there was something we could have done, but it's too late now."

[12:12:01.0000] <Philip`>
(says http://www.imdb.com/title/tt0751831/quotes)

[12:12:02.0000] <rubys>
When I wrote that page, it never occurred to me that the value for x in 198x was the most important issue to be discussed.  Go figure.

[12:14:00.0000] <Philip`>
Bikeshedding isn't about discussing "the most important issue", it's about discussing something that's easy to express a view on

[12:14:01.0000] <gsnedders>
(also, the least important issue)

[12:14:02.0000] <Philip`>
(No, there are many far less important issues)

[12:15:00.0000] <gsnedders>
(Also, we can conclude that nothing important is ever discussed in the HTML WG, because we only ever paint bikesheds)

[12:15:01.0000] <rubys>
(( O RLY? ))

[12:17:00.0000] <Philip`>
(I could argue that it's more a case of intelligent design than of evolution)

[12:17:01.0000] <Philip`>
(where 'intelligent design' means 'design by intelligent beings', not that it was actually designed intelligently)

[12:34:00.0000] <Hixie>
gotta love people saying that html5 isn't extensible given how many extension mechanisms we have

[12:35:00.0000] <sayrer>
I think you could just remove the stated purpose of data-

[12:35:01.0000] <sayrer>
then you have a CSS like mechanism

[12:36:00.0000] <Philip`>
But you don't have any way to prevent collisions

[12:36:01.0000] <Hixie>
i don't think that would work well. but when i get around to looking at the rdfa use cases next month i expect (based on what rdfa proponents have said) that there will be enough of an argument there to add something for the embedded data space, either rdfa or something like that

[12:36:02.0000] <gsnedders>
RDFa is really weird.

[12:36:03.0000] <Hixie>
(there are big differences between data-*'s use case, and the use case for rdfa, and i don't think it makes sense to use the same technology for both)

[12:36:04.0000] <gsnedders>
/me was reading up on it a few days ago, and it really is weird

[12:36:05.0000] <Philip`>
gsnedders: Data is really weird

[12:37:00.0000] <gsnedders>
RDFa is a lot weirder than RDF

[12:37:01.0000] <sayrer>
Hixie, what are the differences?

[12:37:02.0000] <gsnedders>
(or rather RDF/XML)

[12:37:03.0000] <rubys>
have you looked at RDF/XML ?

[12:37:04.0000] <rubys>
It is *very* weird.  People (thankfully) only tend to use a small subset of it.

[12:37:05.0000] <gsnedders>
rubys: Who?

[12:37:06.0000] <gsnedders>
Me?

[12:37:07.0000] <rubys>
gsnedders: you

[12:38:00.0000] <sayrer>
http://www.imc.org/atom-syntax/mail-archive/msg11957.html

[12:38:01.0000] <gsnedders>
I have, and I have to agree that parts are weird, but that said, I think RDFa tends to be weirder than RDF/XML.

[12:38:02.0000] <Hixie>
sayrer: rdf-like data tends to form a graph, or at the very least, name/value pairs with duplicates, with names from multiple sources

[12:38:03.0000] <Philip`>
RDFa seems to be designed to represent the whole of RDF, not just the subset that people generally use

[12:39:00.0000] <sayrer>
Hixie, ok so it's an involved sort of data

[12:39:01.0000] <sayrer>
still don't see the problem

[12:39:02.0000] <Hixie>
sayrer: data-*'s use case is more about element-specific annotations

[12:39:03.0000] <annevk2>
Philip`, I think RDFa cannot express all either

[12:39:04.0000] <Hixie>
sayrer: i'm not saying that one couldn't be forced into fitting the other, i just don't think it makes sense

[12:39:05.0000] <sayrer>
it looks like RDFa is supposed to be element-specific annotations

[12:39:06.0000] <Hixie>
sayrer: just like you could use XML or JSON for similar purposes, but sometimes one is better

[12:40:00.0000] <annevk2>
Philip`, from memory I think either Mark Birbeck or Steven Pemberton said it hits about 80%

[12:40:01.0000] <Hixie>
RDFa isn't a particularly good fit for the annotation use cases either imho

[12:40:02.0000] <Hixie>
but it is better than data-* in that it isn't describing element-specific annotations, but url-specific annotations

[12:40:03.0000] <Hixie>
it doesn't matter what element the annotations are on

[12:40:04.0000] <sayrer>
I agree, I don't see what the problem with letting them use data- would be

[12:41:00.0000] <Hixie>
(<div about="#bar" property="x" content="y" id="bar"> is equivalent to <div id="bar"></div>...<div about="#bar" property="x" content="y"> for instance)

[12:42:00.0000] <Hixie>
sayrer: if we were trying to dismiss their use cases, "letting them" use data-* might be fine. but i want to address their use cases in good faith.

[12:43:00.0000] <sayrer>
ah, we're talking about different problems

[12:43:01.0000] <sayrer>
they clearly have a bad proposal

[12:43:02.0000] <sayrer>
I think data- is a fine way to let people try out bad proposals

[12:50:00.0000] <Philip`>
sayrer: If people tried out a proposal and found that actually it wasn't bad, would they be able to keep using the same syntax or have to transition to something else?

[12:51:00.0000] <sayrer>
both, as they do in CSS

[12:51:01.0000] <sayrer>
or maybe the standard would fix a few problems with the data- thing

[12:52:00.0000] <annevk2>
but then UAs will actually do something with data- attributes which might not be what script authors want (e.g. they'd have to start avoiding certain names, etc.)

[12:53:00.0000] <Philip`>
Hmm... I wonder if there's a difference in that markup needs widespread usage before it can be judged useful, and widespread usage makes it a pain to throw all that away and start with a new syntax, whereas CSS merely needs one page and one browser in order to give a full demonstration of its value

[13:10:00.0000] <Hixie>
what anne says is the main reason to avoid using data-*

[13:11:00.0000] <Hixie>
we don't want to ever end up in a position where data-* isn't safe for authors

[13:11:01.0000] <rubys>
what authors plan to use data-* today?

[13:12:00.0000] <Hixie>
i don't want to speak for anyone, but e.g. it would allow dojo to stop using non-standard attributes

[13:13:00.0000] <rubys>
providing something speculatively in the hopes that somebody else might do something that they show no inclination of doing is not something I think is wise.

[13:13:01.0000] <Philip`>
I plan to use data-*, because there's been at least two situations where I've added custom attributes (and not cared about validation)

[13:14:00.0000] <gsnedders>
It would equally allow Anolis to stop abusing @title

[13:14:01.0000] <gsnedders>
(indeed, it already supports data-anolis-xref in 1.1dev, but that'll change to data-xref)

[13:15:00.0000] <Philip`>
One of those was in SVG (so HTML's data-* doesn't technically apply) containing some data that would be displayed in a table when you clicked on a node in a graph, and another was to have a formatted tooltip on some images (separately from @title because that can't contain formatting)

[13:15:01.0000] <zcorpan>
http://www.sitepoint.com/forums/showthread.php?t=593627&highlight=custom+attributes

[13:16:00.0000] <Philip`>
There's already solutions like http://www.alistapart.com/articles/customdtd/ for adding custom attributes, so the demand seems clear

[13:17:00.0000] <Hixie>
rubys: there are a number of authors i know of that are using data-* already, i just don't want to speak for them here

[13:17:01.0000] <Hixie>
it's one of the most well-received features in html5 by web app authors

[13:18:00.0000] <Hixie>
(which is ironic given that it doesn't do anything!)

[13:18:01.0000] <gsnedders>
/me wonders how hard it'd be to make an html2rfc tool that was properly up-to-date

[13:18:02.0000] <gsnedders>
/me wonders how to implement double spacing after a "." at the end of a sentence

[13:19:00.0000] <Philip`>
and not after e.g. "e.g."?

[13:20:00.0000] <gsnedders>
Yeah

[13:20:01.0000] <gsnedders>
http://unicode.org/reports/tr29/#Sentence_Boundaries has relevance

[13:20:02.0000] <Philip`>
/me has trained himself to get annoyed when people accidentally have sentence-spacing after "e.g." in LaTeX documents

[13:20:03.0000] <gsnedders>
But RFCs must be US-ASCII

[13:20:04.0000] <Philip`>
(You have to write "e.g.\ foo" to make it a normal inter-word space instead)

[13:20:05.0000] <gsnedders>
So it should be a bit simpler

[13:20:06.0000] <roc>
the upside of not doing anything is that it's already implemented in all browsers

[13:21:00.0000] <roc>
fewer bugs too

[13:21:01.0000] <annevk2>
the DOM API is something that browsers would have to support at some point

[13:23:00.0000] <Philip`>
Hopefully people won't get too confused by trying to use the DOM API before it's supported in all browsers

[13:24:00.0000] <Philip`>
It seems that the formal blessing of data-* and its ability to avoid validation errors are sufficient reasons for people to be interested in the feature already

[14:33:00.0000] <jgraham>
/me points out that double spacing between sentences is weird typewriter legacy that is totally unneeded

[14:34:00.0000] <gsnedders>
/me points out RFC rules dictate it is required

[14:35:00.0000] <olliej>
jgraham: double spacing is much nicer to read imo

[14:35:01.0000] <gsnedders>
/me slaps self for speaking on IRC and not doing his computing project that is due in tomorrow

[14:35:02.0000] <jgraham>
olliej: With proportional fonts?

[14:35:03.0000] <gsnedders>
(Not that'll be in on time, obviously :D)

[14:35:04.0000] <olliej>
jgraham: yes

[14:36:00.0000] <jgraham>
gsnedders: Yeah well IETF takes all its formatting requirements from the typewriter age

[14:36:01.0000] <gsnedders>
(I mean, the teacher didn't say _when_ it had to be in tomorrow‚Ä¶)

[14:37:00.0000] <jgraham>
olliej: Curious. I have never found that, and some randomly selected books don't have it so it doesn't seem to be a publishing norm.

[14:38:00.0000] <gsnedders>
jgraham: Properly printed books shouldn't have double, but shouldn't have a normal space either

[14:38:01.0000] <gsnedders>
Normal spaces should be between 1/5 and 1/3 em-space, and end-of-sentence space should be nearer 1/2 em-space

[14:40:00.0000] <gsnedders>
WTF? Half my recent tweets have vanished

[14:40:01.0000] <jgraham>
Measuring suggests that they are less than 50% larger in my Everyman's Library Uylsses

[14:41:00.0000] <gsnedders>
I ought to read Ulysses

[14:41:01.0000] <gsnedders>
(which I assume is what you meant)

[14:41:02.0000] <john_fallows>
Hixie: the latest EventSource API for SSE looks great - question: is it now illegal to send "open" and "error" event types in an SSE stream because eventSource.addEventListener("open", ...) and eventSource.addEventListener("error", ...) would be ambiguous if this is permitted?

[14:42:00.0000] <jgraham>
it is a running joke in my house that I have only read the first 500 pages

[14:43:00.0000] <gsnedders>
Well, according to Wikipedia, some editions are only 644 pages :P

[14:43:01.0000] <jgraham>
This one is about 1000

[14:43:02.0000] <sayrer>
I was sure that HTML5 would end up longer

[14:43:03.0000] <Philip`>
jgraham: Almost as large as Neal Stephenson's books!

[14:44:00.0000] <Philip`>
(Actually, Anathema only seems to be 937 pages)

[14:44:01.0000] <Philip`>
(*Anathem)

[14:44:02.0000] <Hixie>
john_fallows: it's actually been impossible to set the event name for some time now

[14:44:03.0000] <gsnedders>
jgraham: So, I take it you've never read Harry Potter? :P

[14:44:04.0000] <jgraham>
HTML5 is less confusing than Ulysses. But not so well written.

[14:44:05.0000] <john_fallows>
Hixie: okay, missed that removal from the spec, so we are locked down as message always?

[14:45:00.0000] <Hixie>
john_fallows: yeah, i believe so

[14:45:01.0000] <jgraham>
gsnedders: ?

[14:45:02.0000] <john_fallows>
ok, great - that allieviates any concern, thanks. :)

[14:45:03.0000] <gsnedders>
jgraham: Some of the Harry Potter books are longer than 500 pages

[14:45:04.0000] <jgraham>
gsnedders: I have read some books that are longer than 500 pages :-p

[14:45:05.0000] <jgraham>
(including all of Harry Potter several times over)

[14:46:00.0000] <gsnedders>
jgraham: In multiple languages?

[14:46:01.0000] <gsnedders>
(My step-cousin has read the whole thing three times, IIRC, twice in French and once in English)

[14:47:00.0000] <jgraham>
Not yetN

[14:47:01.0000] <Philip`>
/me only consumed the audio book versions

[14:47:02.0000] <john_fallows>
Hixie: am i missing something? http://dev.w3.org/html5/spec/Overview.html#processField seems to still have the ability to override the event name if the event field is present.

[14:47:03.0000] <gsnedders>
/me read the entire thing once, in English

[14:47:04.0000] <gsnedders>
(Admittedly I read most of the books within 48 hours of their release)

[14:49:00.0000] <olliej>
gsnedders: you read the entire html5 spec?

[14:49:01.0000] <gsnedders>
olliej: Oh, I've done that too

[14:49:02.0000] <olliej>
gsnedders: and it's not english man :D

[14:49:03.0000] <gsnedders>
olliej: We were discussing Harry Potter! Keep up, man!

[14:49:04.0000] <olliej>
gsnedders: ...

[14:50:00.0000] <olliej>
gsnedders: is there a <harry> tag now?

[14:50:01.0000] <gsnedders>
/me is blatantly meant to be doing his computing project

[14:50:02.0000] <gsnedders>
olliej: Only </sarcasm>

[14:50:03.0000] <olliej>
gsnedders: :D

[14:51:00.0000] <gsnedders>
/me wonders if olliej actually gets that joke

[14:52:00.0000] <olliej>
gsnedders: that you're meant to be working on a project or the </sarcasm> bit?

[14:52:01.0000] <gsnedders>
olliej: </sarcasm>

[14:52:02.0000] <olliej>
nope :D

[14:52:03.0000] <gsnedders>
olliej: It is actually referenced in the spec.

[14:52:04.0000] <gsnedders>
olliej: Search for "sarcasm" (with quotes)

[14:52:05.0000] <olliej>
oh no

[14:53:00.0000] <gsnedders>
/me will discuss almost anything to avoid doing work :P

[14:53:01.0000] <Hixie>
john_fallows: huh, go figure.

[14:54:00.0000] <Hixie>
john_fallows: i guess you _can_ send arbitrary events then

[14:54:01.0000] <Hixie>
john_fallows: i wonder why we still support that

[14:54:02.0000] <gsnedders>
Also: is it bad that when I got to maths yesterday that I was asked by the girl who I sit beside if I had chosen what dress to wear for the ball?

[14:55:00.0000] <john_fallows>
Hixie: IMHO this is probably no longer necessary, and as pointed out previously it is also ambiguous for "open" and "error" events.

[14:55:01.0000] <Hixie>
john_fallows: yeah

[14:55:02.0000] <Hixie>
john_fallows: can you send mail to the list saying that i should remove it?

[14:55:03.0000] <john_fallows>
Hixie: would you like me to send email to remind you to remove it?

[14:55:04.0000] <john_fallows>
:-)

[14:56:00.0000] <Hixie>
yes please :-)

[15:00:00.0000] <john_fallows>
Hixie: done.

[15:01:00.0000] <Hixie>
thanks!

[15:01:01.0000] <john_fallows>
np.

[15:09:00.0000] <Philip`>
/me sees that john_fallows sadly removed the Harry Potter discussion from the IRC extract he posted to public-html

[15:09:01.0000] <Philip`>
It might give people the false impression that we have useful, on-topic conversations here

[15:12:00.0000] <gsnedders>
A dangerous precedent indeed.

[15:26:00.0000] <Hixie>
81%!

[15:28:00.0000] <gsnedders>
/me thinks we need a graph of time against % of spec annotated

[15:46:00.0000] <Hixie>
aaaaaaah

[15:46:01.0000] <Hixie>
pimpmyspec.net is down

[15:49:00.0000] <gsnedders>
Install anolis locally!

[15:49:01.0000] <gsnedders>
/me ducks

[15:49:02.0000] <gsnedders>
/me quacks

[15:49:03.0000] <Hixie>
didn't i try doing that once?

[15:49:04.0000] <Philip`>
/me is reminded of the idea "A distributed system is one in which the failure of a computer you didn't even know existed can render your own computer unusable."

[15:50:00.0000] <gsnedders>
Hixie: I think that was before I even tried to support Py2.3, which I should now

[15:50:01.0000] <Hixie>
gsnedders: cool, is there some way to install it easily without root? like some command i can run or something?

[15:50:02.0000] <Hixie>
Philip`: ironically, at this point the only computer that can fail without it being a fatal problem to me is the computer i own

[15:50:03.0000] <gsnedders>
python setup.py --prefix=install/here install

[15:51:00.0000] <Hixie>
i'm guessing there's at least one more line involved?

[15:51:01.0000] <Hixie>
:-)

[15:51:02.0000] <Hixie>
the wget line, that is :-)

[15:51:03.0000] <gsnedders>
And then the tar -zxf line

[15:51:04.0000] <Hixie>
curl ... | tar xvzf -

[15:51:05.0000] <Hixie>
what's the "..."?

[15:52:00.0000] <gsnedders>
Dunno

[15:52:01.0000] <gsnedders>
:)

[15:52:02.0000] <gsnedders>
You told me my school work was more important, so I don't have time to look it up

[15:52:03.0000] <Hixie>
oh well

[15:52:04.0000] <gsnedders>
hg.gsnedders.com/anolis/

[15:52:05.0000] <gsnedders>
There's a gzip/bz2 link there

[15:52:06.0000] <gsnedders>
I think

[15:52:07.0000] <Hixie>
i'll just wait for the site to be up again

[15:54:00.0000] <gsnedders>
Speak of the devil, and he vanishes.

[15:56:00.0000] <Hixie>
i'm having a discussion with a disillusioned former html5 contributor on reddit

[15:56:01.0000] <gsnedders>
Linky!

[15:56:02.0000] <gsnedders>
/me changes virtual desktop back to work

[15:57:00.0000] <Hixie>
quite unlike some of the disillusioned people i deal with at the w3c, who think html5 is doomed because it pays too much attention to web browsers, this individual thinks that we don't listen _enough_ to browser vendors

[15:57:01.0000] <Hixie>
specifically, that there are too many places where microsoft, nokia, and other browser vendors don't agree with each other yet

[15:57:02.0000] <Hixie>
i'm going to take it as a good sign that the complaints i get about html5 are mostly mutually contradictory

[15:58:00.0000] <Hixie>
gsnedders: i pasted the link in earlier

[15:58:01.0000] <gsnedders>
I don't reload links you link earlier!

[15:59:00.0000] <Hixie>
you can also get to it by looking at my user page on reddit :-P

[15:59:01.0000] <gsnedders>
I don't look at that either!

[15:59:02.0000] <Hixie>
i thought you said you were good at procrastination!

[15:59:03.0000] <Hixie>
what happened!

[15:59:04.0000] <Hixie>
i had such high hopes for you

[15:59:05.0000] <gsnedders>
Oh, sure, but I don't procrastinate by stalking you

[15:59:06.0000] <gsnedders>
http://quotes.burntelectrons.org/4288 reveals who I do stalk

[15:59:07.0000] <gsnedders>
/me moves the bin a bit

[16:04:00.0000] <gsnedders>
/me yawns

[16:04:01.0000] <gsnedders>
/me slaps self

[16:09:00.0000] <Hixie>
damnit, i just spent the last 10 minutes looking at burntelectrons

[16:09:01.0000] <Hixie>
only your twitter stopped me

[16:09:02.0000] <gsnedders>
Touch√©.

[16:10:00.0000] <gsnedders>
I realized I had procrastinating from tweeting that, as I had it typed up on Twitter.com, but saw a link on someone else's tweet, followed that, and didn't submit it at the time.

[16:10:01.0000] <Hixie>
we have issues

[16:10:02.0000] <gsnedders>
Yeah, seriously.

[16:13:00.0000] <annevk2>
lol, that quote is funny

[16:13:01.0000] <annevk2>
must have been late when I posted that

[16:17:00.0000] <gsnedders>
/me yawns loudly

[16:18:00.0000] <gsnedders>
/me should go to bed

[16:18:01.0000] <gsnedders>
I procrastinate less in the morning

[16:18:02.0000] <gsnedders>
(less being the vital word)

[16:20:00.0000] <Philip`>
Mornings are for sleeping and for playing TF2

[16:20:01.0000] <Philip`>
Afternoons are for procrastinating

[16:20:02.0000] <Philip`>
Evenings are for doing the work that I meant to do during the day

[16:20:03.0000] <Philip`>
Nights are for playing more TF2 and then sleeping

[16:21:00.0000] <Philip`>
At least that's how my life seems to work

[16:25:00.0000] <annevk2>
http://quotes.burntelectrons.org/3577 lol

[16:26:00.0000] <Hixie>
is there another instance of pimpmyspec.net anywhere, btw?

[16:26:01.0000] <Hixie>
if there were two instances i could use whichever one finished first

[16:26:02.0000] <annevk2>
the quuz.org one is not up to date

[16:27:00.0000] <gsnedders>
Not much has changed, though :P

[16:27:01.0000] <annevk2>
Hixie, if what gsnedders says is true you can try http://anolis.quuz.org/

[16:28:00.0000] <Hixie>
i think there are enough changes that the output is notably different

[16:28:01.0000] <Hixie>
spacing and stuff like that

[16:28:02.0000] <gsnedders>
/me wonders how much effort it'd be to get pms running on gsnedders.html5.org

[16:29:00.0000] <annevk2>
I can update anolis.quuz.org if someone tells me what files to changes

[16:29:01.0000] <annevk2>
s/changes/change/

[16:29:02.0000] <gsnedders>
/me finds PMS has a load of dependancies and decides not to

[16:42:00.0000] <gsnedders>
Hixie: What's the working-copy URL?

[16:42:01.0000] <gsnedders>
working-copy?

[16:43:00.0000] <gsnedders>
Or rather, the file to gen from?

[16:43:01.0000] <Philip`>
gsnedders: Do you not have anything more important to do than work on the spec-generation system? :-p

[16:43:02.0000] <gsnedders>
Philip`: No

[16:44:00.0000] <Philip`>
/me is currently busy failing to finish writing a paper before tomorrow

[16:45:00.0000] <gsnedders>
http://gsnedders.html5.org/pms/ throws errors when you try and gen a spec

[16:45:01.0000] <gsnedders>
oh well

[16:45:02.0000] <Hixie>
i concatenate header-whatwg and working-copy

[16:52:00.0000] <gsnedders>
/me has no idea why it is failing on html5, and gives up

[16:54:00.0000] <gsnedders>
/me gives up, and goes to bed

[16:54:01.0000] <gsnedders>
See you in a few hours

[16:56:00.0000] <Hixie>
/me tries to understand the videos microsoft put up of their speed tests

[16:56:01.0000] <Hixie>
i don't understand how they decide when to stop their stopwatch

[16:59:00.0000] <Philip`>
/me vaguely remembers reading that it was when the progress bar stopped

[16:59:01.0000] <Hixie>
it's demonstrably not the case


2009-03-18
[17:00:00.0000] <annevk2>
i thought it was when the status bar or something said "done"

[17:01:00.0000] <annevk2>
http://twitter.com/flexewebs/statuses/1345419976 followed by http://twitter.com/flexewebs/statuses/1345479096 fail

[17:05:00.0000] <Philip`>
/me hasn't even read the spec once :-(

[17:21:00.0000] <annevk2>
"In case (3), you definitely need also one of the following (and can use these in other cases):" well I disagree right there...

[17:22:00.0000] <annevk2>
but then threads with Larry involved tend not to be that constructive so I'll let someone else bite :)

[17:27:00.0000] <annevk2>
oh, it's on www-tag

[17:27:01.0000] <annevk2>
ok, i'll bite

[17:35:00.0000] <Niictar>
Anyone alive?

[17:36:00.0000] <annevk2>
for a few more minutes

[17:36:01.0000] <Niictar>
Right on

[17:36:02.0000] <Niictar>
Not that I have a lot to say. But I was curious if this place was going to end up being super quiet all the time like the forum seems to be

[17:37:00.0000] <Philip`>
Niictar: See the left column of http://krijnhoetmer.nl/irc-logs/

[17:37:01.0000] <Niictar>
Kay

[17:37:02.0000] <Philip`>
Usually there's quite a lot of activity

[17:38:00.0000] <Philip`>
Not necessarily productive activity, but things do get said :-)

[17:38:01.0000] <Niictar>
Haha

[17:39:00.0000] <annevk2>
the mailing list and IRC are the main forms of communication

[17:39:01.0000] <annevk2>
the forums are there for people who don't like mailing lists but they do sort of take a back seat

[17:40:00.0000] <Niictar>
Ok. Well, the mailing list has been filled with nothing but arguments about <time>, and yea, the forums are super slow.

[17:40:01.0000] <Niictar>
And I like IRC, so that's all good for me, then

[17:41:00.0000] <annevk2>
oh yeah, you need to learn about deleting email following the list :p

[17:42:00.0000] <Philip`>
Much of the discussion on IRC about the <time> topic has been incredulity at the discussions on the mailing list

[17:42:01.0000] <Niictar>
Heh, maybe all the space gmail gives me will be put to good use, now :P

[17:42:02.0000] <Philip`>
so this is a relatively safe place if you're not terribly interested in the details of the <time> discussion

[17:45:00.0000] <annevk2>
/me -> bed

[17:47:00.0000] <Niictar>
So, anyway, I was looking up HTML 5 on Twitter today and it was flooded with news about the iPhone supporting the <video> element

[17:47:01.0000] <Niictar>
But it was just a lot of people saying so without any references

[17:47:02.0000] <Niictar>
And Google has nothing on it yet

[17:47:03.0000] <Niictar>
Anyone know anything about this yet?

[17:48:00.0000] <olliej>
Niictar: i believe iphone 3 is meant to support it

[17:48:01.0000] <Niictar>
Err, the 3.0 OS for the iPhone to be exact

[17:48:02.0000] <olliej>
Niictar: desktop safari has supported <video> and <audio> since 3.1 early last year

[17:49:00.0000] <Niictar>
I can't make the demo on WHATWG work with my version of Safari 4 for Windows, though

[17:49:01.0000] <Niictar>
And I read Firefox 3.1 supported it, too, but I can't make that one work either

[17:50:00.0000] <Niictar>
I was thinking it was cause I was using the wrong video format (which I understand still hasn't been finalized?), but I would have thought that the demo Hixie put up on whatwg.org would work

[17:50:01.0000] <olliej>
I think there were some changes to the <video> spec that we only fixed in webkit trunk in the last week or so

[17:51:00.0000] <Niictar>
Ah

[17:51:01.0000] <olliej>
Niictar: what video format are you using

[17:51:02.0000] <Hixie>
the demo on whatwg.org uses ogg theora

[17:51:03.0000] <olliej>
Niictar: the changes are primarily playback events, rather than anything fundamental

[17:51:04.0000] <Niictar>
Erm, well, the whatwg site uses .ogg. And then I was trying .mp4, too

[17:51:05.0000] <Hixie>
apple only support h.264 last i heard

[17:51:06.0000] <olliej>
Hixie: broadly speaking we support anything that quicktime can play i believe

[17:51:07.0000] <olliej>
Hixie: eg. installing the theora codecs will work

[17:52:00.0000] <olliej>
Hixie: ironic that you're not using a standard video format :D

[17:52:01.0000] <olliej>
/me hides

[17:52:02.0000] <Niictar>
Ooh, do I need to install codecs on top of making sure I am using a browser that supports <video>?

[17:52:03.0000] <olliej>
Niictar: not for mp4 on mac

[17:52:04.0000] <olliej>
err

[17:52:05.0000] <olliej>
on safari

[17:52:06.0000] <Hixie>
olliej: i was trying to demo it in firefox, so using h.264 would have been hard. :-)

[17:52:07.0000] <olliej>
mac or windows

[17:53:00.0000] <olliej>
Niictar: ah, what platform are you on? mac or windows?

[17:53:01.0000] <Niictar>
This one is Safari 4 on Vista. Or anything so far is on Vista. I haven't tried it on Windows 7 or the Macs at work yet

[17:53:02.0000] <olliej>
Niictar: did you install quicktime with safari?

[17:53:03.0000] <Niictar>
No

[17:53:04.0000] <olliej>
Niictar: it's used for video support

[17:54:00.0000] <olliej>
without it safari isn't going to be playing back anything :D

[17:54:01.0000] <Niictar>
Ha, I guess that one figures

[17:54:02.0000] <Niictar>
Ok, well, I will try that later

[17:54:03.0000] <Niictar>
<video> has a fallback like <canvas> right?

[17:54:04.0000] <olliej>
Niictar: it would be silly for safari to have its own copy of QT

[17:54:05.0000] <olliej>
Niictar: yup

[17:55:00.0000] <Niictar>
Well, I didn't know QT was required for support for video :P

[17:55:01.0000] <olliej>
Niictar: yeah, it kind of sucks

[17:56:00.0000] <olliej>
/me imagines people would just complain if qt wasn't optional however

[17:56:01.0000] <olliej>
oh well

[17:56:02.0000] <olliej>
back to fixing finally

[17:56:03.0000] <olliej>
i hate finally

[17:57:00.0000] <Niictar>
So, for the iPhone... could I do something like <video src="video.mov"><embed id="VideoPlayback" src="someFlashFile" style="width:344px;height:285px;" allowFullScreen="true" allowScriptAccess="always" type="application/x-shockwave-flash" /></video>

[17:57:01.0000] <Niictar>
?

[17:57:02.0000] <Niictar>
(in theory)

[17:57:03.0000] <olliej>
that should do it

[17:57:04.0000] <olliej>
it should work in safari

[17:57:05.0000] <olliej>
on the desktop as well

[17:57:06.0000] <olliej>
ooh

[17:57:07.0000] <olliej>
actually

[17:58:00.0000] <olliej>
Niictar: can you see if that falls back correctly in your safari install?

[17:58:01.0000] <olliej>
Niictar: logically we should fall back if qt isn't available

[17:58:02.0000] <Niictar>
It doesn't, actually. My page is just blank. ...I think.

[17:58:03.0000] <olliej>
but i'm not sure

[17:58:04.0000] <Niictar>
Double checking

[17:58:05.0000] <olliej>
Niictar: could you file a bug at http://bugs.webkit.org ?

[17:59:00.0000] <Niictar>
Blank page

[17:59:01.0000] <Niictar>
Oui

[17:59:02.0000] <Niictar>
Err, I have to register

[17:59:03.0000] <Niictar>
Do I have to register?

[18:00:00.0000] <olliej>
Niictar: yes, because bugzilla emails you when we update the bug

[18:00:01.0000] <olliej>
Niictar: and we need the bug reporter to verify that we've fixed the bug

[18:00:02.0000] <olliej>
when we think we've fixed it

[18:00:03.0000] <Niictar>
Right

[18:00:04.0000] <Niictar>
Now, a caveat (sp?)

[18:00:05.0000] <Niictar>
I have some sort of "QT Lite" installed

[18:01:00.0000] <olliej>
hmmm

[18:01:01.0000] <olliej>
file anyway

[18:01:02.0000] <Niictar>
Kay

[18:01:03.0000] <olliej>
someone will eventually verify the bug exists (or not) and then it will be fixed

[18:01:04.0000] <olliej>
and the world will be a better place

[18:02:00.0000] <Niictar>
Fair enough

[18:02:01.0000] <Niictar>
And now to do all the fun form filling stuff

[18:03:00.0000] <Niictar>
Priority?

[18:03:01.0000] <olliej>
Niictar: default will do

[18:04:00.0000] <Niictar>
Component?

[18:04:01.0000] <olliej>
webcore

[18:04:02.0000] <olliej>
ah

[18:04:03.0000] <Niictar>
Webcore Misc. then

[18:04:04.0000] <olliej>
sorry

[18:04:05.0000] <olliej>
yeah

[18:04:06.0000] <olliej>
that will do

[18:04:07.0000] <olliej>
actually

[18:05:00.0000] <olliej>
layout and rendering

[18:05:01.0000] <olliej>
Niictar: sorry

[18:05:02.0000] <Niictar>
Makes sense

[18:05:03.0000] <Niictar>
Do I need to upload the test html file?

[18:05:04.0000] <Niictar>
ie host it somewhere

[18:06:00.0000] <olliej>
upload or host if hosting is easier

[18:06:01.0000] <Niictar>
Ok

[18:10:00.0000] <Niictar>
It falls back nicely in Firefox

[18:11:00.0000] <Niictar>
http://html5.ca/video.html if you want to try it now that I have it up

[18:11:01.0000] <Niictar>
Almost done with the bug report

[18:12:00.0000] <roc>
Niictar: that doesn't work for me, firefox.ogv is 404?

[18:13:00.0000] <Niictar>
I pulled it from http://www.whatwg.org/demos/2008-sept/video/video.html oops

[18:13:01.0000] <roc>
olliej: sorry, but a patent-encumbered pay-to-play "standard" isn't worth much

[18:13:02.0000] <Niictar>
I don't know of any other particular video file that "should" work

[18:13:03.0000] <olliej>
roc: vs. a poor quality potentially patent encumbered non-standard?

[18:14:00.0000] <olliej>
roc: :D

[18:14:01.0000] <olliej>
roc: i realise a solution is needed

[18:14:02.0000] <roc>
there's a published spec

[18:14:03.0000] <roc>
it doesn't have an ISO stamp I guess

[18:14:04.0000] <roc>
the quality's not bad and getting better

[18:14:05.0000] <Hixie>
i don't think theora is a "non-standard"

[18:14:06.0000] <roc>
we've done our legal analysis

[18:14:07.0000] <olliej>
roc: it also doesn't have hardware acceleration

[18:15:00.0000] <Niictar>
Any other sources I could grab for that video element?

[18:15:01.0000] <roc>
HW acceleration on mobile is a problem yeah

[18:15:02.0000] <Hixie>
but the video people i speak to do think its quality leaves something to be desired

[18:15:03.0000] <olliej>
roc: the reality is that neither h264 nor theora is a real "solution"

[18:16:00.0000] <olliej>
roc: which is sucky

[18:16:01.0000] <roc>
well

[18:16:02.0000] <roc>
Theora solves a lot of use cases

[18:16:03.0000] <olliej>
so does h264

[18:16:04.0000] <roc>
H.264 doesn't solve anything for those of us who care about open source implementations

[18:17:00.0000] <olliej>
theora doesn't solve anything for those who want hw acceleration, etc

[18:17:01.0000] <Hixie>
i agree that 264's licensing makes it a non-option unless that is addressed

[18:17:02.0000] <roc>
that's only an issue on mobile really

[18:17:03.0000] <jcranmer>
/me looks at in re Bilski

[18:17:04.0000] <olliej>
roc: neither works for everyone

[18:18:00.0000] <roc>
and it's only an issue on mobile because the device vendors currently choose to bake in H.264 and nothing else

[18:18:01.0000] <roc>
give us some programmability and things can change

[18:19:00.0000] <Philip`>
Hmm, phones which can automatically reprogram their DSPs for new video codecs...

[18:20:00.0000] <sayrer>
The h264 vs ogg debate is so lame

[18:20:01.0000] <sayrer>
it's not a "neither works for everyone" situation

[18:20:02.0000] <sayrer>
that is an amoral argument

[18:22:00.0000] <Niictar>
Well, for now, I would love to be able to have video display on my site on the iPhone and on the desktop

[18:22:01.0000] <Niictar>
Regardless of the debate

[18:22:02.0000] <Niictar>
But I don't know anything about it right now

[18:23:00.0000] <Niictar>
I don't even know what extention h.264 uses

[18:23:01.0000] <sayrer>
don't worry, we're busily coding up a quicktime wrapper API

[18:24:00.0000] <roc>
not any more

[18:25:00.0000] <Niictar>
Well, time for food. Thanks for the help

[18:25:01.0000] <Niictar>
/me is away

[18:25:02.0000] <Hixie>
/me gets into a twitter conversation with someone who says that <input type=date> will be buggy and therefore we should use XForms

[18:25:03.0000] <Hixie>
...because apparently XForms <input ref="x"> <x xsi:type="xsd:date"> will not be buggy...?

[18:27:00.0000] <Niictar>
/me is back to say he has upload a .mp4 file and his Safari 4 installation is giving him a green box. Maybe error correction for bad video format should be implimented?

[18:27:01.0000] <Niictar>
And actually now I am away again

[19:24:00.0000] <olliej>
sicking: what do you mean the spec shouldn't mandate view source behaviour? :D

[21:52:00.0000] <Niictar>
Quiet

[22:30:00.0000] <Niictar>
Oh man

[22:31:00.0000] <Niictar>
I just realized one thing

[22:31:01.0000] <Niictar>
firefox.ogv was referenced as a relative link, hence the 404. Dumb.

[22:35:00.0000] <Niictar>
But it still doesn't work

[22:35:01.0000] <Niictar>
Well, at least it's being consistent =(

[23:35:00.0000] <Hixie>
100%!

[23:41:00.0000] <MikeSmith>
Hixie: 100% completed on the author-view edits?

[23:43:00.0000] <Hixie>
yeah

[23:43:01.0000] <Hixie>
i'm sure it's shock-full of typos and errors and i look forward to everyone's feedback over the next 5 years :-)

[23:43:02.0000] <Hixie>
i wonder if i can get away with marking this an "editorial" edit

[23:44:00.0000] <MikeSmith>
congrats

[23:44:01.0000] <MikeSmith>
„ÅäÁñ≤„Çå„Åï„Åæ (otsukaresama)

[23:44:02.0000] <MikeSmith>
Hixie: you define "editorial" as changes that don't effect implementations?

[23:44:03.0000] <Hixie>
checked in

[23:44:04.0000] <MikeSmith>
excellent

[23:49:00.0000] <Hixie>
http://www.w3.org/mid/49C09567.5000207‚äôdc

[23:50:00.0000] <Hixie>
we've been saying for months that this is what will happen when rdf gets popular and is why rdf won't work in the wild

[23:55:00.0000] <MikeSmith>
Hixie: I find it hard to comment on that without being seen as partisan.

[23:56:00.0000] <MikeSmith>
but I'm glad that Manu remains involved in the discussions

[01:43:00.0000] <bell007>
hi

[01:45:00.0000] <bell007>
hi , p.parse(content).toxml()[19:-14]    , why it remove   src="http://www.test.com/image.png"  ???

[01:46:00.0000] <bell007>
import html5lib          from html5lib import sanitizer            p = html5lib.HTMLParser(tokenizer=sanitizer.HTMLSanitizer)

[01:48:00.0000] <Philip`>
bell007: Which version of html5lib are you using?

[01:54:00.0000] <bell007>
Philip:Google Code SVN Version.  I found it remove src="http://www.test.com/image.png"  in toxml() step.

[02:11:00.0000] <jgraham>
bell007: You have a checkout from today? I think there was a regression like that that got foxed at the weekend

[02:11:01.0000] <jgraham>
*fixed

[02:37:00.0000] <hsivonen>
/me is really, really annoyed at bugs in Keynote's video export support

[02:38:00.0000] <jgraham>
When reading "saying somethinf is unspecified [...] is more a warning to programmers" leaves me feeling thoroughly depressed, does that mean I've spent too long drrinking the WHATWG koolaid?

[02:39:00.0000] <hsivonen>
does anyone happen to know if Keynote ‚Äô09 fixes any video export bugs compared to Keynote ‚Äô08

[02:41:00.0000] <Philip`>
jgraham: I've seen people outside the web standards community who seem to agree that that idea is depressing

[02:43:00.0000] <Philip`>
e.g. when there are people who think relying on undefined behaviour in C++ is fine because it works in their compiler, and the undefinedness is just a warning to be careful, there are other people who think that's stupid and it's going to bite those people in the end and they really shouldn't disregard the standards

[02:44:00.0000] <jgraham>
Philip`: So one of the most depressing things is the assumption that people will be aware of what is in the standard in order to be careful around it

[02:44:01.0000] <Philip`>
so it should be treated as a (uncheckable) error rather than a warning to programmers

[02:45:00.0000] <Philip`>
though this is probably a quite different interpretation of your quote than how it would be interpreted in the context of web standards

[02:46:00.0000] <jgraham>
In this case I think the error condition is checkable but the argument is being made that it should be implementation-defined and programmers should have to be careful to save the bother of actually checking it

[02:49:00.0000] <Philip`>
Perhaps the idea is that people should test their code in two browsers, and if it differs then it's because they're relying on undefined behaviour and that should indicate to them that they need to fix it

[02:51:00.0000] <jgraham>
I think the idea is that no person should write code like this in the first place. Which seems like an optimistic assumption

[02:52:00.0000] <gsnedders>
So, my plan at getting up early failed

[02:52:01.0000] <Philip`>
10am is pretty early

[02:53:00.0000] <gsnedders>
/me wonders why http://twitter.com/gsnedders and http://search.twitter.com/search?q=from%3Agsnedders are different

[03:00:00.0000] <mpt>
gsnedders, the search is weird. Yesterday I found that it produced different results based on the order of the search terms.

[03:05:00.0000] <Philip`>
The search is weirder than that - it even varies depending on the time of day

[03:48:00.0000] <hsivonen>
I'm amused to see that Philip` has found a bug in Genx

[03:51:00.0000] <gsnedders>
hsivonen: Is that not inevitable?

[03:57:00.0000] <Philip`>
It's just a continuation of my quest to prove that it is humanly impossible to write code that generates well-formed XML

[03:58:00.0000] <annevk2>
It also proves Tim is a bozo

[03:58:01.0000] <Philip`>
*Everyone* is a bozo :-)

[03:58:02.0000] <gsnedders>
Philip`: You bozo.

[03:58:03.0000] <Philip`>
At least, everyone who attempts to write code that generates XML is a bozo

[03:59:00.0000] <Philip`>
and at some point you have to start wondering whether the problem is with XML rather than with the entire human race

[03:59:01.0000] <Philip`>
(the most likely problem being that there are a lot of rules, and thus a lot of chances to get things wrong)

[04:00:00.0000] <Philip`>
(In a more permissive markup language you could still have bugs like forgetting to escape "<" in text, but you wouldn't have to worry about also escaping "]]>" in text)

[04:02:00.0000] <Philip`>
((By "more permissive" I just mean one in which fewer strings are errors, not necessarily one in which there is no draconian error handling))

[04:03:00.0000] <Lachy>
Philip`, one day, I will prove you wrong by writing a tool that always outputs well formed XML

[04:04:00.0000] <Philip`>
Well, it's easy to write a tool that always outputs well-formed XML

[04:04:01.0000] <Lachy>
I don't mean something simple that just does: print "<foo>Hello World!</foo>";

[04:05:00.0000] <Philip`>
It needs to accept arbitrary user input, and preferably use that input to determine what tags and namespaces to output (i.e. not just text and attribute values)

[04:05:01.0000] <Lachy>
of course

[04:05:02.0000] <Philip`>
Also it's not allowed to simply pass its serialiser output back into an XML parser and print an error message if it wasn't well-formed

[04:06:00.0000] <Philip`>
(It should either modify the data into something well-formed, or generate error messages at the moment when the invalid document fragment is constructed)

[04:06:01.0000] <jgraham>
Lachy: If you mean "a tool that can produce any output that conforms to the XML1.0+XMLNS grammar and never produces output that does not conform to said grammar" then it is worth noting that many people before you have trie and failed

[04:06:02.0000] <Lachy>
no, I will make it so that, e.g., it outputs non-Unicode byte sequences as U+FFFD, and other stuff like that

[04:07:00.0000] <Philip`>
Also, if I can't find any bugs then I'll just pretend I haven't even bothered looking at it yet, to avoid disproving my argument

[04:07:01.0000] <Lachy>
jgraham, I know. That's why I'm accepting the challenge

[04:08:00.0000] <jgraham>
"Good Luck With That"

[04:08:01.0000] <annevk2>
"Waste of Time"

[04:08:02.0000] <jgraham>
Yeah, it seems like there are more interesting things to work on

[04:09:00.0000] <jgraham>
Like making a markup language with less chances of going wrong in the first place

[04:09:01.0000] <Philip`>
It would only be worthwhile if you could convince a significant number of people to use your library

[04:09:02.0000] <Lachy>
sure, I don't plan to work on it now. But one day, when I have some time and motivation

[04:10:00.0000] <jgraham>
Oh I have a lot of projects like that. I plan to get high speed network access in my coffin to finish them all

[04:10:01.0000] <Philip`>
"I can write a better XML serialiser library than all the XML experts who have tried and failed before me, and I will prove it at some undetermined point in the future which is likely to never occur!" ;-)

[04:16:00.0000] <hsivonen>
annevk2: re: www-tag, back on the telecon where the versioning ACTION was minted, I said reopening the discussion probably wouldn't be productive...

[04:16:01.0000] <Philip`>
/me notes that the Genx bug is particularly weird, since there's an explicit piece of code added to allow the first character of an NCName to be ':', and that code has no other possible purpose

[04:18:00.0000] <annevk2>
hsivonen, ah, maybe I shouldn't have said anything at all then

[04:19:00.0000] <hsivonen>
annevk2: that's not what I meant. I meant I agree with your assesment about the earlier thread.

[04:48:00.0000] <hsivonen>
The presentation recording feature of Keynote is evil. It would be a great idea if it worked. Now it lures a person to commit to the idea of recording but then its so buggy that fixing the results requires unreasonable effort.

[04:48:01.0000] <gsnedders>
/me wonders if hsivonen has filed a bug

[04:49:00.0000] <hsivonen>
gsnedders: last time I checked, Apple's bug reporter wouldn't let me log in even after I emailed Apple about it

[04:49:01.0000] <gsnedders>
Odd.

[04:50:00.0000] <hsivonen>
gsnedders: also, I have ‚Äô08, so presumably I should first buy ‚Äô09 and see if the bug persists there

[04:51:00.0000] <Philip`>
You should use the bug reporter to report the bug that prevents you logging in

[04:51:01.0000] <Philip`>
That sounds like a good business model - release a product that doesn't work, and then have people buy the next version of the product just to see if you've fixed it yet

[04:52:00.0000] <hsivonen>
I'm quite annoyed. I'll go some bugs of my own making.

[05:00:00.0000] <ap>
hsivonen: if everything else fails, there's http://developer.apple.com/bugreporter/bugrptform.html

[05:01:00.0000] <hsivonen>
ap: thanks

[05:01:01.0000] <gsnedders>
ap: Mac OS 9 is an option for platform on that form!

[05:02:00.0000] <ap>
gsnedders: this may or may not be a mistake, I don't know

[05:03:00.0000] <ap>
gsnedders: e.g. a current product such as AirPort Base Station may be supported with OS 9 clients

[05:04:00.0000] <gsnedders>
/me shrugs

[05:23:00.0000] <annevk3>
http://blog.amplesdk.com/2009/03/18/getting-ready-for-tomorrow-ample-sdk-to-use-html5-doctype/ but they keep the xmlns cruft. Weird.

[06:46:00.0000] <Lachy>
/me wishes people would trim CC lists in replies more frequently

[07:51:00.0000] <annevk3>
argh

[07:51:01.0000] <annevk3>
proofreading.is.needed

[07:53:00.0000] <jgraham>
annevk3: Well for a start I suggest using spaces rather than dots between your words

[07:54:00.0000] <Philip`>
/me read that sentence and didn't notice the dots, since they were camouflaged with the dust on his monitor

[07:56:00.0000] <jgraham>
/me postulates that people who complain that HTML5 is taking too long have never wanted to use the STIX fonts

[07:59:00.0000] <jgraham>
Hmm it took 3 messages for the "web addresses... thread to turn into a bikeshed about the name. I wonder what the record is

[08:00:00.0000] <Philip`>
jgraham: I guess they haven't been waiting for the final volume of TAOCP either

[08:06:00.0000] <Philip`>
/me wonders what tricks there are for making a LaTeX document shorter without cutting out any of the content

[08:11:00.0000] <jgraham>
Philip`: Larger margins

[08:11:01.0000] <jgraham>
Smaller fonts

[08:11:02.0000] <jgraham>
Smaller figures

[08:12:00.0000] <iugrina>
Philip`: baselinestretch

[08:19:00.0000] <Philip`>
I don't want to change margins or font size, since there's specific formatting requirements and a provided .cls file for it

[08:20:00.0000] <Philip`>
I'm already using Times which saves half a page compared to Computer Modern

[08:23:00.0000] <Philip`>
/me decides to delay that boring formatting cleanup stuff until later

[08:55:00.0000] <jgraham>
Web browsers suck

[08:56:00.0000] <annevk3>
now there's an axiom I haven't seen before

[08:57:00.0000] <jgraham>
It's not really an axiom, I have evidence.

[08:59:00.0000] <Philip`>
Axioms aren't things without evidence, they're just things without proof

[09:00:00.0000] <Philip`>
I could take a piece of paper, draw two points on it, then draw a straight line through those points, and it would be evidence supporting Euclid's first axiom

[09:01:00.0000] <jgraham>
Philip`: That seems subtly wrong. Axioms are principles on which you use logic to build conclusions. But my statement was a conclusion, not an axiom that went into forming that conclusion

[09:02:00.0000] <jgraham>
So I guess I was wrong to say "it's not an axiom, I have evidence"

[09:03:00.0000] <jgraham>
It should be more like "it's not an axiom it's the combination of an axiom that can be used to define suckiness plus deductions" or something

[09:03:01.0000] <Philip`>
I guess they're more precisely *irreducible* principles on which you use logic to build conclusions

[09:05:00.0000] <Philip`>
I suppose you could hypothesise a universe in which web browsers axiomatically do not suck, but the universe will probably not be consistent

[09:29:00.0000] <Philip`>
/me successfully shortens his document by about minus six lines

[09:33:00.0000] <takkaria>
Philip`: simply consistent or absolutely consistent? :)

[09:36:00.0000] <Philip`>
takkaria: Yes

[09:36:01.0000] <Philip`>
/me doesn't know the difference, and should probably be working on stuff other than finding out the difference :-p

[09:38:00.0000] <Philip`>
/me hatches a cunning plan

[09:38:01.0000] <Philip`>
If I remove some citations from my document, it saves a few characters on some lines plus it saves whole lines in the References section at the end

[09:39:00.0000] <Philip`>
/me can't see any downsides

[09:44:00.0000] <jgraham>
Plus your work looks more original

[09:44:01.0000] <jgraham>
On the downside you annoy someone who you might want to work for in the future

[09:46:00.0000] <Philip`>
Good points :-)

[09:47:00.0000] <Philip`>
(Fortunately these are only actually links to web sites for Cisco and Quagga, and people can type those terms into Google if they really want to find them)

[12:51:00.0000] <Hixie>
ok

[12:51:01.0000] <Hixie>
database section is now out of html5

[12:51:02.0000] <Hixie>
along with websockets and eventsource

[12:52:00.0000] <Philip`>
Are they in anywhere else yet?

[12:52:01.0000] <Hixie>
http://dev.w3.org/html5/webstorage/

[12:52:02.0000] <Hixie>
http://dev.w3.org/html5/websockets/

[12:52:03.0000] <Hixie>
http://dev.w3.org/html5/eventsource/

[12:53:00.0000] <hsivonen>
Hixie: are there still whatwg-lisensed versions?

[12:53:01.0000] <Hixie>
no

[12:53:02.0000] <Hixie>
at least, not post-processed versions

[12:53:03.0000] <Hixie>
the source is still part of the html5 spec's "source" document

[12:54:00.0000] <annevk3>
yay: http://www.w3.org/TR/cors/

[12:54:01.0000] <gsnedders>
Oh dear‚Ä¶

[12:54:02.0000] <gsnedders>
That just seems horrific

[12:54:03.0000] <gsnedders>
The source document doesn't even correlate to the output now? Yuk.

[12:54:04.0000] <Hixie>
the source document is run through a bunch of scripts to generate the output documents

[12:55:00.0000] <Hixie>
from that one file i now generate one whatwg spec, four w3c specs, and an rfc

[12:55:01.0000] <hsivonen>
Hixie: does this mean that Web Apps rechartered?

[12:56:00.0000] <Hixie>
no idea

[12:56:01.0000] <gsnedders>
http://diveintomark.org/archives/2009/03/18/if-it-fails-for-some

[12:57:00.0000] <hsivonen>
Hixie: great to see that the split finally happened

[12:58:00.0000] <annevk3>
/me has mixed feelings about the split

[12:59:00.0000] <annevk3>
I see two potential issues with having them separate: 1) license 2) maintenance

[12:59:01.0000] <Hixie>
if anyone comes around asking where the specs they were implementing have gone, please point them to the dev.w3.org pages :-)

[13:00:00.0000] <Hixie>
maintenance shouldn't be an issue since they're all autogenerated from one source document

[13:00:01.0000] <annevk3>
but they no longer need to be LC quality by the end of this year

[13:01:00.0000] <hsivonen>
gsnedders: I wonder what the twitter response to Troy's post will be like

[13:01:01.0000] <gsnedders>
hsivonen: Troy's post?

[13:01:02.0000] <Hixie>
annevk3: true, true

[13:01:03.0000] <gsnedders>
/me expects he's missing something

[13:02:00.0000] <hsivonen>
gsnedders: see http://blog.whatwg.org/omit-alt#comment-7771

[13:02:01.0000] <gsnedders>
Ah

[13:02:02.0000] <Hixie>
annevk3: i guess you'll just have to make sure i get to them anyway :-)

[13:02:03.0000] <annevk3>
Hixie, can I book a few weeks in September? :p

[13:03:00.0000] <gsnedders>
:P

[13:04:00.0000] <Hixie>
annevk3: i recommend not waiting until then :-)

[13:19:00.0000] <annevk3>
http://annevankesteren.nl/2009/02/rel-canonical#comment-6736 SEO spam or sort of useful?

[13:19:01.0000] <annevk3>
I suppose I could just delete his comment for calling a link relation a "tag"

[13:20:00.0000] <Philip`>
It seems worth keeping the comment if and only if it provides some useful information or insight to the discussion

[13:21:00.0000] <Philip`>
which is probably an easier judgement than trying to work out whether a comment was intended as spam or not

[13:21:01.0000] <gsnedders>
Hixie: Are you so for micromanaging a bibliography you couldn't even use some programmatic thing as a stop-gap solution?

[13:22:00.0000] <annevk3>
gone

[13:28:00.0000] <jwalden>
Hixie: fyi, html5 has a few refs to the database API still, search for "database" to find them

[13:29:00.0000] <annevk3>
the one on Window probably being the most problematic

[13:43:00.0000] <annevk3>
same goes for localStorage and sessionStorage fwiw

[13:47:00.0000] <annevk3>
http://twitter.com/mibbit_svn/statuses/1350511417

[13:47:01.0000] <annevk3>
https://twitter.com/Hixie/status/1350291221

[14:00:00.0000] <roc>
where are Web Sockets, Event Source and Web Storage going to live?

[14:02:00.0000] <annevk3>
WebApps WG, likely

[14:03:00.0000] <annevk3>
after shepazu and MikeSmith do some charter-fu

[14:13:00.0000] <gsnedders>
/me stretches, and goes back to reading Lolita (oh bad immoral me)

[14:24:00.0000] <Hixie>
gsnedders: dunno

[14:24:01.0000] <Hixie>
jwalden: yeah, i've marked some of those cases with "XXX"s

[14:25:00.0000] <Hixie>
roc: if you mean wg-wise, webapps is where i was told they should be

[14:30:00.0000] <Hixie>
/me peers into his mail archives to see what he should reply to

[14:30:01.0000] <Hixie>
good god

[14:30:02.0000] <Hixie>
142 e-mails on <time>

[14:35:00.0000] <jgraham>
/me mocks Hixie for agreeing to reply to all that email

[14:38:00.0000] <Hixie>
i do not think agreeing to that was a mistake

[14:38:01.0000] <Hixie>
i also do not think that not agreeing to reply to all the public-html mail was a mistake

[14:39:00.0000] <Hixie>
the key difference being that the latter list has had long periods of unmitigated community breakdown

[14:39:01.0000] <Hixie>
which leads to e-mails that are not worth the electrons they are written on

[14:40:00.0000] <gsnedders>
Hixie has obviously become bored with stuff at a byte level

[14:43:00.0000] <jgraham>
Hixie: I was joking :)

[14:44:00.0000] <Hixie>
jgraham: :-)

[14:44:01.0000] <jgraham>
Although I am glad that I do not have to reply to all that email

[14:46:00.0000] <gsnedders>
"You got 21 out of 25 correct. (That's 84%.)" ‚Äî not bad for a quiz on a book that I haven't read in a year, and a quiz that asks quite obscure questions

[14:48:00.0000] <annevk3>
http://lists.w3.org/Archives/Public/public-css-testsuite/2009Mar/0045.html I guess I should keep an open mind...

[15:04:00.0000] <roc>
Why do people think it makes any sense to have thousands of test cases with no automation?

[15:05:00.0000] <roc>
do they actually have people sitting in cubicles running through these tests all day?

[15:05:01.0000] <gsnedders>
Yes

[15:05:02.0000] <Hixie>
i'd imagine they do the same as opera, and have a system that takes screenshots

[15:05:03.0000] <roc>
I refuse to believe you

[15:05:04.0000] <gsnedders>
I refuse to believe myself.

[15:06:00.0000] <gsnedders>
Trusting someone who is reading a novel where a central concern is the unreliability of the narration would be very na√Øve

[15:08:00.0000] <roc>
we solved this problem with reftests

[15:08:01.0000] <roc>
I suppose someone can create a reference page for each of these tests

[15:08:02.0000] <annevk3>
should be quite simple for most of these tests

[15:11:00.0000] <Philip`>
You couldn't possibly automate all the tests - it would cut out thousands of man-hours of work and destroy the job security of many QA engineers, which is unacceptable in the current economic climate

[15:15:00.0000] <roc>
don't worry, we can employ them writing more automated test

[15:16:00.0000] <Hixie>
roc: not most of them

[15:21:00.0000] <virtuelv>
Hixie: thanks for splitting out Storage

[15:21:01.0000] <Hixie>
np

[15:21:02.0000] <Hixie>
is there anything else that can be split out easily that i missed?

[15:29:00.0000] <annevk3>
Hixie, cross-document messaging I suppose

[15:29:01.0000] <Hixie>
that relies on Window too much

[15:29:02.0000] <Hixie>
MessageChannel maybe

[15:30:00.0000] <Hixie>
but that's tiny

[15:31:00.0000] <Philip`>
You could split out all the HTML from the spec

[15:38:00.0000] <Hixie>
hsivonen: yt?

[15:39:00.0000] <virtuelv>
Hixie: Window object?

[15:40:00.0000] <virtuelv>
(Ok, I realise that might be going far)

[15:41:00.0000] <Hixie>
"easily" was a key word

[15:41:01.0000] <annevk3>
I think it would be nice if Window / page loading / etc. was separate though

[15:42:00.0000] <virtuelv>
Hixie: how bound is text selection to HTML?

[15:43:00.0000] <Hixie>
it's bound to editing, which is bound to contentEditable, which is bound to HTML

[15:45:00.0000] <virtuelv>
but no, other than Window, I don't think there is much left to rip, and still call the spec "HTML"

[15:45:01.0000] <Hixie>
k

[15:46:00.0000] <virtuelv>
(And I agree with anne on the ¬´nice¬ª

[16:08:00.0000] <Niictar>
/me is still trying to wrap his mind around the <video> element

[16:09:00.0000] <Niictar>
I can see there are problems when an author tries to impliment his/her own fallback content

[16:10:00.0000] <Niictar>
But even with that, I still don't see why browsers shouldn't indicate they are having a problem rendering a video

[16:25:00.0000] <olliej>
There are some cool canvas demos at http://www.chromeexperiments.com -- despite warnings about only working in chrome they work fine in any recent webkit based browser (eg. Safari, Epiphany, ...)

[16:34:00.0000] <Niictar>
The first two work fine in Firefox so far =(

[16:35:00.0000] <annevk3>
http://lists.w3.org/Archives/Public/public-forms/2009Mar/att-0051/2009-03-18.html#topic4

[16:46:00.0000] <Niictar>
olliej, do you follow the mail list?

[16:47:00.0000] <olliej>
Niictar: what mailing list?

[16:48:00.0000] <Niictar>
Sorry, the one for feedback on the HTML 5 specs. whatwg‚äôwo to be exact

[16:48:01.0000] <olliej>
yeah

[16:48:02.0000] <olliej>
but i'm not one of the webkit video people

[16:48:03.0000] <olliej>
i do the canvas implementation that chrome takes credit for

[16:50:00.0000] <Niictar>
Ah, ok

[16:50:01.0000] <Philip`>
How much of their canvas implementation is specific to Skia?

[16:51:00.0000] <olliej>
Philip`: err, nothing?

[16:52:00.0000] <olliej>
Philip`: krit and I did a lot of work to make it our canvas implementation just work in terms of the standard webcore graphiccontext object

[16:52:01.0000] <olliej>
s/it //

[16:52:02.0000] <Niictar>
So your comment about "logically we should fall back if qt isn't available" is unfortunately not coming from an area of expertise about the <video> implementation

[16:53:00.0000] <olliej>
Niictar: no it is -- i believe in the absence of QT we should be acting like we don't support video or audio

[16:53:01.0000] <olliej>
so the video/audio tags sould behave as they would in any other browser than doesn't support them

[16:54:00.0000] <olliej>
eg. be treated as ordinary tags with no special properties

[16:54:01.0000] <Philip`>
/me gets confused until realising the discussion is about QT, not Qt

[16:55:00.0000] <Niictar>
Should I bother to continue my arguments for something like that on the mailing list, though?

[16:55:01.0000] <Niictar>
/me is unsure of the etiquet(sp?) expected

[16:56:00.0000] <Niictar>
etiquette*

[16:58:00.0000] <olliej>
Niictar: i think breaking video when QT isn't present is a webkit bug

[16:58:01.0000] <olliej>
Niictar: absence of fallback rules in <Video> is something i'm not at all sure about


2009-03-19
[17:01:00.0000] <Niictar>
Fair enough

[17:02:00.0000] <Niictar>
On a side note, http://experiments.instrum3nt.com/markmahoney/ball/ is really just a little more cool than I thought it would be

[17:04:00.0000] <olliej>
Niictar: hehe

[17:04:01.0000] <olliej>
Niictar: something seems off with the movement though

[17:04:02.0000] <olliej>
not sure what

[17:06:00.0000] <Niictar>
Physics wise?

[17:12:00.0000] <olliej>
yeah

[17:12:01.0000] <olliej>
cant put my finger on it though

[17:12:02.0000] <olliej>
maybe t's just the ball does deform? so bounces are all perfect?

[17:13:00.0000] <Niictar>
Yea, the ball is pretty stiff. It might look more or less strange if it was just a solid circle, maybe

[17:14:00.0000] <Niictar>
I wonder what kind of _practical_ benefits this might have

[17:15:00.0000] <Niictar>
By pretty stiff, I do actually mean "doesn't change shape at all" :P

[17:17:00.0000] <Philip`>
/me wonders why the ball can't be dragged in Opera

[17:17:01.0000] <olliej>
http://deanm.github.com/pre3d/colorscube.html is also cool

[17:17:02.0000] <Hixie>
seems to me the ball gains momentum as it bounces

[17:18:00.0000] <olliej>
maybe that's it

[17:18:01.0000] <olliej>
damn you google -- your horrible site has just consume half an hour of my life

[17:18:02.0000] <olliej>
weeeee

[17:20:00.0000] <Niictar>
/me just made Firefox die a horrible death with the smalltalk app

[17:21:00.0000] <olliej>
heh

[17:22:00.0000] <olliej>
TM should do better than it seems to in many of these and i'm not sure why

[17:22:01.0000] <olliej>
Niictar: oh, firefox shipping or firefox nightly?

[17:23:00.0000] <Niictar>
Hum, good question. Firefox 3 beta 4?

[17:23:01.0000] <olliej>
3.x or 3.0 beta?

[17:23:02.0000] <olliej>
please tell me 3.x

[17:24:00.0000] <Niictar>
3.0.7 apparently

[17:24:01.0000] <olliej>
Niictar: google minefield -- the second hit should be a link to firefox nightlies

[17:25:00.0000] <Philip`>
Google Minefield? Are they moving into military hardware now?

[17:25:01.0000] <Niictar>
Besides the name being obvious, what exactly is a "nightly"

[17:25:02.0000] <olliej>
Philip`: i'd be worried about userfriendly minefields

[17:26:00.0000] <Philip`>
I'd be worried about beta minefields

[17:26:01.0000] <olliej>
Niictar: a build of there current development tree

[17:26:02.0000] <olliej>
Niictar: minefield is the mozilla equivalent of the webkit ngihtlies

[17:26:03.0000] <Niictar>
Found it

[17:29:00.0000] <Niictar>
Hrm, I had something before that was Firefox but it wasn't Firefox. Ah, it was Shiretoko. Is that sort of the same idea as Minefield?

[17:29:01.0000] <olliej>
err

[17:29:02.0000] <olliej>
not sure

[17:29:03.0000] <olliej>
the name rings a bell

[17:29:04.0000] <olliej>
/me looks at sayrer, sicking and roc 

[17:29:05.0000] <Philip`>
That might be more of a beta

[17:30:00.0000] <Philip`>
or maybe it's just branch rather than trunk

[17:30:01.0000] <Philip`>
/me likes the idea of asking somebody who actually knows

[17:30:02.0000] <olliej>
so do i

[17:30:03.0000] <olliej>
but they're hiding

[17:30:04.0000] <sayrer>
Shiretoko corresponds to Firefox 3.x

[17:30:05.0000] <sayrer>
Minefield is tip of the trunk

[17:31:00.0000] <Niictar>
! I sort of expected this one, but all my add-ons =(

[17:31:01.0000] <sayrer>
they happen to be pretty close atm

[17:31:02.0000] <sayrer>
Niictar, there is a pref to turn off the check

[17:31:03.0000] <Niictar>
Also, http://www.mozilla.org/projects/firefox/3.6a1pre/whatsnew/ is the page Minefield opens up which is a 404. Clearly I'm on the bleeding edge :P

[17:32:00.0000] <Niictar>
Does the check just stop bugging me, or will it try to keep my addons anyway?

[17:32:01.0000] <sicking>
olliej, Shiretoko is the project name for the FF3.5 (formerly numbered 3.1) release

[17:32:02.0000] <olliej>
sicking: righto

[17:32:03.0000] <sicking>
olliej, minefield is the name of trunk nightly builds

[17:32:04.0000] <sicking>
olliej, the two are the same until we branch

[17:32:05.0000] <olliej>
sicking: yeah i knew minefield

[17:33:00.0000] <olliej>
not shiretoko

[17:33:01.0000] <olliej>
ah ha

[17:33:02.0000] <sicking>
which happened some weeks ago

[17:34:00.0000] <Philip`>
/me wonders if Shiretoko comes from the same place as hobbits

[17:35:00.0000] <MikeSmith>
annevk3: do you know what they're talking about at http://lists.w3.org/Archives/Public/public-forms/2009Mar/att-0051/2009-03-18.html#topic4 ?

[17:35:01.0000] <Niictar>
3.1 must support the <video> tag, cause my page is blank, rather than defaulting to the <embed> tag inbetween :P

[17:36:00.0000] <MikeSmith>
annevk3: ask Sam Ruby for a RNG schema for XForms in HTML?

[17:36:01.0000] <sicking>
Philip`, no, that would be the shire :)

[17:36:02.0000] <sicking>
http://en.wikipedia.org/wiki/Shiretoko_National_Park

[17:36:03.0000] <Niictar>
Except this is 3.6?

[17:37:00.0000] <gavin>
trunk is currently versioned 3.6a1pre

[17:37:01.0000] <Niictar>
That far ahead from the shipping?

[17:37:02.0000] <gavin>
that's just an arbitrary number larger than 3.5, though

[17:37:03.0000] <sicking>
Niictar, yes, 3.5 supports <video>, but only the ogg codec family

[17:38:00.0000] <Niictar>
Is 3.5 an arbitrary number higher than 3.1?

[17:38:01.0000] <Niictar>
/me knows very little about this right now

[17:38:02.0000] <gavin>
no

[17:38:03.0000] <gavin>
3.5 is the version we're going to release next

[17:38:04.0000] <gavin>
the plan used to be to release as 3.1

[17:38:05.0000] <gavin>
now the plan is to release as 3.5

[17:38:06.0000] <Niictar>
How did I get stuck with 3.0.x for so long? o.O

[17:39:00.0000] <gavin>
3.0.x is the only currently released version

[17:39:01.0000] <sayrer>
conversations like this make envy sekrit release decisions

[17:39:02.0000] <sayrer>
but only a little

[17:40:00.0000] <Niictar>
Heh

[17:41:00.0000] <Niictar>
Ok, so anyways, now I know I have something way ahead

[17:42:00.0000] <Niictar>
Sickening, you mentioned "3.5 supports <video>, but only the ogg codec family"

[17:42:01.0000] <Niictar>
Does that include .ogv?

[17:43:00.0000] <Niictar>
sicking*

[17:44:00.0000] <Niictar>
Cause I tried loading this <video src="http://www.whatwg.org/demos/2008-sept/video/firefox.ogv" autoplay></video> in Minefield and all I get is a blank page, still

[17:45:00.0000] <Niictar>
/me thinks this lack of explaination about what is wrong is going to make it very difficult to troubleshoot why a video isn't working on a client's machine

[17:45:01.0000] <Niictar>
Not by you guys, I'm not being impatient. But just from the browser

[17:46:00.0000] <sicking>
Niictar, i believe it should work yes.

[17:46:01.0000] <Niictar>
Then what should I do when it does not?

[17:46:02.0000] <sicking>
Niictar, this blog has lots of examples: http://www.bluishcoder.co.nz/

[17:47:00.0000] <sicking>
Niictar, there should also be docs on developer.mozilla.org

[17:47:01.0000] <sicking>
Niictar, are you sending a proper mimetype? Just a guess

[17:47:02.0000] <Niictar>
Maybe not?

[17:48:00.0000] <Niictar>
http://www.html5.ca/video.html is what I am loading

[17:48:01.0000] <Niictar>
Excuse the embedded flash video

[17:48:02.0000] <Niictar>
I'll look into those resources, though

[17:53:00.0000] <Niictar>
Whoa, hey. I made it work.

[17:53:01.0000] <Niictar>
I removed the content between <video> and </video>

[17:56:00.0000] <jwalden>
/me notes that the bouncing ball demo kinda fails when the ball is released partially in more than one window in vertical space

[18:06:00.0000] <Niictar>
On another note, that made no difference. However, when controls="controls" is enabled, FireFox is nice enough to show a video should exist but can't load. Safari still shows nothing

[18:06:01.0000] <kinetik>
Niictar: that video is being served as text/html

[18:07:00.0000] <Niictar>
Which?

[18:07:01.0000] <kinetik>
http://www.whatwg.org/demos/2008-sept/video/firefox.ogv

[18:07:02.0000] <Niictar>
Ah

[18:07:03.0000] <Niictar>
Anything I can do about that?

[18:07:04.0000] <roc>
someone should fix that

[18:07:05.0000] <roc>
some of those demos are cool but calling the site "Chrome Experiments" and pushing Chrome on the visitors is a bit much

[18:08:00.0000] <Niictar>
Since FireFox and Safari handles them well enough, too. I actually haven't tried using Chrome on any of those experiments, yet

[18:13:00.0000] <sayrer>
roc, I wonder how many of them are setTimeout interval experiments

[18:13:01.0000] <roc>
good question

[18:30:00.0000] <Hixie>
jesus wept that was a ridiculously content-free thread

[18:30:01.0000] <Hixie>
seriously people

[18:30:02.0000] <Hixie>
USE

[18:30:03.0000] <Hixie>
CASES

[18:30:04.0000] <Hixie>
how hard can this be

[18:31:00.0000] <Niictar>
Hixie, which?

[18:32:00.0000] <Niictar>
This conversation, or somewhere else?

[18:33:00.0000] <Hixie>
the <time> thread

[18:33:01.0000] <Hixie>
i just sent a reply to it

[18:36:00.0000] <Niictar>
/me risks sounding dumb here

[18:36:01.0000] <Niictar>
Are you sure you sent it? My inbox doesn't have it and I can't find it here: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2009-March/thread.html

[18:41:00.0000] <Philip`>
I see it only on public-html

[18:43:00.0000] <rubys>
I have no concrete suggestion, but I love the irony of "please do not cross-post" in an email that was cross-posted.

[22:04:00.0000] <Niictar>
Hrm, what is WHATWG's consensus regarding microformats?

[22:04:01.0000] <Niictar>
It seems some people aren't fans

[22:27:00.0000] <Niictar>
And FAQs are a wonderful thing

[22:28:00.0000] <Niictar>
/me also notices that no one seems awake at 11:33pm MST

[22:35:00.0000] <MikeSmith>
Niictar: there's folks awake

[22:35:01.0000] <MikeSmith>
I think you just scared them away with that bad word you said.

[22:36:00.0000] <Niictar>
Ha

[22:40:00.0000] <Niictar>
Well, the whatwg FAQs imply microformats are an acceptable method for effectivly creating your own elements :P

[22:40:01.0000] <Niictar>
But I was reading in the mailing list archives and I saw a number of people looking at HTML 5 to replace microformats or at least halt "abuses"

[22:41:00.0000] <Niictar>
Just in general

[22:41:01.0000] <MikeSmith>
Niictar: the word "microformants" was not the word I meant

[22:41:02.0000] <Niictar>
Oh

[22:41:03.0000] <Niictar>
Well, it's the only one I said since Hixie commented about the <time> feedback :P

[22:42:00.0000] <Niictar>
/me shrugs

[22:42:01.0000] <MikeSmith>
I can't remember who advocated for replacing microformats

[22:43:00.0000] <MikeSmith>
Niictar: "consensus"

[22:44:00.0000] <MikeSmith>
the main gripes I've heard about microformats is that they are not spec'ed to the degree necessary for implementors to implement support for them interoperably

[22:45:00.0000] <Niictar>
Makes sense

[22:45:01.0000] <MikeSmith>
I think hsivonen has said he'd like to add support for some microformats to validator.nu but he's not found a spec he could use for doing that

[22:46:00.0000] <Niictar>
That's a tricky word: "interoperably"

[22:47:00.0000] <MikeSmith>
yeah

[22:47:01.0000] <MikeSmith>
so is "consensus"

[22:47:02.0000] <Niictar>
Fair enough

[22:47:03.0000] <MikeSmith>
the general consensus in the WHATWG is that the arguments that have the most technical merit win

[22:48:00.0000] <Niictar>
Which is determined by the editor in the end

[22:49:00.0000] <MikeSmith>
actually, if it's something that affects browser implementations, it's determined by the browser vendors in the end

[22:50:00.0000] <Niictar>
You know more than me

[22:51:00.0000] <MikeSmith>
in those cases, Hixie is sometimes brokering a decision -- trying to determine ahead of time what will be acceptable to the major implementors (the ones who are engaged in the work at least)

[22:51:01.0000] <MikeSmith>
Niictar: btw, you are on Mountain time?

[22:51:02.0000] <Niictar>
Yeaup

[22:52:00.0000] <MikeSmith>
Boulder?

[22:52:01.0000] <Niictar>
Calgary

[22:52:02.0000] <MikeSmith>
ah

[22:52:03.0000] <Niictar>
If Boulder is a city/town kind of place

[22:54:00.0000] <Niictar>
But speaking of time, it is late for me, so I am heading off to bed

[22:54:01.0000] <Niictar>
Cheers

[23:01:00.0000] <MikeSmith>
Niictar: 'night

[01:15:00.0000] <yecril71>
Why no official DOCTYPE for XHTML?

[01:15:01.0000] <hsivonen>
yecril71: http://hsivonen.iki.fi/doctype/#xml

[01:16:00.0000] <yecril71>
The HTML validator does not validate XHTML and the XML validator needs the DOCTYPE to run.

[01:17:00.0000] <yecril71>
I need the DOCTYPE for validation, not for sniffing.

[01:17:01.0000] <hsivonen>
yecril71: no, you don't at http://html5.validator.nu/

[01:18:00.0000] <yecril71>
HTTP ERROR: 415

[01:18:01.0000] <yecril71>
application/x-www-form-urlencoded not supported. Please use multipart/form-data.

[01:19:00.0000] <yecril71>
Additionally, JavaScript error in line 567.

[01:19:01.0000] <hsivonen>
yecril71: IE?

[01:19:02.0000] <yecril71>
Yes.

[01:20:00.0000] <yecril71>
And <URL:http://hsivonen.iki.fi/doctype/#xml> sends me to W3C validator, not to your one.

[01:21:00.0000] <zcorpan>
Hixie: "A number of attributes in HTML5 are boolean attributes" - i'd suggest s/5// or maybe even s/in HTML5//

[01:22:00.0000] <hsivonen>
yecril71: see the link in the next sentence

[01:22:01.0000] <hsivonen>
yecril71: also see the link at the end: http://groups.google.com/group/comp.text.sgml/msg/c3e53dee2c152a81

[01:23:00.0000] <yecril71>
Oh, I see.

[01:48:00.0000] <yecril71>
And where is the DTD file?

[01:50:00.0000] <yecril71>
xhtml11.dtd

[01:50:01.0000] <zcorpan>
hsivonen: tough call... are you updating the text regarding ie8 now?

[01:50:02.0000] <hsivonen>
zcorpan: I think I'm going to say something, but I'm deferring publishing actual detailed tables until the proper release of IE8

[02:01:00.0000] <zcorpan>
yecril71: the xhtml11.dtd file has (had?) a syntax error for years which will break clients that use a validating parser

[02:01:01.0000] <hsivonen>
zcorpan: I want to research for myself how IE8 *really* behaves. I don't trust vendor documentation.

[02:01:02.0000] <hsivonen>
yecril71: http://mxr.mozilla.org/mozilla-central/source/content/xml/content/src/xhtml11.dtd

[02:01:03.0000] <zcorpan>
/me was thinking about the xhtml11.dtd file hosted at w3.org

[02:01:04.0000] <yecril71>
But that is just entities.

[02:01:05.0000] <zcorpan>
hsivonen: how ie8 behaves wrt what?

[02:01:06.0000] <hsivonen>
zcorpan: anything that affects layout modes

[02:01:07.0000] <yecril71>
MSXML needs a full DTD, not just entities.

[02:01:08.0000] <yecril71>
Otherwise I could define the entities inline.

[02:01:09.0000] <zcorpan>
yecril71: use <!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

[02:01:10.0000] <yecril71>
(I just need a few of them)

[02:01:11.0000] <yecril71>
That is for XHTML 1.0 Strict, not for XHTML5.

[02:01:12.0000] <zcorpan>
so?

[02:01:13.0000] <zcorpan>
xhtml5 allows any doctype

[02:01:14.0000] <hsivonen>
yecril71: for your requirements, I suggest the following

[02:01:15.0000] <yecril71>
But it will not validate with unmatching DTD.

[02:01:16.0000] <hsivonen>
1) use "-//W3C//DTD XHTML 1.0  Strict//EN"

[02:01:17.0000] <hsivonen>
as the public id

[02:01:18.0000] <yecril71>
I do not need any public ID at all.

[02:01:19.0000] <hsivonen>
2) convert the whattf RELAX NG schema to DTD using trang

[02:01:20.0000] <hsivonen>
3) host that one yourself

[02:01:21.0000] <hsivonen>
4) use it as you system id

[02:01:22.0000] <hsivonen>
yecril71: you need the public id if you want entities to work in Gecko and WebKit

[02:01:23.0000] <hsivonen>
yecril71: blame XML Core :-)

[02:01:24.0000] <yecril71>
I only need it for XSLT, I do not intend to publish XHTML.

[02:01:25.0000] <yecril71>
Not until MSIE supports XHTML.

[02:01:26.0000] <yecril71>
/me blames XML Core.

[02:01:27.0000] <yecril71>
/me sees blaming XML Core does not help.

[02:01:28.0000] <zcorpan>
/me realises that he is a member of the xml core wg

[02:02:00.0000] <Philip`>
/me sees a fun bug comment about how certain software puts domain names inside comments, and if you have an IDN domain like www.xn--something-xyz.com then it interacts badly with SGML comment parsing rules

[02:14:00.0000] <yecril71>
Could these steps be listed in the HTML5 FAQ?

[02:16:00.0000] <hsivonen>
I think I'm going to wait on recommending the HTML5 doctype until Firefox 3.5 and IE8 ship.

[02:16:01.0000] <zcorpan>
yecril71: i think it's not actually a very frequently asked question :)

[02:17:00.0000] <zcorpan>
yecril71: but i'm not a gatekeeper - feel free to add it, or maybe blog on blog.whatwg.org

[02:18:00.0000] <jgraham>
/me considers writing a mail filter to ignore mails with too many capital letters, decides that it would have too many false positives and, moreover, that he can't be bothered

[02:18:01.0000] <yecril71>
Perhaps a silly question: why a/@type and not img/@type?

[02:19:00.0000] <yecril71>
I thing img/@type would be more useful of the two.

[02:19:01.0000] <zcorpan>
<a type> is there for consistency wiht <link type>, i think

[02:19:02.0000] <zcorpan>
what's the use case for <img type>?

[02:20:00.0000] <yecril71>
So that the server can do something with images the client does not support.

[02:20:01.0000] <yecril71>
E.g. convert them on the fly.

[02:21:00.0000] <zcorpan>
doesn't Accept solve that use case?

[02:21:01.0000] <yecril71>
If it is not */*.

[02:21:02.0000] <yecril71>
So perhaps it can be labelled as a browser bug?

[02:22:00.0000] <zcorpan>
yeah. i don't see how type='' helps with the use case

[02:22:01.0000] <zcorpan>
quite the contrary - i would expect that type='image/new-fancy' would make the browser not do request the resource at all (if it looks at type='')

[02:23:00.0000] <yecril71>
That should not reach the browser, it should be replaced by the server.

[02:24:00.0000] <zcorpan>
hmm, are you saying you want to negotiate the image format when processing the request of the document that references the image?

[02:24:01.0000] <zcorpan>
why not do the negotation on the request for the image itself?

[02:25:00.0000] <zcorpan>
browsers (should?) have different Accept for document requests and image requests

[02:26:00.0000] <zcorpan>
in any case, type on img seems to just help you with saving a http request when you reference an image that a browser doesn't support for browsers that look at type=''

[02:27:00.0000] <Philip`>
Why not just use PNG and JPEG and then you don't need to worry about new fancy formats?

[02:27:01.0000] <zcorpan>
Philip`: maybe because a new fancy format is more fancy? :)

[02:28:00.0000] <jgraham>
zcorpan: Didn't save MNG

[02:28:01.0000] <annevk3>
ap, yeah, maybe we should just allow port scanning with XHR2

[02:28:02.0000] <zcorpan>
hmm opera should probably say it Accepts image/svg+xml in <img> requests

[02:29:00.0000] <zcorpan>
wonder if i've filed a bug about that already or not

[02:29:01.0000] <yecril71>
I intend to use PNG for the user agent but the source images are in a fancy (editorÔøΩs) format.

[02:29:02.0000] <annevk3>
zcorpan, I don't think we should, fwiw

[02:29:03.0000] <yecril71>
The server is responsible of converting/substituting as needed.

[02:29:04.0000] <zcorpan>
annevk3: why not?

[02:30:00.0000] <annevk3>
zcorpan, content negotiation had its chance and failed

[02:30:01.0000] <hsivonen>
zcorpan: I think I've now addressed all your pending feedback on http://hsivonen.iki.fi/doctype/

[02:30:02.0000] <hsivonen>
zcorpan: thanks!

[02:30:03.0000] <zcorpan>
yecril71: you could use data-* attributes for your needs on the server 

[02:30:04.0000] <zcorpan>
/me looks

[02:32:00.0000] <yecril71>
It can be done, with DTD customized for that.  Still not pretty but makes sense.

[02:33:00.0000] <hsivonen>
yecril71: If you prepare a DTD for your MSXML3 use case, please publish it with a permissive license (preferably MIT)

[02:34:00.0000] <yecril71>
Sure, but where?

[02:34:01.0000] <hsivonen>
on your site

[02:35:00.0000] <yecril71>
Would you like me to publish it anyway?

[02:36:00.0000] <hsivonen>
yecril71: if it addresses a use case for other MSXML users, sure

[02:36:01.0000] <yecril71>
I am not sure it would be easy to find on my site.

[02:38:00.0000] <hsivonen>
hmm. I forgot to mention Chrome on /doctype/

[02:40:00.0000] <annevk3>
lol, Roy is at it again

[02:40:01.0000] <annevk3>
regarding parsing a Web adress he writes: "... sorry, this entire section is disconnected from reality. It doesn't match any of the known implementations and directly contradicts the standard."

[02:40:02.0000] <annevk3>
if anything is disconnected from reality it's him

[02:41:00.0000] <yecril71>
Besides, the rnc would be the source for DTD.

[02:41:01.0000] <jgraham>
Anyway, as I was saying web browsers suck.

[02:42:00.0000] <yecril71>
Since the rnc can change, the method to obtain the DTD is more important.

[02:42:01.0000] <zcorpan>
hsivonen: "In the XML mode, special rules for the HTML body element do not apply" - this is probably out of date when the css wg publishes css 2.1

[02:42:02.0000] <jgraham>
The reason for this is that, afaict, only Opera will allow me to use Linear B ideograms for my js variable names

[02:42:03.0000] <jgraham>
But it won't display them

[02:42:04.0000] <hsivonen>
zcorpan: is it already out of date for implementations?

[02:42:05.0000] <zcorpan>
hsivonen: yes

[02:43:00.0000] <hsivonen>
zcorpan: ok. thanks

[02:44:00.0000] <hsivonen>
zcorpan: fixed

[02:45:00.0000] <yecril71>
jgraham: maybe a font problem?

[02:45:01.0000] <jgraham>
yecril71: Firefox displays them

[02:45:02.0000] <yecril71>
I remember IE6 is unable to display unstyled &rArr;

[02:45:03.0000] <yecril71>
but it displays &lArr; all right :-)

[02:46:00.0000] <zcorpan>
"In 2000 before Netscape 6 was released, Mozilla actually had parser modes that enforced HTML syntax rules." - i remember a few years ago i tried to find such a build and test it but failed

[02:48:00.0000] <hsivonen>
zcorpan: I think http://archive.mozilla.org/pub/mozilla.org/mozilla/releases/m18/ might contain a build that has it

[02:49:00.0000] <hsivonen>
or http://archive.mozilla.org/pub/mozilla.org/mozilla/releases/m17/

[02:53:00.0000] <roc>
show some respect for the dead

[02:53:01.0000] <zcorpan>
no way!

[02:55:00.0000] <zcorpan>
hsivonen: "Please be sure to test your image alignment in Firefox, Safari, Chrome or Opera 10." - hmm, why the "10" there? :)

[02:55:01.0000] <hsivonen>
zcorpan: because of the mode switching regressions in 9.5 and 9.6. 

[02:56:00.0000] <hsivonen>
zcorpan: I suppose that's not necessary, though

[02:56:01.0000] <hsivonen>
zcorpan: since the regressions didn't affect that doctype

[02:56:02.0000] <zcorpan>
ah

[02:56:03.0000] <zcorpan>
right

[02:56:04.0000] <hsivonen>
zcorpan: fixed

[02:57:00.0000] <hsivonen>
when IE8 ships, I think I'm going to have to add a whole another table of flowchart for it...

[02:58:00.0000] <zcorpan>
yeah ie8 mode switching is *crazy*

[02:59:00.0000] <hsivonen>
yeah, I just wrote "The choice of mode depends on data from various sources: doctype, a meta element, an HTTP header, periodically downloaded data from Microsoft, the intranet zone, settings made by the user, settings made by an intranet administrator and a UI button togglable by the user." and realized I wasn't joking

[03:00:00.0000] <Philip`>
It also depends on the application that embeds the HTML rendering control

[03:00:01.0000] <roc>
it's hard to forsee any outcome but disaster

[03:00:02.0000] <Philip`>
http://blogs.msdn.com/ie/archive/2009/03/10/more-ie8-extensibility-improvements.aspx

[03:01:00.0000] <hsivonen>
Philip`: thanks. noted

[03:03:00.0000] <yecril71>
Philip`: e.g., mshta treats <!--[if IE]> as a comment :-)

[03:05:00.0000] <annevk3>
Hixie, I usually have a snack &lt;time>16:00&lt;/time> is missing the word "at"

[03:13:00.0000] <zcorpan>
Philip`: if you feel like it could you at some point conjure forth a list of text/html pages that contain the string "<![CDATA["? :)

[03:14:00.0000] <zcorpan>
maybe case-insensitively

[03:16:00.0000] <Philip`>
zcorpan: There's zillions, mostly in <script>s and <style>s

[03:16:01.0000] <Philip`>
I guess those aren't what you want?

[03:18:00.0000] <zcorpan>
hmm... maybe skip those that are preceded by // or /*

[03:22:00.0000] <Philip`>
That still gives a load of false positives with stuff like <!-- <![CDATA[

[03:23:00.0000] <zcorpan>
maybe skip those that have // or /* or <!-- before them on the same line?

[03:24:00.0000] <Philip`>
Might it be more interesting to look for things that get tokenised into comment nodes with data "[cdata[..."? 

[03:25:00.0000] <zcorpan>
for the proposal to support cdata sections in pcdata, yes

[03:26:00.0000] <hsivonen>
Do scripts depend on partial text node being present in the DOM immediately after document.write if a document.write writes some text without any other token after?

[03:26:01.0000] <annevk3>
i think you want all the stuff to see if it is possible to do cdata sections in cdata even for HTML

[03:26:02.0000] <zcorpan>
but i'd like to evaluate jonas' proposal for stripping "<![CDATA[" in cdata elements, too

[03:26:03.0000] <Philip`>
Are you interested in people writing <script type="text/javascript"><![CDATA[ etc?

[03:26:04.0000] <Philip`>
(http://www.cetus-links.org/oo_testing.html)

[03:26:05.0000] <annevk3>
hsivonen, partial text node?

[03:26:06.0000] <hsivonen>
document.write("<div id=foo>bar"); alert(document.gEBI("foo").textContent);

[03:27:00.0000] <annevk3>
does it work in browsers?

[03:27:01.0000] <hsivonen>
let's find out...

[03:27:02.0000] <zcorpan>
Philip`: yes or if (e.responseText.contains('<![CDATA[')) etc

[03:27:03.0000] <annevk3>
per spec it should work afaict

[03:30:00.0000] <hsivonen>
annevk3: alerts bar in Firefox 3 but empty string in Safari and Opera

[03:31:00.0000] <Philip`>
zcorpan: http://philip.html5.org/data/cdata-not-preceded-by-a-comment-thing.txt ?

[03:31:01.0000] <olliej>
hsivonen: i'm not sure we support textContent

[03:31:02.0000] <hsivonen>
olliej: you do

[03:31:03.0000] <olliej>
hsivonen: can you try innerText?

[03:31:04.0000] <hsivonen>
olliej: just tried innerHTML

[03:31:05.0000] <olliej>
hsivonen: did that work?

[03:31:06.0000] <hsivonen>
IE8 mode says bar with innerHTML

[03:32:00.0000] <hsivonen>
olliej: bar in Firefox and IE8, empty string in Opera and Safari

[03:32:01.0000] <olliej>
hsivonen: you want to file a bug don't you? :D

[03:32:02.0000] <hsivonen>
I'm going to email public-html and ask we try to adopt the Opera/Safari behavior in the spec

[03:32:03.0000] <olliej>
hsivonen: \o/

[03:33:00.0000] <olliej>
/me bets there is some website, somewhere that depends on the ie/ffx behaviour

[03:33:01.0000] <Philip`>
If there isn't, you could write one, and then there would be

[03:33:02.0000] <hsivonen>
doing it the IE/Firefox way would suck for the off the main thread HTML5 parsing effort 

[03:34:00.0000] <Philip`>
so you could use that argument as evidence for design decision at all :-)

[03:34:01.0000] <Philip`>
*any design decision

[03:34:02.0000] <olliej>
hsivonen: document.write("<script>alert('foo')</script>") i think makes that hard

[03:34:03.0000] <hsivonen>
olliej: that needs to be tokenized on the main thread anyway

[03:35:00.0000] <jgraham>
/me notes that there seem to be a few Opera site-compat. bugs related to CDATA sections

[03:35:01.0000] <hsivonen>
olliej: what I don't like is joining main thread and off-the-main-thread text nodes

[03:35:02.0000] <Philip`>
/me has experienced one of those bugs in Opera, on some Microsoft site

[03:35:03.0000] <pesla>
http://www.dzone.com/links/transforming_the_button_element_with_sliding_door.html

[03:35:04.0000] <pesla>
fuck, c/p failure

[03:35:05.0000] <hsivonen>
/me goes to lunch before emailing the list

[03:35:06.0000] <pesla>
/me gets some coffee

[03:51:00.0000] <ap>
hsivonen: re partial content - WebKit has a related bug https://bugs.webkit.org/show_bug.cgi?id=8961 - so maybe our behavior is not the best here, for a change

[03:55:00.0000] <jgraham>
/me notes Lachy failed to not cross post

[03:55:01.0000] <Lachy>
jgraham, I didn't know which list I should pick

[03:56:00.0000] <zcorpan>
flip a coin

[03:56:01.0000] <zcorpan>
or do what chaals says and post to public-html

[03:57:00.0000] <Lachy>
but then the people on whatwg only miss out

[03:57:01.0000] <Philip`>
I think they would be glad to miss out on continued discussion of <time>

[03:57:02.0000] <annevk3>
I know I would :)

[03:58:00.0000] <jgraham>
Lachy: Your message wasn't that good ;)

[03:58:01.0000] <Lachy>
thanks

[04:00:00.0000] <Philip`>
Anybody who isn't already subscribed to both lists isn't worth worrying about :-)

[04:01:00.0000] <Philip`>
Clearly they lack the necessary dedication to the cause

[04:01:01.0000] <karlcow>
/me has not been reading the time thread at all, and will not. choose your battles ;)

[04:02:00.0000] <karlcow>
that said time to move to work

[04:13:00.0000] <zcorpan>
Hixie: why does article, nav, etc have 1em top and bottom margin?

[04:15:00.0000] <annevk3>
/me thinks it makes sense

[04:15:01.0000] <zcorpan>
/me points at topic

[04:16:00.0000] <zcorpan>
i think authors expect them to have the same default styling as div

[04:17:00.0000] <zcorpan>
though maybe the default margin is nice and we should push for it

[04:17:01.0000] <annevk3>
that'd be boring

[04:18:00.0000] <annevk3>
i actually think nested sections should have a left / right margin as well depending on LTR/LTR

[04:18:01.0000] <annevk3>
RTL

[04:18:02.0000] <jgraham>
annevk3: Not convinced. 

[04:19:00.0000] <jgraham>
E.g. LaTeX doesn't do that

[04:19:01.0000] <annevk3>
and nobody would want that

[04:19:02.0000] <annevk3>
but still

[04:19:03.0000] <zcorpan>
why would you have something by default that nobody wants?

[04:20:00.0000] <jgraham>
The only reason would be if it gave a higher percentage of correct usage

[04:20:01.0000] <zcorpan>
c.f. <img border=0

[04:20:02.0000] <zcorpan>
/me expects a higher percentage of * { margin:0 } usage

[04:21:00.0000] <zcorpan>
i expect most authors will take their div based layout, change to new elements and update their selectors, and expect it to work

[04:22:00.0000] <annevk3>
I don't think that would give the right result

[04:22:01.0000] <zcorpan>
...because?

[04:23:00.0000] <annevk3>
because I don't think there's a straight mapping

[04:23:01.0000] <jgraham>
Indeed. The problem with <section> (which BenMillard thinks will be fatal) is that you really want people to only use it for things that would get a new subheading

[04:23:02.0000] <hsivonen>
ap: that bug seems to be a different scenario

[04:24:00.0000] <jgraham>
It totally sucks that there is no serious proposal for a ::outline-depth selector

[04:24:01.0000] <ap>
hsivonen: yes, I said it was related, not the same

[04:24:02.0000] <annevk3>
Ben might very well be right

[04:24:03.0000] <annevk3>
/me is sceptical too

[04:24:04.0000] <jgraham>
The thing is, if we can make it work, it will solve a lot of problems

[04:24:05.0000] <zcorpan>
it also sucks that there's no easy way yet to evaluate that you got it right

[04:24:06.0000] <jgraham>
But I think it needs coordination with the CSS WG

[04:25:00.0000] <zcorpan>
or an experimental implementation and a proposal draft

[04:25:01.0000] <jgraham>
zcorpan: I was going to say that :)

[04:25:02.0000] <jgraham>
CSS still seems rather dysfunctional

[04:29:00.0000] <jgraham>
Also, validator.nu could show the document outline tree by default

[04:37:00.0000] <hsivonen>
parsing would be soooo much nicer without document.write...

[04:38:00.0000] <beowulf>
i expect when authors change div based layouts to new elements the difference between article and section will be lost, but i'm speaking for the dumb html authors 

[04:41:00.0000] <Philip`>
<section> is just a semantic <div>

[04:41:01.0000] <Philip`>
It doesn't matter what the semantics are, it just matters that it has semantics

[04:42:00.0000] <hsivonen>
mmm semantics!

[04:42:01.0000] <jgraham>
/me wonders if Philip` is talking about how it will be percieved

[04:43:00.0000] <beowulf>
it'll be perceived as a replacement for div, not a variation, i think

[04:45:00.0000] <hsivonen>
/me expects elaborate articles to be written about the virtues of <section> compared to <div> and another set of articles to be written refuting the first set of articles

[04:45:01.0000] <jgraham>
/me was going to start on the second sort of article now to get ahead of the game

[04:45:02.0000] <Philip`>
jgraham: What would matter other than how it is perceived?

[04:46:00.0000] <jgraham>
Philip`: Your personal opinion

[04:46:01.0000] <beowulf>
can i coin the phrase 'section soup' now or is that already taken?

[04:46:02.0000] <beowulf>
/me leaves 'article soup' for somebody else

[04:49:00.0000] <zcorpan>
hsivonen: looks good

[04:50:00.0000] <hsivonen>
zcorpan: /doctype/ ?

[04:50:01.0000] <zcorpan>
yeah

[04:50:02.0000] <hsivonen>
zcorpan: thanks

[05:08:00.0000] <zcorpan>
Lachy: isn't it "mars"?

[05:14:00.0000] <Philip`>
/me wishes the alt text in hsivonen's <img alt="In a nutshell: "> was accessible to him, since he couldn't figure out what the image meant

[05:18:00.0000] <Lachy>
zcorpan, isn't that what I said?

[05:20:00.0000] <hsivonen>
Lachy: case-sensitivity

[05:20:01.0000] <Lachy>
what difference does that make?

[05:20:02.0000] <Lachy>
it's the same word

[05:20:03.0000] <Lachy>
but it's a proper noun, so i capitalised it

[05:21:00.0000] <hsivonen>
Lachy: it's a month name, so it's in lower case

[05:21:01.0000] <Lachy>
is that some strange Norwegian grammar rule?

[05:22:00.0000] <hsivonen>
Lachy: English is the exception that capitalizes months and weekdays

[05:22:01.0000] <Lachy>
oh, ok

[05:22:02.0000] <virtuelv>
hsivonen: and german, no

[05:22:03.0000] <hsivonen>
virtuelv: I suppose, but that's a more general capitalization-happiness thing :-)

[05:23:00.0000] <Lachy>
so is the capitalisation how Norwegians tell the difference between mars (month name) and Mars (planet)?

[05:23:01.0000] <yecril71>
How does having img border=0 improve validity in the wild?

[05:25:00.0000] <Lachy>
yecril71, because it's common for border=0 to be included in copy-pasteable fragments (e.g. for badges), designed for authors to include in their own pages.

[05:26:00.0000] <virtuelv>
Lachy: note that many Norwegians also pronounce the two slightly differently

[05:26:01.0000] <virtuelv>
"mars" vs "maars"

[05:27:00.0000] <Lachy>
virtuelv, are you using the "aa" to mean a long aaah sound, or the sound of the norweign letter √•?

[05:27:01.0000] <jgraham>
Wordpress sucks

[05:27:02.0000] <jgraham>
Film at 11

[05:27:03.0000] <virtuelv>
Lachy: long a

[05:28:00.0000] <Lachy>
ok, I'm unsure how you can pronounce a longer version of "mars"

[05:28:01.0000] <Lachy>
but then, I'm also unsure of a lot of norweign pronunciations

[05:29:00.0000] <jgraham>
/me notices he failed to close a section

[05:33:00.0000] <zcorpan>
/me wonders whether xml-stylesheet uses Web URLs handling in browsers

[05:34:00.0000] <annevk3>
zcorpan, I hope it does

[05:34:01.0000] <zcorpan>
/me sees a general movement from "Foo5" to "Web Foo" in naming of specs

[05:34:02.0000] <annevk3>
zcorpan, most of XML does too

[05:35:00.0000] <Philip`>
WHATWG = Web W3C

[05:36:00.0000] <zcorpan>
should html5 be renamed to Web HTML?

[05:37:00.0000] <Philip`>
We should rename the WWW to Web WWW

[05:37:01.0000] <Philip`>
and abbreviate it as WW

[05:37:02.0000] <annevk3>
zcorpan, WML was once proposed

[05:37:03.0000] <jgraham>
Can be rename the internet to the Web Internet?

[05:38:00.0000] <zcorpan>
the Web Web?

[05:38:01.0000] <Lachy>
Philip`, that would mean "Web World Wide Web"

[05:39:00.0000] <jgraham>
/me guesses Philip` Is aware of the expansion of WWW

[05:46:00.0000] <hsivonen>
Does anyone know what XiphQT does with keyframes if I uncheck the box? will every frame become a keyframe? will it figure out keyframe insertion itself?

[05:48:00.0000] <Philip`>
Wow, I can paste stuff from OO Calc into Google Docs and it actually works

[05:49:00.0000] <hsivonen>
Philip`: which OS and browser?

[05:49:01.0000] <Philip`>
hsivonen: Linux, Opera

[05:50:00.0000] <Philip`>
Well, it doesn't preserve any formatting or anything, but it's copied the grid of strings properly

[05:50:01.0000] <yecril71>
And "img border=0" is more valid than what?

[05:50:02.0000] <zcorpan>
/me fires up M17

[05:52:00.0000] <zcorpan>
the live dom viewer doesn't work :(

[05:52:01.0000] <zcorpan>
"iframe.contentWindow has no properties"

[05:54:00.0000] <zcorpan>
yes i made it work

[05:54:01.0000] <zcorpan>
javascript:alert(iframe.contentWindow = frames[0])

[05:55:00.0000] <zcorpan>
oops now it crashed

[05:55:01.0000] <Philip`>
zcorpan: https://bugzilla.mozilla.org/enter_bug.cgi

[05:58:00.0000] <zcorpan>
/me tests <!DOCTYPE html public "-//W3C//DTD HTML 4.0//EN"><title <foo/bar>

[05:59:00.0000] <zcorpan>
i get an attribute "<foo/bar" on HEAD

[06:01:00.0000] <zcorpan>
/me tests <!DOCTYPE html public "-//W3C//DTD HTML 4.0//EN"><body>test</body>

[06:01:01.0000] <zcorpan>
the body has no children

[06:02:00.0000] <zcorpan>
/me tests <!DOCTYPE html public "-//W3C//DTD HTML 4.0//EN"><p>x<p>x

[06:02:01.0000] <zcorpan>
the Ps are nested!

[06:04:00.0000] <zcorpan>
<!DOCTYPE html public "-//W3C//DTD HTML 4.0//EN"><p><b><p>x - the second P is ignored

[06:05:00.0000] <zcorpan>
<!DOCTYPE html public "-//W3C//DTD HTML 4.0//EN"><p><asdf>test - P is empty

[06:05:01.0000] <zcorpan>
<!DOCTYPE html public "-//W3C//DTD HTML 4.0//EN"><p><font>test - is inserted

[06:05:02.0000] <zcorpan>
marquee and blink are not

[06:06:00.0000] <zcorpan>
<plaintext> is ignored

[06:06:01.0000] <zcorpan>
but <isindex> is inserted (though doesn't render)

[06:08:00.0000] <hsivonen>
zcorpan: try putting an <img> as a child of body with strict doctype. it's very confusing

[06:08:01.0000] <hsivonen>
oh, you already tested <body>test</body>

[06:08:02.0000] <zcorpan>
<!DOCTYPE html public "-//W3C//DTD HTML 4.0//EN"><p><b>foo<i>bar</b>baz - the </b> is ignored

[06:09:00.0000] <zcorpan>
<link> and <title> tags in body are ignored

[06:10:00.0000] <zcorpan>
i.e. <p><title>x</title> and <p>x are equivalent

[06:11:00.0000] <zcorpan>
<embed> is ignored

[06:12:00.0000] <zcorpan>
<image> is ignored

[06:13:00.0000] <zcorpan>
<p ""> creates an attribute with no name

[06:14:00.0000] <hsivonen>
/me finds http://twitter.com/johnfoliot 

[06:15:00.0000] <zcorpan>
it seems to insert a doctype even if there was no doctype in the source

[06:16:00.0000] <hsivonen>
zcorpan: that might be for the benefit of Composer. Or something like that.

[06:17:00.0000] <zcorpan>
&AMP is supported

[06:17:01.0000] <zcorpan>
/me turns to the spec to find more things to test

[06:18:00.0000] <zcorpan>
framesets are supported

[06:19:00.0000] <zcorpan>
noembed and its contents are not inserted. it's not parsed as cdata

[06:19:01.0000] <zcorpan>
comments are not inserted

[06:19:02.0000] <zcorpan>
oops crashed again

[06:20:00.0000] <zcorpan>
Hixie: consider having a shorter url to the live dom viewer

[06:20:01.0000] <zcorpan>
e.g. livedom.hixie.ch

[06:22:00.0000] <jgraham>
/me always thinks for a moment it is at livedom.hixie.ch before remembering it is not

[06:23:00.0000] <zcorpan>
sgml style comments are supported

[06:24:00.0000] <zcorpan>
whey a lone <table> inserts tbody, tr, td

[06:26:00.0000] <zcorpan>
table parsing seems weird

[06:28:00.0000] <zcorpan>
seems to basically always ignore unexpected end tags

[06:30:00.0000] <zcorpan>
attributes on stray <html> is ignored but on stray <body> is used

[06:31:00.0000] <zcorpan>
</h2> doesn't close a h1

[06:33:00.0000] <zcorpan>
document.write doesn't seem to be supported at all

[06:33:01.0000] <zcorpan>
which is weird

[06:34:00.0000] <zcorpan>
oh wait it is supported

[06:34:01.0000] <zcorpan>
if the script is in head

[06:35:00.0000] <zcorpan>
<!DOCTYPE html public "-//w3c//dtd html 4.0//en"><script>document.write('<di');</script>v> works

[06:36:00.0000] <zcorpan>
but <!DOCTYPE html public "-//w3c//dtd html 4.0//en"><body><script>document.write('<di');</script>v> does not

[06:40:00.0000] <hsivonen>
regarding http://lists.w3.org/Archives/Public/public-rdf-in-xhtml-tf/2009Mar/0115.html isn't unilateral vocabulary creation without consulting with the community a behavior that RDF distributed extensibility is designed for?

[06:45:00.0000] <zcorpan>
/me is now satisfied and lets M17 return to its grave

[06:52:00.0000] <jgraham>
hsivonen: That was roughly what I thought

[07:04:00.0000] <hsivonen>
aaargh: http://mxr.mozilla.org/mozilla-central/source/layout/generic/nsObjectFrame.cpp#3157

[07:13:00.0000] <zcorpan>
hsivonen: ugh

[07:14:00.0000] <Philip`>
https://bugzilla.mozilla.org/show_bug.cgi?id=234675#c24 - a grep suggests there are indeed quite a few sites setting scale after salign

[07:14:01.0000] <Philip`>
though I don't know how many of those pages would break if you changed the order

[07:15:00.0000] <hsivonen>
I wonder if this list needs amending for HTML5: http://mxr.mozilla.org/mozilla-central/source/layout/style/nsCSSParser.cpp#2916

[07:16:00.0000] <zcorpan>
hsivonen: there's a note in the spec about that already

[07:17:00.0000] <zcorpan>
hsivonen: i've researched that and sent comments to the list before

[07:17:01.0000] <hsivonen>
zcorpan: CSS or plugins?

[07:17:02.0000] <zcorpan>
css

[07:19:00.0000] <zcorpan>
hsivonen: http://lists.w3.org/Archives/Public/public-html/2008Jan/0043.html

[07:20:00.0000] <annevk3>
zcorpan, why are you testing that UA?

[07:21:00.0000] <zcorpan>
annevk3: because hsivonen's doctype article made me curious

[07:21:01.0000] <zcorpan>
"In 2000 before Netscape 6 was released, Mozilla actually had parser modes that enforced HTML syntax rules."

[07:56:00.0000] <hsivonen>
do other browsers have this behavior: http://mxr.mozilla.org/mozilla-central/source/content/html/content/src/nsHTMLStyleElement.cpp#322

[07:57:00.0000] <hsivonen>
?

[08:02:00.0000] <annevk3>
IE5 for the Mac 

[08:02:01.0000] <annevk3>
iirc

[08:03:00.0000] <hsivonen>
I feel I should file a bug *somewhere* about that

[08:03:01.0000] <hsivonen>
either a mozilla bug about the HTML/XHTML inconsistency, a spec bug about getting the behavior specced or a mozilla bug for removing the behavior

[08:03:02.0000] <annevk3>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cstyle%20src%3Dstyle%3Ep%20{%20background%3Alime%20}%3C%2Fstyle%3E%3Cp%3Exxxxx

[08:03:03.0000] <annevk3>
it doesn't even work in HTML

[08:04:00.0000] <annevk3>
you should probably remove the behavior

[08:04:01.0000] <annevk3>
(the src attribute does affect HTML)

[08:04:02.0000] <annevk3>
(it makes the inline styles not apply)

[08:06:00.0000] <annevk3>
oh wow, that code is seriously buggy

[08:06:01.0000] <annevk3>
you need a src attribute to trigger the non-inline behavior but you need a href attribute to actually load the style sheet

[08:06:02.0000] <annevk3>
whoever wrote that was on crack

[08:07:00.0000] <annevk3>
hsivonen, ^^

[08:21:00.0000] <annevk3>
"Daniel Glazman <glazman‚äônc>"

[08:24:00.0000] <hsivonen>
annevk3: https://bugzilla.mozilla.org/show_bug.cgi?id=484200 filed. Thanks.

[08:29:00.0000] <annevk3>
hsivonen, http://software.hixie.ch/utilities/js/live-dom-viewer/saved/36 is the funny bit

[08:31:00.0000] <hsivonen>
annevk3: thanks

[09:12:00.0000] <annevk3>
what's our April 1 joke?

[09:12:01.0000] <annevk3>
anouncement of Web 5.0?

[09:12:02.0000] <annevk3>
announcement*

[09:13:00.0000] <annevk3>
maybe this should be disucssed in our super secret tree house instead so nobody will know

[09:17:00.0000] <jgraham>
Douglas Crockford appointed new editor of the HTML 5 spec

[09:18:00.0000] <Dashiva>
RDFa-in-HTML replaced with HTML-in-RDF

[09:35:00.0000] <Lachy>
annevk3, you'll find out on April 1

[09:39:00.0000] <annevk3>
jgraham, Dashiva, that's great

[09:39:01.0000] <annevk3>
we should do several :)

[09:43:00.0000] <Philip`>
Fun on Mozilla #developers: bz links to a test case hosted on his site at web.mit.edu/bzbarsky; someone runs it in IE8 and it mysteriously fails to support generated content; and that's because mit.edu (hence all subdomains) is on IE8's Compatibility View List

[12:41:00.0000] <Philip`>
http://radar.oreilly.com/2009/03/wikirank-zeitgeist-wikipedia.html - "the charts were built without Flash. It's all Javascript using the HTML Canvas element"

[13:39:00.0000] <gsnedders>
/me leaps

[13:43:00.0000] <gsnedders>
/me has 1337 unread emails

[13:56:00.0000] <Philip`>
gsnedders: You have attained a state of perfection, and should disconnect your email system from the internet to preserve the current situation

[13:57:00.0000] <Dashiva>
In my younger days, I once mothballed a forum account upon attaining 1337 posts.

[14:45:00.0000] <jorlow>
whoa....when did structured client side storage get removed from html5...and why?

[14:45:01.0000] <Hixie>
it has its own spec now

[14:45:02.0000] <Hixie>
http://dev.w3.org/html5/webstorage/

[14:46:00.0000] <Dashiva>
r2877 - [] (0) Extract Web Sockets, Event Source, and Web Storage out of HTML5.

[14:47:00.0000] <jorlow>
gotcha

[14:47:01.0000] <jorlow>
thanks

[14:47:02.0000] <Hixie>
np

[14:51:00.0000] <annevk3>
http://twitter.com/ilinsky/status/1356530332 sigh

[14:57:00.0000] <Hixie>
/me writes his annual status report

[14:58:00.0000] <Hixie>
other than edits to the spec, anyone remember anything substantial i did over the last year?

[14:58:01.0000] <Dashiva>
Destroy RDFa?

[14:59:00.0000] <Hixie>
good to know

[15:03:00.0000] <annevk3>
ate a kitten?

[15:04:00.0000] <annevk3>
I guess the annotation script was the year before last year

[15:06:00.0000] <annevk3>
It's funny how ap is noting the same silly stuff about CORS that the Mozilla security folks insisted on

[15:20:00.0000] <gsnedders>
Hixie: You wrote some stuff, you split some stuff out?

[15:22:00.0000] <Philip`>
You have striven to increase stakeholder value

[15:24:00.0000] <Dashiva>
I'm pretty sure I've seen Hixie send emails to groups that aren't public-html too

[15:25:00.0000] <gsnedders>
Hixie: You exclaimed joy at your cat returning after ten days.

[15:25:01.0000] <Hixie>
21 days!

[15:25:02.0000] <Hixie>
not ten!

[15:25:03.0000] <gsnedders>
Oh, sorry.

[15:25:04.0000] <gsnedders>
/me forgot

[15:26:00.0000] <Hixie>
she was gone three weeks!

[15:26:01.0000] <Hixie>
and lost a leg for her efforts

[15:26:02.0000] <Hixie>
ironically of our two cats she is still the one who goes out all the time

[15:26:03.0000] <gsnedders>
How is she since?

[15:26:04.0000] <Hixie>
she's doing awesome

[15:26:05.0000] <Hixie>
hedral is basically an indoor cat, he barely goes out. she goes out all the time.

[15:26:06.0000] <Hixie>
she's so far brought home a small bird, a crow that was bigger than she was, and a live salamander

[15:27:00.0000] <Hixie>
all while on three legs

[15:27:01.0000] <gsnedders>
Not bad for 3/4 of a cat

[15:27:02.0000] <Hixie>
btw if anyone is bored, they should help me find out who tgbyhn is on reddit

[15:27:03.0000] <Dashiva>
Does she complain about lack of accessible prey?

[15:27:04.0000] <gsnedders>
(Yes, I know there are more to cats than four legs)

[15:28:00.0000] <Philip`>
tgbyhn must be somebody who uses a QWERTY keyboard

[15:28:01.0000] <Hixie>
Dashiva: i found her once up a tree which was shaped like a Y -- she had one front leg planted on one trunk of the Y, the other front leg planted on the other trunk, and her back leg swinging freely just above the bend in the Y, looking down and meowing in concern

[15:28:02.0000] <Hixie>
it was pretty funny

[15:29:00.0000] <gsnedders>
Your cats are ridiculous.

[15:35:00.0000] <Dashiva>
My cat would just run up a fir tree and get stuck

[15:35:01.0000] <Dashiva>
Then it would run down anyway when the crows started attacking it

[15:43:00.0000] <jwalden>
meow I did not just say meow

[15:43:01.0000] <gsnedders>
/me ends damowmow after jwalden 

[15:43:02.0000] <gsnedders>
*sends

[15:49:00.0000] <Hixie>
Dashiva: same three legged kitty climbed up our bathrobes up to the top of our bedroom door the other day. once up there she was like "huh. there's nothing here but a smoke alarm. how boring. now how do i get down. uh."

[15:50:00.0000] <gsnedders>
Hixie: Also, how do your cats managed to be thanked for all their useful input in the spec?

[15:51:00.0000] <gsnedders>
Or rather, for their ideas?

[15:51:01.0000] <Hixie>
same way anyone else does

[15:51:02.0000] <gsnedders>
Hixie: What did they do that caused the spec to be changeD?

[15:51:03.0000] <gsnedders>
*changed

[15:51:04.0000] <gsnedders>
Typed on your laptop, again?

[15:53:00.0000] <Philip`>
If they directly contributed words to the spec, I hope you got them to sign for the copyright ownership transfer

[15:54:00.0000] <Dashiva>
Do cats have copyright rights?

[15:54:01.0000] <Dashiva>
Or is it public domain if they create something?

[15:55:00.0000] <Philip`>
About scripts: It would be nice if typing the script's URL into your address bar resulted in the same character decoding as when you execute the script, and (for compatibility with current content) in the first situation it has to respect the HTTP charset

[16:00:00.0000] <Hixie>
i think legally speaking i own them

[16:00:01.0000] <Hixie>
so i should be covered copyright-wise

[16:02:00.0000] <Philip`>
That's slavery!

[16:06:00.0000] <Hixie>
i didn't say it was right!

[16:07:00.0000] <Dashiva>
He works for a company which uses mass pidgeon slave labor, what did you expect?

[16:07:01.0000] <Hixie>
oh hey, today marks the day where the most recent releases of all major browsers all support Acid2

[16:08:00.0000] <Dashiva>
Acid1 too? :)

[16:10:00.0000] <Hixie>
acid1 was supported by everyone before acid2 came out

[16:16:00.0000] <gsnedders>
But is it still supported?

[16:20:00.0000] <Hixie>
yes

[16:55:00.0000] <ojan>
Hixie: ping

[16:55:01.0000] <Hixie>
hey

[16:56:00.0000] <Hixie>
ojan: pong

[16:56:01.0000] <ojan>
Hixie: have you seen this (long) discussion on #webkit re: scrollHeight

[16:56:02.0000] <ojan>
?

[16:56:03.0000] <Hixie>
i have not

[16:57:00.0000] <ojan>
the conclusion is essentially to add a contentHeight/Width (or desiredHeight/Width) to textareas and inputs

[16:57:01.0000] <ojan>
that would go in html5, right?

[16:58:00.0000] <ojan>
/me is trying to figure out next steps for this discussion

[16:58:01.0000] <Hixie>
it would go in annevk3's CSSOM spec

[16:58:02.0000] <Hixie>
it's probably already there in fact

[16:59:00.0000] <ojan>
Hixie: even though it's only on textareas?

[16:59:01.0000] <ojan>
Hixie: this is for the height/width of the content of the textarea/input

[16:59:02.0000] <annevk3>
Hixie, it's not


2009-03-20
[17:00:00.0000] <Hixie>
media-specific stuff and presentational stuff generally doesn't belong in html itself

[17:00:01.0000] <annevk3>
Hixie, and since it's specific to <textarea>/<input> i'd sort of like it to be in HTML5; just like <img>.height/width

[17:00:02.0000] <Hixie>
why would it be specific to textarea or input?

[17:00:03.0000] <annevk3>
the only use case is for those elements

[17:01:00.0000] <ojan>
Hixie: textarea/input are the only elements that get user-inserted content whose dimensions are not visible to a web-developer

[17:01:01.0000] <ojan>
Hixie: the use case in question is making a textarea/input that sizes to it's content

[17:02:00.0000] <Hixie>
ojan: wouldn't height:intrinsic just do that automatically?

[17:02:01.0000] <Hixie>
and width:intrinsic for the single-line case

[17:04:00.0000] <ojan>
Hixie: where is height/width:intrinsic specced?

[17:05:00.0000] <annevk3>
http://dbaron.org/css/intrinsic/

[17:05:01.0000] <annevk3>
though it's not called intrinsic

[17:05:02.0000] <annevk3>
and it doesn't work in Mozilla which has implemented those properties

[17:05:03.0000] <annevk3>
solving this through CSS does seem better though

[17:06:00.0000] <ojan>
yeah, definitely for this use-case

[17:06:01.0000] <ojan>
and i can't think of other use-cases for knowing the size of a textarea/input's content

[17:07:00.0000] <annevk3>
anyway, bedtime

[17:07:01.0000] <annevk3>
nn

[17:08:00.0000] <ojan>
annevk3: thanks for your feedback.

[17:11:00.0000] <ojan>
Hixie: technically, the intrinsic width algorithms don't work on textareas/inputs because they look at the child blocks of a node

[17:12:00.0000] <ojan>
Hixie: which textareas/inputs don't have

[17:12:01.0000] <john_fallows>
Hixie: the SSE spec still references eventsource element in the Notes section

[17:13:00.0000] <ojan>
Hixie: nm. it would get the widht of the textnode inside the textarea

[17:18:00.0000] <ojan>
Hixie: does anyone implement height/width:intrinsic?

[17:19:00.0000] <Hixie>
ojan: textareas don't have text nodes (per specs, anyway), they are replaced elements with intrinsic dimensions

[17:19:01.0000] <Hixie>
ojan: no idea, don't think so

[17:19:02.0000] <Hixie>
john_fallows: oops

[17:22:00.0000] <Hixie>
ojan: i gotta say, the idea of text fields that grow as i type seems bad from a ui perspective

[17:28:00.0000] <Philip`>
I wrote a thing to let people edit numbers in a matrix, and used a table of <span contenteditable>s so that each column would automatically grow to fit the text you enter

[17:29:00.0000] <Philip`>
If I could use <input> and have it automatically grow then that'd be nicer

[17:31:00.0000] <Hixie>
that's plausible i guess

[17:31:01.0000] <Hixie>
defintely a css problem though

[17:32:00.0000] <ojan>
Hixie: gmail chat has this. textareas with a min-height of 36px, and a max-height of 80px

[17:32:01.0000] <Hixie>
yeah, it's fucking annoying

[17:32:02.0000] <ojan>
Hixie: that then grow with their content to 80px and then get a scrollbar

[17:32:03.0000] <Hixie>
i always end up mistyping, moving my caret to the wrong place, deleting stuff i wasn't expecting, all kinds of crap like that

[17:33:00.0000] <ojan>
Hixie: i'm much more annoyed at sites that just leave you stuck with small textareas

[17:33:01.0000] <Hixie>
that's why webkit's resize text areas thing is fine :-)

[17:34:00.0000] <ojan>
Hixie: on a somewhat related note, what do you think of height/width:intrinsic on iframes?

[17:35:00.0000] <Hixie>
has to be same-origin, but i think it's a good idea. <iframe seamless> relies on it.

[17:36:00.0000] <ojan>
Hixie: why does it have to be same-origin?

[17:36:01.0000] <ojan>
does leaking the height/width of the iframe really affect security?

[17:40:00.0000] <Hixie>
ojan: there are (mostly theoretical) concerns that it could, yeah.

[17:41:00.0000] <Hixie>
ojan: e.g. you could determine if someone is logged in to google or not pretty easily

[17:41:01.0000] <ojan>
Hixie: like what?

[17:42:00.0000] <ojan>
Hixie: I ask because one of the primary use cases I can think of is cross-domain

[17:42:01.0000] <Hixie>
or you might be able to work out someone's bank balance to an order of magnitude

[17:42:02.0000] <Hixie>
roc was the main one to originally bring up this concern

[17:44:00.0000] <ojan>
seems like a stretch to me.

[17:45:00.0000] <ojan>
Hixie: there are things that you can't do with height/width: intrinsic that you could if you had the contentWidth/Height

[17:46:00.0000] <ojan>
Hixie: i'm not sure they're real use cases though

[17:46:01.0000] <ojan>
Hixie: e.g. you have an app that has a textarea that fills most of the page, but you want a different background color behind the text

[17:47:00.0000] <Hixie>
again, that's stylistic

[17:47:01.0000] <ojan>
Hixie: you can't simulate that correctly with a textarea inside a div

[17:47:02.0000] <Hixie>
i'm all for presentational things, but they belong in css, cssom, and xbl; not html

[17:47:03.0000] <ojan>
Hixie: so you're saying that there could be a pseudo-element or something that represents the block inside the textarea?

[17:47:04.0000] <Hixie>
yeah, or xbl could be used to "reconstruct" the textarea out of contentEditable bits or some such

[17:48:00.0000] <Hixie>
or we could have a textarea syntax highlighting api

[17:48:01.0000] <ojan>
yeah...i guess there's a future world in which you could get an element that behaved like a textarea, but was actually a contentEditable div

[17:48:02.0000] <ojan>
that would be better anyways.

[17:49:00.0000] <ojan>
we're not too far from that now.

[18:02:00.0000] <roc>
ojan: leaking information through the sizes of pages may be a bit far fetched ... or maybe not. You could almost certainly use it to check for the existence of pages cross-domain

[18:02:01.0000] <ojan>
roc: that's true.

[18:02:02.0000] <roc>
basically, people have come up with all kinds of crazy exploits for the cross-domain information channels we currently have to support

[18:02:03.0000] <roc>
we're reluctant to add more such channels

[18:02:04.0000] <ojan>
roc: i'm just thinking of the crazy hackery things like google gadgets do to get cross-domain iframes to size to their content

[18:03:00.0000] <ojan>
roc: that's reasonable.

[18:03:01.0000] <roc>
just on the basis of "hmm, *I* can't think of a way to exploit this, right now"

[18:03:02.0000] <ojan>
roc: i buy that argument.

[18:03:03.0000] <ojan>
roc: it's just disappointing.

[18:03:04.0000] <roc>
pages should be able to opt into exposing this information

[18:04:00.0000] <roc>
they sort of already can using postMessage, but it's a pain

[18:04:01.0000] <ojan>
roc: yeah, it would be good if there were a declarative way

[18:04:02.0000] <ojan>
roc: a meta tag or somesuch

[18:05:00.0000] <ojan>
roc: wrt the contentHeight/Width discussion. what do you think of Hixie's suggestion to just support height/width:intrinsic instead?

[18:05:01.0000] <roc>
doesn't really work

[18:05:02.0000] <roc>
the intrinsic size of textareas is already defined

[18:05:03.0000] <ojan>
why?

[18:05:04.0000] <roc>
it's set by 'rows' and 'cols'

[18:06:00.0000] <roc>
that matters for table cell sizing etc

[18:06:01.0000] <roc>
maybe that's not actually specced and we could redefine it

[18:07:00.0000] <roc>
or maybe there should be a "shrinkwrap" control that redefines the intrinsic size to be based on the content of the textarea

[18:07:01.0000] <ojan>
roc: as in, a property on textareas/inputs?

[18:07:02.0000] <roc>
or maybe a CSS property

[18:08:00.0000] <roc>
but since 'rows' and 'cols' are already there ...

[18:08:01.0000] <ojan>
roc: it could be someone wonky like rows=intrinsic

[18:08:02.0000] <Hixie>
cols="" in HTML5 is basically just the way to set the point at which lines wrap

[18:09:00.0000] <roc>
yeah that's not a bad idea

[18:09:01.0000] <Hixie>
i didn't come up with a justification for rows="", but it's in there too for completeness

[18:09:02.0000] <roc>
Hixie: that's OK but it doesn't change the fact that the CSS intrinsic height has to be based on them too

[18:09:03.0000] <Hixie>
it doesn't have to be. we could define things in other ways.

[18:10:00.0000] <Hixie>
e.g. define two intrinsic dimensions, one triggered by height:auto and one by height:intrinsic

[18:10:01.0000] <Hixie>
or whatever

[18:10:02.0000] <roc>
adds complexity

[18:11:00.0000] <roc>
I hate having multiple variables that almost but not quite mean the same thing

[18:13:00.0000] <ojan>
really what we want is a way to tell a textarea to size like a div and an input to size like a span (minus the wrapping part)

[18:13:01.0000] <Hixie>
yeah, maybe there needs to be a value that means "auto-like-what-blocks-do-instead-of-intrinsic"

[18:14:00.0000] <roc>
really what we want is plaintext contenteditable :-)

[18:14:01.0000] <ojan>
roc: that's true

[18:15:00.0000] <ojan>
roc: does gecko support that

[18:15:01.0000] <ojan>
?

[18:15:02.0000] <ojan>
roc: webkit does it turns out

[18:15:03.0000] <roc>
not in a Web-exposed way

[18:15:04.0000] <roc>
but our textareas and text inputs have an anonymous block inside, much like Webkit's

[18:16:00.0000] <roc>
setting up the editor with plain text rules probably wouldn't be too hard

[18:16:01.0000] <roc>
you have to worry about edge cases where the page inserts non-plaintext itself

[18:16:02.0000] <ojan>
roc: the way webkit's works is that you can insert non-plaintext from JS, but not from user-actions (e.g. paste)

[18:16:03.0000] <ojan>
roc: which i think is the preferred implementation actually

[18:17:00.0000] <ojan>
roc: allows you to do richer content (e.g. syntax highlighting)

[18:17:01.0000] <roc>
I'm not sure how our plain-text editing rules would interact with content that wasn't actually plain text

[18:17:02.0000] <ojan>
yeah, that's the tricky bit

[18:17:03.0000] <roc>
that's never been tested and therefore doesn't work

[18:18:00.0000] <ojan>
it would be a shame not to support it though. it opens up a ton of doors to doing things in web pages that are immensely difficutl right now

[18:19:00.0000] <ojan>
roc: http://www.plexode.com/cgi-bin/eval3.py#ht=%3Cdiv%20style%3D%22border%3A1px%20solid%22%20contentEditable%3D'plaintext-only'%3Eadsf%3C%2Fdiv%3E&ohh=1&ohj=1&jt=&ojh=1&ojj=1&ms=100&oth=0&otj=0&cex=1

[18:20:00.0000] <roc>
no vendor prefix? shame!

[18:20:01.0000] <ojan>
(that's teh webkit contenteditabe)

[18:20:02.0000] <ojan>
roc: i'm not sure it was intentionally exposed actually...

[18:20:03.0000] <roc>
but yeah, that's the way to go!

[18:20:04.0000] <ojan>
roc: i only noticed it cuz i was looking at source code

[18:22:00.0000] <ojan>
roc: also works with -webkit-user-modify:read-write-plaintext-only

[18:22:01.0000] <ojan>
roc: worth me filing a mozilla bug for then?

[18:24:00.0000] <roc>
Maybe not until you have a spec for how it should work interoperably

[18:24:01.0000] <roc>
for example

[18:24:02.0000] <ojan>
roc: as in, how to deal with non-plaintexts that's inserted by thye page?

[18:24:03.0000] <roc>
yeah, mainly

[18:25:00.0000] <roc>
like if I'm in a <ul>

[18:25:01.0000] <roc>
and I hit return

[18:25:02.0000] <roc>
but it's plaintext mode

[18:25:03.0000] <roc>
does a list bullet get inserted?

[18:26:00.0000] <ojan>
roc: yeah. all that needs specing. fwiw webkit always just inserts a BR on enter in plaintext mode

[18:26:01.0000] <ojan>
as best i can tell

[18:26:02.0000] <roc>
that seems slightly weird to me

[18:26:03.0000] <ojan>
which seems totally reasonable and simple

[18:26:04.0000] <ojan>
lols

[18:27:00.0000] <ojan>
yeah, there's a ton of open questions

[18:27:01.0000] <ojan>
e.g. what happens when you hit backspace

[18:27:02.0000] <roc>
that too

[18:28:00.0000] <ojan>
roc: there's a small crew of us here at google that are working on specing all these thigns for regular contenteditable. probably wouldn't be too much extra work to spec it for plaintext contenteditable as well

[18:28:01.0000] <ojan>
roc: i'll bring it up in our next meeting

[18:28:02.0000] <roc>
also what happens with soft and hard spaces ... normally plain-text editing assumes white-space:pre or similar, but what if we're editing white-space:normal text?

[18:28:03.0000] <roc>
it starts to sound to me like the simplest way to spec plain-text mode would be to make it just like HTML mode except that certain user commands are completely disabled --- ones that create formatting where there wasn't any before, like "bold".

[18:29:00.0000] <roc>
and others like "paste" strip formatting

[18:30:00.0000] <roc>
ojan: I hope that spec will be open to outside feedback

[18:30:01.0000] <ojan>
roc: speaking of which we've been thinking we might be getting to a point where we'd want to involve other vendors to get their perspective. who on the mozilla side might be interested?

[18:30:02.0000] <roc>
haha

[18:30:03.0000] <ojan>
roc: :)

[18:30:04.0000] <roc>
it's probably better to publish it rather than make it invitation-only

[18:30:05.0000] <roc>
Chris Pearce could look at it

[18:31:00.0000] <roc>
Daniel Glazman might also be interested

[18:31:01.0000] <ojan>
roc: yeah...we're still doing the legwork of speccing the basics first

[18:31:02.0000] <ojan>
roc: e.g. we did a look at what existing word processors do when you hit enter/tab/etc and are trying to come up with recommended behaviors from that

[18:32:00.0000] <ojan>
roc: where existing word processors includes word, web browsers, notepad, textedit, etc

[18:32:01.0000] <roc>
yeah, it seems better to me to have plain-text mode just be HTML mode with enough stuff disabled that if you start with plain text, there is no way for the user to end up with anything but plain text

[18:33:00.0000] <ojan>
roc: i think i agree with you. the only exception is hitting enter

[18:33:01.0000] <ojan>
roc: i think inserting a br on enter is not really what you want in the rich-edit case

[18:34:00.0000] <ojan>
where in plain-text, with just user-inserted content, i would expect the end result to just be text + BRs

[18:35:00.0000] <roc>
seems to me if the user hits enter in white-space:pre text, we should just insert a newline

[18:35:01.0000] <roc>
in either mode

[18:35:02.0000] <ojan>
roc: yup...but plaintext doesn't imply white-space:pre, right?

[18:35:03.0000] <ojan>
or maybe it should

[18:35:04.0000] <roc>
no

[18:35:05.0000] <roc>
but they'll often go together

[18:36:00.0000] <ojan>
roc: yeah, in practice you'd usually want white-space:pre-wrap i guess

[18:36:01.0000] <roc>
yeah

[18:36:02.0000] <roc>
either way

[18:37:00.0000] <ojan>
roc: does gecko not support user-modify?

[18:38:00.0000] <ojan>
i just tried -moz-user-modify:read-write

[18:39:00.0000] <roc>
not really

[18:39:01.0000] <roc>
as far as I know

[18:40:00.0000] <roc>
we just hide the caret but don't actually block editing if it's contenteditable

[18:40:01.0000] <ojan>
oh weird...netscape supported it but gecko doesn't?

[18:40:02.0000] <ojan>
(according to the interwebs)

[18:41:00.0000] <roc>
I'm not sure what it means to "support" it if you don't support contenteditable

[18:41:01.0000] <roc>
which Netscape didn't

[18:41:02.0000] <roc>
of course

[18:41:03.0000] <ojan>
yeah

[18:41:04.0000] <ojan>
i was looking at http://www.aptana.com/reference/html/api/CSS.field.-moz-user-modify.html

[18:41:05.0000] <ojan>
user-modify is way more useful that contentEditable though

[18:42:00.0000] <ojan>
not for the read-only or write-only properties, but that you can nest editable bits inside non-editable bits inside editable bits without messing with the actual DOM.

[18:42:01.0000] <ojan>
lets you do things with layout like image captions that are otherwise really really hard

[18:43:00.0000] <ojan>
roc: anyways, i have to go. thanks for your feedback today

[00:42:00.0000] <Hixie>
i hate browser release days

[00:43:00.0000] <hsivonen>
Hixie: you should move acid tests to a different server

[00:43:01.0000] <Hixie>
tempted

[01:10:00.0000] <aboodman>
Hixie: has anyone been in here recently asking about localstorage and concurrency?

[01:10:01.0000] <aboodman>
the topic has come up on a chromium mailing list, i guess it is complicated.

[01:10:02.0000] <Hixie>
sicking mentioned it a few weeks ago

[01:11:00.0000] <Hixie>
the spec right now just assumes a global lock that is released by the script ending

[01:11:01.0000] <Hixie>
which i guess isn't so hot

[01:11:02.0000] <Hixie>
what does IE8 do?

[01:11:03.0000] <aboodman>
not sure

[01:11:04.0000] <aboodman>
good question

[01:15:00.0000] <hsivonen>
aargh. The release version of IE8 shows the compatibility view button even with the HTML5 doctype

[01:15:01.0000] <hsivonen>
didn't the Windows 7 RC not do that?

[01:30:00.0000] <Hixie>
/me moves the web workers source document into the html5 source document

[01:41:00.0000] <Hixie>
ok my script now generates

[01:41:01.0000] <Hixie>
2 whatwg specs

[01:42:00.0000] <Hixie>
5 w3c specs

[01:42:01.0000] <Hixie>
1 ietf spec

[01:42:02.0000] <Hixie>
a validation report

[01:42:03.0000] <Hixie>
diffs

[01:42:04.0000] <Hixie>
checks for broken links

[01:42:05.0000] <Hixie>
and checks for how many issues were added or removed

[01:42:06.0000] <hsivonen>
Hixie: you can then publish the full thing as a "compilation" of 6 specs :-)

[01:43:00.0000] <Hixie>
that's what i validate :-)

[01:48:00.0000] <Hixie>
and my commit script commits to two subversion repos, five cvs repos, and submits the I-D to the IETF system

[01:48:01.0000] <Hixie>
oh and generates the multipage version

[01:49:00.0000] <Hixie>
oh and my main script also gets the pubrules check on the main html5 spec

[01:49:01.0000] <Hixie>
and there's a cronjob that counts issues and makes pdfs

[01:49:02.0000] <Hixie>
ok bed time now

[01:49:03.0000] <Hixie>
nn

[01:49:04.0000] <hsivonen>
nn

[02:06:00.0000] <hsivonen>
can someone help me understand why http://hsivonen.iki.fi/html5-lecture/html5-tml.ogg works in Firefox, in XiphQT and in VLC on Mac but not in VLC on Windows or VLC on Linux?

[02:12:00.0000] <zcorpan>
/me confirms that it doesn't work with vlc on windows but works with mplayer on windows

[02:12:01.0000] <jgraham>
hsivonen: Define "works"

[02:12:02.0000] <jgraham>
It started playing with VLC/linux for me

[02:13:00.0000] <jgraham>
but I don't think sound was working

[02:13:01.0000] <jgraham>
But that could be my system

[02:13:02.0000] <zcorpan>
yes it plays but it looks like garbage

[02:15:00.0000] <zcorpan>
hsivonen: is there any sound?

[02:22:00.0000] <zcorpan>
hsivonen: mplayer says the video is 0:47:14 long but it plays beond that

[02:24:00.0000] <hsivonen>
jgraham, zcorpan: there should be 1024*768@15fps video and mono audio. I only get audio in VLC on Intrepid and Windows 7

[02:24:01.0000] <doublec>
/me looks

[02:25:00.0000] <hsivonen>
the right duration is 1:36:11

[02:25:01.0000] <hsivonen>
oops. bad "only" placement

[02:26:00.0000] <hsivonen>
in VLC on Intrepid and Windows 7, audio plays, video does not

[02:26:01.0000] <hsivonen>
in Firefox on Mac and Windows 7, both audio and video play

[02:26:02.0000] <hsivonen>
in VLC and QiphQT on Mac, both audio and video play

[02:26:03.0000] <doublec>
yeah, plays fine in ff on linux here

[02:27:00.0000] <hsivonen>
could it be that the video is CPU-intensive and VLC drops video altogether if it can't play it in real time?

[02:29:00.0000] <doublec>
where is it not playing?

[02:29:01.0000] <doublec>
it works in mplayer, vlc and ff for me

[02:30:00.0000] <hsivonen>
doublec: video doesn't play on Intrepid on older computer and doesn't play on Windows 7 (on virtual machine)

[02:31:00.0000] <jgraham>
hsivonen: It plays on VLC/Intrepid for me

[02:31:01.0000] <jgraham>
I can't test the audi though as VLC is complaining oss audio output error: cannot open audio device (/dev/dsp)

[02:32:00.0000] <hsivonen>
hmm. video plays on intrepid totem on a VM for me but not on older hardware

[02:32:01.0000] <hsivonen>
/me blames old hardware and moves on

[02:32:02.0000] <hsivonen>
thanks

[02:34:00.0000] <jgraham>
Yeah it plays on totem for me too

[02:34:01.0000] <jgraham>
/me wonders how to fix his audio problems

[02:38:00.0000] <doublec>
see what has the audio device locked open?

[02:38:01.0000] <doublec>
sudo lsof |grep snd

[02:50:00.0000] <virtuelv>
jgraham: kill pulseaudio?

[02:52:00.0000] <jgraham>
virtuelv: That seemed to help, although it really didn't want to die

[02:53:00.0000] <virtuelv>
jgraham: you'll be happy to note that I haven't had a single sound problem since updating to jaunty (except two days ago, where everything went bonkers for all of five minutes)

[02:54:00.0000] <jgraham>
/me is slightly nervous to update a miachine he has to work on to a prerelease OS

[02:54:01.0000] <jgraham>
*machine

[02:54:02.0000] <jgraham>
So I guess I will wait a bit and then have sound joy in april (hopefully)

[02:59:00.0000] <virtuelv>
jgraham: I wasn't suggesting you updated just yet :-)

[03:00:00.0000] <virtuelv>
I did so to circumvent other issues, particularily with multi-monitor support on my work machine

[03:01:00.0000] <virtuelv>
so far, I've not had any downtime at all

[03:01:01.0000] <jgraham>
/me would also like to get multi-monitor support working better

[03:01:02.0000] <jgraham>
Although that might be solvable without an upgrade

[03:03:00.0000] <virtuelv>
it's mostly solvable, except if you drag your machine around a lot

[03:04:00.0000] <hsivonen>
It seems that Ogg total duration display is rather broken in various apps

[03:04:01.0000] <hsivonen>
perhaps the ability to cat two ogg streams isn't such a great feature after all

[03:07:00.0000] <virtuelv>
ok, vlc has problems getting continuous playback of the audio

[03:07:01.0000] <virtuelv>
but video is fine

[03:09:00.0000] <virtuelv>
it's lost 1216 buffers a few minutes into the video

[03:10:00.0000] <virtuelv>
hsivonen: I see you're encoding the audio at 8Khz

[03:11:00.0000] <virtuelv>
unless saving those megabytes is an extreme priority, I'd just use 44.1 or 48, given that a sound card usually has to upsample anyhow

[03:11:01.0000] <hsivonen>
virtuelv: the orginal recording was 8 kHz

[03:11:02.0000] <hsivonen>
*original

[03:11:03.0000] <hsivonen>
virtuelv: recorded on Nokia N800

[03:12:00.0000] <hsivonen>
I'd love to know how to do this properly next time

[03:12:01.0000] <hsivonen>
with a bluetooth microphone and screen capture software that doesn't suck and can spool a couple of hours of screen data

[03:13:00.0000] <hsivonen>
or a new version of Keynote if the new version doesn't suck

[03:15:00.0000] <jgraham>
When we did this kind of thing for a conference we ended up using some box that sat between the computer and the projector to capture the video. But that had the requirement that people be able to use their own laptops

[03:15:01.0000] <jgraham>
so we couldn't install any special software

[03:15:02.0000] <jgraham>
(and everyone wore a mic and we captured the audio from that somehow)

[03:16:00.0000] <virtuelv>
hsivonen: This was basically just a screencast, and meant as such, right?

[03:16:01.0000] <doublec>
most ogg players don't handled cat'd streams well

[03:16:02.0000] <virtuelv>
convert your presentation to SVG? :P

[03:49:00.0000] <hsivonen>
virtuelv: it was meant to be a live audio recording of a lecture with synchronized projector-equivalent video

[03:49:01.0000] <hsivonen>
virtuelv: I lack the authoring tools for doing this in SVG

[03:50:00.0000] <hsivonen>
jgraham: how much does such a box weigh and cost? I'd expect a box to be an overkill for someone who presents perhaps twice a year

[03:52:00.0000] <jgraham>
hsivonen: Don't know. It was pretty small. It wasn't the perfect solution since it was basically intercepting the video signal occasionally; I think we had to have quite infrequent sampling to make it work well enough, but that means video and things don't get captured so well

[03:52:01.0000] <jgraham>
hsivonen: See http://www.ast.cam.ac.uk/meetings/gravity08/video_archive.html for example output

[03:53:00.0000] <hsivonen>
jgraham: I want a solution that samples 15 times per second but is smart enough to encode just a repeat bit when the frame is the same as the previous one

[03:53:01.0000] <hsivonen>
I will have to experiment with Snapz Pro in the two-screen Keynote presentation mode

[03:58:00.0000] <hsivonen>
heh. Lessig on Keynote's video export: "Like selling a spreadsheet that can't multiply"

[04:03:00.0000] <hsivonen>
also, I should get some "umm" and "uhh" elimination coaching te make recording more worthwhile...

[04:06:00.0000] <jgraham>
hsivonen: I thought you started off slightly shaky but got a lot better once you got into it

[04:06:01.0000] <hsivonen>
jgraham: thanks

[04:52:00.0000] <hsivonen>
hmm. SMIL 3.0 allows declarative content selection based on OS name...

[05:24:00.0000] <zcorpan>
/me wonders whether the split-out sections are now only under w3c license and not under whatwg license

[05:25:00.0000] <hsivonen>
/me wonders what build howcome used for http://people.opera.com/howcome/2009/talks/03-css3.html

[05:26:00.0000] <hsivonen>
rounded corners and box-shadow don't work in Opera 10

[05:26:01.0000] <zcorpan>
hsivonen: probably some internal build using presto 2.3

[05:26:02.0000] <hsivonen>
zcorpan: ah. rounded corners are coming, then. Yay!

[05:27:00.0000] <annevk3>
post Opera 10 most likely

[05:34:00.0000] <Lachy>
the CSS3 Transitions demo in that presentation draws the Opera logo upside down. I wonder why he did that.

[05:39:00.0000] <jgraham>
zcorpan: That would be quite worrying. Although I think we could go back to the earlier versions if Hixie turns evil or something

[05:42:00.0000] <annevk3>
the source document is still under a liberal copyright aiui

[05:42:01.0000] <jgraham>
Still someone should email the list because it is unclear

[05:47:00.0000] <hsivonen>
are tests 007, 008 and 009 at http://hixie.ch/tests/adhoc/dom/level0/write/ demos or test cases?

[05:47:01.0000] <hsivonen>
if they are test cases, what's the pass condition?

[05:49:00.0000] <hsivonen>
a number of those tests leave the trobber in the loading state in Firefox

[05:49:01.0000] <annevk3>
"WARNING!! 004 to 013 are DEMOS not TESTS at this time."

[05:49:02.0000] <annevk3>
rtfm

[05:49:03.0000] <annevk3>
o_O

[05:49:04.0000] <hsivonen>
oops. I read "to" as "and". need to be more careful

[05:51:00.0000] <hsivonen>
sigh. I fail already at test 003

[07:21:00.0000] <hsivonen>
I'm completely confused by the results I'm getting with http://hixie.ch/tests/adhoc/dom/level0/write/003.html

[07:21:01.0000] <hsivonen>
as far as I can tell, all the scripts run, but for some reason most of them leave no trace in the variable collecting the results

[07:35:00.0000] <hsivonen>
hmm. so I indeed have the right execution order

[07:35:01.0000] <hsivonen>
perhaps I lose the window object on the way...

[08:23:00.0000] <Philip`>
http://search.cpan.org/dist/IWL/lib/IWL/Canvas.pm

[08:23:01.0000] <Philip`>
Seems likes it generates JS code for each method you call, which seems a bit peculiar compared to simply writing the JS yourself

[08:24:00.0000] <hsivonen>
but code generation FTW!

[08:25:00.0000] <jgraham>
Also it is widely known that javascript is a horrible language that people used to perfectly sensible languages like perl avoid at all costs

[08:26:00.0000] <Philip`>
At least JS lets you use $ in your variable names, so it's not all that different

[09:30:00.0000] <Philip`>
http://stopdesign.com/archive/2009/03/20/goodbye-google.html - "a team at Google couldn‚Äôt decide between two blues, so they‚Äôre testing 41 shades between each blue to see which one performs better"

[09:30:01.0000] <Philip`>
Aha, that explains http://krijnhoetmer.nl/irc-logs/whatwg/20090303#l-561

[09:30:02.0000] <Philip`>
Also, it's taking the colour-of-the-bikeshed idea to a whole new level

[09:52:00.0000] <hsivonen>
wow. the IE8 mode switching is so insane that it is hard to express as a flowchart

[10:04:00.0000] <hsivonen>
This flowchart is looking way too crazy

[10:04:01.0000] <hsivonen>
I think I'm going to continue it another day

[10:04:02.0000] <Philip`>
Would it be easier to write as code rather than as a flowchart?

[10:04:03.0000] <hsivonen>
perhaps

[10:05:00.0000] <hsivonen>
with goto

[10:05:01.0000] <hsivonen>
well, perhaps with function calls, too

[10:05:02.0000] <hsivonen>
but so far I am confident to say that anyone who presents three or so simple rules is not telling the whole story

[10:07:00.0000] <hsivonen>
also, it seems that too many people jumped the gun with stuff documented at the beta stage

[10:08:00.0000] <hsivonen>
the only way to hide the compat button (for an author) is to use new previously unadvertised X-UA-Compatible values

[10:10:00.0000] <karlcow>
http://beta.w3.org/

[10:12:00.0000] <Philip`>
hsivonen: Which values are those?

[10:12:01.0000] <hsivonen>
and of course, MSDN documentation is wrong (Film at 11)

[10:12:02.0000] <hsivonen>
IE=8

[10:13:00.0000] <hsivonen>
IE=7

[10:13:01.0000] <hsivonen>
Philip`: ^

[10:13:02.0000] <hsivonen>
Philip`: as opposed to IE=IE8

[10:14:00.0000] <hsivonen>
MSDN is wrong about IE=a

[10:15:00.0000] <hsivonen>
current draft: http://hsivonen.iki.fi/ie8-mode.pdf

[10:30:00.0000] <mpilgrim>
hsivonen: that flowchart makes no sense

[10:30:01.0000] <mpilgrim>
to me

[10:31:00.0000] <mpilgrim>
what happens if the X-UA-Compatible meta element is not present?

[10:41:00.0000] <Philip`>
I see some code in IE saying /rss/channel/*[local-name() = 'X-UA-Compatible' and namespace-uri() = 'http://www.microsoft.com/schemas/rss/monitoring/2007']

[10:42:00.0000] <Philip`>
I guess that means there's an <rssmonitoring:X-UA-Compatible> element you can use?

[10:51:00.0000] <mpilgrim>
http://www.google.com/search?q=rssmonitoring+site:microsoft.com says that namespace is about web slices

[10:53:00.0000] <mpilgrim>
but it may have been an earlier version

[10:53:01.0000] <mpilgrim>
the current web slices seems to be based around hAtom

[10:53:02.0000] <mpilgrim>
can't find documentation of that namespace

[10:54:00.0000] <mpilgrim>
but it makes sense that if IE/trident-based apps are displaying HTML fragments from feeds, MS would want a way to specify the rendering mode of such fragments

[10:55:00.0000] <mpilgrim>
(at least, it makes as much sense as anything else MS has done with their rendering modes)

[10:59:00.0000] <hsivonen>
mpilgrim: It's a draft, so it is missing arcs. Nodes, too!

[11:26:00.0000] <Philip`>
hsivonen: Maybe you could write the flowchart in Graphviz so it'll automatically do all the layout, rather than trying to squeeze more arcs into it manually

[12:08:00.0000] <ojan>
Hixie: ping

[12:08:01.0000] <Hixie>
hey

[12:08:02.0000] <ojan>
Hixie: after yesterday's discussion, i came to the conclusion that worrying about textareas and inputs working better is silly

[12:08:03.0000] <Hixie>
heh

[12:08:04.0000] <ojan>
Hixie: we should instead focus on making contentEditable meet the textarea/input use-cases

[12:09:00.0000] <ojan>
Hixie: because replaced elements are just dumb.

[12:09:01.0000] <ojan>
Hixie: webkit already supports contentEditable=plaintext-only

[12:09:02.0000] <ojan>
Hixie: so that's most of it

[12:09:03.0000] <ojan>
the only thing left is making it so elements can get treated as form controls

[12:10:00.0000] <ojan>
e.g. get browser auto-restore, auto-submission in forms, etc

[12:10:01.0000] <Hixie>
that's non-trivial

[12:10:02.0000] <ojan>
Hixie: then this totally replaces the need to try and come up with APIs on textareas to do syntax highlighting etc

[12:11:00.0000] <Hixie>
to put it bluntly

[12:11:01.0000] <ojan>
Hixie: i've not really thought about it much, what's difficutl about it?

[12:11:02.0000] <Hixie>
i think for syntax highlighting requiring authors to do DOM manipulation is going to be painful

[12:11:03.0000] <Hixie>
so painful, e.g., that the Bespin guys wrote their own editor using <canvas> rather than doing it

[12:11:04.0000] <ojan>
i'm not convinced that's true

[12:12:00.0000] <Hixie>
that's a bit like saying "what's difficult about building an aircraft carrier" :-)

[12:12:01.0000] <ojan>
if all user-insertion is plain-text

[12:12:02.0000] <ojan>
and the JS has total control over the DOM

[12:12:03.0000] <ojan>
the hard part currently is dealing with the fact that the user can insert any sort of crazy

[12:12:04.0000] <Hixie>
if the user inserts a " and you now have to go through an redo all the DOM just to change colours, that's going to be crazy

[12:12:05.0000] <ojan>
but if you control the DOM that gets created, then you can make a lot of simplifying assumptions

[12:12:06.0000] <Hixie>
and simply isn't going to scale to multimegabyte files

[12:13:00.0000] <ojan>
that's true

[12:13:01.0000] <Hixie>
you want to be able to just style what's on the screen, and you want to do it quickly, just walking through the source saying blue, blue, green, blue, etc

[12:13:02.0000] <inimino>
doing syntax highlighting with DOM in real time is very painful

[12:13:03.0000] <Philip`>
Real (non-web) text editors don't scan through the entire file when updating syntax highlighting - they just do it incrementally, and sometimes get it wrong but nobody minds

[12:14:00.0000] <Philip`>
(Or at least Vim doesn't, judging by how it sometimes gets confused when I jump around in a Perl script)

[12:14:01.0000] <ojan>
Hixie: forgetting syntax highlighting for a moment, there are plenty of other good use-cases for plaintext contentEditable

[12:15:00.0000] <Hixie>
Philip`: emacs' appears to be full-file, but it's async and doesn't handle all of perl's constructs

[12:15:01.0000] <Hixie>
ojan: no disagreement from me here, i just think that making it fit into the form submission model and session history is a giant amount of work

[12:16:00.0000] <ojan>
Hixie: why?

[12:16:01.0000] <ojan>
Hixie: what's different about it from a textarea?

[12:16:02.0000] <Hixie>
again, that's a bit like asking "why is building an aircraft carrier hard?". it's just a lot of complexity, there's no one big problem.

[12:16:03.0000] <Hixie>
it's doable

[12:16:04.0000] <Hixie>
it's just a lot of work

[12:17:00.0000] <Hixie>
probably a lot more work than just fixing <textarea> would be

[12:17:01.0000] <Hixie>
but what we should do is start from use cases

[12:17:02.0000] <Hixie>
look at requirements, and consider how best to address them for user and authors

[13:00:00.0000] <Hixie>
ahhhh

[13:00:01.0000] <Hixie>
having the web workers source in the same documents as html5 makes my life so much easier

[13:20:00.0000] <john_fallows>
Hixie: with the spec refactoring to extract EventSource and WebSocket APIs, where is the best place to track evolution of the wire protocol for WebSockets?

[13:21:00.0000] <Hixie>
the wire protocol is at http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol

[13:29:00.0000] <jgraham>
The google logo today is cool

[13:42:00.0000] <mpilgrim>
hsivonen: fair enough; i'm mostly interested in the shortest path (measured in bytes) to get IE8 to act like a real browser, i.e. best-possible-standards-mode or whatever it is they're calling it

[13:43:00.0000] <mpt>
ha

[13:43:01.0000] <mpt>
We received our first "Your Web site doesn't work properly in Compatibility View" bug report today

[13:45:00.0000] <jcranmer>
Hixie: oh, yuck @ the draft

[13:45:01.0000] <Hixie>
hm?

[13:45:02.0000] <hsivonen>
mpilgrim: X-UA-Compatible: IE=8 as a HTTP header plus the HTML5 doctype

[13:46:00.0000] <jcranmer>
why can't you be like a normal RFC?

[13:46:01.0000] <Hixie>
hsivonen: surely that will then fail in IE9?

[13:46:02.0000] <Hixie>
jcranmer: how is it not like a normal RFC?

[13:46:03.0000] <hsivonen>
Hixie: who knows

[13:46:04.0000] <jcranmer>
it's way too complicated

[13:46:05.0000] <Hixie>
i don't know much about writing RFCs

[13:46:06.0000] <Hixie>
any advice on making it easier would be welcome

[13:46:07.0000] <Philip`>
IE=edge should still work

[13:47:00.0000] <hsivonen>
Philip`: more bytes

[13:47:01.0000] <jcranmer>
explain that the protocol uses UTF-8 or ASCII or whatever

[13:47:02.0000] <jcranmer>
and just write the text out in ASCII

[13:47:03.0000] <mpilgrim>
i was hoping for something that didn't involve adding MS-specific cruft to the output stream

[13:47:04.0000] <Philip`>
assuming IE9 doesn't treat 'edge' as a synonym for '8' for compatibility

[13:47:05.0000] <mpilgrim>
but maybe that's too much to ask

[13:47:06.0000] <Hixie>
jcranmer: ?

[13:47:07.0000] <hsivonen>
Philip`: exactly

[13:47:08.0000] <john_fallows>
Hixie: thanks, what is the process for participating in community feedback for that?  is it the same as before with the HTML5 mailing list and this IRC channel, or is there a new process for WebSocket wire protocol now that it is IETF instead of W3C ?

[13:47:09.0000] <Hixie>
/me looks at the i-d to see what jcranmer means

[13:47:10.0000] <Hixie>
john_fallows: the whatwg list is still an appropriate place for now

[13:48:00.0000] <jcranmer>
http://tools.ietf.org/html/rfc3977 is one that's easier for me to read...

[13:48:01.0000] <hsivonen>
mpilgrim: I was hoping that the HTML5 doctype would hide the compat view button, but sadly, it does not :-(

[13:48:02.0000] <john_fallows>
Hixie: ok, thanks.  I suppose that will be changing later on, but will continue to provide feedback here until then.

[13:49:00.0000] <Hixie>
jcranmer: i don't understand what is hard to read

[13:49:01.0000] <Hixie>
jcranmer: can you be more specific?

[13:49:02.0000] <Hixie>
john_fallows: yeah, next week will be when we find out what the IETF wants to do, i imagine

[13:50:00.0000] <jcranmer>
Hixie: say something along the lines of "The character set for all commands is UTF-8" (or US-ASCII, if you prefer) and forgo rewriting every string in hexadecimal

[13:50:01.0000] <Hixie>
jcranmer: it's a binary wire protocol. i don't understand what you mean. There are no commands.

[13:51:00.0000] <Hixie>
jcranmer: could you point to a specific section with what you mean?

[13:51:01.0000] <jcranmer>
¬ß 2.1

[13:52:00.0000] <jcranmer>
instead of saying "Send ... 47 45 54 20..." just say "Send GET ..., encoded as ASCII"

[13:52:01.0000] <Hixie>
jcranmer: i do not have faith that if i give strings, they will be sent correctly. For example, it is not uncommon for people to get the CRLF thing in HTTP wrong.

[13:53:00.0000] <Hixie>
jcranmer: why does it matter what the strings are, anyway?

[13:53:01.0000] <Hixie>
jcranmer: it's just an opaque handshake

[13:53:02.0000] <jcranmer>
it's easier to read

[13:53:03.0000] <Hixie>
why would you need to read those byte sequences?

[13:53:04.0000] <Hixie>
it doesn't matter what they say

[13:53:05.0000] <Hixie>
they're opaque

[13:53:06.0000] <Hixie>
it does in fact say what they say, under the blocks of bytes

[13:53:07.0000] <Hixie>
where it says NOTE:

[13:54:00.0000] <jcranmer>
I'll also admit that I first interpreted it as saying

[13:54:01.0000] <jcranmer>
"Send the string "47 45 54 20"..."

[13:55:00.0000] <jcranmer>
i.e, 34 37 20 34 35 20 35 34 20 32 30...

[13:55:01.0000] <Hixie>
it says "send the following bytes"

[13:55:02.0000] <Hixie>
i don't know how to be clearer than that

[13:59:00.0000] <jcranmer>
/me also notes that there are /too/ many instances of //'s for his tastes

[14:00:00.0000] <Hixie>
jcranmer: yeah well i'd rather not be using ASCII

[14:01:00.0000] <Hixie>
jcranmer: but if we're stuck in the 70s, i need some way to distinguish variable names from prose

[14:01:01.0000] <Hixie>
jcranmer: and /var/ is the convention

[14:01:02.0000] <mpilgrim>
we must be discussing RFCs

[14:01:03.0000] <jcranmer>
well, you've successfully made it not feel like an RFC

[14:02:00.0000] <jcranmer>
I don't think I see a single SHOULD, MUST, or MAY in there

[14:02:01.0000] <Hixie>
there are 10 MUSTs

[14:02:02.0000] <Hixie>
7 SHOULDs

[14:02:03.0000] <Hixie>
and 4 MAYs

[14:02:04.0000] <mpilgrim>
are they capitalized?

[14:03:00.0000] <jcranmer>
no

[14:03:01.0000] <mpilgrim>
ah

[14:03:02.0000] <Hixie>
no

[14:03:03.0000] <jcranmer>
the capitalization is key, IMHO

[14:03:04.0000] <Hixie>
capitalising them looks dumb

[14:03:05.0000] <mpilgrim>
you MUST capitalize

[14:03:06.0000] <jcranmer>
you also didn't cite RFC 2119

[14:03:07.0000] <Hixie>
really?

[14:03:08.0000] <Hixie>
crap, i must have missed including the boilerplate

[14:03:09.0000] <Hixie>
woah

[14:03:10.0000] <Hixie>
no conformance section

[14:04:00.0000] <Hixie>
i forgot to copy that over when i extracted this from html5

[14:04:01.0000] <Hixie>
my bad

[14:04:02.0000] <Hixie>
 will fix

[14:04:03.0000] <mpilgrim>
/me is guessing hixie hasn't learned about RFC nits yet

[14:04:04.0000] <Hixie>
i hate the rfc format

[14:04:05.0000] <mpilgrim>
or you've forcibly erased it from your mind

[14:04:06.0000] <Hixie>
"stuck in the 70s" really is the only way to describe it

[14:05:00.0000] <mpilgrim>
http://www.ietf.org/ID-Checklist.html

[14:05:01.0000] <jcranmer>
hey, I like RFCs

[14:05:02.0000] <mpilgrim>
there are automated tools to check for nit-compliance

[14:05:03.0000] <Hixie>
mpilgrim: i run them

[14:05:04.0000] <mpilgrim>
and they missed the fact that you have no boilerplate section?!

[14:06:00.0000] <mpilgrim>
i think you're doing it wrong ;)

[14:06:01.0000] <Hixie>
i have the ietf boilerplate

[14:06:02.0000] <Hixie>
just not the whatwg boilerplate

[14:06:03.0000] <mpilgrim>
ah

[14:06:04.0000] <Hixie>
here i'll do it now

[14:07:00.0000] <mpilgrim>
bah, gotta go hang out with wife's work friends

[14:16:00.0000] <Hixie>
olliej: yt?

[14:16:01.0000] <olliej>
Hixie: yup

[14:16:02.0000] <Hixie>
olliej: did you get a feeling that the mozilla guys came to some kind of agreement on how to do importScripts()?

[14:17:00.0000] <olliej>
Hixie: err, i believe we did

[14:17:01.0000] <olliej>
but i can't recall what it was

[14:17:02.0000] <olliej>
i think we just decided that the current spec was right

[14:18:00.0000] <Hixie>
so mozilla's going to change?

[14:22:00.0000] <Hixie>
olliej: they concur, thanks

[14:22:01.0000] <olliej>
\o/

[14:29:00.0000] <mpilgrim>
hooray for android!

[14:32:00.0000] <Hixie>
jcranmer: i tried to fix it, but the ietf won't accept ID submissions for some reason

[14:33:00.0000] <Hixie>
i'm starting to get really tired of the ietf

[14:33:01.0000] <Hixie>
and i've barely started working with them

[14:41:00.0000] <Hixie>
jcranmer: i put a copy at http://www.whatwg.org/specs/web-apps/current-work/.ietf-websocket-protocol/draft-hixie-thewebsocketprotocol-04

[14:41:01.0000] <Hixie>
while i wait for the ietf to learn what "release early release often" means and why month-long outages are ridiculous

[14:46:00.0000] <Hixie>
olliej: are you ok with us just dropping prototypes in the structured cloning step?

[14:46:01.0000] <Hixie>
olliej: or do you want is to flatten?

[14:46:02.0000] <olliej>
Hixie: yes

[14:46:03.0000] <olliej>
Hixie: drop them 

[14:46:04.0000] <Hixie>
ok

[14:46:05.0000] <olliej>
Hixie: i'm also unsure what is meant by "host object"

[14:47:00.0000] <olliej>
Hixie: eg. should a Regex object clone? or is it considered a host object?

[14:47:01.0000] <olliej>
Hixie: or should the properties on a Regex object be cloned, but produce a generic object, not a regex?

[14:47:02.0000] <Hixie>
i think "host object" has a strict meaning in ES3.1

[14:47:03.0000] <Hixie>
but i forgot about RegExp objects

[14:47:04.0000] <Hixie>
so i'll add that too

[14:48:00.0000] <Hixie>
is it ok if i clone ImageData and don't support directly cloning CanvasPixelArray?

[14:48:01.0000] <Hixie>
or should i support both?

[14:49:00.0000] <olliej>
i think it only makes sense to support cloning imagedata

[14:49:01.0000] <Hixie>
k

[14:49:02.0000] <olliej>
Hixie: as if you clone CPA you can't reattach it to an imagedata object

[14:49:03.0000] <Hixie>
yeah

[14:49:04.0000] <olliej>
so it would in effect become unusable

[14:49:05.0000] <Hixie>
that was my thinking too

[14:49:06.0000] <Hixie>
just making sure you agreed :-)

[14:53:00.0000] <Hixie>
holy crap, Microsoft Update defaults to non-SSL and asks you to download an ActiveX control!

[14:53:01.0000] <Hixie>
thanks but no thanks

[14:53:02.0000] <Hixie>
/me switches to SSL

[14:53:03.0000] <Philip`>
But the ActiveX control is signed, so you can trust it

[14:54:00.0000] <Hixie>
it's not the control i'm scared of, it's the commands sent TO the control

[14:54:01.0000] <Philip`>
An attacker might cause you to unwittingly update your Microsoft software?

[14:55:00.0000] <Hixie>
who knows what that activex control supports

[14:55:01.0000] <Philip`>
The attackers probably know

[14:55:02.0000] <Hixie>
jesus, they even REDIRECT YOU to the http:// url in a subframe

[14:55:03.0000] <Hixie>
good lord

[14:56:00.0000] <Philip`>
You could always use the built-in autoupdate system rather than the web-based version

[14:56:01.0000] <Hixie>
there is one?

[14:56:02.0000] <Hixie>
how do i update IE8 using that?

[14:57:00.0000] <Philip`>
You switch on Automatic Updates, and then wait a while until a notification pops up, I guess

[14:57:01.0000] <Hixie>
i want it now

[14:57:02.0000] <Philip`>
I don't think you can get IE8 via the update system yet, you have to download it from http://www.microsoft.com/ie

[14:58:00.0000] <Philip`>
(and probably uninstall any pre-release version of IE8 first)

[14:58:01.0000] <Hixie>
oh good lord

[14:58:02.0000] <Philip`>
/me isn't sure if that's necessary, but it seems safest

[14:59:00.0000] <Hixie>
/me adds microsoft next to the IETF on his list of silly people for the day

[14:59:01.0000] <Philip`>
It only took me 40 minutes to upgrade IE8

[14:59:02.0000] <Philip`>
and I only found two bugs in the installer

[15:03:00.0000] <Philip`>
http://blogs.msdn.com/ie/archive/2009/03/20/rtm-platform-changes.aspx - "For IE8 Beta-1, we closed off the information-disclosure problem whereby JavaScript can read the .value attribute of a file upload control and determine the full local pathname ... We elected to prepend ‚ÄúC:\fakepath\‚Äù" - hooray, they're HTML5 compliant

[15:03:01.0000] <Hixie>
yup

[15:03:02.0000] <Hixie>
it's not a coincidence :-P

[15:04:00.0000] <Philip`>
/me suspected as much :-)

[15:04:01.0000] <Philip`>
Microsoft seems to be doing a lot to promote standards mode, by entirely removing their new features from quirks mode

[15:06:00.0000] <Philip`>
"The first change is that we now return null and not undefined for keys that don‚Äôt exist in DOM storage.  The second change is that we removed the length and remainingSpace properties when iterating DOM storage using a for..in statement." - hmm, but they didn't remove or vendor-prefix their extensions

[15:42:00.0000] <Hixie>
i click "download now" for IE8 and it pops a dialog with two more "download now" buttons

[15:42:01.0000] <Hixie>
what part of "now" do they not understand?

[15:46:00.0000] <Philip`>
/me remembers reading that the person who first implemented Amazon's patented one-click ordering system had been unable to fully understand the "one-click" concept and had added a confirmation dialog box

[15:47:00.0000] <Philip`>
http://beta.w3.org/TR/html401/ looks different

[15:48:00.0000] <Hixie>
that beta site has so many lines, rectangles, and links going on it's crazy

[15:49:00.0000] <Philip`>
/me discovers the magic slidey news thing on the front page

[15:50:00.0000] <Philip`>
Seems it'd be more intuitive to just, like, show all the news on there, rather than hiding it behind obscure buttons that make it hard to notice and hard to scroll through

[15:50:01.0000] <Hixie>
front page?

[15:51:00.0000] <Philip`>
http://beta.w3.org/

[15:51:01.0000] <Hixie>
oh that front page

[15:51:02.0000] <Hixie>
that page looks like a bunch of news clippings all thrown on a pile to me

[15:51:03.0000] <Hixie>
i have no idea where to look

[15:52:00.0000] <Hixie>
there are links at the top, the top right, the right, the bottom right, the bottom middle, the bottom left, the left, and the middle

[15:55:00.0000] <Hixie>
(in this respect, btw, it's not particularly worse than the old one)

[16:26:00.0000] <Hixie>
/me prefixes all the form-related attributes on <input> with "form" so that "action" is "formaction" instead

[16:26:01.0000] <Hixie>
such a pain in the behind


2009-03-21
[17:02:00.0000] <annevk5>
the script decoding stuff seems wrong

[17:03:00.0000] <annevk5>
HTTP should take precedence over BOMs

[17:08:00.0000] <annevk5>
also, it seems if that algorithm allowed for passing in a charset it could be used by HTML5 as well

[17:20:00.0000] <Lachy>
http://reports.graymattergravy.com/2009/03/16/html-5-ogg/

[17:31:00.0000] <Hixie>
the algorithm for <script> is similar but not quite

[17:31:01.0000] <Hixie>
and i'm pretty sure the bom overrides the mime type

[17:31:02.0000] <Hixie>
file a bug with a test case if it doesn't :-)

[17:36:00.0000] <annevk5>
are you saying scripts work different from text/html?

[17:36:01.0000] <annevk5>
because for text/html you specify that HTTP overrides BOM

[17:36:02.0000] <Hixie>
/me points to the topic

[17:37:00.0000] <annevk5>
i sort of doubt impl are consistent on that and it seems icky

[17:37:01.0000] <annevk5>
oh well, will test some day

[18:13:00.0000] <Lachy>
/me hangs his sense of logic on the hook outside and enters to say...

[18:13:01.0000] <Lachy>
Hixie, is it really necessary to have the BOM override HTTP for script encoding detection, despite that being inconsistent with everything else?

[18:42:00.0000] <Hixie>
Lachy: isn't that what happens now for <script>?

[18:42:01.0000] <Hixie>
Lachy: anne asked the same question

[18:43:00.0000] <Hixie>
Lachy: i thought i had just used the same algorithm as <script>

[18:43:01.0000] <Hixie>
Lachy: if it's wrong, file a bug

[19:02:00.0000] <Lachy>
Hixie, I thought the way browsers determined the encoding of external scripts was to first check the HTTP Content-Type header, or else use the BOM if present, or else use the document's encoding.

[22:53:00.0000] <jwalden>
/me wonders why IE8 occasionally, but not consistently, displays acid2 as <http://web.mit.edu/jwalden/www/ie8-acid2-fail.png>

[22:54:00.0000] <jwalden>
(that's a remote desktop setup, which might have an effect)

[01:15:00.0000] <olliej>
roc: any idea if jruderman is online anywhere?

[01:15:01.0000] <roc>
right now?

[01:16:00.0000] <olliej>
roc: yeah

[01:16:01.0000] <roc>
no idea really

[01:16:02.0000] <olliej>
roc: bah, i expect you to know all :D

[01:17:00.0000] <roc>
it is Saturday night here you know :-)

[01:23:00.0000] <olliej>
roc: psh, details

[01:24:00.0000] <roc>
maybe I need to point out that some of us aren't online much on weekends due to having families and being old

[02:59:00.0000] <annevk5>
https://bugzilla.mozilla.org/show_bug.cgi?id=484406 is somewhat interesting

[03:49:00.0000] <gsnedders>
Anyone got any thoughts on creating a html5lib.serialize function?

[03:51:00.0000] <MikeSmith>
gsnedders: doesn't html5lib already contain a function for doing serialization?

[03:51:01.0000] <gsnedders>
MikeSmith: Only by calling about ten functions

[03:53:00.0000] <MikeSmith>
gsnedders: so  html5lib.serialize would basically be a convenience wrapper that executes the existing code?

[03:53:01.0000] <gsnedders>
MikeSmith: Yeah

[03:54:00.0000] <gsnedders>
MikeSmith: Like html5lib.parse is one for parsing

[03:54:01.0000] <MikeSmith>
yeah

[03:54:02.0000] <gsnedders>
The only fun thing is you need to know what format the tree is in

[03:54:03.0000] <gsnedders>
(Like, is it dom, is it etree, etc.)

[03:54:04.0000] <MikeSmith>
yeah

[03:54:05.0000] <gsnedders>
That can be worked around by just doing stuff like hasattr

[03:55:00.0000] <MikeSmith>
ah, yeah

[03:55:01.0000] <gsnedders>
(And hoping people don't do really whacky OO stuff subclassing stuff)

[03:55:02.0000] <MikeSmith>
hmm

[03:55:03.0000] <MikeSmith>
people do whacky stuff

[03:55:04.0000] <MikeSmith>
in general

[03:55:05.0000] <gsnedders>
Probably better allow it to be explicitly stated the format, but try sniffing if it isn't

[03:57:00.0000] <MikeSmith>
my experience in product-dev orgs is that engineers always swear "no sane user will ever do that".. and as soon as the product is actually deployed, we have actual users (customers) doing just what engineering claimed they'd have to be insane to do

[03:58:00.0000] <MikeSmith>
gsnedders: anyway, sounds like something that would be great to have, and that nobody would argue against

[03:58:01.0000] <gsnedders>
MikeSmith: Damnit! I was hoping you guys would give me a reason not to do it!

[03:58:02.0000] <gsnedders>
That means I've got another thing on my to-do list!

[03:59:00.0000] <MikeSmith>
gsnedders: Just do it.

[04:00:00.0000] <MikeSmith>
give up on adonais and move all your energy to work exclusively on things that I personally find most useful

[04:00:01.0000] <MikeSmith>
that's my recommendation for you

[04:06:00.0000] <jgraham>
gsnedders: html5lib.serialise(input, tree="simpletree", format="html", **serializer_opts) should probably be the signature

[04:06:01.0000] <jgraham>
we should also have html5lib.sanitize

[04:06:02.0000] <jgraham>
But I don't know if that should return a tree or text

[04:12:00.0000] <MikeSmith>
jgraham! hey

[04:13:00.0000] <MikeSmith>
so you've been up in the great sunny north for how long now?

[04:13:01.0000] <MikeSmith>
3 months?

[04:13:02.0000] <MikeSmith>
wondering how you are liking it so far

[04:13:03.0000] <MikeSmith>
working mostly with zcorpan?

[04:15:00.0000] <jgraham>
MikeSmith: Hej.

[04:15:01.0000] <jgraham>
Yeah, working with zcorpan a bit. 

[04:16:00.0000] <jgraham>
It's pretty nice here although they seem to want to stop me getting an internet connection really bad, which sucks

[04:16:01.0000] <MikeSmith>
huh?

[04:16:02.0000] <MikeSmith>
who wants you to do that?

[04:16:03.0000] <jgraham>
I mean the swedes not opera

[04:16:04.0000] <jgraham>
:)

[04:16:05.0000] <MikeSmith>
ah

[04:16:06.0000] <MikeSmith>
yeah

[04:17:00.0000] <jgraham>
I tried and they claimed that I han't been in the country long enough (or rather that my job wasn't yet considered permanant) and so I was too much of a credit risk

[04:17:01.0000] <MikeSmith>
heh

[04:17:02.0000] <MikeSmith>
idiots

[04:17:03.0000] <MikeSmith>
god

[04:18:00.0000] <MikeSmith>
I mean, you are coming to them with money in hand to spend

[04:18:01.0000] <jgraham>
Indeed

[04:18:02.0000] <jgraham>
With thatt in mind I am going to drop offline for a moment to see if I can get this silly 3G dongle thing working under linux

[04:19:00.0000] <MikeSmith>
jgraham: go for it

[04:23:00.0000] <jgraham>
#Holy crap it works. Will the miracles never end?

[04:27:00.0000] <MikeSmith>
jgraham: "3G dongle thing" is an HSDPA modem?

[04:29:00.0000] <gsnedders>
http://gsnedders.html5.org/outliner/

[04:31:00.0000] <gsnedders>
MikeSmith: Seeming you might be interested, I saw Bill Manhire and Simon Armitage speaking yesterday

[04:31:01.0000] <gsnedders>
Primarily reading their poetry

[06:33:00.0000] <jgraham>
virtuelv: Because there isn't really anything non-scientific about using a process that allows for the possibility of a creative insight producing a better result than incremental improvements to the existing model

[06:34:00.0000] <jgraham>
It would only be non-scientific if you insisted that some design was superior inthe face of data to the contrary and without a hypothesis as to why the data was wrong

[06:35:00.0000] <Philip`>
It would be non-scientific if you didn't have any data at all

[06:36:00.0000] <jgraham>
Myabe. But that is different to the Google situation

[06:37:00.0000] <jgraham>
(unless the complaint is that there should have been a designer whose work was considered perfect, even in the face of user feedback to the contrary)

[06:37:01.0000] <jgraham>
(which seems unlikely)

[06:40:00.0000] <Philip`>
My interpretation of the complaint is that (some) designers need to be able to design creatively and artistically, without being bogged down in the scientific details at every stage

[06:40:01.0000] <jgraham>
Philip`: Which seems perfectly scientific

[06:41:00.0000] <jgraham>
(if you remove the word "scientific" from your last sentence)

[06:41:01.0000] <jgraham>
That's how a great deal of theoretical physics works, for example

[06:42:00.0000] <jgraham>
It's only non-scientific if you come up with something that either cannot be tested or which you refuse to test

[06:42:01.0000] <Philip`>
I'm trying to think of a better word than "scientific" but I'm not sure what it is

[06:42:02.0000] <Philip`>
Maybe "engineeristic" or something

[06:44:00.0000] <Philip`>
or "exclusively data-focused" or something

[06:45:00.0000] <jgraham>
"data focused" seems fair

[06:47:00.0000] <MikeSmith>
/me scrolls back to try to understand context for "data focused"....

[06:48:00.0000] <jgraham>
(it is easy to imagine the same problem in other situations to get an idea of how frustrating it might be, for example the same book being sold with slightly different word choices to see which sells better)

[06:49:00.0000] <Philip`>
(That example would only work if people read the book before deciding whether to buy it)

[06:50:00.0000] <Philip`>
(You could, however, publish the same book with several different covers and see which sells better)

[06:51:00.0000] <Philip`>
(though in the case of e.g. Harry Potter books they use different covers to increase the range of their target market, which is a separate issue)

[06:54:00.0000] <Philip`>
/me has seen Discworld books with 'adult' covers too, and remembers that he used to find the original illustrated Discworld book covers to be hideous and disturbing to such an extent that he didn't like looking at them

[07:58:00.0000] <gsnedders>
jgraham: I guess it should be serialize and not serialise

[07:59:00.0000] <gsnedders>
jgraham: To be internally consistency

[07:59:01.0000] <gsnedders>
*consistent

[08:01:00.0000] <Philip`>
Call it tostring() instead

[08:19:00.0000] <gsnedders>
/me commits to html5lib for the first time in ages

[09:10:00.0000] <gsnedders>
Philip`: Challenge: find number of uppercase ASCII characters in tag names as a percentage of all characters in tag names.

[09:21:00.0000] <Philip`>
gsnedders: In some unknown number of pages from dmoz.org with five million things that look kind of like tags, I see 11723600 lowercase characters and 1547593 uppercase

[09:21:01.0000] <gsnedders>
Philip`: thx

[09:21:02.0000] <Philip`>
(and 59370 digits)

[12:00:00.0000] <gsnedders>
/me wonders who drhowarddrfine is‚Ä¶ seems to have a very, very, very anti-MS POV

[12:02:00.0000] <Philip`>
/me wonders where his POV is being expressed

[12:02:01.0000] <gsnedders>
All over the web

[12:02:02.0000] <gsnedders>
Just google the alias

[12:07:00.0000] <Dashiva>
Worse than that rudd-o guy?

[12:07:01.0000] <gsnedders>
Yeah

[12:09:00.0000] <Philip`>
Is he the one who was vocal about Ogg?

[12:10:00.0000] <Dashiva>
Yes

[12:12:00.0000] <gsnedders>
IE is the root of all evil, and target was deprecated for security reasons. Right.

[12:13:00.0000] <gsnedders>
Also, he can ask Ian Hicks, Hixie, Simone Pieter among other people who will back him up.

[12:14:00.0000] <Dashiva>
...

[12:14:01.0000] <Dashiva>
Simone

[12:16:00.0000] <Philip`>
Simone and Anne are helping ensure HTML5 isn't a male-dominated spec

[12:16:01.0000] <Dashiva>
Next is what, Georgia Snedders?

[12:23:00.0000] <takkaria>
hmm... http://twitter.com/NickHodge/statuses/1364909394

[12:28:00.0000] <Dashiva>
Isn't the svg in acid3 standalone svg?

[13:26:00.0000] <erlehmann>
hmmm, how should i solve this ?

[13:26:01.0000] <erlehmann>
http://html5.validator.nu/?doc=http%3A%2F%2Fblog.dieweltistgarnichtso.net%2F&showimagereport=yes

[13:27:00.0000] <erlehmann>
i use ins to group inserted paragraphs

[13:27:01.0000] <erlehmann>
why can't that be valid ?

[13:48:00.0000] <gsnedders>
erlehmann: It is valid, as far as I can tell

[13:49:00.0000] <gsnedders>
I'm more or less certain it is

[13:51:00.0000] <erlehmann>
gsnedders, since the content model of the <ins> element ist transparent, i would think that too. maybe the validator has a hickup ?

[13:51:01.0000] <gsnedders>
erlehmann: The validator has quite a few bugs :)

[13:52:00.0000] <gsnedders>
LOL

[13:52:01.0000] <gsnedders>
Apparently I haven't talked to Hixie in "a couple years or more"

[13:52:02.0000] <takkaria>
url?

[13:52:03.0000] <gsnedders>
http://codingforums.com/showpost.php?p=796317&postcount=39

[13:55:00.0000] <takkaria>
heh

[13:57:00.0000] <Philip`>
Help, my menu bar has vanished

[13:57:01.0000] <Philip`>
(in Opera)

[14:04:00.0000] <erlehmann>
Philip`, hit alt+f4 !

[14:51:00.0000] <jwalden>
gsnedders: should you be including <1. Untitled Section> in your outliner when you encounter a sectioning content element that contains no headers?

[14:52:00.0000] <gsnedders>
jwalden: It is a section with no heading, so yes, it should appear in the outline

[14:52:01.0000] <gsnedders>
The fact it has no heading is irrelevant

[14:54:00.0000] <jwalden>
gsnedders: okay, riddle me this batman: suppose I have blag software that displays posts; it puts each post in an <article> with a <h1>post title</h1> at the top

[14:55:00.0000] <jwalden>
gsnedders: blag posts sometimes contain headers

[14:55:01.0000] <jwalden>
if I want to number those latter headers from <h1>, is there a way to do that without using <section>?

[14:55:02.0000] <jwalden>
and without generating phantom headers in an outline when the post is super-simple?

[14:55:03.0000] <jwalden>
I don't see one

[14:56:00.0000] <jwalden>
<http://whereswalden.com/> and <http://gsnedders.html5.org/outliner/process.py?url=http%3A%2F%2Fwhereswalden.com%2F> are the case in point

[14:58:00.0000] <jwalden>
http://pastebin.mozilla.org/635906 is the relevant PHP

[15:01:00.0000] <jwalden>
gsnedders: also, I think your outliner is not "ignoring any sections created for nav and aside elements and any of their descendants"

[15:05:00.0000] <gsnedders>
/me shrugs

[15:05:01.0000] <gsnedders>
I suppose that if you want subsections you should just use section elements there, because putting the whole post as a section seems wrong

[15:08:00.0000] <jwalden>
hm

[15:08:01.0000] <jwalden>
so this suggests there's no good way to make copy-pastability for content which might or might not contain headers

[15:08:02.0000] <gsnedders>
nav seems to broken

[15:09:00.0000] <gsnedders>
As far as I'm concerned, I'm creating an outline per spec

[15:09:01.0000] <gsnedders>
So ask Hixie :P

[15:09:02.0000] <gsnedders>
nav/aside is impl. bug I think

[15:09:03.0000] <jwalden>
so I guessed :-)

[15:10:00.0000] <gsnedders>
No, nav/aside is right

[15:10:01.0000] <gsnedders>
"Append the outline of the sectioning content element being exited to the current section. (This does not change which section is the last section in the outline.)"

[15:11:00.0000] <gsnedders>
http://hg.gsnedders.com/anolis/file/b6d93515d41e/anolislib/processes/outliner.py

[15:12:00.0000] <jwalden>
oh, I was misreading 4.4.10.2

[15:13:00.0000] <gsnedders>
My entire impl has quote from spec for every line of code, a quite a few asserts were the spec states that something is true

[15:13:01.0000] <gsnedders>
*and

[15:13:02.0000] <gsnedders>
So I doubt there are really many impl. bugs :)

[15:23:00.0000] <Dashiva>
gsnedders: How do you handle spec changes? Update code every time, or keep a "last synced with spec av rev x" or?

[15:24:00.0000] <gsnedders>
Dashiva: The spec has had one minor change since I wrote it around a year ago, so I don't really handle them at all :P

[15:34:00.0000] <Philip`>
"Brushing aside the personal attacks by small and narrow minds ..." - brushing aside personal attacks by using more personal attacks?

[15:34:01.0000] <gavin>
heh

[15:35:00.0000] <Dashiva>
"Brushing aside the personal attacks with a small and narrow mind ..." 

[15:37:00.0000] <Philip`>
"in virtually every other programming language available to application developers today, failing to write the ‚Äòcode‚Äô to the code‚Äôs specification results in the application simply not working" - not in e.g. C or C++, where you get unspecified behaviour that often actually works perfectly well in practice

[15:38:00.0000] <jcranmer>
curly quotes seem to mess up irssi

[15:38:01.0000] <Dashiva>
Not to mention javascript :)

[15:39:00.0000] <Philip`>
nor in Java, where you can misuse concurrency and get undefined behaviour

[15:39:01.0000] <jcranmer>
if you try to use multithreading without understanding it

[15:39:02.0000] <jcranmer>
you'll get undefined behavior no matter what language you use

[15:40:00.0000] <Philip`>
Dashiva: JS isn't really the same issue - it just has a relaxed specification that allows you to write a lot of things (e.g. missing semicolons) which are weird but still perfectly legal

[15:40:01.0000] <Dashiva>
No, you still have stuff like function expressions inside conditionals etc

[15:40:02.0000] <Dashiva>
And HTML comments working as real comments, even outside HTML files...

[15:40:03.0000] <Philip`>
It doesn't say "you MUST use semicolons" and then ignore missing semicolons

[15:41:00.0000] <Philip`>
Dashiva: That's more about the specification not matching reality, rather than it telling you you must do something and then not caring when you don't

[15:41:01.0000] <Dashiva>
I bit myself in java once, I had a class that called a method in its constructor. A subclass included that method, accessing a field in the subclass.

[15:42:00.0000] <Dashiva>
Philip`: I suppose so. But js is a rather moving target then :)

[15:42:01.0000] <Philip`>
jcranmer: Are there many languages with the same strict concurrency specifications as Java?

[15:43:00.0000] <jcranmer>
I imagine the C++0x memory model comes close

[15:43:01.0000] <Dashiva>
I never understood why i++ + i++ is undefined (or is it implementation specific? does it matter?)

[15:43:02.0000] <jcranmer>
Dashiva: it's because doing an increment is relatively expensive

[15:44:00.0000] <Philip`>
/me is thinking of http://java.sun.com/docs/books/jls/third_edition/html/memory.html#17.4

[15:44:01.0000] <Philip`>
Dashiva: For the same reason that f(i++, i++) is undefined, I expect

[15:44:02.0000] <jcranmer>
Philip`: well, that also has the issue of calling conventions

[15:44:03.0000] <Philip`>
Dashiva: which is that different compilers and different architectures might prefer to evaluate expressions in different orders, for efficiency

[15:44:04.0000] <jcranmer>
x86 puts the latter arguments on the stack first

[15:45:00.0000] <Philip`>
Dashiva: and so the rule is you can't rely on the order

[15:45:01.0000] <jcranmer>
so f(i++, i++) on an x86 machine would evaluate the second argument firs

[15:45:02.0000] <jcranmer>
er, first

[15:45:03.0000] <Dashiva>
I guess that matters much more when you get close to metal, unlike in JS

[15:46:00.0000] <Philip`>
JS (with JIT) is close to the metal :-)

[15:46:01.0000] <jcranmer>
so C/C++ makes guarantees at statement (with the exception of a few operators) level as opposed to expression level

[15:48:00.0000] <Philip`>
Dashiva: (It's undefined, not implementation-defined, and in practice implementations will generate totally bogus code for that expression when you have optimisations turned on)

[15:48:01.0000] <jcranmer>
i = i++; is the archetypal expression

[15:49:00.0000] <Dashiva>
Do you know of any cases where implementation defined is actually relied on?

[15:49:01.0000] <Philip`>
Dashiva: Things like sizeof(int) are implementation defined, and people rely on that

[15:50:00.0000] <Philip`>
(People often rely on undefined behaviour too, e.g. writing "int i; float f; i = *(int*)(float*)&f;")

[15:51:00.0000] <jcranmer>
just use a union :-)

[15:51:01.0000] <Philip`>
No, just use memcpy :-)

[15:51:02.0000] <jcranmer>
union { int int_val; float float_val } num;

[15:51:03.0000] <Philip`>
memcpy(&i, &f, 4);

[15:51:04.0000] <jcranmer>
but what if sizeof(int) != 4?

[15:52:00.0000] <Philip`>
static_assert(sizeof(int) = 4 && sizeof(float) == 4);

[15:52:01.0000] <Philip`>
s/=/==/

[15:52:02.0000] <Dashiva>
Float.floatToIntBits :)

[15:52:03.0000] <Philip`>
All compilers optimise that memcpy into nothingness

[15:52:04.0000] <jcranmer>
/me notes that said usecase for unions is actually mentioned in a porting-from-C++-to-Java guide

[15:52:05.0000] <Philip`>
(assuming f is in memory, not in a float register)

[15:53:00.0000] <Philip`>
I don't think the C/C++ standards (or at least non-latest versions of them) allow the union trick

[15:54:00.0000] <Philip`>
because they say a value can only be accessed as the type it was declared as, or as (unsigned) char, or a few minor exceptions

[15:55:00.0000] <Philip`>
/me was recently in a conversation where he found it surprisingly hard to convince people that using memcpy was a good idea, since it's efficient in practice and clearly guaranteed to work in the spec and less fiddly than the dodgy unions :-)

[15:58:00.0000] <jcranmer>
reinterpret_cast ?

[15:59:00.0000] <Philip`>
That's the same as C-style casts

[16:00:00.0000] <Philip`>
Dashiva: Float.floatToIntBits looks like a function call, and function calls are expensive, so that's no good :-p

[16:01:00.0000] <jcranmer>
/me wonders if the JIT would optimize that out

[16:02:00.0000] <Philip`>
If you have a million positive floats to sort, it's nice that C(++) lets you pretend they're integers and sort them more efficiently

[16:03:00.0000] <jcranmer>
/me ponders

[16:03:01.0000] <jcranmer>
would that actually work?

[16:03:02.0000] <Philip`>
It's also nice to be able to do "memcpy(&i, &f, 4); ++i; memcpy(&f, &i, 4);" to get the next highest float

[16:04:00.0000] <Philip`>
jcranmer: Yes, because ordering is preserved if you reinterpret floats as sign-and-magnitude ints

[16:04:01.0000] <Philip`>
jcranmer: (and it's preserved if you reinterpret positive floats as two's-complement ints)

[16:48:00.0000] <takkaria>
22:42 < Philip`> "in virtually every other programming language available to application developers today, failing to write  the 'code' to the code's specification results in the application simply not working" - not in e.g. C or  C++, where you get unspecified behaviour that often actually works perfectly well in practice

[16:48:01.0000] <takkaria>
oops


2009-03-22
[23:12:00.0000] <Hixie>
man, some people are weird

[23:13:00.0000] <Hixie>
i'm continuously amazed at the conclusions people draw from things such as the fact that localstorage is now published in a different document than, say, <canvas>

[23:13:01.0000] <Hixie>
given that there is no practical difference

[23:13:02.0000] <Hixie>
same source document, same editor, same timetable, same implementation priorities

[23:15:00.0000] <Hixie>
aboodman: i think it's too late to change the localStorage API; IE8 shipped with it already

[23:15:01.0000] <Hixie>
and they don't lock across instances of their browser

[23:15:02.0000] <Hixie>
so they don't guarantee that localStorage.foo == localStorage.foo

[23:15:03.0000] <aboodman>
Hixie: it's never too late. I thought that was the point.

[23:15:04.0000] <aboodman>
isn't there a big disclaimer at the top of the spec to that effect?

[23:16:00.0000] <Hixie>
disclaimer or not, realistically speaking it would be stupid of us to do something that breaks compatibility with IE

[23:16:01.0000] <Hixie>
it'll be 2 or 3 years before they ship IE9

[23:17:00.0000] <Hixie>
so the earliest we could expect them to implement a new API is long after we can expect the API to be used widely

[23:17:01.0000] <aboodman>
it's a very small incompatibility that's being proposed.

[23:17:02.0000] <aboodman>
easily papered over by js

[23:18:00.0000] <aboodman>
i doubt other vendors will be into the idea of shipping something obviously broken when a simple fix exists.

[23:18:01.0000] <Hixie>
i guess

[23:19:00.0000] <Hixie>
we should bring this up on public-html

[23:19:01.0000] <Hixie>
see what they think

[23:19:02.0000] <aboodman>
sure.

[23:19:03.0000] <Hixie>
they did, after all, fail to implement the spec as written

[23:19:04.0000] <Hixie>
which might give us _some_ leverage

[23:35:00.0000] <Hixie>
jwalden: i didn't really understand what you were asking for regarding your blog post section headers

[23:36:00.0000] <jwalden>
Hixie: each post has this basic format: <article><h1>post title</h1> ...post content...</article>

[23:36:01.0000] <jwalden>
Hixie: if I want each post's content to be able to contain headers (but not *necessarily* contain any), and I want that content to be able to use the natural style of h1, h2, h3, etc. headers, I need to put it in a sectioning element

[23:37:00.0000] <jwalden>
but if I do that, any entry which doesn't contain a header shows up in outlines as "Untitled Section" or similar

[23:37:01.0000] <Hixie>
just use <h2> - <h6> for subheaders

[23:37:02.0000] <jwalden>
that's possible, sure

[23:38:00.0000] <Hixie>
doesn't that solve the problem? :-)

[23:38:01.0000] <jwalden>
it just seems odd, because I thought one of the prime goals of this was to make it easy to copy-paste from elsewhere where h1 could have been used

[23:38:02.0000] <Hixie>
if you use <h1> and <section>, you can copy paste that content anywhere, yes

[23:39:00.0000] <Hixie>
i guess i don't understand the problem still

[23:39:01.0000] <jwalden>
beyond that, it just seems odd that a section with no heading would show up in an outline

[23:40:00.0000] <Hixie>
so always title your sections :-P

[23:41:00.0000] <jwalden>
it seems reasonable for a post author to think that there's an implicit section around his post's content; maybe that's just relying too much on the exact format of the blog templates, but it's what I'd expect had I not ginned this up on my own

[23:42:00.0000] <Hixie>
i don't understand why you can't rely on there being an implicit section

[23:43:00.0000] <Hixie>
either you write your content as  "bla bla intro bla bla <h2>subsection</h2> subbla subbla" or you write it as "bla bla intro bla bla <section> <h1>subsection</h1> subbla subbla</section>"

[04:46:00.0000] <jgraham>
gsnedders: You got any outliner testcases?

[05:38:00.0000] <gsnedders>
jgraham: no

[05:53:00.0000] <jgraham>
gsnedders: Oh, well that's lame

[05:53:01.0000] <jgraham>
:)

[06:58:00.0000] <gsnedders>
Is this another address for Philip TAYLOR?

[07:00:00.0000] <Philip`>
I don't think it's a new one

[07:06:00.0000] <jgraham>
Seen it before

[07:41:00.0000] <rubys>
Anybody have any idea why Chrome and Safari clip the image in the lower right on this page?  http://intertwingly.net/blog/  Opera and Firefox3 display it without clipping.  IE8 ignores it.

[07:43:00.0000] <Alkarex>
rubys: It is not only clipped, but also not the same size

[07:44:00.0000] <rubys>
agreed

[07:49:00.0000] <Alkarex>
rubys: Changing your viewbox to e.g. viewBox="-10 -10 150 250" makes it completely visible in Chrome

[07:52:00.0000] <Alkarex>
rubys: Seems to be only SVG and not CSS related

[07:54:00.0000] <rubys>
that same image appears elsewhere on the page.. intact.

[07:55:00.0000] <Alkarex>
Something to do with units maybe?

[07:57:00.0000] <rubys>
I guess the real question is: who is "right"?

[07:59:00.0000] <Alkarex>
rubys: Hum, it is interesting to see the differences between the browsers when setting  <svg width="100%" height="100%">

[07:59:01.0000] <jgraham>
Does anyone have html5lib svn installed? Assuming they can run the unit tests, which version of simplejson do they have? I seem to be getting character encoding realted errors on a clean checkout

[07:59:02.0000] <Alkarex>
rubys: with 100% 100% it stays within the dimensions defined by CSS in Firefox, but not in Chrome

[08:02:00.0000] <Alkarex>
rubys: Ok, with 100% 100% it works also in Chrome when defining height in CSS

[08:08:00.0000] <rubys>
Weird... adding height to css but not changing the svg causes it to be clipped in both directions.

[08:17:00.0000] <Alkarex>
rubys: works ok with, in CSS footer svg {height:14em;} and in SVG <SVG width="100%" height="100%" viewBox="0 0 160 160"> and <g stroke="#940" transform="scale(1.5)"> :-P

[08:18:00.0000] <Philip`>
rubys: You could replace it with a PNG image

[08:18:01.0000] <Alkarex>
Philip`: It would not be funny

[08:21:00.0000] <Alkarex>
Today, I came accross DotBot: http://www.dotnetdotcom.org/ They are crawling the Web, and have a free database to download (68GB so far). Could be useful to make usage statistics

[08:25:00.0000] <Philip`>
Alkarex: That looks pretty interesting

[08:26:00.0000] <Philip`>
Maybe it would be nice if they could store the data on a public Amazon EBS disk, so people can mount it into an EC2 machine and process it without having to download the data...

[08:27:00.0000] <Alkarex>
Philip`: They seem to be welcoming comments and suggestions

[08:30:00.0000] <Alkarex>
rubys: my modified code seems to give the precise same results in Opera, Chrome and Firefox

[09:04:00.0000] <jgraham>
Hmm, does the dotbot thing really use null seperated fields? Isn't that rather easy to confuse? I guess they must be escaping the content somehow but they don't obviously say how

[09:08:00.0000] <takkaria>
yknow, the big benefit to reading public-html on the archives is that the urge to reply is greatly reduced

[09:10:00.0000] <annevk5>
jgraham, yeah, would be nice to know actually how much content uses null bytes

[09:11:00.0000] <Philip`>
annevk5: Lots does

[09:11:01.0000] <Philip`>
including all the pages encoded in UTF-16

[09:12:00.0000] <Philip`>
and all the PNG and JPEGs

[09:13:00.0000] <Philip`>
*PNGs

[09:13:01.0000] <Philip`>
and PDFs

[09:13:02.0000] <Philip`>
etc

[09:13:03.0000] <Philip`>
many of which are likely to be mislabeled as text/html

[09:13:04.0000] <annevk5>
hmm, true

[09:28:00.0000] <takkaria>
ah, the urge to post got too great

[09:28:01.0000] <takkaria>
ah well

[09:30:00.0000] <gsnedders>
/me is surprised to find takkaria has only emailed public-html three times

[09:31:00.0000] <takkaria>
oh, it's more than that

[09:31:01.0000] <takkaria>
I've just used different email addresses

[09:31:02.0000] <gsnedders>
Ah, and use Andrew in the From field

[09:31:03.0000] <gsnedders>
Just searching for sidwell turns up 53 matches

[09:32:00.0000] <takkaria>
I keep quiet, since most of the time I just add more noise to noise. :)

[09:32:01.0000] <gsnedders>
takkaria: I like the last thing on that list

[09:32:02.0000] <gsnedders>
takkaria: Your analogies will certainly be wrong, according to others on the list. 

[09:33:00.0000] <takkaria>
well, they're wrong :)

[09:35:00.0000] <gsnedders>
/me sighs and dares look at the amount of red written on his draft computing project

[09:35:01.0000] <takkaria>
I had a terrifying dream last night

[09:35:02.0000] <gsnedders>
takkaria: Did it involve getting a job?

[09:35:03.0000] <gsnedders>
I ought to get one of those.

[09:36:00.0000] <takkaria>
no, it involved resitting GCSEs

[09:36:01.0000] <gsnedders>
Okay, interesting dream‚Ä¶

[09:42:00.0000] <gsnedders>
takkaria: Are you going to expand on that, or was that it?

[09:43:00.0000] <jgraham>
/me always dreams that he has to resit his German GCSE when he has that kind of dream

[09:44:00.0000] <jgraham>
And obviously I haven't learnt any words

[09:44:01.0000] <jgraham>
(in the dream)

[09:44:02.0000] <Philip`>
/me usually dreams of more interesting things than GCSEs, e.g. leaping out through the cockpit window of an AT-ST

[09:45:00.0000] <takkaria>
gsnedders: that was pretty much all of it.  I had to do an extra year at high school and it was just bad, bad voodoo really

[09:45:01.0000] <gsnedders>
/me has an absurd number of dreams involving drugs

[09:47:00.0000] <takkaria>
legal or illegal?

[09:47:01.0000] <gsnedders>
takkaria: Both

[09:47:02.0000] <takkaria>
fun times

[09:48:00.0000] <gsnedders>
/me realizes he probably ought to buy something to wear for ball

[09:49:00.0000] <gsnedders>
Biggest question is whether I wear a kilt or not

[09:50:00.0000] <takkaria>
I recommend corset, kilt and heels

[09:50:01.0000] <gsnedders>
I don't think that'll go down overly well

[09:51:00.0000] <takkaria>
shame

[09:51:01.0000] <gsnedders>
Also, the girl I'm going with probably wouldn't overly appove‚Ä¶

[09:51:02.0000] <gsnedders>
*approve

[09:51:03.0000] <gsnedders>
Even if she has, like most of my friends, concluded that almost all purposes I am a girl.

[09:54:00.0000] <gsnedders>
/me also has no faith in his ability to dance in heals

[11:53:00.0000] <Lachy>
gsnedders, is it common for people to wear kilts to balls in Scotland?

[11:53:01.0000] <gsnedders>
Lachy: yes

[11:53:02.0000] <Lachy>
wow. They look so aweful. Why?!

[11:53:03.0000] <gsnedders>
But for guys to where corsets and heels? No.

[11:53:04.0000] <Lachy>
haha

[11:54:00.0000] <gsnedders>
Lachy: Ask any friend of mine. They certainly won't say they look awful.

[11:54:01.0000] <Lachy>
I'd like to see a photo of you wearing a kilt, corset and heels.

[11:54:02.0000] <gsnedders>
(where friend implies female)

[11:55:00.0000] <gsnedders>
Oh dear‚Ä¶

[11:55:01.0000] <gsnedders>
Last time I got dared such a thing I ended up having green hair to a ceilidh

[11:55:02.0000] <gsnedders>
s/to/at/

[11:55:03.0000] <Lachy>
what's a ceilidh?

[11:55:04.0000] <gsnedders>
Exactly what Wikipedia says it is.

[11:57:00.0000] <Lachy>
ok, so it's just a dance.

[12:02:00.0000] <takkaria>
not any dance

[12:03:00.0000] <gsnedders>
It has to be some type of Gaelic dancing

[13:25:00.0000] <Lachy>
gsnedders, the documentation for Automagic Bibliography doesn't mention anything about the <!--begin-normative-->/<!--end-normative--> and <!--begin-informative-->/<!--end-informative--> comments that need to be in the HTML file

[13:51:00.0000] <Lachy>
gsnedders, the documentation also fails to mention that [[foo]] is an informative reference and that [[!foo]] is a normaitive referecne.

[13:55:00.0000] <jgraham>
Kilts are aweful. They inspire awe.

[13:56:00.0000] <jgraham>
Wearing one shows reall balls. Often literally.

[14:13:00.0000] <gsnedders>
Lachy: Email, please

[16:04:00.0000] <annevk3>
http://www.thespanner.co.uk/2009/03/20/html5-xss/

[16:13:00.0000] <Lachy>
that same xss technique can be used with many of the new event attributes on other elements, given the abillity to inject such elements into another site.  The solution is for sites to use whitelist based filtering that only allows known, safe elements and attributes

[16:20:00.0000] <Philip`>
http://sla.ckers.org/forum/read.php?12,8085,27026#msg-27026

[16:20:01.0000] <Philip`>
refers to http://php-ids.org/

[16:21:00.0000] <Philip`>
where the idea seems to be act as a layer that detects dodgy requests, to prevent people exploiting XSS holes

[16:21:01.0000] <Philip`>
(where XSS holes are caused by forgetting to escape output, so the idea of whitelists is irrelevant because you weren't intending to let people output any sort of HTML at all)

[16:40:00.0000] <karlcow>
http://www.w3.org/2009/03/web-demo.xhtml


2009-03-23
[20:06:00.0000] <Hixie>
Lachy: kilts look great dude, what are you talking about

[21:35:00.0000] <annodomini>
What happened to the database specification that (I seem to recall) was a part of HTML5?

[21:35:01.0000] <annodomini>
The only reference I can find is openDatabase in http://www.whatwg.org/specs/web-apps/current-work/#the-window-object

[21:37:00.0000] <doublec>
annodomini, this? http://dev.w3.org/html5/webstorage/

[21:37:01.0000] <annodomini>
doublec: Yeah, that's it.

[21:38:00.0000] <annodomini>
I didn't realize it had been split out.

[21:38:01.0000] <doublec>
there's a post in the whatwg list about some of the things that have been split out

[21:42:00.0000] <annodomini>
Yeah, I see that now. It didn't mention "database" or "sql", so I didn't find it when I searched for those.

[22:06:00.0000] <annodomini>
Has there been any discussion of adding a mechanism (with appropriate security features) for reading and writing files from the user's filesystem?

[22:14:00.0000] <takkaria>
there has been briefly, but it's generally pretty quickly dismissed

[22:14:01.0000] <takkaria>
why would you want to?

[22:20:00.0000] <annodomini>
To implement an html editor directly in html, so that it could be portably used across browsers.

[22:22:00.0000] <MikeSmith>
annodomini: http://dev.w3.org/2006/webapi/fileio/fileIO.htm

[22:25:00.0000] <annodomini>
MikeSmith: Looks like the kind of thing I'm thinking of. What's the status of this? Has it been discussed seriously? Implemented anywhere?

[22:27:00.0000] <MikeSmith>
annodomini: it is just a proposal -- an individual editor's draft that doesn't have an official status at the W3C

[22:27:01.0000] <MikeSmith>
Opera proposal

[22:27:02.0000] <MikeSmith>
Opera may already actually implement something like it in Opera Mobile

[22:28:00.0000] <MikeSmith>
as far as discussion, there was some limited discussion, but Apple and Mozilla don't seem interested in implementing it

[22:28:01.0000] <MikeSmith>
annodomini: that guy to ask about it is virtuelv 

[22:28:02.0000] <MikeSmith>
when he wakes up

[22:29:00.0000] <MikeSmith>
he wrote it

[22:29:01.0000] <MikeSmith>
he's in Oslo

[22:29:02.0000] <annodomini>
MikeSmith: Thanks. I've found this thread that I'm reading through: http://lists.w3.org/Archives/Public/public-webapi/2008May/0065.html

[22:38:00.0000] <annodomini>
Yeah, looks like the security issues are pretty thorny (as expected), and this proposal doesn't do a good job of dealing with them.

[23:53:00.0000] <virtuelv>
/me reads backlog

[23:53:01.0000] <virtuelv>
file io in itself is not a risk

[23:54:00.0000] <virtuelv>
it is the binding between your system and the interfaces

[23:55:00.0000] <virtuelv>
(and no, "my" proposal didn't try to deal with it in the web context, given that I at first never intended it for the web)

[01:28:00.0000] <MikeSmith>
virtuelv: fwiw, might help if the draft actually made it clear that it's not intended for the web

[01:28:01.0000] <MikeSmith>
nice

[01:29:00.0000] <MikeSmith>
oops

[01:29:01.0000] <MikeSmith>
virtuelv: since the abstract starts out with "This document describes an interface for an abstract File I/O interface where web applications can interact with a file system..."

[02:23:00.0000] <annevk3>
Hixie, "half a driver's" -> "have a driver's"

[02:29:00.0000] <Hixie>
oops thanks

[02:34:00.0000] <Lachy>
Hixie, what's in an earthquake kit, and why would anyone steal it? (re http://twitter.com/Hixie/status/1371054800 )

[02:36:00.0000] <Lachy>
Hixie, also, how did you manage to get tircd up and running? I tried that about a week or two ago, but without success. My IRC client just wouldn't connect to localhost

[02:39:00.0000] <Philip`>
It's an earthquake *prevention* kit, according to http://ln.hixie.ch/

[02:39:01.0000] <Philip`>
I really can't imagine how that would work

[02:40:00.0000] <Philip`>
Maybe it contains an awful lot of duct tape, so you can stick the continental plates together and stop them wobbling against each other?

[02:41:00.0000] <jgraham>
/me wonders how an adoption agecy algorithm helps when your car has been broken into

[02:42:00.0000] <annevk3>
Philip`, how would any kind of tape help when they're pushing against each other?

[02:45:00.0000] <Lachy>
annevk3, obviously the tape would only help in the cases where they're pulling away from each other

[02:45:01.0000] <Philip`>
annevk3: There's no problem with the pushing because that's a nice stable non-quakey state - the problem is when they start sliding

[02:46:00.0000] <Lachy>
Philip`, no, when they're pushing together hard enough, they start to push upwards and make mountains

[03:07:00.0000] <jgraham>
Hixie: More to the point, surely if everyone involved fainted whilst climbing you could have a more serious accident than you suggest? After all the belayer is the only thing preventing the rope from running free so if the climber were to fall whilst the belayer was not holding the dead rope, you could fall the height climbed.

[03:09:00.0000] <Philip`>
What if you were climbing and then a dragon suddenly flew in and ate you?

[03:09:01.0000] <Philip`>
(That seems similarly likely to everyone fainting simultaneously)

[03:10:00.0000] <jgraham>
They might be characters in a Jane Austen novel who were libable to all swoon if they saw a particuarly rich, unattached,  gentleman

[03:11:00.0000] <Philip`>
Do characters in Jane Austen novels often go rock climbing?

[03:11:01.0000] <gsnedders>
Sadly not

[03:12:00.0000] <Philip`>
That's a shame

[03:13:00.0000] <jgraham>
(it seems more plausible that your belayer would faint and that, in a panic, you would loose your grip on the rock)

[03:36:00.0000] <Philip`>
/me imagines the discussion of broken IRIs in Atom would be more useful if people had test results of how feed readers parse URL-ish strings, or data about how many feeds have invalid IRIs

[03:37:00.0000] <annevk3>
I'm not sure

[03:38:00.0000] <jgraham>
Philip`: There is a well defined data-gathering mechanism for HTML 5 which is to say, people ay things that should be qualified with data and then you provide the data

[03:38:01.0000] <annevk3>
My main point is that I don't want two URL functions in a browser doing essentially the same thing and it's pretty clear that we need one for HTML that does it like HTML5

[03:39:00.0000] <annevk3>
I also wouldn't really want two URL functions in a feed reader and since feed readers ought to handle HTML...

[03:40:00.0000] <Philip`>
Web browsers already have a zillion functions (many for doing similar things in slightly different ways), so two functions for parsing URLs wouldn't hurt much

[03:41:00.0000] <annevk3>
Every one of those that can be avoided hurts in developer and QA time. Security analysis cost, etc.

[03:42:00.0000] <annevk3>
I'ts one of the reasons we're still trying to eliminate quirks if feasible. (Either by standardizing on them or removing them.)

[03:42:01.0000] <Philip`>
It hurts but not a huge amount, and it has to be balanced against the cost of changing every other spec and software product that uses URIs in non-HTML contexts

[03:42:02.0000] <jgraham>
/me grumbles about standards bodies that publish their standards in non-standard formats

[04:03:00.0000] <Lachy>
Hixie, it the status section of the web storage spec, it says to send mail to public-webapps-comments and links to the non-existent archives. It should be public-webapps

[04:04:00.0000] <annevk3>
Philip`, and that in turn has to be balanced against bugs in those software products and specs and how much of those bugs would be fixed by changing libraries and URL specs

[04:04:01.0000] <jgraham>
Is Julian's argument that allowing whitespace in URIs is bad because authors that choose to use it may experience poor syntax highlighting? Because that seems like it could be easily fixed by choosing not to use it

[04:04:02.0000] <Lachy>
/me wonders who Hish is and why he has to have a name messes with my IRC's autocomplete for "Hi<tab>"

[04:05:00.0000] <annevk3>
Highlighting and autolinking fails all over the place anyway due to most code not properly taking care of punctation (and even then it could be wrong if a URL actually did end with say a dot or comma)

[04:07:00.0000] <Philip`>
/me notes that you already have to handle spaces in URIs in order to write an HTTP client that can retrieve web pages, regardless of anything to do with HTML

[04:07:01.0000] <annevk3>
Philip`, why is that?

[04:11:00.0000] <Philip`>
annevk3: Because people put spaces in Location headers

[04:11:01.0000] <Philip`>
e.g. http://www.usafa.af.mil/ returns 302 with "Location: index.cfm?catname=AFA Homepage"

[04:12:00.0000] <annevk3>
cheers

[04:12:01.0000] <Philip`>
(That broke that page in my dmoz downloader since HttpClient throws an exception on invalid URIs)

[04:15:00.0000] <Philip`>
http://www.flightsimulator.nl/ gives "Location: RunScript.asp?Article_type=General%20News&p=ASP\Pg0.asp" where the \ is apparently illegal

[04:16:00.0000] <Philip`>
and there's other with "|" and "[" and "]"

[04:16:01.0000] <Philip`>
*others

[04:17:00.0000] <Philip`>
Oops, not true, the "[" and "]" weren't in redirects, they were just in dmoz's list

[04:19:00.0000] <Philip`>
(which I suppose is a separate issue - anything parsing dmoz's RDF dump of site listings needs to deal with invalid URIs too)

[05:46:00.0000] <annevk3>
I wonder whether http://lists.w3.org/Archives/Public/www-style/2005Mar/0102 and co still apply. Stuff Hixie wrote back then on normalization code no longer really applies I think. Every browser as code for that now.

[05:53:00.0000] <annevk3>
Ah, the problem is with step 1.

[05:56:00.0000] <annevk3>
Step 1 in RFC 3987 that is.

[05:56:01.0000] <annevk3>
HTML5 deals with that by not following RFC 3987 at all there.

[05:57:00.0000] <annevk3>
I doubt any software deals with that properly.

[05:57:01.0000] <jgraham>
/me wonders wwhat Joshue's point is

[05:57:02.0000] <annevk3>
http://lists.w3.org/Archives/Public/www-style/2005May/0024.html has more details by the way.

[05:59:00.0000] <annevk3>
jgraham, I think part of his point is that ARIA makes things more complex for disabled people by allowing a link to be marked up as button.

[06:00:00.0000] <jgraham>
annevk3: That seemed to be the case to me as well

[06:01:00.0000] <jgraham>
Isn't this exactly what was predicted would happen?

[06:01:01.0000] <annevk3>
Yes it was, but since HTML5 did not happen at the W3C nobody believed in it...

[06:01:02.0000] <annevk3>
And everyone else thought IE would never be updated so we'd forever need a hack for IE6 rather than hoping everyone would implement 'appearance' and such one day.

[06:03:00.0000] <annevk3>
I sometimes have the cynical thought that these people are paid to consult on these bolt-on accessibility things and therefore would never ever denounce them.

[06:07:00.0000] <jgraham>
I would never ever think anything like that. Never.

[06:07:01.0000] <jgraham>
In related newsm I still believe that sarcasm can work on the internet, despite available evidence

[06:08:00.0000] <annevk3>
jgraham, we just need implied start and end tags that work reliably across all readers so they can use custom style sheets to hide it if desired

[06:21:00.0000] <hsivonen>
validator.nu goes down for a kernel update reboot. html5.validator.nu stays up.

[06:23:00.0000] <hsivonen>
how do I tell via dump() if two scripts run in the context of the same global scope object without relying on variables set by me?

[06:23:01.0000] <hsivonen>
is there anything a script can read that is a different hash in different global scopes but the same hash is the same scope?

[06:25:00.0000] <Lachy>
hsivonen, do you mean in JavaScript, or some other language?

[06:26:00.0000] <hsivonen>
Lachy: browser-hosted JS

[06:26:01.0000] <hsivonen>
or Gecko-hosted JS even

[06:28:00.0000] <annevk3>
wrong channel?

[06:28:01.0000] <hsivonen>
perhaps

[06:28:02.0000] <annevk3>
though admittedly a lot of Gecko people are in this channel nowadays :)

[06:29:00.0000] <Philip`>
Sounds like a bad sci-fi movie plot - Invasion of the Gecko People!

[06:40:00.0000] <hsivonen>
html5.validator.nu goes down for kernel update (and may be insanely slow to come back up). validator.nu is up.

[07:27:00.0000] <hsivonen>
I wonder how MS intends to maintain their mode switching blacklist using telemetry when sites that are on the blacklist don't get the compat view button in the release version of IE8

[07:44:00.0000] <annevk3>
Now while the HTML5 URL handling is quirky in one respect handling href="bjo&#x000308;rn" the same regardless of how the document was originally encoded makes a whole lot of sense to me.

[07:48:00.0000] <MikeSmith>
hsivonen: I got a patch ready for http://html5.org/tools/web-apps-tracker?from=2889&to=2890 "Rename attributes for form submission to avoid clashes with existing usage."

[07:49:00.0000] <MikeSmith>
action -> formaction on input and button elements

[07:49:01.0000] <MikeSmith>
etc.

[07:49:02.0000] <hsivonen>
MikeSmith: great!

[07:49:03.0000] <hsivonen>
MikeSmith: I'll redeploy V.nu after you've checked in.

[07:49:04.0000] <MikeSmith>
OK

[07:50:00.0000] <MikeSmith>
I'll check it in now

[07:50:01.0000] <MikeSmith>
I already smoke-tested it against my local v.nu install and seems I didn't miss anything

[07:55:00.0000] <hsivonen>
ok. I think I have IE8 mode switching figured out

[08:00:00.0000] <zcorpan>
/me informs the xml core wg about web addresses

[08:00:01.0000] <annevk3>
zcorpan, I hope you're enjoying this

[08:01:00.0000] <zcorpan>
i've tried to ignore it mostly

[08:02:00.0000] <zcorpan>
although i realized that the xml core wg have spent the last couple of months (at least) discussing in telecons that they should update all xml specs in existence to reference LEIRI

[08:02:01.0000] <annevk3>
If CSS uses HTML5 URL handling everything should be fine there.

[08:03:00.0000] <annevk3>
Though CSS might be fine if it enforced UTF-8ness for the query bit

[08:03:01.0000] <annevk3>
Just like XMLHttpRequest

[08:06:00.0000] <zcorpan>
i wonder why some people argue along the lines of "why change a published spec?" instead of "why have both parseURL(url, encoding) and parseLEIRI(url) when having just he former will do fine"

[08:06:01.0000] <svl>
Hixie: huh, I tried part of that trick once (trying to open the gate going into a garage, as the one at the exit lane was broken), but it wouldn't give a ticket (nor open, which was the vexing part) without the weight of a car on the sensor before the gate.

[08:07:00.0000] <annevk3>
zcorpan, maybe we should form a club

[08:11:00.0000] <jgraham>
We could have some sort of principle that says implementors are more important than spec authors

[08:12:00.0000] <zcorpan>
hmm the boolean attribute discussion reminds me of aria

[08:12:01.0000] <zcorpan>
i think aria allows values like "undefined" and "false"

[08:13:00.0000] <annevk3>
fun

[08:13:01.0000] <zcorpan>
consistency++

[08:13:02.0000] <hsivonen>
mpilgrim: I think I've now completed the IE8 flow chart except I haven't been able to verify the position of the MS-maintained blacklist: http://hsivonen.iki.fi/ie8-mode.pdf

[08:14:00.0000] <hsivonen>
I think the most interesting bit is the Almost Standard Doctype? box on lower right

[08:15:00.0000] <hsivonen>
that is, *quirky* doctype plus X-UA-Compatible: IE=8 means IE8 *standards* mode

[08:15:01.0000] <annevk3>
<meta> overrides HTTP? sweet

[08:15:02.0000] <hsivonen>
annevk3: yeah

[08:15:03.0000] <hsivonen>
annevk3: See Ruby's Postulate :-)

[08:15:04.0000] <zcorpan>
hsivonen: i filed a bug about the combination quirky doctype and ie8 meta :(

[08:16:00.0000] <annevk3>
you and you're references I need to Google each time :p

[08:16:01.0000] <annevk3>
but yeah, that sounds about right

[08:16:02.0000] <jgraham>
hsivonen: Highlighting the shortest path to standards mode (any maybe other modes) would be good

[08:16:03.0000] <annevk3>
we actually encountered such a bug the other day with a site declaring euc_kr in HTTP and Opera and Safari being the only browsers that recognize it as euc-kr and therefore ignoring the more correct <meta>

[08:17:00.0000] <Philip`>
hsivonen: Have you looked at IE=EmulateIE8?

[08:17:01.0000] <annevk3>
(Opera and Safari are correct per Unicode, for those who care)

[08:17:02.0000] <hsivonen>
Philip`: I haven't

[08:17:03.0000] <Philip`>
It seems logical that that'd be equivalent to not giving any X-UA-Compatible, therefore it must be the case that it does something weird and crazy

[08:18:00.0000] <annevk3>
ouch, s/you're/your/

[08:18:01.0000] <jgraham>
The whole HTTP thing is a victory for theoretical utility over practical reality

[08:18:02.0000] <hsivonen>
aargh. I forgot IE=IE7

[08:18:03.0000] <jgraham>
Maybe CS should have a required psycology component

[08:18:04.0000] <jgraham>
Or at least a required HCI class

[08:19:00.0000] <annevk3>
I wonder how much failure of HTTP is due to the perceived need of content negotiation

[08:19:01.0000] <zcorpan>
hsivonen: aren't there two IE7 modes? one using the old engine and one using the new engine?

[08:19:02.0000] <annevk3>
I'm pretty sure that's what got us stuff like Content-Type

[08:19:03.0000] <Philip`>
zcorpan: I thought the old one was just what you got if you didn't install IE8

[08:19:04.0000] <annevk3>
before that we had magic bytes, such as <plaintext>

[08:20:00.0000] <jgraham>
annevk3: Well there is also the use cases like being able to send feeds as text/plain for debugging, for example

[08:20:01.0000] <jgraham>
which HTTP is designed to allow

[08:20:02.0000] <zcorpan>
Philip`: i thought ie8 had two ie7 modes

[08:20:03.0000] <annevk3>
jgraham, just move Content-Type to the content and call it <plaintext>

[08:20:04.0000] <zcorpan>
"IE7" and "EmulateIE7"

[08:21:00.0000] <jgraham>
annevk3: Doesn't really work if your ontent doesn't support it

[08:21:01.0000] <jgraham>
*content

[08:21:02.0000] <Philip`>
zcorpan: I remember reading that IE7 makes it render in IE7-bug-mode always, whereas EmulateIE7 makes it render in IE5-bug-mode if there's a quirky doctype else in IE7-bug-mode

[08:21:03.0000] <annevk3>
Anyway, "too late now" This will be my meme of the day.

[08:21:04.0000] <hsivonen>
zcorpan: as far as I can tell, IE=7 means IE7 standards and IE=EmulateIE7 means perform doctype sniffing like IE7 and decide quirks or IE7 standards

[08:21:05.0000] <Philip`>
(and the Emulate versions are preferred so that pages will be more compatible with other browsers)

[08:22:00.0000] <zcorpan>
hsivonen: ok

[08:22:01.0000] <Philip`>
(but people started promoting and using the feature before the Emulate options were added, so people use a random mixture of the two)

[08:23:00.0000] <annevk3>
It would be nice to have a Web-based version of that flowchart

[08:23:01.0000] <hsivonen>
annevk3: OmniGraffle's SVG export costs extra and sucked last I checked

[08:24:00.0000] <hsivonen>
annevk3: I intend to write this as <dl> some day

[08:24:01.0000] <annevk3>
I agree that SVG versions of flowcharts are never really great.

[08:24:02.0000] <hsivonen>
Philip`: there's no EmulateIE8

[08:25:00.0000] <Philip`>
hsivonen: There is in "strings -el mshtml.dll"

[08:27:00.0000] <hsivonen>
Philip`: I'm not sure if that's legal in my country. :-(

[08:27:01.0000] <annevk3>
So the insane algorithm leads to a total of 4 rendering modes? Ouch!

[08:27:02.0000] <annevk3>
hsivonen, you can however legally reverse engineer the value no?

[08:27:03.0000] <jgraham>
/me is not sure if anything is legal. Which seems like a problem somehow

[08:28:00.0000] <hsivonen>
I believe I'm on solid ground doing blackbox poking.

[08:29:00.0000] <hsivonen>
/me starts revising /doctype/

[08:30:00.0000] <zcorpan>
http://lists.w3.org/Archives/Public/public-xml-core-wg/2009Mar/0012.html

[08:31:00.0000] <annevk3>
zcorpan, well yes, but that's not a point against not making all things consistent, right?

[08:39:00.0000] <hsivonen>
I guess the HTML5 doctype is out of the bag, so I might as well recommend it.

[08:40:00.0000] <hsivonen>
this marks the first change to my doctype advice since late 2000.

[08:51:00.0000] <annevk3>
Given http://www.intertwingly.net/slides/2004/devcon/ it surprises me Sam is now advocating some kind of QNames solution in HTML

[08:53:00.0000] <annevk3>
http://www.intertwingly.net/slides/2004/devcon/96.html

[08:55:00.0000] <annevk3>
http://www.intertwingly.net/slides/2004/devcon/107.html "You won't find reality in in any specification" true, though at least we have progressed somewhat into writing specs that could become reality some day

[08:55:01.0000] <annevk3>
Re-reading that presentation still makes me laugh. It's a good pointer for people who say things are simple.

[08:59:00.0000] <Philip`>
hsivonen: I'm not sure it is here but I know there's stuff in the copyright law about allowing reverse engineering for interoperability so I just kind of assume it's probably okay and nobody's going to care

[09:23:00.0000] <hsivonen>
MikeSmith: something went wrong with V.nu redeployment. I'll investigate in the morning.

[09:34:00.0000] <hsivonen>
I've updated http://hsivonen.iki.fi/doctype/ ; reviews welcome

[09:34:01.0000] <hsivonen>
the position I'm taking with X-UA-Compatible is that I don't recommend IE=8

[09:37:00.0000] <Philip`>
hsivonen: "inadequete"

[09:37:01.0000] <hsivonen>
Philip`: thanks. that typo has been there for years...

[09:41:00.0000] <Philip`>
You should use publishing tools that report a fatal error if there are unresolved spell-checker failures

[09:42:00.0000] <Lachy>
hsivonen, my position on X-UA-Compatible is that you should use IE=Edge, unless you need compatibility with an older version of IE other than the latest. So IE=7 is ok if IE7 mode is needed for your site. But I agree that IE=8 should be avoided, at least until IE9 comes out

[09:43:00.0000] <annevk3>
my position is that you should not use it

[09:43:01.0000] <Lachy>
annevk3, if you need to use it, like when you're stuck on a blacklisted domain

[09:44:00.0000] <annevk3>
then I'd create a US company and sue MS

[09:44:01.0000] <hsivonen>
Lachy: if your site works in IE7 mode but not in IE8 mode, your site is broken and needs to be fixed

[09:44:02.0000] <annevk3>
/me blinks

[09:44:03.0000] <Lachy>
hsivonen, sure. But the whole point of X-UA-Compatible is that it gives you time to make that transition to more standards compliant code

[09:45:00.0000] <hsivonen>
Lachy: oh well. editing

[09:45:01.0000] <annevk3>
hsivonen, a TOC would help

[09:46:00.0000] <Philip`>
annevk3: Rather than suing them, you could just get your domain administrator to follow the steps to get removed from the list

[09:46:01.0000] <annevk3>
that's not nearly dramatic enough

[09:47:00.0000] <Philip`>
More likely to succeed, though

[09:47:01.0000] <hsivonen>
Lachy: fixed, thanks

[09:49:00.0000] <annevk3>
Philip`, for some value of succeed

[09:49:01.0000] <hsivonen>
Do they use the Public Suffix List for stuff like .co.uk?

[09:50:00.0000] <hsivonen>
I've been trying to get iki.fi on the Public Suffix List, but the people in charge at IKI are IETF-oriented.

[09:51:00.0000] <Philip`>
hsivonen: They use some kind of list (IETldCache) that contains stuff like police.uk, nhs.uk, kent.sch.uk, though it doesn't have uk or co.uk

[09:52:00.0000] <Philip`>
hsivonen: http://philip.html5.org/data/ie8-tlds.txt

[09:53:00.0000] <hsivonen>
Philip`: thanks

[09:53:01.0000] <annevk3>
that doesn't look nearly complete enough

[09:54:00.0000] <Philip`>
hsivonen: (That's stored in the same binary format as the compatibility domain list)

[09:54:01.0000] <annevk3>
why is +ACE-nu.nl listed twice and what does it mean?

[09:54:02.0000] <Philip`>
Don't ask me :-)

[09:55:00.0000] <gsnedders>
Philip`: why is +ACE-nu.nl listed twice and what does it mean?

[09:55:01.0000] <Philip`>
This is just the complete list of strings from C:\Users\Whoever\AppData\Roaming\Microsoft\Windows\IETldCache\index.dat

[10:17:00.0000] <annevk3>
wow http://thedailywtf.com/Articles/Where-the-Wild-Web-Things-Are.aspx

[10:18:00.0000] <annevk3>
-- http://twitter.com/collinjackson/status/1376236042

[10:22:00.0000] <Philip`>
Looks like all the literal "&lt;"s and "&gt;s" got mangled into "<" and ">" in that blog post

[10:22:01.0000] <Philip`>
which makes it unnecessarily confusing

[10:23:00.0000] <gavin>
needs more XSLT

[10:25:00.0000] <Hixie>
Lachy: an earthquake emergency kit is like a regular emergency kit (has food rations, a first aid kit, a mechanical radio, etc), but for people in earthquake zones

[10:25:01.0000] <Hixie>
Philip`: an earthquake prevention kit is an earthquake emergency kit, but it prevents earthquakes because naturally you'd only experience a serious earthquake when unprepared

[10:26:00.0000] <Hixie>
jgraham: while climbing if the belayer faints the grigri will lock and the rope will stop moving.

[10:29:00.0000] <Lachy>
Hixie, does an earthquake prevent kit also prevent other geological disasters?

[10:30:00.0000] <jcranmer>
Lachy: it should protect from volcanoes as well

[10:30:01.0000] <Lachy>
I'm just wondering if there's a correlation between your prevention kit being stolen and the volcano erruption that wasn't prevented in Alaska today.

[10:31:00.0000] <Hixie>
svl: interesting, the guy's car was in fact on the sensor, maybe you're right

[10:31:01.0000] <jcranmer>
things like tornadoes, floods, and hurricanes need completely different prevention mechanisms

[10:32:00.0000] <Hixie>
Lachy: i have no idea. i would imagine it wouldn't prevent any disasters except those that it would actually help me with, so i guess it's a coincidence

[10:44:00.0000] <Hixie>
http://www.reddit.com/r/web_design/comments/86ogf/multiple_web_technologies_on_one_page/

[10:51:00.0000] <Philip`>
"that site is craptastic example of how NOT to make an html 5 site" - clearly all new web technologies are part of HTML 5

[10:52:00.0000] <Hixie>
yeah we need to figure out some new branding mechanism

[10:52:01.0000] <Hixie>
i'm torn between "web 3.0" and "web 5.0"

[10:53:00.0000] <Hixie>
i'm thinking maybe we should just define "web 3.0" as a subset of the new stuff and have three levels from web 3.0 to web 5.0

[10:53:01.0000] <Hixie>
where web 5.0 is all our new techs

[10:54:00.0000] <Philip`>
Why not pave the cowpaths and call everything HTML 5?

[10:58:00.0000] <gavin>
I think you should pave all foreseeable future cowpaths

[10:59:00.0000] <Philip`>
Turn all the cow fields into giant parking lots

[11:06:00.0000] <annevk3>
Hixie, imo Web X does not make much sense if it does not also include HTTP, CSS, etc.

[11:07:00.0000] <Philip`>
"Web X" suffers from the negative opinions that exist towards Web 2.0

[11:07:01.0000] <annevk3>
Hixie, I do not really have better suggestions though

[11:07:02.0000] <Hixie>
annevk3: it would include HTTP, CSS, etc

[11:08:00.0000] <Hixie>
in particular it would include the new CSS animation stuff at some level

[11:08:01.0000] <Hixie>
Philip`: calling things HTML5 leads to people being confused when they look at the spec called HTML5

[11:08:02.0000] <annevk3>
In that case I suppose it makes sense to redefine "Web X" to refer to its technologies rather than type of usage

[11:17:00.0000] <annevk3>
Hixie, is the IETF meeting going on now as well?

[11:17:01.0000] <Hixie>
i think so, yes

[11:17:02.0000] <Hixie>
i'm not going to that

[11:17:03.0000] <Hixie>
i'm going to some informal thing on wednesday with sam, lisa, dan, and others

[11:18:00.0000] <annevk3>
ah ok

[11:18:01.0000] <annevk3>
DanC mentioned WebSockets in http://lists.w3.org/Archives/Public/www-tag/2009Mar/0140.html so I assumed you'd be there. Clearly this doesn't work that way :)

[11:19:00.0000] <Hixie>
speaking of the ietf

[11:19:01.0000] <Hixie>
did you know

[11:19:02.0000] <Hixie>
that since meetings aren't supposed to be productive

[11:19:03.0000] <Hixie>
they actually prevent you from publishing anything while their meetings are going on?

[11:19:04.0000] <Hixie>
the official version of the websockets spec is falling behind because the ietf won't let me update it

[11:21:00.0000] <annevk3>
for websockets a WHATWG version would be nice I think, btw

[11:21:01.0000] <annevk3>
especially since text/plain is annoying to read

[11:21:02.0000] <Hixie>
holy crap! they turned off the blocking! woo, it just updated

[11:21:03.0000] <Hixie>
yeah i think i might do that

[11:22:00.0000] <Hixie>
gonna wait a bit to see what happens though

[11:22:01.0000] <Hixie>
i was thinking of just making an uber WHATWG spec with all the files that are in this source document in one place

[11:22:02.0000] <Hixie>
no, wait, it didn't update

[11:22:03.0000] <Philip`>
Maybe they block updates to make sure everyone at the meeting has time to read the same document so they can agree on what they're talking about, rather than some people reading this morning's version and some people reading last week's version and all getting confused

[11:22:04.0000] <Hixie>
wtf

[11:22:05.0000] <Hixie>
man the ietf is annoying

[11:23:00.0000] <annevk3>
http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol is from Feb 25

[11:23:01.0000] <Hixie>
Philip`: maybe, but then the solution is to give up on meetings, not block progress even from those who aren't there

[11:23:02.0000] <Hixie>
i got an e-mail saying draft-hixie-thewebsocketprotocol-05 is published

[11:23:03.0000] <Hixie>
but it doesn't seem to be

[11:24:00.0000] <annevk3>
05? hmm, that vies me 03

[11:24:01.0000] <annevk3>
s/view/gives/

[11:24:02.0000] <Hixie>
yeah

[12:26:00.0000] <Hixie>
wow

[12:26:01.0000] <Hixie>
tgbyhn deleted his entire reddit account

[12:27:00.0000] <Hixie>
it is telling i think that people who want to complain about html5 often only do so anonymously

[12:27:01.0000] <Hixie>
and refuse to back up their points when they are pressed

[12:29:00.0000] <annevk3>
pointer to reddit thread?

[12:30:00.0000] <virtuelv>
annevk3: when someone deletes their account, their posts vanish

[12:30:01.0000] <virtuelv>
(sort of, you used to be able to recover them by appending /.rss to the url in question

[12:33:00.0000] <Hixie>
annevk3: http://www.reddit.com/r/technology/comments/85acf/microsoft_is_ignoring_web_standards_and_should/c08agbv

[12:33:01.0000] <Hixie>
in the future i'll always quote their messages in mine, i guess :-)

[12:38:00.0000] <annevk3>
http://www.reddit.com/user/tgbyhn still exists

[12:39:00.0000] <svl>
http://www.google.com/search?q=cache:http://www.reddit.com/r/technology/comments/85acf/microsoft_is_ignoring_web_standards_and_should/ has (most of) the deleted comments

[13:04:00.0000] <jgraham>
Hixie: I had forgotton about the existence of grigris because I have only used one about once and most people I have spoken to consider them more dangerous than a normal belay device

[13:05:00.0000] <jgraham>
The reason being that it is very hard to control most grigris when the climber is coming down

[14:15:00.0000] <Hixie>
jgraham: doesn't seem that hard to me, but ok

[14:25:00.0000] <annevk3>
I wonder what is supposed to be wrong with the desire to interoperate even in case of error.

[14:27:00.0000] <Hixie>
it's not pretty?

[14:28:00.0000] <annevk3>
Granted, reality often sucks.

[14:28:01.0000] <Hixie>
sometimes i kinda just want to be like "web standards development is not a game, if you're not willing to make hard choices that compromise spec purity when doing so is needed to make users have a better experience, get out of the water and get back into the wading pool"

[14:29:00.0000] <Hixie>
i'm so tired of having to argue with people who still seem to think the web is a research project

[14:46:00.0000] <mpilgrim>
hsivonen: on the new http://hsivonen.iki.fi/doctype/ i think the phrase "(e.g. mit.edu!)" needs some external citation -- i read the irc backscroll so i know the reference, but other people wouldn't

[14:51:00.0000] <olliej>
sicking: so one issue with the async lock for local storage (that i don't believe has been addressed) is what happens to closures that capture the localstorage reference

[14:52:00.0000] <sicking>
olliej, i did in fact comment on that

[14:53:00.0000] <sicking>
olliej, if the object passed to the callback is accessed after the callback has ended we need that to fail

[14:53:01.0000] <sicking>
olliej, and define how it fails

[14:53:02.0000] <sicking>
olliej, and define what happens if you access that object inside another callback (should the object get reenabled again, or should a new one be created on each callback)

[14:54:00.0000] <sicking>
olliej, the important part is accessing the storage after the callback is failing. The rest is less important IMHO, but needs to be defined

[14:55:00.0000] <olliej>
sicking: that's what i was thinking -- sorry i must have missed that email

[14:55:01.0000] <Hixie>
btw if anyone is keeping track of examples of microsoft knowingly hurting web standards, note the way this e-mail was never actually followed up on, despite the promise therein: http://lists.w3.org/Archives/Public/public-html-comments/2008Jun/0020.html

[14:55:02.0000] <sicking>
olliej, it was a long email :)

[14:55:03.0000] <olliej>
sicking: heh

[15:02:00.0000] <mpilgrim>
hsivonen: another +1 for adding a table of contents, and perhaps auto-generating nested section numbers like html5 spec does

[15:08:00.0000] <mpilgrim>
someone needs to make philip's ie8 blacklist into a web service

[15:09:00.0000] <mpilgrim>
validator.nu could hook into it to tell you what rendering mode IE8 would use for your site

[15:16:00.0000] <roc>
Hixie: shouldn't someone follow up on that now?

[15:16:01.0000] <sicking>
Hixie, did they add API to support explicit locking and unlocking?

[15:17:00.0000] <annevk3>
they don't have that

[15:17:01.0000] <annevk3>
they have an event that is dispatched when stuff is written to disk

[15:17:02.0000] <annevk3>
and have some remainingStorage attribute

[15:17:03.0000] <annevk3>
that was in the latest beta/rc, things might have changed in final

[15:17:04.0000] <roc>
I thought they had a commit() method

[15:18:00.0000] <roc>
ISTR they removed remainingStorage

[15:18:01.0000] <annevk3>
they used to have that, yes

[15:18:02.0000] <annevk3>
ISTR?

[15:18:03.0000] <roc>
they took commit() out?

[15:18:04.0000] <roc>
I Seem To Recall

[15:18:05.0000] <annevk3>
to my knowledge the latest RC did have remainingStorage and did not have commit()

[15:20:00.0000] <annevk3>
http://msdn.microsoft.com/en-us/library/cc197062(VS.85).aspx "confirms" that

[15:20:01.0000] <roc>
oh

[15:20:02.0000] <roc>
remainingSpace is no longer enumerable, but I guess it's still there

[15:20:03.0000] <roc>
After shipping the RC build we listened to feedback on our HTML 5 DOM storage implementation.  We acted on this feedback by making two changes to IE8‚Äôs DOM storage implementation so that we match the HTML 5 spec.  The first change is that we now return null and not undefined for keys that don‚Äôt exist in DOM storage.  The second change is that we removed the length and remainingSpace properties when iterating DOM storage using a for..in statement.

[15:21:00.0000] <annevk3>
there was a lot more feedback, including how to make their XML backend non-well-formed

[15:22:00.0000] <annevk3>
what Hixie pointed out above, and how storagecommit was not defined anywhere

[15:26:00.0000] <Philip`>
mpilgrim: I imagine the main difficulty is you'd have to run the service on a Windows machine with IE8 and automatic updates

[15:26:01.0000] <Philip`>
(and I only have Linux boxes)

[15:27:00.0000] <Philip`>
Maybe it'd be a pretty trivial service since you just embed Trident in your service and read res://iecompat.dll/iecompatdata.xml

[15:27:01.0000] <Philip`>
(unless that's IE-only)

[15:31:00.0000] <gsnedders>
http://www.ietf.org/internet-drafts/draft-sneddon-atom-export-00.txt

[15:37:00.0000] <annevk3>
I thought you were doing useful work on HTTP parsing? :p

[15:38:00.0000] <gsnedders>
Oh, I was. This is just closer to being able to be published :P

[15:58:00.0000] <Hixie>
roc: their begin() and commit() methods are not for threading

[15:59:00.0000] <annevk3>
(they don't have them anymore)

[15:59:01.0000] <Hixie>
oh they dropped those?

[15:59:02.0000] <Hixie>
interesting

[16:00:00.0000] <annevk3>
I think begin() is implicit and commit() is prolly run at some timeout at which point they dispatch the storagecommit event.

[16:00:01.0000] <Hixie>
begin() is definitely not implicit

[16:00:02.0000] <Hixie>
they have no implicit locking

[16:00:03.0000] <Hixie>
that's one of the problems

[16:01:00.0000] <annevk3>
Well, they must have something now...

[16:01:01.0000] <Hixie>
why?

[16:02:00.0000] <Hixie>
if you run the following two scripts in two different windows in IE8:

[16:02:01.0000] <Hixie>
   localStorage.foo = 0; while (true) localStorage.foo = parseInt(localStorage.foo) + 1;

[16:02:02.0000] <Hixie>
   var x = 0; while (localStorage.foo == localStorage.foo) x += 1; x  

[16:02:03.0000] <Hixie>
the second will return.

[16:03:00.0000] <Hixie>
so they have no implicit cross-frame locking as far as i can tell

[16:04:00.0000] <annevk3>
sorry, nm

[16:04:01.0000] <roc>
we don't want to follow IE8 down this road

[16:04:02.0000] <annevk3>
I'm tired from breaking my head over URLs

[16:05:00.0000] <annevk3>
and I've no real opinion on this anyway other than that I think it'd be a annoying if we changed localStorage again

[16:06:00.0000] <Hixie>
well IE8 doesn't implement the spec

[16:09:00.0000] <annevk3>
Hixie, by that argument we can break <canvas>

[16:09:01.0000] <annevk3>
Hixie, afaict IE8 has a usuable impl

[16:09:02.0000] <Hixie>
oh i wasn't making an argument

[16:10:00.0000] <Hixie>
just an observation

[16:10:01.0000] <annevk3>
they do not allow all possible key/value strings, they have a custom DOM attribute and event, the solution works poorly for multiple top-level browsing contexts, but other than that it pretty much just works as described

[16:12:00.0000] <Hixie>
i don't think most authors will notice, sadly

[16:13:00.0000] <annevk3>
the multiple top-level browsing contexts part?

[16:13:01.0000] <Hixie>
any of those issues

[16:15:00.0000] <annevk3>
I'm sort of surprised neither Microsoft nor Google brought up the issues with localStorage and multiple processes

[16:15:01.0000] <annevk3>
(when it was re-designed)

[16:16:00.0000] <Hixie>
google is who did bring up the issue :-)

[16:16:01.0000] <Hixie>
though originally with workers

[16:16:02.0000] <Hixie>
it's not a HUGE problem with top-level browsing contexts

[16:16:03.0000] <Hixie>
just a bit of additional latency

[16:17:00.0000] <gsnedders>
Hixie: You just use pico from pine?

[16:17:01.0000] <Hixie>
hm?

[16:17:02.0000] <gsnedders>
Hixie: As a message editor?

[16:17:03.0000] <gsnedders>
(really random question)

[16:17:04.0000] <Hixie>
i just use pine

[16:17:05.0000] <Hixie>
occasionally escaping to emacs if things get complicated

[16:18:00.0000] <gsnedders>
pine opens up another program, by default pico, to write messages

[16:18:01.0000] <Hixie>
ok

[16:18:02.0000] <Hixie>
it says "PINE" at the top of my editor window

[16:18:03.0000] <annevk3>
Hixie, ah yeah, the spec mentions that already

[16:19:00.0000] <Philip`>
About http://www.w3.org/mid/op.uq9oyuqd64w2qv‚äôaooc : perhaps it would be useful to say what happens if you a.setAttribute('href', 'http://www.example.com/zero\u0000here/') since that seems more like what the question intended

[16:20:00.0000] <annevk3>
didn't I answer that too?

[16:21:00.0000] <annevk3>
anyway, thinking about it some more I'm not sure that'd work either, though setting window.location might

[16:21:01.0000] <Philip`>
Oh, right, I didn't notice that sentence

[16:24:00.0000] <Hixie>
woo, http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol now redirects to -05

[16:24:01.0000] <Hixie>
i wonder why that suddenly works again

[16:24:02.0000] <Hixie>
maybe my whining to them actually had an effect

[16:35:00.0000] <Philip`>
Dotnetdotcom.org says they're in the process of putting their data on http://aws.amazon.com/publicdatasets/ , which should be good since you could process the data on EC2 without downloading anything

[16:36:00.0000] <Philip`>
(where "their data" is a 9 million page sample from a 7 billion page crawl)

[16:40:00.0000] <gsnedders>
/me wonders whether uninstalling specific things is the right way to reduce clutter on this computer, with the amount of clutter, instead of uninstalling all and starting again

[16:46:00.0000] <mpilgrim>
Philip` of course i was thinking of running the service on an app hosting provider like appengine and just updating it once a day from an auto-updating windows machine

[16:47:00.0000] <mpilgrim>
but i don't have an always-on windows machine, so i can't do it

[16:51:00.0000] <annevk3>
are there any cool people still running Windows anyways?

[16:56:00.0000] <Hixie>
i wonder if the http people have complained to the ietf tools people about the submission tool using a GET request for posting confirmation


2009-03-24
[17:12:00.0000] <annevk3>
Hixie, arguably the twitter message should be prefixed with the actual spec it affects, not "HTML5" for all

[17:27:00.0000] <Hixie>
annevk3: my script doesn't know which spec it affects

[20:05:00.0000] <heycam>
Hixie, i don't think i'll get a chance to work on Web IDL this month, as i indicated earlier, so please adjust your expectations accordingly :)

[20:05:01.0000] <heycam>
(higher priority things have been taking up my time)

[20:06:00.0000] <Hixie>
k

[20:06:01.0000] <Hixie>
any idea what a more realistic ETA would be? (i prefer a pessimistic ETA, so that there is little chance of the timetable being wrong)

[20:08:00.0000] <heycam>
pessimistically, maybe july?  i'd hope to get some time to allocate to it before then though.

[20:08:01.0000] <Hixie>
k

[20:09:00.0000] <Hixie>
/me updates his timetable

[20:10:00.0000] <Hixie>
what's your job situation these days? still doing your PhD?

[20:10:01.0000] <heycam>
that's right

[20:11:00.0000] <heycam>
working hard to get the "work" done so i can concentrate on writing up

[20:11:01.0000] <Hixie>
cool

[20:12:00.0000] <heycam>
speaking of which, better get back to it, spent too much of this morning replying to emails and so on already :)

[20:12:01.0000] <Hixie>
re the whitelisting thing, btw, contradicting other specs has never stopped the SVGWG before, so i don't know why it would start being an issue now :-)

[20:13:00.0000] <Hixie>
(q.v. xlink, css, etc)

[20:13:01.0000] <heycam>
different constituency, for one

[20:13:02.0000] <Hixie>
and re your other point, namely that html5 shouldn't set itself up to be contradicted -- i expect by the time html5 is rec, it'll be obsolete

[20:14:00.0000] <heycam>
seems like a very zen approach to standards work, or something :)

[20:14:01.0000] <Hixie>
the goal isn't standards

[20:14:02.0000] <Hixie>
standards are just the tool

[20:15:00.0000] <heycam>
sure

[20:16:00.0000] <heycam>
perhaps that points to issues with the W3C rec track process?  or problems with interpretation about what getting rec means.

[20:16:01.0000] <heycam>
hmm, i keep typing "rect" instead of "rec". too much svg i guess. :)

[20:16:02.0000] <Hixie>
the w3c rec track process has many, many issues

[20:16:03.0000] <heycam>
*getting to rec

[20:16:04.0000] <Hixie>
i'm not really interested in trying to fix them at this point

[20:16:05.0000] <Hixie>
too many people are too invested in the process

[20:17:00.0000] <Hixie>
(e.g. i don't think we should have per-document maturity, i don't think it makes sense to have a spec that has no maintenance effort yet is still in use, i don't think versioning specs makes sense...)

[20:18:00.0000] <Hixie>
(people exit CR with test suites that are frankly laughable, e.g. SVG Tiny 1.2; other specs have laughably few implementation requirements, e.g. HTML4)

[20:19:00.0000] <Hixie>
anyway

[20:19:01.0000] <Hixie>
bbiab, gotta cycle home

[20:19:02.0000] <heycam>
later

[21:20:00.0000] <shepazutoo>
wow, Hixie, "contradicting other specs has never stopped the SVGWG before" (q.v. xlink, css, etc)... first, those were almost certainly mistakes rather than purposeful contradictions, and second, you're acting like the current SVG WG is the same set of companies and individuals that wrote the SVG 1.1 spec, which you know to be false... can you please drop the political histrionics?

[21:22:00.0000] <shepazutoo>
we're acting in good faith to correct some past errors, and to work with other WGs and with browser vendors to make all the specs align usefully

[21:26:00.0000] <Hixie>
i think you may have missed the smiley

[21:27:00.0000] <roc>
a smiley is not a "get out of jail free card" to be annoying

[22:09:00.0000] <MikeSmith>
we need an ascii symbol for flipping somebody the bird

[22:10:00.0000] <MikeSmith>
.!.

[22:11:00.0000] <shepazu>
..|.,

[22:13:00.0000] <shepazu>
maybe that's too literalist

[00:09:00.0000] <Hixie>
huh

[00:09:01.0000] <Hixie>
it turns out there can only be one mutex for localStorage and cookie handling for an entire browser

[00:09:02.0000] <Hixie>
you can't do it on a per-origin basis

[00:14:00.0000] <Hixie>
because different origins can be running on the same event loop, and so that would lead to deadlock situations

[00:14:01.0000] <Hixie>
and you cant do it on the transitive closure of origin and unit of related browsing contexts

[00:14:02.0000] <Hixie>
because while one group is locked, another could join it

[00:17:00.0000] <hsivonen>
Hixie: so should a browser lock both cookies and localStorage until script completion when a script first accesses either?

[00:17:01.0000] <Hixie>
that appears to be the only way to solve the problem, at least for cookie

[00:17:02.0000] <hsivonen>
Hixie: is it OK to release the lock between two scripts in one browsing context?

[00:18:00.0000] <hsivonen>
Hixie: or between intervals in one document?

[00:18:01.0000] <Hixie>
i think the lock would be released at the end of each task

[00:18:02.0000] <hsivonen>
Hixie: presumably even in single-threaded browsers the values can change in those spots

[00:19:00.0000] <hsivonen>
aside: I've got the execution order right in http://hixie.ch/tests/adhoc/dom/level0/write/003.html but the test fails because later scripts fail to update the variable

[00:19:01.0000] <hsivonen>
I'm puzzled

[00:20:00.0000] <Hixie>
the test might be wrong

[00:20:01.0000] <hsivonen>
I checked in a debugger that all scripts see the same global scope object

[00:20:02.0000] <hsivonen>
I'm puzzled

[00:20:03.0000] <hsivonen>
I wonder if a security check fails somewhere for some reason even if the global scope is the same

[00:21:00.0000] <hsivonen>
Hixie: well, obviously, my impl is wrong if shipped browsers update the variable for all scripts

[00:22:00.0000] <Hixie>
ah, yes, if other browsers pass the test it is likely right

[00:23:00.0000] <hsivonen>
/me has still 17 unit tests to go with fixing namespaceURI, localName and getElementsByTagNameNS for HTML nodes

[00:28:00.0000] <hsivonen>
hrm. still failed to deploy Mike's formmethod etc. patch :-(

[00:28:01.0000] <MikeSmith>
hsivonen: some problem with it? or you mean you just haven't had time yet?

[00:28:02.0000] <hsivonen>
MikeSmith: after the deployment process, the servers still run the wrong code

[00:29:00.0000] <MikeSmith>
whacky

[00:31:00.0000] <hsivonen>
MikeSmith: oops. sorry. my test was wrong. and was wrong yesterday, too. the code is now deployed. Thanks!

[00:31:01.0000] <MikeSmith>
ah cool

[00:31:02.0000] <hsivonen>
now I should also update the spec snapshot, but that tends to be tricky, because the spec changes in unexpected ways

[00:32:00.0000] <MikeSmith>
which spec snapshot?

[00:32:01.0000] <hsivonen>
MikeSmith: the one that is mined for UI strings

[00:32:02.0000] <MikeSmith>
ah

[00:33:00.0000] <MikeSmith>
yeah, that seems like it might be a bit fragile

[00:33:01.0000] <MikeSmith>
or could be, I mean

[00:56:00.0000] <hsivonen>
Hixie: is there a reason why the spec doesn't say that getAttributeNode lower-cases the argument

[00:56:01.0000] <hsivonen>
Hixie: failing to do so seems to fail Acid3

[00:56:02.0000] <Hixie>
really?

[00:56:03.0000] <Hixie>
i'm hoping Attribute nodes get removed altogether

[00:56:04.0000] <Hixie>
(which is allowed in acid3)

[00:56:05.0000] <hsivonen>
Hixie: well, at least I'm reading a test case that claims to copy Acid3

[00:57:00.0000] <hsivonen>
Hixie: http://mxr.mozilla.org/mozilla-central/source/content/base/test/test_bug199959.html

[00:58:00.0000] <hsivonen>
Hixie: getAttributeNode should lower-case, right?

[00:58:01.0000] <Hixie>
i have no idea off hand

[00:59:00.0000] <Hixie>
i thought it was the setters that lowercased

[00:59:01.0000] <Hixie>
i don't think much content cares about Attribute nodes

[00:59:02.0000] <zcorpan>
hsivonen: acid3 doesn't seem to test mixed case with getAttributeNode

[00:59:03.0000] <hsivonen>
I don't even understand what I did to make that test fail

[01:00:00.0000] <hsivonen>
zcorpan: ok

[01:00:01.0000] <hsivonen>
I guess I should test what other browsers do

[01:02:00.0000] <zcorpan>
hmm weird... opera seems to change the case of the attribute upon getAttributeNode 

[01:03:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/42

[01:04:00.0000] <hsivonen>
http://hsivonen.iki.fi/test/moz/getAttributeNode.html

[01:05:00.0000] <hsivonen>
alerts [object Attr] in Firefox 3, Opera 10 and WebKit trunk

[01:05:01.0000] <zcorpan>
hsivonen: inspect the attribute's local name before and after getAttributeNode

[01:06:00.0000] <zcorpan>
hsivonen: in opera it's "foo" before and "Foo" after

[01:06:01.0000] <hsivonen>
that seems bad

[01:06:02.0000] <zcorpan>
yes

[01:06:03.0000] <hsivonen>
zcorpan: what do you use to check?

[01:07:00.0000] <zcorpan>
nodeName

[01:07:01.0000] <zcorpan>
actually just the live dom viewer :)

[01:07:02.0000] <zcorpan>
see above

[01:07:03.0000] <jgraham>
MikeSmith: You seen http://www.youtube.com/watch?v=6vgmp4MmfG0 ?

[01:08:00.0000] <hsivonen>
zcorpan: WebKit and Gecko seem sane here :-)

[01:09:00.0000] <zcorpan>
hsivonen: what do they do?

[01:09:01.0000] <hsivonen>
zcorpan: they return the attribute node without mutating it, so presumably they lower-case the getter argument

[01:10:00.0000] <zcorpan>
try with a mixed case attribute (using setAttributeNS)

[01:10:01.0000] <hsivonen>
actually, WebKit seems to do a case-insensitive compare

[01:10:02.0000] <hsivonen>
sigh

[01:10:03.0000] <hsivonen>
Gecko seems to lower case

[01:11:00.0000] <hsivonen>
whoa! IE8 has the same craziness as Opera

[01:11:01.0000] <zcorpan>
ie8 supports getAttributeNode?

[01:11:02.0000] <hsivonen>
zcorpan: seems so

[01:12:00.0000] <hsivonen>
I wonder if they create attribute nodes lazily and take the node name from the getter argument

[01:12:01.0000] <zcorpan>
hsivonen: my copy of webkit seems to lowercase

[01:13:00.0000] <zcorpan>
yeah that might be what we do

[01:13:01.0000] <hsivonen>
zcorpan: oh? what's your copy of WebKit?

[01:13:02.0000] <zcorpan>
the one that came with safari 4 beta

[01:13:03.0000] <zcorpan>
no wait

[01:13:04.0000] <hsivonen>
zcorpan: I'm trying http://software.hixie.ch/utilities/js/live-dom-viewer/saved/42 in a nightly from yesterday or so

[01:14:00.0000] <zcorpan>
the one that came with safari 3.2.1

[01:14:01.0000] <zcorpan>
ok 

[01:14:02.0000] <hsivonen>
zcorpan: with which test case?

[01:14:03.0000] <zcorpan>
same

[01:15:00.0000] <zcorpan>
i get null

[01:15:01.0000] <hsivonen>
ok. I wonder why they changed it.

[01:15:02.0000] <zcorpan>
maybe just to align with moz

[01:16:00.0000] <hsivonen>
zcorpan: but moz seems to lower case!

[01:16:01.0000] <MikeSmith>
jgraham: we could use the Flight of the Conchords guys in some standards discussions

[01:16:02.0000] <zcorpan>
uh right

[01:18:00.0000] <zcorpan>
hsivonen: what does getAttribute() do? case-insensitive or lower case?

[01:19:00.0000] <zcorpan>
hsivonen: i guess it'd be nice if it worked with <svg viewBox>

[01:19:01.0000] <hsivonen>
zcorpan: we definitely need to push this stuff down to HTMLElement instead of Element

[01:20:00.0000] <zcorpan>
ah

[01:20:01.0000] <zcorpan>
and also check the htmlness of the document?

[01:20:02.0000] <hsivonen>
zcorpan: reading Gecko's code without testing, it lower cases

[01:20:03.0000] <hsivonen>
zcorpan: that, too

[01:20:04.0000] <jgraham>
MikeSmith: Heh

[01:20:05.0000] <zcorpan>
yep lowercases in my safari too

[01:21:00.0000] <hsivonen>
zcorpan: createAttributeNode without NS will have to suck for SVG in HTML docs :-(

[01:22:00.0000] <Hixie>
createAttributeNode sucks regardless of namespace :-)

[01:23:00.0000] <Hixie>
zcorpan: you should just drop Attribute nodes altogether

[01:23:01.0000] <zcorpan>
yeah i've commented out createAttributeNode in web dom

[01:23:02.0000] <zcorpan>
i don't know how to deal with .attributes, though

[01:23:03.0000] <zcorpan>
and attributes in general

[01:23:04.0000] <zcorpan>
they're such a pita

[01:24:00.0000] <Hixie>
what's the problem?

[01:24:01.0000] <zcorpan>
maybe that i haven't wrapped my head around them yet

[01:25:00.0000] <Hixie>
i'd remove all the methods with Attr in their name that take Node objects

[01:26:00.0000] <Hixie>
and change .attributes to just return a DOMStringList or a list of objects that barely look like Node objects or something

[01:26:01.0000] <Hixie>
might be tough if content relies on any of this though

[01:27:00.0000] <Hixie>
ask bloo for stats :-)

[01:28:00.0000] <zcorpan>
Hixie: i've removed all such methods already, it seems

[01:28:01.0000] <Hixie>
cool

[01:28:02.0000] <zcorpan>
bloo?

[01:28:03.0000] <virtuelv>
zcorpan: brian wilson

[01:29:00.0000] <virtuelv>
he's one of your coworkers :D

[01:29:01.0000] <Philip`>
http://www.mtq.gouv.qc.ca/ - anchors[0].getAttributeNode("href").value.toLowerCase()

[01:30:00.0000] <Philip`>
http://www.corestyle-ent.de/ - $('commentFunc').setAttributeNode(href)

[01:31:00.0000] <Philip`>
plus a handful of others

[01:31:01.0000] <zcorpan>
:(

[01:32:00.0000] <Hixie>
you might be able to get away with just getAttributeNode and setAttributeNode and .attributes, with some very bare bones objects

[01:32:01.0000] <Hixie>
(Attr objects with just nodeName and value, maybe; i haven't checked what would be needed)

[01:33:00.0000] <Philip`>
You'd need createAttribute too

[01:36:00.0000] <Hixie>
really? people use that? i hate the web.

[01:37:00.0000] <Philip`>
http://www.corestyle-ent.de/ - document.createAttribute("href")

[01:37:01.0000] <olliej>
Hixie: heh, i was thinking that just the other day

[01:37:02.0000] <zcorpan>
hsivonen: i think i'll specify getAttributeNS to return null instead of empty string in case of absent attribute, just like getAttribute

[01:39:00.0000] <hsivonen>
zcorpan: Is that what browsers already do except for Gecko for XUL?

[01:39:01.0000] <zcorpan>
hsivonen: it's what opera does last i checked. i remember webkit returning the empty string last i checked

[01:39:02.0000] <zcorpan>
(which was some time ago)

[01:40:00.0000] <annevk3>
Hixie, the <dfn>obtain the storage mutex</dfn> sentences you added are not class=impl

[01:40:01.0000] <Hixie>
oops

[01:41:00.0000] <jgraham>
/me finds it mildly amusing that Hixie is still surprised by the web

[01:42:00.0000] <Hixie>
annevk3: you sure?

[01:42:01.0000] <annevk3>
Hixie, if it is in fact wrapped in a <div> the preceding paragraph can have its class attribute removed

[01:43:00.0000] <annevk3>
(it looks like it is wrapped in a <div>)

[01:43:01.0000] <Hixie>
oh, yeah, i forgot to remove that class when i moved the pause paragraph

[01:43:02.0000] <Hixie>
thanks

[01:48:00.0000] <zcorpan>
Hixie: btw, the dom-intro boxes are very useful. now i can actually use html5 as a reference when wanting to look up how something works :)

[01:48:01.0000] <Hixie>
cool

[01:50:00.0000] <zcorpan>
Hixie: s/title="impl"/class="impl"/g

[01:52:00.0000] <Hixie>
thanks fixed

[01:57:00.0000] <Hixie>
hmm

[01:57:01.0000] <Hixie>
maybe you can have one lock per origin

[01:57:02.0000] <Hixie>
since there's no way for one origin to synchronously do anything to another origin...

[01:57:03.0000] <Hixie>
or is there...

[01:58:00.0000] <annevk3>
I thought focus() was one of those things last we checked.

[01:58:01.0000] <Hixie>
does that really need to synchronously fire the focus event though?

[01:59:00.0000] <annevk3>
I'll bow out here :)

[02:00:00.0000] <zcorpan>
Hixie: things like "s[pos+1]" have a green underline

[02:03:00.0000] <Hixie>
reload

[02:08:00.0000] <Hixie>
ok nn

[02:08:01.0000] <annevk3>
nn

[02:08:02.0000] <zcorpan>
http://forums.whatwg.org/viewtopic.php?t=4065

[02:32:00.0000] <jgraham>
That forum post seems to raise a reasonable point

[02:33:00.0000] <zcorpan>
can't web workers just assume the latest and greatest?

[02:33:01.0000] <zcorpan>
actually i'd like all scripts to assume the latest and greatest

[02:33:02.0000] <annevk3>
what if something new is introduced beyond that?

[02:34:00.0000] <annevk3>
I do agree though

[02:35:00.0000] <Philip`>
zcorpan: If they assume JS 1.7, what happens when a future JS 1.x adds some more slightly-backwards-incompatible syntax?

[02:35:01.0000] <Philip`>
(You could assume 1.7 for workers because there's no legacy yet, but there will be some soon)

[02:35:02.0000] <zcorpan>
Philip`: same as what we do with html and css

[02:36:00.0000] <Philip`>
zcorpan: That only works because HTML and CSS ignore unknown syntax extensions, and JS doesn't

[02:36:01.0000] <jgraham>
The problem is that JS n+1 has different semantics to JS n

[02:37:00.0000] <jgraham>
This is not an ideal situation, but I don't think we can "fix" it this way

[02:38:00.0000] <Philip`>
More specifically, the problem is it has different semantics for code which compiles

[02:38:01.0000] <Philip`>
(Nobody seems to mind changing "fun(x) x+1" from a syntax error into a function - it's still a change in the semantics of that string, but not one that's going to break anything in practice)

[02:39:00.0000] <zcorpan>
i guess this was a problem also when going from js1.1...1.6

[02:39:01.0000] <zcorpan>
but we don't require a version flag to indicate 1.6

[02:39:02.0000] <Philip`>
They didn't introduce any new syntax

[02:39:03.0000] <Philip`>
(I think)

[02:41:00.0000] <Philip`>
(And you don't need a version flag to indicate all of 1.7's features, nor even for some of its syntax; only its backward-incompatible syntax, like new keywords)

[02:41:01.0000] <jgraham>
Yeah, things like yield

[02:41:02.0000] <jgraham>
and let

[02:41:03.0000] <Philip`>
(so it's not really any different to the previous versions)

[02:42:00.0000] <Philip`>
(except that the backward-incompatible syntax in previous versions was an empty set, and so the whole version string got optimised away into non-existence)

[02:43:00.0000] <zcorpan>
i guess there are some options:

[02:43:01.0000] <jgraham>
(you could always have in-band metadata to indcate the language version which would be a more flexile and better solution but it's not clear that we should try and force the issue by having odd requirements for workers)

[02:44:00.0000] <zcorpan>
(1) out of band version flag (currently in mozilla)

[02:44:01.0000] <zcorpan>
(2) in-band version flag

[02:44:02.0000] <Philip`>
(In-band metadata still doesn't survive copy-and-paste so it's not great)

[02:44:03.0000] <zcorpan>
(3) let 'yield' etc be overwritable (ugly but might work)

[02:44:04.0000] <Philip`>
(It's not a problem in practice yet because nobody uses JS 1.7, but it would matter if we started expecting everybody to use it, like how we expect everyone to use standards-mode doctypes)

[02:44:05.0000] <zcorpan>
(4) let things break

[02:45:00.0000] <jgraham>
(people use JS 1.7 but not really on the web)

[02:45:01.0000] <jgraham>
(just for things like Mozilla extensions)

[02:46:00.0000] <zcorpan>
on the web, how bad would (4) be?

[02:46:01.0000] <Philip`>
zcorpan: function f() { if (Math.random() < 0.5) eval("var yield = 1"); yield; } -- how would that work in your (3)?

[02:46:02.0000] <jgraham>
4) is a non option, 3) I don't really understand, 2) seems reasonable but won't pass with TC39 and 1) will happen regardless of what HTML 5 says (I guess)

[02:46:03.0000] <zcorpan>
Philip`: dunno

[02:47:00.0000] <Philip`>
You need to know at compile-time whether it's a keyword or an identifier

[02:48:00.0000] <zcorpan>
then i guess (3) doesn't work

[02:48:01.0000] <zcorpan>
jgraham: why is (4) not an option?

[02:48:02.0000] <Philip`>
I suppose you could make window.yield be a function, so you'd write yield(42) and could override it with var, so you wouldn't have any new keywords, but that wouldn't help with let

[02:48:03.0000] <jgraham>
zcorpan: You can't really let deployed scripts break and expect implementors to implement

[02:49:00.0000] <jgraham>
e.g. Mozilla have already shown that they are not prepared to do that

[02:49:01.0000] <Philip`>
http://google.com/codesearch/p?hl=en#PSg8XFiA2K0/plugins/letters/letters.js&q=%22var%20let%22%20lang:javascript

[02:49:02.0000] <Philip`>
http://google.com/codesearch/p?hl=en#1WvUcq2GgMs/mozilla/cmd/dialup/tools/cg/docs/ias/sltab.js&q=%22var%20let%22%20lang:javascript

[02:49:03.0000] <Philip`>
People use 'var let = ...' quite a bit for letters

[02:50:00.0000] <Philip`>
Actually just look at http://google.com/codesearch?q=%22var+let%22+lang:javascript , that's much easier

[02:51:00.0000] <Philip`>
or http://google.com/codesearch?q=var%5Cs%2Blet%5Cb+lang%3Ajavascript

[02:51:01.0000] <jgraham>
It is telling that the first result is a mozsilla regression test suite

[02:51:02.0000] <jgraham>
*mozilla

[02:51:03.0000] <Philip`>
I'm not sure what that's telling of

[02:52:00.0000] <Philip`>
particularly since all the rest look like real code in the wild

[02:52:01.0000] <jgraham>
It's telling of the fact that they have had bugs with breaking that case

[02:52:02.0000] <jgraham>
And can't afford to again

[02:53:00.0000] <jgraham>
Which backs up my statement that 4) is a non-option

[02:53:01.0000] <Philip`>
https://bugzilla.mozilla.org/show_bug.cgi?id=351515 - "yield" can no longer be used as an argument name (Mercury News page not rendered properly for FF2)

[02:53:02.0000] <zcorpan>
ok, so maybe enough would break for 'let' and 'yield'... that still leaves the options of in-band flag and renaming 'let' and 'yield' to something else that doesn't break as much (also ugly though)

[02:54:00.0000] <Philip`>
Take the C99 approach, and call them __let and __yield

[02:54:01.0000] <jgraham>
No

[02:54:02.0000] <Philip`>
Good

[02:54:03.0000] <jgraham>
Ther are limits

[02:55:00.0000] <roc>
I'm sure there are some free Unicode characters we could use

[02:55:01.0000] <roc>
the Perl6 approach

[02:57:00.0000] <Philip`>
U+22A2 RIGHT TACK (turnstile; proves, implies, yields; reducible)

[02:59:00.0000] <jgraham>
/me wants U+1D4F5 U+1D4EE U+1D4FD

[02:59:01.0000] <Philip`>
ùìµùìÆùìΩ?

[03:00:00.0000] <jgraham>
/me just sees replacement characters for that in irssi sadly

[03:00:01.0000] <Philip`>
/me too

[03:00:02.0000] <Philip`>
and on krijnh's logs

[03:00:03.0000] <Philip`>
Oh wait, no, it eventually loaded the right font for the logs

[03:01:00.0000] <zcorpan>
/me doesn't seem to have fonts for those glyphs

[03:01:01.0000] <Philip`>
jgraham: I like your idea - it would be a good way to shake out bugs in code that relies on UCS-2

[03:01:02.0000] <jgraham>
zcorpan: Try Code2001

[03:02:00.0000] <Philip`>
zcorpan: Try Arial Unicode MS

[03:02:01.0000] <jgraham>
Philip`: Sadly ES3.1 only requires Unicode 3.0

[03:02:02.0000] <jgraham>
/me isn't actually sure which font he is seeing

[03:02:03.0000] <Philip`>
jgraham: But our new version can require whatever it wants

[03:03:00.0000] <jgraham>
Philip`: True.

[05:01:00.0000] <Dashiva>
One thing I wonder about lastweek. Does he actually care about web development, or are we just the canvas for his latest masterpiece?

[05:34:00.0000] <hsivonen>
/me wonders if there's a logical reason why the window.frames is on window instead of being document.frames

[05:35:00.0000] <annevk3>
it returns window objects

[05:35:01.0000] <hsivonen>
ah

[05:35:02.0000] <annevk3>
except that it doesn't, it's just a synonym for window nowadays

[05:36:00.0000] <annevk3>
(except in Opera, where it still returns a list of window objects, for some versions)

[05:40:00.0000] <MikeSmith>
hsivonen: I notice that the whattf assertions.sch file is using the XPath id() function. But is id() ever actually going to work? Doesn't id() depend on either access to a DTD that declares what attributes are IDs, or xml:id?

[05:44:00.0000] <hsivonen>
MikeSmith: the HTML5 parser assigns IDness to id. for XML, there's an 'XHTML id processor' that assigns IDness to id

[05:50:00.0000] <MikeSmith>
hsivonen: I see. I ask in the context of trying to test the assertions.sch file just with jing

[05:50:01.0000] <MikeSmith>
I can't see any way in that case for jing to know that @id is an ID

[05:50:02.0000] <MikeSmith>
right?

[05:51:00.0000] <hsivonen>
MikeSmith: not without adding a SAX filter between the XML parser and Jing

[05:55:00.0000] <MikeSmith>
hsivonen: OK. well, I'm in the midst of adding rules for additional constraints on the content model of the label element

[05:55:01.0000] <MikeSmith>
and for checking labelable elements

[05:55:02.0000] <MikeSmith>
e.g., I have this test for the input element:

[05:56:00.0000] <MikeSmith>
ancestor::h:label[@for] and not(id(ancestor::h:label/@for))

[05:56:01.0000] <MikeSmith>
whoops

[05:56:02.0000] <MikeSmith>
no, not that

[05:58:00.0000] <MikeSmith>
this:

[05:58:01.0000] <MikeSmith>
ancestor::h:label[@for] and not(@id = ancestor::h:label/@for)

[05:58:02.0000] <annevk3>
/me thought Schematron was going away

[05:58:03.0000] <MikeSmith>
annevk3: it is already gone, actually

[05:59:00.0000] <MikeSmith>
as far as what v.nu is actually using

[05:59:01.0000] <MikeSmith>
hsivonen moved the assertions logic to Java

[06:00:00.0000] <MikeSmith>
but it seems worthwhile to try to keep the schematron stuff (assertions.sch file) synced up

[06:00:01.0000] <MikeSmith>
hsivonen: anyway, what I'm wondering is, should that test check both for the @id and @xml:id

[06:00:02.0000] <MikeSmith>
or should I change it to use id() instead

[06:03:00.0000] <hsivonen>
MikeSmith: IIRC, I assign IDness to xml:id, but I've considered removing xml:id support, since it complicates code more that it first appears

[06:03:01.0000] <hsivonen>
/me looks

[06:04:00.0000] <MikeSmith>
hsivonen: I'm personally happy to ignore xml:id if you are

[06:04:01.0000] <hsivonen>
MikeSmith: it seems my 'XHTML id processor' is also an 'xml:id processor'

[06:05:00.0000] <MikeSmith>
hsivonen: OK

[06:05:01.0000] <hsivonen>
MikeSmith: if you use id(), things should Just Work

[06:06:00.0000] <hsivonen>
MikeSmith: the filter is called nu.validator.xml.IdFilter in the util svn repo

[06:06:01.0000] <MikeSmith>
thanks

[06:19:00.0000] <jgraham>
Oh joy the blizzard has started again

[06:47:00.0000] <MikeSmith>
hsivonen: do you know if schematron supports generate-id() ?

[06:49:00.0000] <hsivonen>
MikeSmith: I have no idea. I don't even know what generate-id() is.

[06:49:01.0000] <MikeSmith>
OK

[06:49:02.0000] <MikeSmith>
wondering how to compare two nodes in schematron to test whether they are the same

[06:50:00.0000] <MikeSmith>
because id() returns a nodeset

[06:50:01.0000] <hsivonen>
MikeSmith: Schematron is hard for anything but the most trivial use cases... :-(

[06:51:00.0000] <MikeSmith>
yeah

[07:01:00.0000] <itpastorn1>
#Brucespringsteen Queen of the Supermarket - a banality with charm and really suggestive crescendo. What Love can do - not one I'll be wishing for in concert.

[07:38:00.0000] <annevk3>
whoa WebKit normalizes URLs

[07:40:00.0000] <annevk3>
but it does not conform to RFC 3987 either because it also does it for UTF-8

[07:40:01.0000] <annevk3>
Firefox and Opera both have HTML5 URL handling for CSS

[07:43:00.0000] <annevk3>
IE6 (all I have) does the path per HTML5 URL handling and for the query component it seems to transmit raw UTF-8 bytes rather than percent escaping them

[07:43:01.0000] <annevk3>
nevertheless, it does not normalize either

[07:46:00.0000] <zcorpan>
annevk3: http://www.xenocode.com/browsers/

[07:49:00.0000] <annevk3>
zcorpan, how do I use it?

[07:55:00.0000] <annevk3>
I should note that all browsers force the URL encoding flag to be UTF-8

[07:55:01.0000] <annevk3>
for CSS

[07:59:00.0000] <hsivonen>
zcorpan: "This service is unavailable on your device."

[08:01:00.0000] <annevk3>
(IE is actually sending raw UTF-8 bytes over HTTP. Can we simply upgrade HTTP to be UTF-8 without major cost?)

[08:04:00.0000] <hsivonen>
annevk3: next servers will have to compare HTTP method literals for canonical equivalence

[08:07:00.0000] <annevk3>
yeah, and headers in your native language!

[08:07:01.0000] <annevk3>
Japan is jumping up and down for that one, for sure

[08:08:00.0000] <Philip`>
X-UA-ÁüõÁõæ„Åó„Å™„ÅÑ: IE=9

[08:08:01.0000] <Philip`>
What's the Japanese for "X" and for "UA"?

[08:09:00.0000] <Dashiva>
What does the X mean, semantically?

[08:09:01.0000] <annevk3>
Philip`, the halfwidth equivalents

[08:10:00.0000] <annevk3>
Dashiva, "should not be used"

[08:10:01.0000] <jcranmer>
yes, that would be the best way

[08:10:02.0000] <jcranmer>
(I think X is for eXtension)

[08:10:03.0000] <Dashiva>
I would cook up Âà©Ê©ü for UA

[08:10:04.0000] <annevk3>
/me is amazed how bz keeps replying

[08:10:05.0000] <Dashiva>
(Two-part shortening of the full "User Agent")

[08:11:00.0000] <hsivonen>
I wonder if there's a way to tell MacPorts not to use FTP mirrors

[08:11:01.0000] <Philip`>
Dashiva: What's the Japanese for "the X factor"?

[08:11:02.0000] <Dashiva>
I don't know, my vocabulary is kinda weak

[08:11:03.0000] <jcranmer>
Âºµ is probably the closest to X

[08:12:00.0000] <jcranmer>
since Êã°ÂºµÂ≠ê is extension

[08:13:00.0000] <jcranmer>
Â≠ê might be good as well (it means child by itself)

[08:13:01.0000] <Dashiva>
I don't think that's the right kind of extension

[08:13:02.0000] <jcranmer>
Êã°Âºµ, then?

[08:14:00.0000] <jcranmer>
I'm relying on google's translate here

[08:14:01.0000] <Dashiva>
Well, there are some people who actually know Japanese in these circles

[08:14:02.0000] <Dashiva>
We could ask them :P

[09:39:00.0000] <gsnedders>
The PHP tokenizer is slow‚Ä¶

[09:41:00.0000] <jgraham>
gsnedders: Slow in a "this is written in PHP" way or slow in a "this is really slow PHP" way?

[09:41:01.0000] <gsnedders>
jgraham: Mainly the former

[09:41:02.0000] <jgraham>
/me doesn't really know why he is asking since he cares so little about PHP

[09:42:00.0000] <gsnedders>
/me cares more than he'd like to

[09:42:01.0000] <gsnedders>
Also: Kcachegrind is really slow with 450MB files

[09:47:00.0000] <Philip`>
gsnedders: The idea is to run it on a small representative data set, so you don't end up with pointlessly huge amounts of data to analyse :-p

[09:47:01.0000] <gsnedders>
Philip`: This is running it on the spec :P

[09:47:02.0000] <gsnedders>
Philip`: Which, as I'm sure you'd agree, is the only HTML document that actually matters in terms of how long it takes to parse :P

[09:48:00.0000] <Philip`>
gsnedders: The spec is very uniform, so you could run it on e.g. the first 100KB and the data would be just as good

[09:48:01.0000] <gsnedders>
Philip`: That's boring.

[09:50:00.0000] <Philip`>
gsnedders: It's not my fault that your problem has a perfectly adequate but boring solution

[09:51:00.0000] <Philip`>
Is the Internet/Trusted zone <input type=file> discussion the list really about Internet/Trusted, or is it about IE8-mode/IE7-mode?

[09:54:00.0000] <hsivonen>
it would be silly for the IE7 mode to be less secure

[09:54:01.0000] <Philip`>
And IE would never do anything silly?

[09:55:00.0000] <Philip`>
http://blogs.msdn.com/ie/archive/2009/03/20/rtm-platform-changes.aspx - "we changed from ALLOW to DENY for the Internet Zone ‚ÄúInclude local directory path when uploading files‚Äù security setting"

[09:55:01.0000] <Philip`>
so it does sound like a zone-related thing

[09:56:00.0000] <hsivonen>
ooh. the twitter FAIL WHALE is back

[09:56:01.0000] <annevk3>
/me wonders when the rest of the WHATWG cabal joins twitter

[09:57:00.0000] <Philip`>
/me hasn't even joined the blogosphere

[09:57:01.0000] <gsnedders>
So, I'm down to just over two minutes to tokenize the spec.

[09:57:02.0000] <annevk3>
two minutes?!

[09:58:00.0000] <annevk3>
wow, I thought the Python impl was slow

[09:58:01.0000] <hsivonen>
http://stackoverflow.com/questions/674184/why-is-xhtml-1-0-transitional-so-popular

[09:59:00.0000] <mpilgrim>
must. resist. fist of death.

[09:59:01.0000] <gsnedders>
annevk3: CPython is far quicker than the PHP interpreter

[09:59:02.0000] <Philip`>
gsnedders: What's the bottleneck in the PHP tokeniser?

[09:59:03.0000] <gsnedders>
annevk3: Also, this is me having only just started optimizing it

[10:04:00.0000] <gsnedders>
Philip`: Oh, just the design of parts of it in general :P

[10:04:01.0000] <gsnedders>
(I halved the time by going from treating it as UTF-8 to US-ASCII-with-random-bytes-above-7F)

[10:07:00.0000] <jgraham>
gsnedders: Who is going to use the PHP implementation?

[10:07:01.0000] <jgraham>
Or rather, how fast would it have to be for people to use the PHP implementation?

[10:07:02.0000] <jgraham>
And is that possible?

[10:08:00.0000] <gsnedders>
jgraham: Oh, it's probably quick enough already :P

[10:08:01.0000] <Philip`>
It can never be quick enough!

[10:08:02.0000] <gsnedders>
jgraham: Probably mainly sanitizing fragments

[10:09:00.0000] <jgraham>
gsnedders: It sounds pretty slow. I know the HTML5 spec is longer than most user entered content but you would still want pretty reasonable performance in a sanitizer

[10:10:00.0000] <gsnedders>
jgraham: If you really want perf., you don't use PHP.

[10:10:01.0000] <jgraham>
Like the python implementation seems barely fast enough

[10:10:02.0000] <jgraham>
gsnedders: I thought some large sites used PHP

[10:11:00.0000] <gsnedders>
jgraham: Plenty do.

[10:11:01.0000] <gsnedders>
jgraham: Plenty use Ruby, and that's slower.

[10:11:02.0000] <jgraham>
gsnedders: Is ruby really slower?

[10:11:03.0000] <jgraham>
(is ruby html5lib slower than PHP html5lib?)

[10:11:04.0000] <gsnedders>
jgraham: I think now it isn't, but when Rails really started to gain traction is was

[10:13:00.0000] <Philip`>
Nobody cares about performance - they start with ten visitors a day and there's no problem, and then they explode and have a million users a day and just buy a load of hardware because they haven't got time to rewrite their code, and it works perfectly well

[10:14:00.0000] <jgraham>
/me has never had a site explode

[10:14:01.0000] <jgraham>
But then I've never had 10 visitors a day either

[10:15:00.0000] <MikeSmith>
hsivonen: http://pastebin.com/m5e69774f

[10:15:01.0000] <MikeSmith>
hsivonen: patch to assertions.sch to capture additional contraints on <label> and descendants

[10:16:00.0000] <Philip`>
Performance matters if you've got some long-term stable service and it's worth spending time on optimisation, but in those cases you're probably working in an enterprise and therefore writing in Java, rather than using anything fun like Ruby or Python

[10:18:00.0000] <MikeSmith>
hsivonen: includes tests to check the id values of labelable descendants of a <label> that has a 'for' attribute

[10:20:00.0000] <jgraham>
Philip`: I'm not sure that's true

[10:20:01.0000] <MikeSmith>
hsivonen: tests by comparing to union of node sets. I don't know any other way to do it in XPath if the test needs to use id() rather than checking for explicit @id or @xml:id

[10:20:02.0000] <jgraham>
Depending on what you mean by "long term" and "stable"

[10:21:00.0000] <jgraham>
e.g. is Amazon a "long term stable service"?

[10:21:01.0000] <Philip`>
jgraham: I'm sure it's not true

[10:29:00.0000] <MikeSmith>
hsivonen: and did it that test to begin with because the spec seems to allow, e.g., <label for=foo>bar <input id=foo> </label>

[10:31:00.0000] <MikeSmith>
though i don't knwo why anybody would want to do that instead of just omitting that id on input entirely

[10:31:01.0000] <Hixie>
apparently for compatibility with IE

[10:36:00.0000] <MikeSmith>
Hixie: IE requires an explicit ID reference?

[10:36:01.0000] <Hixie>
iirc

[10:36:02.0000] <annevk3>
it does

[10:36:03.0000] <MikeSmith>
geez

[10:36:04.0000] <annevk3>
(might have been fixed in IE8?)

[10:37:00.0000] <MikeSmith>
hope so

[10:40:00.0000] <zcorpan>
wasn't it fixed in ie7 already?

[10:40:01.0000] <zcorpan>
anyway i think some screen readers might require it, too

[10:40:02.0000] <MikeSmith>
ah

[10:41:00.0000] <zcorpan>
MikeSmith: http://simon.html5.org/test/validator/content-model/label/

[10:42:00.0000] <MikeSmith>
zcorpan: thanks

[10:42:01.0000] <MikeSmith>
/me looks now

[10:43:00.0000] <myakura>
/me thinks that's fixed in IE7

[10:53:00.0000] <annevk3>
cool

[10:53:01.0000] <annevk3>
/me hardly ever needs to make sites that function properly in IE anymore

[10:59:00.0000] <MikeSmith>
annevk3: well, if MS is really going to be shipping IE6 with Windows Mobile, I guess it's going to remain a problem for a lot longer

[11:00:00.0000] <MikeSmith>
assuming anybody actually browses from Windows Mobile devices with IE

[11:00:01.0000] <annevk3>
and assuming anyone actually tests their site

[11:00:02.0000] <annevk3>
or cares

[11:01:00.0000] <Hixie>
or uses windows mobile

[11:01:01.0000] <Hixie>
well wonderful

[11:01:02.0000] <Hixie>
i ask chrome and webkit to comment on the fakepath issue

[11:01:03.0000] <annevk3>
and uses windows mobile with IE

[11:01:04.0000] <Hixie>
hoping they'd both weight on one side and so breaks the deadlock

[11:01:05.0000] <Hixie>
but nooo

[11:02:00.0000] <Hixie>
apple don't want fakepath, and chrome do. :-P

[11:02:01.0000] <MikeSmith>
heh

[11:02:02.0000] <annevk3>
arguably that makes 2.5 to 1.5

[11:02:03.0000] <annevk3>
counting each WebKit impl as .5 (with apologies to olliej)

[11:03:00.0000] <Hixie>
which side is opera on again? :-)

[11:03:01.0000] <Hixie>
and i was counting the author complaints as a +1 to the filename-only side

[11:10:00.0000] <annevk3>
Hixie, I believe we rather avoid yet another change

[11:10:01.0000] <annevk3>
s/I believe//

[11:11:00.0000] <Hixie>
the argument against c:\fakepath\ seems weaker to me

[11:12:00.0000] <annevk3>
there's two arguments I believe 1) consistency and 2) ugly

[11:13:00.0000] <annevk3>
both are true but mostly go away once we have the better File API on <input> afaict

[11:14:00.0000] <Philip`>
Adding new different APIs makes things more inconsistent, not less

[11:26:00.0000] <annevk3>
Philip`, we need the new API anyway and it will be consistent with HTTP

[11:39:00.0000] <roc>
we'd rather avoid yet another change too

[11:41:00.0000] <Hixie>
well someone will have to change :-)

[11:41:01.0000] <roc>
really?

[11:42:00.0000] <Hixie>
if we want browsers doing the same thing, yes

[11:42:01.0000] <Hixie>
since they don't do the same thing yet

[11:43:00.0000] <itpastorn>
How can I make PDT Eclipse HTML 5 and CSS 3 aware in its error reporting?

[11:44:00.0000] <jwalden>
http://www.khronos.org/news/press/releases/khronos-launches-initiative-for-free-standard-for-accelerated-3d-on-web/

[11:50:00.0000] <roc>
Hixie: I don't see any email from a Chrome person in that thread

[11:50:01.0000] <roc>
about fakepath

[11:55:00.0000] <jgraham>
jwalden: On an entirely different topic, in your example, even Haskell is easier to read than scheme (and, at least I, find Haskell is often quite hard to grasp, although I admit I have had almost no experience)

[11:56:00.0000] <jwalden>
true enough

[11:56:01.0000] <jwalden>
I wasn't a fan of the parens because they nearly require you to use a code editor to write the stuff

[11:56:02.0000] <jwalden>
unless you use the indent style I did in the one example

[11:56:03.0000] <jwalden>
a closing line with seven or eight ) is just not easy to read at all

[11:57:00.0000] <jwalden>
I touched haskell a little in cs152 but not much; most was sml

[12:09:00.0000] <Philip`>
jwalden: Nice that they're doing it in a group that only costs $7500/year to join as a contributor

[12:16:00.0000] <annevk3>
http://www.khronos.org/news/press/releases/khronos-launches-initiative-for-free-standard-for-accelerated-3d-on-web/

[12:16:01.0000] <Philip`>
annevk3: Old news :-p

[12:17:00.0000] <Philip`>
http://krijnhoetmer.nl/irc-logs/whatwg/20090324#l-737

[12:21:00.0000] <annevk3>
oh wow

[12:21:01.0000] <annevk3>
my bad

[12:49:00.0000] <Hixie>
roc: they didn't send mail, i spoke to them in #chromium

[14:04:00.0000] <roc>
comment on Canvas 3D: "nothing new here. VRML did it all ten years ago"

[14:07:00.0000] <annevk3>
I'm assuming that's not a personal comment?

[14:08:00.0000] <annevk3>
Kind of sucks btw that Khronos requires yet another set of fees to be paid...

[14:09:00.0000] <roc>
it's not my comment, no :-)

[14:21:00.0000] <Philip`>
It'd be better to compare it to X3D rather than VRML

[14:23:00.0000] <Philip`>
http://www.web3d.org/x3d/publiclists/x3dpublic_list_archives/0712/msg00127.html is my ramblings on X3D vs C3D from a while ago

[14:34:00.0000] <Hixie>
shepazu: do you know off-hand where i should point to in the SVG specs for the requirements on how to execute scripts?

[14:34:01.0000] <ojan>
Hixie: dhyatt had a bunch of feedback on #webkit wrt to menu. are his comments there sufficient? or should i bug him to write his thoughts to whatwg more formally?

[14:35:00.0000] <Hixie>
shepazu: like, downloading the file, how to determine the character encoding, how to bind the global object, etc?

[14:35:01.0000] <Hixie>
ojan: i don't track irc feedback, so e-mail or bugs would be very useful

[14:37:00.0000] <Hixie>
shepazu: i'm guessing http://www.w3.org/TR/SVGMobile12/script.html#ScriptContentProcessing ?

[14:43:00.0000] <Hixie>
gah, how do i define what happens if a <script> in SVG document.write()s a <script> in HTML that then document.write()s a <script> in SVG...

[14:43:01.0000] <Philip`>
Fatal error; abort processing

[14:49:00.0000] <Hixie>
woah, svg has more serious blocking behavior than html

[14:49:01.0000] <Hixie>
if you insert a <script xlink:href="x"/> into a document, it does a sync network load?!

[14:49:02.0000] <Hixie>
that can't be right

[14:50:00.0000] <annevk3>
How does an SVG <script> document.write() an HTML <script>?

[14:50:01.0000] <annevk3>
document.write("<img><script>") or something?

[14:50:02.0000] <annevk3>
(or something else than <img> that is on the escape <svg> tree list)

[14:50:03.0000] <Hixie>
<svg><script>document.write('<foreignContent><div><script>...</script></div></foreignContent>')</script></svg>

[14:51:00.0000] <Hixie>
shepazu: yt?

[14:51:01.0000] <Hixie>
or anyone from the svgwg?

[14:51:02.0000] <Hixie>
/me looks around for an #svg chanel

[14:52:00.0000] <annevk3>
there is one on irc.w3.org at least

[14:54:00.0000] <Hixie>
<html><svg><script>document.write('<foreignContent><div><script src="x"></script>[2. parser stops here until script is available]</div></foreignContent>')</script>[1: parser stops here to execute previous script and then continues stopped here waiting for the d.w() text to be parsed]</svg>

[14:56:00.0000] <Hixie>
i guess the blocking really is for everything

[14:56:01.0000] <Hixie>
wow

[14:58:00.0000] <annevk3>
it may not be intentional ;)

[14:58:01.0000] <Hixie>
ooh, i know what i can do

[14:58:02.0000] <Hixie>
just set the parser pause flag to true before processing the script element

[14:58:03.0000] <Hixie>
that way document.write() is never synchronous for SVG

[14:59:00.0000] <annevk3>
what is the problem with document.write being synchronous?

[14:59:01.0000] <annevk3>
I mean, why can't it work the same for SVG?

[15:00:00.0000] <Hixie>
because that would require getting the svg spec rewritten in terms of the html spec's various lists of pending scripts

[15:00:01.0000] <Hixie>
and i doubt they want to be dependent on html

[15:01:00.0000] <annevk3>
since when can specs trump impl/authors/etc.

[15:01:01.0000] <Hixie>
well in this particular case it makes everything simpler

[15:01:02.0000] <Hixie>
which i think is probably a win for all of those too

[15:02:00.0000] <Hixie>
but if you want to try getting svg and html5 to use the same terminology and processing model here, please, be my gues

[15:02:01.0000] <Hixie>
t

[15:02:02.0000] <Hixie>
you have until october :-)

[15:05:00.0000] <annevk3>
meh, not impressed :p

[15:06:00.0000] <annevk3>
until things are actually shipping in several browsers it seems there is all the chance in the world that things will change

[15:06:01.0000] <annevk3>
actually, even after that point details can still change

[15:07:00.0000] <Hixie>
i am happy to spec whatever the browsers do, but historically every time i have done this in a manner that involves other working group's technologies, there has been an uproar

[15:07:01.0000] <Hixie>
and i am not interested in getting involved in another process war with no technical content

[15:08:00.0000] <gsnedders>
Why not?

[15:08:01.0000] <Hixie>
annevk3: so if you can get the specs made consistent and well-defined in a way that matches what the browsers want to do, then i'll be happy to coordinate with you

[15:08:02.0000] <Hixie>
annevk3: but i'm not interested in trying to convince them myself when a simpler set of requirements can be achieved easily.

[15:11:00.0000] <annevk3>
I can sympathize with that, though it's noteworthy that the SVG crowd has (repeatedly) stated interest in a) aligning more with HTML and b) listening more to browser vendors.

[15:11:01.0000] <Hixie>
i will be very happy to work with both them and you if you are willing to take the lead on this

[15:15:00.0000] <gsnedders>
Hixie, annevk3: Can at least one of you reply to my email?

[15:15:01.0000] <Hixie>
i haven't had the time to actually test it

[15:15:02.0000] <Hixie>
i was going to mail you to say it'd be nice if it accepted <a href="#refsFOO">[FOO]</a> as well as [[FOO]], but then i thought about it more and decided that was dumb

[15:16:00.0000] <gsnedders>
The deadline isn't as soon as I thought, so I can have a day or two more, but I really need to get my computing project finished so I can get my English dissertation really underway

[15:16:01.0000] <Hixie>
basically i'm not sure what the point of a bibliography system is, given the desire i have of keeping the references maintained manually

[15:17:00.0000] <gsnedders>
Talking to you when I need to write a brief outline of the context and purpose of the project probably isn't a good idea :)

[15:17:01.0000] <gsnedders>
(This is the sort of introduction thing I hate writing, and have thus far avoided writing)

[15:18:00.0000] <Hixie>
i guess if the bibliography was in the form of <dd> blocks exactly as seen in the output

[15:18:01.0000] <Hixie>
and if the <dd> blocks could be placed in the file itself

[15:18:02.0000] <Hixie>
such that the system _removed_ references that weren't referenced

[15:18:03.0000] <Hixie>
and set up the cross-references (or indeed supported the aforementioned <a href=... syntax)

[15:18:04.0000] <Hixie>
then that would be cool

[15:19:00.0000] <gsnedders>
"Otherwise, is sucks."

[15:19:01.0000] <gsnedders>
:P

[15:19:02.0000] <Hixie>
since it would make the references for the various specs automatically come out as needed

[15:19:03.0000] <Hixie>
without needing an external, perpetually out-of-date, bibliography

[15:19:04.0000] <Hixie>
in a hard-to-maintain syntax that can't be made to do what i want to see

[15:21:00.0000] <gsnedders>
still, if you could email me sometime saying it sucks, do so.

[15:22:00.0000] <gsnedders>
/me gave up trying to keep you happy with this module a long time ago

[15:22:01.0000] <Hixie>
i don't know if it sucks, i haven't tested it :-)

[15:22:02.0000] <gsnedders>
Well, it doesn't do what you want it to do, hence it sucks

[15:22:03.0000] <Hixie>
it does what i want it to do if i don't use it :-)

[15:23:00.0000] <Hixie>
so actually it does what i want quite a lot of the time

[15:23:01.0000] <gsnedders>
:)

[15:25:00.0000] <gsnedders>
My next commit message on my project, on a commit just be changing the write-up, will be, "I really can't spell."

[15:25:01.0000] <annevk3>
I still haven't switched to Anolis

[15:25:02.0000] <gsnedders>
annevk3: Traitor!

[15:25:03.0000] <Hixie>
dude

[15:25:04.0000] <Hixie>
anolis rocks

[15:25:05.0000] <Hixie>
you should switch!

[15:25:06.0000] <annevk3>
I'm told. But it got the DOCTYPE wrong and the output looks less neat overall (apart from the IDs, which are better).

[15:25:07.0000] <Hixie>
i think i invoke it 7 or 8 times every time i make a change now, given how many specs i update at a time

[15:26:00.0000] <Hixie>
why does the output whitespace matter?

[15:26:01.0000] <Hixie>
and how is the doctype wrong?

[15:26:02.0000] <gsnedders>
It always gives the HTML 5 DOCTYPE

[15:27:00.0000] <annevk3>
The thing with the output whitespace is that I personally always read the diff of the output document to ensure everything that is linkified does so correctly.

[15:28:00.0000] <annevk3>
I suppose I can change that, but my specs don't have a couple of people reading the diffs every time I make a change... :)

[15:30:00.0000] <annevk3>
Anyway, I guess I should give it another chance and write a small script to do all the CVS stuff and some post-processing on the DOCTYPE...

[15:48:00.0000] <shepazu>
sorry, Hixie, was eating dinner

[15:50:00.0000] <Hixie>
np

[15:50:01.0000] <shepazu>
/me reads backscroll

[15:57:00.0000] <heycam>
/me wonders why he was CCed on the "localStorage and IE8" thread

[15:59:00.0000] <gsnedders>
/me asks "Why not?"

[16:00:00.0000] <heycam>
i really need to sort out my .procmailrc so that multiple copies of the same mail get put in different maildirs for the appropriate mailing lists

[16:00:01.0000] <heycam>
on that mail, all three copies (via public-html, via public-webapps, and the CCed one) just get dumped in my public-html maildir :/

[16:01:00.0000] <shepazu>
Hixie: I'm not gainsaying what SVG Tiny 1.2 says, but note that that is much more specific than SVG 1.1, and the SVG WG might be willing to adopt a different script processing model for SVG-in-text/html and SVG 2.0 than in SVG Tiny 1.2

[16:03:00.0000] <shepazu>
the goal for script processing in SVGT1.2 was to make it simpler and clearer, and I believe Opera had quite a lot of input there

[16:03:01.0000] <heycam>
and also to do effectively the same thing as html

[16:03:02.0000] <shepazu>
but if that causes problems for SVG-in-text/html, please feel free to make a proposal, and we will review it

[16:03:03.0000] <heycam>
if something's wrong there, i think we'd be pretty open to making an erratum for it

[16:04:00.0000] <shepazu>
yeah, I can't speak for everyone, but I'd tend to agree

[16:04:01.0000] <heycam>
Hixie, can you explain how the script blocking in HTML differs from that in SVG?

[16:04:02.0000] <Hixie>
shepazu: i don't think it causes any problems unless we actually want to support synchronous document.write()

[16:05:00.0000] <Hixie>
heycam: you were cc'ed because you contributed to some thread on the same topic over on the whatwg list

[16:05:01.0000] <heycam>
don't even remember saying anything about localStorage :)

[16:05:02.0000] <heycam>
Hixie, so SVG's script handling is not reentrant or something?

[16:05:03.0000] <Hixie>
let's see if i can construct an example

[16:05:04.0000] <shepazu>
this might be a relatively painless change, since there is unlikely to be content that relies heavily on the script processing model, and since browsers are really getting clearer on that, it would be a big win for SVG to align here

[16:06:00.0000] <Hixie>
(i can guarantee that this won't be painless, the text/html model is unbelievably complicated and brittle)

[16:06:01.0000] <shepazu>
oh, all the better

[16:06:02.0000] <Hixie>
imagine you have the following document:

[16:07:00.0000] <Hixie>
<html><script>A</script></html>

[16:07:01.0000] <Hixie>
and imagine the script A does the following:

[16:07:02.0000] <Hixie>
1. document.write an external <script src="1"></script> block followed by an inline <script>2</script> block

[16:07:03.0000] <Hixie>
2. document.append()s an inline <script>3</script> block

[16:08:00.0000] <Hixie>
the execution order will be, iirc, A, then 3, then 1, then 2

[16:08:01.0000] <heycam>
oh

[16:08:02.0000] <Hixie>
and in the DOM, the script nodes will be in the order 1, 3, 2

[16:08:03.0000] <heycam>
that is different from SVG then

[16:09:00.0000] <shepazu>
hmmm, well... at least this way, we'll be so numb with pain that we won't notice the order of processing

[16:10:00.0000] <Hixie>
if we do as i propose, namely say that document.write() is not synchronous from an SVG script block, then if you replace <html> with <svg> in the text/html snippet above, the execution order would be A, 3, 1, 2

[16:10:01.0000] <Hixie>
and the DOM order will also be A, 3, 1, 2

[16:11:00.0000] <heycam>
if it's not synchronous, would it still be defined the order things get inserted/run?  (a queue of them is maintained or something?)

[16:11:01.0000] <Hixie>
if you switch 1 and 2 around so that 1 is inline and 2 is external instead, then in HTML, the execution order, iirc, becomes A, 1, 3, 2 and the DOM order becomes A, 1, 2, 3

[16:11:02.0000] <Hixie>
but along my proposed model, in SVG it would still be A, 3, 1, 2 both in execution and DOM

[16:11:03.0000] <shepazu>
so, this sucks... honestly, I think the latter way is cleaner and more predictable, but paradoxically unintuitive because HTML does it the other way...

[16:12:00.0000] <heycam>
Hixie, does script processing differ in XHTML?

[16:12:01.0000] <shepazu>
then again, I don't know how much authors rely on execution order... any data?

[16:12:02.0000] <Hixie>
heycam: yeah, it's still all well-defined; you just end up parsing/executing all the document.written() stuff after the script ends

[16:12:03.0000] <Hixie>
heycam: in XHTML, document.write() throws.

[16:12:04.0000] <heycam>
awesome

[16:12:05.0000] <heycam>
:)

[16:12:06.0000] <Hixie>
yes.

[16:13:00.0000] <shepazu>
Hixie: can't you apply the same rules as you apply for SVG to XHTML?

[16:13:01.0000] <Hixie>
SVG in text/html?

[16:13:02.0000] <shepazu>
sorry, yes.

[16:13:03.0000] <shepazu>
(whichever those rules end up being)

[16:14:00.0000] <Philip`>
/me isn't sure it's worth adding support for XHTML in text/html

[16:14:01.0000] <Hixie>
not really, because an SVG <script> block could just invoke an HTML <script> block and then we'd be back in the same world

[16:15:00.0000] <shepazu>
/me is going to suggest a silly suggestion he will be crucified for: how about a new method, similar to .write(), that works async in all languages?

[16:15:01.0000] <Hixie>
we have that

[16:15:02.0000] <Hixie>
it's called document.appendChild()

[16:15:03.0000] <Hixie>
:-)

[16:15:04.0000] <shepazu>
oh.

[16:15:05.0000] <shepazu>
lol

[16:15:06.0000] <shepazu>
ok

[16:15:07.0000] <heycam>
given that the SVG spec only deals with SVG/XML, i wonder what the best way to define SVG script processing in text/html is -- i.e., in the SVG spec? or only in the HTML spec?

[16:15:08.0000] <heycam>
what changes would you need from the SVG spec for this?

[16:15:09.0000] <Hixie>
none

[16:16:00.0000] <Hixie>
if we want to just make document.write() async in SVG <script>

[16:16:01.0000] <heycam>
ok a secondary question then: does script processing in SVG/XML different from script processing in XHTML?

[16:16:02.0000] <heycam>
(my guess is yes?)

[16:16:03.0000] <Hixie>
if we want to make SVG use the same crazy-ass stuff HTML does, which we presumably would one if we ever want to support async="" or defer="" in SVG, then, uh, a lot. i dunno. see the <script> element definition in HTML5.

[16:16:04.0000] <shepazu>
sorry to stray here, but what about .innnerHTML()?

[16:17:00.0000] <Hixie>
innerHTML conveniently disables script execution.

[16:17:01.0000] <shepazu>
Hixie: we've already planned to add @async and @defer

[16:17:02.0000] <Hixie>
heycam: yes, though not in any particularly painful way other than SVG requiring sync I/O on the UI thread

[16:17:03.0000] <Hixie>
shepazu: oh.

[16:17:04.0000] <Hixie>
well that ought to be fun.

[16:18:00.0000] <heycam>
Hixie, could you explain why sync I/O on the UI thread follows from the current script processing definitions in SVG?

[16:18:01.0000] <Hixie>
shepazu: in that case we really should just have svg and html use the same mechanism with the event loop and everything

[16:18:02.0000] <shepazu>
just so authors are dealing with the same platform

[16:18:03.0000] <heycam>
what i would like is for scripts in SVG/XML to act the same as those in XHTML

[16:19:00.0000] <shepazu>
I think it would be useful to summarize this in an email, if you don't mind...

[16:19:01.0000] <Hixie>
heycam: well, parsing and script execution block, and parsing happens as part of processing a task on the event loop.

[16:19:02.0000] <heycam>
perhaps then it is just a matter of poor wording on my part then in that script processing section

[16:20:00.0000] <Hixie>
shepazu: summarise what?

[16:20:01.0000] <heycam>
it should just block the parser, no?

[16:20:02.0000] <Hixie>
heycam: the parser is on the ui thread (well, on the event loop)

[16:20:03.0000] <Hixie>
heycam: put it this way:

[16:21:00.0000] <Hixie>
heycam: what happens if an external SVG <script> is inserted, does the appendChild() call return before or after the script runs?

[16:22:00.0000] <heycam>
by the current text, i think it is after

[16:22:01.0000] <Hixie>
oh. that's different than html.

[16:22:02.0000] <heycam>
ok

[16:22:03.0000] <Hixie>
so if i appendChild() two <Script> blocks back to back

[16:22:04.0000] <Hixie>
the second will be inserted before the first executes?

[16:22:05.0000] <Hixie>
when will it execute?

[16:22:06.0000] <Hixie>
i don't understand the model anymore. :-/

[16:24:00.0000] <heycam>
/me brb

[16:41:00.0000] <heycam>
i think my intention was for the first to be inserted, then executed, then the second is inserted, then executed

[16:42:00.0000] <heycam>
if you want to mail www-svg with suggestions on making it saner / more compatible with XHTML, that'd be appreciated

[16:43:00.0000] <Hixie>
i don't really know what to suggest, short of just referencing html5's processing model and defining everything either in terms of tasks and event loops or the scripting lists

[16:43:01.0000] <heycam>
:)

[16:43:02.0000] <Hixie>
but i don't see much point in saying that in e-mail

[16:44:00.0000] <heycam>
maybe i need to take a closer read of the html5 model

[16:44:01.0000] <Hixie>
("hi please depend on my spec that i've said isn't going to be ready for a decade k thx bye" isn't likely to go down well)

[16:44:02.0000] <heycam>
ha

[16:44:03.0000] <heycam>
anyway, for the svg script in text/html case, i think you can just do whatever is sensible

[16:45:00.0000] <Hixie>
(to be honest though i think long term we probably will have to use a common event loops model)

[16:45:01.0000] <heycam>
sounds sensible

[16:46:00.0000] <heycam>
that'd be one of those things that would go into a split out "Web platform" spec (with things like Window, etc.)

[16:46:01.0000] <annevk3>
If I define XMLHttpRequest in terms of event loops SVG would need to be defined in it too for it to work "right"... In theory anyway.

[16:46:02.0000] <Hixie>
heycam: yeah... let me know when you find someone to do that! :-)

[16:46:03.0000] <heycam>
:)

[16:47:00.0000] <Hixie>
i know it wouldn't be a popular suggestion but i'm somewhat of the opinion that at this point html and the core dom stuff are so tightly bound together that we should just keep them in one spec and have everything depend on html

[16:47:01.0000] <Hixie>
but i know that would offend the purists

[16:47:02.0000] <heycam>
indeed i think it wouldn't be a popular suggestion :)

[16:48:00.0000] <Hixie>
so right now the web sockets, web storage, web workers, html5, and event source specs are all generated from one source document

[16:49:00.0000] <heycam>
those other things seem much more easily separable than "web platform" stuff though

[16:49:01.0000] <Hixie>
yes, absolutely

[16:49:02.0000] <heycam>
at least from a single-source-document-generating-them PoV

[16:49:03.0000] <Hixie>
if it wasn't for hte obvious process issues with it, and the difficulty of coordinating work, it would be interesting to consider putting svg, dom core and dom events, http, and pretty much everything else into that same document

[16:50:00.0000] <heycam>
it might make certain things easier (cross references e.g.)

[16:50:01.0000] <Hixie>
i'm considering hosting a spec on the whatwg site that is web sockets, web storage, web workers, html5, and event source in one doc

[16:50:02.0000] <Hixie>
heycam: yeah, exactly

[16:50:03.0000] <Hixie>
anyway realistically this has zero chance of happening

[16:50:04.0000] <annevk3>
it's also an awful lot of work

[16:51:00.0000] <Hixie>
yeah

[16:51:01.0000] <Hixie>
thing is

[16:51:02.0000] <Hixie>
we already have to do that work

[16:51:03.0000] <Hixie>
zcorpan is rewriting dom core

[16:51:04.0000] <annevk3>
i.e. I can't even begin to imagine rewriting CSS the HTML5 way though I think it should be done :)

[16:51:05.0000] <Hixie>
dom events is probably going to need a rewrite at some point

[16:51:06.0000] <Hixie>
css needs a rewrite now that 2.1 has nailed down the behavior, so that it actually is defined in a sane way

[16:52:00.0000] <heycam>
dom 3 events is being worked on at the moment. maybe you can comment on it?

[16:52:01.0000] <Hixie>
range and traversal desperately need rewrites

[16:52:02.0000] <Hixie>
svg is pretty vague, as noted by the questions we just had about <script> behavior

[16:52:03.0000] <Hixie>
etc

[16:52:04.0000] <annevk3>
and everyone is inventing new features on top of the undefined stuff

[16:52:05.0000] <annevk3>
yay

[16:54:00.0000] <Hixie>
heycam: my comments on dom3 events would be along the same lines as my comments on svg

[16:54:01.0000] <Hixie>
heycam: and thus likely just as unpopular

[16:54:02.0000] <annevk3>
and in ten years we'll prolly discuss mistakes similar to cross-origin <script>, global object mess, etc.

[16:54:03.0000] <heycam>
"whine whine this isn't defined well enough blah blah" :)

[16:54:04.0000] <annevk3>
"and please drop the namespace crap"

[16:55:00.0000] <Hixie>
heycam: (i'd recommend splitting out the events into a separate doc that actually defines when they fire, i'd recommend rewriting all the dom api definitions to actually be phrased as requirements not descriptions, and i'd suggest making everything be defined in terms of the event loop mechanism)

[16:56:00.0000] <heycam>
shepazu, ‚Üë

[16:56:01.0000] <Hixie>
heh

[16:56:02.0000] <Hixie>
i'm sure i've discussed this with him before :-)

[16:56:03.0000] <heycam>
ok

[16:56:04.0000] <Hixie>
i had similar comments on the progress spec with chaals

[16:57:00.0000] <Hixie>
e.g. the dom apis are vague, the spec has far too many redundant or untestable requirements, the spec shouldn't have conforming requirements defined for author scripts, and there are no or few hooks defined for specs using the technology

[16:57:01.0000] <Hixie>
chaals disagrees :-)

[16:57:02.0000] <Hixie>
and who's to say he's not right and i'm not wrong

[16:58:00.0000] <annevk3>
I'd say he's wrong, but I'm biased

[16:59:00.0000] <heycam>
biased against him because he's your boss? :) 

[16:59:01.0000] <Hixie>
i'd say if you had a bias you'd be biased in his favour but ok :-)


2009-03-25
[17:00:00.0000] <atw>
MessagePorts are supposed to implement EventTarget - does that mean that if I register an onmessage listener on a port, that my onmessage listener can get a reference to the port via the event.target attribute? Or is that only for DOM events?

[17:00:01.0000] <Hixie>
yes, it does mean that

[17:00:02.0000] <annevk3>
well yeah, I'm biased both ways, but chaals appreciates honesty

[17:00:03.0000] <Hixie>
annevk3: feel free to support me on the list then :-P

[17:01:00.0000] <annevk3>
Hixie, since when are we doing +1 emails? :p

[17:01:01.0000] <Hixie>
:-P

[17:01:02.0000] <atw>
That implies that we can't GC message ports if there are any messages in-flight even if there are no references to either endpoint's message port, since the messages themselves contain an inherent reference to the port. I could ping-pong messages back and forth between two ports using only listeners, with no active references to the ports.

[17:02:00.0000] <Hixie>
atw: correct, the spec even explicitly says that iirc

[17:03:00.0000] <atw>
Not so - the spec says: "Thus, a message port can be received, given an event listener, and then forgotten, and so long as that event listener could receive a message, the channel will be maintained.

[17:03:01.0000] <atw>
Of course, if this was to occur on both sides of the channel, then both ports would be garbage collected, since they would not be reachable from live code, despite having a strong reference to each other."

[17:03:02.0000] <atw>
Ah, but.

[17:03:03.0000] <atw>
The next line :)

[17:04:00.0000] <atw>
It does say that you can't GC a port while there's a message in flight, and the previous paragraph implies that this would keep the entangled port from being GC'd. OK, thnx.

[17:04:01.0000] <atw>
I for some reason couldn't hold those two facts in my brain at once.

[17:04:02.0000] <Hixie>
i can make it clearer if you want

[17:04:03.0000] <Hixie>
drop me a mail?

[17:04:04.0000] <Hixie>
i'm in the middle of the svg edits right now

[17:04:05.0000] <Hixie>
so can't make changes

[17:04:06.0000] <atw>
Sure, but in retrospect I think it's plenty clear. Thx.

[17:22:00.0000] <annevk3>
Hixie, SVG is going to be commented "in"?

[17:22:01.0000] <annevk3>
(I guess the quotemarks should have been around commented....)

[17:23:00.0000] <annevk3>
/me clearly needs to go to sleep; night all!

[17:43:00.0000] <Lachy>
Hixie, personally, I think supporting <![CDATA[]]> sections in SVG scripts, but not in HTML scripts is silly. I would prefer that we just made <script> parse as CDATA for both HTML and SVG, as that makes it easier for authors

[17:43:01.0000] <Lachy>
well, at least, it makes it more consistent

[17:43:02.0000] <Hixie>
we can't do that while satisfying the svgwg's goal

[17:43:03.0000] <Lachy>
I don't agree with the SVG WG's goal

[17:44:00.0000] <Hixie>
neither do i, but we can't just throw out people's requirements willy nilly just because we don't like them

[17:44:01.0000] <Lachy>
I think making SVG as XML entirely compatible with text/html, including XML's syntactic sugar, is a non-goal

[17:44:02.0000] <Lachy>
er, I don't think I said that quite right. But you should get what I mean

[17:45:00.0000] <Hixie>
their goal is to be able to take svg documents created by xml serialisers and paste them into text/html docs

[17:45:01.0000] <Lachy>
yeah. I don't agree with that

[17:45:02.0000] <Hixie>
you think we should prevent it, or you think it's not important?

[17:45:03.0000] <Hixie>
i.e. do you think it's an anti-goal, or a non-goal?

[17:45:04.0000] <Lachy>
I think text/html SVG and XML SVG should be just as compatible as HTML and XHTML

[17:46:00.0000] <Hixie>
that's a fine goal too, but it conflicts with their goal

[17:46:01.0000] <Lachy>
I know. i don't care about their goal

[17:47:00.0000] <Hixie>
they do

[17:47:01.0000] <Lachy>
I care about making the authoring requirements consistent for authors

[17:48:00.0000] <Hixie>
they care about being able to paste svg images into text/html

[17:49:00.0000] <Hixie>
wtf, windows is actually forcing me to reboot with a 30 minute countdown

[17:50:00.0000] <Lachy>
sure. But I don't think it's necessary to be able to do that with SVG designed for XML processing to be copy and pasteable entirely without modification. I think requiring authors to strip (or comment out) unsupported XML syntactic sugar like CDATA sections

[17:50:01.0000] <Hixie>
and they disagree

[17:50:02.0000] <Lachy>
so the same way authors do <script>/*<![CDATA[ */ ... /* ]]> */</script> for XHTML as text/html, so should they for SVG as text/html

[17:50:03.0000] <Hixie>
this is why opinion-based arguments don't work. there's no way to win them.

[17:51:00.0000] <Lachy>
mine isn't opinion based. It's based on making rules consistent for authors

[17:51:01.0000] <Lachy>
so hand coding is easier

[17:53:00.0000] <shepazu>
what about sicking's suggestion for script/css CDATA parsing?

[17:53:01.0000] <Hixie>
and theirs isn't opinion based, it's based on making authoring easier for authors

[17:53:02.0000] <Hixie>
so hand coding is easier

[17:53:03.0000] <Hixie>
(they're both opinions)

[17:53:04.0000] <Hixie>
shepazu: that breaks your goal

[17:54:00.0000] <shepazu>
hmmm... how so?

[17:54:01.0000] <heycam>
the opinion part of it is which is more important: hand authoring, or paste authoring from existing SVG authoring tools

[17:54:02.0000] <shepazu>
sorry if I'm being dense, but it seemed to solve the issue...

[17:55:00.0000] <Hixie>
shepazu: making text/html not use xml-like parsing means that you can't guarantee that an xml svg file will work in text/html, no?

[17:56:00.0000] <Lachy>
Hixie, the SVG WG's goals seem to be to try and maintain as much XML-like strictness as possible. I have not seen any suggestion from the SVG WG specifically designed to optimise hand coding

[17:57:00.0000] <Lachy>
anyway, I'm not looking forward to try and explain the rules for dealing with script elements to authors now that the rules differ for HTML and SVG fragments.

[17:57:01.0000] <shepazu>
I thought sicking suggested supporting <![CDATA[]]> sections in HTML scripts and SVG scripts?

[17:58:00.0000] <Hixie>
i don't see any sane way to support <![CDATA[ ]]> in regular HTML given the crazy "magic <!-- -->" processing

[17:58:01.0000] <shepazu>
<![CDATA[]]> is not strictly necessary with SVG scripts... just when Offending Characters might be present, right?

[17:58:02.0000] <Hixie>
<![CDATA[ ]]> is never necessary in XML

[17:59:00.0000] <Hixie>
it's just a syntactic alternative to escaping characters using numeric character references ("entities")

[17:59:01.0000] <heycam>
i think it was a mistake for CDATA sections to be exposed in the DOM

[17:59:02.0000] <shepazu>
right

[18:00:00.0000] <Lachy>
shepazu, the problem is when authors using XML don't use CDATA sections and encode <, >, and & as character refs

[18:00:01.0000] <Hixie>
heycam: me too, but that's actually academic here

[18:00:02.0000] <Lachy>
when they do use them, the solution to make the script compatible with both XML and text/html is to comment out the <![CDATA[ ]]> markup. with /* */ or //

[18:01:00.0000] <Hixie>
the best thing would be to have a browser with significant market share implement a consistent mechanism (whatever that might be), and prove that it doesn't break sites and is implementable

[18:02:00.0000] <Hixie>
changing html parsing rules is a very dangerous sport

[18:02:01.0000] <Hixie>
and not one i particularly enjoy

[18:02:02.0000] <shepazu>
I thought that sicking seemed to say that you *could* do CDATA in script and style?

[18:02:03.0000] <Hixie>
sicking: can you explain to me how you would do it?

[18:02:04.0000] <Hixie>
i didn't see anything that wasn't rather handwavy

[18:03:00.0000] <Hixie>
and the parsing of CDATA blocks in text/html (not <![CDATA[ ]]> blocks) is significantly non-trivial right now

[18:03:01.0000] <shepazu>
(Hixie, did you BCC me on that email? I got 3 copies)

[18:03:02.0000] <Hixie>
yeah, i bcc'ed anyone who wrote an e-mail on the thread

[18:03:03.0000] <shepazu>
ok, thanks, mystery solved

[18:06:00.0000] <Lachy>
ah, that explains why I got an extra copy, even though I wasn't quoted.  Though I don't remember writing anything in that thread

[19:40:00.0000] <gsnedders>
http://code.google.com/p/html5lib/source/list ‚Äî there's far too much me there

[21:12:00.0000] <gsnedders>
Weee‚Ä¶ from 136s (r1274) to 50s (HEAD) to tokenize the spec

[00:14:00.0000] <hsivonen>
lots of scrollback :-(

[00:24:00.0000] <shepazu>
here's the summary, hsivonen: SVG script is easier and more consistent than HTML script, so we will probably go with HTML's model, and Hixie rejected all the SVG WG's feedback for SVG-in-HTML

[00:25:00.0000] <hsivonen>
shepazu: thanks. I also read the logs at krijnhoetmer.nl. writing email now

[00:25:01.0000] <shepazu>
the speed with which he did so suggests a remarkably organized mind with a singular coherency of thought

[02:22:00.0000] <annevk3>
http://www.w3.org/mid/1e3451610903250034g69513bdvedd39f04dc270339‚äômgc o_O

[02:35:00.0000] <annevk3>
/me was hoping hsivonen would run the sane script story campaign :)

[02:47:00.0000] <Hixie>
ok bed time nn

[02:47:01.0000] <jgraham>
/me wonders what the sane script story campaign is

[02:47:02.0000] <jgraham>
gn

[02:47:03.0000] <hsivonen>
nn

[02:48:00.0000] <annevk3>
jgraham, run scripts the same way in text/html regardless of whether they are SVG or HTML <script> elements

[02:49:00.0000] <jgraham>
Ah, OK. I thought by "sane" you might mean doing something other than html behaviour

[02:49:01.0000] <jgraham>
(which would be silly but could be described as "sane")

[02:50:00.0000] <jgraham>
(as the opposite to "insane script handling required by html")

[02:50:01.0000] <annevk3>
I'm not necessarily saying that's what in the spec now is insane. I just needed to name my campaign :p

[02:51:00.0000] <jgraham>
Well I agree doing anything inconsistent is insane

[02:51:01.0000] <jgraham>
More insane than just copying whatever HTML already does

[02:51:02.0000] <jgraham>
However weird

[03:13:00.0000] <jgraham>
For someone who thinks that it is a wate of time to discuss rsayre is really fast to reply

[03:17:00.0000] <MikeSmith>
hsivonen: you around?

[03:20:00.0000] <hsivonen>
MikeSmith: yes

[03:20:01.0000] <hsivonen>
MikeSmith: I saw the scrollback. Haven't processed the Schematron part yet.

[03:21:00.0000] <MikeSmith>
hsivonen: I made a minor change just to some message strings in the Assertions.java source

[03:21:01.0000] <MikeSmith>
built and tested it with my local v.nu instance and no problems and works as expected

[03:22:00.0000] <hsivonen>
MikeSmith: great. feel free to check in

[03:22:01.0000] <MikeSmith>
OK

[03:22:02.0000] <MikeSmith>
will do

[03:22:03.0000] <hsivonen>
MikeSmith: thanks!

[03:23:00.0000] <MikeSmith>
and I'm looking at the Assertions.java source now to try go see if I can add the label@for constraints

[07:42:00.0000] <Lachy>
it seems really strange that attempting to get the insertId attribute can potentially raise an exception. http://dev.w3.org/html5/webstorage/#dom-sqlresultset-insertid

[07:56:00.0000] <jgraham>
Should contentEditable elements be focusable?

[07:57:00.0000] <Philip`>
Hmm, my laptop's CPU fan seems to have become noisy, and the only way I can find to fix it is to run "perl -e'fork; 1 while 1'" for a minute so my CPU gets really hot and the fan goes to maximum speed, and then press the Tab or Caps lock or Q key, which makes the fan stop annoyingly whirring, and then it's fine once I let it cool down

[07:57:01.0000] <jgraham>
/me wonders how Philip` managed to find that methodology

[07:58:00.0000] <Philip`>
/me wonders if there's a more direct solution, that doesn't involve disassembling his laptop using screwdrivers that he doesn't have

[07:58:01.0000] <Philip`>
jgraham: It seemed a pretty obvious plan to me

[07:59:00.0000] <jgraham>
Philip`: Hit your laptop with a large hammer. Hard. It will soon stop making any annoying noise

[07:59:01.0000] <Philip`>
The whirring changed when I pressed down on the keyboard directly over the fan, so it seemed reasonable to try changing the fan speed and seeing if it spun itself back into a quiet state

[08:00:00.0000] <Philip`>
(The problem came back after I switched it off and on again, so I had an opportunity to discover the solution was repeatable)

[08:00:01.0000] <Philip`>
jgraham: Don't have a hammer

[08:01:00.0000] <Philip`>
and if I went to a store to purchase a hammer, I should purchase some screwdrivers too

[08:01:01.0000] <jgraham>
Philip`: A brick? A tin of beans?

[08:02:00.0000] <Philip`>
I suppose I could bash it with another laptop

[08:14:00.0000] <svl>
http://ilia.ws/archives/196-IE8-X-UA-Compatible-Rant.html :/

[10:31:00.0000] <atw>
The chrome team is wondering about the behavior of window.postMessage() - since the destination window/iframe may not be loaded yet, what is the expected behavior if I post a message to a window whose contents aren't yet loaded. Should the message get dropped on the floor, or queued?

[10:31:01.0000] <atw>
Both Safari and Chrome just drop it on the floor now, which seems unideal.

[11:02:00.0000] <gsnedders>
Philip`: How many tags have mixed case names?

[11:03:00.0000] <jwalden>
atw: why is this a problem?  I always understood postMessage to be for establishing communication with an already-loaded window, most particularly an iframe during the parent window's onload

[11:06:00.0000] <Philip`>
gsnedders: About six

[11:07:00.0000] <Philip`>
gsnedders: I see 4580419 tags matching [a-z], 594677 [A-Z], and 5585 matching both

[11:07:01.0000] <jwalden>
atw: that's also interoperable with Gecko, fwiw; IE is too much effort for me to test right now

[11:08:00.0000] <atw>
jwalden: Why would postMessage() not be useful for communicating with other windows?

[11:09:00.0000] <gsnedders>
Philip`: thx

[11:09:01.0000] <jwalden>
atw: um, please rephrase to ask what you meant to ask :-)

[11:09:02.0000] <atw>
Also, is the implication that onload on a parent window is invoked only after all iframes have been fully loaded? I have to admit I'm not 100% up on the semantics of onload.

[11:09:03.0000] <jwalden>
yes

[11:09:04.0000] <jwalden>
to the latter

[11:09:05.0000] <gsnedders>
Philip`: huh‚Ä¶ "six" being the number of unique values?

[11:11:00.0000] <atw>
That use case makes sense to me (send messages on onload()) - I guess the intent of postMessage() is that the behavior is undefined if you are sending it to another window while that window's content is still loading?

[11:12:00.0000] <Philip`>
gsnedders: No, six being a number I made up off the top of my head, which turned out to not be a good approximation of 5585

[11:12:01.0000] <jwalden>
"intent" I think is putting it a bit strongly, but I don't think it was considered a serious limitation

[11:12:02.0000] <jwalden>
atw: do consider that all the hash-and-poll hacks already required the target window to be loaded

[11:13:00.0000] <gsnedders>
Philip`: ah

[11:14:00.0000] <jwalden>
also seems to me that making early messages get queued is mostly unneeded complexity in the implementation, and sites can work around the "problem" without much trouble

[11:14:01.0000] <jwalden>
a limitation, but not pejoratively

[11:15:00.0000] <atw>
jwalden: Sure. We do that work for MessagePorts (queue messages before the port is started) so this seemed like an analogous situation, which is why the behavior surprised me.

[11:16:00.0000] <atw>
But I'm not arguing that it's unreasonable.

[11:17:00.0000] <jwalden>
messageports came along after I last really looked at postMessage, so I don't know the details of how they work

[12:22:00.0000] <Philip`>
gsnedders: "This gives a fair performance boost on the spec (~12s)" - you should run your tests on a slower computer, then you could easily get a ~24s performance boost from the same patch

[12:27:00.0000] <gsnedders>
:D

[13:44:00.0000] <gsnedders>
Man, I really am awesome at procrastinating.

[13:51:00.0000] <nessy>
lol

[13:53:00.0000] <jgraham>
gsnedders: Or you're just arrogant ;)

[13:58:00.0000] <annevk3>
svl, did you verify that? it sounds weird

[13:59:00.0000] <svl>
annevk3: I didn't.

[13:59:01.0000] <svl>
Just stumbled across it in the midst of doing other things

[14:00:00.0000] <annevk3>
atw, waiting for <iframe onload> seems like a long time; though I don't really have a better solution (other than the <iframe> pinging the parent)

[14:25:00.0000] <annevk3>
rubys1, while <b><i>x</b></i> is a somewhat simple example and "works", adding a character (e.g. <b><i>x</b>x</i>) already gives you a DOM that authors would not expect

[14:26:00.0000] <annevk3>
I'm not sure if it's worth distinguishing between the two as it's likely that the cost of implementing in validators would be so high that the resulting messages would be terribly confusing to authors.

[14:27:00.0000] <annevk3>
(And validators are already confusing. E.g. validator.nu is a multi-year project and still has a lot of error messages that are quite confusing.)

[14:27:01.0000] <annevk3>
(Not to speak of validator.w3.org...)

[14:29:00.0000] <annevk3>
As for "<meta charset=utf-8>". I think zcorpan suggested it might have been that older browsers just looked for the string "charset". That actually seems more plausible than that they tried to work with content that didn't work in any browser whatsoever. (And because they did that authors didn't have to care about quotes...)

[14:43:00.0000] <Philip`>
annevk3: Maybe a better example is <meta name=description content=an unquoted sentence>

[14:43:01.0000] <Philip`>
annevk3: It looks like about 1% of <meta name=description>s have that error

[14:43:02.0000] <Philip`>
(and about 1% of <meta name=keywords>s too)

[14:44:00.0000] <Philip`>
(Some of those are because people accidentally use fancy Word quotes, or put double quotes inside the double quoted attribute value, but I think many are from intentionally unquoted attributes)

[14:45:00.0000] <annevk3>
Philip`, what affect did that have on browsers? The ability to handle lots of attributes?

[14:45:01.0000] <annevk3>
effect, geez

[14:46:00.0000] <Dashiva>
Death to fancy quotes

[14:48:00.0000] <Philip`>
/me saw one site with two thousand attributes on its <meta name=keywords>

[14:49:00.0000] <Philip`>
annevk3: I wasn't thinking of the effect on authors - I was just thinking of it as evidence that unquoted attributes encourage authoring errors, and so perhaps they should be discouraged

[14:50:00.0000] <Dashiva>
Know of any cases where meta @keywords is actually used as keywords, and not just treated as normal text or ignored?

[14:51:00.0000] <Hixie>
Philip`: that's very common

[14:51:01.0000] <Hixie>
<meta name=keywords content=a, b, c, ... for megabytes>

[14:51:02.0000] <Hixie>
i had to make serious changes to my parser to handle this case

[14:51:03.0000] <annevk3>
Philip`, I thought rubys1 was talking about fallout

[14:52:00.0000] <annevk3>
oh help, <br> and 'clear' is brought up again on www-style

[14:53:00.0000] <annevk3>
/me remembers a certain F2F where that was discussed for more than 10min

[14:53:01.0000] <Hixie>
only 10min?

[14:54:00.0000] <annevk3>
I'm being conservative here. My recollection has it on 1h :)

[14:54:01.0000] <Hixie>
that sounds more like it

[14:55:00.0000] <annevk3>
/me goes to read AC minutes

[14:56:00.0000] <annevk3>
/me didn't know AC meetings where also for chairs

[14:56:01.0000] <annevk3>
s/where/were

[14:57:00.0000] <annevk3>
hmm, I write English phonetically and I'm pretty bad at it too :)

[14:57:01.0000] <rubys>
Philip` got my intent.  I agree that misnested closes are often indication of an error, and that dropping quotes can lead to errors... the line between the two is fuzzy.

[15:00:00.0000] <annevk3>
Historically the line has been pretty clear :)

[15:01:00.0000] <rubys>
???

[15:01:01.0000] <rubys>
not to me.

[15:01:02.0000] <annevk3>
I'm not that opposed to requiring quotes everywhere personally. It's an easy XSS target. However, seems a bit burdersome for existing content and XSS should likely be checked using dedicated tools (e.g. a public version of scanmus) as there are many other potential holes.

[15:02:00.0000] <annevk3>
rubys, quotes have always been optional and misnested inlines have always been disallowed

[15:02:01.0000] <rubys>
My problem is more basic than that: What would "requiring" mean?  What does "disallowed" mean?

[15:03:00.0000] <rubys>
Will Opera refuse to show a page that doesn't meet one or the other criteria?

[15:03:01.0000] <rubys>
(that was rhetorical, the answer is "of course not")

[15:03:02.0000] <annevk3>
(right)

[15:03:03.0000] <annevk3>
That has also been pretty consistent from a historical perspective :)

[15:04:00.0000] <annevk3>
I was talking about authoring requirements. Much like the SVG WG was.

[15:04:01.0000] <rubys>
Is it best practice to nest corectly?  To always use quotes?  I can see arguments for both.

[15:06:00.0000] <annevk3>
I don't really know about best practice. Sounds fuzzy :)

[15:07:00.0000] <karlcow>
[17:54]  <Dashiva> Know of any cases where meta @keywords is actually used as keywords, and not just treated as normal text or ignored?

[15:07:01.0000] <karlcow>
spotlight on mac os x

[15:07:02.0000] <annevk3>
If it's really that unclear, I was simply talking about what prior HTML specifications required from authors. E.g. HTML4.

[15:08:00.0000] <Hixie>
wilhelm_: any news on the timeout spec?

[15:09:00.0000] <rubys>
/me really, really, really didn't want to use the "alt" attribute as my example, which is a case where HTML5 attempts to legislate "best practices" in a way that differs from HTML4

[15:09:01.0000] <Hixie>
/me wonders what to do with setTimeout() and company

[15:12:00.0000] <karlcow>
Yahoo too it seems if the claim is right http://help.yahoo.com/l/us/yahoo/search/ranking/ranking-02.html

[15:14:00.0000] <annevk3>
rubys, I'm not saying we can't make changes either way. As I said, I'd be happy with required quotes. I'm just saying that historically allowing unquoted attributes and disallowing misnested tags has been the way to go.

[15:15:00.0000] <gsnedders>
What's an example of something where all browsers interoperably break the spec?

[15:17:00.0000] <annevk3>
<datagrid>

[15:17:01.0000] <annevk3>
:)

[15:17:02.0000] <Hixie>
i don't think "don't implement any of it" counts as "breaking the spec" :-P

[15:17:03.0000] <annevk3>
(actually, I guess there are parsing differences in text/html)

[15:18:00.0000] <rubys>
gsnedders: http://www.w3.org/TR/html4/appendix/notes.html#h-B.3.3

[15:19:00.0000] <rubys>
In particular, shorthand markup.

[15:19:01.0000] <gsnedders>
/me was trying to avoid SGMLisms

[15:20:00.0000] <gsnedders>
rubys: Also, where in HTML 4.01 does it require an SGML parser to be used?

[15:20:01.0000] <gsnedders>
rubys: If there isn't such a thing, as I believe to be the case, then it isn't breaking the spec.

[15:21:00.0000] <rubys>
OK, here's a non GML HTML5 issue: "'Boolean attributes in HTML5 can't use the values "true" or "false" and I can't get myself to accept that fact." -- http://www.w3.org/QA/2009/03/a_rough_view_of_the_future.html

[15:23:00.0000] <annevk3>
I guess he never used HTML4 :)

[15:24:00.0000] <gsnedders>
/me would like a better thing which is certainly against the spec

[15:25:00.0000] <annevk3>
(Boolean attributes came pretty much straight from HTML4 although we removed the silly SGMLism that you specify the value rather than the attribute.)

[15:26:00.0000] <Hixie>
yeah that's not new in HTML5

[15:27:00.0000] <gsnedders>
So PHP html5lib tokenizer is currently at 10.2s to tokenize the spec

[15:27:01.0000] <gsnedders>
Compared with 7.46s for Python

[16:04:00.0000] <Hixie>
gsnedders: what would be a helpful reply to your e-mail?

[16:05:00.0000] <gsnedders>
Hixie: Just answer the questions somehow

[16:05:01.0000] <gsnedders>
(That's useless, I know.)

[16:07:00.0000] <Hixie>
gsnedders: is there sample output anywhere? i don't have a file to pass it to test it.

[16:08:00.0000] <gsnedders>
Not really. Grab css3-namespaces, Bert's DB (see the postprocessor docs, it's linked there), and run that

[16:09:00.0000] <Hixie>
uris?

[16:10:00.0000] <gsnedders>
http://dev.w3.org/cvsweb/~checkout~/csswg/css3-namespace/Overview.src.html

[16:10:01.0000] <Hixie>
wait, you can't give a url

[16:10:02.0000] <Hixie>
how does this work

[16:11:00.0000] <gsnedders>
File uploads only

[16:12:00.0000] <Philip`>
gsnedders: You should spend some time optimising the Python version

[16:12:01.0000] <gsnedders>
Philip`: Nah

[16:12:02.0000] <gsnedders>
Philip`: You do that well enough

[16:12:03.0000] <Philip`>
gsnedders: just to give yourself a better target to aim for in the PHP implementation

[16:12:04.0000] <Hixie>
well i replied

[16:12:05.0000] <Hixie>
dunno how helpful my reply will be!

[16:12:06.0000] <Philip`>
gsnedders: But I've run out of ways to make it faster, so I was hoping you could try it instead :-p

[16:13:00.0000] <Hixie>
i recommend removing the python interpreter

[16:13:01.0000] <Hixie>
it seems like a big bottleneck

[16:13:02.0000] <gsnedders>
Nice conclusion :)

[16:37:00.0000] <Hixie>
hm, no ietf apparea minutes yet


2009-03-26
[17:34:00.0000] <annevk3>
"HTML5 Web Workers" You'd think that the Google guys of all people know that Web Workers was never in HTML5 to begin with :)

[17:34:01.0000] <Hixie>
it's in html5 now!

[17:35:00.0000] <Hixie>
well it's in webapps/current-work/source

[17:35:01.0000] <Hixie>
but yeah

[17:35:02.0000] <Hixie>
we need a new name to refer to all these technologies

[17:40:00.0000] <Hixie>
annevk3, i might need you to do something for sync xhr (namely, release the storage mutex)

[17:40:01.0000] <Hixie>
i'll let you know later.

[17:46:00.0000] <dave_levin>
annevk3: The html5 prefix was an oversight.  I'll see if I can get it fixed.

[19:45:00.0000] <MikeSmith>
Hixie: i'm wondering what an "earthquake prevention kit" is

[20:24:00.0000] <jcranmer>
(long story)

[23:47:00.0000] <gsnedders>
/me needs to wake up

[23:51:00.0000] <zcorpan>
/me enumerates window in ie8

[23:51:01.0000] <zcorpan>
window.maxConnectionsPerServer=6

[23:51:02.0000] <zcorpan>
onhelp=null

[23:52:00.0000] <zcorpan>
offscreenBuffering=auto

[23:53:00.0000] <takkaria>
gsnedders: boo

[23:54:00.0000] <zcorpan>
they have a clientInformation attribute that seems identical to navigator

[23:54:01.0000] <gsnedders>
/me jumps in fright

[23:54:02.0000] <gsnedders>
All these southerners!

[00:26:00.0000] <gsnedders>
I need to learn to spell.

[00:26:01.0000] <hsivonen>
interesting comments at http://almaer.com/blog/canvas-3d-standards-and-where

[00:28:00.0000] <hsivonen>
annevk3: Re: validator.nu messages: perhaps I should just bite the bullet and merge George Bina's improvements directly on the v.nu branch of Jing...

[00:31:00.0000] <hsivonen>
from the text editor authoring perspective, I'd be unhappy with required quotess on attributes

[00:51:00.0000] <Hixie>
annevk3: yt?

[00:58:00.0000] <zcorpan>
hsivonen: checking just quotes would be pointless. it's better to check full polyglotness

[01:00:00.0000] <hsivonen>
zcorpan: who'd be my users for a full polyglotness check? I can think of two potential users right now.

[01:01:00.0000] <zcorpan>
hsivonen: who other than sam?

[01:04:00.0000] <hsivonen>
zcorpan: the other polyglot publisher I had in mind was Jacques Distler

[01:04:01.0000] <zcorpan>
ah

[01:05:00.0000] <zcorpan>
yep and it would be nice for people who come from xhtml 1.0 validation and don't want to regress their "strictness" checking

[01:06:00.0000] <zcorpan>
although i would only include the checkbox in the advanced interface :)

[01:06:01.0000] <hsivonen>
zcorpan: oh yeah, I have an open feature request on XHTML strictness stuff

[01:07:00.0000] <hsivonen>
zcorpan: I have feedback (in addition to feedback from you) that it would be a killer XHTML 1.0 to HTML5 evangelism feature

[01:07:01.0000] <zcorpan>
hsivonen: but did you plan to implement that as full polyglotness checking or just warning on implied tags?

[01:08:00.0000] <gsnedders>
jgraham / annevk3: Can one of you add seanecoates to html5lib?

[01:09:00.0000] <hsivonen>
zcorpan: I was thinking of implementing warning on implied tags. 

[01:13:00.0000] <zcorpan>
hsivonen: partial polyglotness checking is already possible but it's hard to discover and requires several changes from the default

[01:14:00.0000] <zcorpan>
hsivonen: i think it would be nice with a checkbox that validated as both html and xhtml and maybe check stuff like <pre>\n

[01:15:00.0000] <jgraham>
gsnedders: who is he?

[01:16:00.0000] <MikeSmith>
zcorpan: about http://simon.html5.org/test/validator/content-model/label/input-in-label-with-for.html

[01:16:01.0000] <jgraham>
And is that a gmail address?

[01:17:00.0000] <MikeSmith>
zcorpan: the change I made to assertions.sch will catch that as an error

[01:18:00.0000] <MikeSmith>
but need to change it in the java assertions code that v.nu actually uses, in order for v.nu to be able to report it as an error

[01:18:01.0000] <hsivonen>
MikeSmith: I deployed your patches from yesterday. Thanks!

[01:18:02.0000] <MikeSmith>
hsivonen: cool

[01:18:03.0000] <hsivonen>
zcorpan: I think people who'd appreciate <pre>\n correctness as opposed to being confused by it would be very few :-/

[01:20:00.0000] <MikeSmith>
hsivonen: the case where the id() checking assertions.sch results in suboptimal reporting is <label for=foo>bar <input id=foo><input id=foo></label>

[01:20:01.0000] <MikeSmith>
the duplicate IDs will get reported by the validator (if it's doing ID checking)

[01:21:00.0000] <hsivonen>
MikeSmith: ok (yes, the filter does duplicate checking)

[01:21:01.0000] <MikeSmith>
so assertions.sch, checking by itself, will only report the second <input id=foo> instance as an error

[01:22:00.0000] <olliej>
annevk3: yt?

[01:22:01.0000] <zcorpan>
hsivonen: yes probably

[01:23:00.0000] <MikeSmith>
hsivonen: understood. I meant in the general case -- where somebody might be using assertions.sch outside of v.nu

[01:23:01.0000] <hsivonen>
MikeSmith: I think it's ok to assume a separate duplicate checking layer

[01:23:02.0000] <MikeSmith>
OK

[01:24:00.0000] <MikeSmith>
so actually I mean for the case <label for=foo>bar <input id=goo><input id=goo></label>

[01:24:01.0000] <MikeSmith>
where the ID and @for don't match

[01:25:00.0000] <MikeSmith>
in that case, it will report "The ‚Äúfor‚Äù attribute of the ‚Äúlabel‚Äù element must refer to a form control."

[01:25:01.0000] <MikeSmith>
which it was already doing, and is expected

[01:25:02.0000] <MikeSmith>
but also will report

[01:29:00.0000] <MikeSmith>
will report 'An "input" descendant of a "label" element with a "for" attribute must have a unique ID value that matches that "for" attribute.' only for the second <input> instance

[01:30:00.0000] <MikeSmith>
I think it would be better if it reported it for the first as well, but I don't know how to make that happen just with XPath and id()

[01:30:01.0000] <MikeSmith>
anyway, it's not a big deal

[01:33:00.0000] <MikeSmith>
hsivonen: fwiw, what it does exactly is, when it hits the test "not(count(.|id(ancestor::h:label/@for)) = count(id(ancestor::h:label/@for)))", it passes for the first <input> instance with 1=1

[01:34:00.0000] <MikeSmith>
but when it hits the test for it for the second <input> instance, it fails as expected with 2 !=1

[01:34:01.0000] <MikeSmith>
(2 nodes that have an ID that's the same as the value of @for)

[01:35:00.0000] <hsivonen>
hmm. what does .|if(...) mean?

[01:35:01.0000] <MikeSmith>
it seems like that test should fail for <input> instance as well, but I don't understand why it doesn't

[01:35:02.0000] <hsivonen>
um .|id(...)

[01:35:03.0000] <gsnedders>
jgraham: Rather well known PHP developer. That is his Google username.

[01:36:00.0000] <MikeSmith>
hsivonen: it means, take the union of the context node and any label nodes with @for that ancestors of the context node

[01:37:00.0000] <MikeSmith>
and make it a nodeset

[01:37:01.0000] <MikeSmith>
and then the count() just counts the number of nodes in that nodeset

[01:37:02.0000] <hsivonen>
ah so that the context node disappears in the count if it's already in the set returned by id()?

[01:37:03.0000] <MikeSmith>
right, exactly

[01:37:04.0000] <hsivonen>
ok makes sense.

[01:38:00.0000] <MikeSmith>
that's the main way to check for node equivalence in pure XPath

[01:38:01.0000] <MikeSmith>
afaik

[01:38:02.0000] <annevk3>
olliej, Hixie, pong (for a few minutes)

[01:38:03.0000] <hsivonen>
ok. I don't find XPath very intuitive, but then I have never learned it properly.

[01:38:04.0000] <MikeSmith>
well, I've never learned it properly either

[01:39:00.0000] <hsivonen>
MikeSmith: you have better solutions that I had. The schematron checks around ARIA IDREFS are still subtly wrong

[01:40:00.0000] <hsivonen>
s/that/than/

[01:40:01.0000] <Hixie>
annevk3: xhr

[01:40:02.0000] <hsivonen>
(the Java checks around ARIA IDREFS should be correct, though)

[01:40:03.0000] <olliej>
annevk3: apparently getComputedStyle does weird things wrt text-shadow in o9.6 and 10a

[01:40:04.0000] <Hixie>
annevk3: can we add "Release the storage mutex." as a requirement somewhere near the start of the sync XHR process

[01:41:00.0000] <Hixie>
annevk3: and can we add "obtain the storage mutex" before you apply cookies and "release the storage mutex" afterwards?

[01:41:01.0000] <MikeSmith>
well, maybe I can take a look at those in assertions.ssh too at some point. I'm not sure how valuable it will be in the long run to have assertions.sch in sync, but it seems worth trying to for now at least. I can imagine that some might find it useful with other toolchains

[01:41:02.0000] <Hixie>
annevk3: (for both sync and async)

[01:41:03.0000] <annevk3>
Hixie, likely, but please email

[01:41:04.0000] <Hixie>
annevk3: (er, the releases are only for sync)

[01:41:05.0000] <Hixie>
annevk3: ok

[01:42:00.0000] <MikeSmith>
hsivonen: and having it might save them some time from trying to go through and re-invent it themselvs

[01:42:01.0000] <annevk3>
olliej, file a bug? :)

[01:42:02.0000] <olliej>
annevk3: he has

[01:43:00.0000] <annevk3>
olliej, https://bugs.opera.com/wizard/

[01:43:01.0000] <annevk3>
olliej, ok, great

[01:43:02.0000] <MikeSmith>
hsivonen: If I could get Norm Walsh to look at it, he could write it in his sleep. me with XPath, it's like I'm rubbing sticks together to make fire

[01:44:00.0000] <hsivonen>
MikeSmith: I asked on the schematron list, but the suggestions I got were really complex

[01:45:00.0000] <MikeSmith>
I see

[01:45:01.0000] <hsivonen>
MikeSmith: in fact, I should take another look and report back to the list. The situation seemed so hard that I've postponed taking a good look for way too long.

[01:46:00.0000] <Hixie>
annevk3: sent, thanks

[01:47:00.0000] <Hixie>
well i should sleep

[01:47:01.0000] <Hixie>
nn

[01:47:02.0000] <MikeSmith>
hsivonen: well, along with the table-integrity case, maybe it's a case where, while it may be possible in schematron, the complexity and inelegance of doing it in schematron make it a suboptimal means for checking of that particular constraint

[01:48:00.0000] <hsivonen>
MikeSmith: the ARIA IDREFS stuff is very near the simple end of spectrum of constraints, so I think it's a pretty big failure for XPath if it really is hard to express

[01:50:00.0000] <hsivonen>
MikeSmith: IIRC, the problem is this:

[01:50:01.0000] <hsivonen>
with IDREFS, I want to check that 1) all the IDs match and 2) that a condition hold true for all of them

[01:50:02.0000] <hsivonen>
however, id() tells me if there were zero matches or > 0 matches

[01:51:00.0000] <hsivonen>
when I want to know that there were as many matches as there were tokens

[01:51:01.0000] <hsivonen>
except when the tokens are duplicates of each other

[01:51:02.0000] <MikeSmith>
OK, I see

[01:52:00.0000] <olliej>
/me admires modifications to the semantics of standard web content to suit a single UA

[01:52:01.0000] <hsivonen>
MikeSmith: IIRC, the problem is that pure XPath 1.0 doesn't allow me to count the # of space-separated tokens in an attribute value

[01:52:02.0000] <hsivonen>
MikeSmith: even if I had a RELAX NG -level check for duplicate tokens

[01:53:00.0000] <MikeSmith>
hsivonen: yeah, that limitation in XPath 1.0 sounds right to me. maybe it's possible in 2.0 but that doesn't help us here

[01:53:01.0000] <hsivonen>
maybe it does if we are OK with using a schematron flavor that is tied to Saxon 9

[01:57:00.0000] <MikeSmith>
hsivonen: maybe that'd be a better solution that to struggle with XPath 1.0 limitations

[01:58:00.0000] <MikeSmith>
but there are still a lot of people using XPath 1.0 tools like libxml2

[01:58:01.0000] <MikeSmith>
libxslt2

[01:58:02.0000] <hsivonen>
it might also be worthwhile to see what interoperable extensions EXSLT offers around this area

[01:58:03.0000] <MikeSmith>
ah yeah

[01:59:00.0000] <MikeSmith>
but that wouldn't do any good for a non-XSLT schematron implementation like the one in jing

[02:01:00.0000] <hsivonen>
MikeSmith: the implementatino in Jing is an XSLT implementatino

[02:01:01.0000] <hsivonen>
*tion

[02:02:00.0000] <MikeSmith>
hsivonen: oh, OK, didn't know

[02:04:00.0000] <hsivonen>
I wonder if I should try to address some of the SVG-in-text/html concerns by provide HTML2XML as a Web-based app

[02:13:00.0000] <Philip`>
hsivonen: Like http://services.philip.html5.org/html-to-xhtml/ ?

[02:14:00.0000] <hsivonen>
Philip`: oh cool. Yeah, that what I had in mind except I considered allowing the user to paste the URL of a remove HTML document

[02:14:01.0000] <hsivonen>
and have the result download with Content-Disposition: attachment

[02:14:02.0000] <Philip`>
/me didn't do that since he didn't want to have to worry about the security implications

[02:18:00.0000] <jgraham>
gsnedders: Done

[02:20:00.0000] <jgraham>
/me wishes for some system that didn't involve making uninformed decisions about who to add as contributers whilst still keeping the barrier to entry low

[02:22:00.0000] <jgraham>
(a DVCS seems like it would help here)

[02:23:00.0000] <Philip`>
jgraham: Like a DVCS, so everyone can be their own committer, and you judge their work to decide whether to merge it?

[02:23:01.0000] <Philip`>
Oh, good idea

[02:24:00.0000] <hsivonen>
is there a hosting service for hg that'd host some kind of html5lib-central?

[02:25:00.0000] <Philip`>
GitHub? (Not technically Hg but that shouldn't matter much)

[02:25:01.0000] <jgraham>
BitBucket

[02:25:02.0000] <hsivonen>
Philip`: I'm aware of GitHub, I'm interested in a service for hg

[02:26:00.0000] <hsivonen>
jgraham: thanks

[02:27:00.0000] <jgraham>
/me wonders if he could host html5lib on bitbucket and set up a post-commit hook to automatically push changes to google code

[02:27:01.0000] <hsivonen>
/me wonders if it were feasible to put V.nu on bitbucket

[02:27:02.0000] <hsivonen>
Is there a proper Eclipse plug-in for hg?

[02:28:00.0000] <hsivonen>
where the built-in CVS thingy and Subclipse count as being proper enough

[02:29:00.0000] <jgraham>
http://www.vectrace.com/mercurialeclipse/ ?

[02:30:00.0000] <hsivonen>
jgraham: have you tried it?

[02:32:00.0000] <jgraham>
hsivonen: No. I have nevber even used Eclipse :)

[02:32:01.0000] <jgraham>
*never

[02:34:00.0000] <hsivonen>
ok

[02:46:00.0000] <hsivonen>
why do widgets use xmldsig instead of signing the zip content bytes?

[02:46:01.0000] <hsivonen>
roughly like jars are signed

[02:50:00.0000] <hsivonen>
XML signatures are fun, because they depend on people being able to write bug-free XML serializers

[02:51:00.0000] <hsivonen>
Philip`: you could have a field day finding bugs that upon fixing theoretically break existing signatures

[02:54:00.0000] <Philip`>
http://www.smspower.org/

[02:54:01.0000] <Philip`>
http://www.smspower.org/scalefix.js - using <canvas> to scale images

[02:55:00.0000] <Philip`>
(and, incidentally, using getImageData in a way that will break if 1 coordinate space unit != 1 canvas ImageData pixel)

[03:06:00.0000] <roc>
heh

[03:06:01.0000] <roc>
I tried to persuade Ollie

[03:07:00.0000] <olliej>
roc: safari has always supported canvas where 1css px != 1 canvas px

[03:07:01.0000] <olliej>
rothat was in the original definition

[03:07:02.0000] <roc>
ok

[03:07:03.0000] <roc>
it's still going to break

[03:08:00.0000] <Philip`>
hsivonen: How would that be possible? Presumably people only sign sane documents (not ones intentionally trying to trigger bugs), and it doesn't seem that hard to serialise Canonical XML in sane cases, so there'd never be any need to change it for obscure bugs

[03:08:01.0000] <roc>
(getImageData, the way it is defined)

[03:08:02.0000] <hsivonen>
Philip`: note "theoretically"

[03:08:03.0000] <hsivonen>
Philip`: IIRC, Apache has had a bug in their signing serializer

[03:09:00.0000] <Philip`>
hsivonen: (I assume by "break" you mean "cause not to work", rather than "allow the creation of an arbitrary document with the same hash" or something)

[03:09:01.0000] <olliej>
roc: this is going to become another example of a "feature" that drastically harms the future-proofness of a basic tech

[03:09:02.0000] <hsivonen>
Philip`: so *theoretically* it's possible that someone has signed a document that triggered the bug

[03:09:03.0000] <olliej>
roeg. moz exposiing and encouraging 1px = 1canvas px basically forces low res canvas for ever

[03:09:04.0000] <olliej>
roc

[03:09:05.0000] <hsivonen>
Philip`: after all, I know real people have hit the bug

[03:09:06.0000] <roc>
we're not encouraging that

[03:09:07.0000] <roc>
that's just the way it is for Mozilla users and almost all Safari users

[03:10:00.0000] <roc>
so that's all they test

[03:10:01.0000] <hsivonen>
Philip`: by break I mean that validating a signature says the signature is bogus

[03:10:02.0000] <roc>
so their sites will break when used by the other users

[03:10:03.0000] <Philip`>
olliej: It seems there should still be other solutions, e.g. canvas could be high-res but getImageData returns a low-res 1:1 version of the pixels insteaad (and loses data)

[03:10:04.0000] <olliej>
yup

[03:10:05.0000] <roc>
Philip`: That's what I was pushing

[03:10:06.0000] <hsivonen>
Philip`: and then some system refuses to talk with some other software

[03:10:07.0000] <olliej>
and so i will eventually have to code a routine that subsamples canvas to avoid breaking compatibility with firefox

[03:10:08.0000] <olliej>
yay

[03:11:00.0000] <roc>
no

[03:11:01.0000] <Philip`>
It's not about compatibility with Firefox, it's about compatibility with people's perceptions of <canvas> regardless of what browser they tested in

[03:11:02.0000] <roc>
you have to avoid breaking compatibility with all the Safari users who have normal dpi screens

[03:12:00.0000] <roc>
all the Web developers who tested their site on Safari with a normal screen and assumed that would work for everyone else

[03:12:01.0000] <olliej>
Philip`: the alternative is that we throw out the idea that canvas actually looks good on high dpi displays

[03:12:02.0000] <hsivonen>
for the same reason, I don't believe browser-based CSS renderers could ever change the px to pt ratio

[03:12:03.0000] <olliej>
roc: um, i have yet to see a getimagedemo written by someone other than me that looked at safari first

[03:12:04.0000] <roc>
hsivonen: we do

[03:12:05.0000] <olliej>
hsivonen: we do

[03:12:06.0000] <roc>
on trunk

[03:12:07.0000] <hsivonen>
whoa!

[03:12:08.0000] <roc>
on Firefox 3 actually

[03:12:09.0000] <hsivonen>
does it break sites?

[03:12:10.0000] <olliej>
hsivonen: have done since S2

[03:12:11.0000] <roc>
no

[03:13:00.0000] <hsivonen>
I'm surprised

[03:13:01.0000] <roc>
that works because you don't need an unusual screen to see differences

[03:13:02.0000] <olliej>
hsivonen: everything gets scaled appropriately

[03:13:03.0000] <roc>
olliej: do you really not understand what I'm saying?

[03:13:04.0000] <hsivonen>
but who has Safari or Firefox configured with an unusual px to pt ratio? I have no idea how to configure that.

[03:14:00.0000] <olliej>
hsivonen: because realistically points, inches, etc are in terms of css px

[03:14:01.0000] <olliej>
hsivonen: absolute units are notional

[03:14:02.0000] <olliej>
hsivonen: the ratio between css units and device pixels can changes arbitrarily

[03:14:03.0000] <olliej>
and our canvas impl reflects this

[03:14:04.0000] <hsivonen>
olliej: device pixels, sure. I meant the ratio of CSS px and CSS pt

[03:15:00.0000] <olliej>
hsivonen: oh hell no we don't do that, that would i'm fairly sure be distastrous --don't know about moz though

[03:15:01.0000] <olliej>
roc: are you saying moz will vary css px : css pt ratio?

[03:16:00.0000] <roc>
yeah

[03:16:01.0000] <roc>
since FF3

[03:17:00.0000] <roc>
we detect your screen DPI

[03:17:01.0000] <roc>
and set pt appropriately

[03:17:02.0000] <roc>
we had a few complaints IIRC

[03:17:03.0000] <hsivonen>
roc: how does the detection work?

[03:17:04.0000] <roc>
but very little really

[03:17:05.0000] <olliej>
we explicitly do not

[03:17:06.0000] <roc>
hsivonen: platform APIs

[03:17:07.0000] <roc>
you can also override dpi explicitly

[03:17:08.0000] <roc>
open about:config and modify layout.css.dpi to experiment

[03:18:00.0000] <olliej>
roc: we just change the entire context so that we may have multiple device pixels per css px

[03:18:01.0000] <Philip`>
/me wonders how the platform knows what size monitor he's plugged in

[03:18:02.0000] <hsivonen>
roc: do many people on desktop have those APIs returning non-traditional values?

[03:18:03.0000] <roc>
I think those APIs are pretty accurate on Mac and Windows. X is a mess as usual

[03:18:04.0000] <roc>
so you get what your screen is

[03:19:00.0000] <roc>
and screens do vary quite a bit these days

[03:19:01.0000] <hsivonen>
roc: I thought the Windows API dependend on a user setting that has had two values since Windows 3: 96 and 120

[03:20:00.0000] <hsivonen>
Do DVI and VGA have a mechanism for reporting the actual dpi of the device? I had always though something like this could only work with Apple displays and Apple OS

[03:20:01.0000] <hsivonen>
anyway, it's news to me that those APIs return something useful on Mac and Windows

[03:20:02.0000] <roc>
modern Windows can do that

[03:21:00.0000] <Philip`>
Vista lets you pick anything from 96dpi to 480dpi

[03:21:01.0000] <Philip`>
(via the Control Panel)

[03:22:00.0000] <hsivonen>
Philip`: but does it autodetect the default?

[03:22:01.0000] <roc>
hsivonen: we use GetDeviceCaps(dc, LOGPIXELSY) ... I can't guarantee that works correctly on Windows, but it's supposed to

[03:22:02.0000] <Philip`>
hsivonen: I think it always defaults to 96dpi

[03:22:03.0000] <hsivonen>
Philip`: that was what I was after

[03:23:00.0000] <Philip`>
which it labels the "Default scale" (vs 120dpi being "Larger scale", and the others being behind the "Custom DPI" button)

[03:23:01.0000] <roc>
I know we're getting some sort of right DPI on X because people have complained about it

[03:23:02.0000] <hsivonen>
roc: my guess is s/right/different/ :)

[03:23:03.0000] <roc>
looks like on Mac we're not doing the right thing

[03:24:00.0000] <Philip`>
People like to think of their computer displays as being pixels, not as being a pixel-based approximation to an inch-based vector image, so DPI changes are weird and confusing :-)

[03:25:00.0000] <roc>
even if we're only getting 96 or 120 most of the time, it's OK, it still breaks people making assumptions about pt :-)

[03:25:01.0000] <zcorpan>
Hixie: you should have pushed harder for aria-role back in 2007 when it was first suggested

[03:26:00.0000] <roc>
olliej: anyway, getImageData as specified is stuffed unless you can arrange for most Web developers to see a ratio of CSS pixels to dev pixels that's not 1

[03:27:00.0000] <olliej>
roc: yeah, currently it's not sufficient :-/

[03:27:01.0000] <Philip`>
Good luck on educating web developers :-p

[03:27:02.0000] <olliej>
roc: i think i commented on this in whatg ml at some point

[03:27:03.0000] <roc>
yeah, we had a long discussion about it

[03:28:00.0000] <roc>
you won, and got this getImageData API

[03:28:01.0000] <roc>
"won"

[03:28:02.0000] <olliej>
hehe

[03:29:00.0000] <roc>
IMHO you should give up, let getImageData be lossy, and in a few years when Web devs have got super-high-dpi screens, create getImageDataEx

[03:29:01.0000] <olliej>
/me cries

[03:29:02.0000] <olliej>
robut yes

[03:29:03.0000] <olliej>
i suspect you are right

[03:30:00.0000] <Philip`>
The API should have been designed to pick a random value between 1 and 1.5, then multiply all the sizes by that value before extracting the pixels and returning the ImageData

[03:31:00.0000] <Philip`>
That way people couldn't rely on it having a 1:1 mapping to canvas coordinate space units, even if they only test in a single browser

[03:31:01.0000] <olliej>
Philip`: hehe

[03:57:00.0000] <Dashiva>
Philip`: So people can run the function N times and extract the original value instead? :)

[04:43:00.0000] <hsivonen>
w00t! finally passing http://hixie.ch/tests/adhoc/dom/level0/write/003.html

[04:44:00.0000] <hsivonen>
starting an HTML load and ending it turned out to be much hairier than I imagined

[04:50:00.0000] <Philip`>
When people argue that writing an HTML parser is much harder than writing an XHTML parser, it sounds like they're actually right (though because of document.write rather than any syntax issues)

[04:58:00.0000] <wilhelm_>
Hixie: Yes, but I haven't had time to wrap it up. Please ask the same question again on Sunday. (c:

[04:59:00.0000] <Philip`>
data:text/xml,<html xmlns='http://www.w3.org/1999/xhtml'><body><div><script>var d = document.getElementsByTagName('body')[0]; d.parentNode.removeChild(d)</script></div>test</body></html>

[04:59:01.0000] <Philip`>
Looking at that in Dragonfly in Opera, it looks like the "test" text is a sibling of the root html element

[04:59:02.0000] <Philip`>
which surely isn't good

[04:59:03.0000] <Philip`>
since it kind of defeats the point of having a root element

[05:00:00.0000] <Philip`>
(Opera 9.64 in particular)

[05:01:00.0000] <virtuelv>
Philip`: known issue, IIRC

[05:03:00.0000] <Philip`>
(If I wrap the script in two divs then the text vanishes entirely - I presume the </div>s are causing the open element stack to be popped even if the div elements have already been removed from it via scripts)

[05:03:01.0000] <Philip`>
I guess this is where an XML parser spec would be nice :-)

[05:09:00.0000] <hsivonen>
Philip`: actually, in this case, the problem wasn't document.write, but the the interaction of global object association with the document, the order of calls into the parser, managing the readiness of the document and scripts as a group and deferring the load event

[05:09:01.0000] <hsivonen>
Philip`: all issues that apply to application/xhtml+xml

[05:10:00.0000] <hsivonen>
Philip`: and part of it was Gecko-specific quirkiness: calls to the parser before the global scope is ready

[05:10:01.0000] <hsivonen>
Philip`: and onload deferring being tied to the global scope in a non-obvious way

[05:22:00.0000] <rubys>
hsivonen: just curious: how quickly could you develop and deploy polyglotness testing?  Even if it was significantly incomplete, I think it would be valuable for educational reasons.

[05:24:00.0000] <hsivonen>
rubys: I don't know. Forming a good estimate would involve doing the work of thinking about what the issues are, which is the difficult part. :-)

[05:25:00.0000] <rubys>
http://wiki.whatwg.org/wiki/HTML_vs._XHTML

[05:25:01.0000] <rubys>
Again, I do think even if it was significantly incomplete, it would be very valuable.  Everywhere I turn I run into people who think they are producing XHTML.

[05:26:00.0000] <rubys>
It often is very hard to convince them otherwise.

[05:26:01.0000] <hsivonen>
rubys: are you looking for stuff like <pre>\n and <input type="hidden" value='\n'>?

[05:27:00.0000] <hsivonen>
rubys: or just attribute quotes and implied tags?

[05:27:01.0000] <rubys>
I'd like to see &nbsp; flagged.  Is it valid in XHTML1?  Yes.  But does it enable you to read the page with a random XML parser?  Generally, no.

[05:27:02.0000] <hsivonen>
ouch

[05:27:03.0000] <rubys>
ouch as in that's hard?

[05:28:00.0000] <hsivonen>
ouch as in you seem to be looking for tokenizer-level things instead of tree builder level

[05:28:01.0000] <rubys>
"In XHTML: <![CDATA[...]]> is a CDATA section. In HTML, it's a bogus comment. "

[05:28:02.0000] <Lachy>
that wiki page seems a little incomplete now. It doesn't mention the <pre>\n or <input value="\n"> issues, and needs to be updated with SVG and MathML stuff

[05:28:03.0000] <hsivonen>
detecting which entity is being expanded is doable, but that code is in the 'here be dragons' territory 

[05:29:00.0000] <hsivonen>
hmm. perhaps I already have a check for apos anyway

[05:29:01.0000] <hsivonen>
so not too hard, just an area that I don't like poking :-)

[05:30:00.0000] <rubys>
It would also help resolve the svg in html issue.  :-)

[05:34:00.0000] <rubys>
Lachy: my guess is that the wiki page will always be incomplete.

[05:35:00.0000] <Lachy>
sure, but I should find some time to keep it as complete as possible

[05:36:00.0000] <zcorpan>
hsivonen: why not validate twice to do polyglotness checking?

[05:36:01.0000] <hsivonen>
rubys: for a practical resolution of the issue by writing software, I think it would be more useful to make the converter service that allows remote URLs

[05:37:00.0000] <hsivonen>
zcorpan: that would be way too simple :-)

[05:37:01.0000] <rubys>
html5lib comes close to being a converter service

[05:37:02.0000] <zcorpan>
hsivonen: why reject the simple solution? :)

[05:37:03.0000] <hsivonen>
zcorpan: I guess the real issue is conneg serving different bytes if the validator dereferences the URI twice

[05:37:04.0000] <Lachy>
zcorpan, because validation alone doesn't catch all polyglot incompatibilities

[05:37:05.0000] <rubys>
it could easily be put online.  Perhaps even with appengine

[05:38:00.0000] <hsivonen>
rubys: Philip` already put a converter online

[05:38:01.0000] <hsivonen>
rubys: it just lacks one feature

[05:38:02.0000] <hsivonen>
rubys: but to be fair to Philip` I, too, shyed away from that feature earlier for security and legal worries

[05:38:03.0000] <zcorpan>
hsivonen: couldn't you use the same stream of bytes twice?

[05:38:04.0000] <Lachy>
zcorpan, e.g., it woudln't catch that <pre>\n issue, since its valid with or without the new line, but the incompatibility is caused by the different processing requirements

[05:39:00.0000] <hsivonen>
zcorpan: not without some infrastructure work

[05:39:01.0000] <rubys>
what's that feature?

[05:39:02.0000] <hsivonen>
rubys: being able to enter an arbitrary URL that dereferences into text/html and the service proxies it to the client as application/xhtml+xml

[05:40:00.0000] <hsivonen>
rubys: but I think the real risk seems negligible

[05:40:01.0000] <rubys>
I would add one more worry: server load

[05:41:00.0000] <hsivonen>
rubys: that shouldn't be worse than the current parse tree service unless someone in start using the service as an open proxy to work around censorship or user tracking

[05:41:01.0000] <rubys>
Many requested that the feed validator produce a feed of results.  I don't believe that I could survive the load of having gazillions of people polling their pages once an hour.

[05:42:00.0000] <hsivonen>
s/ in //

[05:42:01.0000] <hsivonen>
rubys: have you suggested that those who ask it use inursite?

[05:43:00.0000] <anne-m>
use the same stream of bytes and compare the output trees? quite a bit of overhead though

[05:43:01.0000] <rubys>
didn't know about inursite?

[05:44:00.0000] <anne-m>
/me wonders why typing an opening parenthesis and ampersand don't work in mibbit

[05:44:01.0000] <rubys>
/me likes anne-m's thought

[05:44:02.0000] <zcorpan>
anne-m: no, assume the trees are the same but have checks in the html parser for the differences

[05:45:00.0000] <hsivonen>
http://inursite.com/

[05:45:01.0000] <rubys>
oh, I found it.  I also found the page where Ryan says he's moving on

[05:45:02.0000] <hsivonen>
oh

[05:45:03.0000] <anne-m>
zcorpan, that seems more complex

[05:45:04.0000] <hsivonen>
/me hasn't seen a page where Ryan says he is moving on

[05:45:05.0000] <zcorpan>
anne-m: but less overhead

[05:45:06.0000] <anne-m>
olliej, just enlarge the <canvas> :)

[05:46:00.0000] <rubys>
http://theryanking.com/entries/2008/12/01/moving-on-from-inursite/

[05:46:01.0000] <anne-m>
/me thought we were looking for something simple to toy around with

[05:47:00.0000] <hsivonen>
comparing the trees makes sense

[05:47:01.0000] <hsivonen>
with SAX Tree, you'd even get error locations in source

[05:47:02.0000] <hsivonen>
it would totally break all the careful streamability of V.nu

[05:48:00.0000] <rubys>
Start two threads, read alternatlely from both, abort on first error?

[05:48:01.0000] <hsivonen>
a more 'right' way would be moving from the java.io model to a browser-like IO model

[05:49:00.0000] <hsivonen>
but I don't have a Java XML parser that supported that IO model

[05:50:00.0000] <rubys>
The way I would approach it is to smart small, perhaps only checking for missing quotes since that seems to be an emotional issue for reasons that escape me, and slowly add a new feature every week or three.  Over time, the service would be very helpful for advocacy.

[05:52:00.0000] <zcorpan>
hsivonen: hmm i wonder why i don't get a fatal error for <html a>x<html b> in html-to-xhtml

[05:52:01.0000] <hsivonen>
rubys: Ryan's blog post adds more evidence to the pile of evidence of no one having succeeded in making a business of monetizing an online validator by making the users pay

[05:52:02.0000] <rubys>
I would be willing to help, either in the definition, the coding, or the testing.

[05:53:00.0000] <hsivonen>
zcorpan: it is using the tree mode

[05:54:00.0000] <zcorpan>
hsivonen: i get a fatal error for <html>x<html b>

[05:54:01.0000] <hsivonen>
rubys: I think it would make sense to try out the tree comparison idea first as a separate offline tools that uses the rewindable input stream form nu.validator.htmlparser.rewindable

[05:55:00.0000] <hsivonen>
rubys: having both parsers build a SAX Tree tree with locator data and comparing the trees

[05:55:01.0000] <hsivonen>
zcorpan: seems like you've found a bug

[05:56:00.0000] <rubys>
My biggest concern about tree comparison is error recovery.

[05:56:01.0000] <hsivonen>
rubys: you could only report the first difference

[05:57:00.0000] <zcorpan>
hsivonen: want me to file a bug?

[05:57:01.0000] <hsivonen>
zcorpan: that would help, yes

[05:57:02.0000] <rubys>
I think I suggested that.  Useful for true polygots (a very small set of people), and wouldn't have the quite the same advocacy/educational value.

[05:59:00.0000] <hsivonen>
aargh. Gecko takes the frame name from a different attribute in XHTML and HTML

[06:02:00.0000] <hsivonen>
rubys: I guess I disagree about polyglotness as something that people should be advocated/educated to do

[06:03:00.0000] <rubys>
it's actually the other way around... educate them on how hard it really is

[06:03:01.0000] <hsivonen>
oh

[06:03:02.0000] <rubys>
let them come to the realization that it isn't worth it.

[06:03:03.0000] <rubys>
What I do is hard.  You don't see me recommending it to others.

[06:04:00.0000] <rubys>
My experience differs from this statement: http://wiki.whatwg.org/wiki/FAQ#Will_.28X.29HTML_5_finally_put_an_end_to_the_XHTML_as_text.2Fhtml_debate.3F

[06:05:00.0000] <rubys>
My hope is that an online tool would help point out that what people believe is XHTML really doesn't address their percieved (and largely non-existent) use case.

[06:06:00.0000] <Philip`>
rubys: Some evidence suggests education won't work

[06:06:01.0000] <Philip`>
rubys: http://hixie.ch/advocacy/xhtml uses "<!--//--><![CDATA[//><!--" as an example of how "ridiculously complicated" it is to write inline scripts in polyglot documents

[06:06:02.0000] <hsivonen>
rubys: there's a risk that if I add a near-impossible validation target, some people will start advocating it as the most righteous target since it is the harders

[06:06:03.0000] <hsivonen>
t

[06:06:04.0000] <hsivonen>
hardest

[06:06:05.0000] <Philip`>
rubys: but I see about 0.5% of sites uses that ridiculous string

[06:06:06.0000] <Philip`>
*using

[06:07:00.0000] <rubys>
My "HTML Evolution" is a polyglot document that even uses < is inline CSS without that ridiculous string

[06:07:01.0000] <rubys>
s/is/in/

[06:07:02.0000] <zcorpan>
rubys: you mean > ?

[06:07:03.0000] <Philip`>
(which is far more than the 0.01% or whatever tiny number of pages it is that actually use application/xhtml+xml from the same sample)

[06:07:04.0000] <rubys>
yup.  s/</>/

[06:08:00.0000] <hsivonen>
can someone point me to a definition of window.frames.authorspecifiedframename ?

[06:09:00.0000] <zcorpan>
hsivonen: isn't that [[Get]] on window?

[06:09:01.0000] <Philip`>
rubys: The point is that attempting to educate people about how hard it is to do a certain thing correctly will just result in them doing it the hard way that you showed in your examples, and they'll miss the point that they shouldn't be needing to do it at all

[06:10:00.0000] <hsivonen>
zcorpan: I can't find [[Get]] in the spec. what am I missing?

[06:10:01.0000] <zcorpan>
http://www.whatwg.org/specs/web-apps/current-work/#dom-window-nameditem

[06:10:02.0000] <rubys>
looking at the amount of broken HTML pages, it seems to me that a lot more people are lazy than virtuous.

[06:11:00.0000] <rubys>
Thought process seems to be: "oh, it's hard?" & "it doesn't really matter" => "I don't really need to worry about it"

[06:11:01.0000] <jgraham>
I think rubys may have more of a point for something complex like a whole document rather than something "simple" like a silly string

[06:11:02.0000] <jgraham>
Note that few people aim for the strict doctypes

[06:11:03.0000] <Philip`>
I can imagine that people think "I want to use XHTML because I heard it's good", then they read "if you really want to use XHTML then you'd have to do this ridiculously complicated thing", so they think "okay then, I'll copy-and-paste that ridiculously complicated thing and it'll be fine"

[06:12:00.0000] <zcorpan>
hsivonen: i think that's an area where gecko does different things in quirks mode

[06:12:01.0000] <hsivonen>
zcorpan: thanks. It seems that it will be non-trivial to make Gecko comply

[06:12:02.0000] <hsivonen>
zcorpan: it sure does things differently for XHTML and HTML

[06:12:03.0000] <Philip`>
(instead of thinking "maybe I shouldn't use XHTML")

[06:12:04.0000] <hsivonen>
I don't like these gratuitous XHTML vs. HTML differences in the APIs

[06:13:00.0000] <hsivonen>
rubys: or "oh, it's hard?" => "must be important" => "tell others to do it"

[06:13:01.0000] <rubys>
"maybe I shouldn't use XHTML"?  The education I want to do is to help people who think they are using XHTML that they really aren't.

[06:14:00.0000] <hsivonen>
rubys: then "J. Random Guru says it's important" => "let's do it"

[06:14:01.0000] <rubys>
s/J./Z./ :-)

[06:14:02.0000] <jgraham>
It is generally hard to educate people that fashionable things are bad for them

[06:14:03.0000] <hsivonen>
/me is actively trying to make it easier to write JavaScript that work for both HTML and XHTML

[06:15:00.0000] <hsivonen>
rubys: :-)

[06:16:00.0000] <Philip`>
jgraham: Fortunately HTML5 seems to be becoming fashionable :-)

[06:18:00.0000] <jgraham>
Philip`: Is XHTML becoming unfashionable?

[06:18:01.0000] <jgraham>
Then we don't have to try and advocate people to not use it?

[06:19:00.0000] <rubys>
faux-XHTML is still very fashionable

[06:19:01.0000] <jgraham>
s/XHTML/"XHTML"/

[06:19:02.0000] <jgraham>
s/?//

[06:19:03.0000] <rubys>
/me notes that s/?// will delete the first character in the line

[06:20:00.0000] <zcorpan>
Hixie: "window[name] Returns the indicated child browsing context." - doesn't match the impl requirements

[06:20:01.0000] <rubys>
/me retracts that... it actually is a syntax error

[06:20:02.0000] <Philip`>
/me notes that s/?// will actually give a Quantifier follows nothing in regex; marked by <-- HERE in m/? <-- HERE /

[06:21:00.0000] <Philip`>
But in IRC we use magical regexps, not Perl-compatible regexps, and so it's perfectly valid to write s//missing word/ etc

[06:22:00.0000] <zcorpan>
s/what i wrote/what i meant/

[06:22:01.0000] <rubys>
s/.*?//g

[06:23:00.0000] <hsivonen>
Hixie: In Gecko, having a name attribute on a frame hides the id attribute value for the purpose of frame naming for access on the window object

[06:23:01.0000] <jgraham>
Magic regexps are good. They are much better than real regexps

[06:25:00.0000] <jgraham>
Real regexps tend to end up looking like http://code.google.com/p/html5lib/source/browse/trunk/python/src/html5lib/sanitizer.py#195

[06:25:01.0000] <jgraham>
Which is just bad

[06:26:00.0000] <rubys>
you do realize that you are talking to the author of that line aren't you?  :-)

[06:26:01.0000] <hsivonen>
speaking of regexps, I've considered generating an ahead of compile time automaton for recornizing quirky public ids

[06:27:00.0000] <Philip`>
rubys: Did you write the next line too? :-)

[06:27:01.0000] <hsivonen>
*recognizing

[06:27:02.0000] <Philip`>
rubys: Particularly the one that caused the DOS vulnerability in http://code.google.com/p/html5lib/issues/detail?id=83 ? ;-)

[06:28:00.0000] <jgraham>
rubys: Yes :p

[06:29:00.0000] <rubys>
Philip`: yes

[06:30:00.0000] <jgraham>
rubys: In truth I would like to avoid using regexps there at all. But I don't know how to do that without writing a CSS parser

[06:30:01.0000] <jgraham>
Because I am not clever enough to understand complex regexps and therefore I don't like relying on them for security

[06:34:00.0000] <hsivonen>
Lachy: the wiki page does say: White space characters in attribute values are normalized to spaces in XHTML. 

[06:34:01.0000] <anne-m>
rubys, Hixie's long compat line for <style> is if you want compat with pre-<style> UAs as well

[06:35:00.0000] <anne-m>
rubys, if you just care about HTML4/XHTML1 the story is simpler as the article indicates

[06:35:01.0000] <Philip`>
Everyone wants compat with Netscape 2

[06:37:00.0000] <zcorpan>
people just copy the sample markup without understanding the prose

[06:39:00.0000] <Philip`>
/me thinks that's why Lachy's guide shouldn't mix HTML and XHTML examples, because people will just copy the markup without understanding the difference, and it will result in more inconsistency and the world will become a worse place

[06:41:00.0000] <jgraham>
/me is hard to persuade that bad HTML is a significant world problem

[06:42:00.0000] <Philip`>
I didn't mean to say it was a significant problem, just that it was a non-zero problem :-)

[06:43:00.0000] <jgraham>
Well some peole seem to behave as if it were a real problem

[06:43:01.0000] <hsivonen>
rubys: the reason why it's safe to teach people to escape > as &gt; is to avoid the ]]> special case in XML http://hsivonen.iki.fi/test/moz/square-square-gt.xml

[06:43:02.0000] <jgraham>
s/real/significant/

[06:43:03.0000] <hsivonen>
]]> is something that would be annoying to add tokenizer complexity for

[06:43:04.0000] <Philip`>
If ten million HTML authors each waste an hour fighting with bad markup, that's only the equivalent of sixteen human lives, which isn't enough to really worry about

[06:45:00.0000] <hsivonen>
/me wonders what Real Problem the ]]> rule solves

[06:45:01.0000] <jgraham>
Philip`: People worrying about their own bad markup is a different problem though

[06:45:02.0000] <Philip`>
hsivonen: I thought it was for compatibility for existing SGML tools, maybe?

[06:46:00.0000] <zcorpan>
hsivonen: i think ]]> in xml is only an error because it was an error in sgml

[06:46:01.0000] <zcorpan>
hsivonen: why it was an error in sgml i don't know

[06:46:02.0000] <hsivonen>
yay for SGML

[06:46:03.0000] <zcorpan>
hsivonen: it's allowed in attribute values :)

[06:47:00.0000] <hsivonen>
great

[06:47:01.0000] <zcorpan>
and in pi data, iirc

[06:49:00.0000] <hsivonen>
how does Safari deal with pre-HTML5 XPath expressions from JS matched against an HTML DOM?

[06:49:01.0000] <Philip`>
The rule against < in attribute values seems weird - http://www.xml.com/axml/notes/NoLTinAtt.html says "The rule in XML is simple: when you're reading text, and you hit a <, then that's a markup delimiter. Not just sometimes, always." which seems clearly false because of <!--<--> and <![CDATA[<]]> and <?x >?>

[06:49:02.0000] <Lachy>
Philip`, I strongly believe that HTML and XHTML need to be tought together so that readers can learn the differences

[06:50:00.0000] <hsivonen>
/me just saw "XPath expressions targeted at pre-HTML5 browsers need to use the XHTML namespace for XHTML and null for HTML. (HTML5 browsers would use the XHTML namespace even in HTML.)" on the wiki

[06:50:01.0000] <Philip`>
(Uh, I mean <?x <?>)

[06:51:00.0000] <zcorpan>
Philip`: yeah, it's a weird rule and it wasn't inherited from sgml :(

[06:51:01.0000] <rubys>
hsivonen: my experience is that > appears in inline CSS way more often than the sequence ]]> appears

[06:52:00.0000] <hsivonen>
rubys: I just read the HTML vs. XHTML wiki page. I think implementing proper polyglot checking just to make a point to the SVG WG is not a nice prospect

[06:52:01.0000] <hsivonen>
rubys: however, it might be worthwhile to make a non-validating parsers-only command line tool for making the point

[06:53:00.0000] <rubys>
what would the command line tool do?

[06:53:01.0000] <hsivonen>
rubys: it would parse as XML and as HTML into two SAX Tree trees, compare them and report the line and col of the first difference

[06:54:00.0000] <rubys>
I don't think that would make any point.

[06:54:01.0000] <rubys>
or rather, I fail to see what point that would make

[06:54:02.0000] <hsivonen>
rubys: a person playing with it could see when the trees differ

[06:55:00.0000] <rubys>
what person would find that useful?  Perhaps me and Jacques.

[06:57:00.0000] <zcorpan>
/me would probably play with it just to find bugs

[06:57:01.0000] <Philip`>
hsivonen: Rather than comparing SAX Tree trees, wouldn't it be easier to just serialise both as XML and use 'diff'?

[06:58:00.0000] <Philip`>
(using a deterministic serialiser for both)

[06:58:01.0000] <hsivonen>
Philip`: you wouldn't get the right line and col

[06:58:02.0000] <hsivonen>
Philip`: and you'd have a dependency on a tool that Windows users are unlikely to have

[06:58:03.0000] <Philip`>
hsivonen: But you'd see where in the markup the error occurred

[06:58:04.0000] <Philip`>
which is more useful than line/column numbers

[06:58:05.0000] <Philip`>
particularly since Windows users use Notepad which doesn't display line/column numbers :-)

[06:59:00.0000] <hsivonen>
Philip`: well, that's something you can already do with HTML2XML and XML2XML and diff

[07:03:00.0000] <Philip`>
hsivonen: Seems like that might already address many of the use cases, then

[07:04:00.0000] <hsivonen>
yeah. my shell script skills are weak. can that be done with pipes without temporary files?

[07:05:00.0000] <rubys>
It could easily be done in a language like python or ruby

[07:05:01.0000] <hsivonen>
/me wonders if document.evaluate is used a lot on text/html in the wild

[07:05:02.0000] <Philip`>
I don't know how to do it in sh without temporary files

[07:05:03.0000] <rubys>
why limit it to sh?

[07:06:00.0000] <Philip`>
rubys: Because that would take the fewest lines of code, if it was possible

[07:07:00.0000] <rubys>
http://docs.python.org/library/popen2.html

[07:07:01.0000] <Philip`>
Even if you're using a real scripting language, I don't think you can use the diff command with two input streams and no temporary files

[07:07:02.0000] <rubys>
Philip`: see the link I just pasted

[07:07:03.0000] <rubys>
short answer: yes you can

[07:07:04.0000] <jgraham>
/me notes that subprocess should be used rather than popen2

[07:08:00.0000] <Philip`>
rubys: That provides access to stdin, stdout and stderr; how do you use them to pass two separate inputs to diff?

[07:09:00.0000] <jgraham>
Philip`: Ho do you have two seperate inputs?

[07:09:01.0000] <Philip`>
jgraham: The inputs are the first file and the second file

[07:10:00.0000] <Philip`>
If you don't want to pass physical files to diff, the only alternative is '-', which is stdin, and there's only one stdin, and 'diff - -' isn't going to be very helpful

[07:10:01.0000] <jgraham>
Right, I don't really understand conceptually how you han strean two different inputs

[07:11:00.0000] <Philip`>
Conceptually it's the same as having two output streams

[07:11:01.0000] <Philip`>
(one called stdout and one called stdin)

[07:11:02.0000] <Philip`>
except that Unix tools normally only support one standard input stream

[07:11:03.0000] <Philip`>
Oops

[07:11:04.0000] <rubys>
wierd: diff -q <(sort file1.txt | uniq) <(sort file2.txt | uniq)

[07:11:05.0000] <Philip`>
s/stdin/stderr/

[07:11:06.0000] <jgraham>
Philip`: Let me be more specific. I don't understand how, in Unix, you can have >1 stdin

[07:15:00.0000] <hsivonen>
:-( I broke XPath

[07:16:00.0000] <hsivonen>
that one will be more annoying to fix than CSS

[07:16:01.0000] <hsivonen>
since at least CSS already treated HTML nodes as being in the XHTML namespace

[07:16:02.0000] <hsivonen>
does anyone happen to know how WebKit fakes its XPath text/html compat?

[07:18:00.0000] <hsivonen>
does anyone happen to know how WebKit fakes its XPath text/html compat?

[07:18:01.0000] <Philip`>
rubys: Hmm, diff <(cat foo) <(cat bar) is kind of cheating because it's really just using bash syntax to hide the creation of temporary files (well, named pipes) :-p

[07:18:02.0000] <rubys>
http://www.informit.com/articles/article.aspx?p=99706&seqNum=15

[07:19:00.0000] <rubys>
looks to me like they are cloned file handles, not temporary files

[07:19:01.0000] <Philip`>
Oops, yes

[07:19:02.0000] <Philip`>
"named pipes (FIFOs) or the /dev/fd method of  naming  open  files"

[07:20:00.0000] <Philip`>
Anyway... The sensible solution is to use temporary files :-)

[07:22:00.0000] <Philip`>
rubys: Is that informit page about something interesting once it's finished taking forever to load? :-)

[07:22:01.0000] <zcorpan>
Hixie: the Scope section calls out <blink> as something that's out of scope, yet the rendering section defines it

[07:22:02.0000] <rubys>
loads quickly for me

[07:22:03.0000] <rubys>
"Newer systems provide a directory named /dev/fd whose entries are files named 0,1, 2, and so on. Opening the file /dev/fd/n is equivalent to duplicating descriptor n (assuming that descriptor n is open)."

[07:22:04.0000] <Philip`>
rubys: Oh, works for me now

[07:23:00.0000] <rubys>
[the article is dated 2003)

[07:24:00.0000] <Philip`>
/me was unaware of such things

[07:24:01.0000] <rubys>
neither was I

[07:36:00.0000] <Philip`>
Whoops, I missed the significance of the <(...) thing because I was trying to work out how to pipeline stuff into it

[07:37:00.0000] <Philip`>
but actually you can just do diff <(html2xml foo) <(xml2xml foo)

[07:37:01.0000] <Philip`>
which is neat

[07:40:00.0000] <jgraham>
/me just realised that <(...) was different to < (...) which should be obvious given it is bash and is crazy to everyone else

[07:46:00.0000] <Philip`>
/me discovers cat <<<"hello world"

[07:47:00.0000] <rubys>
/me can't wait until Philip` discovers "echo"

[07:49:00.0000] <rubys>
http://intertwingly.net/blog/2007/11/28/Bash-Here

[07:52:00.0000] <takkaria>
you'd have thought all the people using unix for years would know all the cool features by now

[07:53:00.0000] <Dashiva>
Maybe if there weren't five million different tools with different features to learn, none of them properly documented :)

[07:53:01.0000] <takkaria>
yeah

[07:53:02.0000] <Philip`>
"man bash" looks like proper documentation to me :-)

[07:53:03.0000] <Dashiva>
Looks can be deceiving

[07:54:00.0000] <Philip`>
I've never bothered learning anything advanced in bash because it's easier to just switch to Perl

[07:54:01.0000] <Philip`>
(or at least it's easier for me)

[07:55:00.0000] <Philip`>
It took me years to remember how to do for loops over files in bash

[07:55:01.0000] <rubys>
yet another language where you continue to learn new cool things that have been around for years

[07:55:02.0000] <Dashiva>
Should just make a shell that uses a decent language ;)

[07:55:03.0000] <jgraham>
It's like "if all you hace is a hammer everything looks like a nail". Except s/hammer/hammer and sixteen types of screwdriver and a whole socket set/

[07:55:04.0000] <Philip`>
I think I've mostly run out of cool new Perl features to discover by accident :-(

[07:56:00.0000] <Dashiva>
Don't worry, you still have misfeatures and bugs left to go

[07:56:01.0000] <jgraham>
/me still forgets how to do for loops over files

[07:56:02.0000] <rubys>
for i in *; do echo $i; done

[07:56:03.0000] <Philip`>
Dashiva: I've never found many of them either :-)

[07:56:04.0000] <jgraham>
something like for fn in `ls` do; something done

[07:56:05.0000] <jgraham>
right?

[07:56:06.0000] <Philip`>
perl -le'print for <*>' is easier for me to remember

[07:57:00.0000] <Philip`>
jgraham: Your semicolons are in the wrong places, I think

[07:57:01.0000] <jgraham>
Yeah, that's the bit I get wrong :)

[07:57:02.0000] <jgraham>
If there is some logic to it I don't understand

[07:57:03.0000] <Philip`>
Logic?

[07:57:04.0000] <Philip`>
That's a foreign concept

[07:58:00.0000] <rubys>
hint: is 'do' a file name or a reserved word?

[07:58:01.0000] <jgraham>
The bash maintainers would fit right in here

[07:58:02.0000] <Philip`>
Is ';' a file name or a reserved word?

[07:58:03.0000] <Dashiva>
Isn't ; just a newline equivalent?

[07:59:00.0000] <Dashiva>
Not that bash newline handling is any less insane

[07:59:01.0000] <Philip`>
I haven't a clue

[08:00:00.0000] <jgraham>
rubys: I need a bigger hint

[08:01:00.0000] <Philip`>
jgraham: You can write "for i in 1 2 3; do echo $i; done" - it just takes a space-separated list of tokens

[08:01:01.0000] <Philip`>
and if you use wildcards then they just expand into the list of tokens

[08:02:00.0000] <jgraham>
Ah, I knew that. So the point is that the first semicolon delimits the set of tokens

[08:02:01.0000] <jgraham>
and the second one...

[08:03:00.0000] <jgraham>
I guess is needed because "done" colud be something else?

[08:03:01.0000] <jgraham>
Or maybe not

[08:03:02.0000] <Philip`>
(...and one of the tokens could be the filename 'do', and confusion would ensue)

[08:04:00.0000] <Philip`>
The 'done' could be an argument to the previous command

[08:04:01.0000] <Philip`>
for i in do; do echo $i done; done

[08:05:00.0000] <jgraham>
It may be showing that I have only ever written one serious shell script (more than a few lines)

[08:07:00.0000] <rubys>
between the do and done you can have as many statements as you want

[08:07:01.0000] <rubys>
each statement ends with a semicolon

[08:08:00.0000] <rubys>
for i in *

[08:08:01.0000] <rubys>
do

[08:08:02.0000] <rubys>
echo $i

[08:08:03.0000] <rubys>
done

[08:08:04.0000] <Philip`>
A semicolon or a newline?

[08:09:00.0000] <rubys>
yes

[08:57:00.0000] <Philip`>
http://html5.validator.nu/?doc=http://services.philip.html5.org/html-to-xhtml/

[08:57:01.0000] <Philip`>
Hmm, why isn't <textarea oninput> allowed?

[09:00:00.0000] <jgraham>
/me wonders wwhy he has such a low success rate in posting to es-discuss

[09:00:01.0000] <hsivonen>
Philip`: spec bug or validator bug?

[09:04:00.0000] <Philip`>
hsivonen: Don't know

[09:04:01.0000] <Philip`>
hsivonen: The spec is too confusing for me to know whether oninput is meant to exist

[09:04:02.0000] <Philip`>
(It doesn't talk about oninput anywhere, but does talk about input events in various places)

[09:36:00.0000] <Philip`>
Hmm, it looks like http://ma.tt/2009/03/downloadable-web-fonts/ linked to me and gave me a thousand visitors

[09:38:00.0000] <Dashiva>
You crashed my opera :(

[09:38:01.0000] <Philip`>
Oh

[09:38:02.0000] <Philip`>
http://bugs.opera.com/ ;-)

[09:38:03.0000] <Dashiva>
It was an outdated build anyhow. Good chance to upgrade.

[10:06:00.0000] <jgraham>
Philip`: You try to help people and all you get is grief

[10:12:00.0000] <Philip`>
Hmm, my html-to-xhtml page is almost accepted by the validator, so I'm not sure why Dr Hoffmann thinks it's "completely corrupted" and "nonsense"

[10:12:01.0000] <gsnedders>
What page?

[10:12:02.0000] <Philip`>
http://services.philip.html5.org/html-to-xhtml/

[10:12:03.0000] <gsnedders>
That's nonsense.

[10:13:00.0000] <Philip`>
If someone is going to complain about the page, they should complain about how it refers to itself as "http://whatever-this-site-is-called/html-to-xhtml/"

[10:13:01.0000] <Philip`>
which is because it didn't have a domain name at all until earlier today, and I didn't bother editing the HTML

[10:13:02.0000] <Dashiva>
hehe

[10:15:00.0000] <jgraham>
There is always something suspicious about people to refer to themselves using their academic qualifications

[10:15:01.0000] <Dashiva>
I'm a bit confused here. Isn't the main use for svg in html handcoding?

[10:16:00.0000] <jgraham>
And about people who refer to adademic qualifications when they are quoting people

[10:16:01.0000] <Dashiva>
If you use a tool, wouldn't you have a separate file to begin with?

[10:19:00.0000] <Philip`>
Indeed, Dr Graham

[10:21:00.0000] <jgraham>
/me notes he has not actually graduated yet

[10:21:01.0000] <Philip`>
Dashiva: The problem is that you're ignoring the mythical authoring tools that will let you edit SVG that's embedded inside HTML files

[10:21:02.0000] <gsnedders>
/me cracks his whip

[10:21:03.0000] <gsnedders>
Graduate, bitch!

[10:23:00.0000] <jgraham>
/me isn't sure he likes being gsnedders bitch

[10:23:01.0000] <Dashiva>
Philip`: I suppose so. I don't see what they offer over existing standalone tools though.

[10:24:00.0000] <Philip`>
Dashiva: They offer supporting evidence for arguments which assume they exist

[10:24:01.0000] <jgraham>
Dashiva: You're not an Amaya user? Heretic!

[10:24:02.0000] <Dashiva>
It's my sense of logic, it just won't let go :(

[10:25:00.0000] <jgraham>
Also I saw a presentaion once about another similar tool, so I think they exist for a literal value of exist

[10:26:00.0000] <Dashiva>
I am convinced some people implement things just to confound multiple choice exams

[10:26:01.0000] <Dashiva>
"SMTP uses TCP/IP" --- "No, I know for a fact you can run SMTP using monkeys and bongo drums"

[10:29:00.0000] <Philip`>
"What colour are elephants? (a) Grey; (b) Pink; (c) Fluorescent orange so they don't lose each other in the dark" -- "They're definitely pink"

[10:29:01.0000] <Philip`>
I blame http://news.bbc.co.uk/1/hi/sci/tech/7951331.stm

[10:55:00.0000] <scherkus>
quick question: are there specs for applying CSS styles to form elements?

[10:57:00.0000] <jgraham>
scherkus: AFAIK, no

[10:57:01.0000] <jgraham>
But IANACE

[10:57:02.0000] <scherkus>
help me out here.. what's CE stand for :)

[10:58:00.0000] <jgraham>
CSS Expert :)

[10:58:01.0000] <scherkus>
gotcha :D

[10:58:02.0000] <scherkus>
I attended a panel at SXSW last week and someone had a presentation at all the inconsistencies

[10:58:03.0000] <gsnedders>
jgraham: Why not?

[10:59:00.0000] <scherkus>
its even broken for the same browser on different platforms

[10:59:01.0000] <jgraham>
scherkus: I believe they are considered replaced elements from a CSS-theory standpoint

[10:59:02.0000] <jgraham>
But of course that is not true in practice

[11:00:00.0000] <jgraham>
(the idea was that users would prefer native-looking widgets on all web pages. This turns out to not quite be true)

[11:00:01.0000] <scherkus>
well for example, safari 4 beta applies "width" differently

[11:01:00.0000] <scherkus>
mac: http://www.flickr.com/photos/teleject/3353399474/ (left aligned)

[11:01:01.0000] <scherkus>
win: http://www.flickr.com/photos/teleject/3352574769/ (centered)

[11:01:02.0000] <scherkus>
however this was a panel by and for web designers

[11:01:03.0000] <scherkus>
people who typically style form elements heavily

[11:03:00.0000] <jgraham>
/me notes that HTML has error correction and seems to be doing OK'

[11:04:00.0000] <jgraham>
scherkus: I think it is a known problem. But it is hard to solve

[11:04:01.0000] <Philip`>
/me supposes people's definitions of "OK" may differ

[11:04:02.0000] <scherkus>
jgraham: cool.. thanks for the help

[11:06:00.0000] <jgraham>
/me thinks that anyone whos definition of OK excludes (probably) the world'smost popular document format needs a new definition of "doing OK"

[11:07:00.0000] <Philip`>
"common", not "popular"

[11:08:00.0000] <jgraham>
pedant

[11:08:01.0000] <jgraham>
Alhough I think that probably depends on the definition of "popular"

[11:08:02.0000] <Philip`>
I suppose you think influenza is a good design that should be copied too, since it's been wildly successful at becoming widespread

[11:09:00.0000] <Dashiva>
It _is_ copied all the time :P

[11:10:00.0000] <jgraham>
If you are trying to make a virus, that is true

[11:10:01.0000] <Dashiva>
Not to mention viral marketing

[11:10:02.0000] <Philip`>
Dashiva: I said "should be", not "is" :-)

[11:11:00.0000] <Dashiva>
Doesn't vaccine development require copying it a lot? :)

[11:12:00.0000] <Philip`>
Bah, that's not what I mean :-p

[11:14:00.0000] <Philip`>
If you're trying to make a virus that kills millions then it may be good to copy the characteristics of existing viruses, and if you're trying to make a new HTML then it may be good to copy the characteristics of HTML, but that's all largely irrelevant if you're trying to make an embeddable vector graphics language or a car or anything else

[11:15:00.0000] <Philip`>
e.g. maybe your goal is to let advanced users do useful things as easily as possible, rather than making it possible for everybody in the world to publish their own thoughts

[11:16:00.0000] <Philip`>
so it's not particularly helpful to compare it to HTML

[11:16:01.0000] <Philip`>
(and can be actively misleading)

[11:16:02.0000] <Philip`>
or, uh, something like that

[11:17:00.0000] <Dashiva>
Let's make a compiler that explodes if you make an error

[11:22:00.0000] <Philip`>
That would be better than some compilers I use, which explode even when I haven't made an error

[11:27:00.0000] <Philip`>
rubys: s/OATH/OAUTH/ on the meeting minutes? (I would edit it myself but I'm too lazy to register on the wiki so I won't)

[11:38:00.0000] <rubys>
fixed.  Thanks!

[12:19:00.0000] <jgraham>
rubys1: s/Power/Powder/ ?

[12:26:00.0000] <rubys1>
jgraham: do you have a link to powder?  I don't know what this is, or who the Aaron is that they were referring to.

[12:27:00.0000] <rubys1>
http://www.w3.org/2007/02/powder_charter

[12:29:00.0000] <jgraham>
rubys1: Yeah that's what I was thinking of

[12:29:01.0000] <rubys1>
any idea on aaron's last name?

[12:31:00.0000] <jgraham>
Nope

[12:32:00.0000] <jgraham>
All I know is that it is something chaals is involved with

[12:37:00.0000] <danbri>
powder is an attempt to do the bit of PICS that RDF never handled: writing metadata labels for whole batches of pages who share eg common URI structure

[12:38:00.0000] <danbri>
"everything on pics.playboy.com is a rude jpeg" etc

[12:38:01.0000] <danbri>
different sense of pics there, sorry :)

[12:45:00.0000] <Hixie>
rubys1: i'm guessing aaron is eran?

[12:46:00.0000] <rubys1>
that makes more sense

[12:47:00.0000] <rubys1>
Hammer-Lahav presumably?

[12:49:00.0000] <danbri>
yeah, my guess too

[12:49:01.0000] <rubys1>
updated

[12:58:00.0000] <rubys>
hixie: any other errata or significant omissions?

[13:59:00.0000] <gsnedders>
/me sighs

[14:00:00.0000] <gsnedders>
At lunch today, group of friends concluded that I was the girl of the group. The only girl (biologically speaking, that is) agreed.

[14:01:00.0000] <Philip`>
Biologicality is overrated

[14:02:00.0000] <gsnedders>
Also, I'm apparently a lesbian.

[14:20:00.0000] <olliej>
gsnedders: heheh

[14:21:00.0000] <gsnedders>
Maybe I really should take up takkaria's suggestion of wearing a corset, kilt, and heels to the ball‚Ä¶

[14:22:00.0000] <gsnedders>
There again, I did tell my date to the ball of his suggestion, and she said she'd desert me! :'(

[14:23:00.0000] <takkaria>
being a lesbian isn't so bad

[14:25:00.0000] <gsnedders>
Knowing how pissed off I am at guys in general at the moment I guess I could pass as a lesbian‚Ä¶

[14:30:00.0000] <dglazkov>
ping Hixie 

[14:35:00.0000] <Hixie>
dglazkov: here

[14:35:01.0000] <dglazkov>
I came here to cry about test 48

[14:36:00.0000] <dglazkov>
and the definition of "visited"

[14:37:00.0000] <dglazkov>
Hixie: did you have a specific part of CSS spec in mind that this test tests?

[14:43:00.0000] <dglazkov>
Hixie: acid3 test 48, obviously

[14:43:01.0000] <Hixie>
/me looks

[14:43:02.0000] <gsnedders>
Because Hixie has never written any other test suite with 48 tests in it :P

[14:44:00.0000] <Hixie>
dglazkov: i think the test just checks the definition at http://www.w3.org/TR/css3-selectors/#link

[14:46:00.0000] <dglazkov>
Hixie: yep. but with arrival of ubiquitous iframes-at-load (ads, tracking, etc.) the definition of "visited" seems to have been somewhat tainted

[14:46:01.0000] <dglazkov>
in other words, _I_ haven't visited those frames. They visited me

[14:47:00.0000] <dglazkov>
so both FF and WebKit had to come up with a separate class of history items, visited links

[14:48:00.0000] <dglazkov>
the items that are technically in your history, just not shown to you as a user

[14:48:01.0000] <dglazkov>
because you haven't really visited them

[14:49:00.0000] <dglazkov>
I've been wrangling with this dichotomy and can't come up with a good answer

[14:49:01.0000] <dglazkov>
other than doing the same for chromium.

[14:49:02.0000] <dglazkov>
but it just seems kinda wrong

[14:49:03.0000] <dglazkov>
somehow

[14:50:00.0000] <Hixie>
sorry, had a phone call

[14:50:01.0000] <Hixie>
/me reads up

[14:50:02.0000] <Hixie>
yeah, i see the issue

[14:50:03.0000] <Hixie>
i would just do what they do, to be honest

[14:50:04.0000] <Hixie>
the problem is that sometimes there are sites that do show ocntent in iframes

[14:50:05.0000] <Hixie>
and you want those to handle :link :visited too

[14:50:06.0000] <Dashiva>
"Using your favorite web browser (Firefox by default), visit wp-admin/install.php within the directory into which you just installed WordPress on your web site."

[14:50:07.0000] <Hixie>
even though the user never sees the url bar

[14:50:08.0000] <Hixie>
consider e.g. a forum

[14:51:00.0000] <Hixie>
where each forum page is its own iframed page

[14:51:01.0000] <Hixie>
you'd want the links to become :visited

[14:51:02.0000] <Hixie>
even though you'd never want to offer them in the autocomplete, and probably never directly in the history

[14:51:03.0000] <Hixie>
(though you might offer the frame state in the history if you are some kind of god)

[14:52:00.0000] <dglazkov>
Hixie: but this sucks

[14:52:01.0000] <dglazkov>
Web sucks

[14:52:02.0000] <Hixie>
known bug

[14:52:03.0000] <dglazkov>
:)

[14:52:04.0000] <Hixie>
:-)

[14:52:05.0000] <Hixie>
evolved platforms tend to suck

[14:52:06.0000] <ojan>
dglazkov: in soviet russia, frames visit you!

[14:52:07.0000] <Hixie>
they also tend to be successful :-)

[14:53:00.0000] <dglazkov>
ojan: ain't that the truth

[16:52:00.0000] <Hixie>
making web workers work with application caches is going to be a huge editorial pain in the ass

[16:55:00.0000] <doodlewarrior>
why does the header tag require an h1...h6 descendant?

[16:55:01.0000] <doodlewarrior>
shouldnt <header>Welcome</header> be valid?

[16:55:02.0000] <Hixie>
because there's no header in that header

[16:56:00.0000] <doodlewarrior>
it seems a bit crufty

[16:56:01.0000] <doodlewarrior>
to require an <h1> in a <header>

[16:56:02.0000] <doodlewarrior>
i could use <h1> instead of <header>

[16:56:03.0000] <Hixie>
yes

[16:56:04.0000] <doodlewarrior>
but i dont see why i would need to

[16:56:05.0000] <Hixie>
you should, in fact

[16:56:06.0000] <Hixie>
<header> is only useful if you are trying to wrap multiple <h1>s or something together into one header

[16:57:00.0000] <Hixie>
like <header><h1>The Reality Dysfunction</h1><h2>Space is not the only void</h2></header>

[16:57:01.0000] <doodlewarrior>
i guess it just seems silly to me

[16:57:02.0000] <Hixie>
a header and subheader acting as a joint single header for a book

[16:57:03.0000] <doodlewarrior>
after all the fuss about semantic tags

[16:57:04.0000] <Hixie>
then just ignore <header> and use <h1> :-)

[16:58:00.0000] <doodlewarrior>
to have h1 be a header and header be used to group multiple headers

[16:58:01.0000] <doodlewarrior>
esp. since <footer> is valid without any particular children

[16:58:02.0000] <Philip`>
Rename it to <headergroup>

[16:58:03.0000] <doodlewarrior>
or hgroup, for that matter

[16:59:00.0000] <Niictar>
Can I put <nav> in a <header>?

[16:59:01.0000] <doodlewarrior>
as long as it has an h1...6, i believe so


2009-03-27
[17:01:00.0000] <doodlewarrior>
i still dont understand why <header> cant just be <header>, like <footer> is <footer>

[17:01:01.0000] <doodlewarrior>
where <header> may or may not have h1...6 children

[17:01:02.0000] <Hixie>
Niictar: no (see the "content model" definition for <header> in the spec)

[17:01:03.0000] <Hixie>
doodlewarrior: pretend it's called <hgroup>, does it make sense then?

[17:02:00.0000] <Niictar>
Ok. That saves me typing up a test document, anyway

[17:02:01.0000] <doodlewarrior>
i dont mean to be irritating or anything, it just seems inconsistent

[17:02:02.0000] <doodlewarrior>
Hixie: if it were hgroup, it would make sense

[17:02:03.0000] <doodlewarrior>
but it would make more sense if it was header, but the h1...6 was optional

[17:04:00.0000] <Hixie>
just pretend it's called <hgroup>

[17:04:01.0000] <Hixie>
:-)

[17:04:02.0000] <doodlewarrior>
theres a distinction

[17:04:03.0000] <doodlewarrior>
i can go rewrite all my headers to be h1s

[17:04:04.0000] <Hixie>
it's defined like what you think of as <hgroup>

[17:04:05.0000] <doodlewarrior>
thats not the problem

[17:04:06.0000] <Hixie>
ok

[17:04:07.0000] <Hixie>
what's the problem then

[17:04:08.0000] <doodlewarrior>
i dont understand why its defined that way

[17:04:09.0000] <doodlewarrior>
so far as i can tell, numbered headers are just relics of netscape anyway.  

[17:04:10.0000] <doodlewarrior>
it seems that there should be an unordered <header>

[17:05:00.0000] <doodlewarrior>
to be the counterpart of <footer>

[17:05:01.0000] <Hixie>
we defined it that way so it would work in IE6 and IE7

[17:05:02.0000] <Hixie>
the "unordered <header>" is called <h1>

[17:05:03.0000] <Niictar>
Nested <sections> create structure like <h1>...<h6> don't they?

[17:06:00.0000] <Niictar>
<section>* you know what I mean

[17:06:01.0000] <Niictar>
It seemed like thats what the most recent blog post was about anyway

[17:07:00.0000] <Hixie>
if you use nested <section>s you can just use <h1> and the level is automatically determined from the nesting depth

[17:08:00.0000] <doodlewarrior>
Hixie, why can't you have <header> be treated the same as <h1> unless header contains an h1...6?

[17:08:01.0000] <Hixie>
because it wouldn't work in IE6 and IE7

[17:09:00.0000] <doodlewarrior>
im not sure i follow

[17:09:01.0000] <doodlewarrior>
the new tags dont work in 6 or 7 anyway

[17:09:02.0000] <Hixie>
if you write   <h1>Hello</h1> How are you  in IE6 you get big text followed by normal text

[17:10:00.0000] <Hixie>
if you write <header>Hello</header> How are you  in IE6 you get just one line of text and no big text

[17:10:01.0000] <doodlewarrior>
isnt that the point of CSS?

[17:10:02.0000] <Hixie>
CSS is optional

[17:10:03.0000] <doodlewarrior>
so is supporting IE6 :-D

[17:10:04.0000] <Hixie>
no, it's not

[17:11:00.0000] <Hixie>
and <headeR> doesn't work anywhere yet either

[17:11:01.0000] <Hixie>
so it's not just IE6

[17:11:02.0000] <doodlewarrior>
but the rest of HTML5 doesnt have meaning in those browsers either

[17:12:00.0000] <doodlewarrior>
i would prefer to have a cleaner/more consistent markup that is forward-compatible and let authors decide which tags to use

[17:12:01.0000] <doodlewarrior>
if they need backwards compatibility

[17:12:02.0000] <Hixie>
well we have put backwards compatibility at a much higher level of importance :-)

[17:12:03.0000] <doodlewarrior>
rather than building in cruft for the sake of 'backwards compatibility' when most people use CSS anyway

[17:12:04.0000] <doodlewarrior>
i understand that

[17:13:00.0000] <doodlewarrior>
and i doubt that my point matters, but i feel the need to make it anyway

[17:13:01.0000] <doodlewarrior>
you're not breaking anything by allowing <header> to be considered a header in future browsers

[17:13:02.0000] <doodlewarrior>
if an author needs to support IE6, etc. and isn't using CSS, he can use H1

[17:14:00.0000] <Hixie>
what problem would you be solving by introducing another element that means the same as <h1>?

[17:14:01.0000] <doodlewarrior>
but it bothers me that a tag is being added that's name implies it is something that it is not

[17:14:02.0000] <doodlewarrior>
two things

[17:14:03.0000] <Hixie>
imho the name is fine, it's the header, after all :-)

[17:15:00.0000] <doodlewarrior>
a) it's cleaner than <h1>  - the tag says exactly what it is, and it corresponds well to <footer>

[17:15:01.0000] <Hixie>
"cleaner" is not really an important enough advantage

[17:15:02.0000] <Hixie>
if you want "cleaner", use xhtml2 or docbook or something like hat :-)

[17:15:03.0000] <doodlewarrior>
b) its more flexible.  if you have a single <header> tag with regular content and need to add children to it, you can

[17:16:00.0000] <doodlewarrior>
with less reworking

[17:16:01.0000] <doodlewarrior>
converting <header>a</header> to <header><h1>a</h1><h2>b</h2></header>

[17:16:02.0000] <doodlewarrior>
is easier than converting <h1>a</h1> to the same

[17:17:00.0000] <doodlewarrior>
without having to rewrite your styles

[17:17:01.0000] <doodlewarrior>
well, as many of them anyway

[17:17:02.0000] <Hixie>
uh

[17:18:00.0000] <Hixie>
converting <header>a</header> to <header><h1>a</h1><h2>b</h2></header> is exactly as easy as converting <h1>a</h1> to <header><h1>a</h1><h2>b</h2></header>

[17:18:01.0000] <Hixie>
in fact, easier, if you don't want to rewrite styles

[17:18:02.0000] <Hixie>
since you wouldn't have to change any in the second case

[17:18:03.0000] <Hixie>
but in the former, you'd have to change at least your font styles

[17:19:00.0000] <doodlewarrior>
if header has padding, positioning, etc, i still contend <header> is more flexible

[17:19:01.0000] <doodlewarrior>
re: cleaner not being important enough of an advantage, i really dont understand the advantage at all of having a new tag be supported in older browsers is

[17:20:00.0000] <doodlewarrior>
people can juse use <h1> while those browsers are popular

[17:20:01.0000] <doodlewarrior>
but <header> after they are phased out

[17:20:02.0000] <doodlewarrior>
if you were doing something that BROKE old browsers, id definitely understand the BC argument

[17:21:00.0000] <doodlewarrior>
but having a tag be semantically meaningless in an old browser is much different than breaking an old browser

[17:21:01.0000] <doodlewarrior>
most of HTML5 is semantically meaningless in old browsers

[17:21:02.0000] <Hixie>
the two problems <header> is solving are: 1, making it possible to have headers that have subheadings without it implying a subsection (like the book title mentioned above) -- this is common on blogs; and 2, making it possible to style such "multilevel" headers in the future.

[17:22:00.0000] <doodlewarrior>
as Philip` mentioned earlier, if you call it hgroup instead of header, much of my problem with it goes away

[17:23:00.0000] <doodlewarrior>
im completely cool with having a <header> element that does exactly what you are proposing

[17:23:01.0000] <doodlewarrior>
so long as it is still valid with or without h1 children

[17:24:00.0000] <Hixie>
it wouldn't make sense to have a way of grouping headers if it didn't group headers

[17:24:01.0000] <doodlewarrior>
it would be a nice evolution away from <h1> to have a counterpart to <footer>

[17:24:02.0000] <doodlewarrior>
<footer> doesnt have any meaning in IE6, but it's still in the spec

[17:25:00.0000] <doodlewarrior>
same with <video>, <section>, etc

[17:25:01.0000] <doodlewarrior>
people are using CSS/JS to support older browsers while they are still around

[17:25:02.0000] <doodlewarrior>
i dont see why <header> is any different

[17:26:00.0000] <doodlewarrior>
it just bothers me that <section><header>hi</header><footer>bye</footer></header> is more intuitive and more readable than <h1>, but invalid

[17:26:01.0000] <Hixie>
<video> has fallback; the others don't need to be supported since they don't do anything except allow styling in future browsers

[17:26:02.0000] <doodlewarrior>
if you are going to have <header>, make it a header, even without header children

[17:27:00.0000] <doodlewarrior>
if all you want to do is group <h1>s, call it <hgroup>

[17:27:01.0000] <Hixie>
if we were writing the language from scratch, i'd agree with you

[17:27:02.0000] <Hixie>
but we're not

[17:27:03.0000] <Hixie>
we're evolving an existing language

[17:27:04.0000] <doodlewarrior>
evolving is different than tacking shit on

[17:27:05.0000] <doodlewarrior>
things deprecate when you evolve

[17:28:00.0000] <doodlewarrior>
<font> used to have meaning, but now we use CSS for that

[17:28:01.0000] <doodlewarrior>
<h1> could be the same way

[17:28:02.0000] <doodlewarrior>
having header be considered a header doesnt break anything

[17:28:03.0000] <doodlewarrior>
or else id agree with you

[17:28:04.0000] <doodlewarrior>
but if someone really is supporting ie6 and doesnt use css, h1 is still there as a fallback

[17:29:00.0000] <Hixie>
changing <h1> would be bad because it works fine as is

[17:29:01.0000] <doodlewarrior>
h1 doesnt change

[17:29:02.0000] <doodlewarrior>
im not suggesting that

[17:29:03.0000] <Hixie>
adding another element that means exactly the same as <h1> would just be adding cruft

[17:29:04.0000] <doodlewarrior>
im saying apply the h1 rules to an empty header

[17:29:05.0000] <Hixie>
but that would make pages that don't work in older browsers

[17:29:06.0000] <Hixie>
even though they should work fine

[17:29:07.0000] <Hixie>
since they don't do anything new

[17:30:00.0000] <doodlewarrior>
<h1>s look different in different old UAs anyway.  thats why things like YUI-Reset exist

[17:30:01.0000] <doodlewarrior>
they would still work in older browsers, they would just be unstyled unless you apply a style to them

[17:31:00.0000] <doodlewarrior>
anyway, i dont mean to waste your time

[17:31:01.0000] <doodlewarrior>
and i dont have any desire to beat a dead horse

[17:31:02.0000] <doodlewarrior>
i believe ive made my point

[17:31:03.0000] <doodlewarrior>
i see no harm in allowing <header> to have the same meaning as <h1> if it doesnt have <h1> children

[17:31:04.0000] <doodlewarrior>
and its not crufty, because it also serves as a header group

[17:32:00.0000] <doodlewarrior>
its not just being added for the sake of it (although if youre adding footer anyway, thats a moot point)

[17:32:01.0000] <doodlewarrior>
if you decide that having <header> be a header even w/o <h1> children is completely unacceptable

[17:32:02.0000] <Hixie>
if the header is unstyled, it doesn't work... that's what headers do, get styled

[17:32:03.0000] <doodlewarrior>
please call it hgroup to avoid the confusion of HTML student in the future :)

[17:32:04.0000] <doodlewarrior>
*students

[17:32:05.0000] <doodlewarrior>
headers get styled by CSS :-D

[17:33:00.0000] <Hixie>
css is optional

[17:33:01.0000] <Hixie>
pages should work without css

[17:33:02.0000] <doodlewarrior>
it still works, its just unstyled (cause it isn't styled)

[17:33:03.0000] <doodlewarrior>
if the author cares and doesnt want to use css, h1 is still there

[17:33:04.0000] <Hixie>
if it's unstyled, it doesn't work

[17:33:05.0000] <Niictar>
Actually, doesn't the spec say that there is no requirement by UA's to style anything?

[17:33:06.0000] <Hixie>
the whole point of a header is to style it as a header

[17:34:00.0000] <Hixie>
Niictar: they have to convey the semantics

[17:34:01.0000] <doodlewarrior>
im just asking that you dont make it explicitly invalid if its missing an h1 child

[17:34:02.0000] <doodlewarrior>
and let authors write what they will

[17:34:03.0000] <Hixie>
Niictar: the spec just doesn't say how it's exactly supposed to look

[17:34:04.0000] <Niictar>
I see

[17:34:05.0000] <Hixie>
doodlewarrior: the point is that if the author forgets to use the <h1> child, the header will look broken in old browsers, which is bad

[17:36:00.0000] <doodlewarrior>
it only looks broken if css isnt there.  css is optional, but very very widely used.  if the author a) forgets h1, and b) doesn't style, the penalty (unbolded text) is not really that steep

[17:39:00.0000] <Hixie>
it's not just unboldened text, and the css doesn't matter: IE6 doesn't support CSS styling <header>, and without styles, the text runs into the next paragraph, not even with a line break.

[17:40:00.0000] <doodlewarrior>
i forgot you have to add HTML5 tags with JS to old IEs

[17:41:00.0000] <doodlewarrior>
is there such a concept as a warning in validation?

[17:41:01.0000] <doodlewarrior>
like in compiled code where deprecation stuff is a warning but actual syntax errors are breaks?

[17:42:00.0000] <doodlewarrior>
so you could warn about the missing <h1> without having it be invalid?

[17:42:01.0000] <Hixie>
i don't understand the desire to use a longer tag name when you don't have to

[17:44:00.0000] <doodlewarrior>
h1 just doesnt seem to belong in the lovely world of sections and footers 8-)

[17:44:01.0000] <Hixie>
html is not a lovely world

[17:44:02.0000] <Hixie>
deal with it :-)

[17:45:00.0000] <doodlewarrior>
i love that the current maintainer of what may be the largest used computer language in the world just told me 'html sucks.  deal with it' :-p

[17:46:00.0000] <doodlewarrior>
i do appreciate the work youre doing with html5

[17:46:01.0000] <doodlewarrior>
i just have a bit of a pet peeve about design

[17:46:02.0000] <Hixie>
you get over it if you spend too much time dealing with this stuff

[17:46:03.0000] <Hixie>
:-)

[17:47:00.0000] <Niictar>
It's not HTML that sucks, it's browser support. Namely having to continue to support IE 6 forever that makes the wrold of HTML a little dark, imo

[17:48:00.0000] <doodlewarrior>
Niictar: true, but thats why i think there should be an evolvable path.  the lack of <h1> could be frowned upon now, but also built in to standards-compliant browsers

[17:48:01.0000] <doodlewarrior>
so we can deprecate h1 in the future

[17:48:02.0000] <doodlewarrior>
and have header/footer match

[17:48:03.0000] <doodlewarrior>
then bush and fidel will kiss and make up

[17:49:00.0000] <doodlewarrior>
it will be a lovely world indeed

[17:49:01.0000] <Hixie>
deprecating things is actually really hard in html

[17:49:02.0000] <Hixie>
we've done it with things like <font>, but only because those features are really bad

[17:50:00.0000] <Niictar>
Speaking of pages that look really broken in IE 6, Apple's Safari D:

[17:50:01.0000] <doodlewarrior>
so Hixie, is your goal to help HTML limp along, then be completely replaced by something better in the future?

[17:50:02.0000] <Niictar>
But... the whole point is to get people to upgrade to the new version of Safari so IE 6 support really isn't required. But it's a real world example of an HTML 5 page that already looks broken

[17:51:00.0000] <doodlewarrior>
rather than trying to make it ideal now and cutting through the cruft/bs as best as possible?

[17:51:01.0000] <doodlewarrior>
and thus giving html some longevity?

[17:52:00.0000] <Hixie>
doodlewarrior: i don't think html is limping along, it's one of the most successful file formats of all time

[17:52:01.0000] <Hixie>
doodlewarrior: my goal is to make html better so that it does more

[17:53:00.0000] <Hixie>
doodlewarrior: but we have finite resources to do it, so i'm focusing on things where we get good value for money

[17:53:01.0000] <Hixie>
doodlewarrior: i think that its longevity has nothing to do with its element names

[17:54:00.0000] <doodlewarrior>
it clearly has longevity.  its been a reigning format for nearly two decades

[17:54:01.0000] <Niictar>
/me does wonder after following the conversation:

[17:54:02.0000] <Niictar>
Why isn't <header> renamed <hgroup>?

[17:55:00.0000] <Hixie>
because <hgroup> is ugly, and <header>, imho, for most people, is more understandable

[17:55:01.0000] <doodlewarrior>
but if cruft accumulates over time, design decisions go out of fashion, etc., and it isnt cleaned up

[17:55:02.0000] <doodlewarrior>
it becomes much less attractive as time goes on

[17:56:00.0000] <doodlewarrior>
the root of entrepreneurism: find a pain, solve a problem

[17:56:01.0000] <Hixie>
yes, that's why html5 cleans up a huge amount of cruft

[17:56:02.0000] <Hixie>
but i don't think <h1> is cruft

[17:56:03.0000] <doodlewarrior>
the more painful/crufty HTML becomes, the more likely it will be that someone upstages it

[17:56:04.0000] <Hixie>
i hope it is upstaged :-)

[17:57:00.0000] <Hixie>
it would be sad if we were still using html in 100 years

[17:57:01.0000] <doodlewarrior>
look at the mac though.  it has evolved so much over the past 25 years.

[17:57:02.0000] <doodlewarrior>
people are still using them

[17:58:00.0000] <doodlewarrior>
and they have similar qualities

[17:58:01.0000] <doodlewarrior>
but soo many improvements

[17:58:02.0000] <doodlewarrior>
anyway, we've all made our points

[17:58:03.0000] <doodlewarrior>
im glad im not the only one confused that <header> != <footer style='margin-top:0%'>

[18:01:00.0000] <Niictar>
Is CSS development paired someway with HTML development? Like is there a CSS working group that is putting together default styles for new elements or new semantic meanings to old elements?

[18:02:00.0000] <Hixie>
there is a csswg, but it's work is not closely coordinated with html development, no

[18:04:00.0000] <Niictar>
/me is worried about using new elements like <nav>, <section>, and <aside>, for example, in real-world commercial sites in fear of random default styles doing something wierd to them

[18:06:00.0000] <Niictar>
Well rather, that the CSSWG will define new style attributes for an element and then a UA will adopt some of those styles as defaults to reflect semantics

[18:08:00.0000] <Niictar>
It would be nice to get a glimps of what sort of defaults major browsers will be adopting

[18:08:01.0000] <Hixie>
html5 defines the expected default styles

[18:08:02.0000] <Hixie>
in the rendering section

[18:11:00.0000] <Niictar>
This is not related to the work done by the csswg?

[18:14:00.0000] <Hixie>
no

[18:19:00.0000] <Niictar>
Well, anyway, so if I decide to use <nav> and apply whatever styles I like to make it look the way I want in current browsers

[18:19:01.0000] <Niictar>
I can then go to the spec and lookup expected default style values and either choose to accept them or "reset" them and that should remove suprises later on when a future UA renders the page

[18:20:00.0000] <Niictar>
As long as those defaults in the spec don't change (remembering it's still a working draft)

[22:48:00.0000] <MikeSmith>
https://bugzilla.mozilla.org/show_bug.cgi?id=480427 (Add a way to run processes in a background thread) is interesting

[22:55:00.0000] <MikeSmith>
hmm, so http://hg.mozilla.org/mozilla-central/rev/c352ad4174bb and http://hg.mozilla.org/mozilla-central/rev/c352ad4174bb820bbdd71811b4ff3948d12eb768 are the same

[22:55:01.0000] <MikeSmith>
wonder what the other gazillion characters in the 2nd hg rev number are for

[22:56:00.0000] <heycam>
what do green underlines mean in the spec? dangling definition reference or something?

[23:00:00.0000] <MikeSmith>
heycam: I seem to remember that it's supposed to indicate a term that's not defined in HTML5, but instead externally, in another spec.

[23:00:01.0000] <heycam>
ah

[23:00:02.0000] <MikeSmith>
but it looks like some instances of those are actually for terms defined in HTML5

[23:01:00.0000] <heycam>
yeah

[23:01:01.0000] <MikeSmith>
so maybe some are markup oversights

[23:01:02.0000] <heycam>
gsnedders, ‚Üë

[23:01:03.0000] <heycam>
/me really enjoys pressing Ctrl+Space to switch to the LaTeX IME so he can type \uparrow

[23:04:00.0000] <MikeSmith>
/me uses Japanese IME for that

[23:05:00.0000] <takkaria>
MikeSmith: hg often uses the first 16 characters of a revision id to refer to that revision

[23:06:00.0000] <takkaria>
the really long one is the actual revision id

[23:06:01.0000] <takkaria>
the 16-char shortening is just allowed in places where there's no ambiguity from its use

[23:06:02.0000] <takkaria>
iirc, anyway

[23:06:03.0000] <gavin>
MikeSmith: why do you find that bug interesting?

[23:07:00.0000] <MikeSmith>
gavin: dunno, i guess I just would have thought that'd be implemented already

[23:07:01.0000] <gavin>
the "processes" it refers to are external processes

[23:08:00.0000] <gavin>
we've had an API forever that lets you launch them

[23:08:01.0000] <gavin>
but now we need to allow launching them in the background to better support plugin installations

[23:08:02.0000] <gavin>
not really related to multi-process web browsing, or running our own tasks on separate threads

[23:09:00.0000] <gavin>
(the former is being investigated as well, of course, and the latter we've done forever for e.g. DNS lookups)

[23:13:00.0000] <MikeSmith>
gavin: I see

[23:31:00.0000] <MikeSmith>
Hixie: Typographic conventions section should mention what class-less <span> (green underline) means

[23:43:00.0000] <Hixie>
billyjackass, heycam: the green underlines are errors that (once gsnedders does his magic) will go away

[23:43:01.0000] <Hixie>
(cross-spec references)

[23:43:02.0000] <Hixie>
is the h:tml doc in dev.w3.org?

[23:44:00.0000] <billyjackass>
Hixie: no, it's currently in www.w3.org

[23:45:00.0000] <Hixie>
ah, ok

[23:45:01.0000] <MikeSmith>
I should move it over to dev.w3.org

[23:46:00.0000] <MikeSmith>
have a running dispute with others about what dev.w3.org should be properly used for

[23:46:01.0000] <MikeSmith>
I've been told we should not be publishing documents there at all, because that's not what it was originally intended for

[23:46:02.0000] <MikeSmith>
fact is of course that's now what it's being use fo

[23:47:00.0000] <Hixie>
well i'm happy to move the doc to anywhere else people want it

[23:47:01.0000] <Hixie>
including the /tr/ page

[23:48:00.0000] <MikeSmith>
heh

[23:48:01.0000] <Hixie>
i publish about 10 versions a day, let me know if the systeam is ready for that load :-)

[23:48:02.0000] <MikeSmith>
Hixie: is there some reason in particular you'd think it'd be better to have the h:tml doc on dev.w3.org?

[23:48:03.0000] <Hixie>
i didn't say i thought that

[23:48:04.0000] <MikeSmith>
oh

[23:48:05.0000] <Hixie>
i was just asking if it was there because i couldn't find it there when i looked

[23:49:00.0000] <Hixie>
i don't really care where it is, so long as it is public

[23:49:01.0000] <MikeSmith>
well, one main reason I think stuff should be there is that people can view cvs diffs there

[23:49:02.0000] <MikeSmith>
which they can't for stuff on www.w3.org

[23:50:00.0000] <MikeSmith>
hsivonen: about http://blog.jclark.com/2009/01/relax-ng-and-xmlid.html

[23:51:00.0000] <MikeSmith>
(proposal to add xml:id support to jing)

[23:51:01.0000] <MikeSmith>
is that something that you could add to upstream jing using the filter you already wrote for v.nu?

[23:51:02.0000] <Hixie>
just out of interest, the people who say we shouldn't publish on dev.w3.org, where do they say we should publish EDs?

[23:51:03.0000] <MikeSmith>
Hixie: in ACL'ed space on www.w3.org

[23:52:00.0000] <MikeSmith>
apparently that's the way that some other groups are doing

[23:52:01.0000] <Hixie>
ah

[23:52:02.0000] <Hixie>
well i'm happy to do that if you want me to do that

[23:52:03.0000] <Hixie>
i don't think i have an account on that machine though

[23:53:00.0000] <MikeSmith>
I'm not happy to do that, because it's unnecessary extra work for everybody, and for me in particular

[23:53:01.0000] <Hixie>
fair enough

[23:53:02.0000] <MikeSmith>
the real solution is to put sufficient resources behind dev.w3.org to deal with the use that groups are actually putting it to

[23:53:03.0000] <MikeSmith>
one particular problem we have run into is bots crawling links from the HTML5 spec in particular

[23:54:00.0000] <MikeSmith>
which apparently creates massive load

[23:54:01.0000] <MikeSmith>
because in some cases is causes a cvs process to run for each request

[23:54:02.0000] <Hixie>
does the systeam know about robots.txt?

[23:55:00.0000] <Hixie>
long term i think the better solution is to move away from a model that has versioned documents snapshotted on a /TR/ page and just have one continually updated draft per technology

[23:55:01.0000] <MikeSmith>
yeah, of course. I don't know what the normal solutions have not worked, but they seem not to ahve

[23:55:02.0000] <Hixie>
(but i don't see the w3c going to that model any time soon)

[23:55:03.0000] <Hixie>
weird

[23:56:00.0000] <MikeSmith>
Hixie: I'd personally be happier with continuously-published model for draft specs like HTML5 that are in very active development

[23:56:01.0000] <MikeSmith>
for groups that are doing everything in public

[23:56:02.0000] <Hixie>
i wouldn't have groups that aren't in public :-)

[23:57:00.0000] <MikeSmith>
there's a lot less of than there used to be at least

[23:57:01.0000] <MikeSmith>
so I guess there's been some progress there

[23:59:00.0000] <Hixie>
true

[00:21:00.0000] <hsivonen>
MikeSmith: the filter I wrote does things that are radically not blessed by XML Core

[00:22:00.0000] <hsivonen>
(assigns IDness to id except in CML)

[00:23:00.0000] <hsivonen>
MikeSmith: I expect Jing upstream to trea XML Core as normative, but I could be wrong.

[00:27:00.0000] <hsivonen>
heycam: LaTeX IME on which OS?

[00:28:00.0000] <MikeSmith>
hsivonen: OK

[00:29:00.0000] <heycam>
hsivonen, linux

[00:29:01.0000] <heycam>
using SCIM

[00:29:02.0000] <heycam>
i really want to be able to type vim digraphs, since i'm more familiar with them than latex commands

[00:30:00.0000] <hsivonen>
it would be cool if Wolfram released the Mathematica input keystrokes as an input method

[00:31:00.0000] <hsivonen>
heycam: thanks. I was unaware of SCIM

[00:34:00.0000] <heycam>
i never managed to get it working nicely in debian, but now that i've installed ubuntu It Just Works :)

[00:47:00.0000] <Hixie>
i have no idea what to do with appcache and workers

[00:48:00.0000] <ap>
Hixie: my suggestion is "nothing, it already works great"

[00:48:01.0000] <Hixie>
it doesn't work at all right now

[00:48:02.0000] <Hixie>
you can't use workers while offline

[00:48:03.0000] <ap>
Hixie: oh? in WebKit, or per the spec?

[00:48:04.0000] <Hixie>
(per spec)

[00:48:05.0000] <ap>
why?

[00:49:00.0000] <Hixie>
appcache only takes over network for resources that are done by a browsing context

[00:49:01.0000] <Hixie>
the fetching of the resource for a worker is done in the worker, not the bc

[00:49:02.0000] <Hixie>
what does webkit do?

[00:50:00.0000] <ap>
Hixie: WebKit uses the browsing context that was used for creating the worker

[00:50:01.0000] <ap>
Hixie: that's necessary at least to ensure that we can follow our cookie policy

[00:50:02.0000] <ap>
Hixie: (only accept cookies from sites the user navigates to)

[00:50:03.0000] <Hixie>
so when you call applicationCache.swapCache(), what happens?

[00:51:00.0000] <Hixie>
the page suddenly finds itself using new resources with an old worker script?

[00:51:01.0000] <Hixie>
and how does that work for shared workers?

[00:52:00.0000] <ap>
Hixie: sure, it uses new resources with an old worker (just as it will use an old onmousemove handler that was installed before swapCache).

[00:53:00.0000] <Hixie>
i guess that makes sense for dedicated workers

[00:53:01.0000] <ap>
Hixie: shared workers don't exist yet, but obviously, they'll have to remain linked to the document that opened them for cookie policy to work

[00:53:02.0000] <Hixie>
even once that document is long gone, history cleared, window closed, and everything?

[00:54:00.0000] <ap>
Hixie: I have no idea how shared workers should be specced

[00:55:00.0000] <ap>
Hixie: clearly, a shared worker, if there is ever such thing, shouldn't be affected by a random page from the same appcache doing swapCache()

[00:55:01.0000] <Hixie>
i don't think there's any "clearly" about it, but i do agree

[01:25:00.0000] <gsnedders>
heycam: cross-document cross-references, methinks

[02:01:00.0000] <hsivonen>
where can I find information about how vendors other than Mozilla use the Public Suffix List?

[02:01:01.0000] <annevk3>
http://lists.w3.org/Archives/Public/public-svg-wg/2009JanMar/0306.html o_O

[02:02:00.0000] <annevk3>
/me thought it was widely known people used VML/SVG to do graphics nowadays

[02:03:00.0000] <gsnedders>
Yeah! We hate SVG!

[02:04:00.0000] <annevk3>
Yeah, HTML has enough capabilities of doing declarative 2d graphics already: <table> :)

[02:06:00.0000] <hsivonen>
Do the HTML5 folks hate SVG more than they hate accessibility?

[02:07:00.0000] <annevk3>
That's a tough call. Definitely hate it more than internationalization.

[02:07:01.0000] <annevk3>
Also fun reading: http://lists.w3.org/Archives/Public/public-xhtml2/2009Mar/0101.html

[02:08:00.0000] <annevk3>
"re-introduce BR, marking as deprecated, and point out that for accessibility, is much better to use L"

[02:08:01.0000] <hsivonen>
annevk3: I'd love to see a technical explanation for that one

[02:11:00.0000] <hsivonen>
has anyone tried the Google SVG stuff yet? do they do it in the same DOM as HTML or in an iframed XML DOM?

[02:11:01.0000] <hsivonen>
if the former, what tricks do they pull to make it work in WebKit?

[02:17:00.0000] <annevk3>
doesn't WebKit allow it to work in the DOM?

[02:18:00.0000] <hsivonen>
annevk3: it doesn't render in WebKit for me

[02:18:01.0000] <hsivonen>
livedom.validator.nu works with SVG only in Firefox and Opera

[02:19:00.0000] <hsivonen>
no idea why

[02:37:00.0000] <jgraham>
FWIW I think renaming <header> to <hgroup> or something similar is a very good idea because I have come across a number of people who think that <header> is either like <hn> without the n or like <footer>

[02:38:00.0000] <jgraham>
Sure it is more ugly but it will also be used right more often

[02:38:01.0000] <jgraham>
And HTML is already pretty ugly

[02:38:02.0000] <hsivonen>
jgraham: what about renaming <footer> into <contentinfo>?

[02:39:00.0000] <hsivonen>
jgraham: my gut reaction is agreeing with renaming to <hgroup>

[02:40:00.0000] <annevk3>
hgroup sounds like hcard or hcalendar

[02:40:01.0000] <Philip`>
/me wonders why hgroup, not headergroup

[02:40:02.0000] <hsivonen>
annevk3: true

[02:40:03.0000] <hsivonen>
Philip`: head*ing*group surely?

[02:40:04.0000] <jgraham>
hsivonen: I'm less sure about <footer>. The issues there seem more aesthetic

[02:40:05.0000] <jgraham>
/me isn't at all attached to <hgroup>

[02:40:06.0000] <jgraham>
Just not <heading>

[02:41:00.0000] <jgraham>
er <header>

[02:41:01.0000] <jgraham>
(this is another reason to rename it)

[02:41:02.0000] <hsivonen>
indeed

[02:42:00.0000] <annevk3>
lets call them <top> and <bottom>

[02:42:01.0000] <hsivonen>
is it OK if I change html5lib tests according to Hixie's forward-looking IRC statements about foster parenting?

[02:42:02.0000] <hsivonen>
annevk3: my mother's site has stuff that is semantically <footer> but it's above content

[02:43:00.0000] <jgraham>
hsivonen: Yes

[02:43:01.0000] <hsivonen>
jgraham: thanks

[02:43:02.0000] <annevk3>
I'm not too convinced about some of the structural elements. E.g. I find <article> quite confusing and I'm missing <content> or <main>

[02:44:00.0000] <annevk3>
I haven't quite figured out how to explain that properly though

[02:44:01.0000] <hsivonen>
<realbody>

[02:45:00.0000] <jgraham>
I don't really understand <content>

[02:45:01.0000] <jgraham>
What would <content> be on a blog?

[02:45:02.0000] <jgraham>
Or a nes site?

[02:45:03.0000] <jgraham>
*news

[02:46:00.0000] <annevk3>
it would be the bit under the primary heading and navigation

[02:46:01.0000] <jgraham>
In those cases <article> seems pretty obvious

[02:46:02.0000] <annevk3>
and above the copyright and other links section

[02:46:03.0000] <annevk3>
<article> is only for a single article

[02:46:04.0000] <jgraham>
So the content ould be everything not in <nav> <header> or <footer>?

[02:47:00.0000] <annevk3>
or <aside>, yes, that leaves content :)

[02:47:01.0000] <jgraham>
<aside> is content

[02:47:02.0000] <jgraham>
For sure

[02:47:03.0000] <annevk3>
well, <aside> is both

[02:47:04.0000] <annevk3>
it can easily be ignored

[02:47:05.0000] <jgraham>
Oh wait, Hixie has this totally screwy definition of <aside>

[02:48:00.0000] <annevk3>
content is all the articles on my blog frontpage

[02:48:01.0000] <jgraham>
There is no way that <aside> should contain sidebars for navigation or anything like that

[02:48:02.0000] <jgraham>
it just makes no sense

[02:48:03.0000] <annevk3>
why not?

[02:48:04.0000] <annevk3>
it's the actual content of the page, you might want to jump to it

[02:49:00.0000] <annevk3>
you typically want to style it

[02:49:01.0000] <jgraham>
Because it means that there are two totally different usecases for <aside>

[02:49:02.0000] <jgraham>
One: for pullout boxes containing content 

[02:49:03.0000] <annevk3>
oh, I thought you were talking about <content> still

[02:49:04.0000] <jgraham>
Two: For structural elements of the page

[02:50:00.0000] <jgraham>
Only number One corresponds to any reasonable defenition of <aside>

[02:50:01.0000] <jgraham>
I guess <content> makes some sense, but I think you could do without it

[02:50:02.0000] <annevk3>
no, a list of blogs, the wordpress sidebar, etc. those things are <aside>

[02:51:00.0000] <jgraham>
annevk3: That is defenition Two. The one which makes no sense

[02:51:01.0000] <annevk3>
it makes sense to me

[02:52:00.0000] <jgraham>
How is a list of blogs an aside? What is it an aside to?

[02:52:01.0000] <annevk3>
aside to the main purpose of the page?

[02:52:02.0000] <annevk3>
it's sidebar thingie, an aside

[02:52:03.0000] <jgraham>
<sidebar> makes some sense

[02:52:04.0000] <jgraham>
aside, not as much

[02:53:00.0000] <jgraham>
And often these things are not asides to the main purpose of the page

[02:53:01.0000] <annevk3>
<aside> also means "apart", "to the side"

[02:53:02.0000] <annevk3>
yes they are...

[02:54:00.0000] <jgraham>
Do you agree that <aside> covers two entirely different concepts?

[02:54:01.0000] <hsivonen>
jgraham: I'll also update the tests for the new AAA

[02:54:02.0000] <jgraham>
hsivonen: You rock. Thanks

[02:54:03.0000] <annevk3>
jgraham, I agree the concepts are slightly different, but not too much

[02:55:00.0000] <jgraham>
annevk3: I don't really see any overlap between the two use cases. One is a content box that is out of the main flow of the content. The other is site stucture

[02:55:01.0000] <krijnh>
Isn't <article><aside> usable for case 1, and <body><aside> for case 2?

[02:56:00.0000] <jgraham>
krijnh: If you want to force all content to be wrapped in <article> elements

[02:58:00.0000] <krijnh>
I think it'd be handy if there was some place with screenshots of websites and a global outline of new elements you could use

[02:58:01.0000] <krijnh>
Before we authors just start inventing our own use for some of the new elements, because we are too lazy to read the spec

[02:59:00.0000] <krijnh>
Something like http://www.alistapart.com/articles/previewofhtml5 but with 'real' sites

[03:00:00.0000] <annevk3>
sounds cool

[03:00:01.0000] <annevk3>
can you make the <canvas> app that lets us do that? :)

[03:00:02.0000] <krijnh>
Me? No :)

[03:01:00.0000] <gsnedders>
/me remembers why he avoids #css

[03:02:00.0000] <krijnh>
gsnedders: and why's that? :)

[03:02:01.0000] <gsnedders>
krijnh: They're a bunch of idiots, basically.

[03:02:02.0000] <krijnh>
gsnedders: well thank you, cause I'm an idiot too. And we idiots are going to use the new stuff you come up with in here

[03:03:00.0000] <gsnedders>
krijnh: I don't like being told, "the wey i see it , you should just shut up and start learning something"

[03:04:00.0000] <krijnh>
Right, you lost me

[03:04:01.0000] <annevk3>
gsnedders, btw, there's huge amount of Scottish people in the Netherland. They were all hopping around in their kilts in Amsterdam last night. Apparently there's a football match coming up between our countries.

[03:05:00.0000] <gsnedders>
I guess I'm meant to say "We'll kick your ass", but I really don't care for football.

[03:05:01.0000] <Philip`>
/me assumes gsnedders isn't talking about W3C #css

[03:05:02.0000] <gsnedders>
Philip`: No, freenode #css

[03:05:03.0000] <Philip`>
krijnh: By the way, http://krijnhoetmer.nl/irc-logs/css/20090327 says "-#c-ss" at the top which seems odd :-)

[03:05:04.0000] <krijnh>
Kewl :)

[03:07:00.0000] <krijnh>
That's part of me trying to prove my idiotness

[03:07:01.0000] <krijnh>
Working quite well

[03:07:02.0000] <gsnedders>
krijnh: You rule.

[03:07:03.0000] <Philip`>
I think the existence of the irc-logs service is proof of nonidiotness :-)

[03:08:00.0000] <krijnh>
Philip`: that's just because you haven't seen the code :)

[03:08:01.0000] <krijnh>
Anyway

[03:08:02.0000] <krijnh>
Are these 'markup tutorials' thingies requested before?

[03:08:03.0000] <krijnh>
Is that the cookbook DanC is working on

[03:13:00.0000] <gsnedders>
http://pastebin.ca/1373856

[03:16:00.0000] <krijnh>
gsnedders: that's a nice pill to swallow for a lot of developers, which takes some time

[03:17:00.0000] <annevk3>
/me wonders why he read that

[03:17:01.0000] <annevk3>
stuff like that drives me away from everyday forums, which is bad, since it's good to know what people want

[03:18:00.0000] <hsivonen>
hmm. it seems my frameset-ok code may suck

[03:21:00.0000] <gsnedders>
It's the elitism of, "I'm right, you're wrong. You go learn.", when in fact they are wrong that really pisses me off.

[03:21:01.0000] <jgraham>
gsnedders: Calm dowwn, calm down

[03:21:02.0000] <gsnedders>
/me slaps jgraham 

[03:21:03.0000] <jgraham>
(that is best read in a liverpudlan accent)

[03:21:04.0000] <gsnedders>
:P

[03:21:05.0000] <jgraham>
s//i/

[03:22:00.0000] <krijnh>
gsnedders: osm

[03:22:01.0000] <krijnh>
Whoops

[03:25:00.0000] <annevk3>
/me pondered whether he should go in to say that gsnedders is right (and if they didn't buy it I'd just point to some CSS spec that carries my name :p )

[03:26:00.0000] <krijnh>
annevk3: don't waste your time

[03:26:01.0000] <gsnedders>
annevk3: :P

[03:27:00.0000] <krijnh>
annevk3: gsnedders can waste his time by calling them idiots (elitism?), but you should know better ;)

[03:28:00.0000] <annevk3>
krijnh, I'm just amusing myself with the thought

[03:29:00.0000] <krijnh>
More people should just be satisfied with the thoughts alone :)

[03:30:00.0000] <gsnedders>
I'm now getting told about what is and isn't valid HTML 5 by someone who says they aren't that familiar with HTML 5.

[03:31:00.0000] <annevk3>
wot

[03:31:01.0000] <jgraham>
I'm not sure what that is surprising

[03:31:02.0000] <jgraham>
*why

[03:35:00.0000] <hsivonen>
have browsers started accepting unitless lengths in the standards mode? due to SVG?

[03:36:00.0000] <annevk3>
I don't think so

[03:36:01.0000] <krijnh>
No

[03:36:02.0000] <annevk3>
Opera used quirks mode parsing for SVG for a short while

[03:36:03.0000] <hsivonen>
so is the #css stuff only about quirks mode?

[03:36:04.0000] <annevk3>
I managed to get that fixed...

[03:36:05.0000] <annevk3>
hsivonen, yup

[03:37:00.0000] <hsivonen>
ok

[03:38:00.0000] <hsivonen>
whoa! the new AAA makes so much more sense than the old one for <!DOCTYPE html><p><b><i><u></p> <p>X

[03:40:00.0000] <hsivonen>
Hixie: seems like the old one was rather silly here

[03:40:01.0000] <hsivonen>
/me goes test what WebKit does

[03:40:02.0000] <hsivonen>
WebKit indeed does it the old way

[03:41:00.0000] <hsivonen>
new AAA FTW!

[04:27:00.0000] <beowulf>
FWIW i find article confusing when compared with section when marking up content, and header being named something like hgroup would clear up a question i'm going to ask on the help list

[04:40:00.0000] <olliej_>
hsivonen: AAA?

[04:41:00.0000] <jgraham>
Adoption Agency Algorithm

[04:41:01.0000] <olliej_>
?

[04:41:02.0000] <jgraham>
olliej_: You're supposed to know this stuff, Hyatt invented it

[04:41:03.0000] <jgraham>
:)

[04:41:04.0000] <olliej_>
jgraham: hyatt is a crazy man :D

[04:41:05.0000] <jgraham>
olliej_: <b><i>foo</b>bar</i>

[04:42:00.0000] <olliej_>
yeah

[04:42:01.0000] <olliej_>
i had a vague recollection of the name and purpose of said algorithm

[04:42:02.0000] <olliej_>
once you said it

[04:42:03.0000] <hsivonen>
http://www.whatwg.org/specs/web-apps/current-work/#adoptionAgency

[04:44:00.0000] <olliej_>
/me prods hyatt

[04:44:01.0000] <olliej_>
/me realises it's 5am and goes to bed

[05:22:00.0000] <zcorpan>
hoffman helped find a bug in opera by sending broken svg to the list

[05:26:00.0000] <jgraham>
/me likes the idea of a riot in the bikeshed

[05:39:00.0000] <Lachy>
the name for <header> came from the common class and IDs used by people for a similar purpose. (typically <div id="header"><h1>...</h1> ... </div>) 

[05:40:00.0000] <svl>
The problem with the hgroup name is that it suggests being rather restrictive, while a header can contain far more than _just_ h1-h6

[05:40:01.0000] <Lachy>
I don't see how we can justify calling it confusing given that we've seen several other people use it as intended

[05:41:00.0000] <Philip`>
Lachy: It's not clear that people using id="header"/class="header" were using it with the same meaning as how <header> is specced

[05:42:00.0000] <jgraham>
Lachy: I think we can call it confusing on the basis of people being confused by it

[05:44:00.0000] <Lachy>
jgraham, two people commenting on IRC is insignificant given that we can look at sites and see people actually using it correctly. http://html5gallery.com/

[05:44:01.0000] <krijnh>
Is somebody actively checking if it is used correctly already?

[05:45:00.0000] <krijnh>
And if not, pointing it out?

[05:45:01.0000] <Lachy>
I just went through all the sites listed there and of all the ones using <header>, they all used it as intended

[05:46:00.0000] <Philip`>
I looked at http://www.codedread.com/ which is the first one, and it seems to be entirely redundant in there since it's just wrapping a single <h3>

[05:46:01.0000] <Philip`>
http://www.thewatchmakerproject.com/ uses <div id="header"> for something that contains Twitter status, which would seem inappropriate for conversion to <header>

[05:46:02.0000] <krijnh>
On http://blog.codedread.com/ it's used better

[05:46:03.0000] <Lachy>
although I did notice one using a supurfluous section as in: <article><header>[Article header]</header><section>[Article content]</section></article>

[05:47:00.0000] <Lachy>
*superfluous

[05:48:00.0000] <krijnh>
The comment lists on blog.codedread.com don't use <article> elements

[05:48:01.0000] <Philip`>
Comments aren't articles, and if people are writing articles in your comments section then you should tell them to get their own blog instead :-p

[05:49:00.0000] <krijnh>
"The article element represents a section of a page that consists of a composition that forms an independent part of a document, page, or site. This could be a forum post, a magazine or newspaper article, a Web log entry, a user-submitted comment, or any other independent item of content."

[05:49:01.0000] <krijnh>
No?

[05:49:02.0000] <Philip`>
That's merely what HTML 5 says

[05:50:00.0000] <krijnh>
:)

[05:50:01.0000] <krijnh>
Isn't that what people are trying to follow then?

[05:50:02.0000] <krijnh>
Or should follow, when they say they're using fluffy new markup

[05:51:00.0000] <Philip`>
When an element has an English word for a name, people reasonably assume that word's semantics are the element's semantics

[05:51:01.0000] <Philip`>
hence e.g. using <address> for addresses

[05:52:00.0000] <Philip`>
Telling people to use <article> for something that's clearly not an article is just confusing

[05:52:01.0000] <Philip`>
(Telling them to use <div> is okay because they won't have preconceptions as to what 'div' means)

[05:52:02.0000] <krijnh>
Heh, HTML 5 is a mess! :)

[05:52:03.0000] <Philip`>
s/5//

[05:53:00.0000] <Philip`>
s/HTML/the world/

[05:53:01.0000] <krijnh>
/me tries to make Last Week

[05:53:02.0000] <Philip`>
s/:)/:(/

[06:04:00.0000] <Lachy>
krijnh, haven't you been targetted by Mr Last Week before?

[06:04:01.0000] <krijnh>
No idea

[06:04:02.0000] <krijnh>
He only links to my site constantly :(

[06:04:03.0000] <Lachy>
oh, so you just want to be on there again?

[06:05:00.0000] <krijnh>
Yeah, but don't tell anyone

[06:05:01.0000] <krijnh>
I'd like to know your secret :)

[06:05:02.0000] <Lachy>
I don't have any secrets

[06:06:00.0000] <krijnh>
Your as in the entire cabal :)

[06:06:01.0000] <annevk3>
Do you seriously think we'd use this channel as coverup for our world domination plan we're discussing over in #secrettreehouse?

[06:07:00.0000] <krijnh>
Yeah, I'm banned there, because I wanted to log that channel as well :(

[06:07:01.0000] <krijnh>
Some Hixie guy did that

[06:07:02.0000] <annevk3>
Ah, I forgot about that

[06:09:00.0000] <beowulf>
there's a secret tree house? <excited>I'll get my ball!</excited>

[06:11:00.0000] <jgraham>
Weeeee another I think XML is trivial post

[06:13:00.0000] <annevk3>
Robin Berjon has actual knowledge though

[06:14:00.0000] <jgraham>
Right, so do lots of the othr people who think that XML is trivial

[06:14:01.0000] <jgraham>
Doesn't mean that XML is trivial

[06:15:00.0000] <annevk3>
I guess the question is, trivial to whom?

[06:15:01.0000] <jgraham>
Lachy: About half the sites on the front page of HTML5 agllery use <header> in a redundant way (just to wrap a single <hn> element)

[06:15:02.0000] <jgraham>
And these represent the early adopters from whom we expect the very best markup

[06:17:00.0000] <Lachy>
sure, it may be technically redundant, but it's not wrong. In particular, none have attempted to use it as a substitue for <h1> elements

[06:17:01.0000] <jgraham>
Lachy: I wouldn't expect early adopters to

[06:18:00.0000] <zcorpan>
/me realizes he has used <header><h1>Foo</h1></header> and goes to remove the reducancy

[06:18:01.0000] <jgraham>
The sample is way too biased to infer much

[06:19:00.0000] <jgraham>
In particular I would expect all of these authors to validate their work

[06:19:01.0000] <Lachy>
well, the two questions about the issue on IRC that you referred to is even less evidence to infer anything from.

[06:20:00.0000] <jgraham>
Lachy: I don't see how. That represent actual confusion

[06:21:00.0000] <beowulf>
http://havetheygoneawayyet.com/ #¬†i was going for maximum reducancy

[06:21:01.0000] <zcorpan>
gsnedders: it would be useful if your outline tool said which sectioning element, if any, a heading is associated with

[06:21:02.0000] <Lachy>
there are always going to be a few people confused about any little thing, regardless of how trivial it may be. The issue is whether or not there's significant widespread confusion to justify changing anything, rather than simply improving the education of the issue

[06:22:00.0000] <Philip`>
The cost of changing the name is pretty low

[06:23:00.0000] <jgraham>
Right but we have both evidence of actual confusion amonst authors cluded up enough to find the right technical irc channel to ask on, and a hypothesis about why they would be confused (the element name is misleading)

[06:23:01.0000] <beowulf>
in my experience of marking up docs as html5 header isn't terribly confusing, but i thought i'd mention it

[06:23:02.0000] <Lachy>
Philip`, given the existing material out there already explaining how to use it, and the sites that have already adopted it, I think the cost of changing it is higher than you think

[06:23:03.0000] <krijnh>
/me prefers <header> and better/more examples

[06:23:04.0000] <zcorpan>
xhtml2 has <headings>

[06:23:05.0000] <zcorpan>
maybe that's a clearer name

[06:23:06.0000] <beowulf>
section vrs article though is in a different league

[06:23:07.0000] <Lachy>
/me walks away from this useless bikeshed

[06:24:00.0000] <jgraham>
Lots of people seem to do <article><h1>Foo</h1><section>This is the content</section></article>

[06:24:01.0000] <jgraham>
Which is bad

[06:24:02.0000] <zcorpan>
yes

[06:24:03.0000] <krijnh>
Why exactly?

[06:25:00.0000] <jgraham>
krijnh: Because it technically means that the content is a untitled subsection of the article

[06:25:01.0000] <zcorpan>
maybe we should drop <section>

[06:25:02.0000] <jgraham>
rather than being titled by the article title

[06:25:03.0000] <jgraham>
zcorpan: Maybe we should drop <article>

[06:25:04.0000] <zcorpan>
jgraham: article seems more useful than section and is used correctly :)

[06:26:00.0000] <Lachy>
people do that because they think in terms of header/content/footer, and think each part of it deserves its own individual container

[06:26:01.0000] <jgraham>
zcorpan: <section> is nice for long documents like theses and the like

[06:27:00.0000] <Lachy>
just like we have thead/tbody/tfoot, or people who do <div id="header"/><div id="maincontent"/><div id="footer"/>

[06:27:01.0000] <jgraham>
Maybe we should change the outline algorithm to make untitled sections collapse

[06:27:02.0000] <Lachy>
jgraham, that's what I was just thinking

[06:27:03.0000] <beowulf>
i'd say they get confused because in the normal stage of marking up documents they haven't had to think about the semantics of two types of section before

[06:27:04.0000] <beowulf>
s/they/me

[06:29:00.0000] <krijnh>
Nor about where you put your headings

[06:30:00.0000] <jgraham>
Maybe we should make it a fatal parse error if Hixie doesn't approve of your markup.

[06:30:01.0000] <krijnh>
Inside or outside a <div>

[06:31:00.0000] <beowulf>
html5-O, Hixie Police

[06:48:00.0000] <zcorpan>
so who's gonna suggest the name <headings> on the list?

[06:48:01.0000] <jgraham>
zcorpan: You :)

[06:48:02.0000] <zcorpan>
no, i don't participate in naming debates on list

[06:49:00.0000] <jgraham>
Just on IRC?

[06:49:01.0000] <zcorpan>
yes :)

[06:49:02.0000] <krijnh>
<header><h1>Foo</h1><p>Bar</header> is correct too, right?

[06:49:03.0000] <zcorpan>
yeah

[06:50:00.0000] <krijnh>
Then <headings> would be weird, imho

[06:50:01.0000] <zcorpan>
maybe

[06:51:00.0000] <zcorpan>
but less potential for misuse

[06:57:00.0000] <Andrii>
can <section> be used like a container for <article>s?

[06:57:01.0000] <Andrii>
instead of <div id="content"> if it would be done in past HTML

[06:57:02.0000] <jgraham>
Andrii: Yes

[06:58:00.0000] <jgraham>
If you want

[06:58:01.0000] <Andrii>
great, I want it now :D

[07:00:00.0000] <Andrii>
I'm going to markup my site in XHTML5 and I don't care that IE doesn't support application/xhtml+xml, it's not my problem, I'm following standards, Safari, Firefox, Opera can, why IE is so ****

[07:00:01.0000] <Andrii>
it will be a lesson for IE!

[07:02:00.0000] <jgraham>
Andrii: Unless you are, say, Google, it seems unlikely that IE will learn its lesson

[07:04:00.0000] <Andrii>
of course, I was kidding, but someone has to start using XHTML content-type on the web, right?

[07:04:01.0000] <krijnh>
Why?

[07:04:02.0000] <Andrii>
to push web standards to the new level

[07:05:00.0000] <hsivonen>
Andrii: good luck with pushing standards to the next level that way

[07:05:01.0000] <svl>
Andrii: application/xhtml+xml and web standards are pretty much orthogonal

[07:05:02.0000] <Andrii>
yeah, you always can say that web worked perfectly well with HTML 4.01

[07:05:03.0000] <krijnh>
jgraham: what if subtitles aren't mandatory for a content manager and your template has something like <header><h1>{title}</h1>{if subtitle}<p>{subtitle}</p>}</header> ?

[07:05:04.0000] <jgraham>
Andrii: The web wworked perfectly well with HTML 4.01

[07:06:00.0000] <jgraham>
krijnh: Well it's not wrong

[07:06:01.0000] <hsivonen>
jgraham: well, pretending that it was HTML 4.01 that was implemented

[07:06:02.0000] <svl>
You can follow the standards very well using HTML; there's no need for the draconian error handling which X(HT)ML gives you.

[07:06:03.0000] <jgraham>
hsivonen: Good point

[07:07:00.0000] <jgraham>
Andrii: What does XHTML5 buy you over HTML5?

[07:07:01.0000] <Andrii>
I will know that I closed each tag :)

[07:08:00.0000] <Andrii>
a peace in my soul

[07:08:01.0000] <jgraham>
Andrii: You could ensure that with HTML 5 pretty easilly

[07:08:02.0000] <hsivonen>
that's why I should implement optional implied tag warnings

[07:08:03.0000] <hsivonen>
people seem to care more about that than about true polyglotness

[07:09:00.0000] <zcorpan>
hsivonen: good point. but it gives people the false feeling that they have polyglotness

[07:10:00.0000] <Andrii>
yes, you all are right, but for me HTML is the past, it's very subjective, but when XHTML was introduced it seemed like a natural development.

[07:10:01.0000] <zcorpan>
jgraham: maybe you should edit the blog post, linking to http://gsnedders.html5.org/outliner/

[07:10:02.0000] <jgraham>
zcorpan: Yeah, maybe

[07:11:00.0000] <jgraham>
Andrii: So it is quite irrational?

[07:11:01.0000] <Andrii>
what is quite irrational? using XHTML 5? yes

[07:12:00.0000] <Philip`>
jgraham: Are you missing a </heading> in your latest post? (and it should be 'header' anyway)

[07:12:01.0000] <Philip`>
jgraham: Oh

[07:12:02.0000] <Philip`>
jgraham: I meant your latest-but-one post

[07:12:03.0000] <Philip`>
jgraham: since I didn't scroll down to the one where you corrected yourself

[07:13:00.0000] <jgraham>
Philip`: Yeah, I suck apparently

[07:13:01.0000] <krijnh>
/me expects some follow-ups about "haha, with XML that wouldn't happen!"

[07:14:00.0000] <jgraham>
krijnh: You mean if I were posting XML to a mailing list it would refuse to send my email until I got my example right? That's cool

[07:14:01.0000] <jgraham>
Or would people reading my email just see a YSOD in their email client

[07:15:00.0000] <Philip`>
Hopefully it would save the ill-formed XML into their giant XML-based mail database file, and they won't be able to read any of their emails ever again until they fix it in a text editor

[07:18:00.0000] <zcorpan>
Philip`: what if the text editor is xml-based?

[07:20:00.0000] <krijnh>
jgraham: yeah, XML could do that for you. But you still want to use your crappy HTML syntax, oh well :)

[07:22:00.0000] <Philip`>
zcorpan: Copy the file onto a CD then take it down to the dodgy-looking guy in the alleyway who'll load it onto one of the old illegal pre-XML Ubiquity Act computers that has a copy of Notepad and can fix it up for you as long as you keep quiet about him

[07:23:00.0000] <Philip`>
zcorpan: ^

[07:23:01.0000] <Philip`>
Human ingenuity will allow our species to survive despite XML

[07:26:00.0000] <zcorpan>
Philip`: only if the cd burner doesn't try to inspect the file looking for virii or something and is also xml-based

[07:36:00.0000] <hsivonen>
I don't like doing release engineering

[07:36:01.0000] <hsivonen>
but I felt I should push out a release of the parser

[07:36:02.0000] <hsivonen>
respinning it now... after having signed files and all

[09:14:00.0000] <gsnedders>
html5lib PHP: r1274 48.2s v. r1290 10.5s to tokenize spec.

[09:19:00.0000] <jgraham>
/me curses people who make testcases using red as a pass condition

[09:22:00.0000] <krijnh>
Thank you :)

[09:23:00.0000] <annevk3>
gsnedders, is there more than a tokenizer?

[09:24:00.0000] <annevk3>
gsnedders, and is it fully implemented in PHP?

[09:24:01.0000] <jgraham>
annevk3: (the answers are no and yes respectively)

[09:24:02.0000] <gsnedders>
annevk3: There isn't really more than a tokenizer, and it doesn't support foreign content

[09:24:03.0000] <jgraham>
(I think)

[09:24:04.0000] <gsnedders>
And it doesn't output parse errors either

[09:25:00.0000] <annevk3>
gsnedders, I don't care much about all that, I just need a tree, ways to filter the tree, and serialize

[09:25:01.0000] <gsnedders>
But there's no change in functionality between the two revisions, just a large change in speed :P

[09:25:02.0000] <gsnedders>
Anyhow, I need to head off, get changed, go to ATM, go to Edinburgh, etc.

[09:26:00.0000] <annevk3>
gsnedders, is this a public project? I might be interested in helping out a bit with missing functionality at some point

[09:26:01.0000] <gsnedders>
annevk3: It's in html5lib SVN

[09:26:02.0000] <annevk3>
okidoki

[09:27:00.0000] <jgraham>
gsnedders: Before you go, any opnion on movingto hg/bitbucket

[09:27:01.0000] <gsnedders>
jgraham: +1

[09:27:02.0000] <jgraham>
gsnedders: Interesting

[09:28:00.0000] <gsnedders>
BBC weather has totally redesigned. I'm really don't like it.

[09:28:01.0000] <jgraham>
OK, you may go to Edinburgh now. But only if you promise to be good

[09:28:02.0000] <gsnedders>
Yes sir.

[09:28:03.0000] <gsnedders>
:P

[09:29:00.0000] <jgraham>
It's stopped snowing

[09:52:00.0000] <gsnedders>
It's meant to have "Light Rain Shower" at 18:00

[09:52:01.0000] <gsnedders>
I just dunno whether to take a coat or not

[09:55:00.0000] <beowulf>
better looking at it than looking for it

[09:59:00.0000] <annevk3>
"Revamp HTML5 doctype sniffing?" scares me a bit

[10:00:00.0000] <Andrii>
jgraham: if XHTML 5 doesn't buy my anything over HTML 5 why then it exists?

[10:00:01.0000] <annevk3>
though reducing magic strings is certainly tempting

[10:00:02.0000] <Andrii>
jgraham: me*

[10:00:03.0000] <jgraham>
Andrii: Well I guess some people like XML

[10:01:00.0000] <annevk3>
Andrii, mostly because browsers had already implemented XHTML

[10:01:01.0000] <jgraham>
If you need namespaces or something it is pretty useful

[10:01:02.0000] <jgraham>
But in the 99.99% case you don't need those things

[10:03:00.0000] <Andrii>
jgraham: it's hard to argue with that

[10:04:00.0000] <Philip`>
If you are working in a programming environment that has fast XML parsers but only rubbish slow HTML5 parsers, it can be much more efficient to use XHTML5 internally

[10:04:01.0000] <Andrii>
I had a dream that some day all web sites would be xhtml valid

[10:05:00.0000] <Philip`>
Sounds like a nightmare to me

[10:05:01.0000] <Andrii>
but it seems like it will never come true, because there is no even such a goal

[10:05:02.0000] <jgraham>
Andrii: The only time I use something like XHTML5 iswhen I use Genshi which is a templating language that is particularly well suited for working with angle-bracket markup and puts the template directives in a genshi namespace. But then I serialize to html in the end because the output only has content from asingle namespace

[10:06:00.0000] <annevk3>
Andrii, I think some have such a goal, e.g. timbl

[10:07:00.0000] <Andrii>
annevk3: oh, at least someone!

[10:07:01.0000] <Philip`>
Now you've just got to convince a billion other people and get them to all write XHTML with no errors

[10:07:02.0000] <jgraham>
Andrii: That seems like an anti-goal to me because the things that you would have to do to achieve it all seem bad

[10:08:00.0000] <jgraham>
In particular education alone would never be enough

[10:08:01.0000] <Andrii>
jgraham: but everyone wins from that, why education alone would never be enough?

[10:09:00.0000] <jgraham>
Andrii: Who wins? What do they win?

[10:09:01.0000] <Andrii>
jgraham: better semantics, code without errors

[10:10:00.0000] <jgraham>
Better semantics isn't true unless you use the even more unachieveable definition of "totally consistent use of elements"

[10:10:01.0000] <Andrii>
jgraham: it's a step towards semantic web

[10:11:00.0000] <annevk3>
Andrii, you might find you and timbl have a lot in common :)

[10:11:01.0000] <jgraham>
"code without errors" seems like a restatement of the goal, not a reason

[10:11:02.0000] <jgraham>
Andrii: How?

[10:12:00.0000] <annevk3>
"code without errors" is also not neccessarily true, e.g. <a href="ht tp://example.org/"/> is a well-formed document, but also invalid and useless

[10:12:01.0000] <jgraham>
The out-of-reach target of well-formed pages says nothing about semantics

[10:13:00.0000] <Andrii>
jgraham: yes, but what about blind users?

[10:13:01.0000] <jgraham>
The even-more-out-of-reach target of conforing-to-machine-checkable-conformance-requirements still says almost nothing about semantics

[10:13:02.0000] <Andrii>
annevk3: true

[10:13:03.0000] <jgraham>
The consistent use of elements across multiple websites does have some advantages

[10:14:00.0000] <jgraham>
e.g. it makes Google's lives easier

[10:15:00.0000] <jgraham>
Andrii: Sure. For blind users you should do stuff like make sure that your tables all have the headers marked up correctly, that your site makes sense without images, that your headers use the right elements and so on

[10:15:01.0000] <jgraham>
It doesn't matter so much if your markup is illformed

[10:15:02.0000] <jgraham>
But no validator will tell you if you got that right

[10:15:03.0000] <Andrii>
jgraham: with the fact that in HTML 5 you may not close elements the web will still be a MESS

[10:16:00.0000] <Andrii>
jgraham: but screenreader can tell me how usable a page is

[10:16:01.0000] <jgraham>
Andrii: Why do you care if other people's sites are a mess? Shouldn't it be up to the original author to care if their code is maintainable enough?

[10:17:00.0000] <jgraham>
(I actually have some reason to care because browser QA is easier when the original source doesn't suck. But that seems like a pretty weak argument)

[10:17:01.0000] <Andrii>
jgraham: because all this things are connected, ugly web sites have poor markup and vice versa

[10:18:00.0000] <jgraham>
You are trying to claim that websites with bad markup are generally aesthetically displeasing?

[10:18:01.0000] <jgraham>
That is certianly a new argument to me

[10:18:02.0000] <Andrii>
jgraham: that's probably I started learning web stuff from A List Apart

[10:19:00.0000] <beowulf>
trying to make websites aesthetically pleasing is one contributor to what you would call messy code

[10:20:00.0000] <Andrii>
beowulf: CSS Zen Garden?

[10:20:01.0000] <jgraham>
Certianly people who make aesthetically pleasing websites often add lots of extra markup that is not needed to represent the site content but is only there as a styling hook

[10:20:02.0000] <jgraham>
(the Zen Garden is a classic example of this)

[10:20:03.0000] <beowulf>
yu

[10:20:04.0000] <beowulf>
yup

[10:23:00.0000] <Andrii>
jgraham: yes, there is some extra markup in CSS Garden's template, but loots of it is not used. People like Dave Shea, Jason Santa Maria, Andy Budd, Andy Clarke, Ethan Marcotte, Doug Bowman, all these guys showed that well marked up sites can be visually pleasing.

[10:24:00.0000] <Andrii>
using CSS, it's obvious

[10:25:00.0000] <jgraham>
Andrii: I don't doubt that these people are good designers.

[10:25:01.0000] <Andrii>
Andy Clarke in his latest book "Transcending CSS" says - start with mark up and when it is finished start with the design.

[10:25:02.0000] <jgraham>
Certianly well marked up (for some defention of "well marked up") sites can be visually appealing

[10:26:00.0000] <jgraham>
Andrii: That sounds like good advice for sure

[10:26:01.0000] <jgraham>
But it is to benefit _you_

[10:26:02.0000] <jgraham>
It is not preaching to others

[10:26:03.0000] <jgraham>
Or trying to fix other people's mess for the sake of it

[10:28:00.0000] <jgraham>
If the advantages of clean markup (by clean here I mean not relying on error handling), people will naturally gravitate toward doing that out of self-interest

[10:30:00.0000] <Andrii>
jgraham: yes, but the point was that these things are connected - markup and presentation, and good markup indeed increases the possibility of the presentation to be better, cleaner, well designed. 

[10:32:00.0000] <beowulf>
certainly someone who cares enough to write well formed markup will probably be the sort of person that cares about their work in general, but the markup doesn't have an effect on the aesthetics in my experience

[10:33:00.0000] <Andrii>
beowulf: that's what I was trying to say, "someone who cares enough to write well formed markup will probably be the sort of person that cares about their work in general"

[10:34:00.0000] <krijnh>
The one writing the markup isn't necessarily the one making the design/aesthetics

[10:35:00.0000] <beowulf>
we're all doomed

[10:35:01.0000] <Andrii>
krijnh: yes, but dont' you agree that this should be the same person?

[10:35:02.0000] <krijnh>
Andrii: no, I don't

[10:36:00.0000] <krijnh>
Andrii: I'm not a designer, but I try to write 'pretty' markup

[10:36:01.0000] <Andrii>
krijnh: then beowulf is absolutely right, we're all doomed

[10:36:02.0000] <krijnh>
If it should be the same person, I wouldn't have any work at all :)

[10:36:03.0000] <beowulf>
i got something right :)

[10:36:04.0000] <Andrii>
krijnh: you can develop your designing skills

[10:37:00.0000] <krijnh>
Andrii: no, I don't, and I don't want to either

[10:37:01.0000] <beowulf>
/me hands krijnh some crayons

[10:37:02.0000] <Andrii>
krijnh: timbl and me hate you

[10:38:00.0000] <Andrii>
krijnh: just kidding :)

[10:38:01.0000] <krijnh>
:)

[10:38:02.0000] <krijnh>
I kind of like getting all sorts of visual designs and trying to squeeze semantice markup out of them

[10:38:03.0000] <krijnh>
*semantic

[10:39:00.0000] <beowulf>
me too

[10:39:01.0000] <Philip`>
My visual design skills are usually limited to changing the font to sans-serif and maybe changing some margins

[10:39:02.0000] <krijnh>
Too bad if timbl hates me for that

[10:39:03.0000] <beowulf>
make a t-shirt

[10:39:04.0000] <Andrii>
krijnh: it was a joke, it's great to hear that we all here agree that semantic markup is the aim

[10:39:05.0000] <krijnh>
(Though I think he really doesn't care about what I do :)

[10:40:00.0000] <Philip`>
I don't agree semantic markup is the aim

[10:40:01.0000] <Andrii>
damn

[10:40:02.0000] <Andrii>
Philip`: what about blind users?

[10:41:00.0000] <Andrii>
okay, I should differentiate between well formed markup and semantic markup

[10:41:01.0000] <Philip`>
I'd write everything in text/plain if I didn't want links and tables and nice fonts :-)

[10:41:02.0000] <beowulf>
Philip`: figlet has some nice fonts...

[10:41:03.0000] <Philip`>
and that has no semantic markup at all

[10:41:04.0000] <Philip`>
beowulf: I think they're all pretty ugly actually :-(

[10:42:00.0000] <beowulf>
there's no pleasing some people

[10:42:01.0000] <Andrii>
Philip`: but if you would write everything in text/plain without some meaningful structure blind users would suffer a lot

[10:43:00.0000] <krijnh>
I think people used to links and images would suffer a lot more :)

[10:43:01.0000] <Andrii>
Philip`: and search engines, WE WOULDN'T HAVE SUCH A GOOD SEARCH

[10:43:02.0000] <Philip`>
Andrii: Why? They would have access to exactly the same information as people using graphical browsers

[10:44:00.0000] <Andrii>
Philip`: because screenreaders parse your markup and if it's not well-formed they have troubles interpreting it

[10:44:01.0000] <Philip`>
/me thinks someone should make a whole web site that's designed like an .NFO file

[10:44:02.0000] <Philip`>
Andrii: Screenreaders usually hook into Internet Explorer and just see the parsed version of the document, not the markup

[10:44:03.0000] <beowulf>
Philip`: i used to make my css look quite like an .NFO file...

[10:46:00.0000] <krijnh>
Philip`: http://www.photo2text.com/ :)

[10:46:01.0000] <beowulf>
there's a processing example that does the same thing with your webcam stream

[10:48:00.0000] <Andrii>
http://vimeo.com/1157346 - video of a blind web developer using a screenreader software

[10:49:00.0000] <Andrii>
Philip`: it would be better if they hooked into Firefox or Safari 

[10:52:00.0000] <Andrii>
do you hear, screenreader says "list of items", the guy who is writing a markup like "first item <br/> second item <br/> third item <br/>" would make the life of a blind user terrible

[10:52:01.0000] <Andrii>
thus, well formed semantic markup is an aim

[10:53:00.0000] <Andrii>
and serving pages as XHTML is indirectly a step towards this aim

[10:54:00.0000] <annevk3>
your confusing syntax and semantic markup

[10:54:01.0000] <annevk3>
you can write semantic markup using HTML as well

[10:54:02.0000] <annevk3>
s/your/you're/

[10:55:00.0000] <Andrii>
annevk3: but in HTML nothing tells you that you're doing something wrong

[10:55:01.0000] <svl>
Andrii: in XHTML nothing does either. At least not where _semantics_ are concerned.

[10:56:00.0000] <Andrii>
annevk3: in XHTML at least validator tells you that you haven't closed some tag

[10:56:01.0000] <annevk3>
Andrii, that has zero to do with semantics

[10:56:02.0000] <svl>
Andrii: closing tags is _syntax_, not semantics

[10:56:03.0000] <krijnh>
Andrii: what does the validator tell you when you use "first item <br/> second item <br/> third item <br/>" ?

[10:56:04.0000] <Andrii>
yes, yes, yes, I was meaning well formed markup, not semantics

[10:56:05.0000] <annevk3>
Andrii, well-formed markup doesn't give you anything

[10:56:06.0000] <Andrii>
krijnh: that it's valid, but it warns me about not-closed tags

[10:57:00.0000] <svl>
Andrii: which tags in that are not closed?

[10:57:01.0000] <Andrii>
annevk3: decreasing of a page size

[10:57:02.0000] <Andrii>
svl: in that none, in a list - <li>

[10:58:00.0000] <annevk3>
Andrii, what?! HTML syntax allows me to omit all kinds of things that I cannot do in XHTML. Anyway, page size is solved with gzip

[10:58:01.0000] <Andrii>
annevk3: OKAY, YOU WON

[10:58:02.0000] <smedero>
/me is thankful for krijnh's logging bot 

[10:58:03.0000] <annevk3>
agreed

[10:58:04.0000] <annevk3>
I'm going back to watching The West Wing

[10:58:05.0000] <krijnh>
smedero: ow, okay :)

[10:59:00.0000] <Philip`>
annevk3: If you were using XHTML then you could use EXI and get improved page sizes

[10:59:01.0000] <krijnh>
There is no logging bot though

[11:00:00.0000] <smedero>
well then, I'm happy for whatever mechanism allows me to come back and reread the last 30 minutes of #whatwg anytime I like

[11:00:01.0000] <krijnh>
Good to hear :)

[11:02:00.0000] <krijnh>
That kind of thing should postpone my turning evil moment at least some months

[11:03:00.0000] <krijnh>
svl: no, I haven't ;)

[11:04:00.0000] <Andrii>
smedero: are you the author of http://www.alistapart.com/articles/paperprototyping

[11:04:01.0000] <smedero>
indeed

[11:04:02.0000] <Andrii>
smedero: thanks for the article

[11:05:00.0000] <smedero>
sure, it was fun to write.

[11:05:01.0000] <smedero>
have you managed to incorporate any paper prototyping into your projects?

[11:05:02.0000] <Andrii>
smedero: not yet

[11:06:00.0000] <krijnh>
I have, it's still lying around somewhere to do something with :)

[11:06:01.0000] <smedero>
yeah, it is not always a good fit... I  don't use that method every time.

[11:06:02.0000] <Andrii>
but personally I'm doing a paper prototyping since I was 5

[11:06:03.0000] <smedero>
heh.

[11:07:00.0000] <smedero>
One thing I found a lot of folks tell me now is that they realized index cards are the perfect quick prototyping method for iPhone UIs

[11:08:00.0000] <smedero>
and now, I return to your regularly scheduled HTML & associated APIs chatter

[11:09:00.0000] <Andrii>
smedero: I have to steal some index cards from our local library, because looks like only there it's possible to find such a format in Ukraine

[11:09:01.0000] <smedero>
huh, interesting.

[11:09:02.0000] <smedero>
I've never actually considered the regional availability of various paper formats 

[11:10:00.0000] <Andrii>
smedero: if I'm in U.S., where do I take index cards? 

[11:11:00.0000] <smedero>
Not sure I follow... do you mean, where you could find index cards for sale?

[11:11:01.0000] <Andrii>
yes

[11:12:00.0000] <smedero>
ahh, we have all of these office pr0n stores around here. you know... stuff like OfficeDepot or OfficeMax or SuperMaxDepotOffice

[11:12:01.0000] <smedero>
college bookstores...

[11:12:02.0000] <smedero>
art supply stores

[11:12:03.0000] <smedero>
wal-mart

[11:12:04.0000] <Andrii>
yeah, I was in OfficeDepot once

[11:13:00.0000] <smedero>
the pharmacy ... which you'd think would just sell you medicine 

[11:13:01.0000] <smedero>
but in fact they have plastic water guns

[11:13:02.0000] <smedero>
and index cards

[11:13:03.0000] <smedero>
it is a strange world.

[11:13:04.0000] <Philip`>
/me is pretty sure he saw a Jesus action figure in a post office once

[11:13:05.0000] <smedero>
nice

[11:13:06.0000] <Philip`>
and I think an Einstein too

[11:14:00.0000] <krijnh>
svl once saw a Hixie action figure, did he mention that already?

[11:14:01.0000] <smedero>
did mr. lastweek photoshop one together?

[11:14:02.0000] <svl>
Leave me out of your fantasies, krijn, please! :)

[11:15:00.0000] <smedero>
i suppose it comes with an evil lap kitty

[11:15:01.0000] <krijnh>
:)

[11:15:02.0000] <smedero>
and an earthquake prevention kit

[11:16:00.0000] <Philip`>
(Hmm, a "recall" message on the mailing list? That seems to be missing the point of how email works...)

[11:39:00.0000] <Andrii>
is there any CSS 3 IRC channel?

[11:54:00.0000] <annevk3>
http://code.google.com/p/unladen-swallow/wiki/ProjectPlan sounds cool

[11:56:00.0000] <annevk3>
seems to come from Google

[11:56:01.0000] <annevk3>
/me met one of the project owners

[12:04:00.0000] <jwalden>
/me has to think he wasn't the only person who thought it would only be a matter of time until that happened

[12:04:01.0000] <jwalden>
color me amused by the fuss people will make about their not targeting 3.0, tho

[12:05:00.0000] <Philip`>
jwalden: What "that" do you mean? The general idea of making CPython faster is not particularly new, since things like Psyco do it already

[12:06:00.0000] <jwalden>
significant speedup, JITting, etc.

[12:06:01.0000] <jwalden>
it wasn't a precise designation

[12:07:00.0000] <Philip`>
Ah - I was just wondering if you were thinking it was only a matter of time before Google worked on optimising CPython, or before someone used LLVM for optimising CPython, etc

[12:08:00.0000] <jwalden>
well, the former's probably part of that designation too

[12:08:01.0000] <jwalden>
the latter, I can't speak to LLVM at all

[12:08:02.0000] <jwalden>
but their prose makes it clear tracing was right out due to it not being established research, which I guess leaves LLVM as the fastest way forward if the footprint can be tolerated

[12:10:00.0000] <Philip`>
http://code.google.com/p/unladen-swallow/wiki/RelevantPapers has "Making the Compilation ‚ÄúPipeline‚Äù Explicit: Dynamic Compilation Using Trace Tree Serialization" which sounds like tracing of some kind

[12:10:01.0000] <Philip`>
and I guess it could be considered reasonably well established research

[12:18:00.0000] <jwalden>
hm

[12:18:01.0000] <jwalden>
not sure what to make of it, then

[12:19:00.0000] <Philip`>
/me supposes they'd prefer not to have to write and maintain their own JIT, if they can use someone else's code for it

[12:19:01.0000] <jwalden>
probably

[14:05:00.0000] <Hixie>
ok seriously, how do we make shared workers work with apcache

[14:06:00.0000] <dave_levin>
atw2: ping

[14:08:00.0000] <atw2>
hi

[14:09:00.0000] <atw2>
I'm still trying to figure out the ramifications for app-cache-for-shared-contexts (like shared workers)

[14:11:00.0000] <atw2>
I've been thinking about it for a bit, but I'm not sure I fully understand the app cache spec well enough to understand all the ramifications. It does seem wonky to have one browsing context using one app cache, but sharing a worker with another page running from a different cache.

[14:17:00.0000] <Hixie>
yeah

[14:17:01.0000] <Hixie>
i think it's what we're going to hve t odo though

[14:17:02.0000] <Hixie>
have to do, even

[14:17:03.0000] <Hixie>
it's similar to window.open(), i guess

[14:20:00.0000] <Hixie>
ok, i will no longer commit every spec every day with a weird commit message with the only change being the date

[14:20:01.0000] <Hixie>
fixing that was way more effort than warranted

[14:20:02.0000] <Hixie>
but that's another story

[14:23:00.0000] <Andrii>
is it recommended to start using HTML5 now?

[14:24:00.0000] <Hixie>
i would recommend using what browsers support, without paying much attention to what version of html they come from

[14:25:00.0000] <Andrii>
wise and true answer

[14:27:00.0000] <Hixie>
e.g. there are parts of html2 (e.g. <nextid>) that i still wouldn't recommend using, and parts of html5 that could have been used years ago (e.g. <meta charset>)

[14:39:00.0000] <Andrii>
understand

[15:04:00.0000] <Hixie>
anybody have any suggestions for what i should call the abstract context of "think what can be associated with an application cache", which can now be either a Document or a SharedWorkerGlobalScope?

[15:04:01.0000] <Hixie>
my current best attempt is "cache host"

[15:21:00.0000] <Hixie>
anyone know of an emacs mode that shows in the mode line the text of the last line before the cursor to match a particular regexp?

[15:21:01.0000] <Hixie>
(so that i can see which section i'm editing?)

[15:30:00.0000] <Hixie>
shepazu: yt?

[15:30:01.0000] <Hixie>
shepazu: i was wondering if the dom events spec says anything (or will say anything) about firing events on nodes in Documents that aren't fully active

[16:07:00.0000] <sicking_>
Hixie, ping

[16:08:00.0000] <Hixie>
sicking: here

[16:08:01.0000] <sicking>
Hixie, re CDATA

[16:08:02.0000] <Hixie>
yes?

[16:08:03.0000] <sicking>
Hixie, was there anything that was unclear in my latest email on the subject to the HTML list?

[16:09:00.0000] <Hixie>
uri?

[16:09:01.0000] <Hixie>
http://lists.w3.org/Archives/Public/public-html/2009Mar/0511.html ?

[16:10:00.0000] <Hixie>
insofar as i don't understand what the proposal exactly is, yes

[16:11:00.0000] <annevk3>
sicking, could you please post your redirect proposal? Talked with ap from WebKit and he thinks the current spec module 303 for preflight request makes sense.

[16:11:01.0000] <Hixie>
s/module/modulo/?

[16:11:02.0000] <annevk3>
yes

[16:12:00.0000] <annevk3>
Hixie, I think the idea is to parse the data as CDATA, then if it starts with <![CDATA[ and ends with ]]> you strip that (ignoring whitespace) before handing it of to the style or script engine

[16:13:00.0000] <annevk3>
Hixie, for both HTML and SVG <script> and <style> elements

[16:13:01.0000] <Hixie>
in xml or in html? how do you deal with <!-- magic? what about <![CDATA[ ]]> elsewhere? are the svgwg really ok with us not achieving their sole goal?

[16:14:00.0000] <annevk3>
HTML; you do not deal with <!-- magic. I.e. when that is there you would not do the stripping; they say they think this solution is fine

[16:16:00.0000] <annevk3>
oh, and <![CDATA[ ]]> elsewhere would also not be stripped or handled (so if you have a double block you'd run into issues)

[16:17:00.0000] <Hixie>
so uh

[16:17:01.0000] <Hixie>
why did they list one goal is they don't actually care about that goal

[16:17:02.0000] <Hixie>
i've been evaluating things based on the requirements they listed

[16:18:00.0000] <annevk3>
apparently it's not a black/white thing

[16:18:01.0000] <annevk3>
and this would still work for most copy/paste scenarios; just like the other solutions work for most copy/paste scenarios, but not all

[16:18:02.0000] <annevk3>
Simon had a different solution by the way: http://lists.w3.org/Archives/Public/public-html/2009Mar/0624.html

[16:21:00.0000] <sicking>
Hixie, http://lists.w3.org/Archives/Public/public-html/2009Mar/0634.html

[16:22:00.0000] <Hixie>
oh i haven't replied to that. but no, you are incorrect; making d.w() async doesn't make it not work

[16:23:00.0000] <Hixie>
it just means the parser isn't invoked reentrantly while the script is running

[16:24:00.0000] <Hixie>
it's the same thing as what happens in normal <script> in html when you do document.write("<script src=a></script>..."): the ... isn't parsed until after the original outer script is finished and the "a" script is downloaded and run.

[16:24:01.0000] <sicking>
Hixie, and from i haven't heard anyone from the svg WG has objected to having entities inside <script> not work. The theory being that the far vast majority uses <![CDATA[]]>

[16:25:00.0000] <sicking>
Hixie, i can find pointers to agreement that that is ok if that helps

[16:25:01.0000] <sicking>
Hixie, ok, wasn't sure which interpreation of how d.w() was gonna work was the correct one. Spec isn't very clear.

[16:26:00.0000] <Hixie>
these are two separate issues

[16:26:01.0000] <Hixie>
so let's start with the cdata one

[16:26:02.0000] <sicking>
indeed

[16:26:03.0000] <sicking>
fwiw i do treat the issues separately in the mail

[16:27:00.0000] <Hixie>
the proposal is to remove 8.2.4.36 CDATA section state, along with all the branch that leads to that state, and then to make <script> amd <style> in SVG use the "generic CDATA element parsing algorithm"

[16:28:00.0000] <Hixie>
and then to strip leading and trailing <![CDATA[ ]]> text somehow

[16:28:01.0000] <Hixie>
right?

[16:28:02.0000] <Hixie>
or not?

[16:38:00.0000] <sicking>
Hixie, would that remove the ability to have <![CDATA[]]> outside of <script> and <style>?

[16:39:00.0000] <Hixie>
yes

[16:39:01.0000] <sicking>
that does not seem acceptable

[16:39:02.0000] <sicking>
why would you do that?

[16:39:03.0000] <Hixie>
that's what anne said you had proposed

[16:39:04.0000] <sicking>
that was wrong :)

[16:39:05.0000] <Hixie>
i recommend sending an e-mail with a clear statement of the proposal

[16:39:06.0000] <sicking>
Hixie, what is not clear in http://lists.w3.org/Archives/Public/public-html/2009Mar/0634.html ?

[16:40:00.0000] <Hixie>
oh i didn't realise that also talked about cdata parsing

[16:40:01.0000] <sicking>
Hixie, see the part starting with "Instead, I propose the following behavior"

[16:40:02.0000] <Hixie>
i haven't gotten to that e-mail yet

[16:40:03.0000] <sicking>
Hixie, it talks about both issues. Separately

[16:41:00.0000] <sicking>
Hixie, except I just spotted one error

[16:41:01.0000] <Hixie>
so wait, they want to make <script> and <style> work like html but everything else not work like html?

[16:41:02.0000] <Hixie>
i'm really confused now

[16:41:03.0000] <Hixie>
what's the goal here?

[16:41:04.0000] <sicking>
i can only speak for my goals:

[16:42:00.0000] <sicking>
1. Make everything that exists both in HTML and SVG work the same in HTML and SVG

[16:42:01.0000] <sicking>
2. Make the rest of SVG work as similar as it makes sense to HTML

[16:42:02.0000] <sicking>
3. Eat cookies

[16:43:00.0000] <Hixie>
ok well that's basically completely incompatible with the goal the svgwg have conveyed

[16:43:01.0000] <Hixie>
it would mean doing things like making tags that are known to never have children be void elements, and not support the /> syntax, and not support cdata at all, and so on

[16:43:02.0000] <sicking>
oh, also: 2.5 Make it possible for as much as possible of XML-SVG content to be copyable into HTML

[16:44:00.0000] <Hixie>
your goals are incompatible with themselves

[16:45:00.0000] <sicking>
there's some "as much *as possible*" and "as similar as it *makes sense*" in there that makes it compatible

[16:45:01.0000] <sicking>
there's no absolutes

[16:45:02.0000] <sicking>
it's all about tradeoffs

[16:46:00.0000] <sicking>
i'd imagine there's no one goal that is absolute. Ever. It's all relative

[16:46:01.0000] <Hixie>
as similar as possible and as copyable as possible are not compatible goals

[16:46:02.0000] <Hixie>
i don't know how to evaluate when to do one and when to do the other

[16:46:03.0000] <Hixie>
what is the criteria by which we know how much to not address each goal?

[16:46:04.0000] <sicking>
that's why we have conversations

[16:46:05.0000] <Hixie>
how do conversations help us evaluate how far to go?

[16:47:00.0000] <sicking>
when it comes to tradeoffs between making it similar to HTML and making it possible to copy, i'd judge it by how much existing content would we have to make not copyable, compared to how much extra compatibility would we get with HTML

[16:47:01.0000] <sicking>
that's why i say it's all tradeoffs

[16:48:00.0000] <sicking>
isn't that how it is with everything else in HTML5?

[16:48:01.0000] <Hixie>
aha, basing it on data

[16:48:02.0000] <Hixie>
ok

[16:48:03.0000] <Hixie>
do we have that data?

[16:48:04.0000] <Hixie>
i don't have an svg corpus

[16:48:05.0000] <sicking>
very little. Just have the judgements of the SVG people

[16:48:06.0000] <Hixie>
if the judgements of the svg people are anything like the judgements of the html people, they're wildly off :-)

[16:48:07.0000] <sicking>
so basically the SVG they have seen and authored

[16:48:08.0000] <Hixie>
ok there has to be better data than that, surely

[16:49:00.0000] <Hixie>
i wonder where we can get a good svg corpus

[16:49:01.0000] <sicking>
yeah, that would be great indeed

[16:49:02.0000] <Hixie>
Philip` had some svgs from wikipedia, i wonder if that is representative

[16:49:03.0000] <gsnedders>
/me waves a crazed lunatic

[16:49:04.0000] <Philip`>
They're not representative

[16:50:00.0000] <Philip`>
particularly because they (almost?) never have scripting

[16:50:01.0000] <Hixie>
bummer

[16:50:02.0000] <Philip`>
(seeing as they're designed to be flattened into PNGs by Wikipedia's thumbnailer)

[16:51:00.0000] <sicking>
Philip`, is there a reason to believe that other SVG has more scripting?

[16:51:01.0000] <Hixie>
are there sites like for flash games where people upload their animated or scripted svgs or something?

[16:51:02.0000] <sicking>
Philip`, though i guess the wikipedia ones have absolutely no scripts

[16:51:03.0000] <Philip`>
To be more precise, I should say the sample of SVGs from Wikipedia is representative of all the SVGs on Wikipedia

[16:52:00.0000] <sicking>
Philip`, but in general i would expect SVG in general to have far less scripts

[16:52:01.0000] <gsnedders>
/me hopes Hixie saw his latest tweet (from six hours ago), seeming he made it just for him :P

[16:52:02.0000] <Philip`>
but probably not representative of all other sane collections of SVGs that one might imagine

[16:52:03.0000] <Philip`>
(I tried looking for SVGs on the web via 130K pages from dmoz.org, but found a grand total of about 1, so that's not a good way of getting a different sample)

[16:52:04.0000] <Hixie>
gsnedders: i don't watch twitter closely

[16:53:00.0000] <gsnedders>
Hixie: "At a station with semaphores."

[16:53:01.0000] <Hixie>
Philip`: yeah my own research for svg using the google corpus didn't find a useful set of files

[16:53:02.0000] <Hixie>
gsnedders: heh, britain. how quaint. :-P

[16:54:00.0000] <gsnedders>
(The station I got off had electric signals!11!!!!eleventy!!!)

[16:55:00.0000] <Philip`>
sicking: My sample of 300 from Wikipedia has zero with scripting; http://codedread.com/ has one SVG with scripting; therefore SVGs outside Wikipedia definitely have more scripting than those on Wikipedia :-)

[16:55:01.0000] <sicking>
Philip`, indeed

[16:55:02.0000] <sicking>
Philip`, though technically speaking not statistically significant difference. I think

[16:55:03.0000] <sicking>
:)

[16:56:00.0000] <Philip`>
sicking: The difference between 0 and 1 is infinity percent, so it must be significant!


2009-03-28
[17:02:00.0000] <sicking>
Hixie, btw, I also suggest that we support <!CDATA[ ]]> everwhere where we parse PCDATA and RCDATA. Due to goal 2 above. Sounded like Operas experiment in this area is that it doesn't break the web. But it's an orthogonal discussion to the one we're having now so I wasn't going to raise it until after

[17:06:00.0000] <annevk3>
sicking, actually, we encountered issues with supporting <![CDATA[

[17:06:01.0000] <sicking>
annevk3, big enough that you removed the support?

[17:06:02.0000] <annevk3>
sicking, I don't think we have yet, but I think we should

[17:07:00.0000] <sicking>
annevk3, why not, and why?

[17:07:01.0000] <annevk3>
because it causes issues and supporting CDATA has no real benefit

[17:07:02.0000] <Philip`>
/me hopes that if Opera doesn't remove CDATA support, they at least make it less insane

[17:08:00.0000] <sicking>
annevk3, i doubt you'll ever find a feature that you can deploy without any issues. The most recent example we had was a site breaking because we implemented document.readyState

[17:08:01.0000] <annevk3>
sicking, but CDATA is not a feature, it's near useless

[17:08:02.0000] <sicking>
annevk3, since we'll have to support <![CDATA[]]> inside SVG, I think the consistency would be nice

[17:09:00.0000] <annevk3>
maybe, I'd rather remove it there too

[17:09:01.0000] <annevk3>
(also Opera's current CDATA support doesn't match the HTML5 spec)

[17:10:00.0000] <sicking>
annevk3, i'd be supportive of that if we think there isn't much existing SVG content that uses it. In other words, if we don't think it'd affect the ability to copy SVG into HTML

[17:12:00.0000] <annevk3>
there's very little SVG so that's pretty hard to tell

[17:13:00.0000] <annevk3>
I don't recall ever needing it in any SVG content I've created, but then I mostly do simple things

[17:14:00.0000] <Philip`>
http://philip.html5.org/misc/spec-links-anim.svgz

[17:14:01.0000] <Philip`>
That's got a script, but doesn't use CDATA

[17:16:00.0000] <Philip`>
Hmm, why does View Source in Firefox 3 go unbelievably slowly on that SVG file?

[17:16:01.0000] <Philip`>
If the script had to use < or & then I probably would have put it in <![CDATA[]]>

[17:16:02.0000] <Philip`>
but it didn't so I didn't

[17:17:00.0000] <sicking>
have a good weekend people

[17:17:01.0000] <Philip`>
Yikes, FF3 uses about 400MB of RAM to view-source on that page :-/

[17:18:00.0000] <olliej>
/me opens in S4

[17:18:01.0000] <olliej>
/me wonders how badly it will fair

[17:18:02.0000] <sicking>
Philip`, view-source will always use more memory than the actual page

[17:19:00.0000] <olliej>
memory seems to have peaked at ~600mb :-O

[17:19:01.0000] <olliej>
/me wonders wtf is happening

[17:19:02.0000] <sicking>
Philip`, it doesn't use any entities either though, so should work find

[17:19:03.0000] <sicking>
fine even

[17:20:00.0000] <annevk3>
what's the advantage of toTempURL over toDataURL? working around IE bugs?

[17:21:00.0000] <Dashiva>
That's how I understood it

[17:21:01.0000] <annevk3>
feature design 101: don't propose a new feature to work around UA bugs in an existing feature

[17:21:02.0000] <Dashiva>
Not sure why supporting toTempURL would be easier than fixing data urls

[17:22:00.0000] <Philip`>
I think the idea is that you should be able to say img.src = canvas.toSomeKindOfThingThatWorksInImgSrc() and have it work in browsers that don't support data URIs

[17:22:01.0000] <annevk3>
Philip`, right, see above

[17:23:00.0000] <annevk3>
nn

[17:23:01.0000] <Philip`>
Dashiva: Because you can't fix data URIs in IE6

[17:23:02.0000] <Philip`>
(I assume)

[17:24:00.0000] <Dashiva>
But can you fix toTempURL in IE6?

[17:24:01.0000] <Philip`>
If you're writing a plugin or add-on or whatever it is, then you presumably can

[17:25:00.0000] <Philip`>
since you can save the canvas data to disk and then use file:/// to refer to it

[17:25:01.0000] <Philip`>
or you can register a protocol handler for customHandler://

[17:26:00.0000] <Dashiva>
Register a protocol handler for data:, feed the contents?

[17:26:01.0000] <Philip`>
I've got no idea whether you can do that

[17:26:02.0000] <Philip`>
(If you could, it'd be bad in terms of IE-compatibility with other sites that uses data: URIs)

[17:42:00.0000] <hdh>
(defun last-heading () (search-backward-regexp "C-x C-f") (match-string 0)) (setq mode-line-format '(:eval (last-heading)))

[17:42:01.0000] <hdh>
idk how to plug the eval part into the existing modeline

[17:42:02.0000] <hdh>
the text seems to keep its formatting in the matched buffer

[18:02:00.0000] <Hixie>
hdh: interesting

[04:21:00.0000] <benh_>
Historical question: does anyone know why HTML4 deprecated u, s, strike, but not b/i/big/small, even though it discouraged the later? What was special about u/s/strike?

[05:55:00.0000] <annevk3>
Hixie, s/buu can/but can/

[05:55:01.0000] <annevk3>
Hixie, s/is can be/can be/

[05:57:00.0000] <annevk3>
Hixie, s/sections that cause/sections cause/ (I think, the sentence does not seem correct otherwise)

[05:59:00.0000] <annevk3>
Hixie, "For each <span>cache host</span> associated with an <span>application cache</span>" Isn't a cache host always associated with one?

[08:02:00.0000] <annevk3>
Gmail on a message I sent: "4:06 PM (-1 minutes ago)"

[08:50:00.0000] <Andrii>
annevk3: google invented the time machine, cutting edge technology

[09:51:00.0000] <Hixie>
annevk3: please send mail for feedback, pleeeeease. :-)

[10:25:00.0000] <annevk3>
Hixie, next time or also for those four lines?

[10:25:01.0000] <annevk3>
IRC is convenient, there's less UI involved

[10:26:00.0000] <Dashiva>
I'm betting he wants the paper trail

[10:28:00.0000] <Philip`>
He prints out emails?

[10:29:00.0000] <Philip`>
Someone needs to make an IRC bot which lets you say "!feedback s/buu can/but can/" and it will automatically send an email to Hixie

[10:35:00.0000] <krijnh>
Doesn't need to be an IRC bot, since all the logs are available as HTML as well :)

[10:36:00.0000] <Philip`>
krijnh: Good point :-)

[10:37:00.0000] <Philip`>
krijnh: If you could change your log processor to let us embed RDF in our IRC messages that will get translated into RDFa in the logs, then we could write a simple RDFa-based tool to automatically extract all the feedback and email it

[10:37:01.0000] <annevk3>
yeah, and with enough annotation everything gets done automatically

[10:38:00.0000] <Dashiva>
That reminds me of joel's post about spec writing

[10:39:00.0000] <Dashiva>
"And then some people go into a dark place where they imagine automatically generating implementations from specs, and think they have invented a way to program without programming" (by memory)

[10:39:01.0000] <gsnedders>
/me starts implementing parse errors in html5lib php

[10:40:00.0000] <takkaria>
parse errors are overrated

[10:52:00.0000] <annevk3>
gsnedders, why do you need parse errors? isn't a treebuilder more useful?

[10:52:01.0000] <gsnedders>
annevk3: Trying to finish Tokenizer first before moving on

[10:59:00.0000] <gsnedders>
/me returns to the point where more than 50% of tests pass

[11:40:00.0000] <gsnedders>
Weeee‚Ä¶ 23 tests failing now

[11:41:00.0000] <Philip`>
Delete those tests, then you'll pass 100%

[11:46:00.0000] <gsnedders>
14% perf. regression from throwing parse errors

[11:47:00.0000] <Philip`>
In a document that has no parse errors?

[11:47:01.0000] <gsnedders>
Yeah

[11:47:02.0000] <gsnedders>
(i.e., the spec)

[11:48:00.0000] <takkaria>
ouch

[11:49:00.0000] <takkaria>
I'm not sure hubbub is ever going to have parse error reporting

[11:50:00.0000] <gsnedders>
12.0s is still a massive improvement over the 48s it was a week ago

[11:50:01.0000] <takkaria>
sure :)

[11:52:00.0000] <gsnedders>
/me runs with profiler

[11:52:01.0000] <gsnedders>
(This takes it back to around 50s :P)

[11:54:00.0000] <Philip`>
You need to multithread your tokeniser

[11:55:00.0000] <gsnedders>
Multi-threading in PHP? :P

[11:55:01.0000] <Philip`>
Shouldn't be too hard to just split the input document into n pieces, and speculatively parse the last n-1, and discards any results that are invalidated by the tokeniser state at the end of the previous section

[12:00:00.0000] <jgraham>
Philip`: presumably you would end up being wrong a lot of the time

[12:00:01.0000] <jgraham>
Which seems bad

[12:01:00.0000] <Philip`>
jgraham: You could scan forwards to the next '>' and assume you're now going to be in the data state, which is likely to be right quite often

[12:02:00.0000] <takkaria>
is it?

[12:02:01.0000] <Philip`>
and if you were in a <script> or something then you make sure you've kept enough state so you can sync up once you've reached the </script>

[12:02:02.0000] <jgraham>
Hmm. You're making this sound surprisingly reasonable

[12:02:03.0000] <Philip`>
Really?

[12:02:04.0000] <Philip`>
That wasn't my intent

[12:02:05.0000] <jgraham>
Which suggests that you're misleading me somehow

[12:05:00.0000] <Philip`>
takkaria: I suppose it should be fairly easy to instrument a tokeniser to report how often it sees '>' when it's in the data state (and PCDATA, and no escape flag)

[12:09:00.0000] <Philip`>
Does Python have a multiprocessing thing nowadays that isn't unbearably hard to use efficiently?

[12:09:01.0000] <gsnedders>
Philip`: Yes, multiprocessing

[12:09:02.0000] <Philip`>
Ah, sounds good

[12:09:03.0000] <Philip`>
Maybe html5lib should do this! :-)

[12:10:00.0000] <gsnedders>
Will all zero users of php-html5lib kill me if I make 23 test cases fail?

[12:11:00.0000] <annevk3>
we should make error reporting optional in the tests

[12:11:01.0000] <annevk3>
or flag tests that rely on error reporting

[12:11:02.0000] <Philip`>
That's easy

[12:11:03.0000] <Philip`>
if 'ParseError' in expected_tokens: it relies on error reporting

[12:11:04.0000] <annevk3>
it seems to me that the PHP parser is not intended for building a validator so it should just not do it and be fast :)

[12:12:00.0000] <Philip`>
and you could just strip out all the ParseErrors when comparing your tokeniser against the test result

[12:12:01.0000] <annevk3>
yeah, I guess that's the best way

[12:12:02.0000] <annevk3>
you still want to test error handling

[12:13:00.0000] <gsnedders>
Yeah, that's what it currently does, for a few more minutes at least

[12:14:00.0000] <gsnedders>
annevk3: I'd disagree that it is irrelevant. You might want to only allow valid comments on my blog. Oh, wait, you already do.

[12:15:00.0000] <annevk3>
i wouldn't mind syntax errors actually

[12:15:01.0000] <takkaria>
gsnedders: testcases failing is bad, mmkay

[12:15:02.0000] <annevk3>
i'd just validate the tree

[12:15:03.0000] <annevk3>
validate the tree based on some whitelists

[12:15:04.0000] <Philip`>
Someone should make a blog comment CAPTCHA system which presents you with a random word (just in plain text) and requires you to use it in a grammatically-correct sentence in your comment

[12:16:00.0000] <gsnedders>
takkaria: All failures are due to the parse errors, and one of them is somewhat questionable (I'd argue that the test case relies on impl. specific behaviour)

[12:38:00.0000] <olliej>
Philip`: heheh

[12:39:00.0000] <gsnedders>
Philip`: How do you determine whether a sentence is grammatically correct?

[12:44:00.0000] <Philip`>
gsnedders: Mechanical Turk

[12:53:00.0000] <Niictar>
But... couldm

[12:54:00.0000] <Niictar>
But... couldn't a bot be programmed to generate a non-sensicial but grammatically correct sentence after doing a dictionary lookup of the word in question?

[12:55:00.0000] <Niictar>
Or, just quote a sentence example straight out of said dictionary? :P

[13:00:00.0000] <olliej>
Niictar: sssh

[13:00:01.0000] <olliej>
Niictar: although that captcha might be fairly good for filtering out most reddit/digg/youtube commenters :D

[13:01:00.0000] <Niictar>
=D

[13:35:00.0000] <gsnedders>
"It quite clearly shows that Humbert Hubmert does \emph{not} love Lolita." ‚Äî Discuss.

[13:35:01.0000] <gsnedders>
:P

[13:36:00.0000] <Philip`>
s/Hubmert/Humbert/

[13:36:01.0000] <gsnedders>
/me is typing quickly damnit!

[13:38:00.0000] <Dashiva>
If you reversed the grammar captcha, it could work well for sites where real users are inable to write properly, whereas a bot would be too successful

[13:57:00.0000] <gsnedders>
/me makes another tweet exactly 140 characters long

[13:57:01.0000] <gsnedders>
(And 142 bytes)

[14:10:00.0000] <jwalden>
gsnedders: is the limit 140 characters or 140 code points?

[14:12:00.0000] <gsnedders>
jwalden: It appears to apply NFC

[14:13:00.0000] <gsnedders>
(So my first test failed)


2009-03-29
[09:19:00.0000] <annevk3>
I'm considering having breakfast as well...

[09:20:00.0000] <annevk3>
Though at this point I might just combine it with dinner. I was initially blaming this on the timeshift, but that obviously doesn't work anymore.

[09:24:00.0000] <eighty4>
annevk3: have brunch

[09:48:00.0000] <gsnedders>
/me wonders whether hitting 3000 words is still possible today

[09:49:00.0000] <Philip`>
Depends on how strictly you define "today"

[09:51:00.0000] <gsnedders>
Philip`: 2009-03-29T00:00:00Z/PT24H0M0S

[09:52:00.0000] <gsnedders>
(The definition will change at 2009-03-30T00:00:00Z

[09:52:01.0000] <jgraham>
It depends on how strictly you define words

[09:52:02.0000] <jgraham>
and hitting

[09:53:00.0000] <Philip`>
/me wonders if he's going to get horribly confused by his IRC client's clock being an hour away from local time

[09:54:00.0000] <gsnedders>
Philip`: Yes, you will.

[09:54:01.0000] <Philip`>
/me wonders how to change it

[09:55:00.0000] <jgraham>
My IRC client's clock is currently local time -7

[09:55:01.0000] <Philip`>
"/script exec $ENV{'TZ'}='Europe/London'" - oh, that was easy

[09:55:02.0000] <fearphage>
Philip`: http://wiki.fishcracker.net/wiki/Irssi#Changing_the_timezone

[09:56:00.0000] <gsnedders>
Too easy, some might say.

[09:56:01.0000] <jgraham>
Oh, that worked

[09:56:02.0000] <Philip`>
fearphage: Hmm, that wiki seems to be wrong about saying I need to restart irssi

[09:56:03.0000] <jgraham>
Now I know when people said things

[09:56:04.0000] <jgraham>
Which is boring

[09:57:00.0000] <fearphage>
Philip`: no, you just need to change the timezone and export it

[09:57:01.0000] <fearphage>
i'm working on upgrading irssi without disconnection from anything

[09:59:00.0000] <fearphage>
any of you have ie >6 handy?

[09:59:01.0000] <Philip`>
jgraham: Try TZ=Asia/Kathmandu if you don't want to even know what minute somebody said things

[10:00:00.0000] <Philip`>
fearphage: When it says "to change the timezone displayed within irssi, you'll need to quit irssi, export TZ to the desired variable (and optionally add it to ~/.bashrc), and restart irssi" it does seem to be (incorrectly) telling me I need to restart irssi

[10:01:00.0000] <Philip`>
although maybe I'm misinterpreting what your "no" was in response to

[10:02:00.0000] <Philip`>
fearphage: Isn't /upgrade already there for upgrading without disconnecting?

[10:03:00.0000] <fearphage>
yea, i'm trying to coordinate with the guy that owns the server

[11:47:00.0000] <gsnedders>
/me shakes head at Brain Boyd's notes on Nabokov's Ada‚Ä¶

[11:47:01.0000] <gsnedders>
"Has masturbation ever before been rendered so artfully, so lyrically? And has the grand passion at the heart of a great love story ever been introduced so insistently in terms of masturbation?"

[12:49:00.0000] <jgraham>
Philip`: Does irssi do TZ=people/Hixie where say 08:00 would correspond to Hixie being at the point in his circadian cycle that would correspond to 8am for a normal person

[12:49:01.0000] <jgraham>
That would be highly useful

[12:52:00.0000] <Philip`>
jgraham: If you set up /usr/share/zoneinfo/people/Hixie then I'm sure it'd work fine

[12:55:00.0000] <jgraham>
Philip`: How well would that deal with a constantly changing offset from UTC?

[13:01:00.0000] <Philip`>
jgraham: The same as it deals with DST in other timezones, except more frequent

[13:03:00.0000] <Dashiva>
Does it handle multiple DST modes, though?

[13:04:00.0000] <jgraham>
/me assumes other dst systems are more or less periodic and don't need to be updated multiple times per day

[13:04:01.0000] <jgraham>
So it's not clear that a system that works for one use case will work for another

[13:05:00.0000] <jgraham>
s/an/the /

[13:06:00.0000] <annevk3>
I wonder if tying Web SQL to SQLite is bad whether tying immediate-mode Web 3D to OpenGL is bad too... Or does this comparison not hold?

[13:08:00.0000] <jgraham>
Arguably the opengl thing is worse since opengl sucks under windows

[13:09:00.0000] <annevk3>
That's my thinking. I wonder what roc thinks about this.

[13:09:01.0000] <Philip`>
OpenGL is a documented open standard with multiple implementations

[13:09:02.0000] <Philip`>
SQLite is just an implementation

[13:11:00.0000] <annevk3>
While that's certainly an argument, I'm not sure it matters much.

[13:12:00.0000] <Philip`>
It matters because it means you're not forced to use a specific implementation

[13:12:01.0000] <Philip`>
You could e.g. write something that provides an OpenGL-like API but implements it using DirectX

[13:12:02.0000] <Philip`>
and the OpenGL standard tells you how your implementation is meant to work, so you don't have to reverse-engineer someone else's

[13:13:00.0000] <annevk3>
That's the plan for Web SQL too...

[13:13:01.0000] <Philip`>
whereas the only way to implement something with an SQLite-compatible API is to reverse-engineer SQLite

[13:14:00.0000] <jgraham>
Philip`: That is a argument

[13:14:01.0000] <jgraham>
could you write an openGL wrapper with sensible perf though?

[13:14:02.0000] <Philip`>
I don't see why not

[13:14:03.0000] <Philip`>
Wine has a DirectX wrapper implemented using OpenGL, and that works pretty well

[13:15:00.0000] <Philip`>
(And the web stuff is OpenGL ES, which has much less of the cruft that normal GL has, so it's a closer match to DirectX)

[13:15:01.0000] <Philip`>
Of course shaders are likely to be a huge pain, though

[13:16:00.0000] <jgraham>
/me doesn't know much about this stuff

[13:16:01.0000] <jgraham>
Does anyone know of an atompub client that actually works?

[13:16:02.0000] <Philip`>
(since GL shaders are written in GLSL, and DX shaders are written in HLSL, which are different syntaxes for pretty much the same functionality)

[13:34:00.0000] <annevk3>
whoa, shader stuff looks complex

[13:34:01.0000] <annevk3>
what kind of language is that?

[13:35:00.0000] <annevk3>
(and is it guaranteed to be safe?)

[13:36:00.0000] <Hixie>
it's not

[13:36:01.0000] <annevk3>
Philip`, the problem is that writing wrappers for OpenGL is hard and likely to be ineffecient

[13:36:02.0000] <annevk3>
inefficient*

[13:36:03.0000] <Hixie>
browsers would need to precompile and verify them

[13:36:04.0000] <gsnedders>
/me is way too close to including the word "masturbate" in his English dissertation

[13:37:00.0000] <annevk3>
ouch

[13:38:00.0000] <annevk3>
can you actually verify it?

[13:40:00.0000] <Philip`>
annevk3: They're all C-like languages, though without stuff like pointers

[13:41:00.0000] <Philip`>
annevk3: I don't see why they'd be inefficient - the expensive parts of rendering are all handled by the hardware, and it doesn't matter whether the input came from DX-like API or a GL-like API

[13:41:01.0000] <annevk3>
Philip`, doesn't that mean it's impossible to figure out whether it will make things crash, leak memory, do evil things? there must be more to this since vlad & co know that won't work on the Web

[13:42:00.0000] <Philip`>
You can't leak memory because there's no memory allocation

[13:42:01.0000] <Philip`>
You can't crash because there's no memory protection

[13:42:02.0000] <annevk3>
Philip`, because you have to do more in software if the hardware doesn't have OpenGL drivers

[13:43:00.0000] <Philip`>
(Accessing arrays out of bounds is apparently undefined behaviour - I don't know what it does in practice)

[13:44:00.0000] <annevk3>
great

[13:44:01.0000] <Philip`>
You can do infinite loops but apparently at least some driver implementations have some kind of limit so you won't freeze your GPU

[13:46:00.0000] <annevk3>
I wonder at what point this Web thing becomes so complex it just falls over

[13:46:01.0000] <Philip`>
(kig (http://fhtr.blogspot.com/) has been doing some testing of GLSL-related stuff)

[13:47:00.0000] <Philip`>
annevk3: You wouldn't emulate the rendering in software - you'd translate everything into the native 3D-rendering API

[13:48:00.0000] <annevk3>
Philip`, since OpenGL is so low-level, that's hard

[13:49:00.0000] <Philip`>
The basic concepts are stuff like "here's a bunch of triangle vertex coordinates and a shader program that says what to calculate for each one, please draw them now", and every API is basically providing the same thing

[13:50:00.0000] <Philip`>
s/for each one/for each pixel/

[13:53:00.0000] <Philip`>
I hope that one benefit of doing the 3d-canvas stuff in Khronos is that the driver developers (NVIDIA, ATI, Intel) might get involved and help produce a new shader language that can safely run untrusted code, and then it could be usable in a few years

[13:54:00.0000] <annevk3>
if we get them on board that'd be great, yeah

[13:56:00.0000] <takkaria>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=6746 is a complete headfuck

[14:19:00.0000] <annevk3>
takkaria, most of his feedback is, afaict

[15:32:00.0000] <annevk3>
http://www.zeldman.com/2009/03/04/dwws-3e/ will cover HTML5 apparently

[15:32:01.0000] <annevk3>
I guess that is the second book after the Danish one?

[15:35:00.0000] <annevk3>
I guess I'll buy a copy to see what it says. English is something I can read :)

[15:46:00.0000] <Niictar>
Heh, the Acid3 test makes the Wii version of Opera cry

[15:47:00.0000] <Niictar>
Or rather, running Acid3 in the Opera browsers makes the Wii cry and freeze and become unresponsive by test 40


2009-03-30
[18:37:00.0000] <gsnedders>
/me shakes head at trying to check one or two things about Lolita by googling

[18:37:01.0000] <gsnedders>
Half of what I'm getting is stuff like "Free YOUNG Lolita PORN MOVIES", which really isn't helpful.

[19:30:00.0000] <gsnedders>
My physics makes no sense.

[19:30:01.0000] <gsnedders>
Apparently t = 1/2g for any object to fall any distance

[19:34:00.0000] <karlcow>
gsnedders: g(earth gravity?) => m/s2, t(time) => s ;)

[19:35:00.0000] <gsnedders>
g = gravitational field strength

[19:37:00.0000] <jcranmer>
1/2g * t^2 = d -> t = sqrt(2d/g) if I am not mistaken

[19:37:01.0000] <karlcow>
so a good rule of thumb, checking units on each side. It will give you an idea if you messed up

[19:37:02.0000] <gsnedders>
/me realizes he missed the sqrt in his calculation

[19:37:03.0000] <karlcow>
heh

[19:37:04.0000] <jcranmer>
karlcow: that's called dimensional analysis

[19:38:00.0000] <jcranmer>
best thing that I ever learned in physics

[19:38:01.0000] <gsnedders>
/me wonders why he was doing this anyway

[19:38:02.0000] <jcranmer>
now, if only that could help with my habit of randomly swapping signs

[19:38:03.0000] <karlcow>
jcranmer: aaaah sorry. I know nothing in physics. I'm really dumb. Just know only sex and poetry

[19:39:00.0000] <gsnedders>
/me is trying to write his English dissertation, so it doesn't seem overly useful

[19:44:00.0000] <gsnedders>
MikeSmith: Challenge: When is the second time Lolita seduces Humbert?

[19:45:00.0000] <karlcow>
hmmm lolita is still in my boxes

[19:45:01.0000] <karlcow>
I mean the book

[19:45:02.0000] <MikeSmith>
gsnedders: I think it was the time after the first time, but before the third time

[19:46:00.0000] <gsnedders>
MikeSmith: There is no third time.

[19:46:01.0000] <gsnedders>
/me can't remember what the second time is, just there is a second time

[19:47:00.0000] <karlcow>
gsnedders: how was it?

[19:47:01.0000] <gsnedders>
I have three Nabokov novels around me, and a Boyd criticism of Ada too

[19:47:02.0000] <gsnedders>
karlcow: how was what?

[19:48:00.0000] <Hixie>
man i'd forgotten how annoying mario galaxy is

[19:49:00.0000] <karlcow>
the second time :p

[19:49:01.0000] <gsnedders>
karlcow: "was it" in what way? I can't remember it!

[19:50:00.0000] <karlcow>
heh. people always remember the first time. Very rare the second time

[19:50:01.0000] <gsnedders>
Oh, duh

[19:50:02.0000] <gsnedders>
/me is half asleep

[19:53:00.0000] <gsnedders>
``You chump,'' she said, sweetly smiling at me. ``You revolting creature. I was a daisy-fresh girl, and look what you've done to me. I ought to call the police and tell them you raped me. Oh you dirty, dirty old man.''

[19:59:00.0000] <karlcow>
gsnedders: found?

[19:59:01.0000] <gsnedders>
no

[20:00:00.0000] <gsnedders>
/me wonders if it has any connection to 342

[20:02:00.0000] <jcranmer>
Hixie: what made you remember

[20:02:01.0000] <Hixie>
playing it

[20:04:00.0000] <jcranmer>
I don't have that fear

[20:04:01.0000] <jcranmer>
I don't have the game :-)

[20:05:00.0000] <MikeSmith>
https://bugzilla.mozilla.org/show_bug.cgi?id=485663

[20:05:01.0000] <MikeSmith>
[[

[20:05:02.0000] <MikeSmith>
You know how sometimes you don't have a network connection, but you have a

[20:05:03.0000] <MikeSmith>
source tree, and you want to see a slideshow of ten little dog pictures of

[20:05:04.0000] <MikeSmith>
different sizes changing rapidly with no attempt to keep the title from jumping

[20:05:05.0000] <MikeSmith>
up and down?

[20:05:06.0000] <MikeSmith>
Yeah, me neither.

[20:05:07.0000] <MikeSmith>
]]

[20:06:00.0000] <karlcow>
ahaha

[20:09:00.0000] <takkaria>
http://thefuckingweather.com/

[20:10:00.0000] <jcranmer>
/me looks at the slideshow

[20:10:01.0000] <jcranmer>
OMG, that IS bad

[20:13:00.0000] <azazul`>
no no 

[20:13:01.0000] <azazul`>
there is global warming 

[20:13:02.0000] <azazul`>
shut up and ignore the snow 

[20:14:00.0000] <azazul`>
.. last time there was snow "on" in thos time of year , was in 1961 ... thats what i has been told

[20:14:01.0000] <azazul`>
=/

[20:16:00.0000] <gsnedders>
Hmm, the more I think about it the less I believe HH's claim that L seduced him in The Enchanted Hunters

[20:37:00.0000] <gsnedders>
hah! "You talk like a book, Dad."

[20:47:00.0000] <gsnedders>
/me opens up Last.fm to listen to System Fault, takkaria ;)

[20:53:00.0000] <gsnedders>
/me is listening to Death Row by System Fault from Perfect Gentlemen EP

[21:14:00.0000] <Hixie>
anybody know anything about SVG's 

[21:14:01.0000] <Hixie>
'load' events?

[21:17:00.0000] <gsnedders>
No, but I'm sure I can tell you a fair amount about Nabokov's work instead.

[22:46:00.0000] <Hixie>
/me cannot find whiteforest inn commentary node 4

[22:50:00.0000] <Hixie>
or 8 for that matter

[23:01:00.0000] <MikeSmith>
does chatzilla do completion on names?

[23:10:00.0000] <gsnedders>
Hixie: huh?

[23:37:00.0000] <jwalden>
MikeSmith: tab-complete, yes

[23:37:01.0000] <MikeSmith>
jwalden: thanks

[23:38:00.0000] <MikeSmith>
was trying to tell somebody else to use it, but she said it didn't seem to be work. will follow up with her

[00:02:00.0000] <gsnedders>
/me has sore throat

[00:29:00.0000] <Hixie>
i wonder what mutation events fire with innerHTML

[01:03:00.0000] <gsnedders>
/me finds more bits of his computing project need working on

[02:04:00.0000] <jgraham>
/me wwonders if anyone sa his question about foreign content parsing from yesterday

[02:05:00.0000] <jgraham>
wow, that was really illegible

[02:05:01.0000] <jgraham>
And anyway, I'm sure somebody saw it, but I'm more wondering if anyone can answer it

[02:11:00.0000] <zcorpan>
jgraham: what was the question?

[02:12:00.0000] <jgraham>
06:28 < jgraham> So, I feel like I am being really dumb but, given a tree  like <math><annotation-xml><svg><p> what prevents the  secondary insertion mode being set to InForeignContent  when the <svg> element is processed as if it were In Body?

[02:12:01.0000] <jgraham>
zcorpan: ^

[02:14:00.0000] <zcorpan>
jgraham: ok

[02:28:00.0000] <hsivonen>
jgraham: I guess the answer is that it would really help if the spec made "in foreign" into a flag like the V.nu parser does

[02:34:00.0000] <jgraham>
hsivonen: What implications would that have? Just that once you were inforeign setting the flag again would be a noop?

[02:40:00.0000] <hsivonen>
jgraham: I think the implication is that having SVG in <annotation-xml> or MathML in <foreignObject> makes sense (if it doesn't already)

[02:42:00.0000] <hsivonen>
IIRC, I did run use cases from Jacques Distler with the flag-based impl.

[02:44:00.0000] <hsivonen>
so does twitter still have known XSS holes?

[03:28:00.0000] <jgraham>
hsivonen: I _think_ those cases are infinite loops in the spec currently. Although I would like  someone to verify that because I could be wrong

[03:28:01.0000] <roc>
annevk3: we don't seem to have any CSSOM API that would allow determining the screen coordinates of elements

[03:29:00.0000] <annevk3>
screen coordinates?

[03:30:00.0000] <jgraham>
(html5lib doesn't pass the relevent tests if I remove the infinite loops in a naive way sdo I don't trust that I have read the spec correctly)

[03:30:01.0000] <roc>
like screenX and screenY on ScreenView and MouseEventView

[03:31:00.0000] <annevk3>
why is that needed?

[03:33:00.0000] <roc>
I don't have any good use cases

[03:33:01.0000] <annevk3>
well then I won't add it :) seems like screenX/Y don't even work interoperably between Opera and Firefox

[03:33:02.0000] <roc>
but it's weird that we have screen coordinates for events and "client windows"

[03:33:03.0000] <roc>
but not elements

[03:34:00.0000] <roc>
it might be useful for that multi-window bouncing ball app

[03:34:01.0000] <annevk3>
:)

[03:34:02.0000] <roc>
they seem to get by by assuming that all windows have the same toolbar/urlbar/etc height

[03:34:03.0000] <roc>
and then just compare window.screenX/Y

[03:35:00.0000] <roc>
it's useful to coordinate with some other code that's running on the desktop

[03:35:01.0000] <annevk3>
I suppose screenX/Y would be more useful if they were from viewport origin to screen origin

[03:35:02.0000] <roc>
but that isn't really a good use case for Web content

[03:35:03.0000] <roc>
yeah

[03:36:00.0000] <roc>
I'm not sure exactly what would break if we changed them

[03:36:01.0000] <roc>
it's a bit scary

[03:36:02.0000] <annevk3>
in Opera they currently return negative values o_O

[03:37:00.0000] <roc>
do you happen to have a dual-screen setup?

[03:39:00.0000] <annevk3>
yeah, but it involves two separate laptops :)

[03:45:00.0000] <hsivonen>
jgraham: like I've said before, the spec has the modeness and flagness of 'in foreign' and 'frameset-ok' backwards :-)

[03:51:00.0000] <jgraham>
hsivonen: OK, well I am joining your crusade to get it changed :)

[03:51:01.0000] <annevk3>
Does rubys mean that he wants the HTML syntax to require quotes and such for SVG fragments?

[03:52:00.0000] <annevk3>
Or that he's just bored discussing it? :)

[03:57:00.0000] <jgraham>
annevk3: Or that he doesn't care about quotes and stuff because it is easy for a machine to correct those things

[03:57:01.0000] <annevk3>
Yeah, but why bring XHTML + SVG up then?

[03:57:02.0000] <annevk3>
meh

[04:00:00.0000] <annevk3>
Is Julian just playing dumb and am I wasting my time or is this discussion actually leading somewhere? *sighs*

[04:00:01.0000] <jgraham>
Maybe he is saying that the focus on making things copy/pastable is misguided because fixing the type of differences that people have focussed on for the copy/paste issue is trivial

[04:00:02.0000] <jgraham>
s/he/Sam/

[04:05:00.0000] <Philip`>
Unless he's arguing that we should discuss how SVG DOMs are processed and rendered, I'm not sure what the HTML WG could discuss other than the trivial syntax issues

[04:06:00.0000] <Philip`>
/me wonders if he should bother making his html-to-xhtml service a bit more professional

[04:08:00.0000] <jgraham>
Philip`: More professionsal as in, doesn't work as well but charges you through the nose?

[04:12:00.0000] <Philip`>
jgraham: More professional as in not saying "rubbish" and "Wowzers!" quite as much as it does

[04:12:01.0000] <annevk3>
krijnh, I had this idea for the IRC logs which will make them a bit slower, in case of a rename, if one the strings is an ASCII case-insensitive substring of the other, ignore it

[04:12:02.0000] <Dashiva>
Philip`: You should make it more document-ish

[04:13:00.0000] <krijnh>
annevk3: a rename?

[04:13:01.0000] <annevk3>
krijnh, of a nick

[04:14:00.0000] <krijnh>
/me doesn't follow

[04:14:01.0000] <annevk3>
e.g. "* slightlyoff is now known as slightlyoff_afk" can be ignored because slightlyoff is a substring of slightlyoff_afk

[04:15:00.0000] <krijnh>
How do I not ignore it now?

[04:15:01.0000] <annevk3>
but e.g. "* foo is now known as bar" cannot because that's more significant

[04:15:02.0000] <annevk3>
krijnh, http://krijnhoetmer.nl/irc-logs/whatwg/20090328#l-193

[04:15:03.0000] <krijnh>
Ah!

[04:17:00.0000] <annevk3>
and maybe strip trailing digits so it works for me too :p

[04:17:01.0000] <annevk3>
/me is making this too complicated

[04:17:02.0000] <krijnh>
Yeah, a bit :)

[04:18:00.0000] <krijnh>
slightlyoff_afk back to slightlyoff - how would you do that?

[04:18:01.0000] <krijnh>
Ow, wait

[04:18:02.0000] <Philip`>
Sounds more complicated than moving one's eyes downwards to skip over those lines :-)

[04:18:03.0000] <krijnh>
Hmm

[04:18:04.0000] <krijnh>
/me agrees with Philip` :)

[04:19:00.0000] <krijnh>
It gives the logs a personal touch ;) People are actually alive and go afk once in a while

[04:19:01.0000] <krijnh>
So, I need more use cases :)

[04:20:00.0000] <annevk3>
my main use case is actually line count on the frontpage

[04:20:01.0000] <annevk3>
so maybe it is enough to ignore renames altogether for that

[04:21:00.0000] <krijnh>
You could also educate people to not change their nicks

[04:21:01.0000] <krijnh>
Nobody cares about afk'ness

[04:21:02.0000] <zcorpan>
maybe another thing: if i enter "zcorpan" as nick it should recognize me as "zcorpan_" and "zcorpan_afk" and "zcorpan3", etc, too

[04:22:00.0000] <zcorpan>
although i just use zcorpan and zcorpan_ so it's not so hard to enter both

[04:22:01.0000] <krijnh>
Please remember there are like 5 users of these logs ;)

[04:23:00.0000] <zcorpan>
so? :)

[04:23:01.0000] <krijnh>
So it's not always worth it :)

[04:23:02.0000] <annevk3>
krijnh, this is your most popular site to date, stop complaining and pray we keep using it!

[04:23:03.0000] <krijnh>
Haha

[04:28:00.0000] <Philip`>
"I, for one, was not aware that service [html-to-xhtml] existed until 4 days ago as part of this discussion" - I suppose that's to be expected, since it didn't exist until 4 days ago

[04:29:00.0000] <Philip`>
(at least not in a publicly-accessible form)

[04:30:00.0000] <Philip`>
/me should probably make it use the latest parser version

[04:31:00.0000] <krijnh>
/me adds a new subtitle to the logs :)

[04:31:01.0000] <Philip`>
/me should probably also find a better way to run Java stuff, rather than having it be a standalone application with its own HTTP server running in screen

[04:33:00.0000] <annevk3>
krijnh, hehe, how do we get to them again?

[04:34:00.0000] <Philip`>
annevk3: http://krijnhoetmer.nl/irc-logs/ and then press F5 a lot of times

[04:35:00.0000] <krijnh>
http://krijnhoetmer.nl/irc-logs/all-subtitles

[04:37:00.0000] <annevk3>
that list has some superb obscure references to recent HTML history :)

[04:42:00.0000] <Philip`>
That's an effective demonstration of how publicness is a separate issue from openness - it's not an open process that anyone can participate in because the conversations rely on years of undocumented shared context :-)

[04:45:00.0000] <annevk3>
Philip`, actually, I think you can get all of that by reading the IRC logs and mailing list archives

[04:45:01.0000] <annevk3>
Philip`, not that it makes it more likely that people can participate per that definition though

[04:45:02.0000] <annevk3>
Philip`, but it's not a black/white thing anyway

[04:47:00.0000] <Philip`>
annevk3: That might be technically true, but reading a third of a million lines of IRC logs and twenty five thousand mailing list posts is hardly a practical idea for people wanting to get involved

[04:48:00.0000] <annevk3>
right, I already said as much in the following line

[04:48:01.0000] <krijnh>
Where are the IRC logs from before 2007?

[04:48:02.0000] <Philip`>
krijnh: They're at http://krijnhoetmer.nl/irc-logs/whatwg/200612

[04:49:00.0000] <Philip`>
annevk3: Indeed, but I started counting before your following line :-p

[04:49:01.0000] <jgraham>
/me reads a weblog article from somebody pontificating about technical solutions that will allow him to twitter and have his tweets pushed to facebook, without annoying people on facebook by having too many status updates, sighs

[04:49:02.0000] <krijnh>
That's about when the W3C and the HTMLWG got involved, I mean from before that

[04:50:00.0000] <hsivonen>
jgraham: Bob Sutor?

[04:50:01.0000] <jgraham>
hsivonen: Yes, apparently. I didn't actually look it was just something on planet intertwingly

[04:51:00.0000] <hsivonen>
/me saw it on Planet Intertwingly, too.

[04:51:01.0000] <annevk3>
krijnh, Charl van Niekerk had logs, not sure until how far back, and I thought the plan was that he'd give them to you

[04:52:00.0000] <annevk3>
krijnh, they might have gone lost by now though

[04:52:01.0000] <annevk3>
krijnh, it took a while before we got actual logs though

[04:52:02.0000] <krijnh>
It shouldn't really all depend on me though :)

[04:53:00.0000] <krijnh>
Was http://whatbot.charlvn.za.net/ btw

[04:53:01.0000] <Philip`>
Planet Intertwingly caused me to start using user stylesheets for the first time ever, a few days ago

[04:53:02.0000] <Philip`>
(to remove posts from a certain author)

[04:53:03.0000] <Philip`>
I wish browsers had a button that said "edit user CSS for this site", instead of making me mess around with filesystems and stuff

[04:54:00.0000] <jgraham>
Philip`: I think that functionality is avaliable

[04:54:01.0000] <Philip`>
If it it, I wish they made it more obvious :-)

[04:54:02.0000] <Philip`>
*is

[04:56:00.0000] <annevk3>
krijnh, if I had a server somewhere that allowed me to run bots I'd help you out :)

[04:56:01.0000] <krijnh>
Bots are overrated

[04:57:00.0000] <krijnh>
You just need your irc client to log the files ;]

[04:57:01.0000] <annevk3>
ok, a server that allowed me to run IRC

[04:58:00.0000] <jgraham>
annevk3: Will dreamhost not let you do that?

[04:59:00.0000] <annevk3>
not last time I checked

[04:59:01.0000] <krijnh>
Perhaps it would be smart to upload the logfiles somewhere once in a while?

[04:59:02.0000] <krijnh>
(I don't do backups)

[05:00:00.0000] <krijnh>
http://irc-logs.whatwg.org/ or something

[05:01:00.0000] <krijnh>
It's only 60MB of text files atm

[05:01:01.0000] <annevk3>
get an account on http://code.google.com/p/html5/ and use that?

[05:02:00.0000] <annevk3>
or will that get us into license issues?

[05:02:01.0000] <annevk3>
/me sighs

[05:02:02.0000] <krijnh>
Don't know, why?

[05:02:03.0000] <annevk3>
is the content under the Apache license?

[05:03:00.0000] <krijnh>
The logs?

[05:03:01.0000] <Philip`>
Why not upload the log files to Dreamhost?

[05:03:02.0000] <krijnh>
Yeah, why not?

[05:03:03.0000] <annevk3>
I can make logs.html5.org if we want do something now

[05:03:04.0000] <annevk3>
and give krijnh an account so he can do stuff

[05:04:00.0000] <krijnh>
To use as a backup, or as a primary place for the logs (both fine by me)

[05:04:01.0000] <krijnh>
?

[05:04:02.0000] <annevk3>
both are fine by me as well :)

[05:04:03.0000] <Philip`>
It's nice for the logs to be live

[05:04:04.0000] <Philip`>
so they presumably have to be on the same machine as the IRC client

[05:04:05.0000] <krijnh>
Yeah, I don't think I can export the logs to Dreamhost immediately

[05:04:06.0000] <annevk3>
yeah

[05:05:00.0000] <krijnh>
So that could be a daily cronjob or something

[05:05:01.0000] <annevk3>
that sounds fine

[05:05:02.0000] <annevk3>
i'll make an account

[05:05:03.0000] <krijnh>
Kewl

[05:05:04.0000] <annevk3>
anyone prefer irc-logs over logs?

[05:05:05.0000] <krijnh>
/me does

[05:05:06.0000] <annevk3>
k

[05:06:00.0000] <krijnh>
Or krijnhoetmers-irc-logs ;)

[05:06:01.0000] <krijnh>
Or I prefer krijnhoetmers-you-know-that-irc-logging-guys-kickass-irc-logs.html5.org

[05:07:00.0000] <annevk3>
right, we can set those up later

[05:07:01.0000] <krijnh>
:)

[05:07:02.0000] <annevk3>
do you need more than FTP?

[05:07:03.0000] <krijnh>
Depends

[05:07:04.0000] <annevk3>
what do you want?

[05:07:05.0000] <krijnh>
I use mod_rewrite, php and mysql now

[05:07:06.0000] <krijnh>
But mod_rewrite and php is okay enough

[05:08:00.0000] <krijnh>
For a backup

[05:08:01.0000] <annevk3>
you store the raw text in MySQL

[05:08:02.0000] <annevk3>
?

[05:08:03.0000] <krijnh>
No, only the important linenumbers

[05:08:04.0000] <krijnh>
And the irc nicks

[05:08:05.0000] <annevk3>
i actually meant whether you wanted SFTP/FTP/ssh

[05:08:06.0000] <krijnh>
Ow

[05:08:07.0000] <Philip`>
I thought the policy was to always have <firstname>.html5.org, and I don't think krijnh's first name is irclogs :-)

[05:09:00.0000] <krijnh>
krijn.html5.org would be cool too :)

[05:09:01.0000] <krijnh>
annevk3: FTP is okay

[05:10:00.0000] <krijnh>
http://irc-logs.html5.org/ \o/

[05:10:01.0000] <annevk3>
http://krijn.html5.org/ should start working too shortly

[05:11:00.0000] <virtuelv>
to answer annevk's assertion further up: no, you can't run bots on dreamhost (and they don't really want you to have a persistent irc client there either)

[05:11:01.0000] <annevk3>
I think that's nicer :)

[05:11:02.0000] <virtuelv>
if you want something like that, I'd suggest slicehost

[05:11:03.0000] <virtuelv>
(or whatever they are called now)

[05:11:04.0000] <virtuelv>
http://www.slicehost.com/

[05:17:00.0000] <annevk3>
Not going to invest USD 240 yearly for logging, sorry :)

[05:19:00.0000] <krijnh>
I am already

[05:19:01.0000] <krijnh>
At least! :)

[06:21:00.0000] <zcorpan>
hmm, maybe <textarea placeholder> should have different requirements than <input placeholder> wrt linebreaks

[06:29:00.0000] <MikeSmith>
zcorpan: I was thinking about the same thing

[06:30:00.0000] <hsivonen>
MikeSmith: I redeployed V.nu

[06:30:01.0000] <MikeSmith>
hsivonen: thanks. I'll test the <optgroup> fix and close that bug if it's passing

[06:31:00.0000] <hsivonen>
MikeSmith: thanks

[06:31:01.0000] <MikeSmith>
I'm pretty sure the reason for the bug is some regression I introduced with an earlier change

[07:16:00.0000] <MikeSmith>
hsivonen: so I've been messing around with Assertions.java code for checking for the case of label@for input child with mismatched ID. I can see how to check for an input@id instance that doesn't match any label@for in the entire document, but I have not figured out how to restrict to checking just in the stack

[07:18:00.0000] <hsivonen>
MikeSmith: I'd walk up the stack as long as the stack nodes have the label/for bit set on the mask 

[07:19:00.0000] <hsivonen>
MikeSmith: and also having the actual @for values on the stack

[07:19:01.0000] <MikeSmith>
hsivonen: OK, I see

[07:20:00.0000] <hsivonen>
the bit mask doesn't help with worse-case time complexity of walking the stack every time, but at least it makes the best case a lot better

[07:21:00.0000] <hsivonen>
(presumably common case, too)

[07:23:00.0000] <MikeSmith>
hsivonen: I had just forgotten that the ancestor bits are copied down 

[07:26:00.0000] <hsivonen>
/me wonders if two snapshots of the tree builder during a given parse can ever differ in terms of mode, original mode, foreign flag, form pointer or head pointer if the stack and the list of active formatting elements have the same contents in the two snapshots

[07:27:00.0000] <hsivonen>
that is, if the tree builder goes through balanced pushes and pops, does it always end up in the same mode where it started

[07:27:01.0000] <hsivonen>
?

[07:28:00.0000] <hsivonen>
if one of the snapshots is always taken immediately after </script> has been popped

[07:28:01.0000] <hsivonen>
at least </script> guarantees that the headPointer has been set (or we are in the fragment case)

[07:38:00.0000] <hsivonen>
it seems that the form element pointer can be set to null without popping the node it pointed to

[07:38:01.0000] <hsivonen>
right?

[07:46:00.0000] <hsivonen>
How do I save the file that I'm viewing in Opera 8.65 for S60 locally?

[12:29:00.0000] <hsivonen>
http://twitter.com/ilinsky/status/1387916636

[12:29:01.0000] <hsivonen>
"he" being Hixie as far as I can tell

[12:31:00.0000] <annevk3>
it was in reply to http://twitter.com/shepazu/status/1387879523 so yes

[12:33:00.0000] <annevk3>
I'm not sure if Hixie is a fan of ARIA  though :p

[12:43:00.0000] <annevk3>
the paragraph in section 8.1 no longer points to he next section

[12:43:01.0000] <annevk3>
guess I need to e-mail that again...

[13:44:00.0000] <annevk3>
Hixie, you still need an IETF WG of some sorts to actually get to RFC status right?

[13:48:00.0000] <annevk3>
/me finds http://www.ietf.org/mail-archive/web/hybi/current/msg00000.html

[15:39:00.0000] <annevk3>
heh, they renamed ES 3.1 to ES 5

[15:42:00.0000] <takkaria>
^_^

[15:48:00.0000] <Hixie>
really?

[15:48:01.0000] <heycam>
surely that announcement is a day too early!

[15:49:00.0000] <Philip`>
https://mail.mozilla.org/pipermail/es-discuss/2009-March/009111.html

[15:55:00.0000] <otherarun>
Heh.  Yeah, Mark Miller's preempted the press release, but yeah.  The name change is because whole numbers were deemed desirable, and ES4 was confusing (ES4 is dead; long live ES4, or at least some of it, as ES6).

[15:55:01.0000] <Hixie>
http://en.wikipedia.org/wiki/Waka_(protocol) <-- a wikipedia page purely about an idea that roy had

[15:55:02.0000] <Hixie>
otherarun: hey, arun! you're here!

[15:56:00.0000] <Hixie>
otherarun: any news on the file/blob api? i'm trying to plan my timetable for html5 work for the coming quarter and need to know whether to punt on the <input type="file"> access API or not

[15:57:00.0000] <annevk3>
Hixie, you got several of those wiki pages :p

[15:58:00.0000] <otherarun>
Hixie, yep, I'm here.  So the status is: I'm still working on it.  I'm going to work on a draft for this quarter.  Blob has "problems" that Apple would like to get back to us on; synchronous APIs are out, but some folks are interested in File I/O more than Blobs, etc. and we might want to split that up into separate specs.

[15:59:00.0000] <annevk3>
i was sort of intrigued by the apple idea of just having .files a simple File interface and supporting File in xhr.send()

[15:59:01.0000] <annevk3>
maybe not even have local file access in the first api

[16:00:00.0000] <annevk3>
if we get that shipped all flash uploaders can be shot

[16:01:00.0000] <otherarun>
annevk3 yeah; I'm coming around to thinking that if anyone is interested in direct-from-script I/O APIs, that part might be something that gets spec'd separately.  

[16:03:00.0000] <annevk3>
besides XHR you want some integration with <canvas>

[16:04:00.0000] <annevk3>
further in the future i suppose you might want raw data access so you can do text and DOM processing without having to round-trip through the server

[16:04:01.0000] <otherarun>
annevk3 hmmm... that may be a bit more than originally conceived.  good use case scenario?

[16:05:00.0000] <annevk3>
selecting a image to manipulate, resizing images client-side, etc.

[16:06:00.0000] <annevk3>
raw data access is for all the other possible use cases; the user has some set of files and the webapps has some script that can do something with the file data and you don't really want to do server round-trip for the files

[16:07:00.0000] <Hixie>
annevk3: really?

[16:07:01.0000] <Hixie>
otherarun: k

[16:08:00.0000] <Hixie>
otherarun: i guess i'll see where we stand at end of Q2 and if the File/Blob API isn't ready yet I'll punt on .files for html5

[16:09:00.0000] <annevk3>
Hixie, just kidding; was mainly thinking of HTML5 and WHATWG :)

[16:09:01.0000] <Hixie>
annevk3: oh ok. At least those are written down somewhere :-P

[16:10:00.0000] <Hixie>
for file/blob, the way i see it we want to have an object for a readonly file, an object for a mutable file, both of which support being filesystem-backed and support being just memory mapped, and then we'll want some api that exposes streams using a similar mechanism, and finally an API that maps these file/stream objects to document-lifetime-bound URIs

[16:10:01.0000] <Hixie>
for interaction with things like <video>

[16:11:00.0000] <Hixie>
and <img>

[16:11:01.0000] <Hixie>
maybe some protocol like blob://<origin>/<number> or something, accessible as fileObject.URL

[16:11:02.0000] <Hixie>
anyway

[16:13:00.0000] <Hixie>
christ, i have a two-line testcase for mutation events and three browsers and they ALL DO SOMETHING DIFFERENT

[16:13:01.0000] <Hixie>
this was supposed to be the test that checked that i had the write syntax

[16:13:02.0000] <Hixie>
it wasn't suppoed to find bugs

[16:14:00.0000] <Hixie>
i hate vague specs

[16:14:01.0000] <Hixie>
(http://software.hixie.ch/utilities/js/live-dom-viewer/saved/46)

[16:16:00.0000] <Hixie>
firefox fires the mutation events TWICE when doing innerHTML

[16:16:01.0000] <Hixie>
-_-

[16:17:00.0000] <Hixie>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/47

[16:21:00.0000] <jwalden>
Hixie: as far as I could tell the one time I fooled around with mutation events, Gecko's method for dealing with them is basically a spec violation that makes it possible to do things without preemptively grabbing strong refs to everything in sight -- nice impl-wise, but doesn't produce behavior any web developer is going to expect

[16:21:01.0000] <jwalden>
/me couldn't bring himself to care, for mutation events

[16:22:00.0000] <Hixie>
man i hope the dom3 events spec either nukes mutation events altogether or defines how they work in enough detail that they can be implemented

[16:22:01.0000] <Hixie>
i think what would be ideal is for mutation events to move to web dom core actually

[16:22:02.0000] <Hixie>
since that's where all the requirements would likely have to be to make the spec sane to write

[16:24:00.0000] <Lachy>
mutation events would have been nice if they were more widely supported. I know there were a few things that would have been easier for me to do in some projects if they were usable in practice, though I can't remember the details.

[16:26:00.0000] <Lachy>
although, IIRC, I think using XBL bindings would have helped in some of those cases too

[16:41:00.0000] <annevk3>
https://mail.mozilla.org/pipermail/es-discuss/2009-March/009112.html o_O

[16:41:01.0000] <annevk3>
I'd love them to open up those ES meetings

[16:47:00.0000] <jwalden>
annevk3: not a generalized solution, but could talk to chris pine (?) for scoops, I think

[16:49:00.0000] <annevk3>
true, I rather not bug him about ES gossip though :)


2009-03-31
[17:49:00.0000] <Hixie>
ok, fixed dfn.js

[19:01:00.0000] <olliej>
Hixie: faruk just pointed out an interesting issue, in that local storage provides no mechanism to perform authentication -- eg. use of local storage, db, etc on a public terminal

[19:02:00.0000] <Hixie>
?

[19:02:01.0000] <Hixie>
how do you mean?

[19:02:02.0000] <olliej>
Hixie: currently sites know that they should warn users against saving there login, etc on a public terminal

[19:03:00.0000] <olliej>
Hixie: but say ye olde online office suite wanted to keep the users documents cached locally, they have no way to do so safely

[19:04:00.0000] <olliej>
Hixie: because if the user is on a public terminal all users get the same localStorage/DB

[19:04:01.0000] <olliej>
Hixie: the site could implement client side encryption if it desired

[19:05:00.0000] <olliej>
Hixie: but it seems to be something i don't recall seeing discussed

[19:05:01.0000] <olliej>
eg. lots of poorly thought out web apps could end up exposing user data

[19:09:00.0000] <Hixie>
if you're on an untrusted terminal, you've lost already. If you're on a trusted public terminal, then the system should clear all cached data (cookies, local storage, databases, history, etc) between users.

[19:09:01.0000] <Hixie>
i don't understand how this is a new problem

[19:14:00.0000] <Hixie>
olliej: ^

[19:14:01.0000] <Hixie>
man i hate how people always talk about I-Ds with their version number

[19:14:02.0000] <olliej>
Hixie: it's not a new problem (vs. cookies)

[19:14:03.0000] <Hixie>
it's like people who refer to dated version of the html5 spec instead of the ED

[19:15:00.0000] <olliej>
Hixie: the new issue is that it becomes really easy to code a website which doesn't save login credentials (because it's ona  public terminal)

[19:15:01.0000] <olliej>
but may store user data in local storage without thinking about it

[19:15:02.0000] <Hixie>
olliej: i can add a warning to the security/privacy part of the spec if you think it'll help (please send mail if so)

[19:15:03.0000] <Hixie>
but i don't know what else we can do about hat

[19:15:04.0000] <Hixie>
that

[20:39:00.0000] <olliej>
Hixie: yeah neither am i

[20:39:01.0000] <olliej>
Hixie: (sorry was dinnering)

[21:13:00.0000] <Hixie>
renaming <header> to <heading> would be fine by me, I think, assuming that it really has benefits

[21:24:00.0000] <takkaria>
I'm not sure a heading is any less purportedly confusing

[21:30:00.0000] <Hixie>
leif seems to argue it is less confusing

[21:43:00.0000] <takkaria>
I always read "h1" as "heading 1", not "header 1"

[21:43:01.0000] <takkaria>
and div id="header" matches up with "footer"

[21:43:02.0000] <takkaria>
but maybe my intutions are weird

[21:47:00.0000] <Hixie>
i agree with you

[21:47:01.0000] <Hixie>
to be honest

[21:47:02.0000] <Hixie>
but if people think <heading> is clearer...

[21:47:03.0000] <Hixie>
i don't know if they do though, other than leif

[21:49:00.0000] <takkaria>
and typographically speaking, it's definitely a header and not heading

[21:50:00.0000] <takkaria>
you need an intuitionometer, I think. :)

[21:51:00.0000] <Hixie>
well now it's 1 vs 1 and the status quo usually wins in these situations...

[21:54:00.0000] <takkaria>
yay for the status quo, I guess

[22:49:00.0000] <Niictar>
Err

[22:49:01.0000] <Niictar>
Hixie: I vote for <heading>

[22:49:02.0000] <Niictar>
One moment and I'll find the reason why

[22:52:00.0000] <Niictar>
<header> allows <address> to nest inside. Which is more than just <h1>..<h6>

[22:52:01.0000] <Niictar>
<heading> in my mind encompasses more than 1 kind of thing

[22:53:00.0000] <Niictar>
And I think of <header> like I think of <h1> which is in contradiction of takkaria's intutions

[22:53:01.0000] <Niictar>
But I guess that just means different people look at it different ways

[22:54:00.0000] <Niictar>
But <header> feels like one item to me

[22:55:00.0000] <Niictar>
I don't know if more than just <address> can fit (I had guessed <nav> did, but it does not), but again, I like <heading> better

[23:14:00.0000] <Hixie>
well we want a name that conveys "only <h1>-<h6> elements go here", but doesn't sound silly. :-)

[23:14:01.0000] <Hixie>
<hgroup> would be a good name were it not for the sounding silly part

[23:29:00.0000] <Niictar24>
Hixie: I know it's a Wiki and what that means, but the examples here: http://wiki.whatwg.org/wiki/Authoring show <address> within <header>

[23:30:00.0000] <Niictar24>
And the last time I tried validating those examples using validator.nu, it didn't report any problems

[23:30:01.0000] <Niictar24>
So, if it's only supposed to have <h1>..<h6>, something is amis?

[23:33:00.0000] <Niictar24>
Even if it didn't sound silly to you, <hgroup> wouldn't help at all when you can put <address> and <p> elements inside <header>

[23:33:01.0000] <Niictar24>
(for element names that make sense)

[23:35:00.0000] <Niictar24>
/me is away

[23:40:00.0000] <Hixie>
Niictar24: oh those elements are allowed there, but we still want to not draw attention to that

[00:12:00.0000] <zcorpan>
Hixie: you can have a border on body, too, and the margins will collapse

[00:13:00.0000] <zcorpan>
Hixie: actually... if you specify p { margin:1em 0 } in the style sheet, then margins *don't* collapse

[00:13:01.0000] <Hixie>
-> mail or bugs please :-)

[00:13:02.0000] <Hixie>
and it actually depends on the UA, last i checked

[00:13:03.0000] <Hixie>
webkit uses a special unit

[00:14:00.0000] <Hixie>
(iirc that was my idea)

[00:14:01.0000] <Hixie>
not sure about the other UAs

[00:32:00.0000] <zcorpan>
Hixie: <heading>? to me that sounds like it's intended to be "<h>" i.e. equivalent to <h1>

[00:32:01.0000] <zcorpan>
Hixie: but <headings> to me says that h1, h2 etc are to be nested

[00:33:00.0000] <zcorpan>
(but officially, i couldn't care less)

[00:34:00.0000] <zcorpan>
Hixie: people think that <header> is what aria calls 'banner'

[00:35:00.0000] <zcorpan>
i.e. the area at the top that contains the logo and some ads etc

[00:44:00.0000] <takkaria>
I have this weird suspicion that whatever gets done, it will confuse about the same number of people

[00:45:00.0000] <takkaria>
e.g. all of those who copy and paste and never read tutorials or specs

[00:49:00.0000] <hsivonen>
Hixie: I think both <heading> and <header> are bad. either one gets confused for the other

[00:49:01.0000] <hsivonen>
Hixie: <hgroup> does not have this issue

[00:52:00.0000] <Hixie>
<hgroup> is ugly

[00:53:00.0000] <Philip`>
That's good, because it'll discourage people from using it, so they'll only use it when they understand why and where they're meant to use it

[00:54:00.0000] <hsivonen>
Hixie: the best parts of hgroup: 1) no -er or -ing, 2) makes it clear it is designed for grouping

[00:56:00.0000] <zcorpan>
<hg>?

[00:57:00.0000] <zcorpan>
<h1-h6>?

[00:59:00.0000] <zcorpan>
we should have a static version of the author view

[00:59:01.0000] <zcorpan>
i wonder if the impl bits should be stripped before or after the toc is built

[01:01:00.0000] <Hixie>
after, but you have to strip the toc too

[01:14:00.0000] <takkaria>
e.g. all of those who copy and paste and never read tutorials or specs

[01:15:00.0000] <takkaria>
I need to stop accidentally repasting things I've already said :)

[01:15:01.0000] <annevk3>
http://ajaxian.com/archives/the-vml-changes-in-ie-8 o_O

[01:16:00.0000] <virtuelv>
VML changes, but no SVG?

[01:17:00.0000] <annevk3>
The VML changes are about making it more complex to use and making it slower apparently...

[01:19:00.0000] <Hixie>
hard to complain about them sabotaging their standards compliance efforts when they also do it to their efforts to sabotage their standards compliance efforts!

[01:20:00.0000] <zcorpan>
makes sense -- they want people to use silverlight instead of svg or canvas (implemented using vml for ie with script)

[01:21:00.0000] <Hixie>
i doubt that they actualy are trying to make IE bad so that people will use silverlight

[01:22:00.0000] <annevk3>
They made Word HTML output intentionally bad so that people will stick with Microsoft products

[01:22:01.0000] <zcorpan>
though maybe the vml changes were unintentional side effects of other changes

[01:28:00.0000] <zcorpan>
v\: polyline? standards-compliant css parsing? is there an element with the local name "v:"?

[01:28:01.0000] <zcorpan>
or do selectors now match either prefix or local name in ie?

[01:30:00.0000] <Hixie>
annevk3: true

[01:35:00.0000] <Philip`>
http://blogs.msdn.com/ie/archive/2009/03/12/site-compatibility-and-ie8.aspx talks about VML selectors a bit

[01:35:01.0000] <Philip`>
zcorpan: That page says v\:polyline, which sounds more plausible as an element name

[01:36:00.0000] <zcorpan>
they still match on qname in my non-vml test

[01:36:01.0000] <zcorpan>
Philip`: yeah

[01:37:00.0000] <zcorpan>
wonder where lrbabe got the space from

[01:43:00.0000] <zcorpan>
"Parser error correction for malformed HTML has changed in IE8 Standards Mode." - that sounds scary

[01:45:00.0000] <zcorpan>
though the </li> handling seems to match html5

[01:47:00.0000] <zcorpan>
they nest table in p if the p implied body

[01:47:01.0000] <zcorpan>
and if the p doesn

[01:47:02.0000] <zcorpan>
t  contain other things before the table

[01:51:00.0000] <zcorpan>
hey they put embed in object in the tree

[01:52:00.0000] <zcorpan>
but document.x is not a collection

[01:53:00.0000] <zcorpan>
for <object name=x><embed name=x>

[01:53:01.0000] <zcorpan>
document.x returns the object

[01:53:02.0000] <Lachy>
woah, IE7's parsing matched Firefox, Opera and Safari in that case, so it looks like HTML5 may have had it wrong. But now IE8 matches HTML5 and no other browsers do.

[01:54:00.0000] <zcorpan>
Lachy: oops

[01:57:00.0000] <zcorpan>
the ie7 behavior seems more robust

[02:02:00.0000] <zcorpan>
they changed attribute ordering

[02:09:00.0000] <Hixie>
Lachy: which case?

[02:12:00.0000] <zcorpan>
Hixie: <ul><li><ul></li><li>x

[02:12:01.0000] <Hixie>
d'oh

[02:12:02.0000] <zcorpan>
Hixie: ie8 and html5 close the inner ul

[02:32:00.0000] <jgraham>
/me thinks "<hgroup> sounds silly" isn't much of a technical argument

[02:34:00.0000] <Lachy>
Leif's proposal to use <heading> seems like it would make the situation worse, since the whole argument for changing <header> is based on the fact that it's not a heading itself

[02:35:00.0000] <Lachy>
and some of Leif's arguments for <heading> actually support keeping <header>

[02:48:00.0000] <jgraham>
Lachy: e.g.?

[02:54:00.0000] <Lachy>
jgraham, points B.2. and B.5. in http://lists.w3.org/Archives/Public/public-html/2009Mar/0722.html

[02:54:01.0000] <Lachy>
"James has allready documented that authors tend to expect same/parallell features from <header> and <footer>." - suggests that they should keep their similar names

[02:55:00.0000] <jgraham>
Lachy: The point is that that is not really true. They aren't parallels

[02:55:01.0000] <Lachy>
what?

[02:56:00.0000] <jgraham>
Well I'm not sure actually because I don't know what features parallels would have

[02:57:00.0000] <Lachy>
also "<thead> and <tfoot>, typically referred to as table header/footer, will probably shape authors' understanding of <header>/<footer> as well.", since a section <header> is analogous to a table header <thead>

[02:58:00.0000] <Lachy>
and as for the meaning of "heading", your argument was that people thought <header> was a direct replacement for <h1>, rather than a container. Using <heading> would only increase that confusion

[02:59:00.0000] <Lachy>
even though I still think your argument about people's confusion is not well supported

[02:59:01.0000] <jgraham>
Lachy: I agree that <heading> is a bad name

[02:59:02.0000] <jgraham>
But <header> has a rather narrow use case grouping to

[02:59:03.0000] <jgraham>
er

[03:00:00.0000] <jgraham>
But <header> has a rather narrow use case: grouping together material into a single logical section header

[03:00:01.0000] <Philip`>
Hmm, on a site I wrote a while ago it appears I used <header> just for surrounding the page heading and logo, because I thought that was what it was for

[03:00:02.0000] <Lachy>
however, Leif does raise some interesting points about the terminology used within the spec that should be fixed.

[03:03:00.0000] <jgraham>
we should call it <logicalheader> and then no one would use it incorrectly. Or at all :)

[03:04:00.0000] <Philip`>
We should remove it entirely, and then it won't be used incorrectly

[03:05:00.0000] <jgraham>
Philip`: That is one options, but it does seem like quite a nice feature for the cases where it is needed

[03:05:01.0000] <Lachy>
no, we need to keep it since it finally allows us to do subheadings properly without messing up the outline

[03:05:02.0000] <jgraham>
Like <header><h1>My awwesome blog</h1><h2>With an ironic subtitle</h2></header>

[03:06:00.0000] <zcorpan>
we could add an attribute that indicates subheader, i.e. <h1>Foo</h1><h2 subheading>Bar</h2>

[03:06:01.0000] <jgraham>
zcorpan: People would just put that on any header with depth > 1

[03:06:02.0000] <Lachy>
using <header> also allows for more flexibility in styling without requiring authors to add extra divs

[03:07:00.0000] <zcorpan>
<h2 no-toc>

[03:07:01.0000] <Philip`>
It seems that approximately nobody uses outlines today, so maybe we should wait a while and see if people start using HTML5's outlines before we add new elements to cope better with rare situations

[03:07:02.0000] <Philip`>
Baby steps and all that

[03:07:03.0000] <Lachy>
Philip`, I use it

[03:07:04.0000] <Philip`>
Lachy: You're approximately nobody ;-)

[03:08:00.0000] <Lachy>
Philip`, the replaceHeadings anolis plugin is a good example of how it can be put to good use once its more widely supported

[03:08:01.0000] <Lachy>
also, screen readers use the outline for page navigation

[03:08:02.0000] <Philip`>
<h1>Foo <h2>Bar</h2></h1>

[03:09:00.0000] <zcorpan>
Lachy: i thought they generally had shortcut keys to jump to next hN element

[03:09:01.0000] <zcorpan>
Philip`: that has parsing issues in some browsers and styling issues in other

[03:10:00.0000] <zcorpan>
though some other element could work

[03:10:01.0000] <Lachy>
zcorpan, I thought they had controls to skip to the next heading of a particular level, so they can skip sub sections

[03:10:02.0000] <jgraham>
Philip`: https://addons.mozilla.org/en-US/firefox/addon/475 gets ~230 downloads/week and https://addons.mozilla.org/en-US/firefox/addon/475 gets ~300 which is pretty close to nobody but sugeests it isn't a totally useless idea

[03:10:03.0000] <Philip`>
<h1>Foo<br><small>Bar</small></h1>

[03:11:00.0000] <Lachy>
but once <section> is more widely deployed and people are using <h1> for all headings, then using the outline will become more important

[03:12:00.0000] <zcorpan>
Philip`: yeah that could work except people will call it presentational and there's likely legacy content that uses small for purposes other than sub headings

[03:13:00.0000] <Lachy>
jgraham, you just linked to the same addon twice

[03:13:01.0000] <jgraham>
https://addons.mozilla.org/en-US/firefox/addon/7203 is the second one

[03:14:00.0000] <zcorpan>
(though there's also content that uses small for purposes other than small print so might be moot point)

[03:31:00.0000] <Philip`>
http://www.opencloudmanifesto.org/ - <img alt=""> everywhere - hooray for accessibility

[03:33:00.0000] <jgraham>
That page is awesome

[03:33:01.0000] <annevk42>
I'm sort of surprised nobody has mentioned self-closing syntax on <style> / <script> yet

[03:35:00.0000] <hsivonen>
Hixie's "Input on agenda" messages serve to illustrate how the WG is unable to close even issues that have been addressed, such as the legacy-doctype thing which is pending on the registration of the about: URI scheme

[03:35:01.0000] <hsivonen>
annevk42: feel free to mention it

[03:35:02.0000] <hsivonen>
what's the deal of the HTML version of the cloud manifesto being split to 6 subpages?

[03:36:00.0000] <hsivonen>
continuous media FTW!

[03:36:01.0000] <annevk42>
I'm not sure what to say. The safest thing seems to treat <style> / <script> identical between HTML and SVG, but that is not popular.

[03:36:02.0000] <hsivonen>
It'd dodgy that the manifesto doesn't say who wrote and started it

[03:37:00.0000] <hsivonen>
s/'d/'s/

[03:39:00.0000] <hsivonen>
Interesting. Sun and IBM are supporters. Google, Amazon and Microsoft are not. Seems 

[03:39:01.0000] <hsivonen>
like the target of the manifesto is Amazon/Google and maybe Microsoft

[03:41:00.0000] <zcorpan>
annevk42: hadn't i mentioned self-closing <style>?

[03:43:00.0000] <Philip`>
hsivonen: http://news.cnet.com/8301-13860_3-10206077-56.html may be relevant

[03:43:01.0000] <annevk42>
zcorpan, you did; http://lists.w3.org/Archives/Public/public-html/2008Dec/0134.html

[03:44:00.0000] <Philip`>
Also http://news.bbc.co.uk/1/hi/technology/7969458.stm mentions Google pulling out

[03:47:00.0000] <Philip`>
/me likes it when the cloud gives him a plain old x86 Linux/Windows box he can run anything on, since that's open enough to avoid vendor lock-in

[03:48:00.0000] <ace_me>
what's about this channel pls ?

[03:48:01.0000] <ace_me>
I've found you as searching http://www.google.ro/search?hl=ro&q=quicktime+freenode&meta=&aq=f&oq=

[03:48:02.0000] <ace_me>
I have a issue with installing quicktime

[03:48:03.0000] <annevk42>
this channel is not about quicktime

[03:49:00.0000] <annevk42>
our logs just have a high pagerank

[03:49:01.0000] <ace_me>
ok annevk42

[03:49:02.0000] <ace_me>
thx

[03:50:00.0000] <ace_me>
by the way I am 41

[03:51:00.0000] <jgraham>
/me feels like he is in an episode of the prisoner

[03:51:01.0000] <annevk42>
/me wasn't quite sure whether to say he's 22, that it's a book reference, or just to keep silent

[03:59:00.0000] <mpt>
oh, it has a manifesto, therefore it's doomed

[04:00:00.0000] <Philip`>
It doesn't have a manifesto, it *is* a manifesto

[04:01:00.0000] <jgraham>
/me wonders if you could destroy the whole cloud computing iniative by vaugely insinuating that cloud computing is like communism because both have manifestos

[04:02:00.0000] <Philip`>
Seems like it would have been easier if the Open Cloud Manifesto was done as a blog post

[04:02:01.0000] <Philip`>
and then we'd know who wrote it

[04:02:02.0000] <Philip`>
and it would be just as easy to ignore

[04:03:00.0000] <mpt>
jgraham, that didn't work for Linux

[04:04:00.0000] <Philip`>
Their markup is great

[04:04:01.0000] <Philip`>
   <div class="xr_tl" style="left: 0px; top: 62px;">The buzz around cloud computing has reached a fever pitch. Some believe it is a </div>

[04:04:02.0000] <Philip`>
   <div class="xr_tl" style="left: 0px; top: 81px;">disruptive trend representing the next stage in the evolution of the Internet. Others </div>

[04:04:03.0000] <Philip`>
   <div class="xr_tl" style="left: 0px; top: 100px;">believe it is hype, as it uses long established computing technologies. As with any </div>

[04:05:00.0000] <Dashiva>
They're waiting for <l>

[04:05:01.0000] <Dashiva>
Clearly XHTML2 is in demand

[04:08:00.0000] <Philip`>
hsivonen: http://validator.nu/?doc=http%3A%2F%2Fwww.opencloudmanifesto.org%2Fopencloudmanifesto1.htm only reports minor syntax issues, and does not report that the page is insane

[04:09:00.0000] <Dashiva>
Is that a machine-checkable condition?

[04:09:01.0000] <Philip`>
That's not my problem

[04:10:00.0000] <Philip`>
But surely you could check the ratio div/spans and see that the only other elements are a and img, so clearly the page is failing to use appropriate elements

[04:10:01.0000] <Philip`>
s/ratio/ratio of/

[04:11:00.0000] <mpt>
heuristic validation, eh

[04:12:00.0000] <Philip`>
It works for spam filtering, it should work for markup validation too

[04:17:00.0000] <zcorpan>
Philip`: would the page be less insane if the divs were replaced with <p>s?

[04:19:00.0000] <Philip`>
zcorpan: No, so you'd have to use some other heuristics too, like checking that the contents of <p>s are complete sentences and not split-up fragments

[04:20:00.0000] <zcorpan>
Philip`: it's a race to the bottom of heuristics vs even more insane workarounds to silence the validator

[04:21:00.0000] <Dashiva>
Spam is getting pretty good at fooling detectors too

[04:21:01.0000] <zcorpan>
Philip`: that's why the spec was changed to allow e.g. empty paragraphs

[04:21:02.0000] <Dashiva>
Just look at all that amazing poetry they churn out

[04:22:00.0000] <Philip`>
zcorpan: At some point it will be easier to write good clean markup than to write insane workarounds to silence the validator

[04:22:01.0000] <Philip`>
and then we'll have won

[04:22:02.0000] <Dashiva>
But at what cost?

[04:22:03.0000] <zcorpan>
and what's the benefit?

[04:23:00.0000] <Philip`>
Dashiva: That's a good example - the heuristics have forced spam to increase in literary value until it's often more interesting than non-spam emails

[04:24:00.0000] <Philip`>
/me goes away for a bit

[04:36:00.0000] <Lachy>
I'm guessing Hixie never got his earthquake prevention kit returned, since there was a quake in Mountain View. ;-) http://weblogs.mozillazine.org/asa/archives/2009/03/earthquake_litt.html

[05:45:00.0000] <MikeSmith>
hsivonen: http://bugzilla.validator.nu/attachment.cgi?id=66

[05:45:01.0000] <MikeSmith>
if/when you have time to review

[05:48:00.0000] <Philip`>
Are rel values in RDFa meant to be case-insensitive?

[05:49:00.0000] <Philip`>
(I saw http://planet.mozilla.org/ has some rel="cc:attributionurl", when it's meant to be attributionURL)

[05:49:01.0000] <hsivonen>
MikeSmith: looks good, except instead of looking up the for attribute by name individually, I'd pick up the value in the loop that loops over all the attributes anyway

[05:49:02.0000] <hsivonen>
I now see that the old WF 2.0 templating stuff needs removing

[05:50:00.0000] <MikeSmith>
hsivonen: yeah, noticed that too

[05:50:01.0000] <zcorpan>
Philip`: no, but maybe they should be

[05:50:02.0000] <hsivonen>
Philip`: without declaring the prefix, of course

[05:51:00.0000] <zcorpan>
maybe some prefixes should be hardcoded, too

[05:52:00.0000] <MikeSmith>
hsivonen: I will send a patch for the removal of the templating stuff as well

[05:52:01.0000] <hsivonen>
MikeSmith: great! thanks

[05:52:02.0000] <hsivonen>
it seems it's not Planet Mozilla's fault that xmlns:cc is not there. it's not in the original, either.

[05:54:00.0000] <Philip`>
Hmm... http://armenzg.blogspot.com/2009/03/how-to-add-creative-commons-license-to.html has attributionURL

[05:54:01.0000] <Philip`>
It also has cc="http://creativecommons.org/ns#"

[05:54:02.0000] <Philip`>
(but no xmlns:cc)

[05:55:00.0000] <Philip`>
in both the textarea and the raw code

[05:55:01.0000] <hsivonen>
Philip`: and an NC license :-(

[05:56:00.0000] <Philip`>
Does Planet Mozilla strip the cc attribute and make rel lowercase, including in the textarea code? or is it not quite that crazy, and the original blog post just got updated later?

[05:56:01.0000] <hsivonen>
Philip`: if Planet Mozilla runs Venus, I'd expect it to drop a CC attribute and lowercase rel

[05:57:00.0000] <Philip`>
Inside <textarea> too?

[05:57:01.0000] <hsivonen>
unlikely

[05:58:00.0000] <Philip`>
I suppose it might if it gets parsed as XML, so <textarea><a cc/></textarea> is sanitised and then printed as <textarea><a /></textarea>

[05:59:00.0000] <Philip`>
(which displays as a textarea containing the string "<a />")

[06:09:00.0000] <zcorpan>
Hixie: i'm not sure i like the idea of enumerating namespaces and elements in web dom core

[06:22:00.0000] <MikeSmith>
hsivonen: updated patch:

[06:22:01.0000] <MikeSmith>
http://bugzilla.validator.nu/attachment.cgi?id=67

[06:25:00.0000] <hsivonen>
MikeSmith: look good except ("for" == attLocal) should be ("for" == attLocal && "label" == localName)

[06:26:00.0000] <hsivonen>
MikeSmith: with that change, r=hsivonen

[06:27:00.0000] <MikeSmith>
hsivonen: excellent -- thanks. will make that change and get it checked in

[06:29:00.0000] <Philip`>
/me likes it adds nine lines of code just so you can read a field

[06:29:01.0000] <Philip`>
*likes how

[06:30:00.0000] <MikeSmith>
you should see how many lines of code it adds if you want to check it in XPath

[06:44:00.0000] <MikeSmith>
hsivonen: so I still need to add a check on <label> for the constraint "with at most one descendant labelable form-associated element"

[06:44:01.0000] <MikeSmith>
maybe can get that done today

[06:47:00.0000] <MikeSmith>
"labelable form-associated element" seems redundant, given that "labelable" is defined as a subcategory of "form-associated element"

[06:48:00.0000] <hsivonen>
MikeSmith: hmm. good point. that seems to need another bit on the bitfield

[06:48:01.0000] <hsivonen>
to track labels being on the stack regardless of whether it has the for attribute

[06:48:02.0000] <hsivonen>
MikeSmith: so that bit should go into the low bits using the existing element bit mechanism

[06:49:00.0000] <MikeSmith>
hsivonen: why not the high bits?

[06:49:01.0000] <hsivonen>
and then the stack node also needs a flag that gets set upon the first labelable ancestor

[06:50:00.0000] <hsivonen>
MikeSmith: because there's a generic mechanism for element bits

[06:50:01.0000] <hsivonen>
MikeSmith: it turns out that label already has a bit, since it is in SPECIAL_ANCESTORS

[06:50:02.0000] <MikeSmith>
ah yeah

[06:52:00.0000] <MikeSmith>
hsivonen:  you mean stack-node flag needs to get set on first labelable descendant, right?

[06:52:01.0000] <MikeSmith>
(not ancestor)

[06:53:00.0000] <hsivonen>
MikeSmith: right

[06:53:01.0000] <MikeSmith>
k

[07:05:00.0000] <MikeSmith>
hsivonen: about assertions.sch, would you object to me changing the id() checks into either (1) explicit checks for the id attribute, or (2) checks for id|xml:id ?

[07:06:00.0000] <MikeSmith>
I ask because I think it would be good to be able to use assertions.sch with plain-vanialla jing

[07:12:00.0000] <hsivonen>
MikeSmith: my kneejerk reaction is against checking the attributes instead of id()

[07:12:01.0000] <hsivonen>
MikeSmith: but I don't remember why I wanted to migrate towards id()

[07:13:00.0000] <hsivonen>
MikeSmith: supposing that xml:id isn't that interesting to support, what downsides would there be with comparing id attribute with WS-normalization vs. id()?

[07:17:00.0000] <MikeSmith>
hsivonen: downside is that a stock schematron checker does not know that id() should check attributes named "id", right?

[07:18:00.0000] <hsivonen>
MikeSmith: I meant does doing what you are proposing minus checks for xml:id have any downsides?

[07:18:01.0000] <hsivonen>
MikeSmith: the downside of id() is clear to me

[07:19:00.0000] <MikeSmith>
hsivonen: oh, I se

[07:19:01.0000] <hsivonen>
MikeSmith: If you change it away from id() to check agains @id, I think xml:id support could be thrown out at the same time

[07:21:00.0000] <MikeSmith>
hsivonen: I can't really think of any downsides.

[07:21:01.0000] <MikeSmith>
though maybe somebody who knows more about XPath and XSLT could

[07:22:00.0000] <hsivonen>
MikeSmith: ok. I think the change is OK then (given care with zapping leading and trailing spaces)

[07:22:01.0000] <MikeSmith>
OK

[07:26:00.0000] <MikeSmith>
do XML parsers in browsers actually do what's expected with xml:id anyway?

[07:27:00.0000] <MikeSmith>
I mean as far as using a fragment reference to an xml:id in a hyperlink

[07:27:01.0000] <zcorpan>
MikeSmith: opera does... though an element can only have one ID

[07:27:02.0000] <hsivonen>
MikeSmith: what's expected? ;-) Opera assigns IDness to xml:id. Gecko and WebKit don't.

[07:28:00.0000] <MikeSmith>
I guess I'd assume that expected would be to assign IDness

[07:28:01.0000] <hsivonen>
MikeSmith: moreover, xml:id support has been explicitly rejected from both Gecko and WebKit but for different reasons

[07:28:02.0000] <MikeSmith>
I see

[07:28:03.0000] <hsivonen>
the Gecko rejection was due to perf issue

[07:28:04.0000] <MikeSmith>
then seems like xml:id should be considered harmful

[07:28:05.0000] <zcorpan>
wasn't it implemented in gecko at some point?

[07:28:06.0000] <hsivonen>
and, IIRC, the WebKit rejection was in order to avoid stuff that isn't needed

[07:29:00.0000] <hsivonen>
zcorpan: my understanding is that it was on the trunk for a short while

[07:29:01.0000] <zcorpan>
hsivonen: ok

[07:29:02.0000] <hsivonen>
zcorpan: smaug knows the details, since he wrote the patch

[07:29:03.0000] <zcorpan>
maybe i should push for it to be dropped in opera

[07:29:04.0000] <hsivonen>
please do

[07:30:00.0000] <zcorpan>
along with xml 1.1 :)

[07:30:01.0000] <taf2>
is there any plan to have a blob api in html5 ?  i don't see any mention of it in the specs/web-apps

[07:31:00.0000] <taf2>
or maybe i'm looking for the wrong name?

[07:31:01.0000] <zcorpan>
though i suspect dropping 1.1 means implementing 1.0 5e

[07:31:02.0000] <MikeSmith>
taf2: there was some discussion in the webapps wg, iirc

[07:31:03.0000] <hsivonen>
taf2: APIs in that ballpark are in the realm of the Web Apps WG

[07:31:04.0000] <taf2>
hsivonen: ah... does that mean i'm in the wrong place?

[07:33:00.0000] <hsivonen>
taf2: not quite wrong but #webapps on the W3C IRC server would be a more correct place for reaching the interested parties for discussing blog speccing

[07:33:01.0000] <annevk42>
taf2, there's a specific webapps wg channel but it's not very active

[07:34:00.0000] <MikeSmith>
taf2: 

[07:34:01.0000] <MikeSmith>
http://lists.w3.org/Archives/Public/public-webapps/2008JulSep/thread.html#msg186

[07:34:02.0000] <annevk42>
taf2, blob was briefly discussed here yesterday though

[07:35:00.0000] <annevk42>
or "today" http://krijnhoetmer.nl/irc-logs/whatwg/20090331#l-6

[07:35:01.0000] <MikeSmith>
taf2: maybe could also try ask weinig on #webkit

[07:38:00.0000] <taf2>
thanks all.. lots of information for me to collect

[07:46:00.0000] <MikeSmith>
hsivonen: as far as zapping leading and trailing spaces, is there something more I should do than just using normalize-space() ?

[07:49:00.0000] <hsivonen>
MikeSmith: oops. actually, HTML5 id shouldn't undergo space-normalization

[07:49:01.0000] <hsivonen>
MikeSmith: or so I think

[07:50:00.0000] <hsivonen>
MikeSmith: so no normalize-space(). sorry.

[07:50:01.0000] <MikeSmith>
hmm, I guess I should read the spec

[07:50:02.0000] <MikeSmith>
OK, np

[07:50:03.0000] <hsivonen>
"If the value is not the empty string, user agents must associate the element with the given value (exactly, including any space characters) for the purposes of ID matching--"

[07:50:04.0000] <MikeSmith>
ah, OK

[07:57:00.0000] <annevk42>
hmm, I guess for xml:id this is different due to the XML parser

[07:57:01.0000] <annevk42>
I suppose it's undefined whether it's different on the DOM level?

[07:58:00.0000] <MikeSmith>
I guess I could just use local-name() = "id"

[07:59:00.0000] <MikeSmith>
but would there be any point?

[08:24:00.0000] <hsivonen>
annevk42: Isn't xml:id processing quite defined?

[08:25:00.0000] <hsivonen>
annevk42: in the case of XHTML5 id, the XML parser would perform AVNormalize before the HTML5 rule is applied

[08:25:01.0000] <hsivonen>
annevk42: but normalizing space in XPath would be wrong, becaus XHTML5 id could containt NCR-escaped spaces

[08:33:00.0000] <annevk42>
hsivonen, what if you set xml:id through the DOM

[08:34:00.0000] <annevk42>
http://www.w3.org/TR/xml-id/#id-avn

[08:34:01.0000] <annevk42>
they state as if those rules should apply to id="" as well

[08:40:00.0000] <hsivonen>
annevk42: who'd set an attribute via the DOM? :-)

[08:51:00.0000] <Philip`>
Setting attributes via the DOM? Sounds like imperative scripting, which went out of fashion years ago

[08:55:00.0000] <gsnedders>
hi babes

[08:56:00.0000] <Philip`>
Wrong channel? :-p

[08:56:01.0000] <gsnedders>
no

[08:56:02.0000] <gsnedders>
:P

[08:56:03.0000] <gsnedders>
You expect logic

[09:10:00.0000] <gsnedders>
What are we doing for tomorrow?

[09:13:00.0000] <myakura>
it's already apr 1 here :(

[10:13:00.0000] <MikeSmith>
hsivonen: http://bugzilla.validator.nu/attachment.cgi?id=68

[10:13:01.0000] <zcorpan>
jh√§i√§

[10:13:02.0000] <zcorpan>
jnm

[10:13:03.0000] <zcorpan>
pjon

[10:13:04.0000] <zcorpan>
jag heter simon igenklien inte zcorpan

[10:14:00.0000] <hsivonen>
MikeSmith: seems reasonable but my XPath skills aren't good enough to say if it's OK

[10:15:00.0000] <hsivonen>
MikeSmith: if // means descendant, looks good

[10:16:00.0000] <gsnedders>
hsivonen: It's the same as node::self-or-descendant

[10:16:01.0000] <gsnedders>
(or it is descendant-or-self?)

[10:16:02.0000] <gsnedders>
/me still thinks an advert saying, "How do I ask her out?", is inappropriate on a page about Lolita

[10:19:00.0000] <MikeSmith>
hsivonen: yeah, leading // just means descendant of root, so matches any occurrence anywhere in the document

[10:29:00.0000] <annevk42>
MikeSmith, why does it say "HIDEN" instead of "HIDDEN"?

[10:29:01.0000] <annevk42>
oh nm

[10:29:02.0000] <annevk42>
it's inside translate

[10:29:03.0000] <MikeSmith>
annevk42: it's just a string translation, yeah

[10:29:04.0000] <MikeSmith>
yeah

[10:29:05.0000] <annevk42>
there's no case-insensitive matching?

[10:30:00.0000] <annevk42>
or do you get Turkish i issues then?

[10:43:00.0000] <gsnedders>
/me sighs at people bitching about bugs without reporting them or saying what they are

[10:44:00.0000] <Dashiva>
"The program crashed. My computer is fine, so I'm not posting error details."

[10:46:00.0000] <Philip`>
You shouldn't write buggy code in the first place!

[10:46:01.0000] <gsnedders>
Philip`: I don't think it is buggy

[10:47:00.0000] <Philip`>
You shouldn't write code which somebody could interpret as being buggy in the first place!

[10:47:01.0000] <gsnedders>
/me shrugs

[10:50:00.0000] <jgraham>
You shouldn't shrug

[10:55:00.0000] <gsnedders>
/me uploads the side-effect of staying up all night working on English dissertation

[10:55:01.0000] <gsnedders>
http://www.flickr.com/photos/gsnedders/3401411365/

[10:58:00.0000] <jgraham>
gsnedders: Try a 2:1 crop

[10:58:01.0000] <jgraham>
(less sky)

[10:58:02.0000] <jgraham>
(because most of the interesting colours are in the bottom 50% of the picture, and having slightly more foreground would make it more balanced IMHO

[11:00:00.0000] <jgraham>
gsnedders: Also, re Rosenk√§llasj√∂n, I pronounce it incorrectly

[11:00:01.0000] <jgraham>
For sure

[11:00:02.0000] <gsnedders>
:)

[11:01:00.0000] <MikeSmith>
/me smiles at "Turkish i issues"

[11:01:01.0000] <jgraham>
(I would guess Rrooo-sen-kaell-as-yoen)

[11:02:00.0000] <jgraham>
(But I really really do not know any Swedish pronounciation)

[11:02:01.0000] <jgraham>
(Partially because our teacher won't teach us it yet)

[11:02:02.0000] <gsnedders>
That sounds like a good way to teach a language

[11:03:00.0000] <jgraham>
:)

[11:03:01.0000] <jgraham>
MikeSmith: Who is hving Turkish I issues?

[11:04:00.0000] <MikeSmith>
jgraham: comment from annevk42 above

[11:04:01.0000] <jgraham>
Oh, I see

[11:04:02.0000] <gsnedders>
jgraham: I quite like the texture of the colour of the blues in the upper half of the photo though

[11:04:03.0000] <gsnedders>
/me was pondering whether to crop it before

[11:04:04.0000] <jgraham>
/me guesses it is time to go home

[12:46:00.0000] <MikeSmith>
hsivonen: one more patch if you still awake

[12:46:01.0000] <MikeSmith>
http://bugzilla.validator.nu/attachment.cgi?id=70

[13:57:00.0000] <gsnedders>
/me wonders whether http://www.opera.com/company/jobs/opening/211/ means the start of April 1st or the end of April 1st

[13:59:00.0000] <takkaria>
how about "on April 1st". :)

[13:59:01.0000] <Philip`>
gsnedders: And which timezone?

[14:00:00.0000] <gsnedders>
Philip`: Yeah, that's my other issue, especially if it means 2009-03-31T23:59:59+02:00

[14:01:00.0000] <Philip`>
I suppose you could always not leave it until literally the last minute

[14:02:00.0000] <gsnedders>
Philip`: I don't intend on doing so, but I still need to finish CV

[14:02:01.0000] <jgraham>
gsnedders: It seems like the Swedish internships don't have the same deadline

[14:03:00.0000] <gsnedders>
jgraham: Those are apparently meant for 2008!

[14:03:01.0000] <gsnedders>
jgraham: (And apparently someone screwed up in the website redesign)

[14:05:00.0000] <jgraham>
gsnedders: I was under the impression we had internships in linkoping this year (although I guess I might have misunderstood how things work or something)

[14:06:00.0000] <jgraham>
So it seems worth applying 

[14:06:01.0000] <gsnedders>
jgraham: Apparently you do. Apparently what I linked to isn't exclusively Oslo.

[14:06:02.0000] <jgraham>
Oh, I see

[14:06:03.0000] <gsnedders>
/me probably ought to ask around here to see if anyone here can give a reference

[14:07:00.0000] <gsnedders>
Though it probably ought not be someone working for Op

[14:07:01.0000] <gsnedders>
(Hixie?)

[14:07:02.0000] <jgraham>
Yeah :)

[14:07:03.0000] <takkaria>
yeah, in my phone interview, I believe I was told that the internships were linkoping

[14:08:00.0000] <gsnedders>
/me has convinced his English teacher to do a character reference for him‚Ä¶ and he's Norwegian, coincidentally :P

[14:08:01.0000] <Philip`>
Character reference, like &gsnedders; ?

[14:08:02.0000] <gsnedders>
/me headdesks

[14:08:03.0000] <takkaria>
I took the easy way out, and said "references available on request"

[14:09:00.0000] <gsnedders>
/me is tempted to do that on grounds that it gives him a few more days

[14:09:01.0000] <jgraham>
gsnedders: I don't think you need to worry about references unless they ask for them

[14:10:00.0000] <jgraham>
Just get your CV and cover letter together. Now.

[14:10:01.0000] <jgraham>
:)

[14:10:02.0000] <gsnedders>
Do I really need to copy Hixie and have an  "Objective"?

[14:10:03.0000] <gsnedders>
/me has never come across that before

[14:13:00.0000] <jgraham>
gsnedders: No

[14:14:00.0000] <gsnedders>
/me thought not

[14:14:01.0000] <svl>
gsnedders: an objective (or sometimes profile) is just a way to describe yourself at a higher level; what _you_ are looking for (helpful with determining if you're a good fit, and showing where you want your focus to lie). It can be useful, but is never essential.

[14:20:00.0000] <gsnedders>
/me has mouse battery die on him

[14:37:00.0000] <gsnedders>
/me hopes rendering issues with CV in IE7 isn't an issue

[14:37:01.0000] <gsnedders>
/me expects not

[14:53:00.0000] <gsnedders>
http://secret.gsnedders.com/foo3.html  ‚Äî why does the date appear below the title in IE7?

[14:54:00.0000] <gsnedders>
/me may as well fix it if someone can find out why

[14:54:01.0000] <gsnedders>
/me doesn't currently have access to IE7

[14:55:00.0000] <gsnedders>
Can I coerce a couple of people here at looking at my CV?

[15:13:00.0000] <jos3ph>
Are all of the python html5lib 0.11 tests expected to pass? I got "failures=23, errors=527" on Debian Etch with python2.4.

[15:22:00.0000] <takkaria>
gsnedders: happily will look at it when it's done

[15:25:00.0000] <roc>
annevk42: ping?

[15:26:00.0000] <annevk42>
pong?

[15:30:00.0000] <annevk42>
someone should prolly explain why http://adactio.com/journal/1564 is wrong

[15:35:00.0000] <annevk42>
specifically, role=banner is duplication of section 4.4.10.2 and role=search is duplication of type=search; a <form> with type=search control in it is the search form

[15:38:00.0000] <annevk42>
also, the comment was not about role=banner, but about role=heading and how that affects the document outline

[15:39:00.0000] <annevk42>
(it's also not about "false clash 

[15:40:00.0000] <annevk42>
oops

[15:42:00.0000] <Hixie>
annevk42: http://www.w3.org/Bugs/Public/show_bug.cgi?id=6491

[15:42:01.0000] <Hixie>
annevk42: how does wrap=off differ from wrap=soft? is it only a rendering difference?

[15:43:00.0000] <annevk42>
(I meant to say that this should not about vocab1 versus vocab2.)

[15:44:00.0000] <annevk42>
Hixie, could be, I forgot :/

[15:44:01.0000] <Hixie>
how do you propose i fix the bug? :-)

[15:46:00.0000] <roc>
annevk42: sorry ...

[15:47:00.0000] <annevk42>
Hixie, rendering wise I suppose; I haven't looked at submission

[15:47:01.0000] <Hixie>
should it be conforming? or just a legacy value?

[15:47:02.0000] <roc>
annevk42: I'd kinda like to add window.innerScreenX/innerScreenY, to give the screen coordinates of the top-left of the viewport ... do you think that would be bad?

[15:47:03.0000] <annevk42>
legacy since it's just rendering

[15:48:00.0000] <annevk42>
roc, it's not pretty

[15:48:01.0000] <roc>
it's prettier than screenX/Y, which are basically useless since you don't know how much window chrome there is

[15:49:00.0000] <annevk42>
and we can't break screenX/Y?

[15:49:01.0000] <roc>
I'm reluctant to

[15:49:02.0000] <Hixie>
just define screenX/Y to be innerScreenX/Y with a fixed offset

[15:49:03.0000] <annevk42>
note that with these two additional attributes you can know how much space chrome takes up at the top and left, is that a problem?

[15:50:00.0000] <Hixie>
that way you don't break compat, and you still have the predictability

[15:50:01.0000] <Hixie>
(still not pretty though)

[15:50:02.0000] <roc>
annevk42: I don't think so

[15:51:00.0000] <annevk42>
are you just implementing these to fill a gap or is there some request that triggers this?

[15:51:01.0000] <roc>
that value hardly ever changes anyway, if you just guessed values based on the user-agent you'd be right most of the time

[15:51:02.0000] <annevk42>
true

[15:51:03.0000] <roc>
hang on interrupt

[15:52:00.0000] <Hixie>
annevk42, roc: seems like reusing screenX/Y without breaking compat but defining a fixed required offset is the simplest solution, no?

[15:54:00.0000] <karlcow>
[17:35]  <annevk42> someone should prolly explain why http://adactio.com/journal/1564 is wrong

[15:54:01.0000] <karlcow>
interesting. In a sense, it's almost the only logical answer. Because each community is convinced the other one is wrong. (hmmmm more thinking about communities expressing themselves but not listening)

[15:54:02.0000] <annevk42>
adactio is not really part of either community

[15:55:00.0000] <karlcow>
/me cqfd

[15:55:01.0000] <annevk42>
puh

[15:56:00.0000] <annevk42>
Hixie, it's very ugly

[15:57:00.0000] <annevk42>
and it changes really really old APIs which is troublesome at best

[15:58:00.0000] <roc>
Hixie: that breaks the invariant that window.screenX/Y is equal to the window.open top/left parameters

[15:58:01.0000] <Hixie>
ah

[15:58:02.0000] <Hixie>
well i'm happy to drop support for window.open()'s features argument anyway

[15:58:03.0000] <roc>
although that invariant doesn't always hold for various reasons, it's hard to predict what effect that might have

[15:58:04.0000] <Hixie>
so :-)

[16:00:00.0000] <annevk42>
textarea[wrap=off] { white-space:no-wrap }

[16:04:00.0000] <annevk42>
hmm, we're not controversial enough anymore for mr last week: http://lastweekinhtml5.blogspot.com/2009/03/shutting-shit-down.html

[16:05:00.0000] <Hixie>
wow, mr last week is still going on?

[16:05:01.0000] <Hixie>
i haven't looked at it in months

[16:05:02.0000] <gsnedders>
Oh sure

[16:05:03.0000] <gsnedders>
He's gone down-hill from his prior fun, but still marches on

[16:05:04.0000] <annevk42>
it's really boring, yeah

[16:11:00.0000] <Hixie>
on another note, maybe we should try to encourage the whatwg community to review the spec over the coming few weeks or months

[16:11:01.0000] <Hixie>
in preparation for last call

[16:12:00.0000] <gsnedders>
Pay us!

[16:13:00.0000] <Philip`>
More generically: Incentivise us!

[16:13:01.0000] <Philip`>
Money is expensive, but give people points and badges and things

[16:13:02.0000] <gsnedders>
2.56 CHF for each comment!

[16:13:03.0000] <Hixie>
interesting idea

[16:14:00.0000] <Hixie>
the points, not the money :-P

[16:14:01.0000] <Hixie>
i wonder how to do it in a way that leads to quality reviews

[16:14:02.0000] <gsnedders>
/me slumps back down

[16:16:00.0000] <Philip`>
/me was reading http://lostgarden.com/2008/10/princess-rescuing-application-slides.html a while ago about applying game design principles to other activities

[16:18:00.0000] <Philip`>
although I'm not sure that's relevant to anything at all

[16:18:01.0000] <Philip`>
except to the extent that giving people points and achievements seems a gameish thing to do and an effective way to make people sink huge amounts of time into stuff

[16:19:00.0000] <Lachy>
/me presses the button only to realise that it's just a link to a larger version of the image.

[16:19:01.0000] <Lachy>
/me wonders if the princess will ever be rescued ;-)

[16:21:00.0000] <Philip`>
Of course she won't - the princess is always in another castle

[16:26:00.0000] <karlcow>
s/castle/ivory tower/

[16:27:00.0000] <annevk42>
Hixie, reddit style?

[16:27:01.0000] <annevk42>
Hixie, allowing people to vote up/down reviews/comments

[16:27:02.0000] <Hixie>
if we could do this without actually requiring any code that would be ideal :-)

[16:27:03.0000] <Hixie>
i don't want to spend six weeks writing a tool to get more feedback :-)

[16:28:00.0000] <annevk42>
I heard reddit is open source

[16:28:01.0000] <karlcow>
StackOverflow has a nice community system, though a bit too much boyscout (quite protestant in fact)

[16:28:02.0000] <Philip`>
annevk42: What would the benefit of voting be? Presumably Hixie's going to read all the comments anyway, so nobody has a reason to vote on anybody else's comments

[16:30:00.0000] <gsnedders>
re: voting. http://ask.slashdot.org/article.pl?sid=06/10/06/2017254&from=rss

[16:31:00.0000] <karlcow>
gsnedders: have you tried stackoverflow? There is a kind of credentials system with more rights step by step depending on the value of your contribution.

[16:32:00.0000] <gsnedders>
karlcow: Not much. But I've seen that fall into the same trap as digg :(

[16:32:01.0000] <karlcow>
Ah interesting, I didn't have the same feeling

[16:33:00.0000] <Philip`>
Clearly what we need is a virtual fishtank where you get to add a fish for each valid piece of feedback you send, because everybody wants pretty fish

[16:34:00.0000] <gsnedders>
In http://secret.gsnedders.com/foo3.html the date beside the header appears (vertically) down below it, as if the margin isn't being set to zero on the date. Without a copy of IE (of any version, yet alone 7 specifically, where this issue occurs) to play with, I'm rather lost about possible causes. Any ideas?

[16:34:01.0000] <roc>
annevk42: so ... would innerScreenX/Y make me a bad person?

[16:35:00.0000] <gsnedders>
Positively evil!

[16:35:01.0000] <gsnedders>
Wait, no, negatively evil!

[16:35:02.0000] <gsnedders>
Actually, hmm‚Ä¶

[16:35:03.0000] <gsnedders>
:P

[16:35:04.0000] <karlcow>
oooh

[16:45:00.0000] <annevk42>
roc, the use case is still not really compelling

[16:46:00.0000] <annevk42>
roc, i'd rather we not do it, but if we have to those would be the best names

[16:47:00.0000] <roc>
ok

[16:48:00.0000] <roc>
I'll probably add mozInnerScreenX/Y then

[16:49:00.0000] <annevk42>
ah, it's getBoxObjectFor() fallout?

[16:49:01.0000] <annevk42>
that works

[16:50:00.0000] <roc>
yeah

[16:50:01.0000] <roc>
some people were using getBoxObjectFor to get screen coords

[16:50:02.0000] <roc>
not really for Web content though which is why I can't give a good use case

[16:55:00.0000] <karlcow>
/me is discovering http://www.peertopatent.org/

