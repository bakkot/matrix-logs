2006-12-01
[01:18:00.0000] <Charl>
ok let's test it and see if it works

[01:51:00.0000] <hsivonen>
morning

[01:52:00.0000] <hsivonen>
Lachy: If I guess correctly what Sam is going to suggest, I have intended to suggest the same thing

[01:52:01.0000] <hsivonen>
that is put <math> subtrees in the MathML namespace and <svg> subtrees in the SVG namespace

[01:52:02.0000] <hsivonen>
instead of hard-coding a list of MathML elements

[01:54:00.0000] <Charl>
/me (n=charlvn⊙cwicz) Quit ()

[02:02:00.0000] <jgraham>
hsivonen:That sounds more sensible to me. But I think there will be some stiff opposition

[02:02:01.0000] <webben>
/me looks at the mailing list. Sees people /still/ trying to work out a way of making documents validate as XML and HTML. Sighs.

[02:37:00.0000] <Lachy>
hsivonen, I don't think that's what Sam is going to suggest. I think it's going to be about allowing xmlns attributes, but not xmlns:foo because he explicitly said no prefixes

[02:46:00.0000] <Charl>
ok whatbot seems to be behaving well, the stats work nicely

[02:46:01.0000] <Charl>
should i update the irc wiki page?

[02:47:00.0000] <Lachy>
Charl, yes

[02:48:00.0000] <annevk>
"appease the XML gods" fools!

[02:48:01.0000] <annevk>
/me goes back to reading the log

[02:58:00.0000] <annevk>
hsivonen, you want to intertwine HTML with Math in some cases...

[02:59:00.0000] <hsivonen>
annevk: without <math> or <html> wrapper roots?

[02:59:01.0000] <hsivonen>
annevk: is that case common enough that it needs to be supported in text/html?

[03:00:00.0000] <annevk>
it might be

[03:00:01.0000] <annevk>
for <svg> certainly

[03:00:02.0000] <annevk>
you want <foreignObject><p>TEST</p></foreignObject> as well...

[03:00:03.0000] <Lachy>
if any form of namespace syntax is ever going to get added to HTML, it must not use the xmlns attribute

[03:01:00.0000] <Lachy>
that would only serve to further convince the XML camp that HTML is compatible with XML

[03:03:00.0000] <annevk>
Lets not waste our time on this... Did you get any further with the parser?

[03:04:00.0000] <Lachy>
annevk, <foreignObject><p ns="xhtml">TEST</p></foreignObject> would be the only type of namespacing I'd support, where the ns attribute would take one of a predefined set. That way, it can't get confused with xmlns and it's not compatible xml parsing

[03:04:01.0000] <Lachy>
that's just an idea though, which I got from http://ln.hixie.ch/?start=1151612438&count=1

[03:05:00.0000] <Lachy>
I've been reading through the Dive Into Python tutorial today, up to chapter 3 so far.

[03:07:00.0000] <annevk>
did you see the link I gave?

[03:07:01.0000] <annevk>
it shows a simple example of invoking various functions based on the state

[03:07:02.0000] <Lachy>
the one about constants?

[03:07:03.0000] <annevk>
no, the one on diveintopython

[03:08:00.0000] <annevk>
so you don't need a long switch case statement

[03:08:01.0000] <Lachy>
oh, yes, but I didn't understand the syntax well enough at the time. I'll rearead it now that I have a better idea

[03:09:00.0000] <annevk>
"test %s" % foo

[03:09:01.0000] <annevk>
replaces the %s with whatever value foo might have

[03:09:02.0000] <annevk>
you can also have tuples there...

[03:09:03.0000] <annevk>
"%stest%s" % (foo, bar)

[03:10:00.0000] <Lachy>
yes, that's the section I've just been reading up on in the last half hour

[03:12:00.0000] <Lachy>
so, basically, in principle, it's like what I was doing with the associative array of functions, where I dynamically call it based on the value of a variable

[03:12:01.0000] <annevk>
"This character has no effect except to appease the markup gods. As this character is therefore just a symbol of faith, atheists should omit it."

[03:12:02.0000] <annevk>
lol

[03:13:00.0000] <annevk>
Lachy, yeah, although I suppose the states would have to be strings in order to get meaningfull function invocations

[03:14:00.0000] <Lachy>
yes, so we can most likely use that method for what we need

[03:14:01.0000] <mpt>
/me (n=mpt⊙1dtn) Quit ("This computer has gone to sleep")

[03:17:00.0000] <Lachy>
This looks like a very convenient way of declaring constants http://diveintopython.org/native_data_types/declaring_variables.html#odbchelper.multiassign.range

[03:28:00.0000] <annevk>
http://www-xray.ast.cam.ac.uk/~jgraham/html5/ has some code

[03:28:01.0000] <annevk>
that's cool

[03:28:02.0000] <annevk>
hsivonen, yeah, I know what browsers do when they encounter a doctype

[03:29:00.0000] <annevk>
hsivonen, in gecko you can see it in the dom viewer quite easily iirc

[03:29:01.0000] <annevk>
I suppose it's prolly better if Opera throws for the entity &test; so we can remove some DOM Core features

[03:30:00.0000] <annevk>
BTW, regarding the XOM/DOM thing

[03:30:01.0000] <annevk>
I think we should whatever makes most sense for Python

[03:31:00.0000] <Lachy>
yes

[03:33:00.0000] <hsivonen>
annevk: that would most likely be ElementTree

[03:34:00.0000] <hsivonen>
disclaimers about my lack of experience apply

[03:34:01.0000] <hsivonen>
Kid templating uses ElementTree

[03:35:00.0000] <annevk>
yeah, perhaps

[03:35:01.0000] <ROBOd>
good eday to all!

[03:35:02.0000] <ROBOd>
i see that Hixie accepted Sam's proposal. well done

[03:35:03.0000] <hsivonen>
ROBOd: gday

[03:35:04.0000] <annevk>
Hixie just has a lack of faith

[03:36:00.0000] <ROBOd>
annevk: what do you mean? why lack of faith?

[03:36:01.0000] <annevk>
hsivonen, ElementTree doesn't have support namespaces ?!

[03:37:00.0000] <hsivonen>
annevk: really? not good!

[03:37:01.0000] <annevk>
/me reads http://effbot.org/zone/element.htm

[03:37:02.0000] <ROBOd>
i was just reading now http://blog.whatwg.org/html-vs-xhtml < this should be "featured" in the FAQ - it's important reading for everyone interested of HTML5

[03:38:00.0000] <Lachy>
yes, it will be eventually. I'll just add a link to it for now

[03:39:00.0000] <hsivonen>
annevk: I believe ElementTree handles namespaces the RDF way

[03:39:01.0000] <ROBOd>
Lachy: very good article

[03:39:02.0000] <hsivonen>
that is nsuri#localName in one string

[03:39:03.0000] <Lachy>
thanks :-) (though hsivonen deserves some credit too)

[03:40:00.0000] <annevk>
hsivonen, that's not really acceptable

[03:40:01.0000] <hsivonen>
annevk: why not?

[03:40:02.0000] <annevk>
i don't like that

[03:40:03.0000] <Lachy>
what's the RDF way?

[03:41:00.0000] <annevk>
it requires knowledge of the namespaces that are available

[03:41:01.0000] <hsivonen>
annevk: because you hate RDF? It is easier than passing around (nsuri, localName)

[03:41:02.0000] <hsivonen>
annevk: huh?

[03:41:03.0000] <hsivonen>
how do you mean available?

[03:41:04.0000] <annevk>
used

[03:42:00.0000] <hsivonen>
I don't follew

[03:42:01.0000] <hsivonen>
follow

[03:42:02.0000] <annevk>
http://example.org/#foo

[03:42:03.0000] <annevk>
http://example.org/##foo

[03:43:00.0000] <annevk>
and it requires additional functions to get the localname or namespace

[03:43:01.0000] <hsivonen>
annevk: why don't you dispatch on the full name?

[03:43:02.0000] <annevk>
anyway, It's prolly not really worth it to discuss this now

[03:45:00.0000] <annevk>
it also seems you can't use it for XML then since it doesn't support qnames

[03:45:01.0000] <annevk>
and adding those would not make it look pretty

[03:45:02.0000] <hsivonen>
annevk: if you need to know the qName, you have a bug

[03:45:03.0000] <annevk>
XPath?

[03:46:00.0000] <hsivonen>
XPath matches on the uri, localName pair, I believe

[03:46:01.0000] <Charl>
/me (n=charlvn⊙cwicz) Quit (Client Quit)

[03:46:02.0000] <annevk>
XPath uses qnames...

[03:46:03.0000] <Lachy>
you only need to know the qname when serialising as XML, but when reserialising from HTML, there won't be any prefixes

[03:46:04.0000] <annevk>
sure

[03:47:00.0000] <hsivonen>
annevk: I use different qNames in XPath and in the documents that I match. matching happens on nsuri, localName

[03:48:00.0000] <annevk>
there has to be a reason c14n can't normalize to something without changing the qnames

[03:49:00.0000] <hsivonen>
without?

[03:49:01.0000] <annevk>
http://www.snellspace.com/wp/?p=546#comment-4751

[03:49:02.0000] <webben>
amara and 4suite support namespaces

[03:49:03.0000] <annevk>
hsivonen, yes

[03:49:04.0000] <webben>
(and just because I'm too stupid to get them to work doesn't mean you guys won't be able to :) )

[03:49:05.0000] <annevk>
euh, no

[03:49:06.0000] <annevk>
/me is confused now

[03:50:00.0000] <hsivonen>
annevk: I don't see the relevance of the URL

[03:50:01.0000] <annevk>
did I mention already this shouldn't be discussed now?

[03:50:02.0000] <hsivonen>
fine

[03:50:03.0000] <annevk>
hsivonen, that URL is totally unrelated

[03:50:04.0000] <annevk>
it mentions that Wordpress is borked

[03:50:05.0000] <annevk>
comment 1

[03:50:06.0000] <hsivonen>
not news :-)

[03:50:07.0000] <webben>
dog bites man

[03:51:00.0000] <annevk>
hmm, that's a show in the Netherlands...

[03:51:01.0000] <annevk>
actually

[03:51:02.0000] <annevk>
the show is called man bites dog

[03:51:03.0000] <annevk>
nm me

[03:53:00.0000] <annevk>
/me goes to fetch some lunch

[03:54:00.0000] <webben>
/me (n=benjamin⊙9822) Quit ("Leaving")

[04:23:00.0000] <Kanashii>
/me (n=Kanashii⊙plbion) Quit ()

[04:27:00.0000] <annevk>
so the tokenizer http://www-xray.ast.cam.ac.uk/~jgraham/html5/tokeniser.py from jgraham uses the classes construct I proposed earlier. but we figured out that it would never work because the parser and tokenizer need to be integrated

[04:27:01.0000] <annevk>
I suppose one could be a subclass of the other, but I'm not sure if that's worth it

[04:38:00.0000] <Lachy>
you mean the tokeniser and tree builder need to be integrated?

[04:39:00.0000] <Lachy>
we only need them to be integrated in a way that allows the tree builder to update the content model flag, I think

[04:40:00.0000] <annevk>
also for things like document.write I suppose

[04:40:01.0000] <annevk>
if ever

[04:40:02.0000] <Lachy>
I had a thought about that, but haven't investigated it yet, but when we call e.g. tree.startElement(), we could have the return value indicate the content model flag. Not sure if that would work or not

[04:40:03.0000] <Lachy>
we're not writing a scripting engine yet, we don't need to worry about doc.write()

[04:40:04.0000] <annevk>
we should at least take innerHTML into account

[04:41:00.0000] <annevk>
that's used for some conformance criteria even

[04:41:01.0000] <annevk>
and it's a nice way to provide serialized versions of the document

[04:44:00.0000] <Lachy>
to support document.write(), we need to allow a scripting engine to inject markup back into the stream.

[04:44:01.0000] <Lachy>
innerHTML is different though

[04:47:00.0000] <Lachy>
/me looks up innerHTML to see what it would take to support it

[04:49:00.0000] <hsivonen>
annevk: do you mean you want to allow Python apps to call innerHTML on your tree?

[04:49:01.0000] <annevk>
yes

[04:49:02.0000] <annevk>
either on a document node or element node

[04:50:00.0000] <annevk>
there needs to be a way to go from the tree to a string again

[04:52:00.0000] <hsivonen>
annevk: shouldn't you use a full-document serializer for that?

[04:52:01.0000] <Lachy>
yes, we should

[04:53:00.0000] <Lachy>
innerHTML would be nice, but we don't need to worry about it until we start implementing the DOM API. The tokeniser will work with innerHTML similar to the way it parses anything else (except for a few special things, like setting the content model flag)

[04:53:01.0000] <Lachy>
that's for setting innerHTML, btw

[04:55:00.0000] <Lachy>
on getting, we'd need to have a serialiser that it can make use of

[04:55:01.0000] <annevk>
hsivonen, as long as it's compatible with innerHTML... sure

[04:55:02.0000] <annevk>
innerHTML is the serializer we need

[04:55:03.0000] <annevk>
I'm not sure why anything else would be relevant, but perhaps I'm just misunderstanding what you guys are suggesting

[04:55:04.0000] <Lachy>
innerHTML is just an API that accesses the serialiser

[04:58:00.0000] <hsivonen>
perhaps Hixie already specced innerHTML on the document node to do what I want a full-doc serializer to do

[04:58:01.0000] <annevk>
I think so

[04:59:00.0000] <annevk>
otherwise my suggestion wouldn't make sense

[05:00:00.0000] <Lachy>
annevk, see http://www.xom.nu/apidocs/nu/xom/canonical/Canonicalizer.html

[05:00:01.0000] <Lachy>
the write() method gets passed a Node, which then serialises that node

[05:01:00.0000] <Lachy>
innerHTML just access such an API by passing it a reference to the node upon which it was invoked

[05:02:00.0000] <Lachy>
in XOM, the Document is a Node as well, so the write() function accepts either elements or Document

[05:08:00.0000] <annevk>
fair enough, Node.innerHTML

[05:10:00.0000] <annevk>
WhatBot, pointer?

[05:10:01.0000] <annevk>
WhatBot, help

[05:11:00.0000] <annevk>
WhatBot, you're not silly at all!

[05:15:00.0000] <Kanashii>
/me (n=Kanashii⊙plbion) Quit ()

[05:25:00.0000] <Lachy>
annevk, http://lachy.id.au/temp/HTMLReader.py

[05:26:00.0000] <annevk>
I think you want the states as strings...

[05:26:01.0000] <Lachy>
there are some nice features in jgraham's parser that we should copy across, though all the DOM stuff in his parser.py shouldn't be in the parser

[05:27:00.0000] <annevk>
jgraham has things like "DATA":self.dataState

[05:27:01.0000] <Lachy>
yeah, we probably do, although I like what jgraham did in tokeniser.py with the states dictionary

[05:27:02.0000] <annevk>
I couldn't get that to work

[05:27:03.0000] <annevk>
though

[05:27:04.0000] <annevk>
it says that self is not defined

[05:27:05.0000] <annevk>
perhaps it should happen when you initialize the object

[05:28:00.0000] <Lachy>
is self equivalent to this in other languages?

[05:28:01.0000] <annevk>
yup

[05:28:02.0000] <annevk>
that works

[05:29:00.0000] <annevk>
Lachy, please join #whatwg-paste

[05:36:00.0000] <annevk>
Lachy, so what does XMLReader do?

[05:36:01.0000] <annevk>
Lachy, does it output a tree or just startDocument etc. ?

[05:40:00.0000] <Lachy>
when you create an XMLReader, you need to set various handlers. e.g. setContentHandler(handler)

[05:41:00.0000] <Lachy>
The content handler needs to implement this interface http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html

[05:41:01.0000] <Lachy>
as the XMLReader parses the document, it emits events by calling contentHandler.xxx(), where xxx is the appropriate method.

[05:42:00.0000] <Lachy>
it calls contentHandler.startDocument() first, then contentHandler.startElement(...) for every start tag, etc.

[05:43:00.0000] <annevk>
kk

[05:43:01.0000] <annevk>
I like the idea of having HTMLParser on top of HTMLReader and try to work with callback functions if that's feasible

[05:45:00.0000] <Lachy>
I don't understand what you mean. HTMLParser and HTMLReader are just different names for the tokeniser, aren't they?

[05:45:01.0000] <annevk>
the former would do tree construction and use HTMLReader as baseclass

[05:49:00.0000] <Lachy>
http://lachy.id.au/temp/source/ specifically, see parse.php and XMLParser.php

[05:50:00.0000] <hsivonen>
http://hsivonen.iki.fi/code/api/fi/iki/hsivonen/xml/checker/table/package-summary.html

[05:50:01.0000] <hsivonen>
in case anyone is interested in taking a look at the table integrity checker internal

[05:51:00.0000] <hsivonen>
s

[05:51:01.0000] <hsivonen>
the javadoc links to HTMLified source

[05:53:00.0000] <jgraham_>
So, according to thee logs, Anne said <annevk> so the tokenizer http://www-xray.ast.cam.ac.uk/~jgraham/html5/tokeniser.py from jgraham uses the classes construct I proposed earlier. but we figured out that it would never work because the parser and tokenizer need to be integrated

[05:54:00.0000] <jgraham_>
Is it not enough just to have the parser hold a ref to the tokeniser so it can adjust its state? Does it need to do more than change the content model flag?

[05:55:00.0000] <jgraham_>
(Oh and I know the DOM stuff needs to be (re)moved, that was just a really basic tree implementation to get me going). I was wondering about using elementtree

[05:56:00.0000] <Lachy>
jgraham, I don't understand why you have classes for each token. Do you create a token object for each one and emit that?

[05:56:01.0000] <annevk>
jgraham, well yeah, but then you don't need classes for tokens anymore

[05:56:02.0000] <annevk>
jgraham_, you construct the "DOM stuff" right away

[05:57:00.0000] <jgraham_>
Yeah. One class per token type. It just seemed conceptually simple.

[05:57:01.0000] <annevk>
but those token types don't survive for a second... :)

[05:58:00.0000] <Lachy>
ok. looking back at the JS implmentation I started a few months ago, it looks similar to what I was trying to do as well. But I prefer to just use SAX-like events instead of creating a token object

[05:59:00.0000] <jgraham_>
Maybe I haven't read the spec closely enough... why do they need to survive? Or are you just worried that it means creating and destroying a lot of objects?

[06:00:00.0000] <Lachy>
well, yeah, sort of. It just seems unnecessary to create, say, a StartTag token, when you can just call handler.startElement(...)

[06:03:00.0000] <jgraham_>
Well sometimes you need to keep tokens around for a little while (e.g. when you want to reprocess the current token). Also, the tokeniser seems to create a stack of tokens in some instances...

[06:03:01.0000] <jgraham_>
/me hasn't looked at the tokeniser for a little while

[06:05:00.0000] <Lachy>
neither have I, I need to reread that part of the spec and also improve my knowledge of python

[06:09:00.0000] <jgraham_>
I think elementtree output would be nice but it's pretty different from the standard DOM

[06:11:00.0000] <jgraham_>
apart from the think where namespaces are stored as "{nsURI}localName", you'd have to deal with the different way of storing text

[06:12:00.0000] <jgraham_>
e.g. <span>foo <em>bar</em> baz</span> has " baz" in the tail attribute of the em element...

[06:12:01.0000] <annevk>
?

[06:14:00.0000] <annevk>
oh, they store text that way?

[06:15:00.0000] <annevk>
that sounds rather bad

[06:15:01.0000] <jgraham_>
iir correctly the sample above has Span.text="foo " Em.text="bar" Em.tail=" baz" - tail holds all the text after the element closes but before the next sibling opens or parent closes

[06:15:02.0000] <Lachy>
jgraham, wow. that's really bad

[06:16:00.0000] <jgraham_>
It often works quite well, actually. But less so for prose-orientated documents

[06:16:01.0000] <Lachy>
well, unless .tail is just the equivalent of .nextSibling in the DOM

[06:16:02.0000] <Lachy>
does the parent element still have refences to all of its child nodes?

[06:17:00.0000] <jgraham_>
I don't think it really considers text as nodes in the tree, just attributes of elements

[06:17:01.0000] <jgraham_>
or attributes of nodes, if you like

[06:17:02.0000] <Lachy>
oh, that's crap

[06:18:00.0000] <jgraham_>
Well like I sid, it works really nicely in python in practice, but it's not trivial to map onto the DOM model

[06:25:00.0000] <jgraham_>
annevk: the reason that you couldn't get the "DATA":self.dataState thing to work is because it doesn't. I don't quite know what I had in my head (I've been using this pattern quite a bit in the code).

[06:25:01.0000] <jgraham_>
I'm pretty sure I can fix it up so it does work though :)

[06:28:00.0000] <annevk>
jgraham_, I made it work...

[06:28:01.0000] <annevk>
jgraham_, put the states in __init__

[06:29:00.0000] <jgraham_>
Yeah, I that will work, obviously. I had it in my head you could avoid that somehow though. Maybe I'm imagining things ;)

[07:08:00.0000] <Charl>
/me (n=charlvn⊙nmcz) Quit ()

[07:25:00.0000] <jgraham_>
/me (n=jgraham⊙xacau) Quit ("Leaving")

[07:29:00.0000] <Lachy>
I've added a new question about treating HTML as XML to the FAQ

[07:29:01.0000] <Lachy>
http://blog.whatwg.org/faq/ (see the last question)

[07:30:00.0000] <Lachy>
any suggestions for improving it would be appreciated

[07:41:00.0000] <annevk>
do not

[07:42:00.0000] <Lachy>
annevk, do not what?

[07:42:01.0000] <annevk>
you forgot not in your last e-mail

[07:43:00.0000] <Lachy>
where abouts. Can you quote the sentence where I made the mistake?

[07:44:00.0000] <annevk>
not anymore

[07:44:01.0000] <Lachy>
/me is confused

[08:13:00.0000] <annevk>
Charl, cool bot

[08:13:01.0000] <annevk>
Lachy, I removed the e-mail

[08:14:00.0000] <Lachy>
what e-mail?

[08:14:01.0000] <annevk>
see above

[08:14:02.0000] <Lachy>
?

[08:14:03.0000] <annevk>
??

[08:15:00.0000] <annevk>
a: you forgot not in your last e-mail

[08:15:01.0000] <annevk>
l: where abouts. Can you quote the sentence where I made the mistake?

[08:15:02.0000] <annevk>
a: not anymore

[08:15:03.0000] <Lachy>
which e-mail are you referring to?

[08:15:04.0000] <Lachy>
yeah, I have no idea what you meant by that

[08:15:05.0000] <annevk>
I said not anymore because I removed the e-mail...

[08:15:06.0000] <Lachy>
from where?

[08:15:07.0000] <annevk>
inbox

[08:16:00.0000] <annevk>
dude!

[08:16:01.0000] <Lachy>
right, so one of the e-mails I setnt to whatwg?

[08:17:00.0000] <annevk>
the last one

[08:18:00.0000] <Lachy>
oh, I see "I really do [not] understand the desire to do so."

[08:22:00.0000] <Charl>
annevk: thanks, i think whatbot is doing well for its first day :) (sorry for slow reply, hacking code..)

[08:34:00.0000] <Hixie>
for those of you writing a tokeniser in python, my guess would be that the easiet implementation would use "yield"

[08:34:01.0000] <Hixie>
since then you never have to unwind the tokeniser stack

[08:35:00.0000] <Lachy>
wjat

[08:35:01.0000] <Lachy>
what's yeild

[08:36:00.0000] <Lachy>
do you mean this http://docs.python.org/ref/yield.html

[08:37:00.0000] <Hixie>
yes

[08:39:00.0000] <annevk>
yeah, I suppose that makes sense

[08:40:00.0000] <Hixie>
though fwiw, i don't think my tokeniser ever has to emit more than two tokens at once, so i just have two tokens, "current" and "next"

[08:42:00.0000] <Lachy>
I'm trying to find an example that shows how to use it, and which explains it more clearly than that documentation

[08:44:00.0000] <ROBOd>
/me (n=robod⊙8321) Quit ("http://www.robodesign.ro")

[08:45:00.0000] <annevk>
surch for generators and python

[08:45:01.0000] <annevk>
or something

[08:47:00.0000] <annevk>
/me has to go change for the Opera Christmas party

[08:48:00.0000] <annevk>
/me is prolly online again tomorrow

[08:48:01.0000] <Lachy>
ok, I've found an example and sort of understand it now

[08:50:00.0000] <Lachy>
so would we use that to iterate through each character in the file stream? or something else?

[09:01:00.0000] <Lachy>
Hixie, could you perhaps add a note to the spec in the start tag syntax section pointing out the use of the trailing slash does not permit the use of an XML parser to parse and HTML document and link to the parsing section where it defines that?

[09:02:00.0000] <Hixie>
nah

[09:03:00.0000] <Hixie>
i don't think that would help anyone

[09:03:01.0000] <Lachy>
ok, it's just that all these people with the idea that they can do so is just irritating

[09:03:02.0000] <Hixie>
for someone to be reading that part of the spec, they have to either have read the relevant part that says it's not XML, or they'll miss the note in the same way

[09:03:03.0000] <Hixie>
yeah, i agree

[09:08:00.0000] <raspberry-lemon>
why was the trailing slash thing added?

[09:09:00.0000] <Hixie>
to make it easier for authors to migrate from XHTML

[09:09:01.0000] <raspberry-lemon>
ah

[09:09:02.0000] <Hixie>
and because trailing slashes have this "designer label" quality these days

[09:09:03.0000] <Hixie>
basically

[09:09:04.0000] <raspberry-lemon>
yeah

[09:10:00.0000] <Hixie>
Lachy: i updated the spec's way of having spaces in start attributes. it's not what you proposed, but i think it's ok. (basically i added more steps and modified the attribute syntax section)

[09:12:00.0000] <Lachy>
I think the discussion on the list is showing that people going to consider it an Appendix-C-like extension designed as a means to help them continue migrating from HTML to XHTML, rather than from XHTML1 to HTML5

[09:12:01.0000] <Hixie>
possible

[09:12:02.0000] <Hixie>
they'll be sadly mistaken :-)

[09:13:00.0000] <Lachy>
I'm writing an FAQ entry for it now. I'll include those reason in it.

[09:13:01.0000] <Hixie>
cool

[09:13:02.0000] <Hixie>
Charl: yt?

[09:14:00.0000] <Charl>
Hixie: hi am here now

[09:14:01.0000] <Hixie>
Charl: hey dude

[09:14:02.0000] <Hixie>
so i was thinking about the status thing

[09:14:03.0000] <Charl>
yeah, let's get that going

[09:14:04.0000] <Hixie>
i think it would make sense to also have the "SCS" flags as part of it

[09:15:00.0000] <Hixie>
to mark which sections are "self-contained"

[09:15:01.0000] <Hixie>
so that they can be implemented separately

[09:15:02.0000] <Hixie>
that way i can remove the SCS stuff from the spec :-)

[09:15:03.0000] <Charl>
ah, that sounds interesting

[09:15:04.0000] <gsnedders>
Lachy: I'll send you an update to that PCRE, as I realised several bugs in it a day or two ago

[09:16:00.0000] <Lachy>
don't worry about it

[09:16:01.0000] <Lachy>
we're not going to implement it

[09:16:02.0000] <Charl>
Hixie: since that's already there, i think i should start by getting the script to be able to insert those

[09:17:00.0000] <Charl>
Hixie: am going to be offline during the weekend unfortunately - is it ok if i speak to you about that on Monday?

[09:17:01.0000] <Lachy>
Once hsivonen updates the validator so the trailing slash isn't flagged as an error, I'll just remove the script and accept that WP is a broken CMS

[09:18:00.0000] <Hixie>
Charl: sure thing dude.

[09:18:01.0000] <Hixie>
Charl: there's no rush really.

[09:19:00.0000] <Hixie>
Charl: though it would be nice to have it up and running by the end of the year, since i expect the w3c to start moving faster in january

[09:19:01.0000] <Charl>
Hixie: cool, we'll get it sorted long before then :)

[09:19:02.0000] <Hixie>
:-)

[09:19:03.0000] <Lachy>
Hixie, has any progress been made on the charter since that first draft?

[09:20:00.0000] <Hixie>
Lachy: i've been told so, but i haven't seen it or heard anything but rumours

[09:20:01.0000] <Lachy>
ok.

[09:20:02.0000] <Hixie>
Lachy: i highly doubt the progress will be enough to make the whatwg move lock-stock-and-barrel to w3c

[09:20:03.0000] <Hixie>
basically i intend to continue the whatwg work unless the w3c provides a community environment as open as the whatwg

[09:21:00.0000] <Hixie>
which i don't see happening, they just don't understand openness, sadly

[09:21:01.0000] <Lachy>
ok, good

[09:21:02.0000] <Lachy>
well, good that you'll continue, bad that they don't understand opennes :-(

[09:21:03.0000] <Hixie>
yeah

[09:22:00.0000] <Lachy>
I think the start tag syntax still needs to be made a little clearer

[09:22:01.0000] <webben>
Presumably it doesn't need to be a total dichotomy.

[09:22:02.0000] <webben>
That is the W3C actually has submissions from outside all the time.

[09:23:00.0000] <Hixie>
webben: oh i'll be in their htmlwg either way

[09:23:01.0000] <webben>
All the W3C really needs to do is not try and reinvent Web Forms 2.0 with yet-another-intermediate technology.

[09:23:02.0000] <Hixie>
or not change wf2 in stupid ways

[09:23:03.0000] <webben>
And all WHATWG really needs to do is not to let too big a gap grow between XHTML 5 and the rest of the XML world.

[09:23:04.0000] <Lachy>
Perhaps you could add something to setp 5 that explicitly refers the additional requirements for unquoted attribute values and empty attributes

[09:24:00.0000] <webben>
There's no particular reasons why all specs should be developed in-house as it were

[09:24:01.0000] <Hixie>
webben: we'll see

[09:25:00.0000] <Lachy>
if browser vendors just don't implement their corrupted version of WF2+XForms (if they go ahead with it), won't that just make it irrelevant like XHTML2?

[09:25:01.0000] <Hixie>
yup....

[09:26:00.0000] <Hixie>
Lachy: spec updated

[09:26:01.0000] <Lachy>
so does it really matter in the end, as long as it keeps the XForms people away from the real spec, they can play with their own version as much as they like

[09:27:00.0000] <Lachy>
that's good now :-)

[09:27:01.0000] <webben>
Of course it matters. Because that scenario would be a waste of the W3C's time.

[09:28:00.0000] <webben>
(which, given they're slow, short of staff, and short of money, is precious)

[09:28:01.0000] <webben>
Maybe what's really needed is a demonstration of alternate serialization to WF2 and XForms

[09:29:00.0000] <webben>
That would probably get IBM on board.

[09:29:01.0000] <webben>
(AFAICT they seem to be a key opponent of WF2 in its current form)

[09:29:02.0000] <webben>
Is such serialization currently possible, or would it be very difficult?

[09:30:00.0000] <Hixie>
IBM is a large company with many employees

[09:30:01.0000] <Hixie>
they don't always agree

[09:30:02.0000] <webben>
hmm... okay s/IBM/the IBM XForms guys/g

[09:34:00.0000] <Hixie>
heh

[09:35:00.0000] <Lachy>
"However, a start tag must never be omitted if it has any attributes." What if it has attributes, but which are explicitly set to the default values?

[09:35:01.0000] <Hixie>
then it has attributes, and mustn't be omitted

[09:36:00.0000] <Lachy>
oh, nevermind, I just realised that it does make a difference to the DOM if they're omitted

[09:36:01.0000] <Hixie>
what is WITH people and xmL:id

[09:37:00.0000] <Lachy>
/me looks for e-mail referring to xml:id...

[09:37:01.0000] <Hixie>
michel's recent one

[09:37:02.0000] <Hixie>
michel's a great guy btw

[09:37:03.0000] <Hixie>
been sending great feedback

[09:40:00.0000] <Lachy>
yeah, he's ok. he's not one of the "kooks" :-)

[09:42:00.0000] <hsivonen>
IIRC, anne likes xml:id. or at least used to like ;-)

[09:46:00.0000] <Lachy>
Hixie, xml:id is already mentioned in the spec

[09:47:00.0000] <Hixie>
crap

[09:48:00.0000] <Hixie>
better take that out

[09:48:01.0000] <Hixie>
:-)

[09:48:02.0000] <Lachy>
only twice, though

[09:48:03.0000] <Hixie>
oh it's just as parantheticals

[09:48:04.0000] <Hixie>
that's ok

[09:48:05.0000] <Hixie>
jesus, annevk needs to work on his tact

[09:49:00.0000] <Hixie>
"You're still not getting it, do you?" sounds like the kind of thing i would write when i was his age, which is why the w3c staff all hate me now. :-P

[09:51:00.0000] <Lachy>
heh

[09:54:00.0000] <hsivonen>
BTW, I think there's a right reason and a wrong reason for wanting the intersection of HTML5 and XHTML5 syntaxes not to be empty

[09:54:01.0000] <hsivonen>
the right reason is Sam's reason: being able to use one code path for *producing* both

[09:55:00.0000] <hsivonen>
the wrong reason is being supposedly able to use one code path for *consuming* both

[09:55:01.0000] <Hixie>
you can do sam's thing with just minor things in the header

[09:55:02.0000] <Hixie>
if you avoid troublesome things like xml:base, xml:lang/lang, <noscript>

[09:55:03.0000] <Hixie>
document.write

[09:56:00.0000] <Hixie>
.tagName

[09:56:01.0000] <Hixie>
etc

[09:56:02.0000] <Lachy>
the problem with that "right reason", though, is that has proven fatal with all the people failing to produce XHTML 1.0 properly as text/html.

[09:56:03.0000] <hsivonen>
like I said on the list, the problem with Sam's case is the "professional driver on closed road thing": those who imitate him can and will get confused and break stuff

[09:57:00.0000] <Hixie>
yup

[09:57:01.0000] <hsivonen>
s/ thing"/" thing/

[09:57:02.0000] <Lachy>
If people wish to use the one code path to develop both, they need to write in one syntax and use a program to serialise to the other

[09:57:03.0000] <Hixie>
yup

[09:57:04.0000] <Hixie>
i think we're close enough to allowing #1 to not need to go any further

[09:58:00.0000] <Lachy>
agreed

[09:58:01.0000] <Lachy>
the sooner we can get some tools made available that do actually transform one serialisation into the other, the sooner people might actually start to understand the whole concept

[10:10:00.0000] <webben>
Hixie, what is a "code path"?

[10:11:00.0000] <webben>
Hixie, is this a really complicated way of saying you need to be able to serialize both from the same source?

[10:12:00.0000] <webben>
or more than that...?

[10:14:00.0000] <Lachy>
webben, it's just a way of saying the way in which you write your code. So if you want to follow one code path to write both HTML and XHTML, they either have to be the same syntax or be easy to transform from one to the other.

[10:14:01.0000] <webben>
How many cases are there currently (if any) where XHTML5 can fully represent an idea that HTML5 cannot?

[10:15:00.0000] <webben>
(excluding pulling in stuff from other namespaces)

[10:15:01.0000] <Lachy>
<p><ul>...</ul></p> is one

[10:15:02.0000] <webben>
ah ... what about <p><blockquote>...</blockquote></p>?

[10:16:00.0000] <Lachy>
same for <ol>, and other structured inline-level elements

[10:16:01.0000] <Hixie>
a "code path" is a set of steps through some code. so e.g. the program: if (a) { doA(); } else { doB(); } has two codepaths, one for if a is true, and one for if it is false.

[10:16:02.0000] <Lachy>
http://whatwg.org/specs/web-apps/current-work/#structured

[10:17:00.0000] <Hixie>
/me wonders where he used the term "code path"

[10:17:01.0000] <webben>
/me doesn't quite understand. Surely you'd only ever want to produce XHTML5 /or/ HTML5 as one or another code path.

[10:17:02.0000] <webben>
e.g. if ancient user ancient, produce HTML5 and if new user agent produce XHTML5

[10:17:03.0000] <Hixie>
webben: some people want to send XHTML to mozilla and HTML to IE

[10:18:00.0000] <Hixie>
but they don't want to write their code twice

[10:18:01.0000] <rhymes>
/me (n=rhymes⊙h5rti) Quit ()

[10:18:02.0000] <Hixie>
they want to have most of the code be the same for both

[10:18:03.0000] <Hixie>
in totally unrelated news, why did PG&E (the electric company) just randomly give me $90 this month. wtf.

[10:18:04.0000] <webben>
heh count your blessings :)

[10:18:05.0000] <Hixie>
oh i'm not complaining

[10:19:00.0000] <Lachy>
PG&E?

[10:19:01.0000] <webben>
Could we counter the <p> problem by introducing an equivalent alternative e.g. <para> ?

[10:19:02.0000] <Lachy>
ah Pacific Gas and Electric

[10:19:03.0000] <Hixie>
problem?

[10:20:00.0000] <webben>
problem == something you can do in XHTML5 not HTML5 hence making more code paths

[10:20:01.0000] <Lachy>
no, that wouldn't work

[10:20:02.0000] <webben>
Lachy, why?

[10:20:03.0000] <Lachy>
it would be treated like any unknown element and isn't backwards compatible

[10:21:00.0000] <webben>
hmm ... how about a microformat class="para" applied to div ?

[10:21:01.0000] <Lachy>
and authors wouldn't use it

[10:21:02.0000] <Lachy>
no

[10:21:03.0000] <Lachy>
<p> is for paragraph

[10:21:04.0000] <Lachy>
not div or any other element

[10:21:05.0000] <webben>
but then paragraph means something different in XHTML5 from HTML5.

[10:21:06.0000] <webben>
paragraph in HTML5 actually means "block of text"

[10:22:00.0000] <webben>
(like in HTML4)

[10:22:01.0000] <Lachy>
no, it means the same thing. The difference is that, for backwards compat reasons, the HTML serialisation can't produce the same result as the XML serialisation in some cases

[10:22:02.0000] <webben>
So what would a CMS do then? Throw up an error?

[10:23:00.0000] <Lachy>
the same is true for <noscript> in the other direction. i.e. it can be represented in HTML, but not in XHTML

[10:23:01.0000] <Lachy>
an error for what?

[10:23:02.0000] <webben>
Lachy, yeah but <noscript> is semantically unimportant

[10:23:03.0000] <Hixie>
webben: it just means that for certain things, the CMS shouldn't allow it if it is ever going to serialise to HTML form

[10:23:04.0000] <webben>
Lachy, that's just code stuff ... no relation to real-world ideas like paragraphs

[10:26:00.0000] <webben>
<p>foo<blockquote><p>foo</p></blockquote></p> is okay in HTML5 isn't it?

[10:26:01.0000] <Lachy>
Hixie, in those cases, it just makes the HTML serialisation a slightly lower quality alternative than the original XML serialisation. A CMS shouldn't prevent it from occurring, though it may choose to warn the user

[10:27:00.0000] <Lachy>
s/user/author

[10:27:01.0000] <Hixie>
fair enough

[10:28:00.0000] <Hixie>
webben: yes

[10:30:00.0000] <webben>
but <p><blockquote><p>foo</p></blockquote></p> would be wrong ... is that right?

[10:30:01.0000] <Hixie>
no that's allowed too

[10:31:00.0000] <Hixie>
somewhat pointless, but allowed

[10:31:01.0000] <webben>
/me is now confused

[10:31:02.0000] <webben>
(again) ;)

[10:31:03.0000] <Hixie>
Lachy: pick a TBW section for me to work on next :-)

[10:31:04.0000] <webben>
what would I need to do to my blockquote example to break it?

[10:31:05.0000] <Hixie>
/me has run out of things on his 2006Q4 todo list for HTML5 :-/

[10:31:06.0000] <Hixie>
webben: something like:

[10:31:07.0000] <Hixie>
um

[10:32:00.0000] <Hixie>
<ol> <li> foo <blockquote> ... would be illegal

[10:32:01.0000] <Hixie>
<ol> <li> <p> foo </p> <blockquote> ... would be fine

[10:32:02.0000] <Hixie>
<ol> <li> <p> foo <blockquote> ... would be fine too

[10:32:03.0000] <Hixie>
no wait

[10:32:04.0000] <Hixie>
la la la

[10:32:05.0000] <Hixie>
that's all wrong

[10:32:06.0000] <Hixie>
try again

[10:33:00.0000] <webben>
isn't the first example legal even in HTML4?

[10:33:01.0000] <Hixie>
"<aside> foo <p>..." would be illegal

[10:33:02.0000] <Hixie>
not everything allowed by HTML4 is allowed in HTML5

[10:33:03.0000] <Hixie>
especially when it comes to elemenst that in HTML4 had the content model %flow

[10:33:04.0000] <Hixie>
html5 is "stricter"

[10:34:00.0000] <Lachy>
Hixie, how about either http://www.whatwg.org/specs/web-apps/current-work/#scripting0 or http://www.whatwg.org/specs/web-apps/current-work/#classes

[10:34:01.0000] <Hixie>
aw man, that's like the two hardest sections!

[10:34:02.0000] <Hixie>
ok

[10:35:00.0000] <Lachy>
I thought classes would be the easiest?

[10:35:01.0000] <Hixie>
not sure what classes has to say

[10:35:02.0000] <Hixie>
that's the problem :-)

[10:35:03.0000] <Lachy>
but I knew scripting would be hard, though

[10:35:04.0000] <Hixie>
i can't require a wiki entry for every class value

[10:35:05.0000] <Hixie>
that would be stupid

[10:35:06.0000] <Hixie>
given how often people invent new ones

[10:35:07.0000] <Hixie>
though it would be fun to try

[10:36:00.0000] <webben>
Hixie, you can have a big bold thing about using structural/semantic names

[10:36:01.0000] <webben>
and then recommend the wiki if you want anyone else to understand those names

[10:36:02.0000] <webben>
(and a long spiel about avoiding classes like "red" and "nav-left"

[10:36:03.0000] <Lachy>
I think one of the studies of just a few hundred pages that I read revealed something like 5000 class names, from memory. I can't remember which study that was

[10:37:00.0000] <Lachy>
maybe I'm exagerating that number a bit though

[10:37:01.0000] <webben>
Lachy, dreamweaver and friends inflate these things though

[10:37:02.0000] <Hixie>
Lachy: yeah my own study revealed six bazillion :-P

[10:37:03.0000] <webben>
and class="MSWordGarbarge679970"

[10:38:00.0000] <Lachy>
hahahaha!

[10:38:01.0000] <webben>
you'd expect the set to be large, if only because of multiple languages

[10:38:02.0000] <Lachy>
if you want something easiser, you could try image maps

[10:39:00.0000] <Hixie>
nono

[10:39:01.0000] <Hixie>
classes is fine

[10:39:02.0000] <Hixie>
just not sure what to say

[10:39:03.0000] <webben>
Hixie, you could make some recommendations about what make good classnames from a scripting/css perspective too

[10:39:04.0000] <Lachy>
oh, ok

[10:39:05.0000] <webben>
Hixie, you need to clarify what UAs should do with classes

[10:39:06.0000] <Hixie>
"nothing"

[10:39:07.0000] <Hixie>
that's already in the spec

[10:39:08.0000] <Hixie>
this section would be predefined class names

[10:39:09.0000] <webben>
Hixie, I've been having correspondence with someone subscribed to www-html who's convinced UAs should be reading them out or something

[10:39:10.0000] <Hixie>
like hCard's

[10:40:00.0000] <Hixie>
well there are weirdos everywhere

[10:40:01.0000] <Hixie>
especially www-html :-P

[10:40:02.0000] <webben>
Hixie, I think he simply didn't realize that screen readers do nothing of the sort.

[10:40:03.0000] <webben>
and misunderstood the stuff about semantic class names

[10:40:04.0000] <Lachy>
would it be out of scope for us to take the hCard and hCalendar specs and rewrite them with actual conformance and processing requriements?

[10:40:05.0000] <webben>
so I think there is room for being clear

[10:41:00.0000] <Hixie>
you don't think http://www.whatwg.org/specs/web-apps/current-work/#metadata is clear enough?

[10:41:01.0000] <Hixie>
Lachy: i intend to do so eventually if nobody else does... but i don't want to, i'd like microformats.org to do it

[10:42:00.0000] <Lachy>
I think you'll be waiting a while for that

[10:42:01.0000] <webben>
Hixie, no, not really.

[10:42:02.0000] <Hixie>
webben: hmm, ok

[10:42:03.0000] <Hixie>
right, gotta go. bbl.

[10:42:04.0000] <Lachy>
unfortunately, very few people heavily involved with microformats actually have any experience writing good specifications.

[10:42:05.0000] <webben>
Hixie, although it's close

[10:42:06.0000] <webben>
Hixie, maybe you should just expand that a bit and link to it from #classes

[10:43:00.0000] <webben>
Lachy, I think that would be a good idea.

[10:43:01.0000] <webben>
Lachy, if you look at what XHTML2 is doing, about the only roles I have much hope for are the ones they or WAI are actually including in the spec

[10:43:02.0000] <webben>
if you include hcard and hcalendar UAs will be much more likely to do something useful with them

[10:43:03.0000] <Lachy>
are you referring to the role attribute?

[10:44:00.0000] <webben>
Lachy, yes

[10:44:01.0000] <Lachy>
oh, no.

[10:44:02.0000] <Lachy>
the role attribute is useless

[10:44:03.0000] <webben>
Lachy, I'm not sure if you're agreeing or disagreeing with me.

[10:45:00.0000] <Lachy>
/me is rereading what you wrote...

[10:45:01.0000] <webben>
As it stands as a method of extension, role suffers the same defects as class pretty much.

[10:45:02.0000] <webben>
/me wrote a long whinge to www-html about how underspecified the whole structure is.

[10:45:03.0000] <webben>
Lachy, but Mozilla, Orca, Window-Eyes, etc are implementing the WAI stuff.

[10:46:00.0000] <webben>
actually I wrote two long whinges, but the first one didn't accomplish anything

[10:46:01.0000] <Lachy>
most of the roles they're specifying in the specs are already covered by either new elements, link relationships or other semantics already in HTML5

[10:47:00.0000] <webben>
Lachy, The contrast I was drawing was between stuff in the spec and stuff not in the spec. The first has much higher status.

[10:47:01.0000] <webben>
And that means more implementations, which in turn makes things more useful.

[10:47:02.0000] <Lachy>
what name do you use in your e-mails? I can't find any e-mails in my www-html archive from you

[10:47:03.0000] <webben>
sorry Benjamin Hawkes-Lewis

[10:47:04.0000] <webben>
bhawkeslewis at googlemail

[10:48:00.0000] <Lachy>
ah, yes, I have those

[10:48:01.0000] <webben>
might also be one from benjaminhawkeslewis at hotmail

[10:48:02.0000] <Lachy>
@googlemail.com

[10:48:03.0000] <webben>
that's the one

[10:48:04.0000] <Lachy>
is that like gmail?

[10:48:05.0000] <webben>
Lachy, it's what Google have to use in UK because of a trademark dispute

[10:48:06.0000] <webben>
if you send to bhawkeslewis at gmail.com that will reach me too

[10:49:00.0000] <Lachy>
tradmark with who?

[10:49:01.0000] <webben>
Lachy, some tiny company offering gmail ... hold on I'll dig the link

[10:49:02.0000] <webben>
Lachy, http://news.bbc.co.uk/1/hi/business/4354954.stm

[10:52:00.0000] <Lachy>
I got into a discussion about role on the w3c-wai-ig list a few weeks ago, and the conclusion I drew from that was that all the use cases and examples they have for role, with the exception of role="search" are already covered in HTML5

[10:52:01.0000] <Lachy>
and role=search could be addressed by an <input type="search"> value

[10:54:00.0000] <webben>
Lachy, Yeah. It's really with the extension methods I'm worried about. (Especially accessibility arising there from.)

[10:54:01.0000] <webben>
*accessibility issues

[10:54:02.0000] <webben>
I have the same reservations about microformats. (I still think they're a good idea. But they worry me.)

[10:56:00.0000] <webben>
/me headdesks as ffmpeg fails to build yet again.

[10:57:00.0000] <webben>
Role /really/ worries me though. As it's become a block to adding certain semantics, yet I can't see how those semantics are going to be accessible if extended via role.

[10:58:00.0000] <webben>
(It's the contrast between the "add spoiler as a role" attitude of the www-html list and the actual work going into DHTML accessibility at Mozilla that draws the starkest contrast for me.

[11:01:00.0000] <Lachy>
the problem with extending via role is that it's done using RDF. But, as far as implementations are concerned, they're still not going to be able to do anything useful with it based on that RDF, so the RDF is effectively useless

[11:02:00.0000] <Lachy>
plus there's the whole namespace issue as well

[11:06:00.0000] <Charl>
k i need to go now - have a good weekend all!!! :)

[11:06:01.0000] <Charl>
/me (n=Charl⊙1211) Quit ()

[11:07:00.0000] <webben>
Lachy, "as far as implementations are concerned, they're still not going to be able to do anything useful with it based on that RDF" ... that is /precisely/ the problem

[11:07:01.0000] <Lachy>
:-)

[11:08:00.0000] <webben>
unless they can come up with a XML description format capable of building interfaces or something it won't work

[11:08:01.0000] <webben>
but there doesn't seem to be any recognition of that

[11:09:00.0000] <webben>
(if they were sensible they might think about trying to adapt XUL or something I suppose.)

[11:09:01.0000] <webben>
but to work with clients varying from phones to emacs to ie

[11:09:02.0000] <webben>
it would probably need to be a higher-level description

[11:11:00.0000] <webben>
starting with some way of prioritising semantics

[11:16:00.0000] <Lachy>
/me finally finished getthing through all the whatwg mail

[11:21:00.0000] <ROBOd>
Lachy: i am also reading the whatwg emails myself ... and i just want to tell you about something you've said

[11:21:01.0000] <ROBOd>
"It would be theoretically possible [to parse HTML as XHTML], but totally impractical in the real world. You can do whatever you like in your own authoring environment where you have control over exactly what goes into your documents, but XML parsing for HTML on the web is totally impractical and I really do understand the desire to do so."

[11:22:00.0000] <ROBOd>
the sole purpose of me wanting to have the trailing slash of was for internal stuff

[11:23:00.0000] <ROBOd>
*not* to parse documents in the wild, on the web. in my case, it's all about internal processing on the server and validation

[11:24:00.0000] <ROBOd>
desiring to do XML parsing for HTML on the web is generally silly

[11:25:00.0000] <ROBOd>
unless two sites, for example, have precise rules over their own content - but that's completely out of reach for the spec

[11:28:00.0000] <webben>
ROBOd, but this is an exchange format

[11:28:01.0000] <Lachy>
ROBOd, but my main points are that a) The XHTML serialisation is defined for XML processing

[11:28:02.0000] <webben>
isn't XML better suited for behind-the-scenes processing anyhow?

[11:29:00.0000] <ROBOd>
webben: internally, i find it desirable to have the same code, to parse it all as XML, and to serialize it either as XHTML or HTML.

[11:29:01.0000] <ROBOd>
webben: exactly, all XML internally, and out ... whatever i want

[11:30:00.0000] <webben>
ROBOd, well people here are talking about building a working transformer

[11:30:01.0000] <Lachy>
b) what you do on your own system isn't really subject to interoperability contstraints and isn't really relevant and...

[11:30:02.0000] <webben>
I think that makes more sense than changing the spec /just/ for that

[11:30:03.0000] <ROBOd>
webben: i'm rather too busy to follow all of the discussion on this channel

[11:31:00.0000] <webben>
ROBOd, Sorry, that wasn't meant to be accusatory... just letting you know. :)

[11:31:01.0000] <ROBOd>
webben: oh, i know that wasn't accusatory. i was just letting you know ;). and thanks

[11:32:00.0000] <Lachy>
c) because of (a) there is no reason to do (b) anyway, and allowing it at all would be harmful on the web, just like allowing XHTML as text/html has been

[11:33:00.0000] <Lachy>
if that doesn't make sense, keep in mind that I'm getting quite tired :-)

[11:33:01.0000] <raspberry-lemon>
uh, which spec change are you all talking about?

[11:33:02.0000] <ROBOd>
Lachy: i don't think allowing XHTML as text/html has been very bad. 

[11:33:03.0000] <Lachy>
raspberry-lemon, the trailing slash one

[11:33:04.0000] <webben>
raspberry-lemon, the trailing slash /> in empty elements

[11:33:05.0000] <raspberry-lemon>
oh yeah

[11:34:00.0000] <raspberry-lemon>
/me is really happy about that

[11:34:01.0000] <webben>
ROBOd, that's because (as far as I can understand) you're using a "what-works" model of authoring.

[11:34:02.0000] <Lachy>
ROBOd, it's been proven harmful in the last few days. If people never served XHTML as text/html, we would have never even been having this discussion about introducing XML syntax into HTML, despite it being completely usless

[11:36:00.0000] <ROBOd>
webben: not sure what you define as "what-works". i use almost-valid HTML4 Strict (no presentational tags, of course, with CSS, non intrusive JS sometimes), with trailing slashes for void elements (hence almost-valid code)

[11:36:01.0000] <Lachy>
if if we didn't even allow the XML syntax, people wouldn't even be able to process HTML5 as XML at all (unless they don't use void elements)

[11:36:02.0000] <webben>
ROBOd, Well. If it's "almost-valid" it's non-standard. So presumably your test is "does it work for my purposes in my test cases".

[11:36:03.0000] <Lachy>
the more I think about it, the more I'm really startin to like the idea to change the doctype to prevent XML parsing of HTML5 all together

[11:36:04.0000] <ROBOd>
webben: that is not exactly "what works" IMHO, since "what works" are those table-CSS sites, invalid, with XHTML DTD, served as text/html

[11:37:00.0000] <raspberry-lemon>
Lachy: it's not just about parsing, though

[11:37:01.0000] <webben>
ROBOd, Those only work in a very restricted testing environment.

[11:37:02.0000] <Lachy>
raspberry-lemon, what else is it about?

[11:37:03.0000] <raspberry-lemon>
a *lot* of the tools written during the last couple of years add trailing slashes for void elements

[11:37:04.0000] <webben>
They're pretty horrendous to maintain, modify, and use with alternative UAs.

[11:38:00.0000] <webben>
raspberry-lemon, yeah ... but those are for generating a different markup format.

[11:38:01.0000] <ROBOd>
webben: "Those", which?

[11:38:02.0000] <webben>
ROBOd, sorry "those table-CSS..." 

[11:38:03.0000] <Lachy>
broken authoring tools can be fixed. They are not an excuse for introducing the syntax.

[11:39:00.0000] <ROBOd>
webben: oh ... well ... "those table-CSS" *do work* in todays modern UAs

[11:39:01.0000] <raspberry-lemon>
they won't be fixed, though

[11:39:02.0000] <Lachy>
a *lot* of tools add XHTML DOCTYPEs too, but that's not a major problem

[11:39:03.0000] <raspberry-lemon>
and people will be forced to use them for a long time

[11:39:04.0000] <webben>
ROBOd, Except they don't. Indeed, people need new tools just to get around the breakage. e.g. to linearize tables.

[11:40:00.0000] <ROBOd>
webben: they are patched sooo much until they work ... more or less ... as intended by the (confused) author

[11:40:01.0000] <webben>
ROBOd, As authors don't test with odd UAs or odd UA configurations, breakages are not notices and no fixes are made

[11:41:00.0000] <ROBOd>
webben: true

[11:41:01.0000] <Lachy>
raspberry-lemon, new tools are being developed to support HTML5 properly. There's already a validator well under development, I'm in the process of writing a CMS that will author in XHTML and serialise as HTML5, and plenty of parsers are being written

[11:42:00.0000] <ROBOd>
webben: nonetheless, it doesn't compare to what i do :P. i don't do ... patching ... i don't do guess work. except for the guess work I do with IE6+ CSS rendering

[11:42:01.0000] <webben>
ROBOd, I wasn't trying to say that your techniques were that intrinsically broken. (I wouldn't have allowed them the label "what works" if I thought that.)

[11:43:00.0000] <webben>
ROBOd, but I'd put all non-standards authoring in a different camp to standards-based authoring.

[11:43:01.0000] <webben>
non-standards authoring /can/ work in most cases ... can even be generally accessible ... I just think it's much more risky and fragile.

[11:44:00.0000] <ROBOd>
webben: my definition of "what works" is ... quite bad... "intrinsically broken"

[11:44:01.0000] <webben>
ah okay

[11:44:02.0000] <webben>
we're operating from slightly different definitions then :)

[11:44:03.0000] <ROBOd>
hehe

[11:45:00.0000] <ROBOd>
webben: what hsivonen has defined as bozos ... somehow is too general, IMHO

[11:45:01.0000] <webben>
ROBOd, I suppose what I would object to (however futilely) is your use of a doctype.

[11:45:02.0000] <ROBOd>
since he wants everyone to use a complete parser, serializer, server-side DOM for everything the web app outputs

[11:46:00.0000] <webben>
ROBOd, I think doctypes should really be approached as contracts rather than hacks to force one or another type of CSS rendering.

[11:46:01.0000] <webben>
ROBOd, ah ... I'd probably agree with him there.

[11:47:00.0000] <webben>
ROBOd, I think such systems would ultimately be better safeguards for content.

[11:47:01.0000] <ROBOd>
doing what hsivonen suggests is technically excellent, but cannot be expected to be done with small web apps, with small web sites, by beginners, or even by experts in small stuff

[11:47:02.0000] <webben>
ROBOd, Oh I think it can. But as with absolutely everything in this industry ... nobody's built the requisite tools

[11:48:00.0000] <ROBOd>
webben: i agree, they'd be ultimately better ... but doesn't that add lot of work? currently

[11:48:01.0000] <ROBOd>
specialised tools, libraries ... can make things much easier, but they are not yet available

[11:48:02.0000] <webben>
ROBOd, Yes. I don't mean to imply that I expect every webdev to invent this wheel by themselves.

[11:49:00.0000] <ROBOd>
and those who don't ... are not bozos :)

[11:49:01.0000] <webben>
(not least because I'd be guilty of patent hypocrisy)

[11:49:02.0000] <ROBOd>
some of them *are* bozos, but not all

[11:49:03.0000] <webben>
I just think that's what we need to be working towards collectively.

[11:49:04.0000] <ROBOd>
yes

[11:50:00.0000] <webben>
After all we already have tools and libraries that abstract away other (arguably more complex) spheres and make them appear simple

[11:50:01.0000] <ROBOd>
agreed

[11:51:00.0000] <webben>
The tragedy is the current set of tools borrowed the UI of word processors (which maps poorly to the web) but not their rigid approach to the document format.

[12:04:00.0000] <Lachy>
I can't belive what sam has just written here. :-( http://www.intertwingly.net/blog/2006/12/01/The-White-Pebble

[12:17:00.0000] <Hixie>
ok. change of policy. while i'm still going to reply to all the feedback sent to whatwg⊙wo, when people are just replying to other people and not making any actual suggestions, i'm not even going to pretend to intend to reply to them.

[12:17:01.0000] <webben>
argh "if documents bodies which were simultaneously both valid HTML5 and valid XHTML5"

[12:17:02.0000] <Lachy>
I thought you had that policy already

[12:18:00.0000] <Hixie>
yeah i guess i did

[12:24:00.0000] <Lachy>
Hixie, which browsers have trouble with a slash immediately following an empty attribute?

[12:24:01.0000] <Lachy>
if any?

[12:24:02.0000] <Hixie>
Lachy: oops, i was confused

[12:25:00.0000] <webben>
Is there any chance of getting back numbering attributes for lists?

[12:25:01.0000] <Hixie>
aren't they already there?

[12:26:00.0000] <Lachy>
which ones? start="" and value="" or type="a"?

[12:26:01.0000] <webben>
i was looking at 3.9.1 for ol

[12:26:02.0000] <webben>
all i see is start

[12:26:03.0000] <Lachy>
<li value="">

[12:26:04.0000] <webben>
i mean an attribute to specify decimal vs alphabetic vs roman whatever

[12:26:05.0000] <Lachy>
ah, the type attribute

[12:26:06.0000] <Hixie>
that's in CSS

[12:27:00.0000] <Lachy>
the only problem with having the number format in CSS is tha it makes it difficult to refer to an item by number.

[12:27:01.0000] <webben>
Exactly.

[12:27:02.0000] <webben>
Which breaks e.g. legal documents

[12:28:00.0000] <webben>
As i mentioned in my post to the list on annotations

[12:28:01.0000] <Lachy>
e.g. to say "see point 1.a. in the list"

[12:28:02.0000] <Lachy>
because, without stylesheets, that a. will default to decimal (or other browser config)

[12:28:03.0000] <webben>
Nothing terribly wrong with having CSS change these things ... but it should definitely be possible to be part of the markup semantics

[12:29:00.0000] <webben>
(same problem arises with notes)

[12:29:01.0000] <webben>
or indeed anything else you might want to count

[12:30:00.0000] <webben>
Lachy, is this "type" attribute in the HTML5 spec at all, or was that what it was called in old HTML?

[12:30:01.0000] <Lachy>
it was deprecated in HTML4 and it has not been added to HTML5

[12:31:00.0000] <webben>
I see.

[12:31:01.0000] <webben>
that's bad.

[12:32:00.0000] <Hixie>
eh

[12:32:01.0000] <Hixie>
there isn't that much need for it

[12:32:02.0000] <Hixie>
i agree there are edge cases like legal docs where it has arguably good use cases

[12:32:03.0000] <webben>
I fail to see how legal docs are an edge case. They do exist on most websites.

[12:33:00.0000] <Hixie>
yeah but nobody reads them

[12:33:01.0000] <Hixie>
so who cares :-)

[12:33:02.0000] <webben>
(i was about to admit that nobody reads them ;)

[12:33:03.0000] <Hixie>
and most legal documents you read don't actually refer to specific sections so much

[12:33:04.0000] <webben>
Hixie, eh? yes they do

[12:33:05.0000] <webben>
at least when i read statutes they do.

[12:33:06.0000] <Hixie>
not most legal docs

[12:33:07.0000] <Hixie>
statutes do, sure

[12:34:00.0000] <Hixie>
but those are the edge case

[12:34:01.0000] <Lachy>
but the way to make a reference in HTML is to use <a href="#section">

[12:34:02.0000] <Hixie>
yeah

[12:34:03.0000] <Hixie>
there needs to be better support for this

[12:34:04.0000] <Hixie>
but type="" isn't it, imho

[12:34:05.0000] <webben>
Lachy, yes but such documents have a deadtree serialization

[12:34:06.0000] <webben>
so do books with numbered sections ... etc etc

[12:34:07.0000] <Hixie>
css print should for sure support references for that

[12:35:00.0000] <webben>
But not everything uses CSS.

[12:35:01.0000] <webben>
so you end with a discrepancy.

[12:35:02.0000] <Lachy>
has there been any proposals to handle that use case in CSS?

[12:35:03.0000] <webben>
I don't see how CSS could handle it.

[12:35:04.0000] <webben>
Given that CSS is not an essential part of documents.

[12:36:00.0000] <Lachy>
CSS handles the number style, so it should also handle the reference style

[12:36:01.0000] <webben>
ah I see what you mean

[12:36:02.0000] <webben>
But it can't magically make all representations the same.

[12:37:00.0000] <Lachy>
not yet, but a solution might be found one day

[12:37:01.0000] <webben>
Or we could use something that's already implemented.

[12:38:00.0000] <webben>
Given the whole point of CSS is separation I don't see how such a solution would work.

[12:38:01.0000] <webben>
Because any solution would involve breaking that separation.

[12:39:00.0000] <webben>
Now one might, it's true, want to change how things are numbered universally. But I think that's a job for transformation tools. /Not/ CSS.

[12:40:00.0000] <webben>
fixing <ul><li>2.i And as specified in 4.1 [...] </li> [...] </ul> is going to be pretty messy

[12:40:01.0000] <Hixie>
<ul><li>2.i And as specified <a href="#4i">below</a> [...] </li> [...] </ul>

[12:40:02.0000] <Hixie>
...with generated content in CSS

[12:41:00.0000] <webben>
I still think that's the wrong solution :(.

[12:47:00.0000] <webben>
did anyone happen to have any thoughts on the feasibility of noteset ?

[12:47:01.0000] <webben>
I hadn't really been thinking in terms of backwards compatibility

[12:47:02.0000] <Lachy>
what's noteset?

[12:48:00.0000] <webben>
sorry, this was in my post on annotations

[12:48:01.0000] <Lachy>
I don't remember it, maybe it was one that I skipped

[12:48:02.0000] <webben>
it needs more refinement no doubt, i'm just wondering about the technical possibilities

[12:48:03.0000] <Hixie>
/me has been shunting all annotation discussion into a folder to be opened much later :-)

[12:49:00.0000] <Hixie>
i'm trying to get to feature freeze for HTML5 here :-P

[12:49:01.0000] <Hixie>
and people keep suggesting new things :-P

[12:49:02.0000] <webben>
Hixie, are you serious? I wasn't aware you were seeking a feature freeze

[12:49:03.0000] <webben>
http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2006-December/008190.html

[12:50:00.0000] <webben>
i suppose "Complex annotations" wasn't exactly a subject title likely to pull in the readers

[12:50:01.0000] <Lachy>
webben, we have to get to feature freeze somewhere, or it'll never get finished

[12:50:02.0000] <Hixie>
i'm trying to reach feature freeze by december 31st so that the spec can then be cleaned up and completed before the w3c can get their act together

[12:50:03.0000] <webben>
a fait accompli

[12:50:04.0000] <Hixie>
so that if they do end up screwing us over, we at least have one stable spec to hang our hats on

[12:50:05.0000] <webben>
why not just finish WF2 ?

[12:51:00.0000] <Hixie>
WF2 is part of HTML5

[12:51:01.0000] <webben>
rather than HTML5 as a whole

[12:51:02.0000] <Hixie>
and is basically done already

[12:51:03.0000] <webben>
oh, I thought the idea was to have WF2 first then WA1 later

[12:51:04.0000] <Hixie>
it is

[12:51:05.0000] <Hixie>
WF2 is done :-)

[12:51:06.0000] <Hixie>
it's already a W3C spec and everything

[12:51:07.0000] <Lachy>
When will WF2 be merged into the WA1 document?

[12:51:08.0000] <Hixie>
dunno

[12:51:09.0000] <Hixie>
depends what happens with wf2 at w3c

[12:52:00.0000] <Hixie>
probably in january

[12:52:01.0000] <Lachy>
ok

[12:52:02.0000] <Hixie>
but maybe on monday :-)

[12:52:03.0000] <webben>
it's still wd on the w3c site

[12:52:04.0000] <Lachy>
that's just going to make the whole spec twice as big as it currently is

[12:52:05.0000] <Hixie>
webben: yeah, it won't go any further for a while, w3c is slow.

[12:52:06.0000] <Hixie>
Lachy: yeah, tell me about it

[12:53:00.0000] <hsivonen>
ROBOd: I haven't defined anyone as a bozo. Tim Bray has. I provide advice on avoiding that label.

[12:53:01.0000] <webben>
heh

[12:53:02.0000] <Hixie>
hey hsivonen, what's the name of the relax ng syntax that isn't xml?

[12:54:00.0000] <hsivonen>
Hixie: RELAX NG Compact Syntax (.rnc)

[12:54:01.0000] <Hixie>
ta

[12:55:00.0000] <hsivonen>
ROBOd: http://hsivonen.iki.fi/validator/ does not have a server-side DOM. It has a SAX pipeline with XHTML internally and an HTML5 serializer at last opportunity

[12:55:01.0000] <hsivonen>
ROBOd: my advice says stack or a tree

[12:55:02.0000] <hsivonen>
ROBOd: and the runtime stack can be the stack

[12:58:00.0000] <webben>
I keep trying to do these things with XSLT. Maybe that's my problem.

[12:58:01.0000] <webben>
Maybe I should be trying to learn Sax instead.

[12:58:02.0000] <Hixie>
oh lordy

[12:59:00.0000] <Hixie>
to paraphrase someone whose name i forget: some people, when faced with a problem, think they'll use xslt. now they have two problems.

[12:59:01.0000] <Lachy>
:-D

[12:59:02.0000] <webben>
Well XSLT is horrible to begin with. What's worse is all the XSLT processors seem to apply the same instructions differently.

[13:00:00.0000] <Hixie>
(oh yes, that was jwz and regexps)

[13:00:01.0000] <Lachy>
is your problem with XSLT the fact that its incredibly complex, difficult to learn, difficult to use and just badly designed?

[13:00:02.0000] <Hixie>
yes

[13:00:03.0000] <Hixie>
oh sorry, was i supposed to pick just one?

[13:00:04.0000] <Lachy>
no, all of the above is fine

[13:01:00.0000] <Hixie>
tantek can criticise xslt much better than i can

[13:02:00.0000] <webben>
when you're trying to manipulate and output xslt, do folks find sax makes them happy? Or is just another form of hell?

[13:02:01.0000] <webben>
*xml not xslt

[13:03:00.0000] <webben>
how similar are the implementations for example

[13:03:01.0000] <Hixie>
never used sax myself

[13:03:02.0000] <Hixie>
then again, i've never output xml from anything but a tree

[13:03:03.0000] <Hixie>
as far as i recall

[13:03:04.0000] <Lachy>
I'm working with sax at the moment to implement in my CMS. I'm finding it very easy to work with

[13:03:05.0000] <hsivonen>
webben: some things are extremely easy in SAX and complicated with trees. some things are complicated in SAX and easy in trees

[13:04:00.0000] <tantek>
xslt has very poor performance characteristics for any realtime (read: human) applications

[13:04:01.0000] <webben>
What does it have /good/ performance characteristics for?

[13:05:00.0000] <tantek>
unknown

[13:05:01.0000] <Lachy>
when you want to transform some XML into another format, what tool do you recommend instead of XSLT?

[13:06:00.0000] <Hixie>
actually yeah, performance is the reason google stopped using xslt on at least one of our products

[13:06:01.0000] <hsivonen>
/me notes that http://hsivonen.iki.fi/validator/html5/ uses an XSLT engine behind the scenes for some stuff, but if it becomes a performance problem, it can be replaced with a hand-written SAX checker once the spec is stable

[13:08:00.0000] <webben>
/me seems to remember trying to implement a simple XSLT in Ruby and it taking like 4 seconds per request.

[13:08:01.0000] <webben>
can't remember which Ruby library I was using

[13:08:02.0000] <Hixie>
can someone think of any non-HTML-related examples of people using the wrong tool for a job?

[13:08:03.0000] <webben>
presumably one of the pretty but slow ones

[13:09:00.0000] <webben>
Hixie, do you mean w/in the field of programming or just generally in life?

[13:09:01.0000] <Hixie>
either

[13:09:02.0000] <hsivonen>
Hixie: just about any formal language wrangling by a person who has never heard of parser generators

[13:10:00.0000] <hsivonen>
(yeah, yeah, I have a hand-written parser, but I did analyze using Antlr, SableCC and JavaCC first)

[13:10:01.0000] <webben>
/me spent ages implementing a parser for the Accept header once, proved more complicated than I expected.

[13:11:00.0000] <webben>
Then I discovered a decent Ruby lexing tool ... but that was of course too poorly documented for a newbie like me to actually use

[13:12:00.0000] <webben>
somewhere around that point i gave up and went looking for a language with decent unicode support built in

[13:13:00.0000] <webben>
Wrong tools. I suppose politics furnishes /loads/ of examples. Unfortunately people are unlikely to agree on which ones are the examples.

[13:13:01.0000] <hsivonen>
Hixie: using Word for graphics

[13:13:02.0000] <webben>
ah yeah

[13:13:03.0000] <webben>
good example

[13:14:00.0000] <webben>
for most stuff ... paper forms in offices

[13:14:01.0000] <Lachy>
hsivonen, using Word. period. ;-)

[13:14:02.0000] <webben>
especially the ones where you employ teams of people to copy the paper forms onto broken database systems

[13:15:00.0000] <webben>
most office work is a case of the wrong tools actually

[13:16:00.0000] <webben>
because it all involves this doubling up of deadtree/software solutions which manages to rob both of their benefits

[13:16:01.0000] <Hixie>
hmm

[13:16:02.0000] <webben>
plus office politics is not exactly a productive force

[13:17:00.0000] <webben>
Excel for databases

[13:17:01.0000] <webben>
that's quite a common one

[13:17:02.0000] <Hixie>
your paper example made me think of people using books as paperweights

[13:17:03.0000] <Hixie>
which is the ideal example for my e-mail

[13:17:04.0000] <webben>
cool :)

[13:19:00.0000] <webben>
People watching sports on teletext.

[13:19:01.0000] <webben>
s/People/Brits/ s/sports/cricket/

[13:20:00.0000] <mpt>
/me (n=mpt⊙1dtn) Quit ("This computer has gone to sleep")

[13:34:00.0000] <Lachy>
/me doesn't understand the paper weights analogy in the e-mail

[13:35:00.0000] <webben>
HTML is not meant to be parsed as XML. Books are not meant to be used as paperweights.

[13:36:00.0000] <webben>
(main problem with this is that you should never parse XML as HTML, whereas one may use books as paperweights)

[13:36:01.0000] <webben>
but it's still funny

[13:36:02.0000] <Lachy>
It's this sentence that I have the most trouble with:

[13:36:03.0000] <Lachy>
What you are asking is equivalent to asking bookmakers to make their books heavier and less prone to opening in air currents, because then they would be better paperweights.

[13:37:00.0000] <Lachy>
specifically, the last bit

[13:37:01.0000] <webben>
Lachy, because if they open then they catch the air and get pulled away

[13:37:02.0000] <webben>
and hence cease to be effective paperweights

[13:39:00.0000] <Lachy>
but the first part says "... make their books heavier and less prone to opening..." and the second part says "... then they would need better paperweights" That just doesn't make sense to me

[13:39:01.0000] <webben>
eh?

[13:40:00.0000] <webben>
"because then they would be better paperweights" is the imputed reasoning behind asking bookmakers to ...

[13:40:01.0000] <webben>
where are you getting "need" from?

[13:40:02.0000] <Lachy>
if the books are heavier, then there is no need for paperwieghts

[13:40:03.0000] <Lachy>
maybe it's just the way it's been written, I just don't get it.

[13:40:04.0000] <webben>
Lachy, I think Hixie means books used to hold other papers down.

[13:41:00.0000] <Lachy>
oh, wait, I get it now!

[13:41:01.0000] <webben>
Lachy, if the books are heavier then they are worse books

[13:41:02.0000] <webben>
:)

[13:41:03.0000] <Lachy>
I've been misreading it all this time

[13:43:00.0000] <Kanashii>
/me (n=Kanashii⊙plbion) Quit (Client Quit)

[13:43:01.0000] <Lachy>
I misread it as "then they would NEED better paperweights", rather than "... BE better paperweights"

[13:44:00.0000] <webben>
ah

[13:50:00.0000] <Lachy>
added a new question about trailing slashes. (second last question) http://blog.whatwg.org/faq/

[14:04:00.0000] <hsivonen>
looks like Sam is interested in the parsing side after all

[14:06:00.0000] <raspberry-lemon>
Lachy: nice

[14:06:01.0000] <Lachy>
he seems to be interested in making XML usable as tag soup and tag soup usable as XML. It just doesn't make sense to me.

[14:08:00.0000] <raspberry-lemon>
as happy as i am about the /> syntax being allowed, i see the point about making sure people understand that it's not necessary, useful or even a good idea

[14:08:01.0000] <gsnedders>
just a quick question: "For a spec to become a REC, it requires two 100% complete and fully interoperable implementations" - does any implementation count, or only one that has a large user base?

[14:09:00.0000] <hsivonen>
gsnedders: any

[14:09:01.0000] <gsnedders>
hsivonen: right. thanks.

[14:10:00.0000] <Lachy>
the proposed charter for the new HTMLWG in the W3C said of at least 10% market share each, I think. I'm not sure how realistic that is, though.

[14:10:01.0000] <hsivonen>
gsnedders: assuming that it is shipping (not beta) and available to public to acquire a copy of

[14:10:02.0000] <Lachy>
http://www.w3.org/2006/11/HTML-WG-charter.html

[14:10:03.0000] <raspberry-lemon>
wow, i don't see that happening at all

[14:10:04.0000] <ROBOd>
/me (n=robod⊙8321) Quit ("good night all")

[14:11:00.0000] <Lachy>
perhaps, in 15 years time, when this is even close to becoming a rec, IE won't hold such a monopoly and the major browsers will have around 20% to 30% each

[14:13:00.0000] <hsivonen>
any public data on what opinion Howcome and Brendan have on the HTML WG charter?

[14:17:00.0000] <webben>
what defines the market

[14:17:01.0000] <webben>
e.g. maybe IE isn't in the market for XHTML5

[14:21:00.0000] <webben>
(just as it isn't in the market for TEI)

[14:21:01.0000] <raspberry-lemon>
what's TEI?

[14:22:00.0000] <Lachy>
webben, I think they would be. They're planning to implement XHTML in IE8 and, it's likely that they'll also follow Moz, Opera and Safari implementations

[14:22:01.0000] <Lachy>
TEI = Text Encoding Initiative

[14:22:02.0000] <raspberry-lemon>
ah :)

[14:22:03.0000] <Lachy>
it's an XML format, that's all I know.

[14:25:00.0000] <webben>
If we don't count /beta/ implementations, how can we count /planned/ implementations?

[14:29:00.0000] <Hixie>
"Does HTML allow the use of the empty element syntax from XML on void elements?" is not a frequently asked question. :-)

[14:29:01.0000] <webben>
heh

[14:29:02.0000] <Hixie>
"Is it <img/> or is it <img> that is right?" might be

[14:29:03.0000] <webben>
"Should I close empty elements with /> or > ?"

[14:30:00.0000] <Hixie>
or that, yeah

[14:30:01.0000] <Lachy>
that's a better way of asking it

[14:31:00.0000] <Lachy>
updated.

[14:32:00.0000] <Hixie>
i love how you're filling in the faq from the bottom up :-)

[14:33:00.0000] <Hixie>
in general you might want to consider how the faq sounds to newbies who have no idea what you're talking about

[14:33:01.0000] <Lachy>
I know, that's why I want feedback from more people

[14:33:02.0000] <Hixie>
e.g. "No, absolutely not." sounds a bit pompous to a newbie :-)

[14:33:03.0000] <Lachy>
ok

[14:34:00.0000] <Lachy>
I'm trying to answer the first question now, though

[14:34:01.0000] <Lachy>
What is the WHATWG and why did it form?

[14:34:02.0000] <Hixie>
hm

[14:34:03.0000] <Hixie>
tough one

[14:35:00.0000] <Hixie>
these days it's a community, i guess

[14:35:01.0000] <raspberry-lemon>
i mentioned whatwg and html in another channel and was met with "oh no not another bunch of w3 wannabes" :/

[14:35:02.0000] <raspberry-lemon>
s/html/html5

[14:35:03.0000] <Hixie>
and it formed when mozilla, opera, and apple got together after the web apps and compound documents workshop and said "what?!" to the response from the w3c

[14:36:00.0000] <Hixie>
raspberry-lemon: heh

[14:37:00.0000] <Hixie>
the w3c having said "XForms and XHTML2 are going to replace HTML4"

[14:37:01.0000] <Lachy>
newbies aren't going to know what the web apps and compound documents workshop is

[14:37:02.0000] <Hixie>
it formed "after a W3C Workshop in 2004"?

[14:37:03.0000] <Hixie>
you can then link that to the page for that workshop

[14:37:04.0000] <webben>
You could summarise the cause of the split

[14:38:00.0000] <webben>
-- need for backwards compatibility + namespaces + ??

[14:38:01.0000] <Hixie>
if i knew the cause of their madness...

[14:38:02.0000] <webben>
well from your POV obviously

[14:38:03.0000] <webben>
or maybe not present it as a split at all

[14:38:04.0000] <hsivonen>
http://ln.hixie.ch/?start=1086387609&count=1

[14:39:00.0000] <webben>
just emphasize that you're creating a spec with a given set of aims

[14:39:01.0000] <hsivonen>
http://www.w3.org/2004/04/webapps-cdf-ws/minutes-20040601.html

[14:39:02.0000] <hsivonen>
http://www.w3.org/2004/04/webapps-cdf-ws/minutes-20040602.html

[14:39:03.0000] <hsivonen>
(from the .bib for my thesis)

[14:40:00.0000] <webben>
hsivonen, you're writing a thesis about the split?

[14:40:01.0000] <Hixie>
that was a weird meeting

[14:40:02.0000] <Hixie>
Sun, Microsoft, Opera, and Mozilla were agreeing

[14:40:03.0000] <Hixie>
and everyone else was telling us we were on crack

[14:40:04.0000] <Hixie>
and we were all like "uh hello"

[14:40:05.0000] <hsivonen>
webben: no. about the conformance checking service. 

[14:40:06.0000] <hsivonen>
webben: but I am expected to explain the context of the work

[14:40:07.0000] <Hixie>
"it's SUN and MICROSOFT and MOZILLA and OPERA agreeing here. You cannot FIND four companies that are LESS LIKELY to agree with each other"

[14:41:00.0000] <Hixie>
"this should tell you something"

[14:41:01.0000] <hsivonen>
webben: that is, what and why this HTML5 thing is

[14:43:00.0000] <Hixie>
my favourite part of that meeting, though, was when someone said "But we all agreed that HTML was dead back at the Future of HTML meeting in 1998!"

[14:43:01.0000] <Hixie>
and I replied "well I can't speak to that, I was still in high school in 1998"

[14:47:00.0000] <Hixie>
well Lachy, i'm afraid that my solution to the "Classes" section was to drop the section for now.

[14:48:00.0000] <Lachy>
ok

[14:48:01.0000] <Hixie>
we really just need to drop profile=""

[14:48:02.0000] <Lachy>
yes, agreed

[14:48:03.0000] <webben>
Why?

[14:48:04.0000] <Hixie>
and switch to first-come-first-served class semantics registration on the wiki

[14:48:05.0000] <Lachy>
because no-one uses it

[14:48:06.0000] <webben>
dc metadata

[14:48:07.0000] <webben>
lots of people use dc

[14:48:08.0000] <Hixie>
most people using dc metadata do not give the profile="" attribute (I checked)

[14:48:09.0000] <hsivonen>
webben: in theory. not as practiced

[14:48:10.0000] <Lachy>
no-one uses it for any real purpose

[14:48:11.0000] <webben>
is dc on the wiki?

[14:48:12.0000] <webben>
if not, it needs to be

[14:48:13.0000] <Lachy>
why?

[14:49:00.0000] <Lachy>
what tools actually do anything useful with such metadata?

[14:49:01.0000] <Hixie>
classes aren't yet in the wiki :_)

[14:49:02.0000] <Lachy>
why should authors bother with it?

[14:49:03.0000] <Hixie>
when they are, i'm sure dc people will register the dc types

[14:49:04.0000] <hsivonen>
Lachy: shh. inconvenient question. :-)

[14:50:00.0000] <Hixie>
hah

[14:50:01.0000] <webben>
Lachy, There are tools for such metadata. There's an extension for Firefox.

[14:50:02.0000] <webben>
(whether it checks profile or not I have no idea)

[14:50:03.0000] <Hixie>
heh, the defined-classes section was dropped in rev 404

[14:50:04.0000] <webben>
it's the same with microformats

[14:50:05.0000] <Lachy>
I really don't understand dc. I leared about it back in school and again in uni, but have yet to find anything that it's actually useful for

[14:50:06.0000] <webben>
Lachy, Are you a librarian?

[14:50:07.0000] <Lachy>
no

[14:50:08.0000] <Lachy>
do librarians actually use it?

[14:51:00.0000] <Hixie>
surprisingly many people actually specify DC data

[14:51:01.0000] <Hixie>
dunno if anyone makes use of it

[14:51:02.0000] <gsnedders>
/me cuts in� DC meaning Dublin Core?

[14:52:00.0000] <webben>
gsnedders, yep

[14:52:01.0000] <webben>
http://dublincore.org/ ... look at the backing from museums and libraries

[14:52:02.0000] <gsnedders>
it's used in RSS feeds quite a lot, and most consumers make use of it. As in HTML, I don't know any thing that uses it there.

[14:53:00.0000] <webben>
http://www.zotero.org/ might

[14:53:01.0000] <hsivonen>
having worked in the Finnish National Archives thinking about metadata and having been assigned to maintain a metadata spec in the military, I am pretty confident that many people who talk about metadata don't understand processing it in software

[14:53:02.0000] <Lachy>
/me *shrugs*

[14:53:03.0000] <Lachy>
DC is flawed because it's hidden metadata

[14:54:00.0000] <hsivonen>
Lachy: DC is flawed, because it is too fluffy for software processing in ways that solves important use cases

[14:54:01.0000] <webben>
yeah ... Zotero supports it http://www.zotero.org/documentation/compatible_standards_and_software

[14:54:02.0000] <Lachy>
which reminds me, why are we keeping the meta element for anything but setting the charset?

[14:54:03.0000] <webben>
it's not hidden --- just go to page info in FF

[14:54:04.0000] <webben>
and anyway that's because user agents seem to be designed without thinking about academic/educational uses much at all

[14:55:00.0000] <Lachy>
webben, that counts as hidden!

[14:56:00.0000] <Lachy>
/me thinks the meta element should drop the name attribute and only allow a single meta element for setting the charset

[14:57:00.0000] <mpt>
/me (n=mpt⊙1dtn) Quit ("This computer has gone to sleep")

[14:57:01.0000] <webben>
And then people will add such citation information where?

[14:57:02.0000] <webben>
in the text?

[14:57:03.0000] <Lachy>
in the body of the page, where it's visible

[14:58:00.0000] <webben>
i suppose they can hide it with CSS

[14:58:01.0000] <Lachy>
why do you want it hidden?

[14:58:02.0000] <webben>
Lachy, because it's not important unless your searching or citing

[14:58:03.0000] <webben>
and thinking about it hiding with CSS isn't good enough because of text UAs

[14:59:00.0000] <webben>
i suppose they could push it down into the "footer"

[14:59:01.0000] <webben>
i think moving it out of meta will break existing DC tools

[14:59:02.0000] <Lachy>
but users need to be able to find the information easily. How many average users do you know that would actuallly look at the page info dialog to read the meta values?

[14:59:03.0000] <Lachy>
tough.

[14:59:04.0000] <webben>
Lachy, that's a UA problem

[14:59:05.0000] <webben>
it's not a problem with the specs

[14:59:06.0000] <webben>
(and it's solved with extensions/addons)

[14:59:07.0000] <Lachy>
no, it's an authoring problem. visible data is always better than invisible data

[15:00:00.0000] <raspberry-lemon>
O,o

[15:00:01.0000] <webben>
Title is visible.

[15:00:02.0000] <webben>
The feed links have been made visible

[15:00:03.0000] <Lachy>
yes, that's right. what's your point?

[15:00:04.0000] <webben>
those are UA decisions

[15:01:00.0000] <Lachy>
meta has been around for many years and UAs still don't do anything useful with it

[15:01:01.0000] <Lachy>
there's no incentive for authors to use it properly

[15:01:02.0000] <webben>
I don't see that page info is that bad a solution ... except you should be able to extract a citation.

[15:01:03.0000] <webben>
But then that's what Zotero is for.

[15:01:04.0000] <Lachy>
those that do think <meta name="description" ...> is actually useful for search engines!

[15:02:00.0000] <Lachy>
never heard of Zotero

[15:02:01.0000] <Lachy>
citation information should go on the page, probably in the footer or something

[15:02:02.0000] <webben>
I just linked to it above. I've never used. But that's because I tend not to have to write paper citations atm.

[15:03:00.0000] <webben>
hmm ... that will make for much bigger footers

[15:03:01.0000] <webben>
(the citation i tend to use is stuff to bring the print world into the digital rather than the other way round... e.g. citeulike

[15:07:00.0000] <webben>
how about a <link> for a page of citation xml or something?

[15:07:01.0000] <Hixie>
right

[15:07:02.0000] <Hixie>
/me moves on

[15:08:00.0000] <Hixie>
scripting and threading.

[15:08:01.0000] <Hixie>
my prediction: nobody will have the slightest comment on this section

[15:08:02.0000] <Lachy>
why not?

[15:08:03.0000] <Hixie>
(except a few people who will say "scripting should be multithreaded" and have clue what they're asking for)

[15:08:04.0000] <Hixie>
because this section is topic to understand :-)

[15:08:05.0000] <Hixie>
er

[15:09:00.0000] <Hixie>
this topic is hard to understand

[15:09:01.0000] <Hixie>
even

[15:09:02.0000] <Lachy>
right.

[15:09:03.0000] <hsivonen>
(the xml-dev thread turned out not to be an endless rathole)

[15:09:04.0000] <Hixie>
uri?

[15:09:05.0000] <raspberry-lemon>
i'm going to say "scripting should *NOT* be multithreaded" because then i won't have to deal with threading -,-;;;

[15:09:06.0000] <webben>
what section number is this?

[15:09:07.0000] <hsivonen>
http://lists.xml.org/archives/xml-dev/200611/msg00253.html

[15:10:00.0000] <Hixie>
webben: 4.2 right now

[15:10:01.0000] <Hixie>
of course that can change at a moment's notice

[15:10:02.0000] <Hixie>
hsivonen: o_O

[15:10:03.0000] <Hixie>
hsivonen: "by 'processing model suitable for the Web' you mean something useful? if so, we can stop now, because i'm not interested in useful things" ???

[15:10:04.0000] <Hixie>
wtf

[15:11:00.0000] <Hixie>
what world do these people live in

[15:11:01.0000] <webben>
Does 4.2 imply that a select changes as you move an arrow-key down in the select box?

[15:12:00.0000] <Hixie>
?

[15:12:01.0000] <hsivonen>
Hixie: in the ISO/IEC 19757 aka. DSDL world

[15:12:02.0000] <webben>
"for controls implemented with a non-editable stateful UI (e.g. select elements, checkboxes, or radio buttons as deployed in typical desktop Web browsers), the change event shall be fired when the selection is completed"

[15:12:03.0000] <webben>
even if the control does not lose focus.

[15:12:04.0000] <hsivonen>
ISO/IEC 19757 is good, btw

[15:13:00.0000] <webben>
what completes a selection in a select box?

[15:13:01.0000] <webben>
also, is there an event that /is/ triggered by scripted changes?

[15:14:00.0000] <hsivonen>
(of course, the original non-ISO specs are more readable...)

[15:14:01.0000] <Hixie>
hsivonen: ah.

[15:14:02.0000] <Hixie>
webben: 4.2 in web apps 1.0?

[15:14:03.0000] <webben>
yep

[15:14:04.0000] <Hixie>
/me confused

[15:14:05.0000] <webben>
oh wait

[15:14:06.0000] <Hixie>
that's just a red box for me at the moment

[15:14:07.0000] <webben>
no

[15:14:08.0000] <webben>
sorry

[15:14:09.0000] <webben>
/me the idiot looks at the wrong doc

[15:15:00.0000] <Hixie>
heh

[15:17:00.0000] <webben>
for your list of ways of running scripts, the spec presumably doesn't need to discuss user js/greasemonkey does it?

[15:17:01.0000] <Hixie>
dunno

[15:18:00.0000] <webben>
e.g. defining how such scripts might interact with chains of events or something

[15:18:01.0000] <webben>
/me doesn't do much scripting

[15:18:02.0000] <Hixie>
probably not, since that's just a UA-specific concern

[15:18:03.0000] <Hixie>
not an interoperability concern

[15:18:04.0000] <webben>
are there plans for multithreading in JS 2.0 ?

[15:19:00.0000] <Hixie>
dunno

[15:20:00.0000] <hsivonen>
webben: doubt it

[15:20:01.0000] <hsivonen>
webben: considering the threading story of Gecko (lack thereof)

[15:23:00.0000] <webben>
what about freaky stuff like jscript and vbscript... do those have threads?

[15:24:00.0000] <hsivonen>
webben: my wild guess is that Trident is multithreaded but jscript achieves Web compatibility by locking

[15:25:00.0000] <hsivonen>
I wonder how Opera is threaded considering that it runs on esoteric and limited platforms

[15:25:01.0000] <Hixie>
scripting in opera is run per-instruction, so threading is irrelevant for opera

[15:26:00.0000] <hsivonen>
Hixie: wow. and still it performs better than Gecko on some things

[15:26:01.0000] <webben>
in 4.2.1 can we at least include a "UAs should not silently correct errors without user configuration"

[15:27:00.0000] <webben>
(indeed, given IE already doesn't silently correct errors, could that be a must)

[15:27:01.0000] <hsivonen>
I had thought that Gecko's suckiness in this area was to cater for the old Mac OS, but timeless explained that it is to deal with the suckiness of X11

[15:27:02.0000] <webben>
Doesn't Opera have to deal with the suckiness of X11 too?

[15:27:03.0000] <hsivonen>
webben: not on HP-UX

[15:28:00.0000] <Hixie>
webben: correct errors?

[15:28:01.0000] <hsivonen>
webben: only with XFree86, X.org and the Sun stuff

[15:28:02.0000] <webben>
Hixie, you know the TAG stuff.

[15:28:03.0000] <Hixie>
webben: ?

[15:29:00.0000] <webben>
http://www.w3.org/TR/webarch/#no-silent-recovery

[15:29:01.0000] <Hixie>
i don't understand what you want the spec to say

[15:30:00.0000] <webben>
oh i guess it does say that really

[15:30:01.0000] <webben>
what does "The error should be reported to the user." mean

[15:30:02.0000] <webben>
e.g. is that something the user can turn off?

[15:30:03.0000] <webben>
send to the status bar etc..?

[15:30:04.0000] <webben>
or does that mean give the user a big dialog warning every time?

[15:31:00.0000] <Hixie>
it means exactly what it says

[15:31:01.0000] <Hixie>
no more no less

[15:33:00.0000] <webben>
aren't there two r's in occurred?

[15:33:01.0000] <Hixie>
probably

[15:33:02.0000] <Hixie>
the spec is full of typos

[15:33:03.0000] <webben>
or is occured an Americanism?

[15:33:04.0000] <Hixie>
it's too early to worry about them

[15:35:00.0000] <webben>
"the first must give the message that the UA is considering reporting" ... in what form?

[15:35:01.0000] <webben>
an error number? a string?

[15:36:00.0000] <Hixie>
whatever it is the UA is considering reporting

[15:36:01.0000] <Lachy>
http://blog.whatwg.org/faq/#whattf

[15:37:00.0000] <webben>
why is Applications capitalized?

[15:38:00.0000] <webben>
"intersted"

[15:38:01.0000] <webben>
/me is sorry for being pedantic

[15:38:02.0000] <Lachy>
cause I copied it from the whatwg.org home page and didn't change it

[15:39:00.0000] <Lachy>
fixed

[15:41:00.0000] <webben>
It would be good if "Headings and sections" included an example that showed where people should put fragment identifiers.

[15:41:01.0000] <Hixie>
i encourage you to send feedback to the list

[15:41:02.0000] <Hixie>
on irc it will get lost

[15:43:00.0000] <webben>
(I've have a vested interest in frag id's because i've been writing a firefox extension to try and make it easier to link to them.)

[15:44:00.0000] <webben>
the chaos of section id's in old-style html doesn't help

[15:45:00.0000] <Lachy>
webben, what chaos of section ids?

[15:46:00.0000] <webben>
there are at least three ways of doing it

[15:46:01.0000] <webben>
(and that's with people who do it sanely)

[15:46:02.0000] <Hixie>
i don't suppose anything defines how javascript: URIs work

[15:47:00.0000] <Lachy>
I don't know of anywhere that defines them

[15:47:01.0000] <webben>
e.g. <div id="foo"><h2> ... <div><h2 id="foo">... and <div><h2><a name="foo" />...

[15:48:00.0000] <Hixie>
all of those are reasonable IMHO

[15:48:01.0000] <Hixie>
the first two are probably preferred

[15:48:02.0000] <Lachy>
<a name> is no longer in HTML5

[15:48:03.0000] <webben>
oh and <div><h2><a name="foo">Foobar</a></h2>

[15:49:00.0000] <Hixie>
wow, i removed name=""? how radical of me.

[15:49:01.0000] <Lachy>
and you forgot <h2 xml:id="foo"> ;-)

[15:49:02.0000] <Hixie>
pff

[15:50:00.0000] <webben>
so i had some sort of xpath or something trying to pick between those things

[15:50:01.0000] <webben>
and then when it fails to find those running back up the document looking for them in each preceding "section"

[15:50:02.0000] <webben>
it makes for a pretty inefficient algorithm

[15:51:00.0000] <webben>
there's probably a good form for when you want the h2 to be a link

[15:51:01.0000] <webben>
and a good form for when you just want a "hidden" id

[15:52:00.0000] <webben>
i can't really see a need for more than two ways of doing it though

[15:52:01.0000] <webben>
but the fact that <section> can be implied makes things interesting

[15:54:00.0000] <webben>
hmm it would be good to be clear about whether <h1> should be unique

[15:54:01.0000] <Hixie>
it does not have to be unique

[15:54:02.0000] <Hixie>
i thought the spec was clear about that

[15:55:00.0000] <jgraham>
Do I need an actual gmail account to sign up for Google project hosting? My ordinary Google signin doesn't seem to work :(

[15:56:00.0000] <webben>
ah it is clear from the examples anyway

[15:56:01.0000] <Hixie>
webben: examples are not normative, so if the prose doesn't say it, the example could be wrong

[15:56:02.0000] <Hixie>
jgraham: yes, you need a gmail account (though you don't need to use gmail itself)

[15:57:00.0000] <webben>
/me doesn't grok this headers thing yet

[15:58:00.0000] <jgraham>
Ah. OK. It would be really useful if there was some useful error message to tell you that

[15:58:01.0000] <Hixie>
it's in the faq, but i will convey your message to the team

[15:59:00.0000] <webben>
"header elements must have at least one h1, h2, h3, h4, h5, or h6 element as a descendant." ... is that supposed to mean you can jump from header to h3

[15:59:01.0000] <webben>
even though you can't have a header as a descendant of a header


2006-12-02
[16:00:00.0000] <jgraham>
(to be fair it says "sign in with your gmail account" but it doesn't say that you failed to do so)

[16:00:01.0000] <Hixie>
jgraham: feedback conveyed

[16:00:02.0000] <Hixie>
and they agreed, so hopefully it'll be fixed :-)

[16:01:00.0000] <jgraham>
Great :)

[16:01:01.0000] <Hixie>
webben: <header> elements are ways of wrapping multiple <hx> elements into one header, so you can have tag lines, e.g.

[16:03:00.0000] <webben>
/me can't understand why a tagline would want to be inside a <hx> element

[16:04:00.0000] <webben>
but that's not quite what I was asking ... is <header><h3>foo</h3></header> okay?

[16:04:01.0000] <jgraham>
webben It turns out that lots of people do that in the real world. It breaks any tool that tries to generate a document outline but they think it's "more semantic"

[16:05:00.0000] <webben>
jgraham, yeah but they're crazy

[16:05:01.0000] <Hixie>
<header><h3>foo</h3></header> is equivalent to <h3>foo</h3> iirc

[16:05:02.0000] <Hixie>
or maybe equivalent to <h1>foo</h1>

[16:05:03.0000] <Hixie>
i forget

[16:05:04.0000] <Hixie>
see the spec :-)

[16:05:05.0000] <jgraham>
Well, maybe. For subheadings what they are trying to do makes a lot of sense

[16:06:00.0000] <webben>
jgraham, ah you're talking about <header><h1>foo</h1><h2>bar</h2></header> not <header><h3>foo</h3></header> when you say "that"?

[16:06:01.0000] <webben>
why not just have a subhead

[16:06:02.0000] <webben>
element

[16:07:00.0000] <Hixie>
because you might have:

[16:07:01.0000] <Hixie>
<header><p>Welcome to...</p><h1>My home!</h1><h2>or what some people might call "my cube"</h2></header>

[16:07:02.0000] <jgraham>
But this is why the spec should be clear about what the use cases behind semantic constructs are so there is some hope people won't break well intentioned UAs by over broadening their element use

[16:07:03.0000] <Hixie>
yeah

[16:07:04.0000] <Hixie>
i thought the examples for <header> were clear

[16:08:00.0000] <webben>
Hixie, yeah ... I don't understand the use of <h2> there

[16:08:01.0000] <jgraham>
Although HTML4 did that with <hx> and it didn't help much

[16:08:02.0000] <webben>
http://www.w3.org/TR/html4/struct/global.html#h-7.5.5 was lousy

[16:09:00.0000] <webben>
doesn't even say MUST be used in order

[16:09:01.0000] <webben>
instead "Some people consider skipping heading levels to be bad practice."

[16:09:02.0000] <webben>
what a cop out

[16:09:03.0000] <jgraham>
So, could I trouble someone to invite me to join gmail?

[16:09:04.0000] <webben>
jgraham, sure

[16:09:05.0000] <jgraham>
/me is the last person in the universe with no gmail account

[16:10:00.0000] <Hixie>
heh

[16:10:01.0000] <jgraham>
My email address is jg307⊙cau

[16:11:00.0000] <webben>
jgraham, there you go (hopefully)

[16:11:01.0000] <jgraham>
webben: thanks :)

[16:12:00.0000] <webben>
why can't one have a <heading> as a descendant of a <heading> ?

[16:13:00.0000] <webben>
e.g. if you have a long document with a bit-per-page view and an all-in-one view

[16:13:01.0000] <webben>
you might have subsections with headings with taglines

[16:15:00.0000] <jgraham>
Can we go with "because my head would explode trying to work out how to generate an outline for it"? ;)

[16:16:00.0000] <webben>
jgraham, not nearly as much as the author trying to revise programmatically said document for all-in-one viewing

[16:17:00.0000] <webben>
Of course if <heading> was simply one <hX> rather than as many as you want

[16:17:01.0000] <webben>
and if hX are in order

[16:17:02.0000] <webben>
then outlining would be unproblematic

[16:18:00.0000] <Hixie>
there's like an exact spec for how to create an outline

[16:18:01.0000] <Hixie>
just implement that

[16:18:02.0000] <Hixie>
and your life will be good

[16:20:00.0000] <webben>
why are headings inside blockquotes part of the TOC?

[16:20:01.0000] <jgraham>
Hixie: I know. But as I recall, it's pretty complicated

[16:21:00.0000] <webben>
ah i see

[16:21:01.0000] <webben>
they aren't

[16:21:02.0000] <webben>
/me provides a demonstration.

[16:21:03.0000] <Hixie>
jgraham: yeah, but that shouldn't affect implementing it. he just has to follow the spec. :-)

[16:22:00.0000] <hsivonen>
FYI: http://www.intertwingly.net/blog/2006/12/01/The-White-Pebble#c1165015647

[16:22:01.0000] <webben>
Will authors understand it?

[16:22:02.0000] <Kanashii>
/me (n=Kanashii⊙plbion) Quit ()

[16:28:00.0000] <Hixie>
"Breaking XML is too politically incorrect even for the WHATWG."

[16:28:01.0000] <Hixie>
haha

[16:28:02.0000] <Hixie>
nice

[16:28:03.0000] <Hixie>
we could try!

[16:28:04.0000] <Hixie>
XML5!

[16:29:00.0000] <Hixie>
maybe sometime after SVG5!

[16:32:00.0000] <jgraham>
Can we replace all the angle brackets with something more aesthetically pleasing? ;)

[16:32:01.0000] <tantek>
/me (n=tantek⊙adspn) Quit (Read error: 54 (Connection reset by peer))

[16:32:02.0000] <Hixie>
i'd love to

[16:32:03.0000] <Hixie>
but backwards compatibility forces us to keep them

[16:32:04.0000] <Hixie>
:-)

[16:34:00.0000] <jgraham>
I've put all the html5 python code I have written up on google code: http://code.google.com/p/html5lib/

[16:34:01.0000] <hsivonen>
Hixie: only the W3C gets to break XML

[16:34:02.0000] <hsivonen>
(I mean XML 1.1)

[16:34:03.0000] <Hixie>
heh

[16:34:04.0000] <hsivonen>
speaking of which

[16:35:00.0000] <jgraham>
(Note: nothing there works)

[16:35:01.0000] <hsivonen>
the spec should require XML 1.0--not "some version"

[16:35:02.0000] <webben>
why?

[16:35:03.0000] <Hixie>
i have no idea what thomas broyer is asking for

[16:35:04.0000] <Hixie>
i hate it when i can't work out what someone wants

[16:35:05.0000] <jgraham>
(but I don't want to end up with 3 different efforts to do the same thing)

[16:35:06.0000] <hsivonen>
webben: XML 1.1 is a huge compatibility problem and PITA

[16:36:00.0000] <hsivonen>
webben: and XHTML5 does not have Cambodian tags

[16:36:01.0000] <hsivonen>
Khmer tags, I should say

[16:36:02.0000] <Hixie>
i'm not requiring XML 1.1 for the same reason that I _am_ defining XHTML at all

[16:36:03.0000] <Hixie>
er 1.0

[16:36:04.0000] <Hixie>
namely, if i require xml 1.0, someone will have to define their own serialisation using 1.1.

[16:37:00.0000] <hsivonen>
good point

[16:37:01.0000] <Hixie>
(but i agree with you in principle)

[16:37:02.0000] <hsivonen>
I will enforce 1.0

[16:37:03.0000] <Hixie>
you can do that, just by being an XML 1.0 Conformant Processor :-)

[16:40:00.0000] <webben>
/me is confused ... how can you both not require 1.0 and enforce 1.0 ?

[16:43:00.0000] <hsivonen>
webben: Hixie doesn't require but I do

[16:44:00.0000] <webben>
you mean with your validator?

[16:44:01.0000] <hsivonen>
webben: yes

[16:44:02.0000] <webben>
can XHTML 1.1 be in XML 1.1?

[16:45:00.0000] <hsivonen>
webben: it wouldn't be conforming, AFAIK

[16:45:01.0000] <hsivonen>
http://hsivonen.iki.fi/validator/html5/?doc=http%3A%2F%2Fhsivonen.iki.fi%2Ftest%2Fxml11.xhtml

[16:47:00.0000] <Hixie>
"IO Error: HTTP resource not retrievable." should probably be "The file you specified could not be downloaded. Are you sure you specified the right address? (You may also [validate the 404 document].)"

[16:47:01.0000] <Hixie>
or something

[16:47:02.0000] <hsivonen>
Hixie: do you see that on the URL I just pasted?

[16:47:03.0000] <Hixie>
no

[16:48:00.0000] <Hixie>
i see it on http://hsivonen.iki.fi/validator/html5/?doc=http%3A%2F%2Fhsivonen.iki.fi%2Ftest%2Fxml10.xhtml

[16:48:01.0000] <Hixie>
which is what i immediately tried :-)

[16:49:00.0000] <hsivonen>
Hixie: suggestion logged

[16:49:01.0000] <hsivonen>
the message comes from the bowels of Apache Commons HTTP Client

[16:49:02.0000] <Hixie>
ah

[16:51:00.0000] <hsivonen>
I should see if it has an IOException subclass with the http status code

[16:54:00.0000] <hsivonen>
oops. it comes from my code after all

[16:54:01.0000] <hsivonen>
if (m.getStatusCode() != 200) {

[16:54:02.0000] <Hixie>
heh

[16:54:03.0000] <hsivonen>
looks like I've been lazy

[16:55:00.0000] <hsivonen>
redirects are transparent to me

[16:55:01.0000] <hsivonen>
err opaque

[16:55:02.0000] <hsivonen>
I don't notice

[16:56:00.0000] <hsivonen>
/me gets confused with transparent and opaque if the library hides it

[17:03:00.0000] <Hixie>
/me tries to get the hang of the results of http://www.hixie.ch/tests/adhoc/dom/level0/window/open/

[17:04:00.0000] <Hixie>
(turn off tabs first)

[17:07:00.0000] <Hixie>
i don't understand what mozilla does

[17:07:01.0000] <Hixie>
on 002

[17:08:00.0000] <Hixie>
wow

[17:09:00.0000] <Hixie>
a window.alert() on safari blocks the entire browser

[17:11:00.0000] <Hixie>
and on IE it blocks UI interaction and JS for that tab

[17:11:01.0000] <Hixie>
and all the tabs that are involved in the test

[17:11:02.0000] <Hixie>
and the chrome for windows involved in the test, even though other tabs on that test are fine!

[17:11:03.0000] <Hixie>
wow, there's proof that the menu bar is per-tab if nothing else

[17:18:00.0000] <Hixie>
man, all the browsers act differently

[17:18:01.0000] <Hixie>
gah

[17:18:02.0000] <Hixie>
bbl

[18:24:00.0000] <webben>
/me (n=benjamin⊙9822) Quit ("Leaving")

[18:30:00.0000] <whateley>
/me (n=whateley⊙Sesn) Quit (Read error: 110 (Connection timed out))

[18:48:00.0000] <tantek>
/me (n=tantek⊙adspn) Quit (Read error: 131 (Connection reset by peer))

[19:45:00.0000] <mpt>
/me (n=mpt⊙1dtn) Quit ("This computer has gone to sleep")

[21:04:00.0000] <Lachy>
Hixie, typo in 4.2.2: If the value is null - The error should not [be] reported to the user. 

[21:54:00.0000] <Lachy>
I've added several new questions to the FAQ

[21:54:01.0000] <Lachy>
http://blog.whatwg.org/faq/#mime-type

[21:54:02.0000] <Lachy>
http://blog.whatwg.org/faq/#tracking-changes

[21:54:03.0000] <Lachy>
http://blog.whatwg.org/faq/#namespaces

[22:01:00.0000] <mpt>
/me (n=mpt⊙1dtn) Quit ("Leaving")

[22:42:00.0000] <csarven>
/me (i=nevrasc⊙m1mvc) Quit (Read error: 104 (Connection reset by peer))

[22:47:00.0000] <Lachy>
what the???? "I don't want to use namespaces. I want to use an xmlns attribute. " -- Robert Sayre.

[22:47:01.0000] <Lachy>
I think that's the quote of the day ;-)

[01:58:00.0000] <jgraham>
/me (n=jgraham⊙8122) Quit (sterling.freenode.net irc.freenode.net)

[01:58:01.0000] <gavin_s>
/me (n=gavin⊙6221) Quit (sterling.freenode.net irc.freenode.net)

[02:09:00.0000] <hsivonen>
Lachy: I think Robert has a good point

[03:24:00.0000] <Lachy>
hsivonen, I don't think so

[03:42:00.0000] <rhymes>
/me (n=rhymes⊙h5rti) Quit ()

[03:42:01.0000] <Kanashii>
/me (n=Kanashii⊙plbion) Quit ()

[04:04:00.0000] <Lachy>
jgraham's idea of using a different attribute name from xmlns is better. It's similar to what I said here yesterday, but I'd rather avoid requiring authors to remember the full URI

[04:08:00.0000] <Lachy>
I'd just use <svg ns="svg">, where the attribute takes a set of predefined values, such as "svg", "mathml", "xhtml". But in most cases, it would be unnecessary to use it anyway.

[04:11:00.0000] <Lachy>
although I still think it's better to such things for use in XHTML. Browsers, especially IE, are much more likely to add support for XHTML, SVG and MathML, before a special html-based math/svg syntax.

[05:18:00.0000] <ROBOd>
good eday to all

[05:19:00.0000] <Lachy>
hey ROBOd

[05:19:01.0000] <ROBOd>
Lachy: it seems attractive to use ns instead of xmlns, because it would cause less confusion, because people wouldn't mistake it with XHTML, etc. however... i am suspicious if in the grand scheme of things creating a "fork" of xmlns is that good

[05:19:02.0000] <ROBOd>
it would only give web developers more work in the future

[05:20:00.0000] <ROBOd>
my suggestion would be that no new ns attribute is added

[05:20:01.0000] <Lachy>
I agree and I don't think it is needed

[05:20:02.0000] <ROBOd>
if, and only if, something is to be done in regards to this, add xmlns.

[05:21:00.0000] <ROBOd>
personally i am not yet decided if xmlns should not be in HTML5

[05:21:01.0000] <Lachy>
but, if a namespace syntax is ever added to HTML, I think it should be at least that simple and must definately not use xmlns

[05:21:02.0000] <ROBOd>
at the moment, i don't see the big gripe, the big need for xmlns in HTML(4|5)

[05:22:00.0000] <ROBOd>
Lachy: yes, it should be *that* simple, but not another attribute

[05:22:01.0000] <Lachy>
are you saying you would rather reuse xmlns for that purpose?

[05:22:02.0000] <ROBOd>
yes

[05:22:03.0000] <Lachy>
which would also mean using the full URIs as well

[05:23:00.0000] <ROBOd>
yep

[05:23:01.0000] <ROBOd>
there's no need to reinvent the wheel, IMHO

[05:23:02.0000] <Lachy>
no, that would only serve to further encouage those with teh misconception that HTML can be treated as XML

[05:23:03.0000] <ROBOd>
as i said above, it's true, that happens

[05:23:04.0000] <Lachy>
and it would give the impression that any arbitrary namespace can be used in HTML

[05:24:00.0000] <ROBOd>
but another attribute would just add other troubles

[05:24:01.0000] <Lachy>
but, as Hixie's study showed, many people get the namespace wrong anyway

[05:24:02.0000] <ROBOd>
exactly

[05:24:03.0000] <Lachy>
which is why I don't think any namespaces should be added to HTML either.

[05:24:04.0000] <ROBOd>
and there's no UA with complete xmlns implementation

[05:25:00.0000] <ROBOd>
e.g. Opera had serious problems with xmlns last time i checked

[05:25:01.0000] <Lachy>
but my point is that xmlns is too difficult for the average HTML coder plus the other problems just mentioned

[05:25:02.0000] <Lachy>
doesn't Mozilla fully support xmlns in XML?

[05:26:00.0000] <Lachy>
what's Opera's bug with it?

[05:26:01.0000] <ROBOd>
iirc they have some problems as well

[05:26:02.0000] <ROBOd>
don't know the Mozilla bugs precisely, since I mostly work with Opera

[05:26:03.0000] <ROBOd>
well... for example, Opera with VoiceXML doesn't really care much about the XML namespace

[05:27:00.0000] <ROBOd>
it just detects the tag name, and that's pretty much all

[05:28:00.0000] <ROBOd>
e.g. if one wants to use something else than the default xmlns prefix (vxml)

[05:30:00.0000] <ROBOd>
at the end of that day ... i was pretty much sure XML namespace support was glued (read: not good) :)

[05:31:00.0000] <Lachy>
but those are bugs in the XML implementation, specifically relating to prefixes. There would be no prefixes in HTML, so any use of xmlns couldn't use prefixes and that difference would only cause problems

[05:32:00.0000] <Lachy>
besides, as Hixie has mentioned, Opera has tried to implement namespaces in HTML, but apparently had to back out of it because so many pages relied on MS Office namespaces being completely ignored by non-IE browsers.

[05:32:01.0000] <ROBOd>
the more i think of it, the more i'd recommend Hixie *not* to accept xmlns (or any derivate, for that matter) in html5

[05:33:00.0000] <Lachy>
that's another reason we couldn't reuse xmlns in HTML because MS office has broken it

[05:33:01.0000] <Lachy>
I fully agree!

[05:33:02.0000] <ROBOd>
thing is: use xhtml for svg and for other "advanced" stuff

[05:33:03.0000] <Lachy>
yep

[05:33:04.0000] <raspberry-lemon>
the newbie agrees too, just for the record

[05:34:00.0000] <Lachy>
raspberry-lemon, what's your real name? Have I seen on on the mailing list before?

[05:34:01.0000] <rhymes>
/me (n=rhymes⊙h5rti) Quit ()

[05:35:00.0000] <raspberry-lemon>
real name is chris svindseth, but if you've seen me on the mailing list it would be quite the miracle as i only read it sporadically :)

[05:35:01.0000] <ROBOd>
Lachy: i've read Sam's blog post (link posted yesterday here). i now believe he exaggerates with his wish to merge XHTML with HTML.

[05:36:00.0000] <Lachy>
ah, so you've never posted to the list.

[05:36:01.0000] <raspberry-lemon>
no

[05:37:00.0000] <Lachy>
yep, I agree. I think Sam's just taking it too far

[05:39:00.0000] <ROBOd>
gotta go now, bbl

[05:39:01.0000] <Lachy>
ok, cya

[07:27:00.0000] <annevk>
hah

[07:28:00.0000] <citoyen>
oh look, it's awake

[07:28:01.0000] <annevk>
next time I go away for more than 24 hours I'll turn IRC off

[07:28:02.0000] <Lachy>
hi annevk 

[07:28:03.0000] <annevk>
hi there

[07:28:04.0000] <annevk>
/me just read through the entire backlog...

[07:28:05.0000] <annevk>
/me hasn't yet read Sam Ruby's post

[07:28:06.0000] <annevk>
morning citoyen :)

[07:28:07.0000] <Lachy>
annevk, was it worth reading it all?

[07:28:08.0000] <citoyen>
mornin' :) how's the head? :)

[07:30:00.0000] <annevk>
better

[07:30:01.0000] <annevk>
Lachy, no, I skipped major parts

[07:31:00.0000] <annevk>
"HTML is tantalizingly close to well-formed XML." ...

[07:32:00.0000] <Lachy>
hah! :-D

[07:32:01.0000] <citoyen>
*blink*

[07:32:02.0000] <Lachy>
there's been several funny quotes on the list today

[07:38:00.0000] <annevk>
class AtheistParseError(ParseError): ...

[07:52:00.0000] <annevk>
"Breaking XML is too politically incorrect even for the WHATWG." We could try...

[07:52:01.0000] <annevk>
Introduce graceful error handling for XML

[07:53:00.0000] <rhymes>
/me (n=rhymes⊙h5rti) Quit ()

[08:00:00.0000] <Lachy>
it's too late for that

[08:02:00.0000] <annevk>
it's already happening

[08:03:00.0000] <annevk>
see feed parsers for instance

[08:03:01.0000] <Lachy>
?

[08:03:02.0000] <annevk>
we better define how it should work...

[08:03:03.0000] <Lachy>
Oh, that's just crap. They should use draconian error handling

[08:03:04.0000] <annevk>
that doesn't make much sense to me

[08:04:00.0000] <Lachy>
and CMSs should use proper XML tools and ensure they output well-formed feeds

[08:04:01.0000] <annevk>
it seems better for their users to do the non draconian thing

[08:04:02.0000] <annevk>
right...

[08:04:03.0000] <annevk>
those CMSs have been promised for over the past ten years or so

[08:04:04.0000] <Lachy>
IE7 does draconian error handling for feeds, doesn't it?

[08:04:05.0000] <hsivonen>
Lachy: have fun trying to convince Mark P. not to do what he does. :-)

[08:04:06.0000] <annevk>
there's not really such a thing as bugfree software, I think we should try to learn from that

[08:05:00.0000] <annevk>
Lachy, only partially

[08:05:01.0000] <hsivonen>
annevk: TeX. The conclusion is that we should use .dvi for interchange. :-)

[08:06:00.0000] <citoyen>
Let's face it, people fail and tools fail, no matter how much we try. Given that, and that tools are meant to make our lives easier, not more annoying, I think error handling is the way to go.

[08:06:01.0000] <annevk>
hsivonen, I don't get that

[08:06:02.0000] <annevk>
as in, I'm not sure what you're saying :)

[08:07:00.0000] <hsivonen>
annevk: TeX is famous for being the non-trivial piece of software that is free of bugs

[08:07:01.0000] <hsivonen>
TeX outputs .dvi

[08:07:02.0000] <annevk>
oh

[08:09:00.0000] <hsivonen>
grr. I have to update my <t> test cases

[08:12:00.0000] <annevk>
s/t/time/

[08:13:00.0000] <hsivonen>
annevk: won't work

[08:13:01.0000] <hsivonen>
consider <title>

[08:14:00.0000] <annevk>
ok, do it a bit smarter :)

[08:14:01.0000] <annevk>
s/<t /

[08:14:02.0000] <annevk>
s/<t>/

[08:14:03.0000] <annevk>
etc.

[08:14:04.0000] <hsivonen>
yeah

[08:18:00.0000] <annevk>
Hixie, if you have nothing else to work, consider updating the parsing section a bit more to remove the last couple of red blocks and do the rewrite of the tree construction section...

[08:30:00.0000] <annevk>
http://therealcrisp.xs4all.nl/blog/ "Hell is where browsers come from"

[08:34:00.0000] <hsivonen>
Lachy: wp-comments-post.php is broken

[08:34:01.0000] <hsivonen>
"Error: This file cannot be used on its own."

[08:35:00.0000] <Lachy>
ok, let me see...

[08:36:00.0000] <Lachy>
Does that happen when you try to post a comment?

[08:36:01.0000] <hsivonen>
yos

[08:36:02.0000] <hsivonen>
yes

[08:36:03.0000] <Lachy>
when you're logged in or not?

[08:36:04.0000] <hsivonen>
logged in

[08:36:05.0000] <Lachy>
ok, it worked for me when not logged in

[08:37:00.0000] <ROBOd>
/me (n=robod⊙8321) Quit (Read error: 104 (Connection reset by peer))

[08:37:01.0000] <Lachy>
worked for me when logged in too

[08:37:02.0000] <hsivonen>
hmm. interesting

[08:37:03.0000] <hsivonen>
gotta run for dinner

[08:38:00.0000] <ROBOd2>
bon app�tit hsivonen 

[08:38:01.0000] <hsivonen>
thanks

[08:38:02.0000] <Lachy>
I get that error when I visit http://blog.whatwg.org/wp-comments-post.php directly, rather than posting to it

[08:38:03.0000] <annevk>
isn't it a little early...

[08:39:00.0000] <annevk>
oh, wait, Finland

[08:39:01.0000] <hsivonen>
annevk: board game scheduled after dinner

[08:39:02.0000] <hsivonen>
hence, early dinner

[08:39:03.0000] <hsivonen>
really going now

[08:39:04.0000] <annevk>
bye

[08:40:00.0000] <annevk>
Lachy, you want http://c2.com/cgi/wiki?GeneratorsInPython

[08:43:00.0000] <Lachy>
I see. so we would implement a getChar() function that uses yield and returns the next character in the stream

[08:43:01.0000] <annevk>
I think that's the idea

[08:43:02.0000] <Lachy>
what about when we have to back up a few chars for error handling?

[08:44:00.0000] <annevk>
you store the characters somewhere I suppose

[08:44:01.0000] <annevk>
hmm

[08:44:02.0000] <Lachy>
ok, need to think about it.

[08:51:00.0000] <gsnedders>
/me (n=gsnedder⊙hrbc) Quit ("Don't touch /dev/null�")

[08:52:00.0000] <annevk>
hmm yeah

[08:52:01.0000] <annevk>
for states like the entity state

[08:53:00.0000] <Lachy>
it might be easier to implement in it a stream object that handles walking forward and backward through the stream, even if it uses yield internally for some stuff

[08:53:01.0000] <Lachy>
and even supports inserting markup into the stream, which would be needed for document.write() support

[08:54:00.0000] <annevk>
yeah, didn't jgraham have something like that?

[08:54:01.0000] <Lachy>
/me will check

[08:58:00.0000] <Lachy>
I think that's what his Tokeniser object does, but not sure. It seems to be structured in a very strange way.

[09:05:00.0000] <annevk>
when I source on google for "live dom viewer" i get your site Lachy ... some copy

[09:05:01.0000] <jgraham>
Lachy: what is strange

[09:05:02.0000] <jgraham>
?

[09:06:00.0000] <jgraham>
Did you see that I started a google project for a python based html5 parser: http://code.google.com/p/html5lib/

[09:07:00.0000] <annevk>
cool

[09:07:01.0000] <annevk>
I'm willing to help out

[09:07:02.0000] <jgraham>
I'm really up for working with other people on this, soI'm quite happy to change the design if it's no good. And I seem to have a bit more python experience, which might help

[09:09:00.0000] <Lachy>
jgraham, write an article about it on the blog

[09:09:01.0000] <Lachy>
let a few more people know about it and ask for more contributors

[09:11:00.0000] <jgraham>
Yeah, that's a good idea. I might set up a wiki page for discussing the design as well

[09:11:01.0000] <Lachy>
Cool, I'm happy with the BSD licence for it

[09:11:02.0000] <annevk>
what does BSD imply?

[09:12:00.0000] <annevk>
what are the restrictions, basically

[09:12:01.0000] <Lachy>
it means that you retain copyright, but anyone is free to do whatever they like with it

[09:12:02.0000] <jgraham>
http://www.opensource.org/licenses/bsd-license.php

[09:13:00.0000] <jgraham>
I think it's about the most liberal license available

[09:13:01.0000] <Lachy>
http://en.wikipedia.org/wiki/BSD

[09:13:02.0000] <jgraham>
But if anyone has any good reasons to change it, I'm listening

[09:14:00.0000] <annevk>
I'd be happy with a license that doesn't require attribution

[09:15:00.0000] <Lachy>
http://en.wikipedia.org/wiki/Public_domain_equivalent_license

[09:15:01.0000] <Lachy>
BSD is near enough to public domain

[09:17:00.0000] <jgraham>
The options in google hosting are BSD, Apache 2.0, Artistic/GPLv2.0, GPL2.0, LGPL, MIT, MPL1.1

[09:17:01.0000] <Lachy>
This is what I usually do for copyright http://lachy.id.au/about/copyright

[09:18:00.0000] <Lachy>
of those, either MIT or BSD are the most permissive

[09:19:00.0000] <jgraham>
Do you think MIT would work better?

[09:21:00.0000] <annevk>
yes

[09:21:01.0000] <jgraham>
OK

[09:21:02.0000] <annevk>
per http://en.wikipedia.org/wiki/MIT_License that doesn't require attribution which may be a problem for some commercial entities

[09:21:03.0000] <jgraham>
OK, it's changed

[09:22:00.0000] <annevk>
if you want you can add annevankesteren⊙gc though I wonder how to deal with such a project

[09:24:00.0000] <jgraham>
I added you as a project owner

[09:24:01.0000] <annevk>
hah

[09:24:02.0000] <Lachy>
/me will register a new gmail account and join

[09:24:03.0000] <jgraham>
What do you mean "deal with such a project"? You mean how to actually design the code collaboratively?

[09:25:00.0000] <Lachy>
if only someone hadn't stolen my name! lachlan.hunt at gmail.com is taken :-(

[09:25:01.0000] <jgraham>
Heh. I ended up with jgraham.cantab since almost everything I could think of was gone...

[09:26:00.0000] <annevk>
jgraham, yes

[09:27:00.0000] <annevk>
I took the liberty to add more text to the frontpage

[09:27:01.0000] <jgraham>
Well I think a design document on a wiki would help. I don't know if the whatwg wiki is the right place though

[09:27:02.0000] <Lachy>
oh, no I forgot, I already have lachyhunt at gmail.com :-)

[09:28:00.0000] <jgraham>
Lachy: OK, I added you

[09:28:01.0000] <Lachy>
thanks

[09:31:00.0000] <annevk>
checkout is still going on...

[09:31:01.0000] <annevk>
hmm

[09:31:02.0000] <Lachy>
/me is finishing off the blog entry for feed autodiscovery...

[09:32:00.0000] <Lachy>
are there any other issues with "alternate", besides a feed not necessarily being an alternate represntaion and the MIME type not always being a good indicator of a feed?

[09:32:01.0000] <annevk>
you should prolly post on monday

[09:32:02.0000] <Lachy>
why wait? It'll still be there on Monday

[09:33:00.0000] <annevk>
posts tend to get more attention throughout the week

[09:33:01.0000] <annevk>
at least, in my experience

[09:34:00.0000] <Lachy>
yeah, but what difference does it make if it's posted today or tomorrow? It'll still show up in peoples feed readers on monday morning

[09:34:01.0000] <annevk>
i've wondered about that myself

[09:35:00.0000] <Lachy>
but I can hold it off for a day if you like, it doesn't matter that much

[09:45:00.0000] <Lachy>
hehe... :-) The latest from elliot...

[09:45:01.0000] <Lachy>
"Secondly, anyone who actually tried to use an SGML parser to handle HTML rapidly hit a wall since most HTML documents were not even close to actually conformant to the SGML spec or the HTML DTD. "

[09:46:00.0000] <Lachy>
now if only he could figure the concept when s/SGML/XML

[09:47:00.0000] <annevk>
hmm, I can't seem to commit

[09:48:00.0000] <annevk>
jgraham, should we use a googlegroups for discussion?

[09:50:00.0000] <jgraham>
annevk: I guess googlegroups might be good. I'd still like a wiki page somewhere to hack out a design. Any ideas where? I could set something up on my desktop but it's unlikely to be very reliable...

[09:51:00.0000] <annevk>
lets use wiki.html5.org

[09:51:01.0000] <Lachy>
jgraham, wiki.whatwg.org

[09:51:02.0000] <annevk>
what Lachy said

[09:51:03.0000] <annevk>
PythonHTML5Lib ?

[09:52:00.0000] <jgraham>
OK, I just didn't want it to seem like an "official" implementation

[09:52:01.0000] <annevk>
lets make that clear in the first paragraph :)

[09:52:02.0000] <jgraham>
OK

[10:22:00.0000] <jgraham>
I've created http://wiki.whatwg.org/wiki/HTML5Lib I'll fill in some more of the details shortly

[10:30:00.0000] <Lachy>
You should use [Category:Implementations] instead so that the list is automatic

[10:34:00.0000] <Lachy>
done http://lachy.id.au/log/2005/12/xhtml-beginners

[10:34:01.0000] <Lachy>
oops, wrong like

[10:34:02.0000] <Lachy>
*link

[10:34:03.0000] <Lachy>
http://wiki.whatwg.org/wiki/Category:Implementations

[10:41:00.0000] <Lachy>
/me has had enough of Elliot, the arguments are just going round and round in circles.

[10:44:00.0000] <Lachy>
I'm going to try to not respond to him again, no matter how tempting it gets.

[11:22:00.0000] <jgraham>
http://wiki.whatwg.org/wiki/HTML5Lib now has some description of the tokeniser Please go ahead and rip it to shreds :)

[11:39:00.0000] <whateley>
/me (n=whateley⊙Sesn) has left #whatwg

[11:41:00.0000] <annevk>
hmm, seems to come down to yet aonther mime type debate

[11:41:01.0000] <annevk>
I love those! [pause] Not.

[11:41:02.0000] <annevk>
/me reads the wiki

[11:41:03.0000] <annevk>
/me just had some food

[11:44:00.0000] <jgraham>
/me notices a mistake in the wiki page

[11:46:00.0000] <annevk>
We should use the word Tokenizer

[11:46:01.0000] <annevk>
or HTMLTokenizer

[11:46:02.0000] <annevk>
note the z

[11:48:00.0000] <annevk>
see Google if you don't believe me :)

[11:48:01.0000] <annevk>
jgraham, so how does the tokenizer integrate with the parser?

[11:48:02.0000] <annevk>
parser -> tree construction phase

[11:48:03.0000] <annevk>
the three construction phase directly affects the tokenizer

[11:48:04.0000] <annevk>
s/three/tree ...

[11:49:00.0000] <jgraham>
Tokeniser == english spelling, tokenizer == American spelling, no?

[11:49:01.0000] <annevk>
yes

[11:49:02.0000] <jgraham>
But we can go with "z", I'll just make more typos that way ;)

[11:49:03.0000] <annevk>
"Results 1 - 10 of about 40,100 for tokeniser."

[11:49:04.0000] <annevk>
"Results 1 - 10 of about 1,240,000 for tokenizer. "

[11:50:00.0000] <annevk>
Google also suggested that I search for tokenizer when I tried tokeniser :)

[11:50:01.0000] <jgraham>
annevk: The parser calls getToken every time it wants a token. But it also holds a reference to the tokeniser so it can change the tokeniser state when it needs to. Does it ever do more than change the content model flag?

[11:52:00.0000] <annevk>
I don't think so

[11:52:01.0000] <annevk>
but can't we work with functions then in the tokenizer that the parser implements?

[11:54:00.0000] <jgraham>
Could do, I guess. I'm not sure what the benefit is though? 

[11:54:01.0000] <annevk>
I think it's cleaner than having temporary token objects...

[11:56:00.0000] <annevk>
/me reads through the spec once again

[11:58:00.0000] <jgraham>
Well this way the seperation between tokeniser and parser is pretty clean. It also has the nice property of being a very literal implementation of the spec - when it says "create a token" you really do. But I see your point; maybe it adds lots of overhead

[12:01:00.0000] <annevk>
I might have mentioned this already, but it would be nice if the parser was fairly low-level so it can be ported to other languages as well.

[12:01:01.0000] <annevk>
In an easy way

[12:03:00.0000] <annevk>
I think having functions might also make it easier to add markup injection, if ever...

[12:04:00.0000] <jgraham>
document.write in python?!

[12:06:00.0000] <annevk>
well, the architecture should sort of take it into account

[12:09:00.0000] <annevk>
jgraham, why do the base classes inherit from object?

[12:10:00.0000] <jgraham>
Because that makes them "new style" python classes

[12:10:01.0000] <jgraham>
Which have several generally desirable properties compared to old style classes

[12:11:00.0000] <jgraham>
see e.g. http://www.geocities.com/foetsch/python/new_style_classes.htm

[12:12:00.0000] <jgraham>
It's a backwards compat. issue

[12:15:00.0000] <jgraham>
annevk: So in your proposal, what would the interface between the parser and the tokeniser look like? Would you start with the tokeniser and have it call parser.startTagToken(name, attrs) when it made a start tag token? Or something else?

[12:15:01.0000] <annevk>
And what does frozenset gives us? What it seems to imply?

[12:16:00.0000] <annevk>
jgraham, I suppose self.startTagToken() if the parser inherits from it...

[12:16:01.0000] <annevk>
but yeah

[12:16:02.0000] <annevk>
I'm updating the wiki as we chat

[12:17:00.0000] <jgraham>
Also I think document.write would work in my model, you'd have to append the extra markup to the characterQueue (mistakenly called characterStack in the svn code). The treebuilder side of that would be the hard part

[12:19:00.0000] <annevk>
perhaps we should call it "characters"

[12:19:01.0000] <annevk>
hmm

[12:19:02.0000] <annevk>
jgraham, yeah, I guess it would

[12:20:00.0000] <jgraham>
frozenset is just an immutable set. Sets are nice because it's easy to compute unions, etc - useful since there are definitions like "All other elements found while parsing an HTML document" which we need to test against. Also membership tests should be fast (I think).

[12:21:00.0000] <annevk>
is it ok that they are global variables though?

[12:23:00.0000] <annevk>
hmm, I suppose you don't want to pass them around all the time

[12:23:01.0000] <jgraham>
They're only global in the current file

[12:23:02.0000] <annevk>
okay

[12:24:00.0000] <annevk>
that's what I expected

[12:25:00.0000] <annevk>
hmm, I've got referrers from example.com ...

[12:25:01.0000] <jgraham>
I don't understand why the parser would inherit from the tokeniser? I can see that the parser and tokeniser would call each other somehow but I don't see why they'd inherit?

[12:25:02.0000] <jgraham>
heh

[12:25:03.0000] <jgraham>
spammers?

[12:26:00.0000] <annevk>
think so

[12:27:00.0000] <annevk>
hmm, you're right

[12:28:00.0000] <annevk>
so you'd have x = HTMLParser("docRef"); HTMLParser invokes HTMLTokenizer(self, "docRef") and there you go

[12:28:01.0000] <annevk>
would that work?

[12:29:00.0000] <gsnedders>
/me (n=gsnedder⊙hrbc) Quit ("Don't touch /dev/null�")

[12:30:00.0000] <jgraham>
Yeah. That's basically what I have at the moment. Only I have a "parse" function in the parser which creates the tokeniser. 

[12:30:01.0000] <jgraham>
As well as starting parsing obviously

[12:35:00.0000] <annevk>
this is what I just added to the wiki: "There's an HTMLParser class you can invoke with an object. What this object is can be decided later. File object, string, URI, etc. The newly created HTMLParser object then instantiates an HTMLTokenizer with itself as argument and the object. The HTMLTokenizer then invokes does things like parser.emitStartTagToken(name, ...) etc."

[12:55:00.0000] <gsnedders>
what HTML5 parsers are there in existence already?

[12:56:00.0000] <gsnedders>
(and are bug-free enough to use as a reference implementation)

[12:56:01.0000] <annevk>
there are none

[12:56:02.0000] <annevk>
there's a project

[12:58:00.0000] <jgraham>
annevk: I've created a "callback" branch in svn to try your approach.

[12:58:01.0000] <gsnedders>
annevk: right. I knew there were several, but I didn't know how far they were in terms of development

[12:59:00.0000] <jgraham>
/me wishes he knew enough computer science to make an informed argument one way or the other

[12:59:01.0000] <annevk>
several, even?

[13:01:00.0000] <ROBOd2>
/me (n=robod⊙8321) Quit (Read error: 104 (Connection reset by peer))

[13:45:00.0000] <annevk>
/me (n=annevk⊙poc) Quit (Read error: 110 (Connection timed out))

[14:03:00.0000] <ROBOd2>
/me (n=robod⊙8321) Quit ("http://www.robodesign.ro")

[14:14:00.0000] <annevk>
/me (n=annevk⊙8111) Quit (Read error: 148 (No route to host))

