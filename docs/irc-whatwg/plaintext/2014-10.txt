2014-10-01
[17:03:18.0000] <wycats>
SimonSapin: maybe you can just have an informational slot for the original?

[17:04:22.0000] <wycats>
jgraham: I think it's likely as true as many sentences of the form "Browser X has shown that Y is possible"

[17:04:38.0000] <wycats>
but those sentences are said incorrectly in many cases ;)

[17:07:16.0000] <wycats>
I believe the original sentence by dherman was of the form "Servo is doing some interesting experiments that seem to be working ok so far. They may be worth looking into"

[17:15:00.0000] <jgraham>
That formulation of the original seems reasonable. The broader form is less reasonable for servo since it is generally compatible with almost no web content so it's impossible to measure compat losses

[17:25:44.0000] <wycats>
I don't think that's an accurate assessment re: compat

[17:25:51.0000] <wycats>
but you may have a very high bar

[17:26:29.0000] <Domenic>
how can you not have a very high bar after Array.prototype.contains

[17:26:30.0000] <Domenic>
/me cries

[17:27:38.0000] <Domenic>
(https://bugzilla.mozilla.org/show_bug.cgi?id=1075059 for those following along at home)

[17:29:09.0000] <terinjokes>
what features are looking at being secure sites only?

[17:29:17.0000] <terinjokes>
i know Service Worker is one

[17:30:05.0000] <Domenic>
terinjokes: annevk is hoping we can move privacy-sensitive ones like geolocation and videocam access into secure only over the next year or so

[17:30:19.0000] <Domenic>
terinjokes: probably EME

[17:30:50.0000] <Domenic>
terinjokes: in Chrome, WebCrypto, since our security guys say it is bad to give the impression of a site using crypto when in reality they could be MitMed. But Firefox disagrees and is shipping it everywhere.

[17:31:43.0000] <terinjokes>
interesting

[17:33:14.0000] <Domenic>
also in general http://www.chromium.org/Home/chromium-security/prefer-secure-origins-for-powerful-new-features

[17:33:57.0000] <smaug____>
speech API should be probably secure only

[17:34:02.0000] <terinjokes>
ah thanks, I saw that at Edge, but didn't have a link for it

[17:34:20.0000] <Domenic>
i wonder if requestAutocomplete is restricted...

[17:50:16.0000] <terinjokes>
for some reason i thought es6 modules, but looks like I'm wrong

[00:21:43.0000] <MikeSmith>
about fetch/CORS behavior, is the server supposed to send the Access-Control-Allow-Origin for a 304?

[00:42:55.0000] <annevk>
Domenic: it is

[00:43:09.0000] <annevk>
Domenic: https://wiki.whatwg.org/wiki/TLS tracks what I could find

[00:44:54.0000] <annevk>
terinjokes: ^

[00:45:24.0000] <annevk>
MikeSmith: yeah, why not?

[02:05:44.0000] <zcorpan>
i guess it's too late to make webrtc https only

[02:08:09.0000] <Ms2ger>
I dunno, is it?

[02:12:15.0000] <jgraham>
Depends if anyone is using in production on non https, doesn't it?

[02:13:00.0000] <annevk>
And how long that will last if we deprecate it, but I thought P2P stuff was already TLS-restricted

[02:23:17.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/3223 - getUserMedia seems to be allowed on insecure in gecko/blink/presto at least (but it's prefixed in gecko/blink)

[02:27:54.0000] <annevk>
zcorpan: oh, getUserMedia(), yes, there's a thread about that on public-media-capture that I still need to reply to

[02:58:46.0000] <MikeSmith>
annevk: for http://people.w3.org/mike/tests/fetch/ an Access-Control-Allow-Origin is sent wwith 200 responses as expected but not for 304 responses

[02:59:21.0000] <annevk>
MikeSmith: so you won't get to read the 304 response

[03:00:10.0000] <MikeSmith>
oh?

[03:02:41.0000] <MikeSmith>
annevk: ah because the browser just revalidates the cache entry?

[03:03:50.0000] <annevk>
MikeSmith: so this might actually be wrong in Fetch I guess

[03:04:22.0000] <annevk>
MikeSmith: currently we do a CORS check before we handle response statuses

[03:05:49.0000] <annevk>
MikeSmith: but even for redirects we require CORS checks to be done

[03:05:57.0000] <annevk>
MikeSmith: and this is effectively a redirect, so...

[03:06:38.0000] <MikeSmith>
ok

[03:07:29.0000] <annevk>
MikeSmith: are you encountering an issue?

[03:11:03.0000] <MikeSmith>
annevk: I had been thinking it was a bug because of seeing "XMLHttpRequest cannot load ... No 'Access-Control-Allow-Origin' header is present on the requested resource." when testing

[03:11:59.0000] <MikeSmith>
but now I realize maybe it was just because I was getting a stale cached copy from prior to when the .htaccess file was changed to add the header

[03:35:24.0000] <annevk>
jungkees: I'm not sure if it's worth repeating, but what you should focus on is the model

[03:35:39.0000] <annevk>
jungkees: what objects are in play, what is their lifetime, what objects are they associated with

[03:35:52.0000] <annevk>
jungkees: and then define that model in detail

[03:36:20.0000] <annevk>
jungkees: and then when you define something like the installing attribute, it will simply return one of the objects in that model

[03:37:09.0000] <annevk>
jungkees: the way you are writing the service worker specification now will not get you to the finish line

[03:37:39.0000] <alystair>
Anyone here happen to have a coupon code for the W3C validator suite? registering now >_>

[03:40:57.0000] <annevk>
I suspect MikeSmith does, but he's prolly not allowed to share those :-)

[03:41:20.0000] <jungkees>
annevk: Thanks for the comment. I'll soon have time to revisit that point.

[03:42:04.0000] <annevk>
jungkees: no rush btw, please do enjoy your time off or whatever it is you're doing now :-)

[03:42:21.0000] <alystair>
is there a room similar to #whatwg but for CSS spec?

[03:42:29.0000] <annevk>
jungkees: if you need help let me know

[03:42:41.0000] <annevk>
alystair: irc.w3.org has #css

[03:42:49.0000] <alystair>
I need to know who to blame for inner box-shadow rendering on <img>

[03:42:53.0000] <jungkees>
annevk: definitely. I need your help over time :-)

[03:43:13.0000] <alystair>
(or lack of it)

[03:43:18.0000] <alystair>
thanks

[03:44:15.0000] <MikeSmith>
alystair: I Just use the free validator, and for batch validation, the jar from https://github.com/validator/validator.github.io/releases/latest

[03:46:58.0000] <jgraham>
Woah, the W3C moved into validator sales?

[03:48:06.0000] <alystair>
perhaps W3C mug sales were not as brisk as they'd hoped? ;)

[03:48:33.0000] <jgraham>
Oh does that explain why the W3C is still full of mugs?

[03:48:37.0000] <annevk>
jgraham: apparently getting paid by members was not enough

[03:48:40.0000] <jgraham>
(sorry ;)

[03:48:58.0000] <alystair>
too much coffee not enough tea~

[03:49:04.0000] <annevk>
I use my W3C mug regularly for tea

[03:49:20.0000] <annevk>
I got mine from Amy though

[03:49:58.0000] <alystair>
(I didn't actually know they had mugs, more humorous than I expected)

[03:50:10.0000] <annevk>
Now I kind of want a WHATWG mug

[03:50:44.0000] <annevk>
Has anyone figured out how WHATWG green translates to print?

[03:51:06.0000] <jgraham>
I imagine it looks just as bad as on screen :)

[03:51:06.0000] <darobin>
probably just about as ugly?

[03:51:09.0000] <jgraham>
heh

[03:52:09.0000] <alystair>
"ugly mug" would have a much more literal meaning :D

[03:52:12.0000] <annevk>
We made a t-shirt once, that almost nobody understands. I think I still have mine somewhere and I see hober wearing it sometimes

[03:52:18.0000] <jgraham>
(back on the subject of the validator suite, those "testimonials" look like filler content)

[03:52:51.0000] <zcorpan>
createMathMLDocument() huh. http://www.w3.org/TR/MathML2/appendixd.html

[03:53:12.0000] <MikeSmith>
jgraham: hey I spent a lot of time writing those testimonials

[03:53:44.0000] <annevk>
It looks they're still for sale: http://five-gt-two.spreadshirt.com/

[03:56:47.0000] <annevk>
We even have wallpapers: http://whatwg.majda.cz/wallpapers/

[03:58:18.0000] <jgraham>
I was hoping for the kind of wallpaper you can use to decorate your home

[04:10:06.0000] <annevk>
heh

[04:51:53.0000] <annevk>
I looked into the style sheet for specifications other than HTML. It seems that for wider screens we could float the table of contents to the right. Perhaps put a border around it or some such or some a wide enough margin.

[04:52:22.0000] <annevk>
We could also remove the gap on the left. HTML uses that for infoboxes but no other spec has infoboxes at this point and unless Hixie generalizes the API I don't see that happening.

[04:52:54.0000] <annevk>
zcorpan does place the "select text to file a bug" widget in that left margin, but I'm sure we can think of something.

[04:53:25.0000] <annevk>
Removing the wide left margin would also allow us to fit more text on the screen for mobile devices. Apparently people do read specs on their phones.

[04:59:51.0000] <annevk>
Oh, back in '96 W3C used the MIT license: http://www.w3.org/TR/REC-png-961001#Credits

[05:00:58.0000] <annevk>
Of course, even that was a regression from: http://www.w3.org/Policy.html

[05:06:08.0000] <Domenic>
wow 5 > 2 that is kind of subtle these days

[05:06:44.0000] <zcorpan>
i think i don't have mine anymore

[05:07:17.0000] <darobin>
Domenic: yeah, it comes off almost ironic now

[05:07:53.0000] <darobin>
I guess today it comes down to a battle between 5 > null and 5 > undefined ;)

[05:07:56.0000] <Domenic>
heh yeah

[05:11:48.0000] <Domenic>
broken link at the bottom of https://whatwg.org/specs/. /cc Hixie I guess

[05:16:21.0000] <MikeSmith>
jgraham: oh man those testimonials really are about completely unispiring as they could be

[05:16:48.0000] <MikeSmith>
jgraham: I think it just needs pictures, like at http://www.theonion.com/articles/new-antifacebook-social-network-ello-boasts-lack-o,37035/

[05:17:29.0000] <MikeSmith>
jgraham: hey, could even borrow even do a variation on the “No advertising is nice, but what really appeals to me is the lack of users.” quote there. Good fit

[05:20:20.0000] <annevk>
So, when you iterate over FormData you get an Array that consists of DOMString and a File? Does that seem appropriate, Domenic?

[05:20:27.0000] <zcorpan>
what testimonials?

[05:21:02.0000] <Domenic>
annevk: not an array, an iterator. but yes.

[05:21:47.0000] <annevk>
Domenic: well each iterator value would be an array due to lack of tuples, no?

[05:21:50.0000] <MikeSmith>
zcorpan: middle of https://validator-suite.w3.org/

[05:21:55.0000] <Domenic>
annevk: ah right i misread

[05:22:28.0000] <annevk>
For URLSearchParams, it would be DOMString, DOMString; Headers would be ByteString, ByteString

[05:22:36.0000] <MikeSmith>
/me peruses https://github.com/whatwg/loader

[05:25:26.0000] <Domenic>
annevk: agree

[05:25:42.0000] <Domenic>
annevk: that is the default iterator; you also want keys() and values() iterators

[05:28:48.0000] <zcorpan>
MikeSmith: LOOOOOOOOOOOOOOOOOOL

[05:30:04.0000] <annevk>
"enhanced validity"

[05:30:24.0000] <annevk>
Too bad Extended Validation is already a thing

[05:31:09.0000] <MikeSmith>
oh man I guess I'd be better off having not tried to actually read that page

[05:31:38.0000] <jgraham>
annevk: "enhanced validity" is going to be the tagline for W3C's new unsolicited email marketing campaign

[05:32:25.0000] <MikeSmith>
jgraham: that was considered but I think the consensus decision was to go with "now with turbo boost"

[05:34:18.0000] <MikeSmith>
annevk: trying to figure out how to fit "Reasonably unfiltered" into the messaging there

[05:34:20.0000] <jgraham>
"can't perform in your text editor? Women laugh at your markup? Get enhanced validity now"

[05:34:32.0000] <MikeSmith>
hahah

[05:36:23.0000] <annevk>
Domenic: https://www.w3.org/Bugs/Public/show_bug.cgi?id=26183#c17

[05:36:56.0000] <annevk>
jgraham: that's a bit sexist

[05:38:04.0000] <jgraham>
annevk: I was thinking of viagra spam, which is generally marketed at men

[05:43:36.0000] <Domenic>
annevk: seems similar to the MapLikeIterator from that other bug

[05:43:44.0000] <Domenic>
annevk: which was blocked on figuring out what the abstract model should be

[05:43:59.0000] <Domenic>
annevk: "blocked" = "I was too lazy to propose that part because it is harder"

[05:48:24.0000] <annevk>
Domenic: perhaps at this point IDL should just expose the hooks for iterators as I suggested in the end and we can define the templates ourselves

[05:48:42.0000] <annevk>
Domenic: templates for multimap-like, set-like, etc.

[05:48:57.0000] <annevk>
Domenic: and then much later uplift the whole thing to something better

[05:50:20.0000] <Domenic>
seems reasonable I guess

[06:09:06.0000] <beverloo>
annevk, what exception for incorrect invocation?

[06:09:16.0000] <beverloo>
we have no exceptions on that code path (N.requestPermission)

[06:09:29.0000] <annevk>
beverloo: e.g. Notification.requestPermission("TEST") throws I think

[06:09:43.0000] <annevk>
beverloo: you haven't studied the full code path then ;-)

[06:10:14.0000] <beverloo>
ah, binding magic

[06:23:10.0000] <jgraham>
Isn't the conversation that's currently playing out on whatwg@ exactly what Hixie complained about with the use of rejection for exceptional conditions?

[06:34:52.0000] <annevk>
jgraham: don't think so

[06:35:49.0000] <jgraham>
annevk: OK, well I mailed the list so feel free to explain why I'm wrong

[06:37:39.0000] <annevk>
maybe later

[06:41:41.0000] <jgraham>
Now I feel rejected :p

[06:50:08.0000] <Domenic>
annevk: FWIW I feel like it comes down to names, and "request" is ambiguous

[06:50:22.0000] <Domenic>
If it it was "getPermissionFromUser()" then I would say not getting permission is exceptional

[06:50:54.0000] <Domenic>
if it was "doesUserAllowCameraAccess()" then it would be clearly unexceptional

[06:51:03.0000] <Domenic>
but "requestPermission()" could go either way

[07:13:23.0000] <Domenic>
link to the bug on speccing animation frame tasks and tying CSS animations into all that?

[07:30:00.0000] <gsnedders>
jgraham, hsivonen: my gut says that the fragment parsing tests should probably be in a separate test file; thoughts?

[07:57:29.0000] <annevk>
Domenic: https://www.w3.org/Bugs/Public/show_bug.cgi?id=26839 is the latest on animation frame tasks

[07:58:17.0000] <annevk>
Domenic: if you ignore the name, since whether we call it requestMoon() or getMoon() seems hardly relevant, what behavior do we want? What code do we want people to write?

[07:58:36.0000] <annevk>
jgraham: hah, just deferred

[08:24:55.0000] <annevk>
JakeA: https://github.com/slightlyoff/ServiceWorker/issues/412 ping

[08:29:30.0000] <slightlyoff>
looking

[08:30:26.0000] <slightlyoff>
JakeA is out (vacation) IIRC

[08:31:41.0000] <annevk>
slightlyoff: you're more than acceptable as stand-in :p

[08:41:23.0000] <annevk>
TabAtkins: I feel like you should talk to Domenic about how to sort that mismatch

[08:41:52.0000] <annevk>
TabAtkins: I agree with you that it makes a lot of sense to group all "failure", but then the async/await path really sucks

[08:59:17.0000] <slightlyoff>
I think that the described behaiour is fine, annevk

[08:59:32.0000] <annevk>
slightlyoff: and the new name?

[08:59:34.0000] <slightlyoff>
annevk: is the name change related to the value of Cache-Control? or of the option to fetch?

[08:59:43.0000] <annevk>
slightlyoff: fetch

[08:59:51.0000] <annevk>
cache-control is not really affected in any way I hope

[08:59:59.0000] <slightlyoff>
I'd like it to not have a dash = )

[09:00:06.0000] <slightlyoff>
but otherwise I don't mind

[09:00:25.0000] <slightlyoff>
it seems fine. Defer to Horo-san on actual behavior, but this seems fine WRT our impl

[09:14:11.0000] <Ms2ger>
https://twitter.com/CDN_Antitheist/status/517252789680877568

[09:15:02.0000] <annevk>
Ms2ger: those replies lol

[09:29:53.0000] <TabAtkins>
annevk: I agree that it sucks.

[09:30:34.0000] <TabAtkins>
annevk: Though we could always add a Promise.prototype method that shifts *some* rejects into fulfills, when they're tagged as "not fatal" or something.

[09:30:50.0000] <TabAtkins>
await geo.request().lessThrowing()

[09:31:04.0000] <TabAtkins>
Or something else like that, I dunno.

[09:31:29.0000] <annevk>
I guess Domenic's point is that it should be the other way around

[09:31:32.0000] <TabAtkins>
Maybe a different keyword, one that only rethrows "fatal" rejects, and one that throws all of them.

[09:32:04.0000] <TabAtkins>
annevk: Yeah, but his "other way around" is optimized for `await`, not promises.  We can fix one of them, the other's frozen.

[09:38:22.0000] <annevk>
I'm rather aligned personally with the return/throw analogy.

[09:38:59.0000] <annevk>
(And to be clear, a network error seems like something you'd throw for since that is exceptional. Normally that works.)

[09:41:07.0000] <jgraham>
Hmm, depends what you mean by "network error"

[09:41:48.0000] <jgraham>
I'm familiar with APIs that throw for socket errors, but less so with ones that would throw for e.g. a 500 HTTP response

[09:42:23.0000] <annevk>
jgraham: network error is defined in https://fetch.spec.whatwg.org/

[09:42:30.0000] <TabAtkins>
annevk: I thought that fetch() fulfilled for failure responses.

[09:42:44.0000] <annevk>
TabAtkins: failure being?

[09:43:46.0000] <TabAtkins>
Hm, from a quick reading of the definition of "network error" in the spec, I'm not sure.  It doesn't go into any detail about what sorts of things cause network errors.

[09:44:04.0000] <annevk>
Yeah, you need to read through the spec

[09:44:20.0000] <TabAtkins>
UGH WHY IS IT SO HARD

[09:44:31.0000] <annevk>
But typical scenarios include the network failing, CORS failing, infinite redirects

[09:44:45.0000] <annevk>
HTTP 500 is not a network error

[09:45:00.0000] <annevk>
The network is fine, it's the server that's not

[09:45:05.0000] <TabAtkins>
Ah, kk

[09:45:43.0000] <jgraham>
Really? https://fetch.spec.whatwg.org/#cors-preflight-fetch-0 sounds like it is, but I might be missing something

[09:47:54.0000] <annevk>
jgraham: that would be CORS failing

[09:48:30.0000] <annevk>
jgraham: CORS is a protocol layered on top, but any failures have to be masked as network failures for security

[09:48:33.0000] <jgraham>
Oh I see

[11:47:14.0000] <Hixie>
so i'm working on replacing the in-spec feature boxes with just importing the caniuse data

[11:47:27.0000] <Hixie>
anyone have any opinions on this?

[11:47:37.0000] <Hixie>
e.g. should I just look at the state of the latest version?

[11:47:40.0000] <Hixie>
most widely used version?

[11:47:45.0000] <Hixie>
any version?

[11:47:50.0000] <Hixie>
(version of a browser, i mean)

[11:47:57.0000] <Hixie>
i'm leaning towards "latest"

[11:48:19.0000] <Ms2ger>
Latest

[11:48:24.0000] <Hixie>
k

[11:49:47.0000] <Hixie>
i'm thinking that i should get the N most popular browsers, probably N=5 since we have 5 icons right now in the box, and then i just show the icons of the the subset of those browsers that support the feature

[11:49:57.0000] <Hixie>
instead of the current hidden icon / shown icon thing

[12:05:53.0000] <annevk>
Loving unimpressed marcosc

[12:06:32.0000] <annevk>
Hixie: while you do that, can you consider a change in styling that makes them floats and uses the sidebar for text rather than mostly whitespace?

[12:06:52.0000] <annevk>
Hixie: in particular on devices with smaller screens, it feels a bit like a waste

[12:07:20.0000] <annevk>
Hixie: I might fork the style sheet (or override) for a while to do something else on other specs

[12:07:52.0000] <Hixie>
how do you mean?

[12:07:59.0000] <Hixie>
the margin's roughly the same on both sides, no?

[12:08:02.0000] <annevk>
Hixie: I think what you should show is since when the feature is supported on a per browser basis

[12:08:20.0000] <annevk>
Hixie: no, there's an 8em left margin

[12:08:34.0000] <annevk>
Hixie: very clear in e.g. https://fetch.spec.whatwg.org/#acknowledgments

[12:08:59.0000] <annevk>
Hixie: outside of HTML that margin is only used for that black arrow

[12:09:20.0000] <Hixie>
oh, i see, there's a max-width and i happen to have a monitor wide enough that it gives a margin on both sides

[12:10:14.0000] <Hixie>
i guess we could move the margin to the right, but that doesn't seem like it'd help much...

[12:10:24.0000] <Hixie>
floats don't work very well so i'm reluctant to use those

[12:10:42.0000] <annevk>
no shifting the margin is not good :-)

[12:10:44.0000] <Hixie>
and floats don't let you pin the box to the top of the screen

[12:10:57.0000] <annevk>
hmm true

[12:11:41.0000] <Hixie>
if you want i can point the spec to a style sheet you control so you can play with it and see if you can come up with something that works but is better

[12:11:42.0000] <annevk>
Hixie: do you care to maintain the style sheet for non-HTML specs as well? perhaps the boxes layout can be opt-in?

[12:12:09.0000] <Hixie>
imho we should keep all the specs consistent

[12:12:16.0000] <Hixie>
ideally, we'd have all the specs have this caniuse data

[12:12:39.0000] <annevk>
Hixie: that sounds great to me, can you write the software more generically this time? :-)

[12:12:43.0000] <Hixie>
though since i'm baking it in at spec generation time to make the html spec load faster, it's not something you'll get for free

[12:12:54.0000] <Hixie>
the html spec generator is pretty generic, i think?

[12:13:12.0000] <annevk>
is that public now? sorry I haven't been paying attention much

[12:13:34.0000] <annevk>
I'm happy to do work to make this work in other specs, either through a <script> or some pre-processing

[12:13:53.0000] <Hixie>
what generator do you use these days, anolis?

[12:14:07.0000] <annevk>
Hixie: you could put shared resources in https://github.com/whatwg/resources.whatwg.org/ and they will end up on https://resources.whatwg.org/

[12:14:15.0000] <annevk>
Hixie: there's a commit hook that automates that process

[12:14:33.0000] <annevk>
Hixie: I still use Anolis, have some hopes of switching to Bikeshed

[12:15:00.0000] <Hixie>
you could lobby tab to add caniuse logic to bikeshed

[12:16:59.0000] <annevk>
but yeah, as I mentioned earlier today I'd be interested in having less whitespace on small screens

[12:17:11.0000] <annevk>
perhaps we can use floats there and not do the top align thing

[12:17:23.0000] <annevk>
and introduce actual content earlier, perhaps by floating the ToC

[12:18:07.0000] <Hixie>
how about i point the spec to https://resources.whatwg.org/experiment.css (as an additional style sheet) and you can see if you can come up with something nice that replaces what we have now

[12:19:41.0000] <annevk>
sounds interesting, let's try it

[12:21:48.0000] <annevk>
biab

[12:26:14.0000] <Hixie>
annevk: (done)

[13:09:30.0000] <zcorpan>
Hixie: latest is sometimes "unknown" on caniuse i think. while current version might be "no". but maybe that is ok

[13:10:27.0000] <Hixie>
i'll skip past unknowns if i have a previous known value

[13:18:51.0000] <Hixie>
interesting

[13:19:10.0000] <Hixie>
according to the caniuse.com data, iOS Safari and Android Chrome both have 6.09% usage share

[14:07:33.0000] <annevk>
Hixie: zcorpan: I would expect us to list the earliest known browser for a given feature

[14:07:57.0000] <annevk>
Hixie: zcorpan: e.g. IE7+ or some such for XMLHttpRequest

[14:09:36.0000] <Hixie>
when you say "list"

[14:09:41.0000] <Hixie>
how do you envisage this being shown?

[14:09:47.0000] <Hixie>
i mean i was just imagining showing an icon, like now

[14:09:50.0000] <Hixie>
just... more accurate

[14:10:50.0000] <annevk>
Hixie: no text?

[14:11:28.0000] <annevk>
Hixie: I can imagine that if people see IE / Safari supporting it, they wonder which version it is

[14:11:30.0000] <Hixie>
i'm more or less open to anything, if you have a concrete suggestion :-)

[14:11:52.0000] <annevk>
[browsericon][versions

[14:11:53.0000] <annevk>
]

[14:12:21.0000] <annevk>
or some such

[14:13:35.0000] <annevk>
Support in: [FF]22+ [C/O]30+ [IE]11 [S]7

[14:13:50.0000] <Hixie>
like, stacked vertically?

[14:14:08.0000] <Hixie>
here, the style sheet is in now

[14:14:11.0000] <Hixie>
make me a mockup :-)

[14:17:22.0000] <annevk>
Hixie: example of a feature that has this?

[14:17:30.0000] <annevk>
I picked DOMStringMap, no luck

[14:17:49.0000] <Hixie>
has what?

[14:18:01.0000] <annevk>
https://html.spec.whatwg.org/multipage/dom.html#the-id-attribute seems fine

[14:18:48.0000] <annevk>
Hixie: I just thought that if you're going to use the caniuse data, apart from the browsers that supports it, you might also want to mention from which version they support it, if that information is there

[14:19:12.0000] <Hixie>
i'm happy to do so if you have a suggestion for what it should look like

[14:19:25.0000] <Hixie>
i'm writing the code to get that data

[14:19:29.0000] <Hixie>
i'll put it in the markup

[14:19:33.0000] <Hixie>
and your style sheet will show it

[14:19:34.0000] <Hixie>
:-)

[14:19:41.0000] <Hixie>
(for now, fake it with generated content)

[14:22:59.0000] <annevk>
http://www.w3.org/community/urispec/participants o_O

[14:23:28.0000] <annevk>
Oh, the only email so far is the one that got me there: http://lists.w3.org/Archives/Public/public-urispec/2014Oct/0000.html

[14:23:34.0000] <annevk>
So I guess that means it's a no-op

[14:24:08.0000] <wilhelm>
Wat.

[14:24:18.0000] <annevk>
Hixie: can you tell me what you plan on changing markup-wise and what remains the same?

[14:24:52.0000] <annevk>
Hixie: I can't do it tonight, but will give this a shot tomorrow, should be fun to do some tweaking

[14:25:24.0000] <Hixie>
annevk: i've no plans yet

[14:25:38.0000] <Hixie>
annevk: assume it'll be identical until further notice

[14:25:51.0000] <Hixie>
if you do nothing, it'll be identical cos that way i won't have to touch the style sheet :-)

[15:15:15.0000] <Hixie>
we are gonna have to clean up this caniuse data

[15:15:42.0000] <Hixie>
the spec links in particular. even if you ignore that they point to TR/ pages more often than not, some of the frag IDs are not very precise.

[15:15:56.0000] <Hixie>
also there's not that much data here, all things considered.

[15:16:28.0000] <Hixie>
what do people think: should we keep the current system, or switch to caniuse.com data when the latter would only annotate 26 places in the spec?

[15:23:52.0000] <Hixie>
jgraham: you around?

[15:29:39.0000] <Ms2ger>
Hixie, doesn't sound like it's worth it

[15:30:07.0000] <Ms2ger>
Hixie, I'd be more interested in test results once we aggregate those

[15:30:39.0000] <Hixie>
i think i'm going to drop the current boxes and replace it with caniuse data and links to bugs

[15:30:46.0000] <Hixie>
the current links to bugs thing isn't very up to date, i think

[15:31:32.0000] <Hixie>
and drop the "section status" stuff

[15:31:55.0000] <Hixie>
but if there's other stuff that can be added in, like test results, i'm happy to add those

[16:24:43.0000] <Hixie>
kittens, even with the HTML5 spec i get multiple versions of the w3c spec

[16:24:48.0000] <Hixie>
not quite as bad as the canvas spec was, but still

[16:25:09.0000] <Hixie>
just in my caniuse/bugs processing code, i have five lines just to recognise URLs that refer to the w3c html5 spec

[16:25:44.0000] <Hixie>
(i have five lines for the whatwg spec too, but four of those are redirects now)

[16:26:19.0000] <Hixie>
oh, found another. w3c html5 specs.

[16:26:26.0000] <Hixie>
six of them.

[16:28:43.0000] <Hixie>
7.

[16:40:10.0000] <Hixie>
TabAtkins: https://www.w3.org/Bugs/Public/show_bug.cgi?id=25472#c18 disagrees with your argument about how a successful promise should never represent user cancelation


2014-10-02
[17:24:55.0000] <tantek>
Hixie, obligatory reference to xkcd.com/927

[17:32:01.0000] <MikeSmith>
embind looks fairly cool http://kripken.github.io/emscripten-site/docs/porting/connecting_cpp_and_javascript/embind.html

[17:34:53.0000] <MikeSmith>
now you can do manual memory management in JavaScript! http://kripken.github.io/emscripten-site/docs/porting/connecting_cpp_and_javascript/embind.html#memory-management

[17:37:33.0000] <tantek>
yo dawg we heard you like memory management

[17:38:29.0000] <caitp>
are we still talking about llvm IC converted to js, or is emscripten doing something else now?

[17:40:00.0000] <caitp>
(it's pretty cool either way, i'm just not understanding how emscripten is providing bindings between js and C++ now if it runs entirely in a JS sandbox)

[18:06:12.0000] <Hixie>
tantek: these aren't competing standards, these are the same standard, forked multiple times by one organisation

[18:10:33.0000] <tantek>
Hixie s/competing/confusing

[21:45:18.0000] <zcorpan>
Hixie: what are the html5 spec URLs? i can send a PR to fix them

[22:21:25.0000] <Hixie>
zcorpan: if you mean in the caniuse.com data, there's a number of things we could ask to have changed, e.g. most of the things that use TR/ drafts could point to more recent actively maintained versions, the whatwg.org statuses could be changed to "other", and we could suggest that the whatwg specs be used as canonical rather than the forks

[22:54:29.0000] <MikeSmith>
caitp: it's emscripten doing something else now (though I don't know the actual mechanics of how it's doing it)

[23:00:56.0000] <MikeSmith>
Hixie: https://twitter.com/jschauma/status/513013363375628288

[23:16:11.0000] <MikeSmith>
caitp: http://chadaustin.me/2014/09/connecting-c-and-javascript-on-the-web-with-embind/ has more details if you're interested

[00:51:08.0000] <jgraham>
Hixie: does being around now help?

[01:16:23.0000] <MikeSmith>
I'm wondering if it's time we just gave up on meta@http-equiv=X-UA-Compatible as a conformance error

[01:17:24.0000] <MikeSmith>
everybody's using it in spite of that, so having the validator report an error for it is just an annoying time-waster from the perspective of most authors, I think

[01:41:44.0000] <annevk>
heycam|away: I try to avoid [Attributes] as they look ugly

[01:41:59.0000] <annevk>
heycam|away: also, legacyiterable has the right incentive attached to it

[01:42:25.0000] <annevk>
heycam|away: (my initial thought was [NoMethods] too though)

[01:43:25.0000] <Ms2ger>
What's legacyiterable?

[01:49:10.0000] <annevk>
Ms2ger: something we can use for HTMLCollection and friends

[01:49:27.0000] <annevk>
Ms2ger: stuff that gets Symbol.iterator, but not forEach and such

[01:50:01.0000] <Ms2ger>
Ah

[02:14:08.0000] <MikeSmith>
hsivonen: FYI https://github.com/validator/validator/issues/1 about 'error: An “body” start tag seen but an element of the same type was already open.

[02:24:11.0000] <zcorpan>
MikeSmith: actual testimonials: https://twitter.com/newtron/status/405370084904173568 https://twitter.com/paulgreg/status/390546545071771648 https://twitter.com/m_strehl/status/383279928709357569 https://twitter.com/mattur/status/377500793575718912

[02:25:08.0000] <MikeSmith>
zcorpan: you missed one: https://twitter.com/jalbertbowdenii/status/377502617191976960

[02:25:41.0000] <zcorpan>
there were positive tweets also though

[02:25:53.0000] <MikeSmith>
oh yeah?

[02:29:21.0000] <zcorpan>
https://twitter.com/obiwankimberly/status/397701282560872449 https://twitter.com/therealdeiu/status/389486808914219008 https://twitter.com/ia11y/status/379957284660469760 https://twitter.com/gwfrink3/status/378149023921614848

[02:32:23.0000] <MikeSmith>
zcorpan: wonders never cease

[02:35:06.0000] <MikeSmith>
zcorpan: I wonder if "I'm hoping this bad idea will just die a natural death soon" would be considered a positive testimonial or a negative one

[02:35:39.0000] <MikeSmith>
it's positive in that it's expressing hope at least -- it's a hope-filled testimonial

[02:35:48.0000] <zcorpan>
heh

[02:37:08.0000] <MikeSmith>
zcorpan: as far something genuinely hopeful and nice to see, https://github.com/twbs/bootstrap/issues/11984#issuecomment-31206072

[02:37:35.0000] <MikeSmith>
'A bot that scans for newly posted comments with JS Fiddle or JS Bin links, extracts the HTML portion of the Fiddle/Bin, runs it thru the HTML5 validator, and posts a follow-up comment listing any validation errors. We get a decent number of "bug" reports where the problem is actually due to invalid HTML.'

[02:37:55.0000] <MikeSmith>
= comments posted to github issue tracker for a particular project

[02:38:57.0000] <MikeSmith>
and the best part is that the code for just such a bot does now actually exist https://github.com/cvrebert/lmvtfy

[02:40:07.0000] <zcorpan>
nice

[02:40:14.0000] <zcorpan>
but does it check for accessibility?

[02:45:13.0000] <jgraham>
"If you're not using [it] yet you don't know what you're missing" is just a statement of fact. An endorsement would be something like "Web Developers SHOULD use the new W3C validator suite"

[02:46:25.0000] <jgraham>
/me assumes all web authors have read Hixie's guide to how to read specifications

[03:01:21.0000] <smaug____>
can service worker open new windows?

[03:02:20.0000] <smaug____>
/me is just wondering annevk's question to webapps wg

[03:12:34.0000] <smaug____>
ServiceWorkerClient perhaps?

[03:21:38.0000] <smaug____>
I don't understand how that setup prevents unwanted popups

[03:43:29.0000] <annevk>
smaug____: well it might have to be opt-in

[03:43:40.0000] <annevk>
smaug____: there's no API today for opening things

[03:45:50.0000] <smaug____>
we need window opening too for the skype use case

[03:46:52.0000] <smaug____>
did you mean "[accept call] [cancel]" kind of case for the notifications?

[03:47:49.0000] <smaug____>
Wouldn't we possibly need also some kind app-activator-icon

[03:53:45.0000] <annevk>
smaug____: well window and popup are the same, no?

[03:54:32.0000] <annevk>
smaug____: I meant notifications that would basically allow HTML, which is why I just went with the word popup

[03:54:39.0000] <annevk>
smaug____: so you can show who is calling, etc.

[03:58:13.0000] <smaug____>
window and popup aren't quite the same

[03:58:23.0000] <smaug____>
well

[03:58:27.0000] <smaug____>
window and notification

[03:59:03.0000] <smaug____>
window and popup are the same

[04:14:43.0000] <zcorpan>
can someone explain https://www.w3.org/Bugs/Public/show_bug.cgi?id=26952 ?

[04:24:35.0000] <jgraham>
zcorpan: I imagine Silvia could? I don't understand the percieved conflict at least, so it seems rather needsinfo

[04:49:28.0000] <annevk>
smaug____: depends on whether the notification requires a browsing context, imo

[04:49:35.0000] <annevk>
smaug____: and in this case it would

[04:50:04.0000] <annevk>
smaug____: but agreed on "not quite", but at this point such details seem a bit premature :-)

[04:50:55.0000] <jgraham>
I always forget that the foreign content handling in the parser spec is by "magic"

[04:51:45.0000] <jgraham>
(i.e. a branch when getting tokens from the tokenizer rather than through the normal state machinery)

[04:55:00.0000] <annevk>
Seems I forgot that too, if I never knew it

[04:55:11.0000] <annevk>
zcorpan: tried

[04:56:46.0000] <zcorpan>
annevk: thx

[05:24:33.0000] <annevk>
Per https://html.spec.whatwg.org/multipage/semantics.html#the-head-element only Firefox implements the <head> element

[05:32:13.0000] <MikeSmith>
zcorpan: I need to submit a patch to change the 'error: An “body” start tag seen but an element of the same type was already open.' emitted from http://hg.mozilla.org/projects/htmlparser/file/ddc1fa48fcc9/src/nu/validator/htmlparser/impl/TreeBuilder.java#l6232

[05:32:40.0000] <MikeSmith>
zcorpan: any opinion on what it should be changed to?

[05:33:14.0000] <MikeSmith>
zcorpan: one choice is, just drop the "An" and make it "“body” start tag seen but an element of the same type was already open."

[05:33:39.0000] <zcorpan>
MikeSmith: oh it's a vs an that is the problem?

[05:33:53.0000] <MikeSmith>
another is "Start tag “body” seen but an element of the same type was already open."

[05:34:00.0000] <MikeSmith>
zcorpan: yeah

[05:34:27.0000] <MikeSmith>
reported at https://github.com/validator/validator/issues/1

[05:34:45.0000] <MikeSmith>
from one of the boostrap devs

[05:35:10.0000] <annevk>
Hixie: I can't really come up with a decent way to improve the current set of styles to address the issue I'm seeing in other specs :/

[05:35:23.0000] <zcorpan>
Start tag “body” seems ok. maybe make the messages a bit more consistent in the wording while at it?

[05:35:23.0000] <MikeSmith>
zcorpan: Henri currentlly just has "An" harcoded in there

[05:35:52.0000] <zcorpan>
there's "End tag \u201Cbr\u201D."

[05:35:53.0000] <MikeSmith>
zcorpan: yeah ok I'll look at the others in there too

[05:36:20.0000] <MikeSmith>
oh so changeing it would actually make it more consistent then

[05:37:29.0000] <zcorpan>
yeah... but i also see "\u201C" + name + "\u201D end tag..."

[05:46:12.0000] <MikeSmith>
I guess I should fix that one too then

[05:47:47.0000] <jgraham>
annevk: Yeah, all that implementation metadata is crap

[05:47:57.0000] <jgraham>
I don't know why we still have it

[05:48:23.0000] <annevk>
The new idea is to get some stuff from caniuse

[05:48:24.0000] <jgraham>
There is no evidence that anyone is interested in conuming it or keeping it updated

[05:48:45.0000] <jgraham>
The new old idea (pretty sure that's been floating around for years)

[05:49:26.0000] <annevk>
I'm experimenting with some rules that make it easier to edit by enlarging it when you hover (and I should probably add focus) it

[05:50:23.0000] <jgraham>
Is ease of editing the actual problem?

[05:53:59.0000] <annevk>
Well, it's not entirely obvious you can edit these

[05:54:02.0000] <jgraham>
(I guess your answer is "we don't know until we try changing it", which is fair. I guess I wouldn't invest too much effort in it though.)

[05:54:40.0000] <jgraham>
Yeah, but you and I know that and I certainly never update them

[05:59:09.0000] <annevk>
True

[06:01:07.0000] <zcorpan>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=26951#c7 is a bit depressing

[06:06:28.0000] <jgraham>
zcorpan: That seems like it follows from the first law of metadata ("if getting your metadata wrong doesn't actually break anything, it will be wrong often enough to be useless")

[06:06:44.0000] <jgraham>
zcorpan: Although 98% is still pretty impressive :)

[06:07:43.0000] <zcorpan>
yeah

[06:09:06.0000] <zcorpan>
also interesting that it seems there are more cases that are neither "en" nor "es" than there are "es"

[06:10:51.0000] <annevk>
We used to have the reverse problem. DOCTYPEs stating //EN and people changing it to //NL

[06:13:33.0000] <Ms2ger>
"I would have expected that their polyfill would be smart enough to notice a ES7 compliant A.p.contains() and defer to it."

[06:13:37.0000] <Ms2ger>
/me cackles

[06:15:07.0000] <zcorpan>
annevk: maybe that was the same 2% that specified lang=es here :-)

[06:17:33.0000] <jgraham>
Ms2ger: I was thinking of coining the phrase "the myth of the suffciently smart web author" in response to that, but maybe I shouldn't ;)

[06:18:04.0000] <jgraham>
*sufficiently

[06:18:17.0000] <Ms2ger>
If you're going to typo it, you shouldn't ;)

[06:18:44.0000] <jgraham>
If that was the criterion I would never be allowed to write anything ever again

[06:19:00.0000] <jgraham>
I suppose some people might consider that to be a good thing

[06:20:05.0000] <jgraham>
hsivonen: I pushed your change to html5lib-tests. Do you need to update the patch in bug 886390 ?

[06:30:07.0000] <zcorpan>
SteveF_: now i wonder if it's you or me who is out of touch with reality

[06:30:31.0000] <SteveF_>
zcorpan: both

[06:31:09.0000] <zcorpan>
SteveF_: github isn't just for personal projects for own consumption

[06:32:09.0000] <jgraham>
Github is actually a rather popular site hosting platform these days

[06:32:27.0000] <jgraham>
e.g. it hosts the webdevdata site…

[06:33:24.0000] <SteveF_>
zcorpan: i realise that but the vast majority of the results you provided are for repos with i contributor and no stars/forks

[06:34:09.0000] <zcorpan>
SteveF_: how does that say anything about whether they are published on the web and viewed by other users?

[06:35:25.0000] <SteveF_>
zcorpan: it does not translate to the webdev data set at all

[06:35:55.0000] <zcorpan>
SteveF_: it's possible that the amount of mislabeling is different for top sites and long tail

[06:36:23.0000] <SteveF_>
zcorpan: sure

[06:36:53.0000] <SteveF_>
i would say it almost definetely is

[06:37:25.0000] <zcorpan>
so then i still don't see how you conclude that the github pages aren't on the web

[06:40:20.0000] <SteveF_>
zcorpan: i would not be overly concerned i only added some lang attributes to some examples (there were already some there) in an editors draft of a bastard fork. think it would be worthwhile adding some advice in there though about lang, will do that

[06:41:23.0000] <SteveF_>
zcorpan: will take a view, may even remove all and provide advice instead

[06:42:25.0000] <SteveF_>
zcorpan: there are certain precanned script thingys that are culprits https://github.com/search?q=lang%3D%22en%22+class%3D%22no-js+ie6+lt8%22&ref=searchresults&type=Code&utf8=%E2%9C%93

[06:43:15.0000] <zcorpan>
SteveF_: yeah

[07:21:26.0000] <annevk>
Domenic: apparently some guy from Google is putting some serious effort into WebRTC promises stop energy: http://lists.w3.org/Archives/Public/public-media-capture/2014Oct/0003.html

[07:21:40.0000] <annevk>
slightlyoff: ^

[07:21:42.0000] <annevk>
JakeA: ^

[07:26:39.0000] <JakeA>
Ugh. What's the reason other than waaaa minor effort

[07:28:55.0000] <annevk>
As far as I can tell that group is broken. We told them they should switch over a year ago.

[07:30:02.0000] <mathiasbynens>
Q.E.D.

[07:32:53.0000] <astearns_>
I guess the PDF is so the line break in the middle of 'e.g.' could be preserved?

[07:40:43.0000] <mathiasbynens>
annevk: why can’t we just make all relative URLs in HTML-imported documents be relative to that document’s base URL?

[07:41:18.0000] <annevk>
mathiasbynens: you haven't taken any red pills yet it seems

[07:41:37.0000] <annevk>
mathiasbynens: how do you determine what a URL is within a <template>, for instance?

[07:43:06.0000] <mathiasbynens>
annevk: i still don’t understand why `document.importNode` can’t just take care of this

[07:43:46.0000] <jgraham>
/me wonders which document "that document" is here

[07:44:06.0000] <mathiasbynens>
jgraham: the one that gets <link rel=import>ed

[07:44:11.0000] <annevk>
mathiasbynens: why would that be in charge of what is a URL?

[07:45:15.0000] <annevk>
mathiasbynens: you'll have to get a bit more concrete so I can either learn something or point out an error in your reasoning I'm afraid

[07:46:10.0000] <mathiasbynens>
annevk: so I’m thinking, why can’t this line https://github.com/mathiasbynens/relative-urls-in-web-components/blob/1b3d159721102d366d575769ab4fa0f3c6341687/packaged-web-component/import-me.html#L17 not somehow make the relative URL in the template an absolute one?

[07:46:25.0000] <mathiasbynens>
perhaps when `someTemplateElement.content` is accessed

[07:47:03.0000] <annevk>
mathiasbynens: how does it know what is a relative URL within the template?

[07:47:33.0000] <annevk>
(you can tell I'm still asking the same questions)

[07:47:41.0000] <mathiasbynens>
oh right, cause everything is normalized already at that point

[07:48:53.0000] <jgraham>
It seems pretty weird if the urls are resolved relative to the document that does the import? You end up with different resources depending on where you are importing

[07:49:21.0000] <mathiasbynens>
jgraham: I agree, but that’s the current behavior

[07:50:48.0000] <annevk>
So the one thing mentioned in that bug is associating a URL with <template> somehow. However, that complicates base URL processing. But perhaps it is sufficient.

[07:50:52.0000] <jgraham>
That just doesn't seem sane. What's the use case? Isn't this supposed to provide some sort of encapsulation?

[07:50:58.0000] <annevk>
However, doing it now might be too late.

[07:51:17.0000] <annevk>
jgraham: it's not about use cases, it's about it being problematic

[07:52:04.0000] <mathiasbynens>
annevk: it might still be possible: everyone using web components seems to be using absolute or root-relative URLs for this reason

[07:52:27.0000] <jgraham>
So I don't understand why it's problematic to resolve the URLs against anything you want, but I'm worried if decisions aren't being made based on what's best for people using the tech

[07:53:33.0000] <annevk>
mathiasbynens: it's still not clear if that would work though and it would break e.g. with the innerHTML example

[07:53:49.0000] <annevk>
jgraham: the problem is that all scripts execute in the same global

[07:54:09.0000] <annevk>
jgraham: and that web components are not really providing any of the promised encapsulation, they're a hack

[07:55:18.0000] <annevk>
I'm sure everyone involved would love a solution

[07:56:43.0000] <jgraham>
Oh yeah, the sharing a global thing

[07:56:53.0000] <jgraham>
Well that's pretyt much insane to start with

[07:58:08.0000] <jgraham>
I'm pretty sure in 5 years there will be a new generation of people working on the web-platform coming through and giving everyone hell for the design decisions of web components

[07:58:16.0000] <annevk>
That it breaks scripts is still a really convincing reason to not solve it for the static case

[07:58:34.0000] <annevk>
I thought we already did that and nobody really listened?

[08:05:45.0000] <tobie>
jgraham: I'm pretty sure you won't need to wait 5 years for that.

[08:06:19.0000] <jgraham>
Well the new generation thing seems to happen about every 5 years

[08:08:24.0000] <darobin>
you'll have to wait five years for it to have any momentum

[08:09:43.0000] <tobie>
Seriously, the message I've heard from devs about Web components right now is pretty much aligned with your fears, jgraham

[08:10:44.0000] <tobie>
I'm struggling with properly writing out algorithms. When do you nest steps, etc.? Is there a primer on this somehwere?

[08:11:43.0000] <mathiasbynens>
because of the global sharing, i guess there’s no way to figure out the absolute URL of an HTML-imported document within that document?

[08:19:30.0000] <jgraham>
Yep, and so some people will come up with a — well we've had "principles" and "manifesto" — "Large Scale Web Applications Objectives" document, say, and make a big fuss about how all the people who worked on this before made terrible choices and introduce some new things that will paper over the cracks in a new and differently broken way

[08:21:28.0000] <ManishCloud>
Hixie: around?

[08:22:05.0000] <ManishCloud>
Any reason why the spec here seems to recommend storing a form owner and updating whenever the DOM changes as opposed to calculating it on demand?

[08:22:06.0000] <ManishCloud>
https://html.spec.whatwg.org/multipage/forms.html#form-owner

[08:22:30.0000] <ManishCloud>
(Is there any reason for the two to not mean the same thing?)

[08:23:13.0000] <ManishCloud>
AFAICT storing the form owner would be much less performant than calculating on demand

[08:23:13.0000] <ManishCloud>
https://github.com/servo/servo/issues/3553#issuecomment-57643743

[08:23:50.0000] <tobie>
jgraham: we seem to be in agreement over something.

[08:23:57.0000] <Hixie>
ManishCloud: because you can't calculate it

[08:24:13.0000] <Hixie>
ManishCloud: it can be set e.g. by the parser to values that can't be found from looking at the static state of the dom

[08:24:26.0000] <tobie>
/me ponders whether that makes him less likable.

[08:25:01.0000] <ManishCloud>
Hixie: the parser can set it? Hm

[08:25:07.0000] <Hixie>
jgraham: i'm taking over your bug database maintenance task thing

[08:25:17.0000] <Hixie>
jgraham: since i'm making the data get baked into the spec itself

[08:25:28.0000] <Hixie>
jgraham: rather than having it shimmed in at load time

[08:25:33.0000] <Hixie>
bbiab

[08:25:34.0000] <jgraham>
Hixie: OK, since I'd forgotten that existed I can't really complain :)

[08:25:37.0000] <Hixie>
:-)

[08:25:50.0000] <mathiasbynens>
aha, `document.currentScript.ownerDocument.baseURI` from within a <script> in the imported document, of course

[08:26:29.0000] <tobie>
Seriously though, my algorithm looks like an ode to goto statements.

[08:33:41.0000] <ManishCloud>
Hixie: any example of where the parser spec recommends setting it?

[08:35:02.0000] <jgraham>
ManishCloud: click on the definition

[08:35:10.0000] <jgraham>
Well on the term

[08:35:31.0000] <jgraham>
i.e. the bold bit at https://html.spec.whatwg.org/#form-element-pointer

[08:58:14.0000] <ManishCloud>
jgraham: but that's set only once, right?

[09:01:01.0000] <ManishCloud>
/me -> Manishearth

[09:06:48.0000] <jgraham>
Manishearth: Well each element is only parsed once, sure

[09:07:12.0000] <jgraham>
You still need to keep the state from parsing somewhere

[09:46:04.0000] <Manishearth>
jgraham: keep the state from parsing somewhere?

[09:47:12.0000] <Manishearth>
I was thinking of a lazy load mechanism that sets the owner in case of broken html, and then can be fetxhed on demand where it looks for changes

[09:51:10.0000] <annevk>
So for now WebRTC does not use promises since someone in the call came with the ultimatum that I couldn't propose deprecating the callback-style that exists today for the next three years. (Keep in mind that implementations are still prefixed.)

[09:51:31.0000] <annevk>
I have no words

[10:00:47.0000] <tantek>
three years? wow. who's ship schedule is that?

[10:00:56.0000] <tantek>
s/who's/whose

[10:02:07.0000] <terinjokes>
also… this is deprecating them, not removing them

[10:37:01.0000] <Hixie>
Manishearth: how would that differ from what the spec says?

[10:37:20.0000] <Hixie>
annevk: uh, push back? that's absurd, if there's no implementations.

[10:56:12.0000] <annevk>
Hixie: we ran out of time and everyone dropped and it's unclear what happens next

[10:56:23.0000] <annevk>
Hixie: teleconferences are so weird

[10:59:10.0000] <SimonSapin>
annevk: Is there a general principle for when and how many UTF-8 decoding emits replacement characters?

[10:59:51.0000] <Hixie>
annevk: send an e-mail?

[11:00:02.0000] <Hixie>
teleconf-gated standards development is so last century

[11:06:26.0000] <tantek>
email-gated standards development is so last decade. ;)

[11:08:48.0000] <annevk>
SimonSapin: yeah, the spec

[11:09:14.0000] <annevk>
Hixie: I might

[11:12:39.0000] <SimonSapin>
annevk: I mean a principle guiding spec-writing

[11:13:40.0000] <gsnedders>
SimonSapin: IIRC one for a bogus sequence (i.e., you start a sequence, it goes bogus -> one); bogus start of sequence -> one

[11:13:55.0000] <SimonSapin>
thanks gsnedders

[11:18:54.0000] <annevk>
SimonSapin: I think Unicode makes a recommendation and I think it so happens that was the correct recommendation

[11:18:58.0000] <annevk>
SimonSapin: spec makes a note of it

[11:19:26.0000] <SimonSapin>
got it, thanks

[12:33:35.0000] <Hixie>
tantek: who does e-mail-gated standards development?

[12:34:28.0000] <tantek>
IETF, WHATWG, parts of W3C

[12:35:10.0000] <Hixie>
WHATWG doesn't

[12:35:16.0000] <tantek>
though at least (plain text) email is better than emailing Word / PPT / PDF docs back and forth.

[12:35:34.0000] <Hixie>
we do accept feedback by e-mail, but it's not gated on e-mail

[12:35:56.0000] <tantek>
Hixie, I seem to remember a lot of docs, wiki, etc. on whatwg all saying to eventually send feedback by email, as that being the one mechanism that's preferred or something.

[12:35:57.0000] <Hixie>
(it's gated on the spec editor, primarily)

[12:36:03.0000] <Hixie>
e-mail or bugs, yeah

[12:36:04.0000] <tantek>
ok that's an important clarification

[12:36:09.0000] <tantek>
thank you - that helps.

[12:37:27.0000] <Hixie>
annevk: ok i think the markup is gonna be this:

[12:37:29.0000] <Hixie>
    <div class="status">

[12:37:30.0000] <Hixie>
      <p><strong>Bugs:</strong> <a href="..." title="...">...</a>, <a href="..." title="...">...</a></p>

[12:37:33.0000] <Hixie>
      <p><strong>Support:</strong>

[12:37:35.0000] <Hixie>
       <span class="ff"><span>Firefox</span> <span>44+</span></span>

[12:37:38.0000] <Hixie>
       <span class="ie"><span>IE</span> <span>9+</span></span>

[12:37:40.0000] <Hixie>
      </p>

[12:37:43.0000] <Hixie>
   </div>

[12:37:51.0000] <Hixie>
let me know if you want something different

[13:05:20.0000] <TabAtkins>
annevk: Who sent that ultimatum?

[13:11:27.0000] <boogyman>
 Hixie Two questions: 1 - why not use a definition list. <dl class=support><dt>Support</dt><dd class=ff>Firefox <span>44+</span></dd><dd class=VendorAbbr>VendorName <span>SupportSince</span></dt>…</dl>     <style>dl.support dd {…} dl.support dd > span {…}</style> 2- if you are going to keep the proposed markup above, I what's the need for the <span> around the Vendor Name? It seems superfluous to me.

[13:13:56.0000] <Hixie>
i expect the vendor name to be display:none'ed

[13:14:11.0000] <Hixie>
a <dl> would make sense, but CSS makes styling <dl>s hard

[13:14:12.0000] <SimonSapin>
I think I finished the WTF-8 spec! Feedback welcome. (Technical, editorial, …) http://simonsapin.github.io/wtf-8/

[13:14:54.0000] <boogyman>
Hixie: image replacement?

[13:15:52.0000] <TabAtkins>
Hixie: Just use <di>!

[13:16:16.0000] <Hixie>
boogyman: maybe

[13:16:23.0000] <Hixie>
TabAtkins: heh

[13:16:34.0000] <TabAtkins>
/me has used <di> without shame when he needed it.

[13:17:15.0000] <Hixie>
css should just be fixed to handle this case

[13:17:16.0000] <Hixie>
but anyway

[13:17:29.0000] <Hixie>
it's not really a dl

[13:17:33.0000] <Hixie>
it's more a ul

[13:17:40.0000] <boogyman>
Can you provide a reference? I am unfamiliar with the deficiency

[13:18:09.0000] <Hixie>
the deficiency is just that there's no way in CSS to insert an anonymous block around a set of siblings

[13:18:27.0000] <Hixie>
like <a/><::x><b/><c/></::x><d/>

[13:21:51.0000] <rubys>
annevk: ping?

[13:50:50.0000] <rubys>
http://intertwingly.net/blog/2014/10/02/WHATWG-URL-vs-IETF-URI

[13:53:24.0000] <tantek>
annevk ^^^

[14:12:21.0000] <Sample>
Two separate questions I'm considering right now

[14:15:06.0000] <Sample>
1) Regarding deprecation of readAsBinaryString (http://lists.w3.org/Archives/Public/public-webapps/2011OctDec/1497.html) it proposes the removal due to "inefficiency". Wouldn't the real reason have been because it wasn't feasible? bits cannot be decoded to UTF-8 and back to bits without data corruption

[14:16:24.0000] <Sample>
Just wondering if anyone was around at the time or knows any details beyond that post

[14:18:54.0000] <Sample>
my other question is 2) Is "query encoding" as defined by the HTML or URL spec identical to x-www-form-urlencoded?

[14:23:30.0000] <Sample>
question 2 arises from statements like: Align RFC 3986 and RFC 3987 with contemporary implementations and obsolete them in the process. (E.g. spaces, other "illegal" code points, query encoding, equality, canonicalization, are all concepts not entirely shared, or defined.)

[14:26:22.0000] <Hixie>
not sure what you mean by #2

[14:27:08.0000] <Sample>
sorry for being unclear =) My question is if there's character restrictions present in the "query" portion of a URL that are not present in x-www-form-urlencoded

[14:28:28.0000] <Hixie>
are there character restrictions in x-www-form-urlencoded?

[14:28:40.0000] <Hixie>
i don't know that we really define conformance criteria for that format

[14:28:48.0000] <Hixie>
we define serialisation and parsing rules, but...

[14:29:29.0000] <Sample>
I'm admittedly not clear what the MIME type means when it suggests "urlencoded".  I didn't think x-www-form-urlencoded percent-encoded characters

[14:29:38.0000] <Sample>
I guess I need to take a look at some test requests

[14:30:23.0000] <Domenic>
If I am understanding you correctly, the answer is: the spec for x-www-form-urlencoded is either nonexistant or underspecified, so the URL standard obsoletes it, at least in the cases we care about (usage of that format in URLs)

[14:31:28.0000] <Hixie>
url.spec.whatwg.org and html.spec.whatwg.org both define x-www-form-urlencoded, but neither define a conformance criteria

[14:31:37.0000] <Hixie>
just parse and serialise algorithms

[14:31:41.0000] <Hixie>
(aka encode/decode)

[14:31:50.0000] <Sample>
Yeah sorry for being unclear, I'm half confused myself.  I'm presuming that a URL query and x-www-form-urlencoded are the same format

[14:32:29.0000] <Domenic>
i think part of the disconnect is that talking about a "format" is not generally that interesting compared to talking about encode/decode algorithms

[14:33:18.0000] <Hixie>
Sample: i think neither "a URL query" nor "the x-www-form-urlencoded format" are well-defined terms

[14:33:27.0000] <Hixie>
Sample: which makes the discussion hard to follow :-)

[14:33:33.0000] <Sample>
Hixie: haha okay

[14:34:18.0000] <Sample>
I just became curious if the payload constructed via a GET ampersand-delimited percent-encoded (urlencoded) name=value pair is exactly identical to the payload of a forms x-www-form-urlencoded

[14:35:57.0000] <Sample>
looks as if they are

[14:36:38.0000] <Hixie>
not sure what you mean by "payload constructed via a GET ampersand-delimited percent-encoded (urlencoded) name=value pair"

[14:36:51.0000] <Hixie>
form submission uses https://html.spec.whatwg.org/#application/x-www-form-urlencoded-encoding-algorithm

[14:37:56.0000] <Hixie>
and then passes it to https://url.spec.whatwg.org/#serializing as the query component

[14:38:00.0000] <Sample>
is the same encoding defined there required for constructing a URL "query" as defined by something like: http://tools.ietf.org/html/rfc3986#section-3.4

[14:38:08.0000] <Hixie>
that RFC is dead.

[14:38:17.0000] <Sample>
maybe that question uses better nomenclature

[14:38:18.0000] <Sample>
ah

[14:38:30.0000] <Hixie>
(at least as far as #whatwg is concerned)

[14:38:37.0000] <Hixie>
url.spec.whatwg.org obsoletes it

[14:39:39.0000] <Sample>
and you define that same section as "A URL's query is either null or a string holding data. It is initially null."

[14:39:42.0000] <Sample>
which is rather vague =)

[14:40:20.0000] <Hixie>
what's the actual question you're trying to answer?

[14:41:33.0000] <Sample>
Yes, is a URL query request and an x-www-form-urlencoded payload the same data format

[14:42:19.0000] <Sample>
they appear to be. ampersand delimited, equals delimited, urlencoded name value pairs

[14:44:07.0000] <Hixie>
The part after the ? and before the # in a URL is an opaque string, whose meaning is only defined by the server.

[14:44:31.0000] <Sample>
not standardized?

[14:44:45.0000] <Hixie>
it's standardised in the same way that the "path" part is standardised

[14:44:53.0000] <Hixie>
it's an opaque string with meaning defined by the server

[14:45:01.0000] <Sample>
huh... weird

[14:45:05.0000] <Sample>
thanks

[14:45:09.0000] <Hixie>
form submission assumes that the server expects the x-www-form-urlencoded part to be in the format generated by https://html.spec.whatwg.org/#application/x-www-form-urlencoded-encoding-algorithm

[14:45:17.0000] <Hixie>
er, the query part

[14:45:24.0000] <Hixie>
the part between ? and #

[14:45:43.0000] <Hixie>
so when you do form submission from a browser, you end up seeing the output of the https://html.spec.whatwg.org/#application/x-www-form-urlencoded-encoding-algorithm in the query component

[14:46:19.0000] <Sample>
so you could put a CSV encoding between the ? and the # and that's totally fine?

[14:46:23.0000] <SimonSapin>
Hixie, annevk: https://url.spec.whatwg.org/#application/x-www-form-urlencoded looks identical to https://html.spec.whatwg.org/#url-encoded-form-data . Should one of them use the other?

[14:46:33.0000] <Hixie>
Sample: if the server expects it, sure

[14:46:38.0000] <Sample>
?first,last,score\njohn,doe,98#

[14:46:45.0000] <Sample>
strange

[14:46:46.0000] <Sample>
interesting

[14:47:07.0000] <Sample>
most servers would be rather confused I imagine

[14:47:20.0000] <Hixie>
Sample: consider, e.g.: http://software.hixie.ch/utilities/js/canvas/?c.clearRect(0%2C%200%2C%20640%2C%20480)%3B%0Ac.fillStyle%20%3D%20%27green%27%3B%0Ac.fillRect(10%2C10%2C200%2C200)%3B%0A

[14:47:39.0000] <Hixie>
that file takes JavaScript snippets in the query and evaluates them

[14:48:25.0000] <Sample>
looks like quite the XSS vector =D

[14:48:27.0000] <Hixie>
it's just up to the server to decide how to interpret it

[14:48:34.0000] <Hixie>
yes, if that server had anything interesting it would be

[14:48:50.0000] <Sample>
well that's all very interesting, thanks

[14:48:52.0000] <Hixie>
the path component is the same. it's up to the server to know how to parse it

[14:49:05.0000] <sicking>
annevk: awake?

[14:49:11.0000] <Sample>
so we can say "most servers expect x-www-url-encoded payload via the URL query"

[14:49:18.0000] <Hixie>
e.g. http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1

[14:49:30.0000] <Sample>
in the same way we can say "most servers expect form-data to come via application/x-www-form-urlencoded"

[14:49:37.0000] <Hixie>
Sample: most servers expect nothing in the query and ignore it.

[14:50:12.0000] <Hixie>
(in the url i gave above, the /saved/1 part is parsed by the script at http://software.hixie.ch/utilities/js/live-dom-viewer -- there's no /saved/ directory or anything)

[14:50:21.0000] <Hixie>
(in fact you can go to http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=1 and it does the same thing)

[14:52:04.0000] <Sample>
Hixie: apache which is probably the most common webserver I think could be said to "expect" a data format within the URL Query to parse a GET parameter

[14:52:24.0000] <Sample>
that format I guess being x-www-form-urlencoded

[14:53:33.0000] <Sample>
perhaps I'm wrong and the server is indifferent. maybe this "GET" notion is handled on backend code exclusively

[14:53:49.0000] <Sample>
I just figured apache had some notion or expectation of it

[14:55:51.0000] <Sample>
maybe the basis of the confusion I'm procuding here is that I had the expectation that a URL query is in a certain format and that webservers parse that expected format somehow

[14:56:17.0000] <Hixie>
Sample: apache doesn't parse the query component at all as far as i know. maybe for directory listings.

[14:56:21.0000] <Sample>
since you generally ever only see key=value ampersand delimited URL queries (except in your example obviously)

[14:56:39.0000] <Sample>
this was enlightening though, thanks

[14:56:48.0000] <Hixie>
you generally see key=value&key=value because that's what forms submit

[15:05:09.0000] <Sample>
Regarding my first question I was incorrect assuming JS strings use UTF-8. They use USC-2 which is a fixed 16-bit with no bit metadata, so readAsBinaryString was probably totally safe operation

[15:06:53.0000] <Hixie>
JS uses UTF-16 exposed as 16-bit code units

[15:20:08.0000] <Sample>
hm, utf-16 does have invalid bit sequences (unpaired surrogates) but I don't believe it throws the "replacement character" which results in data corruption. though it's possible it may still corrupt a bit sequence

[15:21:12.0000] <Sample>
like I wonder what D800FFFF displays

[15:22:37.0000] <Sample>
"Unpaired surrogates are invalid in UTFs. These include any value in the range D80016 to DBFF16 not followed by a value in the range DC0016 to DFFF16, or any value in the range DC0016 to DFFF16 not preceded by a value in the range D80016 to DBFF16."

[15:22:39.0000] <Hixie>
two U+FFEFs iirc

[15:22:45.0000] <Hixie>
FFFDs i mean

[15:23:45.0000] <Sample>
yeah. anything which throws FFFDs would currupt binary data in code point representation. UCS-2 does not

[15:33:46.0000] <Hixie>
well UCS-2 corrupts anything that isn't in the BMP, but sure :-)

[15:37:24.0000] <Sample>
in terms of raw bit sequences everything falls within every 16 bits falls within 0000 and FFFF =)

[15:37:52.0000] <Sample>
glitch-in-the-matrix style sentence there

[15:38:02.0000] <gsnedders>
Sample: Unicode doesn't define how ill-formed code unit sequences decode

[15:38:22.0000] <gsnedders>
Sample: though the Web Encoding spec does, which matters more in browser land

[15:39:14.0000] <cwilso>
annevk: TBF, they heavily push "navigator.getUserMedia = navigator.getUserMedia || navigator.webkitGetUserMedia || navigator.mozGetUserMedia;

[15:39:14.0000] <cwilso>
" as cargo-cult boilerplate (HT: Hixie for term), so not too surprising they ignore prefixing as a way of separating.

[15:40:19.0000] <cwilso>
annevk: that said, I think that's totally wack, and they should make v1 the api we should have for the next 20 years, not the last 20 months.

[15:42:25.0000] <cwilso>
annevk: what do you think about other ancient-design APIs, like geoloc?  I recast geoloc with Promises, just because I wanted to see what it would look like (https://gist.github.com/cwilso/3922d0a85a684f8ab298) - not sure if it's worth trying to push through, or should just leave it as a shipped API.

[15:42:30.0000] <caitp>
people have a hard time engineering a toilet that will work for 20 years, let alone an application/media platform

[15:43:01.0000] <cwilso>
Aw, come on, I think the toilets in my house are at least 40 years old at this point.  :)

[15:43:50.0000] <gsnedders>
And cwilso suddenly appears, says a lot, and presumably will vanish again :)

[15:44:11.0000] <cwilso>
Lurker extraordinaire, that's me.

[15:44:32.0000] <cwilso>
(the pattern of talking to someone who's likely asleep.)

[15:46:30.0000] <gsnedders>
SimonSapin: I hope we're not planning on exposing WTF-16 to the web platform (AIUI it's only there because WinNT filenames).

[15:46:48.0000] <SimonSapin>
gsnedders: no

[15:47:04.0000] <gsnedders>
cwilso: Hey, I scarcely contribute to web standards now and still talk more than you! :P

[15:47:17.0000] <gsnedders>
SimonSapin: good, because otherwise I would cry

[15:48:04.0000] <SimonSapin>
gsnedders: I have "must not be used for interchange" in the spec, but I still need to define interchange. Any suggestion?

[15:48:04.0000] <cwilso>
gsnedders: you talk more than me in the WHATWG IRC, maybe.  :)  I'm not known for keeping my mouth shut.

[15:48:32.0000] <gsnedders>
cwilso: well, that's what I meant :P

[15:48:54.0000] <gsnedders>
I don't doubt in more /serious/ channels you don't do more

[15:49:04.0000] <gsnedders>
/me hopes he didn't confuse himself with all the negatives in that

[15:50:01.0000] <cwilso>
gsnedders: "serious" is also not something I'm known for.

[15:50:56.0000] <gsnedders>
cwilso: you mean threatening to pick people up and dump them in the sea isn't serious?!

[15:51:20.0000] <cwilso>
gsnedders: THAT WAS ONE TIME.

[15:51:22.0000] <gsnedders>
SimonSapin: does Unicode ever define it?

[15:51:23.0000] <cwilso>
:)

[15:51:38.0000] <gsnedders>
cwilso: hey, it wasn't me, so it's all cool here

[15:52:14.0000] <gsnedders>
SimonSapin: I think it doesn't really need defined, tbh

[15:52:22.0000] <gsnedders>
SimonSapin: Unicode doesn't appear to

[15:52:38.0000] <SimonSapin>
Unicode defines Restricted Interchange, but apparently not interchange

[15:53:34.0000] <gsnedders>
well restricted interchange is really just "don't do this in interhcange"

[15:53:41.0000] <gsnedders>
rather than defining anything about interchange

[15:54:02.0000] <SimonSapin>
"cannot be conformantly interchanged"

[15:54:07.0000] <SimonSapin>
yes

[15:55:18.0000] <gsnedders>
SimonSapin: and stop thinking I have any real opinions, I just lurk on IRC and bitch at you guys without really knowing any context :)

[15:55:27.0000] <Hixie>
btw, good luck inventing an encoding and then telling people not to use it

[15:55:48.0000] <Hixie>
c.f. the CESU-8, UTF-7, BOCU-1 and SCSU encodings

[15:56:02.0000] <gsnedders>
well CESU-8 more just /arose/

[15:56:11.0000] <Hixie>
WTF-16 too, no?

[15:56:11.0000] <gsnedders>
I'm not sure anyone deliverately invented

[15:56:18.0000] <gsnedders>
yeah

[15:56:34.0000] <SimonSapin>
Hixie: sure, but I can at least try to convince browsers not to implement it for stuff from the network

[15:57:26.0000] <gsnedders>
WTF-8 is arguably the scary one

[15:57:35.0000] <gsnedders>
because it doesn't yet exist

[16:12:12.0000] <Domenic>
https://streams.spec.whatwg.org/branch-snapshots/move-readable-stream/ almost ready to merge into master and thus https://streams.spec.whatwg.org/... \o/

[16:29:50.0000] <Yuhong>
On W3C's fork of WHATWG's URL standard, how often does URLs change really?


2014-10-03
[17:41:27.0000] <jyasskin_>
I'm trying to polyfill a spec that says to "throw a /name/ exception", but it looks like DOMException has no constructors, so Javascript can't implement that algorithm?

[17:41:42.0000] <jyasskin_>
(https://dom.spec.whatwg.org/#concept-throw)

[17:43:25.0000] <jyasskin_>
annevk: ^

[23:56:17.0000] <annevk>
jyasskin_: I think that's no longer my problem as of today

[23:56:29.0000] <annevk>
jyasskin_: DOMException moved into IDL

[23:58:38.0000] <Ms2ger>
http://simonsapin.github.io/wtf-8/

[00:00:34.0000] <annevk>
SimonSapin: HTML should probably reference URL for that format

[00:08:20.0000] <annevk>
Domenic: streams.spec.whatwg.org does not look updated for me

[00:08:34.0000] <annevk>
Domenic: oh I see now, almost

[00:09:50.0000] <annevk>
cwilso: should probably do that at some point, although watchPosition would ideally use something like streams or observables

[02:08:39.0000] <SimonSapin>
mathiasbynens: wow, that was fast :) https://github.com/mathiasbynens/wtf-8

[02:09:36.0000] <mathiasbynens>
SimonSapin: nice work there

[02:10:16.0000] <darobin>
indeed, very nice work SimonSapin

[02:10:18.0000] <mathiasbynens>
SimonSapin: anything particular you’re using WTF-8 in?

[02:11:02.0000] <SimonSapin>
mathiasbynens: not yet, but planning to for Windows filenames in the Rust standard library, and probably for all DOM strings in Servo

[02:11:47.0000] <annevk>
SimonSapin: I don't really understand why it doesn't build on Encoding

[02:12:16.0000] <SimonSapin>
annevk: Encoding by definition deals in scalar values

[02:12:26.0000] <SimonSapin>
and making a diff spec seemed brittle

[02:13:26.0000] <SimonSapin>
mathiasbynens: should I call this wtf-8.js?

[02:14:16.0000] <annevk>
SimonSapin: also, why not "The WTF encodings" as there appear to be two

[02:14:57.0000] <annevk>
SimonSapin: I would also expect some kind of indication that these are meant for internal use, not for further propagation of non-utf-8

[02:14:59.0000] <annevk>
stuff

[02:15:26.0000] <SimonSapin>
annevk: maybe, only one is interesting, though. I’ve considered not having the WTF-16 name and call it "potentially ill-formed UTF-16", but that was a bit annoying

[02:16:41.0000] <SimonSapin>
annevk: I’ve put in "must not be used for interchange", but that could be more prominent (and could use a definition of "interchange")

[02:18:02.0000] <annevk>
"WTF encodings for internal usage of software that must deal with JavaScript strings"

[02:18:20.0000] <SimonSapin>
in the title?

[02:18:33.0000] <annevk>
I guess a subtitle

[02:18:56.0000] <annevk>
or somewhere high up anyway as that's the takeaway of the entire doc

[02:18:57.0000] <SimonSapin>
mathiasbynens: http://simonsapin.github.io/wtf-8/#implementations

[02:19:35.0000] <mathiasbynens>
SimonSapin: cool, thanks

[02:19:54.0000] <mathiasbynens>
SimonSapin: btw you might as well link to the HTTPS version of your spec (GitHub Pages offers that for free)

[02:31:34.0000] <Ms2ger>
Hah: http://lists.w3.org/Archives/Public/public-w3process/2014Oct/0021.html

[02:32:01.0000] <Ms2ger>
Now it's apparently Art's fault that TimBL has refused to make his position public

[03:27:12.0000] <annevk>
Where did he refuse?

[03:27:49.0000] <annevk>
http://lists.w3.org/Archives/Public/public-w3process/2014Oct/0024.html does seem somewhat incorrect, but I don't think I've all the facts

[03:30:28.0000] <darobin>
annevk: I think it is "inaccurate by hearsay" but overall not far from the truth

[03:31:06.0000] <darobin>
and yes, TimBL didn't refuse to make his position public, he actually hadn't seen where the threads that followed had started from

[03:31:15.0000] <jgraham>
I think the fact that no one has all the facts here is part of the problem, isn't it?

[03:31:20.0000] <darobin>
said as much during the TAG meeting yesterday

[03:31:25.0000] <darobin>
damn right

[03:31:37.0000] <darobin>
jgraham: that said, a lot of the stuff in question is public, it's just scattered

[03:32:17.0000] <darobin>
anyway, that latter email is clearly an invitation to figuring out a way W3C and WHATWG can be happy together

[03:32:27.0000] <darobin>
I'd take it :)

[03:32:43.0000] <darobin>
but that's just me and my flower power

[03:33:19.0000] <jgraham>
To me it seems like asking Art to apologise for the fact that he acted on what he believed was the position of the director based on conversations with the director's agents seems a bit unreasonable. But I can't follow this.

[03:33:52.0000] <annevk>
darobin: well it's our FSA publication which in no way was negotiated with anyone other than with Hixie

[03:34:18.0000] <annevk>
darobin: I followed a template for it

[03:34:28.0000] <jgraham>
I'm not sure "disrespectful and childish" has been an opening gambit in many successful negotiations, but maybe I'm wrong

[03:34:32.0000] <darobin>
annevk: yeah, that's what I meant by "inaccurate by hearsay"

[03:34:49.0000] <darobin>
I think that Tim is confusing several things going around, notably the work Domenic and I did

[03:34:54.0000] <annevk>
darobin: I don't see how that title is disrespectful and childish

[03:34:59.0000] <darobin>
but that's okay, I would focus on the inaccuracies

[03:35:04.0000] <annevk>
darobin: are there FSA guidelines we did not follow?

[03:35:05.0000] <darobin>
annevk: then you should talk to Tim about it

[03:35:33.0000] <darobin>
annevk: I'm not sure about that, I've been meaning to ask IanJ about whether the FSA templates are required or not

[03:35:44.0000] <annevk>
And I don't think Hixie refused to change the title, he refused to change a single byte of that snapshot

[03:35:51.0000] <darobin>
because there are FSA templates and they have stylesheets and such

[03:36:03.0000] <annevk>
I offered that we could make another snapshot to some people, but they didn't really come back to me with anything concrete

[03:36:10.0000] <darobin>
annevk: actually, Hixie did change the title, which caused other problems because it became a Living Snapshot :)

[03:36:28.0000] <annevk>
darobin: yeah based on my input and then quickly reverted it

[03:36:43.0000] <darobin>
annevk: who did you offer to? I wasn't in that loop

[03:36:48.0000] <annevk>
darobin: I should not have asked

[03:37:03.0000] <darobin>
annevk: it's okay, I wasn't blaming Hixie over this — or anyone for that matter

[03:37:08.0000] <darobin>
it was just an amusing side event

[03:38:26.0000] <jgraham>
So I don't understand why it's a problem to make a new snapshot with a different title, if some people still aren't on board with the whole "implementors don't look at snapshots" thing

[03:39:17.0000] <darobin>
if theres a way of making a snapshot with a different title, I think it would be great progress

[03:39:23.0000] <annevk>
I'm not sure I follow your train of thought jgraham

[03:39:27.0000] <darobin>
and I'm happy to chase down the styling issue

[03:40:15.0000] <darobin>
annevk: I reckon the primary problem with the title is that it says which people should read the document; whereas it is better to say what the document is and let people decide for themselves

[03:40:26.0000] <darobin>
i.e. don't work on the assumption that people are stupid

[03:40:26.0000] <jgraham>
annevk: There is a living standard. There is one snapshot of that which, being a snapshot, can't change. There could be a second snapshot which could be different to the first. Would that solve the problem, or am I missing something?

[03:41:00.0000] <darobin>
jgraham: it could solve the problems with a few changes, yes

[03:41:04.0000] <annevk>
jgraham: I don't know, I've been asking people that seemed to have a problem with it and it didn't get very concrete

[03:41:28.0000] <annevk>
darobin: would something like "URL Standard IPR Snapshot" work?

[03:41:42.0000] <darobin>
annevk: I can get you something concrete if you're up to working this through

[03:41:58.0000] <darobin>
I can't make the decision unilaterally, but I can drive the talks inside

[03:42:10.0000] <darobin>
I'm happy to take that to the right people and get a quick answer

[03:42:28.0000] <darobin>
the proposal I had was "Immutable Snapshot"

[03:42:42.0000] <darobin>
annevk: something like this http://darobin.github.io/kadesh/

[03:42:56.0000] <darobin>
annevk: note that you can imagine it with the CG style, or perhaps without style

[03:43:07.0000] <darobin>
(that was initially following the idea of publishing a WD)

[03:43:13.0000] <annevk>
Yeah, I saw that

[03:43:17.0000] <jgraham>
I'm not sure an immutable snapshot is an edition

[03:43:26.0000] <annevk>
I remember disliking several bits but then Domenic told me the whole thing broke down already

[03:43:29.0000] <darobin>
happy to iterate

[03:43:43.0000] <darobin>
note: if we're doing an FSA, it's simpler

[03:43:44.0000] <jgraham>
But I quite like the idea of "URL Spec Immutable Snapshot [date]"

[03:43:58.0000] <annevk>
I didn't like "Latest published version", "editor's draft"

[03:44:20.0000] <darobin>
annevk: yeah I know, but again for an FSA draft I can fix that

[03:44:25.0000] <darobin>
here's what I'll do

[03:44:36.0000] <annevk>
It's a shame Hixie is asleep

[03:44:43.0000] <darobin>
you are making encouraging sounds that we could make progress on this

[03:44:56.0000] <darobin>
I'll take some proposals to those who can make that call

[03:45:07.0000] <darobin>
and get back to you with some ideas

[03:45:28.0000] <darobin>
if we can get an FSA draft that people are happy with, that's progress

[03:45:49.0000] <darobin>
I don't know if it'll be progress enough for the whole HTML reference nightmare, but that's a whole other SNAFU

[03:47:07.0000] <annevk>
Of course, soon all my URL work will be obsolete: http://lists.w3.org/Archives/Public/public-urispec/2014Oct/

[03:47:49.0000] <darobin>
annevk: it's true you're missing LEM formalism. Hackers gonna want some of that.

[03:48:46.0000] <annevk>
cwilso: in reply to last night, I would be okay with keeping support for callbacks for some time (maybe even two/three years), but I don't see the point in not deprecating them straight away and removing them from the specification

[03:49:34.0000] <Ms2ger>
darobin, eh, that reference is hardly important

[03:49:48.0000] <darobin>
Ms2ger: you're telling me? :)

[03:50:14.0000] <Ms2ger>
darobin, mostly because it's in a document that's hardly important :)

[03:50:20.0000] <darobin>
Ms2ger: you're telling me? :)

[03:50:36.0000] <Ms2ger>
darobin, I seem to be!

[03:51:01.0000] <Ms2ger>
darobin, not sure why, maybe I just like talking to you?

[03:51:20.0000] <darobin>
Ms2ger: I have no doubt you do sweetie

[03:51:41.0000] <MikeSmith>
jgraham: as far as Art having just asked based on conversations with the director's agents, I can say, speaking as one of the director's agents, that (a) I never told him anything like that, and he never asked me, and (b) I would think that Art knows me well enough to figure that I was one person he could ask and get a straight answer from, and (c) that if he had asked me I would have told him myself that was in fact not Tim's position at all.

[03:52:42.0000] <MikeSmith>
jgraham: In hindsight I guess I should have said more to mitigate the shitstorm that Art started, and done more to help let Tim know it was going on.

[03:52:43.0000] <jgraham>
/me takes to referring to MikeSmith as Agent Smith

[03:52:47.0000] <MikeSmith>
heh

[03:54:17.0000] <Ms2ger>
In that case...

[03:54:22.0000] <MikeSmith>
so anyway, Art at least should have chosen his words a lot more carefully, because saying something like "Although I disagree with the Director's position here" was plain bad, given that the only thing he was basing that on was hearsay

[03:54:57.0000] <mathiasbynens>
Why does @font-face work as expected on https://mathiasbynens.github.io/html-imports-font-face/standalone.html but not on https://mathiasbynens.github.io/html-imports-font-face/example.html?

[03:55:00.0000] <Ms2ger>
Agent Smith: can you give me a straight and public answer to the question "what is the Director's position on referencing WHATWG standards in W3C documents?"

[03:56:21.0000] <Ms2ger>
Because I've heard a lot of things that apparently aren't his position, but nothing that is

[03:56:35.0000] <mathiasbynens>
^ @font-face doesn’t seem to work from within HTML imports, but I don’t know why

[03:56:37.0000] <MikeSmith>
and Art bears some responsibility for one of the consequenses of his actions being that other people assumed he actually knew what he was talking about and took his matter-of-factly-worded statements as actual truth and repeated them and acted on them as such

[03:57:23.0000] <MikeSmith>
Ms2ger: the Director has no blanket policy prohibiting W3C specs from referencing WHATWG specs

[03:57:48.0000] <Ms2ger>
Interesting

[03:57:50.0000] <Ms2ger>
Who does?

[03:58:10.0000] <MikeSmith>
at least the Director has never articulated such a policy to me

[03:58:20.0000] <Ms2ger>
Ah

[03:58:26.0000] <Ms2ger>
That's not what you said, then

[03:58:30.0000] <darobin>
Ms2ger: the references policy basically only grants an automatic "Yes" to things that are W3C Recs, the theory is that everything else is up for director decision

[03:58:52.0000] <jgraham>
(I would argue that "has no blanket policy" is still a statement on what his position isn't)

[03:59:02.0000] <Ms2ger>
What jgraham said

[03:59:23.0000] <darobin>
Ms2ger: the practice is that there are habits and uses that make some references (e.g. IETF) easier to push through than others

[03:59:24.0000] <MikeSmith>
and understanding that unlike Art I don't claim to actually say what particular positions the Director has

[03:59:45.0000] <Ms2ger>
"the Director has no blanket policy prohibiting W3C specs from referencing WHATWG specs"

[03:59:59.0000] <Ms2ger>
How should I read that if not as "actually say what particular positions the Director has"?

[04:00:02.0000] <MikeSmith>
Ms2ger: if the Director had a policy like the one Art was claiming, you can imagine that I would know

[04:00:07.0000] <darobin>
Ms2ger: we are working on getting to the point where doing so for the WHATWG would also be pretty usual and natural

[04:00:08.0000] <annevk>
There's a reference to an obscure book for certain <canvas> algorithms. That never raised an eyeball?

[04:00:15.0000] <jgraham>
The thing that makes this doubly confusing is that sometimes "the director" doesn't actually mean Tim at all.

[04:00:25.0000] <annevk>
But oh reference the WHATWG, that's open and public and not a book, must be bad.

[04:01:00.0000] <darobin>
annevk: you make fair points, but you're not arguing them to the right people there :)

[04:01:12.0000] <Ms2ger>
MikeSmith, I can imagine that, yes, but I don't care much for discussions based on imagination

[04:01:15.0000] <darobin>
anyway, I think we can make progress on this, it's not that far away

[04:01:33.0000] <Ms2ger>
MikeSmith, TimBL doesn't either, reading his email to Art

[04:02:27.0000] <Ms2ger>
I guess I shouldn't be asking about policies

[04:02:36.0000] <darobin>
Ms2ger: especially imaginary ones :)

[04:03:12.0000] <Ms2ger>
My actual question is: "Will the Director allow a specification that references a WHATWG Standard to be published under TR/?"

[04:03:44.0000] <darobin>
Ms2ger: I can't speak for the Director, but my very strong sense is that this is not far at all from happening

[04:03:51.0000] <darobin>
or, wait, no

[04:03:55.0000] <darobin>
under TR: this has already happened

[04:04:08.0000] <darobin>
as PR/Rec: what I said above about soon

[04:04:27.0000] <zcorpan>
"Most libraries, including mine, implement RFC3986 and RFC3987 to the letter. And many programs _depend_ on this behavior."

[04:04:30.0000] <Ms2ger>
darobin, in that case, why did plh change references behind my back?

[04:04:35.0000] <zcorpan>
is that accurate?

[04:04:49.0000] <Ms2ger>
zcorpan, [citation needed] on "many", at least

[04:05:09.0000] <zcorpan>
Ms2ger: what about the first statement?

[04:05:10.0000] <jgraham>
zcorpan: Seems like something that you could test. Presumably IETF, being a respectable standards organisation, has great testing policies

[04:05:26.0000] <darobin>
Ms2ger: how so?

[04:05:33.0000] <Ms2ger>
zcorpan, sorry, s/many/most/

[04:05:44.0000] <zcorpan>
Ms2ger: ah

[04:06:09.0000] <darobin>
/me lol at respectable standards organisation

[04:07:07.0000] <darobin>
I mean seriously have you looked at the bunch of us? at the other people who do standards? how are organisations of such people expected to ever act respectfully?

[04:07:38.0000] <darobin>
unless there's a theory that says respectful behaviour is emergent in large groups of trolls

[04:07:55.0000] <jgraham>
darobin++

[04:08:19.0000] <jgraham>
Although respectable and respectful are strictly quite different

[04:09:38.0000] <Ms2ger>
http://lists.w3.org/Archives/Public/public-webapps/2012OctDec/0638.html

[04:10:26.0000] <annevk>
zcorpan: I think there's a lot of software that has the ABNF from URI/IRI imported plus some rules around it

[04:10:34.0000] <Ms2ger>
If I'm not mistaken, that makes it pretty clear that plh as acting Director had a blanked policy against WHATWG references

[04:10:41.0000] <annevk>
zcorpan: I don't think that software is used to navigate the web

[04:10:41.0000] <Ms2ger>
blanket, even

[04:11:11.0000] <annevk>
zcorpan: a subset of it, perhaps

[04:11:37.0000] <zcorpan>
annevk: ok

[04:13:11.0000] <annevk>
Ms2ger: well we just learned that what Art says might not always be correct, so citing Art as proof seems extremely silly

[04:14:49.0000] <Ms2ger>
That's all we have, isn't it?

[04:15:22.0000] <Ms2ger>
I've never seen someone who makes the decision actually say what those decisions are based on

[04:29:08.0000] <MikeSmith>
Ms2ger: that message is old. plh has since then spent tons of time working to get some of the old rules of thumb for normative references liberalized and replaced with something that's actually documented somewhere instead of just being in people's heads

[04:29:24.0000] <Ms2ger>
That's good to hear

[04:36:13.0000] <annevk>
Ms2ger: if all you have is advice to jump from a building, would you do it?

[04:37:50.0000] <rubys>
mezzanine level?

[04:38:22.0000] <Ms2ger>
Do I get a parachute?

[04:43:03.0000] <rubys>
plh does not have a blanket policy against referencing WHATWG specs either, nor is he in a position to enforce such.

[04:43:47.0000] <rubys>
speaking for myself, I believe that the URL standard has the biggest chance of being the first such specification

[04:44:31.0000] <rubys>
The biggest problem is that it doesn't clearly delineate between stuff that works and is stable and stuff that is broken and a work in progress.

[04:44:43.0000] <Ms2ger>
Oh course he is in a position to enforce that

[04:44:46.0000] <Ms2ger>
He has done it

[04:45:07.0000] <Ms2ger>
Whether he still has such a policy, I don't know

[04:45:25.0000] <rubys>
I'd suggest that all of the data that you have is second or third hand.

[04:46:09.0000] <Ms2ger>
Well, I guess so

[04:46:21.0000] <rubys>
PLH notes that the URL spec fails a number of tests, Art reports that as a blacklist.  You accept Art's statements.

[04:46:41.0000] <rubys>
I suggest that if we focus on the test failures we might very well get a different result.

[04:46:56.0000] <Ms2ger>
I was talking about http://lists.w3.org/Archives/Public/public-webapps/2012OctDec/0638.html

[04:47:04.0000] <annevk>
rubys: do you have tests for PORTERDUFF?

[04:47:17.0000] <rubys>
/me wonders what PORTERDUFF is

[04:47:30.0000] <annevk>
a reference

[04:47:45.0000] <annevk>
BEZIER is even better

[04:47:54.0000] <annevk>
apparently PORTERDUFF gained a PDF

[04:47:57.0000] <Ms2ger>
Has anyone ever found a copy of BEZIER?

[04:48:25.0000] <rubys>
Ms2ger: once again, you are taking a statement by Art on what PLH has done.  I'd encourage you not to do that.

[04:49:12.0000] <Ms2ger>
rubys, I'd love to get a statement from plh one way or the other

[04:51:24.0000] <rubys>
I talk to PLH frequently.  I can say that I don't believe that there is a blanket blacklist.  There are a list of issues by specification, and if those issues were to be worked, the results would be different.  I believe that the issues with the URL specification can be worked.

[04:51:47.0000] <Ms2ger>
rubys, sorry, you're a second-hand source

[04:51:59.0000] <rubys>
yes, I am.

[04:53:10.0000] <rubys>
What are you looking for?  A statement that there isn't a blacklist?  Such a statement is easy (as in cheap).

[04:54:16.0000] <Ms2ger>
A statement that WHATWG Standards can be referenced from W3C publications, and that publications won't be denied or changed based on that alone

[04:54:25.0000] <Ms2ger>
From someone who actually makes the call

[04:54:37.0000] <rubys>
That call isn't made by PLH.

[04:54:52.0000] <Ms2ger>
So you say

[04:55:25.0000] <Ms2ger>
Last time I checked, the call was made by the Director or acting Director, and plh was acting Director

[04:55:32.0000] <annevk>
rubys: I left some new comments on your blog btw

[04:55:44.0000] <annevk>
rubys: was the TLS advice enough to go on?

[04:56:11.0000] <SimonSapin>
mathiasbynens: Do you want to use wtf-8? How?

[04:56:13.0000] <rubys>
annevk: I responded to one of them.  Your other comment (about tests) was expected.

[04:56:57.0000] <rubys>
Ms2ger: I've only ever seen Ralph act as acting Director, never PLH.  And only on less contentious issues.

[04:56:58.0000] <SimonSapin>
mathiasbynens: it’s cool that you implemented it, but I don’t want to encourage people to use it where they shouldn’t

[04:56:58.0000] <Ms2ger>
Anyway, if that's no longer the case, or I misunderstood what I read back then, I assume that means I don't want a comment from plh

[04:57:12.0000] <annevk>
rubys: I don't see your comment, I made mine just now

[04:57:52.0000] <annevk>
SimonSapin: you should have given it a less attractive name then

[04:57:57.0000] <mathiasbynens>
SimonSapin: I don’t, but I had a UTF-8 project that was easy to port to WTF-8, so I figured, why not?

[04:58:04.0000] <SimonSapin>
annevk: eh

[04:59:01.0000] <rubys>
annevk: my bad.  My comment is posted now.

[04:59:50.0000] <rubys>
the TLS advice is what I was looking for, but getting my weblog working is higher priority, and even that is lower than other things going on in my life right now :-)

[05:00:55.0000] <annevk>
fair

[05:04:12.0000] <annevk>
rubys: hmm yeah, just tried posting something and got an error

[05:05:19.0000] <rubys>
And nothing in the error log :-(

[05:07:56.0000] <rubys>
Ah, did find something.  Looking further.

[05:10:32.0000] <rubys>
the error I found was "POST limit exceeded", so you were mis-identified as a spammer :-/

[05:10:46.0000] <rubys>
I need to look into that logic, but for now I simply whitelisted you

[05:10:56.0000] <rubys>
annevk: can you post again?

[05:15:37.0000] <annevk>
rubys: worked

[05:15:58.0000] <jgraham>
For the record I think that blocking HTML on referencing URL because implementations fail some of the tests in URL is, to coin a phrase, Fucking Stupid.

[05:16:05.0000] <annevk>
rubys: it seems weird that if you have a cookie for me and I posted several time successfully, I'm still a spammer

[05:16:35.0000] <jgraham>
It's also grossly hypocritical since HTML intentionally chose not to look at tests for the parts that would undoubtedly fail.

[05:17:25.0000] <rubys>
jgraham: can we talk about that a piece at a time?

[05:17:48.0000] <jgraham>
Sure?

[05:18:51.0000] <rubys>
you made multiple points.  The problem is that URL fails more than a few tests, to the point where entire portions (like file:) don't appear to be based in reality; and as to "chose not to look" we put out a call on what areas we should look at, and did look at those portions.

[05:19:21.0000] <rubys>
pick one piece, and lets talk further

[05:19:30.0000] <SimonSapin>
rubys: file URLs are not defined anywhere

[05:20:11.0000] <SimonSapin>
other than in an obsoleted RFC that basically says "it’s a file"

[05:20:12.0000] <rubys>
SimonSapin: so those tests are bogus?

[05:20:13.0000] <jgraham>
I agree that HTML was above board about what it did. That's fine and I don't object to it having done that.

[05:20:54.0000] <rubys>
SimonSapin: I may not be understanding what you mean by anywhere.  Are you saying that the URL Standard doesn't define file URLs?

[05:21:01.0000] <SimonSapin>
rubys: I don’t know about those tests, but it’s not like there’s a better alternative

[05:21:46.0000] <jgraham>
But you could easily apply the same standard to URL as HTML ("we look at the results of the tests we think are likely to be interoperable") or to most references ("we don't expect a testsuite or have any requirements on the results of one"). Instead it's being held to a higher standard.

[05:22:47.0000] <rubys>
"we look at the results of the tests we think are likely to be interoperable" [citation needed].  That is NOT what I said.  I said "we put out a call on what areas we should look at, and did look at those portions"

[05:23:28.0000] <jgraham>
Right, but the areas that we chose not to look at were clearly the ones where we expected most difficulty in getting a testsuite to show "interop"

[05:25:13.0000] <rubys>
That's was not the intent of the call.  If you felt that way, it is unfortunate that you didn't speak up.  The intent is to document what works and mark clearly what needs further work.  We undoubtedly need to improve, and I'm encouraging the URL standard to do likewise.

[05:26:20.0000] <rubys>
In fact, I may be willing to personally to contribute to that effort.

[05:26:44.0000] <annevk>
Hmm, seems David Sheets has already given up on defining an API for URLs before they even started. That doesn't bode well for me getting to work on other problems

[05:27:13.0000] <rubys>
annevk: indeed.

[05:27:59.0000] <jgraham>
I don't see why I should speak up. I think that it's a perfectly valid idea to try and ship on a date-based schedule, it's clear that the Process is stacked against trying to achieve that, and I think that skipping some requirements around interoperability in areas where people are going to be adverse to changing their implementations is way less harmful than trying to do surgery to remove those bits from the spec, which was the other possible appro

[05:28:06.0000] <jgraham>
... we changed the Process to make this unnecessary, but that also clearly wasn't going to happen.

[05:28:58.0000] <rubys>
/me wonders if jgraham is familiar with the term http://rationalwiki.org/wiki/Gish_Gallop

[05:29:08.0000] <jgraham>
I am not criticising plan 2014 here. I'm criticising the fact that URL is being held to a different standard than every other reference, or the spec itself, in terms of tests.

[05:29:49.0000] <annevk>
I should probably have collected less tests for URLs :p

[05:30:36.0000] <rubys>
and I disagree with that characterization, but I'm having trouble getting a foothold in this discussion given that you I have different understanding of the issue

[05:32:24.0000] <Ms2ger>
rubys, interesting. To be perfectly clear, are you saying that the URL reference is not held to higher/other standards than other references?

[05:33:10.0000] <jgraham>
I don't really know what to say. I didn't even consider anything I said about Plan 2014 to be controversial. My point was just the contrast between what was required by HTML and what seems to be required for URL.

[05:33:36.0000] <rubys>
Ms2ger: would you believe me if I said yes?

[05:34:40.0000] <Ms2ger>
rubys, if you can back that up, sure

[05:34:45.0000] <rubys>
jgraham: the HTML spec attempts to identify areas that are soft, and took multiple years before the statements which weren't soft were (mostly) true.  The URL spec doesn't make such an attempt, and is less further along.

[05:35:40.0000] <rubys>
Ms2ger: if the discussion that Anne and I am having on my weblog produces results, I'll be in such a position.

[05:35:41.0000] <jgraham>
rubys: I agree that URL is less well advanced than HTML.

[05:36:25.0000] <Ms2ger>
rubys, but the fact that we're talking about this reference and not others seems to suggest that *something* is different, surely?

[05:37:32.0000] <jgraham>
It's better advanced than other older attempts to specify URLs though. For example it has a testsuite. I'm very concerned that the property of having a testsuite is being held against a spec because that will simply encourage spec editors and other interested parties to not include tests.

[05:38:23.0000] <rubys>
Ms2ger: part of what is different is people are making unhelpful mis-characterizations, essentially kicking over rocks.

[05:39:39.0000] <rubys>
if people hadn't done that, I wouldn't be spending my time trying to identify why this case is just like a number of other references, and arguably better; in fact much better

[05:40:17.0000] <rubys>
that doesn't mean that in the process, I won't be providing feedback on how to make it even better, and in fact, I am starting to do exactly that.

[05:41:55.0000] <annevk>
There has been never this much scrutiny over normative references. That is what is odd

[05:41:58.0000] <smaug____>
USVString

[05:42:05.0000] <smaug____>
that certainly is weird enough

[05:42:10.0000] <annevk>
heh yes

[05:43:08.0000] <rubys>
annevk: there may not have been as much public awareness of the scrutiny.  And, again, the purposeful kicking over rocks to see what crawls out has indeed invited more scrutiny.

[05:43:33.0000] <smaug____>
Btw, why does Service worker spec use it?

[05:44:03.0000] <annevk>
smaug____: for URLs I suspect

[05:44:15.0000] <annevk>
smaug____: URLs are "lone surrogate safe"

[05:45:51.0000] <Ms2ger>
Anyway, not sure what exactly you mean about kicking over rocks and who you're accusing of that

[05:46:26.0000] <darobin>
Ms2ger: FWIW my understanding is that plh only acts as acting director for things that aren't under his purview. Say, RDF and the such.

[05:46:44.0000] <Ms2ger>
darobin, if you say so

[05:49:38.0000] <darobin>
I don't think that the URL tests reveal that big a problem to be honest. Looking through the failures, most of them are on pretty horrible things :)

[05:49:53.0000] <darobin>
there's a point beyond which authors can justifiably be shot

[05:50:12.0000] <annevk>
rubys: PORTERDUFF and BEZIER are references of <canvas> which apparently are indirect references for HTML, but still normative afaict

[05:51:06.0000] <darobin>
so, this is lost in the mists of history, but I do believe that at least the PORTERDUFF reference was deemed a problem and investigated as such many, many years ago

[05:51:40.0000] <darobin>
and it eventually came down to it being pretty much the only reference anyone doing graphics used, and getting patent commitments from the companies that had IP on it

[05:51:54.0000] <annevk>
for MIMESNIFF it points to an outdated RFC over the WHATWG document that's maintained?

[05:51:56.0000] <gsnedders>
/me has flashbacks to the ASCII citation discussion

[05:51:58.0000] <darobin>
but don't quote me on that, I was, like, probably still into Guns'N'Roses back then

[05:52:00.0000] <annevk>
that's quite rich

[05:52:07.0000] <darobin>
very rich :)

[05:52:33.0000] <annevk>
It still seems to me that there's a strong anti-WHATWG bias when it comes to references

[05:52:43.0000] <darobin>
btw, has there been any talk about getting MIMESNIFF rolling again?

[05:52:56.0000] <annevk>
Rather than any coherent reference strategy that URL is failing

[05:52:58.0000] <darobin>
annevk: if I tell you we're trying to fix something it's because there's a problem :)

[05:53:09.0000] <darobin>
that is entirely true

[05:53:14.0000] <darobin>
hence: fixing

[05:56:44.0000] <annevk>
There's a normative reference to http://wiki.xiph.org/SkeletonHeaders

[05:56:58.0000] <annevk>
And to http://www.opensearch.org/Specifications/OpenSearch/1.1#Autodiscovery_in_HTML.2FXHTML

[05:57:20.0000] <annevk>
And https://publicsuffix.org/

[06:00:20.0000] <jgraham>
/me imagines darobin with a hair-metal perm. Or a mullet!

[06:00:46.0000] <darobin>
annevk: please don't make me go over that stuff again

[06:04:11.0000] <annevk>
It's just, I remember all the fuss over the WHATWG Wiki

[06:04:24.0000] <annevk>
Did I miss a debate on the xiph.org Wiki?

[06:04:39.0000] <annevk>
What about publicsuffix's lack of consensus process?

[06:05:54.0000] <darobin>
jgraham: https://scontent-a.xx.fbcdn.net/hphotos-frc3/v/t1.0-9/228551_18735131056_5573_n.jpg?oh=8d46c54305efb7363f1c2a12c76c726f&oe=54C2F392

[06:06:11.0000] <darobin>
annevk: those are all points I have made repeatedly

[06:06:34.0000] <darobin>
I am glad to see that you are reaching the same conclusions

[06:06:47.0000] <darobin>
you're missing a few btw

[06:07:09.0000] <darobin>
I'd love to hear about how ECMA adheres to OpenStand principles (though one could argue TC-39 is different)

[06:07:32.0000] <darobin>
I'm sure ECMA's hosting of the Tobacco Forum is transparent and for the good of humankind

[06:07:33.0000] <rubys>
I can confirm that darobin has been making those points, and has been making progress.

[06:08:08.0000] <annevk>
darobin: hah

[06:08:23.0000] <annevk>
darobin: what does OpenStand say about making decisions during meetings people can't afford to attend?

[06:08:51.0000] <annevk>
Actually, it's not even the can't afford to attend bit that's problematic with meetings

[06:08:57.0000] <darobin>
annevk: that's a valid question, one of the reasons I had toyed with doing "NextStand" back when OpenStand came out

[06:09:32.0000] <darobin>
but... I suspect that you're preaching to the choir here on all this...

[06:09:49.0000] <darobin>
I know the unfairness, I'm more interested in fixing the issue

[06:10:07.0000] <annevk>
Yeah I guess. I'm surprised that almost all of TC39 has come to the conclusions that mailing lists are very bad and F2F is the only way to solve things

[06:10:29.0000] <annevk>
Which just seems so counter to being inclusive

[06:12:13.0000] <darobin>
I'm not overly fond of email but replacing that with f2f doesn't strike me as a wonderful idea at all

[06:13:07.0000] <annevk>
Yeah, I'm fairly happy with GitHub / Bugzilla

[06:13:45.0000] <annevk>
Not sure about specifiction yet

[06:14:22.0000] <darobin>
specifiction is more for pre-feature talks; it's less good once you have a concrete proposal to work on

[06:14:34.0000] <darobin>
I wonder if there's a set up that makes Bugzilla actually run at decent speed

[06:14:40.0000] <rubys>
Annevk: How happy are you with github?  ;-)  Would you be open to pull requests?

[06:14:59.0000] <annevk>
rubys: I've accepted pull requests in the past

[06:15:08.0000] <rubys>
annevk: excellent!

[06:15:24.0000] <rubys>
I was unaware of that, and didn't see any recent instances.

[06:16:01.0000] <annevk>
rubys: https://github.com/whatwg/fetch/commit/7d6d62136c61d538f638479d6beebbdca8d644ee is a fairly recent one

[06:16:22.0000] <annevk>
(somewhat surprised people still print though)

[06:16:32.0000] <rubys>
annevk: thanks!

[06:20:22.0000] <jgraham>
I actually think that GH and BZ are more exclusionary than email, but they do have other advantages

[06:21:29.0000] <caitp>
because they require a sign up? arguably GH gives a voice to a great deal more people because of its simplicity

[06:22:05.0000] <jgraham>
Because they fragment discussion making it harder to track everything

[06:22:39.0000] <caitp>
you say fragment, I say "organize in a readable fashion" :>

[06:23:05.0000] <caitp>
"harder to track everything" could certainly be improved, but as a communications medium they're both better

[06:24:12.0000] <jgraham>
AFAICT the main advantage of GH is that people already have accounts, and the main advantage of bugtrackers in general is that you can mark an issue as fixed

[06:24:33.0000] <jgraham>
It's not that they are intrinsically great environments

[06:26:11.0000] <annevk>
Well, the discussion stays on a single topic

[06:26:22.0000] <annevk>
Whereas with mailing lists that is often not the case somehow

[06:26:32.0000] <annevk>
Or you get several threads on the same topic

[06:26:50.0000] <annevk>
There's a focus to Bugzilla and GitHub that works rather well

[06:27:03.0000] <jgraham>
Yeah, that's a fair point

[06:36:43.0000] <cwilso>
Annevk: planning to keep support for something in products for > a year while removing it from the spec seems like a bad idea.  We caused problems for ourselves in web audio that way. Rip off the bandaid one way or another.

[06:37:47.0000] <annevk>
cwilso: did the Web Audio implementations start telling developers immediately those APIs were deprecated?

[06:53:25.0000] <darobin>
this was fast https://twitter.com/BrianHallDev/status/518026732478398464

[06:54:53.0000] <boogyman>
haha

[06:57:04.0000] <annevk>
nice

[06:57:24.0000] <annevk>
was wondering what that was about

[06:57:50.0000] <cwilso>
annevk: no.  Might be an interesting experiment in whether warnings work, but the net problem is code would work on one browser but not newer one following the spec.

[06:59:53.0000] <rubys>
cwilso: I claim that the problem is worse than that.  I see tests that fail in all browsers, and some of those very same tests don't match prior RFCs.

[07:00:51.0000] <rubys>
goals that Mozilla has for file: URIs (cross-platform consistency) may not be ones that single-platform vendors may share.

[07:34:41.0000] <annevk>
rubys: we're talking about something else

[07:35:05.0000] <annevk>
cwilso: sure, but at least you need to give people a heads up, we've had success with that

[07:37:16.0000] <jgraham>
zcorpan: https://github.com/wooorm/franc seems interesting if you want to do more detailed studies of lang attr correctness

[07:38:39.0000] <darobin>
wow that's awesome

[07:39:23.0000] <gsnedders>
jgraham: that actually looks pretty poor at langid tools go

[07:39:27.0000] <gsnedders>
FYI

[07:40:09.0000] <jgraham>
gsnedders: Oh I don't doubt you can do better

[07:40:49.0000] <gsnedders>
AFAICT, it relies on an unweighted list of codepoint trigrams per language (at *least* weight them — but they can't really because their training corpus is hopelessly small)

[07:41:31.0000] <gsnedders>
(they manage to cover so many languages by having a tiny training corpus per language)

[07:41:37.0000] <jgraham>
Well I'm happy with "or a similar tool"

[07:41:58.0000] <jgraham>
It seems better than identifying Spanish using two words

[07:42:15.0000] <jgraham>
Or whatever unknown technique SteveF_ used

[07:43:36.0000] <gsnedders>
https://github.com/saffsd/langid.py is what I'd recommend, though the code last I knew was pretty damn messy

[07:45:12.0000] <jgraham>
Even after you ignore the 1Mb bzipped training data in the main file? :)

[07:45:25.0000] <gsnedders>
yes

[07:46:12.0000] <gsnedders>
jgraham: look at all the globals

[07:46:15.0000] <gsnedders>
jgraham: and cry

[07:47:54.0000] <jgraham>
anyway what you really want is just to be able to do for (file in files): tree = parse(file); attr = tree.root.attr("lang"); detected = detect(tree.text); update_data(attr, detected)

[07:48:20.0000] <jgraham>
Doesn't matter too much about the code as long as there's an API that takes a string and returns a language code

[07:48:39.0000] <gsnedders>
jgraham: somehow need to handle <span lang="en">this is a really silly <span lang="fr">façade</span></span>

[07:48:50.0000] <jgraham>
"v2"

[07:49:17.0000] <gsnedders>
jgraham: this is why I'd recommend it, because the API is fine until you need to deal with multiple models at the same time, which is pushing it for most cases

[09:07:29.0000] <cwilso>
annevk: Of course, you need to give them a heads up.  But if you let the old way persist for a long time, it just makes it harder to remove.  Best attack: provide a matched pair of monkeypatches (I did this for Web Audio), old->new and new->old, and publicize, and give a relatively short timeframe for removal.

[09:08:28.0000] <cwilso>
rubys: if tests fail in all browsers, and don't match prior RFCs, then maybe the test is wrong? or the spec?

[09:09:26.0000] <cwilso>
annevk: no, Web Audio did not start telling devs right away that the APIs were deprecated.  It's definitely true that would have helped.  (Some of them would have been hard, like changing typing on parameters)

[11:05:57.0000] <Domenic>
So I missed all the interesting discussion this morning while I was sleeping in

[11:06:03.0000] <Domenic>
But two things:

[11:06:12.0000] <Domenic>
1) file: URLs raaaargh y they suck so much

[11:06:29.0000] <caitp>
s/file: //

[11:06:55.0000] <Domenic>
2) I agree with sentiments that it would be nice if WHATWG specs had better marking up of "this is stable and shipping" vs. "this is agreed upon and we hope implementers will get to it soon" vs. "I am proposing this but people are still debating it"

[11:07:22.0000] <Domenic>
HTML tries with its browser compat things in the margin

[11:07:32.0000] <Domenic>
Some CSS specs have test suites in the margin which is cool

[11:07:38.0000] <Domenic>
But in general nobody has solved this problem that well

[11:09:50.0000] <Hixie>
i'm updating the HTML spec to use caniuse.com data, btw

[11:09:54.0000] <Hixie>
this is actively happening right now

[11:13:57.0000] <jgraham>
/me doesn't really know how to feel about test suites in the margin

[11:14:44.0000] <jgraham>
HTML could trivially have pointers to tests, and with a little effort, some actual results.

[11:15:41.0000] <jgraham>
But it would be better if we could somehow get a fuzzy sense of "no testsuite / limited testsuite / reasonable testsuite" and "no implementation / some attempt at implementation / good implementation"

[11:16:05.0000] <jgraham>
Which I think is harder, and might set the wrong incentives

[11:16:36.0000] <jgraham>
Well anything where we want people to submit tests that will be displayed in a prominent public place sets bad incentives

[11:19:33.0000] <jgraham>
But yeah, generally the idea of having per-section stability markers is good, and something that we've tried to do multiple times, and something that has never quite been right so far

[11:22:43.0000] <Domenic>
Hixie: which is really awesome. But doesn't e.g. address navigator.yieldForStorageUpdates() being not only unimplemented and untested, but unwanted :P

[11:24:40.0000] <jgraham>
Well the right way to address things that are unwanted is to remove them from the spec

[11:24:51.0000] <jgraham>
Not to leave them there but mark them as unwanted

[11:25:36.0000] <Domenic>
well HTML has a lot of those :-/

[11:25:46.0000] <Domenic>
table sorting also comes to mind

[11:30:19.0000] <annevk>
74relide

[11:30:58.0000] <jgraham>
Domenic: Not clear that's unwanted yet

[11:31:29.0000] <jgraham>
I understand Google doesn't like it but afaik no one else has provided any feedback yet

[11:33:25.0000] <Domenic>
jgraham: that should be a clue, no? ;)

[11:33:34.0000] <TabAtkins>
jgraham: Why are yo uunsure about test suites in the margin?

[11:33:56.0000] <TabAtkins>
annevk: Time to change your password

[11:34:41.0000] <jgraham>
Domenic: Lack of feedback doesn't indicate anything much except that it's not at the top of anyone's priority list yet

[11:35:27.0000] <jgraham>
It might be that it *never* reaches the top of such a list, which would be a problem of course

[11:35:49.0000] <jgraham>
Anyway this is not that concerning, you just mark that feature as unimplemented and move on

[11:36:04.0000] <jgraham>
If it stays unimplemented for long enough you remove it

[11:36:08.0000] <Domenic>
jgraham: fair i guess. but still "no implementer has expressed interest in this; the editor just put it in there" is something that ideally would be called out.

[11:37:42.0000] <jgraham>
TabAtkins: I'm not too concerned about just listing tests. I'm concerned about listing results, because historically making public displays of results has led to people trying to game the tests rather than trying to improve interop

[11:39:13.0000] <jgraham>
e.g. withholding good tests, or submitting large numbers of similar, but trivial, tests in areas where they are better than the competition, or doing the minimum to fix tests rather than actually producing good implementations

[11:40:27.0000] <jgraham>
(Ealy submissions to HTML suffered from the first effect, CSS has had some examples of the second, and basically all the ACID tests led to the third)

[11:40:34.0000] <jgraham>
*Early

[11:43:14.0000] <jyasskin_>
annevk: Thanks. And it looks like WebIDL does let users construct a DOMException: http://heycam.github.io/webidl/#es-DOMException-call

[11:54:48.0000] <Hixie>
jgraham: i'm happy to expose whatever information you think should be exposed. Give me e.g. a JSON file at a fixed URL that I can fetch regularly and use when generating the spec and I'll be all over it.

[12:21:17.0000] <Jasper>
I know this isn't specifically a WHATWG question -- but has there ever been an idea to decouple <canvas> from its backing store, so we can use an image painted with Canvas2D more than once?

[12:22:38.0000] <TabAtkins>
Jasper: You can paint a canvas into other canvases, or extract it as a data url and use it in <img>, or (once implementations appear) put the canvas in the document.elementMap and use it in CSS everywhere you want.

[12:23:03.0000] <Jasper>
TabAtkins, that means me knowing when the other canvas was drawn to and doing a copy

[12:23:25.0000] <Hixie>
well you know when it was drawn, since you draw it :-)

[12:23:36.0000] <caitp>
i get what he's saying

[12:23:38.0000] <caitp>
she?

[12:23:40.0000] <caitp>
whateva

[12:23:46.0000] <TabAtkins>
caitp: "They".

[12:23:52.0000] <caitp>
good point

[12:23:56.0000] <Jasper>
These are quite large canvases, too, and I'm drawing to a small portion of them.

[12:24:05.0000] <Hixie>
(the short answer is document.elementMap)

[12:24:06.0000] <Jasper>
And there's no way to copy only the extents of the painted region.

[12:24:11.0000] <Hixie>
(as Tab said)

[12:24:15.0000] <Jasper>
I haven't heard about document.elementMap yet.

[12:24:23.0000] <Jasper>
Sounds intriguing though

[12:27:51.0000] <TabAtkins>
It's in CSS Images 4, but nobody implements yet.

[12:28:04.0000] <TabAtkins>
Firefox has something similar, with slightly different names, which it's based on.

[12:29:22.0000] <TabAtkins>
And for canvas specifically, webkit has a -webkit-canvas() function, and an API for creating a special "CSS" canvas.

[12:29:44.0000] <Jasper>
TabAtkins, yeah, I've seen that

[12:30:14.0000] <Jasper>
I'm also wondering if it's possible to use a Canvas2D as a texture in WebGL.

[12:31:24.0000] <Jasper>
Ah, it seems I can.

[12:31:33.0000] <Jasper>
glTexImage2D takes a <canvas>. Nice.

[12:54:12.0000] <jgraham>
Hixie: Yeah, well I'm hoping that we will get automatic nightly test results at some point. Whether we can fuzz them in a way that produces a kind of vauge "no support / some implementation" annotation might or might not be possible

[13:03:56.0000] <Hixie>
jgraham: i'm also interested in coverage numbers like you were saying would be good

[14:19:53.0000] <crankharder>
I added a "Content-Security-Policy-Report-Only" with this value: "default-src 'unsafe-inline' 'unsafe-eval' https: ; report-uri https://www.mydomain.com/csp"

[14:20:46.0000] <crankharder>
I'm seeing reports come in for image tags with embedded data, such as:   src="data:image/png;base64,iVBORw0KGgoAA....etc"

[14:21:22.0000] <crankharder>
the intent of this directive was to detect non-ssl resources, which I suppose that ^ is. Is there a way to modify my policy such that it doesn't report for these images?

[14:24:32.0000] <crankharder>
also, not really sure if that is ontopic in here or not

[16:50:15.0000] <terinjokes>
what link should I use for Service Workers? /TR/ or the editor's draft?

[16:51:44.0000] <smaug____>
never tr

[16:56:23.0000] <tantek>
do or do not, there is no tr


2014-10-04
[17:00:44.0000] <terinjokes>
hehe, see i know that would upset everyone ;)

[17:17:08.0000] <tantek>
terinjokes or TRjokes? ;)

[17:17:43.0000] <terinjokes>
what does the "TJ" in "TJ Holowaychuck" stand for?

[23:31:43.0000] <annevk>
crankharder: not sure if you should put quotes around the keywords, that might be the issue

[23:42:35.0000] <annevk>
I don't like the way NodeList et al are defined

[23:48:14.0000] <annevk>
Hmm, I can't use setlike<> for DOMTokenList

[06:00:26.0000] <annevk>
"Add utterable support to URLSearchParams" oops

[06:09:02.0000] <Ms2ger>
/me utters something

[06:13:15.0000] <annevk>
I almost did it again, it's "autocorrect"

[09:13:23.0000] <annevk>
Anyone else having trouble with Twitter in Firefox Nightly?

[09:33:35.0000] <MikeSmith>
annevk: I'm using Nightly both on desktop and android and haven't noticed any problems. But I mainly use tweetdeck.twitter.com instead of twitter.com

[09:35:04.0000] <annevk>
Not sure what's going on. I suspect it's something HTTP/2 related

[09:47:22.0000] <annevk>
MikeSmith: could you remove "DOM Parsing and Serialization" from "WHATWG" in Bugzilla? I just reassigned all bugs to the WebAppsWG component

[09:47:43.0000] <MikeSmith>
hai will do right now

[09:49:27.0000] <MikeSmith>
ok, deleted

[11:05:02.0000] <Ms2ger>
annevk, takk

[11:11:29.0000] <smaug____>
is takk Dutch

[11:12:41.0000] <smaug____>
no, it is not Dutch version of Swedish tack

[14:44:40.0000] <jgraham>
takk is Norwegian or Icelandic.


2014-10-05
[17:01:31.0000] <SimonSapin>
gsnedders: re twitter, I don’t understand what you’re saying

[00:41:51.0000] <annevk>
TabAtkins: Domenic: could you help out please? I think http://lists.w3.org/Archives/Public/public-media-capture/2014Oct/0047.html is basically the "reason" WebRTC is not switching to promises at this point, even though the implementations are still prefixed

[00:42:22.0000] <annevk>
slightlyoff: JakeA: ^^

[03:08:11.0000] <JakeA>
annevk: will weigh in tomorrow

[07:17:24.0000] <JakeA>
https is *optional* for webplatform docs login :/

[07:18:18.0000] <Ms2ger>
>.>


2014-10-06
[00:19:52.0000] <zcorpan>
karlcow: certainly you can run the url tests in non-browser url impls. just need to write a runner yourself

[00:39:48.0000] <annevk>
JakeA: use MDN

[01:16:27.0000] <karlcow>
zcorpan: I guess so. I was confused by the "Visit urltest and leave a comment with the user agent and hex code that that the web page reports."

[01:16:39.0000] <karlcow>
http://intertwingly.net/stories/2014/10/05/urltest

[01:20:19.0000] <karlcow>
I'm also trying to understand what is supposed to be the format but I see that you have to create your own doc by reading urltestparser.js

[01:20:20.0000] <karlcow>
https://github.com/w3c/web-platform-tests/tree/master/url

[01:22:37.0000] <karlcow>
hmm I don't want to fork web-platform-tests. I guess I can copy locally files in a specific directory

[01:25:40.0000] <zcorpan>
anyone have ie11?

[01:25:41.0000] <karlcow>
oh understood

[01:26:00.0000] <karlcow>
the 1st item in the list is the URI, the rest of the line is the decomposition

[01:26:08.0000] <karlcow>
pfew

[01:26:24.0000] <zcorpan>
second item is the base iirc

[01:26:53.0000] <karlcow>
what is https://github.com/w3c/web-platform-tests/blob/master/url/urltestdata.txt#L21

[01:26:58.0000] <zcorpan>
karlcow: feel free to submit a PR with documentation for the format :-)

[01:27:13.0000] <karlcow>
when there is href=''

[01:27:15.0000] <zcorpan>
karlcow: empty string input, empty string base

[01:27:50.0000] <karlcow>
ah so example.org is the token local whatever host the page is from?

[01:28:46.0000] <karlcow>
Starting to make sense. :)

[01:28:54.0000] <zcorpan>
no it uses the base from an earlier test that sets base

[01:29:04.0000] <karlcow>
houla…

[01:29:26.0000] <karlcow>
why's that?

[01:29:29.0000] <zcorpan>
i think

[01:29:51.0000] <zcorpan>
to avoid repeating it i guess?

[01:30:26.0000] <karlcow>
hmm

[01:30:27.0000] <karlcow>
https://github.com/w3c/web-platform-tests/blob/master/url/urltestdata.txt#L20-L21

[01:30:34.0000] <karlcow>
line 20 host = f

[01:30:49.0000] <karlcow>
line 21 host = example.org though it is not in the address

[01:31:25.0000] <zcorpan>
https://github.com/w3c/web-platform-tests/blob/master/url/urltestdata.txt#L4

[01:33:55.0000] <karlcow>
hmm I meant in 19. 20 doesn't seem to be defined at all.

[01:34:40.0000] <karlcow>
zcorpan: yes the test line 4. I don't understand either. :)

[01:35:22.0000] <zcorpan>
karlcow: it sets the base url that is used for all the tests below until another test sets a different base url

[01:35:30.0000] <zcorpan>
karlcow: that's where example.org comes from

[01:40:13.0000] <karlcow>
if host=='':

[01:40:13.0000] <karlcow>
  host=(something_defined_earlier_up_the_stack)

[01:40:13.0000] <karlcow>
else:

[01:40:13.0000] <karlcow>
  host=(the_one_extracted_for_this_test)

[01:40:19.0000] <karlcow>
is it what you are saying?

[01:49:09.0000] <annevk>
iirc it's something like that, yes

[01:49:30.0000] <karlcow>
annevk: thanks.

[01:49:38.0000] <karlcow>
I'm not sure I get everything yet

[01:50:14.0000] <karlcow>
but it seems the parsing rules of each line depends on a previous state. Not really simple. :/

[01:50:20.0000] <annevk>
I guess when I have a chance to work on URLs again I can add some documentation and fix some of the tests

[01:50:22.0000] <karlcow>
/me would have preferred redundancy

[01:50:42.0000] <annevk>
It's optimized for writing tests by hand

[01:52:54.0000] <karlcow>
annevk: can you give the key for the 1st line? https://github.com/w3c/web-platform-tests/blob/master/url/urltestdata.txt#L4

[01:52:54.0000] <karlcow>
more exactly why "http://example\t.\norg http://example.org/foo/bar"

[01:54:10.0000] <annevk>
karlcow: what is unclear?

[01:55:29.0000] <karlcow>
so let me try. The first string is the one to be tested: "http://example\t.\norg"

[01:55:30.0000] <karlcow>
Then the second string is for ?

[01:55:30.0000] <karlcow>
After this is what we must find "s:http h:example.org p:/" for the result. aka http://example.org/

[01:56:06.0000] <annevk>
second string is the base URL

[01:56:19.0000] <annevk>
iirc

[01:56:55.0000] <annevk>
karlcow: https://github.com/w3c/web-platform-tests/blob/master/url/urltestparser.js#L51 is the parser

[01:58:19.0000] <karlcow>
ah base href="http://example.org/foo/bar"  with <a href="http://example\t.\norg">blah</a>

[02:00:23.0000] <karlcow>
oooooh number of spaces in between the string is meaningful. argh

[02:02:25.0000] <annevk>
Ah I see, some tests MikeSmith added in https://github.com/w3c/web-platform-tests/commit/2712b5611a4e048e04a7dc814a7a31413d2d367a are not conforming to the spec

[02:05:54.0000] <karlcow>
burn MikeSmith

[02:05:56.0000] <karlcow>
;)

[02:08:06.0000] <zcorpan>
Hixie: caniuse boxes was popular if twitter is any indication

[02:10:02.0000] <karlcow>
hmm this will be PITA to parse in python

[02:10:44.0000] <zcorpan>
karlcow: can't you just split on " " like the JS impl?

[02:11:08.0000] <karlcow>
zcorpan: it will concatenate the spaces

[02:11:21.0000] <karlcow>
>>> 'http://example\t.\norg http://example.org/foo/bar s:http h:example.org p:/'.split(' ')

[02:11:22.0000] <karlcow>
['http://example\t.\norg', 'http://example.org/foo/bar', 's:http', 'h:example.org', 'p:/']

[02:11:22.0000] <karlcow>
>>> '\sfoo.com\s\s s:http h:example.org p:/foo/foo.com'.split(' ')

[02:11:22.0000] <karlcow>
['\\sfoo.com\\s\\s', 's:http', 'h:example.org', 'p:/foo/foo.com']

[02:11:59.0000] <karlcow>
ah no my bad

[02:12:03.0000] <karlcow>
working

[02:12:12.0000] <karlcow>
hmm I should stop working for today

[02:12:54.0000] <karlcow>
>>> '\sfoo.com\s\s  s:http h:example.org p:/foo/foo.com'.split(' ')

[02:12:55.0000] <karlcow>
['\\sfoo.com\\s\\s', '', 's:http', 'h:example.org', 'p:/foo/foo.com']

[02:13:00.0000] <karlcow>
ok

[02:13:03.0000] <karlcow>
all good

[02:13:36.0000] <karlcow>
thanks annevk and zcorpan

[02:14:03.0000] <zcorpan>
Hixie: should we move the browser icons to resources.whatwg.org? they're not used by wpt anymore

[02:14:55.0000] <zcorpan>
er, s/wpt/wat/ i guess. or hst

[02:16:29.0000] <zcorpan>
should we use svg browser icon when one exists?

[02:17:36.0000] <annevk>
if they look better

[02:18:59.0000] <annevk>
web-apps-tracker looks a bit duller now without the colorful icons

[02:51:50.0000] <MikeSmith>
annevk: about the URL tests I think those are all canonicalization tests. anyway, if you make a PR for the ones to remove, I can do the review duties

[03:03:27.0000] <zcorpan>
hmm, android browser doesn't seem to be in  https://github.com/alrra/browser-logos

[03:11:47.0000] <zcorpan>
https://github.com/alrra/browser-logos/issues/45

[03:45:44.0000] <zcorpan>
annevk: we could make the new icons more colorful i suppose

[03:46:05.0000] <annevk>
zcorpan: also maybe indicate in title="" somehow what they are about

[03:46:20.0000] <annevk>
zcorpan: currently all you get is "Stable" and no information on the icons

[03:48:59.0000] <zcorpan>
yeah that could be better. "Affects validators, browsers, tools. Stable content."

[03:51:14.0000] <MikeSmith>
yeah please

[04:49:47.0000] <rubys>
karlcow: you might want to follow the json link from the first paragraph in: http://intertwingly.net/blog/2014/10/02/WHATWG-URL-vs-IETF-URI

[04:51:49.0000] <karlcow>
Ah good. Normalized.

[04:52:01.0000] <karlcow>
rubys: Thanks sam

[04:53:15.0000] <annevk>
JakeA: beverloo: https://notifications.spec.whatwg.org/#service-worker-api (note that I haven't defined how these work just yet)

[04:58:03.0000] <JakeA>
annevk: ta, will review. I have *one whole day* in the office before I'm off to the next thing :(

[04:58:10.0000] <JakeA>
(but it's Fronteers so yey!)

[04:59:33.0000] <annevk>
JakeA: cool, make sure to attend jam session

[05:00:26.0000] <JakeA>
yeah, my usual tactic there is to stay downstairs and drink la chouffe, but I'm going to be super-sober this time

[05:01:01.0000] <annevk>
JakeA: will hopefully get the text around the API in shape today; hopefully this API matches what we've discussed

[05:12:03.0000] <zcorpan>
annevk: does http://intertwingly.net/stories/2014/10/05/urltest-results/a193745897 need to resolve?

[05:14:27.0000] <annevk>
zcorpan: SimonSapin filed a bug on it at some point, I don't remember finding the argument for arbitrary limits compelling

[05:15:05.0000] <annevk>
zcorpan: why would the IETF version not have a port there btw?

[05:15:08.0000] <annevk>
rubys: ^

[05:15:45.0000] <zcorpan>
annevk: if it gets clamped or truncated somewhere, isn't that a security problem?

[05:16:22.0000] <SimonSapin>
TCP and UDP only support port numbers in 0..65535

[05:17:07.0000] <jgraham>
FWIW if OSes store port numbers as 16 bit integers (I don't know if they do) that seems like a compelling reason to not support ports outside that range

[05:17:34.0000] <SimonSapin>
jgraham: "store"?

[05:18:08.0000] <annevk>
zcorpan: we don't limit domain length in parsing either

[05:18:44.0000] <jgraham>
SimonSapin: In the sense that the OS has data structures that model port numbers as 16 bit unsigned integers

[05:18:51.0000] <annevk>
zcorpan: it's not clear to me why port constraints would be different from domain constraints

[05:19:22.0000] <zcorpan>
annevk: i don't know if domain length has issues. maybe it does?

[05:20:14.0000] <jgraham>
annevk: Storing a number is conceptually rather different from storing a string

[05:20:31.0000] <annevk>
jgraham: port is a string

[05:20:47.0000] <jgraham>
annevk: In actual sockets implementations?

[05:21:01.0000] <SimonSapin>
annevk: port is serialized as a string in href.port in JS

[05:21:23.0000] <SimonSapin>
opening a socket in unix takes a 16-bit int

[05:21:33.0000] <annevk>
SimonSapin: for URLs it's a string https://url.spec.whatwg.org/#concept-url-port

[05:21:57.0000] <SimonSapin>
annevk: yes, that’s what the spec says right now, and I’m suggesting that maybe should change

[05:22:34.0000] <annevk>
zcorpan: it would change the way URLs parse

[05:22:58.0000] <annevk>
zcorpan: and while there's rules on what can work over TCP/UDP, there's no rules that say http://f:9999999999/ is an invalid URL

[05:23:16.0000] <annevk>
zcorpan: or that http://f[repeat 300 times]/ is one

[05:23:24.0000] <SimonSapin>
annevk: we’re discussing making up the rule

[05:23:42.0000] <jgraham>
annevk: Having a gratuitous mismatch between what can actually work and what's allowed seems bad

[05:23:58.0000] <annevk>
jgraham: if you use a URL as identifier it works fine

[05:24:19.0000] <jgraham>
If you are using a URL as an identifier you are already doing it wrong

[05:24:39.0000] <annevk>
I don't disagree, but breaking such usage seems bad

[05:25:07.0000] <jgraham>
Do you have any evidence that this would break anyone?

[05:25:26.0000] <annevk>
Shouldn't the evidence be the other way around?

[05:26:10.0000] <SimonSapin>
annevk: safari and chrome already don’t support above 65535, though they do something different with it

[05:26:30.0000] <annevk>
Note that this bug is still open apparently, I haven't actually made a decision: https://www.w3.org/Bugs/Public/show_bug.cgi?id=26446

[05:26:53.0000] <annevk>
It does seem however unfortunate to further deviate from the IETF (I think rubys made a mistake somewhere as I'm pretty sure the IETF RFCs allow that case)

[05:27:53.0000] <annevk>
That bug does suggest that all browsers have a limit, just that the one in Firefox is a bit higher.

[05:28:30.0000] <SimonSapin>
Firefox also keeps an integer internally, just a 32-bit one

[05:28:51.0000] <rubys>
Note that instead of doing the hard work of reading the IETF specs, I'm using an implementation that claims to be compliant as a proxy.

[05:28:57.0000] <jgraham>
Right, this "port is a string" isn't actually an implementation strategy that anyone seems interested in

[05:29:37.0000] <jgraham>
Which to me weighs higher than then unproven risk of breaking someone using URLs as identifiers

[05:29:47.0000] <jgraham>
+unresolvable

[05:31:51.0000] <annevk>
rubys: surely it must be compliant with all the tests the IETF has released, I guess I should reread the spec then

[06:29:46.0000] <zcorpan>
Hixie: see https://resources.whatwg.org/browser-logos/ - use opera-mobile.png for opera mini and firefox.png for firefox mobile

[06:43:14.0000] <annevk>
Domenic: I might be willing to adopt the [[slot]] and obj@[[slot]] notation at some point throughout the stuff I edit

[06:43:30.0000] <annevk>
Domenic: although it might be a hassle for those that reference the existing concepts

[06:43:50.0000] <annevk>
Domenic: is there syntax for internal classes/objects as well?

[06:52:13.0000] <zcorpan>
Hixie: https://html.spec.whatwg.org/#attr-script-async has two boxes on top of each other

[06:57:53.0000] <zcorpan>
Hixie: it's not always clear what the box refers to. e.g. https://html.spec.whatwg.org/multipage/indices.html#event-hashchange maybe replace "Support:" with the caniuse title?

[07:05:31.0000] <annevk>
Does anyone have an idea what it would take to enable caniuse.com boxes on other specifications?

[07:05:59.0000] <darobin>
annevk: you mean like embed a little caniuse thing next to a section?

[07:06:10.0000] <annevk>
darobin: as HTML has

[07:06:18.0000] <darobin>
oh that

[07:18:27.0000] <zcorpan>
annevk: maybe port hixie's thing to bikeshed?

[07:20:11.0000] <annevk>
would also need to port the specs to Bikeshed

[07:20:19.0000] <annevk>
but yeah, I guess that's the long term game

[07:29:23.0000] <Domenic>
annevk: what's an internal class/object?

[07:29:35.0000] <annevk>
Domenic: concept-request would be one

[07:29:58.0000] <annevk>
Domenic: or concept-url

[07:30:21.0000] <Domenic>
annevk: I think ES usually represents those as Records

[07:30:39.0000] <annevk>
Domenic: what if they have method-like-things attached?

[07:30:51.0000] <Domenic>
annevk: you define abstract ops that take the record as its first param

[07:30:54.0000] <annevk>
Domenic: I guess then it has global abstract operations... ew

[07:31:19.0000] <annevk>
Domenic: is that better?

[07:31:49.0000] <Domenic>
annevk: unclear. Feels more like a program, less like prose. But I guess it's less important than internal slots since internal slots could be used for e.g. structured clone

[07:32:18.0000] <Domenic>
I guess if one of the internal slots contained a Record it'd be easier to programmatically clone it than if it contained a concept.

[07:34:24.0000] <annevk>
well, you could have internal slots and internal methods to work around that

[07:34:47.0000] <annevk>
Domenic: and "feels like a program" seems rich coming from TC39 :p

[07:35:56.0000] <annevk>
but I could go either way

[07:36:25.0000] <Domenic>
Hmm it's true there actually are internal methods already. But they mean something kind of different...

[07:37:57.0000] <Domenic>
interesting, it doesn't look like the spec calls out internal methods as special. but in practice it only uses them for things that are applicable across all objects, e.g. [[Call]] or [[GetPrototypeOf]]

[07:38:08.0000] <Domenic>
whereas it uses internal slots for very case-specific things

[07:39:00.0000] <Domenic>
"Spec-ES" is probably the more interesting route

[07:39:50.0000] <annevk>
"Spec-ES"?

[07:41:05.0000] <Domenic>
http://esdiscuss.org/topic/for-of-loops-iteratorclose-and-the-rest-of-the-iterations-in-the-spec#content-25

[07:41:07.0000] <JakeA>
annevk: so, does self.Notification not exist within a ServiceWorker?

[07:41:19.0000] <annevk>
JakeA: it does

[07:41:36.0000] <Domenic>
letting you use some kind of ES dialect instead of this weird pseudocode-slash-prose that the ES spec uses

[07:41:55.0000] <Domenic>
but just ES doesn't suffice because you need mechanisms to avoid using user-modifiable things

[07:45:22.0000] <annevk>
that and better IDL seems about right

[07:45:51.0000] <JakeA>
annevk: so, if you create a notification within a ServiceWorker, it's automatically 'persistent' and events go through that SW?

[07:46:05.0000] <JakeA>
annevk: but if you want to do that from a page, you use reg.showNotification?

[07:46:15.0000] <annevk>
JakeA: no, you need to use showNotification() for that

[07:46:26.0000] <annevk>
JakeA: new Notification is for non-persistent notifications

[07:47:19.0000] <JakeA>
annevk: hmm, so "new Notification" is pretty much just a gotcha within SW?

[07:48:10.0000] <annevk>
JakeA: it would be the same as in other workers

[07:48:49.0000] <annevk>
JakeA: I think it makes sense to have the non-persistent notification API as well

[07:49:06.0000] <annevk>
JakeA: and we need to expose Notification objects somehow since they are returned from events in service workers

[07:50:17.0000] <JakeA>
annevk: right, but "new Notification" is going to cause problems in SW since it terminates while inactive

[07:50:39.0000] <annevk>
JakeA: problems how?

[07:51:24.0000] <Domenic>
Can you have a makePersistent(notificationInstance) that explains how some `Notification`s are persistent?

[07:51:42.0000] <JakeA>
annevk: you create a notification, add events, SW terminates, events never fire

[07:52:13.0000] <JakeA>
annevk: previous designs had "new Notification" within a serviceworker be persistent, which sounds like a sensible default

[07:56:08.0000] <annevk>
JakeA: we decided to use a promise instead

[07:57:33.0000] <annevk>
JakeA: does a ServiceWorkerRegistration always have an active worker?

[07:58:39.0000] <JakeA>
annevk: no, .register resolves when the worker starts installing. It'll have an active worker when navigator.serviceWorker.ready resolves

[08:01:20.0000] <annevk>
JakeA: when should showNotification start working?

[08:01:34.0000] <annevk>
JakeA: that is, when does push stuff start working?

[08:01:48.0000] <JakeA>
annevk: push doesn't work until there's an active worker

[08:01:58.0000] <annevk>
okay, I'll just follow that

[08:02:01.0000] <JakeA>
(pretty much why we have .ready)

[08:04:24.0000] <annevk>
JakeA: should notifications be associated with the registration or the service worker returned from active worker? I guess with the registration, right?

[08:07:43.0000] <JakeA>
annevk: Yeah, the registration

[08:07:49.0000] <JakeA>
That's how push etc work

[08:07:59.0000] <JakeA>
so if the active SW changes, the new one gets the event

[08:10:01.0000] <JakeA>
annevk: I'm struggling to find the justification for getUserMedia to stick with callbacks

[08:10:49.0000] <annevk>
JakeA: thanks for the help

[08:10:51.0000] <annevk>
JakeA: I don't either

[08:11:21.0000] <annevk>
JakeA: I think at this point it's basically ekr trying to maintain his position from a year ago, that not everyone is convinced promises ought to be used everywhere

[08:11:37.0000] <annevk>
JakeA: which given that he's not really a JavaScript person, is a real shame

[08:11:47.0000] <JakeA>
ugh

[08:12:39.0000] <annevk>
JakeA: btw, Google's main guy didn't help much

[08:12:51.0000] <annevk>
JakeA: not sure if you saw the ridiculous presentation he gave

[08:13:08.0000] <JakeA>
annevk: Was that the contentless PDF thing?

[08:13:27.0000] <annevk>
JakeA: http://lists.w3.org/Archives/Public/public-media-capture/2014Oct/att-0003/Thoughts_on_Promises__Public_.pdf

[08:13:53.0000] <JakeA>
yeah fuck that

[08:14:10.0000] <annevk>
Last year their argument was that WebRTC would be ready way before promises. And now promises has been in stable for a long time the new argument seems to be "uh we don't want to change our mind"

[08:14:50.0000] <JakeA>
annevk: have any other APIs shipped with success/failure callbacks since promises went stable?

[08:14:58.0000] <annevk>
nope

[08:15:12.0000] <annevk>
I told them

[08:15:56.0000] <annevk>
Their priority of constituencies is clearly wrong

[08:19:53.0000] <JakeA>
annevk: it's not even a big spec change. In fact, it's more effort. Just delete navigator.getUserMedia if it's just an alias

[08:20:18.0000] <JakeA>
Domenic: Is the TAG still charged with beating people with sticks if they pull this shit?

[08:20:24.0000] <annevk>
I didn't get that either

[08:21:24.0000] <annevk>
JakeA: do you know how to do this: https://github.com/slightlyoff/ServiceWorker/issues/504 ?

[08:22:46.0000] <slightlyoff>
I'm not sure it's exposed in the SW. We have unregister available there, though

[08:23:04.0000] <JakeA>
I think there's a ticket for this, searching…

[08:23:05.0000] <slightlyoff>
And its a good question as to why not.

[08:23:19.0000] <slightlyoff>
Which I will think about.

[08:23:45.0000] <JakeA>
https://github.com/slightlyoff/ServiceWorker/issues/421

[08:23:48.0000] <annevk>
Even if it's not exposed, I need access to it from spec language

[08:24:31.0000] <annevk>
E.g. otherwise how do I get all the Notification objects for Notification.get() that match the current service worker's service worker registration

[08:25:04.0000] <annevk>
The model does not seem to spell out that there's a relationship there and how you can get from one to the other

[08:25:30.0000] <JakeA>
there should be an API

[08:29:40.0000] <annevk>
APIs are easy if your model is in order...

[08:30:00.0000] <annevk>
At least if there was a model I wouldn't be blocked on writing text for the Notifications API

[08:33:10.0000] <slightlyoff>
The model is coherent

[08:33:20.0000] <slightlyoff>
But lack of API is bad

[08:34:31.0000] <slightlyoff>
JakeA: will need to replicate browser-side API in full to expose states

[08:35:06.0000] <annevk>
The model is not coherent...

[08:35:13.0000] <JakeA>
slightlyoff: we can reuse the full registration object I think, then expose self.registration

[08:35:23.0000] <annevk>
It doesn't even say that a service worker has an associated service worker registration

[08:35:31.0000] <slightlyoff>
Yep

[08:35:32.0000] <annevk>
Or that a service worker can be obtained from a global object

[08:35:51.0000] <annevk>
There's a lot of stuff missing in the model

[08:36:05.0000] <slightlyoff>
annevk: you can't get run in the SW global context WO a registration ;-)

[08:36:41.0000] <slightlyoff>
So the model *is* coherent. But agree spec text needs improvement

[08:36:41.0000] <annevk>
slightlyoff: oh, so magic is acceptable here?

[08:36:51.0000] <slightlyoff>
Did I say that?

[08:37:04.0000] <slightlyoff>
Why so trolly?

[08:37:08.0000] <JakeA>
I think we're getting tired up in terminology here

[08:37:29.0000] <annevk>
Because I have a problem with the spec and you keep saying it's fine, while you mean that the idea is fine

[08:37:30.0000] <JakeA>
In the spec the ServiceWorker instance needs to have an explicit link back to the registration

[08:38:25.0000] <annevk>
And the SW spec has been a source of frustration for a long time now

[08:38:41.0000] <slightlyoff>
I didn't say its fine. I said it needs to be improved, but that the conceptual framework isn't broken (as you had alluded to)

[08:39:27.0000] <annevk>
No, I alluded to the model described in the spec being broken

[08:39:59.0000] <annevk>
Because it is, as I can't use it to define other features elsewhere, or use it to explain to developers how things need to be implemented in Gecko

[08:40:51.0000] <slightlyoff>
Lets improve the spec text then! Thanks for pointing out the lack of API.

[08:41:53.0000] <annevk>
Please do it, I filed doezens of issues :-)

[08:41:58.0000] <annevk>
dozens, even

[08:51:05.0000] <JakeA>
Can't help feeling my posts are being ignored on public-media-capture

[08:52:30.0000] <annevk>
JakeA: filed https://github.com/slightlyoff/ServiceWorker/issues/505 on better hooks for other specs (currently none)

[08:55:15.0000] <Domenic>
JakeA: yes. Stick-beating incoming.

[09:00:02.0000] <JakeA>
annevk: dupe of https://github.com/slightlyoff/ServiceWorker/issues/349?

[09:02:26.0000] <annevk>
JakeA: yeah I guess, although I think I don't understand why activeWorker needs to be done as an async check

[09:02:35.0000] <annevk>
JakeA: or why InvalidStateError instead of TypeError

[09:11:20.0000] <JakeA>
annevk: happy to unasync. I picked InvalidStateError because the registration is in an invalid state for the API call. Maybe I'm getting the usage of that error wrong?

[09:13:01.0000] <annevk>
JakeA: I have a slight preference to use built-in exceptions over DOMException

[09:13:11.0000] <JakeA>
why?

[09:13:28.0000] <annevk>
JakeA: DOMException's design doesn't match that of built-in exceptions

[09:13:38.0000] <annevk>
JakeA: and otherwise it seems to not matter much

[09:13:53.0000] <JakeA>
fair enough

[09:14:01.0000] <JakeA>
I'm not particularly bothered

[09:17:27.0000] <JakeA>
http://lists.w3.org/Archives/Public/public-media-capture/2014Oct/0047.html "I'm not particularly interested in deprecating it" - was there a reason given?

[09:18:39.0000] <annevk>
No

[09:18:56.0000] <JakeA>
He's just using this as an anti-promise thing isn't he?

[09:19:06.0000] <annevk>
He just put it forward as ultimatum during the teleconference that promises could be added if we promised not to bring up deprecating for three years or so

[09:19:33.0000] <annevk>
I don't think he even cares as he's clearly not invested in JavaScript much. He's an IETF professional standards person afaict

[09:20:01.0000] <JakeA>
No point having navigator.getUserMedia if it's just a non-promise version of navigator.mediaDevices.getUserMedia

[09:20:11.0000] <JakeA>
The prefixed versions can remain for that

[09:21:04.0000] <JakeA>
The only reason to keep navigator.getUserMedia is if you're on some kind of anti-promise mission

[09:23:29.0000] <annevk>
I must admit I don't understand why they went from a nice short API to something that long

[09:24:06.0000] <JakeA>
gives them somewhere to put other methods I guess

[09:24:24.0000] <annevk>
At least migrate to MediaDevice.get() or some such

[09:24:26.0000] <JakeA>
although I'd rename getUserMedia to request, or open

[09:24:28.0000] <JakeA>
haha

[09:24:30.0000] <JakeA>
yeah

[09:25:25.0000] <annevk>
Seems like it could have used a ton more input from web developers

[09:27:46.0000] <Domenic>
SSLLabs is not very good at telling me what is losing points

[09:28:27.0000] <Domenic>
But, https://promisesaplus.com is now TLSified, yay CloudFlare

[09:35:51.0000] <Hixie>
hm, not sure what to do about async vs defer

[09:36:25.0000] <Hixie>
you can tell what the boxes are for by clicking the caniuse.com link, but in general I'd much rather the context be unambiguous than rely on caniuse's headings to disambiguate

[09:36:37.0000] <Hixie>
context meaning where the box is being all that's necessary

[09:38:28.0000] <Hixie>
btw do people like the right-aligned version numbers or would it be better to have them inline with the browser version? it's not really useful to have them compared to each other...

[09:39:04.0000] <Hixie>
also, in case anyone is curious, the sort order is by global usage share, and i limit it to the top 12 (but there's only 11 browsers in the data).

[09:39:12.0000] <Hixie>
(iirc)

[09:42:10.0000] <Domenic>
JakeA: annevk: http://lists.w3.org/Archives/Public/public-media-capture/2014Oct/0070.html

[09:43:39.0000] <annevk>
Domenic: ta

[09:43:42.0000] <jgraham>
Hixie: Sorting by global usage share seems unfortunate. I'd just sort into desktop / mobile and then alphabetically, if possible

[09:43:55.0000] <Hixie>
jgraham: that key isn't in the data

[09:44:07.0000] <Hixie>
(i originally sorted by usage because i was only showing 5)

[09:44:29.0000] <annevk>
Domenic: you can get more detailed results through https://www.ssllabs.com/ssltest/analyze.html?d=promisesaplus.com&s=104.28.31.16

[09:44:37.0000] <jgraham>
Hixie: Alphabetically is

[09:44:52.0000] <Hixie>
jgraham: that seems a bit arbitrary

[09:45:28.0000] <jgraham>
Hixie: usage share is also arbitary and doesn't really promote good authoring practices

[09:45:29.0000] <Hixie>
sorting alphabetically also has the disadvantage of putting three google products at the top

[09:46:02.0000] <jgraham>
Well that's one reason that sorting by device type works better

[09:46:20.0000] <Hixie>
sorting by device type doesn't seem to promote good authoring practices either :-)

[09:46:32.0000] <Hixie>
(but in any case, i don't have that key)

[09:46:48.0000] <jgraham>
Well maintaining that key locally seems rather easy

[09:47:09.0000] <Hixie>
i would rather not make this any more brittle than it is. it's already really dependent on the caniuse.com format.

[09:48:46.0000] <jgraham>
Well that seems somewhat inevitable. On that note, it should also say "data from" rather than "see also" to be clear whose assessment of "support" is being used

[09:49:15.0000] <jgraham>
And browsers that don't support a thing should still be listed, but in some way that shows it isn't supported

[09:49:22.0000] <Hixie>
yeah, that's what i had at first. The problem is that on some of the boxes, there's no browsers that support it, and then having the "data from" line alone is very strange.

[09:49:49.0000] <jgraham>
Well happily both those changes together solve that problem

[09:50:02.0000] <Hixie>
well right now i'm showing browsers that have the "y".

[09:50:07.0000] <Hixie>
what do i do for other codes?

[09:50:13.0000] <Hixie>
there's like half-a-dozen other states

[09:50:26.0000] <Domenic>
Hixie: example link for us to look at?

[09:50:34.0000] <Hixie>
Domenic: link to what?

[09:50:53.0000] <jgraham>
Hixie: What are the other states? I think partial and none are rather easy to understand

[09:50:58.0000] <annevk>
Domenic: http://www.jamescrowley.co.uk/2014/02/02/achieving-forward-secrecy-and-strict-transport-security-in-iis/

[09:51:03.0000] <jgraham>
and display

[09:51:31.0000] <Hixie>
jgraham: see "stats" in https://github.com/Fyrd/caniuse/blob/master/CONTRIBUTING.md

[09:51:41.0000] <annevk>
Domenic: https://html.spec.whatwg.org/multipage/embedded-content.html#the-video-element has an example of the caniuse box

[09:51:58.0000] <Hixie>
jgraham: (and note that a browser can have multiple codes, and each version can have different codes)

[09:52:42.0000] <jgraham>
Hixie: That sounds like it's even more important to present more than just "y"

[09:53:15.0000] <jgraham>
Hixie: Most of those seem to map onto "no" other than y or a

[09:53:15.0000] <Hixie>
jgraham: tell you what. make me a mock-up of how i should render them, and i'll see what i can do.

[09:54:46.0000] <jgraham>
Something like:

[09:54:56.0000] <jgraham>
Chrome         34+

[09:55:38.0000] <jgraham>
Firefox (partial) 29+ <- this line in grey

[09:55:49.0000] <jgraham>
IE        None <- this line also in grey

[09:57:46.0000] <Hixie>
jgraham: and what do i map to these three states?

[10:02:34.0000] <JakeA>
Domenic: good email, although I don't think they have good reason to ship with callbacks at all (even if promises are also returned)

[10:03:10.0000] <annevk>
Yeah, if navigator.getUserMedia() is dead, it seems like only promises could work

[10:06:09.0000] <Domenic>
annevk: doesn't requiring TLS 1.2 kill a lot of older browsers

[10:06:47.0000] <annevk>
Domenic: I don't know, I never got that far since I'm on DreamHost and haven't explored my own setup yet

[10:06:56.0000] <annevk>
getting my own setup*

[10:07:18.0000] <Domenic>
https://en.wikipedia.org/wiki/Transport_Layer_Security#Web_browsers

[10:07:39.0000] <gsnedders>
Domenic: Android < 4, and IE6 are the big casualties, IIRC

[10:07:51.0000] <Domenic>
looks like IE10 is a big casualty...

[10:08:33.0000] <gsnedders>
it's disabled by default? oh. :(

[10:09:08.0000] <annevk>
Wow why is that?

[10:09:26.0000] <gsnedders>
probably for the same reason Opera had it disabled by default for years; it breaks sites

[10:11:03.0000] <annevk>
Ah yeah, they hadn't actually made TLS forward compatible

[10:11:16.0000] <gsnedders>
IIRC it *is* forward compatible per spec.

[10:11:27.0000] <gsnedders>
Just many implementations aren't.

[10:11:31.0000] <annevk>
And then they forgot to deploy tests?

[10:11:43.0000] <gsnedders>
Because nobody ever tested the forward compatiblity stuff.

[10:12:01.0000] <annevk>
Not a bug surprise coming from the IETF

[10:12:15.0000] <gsnedders>
Dude, practically nobody was writing large testsuites in 2008.

[10:12:22.0000] <gsnedders>
It was hardly just the IETF then.

[10:12:35.0000] <annevk>
I think we had <canvas> back then and the HTML parser test suite

[10:12:57.0000] <gsnedders>
…which is pretty much an irrelevantly small part of the the HTML spec in 2008.

[10:15:32.0000] <Hixie>
and the CSS test suite

[10:15:42.0000] <Hixie>
(CSS was the first group to really do a test suite)

[10:16:00.0000] <gsnedders>
that wasn't that big in 2008, though

[10:16:13.0000] <gsnedders>
well, I guess the huge MS dump was around then

[10:17:36.0000] <annevk>
Hixie had a huge amount of tests

[10:17:44.0000] <annevk>
Still does

[10:18:53.0000] <annevk>
Ooh, Twin Peaks is making a return

[10:19:08.0000] <annevk>
I guess I better finish watching S2

[10:19:40.0000] <Hixie>
how do i make an image monochrome in css?

[10:19:43.0000] <Hixie>
does that exist yet?

[10:20:36.0000] <jgraham>
Hixie: Everything that isn't a or y gets mapped to None, a gets mapped to partial

[10:20:51.0000] <Hixie>
well "unknown" presumably doesn't get mapped to none

[10:20:59.0000] <Hixie>
and notes are presumably ignored?

[10:21:05.0000] <Hixie>
what if it's "a y"?

[10:21:11.0000] <Hixie>
or "a d"?

[10:21:22.0000] <Hixie>
or "y u"?

[10:22:19.0000] <annevk>
Hixie: I think with CSS filters that should be possible, don't know about support

[10:22:38.0000] <annevk>
Hixie: filter: grayscale(100%) seems to be the desired syntax

[10:22:45.0000] <Hixie>
aha

[10:22:46.0000] <Hixie>
thanks

[10:22:58.0000] <Hixie>
(was just finding that on the olde blogosphere)

[10:23:23.0000] <jgraham>
Hixie: Just use the latest information

[10:23:28.0000] <annevk>
Hixie: you might get away with filter:grayscale (leaving out the parameter as it defaults to 100%)

[10:23:42.0000] <Hixie>
jgraham: latest as in for each browser, walk up until you get to one that doesn't include a "u"?

[10:23:55.0000] <Hixie>
jgraham: my questions above were for the value of a single version, not across versions

[10:24:12.0000] <Hixie>
(the state is documented as a space-separated list of codes, per version)

[10:24:57.0000] <jgraham>
Hixie: I'm not sure what the semantics of the data are supposed to be then

[10:25:25.0000] <Hixie>
it's all documented in that link i pasted earlier

[10:25:59.0000] <jgraham>
Hixie: if "y" in data.split(): "y" elif "a" in data.split: "partial"

[10:26:05.0000] <jgraham>
else: none

[10:26:13.0000] <Hixie>
ok that's what i did

[10:26:29.0000] <Hixie>
look now

[10:27:25.0000] <Hixie>
hm the (limited) thing didn't work

[10:27:50.0000] <Hixie>
oh i see why

[10:28:18.0000] <jgraham>
Hixie: (limited) could have more contrast

[10:29:04.0000] <Hixie>
than "none", or do you mean both should be darker?

[10:29:15.0000] <jgraham>
Than None

[10:30:55.0000] <Hixie>
try now

[10:32:35.0000] <jgraham>
Hixie: That looks better

[10:34:53.0000] <Hixie>
can you tell why the box in the cell at https://html.spec.whatwg.org/#event-hashchange is a different density than the boxes elsewhere?

[10:36:01.0000] <Hixie>
the height of each of the 'table' rows ends up smaller somehow

[10:36:35.0000] <Hixie>
oh i wonder if it's inherited border-collapse or some stupid thing like that

[10:37:31.0000] <Hixie>
yeah that must be it

[10:38:27.0000] <Hixie>
man this lack of a left margin is taking me longer to get used to than most of these style changes

[10:38:46.0000] <Hixie>
i guess i've been staring at it for over a decade and a half at this point

[10:41:44.0000] <Hixie>
man, resizing the html spec makes multiprocess firefox shudder.

[10:46:52.0000] <Hixie>
annevk: any chance you can make the two sections labeled "Parser" in teh url spec have different names? I keep ending up staring at the host parsing algorithm wondering why it's not about urls.

[10:54:59.0000] <Hixie>
can someone test IE on http://www.hixie.ch/tests/adhoc/html/navigation/fragids/ tests 019-022 ? (follow the links on that page and tell me if they're green or red)

[10:55:10.0000] <Hixie>
(the pages, that is)

[10:58:27.0000] <Hixie>
(that's for https://www.w3.org/Bugs/Public/show_bug.cgi?id=26988 )

[10:59:58.0000] <boogyman>
Windows 8, IE10 test 19 fails

[11:00:22.0000] <Hixie>
uh

[11:00:25.0000] <Hixie>
does 001 pass?

[11:00:32.0000] <Hixie>
19 was supposed to be the control!

[11:01:08.0000] <boogyman>
001 is success

[11:01:27.0000] <Hixie>
huh

[11:01:28.0000] <Hixie>
do any of the others 020-022 pass?

[11:02:43.0000] <boogyman>
021 is netiher

[11:05:26.0000] <Hixie>
neither?

[11:05:35.0000] <Hixie>
as in it doesn't scroll at all?

[11:05:39.0000] <Hixie>
wild

[11:07:15.0000] <boogyman>
When I say neither, I mean the position on the screen gives me a box at the top of client height with a box, with a blue border, but no background to the phrase contained within that box.

[11:08:26.0000] <Hixie>
o_O

[11:08:50.0000] <Hixie>
so it's scrolling to "te st" in 021, but not making it match :target

[11:09:07.0000] <Hixie>
but in 019 it's not even scrolling to "te st"

[11:09:20.0000] <Hixie>
what does it do in 020?

[11:09:32.0000] <Hixie>
and in 001 it's scrolling to "test" and making it match :target

[11:09:57.0000] <boogyman>
okay, maybe I should read next time. 19, 21, 22 all pass, 20 fails

[11:10:17.0000] <Hixie>
oh

[11:10:27.0000] <Hixie>
ok that makes more sense

[11:10:42.0000] <Hixie>
interesting

[11:10:55.0000] <Hixie>
so only chrome and webkit scroll to id="te%20st"

[11:23:47.0000] <hober>
gahh, lists.whatwg.org is still broken?

[11:36:41.0000] <Ms2ger>
Hixie, fwiw, I believe Fx used to have something in the parser for that

[11:40:07.0000] <Ms2ger>
Hixie, all those tests appear to use p[id]

[11:40:37.0000] <Ms2ger>
Doesn't the weird behaviour only apply to a[name]?

[11:51:21.0000] <annevk>
Hixie: yeah seems fair, can't do it right away, so if someone can remind me if I forget...

[12:38:39.0000] <_MysT>
Weird Mobile (android) Issue:    http://gildedsocial.com/       Body { background-image: *** }     not loading within Chrome or Default Browser in Android only (Firefox works)  -   Does anyone have any clue on this?   Can't seem to get the background image to load at all!!

[13:30:29.0000] <Domenic>
Do we have use counter data on navigator.webkitGetUserMedia vs. navigator.getUserMedia? /cc annevk

[13:43:54.0000] <annevk>
dunno

[13:48:17.0000] <annevk>
I hate it when people suggest it is more likely they will address your feedback if you provide edits to the draft

[13:48:41.0000] <annevk>
I wonder if Art's etiquette guide covers that as it's absolutely wrong

[13:51:29.0000] <annevk>
hober: is the W3C archive not working for you?

[13:51:47.0000] <annevk>
hober: I suspect it'll be a while before DreamHost gets its act together

[13:53:32.0000] <annevk>
Hixie: hober: https://discussion.dreamhost.com/archive/index.php?thread-134209.html explains the problem as of Feb 2012

[13:53:36.0000] <tantek>
annevk - (hopefully) quick q - do you plan on addressing URL equivalency checking in the URL spec?

[13:53:49.0000] <tantek>
as in, is URL1 == URL2 ?

[13:54:08.0000] <tantek>
e.g. does https://annevankesteren.nl == https://annevankesteren.nl/

[13:54:19.0000] <tantek>
or even does http://annevankesteren.nl/ == https://annevankesteren.nl/ ?

[13:54:24.0000] <annevk>
tantek: if you parse them first and then compare the serialization, yes

[13:54:26.0000] <Ms2ger>
== is pointer comparison

[13:54:29.0000] <annevk>
tantek: the second would not

[13:55:02.0000] <tantek>
annevk - so I suppose I'm asking if that "parse them first and then compare the serialization" is worthy of mentioning in the spec as "How to compare URLs"

[13:55:05.0000] <annevk>
tantek: we don't currently treat /%7E and /~ as equivalent as browsers and not all servers do

[13:55:36.0000] <tantek>
annevk - I trust you to make reasonable decisions in terms of what should or should not be equivalent.

[13:55:36.0000] <annevk>
tantek: file a bug maybe? I suppose it's worth mentioning

[13:55:41.0000] <tantek>
I just want it specified :)

[13:56:02.0000] <tantek>
but wanted to run it by you first to see if you thought it was reasonable to include in scope

[13:56:09.0000] <annevk>
there's a semi-open issue on providing an API for comparison that gives several options for how much normalization you want

[13:56:22.0000] <annevk>
but there wasn't much feedback on it thus far

[13:57:47.0000] <tantek>
I think it's more important to specify comparison than to provide an API for it.

[14:01:12.0000] <annevk>
https://streams.spec.whatwg.org/ \o/

[14:01:33.0000] <annevk>
Will read it through tomorrow Domenic

[14:01:55.0000] <annevk>
Domenic: dunno if you do blog posts, but maybe you want to write one about this https://blog.whatwg.org/

[14:02:30.0000] <Domenic>
annevk: good idea probably ... still some areas need fleshing out, but the main stuff is there. Large parts are implementable.

[14:02:43.0000] <annevk>
tantek: fair, is there a specification that would reference such an algorithm?

[14:02:54.0000] <annevk>
tantek: that's the main reason I haven't written anything down yet

[14:03:17.0000] <annevk>
tantek: lack of something that wants to use it

[14:03:35.0000] <annevk>
tantek: which means it would be hard to test URL comparison, but I could still give recommendations I suppose

[14:03:48.0000] <tantek>
annevk - yes, the microformats representative h-card algorithm needs to reference something for comparing URLs.

[14:04:01.0000] <tantek>
and we're building code that depends on that algorithm actively - so it's a real world thing

[14:04:06.0000] <tantek>
not just a random spec thing

[14:04:23.0000] <tantek>
so it's likely to fully implement what you're specifying

[14:04:32.0000] <tantek>
and test it in real use on the web

[14:04:58.0000] <tantek>
/me tries to only ask for things that have pretty-immediate real world need :)

[14:05:18.0000] <annevk>
tantek: if you could file a bug and reference those things that'd be great

[14:05:29.0000] <annevk>
tantek: you're also free to use our support forum, I track it actively for input

[14:05:58.0000] <annevk>
(I'll prolly look through these logs again tomorrow, but I might forget)

[14:06:11.0000] <Domenic>
we have a support forum?

[14:06:45.0000] <annevk>
Domenic: that's how tantek refers to our mailing list, I was joking

[14:07:02.0000] <annevk>
Domenic: though we have https://forums.whatwg.org/ and a help mailing list

[14:07:35.0000] <annevk>
Domenic: whatwg/streams is already more popular than any other repo it seems, nice job

[14:13:07.0000] <Domenic>
:D

[14:25:54.0000] <Hixie>
hober: lists.whatwg.org is considered permanently dead. If you have broken URLs, you can easily fix them by opening them in browsers that haven't seen any other WHATWG URLs, copying the first sentence then searching for it on google and using the lists.w3.org URL instead.

[14:26:07.0000] <Hixie>
hober: all documentation has been updated (i believe) to not mention lists.whatwg.org

[14:27:21.0000] <Ms2ger>
Hixie, easily?

[14:35:18.0000] <Hixie>
ms2ger: takes a few seconds

[14:35:27.0000] <jgraham>
I have a cookbook from a slightly crazy resturant from the north of Sweden where agriculture is marginal at best. It will occasionally call for ingredients like "onion that has never been stored in the fridge". "Browser that has never seen other WHATWG URLs" puts me in the mind of this book which, I note, is totally impractical, but fascinating.

[14:42:49.0000] <astearns_>
/me adds to the list of browsers I should have installed

[14:43:19.0000] <Hixie>
jgraham: heh

[14:43:40.0000] <Hixie>
i just make sure my non-test version of Safari never visits https://*.whatwg.org

[14:43:43.0000] <annevk>
Now all I want for Christmas is a browser that has never seen the web

[14:43:50.0000] <Hixie>
and list that browser for this purpose

[14:44:22.0000] <jgraham>
annevk: I hear Servo is the big toy this Christmas

[15:01:45.0000] <tantek>
annevk - will do

[15:06:20.0000] <hober>
Hixie annevk: how hard would it be to set up an automatic redirect, for individual message urls anyway, to http://www.w3.org/mid/${MESSAGE_ID}

[15:09:46.0000] <tantek>
and w3c bugzilla is busted for me - logins don't work

[15:09:50.0000] <tantek>
nor does password reset

[15:10:58.0000] <Hixie>
hober: sadly, we have zero control over that domain

[15:12:54.0000] <tantek>
fine I'm putting it on the whatwg.org wiki then

[15:13:05.0000] <tantek>
since even whatwg emails are archived at w3c now

[15:13:18.0000] <hober>
:(

[15:15:42.0000] <tantek>
new section: https://wiki.whatwg.org/wiki/URL#Requests_and_Issues

[15:15:54.0000] <tantek>
new request: https://wiki.whatwg.org/wiki/URL#How_to_compare_URLs

[15:15:57.0000] <tantek>
thanks again annevk

[15:21:49.0000] <Domenic>
TabAtkins: was there a nicer way to do long abstracts in Bikeshed than prefixing "Abstract: " before each line? E.g. using indentation?

[15:43:21.0000] <Hixie>
tantek: you really should figure out what's up with your bugzilla setup, its been broken for months

[15:44:30.0000] <tantek>
I suppose I can ping sysreq again about it.

[15:47:04.0000] <tantek>
I try to avoid W3C's bugzilla, and tracker too.

[16:24:21.0000] <TabAtkins>
Domenic: As long as lines are blank or start with whitespace, they're assumed to be a continuation of the previous metadata value.

[16:24:37.0000] <TabAtkins>
Domenic: Written in the docs. ^_^

[16:37:16.0000] <aklein>
Hixie: you around? got a bit of a puzzling foster parenting situation

[16:37:27.0000] <Hixie>
sure

[16:38:36.0000] <aklein>
I'm interested in the parsing of "<body><a><table><a>"

[16:39:05.0000] <aklein>
what's interesting about it is that the foster-parenting algorithm manages to attach the second <a> to the first <a> even though it's already been "closed"

[16:39:44.0000] <Hixie>
so <a> is _really_ magical

[16:39:55.0000] <Hixie>
even more than most magical elements

[16:40:13.0000] <Hixie>
does your original question depend on the <a> magic or is that a distraction?

[16:40:46.0000] <aklein>
I'm not really sure yet

[16:40:53.0000] <Hixie>
ok

[16:41:00.0000] <aklein>
well, it's definitely related

[16:41:02.0000] <Hixie>
actually in this case i think the magic doesn't matter

[16:41:08.0000] <Hixie>
the short answer is, the first <a> isn't closed

[16:41:11.0000] <Hixie>
the <table> is in it

[16:41:16.0000] <aklein>
but we process a fake end tag for it!

[16:41:25.0000] <aklein>
let me go read the spec, I've been reading Blink code

[16:41:26.0000] <Hixie>
well, that's the magic i was talking about

[16:41:35.0000] <Hixie>
the end tag is ignored iirc

[16:41:51.0000] <aklein>
maybe this is a Blink bug then

[16:42:04.0000] <aklein>
how is the fake end tag ignored?

[16:42:48.0000] <Hixie>
well it's not really ignored

[16:43:00.0000] <Hixie>
it's just that the foster parenting is using the original <a> regardless

[16:44:40.0000] <Hixie>
you can see this magic in comparing these:

[16:44:40.0000] <aklein>
even though it's not on the stack of open elements...

[16:44:57.0000] <Hixie>
<a><table><a></table><i> vs <b><table><b></table><i>

[16:45:33.0000] <Hixie>
notice how in the first one, the third <a> is a sibling of the first one

[16:45:44.0000] <Hixie>
whereas in the second one, the third <b> is a child of the first

[16:46:36.0000] <aklein>
interesting...

[16:46:56.0000] <aklein>
so as it turns out the fragment I'm really interested in is "<template><a><table><a>"

[16:49:23.0000] <aklein>
which is causing blink to attach the second <a> to the template contents, rather than to the first <a>

[16:54:33.0000] <aklein>
Hixie: hmm, Gecko gets this right, we really may just have a Blink bug here

[16:54:33.0000] <aklein>
Hixie: sorry for the premature noise

[16:54:44.0000] <Hixie>
oh no worries, that's what i'm here for :-)

[16:54:55.0000] <Hixie>
if you decide it's a spec bug let me know

[16:54:58.0000] <aklein>
sure

[16:55:04.0000] <Hixie>
i don't guarantee the template stuff is bug free in the spec :-)

[16:55:26.0000] <caitp>
html parsing is arguably one giant spec bug that can never be fixed

[16:55:58.0000] <aklein>
Hixie: I'm going to try re-implementing this bit of logic with what the spec says and I'll see what I get


2014-10-07
[17:19:30.0000] <Domenic>
aklein: I think Hixie has his own Pascal parser that should give something close to canonical

[17:30:26.0000] <crocket>
Is it ok to put two footers in a section of a page?

[17:34:53.0000] <Domenic>
crocket: yes. e.g. https://developers.whatwg.org/sections.html#the-footer-element shows two footers for the whole page; i can assume it also works for a section

[17:39:04.0000] <crocket>
Domenic, Is it ok semantically to put two footers in a sectioning content?

[17:39:26.0000] <Domenic>
crocket: yes

[17:40:07.0000] <crocket>
Domenic, The link you gave doesn't seem to imply that.

[17:40:44.0000] <Domenic>
crocket: it does how i read it. The first example, plus the way it always refers to "footers" and "a footer"; not e.g. "the footer"

[17:42:23.0000] <Domenic>
Plus more concretely there is no special restriction for footers outside of the restrictions for flow content

[17:42:54.0000] <crocket>
Domenic, How do two footers change semantics?

[17:43:06.0000] <aklein>
Hixie: confirmed it's a Blink bug

[17:43:07.0000] <crocket>
It'd be different semantically than one footer in <article>

[17:43:42.0000] <Domenic>
Yes … it means the section or article has two footers … that is indeed different than having one footer.

[17:45:32.0000] <crocket>
Domenic, Is it better to put <section>s in one footer semantically?

[17:46:59.0000] <Domenic>
They mean different things… two separate footers (neither of which creates a new subsection) versus one footer with two subsections. "better" depends on what you're trying to convey

[17:47:32.0000] <crocket>
Domenic, What is the meaning of a footer or two?

[17:48:36.0000] <Domenic>
Two footers means … two footers. Two separate sets of " information about its section such as who wrote it, links to related documents, copyright data, and the like."

[17:49:02.0000] <Domenic>
Maybe one is the legal footer and the other is the bibliography footer

[17:49:31.0000] <Domenic>
I gtg, hope this was helpful…

[17:50:04.0000] <crocket>
Domenic, Thanks!!!

[18:01:14.0000] <aklein>
Hixie: Blink's foster parenting seems to be quite a bit out of step with the current spec. I'm curious if you happen to know when the requirement of the table's parentNode being an element went away (a requirement enforced in Blink by http://src.chromium.org/viewvc/blink/trunk/LayoutTests/fast/parser/foster-parent.html)

[18:03:16.0000] <aklein>
Gecko seems to enforce that same requirement

[18:03:47.0000] <aklein>
so there may be a spec bug here, just not in the template stuff itself but related to it

[22:50:04.0000] <Hixie>
aklein: i would imagine it went away when we introduced <template>

[22:50:24.0000] <Hixie>
aklein: since otherwise foster parenting in <template> would drop nodes left right and center

[00:12:42.0000] <zcorpan>
Hixie: https://html.spec.whatwg.org/multipage/embedded-content.html#attr-img-srcset says Chrome 40+ but should be Chrome 38+

[00:20:34.0000] <MikeSmith>
hsivonen: I'm beginning to wonder if we shouldn't just merge all the other validator github repos into the https://github.com/validator/validator repot

[00:22:21.0000] <MikeSmith>
hsivonen: to make things easier for users/contributors, so that they have just one place to submit PRs and issues, rather than 5

[00:22:43.0000] <MikeSmith>
hsivonen: and to make maintenance easier, etc.

[00:23:33.0000] <MikeSmith>
hsivonen: or maybe it would be too disruptive at this point, or just not so necessary really

[00:28:14.0000] <Ms2ger>
zcorpan, blame caniuse?

[00:28:35.0000] <zcorpan>
Ms2ger: caniuse has it supported in 38..40

[00:59:28.0000] <zcorpan>
can someone come up with a versioning scheme that doesn't suffer from the 10 problem? https://twitter.com/charmoto/status/519252143723667456

[01:00:11.0000] <annevk>
euhm, don't expose version numbers as strings?

[01:01:07.0000] <zcorpan>
yeah i guess that would help

[01:01:48.0000] <annevk>
maybe only as a query interface; is() isgt() islt()

[01:02:17.0000] <annevk>
I wouldn't be surprised if people still managed to mess that up though

[01:02:34.0000] <tantek>
/me can't wait for HTML10

[01:03:26.0000] <hasather>
zcorpan: base 1

[01:12:47.0000] <darobin>
tantek: I fully expect that all informative references will be to stable documents by then

[01:14:28.0000] <annevk>
http://lists.w3.org/Archives/Public/public-w3process/2014Oct/ o_O

[01:20:51.0000] <annevk>
karlcow: http://webcompat.com/ doesn't use TLS

[01:20:55.0000] <annevk>
karlcow: is there a bug on that?

[01:22:39.0000] <annevk>
/me finds https://github.com/webcompat/webcompat.com/issues/72

[01:23:44.0000] <tantek>
annevk I thought this was spot on: http://lists.w3.org/Archives/Public/public-w3process/2014Oct/0021.html

[01:24:08.0000] <zcorpan>
annevk: file it on webcompat

[01:25:02.0000] <annevk>
tantek: yeah that was too bad. Although that Art got that impression is also a sign that something is amiss.

[01:25:15.0000] <annevk>
zcorpan: seems miketaylr already did

[01:25:24.0000] <annevk>
zcorpan: asked if they could up the priority

[01:25:55.0000] <tantek>
annevk - plenty of things suboptimal / amiss.  Stating someone else's position as mal-intent is counter-productive. That issue was way out of line.

[01:26:47.0000] <jamesr__>
hmm, some specs expose permission denied as being different from other errors but i think most do not

[01:26:58.0000] <tantek>
I should point out that OpenStand itself does not follow OpenStand principles.

[01:27:00.0000] <annevk>
I don't think Art would overstate it without being seriously annoyed already

[01:27:09.0000] <annevk>
He's very reasonable normally

[01:27:16.0000] <annevk>
So there's probably more to it

[01:27:21.0000] <jamesr__>
my inclination would be to not distinguish permission denied by the user from other errors

[01:27:42.0000] <tantek>
annevk - in my personal experience Art is reasonable in person, but that's not the first time that an online interaction (whether tracker or email) was unreasonable.

[01:27:48.0000] <jamesr__>
but is there a general principle here?

[01:27:56.0000] <annevk>
jamesr__: permission denied does not seem like an exceptional case to me

[01:28:05.0000] <annevk>
jamesr__: but I don't think there's a general principle

[01:30:28.0000] <annevk>
jamesr__: e.g. I don't think Notification.requestPermission() should reject if the user says no, but there's a long debate on the WHATWG list about what exactly should happen there

[01:30:42.0000] <annevk>
jamesr__: I think it should reject if you invoke it with "TEST" as argument, since that's clearly wrong

[01:31:32.0000] <jamesr__>
my question is more about the Notification.permission attribute

[01:32:05.0000] <jamesr__>
what's the value of the transition from "default" to "denied" to the user? should we expose that the user clicked "no" vs ignored it or did something else?

[01:32:29.0000] <tantek>
/me closes the w3process thread.

[01:32:36.0000] <tantek>
/me … window.

[01:34:08.0000] <annevk>
jamesr__: if the value is "denied", the application will have no need to offer UI to allow the user to enable it

[01:36:29.0000] <annevk>
jamesr__: "denied" might be persisted, or active for the duration of the "session"

[01:37:14.0000] <jamesr__>
well my actual question was about http://dev.w3.org/geo/api/spec-source.html#position_error_interface

[01:38:17.0000] <jamesr__>
seems odd to expose the difference between PERMISSION_DENIED and POSITION_UNAVAILABLE

[01:40:20.0000] <annevk>
UNAVAILABLE seems like you would be able to try again

[01:41:18.0000] <annevk>
The geolocation API is rather sad looking at this point

[01:42:20.0000] <annevk>
Hmm, how is matchMedia() a problem for Blink, but watchPosition not?

[02:03:39.0000] <MikeSmith>
hsivonen: I e-mailed you with background info and more specific details on the idea of merging the ithub validator repos into a single repo that I pinged you about here earlier

[02:04:50.0000] <MikeSmith>
jgraham: If we do merge the vnu repos I guess it might make sense to move all the tests there too -- that is, out of wpt and into there instead

[02:06:58.0000] <MikeSmith>
jgraham: I mean just the conformance-checkers/ tests -- which were from the beginning an odd duck instead of wpt. I'd hoped that putting them tehre would encourage more people to contribute to them, but that hasn't happened and isn't likely to going forward either. So I guess it would make sense to just move them

[02:07:19.0000] <Ms2ger>
MikeSmith, wfm

[02:07:28.0000] <MikeSmith>
Ms2ger: ok

[02:07:54.0000] <MikeSmith>
I wonder if zcorpan has an opinion either way

[02:08:43.0000] <zcorpan>
wat?

[02:09:32.0000] <jgraham>
zcorpan: MikeSmith wants your opinions. On anything!

[02:09:35.0000] <zcorpan>
ah. don't mind moving them

[02:09:42.0000] <MikeSmith>
k

[02:11:03.0000] <MikeSmith>
it has the downside of making them seem implementation-specific to vnu -- which they're not of course

[02:12:35.0000] <MikeSmith>
but the reality there is, nobody has yet created another modern HTML-spec conforming validator engine, and it doesn't seem like anybody's likely to be doing so any time soon

[02:14:45.0000] <jgraham>
MikeSmith: If you really cared they could live in their own repo and be pulled in as a submodule, but it probably isn't worth the pain

[02:15:06.0000] <jgraham>
zcorpan: The version numbering scheme you're looking for is TeX

[02:18:34.0000] <MikeSmith>
jgraham: we got too many submodules on wpt already :)

[02:21:51.0000] <zcorpan>
jgraham: TeX -> Tex82 -> TeX 3.0 -> Tex n→π ?

[02:26:45.0000] <karlcow>
annevk: not yet. But you found already the issue.

[02:28:48.0000] <MikeSmith>
jgraham: if we move the validator tests, would/could you be able to hook critic up to it?

[02:30:12.0000] <karlcow>
zcorpan: for versioning without the 10 issue. Ⅰ  Ⅱ  Ⅲ  Ⅳ  Ⅴ  Ⅵ  Ⅶ  Ⅷ  Ⅸ  Ⅹ

[02:30:13.0000] <karlcow>
romans had thought about everything

[02:32:48.0000] <karlcow>
though I guess people would start making mistakes with ⅩⅩ

[02:38:44.0000] <zcorpan>
maybe if you use ascii to represent roman numbers it would force people to support variable number of chars

[02:59:39.0000] <smaug____>
/me assumes there isn't still any consensus about throwing from methods which return a Promise

[03:27:50.0000] <annevk>
smaug____: there is, they reject

[03:28:31.0000] <jgraham>
MikeSmith: Yeah, I can hook up critic

[03:28:48.0000] <jgraham>
annevk: Seems more like "consensus amongst the people who agree" :)

[03:29:38.0000] <annevk>
jgraham: Hixie changed the spec

[03:32:25.0000] <jgraham>
OK

[03:38:59.0000] <smaug____>
annevk: ?

[03:39:15.0000] <smaug____>
invalid params sure throw in bindings level

[03:39:49.0000] <annevk>
smaug____: no they don't

[03:40:02.0000] <smaug____>
whaat?

[03:40:17.0000] <annevk>
RTFS?

[03:40:57.0000] <smaug____>
Say I have some Promise<foo> addNode(Node foo); and call addNode(window);

[03:41:19.0000] <Ms2ger>
smaug____, that rejects the promise

[03:41:19.0000] <smaug____>
the exception would be reported using a Promise?

[03:41:25.0000] <smaug____>
that is crazy

[03:41:28.0000] <smaug____>
totally crazy

[03:41:29.0000] <Ms2ger>
smaug____, Hixie has been fighting that for months

[03:41:39.0000] <Ms2ger>
smaug____, but the people who agree agree this is best

[03:42:20.0000] <smaug____>
the the param validation depends on whether the method returns a Promise or not?

[03:42:31.0000] <smaug____>
that would be horrible inconsistency

[03:42:47.0000] <Ms2ger>
Correct

[03:43:43.0000] <smaug____>
this Promise nonsense is going too far ;)

[03:52:36.0000] <smaug____>
totally crazy

[03:53:29.0000] <smaug____>
/me should stay away from APIs using Promises

[04:01:55.0000] <smaug____>
soo crazy

[04:02:47.0000] <smaug____>
now code may end up doing random stuff after calling some method, since the basic param validation related error is reported asynchronously

[04:03:20.0000] <smaug____>
such basic error should be caught as early as possible, to prevent anything else to happen

[04:50:06.0000] <zcorpan>
Hixie: opera mobile and blackberry browser are not in the caniuse boxes.

[05:06:12.0000] <jgraham>
zcorpan: Hixie said he limited to 12 by marketshare. Not sure why if there are only 14

[05:28:30.0000] <MikeSmith>
jgraham: what were you saying about PFWG earlier? something about consensus?

[05:28:43.0000] <annevk>
darobin: https://github.com/jan-ivar/mediacapture-main/commit/9e472bd2fa7894d89af6fe3c6a5340d5a90a36a5

[05:33:13.0000] <zcorpan>
mathiasbynens: https://mathiasbynens.be/notes/html5-details-jquery doesn't have a green lock

[05:34:29.0000] <annevk>
Hmm, different browsers using different security indicators is not great

[05:35:52.0000] <erlehmann>
i bet you only have to have a lock icon as a favicon or something

[05:37:04.0000] <erlehmann>
http://www.troyhunt.com/2011/07/padlock-icon-must-die.html

[05:43:52.0000] <zcorpan>
erlehmann: browsers don't put the favicon in the address bar these days, do they?

[05:44:07.0000] <erlehmann>
zcorpan i bet you can have the lock anywhere :D

[05:44:22.0000] <erlehmann>
and i don't know, let me check

[05:44:37.0000] <erlehmann>
i use conkeror

[05:45:05.0000] <zcorpan>
wonder if there's a lock in unicode. a green lock would be nice for a subdomain

[05:45:40.0000] <erlehmann>
fortunately i happen to be an expert on the topic

[05:45:56.0000] <caitp>
"It�s easy � if you want to provide assurance regarding TLS, direct users to inspect the certificate in the browser."

[05:46:09.0000] <caitp>
> things that your grandma will not do

[05:46:11.0000] <zcorpan>
U+1F512

[05:47:02.0000] <erlehmann>
zcorpan look lower left http://daten.dieweltistgarnichtso.net/pics/icons/unifont-symbols-emoji.png

[05:47:14.0000] <erlehmann>
🔒 displays fine here

[05:47:20.0000] <erlehmann>
thanks to GNU unifont! :D

[05:48:24.0000] <erlehmann>
i hope my trollface gets merged :3

[05:49:03.0000] <zcorpan>
seems it gets punycoded in the address bar

[05:50:01.0000] <erlehmann>
yeah, otherwise homoglyph attacks would be easy

[05:50:35.0000] <annevk>
I don't really agree with that post that you have to inspect the certificate

[05:50:40.0000] <zcorpan>
but you could put it path or query

[05:51:03.0000] <zcorpan>
http://example.org/🔒

[05:51:47.0000] <erlehmann>
is shown percent encoded here

[05:51:50.0000] <erlehmann>
good!

[05:52:26.0000] <zcorpan>
not in opera/firefox/chrome

[05:54:13.0000] <annevk>
erlehmann: no disagreement though that this is hard for users

[05:55:05.0000] <annevk>
erlehmann: security UI needs to get better

[05:55:27.0000] <annevk>
zcorpan: might be worth filing a bug on that

[05:55:36.0000] <zcorpan>
annevk: yeah

[05:55:55.0000] <annevk>
I wonder if we should perhaps also color the chrome in addition to displaying a lock.

[05:56:16.0000] <caitp>
> accessibility issues

[05:56:25.0000] <caitp>
> people writing addons to circumvent it anyways

[05:56:58.0000] <annevk>
caitp: those issues apply to the icon-based solution we have today as well

[05:57:04.0000] <caitp>
well, yes

[05:57:45.0000] <annevk>
I'd imagine VoiceOver or some such would read out the address bar as "Secure www.example.org"

[05:57:48.0000] <caitp>
something that isn't too intrusive into the UI, but is noticeable enough to alert non tech-savvy users

[05:58:26.0000] <erlehmann>
users can and will do whatever they want

[05:58:49.0000] <caitp>
the thing is that you don't want to encourage people to shoot themselves in the foot

[05:59:17.0000] <caitp>
intrusive UI has that effect, because people will prioritize not having their eyes damaged over being safe from things they don't understand

[05:59:32.0000] <erlehmann>
indeeds

[05:59:57.0000] <erlehmann>
but the https cert warning is intrusive UI designed to let you be safe if you don't know

[06:00:36.0000] <erlehmann>
i hope notifications do not become a thing

[06:00:46.0000] <erlehmann>
otherwise the web is set up for the bubble apocalypse of windows xp days

[06:00:59.0000] <erlehmann>
where every application was thinking it has so important things to say!

[06:03:32.0000] <caitp>
aren't notifications already a thing? ios and android never seem to shut up with those :p

[06:03:57.0000] <annevk>
erlehmann: they're opt-in so if you don't like them you just ignore the request

[06:05:26.0000] <erlehmann>
annevk each and every opt-in solution can and will be abused. i can imagine “enable notifications to see this site” or even “enable media device access to see this site” to be as abusive as “enable javascript to see this static text so we can track you reliably”

[06:05:58.0000] <erlehmann>
i bet someone will do this

[06:06:31.0000] <darobin>
annevk: you want [mixed-content]

[06:06:41.0000] <darobin>
annevk: it depends on specref

[06:06:54.0000] <erlehmann>
caitp i mean web notifications. and yes, i hate those. the gnu/linux notify infrastructure though is surprisingly good.

[06:07:11.0000] <darobin>
annevk: if you open up any ReSpec document, in the top right menu there's a search option. If you search for "mixed content" you'll see all the available references in specref

[06:07:11.0000] <zcorpan>
"like us on facebook to see this site"

[06:07:24.0000] <erlehmann>
zcorpan exactly

[06:07:27.0000] <mathiasbynens>
zcorpan: thanks; fixed

[06:07:47.0000] <erlehmann>
btw, annevk, i do not think it is always possible to be notified when a notification closes. if i am not mistaken, on linux notifications are usually fire-and-forget.

[06:08:08.0000] <caitp>
well web notifications have already shipped, so I mean

[06:08:11.0000] <erlehmann>
on gnu/linux desktop systems at least

[06:08:19.0000] <erlehmann>
caitp yeah, so i just hope they do not become popular

[06:08:40.0000] <caitp>
facebook and twitter aren't using them yet so most people are probably okay for now :p

[06:08:44.0000] <erlehmann>
it is certainly possible for useful features that are widely supported to not be popular at all.

[06:09:10.0000] <annevk>
darobin: okay, left a comment there with that, thanks

[06:09:15.0000] <erlehmann>
like, a web dev i know had a startup but was amazed when i showed him you don't have to scrollTo some element but can use fragments :D

[06:09:23.0000] <erlehmann>
s/had/has/

[06:10:22.0000] <mathiasbynens>
as for browser security UI, I might be biased but I really like the way Opera does it

[06:10:34.0000] <mathiasbynens>
HTTPS with mixed content gets same UI as HTTP

[06:10:34.0000] <erlehmann>
how does opera

[06:10:34.0000] <erlehmann>
notify-send(1) gives me an urgency level (low, normal, critical), an expiration timer, an icon and a category.

[06:14:55.0000] <annevk>
mathiasbynens: so I have Opera Next 12.15 and when I search for updates it tells me I have the latest copy

[06:15:30.0000] <mathiasbynens>
annevk: i know ಠ_ಠ it confuses users daily. there’s an open bug on it

[06:15:47.0000] <annevk>
mathiasbynens: is there a dev channel I should get instead?

[06:16:03.0000] <mathiasbynens>
annevk: linux? yeah

[06:16:08.0000] <erlehmann>
only lower-class operating systems do not have functional package management

[06:16:16.0000] <mathiasbynens>
annevk: http://www.opera.com/developer

[06:16:36.0000] <mathiasbynens>
(http://, i know, there’s a bug on that too)

[06:16:54.0000] <annevk>
better fix it

[06:17:18.0000] <annevk>
filed a couple on Mozilla too to force TLS

[06:18:39.0000] <annevk>
mathiasbynens: Opera is inconsistent; for EV it shows a trailing slash, when there's no EV (TLS or no TLS does not matter) it shows no trailing slash;

[06:19:22.0000] <annevk>
mathiasbynens: good that it hides https:// though

[06:20:03.0000] <mathiasbynens>
ah, there’s a setting to override that and show the scheme anyway, which I have enabled

[06:20:19.0000] <mathiasbynens>
annevk: example host with no EV?

[06:20:28.0000] <annevk>
mathiasbynens: html5.org

[06:20:54.0000] <annevk>
ooh

[06:21:11.0000] <annevk>
I clicked the twitter link on the start page

[06:21:18.0000] <annevk>
which goes to /?partner=opera

[06:21:26.0000] <annevk>
and then Opera hides the ?partner=opera bit

[06:21:30.0000] <annevk>
but forgets about the /

[06:21:36.0000] <mathiasbynens>
heh

[06:21:39.0000] <annevk>
which would otherwise be hidden

[06:22:01.0000] <annevk>
sneaky

[06:22:08.0000] <annevk>
and arguably buggy

[06:23:28.0000] <annevk>
I think I still like Safari on iOS8 the best, although I haven't seen it on an iPad

[06:57:19.0000] <Manishearth>
Hixie: https://html.spec.whatwg.org/multipage/forms.html#dom-fs-target

[06:57:32.0000] <Manishearth>
should that^ say "limited only to allowed values"?

[06:57:51.0000] <Manishearth>
also, whatwg down

[06:58:50.0000] <zcorpan>
Manishearth: no, a browsing context name can be anything

[06:58:53.0000] <zcorpan>
not down for me

[06:59:18.0000] <Manishearth>
zcorpan: okay, thanks

[06:59:47.0000] <Manishearth>
zcorpan: A valid browsing context name is any string with at least one character that does not start with a U+005F LOW LINE character.

[07:00:02.0000] <Manishearth>
if we include keywords, that adds _blank, _self, _parent, or _top.

[07:00:26.0000] <Manishearth>
apparently it just reflects in Gecko though

[07:03:04.0000] <jgraham>
hsivonen: Making compat decisions based on Presto is at least a little bit suspect :p

[07:20:37.0000] <erlehmann>
_

[07:34:03.0000] <Manishearth>
zcorpan: "The action and formaction content attributes, if specified, must have a value that is a valid non-empty URL potentially surrounded by spaces."

[07:34:21.0000] <Manishearth>
what happens if I specify an invalidURL?

[07:35:09.0000] <zcorpan>
Manishearth: what you quoted is author requirement

[07:35:17.0000] <Ms2ger>
Manishearth, doesn't apply to you

[07:35:31.0000] <Manishearth>
Ms2ger: as in?

[07:35:54.0000] <Manishearth>
ah

[07:39:03.0000] <Manishearth>
Ms2ger: Gecko seems to behave differently from this spec

[07:39:15.0000] <Manishearth>
form.action="foo"; form.action

[07:39:21.0000] <Ms2ger>
Possible

[07:39:25.0000] <Manishearth>
will return baseurl/foo

[07:39:32.0000] <Ms2ger>
Sounds correct

[07:39:41.0000] <Manishearth>
whereas the spec says that it should just reflect the content attribute

[07:39:44.0000] <Manishearth>
(which is "foo")

[07:39:45.0000] <Ms2ger>
Well, see

[07:39:52.0000] <Ms2ger>
"reflect" means a lot of things

[07:39:58.0000] <Manishearth>
bah

[07:40:08.0000] <Manishearth>
https://html.spec.whatwg.org/multipage/infrastructure.html#reflect

[07:40:14.0000] <Ms2ger>
Annoyingly, reflecting URLs is the only case where UA requirements depend on author requirements

[07:40:43.0000] <Ms2ger>
(AFAIK)

[07:51:37.0000] <annevk>
Ms2ger: what do you mean?

[07:52:27.0000] <Ms2ger>
annevk, https://html.spec.whatwg.org/multipage/infrastructure.html#reflect says something along the lines of "If there is an authoring requirement that the attribute contains a URL, resolve etc"

[07:53:45.0000] <annevk>
I see. We should have IDL extensions for reflection imo

[07:54:07.0000] <Ms2ger>
Dunno about that

[09:44:50.0000] <Hixie>
zcorpan: 34-37 were only limited support

[09:45:16.0000] <Hixie>
zcorpan: it's limited to 12 browsers by usage share. I thought there were only 11 though. There's 14?

[09:45:33.0000] <Hixie>
zcorpan: are the two with minimal usage share worth mentioning?

[09:47:14.0000] <zcorpan>
Hixie: right so it should say 38, not 40

[09:47:40.0000] <zcorpan>
Hixie: video also says 40

[09:49:17.0000] <zcorpan>
Hixie: maybe top 12 is OK

[09:55:50.0000] <annevk>
WebRTC WG :-(

[09:56:09.0000] <annevk>
Also o_O

[09:59:07.0000] <Hixie>
zcorpan: ?

[09:59:15.0000] <Hixie>
zcorpan: oh

[09:59:17.0000] <Hixie>
hm

[09:59:31.0000] <Hixie>
odd

[09:59:36.0000] <Hixie>
oh

[09:59:46.0000] <Hixie>
hey can you file a bug on it to remind me to look at it after this meeting?

[10:00:10.0000] <Hixie>
i can reply to w3process e-mails but actually coding requires me to concentrate

[10:03:09.0000] <annevk>
Hixie: you have meetings?

[10:06:39.0000] <Hixie>
annevk: it happens

[10:49:37.0000] <zcorpan>
Hixie: reminder

[11:37:59.0000] <miketaylr>
annevk: zcorpan: added HTTPS/TLS to webcompat.com

[11:38:05.0000] <miketaylr>
thx for the gentle reminder

[12:07:29.0000] <annevk>
miketaylr: cool, also HSTS?

[12:09:00.0000] <miketaylr>
annevk: yes, minus includeSubdomains

[12:09:03.0000] <miketaylr>
(for now)

[12:09:03.0000] <annevk>
miketaylr: I could get you a wildcard certificate (or one with several alternative names

[12:09:14.0000] <annevk>
miketaylr: from StartSSL

[12:09:22.0000] <miketaylr>
that would be sweet

[12:09:29.0000] <miketaylr>
i used the free one from StartSSL

[12:09:32.0000] <annevk>
miketaylr: just need to forward hostmaster@ email to me and then we need to figure out how to exchange a key

[12:09:52.0000] <miketaylr>
k, traveling tomorrow for a conf but will try to do that on Thurs

[12:09:56.0000] <miketaylr>
thx annevk

[12:10:12.0000] <annevk>
miketaylr: having said that, if you have several domains yourself it might be better if you do it or get Mozilla IT to manage it

[12:10:26.0000] <annevk>
miketaylr: otherwise in two years time we'll have to this dance again and not forget about it

[12:11:09.0000] <miketaylr>
annevk: yeah... or the other option is for me to just buy it and expense it

[12:11:18.0000] <miketaylr>
and then in theory transfer it to moz within 2 years

[12:11:22.0000] <miketaylr>
cost isn't really an issue

[12:12:32.0000] <miketaylr>
should probably just do that.

[12:27:35.0000] <iamstef>
Hey All

[12:28:21.0000] <iamstef>
loading WebWorker via CORS seems to be a pain point currently, is this a spec or implementors concern?

[12:29:51.0000] <aklein>
Hixie: g'afternoon, just saw your answer from last night about foster parenting into DocumentFragments.

[12:30:20.0000] <aklein>
Hixie: both Blink and Gecko, despite supporting template parsing, won't foster parent into non-template DocumentFragments. I wonder if this needs to be captured in the spec

[12:30:57.0000] <iamstef>
seems like a spec thing

[12:32:43.0000] <Domenic>
annevk: Hixie: see iamstef's question. An interesting intersection of Fetch and HTML.

[12:44:08.0000] <Hixie>
aklein: oh the template document fragments are considered special? that's odd

[12:44:13.0000] <Hixie>
i wonder if the spec says that

[12:44:14.0000] <Hixie>
it might

[12:44:59.0000] <Hixie>
iamstef, Domenic: i thought i had a bug tracking the idea of cross-origin workers

[12:45:28.0000] <Hixie>
iamstef, Domenic: but i can't find it. maybe it was just e-mail.

[12:45:56.0000] <iamstef>
Hixie: i was surprised when i realized CORs wasn’t an option

[12:46:09.0000] <Domenic>
Hixie: iamstef found it. It's hard-coded to same-origin with no CORS provisions in the spec. Seems like it should just use Fetch in some way.

[12:46:31.0000] <Domenic>
s/found it/found the answer to his question/

[12:46:31.0000] <Hixie>
the idea is that if you fetch cross-origin, it should instantiate a worker in that origin

[12:46:35.0000] <Hixie>
but it's not specced

[12:46:38.0000] <Domenic>
hmm

[12:46:40.0000] <Hixie>
i thought there was an open bug on that

[12:46:43.0000] <Hixie>
but can't find it

[12:46:59.0000] <Domenic>
why not just treat it as if they had XHRed the code from the other origin and then instantiated with a data URL

[12:47:15.0000] <iamstef>
Domenic: i could see desire for both

[12:47:43.0000] <iamstef>
especially when you are using a WW to handle/maintain data flow with something.

[12:47:53.0000] <iamstef>
where it would be lovely if it was origined to the origin it came from

[12:48:18.0000] <iamstef>
so i think ^^ sounds goo for scriptURL

[12:48:42.0000] <iamstef>
building a WW from a blob resulting in same origin also makes sense?

[13:08:05.0000] <Hixie>
Domenic: the idea is to make it possible to have remote services, essentially

[13:08:29.0000] <Domenic>
Hixie: yeah makes a lot of sense

[13:33:12.0000] <caitp>
This function belongs to HUMANITY not to Google !!!!

[13:33:34.0000] <Hixie>
oh ffs, bugzilla changd to require a token during LOGIN?!

[13:34:06.0000] <boogyman>
Hixie: probably temporary while the zero-day is fixed

[13:36:28.0000] <aklein>
Hixie: I haven't looked at the Gecko code to see how they get special-cased there. in the Blink parser it's really hacky (and thus was the source of my <template><a><table><a> bug)

[13:37:29.0000] <jamesr__>
HUMANITY must be a blocking operation

[13:37:49.0000] <Hixie>
aklein: sounds like a good reason not to have the limitation

[13:37:57.0000] <Hixie>
boogyman: zero-day?

[13:38:30.0000] <boogyman>
https://krebsonsecurity.com/2014/10/bugzilla-zero-day-exposes-zero-day-bugs/

[13:38:46.0000] <Hixie>
    <input type="hidden" name="Bugzilla_login_token"

[13:38:47.0000] <Hixie>
           value="">

[13:38:48.0000] <Hixie>
wtf

[13:39:12.0000] <jamesr__>
can't scrape it any more?

[13:39:28.0000] <boogyman>
essentially anyone could sign up with an "origin server" domain address and be privy to critical security bugs.

[13:40:02.0000] <Hixie>
i don't understand what token it wants

[13:40:05.0000] <Hixie>
boogyman: ah, yeah, i see

[13:41:11.0000] <Hixie>
i don't understand how to log in any more

[13:41:14.0000] <Hixie>
sigh

[13:41:51.0000] <boogyman>
You should file a bug in … oh wait. Anyone here from Mozilla?

[13:42:35.0000] <boogyman>
Hopefully it's temporary while they implement a domain owner check.

[13:43:15.0000] <caitp>
there are mozillers in here

[13:43:39.0000] <Hixie>
i mean i can log in fine myself

[13:43:43.0000] <Hixie>
hm

[13:43:45.0000] <Hixie>
actually

[13:43:47.0000] <Hixie>
let me check that i can...

[13:44:58.0000] <Hixie>
yeah i can

[13:45:00.0000] <Hixie>
so wtf

[13:45:57.0000] <Hixie>
omg, i wonder if some accounts are given a higher level of security or something

[13:46:36.0000] <TabAtkins>
Per that article, Mozilla does not attach security-bug credentials to domains, but it does expose *some* private bugs based on domain.

[13:50:46.0000] <smaug____>
based on domain?

[13:51:10.0000] <TabAtkins>
Domain of the email on the account.

[13:51:14.0000] <smaug____>
ah, sort of, mozilla.com

[13:51:18.0000] <TabAtkins>
YTeah

[13:51:23.0000] <smaug____>
hmm

[13:51:36.0000] <smaug____>
I doubt it is really that way

[13:53:32.0000] <jgraham>
http://blog.gerv.net/2014/10/new-class-of-vulnerability-in-perl-web-applications/

[13:54:00.0000] <smaug____>
oh, it is

[13:54:03.0000] <smaug____>
that is surprising

[13:54:07.0000] <Hixie>
when my script tries to log in, it gets "Untrusted Authentication Request"

[13:54:20.0000] <smaug____>
since I think moco addresses have been used for non-employee cases too

[13:54:32.0000] <smaug____>
oh well

[13:54:54.0000] <jgraham>
Well also there are lots of employees using non-moco addresses

[13:54:59.0000] <jgraham>
In bugzilla

[13:55:36.0000] <smaug____>
indeed

[13:56:07.0000] <smaug____>
which is why it feels a bit odd if the email address itself would give some permissions

[13:56:26.0000] <smaug____>
I guess I could create a dummy account using moco address and test

[14:21:15.0000] <annevk>
miketaylr: also gives you TLS for your other domains more easily

[14:21:47.0000] <annevk>
miketaylr: if you have a phone bill and some ID documents it's really quite easy, otherwise it goes through a letter and takes a little longer, still not a big deal though

[14:35:10.0000] <annevk>
http://dev.w3.org/html5/2014/10/url-ref.html o_O

[14:35:17.0000] <annevk>
There's a lot of mistakes there

[14:35:32.0000] <annevk>
But, also, bed > 386

[14:58:48.0000] <caitp>
is there a reason why nobody seems to implement the title parameter of history.pushState() yet?

[14:59:13.0000] <caitp>
or rather, why everybody ignores it*

[14:59:52.0000] <caitp>
sort of puzzling :>

[15:06:59.0000] <Hixie>
caitp: it shouldn't be there

[15:07:09.0000] <Hixie>
caitp: but we couldn't remove it once we realised that

[15:07:15.0000] <Hixie>
caitp: because people already used the first and third arguments

[15:07:24.0000] <caitp>
why shouldn't it?

[15:07:43.0000] <Hixie>
it's redundant with document.title, which is the better place for this

[15:08:27.0000] <caitp>
except that setting document.title doesn't affect the history list in any browser

[15:08:41.0000] <caitp>
so you end up with a huge list of items which all look the same

[15:08:45.0000] <caitp>
that kind of sucks

[15:09:16.0000] <caitp>
(eg holding down the back button in chrome)

[15:09:48.0000] <caitp>
well, I'm wrong, it does in FF nightly

[15:10:05.0000] <caitp>
but honestly that's probably not a very good behaviour

[15:10:29.0000] <caitp>
since the title as it appears in history should really be the initial title of the document, to avoid confusion imo

[15:10:47.0000] <caitp>
(or the initial title of the state)

[15:11:48.0000] <caitp>
the two things shouldn't be considered redundant even if one of them does end up using the other :p

[15:12:24.0000] <caitp>
probably too late to fix that now though :(


2014-10-08
[18:20:33.0000] <Hixie>
well, apparently dsinger and i have no ability to understand each other

[18:20:55.0000] <Hixie>
Domenic: your turn, i give up

[18:39:03.0000] <terinjokes>
annevk: i assume that `fetch()` just has some internal way starting a fetch and handling a processed response?

[18:42:29.0000] <boogyman>
Hixie: is this within one of the email mail lists?

[18:43:03.0000] <Hixie>
http://lists.w3.org/Archives/Public/public-w3process/2014Oct/thread.html

[18:44:37.0000] <boogyman>
okay, what which thread?

[18:44:57.0000] <Hixie>
the one i was posting in :-)

[18:45:06.0000] <Hixie>
http://lists.w3.org/Archives/Public/public-w3process/2014Oct/0101.html was the last e-mail 

[18:45:54.0000] <Hixie>
i wonder if accusing people of doing what you want to do is some sort of documented logical fallacy debate tactic

[18:47:18.0000] <Hixie>
a: "i want to do a." b: "please don't do a!" [long argument] a: "i give up! you just want to force people to do a!"

[18:58:02.0000] <JonathanNeal>
Hixie: does the parser language conflict with splitting srcset by commas? re: https://github.com/scottjehl/picturefill/issues/322#issuecomment-58293500

[19:01:28.0000] <TabAtkins>
JonathanNeal: Hixie's not the person to ask, as he's not the maintainer of that part of the spec.

[19:01:33.0000] <TabAtkins>
But yes, it is in conflict.

[19:01:54.0000] <TabAtkins>
There can be commas within a url, and as we add function descriptors, they may contain commas.

[19:04:04.0000] <JonathanNeal>
Thanks. Who maintains that part of the spec?

[19:04:14.0000] <boogyman>
Hixie: the common parent to your discussion is Tim stating quoting you about some sort of patent, is that correct

[19:04:41.0000] <Hixie>
JonathanNeal: zcorpan

[19:04:52.0000] <Hixie>
boogyman: hm?

[19:05:16.0000] <boogyman>
The text from Hixie. I understand that this is the best which could be obtained as a document to be co-branded by W3C and WhatWG, that after some attempts to negotiate, Hixie refused to have that text removed.

[19:05:38.0000] <Hixie>
that's referring to the title on the FSA snapshot of the URL spec we published

[19:06:21.0000] <TabAtkins>
JonathanNeal: Me + zcorpan

[19:06:47.0000] <TabAtkins>
zcorpan is more of a maintainer, but I can answer questions as I wrote most of the text originally.

[19:13:25.0000] <JonathanNeal>
Awesome. Would a parse error result in an error event being fired? https://html.spec.whatwg.org/multipage/embedded-content.html#the-img-element:event-error

[19:15:49.0000] <JonathanNeal>
And do errors fire when something happens that “let[s] error be yes”, like when parsing non-negative numbers?

[19:16:16.0000] <TabAtkins>
JonathanNeal: As long as it can find one valid candidate, it doesn't throw an error.

[19:18:17.0000] <boogyman>
Hixie: is David really arguing over a change to a spec title?

[19:21:29.0000] <JonathanNeal>
So, to be clear, no parse error is thrown if one valid candidate if found, otherwise an error event is dispatched on the element?

[19:22:11.0000] <TabAtkins>
JonathanNeal: Yes.

[19:27:27.0000] <JonathanNeal>
When you say function descriptors, what do you mean? In responsive images, I know descriptors as the “x” in “1x” or the “w” in “400w”.

[19:29:02.0000] <TabAtkins>
Yes, those.  Like if we add type() or something in the future.

[19:29:07.0000] <TabAtkins>
Keeping our options open.

[20:19:24.0000] <JonathanNeal>
My first attempt at writing my own spec-compliant regex parser for image candidates https://gist.github.com/jonathantneal/cd2a5754b88700bdbdbf

[20:35:30.0000] <JonathanNeal>
“If an image candidate string contains no descriptors and no space characters after the URL, the following image candidate string, if there is one, must begin with one or more space characters.” Is this before or after the comma?

[20:47:02.0000] <JonathanNeal>
I presume before, because a URL may not end with a comma.

[21:09:16.0000] <Hixie>
boogyman: i think that he's asking us to publish a new copy of the url spec snapshot, but with a different title.

[21:09:22.0000] <Hixie>
boogyman: i'm not sure i understand anything else in that thread.

[21:14:42.0000] <boogyman>
Hixie: I agree with your first statement. In regards to the second, I believe the thread is attempting for you to question your decision about the name it currently has as possibly tarnishing your reputation. I also find that the thread makes references to being able to refer to a snapshot ("static reference"), and that any phrasing changes whatsoever.

[21:17:11.0000] <boogyman>
As an objective third-party, I believe I have an understanding of the motivation of both sides, and to me this is a philosophical difference of opinion. Static never-changing proof vs Fluid will-probably-be-obsolete publication.

[21:20:30.0000] <boogyman>
In my experience it's very difficult to create something that is both abstract and definitive in nature, as it is sometimes very difficult to know what we don't know. An example of that would be that at one point in our existence we "knew" that the earth was flat, but we now "know" the earth is round, and in the future, we may "know" some other dimension.

[21:21:58.0000] <Hixie>
boogyman: so, the one thing that i think is an opinion really in my argument is that i prioritise interoperability above all else in this topic.

[21:22:39.0000] <Hixie>
boogyman: but everything else i'm arguing, i think, is a logical consequence of the facts of the universe plus that priority

[21:23:13.0000] <Hixie>
boogyman: what i don't understand in the rest of that thread is why people disagree with the conclusions. As in, what part of my logic chain is wrong.

[21:23:25.0000] <Hixie>
boogyman: or, whether the premises (priorities) are different.

[21:24:59.0000] <boogyman>
I think the rest of the conversation is fluff, just restating the same argument

[21:25:10.0000] <Hixie>
there certainly was a lot of that

[21:25:15.0000] <Hixie>
but do you understand "their" argument?

[21:25:25.0000] <Hixie>
and if so, can you explain it to me?

[21:25:39.0000] <Hixie>
i really don't like not understanding the arguments that people who disagree with me make.

[21:27:40.0000] <boogyman>
My understanding is that you want the document to remain fluid and suggest against referencing potentially obsolete sections, whereas "their" argument is that a revision should be permanently reference-able.

[21:28:00.0000] <Hixie>
that much i understood

[21:28:05.0000] <Hixie>
it's the "why" i don't get

[21:28:22.0000] <boogyman>
So version A should always be version A, not version ∀

[21:28:34.0000] <caitp->
html5 is a much better brand name than <some 24 letter SHA>

[21:29:19.0000] <Hixie>
caitp-: we've clearly demonstrated over the past few years that you don't need a snapshot to have that brand name.

[21:29:37.0000] <boogyman>
Hixie: I think there may be some resentment about the rate at which the revisions occur.

[21:30:04.0000] <boogyman>
That was never stated explicitly, but that's an underlying tone I perceive.

[21:30:26.0000] <caitp->
which is fair

[21:30:48.0000] <Hixie>
boogyman: that was definitely not one of the topics raised

[21:30:50.0000] <caitp->
since the spec is a jumble of things that havent been implemented and things that never will be implemented, it's kind of unfair to authors to treat it as anything canonical

[21:31:34.0000] <caitp->
but html5, that's a brand they can trust

[21:31:38.0000] <caitp->
(tm)

[21:36:48.0000] <boogyman>
Hixie: The perception I first had of the title is not one of favoritism toward the bodies named, therefore it has a bad connotation.

[21:37:35.0000] <Hixie>
boogyman: ?

[21:38:18.0000] <Hixie>
boogyman: how would you feel about a spec called "HTML: The Living Standard; A technical specification for Web developers" ?

[21:38:35.0000] <Hixie>
boogyman: does that have bad connotations against web developers?

[21:38:58.0000] <boogyman>
no

[21:39:11.0000] <Hixie>
i don't understand the difference

[21:40:17.0000] <boogyman>
by your own admission the reference to those bodies are expressing your disapproval

[21:40:42.0000] <Hixie>
no, the disapproval is towards implementors using the spec

[21:40:45.0000] <boogyman>
Which is the exact perception I had when first viewing the document, before I read the mailing list

[21:40:47.0000] <Hixie>
not towards the lawyers or officials

[21:43:25.0000] <boogyman>
"So, please can we have a snapshot that has the same title" <-- request for consistency for consistencies sake

[21:44:35.0000] <boogyman>
"Expecting everyone to keep editing constantly because you are editing something they reference is expecting too much." <-- again stating that once something has been "named", for better or worse, that is it's name.

[21:45:09.0000] <Hixie>
boogyman: my problem with the part of the discussion where that first quote is from is that i tried to explain why there was a reason for the title, and as far as i can tell, that explanation had no impact at all

[21:45:40.0000] <caitp->
doesnt it suck when that happens

[21:45:52.0000] <Hixie>
and that second one, saying that maintaining your spec is too much, floored me

[21:46:06.0000] <Hixie>
it's literally saying that doing the bare minimum is too much effort.

[21:46:53.0000] <caitp->
to be fair, most people can think of a lot of things that would be significantly less effort while still netting them a healthy salary

[21:49:38.0000] <boogyman>
Hixie: A bit off topic here, but i'm not too thrilled about the notion that WHATWG supports "forks". As an author, I want to know that there is a single contract (spec) that vendors are implementing against, so that one day I may have a unified functional experience. By having multiple specs and/or reference points, confusion creeps in both as a vendor-implementer and a web-author.

[21:49:55.0000] <Hixie>
no kidding

[21:50:12.0000] <Hixie>
i've no idea where david got the idea that i or anyone else involved with the whatwg supports forks

[21:50:24.0000] <Hixie>
i mean, we've been begging and pleading for the w3c to stop forking for literally years now

[21:51:04.0000] <Hixie>
we're so against it that when we recently realised that the domparsing.spec.whatwg.org spec was itself effectively an inferior fork of a w3c spec, we made it redirect to the w3c one.

[21:51:53.0000] <boogyman>
anyway, back on topic, i think the discussion boils down to wanting to maintain a level of consistency

[21:52:15.0000] <caitp->
is it fair to authors for them to have to keep track of whether the correct spec lives in w3c or whatwg land

[21:52:30.0000] <caitp->
(ignoring that redirects exist)

[21:53:08.0000] <caitp->
or even just figuring out which one is "correct" in the first place

[21:53:12.0000] <caitp->
if any

[21:54:30.0000] <Hixie>
caitp-: if the w3c would stop forking our work, a simple google search would give you the answer.

[21:54:49.0000] <boogyman>
caitp-: I think it wouldn't matter if there is only one authoritative source for each resource. My personal opinion is that I don't care if there are multiple organizations working collaboratively as long as the end result is a single experience (even if that means I am redirected to different sites that i recognize as being a spec-authoring entity).

[21:54:56.0000] <Hixie>
caitp-: as it is, a google search won't even tell you which of the sometimes dozens of forks the w3c has for any particular spec is the appropriate one

[21:54:59.0000] <caitp->
actually even if you google for whatwg specs specifically, I usually ahve to include some very specific keywords in order to find what i'm looking for :(

[21:55:04.0000] <caitp->
otherwise i mostly find old mailing list posts

[21:55:14.0000] <caitp->
w3c is a lot more searchable

[21:55:28.0000] <Hixie>
boogyman: so basically, you're saying it's a difference in priorities?

[21:55:41.0000] <Hixie>
boogyman: if it is, i wish they'd just say what their priorities were so we could establish that

[21:55:59.0000] <Hixie>
caitp-: yeah, sadly the whatwg doesn't yet have enough authority in google rankings :-(

[21:56:08.0000] <caitp->
:-(

[21:56:25.0000] <boogyman>
Hixie: maybe that's a frank question you can pose to David.

[21:56:36.0000] <boogyman>
or whomever is the contact

[21:57:48.0000] <caitp->
anyways i'm not taking sides, just saying the whole thing is pretty frustrating for people who arent paying moderately close attention to it

[21:58:14.0000] <Hixie>
boogyman: whenever i do, i get told that obviously interoperability is the highest priority, and it's implied that even asking that question is offensive.

[21:58:36.0000] <Hixie>
caitp-: it's at least as frustrating for those of us who are paying close attention, let me assure you

[21:58:51.0000] <boogyman>
So would it make more sense for a third party to pose the question?

[21:59:48.0000] <Hixie>
boogyman: i have no idea

[22:00:55.0000] <caitp->
well, paying close enough attention to sort through all the bugmail and mailing lists and keep track of everything would certainly be frustrating, hardly even feasible

[22:02:30.0000] <boogyman>
I have no problem asking for clarification as to whom is the authoritative source for x,y,z, as eventually authors will be required to develop against only one, and as cait stated the longer the wait, the more frustration builds.

[22:03:38.0000] <Hixie>
boogyman: who would you ask? i'm sure the w3c would think they were the canonical source of info for HTML, just like i'd say the html.spec.whatwg.org spec is

[22:05:08.0000] <caitp->
you'd ask the people implementing tiny pieces of the individual x, y or z

[22:05:19.0000] <caitp->
because they're the ones deciding which one (and which parts of which one) are canonical

[22:05:53.0000] <caitp->
which essentially means that none of them are really canonical in their entirety

[22:06:18.0000] <caitp->
(which is frustrating for people)

[22:07:10.0000] <boogyman>
Hixie: As long as there isn't any overlap, I have no probably with whatwg being the authoritative source for a,b,y, and w3c d...,x,z or whatever the breakdown. But do not have multiple spec writers claiming canonical source of any single piece

[22:07:47.0000] <Hixie>
caitp-: yeah, that's why we update the whatwg specs to match implementations as pretty much job #1 :-)

[22:07:56.0000] <Hixie>
boogyman: how do you stop it?

[22:08:20.0000] <Hixie>
boogyman: i mean, i'm entirely in agreement in principle, i just don't know how to stop it happening

[22:08:40.0000] <boogyman>
By both sides embracing the needs of the audience, over the needs of the business.

[22:09:03.0000] <Hixie>
let's take html, since that's the one i edit.

[22:09:11.0000] <Hixie>
there's two ways we can solve the problem that i can see:

[22:09:24.0000] <boogyman>
Pride will most likely come into play when those conversations happen.

[22:09:25.0000] <Hixie>
either i stop editing, or they stop copying and editing.

[22:09:37.0000] <caitp->
in the w3c's case, the member companies are probably not a negligible percentage of their business, and losing influence would mean losing members

[22:09:51.0000] <Hixie>
now i could stop editing, but that would leave only their inferior version as the canonical version, and that seems objectively bad

[22:09:53.0000] <caitp->
I have no idea if there is any other revenue model there

[22:10:10.0000] <Hixie>
(i mean, they're literally months behind in fixing their spec, compared to the fixes i've put in the html spec)

[22:10:32.0000] <boogyman>
"their inferior version" <-- by what metric?

[22:10:40.0000] <Hixie>
number of bugs

[22:10:58.0000] <Hixie>
they started with my text, then i fixed a bunch of things and they haven't fixed them.

[22:11:12.0000] <Hixie>
(my text and zcorpan's now.)

[22:11:36.0000] <boogyman>
stale != infererior

[22:12:05.0000] <Hixie>
in what sense can a spec less match reality, have more bugs, be more stale, and yet not be inferior?

[22:12:26.0000] <boogyman>
But, on a new track, i think it bears investigating why "they started with my text", instead of just referencing yours?

[22:13:02.0000] <Hixie>
because it's the HTML spec and if the W3C doesn't publish the spec for the flagship markup language of the Web, they feel their credibility is at risk?

[22:13:04.0000] <boogyman>
what need went unfulfilled that they thought it would be better to fork

[22:13:05.0000] <Hixie>
that's my guess

[22:13:23.0000] <Hixie>
i don't know why they copy the other specs

[22:13:31.0000] <caitp->
maybe they'll start publishing markdown

[22:14:11.0000] <boogyman>
So my question would be, what is the likelihood of you ghost writing for w3c?

[22:14:25.0000] <Hixie>
i think their processes are actively harming the web.

[22:14:35.0000] <Hixie>
we tried me being the editor of their fork for a few years

[22:14:40.0000] <Hixie>
i quit in disgust

[22:15:04.0000] <Hixie>
(and because it was becoming intractable, their version kept getting further and further away from sane)

[22:15:06.0000] <boogyman>
So, there is resentment there. okay.

[22:15:30.0000] <Hixie>
resentment implies an emotional component that really isn't relevant here

[22:15:55.0000] <caitp->
relevance and presence are different

[22:16:02.0000] <caitp->
case in point

[22:16:28.0000] <Hixie>
i mean that it was a much more reasoned decision on my part than an emotional one

[22:16:51.0000] <Hixie>
personally i have no problem with the w3c existing despite what i view as their flaws

[22:17:16.0000] <Hixie>
i mean, i think the ietf has many of the same flaws and a bucket load of their own, but i don't have a problem with them because they're not forking our work all the time.

[22:17:23.0000] <caitp->
no offense, but you do sound sort of passive aggressive a lot WRT the w3c

[22:17:28.0000] <boogyman>
yet, you are attempting to take the authoritative source of HTML with you.

[22:18:50.0000] <Hixie>
caitp-: yeah, i would imagine so. they keep copying my work and messing it up, that aspect of it is very frustrating. combined with the things i think are flawed in their approach to standards, it's easy for me to express indirect hostility.

[22:19:37.0000] <caitp->
not judging =)

[22:19:47.0000] <Hixie>
boogyman: ok there's several premises in that statement i disagree with

[22:20:06.0000] <Hixie>
boogyman: first, i wouldn't actually care if they wrote their own HTML spec and we wrote ours and we could let the market decide which was "authoritative", or rather, which was better

[22:20:28.0000] <Hixie>
boogyman: second, specs imho can't be authoritative. that phrasing imho implies that there's a source of power from specs, and there isn't.

[22:20:49.0000] <Hixie>
boogyman: (this is one of my pet peeves; a lot of standards people think that writing specs gives them some sort of power over implementors. it doesn't.)

[22:21:08.0000] <Hixie>
boogyman: third, "take with" implies that the authority was with the w3c first.

[22:21:44.0000] <Hixie>
boogyman: in practice, the w3c ceded that authority around 2000, when they announced HTML was dead

[22:22:19.0000] <boogyman>
in favor of xhtml?

[22:22:32.0000] <Hixie>
boogyman: we took over the job of writing HTML in 2003, 2004 or so. Around 2007 they asked if we would mind them also working on it. A few years later I quit from that gig because it was a huge disaster as mentioned earlier.

[22:22:44.0000] <Hixie>
boogyman: but ever since 2004, the WHATWG has been maintaining HTML.

[22:23:14.0000] <Hixie>
boogyman: so I think if one were to see "authority" here, which I don't, that one would find it hard to argue that we're "taking it with" us away from some place it has been before.

[22:23:33.0000] <Hixie>
boogyman: i dunno. xml. something like that. i forget what the big plan was at the time. it never came to pass, anyway.

[22:23:57.0000] <caitp->
xml is still pretty successful

[22:24:08.0000] <caitp->
but thats another story

[22:24:14.0000] <Hixie>
not as a replacement for html

[22:24:28.0000] <caitp->
yes, xhtml is nasty

[22:26:38.0000] <boogyman>
1) that takes time, and as we have already seen with the earlier browser ES wars, that doesn't bode well for the web. 2) I think specs are a source of power, but I do agree that spec-maintainers should not feel a sense of entitlement. 3) It was originally with the w3c, so yes, it was taken away (but it sounds like your argument here is that something "abandoned" cannot be taken).

[22:27:43.0000] <Hixie>
well i agree that if they did their own spec it wouldn't be good. but it wouldn't be as bad as forking the whatwg work, because in reality theirs would suck so nobody would doubt which should be followed :-)

[22:28:08.0000] <Hixie>
the problem is essentially that they are using our work to let theirs seem to have authority, in a weird way

[22:28:18.0000] <boogyman>
So getting back on topic of using HTML as an example, that may be a very touchy subject given the history of the language and its core importance to the web

[22:28:20.0000] <Hixie>
for 3, i agree with your wording.

[22:28:26.0000] <caitp->
lots of things in the whatwg's html suck too, like the entire parsing section

[22:28:35.0000] <Hixie>
but i mean, we "took it with us" 10 years ago now

[22:28:46.0000] <Hixie>
at this point we just have it :-P

[22:28:47.0000] <caitp->
things being bad don't seem to stop people from following them if they've been doing so for years already :(

[22:29:05.0000] <Hixie>
caitp-: we're using different metrics for "bad"

[22:29:41.0000] <Hixie>
caitp-: i agree that html parsign itself sucks. however, the spec of html parsing is great since it so accurately represents what an implementation has to do to implement the (sucky) technology.

[22:30:01.0000] <Hixie>
caitp-: but e.g. compare the HTML4 parsing rules to the WHATWG HTML parsing rules

[22:30:10.0000] <Hixie>
caitp-: the HTML4 ones are an inferior spec.

[22:30:20.0000] <Hixie>
(albeit arguably a better technology)

[22:30:25.0000] <boogyman>
less-than-ideal

[22:30:47.0000] <Hixie>
boogyman: "may be a very touchy subject" is the understatement of the night :-)

[22:31:19.0000] <Hixie>
boogyman: but that does explain why "well you should just get together and decide which one is going to do it" is not realistic

[22:31:59.0000] <boogyman>
so to me, that's really the crux of the issue,and really is that way for all standards. all sides agree that there should be a single definition, just as long as that definition is theirs.

[22:32:22.0000] <boogyman>
example: blog-framework X

[22:33:19.0000] <boogyman>
Hixie: when the organizations put the needs of the audience over their own perceptions the decision because significantly more realistic.

[22:33:22.0000] <Hixie>
boogyman: i think it's a continuum of goodness. A single great spec would be ideal. Multiple competing independent specs is not great. A single spec that's then forked into multiple (in the W3C's case, dozens of) conflicting stale versions is worst.

[22:34:11.0000] <Hixie>
boogyman: both the w3c and the whatwg think (or at least claim) that them continuing to publish their specs is in the intersts of the audienc.

[22:34:50.0000] <boogyman>
and I believe that how "the audience" is defined is flawed.

[22:34:51.0000] <Hixie>
boogyman: for example, we think that living standards, open development, a single person to bear the blame for decisions, etc, is key to writing quality specifications which in turn is key to getting interoperability.

[22:36:00.0000] <Hixie>
whereas the w3c think that consensus, regular expensive meetings, telecons, multilevel process documents, etc, is key to writing specifications that [have some criteria they are optimising for, not sure what] which in turn is key to [whatever it is they think is important, not sure what]

[22:36:31.0000] <Hixie>
("the audience" in our case is users, authors, and implementors, in that order)

[22:39:50.0000] <boogyman>
so those definitions seem to feed competing business models which in turn is causing the different views on the topic.

[22:40:33.0000] <Hixie>
boogyman: that's my impression too, though i really really wish i could fill in those square brackets with non-cynical, true answers for the w3c side

[22:40:40.0000] <Hixie>
boogyman: however, i can't ever get a straight answer

[22:40:50.0000] <Hixie>
boogyman: (cf, the thread that started this discussion)

[22:40:58.0000] <boogyman>
straight meaning unbiased?

[22:42:33.0000] <Hixie>
meaning one that stands up to the slightest objective analysis

[22:42:53.0000] <Hixie>
as opposed to "well obviously our top priority is getting interoperable browsers", say

[22:43:09.0000] <Hixie>
or "we want to make sure our RECs represent what's implemented"

[22:43:25.0000] <Hixie>
both of which are trivially demonstrably false, since they do things that work against both of these all the time

[22:43:36.0000] <Hixie>
e.g. the HTML spec is being published with text inside it saying that it's wrong.

[22:43:40.0000] <Hixie>
literally.

[22:43:51.0000] <Hixie>
so they know that the html spec isn't what's implemented.

[22:43:57.0000] <Hixie>
yet they are publishing it anyway.

[22:44:05.0000] <Hixie>
or the way that they just didn't test entire huge sections of the HTML spec

[22:44:16.0000] <Hixie>
yet said "yup, we've proved interop, we're good to go"

[22:44:23.0000] <boogyman>
so, how about putting pride aside, and making that specification as best it can be.

[22:44:41.0000] <Hixie>
that's what i try to do for the whatwg spec

[22:44:45.0000] <boogyman>
and thats a comment to both sides.

[22:45:13.0000] <Hixie>
but again, it's trivially demonstrable that that's not what they're trying to do, since if it was, they'd have made sure they copied all my fixes promptly, and wouldn't publish something that doesn't have the fixes.

[22:45:26.0000] <boogyman>
If the quotes you state are not just lip service, have a call to action against those ideals.

[22:45:46.0000] <Hixie>
years ago i did try, many times

[22:45:52.0000] <Hixie>
i've lost the will to fix the w3c at this point

[22:46:13.0000] <boogyman>
you dont need to fix the organization, fix this one draft.

[22:46:19.0000] <boogyman>
draft/spec

[22:46:45.0000] <Hixie>
i tried that too for several years

[22:47:03.0000] <Hixie>
at one point i was told point blank to make the spec say something that was literally self-contradictory

[22:47:17.0000] <Hixie>
and when i pointed out the problem i was told to just do it anyway

[22:47:21.0000] <Hixie>
(i refused)

[22:47:23.0000] <Hixie>
(they did it fo me)

[22:47:29.0000] <Hixie>
(i quit not long after)

[22:51:14.0000] <boogyman>
Hixie: that means you were not the editor.

[22:51:59.0000] <Hixie>
i guess so

[22:52:08.0000] <Hixie>
but it's the best i could do

[22:52:10.0000] <Hixie>
so...

[22:52:28.0000] <Hixie>
i really should go to bed, anyway

[22:52:39.0000] <Hixie>
thanks for trying to help me understand it

[22:53:19.0000] <boogyman>
yeah, it's nearly 2a here, so its definitely long after my bed time

[23:29:20.0000] <annevk>
terinjokes: what do you mean?

[23:38:21.0000] <annevk>
hsivonen: seems DreamHost upgrade helped a bit: https://www.ssllabs.com/ssltest/analyze.html?d=annevankesteren.nl

[23:42:17.0000] <annevk>
Hopefully Hixie's server is updated soon as well

[00:49:42.0000] <annevk>
http://xkcd.com/1431/ nice mismatch between state and population

[01:34:58.0000] <tobie>
annevk: wouldn't it make sense to have a requestPermissions API that grouped permission requests and allowed the UA to present them  grouped together to the user when that was appropriate?

[01:35:19.0000] <annevk>
tobie: is it ever?

[01:35:54.0000] <annevk>
I mean, that proposal is very old and came back again recently, but nobody has shown promising UI

[01:36:13.0000] <annevk>
In fact, I haven't seen evidence that refutes http://robert.ocallahan.org/2011/06/permissions-for-web-applications_30.html yet

[01:36:55.0000] <tobie>
annevk: certainly not suggesting upfront permissioning

[01:37:14.0000] <annevk>
Shit, StartSSL did have a SHA-256 intermediate certificate, just hosted elsewhere https://www.startssl.com/certs/class2/sha2/pem/

[01:37:32.0000] <tobie>
annevk: but e.g. want to access various sensors to do a particular task

[01:38:17.0000] <tobie>
annevk: for example, temperature + geolocation

[01:39:54.0000] <tobie>
annevk: I mean the fact that there's a thread discussing how to make the current API more friendly to use with Promise.all seems there's a need/want for that.

[01:40:24.0000] <annevk>
I'll have to see the application TabAtkins has written that needs this first tobie

[01:40:33.0000] <tobie>
annevk: might as well enable the UA to do some smart UI in such cases.

[01:40:47.0000] <tobie>
annevk: my use case abive isn't enough?

[01:40:49.0000] <annevk>
Not particularly persuaded by the Promise.all() approach to permission APIs, sounds a lot like Java applets

[01:41:21.0000] <annevk>
tobie: how would the UI look for temp + geo?

[01:41:36.0000] <Manishearth>
Hixie: around?

[01:41:53.0000] <annevk>
tobie: do you imagine browsers have the resources to come up with something reasonable there anytime soon?

[01:41:57.0000] <annevk>
I'm very skeptical

[01:44:37.0000] <annevk>
Manishearth: he's asleep

[01:45:43.0000] <Manishearth>
got that :0

[01:45:45.0000] <Manishearth>
* :)

[01:46:32.0000] <Manishearth>
annevk: does this test look correct to you?

[01:46:33.0000] <Manishearth>
https://github.com/servo/servo/blob/2238d81b530d40c164df59569fb4d11914ad5c99/src/test/html/content/test_script_src_attribute.html

[01:46:51.0000] <Manishearth>
Gecko seems to resolve it with a base URL

[01:48:27.0000] <tobie>
annevk: that's quite possible, but we won't know unless we enable it. :)

[01:49:54.0000] <annevk>
Manishearth: looks wrong

[01:50:06.0000] <Manishearth>
annevk: thanks

[01:50:16.0000] <annevk>
Manishearth: see HTML's reflect definition

[01:50:24.0000] <Manishearth>
annevk: that's what I'm looking at :)

[01:50:31.0000] <tobie>
annevk: UI could be a set of checkboxes with a general explanation (in order to tag pictures, example.com requests access to the following APIs: [ ] camera [ ] geolocation

[01:51:18.0000] <annevk>
tobie: we can't allow text from the site into decision UI, that enables spoofing

[01:52:26.0000] <tobie>
annevk: well the same without the first 5 words, then. :)

[01:53:11.0000] <tobie>
annevk: really, no text explanation? Other platforms seem to allow those.

[01:53:48.0000] <annevk>
tobie: other platforms have vetted apps

[01:54:30.0000] <annevk>
I don't really see the point unless there's UI people involved

[01:54:56.0000] <annevk>
It's always developers that propose these shortcuts

[01:55:19.0000] <tobie>
annevk: yeah, because they care about non-shitty UX

[01:57:09.0000] <annevk>
It's not clear that what you proposed is non-shitty or shitty.

[01:57:10.0000] <tobie>
annevk: My point is that providing this API does not force vendors to do anything more UI-wise than what they would if those permissions were requested serially, BUT enables vendors that want to do something there to do so.

[01:57:41.0000] <annevk>
Do we have evidence that vendors want this and will invest UI resources? And can we get those UI resources to help out with the API?

[01:58:06.0000] <annevk>
And do we have evidence that it in turn will help users or would it actually make things too complicated?

[01:58:46.0000] <tobie>
annevk: I think we're talking past each other.

[01:58:52.0000] <annevk>
Adding more API surface is not zero cost so we need to have evidence there's going to be a benefit.

[02:02:33.0000] <tobie>
agreed, but the cost of this API is very small (as it can be simply implemented as a wrapper around promise.all), so the benefits it needs to bring can also be very small (it enable vendors to experiment with grouping permission requests to the user, and turn in on if there's an end-user benefit. If not, it's just a nice convenience method).

[02:03:52.0000] <tobie>
annevk: this grouping is still successfully used at Facebook, btw. Both fior upfront permissions, and permissions required following a user action.

[02:06:16.0000] <annevk>
If the cost is small we can do it quickly when we have some UI guidance

[02:06:49.0000] <annevk>
The cost is small is very poor justification btw. Lots of features have small cost, but if we were to add them all, we would never do the things that matter.

[02:07:20.0000] <annevk>
You basically don't want to avoid making that argument

[02:07:24.0000] <annevk>
oops

[02:07:29.0000] <annevk>
s/don't// :-)

[02:08:54.0000] <annevk>
Hixie: we should actually have used https://www.startssl.com/certs/class2/sha2/pem/sub.class2.server.sha2.ca.pem as intermediate certificate; I can understand if you don't want to change it. Though you should be aware there's advocacy that our intermediate certificate is bad: https://shaaaaaaaaaaaaa.com/

[02:09:03.0000] <tobie>
annevk: if we delay enabling the API, apps which would have automatically benefited from this UI enhancements won't, which itself lowers the incentive for vendors to actually do something about it.

[02:09:59.0000] <annevk>
What UI enhancements

[02:10:18.0000] <annevk>
That's an unknown. It's not even clear we want apps to ask for all the things at once.

[02:11:12.0000] <tobie>
annevk: that's a strawman. I've explained already that's not what I'm suggesting.

[02:13:02.0000] <annevk>
I recommend following https://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_to_a_specification.3F

[02:13:22.0000] <annevk>
Or talking to mounir as he wants the same thing

[02:13:23.0000] <tobie>
annevk: You can't on one hand accept a change with the sole justification that it enables using Promise.all and on the other hand claim grouping permission is useless.

[02:13:51.0000] <annevk>
I don't want that change to enable Promise.all()

[02:13:59.0000] <annevk>
I want it for async/await

[02:15:02.0000] <annevk>
I don't know whether grouping is useless or useful. I have been interested in finding out since forever and thus far I've been unable to get UX people involved.

[02:15:35.0000] <annevk>
Getting their attention is hard. (See e.g. how long it took before Web Forms 2.0 went anywhere and it's still not great.)

[02:15:36.0000] <tobie>
OK, well, that's the only argument you bring up in the first email on that topic (not yours, admittedly, but beverloo's)

[02:16:28.0000] <tobie>
annevk: those are reasonable arguments. I'll talk to mounir.

[02:55:02.0000] <annevk>
DreamHost solved quite a few TLS issues with their upgrade. Waiting for whatwg.org to also be upgraded and then I'll update my post.

[03:13:57.0000] <annevk>
Can someone explain to me why https://www.ssllabs.com/ssltest/analyze.html?d=spec.whatwg.org scores higher on Key Exchange compared to https://www.ssllabs.com/ssltest/analyze.html?d=annevankesteren.nl

[03:16:09.0000] <annevk>
Perhaps the "BEAST attack" bit?

[03:16:17.0000] <annevk>
It seems that regressed

[03:16:30.0000] <annevk>
(spec.whatwg.org is still on older DreamHost software)

[03:27:32.0000] <jgraham>
annevk: Is it known that the wiki is mixed content?

[03:28:02.0000] <annevk>
jgraham: it is for pages cached before we transitioned

[03:28:12.0000] <annevk>
jgraham: if someone has access to the server they could fix that

[03:29:30.0000] <annevk>
jgraham: made a meaningless edit to Why not conneg to fix it for that email

[03:29:52.0000] <jgraham>
OK

[03:30:03.0000] <annevk>
Hixie: GPHemsley: what's the status on fixing the wiki's cache issues?

[03:30:12.0000] <jgraham>
Having no one with access to the server seems more than a little prblematic :)

[03:30:14.0000] <annevk>
Hixie: GPHemsley: can I get access to the wiki perhaps?

[03:30:23.0000] <annevk>
jgraham: no disagreement there

[03:30:31.0000] <GPHemsley>
annevk: We're having strange problems getting me access.

[03:30:48.0000] <GPHemsley>
The password has been reset, but I still can't get in

[03:31:03.0000] <GPHemsley>
annevk: Believe, we're trying :)

[03:38:24.0000] <annevk>
GPHemsley: hopefully soon it'll work

[03:38:38.0000] <annevk>
GPHemsley: password reset can take up to 10min, but then it should really start working

[03:38:42.0000] <GPHemsley>
annevk: Yeah, I would very much like to take care of this issue.

[03:38:48.0000] <GPHemsley>
annevk: It's been days. Something else is wrong.

[03:39:15.0000] <GPHemsley>
annevk: Hixie thinks my computer is broken somehow.

[04:41:24.0000] <annevk>
I reported the BEAST attack regression to DreamHost btw

[04:45:19.0000] <jgraham>
Isn't this becase RC4 is good for BEAST but bad otherwise?

[04:46:18.0000] <jgraham>
https://community.qualys.com/blogs/securitylabs/2013/03/19/rc4-in-tls-is-broken-now-what for example

[04:49:18.0000] <annevk>
So without RC4 you cannot defend against BEAST?

[04:49:41.0000] <jgraham>
I know very little about this

[04:50:04.0000] <jgraham>
Based on that blog it sounds like client side defences might be good enough

[04:51:49.0000] <annevk>
Hmm, will read up on it later I suppose

[05:19:38.0000] <zcorpan>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=26952 isn't this "by design" (i.e. how shadow dom was supposed to work)?

[05:23:45.0000] <JakeA>
TabAtkins: I remember a page that collated 'weird' bits of CSS, such as "why isn't opacity a %?" - do you remember the url?

[05:53:33.0000] <jgraham>
zcorpan: TBH that example looks pretty sad. The story we were all told is that we were going to be able to write <video> and get a custom behaviour, not that we could write <video-player> and add some <source> elements and hope to get the same magic as <video>

[05:55:09.0000] <zcorpan>
jgraham: right

[05:59:14.0000] <zcorpan>
<video-player src="..."> also doesn't work, right?

[06:10:23.0000] <astearns_>
JakeA: are you thinking of https://wiki.csswg.org/ideas/mistakes ? (it doesn't mention opacity)

[06:51:15.0000] <annevk>
What is the task scheduler spec?

[07:01:51.0000] <JakeA>
astearns_: that's it, thanks! I guess I was thinking of "and the alpha value should have used the same format"

[07:31:33.0000] <annevk>
JakeA: beverloo: Notifications service worker API is now more or less done. I only need to define cleanup and actually dispatching the events in the service worker

[07:31:53.0000] <annevk>
It seems jungkees has defined a hook for that now, so hopefully that's sufficient

[08:00:52.0000] <JakeA>
Excellent! Will review the API when I get the chance, I was a bit worried about `new Notification` being a gotcha inside a serviceworker, but need to look closer

[08:01:02.0000] <JakeA>
annevk: also, not at Fronteers?

[08:01:30.0000] <annevk>
JakeA: no unfortunately not

[08:01:48.0000] <annevk>
Yeah if that remains a worry I guess we should discuss it again on the WHATWG list

[08:02:14.0000] <annevk>
Putting a method on ServiceWorkerRegistration seemed sensible since all other service worker APIs are defined there too

[08:02:34.0000] <JakeA>
I'm on MC duty Thursday/Friday. Writing the material now, but I think I actually have some not-taken time come Monday

[09:38:49.0000] <TabAtkins>
JakeA: I remember that question somewhere as well.  Maybe ask fantasai?

[09:59:30.0000] <Hixie>
annevk, GPHemsley: yeah i don't understand what's up with GPHemsley's system. he can't log in, but with the same pasword it works for me. maybe have him send you the password and you can try.

[10:45:45.0000] <annevk>
GPHemsley: you up for that?

[10:53:18.0000] <annevk>
Domenic: so I want to upgrade a legacy API. Notification.requestPermission(callback). I want to fire the callback from the .then() of the promise I return. The reason for that is that it means the callback is fired at a predictable time relative to the promise's callbacks (just before).

[10:54:00.0000] <annevk>
Domenic: perhaps I should give up on that, but it seems rather neat. Otherwise there could be some time between the promise and callback.

[10:54:31.0000] <TabAtkins>
annevk: fire the callback in the promise, but return the chained promise from the method?

[10:54:54.0000] <TabAtkins>
I don't think that allows things to fire between, if you set them up at the same time.

[10:55:13.0000] <annevk>
TabAtkins: I was just going to return the original promise

[10:55:54.0000] <TabAtkins>
Hmm, that works too, since the callbacks are fired in registration order.

[10:59:55.0000] <smaug____>
TabAtkins: not sure I see your point. There was one feedback in to one API it doing something..

[11:00:05.0000] <smaug____>
was that case even about param type validation or something else?

[11:00:08.0000] <annevk>
But if I queue a task and resolve the promise from that task I'd get the same, pretty much

[11:00:18.0000] <smaug____>
s/in to/to/

[11:00:46.0000] <annevk>
Except there could be other microtasks in between maybe...

[11:01:16.0000] <TabAtkins>
smaug____: You'd have to ask the person that posted that case.

[11:03:41.0000] <smaug____>
maybe he reads @whatwg

[11:08:35.0000] <Domenic>
annevk: that seems reasonable to me

[11:08:56.0000] <Domenic>
annevk: I think we hashed this out in that promises-guide bug thread and I pretty much ended up agreeing with you just haven't gotten around to updating the document yet.

[11:36:18.0000] <boogyman>
Question to you fine folk. I am building a Cache interface, containing a Remove(key<String>) @return boolean signature. If I an implementor attempts to evict an item from the cache and it is successful (1) what is the return value? (2) what about if the eviction fails? (3) what about if the item is not currently being persisted?

[11:41:31.0000] <annevk>
Domenic: so yeah, the next question would be what kind of shorthand phrase to use

[12:00:08.0000] <terinjokes>
annevk: i was trying to understand the Fetch Standard

[12:00:36.0000] <terinjokes>
and wasn't sure how to an implementation was supposed to go from calling fetch() to actually fetching and handling a response

[12:24:19.0000] <Domenic>
annevk: I'd do "Let p be a new promise ... in parallel: do stuff, resolve p with undefined ... upon fulfillment of p, fire an event ... return p

[12:24:39.0000] <Domenic>
boogyman: true; exception; false

[12:57:19.0000] <Domenic>
MediaError is so sad -_-

[12:57:55.0000] <Domenic>
HTMLMediaElement.prototype.error could have been a string property containing "aborted"; "network"; "decode"; "srcnotsupported"

[12:58:19.0000] <Domenic>
instead it is an instance of a class MediaError whose only property is a numeric code which is either 1, 2, 3, or 4

[13:20:55.0000] <JonathanNeal>
Is there something coming to future DOM JS that returns events as a promise or an observable?

[13:21:37.0000] <caitp>
returns events?

[13:22:50.0000] <JonathanNeal>
keyups = window.watchEvents('keyup'); keyups.then(function (event) {}) or keyups.forEach(function (event) {})

[13:25:09.0000] <runeh>
JonathanNeal: a promise must always yield the same value, so that wouldn't work

[13:25:29.0000] <JonathanNeal>
runeh: true, so i'm probably thinking something more like observables in rxjs

[13:25:55.0000] <caitp>
it could work for a "listen once" kind of thing

[13:25:59.0000] <jsbell>
JonathanNeal: tabatkins had a neat idea http://www.xanthir.com/b4PV0 but I don't think it went anywhere

[13:26:40.0000] <TabAtkins>
Yeah, steam got swallowed by binary streams, and we haven't come back around to object streams yet.

[13:28:15.0000] <Domenic>
Jafar on TC39 basically wants to standardize RxJS

[13:30:51.0000] <tobie>
Domenic: I wish there were TAG-vetted (or similar) design guidelines available. Would avoid issues such as MediaError.

[13:31:10.0000] <Ms2ger>
Ha

[13:33:38.0000] <annevk>
terinjokes: what is unclear?

[13:34:10.0000] <annevk>
terinjokes: are you reading https://fetch.spec.whatwg.org/#fetch-method and following the links?

[13:34:19.0000] <terinjokes>
yes

[13:34:36.0000] <JonathanNeal>
Would this be a correct usage of this hypothetical EventStreams? https://gist.github.com/jonathantneal/bf784b92fe277e084783

[13:34:48.0000] <annevk>
Domenic: mkay

[13:35:39.0000] <Domenic>
JonathanNeal: in my ideal world I think instead of adapter methods from DOM event patterns you'd have `document.on.keydown.map(...)` or similar

[13:35:51.0000] <terinjokes>
annevk: reading it again makes it a bit more clear

[13:35:52.0000] <Domenic>
maybe take the chance to camelcase while we're at it? `document.on.keyDown.map(...)`

[13:36:02.0000] <terinjokes>
i guess i missed a line last night (i was a bit sleepy)

[13:37:25.0000] <Domenic>
JonathanNeal: TabAtkins: EventStream.listen necessarily makes it a DOM API instead of an ES API, is I guess my dislike.

[13:37:59.0000] <Domenic>
I'd rather have EventTarget.toEventStream(document, 'add') I guess. (Or toObservable, or whatever.)

[13:39:36.0000] <annevk>
terinjokes: if anything is unclear let me know

[13:39:43.0000] <annevk>
terinjokes: I should add some examples as someone asked for

[13:39:55.0000] <annevk>
so many bugs in standards

[13:39:57.0000] <terinjokes>
annevk: i started working on a impl last night

[13:40:06.0000] <annevk>
good times

[13:40:07.0000] <terinjokes>
to understand it a bit more

[13:40:20.0000] <terinjokes>
which is where i hit the unclear (to me, at the time) spot

[13:46:17.0000] <annevk>
terinjokes: the basic deal is that it invokes an even lower-level concept named "fetch" which at some point queues a task that yields a response which is returned by the promise

[13:46:37.0000] <annevk>
terinjokes: meanwhile chunks keep getting pushed to that response's underlying body, which happens to be some type of stream

[13:46:54.0000] <terinjokes>
i assumed something similar

[14:04:15.0000] <annevk>
tobie: or you know, WebRTC API in general

[14:20:04.0000] <Domenic>
annevk: MediaError is HTML

[14:20:19.0000] <Domenic>
https://html.spec.whatwg.org/multipage/embedded-content.html#mediaerror

[14:20:33.0000] <Domenic>
(Still lovin the html.spec.whatwg.org URLs, can't believe we didn't do that sooner.)

[14:20:43.0000] <Hixie>
:-)

[14:25:28.0000] <TabAtkins>
Domenic: The precise shape of the "turn events into an object stream" api doesn't really matter.

[14:26:02.0000] <Domenic>
TabAtkins: ya. BTW I also like that you have a ReactiveValue.

[14:26:15.0000] <Domenic>
TabAtkins: have you seen https://github.com/kriskowal/gtor/ ? it is fun reading

[14:26:27.0000] <TabAtkins>
Nope!

[14:57:00.0000] <JonathanNeal>
This EventStream thing seems pretty neat, but it’s also a little weird to think of a forEach asynchronously firing multiple times.

[14:58:31.0000] <Domenic>
the alternative is Hungarian-style `asyncForEach`

[15:06:53.0000] <smaug____>
EventStream?

[15:08:05.0000] <smaug____>
ah, some old idea

[15:49:42.0000] <Domenic>
Anyone know why the WebIDL parser doesn't like [Reflect=foo-bar] but is OK with [Reflect=foo_bar]?

[16:02:09.0000] <GPHemsley>
annevk: Even if I was, it would solve my probilem :P

[16:02:15.0000] <GPHemsley>
wouldn't

[16:29:44.0000] <jsbell>
Dominic: because _ is traditionally in the list of identifier characters but - is not?

[16:30:45.0000] <jsbell>
(but I seem to recall the extended attributes parsing in webidl is a bit wacky for historical reasons, anyway)

[16:34:22.0000] <Domenic>
jsbell: yeah, I realized now it was trying to parse as an identifier. Probably [Reflect="foo-bar"] would be better. (But Blink doesn't do that.)


2014-10-09
[19:46:01.0000] <P0rk>
Hey all, I was directed here from #html. Wonder where i could research a suggestion to have a <radio> element that works like <select>?

[22:45:35.0000] <annevk>
GPHemsley: yes, but it would solve the caching problem

[23:05:04.0000] <zcorpan>
Domenic: i think webidl supports dashes now

[23:05:23.0000] <zcorpan>
Domenic: at least for attribute names

[23:08:40.0000] <zcorpan>
http://heycam.github.io/webidl/#prod-identifier

[23:27:33.0000] <annevk>
Domenic: oh :-(

[23:27:44.0000] <annevk>
It's surprising how quickly APIs look dated

[23:32:37.0000] <zcorpan>
MediaError is from 2007

[23:32:43.0000] <zcorpan>
i think

[00:32:02.0000] <annevk>
http://www.w3.org/2011/tracking-protection/drafts/tracking-dnt.html :-(

[00:36:41.0000] <zcorpan>
is DNT doing anything other than increasing fingerprinting in practice?

[00:37:54.0000] <zcorpan>
they put it on window??

[00:38:58.0000] <annevk>
I think they will put it back on navigator after I complained

[00:39:07.0000] <annevk>
But there's still a ton of issues with the whole thing

[00:39:32.0000] <annevk>
And Apple perhaps together with Microsoft are proposing a ton of APIs surface around it as well as you can see

[00:39:51.0000] <annevk>
With nobody really paying attention

[00:43:30.0000] <zcorpan>
i thought the original idea was to convey 1 bit of information from client to server

[01:10:38.0000] <annevk>
Yeah, that's why the W3C has charters, so things don't get out of hand. Oh wait

[02:06:06.0000] <Ms2ger>
zcorpan, doh

[02:37:19.0000] <zcorpan>
http://www.w3.org/mid/1412708231.2969.29.camel@chacal (re createElement and namespaces)

[02:56:22.0000] <smaug____>
why do people use readystatechange events with XHR?

[02:57:38.0000] <caitp>
why not?

[03:02:47.0000] <zcorpan>
smaug____: cargo cult from 2005?

[03:04:13.0000] <annevk>
Domenic: if you're awake, care to look at https://fetch.spec.whatwg.org/#fetch-api

[03:04:21.0000] <annevk>
JakeA: ^ (though I guess you're busy)

[03:04:37.0000] <annevk>
Anyone else welcome too of course, just looking for some basic feedback on whether this is okay or not

[03:05:09.0000] <JakeA>
annevk: will look at the weekend :D

[03:07:41.0000] <smaug____>
caitp: harder to read code.

[03:07:45.0000] <smaug____>
zcorpan: could be

[03:15:30.0000] <annevk>
smaug____: examples in the spec should prolly change to not use it

[03:15:58.0000] <annevk>
smaug____: will do that now

[03:20:26.0000] <annevk>
smaug____: readystatechange is the only event you can use to process headers as early as possible

[03:24:40.0000] <smaug____>
hmm

[03:24:50.0000] <smaug____>
how so?

[03:25:29.0000] <smaug____>
or is that about the implementation difference

[03:25:32.0000] <annevk>
because it's the only one that's dispatched at that time

[03:25:57.0000] <smaug____>
browsers fire load for upload at different times

[03:26:30.0000] <annevk>
assume there's no body to be "uploaded"

[03:27:04.0000] <smaug____>
right

[03:27:41.0000] <smaug____>
/me wasn't really thinking about this case earlier, but the common readyState == 4 check

[03:34:19.0000] <annevk>
yeah, updated those examples

[03:40:09.0000] <annevk>
Gmail uses getAttributeNode() :-(

[03:43:11.0000] <caitp>
:-(

[03:46:11.0000] <caitp>
it's possible they needed to to support one of their target browsers, but i guess getAttributeNode() wouldn't work right either

[03:46:35.0000] <caitp>
(msie9 will just fail to getAttribute() or setAttribute() reliably if there's an xml namespace anywhere)

[04:52:24.0000] <darobin>
oooh, fat arrow examples! annevk++

[07:52:37.0000] <annevk>
darobin: using async/await seemed like a bridge too far

[07:53:03.0000] <darobin>
annevk: yeah, it's more remote

[08:16:56.0000] <tomvg>
the HTML spec states: "User agents may allow users to selectively block or slow media data downloads." (https://html.spec.whatwg.org/multipage/embedded-content.html#loading-the-media-resource:media-data-4) → are there any browsers that provide this functionality?

[08:27:26.0000] <boogyman>
Domenic: File API use-case is for JS on server side?

[08:45:13.0000] <tobie>
TabAtkins: what's the current status of CSS 2.1? Is it obsoleted by all of the new CSS modules or not yet?

[08:45:37.0000] <Ms2ger>
Not yet

[08:57:33.0000] <annevk>
stacking contexts man

[08:57:38.0000] <annevk>
never forgot

[08:57:41.0000] <annevk>
forget, even

[09:38:39.0000] <annevk>
Domenic: why would Map not take an object literal?

[09:38:57.0000] <annevk>
Domenic: the nested array thing seems rather cumbersome syntax

[09:41:41.0000] <Domenic>
boogyman: not sure why you're asking me (or why you always go offline shortly after asking questions :P)

[09:41:58.0000] <Domenic>
annevk: because Map keys can be arbitrary objects, but object keys cannot

[09:42:31.0000] <annevk>
Domenic: fair I suppose, we don't have that constrain here

[09:42:43.0000] <Domenic>
annevk: yeah but you do want to allow duplicate keys which objects don't allow

[09:43:29.0000] <annevk>
Domenic: I don't think it matters that using convenience syntax does not enable all of the features

[09:43:44.0000] <Domenic>
annevk: agreed just means you want to support both IMO.

[09:44:38.0000] <annevk>
Domenic: no disagreement there

[09:44:48.0000] <annevk>
Domenic: I guess the object literal thing got lost somehow

[09:45:08.0000] <Domenic>
annevk: yeah I think that's what happened, when I was writing that PR I didn't even remember that was a desire.

[09:46:38.0000] <annevk>
I guess I have to wait a month for heycam to get back and then hopefully he can fix it

[09:50:28.0000] <Domenic>
I can PR an adding-map-elementsfrom-open-ended-dictionaries sometime in the next week and maybe bz can merge?

[09:50:30.0000] <tobie>
Ms2ger: ty

[09:51:47.0000] <annevk>
Domenic: sgtm

[09:53:20.0000] <annevk>
Hixie: when is your DreamHost server getting updated? This weekend?

[10:06:22.0000] <annevk>
Hmm, HTTP caches are hard. I don't think I'm going to get that bug fixed today at this rate

[10:26:47.0000] <TabAtkins>
tobie: Yeah, various parts of 2.1 are still around.

[10:27:23.0000] <TabAtkins>
SimonSapin and I have a planned project to publish a "CSS 3.1" module that is just all the parts of 2.1 that haven't been obsoleted by anything else yet.  We'd whittle it down until it was empty.

[10:41:57.0000] <annevk>
How about you publish a project called "CSS" and you know, define CSS :-P

[10:43:35.0000] <TabAtkins>
annevk: Yeah, I'll get right on that, when I have a few years of nothing else to do.

[10:50:06.0000] <annevk>
Hixie: thanks for the stylesheet adjustments btw

[10:50:22.0000] <annevk>
Hixie: actually thought Domenic had a custom stylesheet for Streams when I read it on my phone

[10:50:35.0000] <annevk>
Hixie: turns out things improved :-)

[10:53:38.0000] <annevk>
TabAtkins: mostly kidding, you are doing great work

[10:53:49.0000] <TabAtkins>
/me sobs.

[10:53:56.0000] <TabAtkins>
No, it's too late! I know your true feelings!

[10:54:01.0000] <terinjokes>
/me gives TabAtkins a large trout

[11:01:42.0000] <Domenic>
console spec needs a logo guys https://github.com/terinjokes/console-spec/issues/7

[11:08:28.0000] <TabAtkins>
Domenic: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/3246 ?

[11:09:03.0000] <Domenic>
seems legit. terinjokes ^

[11:10:22.0000] <terinjokes>
did you just do that?

[11:10:36.0000] <Domenic>
he cheated and used text instead of geometries

[11:10:42.0000] <terinjokes>
cheater!

[11:11:19.0000] <terinjokes>
everyone knows you need to import Open Sans for your SVGs

[11:11:39.0000] <TabAtkins>
Haha, wtv

[11:11:49.0000] <terinjokes>
:)

[11:12:08.0000] <TabAtkins>
You can trace it into geometry.

[12:16:48.0000] <JakeA>
TabAtkins: btw, that CSS mistakes doc is here https://wiki.csswg.org/ideas/mistakes

[12:48:06.0000] <TabAtkins>
JakeA: I know that (I contributed several fo those lines), I was asking about the specific case you were asking about.

[12:48:28.0000] <annevk>
more logos <3

[12:48:32.0000] <JakeA>
ohhh sorry, yeah, I thought your question was a bit weird

[12:48:40.0000] <JakeA>
it's less weird now

[12:49:01.0000] <JakeA>
It's CSS's 20th birthday tomorrow so I wanted some dirt to throw at Fronteers

[12:49:03.0000] <JakeA>
:D

[12:49:10.0000] <TabAtkins>
Hahaha, go for it.

[13:13:35.0000] <Hixie>
wtf, what happened to my database

[13:14:56.0000] <Hixie>
o_O

[13:15:12.0000] <Hixie>
oh, i nuked status.whatwg.org

[13:15:13.0000] <Hixie>
oops

[13:15:16.0000] <Hixie>
la la la

[13:29:52.0000] <Domenic>
what used to be there, i have no idea

[13:31:10.0000] <Hixie>
nothing

[13:31:25.0000] <Domenic>
uh huh

[13:31:27.0000] <Hixie>
but database.status.whatwg.org is where i had the database used by many of my whatwg-supporting services :-)

[13:31:44.0000] <Hixie>
it's all fixed now

[13:32:20.0000] <boogyman>
Domenic: I'm asking you because of the retweet you posted yesterday. As for me leaving, there are public logs if I have to leave.

[15:22:24.0000] <SimonSapin>
TabAtkins: we do?

[15:22:38.0000] <TabAtkins>
SimonSapin: I thought we talked about it off-hand at the last f2f. ^_^

[15:22:52.0000] <SimonSapin>
Well, I’d like this to happen, but I don’t know if the benefits are really worth the effort

[15:23:02.0000] <SimonSapin>
also, I’m not so sure about the name

[15:23:12.0000] <TabAtkins>
haha, i made the name up off the cuff

[15:23:50.0000] <SimonSapin>
by which I mean "CSS 3.1" sounds terrible and likely to cause much more confusion that "CSS 4" already does

[15:24:09.0000] <TabAtkins>
hahaha

[15:24:10.0000] <SimonSapin>
:)

[15:28:40.0000] <TabAtkins>
"CSS Leftovers Module Level 3"

[15:31:26.0000] <jgraham>
CSS Pytt i Panna?

[15:32:06.0000] <TabAtkins>
Sure.

[16:19:35.0000] <MikeSmith>
TabAtkins: CSS Sundries?

[16:29:59.0000] <MikeSmith>
"I have come to the conclusion that so much in IPv6 design and implementation has been botched by protocol designers and vendors (both ours and others) that it is simply unsafe to run IPv6 on a production network except in very limited geographical circumstances and with very tight central administration of hosts."

[16:30:24.0000] <MikeSmith>
"We have seen Windows machines with more than 300 IPv6 addresses — which, recall, means that every 150 seconds they will be transmitting 30 multicast packets per second which have to be flooded through the network."

[16:30:32.0000] <MikeSmith>
http://blog.bimajority.org/2014/09/05/the-network-nightmare-that-ate-my-week/


2014-10-10
[19:00:44.0000] <boogyman>
sounds like a great ploy to make sure things are trackable, where the dynamic re-assignment helps anonymity.

[03:22:36.0000] <annevk>
GPHemsley: I have an idea

[03:22:45.0000] <annevk>
GPHemsley: if you log into the wiki we have these huge banners on top

[03:22:55.0000] <annevk>
GPHemsley: what if we give those a max-width and float them to the right?

[03:23:19.0000] <GPHemsley>
Cache has been invalidated. Sorry for the unpleasant wait, everyone!

[03:23:23.0000] <annevk>
GPHemsley: also, I don't think we really need the second note on where to discuss changes to the specification

[03:23:31.0000] <annevk>
GPHemsley: \o/

[03:42:22.0000] <GPHemsley>
annevk: I've made some changes in an attempt to address your issues.

[03:42:33.0000] <GPHemsley>
annevk: Take a look at the results and let me know what you think.

[03:42:50.0000] <GPHemsley>
annevk: But as an administrator, you have the rights to make changes yourself, if you want:

[03:42:51.0000] <GPHemsley>
https://wiki.whatwg.org/wiki/MediaWiki:Anonnotice

[03:43:06.0000] <GPHemsley>
https://wiki.whatwg.org/wiki/MediaWiki:Common.css

[04:06:03.0000] <annevk>
GPHemsley: thanks and thanks for the info

[04:06:28.0000] <GPHemsley>
annevk: Just don't go too crazy ;)

[04:17:34.0000] <GPHemsley>
To Whom It May Concern: I'll probably be updating the wiki later today. It's not especially high-traffic, but just so you know.

[04:18:08.0000] <GPHemsley>
(Somewhere around midnight UTC, give or take)

[05:14:03.0000] <annevk>
Everyone that cares about cache modes: https://github.com/slightlyoff/ServiceWorker/issues/412#issuecomment-58646963

[05:17:18.0000] <annevk>
darobin_: web-platform-tests has open PRs from 15 Jan 2013

[05:17:41.0000] <darobin>
annevk: I know, some of those are probably even mine

[05:18:29.0000] <darobin>
annevk: reviewing tests takes an awful lot of time, and we have few people doing it

[05:18:49.0000] <darobin>
any help is certainly extremely welcome

[05:19:45.0000] <darobin>
annevk: if you can think of people who could help, or of a way of agitating for folks to join the effort, by all means please go ahead!

[05:22:33.0000] <SimonSapin>
Hixie: Is "input elements whose type attribute is in the Hidden state" different from "input[type=hidden]" ?

[05:23:19.0000] <annevk>
SimonSapin: well, depends on how precise you want to go

[05:24:08.0000] <SimonSapin>
The Rendering chapter has "The user agent is expected to force the 'display' property of input elements whose type attribute is in the Hidden state to compute to 'none', irrespective of CSS rules.", and I’m hoping to encode that as input[type=hidden] { display: none !important; }

[05:24:17.0000] <SimonSapin>
in the UA stylesheet

[05:24:46.0000] <jgraham>
annevk: Are there any specific tests that you think out to be reviewed as a priority?

[05:26:14.0000] <annevk>
jgraham: just wondering about the contributors

[05:26:40.0000] <annevk>
SimonSapin: it would need to be [type=hidden i] or some such, no?

[05:27:06.0000] <jgraham>
annevk: What do you mean "wondering about the contributers"?

[05:27:36.0000] <annevk>
jgraham: well if I contributed something and had to wait over a year I would not be pleased

[05:28:40.0000] <darobin>
SimonSapin: but that could be overridden with another !important

[05:29:07.0000] <SimonSapin>
darobin: only in the UA stylesheet, which we control

[05:29:26.0000] <SimonSapin>
annevk: good point

[05:29:31.0000] <SimonSapin>
https://html.spec.whatwg.org/multipage/infrastructure.html#enumerated-attribute is what I was looking for

[05:30:50.0000] <darobin>
mmm, indeed

[05:31:42.0000] <annevk>
SimonSapin: FWIW, I think the HTML UA stylesheet was written when the rule about !important was not normative in CSS

[05:32:02.0000] <SimonSapin>
ok

[05:32:30.0000] <SimonSapin>
I’d like more on this chapter to be expressed in CSS rather than prose, when possible

[05:32:47.0000] <annevk>
Who doesn't

[05:42:15.0000] <jgraham>
annevk: Well I have sontributed things and waited over a year…

[05:42:45.0000] <annevk>
jgraham: how did it make you feel? :)

[05:43:19.0000] <jgraham>
But the sad truth at the moment is that we don't have enough people doing review and the people we do have are concentrating on the expected highest-value items i.e. things from other well known contributers

[05:43:31.0000] <jgraham>
annevk: Like the system is broken :)

[05:45:55.0000] <Ms2ger>
annevk, interested in reviewing d3e tests?

[05:46:31.0000] <annevk>
Ms2ger: not today, HTTP cache stuff is eating me alive

[05:47:06.0000] <annevk>
Ms2ger: but the state of things has made me consider whether I should take some time for testing again, yes

[05:47:23.0000] <Ms2ger>
Your help would definitely be much appreciated

[05:47:37.0000] <Ms2ger>
/me should finish up the selectorsapi stuff

[05:48:43.0000] <annevk>
Ms2ger: is that moving to DOM?

[05:48:50.0000] <Ms2ger>
Yeah

[05:49:03.0000] <annevk>
cool

[05:50:55.0000] <Ms2ger>
Pretty sure the find/findAll ones are way out of date, though :/

[05:56:32.0000] <darobin>
annevk: yeah, your help would be wicked cool

[05:56:35.0000] <annevk>
Ms2ger: given that those have different names today...

[05:57:17.0000] <Ms2ger>
Names are easy :)

[06:02:38.0000] <annevk>
Hmm, David Sheets again

[06:39:54.0000] <SteveF_>
annevk: at least its not me giving you the sheets

[06:41:17.0000] <annevk>
SteveF_: I have no idea what that means

[06:41:25.0000] <annevk>
(and I cannot find it online either)

[06:42:19.0000] <SteveF_>
annevk: giving you the shits, stupid play on his name, have been following the discussion on mailing list

[06:43:40.0000] <annevk>
He was there a couple years ago on the WHATWG list too. That he still doesn't understand what is happening is kind of astonishing. Especially now he basically started a CG to compete with the effort...

[06:48:38.0000] <SteveF_>
yeah i sawthat

[06:52:59.0000] <annevk>
And although people make a lot of fuss about competing standards, I would not be opposed. Might help to see the different perspectives and then let the market decide. Worked well for XHTML2 vs HTML5.

[06:54:55.0000] <darobin>
annevk: I found the people of that CG! They're the ones in the top left corner in http://w3cmemes.tumblr.com/post/99476419232/rodents-of-unusual-size-strike-again

[06:56:21.0000] <annevk>
This reminds of me of that really hilarious GitHub thread that inspired the logo for the URL Standard

[06:58:41.0000] <annevk>
Tantek showed it during TPAC at one point... Hmm http://tantek.com/2011/238/b1/many-ways-slice-url-name-pieces

[06:59:23.0000] <annevk>
Or maybe someone else, https://github.com/joyent/node/pull/1580 is the one

[07:00:43.0000] <annevk>
https://camo.githubusercontent.com/bd208bf0093648b4ad23a56faa584596580f76f5/687474703a2f2f692e696d6775722e636f6d2f3163776d352e706e67 was the inspiration

[07:00:56.0000] <annevk>
Or rather obscure reference

[08:22:26.0000] <SimonSapin>
Should HTML spec bugs go to the mailing list or bugzilla?

[08:23:42.0000] <ErayAydin>
Hi I need an idea for my project. Its domain http://acikteknoloji.com (means in english: OpenTechnology.com). I can't find a main category. Open Source Programs ? Technology News ? Programming Tutorials ?

[08:24:12.0000] <annevk>
SimonSapin: either way is fine

[08:24:17.0000] <annevk>
SimonSapin: I would file a bug for trivial things

[08:25:23.0000] <annevk>
ErayAydin: what is it you want to do?

[08:26:32.0000] <ErayAydin>
annevk: I can't decide

[08:26:59.0000] <ErayAydin>
annevk: for now I have 3 idea. "Open Source Programs Guide", "Technology News", "Programming Tutorials"

[08:27:10.0000] <annevk>
ErayAydin: so it sounds like you want to write

[08:28:12.0000] <annevk>
ErayAydin: I recommend just writing down what you feel excited about at any particular moment and publishing that (i.e. blogging)

[08:29:11.0000] <ErayAydin>
annevk: I tried that but Its like flood. Games, Mobiles, Programming, Open Source Programs .... Its crowd

[08:29:42.0000] <ErayAydin>
I need only one category. Main thing for this site

[08:30:17.0000] <annevk>
ErayAydin: roll a dice?

[08:30:33.0000] <ErayAydin>
annevk: :) good idea

[08:45:50.0000] <Hixie>
SimonSapin: input[type=hidden i] would be what it is in this case, but e.g. for the Text case it's more complicated.

[15:22:08.0000] <say2joe>
@Hixie: nice honorable mention in https://dev.opera.com/articles/css-twenty-years-hakon/

[16:02:49.0000] <Hixie>
say2joe: :-)

[16:48:50.0000] <Hixie>
who are good implementors to cc for shared worker stuff?

[16:49:12.0000] <Hixie>
(https://www.w3.org/Bugs/Public/show_bug.cgi?id=24691 is asking, quite reasonably i think, for a shared worker that survives page loads within an origin)

[16:49:38.0000] <Hixie>
hsivonen: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=26783

[16:50:16.0000] <boogyman>
Hixie: doesn't that break the HTTP protocol of being stateless?

[16:51:45.0000] <Hixie>
HTTP stopped being stateless long ago

[16:51:48.0000] <Hixie>
but in any case, no

[16:51:52.0000] <Hixie>
since this isn't tied to HTTP

[16:54:27.0000] <boogyman>
well, as soon as cookies were introduced (among other means) it became stateless, but those require some other technology to process them, where workers are a technology by themselves.

[16:54:38.0000] <boogyman>
stateful*

[16:55:25.0000] <Hixie>
i don't see how surviving shared workers would be any different than, say, localStorage, or indexDB, or a sibling iframe, or...

[16:59:00.0000] <boogyman>
I see the first two as no different from cookies, and a sibling iframe as similar to xhr

[16:59:20.0000] <Hixie>
then i don't understand what you mean by "some other technology"


2014-10-11
[17:00:08.0000] <boogyman>
but you do make fair points about the capabilities.

[17:00:40.0000] <Hixie>
in particular i don't understand the difference between a sibling iframe that stays alive while your iframe is navigated, and a shared worker that survives your navigation

[17:00:50.0000] <Hixie>
in terms of making http stateful, they seem identical

[17:01:43.0000] <boogyman>
i would agree with that conclusion. is that what occurs?

[17:15:15.0000] <Hixie>
how do you mean?

[17:19:23.0000] <boogyman>
My experience with sibling iframe is a 2min google search

[17:20:17.0000] <boogyman>
so when you say "sibling iframe stays alive", i am not exactly sure how that introduces state into HTTP

[17:36:53.0000] <Hixie>
boogyman: how does a shared worker introduce state into HTTP?

[17:44:15.0000] <boogyman>
by definition it introduces the ability for a continued process to execute regardless of user-interaction on screen.

[17:44:51.0000] <Hixie>
ditto with an iframe

[17:45:44.0000] <Hixie>
anything you can do to community with a shared worker, you can do when communicating to an iframe

[17:45:48.0000] <Hixie>
or indeed to the iframe host

[17:58:55.0000] <Hixie>
annevk: got a 500 from the twitter notification script

[18:14:17.0000] <GPHemsley>
MikeSmith: Oh, how long have you been on the admin list? ^_^

[18:15:00.0000] <GPHemsley>
FTR, I'm switching us to track MediaWiki via git

[18:15:18.0000] <MikeSmith>
GPHemsley: since whenever it was the Hixie added me 😺

[18:15:23.0000] <GPHemsley>
so upgrading will just be a combination of pulling and switching branches

[18:15:36.0000] <GPHemsley>
MikeSmith: Oh, showing off with emoji, too? :-P

[18:15:37.0000] <MikeSmith>
nice

[18:15:46.0000] <GPHemsley>
(and running the upgrade script)

[18:16:31.0000] <MikeSmith>
👻

[18:18:15.0000] <MikeSmith>
in other news if anybody can help me round up all the web developers responsible for online movie-ticket booking forms and get them into one room together so that I can kill them all at the same time please let me knwo

[18:21:55.0000] <MikeSmith>
short of that if somebody can give give the home addresses of the devs that made the form at http://www.aeoncinema.com/cinema/minatomirai/ that'd be a good start

[18:25:59.0000] <MikeSmith>
me sees that "environment settings objects" has landed

[18:27:02.0000] <MikeSmith>
me wonders is Hixie is going to open a new bug for adding "environment kind"

[18:28:50.0000] <Hixie>
see the bug

[18:28:52.0000] <Hixie>
i decided not to

[18:29:03.0000] <Hixie>
if you think i should anyway, do file a new bug :-)

[18:44:27.0000] <GPHemsley>
/me wonders if all the emoji pushed the slash key off MikeSmith's keyboard

[18:44:41.0000] <GPHemsley>
OK, actual migration about to happen. Try not to use the wiki until I give the all-clear.

[18:59:40.0000] <GPHemsley>
OK, upgrade complete. If you notice any issues, let me know,

[19:00:02.0000] <GPHemsley>
(It seems to be slow right now, but I don't know if that's just a caching thing. If it persists, we may have to investigate.)

[19:00:45.0000] <GPHemsley>
Hixie, annevk, MikeSmith: FYI ^

[19:05:37.0000] <say2joe>
@annevk can you point me to the right place to better understand the URL spec gh repo? I've forked and have a small change I'd like to submit a pull request for … but new to the xxx.src.html vs xxx.html spec file with makefile setup. thanks.

[19:11:02.0000] <GPHemsley>
monetary breakage; please stand by

[19:12:00.0000] <GPHemsley>
breakage repaired

[19:18:11.0000] <GPHemsley>
hmm... apparently a 404 caused the slowdown

[19:18:21.0000] <GPHemsley>
(forgot to copy an image)

[19:19:15.0000] <GPHemsley>
anyway, we should be good now

[19:19:30.0000] <GPHemsley>
if anyone wants any further changes, let me know

[19:21:52.0000] <GPHemsley>
say2joe: Anolis is the preprocessor

[19:22:04.0000] <GPHemsley>
src is the file you edit

[19:22:56.0000] <GPHemsley>
/me wanders off

[19:49:04.0000] <Domenic>
annevk: the URL spec Readme should be updated to answer say2joe's question IMO.

[04:48:09.0000] <annevk>
Hixie: seems that DreamHost updating broke the script

[04:48:17.0000] <annevk>
win some, lose some

[05:32:55.0000] <annevk>
Hixie: I think I fixed it

[15:01:01.0000] <erlehmann>
http://html5.validator.nu/

[15:01:04.0000] <erlehmann>
bad gateway

[15:01:16.0000] <erlehmann>
http://validator.nu/

[15:01:18.0000] <erlehmann>
here as well


2014-10-12
[18:01:35.0000] <MikeSmith>
hsivonen: ^

[03:30:40.0000] <annevk>
Domenic: added a bunch of README.md files

[03:49:11.0000] <MikeSmith>
annevk: hey so for URL should we just drop the canonicalization tests from the wpt test suite or is what's in there now OK (I mean after the cleanup you did)

[03:59:51.0000] <annevk>
MikeSmith: hmm I missed those

[04:00:08.0000] <annevk>
MikeSmith: what is canonicalization testing? just serializing?

[04:03:34.0000] <MikeSmith>
annevk: Yeah it's only relevant to serialization afaict

[04:03:55.0000] <annevk>
MikeSmith: I guess we should at least rename it then

[04:04:15.0000] <annevk>
MikeSmith: we might at some point define a normalization/canonicalization algorithm I suppose that does certain things

[04:07:25.0000] <MikeSmith>
annevk: are those tests checking anything that's actually specified in the spec?

[04:09:18.0000] <annevk>
MikeSmith: looking

[04:10:13.0000] <annevk>
MikeSmith: what tests are you referring to exactly?

[04:12:00.0000] <MikeSmith>
annevk: the ones you cleaned up in https://github.com/w3c/web-platform-tests/commit/3c5a8de5b0cd49033fd6ef0954cc802b7682c769

[04:12:20.0000] <annevk>
MikeSmith: oh yes, they are

[04:12:32.0000] <MikeSmith>
annevk: OK good

[04:12:50.0000] <MikeSmith>
annevk: I was confused

[04:13:27.0000] <annevk>
Compared to RFC 3986 URL parsers in browsers do a fair bit of "normalization" / "canonicalization" right in the parser

[04:13:37.0000] <annevk>
E.g. something like lowercasing the scheme or the domain

[04:18:32.0000] <annevk>
MikeSmith: if I update the README file of the URL tests, can I do that without PR?

[04:19:58.0000] <MikeSmith>
annevk: yeah sure

[04:21:40.0000] <MikeSmith>
annevk: btw I guess it could be argued that RFC 3986 does actually implicitly deal with normalization/canonicalization by e.g., saying that the host and scheme should be compared case-insensitively

[04:22:38.0000] <MikeSmith>
annevk: though of course it doesn't specify parsing per se

[04:25:13.0000] <annevk>
MikeSmith: it also says %AA and %aa are identical, but it does not say what you have to transmit to the server based on what input

[04:25:33.0000] <MikeSmith>
ah ok

[04:26:00.0000] <annevk>
MikeSmith: so you can say HTTP is equal to hTTp when it's a scheme, but that does not answer what e.g. .protocol will return

[04:26:38.0000] <annevk>
MikeSmith: we could of course assume the parser does none of fixing up and instead define what needs to happen at all the end points

[04:26:40.0000] <MikeSmith>
right, I see now

[04:27:08.0000] <annevk>
but that seems less straightforward (it's kind of what CSS sometimes does, and it's a bit annoying when defining the CSSOM)

[07:21:18.0000] <Manishearth>
annevk: around?

[07:22:40.0000] <Manishearth>
Possible problem with the XHR spec

[07:28:07.0000] <Manishearth>
Compare it with the w3c spec

[07:28:08.0000] <Manishearth>
http://www.w3.org/TR/XMLHttpRequest2/#the-abort-method

[07:28:36.0000] <Manishearth>
if you see step 3, it also removes tasks in the DOM task queue related to the XHR object

[07:29:22.0000] <Manishearth>
the WHATWG spec only says that the fetch algorithm should be terminated

[07:29:33.0000] <Manishearth>
which doesn't terminate any queued load events

[07:30:08.0000] <Manishearth>
eg lets say the XHR object changes state to LOADING

[07:30:29.0000] <Manishearth>
and in the readystatechange handler, we invoke abort()

[07:30:44.0000] <Manishearth>
however, before doing so, we perform a heavy computation

[07:31:36.0000] <Manishearth>
so that the XHR finishes loading and queues a https://xhr.spec.whatwg.org/#handle-response-end-of-file event to the queue

[07:31:50.0000] <Manishearth>
now we do abort()

[07:31:54.0000] <Manishearth>
changing the state to unsent

[07:32:15.0000] <Manishearth>
after abort(), within the same handler, we call open() and send() again

[07:33:04.0000] <Manishearth>
that response-end-of-file event for the previous file will be processed after this

[07:33:18.0000] <Manishearth>
so we'll get the end of the previous file instead of the new file

[07:36:15.0000] <gsnedders>
is it possible to have an arbitrary domain forwarding all email to Gmail in the normal way through Postfix nowadays? My domain seems to constantly get IP blocked by Gmail beause of an "unusual rate of spam"

[08:03:35.0000] <GPHemsley>
gsnedders: Well quit spamming, then!

[08:22:02.0000] <gsnedders>
GPHemsley: but but but I don't send anything from that SMTP server!

[08:22:24.0000] <GPHemsley>
gsnedders: Well quit anti-spamming, then!

[08:22:59.0000] <gsnedders>
bah!

[09:10:07.0000] <annevk>
Manishearth: hmm, file a bug?

[09:12:52.0000] <Manishearth>
annevk: I'll do that, but do you think it's an issue or did I misinterpret the spec?

[09:13:00.0000] <Manishearth>
(probably tomorrow)

[09:22:05.0000] <annevk>
not sure

[14:14:20.0000] <terinjokes>
is there any other spec that has a bunch of methods that do effectively the same thing?

[14:19:44.0000] <annevk>
terinjokes: these are quite similar: https://fetch.spec.whatwg.org/#body

[14:20:46.0000] <terinjokes>
annevk: indeed, and what I was thinking "must be the result of running <<logger>> with <<blah>>"


2014-10-13
[20:21:51.0000] <MikeSmith>
tripu: all *.w3.org domains seem to be unreachable right now

[20:23:45.0000] <MikeSmith>
tripu: including mail services, so it's not possible even to send mail to sysreq to alert anybody

[20:25:23.0000] <MikeSmith>
tripu: ...and now it seems to be back

[21:05:22.0000] <sicking>
v

[22:35:43.0000] <cs0sf_>
good documentation , is there html book version also available?

[01:28:58.0000] <blue-grapes>
Hello guys, anybody here?

[01:30:45.0000] <Ms2ger>
Nope

[01:34:44.0000] <blue-grapes>
Anybody has idea on how to code in tables through this layout? http://postimg.org/image/nireggyvh/

[03:26:39.0000] <JakeA>
annevk: am in the office for once, if there's anything I should be looking at (going to go through inbox & github otherwise)

[03:30:49.0000] <annevk>
JakeA: the client/context bug; the 304 handling bug

[03:31:13.0000] <JakeA>
annevk: just replied to the former, will look at the latter now

[04:17:18.0000] <annevk>
JakeA: I'm looking into adding a fromCache member to responses

[04:17:49.0000] <annevk>
JakeA: perhaps call it "cache state"

[04:18:06.0000] <annevk>
JakeA: none / local / validated / partial

[04:18:49.0000] <annevk>
JakeA: not sure if we need something for synthetic responses

[04:25:57.0000] <annevk>
Anyone here with recent knowledge on WebVTT? I'm asked to ignore certain lines in the header of files, but it seems sort of weird to me: https://github.com/annevk/webvtt/pull/6

[04:42:28.0000] <jgraham>
Wow I missed the whole W3C Dev Campus thing

[04:43:28.0000] <jgraham>
It offers to "get rid of your web deficiencies"

[04:44:29.0000] <jgraham>
Sorry s/web/Web/

[04:45:28.0000] <hallvors>
Spec interpretation question coming up - bear with me ..

[04:45:33.0000] <annevk>
Learning fast jgraham!

[04:45:36.0000] <hallvors>
https://html.spec.whatwg.org/multipage/browsers.html#javascript-protocol says:

[04:45:36.0000] <hallvors>
10. Let address be the address of the active document of the browsing context being navigated.

[04:45:36.0000] <hallvors>
If you're inserting <IFRAME src="javascript:..."> into a document, what is "the active document of the browsing context being navigated"?

[04:46:11.0000] <annevk>
hallvors: <iframe> is initially about:blank; so the document generated by that

[04:46:39.0000] <annevk>
jgraham: although I would spell it with a small w

[04:46:42.0000] <hallvors>
OK - that's what I think Chrome does

[04:46:50.0000] <hallvors>
but it's not clear to me from https://html.spec.whatwg.org/multipage/embedded-content.html#process-the-iframe-attributes

[04:46:57.0000] <annevk>
jgraham: the whole, there's only one of them so we need to use uppercase is a weird rule

[04:47:26.0000] <annevk>
hallvors: I think that's because that's not where it starts

[04:47:31.0000] <annevk>
hallvors: first the <iframe> is created

[04:47:37.0000] <hallvors>
is the "resolve" part not successful for javascript: ?

[04:47:40.0000] <hallvors>
hm..

[04:47:46.0000] <annevk>
hallvors: 'When an iframe element is inserted into a document that has a browsing context, the user agent must create a nested browsing context, and then process the iframe attributes for the "first time".'

[04:47:55.0000] <annevk>
hallvors: create a nested browsing context is key here

[04:48:19.0000] <hallvors>
OK - thanks, I'll go back and look :)

[04:48:22.0000] <annevk>
hallvors: you could file a bug on Hixie not linking "create"

[04:48:22.0000] <jgraham>
annevk: The Guardian style guide has a small "w". I don't think there's a special rule about singletons

[04:48:37.0000] <annevk>
jgraham: hsivonen told me that when I spelled internet lowercase

[04:48:44.0000] <annevk>
jgraham: or maybe it was Hixie

[04:48:53.0000] <jgraham>
annevk: The Guardian disagrees with him on that too

[04:49:06.0000] <jgraham>
All these rules are basically made up

[04:49:07.0000] <annevk>
jgraham: good, I agree with The Guardian then :p

[04:49:47.0000] <annevk>
hallvors: I'll file a bug on linking create

[04:49:58.0000] <hallvors>
thx

[04:50:38.0000] <jgraham>
(fwiw Chicago manual of style has web and Internet

[04:50:40.0000] <annevk>
hallvors: https://www.w3.org/Bugs/Public/show_bug.cgi?id=27029

[04:51:09.0000] <annevk>
jgraham: we better set up howdoyouspellwebandinternet.com

[04:52:39.0000] <hallvors>
so, naturally there is a follow-up question: in "process the IFRAME attributes" prose, there's this:

[04:52:40.0000] <hallvors>
"If there exists an ancestor browsing context whose active document's address, ignoring fragment identifiers, is equal to url, then abort these steps."

[04:53:11.0000] <hallvors>
embedding a src=javascript: IFRAME inside a src=javascript: IFRAME will now fail

[04:53:27.0000] <hallvors>
because presumably this step will prevent embedding about:blank inside about:blank ?

[04:54:20.0000] <annevk>
hallvors: I think it prevents nesting e.g. http://example/test into http://example/test, no?

[04:54:31.0000] <hallvors>
yes, that's the intention

[04:55:01.0000] <hallvors>
but given that the "address" of javascript:'string of html' documents is now about:blank - we'll end up here, right?

[04:55:50.0000] <hallvors>
(context - FYI - is me trying to figure out if aligning with HTML5 would fix Gecko bug 836567)

[04:56:46.0000] <hallvors>
Chrome does set URL to about:blank, but does not prevent nesting. But I think if it was implementing this algorithm to the t, it would

[04:57:07.0000] <hallvors>
(So I think this step perhaps needs an exception for about:blank or something)

[04:57:55.0000] <hallvors>
(and perhaps add a general "don't nest browsing contexts deeper than you'd like to" step instead)

[04:57:58.0000] <annevk>
hallvors: no, about:blank is the <iframe>'s document, not its ancestor

[04:58:19.0000] <hallvors>
annevk: I'm looking at an IFRAME nested *inside* an IFRAME

[04:58:48.0000] <hallvors>
so there certainly is an ancestor with the address about:blank

[04:58:59.0000] <hallvors>
(see TC in bugzilla)

[05:01:57.0000] <annevk>
Okay, I see what you're saying

[05:02:19.0000] <annevk>
hallvors: did you point to the bug already?

[05:02:30.0000] <hallvors>
836567

[05:02:41.0000] <hallvors>
https://bugzilla.mozilla.org/show_bug.cgi?id=836567

[05:04:47.0000] <annevk>
hallvors: "If there exists an ancestor browsing context whose active document's address, ignoring fragment identifiers, is equal to url, then abort these steps." at this point /url/ is the javascript URL, no?

[05:05:01.0000] <annevk>
hallvors: how could that be equal to an ancestor that has about:blank as URL?

[05:05:48.0000] <hallvors>
no, per what you just said above URL is about:blank - because that's the "address of the active document of the browsing context being navigated" which we're supposed to use as the "override URL" of the document

[05:06:01.0000] <hallvors>
hm..

[05:06:06.0000] <hallvors>
no, you may be right

[05:09:39.0000] <hallvors>
that's what I was missing ;).

[05:09:57.0000] <hallvors>
Now, what happens (or not) if you load about:blank URLs inside src:javascript: IFRAMEs? It just "falls back" to the document the browsing context was created with - right?

[05:12:48.0000] <annevk>
hallvors: what do you mean by load?

[05:13:17.0000] <hallvors>
s/load/embed an IFRAME loading

[05:14:00.0000] <annevk>
that new <iframe> will get its own document, yes

[05:27:05.0000] <hallvors>
now, if we hit "If there exists an ancestor browsing context whose active document's address, ignoring fragment identifiers, is equal to url, then abort these steps" and this algorithm is aborted - does HTML5 still require firing a load event for that IFRAME?

[05:28:14.0000] <hallvors>
yes - happens further down "When a Document in an iframe is marked as completely loaded, the user agent must run the iframe load event steps in parallel."

[05:28:58.0000] <hallvors>
it's amusing that Chrome supports giving about:blank a query string, so I can nest lots of about:blank IFRAMEs :)

[05:29:10.0000] <hallvors>
but only in Chrome - in other browsers that's a load failure..

[05:33:11.0000] <annevk>
per the URL spec that ought to work

[05:33:22.0000] <annevk>
well, Fetch spec, sorry

[05:33:45.0000] <annevk>
see https://fetch.spec.whatwg.org/#basic-fetch (it does not check for query being null)

[05:45:42.0000] <JakeA>
annevk: of the cacheMode stuff, what dictates if I get a 304 back or not?

[05:46:35.0000] <annevk>
JakeA: the mode?

[05:47:57.0000] <JakeA>
annevk: I'm reading https://github.com/slightlyoff/ServiceWorker/issues/412#issuecomment-58646963 and it's unclear which result in me getting back the 304. It says some explicitly don't, but not sure about the others

[05:48:33.0000] <annevk>
JakeA: they would

[05:48:52.0000] <JakeA>
annevk: I mean, is the only way for me to get a 304 response is to set if- headers myself?

[05:49:04.0000] <annevk>
JakeA: that depends on the server

[05:49:48.0000] <JakeA>
annevk: If I don't set If- headers manually, what are the conditions for getting a 304 response object back as a result of calling fetch(url)?

[05:50:11.0000] <annevk>
JakeA: I'm not sure what you mean, surely that depends on the server

[05:51:38.0000] <JakeA>
annevk: At the moment, with XHR, I can only get access to a 304 response if I set "If-" headers myself. Otherwise it returns the cached entry. Has this changed?

[05:52:23.0000] <annevk>
JakeA: not if cache mode is default

[05:53:32.0000] <JakeA>
annevk: ok, so assuming I'm *not* setting "If-" headers myself, and the server returns a 304, what are the conditions for me getting that 304 response in script?

[05:54:15.0000] <annevk>
JakeA: mode needs to be bypass or reload

[05:54:26.0000] <annevk>
JakeA: or force cache I suppose, though that'd be a bit weird

[06:07:17.0000] <JakeA>
annevk: What happens to my "If-" headers if I set the mode to be "revalidate"?

[06:07:45.0000] <annevk>
JakeA: I'm not sure

[06:08:03.0000] <annevk>
JakeA: should ask mayhemer I guess

[06:08:11.0000] <annevk>
JakeA: will you?

[06:08:31.0000] <JakeA>
annevk: My gut says that mode gets set to "bypass"

[06:08:34.0000] <JakeA>
yeah, will ask

[06:08:56.0000] <annevk>
not opposed, but he didn't seem to like that behavior

[06:09:12.0000] <JakeA>
hm, but we're already doing that for "default"

[06:09:37.0000] <annevk>
yes

[06:09:57.0000] <annevk>
this cache stuff is hard, and we haven't even dug down into everything

[06:10:11.0000] <annevk>
gave up on figuring out how to deal with partial content

[06:11:27.0000] <JakeA>
annevk: yeah, I've been wondering what to do if you get a fetch event with a range, and you respond with something from the cache

[06:19:09.0000] <annevk>
JakeA: if reply with a 200 and the full resource it's okay

[06:19:16.0000] <annevk>
you*

[06:19:35.0000] <annevk>
JakeA: seems like you need to reply with a 206 and a range from the cache otherwise

[06:19:49.0000] <annevk>
JakeA: not sure if the cache supports slicing?

[06:23:56.0000] <JakeA>
annevk: nope. But as you say, a 200 response would do the right thing.

[06:27:04.0000] <annevk>
JakeA: still seems like something we should support down the road

[06:27:18.0000] <JakeA>
annevk: oh agreed

[07:29:37.0000] <MikeSmith>
hsivonen: validator.nu and html5.validator.nu still 502

[07:30:09.0000] <MikeSmith>
hsivonen: hoping it's not something I broke somehow (but don't know how it could be if you've not redeployed recently)

[07:33:54.0000] <zcorpan>
annevk: is halting on error in a url something that anyone has asked for?

[07:34:46.0000] <annevk>
zcorpan: some people did, not sure how strong the request was though

[07:34:56.0000] <annevk>
zcorpan: feel free to argue against it, haven't really made up my mind

[07:36:40.0000] <zcorpan>
annevk: are the requests public?

[07:36:58.0000] <annevk>
zcorpan: might be in some old thread somewhere

[09:06:53.0000] <jgraham>
erlehmann: Is that the kind of "broke" where they are suddenly without a "browsers" table in their db, or the kind of "broke" where the page formatting looks wrong for that one load

[09:06:58.0000] <jgraham>
?

[09:07:39.0000] <jgraham>
(I don't really think it's a security issue either way since it would still be a site-controlled value)

[09:09:25.0000] <erlehmann>
jgraham it is the kind of broke where there is an SQL injection possible if you know how the table is named

[09:09:34.0000] <erlehmann>
i think xss is not an issue

[09:10:07.0000] <erlehmann>
jgraham enough stats package do not seem to sanitize the UA string that I would consider it dangerous to let arbitrary js set it to a value.

[09:10:52.0000] <jgraham>
From the point of view of the site, the js is supposed to be more trusted than the user, who can already set the value

[09:11:22.0000] <jgraham>
Well I guess Cross-Origin requests are a bit different

[10:18:13.0000] <annevk>
Hixie: if "environment settings object" has a 1:1 with its global object, why are they distinct?

[10:19:30.0000] <Hixie>
they are distinct because we need something to hook all the configuration of an environment in. That there are parts of it that have a 1:1 mapping seems irrelevant.

[10:19:50.0000] <Hixie>
i mean, why do we have a Location object? it has a 1:1 mapping with a Window object

[10:20:07.0000] <Hixie>
why do we have both a parsed URL and a serialised URL? they have a 1:1 mapping too

[10:26:00.0000] <annevk>
Not sure about that last one, but fair enough I guess...

[10:27:15.0000] <annevk>
Hixie: would it work if I just renamed "client" to "environment" and made its value an environment settings object?

[10:29:22.0000] <annevk>
Hixie: ok if I file a bug asking for a slightly more explicit description of the members? E.g. whether https://html.spec.whatwg.org/multipage/webappapis.html#responsible-document is null in a worker environment?

[10:29:57.0000] <annevk>
Hixie: that is, type descriptions for the members of an environment settings object would be nice, probably mostly whether they can be null

[10:31:40.0000] <annevk>
Hmm, an intent to implement on blink with a TR/ URL

[10:31:45.0000] <annevk>
blink-dev*

[10:31:51.0000] <Domenic>
yeah, saw that...

[10:32:51.0000] <annevk>
Domenic: writing a Twitter bit is pretty easy btw

[10:32:55.0000] <annevk>
Twitter bot

[10:33:14.0000] <annevk>
Although keeping it alive is not...

[10:33:16.0000] <Domenic>
annevk: it needs to actively be scanning for people tweeting /TR/ URLs though

[10:33:23.0000] <Domenic>
annevk: that said I probably could use one for streams

[10:34:22.0000] <Domenic>
Also I just ordered a bunch of WHATWG logo stickers so if anyone sees me in person ask and they're yours

[10:34:25.0000] <annevk>
I once created https://twitter.com/w3cdrm but that didn't really follow the tweets of everyone

[10:34:46.0000] <Domenic>
haha

[10:35:01.0000] <annevk>
But if they have an API for getting everyone's tweets it should be relatively straightforward

[10:35:24.0000] <Domenic>
yeah should be a fun side project

[10:35:28.0000] <annevk>
Through https://script.google.com/ you can do it in JavaScript and no need to host anything yourself

[10:36:26.0000] <annevk>
Domenic: I tried sharing the code with you

[10:36:33.0000] <annevk>
Domenic: should be easy enough to adjust

[10:48:01.0000] <Hixie>
annevk: you can even leave it named client, :-)

[10:48:50.0000] <Hixie>
annevk: the responsible document is not null in workers

[10:51:55.0000] <annevk>
Hixie: oh, even for shared workers?

[11:09:46.0000] <Hixie>
annevk: yeah. i think it might never be used though.

[11:10:25.0000] <annevk>
Might be nice if we could recast any use in workers in terms of the settings object instead

[11:11:25.0000] <Hixie>
doesn't HTML already do that?

[11:18:26.0000] <JonathanNeal>
does anyone remember the recommended way to use blockquote? I remember there being a html5 doctor article about it, but then i remember a discussion that argued it should be used another way.

[11:19:04.0000] <JonathanNeal>
This was an older discussion, but I remember something about using <footer> or something.

[11:25:12.0000] <annevk>
Hixie: I'll study it, thanks for the help thus far

[11:26:29.0000] <boogyman>
JonathanNeal: <blockquote><some block level element>…</element></blockquote>

[12:39:31.0000] <say2joe>
JonathanNeal: you may be thinking about using footer in terms of the cite attribute … http://www.w3.org/TR/html5/grouping-content.html#the-blockquote-element

[12:54:19.0000] <Hixie>
JonathanNeal: <blockquote></blockquote><p><cite></cite><p> or some such

[12:54:42.0000] <Hixie>
JonathanNeal: depending on what you want exactly

[13:12:18.0000] <JonathanNeal>
Thanks, Hixie.


2014-10-14
[19:04:33.0000] <MikeSmith>
me tries to figure out why an app that's already using a browser engine as its runtime would need a <webview> element

[19:09:36.0000] <MikeSmith>
there's no plan to allow this <webview> element in actual Web content, right?

[19:10:04.0000] <MikeSmith>
I mean in content that runs under the Web security model

[19:10:55.0000] <MikeSmith>
as opposed to whatever other unspecified security models this non-Web stuff runs in

[19:17:59.0000] <TabAtkins>
MikeSmith: Context?

[19:18:55.0000] <MikeSmith>
TabAtkins: hang on will get some links

[19:19:39.0000] <MikeSmith>
TabAtkins: https://developer.chrome.com/apps/tags/webview

[19:20:16.0000] <MikeSmith>
and now proposed draft standard at http://benfrancis.github.io/webview/

[19:20:33.0000] <TabAtkins>
Ah, yeah.  It's a better <iframe> - forced cross-origin, because the synchronous links are filtered out.

[21:10:43.0000] <SimonSapin>
Does the platform need an XML parser, other than for image/svg+xml ?

[21:17:25.0000] <pdr>
Does the platform even need an xml parser for svg? :)

[21:22:44.0000] <SimonSapin>
pdr: Exactly. I’ve heard about Blink wanting to use their HTML parser for image/svg+xml, so I was wondering if there is anything *else* that requires an XML parser, or if we could get away with not having one in Servo.

[21:35:41.0000] <pdr>
SimonSapin, XSLT was the other user of the XML parser in blink.

[21:50:58.0000] <zcorpan>
annevk: i agree with foolip, you either want to validate regions or error for extra lines. not silently skip

[22:10:13.0000] <MikeSmith>
SimonSapin: for (the relatively few) pages on the Web that are actually served as application/xhtml+xml

[22:12:41.0000] <SimonSapin>
MikeSmith: do they break if parsed as HTML?

[22:13:19.0000] <MikeSmith>
SimonSapin: things like <script src="foo.j"/> will

[22:14:04.0000] <MikeSmith>
that is, self-closing tag syntax for and element that requires an end tag in text/html

[22:14:30.0000] <SimonSapin>
I see, thanks

[23:52:00.0000] <annevk>
zcorpan: right, that's what I thought

[00:15:15.0000] <annevk>
https://code.google.com/p/chromium/issues/detail?id=412053#c5 \o/

[00:15:47.0000] <annevk>
https://code.google.com/p/chromium/issues/detail?id=417850 (removing utf-32)

[00:47:10.0000] <foolip>
annevk: sounds like silvia plans to add regions support to the validator, make sure to let her know if you're not excited about that so she doesn't waste time

[00:47:47.0000] <annevk>
foolip: if it's going in implementations I guess I'll add it

[00:47:59.0000] <annevk>
foolip: I don't really understand the current WebVTT landscape

[00:48:06.0000] <foolip>
annevk: well that's the thing, I don't want to ship that feature :)

[00:49:22.0000] <annevk>
foolip: it seems kind of sneaky to add these meaningless metadata fields after they've been rejected for over a year

[00:49:34.0000] <annevk>
foolip: and then add normative dependencies on them that not everyone wants

[00:49:36.0000] <annevk>
meh

[00:49:51.0000] <annevk>
foolip: I added a comment to the PR thread

[00:49:53.0000] <foolip>
annevk: I agree, there are several things in the spec I don't like and don't want to implement/ship

[00:50:23.0000] <annevk>
foolip: so how is that going to work out with the shared code base?

[00:50:32.0000] <annevk>
foolip: sylvia is still Google, no?

[00:50:41.0000] <foolip>
no, not for a while now

[00:50:56.0000] <foolip>
If Chrome wants to ship it we will too, of course

[00:51:36.0000] <zcorpan>
foolip: what happened to changing the position/align thing?

[00:52:39.0000] <annevk>
foolip: oh okay

[00:52:56.0000] <annevk>
foolip: I haven't followed subtitles for a while, it moved into a CG for unclear reasons

[00:53:09.0000] <annevk>
foolip: and then the W3C chartered this group that made things even uglier

[00:53:23.0000] <annevk>
foolip: Mozilla's representatives were not pleased

[00:53:23.0000] <foolip>
annevk: it's not clear yet what will happen, none of Google's engineers are paying any attention to WebVTT

[00:53:43.0000] <hsivonen_>
annevk: many newspapers are illgical and wrong when they write "web" or "internet" instead of "the Web" or "the Internet"

[00:53:45.0000] <foolip>
annevk: you mean the TTWG wanting to publish a WebVTT Rec?

[00:54:10.0000] <annevk>
hsivonen_: illogical?

[00:54:14.0000] <hsivonen_>
annevk: in IETF-speak, "an internet" and "the Internet" had meanings before the Guardian had heard of either

[00:54:14.0000] <annevk>
foolip: yes

[00:55:10.0000] <foolip>
zcorpan: the size clamping was put back, we added an auto position so that align by itself does something sane, and there's this lineAlign/positionAlign stuff I don't want to implement

[00:55:19.0000] <hsivonen_>
annevk: they take the position that the Internet and the Web are not proper nouns for specific, albeit large, distributed systems

[00:55:26.0000] <annevk>
http://en.wikipedia.org/wiki/Capitalization_of_%22Internet%22

[00:55:39.0000] <annevk>
So if you spell it "internet" you poop on history

[00:56:16.0000] <hsivonen_>
annevk: right

[00:56:16.0000] <annevk>
Given how words change meaning it doesn't seem so bad

[00:56:17.0000] <foolip>
annevk: I'm worried about the TTWG involvement as well, if the WG hopes to make changes to the spec based on their consensus I doubt things can go well

[00:56:27.0000] <hsivonen_>
annevk: also, the NYT argument is bogus

[00:56:30.0000] <foolip>
but I haven't walked away just yet

[00:56:55.0000] <hsivonen_>
"the Internet" does not refer to technology but to a specific large network using the technology

[00:57:58.0000] <hsivonen_>
(there are also publication that fight against trademark like iMac and iPhone)

[00:58:24.0000] <annevk>
Domenic: there's no BufferSource in https://dvcs.w3.org/hg/html-media/raw-file/tip/media-source/media-source.html

[00:58:38.0000] <annevk>
Domenic: BufferSource is an IDL construct for ArrayBuffer / ArrayBufferView

[00:59:02.0000] <annevk>
hsivonen: yeah I saw that

[00:59:03.0000] <Domenic>
annevk: sorry, SOurceBuffer

[00:59:25.0000] <annevk>
hsivonen: iPhone 5s vs iPhone 5S

[01:00:42.0000] <hsivonen>
annevk: I mean writing "Imac"

[01:00:45.0000] <annevk>
Domenic: window.SourceBuffer is undefined in Firefox and Chrome

[01:00:53.0000] <annevk>
hsivonen: understood, was giving another example

[01:01:00.0000] <Domenic>
annevk: that's a good sign then

[01:01:35.0000] <Domenic>
annevk: on the other hand IE11 has both SourceBuffer and ... SourceBufferList -_-. I don't know what the latter is but I'm betting it's a new fake-array.

[01:01:43.0000] <annevk>
Domenic: that we have both SourceBuffer and BufferSource and that they mean radically different things...

[01:02:01.0000] <annevk>
Domenic: yeah, TAG has not beating enough groups with the clue stick

[01:02:42.0000] <annevk>
Domenic: told WebRTC not to use named getters, creates a whole thread of people not understanding why; chair said the IDL worked perfectly fine in C++

[01:02:53.0000] <Domenic>
-___________-

[01:04:04.0000] <annevk>
Should maybe get that David Graham guy involved in specs somehow, he thought Fetch was easy to follow

[01:04:16.0000] <terinjokes>
question I've been meaning to ask: where is USVString defined?

[01:04:34.0000] <zcorpan>
terinjokes: webidl

[01:04:42.0000] <terinjokes>
but google

[01:05:02.0000] <annevk>
Domenic: for groups like WebRTC it seems somewhat vital IDL is maintained and we change stuff like "getter" into "legacygetter" (filed a bug on that the other day)

[01:05:24.0000] <annevk>
Domenic: you can add that to the list of arguments to convince the powers that be

[01:05:42.0000] <annevk>
terinjokes: http://heycam.github.io/webidl/

[01:05:48.0000] <Domenic>
terinjokes: sounds like you are looking at /TR/ URLs... the ED has USVString

[01:05:51.0000] <terinjokes>
annevk: yep, just found it

[01:06:06.0000] <terinjokes>
Domenic: no, i googled USVString which gave helpful "USB String" results

[01:06:11.0000] <Domenic>
oh haha

[01:06:13.0000] <annevk>
I kind of want to try to get IDL rename DOMString to String again

[01:06:46.0000] <annevk>
Last time it didn't work because implementations claimed they needed to alias, but it seems developers read IDL more than implementers

[01:09:12.0000] <Domenic>
terinjokes: which sequence<DOMString> were you confused about?

[01:10:03.0000] <Domenic>
annevk: not worth it, wait for The Great Renaming that we always dream of

[01:10:18.0000] <Domenic>
burn the political capital all at once

[01:10:37.0000] <annevk>
So far I've had more success with incremental changes

[01:11:09.0000] <terinjokes>
Domenic: sequence<sequence<DOMString> or object> the rows can contain any types

[01:11:30.0000] <terinjokes>
https://www.dropbox.com/s/vduood93hjp7d8j/Screenshot%202014-10-14%2001.11.23.png?dl=0

[01:11:33.0000] <Domenic>
terinjokes: hmm OK the internet said it was either a 2D array or an array of objects

[01:12:08.0000] <Domenic>
terinjokes: oh I see for the second param

[01:12:21.0000] <Domenic>
terinjokes: but I think it converts all types into object keys, which are strings

[01:12:39.0000] <terinjokes>
yeah, the second parameter is an array of indexes or properties

[01:12:49.0000] <Domenic>
indices are strings really, just in disguise ;)

[01:12:57.0000] <Domenic>
might as well let WebIDL convert them to strings for you

[01:13:34.0000] <terinjokes>
i still think that's wrong

[01:13:48.0000] <terinjokes>
you're saying a matrix of strings or an array of objects

[01:14:10.0000] <Domenic>
are we talking about second param or first param?

[01:14:20.0000] <terinjokes>
first

[01:14:32.0000] <Domenic>
oh ok

[01:14:36.0000] <Domenic>
yeah i see

[01:14:50.0000] <Domenic>
so sequence<sequence<any>> or sequence<object>?

[01:15:03.0000] <terinjokes>
the second paramter i already had as an array of DOMStrings? (which you changed to an optional sequence of DOMString)

[01:15:14.0000] <Domenic>
remember "array" = fake array in WebIDL

[01:15:21.0000] <Domenic>
and yeah that's why I was confused

[01:15:35.0000] <terinjokes>
yeah, i got confused which sequence or array. so i just picked one

[01:16:12.0000] <terinjokes>
sequence<sequence<any> or object>

[01:16:24.0000] <terinjokes>
which might be what you just said

[01:17:05.0000] <Domenic>
ah yeah i bet they are slightly different but let's go with the latter for now

[01:17:10.0000] <Domenic>
this will need review from an IDL expert

[01:17:20.0000] <Domenic>
also I forgot to &lt; things

[01:17:24.0000] <Domenic>
will force push a revision

[01:17:52.0000] <terinjokes>
ok, awaiting

[01:19:00.0000] <Domenic>
terinjokes: done

[01:19:39.0000] <annevk>
terinjokes: Domenic: can't you just copy IDL from browsers?

[01:20:01.0000] <Domenic>
good question ... browsers do such weird things though I am unsure they implement console with IDL

[01:20:14.0000] <annevk>
http://mxr.mozilla.org/mozilla-central/source/dom/webidl/Console.webidl

[01:21:21.0000] <Domenic>
https://code.google.com/p/chromium/codesearch#chromium/src/third_party/WebKit/Source/core/frame/ConsoleBase.idl&sq=package:chromium

[01:21:58.0000] <terinjokes>
"data' sounds better than "obj" imho…

[01:23:38.0000] <Domenic>
So mostly it looks like they just give up on using IDL

[01:23:51.0000] <Domenic>
using either no arguments (Blink) or any... in all cases (Gecko)

[01:24:06.0000] <Domenic>
Wish we had IE source to look at in this regard

[01:24:19.0000] <Domenic>
They like WebIDL, I bet they tried at least to create a good console IDL

[01:25:46.0000] <terinjokes>
i, like Gecko, did any… for most places

[01:26:00.0000] <terinjokes>
because those methods to really take anything atm

[01:26:42.0000] <terinjokes>
also, sadly, that change makes bikeshed very unhappy

[01:27:06.0000] <Domenic>
lolllll

[01:27:47.0000] <Domenic>
to be fair Bikeshed is probably better at judging what is conformant IDL than I am

[01:28:02.0000] <Domenic>
maybe change table to any as first arg

[01:30:09.0000] <terinjokes>
should i just copy in Blink's IDL then? :P

[01:30:39.0000] <Domenic>
I think it's worth a try at least to be better

[01:30:53.0000] <Domenic>
or ask around for people who know IDL on how to encode what we're trying to say

[01:31:38.0000] <Domenic>
no wait

[01:31:39.0000] <Domenic>
it's just any

[01:31:43.0000] <Domenic>
console.table("asdf") works

[01:32:33.0000] <Domenic>
terinjokes: are you capping line length?

[01:33:45.0000] <terinjokes>
In the bikeshed source, no

[01:34:04.0000] <terinjokes>
each sentence is on its own line though

[01:35:07.0000] <Domenic>
terinjokes: new revision pushed. i suppose i should test bikeshed on it

[01:36:40.0000] <terinjokes>
it works, just has weird spacing between "any" and "tabularData"

[01:37:26.0000] <Domenic>
bikeshed bug?

[01:37:58.0000] <terinjokes>
probably

[01:38:47.0000] <Domenic>
aigh going back to sleep now

[01:39:43.0000] <terinjokes>
why did we get up again?

[01:40:12.0000] <Domenic>
for me, it was because i accidentally napped around 9pm, then woke up at 3:30 with the lights on

[01:45:52.0000] <terinjokes>
:)

[01:46:44.0000] <terinjokes>
PR merged, new version published

[01:46:53.0000] <terinjokes>
and now back to bed for me

[01:57:15.0000] <mathiasbynens>
var file = new File([''], { 'type': 'text/html', 'name': 'test.html' }); file.name === '[object Object]'; // true

[01:57:31.0000] <mathiasbynens>
^ is that per spec, and if so, how is that useful?

[01:57:54.0000] <mathiasbynens>
http://dev.w3.org/2006/webapi/FileAPI/#file

[01:58:24.0000] <mathiasbynens>
http://dev.w3.org/2006/webapi/FileAPI/#dfn-name

[01:59:19.0000] <mathiasbynens>
seems like it should return whatever was passed as the `name`, but since both Chromium and Firefox do something else, I figured I’d ask

[02:07:34.0000] <JakeA>
annevk: if a response contains 2 headers of "access-control-allow-origin:*", it should fail a CORS check right?

[02:20:30.0000] <annevk>
JakeA: yes

[02:21:36.0000] <annevk>
mathiasbynens: the constructor suggests that the fileName argument comes before the property bag argument

[02:21:46.0000] <annevk>
mathiasbynens: that seems like a somewhat broken constructor, but ...

[02:22:53.0000] <annevk>
mathiasbynens: emailing public-webapps might be a good first step here

[02:27:06.0000] <annevk>
mathiasbynens: per spec it's var file = new File([''], "test.html", { type : "text/html" })

[02:29:11.0000] <mathiasbynens>
hmm, and that does work as expected

[02:30:51.0000] <annevk>
yeah, it's just rather ugly

[02:31:22.0000] <annevk>
I think these days you would just make that new File(options) with some arguments being required

[04:20:39.0000] <annevk>
jgraham: gsnedders: any tips for 'Add whole load of tests for "Loading Web Pages".'?

[04:20:49.0000] <annevk>
jgraham: gsnedders: I could take a look, but it seems somewhat daunting

[04:21:36.0000] <gsnedders>
annevk: get jgraham's tests running and deal with the old review comments

[04:23:17.0000] <annevk>
Hmm, the comment in https://bugzilla.mozilla.org/show_bug.cgi?id=1081097 does not inspire confidence

[04:23:36.0000] <annevk>
Okay, so that would be hard work, not just fact checking

[04:23:45.0000] <gsnedders>
Yes.

[04:24:20.0000] <gsnedders>
Also note that jgraham deviated from the spec where he was suggesting spec changes to match web compat

[04:24:45.0000] <annevk>
I think I'll leave it to jgraham then to figure out navigation

[04:24:55.0000] <gsnedders>
This is basically my view.

[04:25:43.0000] <annevk>
I have enough open tickets as is. If someone has outstanding reviews though that are closer to the finish line I'm willing to help

[04:29:50.0000] <annevk>
zcorpan: thanks for helping rubys out

[04:30:22.0000] <zcorpan>
annevk: np

[05:02:13.0000] <jgraham>
annevk: Yeah, so the problem there is it needs someone to actually be working on it. I don't think I can land those tests just by sitting down with the spec for an afternoon

[05:02:44.0000] <annevk>
foolip: https://www.w3.org/Bugs/Public/show_bug.cgi?id=25428#c4 it seems that link for hasFeature() no longer works

[05:04:17.0000] <annevk>
jgraham: we have broken tests and reportedly a somewhat broken spec; I guess the question is what obvious next steps would be

[05:04:39.0000] <annevk>
jgraham: anyone other than you would have to basically start from scratch

[05:05:14.0000] <jgraham>
annevk: Not really. I think the next step is to run the tests that we have and investigate ones that fail

[05:05:29.0000] <darobin>
preferably against all UAs

[05:06:20.0000] <darobin>
for hairy stuff like this I wonder if it wouldn't be a good idea to have a high bandwidth hack day where a bunch of us sit in a room and try to make our way through the mess

[05:07:13.0000] <jgraham>
/me breaks out his copy of Amaya

[05:07:30.0000] <jgraham>
Or was this some other meaning of "all UAs"? ;)

[05:07:47.0000] <zcorpan>
jgraham: do most tests fail in all browsers?

[05:07:57.0000] <jgraham>
zcorpan: I don't think so

[05:08:05.0000] <jgraham>
I haven't tried for about 2 years though

[05:08:17.0000] <zcorpan>
ok

[05:35:10.0000] <foolip>
annevk: the link in comment 4 is for SVG usage, the two hasFeature() counters are in the first comment (0 I guess)

[05:40:47.0000] <mathiasbynens>
TabAtkins: http://dev.w3.org/csswg/css-images/ doesn’t have `image-rendering: pixelated` anymore – what happened to it?

[05:43:52.0000] <mathiasbynens>
ah, it’s level 3, and the draft is now level 4

[05:43:53.0000] <mathiasbynens>
http://dev.w3.org/csswg/css-images-3/#the-image-rendering

[05:43:58.0000] <mathiasbynens>
/TR/ strikes again

[05:54:33.0000] <annevk>
foolip: that reports 10%?

[05:54:37.0000] <annevk>
foolip: mkay

[05:55:35.0000] <annevk>
foolip: ta

[05:56:15.0000] <jgraham>
"We would like to offer our sincere thanks to all the people that we have been in touch with regarding this draft for their reviews and feedback."

[05:56:39.0000] <jgraham>
So sincere is the thanks that we couldn't even be bothered to remember their names

[06:06:48.0000] <annevk>
jgraham: context?

[06:12:57.0000] <Ms2ger>
Your favourite search engine says http://www.w3.org/TR/performance-timeline/

[06:17:14.0000] <jgraham>
All of those specs in fact

[06:17:32.0000] <foolip>
annevk: right, around 10% of page loads have an <svg> element in a document. measuring <svg> anywhere gives higher numbers, presumably because of feature testing: https://www.chromestatus.com/metrics/feature/timeline/popularity/138

[06:17:50.0000] <annevk>
that group...

[06:18:17.0000] <Ms2ger>
foolip, that seems surprisingly large

[06:19:52.0000] <foolip>
Ms2ger: yeah, it's probably because of SVG icons or fonts

[06:24:48.0000] <smaug____>
foolip: are you sure that is right

[06:25:39.0000] <smaug____>
though, if google uses <svg>

[06:25:50.0000] <smaug____>
or fb

[06:33:06.0000] <foolip>
smaug____: no, I'm not sure

[06:33:32.0000] <foolip>
those graphs are all the information I have to go by

[06:38:23.0000] <rubys>
anne: ping?

[06:38:44.0000] <rubys>
s/anne/annevk/

[06:59:54.0000] <annevk>
rubys: here

[07:01:02.0000] <annevk>
rubys: if input is the empty string, doesn't the pointer point to EOF?

[07:10:48.0000] <jgraham>
New theory: these specs were written to piss me off

[07:10:57.0000] <jgraham>
Me personally

[07:12:14.0000] <Ms2ger>
Not bz?

[07:13:04.0000] <darobin>
they were written to piss off bz, getting pissed off as well is just a sign of growing enlightenment

[07:16:09.0000] <rubys>
annevk: I'm back.

[07:16:33.0000] <rubys>
the spec line in question: "Keep running the following state machine by switching on state. If   after a run pointer points to the EOF code point, go to   the next step. Otherwise, increase pointer by one and continue with the   state machine.    "

[07:16:48.0000] <rubys>
Note: "If after a run"

[07:18:12.0000] <rubys>
and inside "scheme state": "and start over"

[07:24:26.0000] <annevk>
rubys: why would re reach scheme state?

[07:26:08.0000] <rubys>
annevk: you are correct.  Here is what I should have pointed to:

[07:26:13.0000] <rubys>
"Otherwise, if state override is not given, set      state to no scheme state, and decrease      pointer by one.       "

[07:28:44.0000] <annevk>
rubys: yeah, that seems broken, no?

[07:30:15.0000] <annevk>
If input is EOF, then if you decrease the pointer it would be negative... but I guess that would work out okayish... Still not very clean

[07:35:37.0000] <rubys>
If you want, I'll submit a pull request that says "if after a run the >>>pointer is non-negative and<<< points to the EOF code point"

[07:36:06.0000] <annevk>
I think it's okay

[07:36:38.0000] <annevk>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=25946 is the longer term rewrite goal

[07:37:25.0000] <annevk>
rubys: are you familiar with gethostbyname/getaddrinfo? Do you know if there's a way to make them skip IPv4 address parsing?

[07:37:33.0000] <annevk>
rubys: see https://www.w3.org/Bugs/Public/show_bug.cgi?id=26431 for context

[07:38:36.0000] <rubys>
/me looking at 25946

[07:42:44.0000] <rubys>
I've used gethostbyname/getaddrinfo before, but no, I don't know if there's a way to make them skip IPv4 address parsing?

[07:44:35.0000] <rubys>
/me installing rust

[07:44:50.0000] <annevk>
rubys: the problem is that they do weird things with IPv4 address parsing that we don't really want to support

[07:45:12.0000] <annevk>
rubys: e.g. they support octal numbers there, very long sequences without dots, etc.

[07:46:03.0000] <annevk>
rubys: so ideally the URL Standard handles IPv4 itself; so you either have a domain, IPv4, or IPv6

[07:46:15.0000] <rubys>
so: only call those functions when the the input can't be confused with an ipv4 address?

[07:46:22.0000] <annevk>
rubys: but then you need a way to get an IP address for domain that does not do IPv4 parsing on it

[07:48:05.0000] <annevk>
rubys: in http://0x800f0906/ "0x800f0906" could be legit domain; however it's mapped to 128.15.9.6 in some implementations

[07:52:30.0000] <annevk>
SimonSapin: "the behavior of gethostbyname() when passed a numeric address string is unspecified" http://pubs.opengroup.org/onlinepubs/009695399/functions/gethostbyaddr.html

[08:04:49.0000] <SimonSapin>
annevk: yay interop

[08:05:05.0000] <annevk>
SimonSapin: from http://www.beej.us/guide/bgnet/output/html/multipage/getnameinfoman.html it seems there's some way to require a DNS lookup

[08:05:16.0000] <annevk>
SimonSapin: not sure how universal getnameinfo is though

[08:05:40.0000] <annevk>
"NI_NAMEREQD will cause the function to fail if the name cannot be found with a DNS lookup"

[08:06:37.0000] <SimonSapin>
that’s not the same as "don’t bypass DNS lookup for addresses that look numeric"

[08:09:22.0000] <annevk>
SimonSapin: granted that it's not ideal, but it seems sufficient for the cases we're looking at, no?

[08:09:49.0000] <annevk>
E.g. it's unlikely 0x800f0906 would ever DNS resolve in practice

[08:10:04.0000] <SimonSapin>
annevk: my point is I’m not convinced this flag actually does what you hope it does

[08:16:24.0000] <jgraham>
So… there isn't a convenient API to tell if a stylesheet has loaded?

[08:19:53.0000] <SimonSapin>
jgraham: document.stylesheets?

[08:20:04.0000] <SimonSapin>
not sure if not-loaded-yet stylesheets show up there

[08:20:10.0000] <TabAtkins>
They don't.

[08:20:18.0000] <TabAtkins>
So if it shows up, it's loaded.

[08:28:43.0000] <TabAtkins>
mathiasbynens: Yeah, the effort of keeping Images 3 and 4 both updated in their overlap was too large for me to bother with it, in practice, so I chopped 4 down to a delta spec until it's ready to be published for real.

[08:30:34.0000] <TabAtkins>
terinjokes, Domenic: Bikeshed uses plinss's widlparser, which implements the grammar straight out of the WebIDL spec. Any errors are likely to be on your side (unless there was a recent grammar change, like what we had with Promise<void>).

[08:34:24.0000] <JakeA>
Quick poll, does the image load for you? https://jsbin.com/gucugo/1/quiet

[08:35:11.0000] <boogyman>
MacOSX Chrome 38.0.2125.101 - yes

[08:35:32.0000] <JakeA>
Is it failing for anyone?

[08:35:51.0000] <JakeA>
I think *some* of their servers have gone crap

[08:36:12.0000] <TabAtkins>
Loads for me

[08:37:18.0000] <boogyman>
JakeA: I spun up a windows VM and worked on Chrome/Fx/IE11 too

[08:38:16.0000] <JakeA>
boogyman: Cheers. Failing for me because of duplicate access-control-* headers, but I think only *some* of their network is sending it

[08:39:01.0000] <mathiasbynens>
TabAtkins: makes sense

[08:41:22.0000] <terinjokes>
TabAtkins: as we suspected

[08:50:54.0000] <annevk>
SimonSapin: bypassing DNS lookup for such addresses is probably mostly fine, what's important is that they fail

[08:51:09.0000] <annevk>
SimonSapin: it would be better if they did DNS lookups

[08:51:26.0000] <annevk>
SimonSapin: I guess we could recognize all patterns in the URL parser itself and fail early for some...

[08:51:41.0000] <SimonSapin>
by bypassing DNS lookup I mean parsing hex or octal into an IPv4 address, which I thought this was about preventing

[08:58:34.0000] <annevk>
SimonSapin: what does NI_NAMEREQD do instead then?

[08:59:04.0000] <annevk>
SimonSapin: it seems to me that if you have such an hex/octal sequence, the function would fail due to that flag

[09:00:10.0000] <annevk>
JakeA: fails here on Mac OS X Firefox Nightly

[09:00:11.0000] <SimonSapin>
annevk: my understanding is that if the function does a DNS lookup and that lookup fails or returns "non existent", then the function will return an error

[09:00:41.0000] <SimonSapin>
but with a numeric address the lookup does not fail since there is no lookup in the first place

[09:00:53.0000] <annevk>
SimonSapin: and without that flag it would do what?

[09:01:28.0000] <SimonSapin>
“(if you don't specify this flag and the name can't be found, getnameinfo() will put a string version of the IP address in host instead.)”

[09:01:47.0000] <SimonSapin>
wait

[09:01:54.0000] <SimonSapin>
this is for reverse DNS

[09:03:00.0000] <SimonSapin>
looks like getaddrinfo(), not getnameinfo(), is relevant to URLs

[09:39:45.0000] <annevk>
SimonSapin: reading http://pubs.opengroup.org/onlinepubs/009695399/functions/getaddrinfo.html it does not look like it has a suitable option

[09:48:17.0000] <annevk>
I missed http://googledevelopers.blogspot.ch/2014/07/noto-cjk-font-that-is-complete.html

[09:50:42.0000] <annevk>
SimonSapin: "Continuing on with the input paramters, you'll likely want to set ai_family to AF_UNSPEC which tells getaddrinfo() to look for both IPv4 and IPv6 addresses. You can also restrict yourself to one or the other with AF_INET or AF_INET6." via http://www.beej.us/guide/bgnet/output/html/multipage/getaddrinfoman.html looks relevant?

[09:51:17.0000] <annevk>
SimonSapin: if the IPv6 parsing of that method is sane, restricting it to IPv6 parsing might help

[09:52:06.0000] <SimonSapin>
interesting

[09:53:44.0000] <annevk>
I can't believe there's not a method that only does a DNS lookup

[09:53:49.0000] <annevk>
It's so weird

[09:55:45.0000] <SimonSapin>
annevk: wait, "look for" as a numeric address, or in DNS results?

[09:56:24.0000] <annevk>
SimonSapin: hmm not sure

[09:56:25.0000] <SimonSapin>
http://msdn.microsoft.com/en-us/library/windows/desktop/ms738520%28v=vs.85%29.aspx says "A value of AF_UNSPEC for ai_family indicates the caller will accept any protocol family. This value can be used to return both IPv4 and IPv6 addresses for the host name pointed to by the pNodeName parameter."

[10:02:57.0000] <annevk>
ah okay

[10:28:15.0000] <jgraham>
Uh

[10:28:17.0000] <jgraham>
So

[10:28:40.0000] <jgraham>
Can someone try going to http://rustbyexample.com/borrow/mut.html in Firefox and tell me what the first script you see in the source is?

[10:29:41.0000] <jgraham>
And also whether the sidebar appers

[10:30:12.0000] <annevk>
SimonSapin: note that per that API port is a string

[10:30:54.0000] <annevk>
jgraham: sidebar opens, first has #jsrepl-scrip

[10:31:27.0000] <SimonSapin>
annevk: per getaddrinfo?

[10:31:33.0000] <jgraham>
/me cries

[10:31:50.0000] <annevk>
SimonSapin: yes

[10:31:51.0000] <jgraham>
When I open it I get some CDN version of ace.js

[10:32:10.0000] <jgraham>
Which interferes with the version of ace.js that's packaged in the app.js (or something)

[10:32:15.0000] <jgraham>
and the whole thing breaks

[10:32:26.0000] <annevk>
jgraham: the internet hates you

[10:32:37.0000] <jgraham>
But I am super-confused about what's inserting the CDN content

[10:32:43.0000] <jgraham>
I never see it in Chrome

[10:32:52.0000] <jgraham>
And sometimes don't in Gecko

[10:33:02.0000] <jgraham>
And it comes before any other scripts

[10:34:12.0000] <SimonSapin>
annevk: that string also takes service names like "http", I don’t know if it’s used that much in practice. It least the Rust API takes a 16-bit integer http://doc.rust-lang.org/std/io/net/tcp/struct.TcpStream.html#method.connect

[10:34:19.0000] <annevk>
SimonSapin: did you raise this question on StackOverflow btw?

[10:34:28.0000] <SimonSapin>
which question?

[10:34:36.0000] <annevk>
SimonSapin: the IPv4 thing

[10:34:46.0000] <SimonSapin>
I did not

[10:34:54.0000] <annevk>
SimonSapin: what's the rust library built on top of though?

[10:35:17.0000] <SimonSapin>
lots of things, what part do you mean? DNS lookups?

[10:35:21.0000] <annevk>
SimonSapin: seems the Rust library doesn't have clean separation either

[10:35:30.0000] <SimonSapin>
separation of what?

[10:35:38.0000] <annevk>
SimonSapin: domain names and IP addresses

[10:36:59.0000] <SimonSapin>
right

[10:37:50.0000] <SimonSapin>
I checked a while ago, IIRC it goes through a couple layers of abstraction, including IPv4 and IPv6 parsing written in Rust, and eventually calls getaddrinfo (which also does IPv4 and IPv6 parsing)

[10:39:02.0000] <annevk>
how efficient

[10:41:50.0000] <SimonSapin>
I often don’t know what I’m doing… but sometimes I feel like nobody else does either :)

[10:44:00.0000] <annevk>
SimonSapin: well it seems pretty clear here :p

[10:52:39.0000] <SimonSapin>
annevk: so apparently PostgreSQL uses percent-encoded filenames in the "host" of an URL for Unix sockets, but the URL standard blacklists / in domains https://github.com/servo/rust-url/issues/26

[10:56:06.0000] <annevk>
SimonSapin: why would postgres parse per relative scheme rules?

[10:58:11.0000] <annevk>
SimonSapin: oh, you're parsing the domain I guess, hmm

[10:58:29.0000] <annevk>
SimonSapin: no never mind that second remark

[12:33:27.0000] <SimonSapin>
annevk: they want to split into user, password, host, port number, and path

[12:34:02.0000] <SimonSapin>
but instead of TCP sockets you can also use Unix sockets, in which case you have a filename instead of host/port

[12:34:25.0000] <SimonSapin>
so they percent-encode the filename as the "host"


2014-10-15
[23:30:08.0000] <annevk>
MikeSmith: but that symlink will be created in environments where there is Python 2, no?

[23:30:27.0000] <annevk>
What's this brevity bug? :-)

[23:31:32.0000] <MikeSmith>
annevk: dunno how it works but I have no /usr/bin/python2 on my OS X machine

[23:31:46.0000] <MikeSmith>
annevk: the last bug there I think

[23:32:02.0000] <MikeSmith>
oh no I guess one of the others

[23:32:22.0000] <MikeSmith>
annevk: https://www.w3.org/Bugs/Public/show_bug.cgi?id=12837#c10 I guess

[23:32:33.0000] <MikeSmith>
> I'm confused as to what you want me to do here. Can you elaborate?

[23:33:36.0000] <annevk>
Hmm, comment 0 and comment 1 seem pretty elaborate

[23:45:32.0000] <MikeSmith>
it seems #!/usr/bin/env python2.7 is probably what I should use

[00:15:52.0000] <annevk>
Hixie: are you still getting errors when trying to tweet?

[01:25:12.0000] <mathiasbynens>
annevk: to patch Poodlebleed, add `SSLProtocol All -SSLv2 -SSLv3` to your Apache config

[01:25:42.0000] <annevk>
mathiasbynens: I don't have control over that

[01:27:17.0000] <hsivonen>
annevk: maybe you could convince dreamhost not to care about IE6 whose admin can't be bothered to check the TLS 1.0 checkbox anymore

[01:27:24.0000] <annevk>
mathiasbynens: however, with SNI being required, it doesn't seem like connecting over SSLv3 will work

[01:27:42.0000] <hsivonen>
annevk: that's an even better point to make to dreamhost

[01:28:01.0000] <annevk>
hsivonen: yeah I guess I could at least ask

[01:28:13.0000] <hsivonen>
(although I suppose it also means it's not actually a security risk)

[01:28:37.0000] <annevk>
Yeah, unless they support SNI over SSLv3 but I doubt that's actually possible

[01:29:41.0000] <hsivonen>
even China isn't orange anymore on this map: https://www.modern.ie/en-us/ie6countdown

[01:30:36.0000] <hsivonen>
I wonder why Ireland and Estonia are "unknown" on that map

[01:36:33.0000] <annevk>
Interesting how this poses problem for Mozilla's servers as we still want to serve Firefox downloads to IE6

[01:37:29.0000] <ondras>
dpes the poodle affect you in this particular scenario?

[01:37:34.0000] <ondras>
*does

[01:37:50.0000] <ondras>
I mean, who cares about secure cookies when downloading firefox from ie6?

[01:44:36.0000] <annevk>
ondras: yeah, the argument is that integrity is not affected, indeed

[01:44:48.0000] <annevk>
ondras: it's still not ideal of course

[01:45:05.0000] <annevk>
hmm, ssllabs.com is down, how convenient

[01:46:14.0000] <hsivonen>
ondras: the main problem is that people who look at mozilla.org to mimic the config assuming it's the best practice may not realize that the servers on the path to Firefox download are a special case, because they need to work with legacy browsers that are used to download Firefox

[01:48:35.0000] <annevk>
I recently learned we have https://wiki.mozilla.org/Security/Server_Side_TLS though it should really be on MDN

[01:49:06.0000] <ondras>
hsivonen: okay; perhaps the exception (allowing ssl3) can be added just for the download domain(s) ?

[01:50:42.0000] <hsivonen>
ondras: see the three levels on the page annevk mentioned above

[01:52:13.0000] <ondras>
just looking at them

[01:52:50.0000] <ondras>
well I would just turn sslv3 off, enabled that on download domains and note the real reason in the relevant config file

[01:52:59.0000] <ondras>
*noted

[01:56:26.0000] <mathiasbynens>
annevk: I use SNI and my server supported SSLv3 (i.e. `openssl s_client -connect mths.be:443 -ssl3` worked until I patched it this morning)

[01:57:10.0000] <hsivonen>
/me disabled SSLv3 before it was cool

[01:57:19.0000] <annevk>
mathiasbynens: can you connect like that to whatwg.org or annevankesteren.nl?

[01:57:23.0000] <mathiasbynens>
the h in hsivonen stands for hipster

[01:57:40.0000] <mathiasbynens>
annevk: yep, both

[02:08:27.0000] <annevk>
mathiasbynens: I wonder how that works then

[02:09:44.0000] <annevk>
mathiasbynens: when I run that line for annevankesteren.nl I get a certificate from sni.dreamhost.com

[02:09:52.0000] <annevk>
mathiasbynens: which is clearly bogus

[02:10:57.0000] <mathiasbynens>
same for whatwg.org

[02:11:06.0000] <annevk>
mathiasbynens: so then it doesn't actually work

[02:11:37.0000] <mathiasbynens>
well, it should still be disabled, but I appreciate that’s a Dreamhost TODO

[02:12:32.0000] <annevk>
No disagreement there, but that you cannot use SSLv3 to connect to an SNI domain seems like enough of a safeguard

[02:13:18.0000] <annevk>
mathiasbynens: did you disable TLS 1.0 as well?

[02:14:56.0000] <mathiasbynens>
annevk: no, should I?

[02:15:12.0000] <annevk>
mathiasbynens: https://wiki.mozilla.org/Security/Server_Side_TLS#Modern_compatibility

[02:16:06.0000] <mathiasbynens>
ah, right, my current server hardware is too old to support TLS 1.2 for some reason, will migrate to a better one soon

[02:19:37.0000] <annevk>
oh

[02:26:08.0000] <hsivonen>
I wonder if the EME bugs twirl filed are on his own behalf or on behalf of the TAG

[02:28:16.0000] <annevk>
That the distinction still matters is sad

[02:28:53.0000] <annevk>
But a lot of WGs appreciate arguments from authority :-(

[02:29:57.0000] <annevk>
Maybe that's badly phrased. They seem to prefer reasonable arguments from a recognized authority over the same arguments from an unrecognized authority

[02:30:12.0000] <zcorpan_>
is it OK that https://www.w3.org/Bugs/Public/show_bug.cgi?id=24691 is a UA-defined timeout?

[02:30:27.0000] <hsivonen>
I'm mainly curious if those bugs reflect the thinking of TAG members more broadly

[02:30:57.0000] <hsivonen>
the bug about presenting the license to the user doesn't make much sense for the use cases driving EME

[02:31:36.0000] <hsivonen>
the bug about platform segmentation is pretty much a generic anti-DRM bug

[02:31:59.0000] <annevk>
hsivonen: I would expect anything outside https://github.com/w3ctag/spec-reviews/blob/master/2014/10/eme.md to be twirl personally

[02:32:15.0000] <annevk>
zcorpan_: prolly not okay long term, but for now it might be fine

[02:32:54.0000] <hsivonen>
annevk: OK, looks like the TAG is opposed to the fundamental premise of EME then

[02:33:09.0000] <annevk>
zcorpan_: I suspect you wouldn't want to kill the SharedWorker before the task where load is dispatched is run in the new environment

[02:34:13.0000] <zcorpan_>
annevk: what about if the new document navigates before that?

[02:35:10.0000] <annevk>
zcorpan_: keep it alive? until cross-origin of course

[02:36:45.0000] <zcorpan_>
hmm. then i guess UA-defined is ok

[02:41:19.0000] <hsivonen>
so the TAG basically wants standardized royalty-free DRM

[02:41:34.0000] <hsivonen>
when even the codec the DRM-using services want to use isn't RF (H.264)

[02:55:03.0000] <foolip>
hsivonen, annevk, where can I read the latest about TAG vs. EME?

[02:55:36.0000] <darobin>
hsivonen: while there I'd have thrown in a pony — you never know

[02:56:08.0000] <darobin>
foolip: some pointers http://lists.w3.org/Archives/Public/www-tag/2014Oct/0066.html

[02:56:34.0000] <hsivonen>
foolip: I was reading https://github.com/w3ctag/spec-reviews/blob/master/2014/10/eme.md which annevk pasted

[03:03:20.0000] <wilhelm>
I'm wondering how font sizes are most commonly specified on the web (em, px, %). Do any browser vendors have data on that?

[03:04:14.0000] <MikeSmith>
w3cmemebot, please process http://lists.w3.org/Archives/Public/public-media-capture/2014Oct/0181.html

[03:04:26.0000] <wilhelm>
Or a corpus that can be grepped for 'font-size'.

[03:09:57.0000] <zcorpan_>
wilhelm: simons-mbp:webdevdata.org-2013-09-01-201332 zcorpan$ find . -type f -print0 | xargs -0 -P 4 -n 40 grep -Eio "font-size\s*:\s*[a-z0-9.%-]+" >> ../font-size.txt

[03:11:36.0000] <wilhelm>
Ahh, I didn't know about that corpus. Thank you very much!

[03:12:13.0000] <zcorpan_>
it doesn't include external css but might be good enough anyway

[03:21:19.0000] <zcorpan_>
wilhelm: total font-sizes: 889057. px: 552165. em: 30154. %: 39637. keyword: 120. inherit: 679. unitless: 22

[03:22:09.0000] <zcorpan_>
wilhelm: rem: 537

[03:22:38.0000] <zcorpan_>
wilhelm: pt: 199834

[03:23:21.0000] <zcorpan_>
wilhelm: (vw|vh|vmin|vmax): 0

[03:25:40.0000] <zcorpan_>
other units are also ~0

[03:28:16.0000] <smaug____>
annevk: what is utterly broken?

[03:28:23.0000] <smaug____>
in D3E/default action

[03:28:29.0000] <smaug____>
it does explicitly say that click is special

[03:29:55.0000] <annevk>
smaug____: the whole isTrusted thing

[03:31:00.0000] <smaug____>
I'm missing something

[03:34:19.0000] <wilhelm>
zcorpan_: Wonderful! Thank you.

[03:34:36.0000] <zcorpan_>
wilhelm: np

[03:39:23.0000] <wilhelm>
zcorpan_: Is there any plan to make external styles and scripts part of the corpus, or is that deemed out of scope?

[03:40:32.0000] <MikeSmith>
in kenji's serviceworker comments what is MVP

[03:40:51.0000] <annevk>
smaug____: it doesn't actually define anything

[03:41:05.0000] <annevk>
MikeSmith: minimal viable product

[03:42:33.0000] <MikeSmith>
annevk: is that some google term or do other browser projects use it?

[03:43:18.0000] <wilhelm>
MikeSmith: It's a Silicon Valley startup term.

[03:43:22.0000] <annevk>
MikeSmith: I hadn't seen it in use before, but http://en.wikipedia.org/wiki/Minimum_viable_product

[03:44:53.0000] <darobin>
it's not just Valley-talk, it's actually a reasonably useful notion

[03:50:34.0000] <wilhelm>
zcorpan_: These numbers are remarkably interesting. pt is surprisingly common (22%), and % (4.5%) is more popular than em (3.4%).

[03:51:46.0000] <darobin>
that strikes me as weird

[03:52:16.0000] <darobin>
I mean, there's so much outreach info about using em out there...

[03:52:40.0000] <wilhelm>
You mean em is surprisingly low?

[03:52:42.0000] <darobin>
I reckon just looking at HTML is probably skewing the results

[03:52:44.0000] <darobin>
yes

[03:52:49.0000] <annevk>
darobin: gives you an idea of the reach of the outreach

[03:52:56.0000] <darobin>
plus, who the fuck uses pt?

[03:53:13.0000] <annevk>
darobin: DTP?

[03:53:26.0000] <wilhelm>
I didn't expect it to be any higher. The only surprise here is pt.

[03:53:54.0000] <MikeSmith>
MVT Minimum viable team http://en.wikipedia.org/wiki/Minimum_viable_product#Minimum_viable_team I like that notion a lot better

[03:54:01.0000] <darobin>
annevk: just including frameworks should change those numbers

[03:54:06.0000] <darobin>
DTP?

[03:54:15.0000] <wilhelm>
Desktop publishing.

[03:54:18.0000] <darobin>
oh

[03:54:29.0000] <darobin>
I'd be surprised it had this much of an impact, really

[03:55:10.0000] <darobin>
I strongly suspect that relying on HTML only will heavily skew results towards sites that make massive use of the style attribute

[03:55:20.0000] <darobin>
and those aren't representative

[03:55:38.0000] <darobin>
it likely skews towards newsletters copied to the Web

[03:55:48.0000] <darobin>
which are all sorts of wrong

[03:56:14.0000] <wilhelm>
Indeed. We'll need the external stylesheets to draw clear conclusions.

[03:57:26.0000] <wilhelm>
Context: I'm writing an article making the case that it doesn't matter what CSS unit you prefer. Use whatever you want.

[03:59:02.0000] <jgraham>
It's nice to know that the web-dev wirld can still be dtriven to turmoil by subjects as weighty as the optimum choice of units

[04:00:46.0000] <wilhelm>
Elaborate techniques are developed to appease the CSS unit deities.

[04:02:41.0000] <wilhelm>
Resulting in wonderful stylesheets with 1.42857143em line-heights, 0.0625rem borders and 41.66666667% wide columns.

[04:04:46.0000] <darobin>
wilhelm: isn't the only traditional consideration interaction with text zoom?

[04:04:59.0000] <wilhelm>
Yes.

[04:07:08.0000] <wilhelm>
And then added argument that "if everything is based on ems, your site will magically resize if you enlarge the text".

[04:07:19.0000] <darobin>
yeah, that doesn't work

[04:07:27.0000] <wilhelm>
In other words, you've just spent two man-days replicating page zoom.

[04:07:27.0000] <darobin>
plus, you don't want that for all graphical items

[04:07:55.0000] <darobin>
the best approach is a mix of both IMHO

[04:08:44.0000] <wilhelm>
Rummaging through old discussions, I found this gem: http://lists.w3.org/Archives/Public/www-style/1995Dec/0004.html

[04:08:52.0000] <wilhelm>
There was a magnification property in an early CSS draft.

[04:09:05.0000] <wilhelm>
Which would scale up everything. Text, images.

[04:09:28.0000] <darobin>
heh

[04:09:32.0000] <darobin>
old stuff is golden

[04:09:59.0000] <wilhelm>
This seems to be the first coherent argument in favour of ems, too: http://lists.w3.org/Archives/Public/www-style/1997Nov/0078.html

[04:10:02.0000] <darobin>
HTML 2 had urn="" as an attribute to links, and HTML 3.0 had md="" to do resource integrity checks :)

[04:11:59.0000] <wilhelm>
My personal opinion is this: CSS pixels are great. Use them. Text zoom can safely be killed, now that web sites have sensible breakpoints with different styles for different viewport widths.

[04:12:17.0000] <darobin>
that's an interesting take

[04:12:18.0000] <wilhelm>
"Small screen" and "400% zoom" are two sides of the same coin.

[04:12:28.0000] <darobin>
but....

[04:12:36.0000] <darobin>
"now that web sites have sensible breakpoints with different styles for different viewport widths" *cough*

[04:13:00.0000] <darobin>
too many still don't

[04:13:33.0000] <wilhelm>
Don't they? Do anyone actually build web pages today that don't look okay on small screens?

[04:13:46.0000] <wilhelm>
Legacy sites are a different story, of course.

[04:14:56.0000] <darobin>
people still do yes

[04:15:00.0000] <darobin>
hopefully fewer and fewer

[04:15:11.0000] <darobin>
that said, I guess the people who don't also don't read your advice :)

[04:15:36.0000] <wilhelm>
Nor the advice to use ems for everything, because accessibility.

[04:16:20.0000] <darobin>
in fact, I wonder if they read anything

[04:16:55.0000] <jgraham>
wilhelm: You don't use the web on a small screen device, I see

[04:18:48.0000] <wilhelm>
This is the crux of my argument. Authors didn't care about best practices. So browsers needed to make things work anyway. Hence text zoom is hidden away, in favour of the full page zoom.

[04:19:32.0000] <wilhelm>
Thanks to shiny new devices, not advocacy, authors care about small screens now. That gives us accessibility for free. Accidently.

[04:20:52.0000] <wilhelm>
jgraham: I do. And most new content works fine on small screens.

[04:21:51.0000] <zcorpan_>
wilhelm: how do you know it works fine because the site uses sensible breakpoints vs uses UA sniffing or so?

[04:22:49.0000] <wilhelm>
zcorpan_: Valid point. My evidence is anecdotal.

[04:26:01.0000] <wilhelm>
More research is needed here. But that doesn't change my suggested best practice. (c:

[04:31:14.0000] <wilhelm>
I do wonder how we ended up with text zoom instead of magnification. Time to find some ancient browsers.

[04:38:16.0000] <darobin>
wilhelm: in a world in which everyone is doing fixed layout, you want text zoom

[04:38:58.0000] <wilhelm>
darobin: As in, one stylesheet, assuming a 1024px wide monitor?

[04:39:13.0000] <darobin>
wilhelm: yes

[04:39:23.0000] <darobin>
which was the norm until not that very long ago

[04:39:36.0000] <darobin>
I'm sure quite a few people still do that

[04:39:55.0000] <darobin>
also: table layouts

[04:40:29.0000] <wilhelm>
It doesn't work very well in practice, though. Merely increasing the font size without changing the containing blocks tends to break things.

[04:40:54.0000] <wilhelm>
The authors who don't read best practices isn't going to test for that.

[04:45:11.0000] <wilhelm>
You can make it work by making the size of the containing block depend on the font size. But then you've just reimplemented page zoom.

[04:46:27.0000] <darobin>
wilhelm: those layouts typically scaled vertically relatively okay; but yes — I'm not defending that as an approach, just pointing out the mechanics that led there

[04:51:43.0000] <MikeSmith>
annevk: so the CH-Context: serviceworker thing didn't go in right?

[04:51:49.0000] <MikeSmith>
*, right?

[04:52:01.0000] <wilhelm>
Yes. Also, until IE7, text zoom was blocked on any page with font size defined in px. There were plenty of good reasons for the best practices back then.

[04:52:33.0000] <annevk>
MikeSmith: https://github.com/slightlyoff/ServiceWorker/commit/9445ff71ee97be11716c3d93a51e29da2b213678 seems suspicious

[04:52:50.0000] <MikeSmith>
yeah that's what I was just looking at

[05:00:28.0000] <wilhelm>
I'm really impressed by Microsoft. These old browsers still run on their latest operating system.

[05:01:50.0000] <jgraham>
/me assigns wilhelm to review all their pending test submissions

[05:02:14.0000] <wilhelm>
/me runs away.

[05:08:02.0000] <ato>
There are about 5 kloc of WebDriver tests needing review if you have the time.

[05:09:03.0000] <MikeSmith>
win 18

[05:12:05.0000] <Manishearth>
annevk: Any update on the XHR request termination bug I filed?

[05:12:41.0000] <annevk>
Manishearth: not yet, sorry

[05:12:53.0000] <Manishearth>
np, just checking that you had gotten pinged ;P

[05:12:54.0000] <annevk>
Manishearth: are you blocked on it?

[05:13:22.0000] <Manishearth>
annevk: Not really. mukilan has an unfinished fix for it that he can't push until we figure out how it should actually work

[05:14:05.0000] <annevk>
Manishearth: okay, will try to get to it today; XHR has a couple of other outstanding bugs that would be good to finally fix

[05:14:54.0000] <Manishearth>
annevk: thanks! :D

[05:21:18.0000] <wilhelm>
Text zoom seems to have been in Internet Explorer since version 1, predating their CSS implementation.

[05:23:37.0000] <wilhelm>
cwilso: Can you recall if the CSS 'magnification' property was ever disussed at Microsoft back in 1995? It's in a CSS draft that autumn, and then disappears.

[05:36:54.0000] <annevk>
wilhelm: was it renamed to 'zoom'?

[05:39:45.0000] <wilhelm>
/me blinks.

[05:39:57.0000] <wilhelm>
I didn't know about that one. Seems to have been implemented in IE5.5.

[05:40:41.0000] <annevk>
Manishearth: https://www.w3.org/Bugs/Public/show_bug.cgi?id=27033#c2

[05:41:31.0000] <darobin>
wilhelm: the zoom property is essentially used as a workaround for some IE bugs (I forget which, old stuff)

[05:42:07.0000] <wilhelm>
darobin: Indeed, I see scattered references to it.

[05:42:21.0000] <jgraham>
That's not really the *point* of it though :)

[05:42:26.0000] <darobin>
wilhelm: you'll find it used in frameworks and such; possibly reset style sheets

[05:42:36.0000] <darobin>
anything that basically papers over issues for you

[05:42:52.0000] <darobin>
jgraham: from a webdev pov it pretty much is :)

[05:43:15.0000] <darobin>
ah, yes, makes display: inline-block work right

[05:43:22.0000] <Ms2ger>
hasLayout, eh

[05:43:38.0000] <darobin>
/me doesn't even want to know how that was implemented in such a way that this has an impact

[05:45:40.0000] <tobie>
zoom: 1 actually triggers box layout on IE

[05:47:23.0000] <tobie>
for ref: http://www.satzansatz.de/cssd/onhavinglayout.html

[05:47:41.0000] <zcorpan_>
Hixie: why does <script> and <style> say that unknown MIME type parameters in type="" means unsupported? https://www.w3.org/Bugs/Public/show_bug.cgi?id=27057

[05:47:53.0000] <darobin>
ah, sad sad memories flowing back in :)

[05:48:24.0000] <zcorpan_>
zoom:1

[05:48:53.0000] <zcorpan_>
used a bit back in the day :-)

[05:49:23.0000] <wilhelm>
So IE did have the basis for a built-in full page zoom by year 2000, but didn't expose any such feature until IE7.

[05:50:21.0000] <tobie>
wilhelm: I don't recall that was the problem with IE < 7

[05:50:44.0000] <MikeSmith>
"being defined by guess-the-spec-text-we-should-have-and-see-what-sticks"

[05:50:50.0000] <tobie>
wilhelm: wasn't the issue just that IE didn't have proper text zoom when using pixel-based fonts?

[05:51:16.0000] <wilhelm>
tobie: IE wouldn't resize fonts set in px.

[05:51:21.0000] <tobie>
right

[05:52:14.0000] <wilhelm>
Browsers have slowly hidden away the text zoom in favour of the full-page zoom. Opera in 1996, IE i 2006, Firefox in 2007, Safari in 2008.

[05:52:21.0000] <wilhelm>
I'm trying to wrap my head around the history here. (c:

[05:52:53.0000] <zcorpan_>
i think old ie also had a bug with font-size set in em. text zoom would multiply the ems in the ancestor chain, or some such. % worked correctly

[05:52:58.0000] <tobie>
wilhelm: don't do that to yourself

[05:53:10.0000] <zcorpan_>
might explain why % is high for font-size

[05:54:01.0000] <wilhelm>
zcorpan_: Ah, indeed. IE3 would also treat "3em" as "3px". There were plenty of issues. NS4 had its own stack of them.

[05:54:38.0000] <zcorpan_>
wilhelm: *that's* before my time

[05:54:47.0000] <wilhelm>
:D

[05:55:08.0000] <darobin>
please don't mention NS4

[05:55:13.0000] <darobin>
I *still* cringe

[05:55:25.0000] <zcorpan_>
darobin: NS4 NS4 NS4 NS4

[05:55:30.0000] <darobin>
GAAAAAAH

[05:55:38.0000] <darobin>
GAAAAAAaaaaaaaaaaaaaaaAAAAAAAAAAAAAAAAAAAAAAAaaaaaaaaaaaaaaAAH

[05:55:48.0000] <annevk>
NN4?

[05:55:51.0000] <darobin>
IIRC IE3 would treat 3whatever as 3px

[05:55:58.0000] <darobin>
/me cries

[05:55:59.0000] <wilhelm>
I'll make a t-shirt for you by TPAC. With NS4 on it.

[05:56:10.0000] <darobin>
/me sobs louder and louder

[05:56:18.0000] <darobin>
you.... you wouldn't joke like that if you'd been there

[05:56:43.0000] <wilhelm>
I was there. Jokes make it hurt less.

[05:56:53.0000] <darobin>
<LAYER>

[05:58:47.0000] <wilhelm>
tobie: Since I'm back to building web stuff instead of browsers, I encounter large amounts of cargo cult best practices every day. This archeology has a purpose!

[06:00:03.0000] <tobie>
wilhelm: do you actually mean you're DOGFOODING WEB TECH!??!!?

[06:00:50.0000] <jgraham>
Well not really

[06:01:04.0000] <jgraham>
It's only dogfood if you're also involved in building it

[06:01:19.0000] <jgraham>
Otherwise it's just eating someone else's crap

[06:01:40.0000] <wilhelm>
Hey, web development today is fantastic.

[06:02:11.0000] <zcorpan_>
pop quiz: how many tags were there in "HTML Tags"?

[06:02:29.0000] <zcorpan_>
(the thing from 1991)

[06:04:39.0000] <wilhelm>
"Few".

[06:04:53.0000] <zcorpan_>
i want a number :-)

[06:06:50.0000] <darobin>
mmmm

[06:06:53.0000] <darobin>
12?

[06:06:59.0000] <darobin>
(complete guess)

[06:07:12.0000] <jgraham>
zcorpan_: As far as I can tell from reading it "infinity"

[06:07:54.0000] <jgraham>
Although it's a bit vauge

[06:07:56.0000] <zcorpan_>
jgraham: not counting NOT CURRENTLY USED things. also reading it is cheating

[06:08:10.0000] <wilhelm>
/me cheated.

[06:08:33.0000] <jgraham>
zcorpan_: Oh, well if you're going to introduce arbitary rules :)

[06:08:53.0000] <zcorpan_>
correct is 21

[06:09:02.0000] <darobin>
it's refreshing to see that the second is "Not good SGML" already

[06:09:44.0000] <tobie>
jgraham: I'm reassured. I thought someone was actively dogfooding this, thus refuting my claim that no one ever does.

[06:09:59.0000] <jgraham>
The second is actually marked "obsolete"

[06:10:11.0000] <zcorpan_>
this was a question on a teambuilding at opera. iirc i was off by 1 by trying to remember and count the tags :-)

[06:10:20.0000] <jgraham>
I'm not sure if that qualifies under zcorpan_'s underspecified rules of entry

[06:10:25.0000] <wilhelm>
21, plus some crazy <hp1> tags? What were those?

[06:11:32.0000] <jgraham>
So I count 20

[06:11:52.0000] <darobin>
wilhelm: the ancestors of <b>, <i>, etc

[06:11:58.0000] <jgraham>
Did I miscount or are obsolete tags included, but not currently used tags aren't?

[06:12:06.0000] <darobin>
wilhelm: see http://info.cern.ch/hypertext/WWW/MarkUp/Future.html

[06:12:16.0000] <zcorpan_>
i included nextid when counting

[06:12:37.0000] <jgraham>
(I think it's more interesting that there are, depending on how you read it, an infinite number)

[06:13:02.0000] <darobin>
<HP19879879>this matters</>

[06:13:50.0000] <annevk>
Does each event loop have a networking task source?

[06:13:55.0000] <wilhelm>
Aw, the "Bad HTML" chapter is such a nice peek into the future.

[06:14:00.0000] <annevk>
It's still not clear to me how exactly those things interact

[06:14:02.0000] <annevk>
Anyone?

[06:17:08.0000] <zcorpan_>
annevk: an event loop is either owned by a browsing context or a worker, and both of those can queue thing on the networking task source. afaict

[06:17:58.0000] <annevk>
zcorpan_: wouldn't I have an event loop and then queue a task on its networking task source?

[06:18:56.0000] <zcorpan_>
annevk: i don't really follow the question

[06:19:47.0000] <annevk>
zcorpan_: say Fetch is passed in an event loop to queue tasks on, Fetch wants these tasks to belong to the networking task source obviously, how does it come together?

[06:20:26.0000] <cwilso>
Wilhelm: no, magnification was not seriously discussed in Microsoft IE in 1995. (I was the only one working on CSS in '95).  Zoom was the first MS adventure in that direction, as darobin said.

[06:21:19.0000] <MikeSmith>
"Can you please stop trying to guess spec text and explain what behavior you're after and why?"

[06:21:49.0000] <Ms2ger>
MikeSmith, context?

[06:21:52.0000] <zcorpan_>
annevk: i still don't follow :-(

[06:22:00.0000] <MikeSmith>
not a thing you'd expect to be having to say to a spec writer

[06:22:32.0000] <MikeSmith>
Ms2ger: looking back at https://github.com/slightlyoff/ServiceWorker/issues/356

[06:22:50.0000] <MikeSmith>
comment https://github.com/slightlyoff/ServiceWorker/issues/356#issuecomment-48703488 from bz

[06:22:56.0000] <wilhelm>
cwilso: Thanks!

[06:23:43.0000] <wilhelm>
cwilso: Was there any particular rationale behind the "don't resize fonts set in px" bug/feature back then?

[06:23:48.0000] <annevk>
zcorpan_: as you said, an event loop belongs to a document or worker environment

[06:23:53.0000] <annevk>
zcorpan_: Fetch belongs to neither

[06:24:02.0000] <annevk>
zcorpan_: so Fetch is passed an event loop it can queue tasks on

[06:24:09.0000] <zcorpan_>
annevk: ah. ok.

[06:25:02.0000] <annevk>
zcorpan_: perhaps "queue a task to X on Y's event loop using the networking task source"

[06:25:03.0000] <MikeSmith>
Ms2ger: "Uh.. no. URLs of documents are immutable (modulo document.open). Performing a navigation creates a new document!" etc

[06:25:17.0000] <Ms2ger>
/me mumbles

[06:25:46.0000] <annevk>
MikeSmith: I thought that changed with pushState()

[06:25:50.0000] <annevk>
MikeSmith: hmm

[06:26:10.0000] <zcorpan_>
annevk: and then we have ping="" that needs to outlive the browsing context

[06:26:30.0000] <zcorpan_>
along with sendBeacon and maybe <img>

[06:28:04.0000] <zcorpan_>
annevk: but yeah if you have a reference to the right browsing context or worker just use its event loop

[06:28:19.0000] <annevk>
zcorpan_: the question was what language to use

[06:29:21.0000] <annevk>
zcorpan_: not entirely clear how sendBeacon and ping="" would work I guess

[06:29:40.0000] <annevk>
zcorpan_: perhaps in that case no tasks will be queued

[06:29:54.0000] <annevk>
zcorpan_: and for all other cases we rely on the document to terminate existing fetches

[06:33:21.0000] <zcorpan_>
annevk: <img> shouldn't be terminated, at least not when it's created in onunload/onbeforeunload or so. iirc

[06:33:47.0000] <zcorpan_>
poor man's sendBeacon

[06:36:26.0000] <mathiasbynens>
“With SSLv3 on its way out the door, we need to stop calling it SSL and start saying TLS #poodle” – https://twitter.com/webtonull/status/522379727840223232

[06:41:12.0000] <annevk>
mathiasbynens: already started doing that \o/

[06:52:59.0000] <darobin>
I'd never noticed that HTML 4.01 had shipped on Christmas Eve

[07:03:59.0000] <annevk>
Ooh, Chromium has shipped the Encoding API

[07:04:03.0000] <annevk>
nice

[07:17:07.0000] <zcorpan_>
Hixie: caniuse now uses whatwg urls for html stuff (but not workers/websockets i think)

[07:30:43.0000] <mathiasbynens>
holy shit, facebook.com disabled SSLv3

[07:31:42.0000] <mathiasbynens>
/me wonders what their IE6 stats looked like until now

[07:48:17.0000] <annevk>
mathiasbynens: there's no indication they enable/disable SSLv3 conditionally? Or redirect IE6 users?

[07:53:06.0000] <cwilso>
wilhelm: Yes.  We didn't want to zoom all sizes - because remember, most screens were 72-96dpi at the time - so resizing an image by 13% would be ugly (we also couldn't afford interpolation at the time).  And once you set a font size in px, you were probably aligning it carefully with other elements on the page - also set in px.

[07:53:50.0000] <cwilso>
wilhelm: In retrospect, not the best choice.  But even in 2004, during IE7, I had a serious argument about how zooming should work with the developer.

[07:55:00.0000] <wilhelm>
cwilso: This is very interesting. What were the positions in the argument?

[08:06:55.0000] <mathiasbynens>
annevk: how would you disable SSLv3 conditionally? I’m testing this with a raw `nmap` command

[08:07:22.0000] <mathiasbynens>
annevk: also tested in IE6 and all you get is an IE error page

[08:12:24.0000] <wilhelm>
mathiasbynens: I'm hoping TLS will be the last nail in the coffin for the most ancient browsers. We recently blocked out all users of IE on XP on a major project. In my own locale, the last holdouts are the hospitals.

[08:14:38.0000] <wilhelm>
MikeSmith: Which reminds me, validator.w3.org doesn't like our TLS version either. validator.nu seems fine.

[08:14:48.0000] <wilhelm>
MikeSmith: http://validator.w3.org/check?uri=https%3A%2F%2Fsnl.no

[08:27:37.0000] <Domenic>
zcorpan: nice on the caniuse

[08:33:11.0000] <annevk>
mathiasbynens: not sure, depends on what's in the TLS handshake I guess, haven't really looked into that

[08:45:31.0000] <MikeSmith>
wilhelm: use http://validator.w3.org/nu/ instead of http://validator.w3.org/

[09:05:55.0000] <cwilso>
wilhelm: Essentially, I was arguing zooming should work like it does today in Chrome - it zooms all sizes, but the viewport's apparent size decreases.

[09:06:16.0000] <cwilso>
wilhelm: the developer was arguing for a "layout zoom" - where you keep the layout static, and you always get scrollbars.

[09:08:01.0000] <wilhelm>
cwilso: Yes, indeed. Coupled with some good media queries, I believe that gives the optimal experience today.

[09:11:30.0000] <wilhelm>
Works the same way in IE11 now, at least.

[09:12:54.0000] <wilhelm>
cwilso: Was the new (IE7) zoom thought of as a replacement of the old text size controls, or something in addition to them?

[09:13:49.0000] <cwilso>
wilhelm: yeah, I eventually won the argument (in IE8, maybe).  It was originally in addition to them.  We finally got rid of the size changes, I think.

[09:16:43.0000] <wilhelm>
cwilso: Thanks again for your answers! I'm trying to understand the history of font sizes in browsers, and this has been very helpful.

[09:17:04.0000] <cwilso>
wilhem: np.

[09:40:21.0000] <Hixie>
zcorpan: so that ;e4x=1 doesn't get run

[09:40:25.0000] <Hixie>
zcorpan: neat, did you send them a patch?

[09:40:48.0000] <zcorpan>
Hixie: yes

[09:41:53.0000] <Hixie>
neat

[09:48:40.0000] <zcorpan>
Hixie: unknown params get run for http content-type anyway. and gecko that does something with params and has supported e4x ignores params in script type

[09:49:46.0000] <Hixie>
<script> ignores http content-type entirely

[09:50:17.0000] <Hixie>
anyway, if you have a test showing the spec is buggy, file a bug :-)

[09:51:34.0000] <annevk>
<script> doesn't ignore with the header that enforces MIME types

[09:51:41.0000] <annevk>
that header is gaining traction

[09:51:50.0000] <annevk>
unfortunately named as it is

[09:52:07.0000] <Hixie>
oh well i don't spec that at all, so...

[09:52:27.0000] <Hixie>
(nobody's been able to explain to me what it does)

[09:56:57.0000] <annevk>
https://mimesniff.spec.whatwg.org/ makes an attempt

[09:57:03.0000] <annevk>
not sure if accurate

[09:58:01.0000] <Ms2ger>
I wonder if WorkerGlobalScope.clearInterval's argument needs to be optional

[09:58:09.0000] <zcorpan>
Hixie: this area is inconsistent in browsers and I'd like to make it more consistent. i haven't found anything that parses params but doesn't ignore unknown params

[10:00:32.0000] <annevk>
zcorpan: can't we move to an enum for <script type>?

[10:00:41.0000] <annevk>
in fact, I thought it was an enum

[10:01:36.0000] <annevk>
Oh god, I should stop running ssllabs.com on banks

[10:01:39.0000] <annevk>
That's just depressing

[10:01:45.0000] <Domenic>
hahaha

[10:32:04.0000] <Hixie>
zcorpan: yeah. we should probably rework that anyway to add type=module or whatever ends up happening for ES6

[10:32:20.0000] <Hixie>
though now that modules are out of ES6 (?) i'm not sure what the state of that is

[10:34:07.0000] <annevk>
Domenic: you could var ex = new DOMException; ex.name = ...; throw ex

[10:34:24.0000] <annevk>
Hixie: modules are in, loader is out, I think

[10:34:35.0000] <Hixie>
what's a module without a loader?

[10:35:09.0000] <annevk>
I just read the summary of changes, haven't actually looked in detail

[10:37:54.0000] <zcorpan>
annevk: what about canPlayType?

[10:38:23.0000] <annevk>
zcorpan: I don't think all "MIME type" situations need identical solutions

[10:39:03.0000] <annevk>
zcorpan: that is, either full MIME type parse, or enum, is my current thinking, with a slight preference to the latter whenever possible

[10:39:03.0000] <zcorpan>
annevk: don't disagree

[10:39:43.0000] <annevk>
https://mimesniff.spec.whatwg.org/ is making an attempt at specifying full MIME type parse, but have not reviewed it

[11:01:56.0000] <Domenic>
annevk: nope, .name is a getter

[11:27:07.0000] <Hixie>
good news everyone!

[11:27:09.0000] <Hixie>
HTML5 is done.

[11:27:11.0000] <Hixie>
http://www.w3.org/blog/2014/10/application-foundations-for-the-open-web-platform/

[11:27:32.0000] <Hixie>
guess i can mark the 223 open bugs as WORKSFORME

[11:27:49.0000] <Hixie>
and i guess i should revert all the changes i made in the last few months that the w3c hasn't picked up yet

[11:28:27.0000] <Sample>
sweet. it's HTML6 from here on out

[11:28:29.0000] <Sample>
=P

[11:29:25.0000] <boogyman>
now, lets just get the marketers to stop using the reference

[11:30:42.0000] <Domenic>
if a spec has a version number you know it's not serious

[11:31:28.0000] <terinjokes>
Domenic: this is why the Sticker Constructor Spec has a draft number: https://github.com/terinjokes/StickerConstructorSpec/releases/tag/draft-0 ;)

[11:36:18.0000] <wilhelm>
Hixie: Congratulations! How did you manage to finish it 8 years ahead of schedule?

[11:47:43.0000] <Sample>
"My starting point for this discussion is that, now that HTML5 is done ..." that is quite the statement

[11:52:08.0000] <annevk>
Hixie: BufferSource is defined in IDL

[11:52:21.0000] <Domenic>
... or do you mean SourceBuffer ...

[12:18:16.0000] <Domenic>
I still want some kind of fuzzy-matching search within multipage html

[12:37:43.0000] <MikeSmith>
4:24am JST

[13:37:44.0000] <boogyman>
darobin: stylesheets intended for print media would use pt.

[13:38:16.0000] <terinjokes>
are psuedo elements at the root and on * the same?

[13:48:21.0000] <gsnedders>
hsivonen, MikeSmith: what does a parser need API-wise to be used as a the basis of a conformance checker?

[13:48:26.0000] <Ms2ger>
boogyman, ha. haha.

[13:48:48.0000] <boogyman>
?

[13:48:57.0000] <gsnedders>
BTW, what's the typical viewing distance of printed media?

[13:49:03.0000] <gsnedders>
boogyman: you do know how pt is defined in CSS?

[13:49:48.0000] <boogyman>
I'm sure I did at one point.

[13:50:24.0000] <gsnedders>
Oh, apparently it does allow the physical units to match up with physical measurements still

[13:50:35.0000] <gsnedders>
and recommends that for print and other high-resolution devices

[14:01:30.0000] <TabAtkins>
terinjokes: No.  Pseudo-elements on root are, well, pseudo-elements on root.  On *, they're on all elements.

[14:01:50.0000] <TabAtkins>
Did you mean the difference between `::before` and `*::before`? Those are indeed the same.

[14:02:27.0000] <TabAtkins>
boogyman: pt and px have a fixed ratio, so it doesn't matter what you use.

[14:05:16.0000] <MikeSmith>
gsnedders: a conformance checker basically just needs the parser to, well, expose the parsed document

[14:06:41.0000] <MikeSmith>
gsnedders: beyond that, for use with a conformance checker, it should be an error-reporting parser that does actually report anything that the spec defines as a "parse error"

[14:07:12.0000] <MikeSmith>
gsnedders: as Henri's parser does

[14:08:49.0000] <MikeSmith>
gsnedders: as far as the nature of the API, it doesn't matter what kind of API it is except it ideally should be a streaming API that doesn't require constructing a representation of the entire document and keeping it in memory

[14:10:08.0000] <MikeSmith>
gsnedders: e.g., a SAX API, as the vnu code uses

[14:12:48.0000] <MikeSmith>
gsnedders: so, concretely, if you're working on implementing a document parser I recommend you have it provide a SAX API or some whatever other kind of API that exposes the actual parse events/tokens

[14:24:17.0000] <terinjokes>
TabAtkins: that's what I meant, yes

[14:42:05.0000] <Hixie>
say i have changes to lots of files in my local copy of some remote git repo

[14:42:20.0000] <Hixie>
i want to do the equivalent of "svn up; svn commit foo.txt"

[14:42:51.0000] <Hixie>
am i right that there's just no way to do this anywhere near as easily in git?

[14:43:22.0000] <terinjokes>
Hixie: best I can think of is using git-stash

[14:43:34.0000] <wilhelm>
Unless you have conflicts: git pull; git commit foo.txt

[14:43:49.0000] <wilhelm>
If you expect conflicts, yes, git stash. Then you can resolve those later.

[14:44:20.0000] <Hixie>
stash won't work as far as i can tell because i've already commited all the changes locally

[14:44:31.0000] <TabAtkins>
Oh, then just pull and rebase.

[14:44:33.0000] <TabAtkins>
git pull --rebase

[14:44:44.0000] <Hixie>
it's the push part i'm having trouble with

[14:44:48.0000] <TabAtkins>
That pulls in all the foreign history, and moves your commits to *after* all the foreign commits.

[14:45:10.0000] <TabAtkins>
Then you can push, because your repo will then be consistent and mergeable.

[14:45:45.0000] <Hixie>
if i push then i'll push all the changes

[14:45:49.0000] <Hixie>
i only want to push the changes to foo.txt

[14:46:11.0000] <TabAtkins>
Oh! Never done that before.

[14:46:22.0000] <TabAtkins>
Pretty sure that's a lot more complex, because your history is a bunch of changes to all the files.

[14:46:32.0000] <TabAtkins>
You'd need to do some history rewriting, I think.

[14:46:41.0000] <Hixie>
i hate git so much

[14:46:51.0000] <TabAtkins>
Stop trying to use subversion in git?

[14:46:52.0000] <jgraham>
What? If you committed all the changes why would you expect it to be easy to create a state that you didn't commit?

[14:47:03.0000] <Hixie>
it's trivial in subversion

[14:47:19.0000] <jgraham>
If that's true it seems fundamentally broken

[14:47:21.0000] <TabAtkins>
jgraham: subversion doesn't actually have local history, so there's nothing to rewrite.

[14:47:50.0000] <jgraham>
TabAtkins: Right, so the difference here is "I committed the changes"

[14:47:58.0000] <jgraham>
Which you can't do in subversion

[14:48:00.0000] <Hixie>
"broken" or "easy", whichever you prefer, the point is i can do it easily in subversion and not in git :-P

[14:48:00.0000] <TabAtkins>
Pushing to a remote repo is the moral equivalent of sending a bunch of patch files.

[14:48:03.0000] <TabAtkins>
Yeah.

[14:48:23.0000] <Hixie>
"svn up" is also easier in svn, since it doesn't require you to move your changes out of the way, it just updates you

[14:48:37.0000] <Hixie>
the only reason i would need to commit or stash in git is to be able to pull

[14:48:38.0000] <Hixie>
which is so weird

[14:48:53.0000] <jgraham>
That just isn't true

[14:48:55.0000] <wilhelm>
So in svn, you'd leave the uncommited files scattered about in this scenario?

[14:49:16.0000] <wilhelm>
What would happen with upstream changes to those files?

[14:49:21.0000] <Hixie>
they get merged in

[14:49:38.0000] <TabAtkins>
Hixie just got really used to subversions data model (or relative lack of it), and is still having a lot of trouble adapting to Git being more restrictive (and hasn't yet learned all the *good* things that come from that).

[14:49:44.0000] <wilhelm>
Now, _that_ is broken. :D

[14:49:53.0000] <jgraham>
Yeah, that sounds terrifying

[14:50:05.0000] <Hixie>
why is that terrifying

[14:50:10.0000] <Hixie>
it's perfect

[14:50:20.0000] <jgraham>
Modifying your local files under you without a commit to roll back to if things go wrong?

[14:50:21.0000] <wilhelm>
So that would put you in a completely unknown state you can't recover from?

[14:50:42.0000] <Hixie>
why would things go wrong

[14:50:56.0000] <wilhelm>
Because upstream changes were silly, and now they're in your file.

[14:51:01.0000] <jgraham>
Umm, because merges are complicated

[14:51:05.0000] <Hixie>
obviously if there's a conflict it won't merge them, just like with git if you rebase

[14:51:13.0000] <wilhelm>
Which you can't throw away, because you'd lose your work.

[14:51:21.0000] <TabAtkins>
From what I can tell, Hixie, your preferred model can be (terribly) grafted to Git if you just never commit, and always stash before pulling (and stash pop after).

[14:51:36.0000] <TabAtkins>
And then only commit individual files immediately before you want to push them.

[14:51:52.0000] <Hixie>
yeah seems that way

[14:51:57.0000] <jgraham>
Yeah you can do that

[14:52:06.0000] <jgraham>
But it will make children cry

[14:52:08.0000] <wilhelm>
Yes. Sounds very wrong. But doable.

[14:52:09.0000] <TabAtkins>
It should be obvious why this is terrible to those who use Git properly. ^_^

[14:52:38.0000] <Hixie>
in any case...

[14:53:04.0000] <Hixie>
if i have three commits that are entirely unrelated

[14:53:08.0000] <Hixie>
and i want to commit a specific one

[14:53:24.0000] <Hixie>
how do i bring that specific one to the point where i can commit it?

[14:53:28.0000] <Hixie>
git rebase something?

[14:53:31.0000] <TabAtkins>
Go back to the last master commit.  Branch.  Cherry-pick the one commit you want.

[14:53:37.0000] <wilhelm>
You want to _push_ a specific one? All commits are commits. There is no difference between your local repo and the remote.

[14:53:47.0000] <TabAtkins>
Then push that branch.

[14:53:53.0000] <Hixie>
wilhelm: er right, push, not commit

[14:53:54.0000] <jgraham>
Yeah, I'm with wilhelm; your requirements don't make sense as written

[14:53:57.0000] <jgraham>
Ok

[14:54:09.0000] <Hixie>
"commit" is the word sensible people use for what you kids call "push"

[14:54:11.0000] <TabAtkins>
You push history in git, not commits

[14:54:34.0000] <wilhelm>
Old people these days!

[14:54:35.0000] <Hixie>
"save" is the word for locally commiting

[14:54:41.0000] <Hixie>
:-P

[14:54:46.0000] <wilhelm>
So. Broken.

[14:54:56.0000] <TabAtkins>
Nah, just translation difficulties.

[14:55:00.0000] <Hixie>
i can't believe i have to create a branch just to push a damn file

[14:55:05.0000] <Hixie>
that's so absurd

[14:55:16.0000] <TabAtkins>
Hixie learned Subperanto as a child, the rest of us are native Gitish speakers.

[14:55:21.0000] <wilhelm>
Taking a step back, why do you need to cherrypick like this?

[14:55:34.0000] <wilhelm>
What's the use case? :P

[14:55:34.0000] <MikeSmith>
Hixie: branches are super-cheap in git

[14:55:44.0000] <TabAtkins>
Hixie: Again, you're chafing under the different data model, and suffering from a bad case of Blub Syndrome.

[14:55:54.0000] <Hixie>
MikeSmith: branches are super expensive cognitively for me

[14:56:05.0000] <MikeSmith>
Hixie: branches are the normal idiomatic best-practice way everybody does work in git

[14:56:07.0000] <TabAtkins>
Branch is just a pointer in git. ^_^

[14:56:15.0000] <Hixie>
MikeSmith: since now i have to keep track of the working copy state, the commited state in each branch, and the remote state

[14:56:15.0000] <TabAtkins>
It's a pointer to some particular commit in the tree.

[14:56:23.0000] <Hixie>
MikeSmith: instead of just the local state and the remote state, as in svn

[14:56:36.0000] <TabAtkins>
If you commit regularly like you should in Git, you don't keep track of working copy state.

[14:56:42.0000] <TabAtkins>
You commit before switching.

[14:56:42.0000] <sgalineau>
trying to use one source control system as if it were another guarantees some form of a bad time

[14:56:49.0000] <Hixie>
wilhelm: i have some changes i need to make locally to use the code, but i want to contribute a patch that is unrelated to those changes

[14:56:51.0000] <wilhelm>
No. The state is apparent from your commits. So every time you "save", that state has a name.

[14:57:10.0000] <MikeSmith>
Hixie: that might be because you're cognitively/concpetually thinking of branches in the svn/cvs conceptual model

[14:57:20.0000] <TabAtkins>
Hixie: Oh, for that, you probably just want to branch from the last foreign commit, and then manually copy your changes over.

[14:57:28.0000] <MikeSmith>
Hixie: ah yeah still I get your point yeah

[14:57:39.0000] <TabAtkins>
Then commit and push those changes.

[14:58:07.0000] <TabAtkins>
After it's accepted, you can kill the branch and rebase your main branch on it.

[14:58:41.0000] <MikeSmith>
Hixie: one thing is, your workflow works really well if you're not collaborating with anybody else. but it seems like it falls apart completely the minute you add one other collaborator

[14:59:13.0000] <wilhelm>
Either that, or those files shouldn't be in version control like that. That problem arises every time someone puts a configuration file with actual configuration in it into version control, at least.

[14:59:39.0000] <wilhelm>
/me has purged database passwords from repos a few times too many.

[14:59:57.0000] <Hixie>
wilhelm: these are local patches i need to make because i'm porting the code to a platform the upstream code isn't intended for

[15:00:24.0000] <wilhelm>
Oh.

[15:00:40.0000] <Hixie>
wilhelm: but meanwhile i want to contribute a fix to some of the code that isn't platform-specific

[15:00:45.0000] <MikeSmith>
anyway I fully agree that git is not winning any beauty contests as a far as being easy to use, or at least easy to learn

[15:00:57.0000] <Hixie>
in svn, i can do this easily with literally just "svn commit <filename>"

[15:01:02.0000] <Hixie>
it doesn't seem unreasonable to me

[15:01:12.0000] <Hixie>
nor like something that should fail to work with multiple people

[15:01:15.0000] <TabAtkins>
That's definitely "branch and do your patch there, so it doesn't interact with your main history".

[15:02:00.0000] <wilhelm>
It comes with the unreasonable part that your repo will be littered with random changes of varying origins. :D

[15:02:38.0000] <MikeSmith>
Hixie: you could do that just by working through a UI that immediately makes all your commits in the repo you want to push to

[15:02:53.0000] <MikeSmith>
Hixie: e.g., the github Web UI

[15:03:37.0000] <MikeSmith>
then you're never actually making changes locally, you'd just pull them when you need to build locally or whatever

[15:04:03.0000] <jgraham>
Hixie: There is no such thing as a "local patch". There are commits on local branches, commits on remote branches, branches that have been merged to master, and branches that have not. But it's all commits

[15:04:36.0000] <Hixie>
jgraham: so many things to keep track of

[15:04:44.0000] <jgraham>
Hixie: No, there's just commits

[15:04:59.0000] <wilhelm>
Yes. Changes == commits, with a name and date.

[15:05:08.0000] <jgraham>
Instead of commits + random context-free patch files

[15:05:46.0000] <TabAtkins>
jgraham: Well, you can produce patch files, but their only use is to email to someone else so they can apply it locally and commit it themselves.

[15:06:08.0000] <Hixie>
i'm saying "A,B is simpler than A,B,C,D,E", and you're saying "A,B,C,D,E is simple enough"

[15:06:19.0000] <jgraham>
Yeah, but the point is that git enables repository-centric development, whereas svn prevents it

[15:06:27.0000] <jgraham>
Hixie: No

[15:07:04.0000] <TabAtkins>
Hixie: Sure, but it's only simpler because you're working with a weaker model. You're chafing against a stronger model without yet understanding the *benefits* of the stronger model.

[15:07:23.0000] <jgraham>
I don't think it's actually more complicated

[15:07:48.0000] <TabAtkins>
jgraham: Well, SVN's data model, at it's core, can be seen as a degenerate form of git's data model.

[15:08:09.0000] <TabAtkins>
Once you build over that model, both become complicated in non-subset/superset ways, but still.

[15:08:09.0000] <jgraham>
I think you are neglecting the hidden complexity of svn not supporting many workflows, so having to hack around then with things like patch files

[15:08:14.0000] <roc>
it is more complicated once you start dealing with the index/stash/cache :-)

[15:08:29.0000] <wilhelm>
Change always involves some friction, even between equivalent complexity.

[15:08:49.0000] <roc>
and local tracking of remote branches

[15:08:51.0000] <jgraham>
roc: The staging area is one of several things that git gets right and hg gets wrong

[15:08:58.0000] <TabAtkins>
YES

[15:09:02.0000] <roc>
no

[15:09:07.0000] <sgalineau>
lol

[15:09:12.0000] <Ms2ger>
no

[15:09:24.0000] <jgraham>
Making it explicit and avaliable for all opereations is so much better than having it work magically for add and delete but not being allowed to edit it

[15:09:24.0000] <TabAtkins>
Sigh, mozillians.

[15:09:25.0000] <sgalineau>
/me had no idea IRC source control chatter could be popcorn-worthy

[15:09:33.0000] <jgraham>
Hence mq

[15:09:53.0000] <roc>
The staging area can be useful, but git forces you to learn it before you can do anything, which is wrong.

[15:10:07.0000] <Hixie>
jgraham: i think you are neglecting the hidden complexity of supporting many workflows

[15:10:11.0000] <sgalineau>
roc: really? I never used it but use git every day

[15:10:30.0000] <TabAtkins>
Ehhh, you can go a long while just using `git commit -am` (and remember `git add .` when you add new files) and not care about the staging area.

[15:10:32.0000] <roc>
sgalineau: so you never use "git add" and just use "git commit -a" all the time?

[15:10:50.0000] <jgraham>
roc: Less wrong than having "hg commit" just commit any random changes in your working directory

[15:10:50.0000] <TabAtkins>
I *mostly* use -a.

[15:10:59.0000] <sgalineau>
roc: f, i somehow thought you were talking about stashing. NEVER MIND.

[15:11:03.0000] <Hixie>
"random" changes?

[15:11:13.0000] <jgraham>
/me always uses -p except in certian well-defined circumstances

[15:11:22.0000] <sgalineau>
roc: but otherwise, mostly use -a yes

[15:11:40.0000] <TabAtkins>
jgraham: I mostly work in self-contained units, so I dont' need to partial-add very often. ^_^

[15:12:08.0000] <Hixie>
(btw it doesn't help that the git documentation is worthless)

[15:12:19.0000] <jgraham>
TabAtkins: I do it to be sure I did in fact work in a self-contained unit and to increase the chance that I'll remember something that's missing by reading the patch again

[15:12:41.0000] <wilhelm>
So it's you guys who keep commiting .DS_Store files? :P

[15:12:41.0000] <jgraham>
Hixie: The git documentation is great. It just helps if you already understand git before reading it ;)

[15:12:49.0000] <roc>
TabAtkins: if you're not comfortable blindly adding files with "git add ." (which you probably aren't if you're new to git), then you have to know about the staging area.

[15:13:14.0000] <roc>
because you do "git add foo.c" and then you wonder why "git diff" doesn't show you that file.

[15:13:21.0000] <TabAtkins>
jgraham: Ah, I just diff if I'm not sure, but whatever works for you.

[15:13:28.0000] <Ms2ger>
/me still randomly forgets to commit or add stuff

[15:13:35.0000] <sgalineau>
which doc are we talking about? I thought http://git-scm.com/doc was useful

[15:13:53.0000] <TabAtkins>
https://marklodato.github.io/visual-git-guide/index-en.html is still a great doc too.

[15:14:04.0000] <Hixie>
how do you refer to "the last thing i checked out from the upstream repo" in git?

[15:14:05.0000] <sgalineau>
yes. Git Immersion was decent as well

[15:14:13.0000] <Hixie>
assuming HEAD refers to "the last thing i commited locally"

[15:14:20.0000] <Ms2ger>
origin/master?

[15:14:27.0000] <jgraham>
Hixie: origin/master, typically. or @{u}

[15:14:44.0000] <jgraham>
@{u} is the upstream of the current branch

[15:14:58.0000] <TabAtkins>
(Assuming that the upstream branch is called "master" as well, which it usually is.)

[15:15:18.0000] <Hixie>
thanks

[15:15:20.0000] <Hixie>
you'd think this would be documented somewhere on git-checkout got git-branch

[15:15:38.0000] <roc>
the git man pages are terrible

[15:15:46.0000] <jgraham>
(fun quiz question: how do you do the same in mercurial)

[15:15:47.0000] <wilhelm>
Hixie: To me, it sounds like you're still thinking "commits are expensive, and a big deal", and that's where a non-trivial part of the friction comes from.

[15:15:50.0000] <roc>
but that's partly because the git command-line syntax they're documenting is terrible

[15:16:45.0000] <jgraham>
/me is rather sure that the terribleness of the git command line syntax is something that "everyone knows" rather than something that's actually true

[15:16:57.0000] <Hixie>
wilhelm: i'm not thinking anything is expensive except having to type commands

[15:17:00.0000] <roc>
e.g. variously using the terms "index", "stash", "staging area" and "cache" to refer to the same thing

[15:17:20.0000] <Hixie>
wilhelm: if it takes me 10 minutes per command i have to type in, one command is cheaper than 4 commands is cheaper than 12 commands.

[15:17:20.0000] <TabAtkins>
Anything to do with rev-parse is pretty terrible.

[15:18:39.0000] <jgraham>
Yeah, rev-parse is obviously half-finished

[15:18:40.0000] <TabAtkins>
My 99% command set is `git pull --rebase`, `git push`, `git stash`, `git stash pop`, `git commit -am "foo"`, `git add -p file.txt`

[15:18:56.0000] <Domenic>
also lots of branching

[15:19:03.0000] <wilhelm>
I rarely do anything sufficiently complicated to notice the so-called horrible command-line UI of git.

[15:19:04.0000] <TabAtkins>
I don't branch as often as I should, but yeah.

[15:19:10.0000] <roc>
TabAtkins: no "git rebase -i"?

[15:19:15.0000] <sgalineau>
TabAtkins: no git checkout/git merge?

[15:19:19.0000] <TabAtkins>
roc: I rarely have to go interactive.

[15:19:26.0000] <roc>
no "git add remote ..."?

[15:19:30.0000] <roc>
no

[15:19:31.0000] <TabAtkins>
sgalineau: rebasing > merging. I don't branch very often.

[15:19:38.0000] <Domenic>
ff merges only

[15:19:55.0000] <roc>
"git branch -D all_the_stupid_local_branches_I_have_to_create_to_merge_stuff_in_github"?

[15:19:58.0000] <TabAtkins>
roc: Handled by git cloning automatically. I've had to do that before, but only by copy/pasting from tutorials.

[15:20:20.0000] <wilhelm>
roc: Rarely any of the above.

[15:20:44.0000] <sgalineau>
10 people in a room, 14 ways to use git

[15:20:53.0000] <TabAtkins>
Most of my git work is on repos where I push straight to master. ^_^ When I do work on PR-based repos, I branch more.

[15:21:19.0000] <wilhelm>
My repos have half a dozen people in them, the biggest one apparently with 57 feature branches. Perhaps it's time for a spring cleaning.

[15:21:45.0000] <sgalineau>
TabAtkins: I always branch for a bug fix since it might not be done by the time i need to go back to the main branch

[15:21:48.0000] <sgalineau>
for instance

[15:21:55.0000] <TabAtkins>
sgalineau: Yeah, that's what I should do more.

[15:22:37.0000] <TabAtkins>
I get bitten every once in a while due to not doing that, and then having to branch and mess with history after.

[15:23:54.0000] <roc>
that reminds of a classic piece of absurd git syntax: "git checkout -b foo" to create a branch. Because using "git branch" to create a branch containing your current changes would be too obvious.

[15:24:30.0000] <sgalineau>
roc: +1 I still type git branch foo half the time

[15:25:10.0000] <roc>
I was sort of hoping that my initial dislike of git would dissipate once I learned it properly. I was wrong.

[15:25:10.0000] <Hixie>
http://damowmow.com/playground/git-notes

[15:25:24.0000] <Hixie>
svn commit foo.txt seems to be equivalent to 7 lines of git commands

[15:26:04.0000] <sgalineau>
that's what svn commit does?

[15:26:13.0000] <Hixie>
as far as i can tell, in git terms, yes.

[15:26:23.0000] <Hixie>
in svn terms, it just commits your changes to that file to the repo

[15:27:40.0000] <sgalineau>
afaik git commit takes a file name as argument. now confused.

[15:28:03.0000] <roc>
Hixie: I think you can replace those lines with "git add foo.txt # add foo.txt changes to the index" "git commit -m <msg>" "git push"

[15:28:09.0000] <jgraham>
I… can't tell what kind of confused workflow you have to be using to end up with that mess of commands

[15:28:18.0000] <Hixie>
sgalineau: "git commit" doesn't have an equivalent in svn, since svn doesn't have a local repo.

[15:28:21.0000] <wilhelm>
You forget the part where you accidently nuke your uncommited changes in your svn repo.

[15:28:36.0000] <sgalineau>
Hixie: ah, yes, duh

[15:29:07.0000] <sgalineau>
Hixie: still, roc's alternative sounds like what I'd expect

[15:29:17.0000] <jgraham>
roc: So¸ as best I can tell the problem is that Hixie has already committed the changes and now wants to undo those commits and push some different commits to upstream

[15:29:23.0000] <sgalineau>
Hixie: I don't get why it needs to create the foo branch and ditch it

[15:29:31.0000] <jgraham>
I don't know *why* he thinks he wants to do this

[15:29:40.0000] <MikeSmith>
jgraham: I know I'm preaching to the choir but mq is just such a horrible hack, and so painful to use. It makes any of the git hassles in comparison look like .. not hassles. I say that after having used it by choice for some significant time. And yeah it's not a required thing but it seems to be worflow you inevitably end up with in practice in a lot of mercurial scenarios.

[15:30:12.0000] <Hixie>
roc: that assumes your branch doesn't have other changes on it

[15:30:28.0000] <roc>
Hixie: no it doesn't.

[15:30:31.0000] <Hixie>
jgraham: i explained why earlier.

[15:30:36.0000] <sgalineau>
Hixie: those changes aren't lost...

[15:30:39.0000] <MikeSmith>
anyway, I'm trying to decide whether in this conversation to give more of my votes to Hixie's "why would things go wrong" or sgalineau "had no idea IRC source control chatter could be popcorn-worthy"

[15:30:40.0000] <TabAtkins>
roc: You *do* create a branch with `git branch`. But `git checkout` is how you *switch* branches.

[15:30:46.0000] <Hixie>
roc: then i don't understand it

[15:31:00.0000] <roc>
Hixie: it assumes you haven't already done a "git commit".

[15:31:18.0000] <sgalineau>
sounds like that's the problem

[15:31:19.0000] <roc>
basically when you map svn into git, you would only ever do a "git commit" just before a "git push"

[15:31:28.0000] <wilhelm>
This conversation feels a lot like RDMBS<->NoSQL arguments. One side ensures predictable, consistent data. The other is "easier".

[15:31:35.0000] <Hixie>
roc: what's the difference between "that assumes your branch doesn't have other changes on it" and "that assumes you haven't already done a "git commit"" ?

[15:31:48.0000] <TabAtkins>
Hixie: If you're *actually* using git as svg (no local commits), then `svn commit foo.txt` is just `git add foo.txt; git commit; git push`

[15:31:55.0000] <roc>
right

[15:31:57.0000] <Hixie>
i'm not trying to use git as svn

[15:32:05.0000] <Hixie>
i'm trying to use git as git, as everyone always says i should

[15:32:06.0000] <Hixie>
:-)

[15:32:10.0000] <TabAtkins>
You're doing *half* SVN, in which case your request doesn't make a lot of sense within the data model.

[15:32:16.0000] <roc>
yeah

[15:32:25.0000] <sgalineau>
/me shudders at half SVN

[15:32:27.0000] <roc>
you can't use git like svn half the time and some other way half the time, in the same repo.

[15:32:36.0000] <Hixie>
(is there some way to figure out what remote branch git push will use by default?)

[15:32:40.0000] <TabAtkins>
But you can do it by copying the file into a buffer, branching from origin/master, pasting the buffer contents into the file you want, then commiting it and pushing.

[15:32:45.0000] <Hixie>
roc: i'm not trying to

[15:34:33.0000] <MikeSmith>
Hixie: "git remote" with no args I think

[15:34:35.0000] <Hixie>
wtf. I'm in dir a/b/c and I do "git diff origin/master" and it tells me that I have a change in d/e/f. I cd d, do the same thing, no changes.

[15:34:44.0000] <Hixie>
MikeSmith: that just says "origin"

[15:34:51.0000] <Hixie>
which i don't think is a branch?

[15:34:51.0000] <TabAtkins>
Saying "I want to push a file" is indeed using half SVN.  "files" aren't meaningful units in the git data model.

[15:35:23.0000] <Hixie>
TabAtkins: that's not half-svn. it's half-filesystem maybe.

[15:35:33.0000] <TabAtkins>
Which svn is closer too, yes.

[15:35:36.0000] <Hixie>
TabAtkins: the reality is i have one file with changes in it and i need to commit it.

[15:35:53.0000] <Hixie>
TabAtkins: that's just the situation, it's not an attempt to fit it to any model.

[15:35:56.0000] <TabAtkins>
And the answer that we've continually told you is "branch and put the changes there".

[15:36:04.0000] <Hixie>
right, which is seven commands

[15:36:06.0000] <Hixie>
instead of hte one in svn

[15:36:10.0000] <Hixie>
that's all i'm saying :-)

[15:36:32.0000] <Ms2ger>
The branch-commit-merge model doesn't make much sense if you're the only one editing

[15:36:33.0000] <roc>
TabAtkins: I pretty much always use "git checkout" to create branches, because it handles the two cases I care about and "git branch" doesn't. Namely: "create and switch to a branch where I can commit the changes I have already made to the working area" and "make a local branch tracking this remote branch and check it out so I can rebase and test it before merging"

[15:36:42.0000] <jgraham>
Finding out the upstream of the current branch is slightly hard. git remote -v does it, or git rev-parse --abbrev-ref @{u}

[15:36:45.0000] <MikeSmith>
Hixie: no I was wrong. I tried adnd I see "git remote" shows a list of all remotes

[15:37:04.0000] <jgraham>
s/remote/branch/

[15:37:15.0000] <MikeSmith>
yeah

[15:37:16.0000] <Domenic>
FWIW I really find having a visual and manipulable representation of the tree to help me. E.g. https://www.dropbox.com/s/yxo8syn97lcvani/Streams%20git.png?dl=0

[15:37:18.0000] <TabAtkins>
roc: Right, you usually want to combine branch creation and checkout. No disagreement ehre.

[15:37:18.0000] <jgraham>
s/-v/-vv/

[15:37:37.0000] <Hixie>
-v and -vv don't give me a branch name as far as i can tell

[15:37:56.0000] <TabAtkins>
Domenic: github provides a visual tree view.

[15:38:06.0000] <Hixie>
git rev-parse --abbrev-ref @{u} works

[15:38:06.0000] <jgraham>
Hixie: git branch -vv?

[15:38:15.0000] <Hixie>
oh, i missed that edit

[15:38:29.0000] <Domenic>
TabAtkins: sure but the whole point is to get a view of local vs. remote, and see the local tree evolve as you do things to it, before deciding what to push upstream

[15:38:36.0000] <Hixie>
jgraham: thanks

[15:38:39.0000] <TabAtkins>
Ah, kk.

[15:38:47.0000] <TabAtkins>
I guess you work with more complicated things than me. ^_^

[15:38:50.0000] <roc>
"git checkout" makes sense for the latter case, since I am actually checking something out. "git checkout" for the first case never actually checks out anything, so it's stupid.

[15:39:07.0000] <TabAtkins>
roc: It checks out the new branch. I don't understand your confusion.

[15:39:36.0000] <roc>
it doesn't modify the working area.

[15:39:44.0000] <TabAtkins>
It so happens that the index is the same in the new and old branch, but your branch pointer is different (so your commits will hit a different area).

[15:40:06.0000] <TabAtkins>
Yeah? Working area changes are never affected by a checkout, unless the histories are different in the files that have been edited.

[15:41:33.0000] <TabAtkins>
(In which case it wants you to commit or stash or what-have-you, so you can the existing mechanisms to handle possible conflicts.)

[15:42:30.0000] <roc>
"git checkout -b foo" never modifies the working area, it just manipulates branches. It should therefore be a "git branch" command.

[15:43:21.0000] <TabAtkins>
roc: `git checkout` *never* messes with changes you've made in your working area.

[15:43:29.0000] <roc>
not true

[15:43:45.0000] <roc>
"git checkout foo.c" replaces the working area's copy of foo.c with the index copy

[15:44:03.0000] <TabAtkins>
Oh, sorry, yeah, a checkout of a *file* does that.  A checkout of a branch doesn't.

[15:44:09.0000] <TabAtkins>
checkout is overloaded a bit.

[15:44:12.0000] <roc>
I think I win

[15:44:27.0000] <Ms2ger>
/me gives roc a medal

[15:44:37.0000] <TabAtkins>
...no?  Not unless you think `git checkout foo` (to a branch named foo) should *also* be changed to a `git branch` command.

[15:44:50.0000] <roc>
no

[15:44:56.0000] <TabAtkins>
Then I don't understand at all.

[15:45:07.0000] <roc>
"git checkout foo" modifies the working area; it leaves your changes intact but rebases them to branch "foo"

[15:45:16.0000] <TabAtkins>
Because `git checkout -b foo` is precisely `git branch foo; git checkout foo`

[15:45:25.0000] <TabAtkins>
Yes.

[15:45:55.0000] <TabAtkins>
And so does git checkout -b, it's just that the (non-modified) parts of the working areas are identical, because the new and old branch point to the same commit.

[15:47:19.0000] <roc>
I think "git branch foo" should check out the branch. It's hardly useful as is.

[15:47:20.0000] <TabAtkins>
Again, checkout -b is *solely* a concatentation of a branch and a checkout command, for convenience. Whether that belongs under the aegis of `branch` or `checkout` seems relatively arbitrary, but neither is "wrong", because it's *literally* those two commands.

[15:47:57.0000] <TabAtkins>
I wouldn't disagree there, to be honest. `checkout` has overloaded meanings, and branch creation is rare enough that needing a flag to say "create branch foo" would be fine.

[15:48:04.0000] <roc>
"git checkout" could just go away, or be reduced to the "check out a file" function.

[15:48:32.0000] <TabAtkins>
But then we're talking about moving syntax around, not judging an existing piece of syntax based on other existing syntax. ^_^

[15:48:57.0000] <roc>
it's part of the overcomplexity of git.

[15:49:13.0000] <roc>
overloaded commands, and commands with the wrong names.

[15:49:55.0000] <roc>
a new git user wants to create a branch for some changes they've made; they read the "git branch" man page but that's not enough. It could be enough.

[15:50:05.0000] <TabAtkins>
All right, but that's the story of every successful technology, and I don't think anything is immune to getting things wrong in its history.

[15:50:52.0000] <Hixie>
i don't think git is old enough to use that excuse yet

[15:51:09.0000] <TabAtkins>
It's 9 years old!

[15:51:12.0000] <roc>
Mercurial is much better designed (as of now; until recently it lacked important features).

[15:52:00.0000] <jgraham>
It still lacks important features!

[15:52:18.0000] <jgraham>
(see my pop quiz above)

[15:52:25.0000] <Hixie>
9 years old is not enough to be able to claim that basic suckage is just the result of being successful

[15:52:26.0000] <TabAtkins>
And I disagree about better designed, but I'd be willing to chalk that up to Blub for the sake of getting back to work. ^_^

[15:52:47.0000] <roc>
I think because at the beginning they focused on making simple things simple whereas git jumped straight to the Linus use-cases which committed them to a lot of ill-thought-out syntax early.

[15:53:09.0000] <roc>
yeah

[15:53:09.0000] <TabAtkins>
Hixie: Any age is enough when you get a popularity blow-up. It crystallizes decisions that should really have more thought put into them.

[15:53:11.0000] <roc>
lunchtime

[15:54:13.0000] <TabAtkins>
Ahhhhh, the more features someone used of Bert's preprocessor, the more of a pain-in-the-ass it is to convert to Bikeshed.

[15:54:21.0000] <TabAtkins>
(I assume the same is true of Bikeshed to anything else, of course.)

[15:54:33.0000] <TabAtkins>
But nobody actually *used* Bert's features, except Bert and jdaggett. :(

[15:55:49.0000] <MikeSmith>
Hixie: in other news while it's on my mind, I want say, I think we lost the fight a long time ago on discouraging use of meta@http-equiv="X-UA-Compatible" and making it a conformance error. See, e.g., bootstrap docs saying, 'To be sure you're using the latest rendering mode for IE, we strongly recommend including [meta@http-equiv="X-UA-Compatible"]' and we've lost on making it a useful conformance error. And now the validator reporting it as such is ju

[15:56:10.0000] <MikeSmith>
Hixie: so should I file a bug or what

[15:57:07.0000] <Hixie>
MikeSmith: :-(

[15:57:17.0000] <MikeSmith>
yeah it sucks

[15:57:20.0000] <Hixie>
MikeSmith: so what are we saying, it should be part of the boilerplate like the doctype?

[15:57:31.0000] <gsnedders>
MikeSmith: a SAX API that throws a fatal parse error when it hits content that needs buffering?

[15:57:31.0000] <Hixie>
MikeSmith: what does IE do if you don't include it?

[15:57:56.0000] <wilhelm>
Hixie: On poorly configured systems the user may not have control over, go into IE8 mode and break everything.

[15:58:00.0000] <gsnedders>
Hixie: depends on configuration, whether the site is in the internet or intranet zone…

[15:58:23.0000] <gsnedders>
Hixie: by default internet zone is latest, intranet zone was originally IE7 mode but I think that's changed?

[15:58:47.0000] <wilhelm>
gsnedders: "Intranet" is fuzzy, in that case.

[15:58:57.0000] <Hixie>
jesus wept

[15:58:59.0000] <gsnedders>
I don't remember how Windows defines "Intranet"!

[15:59:07.0000] <gsnedders>
I'm just using the term it does! :P

[15:59:07.0000] <MikeSmith>
Hixie: not sure what IE does but in practice all the boilerplate from boostrap etc include it, and best-practice/how-to guides all say to include it. So I guess that means we're really stuck with it now

[15:59:29.0000] <Hixie>
fantastic

[15:59:32.0000] <Hixie>
yeah, file a bug

[15:59:38.0000] <Hixie>
i guess we require it? :-P

[15:59:47.0000] <Hixie>
with IE=edge ?

[15:59:51.0000] <MikeSmith>
Hixie: meta viewport is another we're stuck with but at least that's valid now

[16:00:04.0000] <Hixie>
we should clearly require that one too, with width=device-width or whatever it is

[16:00:12.0000] <MikeSmith>
Hixie: yeah

[16:00:31.0000] <MikeSmith>
anyway I'll file a bug

[16:00:46.0000] <MikeSmith>
and lord have mercy on me

[16:01:09.0000] <wilhelm>
gsnedders: I removed that line from a publicly available customer site recently. Worked fine everywhere I tested. Bam, it broke on all their internal machines in some horrible Citrix environment.

[16:01:21.0000] <MikeSmith>
gsnedders: yes, a SAX API that throws a fatal parse error when it hits content that needs buffering?

[16:01:25.0000] <MikeSmith>
07:57        Hixie: MikeSmith: what does IE do if you don't include it?

[16:01:29.0000] <MikeSmith>
oofs

[16:01:35.0000] <gsnedders>
wilhelm: that's why you shouldn't have customers

[16:02:10.0000] <gsnedders>
wilhelm: (on the other hand I like income)

[16:02:14.0000] <wilhelm>
But.. they pay our salaries.

[16:02:27.0000] <MikeSmith>
gsnedders: ideally with an option for buffered non-streaming parsing for those that want to opt-in to that

[16:02:46.0000] <gsnedders>
MikeSmith: people are starting to more seriously try and build on top of html5lib

[16:03:09.0000] <MikeSmith>
gsnedders: and to be clear, not a fatal parse error for the document, but just fatal for that part of the tree

[16:03:24.0000] <gsnedders>
MikeSmith: that sounds horrible to implement :(

[16:03:25.0000] <MikeSmith>
gsnedders: If you know what I mean. That's how Henri's parser handles it

[16:03:47.0000] <MikeSmith>
gsnedders: well, Henri did it. So we have an existence proof

[16:04:01.0000] <gsnedders>
MikeSmith: is that even a conforming option per spec? I thought the options were stop parsing or continue per spec?

[16:04:10.0000] <MikeSmith>
dunno

[16:04:12.0000] <gsnedders>
MikeSmith: well, I'm not questioning plausiblity, just niceness :)

[16:04:33.0000] <gsnedders>
MikeSmith: what makes a streaming parser better, though? ability to cope with larger docs?

[16:05:56.0000] <MikeSmith>
gsnedders: at least for henri's implementation it emits a messaging saying basically "I'm giving up on checking this part of the tree. [There may be errors in it but I'm not able to report them because that would require non-streaming parsing, which I'm not set to do right now.]"

[16:06:14.0000] <MikeSmith>
gsnedders: performance

[16:06:44.0000] <MikeSmith>
and the ability to hook it into a pipeline and check things in parallel

[16:07:05.0000] <gsnedders>
MikeSmith: which are the non-streaming cases? AAA, foster parenting? AAA seems to be hard to mark the right part of the tree, off-hand

[16:07:19.0000] <MikeSmith>
can run multiple checks in parallel fed from the same parse events

[16:07:46.0000] <MikeSmith>
gsnedders: yeah AAA and foster parenting

[16:08:26.0000] <MikeSmith>
gsnedders: and I don't know how Henri handled it but I think it does mark the right part of the tree

[16:08:59.0000] <gsnedders>
MikeSmith: It's Henri's code, I don't doubt it does. :)

[16:09:04.0000] <MikeSmith>
heh

[16:10:42.0000] <MikeSmith>
anyway, the model of being able to use multiple SAX contenthandlers in parallel is really powerful for implementing a checker, and just makes a lot of things much easier/doable

[16:11:08.0000] <gsnedders>
well you should always be able to implement something that multiplies events

[16:11:17.0000] <gsnedders>
given a normal singular SAX handler

[16:12:28.0000] <MikeSmith>
yeah I just mean the benefit of SAX, of exposing a SAX API

[16:13:43.0000] <MikeSmith>
but more generally exposing any kind of parse-event API at all is a win for this kind of use case (checkers)

[16:14:11.0000] <MikeSmith>
and in practice, "exposing any kind of parse-event API" pretty much just means SAX

[16:15:19.0000] <MikeSmith>
*means just use SAX, because it's sane and nobody has come up with anything that's radically better

[16:58:47.0000] <johan16>
hoi


2014-10-16
[20:43:59.0000] <MikeSmith>
gsnedders: > people are starting to more seriously try and build on top of html5lib

[20:45:30.0000] <MikeSmith>
gsnedders: yeah that's when you have to start caring about some things more

[00:33:52.0000] <annevk>
Someone from Microsoft filing bugs on Chrome

[00:35:46.0000] <ondras>
<

[00:35:50.0000] <ondras>
oops.

[00:49:55.0000] <annevk>
I too find Git hard

[00:50:10.0000] <annevk>
But GitHub's client makes it somewhat straightforward

[00:50:15.0000] <gsnedders>
MikeSmith: well I'm not sure I care enough to implement all this stuff myself, just nice to have some idea of what we should have :P

[01:41:39.0000] <ato>
annevk: I tried using the Mac client but /it/ was confusing to me.

[01:41:56.0000] <ato>
It's good that there are many choices though.

[01:42:28.0000] <annevk>
ato: works fine here and they keep updating it too

[01:45:27.0000] <zcorpan_>
MikeSmith: huh? i thought v.nu stopped parsing for non-streamable errors. do you have an example where it doesn't?

[01:46:45.0000] <zcorpan_>
MikeSmith: AAA and foster parenting both give fatal errors for me

[01:48:52.0000] <zcorpan_>
MikeSmith: are you thinking of "Element foo not allowed as child of element body in this context. (Suppressing further errors from this subtree.)" ?

[01:51:48.0000] <MikeSmith>
zcorpan_: yeah maybe I was. not sure what i was thinking because I've actually not gotten more than a couple hours sleep in the last 24

[01:52:03.0000] <MikeSmith>
/me reads his own scrollback

[01:53:00.0000] <MikeSmith>
gsnedders: yeah as zcorpan_ points out, what I said was wrong

[01:53:47.0000] <MikeSmith>
for the cases that require non-streaming parsing the validator emits one error and then exits

[01:54:06.0000] <MikeSmith>
"Can't recover from previous error" or something like

[01:54:48.0000] <MikeSmith>
I guess I was conflating with the "Suppressing further errors from this subtree" case that zcorpan_ cites

[01:56:20.0000] <MikeSmith>
and maybe also thinking about my testrunner code where they're not fatal errors for teh testrunner, where I'm feeding it multiple documents and checking for expected failures

[03:04:14.0000] <hsivonen>
I'm still posting to www-tag more often than I post to the whatwg list. :-(

[03:16:49.0000] <MikeSmith>
w3cmemebot, process previous line

[03:16:59.0000] <MikeSmith>
Yeah

[03:18:53.0000] <MikeSmith>
there's someone wrong on the Internet^w^wwww-tag

[03:24:41.0000] <hsivonen>
SimonSapin: you asked earlier if the platform needs an XML parser for purposes other than SVG and XSLT. There's also XHTML (tiny but exists), DOMParser and XHR

[03:25:21.0000] <SimonSapin>
hsivonen: ok, thanks

[03:25:28.0000] <zcorpan_>
annevk: hmm. maybe you need to run those from a local webserver or so. https://www.w3.org/Bugs/Public/show_bug.cgi?id=12837

[03:37:46.0000] <annevk>
zcorpan_: put them on simon.html5.org?

[03:42:33.0000] <annevk>
matijs: on DNSSEC: https://twitter.com/twitjeb/status/519058750297366528

[03:51:06.0000] <zcorpan_>
annevk: https://simon.html5.org/dump/unload-baseline.html https://simon.html5.org/dump/unload-xhr.html -- but.... now the xhr one also survives in gecko :-/

[04:13:15.0000] <annevk>
zcorpan_: yeah it does

[04:13:20.0000] <annevk>
zcorpan_: so what does that mean?

[04:13:48.0000] <annevk>
zcorpan_: in Chrome it's reparsed for both

[04:14:56.0000] <zcorpan_>
annevk: when navigating back to a document, either it's reparsed so that <script> execute again (among other things), or it's cached so timeouts e.g. pending timeouts continue

[04:15:18.0000] <zcorpan_>
annevk: i think chrome/webkit might always reparse

[04:51:16.0000] <annevk>
zcorpan_: thanks for those btw

[04:53:40.0000] <zcorpan_>
annevk: welcome. i'm not sure why i see different result now though.

[04:54:04.0000] <annevk>
we might have made changes due to hitting compat issues

[04:54:20.0000] <annevk>
the whole history / navigate stuff cannot really be relied upon :-(

[04:54:31.0000] <annevk>
defining life cycles is hard

[05:29:16.0000] <zcorpan_>
annevk: i get an error event on the xhr when navigating away https://simon.html5.org/dump/unload-xhr.html

[05:31:26.0000] <annevk>
hmm

[05:31:49.0000] <annevk>
i would have expected nothing

[05:32:12.0000] <annevk>
sigh, this is hard

[05:52:07.0000] <rubys>
SimonSapin: ping?

[06:25:48.0000] <annevk>
rubys: did you figure out why you're getting different results in IE?

[06:31:21.0000] <rubys>
annevk: which results?

[06:31:33.0000] <annevk>
rubys: e.g. pathname not starting with a /

[06:32:32.0000] <rubys>
annevk: a google search indicates that lots of people are seeing this, and that IE is out of spec.

[06:32:39.0000] <annevk>
rubys: e.g. <a href=http://0xc0.168.0.1></a><script>w(document.querySelector("a").pathname)</script> gives / for me

[06:32:45.0000] <annevk>
rubys: in IE10

[06:32:57.0000] <annevk>
rubys: using Live DOM Viewer

[06:34:27.0000] <rubys>
/me checking my doctype

[06:35:11.0000] <annevk>
(adding <!doctype html> doesn't change anything)

[06:35:42.0000] <rubys>
here is my script: http://intertwingly.net/stories/2014/10/05/urltest

[06:36:14.0000] <annevk>
"In IE10 Standards mode, the host and pathname DOM properties no longer return unexpected results."

[06:36:22.0000] <annevk>
http://blogs.msdn.com/b/ieinternals/archive/2012/03/01/ie10-beta-consumer-preview-minor-changes-changelist.aspx

[06:36:36.0000] <rubys>
any idea why my script wouldn't be treated in standards mode?

[06:38:44.0000] <rubys>
annevk: I'm running IE11, but I would hope that MS wouldn't have reverted that.

[06:39:26.0000] <annevk>
rubys: I think the results might differ if you create the element through script

[06:40:27.0000] <annevk>
<!doctype html><script>a = document.createElement("a");a.setAttribute("href","http://0xc0.168.0.1"); w(a.pathname)</script>

[06:40:31.0000] <annevk>
gives "" in the log

[06:40:40.0000] <annevk>
(I also tried setting .href, same result)

[06:40:41.0000] <rubys>
annevk: yuk

[06:40:48.0000] <annevk>
agreed

[06:42:47.0000] <annevk>
And you're testing in IE11?

[06:43:03.0000] <annevk>
Wow, they're bad at fixing bugs, perhaps because Eric left the company

[06:43:56.0000] <annevk>
Or maybe they fixed it but then decided they could not ship it due to compat

[06:44:10.0000] <rubys>
annevk: I'm testing using a VM from here: https://www.modern.ie/en-us/virtualization-tools#downloads

[06:44:26.0000] <rubys>
IE11 / Win8.1

[06:46:04.0000] <rubys>
annevk: other things I have done recently: I've added Rust and Node.js to my results: http://intertwingly.net/stories/2014/10/16/urltest-results/

[06:46:24.0000] <annevk>
cool

[06:46:43.0000] <rubys>
annevk, SimonSapin: I would appreciate somebody giving http://intertwingly.net/stories/2014/10/16/urltest.rs a glance to see if I got it right, or if it could be done better.

[06:46:58.0000] <rubys>
After all, I didn't know Rust as of two days ago.

[06:47:35.0000] <annevk>
I haven't written any Rust yet so I'll let SimonSapin do that

[06:47:43.0000] <rubys>
I also attempted a manual three-way merge of the urltestdata from rust-url and web-platform-tests

[06:48:22.0000] <rubys>
https://github.com/servo/rust-url/pull/39 and https://github.com/w3c/web-platform-tests/pull/1293

[06:50:40.0000] <annevk>
For the spec there's these projects on the todo: 1) Rewrite parsing in a more functional style 2) Introduce IPv4 parsing 3) Investigate if we can allow non-browser schemes make use of "relative url" parsing facilities in a generic way

[06:51:57.0000] <rubys>
since rust-url seems to be a motivating factor for #1, I'm looking into rust-url.

[06:53:26.0000] <rubys>
If I can wrap my head around it, I may try to help with #1

[06:55:24.0000] <annevk>
Yeah, SimonSapin proving it could be done just as efficient with a clearer style is the main factor for that one

[07:20:55.0000] <annevk>
rubys: I can reproduce my IE10 results in IE11

[07:21:37.0000] <rubys>
so <a> works, document.createElement doesn't?

[07:39:14.0000] <annevk>
yup

[07:39:46.0000] <annevk>
I don't want to know what their code looks like

[07:40:07.0000] <rubys>
luckily you can't :-)

[07:41:26.0000] <Domenic>
rubys: what do the colours mean now? Can you include a legend on the page?

[07:42:27.0000] <rubys>
I'll add a legend.  Meanwhile, here is what the colors mean: http://intertwingly.net/blog/2014/10/02/WHATWG-URL-vs-IETF-URI#c1412684307

[07:42:39.0000] <rubys>
... where 'testdata' is substituted for 'whatwg'

[07:43:28.0000] <rubys>
I got pushback when I called testdata 'whatwg'.  I got pushback when I called anything not testdata 'whatwg'.  So I gave up :-)

[07:45:51.0000] <annevk>
rubys: ericlaw suggests a workaround, appendChild() the element and then check its pathname

[07:47:06.0000] <rubys>
Or, I can simply change the test to use an <a> element.

[07:56:26.0000] <Domenic>
rubys: what does the "notes" field contain? I'm guessing, the environments which fail to match?

[07:57:17.0000] <rubys>
if you click through, you will see one or more issues with that user agent

[07:57:30.0000] <rubys>
so essentially, yes

[07:58:27.0000] <Domenic>
cool. will be interesting to see the results with IE fixed

[07:59:07.0000] <rubys>
I'll run that in a few minutes

[07:59:49.0000] <annevk>
rubys: "addressable" is what was formerly IETF?

[08:00:01.0000] <rubys>
annevk: yes.

[08:03:22.0000] <annevk>
rubys: any reason why we include Opera Presto?

[08:03:47.0000] <annevk>
s/we/you/

[08:04:37.0000] <rubys>
zcorpan felt it should be included.  http://intertwingly.net/blog/2014/10/02/WHATWG-URL-vs-IETF-URI#c1412536749 http://intertwingly.net/blog/2014/10/02/WHATWG-URL-vs-IETF-URI#c1412583899

[08:07:05.0000] <Domenic>
addressable is just a Ruby library right?

[08:07:46.0000] <rubys>
yes, but it is one that I have confidence that it attempts to faithfully implement the IETF RFCs.

[08:12:03.0000] <rubys>
IE results updated, generating new results

[08:14:00.0000] <rubys>
annevk: any reason why resolving a URL against a base couldn't be factored out in the URL standard?  In other words, define what parsing a URL means,and define what resolving a URL against a base means?

[08:15:15.0000] <rubys>
annevk, Domenic: new results uploaded.  Changes in IE results, table header, and new legend at the bottom of the index page.

[08:17:04.0000] <annevk>
rubys: that would have a pretty major impact on what a URL was

[08:17:10.0000] <annevk>
is*

[08:18:11.0000] <annevk>
rubys: I also haven't found that any browser actually does that

[08:18:13.0000] <rubys>
annevk: can you give an example where it would be difficult to do and/or operationally it would produce different results?

[08:18:52.0000] <annevk>
rubys: well e.g. new URL("/test") would no longer throw, presumably?

[08:19:27.0000] <rubys>
presumably.  Do any browsers expose URL?

[08:19:54.0000] <Domenic>
all of them do by this point. except IE maybe

[08:21:08.0000] <Domenic>
Still so many IE failures :(

[08:23:36.0000] <annevk>
rubys: I get .protocol to work in IE only for an element that was already in the document

[08:23:51.0000] <annevk>
rubys: so many bugs there :-(

[08:24:47.0000] <annevk>
rubys: at least Firefox/Chrome/Safari support new URL()

[08:25:04.0000] <annevk>
rubys: also Opera, not sure about Presto

[08:25:05.0000] <rubys>
annevk: I presume that you have whatever access you need to do @ericlaw suggested, i.e. "Please file a bug on Connect?"

[08:25:29.0000] <annevk>
Yeah I guess I can do that again...

[08:31:19.0000] <Domenic>
https://github.com/whatwg/fetch/issues/11 is interesting

[08:31:25.0000] <Domenic>
-1 on ES5 syntax of course

[08:31:31.0000] <Domenic>
unsure on whether early examples make sense

[08:31:40.0000] <Domenic>
given that the spec is only in a small part about developer-facing API

[08:31:44.0000] <annevk>
https://connect.microsoft.com/IE/feedbackdetail/view/1002884/protocol-attribute-does-not-always-work

[08:32:49.0000] <annevk>
Hmm I thought I had issues disabled

[08:33:15.0000] <Domenic>
yeah that was surprising as well

[08:47:20.0000] <annevk>
rubys: note that new URL() not dealing with it does not necessarily preclude us from structuring the specification in that way, though there might be other pitfalls given that implementations have no such thing

[08:48:31.0000] <rubys>
My thoughts are that it might be simpler to spec that way; but it will take actually trying to determine if there are any pitfalls.

[08:50:15.0000] <rubys>
my line of thinking: I was reading rust-url, and was wondering what it would look like in ABNF.  Then I realized that I don't know how to describe parsing two inputs in ABNF.  Also, many libraries aren't structured this way.

[08:52:40.0000] <annevk>
If you exclude the most widely deployed libraries?

[08:54:02.0000] <rubys>
annevk: no question new URL() behavior shouldn't change.  The question is whether a cleaner and simpler spec could be structured differently.

[08:55:00.0000] <annevk>
No I meant that browser implementations have those operations not decoupled either

[08:57:07.0000] <annevk>
But it's worth figuring out I suppose. A handful of people have asked for that and there might be some cases where you want to parse a URL without a base URL. (We want to be certain on that might before doing this, obviously.)

[08:57:56.0000] <Domenic>
Doesn't it make more sense to just make parsing "without a base URL" a special case of parsing with a base URL?

[08:58:05.0000] <Domenic>
e.g. parsing "without a base URL" = parsing with base URL "about:blank"

[08:59:05.0000] <rubys>
Domenic: see above.  "Then I realized that I don't know how to describe parsing two inputs in ABNF."

[08:59:16.0000] <Domenic>
why is that important

[08:59:28.0000] <Domenic>
seems conceptually less simple and clean

[08:59:57.0000] <rubys>
Breaking a hard problem into two smaller problems is less simple and less clean?

[09:00:12.0000] <Domenic>
creating two separate problems instead of making one a special case of the other, yeah

[09:02:15.0000] <annevk>
Domenic: rubys is suggesting that parsing "/foo" would result in some kind of construct that the specification currently does not acknowledge

[09:02:51.0000] <annevk>
Domenic: the specification does indeed default to something akin to about:blank at the moment, return failure for "/foo" as input

[09:02:55.0000] <annevk>
returning*

[09:41:06.0000] <Domenic>
annevk: yeah, seems very much like two problems, as now you have to create a whole new set of data structures to represent not-really-URLs like "/foo"

[09:42:00.0000] <rubys>
Is "scheme" exposed by browsers, or only "protocol"?

[09:42:51.0000] <rubys>
looking at the Rust implementation, it has an intermediate representation for relative URLs.

[13:42:26.0000] <annevk>
http://www.apple.com/ipad-air-2/wireless/ This new Apple SIM card thing seems interesting. Seems they finally found enough support to do the thing they have wanted to do since the beginning, although more modestly still. Can't wait for SIM cards to finally die in a fire.

[13:43:11.0000] <annevk>
(I wanted to link directly to the SIM card bit, but although there's many data and class attributes there, no id attribute to be found.)

[13:45:11.0000] <Domenic>
that is nice

[13:48:30.0000] <Domenic>
would like feedback on spec-writing matters: https://github.com/whatwg/streams/pull/233

[13:51:29.0000] <tantek>
annevk: http://www.apple.com/ipad-air-2/wireless/##Apple%20SIM

[13:52:08.0000] <annevk>
tantek: how does that work?

[13:52:52.0000] <tantek>
annevk: http://indiewebcamp.com/fragmention

[13:53:05.0000] <TabAtkins>
It doesnt' work, he's just using a fragmention scheme that could maybe work in the future.

[13:53:08.0000] <Domenic>
it doesn't seem to actually work

[13:53:18.0000] <tantek>
e.g. http://indiewebcamp.com/fragmention##Chrome%20extension works

[13:54:04.0000] <tantek>
works with polyfill just fine TabAtkins Domenic

[13:54:30.0000] <Domenic>
sure but you implied that the link you actually sent worked

[13:54:54.0000] <tantek>
Domenic: not at all, merely answering the use-case of "I wanted to link directly to the SIM card bit" - which I did

[13:55:27.0000] <tantek>
and if your browser supports it (e.g. via an extension), then that apple.com link even "works"

[13:55:56.0000] <tantek>
hence why I linked specifically to the Chrome extension

[13:58:37.0000] <annevk>
Domenic: gave some feedback, not sure if it helps

[13:59:35.0000] <Domenic>
annevk: heh, yeah, not sure either. thanks though.

[14:02:26.0000] <annevk>
Domenic: looking closer, it seems your current approach avoids duplication

[14:02:53.0000] <Domenic>
annevk: I don't think so though. Because I only ever call each method once in the spec. It avoids branching in favor of polymorphism I guess.

[14:03:48.0000] <annevk>
Domenic: the behavior of %DefaultReadableStreamStrategy% would not be duplicated if you branch?

[14:03:59.0000] <Domenic>
annevk: right it would just be inlined

[14:04:13.0000] <annevk>
Domenic: I'd prolly do that then

[14:05:21.0000] <annevk>
Domenic: but if it's not observable and both are sufficiently clear, it's really up to you

[14:05:40.0000] <Domenic>
annevk: yeah I am leaning toward inlining.

[14:05:50.0000] <Domenic>
(updated the post with links to the places where it's assigned and used)

[14:06:00.0000] <Domenic>
annevk: but yeah I think it is subjective which is why I am asking around

[14:11:14.0000] <annevk>
Domenic: I appreciate the attention to detail, I hope in due course we come up with some rules to align other specifications with

[14:11:29.0000] <Domenic>
annevk: that's the hope ^_^

[14:23:08.0000] <Domenic>
TabAtkins: I am trying to port over the self-link styling to the WHATWG style sheet. Do you remember where font-size: 83% comes from?

[14:23:59.0000] <TabAtkins>
It looked okay.

[14:24:08.0000] <Domenic>
figured

[14:24:21.0000] <TabAtkins>
Also, it's 5/6

[14:42:14.0000] <foolip>
TabAtkins: are any of *.spec.whatwg.org using bikeshed?

[14:43:13.0000] <Domenic>
foolip: https://streams.spec.whatwg.org/ !

[14:43:38.0000] <TabAtkins>
Just streams so far, I think.

[14:43:51.0000] <TabAtkins>
But more of w3 than I thought is using it now.

[14:45:44.0000] <foolip>
cool, Streams looks very WHATWGy, like the rest

[14:45:48.0000] <foolip>
I also like the logo :)

[14:46:08.0000] <TabAtkins>
Yeah, style has nothing to do with Bikeshed, you can provide whatever boilerplate and styling you want.

[14:46:16.0000] <Domenic>
Speaking of which, refresh the page to check out the sweet new link anchors next to every header and <dfn>

[14:46:19.0000] <foolip>
context: I'm not so happy with ReSpec for the WebVTT spec

[14:46:32.0000] <TabAtkins>
And since Domenic set up all the boilerplates and PR'd them into Bikeshed, anyone else wanting WHATWG style can use them too. ^_^

[14:46:51.0000] <foolip>
I've had to fix a phantomjs crash to make it actually work for automatic updates :/

[14:47:06.0000] <Domenic>
TabAtkins: how I remember it, I pretty much just flailed around ineptly until you ended up doing the work for me :P

[14:47:33.0000] <foolip>
Domenic: oh yeah, I love those anchors :)

[14:47:33.0000] <TabAtkins>
Eh, close enough.

[15:23:03.0000] <MikeSmith>
can anybody think of a good reason to ever use a value for tabindex other than 0 or -1? https://www.w3.org/Bugs/Public/show_bug.cgi?id=27076

[15:25:13.0000] <Hixie>
when the controls aren't in DOM order?

[15:26:55.0000] <Hixie>
consider e.g. a paragraph with two form controls in it, and a float in the middle, with controls in it as well. You would want to navigate the controls in the paragraph, then those in the float, then those in the next paragraph, probably.

[15:29:22.0000] <MikeSmith>
Hixie: ok, but Marco's comment is that in practice authors who put values other than 0 or -1 are almost always (or always even) misusing it based on misunderstanding

[15:29:50.0000] <MikeSmith>
Hixie: so it would be good to have some actual data

[15:30:05.0000] <Hixie>
by that reasoning, we should drop most of HTML

[15:31:04.0000] <TabAtkins>
Hixie: That's the logic behind dropping longdesc. ^_^

[15:31:14.0000] <Hixie>
not quite

[15:31:43.0000] <Hixie>
for longdesc the logic is that implementing it is bad for accessibility so it should be dropped in implementations

[15:31:57.0000] <Hixie>
MikeSmith wasn't suggesting dropping support for tabindex>1, just making them non-conforming

[15:32:43.0000] <MikeSmith>
Hixie: well short of that we can do the obsolete-but-conforming thing and I can actually have the correspnding validator warning for it include a link to the bug. i.e., in the way we talked about before for nested footnotes (I think it was that one, right?)

[15:33:12.0000] <MikeSmith>
yeah, non-conforming or obsolete-but-conforming

[15:33:33.0000] <Hixie>
what would the warning be? "If you are actually trying to put controls in a different tab order than the default, let us know so we don't drop support for this feature"?

[15:33:40.0000] <MikeSmith>
script@type is a related kind of case I guess

[15:33:51.0000] <MikeSmith>
Hixie: yeah, seriously

[15:34:22.0000] <MikeSmith>
I think it would be good to start using the validator to collect actual feedback for cases like this

[15:34:26.0000] <Hixie>
i don't know how you'd actually find out if people are using this correctly

[15:34:31.0000] <Hixie>
if they are, you'd never hear of it

[15:34:32.0000] <Hixie>
it'd just work

[15:34:38.0000] <Hixie>
and you'd never know the DOM didn't match rendering order

[15:36:09.0000] <MikeSmith>
dunno either, just suggesting a possible resolution for that bug

[15:36:54.0000] <MikeSmith>
Hixie: ah i get your point -- as an end user, you wouldn't know

[15:37:41.0000] <Hixie>
(this differs from longdesc, for example, because with longdesc you can programmatically detect the vast majority of bad uses, and compared to the good uses, they're the vast majority of all uses)

[15:39:08.0000] <MikeSmith>
so Marco's statement there about only seeing it misused is more about him only noticing the cases where it's misued byt not noticing the cases where values>1 are used properly, because things just work as expected for him in those cases

[15:39:39.0000] <MikeSmith>
Hixie: yeah (about comparison to checking longdesc misuse) I see now

[15:39:55.0000] <MikeSmith>
/me will add another comment to the bug

[15:40:52.0000] <MikeSmith>
TabAtkins: what non-standard attribute names does bikeshed .bs markup use. Is there a list somewhere?

[15:41:12.0000] <TabAtkins>
MikeSmith: All of its output attributes are data-*

[15:41:18.0000] <MikeSmith>
oh

[15:41:20.0000] <TabAtkins>
It only uses non-standard ones in its input format.

[15:41:28.0000] <MikeSmith>
ah yeah that's what I meant

[15:41:32.0000] <MikeSmith>
the input format

[15:41:44.0000] <TabAtkins>
Ah, no, there's no list.  Why?

[15:42:28.0000] <MikeSmith>
because I can imagine that is sometimes might be useful to check the input files to find errors

[15:42:33.0000] <MikeSmith>
check with the validator

[15:43:23.0000] <MikeSmith>
and one of things I'm thinking about is, adding some standard filtering mechanism to allow users to specify certain errors to ignore

[15:43:23.0000] <TabAtkins>
Bikeshed's input format isn't really HTML.

[15:43:30.0000] <MikeSmith>
ah ok

[15:43:43.0000] <MikeSmith>
nm then

[15:43:45.0000] <TabAtkins>
And it uses a bunch of shorthands that use angle brackets.

[15:43:52.0000] <MikeSmith>
ah

[15:43:53.0000] <TabAtkins>
<<foo>>, for example.

[15:44:15.0000] <MikeSmith>
I see yeah

[15:56:55.0000] <MikeSmith>
oh wow Daniel Buchner's at Target

[15:57:06.0000] <MikeSmith>
and they have a github repo and stuff

[16:23:55.0000] <MikeSmith>
TabAtkins: bikeshed should have an option for suppression section numbers

[16:24:19.0000] <TabAtkins>
MikeSmith: Put a class="no-num" on the heading.

[16:24:25.0000] <TabAtkins>
(Documented. ^_^)

[16:24:36.0000] <MikeSmith>
yeah I mean not numbering any at all

[16:24:43.0000] <TabAtkins>
Oh.  Interesting.  Why?

[16:25:06.0000] <MikeSmith>
the section numbers change anyway, nobody pays attention to them

[16:25:57.0000] <MikeSmith>
just an idea anyway. I don't feel strongly about it

[16:26:12.0000] <TabAtkins>
I'll wait until someone actually wants to publish a spec like that. ^_^

[16:26:27.0000] <MikeSmith>
yeah

[16:26:49.0000] <TabAtkins>
Section numbers dont' change that often, they're useful in the short term even if they do change, and Bikeshed uses them for attractive section references which carry over well to print.

[16:27:15.0000] <MikeSmith>
ah print yes

[16:27:33.0000] <MikeSmith>
and also they do convey information about the depth of the section

[16:27:34.0000] <TabAtkins>
Not a priority, but it's nice when I can do something nice for printed specs. ^_^

[16:27:38.0000] <MikeSmith>
yeah

[16:27:48.0000] <MikeSmith>
so btw does bikeshed have problems with some unicode chars?

[16:28:10.0000] <TabAtkins>
It shouldn't, but it's possible there are spots where I'm still messing up.  If so, please report with a repro.

[16:28:15.0000] <MikeSmith>
ok

[16:28:20.0000] <TabAtkins>
Ideally a stripped down .bs file that causes the error.

[16:28:35.0000] <TabAtkins>
But a full file with a pointer to what's wrong works too.

[16:29:04.0000] <TabAtkins>
(I put a lot of effort into making it unicode-clean, but I've also changed a lot since then, and it's very possible that errors have crept in since then.)

[16:32:39.0000] <MikeSmith>
I plan to start using bikeshed for some stuff soon

[16:34:16.0000] <TabAtkins>
Cool!


2014-10-17
[17:31:55.0000] <TabAtkins>
MikeSmith: Curious, what are you planning to write with Bikeshed?

[17:53:10.0000] <MikeSmith>
TabAtkins: reference docs for HTML elements

[17:53:16.0000] <TabAtkins>
ah, kk

[17:54:09.0000] <TabAtkins>
Note that Bikeshed does have an "elementdef" shorthand, which is... not currently documented.  I'll fix that.

[17:54:42.0000] <MikeSmith>
oh cool

[23:32:21.0000] <jamesr__>
TabAtkins: mystery feature is best feature

[23:34:24.0000] <TabAtkins>
jamesr__: http://memegenerator.net/instance/55380835

[23:45:24.0000] <jamesr__>
wow such ads

[23:45:25.0000] <jamesr__>
so slow load

[00:41:59.0000] <annevk>
http://www.dreamhoststatus.com/2014/10/16/https-web-site-owners-ssl-v-3-disablement/

[00:42:42.0000] <annevk>
"(Remember, everything less than TLS 1.2 with an AEAD mode is cryptographically broken.)" https://www.imperialviolet.org/2014/10/14/poodle.html

[00:42:46.0000] <annevk>
Anyone know anything about that?

[00:44:28.0000] <annevk>
MikeSmith: I wonder how much could be solved if we had a way to indicate a tabgroup

[01:24:37.0000] <MikeSmith>
annevk: dunnoーI've not spent enough time looking at to have an informed view on it. But please post to that bug if you have thoughts.

[01:26:40.0000] <MikeSmith>
annevk: btw I'm looking into getting the w3c validator working over TLS. I'm told it should be relatively easy. I guess it's just a matter of somebody making time to do it

[01:29:34.0000] <annevk>
MikeSmith: hsivonen mentioned some issues, but I'm not sure what they were

[01:29:43.0000] <annevk>
MikeSmith: well, I don't remember

[01:30:03.0000] <annevk>
MikeSmith: but yeah, if you have full control over the server it should be quite easy

[01:39:04.0000] <MikeSmith>
annevk: yeah I don't know what issues hsivonen was thinking about but as far as I can tell, with the was W3C systems handle the TLS termination, deploying under TLS in the W3C environment doesn't require me to do anything different at all with the vnu instances. It should should work.

[01:41:08.0000] <MikeSmith>
annevk: in other news, do you have any opinion on what we should do about document-conformance requirements for meta@http-equiv=X-UA-Compatible

[01:42:02.0000] <MikeSmith>
one option is to just put it into the spec and make it valid. Another is to put it into the spec and make it required

[01:42:22.0000] <annevk>
MikeSmith: won't it wither and die with all older IE versions?

[01:42:46.0000] <MikeSmith>
one would hope. But we don't seem to be there yet

[01:43:25.0000] <MikeSmith>
in the mean time, most boilerplate things like bootstrap include it

[01:43:36.0000] <MikeSmith>
s/most/all

[01:44:03.0000] <MikeSmith>
so the spec is currently at odds with reality on this

[01:45:10.0000] <MikeSmith>
in practical terms for me, it means the validator is emitting an error for it that is just wasting developers' time, because they're not going to remove it from their documents.

[01:45:53.0000] <annevk>
MikeSmith: I think at the very least that the proposal to emit an error for developers that have not included it, would also be wasting time

[01:45:54.0000] <MikeSmith>
and sorta worse, downstream tools that embed the validator have to add code to filter out that error

[01:46:45.0000] <annevk>
MikeSmith: but I'm okay with making cruft conforming, we're allowing <br/> after all

[01:47:08.0000] <MikeSmith>
annevk: so yeah point taken and that suggests we should make it valid but optional

[01:47:23.0000] <MikeSmith>
annevk: ok what about meta@name=viewport

[01:50:59.0000] <annevk>
MikeSmith: same opinion

[01:51:12.0000] <MikeSmith>
hai

[02:34:43.0000] <MikeSmith>
annevk: fyi just filed https://www.w3.org/Bugs/Public/show_bug.cgi?id=27091 about meta@http-equiv=X-UA-Compatible

[02:34:52.0000] <MikeSmith>
hsivonen: ↑

[02:35:58.0000] <MikeSmith>
reading https://wiki.whatwg.org/wiki/Talk:PragmaExtensions I see that Hixie considers this to be a bug in the IANA registry and not really a bug in the spec. Given that, if I make the validator not report an error for it, that's not a wilful violation of the HTML spec, it's just resigning ourselves to the fact that the IANA registration process is broken

[02:37:25.0000] <MikeSmith>
hsivonen: given that, would you be OK with me going ahead and changing the vnu schema to allow meta@http-equiv=X-UA-Compatible now

[02:41:15.0000] <MikeSmith>
for those who appreciate irony, the page at https://wiki.whatwg.org/wiki/PragmaExtensions which says that meta@http-equiv=X-UA-Compatible is not valid itself has <meta http-equiv="X-UA-Compatible" content="IE=EDGE" />

[02:41:25.0000] <MikeSmith>
view-source:https://wiki.whatwg.org/wiki/PragmaExtensions

[02:49:53.0000] <annevk>
MikeSmith: I find the idea that http-equiv is actually equivalent to HTTP headers somewhat absurd

[02:50:07.0000] <annevk>
MikeSmith: not sure why Hixie maintains that point of view

[02:50:53.0000] <MikeSmith>
I think he's just trying to impose some reasoning on it

[02:51:02.0000] <MikeSmith>
but yeah I guess it's really just a fiction

[03:07:08.0000] <gsnedders>
does anyone know how ePub readers parse XHTML de facto? Because AFAICT they all support non-WF content

[03:11:00.0000] <MikeSmith>
gsnedders: They just just use webkit and I've been told it just goes through the text/html parser in webkit not the XML parser

[03:13:53.0000] <gsnedders>
MikeSmith: the HTML5 parser in WebKit? Because AIUI stuff like <script /> is handled

[03:14:49.0000] <gsnedders>
(which IIRC the old WebKit parser handled through reparsing?)

[03:15:13.0000] <MikeSmith>
hmm maybe they are using the old parser then

[03:16:15.0000] <MikeSmith>
and if so they can't change it now I guess ,if they have ebooks out in the wild with stuff like <script />

[03:16:32.0000] <gsnedders>
Calibre currently uses a patched version of html5lib (except where it's packaged in distros like arch which just use upstream html5lib and probably break stuff…)

[03:16:51.0000] <MikeSmith>
the epub people seem to have dug themselves into a lot of holes -- against advice from others

[03:16:59.0000] <gsnedders>
totally

[03:17:55.0000] <MikeSmith>
I think hsivonen might know something about the implementation details on particular readers -- based on research he did a couple years back

[03:18:15.0000] <MikeSmith>
but maybe he didn't go too deep into the details, I dunno

[03:18:20.0000] <gsnedders>
no JS makes testing tiresome, le sigh

[03:18:27.0000] <gsnedders>
(at least in most readers)

[03:19:13.0000] <MikeSmith>
they

[03:19:43.0000] <MikeSmith>
we just need to move ebooks to the web where they belong and where the rest of the world's information content is

[03:21:20.0000] <MikeSmith>
all of these problems they have arise for requiring users to download and install some separate "reading system" application that users don't want to install to begin with

[03:21:32.0000] <MikeSmith>
it's fundamentally all user-hostile

[03:21:53.0000] <gsnedders>
the problem is all getting content to be licensed DRM-free in the first place

[03:24:23.0000] <gsnedders>
Google Play gets away with doing it all in browser with a page or so of buffering

[03:24:29.0000] <gsnedders>
but never actually opens the whole thing

[03:24:37.0000] <gsnedders>
and makes it incredibly user-hostile to copy anything

[03:24:54.0000] <MikeSmith>
yep

[03:27:21.0000] <MikeSmith>
the prevent-users-from-copying user hostility just naturally follows from the fundamental flawed foundation of the whole thing

[03:30:42.0000] <MikeSmith>
we need a kickstarter-like thing for book authors

[03:30:44.0000] <gsnedders>
tbf, people were trying to prevent copying stuff frm the web 15 years ago

[03:30:58.0000] <MikeSmith>
oh they still are

[03:31:00.0000] <gsnedders>
at least the book industry isn't so hellbent on DRM as the movie industry

[03:31:12.0000] <gsnedders>
oh, I'm not saying that — I'm just saying it's not a new phenomom

[03:31:18.0000] <MikeSmith>
ok

[03:33:07.0000] <MikeSmith>
anyway the core problem here is publishers. The Web doesn't need "publishers", and books don't need publishers either

[03:33:25.0000] <jgraham>
They often do need marketing departments

[03:33:44.0000] <jgraham>
Which is about 90% of the function of a publisher

[03:33:47.0000] <MikeSmith>
books should be free but we should have a better way to be able to pay authors to write them

[03:34:29.0000] <MikeSmith>
the web is its own marketing department

[03:34:39.0000] <MikeSmith>
the web already has discoverability

[03:34:50.0000] <MikeSmith>
and good search engines

[03:35:15.0000] <MikeSmith>
and other good ways to raise visibility of quality content

[03:38:33.0000] <MikeSmith>
and authors can get together to create their own branded web presenses together without relying on some sugar-daddy publisher where they're just some insignificant tiny sharecropper

[03:46:36.0000] <jgraham>
I think when enough authors get together like that, they will hire some people to handle the parts they aren't good at.

[03:46:48.0000] <jgraham>
Pretty soon you have recreated a publisher

[03:49:17.0000] <jgraham>
c.f. http://www.antipope.org/charlie/blog-static/2013/03/why-i-dont-self-publish.html

[03:49:56.0000] <MikeSmith>
yeah that's the basic argument but I personally find it more of an excuse for authors to be lazy and complain

[03:50:15.0000] <MikeSmith>
compare this situation to indie bands

[03:52:24.0000] <jgraham>
Who largely self-organise into record labels and often preferentially sign with the large corporate labels?

[03:53:24.0000] <jgraham>
(that is: there are a non-zero number of cases where bands release their first record on some small label, have a little success and then choose to sign to a larger label)

[03:55:40.0000] <MikeSmith>
the vast majority of bands that sign to a larger label don't make money

[03:55:53.0000] <MikeSmith>
in many cases, they end up owing the record label money

[03:56:37.0000] <MikeSmith>
things like https://bandcamp.com/ allow them to have a chance to actually make some money off their records

[03:57:11.0000] <jgraham>
So I agree that the record industry is strucutred to send most of the money to the label

[03:57:39.0000] <MikeSmith>
yeah

[03:57:41.0000] <jgraham>
It isn't clear that the same is true of publishing, or that indie-ness really helps

[03:58:13.0000] <jgraham>
If being on an artist-run label is so much more profitable, why wouldn't everyone do it?

[03:58:51.0000] <MikeSmith>
anyway, I understand Charles Stross's POV but he's making a choice not just to save himself money and work. He's choosing to push costs off onto the people who want to read his books.

[04:00:26.0000] <MikeSmith>
jgraham: as far as "why wouldn't everyone do it", because is requires additional work

[04:01:12.0000] <MikeSmith>
when I was young I remember there was a time when music clubs move to a "pay to play" system where bands basically had to rent a club if they wanted to perform tehre

[04:04:05.0000] <MikeSmith>
but bands I knew were already doing "pay to play" in that if they wanted to have a place to perform and get people to show up, they rented some Knights of Columbus meeting hall or other odd place

[04:06:18.0000] <MikeSmith>
bands that were actually good got known that way and moved on to playing in bigger places. But they got known for doing good live performances first.

[04:09:13.0000] <MikeSmith>
other kinds of bands got known first mostly from just putting out songs on 12-inch singles that got played at live shows by DJs but never got played on any commercial radio stations. And that's how they got known

[04:10:48.0000] <MikeSmith>
anyway there are lots of ways to get known and eventually get money that don't involve lazily relegating all the work to some company with a marketing department

[04:13:02.0000] <MikeSmith>
and somebody who is known like Charles Stross could instead use a kickstarter-like service to raise money for the equivalent of the 2 months of publishing-company production work he claims is needed to complete the publishing process for one of his books

[04:34:18.0000] <jgraham>
Sure, but kickstarter tends to reward the already-well-known

[04:34:50.0000] <hsivonen>
annevk, MikeSmith: The TLS problem with Validator.nu is that the requests the validator itself makes are without SNI

[04:35:41.0000] <hsivonen>
annevk, MikeSmith: for hosting the validator itself, this means it's embarrassing if the validator is hosted in a SNI-requiring way and, therefore, the validator is unable to validate itself

[04:36:17.0000] <hsivonen>
annevk, MikeSmith: what's really blocking validator.nu being hosted behind TLS, though, is that I haven't decided how to get certs

[04:36:19.0000] <annevk>
hsivonen: how can it validate other SNI domains then?

[04:36:37.0000] <hsivonen>
annevk: it can't. and that's going to be a bigger and bigger problem!

[04:36:38.0000] <MikeSmith>
hsivonen: ah yeah I remember overhearing that discussion now

[04:36:42.0000] <hsivonen>
(that needs to be fixed)

[04:36:59.0000] <annevk>
hsivonen: works for whatwg and my site...

[04:37:51.0000] <hsivonen>
annevk: that's probably because the validator doesn't check the host name against the cert and then the HTTP Host header dispatch happens independently of SNI

[04:38:00.0000] <hsivonen>
annevk: good discovery

[04:38:28.0000] <hsivonen>
as for getting certs, first I was thinking of using SNI and getting a wildcard from sslmate.

[04:38:53.0000] <hsivonen>
then, I figured I'd get identity validated at StartSSL and mint a cert with all my domains

[04:40:04.0000] <hsivonen>
then I looked at what identity validation means and figured that it's BS that I should give someone ammo to commit identity theft against me in order to get certs

[04:40:16.0000] <hsivonen>
after all, having my name on a non-EV cert is pointless

[04:40:20.0000] <hsivonen>
what matters is DV

[04:41:05.0000] <hsivonen>
the StartSSL requirement to perform identity validation for DV certs seems just and excuse to do some work that justifies the business model

[04:41:21.0000] <annevk>
DV?

[04:41:30.0000] <hsivonen>
domain validation

[04:41:45.0000] <hsivonen>
validating that the public key belongs to validator.nu

[04:42:07.0000] <hsivonen>
users aren't going to care if the cert also says something about "Henri Sivonen" in the non-EV case

[04:42:37.0000] <hsivonen>
in the non-EV case, Firefox will say the site is "run by (unknown)" even if the cert claims it's run by "Henri Sivonen"

[04:42:52.0000] <hsivonen>
so having the string "Henri Sivonen" is pretty useless

[04:42:59.0000] <MikeSmith>
yep

[04:43:17.0000] <annevk>
Yeah I don't get why CAs have class1-4 and various other things as UAs just don't care

[04:43:19.0000] <hsivonen>
so I heard about Namecheap selling multidomain Comodo certs without such bogus paperwork

[04:43:28.0000] <MikeSmith>
what Firefox is doing is the right thing. Other browsers don't say that?

[04:43:46.0000] <hsivonen>
but it seems the advertised pricing at Namecheap is misleading and too good to be true

[04:44:34.0000] <hsivonen>
now I'm stuck between giving StartSSL paperwork I shouldn't have to give to a CA and researching how much the Namecheap offering would really cost me

[04:44:54.0000] <MikeSmith>
annevk: maybe CAs have that for some client cases other than browsers

[04:45:33.0000] <hsivonen>
annevk: I suppose for S/MIME, the distinction between StartSSL free and identity validated certs makes a bit of sense

[04:47:02.0000] <annevk>
hsivonen: why is 30 USD per year cheap?

[04:48:59.0000] <hsivonen>
annevk: that's the effective per-year cost of two-year identity validated StartSSL certs, right?

[04:49:30.0000] <annevk>
hsivonen: except with StartSSL you can mint a million of them and they offer wildcards too

[04:49:41.0000] <hsivonen>
MikeSmith: Chrome and IE don't expose the string "Anne Van Kesteren" for annevankesteren.nl in the doorhanger, either

[04:49:57.0000] <annevk>
Such a sad string, happy they don't show it

[04:49:59.0000] <MikeSmith>
ok good

[04:50:07.0000] <hsivonen>
annevk: right. I don't know how much the Namecheap option would actually cost

[04:50:08.0000] <annevk>
The Common Name field is also completely broken

[04:50:16.0000] <annevk>
But that seems not restricted to StartSSL

[04:50:50.0000] <hsivonen>
I will probably end up sending StartSSL paperwork I shouldn't have to send them and hope they aren't running an identity theft scam

[04:54:03.0000] <MikeSmith>
hsivonen: btw I notice that Nightly no longer "which is run by (unknown)" for the non-EV case. I just shows omits that part completely. You have to use the "more information" button to see "Owner: This site does not supply ownership information."

[04:54:33.0000] <MikeSmith>
hsivonen: The old behavior was better for users. I wonder why it was changed.

[04:57:04.0000] <annevk>
hsivonen: you could prolly try argue with the founder of StartSSL

[04:57:09.0000] <MikeSmith>
/me looks down to the actual cert and sees that the O for *.whatwg.org is "Anne Van Kesteren"

[04:57:16.0000] <annevk>
hsivonen: he answers support email, it's pretty cool

[04:57:38.0000] <annevk>
MikeSmith: sssh, don't tell anyone

[04:57:42.0000] <MikeSmith>
heh

[04:57:50.0000] <JakeA>
annevk: "run Soft Update just before you plan on booting the service worker" - why before? Are you suggesting blocking the SW running on the update completing?

[04:58:49.0000] <annevk>
JakeA: I don't know, you'll need to decide that. But say I visit gmail.com and get a SW. Then 48h later it sends a push message. What is the UA to do?

[04:59:32.0000] <annevk>
JakeA: or I visit gmail.com and get an SW. gmail.com shows a notification. I close gmail.com and 48h later I click the notification. What is the UA to do?

[05:00:59.0000] <JakeA>
annevk: in the first example, the push message would be handled immediately & the update happens in the background

[05:01:19.0000] <annevk>
JakeA: so that means you can run a SW that is older than 24h

[05:01:32.0000] <JakeA>
annevk: yes, you must be able to do that

[05:01:45.0000] <annevk>
JakeA: is that also what happens on navigation?

[05:01:51.0000] <JakeA>
annevk: yes

[05:01:59.0000] <annevk>
JakeA: okay fine, then that's what I'm proposing

[05:02:05.0000] <hsivonen>
annevk: also, I want to choose an option that I'm willing to pay for indefinitely from one of two CAs

[05:02:15.0000] <annevk>
JakeA: except instead of making it conditional on navigating, just make it conditional on booting

[05:02:15.0000] <JakeA>
annevk: I don't want all my apps failing because I've been abroad & no connection for 25hrs

[05:02:26.0000] <JakeA>
gotcha

[05:02:37.0000] <hsivonen>
annevk: that is, if I mint a cert at StartSSL that's insanely expensive to mint anywhere else, things will be bad if there's ever a reason to switch CAs

[05:03:02.0000] <annevk>
hsivonen: start deprecating your subdomains now

[05:03:23.0000] <annevk>
hsivonen: although it seems CloudFlare is offering wildcard certs pretty cheaply too now

[05:03:50.0000] <annevk>
JakeA: well they wouldn't fail, they would just be slower to boot once you have connectivity, but avoiding that would be good too

[05:04:31.0000] <annevk>
JakeA: that does mean you have to support the SW script URL forever theoretically speaking

[05:04:41.0000] <annevk>
but that makes sense

[05:07:51.0000] <MikeSmith>
hsivonen: so, about X-UA-Compatible, you ok with me landing https://github.com/validator/validator/commit/53d1154d6dcb18f6280e4b54d53c5ce48328072e ? Or would you prefer to wait for https://www.w3.org/Bugs/Public/show_bug.cgi?id=27091 to be resolved?

[05:11:11.0000] <hsivonen>
/me looks at the bug for rationale

[05:13:00.0000] <MikeSmith>
hsivonen: I can add more rationale in the bug but basically it comes down to, it's used all over the place and in bootstrap and the other kinds of boilerplate kits like that, and recommended in 3rd-party best-practices docs, etc.

[05:13:21.0000] <MikeSmith>
hsivonen: in other words we lost the fight. We lost it a long time ago, actually

[05:13:25.0000] <hsivonen>
MikeSmith: can we make IE=edge the only valid value?

[05:14:02.0000] <hsivonen>
this is product-specific markup, so in principle it should be invalid

[05:14:13.0000] <MikeSmith>
hsivonen: I think Hixie would like to probably. Hixie was actually wonder if we should just make the whole element required.

[05:14:25.0000] <hsivonen>
but then "RDFa" is, in practice, Facebook-specific markup, and we gave up on that one

[05:14:41.0000] <MikeSmith>
hsivonen: the reality in this case doesn't align well with the principle

[05:14:54.0000] <hsivonen>
MikeSmith: why should it be required now that new IE defaults to edge?

[05:15:05.0000] <MikeSmith>
yeah (about the Facebook RDFa stuff)

[05:15:25.0000] <MikeSmith>
hsivonen: for older IEs I guess

[05:15:36.0000] <hsivonen>
I'm inclined to opine "let's allow but IE=edge only"

[05:15:49.0000] <hsivonen>
(Chrome Frame is dead)

[05:16:19.0000] <hsivonen>
calling the lack of doctype invalid but IE=5 valid seems all wrong

[05:17:03.0000] <hsivonen>
MikeSmith: also, considering that new IE defaults to edge, I don't think it's a given that we "lost"

[05:17:35.0000] <MikeSmith>
hsivonen: I mean we've lost as far as not wasting validator user's time currently

[05:17:49.0000] <MikeSmith>
everyone simply ignores this error

[05:17:51.0000] <hsivonen>
MikeSmith: OK. I suggest allowing IE=edge only

[05:17:55.0000] <MikeSmith>
OK

[05:18:02.0000] <hsivonen>
OK. thanks

[05:18:10.0000] <MikeSmith>
thank you

[05:28:14.0000] <hsivonen>
annevk: no way around it that StartSSL is the cheapest option

[05:28:43.0000] <hsivonen>
but there's still the issue that doing too much TLS with StartSSL poses a problem if ever switching CAs

[05:29:11.0000] <hsivonen>
so even if I got identity validated, I'd have to decide which subset of my hostnames to enable TLS for

[05:30:11.0000] <hsivonen>
this is quite a switch that with TLS, you have to think about buying your hostnames instead of thinking about buying domains, only

[05:37:21.0000] <annevk>
I was hoping domain registrars could just start handing out certificates, but given the state of DNSSEC that might not be a good idea

[05:38:05.0000] <hsivonen>
annevk: DNSSEC is basically a CA with a 1024-bit root and unpoliced intermediate practices

[05:38:24.0000] <hsivonen>
annevk: regarding brokenness of everything except TLS 1.2 AEAD suites:

[05:38:43.0000] <hsivonen>
annevk: RC4 is the only non-AEAD stream cipher and is broken

[05:38:58.0000] <hsivonen>
annevk: non-AEAD block cipher modes are all CBC

[05:39:12.0000] <hsivonen>
CBC in SSLv3 is vulnerable to POODLE

[05:39:22.0000] <hsivonen>
CBC in TLS 1.0 is vulnerable to BEAST

[05:40:19.0000] <annevk>
And TLS 1.1?

[05:40:49.0000] <hsivonen>
CBC is in TLS 1.1 and TLS 1.2 is "MAC, then encrypt", which violates the "Cryptographic Doom Principle"

[05:40:58.0000] <hsivonen>
http://www.thoughtcrime.org/blog/the-cryptographic-doom-principle/

[05:41:52.0000] <hsivonen>
so that leaves just the AEAD suites

[05:42:21.0000] <hsivonen>
...whose ECDHE variants in practice are limited to NIST curves, whose design is questionable

[05:42:25.0000] <hsivonen>
so, yay

[05:42:46.0000] <annevk>
So this is why everyone is hpoeful about TLS 1.3?

[05:42:49.0000] <annevk>
What a clusterfuck

[05:43:23.0000] <annevk>
Why do we keep doing protocols at the IETF again?

[05:44:54.0000] <jgraham>
To be fair, cryptography is hard

[05:47:44.0000] <hsivonen>
annevk: regarding the NIST curves: http://safecurves.cr.yp.to/bada55/bada55-20140722.pdf

[05:48:25.0000] <annevk>
jgraham: but with these protocols nearly everything went wrong, not just the crypto

[05:48:50.0000] <annevk>
jgraham: e.g. version negotiation has been a complete disaster

[05:52:39.0000] <hsivonen>
annevk: to be fair, the IETF inherited backward compat requirements from Netscape

[05:53:13.0000] <hsivonen>
annevk: and the name TLS is Microsoft's fault (though the IETF let Microsoft impose the name)

[05:53:20.0000] <jgraham>
I don't doubt that things could have been done better. But "nearly everything went wrong" is evidently not true

[05:57:52.0000] <hsivonen>
annevk: FWIW, things would be much better if malicious JS on one origin couldn't cause requests to origin of its choice *with cookies*

[05:58:20.0000] <hsivonen>
annevk: so much of the blame lies in the Web Platform being unusual in terms of what capabilities the attacker is given

[05:58:45.0000] <annevk>
hsivonen: there's a proposal of sorts for samedocument / firstparty cookies

[05:58:51.0000] <annevk>
hsivonen: there's even a patch for Firefox

[05:59:03.0000] <hsivonen>
annevk: what's blocking it?

[05:59:12.0000] <annevk>
hsivonen: there's a lack of interest

[05:59:32.0000] <hsivonen>
:-(

[05:59:50.0000] <annevk>
hsivonen: https://people.mozilla.org/~mgoodwin/SameDomain/

[06:00:19.0000] <annevk>
Maybe I should subscribe to dev-security and ask it to be revived

[06:00:40.0000] <annevk>
Adding a powerful new directive to cookies seems like a good thing

[06:01:13.0000] <annevk>
Let me bug Mike West

[06:01:14.0000] <hsivonen>
yeah, though see "cookie cutter attacks" regarding directives :-(

[06:07:42.0000] <annevk>
Turns out that was a good bet, he's picking up https://github.com/mikewest/cake from abarth

[06:08:06.0000] <annevk>
I gave him mgoodwin's contact details so they can sort out the firstparty idea

[06:21:04.0000] <annevk>
hsivonen: that's a hard attack to search for, http://en.wikipedia.org/wiki/Cookiecutter_shark

[07:11:28.0000] <gsnedders>
Interesting Chakra seemed to have followed Carakan in only having an optimizing compiler originally, given everyone else started out with a baseline JIT.

[07:20:09.0000] <hsivonen>
annevk: I don't have a cookie cutter reference other than Ivan Ristic's book

[07:20:41.0000] <hsivonen>
annevk: the idea is that the attacker forcibly forces end of stream such that the ; secure token is lost from a cookie

[07:20:52.0000] <hsivonen>
annevk: then it gets sent to the attacker without TLS

[07:21:28.0000] <hsivonen>
annevk: and this works, because even though the TLS layer detects truncation, the HTTP layer doesn't fail in browsers when the TLS layer detects that something is wrong

[07:21:38.0000] <annevk>
hsivonen: https://twitter.com/ivanristic/status/458689481340878848

[07:22:13.0000] <hsivonen>
annevk: oh a fix. cool

[07:23:32.0000] <annevk>
hsivonen: https://secure-resumption.com/tlsauth.pdf perhaps

[07:24:37.0000] <annevk>
hsivonen: https://code.google.com/p/chromium/issues/detail?id=244260 seems like browsers might have fixed this

[07:25:01.0000] <annevk>
hsivonen: does seem like something not actually described by any specification though :-(

[07:35:29.0000] <gsnedders>
waitwhat, StartSSL *generates the private key* in the browser?!!!!

[07:35:44.0000] <gsnedders>
ignore me while I go and cry

[07:36:11.0000] <hsivonen>
gsnedders: <keygen> is OK

[07:36:36.0000] <hsivonen>
gsnedders: the part where they offer to generate a private key on their "HSM" is the scary part

[07:36:48.0000] <gsnedders>
but what do they do on IE, then?

[07:37:18.0000] <hsivonen>
IE has some VBScript equivalent of <keygen>, IIRC

[07:37:31.0000] <gsnedders>
I thought VBScript support had been dropped except on old compat modes?

[07:37:53.0000] <hsivonen>
maybe test it in IE?

[07:38:31.0000] <gsnedders>
/me doesn't have a working up-to-date IE here

[07:39:23.0000] <gsnedders>
hsivonen: if they're using <keygen> howe do you get your private key, though? per spec it's just stored in some undefined local keystore, so you need some per-browser way to get at it??

[07:40:56.0000] <gsnedders>
because startssl seem to dump it in a <texarea>, and I can't see how you can do that with <keygen>

[07:41:55.0000] <gsnedders>
and if it's in a <textarea>, they could've XHR'd it up to their server so you really do need to trust it

[07:44:10.0000] <annevk>
gsnedders: you can allow StartSSL to generate a private key, but you can also give them an CSR

[07:44:31.0000] <annevk>
s/an/a/

[07:45:00.0000] <gsnedders>
if it really is done in-browser then it's kinda pointless given you're pretty much doomed to be using a PRNG

[07:45:48.0000] <annevk>
gsnedders: given the conversation above about <keygen>, it's not entirely clear to me what part you're talking about

[07:45:57.0000] <annevk>
gsnedders: authentication goes through <keygen>

[07:46:38.0000] <annevk>
gsnedders: certificates have their own distinct UI; if you take them up on their offer to generate a private key, it will be done on their hardware

[07:47:00.0000] <gsnedders>
annevk: ok, what I'd seen made it sound like it was done in-browser

[08:15:52.0000] <Domenic>
JakeA: how often does updatefound fire?

[08:17:16.0000] <JakeA>
Domenic: update checks happen on navigation, and if the fetched SW is byte-different from the current version, updatefound fires

[08:17:28.0000] <Domenic>
JakeA: so, somewhat often then. OK cool.

[08:17:52.0000] <Domenic>
JakeA: was wondering if it was a candidate for http://www.w3.org/2001/tag/doc/promises-guide#one-time-events

[08:18:12.0000] <JakeA>
Domenic: you can limit updates using max-age on the script, but to a max of 24hr

[08:18:45.0000] <JakeA>
Domenic: ahh I see. No, it's possible to have that fire multiple times through the life of the doc

[08:18:54.0000] <JakeA>
Rare I imagine, but possible

[08:31:57.0000] <Domenic>
JakeA: yeah. even that's not too much of a problem, but the question is really do you want to set it and only handle the next case, or set it and handle all future cases. i'd guess the latter, so event is good.

[09:40:11.0000] <Hixie>
the HTML spec explicitly says that http-equiv isn't equivalent to HTTP headers, i haven't said they were equivalent for years

[09:42:02.0000] <tantek>
Hixie I can see it now

[09:43:12.0000] <tantek>
http-equiv is not equivalent. distributed extensibility is slavery. living specificiation is stability. ;)

[09:43:39.0000] <Ms2ger>
Stalality?

[09:43:43.0000] <Hixie>
not sure about that middle one

[09:44:17.0000] <Hixie>
(distributed extensibility is reasonable, a priori. It's the way it's usually implemented that's the problem.)

[09:58:39.0000] <tantek>
distributed extensibility is both an anathema to interoperability, and a reasonable source of research for standards development.

[10:33:14.0000] <TabAtkins>
Anyone wanting to run Bikeshed on Windows, and willing to test the new install steps that just got committed to the documentation?

[10:36:00.0000] <TabAtkins>
If so, https://github.com/tabatkins/bikeshed/blob/master/docs/install.md and let me know.

[10:43:58.0000] <Domenic>
<3

[10:47:26.0000] <Hixie>
tantek: nah, you can make things extensible without losing interop. I mean, all scripting is basically "extensibility" for example. Same with the class="" attribute.

[10:47:49.0000] <Hixie>
tantek: microformats is an example of "distributed extensibility" and it doesn't harm interop.

[10:48:50.0000] <tantek>
Hixie - au contraire - the fact that microformats is a community for agreeing upon vocabularies has often been a criticism in the past (centralized).

[10:49:05.0000] <tantek>
and that agreement (as "centralized" as it may be) is the reason for interop

[10:49:27.0000] <tantek>
similarly, registries, like the rel registry

[10:49:30.0000] <tantek>
meta names

[10:49:31.0000] <tantek>
etc.

[10:50:28.0000] <tantek>
class attribute is a good example of distributed != interop. e.g. try re-using a style sheet from one site with the HTML with class names of another - I'd be very suprised if you found *any* interop there

[10:51:03.0000] <Hixie>
sure, the "implementation" of the class attribute is the style sheet or script that uses it

[10:51:14.0000] <tantek>
the d.e. folks aren't really interested in interop (or they don't understand interop), they appear to be mostly interested in the *freedom* to just make things up (like XML before them, etc.)

[10:51:37.0000] <tantek>
hence the analogy to Orwell's "freedom is slavery" 1984 quote

[10:51:38.0000] <Hixie>
i mean you could say that different file formats are bad for interop because if you take an HTML file and stick it in a PDF viewer, it fails, but i'm not sure that's an argument against anything useful

[10:51:53.0000] <Hixie>
there are many "d.e. folk" with different interests

[10:52:04.0000] <tantek>
my PDF viewer happens to be Firefox so maybe that works now?

[10:52:21.0000] <Hixie>
you know what i mean

[10:52:30.0000] <tantek>
Hixie, I admit I have not maintained a sourced taxonomy of "d.e. folk". could make for an interesting study.

[10:55:18.0000] <Hixie>
"distributed extensibility" just means "the ability to do new things (extend) without coordination with the original source (distributed)"

[10:55:51.0000] <Hixie>
"document.foo = 1" is "distributed extensibility" -- you're extending the Document object with a property "foo"

[10:56:00.0000] <Hixie>
without coordinating with Anne

[10:59:02.0000] <tantek>
seems we have different meanings for d.e. which I suppose is self-consistent with the term

[10:59:24.0000] <Hixie>
what's your meaning for it?

[10:59:27.0000] <TabAtkins>
Hahaha

[11:00:17.0000] <tantek>
that different (distributed) people/groups can extend and expect interop

[11:02:54.0000] <Hixie>
how is that inconsistent with my example?

[11:03:24.0000] <Hixie>
what do you mean by "interop"?

[11:04:23.0000] <Hixie>
do you mean like group A and group B both come up with technology for describing contact details, and somehow content from group A works fine in processors made by group B despite them having no coordination?

[11:04:37.0000] <Hixie>
because that seems like a magical pipedream that has never happened and is unlikely to happen anytime soon

[11:04:51.0000] <Hixie>
if you don't mean that, then it seems consistent with what i said

[11:07:32.0000] <boogyman>
annevk: i saw http://wingolog.org/archives/2014/10/17/ffs-ssl and thought you might get a kick out of it.

[11:09:06.0000] <TabAtkins>
In the phrase "javascript crypto", my eyes *insist* that "javascript" is misspelled and needs a "y" in it.

[11:11:21.0000] <annevk>
boogyman: I think he's wrong about StartSSL

[11:12:09.0000] <annevk>
boogyman: also, it seems he forgot about the HSTS part?

[11:12:25.0000] <boogyman>
hsts is down further in the article

[11:13:32.0000] <annevk>
boogyman: it's not enabled though, you gave me a http:// link

[11:14:29.0000] <boogyman>
"Except that doesn't work the first time you go to a web site"

[11:15:12.0000] <annevk>
boogyman: he has not enabled it

[11:15:47.0000] <annevk>
Anyway, as seen earlier today it's fairly easy to rant about TLS

[11:16:45.0000] <boogyman>
I just thought you may have some empathy for the author.

[11:17:17.0000] <annevk>
boogyman: fair

[11:44:55.0000] <TabAtkins>
Domenic: Dunno if you're using the {{foo!type}} syntax yet, but if so, I've changed it to use two !! to make collisions less likely.

[11:45:11.0000] <Domenic>
TabAtkins: don't know what that does, heh

[11:45:20.0000] <TabAtkins>
All right, cool. ^_^

[11:45:56.0000] <TabAtkins>
It's an inline type specifier for the shorthand syntax.  Identical to <a data-link-type=type>foo</a>.

[11:46:44.0000] <TabAtkins>
(Since {{foo}} defaults to the "idl" link type, and sometimes you need to disambiguate.)

[11:46:52.0000] <TabAtkins>
(I'm adding it to the other link shorthands right now.)

[11:53:59.0000] <annevk>
TabAtkins: can https://dom.spec.whatwg.org/ be done in Bikeshed? Note how it no longer has "This version" links or an editor field or some such

[11:56:18.0000] <annevk>
Hixie: I fixed the Twitter script, but the last two commits did not use it

[12:11:51.0000] <Domenic>
annevk: I made TabAtkins get rid of "this version"; unsure if editor is optional yet.

[12:23:28.0000] <Hixie>
annevk: k

[12:31:34.0000] <TabAtkins>
annevk: Hm, why no editor?

[12:32:09.0000] <Hixie>
HTML doesn't mention the editor either except in the acknowledgements

[12:32:13.0000] <TabAtkins>
Relaxing these kinds of constraints means error-detection is less useful. :/  But if necessary, I can add a value that lets you explicitly opt out of Editor mandatoriness.

[12:32:19.0000] <Hixie>
(i felt it was too braggy, personally)

[12:46:13.0000] <Hixie>
anyone know why the w3c hasn't published the HTML5 REC yet? I thought they said they were done.

[12:46:23.0000] <Hixie>
I had assumed that meant they had reached REC

[12:48:07.0000] <wilhelm>
Something tells me it will be published in a week and a half, from a depressing conference hotel on a parking lot in Santa Clara.

[12:51:36.0000] <TabAtkins>
hahaha

[12:51:45.0000] <TabAtkins>
/me is doing nothing but posting "hahaha" today.

[12:54:20.0000] <wilhelm>
Mead may be required that week. That's not so far away, right?

[12:57:11.0000] <TabAtkins>
wilhelm: Rather close.  I'm going there today!

[13:28:46.0000] <annevk>
TabAtkins: I think marcosc suggested that at some point, to get the ego out of the game (in case there is any)

[13:31:10.0000] <TabAtkins>
annevk: Interesting.

[13:33:08.0000] <annevk>
And while I put a lot of time into writing and research, ultimately there's a great many people involved

[13:33:47.0000] <annevk>
I still have my contact details at the bottom of the document, which seems better as now people are more encouraged to use public communication mechanism

[13:33:53.0000] <annevk>
s

[13:36:25.0000] <TabAtkins>
All right, all right, I'll add a feature for it.

[13:36:42.0000] <TabAtkins>
Suggestions on what you should write in the `Editor:` line to indicate this?

[13:36:53.0000] <TabAtkins>
Editor: NOT IMPORTANT JEEZ

[13:37:24.0000] <astearns>
Editor: Schmeditor

[13:38:52.0000] <TabAtkins>
That's not a bad idea.

[13:39:06.0000] <annevk>
TabAtkins: leave it blank?

[13:39:23.0000] <annevk>
TabAtkins: or omit it? less boilerplate...

[13:39:41.0000] <estellevw>
Question re the autofocus attribute: https://html.spec.whatwg.org/multipage/forms.html#autofocusing-a-form-control:-the-autofocus-attribute.

[13:39:47.0000] <estellevw>
Only one element should have autofocus set. If more than one, implementation used to be the LAST element with the attribute would get focus. Safari still does this.

[13:39:55.0000] <estellevw>
All other browsers now focus on the FIRST element with autofocus.

[13:39:56.0000] <TabAtkins>
Omitting it means I can't log an error when you leave it out.  Most of the time you do want an editor+contact info up in the header.

[13:40:09.0000] <estellevw>
Don’t exactly see where in the spec this is indicated as the first should get focus.

[13:40:17.0000] <estellevw>
I filed a bug that the first should get focus a few years back, and am glad the change was made, but not sure what it the spec makes it so.

[13:40:35.0000] <Hixie>
estellevw: they should all get focus, as they are inserted.

[13:40:48.0000] <estellevw>
so, then, it should be the last one

[13:40:54.0000] <estellevw>
?

[13:41:04.0000] <TabAtkins>
Yeah, sounds like that's implied.

[13:41:10.0000] <Hixie>
right

[13:41:17.0000] <estellevw>
Which would mean only Safari is doing it right

[13:41:49.0000] <annevk>
TabAtkins: I want an error when I leave it in :p

[13:42:13.0000] <estellevw>
All browsers used to focus on the last one (other than some mobile that iddn’t support autofocus), but now all except Safari focus on the first one

[13:42:35.0000] <estellevw>
All = IE11, Chrome, Opera FF in the above sentence

[13:42:50.0000] <TabAtkins>
annevk: If you think it should be a general policy for WHATWG specs, okay, I can do something about that.  If it's just you, you can do it yourself. ^_^

[13:43:05.0000] <Hixie>
estellevw: (see "When an element with the autofocus attribute specified is inserted into a document, user agents should run the following steps")

[13:43:32.0000] <TabAtkins>
(Just need to put an `"Editor":"schmeditor"` line in defaults-whatwg.include .)

[13:43:35.0000] <Hixie>
estellevw: oh nevermind

[13:43:44.0000] <Hixie>
estellevw: step 7 means that you only actually move focus for the first one

[13:43:50.0000] <estellevw>
yeah, saw that, which is why I didn’t understand why IE, chrome, O and FF changed it to focusing on the 1st autofocus

[13:44:05.0000] <annevk>
TabAtkins: that sounds reasonable

[13:44:36.0000] <estellevw>
ah, so step 7 is what makes it the “1st” thanks Hixie

[13:44:44.0000] <TabAtkins>
Actually, we can add that line *now*, and if you actually specify an Editor, it'll override that.

[13:44:44.0000] <annevk>
TabAtkins: I guess I'll try to convert something simple like Fullscreen next week

[13:45:09.0000] <Ms2ger>
/me sure wouldn't mind not having to worry about anolis anymore

[13:45:22.0000] <annevk>
Actually, should probably start with URL as it wants Bikeshed for those syntax diagrams

[13:46:08.0000] <TabAtkins>
/me is eating the world.

[13:49:11.0000] <Domenic>
annevk: let me know if you want help getting the deploy process all set up. I really <3 my automatic generate-on-commit with /branch-snapshots/ and /commit-snapshots/

[13:49:25.0000] <TabAtkins>
Domenic: Write that stuff down, yo.

[13:49:42.0000] <Domenic>
It's really great for PRs where you can do e.g. https://github.com/whatwg/streams/pull/233 and then once Travis finishes building you can just link to hte branch snapshot

[13:49:45.0000] <Domenic>
TabAtkins: good idea

[13:50:25.0000] <Ms2ger>
Did anyone ever do an acid3 post-mortem?

[13:56:00.0000] <Hixie>
Ms2ger: not quite a postmortem, but i did write a "lessons learnt" list

[13:56:02.0000] <Hixie>
Ms2ger: http://hixie.ch/tests/evil/acid/004/

[14:01:08.0000] <annevk>
Domenic: so you edit one file and then commit? all the building happens remotely?

[14:01:13.0000] <annevk>
Domenic: what if you make a mistake?

[14:01:18.0000] <Domenic>
annevk: yep.

[14:01:28.0000] <Domenic>
annevk: I can also generate it locally

[14:01:46.0000] <Domenic>
annevk: haven't gotten a watcher up and running yet but it should be pretty easy now that there are instructions for running bikeshed on windows

[14:01:55.0000] <Domenic>
(i've been using curl in the meantime)

[14:02:32.0000] <Domenic>
more directly: I generate it locally, but i don't commit the generated content

[14:02:52.0000] <annevk>
"Array.prototype.values is not web compat (even with unscopables)"

[14:03:09.0000] <annevk>
That is some sad shit

[14:03:29.0000] <annevk>
Soon

[14:03:52.0000] <annevk>
"query() is not web compat (even with unscopables)"

[14:08:26.0000] <TabAtkins>
JS's extensibility comes back to bite it. :/

[14:09:32.0000] <annevk>
I wonder if the polyfill crowd is taking notes

[14:10:09.0000] <TabAtkins>
Designing good extensibility which is lightweight but avoids extensions quashing built-ins or the other way around is hard, but necessary.

[14:10:30.0000] <TabAtkins>
Hopefully modules and relationships end up making this easier, though it means migrating away from own properties.

[14:18:36.0000] <Domenic>
annevk: that's assuming array subclassing is even web-compatible :-S

[14:24:38.0000] <annevk>
Domenic: good point

[14:25:12.0000] <annevk>
Domenic: this is why ES6 is becoming kind of a clusterfuck

[14:25:18.0000] <annevk>
Domenic: lots of good untested ideas

[14:38:23.0000] <Domenic>
wow https://html.spec.whatwg.org/multipage/embedded-content.html#timeranges

[14:38:29.0000] <Domenic>
what is this it has an array but no indexed getter

[14:38:36.0000] <Domenic>
s/an array/a length property

[14:39:14.0000] <Hixie>
each item has two values (a start and an end)

[14:39:16.0000] <Domenic>
myTimeRanges.start(3) instead of myTimeRanges[3].start

[14:39:32.0000] <Hixie>
using [3].start would mean that every range is a new object

[14:39:38.0000] <Domenic>
yes

[14:39:40.0000] <Domenic>
is that bad?

[14:39:46.0000] <Hixie>
yes?

[14:39:50.0000] <Hixie>
malloc() is expensive

[14:40:05.0000] <Domenic>
internally the implementation is presumably tracking them all anyway?

[14:40:14.0000] <Domenic>
as a list of { start, end } pairs?

[14:40:25.0000] <Hixie>
internally the data is probably deep in the media framework

[14:40:40.0000] <Domenic>
this seems like premature optimization

[14:40:46.0000] <Domenic>
if nothing else just name it .size instead of .length

[14:40:54.0000] <Hixie>
/me shrugs

[14:40:56.0000] <Domenic>
and by that i mean "it would have been nice if"

[14:41:19.0000] <Hixie>
i don't see much difference between "length" and "size" here

[14:41:30.0000] <Domenic>
length => array-like in JS, pretty universally

[14:41:34.0000] <Domenic>
This is the first exception I've ever found

[14:41:41.0000] <Hixie>
{ length: 5 }

[14:41:44.0000] <Hixie>
second exception?

[14:41:49.0000] <Hixie>
:-P

[14:41:55.0000] <Domenic>
Yep, that's an array-like with holes

[14:42:07.0000] <Domenic>
Array.from({ length: 5 }) will generate [undefined, undefined, undefined, undefined, undefined]

[14:42:20.0000] <Hixie>
nope, it's just a dictionary with one of its fields being a length

[14:42:26.0000] <Hixie>
and it's a length in centimeters

[14:42:34.0000] <Domenic>
what i'm saying is that length is a semi-keyword

[14:42:41.0000] <Hixie>
[citation needed]

[14:42:53.0000] <Domenic>
semi- => not really but it's used that way and the language is built to assume that

[14:43:01.0000] <TabAtkins>
Hixie: No, .length makes something an array-like, effectively.

[14:43:26.0000] <Hixie>
it is true that if you have an array-like, using length means it'll fit into existing APIs more neatly

[14:43:34.0000] <Hixie>
it does not follow from this that if you use length, you have an array-like.

[14:44:19.0000] <TabAtkins>
Duck-typing, bro.

[14:44:32.0000] <TabAtkins>
It's not great, but it exists.

[14:44:37.0000] <TabAtkins>
Like having .then() makes you a promise-like.

[14:45:29.0000] <Hixie>
again, having a then() means you can be used in the promise APIs. It does not follow from this that having a then() means you are a promise-like.

[14:45:51.0000] <TabAtkins>
That's what duck-typing means.

[14:46:10.0000] <Hixie>
no

[14:46:37.0000] <Hixie>
duck typing means that an object that matches a pattern makes it valid for use in certain environments

[14:46:54.0000] <Hixie>
it does not mean that an object that matches a pattern is intended for use in those environments

[14:47:37.0000] <Domenic>
in this case it's more about expectations being broken

[14:47:46.0000] <Domenic>
if i see .length in an IDL I expect to be able to index into an object

[14:47:50.0000] <Domenic>
Or even in my REPL

[14:47:53.0000] <TabAtkins>
It means that the object is, duck-typely, a Foo-Like.

[14:54:43.0000] <Hixie>
if something quacks like a duck and looks like a duck you can use it in places where ducks would work and it'll do something well-defined. It does not mean that it is a duck or that the well-defined thing will be useful.

[14:55:32.0000] <TabAtkins>
It is a duck when talking duck-typely.

[14:55:41.0000] <TabAtkins>
Not, perhaps, when talking in reference to other ontologies.

[14:57:29.0000] <Hixie>
if by "is a duck" you mean "not actually a duck" then sure

[14:57:49.0000] <TabAtkins>
"is functionally a duck"

[14:57:55.0000] <Hixie>
not necessarily

[14:58:13.0000] <Hixie>
case in point, { length: 5 } is not "functionally an array"

[14:58:25.0000] <TabAtkins>
Sure it is. You can put it in Array.from() and it'll work just fine.

[14:58:35.0000] <Hixie>
it'll do something well-defined and useless

[14:58:51.0000] <TabAtkins>
Yup. It's functionally an array, though, in that it acts like an array.

[14:59:18.0000] <TabAtkins>
You're arguing sideways at me, by continuing to insist that there's a particularly ontology in which it's not an array, and that's the only correct ontology.

[14:59:28.0000] <Hixie>
"functional" means "practical and useful"

[14:59:33.0000] <Hixie>
it's not practically or usefully an array

[14:59:42.0000] <TabAtkins>
Dictionary arguments aren't very useful. ^_^

[14:59:52.0000] <TabAtkins>
Especially because in this case it means "functions as if".

[14:59:58.0000] <Hixie>
dictionary arguments, to pardon the pun, are actually a great example of this

[15:00:11.0000] <Hixie>
by which i mean WebIDL Dictionary function arguments

[15:01:16.0000] <Hixie>
if a function is expecting an object with two fields "a" and "b", both set to integers, and you pass it an object with "b" and "c", both set to strings, it'll "work"

[15:01:41.0000] <Hixie>
but that doesn't mean that that it was intended for that purposes nor that it's a useful way of using that object


2014-10-18
[02:02:41.0000] <annevk>
Whoa whoa whoa http://lists.w3.org/Archives/Public/www-style/2014Oct/0295.html

[02:02:55.0000] <annevk>
"CSSWG thinks Fullscreen should move to a Note referencing the WHATWG spec"

[02:04:26.0000] <annevk>
TabAtkins: is it still on the CSSWG's radar the changes Fullscreen does to CSS' rendering model need to move to CSS one day?

[02:25:55.0000] <annevk>
zcorpan: https://bugzilla.mozilla.org/show_bug.cgi?id=850684

[02:32:11.0000] <MikeSmith>
annevk: http://validator.w3.org/nu/?doc=https://html.spec.whatwg.org/multipage/ now gives an SSL-related error

[02:32:24.0000] <MikeSmith>
I'm not sure why, because http://validator.nu/?doc=https://html.spec.whatwg.org does not

[02:32:51.0000] <MikeSmith>
I suspect it might be a JVM difference but I really don't know

[02:34:51.0000] <MikeSmith>
I can work around it by using a runtime option with the validator instance to turn off checking of the TLS cert trust chain

[02:35:55.0000] <MikeSmith>
it could be that hsivonen is already using that option with the validator.nu but I think he's not. that's why I'm puzzled about why else there would be different behavior

[02:38:14.0000] <MikeSmith>
another weird difference is http://validator.w3.org/nu/?doc=https://wiki.whatwg.org/wiki/MicrosyntaxDescriptions

[02:38:50.0000] <MikeSmith>
vs http://validator.nu/?doc=https://wiki.whatwg.org/wiki/MicrosyntaxDescriptions

[02:40:19.0000] <MikeSmith>
it seems that wiki page is getting served to validator.w3.org/nu with an application/xml MIME type, while validator.nu is getting text/html as expected. I don't know why it would be getting served any differently.

[02:43:10.0000] <annevk>
MikeSmith: works fine in validator.nu

[02:43:50.0000] <annevk>
MikeSmith: "Element style is missing required attribute type." is that still required in SVG?

[02:44:05.0000] <annevk>
"Attribute role not allowed on element svg at this point.", "Attribute aria-label not allowed on element svg at this point."

[02:44:16.0000] <MikeSmith>
yeah, the fact that it works fine in validator.nu is what I'm puzzled about

[02:44:17.0000] <annevk>
These seem like bugs in either the validator or SVG

[02:44:30.0000] <annevk>
"Stream length exceeds limit." is a validator.nu bug

[02:46:35.0000] <MikeSmith>
about SVG and role, there is no spec that defines document-conformance rules for the role attribute. So to have the validator not flag it as an error, I basically just to have to make up some rule(s)

[02:46:37.0000] <annevk>
MikeSmith: well, guess time has come for the validator to upgrade its TLS internals

[02:46:49.0000] <MikeSmith>
yeah

[02:47:51.0000] <MikeSmith>
the thing is, I'm pretty sure the next time Henri redeploys validator.nu it will behave the same way the w3c instance is behaving now

[02:48:27.0000] <MikeSmith>
or when the java environment on the validator.nu host is upgraded

[02:49:55.0000] <MikeSmith>
validator.nu is running an older version of the sources so it's possible that some change I made to the sources since the last time Henri synced up is causing the difference but if so I have no idea what. I haven't touched an code recently that would affect this, as far as I can tell

[02:52:26.0000] <MikeSmith>
annevk: about "Element style is missing required attribute type." and SVG I don't know what's currently required for that in SVG. But the validator only implements SVG 1.1 support and for that it relies on an RelaxNG schema that's not completely up to date with the changes that SVG WG made to SVG 1.1 a couple years ago

[02:53:15.0000] <MikeSmith>
the did an "SVG 1.1 2nd Edition" thing similar to what the XML WG did with XML 1.0

[03:00:44.0000] <annevk>
Ah I remember

[03:01:13.0000] <annevk>
SVG still seems somewhat lacking in resources to get their specification stuff in order

[03:06:05.0000] <annevk>
So in http://tools.ietf.org/html/draft-ietf-websec-key-pinning-21 they never define what they mean by domain, subdomain, and host name

[03:06:43.0000] <annevk>
And for IP addresses they reference 3986 but I'm pretty sure Google would recognize http://0x00034234/ as IP address

[03:11:33.0000] <MikeSmith>
annevk: Are you studying this for the purpose of adding a definition of "domain" to the URL spec

[03:12:01.0000] <MikeSmith>
/me tries to remember if the bug he raised about that is still open

[03:15:47.0000] <MikeSmith>
annevk: about SVG WG, I asked them if somebody from the group who cares could please update their RelaxNG SVG 1.1 schema to match the 2nd-edition updates they made and the response was pretty much just a "sorry no" shrug.

[03:17:03.0000] <annevk>
MikeSmith: the syntax bug is still open, I'm hoping the Unicode consortium will address it

[03:17:15.0000] <MikeSmith>
so if nobody from the group cares to take time to do that, it's annoying that they're expecting me to care about more than they do -- that is, that I need to be the one to care about it enough to actually update the validator support for it

[03:17:20.0000] <MikeSmith>
annevk: ok

[03:17:31.0000] <MikeSmith>
that would be nice

[03:18:19.0000] <annevk>
MikeSmith: I was mostly wondering, the document also uses the term superdomain

[03:19:08.0000] <annevk>
MikeSmith: and I understand what they mean I think, but I like things to be defined from first principles (e.g. is dom.spec.html5.org a subdomain of html5.org? for the purposes of certificates that is not the case)

[03:19:35.0000] <annevk>
They also reference HTML4 which is just insane

[03:28:25.0000] <MikeSmith>
annevk: yeah, surprised by that HTML4 reference. I wouldn't think Ryan or Chris Evans would use that as a reference. So I wonder if some IETF reviewer asked for it to be changed.

[03:29:26.0000] <annevk>
MikeSmith: yeah, it's the kind of thing where everyone that knows, knows it's wrong, but new people will be utterly confused

[03:29:41.0000] <annevk>
MikeSmith: and normative reference pedants will be pleased they saved the day

[03:29:56.0000] <MikeSmith>
:(

[03:30:19.0000] <MikeSmith>
I hope that's now what happened though, and they can just change it

[03:30:25.0000] <MikeSmith>
*not what happened

[03:31:14.0000] <MikeSmith>
anyway as far as dom.spec.html5.org being a "subdomain" of html5.org I'd think most people would intuitively say yeah, it would be

[03:31:33.0000] <annevk>
MikeSmith: come on, your work for the organization that references an obsolete MIME Sniffing draft from the IETF that is three years expired now over something maintained from the WHATWG (updated last month) in its flagship specification

[03:31:37.0000] <MikeSmith>
I think otherwise people would wonder well what is a subdomain then if not that

[03:31:39.0000] <annevk>
s/your/you/

[03:32:00.0000] <MikeSmith>
yeah point taken

[03:47:00.0000] <annevk>
Should probably define subdomain, superdomain, effective tld, etc. in URL at some point

[04:10:58.0000] <MikeSmith>
annevk: so, what would be a simple explanation of what a subdomain actually is?

[04:13:55.0000] <annevk>
I guess it's always relative to a domain name

[04:17:01.0000] <annevk>
A domain /s/ is a subdomain of a domain /d/ if /s/ has more labels than /d/ and all /d/'s labels are at the end of /s/ labels, preserving order

[04:17:15.0000] <annevk>
Need better wording

[04:21:18.0000] <MikeSmith>
annevk: ah that whole labels thing

[04:21:48.0000] <MikeSmith>
isn't there some way to define it just in reference to DNS?

[04:24:27.0000] <annevk>
MikeSmith: that'd require DNS lookups, no?

[04:24:36.0000] <annevk>
MikeSmith: seems undesirable

[04:36:24.0000] <MikeSmith>
annevk: no I don't mean defining it in terms of DNS lookups but instead just in terms of whatever language from the DNS specs

[04:36:34.0000] <MikeSmith>
maybe that makes no sense

[04:36:46.0000] <MikeSmith>
was just thinking out loud

[04:36:56.0000] <annevk>
MikeSmith: ah yeah, I don't think DNS works in that way

[04:38:05.0000] <annevk>
MikeSmith: actually, I'm not sure, but last time I looked at those documents I did not become any wiser

[04:38:30.0000] <annevk>
MikeSmith: they certainly don't deal with things like effective TLD though and I'd like that to be defined in some standard as well

[04:38:58.0000] <MikeSmith>
ok

[04:46:22.0000] <MikeSmith>
annevk: these days I really miss working at Opera

[04:47:00.0000] <MikeSmith>
at least the Opera of the time back when I was there

[04:47:59.0000] <Ms2ger>
Do we not have any script execution tests in wpt?

[04:48:52.0000] <MikeSmith>
annevk: people with crazy ideas and a place that could actually help make them happen without layers of bureaucracy interfering

[04:50:14.0000] <MikeSmith>
Ms2ger: for which part of the spec?

[05:20:50.0000] <annevk>
MikeSmith: I just thought we could actually define subdomain as some kind of substring match

[05:21:37.0000] <annevk>
MikeSmith: isSubdomain(domainA.endsWith("." + domainB))

[05:21:51.0000] <annevk>
MikeSmith: same for superdomain

[05:22:08.0000] <annevk>
MikeSmith: that doesn't help with defining *.html5.org certificate stuff of course

[05:22:39.0000] <annevk>
MikeSmith: yeah, old Opera was nice

[05:26:12.0000] <MikeSmith>
annevk: yeah outside of the issue of the certificate stuff, defining it just in terms of substring matches seems right. But it would be nice to be able to do that without talking about "labels"

[05:26:54.0000] <MikeSmith>
maybe it's not possible without talking about labels though

[05:27:40.0000] <annevk>
Your dislike for labels is noted :-)

[05:27:44.0000] <MikeSmith>
heh

[05:27:46.0000] <annevk>
Subdomain seems possible to define without

[05:27:52.0000] <annevk>
Superdomain too

[05:28:28.0000] <annevk>
However, *.html5.org...

[05:31:27.0000] <MikeSmith>
"label" is just not a term that I think most people are familiar with in relation to domain names. But then specs aren't written for most people. It just seems like it should always be a goal to define things in familiar terms when possible -- with an emphasis on the "when possible" of course

[05:31:43.0000] <MikeSmith>
like using "URL" instead of "URI"

[05:31:48.0000] <annevk>
I've heard people say "level"

[05:32:02.0000] <annevk>
Actually matches with top-level domain

[05:32:02.0000] <MikeSmith>
ah yeah that's closer at least

[05:32:06.0000] <MikeSmith>
yeah

[05:32:47.0000] <MikeSmith>
that fits better with the conceptual model

[05:35:28.0000] <MikeSmith>
but then I guess you still need something that identifies the particular level and then you're back to "label" really

[05:35:36.0000] <MikeSmith>
so I guess I should give up

[05:36:21.0000] <MikeSmith>
but... maybe "component"?

[05:36:41.0000] <MikeSmith>
domain-name components

[05:41:30.0000] <annevk>
MikeSmith: we could say that a domain is a stack of domain levels

[05:41:51.0000] <MikeSmith>
stack is good

[05:56:36.0000] <MikeSmith>
annevk: anyway about Opera it's hard to imagine anybody else coming up with something like browser.js and managing to actually ship it

[06:12:29.0000] <SteveF_>
MikeSmith:hey so you are saying that the SVG working group will need to do same for 1.1 as they have for 2

[06:13:14.0000] <MikeSmith>
SteveF_: yup

[06:14:02.0000] <SteveF_>
MikeSmith: why? where elements defined in 1.1 are same as those in 2 why can't you use the role mappings?

[06:14:03.0000] <MikeSmith>
SteveF_: I can't just unilaterally invent ARIA-in-SVG1.1 rules for the validator

[06:14:53.0000] <SteveF_>
MikeSmith: ok so what will you accept? an editors draft or some such?

[06:16:19.0000] <MikeSmith>
SteveF_: an ARIA-in-SVG1.1 spec of any kind, anywhere

[06:16:38.0000] <SteveF_>
MikeSmith: OK

[06:16:47.0000] <SteveF_>
will talk to rich

[06:16:53.0000] <MikeSmith>
cool

[06:24:28.0000] <MikeSmith>
SteveF_: I guess if things were saner w.r.t spec versioning at the W3C or I were personally to take an enlightened view, I could consider the SVG2 spec a living spec that supersedes the SVG1.1 spec

[06:26:38.0000] <SteveF_>
MikeSmith: well in terms of usefulness for checker users an enlightened view would help

[06:28:36.0000] <SteveF_>
MikeSmith: and I am sure that a 1.1 mapping spec can be whipped up using the info from the svg2 spec, but seems like enrgy user, but if that is what it takes to get sane error spits then will see what I can do

[06:31:34.0000] <MikeSmith>
SteveF_: you're a better man than me :)

[06:33:10.0000] <SteveF_>
MikeSmith: we advocate use of ARIA on SVG in HTML of whatever flavour to make up for current acc layer fuck ups in browsers, so having them not throw errors in conformance would be helpful

[06:33:55.0000] <SteveF_>
MikeSmith: for example http://www.paciellogroup.com/blog/2013/12/using-aria-enhance-svg-accessibility/

[06:34:10.0000] <MikeSmith>
/me looks

[06:35:26.0000] <MikeSmith>
wow

[06:35:46.0000] <MikeSmith>
so the problem here is not just the document-conformance stuff

[06:36:36.0000] <MikeSmith>
SteveF_: there's also no spec that defines the mappings for the native SVG elements to the a11y APIs?

[06:37:46.0000] <SteveF_>
MikeSmith: there is start of one http://rawgit.com/w3c/aria/master/svg-aam/svg-aam.html

[06:38:00.0000] <MikeSmith>
if there's no spec for browser projects to implement from it seems not really suprising that the browser implementations aren't consistent

[06:38:03.0000] <MikeSmith>
/me looks

[06:38:30.0000] <MikeSmith>
ah good

[06:38:58.0000] <SteveF_>
also note that SVG2 tabindex has been implemented in webkit http://trac.webkit.org/changeset/168313 and believe that its on its way elesehwere

[06:39:25.0000] <MikeSmith>
/me looks

[06:41:04.0000] <SteveF_>
MikeSmith: FF svg tabindex https://bugzilla.mozilla.org/show_bug.cgi?id=778654

[06:41:43.0000] <MikeSmith>
SteveF_: has that landed?

[06:42:05.0000] <SteveF_>
dunno

[06:42:54.0000] <SteveF_>
looks like it has in chrome https://codereview.chromium.org/166163005/

[06:43:38.0000] <MikeSmith>
ah yeah

[06:43:43.0000] <MikeSmith>
good on ed

[06:45:42.0000] <SteveF_>
MikeSmith: so anyway we can chat at tpac about checker support, rich will be there too and he has been driving the svg2/acc stuff

[06:46:08.0000] <MikeSmith>
super

[06:46:18.0000] <MikeSmith>
yeah let's do that for sure

[08:36:33.0000] <TabAtkins>
annevk: Yeah, rendering model changes are still in out demesne, obviously.

[10:23:26.0000] <annevk>
TabAtkins: demsne?

[10:24:34.0000] <TabAtkins>
domain, but fancier

[10:25:04.0000] <annevk>
ah, and out is fancy for our

[10:25:05.0000] <annevk>
got it

[10:26:45.0000] <jgraham>
Is TabAtkins inventing a whole new language?

[10:27:29.0000] <TabAtkins>
that's, uh, english

[10:37:10.0000] <jgraham>
Well I guess it's only a dialect

[10:37:24.0000] <jgraham>
Tabese

[10:38:10.0000] <TabAtkins>
http://lmgtfy.com/?q=define+demesne

[10:41:56.0000] <jgraham>
You don't really seem to be talking about land owned by a manor though

[10:52:39.0000] <TabAtkins>
No, but it is used figuratively in that sense, in the same way "domain" is.

[12:05:48.0000] <foolip>
TabAtkins: in spec references, should you be "T. Atkins", "T. Atkins Jr." or something else?

[12:06:03.0000] <foolip>
I just noticed http://dev.w3.org/html5/webvtt/ does both

[12:06:31.0000] <foolip>
also, http://www.w3.org/TR/selectors4/ or http://dev.w3.org/csswg/selectors/ ?

[12:13:01.0000] <TabAtkins>
foolip: Tab Atkins Jr

[12:14:06.0000] <foolip>
TabAtkins: what about in specs where everyone else is on the form "H. Lie" etc?

[12:14:14.0000] <TabAtkins>
I'm inconsistent in whether I put a Jr on my name.

[12:14:28.0000] <TabAtkins>
That's just an artifact of the biblio generation script.

[12:15:40.0000] <foolip>
unfortunately not in the case of webvtt or e.g. html, it's abbreviated in the source

[12:16:12.0000] <foolip>
but I'll take that as "include Jr"

[12:16:54.0000] <foolip>
how about the selectors ref?

[12:46:32.0000] <foolip>
TabAtkins: ^

[13:05:33.0000] <annevk>
foolip: euhm, no TR/!

[13:14:13.0000] <foolip>
annevk: right, but see https://github.com/w3c/webvtt/commit/c7c658fd914e4e196f462fd49fbd30603fe76503

[13:14:38.0000] <annevk>
o_O

[13:15:17.0000] <foolip>
there's also http://dev.w3.org/csswg/selectors4/

[13:16:03.0000] <foolip>
annevk: are you going to link IndexSizeError and friends in DOM to their new home in WebIDL?

[13:16:23.0000] <foolip>
I just noticed the IndexSizeError in WebVTT was broken

[13:16:32.0000] <annevk>
foolip: I xref throw from DOM

[13:16:42.0000] <annevk>
foolip: I don't xref the individual errors

[13:17:09.0000] <annevk>
foolip: I suspect I might start doing that again one day by having TabAtkins support it in Bikeshed

[13:17:10.0000] <foolip>
I see

[13:18:15.0000] <TabAtkins>
/me is at lunch right now

[13:18:31.0000] <annevk>
TabAtkins: we can wait an hour :p

[13:48:59.0000] <Domenic>
Why do you have to do new WheelEvent("wheel", ...)?

[13:49:03.0000] <Domenic>
that first parameter seems useless...

[13:52:28.0000] <foolip>
Domenic: some (most?) event interfaces have multiple events

[13:52:51.0000] <foolip>
I'm guessing it's new MouseEvent("mousedown", ...) etc

[13:53:38.0000] <Domenic>
Ah right, that makes sense

[13:54:10.0000] <Domenic>
You could imagine nicer designs but OK.

[14:02:03.0000] <caitp>
domenic, how would you rate the web-compat for Symbol.toStringTag (and related semantics based on it)?

[14:23:45.0000] <foolip>
TabAtkins: you should add Jr. to http://dev.w3.org/csswg/css-values/ ?

[14:41:32.0000] <annevk>
Domenic: the name/type of an event is very much distinct of its class


2014-10-19
[17:20:27.0000] <TabAtkins>
annevk: Bikeshed has an "error" definition type.  WebIDL doesn't use it, but I have a "patches welcome" from heycam to mark up all of WebIDL's definitions in a Bikeshed-friendly way. ^_^

[20:59:57.0000] <Domenic>
caitp-: of the top of my head I can't think of anything that it could break just by shipping in browsers. what might break is interactions between new libraries using it and old code that doesn't expect nonstandard tags, but that would be a developer-level problem, not a browser-level problem.

[21:14:01.0000] <caitp->
hmm

[10:09:21.0000] <zewt>
... why is the whatwg.org certificate working? heh

[10:09:54.0000] <zewt>
it's a wildcard for *.whatwg.org, but it's applied to hostnames like url.spec.whatwg.org, and last I knew wildcard certificates were only valid for one level of nesting

[10:10:21.0000] <zewt>
did that change recently? it was a braindamaged restriction

[10:12:35.0000] <zewt>
can't find any browsers rejecting it, maybe it was just one browser that started doing that and they backed out of it

[15:02:58.0000] <boogyman>
is anyone else getting a 406 (not accepted) for stylesheet requests to w3c.org ?

[15:04:47.0000] <boogyman>
btw, this only occurs with Chrome 38.0.2125.104m on Windows 8

[16:45:37.0000] <MikeSmith>
boogyman: sounds like you may have hit the rate limiter

[16:45:59.0000] <Hixie>
zewt: it's a wildcard for *.spec.whatwg.org

[16:46:13.0000] <boogyman>
for single requests? interesting.

[16:49:39.0000] <MikeSmith>
ah wait no if that were the case you'd be getting 503s

[16:49:48.0000] <MikeSmith>
what is a 406?

[16:49:58.0000] <boogyman>
not accepted

[16:50:48.0000] <MikeSmith>
actually "not acceptable" it seems

[16:51:48.0000] <boogyman>
So, should I be filing a bug with Chrome? because I was just attempting to load the w3c.org site, not doing anything fancy.

[16:51:53.0000] <MikeSmith>
which is something different that I guess indicates a problem with the Accept header in the requests your ua is sending

[16:52:23.0000] <MikeSmith>
boogyman: yah sounds to me like a bug in th UA

[16:52:58.0000] <boogyman>
D'oh User-Fail. I had an Accept header extension loaded.

[16:53:13.0000] <MikeSmith>
ah

[16:53:31.0000] <MikeSmith>
why

[16:54:40.0000] <boogyman>
The addon will send the configs to any request, it appears w3c is actually parsing them. I was testing an API I've been developing


2014-10-20
[18:23:34.0000] <MikeSmith>
the WebGL working group actually has a chair?

[21:50:19.0000] <jamesr___>
i would expect ever khronos working group has a chair

[22:09:04.0000] <MikeSmith>
jamesr___: yeah it's just that they don't have any kind of public information page for the group, so I guess nobody except that people in the group actually know who the chair is

[02:04:32.0000] <annevk>
zewt: it's a certificate with three name entries, *.spec.whatwg.org, *.whatwg.org, and whatwg.org

[03:23:47.0000] <JakeA>
annevk: https://slightlyoff.github.io/ServiceWorker/spec/service_worker/#installation-algorithm 5.5 resolves a promise, 5.7 triggers an event. Would the event trigger before I add a listener in my promise callback?

[03:23:57.0000] <JakeA>
Trying to work out how promise resolving works in spec land

[03:25:01.0000] <annevk>
JakeA: the promise's callbacks are run during a microtask, that's guaranteed to happen before a task

[03:25:32.0000] <annevk>
JakeA: however, encouraging that kind of flow seems counter to the point of promises

[03:25:58.0000] <annevk>
JakeA: e.g. if I ask for a promise's value at a later stage, you sort of expect the same set of guarantees, but perhaps I'm wrong about this

[03:29:19.0000] <JakeA>
annevk: yah, it's more interop detail than usecase. Will make a ticket.

[03:30:11.0000] <annevk>
JakeA: Domenic and I have been thinking of language that would let the event dispatch as part of the first callback of the promise

[03:30:49.0000] <annevk>
JakeA: as if you had written promise.then(x => obj.dispatchEvent(...)) or some such

[03:30:55.0000] <annevk>
JakeA: in the algorithm

[03:31:28.0000] <JakeA>
annevk: interesting. Although I don't think that's what we want in this case, since it's observable from other windows

[03:32:21.0000] <annevk>
JakeA: ah yeah, that text is wrong

[03:32:32.0000] <annevk>
JakeA: you need to list the event loops on which you want to dispatch the event

[03:33:04.0000] <annevk>
JakeA: otherwise you queue tasks to the event loop of the service worker on objects that don't exist...

[03:37:17.0000] <JakeA>
annevk: so it would be "for each service worker client using registration, queue a task to fire a simple event named updatefound on all ServiceWorkerRegistration objects"?

[03:37:40.0000] <JakeA>
(I'm looking at https://html.spec.whatwg.org/multipage/browsers.html#downloading-or-updating-an-application-cache:event-appcache-updateready as a guide

[03:39:32.0000] <annevk>
JakeA: that's not specific enough

[03:39:50.0000] <JakeA>
annevk: is appcache's specific enough?

[03:39:57.0000] <annevk>
JakeA: for each ServiceWorkerRegistration object you need to figure out its corresponding event loop

[03:40:10.0000] <annevk>
JakeA: appcache runs in the same event loop as the document

[03:40:22.0000] <annevk>
JakeA: so unlikely

[03:41:10.0000] <annevk>
(although at some point appcache was also made available from workers, so maybe? hmm)

[03:42:15.0000] <JakeA>
annevk: but appcache's updateready event happens across multiple documents, so different event loops right? Or do all documents share the same event loops in spec land?

[03:42:26.0000] <JakeA>
"same event loop" even

[03:43:40.0000] <annevk>
JakeA: same-origin documents most likely do as doing anything else is likely to be observable

[03:43:56.0000] <annevk>
JakeA: even cross-origin documents often have to be same event loop

[03:44:15.0000] <annevk>
JakeA: however, it's not a given that existing text is actually accurate or vetted unfortunately

[03:44:47.0000] <annevk>
JakeA: since we're still figuring out much of the architecture ourselves, in order to write specs you have to understand what you're writing down

[03:44:58.0000] <annevk>
JakeA: and be able to verify it's correct

[03:45:19.0000] <annevk>
(I haven't always done that, and typically it comes back to bite me hard)

[03:52:13.0000] <annevk>
JakeA: it is somewhat amusing that you are using AppCache as an inspiration for the language in the specification after becoming famous for the "appcache is a douchebag" meme

[03:53:03.0000] <JakeA>
annevk: :D doesn't mean the spec language is bad

[03:53:51.0000] <JakeA>
annevk: lots of edge case we've ran into, we've dug into the spec and found "appcache woz here" scrawled in blood

[03:54:12.0000] <JakeA>
eg, what to do when <object> can be a navigation or subresource depending on the response

[03:57:03.0000] <annevk>
also <embed>, so shitty

[03:57:25.0000] <JakeA>
yeeep

[03:58:00.0000] <annevk>
I wouldn't mind that if you use service workers they become subresource-only contexts

[04:01:34.0000] <JakeA>
annevk: I think we went the other way & declared them all navigations (else SVG would fail, right?)

[04:03:39.0000] <annevk>
JakeA: I would have picked dominant usage (plugins) over SVG I think

[04:04:10.0000] <annevk>
JakeA: SVG can use <iframe> and <img>

[04:05:22.0000] <JakeA>
annevk: ohh, actually I think we bypass SW for <object> because of plugins, until we get a better idea of how to handle security there

[04:06:20.0000] <JakeA>
annevk: we should spec that until we have a good way to protect against it. Things like cross-domain.xml are scary, since they're per-plugin.

[04:08:48.0000] <annevk>
JakeA: and <embed> too?

[04:09:01.0000] <annevk>
JakeA: they have request contexts so you can branch on that

[04:09:07.0000] <slightlyoff_>
Yes, embed too

[04:09:57.0000] <annevk>
Did Mozilla sign off on this?

[04:10:05.0000] <annevk>
/me doesn't remember any discussion

[04:12:17.0000] <JakeA>
annevk: it was an area of "not supported" we were going to have in Chrome, but I'm thinking we should spec it until we find a way to spec it securely

[04:12:51.0000] <JakeA>
(not even sure how we do that without having per-plugin instructions and whitelist particular plugins)

[04:12:55.0000] <annevk>
Well there's an open issue on object/embed too

[04:13:12.0000] <JakeA>
I'll jump on that now

[04:13:13.0000] <JakeA>
annevk: Ok so, with the event dispatching thing, I'm thinking a Service Worker Client needs a reference to the client's incumbent settings object. Then, when it comes to dispatching updatefound, we can sort clients by identical responsible event loop, get the registration objects from the clients, dispatch events

[04:13:48.0000] <annevk>
Service Worker Client -> ServiceWorkerRegistration?

[04:14:16.0000] <JakeA>
annevk: client already has an associated registration

[04:14:22.0000] <JakeA>
https://slightlyoff.github.io/ServiceWorker/spec/service_worker/#service-worker-client-concept

[04:15:18.0000] <annevk>
Ah yeah, I still think we should include dedicated workers there too

[04:16:14.0000] <annevk>
JakeA: how about we make service worker client match request's client and make it an extension of the environment settings object instead?

[04:16:41.0000] <annevk>
JakeA: that way a) you have access to the event loop (stored on that object) and b) we actually get some consistency

[04:18:27.0000] <JakeA>
annevk: yeah that makes sense, I hadn't realised client had 'forked' between the two specs

[04:18:58.0000] <annevk>
I don't think there's even a reason to call it "service worker client"

[04:19:11.0000] <annevk>
We can just define an extension to the "environment settings object"

[04:19:31.0000] <JakeA>
annevk: so what gets its own "environment settings object"?

[04:20:00.0000] <annevk>
JakeA: workers, and document/window

[04:21:30.0000] <JakeA>
annevk: we've had this discussion before, but I can't remember the reasons, why can't we treat dedicated workers as a subresource?

[04:22:16.0000] <annevk>
JakeA: CSP doesn't treat it as a subresource, from the perspective of Referer it's not a subresource

[04:22:42.0000] <JakeA>
annevk: yeah, that settles it really. Cool.

[04:24:10.0000] <JakeA>
although CSS isn't a subresource in terms of Referer either

[04:25:09.0000] <annevk>
JakeA: yeah, but is for CSP

[04:25:27.0000] <JakeA>
annevk: yeah, consistency with CSP is good

[04:25:35.0000] <annevk>
JakeA: CSS is a bit weird I guess; I wonder how HTML Imports handle Referer

[04:26:16.0000] <annevk>
Although I like how CSS handles Referer, it makes a lot of sense and has less leakage

[04:27:06.0000] <JakeA>
annevk: I'm sure font foundries would prefer the referrer to be the page

[04:27:45.0000] <slightlyoff>
CSP can change if the pun is too weak

[04:29:13.0000] <annevk>
I think handling this at the level of JS globals makes an awful lot of sense, irrespective of CSP

[04:31:26.0000] <annevk>
Otherwise effectively what you're saying is that a DedicatedWorker cannot initiate its own Fetch instance, it has to negotiate it through a Document/Window

[04:31:36.0000] <annevk>
That seems odd to me

[04:31:58.0000] <annevk>
And expensive as they're all different event loops that now have to coordinate

[04:52:04.0000] <slightlyoff>
That's always going to be true. Accommodating multi-process browsers demands it

[04:52:23.0000] <slightlyoff>
We're not going to sync tics for spec convenience

[04:52:46.0000] <slightlyoff>
(sorry)

[04:53:12.0000] <annevk>
Yes, I'm saying you're doing the opposite here

[04:53:21.0000] <slightlyoff>
I see

[05:26:02.0000] <JakeA>
annevk: can I get to a windows visibility/focus state from a request client? (client -> document -> hidden/hasFocus)

[05:26:57.0000] <annevk>
JakeA: if the environment settings object's global object is a Window object you can inspect that object's associated Document

[05:27:53.0000] <JakeA>
annevk: I guess "A responsible document" is null for workers?

[05:28:02.0000] <annevk>
JakeA: (theoretically such cross-process interactions of properties would require queuing a task of sorts)

[05:28:09.0000] <annevk>
JakeA: it's not, which is why I adviced the above

[05:28:50.0000] <JakeA>
annevk: yeah, our ServiceWorkerClient is a snapshot and getting these snapshots is always async

[05:29:48.0000] <JakeA>
annevk: so, what is the "responsible document" of an "environment settings object" of a worker?

[05:29:55.0000] <annevk>
JakeA: I have to go for about an hour and a half, after that I'm ready to help with this refactoring

[05:30:40.0000] <annevk>
JakeA: it's the first document that created the worker I think; I think we should probably drop that concept and just store the desired state directly on the settings object

[05:30:42.0000] <JakeA>
annevk: no worries, going through emails, but might start before you get back

[05:30:50.0000] <annevk>
please do start :-)

[05:33:19.0000] <Ms2ger>
Hrm, Fx claims mixed content on html.s.w.o

[05:33:26.0000] <Ms2ger>
Anyone checked what that's about?

[06:48:09.0000] <smaug____>
USVString is the new name for ScalarValueString ?

[06:49:13.0000] <OneLove>
greetings!

[06:49:45.0000] <OneLove>
Is there an API for determining CPU clock speed of the host from the browser?

[06:52:19.0000] <jgraham>
No

[06:52:27.0000] <jgraham>
And there likely won't be

[06:52:32.0000] <jgraham>
What's the use case

[06:52:33.0000] <jgraham>
?

[06:53:13.0000] <OneLove>
developing html5 games

[06:53:36.0000] <OneLove>
and screen size / resolution is not a great gage of what the client is capable of

[06:53:55.0000] <jgraham>
Nor is clock speed

[06:54:12.0000] <OneLove>
youre probably right

[06:55:05.0000] <jgraham>
Processors can have vastly different performance at the same clock, machines can have multiple CPUs with different speeds, users can be running other tasks in the background that use up CPU time, power saving measures can affect things

[06:55:09.0000] <jgraham>
etc.

[06:55:36.0000] <OneLove>
its very true

[06:55:48.0000] <jgraham>
The best solution to this is probably to adaptively adjust the settings to preserve a desired framerate, or something

[06:55:51.0000] <OneLove>
how would you get a rough estimate of client perf?

[06:55:54.0000] <JakeA>
I think it would help to know the current frame rate and maximum frame rate

[06:55:54.0000] <jgraham>
Which isn't too easy

[06:56:13.0000] <JakeA>
requestAnimationFrame should provide that kind of data

[06:56:39.0000] <JakeA>
I don't think max frame rate (basically refresh rate) is exposed at the moment

[06:56:57.0000] <jgraham>
Yeah, that seems reasonable

[06:57:18.0000] <jgraham>
Working out actual framerate doesn't obviously need any platform changes

[06:58:33.0000] <JakeA>
true

[06:59:18.0000] <OneLove>
yes i should be able to get what i need from requestanimationframe and window.performance

[06:59:28.0000] <OneLove>
thanks for the input ;)

[07:00:17.0000] <JakeA>
OneLove: you may be interested in https://github.com/w3c/smoothness

[07:00:24.0000] <JakeA>
(just a proposal at the moment)

[07:02:27.0000] <OneLove>
thats a nice name for an api

[07:07:26.0000] <annevk>
smaug____: yes

[07:07:39.0000] <annevk>
Ms2ger: open the console and check?

[07:09:07.0000] <Ms2ger>
Hrm

[07:09:14.0000] <Ms2ger>
Now it's no longer mixed content

[07:09:18.0000] <Ms2ger>
/me is confused

[07:12:20.0000] <annevk>
Ms2ger: perhaps one of the scripts is conditionally loading something

[07:14:59.0000] <gsnedders>
It's pretty sad that the University of Glasgow senate feels a need to send out an email pointing out "custom writing sites" still constitute plagerism.

[07:24:31.0000] <JakeA>
annevk: ServiceWorkerClient is a snapshot of state, are you happy with Client working the same?

[07:25:05.0000] <annevk>
JakeA: there's an open issue on this

[07:26:14.0000] <annevk>
JakeA: I feel like we should take some steps back, there's a difference between an underlying concept (request's client) and an actual object

[07:26:47.0000] <annevk>
JakeA: 1) what SW describes as "service worker client" can be the same as (request's client), an environment settings object

[07:26:53.0000] <JakeA>
annevk: you mean, as a first pass keep ServiceWorkerClient the API, but use the concept from fetch?

[07:27:06.0000] <JakeA>
ok

[07:27:25.0000] <annevk>
JakeA: 2) ServiceWorkerClient as object, building on top of some environment settings object, seems reasonable, however, as I pointed out elsewhere the mismatch with workers means we should probably call this BrowsingContext or some such

[07:28:02.0000] <annevk>
JakeA: since "Worker" and "SharedWorker" are objects representing an external environment settings object already, there's no need to introduce ServiceWorkerClient for them I think

[07:28:57.0000] <annevk>
JakeA: now whether BrowsingContext contains snapshotted state or has a method that returns a promise that gives you its state, seems like a distinct question

[07:29:11.0000] <annevk>
JakeA: though if we go with snapshotted state we need to define timing of course

[07:31:18.0000] <JakeA>
annevk: I thought snapshotting was agreed upon

[07:31:43.0000] <annevk>
JakeA: there's an open issue where a Googler suggests something else

[07:32:44.0000] <JakeA>
annevk: https://github.com/slightlyoff/ServiceWorker/issues/500 (reading now)

[07:39:06.0000] <annevk>
JakeA: see also https://github.com/slightlyoff/ServiceWorker/issues/511 and https://github.com/slightlyoff/ServiceWorker/issues/512

[08:26:16.0000] <Domenic>
JakeA: +1 environments = development vs. production. You seem to have edited that out though :P

[08:26:51.0000] <JakeA>
Domenic: I'M BEING SILENCED (nah, I moved it to https://github.com/slightlyoff/ServiceWorker/issues/512)

[09:21:58.0000] <annevk>
JakeA: we could probably also reuse the term Window in SW to mean "external Window"

[09:23:15.0000] <annevk>
JakeA: would have to check with Hixie if it's better as BrowsingContext or Window, not sure if they have a 1:1 relationship

[09:23:52.0000] <JakeA>
annevk: either works for me

[09:24:30.0000] <annevk>
JakeA: reading the HTML spec Window seems like a safer choice

[09:24:33.0000] <JakeA>
annevk: the only bit of incompatibility I see so far is with associating clients with SW registrations. They currently sit on service worker clients. Can we add that to the env settings object? Or should that go on the document?

[09:24:54.0000] <annevk>
JakeA: one browsing context can have a whole sequence of documents/windows due to history and such

[09:27:36.0000] <annevk>
JakeA: SWR can come from an environment settings object, yes

[09:27:46.0000] <JakeA>
cool

[09:27:49.0000] <annevk>
JakeA: you can't put it on document because then workers wouldn't have access to it

[09:28:05.0000] <JakeA>
of course, oops

[09:29:04.0000] <Domenic>
Hmm the favicons aren't showing up in Chrome or Firefox for either Streams or DOM

[09:29:10.0000] <Domenic>
is the problem SVG?

[09:29:15.0000] <annevk>
Domenic: yes

[09:29:21.0000] <Domenic>
:(

[09:29:46.0000] <annevk>
https://annevankesteren.nl/2011/02/browser-spitting

[09:29:47.0000] <Domenic>
should we switch to png?

[09:29:56.0000] <annevk>
/me anticipated that question

[09:29:58.0000] <Domenic>
lol

[10:02:56.0000] <smaug____>
which spec defines template element

[10:03:29.0000] <smaug____>
https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/templates/index.html is missing content

[10:03:50.0000] <smaug____>
ah, html spec

[10:30:57.0000] <annevk>
Hixie: http://noncombatant.org/2014/10/12/brainstorming-security-for-the-internet-of-things/ discusses the issue about CAs and local devices

[10:31:19.0000] <annevk>
Hixie: looks like public-webappsec⊙wo might also look into it (there's a handful of emails)

[10:58:52.0000] <TALNET>
Hi

[10:58:55.0000] <TALNET>
New to here.

[10:59:06.0000] <TALNET>
Interesting web technology and community.

[11:02:05.0000] <TabAtkins>
...shame if anything were to HAPPEN to it

[11:02:32.0000] <Ms2ger>
/me gives TabAtkins some fishes to swim with

[11:03:27.0000] <TALNET>
:D

[13:13:19.0000] <Sample>
Just saw this for the first time and thought of you guys http://xkcd.com/927/

[13:14:19.0000] <Sample>
I'm sure half of you already have that printed on your wall at the moment =P

[13:14:49.0000] <Ms2ger>
Printing? What's that? :)

[13:15:00.0000] <annevk>
I should reference it from https://encoding.spec.whatwg.org/ perhaps

[13:15:10.0000] <annevk>
Hadn't noticed it called out encodings specifically before

[13:15:41.0000] <gsnedders>
Ms2ger: isn't that that thing that Opera was created for?

[14:22:22.0000] <Domenic>
where's code search but for gecko?

[14:23:14.0000] <Ms2ger>
Domenic, https://mxr.mozilla.org/mozilla-central/

[14:26:52.0000] <caitp>
dxr has a cool ui though

[14:27:35.0000] <Domenic>
i was going to say, i thought there was a fancier one

[14:28:19.0000] <Ms2ger>
dxr.mozilla.org?

[14:28:40.0000] <Domenic>
yepyep

[14:35:25.0000] <Ms2ger>
Weird stuff surfaces sometimes: http://lists.w3.org/Archives/Public/www-math/2014Oct/0006.html

[14:37:52.0000] <TabAtkins>
...huh

[15:32:06.0000] <TabAtkins>
annevk: Do you alphabetize your name under V or K?

[15:32:32.0000] <gsnedders>
annevk: van Kesteren

[15:32:55.0000] <gsnedders>
bah

[15:33:19.0000] <gsnedders>
TabAtkins: you ignore the van if you're Dutch, but it depends on referencing style whether you follow the Dutch habit or not

[15:34:19.0000] <gsnedders>
TabAtkins: so it would be "Kesteren, A. van"

[15:34:25.0000] <TabAtkins>
kk

[15:35:08.0000] <gsnedders>
(even though, yes, his surname is Van Kestern, and that "V" is capitalized when his forename doesn't preceed it)

[15:37:03.0000] <TabAtkins>
Cool, thanks.

[15:37:27.0000] <TabAtkins>
(Question from one of my Twitter followers about an unrelated person with a "van Foo" name.)

[15:40:42.0000] <gsnedders>
TabAtkins: personally, I just want to know why the fuck I know this.

[15:40:47.0000] <gsnedders>
I presume at some point I've had reason to.

[15:41:00.0000] <TabAtkins>
Acking annevk?

[15:41:31.0000] <gsnedders>
I'm guessing something linguisticsy

[15:42:23.0000] <TabAtkins>
Maybe one of r12a's name rants. ^^_

[15:42:30.0000] <TabAtkins>
s/^_/_^/

[15:55:30.0000] <astearns>
^ I'm seeing that as a cubist face showing two sides and a left ear

[16:18:34.0000] <Hixie>
so, weird question, but, why are promises on microtasks and not tasks?

[16:18:52.0000] <TabAtkins>
Makes them faster.

[16:22:23.0000] <Hixie>
how so?

[16:22:58.0000] <TabAtkins>
Less things capable of intervening between the promise setup and its resolution.  ("Faster" meaning "time to completion of callbacks".)


2014-10-21
[23:45:54.0000] <annevk>
TabAtkins: it depends whether his name is Dutch, e.g. Swedish would sort under v iirc, but gsnedders is entirely correct when it comes to Dutch :-)

[00:43:12.0000] <Ms2ger>
nl-NL, that is

[02:20:19.0000] <joa_>
Hi, are the WebIDL definitions shown on *.spec.whatwg.org available somewhere? I couldn't find them in the GitHub repo

[02:32:45.0000] <gsnedders>
annevk: well, TabAtkins did say Dutch names. So I was assuming he meant Dutch. (But yes, Swedish would sort under "v")

[02:33:06.0000] <annevk>
joa_: what do you mean?

[02:33:20.0000] <annevk>
joa_: we don't distribute standalone IDL files

[02:38:29.0000] <joa_>
annevk: Is there an automated process that generates dom.spec.whatwg.org for instance?

[02:39:14.0000] <annevk>
joa_: I write HTML in Overview.src.html, run make, which generates Overview.html, that's it

[02:40:46.0000] <joa_>
annevk: Alright, thank you!

[04:02:29.0000] <gsnedders>
SteveF_: when do you want a response by?

[04:34:15.0000] <SteveF_>
gsnedders: end of week or start of next would be good

[04:36:43.0000] <gsnedders>
SteveF_: right, sure thing

[04:37:04.0000] <SteveF_>
gsnedders: Thanks!

[04:39:39.0000] <SteveF_>
me/ was looking at your flickr photos from TPAC 2008 and reminiscing

[04:39:58.0000] <gsnedders>
'08? I was thinking it was '09. But I guess it must've been '08, wow.

[04:44:21.0000] <gsnedders>
It's kinda sad I've not managed to make it since. Oh well, maybe next year…

[04:45:10.0000] <gsnedders>
Guess we'll find out where it's planned to be soon enoguh

[04:45:14.0000] <gsnedders>
*enough

[04:46:05.0000] <jgraham>
http://www.w3.org/2015/11/TPAC/

[04:46:12.0000] <wilhelm>
Sapporo.

[04:46:36.0000] <gsnedders>
oooh!

[04:46:51.0000] <gsnedders>
I was /going/ to say I'd only definitely go if it were in Europe. But okay, maybe you have me.

[04:49:56.0000] <wilhelm>
Haven't been to Hokkaido yet. This is a good excuse.

[05:05:51.0000] <gsnedders>
Don't tempt me to try and get there without flying. :)

[05:07:13.0000] <wilhelm>
I've done 80% of the overland route before. Highly recommended.

[05:07:39.0000] <gsnedders>
idk, it's more the whole perception and legality of LGBT people in Russia that makes me uneasy about doing so

[05:10:42.0000] <wilhelm>
Valid point.

[05:11:19.0000] <gsnedders>
That's the sort of reason that actually puts me off from doing so. The other stuff just makes it difficult.

[05:58:36.0000] <rubys>
annevk: ping?

[05:58:43.0000] <annevk>
rubys: here

[05:59:00.0000] <rubys>
Can I get you to explain the expected results for this test: http://intertwingly.net/stories/2014/10/16/urltest-results/61a4a14209 ?

[06:00:28.0000] <rubys>
I get the same results as ie, opera, and rust.

[06:00:54.0000] <annevk>
Yeah, per spec it is "0xc0.0250.01" at the moment

[06:01:29.0000] <annevk>
I can update web-platform-tests if you want

[06:01:59.0000] <rubys>
One more question first: http://intertwingly.net/stories/2014/10/16/urltest-results/f3382f1412

[06:03:25.0000] <rubys>
Background on why I'm asking: I have a JavaScript implementation that passes 254/256 tests.  I should be ready to post it today or tomorrow.

[06:04:39.0000] <annevk>
rubys: per the specification parsing that should return failure, the reason being that there's a % left in step 6 of the host parser afaict

[06:05:16.0000] <annevk>
rubys: so results for testdata seem correct

[06:05:40.0000] <rubys>
I get "0xc0.0250.01."

[06:06:02.0000] <annevk>
"%3g" should remain "%3g" afaict

[06:06:10.0000] <annevk>
How do you normalize that away?

[06:06:18.0000] <rubys>
my bad, I pointed to the wrong test.  This is the one I meant: http://intertwingly.net/stories/2014/10/16/urltest-results/bc6ea8bdf8

[06:07:07.0000] <annevk>
Isn't 0xc0.0250.01. what testdata says?

[06:08:16.0000] <rubys>
Hmm.  looks like it.  Let me check

[06:20:22.0000] <rubys>
ok, found the bug in my code; now I have 255/256 tests passing, and you agree on the one failure

[06:20:50.0000] <annevk>
\o/

[06:21:18.0000] <annevk>
(seems like we need more tests)

[06:21:28.0000] <rubys>
always :-)

[06:22:30.0000] <rubys>
my code is probably very buggy in that I did test-driven development, only consulting the spec when I had questions.  I also have more work to do in encoding, but it is at the point that it is worth publishing for discussion.

[06:23:42.0000] <rubys>
it also may be worth mining for ideas in the upcoming spec functional rewrite

[06:24:19.0000] <rubys>
meanwhile, a sneak peek: http://intertwingly.net/stories/2014/10/20/Url.xhtml

[06:25:22.0000] <annevk>
rubys: you have your own tool or is that bikeshed?

[06:26:35.0000] <rubys>
http://pegjs.majda.cz/ => https://twitter.com/peg_js/status/329493915881320448 => http://bottlecaps.de/convert/

[06:26:50.0000] <annevk>
Note that with functional I didn't necessarily mean declarative

[06:27:41.0000] <rubys>
let's discuss when I have something concrete posted, should be today or tomorrow

[06:28:38.0000] <rubys>
the grammar I've developed is only a small part, there is a lot of logic, and a Url class.

[06:29:35.0000] <rubys>
in the process, all flags are eliminated, and with only one exception, the only scheme checks are of the form "if (this.scheme == base.scheme)"

[06:30:14.0000] <rubys>
but again, it will be easier to discuss with running code.

[06:30:30.0000] <annevk>
You have the API implemented as well?

[06:30:36.0000] <Ms2ger>
Get back to work, then ;)

[06:30:38.0000] <annevk>
The "relative flag" is mostly for the API

[06:31:18.0000] <rubys>
parts of the API.  I should be able to do all of the "setters" without a flag.

[06:34:23.0000] <annevk>
I wonder if the POSIX DNS layer also does the crazy IPv4 parsing inside IPv6...

[06:35:31.0000] <gsnedders>
pretty sure POSIX leaves most of it undefined

[06:43:09.0000] <annevk>
It's somewhat annoying we rely on such a subsystem

[06:43:17.0000] <annevk>
Fortunately it mostly works

[07:37:01.0000] <rubys>
That was easier than I thought it would be: http://intertwingly.net/projects/pegurl/liveview.html

[08:07:53.0000] <annevk>
cool

[08:08:14.0000] <annevk>
rubys: peg?

[08:16:45.0000] <jgraham>
http://pegjs.majda.cz/ I presume

[08:18:08.0000] <rubys>
http://intertwingly.net/blog/2014/10/21/pegurl-js

[08:23:26.0000] <annevk>
doh

[08:29:08.0000] <annevk>
rubys: it's a bit unclear to me how you envision those railroad diagrams to become the normative part of the spec

[08:30:24.0000] <rubys>
Did I say normative?  What I meant was to follow the lead of CSS.

[08:31:07.0000] <annevk>
Ah okay, this would be for the URL writing section?

[08:31:41.0000] <rubys>
Possibly.  However these diagrams also capture invalid URL productions too.  Needs more thought.

[08:32:49.0000] <annevk>
Just looked at http://dev.w3.org/csswg/css-syntax/ again, I guess I see what you mean

[08:33:31.0000] <rubys>
annevk: I'm assuming that you won't be in the bay area next week?

[08:33:45.0000] <annevk>
correct

[08:33:55.0000] <rubys>
bummer

[08:34:18.0000] <annevk>
I'm in Portland Dec 1-6, that's it for work travel this year

[08:36:18.0000] <rubys>
At this point, I'm quite willing to commit to putting substantial effort into contributing to the WHATWG URL Standard; any guidance on how to do that without ruffling feathers or wasting anybody's time would be appreciated.

[08:37:00.0000] <annevk>
I want railroad diagrams. I want to switch to Bikeshed. I'm not sure if railroad diagrams should just be for writing or should be for the parser or for both.

[08:38:10.0000] <annevk>
The way I was thinking of rewriting the parser would be in the form of several functions, each parsing its own bit, operating on the same underlying input string and buffers. With the option for some of those functions to be invoked standalone so the API can use them.

[08:38:52.0000] <annevk>
None of this I'm actively working on at the moment. I do actively fix API bugs as that's actually implemented.

[08:39:04.0000] <rubys>
my parser is a set of functions, each returning back a POJO (corresponding to a dictionary or hash in other languages)

[08:42:09.0000] <rubys>
Unless you strongly object, I'll try to produce a number of pull requests.  Be forewarned: some might be substantial.  We can use github facilities to discuss the pull requests.

[08:43:48.0000] <annevk>
I certainly won't object to getting PRs :-)

[08:45:28.0000] <rubys>
Cool.  This will likely fill my dead time on the plane ride to the left coast on Sunday.

[08:52:50.0000] <TabAtkins>
annevk: I currently only use railroad diagrams for non-normative illustrations of syntax.

[08:53:19.0000] <annevk>
I think that makes sense, I wouldn't want to use them for something else personally

[08:53:22.0000] <TabAtkins>
They could probably be used normatively, but you need something with real grammar, as they're not good for error-correcting grammars.

[08:58:37.0000] <rubys>
There isn't much error correcting in the URL grammar; most of it is in dealing with mal-formed URLs with an @ sign in them.

[09:01:54.0000] <TabAtkins>
Any error-correction usually pushes the actual accepting grammar to excessive wideness/verbosity to be usefully expressed as a railroad diagram.

[09:02:15.0000] <TabAtkins>
You don't have to be as extreme as HTML or CSS, whose accepting grammars are .*

[09:06:07.0000] <rubys>
TabAtkins: I don't see much of that in URL.  http://intertwingly.net/stories/2014/10/20/Url.xhtml

[09:07:14.0000] <TabAtkins>
I only see @ showing up in one production in the whole thing.  That right?

[09:08:15.0000] <rubys>
The error-correction is done elsewhere.  Search for '@' in http://intertwingly.net/projects/pegurl/url.pegjs

[09:09:45.0000] <Domenic>
JakeA: public-webapps high-five

[09:10:04.0000] <rubys>
Note: that logic also contains the "prepend %40" that I believe is unnecessary for web compat.  Example: http://intertwingly.net/stories/2014/10/16/urltest-results/1bdb1f0518

[09:11:05.0000] <rubys>
TabAtkins: any guidance on what it would take to convert a document from Anolis to Bikeshed?

[09:12:06.0000] <TabAtkins>
rubys: Most of Anolis converts to Bikeshed just fine, as Anolis is *also* derived from Bert's preprocessor.  The big problem is linking, because anolis is really verbose about it.

[09:12:18.0000] <TabAtkins>
That said, I find converting things to be relaxing, and would be happy to help.

[09:13:49.0000] <rubys>
Bikeshed seems to be the path of least resistance to incorporating railroad diagrams; at the moment, however, I know neither Anolis nor Bikeshed, but I learn fast :-).

[09:13:56.0000] <annevk>
rubys: something like http://@@@test.com seems interoperable between Firefox and Chrome

[09:14:13.0000] <annevk>
rubys: not sure why that test fails in Firefox, might be related to the leading ::

[09:15:36.0000] <rubys>
annevk: I'll note that http://@@@test.com doesn't require pre-pending; merely percent encoding.

[09:16:47.0000] <rubys>
It's the active reordering that seems wrong to me.

[09:34:03.0000] <annevk>
rubys: if you don't do that you'd have to process the string twice, no?

[09:34:33.0000] <annevk>
hmm but that's already the case

[09:41:44.0000] <annevk>
rubys: I guess if you use a different encode set that could work

[09:42:44.0000] <rubys>
I'll experiment and make a concrete proposal.

[09:45:44.0000] <rubys>
One thing I like about the grammar I produced is that it makes quirks more easy to spot.

[09:46:01.0000] <rubys>
Example of clean:

[09:46:04.0000] <rubys>
    if (scheme) {       result.scheme = scheme[0].toLowerCase()     } else {       result.scheme = base.scheme     }

[09:46:09.0000] <rubys>
Example of ugly:

[09:46:17.0000] <rubys>
    host = host.split('@');     result.host = host.pop();     if (host.length > 0) {       if (!auth) auth = {username: ''}       if (auth.password != null) {         auth.password += Array(host.length+1).join("%40")+host.join('')       } else {         auth.username += Array(host.length+1).join("%40")+host.join('')       }     };

[09:47:32.0000] <rubys>
Note: in my implementation, I don't process the string twice, instead I do a fixup after parsing.

[09:48:06.0000] <rubys>
... but as long as I get the same results, all should be good, right?

[09:50:43.0000] <rubys>
Hmmm.  Why doesn't the URL Standard include "Conformance requirements phrased as algorithms or specific steps may be implemented in any   manner, so long as the end result is equivalent. (In particular, the algorithms defined in this   specification are intended to be easy to follow, and not intended to be performant.)", like the HTML spec does?

[09:53:21.0000] <JakeA>
Domenic: :D just read your email

[09:56:07.0000] <Domenic>
rubys: my guess is an oversight. I love that text.

[09:56:15.0000] <Domenic>
annevk: how do i get a @thestreamsstandard bot

[10:09:57.0000] <rubys>
https://github.com/whatwg/url/pull/7

[10:22:17.0000] <mathiasbynens>
Domenic: register the twitter account and set up a github hook

[10:22:31.0000] <Domenic>
mathiasbynens: is there a built-in GitHub hook?

[10:22:54.0000] <mathiasbynens>
Domenic: https://github.com/whatwg/streams/settings/hooks/new?service=twitter yep

[10:23:04.0000] <Domenic>
well that's nice and easy

[10:23:55.0000] <mathiasbynens>
I hereby call dibs on at least one (1) Streams sticker btw

[10:26:21.0000] <Domenic>
^_^

[10:48:46.0000] <Domenic>
Aight, well, pretty boring right now, but https://twitter.com/streamsstandard

[11:41:04.0000] <pluma>
Is lists.whatwg.org down?

[11:44:04.0000] <rubys>
@TabAtkins: FATAL ERROR: IDL SYNTAX ERROR LINE: 10 - skipped: "iterable<USVString, USVString>"

[12:10:05.0000] <hober>
pluma: yes, permanently

[12:10:21.0000] <pluma>
hober: but the list still exists?

[12:14:07.0000] <pluma>
hober: I just want to make sure I don't need to unsubscribe.

[12:19:22.0000] <Hixie>
pluma: yup, list is still up. archives are at lists.w3.org/Archives/Public/public-whatwg-archive/latest

[12:19:45.0000] <Hixie>
pluma: if you want to unsubscribe, there should be an e-mail address in the e-mails from the list

[12:26:16.0000] <pluma>
Hixie: yeah, but I subscribed with an alias, so it'd have been easier to unsubscribe via the web interface.

[12:27:09.0000] <pluma>
Hixie: I'll do it the old-fashioned way then.

[12:41:28.0000] <Hixie>
pluma: you can actually get to lists.whatwg.org if you really want to, you just need to clear your cache entirely first (or use a browser that's never visited *.whatwg.org)

[12:41:46.0000] <Hixie>
pluma: the underlying problem is we don't have a way to make lists.whatwg.org work over https, because dreamhost

[12:42:22.0000] <pluma>
Hixie: thanks, but I already unsubscribed via mail.

[12:42:35.0000] <Hixie>
cool

[12:48:12.0000] <TabAtkins>
rubys: Sorry, haven't yet updated Bikeshed to the new idl stuff.  I'm pretty sure plinss has fixed those in widlparser, one sec while I pull it down.

[12:49:58.0000] <TabAtkins>
rubys: Okay, updated.  Pull the new stuff down and see if it worked; if not, I'll bug plinss to update.

[12:52:25.0000] <rubys>
@TabAtkins: on to the next error.

[12:52:35.0000] <rubys>
FATAL ERROR: Functions/methods must end with () in their linking text, got 'dom-URL'.

[12:52:45.0000] <rubys>
/me looking to see if I can figure this one out myself

[12:53:16.0000] <TabAtkins>
Now you're running into the "anolis has a weird data-model for links" thing that the conversion will have trouble with.

[12:53:52.0000] <rubys>
thing like <span title=dom-URL>?

[12:53:57.0000] <TabAtkins>
Yeah.

[12:54:12.0000] <rubys>
what should that look like?  I'm good with global search and replace.

[12:55:01.0000] <TabAtkins>
Well, move the dom-URL into the ID, then either remove the title or set it to "URL()".

[12:55:11.0000] <TabAtkins>
That way you can autolink to it with just {{URL()}}

[12:56:14.0000] <rubys>
ok, I think I need to spend some quality time with the bikeshed docs.

[12:56:59.0000] <TabAtkins>
Yeah, Bikeshed's autolinking stuff is rich and easy to use when you start with it, but converting from something with different semantics can be a little tricky.

[12:57:09.0000] <TabAtkins>
(I'm about to head to lunch if you want me to help.)

[12:57:51.0000] <rubys>
I'll try to get as far as I can.  I can always look at the anolis output for clues as to what the desired output should look like.

[13:47:48.0000] <Hixie>
anyone know anything about registerElement()?

[13:48:02.0000] <Hixie>
i'm trying to figure out http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=3270

[13:48:06.0000] <Domenic>
I kind of do

[13:48:20.0000] <Hixie>
specifically, why chrome says e.g. firstChild is on that x-foo element

[13:48:32.0000] <Domenic>
Ah

[13:48:36.0000] <Domenic>
Chrome has shitty WebIDL support

[13:48:44.0000] <Domenic>
They have been trying to move to accessors on the prototype for years

[13:48:50.0000] <Domenic>
and failing due to perf regressions

[13:49:02.0000] <Domenic>
there are epic bugthreads with patches being added and reverted all over the place

[13:49:29.0000] <Hixie>
ok so if it shouldn't have any of Element or Node on that x-foo element, in what sense is that element an element?

[13:50:03.0000] <Domenic>
wait maybe i missed the question

[13:50:20.0000] <Hixie>
could you do document.registerElement('x-bar', WebSocket) ?

[13:50:41.0000] <Domenic>
yeah sorry you are using for-in not Object.keys so I was talking about something compleeeetely different

[13:51:07.0000] <Domenic>
interesting i see what you're saying now

[13:51:19.0000] <Domenic>
i thought there was a requirement to have HTMLElement in your proto chain

[13:51:26.0000] <Domenic>
maybe it fails soft

[13:51:28.0000] <Domenic>
spec-reading time

[13:51:49.0000] <Hixie>
i don't see anything in the spec that would fix it up or enforce it, unless you pass null

[13:51:52.0000] <Hixie>
then it defaults to HTMLElement

[13:53:36.0000] <Domenic>
yeah

[13:53:45.0000] <Domenic>
i am having a hard time with all the terms

[13:53:48.0000] <Domenic>
"interface prototype object" etc.

[13:53:54.0000] <Domenic>
ah it's webidl-speak

[13:54:14.0000] <Hixie>
it's weird but the thing that hurts me the most reading that spec is the capitalisation of all the variables

[13:54:29.0000] <Domenic>
haha

[13:54:37.0000] <Domenic>
i'm going to call that a failed experiment

[13:57:16.0000] <Domenic>
Hmm Chrome people say that is related to the instance-not-prototype bug.

[13:58:05.0000] <Domenic>
so, Chrome bug.

[13:58:33.0000] <Hixie>
so if i do document.registerElement('x-bar', WebSocket), and i call my constructor, does it, like, open a TCP connection somewhere?

[13:59:48.0000] <Hixie>
"The prototype is already in-use as an interface prototype object"

[13:59:49.0000] <Hixie>
hmm, ok

[13:59:50.0000] <Domenic>
No, it'll just grab WebSocket.prototype

[13:59:59.0000] <Domenic>
oh, and maybe fail because of that

[14:00:11.0000] <smaug____>
/me wonders why blink still has the perf issue with prototypes

[14:01:07.0000] <smaug____>
I guess blink could take Gecko's Webidl bindings ;)

[14:01:37.0000] <Domenic>
it's so embarassing

[14:12:22.0000] <Domenic>
[NoInterfaceObject, Exposed=(Window,Worker)] is a bit confusing.

[14:16:20.0000] <Hixie>
Domenic: why?

[14:17:18.0000] <Domenic>
Hixie: "exposed" apparently doesn't mean "exposed as a property on the global" like I assumed it would.

[14:20:03.0000] <Hixie>
i think it maybe depends on how the interface is then used?

[14:20:14.0000] <Hixie>
e.g. if you say A implements B, but B isn't exposed, then B won't be imported?

[14:20:17.0000] <Hixie>
i could be wrong

[14:24:07.0000] <Domenic>
it looks like it's more "contexts the interface can be used in" rather than "contexts it is exposed as a global property"

[14:25:21.0000] <Hixie>
it's also possible i used it wrong

[14:26:03.0000] <Domenic>
I'm actually looking at URLUtils

[14:29:24.0000] <Hixie>
ah

[14:39:31.0000] <TabAtkins>
Domenic: Before I comment on es-discuss, I'm totally confused about the Function.prototype[Symbol.referenceGet] value.

[14:39:49.0000] <Domenic>
TabAtkins: it's what makes iterable::map(fn) work

[14:39:59.0000] <TabAtkins>
In the other objects, the @@referenceGet property is a function that *does* something when you pass it the base value.

[14:40:06.0000] <TabAtkins>
But it doesn't seem to do anything for generic functions.

[14:40:15.0000] <TabAtkins>
The function ignores base and just returns the function?

[14:40:26.0000] <TabAtkins>
Oh wait, never mind.

[14:40:41.0000] <TabAtkins>
That's just the iterable::map part.  The () part then *calls* that function.

[14:41:04.0000] <TabAtkins>
No, wait, still confused.

[14:41:17.0000] <Domenic>
hmm

[14:41:23.0000] <Domenic>
should it be return this.bind(base)?

[14:41:31.0000] <TabAtkins>
I think it needs to be, yeah.

[14:41:43.0000] <TabAtkins>
Otherwise there's no way for base to get intot he function.

[14:41:47.0000] <Domenic>
https://github.com/zenparsing/es-abstract-refs/issues/4

[14:42:13.0000] <TabAtkins>
Ah, cool, someone else caught it.

[14:42:21.0000] <TabAtkins>
I'm not crazy, then.

[14:42:57.0000] <Domenic>
yeah somehow i just skipped over it and saw what i wanted to see

[14:45:24.0000] <TabAtkins>
Is there something special in ES that makes the foo.bar() form work, with `foo` bound to `this`?

[14:45:30.0000] <TabAtkins>
Maybe it was meant to invoke that somehow.

[14:47:32.0000] <TabAtkins>
(I don't know my way around the ES spec's very indirect definitions to find this out myself. It's a very confusing spec to read.)

[14:49:26.0000] <Hixie>
something special?

[14:49:29.0000] <Hixie>
in what sense?

[14:50:45.0000] <TabAtkins>
Like, foo.bar just returns the value of the "bar" property on "foo".  But invoking it immediately, with foo.bar(), has the side-effect of binding foo to the "this" variable inside of bar.

[14:51:06.0000] <TabAtkins>
So maybe it was intended that foo::bar() have the same magic.

[14:51:55.0000] <Domenic>
TabAtkins: https://people.mozilla.org/~jorendorff/es6-draft.html#sec-evaluatecall

[14:52:01.0000] <TabAtkins>
So the function returned by bar[Symbol.referenceGet](foo) (what the foo::bar syntax decomposes to) is also soft-bound to foo.

[14:52:34.0000] <Domenic>
And nah, if it's anything like https://people.mozilla.org/~jorendorff/es6-draft.html#sec-evaluatecall, it's meant to provide a convenient syntax for extracting bound methods too

[14:53:03.0000] <Domenic>
hmm although it's not that convenient if you can't omit the first part

[14:53:11.0000] <Domenic>
bind operator gives var bound = ::obj.method;

[14:53:19.0000] <Domenic>
this proposal only has var bound = obj::obj.method;

[14:53:56.0000] <TabAtkins>
This isn't really a binding operator.

[14:54:12.0000] <Domenic>
sure it's supposed to be a generalization of it

[14:54:16.0000] <Domenic>
and of relationships

[14:54:25.0000] <Domenic>
in both cases being a little more awkward than the original

[14:55:22.0000] <TabAtkins>
I mean that it doesn't do binding at all.  It does "application of functions to objects in ltr order rather than nesting order".

[14:55:35.0000] <TabAtkins>
Which happens to accomplish something very similar to the old bind operator.

[14:56:06.0000] <Domenic>
it works alone

[14:56:11.0000] <Domenic>
var bound = obj::obj.method;

[14:57:15.0000] <TabAtkins>
Sure, it accomplishes that.  (Though not as written, due to the probably-mistaken default implementation.)

[15:17:20.0000] <Hixie>
so uh

[15:17:31.0000] <Hixie>
how do you define properties in es6 classes?

[15:17:34.0000] <Hixie>
is that not a thing?

[15:18:40.0000] <Domenic>
get x() { ... } set x(v) { ... }

[15:18:56.0000] <Hixie>
is that not in the spec?

[15:18:57.0000] <gsnedders>
es6 classes are just silly syntax, bah!

[15:18:58.0000] <Hixie>
i can't find it anywhere

[15:19:14.0000] <Domenic>
https://people.mozilla.org/~jorendorff/es6-draft.html#sec-method-definitions

[15:20:25.0000] <Hixie>
oh, i see

[15:20:33.0000] <Hixie>
i assumed "method" meant, like, method :-P

[15:20:37.0000] <Hixie>
thanks

[15:21:02.0000] <Domenic>
yeah :-/

[15:22:49.0000] <Hixie>
how about constructors?

[15:22:51.0000] <Hixie>
are those still in?

[15:22:55.0000] <Hixie>
i don't see those either

[15:22:57.0000] <Hixie>
even in methods!

[15:23:07.0000] <caitp->
the constructor property of a class

[15:23:13.0000] <Hixie>
or is it just a method called "constructor"

[15:23:19.0000] <caitp->
bingo

[15:23:24.0000] <Hixie>
k


2014-10-22
[17:53:45.0000] <cabanier>
TabAtkins: ping

[17:54:05.0000] <cabanier>
TabAtkins: bikeshed is reporting "ImportError: No module named six"

[17:54:21.0000] <cabanier>
https://www.irccloud.com/pastebin/zrm5b7sH

[17:54:33.0000] <cabanier>
TabAtkins: Any ideas?

[17:54:51.0000] <cabanier>
TabAtkins: It's on mac

[17:55:04.0000] <TabAtkins>
let me go see!

[18:00:21.0000] <caitp>
making python do anything right is kind of amazing

[18:03:50.0000] <cabanier>
TabAtkins: just got a new mac so it could be that something is in a bad state

[18:04:05.0000] <TabAtkins>
Argh, having trouble entering my chroot now, probably caused by the most recent update to chromeos

[18:04:31.0000] <TabAtkins>
And yeah, I haven't touched that part of the code. You followed the install instructions?

[18:04:48.0000] <TabAtkins>
Possible that six wasn't part of the install instructions, but it worked because everyone already had it on mac or something.

[18:05:31.0000] <cabanier>
TabAtkins: yes. https://github.com/tabatkins/bikeshed/blob/master/docs/install.md

[18:05:53.0000] <SimonSapin>
TabAtkins: six should just come as a dependency when you install html5lib

[18:06:09.0000] <TabAtkins>
Yeah, it should. Weird that it's not.

[18:06:48.0000] <SimonSapin>
the state of Python on OS X makes me sad

[18:06:57.0000] <cabanier>
I did "sudo port install py27-six"

[18:06:59.0000] <cabanier>
now it works :-)

[18:07:05.0000] <caitp>
it's not that python is bad on osx, it's just bad everywhere

[18:07:14.0000] <caitp>
this is why nobody likes writing python :(

[18:07:23.0000] <TabAtkins>
caitp: Except, the exact opposite.

[18:07:33.0000] <TabAtkins>
cabanier: I'll amend the docs.

[18:07:34.0000] <SimonSapin>
caitp: disagree

[18:07:44.0000] <cabanier>
TabAtkins: thanks!

[18:08:17.0000] <caitp>
dart has a decent package manager, go sort of has something vaguely like a package manager, node has a pretty great package manager

[18:08:26.0000] <caitp>
all 3 make that stuff so much less of a headache

[18:08:52.0000] <TabAtkins>
Python has a decent package manager too.

[18:08:55.0000] <TabAtkins>
On Linux.

[18:09:07.0000] <caitp>
it really doesn't, I've been using python on linux :(

[18:09:44.0000] <TabAtkins>
So have I.

[18:13:04.0000] <caitp>
there are always going to be a few people who are really into whatever language, even if it's haskell or rust

[18:14:45.0000] <TabAtkins>
I'm just saying, I've never had problems with pip on linux.

[18:14:58.0000] <TabAtkins>
And I've done a year of off-and-on heavy dev on Bikeshed.

[18:18:41.0000] <caitp>
i'm just saying, the barrier to entry and the maintenance headache for this stuff should rightfully be a lot less than it is

[18:18:57.0000] <caitp>
these are solved problems in general

[18:19:11.0000] <TabAtkins>
Maybe so, but I haven't seen these problems you're alluding to. ^_^

[18:20:06.0000] <caitp>
must be nice :> i never saw them with mozilla's python stuff, but i see them with every flask app ive ever seen

[18:21:11.0000] <caitp>
or any non-easy_install library that isnt dealt with by someone else

[18:21:49.0000] <caitp>
anything that wants to use venv

[18:50:32.0000] <SimonSapin>
"these are solved problems in general" [citation needed]

[19:22:27.0000] <jdaggett_>
annevk: ping

[01:01:39.0000] <annevk>
jdaggett_: hey

[01:03:02.0000] <jdaggett_>
annevk: had a design question for you but ended up talking about it with mike smith instead! :)

[01:03:13.0000] <jdaggett_>
annevk: you're in london these days?

[01:03:21.0000] <annevk>
jdaggett_: Zürich

[01:03:36.0000] <jdaggett_>
sweet!

[01:04:39.0000] <jdaggett_>
annevk: have you glanced over the font loading api recently? http://dev.w3.org/csswg/css-font-loading

[01:05:20.0000] <jdaggett_>
annevk: wondering if it might be better to structure the spec so that the algorithms were grouped together more clearly

[01:06:13.0000] <annevk>
That's up to you guys really

[01:06:47.0000] <annevk>
The only thing I'd try to make sure of is that algorithms that are also used by CSS syntax (not the API) are separate so they can be referenced and used from multiple places

[01:09:50.0000] <jdaggett_>
annevk: well, there's "fudge it" language -- User agents can initiate font loads on their own, whenever they determine that a given font face is necessary to render something on the page. When this happens, they must act as if they had called the corresponding FontFace’s load() method described here.

[01:10:10.0000] <jdaggett_>
:P

[01:11:15.0000] <annevk>
Seems reasonable I guess, although that language does not quite make it clear whether or not the load() method can be overridden by web developers

[01:12:35.0000] <jdaggett_>
annevk: hmmm, interesting

[01:13:04.0000] <annevk>
jgraham: I find it easier to have a separate algorithm that load() invokes and that the other CSS spec can invoke

[01:13:09.0000] <annevk>
jdaggett_: ^

[01:13:42.0000] <annevk>
jdaggett_: but you can also talk about the object's initial property value; XMLHttpRequest does something like that for using JSON.parse()

[01:13:46.0000] <jdaggett_>
yeah, that sounds like a better thing

[01:14:48.0000] <jdaggett_>
annevk: btw, if a spec says (1) fire a blahblah event at object X (2) fulfill promise foobar

[01:15:41.0000] <jdaggett_>
annevk: does that imply anything about the order of the event handler and resolve methods are executed?

[01:16:25.0000] <annevk>
jgraham: if that is all it says the event would fire immediately and the promise callbacks would be run later (before end-of-task)

[01:16:41.0000] <annevk>
(or at end-of-task, depends on how you view things I guess)

[01:16:48.0000] <jdaggett_>
mmm, ok

[01:31:52.0000] <jgraham>
/me still isn't jdaggett_ :p

[01:32:19.0000] <jdaggett_>
heh

[01:32:32.0000] <jdaggett_>
nor should you ever want to be...

[01:56:59.0000] <annevk>
oh sorry :/

[02:51:28.0000] <JakeA>
annevk: I don't see the relevance of https://github.com/slightlyoff/ServiceWorker/issues/518#issuecomment-60060589 - wrong ticket?

[02:52:34.0000] <annevk>
JakeA: I don't want ServiceWorkerClient as an object per 512 / 511

[02:53:05.0000] <JakeA>
annevk: ahh, but ServiceWorkerClients is different

[02:53:19.0000] <annevk>
JakeA: oh, it's all of them

[02:53:40.0000] <annevk>
JakeA: deleted comment

[02:53:50.0000] <JakeA>
JakeA: it's where the getters for the clients, and things like reloadAll (will) live

[02:54:17.0000] <annevk>
JakeA: still unclear how that makes sense for workers though

[02:54:27.0000] <annevk>
JakeA: reload that is

[02:55:38.0000] <JakeA>
annevk: yeah, reloadAll has more problems than just that. It's a good feature, but needs way more thought, that's why I removed it.

[03:00:31.0000] <annevk>
JakeA: hmm, perhaps a dedicated worker cannot be a client due to its API

[03:01:17.0000] <annevk>
JakeA: a dedicated worker assumes it only has a relationship with a window

[03:01:52.0000] <annevk>
JakeA: I guess it could still talk to Fetch directly, with a capability given by the Window/Document

[03:29:09.0000] <JakeA>
annevk: which bit of its API gets in the way?

[03:30:22.0000] <annevk>
JakeA: a dedicated worker assumes it's associated with a single port

[03:31:01.0000] <JakeA>
annevk: ah, so another env wouldn't be able to post messages to it?

[03:31:28.0000] <annevk>
JakeA: yeah, the logic doesn't really support that

[03:31:43.0000] <annevk>
JakeA: you'd effectively turn it into a shared worker at that point

[03:31:51.0000] <annevk>
afaict, anyway

[03:35:23.0000] <JakeA>
I'll continue assuming it's just windows & sharedworkers, we can add dedicated workers in if needed

[03:35:56.0000] <JakeA>
(I say 'continue', I'm just about to get onto it, so questions incoming)

[03:37:07.0000] <annevk>
Yeah, given the way the dedicated worker API works, that seems fine

[03:37:45.0000] <annevk>
We'll just have to learn to appreciate that there's not really any governing logic to these things

[03:43:58.0000] <annevk>
I missed http://www.w3.org/blog/2014/10/decision-by-consensus-or-by-informed-editor-which-is-better/ I hope Jeff doesn't actually think the W3C enables those five things

[03:47:23.0000] <erlehmann>
annevk what i am worried about with workers is that clients need to send messages to them. since js is single threaded, wouldn't that mean that if a worker has a huge dataset to work on that dataset would have to be messaged to them and interface would freeze in the meantime?

[03:48:30.0000] <annevk>
erlehmann: workers run in a distinct thread

[03:49:20.0000] <erlehmann>
annevk yes, but the messaging of the huge dataset could prove problematic, wouldn't it?

[03:49:25.0000] <erlehmann>
like the communication of and from to the worker

[03:49:47.0000] <annevk>
erlehmann: depends on how it's done, if you can transfer rather it, you might be okay

[03:49:53.0000] <annevk>
s/rather//

[03:50:13.0000] <erlehmann>
data is copied, not shared

[03:50:32.0000] <erlehmann>
i have to benchmark this in real-world cases

[03:52:01.0000] <annevk>
erlehmann: no, you can actually transfer the data rather than copy it if you use an ArrayBuffer

[03:54:22.0000] <erlehmann>
ah

[03:54:24.0000] <erlehmann>
thx annevk

[04:43:01.0000] <annevk>
"Mark Day: the usual model is that W3C develops stuff; some of it is deemed mature enough to transition over to another, larger or better-trained body like IETF. To my memory it hasn't gone the other way around."

[04:43:04.0000] <annevk>
https://www.ietf.org/proceedings/44/44th-99mar-ietf-121.html

[04:47:48.0000] <annevk>
Yay, SSLv3 disabled: https://www.ssllabs.com/ssltest/analyze.html?d=annevankesteren.nl

[04:48:06.0000] <annevk>
whatwg.org still has some ways to go; server not updated yet I guess

[06:08:40.0000] <JakeA>
annevk: If I want to get the url of a client, is it "the client's global object's location's href"?

[06:09:16.0000] <annevk>
JakeA: it depends on the type of client

[06:09:35.0000] <annevk>
JakeA: we could ask Hixie to put an accessor on the environment settings object

[06:10:04.0000] <annevk>
JakeA: but e.g. if the global object is a Window, you want it's associated document's url.

[06:10:08.0000] <JakeA>
annevk: that would help. Although don't all types of client have a location?

[06:10:46.0000] <JakeA>
workers & windows have .location

[06:10:58.0000] <annevk>
JakeA: yes, but that's an API, not an underlying concept

[06:11:20.0000] <annevk>
JakeA: and e.g. for a Window would give the address of the active document, which might not be correct I suppose

[06:12:59.0000] <JakeA>
annevk: struggling to find the window concept

[06:13:15.0000] <JakeA>
or is it "browsing context"?

[06:13:29.0000] <annevk>
JakeA: it's global object

[06:13:46.0000] <annevk>
JakeA: a browsing context has a history, so that's not quite it

[06:14:32.0000] <annevk>
JakeA: I have the feeling Hixie could refactor it a bit more, though I understand why he would be hesitant about that

[06:19:57.0000] <JakeA>
annevk: so I'm at https://html.spec.whatwg.org/multipage/webappapis.html#environment-settings-object, looking for a way to get the URL, I guess "global object" isn't it, because that only gives me APIs and not concepts. Base URL will (presumably) be affected by <base>, so that isn't what I want. Getting the url from the browsing context is messy when it

[06:19:57.0000] <JakeA>
comes to navigations and window.open

[06:20:32.0000] <JakeA>
thinking out loud, but struggling to get to a url. Am I at least thinking about it in the right way?

[06:20:45.0000] <JakeA>
Or have I discounted the right answer by mistake?

[06:22:19.0000] <annevk>
JakeA: it's fine to inspect objects

[06:22:36.0000] <annevk>
JakeA: the problem with Location is that if you look at the API, you'll find it returns the active document's url

[06:22:54.0000] <annevk>
JakeA: whereas here we should probably return global object's associated document's url

[06:23:29.0000] <annevk>
JakeA: also, we don't typically say return the value from location.href or some such, but rather just get at the value that API would return (though in this case that would be wrong)

[07:23:42.0000] <JakeA>
annevk: active document seems fine. It's the document in the history sequence that's currently in use right?

[07:24:23.0000] <JakeA>
annevk: or does it get broken by child browsing contexts and window.open?

[07:24:35.0000] <JakeA>
"broken" in terms of my intended use

[07:37:44.0000] <JakeA>
annevk: I've replaced client url with: <a href="https://fetch.spec.whatwg.org/#concept-request-client">client</a>'s <a href="https://html.spec.whatwg.org/multipage/webappapis.html#global-object">global object</a>'s <a href="https://html.spec.whatwg.org/multipage/browsers.html#location">location</a>'s underlying <a

[07:37:44.0000] <JakeA>
href="https://url.spec.whatwg.org/#concept-urlutils-url">URL</a>

[07:39:41.0000] <JakeA>
I can farm this out to an algorithm section, "Get URL From Client" or whatever

[07:40:04.0000] <JakeA>
Yeah, I'll do that

[07:40:25.0000] <JakeA>
/me disconnects his thoughts from #whatwg for a moment

[07:57:41.0000] <annevk>
JakeA: that's not an actual thing though

[07:58:01.0000] <annevk>
JakeA: just file a bug on Hixie to attach such a thing to environment setting objects

[07:58:30.0000] <JakeA>
annevk: what isn't a thing?

[07:58:56.0000] <annevk>
"location's underlying URL"

[07:59:46.0000] <JakeA>
annevk: But location implements URLUtils, and that has the concept of a URL. Or can I not go from API to concept?

[08:00:34.0000] <annevk>
JakeA: as I said, location's url is the one from the active document, we don't want that here

[08:02:15.0000] <JakeA>
annevk: haven't figured out when that breaks. The active document is the currently used document in the history sequence, right? When isn't that what we want? Or does it get broken (from what I want) by child browsing contexts and window.open?

[08:02:53.0000] <annevk>
JakeA: because at that point it's a different document

[08:03:19.0000] <annevk>
JakeA: e.g. if you navigate from a.com to b.com, the active document changes, but we don't want the URL to change in that case

[08:03:29.0000] <annevk>
JakeA: that'd be pretty weird

[08:20:46.0000] <annevk>
JakeA: how does appcache have path-based security?

[08:27:11.0000] <JakeA>
annevk: https://www.w3.org/Bugs/Public/show_bug.cgi?id=25699

[08:27:52.0000] <annevk>
JakeA: ah okay, is that actually implemented?

[08:29:03.0000] <JakeA>
annevk: nah, we've got someone assigned to do it, but not done yet

[08:29:21.0000] <annevk>
so maybe it's not a problem at all?

[08:30:42.0000] <JakeA>
I guess I could already take-over jsbin's 404 pages using appcache

[08:31:50.0000] <JakeA>
will add that to the issue

[08:35:56.0000] <JakeA>
annevk: visit https://jsbin.com/yisiju/quiet, then visit https://jsbin.com/blahblahwhatever

[08:37:42.0000] <annevk>
JakeA: why does it come back with " Remy smells of poo "?

[08:38:16.0000] <annevk>
oh I see

[08:38:17.0000] <JakeA>
annevk: I've taken over al 404s BY THE POWER OF APPCACHE

[08:38:18.0000] <annevk>
okay you that's bad

[08:39:55.0000] <JakeA>
annevk: yeah, mix this in with a bit of MITM and… well… appcache should have been https only

[08:40:17.0000] <annevk>
We were gonna disable appcache I think

[08:40:22.0000] <annevk>
I wonder why that hasn't happened yet

[08:40:32.0000] <JakeA>
annevk: Jonas said "as soon as serviceworker ships"

[08:57:55.0000] <Domenic>
JakeA: i bet you feel like one of those l33t "attackers" you hear so much about, now.

[08:59:03.0000] <JakeA>
/me goes off to pwn something

[09:00:03.0000] <jgraham>
JakeA: AIUI all you actually need to do is own evil.com. It's the web equivalent of having a secret base inside a volcano.

[09:02:33.0000] <boogy>
annevk:  JakeA: e.g. if you navigate from http://a.com/ to http://b.com/, the active document changes, but we don't want the URL to change in that case <— Doesn't this break principles of showing appropriate content for the current url? Or is this some weirdness where only the canonical meta tag updates?

[09:04:46.0000] <JakeA>
annevk: also, if the user navigates, don't we want the url to change?

[09:05:02.0000] <JakeA>
(I think I'm hitting the spec writing learning curve)

[09:12:37.0000] <annevk>
boogy: I'm not sure what you're saying

[09:13:03.0000] <annevk>
JakeA: if the user navigates the global object changes as well, so you get a different place to postMessage to

[09:13:28.0000] <annevk>
JakeA: and the document changes

[09:13:33.0000] <annevk>
JakeA: as I said, Location is weird

[09:14:34.0000] <boogy>
annevk: what is the use-case where someone is navigating from domain.tld to domain2.tld without the url changing but the content changing?

[09:15:21.0000] <annevk>
boogy: the point is that the URL from domain.tld has not changed

[09:15:41.0000] <annevk>
boogy: so when we're talking with the content from domain.tld, we should not report the URL from some different content

[09:16:32.0000] <JakeA>
annevk: I guess this is why we considered navigation creating a new client and killing the old

[09:17:19.0000] <JakeA>
annevk: (by we I mean serviceworker client). Will work from home tomorrow so I can actually get this done. Today was mostly serviceworker support and meetings :(

[09:18:24.0000] <annevk>
JakeA: if I go to <a href=/b></a> from /a you'd expect /b to have its own Document (and therefore its own Window), but you wouldn't expect the client from /a to report /b

[09:19:24.0000] <annevk>
JakeA: and I don't think we want to make a client an actual browsing context with history and everything... though it would have been good if someone had thought about this while we created service workers

[09:20:50.0000] <boogy>
I'm not fully understanding the context here. Are you discussing the reporting as it relates to service workers? In my humble opinion, I very much would not expect content from /b to report as /a if that content produced a new document load.

[09:21:41.0000] <boogy>
as a web author, nor as an educated user.

[09:22:39.0000] <annevk>
I don't think there's actual disagreement, just not sufficient understanding about how self.location actually works

[09:26:49.0000] <boogy>
shouldn't it report the information most relevant to the document content?

[09:33:23.0000] <annevk>
boogy: it should do what it has always done so it doesn't break sites

[09:34:04.0000] <tantek>
annevk - any objection to me proposing to Art that WebAppsWG drop their outdated copy of Fullscreen, and simply instruct all dependent parties to reference the WHATWG living spec for Fullscreen?

[09:34:24.0000] <JakeA>
annevk: I need to get the url on navigate (to see which serviceworker registration to assign) and as a snapshot when we get clients (for getAll, and request.client). Doesn't this avoid the changing url issue?

[09:35:13.0000] <annevk>
tantek: yeah, I thought the CSS WG already decided as much

[09:37:22.0000] <tantek>
annevk - apparently we have to tell all the WGs

[09:37:41.0000] <Ms2ger>
Isn't a WG just a support forum?

[09:37:58.0000] <tantek>
Ms2ger - a very good question.

[09:38:31.0000] <annevk>
tantek: tell 'm

[09:38:41.0000] <tantek>
now that I'm co-chairing one ( Social Web WG ) I'm beginning to believe that it might be mostly a support forum for those who have ideas but don't actually build anything.

[09:39:17.0000] <tantek>
Ms2ger - WGs sometimes can also serve as honeypots for counter-productive individuals as well.

[09:40:06.0000] <annevk>
tantek: might want to reference http://lists.w3.org/Archives/Public/www-style/2014Oct/0295.html

[09:41:19.0000] <tantek>
annevk - thanks much. that's very helpful.

[09:41:27.0000] <tantek>
I will cc: you on my support forum post.

[09:48:29.0000] <Ms2ger>
"the new heartbeat requirement from W3C"

[09:48:46.0000] <Ms2ger>
Is that new? I recall it existing when I still edited in webapps

[09:50:11.0000] <annevk>
Ms2ger: per http://www.w3.org/2014/Process-20140801/#changes it's not

[09:57:28.0000] <rubys>
@TabAtkins: ping?

[09:57:50.0000] <TabAtkins>
rubys: pong

[09:58:06.0000] <rubys>
Do I need to do anything to enable railroad diagrams?

[09:58:08.0000] <tantek>
email : wiki :: TR : living-spec

[09:58:22.0000] <TabAtkins>
rubys: No, you just write them in <pre class=railroad> blocks.

[09:58:23.0000] <tantek>
email-lists rather

[09:58:42.0000] <rubys>
What did I do wrong then?  http://intertwingly.net/tmp/url.bs produces http://intertwingly.net/tmp/url.html#url-railroad

[09:58:45.0000] <TabAtkins>
tantek: But I can't respond to a fixed version of the wiki!

[09:59:17.0000] <tantek>
TabAtkins: But I can't file issues against a living spec!

[09:59:28.0000] <TabAtkins>
tantek: (that was the joke)

[09:59:38.0000] <tantek>
TabAtkins: I need more coffee :D

[10:01:37.0000] <TabAtkins>
rubys: Ah, undocumented requirement that the <pre> be on a line by itself.  Sorry about that.

[10:01:43.0000] <tantek>
TabAtkins: I'm considering putting a WARNING STATIC SNAPSHOT header on all my posts to email lists.

[10:01:59.0000] <tantek>
which then says to reference the LIVING VERSION HERE (insert wiki URL)

[10:02:05.0000] <TabAtkins>
(All of the pre-block stuff is done in a preprocessing step before HTML parsing occurs.)

[10:02:29.0000] <TabAtkins>
rubys: The <pre> tag, that is.  Don't put the contents on the same line, obvs.

[10:02:55.0000] <rubys>
thanks.  can we talk about your comments on my conversion here, or would you prefer I respond in github?

[10:03:09.0000] <TabAtkins>
We can do here, but gimme 20m, as I need to make my wife's lunch.

[10:03:55.0000] <rubys>
ok

[10:04:59.0000] <tantek>
TabAtkins: speaking of the <pre> tag, whatever happened to your polyfill for the "separator" attribute on the <pre> tag? http://krijnhoetmer.nl/irc-logs/whatwg/20090903#l-1450

[10:05:28.0000] <JonathanNeal>
tantek: docs on separator attribute?

[10:05:38.0000] <tantek>
JonathanNeal: ^^^ click URL

[10:05:53.0000] <tantek>
it's a way to get CSV functionality into HTML and the DOM

[10:06:07.0000] <Ms2ger>
It never happened

[10:07:52.0000] <JonathanNeal>
tantek: i had seen the line you highlighted and looked at http://www.ietf.org/rfc/rfc4180.txt but I didn’t see what it does. I don’t yet get what csv functionality would look like in a pre.

[10:08:01.0000] <JonathanNeal>
But if I can help, I will!

[10:08:26.0000] <tantek>
JonathanNeal: <pre separator="\t"> (copy paste a tab-separated CSV text file here) </pre>

[10:08:33.0000] <tantek>
and if there's a header row then

[10:08:40.0000] <tantek>
(header row in the CSV)

[10:08:46.0000] <tantek>
<pre separator="\t" header> (copy paste a tab-separated CSV text file here) </pre>

[10:09:54.0000] <tantek>
implementation: parse the CSV per that RFC, and add a Table DOM to the pre element accordingly, so it can be styled with CSS table pseudo-elements and accessed by scripts.

[10:10:39.0000] <tantek>
/me waits for dglazkov to show up and say something about perfect opportunity for a Web Component ;)

[10:15:15.0000] <tantek>
annevk: http://lists.w3.org/Archives/Public/public-webapps/2014OctDec/0213.html

[10:16:46.0000] <Domenic>
lolol

[10:17:36.0000] <tantek>
JonathanNeal: do you use CSV files ever? do you like CSV as a format?

[10:18:17.0000] <JonathanNeal>
Hardy. Yes.

[10:18:56.0000] <JonathanNeal>
And it also sounds like the perfect opportuntiy for a web component because it seems like <pre> should never format content.

[10:19:17.0000] <tantek>
<pre> always formats content

[10:19:27.0000] <tantek>
(unless you style it explicitly not to)

[10:19:53.0000] <JonathanNeal>
I thought it tries to display it as raw as possible, which is why I doesn’t ignore whitespace and defaults to monospace?

[10:20:13.0000] <TabAtkins>
rubys: back

[10:20:29.0000] <TabAtkins>
tantek: Still exists in the annals of my site.

[10:24:45.0000] <rubys>
TabAtkins: how do I hand-covert an external link?  See also https://github.com/rubys/url/commit/e617fd66135bd75b1052700081de5319914168a5#commitcomment-8262562

[10:24:47.0000] <tantek>
TabAtkins: Cool URLs and all that. Nice.

[10:25:08.0000] <tantek>
JonathanNeal: check out Tab's prototype http://www.xanthir.com/etc/csv.html

[10:25:28.0000] <annevk>
tantek: heh

[10:26:04.0000] <tantek>
annevk, glad I can help.

[10:26:08.0000] <TabAtkins>
rubys: You see if that link exists in Bikeshed's database today (`bikeshed debug --print-refs-for="foo"` isn't great to read, but it has all the necessary data), and if so, you specify what you need to point to it.

[10:26:58.0000] <TabAtkins>
If the link doesn't exist today, you can add custom anchors with an anchors.json file.

[10:27:13.0000] <tantek>
I don't always post to email lists, but when I do, I include at least one level of self-referential meta.

[10:27:26.0000] <TabAtkins>
And let me know, so that I can get Shepherd to start parsing that spec (assuming it has the right metadata for Bikeshed/Shepherd).

[10:27:35.0000] <TabAtkins>
(And if it doesn't, I can hopefully but the editors to add it.)

[10:28:15.0000] <JonathanNeal>
tantek: what am I misunderstanding about <pre> that it should format content when it means "preformatted text”? Why not use a new element?

[10:28:43.0000] <TabAtkins>
csv files are meaningfully  readable as preformatted text.  They're *more* readable as tables, of course.

[10:28:56.0000] <tantek>
JonathanNeal: you could use a new element. We used <pre> because <pre> is short for "preformatted text", and CSV/TSV is simply a special case of preformatted text, thus it made sense to re-use.

[10:29:01.0000] <TabAtkins>
So if you wanted something that worked in the absence of script, <pre> is what you use.

[10:29:08.0000] <TabAtkins>
Good fallback and all that.

[10:29:22.0000] <rubys>
TabAtkins, ok, if I substitute 'css' for 'foo', I get some JSON.  I take it I should mimic that format and add it to biblio.json (which should be inlined?)

[10:29:39.0000] <tantek>
Right. 1) Good fallback.  2) minting new elements has greater cognitive cost than adding attributes to an existing element

[10:29:46.0000] <JonathanNeal>
Well, I’m all for that, and then I would ask that in the future it work with other preformatted types, like JSON, and eventually replace syntax highlighters altogether.

[10:29:50.0000] <TabAtkins>
anchors.json.  Lemme check and see if I'm looking for inline anchors yet, one sec.

[10:30:11.0000] <tantek>
JonathanNeal: JSON already has <script> tags for embedding it.

[10:30:28.0000] <TabAtkins>
tantek: That's for *using* json, not displaying it.

[10:30:29.0000] <JonathanNeal>
Yes, but if I want to display it in a meaningful way, like CSV.

[10:30:30.0000] <tantek>
whereas <pre> is purely for expectedly *human* readable content

[10:31:16.0000] <tantek>
TabAtkins: true. JonathanNeal if you want to display some machine-readable code like JSON, we have an element for that. <code>

[10:31:32.0000] <tantek>
just need a "type" attribute

[10:31:41.0000] <JonathanNeal>
tantek: agreed on both points, nice

[10:35:28.0000] <TabAtkins>
rubys: Ah, yeah, I'm not yet recognizing inline <pre class=anchors> data.  I'll fix that.  For now, external anchors.json file will work.

[10:36:06.0000] <tantek>
JonathanNeal: <code type="application/json">{ "items": [{ "type": ["h-card"], "properties": { "url": ["http://tantek.com/"], "name": ["Tantek \u00c7elik"]}}]}</code>

[10:38:09.0000] <Domenic>
rubys: TabAtkins: FWIW I just use <a href="my-blog-post-here">text</a>

[10:38:26.0000] <TabAtkins>
annevk: I've been thinking of separating out the "default impl" of the FontFace/etc methods from the actual method itself.  The intention is that UA-sparked calls use the *initial* value of the property.

[10:39:06.0000] <TabAtkins>
Domenic: Experience shows that forcing people to do cross-spec links with full href just means, in practice, that people almost never do cross-spec links.

[10:39:28.0000] <TabAtkins>
As evidence, the CSSWG moved from "very few cross-spec links" to "omg, so many cross-spec links" as specs switched to Bikeshed.

[10:39:41.0000] <Domenic>
Hmm, I meant more for e.g. the revealing constructor pattern link in https://streams.spec.whatwg.org/#rs-intro

[10:39:59.0000] <TabAtkins>
Oh, sure, if you want a one-off link.

[10:40:21.0000] <TabAtkins>
But if you'll be referencing something multiple times in a spec, you want Bikeshed to know about it so you can use short syntax.

[10:42:30.0000] <rubys>
TabAtkins: ValueError: dictionary update sequence element #0 has length 9; 2 is required

[10:42:55.0000] <TabAtkins>
...I have never seen that happen before.

[10:43:24.0000] <rubys>
At the moment, my anchors.json is exactly the output from bikeshed debug --print-refs-for="css", unmodified

[10:43:56.0000] <rubys>
last line in the traceback:

[10:43:57.0000] <rubys>
  File "/home/rubys/git/bikeshed/bikeshed/ReferenceManager.py", line 61, in initializeRefs

[10:43:57.0000] <rubys>
    self.refs.update(json.load(fh))

[10:44:24.0000] <annevk>
TabAtkins: as an avid reader of standards, I usually understand the intent, but I try to read them in such a way that I don't

[10:44:32.0000] <TabAtkins>
Ah, kk.  That won't work; the output of print-refs-for isn't designed for direct input.  Sorry this is kinda messy.

[10:45:51.0000] <rubys>
TabAtkins: got an example of a working anchors.json anywhere?

[10:46:29.0000] <TabAtkins>
The top-level needs to be a dict of link text to anchor data, not an array.

[10:47:03.0000] <TabAtkins>
/me is really frustrated that the ChromeOS update he accidentally applied last night killed his crouton, because it means he CAN'T FIX ANYTHING AT ALL RIGHT NOW >_< >_< >_<

[10:50:04.0000] <rubys>
TabAtkins: does that mean that I don't need the spec= attribute?

[10:50:29.0000] <TabAtkins>
rubys: Yes, you rarely need to specify the spec; usually just specifying the type and maybe the for is enough.

[10:55:53.0000] <rubys>
TabAtkins: I'm really longing for a working example.  My current error:

[10:55:58.0000] <rubys>
    self.refs[term] = [ref for ref in refs if ref['shortname'].rstrip("\n")!=self.specName]

[10:55:59.0000] <rubys>
TypeError: string indices must be integers

[10:56:21.0000] <rubys>
contents of anchors.json (clearly bogus values but should be well-formed):

[10:56:23.0000] <rubys>
{

[10:56:24.0000] <rubys>
  "utf-8-decoder" : {

[10:56:24.0000] <rubys>
    "status": "TR\n",

[10:56:24.0000] <rubys>
    "export": false,

[10:56:24.0000] <rubys>
    "for": [],

[10:56:24.0000] <rubys>
    "level": "3\n",

[10:56:24.0000] <rubys>
    "url": "http://www.w3.org/TR/css3-conditional/#CSS-interface\n",

[10:56:25.0000] <rubys>
    "normative": true,

[10:56:25.0000] <rubys>
    "shortname": "css-conditional\n",

[10:56:26.0000] <rubys>
    "type": "dfn\n",

[10:56:26.0000] <rubys>
    "spec": "encoding\n"

[10:56:27.0000] <rubys>
  }

[10:57:10.0000] <rubys>
ok, that was throttled.  Trying again in parts:

[10:57:18.0000] <rubys>
{

[10:57:18.0000] <rubys>
  "utf-8-decoder" : {

[10:57:18.0000] <rubys>
    "status": "TR\n",

[10:57:20.0000] <rubys>
...

[10:57:27.0000] <rubys>
    "type": "dfn\n",

[10:57:28.0000] <rubys>
    "spec": "encoding\n"

[10:57:28.0000] <rubys>
  }

[10:57:28.0000] <rubys>
}

[10:58:03.0000] <rubys>
one of the elided lines reads:

[10:58:04.0000] <rubys>
    "shortname": "css-conditional\n",

[10:58:12.0000] <TabAtkins>
rubys: No one's ever used it, and I am incapable of producing one for you at the moment, as in trying to get my Linux working again.

[10:58:31.0000] <rubys>
ok, in that case, Dominic's suggestion wins. :-)

[10:59:23.0000] <TabAtkins>
The real answer is "get all the specs you reference to add the right metadata, then we'll get Shepherd to start parsing then and everyone benefits".

[11:00:26.0000] <TabAtkins>
Autolinking is an ecosystem thing that doesn't work great for the first few specs in a given clique that try to use it.

[11:01:18.0000] <TabAtkins>
It's *awesome* for CSS now, since everyone generates thee right metadata.

[11:01:19.0000] <rubys>
Converting encoding: doable.  Converting html and IDNA; https://www.youtube.com/watch?v=zGxwbhkDjZM :-)

[11:01:30.0000] <TabAtkins>
Yeah...

[11:02:54.0000] <rubys>
In any case, hard-code hrefs for now; and I'll update to use anchors when you can provide a working example.

[11:03:11.0000] <TabAtkins>
Kk!

[11:07:39.0000] <rubys>
TabAtkins: just thinking out loud, why is anchors needed?  Shouldn't one or more of the following 'just work'?

[11:08:09.0000] <rubys>
<a spec=encoding>utf-8</a> or <a spec=dom title=concept-attribute-value>attribute value</a>?

[11:08:28.0000] <TabAtkins>
Only if Bikeshed knows about those specs, which I don't think it does, currently.

[11:08:43.0000] <rubys>
but those specs are in my biblio.json

[11:08:53.0000] <TabAtkins>
Irrelevant - that's a different system entirely.

[11:09:03.0000] <TabAtkins>
Biblio and autolinking have no connection.

[11:09:26.0000] <TabAtkins>
(Probably should, but I inherited some legacy biblio systems that are terrible at naming specs.)

[11:10:28.0000] <rubys>
I'd even settle for <a biblio-spec=encoding>utf-8</a>

[11:11:51.0000] <TabAtkins>
Still won't help, because if Bikeshed doesn't know the spec, it doesn't know the anchors for that spec.

[11:14:30.0000] <rubys>
What I meant by that is "create a href by taking the specified spec's href from biblio, and add a hash with the title (computed or provided)"

[11:18:10.0000] <TabAtkins>
I haven't considered shorter methods for things that arent' in the autolink database yet.  I'll think on it.

[11:20:20.0000] <rubys>
Found the dataloss issue:

[11:20:22.0000] <rubys>
"<code title>></code>", <!-- 0x3E -->

[11:20:36.0000] <rubys>
This will fix it:

[11:20:43.0000] <rubys>
"<code title>&gt;</code>", <!-- 0x3E -->

[11:21:05.0000] <TabAtkins>
That's weird.

[11:23:12.0000] <TabAtkins>
That really shouldn't be an issue, though.

[11:23:17.0000] <TabAtkins>
Note that you dont' need an emtpy title there.

[11:23:28.0000] <TabAtkins>
Bikeshed only treats <a> and <i> as autolinks.

[11:24:12.0000] <TabAtkins>
(The former only when the element lacks an href attribute, and I'm going to turn off the latter by default.)

[11:24:44.0000] <TabAtkins>
Holy crap, when you don't update your system for a few months, a full update takes a while.

[11:25:24.0000] <rubys>
TabAtkins: what OS?

[11:25:25.0000] <TabAtkins>
And I'm back with a workiong Linux, yay!

[11:25:36.0000] <TabAtkins>
Ubuntu on Chromebook.

[12:04:34.0000] <Domenic>
tyoshino________: since you seem to be awake (!?) would love a review of https://github.com/whatwg/streams/pull/234#issuecomment-60016461

[12:57:45.0000] <gsnedders>
So, any of you Google people happen to have an Inbox invite to spare? :)

[13:01:29.0000] <paxcoder>
gsnedders, I don't think you need that anymore. Unless, of course, you think a Google employee's invite might influence the spam filter rating in your favor...

[13:02:10.0000] <gsnedders>
paxcoder: http://www.google.com/inbox/

[13:02:14.0000] <gsnedders>
paxcoder: this isn't Gmail

[13:02:33.0000] <gsnedders>
paxcoder: so yes, you /can/ request one, but probably quicker to just ask first

[13:04:38.0000] <paxcoder>
gsnedders, Oh... First time hearing about that. Dat Metr.. umm I mean Material design.

[13:05:01.0000] <gsnedders>
paxcoder: announced a few hours ago :)

[13:07:27.0000] <paxcoder>
gsnedders, thanks for the info.

[13:07:57.0000] <paxcoder>
I like how in the demo/intro, they're not using screenshots or videos.

[13:10:07.0000] <paxcoder>
gsnedders, I'm also new to templates. How do I know if I should attribute the above to their use?

[13:10:35.0000] <paxcoder>
(what do I search for in the code?)

[13:11:48.0000] <gsnedders>
paxcoder: <template>, except this is Google so they probably do something crazy like building it all up through the DOM

[13:13:16.0000] <paxcoder>
Yeah, the "data-template" attributes seem to agree

[14:03:09.0000] <Jasper>
Will requestAnimationFrame be called before or after any timeouts in the frame? I couldn't find the ordering of this.

[14:03:41.0000] <Jasper>
And is there any hook that gets me as close to the "before displaying the finished frame" point in time as possible?

[14:07:37.0000] <caitp>
i'm not sure how it's spec'd, but from blink's source it looks like the two aren't concerned with each other at all

[14:07:46.0000] <caitp>
so it's probably implementation-specific

[14:08:33.0000] <caitp>
or just undefined

[14:08:58.0000] <Jasper>
Yeah, it's not in the WHATWG HTML spec, only here: http://www.w3.org/TR/animation-timing/

[14:09:04.0000] <Jasper>
That's unfortunate.

[14:09:59.0000] <Jasper>
OK, I think that means I can't actually implement this unless I do (another) shadow copy. OK. I'll just not.

[14:17:28.0000] <smaug____>
setTimeout and rAF don't really have anything to do with each others

[14:19:44.0000] <jgraham>
Right, you can never determine the timing of a setTimeout

[14:19:58.0000] <jgraham>
There isn't any concept of a "same frame"

[15:51:00.0000] <Hixie>
Jasper: i plan to define it such that the answer is "rAF will be the last callback invoked before the frame is laid out and painted"

[15:51:30.0000] <Hixie>
Jasper: whether a particular timeout gets done in the current frame or not can't be controlled, it depends on what else is going on

[15:51:40.0000] <Jasper>
Hixie, right, OK.

[15:52:07.0000] <Jasper>
jgraham, I thought that the main loop defined the concept of a frame / redraw period

[15:52:36.0000] <Jasper>
Admittedly, my use case is insane, but I figured I'd ask.

[15:56:08.0000] <jgraham>
Jasper: No, and setTimeout allows the browser to delay as long as it likes for any reason

[16:00:03.0000] <Hixie>
yeah, setTimeout just queues a task, there's no guarantee of when it'll be serviced

[16:00:19.0000] <Hixie>
right now the event loop is veeeery vague about frames. that'll hopefully improve a little when i get to that bug.

[16:05:21.0000] <Hixie>
what's the difference between a prototype and a constructor again? I thought I knew, but then I read the spec for GetSuperConstructor() and it seems to say that they're the same.

[16:07:16.0000] <TabAtkins>
Hixie: An object's prototype is just another object, which is used for lookup when you ask for a property and it doesn't exist on the object.

[16:07:20.0000] <TabAtkins>
A constructor is a function.

[16:07:59.0000] <TabAtkins>
Typically, an object's proto is set to the value of the "prototype" property on the constructor function at the time the object is constructed.

[16:12:04.0000] <Hixie>
and foo.prototype is not foo's prototype, right? it's just the prototype that'll be used if you new up an object using new as a constructor?

[16:12:23.0000] <Hixie>
but __proto__ is the prototype? is there an official way of getting to __proto__?

[16:14:08.0000] <TabAtkins>
Hixie: Right, or rather, it's not necessarily. ^_^  __proto__ is the prototype, and that's the official way to get it.

[16:14:25.0000] <TabAtkins>
There's also getPrototypeOf(), I think.

[16:14:53.0000] <Hixie>
__proto__ seems to be shunned in the spec

[16:14:57.0000] <Hixie>
though i guess it is there, at least

[16:15:45.0000] <TabAtkins>
Using it de-optimizes your object, so you don't want to use it normally.

[16:18:00.0000] <Hixie>
so why doesn't this work:

[16:18:01.0000] <Hixie>
foo = { bar: 3 }

[16:18:01.0000] <Hixie>
Object.setPrototypeOf(foo, Object.getPrototypeOf(Object.getPrototypeOf(document.body)));

[16:18:04.0000] <Hixie>
Object.setPrototypeOf(Object.getPrototypeOf(document.body), foo);

[16:18:06.0000] <Hixie>
document.head.bar

[16:18:41.0000] <Hixie>
or maybe i should ask, should that work?

[16:18:57.0000] <gsnedders>
you probably can't mutate the prototype of host objects

[16:19:02.0000] <gsnedders>
or whatever they're called now

[16:19:17.0000] <gsnedders>
whether that's a good idea or not is a separate question :)

[16:29:47.0000] <Hixie>
is there a way to test if super() is going to throw because the function isn't defined?

[16:31:56.0000] <Hixie>
oh wait, super only works inside functions defined in class blocks, right


2014-10-23
[19:48:59.0000] <JosephSilber>
TabAtkins, can srcset handle switching of both size and resolution (2x, 3x) for a single image?

[20:36:57.0000] <TabAtkins>
JosephSilber: Yes, you can use multiple <source srcset> elements, one for each media query.

[20:37:18.0000] <JosephSilber>
TabAtkins, Is that for picture or img?

[20:37:41.0000] <JosephSilber>
I'm talking about image srcset. No art direction.

[20:38:27.0000] <TabAtkins>
If you dont' care about art direction, what did you mean by "switching of size"?

[20:42:09.0000] <JonathanNeal>
Does http://people.mozilla.org/~jorendorff/es6-draft.html#sec-array.from define how Array.from should handle primatives?

[20:43:13.0000] <JonathanNeal>
I am having trouble understanding http://people.mozilla.org/~jorendorff/es6-draft.html#sec-toobject - what happens a Boolean, for instance?

[20:44:02.0000] <TabAtkins>
JosephSilber: If you mean that you don't know how large the image will be (because its size is a percentage, or uses other units that might not be resolvable to pixels ahead of time), then you use the w unit rather than x; srcset will handle things for you.

[20:44:35.0000] <JosephSilber>
TabAtkins, Apple *still* doesn't support width based srcset :(

[20:44:40.0000] <JosephSilber>
Even in iOS8

[20:44:47.0000] <TabAtkins>
JonathanNeal: It returns a Boolean object.  That's different from a boolean value, note.

[20:44:56.0000] <TabAtkins>
JosephSilber: Yeah, they haven't finished things out yet. :/

[20:45:07.0000] <JosephSilber>
Does anyone remember when the iPhone launched, and it had the most advanced mobile browser?

[20:45:12.0000] <JosephSilber>
What a joke that is now.

[20:45:20.0000] <JosephSilber>
They don't even do validation :/

[20:45:36.0000] <JosephSilber>
How long has that been around for...?

[20:45:45.0000] <JonathanNeal>
I see, so it’s like `Object(true)`. No keys, but somehow still true.

[20:46:04.0000] <TabAtkins>
JonathanNeal: Boolean(false) is truthy. ^_^

[20:46:08.0000] <TabAtkins>
(All objects are truthy.)

[20:46:19.0000] <JonathanNeal>
Fun!

[20:46:25.0000] <TabAtkins>
Yeah, it's great.

[20:49:34.0000] <JosephSilber>
Why doesn't srcset support infinite sizes, with a server-side script rendering whatever size the client needs?

[20:50:18.0000] <TabAtkins>
JosephSilber: Client Hints is an effort to work on that.

[20:50:27.0000] <TabAtkins>
Which will work nicely with srcset.

[20:51:23.0000] <JosephSilber>
TabAtkins, I'm saying that I want the client to decide, not the server.

[20:51:39.0000] <JosephSilber>
Let the client tell the server what size it wants.

[20:51:58.0000] <TabAtkins>
The server can do whatever it wants.  All we can do is tell it what the resolution/etc is, which is what Client Hints does.

[20:52:04.0000] <JosephSilber>
The server shouldn't care about dpr, network speed or whatever else

[20:52:25.0000] <JosephSilber>
srcset is built so that the browser can take into account everything it know to and pick the correct image.

[20:52:36.0000] <JosephSilber>
Why not let it pick from an infinite pool?

[20:53:22.0000] <TabAtkins>
That's literally what I'm saying.

[20:53:32.0000] <JosephSilber>
Client Hints would have the server do a reimplementation of srcset's algorithms, of which many factors can't even be sent to the server.

[20:54:30.0000] <JosephSilber>
What I'm saying is: "Hello, I'm a server. I have an image that is 3000px x 4000px. Tell me which size you want."

[20:54:48.0000] <TabAtkins>
That's what you end up with, yes.

[20:55:19.0000] <JosephSilber>
"I don't care about your dpr. I don't care about your network speed. I don't care about your viewport size. I don't care about your element size. Just give me dimensions."

[20:55:30.0000] <JosephSilber>
Then I misread this: https://github.com/igrigorik/http-client-hints

[20:55:39.0000] <JosephSilber>
I don't see anything in there that would support this.

[20:58:00.0000] <TabAtkins>
client hints can certainly vary what it gives in the rw and dpr values to match exactly what it wants.

[21:03:55.0000] <JonathanNeal>
Am I to assume that Array.from is enumerable or not enumerable when it does not specify?

[21:06:22.0000] <TabAtkins>
The method? built-ins generally aren't enumerable.

[21:06:40.0000] <TabAtkins>
If it doesnt' actaully specify, it's a spec bug, but I'll bet it does, just in a confusing and indirect way.

[21:11:10.0000] <caitp->
test262 seems to assert certain properties for functions of builtins that don't seem to be specified anywhere

[21:11:49.0000] <caitp->
well, maybe it does say "function properties of builtin types don't have prototypes" somewhere, but I haven't found it :c

[21:17:23.0000] <JonathanNeal>
Last question. When Array.from converts length to a number, and the length is Infinity, should it throw an error? I don’t see something to throw that. Instead, it looks like it passes it along before it gets capped by min(length, 253-1).

[21:18:12.0000] <JonathanNeal>
e.g. If number is +0, −0, +∞, or −∞, return number … Return min(len, 253-1)

[21:18:49.0000] <JonathanNeal>
Sorry for the formatting change on 2(little 53).

[21:53:27.0000] <Domenic>
caitp-: JonathanNeal: the spec says things about built-in functions having no prototype, and built-in methods being nonenumerable

[21:54:14.0000] <Domenic>
JonathanNeal: doesn't Array.from use ToLength? I thought that capped Infinity.

[21:54:32.0000] <caitp->
it does

[21:55:43.0000] <JonathanNeal>
When does ToLength cap Infinity?

[21:55:57.0000] <caitp->
it caps at 2^53-1 iirc

[21:56:08.0000] <Domenic>
step 5, Return min(len, 253-1).

[21:56:18.0000] <Domenic>
min(Infinity, 2^53 - 1) is 2^53 - 1

[21:56:19.0000] <JonathanNeal>
Yea, so it won’t throw.

[21:56:34.0000] <Domenic>
so yeah it shouldn't throw

[21:56:34.0000] <JonathanNeal>
It will cap, am I understanding that right?

[21:56:40.0000] <Domenic>
indeed

[21:56:44.0000] <caitp->
it won't go higher

[21:57:07.0000] <JonathanNeal>
There’s really no way to pass an invalid length, then.

[21:57:40.0000] <caitp->
yeah isn't it great?

[21:58:02.0000] <Domenic>
not true

[21:58:10.0000] <Domenic>
you could pass { valueOf() { throw new Error("boo!"); } }

[21:58:51.0000] <caitp->
not sure that's a compelling useful thing to do though =)

[21:59:13.0000] <Domenic>
built-in defaults defined in https://people.mozilla.org/~jorendorff/es6-draft.html#sec-ecmascript-standard-built-in-objects

[21:59:30.0000] <Domenic>
(hmm that "ECMAScript" prefix seems redundant on the section heading)

[21:59:44.0000] <JonathanNeal>
Domenic: okay, in 99% of the cases other than explicitly telling the thing to throw, it will not.

[22:00:03.0000] <Domenic>
I mean, yes, it generally avoids throwing.

[22:00:14.0000] <Domenic>
Just like +x generally avoids throwing

[22:00:22.0000] <Domenic>
or parseInt

[22:04:50.0000] <JonathanNeal>
Thanks, Domenic.

[22:05:20.0000] <JonathanNeal>
“generally” made me laugh out loud.

[22:09:41.0000] <caitp->
there are cases where @@toStringTag will cause things to throw, and i worry how that will affect dev tools :( but I guess there's nothing you can do about it

[22:32:16.0000] <JonathanNeal>
Ugh, index in array fails when array[index] = undefined in IE6-8.

[22:35:10.0000] <caitp->
fails?

[22:39:07.0000] <JonathanNeal>
index in array returns false

[22:39:14.0000] <JonathanNeal>
when that index has a value of undefined

[22:43:09.0000] <JonathanNeal>
Likewise, for (index in array) will skip indexes/keys with a value of undefined.

[22:44:59.0000] <JonathanNeal>
In short, 0 in [undefined] is false

[22:48:37.0000] <JonathanNeal>
Reading all about the fun here https://github.com/es-shims/es5-shim/issues/190

[22:50:42.0000] <caitp->
that's interesting

[22:57:16.0000] <JonathanNeal>
Yea, that’s a pretty major flaw.

[23:04:49.0000] <caitp->
well it won't be long before people stop caring about ie8

[23:04:55.0000] <caitp->
one imagines

[23:07:16.0000] <JonathanNeal>
Yes, huzzah, the end times are near, ie8, they always are.

[00:13:03.0000] <annevk_>
Domenic: arv: your call: https://www.w3.org/Bugs/Public/show_bug.cgi?id=26178

[03:24:07.0000] <smaug____>
oh, lowercase fetch

[03:24:45.0000] <smaug____>
annevk: what was the reason to go with fetch() and not with some less-likely-to-be-used-in-web-pages name?

[03:25:26.0000] <annevk>
smaug____: I don't recall

[03:31:58.0000] <smaug____>
it is super annoying that we need to think about existing pages when exposing new APIs

[03:37:46.0000] <annevk>
try to stay positive :-)

[04:49:39.0000] <annevk>
JakeA_: https://slightlyoff.github.io/ServiceWorker/spec/service_worker/#register-algorithm are "Get Registration" and "Get Newest Worker" supposed to run synchronously?

[04:50:12.0000] <annevk>
JakeA_: is it clear that if 7.2.2.2 returns 7.4/5 are no longer run?

[04:53:55.0000] <JakeA_>
annevk: hmm, step 7 onwards should be async

[04:54:12.0000] <annevk>
JakeA_: filed an issue

[04:54:53.0000] <annevk>
That Google managed to implement something speaks volumes of how closely the specification has been read...

[04:55:18.0000] <JakeA>
annevk: yeah, 7.2.2.3 should be "abort these steps"

[04:55:40.0000] <JakeA>
annevk: I'm pretty sure those steps used to be async, I think they've changed

[04:56:10.0000] <annevk>
JakeA: if you make t hem asynchronous, be sure to return the promise on time...

[04:56:26.0000] <annevk>
JakeA: and be sure to check the registration stuff in a non-racy way

[08:57:57.0000] <JakeA>
annevk: right, drag me kicking and screaming into understanding this url issue. I need the URL for assigning a serviceworker registration on navigation. I also need a snapshot of it when we provide request.client, or the BrowsingContent instances from clients.getAll(). I don't understand why the active document changing will break things, or why a url entry

[08:57:57.0000] <JakeA>
on the environment settings concept wouldn't have exactly the same issues

[08:59:40.0000] <annevk>
The relationship between Window objects and documents, ignoring corner cases, is 1:1

[08:59:55.0000] <annevk>
The relationship between browsing contexts and documents, is 1:N

[09:00:19.0000] <annevk>
The current document in a browsing context is the active document

[09:00:35.0000] <annevk>
What a service worker has a relationship with is a Window object/document

[09:01:09.0000] <annevk>
So what we want to return is a document's url, and not a document's browsing context's active document's url

[09:02:51.0000] <annevk>
JakeA: ah, and an environment settings object is 1:1:1 with a Window object and document

[09:04:05.0000] <annevk>
JakeA: and you can't use an environment settings object's responsible document since it would not return a worker's url

[09:10:14.0000] <JakeA>
annevk: if an environment settings object is 1:1:1 with a Window & document, what's the problem with getting a url from a client's global's location? (considering a request client is an environment settings object)

[09:10:17.0000] <smaug____>
"ignoring corner cases"

[09:10:25.0000] <JakeA>
Ahh ok

[09:10:39.0000] <smaug____>
document.write isn't that faraway in a corner

[09:11:17.0000] <JakeA>
The url doesn't change in that case though, does it?

[09:11:42.0000] <smaug____>
document doesn't change with document.write, but Window changes

[09:12:17.0000] <annevk>
JakeA: a Location object observes document's browsing context's active document's url for various silly legacy reasons that I don't know

[09:12:23.0000] <smaug____>
(the other corner case is reusing Window object for another Document after the initial about:blank)

[09:15:58.0000] <JakeA>
smaug____: I thought for a minute you were suggesting the global got reused too. What's the practical impact of window reuse between about:blank and next url?

[09:16:46.0000] <annevk>
JakeA: that your reference to the object is still valid

[09:17:14.0000] <smaug____>
JakeA: you do window.open() and can set event listener to the window object even before the document has been loaded

[09:17:17.0000] <annevk>
JakeA: it means you can synchronously access an <iframe>'s Window from script while it's navigating to the page you actually requested

[09:17:28.0000] <JakeA>
I seeeeeee

[09:17:43.0000] <JakeA>
The web's complicated isn't it?

[09:17:56.0000] <annevk>
about:blank is really complicated

[09:18:07.0000] <annevk>
the web is okay in comparison :p

[09:30:15.0000] <JakeA>
annevk: So if the env settings obj concept gets a "document url", which document would that be defined as?

[09:31:04.0000] <annevk>
JakeA: the URL that caused it to be created, I would imagine

[09:32:53.0000] <JakeA>
annevk: that means request.client.url wouldn't reflect changes made by pushState… *ponders on if that's a good or bad thing*

[09:35:30.0000] <annevk>
JakeA: perhaps for document-based environments there should be currentURL as well?

[09:37:15.0000] <annevk>
JakeA: or perhaps for document-based environments it should return the document's url

[09:37:47.0000] <annevk>
JakeA: either way, definitely not the active document

[09:44:55.0000] <JakeA>
annevk: if I got a push message, I wouldn't show a notification if a relevant tab was focused & visible. For this case, pushState matters, I want the "location bar" url. For clients.takeControl(), if we go by post-pushState url, you get a weird edge-case where documents that were originally loaded out-of-scope could become controlled, so creationURL feels

[09:44:55.0000] <JakeA>
less hacky. Yeah, we need both, and should expose both.

[10:05:39.0000] <JakeA>
annevk: does this make sense https://www.w3.org/Bugs/Public/show_bug.cgi?id=27146 ?

[10:06:21.0000] <annevk>
JakeA: sounds good

[10:06:35.0000] <annevk>
JakeA: I think Mike West also wants these hooks

[10:07:56.0000] <JakeA>
annevk: cheers & thanks for persevering. If I continue to not get it, feel free to declare me not fit for spec writing :D

[10:08:28.0000] <Ms2ger>
JakeA, eh, we'll take anybody :)

[10:11:12.0000] <JakeA>
"Web Better Than Native Spec 1.0" Algorithms: 1. Be better than native. 2. Abort these steps.

[10:11:37.0000] <jgraham>
JakeA: You're right, that's a terrible spec

[10:11:53.0000] <jgraham>
Step 2 should be "Goto 1"

[10:12:02.0000] <JakeA>
Probably should be… ahh beat me to it

[10:12:50.0000] <JakeA>
Or 2. Be even more better

[10:13:32.0000] <jgraham>
Well, glad we solved that one

[10:13:38.0000] <jgraham>
Someone make a press release

[10:41:01.0000] <Domenic>
JakeA: not sure how you managed to pull this off https://github.com/slightlyoff/ServiceWorker/issues/468#issuecomment-60276779 but kudos

[10:41:47.0000] <JakeA>
Domenic: there's nothing I won't do to save https://jakearchibald.github.io/trained-to-thrill/

[10:41:57.0000] <JakeA>
actually I'll need to change the script location

[10:42:10.0000] <Domenic>
hahahaha

[10:42:17.0000] <JakeA>
but that's easy vs getting Github to change headers

[10:42:23.0000] <Domenic>
yes exactly

[10:42:39.0000] <Domenic>
i was/am really worried about any solution that prevents creating SW sites on GitHub pages

[10:43:32.0000] <JakeA>
Yeah, GitHub pages were the sweetener to the https restriction

[10:47:57.0000] <JakeA>
annevk: so, what's the protocol now, shall I edit the serviceworker spec assuming those url things are on the env settings object? Are there annotation patterns for this stuff?

[11:04:47.0000] <annevk>
JakeA: seems reasonable

[11:05:14.0000] <annevk>
JakeA: annotate as monkey patch

[11:06:04.0000] <JakeA>
Ta

[11:35:37.0000] <annevk>
So glad Hixie pioneered this space several years ago

[11:48:23.0000] <JonathanNeal>
Domenic: thanks again for the help with Array.from.

[11:50:02.0000] <caitp>
array.from is pretty neat

[11:53:57.0000] <Domenic>
I am not a fan

[11:54:02.0000] <Domenic>
[...arrayLike] wins for me

[11:54:38.0000] <caitp>
well it would be more fun to implement

[11:55:13.0000] <caitp>
but there are things I like about not turning the language into some more ubiquitous version of python

[11:55:16.0000] <caitp>
python is hard to read

[12:05:31.0000] <JonathanNeal>
caitp: and we learned about more issues with IE8. Yay for no distinguishment between dense and sparse arrays.

[12:06:34.0000] <caitp>
you gotta figure sparse arrays are probably not very common for most use cases though

[12:08:14.0000] <caitp>
its one of the reasons why people often use for loops instead of forEach --- because forEach will care about sparse-ness and skip properties that aren't in the collection, which is significantly more expensive than just invoking the callback with an undefined value

[12:11:17.0000] <JonathanNeal>
What was the reason it was called .forEach instead of .each?

[12:13:19.0000] <Hixie>
annevk: which space was i pioneering? :-)

[12:13:46.0000] <annevk>
Hixie: minting new global objects and defining their infrastructure

[12:14:28.0000] <Hixie>
oh man

[12:14:32.0000] <Hixie>
i wouldn't say pioneering

[12:14:40.0000] <Hixie>
more like i fell into a sewer

[12:18:55.0000] <annevk>
Now I want to play Mario

[13:05:46.0000] <Domenic>
annevk: given https://github.com/slightlyoff/ServiceWorker/issues/445#issuecomment-60297625 I at least would take up slightlyoff on the idea of reopening the event listeners issue :). that's the worst part to me.

[13:06:31.0000] <Domenic>
i think i would prefer fetch not being a special snowflake---the argument there doesn't hold IMO, since having a fetch hook doesn't mean anything about your offline capabilities---but that battle doesn't seem worth fighting

[13:08:05.0000] <Hixie>
nooo, zcorpan broke the build

[13:08:17.0000] <Domenic>
there's a guarantee that setTimeout(f, x) and setTimeout(g, x) runs f then g in any order, right? Hixie?

[13:08:18.0000] <Domenic>
er

[13:08:21.0000] <Hixie>
zcorpan: <var>image request</span>

[13:08:21.0000] <Domenic>
in that order

[13:08:36.0000] <Hixie>
Domenic: i believe so, but i'd have to check the spec to be sure

[13:09:03.0000] <Domenic>
another benefit of html.spec.whatwg.org subdomain---googling "setTimeout site:html.spec.whatwg.org"

[13:09:46.0000] <Domenic>
ah yep "Wait until any invocations of this algorithm that had the same method context, that started before this one, and whose timeout is equal to or less than this one's, have completed."

[15:26:11.0000] <annevk>
Domenic: losing permissions for other things if you decide to enlarge the scope of your app seems pretty bad too

[15:34:25.0000] <annevk>
Hixie: tweets are still not working?

[15:35:35.0000] <annevk>
oh well, nn

[16:16:15.0000] <Domenic>
wow so apparently you used to be able to put default attributes in your DTD and when you did createElement("tagname") with that it would actually create an element with .attributes pre-populated???

[16:21:10.0000] <Domenic>
and .specified used to be a thing??

[16:21:13.0000] <Domenic>
wow the DOM was effed up

[16:21:47.0000] <Domenic>
(I'm looking through old dom level 1 tests which jsdom still has in its corpus... we're trying to kill the level1/level2/level3 structure and it's causing a bunch of level1 tests to fail.)

[16:42:17.0000] <Hixie>
Domenic: "be able to" is maybe the wrong way to put it


2014-10-24
[19:18:37.0000] <MikeSmith>
Hixie: not that it matters much but I think you flagged https://www.w3.org/Bugs/Public/show_bug.cgi?id=27149 as a duplicate of the wrong bug

[19:19:33.0000] <MikeSmith>
ah I see why

[19:19:36.0000] <MikeSmith>
I'll fix it

[00:41:20.0000] <annevk>
Domenic: it seems I had not read the actual proposal, that does seem like an amazing outcome

[00:41:34.0000] <annevk>
Domenic: my bad

[00:47:42.0000] <JakeA>
annevk: if I make a forced-preflight fetch, but there's no non-basic method or headers, I don't get a preflight?

[00:49:01.0000] <annevk>
JakeA: you can't make a forced-preflight fetch

[00:50:52.0000] <JakeA>
annevk: fair

[00:51:24.0000] <annevk>
forced preflight only exists for some event listener thing from XMLHttpRequest

[00:51:38.0000] <annevk>
perhaps we also require it if you pass an actual stream to new Request

[00:51:45.0000] <annevk>
as that would effectively be the same thing

[00:51:58.0000] <JakeA>
(someone suggested it as a way to do SW security, not entertaining the idea but wanted to explain fully)

[00:52:07.0000] <annevk>
although... request needs to make a copy of that data...

[00:53:03.0000] <annevk>
JakeA: we might want to investigate at some point if we want a fail-on-redirect option or no-clone option for a request's stream

[00:53:45.0000] <annevk>
JakeA: due to redirects and authentication you might end up submitting the request body several times, which doesn't seem very optimal for perf if you're uploading 50GiB of 4K video or some such

[00:54:20.0000] <annevk>
JakeA: I'm not sure what SW security means

[00:54:33.0000] <annevk>
JakeA: note that from a specification layer you can make a forced-preflight fetch

[01:12:39.0000] <JakeA>
annevk: fail-on-redirect sounds like a good solution there. Or no-buffer, which would prevent cloning and implicit buffering from redirects

[01:13:16.0000] <JakeA>
annevk: By SW security I mean the whole path vs header debate

[01:13:18.0000] <annevk>
Are we still tracking the addition of streams in an issue somewhere? We should mention this there

[01:13:54.0000] <annevk>
JakeA: ah okay, then a forced-preflight would not work, since this is same-origin

[01:14:28.0000] <annevk>
JakeA: unless you say the request origin is null, but that would be a super weird way to get hold of a SW

[01:15:22.0000] <JakeA>
annevk: yeah http://jakearchibald.com/2014/launching-sw-without-breaking-the-web/#comment-1651245375

[01:16:29.0000] <annevk>
FWIW, I really like the tie it to the origin idea

[01:16:43.0000] <annevk>
I have liked that since the start, I'm not sure why I didn't push for it. I thought it wasn't in the cards

[01:17:27.0000] <JakeA>
Tie it to the origin?

[01:18:09.0000] <annevk>
Use origin instead of scopes

[01:18:57.0000] <JakeA>
annevk: does that mean I can only have one SW per origin?

[01:19:44.0000] <JakeA>
I guess it must

[01:20:23.0000] <JakeA>
Scoping has been really useful for demos on https://jakearchibald.github.io/isserviceworkerready/ and seperate sites like https://jakearchibald.github.io/trained-to-thrill/

[01:22:54.0000] <annevk>
Yeah, but let actual scoping solve that problem

[01:22:58.0000] <annevk>
I.e. suborigins

[01:25:25.0000] <annevk>
It simplifies service workers a lot and puts the complexity of scoping on suborigins, which can provide actual security benefits

[01:26:22.0000] <JakeA>
Github pages (and googledrive, and localhost) were the sweetener to the https requirement. I don't like things which throw those out (hence my fighting over the path stuff)

[01:28:57.0000] <annevk>
They are not thrown out, you can just experiment with a single service worker on them

[01:29:17.0000] <annevk>
(until suborigins)

[01:30:13.0000] <MikeSmith>
has some agreement emerged yet on the path thing

[01:30:18.0000] <annevk>
https://adactio.com/journal/7706 did someone tell adactio about service workers? Since you'll end up duplicating quite a bit of your server code

[01:31:01.0000] <annevk>
MikeSmith: depends more on https://github.com/slightlyoff/ServiceWorker/issues/445 at this point; Mozilla is not interested in shipping the current API as is

[01:31:10.0000] <MikeSmith>
/me looks

[01:35:46.0000] <annevk>
http://alistafart.com/

[01:36:18.0000] <MikeSmith>
"worth making a breaking change for"

[01:36:55.0000] <MikeSmith>
doesn't seem like anything's strictly a breaking change at this point

[01:36:58.0000] <MikeSmith>
yet

[01:38:05.0000] <annevk>
MikeSmith: hence depends, but I'm pretty sure that unless we come to some agreement Firefox will break

[01:38:17.0000] <annevk>
MikeSmith: we said as much on blink-dev

[01:38:43.0000] <MikeSmith>
yeah I read that blink-dev thread too

[01:39:36.0000] <MikeSmith>
including https://groups.google.com/a/chromium.org/d/msg/blink-dev/QfxPGw0kJW8/mpvlkZR-AxwJ from Eric Seidel

[01:39:51.0000] <MikeSmith>
"The risk is high that we'll end up needing to support a spec-incompatible implementation."

[01:41:29.0000] <MikeSmith>
anyway, I can see it's some exceptionally difficult problems to sort out

[01:43:53.0000] <annevk>
It's not easy to deploy complex new technology quickly

[01:44:14.0000] <annevk>
And I doubt anyone would label this as quick

[01:44:38.0000] <annevk>
E.g. when I said 18 months ago or so this would take at least a year I was laughed at

[01:45:40.0000] <boogyman>
it will take another 6-10 yrs to become mainstream too.

[01:55:47.0000] <JakeA>
annevk: If scope is always the whole origin, github is no longer a viable place to host independant serviceworker projects

[01:56:00.0000] <JakeA>
localhost becomes awkward

[02:05:17.0000] <JakeA>
annevk: adactio's seem me speak about ServiceWorker at least twice

[02:07:19.0000] <JakeA>
m.lanyrd.com works offline but also with server rendering. It follows a fairly simple model of urls with data objects & templates. The templating system is mustache so works in obj-C for the ios app, java for android, js for clientside, python for service side

[02:07:32.0000] <JakeA>
of course, each mustache implementation had its own quirks

[02:07:44.0000] <JakeA>
so it was a bit of a ballache

[02:09:24.0000] <JakeA>
If I were developing twitter.com in 5 years, I'd probably make the logged-in timeline view entirely client-side. You only get there 2nd visit, so ServiceWorker can give you better performance than server-rendering

[02:09:50.0000] <JakeA>
For individual tweets, server rendering may still have a benefit for first load

[02:10:00.0000] <JakeA>
Same for the logged-out root

[02:10:37.0000] <JakeA>
Progressive enhancement in terms of connectivity is more valuable than PE in terms of JavaScript

[02:46:16.0000] <JakeA>
sicking: thanks for the detailed post on the generality thing

[02:55:33.0000] <MikeSmith>
JakeA: fwiw I've read at lot of the SW issue discussions and I think you're doing a stellar job of representing the web-developer concerns/priorities and of trying to find solutions that'll work. Getting this stuff right is obviously pretty important.

[03:05:22.0000] <JakeA>
MikeSmith: oh thanks! I guess I haven't been devrel long enough to forget what it's like to be a developer. Give it 6 months.

[03:05:43.0000] <MikeSmith>
heh

[03:31:03.0000] <annevk>
JakeA: yeah, the end game is more about perf

[03:31:51.0000] <annevk>
JakeA: I can see how it's a bit disconcerting though that the client side is no longer HTML and some JavaScript sprinkled on top

[03:33:14.0000] <JakeA>
annevk: I do think that one of the benefits of SW is "ajaxing" a page change is no longer a huge performance benefit

[03:33:42.0000] <JakeA>
especially if we get some way to transition between navigations

[03:34:09.0000] <JakeA>
because "ajax" navigations are a pain in the hole to get right

[03:36:13.0000] <annevk>
I just realized there's some issues now we figured out that dedicated workers are not clients

[03:37:14.0000] <annevk>
Fetch uses client for other things, such as CSP and Referer

[03:37:47.0000] <annevk>
Referer we could probably solve, but not CSP

[03:37:56.0000] <annevk>
Ugh :-(

[03:38:23.0000] <JakeA>
Is it easier to find a way to postMessage into dedicated workers from outside the document?

[03:38:38.0000] <annevk>
I don't know

[03:39:26.0000] <annevk>
The problem is that if a dedicated worker does a Fetch, SW wants to see the environment settings object from a document, whereas Fetch also needs the environment settings object from the dedicated worker

[03:43:51.0000] <JakeA>
If ServiceWorker can postMessage to a document's dedicated worker, then I'm happy for SW to see the dedicated worker as the request client (or some kind of proxy to it)

[03:45:32.0000] <annevk>
JakeA: I will email the relevant people

[03:45:44.0000] <annevk>
At least, if I can write out a decent enough problem statement

[03:46:54.0000] <JakeA>
annevk: we could even make postMessage to those fail, but I'm nervous of .client & getAll() getting wildly different APIs depending on client type

[03:48:45.0000] <annevk>
JakeA: either we should just expose them as a document (but with a different Referer and CSP policy...) or we should expose them as a worker without a channel and perhaps a pointer to the associated document?

[03:48:54.0000] <annevk>
JakeA: all of these require some amount of refactoring

[03:49:12.0000] <annevk>
JakeA: so I'll write up the known facts so everyone can think about them

[03:54:01.0000] <MikeSmith>
annevk: data:text/html;charset=utf-8,<!DOCTYPE%20html>%0A<style>%0A%20body%2C%20html%20%7B%20ma…<span>Qual%20Match%2037<%2Fspan>%20<span>Friday%2014%3A21<%2Fspan>%0A<%2Fdiv> is not a valid URL per spec, right? Because "<" and ">" are not URL code points.

[04:17:17.0000] <annevk>
MikeSmith: yeah

[04:18:36.0000] <annevk>
MikeSmith: I only changed a few things relative to RFC 3987 (likely mistakes), but have not changed conformance relative to RFC 3986 I think

[04:18:55.0000] <annevk>
MikeSmith: we could at some point, though we should probably be careful

[04:24:39.0000] <MikeSmith>
annevk: Ok, thanks

[04:26:00.0000] <MikeSmith>
I guess I need to file a bug against the source of the HTML spec, since Hixie's using that URL on the source

[04:27:26.0000] <MikeSmith>
also, data URL kitchen generates URLs with raw "<" and ">"

[04:33:34.0000] <annevk>
MikeSmith: yeah, I know the current set of restrictions is somewhat annoying

[04:34:02.0000] <annevk>
MikeSmith: we could have a distinct conformance class for URLs in HTML attribute values

[04:34:17.0000] <annevk>
MikeSmith: but I don't really want to get into that before we actually have conforming URL parsers

[04:40:47.0000] <MikeSmith>
annevk: yup

[05:00:21.0000] <rubys>
For discussion purposes: http://intertwingly.net/projects/pegurl/url.html

[05:02:49.0000] <annevk>
rubys: I thought the productions were for non-normative purposes?

[05:03:26.0000] <rubys>
When we last talked, I hadn't decided.  I'm now proposing that they be normative.

[05:03:43.0000] <annevk>
rubys: I'm not a fan

[05:04:17.0000] <annevk>
This also heavily regresses my IDNA work

[05:07:40.0000] <annevk>
rubys: also, username/password together is userinfo; userinfo + host + port is authority

[05:07:52.0000] <annevk>
rubys: at least if you follow the original RFCs

[05:08:13.0000] <rubys>
that can be fixed

[05:13:26.0000] <annevk>
Alright, first, sorry for being being negative. Thanks for the work. Second, I'm willing to consider this after this evolved a bit to address the obvious mistakes.

[05:15:46.0000] <rubys>
Please do enumerate the mistakes.  I can iterate quickly.

[05:16:11.0000] <annevk>
rubys: ipv6 needs to be inline

[05:16:24.0000] <annevk>
rubys: IDNA as mentioned

[05:16:30.0000] <annevk>
rubys: URL concat needs to be defined

[05:16:51.0000] <annevk>
rubys: it needs to be clearer about normative requirements

[05:18:02.0000] <annevk>
rubys: it would help if there was a distinction between properties and variables

[05:18:25.0000] <annevk>
rubys: e.g. "scheme is set to file" is ambiguous

[05:18:57.0000] <annevk>
rubys: also, apart from formatting you probably want "Set scheme to file", unless it somehow magically happens

[05:19:47.0000] <annevk>
rubys: "In the case of a relative-url, the value object to be returned is initialized to the value returned by relative-url, and then modified as follows:" does not make much sense without a description of base URLs

[05:20:09.0000] <annevk>
rubys: username and password also have their stuff percent-encoded

[05:22:48.0000] <annevk>
rubys: hopefully this helps

[05:23:28.0000] <rubys>
it does; and this might be easier on a mailing list, but first: this was not meant to be complete, but as a catalist for exactly this type of discussion.

[05:23:52.0000] <rubys>
I only have questions on 3 of your first 4 points.

[05:24:00.0000] <rubys>
1) why does ipv6 need to be inline?

[05:24:21.0000] <rubys>
2) can you expand on your IDNA comment?  What tests would this fail?

[05:24:36.0000] <rubys>
3) what in my mocked up spec should be non-normative?

[05:24:46.0000] <annevk>
rubys: the parser should be self-contained

[05:25:22.0000] <annevk>
rubys: I don't really want to elaborate on IDNA, IDNA is much harder than Punycode, the references in URL should make that clear enough

[05:26:15.0000] <annevk>
rubys: e.g. you have "Replace all Fullwidth unicode characters (in the range of U+FF01 to U+FF5E with their non-fullwidth equivalents." but normalization is much more complicated

[05:27:00.0000] <annevk>
rubys: you can't write a spec for URLs based on just 250 tests

[05:28:00.0000] <rubys>
I agree that the parser should be self-contained.  I believe it is.

[05:28:02.0000] <rubys>
And I agree that this spec needs to be reconciled with, and defer to, the Encoding Living Standard.  (and it even says so).

[05:30:22.0000] <annevk>
IDNA != Encoding Standard

[05:30:59.0000] <annevk>
I don't see how IPv6 as currently defined is self-contained

[05:31:57.0000] <annevk>
As for 3) you lack requirements in the form of "must"

[05:35:27.0000] <annevk>
rubys: query lacks encoding override stuff

[05:36:09.0000] <rubys>
one thing that would be helpful is more tests.

[05:37:08.0000] <JakeA>
annevk: Jonas' Alt 2 proposal (https://github.com/slightlyoff/ServiceWorker/issues/445#issuecomment-60362736) does that work for you? Perhaps even allowing scope to be set to null or an empty sequence to opt out of fetch. I could pursue that with Alex and our implementors.

[05:53:17.0000] <MikeSmith>
rubys: the lack of defined parse errors in this draft of your proposed approach make its hard for me to evaluate for my use case (URL conformance checking)

[05:53:52.0000] <rubys>
MikeSmith: ack.

[05:55:00.0000] <rubys>
Just curious, any reason why a URL conformance checker couldn't be in JavaScript?

[05:55:21.0000] <MikeSmith>
it could be sure

[05:55:54.0000] <MikeSmith>
rubys: but for my purposes I also need something that works for the command line, for one thing

[05:56:03.0000] <MikeSmith>
outside of a browser

[05:56:11.0000] <rubys>
node.js?

[05:56:26.0000] <MikeSmith>
for http://validator.github.io/validator/

[05:56:44.0000] <MikeSmith>
vnu.jar and the other apps that integrate with that

[05:57:05.0000] <MikeSmith>
e.g., https://github.com/cvrebert/lmvtfy/ and https://github.com/jzaefferer/grunt-html

[05:59:19.0000] <MikeSmith>
and also really, a checker that integrates into the vnu backend in the same way as other checkers (as a SAX ContentHandler, basically)

[05:59:35.0000] <rubys>
MikeSmith: so a Java implementation would be preferred?

[06:04:19.0000] <annevk>
JakeA: haven't had time to review yet

[06:05:52.0000] <JakeA>
annevk: no worries. I need to get back on talk writing now & the weekend, but let me know & I'll help how I can

[06:08:24.0000] <MikeSmith>
rubys: yeah, for my purposes a Java implementation would be preferred. Though it's possible to make a Java implementation from a JS implementation, using Rhino. I'm doing that already (in a very limited way) in the vnu code, with TabAtkins' JS CSS tokenizer.

[06:09:39.0000] <rubys>
Given that I'm making my JS implementation from a grammar and a Ruby implementation, generating a Java implementation too wouldn't be difficult.

[06:10:11.0000] <MikeSmith>
rubys: to be clear, the code for the URL (error-reporting) parser itself doesn't have to be a ContentHandler. I can wrap a ContentHandler for vnu around pretty much anything

[06:10:22.0000] <rubys>
Java, at least, has sane classes.  JavaScript has a bunch of building blocks that can be used to build class like structures.

[06:10:30.0000] <MikeSmith>
yeah

[06:12:10.0000] <MikeSmith>
rubys: basically the only interface I need exposed is something I can use to create a URL object, and to get back any messages reported from the code that creates that object

[06:12:37.0000] <rubys>
MikeSmith: doable

[06:15:31.0000] <MikeSmith>
rubys: cool

[06:15:58.0000] <MikeSmith>
rubys: if you want to peruse the existing vnu code which handles this, see https://github.com/validator/validator/blob/master/syntax/relaxng/datatype/java/src/org/whattf/datatype/IriRef.java#L126

[06:16:08.0000] <MikeSmith>
and https://github.com/validator/validator/blob/master/syntax/relaxng/datatype/java/src/org/whattf/datatype/IriRef.java#L173

[06:16:38.0000] <annevk>
rubys: I think the problem MikeSmith initially raised is that you dropped the "parse error" bits from the original specification

[06:16:40.0000] <MikeSmith>
this is using Sebastian Mola's galimatias

[06:16:52.0000] <MikeSmith>
rubys: yeah, what annevk said

[06:17:02.0000] <annevk>
rubys: making it impossible to tell whether e.g. "<" occurring at some point is at fault or not

[06:17:09.0000] <annevk>
rubys: it's important to preserve that

[06:17:18.0000] <MikeSmith>
with the "parse error" bit you can't create an error-reporting parser

[06:17:22.0000] <MikeSmith>
*without

[06:17:46.0000] <rubys>
annevk, MikeSmith: I even said so, right at the top.  This is totally in the spirit of "release early and often".  I know I can do parse errors, so I focused on what I didn't know.

[06:17:57.0000] <MikeSmith>
sure, makes sense

[06:18:06.0000] <rubys>
... and in the process, I found even more that I didn't know.

[06:19:01.0000] <rubys>
meanwhile, I'm going to add more notes to the doc as to things that have yet to be done based on this input.

[06:19:36.0000] <MikeSmith>
rubys: incidentially looking back at that vnu code, I see I'm just catching the GalimatiasParseException that galimatias throws for parse errors, and essentially just passing that on to the vnu error-handling/reporting code

[06:19:37.0000] <boogy>
rubys: prototype inheritance is drastically different from classical inheritance.

[06:20:25.0000] <rubys>
boogy: I was on TC39 for many years; nearly became the editor of that spec.

[06:20:36.0000] <MikeSmith>
rubys: also incidentally if you want some early implementor feedback on your proposed approach, Sebastian Mola would be a good one to ask

[06:20:58.0000] <MikeSmith>
rubys: https://github.com/smola/galimatias and https://github.com/smola

[06:22:17.0000] <rubys>
one of the first things I can do is add smola's implementation to http://intertwingly.net/stories/2014/10/16/urltest-results/

[06:42:33.0000] <rubys>
http://intertwingly.net/projects/pegurl/url.html#todos

[07:07:07.0000] <MikeSmith>
rubys: ah yeah that would be great

[07:07:45.0000] <MikeSmith>
rubys: I believe galimatias conforms to the spec on all the existing tests that are in the wpt repo

[07:37:40.0000] <annevk>
JakeA: can't things also break if someone has caches = ... or some such?

[07:37:56.0000] <annevk>
JakeA: assigning to something that returns a collection

[07:38:47.0000] <JakeA>
annevk: if someone did caches = "blah" wouldn't window.caches simply be "blah"?

[07:38:52.0000] <annevk>
JakeA: e.g. navigator = "test";w(navigator) returns Navigator

[07:39:02.0000] <JakeA>
ohh

[07:39:48.0000] <JakeA>
If there a way to make it overwritable?

[07:39:53.0000] <JakeA>
Is*

[07:41:35.0000] <JakeA>
I guess just don't make it [Unforgeable]

[07:43:12.0000] <JakeA>
Oh, we'd need to make it explicity [Replaceable]

[07:43:30.0000] <JakeA>
explicitly*

[07:43:42.0000] <JakeA>
Is there a problem doing that?

[07:45:58.0000] <annevk>
JakeA: ah yeah, that should probably work

[07:50:57.0000] <JakeA>
annevk: https://github.com/slightlyoff/ServiceWorker/issues/535

[07:52:00.0000] <annevk>
ta

[07:57:49.0000] <wanderview>
is caches on window spec'd yet?

[07:58:31.0000] <JakeA>
wanderview: no :( will bump that issue

[07:58:52.0000] <wanderview>
JakeA: just curious if that will be in SW spec or somewhere else... since window is non-worker

[07:59:22.0000] <wanderview>
kind of like how fetch was moved out to a separate spec

[08:00:14.0000] <JakeA>
wanderview: ideally caches should be a separate spec

[08:01:40.0000] <wanderview>
JakeA: random other question that came up over here... should scriptCache be per-origin or unique for each SW script?

[08:02:50.0000] <JakeA>
ugh

[08:03:08.0000] <JakeA>
wanderview: how much do you like scriptCache? I dislike it

[08:03:58.0000] <JakeA>
ohhh, wait, I can get rid of it on security grounds!

[08:04:08.0000] <JakeA>
/me kisses security

[08:05:19.0000] <wanderview>
JakeA: thats fine with me... but behind the scenes it should then be a separate cache per SW script URL?

[08:05:49.0000] <wanderview>
or... should separate SW scripts within the same origin share or not share a single cache?

[08:06:15.0000] <wanderview>
/me begins to understand the origin vs scope issue better.

[08:07:06.0000] <JakeA>
wanderview: each SW version gets its own cache for itself and importScripts, but this cache doesn't show up in script access (eg caches.keys())

[08:07:14.0000] <annevk>
JakeA: Fetch could host a Cache API section...

[08:07:26.0000] <annevk>
not that farfetched

[08:07:33.0000] <wanderview>
JakeA: got it... I'll open an issue to clarify that in the spec

[08:07:47.0000] <JakeA>
wanderview: I'll do it

[08:07:51.0000] <JakeA>
already started

[08:07:55.0000] <wanderview>
JakeA: even better :-)  thanks!

[08:08:43.0000] <JakeA>
annevk: I'm not against this moving to fetch. Would be good to get a 2nd opinion on that before moving it though.

[08:09:37.0000] <annevk>
JakeA: happy to work on that together, but no rush

[08:11:36.0000] <wanderview>
JakeA: sorry, one last question... did we drop the Cache constructor thing?  its not in the spec and I don't see an issue for it

[08:12:06.0000] <wanderview>
I think maybe it got burried in the mega "review cache api" issue

[08:13:04.0000] <JakeA>
annevk: in Aus next week, but then my talk commitments are over aside from MCing which doesn't need much prep. Hopefully I'll get some training wheels through this response client merging. Then yeah, will help move caches over.

[08:18:11.0000] <JakeA>
wanderview: https://github.com/slightlyoff/ServiceWorker/issues/473#issuecomment-60401602

[08:18:40.0000] <wanderview>
thanks

[08:18:51.0000] <JakeA>
wanderview: appreciate how much you're soldiering through the cache implementation with pretty much only the ts & bare bones spec to go by

[08:19:26.0000] <wanderview>
np, thanks for fielding all my questions :-)

[08:19:59.0000] <JakeA>
trying to remember where we got to with new Cache

[08:22:34.0000] <wanderview>
JakeA: seems the conclusion was to add it: https://github.com/slightlyoff/ServiceWorker/issues/372#issuecomment-50937980

[08:22:50.0000] <wanderview>
but that issue turned more towards the fetch data cloning, etc

[08:23:12.0000] <JakeA>
wanderview: creating a new issue to track it now

[08:23:19.0000] <wanderview>
thanks again

[08:23:31.0000] <wanderview>
well.. sort of... since I didn't really want the constructor :-)

[08:24:01.0000] <JakeA>
I'm not really into it either

[08:24:17.0000] <darobin>
highly recommended: https://soundcloud.com/daniemon/back-to-cr-one-more-time

[08:26:10.0000] <annevk>
darobin: that's great

[08:26:26.0000] <annevk>
darobin: he also made a few with Bruce while still at Opera, so much fun

[08:26:55.0000] <darobin>
annevk: yes, he's a genius

[08:27:05.0000] <darobin>
I hope he brings back Dr Stanley Dards

[08:27:48.0000] <annevk>
darobin: so did Tim turn down HTML5?

[08:28:00.0000] <darobin>
annevk: you'd have to ask him :)

[08:28:07.0000] <annevk>
darobin: or is this not the entertaining note to go with the press release

[08:28:14.0000] <darobin>
this is completely unrelated

[08:28:53.0000] <JakeA>
wanderview: https://github.com/slightlyoff/ServiceWorker/issues/536

[08:32:32.0000] <annevk>
JakeA: how is alt #2 different from alt #1 if we make scope optional?

[08:32:36.0000] <annevk>
JakeA: isn't that the difference?

[08:32:52.0000] <annevk>
JakeA: personally I'd much rather make them origin-bound

[08:34:28.0000] <JakeA>
annevk: it's opt-in vs opt-out, and how close it is to the current API makes it easier for me to sell internally (less impact on our intent to ship)

[08:35:19.0000] <JakeA>
annevk: I really think we need to keep scopes for all the reasons Jonas pointed out, plus github pages & similar host-per-user systems

[08:35:30.0000] <JakeA>
origin-per-user I mean

[08:37:34.0000] <annevk>
JakeA: I think those can be solved later by suborigins

[08:37:58.0000] <JakeA>
annevk: We could keep tweaking the root of this API for years and not actually deliver anything to developers and ultimately users. I don't think the separation of fetch is a big benefit vs getting us on the path to features native is kicking our arse with

[08:37:59.0000] <annevk>
JakeA: understood about opt-out now, makes sense to have that

[08:38:38.0000] <JakeA>
annevk: where should I read about suborigins?

[08:38:50.0000] <annevk>
JakeA: http://www.chromium.org/developers/design-documents/per-page-suborigins

[08:39:12.0000] <annevk>
JakeA: chromium.org could use TLS

[08:39:17.0000] <JakeA>
Chromium? Are they a new standards group?

[08:39:21.0000] <JakeA>
/me runs away laughing

[08:39:29.0000] <JakeA>
Will read, cheers

[08:39:48.0000] <JakeA>
There's no excuse for a Google property not using TLS

[08:39:55.0000] <annevk>
JakeA: hmm, seems chromium.org just needs a 80->443 redirect and HSTS

[08:40:19.0000] <JakeA>
even less excuse then

[08:40:23.0000] <JakeA>
lemmie chase that

[08:41:41.0000] <wanderview>
so suborigins are basically an extra scoping http header

[08:50:10.0000] <annevk>
wanderview: they allow you to create an actual security boundary for some set of resources

[08:52:08.0000] <annevk>
wanderview: so yes, scoping with security guarantees rather than scoping without any

[09:02:24.0000] <caitp>
how can you keep reading those tweets and not feel sick to your stomach tab, jeeze

[09:45:04.0000] <gsnedders>
caitp: I'm managing by crying REAL MAN TEARS®.

[09:54:16.0000] <caitp>
(・_・ヾ)???

[10:55:41.0000] <Hixie>
MikeSmith: thanks

[11:09:15.0000] <Hixie>
seems to be some issue with the mailing list

[11:09:19.0000] <Hixie>
i've sent in a support request

[11:12:29.0000] <TabAtkins>
caitp: You referring to me?

[11:12:44.0000] <TabAtkins>
(My name being a noun makes it confusing when you don't capitalize it.)

[11:13:12.0000] <caitp>
yeah, although I forget which retweet the comment was about

[11:13:20.0000] <TabAtkins>
(The alternative, that you have a stomach tab, or think that other people do, is just confusing.)

[11:13:35.0000] <caitp>
something about jerks trying to harm survivors of domestic assault

[11:14:00.0000] <TabAtkins>
Possibly the AVFM people using another charity's trademark?

[11:14:24.0000] <caitp>
charming stories like that, can only read so much of it before you feel sick =p

[11:14:41.0000] <TabAtkins>
I, like, gsnedders use REAL MAN TEARS to cope.

[11:15:06.0000] <caitp>
whatever that is it must be working

[11:15:17.0000] <TabAtkins>
It's like crying, but manlier.

[11:15:29.0000] <MikeSmith>
Hixie: https://www.w3.org/Bugs/Public/show_bug.cgi?id=27161

[11:20:18.0000] <TabAtkins>
caitp: Also, I only follow awesome people, so when I see something horrible, it's filtered to be just the important stuff, rather than a deluge. Other people can do the curating for me.

[11:21:00.0000] <caitp>
you should forward the question to people who are actively watching the GG hashtag then :z all of the cherrypicked stuff from it seems pretty horrible

[11:22:00.0000] <gsnedders>
caitp: I occasionally look at the hashtag; it's a pretty representative sample that goes out so it's not much worse

[11:25:08.0000] <boogy>
is there a way to load a module via a string or a buffer?

[11:25:38.0000] <caitp>
sounds like an es-discuss question ^_^

[11:26:02.0000] <caitp>
seems like it would have the same issues as new Function(...) or eval() though

[11:26:10.0000] <caitp>
so maybe it hasn't been considered

[11:26:15.0000] <gsnedders>
can you not just use eval?

[11:26:18.0000] <boogy>
is the a channel or a mailing list?

[11:26:31.0000] <TabAtkins>
boogy: mailling list.

[11:26:35.0000] <TabAtkins>
es-discuss⊙mo

[11:27:23.0000] <boogy>
Thanks. I'll refer the op in another channel where to find more info.

[11:28:05.0000] <MikeSmith>
/me tries to imagine what an es-discuss IRC channel would be like

[11:28:56.0000] <caitp>
less quiet than #v8, slightly noisier version of #jslang?

[11:31:32.0000] <Domenic>
"slightly"

[11:36:29.0000] <Hixie>
MikeSmith: boo :-P should i reassign that to anne? :-)

[12:00:01.0000] <wanderview>
JakeA: I see Cache.add() and Cache.addAll() resolve with undefined... is that correct?

[12:31:15.0000] <estellevw>
If I have a concern with the spec - notably the value of the range input type’s value attribute when multiple is set not being backward compatible, what is the best way to address that?

[12:31:17.0000] <estellevw>
The value attribute, if specified, must have a value that is a pair of valid floating-point numbers separated by a single U+002C COMMA character (,).

[12:31:41.0000] <estellevw>
that makes an invalid value for all browsers supporting range, but not the multiple attribute

[12:32:06.0000] <TabAtkins>
Yeah, but you need a totally different fallback if you don't support multiple.

[12:32:10.0000] <estellevw>
old browsers not support range should be ok: value=“2,4” is valid for text input type

[12:32:17.0000] <TabAtkins>
You can feature-test tat.

[12:32:47.0000] <estellevw>
are we expecting all developers to feature test multiple attribute before using it?

[12:33:22.0000] <TabAtkins>
No, but if they don't, it wont' work.  There's no good automatic fallback.

[12:33:40.0000] <estellevw>
yes. exactly, that’s why I wanted to raise a concern

[12:35:08.0000] <TabAtkins>
I don't mean "there isn't currently good automatic fallback".  I mean "there's no way to do good automatic fallback".

[12:35:28.0000] <estellevw>
agreed

[12:35:48.0000] <estellevw>
should the dual values be placed in separate attributes?

[12:36:01.0000] <estellevw>
that doesn’t sound like a good solution,

[12:36:20.0000] <estellevw>
but not having range value fail seems important

[12:36:22.0000] <TabAtkins>
It doesn't matter, because it won't fallback properly.  A single-value range input is *not* a fallback for a multi-value range input.

[12:36:43.0000] <TabAtkins>
You need to test it and use two range inputs or something, or just use a multi-range input and not worry about older browsers.

[12:37:11.0000] <estellevw>
obviously y’all have already thought this thru thoroughly.

[12:37:34.0000] <TabAtkins>
Unsure if sarcastic or serious.

[12:37:39.0000] <estellevw>
no, totally not

[12:37:46.0000] <TabAtkins>
/me is having to say that too often these days. ^_^

[12:37:51.0000] <estellevw>
basically, yall have already thought of my concerns

[12:38:01.0000] <TabAtkins>
Ah, kk.  Well, someone did.

[12:38:01.0000] <estellevw>
so i’ll go back to my life as usual ;)

[12:38:16.0000] <TabAtkins>
I just reasoned backwards on the spot. ^_^

[12:38:42.0000] <smaug____>
hmm, multiple range

[12:38:45.0000] <smaug____>
sounds like a bug

[12:39:43.0000] <TabAtkins>
smaug____: What do you mean?

[12:39:59.0000] <smaug____>
what is the use case

[12:40:12.0000] <TabAtkins>
Specifying a value that ranges from A to B.

[12:40:16.0000] <TabAtkins>
Like, say, a work shift.

[12:40:21.0000] <smaug____>
and why limit to two values if there is a use case

[12:40:30.0000] <TabAtkins>
What's the use-case for more than two?

[12:40:32.0000] <smaug____>
ah, that kind of multiple

[12:40:37.0000] <estellevw>
smaug____: not sure how much thought went into not having a fallback, and where/when the discussing took place. But TabAtkins makes sense (always), but not having a native fallback is a concern

[12:40:52.0000] <smaug____>
does any browser support range + multiple ?

[12:40:57.0000] <estellevw>
nope

[12:40:58.0000] <estellevw>
none

[12:41:04.0000] <estellevw>
tested 2 weeks ago

[12:41:29.0000] <estellevw>
though created my own tests, not official tests

[12:42:27.0000] <smaug____>
TabAtkins: range contain more than just start and end points, it could have width (or would it be height ) in 2d coordinate space

[12:42:40.0000] <smaug____>
s/contain/could contain/

[12:42:59.0000] <TabAtkins>
smaug____: That's more than a linear range input can represent.

[12:43:16.0000] <smaug____>
multiple is already very different to non-multiple

[12:43:28.0000] <smaug____>
/me wonders why multiple was added

[12:43:36.0000] <TabAtkins>
Because lots of people asked for ti.

[12:43:39.0000] <TabAtkins>
(including me)

[12:43:45.0000] <estellevw>
likely because everyone more than one thumb

[12:43:50.0000] <smaug____>
multiple sounds like something a script library could do

[12:44:03.0000] <TabAtkins>
(I used jQuery for a two-thumb input on several previous projects.)

[12:44:13.0000] <TabAtkins>
smaug____: *All* of the inputs sound like something a script library could do.

[12:44:20.0000] <smaug____>
not all

[12:44:35.0000] <smaug____>
<input type="text"> is good :)

[12:44:46.0000] <TabAtkins>
The new ones, at least. ^_^

[12:44:53.0000] <smaug____>
yup

[12:45:39.0000] <wanderview>
JakeA: nevermind... I think I buy add/addAll resolving to undefined

[13:21:34.0000] <JonathanNeal>
Where might I find information regarding the Window constructor?

[13:22:29.0000] <TabAtkins>
JonathanNeal: Don't think there is one.

[13:22:35.0000] <TabAtkins>
(Which means it'll throw when you call it.)

[13:23:05.0000] <JonathanNeal>
Is constructor the wrong word to use? I mean it in the same vain as HTMLDocument and HTMLElement.

[13:23:55.0000] <TabAtkins>
Yeah, you're using it right.  There just isn't one.

[13:24:04.0000] <TabAtkins>
Windows are only constructed by the UA.

[13:24:12.0000] <Ms2ger>
JonathanNeal, interface object

[13:24:21.0000] <TabAtkins>
That's an IDL-ism.

[13:24:23.0000] <Ms2ger>
JonathanNeal, you would find that in WebIDL and HTML

[13:24:40.0000] <JonathanNeal>
There most definitely is a “Window” interface object. I’m just looking for it in a spec of some sort.

[13:24:41.0000] <Ms2ger>
TabAtkins, is there a reason you're being unhelpful?

[13:24:59.0000] <TabAtkins>
Ms2ger: I totally misunderstood what he was asking for until just now, that's why. ^_^

[13:25:07.0000] <Ms2ger>
I see

[13:25:12.0000] <TabAtkins>
The constructor doesn't exist, but the corresponding object does.

[13:25:53.0000] <Ms2ger>
Dunno what you mean by constructor, then

[13:26:00.0000] <JonathanNeal>
Yes, they’re rather strange in that I treat their prototypes like I would the constructor’s prototype for other objects.

[13:26:51.0000] <TabAtkins>
Ms2ger: An actual function that constructs the object.

[13:27:31.0000] <JonathanNeal>
Ms2ger: would this be the spec for the Window interface object? http://www.w3.org/TR/WebIDL/#ImplicitThis

[13:27:44.0000] <Ms2ger>
JonathanNeal, oh dear

[13:27:56.0000] <Ms2ger>
JonathanNeal, https://heycam.github.io/webidl/

[13:27:59.0000] <JonathanNeal>
Ms2ger: I don’t mind looking like a fool, if in the end I learn.

[13:28:38.0000] <JonathanNeal>
Ms2ger: as in https://heycam.github.io/webidl/#ImplicitThis ?

[13:28:51.0000] <Ms2ger>
Depends on what you're looking for, exactly

[13:30:07.0000] <JonathanNeal>
Something that defines Window.prototype as extending all window objects.

[13:30:28.0000] <TabAtkins>
That's from the definition of a prototype, no?

[13:30:46.0000] <JonathanNeal>
Right, so the thing that clarifies that Window targets all window objects.

[13:31:04.0000] <TabAtkins>
Probably the IDL in the HTML spec for the Window object.

[13:31:06.0000] <JonathanNeal>
It is their “interface object”.

[13:31:19.0000] <Ms2ger>
Searching for [[Prototype]] says https://heycam.github.io/webidl/#es-platform-objects

[13:31:27.0000] <TabAtkins>
Is there some reason you need this information?

[13:33:16.0000] <JonathanNeal>
Yes, I’m working with a team that did not have an understanding of Window and likewise Window.prototype, so they were swapping out Window.prototype with window. I was explaining that (I hope this is right) Window.prototype should mean iframes inherit from Window.prototype.

[13:33:57.0000] <JonathanNeal>
And they replied "is there a good resource that explains the difference between Window and window” … and I paused because I did not know of one, and MDN did not have that sort of thing like they did for HTMLDocument, etc.

[13:34:14.0000] <TabAtkins>
The difference is between instance and class.

[13:34:38.0000] <TabAtkins>
The "window" object is an instance of the Window class, which has Window.prototype as its prototype.

[13:35:14.0000] <caitp>
can you actually extend Window.prototype in a meaningful way? like, does window.open-created windows inherit from the original window's prototype?

[13:35:21.0000] <TabAtkins>
(Iframes, with their own JS environment, will use a *different* Window class than the outer page, so anything you add to the outer page's Window.prototype won't show up in iframes.

[13:35:28.0000] <TabAtkins>
caitp: Dunno!

[13:35:49.0000] <TabAtkins>
I'm not sure how window.open()-created windows work, but if they have a fresh JS environment, then they won't.

[13:36:00.0000] <Ms2ger>
They do

[13:36:02.0000] <caitp>
well in chrome, apparently not

[13:36:10.0000] <caitp>
yeah there you go

[13:36:14.0000] <Ms2ger>
window.open() returns a Window, which is a global object

[13:37:12.0000] <TabAtkins>
From the new window's global?  Or the original?  both of you were ambiguous in which part of my phrasing you were responding to.

[13:37:38.0000] <Ms2ger>
Eh?

[13:37:38.0000] <caitp>
i'm just saying I don't think extending Window's prototype is really useful in any context, as far as I'm aware

[13:37:57.0000] <Ms2ger>
s/returns a/returns a new/

[13:38:09.0000] <TabAtkins>
"if they ahve a fresh JS environment" or "they they won't [inherit from the original window's prototype]"

[13:39:14.0000] <Ms2ger>
If you call window.open(), you create a new Window object/global/compartment/realm/JS environment, whatever you want to call it

[13:39:25.0000] <JonathanNeal>
Right you are, neither iframe or window.open’s window inherited from Window.prototype.

[13:39:35.0000] <TabAtkins>
Those are different!  A Window is an object in a JS environment.

[13:39:37.0000] <JonathanNeal>
At least, not in Chrome.

[13:39:42.0000] <TabAtkins>
Also happens to be the global for that environment.

[13:40:28.0000] <Ms2ger>
Global object and JS environment (as you appear to be using it) are 1:1

[13:40:39.0000] <JonathanNeal>
caitp: my initial test would confirm that extending Window.prototype is rather useless, which is not at all what I expected.

[13:41:01.0000] <Ms2ger>
So as a mathematician, I just take the quotient over the equivalence, and treat them as equal :)

[13:41:26.0000] <TabAtkins>
Ms2ger: Yeah, it's probably valid to talk about it like you are, but if people are already confused about instances vs classes and the like, being as explicit as possible about environments and where certain classes come from is probably good.

[13:42:22.0000] <smaug____>
JonathanNeal: extending Window.prototype can be rather useless also because of its special behavior http://heycam.github.io/webidl/#Global

[13:42:45.0000] <Ms2ger>
smaug____, useless for overriding, not so much for adding

[13:42:45.0000] <smaug____>
(and I note that better to not test webidl behavior in Chrome ;) )

[13:42:57.0000] <smaug____>
Ms2ger: indeed

[13:43:25.0000] <TabAtkins>
smaug____: Yes, good point.  Chrome has been violating WebIDL for a long time regarding whether properties of built-ins are on the prototype or the instances.

[13:43:38.0000] <JonathanNeal>
smaug____: what a disappointment. That’s a pretty useless class, all right.

[13:44:01.0000] <Ms2ger>
Yay web compat

[13:45:11.0000] <caitp>
to be fair, the bindings generation stuff is all python so it's really intimidating for anyone to try and fix it

[13:45:47.0000] <JonathanNeal>
Does this mean that using HTMLDocument is also fairly useless?

[13:46:29.0000] <caitp>
not necessarily

[13:46:39.0000] <caitp>
not sure if DocumentImplementation#createDocument would work

[13:46:43.0000] <smaug____>
if you create several HTMLDocument object in the same scope, they share the prototype

[13:47:02.0000] <TabAtkins>
caitp: Nothing to do with programming difficulty in Blink; it's a perf issue.

[13:47:32.0000] <TabAtkins>
JonathanNeal: HTMLDocuments aren't associated with fresh environments.  They're just like any other normal object.

[13:47:33.0000] <caitp>
Tab I was just taking another opportunity to troll python fans :p

[13:47:42.0000] <caitp>
don't take it seriously lopl

[13:47:48.0000] <caitp>
it's friday, oy

[13:48:05.0000] <TabAtkins>
caitp: Ah, I thought you just had a mistaken impression of what was causing the issue.

[13:48:29.0000] <TabAtkins>
(Friday is a time for sober reflection and formal dress, not trolling, SIR/MADAM/OTHER.)

[13:48:54.0000] <caitp>
sober reflection can wait until after the weekend =)

[13:49:04.0000] <TabAtkins>
Weekend is for drunk reflection.

[13:49:45.0000] <JonathanNeal>
caitp: when would I be creating a document? Fragments don’t inherit from HTMLDocument either.

[13:50:06.0000] <caitp>
DocumentImplementation can do it

[13:50:19.0000] <Ms2ger>
document.implementation.createHTMLDocument()

[13:50:35.0000] <JonathanNeal>
When would someone need that?

[13:51:24.0000] <caitp>
er

[13:51:32.0000] <caitp>
apparently i'm getting the name of the interface wrong

[13:51:52.0000] <JonathanNeal>
Well, what a crazy thing to learn, Window and HTMLDocument are rather useless in most usecases.

[13:52:51.0000] <JonathanNeal>
For example, there is no benefit to polyfilling Window.prototype.matchMedia versus window.matchMedia.

[13:53:14.0000] <Ms2ger>
/me never liked polyfills anyway

[13:56:22.0000] <caitp>
http://stackoverflow.com/questions/7738046/what-for-to-use-document-implementation-createhtmldocument there are some use-cases there if you're interested, I've only ever found it useful for testing though

[14:00:01.0000] <JonathanNeal>
thanks, caitp.

[14:00:48.0000] <JonathanNeal>
I need to hang my head low for a while. I had pretty much written things to get old IE to treat Window/HTMLDocument like I expected, but I think I should undo them now because it’s not how it’s supposed to work.

[14:05:56.0000] <Domenic>
annevk: thoughts on making DOMTokenList constructable? I'd like to write a Blink patch soon-ish but want to get your blessing first.

[14:06:00.0000] <Domenic>
And preferably Boris's too

[14:08:40.0000] <JonathanNeal>
Domenic: what would you use it for?

[14:09:12.0000] <Domenic>
JonathanNeal: creating custom elements that expose tokenized attributes

[14:11:42.0000] <JonathanNeal>
function TokenList() {} TokenList.prototype = DOMTokenList.prototype ?

[14:13:19.0000] <JonathanNeal>
Or you could even overwrite the DOMTokenList contructor, I suppose. I had to do something similar with https://github.com/Financial-Times/polyfill-service/blob/master/polyfills/Window.prototype.DOMTokenList/polyfill.js and https://github.com/Financial-Times/polyfill-service/blob/master/polyfills/Element.prototype.classList/polyfill.js

[14:20:42.0000] <JonathanNeal>
I can’t believe I misunderstood Window/HTMLDocument. Thanks so much for the info, caitp, Ms2ger, TabAtkins.

[14:20:47.0000] <TabAtkins>
np

[14:21:10.0000] <Ms2ger>
Np

[14:22:22.0000] <JonathanNeal>
On the upside, polyfills will be a lot easier to manage, and I can drop all the Window/HTMLDocument.prototype stuff from the folders.

[14:40:07.0000] <TabAtkins>
Hmm, I'm reading WebIDL back and forth, and I can't see how to define the iteration order for a setlike interface.  IDL requires that a setlike does *not* have an explicit iterable declaration, but only the iterable declaration actually asks for prose on ordering.

[14:41:49.0000] <Domenic>
i think the idea might be it's always insertion order, like ES sets?

[14:43:49.0000] <TabAtkins>
Yeah, but I have some custom ordering.  It's insertion order for the ones you insert yourself, but the UA-added ones are in document order, before the other ones.

[14:44:28.0000] <TabAtkins>
(Exposing precise UA resolution order isn't really something I want to do - too racy.)

[14:45:10.0000] <Domenic>
TabAtkins: my guess is that kind of thing wasn't anticipated, so I'd just specify the ordering in the prose anyway?

[14:45:20.0000] <TabAtkins>
Yeah, that's what I'm doing right now.

[14:45:28.0000] <Domenic>
JonathanNeal: I was excited about that idea for a second but when you try that you get "TypeError: 'add' called on an object that does not implement interface DOMTokenList."

[14:51:03.0000] <JonathanNeal>
What?! Oh, what a bummer. It gets all special?

[14:51:30.0000] <JonathanNeal>
Well, you can take the DOMTokenlist polyfill. That implements to spec, down to method.name and method.length


2014-10-25
[02:06:34.0000] <annevk>
Domenic: not really. It's not clear to me which model we want to follow

[08:40:24.0000] <annevk>
Burn your select tags: https://www.youtube.com/watch?v=CUkMCQR4TpY

[09:38:57.0000] <Ms2ger>
What's the plan for https://html.spec.whatwg.org/multipage/infrastructure.html#fetch? Will that go away?

[09:40:11.0000] <Ms2ger>
annevk, ^

[10:48:08.0000] <annevk>
yes

[11:18:08.0000] <erlehmanntest>
if i enter #whatwg with xchat, it crashes

[11:18:15.0000] <erlehmanntest>
this means, something is rotten about #whatwg

[11:22:50.0000] <erlehmann_>
sorry, i suspected it may be the unusual nick.

[11:22:54.0000] <Ms2ger>
erlehmann_, fine here

[11:23:05.0000] <erlehmann_>
Ms2ger: you use xchat?

[11:23:34.0000] <Ms2ger>
Yeah

[11:27:44.0000] <erlehmann_>
i am checking now using wireshark

[11:27:49.0000] <erlehmann_>
what the last traffic is before crash

[11:28:24.0000] <erlehmann_>
nick ^erlehmann

[11:28:45.0000] <Ms2ger>
Odd

[11:30:24.0000] <erlehmann`>
Ms2ger: it is literally, as soon as i connect to #whatwg, xchat crashes

[11:31:01.0000] <erlehmann`>
have captured now

[11:36:27.0000] <erlehmann`>
again

[11:45:08.0000] <erlehmann>
everything works

[11:45:30.0000] <erlehmann`>
weird

[11:45:32.0000] <erlehmann`>
very very weird

[11:47:03.0000] <erlehmann>
Ms2ger so there is a way to remotely crash xchat, but i cannot reproduce it anymore

[16:03:09.0000] <gsnedders>
TabAtkins: do we just continuously retweet each other? I feel like a disproportionate amount of what I tweet you retweet, and a disproportionate amount is me retweeting stuff from (or via) you

[16:04:24.0000] <TabAtkins>
gsnedders: Yeah, our timelines are pretty incestuous.

[16:05:17.0000] <gsnedders>
do I need to start posting photos of me with nail varnish on now?

[16:05:31.0000] <TabAtkins>
Yes.

[16:05:43.0000] <gsnedders>
bah, but I rarely do nowadays!

[16:05:50.0000] <gsnedders>
/me wonders if there's any photos from last night of him

[16:05:58.0000] <TabAtkins>
Need to redo mine in a few minutes, too. Think I'm gonna stick with this halloween color for another week.

[16:06:31.0000] <gsnedders>
(I think I was the only person in the group with makeup on. The group was mostly female.)

[16:07:14.0000] <TabAtkins>
This reflects my experience, except several of the women I hang out with have starting using nail polish since I have.


2014-10-26
[01:53:42.0000] <annevk>
MikeSmith: https://www.w3.org/Bugs/Public/show_bug.cgi?id=27162#c2 (spam)

[07:28:08.0000] <MikeSmith>
annevk: banned that bug spammerーthanks for the heads-up

[07:52:37.0000] <annevk>
Hixie: https://twitter.com/simevidas/status/526378553601183744

[08:18:12.0000] <Ms2ger>
<var name="ownerDocument" type="DocumentType"/>

[10:12:46.0000] <Craig`>
Could somebody give me some advice about how I'd go about transforming something that currently looks like http://i.imgur.com/qeykqcU.png?1 to something that looks like http://www.sportsknowhow.com/images/diagrams/tennis-court-dimensions-diagram-lrg.gif please? I've found ctx.setTransform but haven't had any luck. Any help would be greatly appreciated

[11:37:08.0000] <hsivonen>
is https://developers.whatwg.org/ being updated? https://developers.whatwg.org/grouping-content.html#the-main-element does not have the edit from https://html5.org/r/8748 for example

[11:37:53.0000] <Ms2ger>
I don't think so

[11:37:58.0000] <Ms2ger>
Also, hi hsivonen!

[11:43:12.0000] <hsivonen>
Ms2ger: hi

[11:56:56.0000] <Ms2ger>
hsivonen, (I sent you an email about some Servo PRs where your attention would be appreciated, if you have time)

[12:10:58.0000] <hsivonen>
Ms2ger: ack, I'll reply but not today

[12:11:12.0000] <Ms2ger>
hsivonen, no hurry


2014-10-27
[20:41:52.0000] <MikeSmith>
maybe somebody else needs to take over maintenance of developers.whatwg.org

[23:11:47.0000] <Hixie>
MikeSmith: yeah it's supposed to be me but i've been slacking

[01:40:28.0000] <foolip>
which phantomjs

[01:40:46.0000] <foolip>
oops :)

[01:41:14.0000] <Ms2ger>
Good morning foolip

[01:41:21.0000] <Ms2ger>
Want to do some test reviews? :)

[02:19:32.0000] <Ms2ger>
/me guesses that's a no

[02:43:03.0000] <foolip>
Manishearth: heh :)

[02:43:33.0000] <foolip>
bah, tab completion, and Ms2ger is gone

[09:13:54.0000] <TabAtkins>
foolip: Never rely on tab completion with less than three letters.

[09:18:09.0000] <jgraham>
Well there's always a case where it doesn't work for N letters. I think "read what tab completed to" is better advice :)

[09:18:51.0000] <jgraham>
(e.g. in #ateam on irc.mozilla.org there are two people matching jgr*)

[09:24:27.0000] <Domenic>
irccloud at least is smart and tries to tab-complete the last person you were talking to or something similar

[09:31:04.0000] <rektide>
if anyone has guidance for helping me equivocate the need for Push to actually relate to the web, i feel like i direly need it.

[09:31:13.0000] <rektide>
Push: Not a Friend of SPDY/HTTP, lists.w3.org/Archives/Public/public-webapps/2014OctDec/0257.html

[09:31:22.0000] <rektide>
(sorry) http://lists.w3.org/Archives/Public/public-webapps/2014OctDec/0257.html

[09:32:01.0000] <rektide>
it's absolutely reviling to me people are making yet another high level protocol that will happen to use http and yet not actually expose what's in http

[09:32:18.0000] <rektide>
and calling it a web spec! who the fuck are these people?

[09:33:27.0000] <rektide>
already said too much; i'm here for context setting to understand, and guidance to direct, perhaps if people want to chime in in list that'd be great. please disregard my venting right here.

[09:33:42.0000] <MikeSmith>
rektide: what spec are you commenting on?

[09:33:57.0000] <MikeSmith>
the IETF protocol spec?

[09:34:56.0000] <MikeSmith>
anyway regardless I think Martin Thomson is probably who you want to talk to

[09:34:58.0000] <rektide>
this is on www.w3.org/TR/2014/WD-push-api-20141007/ , but i'm here because i think ya'll are probably more aligned with my pov

[09:35:21.0000] <rektide>
again Chrome with the lack of http:// in copy-paste, thanks obama. http://www.w3.org/TR/2014/WD-push-api-20141007/

[09:35:32.0000] <MikeSmith>
I think nobody who's usually around here is following the Push stuff all that closely

[09:35:37.0000] <MikeSmith>
maybe Domenic has a bit

[09:35:40.0000] <MikeSmith>
or slightlyoff

[09:36:11.0000] <Domenic>
i don't really want to get involved in that conversation; the OP's vulgar attitude makes me think engaging will not be constructive.

[09:36:22.0000] <MikeSmith>
rektide: have you looked at the related IETF spec yet

[09:36:24.0000] <rektide>
thanks Domenic

[09:36:41.0000] <rektide>
MikeSmith: I have not, was not aware that was in progress

[09:37:12.0000] <MikeSmith>
it's called WebPush

[09:37:20.0000] <MikeSmith>
/me looks for a URL

[09:37:34.0000] <rektide>
http://http://tools.ietf.org/html/draft-thomson-webpush-http2-00

[09:38:34.0000] <MikeSmith>
rektide: btw as much as I personally love your rhetorical style I hope you can see it's not going to help you much as far as getting people who know about the background on this to feel like paying attention

[09:41:21.0000] <annevk>
rektide: that you equate the Push API with SPDY Push shows you need to a do a little more reading

[09:43:08.0000] <rektide>
annevk: no it doesn't

[09:44:09.0000] <annevk>
well, enjoy, I guess

[09:44:11.0000] <rektide>
i haven't equated, i've indicated that the new fabricated Push API should serve to expose SPDY

[09:44:21.0000] <rektide>
yeah thanks

[09:45:23.0000] <zcorpan_>
Hixie: https://www.w3.org/Bugs/Public/show_bug.cgi?id=27073 - html/dom hasn't been developed for 3 decades though

[09:46:34.0000] <annevk>
rektide: here's a hint, the Push API is about incoming messages from origin A when there's no open connection to origin A

[09:48:47.0000] <annevk>
zcorpan_: arguably it's a continuum of what came before in the form of SGML and such

[09:48:59.0000] <rektide>
annevk: i get that. i tried to state emphatically that i love the idea that the user-agent could become a server.

[09:55:37.0000] <annevk>
rektide: that's now how any push architecture works, though

[09:55:42.0000] <annevk>
not*

[10:02:24.0000] <rektide>
annevk: i've implemented Pushchannel, a module for node which monkeypatches the SPDY module to create a list of all resources which are SPDY pushed

[10:02:45.0000] <rektide>
annevk: the client when it requests a real resource gets an X-Associated-Content header which contains the list of all pushed resources

[10:03:41.0000] <annevk>
I don't see how that's related to the push concept this draft is discussing

[10:10:58.0000] <annevk>
jgraham: why does Critic not remember I logged in?

[10:15:57.0000] <darobin_>
annevk: you mean after a while you're logged out or it doesn't remember you at all?

[10:16:13.0000] <annevk>
darobin_: logged out

[10:16:24.0000] <annevk>
darobin_: I only have to click "sign in"

[10:16:33.0000] <darobin_>
annevk: because annoyingly the cookie doesn't live long enough

[10:16:36.0000] <annevk>
darobin_: but I don't like clicking that

[10:16:46.0000] <darobin_>
annevk: I asked jgraham and he said the duration is likely hardcoded

[10:16:54.0000] <darobin_>
annevk: I know, I reported the same bug

[10:17:09.0000] <annevk>
okay

[10:17:24.0000] <annevk>
I guess I'll keep clicking then and occasionally bug jgraham because I forgot

[10:17:33.0000] <darobin>
I took a quick look at the Critic source but it wasn't immediately obvious so I didn't look further

[10:17:37.0000] <jgraham>
It's a session cookie I think, and I don't think that's intentional

[10:17:43.0000] <darobin>
yeah, let's just bug jgraham now and then

[10:18:07.0000] <jgraham>
I'm not sure I like this plan :p

[10:20:13.0000] <gsnedders>
jgraham: your fault

[10:21:24.0000] <jgraham>
I know :(

[10:32:18.0000] <Hixie>
zcorpan_: 25 years is "more than 2 decades but not many" :-)

[10:33:37.0000] <jgraham>
Context?

[10:39:46.0000] <zcorpan_>
jgraham: https://www.w3.org/Bugs/Public/show_bug.cgi?id=27073

[10:40:36.0000] <zcorpan_>
Hixie: i think that's stretching it but i guess the statement will be true in 5 years

[10:41:59.0000] <jgraham>
So it should be a promise for a statement? :)

[10:43:24.0000] <jgraham>
If you just drop the word "several" it becomes entirely true

[10:44:03.0000] <jgraham>
and makes the sentence stronger, I think

[11:17:07.0000] <SteveF_>
Domenic: did your email to pf ever get through? if not will follow up

[11:17:33.0000] <Domenic>
SteveF_: I don't think so :(

[11:18:26.0000] <SteveF_>
Domenic: if you want you can send it to me i can forward to get it in and sort out issue

[11:18:42.0000] <MikeSmith>
Domenic, SteveF_ I'll check on it right now

[11:19:16.0000] <SteveF_>
MikeSmith: thanks

[11:20:34.0000] <MikeSmith>
SteveF_: which list is this exactly?

[11:21:15.0000] <SteveF_>
MikeSmith: public-pfwg⊙wo

[11:21:20.0000] <MikeSmith>
k

[11:23:13.0000] <MikeSmith>
SteveF_: so I see nothing in the moderation queue. I suggest pinging Michael Cooper and asking him to approve it. He's the owner of the list and he gets copies of all messages that get held for moderation and he can forward them

[11:23:37.0000] <SteveF_>
MikeSmith: will do

[11:47:28.0000] <SteveF_>
Domenic: email sent to m cooper, ccd mike

[11:47:42.0000] <MikeSmith>
thanks

[11:47:47.0000] <Domenic>
SteveF_: thanks. I can definitely re-send if necessary.

[12:01:22.0000] <Domenic>
oh boy. so re-send to -comments?

[13:00:09.0000] <SteveF_>
Domenic: yeah that's BS but hey...

[13:01:13.0000] <SteveF_>
MikeSmith: what are other WG's policies on mails from non members?

[13:05:55.0000] <Hixie>
annevk: yeah, i still get a 500 on the twitter script. Not that I'm especially happy with Twitter these days so *shrug*.

[13:10:32.0000] <SteveF_>
Domenic: sorry mispelt your name in my response to MC's email

[13:10:45.0000] <Domenic>
SteveF_: no problem! thanks for the help.

[13:17:48.0000] <MikeSmith>
SteveF_: other groups have a policy called "common sense"

[13:18:29.0000] <MikeSmith>
but this group as usual apparently has some separate policy of its sown

[13:19:20.0000] <SteveF_>
MikeSmith: right

[13:19:35.0000] <SteveF_>
/me needs to chnage

[13:20:19.0000] <jgraham>
MikeSmith: Now people are probably wondering why I'm giggling

[13:20:43.0000] <MikeSmith>
heh

[13:46:33.0000] <annevk>
Hixie: bah, I wonder what is going wrong

[13:50:12.0000] <Domenic>
for a method declared f(DOMString x, DOMString y, DOMString z), what is f(undefined, undefined, undefined) supposed to do?

[13:50:19.0000] <Domenic>
Stringify to "undefined", or throw?

[13:50:29.0000] <jgraham>
Yes :)

[13:50:43.0000] <jgraham>
I'll look

[13:51:05.0000] <jgraham>
(pretty sure it stringifies, but like I say)

[13:51:19.0000] <Domenic>
I think just stringify to undefined but unsure if the treatment of undefined as args is special...

[13:52:10.0000] <jgraham>
It defers to ES ToString

[13:52:21.0000] <Domenic>
yeah so "undefined"

[13:52:28.0000] <jgraham>
Right

[13:52:47.0000] <jgraham>
(the only case that doesn't is with [TreatNullAs=EmptyString] and null)

[13:53:30.0000] <Domenic>
right, and undefined will trigger defaults I think, but doesn't count as "missing"

[14:11:54.0000] <annevk>
Domenic: you need to use the optional keyword for missing

[14:12:27.0000] <annevk>
Domenic: otherwise it's the same as JS grabbing a reference to the second argument and invoking ToString on it regardless of what it's value is

[14:13:04.0000] <Domenic>
annevk: yeah, just a little weird that f(x) is not the same as f(x, undefined, undefined)

[14:13:19.0000] <Domenic>
JakeA: which is your best service worker video do you think?

[14:17:03.0000] <The-Compiler>
Not sure if this is the right place to ask - does anyone here know about a standard for javascript bookmarklets, i.e. how a browser should interpret them/expect the URL to be encoded?

[14:19:34.0000] <JakeA>
Domenic: http://youtu.be/SmZ9XcTpMS4

[14:19:49.0000] <Domenic>
I saw that one :D

[14:24:15.0000] <The-Compiler>
I mean, it looks like scheme:path, but in the wild it looks like people use  javascript:...  with ... just being unescaped javascript code, maybe %20 instead of spaces, maybe not, but certainly slashes and all

[14:24:18.0000] <jamesr_>
annevk: should fetch handle the javascript: scheme?

[14:24:26.0000] <jamesr_>
The-Compiler: yeah the handling of the javascript: scheme is very complicated

[14:24:36.0000] <jamesr_>
not sure who's supposed to define it

[14:25:02.0000] <jamesr_>
ah, think it's in HTML

[14:25:21.0000] <jamesr_>
The-Compiler: https://html.spec.whatwg.org/multipage/browsers.html#navigating-across-documents see step 15

[14:25:32.0000] <The-Compiler>
I'm writing a browser and got a feature request to implement javascript bookmarklets, and I wonder what the most sensible way to handle them is :)

[14:27:14.0000] <The-Compiler>
jamesr_: perfect, that's what I was searching for

[14:28:15.0000] <jamesr_>
The-Compiler: plug your nose and do *exactly* what that says

[14:28:56.0000] <The-Compiler>
I love you guys for readable standards which read like pseudocode :)

[14:29:43.0000] <JakeA>
Domenic: haha yeah, I'm afraid that's my best

[14:29:59.0000] <JakeA>
Might do a better one on Friday. It's certainly longer.

[14:30:08.0000] <Domenic>
:)

[14:30:13.0000] <Domenic>
short is nice to point people to

[14:32:37.0000] <zcorpan>
The-Compiler: just avoid letting users run javascript: from the address bar since that's a social engineering attack :-)

[14:35:17.0000] <The-Compiler>
zcorpan: works in Chrome/Firefox though :P

[14:35:31.0000] <The-Compiler>
(okay, it strips the javascript: when pasting)

[14:37:11.0000] <caitp>
would a browser follow a 302 to a javascript: url?

[14:37:16.0000] <caitp>
that would be scary

[14:37:43.0000] <caitp>
i mean it would be hard for it to do any real harm

[14:37:50.0000] <The-Compiler>
caitp: why? How's that different from a page just executing the javascript directly?

[14:38:07.0000] <caitp>
because you could go to your bank's host, which you trust

[14:38:09.0000] <The-Compiler>
(okay, if scripts are blocked somehow that shouldn't be a loophole, but except of that)

[14:38:31.0000] <caitp>
but you've got a weird dns record which takes you somewhere hostile, wheresomeone plans to open infinite modal dialogs just to annoy you

[14:39:08.0000] <caitp>
hey I'm not saying it's a very compelling threat model

[14:42:06.0000] <Domenic>
How do I unsubscribe my (old) email from whatwg@. Can I assume whatwg-unsubscribe⊙wo works?

[15:20:33.0000] <zewt>
where did this fad of not showing mouse cursor spinners in browsers come from

[15:21:38.0000] <annevk>
jamesr_: the idea is that the navigate algorithm handles it

[15:21:43.0000] <zcorpan>
The-Compiler: yeah the attack is copy/paste into address bar

[15:21:47.0000] <annevk>
jamesr_: if javascript ever reaches Fetch it'll just fail

[15:22:29.0000] <annevk>
jamesr_: mind you, implementations might not have this strategy yet


2014-10-28
[02:02:51.0000] <Ms2ger>
/me grumbles at zcorpan

[07:43:30.0000] <annevk>
http://arewefastyet.com/ what's v8-turbofan?

[07:44:27.0000] <wanderview>
annevk: http://ariya.ofilabs.com/2014/08/javascript-and-v8-turbofan.html

[07:45:29.0000] <annevk>
wanderview: ta

[08:37:55.0000] <Ms2ger>
If people are bored at TPAC, they can review my wpt PRs

[09:01:35.0000] <annevk>
http://www.w3.org/2006/WSC/ "As of 13 August 2010, the Working Group is closed."

[09:02:27.0000] <annevk>
That group published http://www.w3.org/TR/wsc-ui/ which could use some maintenance if we are to use it as an actual building block...

[09:42:25.0000] <Philip`>
(Ah, TPAC? I guess that explains why I saw someone with a W3C T-shirt on a plane to SFO a couple of days ago)

[09:42:31.0000] <Philip`>
/me was curious about that

[09:56:06.0000] <hober>
hsivonen: so yeah, that happened

[09:56:09.0000] <zcorpan_>
darobin: should html-differences be a Note?

[09:56:21.0000] <darobin>
zcorpan_: yes please

[09:58:15.0000] <zcorpan_>
hmm, what should sotd say for notes

[10:02:07.0000] <JonathanNeal>
The native implementation of Array.from in Firefox throws errors on lengths greater than the specified min/max (like Infinity and negative numbers) http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength

[10:02:58.0000] <JonathanNeal>
But do you think, for things like Infinity and negative numbers they are onto something?

[10:08:26.0000] <zcorpan_>
http://www.w3.org/TR/html/

[10:13:03.0000] <JonathanNeal>
there it is

[10:19:36.0000] <Domenic>
Your /TR/ URLs are not welcome here

[10:25:12.0000] <myakura>
http://www.w3.org/TR/html/references.html#refsURL

[10:34:11.0000] <Domenic>
such a mess

[10:34:25.0000] <Domenic>
that whole non-normative green text box and then a link to a spec that is ridiculously old and inaccurate at the bottom

[10:34:33.0000] <SimonSapin>
darobin: Does RF only apply from REC?

[10:34:43.0000] <Hixie>
HAHAHAHAHAHAHAHA with all the bitching about not being able to reference an unstable reference they still did it anyway

[10:35:30.0000] <Domenic>
they didn't really

[10:35:38.0000] <Hixie>
they referenced a WD

[10:35:42.0000] <Hixie>
their definition of "unstable"

[10:35:43.0000] <Domenic>
oh lol yeah

[10:36:06.0000] <Hixie>
omg, they actually included the following in their "final" "finished" html5:

[10:36:09.0000] <Hixie>
"This section describes a security model that is underdefined, imperfect, and does not match implementations. Work is ongoing to attempt to resolve this, but in the meantime, please do not rely on this section for precision."

[10:36:17.0000] <Hixie>
http://www.w3.org/TR/html/browsers.html#security-window

[10:39:03.0000] <Hixie>
"At time of publication of this document, patches from the WHATWG HTML specification have been merged until revision 8152 inclusive"

[10:39:16.0000] <Hixie>
r8152: 2013-08-22

[10:39:59.0000] <Hixie>
it's literally over a year behind

[10:42:43.0000] <annevk>
www.w3.org/TR/html/references.html#refsMIMESNIFF

[10:42:50.0000] <annevk>
so anyway

[10:43:56.0000] <Hixie>
man

[10:43:57.0000] <annevk>
hober: man that response email is so painful

[10:44:02.0000] <Hixie>
do a view source on that page

[10:44:05.0000] <Hixie>
and search for "whatwg"

[10:44:15.0000] <Hixie>
it's hard to believe that they're not just explicitly targetting the whatwg

[10:45:08.0000] <annevk>
they are

[10:45:26.0000] <JonathanNeal>
So, hgroup really is dead, at last, again, for now.

[10:45:40.0000] <wilhelm_>
Oh. REC. How surprising.

[10:46:01.0000] <Hixie>
JonathanNeal: https://html.spec.whatwg.org/multipage/#the-hgroup-element

[10:46:10.0000] <annevk>
http://www.cnet.com/news/html5-is-done-but-two-groups-still-wrestle-over-webs-future/ about URLs

[10:46:15.0000] <Hixie>
JonathanNeal: continues to not be dead

[10:46:16.0000] <annevk>
/me hasn't read it yet

[10:46:24.0000] <annevk>
/me but is quoted

[10:49:18.0000] <TabAtkins>
Hixie: What's the WD ref?

[10:49:59.0000] <Hixie>
TabAtkins: url

[10:51:12.0000] <gsnedders>
SteveF_: sorry for not getting back to you; ended up at my parents and have had my niece climbing all over me :)

[10:51:41.0000] <gsnedders>
SimonSapin: and yes, REC is needed for the patent policy to kick in, which is stupid with earlier calls for implementation

[10:52:31.0000] <zcorpan_>
Hixie: unstable w3c is better than stable whatwg with a long title

[10:52:49.0000] <SteveF_>
gsnedders: no problem got a quote from TBL instead ;-)

[10:53:00.0000] <Hixie>
zcorpan_: both are as bad as each other

[10:54:12.0000] <gsnedders>
SteveF_: :)

[10:55:05.0000] <gsnedders>
SteveF_: seems that most of what I'd started to write was said by others, at least. :)

[10:55:12.0000] <Hixie>
"From my perspective, there's no animosity" is so... something

[10:55:25.0000] <Hixie>
(quote from jeff in http://www.cnet.com/news/html5-is-done-but-two-groups-still-wrestle-over-webs-future/)

[10:56:31.0000] <gsnedders>
how far from NN4 was the original Moz code release?

[10:59:13.0000] <wilhelm_>
Conveniently published juuust in time for the AC meeting.

[11:02:37.0000] <TabAtkins>
According to my nametag I'm an AC Rep now.

[11:03:22.0000] <annevk>
Hixie: he's consistent

[11:03:28.0000] <wilhelm_>
How convenient. Being a piece of furniture also grants access, apparently.

[11:04:08.0000] <annevk>
Hixie: but afaik he's also one of the people who keeps this feud going by e.g. making a big fuss when HTML5 tried to reference some WHATWG work

[11:04:26.0000] <Hixie>
annevk: no kidding

[11:04:50.0000] <Hixie>
annevk: so much two facedness. so wow.

[11:04:51.0000] <annevk>
Hixie: whereas any reference that did not say WHATWG but is still broken he couldn't care less about

[11:05:23.0000] <annevk>
it's hearsay I guess, but I doubt he can deny it

[11:05:44.0000] <Hixie>
oh he can deny anything

[11:05:52.0000] <Hixie>
since truth isn't a prereq to anything he says

[11:10:47.0000] <gsnedders>
Hixie: lists.whatwg.org down?

[11:11:06.0000] <annevk>
gsnedders: DreamHost doesn't support TLS

[11:11:21.0000] <gsnedders>
so how do I get to it?

[11:11:54.0000] <gsnedders>
and why is it still showing up in Google results if it's permamentally down? :(

[11:14:50.0000] <Hixie>
gsnedders: clear your cache (hsts cache specifically) and then it'll work until you visit another whatwg.org url

[11:15:04.0000] <Hixie>
gsnedders: but generally speaking we're pretending that host is down

[11:15:22.0000] <gsnedders>
:(

[11:16:37.0000] <TabAtkins>
gsnedders: Use the w3c archives for it isntea.d

[11:18:13.0000] <gsnedders>
but they don't show up in the Google results! :P

[11:18:41.0000] <Hixie>
they should

[11:18:50.0000] <Hixie>
and do for me

[11:18:55.0000] <annevk>
really need DreamHost to get their act together

[11:20:53.0000] <Hixie>
/me fixes bugs in the WHATWG HTML Living Standard while the w3c pats itself on the back for finishing html

[11:21:01.0000] <Hixie>
la la la

[11:21:45.0000] <zcorpan_>
hsivonen: your reply was particularly useful. http://html5doctor.com/the-ride-to-5/

[11:21:59.0000] <Hixie>
TabAtkins: is !important in ua.css defined yet?

[11:22:06.0000] <TabAtkins>
Yeah

[11:22:23.0000] <TabAtkins>
http://dev.w3.org/csswg/css-cascade/#cascade-origin

[11:24:37.0000] <Hixie>
ah, neat

[11:24:39.0000] <SimonSapin>
TabAtkins: did you find out from your name tag?

[11:24:55.0000] <TabAtkins>
SimonSapin: ???

[11:25:10.0000] <SimonSapin>
TabAtkins: “According to my nametag I'm an AC Rep now.”

[11:25:20.0000] <Hixie>
TabAtkins: and transition declarations can't transition through values that are statically ua !important, right?

[11:25:55.0000] <TabAtkins>
Hixie: Sure they can. But if the starting point is ua-important, it can't change, except through other ua-important rules.

[11:26:32.0000] <Hixie>
TabAtkins: that's what i mean

[11:26:34.0000] <Hixie>
TabAtkins: k

[11:26:53.0000] <Hixie>
/me grabs a bag of !important to sprinkle over the html spec's UA stylesheet

[11:27:44.0000] <TabAtkins>
Hixie: Try not to, plzkthx

[11:28:01.0000] <Hixie>
well specifically i'm converting prose to css rules

[11:28:08.0000] <Hixie>
should be purely an editorial change

[11:28:22.0000] <TabAtkins>
We only use UA-important for things that are forced to a given value for compat reasons, because it wasn't previously settable.

[11:28:23.0000] <TabAtkins>
Ok.

[11:28:26.0000] <zcorpan_>
!important all the things

[11:30:26.0000] <SteveF_>
gsndders: better late...

[11:30:53.0000] <SteveF_>
gsnedders: ^^ :-)

[11:32:40.0000] <wilhelm_>
I wonder if there's any way to give Jeff the political tool of _perceived_ progress without turning REC into an even bigger joke than it already is.

[11:34:15.0000] <wilhelm_>
The use cases of a spec as 1) technical specification and 2) a political tool are, uh, somewhat conflicting.

[11:35:44.0000] <gsnedders>
SteveF_: in response to my comment? heh. it's easier when I can cut out half of my draft because Henri already said it :)

[11:35:54.0000] <gsnedders>
SteveF_: and I knew it was too long like that, so… :)

[11:36:44.0000] <Hixie>
so tempting to post a blog entry announcing that we've finished HTML r8842

[11:36:54.0000] <Hixie>
then an hour later that we've finished HTML r8843...

[11:42:19.0000] <TabAtkins>
DO IT

[11:43:00.0000] <Domenic>
http://www.cnet.com/news/html5-is-done-but-two-groups-still-wrestle-over-webs-future/ is good

[11:43:01.0000] <hober>
Hixie: that would be hysterical; please do

[11:43:05.0000] <Domenic>
yes please

[11:43:30.0000] <Domenic>
i still need a streams standard blog post hrm

[11:43:32.0000] <wilhelm_>
:D

[11:43:33.0000] <Domenic>
should work on that

[11:43:54.0000] <Domenic>
unrelated topic, any svg experts know how to center text vertically in a <rect> without guessing-and-checking the correct y offset?

[11:44:09.0000] <cwilso>
Hixie:  I am fully supportive of you implementing a press release bot...

[11:44:24.0000] <Domenic>
MikeSmith: love your quote in http://html5doctor.com/the-ride-to-5/ ^_^

[11:44:28.0000] <annevk>
Hixie: you asked http://www.w3.org/blog/news/archives/4167 to not mention WHATWG, right?

[11:44:50.0000] <gsnedders>
cwilso: Probably could come up with some sort of NLG tool that actually did pretty well as press releases. They're typically so dry…

[11:45:42.0000] <annevk>
Haven't seen a single thing so far acknowledging who wrote all that text

[11:46:54.0000] <annevk>
Hixie: not sure it makes sense to publish anything now

[11:47:29.0000] <annevk>
Hixie: seems a bit reactionary

[11:47:45.0000] <Hixie>
i was just saying it was tempting, not that i'd actually do it :-P

[11:48:38.0000] <Hixie>
it boggles my mind that they just published a fork that's over a year old

[11:48:40.0000] <annevk>
okidoki, I'd be tempted too with the amount of self-congratulating the W3C seems to be doing for something that's essentially copied

[11:48:49.0000] <Hixie>
it's like, wat

[11:50:32.0000] <annevk>
It being a year old does not explain the MIMESNIFF reference

[11:51:07.0000] <annevk>
"Application Foundations for the Open Web Platform"

[11:53:32.0000] <annevk>
Ah, Application Foundations is the new word for Technology Stack https://hsivonen.fi/technology-stack/

[11:58:51.0000] <cwilso>
Actually, I think Jeff is using "Application Foundations" as a name for "EVERYTHING".

[11:59:53.0000] <Domenic>
that is my impression as well

[12:00:48.0000] <annevk>
Hixie: heh, they don't even use the https link for that revision

[12:01:37.0000] <annevk>
cwilso: sounds like Technology Stack (although it curiously omitted HTML)

[12:02:48.0000] <annevk>
So "HTML5" is close to 700 revisions behind "HTML"

[12:03:27.0000] <cwilso>
annevk: "Haven't seen a single thing so far acknowledging who wrote all that text" - the press release does personally thank Hixie first, as well as WHATWG; Rec has Hixie first as WHATWG editor.  You can complain that they're copying, but I'm not sure what more attribution you're looking for.

[12:03:39.0000] <annevk>
I feel sorry for all the people that start reading it as the result of this press release

[12:03:56.0000] <cwilso>
annevk: yeah, it's kinda technology stack but it has omissions and odd inclusions.

[12:04:11.0000] <annevk>
cwilso: sorry, I missed that press release? I was looking at http://www.w3.org/blog/news/archives/4167

[12:04:26.0000] <Hixie>
attribution really isn't the issue imho

[12:04:36.0000] <cwilso>
Click "press release" on that blog post.

[12:04:47.0000] <Hixie>
they published a document that's literally over a year old and is missing hundreds of fixes

[12:04:50.0000] <Hixie>
and they call it "done"

[12:04:53.0000] <Hixie>
wtf is that

[12:04:53.0000] <annevk>
As for the Application Foundations stuff, not clear to me why Jeff would try to steer something like that...

[12:04:58.0000] <Hixie>
it's irresponsible

[12:05:05.0000] <cwilso>
Hixie: yeah, I know.  That's what I mean.

[12:05:10.0000] <Domenic>
https://html5.org/tools/web-apps-tracker should probably link to the actual spec it's tracking

[12:05:12.0000] <cwilso>
annevk: heh.  +1.

[12:06:35.0000] <annevk>
/me had to look up seminal

[12:06:37.0000] <Domenic>
/me throws his hands up in disgust and gives up on vertically centering text in a SVG

[12:06:37.0000] <cwilso>
fwiw, I'm sure Jeff knows that he's not "steering" it - he's just hoping he can convince it to be done under the W3C umbrella.

[12:07:36.0000] <annevk>
"The WHATWG, for all of their contributions to HTML." uhuh

[12:07:37.0000] <cwilso>
/me wonders which definition they had in mind.

[12:08:13.0000] <Domenic>
annevk: hey now, take that in the spirit it was meant, even if the circumstances surrounding it are putrid.

[12:08:54.0000] <annevk>
Domenic: or the placement in that list?

[12:09:01.0000] <Domenic>
yep

[12:10:32.0000] <annevk>
It's somewhat annoying to have to accept that those with more resources can effectively rewrite history

[12:10:39.0000] <annevk>
I'll get there

[12:11:14.0000] <cwilso>
y'know, part of what frustrates ME so much about this (ongoing) conversation is that no one should be questioning the value of the contribution of the various members of the WHATWG - Hixie's contributions most of all, of course.  HTML wouldn't be anywhere near where it is today without his work, nor many other WHATWG members.  But if you're waiting for the

[12:11:14.0000] <cwilso>
W3C to agree that HTML just belongs to WHATWG now, I think you'll be waiting a long time.  So you can either fight that - hard to do, when you want to enable forking just not by the W3C - or figure out how to have a long-term partnership.

[12:13:22.0000] <annevk>
The only way to get a partnership with Jeff Jaffe is if the WHATWG would become subservient to the W3C

[12:13:26.0000] <annevk>
I have tried at great length

[12:15:14.0000] <Domenic>
FWIW I tried this as well with URL :(

[12:16:16.0000] <annevk>
He would love nothing more than for the WHATWG to disappear

[12:16:24.0000] <annevk>
He may or may not deny that

[12:16:24.0000] <wilhelm_>
There are two partly overlapping, partly conflicting uses for this spec. It seems to me that W3C are using the REC rubber stamp as a plot device to sell the web platform as a stable, safe bet for risk-averse organizations.

[12:16:28.0000] <cwilso>
I don't actually believe that, btw.  But I'd flip that statement and say that the only way to get a partnership with the WHATWG appears to be to become subservient to it, as well.  In terms of not having governance/escalation path, patent policy, etc.

[12:17:21.0000] <annevk>
The WHATWG is happy to work with the W3C. E.g. when the W3C picked up the ball on DOM Parsing & Serialization, we didn't call our year-old version done, but instead installed a redirect

[12:17:27.0000] <wilhelm_>
With that as a goal, the actual content of the spec is somewhat irrelevant. This is a political game, not a quest for interoperable implementations.

[12:18:09.0000] <cwilso>
But you don't want to do that in other areas, and certainly not the flagship of HTML.

[12:18:30.0000] <annevk>
cwilso: why wouldn't we?

[12:18:45.0000] <annevk>
cwilso: actually, large parts of HTML have been taken over in some form or other

[12:18:56.0000] <annevk>
cwilso: e.g. WebRTC, the WebSocket protocol by the IETF

[12:19:11.0000] <cwilso>
wilhelm_  I don't think it's a plot device, but sure, it should be an indication that HTML is more stable than it was a couple of years ago.  I think it has built up to be a far greater "milestone" than it should be considered.

[12:19:46.0000] <cwilso>
annevk: why is it okay for those parts to be subjected to the W3C, but not others?

[12:20:53.0000] <annevk>
cwilso: again, who says it's not?

[12:21:41.0000] <cwilso>
Well, you seem offended that the W3C still wants to work on the core HTML spec.  Or URL.

[12:22:02.0000] <annevk>
I'm offended that they copy

[12:22:15.0000] <annevk>
If they did actual work it would be a different story

[12:25:04.0000] <cwilso>
I think their "copying" can fall in two categories - 1) A stable direct copy of a WHATWG spec, which frankly if you'd just go along with having stable references that point people to the living work but don't change themselves, but don't say "this is for lawyercats only" at the top, probably wouldn't need -

[12:27:24.0000] <annevk>
Domenic: suggestions welcome for where to put the URL https://github.com/whatwg/web-apps-tracker

[12:27:41.0000] <Domenic>
annevk: even if just "HTML standard" was a link

[12:28:00.0000] <annevk>
Domenic: wouldn't that be confusing with it being a link from the revision pages?

[12:28:33.0000] <Domenic>
annevk: ah didn't realize that that became a link on subpages

[12:28:45.0000] <annevk>
cwilso: not sure everything came through

[12:28:52.0000] <cwilso>
2) actual work happening inside the W3C, whether that's due to people who have been disenfranchised in the WHATWG or those who just can't work there (e.g. for patent policy reasons like MSFT)

[12:29:02.0000] <cwilso>
(sorry, still typing)

[12:29:04.0000] <Domenic>
annevk: Maybe "See the latest revision at https://html.spec.whatwg.org/" underneath the header.

[12:30:18.0000] <cwilso>
I think 1) should be resolvable with some compromise on both sides.  2) is harder.

[12:31:20.0000] <cwilso>
woop, [afk:lunch]

[12:31:52.0000] <annevk>
Domenic: added a link

[12:33:35.0000] <annevk>
cwilso: it is somewhat frustrating that nobody thus far has made an actual compelling case around the stable reference thing

[12:33:52.0000] <annevk>
cwilso: I mean yes, we can do that and we probably will since it's useful sometimes to look at older copies

[12:34:37.0000] <annevk>
cwilso: but the argument usually boils down to "you don't understand"

[12:35:18.0000] <Domenic>
annevk: thanks, now https://twitter.com/domenic/status/527174136125067264 works better.

[12:35:25.0000] <annevk>
heh https://twitter.com/w3cmemes/status/527179540196786177

[12:35:45.0000] <annevk>
#whatwg always wins from AC meetings

[13:28:24.0000] <safinaskar>
hi. i see in news that w3c published final html5. so, now w3c's html5 is fixed, but whatwg's living html will continue to change, right?

[13:42:41.0000] <Domenic>
safinaskar: yep

[13:43:12.0000] <Domenic>
safinaskar: the original WHATWG HTML living standard will continue to be updated with bugfixes, new features, better tracking of implementations, etc.

[13:43:37.0000] <Domenic>
safinaskar: the W3C's HTML5 is based on a year-old copy of the HTML living standard, so there are already a lot of missing commits in that regard.

[13:47:33.0000] <zcorpan>
today is an awesome day

[13:47:41.0000] <zcorpan>
i received chocolate from MikeSmith

[13:48:03.0000] <Domenic>
he is, after all, out of bubblegum

[13:49:17.0000] <cwilso>
annevk: loved that meme, but s/argument/conversation.  :)

[13:50:10.0000] <sgalineau>
/me now understands what AC meetings are for

[13:50:43.0000] <sgalineau>
/me has been an AC rep all along

[13:50:45.0000] <cwilso>
on stable references: I think it's about coalescing stability in the spec, and providing a "good enough target to ship".  Google's generally pretty okay with breaking things for good reason, particularly since we ship again in six weeks if we messed it up.  It's a lot harder when your ship cycle is a couple of years.

[13:51:32.0000] <sgalineau>
/me '...a couple of years' <shudders-at-repressed-memories />

[13:51:33.0000] <cwilso>
sgalineau: AC meetings are for getting email done, I thought?  ;)

[13:51:48.0000] <Hixie>
cwilso: i tried so hard i was actually editing the w3c fork for a while, as you well know since you were chair at the time. Things got worse during my tenure as editor, and despite significant efforts, I was unable to reach a point where i was happy that the w3c's efforts were aligned with the health of the web, and i quit.

[13:52:08.0000] <Hixie>
cwilso: (re you saying we should try to find common ground)

[13:52:13.0000] <sgalineau>
cwilso: I could use some dedicated meme editing time. I guess I should try and convince Carl to let me have a go.

[13:54:43.0000] <annevk>
cwilso: it seems the W3C is not setting such an example with its stable references

[13:55:04.0000] <cwilso>
Hixie: I'm not in any way shape or form suggesting you have not put forth an effort.  And given my experience as chair, I certainly couldn't recommend any other course of action at the time.

[13:55:10.0000] <annevk>
cwilso: e.g. http://www.w3.org/TR/html/browsers.html#security-window

[13:55:30.0000] <annevk>
cwilso: also, such a hypothetical browser company would have to release its browser in tandem with these "stable specifications"

[13:55:46.0000] <cwilso>
or after, actually.

[13:55:51.0000] <annevk>
cwilso: and not be interested in bug fixes caught in the window after the "stable specification" was published and before the browser was released

[13:56:29.0000] <annevk>
cwilso: however, there hasn't been such a product

[13:56:30.0000] <cwilso>
You're being pedantic.  There's a difference between bug fixing a stable specification and adding new features, yes?

[13:57:01.0000] <annevk>
cwilso: no, often new features require refactoring

[13:57:03.0000] <cwilso>
"there hasn't been such a product" => browser company with 2 year release cycles?

[13:57:13.0000] <cwilso>
indeed they do...

[13:57:17.0000] <annevk>
cwilso: e.g. service workers require every specification that does some form of fetching to be written in terms of Fetch

[13:57:31.0000] <sgalineau>
/me grabs popcorn

[13:57:36.0000] <zcorpan>
safinaskar: HTML r8843 will never change

[13:57:47.0000] <cwilso>
Yep, that's gonna take a while to make happen...

[13:58:03.0000] <sgalineau>
zcorpan: we have always been at war with HTML r8843

[13:58:08.0000] <annevk>
cwilso: a browser that synchronizes its release cycle with W3C TR/ REC publications and only implements those (or IETF RFCs; I guess they wouldn't wait for IETF STDs)

[13:58:15.0000] <cwilso>
sgalineau: LOFL!!!!!

[13:59:44.0000] <Hixie>
cwilso: after a few years trying many different approaches and repeatedly experiencing being lied to, misled, treated with no respect, having one's requests ignored or dismissed, and generally being met with disingenuous discussion, there comes a point at which one must cut one's losses.

[13:59:45.0000] <cwilso>
come on, anne, _I_ never said synchronized release cycles.  Don't put words in my mouth.  (Though certainly, I had managers at times in IE who expected that what I would make happen for them is getting a standard released on the day they shipped that reflected IE's behavior.)

[14:00:16.0000] <annevk>
cwilso: it's just not realistic and has never been the case

[14:00:18.0000] <sgalineau>
/me does not understand why the lack of software synchronized with any spec proves something

[14:00:23.0000] <annevk>
cwilso: IE implements drafts as much as the next browser

[14:00:42.0000] <annevk>
cwilso: that some guy in management doesn't understand software engineering ultimately doesn't matter

[14:00:53.0000] <cwilso>
(I agree that is totally unrealistic, and told them so at the time)

[14:02:00.0000] <annevk>
sgalineau: cwilso made the case for snapshots based on products with slow release cycles

[14:02:08.0000] <cwilso>
I don't think "IE implements drafts as much as the next browser", though - though this may change if they truly do ship more.

[14:02:16.0000] <annevk>
sgalineau: I argue that even products with slow release cycles will want to implement drafts

[14:03:01.0000] <sgalineau>
annevk: some drafts yes. but they still prioritize the stable stuff that existing apps depend on a great deal

[14:03:02.0000] <annevk>
cwilso: they give feedback on WHATWG documents

[14:03:39.0000] <sgalineau>
annevk: the number of drafts considered is far larger than the number of drafts implemented, to put it mildly

[14:03:57.0000] <annevk>
(note that "stable stuff" doesn't depend on snapshots, something is stable if it's implemented widely, let's not confuse the two)

[14:05:45.0000] <cwilso>
So why are you putting that cart before the horse?  Why isn't that stable (as defined by "set of features implemented widely) set of features a "snapshot"?  Why is it indistinguishable from the set of stuff that happens to be present in the HTML living standard(TM) as of r8843?

[14:05:47.0000] <annevk>
sgalineau: I guess if you're playing catch up that's true

[14:06:00.0000] <cwilso>
hah

[14:06:06.0000] <cwilso>
no, even if you're not.

[14:06:21.0000] <sgalineau>
annevk: I think doing the stable stuff well, fast, securely, etc. matters even if you're not catching up

[14:06:45.0000] <annevk>
cwilso: because there's no such thing as truly stable

[14:07:01.0000] <annevk>
cwilso: everything is constantly getting refactored

[14:07:03.0000] <cwilso>
so there shouldn't be any indication of stability?

[14:07:13.0000] <cwilso>
I disagree with "constantly".

[14:07:18.0000] <annevk>
cwilso: perhaps

[14:07:41.0000] <cwilso>
Sure, the HTML"5" spec is wildly different than HTML3.2, and factored "a bit" differently.

[14:08:09.0000] <cwilso>
:)  But that doesn't mean you're reinventing the world every month.

[14:08:43.0000] <annevk>
cwilso: no, but e.g. with Fetch I often notice we need additional flags or features

[14:08:58.0000] <annevk>
cwilso: if I also had to maintain some kind of snapshot and try to keep everything sane I would go mad

[14:10:00.0000] <annevk>
cwilso: HTML is so different from HTML3.2 that you would not implement the latter if you started today

[14:10:58.0000] <annevk>
cwilso: Living Standards just make that a little more clear and less dependent on high-level "Plan 2014" SDO planning

[14:12:11.0000] <tantek>
/me grabs some metaphorical popcorn and reads the scrollback.

[14:14:55.0000] <tantek>
ah, that was far too rational an exchange. /me goes back to W3C IRC...

[14:15:30.0000] <annevk>
cwilso: as far as experience goes, I tried the above with XMLHttpRequest btw

[14:15:48.0000] <annevk>
cwilso: we had XMLHttpRequest Level 1, which was "stable", and XMLHttpRequest Level 2, which had the new stuff

[14:16:01.0000] <cwilso>
tantek: sorry to disappoint.  :)

[14:16:05.0000] <annevk>
cwilso: I reached a point where it no longer worked

[14:16:09.0000] <sgalineau>
tantek: I know. I'm sitting here with all this popcorn watching web standard CSPAN. Awkward.

[14:16:13.0000] <annevk>
cwilso: then the W3C appointed 3 people to replace me

[14:16:22.0000] <annevk>
cwilso: I think they now reached the point where they have found it to not work

[14:16:32.0000] <annevk>
cwilso: and they didn't even try to solve any of the problems with the text

[14:16:48.0000] <annevk>
cwilso: though hallvors did improve my original test suite quite a bit

[14:16:55.0000] <wilhelm_>
annevk: A feature set may be somewhat stable, even if the spec prose is in flux.

[14:18:12.0000] <annevk>
wilhelm_: yup

[14:18:13.0000] <wilhelm_>
I can see value in giving a certain feature set a name ("2", "5"). I see no value in stale snapshots.

[14:18:30.0000] <annevk>
wilhelm_: and the less you look at the details, the more stability you find

[14:18:45.0000] <annevk>
wilhelm_: you can even find stability in text that's 700 commits behind apparently

[14:18:52.0000] <annevk>
wilhelm_: and get 60 or so companies to sign off on it

[14:19:14.0000] <gsnedders>
you do need some sort of stability for patent grants

[14:19:21.0000] <gsnedders>
but probably not /that/ sort of stability

[14:19:42.0000] <wilhelm_>
gsnedders: Yes, but we could in theory do stability on a feature set level.

[14:20:09.0000] <annevk>
It might be better if the patent grants were on MDN text

[14:21:05.0000] <wilhelm_>
Yes. A somewhat abstract description of what an API does.

[14:23:45.0000] <gsnedders>
not sure that's good enough for some of the stuff around canvas, for example

[14:23:52.0000] <gsnedders>
given there are quite a lot of very specific graphics patents

[14:28:32.0000] <cwilso>
gsnedders:  not, you do need PRECISELY that sort of stability for patent grants.  It's effectively a legal contract, so it must be stable.

[14:29:16.0000] <safinaskar>
afaik, you (i. e. whatwg) don't like "releases" of the html standard. why? i think it is good to release versions of the standard. this allows to write in the first line of a html document particular version it correspond to

[14:29:16.0000] <cwilso>
Oh yeah, and annevk:  http://www.w3.org/TR/html/browsers.html#security-window that's BRILLIANT.

[14:29:38.0000] <cwilso>
/me hahahaha goes to find his own popcorn

[14:31:20.0000] <TabAtkins>
safinaskar: The first line of your HTML document is "<!doctype html>", which doesn't have versioning info.

[14:32:50.0000] <zcorpan>
/me wonders if https://www.w3.org/Bugs/Public/show_bug.cgi?id=20701 has been shipping for a few days by now

[14:32:54.0000] <tantek>
safinaskar - what's the use-case you're trying to solve?

[14:33:51.0000] <jgraham>
zcorpan: A few days from November 24th I think

[14:34:18.0000] <jgraham>
Maybe we will get a window security model for Christmas

[14:34:32.0000] <safinaskar>
TabAtkins: why? i think writing some particular version in html first line would be better

[14:34:44.0000] <jgraham>
safinaskar: Why do you think that?

[14:34:59.0000] <TabAtkins>
Because browsers don't implement multiple independent versions of any spec, so referring to a specific version doesn't do anything.

[14:34:59.0000] <zcorpan>
jgraham: ok

[14:35:08.0000] <jgraham>
safinaskar: No browser is going to use that information to change behaviour

[14:35:25.0000] <safinaskar>
jgraham: tantek: browser can parse the first line and then decide which standard use to parse the html document

[14:35:26.0000] <zcorpan>
jgraham: i've always wished for a window security model

[14:35:36.0000] <jgraham>
safinaskar: it turns out that down that route lies madness

[14:35:56.0000] <jgraham>
zcorpan: I hear that it's this year's must-have item

[14:36:22.0000] <tantek>
safinaskar: what does that have to do with a user? what task is the user attempting to accomplish in your scenario?

[14:37:31.0000] <safinaskar>
tantek: this will make all html documents (created for different versions) working and this, of course, make user happy

[14:38:12.0000] <TabAtkins>
safinaskar: The closest thing we have for that is that IE ships several old rendering engines, so it can render old intranet pages that were written  for IE6 in a stable way.  But (a) that doesn't correspond to spec versions at any point, it's just a collection of whatever specs were implemented at the time, plus all the bugs, and (b) it's terribly painful

[14:38:12.0000] <TabAtkins>
for them, and literally no one else is willing to do anything like that.

[14:38:13.0000] <tantek>
safinaskar: based on what evidence are you asserting "this will make all html documents (created for different versions) working" and in what browsers and on what devices? how do you determine "working"?

[14:38:18.0000] <tantek>
with what test suite?

[14:39:26.0000] <safinaskar>
in lots of situations some source code specifies its version. perl 6 scripts have "use v6" in the beginning. c code for posix 2008 have "#define _POSIX_C_SOURCE 200800L" in the beginning. html documents until html 5 had version info in the beginning. so why not?

[14:39:34.0000] <cwilso>
/me crunches some more popcorn

[14:39:59.0000] <wilhelm_>
I'm disappointed there is no popcorn available by the coffee stations. That would be useful.

[14:40:27.0000] <cwilso>
wilhelm_: count yourself lucky if there's COFFEE by the coffee stations.

[14:40:47.0000] <jorendorff>
JonathanNeal: filinga bug against our ToLength implementation now

[14:41:02.0000] <JonathanNeal>
jorendorff: thanks for the response =)

[14:41:14.0000] <tantek>
safinaskar: since you're talking about procedural code, perhaps you should start with making these requests of Javascript first rather than HTML, which is declarative and has a very different processing model from any procedural code.

[14:41:18.0000] <JonathanNeal>
Out of curiousity, filing a bug against the spec or the browser?

[14:41:25.0000] <wilhelm_>
(c:

[14:41:30.0000] <zcorpan>
safinaskar: it's better to have a single implementation that handles all content

[14:41:47.0000] <safinaskar>
currently <!DOCTYPE html> in the beginning says that this is html 5. but after 10 years this line will say that "this is html 5 or html 6 or html 7". and this is wrong

[14:41:59.0000] <jorendorff>
JonathanNeal: The browser. Actually there's an existing bug on file: https://bugzilla.mozilla.org/show_bug.cgi?id=924058

[14:42:38.0000] <zcorpan>
safinaskar: it doesn't say "this is html5". it says "use standards mode" as opposed to "use quirks mode" (which is what you get for e.g. no doctype)

[14:43:05.0000] <zcorpan>
safinaskar: (quirks mode/standards mode was a mistake)

[14:43:31.0000] <tantek>
safinaskar - or no one will work on something called html 6 or html 7

[14:44:19.0000] <tantek>
zcorpan: happy to hear your revisionist history about alternatives that could have fixed CSS box model workarounds without quirks/standards mode.

[14:44:37.0000] <safinaskar>
tantek: "based on what evidence" - in all browsers which support this versions

[14:45:01.0000] <zcorpan>
tantek: we could have opt-ins to different behavior in css instead of keying off the doctype

[14:45:02.0000] <tantek>
safinaskar: sounds like a tautology "support this versions" vs. "working" - you're using each to define the other = tautology.

[14:45:38.0000] <SimonSapin>
A tautology is when you define things tautologically.

[14:45:41.0000] <tantek>
zcorpan - doctype switching was the simplest and least work for web devs. and such opt-ins would have not worked for existing content.

[14:45:56.0000] <tantek>
(which depended on *both* behaviors separately)

[14:46:26.0000] <safinaskar>
zcorpan: "it's better to have a single implementation" - of course. but i think this is impossible. there always will be documents created for prev. standards

[14:46:52.0000] <tantek>
safinaskar: let me know when you have a test suite to propose to actually *measure* "supports" or "working" instead of a tautological assertion.

[14:49:24.0000] <zcorpan>
safinaskar: it's not impossible, it's what browsers have always done (except for some versions of IE)

[14:51:06.0000] <safinaskar>
okey, so why programming langs has versions (c89, c99, perl5, perl6, etc) and html (at your opinion) should not?

[14:51:29.0000] <zcorpan>
tantek: existing content wouldn't have depended on both behaviors if css specified the IE box model as the default from the beginning and provided an opt-in to different box model

[14:52:09.0000] <tantek>
zcorpan - except it was IE that diverged from the specified CSS box model, not vice versa.

[14:52:26.0000] <zcorpan>
tantek: so?

[14:52:50.0000] <jyasskin_w>
safinaskar: Not everyone thinks programming languages should have versions. e.g. MSVC supports one variant of C++, with no switch between, say, C++98, C++03, C++11, and C++14. Even most of the compilers with switches (gcc, clang) don't distinguish C++98 from C++03, in order to cut down on implementation complexity.

[14:52:57.0000] <tantek>
so it was too late. IE, by diverging from the spec, caused the divegence in existing content.

[14:53:01.0000] <tantek>
and then we had to support both

[14:53:11.0000] <tantek>
because both existed after IE shipped

[14:53:21.0000] <tantek>
wouldn't matter what you changed where

[14:56:36.0000] <zcorpan>
tantek: the ie box model isn't a quirk that exists in non-IE browsers' quirks modes today so it seems it is not relevant to doctype switching (anymore)

[14:58:33.0000] <zcorpan>
tantek: anyway, going forward we're not going to add more doctype switches, but instead have other opt-ins (e.g. a property to turn off margin collapsing)

[14:59:46.0000] <tantek>
zcorpan - going forward we don't have such a big split in existing content to support, so the situation is different

[15:00:05.0000] <tantek>
AFAIK the ie box model is *still* supported in quirks mode (interoperably even) across browsers

[15:01:11.0000] <zcorpan>
tantek: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/3274 http://software.hixie.ch/utilities/js/live-dom-viewer/saved/3275

[15:02:46.0000] <zcorpan>
tantek: quirks that have survived across browsers is basically https://quirks.spec.whatwg.org

[15:03:08.0000] <sgalineau>
/me missed popcorn hour. #sigh

[15:06:01.0000] <zcorpan>
tantek: i'm happy to fix the history to be more accurate if you can suggest something, btw

[15:09:23.0000] <tantek>
zcorpan - I don't have time to debug your live-dom-viewer examples, however I just pasted in the fragments from http://tantek.com/CSS/Examples/boxmodelhack.html for the IE box model behavior and got that

[15:10:09.0000] <tantek>
if ie box model behavior was dropped at some point, I'd be interested in knowing when - as last time I checked it was still well supported. though I admit to not comprehensively checking that in a number of years.

[15:11:49.0000] <tantek>
(i.e. what year did that change)

[15:13:06.0000] <tantek>
zcorpan, re: the history, at the time, no one had any better ideas. no one had *any* other alternatives either.

[15:14:12.0000] <tantek>
when I did implement the first doctype switching in a shipping browser, the responses were everywhere from "that will never work" to "how did you make that work?" - and slowly more and more folks switched to using "strict" doctypes and the CSS box model.

[15:18:16.0000] <roc>
Firefox never supported the IE box model, not even in quirks mode.

[15:21:09.0000] <zcorpan>
roc: yeah that's my recollection also

[15:25:27.0000] <zcorpan>
tantek: presto supported the ie box model until something like version 9

[15:26:14.0000] <zcorpan>
tantek: but gecko and webkit never did

[16:34:10.0000] <xtrm0>
Hey

[16:34:12.0000] <xtrm0>
whatsup?

[16:59:39.0000] <jamesr_>
congratulations on finishing html5! good work team


2014-10-29
[17:14:26.0000] <Hixie>
i think #whatwg hit peak sarcasm today

[17:14:26.0000] <Hixie>
:-P

[17:20:56.0000] <xtrm0>
ahah Hixie

[17:39:36.0000] <cwilso>
Hixie: don't sell the channel short.  They can do better.  :P

[17:53:27.0000] <JonathanNeal>
jorendorff: you around?

[17:53:48.0000] <jorendorff>
JonathanNeal: Not really! I'm supposed to have gone home by now. What's up?

[17:54:30.0000] <JonathanNeal>
I’m just lingering on that toLength bug in Firefox, and I’m wondering if the spec is right to suggest that Infinity should be capped to the max instead of, say, throwing an error.

[17:55:04.0000] <JonathanNeal>
I can’t think of a scenario when you would intent Infinity to mean something that isn’t Infinity. Do you know why the spec wouldn’t suggest something similar?

[18:31:06.0000] <JonathanNeal>
jorendorff: ^

[02:44:11.0000] <caitp->
Today HTML5 is turned into a standard so we can safely say the O.O() will be widely adopted, if it isn't already everywhere.

[03:26:25.0000] <annevk>
caitp-: is that a quote?

[03:26:39.0000] <caitp->
yes

[03:41:32.0000] <foolip>
caitp-: what's O.O()?

[03:41:56.0000] <annevk>
Object.observe() presumably

[03:42:21.0000] <foolip>
um, am I right to assume that's part of ES6, not HTML?

[03:42:31.0000] <annevk>
foolip: yup

[03:42:35.0000] <annevk>
foolip: ES7 actually

[03:42:38.0000] <foolip>
well, great quote :)

[03:42:41.0000] <annevk>
if all goes well

[03:44:18.0000] <caitp->
I thought you might find the quote entertaining for a number of reasons

[04:40:01.0000] <annevk>
jgraham: http://antirez.com/news/82

[05:58:25.0000] <JonathanNeal>
Is # the official or unofficial symbol for .prototype. ? As in Array#every or Element#matches ?

[06:00:33.0000] <ondras>
it is used in this sense in jsdoc

[07:02:10.0000] <jgraham>
annevk: Yes, exactly that.

[09:26:02.0000] <jorendorff>
JonathanNeal: no idea

[09:37:54.0000] <gsnedders>
what actually changed from the original WebKit AAA?

[10:16:21.0000] <Domenic>
annevk: https://dom.spec.whatwg.org/#interface-nodefilter is a callback interface but it has static properties (constants) which is not allowed according to https://heycam.github.io/webidl/#dfn-callback-interface

[10:17:09.0000] <Domenic>
annevk: it's unclear to me what the global window.NodeFilter is supposed to be/do

[10:18:44.0000] <Domenic>
annevk: I think maybe NodeFilter is an interface but there is also a callback interface containing acceptNode only?

[10:20:11.0000] <Domenic>
annevk: I will file a bug

[10:42:25.0000] <SteveF__>
Domenic: have forwarded your email to list - thanks, I also talked to Rich about getting the funky list restrictions lifted

[10:43:15.0000] <Domenic>
SteveF__: awesome :)

[11:01:01.0000] <Domenic>
Ms2ger: I am trying to update my web platform tests usage but add_result_callback doesn't exist anymore?

[11:01:34.0000] <Ms2ger>
Domenic, looking

[11:03:08.0000] <Domenic>
hmm testharness.js hasn't been updated in a long time so seems likely the problem is on my end

[11:03:14.0000] <Ms2ger>
Or I will when my editor wakes up

[11:03:30.0000] <Domenic>
oh nevermind that's jgraham's fork that's old

[11:04:27.0000] <jgraham>
Yeah, don't look at that :)

[11:04:40.0000] <Ms2ger>
add_result_callback does seem to still be around

[11:05:05.0000] <Domenic>
yeah, maybe loading testharness.js is failing... probably my problem

[11:05:31.0000] <Ms2ger>
That could well be it

[11:06:37.0000] <Domenic>
oh yep i forgot to recursively update my submodules gooood times.

[11:06:51.0000] <jgraham>
Yeah, not sure what to do about that

[11:07:29.0000] <jgraham>
Maybe a script to bootstrap the checkout

[11:08:18.0000] <Ms2ger>
serve.py checking if you're on the wrong commit?

[11:08:24.0000] <Ms2ger>
That'd probably be painful, though

[11:11:25.0000] <Domenic>
it's mostly my fault because jsdom doesn't give good error messages for failing to load a script

[11:11:31.0000] <Domenic>
testharness.js just plain wasn't present on the filesystem

[11:50:24.0000] <annevk>
Domenic: are you more motivated to fix IDL now?

[11:50:33.0000] <Domenic>
annevk: lol, a bit

[11:51:14.0000] <annevk>
I forgot about that constants hack, that is quite ugly

[12:04:36.0000] <annevk>
http://www.w3.org/2014/10/28-webapps-minutes.html#item07 (discussion N about URLs, seemed rubys tried to keep it real)

[12:04:51.0000] <annevk>
One interesting tidbit there Domenic was that the TAG endorses "openstand principles"

[12:05:11.0000] <Domenic>
annevk: yeah... well, timbl does

[12:05:36.0000] <annevk>
Domenic: I see, except when it comes to longdesc or some such :p

[12:06:59.0000] <annevk>
You see, if the W3C actually followed those principles, the call the chairs of the HTML WG made with W3C management with regards to the 25 formal objections would not have been secret

[12:08:19.0000] <Domenic>
annevk: I don't understand the setter part of https://dom.spec.whatwg.org/#dom-attr-value

[12:09:04.0000] <annevk>
Domenic: what's unclear?

[12:09:45.0000] <Domenic>
annevk: what does step 2 accomplish?

[12:10:00.0000] <annevk>
Domenic: mutation observers

[12:10:19.0000] <annevk>
Domenic: if you follow the "change" link...

[12:10:20.0000] <Domenic>
oh i didn't realize "change" was a special algorithm, now it all makes sense

[12:10:32.0000] <Domenic>
I thought it was just trying to reassign "the context object" to a string

[12:10:36.0000] <annevk>
Hah, there's no cheating, follow all the links :p

[12:11:19.0000] <Domenic>
meh, see, ES specs are nice and algorithmic; it would be ChangeAttributeValue(this, newValue, oldValue) :P

[12:12:07.0000] <annevk>
I would be happy to adopt that style some day, once IDL is updated and defines it

[12:12:11.0000] <Domenic>
yesss jsdom's Attr might be spec compliant

[12:12:54.0000] <annevk>
I think for now it's too much work to introduce a new style and keep everything up-to-date

[12:14:13.0000] <Domenic>
yeah

[12:14:19.0000] <Domenic>
best for greenfield

[12:21:51.0000] <Domenic>
Augh converting a DOM implementation that assumes Attr : Node to one that has standalone Attr objects is hard :(

[12:31:12.0000] <Ms2ger>
Domenic, quite

[12:33:46.0000] <annevk>
Domenic: note that it's still unclear whether that will stick :(

[12:59:00.0000] <annevk>
Hmm, why did reddit.com add target=_blank

[12:59:23.0000] <Domenic>
Wait, yeah, no browsers have tried this yet

[12:59:28.0000] <Domenic>
Why am I making jsdom the guinea pig

[13:01:21.0000] <annevk>
/me writes @WHATWG tweets instead of figuring out what is wrong with the script...

[13:01:22.0000] <Domenic>
annevk: yeah I am scared about pages trying to insert text nodes into Attrs

[13:01:40.0000] <annevk>
Domenic: that part Mozilla disabled successfully

[13:01:56.0000] <annevk>
Domenic: Attr's never have children in Firefox

[13:02:01.0000] <Domenic>
nice

[13:02:28.0000] <Domenic>
our main problem in jsdom is we're carrying around a large currently-passing test suite from the original DOM1 + DOM2 tests

[13:02:40.0000] <Domenic>
so every time we make a change like this it means going back and modifying or removing a bunch of tests

[13:02:50.0000] <Domenic>
the alternative is to greenfield everything so we can pass the new web-platform-tests

[13:02:59.0000] <Domenic>
my gut says that will be harder

[13:03:06.0000] <Domenic>
but it's very tempting at times

[13:03:53.0000] <Ms2ger>
Domenic, fwiw, I've been working on submitting equivalent tests for those to wpt

[13:04:12.0000] <smola>
annevk: is there any chance that the normalize-to-percent-encoding-to-uppercase thing is included in the standard?

[13:04:28.0000] <Domenic>
Ms2ger: that would be lovely. Spec-compliant features only?

[13:05:18.0000] <Ms2ger>
Domenic, well, all the stuff that's been thrown out is in dom/historical.html in wpt :)

[13:50:08.0000] <klysium>
TabAtkins: congrats on HTML5 :D

[13:51:04.0000] <TabAtkins>
klysium: Thanks, it was a great achievement for me personally.

[13:53:50.0000] <caitp->
is there like a nice, up-to-date fork of blink somewhere that renders nice blame views and history views? that would be nice

[13:54:00.0000] <caitp->
s/fork/mirror

[13:57:32.0000] <ondras>
http://img.pr0gramm.com/2014/10/29/974763bdab985db9.jpg

[13:57:41.0000] <ondras>
oops, bad window

[13:57:42.0000] <ondras>
sorry.

[14:08:08.0000] <ebureau>
lol. nice

[14:14:16.0000] <annevk>
smola: perhaps, if we can get other implementations to agree

[14:14:27.0000] <annevk>
smola: Chrome does some normalization around percent-encoding

[14:14:47.0000] <annevk>
smola: also other things such as "normalizing" %61 and such

[14:29:09.0000] <annevk>
smola: best way to go about it is to file bug reports

[14:30:15.0000] <annevk>
smola: it may be however that changing casing is not an option and would break some legacy content...

[14:30:51.0000] <Domenic>
rubys: if you happen to watch logs, is your url parser available as an npm package? if so I may want to use it in jsdom

[14:31:07.0000] <Domenic>
OK time to write a Streams blog post

[14:55:52.0000] <annevk>
foolip: suddenly a surge in <img composite> usage

[14:56:12.0000] <JonathanNeal>
Domenic: thoughts on toLength turning infinity into a number? Should it throw instead?

[15:02:34.0000] <Domenic>
JonathanNeal: it should not throw; JS doesn't generally throw for that type of thing

[15:03:51.0000] <JonathanNeal>
How about a resolve to zero? In the off chance that someone passes in an object with a length of Infinity, it takes a real beating on one's system.

[15:04:51.0000] <JonathanNeal>
And Infinity becomes a rather hacky way of writing 9007199254740991

[15:05:20.0000] <JonathanNeal>
I mean 9007199254740992

[15:08:22.0000] <Domenic>
Rounding to the closest allowable length seems fine

[15:08:45.0000] <Domenic>
annevk: OK I wrote up a blog post, how do I post it?

[15:09:25.0000] <Domenic>
or Hixie

[15:10:42.0000] <Domenic>
TabAtkins: looks like no ability to omit editors in Bikeshed still?

[15:12:14.0000] <TabAtkins>
Not yet. File an issue so I won't forget?

[15:12:19.0000] <TabAtkins>
I can do it tonight.

[15:12:59.0000] <Domenic>
I wonder if actually I just want to hide the editor with CSS?

[15:13:11.0000] <Domenic>
the metadata seems OK

[15:41:54.0000] <JonathanNeal>
My patience for this flash video player constantly stalling w3’s 20th anniversary presentation has really got me blue.

[15:42:45.0000] <JonathanNeal>
Somewhat because it’s Flash, and mostly because I can watch it for about 10 minutes before I have to miss 2 minutes waiting for the thing to work again.

[15:55:15.0000] <smola>
annevk: ok, thank you


2014-10-30
[02:11:57.0000] <Ms2ger>
"We're a consensus organization. We need to make the world a consensus organization."

[02:11:59.0000] <Ms2ger>
Spare me

[02:16:32.0000] <ondras>
:)

[03:48:55.0000] <foolip>
annevk: don't scare me :P

[06:17:28.0000] <marksomnian>
what a whole lot of nothing

[06:19:52.0000] <caitp>
someone isn't entertained :z

[09:05:39.0000] <zcorpan_>
<http://www.w3.org/mid/C99B14A348100349A457CD82738FB0AB1BCE0185⊙Mibc>

[09:18:16.0000] <annevk_>
Domenic: at what point can Mozilla implement finally?

[09:18:50.0000] <Domenic>
annevk: when it makes it through a couple stages in the ES7 process would be good... right now there's no proposal

[09:19:08.0000] <Domenic>
annevk: would be good for the Mozilla rep to start a proposal at the next TC39 meeting

[09:20:00.0000] <annevk>
That seems unlikely to happen, unless someone is motivated to do that

[09:20:14.0000] <Domenic>
welp

[09:20:19.0000] <annevk>
I thought finally was pretty hashed out already?

[09:20:31.0000] <Domenic>
a JS polyfill has been written, basically

[09:20:35.0000] <Domenic>
no spec, no tests

[09:20:36.0000] <annevk>
Also, I've no idea who the Mozilla rep is

[09:20:47.0000] <Domenic>
yeah, I was going to say, the only Mozillan at hte last meeting I remember was bz

[09:20:52.0000] <Domenic>
oh and Dave Herman

[09:20:54.0000] <Domenic>
right

[09:21:02.0000] <annevk>
I guess he is it then

[09:21:32.0000] <Domenic>
Meanwhile I'm still trying to get Chrome to remove its non-standard Promise methods

[09:21:36.0000] <annevk>
Seems weird to not have one of the engine guys attend... I guess they all got pretty dismayed by TC39 politics...

[09:21:51.0000] <annevk>
Domenic: oh, I thought that happened?

[09:21:57.0000] <annevk>
Domenic: are they still behind a flag or some such?

[09:21:59.0000] <Domenic>
nope, i was told it would, and then it did not

[09:22:03.0000] <Domenic>
they are there shipping in public

[09:22:20.0000] <Domenic>
in your Chrome console you have Promise.defer, Promise.accept, and Promise.prototype.chain.

[09:22:26.0000] <Domenic>
Very embarassing and ridiculous.

[09:22:47.0000] <annevk>
In the console only?

[09:23:02.0000] <Domenic>
no, no, on public web pages too

[09:23:11.0000] <Domenic>
who knows, maybe this is why Inbox is Chrome-only. (Probably not.)

[09:23:15.0000] <annevk>
whoa no

[09:23:44.0000] <annevk>
V8's release process is broken after all

[09:23:51.0000] <Ms2ger>
/me mumbles something about Chrome claiming they'll remove things

[09:24:37.0000] <annevk>
What was the old name for Promise.resolve again?

[09:25:32.0000] <Domenic>
wow this is ridic https://groups.google.com/forum/#!topic/mozilla.dev.webapi/nW4KoL-6x7A

[09:25:36.0000] <Domenic>
Promise.cast

[09:25:54.0000] <annevk>
At least that is undefined

[09:26:09.0000] <annevk>
Domenic: don't worry about it

[09:26:39.0000] <annevk>
Domenic: coordination with the Taiwan people is still tricky at times, slowly improving

[09:26:45.0000] <Domenic>
heh, ok

[09:35:58.0000] <Hixie>
Domenic: so why are streams a whatwg spec and not part of the es spec? is the whatwg spec status permanent?

[09:36:16.0000] <Hixie>
(just trying to work out how to phrase the entry in spec.whatwg.org)

[09:37:04.0000] <Domenic>
Hixie: well, on a technical level they could be ES, but on a practical level they're largely about I/O, and in particular browser I/O.

[09:37:32.0000] <Domenic>
As for their ES status... it doesn't make much sense to me to put them in the ES spec because the ES standard library is so small and this is like jumping several steps ahead in its expansion

[09:37:44.0000] <Hixie>
k

[09:38:03.0000] <Hixie>
i don't really understand how this differs from promises, politically

[09:38:05.0000] <Domenic>
Now, people might create implementations of this in Node, but I think it's fine for Node to reference WHATWG specs, e.g. for URL or Fetch you could imagine the same

[09:38:05.0000] <Hixie>
but whatever

[09:38:17.0000] <Hixie>
you should drop the "status" section now btw

[09:38:21.0000] <Domenic>
Will do

[09:38:37.0000] <Hixie>
maybe move the last sentence to the header

[09:38:58.0000] <annevk>
Hixie: I think the difference with promises is that they are an integral part of JS and will likely get dedicated syntax

[09:39:09.0000] <Hixie>
why wouldn't streams?

[09:39:56.0000] <annevk>
Hixie: I suspect some kind of asynchronous iterable might, not sure about IO streams in particular

[09:40:02.0000] <Domenic>
yeah

[09:40:20.0000] <Domenic>
streams might become an I/O focused instance of a generic (much simpler) async iterable

[09:40:39.0000] <Hixie>
btw, on an unrelated note

[09:41:21.0000] <Hixie>
wtf is with getOwnPropertyKeys()

[09:41:33.0000] <Hixie>
doesn't that _entirely_ defeat the purpose of Symbols

[09:41:59.0000] <Domenic>
symbols were never supposed to be private

[09:42:02.0000] <Domenic>
they are non-colliding

[09:42:05.0000] <Hixie>
...

[09:42:06.0000] <Domenic>
not private

[09:42:27.0000] <Domenic>
there was a separate private symbols proposal but it got dropped (interaction with proxies was too hard to figure out)

[09:42:40.0000] <Hixie>
proxies are such a mistake

[09:42:51.0000] <Hixie>
they're ruining everything :-P

[09:43:02.0000] <Domenic>
so say our JS engine folks too :P

[09:43:23.0000] <Hixie>
so how do you do private state on an object?

[09:43:31.0000] <Domenic>
WeakMaps work

[09:44:03.0000] <Domenic>
for now

[09:44:23.0000] <Domenic>
we want something better, a few proposals floating around, having perfect-is-the-enemy-of-good problems nailing one down

[09:44:28.0000] <Domenic>
it's a topic for next f2f

[09:45:21.0000] <Hixie>
so what, if you wanted to implement the DOM in JS in a way indistinguishable from a C++ implementation you'd have to have a WeakMap of every DOM node pointing to the actual state of the node?

[09:46:08.0000] <Domenic>
yeah. you could also do what dom.js does and wrap every node in a proxy that disallows access to properties starting with _. Might need to wrap every node in a proxy anyway for cross-origin stuff, at least IIRC that's how Mozilla does it.

[09:46:56.0000] <Hixie>
since browsers don't disallow access to properties starting with _, that wouldn't solve the use case i described

[09:47:19.0000] <Hixie>
also wrapping every node defeats the entire point of a js implementation, which is to drop the wrappers...

[09:47:27.0000] <Domenic>
well, it would be a bit more complicated than that. it would redirect access of properties starting with _ on the wrapped object to a different object.

[09:47:45.0000] <Hixie>
(i'm assuming a one-origin world here, obviously with multiple origins things get more complicated)

[09:48:40.0000] <Domenic>
in a one-origin world weak maps suffice yeah

[09:49:41.0000] <Ms2ger>
Hixie, bah, that wasn't the answer I was hoping for :)

[09:50:38.0000] <annevk>
So I investigated why the Twitter script failed and fixed it

[09:50:50.0000] <annevk>
It turns out that Twython made some meaningless API changes

[09:51:06.0000] <annevk>
e.g. twitter.updateStatus became twitter.update_status

[09:51:17.0000] <annevk>
And the Twython constructor stopped taking named arguments

[09:52:31.0000] <annevk>
Error log also has fun entries such as "[Thu Oct 30 05:25:43 2014] [error] Hostname annevankesteren.nl provided via SNI and hostname html5.org provided via HTTP are different"

[09:52:38.0000] <annevk>
I wonder if people are trying to play tricks

[09:52:40.0000] <Hixie>
Ms2ger: :-D

[09:52:53.0000] <Hixie>
Domenic: weak maps seem like a really lame solution to the problem, but ok

[09:53:12.0000] <Domenic>
Hixie: yeah, they're an interim until we have a nice solution.

[09:54:21.0000] <annevk>
Not according to Mark Miller...

[09:54:50.0000] <Domenic>
I think this last thread convinced him you at least need a hint as to how you're going to be using the weak map, if nothing else

[09:55:48.0000] <Domenic>
at which point new PrivateSymbol(obj) + a nice API is a win vs. `new WeakMap(undefined, { keysAreImportant: true })` + get/set

[09:57:33.0000] <zcorpan>
http://krijnhoetmer.nl/irc-logs/html-wg/20141030 - "after 5" discussion about now

[09:57:42.0000] <Domenic>
Ah, WordPress loves XHTML, I forgot

[09:58:53.0000] <Domenic>
Hmm nope, even after closing my <p> tags it still insists on stripping them.

[09:59:06.0000] <Domenic>
(in the preview at least)

[09:59:19.0000] <caitp>
who doesn't love xhtml

[09:59:47.0000] <Domenic>
Ah just don't switch back to "Visual" mode is the trick

[10:02:45.0000] <annevk>
zcorpan: DataQ?

[10:04:22.0000] <Ms2ger>
zcorpan, tests, tests, tests :)

[10:05:10.0000] <Domenic>
w00t w00t. https://blog.whatwg.org/streams

[10:09:42.0000] <smaug____>
Domenic: why Stream spec doesn't use webidl?

[10:10:41.0000] <caitp>
why would you want engines to generate bindings for your interface automagically?

[10:11:23.0000] <caitp>
and have a canonical source for what those bindings should look like easily laid out in a format that people can understand

[10:13:02.0000] <smaug____>
heh

[10:13:10.0000] <caitp>
but yeah it does actually read a lot more like es262 than html

[10:13:18.0000] <caitp>
is that intentional?

[10:13:28.0000] <Domenic>
it is intentional

[10:13:34.0000] <Ms2ger>
Also wrong

[10:13:36.0000] <smaug____>
but I might say that I don't expect Stream spec to be implemented in Gecko as it is written now

[10:14:11.0000] <MikeSmith>
smaug____: why not

[10:14:12.0000] <Domenic>
it might be possible to make WebIDL semantics match those of the specced (ES-like) semantics via using `any` a lot.

[10:16:00.0000] <smaug____>
MikeSmith: because having webidl makes the behavior of API easier to understand and makes implementing the API a lot easier, and makes the API work consistently with most of the other web APIs

[10:17:08.0000] <MikeSmith>
smaug____: I see. I thought you were saying the actual behavior would not match.

[10:18:06.0000] <smaug____>
I don't know if the behavior what the Stream spec now has maps exactly to webidl interfaces

[10:18:32.0000] <caitp>
well if the plan is to get it implemented alongside es262 and ecma 402, then it might be sensible

[10:19:36.0000] <caitp>
question is whether it's supposed to live under js/ or content/ i guess

[10:19:57.0000] <Domenic>
in Chrome we are investigating ways of implementing it "in V8". Not in the V8 repo, but using the same techniques.

[10:20:26.0000] <smaug____>
why?

[10:20:29.0000] <annevk>
Domenic: WebRTC trying to avoid promises again: https://www.w3.org/Bugs/Public/show_bug.cgi?id=26939

[10:21:04.0000] <annevk>
Domenic: you want to tweet that post?

[10:21:09.0000] <annevk>
Domenic: or have @WHATWG RT you?

[10:21:26.0000] <Domenic>
annevk: just tweeted from @streamsstandard

[10:21:50.0000] <TabAtkins>
Domenic: Hmm, good point about parsing Editors from the text.  You might be right that just hiding it with CSS would help.  I can pop a class on the dt/dd so it's easier to hide.

[10:22:11.0000] <Domenic>
TabAtkins: perfect, I was about to do some :first-child hacks and feel bad.

[10:22:23.0000] <TabAtkins>
Nah, just a sec, I'll do it right now.

[10:22:55.0000] <Domenic>
annevk: on WebRTC, their argument is consistency with other state transitions. Which seems... OK.

[10:23:59.0000] <annevk>
Hiding it with CSS seems bad and might lead to search engine punishment

[10:24:15.0000] <caitp>
do not operate webrtc while driving.

[10:24:26.0000] <Domenic>
We could edit the WHATWG bikeshed header to have no editor

[10:24:39.0000] <annevk>
I think that's better

[10:25:52.0000] <annevk>
Hixie: do you know when DreamHost plans to update your server?

[10:26:09.0000] <Ms2ger>
Domenic, you know, Gecko used to do something like the "in V8" implementation you mention before we implemented WebIDL

[10:26:27.0000] <Ms2ger>
Domenic, it inevitably lead to heaps of security bugs

[10:26:53.0000] <annevk>
Promises in V8 hit some of those issues

[10:27:04.0000] <Domenic>
Ms2ger: *shrug*. not sure about Gecko's architecture. Presumably do something similar to what Gecko ended up doing for promises

[10:27:13.0000] <annevk>
They're still not resolved I think as Allen still doesn't understand event loops...

[10:27:23.0000] <annevk>
Or does, but is not concerned with the differences

[10:29:07.0000] <TabAtkins>
Domenic: Okay, done.

[10:29:14.0000] <TabAtkins>
Domenic: I'll go resolve the issue.

[10:29:47.0000] <TabAtkins>
Just hide dt.editor, dd.editor

[10:29:48.0000] <Domenic>
TabAtkins: thanks :). Opinions on hiding with CSS vs. removing from the header template altogether?

[10:30:10.0000] <Ms2ger>
Latter seems better

[10:30:24.0000] <TabAtkins>
I think you're right that it should stick around in the HTML, so that things which try and parse out editor data for the purpose of bibliography compilation can still receive it.

[10:31:04.0000] <Ms2ger>
Why should editor names be listed in the bibliography anyway?

[10:31:17.0000] <TabAtkins>
Because it's standard biblio format.

[10:31:24.0000] <TabAtkins>
You list authors, which editors are.

[10:31:25.0000] <Ms2ger>
Unicode doesn't, for example

[10:32:52.0000] <annevk>
Is anyone else skimming the "after 5" minutes?

[10:33:02.0000] <Ms2ger>
Not me

[10:33:09.0000] <annevk>
"<tantek> +1 to darobin points about 5.1 has too much in it. Saner to work from CR branch."

[10:33:44.0000] <Ms2ger>
Was anyone expecting the HTMLWG to suddenly make sensible decisions?

[10:33:55.0000] <annevk>
There's also a bit about how they want to avoid copying from Hixie but are not sure if everything in 5.1 needs to be revisited in that light

[10:34:21.0000] <annevk>
And a lot of grand talk about modules (with nobody ending up doing much I suspect)

[10:35:06.0000] <annevk>
I don't know. It's like they don't even realize they needed 10 or so people just to copy-and-paste stuff, and even then ended up with something that's a year old

[10:40:03.0000] <annevk>
Why does Chrome claim mixed content on https://blog.whatwg.org/streams is that because of SHA-1?

[10:45:12.0000] <annevk>
Error console says nothing

[10:53:13.0000] <annevk>
zcorpan: ideas on how to make https://www.w3.org/Bugs/Public/show_bug.cgi?id=26533 work for <img>?

[10:54:08.0000] <annevk>
I like the fetch-settings="" idea, but the existing elements seem to want something even more complicated...

[11:01:38.0000] <Domenic>
annevk: no mixed content in my chrome (stable or canary)

[11:12:06.0000] <wilhelm_>
annevk: The WebDriver spec needs to reference a JSON spec. Which one should we point to?

[11:12:22.0000] <Domenic>
hahahahahahaha

[11:13:19.0000] <Domenic>
probably http://www.ecma-international.org/publications/standards/Ecma-404.htm

[11:14:40.0000] <wilhelm_>
Now, that's a confusing spec name. :D

[11:17:30.0000] <Domenic>
annevk: looks like URL removed <hr title="Separator for the header"> (which is invisible anyway); any reason not to do so for streams too?

[11:23:15.0000] <TabAtkins>
Domenic: That's a weird artifact of the standard W3C style; no need for it in WHATWG, so feel free to kill it from your header file.

[11:23:27.0000] <Domenic>
TabAtkins: ah k, well, see my pull request

[11:23:38.0000] <Domenic>
was wondering if maybe it was for screenreaders or something

[11:24:14.0000] <TabAtkins>
Domenic: You're killing the copyright notice?

[11:24:21.0000] <TabAtkins>
You probably want that *somewhere*.

[11:24:25.0000] <TabAtkins>
Maybe in the footer.

[11:24:27.0000] <Hixie>
annevk: i know nothing about dreamhost updating any servers

[11:25:10.0000] <Domenic>
TabAtkins: yep, in the acknowledgments, see e.g. https://dom.spec.whatwg.org/#acknowledgments

[11:26:13.0000] <TabAtkins>
Oh, ok.

[11:26:27.0000] <TabAtkins>
Merged, thanks.

[11:26:32.0000] <zcorpan>
annevk: i don't know. would be useful to have another feature fleshed out so i better understand how it's supposed to work in simple cases

[11:28:58.0000] <TabAtkins>
Domenic: Do you expect copyright to be different for different WHATWG specs?  If not, it should really move into the boilerplate, so people can't forget to free the document.

[11:29:22.0000] <Domenic>
TabAtkins: not really, but, unsure how to place it as "last sentence of acknowledgments"

[11:30:14.0000] <TabAtkins>
Interesting placement requirement.  That is, by definition, not in the boilerplate.  Why does it have to go right there?

[11:32:53.0000] <Domenic>
it's a nice place, talking about the rights the editor gives away right next to the editor attribution.

[11:35:02.0000] <TabAtkins>
I mean, okay, but it's inconvenient. :/

[11:35:14.0000] <TabAtkins>
(And copyright notices are usually placed somewhere at the end of documents.)

[11:35:45.0000] <TabAtkins>
I just want to help other WHATWG editors avoid forgetting to release copyrights.

[11:35:51.0000] <Domenic>
Interestingly, acknowledgements are the very last thing in DOM

[11:35:53.0000] <TabAtkins>
And you, in the future, when you write more specs.

[11:36:02.0000] <Domenic>
and URL

[11:36:18.0000] <TabAtkins>
Yeah, acks are usually the very last thing, so if you just wanna put it first in the footer boilerplate, it'll generally work.

[11:36:45.0000] <TabAtkins>
(Acks are very nearly boilerplate, in comparison with content, so I think people naturally gravitate to placing it last.)

[11:36:47.0000] <Domenic>
Streams does Conventions > Acks > Conformance > References > Index

[11:37:07.0000] <TabAtkins>
All of those but Acks should just be in the footer boilerplate.

[11:37:42.0000] <Domenic>
yeah the question is ordering. (Also conventions is a bit different at least how i am using it)

[11:39:06.0000] <JonathanNeal>
Is there a marketplace for web apps that isn’t locked to one os or browser?

[11:40:19.0000] <Domenic>
yes, google.com

[11:40:26.0000] <Domenic>
(or bing.com if you're a hipster)

[11:43:02.0000] <TabAtkins>
Domenic: I mean, do what you want, but there's a limit to how much complexity I'm willing to put into Bikeshed to handle ordering preferences when it's just a matter of weak taste preferences.  Every time you want to put something boilerplate-y *before* something spec-specific, you'll have to remove it from the actual boilerplate and reproduce it manually in

[11:43:03.0000] <TabAtkins>
each of your specs.  CSSWG chose to just accept whatever ordering fell out of the spec-specific/boilerplate distinction.

[11:44:06.0000] <Domenic>
TabAtkins: yeah I don't feel strongly. Mostly just following annevk's lead. Which might not be great given he hasn't moved to Bikeshed yet, but at least in terms of output his edits have improved DOM and URL and so I wanted to follow along.

[11:45:02.0000] <JonathanNeal>
Domenic: first, hipsters don’t use bing, second, come on man.

[11:45:32.0000] <Domenic>
Dunno, just wanted to give an option that wasn't affiliated with my employer. DuckDuckGo?

[11:45:38.0000] <caitp>
hipsters microbrew their own search engines, jeeze

[11:46:01.0000] <TabAtkins>
Domenic: Ooh, just realized that you can use the `boilerplate` attribute for this.  You can actually very easily move spec-defined things into an arbitrary position in your boilerplate.

[11:46:26.0000] <TabAtkins>
Domenic: Put an empty <div data-fill-with="foo"></div> in your boilerplate file, then do a <div boilerplate="foo">...</div> in your spec.

[11:46:51.0000] <Domenic>
Ah OK, cool.

[11:46:55.0000] <TabAtkins>
Bikeshed'll shuffle the contents from the `boilerplate` element into the `data-fill-with` element, and remove the now-empty `boilerplate` one from the doc.

[11:47:33.0000] <TabAtkins>
Just make up whatever terms you want; the boilerplate=>data-fill-with movement doesn't care what names are used.

[11:48:08.0000] <Domenic>
(Yay, such a nice, clean header: https://streams.spec.whatwg.org/)

[11:48:28.0000] <TabAtkins>
So you can just put the data-fill-with=copyright right after the data-fill-with=acks, and get the display you want.

[11:48:44.0000] <Ms2ger>
annevk, should hasAttribute call https://dom.spec.whatwg.org/#concept-element-attributes-get-by-name ?

[11:49:21.0000] <TabAtkins>
/me should add a "Making boilerplate for your spec org" doc.

[11:50:07.0000] <Domenic>
^ yes, do that ^_^

[11:51:49.0000] <caitp>
in the old days, boilerplate was a filing cabinet and cost 700 dollars just to set up

[11:53:09.0000] <caitp>
which is about what it costs now depending on how valuable your time is

[11:54:21.0000] <MikeSmith>
JonathanNeal: what kind of web apps are you talking about

[11:56:53.0000] <JonathanNeal>
The kind that becomes a home screen icon. Chrome has something like this, where any page can become its own desktop app. Android and iOS have something similar. But I haven’t seen a repo of all the web apps that can be searched, rated, etc. I might be obvious and I’m missing it

[11:59:59.0000] <Domenic>
you have. it is literally the entire web. that is the beauty of it.

[12:00:15.0000] <Domenic>
"become its own desktop app" is just "bookmark it"

[12:01:31.0000] <JonathanNeal>
no, the beauty of the web is that it’s bigger than just apps but built on on something intended for documents

[12:01:56.0000] <JonathanNeal>
google agnostically aggregates news, i’m looking for something that aggregates apps

[12:02:26.0000] <caitp>
you could call it appgregator!

[12:02:29.0000] <caitp>
new startup idea go

[12:03:25.0000] <SteveF__>
Element.getComputedRole() thread on PF list http://lists.w3.org/Archives/Public/public-pfwg/2014Oct/thread.html#msg120

[12:03:42.0000] <MikeSmith>
JonathanNeal: there is no special "kind that becomes a home screen icon", since you can do add-to-home-screen with literally any web site/app

[12:03:52.0000] <SteveF__>
^^ wrong channel

[12:04:05.0000] <caitp>
can you?

[12:04:17.0000] <MikeSmith>
sure

[12:04:24.0000] <caitp>
you mean through the browser and not via a web api

[12:04:49.0000] <MikeSmith>
that's what JonathanNeal means afaict

[12:04:51.0000] <caitp>
i would be scared if we were letting javascript developers put random things on your home screen

[12:05:41.0000] <MikeSmith>
he's not talking about a web api for adding things to home screen

[12:06:00.0000] <caitp>
i think he was talking about basically a searchable list of applications

[12:06:24.0000] <MikeSmith>
well then, what Domenic said

[12:07:14.0000] <MikeSmith>
twitter.com is an application

[12:07:16.0000] <MikeSmith>
etc.

[12:07:24.0000] <caitp>
it actually wouldn't be a terrible idea, although i'm not sure where the revenue would come from

[12:08:08.0000] <MikeSmith>
it wouldn't be a terrible idea to have a marketplace to help you find applications like twitter.com?

[12:08:23.0000] <caitp>
well, more for the tinier ones

[12:08:39.0000] <caitp>
sort of like a way to find all of the funded and finished kickstarter projects

[12:08:46.0000] <caitp>
without all of the garbage in between

[12:08:50.0000] <caitp>
you'd hate to curate it carefully

[12:09:14.0000] <caitp>
would be a nice way to find new things that might be interesting

[12:09:28.0000] <caitp>
without having to read hacker news all day or something

[12:09:31.0000] <MikeSmith>
the way that the Apple App Store does that so well for you now?

[12:10:00.0000] <MikeSmith>
curates things without all the garbage in between?

[12:11:00.0000] <caitp>
without all the garbage! you know what I'm talking about --- if you were able to find apps via the dewey decimal system instead of by reading the newspaper

[12:11:20.0000] <caitp>
like "find what I'm looking for, avoid self-aggrandizing crap"

[12:12:04.0000] <Domenic>
i think cern tried that for a while

[12:12:07.0000] <Domenic>
then later yahoo

[12:12:11.0000] <Domenic>
they stopped

[12:12:11.0000] <MikeSmith>
yeah

[12:12:47.0000] <MikeSmith>
search engines happened

[12:13:03.0000] <caitp>
they just don't do a very good job at the whole dewey decimal system thing

[12:13:32.0000] <caitp>
and they're happy to show you press releases for a particular popular app of the particular type that you're looking for, rather than a comprehensive list of all entries

[12:13:38.0000] <caitp>
it would be hard to curate, I wouldn't want to do it

[12:13:42.0000] <caitp>
but it would be pretty cool if it existed

[12:14:35.0000] <caitp>
i don't know why i'm saying curate, that's not the word i'm looking for

[12:14:46.0000] <caitp>
word is not in my head right now, will find it later =)

[12:15:24.0000] <caitp>
lets say "collect"

[12:15:24.0000] <mattypants>
aggregate?

[12:15:33.0000] <MikeSmith>
it's kind of not super productive to talk about this in the abstract

[12:16:02.0000] <caitp>
yeah, I'm not claiming this to be a productive use of my time

[12:16:44.0000] <MikeSmith>
caitp: without talking about specific apps I mean

[12:17:23.0000] <caitp>
lets say you wanted to find a list of twitter-like applications

[12:17:30.0000] <MikeSmith>
ok

[12:17:33.0000] <caitp>
if you were to search on google for that, what would you find

[12:17:43.0000] <caitp>
you'd find a whole lot of twitter, and not much else

[12:17:43.0000] <MikeSmith>
you'd find twitter

[12:17:56.0000] <mattypants>
identica

[12:18:06.0000] <MikeSmith>
caitp: right, because in practice there really isn't anything else

[12:18:15.0000] <caitp>
is that why?

[12:18:18.0000] <MikeSmith>
mattypants: right, and nobody uses identica

[12:18:28.0000] <caitp>
in practice it's because anything ubiquitous is going to dominate the search results

[12:18:31.0000] <MikeSmith>
caitp: in that case of twitter, yeah

[12:18:58.0000] <MikeSmith>
nobody searches for twitter-like apps, or wants to

[12:19:02.0000] <MikeSmith>
in the real world

[12:19:23.0000] <mattypants>
microblogs apps

[12:19:40.0000] <caitp>
well sure, your'e probably going to use what your friends and cow-orkers use

[12:20:12.0000] <caitp>
but that might not be a good thing, is what I'm saying

[12:22:06.0000] <MikeSmith>
you find useful stuff on the web mostly just by typing search terms into a web browser that describe what you're looking for

[12:22:30.0000] <MikeSmith>
as end users I don't most of us find that broken, or find it to be a hardship

[12:22:52.0000] <caitp>
it works to a point, but it could be better

[12:24:15.0000] <caitp>
the way things are, you do have people aggregating information for their little areas, and if you find the right aggregator, you're probably good for a while when it comes to that particular area of your interests

[12:24:41.0000] <MikeSmith>
right

[12:37:17.0000] <mattypants>
why is xml based technology, i.e., xhtml less appropriate than the current spec?

[12:37:43.0000] <Ms2ger>
Its draconian error handling is often problematic

[12:37:56.0000] <Ms2ger>
But note that the current spec does include an XML serialization

[12:40:03.0000] <caitp>
i feel like the draconian error handling is actually less problematic than the weirdness that html parsing does ---not that you guys can change it, I know you want to---

[12:42:36.0000] <ekoka>
are they any plans to empower anchors with http methods?

[12:43:53.0000] <mattypants>
caitp, what do you mean by html parsing weirdness

[12:44:09.0000] <caitp>
re-arranging content

[12:44:28.0000] <caitp>
rewriting your users novel

[12:44:39.0000] <caitp>
it's always been a terrible idea

[12:45:03.0000] <caitp>
not only is it more complicated to implement, but nobody actually wants it implemented in the first place

[12:45:13.0000] <caitp>
not a single person on earth is happier with it

[12:45:22.0000] <mattypants>
default formatting?

[13:02:26.0000] <JonathanNeal>
just catching up, thanks for making me feel not-crazy, caitp

[13:02:45.0000] <caitp>
do you feel not-crazy because caitp is crazier? that's how that usually works :p

[13:06:48.0000] <JonathanNeal>
no, i felt less crazy because you understood the usefulness of it

[13:14:44.0000] <wanderview>
jsbell: ping

[13:14:53.0000] <jsbell>
wanderview: ??

[13:15:13.0000] <wanderview>
jsbell: hi!  are you familiar with the blink SW cache API tests?

[13:15:20.0000] <jsbell>
wanderview: yes

[13:15:33.0000] <wanderview>
jsbell: got a minute to compare notes?  I'm trying to run them against gecko

[13:15:40.0000] <jsbell>
wanderview: sure!

[13:16:20.0000] <wanderview>
jsbell: so I'm looking at the vary tests in cache-match.html

[13:16:36.0000] <wanderview>
:-(

[13:16:52.0000] <jsbell>
Whoops, sorry.

[13:16:59.0000] <wanderview>
jsbell: np :-)

[13:17:22.0000] <wanderview>
jsbell: in cache-match.html... shouldn't the second entry in vary_entries overwrite the first entry?

[13:17:50.0000] <wanderview>
since the request for vary_cookie_is_cookie will match the entry for no_vary_header

[13:19:41.0000] <wanderview>
jsbell: it seems the "ignoreVary" test expects all 5 of these entries to exist in the cache

[13:20:24.0000] <jsbell>
wanderview: I believe I agree with your reasoning, let me ponder a bit...

[13:20:46.0000] <wanderview>
jsbell: thanks... I have to run to meet a delivery... back in a bit

[13:33:26.0000] <wanderview>
jsbell: I also saw this issue... not sure if you saw it on blink-dev:  https://groups.google.com/a/chromium.org/forum/#!msg/blink-dev/zNeWtU04TB4/ivBdbRIxuHEJ

[13:36:27.0000] <jsbell>
wanderview: yeah, saw that. I agree in theory; it wouldn't surprise me if the spec needed an addition to cover it (haven't looked in detail, though)

[13:36:50.0000] <jsbell>
wanderview: better test would be with a ?query

[13:38:10.0000] <wanderview>
jsbell: yea... that would work for the prefix test... note, though, there is another test case the explicitly checks to see if match ignores fragment

[13:38:29.0000] <wanderview>
weird that it expects match to ignore fragment, but then expects the fragment to be stored

[13:38:43.0000] <wanderview>
did the spec used to do that?

[13:41:02.0000] <jsbell>
wanderview: probably just an oversight in the test; we wanted to get the tests landed then iterate (fixing code and tests as appropriate); matchAll isn't implemented yet, so it hasn't shown up as test failures.

[13:41:25.0000] <wanderview>
jsbell: ah... I missed that

[13:42:00.0000] <wanderview>
jsbell: the plan is to ship with just match then?

[13:42:05.0000] <jsbell>
wanderview: you can look at the match-match-expected.txt file to see what our code is currently doing

[13:43:44.0000] <mattypants>
"The W3C spec is intended to follow the W3C process to REC." <--- Is REC short for recommendation?

[13:44:18.0000] <jsbell>
wanderview: it seems unlikely we'll get it done before our milestone branch point, and "you can build interesting things without it" so not having it doesn't appear to be a blocker.

[13:44:43.0000] <jsbell>
Wow, lots of negatives in that sentence. :P

[13:44:52.0000] <wanderview>
jsbell: I understood :-) no problem

[13:45:33.0000] <wanderview>
jsbell: if I find other problems with the tests, should I write bugs somewhere?

[13:46:02.0000] <wanderview>
or just ping you here

[13:46:13.0000] <jsbell>
wanderview: please do - crbug.com or ping me

[13:46:27.0000] <wanderview>
jsbell: want me to write bugs for these two issues?

[13:47:03.0000] <boogyman>
wanderview: yes, the url was provided.

[13:47:19.0000] <wanderview>
will do... just wasn't sure if he already did or something

[13:47:53.0000] <jsbell>
wanderview: I haven't, go right ahead :)

[13:52:37.0000] <zcorpan>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=27185 i recall proposing this back in 2005 or so

[13:54:50.0000] <wanderview>
jsbell: did I do this right?  https://code.google.com/p/chromium/issues/detail?id=428965

[13:55:39.0000] <jsbell>
wanderview: looks fine; I'll tag it with labels (since I have permissions)

[13:57:03.0000] <jsbell>
wanderview: also, distracted since the cache batch operations algorithm in the spec appears to have been broken by a recent spec update; squinting to see if i'm crazy or not

[13:57:26.0000] <wanderview>
jsbell: hmm, where?  I haven't looked closely at it recently

[13:59:21.0000] <zcorpan>
hmm can't find anything in the archives though

[14:00:06.0000] <jsbell>
hrm, maybe not...

[14:00:24.0000] <TabAtkins>
Hmm, I can't find that old Sam Ruby blogpost where he talks about a comment that was accidentally allowed through with a well-formedness error (killing his blog), and he couldn't remove it because it was displayed in the blog editting page (making it have a well-formedness error as well).

[14:02:11.0000] <zcorpan>
TabAtkins: maybe you can't find it because it's not well-formed?

[14:02:23.0000] <TabAtkins>
Probably, yes.

[14:03:43.0000] <wanderview>
jsbell: and the second one... thanks again for the help!  https://code.google.com/p/chromium/issues/detail?id=428970

[14:04:58.0000] <TabAtkins>
mattypants: Yes, "REC" is shorthand for Recommendation.

[14:05:22.0000] <mattypants>
Thanks, TabAtkins

[14:07:21.0000] <jsbell>
wanderview: https://github.com/slightlyoff/ServiceWorker/issues/545 last comment. But I may be crazy.

[14:08:45.0000] <wanderview>
jsbell: I agree... it shouldn't look at previously stored data for that check

[14:09:00.0000] <wanderview>
I haven't implemented addAll() yet... so I haven't hit any of this

[14:09:38.0000] <jsbell>
wanderview: nor have we (just a polyfill on top of fetch+put, which misses out on the batch semantics)

[14:09:46.0000] <mattypants>
I'm having trouble interpreting the second sentence of 'The WHATWG spec is intended to describe what browsers should aim for, introducing new features and describing reality in as much, and as accurate, detail as possible. The W3C spec is intended to follow the W3C process to REC.'

[14:10:12.0000] <mattypants>
from whatwg.org's faq

[14:10:17.0000] <mattypants>
"The W3C spec is intended to follow the W3C process to REC"?

[14:10:19.0000] <Ms2ger>
Yes

[14:10:49.0000] <Ms2ger>
Matching reality is not a goal of the W3C spec

[14:11:05.0000] <mattypants>
so the W3C jut wants to get the recommendation snapshot complete

[14:11:38.0000] <Ms2ger>
And get good PR

[14:12:12.0000] <Ms2ger>
It is claimed that there are other goals as well, but actions don't appear to reflect that

[14:12:16.0000] <wanderview>
jsbell: of course the previous wording is also a bit bogus because it doesn't say to match against the request/response pair... it needs the response to do a "match"

[14:18:48.0000] <wanderview>
JakeA: annevk: currently Fetch Request.url getter ignores the fragment...  should Cache therefore also ignore the fragment or are we supposed to somehow get the full URL behind the scenes?

[14:20:14.0000] <wanderview>
just curious what the intention is

[15:35:22.0000] <annevk>
wanderview: caches should ignore the fragment

[15:35:42.0000] <annevk>
wanderview: we could prolly remove it when you initialize a Request

[15:35:53.0000] <annevk>
wanderview: I wasn't sure if there was some point when we wanted to expose it

[15:36:07.0000] <annevk>
wanderview: so I kept it in the data model but not exposed anywhere

[15:36:55.0000] <annevk>
Ms2ger: might be nicer

[15:37:46.0000] <annevk>
zcorpan: if you could write down what's unclear in that bug I'd appreciate it

[15:38:37.0000] <annevk>
zcorpan: the basic idea is that given a URL and some other input the API creates a Request object that is then passed to the fetch algorithm; the Request object is also exposed through an API somehow so people can inspect what kind of request got made

[16:04:22.0000] <wanderview>
jsbell: ^^^ see above from annevk

[16:20:02.0000] <jsbell>
wanderview: thx

[16:28:52.0000] <zcorpan>
annevk: done

[16:55:47.0000] <wanderview>
jsbell: btw, thank you very much for these tests in the first place!  I've found a lot of bugs in my implementation thanks to them :-)

[16:56:14.0000] <jsbell>
wanderview: asanka⊙co authored them, I've just been reviewing/tweaking 'em

[16:56:23.0000] <jsbell>
but on behalf of chromium, you're welcome!

[16:57:30.0000] <Domenic>
wtf document.body.baseURI is ENTIRELY DIFFERENT between Chrome and Firefox

[16:57:33.0000] <jsbell>
wanderview: asanka@ has some of the helpers like promise_test() submitted as changes to testharness.js but they haven't been accepted yet (and we've been a little busy to pester)

[16:58:10.0000] <wanderview>
jsbell: well, I pinged jgraham to help me get these tests running in gecko... as a result he said he was going to go review that PR

[16:58:25.0000] <jsbell>
I love it when a plan comes together!

[16:58:56.0000] <wanderview>
:-)

[16:59:59.0000] <Domenic>
aaand baseURI is just plain undefined in IE11


2014-10-31
[17:00:11.0000] <Domenic>
they have document.URL though! not to be confused with window.URL.

[17:00:20.0000] <jgraham>
/me still has to actually do the review to make the plan come together

[17:00:27.0000] <jgraham>
But I think it's looking good

[17:01:23.0000] <jsbell>
Domenic: you say "they're all incompatible!". I hear "maybe we can delete it!"

[17:01:36.0000] <jsbell>
I doubt we're that lucky

[17:01:56.0000] <Domenic>
jsbell: I wonder if we could. Still for <custom-a> I need access to "the element's base URL"

[17:08:46.0000] <caitp>
this isn't a custom elements thing because you mentioned IE11, so what is it? o_o

[17:20:18.0000] <terinjokes>
does IE11 support global.URL?

[17:20:31.0000] <terinjokes>
s/global/window/

[17:33:14.0000] <caitp>
its not URL, really

[17:52:02.0000] <JonathanNeal>
Let me apologize in advance for not getting it, but is there a browser runnable version of Domenic’s Promise tests?

[17:52:33.0000] <JonathanNeal>
^ https://github.com/promises-aplus/promises-tests

[19:18:42.0000] <JonathanNeal>
Is there a differencee between return undefined; and return; ?

[20:19:21.0000] <roc>
JonathanNeal: I think we'd like Mozilla Marketplace to work cross-browser/OS.

[21:08:40.0000] <zcorpan>
JonathanNeal: no

[21:09:20.0000] <JonathanNeal>
zcorpan: no, there is not a browser runnable version of Domenic’s Promise tests, or no there is no difference between return; and return undefined;, or both?

[21:09:37.0000] <zcorpan>
the return thing

[21:09:51.0000] <Domenic>
caitp: it started with some custom elements stuff, then delved into discovering interop hell.

[21:10:00.0000] <Domenic>
terinjokes: no URL in IE11

[21:10:11.0000] <Domenic>
JonathanNeal: the tests are browserifyable

[21:10:35.0000] <zcorpan>
JonathanNeal: unless you do var undefined or something like that maybe

[21:11:12.0000] <JonathanNeal>
Domenic: is it obvious or do i have to do something tricky?

[21:11:14.0000] <Domenic>
JonathanNeal: there is a difference in certain scenarios e.g. `function f(undefined) { return undefined; } f(5);` or `function (undefined){ /* ... 100s of lines later ... */ function g() { return undefined; /* will return 5 */ } /* ... more code here ... */ }(5)

[21:11:24.0000] <Domenic>
JonathanNeal: if you've used browserify before should be pretty simple

[21:49:39.0000] <JonathanNeal>
Interesting, IE10’s Object.create method does not assign the correct prototype.

[00:25:17.0000] <annevk>
Domenic: note that hopefully only document.baseURI is important going forward

[00:25:34.0000] <annevk>
Domenic: document.body.baseURI will just return that value (if we need to preserve the propery)

[00:31:55.0000] <annevk>
MikeSmith: I closed it, but I notice now that https://www.w3.org/Bugs/Public/show_bug.cgi?id=27202 is spam

[00:31:59.0000] <annevk>
MikeSmith: see the URL field

[04:46:29.0000] <erlehmann>
https://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2011-November/033914.html does not redirect to http://lists.w3.org/Archives/Public/public-whatwg-archive/2011Nov/0186.html

[04:46:34.0000] <erlehmann>
and it is not in the wayback machine

[04:46:48.0000] <erlehmann>
this breaks a link on https://news.ycombinator.com/item?id=3264074

[04:50:10.0000] <annevk>
We don't have an easy way of fixing that

[04:57:46.0000] <erlehmann>
annevk what is it about lists.whatwg.org?

[04:57:51.0000] <erlehmann>
is it gone?

[04:58:22.0000] <annevk>
erlehmann: it's not accessible over TLS

[05:00:01.0000] <erlehmann>
but it was? i see.

[05:26:14.0000] <Ms2ger>
...

[05:26:25.0000] <Ms2ger>
Chrome has a quirk in option.text

[06:12:39.0000] <Ms2ger>
And IE throws on document.createElement("option").label

[06:22:15.0000] <annevk>
Film at 11?

[06:59:33.0000] <Domenic>
annevk: curious in what situations they can be different

[06:59:58.0000] <Domenic>
annevk: although I guess per spec it seems like "the element's base URL" and "the document's base URL" are the same.

[07:00:25.0000] <Ms2ger>
xml:base

[07:01:22.0000] <Domenic>
right -_-

[07:12:05.0000] <annevk>
Domenic: the plan is to nuke xml:base

[07:12:11.0000] <annevk>
Domenic: there's various open bugs on browsers

[07:12:23.0000] <annevk>
Domenic: most browsers don't really respect it...

[07:14:10.0000] <erlehmann>
what is with normal base element?

[07:14:41.0000] <annevk>
erlehmann: that sets the document's base URL

[07:15:04.0000] <annevk>
(and it would be nice if it didn't exist or was not dynamic at least, but...)

[07:19:51.0000] <annevk>
Domenic: https://www.w3.org/Bugs/Public/show_bug.cgi?id=20976 has my rough plan for replacing the current base URL setup, but I'm waiting for either Chrome or Firefox to remove their remaining xml:base support

[07:21:02.0000] <Domenic>
annevk: I just wonder if we can fix chrome's baseURI property to return something sensible

[07:22:27.0000] <Domenic>
wait ... this morning/on my home computer it's being not-retarded... was i hallucinating? will report back when in the office

[07:22:51.0000] <annevk>
Domenic: make it return the associated document's base URL...

[07:23:22.0000] <Domenic>
No wait it's retarded in Canary even on this computer...

[07:25:55.0000] <Domenic>
https://www.dropbox.com/s/hfba5zwbv9ti30y/Screenshot%202014-10-31%2010.25.13.png?dl=0

[07:27:55.0000] <annevk>
Domenic: fascinating

[07:28:24.0000] <annevk>
Domenic: Firefox has about:newtab

[07:28:38.0000] <Domenic>
Yeah seems Chrome opens up a google.com page that uses AppCache

[07:29:11.0000] <Domenic>
In yesterday's cursory testing Firefox had sensible baseURI values, Chrome did the weird filename + querystring thing, and IE gave undefined.

[07:29:24.0000] <Domenic>
This discovery that Chrome 38 gives sensible values too is new

[07:30:34.0000] <annevk>
Hmm, VMWare is broken in OS X 10.10

[07:30:57.0000] <annevk>
If IE returns undefined, can we do away with baseURI? Would be too good to be true I'm sure

[07:32:46.0000] <Domenic>
OMG

[07:32:49.0000] <Domenic>
OMG

[07:32:50.0000] <Domenic>
OMG

[07:32:54.0000] <Domenic>
Developer tools is fucking with me

[07:33:20.0000] <Domenic>
document.baseURI

[07:33:21.0000] <Domenic>
"newtab?espv=2&ie=UTF-8:1"

[07:33:21.0000] <Domenic>
"hello" + document.baseURI

[07:33:21.0000] <Domenic>
"hellohttps://www.google.com/_/chrome/newtab?espv=2&ie=UTF-8"

[07:34:11.0000] <annevk>
o_O

[07:34:47.0000] <ondras>
:-)

[07:34:50.0000] <erlehmann>
lelele

[07:35:09.0000] <erlehmann>
ondras

[07:35:09.0000] <erlehmann>
lest we meet again

[07:35:20.0000] <ondras>
:-)

[07:36:01.0000] <ondras>
/me has been idling on this channel for ages

[07:36:44.0000] <erlehmann>
never seen you befor

[07:36:54.0000] <erlehmann>
JonathanNeal how about the table sortable polyfill?

[07:37:40.0000] <erlehmann>
document.baseURI

[07:37:40.0000] <erlehmann>
"https://www.google.de/_/chrome/newtab?espv=2&ie=UTF-8"

[07:37:40.0000] <erlehmann>
'hello'+document.baseURI

[07:37:40.0000] <erlehmann>
"hellohttps://www.google.de/_/chrome/newtab?espv=2&ie=UTF-8"

[07:37:47.0000] <JonathanNeal>
erlehmann: what about it? =D

[07:37:50.0000] <erlehmann>
chromium Version 37.0.2062.120 Debian jessie/sid (281580)

[07:37:57.0000] <erlehmann>
JonathanNeal how far along is it?

[07:38:32.0000] <Domenic>
erlehmann: yeah it's a regression from M38

[07:38:37.0000] <Domenic>
https://code.google.com/p/chromium/issues/detail?id=429178

[07:38:59.0000] <Domenic>
I always wondered if I had a one-character email address (d⊙dm) whether the bug tracker would insert ...s after the character (d...⊙dm). Turns out it does.

[07:39:59.0000] <JonathanNeal>
Firefox is funny. typeof XMLHttpRequest /* “function" */ XMLHttpRequest instance Function /* true */ XMLHttpRequest.name /* “” */ Function.prototype.toString.call(XMLHttpRequest) /* TypeError */

[07:40:38.0000] <JonathanNeal>
erlehmann: paused development a while back, but i’d be happy to work on it today.

[07:40:57.0000] <Domenic>
JonathanNeal: that *is* weird.

[07:41:35.0000] <Domenic>
XMLHttpRequest.toString() works

[07:41:48.0000] <Domenic>
Function.prototype.toString !== XMLHttpRequest.toString apparently

[07:42:04.0000] <Domenic>
I wonder if that's true for all DOM objects

[07:42:24.0000] <JonathanNeal>
Maybe. Similarly, Safari considers XMLHttpRequest an object.

[07:43:18.0000] <annevk>
Domenic: I guess you didn't have any luck with that panel the other day as WebRTC decided to not require TLS

[07:43:57.0000] <annevk>
Domenic: I'm thinking of putting W3C's infamous Formal Objection to test when the time is there to see if that can be reversed

[07:44:02.0000] <JonathanNeal>
erlehmann: would you like to help me get back to speed with table sort?

[07:44:12.0000] <Domenic>
annevk: ummm they were supposed to add a note encouraging browsers to ship with only TLS

[07:44:15.0000] <annevk>
Domenic: though with the latest STFU to Apple about longdesc I don't have much hope

[07:44:26.0000] <Domenic>
annevk: I think it's a non-starter to require HTTPS for GUM but not for webkitGUM though

[07:44:45.0000] <annevk>
Domenic: why can't they make migration happen?

[07:44:53.0000] <Domenic>
annevk: isn't that up to browsers?

[07:45:31.0000] <annevk>
Domenic: if we leave security up to browsers, should we leave APIs up to them too?

[07:45:59.0000] <Domenic>
annevk: IMO they should have a note like https://xhr.spec.whatwg.org/#sync-warning

[07:46:52.0000] <Domenic>
i will send an email

[07:47:08.0000] <Domenic>
i looked at too much internet today before breakfast, need to get to the office and eat...

[07:52:01.0000] <annevk>
Domenic: they can do better than that I think, flag day seems feasible

[07:52:23.0000] <annevk>
Domenic: but yes, actual deprecation would be good

[07:52:45.0000] <annevk>
Domenic: the resolution of the bug I tweeted made it sound like they would just add some text about how it's bad but not have an actual plan

[07:53:30.0000] <JonathanNeal>
When ToLength caps lengths at 2^53-1, why is that? The bit limit in JavaScript?

[07:56:20.0000] <MikeSmith>
annevk: thanks (about that bug)

[07:57:30.0000] <JonathanNeal>
^ http://people.mozilla.org/~jorendorff/es6-draft.html#sec-tolength

[07:58:34.0000] <boogyman>
JonathanNeal: it would make sense if that were the case

[07:59:28.0000] <boogyman>
gaps start to appear beyond that definition.

[08:03:23.0000] <Ms2ger>
JonathanNeal, once you cross that limit, not all integers are representable as IEEE doubles

[08:04:34.0000] <JonathanNeal>
Thanks. noted.

[08:34:22.0000] <Domenic>
annevk: "authenticated" is the new "secure" w.r.t. origins?

[08:35:11.0000] <annevk>
Domenic: it's not stable

[08:35:30.0000] <annevk>
Domenic: and it's not tied to origins

[08:36:05.0000] <annevk>
Domenic: https://w3c.github.io/webappsec/specs/mixedcontent/#powerful-features is the current thinking of Mike and I

[08:36:09.0000] <annevk>
Domenic: mostly Mike

[08:43:27.0000] <annevk>
https://annevankesteren.nl/2014/10/tls-browser-ui

[08:48:13.0000] <Domenic>
annevk: enumerateDevices is privacy-sensitive from my understanding, yes? Although just in the fingerprinting sense...

[08:49:41.0000] <annevk>
Domenic: prolly

[08:51:03.0000] <Ms2ger>
Hm

[08:51:58.0000] <Ms2ger>
Is it expected that canvas2d font parsing depends on quirkiness?

[09:30:39.0000] <Hixie>
erlehmann: lists.whatwg.org was never accessible via TLS, but we have HSTS set up for whatwg.org now so browsers who have visited whatwg.org won't accept to visit lists.whatwg.org except through TLS

[09:31:16.0000] <Hixie>
erlehmann: if you visit the URL with http:// rather than https:// in a browser that has never seen whatwg.org, you can copy-and-paste the text from that URL into Google and get the w3.org equivalent.

[09:31:24.0000] <Hixie>
someone should write a cgi script to just do that

[09:33:07.0000] <erlehmann>
but that means there is a cert for whatwg.org … but not for subdomains?

[09:40:43.0000] <Hixie>
we have a cert

[09:40:53.0000] <Hixie>
we just have no way to install it for lists.whatwg.org specifically

[09:40:58.0000] <Hixie>
because that subdomain is run by dreamhost

[09:48:25.0000] <Domenic>
Hixie: that clean-browser trick won't work once we make it onto the HSTS preload list

[10:14:06.0000] <Hixie>
Domenic: yeah, you'll have to use an old browser

[10:39:00.0000] <annevk>
https://unicorn-wg.github.io/sslv3-diediedie/ heh

[11:11:17.0000] <annevk>
http://tantek.com/2014/304/b1/url-started-as-udi-conversation-w3c-tpac is relevant to my interests

[11:11:42.0000] <annevk>
Did not realize URN started at around the same time or was already ongoing

[11:26:44.0000] <TabAtkins>
JonathanNeal: In particular, between 2^53 and 2^54-1, only even integers can be represented. Between 2^54 and 2^55-1, only integers divisible by 4 can be represented. Etc.

[11:29:56.0000] <TabAtkins>
JonathanNeal: Re "return undefined;", "undefined" is technically a variable on the global object, and can be overridden.  (Unlike true/false/null/etc, which are language keywords and can't be overridden.)  Its initial value is the undefined value.

[11:31:05.0000] <TabAtkins>
So "return;" always returns the undefined value, while "return undefined;" might not.  If you ever explicitly want the undefined value, you can use the "void" operator, which is a prefix operator that takes one value, does nothing with it, and returns undefined.

[11:31:08.0000] <TabAtkins>
Like "void 0"

[11:31:22.0000] <TabAtkins>
(Which also happens to be shorter to type than "undefined".)

[11:33:11.0000] <caitp>
to be fair, global.undefined is [[writable]]: false, [[configurable]]: false

[11:33:29.0000] <caitp>
unless it gets shadowed, which hopefully it doesn't, it doesn't matter

[11:35:18.0000] <TabAtkins>
Right, but most JS code happens inside of a function, so you shadowing a legit possibility.

[11:35:50.0000] <caitp>
not if you smack anyone that tries to check in code declaring a variable named `undefined`!

[11:42:49.0000] <TabAtkins>
Sure, sure.

[11:43:40.0000] <TabAtkins>
But, for example, jQuery goes out of its way to keep this from being a problem by taking a final argument in its init code that they don't actually pass (just so they get a guaranteed undefined value).

[12:05:43.0000] <smola>
"file" -> Unfortunate as it is, this is left as an exercise to the reader. When in doubt, return a new globally unique identifier.

[12:05:59.0000] <smola>
LOLSTANDARD? :p

[12:12:29.0000] <smola>
annevk: I'm trying to catch up with the URL Standard changes... what's with all the blob stuff?

[12:12:40.0000] <smola>
having an associated object to a URL seems out of scope

[12:14:15.0000] <smola>
stuffing File API internals into the URL Standard looks like a call to "include all URL schemes' internals into the spec"

[12:14:44.0000] <smola>
(e.g. git://, ed2k://, magnet:...)

[12:20:18.0000] <annevk>
smola: it's something the web platform needs, but you can ignore that

[12:20:29.0000] <annevk>
smola: i could probably write it down more cleanly

[12:22:30.0000] <smola>
annevk: it would be nice to have a note, somewhere, noting that "blob" stuff is for people implementing the File API, or for the "web platform", or something like that

[12:23:34.0000] <smola>
I just want to spare me arguments about why that doesn't need to be implemented in a "non-web context" to comply with the URL parsing standard

[12:24:15.0000] <MikeSmith>
annevk: sounds like you need to add some text defining different conformance classes

[12:24:30.0000] <annevk>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=27215

[12:24:35.0000] <annevk>
smola: MikeSmith: ^^

[12:24:44.0000] <annevk>
patches welcome :p

[12:24:57.0000] <MikeSmith>
:-)

[12:25:09.0000] <smola>
annevk: \o/

[13:14:20.0000] <Hixie>
if i have an expression with an object literal, as in { foo: 'bar' }

[13:14:35.0000] <Hixie>
i can add methods to it by making the property value be a function

[13:14:48.0000] <Hixie>
is there an object literal syntax to add getters and setters?

[13:15:07.0000] <Domenic>
Wierd, InfoQ basically copied the "model" section of the streams spec + some questions into a news article. http://www.infoq.com/news/2014/10/whatwg-streams

[13:15:28.0000] <Domenic>
Hixie: yes, `{ get foo() { return 'bar'; } set foo(v) { ... } }

[13:17:21.0000] <Hixie>
Domenic: does anyone implement that?

[13:17:26.0000] <Domenic>
Hixie: IE9+

[13:17:32.0000] <Domenic>
(and everyone else, obviously)

[13:17:56.0000] <Hixie>
{ set foo(a) { } } in Chrome gets me a syntax error

[13:18:14.0000] <Hixie>
oh i have to make it an expression

[13:18:15.0000] <Domenic>
wrap it in parens

[13:18:16.0000] <Hixie>
i see

[13:18:16.0000] <Domenic>
yeah

[13:18:41.0000] <MikeSmith>
InfoQ is hard to take seriously. I wonder who actually reads it, or why

[13:19:45.0000] <Domenic>
agreed. it seems like a quantity thing?

[13:38:17.0000] <wanderview>
jsbell: ping

[13:46:33.0000] <wanderview>
jsbell: wrote a bug instead: https://code.google.com/p/chromium/issues/detail?id=429316

[13:47:52.0000] <jsbell>
wanderview: I think the intent is that put() implicitly clones (or eventually tees the stream)

[13:48:11.0000] <wanderview>
jsbell: I think the decision was not to do implicit clones

[13:48:18.0000] <wanderview>
let me find the issue

[13:50:00.0000] <wanderview>
jsbell: it was the result of this (long) issue

[13:51:01.0000] <wanderview>
seemed to come to the explicit clone conclusion

[13:54:01.0000] <jsbell>
wanderview: https://github.com/slightlyoff/ServiceWorker/issues/510

[13:55:08.0000] <wanderview>
jsbell: that only prevents marking the body used when doing cache.Match(myRequest)

[13:55:34.0000] <wanderview>
it avoids invoking the Request copy constructor... only create a Request object if a string was passed in

[13:56:05.0000] <wanderview>
but it doesn't stop the Cache from reading the body in order to store the Request in cache.put()

[13:56:10.0000] <jsbell>
wanderview: ah, right...

[13:56:32.0000] <wanderview>
sorry, I have to head out early to take my daughter trick-or-treating

[13:57:44.0000] <jsbell>
wanderview: kk; I think you should raise a spec issue on this; I don't see anything in the specs that would actually set the used flag, even if conceptually it "should"

[13:57:57.0000] <wanderview>
k

[13:58:35.0000] <wanderview>
I just don't see how it could not if we must retrieve the Request in keys()... means the cache had to store the body

[14:01:41.0000] <wanderview>
jsbell: https://github.com/slightlyoff/ServiceWorker/issues/550

[14:02:29.0000] <jsbell>
wanderview: thx; Happy Halloween!

[14:02:45.0000] <wanderview>
np... Happy Halloween to you too!

[15:01:09.0000] <annevk>
MikeSmith: InfoQ ends up generating a ton of tweets somehow

[15:04:43.0000] <MikeSmith>
yeah

[15:04:56.0000] <MikeSmith>
kind of baffling

[15:06:11.0000] <Hixie>
anyone know if JS has static properties?

[15:06:32.0000] <Hixie>
i want my class { } thingy to define a property that appears on the constructor and the instances, readonly

[15:10:08.0000] <annevk>
Hixie: per IDL constants are non-writable non-configurable properties

[15:10:10.0000] <Domenic>
Hixie: proper static properties don't exist on the instances, only the class

[15:10:24.0000] <annevk>
Hixie: not sure if there's sugar though

[15:10:27.0000] <Domenic>
Hixie: but you can do `class { static foo() { } static get bar() { } } etc

[15:12:15.0000] <Hixie>
Domenic: k

[15:46:31.0000] <TabAtkins>
Hixie: Or with today's JS, you just add them as properties on the constructor function, rather than the prototype.

[15:46:48.0000] <TabAtkins>
Instances wont' get it.

[15:47:11.0000] <TabAtkins>
You'd have two forms of inheritance (from constructor and from prototype), which we've rejected in general.

[15:52:53.0000] <Hixie>
yeah

[15:53:06.0000] <Hixie>
i always get a headache when trying to fiddle with JS prototype stuff

[16:02:29.0000] <Domenic>
Is https://html.spec.whatwg.org/multipage/rendering.html#phrasing-content-3 missing `:link { cursor: pointer; }` ?

[16:04:05.0000] <jgraham>
Hixie: With the focus spec, is it possible to have the document node be the focused one?

[16:04:24.0000] <Hixie>
jgraham: it's possible to have the viewport be focused

[16:04:38.0000] <Hixie>
jgraham: i don't think the Document node itself can technically be focused itself? but i could be wrong

[16:04:44.0000] <jgraham>
Hixie: Is that the same?

[16:04:52.0000] <Hixie>
Domenic: yeah, looks like it

[16:05:07.0000] <Hixie>
jgraham: not technically

[16:05:18.0000] <jgraham>
Hixie: So I thought that the focused area was always a node?

[16:06:04.0000] <Hixie>
jgraham: oh no, definitely not

[16:06:14.0000] <jgraham>
Or at least always had a DOM anchor

[16:06:15.0000] <Hixie>
jgraham: there's all kinds of crap that can be focused these days that isn't anode

[16:06:24.0000] <Hixie>
the viewport uses the document as its dom anchor iirc

[16:06:32.0000] <jgraham>
OK

[16:07:03.0000] <Hixie>
jgraham: see https://html.spec.whatwg.org/#focusable-area

[16:07:12.0000] <Domenic>
Hixie: shall I file a bug or are you fixing already?

[16:07:21.0000] <Hixie>
Domenic: file a bug

[16:07:24.0000] <Hixie>
thanks

[16:10:17.0000] <Domenic>
Wow did not know (remember?) that :link did not match visited links... fun times

[16:10:35.0000] <Hixie>
:any-link

[16:11:39.0000] <Domenic>
yepyep.

[16:12:20.0000] <Domenic>
can't find a straight answer as to whether :any-link is equivalent to `:matches(a[href], area, link)`, hmm

[16:13:03.0000] <Domenic>
I guess CSS is decoupled from HTML in that respect

[16:13:21.0000] <Domenic>
CSS just says "represents a link ... for example in [HTML5] ..."

[16:14:55.0000] <TabAtkins>
Yeah, it's the host language that defines what a link is.

[16:16:32.0000] <Hixie>
:any-link is equivalent to :matches(:link, :visited)

[16:17:27.0000] <Domenic>
yeah just curious what :link matches I guess

[16:17:30.0000] <Domenic>
in terms of elements

[16:17:36.0000] <Domenic>
gotta trace the references

[16:17:59.0000] <Hixie>
oh

[16:18:01.0000] <Hixie>
that's in the spec

[16:18:02.0000] <Hixie>
html spec

[16:18:04.0000] <Domenic>
yeah

[16:18:05.0000] <Hixie>
search for :link

[16:18:13.0000] <Domenic>
oh it's that easy that sounds nice

[16:18:15.0000] <Domenic>
hmm no :active in the UA stylesheet either

[16:21:50.0000] <jgraham>
Hixie: Thanks

[16:24:17.0000] <Hixie>
jgraham: it's about as far from what browsers implement today as the spec was a few months ago, but the spec has changed drastically in that time, fwiw

[16:24:30.0000] <Hixie>
jgraham: i think the new spec is way more comprehensive in terms of what browsers actually need to do

[16:24:42.0000] <Hixie>
jgraham: so if you haven't read that section recently, now's a good time

[16:26:07.0000] <jgraham>
Hixie: At the moment I'm mainly trying to convince the webdriver people not to define their own concept of focus

[16:26:15.0000] <jgraham>
This has not been too hard, fortunately

[16:26:45.0000] <Hixie>
oh man yeah

[16:26:49.0000] <Hixie>
defining focus is a huge pain

[16:27:12.0000] <Hixie>
i'm pretty sure what the HTML spec has now is close to complete relative to what the web needs

[16:27:17.0000] <Hixie>
so they should just use that

[16:27:41.0000] <wilhelm_>
Other things that should be defined elsewhere and referenced from our spec: visibility, hit testing.

[16:29:44.0000] <Hixie>
/me pretends to have gotten an important phone call and runs out of the room

[16:31:25.0000] <Domenic>
Is there any way for me to be the first subscriber to an event, but only do my thing if no other subscribers call `e.preventDefault()`? Maybe delaying a turn then checking e.defaultPrevented?

[16:32:45.0000] <Hixie>
register yourself on the parent element? :-)

[16:32:57.0000] <Hixie>
what happens if you register yourself during dispatch

[16:33:21.0000] <Domenic>
oooh interesting

[16:33:44.0000] <Domenic>
seems like it would work, although maybe browsers do weird things

[16:44:27.0000] <Domenic>
aww doesn't work

[16:44:35.0000] <Domenic>
setTimeout(, 0) seems like my best bet

[16:46:09.0000] <jamesr_>
Hixie: registering yourself during dispatch should do nothing for that event, the propagation chain is computed before firing any handlers

[16:46:19.0000] <Hixie>
yeah, that seems reasonable

[16:46:20.0000] <Hixie>
pity

[16:49:52.0000] <jamesr_>
otherwise it's insanity

[16:50:57.0000] <Hixie>
totally

[16:51:02.0000] <Hixie>
would have solved this case though ;-)

