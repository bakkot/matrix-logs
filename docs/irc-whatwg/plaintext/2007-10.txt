2007-10-01
[17:36:00.0000] <zcorpan>
hsivonen: your html5 schema doesn't seem to allow noscript in head

[17:36:01.0000] <zcorpan>
/me notes that ebay uses <noscript><meta http-equiv=refresh

[17:45:00.0000] <zcorpan>
hsivonen: http://validator.nu/?doc=http%3A%2F%2Fwww.imageshack.us&showsource=yes -- the "Malformed byte sequence" error doesn't mark any source (and the link thus doesn't work)

[17:47:00.0000] <zcorpan>
hsivonen: also for imageshack: "Error: First occurrence of id mist." (message #6) -- shouldn't that be Info instead of Error?

[17:58:00.0000] <Philip`>
"Fatal Error: Last error required non-streamable recovery." doesn't sound like a very user-friendly message - I think it'd make more sense if it said something like "Fatal Error: Cannot recover after last error - any further errors will be ignored"

[18:11:00.0000] <zcorpan>
hsivonen: the first message in http://validator.nu/?doc=http%3A%2F%2Fwww.wordpress.com&parser=html4tr&showsource=yes seems wrong

[18:18:00.0000] <zcorpan>
hsivonen: perhaps v.nu should know about html 4.0 doctypes. the xhtml 1.0 schemas are a better match than the html5 schema

[01:52:00.0000] <jgraham>
bzed: I forgot that chardet got lost when I accidentially deleted my /bin directory and had to reinstall :)

[01:55:00.0000] <bzed>
:)

[01:55:01.0000] <bzed>
I think I never run the test with chardet isntalled for 0.9 ;)

[01:56:00.0000] <bzed>
but now that I've added the tests to the build process it complained about it

[02:02:00.0000] <Steve_f>
morning all, offtopic - can anybody tell me if events attached using addEventListener() or attachEvent() can be identified in the DOM?

[02:04:00.0000] <jgraham>
bzed: I think the new version I've uploaded fixed the issues you've reported

[02:07:00.0000] <jgraham>
s/fixed/fixes/

[02:14:00.0000] <bzed>
jgraham: same location?

[02:15:00.0000] <jgraham>
Yep

[02:15:01.0000] <bzed>
/me checks

[02:17:00.0000] <bzed>
jgraham: works fine, thanks :)

[02:26:00.0000] <othermaciej>
Steve_f: not via the DOM API, no

[02:40:00.0000] <Steve_f>
othermaciej: thanks

[04:41:00.0000] <hsivonen>
zcorpan: Re: HTML 4.0 (not 4.01): Where should I draw the line with legacy? Validator.nu is a tool for authors. Why should it support a legacy doctype?

[04:42:00.0000] <hsivonen>
/me views source on ln.hixie.ch

[04:45:00.0000] <hsivonen>
zcorpan: Re: first message on http://validator.nu/?doc=http%3A%2F%2Fwww.wordpress.com&parser=html4tr&showsource=yes : you chose the HTML 4.01 Transitional parser expectation. the doc had XHTML 1.0 Transitional. Hence, the error.

[04:51:00.0000] <hsivonen>
zcorpan: what do you suggest I do with the parsing of iframe, title and textarea in the HTML 4.01 mode?

[04:52:00.0000] <hsivonen>
the idea of the mode was to emit additional errors--not to actually give a different document tree

[04:52:01.0000] <zcorpan>
hsivonen: yes, i understand that there should be an error, but the message seems wrong. it says that the doctype was an *HTML* doctype, which it wasn't

[04:52:02.0000] <zcorpan>
hsivonen: oh, nm

[04:52:03.0000] <zcorpan>
hsivonen: missed the "not"

[04:53:00.0000] <zcorpan>
hsivonen: perhaps supress the errors about </foo in iframe, since iframes are supposed to allow "markup" in them

[04:55:00.0000] <hsivonen>
zcorpan: I suppose that on some level that counts as helping authors...

[04:55:01.0000] <hsivonen>
I thought I had http://krijnhoetmer.nl/irc-logs/whatwg/20070930#l-150 already covered

[04:56:00.0000] <hsivonen>
/me looks

[04:57:00.0000] <hsivonen>
zcorpan: what do you suggest re: </ in title and textarea? same as iframe?

[04:58:00.0000] <zcorpan>
hsivonen: you can whine about </ in title and textarea since they aren't supposed to contain elements and can take entities

[04:58:01.0000] <zcorpan>
hsivonen: the w3 validator will also whine about <foo> in title and textarea, fwiw

[04:58:02.0000] <hsivonen>
zcorpan: ok

[05:13:00.0000] <hsivonen>
turns out I hadn't covered the boolean attributes in HTML4 case when parser is set to auto... only with an explicit parser choice

[05:18:00.0000] <zcorpan>
ok

[05:33:00.0000] <hsivonen>
zcorpan: fixes for HTML4 iframe *tokenization* and boolean attributes checked in

[05:33:01.0000] <hsivonen>
and deployed

[05:45:00.0000] <hsivonen>
zcorpan: fixed source hilite with http://validator.nu/?doc=http%3A%2F%2Fwww.imageshack.us&showsource=yes#cl18c27

[05:46:00.0000] <hsivonen>
zcorpan: thank you

[05:46:01.0000] <hsivonen>
zcorpan: (I can't give you an extract for that one, because the extract subsystem has not received decoded Unicode when the error fires on the byte layer)

[05:55:00.0000] <zcorpan>
hsivonen: ok, cool

[07:51:00.0000] <krijnh>
What's considered better? alt="Logo Foo company" or alt="Foo company" ?

[07:58:00.0000] <zcorpan>
krijnh: assuming the context to be the site logo in the page header, and assuming the image doesn't contain the word "Logo"; the latter

[07:58:01.0000] <zcorpan>
s/site logo/company logo/

[07:58:02.0000] <krijnh>
It's not the logo in the page header

[07:58:03.0000] <krijnh>
But a list of partner companies for example

[07:58:04.0000] <zcorpan>
ok, still the latter

[07:59:00.0000] <zcorpan>
what would you write if you used plain text links?

[07:59:01.0000] <zcorpan>
(or s/links//)

[07:59:02.0000] <krijnh>
They aren't links

[08:00:00.0000] <zcorpan>
what would you write if you used plain text?

[08:00:01.0000] <krijnh>
Just the company names

[08:00:02.0000] <zcorpan>
there you go

[08:00:03.0000] <krijnh>
So you're right :)

[08:00:04.0000] <zcorpan>
:)

[08:04:00.0000] <krijnh>
Doh, it's written in the HTML 5 draft

[08:04:01.0000] <krijnh>
Note to self; rtfm :)

[10:16:00.0000] <Philip`>
jgraham: I expect html5lib-0.10.zip shouldn't have tests/testdata/tokenizer/consecutice.patch in it

[10:37:00.0000] <gsnedders>
Philip`: what makes you think that? :P

[10:45:00.0000] <zcorpan>
hsivonen: v.nu is getting really useful now :)

[10:46:00.0000] <zcorpan>
hsivonen: good work

[10:46:01.0000] <hsivonen>
zcorpan: thanks

[12:29:00.0000] <jgraham>
/me wonders why his packaging script isn't removing .patch files

[12:41:00.0000] <jgraham>
OK, so maybe I just needed to reload. Thanks Philip`.

[13:06:00.0000] <Philip`>
jgraham: I tend to do it by using 'svn export' to get a clean copy for packaging, because otherwise I worry I'll accidentally leave embarrassing files in the distribution :-)

[13:28:00.0000] <jgraham>
Philip`: I know I ought to do that but never quite do


2007-10-02
[17:24:00.0000] <Hixie>
jgraham: there are examples of tables without headers on my most recent blog entry

[17:24:01.0000] <Hixie>
also, i imagine the spec might have some

[17:24:02.0000] <Hixie>
though i'm not sure

[17:53:00.0000] <Philip`>
Opera parses <section><p>A</section><section><p>B</section> annoyingly

[17:53:01.0000] <Philip`>
html5lib parses it even more annoyingly

[17:54:00.0000] <Hixie>
oh?

[17:54:01.0000] <Hixie>
indeed

[17:54:02.0000] <Philip`>
parsetree.validator.nu parses it nicely

[17:55:00.0000] <Philip`>
html5lib bug?

[17:55:01.0000] <Philip`>
Oh, no

[17:55:02.0000] <Hixie>
i think parsetree.validator.nu is buggy, technically

[17:56:00.0000] <Philip`>
It's intentionally undefined behaviour in html5lib

[17:56:01.0000] <Philip`>
>>> print html5lib.HTMLParser().parse('<section><p>a</section><section><p>b</section>').printTree()

[17:56:02.0000] <Philip`>
Warning: Undefined behaviour for end tag sectionWarning: Undefined behaviour for end tag section#document

[17:57:00.0000] <kingryan>
Philip`: does it give:

[17:57:01.0000] <kingryan>
<html><head></head><body><section><p>a<section></section></p><p>b

[17:57:02.0000] <kingryan>
</p></section></body></html>

[17:57:03.0000] <kingryan>
?

[17:57:04.0000] <Philip`>
/me just adds </p>s to his code

[17:58:00.0000] <Philip`>
kingryan: It does

[17:58:01.0000] <kingryan>
ok, that's what the ruby port of html5lib gives

[03:00:00.0000] <hsivonen>
"parsetree.validator.nu is buggy, technically" ??

[03:00:01.0000] <hsivonen>
in what way?

[03:05:00.0000] <hsivonen>
source hilite for errors that fire on the tree construction layer should be much better now

[03:08:00.0000] <a-ja>
henri, have a dialog test case you can send thru it? 

[03:18:00.0000] <a-ja>
hsivonen: henri, anyone? have a working dialog test case you can send thru conformance checker? mine's not working for some reason  

[03:19:00.0000] <hsivonen>
a-ja: hmm. I think that part of the conformance checker has not been revised in a while

[03:20:00.0000] <hsivonen>
that is, it is older than the part of spec about dialog

[03:20:01.0000] <hsivonen>
will fix in due course, of course

[03:20:02.0000] <a-ja>
i can't seemt to get it to like dialog anywhere

[03:21:00.0000] <hsivonen>
yeah

[03:21:01.0000] <jgraham>
Hixie: Arguably most of those tables would benefit from some headers with display:none. In fact, arguably cells like the #bits could be considered header cells for the field below, although I guess that might make the user experience worse in a screenreader

[03:21:02.0000] <jgraham>
since the tables are so small

[03:22:00.0000] <a-ja>
fwiw....if i change it to dl, i don't think it chokes on paragraphs in a dd like it should either

[03:25:00.0000] <hsivonen>
a-ja: when you have subtree rooted at an unknown element, Jing spews a lot of garbage about everything in the subtree. I need to suppress that in due course.

[03:26:00.0000] <a-ja>
unknown? tried right under body, in a div, in an article.....nada

[03:26:01.0000] <hsivonen>
a-ja: dialog is unknown for now

[03:26:02.0000] <a-ja>
oh....no wonder :)

[03:27:00.0000] <a-ja>
btw...defended your thesis/project yet?

[03:27:01.0000] <hsivonen>
a-ja: I know it sucks that the schema layer is out of date. sorry. but these other guys keep asking for front end features like textarea and file upload. :-)

[03:28:00.0000] <jgraham>
There is a table in the spec representing a matrix which, in the absence of MathML seems like a fair enough use case for a table with no headers

[03:28:01.0000] <hsivonen>
a-ja: the thesis was accepted earlier this year

[03:28:02.0000] <hsivonen>
a-ja: I graduated on May 21

[03:28:03.0000] <a-ja>
congrats!!

[03:28:04.0000] <hsivonen>
thanks

[03:29:00.0000] <a-ja>
hsivonen: i like the recent f/e work...time well spent

[03:30:00.0000] <hsivonen>
thanks

[03:31:00.0000] <a-ja>
/me won't even mention an addon I'd like <g>

[03:33:00.0000] <hsivonen>
/me is now curious

[03:33:01.0000] <a-ja>
/me imagines it's probably already in the works

[03:34:00.0000] <a-ja>
being able to check local pages

[03:34:01.0000] <hsivonen>
a-ja: as in file upload field?

[03:34:02.0000] <a-ja>
/me wasn't gonnamention it til someone dragged it outta me

[03:34:03.0000] <hsivonen>
a-ja: if you are willing to run a small command-line client, you already can: http://about.validator.nu/html5check.py

[03:35:00.0000] <hsivonen>
a-ja: it uploads to validator.nu

[03:35:01.0000] <hsivonen>
a-ja: if you need it to be confidential, you could run your own copy of the back end on localhost

[03:36:00.0000] <hsivonen>
JVM startup time sucks, so it is a good idea to keep the Java process running instead of making a Java-base command-line tool

[03:36:01.0000] <hsivonen>
(except with gcj, which would be hard)

[03:37:00.0000] <a-ja>
snagged it...may give it a shot later on.  snooze time soon

[03:37:01.0000] <a-ja>
tks

[03:43:00.0000] <hsivonen>
input type='file' is unsuccessful (i.e. absent from the data set) if there's no file selected, right?

[04:37:00.0000] <mpt>
http://notafront.org/~agit/compilation/imgpages/image401.html

[04:53:00.0000] <jruderman>
http://notafront.org/~agit/compilation/imgpages/image393.html

[09:25:00.0000] <annevk>
collegue pointed this out: http://www.unicode.org/mail-arch/unicode-ml/y2007-m09/0229.html (unicode-ml, unicode)

[09:31:00.0000] <gsnedders>
annevk: needs auth to view

[09:31:01.0000] <annevk>
(username, password) does that help?

[09:31:02.0000] <gsnedders>
I tried that

[09:32:00.0000] <gsnedders>
But now looking again, it's -ml not -mi

[09:32:01.0000] <gsnedders>
Now it works :)

[09:38:00.0000] <virtuelv>
heh, http://wafful.org/~takesako/html20hacks/browser-detect3.html

[09:38:01.0000] <virtuelv>
there's some error handling to be handled

[09:39:00.0000] <annevk>
ouch

[09:40:00.0000] <gsnedders>
how do we define error handling without breaking backwards compat? :P

[09:41:00.0000] <virtuelv>
none of my text editors can even open that html document properly

[09:47:00.0000] <annevk>
opening it in a hexeditor doesn't make me much wiser :)

[09:54:00.0000] <zcorpan>
what's appropriate alt text for that <img>? :)

[09:56:00.0000] <gsnedders>
wow. IIS's HTTP parsing is so illogical. No other HTTP implementation has any parser so illogical, as far as I can see.

[10:14:00.0000] <zcorpan>
http://parsetree.validator.nu/?doc=http%3A%2F%2Fwafful.org%2F%7Etakesako%2Fhtml20hacks%2Fbrowser-detect3.html&submit=Print+Tree

[10:15:00.0000] <zcorpan>
seems that opera is compliant and the others aren't ;)

[10:16:00.0000] <zcorpan>
so in the future when other browsers get compliant, they will be sniffed as being opera

[10:38:00.0000] <zcorpan>
<lede>, eh? what's wrong with <b>? :)

[10:39:00.0000] <Dashiva>
<h2 style="font-size: normal; text-align: left;">

[10:40:00.0000] <zcorpan>
hmm, heading doesn't seem like a good fit

[10:40:01.0000] <zcorpan>
you'd also want display:run-in in that case

[10:41:00.0000] <virtuelv>
annevk: that wafful org thing has evil null bytes in it

[10:45:00.0000] <hober>
If the lede is the most important sentence in the article, and <strong> increases its contents' importance, why not use <strong> for marking up ledes?

[10:47:00.0000] <zcorpan>
ok; s/<b>/<strong>/

[10:47:01.0000] <Dashiva>
hober: The idea is to have something with <stronger> semantics than just 'important' :)

[10:48:00.0000] <hober>
Dashiva: sure, and I think I'm pretty supportive of such an element, actually. I was just thinking that <strong> is a better semantic match than <b>

[10:48:01.0000] <Dashiva>
point

[10:49:00.0000] <zcorpan>
<b> and <strong> are equivalent in my brain

[10:58:00.0000] <gsnedders>
/me slaps zcorpan 

[11:00:00.0000] <annevk>
virtuelv, that explains view source in Opera and save as in Opera...

[11:01:00.0000] <annevk>
hober, I agree that <lede> is not needed and that <strong> is sufficient

[11:03:00.0000] <virtuelv>
annevk: it breaks virtually every editor I open it in

[11:04:00.0000] <virtuelv>
gedit: The entire file is garbled

[11:05:00.0000] <annevk>
komodo does like Opera (everything after first null byte is lost)

[11:05:01.0000] <virtuelv>
yes

[11:05:02.0000] <virtuelv>
which is weird, given that scite (which is also based off scintilla) displays them as 'NUL'

[11:07:00.0000] <zcorpan>
notepad2 insists that the file is utf-16

[11:07:01.0000] <annevk>
ah, scite is useful

[11:08:00.0000] <annevk>
it also shows that there's a FF between src and = for the Opera image

[11:24:00.0000] <gsnedders>
why on earth would Safari scroll down a page on load without any <script> whatsoever!?

[11:25:00.0000] <annevk>
you want #webkit

[11:27:00.0000] <gsnedders>
/me needs to write some sort of test case first, though, really

[13:07:00.0000] <gsnedders>
how do WF2-supporting browsers currently render @type=number?

[13:09:00.0000] <annevk>
test in Opera?

[13:10:00.0000] <Dashiva>
Opera has up-and-down arrows at the right side

[13:10:01.0000] <Dashiva>
I never use them, though... 

[14:57:00.0000] <hsivonen>
http://about.validator.nu/file-temp/

[14:58:00.0000] <hsivonen>
http://about.validator.nu/textarea-temp/

[14:58:01.0000] <Hixie>
textarea one should probably not have the "be lax" checkbox

[14:59:00.0000] <hsivonen>
yeah

[14:59:01.0000] <hsivonen>
those aren't intended as UI mockups

[14:59:02.0000] <hsivonen>
just as something that allows the back end to be used before I fix the UI

[14:59:03.0000] <Hixie>
aah

[15:00:00.0000] <gsnedders>
Hixie: I may start sending one or two emails about HTTP parsing to whatwg over the next couple of days, FYI

[15:00:01.0000] <Hixie>
HTTP parsing is probably more usefully sent to the HTTPWG

[15:01:00.0000] <Hixie>
not sure what i'd do with http feedback on the whatwg list

[15:01:01.0000] <Hixie>
though feel free to send e-mails asking for feedback

[15:01:02.0000] <Hixie>
if that's what you mean

[15:01:03.0000] <gsnedders>
Hixie: yeah, just asking for feedback

[15:01:04.0000] <Hixie>
cool

[15:01:05.0000] <gsnedders>
one or two more general comments

[15:02:00.0000] <annevk>
/me is interested in HTTP parsing

[15:02:01.0000] <gsnedders>
most of it will all be done privately as it is mainly specific questions for different implementers

[15:02:02.0000] <gsnedders>
annevk: me too!

[15:02:03.0000] <gsnedders>
though the fact I'm writing a spec on it might be a slight clue :P

[15:02:04.0000] <gsnedders>
Hixie: do you know if the list strips reply-to headers?

[15:02:05.0000] <annevk>
HTTP5?

[15:03:00.0000] <gsnedders>
annevk: no, just http parsing

[15:03:01.0000] <Hixie>
gsnedders: no idea off hand

[15:03:02.0000] <gsnedders>
Hixie: is it worthwhile sending something with a reply-to: me header?

[15:03:03.0000] <gsnedders>
or would you rather replies just went to the list?

[15:03:04.0000] <Hixie>
no opinion

[15:03:05.0000] <Hixie>
either is fine

[15:08:00.0000] <othermaciej_>
we had an http parsing question come up just today on #webkit

[15:08:01.0000] <othermaciej_>
(or was it last night?)

[15:08:02.0000] <othermaciej_>
question was what to do in case of multiple Content-Type headers

[15:09:00.0000] <othermaciej>
http spec does not say how to handle multiple instances of headers that do not allow multiple instances

[15:09:01.0000] <Hixie>
it leaves error handling undefined? shocking

[15:11:00.0000] <annevk>
what happens with a stream with multiple Content-Type headers for instance? lots of specs are defined assuming a single such header

[15:12:00.0000] <hober>
Wasn't someone working on a real-world HTTP header parsing spec?

[15:12:01.0000] <annevk>
see above

[15:13:00.0000] <hober>
Ahh. I was going to suggest that gsnedders talk to whomever it was. :)

[15:26:00.0000] <Philip`>
hober: It would be a sign of madness if he did :-)

[15:26:01.0000] <hober>
indeed.

[15:44:00.0000] <Hixie>
http://www.w3.org/mid/C327DDAE.6B8F%25jason.cranfordteague⊙cac is beautiful

[15:47:00.0000] <jruderman>
are any of those urls public?

[15:47:01.0000] <gavin_>
no

[15:48:00.0000] <Hixie>
/tag/ is i think

[15:48:01.0000] <Hixie>
it was also sent to public-html

[15:48:02.0000] <annevk>
nope

[15:48:03.0000] <Hixie>
though that doesn't seem to be on that list

[15:48:04.0000] <annevk>
just www-tag

[15:48:05.0000] <Hixie>
ah ok

[15:48:06.0000] <Hixie>
didn't know there were two

[15:49:00.0000] <gavin_>
I didn't get it on public-html

[15:49:01.0000] <Hixie>
hm, i guess not

[15:49:02.0000] <Hixie>
odd

[15:49:03.0000] <Hixie>
the e-mail was two words long

[15:50:00.0000] <Hixie>
it just said "Thanks Susan."

[15:50:01.0000] <annevk>
if there's a publicly archived version it redirects you to that one automatically or lists all publicly arhived messages (if there are multiple)

[15:51:00.0000] <Hixie>
it was sent to a bunch of public lists

[15:51:01.0000] <Hixie>
all the same ones that susan originally e-mailed, in fact

[15:51:02.0000] <Hixie>
i don't know why it didn't reach any of them

[15:51:03.0000] <Hixie>
that's weird

[15:51:04.0000] <annevk>
there's also http://www.w3.org/mid/bb69c1de0709080630x4736dcbbg85c65fd5a7c4c82⊙mgc

[15:51:05.0000] <Hixie>
nice

[15:51:06.0000] <hober>
What's the w3c-html-wg list?

[15:51:07.0000] <Hixie>
hober: the old htmlwg list

[15:52:00.0000] <Hixie>
defunct now

[15:52:01.0000] <hober>
ahh

[15:52:02.0000] <Hixie>
/me adds "tag" to his portal page

[15:52:03.0000] <Dashiva>
That's a lot of lists...

[15:52:04.0000] <Hixie>
so anyone noticed how html4all has had no traffic for days?

[15:53:00.0000] <annevk>
maybe they're awaiting replies from the director of the W3C

[15:53:01.0000] <Philip`>
Given how some of those "Introduction" emails ended up in 2005Sep archives, since that was the date of the previously most recent message, it looks rather like indiscriminate spam

[15:53:02.0000] <Hixie>
annevk: ?

[15:53:03.0000] <annevk>
(I noticed too, as I subscribed to the html4all list to easier track the e-mails.)

[15:54:00.0000] <annevk>
oh, maybe it was directed to DanC and cwilso only

[15:54:01.0000] <Dashiva>
How many formal objections are we up to now?

[15:54:02.0000] <annevk>
ah, it was: http://html4all.org/pipermail/list_html4all.org/2007-September/000428.html

[15:55:00.0000] <annevk>
actually, there was a reply to that from DanC as well which has been removed from the html4all archives

[15:55:01.0000] <Hixie>
danc replied to that

[15:55:02.0000] <Hixie>
yeah

[15:55:03.0000] <Philip`>
http://html4all.org/wiki/index.php?title=Wiki/index.php&curid=1443&diff=1895&oldid=1840 - I'm surprised it took that long for them to get the first wikispam

[15:56:00.0000] <annevk>
hmm, the wiki seems quite active

[15:56:01.0000] <annevk>
maybe all traffic moved to the private list? :(

[15:56:02.0000] <annevk>
oh well

[15:58:00.0000] <hober>
for log readers, danc's reply to that is http://lists.w3.org/Archives/Public/www-archive/2007Sep/0111.html

[15:59:00.0000] <Hixie>
no, there was another one too

[15:59:01.0000] <Hixie>
direct to JohnF

[15:59:02.0000] <Hixie>
John then forwarded it to the archives, and it was then removed

[15:59:03.0000] <hober>
ahh.

[16:00:00.0000] <hober>
/me finds it hard to keep up with all of the cabal machinations :)

[16:00:01.0000] <Hixie>
the part that was forwarded basically wished John luck in finding another editor, because (DanC said) he had tried but not found any willing editors

[16:00:02.0000] <annevk>
yup

[16:00:03.0000] <Hixie>
i have to say, if we do find any willing editors, there are a number of specs that need work in e.g. webapi

[16:00:04.0000] <annevk>
/me recalls reading that too

[16:00:05.0000] <Hixie>
i've had to fold several webapi things into the html5 spec due to lack of editors

[16:00:06.0000] <Hixie>
which i'd like to spin out again

[16:01:00.0000] <Hixie>
(if we can find a way to separate them out, anyway)

[16:01:01.0000] <annevk>
window, dom5 core, es bindings...

[16:01:02.0000] <Hixie>
dom5 core is probably the biggest right now, yeah

[16:01:03.0000] <Hixie>
b4es is being done by heycam

[16:01:04.0000] <Hixie>
though that has somewhat stalled, it seems

[16:01:05.0000] <Dashiva>
heycam?

[16:01:06.0000] <annevk>
maybe need dom5 events too

[16:02:00.0000] <Hixie>
isn't bjoern doing events?

[16:02:01.0000] <Hixie>
i guess that's stalled too

[16:02:02.0000] <annevk>
It seems bjoern is doing editing in the very literal sense

[16:02:03.0000] <Hixie>
?

[16:02:04.0000] <othermaciej>
finding willing and qualified editors would be great

[16:02:05.0000] <annevk>
People write text and then he folds it into the specification

[16:02:06.0000] <Hixie>
aah

[16:02:07.0000] <Hixie>
ok so a new author for dom3/5 events would be useful too

[16:02:08.0000] <othermaciej>
and yes, web api would be a good place to help html

[16:03:00.0000] <othermaciej>
css needs help too but their issues go deeper than just availability of editors

[16:04:00.0000] <Dashiva>
How's their blog doing? :)

[16:04:01.0000] <annevk>
/me needs some help with the CSSOM at some point

[16:04:02.0000] <Hixie>
dashiva: Cameron McCormack

[16:05:00.0000] <Hixie>
(sorry, took me a while to find his full name)

[16:05:01.0000] <annevk>
Dashiva, that's updated quite frequently

[16:14:00.0000] <gsnedders>
gsnedders: about the HTTP parsing spec…

[16:14:01.0000] <gsnedders>
hober, Philip` ^^

[16:14:02.0000] <gsnedders>
:)

[16:47:00.0000] <Hixie>
/me regens the spec

[16:47:01.0000] <Hixie>
ok the update algorithm is written up if anyone cares

[16:48:00.0000] <Hixie>
(around http://www.whatwg.org/specs/web-apps/current-work/#offline )

[16:58:00.0000] <othermaciej>
/me will need to read that

[16:59:00.0000] <othermaciej>
/me also needs to read the ES4 draft

[16:59:01.0000] <Hixie>
there's a bunch of holes in the overall offline stuff, but the update algorithm is up

[16:59:02.0000] <Hixie>
oh, is there an ES4 draft out?

[16:59:03.0000] <othermaciej>
not publicly I don't think; I don't have a copy yet myself either

[16:59:04.0000] <Hixie>
ah ok


2007-10-03
[17:10:00.0000] <Hixie>
we still need to pick a format for the manifest

[17:10:01.0000] <Hixie>
i guess that's next on the todo list

[17:13:00.0000] <othermaciej>
all available options suck

[17:14:00.0000] <Dashiva>
The unavailable ones suck too :)

[17:18:00.0000] <othermaciej>
why choose the lesser of two evils?

[17:18:01.0000] <othermaciej>
I say go all out and base the syntax on ASN.1

[17:18:02.0000] <Hixie>
dare i ask

[17:18:03.0000] <Dashiva>
ASN.1 isn't so bad

[17:20:00.0000] <Hixie>
i have three requirements so far:

[17:20:01.0000] <Hixie>
    *  Has a magic signature

[17:20:02.0000] <Hixie>
    * Has a simple defined processing that is easy to test the error handling of

[17:20:03.0000] <Hixie>
    * Can express two lists of URIs and one mapping of prefixes to URIs 

[17:21:00.0000] <Hixie>
oh i and i suppose i should add "supports a comment syntax"

[17:21:01.0000] <othermaciej>
the last requirement would rule out JSON, if it is truly a requirement

[17:21:02.0000] <othermaciej>
leaving XML or ad-hoc plaintext format

[17:21:03.0000] <Hixie>
i think it is, with big apps i can certainly imagine needing to comment which set of files is required for what

[17:22:00.0000] <Hixie>
i mean, even my simple .htaccess files often end up quite well documented

[17:22:01.0000] <Dashiva>
Let's use .htaccess then. mod_rewrite can handle the prefixes :D

[20:31:00.0000] <Hixie>
if i have a section "cache" for files that have to be cached, what would you call the section for files that are whitelisted as being online only and should never be cached?

[20:33:00.0000] <othermaciej>
online, live, network, notcached

[20:34:00.0000] <Hixie>
http://junkyard.damowmow.com/297

[20:37:00.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/#manifests

[20:40:00.0000] <Hixie>
i think i'm gonna go with "idea #3" there (the same as .../297) unless someone has a better idea by the time i get online next (probably an hour from now)

[20:42:00.0000] <tantek>
consider reusing terminology from HTTP headers regarding caching?

[20:42:01.0000] <Hixie>
like what?

[20:43:00.0000] <Hixie>
i don't think http really has equivalent concepts

[20:44:00.0000] <tantek>
no-cache ?

[20:45:00.0000] <Hixie>
this isn't really about the resource not getting cached -- there are various ways in which it could get cached -- it's about the cache being bypassed when you do a request for the resource

[20:45:01.0000] <Hixie>
the application cache, that is

[20:45:02.0000] <Hixie>
the normal cache still gets hit

[20:45:03.0000] <tantek>
http://www.w3.org/Protocols/rfc2616/rfc2616-sec14.html#sec14.9

[20:45:04.0000] <Hixie>
e.g. so that you can have a worked thread that talks to the server even from an "offline" application

[20:45:05.0000] <tantek>
oh weird

[20:46:00.0000] <Hixie>
worker thread, rather

[20:46:01.0000] <tantek>
well I think from an HTTP perspective, they're just different caches

[20:46:02.0000] <Hixie>
right

[20:46:03.0000] <tantek>
like layers thereof

[20:46:04.0000] <tantek>
proxies like

[20:46:05.0000] <Hixie>
indeed

[20:46:06.0000] <tantek>
so you should still be able to model it using HTTP, even if it is an "application cache"

[20:48:00.0000] <Hixie>
well an application cache isn't really an http cache -- the whole point is that normally any resource will avoid the network if it's in the manifest, and any resource not in the manifest will immediately fail, unless it's on this whitelist, in which case it does normal http caching semantics on the browser's primary cache and uses the network if appropriate

[20:48:01.0000] <Hixie>
no-cache means "bypass all caches"

[20:48:02.0000] <Hixie>
which isn't what's going on here

[20:48:03.0000] <Hixie>
i think maciej's "network" suggestion is probably best

[20:48:04.0000] <Hixie>
anyway, gotta go

[20:49:00.0000] <Hixie>
bbiab

[02:23:00.0000] <hsivonen>
should I expect datatemplates to be stable enough to start working on conformance checking them?

[02:29:00.0000] <hsivonen>
"The contents of rule elements form a template, and may be anything that, when the parent datatemplate is applied to some conforming data, results in a conforming DOM tree." is that supposed to be machine-checkable?

[02:31:00.0000] <annevk>
I guess it is, but it seems rather tricky as it may involve additional requests, etc.

[02:31:01.0000] <hsivonen>
also, it involves computing all possible context trees for a selector...

[02:33:00.0000] <annevk>
isn't that infinite most of the time?

[02:33:01.0000] <annevk>
'*'

[02:33:02.0000] <hsivonen>
gotta love how a "small" change can totally break fundamental assumptions about the nature of computations for conformance checking...

[02:33:03.0000] <hsivonen>
annevk: obviously, enumerating the trees is futile

[02:34:00.0000] <hsivonen>
I haven't yet figured out what problem data templates solve

[02:34:01.0000] <hsivonen>
on the first look it seems like XSLT lite with Selectors instead of XPath

[02:35:00.0000] <annevk>
I'm not sure either, although I'm told it likely replaces repetition templates and looks like XUL templating but simpler

[02:37:00.0000] <hsivonen>
this stuff looks much harder to grok than repetition templates

[02:38:00.0000] <hsivonen>
"When an element has a template attribute but no ref attribute, the element may, instead of its usual content model, have a single element of any kind. That element is then used as the root node of the data for the template." aargh

[02:39:00.0000] <annevk>
You slowly begin to understand why Hixie advocates a no-schema approach

[02:40:00.0000] <hsivonen>
annevk: well, I guess he has more knowledge of what kind of radical changes he is going to pull off

[02:40:01.0000] <annevk>
true

[02:40:02.0000] <hsivonen>
annevk: earlier, analyzing the spec and deciding to use RELAX NG was a reasonable choice

[02:40:03.0000] <annevk>
http://developer.mozilla.org/en/docs/XUL_Tutorial:Templates has an intro to XUL templates that seems to map to <datatemplatE> and co

[02:42:00.0000] <annevk>
with a complex structure it should be possible to generate your weblog out of your Atom feed, as I understand it :)

[02:43:00.0000] <annevk>
this saves some templates on the server side, but is probably a nightmare for search engines and older clients...

[02:45:00.0000] <hsivonen>
I'm fine with certain things being left to the server side

[02:46:00.0000] <hsivonen>
server side means that all sites don't need to buy in to the same solutions and can be updated out of sync and can explore stuff without browser cooperation

[02:46:01.0000] <annevk>
maybe there are more convincing use cases

[02:47:00.0000] <hsivonen>
Hixie: are data templates *really* supposed to work inline or do you expect people to use XML templates by reference anyway?

[02:47:01.0000] <hsivonen>
I mean inline in text/html

[02:47:02.0000] <annevk>
I suppose it helps in the cases where you don't have a server, as in offline applications

[02:47:03.0000] <hsivonen>
I'm sensing some serious scope creep here

[02:48:00.0000] <annevk>
Although writing some JavaScript to do the same might not be too hard

[02:48:01.0000] <hsivonen>
I feel like sending a dozen emails, but I don't want to stir it on public-html up front

[02:48:02.0000] <annevk>
e-mail whatwg⊙wo ?

[02:49:00.0000] <annevk>
and say it's important as you're planning to implement

[02:49:01.0000] <hsivonen>
yeah, when I have smart questions to ask, I'll probably take the whatwg route

[02:54:00.0000] <jgraham>
FWIW I think Hyatt suggested the datatemplate thing

[02:54:01.0000] <zcorpan>
"Most mobile browsers do not support everything HTML defines. Our experience is that XHTML Basic delivered with application/xhtml+xml is more likely to result in a functional user experience than other combinations." -- http://lists.w3.org/Archives/Public/public-bpwg-comments/2007OctDec/0012.html

[02:57:00.0000] <annevk>
sounds like bs

[02:57:01.0000] <hsivonen>
I must be living in some parallel universe where I carry a Gecko-based browser, a WebKit-based browsers and three Opera-based browsers on my person when I go out

[02:57:02.0000] <annevk>
although maybe they can give some pointers to research they've done in that area, that counters yours

[02:58:00.0000] <annevk>
and even then WebKit would get the encoding wrong :p

[03:02:00.0000] <Philip`>
hsivonen: From what I've seen, inline text/html datatemplates appear to have extremely limited uses, since you can't use any interesting HTML elements in them without breaking in HTML5 UAs and in pre-HTML5 UAs

[03:05:00.0000] <hsivonen>
Philip`: if that's true, I don't like inline datatemplates

[03:15:00.0000] <annevk>
more on XUL templates: http://www.jerf.org/resources/xblinjs/whyNotMozilla/notXulTemplates.html

[03:17:00.0000] <Philip`>
(At least the <select><nest></select> is broken by HTML5 parsers in http://philip.html5.org/demos/datatemplate/experimental/002.html - not sure if there are other problems there)

[03:18:00.0000] <annevk>
/me would expect that the parsing rules are modified at some point

[03:18:01.0000] <annevk>
for <select> you can use a data= attribute btw that points to an external XML file

[03:18:02.0000] <annevk>
although then you'd have to do the templating on the server side

[03:19:00.0000] <Philip`>
If the contents of <datatemplate> doesn't get parsed like normal HTML, it'd seem even weirder to have it inline in HTML documents

[04:10:00.0000] <annevk>
/me didn't know you could specify 'Content-Type:text/html (this is a meaningless comment)' in HTTP

[04:10:01.0000] <annevk>
/me wonders if it actually works

[04:17:00.0000] <zcorpan>
annevk: seems to work in opera but not mozilla, testing with a data: uri

[04:18:00.0000] <zcorpan>
safari for windows crashed

[04:22:00.0000] <hsivonen>
comments in protocol don't make sense to me

[04:22:01.0000] <hsivonen>
it's not like humans are supposed to talk HTTP by hand and other humans supposed to read it

[04:23:00.0000] <annevk>
maybe for debugging purposes?

[04:23:01.0000] <annevk>
seems that the old specs are hopelessly out of data though

[04:23:02.0000] <annevk>
/me is reading through RFC2045 and 2046

[04:24:00.0000] <annevk>
all subtypes of "text" must use CRLF as newline delimiter

[04:24:01.0000] <hsivonen>
annevk: well, to me it looks like comments are yet another thing to debug

[04:24:02.0000] <hsivonen>
haha

[04:24:03.0000] <annevk>
this is false for all text subtypes I know

[04:24:04.0000] <hsivonen>
yeah

[04:24:05.0000] <hsivonen>
except in email

[04:25:00.0000] <hsivonen>
CRLF is one of the worst ideas ever in text processing

[04:26:00.0000] <annevk>
/me was reading this because Hixie is defining a format that ignores RFC 2046 in two ways: it uses LF as newline delimiter and UTF-8 is the encoding

[04:27:00.0000] <zcorpan>
which format is that?

[04:29:00.0000] <annevk>
it's part of #offline for caching

[04:29:01.0000] <zcorpan>
the manifest thing?

[04:30:00.0000] <annevk>
yeah

[04:30:01.0000] <annevk>
hmm, the default media type in case Content-Type is bogus or absent is 'text/plain; charset=us-ascii'

[04:31:00.0000] <annevk>
(to be fair, all this is from 1996)

[04:34:00.0000] <virtuelv>
annevk: url for Hixie's spec?

[04:34:01.0000] <annevk>
it's part of HTML5

[04:34:02.0000] <zcorpan>
http://www.whatwg.org/specs/web-apps/current-work/#offline

[04:35:00.0000] <annevk>
zcorpan, allowing comments in data: URIs types is a bug per the data URI specification it seems

[04:35:01.0000] <zcorpan>
annevk: ok

[04:36:00.0000] <annevk>
it defines mediatype itself as '[ type "/" subtype ] *( ";" parameter )'

[04:38:00.0000] <hsivonen>
HTTP matters so much more than SMTP for the transfer of novel types.

[04:38:01.0000] <zcorpan>
/me likes idea #3 better than the other two ideas

[04:39:00.0000] <hsivonen>
we should repeal the old MIME RFCs and write new specs that are sane for HTTP and have exceptions for the SMTP legacy

[04:39:01.0000] <zcorpan>
why can't the manifest have the mime type text/plain ?

[04:40:00.0000] <annevk>
so that text/plain does not have to be sniffed?

[04:41:00.0000] <annevk>
hsivonen, the problem is the amount of work

[04:41:01.0000] <zcorpan>
you'd only sniff it if it was referenced from <html application="...">, no?

[04:41:02.0000] <zcorpan>
s/sniff/process/

[04:42:00.0000] <annevk>
hmm, maybe

[04:43:00.0000] <zcorpan>
just like e.g. a css style sheet doesn't do anything if you view it directly

[04:45:00.0000] <annevk>
i don't think I care much either way

[04:46:00.0000] <annevk>
using a MIME type is less likely to upset people though and doesn't cost much

[04:46:01.0000] <annevk>
and if it doesn't work out it can always be obsoleted

[04:47:00.0000] <zcorpan>
from a practical point of view -- what file extension will you use? does apache have a mapping for that file extension?

[04:47:01.0000] <zcorpan>
we might end up having authors use all of text/cache-manifest, text/plain and text/html etc

[04:48:00.0000] <zcorpan>
and browsers will have to support all of those or perhaps even ignore the content-type altogether

[04:48:01.0000] <zcorpan>
which seems worse than to just use text/plain

[04:49:00.0000] <annevk>
ignoring content-type information seems like an acceptable loss to me

[04:49:01.0000] <zcorpan>
ok, but what's the win of saying text/cache-manifest over text/plain?

[04:50:00.0000] <annevk>
it doesn't upset people who care about this, or upsets them less

[04:52:00.0000] <annevk>
(re: data URLs, they need to be updated too to be clear about fragment identifiers and that percent encoded URIs are always interpreted as UTF-8 (iirc))

[04:53:00.0000] <zcorpan>
i don't see a difference here from xbl using application/xml instead of application/xbl+xml

[04:53:01.0000] <annevk>
all XML is processed the same way, text subtypes are process differently

[04:53:02.0000] <hsivonen>
FWIW, it suck rather badly for developers that application/json triggers download behavior (at least in Firefox) if you try to view directly

[04:53:03.0000] <annevk>
e.g. text/html vs text/css

[04:54:00.0000] <hsivonen>
sucks even

[04:54:01.0000] <annevk>
JSON doesn't need a Content-Type really...

[04:54:02.0000] <zcorpan>
annevk: the problem was that saying application/xbl+xml is likely to result in mislabeled content, and the same applies to text/cache-manifest

[04:54:03.0000] <hsivonen>
also, .rng and .rnc don't really benefit from non-text/plain content types

[04:55:00.0000] <hsivonen>
since people who view those types directly want to see them as text

[04:56:00.0000] <annevk>
zcorpan, that was not the only argument

[04:56:01.0000] <annevk>
but sure

[04:56:02.0000] <annevk>
/me doesn't care much

[04:58:00.0000] <hsivonen>
in general, it seems to me that only document formats (plain text, HTML, PDF, ODF, etc.) should have authoritative types

[04:58:01.0000] <hsivonen>
and style sheet, schemas, scripts, auxiliary data files, etc. would be better without

[04:59:00.0000] <hsivonen>
the test should be "Do end users who aren't debugging want to load this in the a browsing context?"

[04:59:01.0000] <hsivonen>
Yes => typed. No => untyped

[05:13:00.0000] <annevk>
btw, prompting for text/unknown is wrong in theory

[05:17:00.0000] <virtuelv>
Hm. I'd probably like to see the offline manifest as JSON instead

[05:17:01.0000] <annevk>
see #whatwg archives

[05:17:02.0000] <annevk>
JSON was too complex with too many edge cases

[05:18:00.0000] <virtuelv>
ok

[05:18:01.0000] <annevk>
XML even more so

[05:19:00.0000] <virtuelv>
goes without saying

[05:50:00.0000] <hsivonen>
what's matchAll() or getElementsBySelector() called today?

[05:50:01.0000] <hsivonen>
/me isn't following the naming debate anymore

[05:51:00.0000] <annevk>
querySelector() and querySelectorAll()

[05:52:00.0000] <hsivonen>
thanks

[06:08:00.0000] <hsivonen>
I thought JSON had Draconian failure on error without edge cases

[06:23:00.0000] <zcorpan>
is there a way to make non-html elements focusable?

[06:24:00.0000] <zcorpan>
html:role is pretty useless otherwise

[06:25:00.0000] <zcorpan>
unless we say e.g. that html:role makes the element focusable in and of itself

[06:28:00.0000] <annevk2>
SVG has focusable=

[07:37:00.0000] <zcorpan>
/me looks at svg mobile 1.2

[07:37:01.0000] <zcorpan>
<circle cx="300" cy="225" r="100" fill="red">

[07:37:02.0000] <zcorpan>
        <handler type="application/ecmascript" ev:event="DOMActivate"> change(evt); </handler>

[07:37:03.0000] <zcorpan>
    </circle>

[07:38:00.0000] <zcorpan>
what's wrong with <circle ... onclick="chance(event)"/> ?

[07:38:01.0000] <zcorpan>
s/chance/change/

[07:39:00.0000] <zcorpan>
http://www.w3.org/TR/SVGMobile12/interact.html#UIEvents

[07:39:01.0000] <annevk2>
XML Events seemed like the way forward or something

[07:40:00.0000] <zcorpan>
seem just more verbose to me

[07:42:00.0000] <virtuelv>
zcorpan: I presume that someone foresaw a future where javascript was dead

[07:42:01.0000] <virtuelv>
 <handler type="application/x-brainfuck" ev:event="DOMActivate"> change(evt); </handler>

[07:42:02.0000] <annevk2>
zcorpan, yes, formal objections to that effect have been raised and subsequently ignored iirc

[07:57:00.0000] <zcorpan>
right

[07:57:01.0000] <zcorpan>
still, Content-Script-Type could solve that the day another script type becomes evident

[07:58:00.0000] <zcorpan>
as specced in html4 ten years ago

[08:12:00.0000] <annevk2>
I wonder how many servers have bogus values for that header

[08:12:01.0000] <annevk2>
and for the style equivalent header for that matter

[08:15:00.0000] <zcorpan>
i've seen the headers in the wild but not with bogus values

[08:16:00.0000] <zcorpan>
i think some versions of firefox respect them

[10:24:00.0000] <Hixie>
hsivonen: i'll be online in about 2 hours and can reply to any datatemplate questions

[10:25:00.0000] <Hixie>
hsivonen: in brief: not expected to be used inline in html; didn't expect machine checkable to actually apply the templates

[10:25:01.0000] <Hixie>
hsivonen: did expect validators to at least check that there was one context in which all the children of the <rule> element could theoretically be valid together

[10:26:00.0000] <Hixie>
hsivonen: datatemplate is basically expected to replace the repetition construct stuff; i'm not convinced that repetition blocks are easier, i actually think datatemplates are easier

[10:27:00.0000] <Hixie>
zcorpan: text/plain isn't a manifest. while we're pretending that content-type still exists, we should at least try to honour its concepts

[10:28:00.0000] <zcorpan>
Hixie: ok. i don't expect it to actually work though

[12:04:00.0000] <annevk2>
got to love that the XHTML2 WG is public now: "there is actual money value in efficiency boost by using XML and namespacing; tag soup devalues and compromises accessibility"

[12:05:00.0000] <annevk2>
also, "GJR: XBL draft dangersously underspecified"

[12:06:00.0000] <zcorpan>
annevk2: pointers?

[12:06:01.0000] <annevk2>
http://www.w3.org/2007/10/03-xhtml-minutes.html#item03

[12:07:00.0000] <annevk2>
there's also some stuff about the non-namespaced role= solution not being forward-looking

[12:09:00.0000] <zcorpan>
ah, they discussed aria

[12:09:01.0000] <zcorpan>
/me reads

[12:14:00.0000] <Hixie>
zcorpan: well, the spec currently says to bail if the mime type doesn't match. but we'll see. :-)

[12:17:00.0000] <zcorpan>
Hixie: yep :)

[12:18:00.0000] <Hixie>
"XBL draft dangersously underspecified"?

[12:18:01.0000] <Hixie>
who's GJR? i should ask him for feedback

[12:18:02.0000] <annevk>
It's Gregory

[12:18:03.0000] <Hixie>
aha, gregory

[12:19:00.0000] <annevk>
pm'd you contact info in case you don't have it

[12:20:00.0000] <zcorpan>
i can't extract actual feedback on the aria proposal form the minutes

[12:21:00.0000] <Hixie>
hey dreamhost fixed my jabber problem at last

[12:24:00.0000] <annevk>
Hixie, maybe you could add examples to <datatemplate> that illustrate how it replaces repetition templates and such?

[12:25:00.0000] <Hixie>
man, have you seen these minutes? http://www.w3.org/2007/10/03-xhtml-minutes.html#item02

[12:25:01.0000] <Hixie>
"WG decided to declare victory -- text/html is the media type, that's that -- then we thought better of it and switched it back"

[12:25:02.0000] <Hixie>
there are so many things wrong with that... i don't know where to start

[12:25:03.0000] <Hixie>
annevk: yeah, i need to fill in the intro section

[12:29:00.0000] <Hixie>
right. asked him for feedback. hopefully he can send me links to the underspecified parts, so i can fix them.

[12:30:00.0000] <annevk>
oh lol, role= will depend on CURIEs

[12:30:01.0000] <Hixie>
what's a curie again? i thought it was a unit of radiation.

[12:31:00.0000] <annevk>
per the XHTML2 WG it's an abbreviation of URIs

[12:31:01.0000] <Hixie>
ah

[12:31:02.0000] <gavin_>
abbreviations aren't usually longer than the word they're abbreviating

[12:31:03.0000] <annevk>
foo:bar expands into http://example.org/#bar if foo is bound to http://example.org/#

[12:32:00.0000] <Hixie>
ah so it's a qualified name?

[12:32:01.0000] <zcorpan>
no

[12:32:02.0000] <annevk>
qualified names don't expand into URIs

[12:32:03.0000] <annevk>
they expand into a namespace local-name tuple

[12:33:00.0000] <Hixie>
{http://www.example.org/#, bar} and http://example.org/#bar seem the same to me, except for some syntactic details

[12:34:00.0000] <annevk>
it's also that bar in this example is no longer restricted to a being a NCName

[12:35:00.0000] <annevk>
seems quite trivial these days to register MIME types btw

[12:36:00.0000] <Hixie>
lordy, whatwg seems to be taking up the slack now that public-html has stopped being high-traffic

[12:37:00.0000] <annevk>
e-mail on the whatwg list or something else?

[12:37:01.0000] <Hixie>
yes

[12:39:00.0000] <annevk>
hmm, which e-mail?

[12:39:01.0000] <Hixie>
i just mean that as traffic to public-html has gone down, traffic to whatwg has gone up

[12:40:00.0000] <annevk>
oh

[12:40:01.0000] <Hixie>
hsivonen: re how do we avoid <datatemplate> turning into a programming language: i think we'll define escaping to JS in the first version. i'm just not sure what the syntax should be yet.

[13:13:00.0000] <Hixie>
ah, apparently gregory didn't mean what he minuted about xbl

[14:57:00.0000] <annevk>
/me addresses some comments from Hixie on access-control

[15:16:00.0000] <Hixie>
annevk: changing the port defaults, or the other one?

[15:20:00.0000] <annevk>
the other

[15:20:01.0000] <annevk>
I tend to agree with port defaults, but I'd like to wait for the Mozilla folks to give feedback first

[15:21:00.0000] <annevk>
based on their feedback it's like it's now

[15:21:01.0000] <Hixie>
k

[15:21:02.0000] <Hixie>
(i guarentee that it will lead to security holes if we don't fix it, but i agree that we should consult with the browser vendors)

[15:22:00.0000] <annevk>
mozilla unfixed it :)

[15:22:01.0000] <annevk>
maybe we should just have a wildcard for port

[15:22:02.0000] <annevk>
http://example.org:*

[15:23:00.0000] <Hixie>
seems better than defaulting wild, yeah

[15:23:01.0000] <annevk>
the 99% case will likely be just <*> though

[15:24:00.0000] <Hixie>
no

[15:24:01.0000] <Hixie>
the 99% case will be 80.

[15:24:02.0000] <Hixie>
in only very few cases would you do it to anything but 80

[15:24:03.0000] <Hixie>
almost all cases where you talk to a non-80 port, there'll be something fishy going on

[15:24:04.0000] <annevk>
if you bring this back to use cases, fair enough

[15:25:00.0000] <Hixie>
the security issue is pretty drastic

[15:25:01.0000] <Hixie>
you yourself are vulnerable

[15:25:02.0000] <Hixie>
philip` could impersonate zcorpan on html5.org, for example (assuming they both have separate use accounts to the same machine)

[15:26:00.0000] <Hixie>
if you and i were hosted on the same shared dreamhost machine, i could trivially run a web host at annevankesteren.nl:9999

[15:26:01.0000] <annevk>
yeah, I understood that from your e-mail

[15:26:02.0000] <annevk>
quite annoying

[15:27:00.0000] <Hixie>
no argument from me there

[15:27:01.0000] <annevk>
what I've heard from others and what seems likely though is that the most common case will be <*>

[15:27:02.0000] <Hixie>
why?

[15:28:00.0000] <Hixie>
/me only very rarely seens non-80 HTTP traffic

[15:28:01.0000] <Hixie>
sees

[15:28:02.0000] <annevk>
no, I mean Access-Control: allow <*>

[15:29:00.0000] <Hixie>
ah

[15:29:01.0000] <Hixie>
yeah, that case should still have wildcard port

[15:29:02.0000] <Hixie>
and yeah, it'll be quite common

[15:29:03.0000] <annevk>
the <example.org> case will have wildcard as well right?

[15:29:04.0000] <annevk>
or do we want that to be a shorthand for http://example.org:80

[15:30:00.0000] <Hixie>
if you don't have a scheme, you'd have to make it wildcard, i'd guess

[15:30:01.0000] <Hixie>
unless you default the scheme, but that seems bad

[15:30:02.0000] <annevk>
requiring authors to type <*://example.org:*> or something like that...

[15:30:03.0000] <Hixie>
if the scheme is "*" then i think defaulting the port to "*" would be fine

[15:30:04.0000] <Hixie>
really all i'm saying is that "http" implies a port, so when you have that port implication, it shouldn't default to wild

[15:31:00.0000] <annevk>
i guess that's fair enough

[15:43:00.0000] <annevk>
Hixie, btw, is it really that dangerous? as this is mostly to protect information leakage from the intranet, after all

[15:44:00.0000] <annevk>
maybe I'm missing something

[15:46:00.0000] <Hixie>
yes

[15:47:00.0000] <Hixie>
let http://example.com/ be user-authentication (by cookie or http) and let it host some user-sensitive data

[15:47:01.0000] <Hixie>
user-authenticated, that is

[15:48:00.0000] <Hixie>
let http://affiliate.invalid/ be a separate organisation that has an agreement with example.com to use the user-sensitive data

[15:48:01.0000] <Hixie>
example.com's data is only accessible to UAs that are logged in to example.com, and to scripts running in example.com's domain and affiliate.invalid's domain.

[15:49:00.0000] <Hixie>
now let http://evil.example.net/ be an unrelated evil organisation that happens to be hosted on the same IP as affiliate.invalid

[15:49:01.0000] <Hixie>
the http://evil.example.net/ organisation can host content at http://affiliate.invalid:9999/ that can now access http://example.com/'s data when a user is sent to http://affiliate.invalid:9999/ (e.g. by phishing)

[15:49:02.0000] <Hixie>
btw, this is the kind of thing that the security section should be discussing in detail

[15:50:00.0000] <Hixie>
and is why security sections are important

[15:50:01.0000] <annevk>
so the problem is that it's unclear whether authentication and cookies are actually supported

[15:50:02.0000] <annevk>
to me, anyway

[15:51:00.0000] <Hixie>
how do you mean?

[15:51:01.0000] <annevk>
cookies don't go in outgoing requests iirc and you can't specify user/password either

[15:52:00.0000] <Hixie>
the user is already logged in

[15:52:01.0000] <Hixie>
i don't understand what you mean

[15:52:02.0000] <Hixie>
cookies had better be sent to the server, how else can we do user authentication?

[15:53:00.0000] <annevk>
I think that's prevented, but maybe the only prevention is about reading those cookies in the response

[15:53:01.0000] <Hixie>
i hope so

[15:53:02.0000] <Hixie>
otherwise i have a whole bunch more comments to send :-)

[15:53:03.0000] <annevk>
/me summons sicking

[15:54:00.0000] <Hixie>
the spec says cookies should work (xhr2)

[15:54:01.0000] <annevk>
it also says it doesn't deal with some things yet

[15:54:02.0000] <annevk>
this being one of them :)

[15:54:03.0000] <Hixie>
it does deal with it, it explicitly says it should work :-)

[15:54:04.0000] <Hixie>
"If the user agent supports HTTP State Management it should persist, discard and send cookies (as received in the Set-Cookie and Set-Cookie2 response headers, and sent in the Cookie header) as applicable. [RFC2965]"

[15:55:00.0000] <annevk>
fair enough, though not what I meant

[15:55:01.0000] <Hixie>
what did you mean then?

[15:55:02.0000] <annevk>
there's a note somewhere on limiting stuff on requests

[15:55:03.0000] <annevk>
issue, rather

[15:56:00.0000] <annevk>
such as setted request headers

[15:56:01.0000] <annevk>
and there was something about user/password too

[15:56:02.0000] <annevk>
i'll e-mail jonas

[15:56:03.0000] <Hixie>
you mean in addRequestHeader?

[15:56:04.0000] <annevk>
set*, yes

[15:56:05.0000] <Hixie>
right setRequestHeader() certainly shouldn't let cookies be set for cross-origin hosts

[15:56:06.0000] <Hixie>
i'm talking about the cookies that the UA already has set

[15:57:00.0000] <Hixie>
(allowing setRequestHeader() to set cookies would allow for a distributed cookie search attack)

[16:00:00.0000] <annevk>
thanks, this helps clearing some stuff up

[16:01:00.0000] <Hixie>
np

[16:06:00.0000] <sicking>
wassup

[16:06:01.0000] <annevk>
heh

[16:07:00.0000] <annevk>
just e-mailed

[16:07:01.0000] <gavin_>
/me relayed annevk's summoning

[16:07:02.0000] <annevk>
cheers

[16:07:03.0000] <annevk>
basically, what's the XHR2 model for non-same origin requests with respect to the user/password arguments of open() and what is with respect to cookies

[16:08:00.0000] <annevk>
/me wonders if gavin_ summoned the entire #developer channel

[16:08:01.0000] <gavin_>
well, I relayed it publically :)

[16:08:02.0000] <sicking>
annevk: we don't allow user/passwd to be specified for cross-origin requests

[16:08:03.0000] <gavin_>
biesi must just be curious :)

[16:09:00.0000] <annevk>
sicking, ignored or exception?

[16:09:01.0000] <sicking>
annevk: why did you respond to hixie on the webapi list btw?

[16:09:02.0000] <annevk>
oops

[16:09:03.0000] <sicking>
annevk: leeme look

[16:09:04.0000] <sicking>
lemme even

[16:10:00.0000] <biesi>
gavin_, yep :)

[16:10:01.0000] <annevk>
/me resends to public-appformats

[16:11:00.0000] <Hixie>
did i send it to the wrong list?

[16:11:01.0000] <annevk>
don't think so

[16:11:02.0000] <sicking>
no, anne did

[16:12:00.0000] <Hixie>
/me has now defined the syntax of manifests, btw (http://www.whatwg.org/specs/web-apps/current-work/#manifests)

[16:13:00.0000] <annevk>
/me loads

[16:13:01.0000] <annevk>
"Note: This is a willful double violation of RFC2046."

[16:13:02.0000] <annevk>
heh

[16:13:03.0000] <kingryan>
two wrongs make a right?

[16:13:04.0000] <annevk>
Hixie, is the UTF-8 thingie a violation too? Where is that stated?

[16:13:05.0000] <Hixie>
*mumble* stupid rfc

[16:14:00.0000] <annevk>
it's from 1996...

[16:14:01.0000] <Hixie>
annevk: RFC2046 requires the default to be us-ascii (HTTP changes it to ISO-8859-1) and RFC2046 requires newlines to be CRLF (HTTP changes that to CR, LF, or CRLF)

[16:14:02.0000] <Hixie>
(but HTTP requires that they be consistent throughout the file)

[16:14:03.0000] <annevk>
so per HTTP you violate only a single rule

[16:14:04.0000] <Hixie>
(html5 changes it to UTF-8 and CR|LF|CRLF)

[16:15:00.0000] <annevk>
oh wait

[16:15:01.0000] <annevk>
you changed the sole LF requirement

[16:15:02.0000] <annevk>
interesting

[16:15:03.0000] <Hixie>
yeah otherwise windows users would hit me

[16:15:04.0000] <Hixie>
bbiab

[16:15:05.0000] <annevk>
Hixie, should it mention the UTF-8 BOM?

[16:15:06.0000] <Hixie>
mtg

[16:17:00.0000] <sayrer>
annevk, is the manifest format already in use somewhere?

[16:17:01.0000] <jgraham>
Hixie: Is there a good reason not to allow comments on data lines?

[16:17:02.0000] <jgraham>
At the end obviously

[16:17:03.0000] <annevk>
sayrer, nope

[16:18:00.0000] <biesi>
Hixie, HTTP specifies what the actual data must contains?

[16:18:01.0000] <annevk>
sayrer, just that editors might include such a thing by default

[16:18:02.0000] <biesi>
s/s\?/?/

[16:19:00.0000] <annevk>
Hixie, you want s/<li>/<dt>/ there somewhere

[16:20:00.0000] <sayrer>
[{explicit:[,,,]},{fallback:[],,]}]

[16:20:01.0000] <sayrer>
would avoid parsing and encoding issues

[16:21:00.0000] <annevk>
sayrer, http://krijnhoetmer.nl/irc-logs/whatwg/20070929#l-17

[16:23:00.0000] <sayrer>
oh, most JSON parsers grok comments

[16:24:00.0000] <sayrer>
but yeah, it's all a bit gross

[16:24:01.0000] <Philip`>
That sounds like a flaw, not a feature :-)

[16:24:02.0000] <sayrer>
it's actually right there in the JSON rfc

[16:24:03.0000] <sayrer>
you can accept more than is allowed

[16:25:00.0000] <annevk>
fun

[16:25:01.0000] <sayrer>
so lots of them deal with comments, unquoted keys, trailing commas

[16:25:02.0000] <annevk>
"A JSON parser MAY accept non-JSON forms or extensions."

[16:25:03.0000] <annevk>
anyone up for writing JSON5?

[16:26:00.0000] <jgraham>
/me was wondering how long that would take to be suggested

[16:26:01.0000] <Philip`>
s/MAY/MUST NOT/ and then the world will be a happier place

[16:26:02.0000] <jgraham>
JSON5 = JSON + comments - arbitrary extendibility

[16:27:00.0000] <annevk>
it's funny that JSON defaults to UTF-8 and wants to be a subset of JavaScript; but maybe I'm just being to anal

[16:27:01.0000] <kingryan>
jgraham: http://krijnhoetmer.nl/irc-logs/whatwg/20070929#l-53

[16:28:00.0000] <annevk>
oh fun, it even allows UTF-32

[16:28:01.0000] <annevk>
hsivonen will be pleased

[16:30:00.0000] <sayrer>
anyway, I'm now convinced there is no good choice

[16:31:00.0000] <annevk>
"Whenever I'm caught between two evils, I take the one I've never tried."

[16:33:00.0000] <annevk>
sicking, found out whether you guys throw or not?

[16:33:01.0000] <sicking>
looking

[16:34:00.0000] <sicking>
sorry, got sidetracked

[16:34:01.0000] <Hixie>
annevk: hm, BOM, good point.

[16:34:02.0000] <Hixie>
jgraham: not especially, other than making parsing easier. do you think it should support that?

[16:35:00.0000] <sicking>
annevk: we throw if you specify a cross-origin uri and user/pass

[16:36:00.0000] <annevk>
sicking, what's the reason it's not allowed, might be useful for security section

[16:36:01.0000] <sicking>
annevk: on a redirect we'll fire an error-event

[16:36:02.0000] <jgraham>
Hixie: it seems like a low cost thing that people might find useful and will probably expect to work

[16:36:03.0000] <sicking>
annevk: otherwise it would be easy to do distributed brute-force hacking of an account

[16:36:04.0000] <sicking>
annevk: for some definition of "easy" :)

[16:37:00.0000] <Hixie>
sayrer: yeah the problem with JSON is that it doesn't have well defined error handling

[16:37:01.0000] <annevk>
k, but if the user is already logged in you have access I assume?

[16:37:02.0000] <annevk>
Hixie, I wonder if you just shouldn't allow arbitrary encodings and defualt to UTF-8 respecting charset= and all that

[16:38:00.0000] <sayrer>
Hixe, might want to reconsider that comment character if you allow it on data lines

[16:38:01.0000] <sicking>
annevk: basically i could set up a page and everyone that visited that page would take part in a distributed dictionary attack

[16:38:02.0000] <Hixie>
jgraham: fair enough

[16:38:03.0000] <sayrer>
since you know people will end up with fragment identifiers in these things

[16:39:00.0000] <sicking>
annevk: yeah, if the user is logged in already it should work

[16:39:01.0000] <Hixie>
annevk: i'd really rather not bring in all the legacy encodings into this

[16:39:02.0000] <annevk>
sicking, k, what about cookies?

[16:39:03.0000] <sicking>
annevk: over the network they are sent as per usual

[16:39:04.0000] <annevk>
Hixie, given everything else that's required for the feature it seems low-cost, but fair enough

[16:39:05.0000] <Hixie>
/me notes that was sicking just described is exactly what Hixie described earlier as the problem with sending cookies -- it's the same issue

[16:39:06.0000] <sicking>
annevk: but accessing document.cookies on the returned document fails

[16:40:00.0000] <sicking>
Hixie: how so?

[16:40:01.0000] <Hixie>
annevk: encodings are a near-infinite pit of doom, in my experience

[16:40:02.0000] <Hixie>
sicking: (i was agreeing with you)

[16:40:03.0000] <sicking>
Hixie: ah

[16:40:04.0000] <Hixie>
sicking: i was saying that setRequestHeader() shouldn't allow Set-Cookie because it would enable a distributed brute-force cookie search

[16:40:05.0000] <sicking>
Hixie: well, iirc i'm agreeing with you. i think the idea came from you at the xxx security review here at moco

[16:40:06.0000] <Hixie>
heh

[16:40:07.0000] <Hixie>
figures :-)

[16:41:00.0000] <Hixie>
/me hopes he isn't the only person to have come up with security problems with xhr :-P

[16:41:01.0000] <Hixie>
cos i'm by far not a security expert!

[16:42:00.0000] <sicking>
annevk: we basically do this: http://lists.w3.org/Archives/Public/public-webapi/2006Jun/0012

[16:43:00.0000] <annevk>
oh, if you guys implement the XMLHttpRequest-Security-Check header that can simply be renamed to If-Method-Allowed...

[16:44:00.0000] <annevk>
but I think you didn't

[16:44:01.0000] <Hixie>
where does If-Method-Allowed come from?

[16:44:02.0000] <annevk>
generic name for XHR-Security-Check

[16:44:03.0000] <Hixie>
oh it's invented as well?

[16:45:00.0000] <annevk>
yes

[16:45:01.0000] <annevk>
i have tried to clarify this by making up some EBNF in the spec...

[16:46:00.0000] <Hixie>
k

[16:46:01.0000] <Hixie>
it sounds nice and official

[16:46:02.0000] <annevk>
good

[16:47:00.0000] <othermaciej>
that does sound like a good name

[16:48:00.0000] <Hixie>
it doesn't really follow the semantics of the other If-XXX headers though

[16:49:00.0000] <annevk>
If-Allow-Method maybe?

[16:49:01.0000] <annevk>
or just If-Allow...

[16:49:02.0000] <Hixie>
the If-XXX headers have the semantic "do what i say if the condition matches, else return 412"

[16:50:00.0000] <othermaciej>
what would If-Method-Allowed do if the method is not allowed?

[16:51:00.0000] <annevk>
it does nothing, it just lets the author of the server inspect what the user agent intends to do

[16:51:01.0000] <Hixie>
the question is more what it would do if the method _was_ allowed

[16:51:02.0000] <Hixie>
well

[16:51:03.0000] <annevk>
the author replies with Allow:GET,HEAD,FOOBAR

[16:52:00.0000] <Hixie>
right which isn't the same semantic as the other If-XXX headers

[16:52:01.0000] <annevk>
afaict it's not implemented so renaming is certainly possible

[16:53:00.0000] <Hixie>
maybe Is-Method-Allowed?

[16:53:01.0000] <Hixie>
or Query-Is-Method-Allowed?

[16:53:02.0000] <Hixie>
(assuming you don't want XMLHttpRequest-Security-Check, which i think has the advantage of being very clear as to its purpose :-) )

[16:53:03.0000] <Hixie>
/me doesn't really mind what it's called

[16:53:04.0000] <annevk>
Method-Security-Check

[16:54:00.0000] <annevk>
or just Method-Check

[16:54:01.0000] <annevk>
Referer-Root doesn't have Security in it either

[16:54:02.0000] <Hixie>
if we do have a more generic name, though, we should define its processing semantics even when not in the context of xhr

[16:54:03.0000] <Hixie>
it was more the "XMLHttpRequest" part I was referring to

[16:55:00.0000] <Hixie>
Referer-Root doesn't have any processing semantics other than letting the server know what's going on, which makes it easy to make generic

[16:55:01.0000] <Hixie>
(and it's only useful when Referer: isn't set anyway)

[16:55:02.0000] <annevk>
same goes for Method-Check, no?

[16:55:03.0000] <Hixie>
no, Method-Check has a very specific set of requirements to do with what the server responds with

[16:55:04.0000] <Hixie>
e.g. as you said earlier, the Allow: thing

[16:56:00.0000] <annevk>
seems more like requirements on the Allow:, not on Method-Check

[16:56:01.0000] <Hixie>
?

[16:56:02.0000] <annevk>
Allow or absense thereof*

[16:56:03.0000] <Hixie>
Allow: is what it sends in response to Method-Check

[16:57:00.0000] <Hixie>
thus the requirement is on Method-Check

[16:57:01.0000] <annevk>
you mean it follows from the request that includes Method-Check?

[16:58:00.0000] <Hixie>
right

[16:58:01.0000] <annevk>
(btw, what do you think of jonas proposal about defaulting to the referer-root URI scheme default port?)

[16:58:02.0000] <sicking>
i think it's an excellent suggestion

[16:58:03.0000] <sicking>
cookies to whoever suggested that!

[16:59:00.0000] <annevk>
:p

[16:59:01.0000] <annevk>
Hixie, hmm, yeah, the current text in access-control is rather vague on Allow

[16:59:02.0000] <sicking>
annevk: for example, should it be case sensitive or not?


2007-10-04
[17:00:00.0000] <Hixie>
assuming your "(btw,...)" was to me, i don't understand the question

[17:00:01.0000] <annevk>
Hixie, oh, see your inbox in that case

[17:00:02.0000] <sicking>
annevk: case sensitivity is tricky since methods get normalized

[17:00:03.0000] <annevk>
sicking, that sounds like a bug

[17:00:04.0000] <annevk>
in theory methods are case sensitive

[17:01:00.0000] <annevk>
/me ponders

[17:01:01.0000] <sicking>
right, but people use "post" as well as "POST"

[17:01:02.0000] <sicking>
and probably "Post" too

[17:01:03.0000] <sicking>
/me wants to use "P057"

[17:02:00.0000] <annevk>
"9051"

[17:03:00.0000] <annevk>
sicking, in XMLHttpRequest we made a limited set of HTTP methods case-insensitive

[17:04:00.0000] <annevk>
although I believe implementations differ from that

[17:04:01.0000] <annevk>
maybe we should just defy the HTTP gods and make them all case insensitive US-ASCII strings...

[17:09:00.0000] <sicking>
hmm.. looks like we never change the case

[17:09:01.0000] <sicking>
we must be somewhere...

[17:10:00.0000] <annevk>
sicking, btw, ideas non same-origin stuff for XHR1 is also appreciated, especially the last open issue with respect to data:, javascript: etc.

[17:10:01.0000] <annevk>
I think that's the only thing apart from the Microsoft comment that's blocking a new draft

[17:10:02.0000] <sicking>
annevk: i think data should always be allowed, and javascript never

[17:10:03.0000] <sicking>
annevk: well..

[17:11:00.0000] <annevk>
except after a redirect?

[17:11:01.0000] <annevk>
the redirects make it annoying

[17:11:02.0000] <Hixie>
you mean redirect to data: ?

[17:12:00.0000] <annevk>
Hixie, yeah

[17:12:01.0000] <Hixie>
you should basically abort as soon as you redirect out of the origin, as far as i can tell

[17:12:02.0000] <sicking>
Hixie: why?

[17:12:03.0000] <annevk>
not with XHR2

[17:12:04.0000] <Hixie>
with xhr1 i mean

[17:12:05.0000] <sicking>
ah

[17:12:06.0000] <sicking>
yeah

[17:12:07.0000] <sicking>
well

[17:13:00.0000] <sicking>
i don't really care much about xhr1 there as we already support xhr2 for same-origin stuff

[17:13:01.0000] <Hixie>
if example.com has a page that redirects to data: to show sensitive data, we don't want evil.invalid to redirect to the page that redirects to data:

[17:13:02.0000] <Hixie>
yeah i'm just saying for anne's blocking issue

[17:14:00.0000] <annevk>
for xhr2 you'd need an out-of-origin flag that gets set once you go out of origin which you check the moment you hit a data: URI

[17:14:01.0000] <annevk>
i think there's such a flag already

[17:15:00.0000] <annevk>
it would prolly be good to publish xhr2 too, even though it's not done yet

[17:17:00.0000] <Hixie>
origin->data: should be ok

[17:17:01.0000] <Hixie>
only origin->remote->data: is bad (and origin->remote is the step that makes it "bad")

[17:17:02.0000] <Hixie>
origin->remote->origin is also "bad"

[17:18:00.0000] <sicking>
bad meaning what?

[17:18:01.0000] <Hixie>
yeah, not sure how to handle that one

[17:18:02.0000] <sicking>
that you need AC checks?

[17:19:00.0000] <Hixie>
doing AC checks against the origin is pointless since you're supposing that the origin is evil

[17:19:01.0000] <annevk>
i think origin->remote->origin is handled by doing ac checks on origin which is kind of pointless

[17:19:02.0000] <Hixie>
hm, origin->remote->origin is an interesting way of doing cross-origin xhr with UA-provided credentials today

[17:20:00.0000] <Hixie>
i assume we block that at the moment

[17:20:01.0000] <Hixie>
but it's unclear to me what XHR2 should do in that case

[17:20:02.0000] <sicking>
no, today we bail as soon as we get the origin->remote redirect

[17:20:03.0000] <Hixie>
right

[17:20:04.0000] <sicking>
yeah

[17:20:05.0000] <Hixie>
xhr2 should definitely mention that in the security section

[17:20:06.0000] <Hixie>
not sure how to solve it though

[17:20:07.0000] <sicking>
/me ponders disabling cross-origin redirects in initial release

[17:21:00.0000] <sicking>
so one way of solving it is this:

[17:21:01.0000] <annevk>
there's a flag that tells you whether the initial request is same-origin or not

[17:22:00.0000] <sicking>
if you have origin->site A->site B->site C   redirects

[17:22:01.0000] <sicking>
check all of origin, site A and site B against the AC rules

[17:22:02.0000] <Hixie>
jgraham: you still there? if so, i'm not sure how to handle "http://example.com/#comment" vs "http://example.com/ #comment" in the manifest, if we use # as the comment separator

[17:22:03.0000] <sicking>
and only if all pass allow the content

[17:22:04.0000] <Hixie>
jgraham: for similar reasons we can't use // as the comment delimiter

[17:23:00.0000] <Hixie>
so the redirects have to do what? include Access-Control: headers?

[17:23:01.0000] <annevk>
what's the attack scenario btw?

[17:24:00.0000] <sicking>
the redirects are normal. but the final doc would have to have AC rules allowing origin, A and B

[17:24:01.0000] <annevk>
what if site C is origin though

[17:24:02.0000] <sicking>
fine

[17:24:03.0000] <annevk>
you're thinking of another problem

[17:25:00.0000] <Hixie>
i can't really see any attack scenarios here that aren't already a problem with <img> to be honest

[17:25:01.0000] <sicking>
you check AC rules for origin anyway

[17:25:02.0000] <Hixie>
since the only data you get back is in the uri, and the origin has access to its own uris

[17:25:03.0000] <sicking>
Hixie: how so? with <img> you can never read the actual data

[17:25:04.0000] <Hixie>
there's no data to read here

[17:25:05.0000] <Hixie>
i'm talking about origin->a->origin

[17:25:06.0000] <Hixie>
or any case of evil->victim->evil

[17:25:07.0000] <annevk>
there's data in the URI

[17:26:00.0000] <annevk>
not?

[17:26:01.0000] <sicking>
no, i'm thinking victim->evil->vicitm

[17:26:02.0000] <Hixie>
annevk: right but you can read the uri

[17:26:03.0000] <Hixie>
sicking: why would victim redirect to evil?

[17:26:04.0000] <annevk>
with <img>? maybe with <iframe>

[17:27:00.0000] <Hixie>
yeah, with iframe

[17:27:01.0000] <sicking>
Hixie: out of curiosity, can you read the final uri of an <img> redirect?

[17:27:02.0000] <Hixie>
with an <iframe> you can

[17:27:03.0000] <sicking>
you can?

[17:27:04.0000] <Hixie>
(on another note, why does rfc3986 have a stick figure in the diagram in section 3)

[17:27:05.0000] <sicking>
you can't read iframe.contentWindow.location

[17:27:06.0000] <Hixie>
sure, just read contentDocument.location

[17:27:07.0000] <Hixie>
you can, it's yours

[17:27:08.0000] <sicking>
nope, it's write-only

[17:28:00.0000] <sicking>
iirc

[17:28:01.0000] <sicking>
i should add :)

[17:28:02.0000] <Hixie>
we're talking about the case where you've redirected back to yourself, right?

[17:28:03.0000] <sicking>
ah, ok, in that case

[17:28:04.0000] <sicking>
sorry, got side tracked

[17:28:05.0000] <Hixie>
the cases when you don't redirect to yourself, we've already taken care of

[17:28:06.0000] <Hixie>
as far as i can tell

[17:28:07.0000] <sicking>
yeah, sorry, i was talking about something else

[17:29:00.0000] <annevk>
ok, so origin->foobar->origin does not need an access check and is ok

[17:29:01.0000] <annevk>
as it has the same risks that <iframe> already has

[17:29:02.0000] <annevk>
fun

[17:30:00.0000] <sicking>
hmm.. 

[17:30:01.0000] <sicking>
i'm not entirely convinced

[17:31:00.0000] <Hixie>
what's the attack scenario that you can't already do?

[17:31:01.0000] <sicking>
but i don't have the attack scenario entierly clear

[17:32:00.0000] <sicking>
why do we have a flag for has-been-crossorigin?

[17:32:01.0000] <annevk>
sicking, because at some point we deemed this to be a problem

[17:33:00.0000] <annevk>
and solved it wrongly

[17:36:00.0000] <annevk>
(There is a flag in the current spec for initially same-origin that helps with a non same-origin redirect for non-GET requests.)

[17:37:00.0000] <annevk>
sicking, btw, user/password can't be included in redirects, or do you mean as part of the URI?

[17:39:00.0000] <sicking>
yeah, as part of the uri

[17:39:01.0000] <sicking>
you can redirect to  http://foo:bar⊙eo/

[17:40:00.0000] <annevk>
yup, k

[17:40:01.0000] <Hixie>
blimey URIs use a lot of symbols. ok if we're to allow comments at end of lines we have to have a comment delimited that isn't one of + - . : / @ _ ~ % ! $ & ' ( ) * , ; = [ ] ? #

[17:40:02.0000] <Hixie>
what does that leave

[17:40:03.0000] <annevk>
Hixie, why would fragment identifiers be part of the URIs in the manifest?

[17:40:04.0000] <sicking>
sol

[17:40:05.0000] <annevk>
a pipe?

[17:41:00.0000] <annevk>
http://test | comment

[17:41:01.0000] <sicking>
hmm.. it's on my swedish keyboard, but on the US one

[17:41:02.0000] <sicking>
¤

[17:41:03.0000] <annevk>
\\

[17:41:04.0000] <Hixie>
annevk: i have no idea, but it would be confusing if we disallowed it since it wouldn't look disallowed

[17:41:05.0000] <Dashiva>
§ :)

[17:42:00.0000] <annevk>
" comment

[17:42:01.0000] <annevk>
{ comment }

[17:42:02.0000] <sicking>
ok kids, gotta profile stuff, so closing un-needed apps

[17:42:03.0000] <sicking>
see ya l8er

[17:43:00.0000] <Hixie>
the punctuation we have left in ASCII is: " < > \ ^ ` { | }

[17:43:01.0000] <Hixie>
we could use {...} like in pascal

[17:44:00.0000] <Philip`>
Why can't the comment just require a space before it?

[17:44:01.0000] <Dashiva>
An end delimiter seems annoying for end-of-line comments

[17:45:00.0000] <Hixie>
Philip`: because the space doesn't look important

[17:45:01.0000] <annevk>
http://example.org/test test/

[17:45:02.0000] <Hixie>
that'd be a valid line in the fallback section

[17:45:03.0000] <Philip`>
I mean a space before a #, so http://example.org/#test is still a single URI but http://example.org/ #test is a comment

[17:46:00.0000] <Dashiva>
Seems prone to errors

[17:46:01.0000] <Philip`>
unless #test might be interpreted as a relative URI

[17:46:02.0000] <annevk>
Hixie, oh interesting, so %20 is required

[17:46:03.0000] <Dashiva>
I'd prefer | or maybe >>

[17:46:04.0000] <Dashiva>
Looks delimiter-ish

[17:46:05.0000] <Hixie>
Philip`: beacuse it would mean that "http://example.org/# unimportant" was a fallback line instead of one URI with a comment, despite looking like the latter

[17:47:00.0000] <Hixie>
(because "http://example.org/#" and "unimportant" are both valid URIs)

[17:47:01.0000] <kingryan>
what about '*' ?

[17:47:02.0000] <Hixie>
kingryan: the punctuation we have left in ASCII is: " < > \ ^ ` { | }

[17:48:00.0000] <kingryan>
oh, I missed that 

[17:48:01.0000] <kingryan>
/me has no idea where * is used in URLs

[17:48:02.0000] <Hixie>
kingryan: me either, but there we go

[17:48:03.0000] <kingryan>
" would be like VB, right?

[17:48:04.0000] <kingryan>
or was that a single quote?

[17:49:00.0000] <kingryan>
http://example.com/ "an example url

[17:49:01.0000] <Philip`>
http://search.cpan.org/~kane/Acme-Comment/lib/Acme/Comment.pm lists some current comment syntaxes

[17:49:02.0000] <annevk>
file names and such can include most of those characters btw so URIs could include them...

[17:50:00.0000] <Philip`>
"Pilot: Single-line comments in the syntax \/\/ are supported." - that starts with an acceptable character

[17:50:01.0000] <Dashiva>
/me ponders HTML comments

[17:50:02.0000] <Dashiva>
They start with a non-URL char

[17:50:03.0000] <annevk>
/me isn't sure whether URI legalness is cared much for and whether the current syntax should be loosened

[17:51:00.0000] <kingryan>
why don't we put a special character in the 7th column, like cobol?

[17:51:01.0000] <annevk>
yeah, lets introduce the insane comment parsing everywhere!

[17:51:02.0000] <Hixie>
well this discussion is pretty much cementing my conclusion to avoid end-of-line comments :-P

[17:52:00.0000] <kingryan>
Hixie: aren't you concerned that people will use them anyway?

[17:52:01.0000] <Philip`>
We could have a table at the end of the file which lists the byte ranges in the earlier part of the file that should be interpreted as comments

[17:52:02.0000] <Hixie>
kingryan: if they do, the entire line will be ignored

[17:52:03.0000] <kingryan>
until some browser decides to be more liberal  in their parsing :)

[17:53:00.0000] <Hixie>
Philip`: if we do that, i'd want the offsets expressed relative to 12-bit words

[17:53:01.0000] <Dashiva>
annevk: Well, browsers have to be able to parse them anyway :P

[17:53:02.0000] <Hixie>
kingryan: since the spec will define error handling too, it'll be less likely to happen. but yes, if we get implementation feedback to the effect that we must change the rules, then that's a different matter.

[17:54:00.0000] <Dashiva>
Besides, it would just be a check for <!-- like in JS, since it goes to the end of the line anyway. The --> would just become part of the comment if included

[17:55:00.0000] <karlUshi>
Dashiva: which might break some CMS

[17:55:01.0000] <karlUshi>
<!-- begin content -->

[17:55:02.0000] <Philip`>
Dashiva: That sounds evil, since people would expect they could put <!-- ... --> on separate lines surrounding a block they want to remove

[17:55:03.0000] <Dashiva>
Philip`: Then they haven't used enough JS >:D

[17:57:00.0000] <Dashiva>
What about a heredoc-ish thing? The manifest can define its own comment delimiter

[17:57:01.0000] <annevk>
/me -> bed

[17:59:00.0000] <Hixie>
lol http://bugs.webkit.org/show_bug.cgi?id=5909#c30

[18:05:00.0000] <Dashiva>
About time they admitted it :P

[18:11:00.0000] <othermaciej>
annevk, Hixie: sorry meeting

[18:11:01.0000] <othermaciej>
if it just replies with what methods are allowed, shouldn't it be a different method, not a different header?

[18:12:00.0000] <othermaciej>
if it never actually gives you the entity body then it seems to me the behavior is more header-like than method-like

[23:53:00.0000] <hsivonen>
hmm. so John Foliot considers suing people "social engineering"...

[23:54:00.0000] <othermaciej>
indeed, an unusual point of view

[00:23:00.0000] <hsivonen>
Hixie: should inline data templates be outright non-conforming in text/html inputs, then?

[00:24:00.0000] <hsivonen>
Hixie: Re: one possible context: do you mean the rule content model should be bimorphic, embedded, metadata or any table slice? 

[00:25:00.0000] <hsivonen>
Hixie: I don't think I can agree at present (without examples to the contrary) that datatemplates were simpler than repetition templates for either authors or UA implementors

[00:26:00.0000] <hsivonen>
Hixie: were there cases where repetition templates sucked badly and that data templates address?

[00:28:00.0000] <othermaciej>
I still don't really understand the use cases for repetition templates

[00:29:00.0000] <othermaciej>
people usually mention online store shopping carts but they are clearly not useful for that

[00:29:01.0000] <hsivonen>
off-hand, I remember implementing repeating forms twice:

[00:30:00.0000] <hsivonen>
1) a simple task tracking app

[00:30:01.0000] <hsivonen>
2) an app for authoring online questionnaires

[00:31:00.0000] <hsivonen>
though the latter was too ajaxy to be really done without JS

[00:31:01.0000] <hsivonen>
but I guess it could have been done without JS with repetition templates

[00:32:00.0000] <othermaciej>
I guess I really wonder how often a button that just does add or remove of a repetition item is useful; it would have to be a case where you don't want to do anything else with script when adding or removing a repeat item

[00:32:01.0000] <hsivonen>
othermaciej: yes, I guess most often you want to do something else as well

[00:32:02.0000] <othermaciej>
it seems weird to me to have specialized kinds of button controls just for these two actions

[00:33:00.0000] <hsivonen>
with data templates, I get an even stronger feeling that it is something complex that only deals with simple cases and real apps will have to work around the limitations anyway

[00:34:00.0000] <hsivonen>
which is why I asked on the list why querySelector() and E4X tree literals aren't the answer

[00:34:01.0000] <othermaciej>
well, having a clear model for escaping to script helps

[00:34:02.0000] <othermaciej>
I don't think any current E4X implementation has good integration with the DOM

[00:34:03.0000] <othermaciej>
maybe I am wrong on this

[00:34:04.0000] <othermaciej>
in any case E4X is hardly less complex than datatemplate

[00:35:00.0000] <hsivonen>
Hixie: anyway, my intuitive reaction to repetition templates was positive and my intuitive reaction to data templates was very negative (regardless of RELAX NG considerations). I'd like to see more examples.

[00:35:01.0000] <hsivonen>
othermaciej: E4X isn't less complex, but it solves the problem of DOM fragment literals in the right place

[00:36:00.0000] <othermaciej>
hsivonen: you think the JavaScript level is the right place for DOM fragment literals?

[00:37:00.0000] <othermaciej>
(and really E4X only gives you XML fragment literals, converting them to DOM form is an excercise left to the reader)

[00:37:01.0000] <hsivonen>
othermaciej: yes, because for JS, DOM fragments are very common (like strings and hashtables)

[00:37:02.0000] <hsivonen>
othermaciej: yeah, that's a problem

[00:38:00.0000] <othermaciej>
hsivonen: I guess the current state of the art is for JS to store DOM fragments as strings

[00:38:01.0000] <othermaciej>
and use stuff like innerHTML to get them into the tree

[00:38:02.0000] <hsivonen>
yes

[00:38:03.0000] <othermaciej>
sadly that is both much easier and much more performant than using DOM APIs

[00:38:04.0000] <othermaciej>
referring to fragments declared elsewhere does seem like a pain

[00:38:05.0000] <othermaciej>
hyatt tells me XUL's similar template feature was used to good effect

[00:39:00.0000] <hsivonen>
also vulnerable against unescaped data under concatenation

[00:39:01.0000] <othermaciej>
I guess it is mainly useful for data binding type use cases, but where your data model may change over time so XSLT is not suitable

[00:39:02.0000] <hsivonen>
othermaciej: did you see anne's link to the anti-XUL template article?

[00:41:00.0000] <othermaciej>
hsivonen: well, hyatt clearly has reason to be biased about things XULish

[00:42:00.0000] <othermaciej>
one thing that datatemplates seemed like they might be nice for is <datalist> used with an <input>; if the data source is external, you can convert it to the needed format client side

[00:43:00.0000] <othermaciej>
it would also be nice to have some way to get datagrid to bind to data

[00:43:01.0000] <othermaciej>
I did not see the link

[00:43:02.0000] <othermaciej>
is it in the logs?

[00:43:03.0000] <hsivonen>
I'm still entirely unconvinced that just writing JS binding glue isn't a better solution considering that it is backwards compatible and can do anything that is computable without having to escape to another solution

[00:44:00.0000] <hsivonen>
othermaciej: yes, it the logs. but here it is: http://www.jerf.org/resources/xblinjs/whyNotMozilla/notXulTemplates.html

[00:46:00.0000] <othermaciej>
the idea of general-purpose templating does sound kind of cool, but to be fair it also seems like the area is littered with half-assed failures

[00:47:00.0000] <hsivonen>
(even though querySelector() and E4X tree literals aren't backwards compatible, Prototype and jQuery plus innerHTML are Good Enough substitutes)

[00:47:01.0000] <othermaciej>
maybe better to stick to adopting solutions where there is no script-based alternative and/or where an appropriate solution is clear

[00:55:00.0000] <othermaciej>
reading that reminds me of using XSLT vs. a perl script and regexps for document transforms for some reason

[00:55:01.0000] <othermaciej>
"clever" declarative solution that makes simple things into a mind puzzle

[00:55:02.0000] <othermaciej>
some people find that sort of thing fun

[01:03:00.0000] <hsivonen>
Hixie: your blog front page seems to have so have Pingback-related UTF-8 badness (lone byte 0xC2 for example)

[01:05:00.0000] <othermaciej>
hsivonen: I'm asking hyatt to tell me about templates on #webkit

[01:30:00.0000] <othermaciej>
hello hyatt 

[01:31:00.0000] <hyatt>
hi

[01:32:00.0000] <hsivonen>
hi

[01:34:00.0000] <hsivonen>
hyatt: do we expect Web apps to have multiple view of a data source often enough to engineer a built-in feature for that case?

[01:34:01.0000] <hyatt>
yeah that's a good question

[01:36:00.0000] <hsivonen>
when I did the "remarkably short" manual binding, I had code that loaded the model tree via XHR and looped over it to copy the data to the view tree. at the same time, as each view chunk was created, I added closures that captured model references as view onchange handlers, so changes to the view were immediately reflected in the model

[01:36:01.0000] <hsivonen>
then I used XHR for sending the model back

[01:36:02.0000] <hyatt>
those closures would take up a lot of memory

[01:37:00.0000] <hyatt>
if you mean you had 1 for each "data item" basically

[01:37:01.0000] <hsivonen>
yes, one for each item that needed to be synced back to the model

[01:38:00.0000] <othermaciej>
I can see how that might hurt if you had thousands of editable items (like a bookmarks list or something)

[01:38:01.0000] <hyatt>
thats the kind of stuff that xul templates would avoid

[01:38:02.0000] <hyatt>
having 3000 JS objects for closures

[01:38:03.0000] <hyatt>
for example

[01:40:00.0000] <hsivonen>
if I hadn't created new closures but had shared the same syncing function instance on each item and had a separate plain object reference to the model on each item would that have been acceptable?

[01:40:01.0000] <hsivonen>
does a custom object reference on a DOM node have such a memory overhead that creating new HTML language features is justified to avoid it?

[01:41:00.0000] <hyatt>
well some of this also depends on how well the template feature is implemented too

[01:41:01.0000] <hyatt>
it may take up a lot of memory also in order to efficiently transmit changes

[01:41:02.0000] <hsivonen>
especially considering that desktops already have abundant RAM and handheld resource grow all the time

[01:42:00.0000] <hyatt>
yeah

[01:42:01.0000] <hsivonen>
hyatt: what was the "yeah" in reference to?

[01:42:02.0000] <hyatt>
yeah i see your point

[01:43:00.0000] <hsivonen>
ok

[01:43:01.0000] <hyatt>
is there some way to observe changes in sqlite databases in whatwg's spec

[01:43:02.0000] <hyatt>
i don't think this feature is just about binding to XML DOM data back ends

[01:44:00.0000] <hyatt>
but should be about binding to a database

[01:44:01.0000] <othermaciej>
the whatwg spec doesn't have a way to observe changes on the database

[01:44:02.0000] <hyatt>
even if we never do something like datatemplate, we should make sure it's easy to observe database changes in JS

[01:44:03.0000] <othermaciej>
I'm not sure databases with sql-based APIs have that

[01:44:04.0000] <othermaciej>
I was thinking about it just now though

[01:44:05.0000] <hyatt>
i'm sure they must have something since i think mozilla is moving to that kind of database

[01:44:06.0000] <hyatt>
and xul templates have to work

[01:45:00.0000] <othermaciej>
seems like you can't just use the database as a data model if it doesn't have change notification, you need something on top

[01:45:01.0000] <hsivonen>
hyatt: can there be anything but the app itself modifying the database? wouldn't the right hand of the app effectively be observing what the left hand does with the db as an intermediate?

[01:45:02.0000] <othermaciej>
hsivonen: if the app is multiple windows and you can't observe, you need to make an ad-hoc change notification protocol

[01:45:03.0000] <hsivonen>
othermaciej: ok

[01:45:04.0000] <othermaciej>
you might even be running multiple instances that have no way (currently) to rendezvous

[01:46:00.0000] <othermaciej>
the Storage API does have change notifications

[01:46:01.0000] <othermaciej>
so you could use that for notification and the database for storage

[01:46:02.0000] <othermaciej>
but that seems crappy

[01:46:03.0000] <othermaciej>
I will ask the Safari team's local SQL experts about this tomorrow

[01:47:00.0000] <hyatt>
i really think you should be able to build UI easily from a local SQL database

[01:47:01.0000] <hyatt>
that might be modified dynamically

[01:47:02.0000] <hyatt>
e.g., maybe facebook dumps your friends list in there

[01:47:03.0000] <hyatt>
and updates it when you yank a friend

[01:48:00.0000] <hyatt>
would be cool if it was easy for the web page to just fix up the UI

[01:48:01.0000] <hyatt>
anywhere friends are being displayed

[01:49:00.0000] <aroben>
othermaciej: I think SQLite has callbacks for when data is changed

[01:49:01.0000] <hsivonen>
intuitively, the ability to register JS change listeners to a data source seems more complete than templating

[01:50:00.0000] <hyatt>
i certainly think it should be there

[01:50:01.0000] <hyatt>
regardless of whether templating is around

[01:50:02.0000] <aroben>
othermaciej: http://www.sqlite.org/capi3ref.html#sqlite3_update_hook

[01:50:03.0000] <hyatt>
(register change listeners to an SQL data source i mean)

[01:51:00.0000] <othermaciej>
aroben: ok, I'll get Brady to look at it and see if we can propose something

[01:51:01.0000] <hyatt>
the biggest negative i think about templates

[01:52:00.0000] <hyatt>
is that they can be rocket science

[01:52:01.0000] <hyatt>
to the average web site developer

[01:52:02.0000] <hyatt>
not many people at netscape could understand them

[01:52:03.0000] <hyatt>
but then again not many people at netscape could understand much of anything

[01:52:04.0000] <hsivonen>
basically, my concern with templates is this: the solution for easy cases and the solution for complex cases should not be separate but on the same continuum so that if you start with an easy case and find that you need to add something, you don't need to from the solution for easy cases go back to zero and restart with the solution for complex cases.

[01:53:00.0000] <hyatt>
yes i agree with that statement

[01:55:00.0000] <hyatt>
so here's some of what made templates nasty in xul

[01:55:01.0000] <hyatt>
templates were basically built on top of something called RDF

[01:55:02.0000] <hyatt>
RDF's job was to aggregate data from multiple data sources

[01:55:03.0000] <hyatt>
into a graph

[01:56:00.0000] <hyatt>
thus you could think of data as being a collection of "assertions" made between nodes in some universe

[01:56:01.0000] <hyatt>
much of the complexity and headaches of xul templates

[01:57:00.0000] <hyatt>
arose from having to talk to a graph rather than a tree

[01:57:01.0000] <hyatt>
e.g., it wasn't clear what relationships would constitute "parent/child" relationships

[01:57:02.0000] <hyatt>
and which would be "attributes"

[01:58:00.0000] <hyatt>
RDF also had funny performance limitations

[01:58:01.0000] <hyatt>
because it produces a graph

[01:58:02.0000] <hyatt>
it's actually very bad at say removing an item from an ordered sequence

[01:58:03.0000] <hyatt>
because what you have is arcs labeled 1, 2, 3, 4, 5 etc.

[01:58:04.0000] <hyatt>
so inserting an item could force a renumbering to occur

[01:59:00.0000] <hyatt>
in other words conventional "DOM"-like trees are actually very clumsy to operate on or manipulate when represented via RDF

[01:59:01.0000] <hyatt>
and yet much of the data that XUL wanted to operate on was more naturally representable as a tree rather than a graph

[01:59:02.0000] <hyatt>
e.g., bookmarks

[02:00:00.0000] <hyatt>
so RDF can be blamed for a lot of the performance troubles that XUL templates have

[02:00:01.0000] <hyatt>
it's not really the template that is slow, it's the RDF updating

[02:01:00.0000] <hyatt>
so anyway if the back end is more of a tree model

[02:01:01.0000] <hyatt>
or even a list model where items can be updated and indexed efficiently

[02:02:00.0000] <hyatt>
the syntax and performance of a template should be much better than in XUL

[02:03:00.0000] <hyatt>
i think the big question is, will web pages be producing apps of such complexity that they would benefit from templates

[02:03:01.0000] <hyatt>
most of the time, the answer is "probably not"

[02:14:00.0000] <hsivonen>
yeah, there's the problem that the application needs to match the level of complexity templates assume. If it is too simple, templates don't help. If it is too complex, templates don't help, either (without growing into an awkward programming language like XSLT)

[02:14:01.0000] <hyatt>
there is something XSLT-like about templates

[02:14:02.0000] <hyatt>
but i do think they are simpler

[02:14:03.0000] <hyatt>
than XSLT at least

[02:14:04.0000] <hsivonen>
zcorpan: HTML 4.0 is now special-cased: http://validator.nu/?doc=http%3A%2F%2Fln.hixie.ch%2F

[02:14:05.0000] <hyatt>
you can think of the firefox "web app" as being incredibly complex :)

[02:14:06.0000] <hyatt>
hsivonen: this is kind of a feeble argument

[02:14:07.0000] <hyatt>
hsivonen: but other languages like flex do have these features

[02:14:08.0000] <hyatt>
hsivonen: i.e., it may be perceived as something we should have in the language to "keep up" with other RIA alternatives

[02:14:09.0000] <hyatt>
i guess i convinced hixie that this feature is cool

[02:14:10.0000] <hyatt>
:)

[02:15:00.0000] <hyatt>
i'll look at the thread soon hopefully

[02:15:01.0000] <hyatt>
and see what was actually proposed

[02:15:02.0000] <hsivonen>
/me googles for flex bindings

[02:16:00.0000] <hyatt>
yeah i need to research those also

[02:16:01.0000] <hyatt>
i am stating that they are similar

[02:16:02.0000] <hyatt>
but could be totally mistaken

[02:16:03.0000] <hyatt>
hsivonen: i think at some point it might be worthwhile tryign to pick some of the html5 features to punt to html6

[02:16:04.0000] <hyatt>
or 5.1

[02:17:00.0000] <hyatt>
or whatever the next version will be

[02:17:01.0000] <hyatt>
html5 is just huge and intimidating at this point

[02:17:02.0000] <hyatt>
so much new stuff

[02:17:03.0000] <hsivonen>
hyatt: yeah

[02:18:00.0000] <hsivonen>
/me notes that Adobe has copied the year-in-namespace-URI anti-pattern from the W3C

[02:18:01.0000] <hyatt>
bedtime for me

[02:18:02.0000] <hyatt>
night

[02:22:00.0000] <hsivonen>
hmm. the first Flex examples Adobe offers don't have anything in them explaining why you wouldn't want to use an onchange event handler plus a matching initializer (except you avoid the part of having to write the matching initializer)

[02:23:00.0000] <hsivonen>
heh. the Flex reference is like javadocs after a treatment by a graphic designer

[02:26:00.0000] <hsivonen>
wow, flex is huge. I wonder how many person-centuries Adobe has put into this proprietary platform

[02:57:00.0000] <mpt>
othermaciej, with special types of buttons for add/remove, WebKit can know to draw them as (–)(+) in Mac OS X rather than as [–][+] :-)

[02:59:00.0000] <othermaciej>
mpt: huh?

[03:00:00.0000] <mpt>
<othermaciej> it seems weird to me to have specialized kinds of button controls just for these two actions

[03:01:00.0000] <othermaciej>
mpt: yes, but I don't understand what you are saying about (-)(+) vs [-][+]

[03:02:00.0000] <mpt>
I mean circular (like all the add/remove row buttons in Mac OS X), rather than rectangular (like typical <button>s)

[03:10:00.0000] <annevk>
anyone here who happens to know how to limit a <Files foo> to the current directory in Apache?

[03:11:00.0000] <annevk>
I'm confused, why does http://www.whatwg.org/specs/web-apps/current-work/ have the W3C specification layout?

[03:21:00.0000] <mpt>
It's a conspiracy

[03:22:00.0000] <mpt>
Either that, or a CVS error

[03:22:01.0000] <annevk>
WHATWG uses SVN

[03:22:02.0000] <annevk>
maybe Hixie's script messed up

[03:26:00.0000] <mpt>
I get a 502 Proxy Error on the w3.org version, but not on the rest of w3.org

[03:27:00.0000] <annevk>
dev.w3.org seems down

[03:37:00.0000] <annevk>
it's up again

[05:05:00.0000] <zcorpan>
hmm. is the [[Get]] method on HTMLDocument defined in html5?

[05:07:00.0000] <annevk>
don't think so

[05:08:00.0000] <zcorpan>
/me reverse engineers the others

[05:51:00.0000] <zcorpan>
hmm, role in svg eh

[05:51:01.0000] <zcorpan>
then html:role might as well be dropped altogether?

[05:52:00.0000] <annevk>
yeah

[05:52:01.0000] <annevk>
it's of no use in languages that have no notion of focusability anyway

[05:54:00.0000] <zcorpan>
indeed

[05:54:01.0000] <zcorpan>
post this to the list?

[05:54:02.0000] <annevk>
and making that global too just leads to people using the wrong format

[05:56:00.0000] <zcorpan>
although allowing it for any format makes it easier to support in a particular format; just add a way to make elements focusable

[05:57:00.0000] <annevk>
that depends on how you implement it

[05:58:00.0000] <annevk>
another way would be: just add a namespace URI to some list

[06:59:00.0000] <gsnedders>
/me laughs at rumours that Apple is working on something to rival Google Gears

[07:12:00.0000] <zcorpan>
annevk: could you rephrase? i don't follow

[07:14:00.0000] <annevk>
i'm saying that the cost of adding support for these attributes on n-formats does not have to be big

[07:20:00.0000] <zcorpan>
annevk: ok. indeed

[07:21:00.0000] <zcorpan>
we'd still have to support aaa:foo="" though

[07:21:01.0000] <zcorpan>
i think

[07:22:00.0000] <zcorpan>
unless we can convince dojo to use both aria-foo and aaa:foo

[07:25:00.0000] <annevk>
lets hope we can

[07:33:00.0000] <zcorpan>
i've emailed aaronlev and anders, let's see what they think

[08:53:00.0000] <Philip`>
It's slightly irritating that when I find a nice technique in SVG to achieve some effect, I then find that the implementations of that feature are unusably buggy

[09:23:00.0000] <zcorpan>
man, ie's handling of <object> is harier than i thought

[09:25:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cbody%3E%3Cobject%20name%3Dx%3E%3Cembed%20name%3Dx%3E%3C%2Fobject%3E%0D%0A%3Cscript%3E%0D%0Aw(%22document.x.length%3A%20%22%20%2B%20document.x.length)%0D%0Aw(%22tagName%3A%20%22%20%2B%20document.x.tagName)%0D%0Aw(%22innerHTML%3A%20%22%20%2B%20document.x.innerHTML)%0D%0Aw(%22firstChild%3A%20%22%20%2B%20document.x.firstChild)%0D%0A%3C%2Fscript%3E

[09:47:00.0000] <hsivonen>
Any advice whether I should bother to insist on my mobileOK comments or just let it be?

[10:02:00.0000] <zcorpan>
hsivonen: depends on whether you like wasting your time ;)

[10:03:00.0000] <hsivonen>
zcorpan: I take that as a "let it be"

[10:04:00.0000] <zcorpan>
yeah

[10:04:01.0000] <hsivonen>
though I find it *absurd* to say that XML 1.1 is OK but PNG isn't

[10:04:02.0000] <zcorpan>
indeed

[10:04:03.0000] <zcorpan>
or to pretend that XML is being dealt with in the first place

[10:04:04.0000] <zcorpan>
it's just harmful to XML

[10:05:00.0000] <zcorpan>
it might force opera to also use the html parser for xml content

[10:08:00.0000] <hsivonen>
Also, this imaginary profile doesn't make sense. 

[10:09:00.0000] <hsivonen>
I have 2 mobile devices currently and both only host browsers based on engines that you can expose to real Web content

[10:16:00.0000] <hsivonen>
hmm. reading the XHTML 1.0 RNG schema I find some presentational attributes I didn't remember even existed

[10:16:01.0000] <hsivonen>
frame and rules

[10:32:00.0000] <zcorpan>
on <table> right

[10:48:00.0000] <hsivonen>
zcorpan: Regarding the HTML 4.0 request: do you have an opinion on treating all quirky doctypes as html4?

[10:48:01.0000] <hsivonen>
or should I just special-case HTML 4.0 doctypes?

[10:50:00.0000] <hsivonen>
/me special-cases HTML 4.0

[11:19:00.0000] <zcorpan>
hsivonen: just 4.0

[11:23:00.0000] <hsivonen>
zcorpan: ok

[12:51:00.0000] <Hixie>
wow i've no idea how the whatwg page ended up with the w3c stylesheet

[12:51:01.0000] <Hixie>
that's screwed up

[13:18:00.0000] <hsivonen>
zcorpan: I think I've nailed HTML 4.0 support now: http://validator.nu/?doc=http%3A%2F%2Fln.hixie.ch%2F

[13:19:00.0000] <zcorpan>
hsivonen: nice!

[13:28:00.0000] <hsivonen>
zcorpan: Re: the way duplicate IDs on imageshack are reported as two errors as opposed to error plus info: that comes from the bowels of Jing, which doesn't know about info

[13:28:01.0000] <hsivonen>
zcorpan: I think I should move the XHTML 1.0 ID duplicate checking to a new mechanism when I write a new mechanism for HTML5

[13:35:00.0000] <hsivonen>
am I reading correcly that XSD regexps don't have \u escapes?

[13:37:00.0000] <hsivonen>
/me still doesn't like white space differences between HTML5 and XML

[13:40:00.0000] <hsivonen>
Hixie: just checking: enumerated values are now ASCII-case-insensitive for both HTML5 and XHTML5, right? (this appears to have changed when I wasn't looking)

[15:11:00.0000] <Philip`>
"A date or time string is a valid date or time string if the following algorithm, when run on the string, doesn't say the string is invalid." - that's totally helpful

[15:11:01.0000] <Philip`>
/me tries reading the 67-step algorithm

[15:22:00.0000] <gsnedders>
Philip`: that and the parsing algorithm are the only two sections I've yet to review

[15:45:00.0000] <Philip`>
^\s*(\d\d\d\d-\d\d-\d\d\s*T?\s*\d\d:\d\d(:\d+\.?\d*)?\s*(Z|[+-]\d\d:\d\d)|\d\d:\d\d(:\d+\.?\d*))\s*$

[15:45:01.0000] <Philip`>
Much easier to read

[15:46:00.0000] <Philip`>
but it seems odd that you can't have a valid date (no time) string, so maybe I'm missing something

[15:50:00.0000] <Philip`>
^\s*(\d\d\d\d-\d\d-\d\d(\s+|\s*T?\s*)\d\d:\d\d(:\d+\.?\d*)?\s*(Z|[+-]\d\d:\d\d)|\d\d:\d\d(:\d+\.?\d*))\s*$ - oops, bugfix

[15:50:01.0000] <Philip`>
Ugh

[15:50:02.0000] <Philip`>
^\s*(\d\d\d\d-\d\d-\d\d(\s+|\s*T\s*)\d\d:\d\d(:\d+\.?\d*)?\s*(Z|[+-]\d\d:\d\d)|\d\d:\d\d(:\d+\.?\d*))\s*$

[15:51:00.0000] <Hixie>
are you have connection issues?

[15:51:01.0000] <Hixie>
:-P

[15:54:00.0000] <Philip`>
^\s*(\d\d\d\d-\d\d-\d\d(\s+|\s*T\s*)\d\d:\d\d(:\d+\.?\d*)?\s*(Z|[+-]\d\d:\d\d)|\d\d:\d\d(:\d+\.?\d*)?)\s*$

[15:55:00.0000] <Philip`>
Sorry, I think there's a newt in my keyboard that's typing regexps at me :-(

[15:55:01.0000] <Hixie>
looks like an ISO-8601 regexp to me, but i recommend perl's /x option

[15:56:00.0000] <Philip`>
Pfah! Whitespace is for Python programmers

[15:56:01.0000] <Hixie>
lol

[16:03:00.0000] <Dashiva>
I'd recommend quantifiers

[16:03:01.0000] <Hixie>
i want the part of my brain that knows all the http response codes off by heart back.

[16:04:00.0000] <Dashiva>
404

[16:04:01.0000] <Dashiva>
Actually, probably 410

[16:04:02.0000] <Hixie>
(as in, i want to reclaim that part of my brain, as i don't think it's something i actually need to remember)

[16:04:03.0000] <Hixie>
it just seems wrong to me that i just instinctively know it's "304 Not Modified".

[16:04:04.0000] <Hixie>
and not 305... or 303... or whatever.

[16:04:05.0000] <Philip`>
Dashiva: Like \d{2}? That's longer than just typing \d\d

[16:05:00.0000] <Dashiva>
It's more readable, and it's shorter for n>2

[16:05:01.0000] <Hixie>
(Use Proxy... See Other...)

[16:05:02.0000] <Dashiva>
207?

[16:05:03.0000] <Philip`>
There's only one value in datetime with n>2, and far more with n<=2 :-)

[16:05:04.0000] <Dashiva>
Still more readable :)

[16:06:00.0000] <Hixie>
207?

[16:06:01.0000] <Dashiva>
What's that one?

[16:06:02.0000] <Hixie>
probably webdav or something

[16:06:03.0000] <Hixie>
i don't know of a 207 in http 1.1

[16:06:04.0000] <Hixie>
the google says 207 MULTISTATUS

[16:06:05.0000] <Dashiva>
Impressive

[16:08:00.0000] <Hixie>
RFC4918:11.1 says 207 Multi-Status

[16:08:01.0000] <Hixie>
defined in section 13

[16:09:00.0000] <Hixie>
jesus wept, webdav needs to crawl down a hole and die

[16:09:01.0000] <Hixie>
/me goes back to defining manifest parsing


2007-10-05
[17:10:00.0000] <Hixie>
parsing rules written.

[17:11:00.0000] <Hixie>
next is... the processing model, i guess

[17:13:00.0000] <Dashiva>
Hixie: Re:database names and paths, how about making them default to the active path (as a name prefix, or input parameter, or whatnot), but allow an override? That way they won't conflict by accident, and they can still be shared if needed

[17:14:00.0000] <Hixie>
so moving an application around on a host breaks it?

[17:14:01.0000] <Hixie>
i guess we could

[17:15:00.0000] <Dashiva>
Moving an application is rarely a non-breaking operation anyhow

[17:15:01.0000] <Hixie>
really?

[17:15:02.0000] <Dashiva>
There's always some URL that should've been absolute and was relative

[17:15:03.0000] <Hixie>
fair enough

[17:16:00.0000] <Hixie>
the problem i see though is that i think duplicate installs of the same software on a host are going to be at least as likely as moving installed software around on a host

[17:16:01.0000] <Hixie>
so you're just trading conflicts for breakages

[17:16:02.0000] <Hixie>
(and in both cases the software can be written/configured to work around it)

[17:16:03.0000] <Dashiva>
True

[17:17:00.0000] <Dashiva>
I guess I consider it better to support the case where several parties are involved, since it's much harder to coordinate

[17:17:01.0000] <Hixie>
but it's only gonna be an issue when you install the same software, and software can already just use location.path as part of their database name if they want

[17:18:00.0000] <Dashiva>
Yes, but that requires every user to make that effort, rather than one user in the case of moving an app

[17:18:01.0000] <Hixie>
it requires one application software author to make the effort, instead of every user moving apps around

[17:19:00.0000] <Hixie>
s/apps/that app/

[17:19:01.0000] <Dashiva>
No, if the author does it, it will break users moving apps

[17:19:02.0000] <Hixie>
my point is i don't really see it as being much of a gain in either direction

[17:19:03.0000] <Hixie>
there are tradeoffs and i don't really see either as being better than the other

[17:19:04.0000] <Hixie>
(except that the status quo is simpler to spec and implement)

[17:22:00.0000] <Dashiva>
That matters too, yeah

[18:11:00.0000] <Hixie>
othermaciej_: yt?

[18:11:01.0000] <Hixie>
othermaciej_: if i am at a page that's offline

[18:11:02.0000] <othermaciej_>
Hixie: yep what's up

[18:11:03.0000] <Hixie>
but i'm online

[18:11:04.0000] <Hixie>
and the page has an <iframe> that references a page that's not in the cache

[18:11:05.0000] <Hixie>
right now the spec says to fail the load.

[18:11:06.0000] <Hixie>
(unless the page is whitelisted)

[18:12:00.0000] <Hixie>
but what if the page is one that isn't in the cache but has a defined fallback page?

[18:12:01.0000] <Hixie>
should we fetch it and cache it and display it, since we're online?

[18:12:02.0000] <Hixie>
or should we fail it? or show the fallback page?

[18:13:00.0000] <Hixie>
i guess we should fetch it

[18:45:00.0000] <Hixie>
an even more complicated problem is what to do if you go to the same page in two different tabs, if that page needs to be cached but it hasn't been cached yet

[18:54:00.0000] <Hixie>
sometimes i wish i could just write the spec in code

[18:54:01.0000] <Hixie>
there are some things that are just so much simpler to explain in code

[19:06:00.0000] <Hixie>
ugh

[19:07:00.0000] <Hixie>
what happens if you go to A, which has manifest M, which downloads files B and C, where C takes a long time

[19:07:01.0000] <Hixie>
and before C finishes, but after B is added to the cache, you go to B, which has by this point changed to B'

[19:07:02.0000] <Hixie>
and B' also points to M

[19:08:00.0000] <Hixie>
right now B gets overridden by B'

[19:27:00.0000] <Hixie>
much of the processing model is now defined too

[19:28:00.0000] <Hixie>
this is gonna be one almighty checkin once it goes in

[19:28:01.0000] <Hixie>
probably gonna take me an hour just to write the checkin message

[19:33:00.0000] <Hixie>
(it's a 2680 line patch so far)

[19:34:00.0000] <Hixie>
three major big-issues to fix before i check it in

[19:34:01.0000] <Hixie>
but those are gonna be relatively easy

[21:36:00.0000] <othermaciej>
Hixie: sorry, had to run off suddenly earlier

[21:36:01.0000] <othermaciej>
Hixie: I think anything with a fallback page defined should be implicitly online whitelisted as well

[01:29:00.0000] <virtuelv>
yuck, a document with two bodies, two dtd's

[04:45:00.0000] <zcorpan>
does anyone know how IE handles <object>? just the parsing/DOM bit?

[04:47:00.0000] <zcorpan>
i can't figure it out

[04:51:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Cobject%3Ex%3C%2Fobject%3E%0D%0A%3Cscript%3E%0D%0Aw(document.getElementsByTagName(%22object%22)%5B0%5D)%3B%0D%0Awindow.setTimeout(%22w(document.getElementsByTagName('object')%5B0%5D)%22%2C%20100)%3B%0D%0A%3C%2Fscript%3E

[04:53:00.0000] <zcorpan>
ok, so ie replaces the object with its contents after the "load" event (if it is to do so)

[04:55:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Cobject%3E%3Ciframe%3E%3C%2Fobject%3Ex%0D%0A%3Cobject%3E%3Ciframe%3E%3Cparam%3E%3C%2Fobject%3Ey

[04:57:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Cobject%3E%3Ciframe%3E%3C%2Fobject%3Ex%0D%0A%3Cobject%3E%3Ciframe%3E%3Cparam%3E%3C%2Fobject%3Ey%0D%0A%3Cobject%3E%3Ciframe%3E%20%3Cparam%3E%3C%2Fobject%3Ez

[05:08:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Cobject%3Ex%3Cparam%20name%3D%22x%22%3Ex%3Cbr%3E%3C%2Fobject%3E%0D%0A%3Cscript%3E%20w(document.getElementsByTagName(%22object%22)%5B0%5D.innerHTML)%20%3C%2Fscript%3E

[05:08:01.0000] <zcorpan>
vs

[05:08:02.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Cobject%3Ex%3Cparam%20name%3D%22%22%3Ex%3Cbr%3E%3C%2Fobject%3E%0D%0A%3Cscript%3E%20w(document.getElementsByTagName(%22object%22)%5B0%5D.innerHTML)%20%3C%2Fscript%3E

[05:09:00.0000] <zcorpan>
it seems ie has a special tokenization rules for <object>

[06:30:00.0000] <beowulf>
hi

[06:30:01.0000] <zcorpan>
hi beowulf

[06:31:00.0000] <beowulf>
could someone point me to any discussion on mobile profiles in html5? the position paper said they were a bad idea and i just wondered if iI could read the arguments for/against that?

[06:33:00.0000] <zcorpan>
http://lists.w3.org/Archives/Public/public-bpwg-comments/2007OctDec/thread.html

[06:34:00.0000] <zcorpan>
though those comments don't really discuss why profiling is good or bad

[06:34:01.0000] <hsivonen>
beowulf: profiling assumes that content should adapt to clients that suck

[06:35:00.0000] <hsivonen>
beowulf: the only property of handhelds that should be expected to suck permanently is the physical screen size

[06:35:01.0000] <hsivonen>
beowulf: and that's a CSS-level problem

[06:35:02.0000] <hsivonen>
beowulf: that is, media queries, not profiling HTML

[06:36:00.0000] <hsivonen>
beowulf: also, serving less content doesn't mean cutting down the language but cutting the content

[06:38:00.0000] <beowulf>
ok, i agree with that from the point of view of content authors

[06:38:01.0000] <beowulf>
but html5 isn't only aimed at content authors, it's aimed at browser manufacturers, no?

[06:39:00.0000] <beowulf>
s/html5/the html5 spec/

[06:39:01.0000] <hsivonen>
beowulf: yes, but there are browser vendors who make capable mobile browsers

[06:40:00.0000] <beowulf>
true, there are also browser manufacturers who make really incapbale mobile browsers, and i'm wondering if something can be done to help them focus on the right thing

[06:40:01.0000] <beowulf>
it's not neccessarily a html5 thing though

[06:41:00.0000] <hsivonen>
beowulf: why shouldn't they be expected to develop capable and competitive products instead of using a profile as an excuse not to?

[06:41:01.0000] <beowulf>
well that's fine as an ideal

[06:41:02.0000] <beowulf>
it doesn't seem to be working though

[06:42:00.0000] <zcorpan>
users can stop using browsers that suck

[06:42:01.0000] <beowulf>
not that mobile profiles are neccessarily the answer

[06:42:02.0000] <zcorpan>
then either they have to improve or they die

[06:42:03.0000] <hsivonen>
I don't buy mobile hardware that doesn't run at least one browser that's based on Gecko, WebKit or Opera

[06:43:00.0000] <hsivonen>
(Opera Mini counts as Opera in this case)

[06:43:01.0000] <beowulf>
i'm not convinced the majority make their mobile buying decisions in the same way

[06:43:02.0000] <beowulf>
though it would be nice for me

[06:44:00.0000] <zcorpan>
no, the majority don't use their mobile's browser at all

[06:44:01.0000] <zcorpan>
(i think)

[06:44:02.0000] <beowulf>
yes, in some cases because it sucks

[06:44:03.0000] <hsivonen>
from the user point of view, a browser that doesn't work with the real Web is utterly uninteresting

[06:45:00.0000] <hsivonen>
so either you don't use the Web from a mobile or get a browser that can deal with the Web

[06:46:00.0000] <hsivonen>
the browser on my old phone was good for two things: 1) running test cases that showed that the browser lacks a real XML parser and 2) downloading a better browser

[06:46:01.0000] <beowulf>
:)

[06:46:02.0000] <beowulf>
(your point on XML parsers is well made)

[06:52:00.0000] <zcorpan>
hsivonen: does minimo use an xml parser?

[06:52:01.0000] <hsivonen>
zcorpan: I don't know, but MicroB does

[06:52:02.0000] <beowulf>
MicroB?

[06:52:03.0000] <hsivonen>
beowulf: Nokia's Gecko port to Maemo

[06:53:00.0000] <zcorpan>
hsivonen: ok, interesting

[06:55:00.0000] <beowulf>
so that's 3...

[06:55:01.0000] <hsivonen>
zcorpan: though the current version has a bug that can cause the YSoD on well-formed pages

[06:57:00.0000] <zcorpan>
hsivonen: have you tracked down the bug? :)

[07:00:00.0000] <hsivonen>
zcorpan: no, but I have reported it.

[07:01:00.0000] <hsivonen>
https://bugs.maemo.org/show_bug.cgi?id=2040

[07:11:00.0000] <hsivonen>
Hixie: I notice that you now allow event-source as block or inline. What's the compat story with the lack of end tag?

[07:15:00.0000] <zcorpan>
hsivonen: gotta love that editorial suggestions get bikeshedded :)

[07:16:00.0000] <hsivonen>
zcorpan: I just wanted to record a note with Hixie so that the spec is more useful for me in the future as I intend to scrape the element definitions for UI text

[07:17:00.0000] <zcorpan>
yep

[07:19:00.0000] <beowulf>
thanks for your help guys

[07:19:01.0000] <beowulf>
:)

[07:20:00.0000] <hsivonen>
hmm. the content model for datalist is weird

[07:22:00.0000] <zcorpan>
why?

[07:24:00.0000] <zcorpan>
empty options or transparent

[07:25:00.0000] <hsivonen>
zcorpan: typo. I meant datagrid

[07:26:00.0000] <hsivonen>
any block level but not table as the first child is weird

[07:26:01.0000] <hsivonen>
as it only bans trailing block content after a table

[07:26:02.0000] <hsivonen>
but otherwise you could have whatever where a table occurs somewhere

[07:29:00.0000] <zcorpan>
i haven't wrapped my head around datagrid yet

[07:56:00.0000] <zcorpan>
hmm, about e4x and <!--

[07:56:01.0000] <zcorpan>
what's the value of being able to represent comment nodes with e4x?

[07:58:00.0000] <zcorpan>
i mean, it's incompatible with "<!--" being a js comment

[07:59:00.0000] <hsivonen>
zcorpan: isn't that handled by the script type parameter?

[08:00:00.0000] <zcorpan>
yeah. i don't like it

[08:03:00.0000] <hsivonen>
hmm. was <command> in <head> forbidden earlier?

[08:04:00.0000] <zcorpan>
don't think so

[08:04:01.0000] <hsivonen>
I've marked <command> in <head> nonHTMLizable but I don't find explanation in the spec.

[08:05:00.0000] <hsivonen>
/me writes test case

[08:05:01.0000] <zcorpan>
the parsing section doesn't say what to do with it yet :)

[08:05:02.0000] <zcorpan>
treating unknown tags as empty elements when found in head (like firefox does) makes <command> in head nicer for legacy UAs

[08:06:00.0000] <zcorpan>
though i don't like firefox's way of deciding whether something is "in head" or not

[08:07:00.0000] <zcorpan>
which depends on whether there was an actual <head> start tag

[08:07:01.0000] <hsivonen>
yeah, this explains it: http://parsetree.validator.nu/?doc=http%3A%2F%2Fhsivonen.iki.fi%2Ftest%2Fmoz%2Fcommand-in-head.html&submit=Print+Tree

[08:08:00.0000] <hsivonen>
I guess I should mark <event-source> in <head> nonHTMLizable as well

[08:08:01.0000] <hsivonen>
Hixie: it would really help if the spec had notes about non-obvious implications like this

[08:10:00.0000] <zcorpan>
http://validator.nu/?doc=http%3A%2F%2Fhsivonen.iki.fi%2Ftest%2Fmoz%2Fcommand-in-head.html&showsource=yes

[08:10:01.0000] <zcorpan>
isn't there an error message missing?

[08:11:00.0000] <hsivonen>
whoa.

[08:11:01.0000] <hsivonen>
I've done something bad

[08:12:00.0000] <hsivonen>
I should prioritize regression testing

[08:21:00.0000] <hsivonen>
zcorpan: fixed. thanks

[08:31:00.0000] <hsivonen>
Hixie: I think the content model of datalist is not well-defined when used as a child of datagrid

[08:32:00.0000] <hsivonen>
Hixie: I'm guessing it is the same as in static block context

[08:43:00.0000] <hsivonen>
I guess regression testing for validator.nu should exercise the whole thing through the Web service API

[08:43:01.0000] <hsivonen>
previous attemps to test only parser / schemas have failed to catch differences between the harness and actual deployment

[09:56:00.0000] <Hixie>
hsivonen: the new elements and their integration with the parser and old elements hasn't been explained at all yet

[09:57:00.0000] <Hixie>
hsivonen: re datalist, send mail

[09:57:01.0000] <Hixie>
/me goes to a meeting

[11:33:00.0000] <Hixie>
hey, last call for role="" is out

[11:34:00.0000] <Hixie>
i wonder if it defines what role="" does

[12:36:00.0000] <Hixie>
ok the offline stuff is now basically defined.

[12:36:01.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/#offline

[12:36:02.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/multipage/section-offline.html#offline

[12:36:03.0000] <Hixie>
oh no wait i haven't defined the API yet.

[12:36:04.0000] <Hixie>
crap.

[12:36:05.0000] <Hixie>
duh

[12:37:00.0000] <Hixie>
but that's pretty trivial

[12:37:01.0000] <Hixie>
so if people want to start reviewing it, now's a good time.

[12:40:00.0000] <jwalden>
Hixie: did any Moz people ever write up and propose navigator.isLocallyAvailable()?

[15:05:00.0000] <Hixie>
jwalden: no


2007-10-06
[18:57:00.0000] <Hixie>
well the API turned out to be less trivial than i expected

[18:57:01.0000] <Hixie>
but it is done

[19:41:00.0000] <aroben>
Hixie: implicit entries are resources that are loaded by a document that is associated with a cache?

[19:41:01.0000] <aroben>
Hixie: e.g., images in a document associated with a cache?

[19:42:00.0000] <aroben>
Hixie: if so, the wording is a bit unclear

[19:58:00.0000] <aroben>
Hixie: or perhaps the only implicit entry is the document itself?

[21:35:00.0000] <aroben>
Hixie: disregard those questions

[21:35:01.0000] <aroben>
Hixie: reading the whole section aids understanding :-)

[03:19:00.0000] <virtuelv>
/me is still pondering captioning

[04:23:00.0000] <hsivonen>
Hixie: mail about datalist content model sent to public-html

[06:32:00.0000] <gsnedders>
hmmm…

[06:32:01.0000] <gsnedders>
Edinburgh Uni teaches Java

[07:40:00.0000] <Philip`>
gsnedders: Are you considering that as a negative point? :-)

[07:40:01.0000] <gsnedders>
Philip`: no, just stating a fact

[07:40:02.0000] <gsnedders>
Philip`: IMO Java has got a lot better recently

[07:41:00.0000] <Philip`>
/me wonders if there are many places that don't teach Java

[07:42:00.0000] <Philip`>
(I'm only familiar with Cambridge, which does ML and then Java)

[07:42:01.0000] <gsnedders>
Philip`: for what subject?

[07:42:02.0000] <gsnedders>
CS?

[07:42:03.0000] <Philip`>
Yes

[07:43:00.0000] <gsnedders>
ah. I'm looking at Computational Physics

[07:43:01.0000] <Philip`>
Ah, okay

[07:43:02.0000] <Philip`>
(There isn't even a physics course here, as far as I'm awar)

[07:43:03.0000] <Philip`>
+e

[07:43:04.0000] <gsnedders>
(and only five unis in the UK teach it)

[08:03:00.0000] <webben>
what is datatemplate for?

[12:04:00.0000] <takkaria>
Manchester teaches Java and C, but C is in the second year (that's CS)

[14:03:00.0000] <hsivonen>
gsnedders: It's rather sad that the practice of teaching Scheme as the first language to CS freshmen is dying

[14:03:01.0000] <gsnedders>
hsivonen: IIRC Edi was teaching Scheme for CS

[14:04:00.0000] <hsivonen>
gsnedders: I guess "was" is the operative word :-(

[14:04:01.0000] <gsnedders>
hsivonen: well, as of 2007/2008 season it was

[14:05:00.0000] <gsnedders>
hsivonen: haven't looked at CS for 2008/09

[14:05:01.0000] <hsivonen>
gsnedders: oh. cool. I thought you said above that Edinburgh uses Java

[14:05:02.0000] <gsnedders>
hsivonen: for computation physics

[14:05:03.0000] <hsivonen>
okay

[14:07:00.0000] <gsnedders>
(though not teaching a functional language for that is slightly surprising)

[14:13:00.0000] <Philip`>
(Is there any MATLAB in that?)

[14:17:00.0000] <gsnedders>
/me can't find detailed info about what is in the course, but the other unis in Britain that offer computational physics all have MATLAB in the,

[14:17:01.0000] <gsnedders>
*them

[14:18:00.0000] <gsnedders>
I think…

[14:18:01.0000] <gsnedders>
Or maybe my memory is long :)

[14:18:02.0000] <gsnedders>
*wrong

[14:18:03.0000] <gsnedders>
/me is too tired

[15:51:00.0000] <jruderman>
Hixie: why does getElementsByClassName with no classes return no items? it seems to me that it should return all the items.

[15:52:00.0000] <jruderman>
Hixie: or have i let set theory get to me?

[15:52:01.0000] <gsnedders>
jruderman: what happens when you call getElementsByTagName (or whatever its called) with no tag? IMO it's behaviour should be the same

[15:52:02.0000] <jruderman>
i disagree

[15:53:00.0000] <jruderman>
also, getElementsByTagName has a special "*" parameter

[15:53:01.0000] <gsnedders>
jruderman: I'm aware of *. I think getElementsByClassName should have a similar "*" case.

[15:53:02.0000] <Dashiva>
That would be the empty list, though

[15:53:03.0000] <jruderman>
going from "a b" to "a" means "i no longer care whether it's in class b", so going from "a" to "" should mean "i no longer care whether it's in class a"

[15:54:00.0000] <Dashiva>
gEBTN uses inclusion, gEBCN uses exclusion

[15:54:01.0000] <Dashiva>
(and most implementations I've seen use gEBTN('*') and then remove elements not matching the relevant classes)

[15:55:00.0000] <jruderman>
yeah, the current spec forces both implementations and users to treat the empty list of classes as a special case

[15:58:00.0000] <jruderman>
(also, gecko has a bug in that special case that causes it to leak an nsVoidArray)

[15:58:01.0000] <Dashiva>
By the way, where does it say to return no elements? I can't seem to find it

[15:58:02.0000] <Dashiva>
oh, nm

[15:58:03.0000] <jruderman>
"When called, the method must return a live NodeList object containing all the elements in the document that have all the classes specified in that array. If the array is empty, then the method must return an empty NodeList."

[15:59:00.0000] <jruderman>
http://www.whatwg.org/specs/web-apps/current-work/


2007-10-07
[08:59:00.0000] <OmegaJunior>
:)


2007-10-08
[04:58:00.0000] <OmegaJunior>
:)

[05:56:00.0000] <zcorpan>
hsivonen: http://forums.whatwg.org/viewtopic.php?t=114

[05:57:00.0000] <zcorpan>
<audio>'s transparent content model and <figure>'s content model don't seem to work together

[05:59:00.0000] <hsivonen>
zcorpan: in spec or in my impl?

[05:59:01.0000] <zcorpan>
in the spec

[05:59:02.0000] <hsivonen>
so does validator.nu have a bug?

[05:59:03.0000] <zcorpan>
not sure

[06:00:00.0000] <OmegaJunior>
But audio is embedded content, which is allowed in figure

[06:00:01.0000] <zcorpan>
yes, however <audio> has a transparent content model

[06:00:02.0000] <hsivonen>
OmegaJunior: Have you checked the latest spec on <audio>? you should do the format fallback using <source> instead of nested <audio>

[06:01:00.0000] <OmegaJunior>
Semi-transparent, does that make a difference?

[06:01:01.0000] <zcorpan>
http://www.whatwg.org/specs/web-apps/current-work/multipage/section-documents0.html#transparent0

[06:02:00.0000] <hsivonen>
/me isn't a fan of transparent content models

[06:02:01.0000] <OmegaJunior>
format fallback instead of nested? The latest spec says to nest source element inside audio element

[06:03:00.0000] <OmegaJunior>
zcorpan, that part on transparent content model makes my implementation correct and the validator wrong.

[06:04:00.0000] <zcorpan>
<figure><legend></legend><audio src=x>TEST</audio></figure> isn't conforming because <figure><legend></legend>TEST</figure> isn't

[06:04:01.0000] <OmegaJunior>
I must say, it's highly confusing.

[06:04:02.0000] <hsivonen>
OmegaJunior: you have two nested <audio> elements

[06:04:03.0000] <hsivonen>
I'm reviewing the schema for bugs

[06:04:04.0000] <zcorpan>
it seems to me that this is a bug in the spec

[06:04:05.0000] <OmegaJunior>
Yes, hsivonen, I do now... I started out with one audio element and two nested sources

[06:05:00.0000] <OmegaJunior>
I'll change that, but it'll have the same effect.

[06:05:01.0000] <hsivonen>
IIRC, this is a spec bug

[06:05:02.0000] <hsivonen>
I think I've mentioned this to Hixie

[06:07:00.0000] <hsivonen>
OmegaJunior: figure wants an embedded content element

[06:07:01.0000] <hsivonen>
OmegaJunior: and <audio> is transparent

[06:07:02.0000] <OmegaJunior>
Semi-transparent?

[06:07:03.0000] <hsivonen>
OmegaJunior: so the result is that the audio element wants an embedded child too

[06:07:04.0000] <hsivonen>
OmegaJunior: semi is about <source>

[06:08:00.0000] <OmegaJunior>
OK

[06:08:01.0000] <hsivonen>
so Validator.nu is unhelpful here, but it's really a spec issue

[06:08:02.0000] <OmegaJunior>
So removing the figure element should solve that problem

[06:08:03.0000] <hsivonen>
OmegaJunior: yes

[06:09:00.0000] <hsivonen>
This should probably be fixed by allowing text blocks as figures

[06:10:00.0000] <OmegaJunior>
Or maybe let media elements be real embed content?

[06:10:01.0000] <zcorpan>
they are embedded content

[06:10:02.0000] <OmegaJunior>
Spec says:

[06:10:03.0000] <OmegaJunior>
Contexts in which this element may be used:  

[06:10:04.0000] <OmegaJunior>
As the only embedded content child of a figure element.

[06:10:05.0000] <OmegaJunior>
So use in figure element should be according to spec

[06:11:00.0000] <OmegaJunior>
thus spec contradicts self

[06:11:01.0000] <zcorpan>
OmegaJunior: indeed, as we said it's a bug in the spec :)

[06:11:02.0000] <OmegaJunior>
OK :)

[06:11:03.0000] <OmegaJunior>
Thanks!

[06:11:04.0000] <zcorpan>
np

[06:12:00.0000] <hsivonen>
OmegaJunior: use of <audio> in <figure> is OK. but the transparent content model sucks in that case, because then the content of <audio> needs to be embedded content, too

[06:13:00.0000] <OmegaJunior>
So basically using block-level elements inside an audio element is impossible?

[06:13:01.0000] <OmegaJunior>
As fallback content?

[06:14:00.0000] <zcorpan>
yes (since the other context where <audio> is allowed is where strictly inline-level content is allowed)

[06:15:00.0000] <hsivonen>
OmegaJunior: impossible per current spec when audio occurs as the child of figure

[06:15:01.0000] <hsivonen>
oh, and what zcorpan said

[06:16:00.0000] <OmegaJunior>
That's going to provide a lot of feedback...

[06:16:01.0000] <OmegaJunior>
I can't use block- nor inline-level elements anywhere inside an audio element, according to the validator.

[06:17:00.0000] <OmegaJunior>
Basically this renders fallback content useless, as you can't provide one or more hyperlinks as alternatives to the content.

[06:18:00.0000] <hsivonen>
OmegaJunior: http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2007-April/010790.html

[06:19:00.0000] <hsivonen>
interestingly, Google didn't find that message with relevant keywords

[06:19:01.0000] <OmegaJunior>
Did you get an answer to that question?

[06:22:00.0000] <OmegaJunior>
That required descendant that I'm missing... that might be the embedded content you ask about in your question of last April.

[06:22:01.0000] <zcorpan>
OmegaJunior: it's probably on the list of open issues

[06:23:00.0000] <hsivonen>
OmegaJunior: I thought Hixie acknowledged it, but I can't find anything to that effect in the logs

[06:23:01.0000] <hsivonen>
OmegaJunior: yes. my guess is that the error goes away if you put an <img> or <embed> there...

[06:24:00.0000] <OmegaJunior>
I hope this confusion will be edited out before this thing goes live... say, in the next 14 years.

[06:24:01.0000] <hsivonen>
OmegaJunior: I hope so, too.

[06:25:00.0000] <hsivonen>
OmegaJunior: occasionally I take matters into my own hands if the spec says something silly, but in this case I'm going with the letter of the spec

[06:26:00.0000] <zcorpan>
the email is in the graphics-video folder in http://www.whatwg.org/issues/

[06:26:01.0000] <hsivonen>
OmegaJunior: <font> and style='' would be examples of me overriding the spec optimistically.

[06:26:02.0000] <OmegaJunior>
OK :)

[06:33:00.0000] <OmegaJunior>
Well, I finally found something that makes the validator happy

[06:33:01.0000] <OmegaJunior>
I did enter an embed element into the audio element

[06:34:00.0000] <OmegaJunior>
And moved my fallback content (what I consider fallback) outside of the figure

[06:34:01.0000] <OmegaJunior>
But the embed element itself can't have fallback content...

[06:35:00.0000] <OmegaJunior>
So it's either one of the sources, or an embed, or nothing.

[06:35:01.0000] <zcorpan>
i would suggest to ignore any error messages regarding <figure><audio>

[06:36:00.0000] <OmegaJunior>
That works too...

[06:37:00.0000] <zcorpan>
but links would probably be useful also for people with html5 browsers, so it makes sense to place the links outside the <audio>

[06:38:00.0000] <OmegaJunior>
Though that is true, it also makes sense to put them inside the element as fallback content.

[06:38:01.0000] <zcorpan>
yeah, if you want to hide the links from people with html5 browsers

[06:39:00.0000] <hsivonen>
(fallback is for legacy browsers--not for HTML5 browsers)

[06:39:01.0000] <hsivonen>
that is, fallback isn't for accessibility or codec fallback

[06:40:00.0000] <OmegaJunior>
Really?

[06:40:01.0000] <OmegaJunior>
That's different from what I expected.

[06:40:02.0000] <zcorpan>
it's like the contents of <iframe>

[06:41:00.0000] <zcorpan>
browsers that don't support <iframe> will use the contents

[06:41:01.0000] <OmegaJunior>
Well... I expect Opera to show the fallback content of an iframe if I tell it not to display iframes...

[06:41:02.0000] <zcorpan>
yes, then you disable support for iframes

[06:42:00.0000] <OmegaJunior>
And I expect to be able to enter a hyperlink as fallback content, so visitors will be able to browse to the uri themselves.

[06:42:01.0000] <OmegaJunior>
Those with iframe support don't need that link...

[06:42:02.0000] <zcorpan>
but you don't get the contents of iframes if the iframe references a 404 or something that is not supported

[06:42:03.0000] <zcorpan>
exactly

[06:42:04.0000] <OmegaJunior>
True

[06:42:05.0000] <zcorpan>
<audio> is the same

[06:43:00.0000] <OmegaJunior>
But then having only an embed element as fallback of content doesn't cover all bases, does it?

[06:43:01.0000] <zcorpan>
i don't understand the question

[06:45:00.0000] <OmegaJunior>
Well, suppose a user agent doesn't know html 5: it won't understand the audio element. Suppose it adheres only to the W3 recommendations of html and doesn't know the embed element either... then the user sees nothing.

[06:45:01.0000] <zcorpan>
right

[06:45:02.0000] <OmegaJunior>
Allowing a simple text as fallback content would at least indicate that something should be present.

[06:46:00.0000] <zcorpan>
yes

[06:46:01.0000] <OmegaJunior>
Lest we require the user to study the page source...

[06:47:00.0000] <OmegaJunior>
Thanks for the explanations! I'm heading off.

[06:47:01.0000] <zcorpan>
cya

[08:50:00.0000] <hsivonen>
aaronlev: is this thread on your radar: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-October/012642.html

[08:50:01.0000] <aaronlev>
hsivonen: barely

[08:51:00.0000] <aaronlev>
the expert on closed captioning technologies is Larry Goldberg from WGBH

[08:51:01.0000] <aaronlev>
they invented closed captioning and are on top of technical issues

[08:51:02.0000] <aaronlev>
i think we should get them into this conversation

[15:24:00.0000] <Hixie>
/me just replied to the highest-voted e-mail


2007-10-09
[19:37:00.0000] <Hixie>
so anyone sent any last call feedback on the role attribute spec?

[19:37:01.0000] <Hixie>
(not zcorpan's, the "official" one)

[20:19:00.0000] <karlUshi>
Hixie: I will if I find time :/ 

[20:23:00.0000] <Hixie>
i was going to but i couldn't find anything in there that said what browsers should do

[20:23:01.0000] <Hixie>
so it seemed harmless

[20:23:02.0000] <Hixie>
(i mean, netscape 2.0 is a compliant role module implementation as far as i can tell)

[20:43:00.0000] <Hixie>
in fact

[20:43:01.0000] <Hixie>
insofar as i can tell

[20:43:02.0000] <Hixie>
it is literally true that my desk is a compliant XHTML Role Attribute Module implementation

[20:44:00.0000] <Hixie>
(with apologies to dbaron)

[22:00:00.0000] <Hixie>
well, at this rate i might even hit my target for this quarter!

[22:06:00.0000] <Hixie>
hm, it strikes me that the offline application cache fallback concept isn't useful for doing fallback of anything but HTML or XML pages

[22:06:01.0000] <Hixie>
e.g. you can't usefully do fallback of CSS pages

[22:07:00.0000] <Hixie>
maybe we should have fallback pages be JS pages that execute when fetched or something

[22:43:00.0000] <gsnedders>
Hixie: good standard(s?) compliant desk you have there :)

[23:01:00.0000] <Hixie>
i think my statement says more about "role" than about my desk

[23:02:00.0000] <karlUshi>
or about you more than the desk and the role

[23:03:00.0000] <Hixie>
?

[23:04:00.0000] <Hixie>
i'm certainly eager to learn of anything that makes my statement incorrect

[23:04:01.0000] <Hixie>
(note that, as noted earlier, my comment was actually a reference to an infamous statement that dbaron made many years ago before a plenary meeting in boston)

[23:05:00.0000] <dbaron>
Though I did have to draw quotation marks on the sides of my desk to make that statement true, unfortunately.

[23:05:01.0000] <Hixie>
indeed

[23:06:00.0000] <karlUshi>
which might make the table more beautiful, more useful, more artistic, funnier, useless, depending on the context and the eyes of the beholder. 

[23:07:00.0000] <jruderman>
what was the context of dbaron doing that? was there a spec that his desk followed just by having quotation marks?

[23:08:00.0000] <dbaron>
(Was I the one who said that?  I wasn't even sure who said it.)

[23:08:01.0000] <Hixie>
yeah

[23:08:02.0000] <Hixie>
/me wonders what karl is talking about

[23:08:03.0000] <dbaron>
jruderman, HTML4

[23:08:04.0000] <Hixie>
yeah, you said it when we passed through your dorm room iirc

[23:08:05.0000] <karlUshi>
/me doesn't expect hixie to understand people down there :)

[23:09:00.0000] <jruderman>
dbaron: your desk was a compliant HTML4 UA? what were the quotes for?

[23:09:01.0000] <dbaron>
jruderman, conformant HTML4 UAs MUST render quotes around the contents of the Q element

[23:10:00.0000] <jruderman>
oh, and that was the only thing in the spec that was specific enough to apply to your desk?

[23:10:01.0000] <jruderman>
amazing

[23:10:02.0000] <dbaron>
jruderman, well, there are a bunch of statements about how certain things MUST be equivalent

[23:10:03.0000] <dbaron>
jruderman, but a UA that always does nothing handles everything equivalently

[23:10:04.0000] <karlUshi>
jruderman, indeed. amazing is the word.

[23:11:00.0000] <dbaron>
I'm not sure if we ever went through the spec to double-check, though...

[23:11:01.0000] <Hixie>
one of the only other requirements in html4 is that the UA not assume a default encoding... but i think you can argue your desk doesn't assume any encoding

[23:23:00.0000] <gsnedders>
dbaron: but surely you aren't handling everything identically by doing nothing: you're handling them all with quotation marks around them?

[23:23:01.0000] <Hixie>
the spec doesn't say that's wrong as far as i can tell

[23:24:00.0000] <dbaron>
it doesn't *do* anything

[23:24:01.0000] <gsnedders>
No, I don't see anything wrong with that.

[23:25:00.0000] <gsnedders>
dbaron: it does something: it shows quotation marks, surely?

[23:26:00.0000] <dbaron>
that's like saying your computer shows a power button in response to your HTML

[23:26:01.0000] <gsnedders>
I guess.

[23:29:00.0000] <gsnedders>
Anyone want to make an HTML5 compliant desk?

[23:29:01.0000] <Hixie>
if anyone does, i recommend getting on with it, it'll become orders of magnitude harder as soon as i start writing the rendering section

[23:34:00.0000] <gsnedders>
Hixie: peh! just minor technical challenges, that's all :)

[23:34:01.0000] <Hixie>
it's already pretty difficult

[23:34:02.0000] <Hixie>
especially if you support scripting

[23:35:00.0000] <gsnedders>
/me points at that corner of the desk for document.write() support

[23:35:01.0000] <Hixie>
does the corner have a computer on it? :-)

[23:35:02.0000] <gsnedders>
Hixie: no, two corners have speakers, one has paper, and the last has a copy of Trainspotting on it.

[23:36:00.0000] <Hixie>
does your desk have scripting disabled then? :_P

[23:36:01.0000] <gsnedders>
no, I just plan on implementing it in the far right corner :)

[23:38:00.0000] <Hixie>
i think i found a way in which a desk is not a compliant HTML5 UA

[23:39:00.0000] <Hixie>
i think HTML5 requires that UAs allow users to follow links

[23:39:01.0000] <Hixie>
/me verifies this claim

[23:39:02.0000] <gsnedders>
/me gets post-it note, and points at the desk at the other end of the room

[23:40:00.0000] <gsnedders>
(this is actually an interesting POV to look for any holes in the sec)

[23:40:01.0000] <gsnedders>
*spec

[23:40:02.0000] <gsnedders>
probably technically rather pointless, though, even for what changes might need to be made

[23:40:03.0000] <Hixie>
ah no, that's a should

[23:40:04.0000] <karlUshi>
http://www.mobilewhack.com/microsoft-coffee-table.jpg

[23:40:05.0000] <gsnedders>
/me removes post-it note

[23:41:00.0000] <gsnedders>
karlUshi: that's cheating.

[23:41:01.0000] <karlUshi>
;) I'm a user

[23:41:02.0000] <Hixie>
aha!

[23:41:03.0000] <Hixie>
i have found a way in which a desk isn't compliant!

[23:41:04.0000] <Hixie>
(though this may be a bug in html5)

[23:41:05.0000] <gsnedders>
karlUshi: I had thought of such things, though.

[23:41:06.0000] <Hixie>
if you have a document with <link rel="stylesheet" href="..."> with no type="" attribute, the UA must fetch the resource

[23:41:07.0000] <karlUshi>
gsnedders: nobody defined yet what was a desk

[23:42:00.0000] <Hixie>
though i guess that we could just say the desk has no network, and therefore will fail network checks

[23:42:01.0000] <Hixie>
hm

[23:42:02.0000] <Hixie>
karlUshi: the original desk in this discussion was a very specific desk in dbaron's dorm room

[23:42:03.0000] <karlUshi>
which makes the geekery dick contest :) pointless

[23:43:00.0000] <gsnedders>
karlUshi: "desk |desk| noun a piece of furniture with a flat or sloped surface and typically with drawers, at which one can read, write, or do other work." (which annoyingly makes MS Surface a desk)

[23:43:01.0000] <Hixie>
(that is, it wasn't an arbitrary desk. nor, for what it's worth, is this hypothetical -- the discussion was a very relevant argument regarding spec quality at the time)

[23:43:02.0000] <karlUshi>
;)

[23:43:03.0000] <gsnedders>
Hixie: can we not just get a person to go and get the stylesheet?

[23:44:00.0000] <Hixie>
gsnedders: the desk certainly isn't a compliant CSS UA

[23:44:01.0000] <dbaron>
of course, the person is required to get the style sheet and tap it on the desk in morse code, just like the document

[23:44:02.0000] <dbaron>
we didn't say the desk supports http

[23:44:03.0000] <dbaron>
just HTML

[23:44:04.0000] <gsnedders>
Hixie: we aren't attempting to be compliant CSS, are we?

[23:44:05.0000] <Hixie>
yeah

[23:44:06.0000] <Hixie>
gsnedders: true

[23:44:07.0000] <gsnedders>
dbaron: yeah, so we can have Human Transportation of Text Protocol!

[23:45:00.0000] <gsnedders>
(sorry, rather bad back-acronym, but it was the first I came up with)

[23:48:00.0000] <Hixie>
i think, under certain conditions (rendering section ignored, scripting disabled, not a conformance checker, not a document producer) it may be possible to classify a desk as a conforming HTML5 ua

[23:49:00.0000] <Hixie>
which makes sense, i mean we have to allow an empty script to be a valid data mining tool

[23:49:01.0000] <Hixie>
but i guess this comes from having more conformance classes than html4

[03:08:00.0000] <hsivonen>
I'd be interested in finding out what visual features are considered "must have" in North American closed captioning

[03:09:00.0000] <hsivonen>
when I compare European (or Nordic at least) open subtitling practices with the W3C timed text spec, I see vast feature creep in the W3C spec

[03:15:00.0000] <MikeSmith>
hsivonen - so if I have my checker install in /opt/checker and I create a "foo" subdirectory, and I do "build run" from within /opt/checker, then the checker you be able to access the files in foo at the URL http://localhost:8888/foo/ -- right?

[03:16:00.0000] <hsivonen>
MikeSmith: oh. no, there's no serving of local files at all

[03:17:00.0000] <hsivonen>
MikeSmith: serving local files comes with access control issues and all that

[03:18:00.0000] <hsivonen>
MikeSmith: so the Jetty setup only serves data generated in the servlet 

[03:18:01.0000] <hsivonen>
MikeSmith: in my deployment, I use Apache for serving flat files

[03:19:00.0000] <MikeSmith>
/me remembers now

[03:19:01.0000] <hsivonen>
MikeSmith: is this a problem? what kind of setup would you like?

[03:20:00.0000] <MikeSmith>
hsivonen - no, no problem. I realize now that (using Apache to serve local files) was what I was doing before too (before my hard drive crashed and lost all my data)

[03:21:00.0000] <hsivonen>
a hard drive crash sound bad :-(

[03:24:00.0000] <MikeSmith>
hsivonen - wasn't so bad. I had most of my data backed up. But it crashed just before I had to travel -- two weeks of really unpleasant business travel, which I've just come back from. So, sorry for being daft. Haven't quite gotten back to normal yet.

[09:10:00.0000] <gsnedders>
/me wonders how well he did in the computing test

[09:15:00.0000] <zcorpan>
gsnedders: what did you write for the ascii and unicode questions? :)

[09:15:01.0000] <gsnedders>
zcorpan: didn't come up, sadly.

[09:16:00.0000] <zcorpan>
:(

[09:16:01.0000] <gsnedders>
zcorpan: nothing wrong came up. nothing interesting to write.

[09:16:02.0000] <gsnedders>
(well, I suppose I could've written at the end that my hand hurts)

[09:16:03.0000] <zcorpan>
ok

[10:22:00.0000] <gsnedders>
/me ponders

[10:23:00.0000] <gsnedders>
en-gb isn't really specific enough, as there are plenty of things that are totally different in meaning in Scotland and England

[13:23:00.0000] <Hixie>
kingryan: it didn't work

[13:23:01.0000] <Hixie>
oh

[13:23:02.0000] <Hixie>
ok, well, i'll tell him later

[13:30:00.0000] <Hixie>
oh i think i see the error

[13:36:00.0000] <gsnedders>
/me sighs at unicode

[13:37:00.0000] <gsnedders>
/me sighs at how stupidly expensive a function call is in PHP

[13:39:00.0000] <Philip`>
gsnedders: You could pass the PHP code through a C preprocessor and rewrite the functions as macros

[13:39:01.0000] <gsnedders>
Philip`: meh.

[13:39:02.0000] <gsnedders>
Philip`: the function that is called so many times is stupidly small, I may as well just repeat it several times

[13:42:00.0000] <gsnedders>
heh. how ironic.

[13:42:01.0000] <gsnedders>
it's calling is_int() checking that the parameter is of the correct type that really slows it down

[13:46:00.0000] <gsnedders>
/me wants proper type-hinting in PHP

[13:46:01.0000] <hsivonen>
it bothers me that I don't know what timed text features are essential for captioning for the deaf and which features are gratuitous feature creep

[14:07:00.0000] <gsnedders>
hsivonen: you want to see what I've been working on regarding Unicode support for PHP?

[14:11:00.0000] <gsnedders>
hsivonen: I'll assume you'll say yes due to your interest in unicode in PHP, and link you to <http://pastebin.ca/731146> :)

[14:19:00.0000] <jgraham>
I am finding writing a release announcement for html5lib 0.10 much much harder than it ought to be

[14:35:00.0000] <gsnedders>
jgraham: I have a habit of getting others to write such things :)

[14:36:00.0000] <jgraham>
gsnedders: Well I guess I could have tried that

[14:54:00.0000] <jgraham>
Would anyone with a blog login like to look at my html5lib release announcement for mistakes, style, etc?

[16:05:00.0000] <Hixie>
hsivonen: "in a head element" is different than "where metadata elements are expected" because other specs might expect metadata elements


2007-10-10
[01:51:00.0000] <hsivonen>
Hixie: how do you envision other specs would use HTML5 "metadata elements"?

[01:52:00.0000] <hsivonen>
Hixie: if Modularization has taught us anything, it is that those who reuse a vocabulary pick and choose what they want instead of doing what the designer of the vocabulary wanted

[14:56:00.0000] <Hixie>
i guess i don't understand why people want height/width but not bgcolor, borderstyle, etc

[14:56:01.0000] <Hixie>
(on video)

[14:59:00.0000] <othermaciej>
based on usage on img and object presumably

[15:00:00.0000] <gsnedders>
Hixie: I wouldn't expect the latter, I would expect the former.

[15:00:01.0000] <Hixie>
wouldn't that also argue for <font>, border="", cellpadding="", bgcolor="", alink="", a host of other features that are widely recognised as being a bad idea?

[15:00:02.0000] <Hixie>
gsnedders: i don't understand why

[15:00:03.0000] <gsnedders>
Hixie: because I want to control the height/width of the video more often than anything else

[15:01:00.0000] <gsnedders>
Hixie: I don't think anyone wants them as conforming

[15:01:01.0000] <othermaciej>
height/width are very common needs for embedded media and often related to properties of the media item itself

[15:01:02.0000] <othermaciej>
border width and background color are rare needs and more about pure styling

[15:03:00.0000] <Hixie>
what dimensions should the object have when the attributes aren't present?

[15:04:00.0000] <gsnedders>
either 100% of the container (whichever is reached first keeping the aspect ratio the same as the source), or 100% of the source

[15:04:01.0000] <gsnedders>
I'd lean towards 100% of the source

[15:05:00.0000] <Hixie>
what if there's no source?

[15:05:01.0000] <Hixie>
what if the source is HD but the user has a 1024x768 screen?

[15:05:02.0000] <othermaciej>
intrinsic size when there is a source, whatever img would do with no source when there is no source

[15:06:00.0000] <gsnedders>
Hixie: do what <img> does.

[15:06:01.0000] <othermaciej>
presumably people would use the attributes to avoid badness for super huge videos on small screens

[15:06:02.0000] <Hixie>
img would fall back to alt="", which we've already established is not what we want for <video>, we want an "empty" video to just be a video player with no loaded content

[15:06:03.0000] <Philip`>
People on smallish screens can use their browser's 'zoom out' function

[15:07:00.0000] <Hixie>
Philip`: then they can no longer read the comments next to the video

[15:07:01.0000] <Philip`>
Then they can zoom in again to read it

[15:07:02.0000] <othermaciej>
then maybe video with no source gets some default intrinsic size (200 x 100 or whatever) if no size is specified by either attributes or CSS

[15:07:03.0000] <Philip`>
(I always do the opposite of that on YouTube, since the videos there are displayed too small :-( )

[15:08:00.0000] <Philip`>
(though I never read the comments next to the video, because they're YouTube comments)

[15:09:00.0000] <Philip`>
(which is a kind of unique internet culture that I generally want nothing to do with :-) )

[15:09:01.0000] <Philip`>
(but, er, that's not relevant to any point)

[15:14:00.0000] <Hixie>
k well i guess we'll have height/width attributes on <video>, and have the element autosize to content when it has loaded content

[15:14:01.0000] <Hixie>
i'm not 100% sure what we should do to empty <video> elements though

[15:14:02.0000] <Hixie>
and i don't like it :-)

[15:16:00.0000] <Hixie>
maybe it should default to 300x150 like other replaced content

[15:16:01.0000] <Hixie>
that would at least be nice and consistent with CSS

[15:24:00.0000] <Dashiva>
Suppose 18:9 isn't that far away from 16:9 either

[15:26:00.0000] <doublec>
The feedback from people I've demoed video to has been they like the size of the element to default to the size of the video src if it's not specified.

[15:26:01.0000] <doublec>
for no src, a default size like othermaciej said seems reasonable

[16:57:00.0000] <Hixie>
ok <video> will default to 300x150 with no content, and to content's size with content

[16:59:00.0000] <doublec>
sounds good


2007-10-11
[19:19:00.0000] <Hixie>
it seems people have discovered that you can use my data: URI kitchen to save things like PDFs and such for offline viewing on iPhones

[19:19:01.0000] <Hixie>
and they are now uploading multi-megabyte PDFs and the like to my server

[22:06:00.0000] <gavin_>
heh

[00:25:00.0000] <hsivonen>
"captive portal"?

[00:25:01.0000] <Hixie>
router that returns 307 for all uris, e.g. used for wireless networks to get payment information

[00:27:00.0000] <hsivonen>
ah

[00:27:01.0000] <hsivonen>
those are evil

[00:28:00.0000] <Hixie>
but it is very common to hit these when in an offline situation

[00:29:00.0000] <Hixie>
so we have to handle them

[00:30:00.0000] <jruderman>
as long as we don't require letting them MITM TLS connections

[00:31:00.0000] <hsivonen>
Hixie: yes, I realize that they are common even if not popular

[00:32:00.0000] <hsivonen>
I particularly dislike the ones that don't even want my money but that want me the click through a disclaimer an over-eager lawyer wrote

[00:33:00.0000] <hsivonen>
jruderman: It seems to me that WLAN authorization purchases are finally a use case for CA-approved certs.

[00:34:00.0000] <hsivonen>
I wonder how many bogus access points there are around Europe pretending to be Orange access points but phishing for credit card numbers

[00:34:01.0000] <jruderman>
hsivonen: what do you mean?

[00:34:02.0000] <jruderman>
(about CA-approved certs)

[00:35:00.0000] <hsivonen>
jruderman: certs signed by CAs that the browser has root certs for in advance

[00:36:00.0000] <hsivonen>
jruderman: that is, a picking a random access point in a foreign town is much more likely to direct you to a phishing node than the DNS of your wired broadband provider

[00:37:00.0000] <hsivonen>
though I suppose a proper phishing node could forge IP addresses on its fake network

[00:37:01.0000] <hsivonen>
and just grab a cert from a real site

[00:38:00.0000] <jruderman>
oh, you're saying that wireless (not just wireless that charges) is a good reason for using CAs rather than SSH-style authentication

[00:40:00.0000] <hsivonen>
jruderman: I was saying that certs are useful for authenticating the wireless charging entry points

[00:41:00.0000] <hsivonen>
(scratch what I said about cert stealing above. of course it doesn't give the stealer the private key)

[00:42:00.0000] <jruderman>
because if it weren't for wireless networks that charged, you could just wait until you get home to do your credit card purchases?

[00:44:00.0000] <hsivonen>
jruderman: no that's not what I meant. just that the payment portal seems like lower-hanging fruit to forge than a random site on the net and hoping that someone on the phishing AP makes a purhase on the random site

[00:44:01.0000] <jruderman>
ok

[00:47:00.0000] <hsivonen>
on a different note, is it ever uttered out loud which concrete browsers are expected to do the mobile profile stuff

[00:49:00.0000] <Hixie>
i never understood that either

[00:53:00.0000] <othermaciej>
I was going to comment on the CSS Mobile Profile on the basis that such a thing is (a) useless and (b) harmful

[00:53:01.0000] <othermaciej>
but it seems like wasted breath

[01:09:00.0000] <hsivonen>
Hixie: I think it is a bit weird that the party line is that people are expected to continue to use text/html, but HTML 5 contains many XHTML/DOM-only content model expansions

[01:37:00.0000] <hsivonen>
Hixie: an extra ">": The cite DOM attribute must reflect the element's >cite content attribute.

[06:29:00.0000] <krijnh>
\o/

[06:32:00.0000] <krijn>
So, it appears, cables should be connected

[06:32:01.0000] <krijn>
That's something new

[06:32:02.0000] <OmegaJunior>
lol

[06:33:00.0000] <OmegaJunior>
In case of wires: connect. In case of wireless: don't.

[06:40:00.0000] <krijnh>
Can't agree more :)

[06:47:00.0000] <gsnedders>
/me got 46/52 in the computing test. only two of the lost marks were due to the actual "correct" answers being wrong.

[06:49:00.0000] <OmegaJunior>
Yes, what is correct according to text books and exams can differ greatly from what is correct according to parsers, compilers and browsers, which in turn differs from what is correct according to the end user.

[06:49:01.0000] <krijn>
That is correct

[06:50:00.0000] <hendry>
so <br> tag is a 'void element'. What is a <p> called?

[06:51:00.0000] <gsnedders>
OmegaJunior: not just according to parsers, compilers, and browsers but also specifications

[06:51:01.0000] <OmegaJunior>
Phrase element?

[06:51:02.0000] <OmegaJunior>
For a test, that's a bad situation.

[06:52:00.0000] <OmegaJunior>
Depends on the transparancy of the spec, I'm sure.

[06:54:00.0000] <hsivonen>
hendry: <p> is a start tag

[06:54:01.0000] <gsnedders>
OmegaJunior: US-ASCII (whatever that is — I assume ANSI X3.4-1968) is 8-bit, and Unicode is 16-bit (despite unicode not being an encoding form)

[06:55:00.0000] <OmegaJunior>
Isn't UTF-8 an 8-bit form of Unicode?

[06:56:00.0000] <OmegaJunior>
I guess you'd recognise it by it being called 'UTF-8' and not Unicode...

[06:56:01.0000] <gsnedders>
no, UTF-8 encodes codepoints between one and five 8-bit bytes.

[06:56:02.0000] <zcorpan>
/me thought it was 1-6 bytes

[06:56:03.0000] <gsnedders>
s/five/four/

[06:57:00.0000] <gsnedders>
zcorpan: it was originally six, then changed to limit to 0x10FFFF (which can be done in four bytes)

[06:57:01.0000] <gsnedders>
UTF-16 is two/four bytes.

[06:57:02.0000] <hendry>
hsivonen: though <p> are used like 'void element's a lot

[06:57:03.0000] <gsnedders>
UTF-32 is four bytes.

[06:57:04.0000] <hendry>
hsivonen: and start tag implies it should be ended? little confused on the terminology

[06:58:00.0000] <gsnedders>
zcorpan: <http://tools.ietf.org/html/rfc3629#section-12>

[06:58:01.0000] <zcorpan>
<br> is also a start tag

[06:58:02.0000] <hsivonen>
hendry: a void element is an element that cannot have content in the text/html serialization and doesn't have an end tag

[06:58:03.0000] <gsnedders>
zcorpan: as you're limited to 10FFFF at the highest, and non-shortest forms are invalid, you cannot have more than four byte sequences

[06:58:04.0000] <zcorpan>
gsnedders: ah, ok

[06:58:05.0000] <hsivonen>
hendry: omitting </p> doesn't make <p> void

[07:02:00.0000] <zcorpan>
in the parser, br and p are both categorized as "special". on the text/html syntax authoring side, br is categorized as "void element" and p is a "normal element"

[07:02:01.0000] <hsivonen>
I wonder what the back and forward compat story of the source element is as far as voidness goes...

[07:02:02.0000] <hsivonen>
oh, right </br> is weird when it comes to parsing

[07:03:00.0000] <zcorpan>
</p> also :)

[07:05:00.0000] <gsnedders>
what does </p> do?

[07:07:00.0000] <OmegaJunior>
It signals the end of a p element

[07:07:01.0000] <hendry>
hsivonen: so when reading the spec. to distinguish between void element and say a tag, I should be looking at the "content model"

[07:08:00.0000] <hsivonen>
hendry: no

[07:08:01.0000] <hendry>
some things seem to have to be closed, like when I was just playing with <object>, whilst others not so. I guess it's browser thing.

[07:08:02.0000] <hsivonen>
hendry: "void" is a text/html serialization/parsing concept

[07:08:03.0000] <hsivonen>
hendry: empty content model is a document tree-level concept

[07:08:04.0000] <hsivonen>
hendry: it isn't safe to infer a relationship

[07:09:00.0000] <hendry>
hsivonen: so how do i read the spec for "serialization/parsing concept"?

[07:09:01.0000] <hsivonen>
hendry: to make things worse, the parsing stuff for new elements that are supposed to be empty hasn't been nailed down

[07:09:02.0000] <hsivonen>
hendry: the parsing and writing html sections

[07:11:00.0000] <hendry>
hsivonen: thanks for the clarification(s)

[07:11:01.0000] <zcorpan>
gsnedders: if there's no p in scope, </p> is the same as <p></p>

[07:11:02.0000] <gsnedders>
zcorpan: thanks

[07:12:00.0000] <hsivonen>
hendry: I think it would be useful for the element definition sections to have text/html-specific serialization notes, because people expect to find the advice there (but don't currently)

[07:13:00.0000] <zcorpan>
Lachy: http://html5.lachy.id.au/ has been Service Unavailable for me for a while now :(

[07:13:01.0000] <Lachy>
yeah, I know.

[07:13:02.0000] <Lachy>
I can't fix it till my computer arrives from Australia

[07:13:03.0000] <zcorpan>
ok

[07:14:00.0000] <Lachy>
and that's taken longer than expected

[07:14:01.0000] <gsnedders>
Lachy: stop moving so far :P

[07:14:02.0000] <Lachy>
it should arrive next week

[07:14:03.0000] <hendry>
is there a part in html5 that distinguishes between relative URIs? i noticed that HTML4 does

[07:14:04.0000] <zcorpan>
distinguishes between relative URIs and what?

[07:15:00.0000] <zcorpan>
relative IRIs? absolute URIs? elephants? :)

[07:17:00.0000] <OmegaJunior>
They're all URI's... should it matter to the html5-spec whether they're relative or absolute?

[07:18:00.0000] <hsivonen>
hendry: there's one place in WF2 that requires an absolute URI

[07:18:01.0000] <OmegaJunior>
Ah. It does matter.

[07:18:02.0000] <hsivonen>
hendry: value attribute on input type='url'

[07:19:00.0000] <hsivonen>
hendry: profile is gone at least for now

[07:21:00.0000] <hendry>
sorry i was called away for a moment zcorpan  :)

[07:21:01.0000] <OmegaJunior>
hsivonen, why does input type='url' require absolute uri's?

[07:22:00.0000] <hsivonen>
OmegaJunior: I guess entering relative URIs into a form generally does not make sense

[07:22:01.0000] <hsivonen>
OmegaJunior: since you want the value to work without a base URI

[07:23:00.0000] <gsnedders>
if you allow relative URIs, is it relative to the page at which the form is on, or relative to the page that receives the form?

[07:27:00.0000] <OmegaJunior>
Makes sense.

[07:27:01.0000] <OmegaJunior>
Thanks!

[07:38:00.0000] <hendry>
i was also thinking of forms today. reset and password

[07:38:01.0000] <hendry>
is "reset" actually useful? :)

[07:38:02.0000] <hendry>
and do passwords need to be obfuscated by *****

[07:39:00.0000] <hsivonen>
hendry: no and yes

[07:40:00.0000] <hendry>
they need to be obfuscated you say? does it say in the spec? I don't think so

[07:41:00.0000] <hendry>
i find the obfuscation really painful when typing in wireless keys with my shiny ipod touch

[07:41:01.0000] <OmegaJunior>
Personally I think such obfuscation silly. The password will still show up in the source if echoed back.

[07:42:00.0000] <hsivonen>
hendry: reset isn't useful but obfuscation of passwords is when you are not guaranteed to be alone

[07:43:00.0000] <hendry>
UA should have an option to specific, i'm alone. not in a public place. :)

[07:43:01.0000] <hsivonen>
hendry: Nokia UIs (both Maemo and S60 briefly give visual feedback for each character before obfuscating it)

[07:43:02.0000] <hsivonen>
hmm. misplaced )

[07:43:03.0000] <OmegaJunior>
So does the Motorola Razr

[07:44:00.0000] <hendry>
OmegaJunior: so you could perhaps write a piece of JS to echo it back without obfuscation/

[07:44:01.0000] <OmegaJunior>
Yeah, or just use an input type='text'

[07:44:02.0000] <hsivonen>
OmegaJunior: it isn't about being plain text in the source

[07:46:00.0000] <OmegaJunior>
Which makes it even more silly.

[07:46:01.0000] <hsivonen>
OmegaJunior: what's silly about people looking over your shoulder?

[07:46:02.0000] <OmegaJunior>
It's silly to type in sensitive info when they are. Ever seen someone who can read your typing off of your finger movements? It's quite easy.

[07:47:00.0000] <hsivonen>
OmegaJunior: use Dvorak :-)

[07:47:01.0000] <OmegaJunior>
:D

[07:48:00.0000] <hendry>
also i think some keypads have different frequences depdending on what you type

[07:49:00.0000] <hendry>
damn, I can't type at all. Getting used to my new Das Keyboard

[08:12:00.0000] <hsivonen>
validator.nu now supports dialog and various other relatively recent language changes except data templates

[08:13:00.0000] <hsivonen>
I guess now is the time to cut the RNG in half and move interactive element exclusions to schematron

[08:31:00.0000] <hsivonen>
whoa are there really only 3 non-form interactive elements: a, datagrid and details

[08:31:01.0000] <hsivonen>
or am I misgrepping?

[08:33:00.0000] <OmegaJunior>
Aren't audio and video elements considered interactive? The spec does require a level of interaction.

[08:36:00.0000] <hsivonen>
OmegaJunior: they are not

[08:36:01.0000] <OmegaJunior>
OK.

[08:36:02.0000] <zcorpan>
/me would expect <area> to also be interactive

[08:37:00.0000] <hsivonen>
zcorpan: are you going to send email?

[08:37:01.0000] <zcorpan>
i'm not sure i understand what the "interactive" category is for, exactly

[08:37:02.0000] <zcorpan>
is it only for the content model?

[08:39:00.0000] <hsivonen>
OmegaJunior: email sent about the interactiveness of video/audio

[08:39:01.0000] <hsivonen>
zcorpan: the idea is to ban nesting of intrinsically clickable elements

[08:40:00.0000] <zcorpan>
seems weird that <details> is interactive, then; it should be ok to have links in a <details>, no? (not in the <legend>, perhaps)

[08:40:01.0000] <hsivonen>
zcorpan: I just sent email about that. :-)

[08:40:02.0000] <zcorpan>
k

[08:41:00.0000] <OmegaJunior>
Not received yet

[08:41:01.0000] <OmegaJunior>
;)

[08:41:02.0000] <hsivonen>
OmegaJunior: I sent it to public-html

[08:41:03.0000] <zcorpan>
perhaps the Big Issue under <datagrid> also applies to <details>

[08:42:00.0000] <hsivonen>
how do I negate [@foo] in XPath?

[08:42:01.0000] <OmegaJunior>
hsivonen, I don't think I subscribed to that list

[08:43:00.0000] <OmegaJunior>
[~@foo]?

[08:43:01.0000] <hsivonen>
~ not found in teh XPath spec

[08:43:02.0000] <zcorpan>
not([@foo]) ?

[08:44:00.0000] <OmegaJunior>
Hrm.

[08:44:01.0000] <OmegaJunior>
Let me look.

[08:45:00.0000] <hsivonen>
I want to select input elements but not input type=hidden

[08:46:00.0000] <hsivonen>
zcorpan: h:input[not(@type="hidden")] might be it

[08:47:00.0000] <OmegaJunior>
You should be able to use ~ or  !... but I'm not seeing any examples. I'm looking further.

[08:53:00.0000] <zcorpan>
hsivonen: yeah, that seems to work

[08:53:01.0000] <zcorpan>
h:input[@type!='hidden'] also

[08:53:02.0000] <OmegaJunior>
And I learn something new: no ! operator as a shorthand for not().

[08:54:00.0000] <zcorpan>
at least != works in opera

[08:55:00.0000] <hsivonen>
zcorpan: thanks

[08:56:00.0000] <zcorpan>
perhaps <img usemap> should be classified as interactive

[08:56:01.0000] <zcorpan>
rather than <area>

[08:56:02.0000] <hsivonen>
zcorpan: are you going to send email or should I?

[08:57:00.0000] <zcorpan>
i can do it

[08:57:01.0000] <hsivonen>
thanks

[09:03:00.0000] <zcorpan>
wonder if i should drop the "detailed review" thing :)

[09:15:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Ca%20href%3D%3FFollowed%3E%3Cmap%20name%3Dmap%3E%3Carea%20shape%3Drect%20coords%3D0%2C0%2C200%2C100%3E%3C%2Fmap%3E%3C%2Fa%3E%0D%0A%3Cimg%20usemap%3D%23map%20src%3Dimage%3E

[09:15:01.0000] <Philip`>
At least in Opera, click events propagate outwards from the <area>

[09:16:00.0000] <Philip`>
but I don't know if that's relevant to its interactivity

[09:18:00.0000] <hsivonen>
Philip`: interactivity is a non-scripted document conformance concept only

[09:19:00.0000] <zcorpan>
hmm, not sure if click events should be dispatched when interacting with the browser's native UI of <video>

[09:40:00.0000] <hsivonen>
I just landed and deployed a big refactoring that moved interactive element nesting issues from RELAX NG to Schematron. Unit tests still pass, but please let me know if I broke something.

[09:41:00.0000] <hsivonen>
error messages for interactive element nesting violations should be *much* better now

[09:46:00.0000] <OmegaJunior>
Doesn't seem to raise any errors on one of my testing pages... though that was a relatively easy page. I'll whip up something more elaborate.

[10:22:00.0000] <gsnedders>
Lachy: didn't anyone tell you? Norway is more expensive than even here.

[12:10:00.0000] <Hixie_>
hsivonen: the party line was established after the extensions, in mayn cases

[12:10:01.0000] <Hixie_>
hsivonen: also note that the attribute stuff in the spec is the way it is (inconsistent) because at one point i decided to give up describing the optional/required constraints in the summaru

[12:35:00.0000] <kingryan>
Hixie_: the twitter message link to the revision seems to be working great. thanks

[12:35:01.0000] <Hixie_>
sweet

[12:36:00.0000] <Hixie_>
i had to adapt your code a bit

[12:36:01.0000] <kingryan>
of course

[12:36:02.0000] <Hixie_>
but i'm glad it's working

[12:37:00.0000] <kingryan>
it was hard for me to test w/out access to the repositories

[14:10:00.0000] <hsivonen>
Hixie_: do you intend to scale back the content model expansions now that the party line has been established?

[14:11:00.0000] <hsivonen>
Hixie_: I was hoping I could mine the green-background element summaries for UI messages

[14:11:01.0000] <Hixie_>
to be honest i really don't know

[14:11:02.0000] <Hixie_>
that part of the spec is a mess right now

[14:11:03.0000] <Hixie_>
i haven't focused on semantics for a while

[14:13:00.0000] <hsivonen>
ok. I try to continue to put the nonHTMLizable switches in the right places

[14:13:01.0000] <Hixie_>
i don't understand why this fails: http://cgi.w3.org/member-bin/process.cgi?method=url&url=http%3A%2F%2Fwww.whatwg.org%2Fspecs%2Fweb-apps%2Fcurrent-work%2Fsource-w3c&output=html

[14:14:00.0000] <hsivonen>
but ATM, I can only infer those places from the parsing algorithm. obviously, authors won't do that but will require more obvious docs.

[14:14:01.0000] <Hixie_>
for sure

[14:17:00.0000] <hsivonen>
I wonder how many people would actually care if I combined the xml:id Processor and the XHTML id Processor

[14:17:01.0000] <hsivonen>
(in some cases, duplicate ID errors would fire for xml:id-wise wrong reasons)

[14:19:00.0000] <hsivonen>
also, I wonder if I could get away with assigning IDness to all no-namespace attributes called id regardless of the namespace of the element...

[14:27:00.0000] <Hixie_>
hsivonen: question for you

[14:27:01.0000] <Hixie_>
hsivonen: regarding the conformance of manifests

[14:28:00.0000] <Hixie_>
in section "4.6.3.1. Writing cache manifests" i have conformance requirements for manifests

[14:28:01.0000] <Hixie_>
including: Manifests must specify all the URIs that are to be cached.

[14:28:02.0000] <Hixie_>
but it was pointed out that in fact, some URIs that are to be cached -- like the application document that refers to the manifest in the first place -- get cached even if not explicitly listed

[14:29:00.0000] <Hixie_>
and thus the conformance criteria is confusing, if not outright illadvised

[14:29:01.0000] <Hixie_>
do you have any advice on the matter?

[14:31:00.0000] <hsivonen>
Hixie_: I think it is at minimum confusing 

[14:33:00.0000] <hsivonen>
I'm trying to come up with a better wording, but I don't know manifests well enough yet

[14:34:00.0000] <Hixie_>
i'm not really even sure what we should asy

[14:34:01.0000] <Hixie_>
say

[14:34:02.0000] <Hixie_>
maybe it's a useless conformance criteria

[14:34:03.0000] <Hixie_>
it's not like it can be tested

[14:35:00.0000] <hsivonen>
Hixie_: is there an easy list of things that get cached implicitly?

[14:35:01.0000] <Hixie_>
1. html or xhtml files that have a manifest="" attribute on their root element

[14:35:02.0000] <hsivonen>
Hixie_: Authors must list the URIs they want cached in the manifest, except [short list].

[14:35:03.0000] <Hixie_>
2. things that get automatically cached from matching the caching namespaces

[14:36:00.0000] <Hixie_>
i think i might just drop them

[14:36:01.0000] <Hixie_>
it seems weird to say that an author must do what he wants to do

[14:37:00.0000] <hsivonen>
yes

[14:38:00.0000] <hsivonen>
I guess you could make a non-testable or hard-to-test requirement that authors must list the URIs that don't get cached implicitly and that need to be cached in order for the app to work

[14:38:01.0000] <hsivonen>
but perhaps it is just better to state the function of the list

[14:38:02.0000] <Hixie_>
yeah

[14:38:03.0000] <hsivonen>
instead of making non-testable requirements about what to put on the list

[14:40:00.0000] <hsivonen>
I'm going to try to combine an xml:id processor, a non-spec-based IDness assigner and ID uniqueness checking in one class

[14:40:01.0000] <hsivonen>
I guess that's the way to find out if the market will accept such a rigged xml:id processor

[14:41:00.0000] <Hixie_>
why would it not?

[14:41:01.0000] <hsivonen>
Hixie_: theoretically, the xml:id processor should live between the XML Processor and the XHTML layer

[14:42:00.0000] <hsivonen>
Hixie_: so that xml:id Errors don't depend on the XHTML layer

[14:42:01.0000] <Hixie_>
i see

[14:42:02.0000] <hsivonen>
Hixie_: if they are fused, the operation will be interleaved and you can't tell whether a duplicate ID error should be flagged an xml:id error or an XHTML id error

[14:43:00.0000] <hsivonen>
the way around it is not to tell the user which errors are xml:id errors :-)

[14:44:00.0000] <othermaciej>
it sure would be nice if xml:id was just named id

[14:44:01.0000] <hsivonen>
othermaciej: I intend to implement IDness assigment to id as see if people yell at me

[14:44:02.0000] <hsivonen>
I expect to get away with it

[14:44:03.0000] <othermaciej>
if you advertise that fact in the right circles they might

[14:46:00.0000] <othermaciej>
probably not in actual use

[14:46:01.0000] <Hixie_>
in actual use you're unlikely to come across any non-html anything...

[14:46:02.0000] <hsivonen>
I'd expect people to prefer XPath id() to *work* in actual use :-)

[14:47:00.0000] <gsnedders>
/me still hasn't got his head around XPath at all

[14:47:01.0000] <othermaciej>
I guess what I'm saying is, I don't know of a markup language with a non-ID attribute named "id"

[14:47:02.0000] <hsivonen>
I don't know one, either

[14:48:00.0000] <gsnedders>
/me could do the assholish thing of creating one, just to prove othermaciej and hsivonen wrong

[14:48:01.0000] <othermaciej>
gsnedders: I think there is an implicit ground rule for such claims of "no toy examples just to prove it's possible"

[14:48:02.0000] <gsnedders>
othermaciej: of course, it just means I have to work harder to get it actually used :P

[14:52:00.0000] <Hixie_>
wow, times have changed

[14:52:01.0000] <Hixie_>
few years back, i'd have been shot on sight for suggesting that xlink:href should be changed to href

[14:52:02.0000] <Hixie_>
now, it's actually something that people might consider

[14:52:03.0000] <gsnedders>
on a totally unrelated note, does anyone have any reasons for wanting me to work on HTTP Parsing over the October holidays instead of various other things on my to-do list?

[14:52:04.0000] <gsnedders>
(anne is the most likely, but he isn't here right now)

[14:56:00.0000] <gsnedders>
(regardless of that, I should probably email Eric Woersching tonight about one or two things IIS does)

[15:15:00.0000] <gsnedders>
anyone have any thoughts on me requiring requests to comply with the RFC 2616 specification, otherwise the server MUST return 400 Bad Request?

[15:18:00.0000] <hsivonen>
gsnedders: I guess that depends on how hard it is for the server to validate the request against RFC 2616 requirements and if such validation is needed for interop

[15:18:01.0000] <gsnedders>
hsivonen: IIS seems to be fairly strict already

[15:18:02.0000] <hsivonen>
and if interop doesn't require servers *not* to validate

[15:19:00.0000] <Hixie_>
(which i imagine is the case)

[15:20:00.0000] <gsnedders>
/me drops email off to IIS technical product manager

[15:21:00.0000] <gsnedders>
in part asking if there is any reasoning why IIS is in places strict

[15:22:00.0000] <hsivonen>
I don't like the white space normalization step of xml:id. bad for perf

[16:45:00.0000] <jeremyb>
lastlog -clear


2007-10-12
[17:30:00.0000] <Hixie_>
mjs, others, any input on this? http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-October/012683.html

[17:30:01.0000] <Hixie_>
should i include such an API?

[17:32:00.0000] <othermaciej>
Hixie_: hadn't thought about it deeply - I can see how it might be useful, the only concern I have is that preflighting for the availability of a resource in the cache instead of looking for an error on access introduces possible races

[17:32:01.0000] <othermaciej>
(in other words the cache item could expire between when you ask and when you try to access it)

[17:32:02.0000] <Hixie_>
indeed

[17:33:00.0000] <Hixie_>
and vice versa, could be added in between

[17:33:01.0000] <othermaciej>
true

[17:33:02.0000] <othermaciej>
or you could go offline/online in between, thus changing the rules of what resources can be served even expired

[17:33:03.0000] <othermaciej>
but I'm not sure how to achieve the desired result without preflighting

[17:34:00.0000] <Hixie_>
yeah

[17:35:00.0000] <kingryan>
could the API take a function that is executed iff the resource is available? then the impl could synchronize on the cache

[17:35:01.0000] <Hixie_>
maybe

[17:35:02.0000] <kingryan>
/me doesn't know how hard is suggestion would be to implement

[17:37:00.0000] <othermaciej>
the hard part to implement would be ensuring whatever load you may trigger uses that cached copy

[17:37:01.0000] <othermaciej>
it could be setting a frame's window.location, it could be setting an img src, it could be an XMLHttpRequest...

[17:37:02.0000] <othermaciej>
there's lots of ways to trigger a resource load

[17:37:03.0000] <othermaciej>
in a sense the most robust API would be to add a "try if local, otherwise error" version of all of those

[17:38:00.0000] <othermaciej>
or at least the ones that are considered important for this purpose

[01:14:00.0000] <Lachy>
good morning :-)

[01:29:00.0000] <hsivonen>
Lachy: morning

[02:34:00.0000] <hsivonen>
I wonder what the point of the NCNameness of xml:id is or the point of the normalization

[02:36:00.0000] <othermaciej>
architecture

[02:36:01.0000] <othermaciej>
*xml* architecture

[02:39:00.0000] <hsivonen>
off-hand, I don't see what architectural problem the NCNameness solves here

[02:40:00.0000] <hsivonen>
it's just an arbitrary "we like this kind of strings but not other kinds of strings"

[02:40:01.0000] <othermaciej>
my implication is that everything about xml boils down to that sort of thing

[02:41:00.0000] <hsivonen>
yeah

[02:42:00.0000] <hsivonen>
so far, xml:id is taking me more than thrice the # of lines of code needed for XHTML5 ids.

[02:46:00.0000] <hsivonen>
for now, I'm going to pretend that the conditional IDness of SVG 1.2 id doesn't exist and SVG ids are unconditionally IDs.

[02:47:00.0000] <othermaciej>
conditional idness?

[02:48:00.0000] <othermaciej>
are id attributes not ID when an xml:id is also present or something?

[02:48:01.0000] <hsivonen>
othermaciej: according to SVG 1.2, IIRC, yes

[02:48:02.0000] <hsivonen>
not cool

[02:48:03.0000] <othermaciej>
they probably did that to work around the fact that you can't have id="x" xml:id="x"

[02:49:00.0000] <othermaciej>
which you would need to both work with older versions of SVG and to drink the latest kool-aid

[02:51:00.0000] <hsivonen>
othermaciej: it is easy to guess why they did it, but it is the wrong fix

[02:51:01.0000] <hsivonen>
othermaciej: the right fix is to use only id='x' without xml:id='x'

[02:51:02.0000] <hsivonen>
anyway, last bullet point under http://www.w3.org/TR/SVGMobile12/struct.html#Core.attrib

[02:51:03.0000] <othermaciej>
hsivonen: but that would entail not using xml:id, which is the cool new thing, and thus obviously right to use

[02:51:04.0000] <hsivonen>
so my memory didn't fail me

[02:55:00.0000] <zcorpan>
hsivonen: would you be shot down for not supporting xml:id at all? :)

[03:05:00.0000] <hsivonen>
zcorpan: I don't know

[03:05:01.0000] <hsivonen>
I feel like venting on www-svg, but it would probably be wasted effort

[03:43:00.0000] <hsivonen>
I figured that now that the idea of href='' instead of xlink:href='' is no longer outrageous, I might as well try suggesting not working around the problems xml:id creates

[03:46:00.0000] <OmegaJunior>
Where would href i.o. xlink:href be outrageous? Not in html5, I suppose. In xhtml5 perhaps?

[03:48:00.0000] <hsivonen>
OmegaJunior: SVG

[03:48:01.0000] <OmegaJunior>
Ah

[03:57:00.0000] <hsivonen>
Hixie_: is there a good reason why ID assignment shouldn't happen if the ID candidate is the empty string? why the exception?

[04:22:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Cp%20id%3D%22%22%3E%3Cscript%3Ew(document.getElementById(%22%22))%3C%2Fscript%3E

[04:22:01.0000] <zcorpan>
null in ie, firefox, safari

[04:23:00.0000] <hsivonen>
zcorpan: ok. thanks

[04:44:00.0000] <Lachy>
Hixie_, yt?

[04:45:00.0000] <Lachy>
Hixie_, the data URI kitchen is broken http://software.hixie.ch/utilities/cgi/data/data

[04:46:00.0000] <Lachy>
Hixie_, it seems to only work for file uploads, not text input or http URIs

[04:59:00.0000] <jwalden>
nice, roc followed up on isLocallyAvailable so I don't have to feel obligated to do so :-)

[06:36:00.0000] <zcorpan>
was something interesting said during the telecon? reading the log it seemed pretty hollow

[06:39:00.0000] <hsivonen>
I suppose attributes that have IDness should have IDness and remain in the infoset even if the value is "". so all code everywhere that is ID-sensitive needs to check both for IDness and the value emptystringness :-(

[06:42:00.0000] <zcorpan>
why do you suppose so?

[06:43:00.0000] <hsivonen>
zcorpan: it seems wrong to change the IDness based on value. moreover, I'm not sure if non-validating DTD processing could inject ""-valued IDs into the pipeline

[06:44:00.0000] <zcorpan>
ok

[06:45:00.0000] <zcorpan>
then html5 shouldn't say that empty id="" doesn't do ID assignment, but dom core should say that the empty string as argument to getElementById() should return null

[06:46:00.0000] <zcorpan>
correct?

[06:55:00.0000] <hsivonen>
zcorpan: depends on whether ID assignment and IDness assignment mean different things

[06:55:01.0000] <hsivonen>
IDness assignment clearly means if querying the attribute for its type return "ID"

[06:56:00.0000] <hsivonen>
I'm not sure what ID assigment exactly means but I understood in to mean: put in a hashtable with the ID value as the key

[06:56:01.0000] <hsivonen>
/me keeps mistyping assignment over and over

[07:25:00.0000] <zcorpan>
i should write an xml-stylesheet spec that doesn't have fatal error requirements

[07:26:00.0000] <zcorpan>
which would also benefit xbl2

[07:51:00.0000] <zcorpan>
i wonder how i should approach that...

[07:52:00.0000] <zcorpan>
i mean, to make progress, i should just go ahead and reverse engineer relevant implementations, write test cases and a spec, then ask for feedback

[07:53:00.0000] <zcorpan>
but politically that might not be the best way to do it

[07:55:00.0000] <zcorpan>
perhaps i should start out with reverse engineering and demos, and point out the problems to the relevant WG(s), and if i don't get a response then i go ahead and write a spec and then ask for feedback

[08:02:00.0000] <zcorpan>
any thoughts? which are the relevant WGs for xml-stylesheet?

[08:04:00.0000] <heycam>
zcorpan, xml core wg seems most appropriate

[08:04:01.0000] <zcorpan>
heycam: ok

[08:05:00.0000] <heycam>
on http://www.w3.org/XML/Group/Core they list working on that document again as a "future task"

[08:07:00.0000] <heycam>
/me sleeps

[08:16:00.0000] <hsivonen>
zcorpan: fwiw, the idea that XML Core WG has about "relevant implmentations" is likely to be radically different from yours

[08:32:00.0000] <ROBOd>
hello guys! pardon me barging into the discussion. i have one quick question: did microsoft (via chris wilson?) publish the complete html5 review? iirc, it was supposed they'll publish a review. i haven't seen it yet

[08:33:00.0000] <Philip`>
They haven't done, though ChrisW mentioned it yesterday

[08:34:00.0000] <Philip`>
00:29 < DanC> ChrisW: yes, I'm working with the IE team on our review...

[08:34:01.0000] <Philip`>
00:30 < DanC> ... I'll have some stuff sent out prior to the ftf meeting.

[08:35:00.0000] <ROBOd>
aha, thanks Philip` 

[08:37:00.0000] <zcorpan>
hsivonen: i'd like to learn which implementations they consider relevant

[09:47:00.0000] <zcorpan>
http://blogs.s60.com/browser/2007/10/coring_the_browser.html -- hmm, so they support SVG via plugin instead of using WebCore's native support? (remember that they parse xml with the html parser)

[09:50:00.0000] <zcorpan>
"The difference with browsing is that HTML, CSS and ECMAScript create a really complex system, and the standards can never exactly specify the "correct" behavior in every case."

[09:51:00.0000] <zcorpan>
oh?

[12:32:00.0000] <kingryan>
is thomas broyer around here?

[12:56:00.0000] <Hixie_>
Lachy: odd

[12:56:01.0000] <Hixie_>
oh i know why

[12:56:02.0000] <Hixie_>
issues with the content-type sanitation

[12:58:00.0000] <Hixie_>
fixed

[14:22:00.0000] <Vito`>
hello, we're using html5lib to generate plain text from archived html pages.  we're finding html5lib bombs out with maximum recursion errors on some pages.

[14:22:01.0000] <kingryan>
Vito`: please give an example

[14:24:00.0000] <Vito`>
http://mavra.perilith.com/~vito/html5lib/2002-0919-120019.html

[14:25:00.0000] <Vito`>
this is the python html5lib, and we're just doing parser=html5lib.HTMLParser();dom=parser.parse(filecontents);

[14:25:01.0000] <kingryan>
backtrace?

[14:25:02.0000] <Vito`>
maximum recursion depth reached, or some such

[14:26:00.0000] <Vito`>
the backtrace is accordingly > 1000 lines

[14:26:01.0000] <kingryan>
that'd be the error message. do you have backtrace?

[14:26:02.0000] <kingryan>
ah

[14:26:03.0000] <kingryan>
can you at least give us an idea of where the recursion is happening?

[14:26:04.0000] <Vito`>
lines 273 and 866 are repeated

[14:26:05.0000] <kingryan>
of what file?

[14:27:00.0000] <kingryan>
and which version of html5lib are you using?

[14:27:01.0000] <Vito`>
html5parser.py, in endTagHtml, self.parser.phase.processEndTag(name) and self.endTagHandler[name](name)

[14:28:00.0000] <kingryan>
I can't reproduce the error in trunk in either python or ruby

[14:28:01.0000] <Vito`>
hm

[14:29:00.0000] <kingryan>
which version are you using?

[14:29:01.0000] <Philip`>
I get no error in the Python trunk version either

[14:29:02.0000] <Vito`>
trying to find out

[14:29:03.0000] <Philip`>
and http://james.html5.org/cgi-bin/parsetree/parsetree.py?uri=http%3A%2F%2Fmavra.perilith.com%2F%7Evito%2Fhtml5lib%2F2002-0919-120019.html looks alright

[14:44:00.0000] <Vito`>
I thought it was the latest, but I guess we're running 0.9 or something.  Installing 0.10 locally got the first batch of failures passing.

[14:44:01.0000] <Vito`>
I'll let you know if anything new comes up.  Thanks for the sanity check.

[14:51:00.0000] <jgraham>
Hmm. In principle there are places where html5lib could have problems with recursion as it uses recursive algorithms in some places where iterative ones could be used

[14:51:01.0000] <jgraham>
But AFAIK there was at least one infinite loop bug fixed since 0.9

[14:52:00.0000] <Vito`>
we have a bit over 23k archived pages and we were hitting something pretty frequently

[14:52:01.0000] <Vito`>
but it's all OKs so far with 0.10

[14:57:00.0000] <Philip`>
If you're parsing lots of pages, it may be worth looking at hsivonen's Java HTML5 parser since it's around a hundred times faster than the Python one

[14:59:00.0000] <Vito`>
alright, I've an AssertionError using 0.10.  Should I try with trunk or are they the same?

[15:01:00.0000] <kingryan>
they're mostly the same

[15:03:00.0000] <Vito`>
happens with trunk as well

[15:04:00.0000] <Vito`>
http://mavra.perilith.com/~vito/html5lib/2003-0701-120001.html

[15:04:01.0000] <Vito`>
I can save these and stuff them all into the issue tracker as well, of course

[15:04:02.0000] <Vito`>
given that many more are passing than failing now

[15:28:00.0000] <jgraham>
Vito`: That looks like a recent regression. I'll have to investigate further

[15:29:00.0000] <Vito`>
I've had a handful of those now, plus one with an encoding error.  I'll just put them all in the tracker.

[15:30:00.0000] <jgraham>
(in the meantime you can try removing the assertion that fires; I _think_ the only bad side effect is that the source position reported for errors might be wrong)

[15:30:01.0000] <jgraham>
Thanks

[15:32:00.0000] <jgraham>
Vito`: Add me as the owner for the bugs you file (jgraham.html)

[15:33:00.0000] <Vito`>
k

[15:40:00.0000] <Hixie_>
othermaciej: do you mind if i skip replying to <video>-related e-mails from you if the spec already does everything you asked for in those e-mails, or would you rather have replies to all your mails? (either is fine, just checking which you prefer)

[15:40:01.0000] <othermaciej>
Hixie_: if the emails predate the current version of <video> then I can do without such replies

[15:41:00.0000] <othermaciej>
Hixie_: I will have new feedback from Apple soon relative to the current spec as a baseline, so I am not worried about things getting lost

[15:41:01.0000] <Hixie_>
k

[15:42:00.0000] <Hixie_>
these predate the <video> dinner at google

[15:49:00.0000] <jgraham>
Vito`: I think I have fixed one of your issues. I'll update svn in a few minutes once I fix a few issues with my working copy

[15:55:00.0000] <Vito`>
ooh

[15:55:01.0000] <Vito`>
"Warning: Undefined behaviour for end tag section"

[15:55:02.0000] <Vito`>
didn't log the file for that one, darn

[15:55:03.0000] <jgraham>
Vito`: That's expected

[15:56:00.0000] <Vito`>
ah

[15:56:01.0000] <jgraham>
<section> is a new HTML 5 tag but its parsing isn't yet defined (we treat it like a generic unkown element). However you will sometimes find authors inventing tags in the wild

[15:57:00.0000] <jgraham>
So you could have encountered a rouge <section>

[15:57:01.0000] <Vito`>
I wonder what page that was.  There were ~30 of them.

[15:57:02.0000] <Hixie_>
a red section? Is that, like, a porn site?

[15:58:00.0000] <jgraham>
Hixie_: ?

[15:58:01.0000] <Vito`>
rouge

[15:58:02.0000] <hober>
maybe you mean rogue, Vito`

[15:58:03.0000] <jgraham>
Sorry being slow

[15:59:00.0000] <Hixie_>
sorry :-)

[15:59:01.0000] <jgraham>
:-p

[16:00:00.0000] <Vito`>
I assume "Warning: Undefined behaviour for end tag header" is the same sort of thing?

[16:01:00.0000] <jgraham>
Uh hu.

[16:01:01.0000] <Vito`>
fascinating

[16:03:00.0000] <jgraham>
Hmm. Odd. html5lib is failing unit tests even without my change. This isn't supposed to happen :-|

[16:07:00.0000] <jgraham>
Maybe it's just kingryan's extra tests

[16:17:00.0000] <Philip`>
Incidentally, RIP has slightly interesting error handling - it has a version field, and v1 of the spec defines draconian error handling for packets with version=1 (e.g. reserved fields must contain zero, else the data is rejected), but non-draconian handling if the packet has version >= 2

[16:17:01.0000] <Hixie_>
what's RIP? And is that actually implemented?

[16:18:00.0000] <Hixie_>
(and do people ever give a version field?)

[16:18:01.0000] <Philip`>
so v2 of the protocol can start using the reserved fields, being certain that v1 implementations won't be sneakily using those fields anyway, while still being backward-compatible with v1 implementations

[16:18:02.0000] <Philip`>
It's a routing protocol

[16:18:03.0000] <Philip`>
(RFC1058)

[16:18:04.0000] <Hixie_>
interesting

[16:18:05.0000] <Hixie_>
oh, that RIP

[16:19:00.0000] <Hixie_>
i shoulda recognised the name

[16:21:00.0000] <Philip`>
As far as I'm aware, people do actually use it (on very small networks, since it's very simple (which is why I've been looking at RIP and not at anything more interesting and complex :-) ))

[16:22:00.0000] <Hixie_>
:-)

[16:23:00.0000] <Vito`>
jgraham...  I'm most of the way through this corpus now, and that assertion error and the unicode error are the only two unique failures I've seen

[16:23:01.0000] <Philip`>
(I think I'll end up having to work with BGP, which looks much scarier)

[16:24:00.0000] <jgraham>
Vito`: That sounds like it could be worse (did you get the message that I checked in a fix that I think helps with the assertion to trunk?)

[16:25:00.0000] <Vito`>
if it's in trunk I'll update and check the pages against it

[16:29:00.0000] <Vito`>
also html5lib can't handle GIF files with inappropriate MIME types

[16:30:00.0000] <Vito`>
just...  so you know

[16:30:01.0000] <Philip`>
Hmm, it worked fine when I passed a PDF through it once

[16:30:02.0000] <Philip`>
What kind of problem did you get?

[16:31:00.0000] <Vito`>
unicodedecodeerror

[16:32:00.0000] <Philip`>
Ah

[16:32:01.0000] <Vito`>
awesome

[16:32:02.0000] <Vito`>
recursion error

[16:32:03.0000] <Vito`>
and it didn't log

[16:32:04.0000] <Vito`>
argh

[16:34:00.0000] <jgraham>
Vito`: I don't lnow what test data you're using but it clearly rocks :)

[16:35:00.0000] <Vito`>
it's just our group's cache of bookmarked sites, crawled over the past few years

[16:35:01.0000] <kingryan>
jgraham: yes, I've added some test which may break the python impl

[16:35:02.0000] <kingryan>
jgraham: in ruby it was mostly a matter of adding error messages to the parserError() calls

[16:35:03.0000] <jgraham>
kingryan: It mostly seems to be small things; I'm just working through it now

[16:36:00.0000] <kingryan>
cool

[16:36:01.0000] <kingryan>
I meant to write a note to the ML about it, but forgot

[16:37:00.0000] <Vito`>
jgraham...  testing against your updated trunk now

[16:40:00.0000] <Vito`>
jgraham...  looks good against a couple of the failing pages

[16:45:00.0000] <Vito`>
jgraham...  I can't seem to mark you as owner of the unicode issue I just reported

[16:45:01.0000] <jgraham>
Vito`: Not to worry; I'll do it


2007-10-13
[17:46:00.0000] <jgraham>
Vito`: The page that failed for you with a decoding problem wfm with an encoding of SHIFT_JIS

[17:46:01.0000] <jgraham>
(i.e. html5lib autodetects that)

[17:47:00.0000] <jgraham>
all I see is a slightly odd unicode comparison warning

[17:47:01.0000] <Vito`>
why would it autodetect for you and not for me?

[17:47:02.0000] <jgraham>
Which python version are you using?

[17:47:03.0000] <Vito`>
looks like 2.4

[17:48:00.0000] <jgraham>
Hmm. I have chardet installed; that might affect the results

[17:49:00.0000] <Vito`>
I don't want to install something new in the middle of a test run

[17:50:00.0000] <Vito`>
but I'll try installing it when this batch is done

[17:50:01.0000] <Vito`>
is the other unicode error the same?

[17:51:00.0000] <jgraham>
I haven't looked at the BOM one

[18:02:00.0000] <jgraham>
Hmm. I don't think chardet is the issue

[18:02:01.0000] <Hixie_>
still 250 video e-mails to read, sheesh

[18:03:00.0000] <Vito`>
ugh, the recursion issue is with my code, not with html5lib

[18:08:00.0000] <jgraham>
Vito`: I see the UTF-16 issue. I should sleep now; hopefully I'll have some time tomorrow. The character encoding stuff actually needs to be updated to match the spec; I think that may help

[18:09:00.0000] <Vito`>
no rush

[18:09:01.0000] <Vito`>
posting another one

[18:39:00.0000] <Vito`>
and that's it

[18:39:01.0000] <Vito`>
just those unicode errors now, out of 23k pages

[18:41:00.0000] <Vito`>
thanks all

[00:12:00.0000] <Hixie_>
well y'all are very quiet tonight

[03:38:00.0000] <gsnedders>
Hixie: OH, ARE WE? MAYBE I WAS ALSEEP WHEN YOU SAID THAT.

[03:38:01.0000] <gsnedders>
:)

[03:43:00.0000] <jgraham>
Ah, gsnedders, I see you've started to act your age ;)

[03:43:01.0000] <gsnedders>
jgraham: :)

[03:50:00.0000] <gsnedders>
jgraham: you mean I normally don't? ever looked at my blog? twitter? :P

[04:02:00.0000] <jgraham>
gsnedders: I say nothing :)

[05:11:00.0000] <heyadayo>
hello

[05:28:00.0000] <Philip`>
heyadayo: Good morning

[07:08:00.0000] <gsnedders>
/me wonders how markup an interview…

[07:08:01.0000] <gsnedders>
<dialog> is meant as a conversation, which the definition of which means that an interview is not a conversation

[07:08:02.0000] <gsnedders>
and it'd be better to have something that is valid HTML 4.01 Strict

[08:32:00.0000] <zcorpan>
gsnedders: <dl>?

[08:46:00.0000] <gsnedders>
zcorpan: that does't work under the html5 def as order is meaningful in an interview

[13:43:00.0000] <gsnedders>
/me needs to write a UTF-16 decoder


2007-10-15
[11:55:00.0000] <zcorpan>
http://simon.html5.org/tools/js/designmode-viewer/

[11:58:00.0000] <zcorpan>
Hixie: yt?

[11:59:00.0000] <Hixie>
yep

[11:59:01.0000] <Hixie>
wassup?

[12:02:00.0000] <zcorpan>
Hixie: what tool do i use to make a ToC and xrefs in the ARIA draft?

[12:03:00.0000] <Hixie>
i use the css postprocessor

[12:03:01.0000] <Hixie>
if that's what you're asking

[12:03:02.0000] <zcorpan>
yeah

[12:03:03.0000] <zcorpan>
pointer?

[12:03:04.0000] <Hixie>
http://www.w3.org/Style/Group/css3-src/bin/postprocess

[12:04:00.0000] <zcorpan>
thanks

[12:04:01.0000] <Hixie>
wow, this has to be the most tedious input device ever. http://www.youtube.com/watch?v=ENkjkIypXq4

[12:04:02.0000] <Hixie>
that's amazing.

[12:07:00.0000] <Hixie>
what's interesting about these videos is that they're disabilities adressed by input devices, and the alt/longdesc/summary/headers arguments don't even remotely affect them

[12:09:00.0000] <virtuelv>
amazing is the word

[12:23:00.0000] <zcorpan>
http://simon.html5.org/specs/aria-proposal now has a toc and xrefs :)

[12:26:00.0000] <Hixie>
/me shudders at "A role as defined in WAI-ARIA Roles or XHTML Role Attribute Module."

[12:26:01.0000] <Hixie>
please define the ua requirements for everything in this spec..

[12:26:02.0000] <gsnedders>
/me points at his watch as a conformant UA

[12:27:00.0000] <zcorpan>
Hixie: yeah, in due course

[12:28:00.0000] <Hixie>
btw when you have multiple class=notes next to each other, especially if they refer to each other, you might consider a div class=note with three paragraphs

[12:28:01.0000] <Hixie>
because the way the stylesheet works, the class=note introduces a Note: prefix which makes the paragraphs sound very unrelated

[12:28:02.0000] <Hixie>
wtf is a curie

[12:28:03.0000] <Hixie>
is it a qname?

[12:29:00.0000] <zcorpan>
not quite

[12:29:01.0000] <takkaria>
why did someone call it a curie, too?  every time I see it, I think physics first off

[12:29:02.0000] <zcorpan>
didn't you ask that a few days ago also? :)

[12:29:03.0000] <Dashiva>
It's a c(razy) uri e(xpression)

[12:30:00.0000] <Hixie>
zcorpan: didn't make sense to me then, doesn't make sense to me now

[12:31:00.0000] <zcorpan>
Hixie: doesn't make sense to me, either

[12:31:01.0000] <Hixie>
2.2 doesn't seem to be updated to handle curies

[12:31:02.0000] <Hixie>
(ua reqs)

[12:32:00.0000] <Hixie>
are there _examples_ of these curie things?

[12:32:01.0000] <zcorpan>
it's not intended to handle curies

[12:32:02.0000] <Hixie>
ah ok

[12:32:03.0000] <Hixie>
then it needs to be made clearer

[12:32:04.0000] <Hixie>
cos right now it's unclear what a "supported custom role" is

[12:32:05.0000] <Hixie>
or whether "A role as defined in WAI-ARIA Roles or XHTML Role Attribute Module" can be a curie

[12:33:00.0000] <Hixie>
basically your spec right now is a little confused cos it sometimes gives descriptions at the level of syntactic details and sometimes just refers to other specs

[12:33:01.0000] <Hixie>
i recommend just doing everything at the syntax level and having notes that say "and this is a curie, see spec thisorthat"

[12:33:02.0000] <Hixie>
so that you don't have to read a bazillion specs to implement your spec

[12:34:00.0000] <zcorpan>
ok

[12:34:01.0000] <Hixie>
i'm really glad you're working on this spec though

[12:35:00.0000] <Hixie>
since it seems we're stuck with having role= in our life, i'm glad at least we'll have a well-defined spec

[12:35:01.0000] <Hixie>
are you sending last call comments on it?

[12:35:02.0000] <Hixie>
the role lc?

[12:35:03.0000] <zcorpan>
thanks for the feedback, i'll look into it later

[12:35:04.0000] <zcorpan>
i haven't

[12:35:05.0000] <zcorpan>
i guess i could

[12:39:00.0000] <Hixie>
please do

[12:39:01.0000] <Hixie>
i considered it but i had literally zero ua conformance criteria and i didn't know where to start

[12:39:02.0000] <Hixie>
you are far more knowledgable in this space

[12:40:00.0000] <zcorpan>
i guess :)

[15:36:00.0000] <jgraham>
Is it specified anywhere what to do if the <meta parsing algorithm returns UTF-16 but there is no BOM (or, I suppose, more generally if it detects any encoding that does not have enough codepoints in common with ascii for the algorithm to both work and return the real encoding?)


2007-10-16
[23:35:00.0000] <yod>
me lost his tunnel - cuappy network

[23:37:00.0000] <yod>
agh, and wrong channel - xchat--

[01:22:00.0000] <Lachy>
hmm. I don't like the idea of allowing CURIEs for aria roles.

[01:24:00.0000] <othermaciej>
are they CURIEs or QNames?

[01:25:00.0000] <othermaciej>
or are you allowed to mix both in the same attribute? (shudder)

[01:25:01.0000] <Lachy>
IIRC, CURIEs are slightly more complicated forms of qnames

[01:26:00.0000] <Lachy>
I don't know, I haven't finished reading simon's aria-proposal yet

[01:28:00.0000] <Lachy>
e.g. a curie could be written like role="foo:bar" or role="[foo:bar]".

[01:28:01.0000] <Lachy>
yet the processing requirements in the proposal don't seem to deal with the square brackets at all

[01:30:00.0000] <othermaciej>
my understanding is that CURIEs map to URIs, not [URI, localname] pairs

[01:30:01.0000] <othermaciej>
they work by concatenating the localname to the prefix URI basically

[01:30:02.0000] <othermaciej>
rather than producing a qualified name

[01:30:03.0000] <Lachy>
yeah, something like that.

[01:31:00.0000] <othermaciej>
which in a way is simpler, but having a mixed list of CURIEs and QNames seems like a bad idea for that very reason

[01:31:01.0000] <Lachy>
I think zcorpan is just misusing them and should drop them

[02:34:00.0000] <hsivonen>
Lachy: I don't like CURIEs either

[02:34:01.0000] <hsivonen>
It seems to me it went like this:

[02:34:02.0000] <hsivonen>
1) URLs are invented as network resource locators.

[02:35:00.0000] <hsivonen>
2) Locators are theoretically generalized into generic *identifiers*

[02:35:01.0000] <hsivonen>
3) People start using them as identifiers that are not supposed to be dereferenced

[02:35:02.0000] <hsivonen>
4) They are too long as identifiers

[02:36:00.0000] <hsivonen>
5) People invent complex (and in the face of DOM manipulation, brittle) ways to compress them

[02:36:01.0000] <hsivonen>
Better fix: not using URLs as identifiers and only using them as network locators

[02:37:00.0000] <Lachy>
right, so it all went wrong as step 2.

[03:53:00.0000] <hsivonen>
are there actual implementations that support SVG 1.2 Tiny scripting via Java jars?

[03:54:00.0000] <hsivonen>
If I had to guess, I'd guess that scripting via ECMAScript would be a better match for Gecko/WebKit/Opera

[03:55:00.0000] <heycam>
hsivonen, it doesn't do 1.2 Tiny (just 1.1 full plus a couple of 1.2-isms), but Batik does support the scripting via Java jars

[03:57:00.0000] <hsivonen>
heycam: OK. interesting. 

[03:57:01.0000] <heycam>
i don't know if many people use the features though

[03:57:02.0000] <hsivonen>
heycam: how do they handle security? that seems like a fast way to classloader hell

[03:57:03.0000] <heycam>
s/features/feature/

[03:58:00.0000] <heycam>
i believe it has the same restrictions as that of ecmascript running in the document

[04:00:00.0000] <heycam>
i.e. those classes won't be able to write to the filesystem, open non-same-origin connections, etc.

[06:05:00.0000] <hendry>
are label elements depreciated? e.g. <label for="to" >

[06:05:01.0000] <zcorpan>
no

[06:06:00.0000] <zcorpan>
or at least i don't depreciate them :)

[06:06:01.0000] <hendry>
ok, I must be using them wrong http://validator.nu/?doc=http%3A%2F%2Fletter.dabase.com%2F

[06:06:02.0000] <zcorpan>
you mix block and inline

[06:07:00.0000] <hendry>
i keep doing that

[06:07:01.0000] <hendry>
also what's the story with size on the input tag?

[06:07:02.0000] <zcorpan>
wf2 says size="" is deprecated

[06:08:00.0000] <zcorpan>
will likely be dropped altogether when wf2 is integrated

[06:08:01.0000] <zcorpan>
(though personally i don't think size="" should be dropped)

[06:11:00.0000] <zcorpan>
(form also requires block children currently, also in html4 strict, so you need blocks around your labels)

[06:12:00.0000] <hendry>
thanks zcorpan 

[06:14:00.0000] <hendry>
what's wrong with : input type="submit"

[06:15:00.0000] <zcorpan>
<input> is also inline

[06:15:01.0000] <zcorpan>
though the error message seems wrong

[06:15:02.0000] <zcorpan>
hsivonen: ^

[06:16:00.0000] <hendry>
yeah ...

[06:16:01.0000] <zcorpan>
aha, hidden inputs are allowed in that context

[06:16:02.0000] <hendry>
safari doesn't seem to render the text in the opening/closing inputs, whilst firefox does

[06:16:03.0000] <zcorpan>
so the schema expects type="hidden"

[06:16:04.0000] <hendry>
zcorpan: very good

[06:18:00.0000] <zcorpan>
hendry: you have a newline at the beginning of the value=""

[06:18:01.0000] <hendry>
is there something in WF2 I wonder, which is supposed to clear a form. For example test says "Firstname Lastname", and when editing that input it's cleared

[06:19:00.0000] <zcorpan>
hendry: though since it works in other browsers it's probably a bug in safari

[06:19:01.0000] <hendry>
oh yes

[06:19:02.0000] <zcorpan>
hendry: that would be placeholder="", not in html5 yet

[06:20:00.0000] <hendry>
oh right

[06:20:01.0000] <hendry>
I guess I need some JS in there

[06:20:02.0000] <zcorpan>
http://simon.html5.org/sandbox/js/placeholder.js

[06:21:00.0000] <hendry>
i thought you could do something like  <input>what value would be</input>

[06:21:01.0000] <hendry>
looks like you can't

[06:22:00.0000] <zcorpan>
no, <input> is a void element

[06:23:00.0000] <hendry>
thanks again zcorpan 

[06:26:00.0000] <zcorpan>
welcome

[06:28:00.0000] <hsivonen>
zcorpan: hendry fixed the page before I had a chance to check the message

[06:28:01.0000] <hsivonen>
zcorpan: however, my crystal ball tells me the message is correct but for a non-obvious reason

[06:28:02.0000] <hendry>
hsivonen: i'll unfix it one mo

[06:28:03.0000] <hsivonen>
zcorpan: <input type='hidden'> is block

[06:28:04.0000] <hendry>
how come placeholder only works on webkit? http://simon.html5.org/sandbox/js/placeholder-demo.htm

[06:29:00.0000] <zcorpan>
hsivonen: yes, i figured

[06:29:01.0000] <hendry>
hsivonen: http://validator.nu/?doc=http%3A%2F%2Fletter.dabase.com%2F

[06:29:02.0000] <zcorpan>
hendry: because they invented it and no-one else has copied it yet?

[06:30:00.0000] <hsivonen>
hendry: yeah, the error is correct (type=hidden would work) but unintuitive

[06:31:00.0000] <zcorpan>
hendry: the script should make it work in other browsers, but rely on some features that are not widely implemented

[06:31:01.0000] <zcorpan>
s/rely/it relies/

[06:31:02.0000] <zcorpan>
such as the DOMFocusIn event

[06:32:00.0000] <zcorpan>
should work in opera 9.5

[06:32:01.0000] <hendry>
damn, my backspace in MacOSX Terminal is misbehaving

[06:33:00.0000] <hsivonen>
hendry: when did you switch to non-DFSG software?

[06:34:00.0000] <hendry>
hsivonen: at work I use MacOSX :)

[06:34:01.0000] <hendry>
zcorpan: how does placeholder and textarea supposed to work? http://dabase.com/placeholder.html

[06:35:00.0000] <hendry>
it's just for input I think (looking at the JS)

[06:35:01.0000] <zcorpan>
hendry: placeholder for textarea is not implemented in webkit

[06:37:00.0000] <hsivonen>
zcorpan: does my name=''/usemap='' suggestion make sense in your opinion?

[06:38:00.0000] <hsivonen>
(formulating a researched opinion was tedious)

[06:39:00.0000] <hendry>
i just put a reset input on letter.dabase.com. Amazed that it doesn't actually clear the forms. It puts them how they were before

[06:39:01.0000] <hsivonen>
reset suck

[06:39:02.0000] <hsivonen>
s

[06:47:00.0000] <zcorpan>
hsivonen: yes, i think it makes sense. it's pretty much what i suggested, also

[06:50:00.0000] <hsivonen>
zcorpan: uh, right. so it is. :-)

[09:52:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cstyle%3Ea-%C3%85%20{border%3Asolid}a-%C3%A5%20{color%3Ablue}%3C%2Fstyle%3E%3Cbody%3E%3Ca-%C3%A5%3Ea%3C%2Fa-%C3%85%3Eb

[09:53:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cstyle%3Ea[%C3%85]%20{border%3Asolid}a[%C3%A5]%20{color%3Ablue}%3C%2Fstyle%3E%3Cbody%3E%3Ca%20%C3%A5%3Ea%3Ca%20%C3%85%3Eb

[09:55:00.0000] <zcorpan>
it seems browsers differ from what html5 says for those

[10:16:00.0000] <jacobolus>
zcorpan: the behavior for those differs in webkit/gecko for me

[10:18:00.0000] <jacobolus>
that is, gecko sees </a-Å> as a closing tag for <a-å>, but webkit does not 

[10:27:00.0000] <zcorpan>
jacobolus: indeed; webkit is per html5

[10:28:00.0000] <jacobolus>
so were you just pointing that out? or suggesting the spec be to gecko's behavior, or… ?

[10:28:01.0000] <zcorpan>
the former

[10:31:00.0000] <zcorpan>
though html5 also needs to define what the case sensitivity is for elements and attributes wrt selectors

[10:31:01.0000] <zcorpan>
ascii-case insensitive makes sense, but doesn't match browsers

[10:32:00.0000] <zcorpan>
or it matches opera, actually

[11:13:00.0000] <zcorpan>
http://simon.html5.org/tools/js/designmode-viewer/ -- create a list and press "indent"

[11:13:01.0000] <zcorpan>
all browsers nest lists directly without an <li> in between

[14:29:00.0000] <mpt>
kingryan!

[14:30:00.0000] <mpt>
A few days ago you were wondering whether anyone uses "*" in URLs

[14:30:01.0000] <kingryan>
I was?

[14:30:02.0000] <mpt>
Darn, I've been saving up an example for you all this time and now you don't even remember :-)

[14:31:00.0000] <kingryan>
were we talking about comments in manifests?

[14:31:01.0000] <mpt>
One moment, I'll find out

[14:33:00.0000] <mpt>
Oct 04 12:47:45 <Hixie> blimey URIs use a lot of symbols. ok if we're to allow comments at end of lines we have to have a comment delimited that isn't one of + - . : / @ _ ~ % ! $ & ' ( ) * , ; = [ ] ? #

[14:33:01.0000] <kingryan>
right

[14:33:02.0000] <kingryan>
* can't be used b/c its part of URL syntax

[14:33:03.0000] <mpt>
...

[14:34:00.0000] <mpt>
Oct 04 12:55:09 <kingryan> what about '*' ?

[14:34:01.0000] <mpt>
...

[14:34:02.0000] <mpt>
Oct 04 12:55:45 * kingryan has no idea where * is used in URLs

[14:34:03.0000] <mpt>
There we go

[14:34:04.0000] <mpt>
anyway

[14:34:05.0000] <mpt>
One popular example of * in URLs is the Wayback Machine.

[14:34:06.0000] <kingryan>
ah yeah, I think I've seen that

[14:34:07.0000] <mpt>
e.g. <http://web.archive/org/*/http://www.whatwg.org/> (here, "*" means "show me all the versions you have")

[14:43:00.0000] <jgraham>
/me just added some tests that ruby html5lib ought to fail

[14:44:00.0000] <kingryan>
 jgraham: I take that as a challenge :)

[14:44:01.0000] <jgraham>
specifically I just added logic to the python side to assume utf-8 when utf-16 is found in the meta pre-parse algorithm

[14:44:02.0000] <kingryan>
is that in the spec?

[14:44:03.0000] <jgraham>
this is what hsivonen seems to do

[14:45:00.0000] <jgraham>
Since it's impossible for any file that is actually utf-16 encoded to be detected by the pre-parse it doesn't seem unreasonable

[14:45:01.0000] <jgraham>
but it's not in the spec yet

[14:45:02.0000] <kingryan>
yeah

[14:45:03.0000] <jgraham>
We were failing on real files because of this

[14:46:00.0000] <kingryan>
I see

[14:46:01.0000] <kingryan>
the python tests are failing for me now

[14:47:00.0000] <jgraham>
Oh. 

[14:47:01.0000] <kingryan>
LookupError: unknown error handler name '  replace'

[14:47:02.0000] <kingryan>
from

[14:47:03.0000] <kingryan>
  File "/Users/ryan/projects/html5lib/python/tests/test_encoding.py", line 18, in encodingTest

[14:47:04.0000] <kingryan>
    stream = inputstream.HTMLInputStream(data,chardet=False)

[14:47:05.0000] <kingryan>
  File "/Users/ryan/projects/html5lib/python/src/html5lib/inputstream.py", line 61, in __init__

[14:47:06.0000] <kingryan>
    '  replace')

[14:48:00.0000] <kingryan>
looks like the space before 'replace' might be a problem

[14:49:00.0000] <jgraham>
hmm wfm

[14:49:01.0000] <kingryan>
fwiw, I'm running it via 'sh runtests.sh'

[14:50:00.0000] <hsivonen>
the sniffing part of the spec changed after I did my impl

[14:51:00.0000] <jgraham>
OK, so I removed the whitespace

[14:53:00.0000] <jgraham>
hsivonen: I don't think it covers the case of <meta charset="UTF-16"> in the current version

[14:53:01.0000] <jgraham>
assuming the <meta> is detected by the pre-parser

[14:53:02.0000] <jgraham>
it works if the <meta> is not in the first 512 bytes though

[14:55:00.0000] <jgraham>
(the spec that is)

[14:59:00.0000] <hsivonen>
jgraham: IIRC, I did with UTF-16 what someone from Apple said WebKit does

[15:00:00.0000] <hsivonen>
jgraham: IIRC, UTF-16 in meta needs to be taken to mean UTF-8 for Web compat

[15:47:00.0000] <jgraham>
hsivonen: Yeah, I think I remember othermaciej saying that; which is also what the comment in your source says :)

[15:54:00.0000] <kingryan>
ruby version of htm5lib updated to do utf-8 instead of utf-16 for meta@charset

[15:56:00.0000] <jgraham>
:)

[15:58:00.0000] <Philip`>
/me discovers that gitweb outputs actual XHTML

[15:58:01.0000] <Philip`>
though I only discovered that because I got a well-formedness error while trying to use it

[16:00:00.0000] <kingryan>
Philip`: is it really xhtml then ?

[16:00:01.0000] <kingryan>
:)


2007-10-17
[18:53:00.0000] <Hixie>
hsivonen: off hand i think we can allow name="" on <map> if we think it's worth it. i think people have requested it before.

[23:27:00.0000] <Hixie>
one of the 300 new features in leopard seems remarkably useless

[23:27:01.0000] <Hixie>
an on-screen braille display.

[23:28:00.0000] <othermaciej>
the VoiceOver team wants everything made available through assistive technologies to also be on screen, for the sake of collaboration

[23:32:00.0000] <Hixie>
i also like "support for open standards popular in the UNIX community such as the OASIS Open Document Format (ODF) or ECMA’s Office XML"

[23:32:01.0000] <Hixie>
whoever wrote this document has a highly tuned sense of humour

[23:32:02.0000] <othermaciej>
marketing? sense of humor?

[23:34:00.0000] <Hixie>
calling OOXML a standard "popular in the UNIX community" is funny :-P

[23:34:01.0000] <Hixie>
marketing or not :-P

[23:37:00.0000] <Hixie>
the tag is floating this idea of starting a subgroup to decide the semantics of http

[23:37:01.0000] <Hixie>
/me wonders why that isn't the httpwg's job

[23:41:00.0000] <othermaciej>
why does http need semantics?

[23:41:01.0000] <othermaciej>
I thought it was a network protocol

[23:41:02.0000] <Hixie>
i didn't ask

[23:41:03.0000] <othermaciej>
are they going to define the semantics of TCP next?

[23:41:04.0000] <Hixie>
it seemed unwise to step into that discussion

[23:42:00.0000] <othermaciej>
maybe we should replace TCP with RDF triples sent over IP

[23:42:01.0000] <hober>
ethernet-over-RDF-triples

[23:42:02.0000] <Hixie>
i'm guessing it is indeed related to the SEMANTIC WEB though

[23:42:03.0000] <Hixie>
oh wait, it's Semantic Web

[23:49:00.0000] <othermaciej>
I like the use of all caps

[23:52:00.0000] <hober>
We could call some kind of pragmatic compromise between the RDF folk and the real world "the title-cased Semantic Web"

[23:54:00.0000] <Hixie>
holy crap

[23:54:01.0000] <Hixie>
microsoft actually did something to support html5

[23:54:02.0000] <Hixie>
http://www.consortiuminfo.org/standardsblog/article.php?story=20071016092352827

[23:55:00.0000] <Hixie>
(see in particular the seventh paragraph)

[23:59:00.0000] <jruderman>
causing that group to "grind to a halt" helps html5?

[00:00:00.0000] <Hixie>
read the seventh paragraph

[00:01:00.0000] <jruderman>
the one that starts with

[00:01:01.0000] <jruderman>
The result is that a very important committee has, in the words of its Secretariat Manager in frequent pleas to the non-responsive members, "ground to a halt." 

[00:01:02.0000] <jruderman>
?

[00:01:03.0000] <Hixie>
yes

[00:01:04.0000] <Hixie>
second sentence

[00:01:05.0000] <Hixie>
specifically, the listed specs

[00:02:00.0000] <jruderman>
'The impact is significant, since this is the committee that controls standards such as RELAX NG (ISO/IEC 19757 Part 2), Schematron (ISO/IEC 19757 Part 3) and Topic Maps (ISO/IEC 13250) – not to mention ODF and PDF (if will be interesting to see if participation increases when Microsoft's PDF-competing XML Paper Specification advances to SC 34 from Ecma, where it is currently in preparation).'

[00:02:01.0000] <Hixie>
yeah

[00:02:02.0000] <Hixie>
microsoft have managed to do what i've never been able to even work out how to do

[00:02:03.0000] <Hixie>
kill relaxng and schematron :-P

[00:02:04.0000] <Hixie>
not to mention odf and pdf :-P

[00:02:05.0000] <jruderman>
ahh

[00:02:06.0000] <jruderman>
hehe

[00:03:00.0000] <Hixie>
seriously though, it's amazing how microsoft can screw things up

[00:03:01.0000] <Hixie>
i'm really glad we have the html5 work structured in a way that they can't do that

[00:07:00.0000] <hsivonen>
Hixie: have you tried to work out how to kill RELAX NG and Schematron? :-)

[00:07:01.0000] <hsivonen>
occasionally, conformance requirements may look like an attempt :-)

[00:07:02.0000] <Hixie>
uh... no comment!

[00:07:03.0000] <Hixie>
/me hides

[00:08:00.0000] <karlUshi>
back

[00:08:01.0000] <karlUshi>
network trouble

[01:15:00.0000] <hsivonen>
html5.validator.nu now does ASCII case-insensitive comparisons for enumerated attribute values

[01:15:01.0000] <hsivonen>
Hixie: your blog front page uses size='' on <input> but you deprecated it in WF2 :-)

[01:16:00.0000] <hsivonen>
Hixie: isn't your blog a use case?

[01:22:00.0000] <Hixie>
hsivonen: it has to do so to validate, iirc

[01:22:01.0000] <Hixie>
or there was something along those lines

[01:23:00.0000] <Hixie>
or maybe that's the rows= on textarea

[01:23:01.0000] <Hixie>
i dunno, i wrote my blog software over half a decade ago :-P

[01:43:00.0000] <Hixie>
is Brady Eidson here?

[02:20:00.0000] <hsivonen>
I have to wonder if RFC 4646 precision in language tagging is actully useful on the Web...

[02:22:00.0000] <Hixie>
othermaciej: so the real question is what API do we do first -- because if we're ever going to have a non-transaction API, we should work out what we want the names to look like today

[02:22:01.0000] <Hixie>
so we don't paint ourselves into a corner

[02:23:00.0000] <othermaciej>
Hixie: what would be nice is if the no-transcation version could have the decorated name, so that we could be confident it could be added later without insanity

[02:30:00.0000] <othermaciej>
if you had both and wanted short names I'd suggest startTransaction and execute

[02:30:01.0000] <othermaciej>
or startSqlTransaction / executeSql

[02:30:02.0000] <othermaciej>
(well, relatively short names)

[02:37:00.0000] <othermaciej>
Hixie: I think the big remaining issue with changeVersion is that you really want a version change to be done atomically with the schema upgrade transaction

[02:38:00.0000] <othermaciej>
Hixie: I do not think there is a way to use the current API to do that

[02:39:00.0000] <othermaciej>
Hixie: if changeVersion opened a transaction and let you do the schema upgrade from the callback, with the version change rolled back if the transaction fails, that would work

[02:39:01.0000] <othermaciej>
I guess I should email that

[02:53:00.0000] <Hixie>
othermaciej: i just figured people would change the version from 1.0 to 2.0-updating, do the update, then change it to 2.0

[02:53:01.0000] <othermaciej>
Hixie: yeah but it's unnecessary to expose the intermediate state, and I believe fixing the issue is not particularly difficult implementation-wise

[02:54:00.0000] <Hixie>
othermaciej: (i was trying to avoid making the changeVersion() stuff integrate too closely with the sql stuff to avoid making it hard to implement without changes to, e.g., sqlite)

[02:54:01.0000] <Hixie>
yeah

[02:55:00.0000] <othermaciej>
it's likely the version will be stored in a sqlite table anyway

[02:55:01.0000] <Hixie>
i guess

[02:56:00.0000] <othermaciej>
it just needs to not be exposed to user sql code

[02:56:01.0000] <Hixie>
the main reason i don't like startSqlTransaction() btw is that it looks unbalanced -- it does the same as executeSql() and has the same arguments but uses a different name

[02:56:02.0000] <othermaciej>
although honestly if it was, you could do things like atomic test-and-set on the version as part of your upgrade

[02:56:03.0000] <Hixie>
well the easiest from the author point of view is extending SQL to have version-related statements

[02:56:04.0000] <Hixie>
but i really don't want to do that

[02:57:00.0000] <Hixie>
we _could_ just define a table

[02:57:01.0000] <othermaciej>
it doesn't need that, just a reserved table name

[02:57:02.0000] <Hixie>
but that would get us into issues like schema descriptions and types

[02:57:03.0000] <Hixie>
which is an area i _really_ want to avoid for now

[02:57:04.0000] <Hixie>
at least until we have interop with two implementations

[02:57:05.0000] <othermaciej>
with a reserved column for the version

[02:57:06.0000] <othermaciej>
I will ask my co-workers tomorrow what they think

[02:57:07.0000] <Hixie>
k

[02:59:00.0000] <othermaciej>
startTransaction() or openTransaction() could be paired with executeSingleStatement(), but then you make that name annoyingly long

[02:59:01.0000] <othermaciej>
if the names get longer I'd suggest taking sql out and maybe renaming Database to SQLDatabase or something

[02:59:02.0000] <othermaciej>
I wouldn't expect non-SQL access to the same database to be a super likely prospect

[03:19:00.0000] <Hixie>
yeah

[03:19:01.0000] <Hixie>
i dunno, i like executeSql() as it is

[03:19:02.0000] <Hixie>
i'm not sure i'm convinced we want a non-transaction version

[03:19:03.0000] <Hixie>
but transactions do cause issues, especially the lock contention / rollback issue

[03:20:00.0000] <Hixie>
which i'm not sure authors will handle well

[03:25:00.0000] <Hixie>
if ES4 gets generators (and thus continuations) i wonder if people will (ab)use those to turn async APIs into sync APIs

[03:26:00.0000] <Hixie>
interesting. aaron says you actually get performance _boosts_ from implicit transactions in the real world

[03:33:00.0000] <hsivonen>
http://www1.ietf.org/mail-archive/web/ltru/current/msg05589.html

[03:34:00.0000] <hsivonen>
I imagine I can give better error messages, if I keep polishing my Java code instead of doing the one-stop "regexp didn't match" thing

[03:36:00.0000] <Hixie>
i expect you will end up spending as much time polishing error codes (and making changes to accommodate better reporting) as you do doing everything else put together, on the long term

[03:36:01.0000] <Hixie>
getting ui right is hard

[03:37:00.0000] <hsivonen>
Hixie: yeah. 

[03:38:00.0000] <hsivonen>
Hixie: however, I think I can go for cases that casual authors care the most about

[03:39:00.0000] <hsivonen>
Hixie: for example, I think I'm going to let errors related to the content models of ins and del suck for the foreseeable future

[03:40:00.0000] <hsivonen>
anyway, I'm going to have to hack Jing soonish

[03:41:00.0000] <Hixie>
my recommendation once you get to the stage of worrying about error messages is just to instrument your code to log which error messages get reported the most

[03:41:01.0000] <Hixie>
and start at the top of that pile with the most reported message

[03:41:02.0000] <hsivonen>
RFC 4646 has all sort of weird internal dependencies: like so subtags are allowed or disallowed based on earlier subtags...

[03:41:03.0000] <hsivonen>
Hixie: makes sense

[03:42:00.0000] <Hixie>
for each message: split the message up to be more precise about the exact problem instead of using generic messages; if it's not a generic message, make the message more detailed, with examples and (most important!) instructions on the best way to fix the problem, ideally using the actual author code as a guide

[03:42:01.0000] <hsivonen>
Hixie: my wild guess is that errors related to old-style internal encoding declaration and to the content model of <div> end up at the top of the pile

[03:44:00.0000] <Hixie>
yeah

[03:44:01.0000] <hsivonen>
Hixie: to be honest, it seems to me that banning old-style internal encoding decls is theoretical purity and not solving a problem

[03:46:00.0000] <Hixie>
it's not theoretical, it's aesthetic

[03:46:01.0000] <Hixie>
but i agree entirely that it's not solving a problem

[03:48:00.0000] <Hixie>
changing the DOCTYPE from <!DOCTYPE ...html4...> to <!DOCTYPE HTML> doesn't "solve a problem" either

[03:53:00.0000] <hsivonen>
Hixie: only if you don't consider the need of obvious failure in old validators a problem that needs solving

[03:57:00.0000] <Hixie>
ok, refusing doctypes like <!DOCTYPE HTML "bogus">

[03:58:00.0000] <Hixie>
there are a number of things that the spec requires that are basically just aethetic

[03:58:01.0000] <Hixie>
especially now that we have well-defined error handling

[03:58:02.0000] <Hixie>
anyway

[03:58:03.0000] <Hixie>
long past sleep time

[03:58:04.0000] <Hixie>
nn

[04:45:00.0000] <hsivonen>
"The script subtags 'Qaaa' through 'Qabx' are reserved for private use in language tags."

[04:45:01.0000] <hsivonen>
joy. RFC 4646 has magic values as well as x- for indicating private use

[13:42:00.0000] <hober>
"Which means the *last* thing one should use as a yardstick by which to determine inclusion in a standard, is whether it has been adopted by one or other browser vendor!"

[13:43:00.0000] <hober>
I feel like I'm stuck in an episode of Sliders, and am mixing up our world's htmlwg mailing list with some kind of parallel universe's list

[15:01:00.0000] <Dashiva>
hober: Which mailing list, which mail?

[15:03:00.0000] <hober>
http://lists.w3.org/Archives/Public/public-html/2007Oct/0203.html

[15:03:01.0000] <Dashiva>
ah

[15:56:00.0000] <jgraham_>
/me nominates hober for QOTW


2007-10-18
[19:09:00.0000] <Hixie>
Lachy: the whatwg blog seems to be the main user of CPU on whatwg.org -- any chance there's something simple we can do to use a cache or something?

[19:09:01.0000] <Hixie>
it's not a problem now, but if we ever get /.'ed or something, i'd like to be ready

[01:28:00.0000] <Lachy>
Hixie, this has some instructions on how to improve WordPress performance http://elliottback.com/wp/archives/2007/04/15/why-my-wordpress-site-is-so-much-faster-than-yours/

[01:29:00.0000] <Lachy>
I'll set it up tonight when I get home

[02:30:00.0000] <Hixie>
wow, tv and i agree on something :-)

[03:03:00.0000] <Philip`>
Hmph, http://www.google.com/search?q=canvex+survey doesn't find my thing's front page any more

[03:04:00.0000] <Philip`>
Maybe I should use bookmarks rather than Google when I want to find bits of my own site

[03:04:01.0000] <Hixie>
heh

[03:07:00.0000] <Philip`>
(Also I should see if MySQL is fast enough at this kind of database, and then move it onto html5.org)

[03:52:00.0000] <gsnedders>
/me has barely any bookmarks at all

[03:52:01.0000] <gsnedders>
I just use Google for everything

[04:32:00.0000] <mpt>
gsnedders, that happened to me in 2001 or so

[04:33:00.0000] <mpt>
and a feedreader has its eye on most of the rest

[04:33:01.0000] <gsnedders>
mpt: and now?

[04:33:02.0000] <mpt>
so all I'll end up with is bookmarklets

[06:13:00.0000] <hsivonen>
should deprecated language tags be conforming? no?

[06:14:00.0000] <zcorpan_>
i'd say no

[06:18:00.0000] <hsivonen>
email time

[06:20:00.0000] <hsivonen>
hmm. region subtag 001 seem really useful...

[06:37:00.0000] <gsnedders>
hsivonen: I'd say leave it up to the language tag spec whether it is conforming

[06:39:00.0000] <hsivonen>
gsnedders: "validating processors SHOULD NOT generate these subtags"

[06:39:01.0000] <hsivonen>
gsnedders: I take that as failing document conformance

[06:39:02.0000] <gsnedders>
hsivonen: I take that as needing a warning, not an outright failure

[06:41:00.0000] <hsivonen>
gsnedders: I'd rather not do warnings with attribute datatypes

[06:42:00.0000] <hsivonen>
(the API doesn't allow it. I'd have to do the checking through a different API)

[06:44:00.0000] <hsivonen>
gsnedders: in general, I'd like to take SHOULD NOTs that are not subject to human-assessable context as conformance failures

[14:18:00.0000] <jgraham_>
/me finds his first mail to the whatwg list on 2004-06-22

[14:20:00.0000] <jgraham_>
Oddly enough I haven't changed my basic premise since that first message although I don't doubt I would try to disown many of the intermediate ones

[14:28:00.0000] <hsivonen>
jgraham_: what's your basic premise?

[14:56:00.0000] <jgraham_>
hsivonen: That solutions which respect backwards compatibility and have a clear path for adoption are superior to technically more advanced solutions which do not take market forces into account

[15:08:00.0000] <bewest>
can anyone point me to anything that describes the ways the same origin policy interacts with the "browsing context" and what features of a document are defined by that context?

[15:09:00.0000] <hsivonen>
jgraham_: I agree with that premise

[15:11:00.0000] <gsnedders>
looks like I'm going to writing a UTF-16 decoder on the plane tomorrow.

[15:11:01.0000] <jgraham_>
gsnedders: Going anywhere nice?

[15:11:02.0000] <kingryan>
jgraham_, hsivonen: I agree as well.

[15:11:03.0000] <gsnedders>
jgraham_: Paris (so I get the fun of the public transport strike)

[15:11:04.0000] <hober>
yeah, that sounds right on

[15:12:00.0000] <Philip`>
gsnedders: Are you writing it on a basic multilingual plane?

[15:12:01.0000] <jgraham_>
I think it's pretty well accepted by WHATWG types

[15:12:02.0000] <gsnedders>
Philip`: no, the entire UTF-16 range

[15:12:03.0000] <jgraham_>
Philip`: That was shameful

[15:12:04.0000] <gsnedders>
(i.e., 0–10FFFF)

[15:13:00.0000] <gsnedders>
jgraham_: what was shameful?

[15:13:01.0000] <jgraham_>
I assume that was a joke

[15:13:02.0000] <jgraham_>
(writing it on a plane)

[15:13:03.0000] <gsnedders>
oh.

[15:13:04.0000] <gsnedders>
very funny.

[15:14:00.0000] <gsnedders>
</sarcasm>

[15:14:01.0000] <kingryan>
http://en.wikipedia.org/wiki/Mapping_of_Unicode_characters#Basic_Multilingual_Plane

[15:14:02.0000] <gsnedders>
kingryan: I know what the BMP is

[15:14:03.0000] <gsnedders>
but I didn't get the terrible joke he was making about it

[15:14:04.0000] <kingryan>
"Unexpected end tag (sarcasm). Ignored"

[15:15:00.0000] <gsnedders>
kingryan: I thought from the discussion on the mailing list a while ago there was a |sarcasm| element with optional start and end tags

[15:16:00.0000] <Philip`>
You need at least one tag, either start or end

[15:16:01.0000] <jgraham_>
Yeah, that sounds like a /great/ idea

[15:16:02.0000] <Philip`>
(This isn't SGML, so we can do that)

[15:16:03.0000] <kingryan>
why not have  a sarcasm element with only an end tag

[15:17:00.0000] <kingryan>
and you have to infer the start tag

[15:17:01.0000] <kingryan>
?

[15:17:02.0000] <kingryan>
coffee time, bbiab

[15:17:03.0000] <Philip`>
(and otherwise UAs like Google wouldn't be able to extract semantics reliably from sarcastic documents)

[15:17:04.0000] <gsnedders>
(but where does the tag start/end?)

[15:17:05.0000] <gsnedders>
s/tag/element/

[15:17:06.0000] <gsnedders>
/me facebats self

[15:21:00.0000] <jgraham_>
/me discovers one of the character encoding issues in html5lib only occurs with python <= 2.4

[15:28:00.0000] <gsnedders>
oh well, g'bye. see you either sometime soon if I can get online, or next Friday.


2007-10-19
[17:52:00.0000] <jruderman>
Hixie: is bug https://bugzilla.mozilla.org/show_bug.cgi?id=400307 a dup of a bug you know about?

[17:52:01.0000] <Hixie>
not off-hand

[17:52:02.0000] <Hixie>
but it sounds familiar

[17:52:03.0000] <jruderman>
it sounds a lot like something you mentioned in a blog post, but i couldn't find a bug report about the issue easily

[17:52:04.0000] <Hixie>
oh it's definitely known

[17:52:05.0000] <Hixie>
but i don't know if it's filed

[17:53:00.0000] <jruderman>
ok

[17:53:01.0000] <Hixie>
/me finds it silly when people say "We're also greatly interested in making our content accessible, to meet Section 508 requirements."

[17:53:02.0000] <jruderman>
thanks

[17:53:03.0000] <Hixie>
how about making your content accessible SO THAT PEOPLE CAN USE IT

[17:53:04.0000] <jruderman>
hehe

[17:53:05.0000] <Hixie>
instead of doing it to satisfy the law?

[17:53:06.0000] <jacobolus>
isn't <a><div>...</div></a> considered illegal by the w3c validator?

[17:54:00.0000] <Hixie>
yes

[17:54:01.0000] <Hixie>
it's not valid html

[17:54:02.0000] <Hixie>
still common though

[17:54:03.0000] <jacobolus>
right.  I think it's quite useful :)

[17:54:04.0000] <jacobolus>
and was agitating on here at some point for it to be added as valid html5 :)

[17:54:05.0000] <jruderman>
just because it's invalid doesn't mean firefox is allowed to take packet boundaries into account when parsing it ;)

[17:55:00.0000] <Hixie>
jacobolus: yeah

[17:55:01.0000] <jacobolus>
jruderman: sorry, i'm referring to the properly nested version

[17:55:02.0000] <jacobolus>
jruderman: which is still invalid html 4.01

[17:55:03.0000] <Hixie>
jruderman: actually per html4, it does

[17:55:04.0000] <Hixie>
jruderman: per html5 it doesn't though

[17:55:05.0000] <jacobolus>
jruderman: the badly-nested one is invalid either way, but I agree that it shouldn't depend on packet boundaries :)

[17:56:00.0000] <jruderman>
Hixie: why, because html4 doesn't say enough about user agents to distinguish a desk with quotes written on it from a web browser?

[17:56:01.0000] <jacobolus>
lol

[17:56:02.0000] <jruderman>
jacobolus: what do you mean by "properly nested"?

[17:56:03.0000] <Hixie>
jruderman: no, because html4 doesn't say what to do in error cases

[17:56:04.0000] <jruderman>
jacobolus: i'm talking about <a><div>...</div></a>

[17:57:00.0000] <jacobolus>
jruderman: oh whoops, sorry i'm confused

[18:00:00.0000] <jacobolus>
jruderman: that's odd that firefox breaks on that; it would work if they changed the a to be display:block

[18:01:00.0000] <jacobolus>
the bug must also require nesting a block element inside an inline <a>, as I never had any issues with block <a>s with divs in them :)

[18:01:01.0000] <jruderman>
the html parser doesn't take CSS into account, so just adding a { display: block } wouldn't fix the colors

[18:01:02.0000] <jacobolus>
hrm

[18:02:00.0000] <jacobolus>
jruderman: does that test case still break?

[18:02:01.0000] <jacobolus>
because it's working in my Camino

[18:02:02.0000] <jruderman>
the layout engine has its own issues with display:block elements inside display:inline elements, separate from the html parser issues with block tags "inside" inline tags. the layout engine issues often have {ib} in their summaries.

[18:03:00.0000] <jacobolus>
so I guess that's fixed in gecko at some point :)

[18:03:01.0000] <jruderman>
what version of camino are you using?

[18:03:02.0000] <Hixie>
if it depends on packet boundaries, it might be hard to reproduce

[18:03:03.0000] <jruderman>
both the reporter and i are using trunk

[18:03:04.0000] <jacobolus>
jruderman: recent nightly

[18:03:05.0000] <jacobolus>
jruderman: let me try a firefox 3 alpha from a while ago

[18:03:06.0000] <jruderman>
hixie: yeah, i was surprised that i was able to reproduce it as the reporter described

[18:04:00.0000] <jruderman>
jacobolus: are you testing using my testcase or using the reporter's comics page?

[18:04:01.0000] <jacobolus>
the comic page

[18:04:02.0000] <jacobolus>
jruderman: but it breaks in FF1.5

[18:04:03.0000] <jruderman>
i'm using a debug trunk build from last night

[18:04:04.0000] <jacobolus>
oh, okay

[18:05:00.0000] <jruderman>
the testcase i attached should show the bug more reliably

[18:05:01.0000] <jacobolus>
jruderman: well the comic page works on FF 3 alpha, and recent camino nightly, but fails in FF 1.5

[18:05:02.0000] <jruderman>
but i'm assuming it's the same bug (document.write vs packet boundaries)

[18:06:00.0000] <jacobolus>
but your test case fails the same way in all three :)

[18:06:01.0000] <jruderman>
ok

[18:06:02.0000] <jacobolus>
so not sure what the deal is there :)

[18:41:00.0000] <wiz>
this may seem silly, but how do you add songs to a bebo home page?

[18:41:01.0000] <wiz>
music

[19:02:00.0000] <Hixie>
crap i keep forgetting to change the subject line when i select multiple messages

[19:03:00.0000] <Hixie>
maybe we should rename loopcount to playcount... sigh

[19:06:00.0000] <Hixie>
doublec: yt? are you implementing <video>?

[19:07:00.0000] <Hixie>
or was it someone else

[19:07:01.0000] <doublec>
Hixie: yes, that's me

[19:07:02.0000] <Hixie>
doublec: what do you think of renaming "loopcount" to "playcount"?

[19:07:03.0000] <doublec>
sounds fine to me

[19:07:04.0000] <Hixie>
or do you think it's fine as is

[19:07:05.0000] <doublec>
I've got no problem with a change

[19:08:00.0000] <Hixie>
/me is ambilivent about whether to change it or not

[19:19:00.0000] <jacobolus>
playcount sort of implies how many times it has already played, no?

[19:20:00.0000] <Hixie>
jund

[19:20:01.0000] <Hixie>
kinda, even

[19:20:02.0000] <Hixie>
right low it's loopcount and currentloop

[19:21:00.0000] <Hixie>
but currentloop = 0 means it's the first time through

[19:21:01.0000] <Hixie>
and loopcount = 1 means to play it once and not loop

[19:21:02.0000] <Hixie>
and people find this confusing

[19:21:03.0000] <Hixie>
and i don't know how best to phrase it

[20:01:00.0000] <Hixie>
do people prefer <video src="" poster=""> or <video src="" postersrc=""> ?

[20:04:00.0000] <doublec>
what is poster?

[20:05:00.0000] <gavins>
the image to be displayed before it starts playing, presumably?

[20:05:01.0000] <gavins>
a frame from the video, e.g.

[20:05:02.0000] <gavins>
(like on youtube)

[20:05:03.0000] <Hixie>
yes

[20:05:04.0000] <Hixie>
link to a jpeg or png or other img

[20:06:00.0000] <othermaciej>
it's a poster frame

[20:06:01.0000] <Hixie>
bbiab

[20:08:00.0000] <MikeSmith>
Hixie, fwiw, I'd think <video src="" poster=""> -- shorter but still unambiguous.. postersrc doesn't seem necessary

[20:52:00.0000] <Hixie>
MikeSmith: k

[21:08:00.0000] <jacobolus>
poster seems fine :)

[21:08:01.0000] <jacobolus>
postersrc is unnecessary IMO

[21:08:02.0000] <Hixie>
k

[21:09:00.0000] <jacobolus>
but what do I know…

[21:51:00.0000] <Hixie>
hm maybe repeatCount, repeatFrom, repeatTo

[21:51:01.0000] <Hixie>
instead of loopCount, loopStart, loopEnd

[22:17:00.0000] <Hixie>
when a <video> is taken out of a Document, it stops playing

[22:17:01.0000] <Hixie>
so no video or audio is visible

[22:17:02.0000] <Hixie>
or hearable

[22:17:03.0000] <Hixie>
(audible, i guess)

[22:18:00.0000] <Hixie>
but

[22:18:01.0000] <Hixie>
does the current playback position still advance?

[22:19:00.0000] <Hixie>
or maybe the audio should still play... that's what we want for <audio>

[22:28:00.0000] <doublec>
the problem is, when does it stop, if it continues playing?

[22:28:01.0000] <doublec>
if you take it out of the document and lose the reference

[22:28:02.0000] <doublec>
does it play forever?

[22:29:00.0000] <doublec>
if it's a live stream, does it download forever?

[22:29:01.0000] <Hixie>
yes.

[22:29:02.0000] <Hixie>
just like a new Audio() element.

[22:29:03.0000] <doublec>
that's what the implementation does in firefox at the moment

[22:29:04.0000] <doublec>
but some people aren't happy about it

[22:30:00.0000] <Hixie>
what do they suggest instead? we can hardly rely on garbage collection to stop audio.

[22:30:01.0000] <doublec>
they suggest stopping the audio and vide

[22:30:02.0000] <doublec>
ie. same as pause

[22:30:03.0000] <Hixie>
whoen?

[22:30:04.0000] <Hixie>
when, even

[22:30:05.0000] <doublec>
when it's removed from the document

[22:30:06.0000] <Hixie>
ok but what about:

[22:31:00.0000] <Hixie>
   var fx = new Audio('fire.wav');

[22:31:01.0000] <Hixie>
   fx.play();

[22:31:02.0000] <Hixie>
it's never _in_ the document.

[22:31:03.0000] <doublec>
i don't disagree

[22:31:04.0000] <doublec>
just that others do :)

[22:31:05.0000] <othermaciej>
one-time stop on remove from document seems reasonable to me

[22:31:06.0000] <othermaciej>
after thinking about it

[22:31:07.0000] <othermaciej>
even if you let it be started when outside the document

[22:31:08.0000] <Hixie>
i guess just stopping on remove makes sense

[22:31:09.0000] <doublec>
actually that's a good idea

[03:22:00.0000] <hendry>
hsivonen: my friend wants to use validator.nu, though he has a site that's not external (dumb I know)

[03:22:01.0000] <hendry>
hsivonen: so can he install your validator locally? apt-get install html-validator

[03:23:00.0000] <hendry>
hsivonen: oh, i see the source code section :)

[03:24:00.0000] <hendry>
hsivonen: anyway, I should have a go at packaging it.

[03:25:00.0000] <hendry>
/me wonders if validator.nu is on that firefox web-dev plugin

[03:26:00.0000] <Dewi>
it isn't

[03:26:01.0000] <Dewi>
however you can supply your own tools

[03:27:00.0000] <Dewi>
as in your can define URLs it will add to the menu

[03:59:00.0000] <hsivonen>
hendry: Validator.nu is not Free as in Debian right now

[03:59:01.0000] <hsivonen>
hendry: due to Saxon

[04:00:00.0000] <hsivonen>
hendry: I can take a look at replacing it with Xalan XSLT-C to make the whole thing Free as in Debian

[04:00:01.0000] <hsivonen>
hendry: (it is Open Source and Free from the FSF POV, though)

[04:21:00.0000] <hendry>
hsivonen: I think having it in Debian would be great.

[07:58:00.0000] <zcorpan_>
r1077: "... add a note to both saying that the fallback content isn't for a12n uses.". Africanization?

[08:06:00.0000] <Dewi>
hsivonen: what license is saxon under ?

[08:06:01.0000] <Dewi>
hsivonen: he doesn't exactly make it easy to tell anymore :(

[08:09:00.0000] <hsivonen>
Dewi: Saxon 6.x (and, as far as I can tell, the open source version of 8.x) is under MPL 1.0

[08:10:00.0000] <hsivonen>
Dewi: Debian considers MPL and its derivative licenses like CDDL non-Free for the purposes of the DFSG

[08:10:01.0000] <Dewi>
hsivonen: oh... is all that in contrib?

[08:10:02.0000] <hsivonen>
Dewi: all what?

[08:11:00.0000] <Dewi>
er I mean non-free

[08:11:01.0000] <Dewi>
hsivonen: well, there's a lot of stuff licensed under the MPL

[08:11:02.0000] <Dewi>
not least mozilla stuff, I would have thought

[08:11:03.0000] <Dewi>
all that's available (although with rebadging nowadays)

[08:12:00.0000] <hsivonen>
Dewi: Mozilla itself is now under a tri-license

[08:12:01.0000] <Dewi>
oh... yeah, I'm just reading that

[08:12:02.0000] <Dewi>
I didn't realise.

[08:12:03.0000] <Dewi>
happen to know why it's considered DFSG unfriendly?

[08:12:04.0000] <hsivonen>
anyway, I already replaced Saxon with Xalan XSLT-C in my local SVN sandbox

[08:13:00.0000] <Dewi>
nmind

[08:13:01.0000] <Dewi>
found a wiki entry on this

[08:14:00.0000] <Philip`>
/me guesses the C in XSLT-C means something totally different to the C in Xerces-C

[08:14:01.0000] <Philip`>
(which is a bit confusing)

[08:14:02.0000] <Dewi>
some people think the apache license is pretty unfree too

[08:14:03.0000] <hsivonen>
Philip`: yes

[08:15:00.0000] <hsivonen>
Philip`: actually, it is XSLTC 

[08:15:01.0000] <hsivonen>
Philip`: it compiles XSLT into Java and loads the generated classes into the VM

[08:16:00.0000] <Dewi>
hsivonen: the wiki has some quotes from july indicating the MPL is acceptable for main

[08:16:01.0000] <Dewi>
http://wiki.debian.org/DFSGLicenses

[08:16:02.0000] <Dewi>
hsivonen: but there has clearly been some differing opinions about this

[08:17:00.0000] <hsivonen>
Dewi: well, that's news to me

[08:17:01.0000] <Dewi>
I dunno how authoritative Anthony Towns is

[08:19:00.0000] <Dewi>
I have a feeling I've been banned from his irc channel before :)

[08:20:00.0000] <hsivonen>
Dewi: based on my time on debian-legal, I very much doubt that Debian as a project was now OK with MPL 1.1 let alone MPL 1.0

[08:20:01.0000] <hsivonen>
but IANAL, IANADD

[08:20:02.0000] <Dewi>
hehe

[08:21:00.0000] <Dewi>
anyway I'm not trying to start a fight, I'm just curious

[08:28:00.0000] <zcorpan_>
hsivonen: what's "IANADD"?

[08:29:00.0000] <hsivonen>
zcorpan_: I Am Not A Debian Developer

[08:29:01.0000] <zcorpan_>
aha

[08:30:00.0000] <zcorpan_>
/me reads about contenteditable/designMode in html5

[08:52:00.0000] <zcorpan_>
are there any unicode characters (other than these) that would uppercase or lowercase to any of these characters: aedhrsAEDHRS

[08:54:00.0000] <hsivonen>
zcorpan_: ß uppercases to SS

[08:56:00.0000] <jacobolus>
what about ſ?

[08:56:01.0000] <jacobolus>
that might uppercase to S as well

[08:57:00.0000] <hsivonen>
jacobolus: indeed it does

[08:57:01.0000] <hsivonen>
javascript:alert("ſ".toUpperCase())

[08:58:00.0000] <zcorpan_>
thanks

[08:59:00.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cdiv%20contenteditable%3E%3Cp%3Ex%3C%2Fp%3E%3C%2Fdiv%3E%0D%0A%3Cscript%3Edocument.execCommand(%22selectall%22)%3Bdocument.execCommand(%22formatblock%22%2Cnull%2C%22addre%C3%9F%22)%3C%2Fscript%3E

[09:05:00.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%3Cdiv%3E%3Cp%3Ex%3C%2Fp%3E%3C%2Fdiv%3E%3Cscript%3Edocument.designMode%3D%22on%22%3Bdocument.execCommand(%22selectall%22%2Cnull%2C%22%22)%3Bdocument.execCommand(%22formatblock%22%2Cnull%2C%22%3Caddre%C3%9F%3E%22)%3C%2Fscript%3E for moz

[09:06:00.0000] <jacobolus>
how likely is it that someone will put ſ or ß in their html tags?

[09:06:01.0000] <jacobolus>
i guess it's still good to define what happens… but seems like an awfully obscure edge case :)

[09:07:00.0000] <hsivonen>
jacobolus: it is security-sensitive in the case where not fully clued site developers do element blacklisting instead of white listing

[09:08:00.0000] <jacobolus>
ah, gotcha :)

[09:10:00.0000] <jacobolus>
so why only aedhrs?

[09:15:00.0000] <Dewi>
/me is always impressed to see irssi happily rendering unicode characters on irc

[09:16:00.0000] <Philip`>
/me is less impressed since he sees A-with-tilde A-with-hat upside-down-question-mark in irssi

[09:16:01.0000] <Dewi>
Philip`: that probably means your terminal doesn't understand utf-8. tell putty to use utf-8 instead of latin1

[09:16:02.0000] <Dewi>
(you do use putty, right? :P)

[09:18:00.0000] <Dewi>
actually now I really think about it, although linux has had pretty good unicode for ages, it wasn't even default in debian until april

[09:19:00.0000] <Dewi>
s/pretty good/surprisingly good/

[09:19:01.0000] <Philip`>
I'm using Konsole, with Encoding => Default

[09:20:00.0000] <Philip`>
With Encoding => utf8 and restarting Konsole, I get A-with-halo upside-down-question-mark instead, which is slightly less broken but still not great :-(

[09:21:00.0000] <Dewi>
hmm. I don't have konsole. Gnome terminal seems to cope alright, although my unicode fonts in X windows leave something to be desired

[09:22:00.0000] <hsivonen>
I find I need to start screen with the -U flag to get irssi and the terminal emulator talk UTF-8

[09:23:00.0000] <Dewi>
oh yeah, I forgot about that

[09:23:01.0000] <Dewi>
/me has 'defutf8 on' in his .screenrc

[09:23:02.0000] <Philip`>
Aha, it works fine if I start a new screen/irssi session

[09:24:00.0000] <Philip`>
but I don't want to restart this one because I'd lose my 179 day irssi uptime :-(

[09:24:01.0000] <Dewi>
/me laughs.

[09:25:00.0000] <Dewi>
I actually run into problems if I run irssi that long

[09:25:01.0000] <Dewi>
it starts to eat an awful lot of memory

[09:25:02.0000] <Dewi>
possibly because I have 20 windows open and some kind of totally silly scrollback size...

[09:26:00.0000] <zcorpan_>
jacobolus: the formatblock command only supports certain strings as input

[09:27:00.0000] <Dewi>
Philip`: what I'd really like, though, would be to have a stable enough internet connection to get a massive *idle* time

[09:33:00.0000] <Philip`>
Hmm, I think Unicode is working alright now

[09:40:00.0000] <zcorpan_>
☺

[09:42:00.0000] <Philip`>
That works too :-)

[12:25:00.0000] <othermaciej>
darin: I remember you had some JS speedups a while back too

[12:39:00.0000] <zcorpan_>
Hixie: i don't have an opinion about naming in general, but i will note that .playIndex is consistent with <select>'s .selectedIndex

[12:39:01.0000] <zcorpan_>
re http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2007-October/012807.html

[12:39:02.0000] <Hixie>
interesting point

[12:40:00.0000] <Hixie>
feel free to mention that on the thread, i'll look at all the feedback in a few days

[12:40:01.0000] <zcorpan_>
ok

[12:40:02.0000] <Hixie>
thanks

[13:59:00.0000] <zcorpan_>
hmm, are there any non-obvious objects that implement the Window interface?

[14:00:00.0000] <Hixie>
no

[14:00:01.0000] <zcorpan_>
ok


2007-10-20
[01:24:00.0000] <jruderman>
Hixie: what happened to http://www.hixie.ch/tests/evil/page-loading/incremental/001.cgi?mime=text%2Fxml&delay=1&repeats=10 ?

[01:24:01.0000] <jruderman>
Hixie: it's giving me an 'internal server error' message

[04:16:00.0000] <zcorpan_>
/me reads http://krijnhoetmer.nl/irc-logs/xhtml/20071017

[04:19:00.0000] <zcorpan_>
it seems they think it was the html wg that pushed this telecon, while it was rich from the xhtml2 wg. the html wg wasn't informed about the telecon, either.

[04:45:00.0000] <zcorpan_>
"[23:23] <ShaneM>  attribute names with hyphens in them?  honestly" -- hmm, i note that xhtml2 has xforms attributes in no namespace that start with "repeat-"

[08:22:00.0000] <jgraham_>
[23:23] <ShaneM> this whole aria proposal has really irritated me. and trying to appease these worthless html5 people makes me crazy

[08:22:01.0000] <jgraham_>
lol

[08:24:00.0000] <jgraham_>
It's so nice to feel appreciated

[08:30:00.0000] <Dashiva>
Formal objection time

[08:37:00.0000] <Philip`>
/me wonders why html4all.org has become so quiet lately

[13:53:00.0000] <hsivonen>
http://burningbird.net/newbook/newcube.svg

[14:08:00.0000] <csarven>
hehe saw that a bit ago

[14:10:00.0000] <csarven>
neither logo illustrates much about themselves


2007-10-21
[18:18:00.0000] <zcorpan_>
1. burgers with cheese are tasty. 2. therefore, burgers without cheese are not tasty.

[18:18:01.0000] <zcorpan_>
what is the above logical fallacy called?

[18:20:00.0000] <Philip`>
http://en.wikipedia.org/wiki/Denying_the_antecedent ?

[18:21:00.0000] <Philip`>
or http://www.fallacyfiles.org/imptrans.html looks closer to that form

[18:23:00.0000] <zcorpan_>
yep, thanks

[18:27:00.0000] <Philip`>
Also, you could be working in a logical framework in which it is axiomatic that burgers are tasty, and therefore you cannot include your second step since the whole framework would collapse into trivial provability

[19:38:00.0000] <grimeboy>
In terms of AS level critical thinking probably sufficiency.

[19:38:01.0000] <grimeboy>
But yeah, those were more accurate.

[00:33:00.0000] <hsivonen>
http://webkit.org/blog/126/webkit-does-html5-client-side-database-storage/%0A#comment-22956

[00:34:00.0000] <hsivonen>
"surely an OODB or RDFDB would have been more appropriate in 2007"

[00:39:00.0000] <tantek>
when are unproven technologies ever more appropriate except in academic/laboratory/experimental efforts?

[00:42:00.0000] <tantek>
plus, didn't an RDFDB fail both Mozilla and Chandra?

[01:11:00.0000] <hsivonen>
tantek: I'm not familiar with Chandra. I may be wrong about Mozilla, but I get the impression that by 2005 the engine was semi-abandoned but there was some will to revive it

[01:13:00.0000] <hsivonen>
(the engine being the RDF engine)

[01:32:00.0000] <tantek>
that is my rough impression as well

[01:32:01.0000] <tantek>
my understanding of the informal history WRT Chandra is that adopting RDF as the model for all their internal data store etc set many things back many years.

[02:14:00.0000] <roc>
you mean Chandler?

[09:40:00.0000] <zcorpan_>
hmm, what should the "inserthtml" execCommand do in xhtml?

[09:40:01.0000] <zcorpan_>
same as innerHTML?

[09:44:00.0000] <hsivonen>
Hmm. looks like the XHTML2 WG folks missed the point of Anne's not very well explained remark about there not being an XHTML WG (without the "2")

[09:48:00.0000] <hsivonen>
http://krijnhoetmer.nl/irc-logs/xhtml/20071017#l-219

[10:21:00.0000] <zcorpan_>
it seems firefox and safari don't support designMode/contentEditable in xhtml

[11:59:00.0000] <zcorpan_>
/me notes that webkit emits a <div> for execCommand("insertparagraph")

[16:43:00.0000] <lachlanhunt>
Hixie, I enabled WordPress caching on the blog. Let me know if that solves the performance issues


2007-10-22
[02:58:00.0000] <zcorpan_>
hmm, has someone raised the <!-- issue with the ES4 guys?

[02:58:01.0000] <othermaciej>
what <!-- issue>

[02:58:02.0000] <othermaciej>
?

[02:58:03.0000] <othermaciej>
is it not properly described in ECMAScript?

[03:01:00.0000] <zcorpan_>
<!-- is, in browsers, equivalent to //

[03:01:01.0000] <zcorpan_>
but this is not specced in ecma 262

[03:01:02.0000] <zcorpan_>
and afaict also not in es4

[03:02:00.0000] <othermaciej>
yeah, it probably should be

[03:03:00.0000] <zcorpan_>
i wonder where feedback should go

[03:05:00.0000] <zcorpan_>
https://mail.mozilla.org/listinfo/es4-discuss perhaps

[09:22:00.0000] <jacobolus>
Hixie: I'm going to try to write a compatibility layer for server sent events stuff in javascript, so that they can be handled in Firefox/Safari using XHR streaming, but I think it will require 256 bytes of initial data for Safari to start incrementally rendering it, and I can't see any way to make it work in IE

[10:11:00.0000] <hsivonen>
I hate it when my app behaves differently when I take it outside the IDE

[11:05:00.0000] <hsivonen>
hendry: Validator.nu should now be GPLv3-compatible and, hence, suitable for Debian license-wise

[11:06:00.0000] <hsivonen>
hendry: hmm. except perhaps for JUnit which is under the CPL

[11:06:01.0000] <hsivonen>
bummer

[11:08:00.0000] <hsivonen>
hendry: JUnit isn't required at run-time, though, and stubbing at compile time could work

[13:30:00.0000] <hendry>
hsivonen: awesome

[13:30:01.0000] <hendry>
hsivonen: i'll file a Debian ITP

[13:30:02.0000] <hendry>
hsivonen: and hopefully package it this weekend

[13:36:00.0000] <hsivonen>
hendry: cool

[13:37:00.0000] <hsivonen>
hendry: it might be a good idea to package the html parser as a standalone package

[13:38:00.0000] <hsivonen>
Validator.nu now exposes the reason why an attribute datatype check failed (if the reason is available): http://html5.validator.nu/?doc=http%3A%2F%2Fhsivonen.iki.fi%2Ftest%2Fmoz%2Fen-UK.html

[13:41:00.0000] <hendry>
hsivonen: very good

[13:41:01.0000] <hendry>
hsivonen: i'll mail you the ITP beforehand. Probably will do this tomorrow. I am very tired atm.

[13:42:00.0000] <hsivonen>
hendry: ok.

[13:42:01.0000] <hsivonen>
annevk: did they unblock wanadoo?

[13:43:00.0000] <annevk>
I don't think so

[13:43:01.0000] <annevk>
I can connect temporarily and I automatically connect when I reboot Opera...

[13:43:02.0000] <hsivonen>
oh

[13:43:03.0000] <annevk>
I suppose I'll timeout in due course

[13:44:00.0000] <annevk>
/me isn't sure who's problem it is though

[13:45:00.0000] <gsnedders>
parse error: unexpected "is".

[13:46:00.0000] <hsivonen>
gsnedders: your parser doesn't backtrack

[14:01:00.0000] <mpt>
A parser could have errored at "problem" since it isn't an adjective, adverb, or verb

[14:07:00.0000] <Philip`>
mpt: It can't stop that early, since "problem" might be part of a compound word like in "... isn't sure who's problem solving today"

[14:10:00.0000] <mpt>
Well, arguably "problem-solving" should be hyphenated...

[14:13:00.0000] <Philip`>
mpt: If that's arguable, I'll argue that it shouldn't be ;-)

[14:15:00.0000] <Philip`>
and it could still be like "... isn't sure who's problem number seven's author"

[14:29:00.0000] <gsnedders>
/me wonders what's coming to annevk playing Zelda of all games

[14:35:00.0000] <Philip`>
/me has it on his notional list of things to buy at some point in the future when he sees it cheap somewhere

[14:41:00.0000] <gsnedders>
me too, actually

[16:10:00.0000] <annevk>
hmm, seems wanadoo now actually works

[16:10:01.0000] <annevk>
/me is happy

[16:11:00.0000] <annevk>
gsnedders, Zelda on the Wii and DS is great; dunno about other Zelda games

[16:48:00.0000] <jgraham_>
/me would like a Wii + Zelda

[16:48:01.0000] <jgraham_>
But that's pretty far down the list of things that I would like


2007-10-23
[17:25:00.0000] <annevk>
so it still doesn't work...

[17:25:01.0000] <annevk>
/me didn't get the messages from jgraham for instance

[18:11:00.0000] <aa>
I had this idea for the database module ...

[18:12:00.0000] <aa>
the CRUD statements are pretty consistent across implementations, it should be easy, relatively speaking, to spec them, or refer to ANSI SQL.

[18:12:01.0000] <aa>
it's the creation of the tables and indicies where the real compatibility problems come in.

[18:13:00.0000] <aa>
what if HTML5 defined DOM APIs to create tables and indicies? This would also allow the types to be defined as standard DOM types, instead of SQL types.

[18:13:01.0000] <aa>
It would be up to the implementation to do the conversion to whatever it's internal representation is.

[18:13:02.0000] <aa>
this would provide a real shot at abstracting the implementation (sqlite) from the spec.

[18:17:00.0000] <Hixie>
sounds reasonable to me

[18:17:01.0000] <Hixie>
i recommend sending mail to the list suggesting it, let's see what the other vendors think

[18:37:00.0000] <Lachy_>
Hey Hixie

[18:52:00.0000] <Hixie>
hey

[18:53:00.0000] <Hixie>
Lachy_: whatever you did with the blog seems to have helped, "lhunt" is never at the top of the process list anymore

[02:15:00.0000] <Hixie>
hmmm

[02:16:00.0000] <Hixie>
so an explicit database.startTransaction() seems to be the only way to address the issues raised with the sql stuff

[02:17:00.0000] <Hixie>
and splitting the load and error case into two seems good, and having error do a rollback seems good too, except for the point about checking for integrity errors...

[02:19:00.0000] <Hixie>
maybe rollback only if the function doesn't return false...

[02:49:00.0000] <Hixie>
hmmm

[02:49:01.0000] <Hixie>
database.transaction(callback, error_callback);

[02:49:02.0000] <Hixie>
error_callback gets called if the transaction fails to be created or comitted (or maybe even if it is rolled back?)

[02:49:03.0000] <Hixie>
callback is a function with one argument, tx, which is an object with an executeSql() method on it

[02:49:04.0000] <Hixie>
tx.executeSql(sql, args, callback, error_callback);

[02:50:00.0000] <Hixie>
error_callback gets called for any errors with that statement (even syntax errors), and if it does not return false, the transaction gets rolled back.

[02:50:01.0000] <Hixie>
callback is the same as the transaction callback

[02:51:00.0000] <Hixie>
if transaction() is called from within a transaction, it create a new (but not nested) transaction.

[02:51:01.0000] <Hixie>
transactions commit whenever a callback returns if there are no outstanding calls to executeSql() for that transaction.

[02:52:00.0000] <Hixie>
but transactions get rolled back if a callback returns false

[02:53:00.0000] <Hixie>
there's no explicit commit or rollback in v1, but in v2 we add those as well as an executeRawSql(sql, args, callback, error_callback) method on database (whose callback doesn't have any arguments).

[02:53:01.0000] <Hixie>
any opinions?

[02:59:00.0000] <Hixie>
oh and changeVersion(old_version, new_version, callback, error_callback) would work like transaction() except that the transaction would be a complete lock and that the version would be checked at the start of the transaction and set when the transaction was comitted

[03:16:00.0000] <Lachy>
Hixie, what will executeRawSql do differentfly from executeSql?

[03:21:00.0000] <Hixie>
Lachy: no transaction

[03:33:00.0000] <hsivonen>
btw, Java makes an interesting case study about strict backwards compat and fixing early design flaws and the rate of adoption

[03:34:00.0000] <hsivonen>
I just ran a search for references to StringBuffer and it is everywhere

[03:34:01.0000] <hsivonen>
new code should use StringBuilder

[03:34:02.0000] <hsivonen>
so the Java6 HotSpot VM takes lock removal to the VM at run time

[03:35:00.0000] <hsivonen>
so it can mitigate some of the damage of the bad design of StringBuffer

[03:42:00.0000] <roc>
they did that before StringBuilder was created

[03:42:01.0000] <roc>
at least some VMs did

[03:43:00.0000] <hsivonen>
roc: hmm. lock removal / thread-biased locks were mentioned as a Java6 HotSpot feature

[03:44:00.0000] <hsivonen>
Hashtable and Vector are pretty pervasive, too

[03:44:01.0000] <hsivonen>
which sucks considering that HashMap and ArrayList are even safe for concurrent reads

[14:16:00.0000] <jgraham_>
 /me curses xml

[14:17:00.0000] <jgraham_>
Wow I managed to make a syntax error whilst complaining about a language for its syntax-error intolerance

[14:22:00.0000] <hendry>
hsivonen: just checking out http://packages.qa.debian.org/w/w3c-markup-validator.html

[15:46:00.0000] <Hixie>
wow, with the amount of time the forms tf has spent discussing when to discuss things, you'd think they could have discussed things by now


2007-10-24
[17:07:00.0000] <Hixie>
what's UCT if it's not UTC?

[17:12:00.0000] <jacobolus>
wikipedia has no ideas other than university of cape town

[01:08:00.0000] <Hixie>
well crap

[01:08:01.0000] <Hixie>
good api design includes keeping arguments in consistent positions

[01:08:02.0000] <Hixie>
but i have a case where i can't do that

[01:10:00.0000] <Hixie>
A(x), B(y), C(x, z)... do I do D(y, x), or D(x, y) ?

[01:11:00.0000] <Hixie>
y is the more useful argument...

[01:48:00.0000] <jruderman>
for a long time i had to look up the argument order for insertBefore every time i used it

[01:49:00.0000] <jruderman>
Hixie: make all the functions take all three arguments. problem solved!

[01:50:00.0000] <Hixie>
actually no, i considered that, and making B() take x makes my like even more complicated

[01:55:00.0000] <Hixie>
hmm

[01:55:01.0000] <Hixie>
so if i have statement-level error reporting and transaction-level error reporting

[01:55:02.0000] <Hixie>
if the statement-level error callback is omitted, clearly i should call the transaction-level error reporting callback instead

[01:56:00.0000] <Hixie>
but what if both are provided, and the statement-level error callback function doesn't throw an exception, but doesn't indicate that it handled the error?

[01:56:01.0000] <Hixie>
(the statement-level error callback can indicate that the transaction isn't to be rolled back -- i.e. that it handled the error -- by returning false)

[02:03:00.0000] <othermaciej>
insertBefore is hella confusing

[02:11:00.0000] <jruderman>
sometimes i wish it was prev.insertBefore(n) rather than parent.insertBefore(n, prev)

[02:12:00.0000] <Hixie>
ok i have revamped the database api

[02:21:00.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/multipage/section-sql.html#sql

[08:08:00.0000] <hsivonen>
I want to extract spec URIs for each HTML5 element and attribute. should I do pattern matching against the TOC or is there a better way?

[08:09:00.0000] <hsivonen>
did someone already do this? zcorpan perhaps?

[08:09:01.0000] <hsivonen>
or was it Philip`?

[08:12:00.0000] <Dashiva>
I think Philip`

[08:13:00.0000] <zcorpan>
for http://canvex.lazyilluminati.com/misc/ref.html

[08:15:00.0000] <hsivonen>
zcorpan: thanks

[08:15:01.0000] <hsivonen>
Philip`: is the doc manually authored or is the data extracted from the spec programmatically?

[08:17:00.0000] <zcorpan>
iirc, the elements, attributes and dom interfaces, and content models are extracted from the spec, and the text is written manually... see http://canvex.lazyilluminati.com/misc/ref/

[08:19:00.0000] <Philip`>
All the data comes from a YAML file, and that file is written manually, except I copied-and-pasted an automatically-extracted not-quite-complete list of elements/attributes from the spec into that file

[08:20:00.0000] <hsivonen>
Philip`: ok. thanks

[08:20:01.0000] <hsivonen>
I think I'm going to try to extract what I want programmatically

[08:22:00.0000] <Philip`>
I can't find the program I used to automatically extract the spec definitions, but it was basically just some regexps

[08:22:01.0000] <hsivonen>
hmm. I think I'm going to use the Validator.nu HTML parser plus a SAX handler

[08:22:02.0000] <Philip`>
(hence being not-quite-complete, since the spec has a few attributes described in an unusual format)

[08:24:00.0000] <Philip`>
(I also only wanted the names, not ids for linking to the spec)

[08:25:00.0000] <hsivonen>
I want to have mapping so that

[08:25:01.0000] <Philip`>
(Incidentally, linking sounds somewhat dangerous when the ids are unstable (which they are))

[08:25:02.0000] <hsivonen>
1) when I have a ns,localName pair, I can get

[08:25:03.0000] <hsivonen>
a) Spec URI with fragment id

[08:26:00.0000] <hsivonen>
b) SAX Tree fragment with English description of allowed context

[08:26:01.0000] <hsivonen>
c) SAX Tree fragment with English description of allowed content model

[08:26:02.0000] <hsivonen>
d) SAX Tree fragment listing element-specific attributes

[08:27:00.0000] <hsivonen>
2) when I have ns,localName pair for element and another for attribute,

[08:27:01.0000] <hsivonen>
a) a SAX Tree fragment with English description of the attribute

[08:28:00.0000] <hsivonen>
hmm. the last one seems hard to extract programmatically

[08:30:00.0000] <Philip`>
For http://canvex.lazyilluminati.com/misc/ref/ref.html I was just writing descriptions and allowed-content-model manually, since it doesn't seem feasible to get human-readable output any other way

[08:31:00.0000] <hsivonen>
Philip`: why not? Hixie has written the allowed content model in a uniform <dl> on each element definition?

[08:34:00.0000] <Philip`>
Hmm, I suppose it wouldn't be too bad for content models

[08:35:00.0000] <Philip`>
although something like "Content model: When used in an element whose content model is only strictly inline-level content: only significant strictly inline-level content, but there must be no interactive descendants. Otherwise: any significant inline-level content, but there must be no interactive descendants." doesn't seem particularly reader-friendly and my brain turns off after the first sentence :-)

[08:36:00.0000] <hsivonen>
Philip`: if it is reader-unfriendly, it is better to fix it upstream in the spec than only in a validator UI

[08:39:00.0000] <Philip`>
The spec has a very different audience to a validator, and different again to a reference guide, so optimising for readers in one audience is likely to involve tradeoffs against others

[08:42:00.0000] <hsivonen>
hmm. sometimes the following the fragment id link for an attribute gives useful text

[08:42:01.0000] <hsivonen>
and other times the linked-to paragraph makes no sense on its own

[08:42:02.0000] <hsivonen>
:-(

[14:21:00.0000] <Hixie>
i wonder why people are generally pushing for 'role' and 'aria-disabled' instead of having all the attributes be 'aria' attributes

[14:21:01.0000] <Hixie>
i.e. why is one small part of the api intended to reuse 'role' when the rest doesn't?


2007-10-25
[17:02:00.0000] <Hixie>
i have no more outstanding feedback on the sql apis to reply to!

[17:03:00.0000] <kingryan>
/me tries to think of some feedback for the sql api

[17:03:01.0000] <kingryan>
:)

[17:06:00.0000] <Hixie>
please do

[17:06:01.0000] <Hixie>
the next thing on my list is video

[17:07:00.0000] <Hixie>
which is far less fun :-P

[17:08:00.0000] <kingryan>
I was just kidding. I don't really have any insight on, nor plans to use the sql api

[17:08:01.0000] <Hixie>
aw

[17:10:00.0000] <kingryan>
given that I work for a search engine, my mind is rather focused on the parsing part of the spec

[17:52:00.0000] <Hixie>
jgraham_: yt?

[17:53:00.0000] <Hixie>
jgraham_: we should make the link to http://code.google.com/p/html5lib/wiki/UserDocumentation more prominent on the html5lib homepage

[01:43:00.0000] <hsivonen>
Hixie: I got the first validation support question about HTML5 not having <applet>

[02:17:00.0000] <Lachy>
oh wow! There are still people that use java applets?!

[02:27:00.0000] <hsivonen>
Lachy: yeah. for example Opera. :-)

[02:32:00.0000] <Lachy>
hsivonen, where does Opera use java applets?

[06:55:00.0000] <hsivonen>
Hixie: <code title=attr-hyperlink-rel> what's the deal with having id-like data in the title attribute?

[06:57:00.0000] <zcorpan>
hsivonen: the spec post processor uses title=""

[06:57:01.0000] <zcorpan>
to automate the xrefs

[06:57:02.0000] <zcorpan>
it could use id="" instead, but now it doesn't :)

[06:58:00.0000] <hsivonen>
zcorpan: my sense of theoretical purity and elegance says those should be id attributes and the post processor should be smart enough not to collide with author-entered ids

[06:58:01.0000] <zcorpan>
indeed

[06:58:02.0000] <hsivonen>
also, from a usability point of view, it sucks to have machine ids in human readable content

[06:58:03.0000] <zcorpan>
although what would you use for the links? you can't use id="" there

[07:01:00.0000] <hsivonen>
zcorpan: the links?

[07:01:01.0000] <zcorpan>
yeah, the actual xrefs, not the definition

[07:02:00.0000] <zcorpan>
<dfn>foo</dfn> ... <span>foo</span> turns into <dfn id=...>foo</dfn> ... <a href=...>foo</a>

[07:02:01.0000] <hsivonen>
<a>foo</a>?

[07:03:00.0000] <zcorpan>
that could work, but what about when you want to use different text (which is when title currently is used)?

[07:03:01.0000] <zcorpan>
i.e. <span title=foo>bar</span>

[07:07:00.0000] <hsivonen>
<a href='#foo'>bar</a>

[07:07:01.0000] <hsivonen>
or <a r=foo>bar</a>

[07:07:02.0000] <hsivonen>
or [foo|bar]

[07:11:00.0000] <Lachy>
there's some documentation for the spec generator somewhere that explains how it works, somewhere in a W3C member only section

[07:35:00.0000] <hsivonen>
I wonder how many hours in my life has been wasted looking up namespace URIs for copying and pasting

[10:52:00.0000] <tantek>
hsivonen - if you do estimate the number of hours wasted, I'd love to quote you on it.

[10:52:01.0000] <tantek>
re: "hsivonen: I wonder how many hours in my life has been wasted looking up namespace URIs for copying and pasting"

[12:35:00.0000] <jacobolus>
does the <meta charset="utf-8"> thing work in all modern browsers?

[12:37:00.0000] <jacobolus>
or should I stick to <meta http-equiv="Content-type" content="text/html; charset=utf-8"> for the time being?

[12:43:00.0000] <virtuelv>
jacobolus: I was under the impression that  <meta charset="utf-8">  got in to the specification because it actually works

[12:43:01.0000] <jacobolus>
okay.  just wondering which browsers it works in

[12:44:00.0000] <jacobolus>
virtuelv: that was my impression as well, but want to be sure :)

[12:46:00.0000] <Philip`>
If you want to be surer that it'll work, why not use the HTTP Content-Type instead? :-)

[12:48:00.0000] <jacobolus>
Philip`: I plan on it :)

[12:48:01.0000] <jacobolus>
just wondering :)

[12:48:02.0000] <virtuelv>
Philip`: doesn't always work well when the delivery protocol is file://

[12:48:03.0000] <kingryan>
why not use both?

[12:48:04.0000] <jacobolus>
yes, that's the plan.

[12:49:00.0000] <jacobolus>
i'm just wondering which browsers (if any) <meta charset="utf-8"> doesn't work for

[12:53:00.0000] <jacobolus>
well, I guess I'll just assume it's okay then :)

[12:54:00.0000] <jacobolus>
and if it breaks, I'll blame the whatwg

[12:54:01.0000] <jacobolus>
:P

[12:56:00.0000] <Philip`>
I don't remember anyone having mentioned a browser that it doesn't work in

[12:57:00.0000] <Philip`>
but presumably there's some level of obscurity at which you could find one

[12:57:01.0000] <jacobolus>
well that's fine

[12:57:02.0000] <jacobolus>
thanks :)

[16:40:00.0000] <jacobolus>
putting type="text/javascript" in <script …> is redundant and unnecessary, correct?

[16:41:00.0000] <Philip`>
Yes, since everyone defaults to JS

[16:44:00.0000] <jacobolus>
thx

[16:45:00.0000] <jacobolus>
it's very nice when writing tutorials to be able to drop all the BS extra voodoo characters normally used

[16:48:00.0000] <Philip`>
(<style type> is the same - it's really not useful to explicitly tell the browser that you want the same stylesheet language as 100% of other web pages)

[16:49:00.0000] <jacobolus>
ah, hadn't thought of that one.  thanks :)

[16:51:00.0000] <Philip`>
http://www.centralfloridaregional.com/ - that has a strangely excessive use of 'xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:ehcCopyright="http://www.ehc.com" xmlns:ehcOpenCube="http://www.ehc.com" xmlns:ehcSiteSearch="http://www.ehc.com"'

[16:52:00.0000] <jacobolus>
good god

[16:53:00.0000] <jacobolus>
does that do anything at all?

[16:53:01.0000] <jacobolus>
maybe it helps their back-end tools?

[16:55:00.0000] <Philip`>
The output isn't trying to be XML, so I expect they're not intending to read it back in and process it, and it looks like it's just leaking out of whatever backend tools they're using

[16:55:01.0000] <jacobolus>
right

[16:56:00.0000] <Philip`>
so I think it doesn't help anything, and it just looks really ugly :-)

[16:58:00.0000] <jacobolus>
so should type="text/css" be dropped from <link rel="stylesheet" …> as well then?


2007-10-26
[17:00:00.0000] <jacobolus>
Philip`: ↑

[17:02:00.0000] <Philip`>
I don't see any value in keeping it, unless there's some reason that I'm missing

[17:02:01.0000] <jacobolus>
okay. :)

[17:03:00.0000] <Philip`>
jacobolus: My font doesn't have that glyph :-p

[17:03:01.0000] <jacobolus>
the unicode up arrow? :)

[17:04:00.0000] <jacobolus>
sorry, i'll stick to --^ in the future ;)

[17:04:01.0000] <Hixie>
right. <video>.

[17:04:02.0000] <jacobolus>
Hixie: hrm?

[17:04:03.0000] <Hixie>
jacobolus: my next target in dealing with spec feedback.

[17:05:00.0000] <jacobolus>
ah, okay.  so nothing to do with whether type="text/css" is needed in <link rel="stylesheet" …> then :)

[17:05:01.0000] <Hixie>
no, sorry, was just talking to myself :-) 

[17:05:02.0000] <jacobolus>
Hixie: how many outstanding emails do you have? :)

[17:06:00.0000] <Hixie>
not counting the issues on the htmlwg wiki, http://www.whatwg.org/issues/data.csv

[17:06:01.0000] <Hixie>
(third column)

[17:06:02.0000] <jacobolus>
ack

[17:06:03.0000] <jacobolus>
good luck :)

[17:06:04.0000] <Hixie>
i'm aiming to reach 3500 by dec31, though i'm not sure if i'll shoot past that target or not

[17:07:00.0000] <Hixie>
i don't know how many i can do per quarter yet

[17:07:01.0000] <Philip`>
How predictable is the rate of new issues?

[17:07:02.0000] <Hixie>
still, the trend is downwards currently

[17:07:03.0000] <Hixie>
Philip`: hard to say

[17:08:00.0000] <Hixie>
Philip`: but that number is (new issues)-(completed issues)

[17:08:01.0000] <Hixie>
so right now the rate of replying is > the rate of new issues

[17:08:02.0000] <Hixie>
on average

[17:10:00.0000] <Hixie>
hm. i should get an LED display that shows this number and hang it in my cube

[17:14:00.0000] <jacobolus>
sounds depressing

[17:15:00.0000] <Hixie>
why?

[17:16:00.0000] <Hixie>
having this much feedback is awesome

[17:16:01.0000] <Hixie>
it means people care about the spec

[17:16:02.0000] <Hixie>
and means the spec stands a chance of being good

[17:17:00.0000] <Philip`>
You could get a big bucket and fill it with 3723 small items of food, and refill/eat as necessary to keep the number in sync with the number of outstanding issues, to provide a visual indication of progress

[17:18:00.0000] <Hixie>
mmm

[17:18:01.0000] <Hixie>
i don't think that would work well with the kind of food i eat

[17:21:00.0000] <jacobolus>
you need something very small, that never goes bad

[17:21:01.0000] <Hixie>
peanuts

[00:08:00.0000] <hsivonen>
jacobolus: IIRC, <meta charset=''> was said to work in IE/Gecko/WebKit/Opera but not in iCab

[00:09:00.0000] <jacobolus>
hsivonen: okay.  fine by me :)

[00:09:01.0000] <jacobolus>
thanks for the followup :)

[02:30:00.0000] <Hixie>
i love replying to dozens of messages at once

[02:30:01.0000] <Hixie>
it goes so much faster

[02:30:02.0000] <Hixie>
so much easier than when each mail requires major surgery to the spec

[02:31:00.0000] <Hixie>
ok everyone? Focus on bikeshed issues, not on powerplant issues!

[02:31:01.0000] <othermaciej>
heh

[02:31:02.0000] <othermaciej>
I hope you get to the s/cue points/cue ranges/ one soon

[02:32:00.0000] <othermaciej>
I can provide more justification if the email on that is insufficient

[02:32:01.0000] <Hixie>
just 15 issues left on video

[02:33:00.0000] <Hixie>
and that one is #9

[02:33:01.0000] <Hixie>
i imagine i'll do it

[02:33:02.0000] <Hixie>
it seems reasonable

[02:33:03.0000] <Hixie>
unless i find some problem when speccing it

[02:33:04.0000] <othermaciej>
always a good caveat

[02:34:00.0000] <Hixie>
oh actually it's #8 too, dave sent me a headsup first which also ended up in my pile

[02:34:01.0000] <othermaciej>
heh

[02:35:00.0000] <Hixie>
the next issue is about the naming of the looping attributes

[02:35:01.0000] <Hixie>
which is a REALLY INTERESTING issue

[02:35:02.0000] <othermaciej>
heh

[02:35:03.0000] <Dashiva>
/me gets the shed paint ready

[02:35:04.0000] <othermaciej>
you did ask for bikeshed issues!

[02:35:05.0000] <Hixie>
true

[02:36:00.0000] <annevk>
our engineers wondered what we wasted our time on when I forwarded that

[02:37:00.0000] <Hixie>
hah

[02:37:01.0000] <Hixie>
i think i'll change loopcount to playcount and leave the rest as is

[03:07:00.0000] <Lachy>
Hixie, it seems strange for a media element to keep playing once it's been removed from the document and all references to it have been removed.

[03:08:00.0000] <Lachy>
especially since in such a case, it's impossible to ever access it again and stop it via script

[03:08:01.0000] <OmegaJunior>
I agree... would you send the player a stop message?

[03:08:02.0000] <OmegaJunior>
Or maybe even a kill message, so the player can free its memory as well?

[03:09:00.0000] <Lachy>
OmegaJunior, how would you access the player if the element is gone?  The element provides the API. Without it, there's nothing

[03:09:01.0000] <OmegaJunior>
onbeforeunload?

[03:10:00.0000] <OmegaJunior>
there needs to be some kind of mechanism that recognises "oops it's gone"

[03:10:01.0000] <OmegaJunior>
Otherwise the media will continue to play, and retain memory

[03:11:00.0000] <Lachy>
I would hope browsers would stop playing it automatically once the user left the page, regardless

[03:13:00.0000] <OmegaJunior>
If the player is a plug-in or native, closing the page should destroy it and thus stop the playing. But when removing an element, that might not be the case. One can imagine a page-close to be handled far more aggressively in terms of clean-up than an element removal.

[04:04:00.0000] <Lachy>
I suppose the reason for keeping media elements playing must be because you don't know when the element no longer has any references until garbage collection is performed, and that's unpredictable when that will occur

[11:53:00.0000] <Hixie>
xhtml2 finally updated their draft to use the xhtml1 namespace http://www.w3.org/MarkUp/2007/ED-xhtml2-20071024/conformance.html#s_conform

[12:05:00.0000] <hsivonen>
Hixie: interesting that they put the namespace URI in schemaLocation as well.

[12:13:00.0000] <hsivonen>
there are now LEIRIs in addition to URI, IRI and HRRI?

[16:23:00.0000] <Hixie>
i'm mildly amused at the e-mails to www-html-cg every few weeks where people express surprise that we're not hitting the htmlwg charter's timetable

[16:23:01.0000] <Hixie>
we're almost exactly on track with my original timetable

[16:24:00.0000] <Dashiva>
-cg?

[16:26:00.0000] <Hixie>
coordination group

[16:26:01.0000] <Hixie>
where wgs send their status e-mails

[16:27:00.0000] <Dashiva>
aha

[16:31:00.0000] <Hixie>
oh hey

[16:31:01.0000] <Hixie>
actually

[16:31:02.0000] <Hixie>
we're going to miss my first milestone

[16:31:03.0000] <Hixie>
crap

[16:31:04.0000] <Hixie>
http://lists.w3.org/Archives/Public/www-archive/2006Nov/0045.html

[16:31:05.0000] <Hixie>
i guess i'd better publish a wd

[16:32:00.0000] <Dashiva>
Unilateral action? I smell a formal objection :P

[16:33:00.0000] <Hixie>
oh not through the w3c

[16:33:01.0000] <Hixie>
that'd take weeks

[16:33:02.0000] <Hixie>
we have 5 days before we miss the deadline

[16:33:03.0000] <Hixie>
just on the whatwg site

[16:34:00.0000] <Dashiva>
That sounds more feasible

[16:35:00.0000] <gsnedders>
Hixie: :D

[16:35:01.0000] <gsnedders>
Hixie: though isn't that a charter for the W3C HTML WG?

[16:36:00.0000] <Hixie>
it's what i proposed as the timetable for the html5 work

[16:37:00.0000] <gsnedders>
Hixie: can I raise a formal objection about the draft, though?

[16:37:01.0000] <hsivonen>
Hixie: seems to me that there's demand for an unofficial, open-source, ad hoc test suite already before 2011

[16:38:00.0000] <gsnedders>
Hixie: one minor irrelevant issue that is noted in the draft hasn't been fixed

[16:38:01.0000] <Hixie>
gsnedders: sure, but it won't make any difference to the whatwg, we don't have a formal objection process :-)

[16:39:00.0000] <Hixie>
hsivonen: hey if you want to do it quicker, be my guest :-D

[16:39:01.0000] <Dashiva>
The fo would be in the w3c, though, for willfully going outside standard procedure :P

[16:39:02.0000] <Hixie>
publishing drafts on the whatwg site is standard procedure for the whatwg :-D

[16:40:00.0000] <Hixie>
not my fault the w3c missed their self-set deadlines by months

[16:40:01.0000] <Dashiva>
The memo said doing anything outside the w3c was high treason

[16:40:02.0000] <Hixie>
oh i know i'm a traitor

[16:41:00.0000] <gsnedders>
Hixie: want the same punishment as some medieval traitors?

[16:41:01.0000] <gsnedders>
wait… we'll need a new editor then. damn.

[16:42:00.0000] <Dashiva>
I'm sure Google has an ample supply of clones

[16:42:01.0000] <gsnedders>
Dashiva: but in which datacentre?

[16:42:02.0000] <Hixie>
Dashiva: i wish

[16:43:00.0000] <gsnedders>
Dashiva: and why don't they make use of them?

[16:43:01.0000] <gsnedders>
Dashiva: we could have HTML 5 as a REC by the W3C timetable

[16:43:02.0000] <Dashiva>
They don't want to tip their hand, I suppose

[16:52:00.0000] <gsnedders>
/me can't believe he's actually become a loser on bebo


2007-10-27
[17:21:00.0000] <Hixie>
is dave singer here, or anyone who has any opinion on the cue range idea?

[17:24:00.0000] <Hixie>
i have two problems

[17:24:01.0000] <Hixie>
i don't know how to port the "autopause at time" idea over to ranges

[17:24:02.0000] <Hixie>
and i don't know how to support the removal of ranges

[17:25:00.0000] <Hixie>
for the latter, i see four options:

[17:25:01.0000] <Hixie>
1. require all four arguments to be passed again

[17:25:02.0000] <Hixie>
2. return a handle when you add, and require the handle to remove

[17:25:03.0000] <Hixie>
3. just have something that removes all ranges between two points on the timeline

[17:26:00.0000] <Dashiva>
If there's a iterator for all existing handles, 2. could be good

[17:26:01.0000] <Hixie>
4. pass some identifier to the add method, and use that identifier (a "class name" for one or more ranges) to remove all ranges with that identifier

[17:26:02.0000] <Hixie>
adding an iterator seems harder than desired

[17:27:00.0000] <Hixie>
oh hey i know how to do the pausing thing. just pause at the start and end of a range

[17:27:01.0000] <Hixie>
when exiting

[17:28:00.0000] <Hixie>
5. not have a way to remove handlers.

[17:28:01.0000] <Hixie>
6. only have a way to remove all ranges

[17:29:00.0000] <Dashiva>
Well, I reckon the UA will need an internal list of handles anyhow. Exposing a .length and .item isn't that much more, is it?

[17:30:00.0000] <Hixie>
it's more than that

[17:30:01.0000] <Hixie>
you'd need to expose an object for each one, etc

[17:33:00.0000] <Hixie>
when would you remove cue ranges

[17:33:01.0000] <Hixie>
when changing media

[17:33:02.0000] <Hixie>
when switching in new subtitles

[17:33:03.0000] <Hixie>
anything else?

[17:35:00.0000] <Hixie>
i think i'm gonna go with 4.

[17:35:01.0000] <Hixie>
addCueRange() is gonna have a class name you can pass it

[17:35:02.0000] <Hixie>
and then you'll be able to remove all ranges with that class name

[17:35:03.0000] <Hixie>
that way you can add one set of ranges for ads, one for subtitles, one for lyrics, etc

[17:35:04.0000] <Hixie>
and switch them dynamically by just nuking the set you don't want

[17:50:00.0000] <jruderman>
Hixie: https://bugzilla.mozilla.org/show_bug.cgi?id=401217

[17:52:00.0000] <Hixie>
yeah

[17:52:01.0000] <Hixie>
he raised the issue in public-html as well

[17:52:02.0000] <Hixie>
as far as i can tell he's wrong about the POST issue

[17:52:03.0000] <Hixie>
turning the feature off would be a net loss for users, since it'll just mean authors continue using the tricks they use now, with the associated problems they have (which ping solves)

[17:55:00.0000] <Hixie>
commented

[17:58:00.0000] <jruderman>
thanks

[18:42:00.0000] <Hixie>
hahaha!

[18:42:01.0000] <Hixie>
i did it!

[18:42:02.0000] <Hixie>
there are NO outstanding comments on sql, offline, or video! (not counting the codec issue)

[18:42:03.0000] <Hixie>
sweet

[19:05:00.0000] <Hixie>
ok, we have a call for comments out:

[19:05:01.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/2007-10-26/

[19:06:00.0000] <Hixie>
someone should feel free to write a whatwg blog entry about it if they feel up to it and care enough :-)

[11:00:00.0000] <zcorpan>
Hixie: shouldn't the frozen copy have used <body class=cfc>? :)

[11:08:00.0000] <zcorpan>
what's up with the orange background on normative text in the xhtml2 wg's specs?

[11:08:01.0000] <zcorpan>
it makes it really annoying to read

[11:10:00.0000] <zcorpan>
i also like "this example is informative", which makes one go "hmm, are there examples that are normative?"

[11:20:00.0000] <gsnedders>
More exam board fun: "<html>: Tag contains the entire document identifies the page as valid HTML"

[11:21:00.0000] <gsnedders>
/me is almost glad he doesn't have to do that optional section, and can do another instead which is slightly less wrong

[11:23:00.0000] <gsnedders>
actually, not very much stuff that is wrong is taught in the multimedia section! yay!

[11:51:00.0000] <zcorpan>
Hixie: done. http://blog.whatwg.org/html5-snapshot

[12:34:00.0000] <jacobolus>
Hixie: what is the standard for things going on the whatwg blog.  If I write an article about event-source and server-sent-events, and the limits of opera's current implementation of them, would it be relevant to put a link to that from the whatwg blog?

[12:38:00.0000] <zcorpan>
jacobolus: i think you can write pretty much anything you like on the whatwg blog, but put the article on the whatwg blog (some articles have been cross-posted before), don't just put a link there. it's not a link blog :)

[12:39:00.0000] <jacobolus>
ah, okay :)

[12:39:01.0000] <jacobolus>
zcorpan: I certainly wouldn't *just* put a link :)

[12:39:02.0000] <zcorpan>
i think you may have to ask Lachy for publishing your first post

[12:39:03.0000] <jacobolus>
i mean, even it it was mostly a link, it would have 2-3 paragraphs of explanation.  but cross-posting might be fine :)

[12:40:00.0000] <zcorpan>
ok

[12:41:00.0000] <zcorpan>
that might be fine too, btw, i just stated my understanding :)

[13:55:00.0000] <zcorpan>
http://forums.whatwg.org/viewtopic.php?t=31#452


2007-10-28
[03:23:00.0000] <gsnedders>
/me should write a blog post on the stupidity of HTTP

[06:04:00.0000] <gsnedders>
hmm… should ABNF be wrapped in <code>?

[08:19:00.0000] <Philip`>
gsnedders: Yes, because <code> gives the right font

[08:20:00.0000] <gsnedders>
Philip`: ;0

[08:20:01.0000] <gsnedders>
* :)

[10:04:00.0000] <gsnedders>
<http://gsnedders.com/http-entity-tags-confusion> — anyone?

[14:15:00.0000] <Hixie>
zcorpan: good call, fixed (cfc class). and thanks for the blog post. hope you read this in the archives...

[14:33:00.0000] <gsnedders>
<http://lists.w3.org/Archives/Public/ietf-http-wg/2007OctDec/0097.html> — am I too unclear in that?

[14:33:01.0000] <Dashiva>
The <> makes it hard to click your links :)

[14:36:00.0000] <gsnedders>
Dashiva: meh. recommendation in RFC3986 for delimiting URIs in context. They aren't valid characters in IRIs anyway, so should not be counted as part the of the URI at all

[14:37:00.0000] <Dashiva>
Hmm, weird. It highlights the > as part of the URL, but when I click it's not included

[14:39:00.0000] <gsnedders>
/me blames Dashiva's client

[14:39:01.0000] <Dashiva>
/me blames the vast browser-wing conspiracy

[14:43:00.0000] <gsnedders>
browsers, damned browsers, and lies.

[14:45:00.0000] <Dashiva>
lIEs

[16:11:00.0000] <zcorpan>
ok guys, i'm heading to thailand tomorrow, and i'll (hopefully) be away from computers completely while i'm there. back in business 14th nov

[16:12:00.0000] <zcorpan>
(and telecons)

[16:13:00.0000] <zcorpan>
/me waves


2007-10-29
[04:37:00.0000] <hsivonen>
Natural-language elaborations: http://html5.validator.nu/?doc=http%3A%2F%2Fhsivonen.iki.fi%2Ftest%2Fmoz%2Fno-legend-in-details.html

[04:46:00.0000] <hsivonen>
another demo: http://html5.validator.nu/?doc=http%3A%2F%2Fhsivonen.iki.fi%2Ftest%2Fmoz%2Fimg-without-src.html

[14:19:00.0000] <hendry>
hsivonen: i don't know off hand

[14:20:00.0000] <hsivonen>
hendry: ok. 

[14:20:01.0000] <hendry>
hsivonen: good place to ask is http://lists.debian.org/debian-java/

[14:21:00.0000] <hendry>
hsivonen: you don't have to sub to post to that list btw

[14:26:00.0000] <hsivonen>
hendry: OK. I was just thinking that if there were such a mechanism, packaging stuff might become a tad easier

[14:27:00.0000] <hsivonen>
hendry: the plan is to mavenize the html parser Real Soon Now

[14:27:01.0000] <hendry>
hsivonen: please post to debian-java

[14:27:02.0000] <hendry>
hsivonen: and CC me :)

[14:28:00.0000] <hendry>
hsivonen: http://packages.debian.org/unstable/devel/maven2 ?

[14:28:01.0000] <hsivonen>
hendry: perhaps tomorrow

[14:28:02.0000] <hsivonen>
hendry: yeah, that's the one


2007-10-30
[20:43:00.0000] <Hixie>
wow, the xml wg are revisiting planet earth

[20:44:00.0000] <jwalden>
?

[20:52:00.0000] <Hixie>
http://lists.w3.org/Archives/Public/public-html/2007Oct/0375.html

[21:07:00.0000] <MikeSmith>
Hixie - that "revisiting planet earth" comment might make a great title for a blog entry

[21:10:00.0000] <MikeSmith>
Hixie - btw, has anybody written up a high-level intro or blog entry or something about the offline web apps and client-side DB storage parts of the HTML5 spec?

[21:10:01.0000] <MikeSmith>
or presentation

[21:10:02.0000] <Hixie>
not yet to my knowledge

[21:10:03.0000] <MikeSmith>
damn

[21:10:04.0000] <MikeSmith>
hoping there was something I could steal from

[21:10:05.0000] <Hixie>
if you write one feel feel free to blog it on the whatwg blog :-)

[21:11:00.0000] <MikeSmith>
I will write one, I guess. Unless I can sweet talk somebody else into doing it

[21:12:00.0000] <MikeSmith>
What would be useful is something that describes the problem it is solving

[21:12:01.0000] <MikeSmith>
I guess I could crib from some of the stuff that's been published about Gears

[21:13:00.0000] <MikeSmith>
One thing I'm noticing more and more these days is how often my supposedly always-connected mobile handset is not actually always connected

[21:13:01.0000] <MikeSmith>
e.g., when I'm in the subway on the way to and from work

[21:22:00.0000] <Hixie>
the use case for the offline stuff is pretty simple

[21:22:01.0000] <Hixie>
using a web app when you're offline :-)

[21:22:02.0000] <Hixie>
the db stuff is mostly to have structured local data when you're offline

[21:23:00.0000] <jwalden>
/me really wishes the SQL stuff forced the use of parameter binding instead of only making it possible :-\

[21:23:01.0000] <Hixie>
how can we?

[21:24:00.0000] <jwalden>
if in parsing the query pattern you ever encounter a literal value, bail

[21:24:01.0000] <Hixie>
oh that would suck big time

[21:24:02.0000] <jwalden>
a little annoying for the constant parts of queries, but surely there'll be a saved query mechanism

[21:24:03.0000] <Hixie>
you couldn't even do "SELECT * FROM data WHERE count > 1" without parameters

[21:26:00.0000] <jwalden>
yeah, it's the price you'd pay for eliminating injections, barring the use of a user-provided pattern

[21:29:00.0000] <Hixie>
imho that's too high a price

[21:30:00.0000] <jwalden>
I think the big problem is that there's so much cut-and-paste of bad examples that just concatenate lots of strings, and this feels like the only way to ever deal with that problem

[21:31:00.0000] <jwalden>
if only the standard mechanism for constructing queries were parameter binding in PHP and friends...

[21:36:00.0000] <Hixie>
yeah

[21:36:01.0000] <Hixie>
it's not that big a deal here of course

[21:37:00.0000] <Hixie>
well, i guess it's somewhat an issue

[21:37:01.0000] <jwalden>
I don't think it's unreasonable for a client-side SQL injection to be an XSS vulnerability reasonably often

[21:37:02.0000] <Hixie>
yeah

[21:37:03.0000] <Hixie>
fair enough

[00:47:00.0000] <Hixie>
/me resorts the 400+ e-mails that were in the semantics folder into other folders

[00:47:01.0000] <Hixie>
down to 193 now

[01:00:00.0000] <Hixie>
man safari on windows can't handle the html5 spec well

[01:07:00.0000] <jacobolus>
what does it break?

[01:07:01.0000] <jacobolus>
oh, you mean the page of the spec

[01:07:02.0000] <jacobolus>
does it just not like big pages/

[01:22:00.0000] <jacobolus>
are any browsers planning to implement http://www.w3.org/TR/access-control/ ?

[01:23:00.0000] <Dashiva>
I'd hope Opera is with anne being editor and all :)

[01:26:00.0000] <jacobolus>
hmm.  any browsers with >= 1% market share? ;)

[01:26:01.0000] <Hixie>
yeah it's a big page issue

[01:26:02.0000] <Hixie>
the access-control spec is needed by xmlhttprequest 2

[01:27:00.0000] <Hixie>
/me replies to a long thread asking for <center> and <dir> to be brought into html5

[01:27:01.0000] <jacobolus>
when is it likely such stuff will see implementation? 2008? 2010?

[01:27:02.0000] <Hixie>
/me says no

[01:27:03.0000] <Hixie>
jacobolus: yeah, around then

[01:29:00.0000] <gsnedders>
/me is finally making movement on http-parsing

[01:29:01.0000] <jacobolus>
Hixie: I haven't really looked at recent discussion on the html wg list.  out of idle curiosity, does it look like IE will try to implement most of html5?

[01:30:00.0000] <Hixie>
jacobolus: microsoft has not commented either way

[01:30:01.0000] <jacobolus>
hmm.  I wonder if that's good or bad.

[01:31:00.0000] <Hixie>
in practice, them commenting that they intend to implement something rarely has any bearing on whether they implement it or not

[01:31:01.0000] <Hixie>
so it's neither good nor bad

[01:32:00.0000] <Hixie>
what would be good is seeing them implement it

[01:32:01.0000] <jacobolus>
heh

[02:11:00.0000] <Hixie>
down to just 119.

[02:28:00.0000] <Hixie>
86

[02:28:01.0000] <Hixie>
bed time now

[11:25:00.0000] <Hixie>
apparently we are web experts http://www.heise.de/english/newsticker/news/98175

[11:30:00.0000] <othermaciej>
Hixie: cool

[11:36:00.0000] <Dashiva>
It also implies whatwg is a subset of the w3c, as I read it

[11:36:01.0000] <hsivonen>
also SGML

[11:36:02.0000] <hsivonen>
more PR work still ahead

[12:27:00.0000] <Hixie>
/me is trying to sort his random grabbag of e-mails into categories

[12:27:01.0000] <Hixie>
i'm afraid certain e-mails covered a large number of subjects and they ended up mostly in random folders

[13:33:00.0000] <othermaciej>
does anyone here know if there is an IRC channel for ES4 spec discussion?

[13:34:00.0000] <Hixie>
dunno, but if you find out please do let me know

[13:34:01.0000] <othermaciej>
I emailed Brendan to ask

[13:35:00.0000] <othermaciej>
ggaren and I have decided to start attending the conference calls and see what is going on in there

[13:35:01.0000] <Hixie>
anything fun?

[13:35:02.0000] <Hixie>
i think technically google has joined now too, but i don't have the time to join calls and stuff

[13:35:03.0000] <othermaciej>
I am somewhat concerned that ES4's compatibility story is not as good as HTML5

[13:35:04.0000] <othermaciej>
also, Microsoft and Yahoo are trying to derail the process

[13:35:05.0000] <othermaciej>
those are the two things I have learned

[13:36:00.0000] <Hixie>
interesting

[13:36:01.0000] <Hixie>
why yahoo?

[13:42:00.0000] <othermaciej>
why yahoo? I am not sure

[13:42:01.0000] <othermaciej>
either Crockford's personal biases or some weird cozying up to Microsoft

[14:06:00.0000] <Philip`>
I need to stop writing HTML frontends for applications, and start using a real platform instead

[14:06:01.0000] <Hixie>
whatcha missing?

[14:07:00.0000] <Philip`>
I spent a couple of hours writing something today, and found a crash bug in Opera and a layout bug in Firefox 3 - it would be nicer if things actually worked :-(

[14:08:00.0000] <roc>
file it!

[14:09:00.0000] <Philip`>
On the other hand, it's nice to be able to write a couple of dozen lines of JS to combine an SVG file from GraphViz with a load of data in HTML tables from some Perl script, to create prettily coloured graphs of the data

[14:10:00.0000] <Philip`>
roc: I was trying to get work done, so I just gave up and used FF2 instead :-)

[14:10:01.0000] <Philip`>
but I have more time now so I'll try to reproduce it

[14:10:02.0000] <Hixie>
Philip`: i hate to tell you this but "real platforms" are just as crashy :-P

[14:10:03.0000] <roc>
if you don't have time to search for dups or make a reduced testcase, just file with whatever big testcase you have and someone else will do the work

[14:12:00.0000] <roc>
we are trying really really hard to fix layout regressions for FF3 so if you file a bug and it's a real bug, not a situation where we're being more standards compliant, we'll fix it for FF3

[14:34:00.0000] <jacobolus>
anyone know if there's a bug in mozilla's bugzilla about server-sent events, or any info about people working on getting support for them into gecko?

[14:34:01.0000] <jacobolus>
the bugzilla search for "server sent events" returns large numbers of unrelated bugs

[14:35:00.0000] <Philip`>
https://bugzilla.mozilla.org/show_bug.cgi?id=401775 - I hope that's a real bug because otherwise I'll have to fix my code instead :-(

[14:35:01.0000] <jacobolus>
ah, here. https://bugzilla.mozilla.org/show_bug.cgi?id=338583  nevermind

[14:39:00.0000] <Hixie>
btw i learnt more about aria recently and the "live region" idea, though over-engineered in waiaria, does seem generally useful

[14:44:00.0000] <Philip`>
Incidentally, it's slightly irritating how GraphViz's SVG output raises CSS warnings in Firefox/Opera

[14:44:01.0000] <Hixie>
which warnings?

[14:45:00.0000] <Philip`>
"font-weight:regular" is apparently invalid

[14:45:01.0000] <Hixie>
ah yes, that's quite invalid.

[14:46:00.0000] <virtuelv>
Philip`: 'normal'

[14:46:01.0000] <Hixie>
henri has by far the most outstanding feedback e-mails in my pile

[14:47:00.0000] <virtuelv>
mildly related: Do any browsers actually implement the numeric font weights?

[14:47:01.0000] <Philip`>
I suppose I could fix it by using sed on the SVG file, though that'd feel kind of dirty and non-XML-ish

[14:47:02.0000] <Hixie>
and the three folders with the most comments are WF2 (any forms-related problems, no new suggestions), semantics-links (<a>, <link>, rel, rev, etc), and semantics-mathematics (which is now basically anything related to namespaces in text/html)

[14:52:00.0000] <jwalden>
interesting, didn't know someone had a patch to implement server-side DOM events

[14:52:01.0000] <roc>
neither did I

[15:23:00.0000] <othermaciej>
Hixie: apparently #jslang on irc.mozilla.org is the place, gonna join there as soon as I find out the right port and other stuff for Mozilla IRC

[15:25:00.0000] <Hixie>
mozilla irc supports ssl btw

[15:25:01.0000] <Hixie>
on 6669 i think

[15:25:02.0000] <Hixie>
let me know if anyone can join

[15:27:00.0000] <jwalden>
6697

[15:27:01.0000] <jwalden>
othermaciej, Hixie: ^

[16:02:00.0000] <bradee-oh>
hmmmmm

[16:03:00.0000] <bradee-oh>
Why is it the html5 spec specifically requires SQL API errors to be localized, but not anything else?

[16:03:01.0000] <bradee-oh>
Hixie: ^, out of curiosity

[16:04:00.0000] <Hixie>
which other errors are there?

[16:05:00.0000] <jgraham__>
Should localisation be a must requirement?

[16:06:00.0000] <Hixie>
no

[16:06:01.0000] <Hixie>
should be a should

[16:06:02.0000] <jgraham__>
the other case of localization in the spec (that I recall) is in <isindex>

[16:07:00.0000] <jgraham__>
Hixie: Do you want mail on the should/must thing?

[16:07:01.0000] <Hixie>
fixed

[16:07:02.0000] <jgraham__>
Ah, OK :)

[16:07:03.0000] <bradee-oh>
I was wondering if there were any others, but searching the whole spec for "localized" and variants thereof came up blank.

[16:07:04.0000] <bradee-oh>
Hixie: awesome.  thanks

[16:08:00.0000] <Hixie>
i have a very high motivation right now to keep the sql, offline, and video sections free of known errors

[16:08:01.0000] <bradee-oh>
Hixie: good to know.  I will look more carefully for them just to bug you  ;)

[16:08:02.0000] <Hixie>
it'll probably end on friday :-)

[16:09:00.0000] <bradee-oh>
well, I know how long I have then  

[16:09:01.0000] <bradee-oh>
:)

[16:09:02.0000] <Hixie>
(i told my manager i'd be down to zero on those three areas by friday)

[16:09:03.0000] <bradee-oh>
so therefore, by friday it will be perfect.  no matter what.

[16:09:04.0000] <bradee-oh>
got it.

[16:09:05.0000] <bradee-oh>
:P

[16:09:06.0000] <Hixie>
(not that he really cares exactly what section I'm working on, but it's a pride thing!)

[16:35:00.0000] <Hixie>
/me replies to mail from 2004

[16:44:00.0000] <jgraham__>
Apparently Ben is reluctant to use IRC although I'm not sure why

[16:44:01.0000] <Hixie>
oh?

[16:45:00.0000] <Hixie>
that's gonn amake the plenary difficult...

[16:45:01.0000] <jgraham>
Well I think it might be just some worry about its complexity

[16:46:00.0000] <jgraham>
which will turn out to be unfounded

[16:46:01.0000] <jgraham>
but I don't really know


2007-10-31
[17:04:00.0000] <Hixie>
Lachy_: re http://www.w3.org/mid/4566A744.7040406⊙lia -- i'm not adding it to the spec at this point, but feel free to add it to the wiki

[17:05:00.0000] <Hixie>
hmmm

[17:05:01.0000] <Hixie>
<a method="post" href="">...

[17:05:02.0000] <Lachy_>
Hixie, that value is being defined in the widgets spec anyway

[17:05:03.0000] <Hixie>
cool

[17:34:00.0000] <jacobolus>
jgraham, Hixie: you know, at some point in the next couple weeks, it might be possible to get something like http://orbited.org/livehelp.html running for this channel, if you need to talk to people unwilling to use IRC

[17:35:00.0000] <jacobolus>
that is, the code is open currently, if you want to try to run it on your own servers, but in a couple weeks we might be willing to host such a thing for you

[17:36:00.0000] <Lachy_>
jacobolus, isn't that just a web based IRC client?

[17:37:00.0000] <Hixie>
i'd love to host a web-based IRC client (there are a number of them available) but I Dreamhost won't let me run IRC-related software

[17:37:01.0000] <jacobolus>
well, the usual reason to be reluctant to use IRC is unwillingness to download a client, configure it, etc.

[17:37:02.0000] <Hixie>
though actually there's a web-based IRC client for the w3.org IRC network

[17:37:03.0000] <Hixie>
so maybe we should tell ben about that

[17:38:00.0000] <Lachy_>
There are java applet clients available, which can be hosted on any web site and don't require the server itself to connect to the network

[17:38:01.0000] <jacobolus>
yeah, but java applet clients are truly terrible

[17:39:00.0000] <Lachy_>
I know

[17:40:00.0000] <Lachy_>
people could just install and use Chatzilla. It's one of the most simple to use and install clients available

[17:40:01.0000] <jacobolus>
yeah… but people have an amazing aversion to installing anything, sadly

[19:24:00.0000] <Hixie>
hmm

[19:24:01.0000] <Hixie>
the whole issue of making elements conforming when they're empty is a thorny one

[19:24:02.0000] <Hixie>
should <a></a> be conforming? what about <em></em> or <bdo></bdo>?

[19:29:00.0000] <takkaria>
will it make any real difference?

[19:29:01.0000] <Hixie>
to what?

[19:29:02.0000] <Hixie>
it'll make a difference to web authors who care about the specs

[19:30:00.0000] <Hixie>
there are _some_

[19:30:01.0000] <takkaria>
well, I'd say that they seem non-conforming to me, just in that they don't make sense

[19:31:00.0000] <takkaria>
what is it to emphasise nothing? etc

[19:31:01.0000] <Hixie>
yeah, but there are cases where you have e.g. a template and you just haven't filled it in

[19:31:02.0000] <Hixie>
should it be invalid?

[19:31:03.0000] <Hixie>
what if you're going to use script later?

[19:31:04.0000] <Hixie>
to fill it in?

[19:31:05.0000] <Hixie>
hmm

[19:32:00.0000] <takkaria>
well, if you're going to use a script to fill it in, you're probably capable of using a script to create it in the first place

[19:33:00.0000] <takkaria>
having said that, I don't see empty elements causing any harm particularly other than not making sense

[19:33:01.0000] <Hixie>
you might not have the data yet

[19:33:02.0000] <Hixie>
yeah

[19:33:03.0000] <takkaria>
it's probably the kind of thing a conformance checker should warn about

[19:33:04.0000] <Hixie>
i think i'm gonna allow them

[19:33:05.0000] <Hixie>
though maybe with a "should" or something

[19:34:00.0000] <takkaria>
btw, grats on getting the spec to more-or-less feature-complete.  I never thought that would happen. P)

[19:34:01.0000] <takkaria>
:)

[19:34:02.0000] <Hixie>
hehe :-)

[19:35:00.0000] <Hixie>
well it's easy to get feature complete

[19:35:01.0000] <Hixie>
you just say you are :-)

[19:36:00.0000] <takkaria>
I noticed the increasing referrals to "v2", so it's obviously a little more planned than that ^_^

[19:36:01.0000] <Hixie>
"v2" is just my codename for "later"

[19:36:02.0000] <Hixie>
some parts of the spec (canvas, video) are actually already at v2, technically

[19:40:00.0000] <takkaria>
section 11 has a ridiculously long name.  I wonder if anyone will complain about that. :)

[19:41:00.0000] <Hixie>
probably. they complain about everything. :-)

[19:41:01.0000] <Hixie>
the trick is distinguishing the valid complaints from the meaningless whines

[19:50:00.0000] <Dewi>
Hixie: I've recently needed to do a little parsing of markup in ASP where tools are scarce... I've found your journal posts about unusual parsing behaviours quite useful.

[19:50:01.0000] <Hixie>
glad to be of help

[19:50:02.0000] <Hixie>
see also the spec

[19:50:03.0000] <Hixie>
http://whatwg.org/html5/

[19:50:04.0000] <Hixie>
it has a full spec for parsing html5 now

[19:51:00.0000] <Dewi>
Hixie: but... (this is the part you don't want to hear) I have since realised you were the "XHTML considered harmful" guy :)

[19:51:01.0000] <Hixie>
yup

[19:51:02.0000] <Dewi>
Hixie: I just wanted to ask you... considering how poorly current browsers support real, strict, pedantic SGML-HTML behaviours... well, do you think current-day browsers are closer to a correct implementation of HTML, or of XHTML?

[19:52:00.0000] <Hixie>
i think current day browsers are closest to a correct implementation of html5 and xhtml5

[19:52:01.0000] <Dewi>
I mean, to use a simple example, if you self-close a tag, browsers will ignore your "/" attribute and to me, that seems closer to an XHTML behaviour than a HTML one

[19:52:02.0000] <Hixie>
html5 defines that as the correct way to parse

[19:52:03.0000] <Hixie>
it's exactly what html5 requires

[19:53:00.0000] <Dewi>
Hixie: hehe, good answer. I haven't looked at html5 enough yet, but I like what I've seen so far :)

[19:53:01.0000] <Dewi>
so maybe I should concentrate on trying to parse html5 and assume that xhtml and html will "usually work"...

[19:53:02.0000] <Dewi>
"usually work as intended"

[19:54:00.0000] <Hixie>
really it's just about the mime type

[19:54:01.0000] <Hixie>
if it's text/html then html5 describes how you parse it

[19:55:00.0000] <Hixie>
if it's application/xml or another XML type, then XML defines how you parse it

[19:56:00.0000] <Dewi>
I must admit, re-reading the whole "considered harmful" debate I'm noticing things I didn't know about proper XHTML before... like I never realised document.write() was actually outlawed (although personally I dislike it). I also read somewhere that style elements require processing instructions and I've never done that either.

[19:56:01.0000] <Dewi>
it makes me unsure how to feel about XML tool chains

[19:56:02.0000] <Hixie>
xml is useful and all... but it has a lot of hype

[19:56:03.0000] <Hixie>
i'm trying to keep the hype for html5 at a minumum

[19:56:04.0000] <Hixie>
minimum

[19:57:00.0000] <Hixie>
anyway, time to go home

[19:57:01.0000] <Hixie>
bbl

[19:57:02.0000] <Dewi>
the only time I've felt comfortable with serverside development has been when I had access to a full XML tree I could really process freely... and yet now I'm thinking... if I used document.write() in that context... what did that XML tree really represent?

[19:58:00.0000] <Dewi>
maybe more html5 than anything... anyway, thanks for talking to me about this :)

[19:58:01.0000] <Dewi>
(I'm guessing you've probably discussed this a thousand times)

[20:07:00.0000] <jacobolus>
Hixie: I vote allow <em></em>, etc.  what's the harm in leaving them?

[20:35:00.0000] <Hixie>
jacobolus: yeah

[01:28:00.0000] <Hixie>
what would you call an element, like <p> or <em> or <label>, that expects to have some element, textual, or embedded resource content?

[01:28:01.0000] <OmegaJunior>
Container

[01:29:00.0000] <Hixie>
as opposed to, say, <img>, or <div>, or <output>, which could be empty throughout their life without any likely problem

[01:29:01.0000] <OmegaJunior>
An empty div? 

[01:30:00.0000] <OmegaJunior>
I'm sure it's allowed but I fail to see the use at this point

[01:30:01.0000] <Hixie>
hmm

[01:30:02.0000] <OmegaJunior>
One can have empty divs as placeholders for future content, which may or may not be added, for instance.

[01:31:00.0000] <OmegaJunior>
Then it's still a container.

[01:31:01.0000] <OmegaJunior>
I'd distinguish between containers that require child nodes and containers that don't.

[01:34:00.0000] <Dewi>
OmegaJunior: I style empty divs all the time

[01:34:01.0000] <Dewi>
OmegaJunior: sometimes there just isn't any content you can meaningfully attach styling to

[01:35:00.0000] <Hixie>
hmm

[01:35:01.0000] <Dewi>
(usually because of CSS limitations or bugs of course)

[01:35:02.0000] <OmegaJunior>
Makes sense. We do create html source to fit our graphical designs.

[01:36:00.0000] <Dewi>
the most common is probably this guy: <div class="clearer"></div>

[01:36:01.0000] <Dewi>
used to clear past floated blocks

[01:36:02.0000] <Hixie>
:after { clear: both; }

[01:36:03.0000] <Hixie>
mmm

[01:36:04.0000] <Dewi>
especially when you want the bottom of a box to do it, so styling the next thing isn't possible

[01:36:05.0000] <OmegaJunior>
:after not supported in some browsers 

[01:37:00.0000] <Hixie>
ah, yes, true

[01:37:01.0000] <Dewi>
:after would probably be on the wrong side of the box border I'm talking about (though I haven't tried)

[01:38:00.0000] <Dewi>
although now that I think about it, there are probably other ways to trigger better boxing of a float container: like messing with 'overflow', that tends to make boxes quite "solid"

[01:39:00.0000] <Dewi>
(auto or hidden)

[01:39:01.0000] <Dewi>
and yes, there are many times an empty div or span sets you up for subsequent injection of content

[02:02:00.0000] <Lachy>
/me was hoping Hixie would reconsider dropping significant inline content!

[02:23:00.0000] <Hixie>
heh

[02:23:01.0000] <Hixie>
why?

[02:32:00.0000] <Lachy>
Hixie, just cause it would have been somewhat useful for conformance checking

[02:37:00.0000] <Hixie>
oh well i kept that

[02:37:01.0000] <Hixie>
there's still a SHOULD

[02:48:00.0000] <Hixie>
http://junkyard.damowmow.com/300

[02:49:00.0000] <othermaciej>
what is that a graph of?

[02:49:01.0000] <Hixie>
number of outstanding e-mails in my imap folder

[02:49:02.0000] <othermaciej>
sparta?

[02:49:03.0000] <Hixie>
(html5 e-mails)

[02:50:00.0000] <othermaciej>
recent trend is good

[02:50:01.0000] <Hixie>
over the past 4 weeks

[02:51:00.0000] <Hixie>
the times where it's not going down, the uphill climb is pretty much the steady state

[02:51:01.0000] <Hixie>
(notice how it always seems to climb at the same rate)

[02:52:00.0000] <Hixie>
anyway

[02:52:01.0000] <Hixie>
bed time

[02:52:02.0000] <Hixie>
nn

[02:52:03.0000] <OmegaJunior>
G'night!

[06:29:00.0000] <Philip`>
Google Calendar would be so much better if it actually showed me my calendar, instead of "Not Found: Error 404"

[06:29:01.0000] <OmegaJunior>
Hah

[06:30:00.0000] <OmegaJunior>
Google GMail would be a lot better if it didn't try to force me into downgrading to their level of browser knowledge.

[06:34:00.0000] <Philip`>
/me hopes he didn't have any important events scheduled

[06:48:00.0000] <Dewi>
OmegaJunior: downgrade?

[06:48:01.0000] <OmegaJunior>
Yes. Why/

[06:48:02.0000] <OmegaJunior>
?

[07:36:00.0000] <hsivonen>
Hixie: from my point of view, r1115 removing "(required)" annotations from attribute lists made the spec less useful

[07:37:00.0000] <hsivonen>
Hixie: compare with http://html5.validator.nu/?doc=http%3A%2F%2Fhsivonen.iki.fi%2Ftest%2Fmoz%2Felaboration-demo.xhtml

[07:38:00.0000] <hsivonen>
Hixie: oh, and thanks for zapping significant inline content

[12:26:00.0000] <Philip`>
/me tries writing some canvas code that simply draws a few rectangles (for visualising some data), which surely isn't very complicated at all, and finds it's buggy in Opera 9.2

[12:26:01.0000] <Philip`>
Also it's really slow doing anything fullscreen, so I think I'll just rewrite this in Python + OpenGL or something

[13:54:00.0000] <jgraham>
/me curses firefox 3's dislike for self-signed certificates

[14:01:00.0000] <gavin_>
you're not the only one!

[14:02:00.0000] <gavin_>
we're making some changes for beta 1 that will make your life a bit easier

[14:08:00.0000] <jgraham>
gavin_: good to know

[14:10:00.0000] <jgraham>
https://bugzilla.mozilla.org/show_bug.cgi?id=401575 I guess

[14:11:00.0000] <gavin_>
yeah, and the related bugs mentioned there

[14:28:00.0000] <Hixie>
hsivonen: yeah, removing (required) was a consistency thing. most of the attribute restrictions are more complex, and i need a more consistent way of summarising them.

[14:29:00.0000] <Hixie>
hsivonen: i'm thinking maybe putting an asterisk next to attribute names that are not independently optional

[14:53:00.0000] <Hixie>
so did the aria call conclude anything?

[14:55:00.0000] <Hixie>
or the forms task force call?

[16:33:00.0000] <Hixie>
http://www.flickr.com/photo_zoom.gne?id=1805709102&size=o is awesome

[16:38:00.0000] <bradee-oh>
Hixie: I knew which photo you were talking about before I clicked the link.  it's incredible

[16:45:00.0000] <kingryan>
"mordorsoft"

[16:49:00.0000] <gsnedders>
someone has too much spare time on their hands, me things

[16:49:01.0000] <gsnedders>
*thinks

[16:56:00.0000] <jgraham>
That's like an ultra-geeky stanley donwood

[16:57:00.0000] <chipig>
http://www.youtube.com/watch?v=_y36fG2Oba0

[16:58:00.0000] <Hixie>
who the hell is 82.155.213.9 and why are they trying to download my entire site

[16:59:00.0000] <Hixie>
including every possible tic tac toe game possible on a 10x10 board

[16:59:01.0000] <Hixie>
(http://software.hixie.ch/fun/games/tic-tac-toe)

[16:59:02.0000] <gsnedders>
ce n'est pas moi

