2013-07-01
[00:05:47.0000] <galant>
why when I paste few letters in text node that is in contenteditable element it splits nodes at te place where I paste the letters? this is making me very big troubles

[00:49:36.0000] <galant>
http://jsfiddle.net/jMKX5/ first write some letters in that section, then copy paste few letters in it, you will see when you paste the letters it will split the text nodes at the place of the paste. Why this is happening? This is making me a lot of troubles

[01:32:27.0000] <annevk>
Ms2ger: now http://dom.spec.whatwg.org/#nodeiterator detach() does nothing, referenceNode can be Node rather than Node? right?

[01:34:54.0000] <Ms2ger>
annevk, that looks correct

[05:24:38.0000] <JonathanNeal>
good morning

[05:41:57.0000] <MikeSmith>
anybody have parser tests for <template> yet?

[05:42:53.0000] <annevk>
MikeSmith: they're in html5lib afaik

[05:43:21.0000] <MikeSmith>
ah ok

[05:43:22.0000] <MikeSmith>
thanks

[06:06:29.0000] <annevk>
Hmm http::apple.com/ parses differently given a base URL

[06:13:06.0000] <zewt>
people sure like to have things both ways

[06:13:56.0000] <zewt>
"this thing is better than this other thing! and you can't argue against it because we're only talking about consistency here"

[06:40:02.0000] <Ms2ger>
irc.m.o having issues for anyone else?

[06:40:16.0000] <Ms2ger>
Ah, there we are

[07:48:40.0000] <matjas>
can anyone confirm that `I'm &notit; I tell you` is a parse error, even if it occurs in an attribute value? (trying to make sure I understand http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html#tokenizing-character-references correctly)

[07:48:49.0000] <annevk>
marcosc: promises will end up in JS, but not in any timeframe we can work with

[07:49:02.0000] <annevk>
marcosc: same for event loop, same problem

[07:52:32.0000] <gsnedders>
matjas: No parse error, per how I read it.

[07:53:11.0000] <gsnedders>
Or maybe there is?

[07:53:12.0000] <gsnedders>
I dunno.

[07:53:50.0000] <gsnedders>
We just changed html5lib so it wasn't based on my original reading, but now I can read the spec either way.

[07:55:33.0000] <gsnedders>
matjas: I believe it is not. A match is made (&not), so that paragraph doesn't apply. The following paragraph only raises a parse error if the following character is an equals sign, which it is not.

[07:55:40.0000] <gsnedders>
That's my opinion.

[07:58:56.0000] <annevk>
yeah, it's just ignored

[08:07:14.0000] <matjas>
thanks

[08:07:51.0000] <matjas>
so in attribute values, e.g. `&amp` without trailing semicolon is perfectly valid

[08:08:08.0000] <matjas>
or `&not`, to stick to the previous example

[08:08:58.0000] <matjas>
right?

[08:09:02.0000] <annevk>
yeah, I think we didn't want to flag many URLs as invalid

[08:12:57.0000] <matjas>
gsnedders ^ ?

[08:13:07.0000] <hallvors>
http://www.whatwg.org/specs/web-apps/current-work/multipage/origin-0.html#origin - "For scripts" part says nothing about Workers. Is the origin of the worker script the origin of the document that controls the worker?

[08:13:47.0000] <gsnedders>
matjas: Well, no, it will all get unconsumed and come out as the literal string "&amp", it's not just not a parser error.

[08:14:09.0000] <gsnedders>
Well, in the above &notit; example.

[08:14:20.0000] <gsnedders>
It depends what character follows &amp, &not, etc.

[08:14:56.0000] <matjas>
ok, got it

[08:14:59.0000] <gsnedders>
If it's an alphanumerical character, you get the literal string "&amp" and no parse error. If it's an equals sign, you get the literal string and a parse error.

[08:15:09.0000] <gsnedders>
If it's neither, you get "&" and no parse error.

[08:15:33.0000] <gsnedders>
*If it's neither, you get "&" and a parse error.

[08:15:35.0000] <matjas>
outside of attribute values, e.g. &amp is always a parse error, inside of attribute values it’s only a parse error when followed by =

[08:16:04.0000] <matjas>
or am i oversimplifying there?

[08:18:00.0000] <gsnedders>
Yes. It's only a parse error if it gets converted to "&" *or* it is followed by = in an attribute.

[08:18:21.0000] <matjas>
gsnedders: thanks!

[08:18:47.0000] <Ms2ger>
gsnedders, clearly your entire stack should be written in Coq

[08:20:06.0000] <gsnedders>
Ms2ger: :)

[08:20:48.0000] <gsnedders>
Ms2ger: Not sure how viable it really is to have a wholly proven stack, as nice as the idea is.

[08:21:03.0000] <gsnedders>
(Even ignoring the viability of the time it would take!)

[08:21:08.0000] <Ms2ger>
gsnedders, yeah, proving stuff tends to be hard

[08:22:11.0000] <gsnedders>
I mean, Coq can nowadays export compilable code, but then you're at the mercy of unproven compilers, so I'm not convinced it helps you /that much/.

[08:22:40.0000] <gsnedders>
It saves you writing stuff twice, sure.

[08:54:34.0000] <hallvors>
minor question for annevk (should he return and look at logs) or Ms2ger - any thoughts on this test? https://critic.hoppipolla.co.uk/showcomment?chain=280

[08:56:07.0000] <hallvors>
(Most of the test code is in a worker script - see https://critic.hoppipolla.co.uk/showfile?sha1=8c50d4a4ed37ca0293bac5a547f08be6022bfccd&path=XMLHttpRequest/resources/workerxhr-origin-referrer.js&review=134 )

[09:05:15.0000] <Ms2ger>
Needs more spaces ('if (foo) {', not 'if(foo){')

[09:14:27.0000] <annevk>
If hallvors were here I could tell him I don't follow the test

[09:48:56.0000] <Hixie_>
so... Document.getComputedStyle(element) returns a CSSStyleDeclaration, as do element.specifiedStyle, element.defaultStyle, element.computedStyle, element.usedStyle, and element.style.

[09:49:09.0000] <Hixie_>
pop quiz. which of the last five, if any, is equivalent to the first one?

[10:01:06.0000] <gsnedders>
Hixie_: userdStyle?

[10:01:33.0000] <Hixie_>
nope

[10:05:16.0000] <annevk>
Hixie_: none?

[10:06:32.0000] <Hixie_>
anne is correct!

[10:06:52.0000] <Hixie_>
getComputedStyle() returns the resolvedStyle, which you can't get straight from the element for some reason

[10:07:16.0000] <annevk>
ooh GetStyleUtils, that's new

[10:07:18.0000] <Hixie_>
and computedStyle returns the computed style, unlike getComputedStyle

[10:07:34.0000] <Hixie_>
i really think we should rename computedStyle on the API. I know the specs are confusing, but making the API confusing too is not good.

[10:07:54.0000] <annevk>
I guess the idea is that nobody would use getComputedStyle anymore

[10:08:22.0000] <annevk>
although it's unclear how they're solving pseudo-elements...

[10:08:26.0000] <Hixie_>
unless we're planning on dropping it from the spec, that's not gonna happen.

[10:08:32.0000] <Hixie_>
pseudos are exposed in the DOM more directly

[10:08:47.0000] <annevk>
oh

[10:11:51.0000] <Hixie_>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=22528

[10:14:14.0000] <annevk>
ah ele.pseudo("::before").style

[10:14:26.0000] <annevk>
I wonder why they didn't drop the "::" bit for that API

[10:18:24.0000] <Hixie_>
i kinda like it. makes it more obvious that it's a pseudo.

[10:18:27.0000] <Hixie_>
when scanning the code.

[10:19:19.0000] <SimonSapin>
Does this work? ele.pseudo(":before")

[10:24:03.0000] <Hixie_>
SimonSapin: see the spec :-)

[10:24:22.0000] <Hixie_>
(http://dev.w3.org/csswg/cssom/)

[10:24:59.0000] <SimonSapin>
Thanks Hixie_

[10:25:08.0000] <SimonSapin>
(I guess the underlying question was: which spec is this in)

[10:25:09.0000] <Domenic_>
can we rename the concept currently named "resolved style" to "computed style" so that concept and getComputedStyle match, then rename "resolved style" to something else?

[10:25:24.0000] <SimonSapin>
ftr, it does

[10:25:27.0000] <Domenic_>
sorry, rather, rename "computed style" to something else

[10:25:44.0000] <TabAtkins>
Domenic_: No, we can't.  "computed style" is used *everywhere* in the specs.  Too much legacy compat to change it.  ^_^

[10:26:48.0000] <Domenic_>
TabAtkins: right, but I guess my distinction was between APIs and spec text. Spec text seems malleable, but I guess maybe not, at least in W3C world.

[10:27:25.0000] <TabAtkins>
It's not that it's not malleable, it's that it's just too pervasive to realistically change.  We'd miss things, and there'd be persistent confusion.

[10:28:44.0000] <Hixie_>
yeah. that's why we changed the meaning of the term in the first place. so we'd hit all those places.

[10:28:50.0000] <Hixie_>
but we didn't think of the implications on getComputedStyle()

[10:29:15.0000] <Hixie_>
so now the API and the spec use different terms, just like for a while "URL" APIs referred to "URI"

[10:29:39.0000] <Hixie_>
(for that one we could rename URI back to URL in the specs because we weren't going to reuse URI for something else)

[10:29:49.0000] <Hixie_>
(so that one is a different case really)

[10:29:58.0000] <Hixie_>
(the term changed, not the meaning)

[10:35:29.0000] <TabAtkins>
Right.  getComputedStyle is just an unfortunate casualty that will confuse people forever.

[10:35:52.0000] <TabAtkins>
But hopefully el.computedStyle.foo is sufficiently easier than getComputedStyle(el).foo that everyone will just switch to it.

[10:36:00.0000] <Hixie_>
it should confuse only us spec people

[10:36:07.0000] <Hixie_>
people who don't read specs need not be confusing

[10:36:11.0000] <Hixie_>
need not be confused, rather

[10:36:24.0000] <Hixie_>
we should just make sure we don't do something like have two apis that say they do the same thing but do different things

[10:36:33.0000] <Hixie_>
hence https://www.w3.org/Bugs/Public/show_bug.cgi?id=22528

[10:38:00.0000] <TabAtkins>
We need a way to actually get the computed style for the handful of legacy properties.

[10:38:10.0000] <TabAtkins>
We can't call it something other than "computed style", because that's confusing to *everyone*.

[10:38:10.0000] <Hixie_>
call it something else :-)

[10:38:14.0000] <Hixie_>
cascadedValue or something

[10:38:20.0000] <TabAtkins>
That's a different concept.  ^_^

[10:38:43.0000] <Hixie_>
calculatedValue

[10:38:53.0000] <TabAtkins>
Also: no, that confuses *everyone*.  It's the computed value.  That's what it's called in every spec.  The one and only place where it's called something different is the name of the getComputedStyle method.

[10:39:06.0000] <Hixie_>
it doesn't confuse everyone. it confuses the minority of peopel who read specs.

[10:39:28.0000] <Hixie_>
what will confuse everyone is having two apis with the same name that do different things.

[10:40:16.0000] <Hixie_>
this is exactly the kind of thing that makes people hate the web and makes other platforms make fun of us.

[10:40:25.0000] <TabAtkins>
What will confuse everyone is having a brand new name "calculated value" that doesn't exist in any spec.

[10:40:39.0000] <Hixie_>
rawComputedValue then

[10:40:46.0000] <Hixie_>
seriously, "everyone" is wrong there

[10:40:47.0000] <TabAtkins>
And if we tried to update to use it, we'd fail and miss parts, and then people would think that we actually meant to say "computed value" in some places.

[10:40:50.0000] <Hixie_>
it will only confuse people who read the spec

[10:41:12.0000] <TabAtkins>
Right.  People who read tutorials will just read that getComputedStyle() is old and busted, and you should use .computedStyle instead.

[10:41:41.0000] <Hixie_>
that's so not how the web works

[10:41:46.0000] <Hixie_>
people keep using old APIs

[10:41:49.0000] <Hixie_>
they exist in code

[10:41:52.0000] <Hixie_>
we can't change that

[10:41:59.0000] <TabAtkins>
Sure.  And?

[10:42:10.0000] <Hixie_>
we have to confuse someone. better it be the limited number of people who read the spec than be everyone.

[10:42:25.0000] <Hixie_>
everyone who uses the api

[10:42:53.0000] <TabAtkins>
I'd rather it be the authors here, honestly.  This is the kind of detail that implementors can easily get wrong and produce confusing, long-lasting bugs.

[10:42:53.0000] <Hixie_>
i don't understand how you can think that having doc.getComputedStyle(element) != element.computedStyle is even something we could plausibly argue for

[10:42:58.0000] <Hixie_>
...woah

[10:43:07.0000] <Hixie_>
wait, back up

[10:43:24.0000] <Hixie_>
you think it's better to confuse millions of authors than the four people who will implement this?

[10:44:01.0000] <TabAtkins>
It's not the four people.  It's everyone who ever touches the relevant code, every time they look at a spec that mentions "computed value" or "calculated value", or meant to say one but wasn't updated so it says the other.

[10:44:16.0000] <TabAtkins>
We don't just have an internal list of computed values, you know.

[10:44:22.0000] <TabAtkins>
That stuff has to be calculated.

[10:44:48.0000] <Hixie_>
yes i am aware

[10:45:23.0000] <Hixie_>
i respectfully disagree that those people, for whom we can provide test cases, are more important than the entire javascript authoring community

[10:45:38.0000] <Hixie_>
users < authors < implementors < spec writers < theorists

[10:45:55.0000] <Hixie_>
where "<" is not "less than" :-)

[10:46:14.0000] <Hixie_>
but "rhs must defer to lhs" :-)

[10:56:48.0000] <TabAtkins>
Unless there are strong reasons not to, yes.

[11:02:52.0000] <Hixie_>
"we have to provide more tests and have an abundance of clarity in the specs" is not a strong reason, it's monday.

[11:05:11.0000] <annevk>
changing the spec concept of "computed style" to "calculated style" doesn't seem like a bad idea

[11:05:38.0000] <annevk>
it'll only confuse a handful of people for a while, and those are also the people that learn about the new thing soon enough

[11:06:23.0000] <Hixie_>
that could work, but i'm not even proposing that. i'm just proposing having the same warnings around .computedStyle as around .getComputedStyle, and having a separate .rawComputedStyle property.

[11:06:34.0000] <Hixie_>
i don't even think it's _that_ confusing for implementors, to be honest.

[11:13:19.0000] <Domenic_>
"this is exactly the kind of thing that makes people hate the web and makes other platforms make fun of us." +1

[11:14:58.0000] <SimonSapin>
annevk: computed vs. calculated … that’ll be fun in non-English languages

[11:15:09.0000] <SimonSapin>
(both words translate to the same in French)

[11:15:33.0000] <Hixie_>
on a different note... can anyone see a way in which an HTML parser can see a <button> token while a button element is in scope, then, after implying the </button> end tag, end up in a place such that reprocessing the <button> start tag won't just end up back in the in body <button> handler with nothing else having changed?

[11:54:13.0000] <annevk>
SimonSapin: you'd just use the English word

[11:54:31.0000] <SimonSapin>
meh

[11:55:28.0000] <SimonSapin>
On parle déjà bien assez de « pusher des commits » et autres anglicismes …

[12:10:07.0000] <annevk>
Alles vertalen is niet echt nuttig als je ook naar internationale conferenties, artikelen erover leest in het Engels, etc.

[12:10:53.0000] <Ms2ger>
I think you accidentally a word there

[12:11:14.0000] <annevk>
Je gelijk

[12:48:17.0000] <esprehn>
so we're really making .computedStyle[x] != getComputedStyle(...).x ?

[12:48:48.0000] <Ms2ger>
getComputedStyle depends on the window

[12:49:51.0000] <Hixie_>
esprehn: i hope not...

[12:50:07.0000] <Hixie_>
Ms2ger: not any more than the .fooStyle attributes will

[12:50:43.0000] <Ms2ger>
otherWindow.getComputedStyle(el) applied otherWindow's styles to el, last I checked

[12:51:14.0000] <esprehn_>
Ms2ger: nope

[12:51:25.0000] <Ms2ger>
Does in Gecko

[12:51:49.0000] <esprehn_>
webkit has never implemented it that way

[12:51:56.0000] <Hixie_>
Ms2ger: woah, really?

[12:51:59.0000] <Ms2ger>
Sure

[12:52:01.0000] <Hixie_>
that's... exciting

[12:52:07.0000] <Hixie_>
/me tests

[12:52:08.0000] <Ms2ger>
At least, as far as I can remember

[12:52:19.0000] <Ms2ger>
Testing is encouraged :)

[12:52:52.0000] <Hixie_>
Ms2ger: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2386 disagrees with you

[12:53:08.0000] <Ms2ger>
Quite possible

[12:54:01.0000] <Hixie_>
anyway, esprehn was talking about same-window stuff. As specced today, window.getComputedStyle(element).foo != element.computedStyle.foo, which is pretty crazy imho

[12:54:15.0000] <Ms2ger>
All of CSSOM is crazy

[12:54:20.0000] <Hixie_>
not that crazy...

[12:54:22.0000] <Ms2ger>
And the rest of the web too

[12:54:30.0000] <Hixie_>
not a reason to make it worse :-)

[12:56:18.0000] <Ms2ger>
Consistency in crappiness! :)

[12:56:54.0000] <esprehn_>
I'm with Hixie_ on this, people are going to want to polyfill the computedStyle thing, and using getComputedStyle will just return more wrongness

[12:57:23.0000] <esprehn_>
$.style(e) is going to be e.computedStyle && e.computedStyle[x] || getComputedStyle(e).x

[12:58:05.0000] <Hixie_>
yeah, that's a good example of the kind of thing that would trip people up

[12:58:11.0000] <Hixie_>
that code looks _obviously_ correct

[12:58:22.0000] <Hixie_>
and it is wrong in ways that are really hard to understand

[12:58:32.0000] <Hixie_>
as i said earlier, this is the kind of thing that authors hate us for

[13:01:49.0000] <fantasai>
annevk: The specs use "computed style" everywhere already. And we use "calculate" to indicate the perfomance of some computation without implying that it has anything to do with "computed style"... so it'd be kindof a pain to switch over :/

[13:02:08.0000] <Hixie_>
the spec terminology is irrelevant since only a minority of authors read the spec

[13:02:42.0000] <fantasai>
annevk: That said, the terminology we're using in this area isn't particularly great to begin with...

[13:03:07.0000] <fantasai>
Hixie_: We'd definitely want to make the propdef tables match up, authors do look at that.

[13:03:17.0000] <fantasai>
Hixie_: That's at least easier to search & replace...

[13:03:20.0000] <annevk>
fantasai: I think the main concern is that most authors are familiar with "computed style" as whatever getComputedStyle does, not what specs say

[13:03:28.0000] <fantasai>
annevk: yeah, I totally agree

[13:03:39.0000] <Hixie_>
fantasai: that's already wrong today, so that's an entirely separate issue

[13:03:54.0000] <annevk>
and authors > specs, but transitioning is indeed a pain :/

[13:04:14.0000] <annevk>
kinda like Hixie_ refusing to label something "almost standards mode" :p

[13:04:27.0000] <Hixie_>
"almost standards mode" is just a dumb term :-P

[13:04:35.0000] <Hixie_>
(when used in a standard to define behaviour)

[13:04:41.0000] <fantasai>
annevk: if we're going to do that massive of a transition, I think we might want to just overhaul all the terms...

[13:04:56.0000] <fantasai>
"used style" isn't great either

[13:04:58.0000] <fantasai>
:)

[13:04:59.0000] <annevk>
fantasai: sounds like you should wait for Last Call

[13:05:09.0000] <fantasai>
We're almost there... ;)

[13:05:20.0000] <fantasai>
Tab and I are preparing that draft this week, pretty much.

[13:05:48.0000] <Hixie_>
spec editors > theory, too, and changing terms like this is theoretically good but isn't good for spec editors

[13:07:23.0000] <annevk>
fantasai: I guess you guys can take it into account then

[13:07:44.0000] <annevk>
fantasai: if you don't you'll find the terms enshrined in APIs and you'll be stuck with them

[13:07:51.0000] <fantasai>
yeah :(

[13:08:03.0000] <fantasai>
maybe we can use "resolved style" for what CSS calls computed style

[13:08:19.0000] <annevk>
I guess you could flip them

[13:08:23.0000] <fantasai>
yeah

[13:08:39.0000] <Ms2ger>
Mm, more renamings

[13:08:44.0000] <Ms2ger>
Is it LC time?

[13:08:45.0000] <fantasai>
Naming things is hard!

[13:08:52.0000] <Hixie_>
/me wonders why </caption> isn't optional

[13:08:59.0000] <fantasai>
Ms2ger: in fact it is, we have an open resolution to take Cascade to LC

[13:09:31.0000] <Ms2ger>
fantasai, I should have known :)

[13:13:51.0000] <Hixie_>
/me finds another reason to drop the REC process... then css specs would never go to LC and so would never go through renaming rounds!

[13:50:09.0000] <esprehn_>
Hixie_: did we actually spec out "almost standards mode" ?

[13:50:26.0000] <esprehn_>
last I checked the documentation was a single mozilla page that hadn't been updated in 7+ years and was also wrong...

[13:50:37.0000] <Hixie_>
yes, it's called "limited quirks" mode

[13:50:46.0000] <Hixie_>
sorry, "limited-quirks"

[13:51:13.0000] <esprehn_>
ooh yay https://developer.mozilla.org/en-US/docs/Gecko's_Almost_Standards_Mode that page is updated

[13:51:13.0000] <Hixie_>
the term is defined in the DOM Core spec, and HTML triggers it and defines some things for it

[13:51:21.0000] <esprehn_>
awesome

[13:51:23.0000] <annevk>
esprehn_: http://quirks.spec.whatwg.org/

[13:52:30.0000] <esprehn_>
wait, that says "almost standards" where does it say limited-quirks?

[13:52:51.0000] <esprehn_>
or html calls it one thing, and invokes the other thing in dom core? :P

[13:54:20.0000] <Hixie_>
quirks.spec.whatwg.org uses terminology different than dom core and html

[13:54:45.0000] <Hixie_>
html was the first to the scene on this, so in addition to the other term not actually being sane, it's also not following precedent :-P

[13:56:15.0000] <annevk>
Hmm, so Indie UI is happening... https://www.webkit.org/blog/2728/last-two-weeks-in-webkit-better-events-and-new-apis/

[13:56:41.0000] <annevk>
I feel for the person who will eventually have to figure out UI events. And the longer that lingers, the more I fear it'll be me :/

[13:57:35.0000] <annevk>
esprehn_: it calls them "almost standards mode" but it links to "limited-quirks mode"

[13:57:46.0000] <annevk>
esprehn_: I don't even...

[13:59:13.0000] <esprehn_>
annevk: just because it's in webkit doesn't mean anyone will ship it

[13:59:45.0000] <annevk>
@apple.com and one guy from @apple.com is an editor

[14:00:11.0000] <esprehn_>
ah well then...

[14:00:13.0000] <annevk>
but yes, Apple shipping doesn't mean it's happening necessarily

[14:01:20.0000] <annevk>
it just means it's quite likely and will be a pain, since nobody has actually defined user interaction events in any sufficient amount of detail yet, yet everyone is keen on adding more of them and new wild layers of abstraction without understanding what's there

[14:07:49.0000] <esprehn_>
this is an interesting spec

[14:11:58.0000] <Hixie_>
seems like exactly what we need, though i'm not sure i agree with the exact events

[14:12:06.0000] <Hixie_>
but that's a typical bikeshed issue

[14:12:09.0000] <Hixie_>
so i'll defer to the editor

[14:12:30.0000] <Hixie_>
i'm glad that apple is doing this, since they were the main ones to break this back with safari on ios :-)

[14:13:28.0000] <Hixie_>
"precise, timing of incoming events.

[14:13:30.0000] <Hixie_>
Santosh Mahto changed the relations between media loading and the load event of a page. Before the patch, any <video> and <audio> elements would delay the load event until the media started loading or 3 seconds without progress. For media elements with preload=”none”, the code would be hitting the 3 seconds delay before firing the page’s load event. After the change, <video> and <audio> do not delay a page’s load event."

[14:13:36.0000] <Hixie_>
seems a bit dubious

[14:13:43.0000] <Hixie_>
wonder what the spec says exactly

[14:13:46.0000] <annevk>
as long as they actually define the whole chain of events and not just "sorta this happens" it would indeed be pretty great

[14:14:34.0000] <Hixie_>
annevk: agreed

[14:14:44.0000] <Hixie_>
hm, spec says they should fire 'suspend' then 'load'

[14:14:50.0000] <Hixie_>
wonder if they're following the spec there

[14:15:00.0000] <annevk>
"The event loop will be specified as part of ES6." https://www.w3.org/Bugs/Public/show_bug.cgi?id=22522#c7 Consider me sceptical

[14:21:00.0000] <Hixie_>
i've heard people say that, but i haven't seen anyone from TC39 reach out to talk about how to do that transition.

[14:21:14.0000] <Hixie_>
nor do i really understand how that will work, since the event loop applies when scripting is disabled, too

[14:21:23.0000] <Hixie_>
and when the only scripting language is something other than JavaScript

[14:28:36.0000] <jsbell>
nit: TC39 is saying ES7 now. (Otherwise, no comment.)

[14:29:35.0000] <Hixie_>
what does TC39 mean by "the event loop"?

[14:30:11.0000] <Hixie_>
i really don't understand how this would work or why JS would be the right place for it

[14:30:26.0000] <Hixie_>
a browser with no JS support still needs an event loop...

[14:41:16.0000] <jsbell>
ISTR TC39 want to define a processing model that includes an event loop and concurrent entities called "vats"; they would map onto the browser's event loop and Workers, respectively.

[14:41:40.0000] <jsbell>
http://wiki.ecmascript.org/doku.php?id=strawman:concurrency

[14:43:18.0000] <jsbell>
Yeah, that gives reasonable justification for why you'd want to define the concepts in JS. It's hard to have async Promises well defined in the language without async being defined.

[14:43:44.0000] <Hixie_>
i don't really understand that page, but what i do understand seems fine. Seems like the way to do it is to expose hooks that the environment can hook into, though.

[14:43:54.0000] <Hixie_>
i mean, if JS defines its own actual loop, that ain't gonna work

[14:43:56.0000] <jsbell>
Also: Browsers without JS need an event loop. JS without browsers also needs an event loop.

[14:44:13.0000] <Hixie_>
yeah

[14:44:20.0000] <jsbell>
I think the intent was to formalize the hook. But I'm just a fly on the wall

[14:44:45.0000] <Hixie_>
well, hopefully they reach out to the people who have written the existing event loop stuff

[14:44:51.0000] <Hixie_>
i haven't heard anything from tc39 people

[14:44:56.0000] <Hixie_>
only from flies on walls :-)

[15:02:21.0000] <Hixie_>
man, this parser change is invasive

[15:02:34.0000] <Hixie_>
gsnedders is gonna hate me

[15:02:42.0000] <Hixie_>
hopefully the browsers are gonna like it...

[15:02:55.0000] <Hixie_>
(it's fixing https://www.w3.org/Bugs/Public/show_bug.cgi?id=21308)


2013-07-02
[17:28:32.0000] <gsnedders>
Hixie_: Haters gonna hate.

[17:29:08.0000] <gsnedders>
Hixie_: Also, I believe that's a one line fix in html5lib. ;P

[17:36:08.0000] <GPHemsley>
/me mumbles something about the krijn log being too quick to disable tagging lines

[17:36:51.0000] <GPHemsley>
s/tag/flag/

[17:40:02.0000] <GPHemsley>
Hixie_: Argh, I already have enough email. ;_;

[17:40:15.0000] <GPHemsley>
Hixie_: Quit being so productive!

[17:40:16.0000] <gsnedders>
MOAR EMAIL.

[21:09:39.0000] <Hixie_>
GPHemsley: eh, it doesn't happen that often!

[21:37:07.0000] <MikeSmith>
Hixie_: wonder what your thoughts are on adding the <shadow> and <content> elements to the HTML spec

[22:08:26.0000] <Hixie_>
MikeSmith: i'd need to know more :-)

[22:12:06.0000] <MikeSmith>
the elements are defined in the Shadow DOM spec and implemented in blink and soonish in gecko (there's a patch from wchen for the <content> element waiting or review)

[22:12:17.0000] <MikeSmith>
Hixie_: https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/shadow/index.html#content-element and https://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/shadow/index.html#shadow-element

[22:13:07.0000] <MikeSmith>
as far as I understand, they don't have any special effect on parsing

[22:13:08.0000] <Hixie_>
where does it go? inside a <template>?

[22:14:15.0000] <MikeSmith>
no, anywhere

[22:14:20.0000] <MikeSmith>
flow content

[22:14:32.0000] <Hixie_>
what does it do?

[22:14:39.0000] <Hixie_>
i don't understand the spec

[22:15:13.0000] <Hixie_>
this is like reading an alternate reality version of xbl2

[22:15:30.0000] <MikeSmith>
heh

[22:16:14.0000] <MikeSmith>
anyway, to be clear, it can go inside a <template> but it's not restricted to just that

[22:16:30.0000] <MikeSmith>
but then I guess anything else can go inside a <template> too

[22:16:55.0000] <Hixie_>
i'm too tired to figure it out now. i don't understand what this does. send a mail explaining what the element does and where it would make sense, and how it should be defined, assuming the spec is stable enough that it makes sense to integrate yet.

[22:17:06.0000] <MikeSmith>
ok

[22:17:22.0000] <Hixie_>
in principle though, sure

[22:17:50.0000] <Hixie_>
/me is trying to buy glassware

[22:17:54.0000] <Hixie_>
"features: lead free"

[22:18:00.0000] <Hixie_>
we're still calling that a feature?

[22:18:08.0000] <Hixie_>
should i be worried that it doesn't say "mercury free"?

[22:18:13.0000] <MikeSmith>
hah

[23:57:00.0000] <annevk>
"ITS 2.0, Selectors 4 and Selectors API 2" o_O

[23:57:25.0000] <annevk>
There's so many crazy suggestions in that thread I don't even

[02:08:32.0000] <annevk>
"Deciding to spice up the morning by filling the kettle slightly past the recommended level, then thinking better of it" https://twitter.com/SoVeryBritish/status/351986543797346305

[02:23:07.0000] <jgraham>
annevk: Glad you are adjusting to life in the UK :)

[02:32:31.0000] <sangwhan>
tobie: sorry 'bout that

[02:41:16.0000] <jgraham>
The "And revert" thing?

[02:41:35.0000] <jgraham>
Would be nice not to be running tests on production repos where possible

[02:41:56.0000] <darobin>
wuss :)

[02:41:57.0000] <jgraham>
In this case I don't see why it is needed

[02:42:12.0000] <jgraham>
Not wuss, just don't like getting the email :)

[02:43:35.0000] <jgraham>
I already want to slap the github people until they realise that one email per change is insane

[02:43:57.0000] <Ms2ger>
I always want to slap github people

[02:49:48.0000] <sangwhan>
Was trying to get rid of as many PRs as possible to hopefully reduce the amount of mails I get

[02:50:04.0000] <sangwhan>
And then there is critic, which I should probably try to opt out for some of the stuff

[02:50:37.0000] <sangwhan>
I wonder how long XHR tests will be getting fixups

[02:50:48.0000] <jgraham>
Aren't you like 86% of the way there

[02:51:27.0000] <sangwhan>
Dunno, haven't been reading them

[02:51:54.0000] <Ms2ger>
I know hallvors has been making a lot of commits

[02:54:02.0000] <sangwhan>
In my defense I never imagined someone would use the production repo for "testing" things

[02:54:40.0000] <Ms2ger>
Defense denied

[02:56:16.0000] <sangwhan>
Bah

[03:19:09.0000] <annevk>
How do you guys deal with duplicated tests?

[03:19:25.0000] <annevk>
There's many URL tests though in some sense it seems easier to just start over...

[03:21:58.0000] <annevk>
The tests I have thus far in https://github.com/annevk/url are mostly from WebKit with adjustments to conform to the spec

[03:22:07.0000] <darobin>
annevk: by duplicated I mean presumably testing the same thing, but not exactly the same file?

[03:22:46.0000] <darobin>
annevk: if you have tests which you believe are exhaustive and of better quality, then adding them and removing the old ones seems fine to me

[03:23:01.0000] <darobin>
though maybe do the removal in a separate PR?

[03:23:01.0000] <annevk>
Yeah, the same structure in setup. The other problem with URLs is that there's many many tests and grouping them is kinda hard.

[03:23:14.0000] <darobin>
(and of course, please triple check that you're really removing duplication)

[03:23:21.0000] <annevk>
I don't think the test repo has URL tests at the moment.

[03:23:40.0000] <darobin>
I didn't think so either but you said there were dupes so I imagined you'd found some :)

[03:23:48.0000] <annevk>
And what you just said there is a lot of tedious work. There's thousands of tests...

[03:24:08.0000] <darobin>
Testing is tedious work. Film 11.

[03:24:09.0000] <annevk>
Dupes between browser vendors, etc.

[03:24:12.0000] <darobin>
*at

[03:24:21.0000] <darobin>
oh that

[03:24:31.0000] <darobin>
well, tests that aren't in the repo don't exist

[03:24:39.0000] <annevk>
Well, if you're just gonna repeat what I already know, I guess I'm out of luck

[03:24:56.0000] <darobin>
what were you hoping for?

[03:25:11.0000] <annevk>
Some kind of strategy or tactic used to date

[03:25:29.0000] <darobin>
strategy for what?

[03:25:42.0000] <darobin>
getting vendors to align on a single suite for a given area?

[03:26:19.0000] <sangwhan_>
I assume this question has already been asked earlier, but has there been work to do a batch executer that will run everything and collect the results for everything?

[03:26:22.0000] <jgraham>
The strategy is "duplication is the least of our worries"

[03:26:37.0000] <jgraham>
Typically people don't write exactly the same test

[03:26:55.0000] <annevk>
The other problem is that existing tests don't necessarily align with the standard

[03:27:07.0000] <jgraham>
So having multiple simplar things isn't that high cost. And javascript tests are very fast to run

[03:27:10.0000] <annevk>
But that the standard might need to change based on those tests

[03:27:17.0000] <darobin>
sangwhan_: there are plans to make that happen, yes

[03:27:33.0000] <jgraham>
Right, well tests and/or the standards being wrong is a problem ofc

[03:27:40.0000] <annevk>
And I feel like my current copy-and-paste approach and adjusting things as I go is somewhat crappy

[03:27:49.0000] <jgraham>
sangwhan_: Experience suggests that will be harder than you would expect

[03:27:53.0000] <annevk>
But I can't think of anything that'd work better :/

[03:27:58.0000] <sangwhan_>
/me is trying to un-f*up the previous PR merges, but haven't been able to find a nice way to do it so far

[03:28:24.0000] <sangwhan_>
jgraham: Experience suggests making that work on a non-desktop is going to be a nightmare no matter what

[03:28:35.0000] <jgraham>
I was only thinking about desktop

[03:29:05.0000] <tobie>
sangwhan: yes, using webdriver and saucelabs

[03:29:05.0000] <sangwhan_>
Desktop is bad enough, and I've seen some PRs that don't use testharness so good luck with those

[03:30:36.0000] <Ms2ger>
sangwhan_, for testharness.js tests, I've already implemented that

[03:31:04.0000] <sangwhan_>
Ms2ger: generic or Gecko specific?

[03:38:08.0000] <jgraham>
sangwhan_: Both, I think

[03:38:28.0000] <jgraham>
Although I think strictly it isn't correct since it uses iframes or something

[03:40:10.0000] <Ms2ger>
Right, the generic one uses iframes

[03:41:00.0000] <Ms2ger>
Then again, Mozilla runs them in iframes anyway, so they'd better work that way

[03:41:02.0000] <sangwhan_>
Yeah, I guess there aren't better ways to do it in a generic way

[03:41:22.0000] <jgraham>
Really? That seems problematic

[03:41:42.0000] <jgraham>
You can rather easily write tests that depend on being in a top-level document

[03:41:45.0000] <sangwhan_>
iframes does reduce the purity of the test runs significantly though (captain obvious reporting)

[03:42:05.0000] <jgraham>
Or, to put it differently, there are things that require a top-level document to test

[03:42:35.0000] <Ms2ger>
Then you can window.open()

[03:43:40.0000] <sangwhan_>
Get a machine with 256GBs of memory and window.open() everything :)

[03:45:52.0000] <darobin>
hopefully you can window.close() too :)

[03:46:48.0000] <jgraham>
Ms2ger: Right, but it would be nice if the top level document was window.opened rather than an iframe

[03:46:58.0000] <Ms2ger>
I dunno

[03:47:10.0000] <jgraham>
Well actually

[03:47:18.0000] <Ms2ger>
I haven't hit issues with the iframes as far as I can remember

[03:47:29.0000] <jgraham>
The Right Thing To Do is to drive the browser from the outside

[03:47:34.0000] <Ms2ger>
Sure

[03:47:41.0000] <sangwhan_>
Rather than having this debate wouldn't it make sense to use webdriver?

[03:47:46.0000] <jgraham>
So that the top level document is a top level document with no opener or parent

[03:47:58.0000] <Ms2ger>
Webdriver is all fun and stuff

[03:48:31.0000] <Ms2ger>
But I like being able to run tests without giving more privileges than a website gets

[03:48:37.0000] <sangwhan_>
Having the window/document as a clean slate if possible is nice, yes

[03:48:40.0000] <jgraham>
So actually afaict browsers typically use their low-level primitives for implementing webdriver directly

[03:48:57.0000] <jgraham>
s/browsers/vendors/

[03:49:13.0000] <Ms2ger>
There's two goals here, IMO

[03:49:21.0000] <jgraham>
Ms2ger: Sure

[03:49:33.0000] <Ms2ger>
One is vendors running tests in automation, the other is comparing browsers

[03:49:43.0000] <jgraham>
Being able to run the tests from w3c-test.org is a different use case to being able to run them in an automated test system

[03:50:37.0000] <sangwhan_>
Although not performant nor standardizable just restarting the browser with a test URL every time could even work...

[03:50:44.0000] <sangwhan_>
/me recalls at least one tool in Opera did this

[03:51:11.0000] <Ms2ger>
It feels like Opera has a million different test harnesses and runners

[03:51:28.0000] <jgraham>
Ms2ger: I think you are off by a few orders of magnitude there

[03:51:39.0000] <sangwhan_>
The one I mentioned has been retired, hence "did"

[03:51:40.0000] <Ms2ger>
Billion?

[03:51:40.0000] <jgraham>
Although I hesitate to say in which direction

[03:52:37.0000] <Ms2ger>
I have to say I wonder what lead(s) to that

[03:52:56.0000] <sangwhan_>
/me doesn't even know how many, mostly because I've only seen them in bug reports

[03:53:01.0000] <jgraham>
Well it's not actually that many

[03:54:27.0000] <jgraham>
One thing that kept multiple systems alive was that people in e.g. TV SDK had much fewer exposed APIs and so made much more basic tools

[03:54:36.0000] <jgraham>
*many fewer

[03:54:58.0000] <jgraham>
Partly it's the organisation structure and the culture of course

[03:56:07.0000] <Ms2ger>
Maybe we have relatively few because it's such a pain to set up a new one

[03:56:32.0000] <sangwhan_>
But yes, I know a fair amount of systems were born because of platform limitations

[03:56:35.0000] <jgraham>
But we ended up with one tool that did all testing for core and a lot of testing for desktop, and an evolution of that tool is now used for product testing

[04:00:37.0000] <jgraham>
Anyway, all browser vendors are strange in their own way

[04:01:09.0000] <jgraham>
For example Mozilla still use a bugtracker as a review system

[04:02:06.0000] <jgraham>
And Google think that PNaCl is a swell idea

[04:04:25.0000] <jgraham>
(I assume no one needs convincing that Apple or Microsoft are odd)

[04:05:46.0000] <Ms2ger>
Hey, the bugtracker as a review system is actually an excellent idea ;)

[04:06:50.0000] <jgraham>
/me wonders if Ms2ger is on the run from an asylum

[04:07:04.0000] <Ms2ger>
As usual, yes

[04:32:00.0000] <GPHemsley>
FTR: The Shadow DOM spec uses a deprecated URL to link to the DOM Parsing and Serialization spec.

[04:32:16.0000] <Ms2ger>
File a bug?

[04:32:22.0000] <GPHemsley>
The current URL is: http://domparsing.spec.whatwg.org/

[04:32:33.0000] <GPHemsley>
Ms2ger: I use #WHATWG as my bug tracker. >_>

[04:37:04.0000] <GPHemsley>
The spec actually links to a Wikipedia article on a particular coffee beverage o_0

[04:37:47.0000] <Ms2ger>
Which, Java?

[04:38:17.0000] <GPHemsley>
Green Eye

[04:38:22.0000] <GPHemsley>
whatever that is

[04:38:27.0000] <GPHemsley>
it also links to WoW

[04:39:23.0000] <sangwhan_>
search for n00b

[04:40:29.0000] <sangwhan_>
Ms2ger: are the pending PRs that on web-platform-tests from you intentionally pending, or has nobody looked at them?

[04:41:41.0000] <Ms2ger>
Probably the latter

[04:41:55.0000] <Ms2ger>
I don't know if jgraham has been intentionally ignoring them :)

[04:44:17.0000] <sangwhan_>
:)

[05:32:13.0000] <tobie>
sangwhan: you might also want to join #testing on irc.w3.org

[07:33:55.0000] <Hixie_>
MikeSmith: thanks for the e-mail abotu <shadow> and <content>

[07:34:15.0000] <Hixie_>
MikeSmith: can you elaborate on when you would use these elements in an HTML document? wouldn't they only be used in the definition of a shadow tree?

[08:32:35.0000] <MikeSmith>
Hixie_: yeah, only in a shadow tree definition

[08:36:12.0000] <MikeSmith>
but within that shadow-tree definition, they should be allowed anywhere flow content is allowed

[09:10:34.0000] <galant>
I have big problem, I insert line feed character into contenteditable text node everything is fine but the caret/cursor position for writing is in previous line, when I write something everything is right, the text is written in new line, but before I write anything the caret/cursor stay in previous line, why is this happening?

[09:20:56.0000] <Hixie_>
MikeSmith: so what distinguishes a shadow tree definition from anything else?

[09:21:30.0000] <Hixie_>
galant: are you inserting the line break as a raw U+000A character, or as a <br> element?

[09:22:43.0000] <galant>
Hixie_, I am trying to make WYSIWYG editor

[09:23:52.0000] <galant>
contenteditable is inserting divs on pressing enter key, I am deleting those divs and I am inseerting line feed character (im on linux) and caret position is in previous line but when I start writing caret position is going in the next line

[09:23:57.0000] <jgraham>
galant: In all browsers?

[09:24:13.0000] <galant>
so everything is fine expect caret position is showing in previous line before I start writing for some reason

[09:24:27.0000] <galant>
I am trying this in chromium now ill try in iceweasel

[09:26:15.0000] <MikeSmith>
Hixie_: I guess what distinguishes it is, it's either part of a document fragment created from a <template> or otherwise a node created through script that's not be appended anywhere in the DOM

[09:26:25.0000] <MikeSmith>
Hixie_: as far as I understand it at least

[09:26:42.0000] <galant>
hmm

[09:26:45.0000] <galant>
now this is strange

[09:27:03.0000] <galant>
in iceweasel (firefox) I see br characters when I insert line feed character

[09:27:06.0000] <galant>
and everything is fine

[09:27:22.0000] <galant>
I get new lines and caret position is placed in the new lines

[09:27:36.0000] <galant>
I am not sure why I see br characters in iceweasel and not in chromium?

[09:28:06.0000] <Hixie_>
MikeSmith: we should understand this better before adding this to the spec. in particular, it affects where the elements should be allowed.

[09:28:17.0000] <galant>
after each new line I see one br element and on the end there is <br type="_moz">

[09:29:17.0000] <Hixie_>
galant: i wish i could help you, i don't know this stuff well enough :-(

[09:29:52.0000] <galant>
:S ok

[09:34:48.0000] <MikeSmith>
Hixie_: yeah, I suppose so. Maybe dglazkov can help. If not, I'm not sure who else could

[10:00:27.0000] <dglazkov>
good morning, Whatwg!

[11:31:44.0000] <Hixie_>
i don't suppose anyone has tests for cross-origin use of showModalDialog...

[11:45:36.0000] <Ms2ger>
Hixie_, maybe... If anyone, it'd be bholley

[11:46:07.0000] <Ms2ger>
But it doesn't seem that way

[11:48:55.0000] <Hixie_>
why would <input type=button onclick=close()> not work in a window opened from showModalDialog() ??

[11:51:48.0000] <Ms2ger>
I'd ask bz, but he's got a kid

[11:52:13.0000] <Hixie_>
well that's exciting. showModalDialog() on Safari actually returns the value cross-origin, at least for strings

[11:52:52.0000] <Hixie_>
so far three browsers, three behaviours.

[11:52:55.0000] <Hixie_>
firefox is most sane so far.

[11:53:34.0000] <Ms2ger>
https://bugzilla.mozilla.org/show_bug.cgi?id=860941

[11:54:18.0000] <Hixie_>
yeah that's why i'm looking at this :-)

[11:55:53.0000] <Hixie_>
four browsers, four behaviours.

[11:55:55.0000] <Hixie_>
i hate my life.

[11:56:15.0000] <Ms2ger>
Hixie_, don't test old Firefoxen, you might get five :)

[11:57:01.0000] <Hixie_>
i'm only testing the flagship product from each rendering engine, and only the most recent build i can run on mac or Windows 7

[11:57:11.0000] <Hixie_>
(the last part being why i'm stuck with IE9.)

[11:57:17.0000] <Hixie_>
(which is rather sad)

[11:57:45.0000] <Ms2ger>
Virtualization?

[11:58:29.0000] <Hixie_>
not if i can help it

[11:59:00.0000] <Ms2ger>
Expense win8?

[12:00:29.0000] <Hixie_>
and a windows 8 laptop? i've considered it.

[12:00:40.0000] <Hixie_>
i don't want the extra weight in my backpack though.

[12:01:04.0000] <Ms2ger>
A win8... tablet?

[12:02:15.0000] <Hixie_>
hm, that's an idea

[12:02:41.0000] <Hixie_>
i wonder if i can put win8.1 beta on those somehow

[12:03:26.0000] <Ms2ger>
I'd ask microsofters, like tantek or Chris Wil... Oh, right

[12:03:37.0000] <tantek>
lol

[12:03:45.0000] <Hixie_>
there is a "Windows RT 8.1 Preview"

[12:04:03.0000] <tantek>
Windows has retweets?

[12:08:03.0000] <Hixie_>
i guess i could get a "ASUS VivoTab RT" and try to install win 8.1 RT preview on it

[12:09:02.0000] <jgraham>
Can't you dual boot windows 7 / windows 8? Or do Microsoft prevent that?

[12:09:23.0000] <jgraham>
I guess that's inconvenient if you are switching often

[12:10:09.0000] <jgraham>
(is the tablet version of IE identical to the desktop version?)

[12:10:29.0000] <Hixie_>
my access to windows 7 doesn't involve booting anything, i'm remotely connecting into a test machine

[12:11:06.0000] <Hixie_>
man, microsoft don't make it easier to compare these devices

[12:11:38.0000] <jgraham>
Also, I'm sure you can run IE10 on win 7 these days

[12:12:30.0000] <jsbell>
Yes you can.

[12:12:46.0000] <jgraham>
I imagine you can't run IE11, but you could be less than one majjor version behind

[12:15:17.0000] <Hixie_>
oh, interesting

[12:56:53.0000] <Hixie_>
TabAtkins, abarth: if we could get chrome to match the spec on https://www.w3.org/Bugs/Public/show_bug.cgi?id=22183 we would be able to avoid adding more craziness and IE would be more willing to change too... any chance that could happen?

[13:13:51.0000] <Hixie_>
WAT

[13:13:59.0000] <Hixie_>
<form><img name=a></form>

[13:14:04.0000] <Hixie_>
document.forms[0].elements.length => 0

[13:14:19.0000] <Hixie_>
document.forms[0].elements.a => [object HTMLImageElement]

[13:14:44.0000] <Hixie_>
(according to chrome)

[13:14:58.0000] <Hixie_>
(firefox is sane and says undefined for the second one)

[13:17:02.0000] <Ms2ger>
What version are you testing?

[13:17:38.0000] <Ms2ger>
Late 24 or 25 probably has 1 / img

[13:17:44.0000] <Hixie_>
Mozilla/5.0 (Macintosh; Intel Mac OS X 10_8_4) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/29.0.1547.3 Safari/537.36

[13:17:46.0000] <Hixie_>
Mozilla/5.0 (Macintosh; Intel Mac OS X 10.8; rv:25.0) Gecko/20130627 Firefox/25.0

[13:18:07.0000] <Ms2ger>
Huh

[13:18:24.0000] <Hixie_>
you're confusing this with document.forms[0].a

[13:18:49.0000] <Ms2ger>
Er

[13:18:50.0000] <Ms2ger>
Bah

[13:19:02.0000] <Ms2ger>
Bah, bah, bah

[13:19:12.0000] <Ms2ger>
Are you putting those tests somewhere?

[13:19:40.0000] <Hixie_>
"tests"

[13:19:50.0000] <Ms2ger>
Yeah, those

[13:19:52.0000] <Hixie_>
i mention them in the bugs, sometimes.

[13:20:22.0000] <Ms2ger>
:/

[13:20:58.0000] <Hixie_>
writing and maintaining the tests is a separate full-time job

[13:21:06.0000] <Ms2ger>
Yeah, so

[13:21:09.0000] <Hixie_>
i simply can't do both that and edit the spec, as much as i'd love to

[13:21:18.0000] <Hixie_>
(i used to do the tests)

[13:21:26.0000] <Hixie_>
(but the specs needed work)

[13:21:26.0000] <Ms2ger>
Coming up with your evil cases is half the work

[13:21:38.0000] <Hixie_>
yeah, i put that half of the work in the bugs, like i said :-)

[13:21:51.0000] <Ms2ger>
Hmm

[13:21:58.0000] <Hixie_>
e.g. https://www.w3.org/Bugs/Public/show_bug.cgi?id=21771#c4 earlier

[13:22:14.0000] <Ms2ger>
Could I convince you to stick a keyword or something on bugs with such work?

[13:22:50.0000] <Hixie_>
they're the ones where i added a comment that includes the keyword "http://www.hixie.ch/tests" or the keyword "live-dom-viewer".

[13:23:04.0000] <Hixie_>
:-)

[13:23:09.0000] <Ms2ger>
Pah :)

[13:23:18.0000] <Hixie_>
seriously, that should hit all the bugs

[13:23:26.0000] <Hixie_>
and there'll be very few false positives

[13:23:31.0000] <Hixie_>
if any

[13:23:42.0000] <Ms2ger>
What do you do for emails?

[13:23:42.0000] <Hixie_>
maybe also damowmow.com/playground/

[13:23:56.0000] <Hixie_>
dunno, haven't been replying to those for like 6 months. :-P

[13:24:12.0000] <Hixie_>
i'll let you know when i resume... hopefully this month

[13:24:13.0000] <abarth>
Hixie_: sure,  can you file a bug at crbug.com/new and assign it to me?  that way I won't forget

[13:24:25.0000] <Hixie_>
abarth: on it

[13:25:25.0000] <Hixie_>
abarth: https://code.google.com/p/chromium/issues/detail?id=256797

[13:25:29.0000] <abarth>
thx

[13:26:18.0000] <Hixie_>
how the heck am i gonna make <img> form-associated without giving it a form="" attribute

[13:26:23.0000] <Hixie_>
damnit, this is gonna be a huge mess

[13:27:42.0000] <Ms2ger>
245 bugs

[13:27:45.0000] <Ms2ger>
/me sighs

[13:31:15.0000] <Hixie_>
with those keywords?

[13:32:17.0000] <Ms2ger>
Yeah

[13:32:27.0000] <Ms2ger>
That's in all components, though

[13:32:33.0000] <Ms2ger>
And not just your comments

[13:33:14.0000] <Hixie_>
yikes, that _is_ low. sorry. i'll try to be better about listing the urls.

[13:33:34.0000] <Ms2ger>
I've now got 4 saves searches that say something about tests

[13:33:38.0000] <Hixie_>
heh

[13:33:40.0000] <Ms2ger>
I would be grateful :)

[13:33:57.0000] <Ms2ger>
And I also should do something with those searches

[13:33:59.0000] <Ms2ger>
But not today

[13:36:55.0000] <Hixie_>
i can't figure out how to make it only comments i wrote, which is annoying

[13:37:43.0000] <Ms2ger>
Maybe with the boolean tables?

[13:37:50.0000] <Ms2ger>
/me should be off, though

[13:38:49.0000] <Hixie_>
i was trying with boolean tables

[13:39:05.0000] <Hixie_>
but it doesn't seem to restrict it to the same comment

[13:39:19.0000] <Ms2ger>
gsnedders, http://www.verisoft.de/StartPage.html

[13:39:32.0000] <Hixie_>
ok, bikeshed time. i need a term for "element that has a form="" attribute that allows it to be associated with a different <form> than its ancestor <form>"

[13:39:42.0000] <Hixie_>
"reassociatable" is the best i have so far.

[13:39:55.0000] <Hixie_>
spelt reassociateable

[13:39:56.0000] <Ms2ger>
Fair enough, ship it

[13:45:40.0000] <jgraham>
That doesn't make grammatical sense

[13:45:50.0000] <jgraham>
Oh wait it does

[13:46:04.0000] <jgraham>
I read "allows" as "causes"

[14:07:24.0000] <Hixie_>
i really love the way that <input type=image> is excluded from the form element's list of form controls, but <img> is included.

[15:12:24.0000] <Hixie_>
english needs a better scoping mechanism

[15:25:51.0000] <Hixie_>
GPHemsley: did i hear you were planning on speccing navigator.mimeTypes ?

[15:25:54.0000] <Hixie_>
or was that something else


2013-07-03
[23:29:30.0000] <galant>
any idea why iceweasel makes br elements when I insert new line feed and chgromium don't? but they both make new lines

[00:49:18.0000] <jgraham>
galant: Because content editable is a non-interoperable mess that for a long time didn't have any spec, now has a partial spec with no editor, and which it is almost impossible to bribe, bully or otherwise coerce browser devs to work on?

[00:53:35.0000] <crocket>
Is http://learn.shayhowe.com/html-css a good guide to HTML and CSS?

[01:23:15.0000] <annevk>
crocket: seems fine

[01:30:16.0000] <galant>
jgraham, fair enough :S

[01:30:23.0000] <galant>
omg I am sorry it is like that

[01:30:33.0000] <galant>
I see there is big big lag in html development

[01:30:35.0000] <galant>
any idea why is that?

[01:30:45.0000] <annevk>
lag?

[01:31:43.0000] <annevk>
The dire state of contenteditable="" doesn't directly translate to all of HTML, although I guess getting people to work on fixing bugs is much harder than getting them to work on adding new features.

[01:34:20.0000] <galant>
well lag in development

[01:34:26.0000] <galant>
I think people are working on other things

[01:34:42.0000] <galant>
I hope they will work on contenteditable

[01:38:19.0000] <annevk>
Don't know of any plans :/

[01:42:07.0000] <MikeSmith>
anybody know of any vendor plans to implement any of the following from the W3C canvas 2dcontext spec? Path object, addHitRegion, draw*FocusRing, scrollPathIntoView

[01:42:36.0000] <darobin>
part of the problem with contenteditable is that browsers don't want to fix their bugs because they almost always introduce regressions

[01:42:57.0000] <darobin>
there's a case for starting from scratch on this one

[01:44:26.0000] <MikeSmith>
yeah contenteditable seems beyond fixable practically

[01:48:19.0000] <annevk>
You guys sound like the people that started XHTML 2.0

[01:48:59.0000] <MikeSmith>
no, more like the guys that started the IRIbis WG

[01:50:26.0000] <annevk>
My plan btw is to import all of WebKit's tests into https://github.com/annevk/url and then see about integrating them with the testharness.js goodness

[01:50:41.0000] <annevk>
After I fixed bugs in the specification and my own implementation

[01:50:52.0000] <annevk>
Then file a bunch of bugs on browsers and see what people say

[01:50:58.0000] <MikeSmith>
what about Chris Weber's tests?

[01:51:03.0000] <annevk>
Already started a thread on dev-platform about cleaning up Mozilla's mess

[01:52:54.0000] <annevk>
MikeSmith: they're kinda of a mess. Some of them don't have passing criteria, a bunch of them are the WebKit tests. And it's all in one big massive file...

[01:53:08.0000] <MikeSmith>
ok

[01:53:26.0000] <annevk>
I was hoping he was going to do the legwork on making them work, but no activity in the past four months

[02:15:08.0000] <galant>
why the character &#x100AB; is showing on linux but not in windows? on windows I get empty square and on linux I get the character

[02:19:48.0000] <SimonSapin>
galant: missing fonts?

[02:30:03.0000] <Ms2ger>
MikeSmith, I don't know of any interest in implementing those in Gecko

[02:31:16.0000] <MikeSmith>
Ms2ger: OK, thanks

[02:34:01.0000] <MikeSmith>
hmm so all of those are in the HTML spec too already

[02:34:10.0000] <MikeSmith>
whatwg

[02:34:49.0000] <Ms2ger>
Yeah

[02:35:00.0000] <Ms2ger>
They're Hixie's... v5?

[02:35:36.0000] <MikeSmith>
I'm also trying to remember if there are any accessibility-related canvas features that are in the W3C 2d spec but not in WHATWG HTML

[02:36:29.0000] <Ms2ger>
Dunno

[02:36:48.0000] <Ms2ger>
But then again, I haven't got a track record of caring about them

[02:37:57.0000] <galant>
SimonSapin, I need fonts for displaying Unicode character

[02:39:38.0000] <SimonSapin>
Each font only supports some set of character. Getting an square instead of a proper glyph typically means that this system has no available font that support this character

[02:41:11.0000] <SimonSapin>
galant: using a webfont can help

[02:53:25.0000] <gallant>
SimonSapin, but just curious I need fonts to display some unicode character

[02:55:47.0000] <jgraham>
Umm, you need fonts to display nay character

[02:55:51.0000] <jgraham>
*any

[02:56:08.0000] <jgraham>
Not all fonts have all characters

[02:56:29.0000] <jgraham>
Because there is more demand for, say, ascii than Linear B

[02:57:11.0000] <annevk>
Also 💩

[03:05:46.0000] <gallant>
ok thanks

[03:14:25.0000] <smaug____>
/me is always surprised to see someone linking to W3C HTML5 spec

[03:14:31.0000] <annevk>
Ow... Apparently the URL standard is wacked with relative file URLs.

[03:15:07.0000] <darobin_>
aren't we all

[03:33:07.0000] <annevk>
Relative file URLs :-(

[03:36:51.0000] <gallant>
so fonts are basically graphical glyphs for representing unicode characters

[03:38:57.0000] <gallant>
I have one big problem

[03:39:01.0000] <gallant>
two actually

[03:39:04.0000] <chee>
only two

[03:39:10.0000] <chee>
what a dream

[03:39:49.0000] <gallant>
hehe

[03:40:34.0000] <gallant>
first smalelr problem when I insert backspace character with javascript on my html web page in contenteditable element previous character before caret position for writing is not deleted

[03:40:50.0000] <gallant>
any idea why this is happening?

[03:41:11.0000] <gallant>
instead of deleting previous character, the caret/cursor position for writing goes in the start of the line

[03:43:21.0000] <annevk>
https://github.com/inikulin/parse5 "Fast full-featured HTML parser for Node"

[03:45:40.0000] <sangwhan_>
Coming soon: a full-featured browser for Node

[03:50:50.0000] <Ms2ger>
Opera for Compute^WNode?

[03:51:03.0000] <jgraham>
heh

[03:51:23.0000] <Ms2ger>
Surely Opera will have done it first

[03:55:24.0000] <jgraham>
http://code.google.com/p/es-operating-system/ <- I think this guy did, sort of. Dunno if Node is involved really though

[03:55:55.0000] <gallant>
second big problem is when  I insert line feed character in linux in chromium I get new line but cursor is in previous line, then after typng one letter it goes in correct line

[03:56:18.0000] <gallant>
in iceweasel it is fine and iceweasel(firefix) is making br tags for line feed character

[03:58:42.0000] <sangwhan_>
jgraham: It's not Node, more of C++11 although a lot of things are generate from IDL afaik

[03:59:04.0000] <sangwhan_>
*generated

[03:59:37.0000] <annevk>
jgraham: https://twitter.com/annevk/status/345406701438119936

[04:00:27.0000] <jgraham>
Oh, I see

[04:00:30.0000] <jgraham>
How confusing

[04:01:20.0000] <annevk>
Given that NES predates JavaScript by a number of years, lets blame ECMA :-)

[04:05:05.0000] <Ms2ger>
And brendan

[04:13:38.0000] <gallant>
 what are the squeares which I get when I copy paste few lines from irc chat <gallant> at the start of each new line I get square icon and there are 4 small characters inside it what are those? omg this is exactly what I need  what are this squares?

[04:36:15.0000] <schalkneethling>
hey there everyone

[04:36:32.0000] <schalkneethling>
so I have a quick question regarding the main element and it's use in a document

[04:36:44.0000] <schalkneethling>
so, reading the spec here: http://www.w3.org/TR/html51/grouping-content.html#the-main-element

[04:37:06.0000] <Ms2ger>
I don't think you'll find a lot of people here with an interest in that fork.

[04:37:52.0000] <schalkneethling>
well it is more of a use question, I just happened to be looking there first, let me look on the whatwg page first

[04:41:21.0000] <schalkneethling>
I do not see specific mention of the following in http://www.whatwg.org/specs/web-apps/current-work/multipage/grouping-content.html#the-main-element but here goes. So in the W3C docs it states "the main element as a descendant of an article, aside, footer, header or nav element" but does not mention the div element however, if I run a page through Validator S.A.C it errors in that a main element cannot be a decendant of

[04:41:22.0000] <schalkneethling>
a div

[04:41:30.0000] <schalkneethling>
is this correct or is it a bug in the validator?

[04:44:45.0000] <MikeSmith>
what's Validator SAC?

[04:45:32.0000] <schalkneethling>
it's a build of the W3C validator that runs on your local machine

[04:45:50.0000] <schalkneethling>
http://habilis.net/validator-sac/

[04:47:07.0000] <MikeSmith>
schalkneethling: try using http://html5.validator.nu/ directly

[04:47:16.0000] <MikeSmith>
or http://validator.w3.org/nu/

[04:47:33.0000] <schalkneethling>
it is for a page running on my local machine via localhost

[04:47:41.0000] <schalkneethling>
suggestion on pushing the rendered content there?

[04:47:51.0000] <schalkneethling>
it is django based

[04:48:31.0000] <schalkneethling>
so running a validator in my editor is not an option for this instance

[04:49:04.0000] <MikeSmith>
whatever the markup of the source is that you're feeding to that local validator, make a static copy of it

[04:49:11.0000] <schalkneethling>
perhaps there is an extension for chrome that submits this, I know the web developer toolbar used to do this in Firefox but last I checked it is not compatible with the latest FF anymore

[04:49:45.0000] <schalkneethling>
MikeSmith: let me give it a go again

[04:53:17.0000] <schalkneethling>
MikeSmith: hot sauce, that actually worked this time. On previous runs I ran into some issues but all seems good now

[04:53:18.0000] <schalkneethling>
thanks

[04:53:46.0000] <MikeSmith>
ok

[04:54:34.0000] <MikeSmith>
anyway was far as what the validator checks currently, the main element can be descendant of a div, as long as that div is not a descendant of an article, aside, footer, header or nav

[04:57:04.0000] <schalkneethling>
MikeSmith: yes, agreed

[04:57:53.0000] <schalkneethling>
yeah, so the SAC validator has a bug there clearly as the same source passes on validator.w3.org

[04:57:59.0000] <MikeSmith>
schalkneethling: you can install and run the validator locally without using that thing

[04:58:15.0000] <schalkneethling>
MikeSmith: I reckon I am going to do that

[04:58:30.0000] <GPHemsley>
Hixie_: navigator.mimeTypes is the list of MIME types the browser supports, right? I hadn't planned on speccing that. (I thought someone else already did?)

[04:58:43.0000] <GPHemsley>
Hixie_: I was thinking about window.mimeType/contentType

[04:58:48.0000] <schalkneethling>
last time I was pressed for time and that seemed like a quick and easy way, but seems like it is going to be better to spend a little time and get it set-up properly

[04:59:09.0000] <MikeSmith>
schalkneethling: see the instructions at https://bitbucket.org/validator/build/src and feel free to ping me here if you have problems with it

[04:59:23.0000] <schalkneethling>
thanks MikeSmith will do.

[05:02:01.0000] <MikeSmith>
jgraham: fyi http://lists.w3.org/Archives/Public/public-audio/2013JulSep/0016.html

[05:02:28.0000] <MikeSmith>
about using testharness.js with for Web Audio tests

[05:02:45.0000] <MikeSmith>
"You might want to look at http://mxr.mozilla.org/mozilla-central/source/content/media/webaudio/test/webaudio.jsto see how Ehsan created a little framework for simplifying Web Audio tests, and see if we can build something like that on top of testharness.js."

[05:07:00.0000] <jgraham>
Hmm, at least some of that file looks like it is already in testharness.js and some of the rest looks like it could be

[05:09:33.0000] <MikeSmith>
it looks pretty straightforward. I guess I should be it didn't require something more complicated, given the baroqueness of that spec

[05:09:48.0000] <MikeSmith>
*should be surprised

[05:14:45.0000] <Ms2ger>
jgraham, yeah, I poked ehsan about that

[05:17:13.0000] <jgraham>
Replied to that mail

[05:17:44.0000] <Ms2ger>
Oh, and I got complaints about the lack of window.onerror in th.js

[05:23:03.0000] <MikeSmith>
/me reads jgraham reply

[05:23:35.0000] <MikeSmith>
"fuzzyCompare is spelled assert_approx_equals"

[05:24:32.0000] <MikeSmith>
in other news, bravo Jirka http://lists.w3.org/Archives/Public/public-webapps/2013JulSep/0027.html

[05:24:52.0000] <gallant>
can I do iframe in iframe?

[05:26:29.0000] <SimonSapin>
gallant: Try it? But I think yes

[05:29:07.0000] <gallant>
ok thanks

[05:57:53.0000] <jgraham>
Speaking of web audio tests https://critic.hoppipolla.co.uk/r/200

[05:58:32.0000] <Ms2ger>
200!

[06:08:40.0000] <jgraham>
Ms2ger: "The lack of window.onerror" isn't really a complaint. What actual feature were they missing?

[06:09:01.0000] <Ms2ger>
Catching errors outside tests

[06:09:23.0000] <jgraham>
And doing what?

[06:09:34.0000] <Ms2ger>
Failing somehow, I guess

[06:09:54.0000] <Ms2ger>
https://bugzilla.mozilla.org/show_bug.cgi?id=885107

[06:10:15.0000] <jgraham>
So I guess one possibility would be to add an extra result to every test file "tests completed successfully"

[06:10:40.0000] <jgraham>
And anything that reached onerror would fail that "test"

[06:18:12.0000] <jgraham>
Or, actually, the harness already has an overall status

[06:18:25.0000] <jgraham>
So it could be set to error when the test errors

[06:19:44.0000] <jgraham>
OK, I think I see how to fix this

[06:20:05.0000] <Ms2ger>
I'm happy to hear that :)

[06:30:44.0000] <steven__>
Ms2ger: strictly speaking the WHATWG definition of main is a fork of the W3C definition :-)

[06:46:09.0000] <Hixie_>
technically the two <main> definitions are unrelated

[06:46:13.0000] <Hixie_>
neither was a copy of the other

[06:48:27.0000] <hsivonen>
huh. is whatwg mailman not sending out monthly reminders?

[06:49:51.0000] <steven__>
Hixie_:fine by me

[06:55:05.0000] <jgraham>
So wait. You mean there is no fork?

[07:00:48.0000] <steven__>
jgraham: no, just 2 definitions  HTML elements that happen to share the same name

[07:43:38.0000] <Hixie_>
wasn't there a bug on the 'const DOMString product = "Gecko"' thing?

[07:43:41.0000] <Hixie_>
i can't find it anywhere...

[07:45:31.0000] <Hixie_>
ah, bug 21591

[07:46:13.0000] <Hixie_>
heycam|away: if you could give me a yay/nay on bug 21591 that'd be great

[08:12:56.0000] <smaug____>
I wonder if EventTarget could have a method removeCurrentListener();

[08:13:14.0000] <smaug____>
it would remove the currently called listener

[08:14:19.0000] <smaug____>
or perhaps addEventlistenerForOneEvent()... tiny bit long name

[08:16:21.0000] <jgraham>
People keep trying and failing to improve the event api

[08:44:24.0000] <jgraham>
So does (unprefixed) flexbox support suck in non-presto, or am I doing it wrong?

[08:48:39.0000] <jgraham>
Ah, the problem in Firefox was my fault / a presto bug

[08:49:46.0000] <jgraham>
Chrome 29.0.1521.3 dev claims that display:flex is an invalid property value

[09:02:19.0000] <hasather>
jgraham: it's prefixed

[09:02:20.0000] <Domenic_>
Is <command> dead in favor of <menuitem>?

[09:03:07.0000] <dglazkov>
good morning, Whatwg!

[09:03:54.0000] <jgraham>
hasather: So much for caniuse.com

[09:03:58.0000] <jgraham>
Also, why?

[09:05:37.0000] <Hixie_>
Domenic_: yes

[09:05:53.0000] <gsnedders>
jgraham: So they can change property names at LC again, duh.

[09:05:54.0000] <hasather>
jgraham: https://code.google.com/p/chromium/issues/detail?id=249111

[09:08:16.0000] <Domenic_>
Hixie_: thanks.

[09:08:49.0000] <Domenic_>
Next question: do void elements like <menuitem /> work in oldIEs or am I screwed if I want to try and polyfill these? (Assuming `document.createElement('menuitem')`)

[09:12:52.0000] <Domenic_>
Hmm seems to work

[09:13:26.0000] <Hixie_>
depends on what you mean by "work" and what you mean by "old"

[09:13:40.0000] <Domenic_>
IE8 really

[09:14:02.0000] <Domenic_>
the DOM tree according to the dev tools seems sane, which was my main concern

[09:15:28.0000] <Domenic_>
Of course because they put their text in an attribute instead of the content I'm not going to have a good time (:after { content: attr(label); } doesn't seem to work in IE8). Ah well, I think I'll go back to <li>s.

[09:17:24.0000] <Hixie_>
oh well you shouldn't use <menuitem> if you're not triggering the native context menu stuff

[09:18:11.0000] <Domenic_>
Hmm I thought that long thread was saying that <menu> was mainly styled through CSS now.

[09:18:55.0000] <Domenic_>
Oh I see but the example uses <li>s interesting...

[09:19:33.0000] <Hixie_>
long thread?

[09:19:50.0000] <Domenic_>
the one where you outlined the overhaul of <menu>

[09:19:59.0000] <Domenic_>
i guess the thread wasn't long, just the OP

[09:20:09.0000] <Hixie_>
oh the old one?

[09:20:15.0000] <Hixie_>
thought you meant a recent thread :-)

[09:20:21.0000] <Domenic_>
yeah old :)

[09:20:58.0000] <Domenic_>
hmm so visually and semantically i am trying to build a popup menu, but only toolbars allow <li>s...

[09:22:52.0000] <Domenic_>
i do have the escape hatch of saying that i'm inside a custom element (<my-dropdown><button>I trigger the popup menu</button><menu><li>Option 1</li><li>Option 2</li></menu></my-dropdown>) and thus the usual rules don't apply, I think

[09:23:49.0000] <Hixie_>
"usual rules"?

[09:23:51.0000] <Hixie_>
why would they not apply?

[09:24:36.0000] <Domenic_>
Well we were discussing this in the polymer-dev google group and kind of came to the conclusion that inside a custom element, you can give custom semantics to existing elements.

[09:24:57.0000] <Hixie_>
uh no

[09:25:02.0000] <Hixie_>
that would screw up the accessibility layer

[09:25:03.0000] <Domenic_>
hmm

[09:26:04.0000] <Domenic_>
maybe I should just do <my-menu> then... kind of a shame.

[09:29:32.0000] <Hixie_>
i don't really understand what you're trying to do

[09:29:47.0000] <Hixie_>
if you want a <button> with a drop-down menu, then <button menu=""> is meant to do just that

[09:37:04.0000] <Domenic_>
Yeah fair I haven't exactly been clear

[09:38:31.0000] <Domenic_>
I am trying for basically exactly <button menu=""> except with custom styles for the menu (so I guess it can't be a <menu type="popup">), and I am using an AngularJS custom element wrapping both to (a) avoid having to introduce id's; (b) work in older browsers.

[09:38:58.0000] <Domenic_>
That's kind of off topic though so I was hoping to just pop in with a few relevant questions about <menu>. It seems to have snowballed :P

[09:39:48.0000] <Hixie_>
oh there's no topic here

[09:40:48.0000] <Hixie_>
there's nothing in theory about <menu> that makes it unstyleable, as far as i recall

[09:41:13.0000] <Hixie_>
of course, someone would have to implement it first :-)

[09:41:30.0000] <Ms2ger>
Surely it not being implemented makes it stylable :)

[09:41:42.0000] <Domenic_>
Well <menu type="popup"> only allows <menu>/<menuitem> children, and I guess the intent is that those are always browser-native widgets

[09:41:50.0000] <Hixie_>
that's not the intent, no

[09:42:01.0000] <Domenic_>
oh!

[09:42:06.0000] <Hixie_>
or rather, the intent is that they be browser-implemented widgets, but there's no reason they shouldn't be styled

[09:42:10.0000] <Hixie_>
at least in theory

[09:42:13.0000] <Hixie_>
MikeSmith: yt?

[09:42:36.0000] <Domenic_>
right, so they would be more like <button> than <select> is what you're saying.

[09:42:50.0000] <Hixie_>
no reason <select> shouldn't be styleable either

[09:42:56.0000] <Domenic_>
heh fair

[09:43:46.0000] <Ms2ger>
And it is styleable, but only in ugly ways :)

[09:44:18.0000] <Hixie_>
i'm hoping once we have web components we'll be able to define how all the native elements work

[09:44:22.0000] <Hixie_>
which should make them all styleable

[09:44:35.0000] <Hixie_>
(dglazkov: ^)

[09:44:35.0000] <Domenic_>
Hixie_: +1 that will be awesome

[09:44:56.0000] <Ms2ger>
Clearly we should implement form elements in XBL

[09:45:53.0000] <Domenic_>
ok so sounds like <menu type="popup"> + <button menu=""> would be perfect, except for the non-polyfillableness in IE8 which doesn't support `menuitem:after { content: attr(label); }`. And of course forward-compatibility concerns. Ah well, good to know the future is at least bright!

[09:46:10.0000] <Hixie_>
Ms2ger: well that was my original plan, but web components is basically an alternative reality version of xbl

[09:46:37.0000] <Hixie_>
Domenic_: you can shim it in different ways. e.g. have a script replace them with <div>s.

[09:48:13.0000] <Ms2ger>
Hixie_, you remember when Gecko actually did that? ;)

[09:48:17.0000] <Domenic_>
Hixie_: true. might be worth experimenting with. But then my CSS and my markup don't correspond anymore, unlike the solution I'm leaning toward of <my-menu><li>Option1</li><li>Option2</li></my-menu>

[09:48:31.0000] <Ms2ger>
/me can't recall if that was Hixie's or bz's internship

[09:48:56.0000] <Hixie_>
Ms2ger: not successfully right?

[09:49:11.0000] <Hixie_>
i mean, xul widgets were xbl, not i don't think html widgets have ever been xbl in mozilla

[09:49:26.0000] <Ms2ger>
I've removed some of that code at some point

[09:49:32.0000] <Hixie_>
Domenic_: <li> is only allowed in <ul> or <ol> or <menu> :-P

[09:49:33.0000] <Ms2ger>
Not sure if it was ever turned on

[09:49:50.0000] <Hixie_>
i don't think it was

[10:26:24.0000] <jgraham>
Yeah, seriously, I remember in  like 2002 or something when XBL widgets would be turned on Real Soon Now and solve all form styling problems. Now it is 2013 and XBL^WWeb Components widgets will be turned on Real Soon Now and solve all form control styling problems

[10:27:46.0000] <Hixie_>
yup

[10:27:48.0000] <TabAtkins>
I'm still not sure how we're going to solve the form control styling problems.  I think a lot of people are very naive about the problems with form controls.

[10:28:05.0000] <Hixie_>
why?

[10:29:06.0000] <TabAtkins>
Because I've seen at least three distinct version of a time input on Android across OS versions, which would share only the most minimal of styling concerns, and all of which are different from how it looks on desktop Chrome.

[10:29:51.0000] <Hixie_>
jgraham: i'm getting timeouts from your anolis instance

[10:29:53.0000] <TabAtkins>
There was the one where each segment of the time was a vertical spinny wheel, one where it was a direct number input with specialized formatting, and one where it's an analog clock display.

[10:30:42.0000] <Hixie_>
TabAtkins: yeah, you'd probably have to bind to a new component if you wanted more than just colour changes.

[10:31:09.0000] <Hixie_>
TabAtkins: but in general back with xbl2 the idea is you'd expose pseudo-elements for the parts that you have

[10:31:13.0000] <Hixie_>
TabAtkins: and let people style those

[10:31:19.0000] <Hixie_>
and they would map straight to real elements in the shadow

[10:31:24.0000] <jgraham>
https://bugzilla.mozilla.org/show_bug.cgi?id=57209 for anyone that likes old bugs

[10:32:05.0000] <jgraham>
Hixie_: Oh. I will look and see if there is anything in the logs

[10:32:05.0000] <Hixie_>
anyone understand https://www.w3.org/Bugs/Public/show_bug.cgi?id=22531 ?

[10:32:13.0000] <jgraham>
Just as soon as I remember where the log are

[10:32:18.0000] <Hixie_>
jgraham: thanks

[10:33:05.0000] <TabAtkins>
Hixie: The bug just wants you to wrap the spec's contents in a <center>.

[10:33:16.0000] <Hixie_>
that's all i cound get out of it too

[10:33:26.0000] <Hixie_>
i think i disagree with the premise of the request...

[10:35:07.0000] <TabAtkins>
Also possibly it's asking you to do narrower text, centered?  Like what CSS specs do.

[10:35:12.0000] <TabAtkins>
In our EDs, at least.

[10:35:23.0000] <TabAtkins>
Limiting the line length is important for readability.

[10:35:48.0000] <gsnedders>
/me would dearly love the spec to have a limited line length

[10:36:28.0000] <jgraham>
Centered?

[10:36:42.0000] <jgraham>
That's crazt-talk

[10:36:45.0000] <TabAtkins>
Not like text-align:center.  Just put the extra margin space on both sides.

[10:36:54.0000] <jgraham>
Oh, right

[10:37:01.0000] <jgraham>
That's not crazy

[10:37:45.0000] <jgraham>
Although actually with the HTML spec I'm not sure it would make me happy

[10:37:54.0000] <jgraham>
Hixie_: Well I see timeouts too

[10:38:14.0000] <jgraham>
My best guess so far is that things are just taking too long

[10:38:28.0000] <Hixie_>
that would make sense

[10:39:23.0000] <jgraham>
(this host has some reverse-proxy setup which means that cgi-type scripts that take too long to run never return anything)

[10:39:59.0000] <jgraham>
(because the frontend server has a fixed timeout)

[10:40:36.0000] <Hixie_>
d'oh

[11:02:27.0000] <Hixie_>
jgraham: any suggestions? other than "make the spec smaller"? :-)

[11:02:42.0000] <Ms2ger>
Make the spec vaguer

[11:06:30.0000] <jgraham>
Hixie_: Modularization? :p

[11:08:18.0000] <Hixie_>
i guess one option is for me to just reimplement anolis in a more efficient language

[11:08:22.0000] <Hixie_>
("just")

[11:09:42.0000] <Ms2ger>
Profile it? :)

[11:09:53.0000] <jgraham>
Well a simpler option would be to run it on your own machine without the fixed timeouts

[11:10:07.0000] <Hixie_>
the reason i use yours is that my machine can't handle it at all :-)

[11:10:13.0000] <Hixie_>
the kernel kills html5lib trying to parse it

[11:10:21.0000] <jgraham>
Anyway, I am trying upgrading the libraries in case they got faster

[11:10:33.0000] <Hixie_>
ah, cool

[11:10:34.0000] <jgraham>
Huh, doesn't it use lxml for parsing?

[11:10:46.0000] <Hixie_>
i thought we used lxml for serialising, or something

[11:10:47.0000] <Hixie_>
maybe?

[11:10:49.0000] <Ms2ger>
I'm not sure lxml would deal

[11:10:55.0000] <jgraham>
And also, why does your kernel do that?

[11:10:56.0000] <Hixie_>
either way, it wasn't successful.

[11:11:31.0000] <Hixie_>
so that the site doesn't stop responding

[11:11:43.0000] <Hixie_>
with an app taking all the cpu and memory

[11:12:31.0000] <jgraham>
Oh

[11:12:54.0000] <jgraham>
You mean your dreamhost machine or something?

[11:12:57.0000] <Hixie_>
yeah

[11:13:04.0000] <Hixie_>
(that's where i edit the spec)

[11:17:22.0000] <jgraham>
So, I just updated some stuff

[11:17:27.0000] <jgraham>
Probably broke the world

[11:17:58.0000] <SimonSapin>
this side of the world doesn’t look too broken yet

[11:24:03.0000] <Hixie_>
/me checks

[11:24:34.0000] <Hixie_>
uh

[11:24:41.0000] <Hixie_>
something broke, but something long before your code gets involved...

[11:24:56.0000] <Hixie_>
what the heck was that

[11:25:10.0000] <Hixie_>
weird

[11:25:23.0000] <Hixie_>
maybe the cldr updater or the entity updater

[11:25:25.0000] <Hixie_>
something stalled for a bit

[11:25:27.0000] <Hixie_>
anyway...

[11:27:00.0000] <Hixie_>
woot, it didn't time out

[11:27:05.0000] <Hixie_>
it did change a lot though

[11:27:06.0000] <Hixie_>
let's see

[11:27:31.0000] <Hixie_>
some reordered attributes, ok...

[11:27:50.0000] <Hixie_>
<i> isn't cross-referenced any more?

[11:28:05.0000] <Hixie_>
<var> either

[11:28:11.0000] <Hixie_>
oh, probably because of title="" being renamed...

[11:28:23.0000] <Hixie_>
is there some flag i need to pass to keep on using old-style title="" cross-references?

[11:28:36.0000] <jgraham>
Ask Ms2ger

[11:28:38.0000] <Ms2ger>
You're running anolis manually now?

[11:28:44.0000] <Hixie_>
i'd love to update to, like, data-x="", but i have zillions of lines to update

[11:28:56.0000] <Hixie_>
no, running jgraham's

[11:29:10.0000] <Ms2ger>
--w3c-compat-xref-elements I guess

[11:30:43.0000] <Hixie_>
uh weird, \2019 has turned rsquo into rsquor

[11:30:46.0000] <Hixie_>
wonder if that's a bug

[11:31:02.0000] <jgraham>
It is possible that there is a new option in the last N years since anolis was updated that isn't exposed in the UI

[11:31:12.0000] <Hixie_>
oh interesting, those are identical!

[11:31:15.0000] <Hixie_>
weird

[11:31:27.0000] <Ms2ger>
rsquor is probably mathmlish?

[11:31:30.0000] <Hixie_>
jgraham: well i'm not really using the visual UI

[11:31:38.0000] <Hixie_>
jgraham: i'm just doing a wget :-)

[11:32:05.0000] <Hixie_>
jgraham: can you try adding --w3c-compat-xref-elements?

[11:32:54.0000] <jgraham>
Hixie_: Well you're not using the visual UI but you are using the same form processing code

[11:32:59.0000] <Hixie_>
yeah

[11:35:23.0000] <jgraham>
Hixie_: Looks like you can add w3c_compat_xref_elements to the query string

[11:35:43.0000] <Hixie_>
=on?

[11:35:45.0000] <jgraham>
(maybe =1 or something although I'm not sure it matters)

[11:36:04.0000] <Hixie_>
i have w3c_compat_xref_a_placement=on, whatever that is

[11:36:06.0000] <Hixie_>
fwiw

[11:36:15.0000] <jgraham>
=on is probably fine

[11:36:35.0000] <jgraham>
The stuff after the = sign gets ignored for boolean parameters

[11:36:46.0000] <joshuaAdarme>
hello?

[11:37:02.0000] <Hixie_>
trying...

[11:38:27.0000] <Ms2ger>
TabAtkins, yeah, you always sound like that

[11:39:10.0000] <Hixie_>
validator.nu is one of my main bottlenecks now, it seems

[11:39:14.0000] <Hixie_>
jgraham: looks like that fixed it! thanks!

[11:39:37.0000] <Hixie_>
ok, bbiab. thanks again!

[11:40:32.0000] <Ms2ger>
Your wish is our command, sir :)

[12:11:35.0000] <kerp>
I can't find any reference to a proposed solution to text-overflow: ellipsis with wrapping text (which I thought someone here had mentioned). ring any bells?

[12:15:43.0000] <TabAtkins>
Ms2ger: ...when have you heard me?

[12:17:49.0000] <TabAtkins>
Oh man, my s/the cloud/my butt/ extension doesn't trigger as often as I'd like, but when it does, it's SO WORTH IT.

[12:18:19.0000] <TabAtkins>
From Henri's twitter: "Anyone with a credit card can get a Linux VM in my butt, but configuring iptables and ip6tables is harder. :-("

[12:19:24.0000] <gsnedders>
…

[12:19:31.0000] <gsnedders>
No, really, ….

[12:30:18.0000] <jgraham>
gsnedders: Don't worry, if we ever need to get TabAtkins locked up, I think that will be quite enough evidence

[12:31:00.0000] <TabAtkins>
Hahahahaha

[12:44:56.0000] <Ms2ger>
TabAtkins, you speak a lot :)

[12:52:53.0000] <TabAtkins>
Ms2ger: Point.

[12:56:58.0000] <Hixie_>
jgraham: it timed out again :-(

[13:00:48.0000] <TabAtkins>
Hixie_: Your dream of collecting the entire web platform into one spec is dashed by technology.

[13:02:18.0000] <Hixie_>
i guess it's time i wrote my own anolis

[13:02:53.0000] <Ms2ger>
Maybe you should try weird Glenn's tool

[13:02:58.0000] <Ms2ger>
Or ReSpec

[13:03:05.0000] <Hixie_>
glenn's tool?

[13:03:11.0000] <Hixie_>
respec is a non-starter.

[13:03:50.0000] <Ms2ger>
The one where you define everything inline in IDL blocks

[13:04:13.0000] <Hixie_>
are you just trolling me :-P

[13:04:29.0000] <Ms2ger>
Just listing the current alternatives :)

[13:04:45.0000] <Ms2ger>
Maybe Bert's tool is faster?

[13:04:57.0000] <Ms2ger>
On the one hand, it's a lot of C

[13:05:00.0000] <Hixie_>
bert's tool couldn't handle the html spec like 5 years ago

[13:05:03.0000] <Ms2ger>
On the other, the rest is shell

[13:05:05.0000] <Hixie_>
that's why anolis was made

[13:05:06.0000] <Hixie_>
:-)

[13:07:58.0000] <TabAtkins>
Try mine?  It's like a simpler anolis, but only specialized for the CSSWG so far.

[13:08:23.0000] <TabAtkins>
However, it depends on what's failing in anolis.

[13:08:30.0000] <Ms2ger>
Speed

[13:08:45.0000] <TabAtkins>
Just run it locally, then.

[13:08:48.0000] <Ms2ger>
Basically, someone decided to write an enormous spec

[13:09:01.0000] <Ms2ger>
And he edits it on the same box that serves whatwg.org

[13:09:22.0000] <Ms2ger>
And that box times anolis out when running there

[13:10:08.0000] <jgraham>
Right, and now *I* run it on a shared host

[13:10:14.0000] <jgraham>
Which also times it out

[13:11:08.0000] <jgraham>
So the problem is either a) the size of the spec b) Ms2ger/gsnedders' code c) Python or d) Shared hosting

[13:11:16.0000] <jgraham>
Depending on your point of view

[13:11:19.0000] <Ms2ger>
Or all of them

[13:11:32.0000] <Ms2ger>
Also, you're not running any code of mine, afaik

[13:11:36.0000] <Ms2ger>
Just gsnedders's

[13:11:40.0000] <jgraham>
I'm not?

[13:11:51.0000] <jgraham>
I just pulled the code from your bitbucket at least

[13:12:26.0000] <Ms2ger>
Not http://hg.hoppipolla.co.uk/hgwebdir.cgi/anolis/?

[13:12:34.0000] <jgraham>
No

[13:12:37.0000] <Hixie_>
i think the problem is all of the above, but i mainly blame python :-)

[13:12:49.0000] <jgraham>
Not sure that's fair

[13:13:06.0000] <jgraham>
Most of the performance critical parts are really C

[13:13:21.0000] <Hixie_>
well then  e) the C code

[13:13:36.0000] <jgraham>
(lxml/libxml2)

[13:14:08.0000] <jgraham>
Of course the overall struture of the program probably isn't optimal

[13:14:31.0000] <Ms2ger>
I'm pretty sure it isn't

[13:14:48.0000] <kerp>
anybody know of a proposal to get something like text-overflow: ellipsis for wrapped text? tell me I didn't dream this

[13:15:46.0000] <Ms2ger>
I still blame gsnedders, though :)

[13:16:33.0000] <jgraham>
So I'm sure that rewriting in go/haskell/rust could improve performance

[13:16:48.0000] <jgraham>
But so could optimising the exiting code

[13:17:01.0000] <jgraham>
And that wouldn't mean implementing a new HTML parser

[13:17:29.0000] <Ms2ger>
Hmm, maybe I could use hsivonen's translation-to-rust

[13:17:43.0000] <Ms2ger>
But then again, rust is dog slow

[13:17:57.0000] <jgraham>
Faster than python

[13:18:10.0000] <Ms2ger>
Right now?

[13:18:14.0000] <jgraham>
(can't say anything about hsivonen's autogenerated rust ofc)

[13:19:02.0000] <SimonSapin>
Ms2ger: rust is slow, you mean runtime or just compilation?

[13:19:12.0000] <Ms2ger>
Runtime is the issue at hand

[13:19:22.0000] <TabAtkins>
kerp: What do you mean?  ellipsis already works for wrapped text, though it's per-line.

[13:19:37.0000] <jgraham>
http://attractivechaos.wordpress.com/2013/04/06/performance-of-rust-and-dart-in-sudoku-solving/ is the only page I can see with both rust and python numbers

[13:20:06.0000] <jgraham>
And that's PyPy

[13:20:11.0000] <jgraham>
And Rust is still fast

[13:20:12.0000] <jgraham>
er

[13:20:49.0000] <kerp>
TabAtkins: what do you mean 'per-line'? I mean that text is truncated with ellipsis after some number of lines

[13:20:51.0000] <jgraham>
Also http://pcwalton.github.io/blog/2013/04/18/performance-of-sequential-rust-programs/ doesn't look too bad

[13:21:09.0000] <TabAtkins>
kerp: Okay, that's definitely been discussed, but hasn't made it into a spec yet.

[13:21:10.0000] <jgraham>
So [citation needed] on rust being very slow

[13:21:28.0000] <Ms2ger>
The conversation in #rust just now :)

[13:21:31.0000] <kerp>
TabAtkins: that's what I thought. I guess the list archive just isn't indexed

[13:21:35.0000] <Ms2ger>
But to be fair, they were talking about C++

[13:21:47.0000] <TabAtkins>
kerp: No, it is.  But it's also kinda terrible to search for.

[13:22:00.0000] <kerp>
TabAtkins: but what did you mean by 'wrapped ... per-line'?

[13:22:02.0000] <TabAtkins>
Look for "block-overflow"

[13:22:07.0000] <kerp>
thank you!

[13:22:37.0000] <TabAtkins>
kerp: text-overflow right now applies per-line.  If any line overflows the box, it gets ellipsized.

[13:22:54.0000] <TabAtkins>
Given normal text wrapping that won't normally occur, but it can if one word is extra long and it's a narrow element, for example.

[13:23:45.0000] <kerp>
I see

[13:23:49.0000] <TabAtkins>
kerp: Check out the examples at http://dev.w3.org/csswg/css-ui/#text-overflow

[13:24:00.0000] <Ms2ger>
jgraham, have I asked earlier if you guys had tests for box-sizing?

[13:24:22.0000] <jgraham>
Ms2ger: Maybe?

[13:24:39.0000] <jgraham>
I am trying to remember if that's the thing that zcorpan wrote a program to generate tests for

[13:24:44.0000] <jgraham>
And it made too many tests

[13:25:10.0000] <jgraham>
Maybe that was object-fit

[13:26:30.0000] <Ms2ger>
Sounds like something that zcorpan would do

[13:27:06.0000] <Ms2ger>
/me looks at the time, wanders off

[13:27:24.0000] <jgraham>
(that was object-fit)

[13:27:41.0000] <jgraham>
grep isn't returning anything promising yet

[13:28:31.0000] <Ms2ger>
Will try to find another victim then, I guess

[13:28:35.0000] <Ms2ger>
Thanks for looking

[13:33:04.0000] <kerp>
TabAtkins: no joy in mudville :/

[13:33:45.0000] <TabAtkins>
kerp: Dunno, man.  I get results when searching my email for that.

[13:33:57.0000] <kerp>
subject?

[13:35:06.0000] <kerp>
since I've already put you to that much trouble :)

[13:44:08.0000] <gsnedders>
jgraham: Bah, the parser is much quicker than it used to be!

[13:45:21.0000] <jgraham>
gsnedders: If Hixie is using the parser then no wonder it is timing out

[13:45:33.0000] <gsnedders>
I thought Hixie_ was using the libxml2 parser?

[13:45:49.0000] <gsnedders>
The slowness of the rest of Anolis is really just Python being slow.

[13:46:04.0000] <jgraham>
He is

[13:46:53.0000] <gsnedders>
Should try running Anolis under PyPy with lxml-cffi

[13:46:53.0000] <jgraham>
Not really? Isn't it based on multiple passes over the tree for different options?

[13:48:08.0000] <jgraham>
Would be interesting if it is actually stable

[13:49:10.0000] <gsnedders>
IIRC the actual time spent iterating is almost nothing; I did experiment with doing global passes of the tree but it gained almost nothing.

[13:50:21.0000] <gsnedders>
jgraham: Only problem is lxml-cffi currently requires PyPy tip

[13:51:38.0000] <TabAtkins>
kerp: "block-overflow" ^_^

[13:53:07.0000] <kerp>
TabAtkins: list archive search condenses that to "blockoverflow" and can't find either that or "block overflow" :/

[13:53:17.0000] <TabAtkins>
kerp: Never ever use the list archive.

[13:53:30.0000] <TabAtkins>
do a google search with "site:http://lists.w3.org block-overflow"

[13:53:57.0000] <TabAtkins>
Yeah, first results on that are useful.

[13:54:00.0000] <kerp>
ah. not lists.whatwg.org

[13:54:13.0000] <TabAtkins>
kerp: That would certainly explain the lack of results, yes. ^_^

[13:54:20.0000] <kerp>
:D

[13:54:30.0000] <TabAtkins>
This is CSS stuff, it's done by the W3C.

[13:54:52.0000] <kerp>
/me derp

[13:57:09.0000] <kerp>
thanks for taking the time. was driving me crazy. I really hope this gets through

[13:57:23.0000] <TabAtkins>
Yeah, me too.

[15:04:35.0000] <heycam>
Hixie_, I'm OK with adding string constants, so please continue to use it

[15:05:04.0000] <Hixie_>
oh hey, heycam!

[15:05:09.0000] <heycam>
hi Hixie_

[15:05:14.0000] <Hixie_>
i just asked you a question on bug 21946

[15:05:45.0000] <heycam>
/me looks

[15:06:30.0000] <Hixie_>
re the constants, will they be distinguishable from  "readonly attribute DOMString foo; // returns 'foo'" ? (and if so, is that ok?)

[15:09:22.0000] <heycam>
Hixie_, they would be distinguishable, since constants are reflected as data properties, and attributes as accessor properties

[15:09:34.0000] <heycam>
whether that is OK for this particular case I have no idea

[15:10:03.0000] <Hixie_>
k

[15:10:16.0000] <Hixie_>
we'll see who complains

[15:11:11.0000] <heycam>
will reply on bug 21946

[15:15:02.0000] <Hixie_>
thanks

[15:26:04.0000] <Hixie_>
heycam: while you're at it, also looking for thoughts from you on https://www.w3.org/Bugs/Public/show_bug.cgi?id=18242

[15:39:37.0000] <heycam>
Hixie_, seems like it might make sense to move the definition of incumbent script into Web IDL

[15:40:07.0000] <Hixie_>
i would support that emphatically, if you were up for it

[15:40:18.0000] <heycam>
Hixie_, I wonder if we can use that in place of the "current global environment" stuff too

[15:40:23.0000] <heycam>
would be nice if they were the same

[15:40:50.0000] <heycam>
I'll give it a shot today

[15:40:58.0000] <Hixie_>
fwiw, what i have learnt from working in this area is that the world doesn't care what i think would be nice.

[15:41:02.0000] <Hixie_>
but i wish you luck!

[15:41:22.0000] <heycam>
ha

[16:01:12.0000] <Hixie_>
anyone know who filed https://www.w3.org/Bugs/Public/show_bug.cgi?id=22452? "<?xml-stylesheet?> should probably also block scripts. Maybe Link: too if we don't decide to kill it."

[16:11:53.0000] <Hixie_>
damnit

[16:12:03.0000] <Hixie_>
now i have to spec PluginArray

[16:12:10.0000] <Hixie_>
i hate specifying these fake array objects

[16:28:29.0000] <Hixie_>
can someone with an IE that supports flash paste me the log for http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2393 ?

[16:36:41.0000] <MikeSmith>
Hixie_: here now

[16:37:11.0000] <Hixie_>
see /msg

[16:37:15.0000] <Hixie_>
from a few hours ago

[16:37:59.0000] <MikeSmith>
k

[16:42:25.0000] <MikeSmith>
Hixie_: that "<?xml-stylesheet?> should probably also block scripts." bug is from Simon I think

[16:42:50.0000] <Hixie_>
zcorpan?

[16:42:51.0000] <Hixie_>
k

[16:51:15.0000] <Hixie_>
apologies. earlier i said the validator was a bottleneck. it's not.

[16:51:20.0000] <Hixie_>
it's actually the webidl checker.

[16:52:34.0000] <MikeSmith>
boo for the webidl checker

[16:52:47.0000] <MikeSmith>
and yay for the validator


2013-07-04
[21:02:11.0000] <JonathanNeal>
What is `findAll`? http://timmywil.github.io/future-of-selectors/#/findAll

[22:56:33.0000] <heycam>
Hixie_, probably won't get to the incumbent script definition today; I've moved it up my todo list tho

[23:08:01.0000] <Hixie_>
heycam: i'm off until monday, and then i'm in navigator.plugins hell for a while

[23:08:03.0000] <Hixie_>
heycam: so no rush

[23:08:16.0000] <heycam>
ok cool, enjoy your long weekend

[01:11:38.0000] <annevk>
I don't understand why we'd introduce string constants in IDL.

[01:12:09.0000] <Ms2ger>
Because Hixie_ doesn't want to write one sentence

[01:24:23.0000] <jgraham>
I don't understand why we wouldn't want string constants in IDL

[01:25:37.0000] <annevk>
The thread "ACTION-791: Redraft proposed "status" section that TAG is suggesting for Polyglot" on www-tag is hard to believe. HTML WG only resolves bugs someone files a bug on?

[01:26:04.0000] <annevk>
jgraham: because it's not justified

[01:26:30.0000] <annevk>
jgraham: and because it would actually introduce semantics that are different from how the attribute in question works today

[01:26:34.0000] <jgraham>
annevk: Isn't that just a restatement of the argument

[01:26:38.0000] <Ms2ger>
Why would you fix anything else?

[01:26:55.0000] <jgraham>
s/argument/objection/

[01:27:06.0000] <Ms2ger>
jgraham, surely the burden of argument in on the one who wants to add things?

[01:27:57.0000] <jgraham>
Sure, but just saying "it isn't justified" doesn't tell me why you think the justification ("we need it to express this property") isn't enough

[01:28:31.0000] <jgraham>
AFAICT if we don't add it every vendor will invent their own IDL extension with the required semantics

[01:28:43.0000] <Ms2ger>
What makes you think that?

[01:29:25.0000] <jgraham>
Because that seems to be what usually happens when an interface requires certian behaviour that isn't well captured by WebIDL

[01:29:41.0000] <Ms2ger>
But it doesn't require that behaviour

[01:29:51.0000] <Ms2ger>
Everyone implements it as a simple attribute

[01:30:13.0000] <jgraham>
Well this seems to be a totally different argument

[01:30:33.0000] <annevk>
Yeah, this instance you'd just implement as a readonly attribute that always returns the same value.

[01:30:45.0000] <annevk>
Exactly as the specification would define it.

[01:31:13.0000] <annevk>
The question is what string constants would be useful for in general, since here it'd be a mismatch with implemented semantics.

[01:31:57.0000] <jgraham>
So if you are arguing that the sematics of the attribute in the spec are wrong, should be changed, and therefore there are no use cases that require string constants, that seems much more reasonable

[01:35:38.0000] <annevk>
I'm not sure where I said anything else

[01:37:08.0000] <jgraham>
"Because it's not justified" doesn't obviously mean "Because it has the wrong semantics to describe the feature it was introduced for, and there are no other features requiring those semantics"

[01:52:05.0000] <annevk>
Well I said more than that :-)

[03:50:27.0000] <annevk>
So IE's file: parsing is saner than WebKit tests suggest

[03:50:41.0000] <annevk>
This is promising

[03:54:52.0000] <darobin>
ah, I love that part where annevk gets his hopes up about something to do with the sanity of URLs

[03:55:06.0000] <darobin>
let's just sit back, relax, and watch him face the bitter disappointment of life

[03:56:17.0000] <jgraham>
Yeah, seriously, I already got the popcorn

[03:57:19.0000] <Ms2ger>
/me huddles up

[04:00:46.0000] <SimonSapin>
annevk: "Does file: relative to file:///test/path yield file:/// or file:///test/path. I don’t even… "  care?

[04:01:01.0000] <SimonSapin>
pick one

[04:01:47.0000] <annevk>
It's more about what picking one implies, but I guess that gets kinda lost of you don't have in-depth knowledge of URL parsing.

[04:02:05.0000] <annevk>
In any event, it seems browsers differ enough even on Windows to let sanity prevail.

[04:02:34.0000] <Ms2ger>
/me steals some of jgraham's popcorn

[04:02:34.0000] <SimonSapin>
I suppose that’s for a small audience :)

[04:03:13.0000] <annevk>
Yeah, my blog often is :-)

[04:04:15.0000] <annevk>
/me goes to buy some popcorn

[04:04:20.0000] <SimonSapin>
meanwhile in CSS-land, my "background-attachment: local" patch will get twice as big to handle the case where background-clip content-box is combined with border-radius

[04:22:56.0000] <hallvors>
/me haz peanuts

[04:26:05.0000] <hallvors>
(annevk: happy 10th blog anniversary BTW)

[04:42:18.0000] <annevk>
hallvors: (thanks)

[04:48:04.0000] <Ms2ger>
"W3C Invites Implementations of Indexed Database API"

[04:52:42.0000] <annevk>
"W3C Invites Mockery"

[04:53:46.0000] <darobin>
but we give them tea and all!

[04:53:57.0000] <MikeSmith>
w3c: pong

[04:54:48.0000] <sangwhan_>
can't wait to see the equivalent mail for indieui

[04:57:30.0000] <jgraham>
What are they invited to?

[04:57:37.0000] <jgraham>
Is there a party?

[04:58:27.0000] <darobin>
why, tea

[04:58:49.0000] <darobin>
with scones

[05:01:15.0000] <annevk>
/me <3 scones

[05:05:32.0000] <annevk>
So Chrome does more file URL fixup than Firefox does on Windows.

[05:06:34.0000] <annevk>
Nobody does it quite like Internet Explorer though.

[05:06:51.0000] <SimonSapin>
How surprising

[05:07:12.0000] <darobin>
/me ponders scone-flavoured popcorn

[05:11:06.0000] <darobin>
mmmm, so new Date("2013-02-29") returns an invalid date on Gecko but March 1 on Blink

[05:11:08.0000] <darobin>
fuuuuuuuuuuu

[05:12:59.0000] <darobin>
ah, and more discrepancies in new Date("Thh:mm)

[05:13:30.0000] <annevk>
Maha, and you're enjoying popcorn over URLs... Date parsing, that's where it's at :p

[05:14:02.0000] <darobin>
lol

[05:14:08.0000] <darobin>
I reckon date parsing is easier than URLs

[05:14:23.0000] <Ms2ger>
Do you?

[05:14:26.0000] <darobin>
dates only become really interesting once you throw in I18N

[05:14:37.0000] <darobin>
Ms2ger: we're talking about URLs here

[05:36:21.0000] <hallvors>
We rewrote Opera's date parsing a year or two ago. Those were interesting times.. ;)

[05:38:25.0000] <hallvors>
Heh. Trying to debug Google Plus in Opera 12 got me into a state where Opera was hanging and not even "End process" in the WinXP Task manager could kill it.

[05:39:16.0000] <hallvors>
I've never seen that before :-o

[05:40:10.0000] <hallvors>
/me tempts fate by trying again from Ubuntu ..

[05:46:17.0000] <SimonSapin>
Zombie Opera sounds kinda cool

[05:55:48.0000] <annevk>
Hmm, WebKit/Chromium has another quirk nobody else has: file:///c:test becomes file:///C:/test rather than remaining the same

[05:56:49.0000] <jgraham>
I remember those date parsing tests

[05:57:35.0000] <hallvors>
Windows restart time :-/

[05:57:58.0000] <jgraham>
I guess we could even submit them somewhere if TC39 didn't leave date parsing as an exercise to the reader

[06:03:29.0000] <Ms2ger>
Make matjas spec it :)

[06:04:46.0000] <annevk>
Whoa, another Webkit/Chromium quirk: file:///C:/../test/ gives file:///C:/test/ rather than file:///test/

[06:04:50.0000] <jgraham>
And turn the results into a novel called 50 Shades of Specification?

[06:21:41.0000] <annevk>
Filed http://code.google.com/p/chromium/issues/detail?id=257354

[06:49:55.0000] <gsnedders>
Those date parsing tests are timezone dependent, too, just to make it more fun.

[07:01:17.0000] <darobin>
gsnedders: it gets more fun when you need to open http://www.amazon.co.uk/Calendrical-Calculations-Nachum-Dershowitz/dp/0521702380/ref=wl_it_dp_o_pC_nS_nC?ie=UTF8&colid=19U91O2EGYIPS&coliid=I56NXMCE2SOZD

[07:04:25.0000] <Hixie_>
annevk: it would indeed be even cooler if there was a way to have the same semantics concisely

[07:05:22.0000] <annevk>
Hixie_: it seems if it's only for one or two instances adding it to IDL is not really useful

[07:05:37.0000] <annevk>
Hixie_: especially as readonly attribute covers it quite well

[07:05:54.0000] <Hixie_>
if heycam's willing to add it, it's useful to me :-)

[07:11:04.0000] <gsnedders>
darobin: :)

[08:03:34.0000] <gsnedders>
Where do reviews of CSS tests happen nowadays? Randomly on mailing lists?

[08:03:49.0000] <Ms2ger>
What makes you think they happen?

[08:04:20.0000] <gsnedders>
Well, I was doubting that. But what does "submitted for review" mean? Just it's been put in the right folder, nothing apart from flipping a flag?

[08:05:08.0000] <Ms2ger>
Put in the right folder, aiui

[08:07:27.0000] <jgraham>
Just make a pull request on the github repo

[08:07:34.0000] <jgraham>
(I kid, I kid)

[08:08:13.0000] <gsnedders>
jgraham: Man, you so funny.

[08:08:28.0000] <Ms2ger>
Apparently plinss wants to get shepherd on github first

[08:08:59.0000] <gsnedders>
Why is pushing stuff to github taking so long suddenly? Meh.

[08:10:56.0000] <jgraham>
You think you have problems. Whenever github goes down I get like 100 emails an hour from critic with all the branches that can't update

[08:41:10.0000] <gsnedders>
What's the state of the HTML Editing APIs spec?

[08:42:54.0000] <Ms2ger>
Aryeh is still studying

[08:43:27.0000] <gsnedders>
I'm aware of that. I'm just guessing nobody else has taken it over?

[08:44:19.0000] <Ms2ger>
No

[08:52:08.0000] <jgraham>
I think the official status is "Abandon all hope ye who enter here"

[10:19:33.0000] <mpt>
As long as <http://www.whatwg.org/specs/web-apps/current-work/multipage/states-of-the-type-attribute.html#date-and-time-state-%28type=datetime%29> et seq. say "User agents should allow the user to set the value to the empty string.", <http://developers.whatwg.org/states-of-the-type-attribute.html#date-state-%28type=date%29> et seq. probably should warn authors that the user might.

[10:21:58.0000] <mpt>
It's not an obvious possibility if the control has a non-empty default value.

[10:26:09.0000] <jgraham>
Does any UA actually allow that?

[10:26:44.0000] <jgraham>
Or rather, what's the use case?

[10:37:55.0000] <jgraham>
I think my life would have been \epsilon better if there weren't multimegabyte videos checked in to the testharness.js repository

[10:44:14.0000] <mpt>
jgraham, one I've experienced (though not on the Web) was where I entered an address book contact's birth year, then later blanked it because they admitted giving a false age

[10:49:53.0000] <jgraham>
I guess that's a reasonable use case

[12:11:33.0000] <Ms2ger>
Oh look, e4x: http://blog.vjeux.com/2013/javascript/jsx-for-the-real-dom.html

[12:12:11.0000] <zewt>
D:


2013-07-05
[01:32:35.0000] <jgraham>
Is http://critic.hoppipolla.co.uk/r/202 covered by some other tests? Aryeh's reflection tests, perhaps

[01:37:41.0000] <Ms2ger>
Any chance I could get you to finish Aryeh's tests? :)

[01:40:32.0000] <jgraham>
Not today at least

[01:40:46.0000] <Ms2ger>
Okay

[01:40:48.0000] <Ms2ger>
Tomorrow?

[01:41:14.0000] <jgraham>
Maybe? Doesn't seem super likely but I agree it's important

[01:41:39.0000] <Ms2ger>
Or maybe you'd have more time next month? :)

[01:41:47.0000] <jgraham>
Could be :)

[03:56:09.0000] <SteveF>
hixie: FWIW on further reading find the updated figure definition clearer

[04:51:06.0000] <galant>
how can I get the node in which the caret/cursor for writing is in the moment?

[13:20:17.0000] <galant>
ca I change element tagname? and what will happen if I do?

[13:20:19.0000] <galant>
can*

[13:24:48.0000] <jgraham>
No

[13:30:01.0000] <galant>
omg guys selection() is niceeeeeeeeeeeeee

[13:39:25.0000] <galant>
any idea how to change cursor position for writing in contenteditable element?


2013-07-06
[17:31:31.0000] <cabanier>
Hixie_: ping

[05:52:25.0000] <GPHemsley>
annevk: If a URL ends in a question mark (but no query portion beyond that), is it identical to the URL without the question mark?

[05:52:37.0000] <annevk>
no

[05:53:26.0000] <GPHemsley>
what is different? like, can the server do something different for the two?

[05:55:46.0000] <annevk>
sure

[11:42:14.0000] <gsnedders>
Ms2ger: Can you factor out the current toc code in Anolis so it can be called and used directly by the outliner? Dunno how much work it'll be.

[11:43:08.0000] <Ms2ger>
Not sure

[11:46:31.0000] <Ms2ger>
(Didn't you write it?)

[11:47:49.0000] <Ms2ger>
Looks like it's pretty intertwined with the toc-building

[13:13:43.0000] <gsnedders>
Ms2ger: I did write it.

[13:13:51.0000] <gsnedders>
Ms2ger: And then I forked it for the outliner.

[13:14:04.0000] <gsnedders>
Ms2ger: And I want to make outliner bugs someone else's problem.

[13:14:05.0000] <gsnedders>
:P

[13:22:10.0000] <Ms2ger>
Failed :)


2013-07-07
[03:16:31.0000] <jgraham>
Ms2ger: More review please :)

[03:18:14.0000] <Ms2ger>
The only changes in the apisamples are the title?

[03:19:00.0000] <Ms2ger>
We can fight about style some other time ;)

[03:42:58.0000] <jgraham>
Ms2ger: Yes

[03:43:30.0000] <jgraham>
Thanks

[03:53:20.0000] <Ms2ger>
Np


2013-07-08
[22:41:19.0000] <sangwhan_>
geez, i swear i disabled all notifications from web-platform-tests, and still are getting them

[22:41:24.0000] <sangwhan_>
/me kicks github

[01:20:04.0000] <hsivonen>
so apparently Unicode defers to ISO 6429:1992 for the semantics of C0 controls

[01:20:19.0000] <hsivonen>
and that spec is 196 CHF from ISO

[01:21:35.0000] <hsivonen>
/me reads the Wikipedia article on ISO 6429 instead

[03:08:34.0000] <JakeA>
Remind me why NodeList inheriting from JS arrays is bad and DOMString inheriting from JS is ok

[03:20:27.0000] <Ms2ger>
Because websites break with one and not the other?

[03:23:41.0000] <JakeA>
Ms2ger: is there proof of that?

[03:25:40.0000] <Ms2ger>
https://bugs.webkit.org/show_bug.cgi?id=81573

[03:31:09.0000] <JakeA>
Ms2ger: exactly what I was looking for, cheers. Although ::sadface::

[04:44:11.0000] <annevk>
jetlag is somewhat stronger than anticipated

[07:11:26.0000] <Ms2ger>
Given a select s with an option with an empty id, what do the following return?

[07:11:30.0000] <Ms2ger>
s.namedItem("")

[07:11:33.0000] <Ms2ger>
s.options.namedItem("")

[07:11:37.0000] <Ms2ger>
s.options[""]

[07:25:38.0000] <jgraham>
So can anyone recommend an XMPP provider?

[07:29:00.0000] <SimonSapin>
jgraham: I’m using hosted.im

[07:29:02.0000] <annevk>
Ms2ger: are you fixing the DOM bug for me?

[07:29:08.0000] <annevk>
Ms2ger: 'cause that'd be great

[07:29:13.0000] <Ms2ger>
I wasn't :)

[07:29:20.0000] <Ms2ger>
But I guess I can

[07:48:38.0000] <jgraham>
SimonSapin: Thanks

[07:48:53.0000] <jgraham>
Ms2ger: Are you asking the same question in the form of a review request? :p

[07:51:37.0000] <Ms2ger>
:)

[08:06:39.0000] <Ms2ger>
This is the sucky part about trying to strike things off my tests-todo-list

[08:06:48.0000] <Ms2ger>
Strike one off, add at least one

[10:56:22.0000] <JonathanNeal>
Hello

[10:57:05.0000] <JonathanNeal>
When I use em values in a @media query, should the @media query care what the font size is on html?

[11:06:03.0000] <JonathanNeal>
Anything going on with element queries?

[11:07:16.0000] <galant>
in the unicode character set standard it says hexadecimal code 25 is % but it is left arrow key why is this?

[11:08:26.0000] <annevk>
it's not data:text/html,&%23x25;

[11:08:49.0000] <annevk>
JonathanNeal: it cares about the initial font-size, see the spec

[11:10:36.0000] <JonathanNeal>
annevk: i'm not sure it's specified, http://www.w3.org/TR/css3-mediaqueries/ http://dev.w3.org/csswg/mediaqueries4/

[11:11:12.0000] <annevk>
well I wrote that text

[11:11:14.0000] <annevk>
let me look

[11:11:32.0000] <annevk>
JonathanNeal: http://w3c-test.org/csswg/mediaqueries3/#units

[11:12:25.0000] <JonathanNeal>
annevk: so it's the interpretation of what "the initial value of ‘font-size’" is?

[11:12:39.0000] <annevk>
that's defined by CSS

[11:12:49.0000] <annevk>
might be implementation defined, but typically 16px

[11:15:39.0000] <JonathanNeal>
annevk: right, impacted by its container.

[11:15:55.0000] <annevk>
no, initial value is not impacted by a container

[11:16:26.0000] <JonathanNeal>
div { font-size: 50%; } div > div { font-size: 1em; }

[11:17:37.0000] <JonathanNeal>
but in the case of @media queries, they are not descendants of <html>, so em is basically 16px, is that right?

[11:19:32.0000] <annevk>
say you do html { font-size:1.1em }

[11:19:42.0000] <annevk>
that depends on the initial font-size value

[11:20:06.0000] <annevk>
which is implementation-defined, but typically 16px

[11:35:54.0000] <JonathanNeal>
annevk: right, got it

[11:36:10.0000] <JonathanNeal>
and rem IS based on html.

[11:41:12.0000] <annevk>
Ms2ger: are you going to fix that bug or should I start investigating?

[11:41:34.0000] <annevk>
Ms2ger: if you could at least comment on your findings in https://www.w3.org/Bugs/Public/show_bug.cgi?id=22291 ...

[11:41:51.0000] <Ms2ger>
Sorry, haven't looked yet

[12:34:12.0000] <TabAtkins>
JonathanNeal: In MQ, em is unaffected by any properties set on the page.  It's solely the initial value.

[12:34:24.0000] <TabAtkins>
Unlike rem, which is the value of font-size on the root element.

[12:35:05.0000] <TabAtkins>
The initial value of font-size is implementation defined.  As Anne said, it's typically 16px, but users can change that setting in the settings of most (all?) browsers.

[12:35:32.0000] <jgraham>
(doing so typically breaks the web)

[12:35:56.0000] <jgraham>
(but no more so then, say, disabling script, which people also do)

[12:35:59.0000] <jgraham>
*than

[12:36:10.0000] <TabAtkins>
Badly enough that a browser couldn't change their own default, yes, but not badly enough that a user can't do it.

[12:36:25.0000] <TabAtkins>
I use one level of zoom on lots of sites.

[12:37:09.0000] <Hixie_>
cabanier: pong

[12:37:20.0000] <Ms2ger>
Yeah, I use 14px or so

[12:38:24.0000] <Ms2ger>
Though I sometimes just mess with the font-size in the web console

[12:38:33.0000] <darobin>
14px doesn't break the web much overall

[12:38:51.0000] <Hixie_>
Ms2ger: were you doing the dom side of the collections [''] bug? or were you asking for unrelated reasons?

[12:39:11.0000] <TabAtkins>
/me loves Chrome's min-font-size setting. Text <10px is a dick move.

[12:39:13.0000] <JonathanNeal>
TabAtkins, jgraham, good to know

[12:39:35.0000] <JonathanNeal>
TabAtkins: ruh roh, does that break those font-size: 0 layout containers?

[12:39:36.0000] <Ms2ger>
Hixie_, no, just writing a somewhat-related test

[12:39:42.0000] <Hixie_>
k

[12:39:49.0000] <TabAtkins>
Ms2ger: Probably, but I haven't noticed anything in particular yet.

[12:39:59.0000] <annevk>
Hixie_: I guess I might end up doing that if Ms2ger doesn't get to it

[12:40:04.0000] <Ms2ger>
If annevk doesn't get around to it, I probably will later this week

[12:40:07.0000] <TabAtkins>
So either I'm unobservant, or spend time on better sites, or it really doesn't break much.

[12:40:08.0000] <annevk>
Hixie_: do I need to do testing or just copy what you do?

[12:40:32.0000] <Hixie_>
annevk: i did some testing in the bug, more testing can't hurt though

[12:40:48.0000] <darobin>
TabAtkins: or the setting is smart enough to treat font-size: 0 as a special case

[12:40:56.0000] <TabAtkins>
darobin: No clue.

[12:41:09.0000] <TabAtkins>
All I know is that it works on the xkcd forums, where people use tiny text as subtext.

[12:41:27.0000] <TabAtkins>
And occasionally for end-of-blog-post metadata, etc.

[12:42:38.0000] <darobin>
/me gets tempted to embed messages just for Tab here and there

[12:44:10.0000] <jgraham>
And everywhere?

[12:44:35.0000] <SimonSapin>
TabAtkins: wait, rem is based on :root in MQs? Isn’t that a layering violation?

[12:44:51.0000] <TabAtkins>
No, rem is same as em *in MQs*.

[12:44:55.0000] <TabAtkins>
But outside of them, rem is different.

[12:45:01.0000] <SimonSapin>
ah, ok

[12:45:05.0000] <SimonSapin>
of course

[12:49:26.0000] <TabAtkins>
annevk: You can't embed / in a pathsegment in any reasonable way, can you?  It must be %-escaped?

[12:49:51.0000] <TabAtkins>
s/reasonable way/way that keeps a literal \/ in the string/

[12:51:33.0000] <SimonSapin>
TabAtkins: it seems to me that ending at an unescaped / is the definition of path segment …

[12:52:02.0000] <TabAtkins>
SimonSapin: I meant something like a backslash escape, which still contains the escaped character (and thus defeats naive string splitting).

[12:52:08.0000] <SimonSapin>
and many server-side software are not good at telling the difference anyway

[12:52:54.0000] <Hixie_>
why is %-escaping not reasonable?

[12:53:32.0000] <SimonSapin>
I think you’re safe with naive string splitting, if that’s what you’re getting at

[12:53:39.0000] <Hixie_>
also, i just found a bug in apache.

[12:54:25.0000] <Hixie_>
http://hixie.ch/blablabla.404 returns a 404 page, http://hixie.ch/blablabla.404%2F says it couldn't find the 404 page.

[12:54:30.0000] <TabAtkins>
Hixie_: I'm not trying to judge, I was just trying to ask a question before I made suggestions on Anne's url email.

[12:54:35.0000] <Hixie_>
(http://hixie.ch/blablabla.404/ finds a 404 page too)

[12:54:50.0000] <Hixie_>
ah, e-mail

[12:54:53.0000] <Hixie_>
i should read some of those

[12:58:41.0000] <Hixie_>
hm, having an object that can be indexed and that has a built-in toString that returns the right escaped concatenation would be interesting

[12:59:37.0000] <TabAtkins>
Yus.

[13:00:11.0000] <TabAtkins>
Though you don't want it to be just that type of object, I think.  You want to be able to accept any array.

[13:00:40.0000] <Hixie_>
assignable to an array? yeah, that makes sense

[13:00:41.0000] <TabAtkins>
So that you can, say, do "pathname = url.segments.map(foo);", since that returns a plain array probably?

[13:00:58.0000] <Hixie_>
url.path = ['a','b'];

[13:01:02.0000] <Hixie_>
url.path = 'a/b';

[13:01:07.0000] <Hixie_>
url.path[0] == 'a';

[13:01:12.0000] <TabAtkins>
But yeah, having it return an array-like that does the toString behavior itself is nice.

[13:01:15.0000] <Hixie_>
url.path == '/a/b'

[13:01:16.0000] <TabAtkins>
Yeah.

[13:01:54.0000] <Hixie_>
not sure how you do that in WebIDL, maybe a PutForwards to an attribute that is (Array or DOMString) or something?

[13:02:07.0000] <Hixie_>
where Array is DOMString[] ?

[13:02:14.0000] <Hixie_>
anyway. lgtm.

[13:02:24.0000] <Hixie_>
/me goes back to making the web worse by speccing navigator.plugins

[13:22:59.0000] <JonathanNeal>
TabAtkins: rem is same as em in mqs?

[13:23:27.0000] <TabAtkins>
Yeah, it has to be.

[13:23:27.0000] <JonathanNeal>
http://codepen.io/jonneal/full/ArwtI ?

[13:25:05.0000] <JonathanNeal>
It does not appear to be exactly the same, in that link's case, if you resize the browser, it goes into a fun shock.

[13:25:34.0000] <JonathanNeal>
Chrome handles it the same as other recursive issues.

[13:26:29.0000] <TabAtkins>
JonathanNeal: It does do some weird stuff, but it definitely triggers the switch to blue at > 16px.

[13:26:42.0000] <TabAtkins>
Probably approximately 16px*80

[13:26:47.0000] <TabAtkins>
Sorry, I meant 80px in my previous line.

[13:27:27.0000] <Hixie_>
16px*80px? 1280px^2 ?

[13:32:05.0000] <TabAtkins>
No, the previous previous line.

[13:32:16.0000] <TabAtkins>
JonathanNeal: Looks like we have a bug in Chrome.  I'm filing now.

[13:32:31.0000] <TabAtkins>
And yeah, the weird red/blue thing is crazy.

[13:40:46.0000] <Hixie_>
heycam|away: how do i make an object's supported property names _not_ be enumerable at all?

[13:40:52.0000] <Hixie_>
like in navigator.plugins

[13:40:58.0000] <Domenic_>
TabAtkins: interesting, that led me to thinking about `window.location.segments = window.location.segments.map(foo)` and how that should probably work.

[13:41:53.0000] <TabAtkins>
Domenic_: Yeah, it depends on whether you override the built-in Array#map or not, I think?

[13:43:58.0000] <Domenic_>
TabAtkins: I think the plan is for subclasses to return themselves from everything, including map? Need to check...

[13:44:45.0000] <TabAtkins>
You mean, the Array built-ins returning an instance of the subclass they were inherited by?

[13:45:31.0000] <Domenic_>
TabAtkins: yeah that's it. http://esdiscuss.org/topic/whydoesarrayfromalsotakeamapfn#content-9 there was a lot of confusion at the beginning of that thread though

[13:45:36.0000] <Hixie_>
so huh.

[13:46:11.0000] <Hixie_>
is there no way in WebIDL to have an object have named properties that aren't enumerated?

[13:46:12.0000] <Hixie_>
what if i want an object to have every property, served on demand?

[13:46:14.0000] <Hixie_>
so i could do spellcheck['foo'] for example

[13:46:20.0000] <Hixie_>
where 'foo' is any string...

[13:46:29.0000] <Hixie_>
(not that that would be a good api, but that's besides the point here)

[13:46:43.0000] <jgraham>
If you wanted to do that we would look at you strange

[13:47:28.0000] <jgraham>
Although if you use the words "for plugins", it will have the same effect as adding "in Japan" to an implausible-sounding claim

[13:47:30.0000] <TabAtkins>
Those types of APIs are frowned upon - they interact badly with prototypes.

[13:47:35.0000] <TabAtkins>
Do a [MapClass] instead.

[13:47:41.0000] <TabAtkins>
Though I guess you're stuck with legacy.

[13:48:13.0000] <Hixie_>
jgraham: thus us for navigator.plugins, does that count? :-)

[13:48:49.0000] <Hixie_>
'Google Talk Plugin' in navigator.plugins => true

[13:49:12.0000] <jgraham>
Hixie_: Sure :) But your gambit should be "this is a strange thing I need for legacy", not "this is something a normal API might use"

[13:49:22.0000] <Hixie_>
for (i in navigator.plugins) { if (i == 'Google Talk Plugin') alert('bing') } => no bing

[13:49:54.0000] <Hixie_>
jgraham: i was just trying to describe what i need, sorry if it sounded like i wanted it :-)

[13:50:20.0000] <Hixie_>
i'm just surprised this hasn't come up before

[13:50:31.0000] <Hixie_>
sure does look like webidl doesn't support this

[13:50:33.0000] <Hixie_>
i guess i'll file a bug

[13:50:38.0000] <jgraham>
It sounds like you just want a way of specifying an {enumerable:false} propert in webidl

[13:50:48.0000] <jgraham>
*property

[13:51:06.0000] <Hixie_>
yeah

[13:51:38.0000] <Hixie_>
wow, webidl has only about half as many open bugs as html

[13:55:07.0000] <annevk>
So can navigator.plugins be explained in terms of JS?

[13:55:55.0000] <annevk>
Hixie_: "unit of related similar-origin browsing contexts" is a useful concept, it could use a useful name

[13:57:04.0000] <Hixie_>
annevk: file a bug with a suggestion, if you need a convenient hook. or do what i do for some other specs, import the name as "unit of related similar-origin browsing contexts" and then say "which in this specification are referred to as Foos..."

[13:57:37.0000] <JonathanNeal>
TabAtkins: why is it a bug?

[13:57:39.0000] <Hixie_>
(just try to make the short name obviously refer to the long name, so it's not too confusing)

[13:57:50.0000] <TabAtkins>
JonathanNeal: Because it's a circularity issue?

[13:57:53.0000] <annevk>
uorsobc

[13:57:54.0000] <JonathanNeal>
I thought rem references the root element of the document, which is HTML.

[13:57:55.0000] <TabAtkins>
Also: spec violation.

[13:58:22.0000] <TabAtkins>
JonathanNeal: Yes, it does *in normal styles*.  In a MQ, it ignores any page styling, and uses the initial font size, same as em.

[13:58:24.0000] <annevk>
Hixie_: kk

[14:05:01.0000] <Hixie_>
wtf, in firefox i sometimes can enumerate them and sometimes not

[14:05:51.0000] <Hixie_>
oh i suppose you could do what i described using a creator...

[14:06:38.0000] <Hixie_>
though that'd be wacked

[14:07:13.0000] <TabAtkins>
Hixie_: Hm?

[14:07:47.0000] <Hixie_>
instead of a getter, i define a setter

[14:07:51.0000] <Hixie_>
that ignores the value

[14:07:56.0000] <Hixie_>
and returns the property value

[14:08:03.0000] <Hixie_>
it'd get the effect i described earlier

[14:08:07.0000] <Hixie_>
(not actually suggesting doing this)

[14:08:15.0000] <Hixie_>
er, define a creator

[14:08:37.0000] <TabAtkins>
Hm, yeah, that might work.

[14:08:42.0000] <TabAtkins>
Check with heycam first. ^_^

[14:09:22.0000] <Hixie_>
actually a creator would fail the 'in' test

[14:18:33.0000] <TabAtkins>
Ah, right, because there are no named properties.

[14:23:06.0000] <Hixie_>
anyone got IE handy? i'm having trouble getting mine to work. What does it say in the log for http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2396 ?

[14:28:56.0000] <annevk>
gimme a sec

[14:30:08.0000] <annevk>
Hixie_: eight results, 3 and 6 are ---, rest is false

[14:30:18.0000] <annevk>
Hixie_: sorry, --

[14:30:39.0000] <annevk>
Hixie_: IE10

[14:32:17.0000] <Hixie_>
oh, right, you probably don't have that plugin

[14:33:28.0000] <Hixie_>
annevk: wait, per that you don't have any plugins installed at all

[14:33:30.0000] <Hixie_>
is that true?

[14:33:59.0000] <Hixie_>
annevk: try http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2397

[14:34:16.0000] <Hixie_>
annevk: but if you don't have any plugins (first result is false) then that might not tell us anything useful

[14:37:53.0000] <ThomasOr_>
Hi! Would there be an autoconfirmed user on the chat that could help me with a whatwg wiki account? : )

[14:38:28.0000] <Hixie_>
ThomasOr_: yeah, sorry for delay answering your e-mail. let me do it now.

[14:38:53.0000] <ThomasOr_>
No worries! : ) I kind of assume that everyone is busy around! : )

[14:39:00.0000] <ThomasOr_>
And thanks!

[14:39:06.0000] <Hixie_>
done, check e-mail for details. :-)

[14:39:22.0000] <ThomasOr_>
That was fast, thanks a lot!!

[14:39:37.0000] <Hixie_>
np

[14:39:51.0000] <Hixie_>
annevk: do you recall who's a blog admin these days?

[14:44:04.0000] <annevk>
Hixie_: I am one

[14:44:27.0000] <Hixie_>
GPHemsley: btw, you still looking for a project? because mouse events would be a good one, and shouldn't be too hard, yet is a huge hole in our current spec coverage.

[14:44:31.0000] <annevk>
Hixie_: will look at the IE thing

[14:44:35.0000] <annevk>
Hixie_: I don't have plugins

[14:45:04.0000] <annevk>
Hixie_: "error: Unable to get property 'name' of undefined or null reference on line 2"

[14:45:15.0000] <Hixie_>
k

[14:45:44.0000] <annevk>
Hixie_: default install of Windows plus IE10

[14:46:39.0000] <annevk>
/me updates the blog software

[14:48:20.0000] <Hixie_>
wow, IE10 by default has no flash?

[14:49:45.0000] <annevk>
Hixie_: so, you are an admin, Christopher Bright is, gsnedders, hsivonen, jgraham, lachlan, markp, MikeSmith, zcorpan

[14:49:49.0000] <annevk>
Hixie_: also me

[14:51:45.0000] <gsnedders>
annevk: Where?

[14:51:57.0000] <annevk>
WHATWG Blog

[14:52:14.0000] <Hixie_>
roger

[15:16:22.0000] <GPHemsley>
Hixie_: What I'm really looking for right now is money, but if you have an existing link, I'll take a look

[15:16:51.0000] <Hixie_>
there's no existing link. that's the problem.

[15:17:00.0000] <GPHemsley>
ah

[15:17:09.0000] <GPHemsley>
any documentation at all?

[15:17:43.0000] <Hixie_>
things like https://developer.mozilla.org/en-US/docs/Web/API/GlobalEventHandlers.onmouseover

[15:17:49.0000] <Hixie_>
but nothing particularly useful

[15:37:37.0000] <jwalden>
the DOM is still a tree, right?  that particular invariant *has* been preserved, unlike many others, right?

[15:38:07.0000] <jwalden>
Hixie_: I think they tried to make it work with IE10, then folded in SP1 or some sort of update

[15:40:07.0000] <gsnedders>
jwalden: Yes

[16:00:12.0000] <Hixie_>
jwalden: yes

[16:00:20.0000] <Hixie_>
jwalden: make what work?

[16:00:39.0000] <jwalden>
Hixie_: shipping without Flash support, possibly with a site whitelist of sites that allow it

[16:00:49.0000] <jwalden>
a valiant effort

[16:00:52.0000] <jwalden>
possibly too soon

[16:08:09.0000] <Hixie_>
ah

[16:28:07.0000] <GPHemsley>
Hixie_: Do all mouse events have a corresponding onX attribute in HTML, and vice versa?

[16:43:31.0000] <Hixie_>
i hope so

[16:44:49.0000] <gsnedders>
jwalden: Only IE/Metro, IE/Desktop always had the same Flash behaviour

[16:45:03.0000] <jwalden>
ah

[16:45:10.0000] <jwalden>
/me only remembers vaguenesses from the IE blog

[16:50:28.0000] <GPHemsley>
Hixie_: How would this differ from DOM and/or UI Events?

[16:50:41.0000] <GPHemsley>
(And does it warrant its own separate document?)

[16:51:49.0000] <Hixie_>
GPHemsley: it would differ in that it would define when the events fire.

[16:52:05.0000] <Hixie_>
GPHemsley: there's nothing currently that says "and when the mouse button is pressed, _fire a click event_ that..."

[16:52:20.0000] <Hixie_>
or more precisely, that says exactly what order all the relevant events fire in, etc

[16:56:46.0000] <Hixie_>
interesting. chrome doesn't have plugin.version, which firefox has.

[16:56:51.0000] <zewt>
good old DOM Events specs

[16:57:12.0000] <zewt>
i always get wary as soon as I see tables with "Cancelable" and "Bubbles" rows

[16:58:41.0000] <zewt>
(never mind "Sync/Async" and "Default action" ...)

[16:58:41.0000] <Hixie_>
oh man

[16:58:48.0000] <Hixie_>
yes

[16:58:50.0000] <Hixie_>
so much yes

[16:59:15.0000] <zewt>
the phrase "default action" needs to be struck from specs, it leads to so much fundamental confusion about how events work

[16:59:37.0000] <Hixie_>
(re "cancelable", etc: at least in a section claiming to define the event name, and not a particular way the event gets dispatched, which is what HTML tries to do)


2013-07-09
[17:00:09.0000] <zewt>
well, defining the name by itself is meaningless

[17:01:12.0000] <zewt>
http://www.w3.org/TR/DOM-Level-3-Events/#event-type-mouseleave but yeah, this needs a redo badly some day

[17:01:43.0000] <zewt>
the basic indexing of those specs is totally wrong--listing by event names and when they're fired, instead of listing by actions that take place and the events that are fired when they happen

[17:01:47.0000] <zewt>
the whole thing's inside out

[17:01:57.0000] <zewt>
(yeah, I know I don't need to convince you of this, heh)

[17:03:25.0000] <Hixie_>
yeah i was gonna say :-)

[17:03:34.0000] <GPHemsley>
Hixie_: These DOM 3 events are the ones that need speccing?

[17:04:39.0000] <GPHemsley>
/me wonders why mouseover is supposed to fire before mouseenter

[17:05:45.0000] <zewt>
does cancelling mouseover prevent mouseenter?

[17:06:10.0000] <GPHemsley>
no idea

[17:06:27.0000] <GPHemsley>
I'm just reading the DOM 3 Events list

[17:06:37.0000] <zewt>
no idea either, just a hypothesis :P

[17:06:38.0000] <GPHemsley>
5.2.3.2 Mouse Event Order

[17:07:01.0000] <zewt>
i like how those lists aren't even normative

[17:07:07.0000] <zewt>
it's just "eh well it's sorta like this:"

[17:08:18.0000] <GPHemsley>
mostly because you're supposed to already *know* that (duh) from each event type's definition

[17:08:46.0000] <Hixie_>
GPHemsley: these events are what need speccing. I wouldn't call them "DOM 3 events", they were invented before the W3C had a DOM WG. (Possibly before the W3C existed.)

[17:09:09.0000] <zewt>
Hixie_: well, most of them anyway

[17:09:17.0000] <GPHemsley>
Hixie_: Oh, well, that spec is called "DOM 3 Events" :P

[17:09:36.0000] <Hixie_>
GPHemsley: as zewt says, though, it's not so much the events that need speccing, as the reaction to mouse movements, clicks, etc. Which happens to involve firing events with these names, but that's the effect, no the cause.

[17:09:53.0000] <zewt>
GPHemsley: the event descriptions don't say anything about relative order, do they?

[17:10:12.0000] <GPHemsley>
zewt: I haven't read them, but I think the idea is that you infer the order from the definitions.

[17:10:31.0000] <zewt>
http://www.w3.org/TR/DOM-Level-3-Events/#event-type-mouseover well, this doesn't seem to say anything about its relative order to mouseenter, or vice versa, at least

[17:10:48.0000] <GPHemsley>
Hixie_: Ah, so it's not a Mouse Events spec is a Mouse Interaction spec.

[17:10:59.0000] <GPHemsley>
s/ is/, it's/

[17:11:13.0000] <zewt>
UI interaction, mouse events just being an important part

[17:12:01.0000] <zewt>
(keyboard events are nasty too, of course)

[17:12:45.0000] <zewt>
are touch events specced anywhere? those are important now, too

[17:12:51.0000] <GPHemsley>
hmm

[17:13:03.0000] <zewt>
and they interact with mouse events, they'd want to be in the same spec

[17:13:13.0000] <gsnedders>
There was a WG, but it went into PAG hell.

[17:13:23.0000] <GPHemsley>
does UI Events handle keyboard interaction well enough?

[17:13:52.0000] <zewt>
i doubt it defines any events well enough, heh

[17:14:19.0000] <zewt>
i don't know what the status of speccing keycodes is (guessing interop is still hopeless)

[17:14:22.0000] <gsnedders>
"handle keyboard interaction well enough?" hahahahahahaha

[17:14:28.0000] <gsnedders>
What zewt said, basically

[17:14:39.0000] <gsnedders>
keycodes? specified?

[17:15:02.0000] <heycam>
Hixie_,  you're right, there's no way to say named properties are not enumerable, currently

[17:15:02.0000] <zewt>
keycodes are probably one of those really hard to fix things--since it's had zero interop for so long, everyone uses UA sniffing to make sense of it, which probably means that interop can never happen

[17:15:22.0000] <GPHemsley>
https://dvcs.w3.org/hg/d4e/raw-file/tip/source_respec.htm#key-codes

[17:15:34.0000] <gsnedders>
zewt: Opera's had issues every time we change to match others better. And then we break a fuckton of stuff that sniffs us.

[17:15:50.0000] <Hixie_>
man, can you say scope creep :-P

[17:16:13.0000] <Hixie_>
GPHemsley: i'm just saying mouse interaction, don't go down the road of keyboard interaction events before mouse is done, that's a rat hole and a half

[17:16:14.0000] <zewt>
i seem to recall some minor effort to add a new keycode-ish property on keyboard events, so interop can be dumped there and leave keycode to the wolves, but i'm not holding my breath on that

[17:16:26.0000] <Hixie_>
you can't just not support the old key events

[17:16:32.0000] <Hixie_>
the entire web depends on those

[17:16:39.0000] <Hixie_>
heycam: k. filed a bug.

[17:16:46.0000] <Hixie_>
heycam: for now i'm just using handwavy prose.

[17:16:52.0000] <gsnedders>
GPHemsley: Mostly informative and not matching anyone, no?

[17:16:52.0000] <GPHemsley>
Hixie_: And what about touch?

[17:17:00.0000] <GPHemsley>
gsnedders: No idea :)

[17:17:04.0000] <Hixie_>
GPHemsley: there's a wg on that. i'd stay waaaay clear.

[17:17:09.0000] <GPHemsley>
k

[17:17:17.0000] <heycam>
Hixie_, ok cool. if anything, I'll add a term you can link to, not IDL syntax.

[17:17:24.0000] <Hixie_>
cool

[17:17:33.0000] <GPHemsley>
so... the WHATWG handles all the stuff that people just assume are already handled

[17:17:46.0000] <Hixie_>
heycam: i figure the easiest option is probably a [LegacyNonEnumerableNamedProperties] attribute or something

[17:17:56.0000] <Hixie_>
GPHemsley: more or less

[17:18:06.0000] <Hixie_>
the nitty gritty isn't sexy

[17:18:12.0000] <GPHemsley>
we're like the guy with the broom at the end of the parade

[17:18:18.0000] <zewt>
Hixie_: so, wait until the WG specs touch events badly, then throw it out and spec it too? heh

[17:18:25.0000] <Hixie_>
(in the w3c's defense, CSS 2.1 was the first effort of its kind)

[17:19:00.0000] <Hixie_>
zewt: i'd stay away from touch events because it's a patent mine field and we have bigger fish to fry tright now.

[17:26:24.0000] <Hixie_>
you know it's a bad day when spec something that involves TWELVE separate occurrences of the fingerprint vector warning icon.

[17:42:42.0000] <TabAtkins>
gsnedders: PAG hell?

[17:42:53.0000] <gsnedders>
TabAtkins: patent advisory group

[17:43:10.0000] <gsnedders>
TabAtkins: Just, a wonderful way to stop anything actually moving forward

[17:43:34.0000] <TabAtkins>
Anyone know if it's possible in git to take a chunk of one file, and move it into a brand new repo with history intact?  Maybe just by cloning the old repo into a new one and manually carving away the rest of the file as the first new-repo commit?

[17:44:00.0000] <gsnedders>
TabAtkins: As Hixie said, it's a patent mind field with people claiming a fuckton of patents covering it

[17:44:23.0000] <gsnedders>
TabAtkins: You can take the single file and make a new repo of that, but not easily a chunk without manually doing a lot of work, I think

[17:44:47.0000] <TabAtkins>
Single file works as long as I get to carry history.

[17:44:54.0000] <TabAtkins>
If not, it's not a huge loss, but I'd like to.

[17:45:26.0000] <gsnedders>
clone and then use `git-filter-branch`

[17:45:35.0000] <gsnedders>
To remove everything but that file

[17:58:00.0000] <TabAtkins>
Excellent, thanks!

[18:13:58.0000] <TabAtkins>
Do algebraic numbers have a single-letter name, like Z for the integers or Q for the rationals?

[18:19:25.0000] <Hixie_>
"algebraic numbers"?

[18:19:50.0000] <TabAtkins>
Solution to polynomials.  The reals minus the transendentals.

[18:19:56.0000] <TabAtkins>
transcendentals

[18:20:32.0000] <Hixie_>
oh, those. not to my knowledge.

[18:21:28.0000] <TabAtkins>
Hm, then I don't have a class name for them that matches my pattern. ;_;

[18:21:41.0000] <TabAtkins>
My bigint class is called Z, my rational class will be called Q.

[18:27:24.0000] <GPHemsley>
"the algebraic numbers therefore form a field, sometimes denoted by A (which may also denote the adele ring) or Q [overbar]."

[18:27:35.0000] <TabAtkins>
A works for me!  Thanks!

[18:27:46.0000] <TabAtkins>
I couldn't find anything, but I was probably just skimming too fast.

[18:28:17.0000] <GPHemsley>
https://en.wikipedia.org/wiki/Algebraic_number#The_field_of_algebraic_numbers

[18:29:21.0000] <GPHemsley>
"In other words, the intersection of Q and A is exactly Z."

[18:29:45.0000] <GPHemsley>
In other words, the intersection of Q and A is exactly Z.

[18:29:47.0000] <GPHemsley>
err

[18:29:53.0000] <GPHemsley>
https://en.wikipedia.org/wiki/Algebraic_integer#Examples

[18:29:57.0000] <GPHemsley>
just for reference

[18:31:06.0000] <GPHemsley>
TabAtkins: ^

[18:32:16.0000] <TabAtkins>
Interesting.  That's a different reference, using A to refer solely to algebraic integers.

[18:32:21.0000] <TabAtkins>
I'll just ignore that.

[18:49:10.0000] <GPHemsley>
/me shrugs

[19:27:44.0000] <cabanier>
TabAtkins: polynomials? what are you doing? :-)

[19:28:06.0000] <TabAtkins>
Doing Project Euler problems in JS, so I needed a bigint library, and wrote one for myself.

[19:28:18.0000] <TabAtkins>
Soonish I'll need rationals, so I'll write that.  And then I might as well keep going.

[06:58:50.0000] <annevk>
Changed the spec and patched Firefox... https://bugzilla.mozilla.org/show_bug.cgi?id=891340

[07:02:36.0000] <jgraham>
Isn't that cheating? :p

[07:02:51.0000] <annevk>
The best kind

[07:07:58.0000] <Hixie_>
hm, i can't find any outstanding feedback on script preloading

[07:08:10.0000] <Hixie_>
that's amazing, usually there's always something or other pending...

[07:11:43.0000] <annevk>
Hixie_: are you sure? I'm pretty sure people still want more options for loading scripts

[07:11:56.0000] <annevk>
Hixie_: talk with JakeA

[07:12:07.0000] <Hixie_>
can't find any outstanding...

[07:12:23.0000] <annevk>
Hixie_: e.g. http://www.html5rocks.com/en/tutorials/speed/script-loading/

[07:13:35.0000] <JakeA>
I'd love http://www.html5rocks.com/en/tutorials/speed/script-loading/#toc-depressing to be possible

[07:13:38.0000] <jgraham>
Hixie_: Including email?

[07:13:41.0000] <Hixie_>
oh i'm sure people want stuff, but either they haven't asked for it, or they didn't reply to my last question on the topic

[07:13:44.0000] <Hixie_>
jgraham: yeah

[07:13:51.0000] <Hixie_>
jgraham: (there's very few bugs actually left now)

[07:14:03.0000] <Hixie_>
(only about 200 including all the deferred ones)

[07:14:32.0000] <JakeA>
Hixie_: Which question is this?

[07:16:05.0000] <Hixie_>
JakeA: dunno

[07:25:25.0000] <Hixie_>
JakeA: i'm just saying i can't find any outstanding feedback on the topic of script preloading

[07:25:27.0000] <Hixie_>
JakeA: which usually is very rare since there's always someone complaining about it :-)

[07:25:38.0000] <JakeA>
Kyle isn't happy that IE11 dropped readystate http://blog.getify.com/ie11-please-bring-real-script-preloading-back/

[07:25:39.0000] <JakeA>
although that's more an IE complaint than spec

[07:25:40.0000] <Hixie_>
yeah kyle is usually the one asking for something

[07:25:40.0000] <Hixie_>
(though i have great trouble understanding what he wants)

[07:25:41.0000] <JakeA>
:D

[07:25:43.0000] <annevk>
Hixie_: I think JakeA's article above captures what problems people are running into today with the semantics we offer

[07:25:43.0000] <JakeA>
I wanted a depends attribute, which took a CSS selector for dependencies, but saw that similar things had been discussed and the circular thing was a blocker. I'm hoping the ES6 module stuff is going to deal with this now

[07:25:45.0000] <Hixie_>
so there's two things i don't understand

[07:25:45.0000] <JakeA>
(eg <script src="…" depends=".other-scripts"></script>)

[07:25:46.0000] <Hixie_>
the first is, why does the platform need to worry about order? it's so trivial to make scripts wait on each other, and javascript is late-binding. the other is, if the slowness is just networking, then why can't you just use XHR and when you're ready, inline the script?

[07:25:48.0000] <Hixie_>
i'm sure if kyle saw me asking these, he'd bash his head against a wall, since i've asked him the same thing dozens of times and he's tried to answer dozens more

[07:25:50.0000] <JakeA>
Is it trivial to make scripts wait on each other? If one is a library from a CDN, and the other 3 are scripts of mine that use that library, how do I maintain execution order?

[07:25:51.0000] <JakeA>
As for XHR, I know Chrome treats XHR as low priority when the page is loading

[07:25:52.0000] <jgraham>
To be fair xhr+inlining seems rather complicated compared to a declarative solution

[07:25:52.0000] <JakeA>
& not discoverable by pre-parsers etc

[07:26:29.0000] <JakeA>
A declarative version of async=false would be most of the way there. But if we're going to see concatenation thrown out of the window with HTTP2, it'd be nice to have feature scripts run as soon as they & their dependencies are ready

[07:26:43.0000] <Hixie_>
JakeA: put "if (window.postMyLibraryLoad) while (window.postMyLibraryLoad.length) window.postMyLibraryLoad.pop()();" at the end of the library, put "if (!window.myLibrary) { if (!window.postMyLibraryLoad) window.postMyLibraryLoad = []; window.postMyLibraryLoad.push(localInit); } else localInit();" at the end of your dependent scripts

[07:26:53.0000] <Hixie_>
or some such

[07:27:03.0000] <Hixie_>
lots of ways to do it

[07:27:11.0000] <annevk>
Hixie_: you can't change the library script typically

[07:27:25.0000] <Hixie_>
of course you can change the library script

[07:27:40.0000] <annevk>
Hixie_: lots of sites load jQuery from Google

[07:28:12.0000] <Hixie_>
so just have jQuery implement this directly

[07:28:24.0000] <jgraham>
So, would something like <script src="foo" defer="id1 id2"> work? In down-rev browsers the script would be defered until DOMContentLoaded. In supporting browsers it would execute after scripts with id id1 and id2, with some logic at DOMContentLoaded to ensure that all scripts would load

[07:28:59.0000] <jgraham>
Hixie_: It isn't really sensible to get all library authors to agree on a common loading pattern

[07:29:13.0000] <JakeA>
jgraham: Yeah, although you can get into deadlock, which I've head is the reason this has been thrown out in the past

[07:29:20.0000] <Hixie_>
jgraham: they don't need to. just put whatever pattern you want at the end of the library.

[07:29:23.0000] <jgraham>
And if they have to it is clear evidence that the platform should be providing one

[07:29:28.0000] <annevk>
Hixie_: getting each library to work on some kind of standardized solution could maybe work... but putting the solution a level higher would be so much easier

[07:29:46.0000] <jgraham>
Hixie_: If you don't control the library you can't do that

[07:29:50.0000] <JakeA>
I guess this common loading pattern is ES6 modules

[07:30:08.0000] <Hixie_>
anyway, if there's a library that matters so much, why can't you just import it with <script src="">

[07:30:19.0000] <JakeA>
but yeah, if it's a hosted library, you lose

[07:30:20.0000] <jgraham>
JakeA: I'm not sure I see that there has to be a deadlock

[07:30:22.0000] <Hixie_>
then it'll automatically block anything else

[07:30:25.0000] <jgraham>
But I am probably missing something

[07:30:37.0000] <annevk>
Hixie_: you don't want to block page loading

[07:30:47.0000] <annevk>
Hixie_: and you want <script> loading to start asap

[07:30:58.0000] <zewt>
(i don't want to modify external libraries if i don't absolutely have to--maintenance headache)

[07:31:08.0000] <annevk>
Hixie_: this is fairly fundamental stuff in web development...

[07:31:10.0000] <jgraham>
(if you end up in a situation where B is waiting for A and A for B you can decree that tree order wins or something)

[07:31:13.0000] <JakeA>
jgraham: <script id="one" defer="two" src="…"> <script id="two" defer="one" src="…">

[07:31:28.0000] <JakeA>
yeah, that'd work

[07:32:47.0000] <Hixie_>
annevk: *shrug* i agree it's fundamental, i just don't see the problem...

[07:33:07.0000] <jgraham>
I don't know enough about ES6 modules to know if they solve this. Presumably they can only work once the script has downloaded and parsed

[07:33:28.0000] <annevk>
Hixie_: 1) you don't want to modify libraries and you can't always do that 2) you don't want to block page loading 3) you want to start loading dependencies asap

[07:33:37.0000] <annevk>
Hixie_: script loading doesn't cater to that at the moment

[07:33:42.0000] <annevk>
Hixie_: it seems pretty trivial to me

[07:36:57.0000] <JakeA>
jgraham: I'm *hoping* you can put your imports in an inline script. They'd be declarative so preloaders can do their thing, and I hope you can be complex with the dependencies. However, I have no idea if it'll turn out like this

[07:37:30.0000] <jgraham>
Ah, I see

[07:37:57.0000] <jgraham>
It doesn't seem very modular though

[07:38:05.0000] <JakeA>
I like jgraham's suggestion, although it should use a new attribute rather than defer as IE<10 has poisoned defer

[07:39:54.0000] <jgraham>
(although I guess one way or another none of this is since it is all about declaring dependencies seperate from the actual code)

[07:45:33.0000] <GPHemsley>
/me clouds up the wiki history

[07:45:59.0000] <GPHemsley>
moar categories! moar obsolete pages!

[07:47:59.0000] <annevk>
Not entirely sure http://wiki.whatwg.org/wiki/Character_Encoding_Detection is completely obsolete, but I guess it's fine to mark it as such

[08:06:28.0000] <Hixie_>
if we do do <script defer="otherscript1 otherscript2">, we could also do <script asneeded> and HTMLScriptElement.needed(), and .needed() would propagate to all the elements that defer="" points to as well

[08:06:49.0000] <Hixie_>
(i guess asneeded should still download and parse, just not execute)

[08:07:23.0000] <Hixie_>
(though i'm very not convinced that executing needs to take any time at all, so i don't understand why people are so eager to parse ahead of time but defer execution)

[08:08:55.0000] <Hixie_>
looks like http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-December/038429.html is the last e-mail i can find on the subject

[08:14:25.0000] <GPHemsley>
annevk: In this case, "obsolete" means "superseded"—the contents of the wiki page are not necessarily wrong; they're just no longer authoritative.

[08:15:05.0000] <annevk>
GPHemsley: I think for this subject they might be. Though it might turn out we're going to get the entire platform to move away from sniffing.

[08:15:32.0000] <GPHemsley>
annevk: Well, if you think the wiki page is still relevant, feel free to revert. :)

[08:16:06.0000] <annevk>
Hixie_: btw, I've also seen requests for <link rel=stylesheet async>

[08:16:23.0000] <annevk>
Hixie_: to indicate the style sheet is not essential for the purposes of <script>, .offsetWidth, etc.

[08:44:52.0000] <dglazkov>
good morning, Whatwg!

[08:59:29.0000] <GPHemsley>
Who broke the whatwg.org domain?

[09:01:03.0000] <GPHemsley>
ah, it's back

[09:27:44.0000] <JakeA>
Hixie_: Like asneeded, needed should return a promise

[09:28:20.0000] <Hixie_>
needed?

[09:28:35.0000] <Hixie_>
wouldn't this be a content attribute?

[09:28:37.0000] <JakeA>
HTMLScriptElement.needed().then(...)

[09:28:41.0000] <Hixie_>
oh, right

[09:28:48.0000] <Hixie_>
which would execute once the scripts had run?

[09:28:56.0000] <JakeA>
yeah

[09:29:09.0000] <Hixie_>
so basically the same as <script onafterscriptexecute> ?

[09:29:12.0000] <JakeA>
I guess you've been told the gmail js-in-comments story 100 times

[09:29:22.0000] <Hixie_>
er, <script onload> i mean

[09:29:50.0000] <Hixie_>
gmail does all kinds of things that i don't understand the motivation for

[09:30:17.0000] <JakeA>
yeah, it'd be like onload but promisey

[09:30:32.0000] <JakeA>
Here's David Herman looking at function-futures https://bugzilla.mozilla.org/show_bug.cgi?id=854627

[09:31:22.0000] <Hixie_>
i don't understand that bug. why wouldn't all script compilation happen async?

[09:31:35.0000] <JakeA>
Here's me with a very similar idea to asneeed https://gist.github.com/jakearchibald/5618497

[09:32:47.0000] <JakeA>
I think FunctionFuture is an alternative to `new Function`, which is sync

[09:33:21.0000] <Hixie_>
new Function () doesn't do any compilation, does it?

[09:33:57.0000] <JakeA>
yeah, var f = new Function("alert('hello')"); f();

[09:34:22.0000] <Hixie_>
oh, with arguments

[09:34:30.0000] <Hixie_>
yeah that's just a fancy eval. just don't do that.

[09:35:04.0000] <JakeA>
indeed

[09:36:10.0000] <JakeA>
When I threw that gist around, people much preferred the "depends" attribute to the promise-based model for determining execution order, but yeah, you don't get to defer parsing

[09:36:28.0000] <Hixie_>
well you could

[09:36:31.0000] <Hixie_>
is that needed?

[09:36:36.0000] <Hixie_>
i can't tell what people want

[09:36:47.0000] <Hixie_>
delaying execution seems pointless since execution can be free

[09:36:51.0000] <Hixie_>
but that seems to be what people ask for

[09:37:01.0000] <JakeA>
I'm equally unconvinced

[09:37:50.0000] <JakeA>
I avoided serving js to older browsers on http://m.lanyrd.com, the old backberry browser took seconds to parse the js

[09:38:12.0000] <Hixie_>
well old browsers aren't going to support any of this new stuff either way

[09:38:16.0000] <JakeA>
exactly

[09:38:42.0000] <JakeA>
maybe the gmail team have data on this for newer devices?

[09:43:51.0000] <GPHemsley>
Hixie_: Still trying to determine the exact dimensions of the gap in mouse behavior specs: Are you looking for something like "When the mouse moves over an element, fire a 'mousemove' event on that element'?

[09:44:11.0000] <Hixie_>
yes

[09:44:32.0000] <Hixie_>
with a "must" in there somewhere

[09:44:35.0000] <Hixie_>
:-)

[09:45:40.0000] <Hixie_>
oops, apparently i forgot to tell dreamhost t actually go ahead and update the server OS

[09:45:49.0000] <Hixie_>
whatwg.org will probably go down for a bit today while the OS is updated

[09:45:50.0000] <GPHemsley>
yeah, I noticed :P

[09:49:46.0000] <annevk>
Ms2ger: write a test

[09:50:02.0000] <Ms2ger>
It's your bug :)

[09:51:37.0000] <GPHemsley>
Hixie_: Are you picturing this mouse behavior spec to be its own document?

[09:53:21.0000] <annevk>
GPHemsley: also, note that there's a number of problems with that line

[09:53:41.0000] <GPHemsley>
annevk: ?

[09:53:48.0000] <Hixie_>
GPHemsley: only insofar as you'd likely not want it in the mime sniffing document :-)

[09:53:48.0000] <annevk>
GPHemsley: 1) "moves over an element"; you need to define how to determine this, through defining hit testing

[09:54:21.0000] <Hixie_>
GPHemsley: my personal ideal would be that all our specs be in one document, but that's too complicated to handle edit-wise, so my realistic ideal is that there be one doc per editor.

[09:54:23.0000] <annevk>
GPHemsley: 2) "fire a mousemove event"; MouseEvent has a number of members and you'll need to define how each is to be set, given the element determined through hit testing

[09:54:27.0000] <Hixie_>
GPHemsley: but you do as you wish :-)

[09:55:19.0000] <GPHemsley>
annevk: Well, that's part of my question... a lot of this is already defined in DOM 3 Events, IIUC

[09:55:22.0000] <Hixie_>
i need a tool that can periodically sample memory usage on my linux box and show me the data over time

[09:55:25.0000] <Hixie_>
anyone know of anything like that?

[09:55:26.0000] <annevk>
GPHemsley: no it's not

[09:56:08.0000] <GPHemsley>
annevk: Then I guess I don't UC

[09:58:02.0000] <annevk>
Ms2ger: so if I were to write a test, which test should be updated?

[09:58:34.0000] <GPHemsley>
annevk: Can you give an example of a MouseEvent member whose behavior is not defined by DOM 3 Events?

[09:59:14.0000] <Ms2ger>
dom/ranges/Range-collapse.html in https://github.com/w3c/web-platform-tests

[09:59:16.0000] <annevk>
GPHemsley: clientX

[09:59:24.0000] <GPHemsley>
Hixie_: I ask because someone would need to set it up :)

[09:59:31.0000] <Ms2ger>
/ http://mxr.mozilla.org/mozilla-central/source/dom/imptests/webapps/DOMCore/tests/approved/test_Range-collapse.html?force=1

[09:59:42.0000] <Hixie_>
GPHemsley: oh if you want a subdomain, yeah, let me know

[09:59:58.0000] <annevk>
Ms2ger: that seems like something you can do much better than I

[10:00:20.0000] <Ms2ger>
I'm confident you can do it

[10:00:37.0000] <GPHemsley>
annevk: Oh, so I have to get down to the nitty gritty about the pointer location? ( Hixie_ said this would be easy :( )

[10:00:52.0000] <Hixie_>
i didn't say it would be _easy_

[10:00:59.0000] <Hixie_>
just that it wouldn't be as bad as html editing :-)

[10:01:01.0000] <GPHemsley>
oh, sorry, "not too hard"

[10:01:07.0000] <annevk>
Ms2ger: first getting something through web-platform-tests and then importing that... I think I rather reassign

[10:01:22.0000] <GPHemsley>
Hixie_: I have to watch your words carefully :P

[10:01:27.0000] <annevk>
GPHemsley: hah, user interaction is hard

[10:02:22.0000] <annevk>
GPHemsley: so you know pointer location, that's x,y, the problem is determining what element is at x,y, the scroll positions of the various elements, etc.

[10:02:36.0000] <GPHemsley>
eesh

[10:02:39.0000] <annevk>
GPHemsley: and then setting the event attributes correctly, adjusting for pseudo-elements, ...

[10:02:47.0000] <annevk>
GPHemsley: adjusting for Shadow DOM

[10:09:41.0000] <Hixie_>
ok looks like update is happening now

[10:09:42.0000] <Hixie_>
afk

[10:10:22.0000] <GPHemsley>
"The building might be blowing up right now, so I'm gonna leave."

[10:12:54.0000] <annevk>
Ms2ger: seems that test has bugs

[10:12:59.0000] <annevk>
Ms2ger: blargh

[10:24:08.0000] <GPHemsley>
And the Mozilla WebVTT situation has escalated...

[10:25:53.0000] <rillian_>
GPHemsley: following the bugs are you? :)

[10:26:15.0000] <GPHemsley>
just the <track> tracking bug

[10:26:44.0000] <msaad>
GPHemsley: let the spamming begin!

[10:26:54.0000] <GPHemsley>
indeed

[10:27:23.0000] <annevk>
Ms2ger: https://github.com/w3c/web-platform-tests/pull/243 fix it

[10:27:36.0000] <annevk>
GPHemsley: pointer?

[10:27:45.0000] <GPHemsley>
https://bugzilla.mozilla.org/show_bug.cgi?id=629350

[10:27:52.0000] <GPHemsley>
all the open dependencies are being WONTFIXed

[10:28:05.0000] <Ms2ger>
Ignore that, please

[10:29:38.0000] <annevk>
Ms2ger is now a PR-bot?

[10:30:02.0000] <GPHemsley>
/me does wonder why the legal bug never received a response

[10:30:04.0000] <Ms2ger>
annevk, looks like something weird is up with the indentation in your PR

[10:30:37.0000] <annevk>
Ms2ger: I tried to preserve the tabs, if that failed, fuck tabs

[10:30:50.0000] <Ms2ger>
I don't disagree there...

[10:31:00.0000] <GPHemsley>
<3 tabs

[10:39:33.0000] <annevk>
Ms2ger: anyway, someone can fix that when merging right?

[10:39:49.0000] <Ms2ger>
I guess

[10:39:53.0000] <Ms2ger>
jgraham, ^

[10:43:14.0000] <Hixie_>
ok, system's been upgraded

[10:43:25.0000] <Hixie_>
i've already found two problems... my mail client and my text editor

[10:43:29.0000] <Hixie_>
nothing i use regularly or anything...

[10:46:01.0000] <Hixie_>
ok pine is now alpine, that's easy enough and seems backwards compatible, excellent.

[10:46:10.0000] <Hixie_>
now why is emacs not able to create directories in /tmp

[10:50:34.0000] <Hixie_>
ok, setting TMPDIR to something local seems to have fixed that

[13:13:23.0000] <Hixie_>
oh blimey, my entire build system is full of bugs now

[13:13:34.0000] <Hixie_>
/me grabs some duct tape and goes on a fixing rampage

[13:13:43.0000] <Ms2ger>
It wasn't before? :)

[13:16:01.0000] <Hixie_>
Ms2ger: i just updated the os

[13:16:04.0000] <Hixie_>
well, i didn't

[13:16:06.0000] <Hixie_>
dreamhost did

[13:16:12.0000] <Hixie_>
so all the command line tools subtly changed behaviour

[13:19:08.0000] <Hixie_>
i just went up like two whole emacs versions

[13:19:15.0000] <Hixie_>
i'm all the way up to date with 2010 emacs now! -_-

[13:21:44.0000] <annevk>
Hixie_: the broadcasting to same-origin global API, was that part of a bug already?

[13:21:51.0000] <annevk>
globals*

[13:23:49.0000] <Hixie_>
come again?

[13:24:02.0000] <Hixie_>
oh, like postMessage for broadcasts?

[13:24:10.0000] <Hixie_>
i'm not aware of a bug or e-mail on that off-hand

[13:30:24.0000] <annevk>
Should I file one?

[13:34:16.0000] <Hixie_>
if you must

[13:34:18.0000] <Hixie_>
/usr/bin/perl: symbol lookup error: /home/ianh/bin/perl/lib/x86_64-linux-gnu-thread-multi/auto/Compress/Raw/Zlib/Zlib.so: undefined symbol: Perl_Tstack_sp_ptr

[13:34:22.0000] <Hixie_>
that seems... bad

[13:34:47.0000] <Hixie_>
oh i guess it means by zlib library is out of date

[13:34:56.0000] <Hixie_>
lets see if i even need that now...

[13:39:33.0000] <annevk>
I guess I must, and given you define Window/Workers...

[13:46:05.0000] <annevk>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=22628

[13:47:57.0000] <smaug____>
rafaelw: hmm, let me think of Bug 22296

[13:52:51.0000] <annevk>
Hmm, sees like the diff cache is full again

[13:57:43.0000] <annevk>
I wonder if my DreamHost instance got updated as well... Something is wrong with html5.org's diff tool.

[14:01:34.0000] <Hixie_>
unlikely

[14:06:30.0000] <annevk>
Maybe the output of svn changed...

[14:06:36.0000] <annevk>
Distributed software is great

[14:08:53.0000] <annevk>
Hixie_: so, "svn: Can't find a temporary directory: Internal error", wasn't that what you got?

[14:13:49.0000] <Hixie_>
huh

[14:13:54.0000] <Hixie_>
how'd you get that?

[14:14:09.0000] <Hixie_>
haven't had any trouble with svn, but there's every chance that there's lurking trouble there

[14:14:42.0000] <annevk>
When I run "svn diff -r 8040:8041 http://svn.whatwg.org/webapps/source"

[14:14:59.0000] <annevk>
When I run "svn log" things are fine

[14:15:00.0000] <Hixie_>
i can repro

[14:15:03.0000] <Hixie_>
looking now

[14:15:29.0000] <Hixie_>
sounds like a system-level config problem. will report to dreamhost.

[14:17:09.0000] <Hixie_>
sent

[14:17:14.0000] <Hixie_>
i'm guessing it's an issue with /tmp permissions

[14:18:31.0000] <annevk>
tweeted

[14:44:26.0000] <rafaelw>
smaug____: cool.

[14:45:17.0000] <rafaelw>
FWIW, I plan to prepair a patch for blink which causes showModalDialog to throw if called within a mutationobserver callback.

[14:45:21.0000] <rafaelw>
(soon).

[14:45:29.0000] <rafaelw>
smaug___: ^^^

[14:46:07.0000] <Hixie_>
rafaelw: speak to jamesr__, someone the other day was talking abotu making showModalDialog() throw when called from anything that's not a user gesture, which would subsume that

[14:46:22.0000] <rafaelw>
ok. will do.

[14:46:22.0000] <rafaelw>
thanks.

[14:46:34.0000] <Hixie_>
(btw i think the spec says to make it do nothing, not throw)

[14:46:40.0000] <rafaelw>
ok.

[14:47:00.0000] <rafaelw>
jamesr__: you got your ears on?

[14:58:57.0000] <Hixie_>
yay for including ip addresses in bugs from the quick form

[15:03:00.0000] <annevk>
rafaelw: didn't smaug____ point out elsewhere that it wasn't just showModalDialog but also other things?

[15:03:30.0000] <rafaelw>
i'm hoping he'll point it out again =-)

[15:03:40.0000] <rafaelw>
(sync xhr?)

[15:03:42.0000] <annevk>
I should take some time to read up on all this since event loops currently make me run

[15:03:43.0000] <rafaelw>
(workers)

[15:03:48.0000] <annevk>
/me looks

[15:03:51.0000] <smaug____>
sync XHR is gecko only thing

[15:03:57.0000] <annevk>
sync XHR is not it, although it is in Gecko at the moment

[15:04:00.0000] <smaug____>
parser spins

[15:04:02.0000] <smaug____>
IIRC

[15:04:10.0000] <smaug____>
and there might be some 3rd case too

[15:05:45.0000] <annevk>
Oh, it was sicking, see https://www.w3.org/Bugs/Public/show_bug.cgi?id=20821#c3 rafaelw

[15:06:06.0000] <annevk>
"It's definitely the case that spinning the event loop does raise a lot of complex issues with regards to things that need to happen at end-of-microtask. However many of these issues arise no matter what."

[15:06:31.0000] <rafaelw>
that's the part that i don't understand.

[15:06:39.0000] <rafaelw>
otherwise it sounds like we're in agreement.

[15:06:44.0000] <rafaelw>
IOW: Don't do that.

[15:06:56.0000] <rafaelw>
(and try to make progress towards removing that surface area)

[15:07:51.0000] <annevk>
I think I'm in your camp, but for now I'm just trying to get you guys to sort it out :-)

[15:09:05.0000] <jamesr__>
document.write() doesn't spin the message loop

[15:09:08.0000] <jamesr__>
although it can run lots of fun things

[15:09:13.0000] <jamesr__>
ditto with innerHTML

[15:09:52.0000] <jamesr__>
for my money, showModalDialog() should just throw (or silently do nothing) in all cases. web compat impact TBD :)

[15:11:56.0000] <annevk>
uhuh

[15:15:45.0000] <Hixie_>
hear hear

[15:15:52.0000] <Hixie_>
though i did just finish fixing its spec :-)

[15:16:04.0000] <Hixie_>
if anyone objects to my renaming the term "allowed to navigate", please speak up now

[15:18:27.0000] <Hixie_>
(specifically, my plan is s/allowed to navigate/friendly with/)

[15:18:46.0000] <Hixie_>
or "friends with"

[15:30:19.0000] <annevk>
Hixie_: "Stop one"

[15:33:37.0000] <Hixie_>
where?

[15:39:51.0000] <annevk>
Hixie_: commit message ;)

[15:40:31.0000] <Hixie_>
oh, no chance of changing those

[15:47:18.0000] <Hixie_>
"If I do not know how to use what can be helped by itself, so that the maximum my site as desired?"

[16:16:51.0000] <divya>
wheres simon when you need him

[16:26:00.0000] <GPHemsley>
Hixie_: Next step is to upgrade PHP?

[16:26:09.0000] <Hixie_>
oh right

[16:26:31.0000] <Hixie_>
wiki.whatwg.org right?

[16:26:45.0000] <Hixie_>
5.3 or 5.4? 5.4?

[16:26:57.0000] <GPHemsley>
what's the highest

[16:27:00.0000] <Hixie_>
5.4

[16:27:02.0000] <Hixie_>
FastCGI?

[16:27:04.0000] <GPHemsley>
yeah

[16:27:16.0000] <Hixie_>
XCache? it wasn't checked before

[16:27:22.0000] <GPHemsley>
hmm

[16:27:30.0000] <GPHemsley>
nah

[16:27:34.0000] <Hixie_>
done

[16:27:38.0000] <GPHemsley>
thanks

[16:27:41.0000] <GPHemsley>
/me checks for bustage

[16:28:03.0000] <GPHemsley>
hmm... not instantaneous?

[16:28:35.0000] <GPHemsley>
oh, you know something

[16:28:43.0000] <GPHemsley>
I think the OS upgrade earlier broke the wiki widgets

[16:29:12.0000] <GPHemsley>
err, gadgets

[16:30:22.0000] <GPHemsley>
Hixie_: Did it say how long it would take to go into effect?

[16:30:59.0000] <Hixie_>
prolly take 10 or so minutes

[16:31:08.0000] <GPHemsley>
alright, I'll check back later

[16:31:11.0000] <Hixie_>
they have a system that does deployments in a queue or something

[16:37:34.0000] <Hixie_>
i've gotten to a low enough number of bugs that i've actually responded to all 10 within the last 12 horus

[16:37:44.0000] <Hixie_>
(all 10 that aren't blocked or intentionally deferred)

[16:38:00.0000] <Hixie_>
(there's 110 of those)


2013-07-10
[17:02:00.0000] <jamesr__>
Hixie_: http://mxr.mozilla.org/mozilla-central/source/dom/base/nsGlobalWindow.cpp#309

[17:02:05.0000] <Hixie_>
thanks

[17:02:34.0000] <jamesr__>
(finding the blink/webkit one)

[17:02:49.0000] <jamesr__>
blink: https://code.google.com/p/chromium/codesearch#chromium/src/third_party/WebKit/Source/core/page/DOMTimer.cpp&sq=package:chromium&type=cs&l=41

[17:02:57.0000] <jamesr__>
webkit's still the same

[17:04:43.0000] <Hixie_>
notice firefox actually clamps setinterval to 1

[17:05:34.0000] <zewt>
big blocks of code-in-defines in firefox code = sadface

[17:06:03.0000] <jamesr__>
oh interesting

[17:06:26.0000] <jamesr__>
looks like we do too

[17:06:36.0000] <Hixie_>
actually looks like blink clamps to 0 even in settimeout?

[17:06:46.0000] <Hixie_>
is DOMTimer::DOMTimer called for both timeouts and intervals?

[17:06:47.0000] <jamesr__>
here: https://code.google.com/p/chromium/codesearch#chromium/src/third_party/WebKit/Source/core/page/DOMTimer.cpp&sq=package:chromium&type=cs&l=85

[17:06:50.0000] <Hixie_>
er, 1

[17:07:18.0000] <jamesr__>
the difference between 0 and 1 is rarely web-observable

[17:07:25.0000] <jamesr__>
but that's interesting

[17:08:51.0000] <Hixie_>
it's not often that i think gecko code is easier to follow than webkit code, but in this particular instance...

[17:09:41.0000] <Hixie_>
wait, nevermind, i scrolled down more in the gecko code

[17:11:29.0000] <jamesr__>
the amount of gecko code that fits into one page is simpler :P

[17:11:54.0000] <jamesr__>
i don't think we have an equivalent of their IsFrozen() stuff

[17:12:11.0000] <zewt>
at least it's not ... java

[17:12:22.0000] <zewt>
the king language of "take 25 pages to do anything"

[17:12:27.0000] <jamesr__>
or the subject principle stuff they have

[17:12:44.0000] <jamesr__>
since we don't support bfcache or running privileged JS in the same context as web content

[17:14:02.0000] <zewt>
usually when i look at gecko, i give up before even finding the source for the thing i'm interested in, heh

[17:15:26.0000] <jamesr__>
mxr.mozilla.org is great

[17:15:35.0000] <jamesr__>
just have to throw enough regexes at it

[17:15:48.0000] <jamesr__>
and remember to throw "ns" on the front of random things

[17:17:19.0000] <Hixie_>
i'm marking https://www.w3.org/Bugs/Public/show_bug.cgi?id=22604 NEEDSINFO unless someone can elaborate on what needs explaining. (window.stop())

[17:21:57.0000] <GPHemsley>
Hixie_: ah, updated now, cool

[17:23:13.0000] <zewt>
i think it's fabulous that, when logging into progressive.com, i enter my username and password, then click "save user id"

[17:23:29.0000] <zewt>
and it ... opens a new page explaining what "save user id" means (and when i hit back the info i entered is gone)

[17:23:33.0000] <zewt>
label fail

[17:24:22.0000] <GPHemsley>
/me will eventually get to upgrading the MediaWiki installation

[17:29:08.0000] <Hixie_>
ok. i have officially dealt with bugs and will now transition to e-mails.

[17:29:44.0000] <Hixie_>
yikes, according to my e-mail metrics script, i have some feedback from 1969-12-31 16:00:00

[17:29:53.0000] <Hixie_>
i'm thinking maybe my script will be the next thing i work on...

[17:30:09.0000] <zewt>
maybe you're just more behind than you thought

[18:04:24.0000] <MikeSmith>
Hixie_: commit-watchers messages are showing some svn error on your server

[18:04:30.0000] <MikeSmith>
http://lists.whatwg.org/pipermail/commit-watchers-whatwg.org/2013/007197.html

[18:04:51.0000] <MikeSmith>
"svnlook: Can't find a temporary directory"

[18:05:09.0000] <Hixie_>
yeah, known issue

[18:05:18.0000] <Hixie_>
support request is in the queue

[18:06:35.0000] <MikeSmith>
ok

[18:07:19.0000] <MikeSmith>
ah I see it means the diffs aren't showing up at e.g., http://html5.org/tools/web-apps-tracker?from=8048&to=8049 either

[18:07:49.0000] <MikeSmith>
/me resorts to running svn log locally

[18:08:22.0000] <MikeSmith>
$ svn update

[18:08:23.0000] <MikeSmith>
Updating '.':

[18:08:23.0000] <MikeSmith>
svn: E020014: Can't find a temporary directory: Internal error

[18:09:15.0000] <MikeSmith>
I guess that's the same error, coming from your server

[18:09:33.0000] <MikeSmith>
gotta love subversion

[18:13:55.0000] <nessy1>
Hixie_ thanks for dealing with the removeTextTrack() request - hope it's ok for me to flick things like this over to WHATWG?

[18:25:22.0000] <Hixie_>
MikeSmith: yeah

[18:25:27.0000] <Hixie_>
MikeSmith: server was updated today

[18:25:30.0000] <Hixie_>
nessy1: sure

[18:25:48.0000] <MikeSmith>
Hixie_: ok

[18:50:37.0000] <annevk>
MikeSmith: distributed software man, kinda like the web

[18:51:17.0000] <MikeSmith>
poorly distributed

[18:51:19.0000] <MikeSmith>
clearly

[18:51:32.0000] <MikeSmith>
in the case of svn at least

[18:51:48.0000] <MikeSmith>
ill-distributed

[18:53:14.0000] <annevk>
MikeSmith: I say we blame your employer

[18:54:19.0000] <MikeSmith>
which of my employers? the NSA, or the Six Big Hollywood Studios?

[19:01:09.0000] <annevk>
MikeSmith: Looney Tunes, doh

[19:11:33.0000] <Hixie_>
man, this /tmp problem has all kinds of side-effects

[19:11:42.0000] <Hixie_>
all my cron jobs are broken because cron can't create lock files

[19:26:49.0000] <Hixie_>
oh, awesome. i'm finally running a version of perl recent enough to have the // operator.

[19:31:01.0000] <heycam>
/me does "man perlop", discovers that // looks pretty useful

[19:34:06.0000] <Hixie_>
heycam: //= too

[19:34:11.0000] <Hixie_>
in fact //= is the more useful one

[19:35:57.0000] <zewt>
perl :|

[19:47:23.0000] <annevk>
/= assigns RH to LH if RH is defined and otherwise leaves LH be LH?

[19:47:34.0000] <annevk>
 //=*

[19:54:14.0000] <Hixie_>
yes

[19:54:37.0000] <Hixie_>
zewt: yeah, while i love perl, i'd never actually recommend it to anyone. :-)

[19:55:10.0000] <Hixie_>
zewt: it gets "unmaintainable" as one of its "other notable failings" on my programming languages page (http://ian.hixie.ch/programming/)

[20:15:17.0000] <tantek>
Hixie, nice table. Curious what you're take on PHP is / will be.

[20:15:31.0000] <tantek>
and Rust while you're at it.

[20:15:34.0000] <Hixie_>
php doesn't deserve to be on that table

[20:15:39.0000] <Hixie_>
not familiar with rust

[20:15:49.0000] <zewt>
php is more useful than perl in my experience heh

[20:16:06.0000] <tantek>
PHP seems to be fairly good for shipping / scaling websites in practice.

[20:16:16.0000] <msaad>
tanked: indeed!

[20:16:20.0000] <msaad>
tantek*

[20:16:26.0000] <tantek>
You know, WordPress, Facebook, small sites/software like that.

[20:16:32.0000] <msaad>
ahahhaa

[20:17:06.0000] <tantek>
Hixie: http://en.wikipedia.org/wiki/Rust_%28programming_language%29

[20:20:50.0000] <Hixie_>
seems fine

[20:21:07.0000] <Hixie_>
as far as that table goes, it's not supposed to be subjective

[20:21:30.0000] <Hixie_>
so you could easily enough (if you know rust) fill out a row for it

[00:40:03.0000] <heycam>
what's the difference between Rect and CSSRect?

[01:08:04.0000] <hsivonen>
Hixie_: Your programming language table is too generous when it says Python has Unicode support

[01:08:23.0000] <hsivonen>
it has it twice and you don't know which semantics your program will be run with

[01:08:31.0000] <hsivonen>
which is arguable worse than no explicit support

[01:11:10.0000] <jgraham>
hsivonen: That assessment is much more theoretical than practical

[01:12:29.0000] <jgraham>
For the cases where it matters (and istr that some of the differences have been fixed in the API) you can detect at runtime which kind of build you are running on

[02:58:27.0000] <jgraham>
Ms2ger: What did you want me to do?

[02:59:25.0000] <Ms2ger>
annevk wanted someone to fix up the tabs when merging his PR

[03:00:11.0000] <Ms2ger>
(Introduce tabs, that is)

[03:03:25.0000] <jgraham>
I am still quite confused. Why did he want tabs and why did he want someone else to add them? Also where (i.e. which PR)?

[03:04:28.0000] <Ms2ger>
https://github.com/w3c/web-platform-tests/pull/243

[03:04:42.0000] <Ms2ger>
The file uses tabs because Aryeh wrote it

[03:06:22.0000] <jgraham>
Oh OK

[03:06:45.0000] <jgraham>
Well I have an alternate proposal, which is s/\t/    /g

[03:46:14.0000] <darobin>
jgraham: that doesn't actually really work for replacing tabs

[03:46:18.0000] <darobin>
well, it'll replace tabs alright

[03:46:45.0000] <darobin>
but you might wreak havoc if someone has them anywhere other than at the beginning of a line

[03:48:55.0000] <Ms2ger>
That's fine, then

[03:52:51.0000] <jgraham>
darobin: Well in practice I would (will) actually just use the emacs function.

[03:53:40.0000] <darobin>
Ms2ger: I wouldn't trust someone who's using tabs in the first place not to sprinkle them throughout :)

[03:53:45.0000] <darobin>
jgraham: yeah

[03:53:59.0000] <Ms2ger>
I trust Aryeh on that

[05:02:11.0000] <darobin>
is it known that the WHATWG SVN is dead?

[05:02:38.0000] <darobin>
ah, yes, it's known

[05:04:42.0000] <darobin>
bummer

[05:26:40.0000] <annevk>
doesn't take long to figure out when all things fall apart :)

[05:27:12.0000] <annevk>
jgraham: replacing with spaces wfm too, I'd prefer if the person merging does it

[05:39:16.0000] <annevk>
JakeA: were you interested in https://www.w3.org/Bugs/Public/show_bug.cgi?id=22628 or was that someone else?

[05:41:17.0000] <JakeA>
I don't *think* that was me

[05:42:40.0000] <JakeA>
There was stuff around getting information from the window object into the NavigationController (but the problem there is there isn't always a related window), but I don't think this is part of it

[05:42:42.0000] <annevk>
JakeA: mkay, well now you know anyway

[05:43:03.0000] <annevk>
JakeA: yeah, that's a bit distinct, though I guess there might be some overlap

[05:48:34.0000] <annevk>
Hixie_'s table makes C# look pretty compelling

[06:06:53.0000] <darobin>
C# isn't too bad, it's a bit like Java done right

[06:42:42.0000] <annevk5>
Domenic_: why did you not make Elements a frozen array btw?

[06:42:52.0000] <darobin>
a quick question to the python people here...

[06:43:00.0000] <darobin>
I have this lovely piece of code: new_toc_items = [ (d, id, e) for (d, id, e) in toc_items if id_pages[id] == name ]

[06:43:04.0000] <darobin>
and I'm getting a KeyError

[06:43:23.0000] <darobin>
do I presume right that it's for a key that's in toc_items and not in id_pages?

[06:43:44.0000] <darobin>
/me swears this language will drive me crazy, Perl ftw

[06:43:48.0000] <Ms2ger>
Sounds right

[06:43:52.0000] <darobin>
k, ta

[06:44:00.0000] <Ms2ger>
id_pages.get() maybe?

[06:44:09.0000] <darobin>
/me now at least knows in which haystack to look for the needle

[06:44:18.0000] <gsnedders>
darobin: What type is toc_items?

[06:44:35.0000] <darobin>
Ms2ger: I thought of that, but I think it's a genuine issue if the key ain't there

[06:45:03.0000] <darobin>
gsnedders: it's an array, or whatever [] is called in Python

[06:45:09.0000] <annevk_>
darobin: list

[06:45:27.0000] <darobin>
right, I knew they'd do it differently :)

[06:45:39.0000] <annevk_>
it makes sense

[06:45:43.0000] <annevk_>
if you're Dutch

[06:45:50.0000] <darobin>
aha!

[06:46:10.0000] <darobin>
maybe I should learn Dutch then, if it makes my grief in using python go away it's worth it

[07:42:52.0000] <GPHemsley>
Chrome doesn't fire mouseenter/mouseleave? o_0

[07:44:42.0000] <Ms2ger>
gsnedders, remind me how I get sorted attributes in html5lib?

[07:45:20.0000] <GPHemsley>
and neither does Safari

[07:45:33.0000] <Ms2ger>
Or jgraham

[07:46:29.0000] <SimonSapin>
Ms2ger: HTMLSerializer(alphabetical_attributes=True)

[07:47:09.0000] <GPHemsley>
Hixie_: Oh, goodie. No interop in mouse event order.

[07:47:37.0000] <GPHemsley>
(Though Opera's behavior is what I would've done.)

[07:48:22.0000] <Ms2ger>
Ha

[07:48:52.0000] <GPHemsley>
/me checks IE

[07:55:11.0000] <Domenic_>
annevk: didn't really see a point, and frozen arrays are kind of awkward. although, if we were to have something like `Element.childElements` that returned an `Elements`, i.e. if `Elements` ever represents a real DOM tree instead of just a snapshot, then we should override all the mutation methods to do a type-check before calling their `super`.

[07:55:35.0000] <Ms2ger>
Okay, that works

[07:56:02.0000] <Ms2ger>
Any Anolis users around who object to bumping the required html5lib version to 1.0b2?

[08:01:40.0000] <GPHemsley>
Ms2ger: Not if you turn on sorting the attributes

[08:02:07.0000] <Ms2ger>
Yeah

[08:02:34.0000] <annevk>
Ugh, software upgrades

[08:02:53.0000] <annevk>
Domenic_: how would Elements represent a tree? It's an array.

[08:07:00.0000] <Domenic_>
annevk: sorry, s/real DOM tree/part of a real DOM tree

[08:07:22.0000] <annevk>
Domenic_: doesn't help

[08:08:08.0000] <Domenic_>
meaning, mutating the return value of `findAll()` doesn't matter, since it doesn't represent something that's in the DOM. But mutating e.g. `myDiv.childElements` would matter, since it represents the child elements of `myDiv`.

[08:09:45.0000] <Domenic_>
(setting aside the fact that having `children`, `childNodes`, and `childElements` all together would be crazy-confusing.)

[08:09:45.0000] <annevk>
Mkay. I guess that's why frozen seems somewhat better since it works in more cases, but it's kinda annoying you'd have to clone it in order to modify the array.

[08:10:23.0000] <annevk>
Yeah, we probably wouldn't add yet another member there addressing the same use case.

[08:10:24.0000] <Domenic_>
yeah, i was trying for jQuery-ease-of-use parity, and I do somewhat-often dynamically construct or modify my jQuery $() objects.

[08:15:27.0000] <Domenic_>
(it would be cool to have something where you do `myDiv.childElements.push` instead of `myDiv.appendChild`.)

[08:16:44.0000] <Ms2ger>
Eww

[08:27:29.0000] <annevk>
Domenic_: given the number of checks appendChild() does, I'm not sure that's feasible

[08:30:31.0000] <Domenic_>
annevk: you're probably right, but naively you could just add those checks to `push` before calling `super`.

[08:30:39.0000] <Domenic_>
/me goes off to look at appendChild spec

[08:31:51.0000] <annevk>
Domenic_: http://dom.spec.whatwg.org/#concept-node-pre-insert

[08:32:24.0000] <annevk>
Domenic_: with child being null

[08:41:32.0000] <GPHemsley>
what I don't understand is why everyone fires a mouseover event for elements that are not on top

[08:42:54.0000] <GPHemsley>
and only when the not-on-top element is a parent of the on-top element

[08:44:36.0000] <annevk>
GPHemsley: matches :hover

[08:44:48.0000] <GPHemsley>
it's like they fire mouseover leaf to root and then fire mouseenter root to leaf

[08:44:52.0000] <annevk>
(not sure which came first)

[08:45:18.0000] <GPHemsley>
actually, only Gecko does that

[08:45:30.0000] <GPHemsley>
Opera does it in the reverse order: mouseenter before mouseover

[08:45:41.0000] <GPHemsley>
Chrome and Safari don't even fire mouseenter

[08:46:03.0000] <annevk>
just landed in Chrome

[08:46:11.0000] <annevk>
(patch for mouseeventer)

[08:46:35.0000] <GPHemsley>
any idea what order it uses?

[08:47:39.0000] <GPHemsley>
mouseout/mouseleave seems more consistent cross-browser, but not necessarily logically

[08:48:10.0000] <GPHemsley>
both mouseout and mouseleave (where applicable) are fired leaf to root

[08:48:35.0000] <GPHemsley>
and both Gecko and Opera fire mouseout before mouseleave

[08:49:02.0000] <GPHemsley>
which means Gecko is mouseover -> mouseenter -> mouseout -> mouseleave

[08:49:19.0000] <GPHemsley>
and Opera is mouseenter -> mouseover -> mouseout -> mouseleave

[08:49:51.0000] <GPHemsley>
oh, that actually is logical, I guess

[08:50:35.0000] <GPHemsley>
sort of

[08:51:58.0000] <GPHemsley>
I might've interleaved them, instead of firing all of one type at once before firing all of the other type

[08:52:30.0000] <GPHemsley>
but in any case, it seems the only interop order problem is mouseenter vs. mouseover

[08:53:18.0000] <GPHemsley>
Gecko seems to match what DOM 3 Events suggests with its examples; Opera match what seems more logical to me

[08:53:24.0000] <GPHemsley>
hopefully Chrome picked one of the two

[08:55:21.0000] <jgraham>
Ms2ger: So did you actually review https://critic.hoppipolla.co.uk/r/212?

[08:56:11.0000] <Ms2ger>
Not carefully

[09:02:32.0000] <GPHemsley>
Ms2ger: Are you working on updating Anolis to sort attributes?

[09:03:30.0000] <jgraham>
Ms2ger: Fancy reviewing it carefully? Then I will do the whitespace fixups

[09:03:51.0000] <jgraham>
(which I should say are not exactly easy to do in the github workflow)

[09:08:25.0000] <Ms2ger>
I guess I can

[09:43:37.0000] <darobin>
GPHemsley: if you enjoy looking at how interoperable events are, I highly recommend how they work for <select> :) http://rodneyrehm.github.io/select-events/

[09:44:06.0000] <GPHemsley>
oh my

[09:44:16.0000] <GPHemsley>
I'm actually looking specifically at mouse events

[09:45:56.0000] <GPHemsley>
but this looks helpful

[09:46:03.0000] <GPHemsley>
(though I see IE going to be a pain)

[09:46:22.0000] <jpwhiting>
hello all, I'm using a local copy of validator.nu with my own schema based on html5full.rnc

[09:46:47.0000] <jpwhiting>
but now that I've rebuilt, I'm getting a java exception when it reads my rnc file

[09:47:22.0000] <jpwhiting>
java.lang.ClassCastException: org.xml.sax.InputSource cannot be cast to nu.validator.xml.TypedInputSource

[09:47:54.0000] <jpwhiting>
I'm using the same schema file I used 3 months ago, but I didn't keep the sources for validator.nu from then, so trying to use it with current validator.nu sources and failing :/

[09:53:30.0000] <jpwhiting>
which makes no sense because TypedInputSource extends InputSource, so it should be able to cast, no?

[09:58:20.0000] <annevk>
GPHemsley: you want to test IE too I think

[09:58:28.0000] <annevk>
GPHemsley: IE pioneered some of those events

[09:58:52.0000] <GPHemsley>
according to the test results from darobin's link, IE does things differently than everyone else, too

[09:59:02.0000] <GPHemsley>
in particular, mousemove comes before mouseover and mouseenter

[09:59:38.0000] <annevk>
GPHemsley: putting these forward as bugs against DOM Level 3 Events might help get some of this fixed before you fix all of the details with a better spec, fwiw

[10:00:21.0000] <GPHemsley>
they don't necessarily seem like spec bugs to me

[10:00:36.0000] <GPHemsley>
except insofar as the spec doesn't actually really specify the right order

[10:01:08.0000] <annevk>
That's called a spec bug

[10:01:35.0000] <GPHemsley>
if I file everything as a spec bug on DOM 3 Events, then what goes in the new spec?

[10:02:21.0000] <jpwhiting>
ah, seems I was patching the wrong entitymap file

[10:02:44.0000] <annevk>
When you find fundamental brokenness and the lack of a clear model as a showstopper to fixing bugs

[10:02:54.0000] <annevk>
(and adding new features)

[10:03:34.0000] <annevk>
jpwhiting: good, since the one guy that can help you with that is prolly asleep

[10:04:11.0000] <jpwhiting>
:)

[10:04:25.0000] <jpwhiting>
/me seems to be learning java, despite his best efforts

[10:04:33.0000] <jpwhiting>
/me is a C++ guy :p

[10:05:41.0000] <GPHemsley>
annevk: Well, then I guess I'm still not clear on what Hixie_ is asking me to spec.

[10:06:10.0000] <annevk>
GPHemsley: what did Hixie_ say?

[10:06:33.0000] <jpwhiting>
annevk: just curious who is the one guy that knows this stuff?

[10:06:43.0000] <jpwhiting>
/me forgot, though I think I've chatted with him before

[10:07:01.0000] <Ms2ger>
hsivonen?

[10:07:06.0000] <Ms2ger>
If you mean the Java parser

[10:07:12.0000] <annevk>
jpwhiting: MikeSmit1

[10:07:19.0000] <jpwhiting>
right, thanks

[10:07:21.0000] <Ms2ger>
And Mike too, yes

[10:07:35.0000] <jpwhiting>
that seems to trigger some memory

[10:07:38.0000] <annevk>
He's in Tokyo, hence the sleeping

[10:07:56.0000] <jpwhiting>
right, makes sense

[10:08:01.0000] <GPHemsley>
annevk: 21:44	Hixie_	GPHemsley: btw, you still looking for a project? because mouse events would be a good one, and shouldn't be too hard, yet is a huge hole in our current spec coverage.

[10:08:05.0000] <jpwhiting>
being the middle of the night there at the moment :)

[10:08:59.0000] <GPHemsley>
annevk: 00:08	Hixie_	GPHemsley: these events are what need speccing. I wouldn't call them "DOM 3 events", they were invented before the W3C had a DOM WG. (Possibly before the W3C existed.)

[10:09:00.0000] <GPHemsley>
00:09	Hixie_	GPHemsley: as zewt says, though, it's not so much the events that need speccing, as the reaction to mouse movements, clicks, etc. Which happens to involve firing events with these names, but that's the effect, no the cause.

[10:09:50.0000] <GPHemsley>
annevk: Where "these events" mean the ones in DOM 3 Events

[10:09:56.0000] <GPHemsley>
the mouse* ones, that is

[10:10:08.0000] <GPHemsley>
http://www.w3.org/TR/DOM-Level-3-Events/#events-mouseevents

[10:10:32.0000] <GPHemsley>
actually http://www.w3.org/TR/DOM-Level-3-Events/#events-mouseevent-event-order

[10:10:55.0000] <GPHemsley>
(these quotes are from yesterday and the day before)

[10:15:29.0000] <annevk>
GPHemsley: afk for a bit

[10:56:19.0000] <dglazkov>
good morning, Whatwg!

[12:01:38.0000] <GPHemsley>
Ms2ger: What's the best way to link to a definition in a spec that doesn't have an xref file?

[12:15:04.0000] <Ms2ger>
GPHemsley, add an xref file manually

[12:15:25.0000] <GPHemsley>
that's the only way?

[12:18:12.0000] <Ms2ger>
GPHemsley, no, you can also use a normal a element

[12:18:17.0000] <Hixie_>
ok, dreamhost say /tmp permissions issues are fixed

[12:18:43.0000] <Hixie_>
(and they do seem to be)

[12:25:38.0000] <annevk>
we're generating diffs again

[12:26:55.0000] <annevk>
GPHemsley: so yeah, sounds like Hixie_ is indeed talking about all those things

[12:27:04.0000] <annevk>
GPHemsley: another set of events that need similar treatment is keyboard events

[12:27:09.0000] <Hixie_>
i'm talking about things?

[12:27:19.0000] <annevk>
Hixie_: 17

[12:28:04.0000] <Hixie_>
17 things?

[12:28:26.0000] <annevk>
yes, in two minutes

[12:31:31.0000] <Hixie_>
i'm confooooooosed

[12:50:04.0000] <GPHemsley>
Hixie_: annevk told me to file bugs against DOM 3 Events instead of writing a new spec, so now I'm confused

[12:50:14.0000] <GPHemsley>
(for certain definitions of "instead of")

[13:06:33.0000] <Hixie_>
GPHemsley: if there's already a spec that attempts to address this, then that's news to me

[13:06:39.0000] <Hixie_>
GPHemsley: but good news, i guess

[13:08:35.0000] <GPHemsley>
Hixie_: Well, DOM 3 Events is the only one we've been discussing

[13:08:51.0000] <GPHemsley>
Hixie_: I got mixed information as to whether it attempts to address this

[13:09:19.0000] <GPHemsley>
Hixie_:  http://www.w3.org/TR/DOM-Level-3-Events/#events-mouseevent-event-order

[13:09:22.0000] <Hixie_>
ask the editors, i guess :-)

[13:12:57.0000] <GPHemsley>
Hixie_: I wouldn't know what to ask. Other than event ordering, I'm still not clear on what is missing. (Also, the two current editors are from Microsoft, and the spec does not include editor e-mail addresses.)

[13:14:10.0000] <annevk>
GPHemsley: hit testing is missing, as I pointed out

[13:17:11.0000] <Hixie_>
GPHemsley: is there anything that says "when the mouse moves, user agents must fire a mouseenter event with the clientX attribute set to..." and so on?

[13:17:16.0000] <annevk>
GPHemsley: and a more exact definition of how the various members of a MouseEvent object are set

[13:17:16.0000] <annevk>
GPHemsley: etc.

[13:17:16.0000] <annevk>
GPHemsley: as for filing bugs, I was saying that as a means of getting browsers to converge on some of the issues faster

[13:17:16.0000] <annevk>
GPHemsley: if they can fix all the issues, that'd be great, but I suspect that at some point they'll stop fixing

[13:19:15.0000] <GPHemsley>
Hixie_: "A user agent must dispatch this event [mouseenter] when a pointing device is moved onto the boundaries of an element or one of its descendent elements."

[13:19:36.0000] <GPHemsley>
Hixie_: "MouseEvent.clientX: value based on the pointer position within the viewport

[13:19:36.0000] <GPHemsley>
MouseEvent.clientY : value based on the pointer position within the viewport"

[13:20:25.0000] <Hixie_>
wow that's so many kinds of wrong i don't even know where to begin

[13:20:57.0000] <Hixie_>
there needs to be an explanation of the task queued to do this, the task source for those tasks, the "based on" needs to be precise, the "boundaries" needs to be defined

[13:21:04.0000] <Hixie_>
the default action needs to be defined

[13:21:14.0000] <Hixie_>
etc etc etc

[13:22:08.0000] <GPHemsley>
"Default action 	none"

[13:22:41.0000] <Hixie_>
that normatively likely doesn't mean anything

[13:22:48.0000] <Hixie_>
(basically, if the event is fired using a table, you can almost guarantee it's done wrong)

[13:24:43.0000] <GPHemsley>
in that case, there's probably no hope of a spec bug fixing this, as the whole document uses tables to describe events

[13:25:24.0000] <Hixie_>
there's a reason i never brought up dom3 events

[13:25:30.0000] <GPHemsley>
heh

[13:25:50.0000] <GPHemsley>
well I admit I'd have to learn more about events in general in order to do this right, I'd think

[13:26:16.0000] <GPHemsley>
but are you saying I should just ignore DOM 3 Events?

[13:27:55.0000] <Hixie_>
i do

[13:28:50.0000] <GPHemsley>
and start from scratch?

[13:30:01.0000] <annevk>
GPHemsley: again, filing bugs against DOM Level 3 Events will help with some short term convergence, but is not a viable long term strategy

[13:30:05.0000] <annevk>
I think both are worthwhile

[13:30:42.0000] <GPHemsley>
annevk: I can't ignore DOM 3 Events and file bugs on it at the same time.

[13:31:09.0000] <Hixie_>
GPHemsley: well, so, part of the job here is figuring out what the job is :-)

[13:32:07.0000] <Hixie_>
GPHemsley: i'm not saying "do this" or "do that", i'm saying, one problem we have on the web right now is there's no serious accurate and precise description of how mouse and trackpad interactions map to the variety of mouse events that deployed Web page content relies on

[13:32:57.0000] <Hixie_>
GPHemsley: if someone wants to fix this, then they should take ownership of the issue, and then decide how best to solve it. It could be that the best way to solve this is to work with existing editors at the W3C to improve specs in this area.

[13:33:23.0000] <Hixie_>
GPHemsley: it could be that the best way to solve this is to start from scratch, like we've done with e.g. URLs, DOM Core, HTML Editing APIs, HTML in general, etc.

[13:33:38.0000] <Hixie_>
GPHemsley: it could be that the best way to solve this is prayer (though that seems unlikely)

[13:33:50.0000] <GPHemsley>
definitely nixing that 3rd option

[13:34:01.0000] <Hixie_>
GPHemsley: whoever decides to own this, if anyone does, would have to make these calls

[13:34:40.0000] <Hixie_>
i'm happy to provide advice, but if i knew exactly how to fix it, i'd just do it :-)

[13:35:38.0000] <GPHemsley>
fair enough

[13:42:14.0000] <annevk>
I think I kinda know how to fix it, but I'm lazy

[13:42:26.0000] <annevk>
I also don't want to own user interaction events forever

[14:57:08.0000] <annevk>
Private email thread on licensing is going like this: “We’re listening to you. What was your concern?”

[14:58:09.0000] <hober>
i got an email the other day that boiled down to "I don't want to talk about what's in scope for this spec. I want to add something out of scope to this spec."

[14:59:19.0000] <Hixie_>
heh

[14:59:42.0000] <Hixie_>
reminds me of the way the w3c keeps saying "you can get involved in improving the w3c! let's have a meeting about discussing how we need to improve!"

[14:59:54.0000] <Hixie_>
literally been happening for at least half a decade now

[15:00:00.0000] <Hixie_>
(i keep getting invited to these meetings)

[15:00:12.0000] <annevk>
They keep scoping them in ways that are not useful

[15:00:46.0000] <Hixie_>
i've had them scoped all kinds of ways

[15:00:52.0000] <Hixie_>
including "everything is in scope"

[15:01:00.0000] <Hixie_>
the fundamental problem is that they disagree with me about what's wrong

[15:01:15.0000] <Hixie_>
it's the usual "ask the question over and over until you get the answer you want"

[15:01:29.0000] <annevk>
Sounds like the way the HTML WG works

[16:50:57.0000] <Yuhong>
On this matter, one reason I suggest http://www.w3.org/wiki/Evolution be finished is that TimBL is in the TAG.

[16:52:38.0000] <Yuhong>
But on DOM3 Events, unfortunately I don't think mutation events are going anywhere as IE9/10 support them but not MutationObserver.

[16:56:43.0000] <Domenic_>
(starting over on DOM Core was brilliant; those outdated levels stacked on top of each other were insane.)

[16:58:31.0000] <MikeSmith>
jpwhiting_: the errors your cited are a known issue and usually go away if you just run "python build/build.py all" a 2nd time


2013-07-11
[18:09:53.0000] <GPHemsley>
Filed DOM 3 Events spec bug for event order: https://www.w3.org/Bugs/Public/show_bug.cgi?id=22641

[19:20:36.0000] <jpwhiting_>
MikeSmith: yep, I'm hitting something different this time, I moved the sources to package it as a debian package, and when I try to build jing-trang's ant can't find apache-ant for some reason

[19:24:08.0000] <GPHemsley>
...and closed as INVALID

[19:24:15.0000] <GPHemsley>
/me shrugs

[19:24:44.0000] <jpwhiting_>
http://pastebin.com/DV0Z3FLT

[19:25:11.0000] <jpwhiting_>
MikeSmith: the issues I was having earlier were because my spec was added to validator/presets.txt but not validator/w3c-presets.txt where it needed to be

[19:29:44.0000] <MikeSmith>
jpwhiting_: yeah that bit of complexity is my fault I guess

[19:30:55.0000] <MikeSmith>
jpwhiting_: so you're creating a Debian package of the validator? Are you planning to actually get it in the main Debian package repo?

[19:32:46.0000] <MikeSmith>
jpwhiting_: Maybe the reason you're seeing http://pastebin.com/DV0Z3FLT during the build is that it's ignoring your system CLASSPATH

[19:33:06.0000] <Yuhong>
MS just fixed document.createElement("th").cellIndex in older versions of IE to conform to the standard in the just released Cumulative Update.

[19:33:12.0000] <Yuhong>
Old behavior was an address leak.

[19:33:28.0000] <jpwhiting_>
MikeSmith: my System CLASSPATH?

[19:33:32.0000] <jpwhiting_>
/me is new to java, sorry

[19:33:33.0000] <Yuhong>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=16757#c10

[19:33:38.0000] <jpwhiting_>
I have JAVA_HOME set, but that's about it

[19:34:15.0000] <jpwhiting_>
no, not packaging for debian itself, just making a debian package out of validator.nu for a client

[19:34:22.0000] <jpwhiting_>
to use inside their ubuntu based virtualmachine

[19:34:37.0000] <MikeSmith>
ok

[19:34:47.0000] <jpwhiting_>
the weird thing is it works fine when I run it from one path

[19:35:04.0000] <MikeSmith>
jpwhiting_: so if you look at the jing-trang/ant script, you'll see it feeds -cp to java

[19:35:21.0000] <jpwhiting_>
but I tar up the original sources gotten with build/build.py checkout && build/build.py dldeps

[19:35:38.0000] <jpwhiting_>
then untar it when creating the package and do python build/build.py --local build to build it

[19:35:44.0000] <jpwhiting_>
ah, I see, /me dives deeper

[19:35:56.0000] <MikeSmith>
-cp jing-trang/lib/ant-launcher.jar

[19:36:40.0000] <jpwhiting_>
ok, I do have that file, maybe $JING_TRANG_HOME is getting mucked up somehow?

[19:36:44.0000] <jpwhiting_>
/me reads build.py again

[19:37:11.0000] <MikeSmith>
I guess you could just hack the build script to call "ant" instead of "./ant" there

[19:37:51.0000] <MikeSmith>
line 558 of build.py

[19:38:02.0000] <jpwhiting_>
the difference being that ./ant sets classpath, where my system's ant doesn't?

[19:38:48.0000] <MikeSmith>
-  runCmd(os.path.join(".", "ant"))

[19:38:49.0000] <MikeSmith>
+  runCmd("ant")

[19:38:56.0000] <jpwhiting_>
yep, gotcha, /me tries

[19:39:43.0000] <MikeSmith>
jpwhiting_: I dunno what that jing-trang/ant script is attempting to do. It's upstream code that we pull into the validator build as a dependency.

[19:40:18.0000] <jpwhiting_>
still it's very weird to me that it works when untarred in one place on my disk, and fails when untarred in another place

[19:40:30.0000] <MikeSmith>
yeah that is weird

[19:40:36.0000] <jpwhiting_>
maybe build/build.py checkout sets some paths or something?

[19:40:55.0000] <MikeSmith>
I don't think it does

[19:40:58.0000] <MikeSmith>
though not sure

[19:41:00.0000] <MikeSmith>
/me checks

[19:41:23.0000] <jpwhiting_>
my system doesn't know what "ant" is

[19:41:52.0000] <MikeSmith>
hmm, OK

[19:42:00.0000] <jpwhiting_>
no ant in $JAVA_HOME/bin either

[19:42:11.0000] <jpwhiting_>
using openjdk-7-jdk

[19:42:44.0000] <jpwhiting_>
one other weird thing I found is that the one checkout of validator.nu that's working has manifest and such in jing-trang/ but the one that doesn't is missing them

[19:42:47.0000] <jpwhiting_>
does ant create those?

[19:43:25.0000] <MikeSmith>
no, ant doesn't create those

[19:43:49.0000] <MikeSmith>
and you won't find "ant" in $JAVA_HOME/bin normally

[19:44:20.0000] <MikeSmith>
so anyway, forget what I said about running "ant" instead

[19:44:21.0000] <jpwhiting_>
erm, sorry not manifest, I meant modbuild.xml, modules.xml and the build folder

[19:44:39.0000] <MikeSmith>
yeah, so those are needed

[19:44:54.0000] <MikeSmith>
and I think they do get created by ant

[19:45:03.0000] <Yuhong>
Actually, only IE9 is fixed in the July update.

[19:46:54.0000] <jpwhiting_>
MikeSmith: even if I set JING_TRANG_HOME to the path where jing-trang is checked out to, then run ,/ant I get the java.lang.ClassNotFoundException: org.apache.tools.ant.Main

[19:47:00.0000] <jpwhiting_>
maybe the ant jar is bad?

[19:47:09.0000] <Yuhong>
Hixie: w() in the DOM Viewer is broken in IE8.

[19:47:24.0000] <Hixie_>
i think you mean, IE8 is broken

[19:47:36.0000] <MikeSmith>
jpwhiting_: the ant-launcher.jar and ant.jar binaries are distributed as part of jing-trang, so those are what your java environment should be using for the jing-trang build

[19:47:52.0000] <jpwhiting_>
yeah, I see them in jing-trang/lib

[19:48:04.0000] <Yuhong>
I use this a lot for tests.

[19:48:33.0000] <MikeSmith>
if it's not finding them, then I'd guess it's because your build environment doesn't have $JING_TRANG_HOME set

[19:48:59.0000] <Yuhong>
For example, I was trying to use http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=1673 to test the latest Cumulative Update to see if the behavior is fixed.

[19:49:01.0000] <jpwhiting_>
why would it have JING_TRANG_HOME set?

[19:49:05.0000] <jpwhiting_>
I mean, what sets that?

[19:49:28.0000] <jpwhiting_>
heh, jing-trang/ant sets it to dirname $0

[19:50:16.0000] <MikeSmith>
jpwhiting_: yup

[19:50:18.0000] <Yuhong>
It is fixed for IE9 in the just released cumulative update, BTW. Old behavior is an address leak.

[19:50:59.0000] <zewt>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=22641 filing bugs on dom events seems like a waste of time, heh

[19:52:12.0000] <Yuhong>
Unfortunately, as I said before, I can't imagine mutation events going away any time soon, as IE9/10 do not support mutation observers.

[19:53:42.0000] <jpwhiting_>
MikeSmith: k, I'll figure this out, thanks for the pointers :)

[19:53:50.0000] <MikeSmith>
k

[20:00:47.0000] <jpwhiting_>
MikeSmith: hmm, does java not cope well with : in path names maybe?

[20:01:22.0000] <jpwhiting_>
/me is using this from within an obs checkout, so part of the path is home:jwhiting:branches:blah blah

[20:03:08.0000] <jpwhiting_>
heh, seems so, that's working much better from a path without : in it

[20:03:16.0000] <jpwhiting_>
phew, problem solved

[21:00:01.0000] <MikeSmith>
jpwhiting: good to hear

[21:01:28.0000] <MikeSmith>
and ":" is the right path separator on Linux

[21:01:35.0000] <MikeSmith>
for java

[21:01:52.0000] <MikeSmith>
but on windows it needs to be ";" I think

[21:04:16.0000] <zewt>
things that need to die: code that uses a variable for platform path separators

[21:04:32.0000] <zewt>
(do people really not know that / is a valid path separator in windows)

[01:32:50.0000] <JakeA>
Do we have a way to get the base url of the page? As in, what relative paths will be resolved against?

[01:37:45.0000] <MikeSmith>
JakeA: not in the URL spec?

[01:38:05.0000] <JakeA>
Not that I can see, new urls have a default base of about:blank

[01:38:34.0000] <JakeA>
I remember Anne telling me why it didn't default to the base of the current page, but I can't remember

[01:38:41.0000] <JakeA>
…what it actually was

[02:05:57.0000] <galant>
animations for anniversaries on google homepage can't be viewed on mobile phones? Because they are done in canvas..

[05:10:04.0000] <JakeA>
I just got a 50k bounce on the mailing list, is anyone able to clear it through?

[05:10:46.0000] <JakeA>
It's a reply to @getify so it's naturally over 50k

[05:12:43.0000] <Ms2ger>
You could trim?

[05:12:52.0000] <Ms2ger>
But I believe Hixie_ moderates

[05:14:17.0000] <JakeA>
Yeah, I've done a lot of that already, but I'm worried I'll get accused of editing & misrepresenting the original view

[05:14:29.0000] <JakeA>
most of the content is the original email with replies inline

[06:03:45.0000] <galant>
canvas hit regions are supported by older browsers?

[06:07:58.0000] <Ms2ger>
They're not supported anywhere

[06:09:15.0000] <galant>
yeah

[06:09:36.0000] <galant>
I have no idea how to make canvas drawings responsive to mouse events, if you know some link for reading on this please tell me thanks

[06:10:41.0000] <smaug____>
you just add mouse event listener and check the coordinates in the event listener?

[06:11:10.0000] <JakeA>
You can test the x/y position of the click, or absolutely position an a[href] over the hit areas. The latter may be more accessible.

[06:15:14.0000] <galant>
thanks for ideas

[06:15:18.0000] <galant>
so Google uses this? :D

[06:15:21.0000] <galant>
for their animations

[06:15:22.0000] <galant>
hehe

[06:15:39.0000] <galant>
Hixie do the Google homepage animations on anniversaries? :DDD

[06:15:45.0000] <galant>
hehe

[06:16:15.0000] <galant>
JakeA, that absolutely positioned <a> is best idea and easiest lol it can be done in seconds

[06:16:26.0000] <galant>
Im not sure about other ideas though never done that

[06:16:44.0000] <galant>
JakeA, how to test x/y position of the click just curious?

[06:17:42.0000] <JakeA>
When you add a click listener to the canvas you'll get one of these as an event object https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent

[06:18:13.0000] <galant>
on older browsers too>?

[06:18:21.0000] <JakeA>
clientX/Y is what you're looking for

[06:18:29.0000] <JakeA>
well… certainly everything that supports canvas

[06:19:23.0000] <galant>
event.clientX is the thing right?

[06:19:37.0000] <galant>
yeah this works on every element not just canvas :) nice

[06:21:14.0000] <galant>
guys

[06:22:22.0000] <galant>
if I create some kind of interface for some API as a side effect of working on my projects do you want me to give it to you you can them implement such things in the APIs you make if you decide too, so others can have use of my work too

[06:32:35.0000] <JakeA>
you should make your code available on github for people. If it turns out to be super-popular and could be done much faster natively, it might make it into the spec

[06:32:48.0000] <JakeA>
this happened with selector matching in jQuery etc

[06:32:59.0000] <JakeA>
became querySelectorAll in the spec

[06:36:50.0000] <galant>
ok JakeA thanks

[07:25:46.0000] <MikeSmith>
...and Hallvord announces

[07:26:10.0000] <MikeSmith>
and post-mortems

[07:31:22.0000] <gsnedders>
MikeSmith: Opera lost him first.

[07:32:53.0000] <Ms2ger>
I did see him pop up in bugzilla a lot lately

[07:37:22.0000] <jgraham>
pointer?

[07:38:04.0000] <Ms2ger>
His blog

[07:38:49.0000] <gsnedders>
http://my.opera.com/hallvors/blog/goodbye

[07:56:52.0000] <jgraham>
Interesting post mortem. Things to agree with and things to disagree with.

[08:08:14.0000] <Ms2ger>
Someone should count how many former Operians we hired now

[08:08:22.0000] <Ms2ger>
/ will hire

[08:10:51.0000] <gsnedders>
Ms2ger: Going how far back? :P

[08:11:30.0000] <Ms2ger>
Last year or so?

[08:13:10.0000] <gsnedders>
I can only think of four off-hand.

[09:07:50.0000] <Hixie_>
JakeA: you still need help with moderation?

[09:09:38.0000] <JakeA>
nah, I cut it down & went plain text

[09:09:57.0000] <JakeA>
cheers

[10:07:52.0000] <Ms2ger>
Github slow for anyone else?

[10:11:03.0000] <jgraham>
I'm not getting spammed so I assume it isn't down

[10:11:41.0000] <jgraham>
Website doesn't seem slower than normal

[10:13:06.0000] <jgraham>
Fetching worked OK

[10:13:11.0000] <jgraham>
So, no?

[10:26:09.0000] <esprehn>
annevk: is there a reason you removed document.body from DOM core?

[10:26:48.0000] <esprehn>
it's used by every application ever... seems weird

[10:27:54.0000] <esprehn>
also document.title which is used by tons of apps

[10:33:22.0000] <gsnedders>
esprehn: Removed? Were they ever added? They've always been in HTML 5.

[10:34:02.0000] <esprehn>
oh I see, DOM Core just defines a subset of the Document interface :/

[10:34:23.0000] <esprehn>
yeah this is missing lots of stuff, that should have tipped me off :)

[10:49:27.0000] <esprehn>
Hixie_: steps 3 and 4 of the document.body setter algorithm are backwards

[10:55:38.0000] <Hixie_>
esprehn: file a bug

[10:55:58.0000] <Hixie_>
there's a tool on the page to do so :-)

[10:56:02.0000] <annevk>
esprehn: euhm wut

[10:56:11.0000] <esprehn>
annevk: nothing I was just confused

[10:56:28.0000] <annevk>
ah I see

[10:56:54.0000] <Hixie_>
esprehn: (but why do you think they're backwards?)

[10:57:00.0000] <annevk>
yeah, the separation is not exactly ideal, but I don't think we've completely figured out yet whether or not to merge all document objects so we'll see I guess

[10:57:03.0000] <Hixie_>
esprehn: (they're mutually exclusive)

[10:57:14.0000] <esprehn>
Hixie_: step 4 null checks the documentElement, step 3 calls replaceChild on it

[10:57:34.0000] <Hixie_>
esprehn: step 3 can't get to the replaceChild call unless documentElement has a child

[10:58:08.0000] <esprehn>
ah yeah

[10:58:18.0000] <esprehn>
still seems weird to do that step before looking for a missing documentElement

[10:59:41.0000] <Hixie_>
*shrug*

[10:59:47.0000] <esprehn>
yeah, I won't file a bug

[11:00:19.0000] <esprehn>
btw WebKit's behavior here is all kinds of fun. document.body returns the first <body> unless there's a <frameset> in which case we return that

[11:01:24.0000] <Hixie_>
that's per spec

[11:01:27.0000] <Hixie_>
more or less

[11:01:34.0000] <esprehn>
hmm?

[11:01:35.0000] <Hixie_>
spec says "the first child of the html element that is either a body element or a frameset element"

[11:02:03.0000] <esprehn>
the spec doesn't say <html><body><frameset></html> and document.body should return <frameset> right?

[11:02:53.0000] <esprehn>
the spec says pick the first one you see

[11:03:18.0000] <Hixie_>
yeah, it's not quite webkit's behaviour

[11:03:27.0000] <Hixie_>
hence the "more or less"

[11:03:29.0000] <esprehn>
webkit also throws HierarchyRequestError if you do document.body = <frameset>

[11:04:27.0000] <jgraham>
Sounds like you have some bugs to fix ;)

[11:06:11.0000] <esprehn>
yeah

[11:33:12.0000] <annevk>
Hixie_: so how stable is the canvas in worker stuff?

[11:33:21.0000] <annevk>
Hixie_: given http://wiki.whatwg.org/wiki/CanvasInWorkers it might be not very stable?

[11:38:15.0000] <Ms2ger>
annevk, nobody's implemented it, so, unstable :)

[11:38:41.0000] <annevk>
Ms2ger: so we're thinking about it but if there's major outstanding feedback...

[11:38:52.0000] <tantek>
Ms2ger - I like your reasoning :)

[11:38:54.0000] <annevk>
Ms2ger: but if there's no major outstanding feedback, it'd be more attractive

[11:39:38.0000] <Ms2ger>
That page was last edited 1 March

[11:41:19.0000] <annevk>
so yeah

[11:41:20.0000] <annevk>
unstable

[11:41:56.0000] <Ms2ger>
Anyway, make Hixie_ prioritize any feedback

[11:44:57.0000] <annevk>
Hixie_: http://cdn.meme.li/instances/400x/39616780.jpg

[11:45:53.0000] <tantek>
LOL

[11:46:34.0000] <zcorpan>
sup guys

[11:48:31.0000] <annevk>
sup zcorpan

[11:49:37.0000] <zcorpan>
having vacation :-)

[11:49:41.0000] <Ms2ger>
Did we hire zcorpan already?

[11:50:04.0000] <zcorpan>
is that a website?

[11:54:43.0000] <Ms2ger>
Arewemployingzcorpanyet.com

[11:55:01.0000] <annevk>
zcorpan: sounds good :)

[11:57:18.0000] <zcorpan>
402 Payment Required

[11:58:11.0000] <Ms2ger>
I'm sure we can arrange something

[12:11:26.0000] <zcorpan>
/me leaves again

[12:30:32.0000] <annevk5>
Hixie_: so "exposed to JavaScript"... where is defined that Event is exposed to workers?

[12:30:46.0000] <annevk_>
Hixie_: or WebSocket?

[12:31:21.0000] <annevk_>
Hixie_: I think I'd prefer it if you changed the defaults

[12:31:32.0000] <annevk_>
Hixie_: say that everything is exposed to JavaScript regardless of global

[12:31:36.0000] <annevk_>
unless stated otherwise

[12:31:45.0000] <annevk_>
Hixie_: and then I'll have DOM and such say otherwise

[12:36:33.0000] <Hixie_>
annevk: looked around for feedback on canvas and workers, but didn't see any

[12:36:40.0000] <Hixie_>
annevk_: do you have a link to the e-mail or bug in question?

[12:36:52.0000] <Hixie_>
annevk_: we should say that events and websocket are exposed.

[12:37:00.0000] <Hixie_>
annevk_: in general, the default is not to expose, i think

[12:37:03.0000] <Hixie_>
annevk_: since most things involve the dom

[12:37:45.0000] <annevk_>
really?

[12:38:08.0000] <annevk_>
I think if you exclude Node and its descendants most things are non-DOM

[12:39:18.0000] <annevk_>
there's http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Jan/thread.html#msg18

[12:39:43.0000] <Hixie_>
i responded in that thread

[12:40:19.0000] <annevk_>
http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Mar/0160.html

[12:40:23.0000] <annevk_>
(minor)

[12:40:44.0000] <Hixie_>
yeah, that's the issue of workers not listing all the things yet

[12:41:10.0000] <annevk_>
I wonder why http://wiki.whatwg.org/wiki/CanvasInWorkers is not mentioned on the list

[12:41:26.0000] <annevk_>
Maybe because Gregg left Google?

[12:43:26.0000] <annevk_>
Hixie_: in my experience pretty much any new API we create we want in workers

[12:45:43.0000] <jsbell>
Has the "should APIs in Workers be sync or async?" debate recurred since Futures arrived?

[12:46:57.0000] <Hixie_>
apis in workers can be both

[12:46:57.0000] <annevk_>
smaug____: should we remove [NoInterfaceObject] from XMLHttpRequestEventTarget?

[12:47:20.0000] <annevk_>
jsbell: http://infrequently.org/2013/05/the-case-against-synchronous-worker-apis-2/ is there

[12:47:42.0000] <annevk_>
jsbell: when we discussed this at Mozilla, opinions were split

[12:47:55.0000] <annevk_>
jsbell: also, promises

[13:21:51.0000] <annevk_>
Hixie_: so Window, Node and descendants, bits of Navigator-related interfaces, anything else not going into Worker?

[13:22:18.0000] <annevk_>
Hmm, NodeList, HTMLCollection, DOMTokenList

[13:22:33.0000] <Ms2ger>
Everything that touches nodes? :)

[13:22:36.0000] <Hixie_>
there's a ton of them

[13:22:42.0000] <Hixie_>
"Node and descendants" alone is a list longer than my arm

[13:22:46.0000] <Ms2ger>
webperf?

[13:23:02.0000] <Hixie_>
we shouldn't enable things in workers without carefully thinking about it

[13:26:44.0000] <annevk_>
our current list is https://etherpad.mozilla.org/WorkerThreadAPIs

[13:30:15.0000] <jsbell>
annevk: damnit, I typed Promises then edited it to Futures. Get with the program, brain!

[13:30:32.0000] <annevk_>
Hixie_: I think I'll just go and list for each interface if  they're exposed in both environments

[13:32:32.0000] <annevk_>
Hixie_: although for that having "Exposed to document and worker environments" and such as shorthands would be useful

[13:32:42.0000] <annevk_>
/me files a bug with that idea

[13:34:15.0000] <annevk>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=22646

[13:54:44.0000] <Hixie_>
you want a shorthand for a five-word phrase that says two things? :-)

[13:55:45.0000] <annevk>
Hixie_: basically below each IDL block I'd be able to say x, y, or z

[13:56:14.0000] <annevk>
Hixie_: makes it somewhat clearer what the worker situation is for everyone and doesn't involve 3 cross-references

[13:58:40.0000] <Hixie_>
i don't understand

[13:58:43.0000] <Hixie_>
what do you think you have to say today?

[13:59:31.0000] <annevk>
So I define [Constructor] interface Foo {};

[13:59:41.0000] <annevk>
I expect I have to say somewhere it works in both workers and documents

[13:59:44.0000] <annevk>
or just in documents

[14:00:10.0000] <annevk>
I'm also running into minor issues with e.g. XMLHttpRequest

[14:00:15.0000] <Hixie_>
oh you want to change "The SharedWorkerGlobalScope interface must only be exposed to JavaScript if the JavaScript global environment is a shared worker environment." to something shorter?

[14:00:25.0000] <Ms2ger>
Anyone got interesting things to test for document.images?

[14:00:29.0000] <annevk>
Hixie_: yes

[14:00:57.0000] <Hixie_>
we could just have [Exposed=Worker], [Exposed=Window] (default), [Exposed=Window,Worker]

[14:01:08.0000] <annevk>
(The issue I'm running into is how to deal with Document appearing in the IDL, and HTMLFormElement appearing in FormData's IDL.)

[14:01:08.0000] <Hixie_>
heycam: ^

[14:01:20.0000] <Hixie_>
annevk: how do browsers deal with it?

[14:01:27.0000] <annevk>
Hixie_: they just deal

[14:01:37.0000] <annevk>
"prose"

[14:01:44.0000] <annevk>
(which I've added for now)

[14:02:12.0000] <heycam>
/me acks, will think when I'm off the phone

[14:02:54.0000] <Ms2ger>
Yeah, the hard part is when only part of an interface is exposed to workers

[14:03:34.0000] <annevk>
could maybe make [Exposed] work everywhere somehow?

[14:03:49.0000] <annevk>
send(([Exposed=Window] Document or DOMString) data)

[14:04:01.0000] <Ms2ger>
[[Exposed=Window]Constructor...?

[14:04:25.0000] <annevk>
readonly attribute ([Exposed=Window] Document or null) responseXML

[14:04:38.0000] <Hixie_>
or just have two different IDLs

[14:04:40.0000] <annevk>
Ms2ger: yeah something like that

[14:04:57.0000] <annevk>
Hixie_: like you do for navigator?

[14:05:45.0000] <annevk>
seems kinda overkill for most of XHR, although I guess we could make that work in some way

[14:05:53.0000] <Ms2ger>
Navigator actually is called WindowNavigator in workers

[14:07:49.0000] <annevk>
I know

[14:17:56.0000] <Hixie_>
annevk: yeah

[14:19:39.0000] <annevk>
Hixie_: I guess if we have [Exposed] we could name it the same even

[14:20:14.0000] <annevk>
but still, kinda bloaty

[14:22:01.0000] <Hixie_>
Ms2ger: i assume you mean WorkerNavigator

[14:22:15.0000] <Hixie_>
we could use the same name, just need some prose to say which one you mean

[14:22:23.0000] <Ms2ger>
Er, yes

[14:22:32.0000] <Ms2ger>
I can't speel

[14:40:56.0000] <heycam>
how many things do we have in the middle of an interface that we want to turn off in workers?

[14:42:19.0000] <annevk>
heycam: FormData, XMLHttpRequest, cannot really think of something else

[14:42:47.0000] <heycam>
but, members of an interface? or are these interface members which mention those types?

[14:43:16.0000] <annevk>
It might be good to not expose responseXML in Workers

[14:43:23.0000] <heycam>
/me wonders how bloating it would be to put [Exposed=…] on those interface members, if there are only a couple of them

[14:43:35.0000] <annevk>
I think responseType = "document" we deal with in prose

[14:43:56.0000] <annevk>
heycam: ah yeah, we could just duplicate definitions I suppose

[14:43:59.0000] <heycam>
ah, so the issue I guess is that we mention Document in the return type?

[14:44:04.0000] <annevk>
one send() for Window and one for Worker

[14:44:06.0000] <heycam>
I guess it's not technically a problem

[14:44:14.0000] <annevk>
heycam: that's the issue

[14:44:14.0000] <heycam>
as long as prose never returns a Document object

[14:44:59.0000] <annevk>
heycam: I'd prefer not to expose responseXML at all, but e.g. for FormData I'd want a constructor in workers that doesn't take an argument

[14:45:13.0000] <heycam>
I see

[14:45:29.0000] <annevk>
heycam: we could maybe have some wording around interfaces not existing in workers?

[14:45:51.0000] <annevk>
heycam: e.g. Document doesn't exist, therefore (Document or DOMString) ends up meaning DOMString

[14:45:59.0000] <annevk>
and Document? ends up meaning null

[14:46:06.0000] <heycam>
maybe

[14:46:13.0000] <annevk>
and optional HTMLFormElement x means no argument?

[14:46:15.0000] <annevk>
dunno

[14:46:18.0000] <heycam>
would it result in members disappearing altogether?

[14:46:21.0000] <heycam>
might be a bit nonobvious

[14:46:21.0000] <annevk>
seems somewhat more complicated

[14:46:23.0000] <heycam>
looking at the idl

[14:47:01.0000] <annevk>
saying Constructor is X in Window and Y in Worker seems easier

[14:47:13.0000] <heycam>
yeah

[14:47:16.0000] <annevk>
and responseXML is only in Window, and send() is X in Window and Y in Worker

[14:47:25.0000] <heycam>
in prose you mean?

[14:47:31.0000] <annevk>
no with the flag

[14:47:34.0000] <heycam>
ah

[14:47:41.0000] <annevk>
well or prose

[14:47:52.0000] <heycam>
[[Exposed=…][Constructor(…)] looks funny to me :)

[14:48:10.0000] <annevk>
needs moar ]

[14:48:28.0000] <annevk>
or less [ I guess

[14:49:06.0000] <heycam>
/me hopes to avoid mentioning "workers" in Web IDL itself

[14:50:08.0000] <heycam>
ok, time for coffee

[14:58:01.0000] <annevk>
I hope Kyle doesn't expect anyone to actually read those emails o_O

[15:18:52.0000] <annevk>
heycam|away: So the way you can do it is by having the [Global] annotation and then other specs can say [Expose=GlobalName]

[15:19:05.0000] <annevk>
heycam|away: plus maybe some shortcut so they two Worker globals can also have a shared Global name

[15:19:35.0000] <annevk>
heycam|away: that way you'd avoid mentioning specific globals yet we could still have per-global IDL


2013-07-12
[17:25:21.0000] <jpwhiting>
MikeSmith: have you ever seen an error log like this: http://pastebin.com/EmmgBUjS

[17:25:40.0000] <jpwhiting>
it builds fine on my debian wheezy machine, not sure what kind of distro is on the obs worker, but I can find out

[17:25:44.0000] <jpwhiting>
this is what I'm getting

[17:26:07.0000] <jpwhiting>
the end result is that nu.valudator.client.Main isn't compiled, so the validator.jar has the Main.java. but not Main.class

[17:26:11.0000] <jpwhiting>
so --local run fails

[17:26:27.0000] <rillian>
TextTrack's addCue and removeCue methods have "If the given cue is/is not in a text track list of cues" conditionals

[17:26:41.0000] <rillian>
does it define what comparison of cues is?

[17:26:53.0000] <rillian>
same object? object with the same properties and values?

[18:09:41.0000] <jpwhiting>
ugh, copyright symbols are messing up the java compiler on the build machine

[18:10:13.0000] <MikeSmith>
jpwhiting: the build for ./util/src/nu/validator/xml/dataattributes/DataAttributeDroppingContentHandlerWrapper.java is failing

[18:10:29.0000] <jpwhiting>
yep, just noticed that

[18:10:41.0000] <jpwhiting>
can I tell the javac that the file encoding is utf-8 rather than ascii somehow?

[18:10:50.0000] <MikeSmith>
because "package nu.validator.htmlparser.impl does not exist"

[18:11:00.0000] <jpwhiting>
or do I just need to set the encoding in the build machine env somehow

[18:11:13.0000] <jpwhiting>
like locale en_US.UTF-8 or something

[18:11:17.0000] <MikeSmith>
so the parser is not built

[18:11:30.0000] <jpwhiting>
yep, because it fails on a copyright symbol in the .java files

[18:11:50.0000] <MikeSmith>
this may be due to some circular dependencies

[18:12:10.0000] <MikeSmith>
and if so the only way to resolve it is to re-run the build

[18:12:22.0000] <jpwhiting>
no, it's because javac is interpreting the .java files as ascii, but they have unicode copyright symbols in them

[18:12:58.0000] <jpwhiting>
yep, I'm running --local build twice

[18:13:13.0000] <jpwhiting>
maybe I need to patch the build system to call javac -encoding utf8 ?

[18:13:46.0000] <MikeSmith>
also, "./syntax/non-schema/java/src/org/whattf/checker/XmlPiChecker.java:1055: error: unmappable character for encoding ASCII" is weird

[18:13:48.0000] <jpwhiting>
see these lines : /htmlparser/src/nu/validator/htmlparser/impl/Tokenizer.java:31: error: unmappable character for encoding ASCII

[18:13:50.0000] <jpwhiting>
yep

[18:13:51.0000] <MikeSmith>
I have never seen that before

[18:14:22.0000] <MikeSmith>
jpwhiting: ah yeah

[18:14:43.0000] <MikeSmith>
I thought I had already done that "-encoding utf8" thing

[18:15:29.0000] <jpwhiting>
do I just add that to the ant file where it calls javac?

[18:16:24.0000] <MikeSmith>
dunno but I think we have an opne bug for it, with a patch. lemme check

[18:16:56.0000] <jpwhiting>
ah, maybe build/build.py runJavac can be patched to pass -encoding utf8

[18:17:12.0000] <jpwhiting>
what bug tracker do you use btw?

[18:17:32.0000] <jpwhiting>
i.e. which url, I didn't notice anything about it on the about.validator.nu site

[18:17:50.0000] <MikeSmith>
http://bugzilla.validator.nu/

[18:18:21.0000] <jpwhiting>
thx

[18:19:05.0000] <MikeSmith>
that server is really really slow sometimes

[18:19:08.0000] <MikeSmith>
like, now

[18:19:13.0000] <jpwhiting>
:) yep, seems to be

[18:19:36.0000] <jpwhiting>
probably because us is still awake, maybe some of europe, and asia is getting up too

[18:21:18.0000] <MikeSmith>
http://bugzilla.validator.nu/show_bug.cgi?id=941

[18:21:20.0000] <jpwhiting>
searching encoding on there doesn't give any obvious bug entries, but you can probably find it easier than I can

[18:21:33.0000] <jpwhiting>
ah, there it is

[18:23:48.0000] <MikeSmith>
-  runCmd('"%s" -g -nowarn -classpath "%s" -sourcepath "%s" -d "%s" %s'\

[18:23:48.0000] <MikeSmith>
+  runCmd('"%s" -encoding UTF-8 -g -nowarn -classpath "%s" -sourcepath "%s" -d "%s" %s'\

[18:24:13.0000] <MikeSmith>
I'll commit that change right now and push it upstream

[18:24:31.0000] <MikeSmith>
I don't know why it causes no problem in my local environment

[18:24:41.0000] <MikeSmith>
maybe java looks at $LANG or something

[18:31:52.0000] <jpwhiting>
yeah, I think so, ok cool, I'll update my tarball with that change

[18:31:59.0000] <jpwhiting>
thanks for looking into it :)

[18:33:15.0000] <MikeSmith>
thanks for catching it :)

[18:33:32.0000] <jpwhiting>
yep, np

[19:52:59.0000] <smaug____>
rafaelw: sorry, I'm late with that event loop spinning + microtask thing. I'll try to remember think about it tomorrow (or annevk will kick me)

[19:56:58.0000] <annevk>
:evilsmile:

[20:32:22.0000] <jpwhiting>
MikeSmith: what does "Exception in thread "main" java.lang.UnsupportedClassVersionError: nu/validator/servlet/Main : Unsupported major.minor version 51.0" mean when I try to run in my simulator vm

[20:32:32.0000] <jpwhiting>
the simulator's jdk or jvm is too old?

[20:32:40.0000] <MikeSmith>
no clue

[20:32:50.0000] <MikeSmith>
can't recall seeing that one before

[20:33:24.0000] <jpwhiting>
it's running openjdk-7-jdk u3-2.1.1 wheras I've been building on a machine with u3-2.1.7

[20:33:36.0000] <jpwhiting>
k, /me googles

[20:34:25.0000] <MikeSmith>
ah

[20:34:36.0000] <MikeSmith>
oh wait

[20:34:48.0000] <MikeSmith>
so both are Java7 environments?

[20:34:54.0000] <jpwhiting>
yep

[20:35:05.0000] <jpwhiting>
one is newer than the other though

[20:35:09.0000] <jpwhiting>
2.1.1 vs 2.1.7

[20:35:25.0000] <MikeSmith>
hmm

[20:35:42.0000] <jpwhiting>
I'll try backporting 2.1.7 to this ubuntu version I'm using on the simulator in the morning and see if that does it

[20:35:47.0000] <jpwhiting>
google results are suggesting the same

[20:36:14.0000] <MikeSmith>
if you can make your compiler compile it as Java6 that would be fine. We don't have any Java7isms in there afaik

[20:36:26.0000] <MikeSmith>
ok

[20:36:59.0000] <jpwhiting>
ah, ok, I'll give that a shot too, yeah, I can just change the build dep to make it use openjdk-6 rather than 7 when building

[03:33:12.0000] <Ms2ger>
r? https://github.com/w3c/web-platform-tests/pull/246 https://critic.hoppipolla.co.uk/r/216

[07:23:17.0000] <matjas>
is it okay to use <data> to embed JSON-formatted data in a document, like this? <data value='{"foo":"bar"}'></data>

[07:23:40.0000] <matjas>
note that it has no content in this case

[07:24:21.0000] <matjas>
basically, i want an alternative to <script>window.data = <% server-generated JSON goes here %>;</script>

[07:24:39.0000] <matjas>
…without using inline scripts, so that I can still enable CSP

[07:25:16.0000] <matjas>
option 1: load the data through Ajax after page load = bad for performance

[07:25:59.0000] <matjas>
option 2: use <script src=server-side-script-that-outputs-the-data-as-a-js-file></script> → additional HTTP request = bad for performance

[07:26:33.0000] <matjas>
option 3: hide the data somewhere in the DOM (in a hidden element, or in an attribute value) and use JS to read it out and `JSON.parse()` it

[07:26:51.0000] <matjas>
none of those solutions are as performant as a simple inline <script>, though

[07:27:02.0000] <matjas>
thoughts?

[07:27:19.0000] <zewt>
on a quick look at the spec, it looks like <data> is valid for this, but since there's no human-readable data associated with it, dataset might be preferable

[07:28:20.0000] <annevk>
matjas: how is that different from <body data-json=...> ?

[07:28:22.0000] <matjas>
zewt: that would be option 3, right? something like <div data-foo="<% json goes here %>"></div>

[07:28:33.0000] <zewt>
is it actually faster? i'd think there'd be a chance that parsing the data as json might be faster than parsing it as javascript, since it's a much tighter format

[07:29:17.0000] <matjas>
annevk: not different… you’re right, just an attribute value would be better since there is no useful non-machine content

[07:29:18.0000] <zewt>
(if there's any measurable difference at all)

[07:29:38.0000] <matjas>
zewt: ah, i hadn’t considered that

[07:31:49.0000] <matjas>
thanks! I’ll go with `data-json='…'` and `JSON.parse()` then

[07:33:35.0000] <matjas>
note to self: don’t forget to escape ' in the serialized JSON data as &#x27;

[07:34:16.0000] <zewt>
reminds me, i need to check my foo = <?= jsonencode(foo) ?>'s for </script> escaping

[07:48:54.0000] <matjas>
zewt: don’t forget about <!-- either

[07:49:12.0000] <matjas>
hsivonen_ suggest simply escaping any occurences of `<`: http://mathiasbynens.be/notes/etago#comment-8

[07:49:16.0000] <matjas>
suggests*

[09:22:23.0000] <gsnedders>
Is there any point in releasing tests which are going to be handled by idlharness.js?

[09:26:35.0000] <annevk>
maybe if you annotate them as such so they can be deleted later on?

[09:30:17.0000] <galant>
how can I put inside border in some element

[09:31:20.0000] <galant>
inside shadow sry not border

[09:31:58.0000] <dglazkov>
good morning, Whatwg!

[09:32:12.0000] <TabAtkins>
galant: Use the "inset" keyword.

[09:34:31.0000] <galant>
thanks

[10:04:27.0000] <Hixie_>
annevk: are we up to date with respect to fullscreen event attributes?

[10:04:40.0000] <Hixie_>
annevk: c.f. http://www.w3.org/mid/CADnb78jr+rBRYR_iFuB3WwY-U=XxfQJokqO0CWCx3ob=jSSysA⊙mgc

[10:08:17.0000] <Hixie_>
i'm going to assume that e-mail is out of date.

[10:15:51.0000] <annevk>
Hixie_: looks like we're all good

[10:16:50.0000] <Hixie_>
k

[10:17:32.0000] <annevk>
yeah, seems we revised our thinking of how to organize things since then

[10:18:26.0000] <Hixie_>
annevk: what's the story with HTMLElement.dataset? Do you want that on Element?

[10:18:52.0000] <annevk>
I've been thinking about it, to satisfy the SVG (and Math?) crowd

[10:18:56.0000] <TabAtkins>
Hixie_: Yes, please.  SVG wants data.

[10:19:17.0000] <Hixie_>
annevk: you gonna reply on the relevant whatwg thread?

[10:19:25.0000] <Hixie_>
from february?

[10:19:31.0000] <Hixie_>
or should i?

[10:19:36.0000] <Hixie_>
i don't really care either way

[10:19:46.0000] <Hixie_>
i guess i'll reply saying it's your problem

[10:19:47.0000] <Hixie_>
:-)

[10:19:56.0000] <annevk>
Hixie_: I already replied there

[10:20:21.0000] <Hixie_>
yeah but your reply wasn't a "yes" or a "no" it was "let's make this bikeshed bigger"

[10:20:24.0000] <Hixie_>
:-P

[10:20:25.0000] <annevk>
Hixie_: one reason I haven't done it yet is because I haven't seen adoption yet of the Element.id/Element.className stuff, but maybe I haven't been paying sufficient attention

[10:20:32.0000] <Hixie_>
k

[10:26:14.0000] <annevk>
Belated :-)

[10:36:20.0000] <TabAtkins>
Hixie_: Why does <style scoped> have to be the first child of the element. >_<

[10:37:34.0000] <Hixie_>
so it doesn't style things before it, same reason <style> has to be in <head> and not randomly in <body>

[10:38:02.0000] <TabAtkins>
But now I have to add code to my preprocessor to move <style> blocks around just to satisfy the validator.

[10:38:58.0000] <Hixie_>
not just to satisfy the validator

[10:39:03.0000] <Hixie_>
also to avoid restyling in incremental rendering

[10:42:47.0000] <TabAtkins>
In this case, the only thing above it is an <h1>. ;_;

[10:43:17.0000] <Hixie_>
yeah but what if the parser stalled between the <h1> and the <style>?

[10:43:28.0000] <Hixie_>
then it'd render the h1 one way, then suddenly rerender it

[10:43:36.0000] <Hixie_>
that's bad for performance

[10:43:37.0000] <Hixie_>
and ugly

[10:43:44.0000] <TabAtkins>
Well, assuming I was styling the <h1>, which I'm not.  But whatever.

[10:43:56.0000] <TabAtkins>
Still, I guess I can fix this.  Just annoying.

[10:44:05.0000] <Hixie_>
you could just wrap the rest in a <div> then

[10:44:08.0000] <SimonSapin>
<style> has to be in <head>? Really?

[10:44:09.0000] <Hixie_>
or <main>, if that's applicable

[10:44:23.0000] <Hixie_>
<style> has had to be in <head> since like 1996

[10:45:48.0000] <SimonSapin>
Hixie_: that’s an author requirement, right? UAs should still apply <style> that are not in <head>

[10:45:57.0000] <Hixie_>
yes

[10:47:08.0000] <annevk>
can <input type=hidden> precede <style>? :-p

[10:47:25.0000] <Hixie_>
no

[10:49:08.0000] <TabAtkins>
Okay, that was an easier fix than I thought.  Anyway, I now produce valid HTML documents (at least for this spec - we'll see as I publish more things under my preprocessor).

[10:49:23.0000] <GPHemsley>
annevk, Hixie_: Thoughts? https://www.w3.org/Bugs/Public/show_bug.cgi?id=22641

[10:50:03.0000] <Hixie_>
that entire section is non-normative.

[11:09:54.0000] <galant>
I am not sure how textAlign and textBaseline work on the canvas when I shoul type x y coordinates for the starting text?

[11:10:23.0000] <galant>
also in which place browser draws the text in that x y coordinates?

[11:10:45.0000] <galant>
I place 0 0 but top left of the text is not in the top left corner of the canvas why?

[11:11:34.0000] <galant>
hm

[11:12:06.0000] <galant>
so if I use textAlign cwenter and textBaseline middle then x,y coordinate is the middle of the text

[11:31:40.0000] <annevk>
http://html5.org/r/8051 sorting is hard :)

[11:31:59.0000] <annevk>
galant: you want something like #html5 for such questions I think

[11:39:40.0000] <annevk>
smaug____: https://dvcs.w3.org/hg/IndieUI/raw-file/default/src/indie-ui-events.html very much has a uiactions attribute

[11:40:20.0000] <annevk>
Hixie_: ^^ uncoordinated extensions to HTML

[11:41:44.0000] <smaug____>
annevk: yes, that is a "new" thing

[11:42:04.0000] <smaug____>
there was something else before

[11:42:22.0000] <smaug____>
annevk: something effectively like mutation event

[11:42:27.0000] <smaug____>
for some attributes

[11:42:28.0000] <annevk>
o_O

[11:42:30.0000] <smaug____>
or something like that

[11:43:40.0000] <annevk>
smaug____: so the idea is that these events only dispatch if this attribute is used?

[11:44:06.0000] <smaug____>
that mutation event -like thing isn't there anymore

[11:44:16.0000] <smaug____>
I have to re-read the spec

[11:50:45.0000] <annevk>
That specification is terrible :/

[11:55:59.0000] <galant>
thanks

[11:56:05.0000] <galant>
ok annevk  sry

[11:57:00.0000] <annevk>
galant: you're free to ask here, it's just that most people here are focused on documenting the web

[11:57:10.0000] <annevk>
 / understanding it

[12:08:12.0000] <reyre_>
when comparing TextTrackCue's like in TextTrack::AddCue() should we be doing by value or by ref compare? http://www.whatwg.org/specs/web-apps/current-work/multipage/the-video-element.html#dom-texttrack-addcue

[12:08:18.0000] <Hixie_>
galant: i don't understand your question, can you ask again?

[12:08:44.0000] <Hixie_>
reyre_: by identity (ref)

[12:08:46.0000] <Hixie_>
annevk: ?

[12:09:29.0000] <annevk>
Hixie_: that draft, which is being implemented by at least Apple as I understand it, is adding an attribute to HTML; I thought I'd let you know

[12:09:36.0000] <Hixie_>
aah

[12:10:06.0000] <Hixie_>
seems not unreasaonable

[12:12:51.0000] <reyre_>
Hixie_: awesome, thanks

[12:31:28.0000] <galant>
Hixie_, sry I wasn't arround

[12:31:58.0000] <galant>
Hixie_, I solved my problem, thanks guys for trying to help me

[12:37:50.0000] <smaug____>
aha, there I said it. nanotasks. That will be the next lower level task handling.  Don't know what they will be for or how they are defined, but obviously we need them.

[12:46:35.0000] <annevk>
Taskception. WE NEED TO GO DEEPER!

[12:46:43.0000] <galant>
 I write text with canvas then I am writing over that text same text but with white color and then again I am rewriting the text over with old color  however I get some white dots appearing still from the white letters

[12:47:04.0000] <Hixie_>
galant: yeah, antialiasing will do that

[12:47:12.0000] <galant>
hm

[12:47:14.0000] <Hixie_>
galant: you're better off clearing the whole canvas each frame, in my experience

[12:47:16.0000] <galant>
:S

[12:47:21.0000] <galant>
ok thanks

[12:53:22.0000] <galant>
man its working like a charm now ^^ :)

[12:53:28.0000] <galant>
omg im so happy

[12:56:39.0000] <galant>
is light webgl performing good in pcs  without graphic cards? please invest time in webgl improe it i has so much potential

[13:27:20.0000] <jpwhiting>
MikeSmith: up by chance?

[13:27:30.0000] <jpwhiting>
/me guesses not since it's not even 6am there

[13:36:04.0000] <TabAtkins>
Hixie_: Your mail client messes up unicode?

[13:36:22.0000] <TabAtkins>
See Björn's name in your most recent response to Anne.

[13:36:44.0000] <Hixie_>
yeah i just updated to a more recent version of pine and i haven't spent the time to work out what settings i need to tweak

[13:37:02.0000] <Hixie_>
theoretically it's better than the previous version, which was encoding ignorant

[13:37:17.0000] <Hixie_>
but i may have broken it through whatever hacks i had in before

[13:39:02.0000] <Hixie_>
GPHemsley: another example of something that is needed from a mouse event spec is defining when form controls get focused in response to clicks

[13:48:05.0000] <ap>
Hixie_: just noticed that all browsers fail Acid3 on my machine - pixel results don't match because reference image gets upscaled for Retina

[13:48:28.0000] <Hixie_>
yeah, acid tests are only valid on 96dpi displays

[13:52:45.0000] <Domenic_>
+1 nanotasks

[13:59:18.0000] <Hixie_>
how the hell does my .bashrc containing just:

[13:59:18.0000] <Hixie_>
export LC_ALL=en_US.UTF-8

[13:59:31.0000] <Hixie_>
...result in my Mac OS X environment containing:

[13:59:35.0000] <Hixie_>
LANG=en_US.UTF-8

[13:59:40.0000] <Hixie_>
...and no LC_ALL ???

[14:00:38.0000] <Hixie_>
not that setting LC_ALL is doing what i want either

[14:06:22.0000] <jsbell>
Hixie: MacOS uses .bash_profile not .bashrc

[14:06:48.0000] <Hixie_>
uh

[14:06:51.0000] <Hixie_>
it doesn't use both?

[14:06:57.0000] <jsbell>
apparently not

[14:07:02.0000] <Hixie_>
fun

[14:07:03.0000] <Hixie_>
thanks

[14:08:56.0000] <Hixie_>
locale -a outputs, amongst many others, "en_US.utf8"

[14:09:10.0000] <Hixie_>
when i set LC_ALL to "en_US.utf8", i get: locale: Cannot set LC_CTYPE to default locale: No such file or directory

[14:09:14.0000] <Hixie_>
wtf

[14:26:36.0000] <Hixie_>
annevk: is the thread "Proposal: Adding methods like getElementById and getElementsByTagName to DocumentFragments" on your radar?

[14:28:05.0000] <Hixie_>
TabAtkins: right, in theory my encoding woes are fixed...

[14:33:38.0000] <Hixie_>
"I think it more common for people to interact mainly with people in their

[14:33:39.0000] <Hixie_>
own timezone. I.e. most time when talking about dates and times people

[14:33:39.0000] <Hixie_>
don't me nation what timezone is involved and rely on contest to provide

[14:33:39.0000] <Hixie_>
that information.

[14:33:39.0000] <Hixie_>
"

[14:33:50.0000] <Hixie_>
i'm assuming sicking means "context", not "contest", though the latter is funnier

[14:34:15.0000] <Hixie_>
(also i assume "me nation" is "mention")

[14:56:45.0000] <annevk>
Hixie_: yes

[14:57:15.0000] <Hixie_>
excellent

[14:57:17.0000] <Hixie_>
/me deletes it from his

[15:15:26.0000] <annevk>
file URLs :/

[15:41:41.0000] <annevk>
smaug____: hmm, addedNodes should have been insertedNodes

[15:41:49.0000] <annevk>
smaug____: kinda of a naming failure

[15:42:44.0000] <smaug____>
hmm, probably yes

[15:57:40.0000] <GPHemsley>
Hixie_, annevk: http://wiki.whatwg.org/wiki/Mouse_interaction

[16:13:24.0000] <jpwhiting>
MikeSmith: around?

[16:14:28.0000] <jpwhiting>
I've hit a couple issues with packaging, one is that dependencies/jetty-6.1.26/lib/ext/libsetuid.so is a 64 bit library, is validator.nu only supposed to work on a 64 bit system?

[16:14:38.0000] <jpwhiting>
or is that library not even used maybe?

[16:15:58.0000] <jpwhiting>
the other issue is when I run it's still trying to load schema http://s.validator.nu/html5.rnc but I thought I removed that from w3c-presets.txt so it shouldn't show up when I run

[16:16:26.0000] <jpwhiting>
and I'm getting a java.lang.StackOverflowError with com.thaiopensource.relaxng.impl.ChoicePattern.checkRestrictions over and over in a huge stack

[16:17:39.0000] <jpwhiting>
ah, it's saturday morning there, you're probably gone :)


2013-07-13
[17:56:06.0000] <GPHemsley>
Hixie_: Doesn't the HTML differences spec list the differences between W3C and WHATWG? At least, inline with the respective changes?

[18:05:13.0000] <Hixie_>
does it?

[19:35:34.0000] <GPHemsley>
I recall it saying things like "this is only in the WHATWG version of the spec"

[19:44:44.0000] <MikeSmith>
jpwhiting: here now

[19:46:37.0000] <MikeSmith>
jpwhiting: the validator is not intended to be 64-bit only. We just try to keep up with the latest jetty, to make sure we have whatever security fixes and what-not

[19:47:40.0000] <MikeSmith>
the "ext" part in that path makes me suspect that's not used by jetty by default. and we're just using default jetty stuff afaik

[19:48:41.0000] <MikeSmith>
$ file libsetuid.so

[19:48:42.0000] <MikeSmith>
libsetuid.so: ELF 64-bit LSB  shared object, x86-64, version 1 (SYSV), dynamically linked, BuildID[sha1]=b71a2fa09cdc31e9985026e6f1b02f4e079194fe, not stripped

[19:50:33.0000] <MikeSmith>
anyway now that I think of it I don't even understand how that library would be used by jetty, since all the jetty code is java code

[19:50:45.0000] <MikeSmith>
platform independent

[19:51:48.0000] <MikeSmith>
and that lib of course is compiled for particular architecture

[19:52:13.0000] <MikeSmith>
no idea why they are even including that built binary in the jetty distribution

[19:53:07.0000] <MikeSmith>
about the validator still loading http://s.validator.nu/html5.rnc it's probably because the other schemas reference it through relative paths

[19:53:10.0000] <MikeSmith>
/me looks

[19:54:17.0000] <MikeSmith>
GPHemsley: the differences doc does include that info, yeah. Simon added it

[20:22:39.0000] <MikeSmith>
jpwhiting: after looking through the sources I don't actually see why they validator would still be trying to load that schema even after you removed it from the presets

[20:23:13.0000] <MikeSmith>
and that java.lang.StackOverflowError with com.thaiopensource.relaxng.impl.ChoicePattern.checkRestrictions is not an error I can remember seeing before

[20:37:28.0000] <jpwhiting>
MikeSmith: ok, perfect, I'll remove the .so file and that should make it so dh_shlibdeps doesn't fail anymore, I'll see if I can figure out the other issues, thanks for checking

[20:41:49.0000] <jpwhiting>
MikeSmith: just curious is there a minimum jdk version required for validator.nu or any of it's dependencies?

[21:17:17.0000] <jpwhiting>
MikeSmith: ah, the reason it says it's loading html5.rnc is because classes/nu/validator/localentities/files/presets has the w3c presets, not my list of presets

[21:17:30.0000] <jpwhiting>
/me looks to see which file that is generated by

[21:17:34.0000] <jpwhiting>
s/by/from/

[21:17:40.0000] <zewt>
the more i think about it, the more i suspect letting pages control orientation is possibly the worst thing that could happen to mobile browsing

[21:18:06.0000] <zewt>
it's bad enough that switching apps on mobile randomly changes orientation--having it change as you go page to page would be apocalyptically bad

[21:19:24.0000] <jpwhiting>
heh, that's coming from presets.txt copied directly, /me changes my patch to change presets.txt rather than w3c-presets.txt

[03:05:24.0000] <galant>
why when I write new path over existing path I see the old path in the background it isn't overdrawn completely I still can see shadows in background from old path?

[03:05:36.0000] <galant>
how can I delete - clear old path from canvas?

[07:26:44.0000] <galant>
ccany idea why it seems canvas drwas vertical lines  faster then horizontal?

[08:36:34.0000] <zewt>
rage @ the whole nonsense of ssl wildcard certificates only being valid down one level

[16:10:32.0000] <gallant>
lineWidth of canvas is square? so if lineWidth is 3 the point for drawinfg is square with 3 px width and 3px height?

[16:22:36.0000] <cabanier1>
gallant: yes

[16:22:56.0000] <Philip`>
gallant: No

[16:23:36.0000] <cabanier1>
:-)

[16:23:40.0000] <cabanier1>
it depends.

[16:23:47.0000] <Philip`>
It doesn't really have a shape, except at joins and ends, where its shape depends on lineJoin and lineCap

[16:24:04.0000] <cabanier1>
yes, but a horizontal line will be 3px

[16:24:09.0000] <cabanier1>
and vertical as well

[16:24:14.0000] <cabanier1>
(depending on ctm)

[16:25:14.0000] <cabanier1>
gallant: what are you asking exactly?

[16:26:06.0000] <gallant>
any idea why I can't make gradient with lineWidth of 3 px?

[16:26:14.0000] <gallant>
I am doing var gradient=mainText.createLinearGradient(0,0,0,3);

[16:26:22.0000] <gallant>
gradient.addColorStop(0,"yellow");

[16:26:22.0000] <gallant>
gradient.addColorStop(1,"red");

[16:26:26.0000] <gallant>
and I See only red color

[16:26:48.0000] <gallant>
if I make var gradient=mainText.createLinearGradient(0,0,0,36); and make lineWidth 36 px everything is fine I see the gradient

[16:26:53.0000] <gallant>
but cant with 3px why?

[16:29:12.0000] <gallant>
so

[16:29:27.0000] <gallant>
if I make lineWidth 3 px I am drawing with square that has width 3px and height 3px?

[16:30:04.0000] <cabanier1>
gallant: can you create a jsfiddle?

[16:36:53.0000] <cabanier1>
gone…

[16:36:59.0000] <cabanier1>
seems to work: http://jsfiddle.net/JV6Hz/1/


2013-07-14
[17:40:10.0000] <MikeSmith>
jpwhiting:  I guess you figured out by now that if you delete those copied files, the build will re create them from the sources

[17:40:33.0000] <MikeSmith>
so you might just wasn

[17:41:56.0000] <MikeSmith>
might just want to have your package build have a prep step that deletes that whole tree

[18:21:27.0000] <jpwhiting>
MikeSmith: yep, and since that libsetuid.so isn't even used I just deleted it, np

[18:34:31.0000] <MikeSmith>
jpwhiting:  ok, great

[19:33:30.0000] <MikeSmith>
jpwhiting:  btw, about minimum jdk version, I think its java 5. I don't think we have any 6 isms in there

[02:04:59.0000] <SimonSapin>
what should UAs do when encountering multiple <title> elements? I don’t find it in the spec

[02:05:12.0000] <SimonSapin>
Same question for <meta> elements with the same name

[02:05:51.0000] <Ms2ger>
Put them into the DOM

[02:07:08.0000] <Ms2ger>
If you mean what should be shown in the UI...

[02:07:16.0000] <Ms2ger>
"The string to use as the document's title is given by the document.title IDL attribute."

[02:07:24.0000] <Ms2ger>
"

[02:07:25.0000] <Ms2ger>
User agents should use the document's title when referring to the document in their user interface. When the contents of a title element are used in this way, the directionality of that title element should be used to set the directionality of the document's title in the user interface."

[02:07:36.0000] <SimonSapin>
found it: http://www.whatwg.org/specs/web-apps/current-work/multipage/dom.html#the-title-element-0

[02:07:38.0000] <SimonSapin>
use the first

[02:08:13.0000] <SimonSapin>
I meant as opposed to use the last, or ignore them all, or something

[02:10:50.0000] <Ms2ger>
That all depends on what you need it for

[02:11:39.0000] <SimonSapin>
write it in the corresponding PDF metadata … or if you consider WeasyPrint together with a PDF viewer, show it in the UI

[06:29:03.0000] <galant>
Hickson here?

[06:38:46.0000] <galant>
is there array for all canvases on webpage?

[06:39:48.0000] <Philip`>
galant: document.getElementsByTagName("canvas")

[06:39:58.0000] <galant>
ah ye

[06:40:07.0000] <galant>
:) thanks man - too much work my mind is blocked :)

[06:50:39.0000] <galant>
how much zoom needs for element to go out of screen>

[08:52:57.0000] <galant>
guys

[08:53:02.0000] <galant>
anyone here to help me?

[08:53:42.0000] <galant>
can I save pixels from canvas and change them with imagedata?

[16:49:31.0000] <annevk>
cabanier: yo, so the general canvas for worker design is generally agreed upon?

[16:52:07.0000] <cabanier>
annevk: I don't think so

[16:52:17.0000] <cabanier>
annevk: I haven't seen any feedback

[16:52:37.0000] <annevk>
cabanier: hmm yeah, I guess that indicates it's not

[16:53:03.0000] <cabanier>
annevk: I can't tell how it's supposed to work. how can the drawing in the worker synchronize with the main thread?

[16:53:37.0000] <cabanier>
annevk: I have seen negative feedback for webgl in a worker

[16:54:12.0000] <annevk>
cabanier: using commit() I think

[16:54:51.0000] <cabanier>
"Having designed several rendering engines that used GL share groups in the past, I can say that WebGL in a worker alone is not what most people want (though they don't know that, yet). The additional latency of moving input events to the background thread (we all aren't just spinning cubes, you know) and the inability to properly synchronize DOM elements makes primary rendering in a worker a non-starter in most cases, and in others just makes it signif

[16:55:40.0000] <cabanier>
annevk: When would you call commit? there's no requestanimationFrame in a worker...

[16:55:42.0000] <annevk>
Similar concerns have been raised about Web Audio... Latency :/

[16:55:57.0000] <zewt>
... the main use case for webgl in workers are doing offscreen rendering and math, not rendering for display

[16:56:29.0000] <zewt>
(not impressed by people who tell me "i know more than you and you'll realize it some day")

[16:56:40.0000] <cabanier>
zewt: will that speed up things though?

[16:57:05.0000] <zewt>
the point of workers is to keep stuff from hitching the ui more than speeding anything up

[16:57:07.0000] <cabanier>
zewt: in the non-web platform world, few applications have pulled this off.

[16:57:31.0000] <cabanier>
zewt: wouldn't asynchronous API solve that too?

[16:57:43.0000] <zewt>
in a clumsier way, sometimes

[16:58:07.0000] <zewt>
(opengl isn't a nicely controllable asynchronous api, so it's probably not a good fit)

[16:58:49.0000] <cabanier>
zewt: yeah. most (all?) canvas 2d implementors are on top of OpenGL or DirectX so have the same problem

[16:59:06.0000] <zewt>
and on mobile you're generally stuck with whatever native gles you've got


2013-07-15
[17:00:13.0000] <cabanier>
zewt: creating offscreen canvas in a worker and transferring the bitmap back make sense

[17:00:40.0000] <cabanier>
zewt: but the spec is written so an on-screen canvas can be transferred too.

[17:00:57.0000] <cabanier>
zewt: I don't know how that can work :-S

[17:02:08.0000] <zewt>
rendering to onscreen from a thread is probably fine as long as it's loosely coupled, but it probably gets hairier if you eg. allow reading pixel data from the ui thread while rendering in another thread

[17:03:17.0000] <cabanier>
zewt: unsure.

[17:03:31.0000] <cabanier>
zewt: can you transfer GPU resources between threads?

[17:03:54.0000] <cabanier>
zewt: I thought that was not that easy

[17:04:27.0000] <zewt>
i guess the trickier part is compositing, which is something native games don't have to worry about

[17:05:04.0000] <cabanier>
zewt: how so? you mean composite the canvas back on the main screen?

[17:05:36.0000] <zewt>
right, compositing it into the page (there might be other things on top of it, css effects, whatever else)

[17:06:52.0000] <zewt>
compared to simply telling opengl to output to a region inside a window

[17:07:05.0000] <cabanier>
zewt: yeah. it has to line up with the frame rate

[17:07:15.0000] <cabanier>
zewt: that might be hard + lots of overhead

[17:08:46.0000] <cabanier>
zewt: have an efficient way to pass big bitmaps/structures between workers seems more useful

[17:08:57.0000] <zewt>
(sorry, it's been a few years since I've been in native opengl land, so I'm rusty on the details)

[17:11:32.0000] <cabanier>
zewt: it's been a while for me too :-)

[17:13:54.0000] <cabanier>
zewt: we need font services in workers too, loading of resources, etc

[17:14:42.0000] <zewt>
https://zewt.org/~glenn/curves/ things like this make sense to do in a worker, non-realtime stuff

[17:14:49.0000] <zewt>
(that's webgl, not 2d canvas)

[17:16:17.0000] <zewt>
i've done image processing with opengl that takes on the order of 60 seconds to run (wasn't web, just native stuff), workers would be particularly helpful there

[17:22:43.0000] <cabanier>
zewt: yes. usefull for offscreen things.

[17:23:11.0000] <cabanier>
zewt: pdf.js seems to work well with workers too. rendering pages in workers

[17:30:00.0000] <cabanier>
(cooking)

[18:32:53.0000] <roc>
cabanier: where did that GL-in-workers feedback you quoted come from?

[18:34:09.0000] <cabanier>
roc: https://www.khronos.org/webgl/public-mailing-list/archives/1306/msg00050.html

[18:34:17.0000] <roc>
ta

[18:42:02.0000] <roc>
the issue of synchronizing with DOM state sounds like it wouldn't apply to games so much

[18:43:25.0000] <roc>
And the game developers I've talked to are obsessed with stable frame rate just as much as input latency. Workers would help the former, and support for delivering input events to workers could be added separately.

[19:26:32.0000] <cabanier>
roc: it's not so much DOM as it is synchronizing with the framerate. Is there a requestAF for a worker?

[19:35:23.0000] <roc>
I'm not sure. It's obviously needed, but it's not hard.

[19:48:50.0000] <cabanier>
roc: can you efficiently sync textures between threads? or is it gpu->cpu->gpu

[20:31:56.0000] <roc>
that depends on drivers and platform.

[20:32:03.0000] <roc>
but typically you can.

[20:33:11.0000] <roc>
If you can't, getting WebGL to work well with asynchronous compositing would be pretty hard.

[20:37:11.0000] <cabanier>
http://www.equalizergraphics.com/documentation/parallelOpenGLFAQ.html

[20:37:23.0000] <cabanier>
http://stackoverflow.com/questions/11097170/multithreaded-rendering-on-opengl

[20:45:17.0000] <cabanier>
https://developer.apple.com/library/mac/#documentation/graphicsimaging/conceptual/opengl-macprogguide/opengl_threading/opengl_threading.html

[20:52:20.0000] <roc>
those don't really answer the question you asked.

[20:53:22.0000] <roc>
for example, on Mac you have IOSurfaces, and on Windows you have DXGI texture sharing, which work well.

[20:54:49.0000] <cabanier>
it seems that it's possible

[20:55:11.0000] <cabanier>
canvas2s draws to a texture that you can then composite

[20:55:37.0000] <cabanier>
so drawing in a thread and compositing in main thread

[20:56:06.0000] <roc>
everyone's compositing in a dedicated thread now.

[20:56:07.0000] <cabanier>
unsure how you'd synchronize though

[20:58:51.0000] <cabanier>
do you have a paper on your compositor? does canvas draw in the compositor thread or in the main one?

[21:27:03.0000] <cabanier>
roc: if it's like this: http://dev.chromium.org/developers/design-documents/compositor-thread-architecture it should work. you'd need requestAF in the worker so you can sync it

[21:27:24.0000] <cabanier>
roc: and the compositor would have to wait for both threads to be idle, I *think*

[22:46:07.0000] <roc>
our is like that, but we don't block the main thread.

[05:59:47.0000] <SP33D>
Hello Sirs is any one here that can assist me with registering 2 tags?

[06:00:22.0000] <SP33D>
i Try to sign up my self and got adviced by the page to ask here since the site is under attak

[06:03:24.0000] <SP33D>
i need og:site_name and rights added to the list where og:site_name spezifis the titel opengraph tag and rights is where some Copyright infos are set do you need any more info or can give a account?

[06:13:02.0000] <gsnedders>
SP33D: See <http://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_to_a_specification.3F>

[06:34:31.0000] <SP33D>
uhhhh

[06:34:40.0000] <SP33D>
this gets more hard as i tought thx for the infos :D

[06:35:07.0000] <SP33D>
now i know why no one has added this specs :D

[08:41:47.0000] <annevk>
Why the fuck does GitHub keep scrolling back up in a diff-view

[08:41:57.0000] <annevk>
If it's out of focus. That's super annoying

[09:02:29.0000] <SP33D>
annevk not as anoying as getting seo fails coz missing 2 lines in a wiki

[09:02:31.0000] <SP33D>
:D

[09:02:58.0000] <SP33D>
and adding to lines to the wiki depends on writing a book

[09:02:59.0000] <SP33D>
::D

[09:11:13.0000] <SP33D>
and then i saw the link readed a bit around in the content and got annoyed

[09:11:14.0000] <GPHemsley>
SP33D: What is your desired username and e-mail address?

[09:11:28.0000] <GPHemsley>
That link refers to full-on new features.

[09:11:29.0000] <SP33D>
GPH probally i don't need one

[09:11:36.0000] <SP33D>
since the changes will not stay and all that

[09:11:50.0000] <GPHemsley>
Well, that's up to you/

[09:11:51.0000] <SP33D>
i am simply confused i got a info that i need to add some tags to that wiki

[09:12:04.0000] <SP33D>
and then there was a big problem

[09:12:08.0000] <GPHemsley>
In order to edit http://wiki.whatwg.org/wiki/MetaExtensions you need a wiki account

[09:12:42.0000] <SP33D>
and then i am allwoed to simply insert the both meta tags without writing a book to a existing member that maintaincs any specs or else?

[09:13:01.0000] <GPHemsley>
Well, your terms should be associated with a spec somewhere, but yes

[09:13:18.0000] <GPHemsley>
I am not the arbiter of that list, but I do have the power to give you editing privileges to it

[09:13:26.0000] <SP33D>
thats nice my desired name and email ist name: DirektSPEED mail: info⊙dd

[09:14:00.0000] <SP33D>
i only wanna make 2 new additions "rights" for copyright infos and "og:site_name" since its opengraph sitename tag

[09:14:01.0000] <SP33D>
thats it

[09:14:02.0000] <SP33D>
:D

[09:14:23.0000] <GPHemsley>
SP33D: OK, check your e-mail.

[09:14:47.0000] <annevk>
SP33D: everyone can add proposals there without problems

[09:15:29.0000] <SP33D>
befor i got this answer 15:13:02 - gsnedders: SP33D: See <http://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_to_a_specification.3F>;

[09:15:52.0000] <SP33D>
then i readed it a bit and then  got realy bad hurted in my heart and head

[09:15:57.0000] <GPHemsley>
Yeah, that was the wrong response to this request.

[09:16:05.0000] <GPHemsley>
That is a response to another type of request.

[09:16:15.0000] <GPHemsley>
Which you do not appear to be making.

[09:16:17.0000] <annevk>
SP33D: that's for features that need to go into browsers

[09:16:28.0000] <SP33D>
ya thats maybe if some one reqests to rename World Wide Web to anything else

[09:16:33.0000] <annevk>
SP33D: although for long term <meta name> values I guess it's kinda similar

[09:16:51.0000] <annevk>
but just registering some values you use is trivial

[09:24:56.0000] <SP33D>
thx a lot

[09:24:58.0000] <SP33D>
that helped much

[09:25:14.0000] <SP33D>
even if i don't understand proposal and all that stuff that is there

[09:25:17.0000] <SP33D>
its nice now :D

[10:59:05.0000] <annevk>
oh GPHemsley, Satyam requested via email, fwiw

[11:00:40.0000] <annevk>
SP33D: you might want to add some links so others can figure out where these values are defined

[11:00:46.0000] <annevk>
SP33D: helps evaluating proposals ;)

[11:19:51.0000] <Ms2ger>
annevk, btw, do you happen to have outstanding changes in your xref repo?

[11:20:34.0000] <annevk>
Ms2ger: not anymore ;)

[11:21:01.0000] <Ms2ger>
Thanks

[11:21:18.0000] <Hixie_>
abarth: what's the status of https://dvcs.w3.org/hg/user-interface-safety/raw-file/tip/user-interface-safety.html#frame-options ?

[11:24:06.0000] <Hixie_>
anyone know anything about the status of doing seamless iframes cross-origin ?

[11:25:52.0000] <annevk>
I know that I'm way behind on the event stuff and that I hate the event stuff

[11:26:30.0000] <Ms2ger>
I should write some tests

[11:26:30.0000] <annevk>
In particular the event requirements of Shadow DOM and seamless iframes combined is ...

[11:26:32.0000] <Ms2ger>
/me sighs

[11:27:16.0000] <annevk>
I guess I should convert these URL tests into some reusable format too and then expand on them.

[11:44:29.0000] <annevk>
JakeA: http://url.spec.whatwg.org/#dom-url has an example for document.baseURI now

[12:21:36.0000] <Ms2ger>
Really, http://wiki.ecmascript.org/doku.php?id=strawman:binary_integer_literals

[12:28:32.0000] <jgraham>
Why not?

[12:31:28.0000] <odinho>
annevk: If you get lots of minions on a testtwf-happening, you could couch people to do converting.

[12:31:52.0000] <odinho>
Converting works rather well for events like that, because it has low bar of entry.

[12:34:55.0000] <jgraham>
odinho: s/well/badly/ and s/because.*$/because no one wants to do it/

[12:35:32.0000] <Ms2ger>
Also, writing tests for anything that isn't fancy

[12:35:58.0000] <jgraham>
At least the only example I remember of it happening was the apache cordova thing, and those guys were being paid or something

[12:36:27.0000] <jgraham>
(or, if they weren't being paid they at least had the pre-determined goal of doing conversions)

[12:36:29.0000] <odinho>
Hmm. The people in webappsec has been converting a bit. Although not super successfully.

[12:36:56.0000] <odinho>
Yea, might be true that.

[12:37:19.0000] <jgraham>
Yeah, testtwf has an unfortunate bias towards the shiny

[12:37:20.0000] <odinho>
But actually having a list of tests that needs to be written (even if they already are, but don't show them) is easy.

[12:37:44.0000] <odinho>
Only having one test-file already on the go.

[12:37:53.0000] <odinho>
URL's are quite shiny, don'tchathink?

[12:38:05.0000] <odinho>
urls blabla

[12:47:52.0000] <jgraham>
Pretty sure that urls are duller than dull to most people

[12:48:22.0000] <jgraham>
Even the IETF don't think that there's any problems left to solve

[12:51:27.0000] <odinho>
Easy to upsell. You'll be working on URLS MAN IT*S THE THING THAT EVERYONE USE!!11

[13:13:23.0000] <annevk>
odinho: it shouldn't be much work once I've figured out how I want to do it

[13:13:34.0000] <annevk>
odinho: now if someone else wants to sign up for that, they can do it :)

[13:14:43.0000] <annevk>
Ms2ger: has been in the spec for over a year reportedly

[13:20:19.0000] <GPHemsley>
annevk: An admin@ one? (If so, please reply to it so I can keep track.)

[13:20:19.0000] <annevk>
GPHemsley: no

[13:20:19.0000] <GPHemsley>
ah, then it doesn't matter :)

[13:20:20.0000] <GPHemsley>
or, I guess it does

[13:20:20.0000] <GPHemsley>
but whatever

[13:20:20.0000] <GPHemsley>
:P

[13:26:27.0000] <jpwhiting>
MikeSmith: btw, in my patch I changed build/build.py to add a buildSchemaDriverSta, since we are using a custom rnc file for smart tv alliance specification, but I'm not sure if that's even required

[14:06:09.0000] <Hixie_>
i think i might start summarising feature requests we've received by e-mail, and filing bugs for them, so that there's more visibility into what features have been requested

[14:06:20.0000] <Hixie_>
can anyone think of a problem with doing that?

[14:33:32.0000] <annevk>
Hixie_: sounds good

[14:33:49.0000] <annevk>
Hixie_: better tracking of bugs you're not cc'd on would be nice though

[14:34:02.0000] <annevk>
Hixie_: some kind of stream, though I guess we might have that already somehow?

[14:38:49.0000] <Hixie_>
annevk: yeah dunno

[14:39:00.0000] <Hixie_>
annevk: you can watch contributor⊙wo, i think that covers most bugs?

[14:39:05.0000] <Hixie_>
or just watch me

[14:39:51.0000] <annevk>
yeah, I guess I can setup something

[14:40:07.0000] <annevk>
I kinda liked the HTML situation with the mailing list, so I could just visit the archive every couple of days and browse

[14:40:14.0000] <annevk>
rather than have it all in my inbox

[14:41:58.0000] <Hixie_>
hmmmm

[14:42:14.0000] <Hixie_>
you can get a bug list of bugs that are assigned to me that have changed recently

[15:07:28.0000] <SimonSapin>
"  Date on which the resource was changed. (DC doesn't spec a date format but the established practice is YYYY-MM-DD.) " :(

[15:07:42.0000] <SimonSapin>
(http://wiki.whatwg.org/wiki/MetaExtensions dcterms.modified)

[15:08:00.0000] <annevk>
just use HTTP

[15:09:44.0000] <SimonSapin>
I’m looking for something to map to PDF’s CreationDate and ModDate in WeasyPrint

[15:11:07.0000] <SimonSapin>
annevk: do you mean take a date from HTTP headers?

[15:11:47.0000] <SimonSapin>
I need to parse such dates, not write them

[15:18:13.0000] <annevk>
SimonSapin: you?

[15:18:22.0000] <annevk>
SimonSapin: I thought you were doing layout

[15:18:35.0000] <annevk>
Oh WeasyPrint

[16:46:45.0000] <Hixie_>
woah, i didn't realise FormData was opaque

[16:49:03.0000] <annevk>
Hixie_: http://wiki.whatwg.org/wiki/FormData

[16:49:16.0000] <Hixie_>
yeah, cc'ed you on a bug to track it

[16:49:46.0000] <annevk>
Although maybe it should mirror http://url.spec.whatwg.org/#urlquery now that it exists. I haven't quite figured out the value space

[16:49:52.0000] <annevk>
Well, thought about

[16:50:00.0000] <Hixie_>
value space?

[16:50:41.0000] <annevk>
URLQuery is a list of name-value. FormData is a list of name/value/filename?

[16:50:55.0000] <jpwhiting>
MikeSmith: I'm wondering what is required in validator.nu in order to run, I'm thinking maybe just build, dependencies/*.jar and jars is all that is needed?

[16:51:00.0000] <jpwhiting>
/me tries

[16:51:02.0000] <annevk>
Oh, name/value/type/filename even.

[16:51:30.0000] <Hixie_>
yeah, something like that

[16:51:36.0000] <Hixie_>
there's some magic around some of the values

[16:51:44.0000] <Hixie_>
most don't have a filename

[16:51:54.0000] <annevk>
Hixie_: how did this come up btw?

[16:52:03.0000] <Hixie_>
going through all feature requests mapping them to bugs

[16:52:28.0000] <Hixie_>
and apparently at some point i was bitching that you can't get to a form's data easily

[16:55:34.0000] <annevk>
heh

[16:56:11.0000] <annevk>
I guess the map would be String to (String or File)

[16:56:47.0000] <annevk>
The problem with that is that it gives people ways to create File objects with names, which some people were opposed to, but which also seems quite silly to be opposed to...

[16:59:50.0000] <zewt>
seems like an obvious thing, Files are just Blobs with a name and timestamp attached


2013-07-16
[18:04:30.0000] <MikeSmith>
jpwhiting: https://gist.github.com/sideshowbarker/6004932

[18:06:39.0000] <MikeSmith>
jpwhiting: not sure if that change to the build file is required or not. It depends on how you have the validator using that schema

[18:08:04.0000] <MikeSmith>
jpwhiting: but I guess you could check by just removing that build-file change temporarily, and if it works without that, you're fine

[19:18:15.0000] <jpwhiting>
MikeSmith: perfect, thanks

[03:38:19.0000] <galant>
why iceweasel shows letters wider then chromium?

[03:57:21.0000] <galant>
I don't udnerstand what is different if I put image that is 16x16 32x32 or 64x64 pixels? are they old shrinked to 16x16? ebacuse I think all favicons that I see have same size?

[05:48:53.0000] <annevk>
http://www.apple.com/logic-pro why link to a 404 from a press release?

[08:44:52.0000] <dglazkov>
good morning, Whatwg!

[08:52:22.0000] <annevk>
morning dglazkov

[08:52:32.0000] <annevk>
dglazkov: in SF this week by any chance?

[10:40:56.0000] <gsnedders>
What's a recommendable JS tutorial nowadays?

[10:41:03.0000] <gsnedders>
(For someone who already knows how to program?)

[10:54:08.0000] <jgraham>
gsnedders: http://api.jquery.com/ ? :p

[10:54:56.0000] <jgraham>
My other, equally useless suggestion is http://www.ecma-international.org/publications/files/ECMA-ST/Ecma-262.pdf

[10:57:18.0000] <jgraham>
Hixie_: I seem to recall that people don't like accessing window.location.href in possibly non-same-origin cases because the exception is always reported in the js console in weblinkit browsers, even if it is caught

[11:00:48.0000] <Hixie_>
ah

[11:01:56.0000] <jgraham>
(actually in my testcase it doesn't even throw if you do that, just returns undefined)

[11:02:21.0000] <jgraham>
(and logs an error)

[11:02:53.0000] <jgraham>
Of course it would be nice if they didn't have this behaviour

[11:03:08.0000] <jgraham>
But I guess you need to convinve abarth it's a bad idea

[11:13:08.0000] <jsbell>
gsnedders: The canonical answer is "JavaScript: The Good Parts" but I haven't personally read it.

[11:15:12.0000] <jsbell>
It's also, by definition, an opinionated view of the language, which may diverge a bit from what real people use. Hence jgraham's first answer.

[11:21:18.0000] <jgraham>
Hint to the people at spotify: there's a reason that I haven't played any Christmas-themed music "for a while now". You might want to consider that in your recommendations page

[11:21:41.0000] <jgraham>
/me knows this is a rather ineffective way to communicate with spotify employees

[11:33:54.0000] <abarth>
jgraham: what's a bad idea?

[11:38:59.0000] <jgraham>
abarth: According to webkit-dev you are already convinced :)

[11:39:23.0000] <jgraham>
(not throwing when accessing location.href cross origin)

[11:39:55.0000] <abarth>
hum...

[11:40:01.0000] <abarth>
there's some active discussion about changing this currently

[11:40:09.0000] <abarth>
why don't you want to throw?

[11:40:23.0000] <jgraham>
I do want to throw

[11:40:46.0000] <jgraham>
Sorry, I originally used negatives in a confusing way

[11:41:08.0000] <abarth>
https://code.google.com/p/chromium/issues/detail?id=17325

[11:41:15.0000] <abarth>
ok

[11:41:23.0000] <abarth>
yeah, that's the direction we're heading in

[11:41:39.0000] <abarth>
there's just some trickiness in the implementation that we're working through

[11:42:05.0000] <abarth>
the javascript engine isn't quite prepared for us to throw an exception at that point, but we're fixing it to let us

[11:42:19.0000] <abarth>
then we'll throw the exception and see what the compat impact is

[11:43:10.0000] <jgraham>
Sounds good

[11:43:33.0000] <jgraham>
Hopefully the compat impact it low since Gecko, Presto and, I asssume, IE already throw

[15:11:00.0000] <philandy>
Hi, I'm trying to emulate the xmp tag with outside source.

[15:11:18.0000] <Hixie_>
emulate in what sense?

[15:11:44.0000] <philandy>
meaning not using the xmp tag since the src attribute doesn't work with it.

[15:13:10.0000] <philandy>
would I need to use scripting? I'd love to avoid that if possible.

[15:14:31.0000] <Hixie_>
i don't understand what you mean

[15:14:36.0000] <Hixie_>
what are you trying to do?

[15:17:07.0000] <philandy>
well xmp displays the utf characters within the tags. I was intending to get an external file to display the utf characters there into the xmp tag. Since xmp does not have a src attribute, I have to use something else.

[15:18:38.0000] <philandy>
<html><head /><body><xmp><html></xmp></body></html>

[15:19:03.0000] <philandy>
will display: <html>

[15:19:03.0000] <philandy>
in a browser

[15:19:46.0000] <philandy>
I want to do <xmp src="page.html" />

[15:20:30.0000] <philandy>
since that does not work, I am here to see if anyone knows another solution.

[15:21:22.0000] <Hixie_>
what do you mean by "utf characters"?

[15:21:36.0000] <galant>
Hixie_, see pm :)

[15:21:53.0000] <Hixie_>
are you saying you just want to display a text file in a page without interpreting as html?

[15:22:19.0000] <philandy>
no, an html file as if it were a text file.

[15:22:39.0000] <Hixie_>
galant: saw it, wasn't sure what you wanted me to do with it :-)

[15:22:39.0000] <philandy>
and yes, without interpreting it as html

[15:22:48.0000] <galant>
haha nothing :))

[15:22:54.0000] <Hixie_>
philandy: just change the MIME type on the server to text/plain, and load it in an iframe

[15:23:27.0000] <Hixie_>
philandy: or fetch the file using XMLHttpRequest, then set a <pre> element's "textContent" idl attribute to the document's text source

[15:23:29.0000] <galant>
that site has plenty transitions and canvas and is slow on my old laptop :(

[15:24:29.0000] <dglazkov>
did tests in https://code.google.com/p/html5lib/source/browse/#hg%2Ftestdata%2Ftree-construction make it to https://github.com/w3c/web-platform-tests/tree/master/html?

[15:25:00.0000] <dglazkov>
I sort of see naming parallels, but the tests in github look nasty: https://github.com/w3c/web-platform-tests/blob/master/html/syntax/parsing/test_adoption01.html

[15:25:35.0000] <GPHemsley>
so apparently the new Chrome implementation of mouse(enter|leave) patterns with Opera on entry and nobody on exit

[15:25:45.0000] <GPHemsley>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=22641#c4

[15:26:10.0000] <philandy>
I was considering the pre tag, but was unsure there was a quick solution. I dislike iframe, object, and embed because they have issues with height that aren't exactly simple to resolve.

[15:38:20.0000] <gsnedders>
dglazkov: That's them in jgraham's wrapper.

[15:38:29.0000] <gsnedders>
dglazkov: I don't claim they're clean.

[15:39:42.0000] <gsnedders>
dglazkov: Also, see the home page of the html5lib project on Google Code. (Hint: you want https://github.com/html5lib/html5lib-tests)

[15:44:39.0000] <Hixie_>
http://www.w3.org/mid/CAEeYn8hWz9QA53VSseB=xFLwo+WuS4YPH19Ad+wHpheQp-nwpA⊙mgc christ, w3c are forking more of anne's specs

[15:46:13.0000] <philandy>
Hixie_: do you know what xmp broke in SGML?

[15:47:49.0000] <gsnedders>
23:38 < gsnedders> dglazkov: That's them in jgraham's wrapper.

[15:47:49.0000] <gsnedders>
23:38 < gsnedders> dglazkov: I don't claim they're clean.

[15:47:53.0000] <gsnedders>
23:39 < gsnedders> dglazkov: Also, see the home page of the html5lib project on Google Code. (Hint: you want https://github.com/html5lib/html5lib-tests)

[15:48:06.0000] <Hixie_>
philandy: i don't understand the question

[15:50:01.0000] <philandy>
It was sort of a parting question. The reason that xmp was depreciated was that it broke SGML. I was wondering if you knew what parts.

[15:50:43.0000] <Hixie_>
why do you think the reason <xmp> was deprecated was that it broke SGML?

[15:51:02.0000] <Hixie_>
("depreciated" means "lost value", "deprecated" means "warned against")

[15:52:40.0000] <philandy>
wow, okay. deprecated.

[15:53:52.0000] <philandy>
I had to refer back to the html 3.2 reference to see it

[15:54:39.0000] <Hixie_>
http://whatwg.org/html#xmp mentions it

[16:03:30.0000] <philandy>
Hixie_: I see it. I think I'm going to use an iframe, object, or embed depending on which doesn't feel like breaking everything.

[16:04:59.0000] <Hixie_>
<embed> is for plugins

[16:05:12.0000] <Hixie_>
<object> and <iframe> should be basically the same thing, though <iframe> is the better choice in your case

[16:10:32.0000] <philandy>
Hixie_ I agree. I want to follow the standards to do it right if possible. I seem to want to do the worst possible things from time to time >_<

[16:18:28.0000] <Hixie_>
abarth: ping?

[16:18:33.0000] <abarth>
Hixie_: hi

[16:18:39.0000] <Hixie_>
oooh, that was quick

[16:18:40.0000] <Hixie_>
hey

[16:19:01.0000] <Hixie_>
what do you know about CSP and cross-origin seamless iframes and so forth?

[16:19:28.0000] <Hixie_>
i have feedback saying it's wanted, and some says that CSP and/or X-Frame-Options and/or other things are supposed to do the security model aspect of this

[16:19:36.0000] <Hixie_>
so i don't have to reinvent an origin-opt-in mechanism a la CORS

[16:24:03.0000] <Hixie_>
abarth: ^

[16:24:26.0000] <abarth>
sorry

[16:24:28.0000] <abarth>
yeah

[16:24:38.0000] <abarth>
i don't think anyone has done anythign in that area yet

[16:24:44.0000] <abarth>
I think Ojan or I raised it on the list

[16:24:58.0000] <abarth>
and the feedback we got (maybe from you) was to wait for more seamless adoption before adding featuers

[16:25:03.0000] <abarth>
that's what we've been doing

[16:25:11.0000] <abarth>
I think moz has an implementation now

[16:25:23.0000] <abarth>
maybe even finished it.  I haven't checked their status in a bit

[16:25:34.0000] <abarth>
My understanding is that folks are still asking for the feature

[16:27:39.0000] <Hixie_>
abarth: can you elaborate on http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Dec/0012.html ?

[16:27:48.0000] <Hixie_>
did anything happen with that?

[16:28:16.0000] <abarth>
X-Frame-Options did become a CSP directive

[16:28:34.0000] <abarth>
the folks who were pushing the HTTP header approach in the IETF agreed to move to the W3C

[16:28:54.0000] <abarth>
there's still an informational RFC in the works in the IETF that documents the existing X-Frame-Options implementations

[16:29:06.0000] <abarth>
but the Frame-Options iteration got moved into CSP

[16:29:10.0000] <Hixie_>
still wouldn't help with seamless though right?

[16:29:44.0000] <Hixie_>
for seamless it seems we need a way for a page to give an opt-in list of domains that can do the seamless embedding

[16:29:50.0000] <Hixie_>
very similar to CORS

[16:29:53.0000] <Hixie_>
but not CORS, obviously

[16:30:46.0000] <Hixie_>
i'm so skeptical about introducing yet another mechanism

[16:35:23.0000] <abarth>
do you mean directly?

[16:35:32.0000] <abarth>
it's a bit different than frame-options

[16:35:43.0000] <abarth>
which doesn't grant anyone additional privileges

[16:35:46.0000] <Hixie_>
yeah

[16:35:55.0000] <abarth>
just revokes privieleges from everyone else

[16:36:11.0000] <abarth>
you're looking for something more like CORS...

[16:36:32.0000] <abarth>
i guess the question

[16:36:44.0000] <abarth>
...

[16:37:01.0000] <abarth>
do you want to be able to specify a list of origins?

[16:37:05.0000] <abarth>
CORS only lets you say one

[16:37:11.0000] <abarth>
e.g., *.example.com

[16:37:22.0000] <Hixie_>
it's unclear to me what the use cases are, so i don't know if one is enough or not.

[16:37:30.0000] <Hixie_>
but in principle, if it's enough for CORS, it should be enough for this.

[16:38:02.0000] <abarth>
I can tell you about use cases that I have personally

[16:38:05.0000] <abarth>
if that would be helpful

[16:38:55.0000] <Hixie_>
sure

[16:39:26.0000] <abarth>
https://bugs.webkit.org/show_bug.cgi?id=110252  <--- This is just a random WebKit bug, but you can see the red and green bubbles next to each attachment?

[16:39:43.0000] <abarth>
those are an iframe to a page hosted on another server

[16:40:15.0000] <abarth>
it would be nice if the iframe could automatically resize to fit the number of bubbles that are there

[16:40:39.0000] <abarth>
today, someone has to go edit the bugzilla code to change the constant whenever the max number of bubbles changes

[16:41:05.0000] <Hixie_>
but presumably you'd want anyone to be able to embed those

[16:41:09.0000] <abarth>
seamless would do the job, except the reason I used an iframe in the first place is because the data is hosted on another server

[16:41:16.0000] <abarth>
yeah, * would be fine here

[16:41:20.0000] <abarth>
this is public data

[16:41:30.0000] <Hixie_>
if it was a non-open project, you'd want anyone inside the intranet to be able to use it

[16:41:35.0000] <Hixie_>
which would be hard without a list of domains

[16:41:49.0000] <Hixie_>
if your intranet is like some companies'

[16:42:18.0000] <abarth>
yes, you'd want to be able to say something like *.corp.example.com

[16:43:03.0000] <Hixie_>
i was thinking of "intranets" that are more "extranets" and have a number of domains

[16:46:46.0000] <abarth>
well, the issue arises even for intranets

[16:46:53.0000] <abarth>
because the framing site could be on the internet

[16:46:58.0000] <abarth>
and the browser could be inside the firewall

[16:47:34.0000] <abarth>
i.e., if the project was closed source and internal to some company

[16:47:48.0000] <abarth>
but the bubble server said allow-seamless=*

[16:48:10.0000] <Hixie_>
right, my argument was that this use case, in the private case, implied you'd need a list.

[16:48:11.0000] <abarth>
then an internet site could determine how many bubbles were tehre

[16:48:20.0000] <abarth>
ah, yess

[16:48:24.0000] <abarth>
sorry, i misunderstood

[16:48:34.0000] <Hixie_>
but i guess we could do what CORS does, which is require the server to send the right header based on the incoming Origin header

[16:48:40.0000] <philandy>
btw, I was told Chrome isn't using WebKit anymore? Something called Blink?

[16:49:06.0000] <Hixie_>
philandy: blink is a fork of webkit, see http://www.chromium.org/blink

[16:49:34.0000] <Hixie_>
abarth: although i don't know if we can send the origin header for all iframe requests...

[16:49:44.0000] <Hixie_>
abarth: i guess we only need to send it if the seamless attribute is set

[16:50:52.0000] <Hixie_>
abarth: in any case, my original contention was that i didn't want to invent a new cors-like mechanism

[16:51:44.0000] <abarth>
philandy: that's true, but I created this bubble system, which is why I'm familiar with it ;)

[16:52:15.0000] <abarth>
Hixie_: yeah, like many issues, the question boils down to whether you think the Vary header works

[16:52:39.0000] <abarth>
if you think it works, then the server can Vary: Origin and still get reasonable caching

[16:52:55.0000] <abarth>
IMHO, CORS is probably a good place to start

[16:53:08.0000] <abarth>
that makes it clear that by allowing someone to embed you seamlessly

[16:53:14.0000] <abarth>
you're letting them read the contents of your document

[16:53:29.0000] <abarth>
that's not 100% accurate

[16:53:40.0000] <abarth>
but it's a good, conservative first approximation

[16:53:57.0000] <abarth>
(e.g., you might be able to keep CSRF tokens secret because they're hidden)


2013-07-17
[17:07:15.0000] <Hixie_>
abarth: yeah, if there is a CORS header it's clear you can do this

[17:07:54.0000] <Hixie_>
abarth: but i wouldn't want to encourage people to do that

[17:08:16.0000] <Hixie_>
ok, i gotta go. i'll think about it more. dunno what to do though.

[17:14:18.0000] <galant>
Hixie will my webpage be submited into Google's index?

[17:14:36.0000] <galant>
I submited it through https://www.google.com/webmasters/tools/submit-url?hl=en&mesd=eyJtdCI6IlJFUVVFU1RfUkVDRUlWRUQiLCJjdCI6MTM3NDAxOTk4MzA4MiwicHMiOltdfQ%3D%3D

[17:15:00.0000] <zewt>
Hixie where did I leave my keys

[17:15:16.0000] <galant>
oh nice it got submited instantly :)

[17:28:54.0000] <philandy>
Thanks Hixie_. Good luck with your bubble abarth. I'm reverting to letting the user view source for now.

[23:49:54.0000] <ondras>
hi there

[23:50:18.0000] <ondras>
can someone please explain the most fundamental differences between the whatwg promises and Promises/A+ ?

[05:02:01.0000] <galant>
what happens if I put webpage into webpage if I nest them

[05:02:50.0000] <galant>
how the webpages will be parsed into ram memory by the browser and how DOM will be made?it will have document.body.document? lol :)

[05:02:50.0000] <tomasf>
http://en.wikipedia.org/wiki/Big_Crunch

[05:02:58.0000] <ondras>
the same that happens when you google the word "google"

[05:03:02.0000] <ondras>
the internet will explode.

[05:03:13.0000] <galant>
haha

[05:03:15.0000] <jgraham>
ondras: Too much IT Crowd?

[05:03:21.0000] <ondras>
jgraham: :)

[05:03:41.0000] <ondras>
yo dawg

[05:03:45.0000] <ondras>
we heard u liek webpages.

[05:03:52.0000] <jgraham>
<link crossorigin=""><script>alert(document.getElementsByTagName[0].crossOrigin)</script> should alert("anonymous"), right?

[05:03:53.0000] <galant>
http://hasthelargehadroncolliderdestroyedtheworldyet.com/

[05:03:56.0000] <galant>
so I am safe ^^

[05:03:57.0000] <jgraham>
Ms2ger: ^

[05:04:02.0000] <galant>
this only thing I fear

[05:04:04.0000] <galant>
-_-

[05:04:36.0000] <galant>
so tell me -_-

[05:04:44.0000] <galant>
or..

[05:04:54.0000] <galant>
face the concequences (sry spelling)

[05:05:02.0000] <galant>
grr

[05:05:13.0000] <galant>
haha

[05:05:44.0000] <Ms2ger>
jgraham, mmm

[05:06:07.0000] <Ms2ger>
jgraham, see https://bugzilla.mozilla.org/show_bug.cgi?id=880997 https://www.w3.org/Bugs/Public/show_bug.cgi?id=19574

[05:06:42.0000] <Ms2ger>
/me disappears for a while

[05:10:26.0000] <jgraham>
Ms2ger: Thanks

[05:55:51.0000] <galant>
who made xhtml

[05:57:40.0000] <galant>
I can't find xhtml author on all internet :D

[05:59:03.0000] <galant>
omg honestly

[05:59:14.0000] <galant>
I never imagined tim like this http://www.ted.com/talks/tim_berners_lee_on_the_next_web.html

[05:59:16.0000] <galant>
omg omg omg :D

[05:59:19.0000] <galant>
nice!

[05:59:33.0000] <galant>
I though he is strange dude ! :D heheh omg he is very nice guy

[06:00:09.0000] <galant>
he is like Steve Jobs cool guy

[06:02:03.0000] <galant>
what percent of webpages are written in flash around?

[06:06:18.0000] <SimonSapin>
galant: do you mean the xhtml specification? http://www.w3.org/TR/xhtml1/#acks

[06:14:26.0000] <galant>
ум

[06:14:33.0000] <galant>
I mean XHTML the language

[06:14:44.0000] <galant>
who invented it

[06:20:39.0000] <jgraham>
Ms2ger: You have some reviewing to do

[06:20:41.0000] <jgraham>
:)

[06:20:49.0000] <jgraham>
I think that's everything I can fix for now

[06:27:57.0000] <galant>
http://www.youtube.com/watch?v=6wkc4uCaLpw

[06:28:03.0000] <galant>
omg guys you remember this , nostalgia

[07:00:47.0000] <Ms2ger>
jgraham, yay.

[07:36:24.0000] <galant>
I droped ie support for my webpage and I end up having on disposal very nice tools

[07:36:28.0000] <galant>
not supported in ie

[07:36:34.0000] <galant>
like getELementsByCLassName

[07:36:38.0000] <galant>
http://caniuse.com/getelementsbyclassname

[07:36:54.0000] <galant>
what means if previous versions of browsers ffor mobile phones are not written on this site

[07:36:58.0000] <galant>
are they supported or no

[07:50:23.0000] <galant>
I have very strange problem for which I don't know why it happens, please help.. on my webpage I have a lot of canvas 2d drawing and css transitions, when I open the page for first time in browser tab and if I write the url in address bar the web page starts wit h canvasses already drawn mostly and elements in place, no transition no canvas drawing, they were drawn before.. why? this only happens if I open my webpage for first time in new browser tab a

[07:50:26.0000] <galant>
 if I write the full url by hand not using previously saved urls

[08:18:41.0000] <Domenic_>
galant: i think stackoverflow is probably the best place for such questions. this is more for discussing in-progress web standards being created by the WHATWG.

[08:19:20.0000] <Domenic_>
galant: everyone seems very nice and so i doubt they're going to kick you out or anything, but just in terms of getting good and quick answers, i think stackoverflow is probably going to work better for you.

[08:25:51.0000] <galant>
ok sorry :S

[08:25:58.0000] <galant>
omg I am stuck in this

[08:26:06.0000] <galant>
for hours and I don't know what is going on :(

[08:52:43.0000] <MikeSmith>
Ms2ger: wanted to ask you about automation for the canvas tests

[08:53:33.0000] <MikeSmith>
I remember at one time you'd written a script to generate testharness.js-enabled versions of those tests

[08:53:44.0000] <MikeSmith>
or at least I thought you did that

[08:56:12.0000] <jgraham>
Yeah, pretty sure that exists somewhere

[09:29:05.0000] <Ms2ger>
MikeSmith, that sounds like something I'd do

[09:30:03.0000] <Ms2ger>
MikeSmith, the ones in the repo are technically testharness.js-enabled

[09:30:27.0000] <Ms2ger>
MikeSmith, I don't know if the async ones work reliably or at all, though

[11:15:40.0000] <rillian>
I have a question about iframe interaction with DocumentFragment

[11:18:02.0000] <rillian>
if the Firefox implementation, when an iframe isn't part of a document element tree

[11:18:06.0000] <rillian>
it has no contentWindow

[11:18:54.0000] <rillian>
so if I create an iframe, append it to a document

[11:19:05.0000] <rillian>
save a reference to its contentWindow

[11:19:11.0000] <rillian>
and then remove it from the document again

[11:19:29.0000] <rillian>
what should happen to the window object I kept a reference to?

[11:20:14.0000] <rillian>
what happens when I call constructor methods on it?

[11:26:21.0000] <jgraham>
If you have a reference to the window object it can't be GCd, so things will still work

[11:26:45.0000] <jgraham>
But it might not be very useful

[11:29:12.0000] <Hixie_>
the spec defines this, i think

[11:29:33.0000] <Hixie_>
When an iframe element is removed from a document, the user agent must discard the nested browsing context.

[11:32:56.0000] <rillian>
Hixie_: what happens to the reference the code is holding then?

[11:33:10.0000] <Hixie_>
"discard" just means that the strong reference from the UA to the Window is broken, it doesn't affect other references

[11:33:23.0000] <Hixie_>
it also means the Document is discarded

[11:33:40.0000] <Hixie_>
which stops running its tasks, etc

[11:33:46.0000] <Hixie_>
closes websockets

[11:33:46.0000] <rillian>
hrm. I don't know enough about any of this.

[11:33:49.0000] <Hixie_>
that kind of thing

[11:34:02.0000] <Hixie_>
search for "When an iframe element is removed from a document, the user agent must discard the nested browsing context" in the spec, and follow hyperlinks :-)

[11:34:32.0000] <rillian>
I've got a testcase in https://bug894104.bugzilla.mozilla.org/attachment.cgi?id=776009

[11:35:14.0000] <rillian>
which calls TextTrackCue(...).GetCueAsHTML() on a detached iframe's window

[11:35:26.0000] <rillian>
that crashes on firefox (and chrome, I think)

[11:35:58.0000] <rillian>
because our implementation wants a document to root the DocumentFragment too

[11:36:43.0000] <rillian>
I'm trying to understand whether the TextTrackCue ctor should be unavailable, throw, or if GetCueAsHTML() should throw, or succeed.

[11:37:17.0000] <Hixie_>
seems like that should work?

[11:37:27.0000] <Hixie_>
the Document still exists

[11:37:29.0000] <Hixie_>
no?

[11:37:35.0000] <Hixie_>
i'm confused as to what's the problem here

[11:38:07.0000] <Hixie_>
i'm also confused as to what you're calling

[11:38:12.0000] <Hixie_>
why is the interface object callable?

[11:38:14.0000] <rillian>
what Document? does the iframe have a separate from the originally contained page?

[11:38:41.0000] <rillian>
why isn't it 'new frameWin.TextTrackCue()' you mean?

[11:38:44.0000] <Hixie_>
the Document that was in the iframe

[11:38:46.0000] <Hixie_>
yeah

[11:38:53.0000] <rillian>
I don't know

[11:39:01.0000] <Hixie_>
back in a bit, lunch

[11:39:11.0000] <rillian>
what's even more confusing is if I type that code into the console, the constructor isn't available

[12:11:54.0000] <jgraham>
Does anyone know anything about the tests in https://github.com/w3c/web-platform-tests/pull/7 ?

[12:12:33.0000] <jgraham>
They are webkit/blink tests for various parts of the Location API

[12:12:45.0000] <jgraham>
But they are in some rather non-interoperable format

[12:15:28.0000] <jgraham>
TabAtkins: You are a person. Specifically you are a person who seems good to review https://critic.hoppipolla.co.uk/r/25 Any chance of that happening?

[12:21:55.0000] <Ms2ger>
Michael[tm] Smith (wake up!)

[12:26:51.0000] <jgraham>
If you don't work on a review for a few dyas critic gets grumpy :)

[12:26:53.0000] <jgraham>
*days

[12:30:03.0000] <jgraham>
Makes a lot of sense in a situation where you don't have a huge backlog and no one interested in doing the work

[12:30:59.0000] <Ms2ger>
Yeah

[12:34:38.0000] <Hixie_>
abarth: yt?

[12:35:47.0000] <jgraham>
jsbell: There are a whole load of IndexedDB test submissions that need to be reviewed. Would you be a good person to do that, or can you suggest someone that would?

[12:36:22.0000] <Ms2ger>
sicking, maybe?

[13:08:08.0000] <gallant>
sry for few hours ago

[13:08:19.0000] <gallant>
I know this is not help channel i wil lnot ask for help here anymore :S

[13:08:30.0000] <gallant>
just wanted to say that and apologize..

[13:11:54.0000] <Hixie_>
you can ask for help, it's no problem

[13:12:10.0000] <Hixie_>
Domenic_: was just saying that our answers might suck :-)

[13:12:14.0000] <Hixie_>
er,

[13:12:22.0000] <Hixie_>
"Domenic_ was just saying that our answers might suck", no colon

[13:22:27.0000] <gallant>
its ok Hixie_ I was annoying here

[13:22:29.0000] <gallant>
:)

[13:23:02.0000] <gallant>
I was in panic my webpage wasn't oppening like it should but that is just my problem not everyone else now everything is fine :)

[13:25:44.0000] <Hixie_>
the bar for "annoying" in this channel has been set pretty high

[13:28:21.0000] <Hixie_>
anyone got a spec that uses Promises yet?

[13:28:23.0000] <Hixie_>
annevk?

[13:28:57.0000] <jgraham>
sicking had the filesystem API. Not really a spec, but had some IDL at least

[13:30:47.0000] <sicking>
the IDL in that email doesn't use promises correctly though

[13:31:08.0000] <sicking>
"I" invented Promise<foo> syntax

[13:31:08.0000] <jgraham>
marcosc had http://web-alarms.sysapps.org/ but I don't know if that's right eight

[13:31:12.0000] <Ms2ger>
Of course not

[13:31:13.0000] <sicking>
which doesn't really exist

[13:31:13.0000] <jgraham>
*either

[13:31:21.0000] <Ms2ger>
Nobody uses IDL correctly

[13:31:22.0000] <jgraham>
Oh, I thought that syntax did exist

[13:31:29.0000] <jgraham>
it seems quite logical :)

[13:31:32.0000] <sicking>
also, WebIDL is really making things verbose :(

[13:31:44.0000] <jgraham>
Compared to what?

[13:31:44.0000] <Ms2ger>
Use JSIDL

[13:31:52.0000] <Ms2ger>
It'll fix everything and unicorns

[13:32:11.0000] <sicking>
it kind'a sucks that you have to put dictionaries in enums in separate syntax. Makes things much harder to read and makes the API look huge

[13:32:36.0000] <jgraham>
Yeah, I agree the dictionary thing isn't wonderful

[13:32:52.0000] <sicking>
that's why I in my filesystem proposal put a section at the end of "webidl crap that you don't really need to care about if you're a developer"

[13:33:28.0000] <Ms2ger>
What do you want for dictionaries, then?

[13:33:35.0000] <jgraham>
Anyway, I think the Promise<foo> thing is nice. Not sure why we wouldn't do that

[13:34:21.0000] <Hixie_>
what's the <foo> part?

[13:34:26.0000] <Hixie_>
but i actually meant the prose

[13:35:08.0000] <Ms2ger>
Type applications

[13:35:38.0000] <Hixie_>
i figured it was a type, i mean, what does it do

[13:35:49.0000] <Ms2ger>
Nothing much right now

[13:35:53.0000] <Hixie_>
ah ok

[13:36:51.0000] <Hixie_>
man, i don't understand the Promise spec at all

[13:37:32.0000] <Hixie_>
do i need to get a resolver, as a spec consumer of this api?

[13:37:55.0000] <Ms2ger>
They'll rewrite it a couple of times anyway

[13:39:13.0000] <Hixie_>
do i need to invoke the resolver's fulfill algorithm in a task, or can i invoke it willy nilly in asychronous prose?

[13:39:29.0000] <Hixie_>
looks like i can do it whenever, and it queues a task...

[13:41:53.0000] <Hixie_>
what is the difference between "resolve" and "fulfill"?

[13:42:56.0000] <Hixie_>
the domintro blocks for resolver are... unhelpful. :-)

[13:43:13.0000] <Hixie_>
"fulfill" is described as "Runs resolver's fulfill" :-)

[13:43:39.0000] <Hixie_>
interesting, you can reject with a value?

[13:43:43.0000] <Hixie_>
what value should i pass? null?

[13:47:24.0000] <jsbell>
jgraham: I can take a look at the test submissions

[13:47:42.0000] <Ms2ger>
Excellent

[13:48:01.0000] <Hixie_>
given a Promise, how do i do something when I get a value? .then()?

[13:48:13.0000] <Hixie_>
because .then() is defined as creating a new Promise, which makes no sense to me

[13:48:58.0000] <jsbell>
jgraham: I'll need links, what the output you want from my review, etc. i.e. I'm not sure what I'm volunteering for :)

[13:50:33.0000] <annevk>
Hixie_: hey, I'll read the backlog I guess

[13:50:57.0000] <annevk>
Hixie_: oh, I think Web Crypto drafts use it

[13:52:01.0000] <annevk>
Ms2ger: for dictionaries you want the JSIDL method({ prop1, prop2 }) syntax

[13:52:16.0000] <annevk>
Ms2ger: going to the Mozilla Summit?

[13:52:20.0000] <Ms2ger>
Yeah

[13:52:35.0000] <annevk>
Ms2ger: home country?

[13:52:41.0000] <Ms2ger>
Indeed so

[13:52:55.0000] <annevk>
Ms2ger: cool cool

[13:53:03.0000] <Ms2ger>
You'll be there?

[13:53:03.0000] <annevk>
/me will be there, if he can figure out the travel

[13:53:25.0000] <annevk>
Ms2ger: you old enough to drink beer?

[13:53:38.0000] <abarth>
Hixie_: you still looking for me?

[13:54:56.0000] <Ms2ger>
annevk, yeah, but I don't drink

[13:55:58.0000] <annevk>
Anyway, should be fun

[13:56:07.0000] <Hixie_>
abarth: see e-mail

[13:56:23.0000] <abarth>
k

[13:56:38.0000] <abarth>
"Making cross-origin <iframe seamless=""> (partly) usable" ?

[13:56:41.0000] <Hixie_>
abarth: yeah

[13:56:42.0000] <abarth>
/me will read in a bit

[13:56:53.0000] <Hixie_>
annevk: hopefully i understood the spec well enough

[13:56:55.0000] <Ms2ger>
It seems quite a few people will be decreasing their what is apparently called "Ms2ger number" there

[13:57:00.0000] <Hixie_>
annevk: you'll have to review my upcoming patch

[13:57:00.0000] <annevk>
Seems asking about frozen Date objects was the right thing to do

[13:57:38.0000] <Hixie_>
using promises didn't make this example as much better as i had hoped

[13:57:42.0000] <annevk>
Hixie_: no worries, I'm sure it'll all be tweaked a bit over time; heck, promises might even move into ES once TC39 has done all the work to get there

[14:03:08.0000] <Hixie_>
annevk: ok, check the latest diff

[14:04:42.0000] <gallant>
annevk, are you a girl ? :)

[14:04:54.0000] <gallant>
I have idea of you beign girl because your name anne :)

[14:04:59.0000] <gallant>
hehe

[14:05:29.0000] <gallant>
Hixie_, man Timothy Berners Lee is a cool man !

[14:05:57.0000] <Ms2ger>
Hint: no

[14:06:00.0000] <gallant>
http://www.ted.com/talks/tim_berners_lee_on_the_next_web.html

[14:06:08.0000] <gallant>
I imagined him beign shy guy

[14:06:17.0000] <gallant>
he is cool iek Steve Jobs nice !

[14:06:31.0000] <gallant>
didn't expected that first time i see him on this video

[14:08:23.0000] <annevk>
Hixie_: why not return Promise.every?

[14:08:43.0000] <Hixie_>
annevk: ?

[14:09:08.0000] <Hixie_>
annevk: how?

[14:09:18.0000] <annevk>
oh wait

[14:09:28.0000] <Hixie_>
i'd love to, but the api didn't seem to really make that possible

[14:09:49.0000] <Hixie_>
i'd love it if .then() could take a promise to just defer to or something

[14:10:00.0000] <Hixie_>
it seems like this pattern really doesn't work ideally with the current api

[14:10:24.0000] <annevk>
I'm pretty sure the desired new convention is ImageBitmap.create()

[14:10:49.0000] <Hixie_>
i'm tired of us changing what the Best Practice is every other week

[14:10:56.0000] <Hixie_>
it makes our platform a mess

[14:11:11.0000] <Hixie_>
it's better to be consistent with something that's 80% good than have fifteen different conventions

[14:11:16.0000] <Hixie_>
however good the last convention is

[14:11:43.0000] <Hixie_>
annevk: other than that, though, does that diff look ok? the prose, in particular

[14:11:48.0000] <annevk>
Well, putting new methods on the global object has been out for a long time

[14:12:49.0000] <annevk>
Hixie_: looks correct

[14:12:56.0000] <Hixie_>
cool

[14:12:58.0000] <Hixie_>
thanks

[14:13:20.0000] <annevk>
Hixie_: might want to change details at some point, e.g. reject with DOMException will prolly be what we end up with, but I guess that can wait

[14:13:31.0000] <annevk>
Hixie_: I'm also pretty sure nobody will implement this as method on the global object

[14:13:35.0000] <annevk>
I hope so anyway

[14:15:36.0000] <Hixie_>
a long method like createImageBitmap on the global object is not an issue at all

[14:46:43.0000] <Domenic_>
Hixie_: do this instead https://gist.github.com/domenic/6024832

[14:47:20.0000] <annevk>
Domenic_: nice

[15:00:33.0000] <Hixie_>
Domenic_: oh _that's_ what resolve() is for?

[15:02:01.0000] <Domenic_>
Hixie_: haha yeah... scrolling through your above questions, we definitely need a "for spec writers" guide.

[15:02:47.0000] <Domenic_>
Relatedly, I think spec writers should be able to say much less... e.g. "return a fulfilled promise for X" or "fulfill promise with X" instead of talking about the associated resolver.

[15:03:14.0000] <Hixie_>
that code doesn't make it obvious that some of those callbacks are called synchronously and others aren't

[15:03:24.0000] <Hixie_>
so it isn't obvious that onload will be set before the function returns

[15:04:00.0000] <Domenic_>
the `PromiseInit` callback is guaranteed to be called synchronously.

[15:04:39.0000] <Domenic_>
it's not really a "callback" in the sense we're used to, it's more a scoping mechanism for getting access to the resolver.

[15:04:39.0000] <Hixie_>
yeah _i_ know that, but it isn't obviosuly in the code

[15:04:46.0000] <Hixie_>
can i call promise.resolve(promise) ?

[15:04:48.0000] <Hixie_>
er

[15:04:53.0000] <Hixie_>
can i call promise2.resolve(promise1) ?

[15:05:03.0000] <Domenic_>
no, you need to be able to vend promises without vending the ability to change their state

[15:05:54.0000] <Domenic_>
the other pattern besides new Promise(promiseInit) is to introduce another concept, the "deferred", which combines the resolver functionality and the promise functionality. The code because `var deferred = new Deferred(); doAsyncStuff(function () { deferred.resolve(...); }; return deferred.promise;`

[15:06:33.0000] <Domenic_>
The feeling is that introducing a new "deferred" concept is worse than using a function as a scoping mechanism.

[15:41:28.0000] <Hixie_>
Domenic_: yeah... that pattern is what i have here

[15:42:14.0000] <Hixie_>
oh wait, my code is all wrong anyway

[15:42:26.0000] <Hixie_>
since i'm calling .fulfill on the promise not the resolver

[15:42:27.0000] <Hixie_>
duh

[15:42:34.0000] <Hixie_>
so i can just call .resolve on the resolver

[15:42:58.0000] <Domenic_>
yeah. but to get access to it you need to do new Promise(function (resolver) { ... })

[15:43:13.0000] <Hixie_>
right

[15:43:17.0000] <Domenic_>
and the ... is either "store resolver in a variable for use when i do all my stuff" or it's "do all my stuff"

[15:43:25.0000] <Hixie_>
right

[15:43:29.0000] <Hixie_>
the first is easier to follow

[15:43:32.0000] <Hixie_>
fixing code now...

[15:45:18.0000] <annevk>
http://html5.org/tools/web-apps-tracker?from=8065&to=8066 is empty

[15:46:06.0000] <Hixie_>
uh

[15:46:07.0000] <Hixie_>
weird

[15:46:53.0000] <Hixie_>
seems to work for me

[15:46:57.0000] <Hixie_>
problem must be on your end

[15:47:41.0000] <Hixie_>
seems to work as in works when i use svn directly

[15:48:54.0000] <Domenic_>
http://html5.org/tools/web-apps-tracker?from=8065&to= works interestingly

[15:50:23.0000] <annevk>
Yeah, the whole caching setup is broken

[15:50:50.0000] <annevk>
Fixed it, but not in any kind of long term way


2013-07-18
[17:16:35.0000] <annevk>
heycam: so regardless of whether Date is right or not, obj.attr != obj.attr is wrong

[17:17:20.0000] <heycam>
annevk, yeah, if I were being consistent, I would disallow Date as an attribute type for the same reasons as sequence<>

[17:18:06.0000] <annevk>
heycam: I think the frozen concept could help us here, if they make it work for Date

[17:18:32.0000] <heycam>
annevk, that could work. if HTML then defines that a new object gets returned whenever the value changes.

[17:18:47.0000] <annevk>
heycam: yeah, I think that's generally the way we want to go

[17:19:17.0000] <Hixie_>
we have several Date attributes in HTML

[17:19:21.0000] <Hixie_>
even some non-readonly ones

[17:19:49.0000] <annevk>
Hixie_: startDate, valueAsDate, what else?

[17:20:34.0000] <Hixie_>
just those i think

[17:20:42.0000] <annevk>
Okay, I couldn't find more :-)

[17:22:52.0000] <annevk>
Use Number for timezoneless, Date for timezone, but then Date is actually timezoneless, so hah!

[17:31:26.0000] <Hixie_>
what?

[17:32:59.0000] <annevk>
Hixie_: I started this thread on es-discuss about frozen Date objects. In that thread <media>.startTime came up which some thought ought to use number, because timezone is not relevant. However, Date objects always return the user's timezone (even when that changes), so they're effectively just a wrapper for a number-based timestamp.

[17:33:55.0000] <annevk>
Hixie_: and expose some information about the user's whereabouts turns out.

[17:34:23.0000] <Hixie_>
that... didn't help me understand what is going on

[17:34:30.0000] <Hixie_>
Date is a number, yes

[17:34:55.0000] <Hixie_>
a number with the semantic of being a defined moment of time in UT1.

[17:39:54.0000] <Hixie_>
afk

[18:12:17.0000] <annevk>
Much promise FUD, but so little interest to debunk it.

[18:12:36.0000] <annevk>
/me continues fixing Notifications

[18:16:07.0000] <annevk>
Should places that take a DOMString also take a URL?

[18:16:15.0000] <annevk>
I guess they do in a way since URL stringifies.

[22:12:28.0000] <develCuy>
got " Bad value copyright for attribute name on element meta: Keyword copyright is not registered." from http://validator.w3.org/

[22:13:37.0000] <develCuy>
Can you please help register my company?

[22:30:50.0000] <develCuy>
woops, just noticed that "copyright" metatag is not yet available in HTML5

[22:30:56.0000] <develCuy>
sorry for the noise...

[01:37:56.0000] <kochi>
MikeSmith: ping?

[03:03:38.0000] <MikeSmith>
kochi: here now

[03:04:00.0000] <MikeSmith>
sorry, was on the train back from SFC to Tokyo

[03:04:48.0000] <MikeSmith>
saw your ping from my mobile but too tired to feel like typing on my mobile

[03:04:59.0000] <MikeSmith>
夏バテ

[03:05:16.0000] <kochi>
Oh, take care of yourself.

[03:05:27.0000] <kochi>
Are you on desktop now, then?

[03:06:44.0000] <MikeSmith>
yeah at home on my PC now, and was just kidding about 夏バテ。I'm fine. Was just way hotter today than yesterday.

[03:07:09.0000] <kochi>
yeah, we had rain yesterday.

[03:08:18.0000] <kochi>
I'm taking too long to update the IME API spec, but hopefully I can wrap up most feedbacks soon to get the next working draft.

[03:10:28.0000] <kochi>
Can you let me know the relationship between DOM L3 events and UI events (d4e)?

[03:11:06.0000] <kochi>
DOM L3 event is still not the "standard" but we already have the next version?

[03:14:48.0000] <MikeSmith>
kochi: I recommend you don't pay attention to the version numbers

[03:15:12.0000] <MikeSmith>
they don't really correspond to anything meaningful

[03:15:42.0000] <MikeSmith>
so it's really just "DOM Events" and "UI Events"

[03:16:23.0000] <kochi>
Hmm, if I want to extend CompositionEvent, which standard spec shall I refer to?

[03:16:37.0000] <kochi>
in IME API spec

[03:20:44.0000] <MikeSmith>
kochi: if you are adding new attributes or methods, then the "DOM Events" spec

[03:20:49.0000] <MikeSmith>
I think

[03:21:14.0000] <Ms2ger>
UI Events?

[03:21:43.0000] <kochi>
https://dvcs.w3.org/hg/d4e/raw-file/tip/source_respec.htm ?

[03:21:55.0000] <kochi>
Looks like http://www.w3.org/TR/uievents/ doesn't exist.

[03:22:11.0000] <MikeSmith>
the only thing that the UI Events spec defines is constructors

[03:22:44.0000] <MikeSmith>
UI Events has not been published as a WD draft

[03:22:47.0000] <MikeSmith>
yet

[03:23:13.0000] <MikeSmith>
hmm, I think you may have to reference both specs, actually

[03:23:25.0000] <MikeSmith>
if you need to change the constructor

[03:23:37.0000] <MikeSmith>
which I would imagine you do need to do

[03:24:50.0000] <kochi>
Hmm

[03:24:56.0000] <kochi>
http://www.w3.org/TR/DOM-Level-3-Events/

[03:25:24.0000] <kochi>
in the example code, there is comment on initCompositionEvent()

[03:25:31.0000] <kochi>
// Originally introduced (and deprecated) in DOM Level 3:

[03:25:41.0000] <kochi>
void initCompositionEvent(DOMString typeArg, ...

[03:25:44.0000] <Ms2ger>
Would be nice if there was serious work done on UI events

[03:26:46.0000] <kochi>
So if I need to add more attributes in CompositionEvent, should I also need to add these attributes as new arguments for initCompositionEvent()?

[03:26:54.0000] <Ms2ger>
No

[03:27:01.0000] <kochi>
Or with the new-style constructor, I don't have to care?

[03:27:19.0000] <kochi>
Ms2ger: ok, then the latter?

[03:28:01.0000] <Ms2ger>
You need to add it to the *EventInit dictionary

[03:28:32.0000] <kochi>
yeah, that sounds nice and extensible.

[03:30:48.0000] <kochi>
thanks MikeSmith and Ms2ger!

[03:31:25.0000] <kochi>
MikeSmith: btw, I recently went to Kyoto and visited Esrille cafe.

[03:31:57.0000] <kochi>
Shiki-san didn't mention at that time, but he will close the cafe at the end of this month!

[03:40:03.0000] <kochi>
https://www.facebook.com/esrillecafe

[03:41:12.0000] <MikeSmith>
kochi: back now. Was eating somen..

[03:41:38.0000] <MikeSmith>
eh? is Shiki closing it just for the summer?

[03:41:46.0000] <MikeSmith>
or permanently?

[03:42:22.0000] <kochi>
I don't know what he will do after closing the cafe, but he said he would continue working on his browser.

[03:43:17.0000] <MikeSmith>
wow, yeah, permanently (just read the facebook page)

[03:45:12.0000] <MikeSmith>
well, it's too bad they're closing it

[03:45:33.0000] <kochi>
Some googlers are planning to visit before closing:

[03:45:35.0000] <kochi>
https://plus.google.com/u/0/events/cc0340efglqpvut2vso5kqm9oo8

[03:45:40.0000] <MikeSmith>
ah cool

[03:47:19.0000] <MikeSmith>
I wonder if maybe his wife is planning on opening up another shop of some kind

[03:47:53.0000] <MikeSmith>
not a cafe, but something else

[03:48:27.0000] <kochi>
may be.

[03:48:38.0000] <kochi>
i'm heading home now...

[03:48:48.0000] <kochi>
see you!

[03:48:56.0000] <MikeSmith>
cheers

[05:20:51.0000] <GPHemsley>
/me wonders why the entirety of Dublin Core is not registered as meta extensions.

[05:21:32.0000] <Ms2ger>
Oh, *that*

[05:29:52.0000] <Ms2ger>
/me kicks tobie

[05:35:18.0000] <GPHemsley>
/me thinks all the fun is going to be in Toronto.

[07:58:33.0000] <reyre_>
what should webvtt parser do if it encounters non utf8 characters? right now i only see that it should interpret the data as utf8 not that it should check that it is and replace, etc

[08:02:44.0000] <SimonSapin>
reyre_: webvtt refers to RFC3629 for UTF-8, which apparently leaves this unspecified … I’d recommend decoding per http://encoding.spec.whatwg.org/ , that is decode invalid bytes as U+FFFD REPLACEMENT CHARACTER

[08:03:30.0000] <SimonSapin>
annevk: does that sound right?

[08:06:16.0000] <annevk>
SimonSapin: yeah, why does WebVTT refer to 3629? That sounds like a regression

[08:06:36.0000] <annevk>
Pretty sure it used to refer to the Encoding Standard by means of referring something in HTML

[08:06:52.0000] <SimonSapin>
no idea, I’m just reading http://dev.w3.org/html5/webvtt/#the-webvtt-file-format-syntax

[08:07:02.0000] <Ms2ger>
Probably forked before Hixie_ referenced Encoding

[08:07:24.0000] <annevk>
reyre_: there's no such thing as a non-utf-8 character btw, it would be a non-utf-8 byte sequence

[08:08:23.0000] <annevk>
SimonSapin: reyre_: the parser part does refer the correct algorithm, but still mentions 3629... Editor seems confused

[08:27:49.0000] <reyre>
annevk, SimonSapin: okay so replacing utf8-8-byte sequences with the replace character is probably what we want to do

[08:28:06.0000] <reyre>
annevk, SimonSapin: thanks :)

[08:35:49.0000] <annevk>
reyre: if this is for the JavaScript impl, you should just use TextDecoder; it'll do that

[08:37:23.0000] <reyre>
annevk: where can i find that?

[08:37:52.0000] <annevk>
reyre: Encoding Standard defines it, Gecko implements it

[08:38:26.0000] <reyre>
ah okay, i think we might not want that because we'd want other implementations to be able to use it as well, not just gecko

[08:39:17.0000] <reyre>
annevk: andreas has decided on using some shumway code https://github.com/mozilla/shumway/blob/master/src/avm2/util.js#L448

[08:40:13.0000] <annevk>
reyre: all browsers will eventually implement that API

[08:40:24.0000] <annevk>
reyre: it seems silly to reimplement utf-8 everywhere

[08:41:18.0000] <reyre>
annevk: if you want to chime in on the discussion it's here https://github.com/andreasgal/vtt.js/issues/43

[09:44:14.0000] <dglazkov>
good morning, Whatwg!

[09:45:14.0000] <reyre>
annevk: so do you think using gecko would be better then shumway?

[09:45:35.0000] <annevk>
I don't understand what that means

[09:46:48.0000] <reyre>
annevk: so for the utf8 encoding stuff. you said that you thought using gecko's utf8 TextDecoder would be better than using Shumway's version (which i linked)

[09:47:45.0000] <annevk>
It's not Gecko's. It's the web platform's way of doing text decoding. Shumway could be patched to use that, too.

[09:48:50.0000] <reyre>
annevk: oh okay. i thought you said that gecko had a particular implementation of it though?

[09:49:21.0000] <annevk>
reyre: I think I said we had an implementation, meaning you could use it

[09:49:44.0000] <annevk>
reyre: http://encoding.spec.whatwg.org/#api

[09:50:19.0000] <reyre>
annevk: okay cool, thanks

[10:03:23.0000] <Hixie_>
hober: you around?

[11:05:56.0000] <hober>
Hixie_: yo

[11:06:06.0000] <hober>
Hixie_: sorry, was in a meeting

[11:06:08.0000] <Hixie_>
/me wonders what he wanted to ask hober 

[11:06:24.0000] <hober>
heh

[11:06:24.0000] <Hixie_>
oh, putImageDataHD()

[11:06:36.0000] <Hixie_>
i've heard rumours that y'all dropped it as soon as you added it, or something

[11:06:43.0000] <Hixie_>
but i can't find any feedback on the matter

[11:06:55.0000] <Hixie_>
any chance you can get dino or someone to update the list on what's going on with that?

[11:07:25.0000] <hober>
yeah, fair enough. i'll bug him to write an email about it

[13:55:48.0000] <dglazkov>
Hixie_: for <link>, where's the text that specifies what happens when "href" value is changed?

[13:56:06.0000] <Hixie_>
interesting question

[13:56:07.0000] <dglazkov>
Hixie_: I went looking, but I couldn't easily find.

[13:56:14.0000] <dglazkov>
But I did fill out your survey form! :)

[13:57:36.0000] <Hixie_>
dglazkov: :-)

[13:57:50.0000] <Hixie_>
dglazkov: looks like changing href doesn't cause a reload, per spec

[13:57:53.0000] <Hixie_>
dglazkov: do browsers reload?

[14:00:41.0000] <Hixie_>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2411 suggests they do

[14:01:02.0000] <Hixie_>
dglazkov: guess it's a spec bug

[14:01:08.0000] <dglazkov>
yay bugs

[14:14:51.0000] <gallant>
are there paid jobs in whatwg and w3c?

[14:17:07.0000] <gsnedders>
The WHATWG has no employees (or, indeed, legal status whatsoever). There are people paid to work on WHATWG-published specifications, however. The W3C has staff for a variety of things, from sysadmins to staff contacts for WGs to membership development, etc.

[14:17:13.0000] <gsnedders>
gallant: ^^

[14:25:25.0000] <dglazkov>
Hixie_: do you want me to repurpose https://www.w3.org/Bugs/Public/show_bug.cgi?id=22038 or create a new bug?

[14:25:49.0000] <Hixie_>
either way

[14:28:45.0000] <annevk_>
hober: you guys keep track of the WHATWG list right? E.g. the Notifications stuff?

[14:39:38.0000] <annevk>
https://si0.twimg.com/profile_images/378800000152914804/f5d064aa7d8d22112c590281a074cdde_bigger.jpeg is amazing

[14:40:25.0000] <annevk>
https://si0.twimg.com/profile_images/378800000152914804/f5d064aa7d8d22112c590281a074cdde.jpeg (somewhat bigger)

[14:44:12.0000] <Ms2ger>
Is that you?

[14:47:55.0000] <gallant>
thanks

[15:04:59.0000] <weinig>
annevk: hober looking as good as I have ever seen in those

[15:05:43.0000] <annevk>
weinig: he's too cool for us now

[15:06:02.0000] <annevk>
weinig: although I guess you can do something about that :p

[15:06:09.0000] <weinig>
annevk: hehe

[15:07:22.0000] <Hixie_>
does w3c have any git repos, or is it all cvs and hg?

[15:07:40.0000] <gsnedders>
Hixie_: On GitHub, not self-hosted, AFAIK

[15:07:44.0000] <Hixie_>
k, thanks

[15:34:09.0000] <mightypower>
hi people. Officialy the spec of WHATWG is just "HTML" and "HTML 5" is just a buzzwords ?

[15:36:37.0000] <Hixie_>
"officially" in what sense?

[15:36:49.0000] <Hixie_>
the WHATWG HTML standard is just called "HTML", if that's what you mean

[15:43:00.0000] <annevk>
dglazkov: so now you cannot have CORS-cross-origin resources so that part of the spec doesn't make sense anymore

[15:43:09.0000] <annevk>
dglazkov: you also need to say what happens if fetching failed

[15:43:26.0000] <dglazkov>
kay

[15:44:36.0000] <annevk>
I guess it's mostly fine otherwise, although I wonder if it shouldn't use a crossorigin attribute on <link> like most other things we have


2013-07-19
[17:56:35.0000] <annevk>
base: http://host/a, input: //, browsers: chaos

[18:01:52.0000] <annevk>
(URL standard: failure, fwiw)

[18:02:44.0000] <annevk>
(Anyone want to explain why it's failure?)

[21:59:41.0000] <zewt>
chrome sure is trying to convince me to never use html5 video with this "gone fullscreen" thing that forces you to acknowledge it crap

[22:00:50.0000] <zewt>
contrived security risks that don't actually exist driving high-visibility UI == failure

[22:28:40.0000] <wyne>
anyone here?

[22:29:22.0000] <wyne>
hello?

[02:32:16.0000] <mitsuhiko>
does anyone know where "application/x-www-form-urlencoded" is currently specified?

[02:32:22.0000] <mitsuhiko>
primarily in regards to charsets

[02:33:42.0000] <mitsuhiko>
fonud it: http://www.w3.org/TR/html5/iana.html#application/x-www-form-urlencoded

[02:35:43.0000] <Ms2ger>
http://whatwg.org/html/#application/x-www-form-urlencoded is the authoritative definition

[04:31:34.0000] <galant>
I don;'t understand CSS specification says inline elements can't have vertical margins but I can set img element a margin-top why?

[04:32:07.0000] <SimonSapin>
galant: Do you have a link? Doesn’t it say non-replaced inline elements? Images are "replaced"

[04:33:07.0000] <galant>
yeah

[04:33:12.0000] <galant>
ah yes SimonSapin yes sry and thanks

[05:10:47.0000] <galant>
why I can't see button from the form in iframe?

[05:13:39.0000] <galant>
I cant see iframe it should have form

[08:39:06.0000] <smaug____>
odd to see someone being against properly defined API (reading public-audio)

[08:46:53.0000] <dglazkov>
good morning, Whatwg!

[09:48:29.0000] <TabAtkins>
heycam|away: Yo, you got the argument ordering wrong for the MapClass forEach callback.  It's supposed to be (value, key, thisarg).

[09:52:07.0000] <TabAtkins>
heycam|away: Also, I'm not certain that you understood the way that the second argument of forEach and the third argument of the forEach callback interact: they don't.  Calling the callback function's third argument "thisArg" is confusing, because it has nothing to do with "this" relative to the callback function - it's the collection (and thus, yes, must be

[09:52:07.0000] <TabAtkins>
consistent with the return type of set()).

[09:57:44.0000] <SimonSapin>
TabAtkins: do we still have a lot to do for a Syntax WD?

[09:57:57.0000] <TabAtkins>
I'll have to check, but I don't think so.

[11:54:56.0000] <annevk>
Hixie_: thanks for the hook

[11:55:01.0000] <annevk>
Hixie_: guess I better use it

[12:22:00.0000] <ondras>
so, who is the right person to ask re. whatwg Promise object?

[12:24:55.0000] <zewt>
gar i can't remember how to cancel text selection on mousedown/mousemove/drag/wherever without preventing a click

[12:33:09.0000] <zewt>
why do i have to say <div draggable=true> in chrome instead of <div draggable> :|

[12:35:41.0000] <annevk>
ondras: you can try me

[12:36:20.0000] <ondras>
annevk: cool, thanks

[12:36:50.0000] <ondras>
annevk: my greatest interest are similarities and differences w.r.t. promises/a+

[12:36:57.0000] <ondras>
annevk: are you familiar with that spec?

[12:37:18.0000] <annevk>
ondras: Domenic_ ensures we stay in sync with that

[12:38:26.0000] <ondras>
hmh

[12:38:39.0000] <ondras>
well I do not think those two specs are totally compatible

[12:38:54.0000] <ondras>
whatwg promises do not look to be modifyable from outside, using public methods

[12:39:02.0000] <ondras>
they do not expose fulfill/reject, right?

[12:39:26.0000] <Domenic_>
ondras: neither do Promises/A+ promises. Promises/A+ only specifies `then`.

[12:40:43.0000] <ondras>
wow

[12:40:56.0000] <ondras>
is it possible that the spec has changed recently in a decent way?

[12:41:02.0000] <Domenic_>
ondras: so far the only differences are in somewhat minor things, e.g. DOM Promises do not ignore non-function/non-undefineds---if they see one they make the returned promise a rejection with a TypeError. And DOM promises call their onFulfilled and onRejected handlers as if they were methods of the promise (i.e. with thisArg set to the promise), instead of

[12:41:02.0000] <Domenic_>
calling them as functions.

[12:43:20.0000] <ondras>
Domenic_: okay, I am somewhat confused now, as I thought that my a+ impl was complete including public fulfill/reject methods

[12:43:41.0000] <ondras>
Domenic_: anyway; DOM promises expose these only to the anonymous function passed to the constructor, right?

[12:51:22.0000] <ondras>
afk, have to go

[12:53:40.0000] <Domenic_>
ondras: From http://promisesaplus.com: "As with Promises/A, this proposal does not deal with how to create, fulfill, or reject promises." Each implementation has their own manner of doing so.

[13:28:36.0000] <TabAtkins>
zewt: Bug.

[13:31:32.0000] <annevk>
Paul Kalkbrenner's version of Wait For Me <3

[13:34:27.0000] <annevk>
Hixie_: https://github.com/whatwg/xhr/commit/f56d42d57bae8a131db7bdb9e32aa7f21a8715b2

[13:43:54.0000] <annevk>
dglazkov: your summery of the situation sounds correct

[13:44:03.0000] <annevk>
dglazkov: with adopting

[13:44:19.0000] <annevk>
dglazkov: changing identify is not possible

[13:44:37.0000] <annevk>
dglazkov: people do things like appendChild(x) (which does adopt) and then x.textContent = ...

[13:52:24.0000] <TabAtkins>
Can anyone remember why <img crossorigin> was necessary, rather than just always respecting CORS headers sent back with the image and untainting appropriately?

[13:53:34.0000] <Hixie_>
because sending Origin headers breaks sites

[13:54:39.0000] <annevk>
https://groups.google.com/a/chromium.org/d/msgid/blink-dev/CAMNytJB_YvHJMS8nM6LiT8MF4UsDFqDA6KFAH4pP_n1%2Bd1nGsg%40mail.gmail.com Yay Mark.

[13:59:14.0000] <TabAtkins>
Hixie_: Weird, but okay.

[14:02:19.0000] <annevk>
Domenic_: http://en.wikipedia.org/wiki/AFC_Ajax ;-)

[14:02:34.0000] <annevk>
Domenic_: (icon has been there for a while though)

[14:11:47.0000] <annevk>
The joy of debating Node.cloneNode()...

[14:13:10.0000] <jgraham>
Is never likely to be a bestseller

[14:38:57.0000] <annevk>
I'm adding Notification.get() per email btw

[14:46:31.0000] <dglazkov>
annevk: I am leaning toward option 1 -> less magic.

[14:47:00.0000] <annevk>
dglazkov: That's not what WebKit/Chromium or Gecko is doing at the moment I believe.

[14:47:14.0000] <annevk>
dglazkov: And according to bz is not web-compatible.

[14:47:33.0000] <dglazkov>
dglazkov: oh? I think 1 has no compat issues. It has "giant leakage" issues.

[14:47:34.0000] <annevk>
dglazkov: I'd be happy with that personally though, as that's what the spec says o_O

[14:47:57.0000] <galant>
is it ok to make <img src=aa.jpg" /> and then assign width and height form css file?

[14:48:07.0000] <galant>
or I must assign width height in html as attributes

[14:55:08.0000] <manshu18>
hello

[14:55:15.0000] <manshu18>
any 1 there

[14:55:54.0000] <manshu18>
i wnat to fix Line 7, Column 42: Bad value robot for attribute name on element meta: Keyword robot is not registered.

[14:56:14.0000] <manshu18>
how do i fix

[15:01:53.0000] <annevk>
malcolmva: you should probably write robots

[15:02:06.0000] <annevk>
sorry, wrong person :/

[15:02:11.0000] <annevk>
seems manshu18 left

[15:02:26.0000] <annevk>
galant: fine

[15:03:08.0000] <dglazkov>
"bad value robot" sounds like a great band name.

[15:06:32.0000] <annevk>
dglazkov: please add to http://wiki.whatwg.org/wiki/Band_names :)

[15:07:09.0000] <dglazkov>
there's a place for everything on Whatwg!

[16:56:25.0000] <heycam>
TabAtkins, thanks, I tweaked the forEach stuff


2013-07-20
[17:01:37.0000] <Hixie_>
man, it's one thing for people to top-post in e-mail

[17:01:41.0000] <Hixie_>
but in bugs?!

[17:01:42.0000] <Hixie_>
really?!

[17:02:00.0000] <Hixie_>
trim your fricking context people

[17:02:09.0000] <zewt>
heh

[17:02:20.0000] <zewt>
i'm slowly caring less about top-posting in email, mostly because of mobile where editing quotes is just not happening

[17:19:18.0000] <galant>
is it possible to fire function while image is loading and then another function when image is loaded

[17:23:49.0000] <galant>
I want to do this, create img element assign src new image which is not loaded check when image is loaded then make another image that is loaded src attribute to be src of the first image, is this good idea?  because I want to put another image when is loaded into src attribute of another imageto change images in img element but when second is fully loaded

[02:06:20.0000] <galant>
can I do something like this, element1.parentNode.element2 ?

[10:56:02.0000] <gsnedders>
It's impossible for a DOCTYPE token's name to be an empty string, right?

[10:56:08.0000] <gsnedders>
(It's either missing or non-empty.)

[11:49:33.0000] <ondras_>
Domenic_: understood, but DOM Promises have their own way, okay? (via the Resolver interface passed to ctor's function argument)

[12:10:48.0000] <Domenic_>
ondras_: DOM promises do it one way, the same way RSVP and then/promise and other Promises/A+ implementations do---all of those pass resolving abilities to the constructors function argument. Q has both deferreds and `Q.promise` which is something like the promise constructor. I don't know of any popular Promises/A+ libraries that put the ability to resolve,

[12:10:48.0000] <Domenic_>
fulfill, or reject directly on the promise---that's bad practice, since it prohibits you from separating the right to resolve a promise from the right to react to it via `then`.

[12:27:17.0000] <ondras_>
Domenic_: while the separation makes sense, the approach with callback-as-ctor-argument looks ugly to me

[12:27:42.0000] <ondras_>
i.e. a typical promise producent in my scenario

[12:27:47.0000] <ondras_>
has an async method

[12:28:16.0000] <ondras_>
X.prototype.doStuff = function() { this._promise = new Promise(); ...; return this._promise; }

[12:29:47.0000] <ondras_>
which, using the pattern described above, needs to look like...

[12:30:16.0000] <ondras_>
doStuff = function() { var p = new Promise(function(r) { this._resolver=r; }); ...; return  p; }

[12:30:23.0000] <ondras_>
not very readable imho

[12:40:21.0000] <Domenic_>
ondras_: you seem to be claiming subjective readability is more important than security... that's not really going to work for a foundational web platform standard.

[12:46:15.0000] <ondras_>
Domenic_: okay, well, then the promises/a+ shall perhaps somehow accent that? my impl was based solely on a+ and the spec did not have any hints about how the fulfillment/rejection shall be handled, so I took the (in my opinion) most straightforward approach...

[12:47:09.0000] <ondras_>
(also because security is not that great deal for me - my promise's consumer is never going to manipulate its state, even if the api de facto allows that)

[12:52:26.0000] <Domenic_>
ondras_: Promises/A+ core spec is focused on the minimal amount necessary for interoperability, and that's a `then` method. Kind of the point of it is to not be very prescriptive about promise creation. It's totally fine for Promises/A+ implementations to be insecure; that way people who find it more readable that way, and don't value security, can use such

[12:52:26.0000] <Domenic_>
an insecure implementation---but because it conforms to Promises/A+, it's interoperable with everyone else's implementation, just by virtue of having a well-behaved `then` method!

[12:53:26.0000] <Domenic_>
ondras_: the upcoming Promises/A+ 1.1 revision tries to explain this in the readme a bit better. https://github.com/promises-aplus/promises-spec#promisesa

[12:58:56.0000] <ondras_>
Domenic_: okay then, thanks for explanation!

[13:00:57.0000] <Domenic_>
:)

[13:08:29.0000] <galant>
can Google web dev tools slows the oppening of webpage? becasue after I uploaded their file to my server the page is opening little slower, I am not sure if it is because of their link or what

[13:08:51.0000] <galant>
sry google webmaster tools

[13:58:36.0000] <nolanw>
I'm confused about some tree construction in the HTML spec, am I in the right place?

[13:59:26.0000] <SimonSapin>
nolanw: yes, although I probably can’t answer myself

[14:06:27.0000] <nolanw>
alright cool. Suppose I'm parsing the markup `<table><math>` and I get to the start tag named "math" in tree construction

[14:06:43.0000] <nolanw>
the spec says "insert a foreign element for the token"

[14:07:06.0000] <nolanw>
the current node is the `table` node, but in the description of inserting a foreign element it says "the current node, when the insert a foreign element algorithm is invoked, is always itself a non-HTML element"

[14:07:36.0000] <nolanw>
so my question is: does the element I insert for the `<math>` token undergo foster parenting?


2013-07-21
[17:40:55.0000] <Hixie_>
hm, this nolanw fellow raises an interesting point

[01:21:33.0000] <Ms2ger>
Hixie_, enjoy paging in the parser again :)

[03:16:20.0000] <galant>
for some reason arrow I have &#x21e8; is sticking to the bottom of the line and going out of the bottom line, is this how default &#x21e8; is acting?

[03:51:09.0000] <MikeSmith>
Ms2ger: saw your replyon IRC a while back about the automation of the canvas tests but am I missing something or is e.g. http://w3c-test.org/web-platform-tests/master/html/semantics/embedded-content-0/the-canvas-element/2d.canvas.readonly.html not reporting using testharness.js

[03:54:21.0000] <smaug____>
oh, css wg is on crack http://dev.w3.org/csswg/selectors4/#profiles

[03:57:56.0000] <Ms2ger>
MikeSmith, you mean it doesn't have a <div id=log>?

[03:59:57.0000] <MikeSmith>
Ms2ger: yeah that :) I just realized that right after I asked you

[04:00:40.0000] <Ms2ger>
Yeah; it's probably worth refactoring them some more

[04:00:54.0000] <Ms2ger>
But I'm waiting for darobin :)

[04:00:58.0000] <MikeSmith>
OK

[04:02:57.0000] <MikeSmith>
what other refactoring would they need? Is there any reason we couldn't just append <div id=log></div to all of them now?

[04:03:03.0000] <MikeSmith>
or am I being naive?

[04:03:29.0000] <Ms2ger>
Sure

[04:03:56.0000] <Ms2ger>
If you write a one-off script

[04:04:29.0000] <Ms2ger>
I'd prefer getting back to the point where the tests are generated from the source data

[04:04:38.0000] <MikeSmith>
ah I see

[04:04:40.0000] <MikeSmith>
ok

[04:05:54.0000] <MikeSmith>
so I'll wait til darobin is back too :)

[04:06:12.0000] <MikeSmith>
though I wonder what you're waiting for from him on this?

[04:06:32.0000] <Ms2ger>
He moved the tests into subdirs, and he promised to fix the script to deal with that

[04:06:53.0000] <Ms2ger>
I might end up doing it myself, but that's not near the top of my todo list :)

[04:09:20.0000] <MikeSmith>
ok

[04:27:21.0000] <MikeSmith>
Ms2ger: is the script that needs to be fixed in the repo, or somewhere else?

[04:28:38.0000] <Ms2ger>
In 2dcontext/tools/

[04:29:12.0000] <MikeSmith>
thanks

[04:29:51.0000] <Ms2ger>
Np

[04:35:19.0000] <MikeSmith>
Ms2ger: so the tests in the 2dcontext supersede the html/semantics/embedded-content-0/the-canvas-element tests?

[04:35:35.0000] <MikeSmith>
shouldn't we just remove html/semantics/embedded-content-0/the-canvas-element ?

[04:36:17.0000] <Ms2ger>
No

[04:36:48.0000] <Ms2ger>
There's tests for canvas.foo in html/semantics/embedded-content-0/the-canvas-element, and tests for canvas.getContext("2d").foo in 2dcontext

[04:36:56.0000] <MikeSmith>
ah

[04:37:26.0000] <Ms2ger>
And that should match tests.yaml vs tests2d.yaml and tests2dtext.yaml

[04:37:37.0000] <MikeSmith>
k

[09:46:30.0000] <ChaoBoy>
hello, does anyone have some time to answer some newbie questions?

[12:06:00.0000] <zewt>
i want to know who thought this insane scrolling behavior on g+ pages wasn't insane

[12:06:57.0000] <zewt>
asymmetric scrolling is Bad(tm)

[16:12:42.0000] <SimonSapin>
gsnedders: any plan to make a new release (or beta) of html5lib? I hitting a bug in 1.0b2 that’s fixed in git

[16:12:58.0000] <SimonSapin>
I mean PyPI release

[16:37:09.0000] <gsnedders>
SimonSapin: What bug?

[16:38:02.0000] <gsnedders>
The BufferedStream stuff?

[16:40:29.0000] <gsnedders>
SimonSapin: Because I guess I can make a release.

[16:42:03.0000] <gsnedders>
SimonSapin: Will do so tomorrow.


2013-07-22
[00:18:21.0000] <SimonSapin>
gsnedders: yeah, that: https://github.com/html5lib/html5lib-python/issues/67

[00:48:28.0000] <jgraham>
Ms2ger: Is that more significant than, say, trying to run apache on all your Windows boxes? Or whatever you do for Mobile Firefox?

[00:50:05.0000] <Ms2ger>
Well, it's only our IT people would hate me for that :)

[00:51:12.0000] <jgraham>
I'm not sure :)

[00:51:29.0000] <Ms2ger>
gsnedders, apparently distribute forked setuptools after a breakup with the setuptools developer, but now they're back together

[03:17:49.0000] <SimonSapin>
gsnedders: found another issue: https://github.com/html5lib/html5lib-python/issues/96

[03:18:10.0000] <SimonSapin>
and there is no hurry for a release

[03:51:16.0000] <jgraham>
SimonSapin: I'm pretty sure that we only calculate the source position on demand

[03:51:26.0000] <jgraham>
Because it's slow

[03:58:05.0000] <SimonSapin>
I see

[03:58:16.0000] <SimonSapin>
but when I get elements from a parsed tree it’s too late

[03:58:49.0000] <jgraham>
Yes

[04:00:18.0000] <jgraham>
https://github.com/html5lib/html5lib-python/blob/master/html5lib/inputstream.py#L217

[05:13:22.0000] <galant>
sorry for askign this here but why I can't do this ? if (number.style.color == "rgb(170,0,0)")

[05:46:06.0000] <jgraham>
Ms2ger: https://critic.hoppipolla.co.uk/r/5 :)

[05:50:56.0000] <Ms2ger>
That's Aryeh, isn't it?

[05:51:00.0000] <Ms2ger>
/me sighs

[05:53:32.0000] <jgraham>
Yeah, but you only need to review the few changes I made. And maybe close some of zcorpan's issues :)

[06:11:11.0000] <Ms2ger>
Not now :)

[06:45:30.0000] <SimonSapin>
If you’re using WeasyPrint: it’s about to switch to html5lib. Testing wanted: https://github.com/Kozea/WeasyPrint/pull/112

[07:25:38.0000] <ondras_>
now there is this events-related stuff

[07:25:44.0000] <ondras_>
that I cannot see anywhere in the spec

[07:25:53.0000] <ondras_>
but browsers implement that in the same manner:

[07:26:02.0000] <ondras_>
let's add two listeners to one element

[07:26:09.0000] <ondras_>
capture listener that stop propagation

[07:26:13.0000] <ondras_>
bubble listener that does not stop

[07:26:23.0000] <ondras_>
when I dispatch to that element, both those listeners are called

[07:26:39.0000] <ondras_>
(when I dispatch to that element's child, only the first listener is obviously called)

[07:26:44.0000] <ondras_>
can someone please explain?

[07:29:41.0000] <jgraham>
ondras_: It's in the DOM spec

[07:29:46.0000] <jgraham>
/me afk

[07:30:42.0000] <ondras_>
jgraham: I would appreciate a more concrete pointer - reading http://www.w3.org/TR/DOM-Level-3-Events/ once more but still missing the relevant part :-(

[07:47:31.0000] <Domenic_>
ondras_: the DOM spec is http://dom.spec.whatwg.org/

[07:47:44.0000] <Domenic_>
note the correlation between that URL and the name of the IRC room you're in ;)

[08:08:14.0000] <ondras_>
Domenic_: oops sorry, did not know that the animosity is that strong :>

[08:08:40.0000] <gsnedders>
SimonSapin: Is there anything apart from the BufferedStream stuff you need in 1.0b3?

[08:14:31.0000] <SimonSapin>
gsnedders: the current master works for me

[08:27:02.0000] <gsnedders>
jgraham: https://github.com/html5lib/html5lib-python/pull/98

[08:33:22.0000] <SimonSapin>
gsnedders: non-seekable RawIOBase-like objects include results of urllib.urlopen(), right?

[08:33:26.0000] <gsnedders>
Yes.

[08:49:59.0000] <Ms2ger>
ondras, it's just that the originals on whatwg.org tend to be more up-to-date than the forks on w3.org

[09:13:25.0000] <TabAtkins>
smaug____: Re: CSSWG being on crack, you probably misunderstand.  Our profiles are just a way for us to add cool things for qSA/etc without burdening CSS implementations with slow selectors.

[09:14:02.0000] <TabAtkins>
smaug____:  It was either that, or continue to tell people "Nope, screw your qSA needs, we're tying this spec to the most perf-sensitive possible use of Selectors."

[09:14:53.0000] <SimonSapin>
TabAtkins: I just fixed the railroad diagram

[09:14:59.0000] <TabAtkins>
SimonSapin: D'oh.

[09:16:48.0000] <smaug____>
TabAtkins: so, on crack ;)  Making selector handling inconsistent

[09:17:39.0000] <TabAtkins>
smaug____: Okay, shrug.  I think it's an easy argument that it's good for authors to offer them more power where we can, even though that does mean some selectors are only usable in certain contexts.

[09:18:29.0000] <jgraham>
gsnedders: How did we end up at 1.0b4?

[09:18:30.0000] <smaug____>
I wouldn't give up with consistency too easily

[09:19:06.0000] <TabAtkins>
All I know is, I can't reasonably argue for why jQuery can do something in their selector engine but the browser can't.

[09:19:29.0000] <jgraham>
TabAtkins: Take the HTTPWG approach and normatively require a user-presented warning when someone uses a slow selector in CSS

[09:19:46.0000] <TabAtkins>
If you want consistency, sprinkle your magic performance pixie dust over everything so we can just put everything in the fast profile.  ^_^

[09:19:51.0000] <TabAtkins>
jgraham: Editing that in now.

[09:26:06.0000] <Domenic_>
moar magic pixie dust plz, i really want those selectors in my css :(

[09:27:00.0000] <smaug____>
(ofc jQuery can do whatever things they want in their engine. jQuery doing something isn't per se any argument.)

[09:28:38.0000] <TabAtkins>
smaug____: Of course not.  But external libraries are a great source of inspiration for real features.

[09:29:05.0000] <smaug____>
sure

[09:29:38.0000] <TabAtkins>
smaug____: But my point is that jQuery is allowed to do certain things because they're *only* a batch processor (more or less).  We have batch-processed Selectors too, but previously we've ignored their performance characteristics in favor of only honoring the perf of selectors in stylesheets.

[10:54:11.0000] <Stemby>
hi

[10:54:34.0000] <Stemby>
this morning I asked for an account on your wiki by e-mail

[10:54:57.0000] <Stemby>
I haven't received a reply yet...

[10:55:25.0000] <Stemby>
can you help me?

[11:00:27.0000] <gsnedders>
jgraham: How? By the previous commit being the intended 1.0b3 release.

[11:00:58.0000] <jgraham>
gsnedders: That's two reviews, surely?

[11:01:42.0000] <gsnedders>
jgraham: Well, if you want to count bumping the release number post-release as separate to the release…

[11:22:12.0000] <Stemby>
dglazkov, GPHemsley, Hixie, hober, jgraham, Ms2ger, ShaneHudson, TabAtkins, I found you here: http://wiki.whatwg.org/wiki/IRC

[11:22:25.0000] <Stemby>
can you help me?

[11:22:55.0000] <TabAtkins>
I *think* gphemsley is the one that maintains the wiki accounts.

[11:22:59.0000] <TabAtkins>
GPHemsley: ^^^

[11:23:18.0000] <Hixie>
Stemby: what's up?

[11:23:25.0000] <Hixie>
TabAtkins: do you know if any browsers are on board with https://dvcs.w3.org/hg/FXTF/rawfile/tip/compositing/index.html#canvascompositingandblending ?

[11:23:30.0000] <Stemby>
ok, TabAtkins, tahank you!

[11:23:43.0000] <Stemby>
Hixie: I need an account on your wiki

[11:23:57.0000] <Hixie>
Stemby: e-mail address?

[11:24:13.0000] <Stemby>
Hixie: pm

[11:25:06.0000] <Hixie>
done. check e-mail for credentials.

[11:25:31.0000] <Stemby>
thank you very much!

[11:25:53.0000] <Hixie>
np

[11:52:30.0000] <Hixie>
i wonder what "The syntax of the property of <composite-mode> is given with" means

[12:11:41.0000] <ondras>
Hixie: you around?

[12:11:43.0000] <Hixie>
yo

[12:12:22.0000] <ondras>
Hixie: one more question re. events: is there an order defined for listeners on one element, or is this undefined?

[12:12:34.0000] <Hixie>
there is an order defined.

[12:12:53.0000] <Hixie>
more or less the order they were added in, though it's a bit more complicated than that when it comes to things like .onfoo handlers.

[12:13:23.0000] <ondras>
Hixie: okay; I guess the fixed ordering is something added relatively recently?

[12:13:46.0000] <ondras>
(IE firing them in the inverted order, even in recent versions iirc)

[12:13:59.0000] <Ms2ger>
DOM2 or so

[12:14:07.0000] <Hixie>
well, there's always been _an_ order

[12:14:14.0000] <Hixie>
sometimes the order has varied from browser to browser

[12:14:24.0000] <Hixie>
over the past few years, we've tried to tighten everything up in the specs

[12:14:26.0000] <ondras>
well, standardized "can be relied upon" order, of course

[12:14:43.0000] <Hixie>
well, whether it can be relied upon depends on how the browsers are doing implementing the specs

[12:14:48.0000] <ondras>
I am obviously completely idiotic when it comes to finding stuff in the spec

[12:14:57.0000] <Hixie>
and how the specs are doing matching what browsers want to implement

[12:15:06.0000] <ondras>
can you please point me to a good paragraph re. this order in http://dom.spec.whatwg.org/ ?

[12:15:50.0000] <Hixie>
dunno, let's see

[12:16:11.0000] <Ms2ger>
It's implicit

[12:16:15.0000] <ondras>
also, this statement

[12:16:18.0000] <ondras>
"When set to true, the capture argument ensures callback is only invoked when the event's eventPhase attribute value is CAPTURING_PHASE. "

[12:16:22.0000] <Ms2ger>
addEventListener says...

[12:16:32.0000] <Ms2ger>
*Append* an event listener to the associated list of event listeners

[12:16:36.0000] <ondras>
okay

[12:16:52.0000] <ondras>
as for the capture

[12:16:58.0000] <ondras>
this is not exactly true, is it?

[12:17:07.0000] <ondras>
the callback will be also executed in the "on target" phase

[12:17:12.0000] <Hixie>
http://dom.spec.whatwg.org/#concept-event-listener-invoke is where i would hope to see an explicit statement of the order in which the listeners are invoked, and i don't see it

[12:17:19.0000] <ondras>
if the event is dispatched at the element

[12:17:21.0000] <Hixie>
it just says "for each event listener"

[12:17:24.0000] <Hixie>
not in what order to do it

[12:17:30.0000] <GPHemsley>
/me notes account requests are not instantaneous.

[12:17:53.0000] <Hixie>
also "Let listeners be a static list of the event listeners associated with the object" doesn't seem to make any effort to maintain an order

[12:18:03.0000] <ondras>
Hixie: well this is some interesting news for me anyway, thanks

[12:18:19.0000] <ondras>
(always considered them unordered for the time being)

[12:18:21.0000] <Ms2ger>
Yeah, that probably could use a bug

[12:18:42.0000] <Hixie>
"Each EventTarget has an associated list of event listeners" doesn't seem to actually identify the list so it's not clear how to refer to it, which is clear from that text i just quoted :-)

[12:19:05.0000] <Ms2ger>
Hixie, easy, "the associated list of event listeners"

[12:19:33.0000] <Hixie>
yeah but you don't refer to them that way in the text i quoted, so...

[12:20:11.0000] <ondras>
Hixie: and that "capture" definition re. CAPTURING_PHASE?

[12:20:39.0000] <Hixie>
Ms2ger: https://www.w3.org/Bugs/Public/show_bug.cgi?id=22756

[12:20:41.0000] <GPHemsley>
Hixie: Psst. You forgot to mention that you created an account for Stemby ;)

[12:20:48.0000] <Hixie>
ondras: ?

[12:20:52.0000] <Ms2ger>
Hixie, thanks

[12:20:54.0000] <Hixie>
GPHemsley: he asked here, i answered here :-)

[12:21:26.0000] <GPHemsley>
GPHemsley: oh, nevermind. *I* missed reading it. As you were.

[12:21:27.0000] <ondras>
Hixie: so, the spec states that listeners added with capture=true will be executed only during CAPTURING_PHASE

[12:21:45.0000] <ondras>
Hixie: which does not seem to be the case when they are attached to the element to which the event is dispatched

[12:21:50.0000] <ondras>
moreover

[12:21:51.0000] <Hixie>
ondras: sounds right...

[12:22:01.0000] <ondras>
if I addEventListener(node, , false)

[12:22:10.0000] <ondras>
and then addEventListener(node, , true)

[12:22:18.0000] <ondras>
these will be called in this order, when dispatching to node

[12:22:22.0000] <ondras>
(!)

[12:22:25.0000] <ondras>
am I correct?

[12:22:28.0000] <Hixie>
well capture is always called first

[12:23:06.0000] <Hixie>
first you do all the capture handlers, from top of tree to target, then the bubbling/target handlers, from target to top of tree

[12:23:25.0000] <ondras>
yes, I know that

[12:23:29.0000] <ondras>
but this particular scenario

[12:23:38.0000] <ondras>
where I have both of them on the target

[12:23:58.0000] <Hixie>
see http://dom.spec.whatwg.org/#dispatching-events

[12:24:05.0000] <ondras>
yes, reading that right now

[12:24:16.0000] <ondras>
Then run these substeps for each event listener in listeners:

[12:24:19.0000] <ondras>
AT_TARGET

[12:24:27.0000] <ondras>
I do not see them being run "capture first"

[12:24:40.0000] <Hixie>
it's in teh "Dispatch" algorithm, step 6.

[12:24:49.0000] <Hixie>
capture handlers on the target aren't invoked, it seems

[12:25:00.0000] <ondras>
yes

[12:25:06.0000] <ondras>
because step6 covers ancestors only

[12:26:00.0000] <Hixie>
oh, nevermind

[12:26:09.0000] <Hixie>
so yeah

[12:26:16.0000] <Hixie>
the order on the target ignores the capture argument

[12:26:19.0000] <Hixie>
it seems

[12:26:25.0000] <ondras>
right, interesting

[12:26:32.0000] <Hixie>
because all the listeners are done in order, and the phase is AT_TARGET

[12:26:37.0000] <ondras>
thanks for acknowledging that

[12:26:40.0000] <Hixie>
so all the listeners fire, not just capture or bubbling

[12:26:57.0000] <ondras>
so only the wording at addEventListener shall be probably improved w.r.t. CAPTURING_PHASE

[12:27:07.0000] <Hixie>
Ms2ger: (not sure what /invoke/ 4.6 means)

[12:27:17.0000] <Ms2ger>
401 annevk

[12:27:26.0000] <Hixie>
401? yikes

[12:28:14.0000] <Ms2ger>
/me tries to recall what that was

[12:28:25.0000] <Ms2ger>
Payment required? Or Authorization?

[12:28:55.0000] <annevk>
Payment is 402

[12:28:59.0000] <Hixie>
401 is "unauthorised"

[12:29:09.0000] <Hixie>
i'm assuming you meant 303

[12:29:15.0000] <Hixie>
anyway, https://www.w3.org/Bugs/Public/show_bug.cgi?id=22757

[12:29:42.0000] <Ms2ger>
Anyway, redirect annevk

[12:30:54.0000] <annevk>
Hixie: initialize the callback this value?

[12:30:58.0000] <annevk>
Hixie: how is that unclear?

[12:32:24.0000] <Hixie>
the word "initialize" isn't in a[C[Catht step?

[12:32:29.0000] <Hixie>
woah

[12:32:51.0000] <Hixie>
man, when i have latency, i get all kinds of weird effects. that makes no sense.

[12:33:01.0000] <Hixie>
it's supposed to be tcp!

[12:37:53.0000] <annevk>
Hmm, shrug

[12:42:55.0000] <ondras>
Hixie: so, can you please confirm that stuff with addEventListener and capturing phase?

[12:43:13.0000] <ondras>
no need to actually file a bug right now, just a confirmation for me..

[12:50:54.0000] <Hixie>
ondras: confirm which stuff?

[12:51:29.0000] <ondras>
21:26 < ondras> so only the wording at addEventListener shall be probably improved w.r.t. CAPTURING_PHASE

[12:51:45.0000] <ondras>
21:21 < ondras> Hixie: so, the spec states that listeners added with capture=true will be executed only during

[12:51:48.0000] <ondras>
                CAPTURING_PHASE

[12:51:51.0000] <ondras>
21:21 < ondras> Hixie: which does not seem to be the case when they are attached to the element to which the event is dispatched

[12:53:41.0000] <Hixie>
the non-normative text?

[12:54:21.0000] <ondras>
yes

[12:54:29.0000] <ondras>
"When set to true, the capture argument ensures"

[12:54:34.0000] <ondras>
this, exactly

[12:54:35.0000] <Hixie>
yeah, that looks to be bogus.

[12:54:36.0000] <Hixie>
i filed https://www.w3.org/Bugs/Public/show_bug.cgi?id=22758

[12:54:40.0000] <ondras>
cool, thanks

[12:54:48.0000] <Hixie>
generally i ignore non-normative text

[12:56:09.0000] <ondras>
oh?

[12:57:56.0000] <Hixie>
ondras: "ain't nobody got time for that", as they say

[12:57:57.0000] <Hixie>
afk

[13:01:58.0000] <annevk>
http://www.joelonsoftware.com/items/2013/07/22.html seems pretty cool

[13:18:40.0000] <annevk_>
ondras: Hixie: order is registration order

[13:18:59.0000] <annevk>
ondras: Hixie: I'll make the spec make a copy rather than say it's a static list...

[13:25:03.0000] <annevk>
ondras: Hixie: thanks!

[13:25:27.0000] <annevk>
ondras: I'll add you as "Ondra Zara"

[13:32:50.0000] <galant>
why this  if ( number.style.color == "rgb(170, 0, 0") is not returning true? he number.style.color is rgb(170, 0, 0)

[13:33:42.0000] <galant>
ok sorry for annoying I found my mistake :S

[13:59:28.0000] <smaug____>
rafaelw: ping

[14:00:15.0000] <smaug____>
rafaelw: nm, annevk_ will look into the MutationObserver issue later

[14:01:20.0000] <annevk_>
smaug____: so fwiw, per spec transient registered observers are just a subclass

[14:01:25.0000] <annevk_>
smaug____: they don't have a relationship of sorts

[14:01:33.0000] <smaug____>
right

[14:01:35.0000] <annevk_>
smaug____: they do have an observer and options associated with them

[14:02:03.0000] <smaug____>
2. talks about one observer, not all

[14:02:20.0000] <annevk_>
so I guess we want to remove the transient registered observers for which the observer is the context object

[14:02:44.0000] <annevk_>
hmm yeah, is that correct?

[14:02:48.0000] <smaug____>
rafaelw: does that sound ok to you?

[14:02:52.0000] <smaug____>
that is what Gecko does

[14:03:04.0000] <smaug____>
and it is IMO the sanest model

[14:03:06.0000] <annevk_>
but the talking about one observer bit

[14:03:20.0000] <annevk_>
okay really have to go, will look into the logs later

[14:04:04.0000] <smaug____>
rafaelw: IIRC in the email you mentioned disconnect() but that is not what should happen, since it removes all the observers

[14:04:32.0000] <smaug____>
hmm, btw, should disconnect take an optional param,  a Node, so that only some observers could be removed

[15:47:33.0000] <dbaron>
abarth, btw, if memory serves, the reason Opera had to implement XSLT was because Google Maps used it when Google Maps was initially released

[15:47:50.0000] <abarth>
dbaron: interesting

[15:48:02.0000] <abarth>
dbaron: I heard stories about arm-twisting by IBM

[15:48:06.0000] <dbaron>
abarth, which implies, perhaps, that google maps may still use it

[15:48:23.0000] <dbaron>
abarth, I seem to remember there being something that exposed XSLT in the maps API...

[15:48:50.0000] <abarth>
https://www.ibm.com/developerworks/community/blogs/HermannSW/entry/google_maps_api_and_xslt3?lang=en ?

[15:50:00.0000] <abarth>
that just looks like someone at IBM layering XSLT over the maps API

[15:51:04.0000] <abarth>
It's entirely possible we'll break some things

[15:51:15.0000] <abarth>
the Google C++ Style Guide uses XSLT

[15:51:25.0000] <abarth>
so I'm expecting angry emails from Chromium developers :)_

[15:51:41.0000] <zewt>
nothing like people who use xslt writing style guides

[15:52:38.0000] <dbaron>
https://developers.google.com/maps/documentation/javascript/v2/reference#GXslt

[15:53:37.0000] <abarth>
"The Google Maps JavaScript API Version 2 was officially deprecated on May 19, 2010. The original deprecation period has been extended from May 19, 2013 until November 19, 2013. As of this date, all applications requesting v2 will be served a special, wrapped version of the v3 API instead. We expect this wrapped version of the API will work for most simple

[15:53:37.0000] <abarth>
maps, but we strongly encourage you to migrate your code to version 3 of the Maps JavaScript API before this date."

[15:54:01.0000] <dbaron>
yeah, I tried to migrate, and gave up, because what my app that uses v2 is doing can't be done in v3, it seems... :-(

[15:54:50.0000] <zewt>
i'm pretty leery of building anything around google apis these days

[15:58:19.0000] <abarth>
zewt: In this case, the API update appears to be helping us because I don't see any mention of XSLT in v3

[16:38:26.0000] <rniwa>
dbaron: yt?

[16:38:33.0000] <dbaron>
rniwa, yes

[16:38:36.0000] <rniwa>
dbaron: hi

[16:38:39.0000] <rniwa>
dbaron: i'm reading http://www.w3.org/TR/CSS2/visudet.html#blockwidth

[16:39:07.0000] <rniwa>
dbaron: and it appears to me that in the over-constrained case such as http://jsfiddle.net/fezec/EVuHR/1/

[16:39:19.0000] <rniwa>
dbaron: we're supposed to adjusting the right margin.

[16:39:41.0000] <rniwa>
dbaron: however, getComputedStyle(document.querySelector('p')).marginRight in the above case for example appear to return the specified value

[16:39:45.0000] <rniwa>
dbaron: on both Firefox and WebKit

[16:40:29.0000] <rniwa>
dbaron: does that make any sense? or am I misunderstanding something/

[16:41:08.0000] <dbaron>
rniwa, it's probably technically a bug, though it's also possible we should change the spec for getComputedStyle

[16:41:17.0000] <rniwa>
dbaron: yeah

[16:41:30.0000] <rniwa>
dbaron: given that both Firefox and WebKit have been returning the specified values in those two cases

[16:41:42.0000] <rniwa>
dbaron: this could cause a backward compat. issues if we do change our behaviors

[16:41:52.0000] <rniwa>
/me wonders what IE returns

[16:41:58.0000] <dbaron>
rniwa, I don't think you know that -- it might be nobody will notice.

[16:42:40.0000] <rniwa>
dbaron: yeah, i don't have data to back it up

[16:42:50.0000] <rniwa>
dbaron: but for other technical reasons, i'd rather not use used values here

[16:43:10.0000] <rniwa>
dbaron: e.g. it'll require us to do an actual layout if we had to return the used value

[16:46:17.0000] <rniwa>
dbaron: i just checked. IE also returns 100px

[16:46:28.0000] <rniwa>
dbaron: so it's probably the spec that needs to change.

[16:46:50.0000] <rniwa>
dbaron: thanks for the help!


2013-07-23
[21:15:23.0000] <annevk>
rafaelw: I updated the bug, fwiw

[21:18:59.0000] <annevk>
http://kenneth.io/blog/2013/07/15/the-messy-state-of-web-notifications-in-chrome-safari-blink-webkit/ seems fucked

[23:09:53.0000] <matjas>
is http://bugzilla.validator.nu/ timing out for anyone else?

[23:15:48.0000] <MikeSmith>
matjas:  yeah

[23:17:08.0000] <MikeSmith>
hsivonen_ has an ongoing issue with load on that server

[23:18:27.0000] <MikeSmith>
lately it's made that bugzilla almost unusable most of the time

[23:41:13.0000] <ondras>
annevk: sorry for being afk; it was already night in my time zone. my true name is Ondřej Žára, but your version is of course allright as well :)

[00:42:48.0000] <matjas>
MikeSmith: https://bitbucket.org/validator/validator/pull-request/4/use-a-monospaced-font-for-some-form-fields/diff btw (not sure if you’re getting notifications for PRs)

[02:00:33.0000] <MikeSmith>
matjas: thanks yeah I did see that

[04:13:41.0000] <EGreg>
hey guys

[04:13:57.0000] <EGreg>
is there a way to dynamically add scripts to an HTML document at runtime, and have them download in parallel yet execute in order?

[04:14:01.0000] <EGreg>
async? defer?

[04:14:03.0000] <EGreg>
async+defer?

[04:14:09.0000] <EGreg>
I am looking to support IE8+

[04:21:13.0000] <EGreg>
http://www.html5rocks.com/en/tutorials/speed/script-loading/ !

[04:54:25.0000] <matjas>
TIL IE permits `;` in hostnames, e.g. http://example.com;.coredump.cx/

[05:07:43.0000] <MikeSmith>
matjas: I wonder if the URL spec handles those as expected

[05:34:31.0000] <galant>
what is browsers support for zoom property, does browsers support it?

[05:41:27.0000] <SimonSapin>
galant: it’s non standard, IE only

[05:41:48.0000] <galant>
no webkit supports it

[05:41:55.0000] <galant>
too

[05:42:10.0000] <galant>
I want to make startrek like effect when their ship goes into warp ^^

[05:42:34.0000] <SimonSapin>
have you tried CSS transforms?

[05:49:37.0000] <galant>
MAN this SCALE ISA COOL ^^

[05:49:44.0000] <galant>
isa/is

[08:23:44.0000] <dglazkov>
good morning, Whatwg!

[08:42:07.0000] <Jasper>
I remember an older draft of "Web Notifications" supporting full HTML content in the body of a notification. Has this been removed?

[08:42:27.0000] <Jasper>
I just checked the latest draft and it doesn't say how to render a notification.

[08:43:08.0000] <Jasper>
( http://notifications.spec.whatwg.org/ )

[09:29:21.0000] <Ms2ger>
Jasper, yeah, it was removed because native notifications don't support that

[09:34:58.0000] <Jasper>
Ms2ger, OK, cool. I was hoping it would be removed, since I could imagine web notifications used as a browser-approved, unblockable popup ability.

[09:43:18.0000] <MikeSmith>
Jasper: web notifications are opt-in

[09:43:22.0000] <MikeSmith>
per-origin

[09:43:52.0000] <MikeSmith>
users have to explicitly grant perms

[09:44:03.0000] <Jasper>
I thought Safari didn't implement that right now...

[09:44:13.0000] <MikeSmith>
dunno

[09:44:26.0000] <MikeSmith>
but if so they're not conforming to the spec

[09:56:02.0000] <Ms2ger>
http://kenneth.io/blog/2013/07/15/the-messy-state-of-web-notifications-in-chrome-safari-blink-webkit/

[10:10:07.0000] <Hixie>
anyone know if gecko has any plans to update its <menu> implementation to match the spec? (the spec was changed at some point to more closely match firefox, but there were some things that didn't quite match firefox for sanity reasons)

[10:12:00.0000] <annevk>
ondras: will be fixed soonish

[10:12:18.0000] <annevk>
Hixie: haven't heard anything with regards to that

[10:12:30.0000] <Ms2ger>
Me neither

[10:12:42.0000] <Ms2ger>
Who did that? janv?

[10:12:50.0000] <Hixie>
and sicking, i believe, yeah

[10:13:56.0000] <Ms2ger>
I can file a bug

[10:14:30.0000] <Hixie>
that would be good, thanks

[10:14:32.0000] <Hixie>
cc me?

[10:14:33.0000] <Hixie>
ian⊙hc

[10:14:53.0000] <Ms2ger>
Boo, :hixie doesn't work

[10:15:00.0000] <Hixie>
'hixie does

[10:15:06.0000] <Hixie>
or, you know, just "hixie"

[10:15:21.0000] <Hixie>
i don't understand this colon convention

[10:15:50.0000] <Hixie>
it's like, let's take a perfectly good system that works by substring match, and require it to match by precise match.

[10:15:50.0000] <Ms2ger>
Interestingly, there's a ian⊙hc <xixaxnxhx⊙xxt>

[10:15:58.0000] <Hixie>
o_O

[10:16:08.0000] <Hixie>
wtf

[10:16:36.0000] <Hixie>
who would do that

[10:16:45.0000] <Ms2ger>
No idea

[10:16:52.0000] <Hixie>
file another bug :-P

[10:16:56.0000] <Hixie>
to have that removed :-P

[10:17:03.0000] <Hixie>
anyway the reason i ask about the menu thing

[10:17:17.0000] <Hixie>
was that i was curious about author experience with merging menus vs replacing menus

[10:17:44.0000] <Hixie>
trying to work out if i should add this "nodefault" attribute that people asked for

[10:18:04.0000] <Hixie>
maybe called "replace-system-menu" or something else better than the vague "nodefault"

[10:18:36.0000] <Ms2ger>
Dunno if I'd want to allow that, as a user

[10:19:08.0000] <Hixie>
well jan and sicking were arguing that authors won't use it if we don't provide it, either as an option, or, failing that, as the only behaviour.

[10:19:18.0000] <Hixie>
(personally i'm with you)

[10:19:41.0000] <Hixie>
either way, though, i don't want to add features like that before we have more implementation experience with what the spec actually says

[10:19:51.0000] <Hixie>
in particular since MikeSmith was arguing we should rename <menu type=popup> to something pithier

[10:20:12.0000] <Hixie>
(though we haven't been able to find something good yet)

[10:32:10.0000] <Domenic_>
I think if authors (by which I mean our UX designers) are going to use merged menus, then the merged menus needs to be really unintrusive, i.e. a single menu item.

[10:34:31.0000] <Domenic_>
i would even consider making that a requirement? because if someone does Firefox-style merger with browser junk all over the place, <menu> will get no traction.

[10:46:40.0000] <Hixie>
Domenic_: that's the argument i've heard, yeah. i don't understand why authors hate users so much. :-)

[10:57:55.0000] <annevk>
Hixie: of course, you can say that, but by not giving authors what they want, you're making the situation for users worse ;)

[10:58:45.0000] <annevk>
Witness e.g. form controls

[10:59:27.0000] <Hixie>
that's the argument people use for drm, too

[10:59:40.0000] <Hixie>
"my not letting authors screw users over, you're hurting the users!"

[10:59:47.0000] <Hixie>
or, you know, authors could just not screw the users over

[11:01:47.0000] <annevk>
DRM seems different. There's no way to do DRM without browsers providing hooks (either plugin or DRM-focused plugin hooks). Form controls however can be created by some HTML/CSS/JavaScript that's utterly inaccessible.

[11:22:31.0000] <Hixie>
annevk: you can do drm without browsers providing hook, you just don't do it on the web

[11:22:45.0000] <Hixie>
the point is you shouldn't do it at all

[11:22:54.0000] <Hixie>
i think form controls is different than menu

[11:23:04.0000] <Hixie>
for form controls, we just didn't _have_ form controls

[11:23:24.0000] <annevk>
I don't think so. Developers can innovate much faster than browsers with UI.

[11:23:24.0000] <Hixie>
it wasn't that they weren't as pretty or whatever. at least, not for most custom controls. groups like google are a special case.

[11:23:57.0000] <annevk>
No Google is not. Styling form controls has been a top feature request for over a decade.

[11:24:15.0000] <Hixie>
ok

[11:24:20.0000] <Hixie>
i don't really know what we're arguing at this point

[11:24:24.0000] <Hixie>
i'm not disagreeing with you

[11:25:21.0000] <annevk>
I guess what I'm saying is that developers need full control over what happens when you right click, including playing a movie in the popup.

[11:25:39.0000] <Hixie>
o_O

[11:25:58.0000] <Hixie>
when i tried providing something that was extensible to do that, gecko didn't implement it

[11:26:04.0000] <Hixie>
instead y'all did <menuitem>

[11:26:09.0000] <Hixie>
and i had to scale the spec back to do that instead

[11:26:36.0000] <annevk>
Sounds like my position might be different from sicking :)

[11:26:48.0000] <annevk>
Sorry for the added confusion.

[11:27:11.0000] <Hixie>
what you're describing is not a context menu, which is what i was talking about -- it's a popup, which is something i tried to spec years ago in xbl2

[11:27:16.0000] <Hixie>
but since nobody implemented that...

[11:27:57.0000] <Hixie>
oh actually it wasn't in xbl2, it was in web-controls

[11:28:13.0000] <Hixie>
http://www.whatwg.org/specs/web-controls/current-work/#the-elementui

[11:28:19.0000] <Hixie>
showPopup()

[11:28:31.0000] <Hixie>
we're still going to need that, for when people implement <select> with web components

[11:29:05.0000] <Hixie>
unfortunately aria basically killed that approach, instead making their hacky approach the way you do this

[11:37:31.0000] <Hixie>
heycam|away: ping

[11:38:34.0000] <Hixie>
heycam|away: (wondering about news on https://www.w3.org/Bugs/Public/show_bug.cgi?id=22346 )

[11:40:20.0000] <SteveF>
hixie: "unfortunately aria basically killed that approach, instead making their hacky approach the way you do this" how did aria do that?

[12:02:22.0000] <Domenic_>
Hixie: my point was that you could probably get away without replace-system-menu if you mandated that the system menu get shoved into a single menu item. it might be a compromise that makes both the keep-the-system-menu and kill-the-system-menu camps happy.

[12:23:17.0000] <Yuhong>
annevk: I don't think mutation events are going away anytime soon when IE9/10 do not support mutation observers.

[12:23:42.0000] <zewt>
... nginx disables tls compression? wtf?

[12:26:22.0000] <zewt>
man, why is it hard to get stream-level compression over http

[12:38:54.0000] <zewt>
and ios's https api doesn't turn it on? madness

[12:41:28.0000] <Yuhong>
annevk: And I expect the effects of this to persist long after IE9/10 dies.

[12:41:49.0000] <Hixie>
Domenic_: we can't really mandate anything, it's UI. There might not be any visible menu items, it could be an audio browser.

[12:42:16.0000] <Ms2ger>
Hixie, but we can suggest

[12:43:08.0000] <Hixie>
yeah, we can certainly suggest more than we do now

[12:43:37.0000] <Yuhong>
IE11 finally supports mutation observers, BTW.

[13:18:53.0000] <Hixie>
annevk: what's the status of http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Mar/0030.html -- do you still think it needs changes?

[13:23:42.0000] <annevk>
Hixie: Well, I do think Fetch needs those hooks. I also quite haven't figured out how to do them...

[13:24:06.0000] <Hixie>
even with that e-mail answering my questions, i don't really understand what you want changed

[13:24:46.0000] <annevk>
Hixie: I want hooks for XMLHttpRequest and ensured tasks for "headers in", "body bytes in", "all bytes in"

[13:25:33.0000] <annevk>
Hixie: and a hook for "transmitting to server"

[13:25:39.0000] <Hixie>
aah ok

[13:25:47.0000] <Hixie>
well that's easy enough

[13:25:54.0000] <Hixie>
we have one for "all bytes in"

[13:26:02.0000] <Hixie>
you want to just add them to your spec?

[13:26:19.0000] <annevk>
Hixie: I guess, I'm not sure what phrasing to use

[13:27:10.0000] <Hixie>
can't you just queue the tasks?

[13:27:14.0000] <Hixie>
i don't understand the trouble

[13:27:52.0000] <annevk>
Hixie: The trouble I have is creating a task that has a specific hook.

[13:28:24.0000] <Hixie>
"When the resource is available, or if there is an error of some description, queue a task that uses the resource as appropriate. If the resource can be processed incrementally, as, for instance, with a progressively interlaced JPEG or an HTML file, additional tasks may be queued to process the data as it is downloaded. The task source for these tasks is the networking task source."

[13:29:22.0000] <annevk>
So it's mostly the prose that makes it work? Nothing like queue a task annotated <b>headers available</b> or some such?

[13:29:55.0000] <Hixie>
or for "headers in": "Immediately after receiving the last header for the resource, or immediately before sending the first task to process the resource's data, if there are no headers, queue a task to <dfn>process the headers</dfn> of the resource, passing it all the metadata received." or some such

[13:33:01.0000] <Hixie>
(let me know if that does not sufficiently address your requests in that e-mail)

[13:33:26.0000] <annevk>
Hixie: I think that's what I was looking for, thanks.

[13:33:32.0000] <Hixie>
np

[13:34:34.0000] <annevk>
Hixie: In particular what I don't want is queue tasks for transmitting towards the server to trigger "spec code paths" that listen for networking tasks but only care about downloading. We might just have to clarify those listeners.

[13:45:38.0000] <annevk>
I wonder if Yuhong thinks he's the only one keeping track of mutation stuff...

[13:53:17.0000] <Hixie>
annevk: k

[14:13:24.0000] <annevk>
TabAtkins: https://groups.google.com/forum/#!topic/mozilla.dev.platform/3q-rId_KMpU

[14:13:30.0000] <annevk>
TabAtkins: please fix :)

[14:20:35.0000] <annevk>
heycam|away: fwiw, I hate the name EnsureUTF16, but that's prolly a good thing

[14:29:45.0000] <annevk>
smaug____: yo, could you review my fix in that mutation bug?

[14:32:38.0000] <smaug____>
looking

[14:33:11.0000] <smaug____>
er, what fix

[14:33:14.0000] <smaug____>
the spec looks the same

[14:34:05.0000] <smaug____>
oh, the bug

[14:40:59.0000] <galant>
do you have any idea why it can be so I can't click some paragraphs?

[14:42:35.0000] <galant>
I have 6 paragraphs in a section, they have click event assigned, when I rotate by X axis the section for 360 deg I can't click and select the text from the 2 paragraphs that are on the bottom of the seciton others I can, they should change color on click, butwhen section is rotated 0 deg by X axis I can select text and click all paragrahs why?

[14:43:53.0000] <annevk>
smaug____: so yeah, those transient observers, that's what the context object bit is about

[14:46:41.0000] <smaug____>
ah, right

[14:51:07.0000] <galant>
I have this

[14:51:08.0000] <galant>
http://jsfiddle.net/CrUYH/1/

[14:51:11.0000] <galant>
ups sry

[16:35:08.0000] <Hixie>
annevk: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=22714

[16:36:11.0000] <annevk>
Hixie: just came up here

[16:36:18.0000] <heycam>
Hixie, I'll look at https://www.w3.org/Bugs/Public/show_bug.cgi?id=22346 this morning

[16:36:22.0000] <Hixie>
heycam: thanks

[16:38:53.0000] <annevk>
Hixie: I think the general thing is there's no disctinction between a Date and DOMTimeStamp other than Date being more heavyweight

[16:39:17.0000] <Hixie>
makes sense since DOMTimeStamp was originally defined as a typedef for Date

[16:39:24.0000] <Hixie>
does that mean the bug is invalid?

[16:39:41.0000] <annevk>
What it means is that we shouldn't use Date probably

[16:39:50.0000] <Hixie>
? why?

[16:40:00.0000] <annevk>
Especially since it gives APIs such as obj.startTime != obj.startTime

[16:40:11.0000] <annevk>
which is just terrible

[16:40:21.0000] <Hixie>
it's not great, but *shrug*

[16:53:17.0000] <Yuhong>
annevk: I am mentioning this because WHATWG DOM suggests that mutation events be eventually removed from browsers completely.

[16:55:29.0000] <Yuhong>
And I am not sure if that is possible.

[16:57:29.0000] <annevk>
Yuhong: It's not like we are not paying attention ;)

[16:58:20.0000] <Yuhong>
But IE9 and IE10 is a pretty long period.

[16:59:47.0000] <Yuhong>
It may end soon, but the effects may persist long after that.


2013-07-24
[17:00:19.0000] <Yuhong>
I think I mentioned before when discussing DOM3 Events.

[17:04:53.0000] <Yuhong>
What would be involved in adding mutation events back into WHATWG DOM, BTW?

[17:05:03.0000] <zewt>
ww3

[17:05:37.0000] <Yuhong>
ww3?

[18:02:49.0000] <zewt>
isn't rik at adobe? sort of surprised he doesn't understand half-pixel coordinate systems (or at least it seems from the rect email)

[22:27:58.0000] <gallant>
I have 6 paragraphs in a section, they have click event assigned, when I rotate by X axis the section for 360 deg I can't click and select the text from the 2 paragraphs that are on the bottom of the seciton others I can, they should change color on click, butwhen section is rotated 0 deg by X axis I can select text and click all paragrahs why?

[22:43:00.0000] <annevk>
heycam: so today we came up with this thing that'll help with with() and event handlers

[22:43:10.0000] <annevk>
heycam: @@unscopeable

[22:43:35.0000] <heycam>
annevk, what is the thing that needs helping

[22:43:36.0000] <heycam>
?

[22:43:51.0000] <annevk>
heycam: it's a per-object array of property strings that are not visible when looking on the prototype chain of the object in those contexts

[22:44:17.0000] <annevk>
heycam: so e.g. we could have Node.prototype[@@unscopeable]] = ["find", "findAll"]

[22:44:30.0000] <annevk>
-]

[22:45:02.0000] <heycam>
oh is this to help where the event target is in the scope chain?

[22:45:27.0000] <heycam>
when does that happen again. and where's that specced?

[22:45:32.0000] <heycam>
/me might be missing some context

[22:45:42.0000] <annevk>
heycam: yeah, it'll help with that, it was mostly added for Array.prototype.values which got fucked by ext.js because of with()

[22:46:16.0000] <heycam>
I see

[22:46:30.0000] <annevk>
heycam: it happens for <div onclick=find()></div> which currently will want to invoke a user-defined function, but when Element.find is there would invoke that, which'll break

[22:46:31.0000] <heycam>
so what's the plan, to have all new things on Array.prototype be unscopable?

[22:46:49.0000] <heycam>
ah gotcha

[22:47:03.0000] <annevk>
heycam: I guess for now we'd decide on a case-by-case basis, but it's been proposed for that to be the policy

[22:48:01.0000] <heycam>
I guess @@unscopable would be handled in the ES spec then

[22:48:08.0000] <heycam>
since it needs to change how property lookups work

[22:48:42.0000] <heycam>
an alternative would be to stick a different object in the scope chain, one that forward a limited, fixed set of property lookups to the actual event target

[22:48:59.0000] <heycam>
I think there's no way of inspecting what the actual object on the scope chain is

[22:49:02.0000] <heycam>
so it's probably equivalent

[22:49:05.0000] <annevk>
heycam: yeah, it'll be in JavaScript, but we'll need to be able to define it on a per-object basis

[22:49:29.0000] <annevk>
heycam: that is, we need to define the array Node.prototype[@@unscopeable] returns

[22:49:45.0000] <heycam>
ok

[22:50:12.0000] <heycam>
I think it'd be preferable to have a fixed set of names there, and then to never add any more

[22:50:18.0000] <heycam>
seems better than waiting for new APIs to break things :)

[22:50:27.0000] <annevk>
heycam: also, do you think we can change what HTMLElement.prototype instanceof Node returns?

[22:50:40.0000] <heycam>
oh and actually I mean the inverse of @@unscopeable

[22:50:40.0000] <annevk>
heycam: according to Allan what we do now is not ES6-style

[22:50:51.0000] <heycam>
so a fixed set of names that do go through to the event target

[22:51:01.0000] <heycam>
annevk, yes that is not my list of things to do

[22:51:11.0000] <heycam>
I think Gecko already switched to doing it too

[22:51:24.0000] <heycam>
(i.e. make that return true, is that right?)

[22:51:29.0000] <heycam>
oh

[22:51:35.0000] <heycam>
am I thinking of the right thing?

[22:51:48.0000] <annevk>
heycam: it returns true right now, but it's not clear whether that's good

[22:52:01.0000] <annevk>
heycam: although bz made a claim about web compat...

[22:52:11.0000] <heycam>
yeah I remember seeing that thread about it needing to

[22:52:16.0000] <annevk>
heycam: it's not good at least for appendChild(), as that fails

[22:52:38.0000] <heycam>
and most things, really

[22:52:41.0000] <annevk>
heycam: re whitelist, whitelist does not work if you assume user extensions to prototype

[22:52:51.0000] <heycam>
annevk, ah, yes

[22:53:04.0000] <heycam>
annevk, whitelist of things that came from the IDL? dunno

[22:53:47.0000] <annevk>
heycam: say I add HTMLCanvasElement.prototype.clear = function() { ... } and then <canvas onmouseout=clear>

[22:54:03.0000] <heycam>
mmm

[22:55:15.0000] <heycam>
I wonder if you could have an object on the scope chain that forwarded to window first, then to the event target

[22:56:14.0000] <heycam>
.name probably ruins that idea tho

[22:57:33.0000] <heycam>
annevk, so maybe @@unscopeable is the simplest thing to do. esp if the ES spec will add it. can you file a bug to have an [Unscopeable] or something we can stick on interface members?

[22:58:00.0000] <annevk>
heycam: yeah will do once I need it

[22:58:05.0000] <heycam>
annevk, thanks

[22:58:28.0000] <annevk>
heycam: we should prolly start thinking about making our syntax a bit closer to ES syntax

[22:59:00.0000] <annevk>
heycam: I guess it kinda depends on whether JSIDL happens, but I've the feeling nobody really has time for that

[22:59:17.0000] <heycam>
annevk, yeah, I want to think about that, but probably not until I get through this backlog of open issues

[22:59:27.0000] <annevk>
fair enough

[23:04:49.0000] <annevk>
Yuhong: I guess you read the logs... Adding mutation events would be a world of hurt, but it basically comes down to the same things we go through for each ancient feature. Figure out what browsers do and define it. Ideally the least problematic variant. I'm still hopeful we don't have to. A couple of IE versions doesn't seem like a big deal.

[04:59:46.0000] <gsnedder1>
So can a template element have a child in the normal DOM tree?

[05:22:47.0000] <MikeSmith>
gsnedders: as far as I understand it, No, it can't

[05:25:50.0000] <gsnedders>
Thus why the tests in html5lib merely put subtree as its children. Okay.

[05:26:15.0000] <gsnedders>
This makes me wonder if the infoset coercion should just move them to being children.

[05:30:57.0000] <SimonSapin>
gsnedders: is namespaceHTMLElements documented? I learned about it by reading the source

[05:32:02.0000] <gsnedders>
SimonSapin: Probably not. The documentation is diabolical.

[06:39:36.0000] <Domenic_>
does anyone understand what's being referred to at https://twitter.com/annevk/status/359916359980822528? Event handlers picking up property names from nodes? I'm confused.

[06:43:03.0000] <SimonSapin>
Domenic_: I don’t know, but http://krijnhoetmer.nl/irc-logs/whatwg/20130724#l-212 seems related

[06:43:51.0000] <Domenic_>
SimonSapin: oh woah yeah I think that explains it. Didn't know about behavior; how bizarre.

[07:26:18.0000] <zewt>
wow, the google apps admin page is now pretty much unusable

[07:26:22.0000] <zewt>
mysterious lines of meaningless icons

[08:11:47.0000] <annevk>
Hixie: just posted to es-discuss about letting the host decide what this is bound to in the global environment

[08:12:15.0000] <annevk>
Hixie: is there anything besides that and document.all for which we've conflicts with ES?

[08:45:31.0000] <annevk>
Hixie: http://esdiscuss.org/topic/let-this-object-of-global-environment-be-specified-by-host

[09:01:19.0000] <ondras>
Hixie: ?

[10:30:25.0000] <Hixie>
heycam|away: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=22346

[10:47:01.0000] <Hixie>
any idea what bugs 22778 to 22781 are about? https://www.w3.org/Bugs/Public/show_bug.cgi?id=22781

[10:48:05.0000] <ondras>
Hixie: may I have one more events-related question?

[10:48:30.0000] <Hixie>
you can have any questions you like

[10:48:33.0000] <Hixie>
answers, i can't promise

[10:48:36.0000] <ondras>
cool :)

[10:48:48.0000] <ondras>
Hixie: well, it is the case of removing an event listener during (another) listener

[10:48:53.0000] <ondras>
both on same object/element

[10:48:55.0000] <ondras>
and the same phase

[10:49:10.0000] <ondras>
the spec says that a list of listeners is copied prior to execution

[10:49:20.0000] <ondras>
so I conclude that the removed listener shall be executed as well?

[10:50:06.0000] <Hixie>
seems reasonable to conclude that based on what you've described

[10:50:34.0000] <ondras>
well, major impls think otherwise

[10:50:43.0000] <ondras>
let me put together a testing fiddle

[10:50:56.0000] <ondras>
IE9 being an exception that follows my interpretation

[10:54:05.0000] <ondras>
Hixie: http://jsfiddle.net/ondras/fD9qq/

[10:54:14.0000] <ondras>
Hixie: do you think this is a correct demonstration?

[10:54:30.0000] <ondras>
annevk: ^ can you please confirm as well?

[10:55:53.0000] <Hixie>
seems right to me

[10:56:21.0000] <ondras>
Hixie: I am asking prior to submitting ff/chrome bugs, to evade looking like an idiot afterwards :)

[10:57:01.0000] <annevk>
ondras: looks correct to me

[10:57:45.0000] <ondras>
annevk: so the behavior of ff does not match the spec?

[10:58:23.0000] <annevk>
yeah, I seem to remember testing this and the spec matching Firefox

[10:59:23.0000] <ondras>
*matching* ?

[10:59:31.0000] <annevk>
yes

[10:59:45.0000] <annevk>
your test surprises me

[11:00:24.0000] <ondras>
chrome (blink) + opera (non-blink) does the same

[11:00:27.0000] <ondras>
ie9 alerts

[11:00:37.0000] <ondras>
ie10 no idea, not available for me atm

[11:01:57.0000] <annevk>
http://www.w3.org/TR/DOM-Level-3-Events/#event-flow says the same. "Once determined, the candidate event listeners must not be changed; adding or removing listeners does not affect the current target's candidate event listeners."

[11:11:24.0000] <ondras>
annevk: fine, will submit ff bug tomorrow

[11:22:44.0000] <annevk>
ondras: thanks, please cc me and ":smaug"

[11:24:50.0000] <Ms2ger>
And me

[11:32:28.0000] <ondras>
okay

[12:38:01.0000] <Domenic_>
haha everyone likes the onerror change https://twitter.com/pmuellr/status/360117846212231168

[12:40:49.0000] <GPHemsley>
Hey guys! Someone wants to book our band(s) on a tour!

[13:09:56.0000] <Hixie>
Domenic_: everyone except the implementors, so far :-P

[13:11:09.0000] <Domenic_>
Hixie: bah, who needs 'em

[13:11:38.0000] <Hixie>
yeah, i sometimes think that's the attitude of people who think the spec is magical and will somehow force the browsers to follow...

[13:12:11.0000] <Domenic_>
if only that were the case...

[13:16:55.0000] <Krinkle>
(and RL auto-minified it when loaded, but the page stays cool)

[13:17:00.0000] <Krinkle>
(wrong chan)

[13:49:08.0000] <jgraham>
The mailing list threads involving James Greene really upset me.

[13:49:17.0000] <jgraham>
I keep thinking "I didn't say that"

[13:49:32.0000] <jgraham>
Only to realise that it is in fact a totally different person

[13:49:44.0000] <jgraham>
Who doesn't even have the same name as me

[13:49:48.0000] <annevk>
jgraham: pointer?

[13:50:42.0000] <jgraham>
annevk: The onerror thread. But the upset is only because James Gr.* seems to match my internal filters for my own name

[13:51:11.0000] <jgraham>
At least when scanning

[14:00:29.0000] <Domenic_>
where is the thread, i couldn't find it

[15:05:46.0000] <annevk>
AirPlay competition, finally: http://googleblog.blogspot.com/2013/07/from-tvs-to-tablets-everything-you-love.html

[15:05:55.0000] <annevk>
Now some standards...

[15:06:18.0000] <annevk>
Domenic_: http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Jul/0313.html and similar

[15:11:55.0000] <Domenic_>
annevk: thanks, i swear i tried that archive -__

[15:11:59.0000] <Domenic_>
-_-

[15:12:20.0000] <annevk>
Domenic_: I think there might have been a hickup, I didn't see everything I expected earlier either


2013-07-25
[00:01:11.0000] <MikeSmith>
does WebIDL not provide any way to annotate whether a certain object is live or static?

[00:49:45.0000] <Ms2ger>
MikeSmith, as in, nodelists? DOM could probably define that...

[00:50:46.0000] <MikeSmith>
Ms2ger: yeah was thinking of nodelists in particular

[00:51:15.0000] <Ms2ger>
WebIDL is completely oblivious to that

[00:52:44.0000] <Ms2ger>
But feel free to file a bug if you think that's useful

[00:52:45.0000] <MikeSmith>
kinda seems like it would be useful for collections in general

[00:52:47.0000] <MikeSmith>
OK

[01:25:36.0000] <Ancil>
annevk: hi

[01:59:44.0000] <Ancil>
Hixie: hi

[02:09:27.0000] <jgraham>
Ancil: Unless you are just here to greet people, I recommend going ahead and asking your question

[02:55:52.0000] <odinho>
jgraham: hi

[02:59:25.0000] <Ms2ger>
odinho: hi

[03:00:54.0000] <Ancil>
jgraham: I am new to #whatwg

[03:01:41.0000] <Ancil>
jgraham: i had few questions regarding sandboxed origin browsing context flag with respect to iframes

[03:04:44.0000] <Ancil>
if "sandboxed origin browsing context flag" forces the origin to unique origin, does that mean the CORS rules have to applied?

[03:05:53.0000] <Ancil>
or it should prevent other content from the same origin without any conditions

[03:08:59.0000] <odinho>
Ms2ger: Nice of you to say hi, you who steals all my collegaues. I'll be all alone here in the end! :|

[03:09:17.0000] <Ms2ger>
odinho, you don't have to... :)

[03:09:48.0000] <odinho>
I quite like Oslo :-)

[03:10:22.0000] <Ms2ger>
We've got a lot of remotees :)

[03:10:26.0000] <odinho>
Though I'm helping Mozilla set up a contributor meeting at my Hackerspace.  Because I'm so nice.

[03:10:49.0000] <odinho>
Good guy odinho.  -- But, lunch! :D

[03:11:20.0000] <Ms2ger>
Enjoy :)

[03:11:26.0000] <Ms2ger>
/me should get some too

[05:48:27.0000] <gsnedders>
How it template handled in XHTML? Do you manually have to move the subtree to be the template content and not its decendants?

[07:33:14.0000] <jgraham>
odinho: What do you like most? The rain or the eye-watering prices? :p

[07:33:57.0000] <jgraham>
Ancil: I'm not sure that I understand your question

[07:34:27.0000] <jgraham>
But I'm not an epert on snadbox or CORS

[07:34:31.0000] <jgraham>
*expert

[07:34:36.0000] <wilhelm>
jgraham: It's not rai-- oh, nevermind.

[07:35:28.0000] <jgraham>
gsnedders: I thought yes, but I don't remember whcih direction this went off the top of my head

[07:35:42.0000] <jgraham>
It was either "change XML" or "break consistency"

[07:39:33.0000] <odinho>
jgraham: Tss. There's very little rain in Oslo. Much more in UK. And west coast of Norway where I'm from. I'm quite pleased with the weather here. :-)

[07:40:09.0000] <gsnedders>
odinho: You should try going to the east coast of the UK. ;P

[07:40:33.0000] <Ms2ger>
gsnedders, if there's no heat wave?

[07:40:47.0000] <gsnedders>
Oh no, it's just /very/ dry.

[07:41:25.0000] <gsnedders>
(Here on the west coast we've had two brief, very hard rain showers in the past days, and thunder/lightning the day before, and otherwise sun for the past fortnight.)

[07:44:06.0000] <annevk>
Ancil: sandboxing and CORS are unrelated

[07:44:59.0000] <annevk>
gsnedders: it's parsed the same in XML as in HTML (i.e. it's a change to XML parsing)

[07:46:44.0000] <annevk>
Although this test suggests it might not be implemented yet universally: data:text/xml,<template xmlns="http://www.w3.org/1999/xhtml"><script>alert(1)</script></template>

[07:46:55.0000] <gsnedders>
That seenms… so ugly.

[07:47:57.0000] <Ancil>
annevk: when "sandboxed origin browsing context flag" for an iframe is set(by setting only "allow-script" in sandbox attribute)

[07:48:14.0000] <Ancil>
annevk: and the iframe page makes an XHR request

[07:48:57.0000] <Ancil>
annevk: firefox sends a request with Origin header set to null

[07:49:10.0000] <annevk>
gsnedders: I think the concern is that otherwise you might run into security issues in those pages that happily switch MIME type

[07:49:41.0000] <odinho>
gsnedders: We have extreme-summer as well now :-)

[07:49:57.0000] <annevk>
Ancil: well yeah, for XMLHttpRequest you'll need to have opt-in

[07:50:03.0000] <gsnedders>
annevk: But there are how many deployed XML parsers out there? I'm not sure it's even viable to make such large changes, especially when it deviates from everything else all being treated identically…

[07:50:18.0000] <gsnedders>
annevk: Are XML implementors intending on making this change?

[07:51:30.0000] <Ancil>
annevk: and decides based on "Access-Contol-Allow-Origin" value in the response

[07:51:55.0000] <annevk>
gsnedders: I would expect only browsers to implement it. There's some magic for XSLT in browsers too, although apparently XSLT might still disappear entirely...

[07:51:58.0000] <Ancil>
annevk: so the sandbox restriction applies only for non XHR cotents?

[07:52:15.0000] <Ancil>
annevk: *contents

[07:52:24.0000] <gsnedders>
annevk: So then we end up with browser-XML and everything-else-XML. Great. :|

[07:52:34.0000] <annevk>
Ancil: if the <iframe> is given a unique origin, you'll need CORS to fetch from it, that makes sense

[07:53:02.0000] <annevk>
gsnedders: does anyone still care about XML?

[07:53:47.0000] <annevk>
gsnedders: FWIW, I did raise this concern, nobody really cared.

[07:54:12.0000] <gsnedders>
annevk: Well, if people still want to argue, "you can just put an HTML parser/serializer on your XML toolchain!", then we ought to care somewhat, if we want these people to move to HTML.

[07:54:38.0000] <gsnedders>
And as it is now, there's no way to parse template into an infoset, which is a problem for any parser targetting an XML toolchain.

[07:55:08.0000] <Ancil>
annevk: "sandboxed origin browsing context flag" forces the iframe to have an unique origin

[07:55:10.0000] <annevk>
I'm not sure anyone ever did that anyway. The only people who argued about that didn't really write much code.

[07:55:44.0000] <annevk>
Ancil: yes. When you asked the question originally you said nothing about XMLHttpRequest. I thought it was about the fetch for the <iframe> content itself.

[07:56:14.0000] <Ancil>
annevk: I am sorry for not being specific

[07:56:47.0000] <gsnedders>
annevk: Well, at least myself and hsivonen_ care about that.

[07:58:00.0000] <annevk>
gsnedders: No, hsivonen_ is in on this.

[07:58:13.0000] <annevk>
gsnedders: Anyway, see public-webapps archives if you want to go deeper.

[07:58:40.0000] <gsnedders>
annevk: Do you know what hsivonen_ has done for the Java side of his parser, then, given that just uses reprs of the infoset?

[07:58:42.0000] <Ancil>
annevk: the spec says "This flag forces content into a unique origin, thus preventing it from accessing other content from the same origin.". I understood even XHR are included in this.

[07:59:19.0000] <annevk>
gsnedders: No, someone else implemented it for Gecko though.

[07:59:42.0000] <gsnedders>
annevk: Yeah, but that's not so interesting when it has its own tree to parse to. :)

[07:59:49.0000] <annevk>
Ancil: that's correct. What Firefox does is correct. For XMLHttpRequest you'll need CORS.

[08:03:38.0000] <Ancil>
annevk: I am sorry if I am wrong, will it be more clear if a note is added in the specifiation regarding XHR under the line "This flag forces content into a unique origin, thus preventing it from accessing other content from the same origin." Or it it covered else where?

[08:05:49.0000] <annevk>
Ancil: given that the page has a unique origin, XMLHttpRequest will have a unique origin and cannot do same-origin requests. That's perfectly logical.

[08:10:22.0000] <Ancil>
annevk: I have question regarding CORS http://www.w3.org/TR/cors/#redirect-steps

[08:10:30.0000] <annevk>
gsnedders: Also, note that this gives infoset compatibility between HTML and XML, just not compatibility with XML.

[08:11:00.0000] <annevk>
Ancil: CORS is http://fetch.spec.whatwg.org/ now more or less. Might help reading that instead, but feel free to ask questions.

[08:11:01.0000] <Ancil>
annevk: In case of step six the Origin header will be set to null, in the redirected request

[08:12:43.0000] <Ancil>
annevk: and if the response contains "Access-Control-Allow-Origin: null"

[08:12:49.0000] <Ancil>
annevk: okay

[08:13:13.0000] <Ancil>
annevk: should the response be allowed, treated as pass/success

[08:13:22.0000] <annevk>
Ancil: yes, that should work

[08:14:06.0000] <Ancil>
annevk: thanks for the clarifications, appreciate it. :)

[08:27:39.0000] <dglazkov>
good morning, Whatwg!

[08:38:26.0000] <gsnedders>
annevk: How is it infoset compatible? XML infoset has no way to have a subtree?

[08:38:51.0000] <annevk>
gsnedders: both infosets changed in a compatible way.

[08:39:22.0000] <gsnedders>
http://html5.org/tools/web-apps-tracker?from=8074&to=8075

[08:41:08.0000] <annevk>
So either the plan completely changed without it reaching me or Hixie is not in on the plan.

[08:42:47.0000] <gsnedders>
Is there any spec for this new infoset?

[08:45:05.0000] <BradEstey>
Any chance in adding "webutation-site-verification" to the Registered Meta Extensions list?

[08:45:15.0000] <annevk>
BradEstey: you can add it

[08:45:28.0000] <annevk>
gsnedders: not that I know of.

[08:46:19.0000] <BradEstey>
How do I request an account in here then? :\

[08:46:33.0000] <gsnedders>
So we're changing XML specs without as much as letting the XML Core WG know?

[09:02:38.0000] <jgraham>
gsnedders: I think at some level the plan is about not letting XML-conservatives hold the web platform hostage

[09:12:34.0000] <gsnedders>
jgraham: In case you have an opinion: how do we implement template in html5lib? Get rid of the generic tree builders and only support all of the parser in a custom tree format?

[09:19:13.0000] <jgraham>
gsnedders: I haven't thought about it.

[09:19:18.0000] <jgraham>
But I can think about

[09:19:20.0000] <jgraham>
it

[09:19:22.0000] <jgraham>
Later

[09:19:29.0000] <jgraham>
Now I have to go get food

[09:34:41.0000] <SimonSapin>
Did the parser spec change a lot since 2009? http://git.netsurf-browser.org/libhubbub.git/tree/docs/Updated

[09:43:20.0000] <Ms2ger>
HTML parser? Quite a bit

[10:10:42.0000] <SimonSapin>
yes HTML

[10:11:32.0000] <SimonSapin>
http://www.netsurf-browser.org/projects/hubbub/ claims HTML5 compliance

[10:24:31.0000] <annevk>
See kids, this is why living standards are a bad idea!

[10:25:37.0000] <annevk>
gsnedders: I think for environments that do not have a scripting environment, including e.g. XSLT, the idea is that you just treat the elements as children of the template element.

[10:29:00.0000] <Hixie>
annevk: what am i not in on re: infoset?

[10:29:50.0000] <annevk>
Hixie: so the XML example above should result in <template> not having children, and them being put in <template>.contents.

[10:30:53.0000] <Hixie>
right? what's that got to do with the infoset

[10:48:08.0000] <Hixie>
annevk: ^

[10:49:40.0000] <annevk>
Hixie: That's a good question. Maybe nothing. Though I thought the infoset guaranteed something about markup to infoset mapping and vice versa.

[10:50:26.0000] <Hixie>
i thought the infoset was just a data model

[10:50:37.0000] <Hixie>
and the infoset data model doesn't have a ".contents".

[10:52:00.0000] <Hixie>
annevk: ^

[10:56:42.0000] <annevk>
Hixie: So yeah, my bad. I confused changes to XML with changes to XML infoset.

[10:56:51.0000] <Hixie>
aah ok

[11:10:13.0000] <TabAtkins>
Anyone have any clue what the mailing list for W3C's a11y stuff is?  I'm trying to post a spec announcement relevant to their interests, but can't figure it out.

[11:16:02.0000] <annevk>
TabAtkins: seems PF WG still has a private list

[11:16:07.0000] <annevk>
so fucked up

[11:16:08.0000] <hober>
TabAtkins: public-pfwg-comments?

[11:16:28.0000] <TabAtkins>
is pfwg a11y?

[11:16:30.0000] <annevk>
I guess you could use that, though it's technically wrong

[11:16:31.0000] <hober>
yeah

[11:17:08.0000] <hober>
"PFWG reviews all W3C technologies for accessibility, and develops WAI-ARIA."

[11:17:48.0000] <TabAtkins>
Okay.

[11:18:23.0000] <TabAtkins>
I was looking through the list of mailing lists, and wai has almost two dozen worthless, empty lists.

[11:18:53.0000] <TabAtkins>
Most of which are named with a "wai-xx" label, where xx is some opaque two-letter identifier.

[11:18:54.0000] <tantek>
TabAtkins - that's not limited to WAI

[11:19:38.0000] <tantek>
for a good time, click on any random list here: http://lists.w3.org/Archives/Public/

[11:19:53.0000] <TabAtkins>
"good"

[11:20:10.0000] <tantek>
at least some of them explicitly say "[Historical list - Inactive]"

[11:22:58.0000] <TabAtkins>
See, www-wai-pf looked totally reasonable, but it's had 10 messages in the last decade. The first is the intro message in 2002, the latest is an introduction email from 2009, and the other 8 are spam or mistakes.

[14:49:52.0000] <zewt>
 /win 6

[14:49:54.0000] <zewt>
(hi)

[16:11:23.0000] <gsnedders>
annevk: Then someone should tell Hixie of that plan. :)

[16:12:05.0000] <gsnedders>
/me sees the above conversation

[16:12:07.0000] <gsnedders>
Ignore m.e

[16:13:12.0000] <gsnedders>
SimonSapin: takkaria's GSoC project in… 2008, I think, was the parser in Hubbub

[16:47:25.0000] <mounir>
Hixie: is <fieldset> not barred from constraint validation on purpose?

[16:47:40.0000] <Hixie>
what would it mean for it not to be?

[16:47:52.0000] <mounir>
Hixie: I mean, it is supporting :invalid/:valid like <form> but do we really want to have .setCustomValidity applying?

[16:48:38.0000] <mounir>
Hixie: Gecko has it barred from constraint validation for the moment

[16:48:45.0000] <Hixie>
/me attempts to page in that part of the spec

[16:49:13.0000] <mounir>
Hixie: it is possible that when you added :invalid support, you remove that bit

[16:49:19.0000] <Hixie>
woah, :valid doesn't apply but :invalid does, wtf is that

[16:49:36.0000] <mounir>
Hixie: oh, good catch, our patch implements both :)

[16:49:48.0000] <Hixie>
the way :invalid is specced, the fieldset itself isn't what's checked, it's the descendants:

[16:49:53.0000] <Hixie>
# fieldset elements that have of one or more descendant elements that themselves are candidates for constraint validation but do not satisfy their constraints

[16:49:57.0000] <mounir>
indeed

[16:50:11.0000] <mounir>
Hixie: but I don't see in the specs the line saying that "fieldset is barred from constraint validation"

[16:50:28.0000] <Hixie>
oh, i misunderstood your original question above

[16:51:02.0000] <Hixie>
i thought you meant, is it barred from constraint validation for a reason other than on purpose?

[16:51:08.0000] <Hixie>
but let me look further

[16:51:11.0000] <mounir>
Hixie: my fault, double negative ;)

[16:52:21.0000] <Hixie>
aha

[16:52:25.0000] <Hixie>
fieldset isn't submittable

[16:52:50.0000] <Hixie>
so it can't be a candidate for constraint validation

[16:53:12.0000] <mounir>
argh

[16:53:32.0000] <mounir>
but good to hear ;)

[16:53:56.0000] <Hixie>
it appears that attempting to spec basically what browsers do has resulted in a spec about as complicated as browsers

[16:54:01.0000] <Hixie>
which in retrospect is unsurprising

[16:54:07.0000] <Hixie>
but :-( nonetheless

[16:54:25.0000] <Hixie>
fixed the :valid thing.

[16:54:57.0000] <gsnedders>
Is it just me or does simply dropping <template>'s ssubtree seem really evil to do in html5lib?

[16:55:26.0000] <Hixie>
gsnedders: i dunno about "evil", but it doesn't seem useful, for sure

[16:56:00.0000] <Hixie>
gsnedders: look up the meaning of "contents" in the html spec, that may help you decide how to handle this. http://www.whatwg.org/specs/web-apps/current-work/#concept-html-contents

[16:56:12.0000] <Hixie>
gsnedders: (notice that this term is used in the definition of the serialisation)


2013-07-26
[17:00:45.0000] <gsnedders>
Hixie: Note we're doing nothing but coercing the tree to an infoset.

[17:01:08.0000] <Hixie>
oh you definitely don't want to use infoset as a data model

[17:01:59.0000] <gsnedders>
But that's what all existing Python tree libraries do!

[17:02:11.0000] <Hixie>
i see an opening :-)

[17:02:51.0000] <gsnedders>
We recently dropped our own, ugly tree API. :P

[17:04:18.0000] <Hixie>
maybe that was a mistake :-)

[17:05:03.0000] <Hixie>
anyway my earlier point was that you can just define your API for getting to the template contents on <template>s as being the same API as to get to the child elements of every other element

[17:06:16.0000] <gsnedders>
i.e., make it the decendants?

[17:07:42.0000] <Hixie>
yeah

[17:08:05.0000] <Hixie>
except you'd say "oh you just can't put descendants on <template> elements. that api, for that element, gets the template's contents."

[17:09:25.0000] <gsnedders>
"The [IE11 Chakra] JIT compiler now supports more optimizations including polymorphic caching of properties and inlining of function calls" — wait, what!? They weren't doing that before? How weren't they ungodly slow, then?

[00:03:18.0000] <foolip>
hsivonen_, validator.nu doesn't seem to be feeling too well, known issue?

[00:04:26.0000] <MikeSmith>
foolip: yeah

[00:04:31.0000] <MikeSmith>
chronic problem

[00:04:51.0000] <MikeSmith>
I think hsivonen_ is working on switching his hosting provider

[00:05:16.0000] <foolip>
I'm now using http://validator.w3.org/ which insists that there's a warning but doesn't tell me what it is

[00:05:23.0000] <foolip>
I guess it's the

[00:05:26.0000] <foolip>
"Using experimental feature: HTML5 Conformance Checker."

[00:05:30.0000] <MikeSmith>
foolip: but html5.validator.nu is on a different host and is usually much more responsive than validator.nu

[00:05:46.0000] <MikeSmith>
foolip: ah please don't use that. Use http://validator.w3.org/nu/ instead

[00:06:05.0000] <MikeSmith>
instead of http://validator.w3.org/

[00:06:07.0000] <foolip>
MikeSmith, thanks, I'm happy to not use it :)

[00:06:10.0000] <MikeSmith>
heh

[00:14:53.0000] <MikeSmith>
foolip: everything working as expected now? (as far as validation from html5.validator.nu or validator.w3.org/nu)

[00:15:14.0000] <foolip>
MikeSmith, yeah, my markup is awesome as usual :)

[00:15:29.0000] <MikeSmith>
heh

[00:48:21.0000] <odinho>
lol

[01:36:37.0000] <galant>
on my website I don't give IE 9 support

[06:37:01.0000] <chth>
good morning, im an engineer at the library of congress trying to find someone to help me access http://wiki.whatwg.org/wiki/MetaExtensions so we can add our meta extensions

[06:37:49.0000] <chth>
I sent a request to admin⊙wwo but never heard back

[06:39:50.0000] <SimonSapin>
chth: you’re at the right place to ask for a wiki account, let me find how it works

[06:40:55.0000] <SimonSapin>
chth: ok, I need a desired username (login), email address, and real name

[06:41:09.0000] <chth>
thanks SimonSapin

[06:41:49.0000] <chth>
username christhatcher, email chth⊙lg, real name Chris Thatcher

[06:42:51.0000] <SimonSapin>
chth: Done. You should get the password by email

[06:43:03.0000] <chth>
thank you sir

[06:44:30.0000] <SimonSapin>
Note to my future self: "How to create a user account" is linked from the wiki front page.

[15:25:16.0000] <Hixie>
heycam|away: did you want to take https://www.w3.org/Bugs/Public/show_bug.cgi?id=18242 or...?


2013-07-27
[17:59:56.0000] <heycam>
Hixie, I'll look into it

[18:35:32.0000] <Hixie>
heycam: thanks

[02:21:40.0000] <Ms2ger>
TabAtkins, lies, www-wai-pf has only had five messages in the past decade, and four in the decade before

[07:25:22.0000] <GPHemsley>
hmm... it seems I never even noticed the e-mail request from Chris Thatcher for a wiki account

[07:25:25.0000] <GPHemsley>
SimonSapin: Thanks for that

[07:33:57.0000] <BW^->
in JS, how can I autodetect if XMLHttpRequest.send() accepts a FormData as data argument?

[07:35:48.0000] <BW^->
this may coincide with XMLHttpRequest 2 support.

[08:06:26.0000] <jgraham>
BW^-: try/catch

[08:07:26.0000] <BW^->
jgraham: I just noted that http://beta.html5test.com/ autodetects this with: window.XMLHttpRequest && 'upload' in new XMLHttpRequest()

[08:07:31.0000] <BW^->
jgraham: I believe I'll stick to this.

[08:11:20.0000] <Ms2ger>
jgraham, doesn't work, there's a DOMString overload

[08:34:01.0000] <jgraham>
Ms2ger: Oh

[08:35:00.0000] <jgraham>
We should really come up with a mechanism to support this kind of feature detetion

[16:04:16.0000] <galant>
I am confused is html5 official name or html?

[16:04:30.0000] <galant>
for the html language


2013-07-28
[17:03:51.0000] <TabAtkins>
The WHATWG spec, which is the one you should be reading, defines the HTML language.

[17:04:05.0000] <TabAtkins>
galant: It is unversioned.

[17:04:20.0000] <TabAtkins>
galant: That's as "official" as you're going to get.

[17:28:28.0000] <zewt>
things browsers need: an un-reload button

[17:28:48.0000] <zewt>
reload ebay search, go "wait what was that" right as it goes away

[17:46:38.0000] <galant>
how many webpages arround use HTML ?

[17:46:59.0000] <galant>
TabAtkins,  thanks

[17:49:02.0000] <galant>
does browsers read any other language other than html?

[17:58:47.0000] <TabAtkins>
You mean beyond Javascript and CSS?  Yes - all browsers also understand SVG, and some understand MathML.

[17:59:08.0000] <TabAtkins>
And all of them can read arbitrary XML, though they won't do anything useful with it.

[18:03:37.0000] <galant>
are there any webpages made in xml xstl svg ..?

[18:05:31.0000] <pdr>
galant, there are some experimental svg-only pages, but no major ones afaik.

[18:15:57.0000] <galant>
can I make letters to not make new lines if they reach end of the element width?

[18:16:07.0000] <galant>
pdr, ok thanks

[19:20:38.0000] <galant>
is there any logic behind colapsing margins or I should learn them as they are ?

[19:32:09.0000] <Hixie>
galant: Google is aware of at least a trillion unique web pages, but nobody knows the real number, and it depends on what you mean exactly

[19:32:27.0000] <Hixie>
as for margin collapsing, there's a logic

[19:32:33.0000] <Hixie>
but it's a bit hard to explain over irc

[19:41:53.0000] <galant>
Hixie, please, can google webmaster tools and google analytics slow down my webpage if I put code snippets on my servers?

[19:42:16.0000] <galant>
I need to read more on collapsing margins they confuse me "S

[19:42:58.0000] <galant>
I meant, around how many webpages are made in languages different than html- i mean about structure like html&css

[19:48:46.0000] <Hixie>
i don't know much about google webmaster tools and google analytics, but it's unlikely that google's servers will be the bottleneck on your site most of the time

[19:48:59.0000] <Hixie>
i don't understand your other questions

[21:07:46.0000] <gallant>
ok thanks Hixie

[02:03:58.0000] <gallant>
which kind of element are form input elements?

[03:13:58.0000] <gallant>
what is the keywords attribute max value? or how many keywords I can put in <meta name="keywords"

[05:01:44.0000] <ThePieMan>
can anybody help me?

[05:02:03.0000] <ThePieMan>
hello

[05:02:16.0000] <ThePieMan>
anybody reply please

[05:02:45.0000] <ThePieMan>
anybody here?

[05:03:03.0000] <nessy>
say what you need

[05:03:23.0000] <ThePieMan>
ok i may sound like real noob, but how to make website like this one? http://www.mozilla.org/en-US/firefox/os/ can u suggest me something?

[05:04:45.0000] <ThePieMan>
nessy, can u help me?

[05:06:04.0000] <ThePieMan>
any reply please

[05:23:05.0000] <gallant>
mayday mayday

[06:28:25.0000] <GPHemsley>
/me wonders why there is a sudden upsurge in people thinking this is a web development help channel

[07:16:46.0000] <hendry>
MikeSmith: hsivonen_ http://validator.nu/ is down for me btw

[10:03:14.0000] <Hixie>
galant: meta name=keywords is a waste of time, generally speaking

[12:08:24.0000] <GPHemsley>
TabAtkins: Is there (or should there be) a way to create a counter as if an item was insert between two existing items (e.g. 10A between 10 and 11)?

[12:09:28.0000] <TabAtkins>
There can be, sure.  Set up a nested counter scope with a different counter style, and use counters() to render them.

[12:10:05.0000] <GPHemsley>
interesting

[12:11:03.0000] <TabAtkins>
For example, assuming a single <ol> where you started with some numbered items, and later amended the list to contain more items but wanted to indicate them specially so as to not disturb the original numbering...

[12:11:31.0000] <TabAtkins>
Like <ol><li>old<li class=new>new<li>old</ol> being rendered as "1. old 1A. new 2. old"

[12:11:39.0000] <TabAtkins>
Then...

[12:13:25.0000] <TabAtkins>
ol { counter-reset: old; } li:not(.new) { counter-reset: new; } li::marker { content: counter(old, decimal) ". "; } li.new::marker { content: counter(old, decimal) counter(new, upper-alpha) ". "; }

[12:13:46.0000] <TabAtkins>
(Sorry, realized you can't use counters() for this if you want them to be siblings.  If the new things were children you'd be fine.)

[12:14:16.0000] <TabAtkins>
The ABC counter would get reset by each old item, thus restarting the count for its new items.

[12:14:27.0000] <GPHemsley>
Ah, thanks for the explanation.

[12:14:36.0000] <GPHemsley>
This was merely a thought experiment. :)

[12:15:14.0000] <GPHemsley>
Though I'm glad to see that counters are already this powerful.

[12:15:21.0000] <GPHemsley>
TabAtkins: You do good work! :)

[12:15:33.0000] <TabAtkins>
I have nothing to do with this - this is old functionality.

[12:15:46.0000] <TabAtkins>
The interaction counters can have with siblings is indeed powerful.

[12:15:58.0000] <GPHemsley>
Nevertheless, I stand by my statement. ;)

[12:16:09.0000] <TabAtkins>
Excepting the use of ::marker (use ::before instead), you can do my example with only CSS 2.1 stuff.

[12:16:22.0000] <TabAtkins>
But thanks. ^_^

[12:21:43.0000] <annevk>
I still think that most of the time numbering is not actually a presentational feature and we should not have put it in CSS.

[12:23:11.0000] <GPHemsley>
annevk: Where else would you have put it? Having to hand number things would be a pain.

[12:23:30.0000] <GPHemsley>
TabAtkins: The real question is, does anybody actually support counters? >_>

[12:23:52.0000] <TabAtkins>
Yes, they do.  At least, well enough to pass the 2.1 tests.

[12:24:56.0000] <annevk>
GPHemsley: I would make something like <ol type=numberic> <li>old <li value=1A> new <li value=2> old work I think

[12:25:35.0000] <annevk>
Maybe instead of value call it marker, if we're doing this from scratch, etc.

[12:26:00.0000] <GPHemsley>
Well, Gecko does not appear to be one of them.

[12:26:01.0000] <GPHemsley>
even with ::before

[12:26:25.0000] <GPHemsley>
hmm

[12:26:57.0000] <GPHemsley>
I think that'd put a lot of burden on detecting exactly what "1A" means in that case

[12:27:17.0000] <GPHemsley>
I think you'd wind up with something that looks like the CSS solution in many respects anyway

[12:27:30.0000] <GPHemsley>
data:text/html,<!DOCTYPE html><style>ol { counter-reset: old; } li:not(.new) { counter-reset: new; } li::before { content: counter(old, decimal) ". "; } li.new::before { content: counter(old, decimal) counter(new, upper-alpha) ". "; }</style><ol><li>old<li class=new>new<li>old</ol>

[12:27:50.0000] <GPHemsley>
does not work in Gecko ^^

[12:28:16.0000] <GPHemsley>
or, rather, doesn't work correctly

[12:29:07.0000] <GPHemsley>
or Chrome, apparently

[12:29:58.0000] <GPHemsley>
indeed, Gecko and Chrome show the same results as each other for both ::marker and ::before

[12:30:17.0000] <GPHemsley>
(though the results are not identical for the two selectors)

[12:31:08.0000] <GPHemsley>
the "new" element shows "2. 00." with ::before

[12:31:21.0000] <GPHemsley>
between "1. 0." and "3. 0."

[12:32:33.0000] <GPHemsley>
(though all of this is known already, I think)

[12:32:51.0000] <annevk>
GPHemsley: 1A is just content, it's not really about meaning

[12:33:05.0000] <annevk>
GPHemsley: I mean, you don't have to be able to interpret it in order to display it

[12:33:18.0000] <GPHemsley>
annevk: Then how do you know what to do with an <li> after <li value=2>?

[12:33:53.0000] <annevk>
GPHemsley: you'd prolly have some amount of heuristics, key is mostly that this is content, not style

[12:34:15.0000] <annevk>
GPHemsley: as e.g. other content will want to refer to "1A" and not have that reference go away if the style sheet is changed

[12:34:22.0000] <GPHemsley>
annevk: I agree with that, but I don't think there's a good way around it.

[12:34:40.0000] <GPHemsley>
though you could give each <li> an @id, no?

[12:35:02.0000] <GPHemsley>
and then use the id value to extract the CSS counter?

[12:35:08.0000] <GPHemsley>
as a way to reference it, that is

[12:35:48.0000] <GPHemsley>
or somethink like that

[12:35:54.0000] <GPHemsley>
s/k/g/

[13:10:38.0000] <TabAtkins>
GPHemsley: Sorry, I forgot to put counter-increments into that snippet.

[13:10:54.0000] <TabAtkins>
Add li { counter-increment: old; } li.new { counter-increment: old new; }

[13:11:53.0000] <TabAtkins>
And obviously add ol {list-style:none;} to turn off native marker rendering, so your ::before stands alone.

[13:13:27.0000] <TabAtkins>
Rather, li.new { counter-increment: new; }

[13:14:26.0000] <TabAtkins>
And (just tested), that works perfectly.

[13:14:49.0000] <TabAtkins>
data:text/html;charset=utf-8,%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%0Aol%20%7B%20counter-reset%3A%20old%3B%20list-style%3Anone%3B%20%7D%0Ali%3Anot(.new)%20%7B%20counter-reset%3A%20new%3B%20counter-increment%3A%20old%3B%20%7D%0Ali.new%20%7B%20counter-increment%3A%20new%3B%20%7D%0Ali%3A%3Abefore%20%7B%20content%3A%20counter(old)%20%22.%20%22%3B%20%7D%0Ali.new%3A%

[13:14:49.0000] <TabAtkins>
3Abefore%20%7B%20content%3A%20counter(old)%20counter(new%2C%20upper-alpha)%20%22.%20%22%3B%20%7D%0A%3C%2Fstyle%3E%0A%3Col%3E%3Cli%3Eold%3Cli%20class%3Dnew%3Enew%3Cli%3Eold%3C%2Fol%3E

[13:38:19.0000] <Yuhong>
I wonder how complex a HTML5-style CSS spec would be.

[13:38:41.0000] <Yuhong>
Or for that matter a HTML5-style spec for the Office 97-2003 binary file formats.

[14:07:45.0000] <SimonSapin>
Yuhong: what do you mean, HTML5-style?

[14:08:26.0000] <Yuhong>
In the style of the WHATWG HTML spec.

[14:13:18.0000] <matjas>
annevk: thanks! is that `xhr.responseType = 'some-unsupported-type'` behavior specced? It doesn’t seem to be mentioned in http://xhr.spec.whatwg.org/#the-responsetype-attribute

[14:13:55.0000] <matjas>
…all browsers seem to do it, so i probably misunderstood the spec

[14:14:18.0000] <annevk>
matjas: it's because the given value in step 4 can only be one of the strings from the IDL

[14:14:56.0000] <annevk>
matjas: so if you don't implement one of the values, it wouldn't be in the IDL either in which case the algorithm would not be invoked (iirc)

[14:16:23.0000] <annevk>
matjas: enums are nice like that

[14:17:01.0000] <matjas>
so this spec doesn’t need to mention this explicitly, because it’s taken care of by IDL? got it.

[14:19:01.0000] <annevk>
yeah, if we add a new value "foo" we'd expand the enum, implementations of the old enum however would simply ignore "foo" and not change the value of responseType

[14:22:50.0000] <zcorpan>
jgraham: Ms2ger: re http://krijnhoetmer.nl/irc-logs/whatwg/20130727#l-238 - just do formdata.toString = function() { throw new Error(); };

[14:23:18.0000] <Ms2ger>
Interesting idea

[14:23:39.0000] <Ms2ger>
It does rely on overloading being implemented correctly, of course

[14:24:23.0000] <gsnedders>
I would be relatively surprised if it wasn't.

[14:25:26.0000] <SimonSapin>
Yuhong: and that is… ?

[14:25:44.0000] <Ms2ger>
I've seen quite a bit of pre-webidl overloading code in Gecko, and it's universally wrong :)

[14:25:50.0000] <SimonSapin>
more specifically

[14:26:02.0000] <gsnedders>
Ms2ger: Oh, it's not /entirely/ wrong. I expect it'll handle this. :P

[14:26:24.0000] <Ms2ger>
Possibly :)

[14:26:44.0000] <Ms2ger>
/me is not an optimist

[14:28:48.0000] <zcorpan>
i hear Ms2ger is eager to write some tests :-)

[14:28:55.0000] <Ms2ger>
Nooooooo

[14:29:02.0000] <zcorpan>
:-|

[14:29:32.0000] <Ms2ger>
Doesn't mean that I won't.. ;)

[14:29:58.0000] <Ms2ger>
/me looks at his todo list, sighs

[14:36:46.0000] <zcorpan>
Ms2ger: if you could also clean my windows, that'd be splendid. you'll get a coffee and a cardamom bun

[14:37:59.0000] <Ms2ger>
It's very kind of you to offer that, but I don't think I'll take you up on it

[14:38:44.0000] <Yuhong>
I was referring to <Hixie> it appears that attempting to spec basically what browsers do has resulted in a spec about as complicated as browsers

[14:39:26.0000] <matjas>
http://mathiasbynens.be/demo/xhr-responsetype xhr.responseType tests, in case anyone cares

[14:39:33.0000] <matjas>
IE11 supports all but 'json'

[14:40:34.0000] <Ms2ger>
matjas, there's a </a> on there that shouldn't be

[14:40:50.0000] <matjas>
Ms2ger: whoops, fixed

[14:57:25.0000] <zcorpan>
hmmm. can someone confirm that the IE claim is true? https://www.w3.org/Bugs/Public/show_bug.cgi?id=22800

[15:02:05.0000] <zcorpan>
something like http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2423 (though dunno if ie supports data: there)

[15:09:32.0000] <matjas>
zcorpan: ie doesn’t support data: there

[15:09:58.0000] <zcorpan>
suspected so

[15:11:39.0000] <zcorpan>
https://code.google.com/p/chromium/issues/detail?id=264197 people seem confused. nobody seem to have tested whether IE supports .colno, afaict

[15:13:21.0000] <zcorpan>
i have given review comments about IE's tests saying that they are confusing, but apparently they haven't been fixed

[15:35:35.0000] <jgraham>
matjas: You should really write tests that W3C can use


2013-07-29
[21:43:10.0000] <yaffle>
Hello!

[21:50:54.0000] <yaffle>
Why Firefox delays FIRST "progress" event for XMLHttpRequest for about 50ms ?

[21:51:36.0000] <yaffle>
and Chrome fires FIRST progress event while readyState === 2

[00:15:56.0000] <matjas>
jgraham: https://github.com/w3c/web-platform-tests/pull/260

[00:20:13.0000] <matjas>
jgraham: IMHO crowdsourcing the results per browser through Browserscope (like on http://mathiasbynens.be/demo/xhr-responsetype) is still a good reason to have a separate test page

[00:21:35.0000] <Ms2ger>
matjas, tests should just be under /XMLHttpRequest, not /XMLHttpRequest/tests/submissions/MathiasBynens

[00:26:33.0000] <matjas>
Ms2ger: fixed

[02:16:06.0000] <BW^->
XMLHttpRequest 2 spec question:

[02:16:12.0000] <BW^->
a FormData submitted using XMLHttpRequest.send() in a browser with XHR version 2 support -  how do we get a proper content-type set on the XHR submission, so the server knows what "boundary" to scan for?

[02:16:13.0000] <BW^->
i mean, the spec is not intended to be that the server must autodetect boundary right???

[02:17:49.0000] <BW^->
ah wait, trying with not setting any content-type on the XHR as to let the browser set it.

[02:27:12.0000] <jgraham>
matjas: Nice. Your history rewrite upset critic a bit though. That might just be a critic bug of course...

[03:05:49.0000] <BW^->
could it ever happen that XHR2 would .send() a file from a FormData within the form data MIME-encoded contents, in another format than binary?

[03:22:09.0000] <matjas>
jgornick: it is :P

[03:48:22.0000] <matjas>
oh man, s/jgornick/jgraham/

[04:13:56.0000] <jgraham>
matjas: What did you actually do?

[04:15:29.0000] <matjas>
jgraham: git commit --amend; git push -f

[04:16:01.0000] <jgraham>
I see

[04:16:27.0000] <jgraham>
It's a pity that github encourages that kind of behaviour :(

[04:17:33.0000] <odinho>
It's a history rewrite with new changes as well.

[04:17:44.0000] <jgraham>
(it makes more sense to rebase the branch once it is reviewed. But github strongly encourages merges)

[04:24:09.0000] <SimonSapin>
jgraham: are you saying that amend is bad but rebase is good? (I’m exagerating a bit)

[04:24:36.0000] <Ms2ger>
I'm saying that git is bad and hg is good

[04:27:07.0000] <jgraham>
SimonSapin: I'm saying that rewriting pushed commits in ways that both change the content and the history is bad

[04:28:20.0000] <jgraham>
(except pure moves obviously)

[04:28:37.0000] <jgraham>
(but they are equivalent to merges)

[04:40:15.0000] <ondras>
Ms2ger: I am happy to hear someone who favors mercurial as well. Do you have any particular areas where hg triumphs over git?

[05:06:27.0000] <mynameis>
can you explain this? If the parent element is an ol element, then the li element has an ordinal value.

[05:06:32.0000] <mynameis>
what means ordinal value?

[05:16:19.0000] <GPHemsley>
TabAtkins: Ah, thanks, that's cool—except for one problem: they're not aligned properly.

[05:27:37.0000] <Ms2ger>
ondras, usability?

[05:29:55.0000] <ondras>
Ms2ger: well, some uses cases in particular? I favor hg mostly because of some subjective feelings (such as "bookmark" being a much better name than "branch"), but I am having troubles arguing with some concrete scenarios

[05:30:21.0000] <ondras>
Ms2ger: so I am interested in what *you* find superior in mercurial

[05:33:25.0000] <mynameis>
if I make good website about webdesign with nice reference to all html elements css properties javascript functions and syntax tutorials php/mysql .. will you put it on the topic? ^^

[05:33:54.0000] <Ms2ger>
No

[06:28:43.0000] <SimonSapin>
mynameis: you can contribute to webplatform.org

[06:28:58.0000] <SimonSapin>
Or MDN. Or both.

[07:41:02.0000] <matjas>
in case it’s useful for anyone else — encode/decode HTML entities as per the HTML spec, from the command line: https://github.com/mathiasbynens/he#using-the-he-binary

[07:45:16.0000] <mynameis>
SimonSapin,  ok

[08:34:57.0000] <TabAtkins>
GPHemsley: Such a complainer.  ^_^  They're aligned properly for being list-style-position:inside list items.

[08:35:24.0000] <TabAtkins>
GPHemsley: You can fake outside alignment to some degree with abspos, but really you just need to wait until ::marker is supported by browsers.

[08:49:54.0000] <GPHemsley>
TabAtkins: Yeah, that's what I figured. I just wish they'd hurry up. (The Mozilla bug has been on file for ~7 years.)

[08:51:27.0000] <Ms2ger>
Patches welcome :)

[08:53:46.0000] <smaug____>
ah, good, annevk commenting in Web Audio mailing list about the insane idea to expose data races

[08:53:55.0000] <smaug____>
hopefully that issue will be fixed

[09:07:58.0000] <Hixie>
mynameis1: ordinal means "Of or relating to a thing's position in a series"

[09:14:45.0000] <GPHemsley>
Ms2ger: Oh, it's on my radar now. But it'd be a big time commitment, since I have no idea where the code lives or what it should look like. ;)

[09:15:35.0000] <GPHemsley>
Ms2ger: Also, waiting for a response from dbaron as to what his plans are.

[09:34:28.0000] <danielfilho|w>
hey guys, Salsinhasta is sending spam in pvt when you join the channel.

[09:59:06.0000] <Rintze>
Hi, I was wondering if people are aware http://validator.nu/ is giving a 503.

[10:23:27.0000] <gsnedders>
jgraham: "Disable tracking" isn't doing anything.

[10:25:19.0000] <gsnedders>
https://critic.hoppipolla.co.uk/r/225 appears not be updating properly

[10:31:07.0000] <jgraham>
gsnedders: It was disabled

[10:31:14.0000] <jgraham>
I just enabled it

[10:31:24.0000] <gsnedders>
:)

[10:31:30.0000] <gsnedders>
Anyhow, weird.

[10:31:34.0000] <gsnedders>
Never showed up as disabled here.

[10:33:41.0000] <jgraham>
gsnedders: Probably cached

[10:33:51.0000] <jgraham>
Or something

[10:45:47.0000] <Rintze>
Bump. (validator.nu gives a "Service Temporarily Unavailable" 503 error)

[10:47:55.0000] <jgraham>
Rintze: I think hsivonen_ and MikeSmith are both timezone-impaired right now

[10:53:00.0000] <Rintze>
Do you know if they'll catch up on the log?

[10:53:21.0000] <Rintze>
I'm also not sure if this is the best place to report the issue.

[10:58:51.0000] <jgraham>
Rintze: I think so

[10:59:20.0000] <Rintze>
Okay, thanks. Have a good day.

[11:12:17.0000] <cshu>
jsbell, ping

[11:12:29.0000] <jsbell>
cshu: what's up?

[11:13:00.0000] <jsbell>
(FYI, I've been on vacation for the last week so missed any interesting discussions)

[11:13:34.0000] <cshu>
jsbell, i plan to make a proposal about atob/btoa binary encoding. can you create an account for me on whatwg?

[11:14:29.0000] <cshu>
jsbell, i didn't see anything going on within my thread. i am based on east-coast so i don't know if anybody met to talk aobut binary encoding in CA

[11:15:02.0000] <jsbell>
cshu: I doubt there was any discussion not on the list; not a high priority topic.

[11:15:41.0000] <cshu>
jsbell, i guess so, too.

[11:15:51.0000] <jsbell>
cshu: I believe you need to follow the directions at the top of http://wiki.whatwg.org/ to get the account, i.e ping someone with admin powers i.e. not me...

[11:16:02.0000] <jsbell>
cshu: Oh, wow, I am on the list.

[11:16:12.0000] <jsbell>
Let me figure out how.

[11:16:17.0000] <cshu>
jsbell, YEAH. that's why i ping you. :)

[11:23:34.0000] <jsbell>
cshu: you should get email shortly w/ random password etc

[11:23:52.0000] <cshu>
jsbell, excellent! thank you so much

[13:10:45.0000] <Hixie>
gsnedders: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=22818

[13:10:59.0000] <Hixie>
hober: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=22815

[13:40:25.0000] <mynameis>
Hixie, thanks

[14:27:37.0000] <mynameis>
omg guys why tet looks like this in opera, is it just me or?

[15:44:53.0000] <rego>
I've a question about if breaks should work or not in <BR> elements (I sent a mail to www-style explaining the behavior of breaks in Gecko and WebKit: http://lists.w3.org/Archives/Public/www-style/2013Jul/0535.html ) any feedback on the topic is welcomed, thanks :-)

[15:54:36.0000] <annevk>
Hixie: about the Date object thing, the link I gave earlier to es-discuss has various developers on record

[15:58:32.0000] <annevk>
rego: I recommend looking in the rendering section of the HTML standard to see how <br> is to be implemented

[15:58:46.0000] <annevk>
rego: then emulate that with a <span> (if possible) and see what happens

[16:06:43.0000] <rego>
annevk: thanks for the feedback

[16:07:42.0000] <rego>
I had already tried with <SPAN> elements, the behavior in Gecko is the same than with <BR> elements, however in WebKit the behavior is different a <SPAN> element with "display:block" is enough to cause a break (it doesn't need content, like for the case of <BR> elements)

[16:08:38.0000] <rego>
according to the spec, forced breaks should only work in block elements, and <BR> is an inline element in WebKit (even if you mark it as display:block) unless you set content:"" to it

[16:33:22.0000] <Hixie>
anne: that link seems to only have you, brendan, and rick on record -- and rick is just asking a question. So, not sure what you're referring to.


2013-07-30
[19:37:32.0000] <zewt>
cool, apparently putting words in quotes no longer disables fuzzing with google

[19:37:55.0000] <zewt>
thanks for making it harder and harder to search for what i say to search for

[02:24:05.0000] <smaug____>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=22836 "Every tech concept/architecture should derived from single First Principle" ?

[02:24:07.0000] <smaug____>
huh

[02:24:09.0000] <smaug____>
this is the web

[02:24:22.0000] <smaug____>
no logic or such principles here

[02:25:43.0000] <smaug____>
(but would be ofc nice to have specs which address some particular problem )

[02:27:06.0000] <Ms2ger>
Pah, this isn't theoretical physics

[02:49:13.0000] <jgraham>
Ms2ger: Pointing to a merged PR and saying "don't do it like that" seems ironic given the 90-odd open PRs

[02:49:45.0000] <Ms2ger>
jgraham, all I'm saying is that I didn't want to review it :)

[02:49:57.0000] <Ms2ger>
jgraham, and feel free to review some of my open PRs :)

[02:50:09.0000] <jgraham>
Ms2ger: I will :)

[02:50:44.0000] <Ms2ger>
(I'd better pester you now, I know how busy the ateam is)

[02:50:54.0000] <jgraham>
But there are some advantages to larger PRs. It makes it easier to get an overview of what's covered, rather than doing it incrementally

[02:51:31.0000] <jgraham>
Of course they expose more of the inadequecies of the github ui

[02:53:12.0000] <Ms2ger>
Regardless of UI, review time scales non-linearly with patch size, in my experience

[02:54:20.0000] <jgraham>
Well if that's true here it seems like a purely psycological effect

[02:55:01.0000] <jgraham>
Having N tests as 1 patch compared to N tests as N patches doesn't change anything about the amount of review needed

[02:56:15.0000] <ondras>
hmh

[02:56:16.0000] <ondras>
https://bugzilla.mozilla.org/show_bug.cgi?id=897860

[02:56:19.0000] <ondras>
noone confirmed yet

[02:56:23.0000] <ondras>
strange

[02:56:56.0000] <jgraham>
OTOH for a patch to software, an N line change might well be less than half the amount of work of a 2N line change because there will be more interactions

[03:00:42.0000] <Ms2ger>
Yeah

[03:15:17.0000] <Ms2ger>
So is anybody going to implement HTTP2?

[04:02:42.0000] <tobie>
marcosc: you around?

[04:03:14.0000] <marcosc>
tobie: yessir

[04:04:34.0000] <tobie>
So FYI I'm in the process of streamlining the CLA for the main test repository to completely remove the requirements for signing the grant II form etc.

[04:05:09.0000] <Ms2ger>
Interesting

[04:05:12.0000] <marcosc>
tobie: that's great to hear

[04:05:18.0000] <tobie>
marcosc: in that process, the pull request becomes the contribution

[04:05:20.0000] <Ms2ger>
Were any lawyers hurt in the process?

[04:05:32.0000] <marcosc>
keep out of this Ms2ger, this is all for me!

[04:05:35.0000] <marcosc>
:)

[04:05:44.0000] <marcosc>
tobie: nice :)

[04:06:22.0000] <marcosc>
Lawrence Lessig will have to write a new book: "A PR is Law" :)

[04:06:25.0000] <tobie>
and thus you're automatically opting in to the CLA by opening a PR.

[04:06:37.0000] <tobie>
tuning the text here:

[04:07:35.0000] <tobie>
https://github.com/tobie/web-platform-tests/blob/a6754bd6dd9af54a2b9d352c78924ea443b7b70c/CONTRIBUTING.md

[04:08:26.0000] <tobie>
marcosc: I suggest you use the same process for the sysapps work

[04:08:35.0000] <marcosc>
tobie: without doing a PR, you have a small typo "You further agrees"

[04:08:52.0000] <marcosc>
tobie: I think that is good

[04:08:57.0000] <tobie>
yeah, fixed on the plane , haven't pushed my changes yet

[04:09:00.0000] <marcosc>
ok

[04:09:21.0000] <tobie>
Let me ping you once those are in the main repo.

[04:09:28.0000] <marcosc>
excellent

[04:09:32.0000] <marcosc>
thanks for the help!

[04:09:35.0000] <tobie>
np

[04:10:06.0000] <marcosc>
bbl

[04:11:55.0000] <tobie>
Ms2ger: never heard of the famous Swiss TV series "Tobie the Lawyer Slayer"?

[04:12:25.0000] <Ms2ger>
Excellent

[04:12:34.0000] <Ms2ger>
/me doesn't like W3C lawyers

[04:15:12.0000] <tobie>
Ms2ger: W3C lawyers or W3C members lawyers?

[04:15:23.0000] <Ms2ger>
The former

[04:15:50.0000] <tobie>
So that's something personal, then, I gather.

[04:17:14.0000] <Ms2ger>
Actually, probably both

[04:17:21.0000] <tobie>
:)

[04:19:29.0000] <Ms2ger>
/me would put them with the telephone cleaners

[06:01:14.0000] <zewt>
that sure is some feedbackiuuuiiija

[06:30:31.0000] <mynameis>
can I delete iframe border?

[06:58:11.0000] <mynameis>
how can I change width and height of iframe with javascript

[06:58:15.0000] <mynameis>
for some reason I cant :S

[07:33:45.0000] <tobie>
marcosc: https://github.com/w3c/web-platform-tests/pull/261

[07:34:35.0000] <marcosc>
thanks tobie, will take a look soon

[07:34:42.0000] <tobie>
np

[09:26:29.0000] <annevk>
http://9to5mac.com/2013/07/29/new-iphone-with-biometric-fingerprint-sensor-seemingly-confirmed-by-ios-leak/ <!DOCTYPE> lol

[09:51:54.0000] <jgraham>
Oh man

[09:52:06.0000] <jgraham>
https://github.com/w3c/web-platform-tests/pull/166

[09:52:57.0000] <jgraham>
Got merged, than Ms2ger made a comment, then the branch got updated, but now the GH UI doesn't show the new commit

[09:53:08.0000] <jgraham>
Also the branch history is a mess

[09:53:19.0000] <jgraham>
Why do people like GH so much?

[10:02:44.0000] <jgraham>
/me fixes

[10:06:29.0000] <TabAtkins>
'cause it's easy.

[10:50:07.0000] <Ms2ger>
jgraham, no idea

[10:54:01.0000] <jgraham>
TabAtkins: Sadly it's easy to do broken things and hard to do non-broken things

[12:28:40.0000] <jgraham>
So what happens if I pass window to an object that expects a Sequence<T>?

[12:28:50.0000] <jgraham>
s/object/interface/

[12:39:07.0000] <Ms2ger>
jgraham, I think you get a sequence of windows

[12:39:39.0000] <Ms2ger>
If it's sequence<DOMString>, you probably get ["[Object Window]", ...]

[12:39:40.0000] <Domenic_>
wouldn't it depend on whether there are elements with ids length, 0, 1, etc.?

[12:39:52.0000] <Ms2ger>
Domenic_, window == window.frames

[12:40:05.0000] <Domenic_>
Ms2ger: ah cool, thanks.

[12:40:38.0000] <Ms2ger>
It's one of the weird things that someone thought were a good idea in the Netscape era and stuck around

[12:40:51.0000] <Domenic_>
yeah, figured

[12:42:04.0000] <jgraham>
Ms2ger: OK, that makes sense

[12:42:41.0000] <jgraham>
Or at least I can see how that could happen. Not that I have wored it out from WebIDL yet :)

[12:42:46.0000] <jgraham>
*worked

[12:43:03.0000] <Ms2ger>
I thought the conversion to sequence wasn't too intricate?

[12:43:09.0000] <Ms2ger>
/me looks

[12:43:41.0000] <jgraham>
Oh, I see

[12:44:00.0000] <jgraham>
Right, I wasn't sure if the overload resolution algorithm disallowed it

[12:44:19.0000] <Ms2ger>
Ah

[12:44:45.0000] <Ms2ger>
If there's overloads, don't rely on me :)

[12:45:10.0000] <jgraham>
I should get heycam|away to review this test :)

[14:35:46.0000] <mynameis>
why I can't select element in iframe? I have this code http://pastie.org/8191347

[15:53:24.0000] <Hixie>
anyone understand http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org//2013-April/039357.html ?

[16:00:49.0000] <jgraham>
Hixie: I think they are asking for a way to generate something like {"field1":"value1", "field2":["value2", "value3"]} from <input name=field1><input name=field2><input name=field2>

[16:01:00.0000] <Hixie>
aah, ok

[16:01:57.0000] <Hixie>
actually, rereading it, i think they want templates

[16:03:23.0000] <jgraham>
Well I considered that, but it seems a bit less likely to me. I could well be wrong though; it is very unclear.

[16:04:43.0000] <jgraham>
It seems less likely because they talk about a single field with a list type

[16:04:45.0000] <gsnedders>
jgraham: I presume you don't mind me stealing the ihatexml name for a new package that does what ihatexml.py does?

[16:04:53.0000] <jgraham>
gsnedders: No

[16:04:57.0000] <jgraham>
I don;t

[16:05:46.0000] <Hixie>
jgraham: hm. i interpreted that as wanting a list of <input>s

[16:05:55.0000] <jgraham>
whereas a template would be multiple records each with scalar values

[16:06:29.0000] <jgraham>
I think they want a list of inputs to map onto a list of values

[16:06:42.0000] <jgraham>
But I think you need to ask

[16:07:26.0000] <jgraham>
(that is, a list of values for a single field)

[16:09:21.0000] <jgraham>
/me -> sleep

[16:09:51.0000] <Hixie>
jgraham: rafaelw's template thing allows for repeating templates


2013-07-31
[17:51:42.0000] <mynameis>
are meta and other elements that are put in the head standardized, I mean about their attribute values?

[18:13:39.0000] <heycam>
Hixie, ping

[19:06:33.0000] <mynameis>
I found a bug

[19:12:33.0000] <mynameis>
ah it isnt bug

[06:54:45.0000] <cshu>
hi, can anyone show me how to add a new proposal to whatwg? i have the account already but didn't find a way to add a new page. thank you

[07:26:29.0000] <GPHemsley>
cshu: To add a new page, you basically have to type the desired name into the search box and then click the red link that shows up on the search results page.

[07:26:47.0000] <GPHemsley>
(Not the most intuitive thing, I admit.)

[07:27:12.0000] <GPHemsley>
I think the idea is that all pages should be linked from other pages, so new pages are supposed to be created from red links on existing pages

[07:27:23.0000] <GPHemsley>
but I don't know that the WHATWG wiki has to necessarily work that way

[07:46:08.0000] <Hixie>
cshu: to add a proporasl, you e-mail the list. the wiki isn't for proposals.

[07:46:12.0000] <Hixie>
heycam|away: pong

[07:51:35.0000] <cshu>
Hixie, thanks, i will send the text to whatwg⊙wo

[07:54:11.0000] <Hixie>
cshu: thanks

[08:03:28.0000] <t3oss>
which user agents use document outline? crawlers and user agents for people with special needs?

[08:07:47.0000] <annevk>
Hixie: got a bunch of developer feedback now; some prefer ISO8601!

[08:08:26.0000] <t3oss>
I also don't understand which user agents read difference between different html5 elements, graphical web browsers don't make difference between most of the elements and render them in the same way, like article and section for example

[08:09:07.0000] <annevk>
Hixie: in general number seems to be favored, as non-mutable, JSON-compatible, representation of a timestamp

[08:09:31.0000] <annevk>
Hixie: people didn't care about having to do Date(obj.startTime) to get the representation benefits

[08:09:55.0000] <annevk>
Hixie: https://twitter.com/annevk/status/362017983461212160

[09:33:31.0000] <Domenic_>
Is there an IRC channel corresponding to public-webapps?

[09:33:54.0000] <Ms2ger>
This :)

[09:34:02.0000] <Ms2ger>
Or irc.w3.org/webapps

[09:36:09.0000] <Domenic_>
heh it's pretty empty over there

[09:36:28.0000] <Ms2ger>
Only 42 people ;)

[09:38:48.0000] <annevk>
Domenic_: I think generally this channel is used for most things, except CSS, which is in irc-.w3.org/css, although I'm not sure they discuss it there much

[09:39:07.0000] <Ms2ger>
They don't

[09:43:44.0000] <annevk>
Ms2ger, time to do https://bugzilla.mozilla.org/show_bug.cgi?id=899585 (write an email)?

[09:43:49.0000] <annevk>
/me has some other stuff to finish first

[09:44:47.0000] <Ms2ger>
annevk, something about notifications?

[09:44:58.0000] <Ms2ger>
I can send the email if someone writes it ;)

[09:45:13.0000] <annevk>
Ms2ger: I didn't ask about sending :p

[09:46:26.0000] <Ms2ger>
/me doesn't really feel like figuring out a spec to suggest someone else's feature request

[09:57:58.0000] <SimonSapin>
CSS discussion happens on the www-style⊙wo mailing list, mostly we only use IRC during meetings

[10:01:03.0000] <TabAtkins>
And when discussing meta things.

[10:27:35.0000] <TabAtkins>
annevk: Yo, in the context of .then() "moving its callbacks down", that doesn't actually invoke the .then of the new promise, right?  It's just an internal operation, shuffling callbacks around in the lists of different promises?

[10:28:22.0000] <annevk>
TabAtkins: I copied that text from you.

[10:28:38.0000] <annevk>
TabAtkins: Having said that, if you want to support thenables, you'll need to actually invoke the then method.

[10:28:48.0000] <TabAtkins>
Hrm, you're right.

[10:30:02.0000] <annevk>
But yeah, flushing this out in terms of actual operations would help :-)

[10:36:45.0000] <Hixie>
annevk: Date has an API to go to ISO8601, so that argues for Date. So far, of those responses, I count ~8 for Date and ~5 for number; however, most of the arguments for number seem to be confused (e.g. "timezone clarity"?)

[10:37:04.0000] <Hixie>
annevk: also note that Date does support JSON

[10:37:12.0000] <Hixie>
annevk: in fact it supports it better than number, for a date

[10:38:00.0000] <Domenic_>
dates are not freezable though

[10:38:24.0000] <Hixie>
what does "freezable" mean?

[10:39:34.0000] <annevk>
Hixie: I think the argument that wins is that Date objects are mutable and a number is not

[10:39:46.0000] <Domenic_>
input.valueAsDate.setTime(1234) // why is the <input> not updating!?

[10:39:55.0000] <annevk>
Hixie: combined with how easy it is to get a Date out of a number

[10:39:55.0000] <Hixie>
annevk: i think the argument that wins is that Date is better in multiple ways than number.

[10:40:52.0000] <annevk>
Hixie: I wouldn't say that, Date has pretty serious design flaws

[10:40:53.0000] <Hixie>
annevk: combined with how easy it is to get a number out of a Date

[10:41:04.0000] <Hixie>
annevk: so does number

[10:41:15.0000] <annevk>
Hixie: number doesn't really no mutable global state

[10:41:20.0000] <annevk>
rely*

[10:41:35.0000] <Hixie>
Date doesn't rely on mutable global state either?

[10:41:40.0000] <annevk>
yes it does, the timezone

[10:41:41.0000] <TabAtkins>
It sure does!

[10:41:51.0000] <Hixie>
what?

[10:41:54.0000] <Hixie>
it doesn't rely on the time zone

[10:41:58.0000] <Domenic_>
yes it does

[10:42:15.0000] <Hixie>
it has an API to convert the time to the local time zone, but that's a benefit of using Date, not a negative of using Date

[10:42:20.0000] <Hixie>
it's not a dependency

[10:45:21.0000] <annevk>
how can it not be a dependency if you have to support those methods?

[10:47:03.0000] <Hixie>
hm?

[10:47:05.0000] <Hixie>
you have to support them anyway

[10:47:10.0000] <Hixie>
what's that got to do with anything

[10:47:16.0000] <Hixie>
i'm very confused by your arguments here

[10:47:28.0000] <Hixie>
looking at the use cases, it's clear that Date handles more of them than number

[10:47:37.0000] <Hixie>
nobody is saying that either Date nor number is perfect.

[10:47:40.0000] <Hixie>
they both have issues.

[10:47:48.0000] <Hixie>
so we pick the one that is closest to the use cases.

[10:47:53.0000] <Hixie>
that's what we always do

[10:47:58.0000] <Hixie>
i don't understand what's special about this case.

[10:48:38.0000] <annevk>
I think what's special is that we don't have precedent for exposing timestamps as Date objects

[10:49:00.0000] <annevk>
and that the both the editor of the JavaScript spec as well as its inventor have spoken out against it

[10:49:32.0000] <Hixie>
that's an appeal from authority.

[10:49:40.0000] <Hixie>
and an appeal from antecedant.

[10:49:47.0000] <Hixie>
both of which are bogus.

[10:50:06.0000] <annevk>
well they gave reasons and you refuse to go into that debate

[10:50:18.0000] <Hixie>
what are you talking about, i gave a huge response in the bug

[10:50:27.0000] <annevk>
but they're not in the bug :)

[10:50:44.0000] <Hixie>
well if they don't care enough to bring it up in the appropriate forum, what does that tell you about how important this is?

[10:51:32.0000] <Hixie>
it's not like brendan isn't able to e-mail me, we chat regularly :-)

[10:51:40.0000] <annevk>
I'm not sure that that bug is the right forum for setting new precedents with respect to timestamp and Date

[10:52:09.0000] <Hixie>
it was originally discussed on the whatwg list years ago

[10:52:19.0000] <Hixie>
so i think we're safe on that front too

[10:54:08.0000] <annevk>
Again, the question is larger than this individual feature and it's not like we got many favorable reviews on WHATWG-driven API design.

[10:55:05.0000] <Hixie>
o_O

[11:01:44.0000] <Hixie>
anyway, we do have precedent. valueAsDate has shipped.

[11:02:17.0000] <Hixie>
(what we could do is change startDate to getStartDate(), fwiw, since that hasn't shipped)

[11:06:57.0000] <annevk>
I think some at Mozilla believe we can still change valueAsDate. But I guess I'll let someone else battle this since it's too draining.

[11:07:29.0000] <Hixie>
it shouldn't be a "battle"

[11:07:45.0000] <Hixie>
it's just a matter of examining the pros and cons

[11:08:09.0000] <Hixie>
/me really doesn't care one way or the other

[11:08:28.0000] <Hixie>
i just want to make sure we're making the right choice, and in this case, that seems, based on all the data, to be returning Date objects.

[11:09:50.0000] <jgraham>
To be fair, TC39 doesn't exactly have a track record of wonderful api design either

[11:10:35.0000] <Hixie>
we all have a fantastic track record of api design compared to webgl, and they were constrained by opengl.

[11:12:01.0000] <Hixie>
rafaelw: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=22400

[11:26:05.0000] <zewt>
(many of webgl's problems are just bad design decisions, creating an API which is merely bindings of a C API instead of a native API--it does have problems caused by opengl implementations too, though)

[12:30:41.0000] <Hixie>
anyone got an AAA visualiser or anything?

[12:33:30.0000] <Hixie>
how has nobody made a youtube video explaining this algorithm

[12:33:38.0000] <Hixie>
people make youtube videos explaining everything!

[12:33:53.0000] <TabAtkins>
Because it's boring and niche?

[12:34:04.0000] <TabAtkins>
To like, everyone, unlike all the other niches in the world.

[12:35:07.0000] <miketaylr>
TabAtkins

[12:35:19.0000] <jgraham>
Hixie: MITM TabAtkins' network connection to that he thinks it's a Project Euler problem

[12:35:21.0000] <TabAtkins>
miketaylr:

[12:35:27.0000] <TabAtkins>
jgraham: That'd work.

[12:35:31.0000] <jgraham>
We'll have one by the end of the day

[12:35:37.0000] <Hixie>
heh

[12:35:55.0000] <TabAtkins>
By the way, I finally found the bug in my bigint class that was making factorize() infinite-loop, so I've started working on my rational class.  Fun!

[12:36:01.0000] <miketaylr>
(oops, stray fingers)

[13:34:03.0000] <jgraham>
Does WebIDL really require that (optional SomeDictionaryType foo) arguments will throw when foo is missing?

[13:34:20.0000] <jgraham>
s/missing/explicitly undefined/

[13:34:30.0000] <jgraham>
Important distinction there

[13:34:46.0000] <jgraham>
(don't think it is specific to dictionaries)

[13:37:50.0000] <Hixie>
you can't have an optional argument if it's a dictionary, iirc

[13:38:21.0000] <Hixie>
or is it that it can't be nullable?

[13:38:23.0000] <Hixie>
i forget.

[13:38:34.0000] <Hixie>
there's something special about dictionaries, though...

[13:39:24.0000] <Hixie>
oh i see, it _must_ be optional

[13:39:48.0000] <jgraham>
Right, if you don't pass anything it works

[13:39:59.0000] <matjas>
Hixie: typo: “followed by aone of […]”

[13:40:14.0000] <matjas>
(re: http://html5.org/r/8109)

[13:40:27.0000] <jgraham>
But passing undefined should throw TypeError

[13:40:35.0000] <Hixie>
matjas: thanks, fixed

[13:40:35.0000] <jgraham>
"1. If Type(V) is not Object, then throw a TypeError."

[13:40:50.0000] <jgraham>
Unless I missed something somewhere

[13:41:21.0000] <jgraham>
Seems silly to me

[13:51:25.0000] <jsbell>
jgraham: Yeah, may be a missed case in the "treat undefined the same as not-passed" changes heycam was doing...

[13:52:17.0000] <jsbell>
Although those may not have made it in yet anyway...

[13:54:26.0000] <jsbell>
jgraham: ah, it's there in the ED: "If Type(V) is not Undefined, Null or Object, then throw a TypeError."

[13:57:35.0000] <jgraham>
Oh ffs, I ended up on /TR/

[13:57:54.0000] <jgraham>
/me is ashamed

[13:58:10.0000] <Hixie>
hah

[13:58:12.0000] <jgraham>
jsbell: Thanks

[13:58:18.0000] <Hixie>
/me still does that sometimes too

[13:58:49.0000] <Hixie>
so annoying when you realise that what you're reading is known to be wrong and, worse, already fixed elsewhere

[13:58:56.0000] <Hixie>
with no warning or anything

[13:59:30.0000] <jgraham>
Yeah, seriously

[13:59:50.0000] <jgraham>
Maybe I should write an extension that autoredirects

[14:09:32.0000] <Hixie>
can anyone figure out a way to get a non-HTML node involved in the AAA?

[14:09:39.0000] <Hixie>
specifically, cloned by the AAA

[15:07:17.0000] <gsnedders>
Hixie: I don't think there is one? (At least before all your recent changes.)

[15:49:40.0000] <Hixie>
gsnedders: well my recent changes explicitly say that the AAA can only create HTML nodes, so i'm just hoping that doesn't mean we'll be cloning SVG nodes into HTML nodes or some such nonsense :-)

[16:02:34.0000] <heycam>
Hixie, was pinging yesterday about the incumbent script thing, but I replied on the bug

[16:04:17.0000] <Hixie>
cool, thanks

[16:04:20.0000] <Hixie>
/me looks

[16:05:39.0000] <Hixie>
heycam: looks good at first glance. can't concentrate on it right now, but will try to do this soon. thanks!

[16:05:55.0000] <heycam>
Hixie, cool

[16:06:37.0000] <gsnedders>
Hixie: Have you stopped changing the parser yet? P

[16:06:40.0000] <gsnedders>
* :P

[16:09:22.0000] <Hixie>
gsnedders: one more e-mail, i think, and then some template stuff (https://www.w3.org/Bugs/Public/show_bug.cgi?id=22400 in particular, but i need rafaelw's input)

[16:47:14.0000] <GPHemsley>
Is there an easy way to get a <dt> and its associated <dd>(s) to have their tops be at the same level?

[16:47:29.0000] <GPHemsley>
well, I guess just the first <dd>

[16:48:00.0000] <GPHemsley>
/me thinks this will wind up being a silly question where he overlooked something obvious

[16:48:14.0000] <TabAtkins>
No, there isn't.  The "best" way currently is to float the <dt>.

[16:48:26.0000] <GPHemsley>
oh, really?

[16:48:28.0000] <TabAtkins>
This is one of the canonical use-cases for display:run-in, but we couldn't figure out how to define it sanely.

[16:48:34.0000] <GPHemsley>
ah

[16:49:05.0000] <TabAtkins>
fantasai has a definition she cooked up a while back that looks pretty sane, but I haven't had time to focus on the Display spec much lately.

[16:49:09.0000] <t3oss>
I must leave at least one epmty space after DOCTYPE?

[16:49:23.0000] <GPHemsley>
TabAtkins: so what do I do about the fact that the text in the <dt> isn't aligned with the text of the <dd>? anything?

[16:49:35.0000] <TabAtkins>
Nope, nothing you can do.

[16:49:42.0000] <GPHemsley>
darn, ok

[16:49:43.0000] <TabAtkins>
Besides fiddle with it.

[16:49:46.0000] <GPHemsley>
thanks

[16:51:33.0000] <GPHemsley>
TabAtkins: I know I've said this before, but I can't get over how much I really like the work that you and fantasai and the rest of the CSSWG are doing.

[16:51:39.0000] <TabAtkins>
^_^

[16:51:47.0000] <GPHemsley>
I think I just like modular stuff >_>

[16:52:17.0000] <GPHemsley>
also, progress

[16:53:05.0000] <TabAtkins>
Everyone likes that.

[16:53:39.0000] <GPHemsley>
now if only the browsers would work as fast in implementing the stuff...

[16:56:42.0000] <GPHemsley>
"IE11 supports the latest standards for closed captioning (TTML and SDP)"

[16:56:59.0000] <GPHemsley>
poor WebVTT :(

[16:57:00.0000] <TabAtkins>
...

[16:57:33.0000] <TabAtkins>
Unrelated: I can't express how much I love Python's for/else clause.  I want this *constantly* in JS. ;_;

