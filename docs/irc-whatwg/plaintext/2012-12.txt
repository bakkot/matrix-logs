2012-12-01
[16:03:39.0000] <jwalden>
/me wonders what exactly http://w3cmemes.tumblr.com/post/36895847700 is referring to

[16:04:15.0000] <TabAtkins>
jwalden: HTMLWG has two very private lists, where all the decisions about what actually gets merged into the spec appear to take place.

[16:05:44.0000] <jwalden>
so it's a gripe about those decisions not being in the open, or something?

[16:05:54.0000] <TabAtkins>
Yes.

[16:06:07.0000] <TabAtkins>
And not even being member-private, but team-private.

[16:06:26.0000] <Hixie>
it's more just an observation of how charters at the w3c are meaningless and only observed when it's convenient (the top line is a quote from the charter)

[16:07:10.0000] <jwalden>
:-)

[16:07:21.0000] <jwalden>
given the choice to laugh or cry, I laugh

[16:08:20.0000] <Hixie>
it's also implicitly a rebuke to those who say the whatwg is opaque and the w3c is more transparent :-)

[16:11:17.0000] <TabAtkins>
annevk: Someone in es-discuss suggests push() instead of append(), since the functionality parallels what push() does in arrays.

[16:12:15.0000] <Hixie>
can anyone prove that submit() does something synchronously?

[16:12:49.0000] <TabAtkins>
annevk: Also, it was pointed out that ES6's spread operator makes setAll()/appendAll() superfluous, as we can instead just make then n-ary and then spread will take care of when you've got an array of values to use.

[16:13:27.0000] <Hixie>
i guess just the navigation could be async

[16:13:32.0000] <TabAtkins>
That is, "u.set('foo', 1, 2, 3)" or "u.set('foo', ...[1,2,3])", so no need for "u.setAll('foo', [1,2,3])".

[16:14:28.0000] <zewt>
"...[1,2,3]"? they couldn't just steal python's *syntax instead of making up something new (if that's what it looks like)?

[16:14:40.0000] <Hixie>
ok i could tell if that's the case because if the nav was sync, then onbeforeunload would be called before submit() returns

[16:14:44.0000] <Hixie>
ok

[16:14:50.0000] <Hixie>
that's easy to test

[16:15:18.0000] <TabAtkins>
zewt: Pretty sure that syntax is stolen from another language, actually.

[16:15:24.0000] <TabAtkins>
(Python's is kinda dumb.)

[16:15:42.0000] <zewt>
not any language I know (and I know a decent number)

[16:16:51.0000] <Hixie>
aHA! it is async in chrome and sync in firefox

[16:16:57.0000] <Hixie>
and of course beforeunload doesn't fire in opera

[16:17:03.0000] <Hixie>
because WHY WOULD WE NEED TO BE INTEROPERABLE

[16:17:06.0000] <Hixie>
that would be too easy

[16:17:35.0000] <Hixie>
anyone got IE handy?

[16:17:49.0000] <Hixie>
for the tie breaker?

[16:18:25.0000] <zewt>
ie9

[16:18:34.0000] <Hixie>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1946

[16:18:40.0000] <Hixie>
what are the three events in the log

[16:18:44.0000] <Hixie>
after you click teh button

[16:19:37.0000] <zewt>
log: event "click" using interface "[object MouseEvent]" targetted at <INPUT>; bubbles; cancelable

[16:19:40.0000] <zewt>
log: event "beforeunload" using interface "[object BeforeUnloadEvent]" targetted at "[object Window]"; cancelable

[16:19:43.0000] <zewt>
log: event "click" using interface "[object MouseEvent]" targetted at <INPUT>; bubbles; cancelable

[16:19:47.0000] <Hixie>
cool, thanks

[16:19:51.0000] <Hixie>
ok, mozilla, you win this round

[16:20:08.0000] <zewt>
synchronous events :|

[16:20:41.0000] <Hixie>
this was just setting the stage for the real question, which is what happens when you submit the form from onbeforeunload

[16:20:53.0000] <Hixie>
if they were async that would be conveniently much easier

[16:21:05.0000] <Hixie>
but apparently easy isn't on the cards for today

[16:22:06.0000] <Hixie>
firefox apparently doesn't submit the form!

[16:22:41.0000] <Hixie>
zewt: if you're bored, see what IE does on http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1947 (but don't worry if you can't be bothered or are busy or whatever)

[16:23:22.0000] <Hixie>
looks like firefox stops all reentrant navigations during onbeforeunload

[16:23:24.0000] <Hixie>
interesting

[16:23:52.0000] <zewt>
log: event "click" using interface "[object MouseEvent]" targetted at <INPUT>; bubbles; cancelable

[16:23:55.0000] <zewt>
log: event "beforeunload" using interface "[object BeforeUnloadEvent]" targetted at "[object Window]"; cancelable

[16:23:58.0000] <zewt>
log: event "beforeunload" using interface "[object BeforeUnloadEvent]" targetted at "[object Window]"; cancelable

[16:24:01.0000] <zewt>
log: event "click" using interface "[object MouseEvent]" targetted at <INPUT>; bubbles; cancelable

[16:24:04.0000] <zewt>
o/~ spam o/~

[16:24:10.0000] <Hixie>
and the rendered view points to what?

[16:24:35.0000] <Hixie>
nested live dom viewer, software.hixie.ch home page, other?

[16:24:50.0000] <zewt>
nested

[16:24:57.0000] <Hixie>
wow, interop

[16:24:59.0000] <Hixie>
sweet, thanks

[16:25:31.0000] <Hixie>
zewt: just for completeness, same result for http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1948 ?

[16:25:39.0000] <Hixie>
(changing the form to a location setter)

[16:26:21.0000] <zewt>
yeah

[16:26:33.0000] <Hixie>
awesome

[16:28:19.0000] <zewt>
location.reload too?

[16:28:52.0000] <Hixie>
sure, if you want

[16:29:27.0000] <zewt>
up to you, just checking

[16:29:28.0000] <Hixie>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1949 should be it

[16:30:45.0000] <zewt>
that one lands back on the original view, and logs 6 events (click, beforeunload, beforeunload, click, beforeunload, beforeunload)

[16:31:02.0000] <Hixie>
different than gecko

[16:31:05.0000] <Hixie>
interesting

[16:35:07.0000] <Hixie>
interesting, gecko even kills navs in onbeforeunload for history.back()

[16:35:20.0000] <Hixie>
(not gonna ask you to test that cos it's a pain to set up)

[16:35:49.0000] <Hixie>
wait that wasn't firefox, duh

[16:36:02.0000] <Hixie>
twisty maze of browsers, all alike

[16:36:29.0000] <Hixie>
same result, ok

[23:46:40.0000] <jordanbtucker>
hi everyone

[23:47:46.0000] <jordanbtucker>
I've got a question about adjusting foreign attributes for a token at tree-construction.html#adjust-foreign-attributes

[23:49:49.0000] <jordanbtucker>
at tokenization.html#tokenization the spec says that tag tokens have attributes and those attribute have a name and a value

[23:50:05.0000] <jordanbtucker>
it doesn't say anything about those attributes having namespaces

[23:50:52.0000] <jordanbtucker>
but at tree-construction.html#adjust-foreign-attributes the spec says that the token attributes should be made namespaced attributes

[23:51:58.0000] <jordanbtucker>
i assume this means that the attributes added to the element that will be created from the token should be namespaced

[23:54:41.0000] <jordanbtucker>
but then introduction.html#html-vs-xhtml says that namespaces cannot be represented by the HTML syntax, but the DOM can represent them

[23:56:00.0000] <jordanbtucker>
in my head, this is a disconnect: the HTML syntax can't represent namespaces, yet parsed attributes are created as namespaces attribute in the DOM by the HTML parser

[23:57:04.0000] <jordanbtucker>
*namespaced attributes

[00:10:55.0000] <SimonSapin>
jordanbtucker: yes. This is just like element names. <p> ends up with a XHTML namespace, <svg> with a SVG namespace, but neither namespace is represented in syntax

[00:16:42.0000] <jordanbtucker>
thanks. i understand that better now. i just didn't get it the first few times i read it

[01:38:37.0000] <annevk>
hmm url.query = url2.query; should happen?

[01:39:20.0000] <annevk>
I guess either it should magically clone url2.query on assignment or ignore assignment or throw

[02:02:03.0000] <annevk>
TabAtkins: it's not called push() because of FormData http://xhr.spec.whatwg.org/#formdata (and we use append() in e.g. the DOM as well to mean the same thing)

[02:02:26.0000] <annevk>
TabAtkins: but yeah, you can argue this one either way :/

[02:03:29.0000] <annevk>
TabAtkins: arity works, with appending behavior for set if there's more values given than values on the object for the given name?

[02:31:03.0000] <Ms2ger>
"341 e-mails remaining", lowest since April 2010

[02:38:44.0000] <jgraham>
Hixie: Sorry, I was not

[02:49:22.0000] <annevk>
Ms2ger: do you know what the "behind" thing means?

[02:50:54.0000] <annevk>
So I guess given the bug Hixie pointed yesterday "query state" will actually need to do buffering before percent encoding because otherwise legacy encodings will go wrong

[02:51:13.0000] <annevk>
legacy encodings, fuck you

[02:51:21.0000] <Ms2ger>
     var expected = -(start/(runwayEnd-runwayStart))*(runwayNow-runwayStart)+start;

[02:51:21.0000] <Ms2ger>
     var delta = (expected - actual).toFixed(0);

[02:51:21.0000] <Ms2ger>
     if (delta > 0)

[02:51:21.0000] <Ms2ger>
       return delta /*+ s*/ + ' ahead';

[02:51:21.0000] <Ms2ger>
     else

[02:51:22.0000] <Ms2ger>
       return -delta /*+ s*/ + ' behind';

[02:51:50.0000] <Ms2ger>
Mm

[02:52:16.0000] <Ms2ger>
Looks like he wants to get to zero by the start of the new year

[02:52:51.0000] <annevk>
no Christmas for Hixie then? :p

[02:53:26.0000] <Ms2ger>
He'll just act like everyone is celebrating his birthday early :)

[03:37:31.0000] <MikeSmith>
TabAtkins: created bugzilla component for CSS Display

[03:37:33.0000] <MikeSmith>
https://www.w3.org/Bugs/Public/buglist.cgi?product=CSS&component=Display&list_id=2660

[03:37:39.0000] <MikeSmith>
sorry for the delay

[03:40:05.0000] <MikeSmith>
hey conformance-checking fans: I integrated support into the validator for allowing you to filter out any error/warning/info messages you don't want to see

[03:40:09.0000] <MikeSmith>
http://qa-dev.w3.org:8888/

[03:40:18.0000] <MikeSmith>
please try it and let me know if you find any problems

[03:40:29.0000] <MikeSmith>
this is based on Keegan Street's code

[03:41:38.0000] <MikeSmith>
though I rewrote quite a lot of it due to it relying on JQuery

[03:43:18.0000] <MikeSmith>
since it didn't seem prudent to add a JQuery dependency when it adds more than the current combined size of the whole JS + HTML + CSS for the existing UI

[03:45:39.0000] <annevk>
MikeSmith: do you think we can remove the status column on http://wiki.whatwg.org/wiki/MetaExtensions ?

[03:45:55.0000] <MikeSmith>
annevk: saw you comment about that

[03:45:59.0000] <MikeSmith>
lemme look

[03:46:31.0000] <MikeSmith>
hmm yeah

[03:46:34.0000] <MikeSmith>
you're right

[03:46:44.0000] <MikeSmith>
it's not needed by anybody

[03:46:58.0000] <MikeSmith>
given the way the page is already organized

[03:47:02.0000] <tantek>
/me takes a look at http://wiki.whatwg.org/wiki/MetaExtensions

[03:47:03.0000] <tantek>
yikes

[03:47:17.0000] <annevk>
MikeSmith: would it break the scripts from validator.nu?

[03:47:43.0000] <MikeSmith>
annevk: no because we are not parsing that page and extracting anything from it

[03:47:47.0000] <MikeSmith>
we just eyeball it

[03:48:21.0000] <MikeSmith>
the supported values are hardcoded

[03:48:28.0000] <MikeSmith>
enumerated

[03:48:52.0000] <MikeSmith>
we add new ones manually to the source when needed

[03:49:07.0000] <annevk>
oh

[03:50:39.0000] <annevk>
hmm I guess I won't change it for now and let Hixie sort it out

[03:51:01.0000] <annevk>
the "status" thing is a concept HTML defines, although it's inconsistent with that page

[07:23:05.0000] <annevk>
http://tools.ietf.org/html/draft-ietf-httpbis-http2-00#section-3.2.1 if you're going to include scheme/host/port/path, why not just pass a URL?

[07:23:30.0000] <Ms2ger>
Because there are no URLs, only IRIs

[07:28:31.0000] <annevk>
they do reference some obsoleted URL RFC though

[07:28:52.0000] <annevk>
maybe not enough IETF party line rewrite yet

[13:20:27.0000] <SimonSapin>
Is there a way not to get so many captchas when editing wiki.whatwg.org?

[13:30:21.0000] <Hixie>
i never get captchas... dunno

[13:30:23.0000] <Hixie>
GPHemsley?

[13:34:02.0000] <Hixie>
nessy: yt?

[13:38:48.0000] <GPHemsley>
SimonSapin: Wait a few days. :)

[13:39:01.0000] <SimonSapin>
GPHemsley: ok, thanks

[14:13:41.0000] <SimonSapin>
oh great … the grammars in HTTP implicitly allow white space … sometimes


2012-12-02
[16:45:20.0000] <Hixie>
heycam|away: any progress on https://www.w3.org/Bugs/Public/show_bug.cgi?id=17201 ?

[18:36:28.0000] <zewt>
youtube is a case study in the fact that a company will intentionally utterly cripple a video streaming service to save money

[18:36:41.0000] <zewt>
been worthless for like a year or more now

[18:47:47.0000] <tantek>
youtube seemed to work fine for streaming the recent US presidential debates, just one example, but still, didn't expect it to work as well as it did and be such high quality (HD over DSL).

[18:51:23.0000] <zewt>
it's a case study in once a company has an effective monopoly, not giving a shit about user experience

[18:56:10.0000] <zewt>
this 3-minute video i'm trying to watch is 12 MB, which my connection can download in about 4 seconds, yet youtube's player refuses to buffer more than ~50 seconds into the future, and it end up falling on its ass and underrunning halfway through the video

[18:58:36.0000] <zewt>
seems like they just destroy tcp window sizing, once it clamps the buffer size it never recovers

[18:59:56.0000] <Hixie>
url?

[19:00:12.0000] <zewt>
every youtube video, heh

[19:00:17.0000] <zewt>
(both html5 and flash)

[19:00:31.0000] <Hixie>
the 12MB one

[19:01:40.0000] <zewt>
not sure since i closed it already, some thelonelyisland one i think heh

[19:02:08.0000] <zewt>
the basic case seems to be "youtube wants to throttle bandwidth usage, and if no smooth mechanisms exist to do it they're willing to use bad mechanisms instead"

[19:02:16.0000] <Hixie>
when you have one you know is small and you want me to look into it, give me a url :-)

[19:02:37.0000] <zewt>
(youtube used to allow buffering whole videos; now once it buffers some amount into the future it stops buffering, which doesn't actually work)

[19:33:45.0000] <tantek>
oh *that* problem. yeah I've seen the problem zewt is talking about as well.

[19:34:04.0000] <tantek>
happens with either Flash *or* "HTML5" video

[19:35:00.0000] <tantek>
I've developed this habit of, start Youtube video, immediately hit pause to let it buffer for a while, and then when I remember to get back to it, start playing it. So yeah, something broke for slow(er) connections in the past few months. I don't watch much video on YouTube so I haven't bothered reporting it.

[19:35:26.0000] <tantek>
I can try a few videos (movie trailers are a good test case) when I get back to a DSL connection and provide URLs then.

[02:10:14.0000] <annevk>
jamesr: indeed (re public-webapps) TR/ of Fetch doesn't define referrer source either

[02:16:57.0000] <SimonSapin>
annevk: is it ok to steal the whatwg stylesheet for http://simonsapin.github.com/data-urls/ ?

[02:21:50.0000] <annevk>
SimonSapin: I certainly used it myself without asking for all kinds of things

[02:23:48.0000] <annevk>
Hixie: "Browsers won't let you nest iframes that point to ancestors." The only interesting case here might be paths that differ only in percent escaping; e.g. %41 vs A or %7F vs %7f

[02:26:39.0000] <annevk>
Oh, in WebKit DocumentFragment insertion is still not atomic? https://bugs.webkit.org/show_bug.cgi?id=91460

[02:28:22.0000] <SimonSapin>
Looks much better: http://simonsapin.github.com/data-urls/

[02:28:24.0000] <SimonSapin>
and has the appropriate amount of red

[02:34:58.0000] <annevk>
nice

[07:12:21.0000] <zewt>
In the proposed version, I've changed the links to the following specs: - [CORS], [DOM], [DOMPS], [HTML] from the WHATWG version to the latest W3C TR doc. - [FILEAPI], [PROGRESSEVENTS], [WEBIDL] from the latest W3C ED to the latest W3C TR doc.

[07:12:33.0000] <zewt>
^ don't know who this guy is, but the above tells me he should never ever be editing specs

[07:14:17.0000] <zewt>
don't even know why i'm glancing at these threads, heh

[07:14:37.0000] <zewt>
guess it's the car crash principle

[07:30:16.0000] <Ms2ger>
zewt, to be fair, it's apparently plh's fault

[10:38:19.0000] <manu1>
/me wonders if there is a canonical form for HTML5? Something like Exclusive XML Canonicalization Version 1.0?

[10:42:59.0000] <tantek>
manu1 - there's the output of the parsing algorithm

[10:44:09.0000] <Philip`>
manu1: You could use the HTML fragment serialization algorithm with some extra constraint on the ordering of attributes, if you want a string representation and don't care about not being able to represent all possible (or even all conforming) DOMs, I guess

[10:44:23.0000] <Hixie>
annevk: yeah in the diff i mention that this is post-url-parsing/resolution so hopefully that matches what browsers do (in particular, you canonicalise the case of the scheme and host tokens, right?)

[10:44:26.0000] <manu1>
tantek: If two different implementations implement the parsing algorithm correctly, and serialize the result of the parsing algorithm to a string, are both strings guaranteed to be equivalent? (for example, if you wanted to create a digital signature of a serialized HTML5 string, could you do it via two different implementations of the HTML5 spec)?

[10:44:41.0000] <Hixie>
Philip`: just use xml c14n and xhtml

[10:46:47.0000] <manu1>
Hixie, Philip`, tantek: This is for the HTMLLiteral stuff that the RDF WG just created - they want a native RDF datatype for HTML Literals (as opposed to XML Literals)... and I'm trying to figure out if there is a way of deterministically generating a string that expresses such a thing (like there is for XML C14N)

[10:47:14.0000] <Hixie>
ain't no such thing as an html fragment, so...

[10:47:29.0000] <manu1>
It would be fine to say that there is no canonical form for an HTMLLiteral... but some of the more pedantic people would be upset by that, I imagine.

[10:47:39.0000] <Hixie>
there's no form at all, let alone canonical

[10:47:49.0000] <Hixie>
so the pedantic people would be already having all kinds of trouble

[10:48:07.0000] <manu1>
right, that's the conclusion I came to from reading various parts of the HTML5 spec.

[10:49:11.0000] <manu1>
k, thx Hixie, tantek, Philip` - I'll try to do something sane that doesn't cause the RDF WG to flip out.

[10:49:21.0000] <Hixie>
(for example, there's no way to even know what namespace a fragment like "<a/>x" should result in, or whether it should be an element node with a child text node or a sibling text node)

[10:49:25.0000] <tantek>
I don't know Hixie, the HTML5 spec is quite detailed, something I think pedantic people would very much appreciate. ;)

[11:02:09.0000] <zewt>
bleh, how is it that there are no numeric comparison operators in CSS selectors

[11:08:04.0000] <tantek>
like :nth-child ?

[11:08:06.0000] <tantek>
(an+b) and all that

[11:08:14.0000] <tantek>
what's the use case you're trying to solve?

[11:08:32.0000] <zewt>
<html data-foo=10> html[data-foo>5]

[11:08:40.0000] <Philip`>
/me wants to be able to select all prime-numbered paragraphs

[11:08:51.0000] <zewt>
(where it's actually something like the window size, etc)

[11:14:08.0000] <zewt>
i end up having to precompute all of the comparisons, which works but is pretty lame

[11:35:44.0000] <tantek>
indeed, I want to do similar things with attributes for values for things like styling barcharts

[11:36:39.0000] <tantek>
I think the answer to your original questions about (lack of existence) is, 1. there hasn't been well documented use cases (a few lines on IRC is a good start, but a wiki page would be nicer), and 2. we haven't figured out a good way to do so in CSS selector syntax.

[11:36:59.0000] <tantek>
I think if you work on *either* of those, you would increase the chances of such CSS selectors being created

[11:37:38.0000] <tantek>
as I think there would be others (myself included) interested in helping such a proposal along in CSSWG. I can see TabAtkins being interested too.

[11:57:16.0000] <SimonSapin>
zewt, tantek: I could be interested in making this happen too

[12:50:52.0000] <SimonSapin>
TabAtkins: you need to update your scripts: http://dev.w3.org/csswg/css3-cascade/

[12:51:04.0000] <SimonSapin>
http://dvcs.w3.org/hg/csswg/rev/692c54ee5a46

[12:59:00.0000] <Hixie>
can someone with IE load up http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1974 then hit the submit button and tell me what it says in the log?

[13:40:43.0000] <Velmont>
So, doing some web developer stuff. Coded after specs, works in Opera. Testing in fx and chrome, oh-noes, it doesn't work. Grr. Feeling the angry webdev wrath :P

[13:41:19.0000] <SimonSapin>
Velmont: I can’t believe that would happen ;)

[13:43:25.0000] <Velmont>
SimonSapin: So I have to go through and debug what standard-features they don't support. :]  Kinda looking forward to testing IE10 tomorrow, I actually think it'll work there.

[14:30:40.0000] <annevk>
Hixie: the plan is to do host normalisation, but I don't know what type yet because browser vendors cannot make up their mind

[14:31:23.0000] <annevk>
Hixie: but yes, the parser normalises URLs insofar browsers normalise URLs, I might define some additional normalisation/comparison algorithms for use in the API

[14:31:37.0000] <annevk>
(input on which would be much appreciated)

[14:32:31.0000] <Hixie>
lgtm

[14:52:54.0000] <annevk>
Ms2ger: fwiw, plh has done the blocking references thing to WHATWG drafts since forever

[14:55:17.0000] <annevk>
Ms2ger: though changing things to link to TR/ is just plain moronic

[14:55:42.0000] <annevk>
Ms2ger: I doubt they realize that means things like ByteString are not defined...

[14:56:47.0000] <annevk>
Though thinking about it I guess it's not too different from the stuff they're doing with what they call HTML5. Monkey patching something they don't really comprehend.

[14:57:54.0000] <Hixie>
annevk: yeah i love how it is actually breaking the specs to do that these days

[14:57:57.0000] <Hixie>
annevk: so stupid

[15:05:10.0000] <zewt>
sure is fun to be telling people over and over "never ever look at TR pages" while having idiots like that actively working to confuse people

[15:09:59.0000] <annevk>
Yeah I don't quite understand the deal and how this is different from the deal I offered Jeff Jaffe where I would push out a W3C TR/ copy with their copyright attached it as long as I could also publish it in CC0 at the WHATWG.

[15:10:39.0000] <annevk>
In fact, this seems to be worse for them as their copy ends up looking much worse because of all the attribution thingies attached to it and it's out of date and incorrect.

[15:30:25.0000] <nessy>
annevk: FWIW I would love to be able to point to updated TR copies at the W3C instead of stale ones

[15:33:26.0000] <annevk>
Don't tell me, tell the W3C.

[15:40:11.0000] <annevk>
Hixie: btw, I got feedback about http://wiki.whatwg.org/wiki/MetaExtensions being confusing. In particular the "Status" column, which appears to be useless because of the separate tables, should probably be removed.

[15:42:11.0000] <annevk>
Hixie: also under http://wiki.whatwg.org/wiki/MetaExtensions#Failed_Proposals it seems "Brief description" is actually the reason it failed

[15:43:25.0000] <annevk>
Hixie: I did not change the structure of things because the HTML spec talks about it, so I wanted to hear what you thought first

[15:47:19.0000] <nessy>
annevk: :-)


2012-12-03
[16:06:53.0000] <Hixie>
annevk: planning on doing registry stuff in january

[16:06:54.0000] <Hixie>
nessy: yt?

[16:08:05.0000] <Hixie>
nm, gotta go

[16:08:06.0000] <Hixie>
bbl

[20:08:29.0000] <roc>
this morning my 8-year-old son asked me what's the difference between XHTML and HTML, and why don't people use XHTML

[20:09:34.0000] <roc>
Someone needs to write a book of Web standards fairy-tales for children

[20:25:40.0000] <tantek>
roc, that's awesome.

[20:26:30.0000] <tantek>
feel free to childrens-bookize this blog post: http://tantek.com/2010/302/b1/xhtml-dead-long-live-xml-valid-html5

[20:29:52.0000] <MikeSmith>
roc: if he starts asking about http-range-14, that'd be a time to worry

[00:34:19.0000] <odinho>
nessy: We had a discussion on TPAC about the TR page. The room agreed that the WG should be allowed to put whatever there.

[00:34:54.0000] <odinho>
nessy: So, e.g. for IndexedDB the last year, that would be its editors draft. Because reading the WD version was utterly bogus (lots of old stuff)

[00:35:59.0000] <odinho>
Also, as I said yesterday, I coded directly to spec, and ended up having to patch in order for it to work in contemporary Chrome and IE. -- So that caniuse-integration, and hopefully at attribute-method level would be very useful for webdevs.

[00:36:17.0000] <odinho>
I guess that's why webdevs doesn't really use the spec. I had to do extra work in the end because of it :P

[00:37:11.0000] <odinho>
(Well, worked in Opera, -- but guess that's because we updated dom level 3 events not too long ago.

[01:23:16.0000] <zcorpan>
wow i didn't know Hixie used an *SVG* repository to edit the spec. https://github.com/w3c/html#how-the-branches-fit-together

[01:26:10.0000] <hsivonen>
why isn’t that chart itself SVG?

[02:06:50.0000] <Stevef>
tabatkins: was concerned by your statement http://krijnhoetmer.nl/irc-logs/whatwg/20121201#l-144 so have asked HTML WG chairs if it is correct http://lists.w3.org/Archives/Public/www-archive/2012Dec/0002.html

[02:07:53.0000] <hsivonen>
Stevef: hi. does http://www.paciellogroup.com/blog/2012/04/html5-accessibility-chops-real-world-aria-landmark-use/ contain your latest findings on role=main usage?

[02:08:06.0000] <hsivonen>
or is there something more recent I should be reading?

[02:08:21.0000] <Stevef>
tabatkins: I am on one of the lists as  edit a few specs in the html wg, I have not noticed any decisions on that list other than administrative ones

[02:08:54.0000] <Stevef>
hsivonen: no thats the latest

[02:08:56.0000] <hsivonen>
I was not aware of those treehouse lists before the meme

[02:08:58.0000] <hsivonen>
Stevef: thanks

[02:09:03.0000] <annevk>
Stevef: the real context is http://krijnhoetmer.nl/irc-logs/whatwg/20121130#l-1012

[02:10:09.0000] <annevk>
zcorpan: SVG can do anything

[02:10:44.0000] <annevk>
odinho: dude, mention the feature

[02:12:47.0000] <zcorpan>
i'm on one of the lists too but didn't reflect over its secretness

[02:13:20.0000] <Stevef>
annevk: OK, well that statement is similar, I thought that the way it worked is/was editors are free to make changes to the specs that are interop bug related or editorial. and the wg is notified of these, anything controversial such as addition of new features or significant chnages to current spec are documented by the editors and not added until wg has agreed.

[02:15:12.0000] <Stevef>
but I could be wrong...

[02:15:20.0000] <annevk>
Stevef: if you don't think there's a lot of private stuff going on around the HTML WG and lobbying and such you're unfortunately misled; fortunately none of it seems to have much of an effect in practice though

[02:15:38.0000] <annevk>
or fortunately, I don't really care anymore what they're up to

[02:16:36.0000] <Stevef>
annevk: what i recently have realised in the last week is there is a lot of private stuff going on in HTML standardization full stop

[02:16:37.0000] <annevk>
well I do, but I've given up

[02:17:25.0000] <Stevef>
and I don't think that the HTML WG is any more or less prone to it

[02:18:25.0000] <odinho>
annevk: OH THE SUSPENSE. I was actually just not happy noone commented, now you have, so I'm happy. All is well again.

[02:18:45.0000] <annevk>
odinho: no it's not, the curious have no answers!

[02:18:47.0000] <Stevef>
annevk: I have had a glimpse of late into a world of backchannels I naively did not know existed

[02:18:55.0000] <odinho>
annevk: Or SimonSapin actually did, but I had forgot when I woke up this morning.

[02:19:21.0000] <odinho>
annevk: I'm scared of being flamed for obviously not knowing that "noone else had implemented that". :P

[02:19:38.0000] <odinho>
annevk: Or for "yeah, it's in the spec but you shouldn't use that you stupid!!!11"

[02:19:39.0000] <SimonSapin>
odinho: sorry I lost context

[02:19:48.0000] <annevk>
odinho: instead you'll be herrassed for not telling!

[02:19:59.0000] <odinho>
annevk: It's a tradeoff... ;-)

[02:20:51.0000] <SimonSapin>
odinho: what is this about?

[02:21:44.0000] <annevk>
Stevef: I'm guessing you're talking about <main>, since there's been a lot of that lately, but it would help my understanding if you were more concrete

[02:21:58.0000] <odinho>
annevk: Ohwell, it's only this small keyboardEvent.key.  http://dev.w3.org/2006/webapi/DOM-Level-3-Events/html/DOM3-Events.html#events-KeyboardEvent-key

[02:22:17.0000] <annevk>
odinho: ah, yeah, that's not implemented :)

[02:22:25.0000] <annevk>
odinho: also, keyboard events are a mess

[02:22:45.0000] <odinho>
But I liked it. e.key == "Enter",   e.key == "Down"

[02:22:47.0000] <odinho>
I was happy.

[02:23:49.0000] <odinho>
But then, TADA- does not work when my friend at my hackspace tried it. And imma like, I haven't yet tested other places than Opera *embarrasedface* :P

[02:24:17.0000] <Stevef>
annevk: yeah 'remember the <main>'

[02:24:54.0000] <annevk>
Stevef: so what backchannel was used there?

[02:25:27.0000] <annevk>
/me thought Hixie rejected it on whatwg⊙wo

[02:25:50.0000] <Stevef>
annevk: I wasn't saying that was a backchannel, just responding to you saying guessist about <main>

[02:26:11.0000] <Stevef>
found it amusing

[02:26:37.0000] <odinho>
SimonSapin: Oh, I'm Velmont at home... :P That's why you are loosing context.

[02:27:07.0000] <Ms2ger>
/me is getting more confused

[02:27:37.0000] <SimonSapin>
odinho: if you’re talking about DOM3 events, I’m not the one who commented on it

[02:27:47.0000] <Stevef>
annevk: will write a post about my experiences of late once the dust settles

[02:28:09.0000] <odinho>
SimonSapin: You did. I have logs, y'know ;-)

[02:28:14.0000] <annevk>
Stevef: Maybe you were talking about WAI then? They do indeed a lot of stuff in private...

[02:28:28.0000] <SimonSapin>
odinho: prove it :p

[02:28:52.0000] <odinho>
SimonSapin: http://krijnhoetmer.nl/irc-logs/whatwg/20121202#l-355

[02:28:58.0000] <Stevef>
annevk: has nothing to do with WAI, they have not been involved

[02:29:54.0000] <annevk>
Stevef: The alluding that there's a problem somewhere, but not telling what it is, is kind of annoying. I wish you had written that post first.

[02:30:14.0000] <SimonSapin>
odinho: oh, that. I had no idea what the actual issues was about, just joking about standards guaranteeing interop

[02:31:10.0000] <Stevef>
annevk: well I am sorry for that, but was just riffing on the discussion

[02:32:03.0000] <odinho>
SimonSapin: That's commenting enough for me ;]

[02:37:19.0000] <zcorpan>
Hixie: maybe add a check for "<!DOCTYPE html> ..." in live dom viewer's filetestbug()?

[02:43:30.0000] <darobin>
haha, just got a bug report on ReSpec for a spec produced using Anolis :)

[02:43:59.0000] <zcorpan>
does anyone have a list at the top of their heads about what https://www.w3.org/Bugs/Public/show_bug.cgi?id=18460 needs to handle?

[02:44:14.0000] <annevk>
darobin: pointer?

[02:44:39.0000] <darobin>
annevk: you don't want to know, it's the XHR spec

[02:44:55.0000] <darobin>
the problem is that when served from https it's linking to a style sheet in http

[02:45:06.0000] <darobin>
which is blocked by a bunch of browsers, naturally

[02:45:39.0000] <annevk>
not sure that's natural actually

[02:45:41.0000] <darobin>
I guess Anolis could dynamically select the matching scheme when that happen

[02:45:47.0000] <darobin>
oh, wait, no it can't!

[02:46:13.0000] <annevk>
and you could just use a scheme-relative URL

[02:46:41.0000] <darobin>
yeah, but except that doesn't work great with file:

[02:47:29.0000] <annevk>
I'd still like to see this though, browsers block cross-scheme style sheet loads?

[02:47:39.0000] <annevk>
that's not defined anywhere I think

[02:49:49.0000] <annevk>
zcorpan: void elements; namespaced elements; elements without namespace; CDATA conversion (unless we get rid of that); <pre>\n and such

[02:50:02.0000] <annevk>
zcorpan: same stuff as innerHTML basically?

[02:51:05.0000] <zcorpan>
what do you mean with CDATA conversion?

[02:54:41.0000] <annevk>
turn it into text?

[02:55:25.0000] <zcorpan>
CDATA sections?

[02:56:17.0000] <annevk>
yeah, what else is there?

[02:59:32.0000] <zcorpan>
CDATA elements, though i guess they're called RAWDATA now

[02:59:51.0000] <SimonSapin>
annevk: I’ve seen browsers not blocking loading of cross-scheme stuff, but showing the page as "insecure"

[03:00:00.0000] <annevk>
SimonSapin: right

[03:00:01.0000] <darobin>
annevk: yes, look at https://dvcs.w3.org/hg/xhr/raw-file/988b577dec23/Overview.html in Chrome

[03:00:08.0000] <darobin>
I believe IE blocks that too

[03:00:31.0000] <darobin>
indeed I'm not aware of it being defined

[03:01:05.0000] <darobin>
maybe IE gives some form of insecure prompt, not sure

[03:01:18.0000] <darobin>
prompting has got to be the worst decision you can make there though

[03:01:28.0000] <darobin>
either allow it or don't, but don't ask the user

[03:02:16.0000] <annevk>
haha

[03:02:30.0000] <annevk>
Chrome blocks cross-scheme style sheets but allows cross-scheme XMLHttpRequest fetching?

[03:03:16.0000] <annevk>
I wonder what the rationale for that is

[03:04:06.0000] <darobin>
rationale? in a browser?

[03:06:11.0000] <annevk>
fair enough

[03:06:56.0000] <annevk>
they use jQuery in the XHR spec now? that's so funny

[03:07:33.0000] <annevk>
XHR is too hard for the editors of XHR, better use $.ajax

[03:16:53.0000] <darobin>
well, Julian actually wrote $.ajax so I don't think he finds XHR too hard

[03:21:10.0000] <annevk>
are the W3C lists slower these days?

[03:37:54.0000] <annevk>
what the fuck

[03:38:13.0000] <annevk>
gmail complaints my login period expires in the middle of me writing a long email

[03:38:17.0000] <annevk>
I login in a separate window

[03:38:25.0000] <annevk>
then my email gets trashed

[03:38:39.0000] <annevk>
oh, it's in drafts

[03:38:46.0000] <annevk>
close call

[06:01:20.0000] <annevk>
the fact that https://lists.w3.org/Archives/Team/team-html-chairs/ returns a 403 and https://lists.w3.org/Archives/Team/team-html-chairs2/ returns a 404 should tell people enough

[06:02:01.0000] <annevk>
it seems whoever created the meme made a typo in the other list

[06:02:05.0000] <annevk>
it's actually https://lists.w3.org/Archives/Team/team-html-editors/

[06:04:29.0000] <Stevef>
annevk: i don't have permissions to view https://lists.w3.org/Archives/Team/team-html-editors/ archive...

[06:04:46.0000] <annevk>
Stevef: only the W3C Team does

[06:04:51.0000] <darobin>
can someone enlighten me on the sudden surge of interest in these two lists?

[06:04:52.0000] <Stevef>
even though I am subscribed

[06:05:26.0000] <Stevef>
darobin: its where the decisions are made

[06:05:41.0000] <darobin>
yes, by the brain slugs

[06:06:01.0000] <darobin>
bastard brain slugs!

[06:06:15.0000] <annevk>
I thought WHATWG made the decisions?

[06:06:25.0000] <darobin>
where are your brain slugs?

[06:06:41.0000] <annevk>
Anyway, I was just trying to point out how you could easily figure out if a list existed or not

[06:06:50.0000] <Stevef>
luckily I have all the decsions from https://lists.w3.org/Archives/Team/team-html-editors/ archived in gmail

[06:07:03.0000] <annevk>
I don't really have a stake in this game, other than enjoying the delicious memes

[06:07:28.0000] <annevk>
Stevef: better register w3cleaks.org

[06:08:30.0000] <Stevef>
annevk: and unleash a whole lot of broing on the world, why waste anymore of peoples time

[06:08:37.0000] <Stevef>
boring

[06:09:02.0000] <Stevef>
but maybe 'broing' too

[06:09:47.0000] <Stevef>
I have seen a bit of broing from darobin on the editors list for sure

[06:09:59.0000] <gsnedders>
OH GOD WHEN YOU HAVE MULTIPLE EDITORS AND CHAIRS THEY MIGHT COMMUNICATE AMONG THEMSELVES INSTEAD OF IN THEIR HEAD.

[06:10:06.0000] <gsnedders>
</sarcasm>

[06:10:24.0000] <gsnedders>
Basically, it seems inevitable that they'll have some means to communicate among themselves.

[06:10:37.0000] <Ms2ger>
gsnedders, sure, but do we get to read along? :)

[06:11:05.0000] <gsnedders>
Ms2ger: As much as we do read along inside Hixie's head, seemingly.

[06:12:52.0000] <Stevef>
i ahven't seen anything vaguely resembling a 'decision' made on the editors list, but was sorry to hear about darobins rash

[06:12:58.0000] <annevk>
gsnedders: Hixie's changes to the spec can almost always be derived from a public email and or bug report

[06:13:36.0000] <Stevef>
annevk: aren't a;;chnages to the html5 specs now available in git commits?

[06:13:49.0000] <Stevef>
or am i missing somehting?

[06:13:56.0000] <annevk>
Stevef: public commits != rationale

[06:14:53.0000] <annevk>
You want to be able to figure out why changes are made (and others not) in order to properly review them

[06:15:37.0000] <Stevef>
well silvia emails the html wg list regularly on chnanges made or not made

[06:16:49.0000] <gsnedders>
Right, lists of changes made. Not rationale.

[06:17:53.0000] <annevk>
The whole thing that led to this was Hixie not being able to figure out if the HTML editors made a mistake in not merging a WHATWG edit or if they had a reason for doing so

[06:19:40.0000] <Stevef>
annevk: if it was due to anything other than a mistake it will be documented publicly, editorial changes and interop chnages are added pretty much without question i.e. hixies rationale is the reason

[06:20:22.0000] <annevk>
Stevef: is there a public list of rejected changes then?

[06:21:59.0000] <Stevef>
silvia details what has not been merged in her emails for example http://lists.w3.org/Archives/Public/public-html/2012Nov/0154.html

[06:22:17.0000] <darobin>
gsnedders++ # funny

[06:22:18.0000] <annevk>
I don't really have any clue what the XHR editors are doing either, other than "pursuing convergence". A lot of the copy & pasting that is occurring these days strikes me as amateur hour and not really a viable strategy.

[06:22:24.0000] <darobin>
and yes, I do do a lot of broing there

[06:23:10.0000] <darobin>
annevk: put very simply, there is no decision about what commits go in that's made on the editors' list

[06:23:16.0000] <Stevef>
I am sure if things are clear enough for anybody that needs to know, that the editors will seek to provide all info in amanner that is public and understandable, no conspiracy needed

[06:23:37.0000] <darobin>
in fact, not much in the way of decisions apart from stuff like "hey, you folks okay if I move that spec-generating file over there?"

[06:24:29.0000] <Stevef>
I read each of silvias commit emails and respond to them (usually), I appear to be the only one that shows any interest...

[06:24:50.0000] <darobin>
I read silvia's emails but it's not impossible that I could miss stuff here and there

[06:25:09.0000] <darobin>
the point is: the commits that are merged are merged at the decision of whoever merges them

[06:25:13.0000] <gsnedders>
darobin: I is so wit.

[06:25:19.0000] <annevk>
I don't think there's much conspiracy, just a lack of insight into what is going on. Whether those lists are Team-only or world readable probably would not change much either way.

[06:25:23.0000] <darobin>
gsnedders: mucho wit!

[06:25:34.0000] <annevk>
Although for the Chairs list that might be different.

[06:25:55.0000] <darobin>
annevk: no matter what the access control you still can't read what's in people's brains (I think)

[06:26:01.0000] <darobin>
unless you're a brain slug

[06:26:05.0000] <Stevef>
annevk: only the chairs and illuminati know

[06:26:30.0000] <darobin>
the chairs' list is much the same...

[06:26:34.0000] <annevk>
darobin: but it's not about that...

[06:27:18.0000] <darobin>
annevk: there are two other things that it can be about: a better paper trail, or transparency everywhere

[06:27:20.0000] <darobin>
which?

[06:27:47.0000] <annevk>
I like both of those? :-)

[06:29:52.0000] <darobin>
hehe

[06:30:04.0000] <darobin>
things can probably be improved, but here's the breakdown for each

[06:30:14.0000] <darobin>
re the paper trail, everything that gets merged is listed as such

[06:30:34.0000] <darobin>
if there is no rationale, the rationale by default is that it's editorial or assumed consensual

[06:30:45.0000] <darobin>
if it wasn't, then there was a discussion on public-html

[06:31:01.0000] <darobin>
I guess those things could possibly be explained better, but that's the gist of it

[06:31:30.0000] <darobin>
re transparency, those lists are basically replacements for cc lists

[06:31:35.0000] <darobin>
they're not decision centres

[06:32:00.0000] <Stevef>
can we ask anyone inolved in the development of HTML to have all there standards work related email publicly archived, also their texts, conversations, gestures, and thoughts?

[06:32:25.0000] <Ms2ger>
Sure

[06:32:33.0000] <Ms2ger>
Everything except my identity

[06:32:40.0000] <darobin>
Stevef: sure we can, but as far as I know anything that matters is already public

[06:33:01.0000] <Stevef>
i know who you are you are Ms2ger

[06:33:04.0000] <darobin>
if you see a decision being made on team-* then that's a bug

[06:33:07.0000] <Ms2ger>
Oshi-

[06:33:20.0000] <darobin>
the only things that resemble decisions are about bikeshedding stuff

[06:33:32.0000] <Ms2ger>
darobin, so I wonder, why does it need to be team-*?

[06:33:40.0000] <annevk>
darobin: and the chair decisions?

[06:33:47.0000] <darobin>
and frankly, I would think it wonderful if all mailing lists had a separate hidden place for bikeshedding

[06:33:48.0000] <annevk>
darobin: before they become public

[06:34:04.0000] <Stevef>
darobin: "if you see a decision being made on team-* then that's a bug" I have not, but others claim they are

[06:34:14.0000] <darobin>
Stevef: "others"?

[06:34:44.0000] <Stevef>
well hixie and tab for example

[06:35:03.0000] <darobin>
Ms2ger: it makes it possible for us to discuss things like your identity without revealing it publicly

[06:35:12.0000] <Stevef>
which started this conversation

[06:35:24.0000] <darobin>
Stevef: so you're saying that people with no access to that list are stating that there's shady stuff going on there?

[06:35:34.0000] <Stevef>
yes

[06:35:37.0000] <darobin>
that's a lot of hooplah over a rumour....

[06:36:30.0000] <Ms2ger>
I guess you don't see the issue

[06:36:53.0000] <darobin>
I mean, I could equally talk about the decisions made on private-whatwg⊙wo — those are really evil!

[06:37:04.0000] <hsivonen>
experience suggests “pursuing convergence” is not good

[06:38:40.0000] <Stevef>
darobin: hence my enquiry to the chairs http://lists.w3.org/Archives/Public/www-archive/2012Dec/0002.html

[06:39:15.0000] <darobin>
Stevef: you're on that list, I think you have a decent idea of the vital importance of the decisions we make their thanks to the brain slugs

[06:39:36.0000] <darobin>
/me initially wrote "brain sluts" there — not sure what to make of it

[06:39:48.0000] <darobin>
guess I'm a bit of a brain slut myself

[06:40:27.0000] <Stevef>
darobin: thats why I am trying to throw up a smoke screen of  boring truth

[06:41:11.0000] <darobin>
yes, good — that way we can also keep the chupacabras hidden until they're done hatching

[06:42:15.0000] <Stevef>
darobin: when i amone of the chosen who gest to see the decisions behind the decisions and who really controls the whatwg's mutant child that is HTML5

[06:46:58.0000] <Stevef>
it all hinges on the identity of 'the director' and I can assure you its not who you may think

[06:47:50.0000] <darobin>
the Director Brain Slug!

[06:50:47.0000] <hsivonen>
time to subscribe to yet another W3C mailing list. public-css-testsuite ahead.

[06:51:46.0000] <annevk>
hsivonen: why?

[06:52:35.0000] <hsivonen>
annevk: UTF-16

[06:52:53.0000] <gsnedders>
/me still wonders why

[06:53:17.0000] <hsivonen>
gsnedders: http://w3cmemes.tumblr.com/post/35332222321/css-2-1-syndata-is-awesome

[06:53:37.0000] <gsnedders>
That's not a testsuite problem though?

[06:53:53.0000] <annevk>
hsivonen: ouch

[06:54:04.0000] <hsivonen>
it is when implementing Level 3 makes Level 2.1 tests fail and people notice

[06:54:11.0000] <annevk>
hsivonen: just read that Polyglot post and comments from Sam o_O

[06:57:11.0000] <gsnedders>
hsivonen: Ah, there's a process for dealing with that at least.

[07:28:57.0000] <zcorpan>
who created the lists?

[07:38:52.0000] <SimonSapin>
Re mailing lists: if you have a WC3 Member account, there is a tool for viewing who is subscribed to a list. Even if you’re not in that list, and even if the list is Team-only.

[07:40:04.0000] <gsnedders>
o_O

[07:41:39.0000] <SimonSapin>
don’t know if that’s a bug, but the tool is linked from the "Membership Administrivia" page

[07:42:28.0000] <annevk>
https://cgi.w3.org/member-bin/MailingListQuery.pl?queryList=team-html-editors

[07:42:44.0000] <annevk>
/me has no access anymore to verify

[07:42:55.0000] <annevk>
/me knows most of the links

[07:44:55.0000] <Ms2ger>
You're correct

[07:46:08.0000] <Ms2ger>
Interesting, it even has a "Last mail arrived" line

[07:46:34.0000] <darobin>
it's not a bug, it's just a mailing list audit tool

[07:46:57.0000] <SimonSapin>
darobin: is it a bug that I can query Team-only lists?

[07:46:58.0000] <Ms2ger>
"Interesting" != "bug"

[07:47:16.0000] <darobin>
SimonSapin: no

[07:47:46.0000] <darobin>
that ways you can always check your cc list to know whether someone really needs to be copied or not

[07:47:50.0000] <darobin>
of course, everyone does that!

[08:24:21.0000] <gsnedders>
http://www.w3.org/mid/1354040792.4860.822.camel⊙ll — final paragraph is beautiful (MO, sadly)

[08:28:40.0000] <Workshiva>
Secretsssss

[08:30:33.0000] <darobin>
hahaha, Liam's funny :)

[08:32:51.0000] <hsivonen>
gsnedders: I’m surprised by who takes what position in that thread

[08:41:11.0000] <annevk>
CSS WG violating its charter again?

[08:42:21.0000] <gsnedders>
annevk: No.

[08:56:06.0000] <darobin>
mmmm, does anyone know where it's defined what actually triggers resize events?

[08:56:11.0000] <darobin>
(if anywhere)

[08:58:06.0000] <Stevef>
hsivonen: is there a reason you talk about class names instead of id values in your mail about <main>? One of the confusions in the argument appears to be referring to class instead of id

[08:59:11.0000] <Stevef>
hsivonen: don't know if you saw this analysis i started working on last night: https://docs.google.com/spreadsheet/ccc?key=0AlVP5_A996c5dHozOW14RkF4NEdEUFRvemxCZ2I4Z3c

[09:03:53.0000] <TabAtkins>
SimonSapin: Argh, of course.  I'll fix that.  ^_^

[09:07:54.0000] <dglazkov>
good morning, Whatwg!

[09:07:56.0000] <TabAtkins>
annevk: Do you expect to extend FormData into being a MultiMap as well?

[09:08:39.0000] <TabAtkins>
annevk: Even if not, the naming of the method isn't that important.  Set uses Set#add for similar functionality, after all.

[09:08:55.0000] <TabAtkins>
MikeSmith: Thanks for the component! The delay wasn't important.

[09:11:21.0000] <TabAtkins>
zewt: I want to add numeric attribute comparisons in Selectors5.  It's no problem grammatically.

[09:13:34.0000] <TabAtkins>
Stevef: I was just relaying the intended meaning of the meme.  I dunno who actually authored it.

[09:16:48.0000] <hsivonen>
Stevef: Hixie’s chart claimed to be about classes, right?

[09:19:21.0000] <Stevef>
hsivonen: yes , one of issues with that data set is that no data on id values was published

[09:20:38.0000] <Stevef>
hsivonen: but use of main, content as class names has been used as argument why the values are not semantically menaingful and do not represent a main content area

[09:38:18.0000] <Stevef>
hsivonen: but I think that can be easily countered with reference to data like I pointed to above

[09:57:23.0000] <GPHemsley>
annevk: Do you suppose it would make sense to separate out all non-sniffing MIME stuff into a separate spec?

[09:57:57.0000] <GPHemsley>
annevk: I think this would help with, e.g., SimonSapin's data: spec, with regard to MIME type parsing.

[10:02:18.0000] <GPHemsley>
since a data: URL is basically "data:" <MIME type> "," <percent-encoded contents>

[10:06:07.0000] <GPHemsley>
well, <percent-encoded MIME type>, I guess

[10:11:30.0000] <SimonSapin>
GPHemsley: almost. You can also omit text/plain and just have parameters like data:;charset=foo,data

[10:11:58.0000] <SimonSapin>
but yeah, anything to help define parsing this would be great

[10:42:33.0000] <Hixie>
nessy: yt?

[10:43:05.0000] <GPHemsley>
SimonSapin: Yikes! Whose idea was that?

[10:45:29.0000] <SimonSapin>
don’t know, but it’s in the RFC

[10:45:51.0000] <GPHemsley>
eek

[10:47:32.0000] <SimonSapin>
http://tools.ietf.org/html/rfc2397#section-3

[10:54:24.0000] <GPHemsley>
/me wonders if that was intended.

[10:54:41.0000] <GPHemsley>
SimonSapin: They don't show any examples using that, do they? Are there any in the wild?

[10:55:07.0000] <GPHemsley>
Although, I suppose if they didn't want that, they wouldn't have used square brackets at all...

[10:55:42.0000] <Hixie>
any people with IE around?

[10:55:44.0000] <SimonSapin>
GPHemsley: square brackets in the grammar, and prose in the section before

[10:56:00.0000] <Hixie>
looking for a description of what happens when you hit the buttons in http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1974 http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1979

[10:58:03.0000] <GPHemsley>
SimonSapin: Just a PSA: Don't forget to read the errata.

[10:58:48.0000] <GPHemsley>
/me glances at the author of the document.

[11:03:37.0000] <GPHemsley>
SimonSapin: So, IIUC, you actually have two defaults if omitted: the MIME type (text/plain) and the charset (US-ASCII)?

[11:03:44.0000] <Hixie>
heycam: yt?

[11:05:59.0000] <Hixie>
GPHemsley: our shared list for getting accounts on the wiki isn't working, we're all hoping the other people will do it :-)

[11:06:31.0000] <GPHemsley>
Hixie: Oh, I usually do it. But it's hard to distinguish real requests from spam/misunderstandings.

[11:06:45.0000] <GPHemsley>
I'll check the archives and get to it.

[11:06:54.0000] <Hixie>
oh ok :-)

[11:07:11.0000] <Hixie>
i tend to leave them in my inbox until i see a reply or until i do it myself

[11:07:23.0000] <Hixie>
but i noticed recently there's three of them i haven't done that nobody else has done either :-)

[11:07:53.0000] <Yuhong>
<tantek> feel free to childrens-bookize this blog post: http://tantek.com/2010/302/b1/xhtml-dead-long-live-xml-valid-html5

[11:08:35.0000] <Yuhong>
Personally, I don't like this. It is basically suggest people write XML-valid markup, but omitting the xmlns because of a hate for namespaces which is silly.

[11:08:37.0000] <Hixie>
abarth: as far as i can tell, http headers are basically free

[11:09:02.0000] <Hixie>
abarth: possibly cheaper than harder working existing headers, at least :-)

[11:09:33.0000] <TabAtkins>
Yuhong: You're missing the very first subheading in the post, "Draconian = FAIL", which is a pretty huge benefit to not write XML.

[11:10:09.0000] <Yuhong>
Of course, but that blog article is suggesting making your markup XML-valid.

[11:10:34.0000] <Yuhong>
It can be a problem too (XSS), BTW.

[11:10:51.0000] <TabAtkins>
Yes?  There's nothing wrong with trying your best to make your markup valid, while simultaneously valuing the fact that if you get it wrong (or down the line, some user-generated content mixed into your page gets it wrong), your page doesn't die.

[11:11:19.0000] <GPHemsley>
Hixie: OK, which is the third?

[11:11:27.0000] <TabAtkins>
XML doesn't stop XSS, either.  At best, it turns some XSS attempts into DOSes.

[11:11:41.0000] <Yuhong>
Which is still better than nothing.

[11:12:04.0000] <Hixie>
GPHemsley: gotta go. i'll do the third if you replied to the others.

[11:12:05.0000] <Hixie>
bbiab

[11:12:09.0000] <Yuhong>
http://lcamtuf.blogspot.ca/2011/10/origin-is-forever.html

[11:12:10.0000] <GPHemsley>
k

[11:12:15.0000] <Yuhong>
But that is a different topic.

[11:12:16.0000] <TabAtkins>
I don't agree that a DOS is substantially better than an XSS.  They're all bad, and all mean your page is broken.

[11:12:51.0000] <Yuhong>
Yes, but one is still better than the other in terms of security, see the link above.

[11:14:48.0000] <TabAtkins>
Again, though, the DOS only happens if you're incompetent with your XSS.  If you know how your code is being inserted, you can always (maybe there's some times you can't?) craft it to remain well-formed and still XSS.

[11:15:18.0000] <TabAtkins>
In other words, it's not real security.  And then you layer on the fact that lots of *non*-attack errors also cause a DOS, and you see there's no benefit.

[11:15:54.0000] <Yuhong>
I agree it is not a substitute for an XSS filter.

[11:16:19.0000] <Yuhong>
I'd suggest it as a defense-in-depth in case of bypass.

[11:16:54.0000] <Yuhong>
In fact, I said that before, I think.

[11:17:23.0000] <TabAtkins>
It's a defense-in-depth that triggers much more often on innocent things.  In biology we call that an auto-immune disorder.

[11:18:32.0000] <Yuhong>
In any case, it is not what the blog article is advocating anyway.

[11:18:53.0000] <Yuhong>
They are advocating "XML-valid" HTML5.

[11:18:59.0000] <Yuhong>
Which does not make sense.

[11:19:39.0000] <Yuhong>
And does not provide much benefit over just putting the xmlns.

[11:33:14.0000] <TabAtkins>
The benefit over not putting in the xmlns is what I've already said - your page doesnt' break when you get your validity wrong.

[11:41:41.0000] <abarth>
Hixie: :)

[11:56:22.0000] <annevk>
TabAtkins: I've had requests to make FormData editable like a map

[11:56:48.0000] <annevk>
TabAtkins: and to seed a <form> with FormData, etc.

[11:57:31.0000] <annevk>
TabAtkins: so yes, it would be a MultiMap like URLQuery except that it's backend is multipart/form-data rather than application/x-www-form-urlencoded

[11:57:56.0000] <annevk>
(both are really quite terrible formats, I wish they had done a better job back in the day)

[11:58:39.0000] <annevk>
GPHemsley: I prefer not to have too many specifications

[11:59:44.0000] <GPHemsley>
annevk: Well, I think sniffing is a bit more niche of an issue than e.g. MIME type parsing.

[12:00:36.0000] <SimonSapin>
GPHemsley: if the whole <mediatype> is omitted, it defaults to text/plain;charset=US-ASCII

[12:00:39.0000] <annevk>
GPHemsley: I suppose, but that's not directly a reason to create a new specification

[12:00:56.0000] <SimonSapin>
I don’t know if only whitespace or percent-escaped whitespace counts as omitted

[12:01:18.0000] <annevk>
GPHemsley: We might move concepts around over time, as we figure out their appropriate place, but if we don't know the place yet, it might as well be close to the other MIME stuff

[12:01:34.0000] <SimonSapin>
If <type> "/" <subtype> is omitted, it defaults to text/plain

[12:01:39.0000] <annevk>
SimonSapin: note that US-ASCII means windows-1252

[12:01:42.0000] <GPHemsley>
annevk: Because it really has nothing to do with MIME types, really. It's just about identifying what format a resource uses. The MIME type concept is merely one way to formalize it.

[12:01:46.0000] <SimonSapin>
annevk: yes

[12:01:56.0000] <GPHemsley>
annevk: Which is basically what you were arguing for fonts.

[12:02:27.0000] <GPHemsley>
SimonSapin: text/plain in what charset?

[12:02:30.0000] <GPHemsley>
err

[12:02:34.0000] <annevk>
GPHemsley: again, we don't know the appropriate place yet :)

[12:02:59.0000] <annevk>
It might be that most of this needs to come together in Fetch somehow

[12:03:08.0000] <SimonSapin>
GPHemsley: no default charset in the later case. The point is to only specify the charset, as in data:;charset=foo,data

[12:03:30.0000] <GPHemsley>
SimonSapin: Yeah, I'm trying to figure out what question I actually want to ask you...

[12:04:12.0000] <GPHemsley>
annevk: FYI, this MIME type parsing algorithm is turning out to be a lot longer than I expected.

[12:04:36.0000] <annevk>
GPHemsley: I think you argue that we should find the place and that if we cannot find it let it be a separate document. And I argue that lets just define it and move it once we figure out the appropriate architecture.

[12:04:46.0000] <GPHemsley>
SimonSapin: Oh, I mean, what if the type is specified without a charset parameter?

[12:05:34.0000] <GPHemsley>
annevk: What I'm really arguing is that I don't want to overload mimesniff with all this stuff that has nothing to do with it. Whether it's in Fetch or a brand new document doesn't matter much to me.

[12:05:54.0000] <annevk>
(My point about Fetch was that MIME sniffing might need to be in Fetch.)

[12:06:00.0000] <GPHemsley>
oh

[12:06:08.0000] <GPHemsley>
/me doesn't know much about what Fetch is for.

[12:06:29.0000] <SimonSapin>
not about fetching :p

[12:06:40.0000] <annevk>
Fetch takes a URL and returns a resource.

[12:07:08.0000] <GPHemsley>
So... URL -> Fetch -> MIME Sniffing?

[12:07:29.0000] <annevk>
But it does a whole lot more too, such as giving feedback as to when to dispatch progress events, whether or not to follow redirects for HTTP requests, how to apply CORS headers, how to set Referer, etc.

[12:08:17.0000] <GPHemsley>
So wait... is Fetch incoming or outgoing?

[12:08:21.0000] <annevk>
GPHemsley: Yeah, might be. And the reason it makes sense to have MIME type parsing defined in MIME sniffing is that MIME sniffing depends on how Content-Type is parsed sometimes...

[12:08:21.0000] <SimonSapin>
annevk: a quick glance at fetch.spec.whatwg.org makes it look like it’s about whether you’re allowed to fetch, not about the fetching itself. In my mind fetching would be an HTTP client, data: parser etc.

[12:08:50.0000] <annevk>
SimonSapin: your quick glance missed the red box at the top I think

[12:09:03.0000] <SimonSapin>
annevk: indeed

[12:09:24.0000] <GPHemsley>
/me wonders if we should sit down and determine some sort of relationship document about the various specs.

[12:09:55.0000] <annevk>
GPHemsley: Is that not what we do whenever it's design time in #whatwg? :-)

[12:10:11.0000] <GPHemsley>
Oh, I didn't get the memo. When's the next design time? :)

[12:10:25.0000] <GPHemsley>
I'm thinking something like this:

[12:11:03.0000] <GPHemsley>
URL -> Fetch -> MIME Sniffing -> MIME -> HTML

[12:11:18.0000] <GPHemsley>
(or perhaps MIME -> MIME Sniffing, depending on the scope of each)

[12:12:23.0000] <annevk>
or perhaps Fetch -> MIME -> HTML trololo

[12:12:51.0000] <annevk>
e.g. http://mimesniff.spec.whatwg.org/#determining-the-sniffed-media-type-of-a-resource does some MIME type parsing

[12:13:02.0000] <annevk>
it does byte comparisons on the value of Content-Type

[12:13:04.0000] <SimonSapin>
would data: be part of Fetch? (And would it be cross-origin?)

[12:13:55.0000] <annevk>
SimonSapin: yes and ideally it's treated as same-origin unless there was a redirect

[12:14:31.0000] <annevk>
SimonSapin: at least that's the model I've been thinking of which would work for XHR/Workers/<canvas>/etc. that want data: URLs to work

[12:14:47.0000] <GPHemsley>
annevk: And perhaps that could be abstracted out to MIME or Fetch, since there are multiple ways to trigger the no-sniff flag.

[12:15:13.0000] <SimonSapin>
WebKit refuses to let me test data: in anyway because it is supposedly cross-origin :(

[12:15:16.0000] <GPHemsley>
Leaving MIME Sniffing to only be the matching resource byte patterns part

[12:15:57.0000] <annevk>
GPHemsley: so my idea is that Fetch gets the bits; MIME determines who gets to handle the bits; HTML/SVG/CSS/JavaScript handle the bits

[12:16:23.0000] <annevk>
with "who" being the format specs

[12:16:31.0000] <SimonSapin>
the only sign of life I can get is with data:text/html,<script>window.parent.postMessage('something', '*')</script>

[12:16:31.0000] <SimonSapin>
but that’s not exactly simple

[12:16:32.0000] <GPHemsley>
right, hmm

[12:17:01.0000] <SimonSapin>
(in an iframe)

[12:17:15.0000] <annevk>
SimonSapin: yeah, that's a bug in WebKit but they're not compelled to fix it at this stage I think

[12:17:24.0000] <annevk>
SimonSapin: hopefully once we have clearer specs...

[12:17:31.0000] <GPHemsley>
annevk: In that case, the sniffing wouldn't return a MIME type so much as a format to parse...?

[12:17:33.0000] <SimonSapin>
compelled?

[12:17:59.0000] <GPHemsley>
annevk: Or is it merely transforming a HTTP MIME type to a handler MIME type?

[12:18:34.0000] <GPHemsley>
annevk: Or, put another way, transforming an untrusted MIME type into a trusted MIME type.

[12:18:51.0000] <SimonSapin>
annevk: I think that some things like @import bypass MIME completely

[12:18:57.0000] <annevk>
GPHemsley: or finding a MIME type (if there was none)

[12:19:09.0000] <GPHemsley>
annevk: "" is an untrusted MIME type ;)

[12:19:30.0000] <annevk>
GPHemsley: and no Content-Type header is too I guess? sure

[12:19:34.0000] <GPHemsley>
"You silly server. All resources have types!"

[12:20:11.0000] <aklein>
annevk: hi there. I take it from your resolution of https://www.w3.org/Bugs/Public/show_bug.cgi?id=20131 that you were swayed by the consistency argument re: mutation record identity?

[12:21:27.0000] <annevk>
aklein: I was also swayed by the lack of further resistance, the simplicity of doing what smaug asked for (and Microsoft seemed to ask for), and the lack of clarity in what exactly the WebKit model would be and whether that would be error proof (smaug seemed to demonstrate a few unexpected cases)

[12:22:51.0000] <aklein>
annevk: k. I'm still a bit concerned about the memory impact, but I don't have data to show, and if it is really bad smaug is right that we could go to extra effort to optimize it (e.g., share the impl and hand out unique wrappers)

[12:23:02.0000] <annevk>
SimonSapin: yes so an API (say @import) does Fetch + MIME and then decides whether what to do is probably closer to the model

[12:28:34.0000] <annevk>
aklein: I was not really swayed by the expandos argument fwiw. Just that what WebKit did was not consistent and what smaug proposed was simple and straightforward.

[12:30:07.0000] <aklein>
annevk: good to know. I knew that oldValue design would bite us! :)

[12:41:08.0000] <GPHemsley>
annevk: Oh, another thing I was going to add was aliases (like Encoding) that are interpreted as the canonical MIME type... but now I'm thinking the resource handlers should be the "canonical" output. ...?

[12:42:03.0000] <GPHemsley>
since a lot of the Web types have multiple MIME types associated with them

[12:42:13.0000] <annevk>
GPHemsley: example?

[12:42:40.0000] <annevk>
GPHemsley: oh, like text/xml vs application/xml?

[12:42:45.0000] <GPHemsley>
sure

[12:42:59.0000] <GPHemsley>
or "The official IANA-registered MIME type for ICO files is image/vnd.microsoft.icon, registered in 2003. Erroneous labels "image/ico", "image/icon", "text/ico" and "application/ico", along with the unofficial name "image/x-icon" were in use at the time of official registration and assignment of the MIME type.[8]"

[12:43:32.0000] <annevk>
I guess that one is always sniffed or do UAs actually recognise those MIME types?

[12:44:04.0000] <GPHemsley>
I don't know about this particular one, but I know there are formats that they accept multiple MIME types for.

[12:44:18.0000] <GPHemsley>
(Don't know off the top of my head which ones)

[12:44:31.0000] <GPHemsley>
WAVE is similar

[12:44:52.0000] <GPHemsley>
(Funnily enough, UAs don't accept the one WAVE type registered at IANA)

[12:45:12.0000] <annevk>
yeah, don't pay too much attention to IANA I guess

[12:45:19.0000] <annevk>
it's a mess for encodings too

[12:45:45.0000] <GPHemsley>
annevk: Well, my point is, the MIME type is treated as holy, when all that matters is what parser parsers the file (or handler handles, etc.)

[12:46:09.0000] <GPHemsley>
so MIME types and sniffing are just ways to funnel resources to the appropriate handler

[12:46:24.0000] <annevk>
GPHemsley: yeah, but SimonSapin is right that MIME might not be the right place to make the call about the handler

[12:46:41.0000] <GPHemsley>
annevk: Oh, did he say that?

[12:46:52.0000] <annevk>
GPHemsley: e.g. XMLHttpRequest sometimes pays attention, but often ignores MIME

[12:46:59.0000] <annevk>
GPHemsley: <script> always ignores MIME

[12:47:35.0000] <GPHemsley>
annevk: Not true if the no-sniff flag is set, at least in IE>

[12:47:41.0000] <SimonSapin>
I’m saying MIME is sometimes bypassed/ignored

[12:47:41.0000] <GPHemsley>
.

[12:48:21.0000] <GPHemsley>
So maybe we should be registering handlers instead of MIME types

[12:48:23.0000] <annevk>
GPHemsley: right, but I guess you see my point how it depends on the API?

[12:48:39.0000] <GPHemsley>
annevk: I actually think you're making an orthogonal point.

[12:48:50.0000] <GPHemsley>
Or missing mine

[12:49:21.0000] <annevk>
I'm saying that e.g. with XHR if I Fetch something labeled image/x-icon I don't want it to be handled by the image library

[12:49:58.0000] <GPHemsley>
annevk: What should it be handled by?

[12:50:07.0000] <annevk>
GPHemsley: by XHR

[12:50:30.0000] <GPHemsley>
annevk: So then XHR requests shouldn't pass through the MIME tunnel

[12:50:38.0000] <GPHemsley>
that's simple

[12:50:41.0000] <GPHemsley>
isn't it?

[12:50:47.0000] <annevk>
GPHemsley: they should, because XHR does care about the MIME type sometimes

[12:51:01.0000] <GPHemsley>
when?

[12:51:02.0000] <annevk>
GPHemsley: so I want a resource with a parsed MIME type (no MIME sniffing I suppose)

[12:51:39.0000] <annevk>
GPHemsley: http://xhr.spec.whatwg.org/#document-response-entity-body

[12:52:19.0000] <SimonSapin>
uhm, I might have imagined the bit about @import ignoring Content-Type. Can’t find it in any spec

[12:55:17.0000] <SimonSapin>
I think it’s actually undefined what happens when @import points to something that is not text/css

[12:55:23.0000] <SimonSapin>
TabAtkins: any opinion on that?

[12:58:42.0000] <annevk>
SimonSapin: I think for CSS it should be respected actually most of the time

[12:58:52.0000] <annevk>
SimonSapin: with some same-origin quirks mode exception perhaps

[12:59:31.0000] <SimonSapin>
so it would be an error?

[12:59:54.0000] <SimonSapin>
(which means maybe a log message in some console, and then ignored)

[13:01:51.0000] <annevk>
SimonSapin: yes

[13:11:34.0000] <TabAtkins>
SimonSapin: Nope, well defined.  You just parse it as CSS.  For most things that aren't CSS, that'll just result in a big pile of parse errors and no actual rules.

[13:11:49.0000] <TabAtkins>
The CSS parser is defined over all possible bitstreams.

[13:12:50.0000] <SimonSapin>
TabAtkins: so I remembered right, but I can’t find a reference for that

[13:13:22.0000] <TabAtkins>
If there's no text explicitly restricting @import based on Content-Type, then there's no restriction, and you just do what comes naturally. ^_^

[13:16:05.0000] <SimonSapin>
I never know if something is obvious enough that it doesn’t need to be mentioned in the specs, or if it’s only obvious to us based on prior knowledge

[13:16:21.0000] <GPHemsley>
annevk: IIUC, needs to distinguish HTML and XML from everything else. Is that right?

[13:16:27.0000] <GPHemsley>
XHR needs

[13:16:35.0000] <TabAtkins>
I consider restrictions never obvious, and always needing explicit statement.

[13:17:23.0000] <SimonSapin>
what says that the thing pointed to by @import is CSS and not some other kind of stylesheet?

[13:17:36.0000] <GPHemsley>
TabAtkins: So, wait, do CSS files not need to be tagged?

[13:17:42.0000] <GPHemsley>
as text/css

[13:17:52.0000] <SimonSapin>
what if someone starts serving text/css+sass?

[13:17:56.0000] <annevk>
SimonSapin: I think TabAtkins is saying that CSS needs to be fixed at some point to define the processing model

[13:18:23.0000] <SimonSapin>
GPHemsley: @import could be different from <link rel=stylesheet>

[13:18:40.0000] <SimonSapin>
annevk: what’s a processing model?

[13:18:54.0000] <GPHemsley>
ah, so you can't CSS-@import XSL, for example

[13:19:06.0000] <GPHemsley>
once you're in CSS mode, you're assumed to always be in CSS mode?

[13:19:08.0000] <annevk>
SimonSapin: a set of steps that define what to do; e.g. fetch, check MIME type, throw away if not text/css otherwise apply

[13:19:51.0000] <annevk>
GPHemsley: XHR also cares about the charset parameter value

[13:20:04.0000] <TabAtkins>
SimonSapin, annevk: We can certainly clarify that @import is always interpreted as text/css.

[13:20:13.0000] <TabAtkins>
We assumed it was obvious.  ^_^

[13:20:18.0000] <annevk>
TabAtkins: that's not the processing model

[13:20:37.0000] <annevk>
TabAtkins: pretty sure @import rejects e.g. text/xml files

[13:20:54.0000] <TabAtkins>
annevk: I suspect this needs some testing.

[13:21:08.0000] <TabAtkins>
Like, what about text/plain?

[13:21:10.0000] <GPHemsley>
annevk: What has the power to initiate an XHR request?

[13:21:17.0000] <SimonSapin>
annevk: I think Tab meant that this stuff is obvious enough that it doesn’t even need to be written down

[13:21:27.0000] <annevk>
GPHemsley: the XHR API?

[13:21:27.0000] <TabAtkins>
I know that I can do "<link rel=stylesheet href=style.php>" and it just works.

[13:21:40.0000] <annevk>
TabAtkins: if you do header("content-type:text/css")

[13:21:44.0000] <TabAtkins>
SimonSapin: Though this conversation proves that I was wrong, and it's not obvious.  ^_^

[13:21:45.0000] <fantasai>
IIRC, we're pretty strict about whether CSS sheets have the right content type

[13:21:47.0000] <fantasai>
header

[13:21:54.0000] <GPHemsley>
annevk: And what has the power to use the XHR API?

[13:22:02.0000] <fantasai>
/me doesn't know if that's changed in recent years, but it used to be a problem for servers sending it over as text/plain

[13:22:03.0000] <TabAtkins>
annevk: I don't think I've done that before.  I think I've just served naked PHP files without explicit declarations and they worked.

[13:22:09.0000] <annevk>
GPHemsley: web developers?

[13:22:12.0000] <TabAtkins>
/me goes to test.

[13:22:25.0000] <GPHemsley>
annevk: I'm talking about file types here, not people.

[13:22:28.0000] <SimonSapin>
GPHemsley: scripts?

[13:22:36.0000] <annevk>
TabAtkins: be sure to test standards/quirks and same-origin and cross-origin

[13:23:13.0000] <annevk>
GPHemsley: that's not relevant?

[13:23:38.0000] <GPHemsley>
annevk: What do you mean?

[13:24:03.0000] <annevk>
GPHemsley: that it's not relevant who or what initiates XHR

[13:24:18.0000] <GPHemsley>
annevk: Not relevant to what?

[13:24:31.0000] <annevk>
anything

[13:24:41.0000] <SimonSapin>
by the way, WeasyPrint does not know anything about cross-origin. HTTP documents are allowed to use images (including SVG) and stylesheets in file://

[13:24:41.0000] <SimonSapin>
Not sure how much of an issue that is, given there is no JS at all

[13:24:53.0000] <GPHemsley>
annevk: I'm trying to understand what has the ability to perform an XHR request.

[13:25:12.0000] <annevk>
GPHemsley: it's not clear what you mean by "what"

[13:25:40.0000] <GPHemsley>
annevk: All values of "what" that are digital.

[13:25:51.0000] <annevk>
GPHemsley: you lost me

[13:26:17.0000] <GPHemsley>
annevk: I don't know how XHR works. I'm trying to understand what it is and who/what uses it.

[13:26:49.0000] <GPHemsley>
and "developers" does not help me

[13:26:51.0000] <TabAtkins>
annevk: Blast, you're right.  Standards-mode fails without Content-Type, quirks mode don't care.

[13:27:10.0000] <SimonSapin>
TabAtkins: what about a content-type other than text/css?

[13:27:14.0000] <annevk>
TabAtkins: not surprised :-)

[13:27:16.0000] <TabAtkins>
SimonSapin: Let's see!

[13:27:38.0000] <annevk>
GPHemsley: does http://xhr.spec.whatwg.org/#introduction help?

[13:27:52.0000] <SimonSapin>
GPHemsley: JavaScript can use XHR. Is this the kind of answer you’re looking for?

[13:28:14.0000] <GPHemsley>
SimonSapin: Yes, thank you. Can anything besides JS use XHR?

[13:28:21.0000] <TabAtkins>
SimonSapin: text/html fails, while an explicit text/css works.

[13:28:32.0000] <TabAtkins>
GPHemsley: XHR is a JS API, so no.

[13:28:48.0000] <GPHemsley>
TabAtkins: OK, so that's what I was looking for. Thanks.

[13:28:49.0000] <TabAtkins>
Plenty of things can make requests, of which XHR is one.

[13:28:56.0000] <SimonSapin>
GPHemsley: if the web had other scripting languages, maybe

[13:29:31.0000] <annevk>
XHR is Fetch's API

[13:29:32.0000] <TabAtkins>
Okay, looks like I need to spec this in Cascade real quick.

[13:29:45.0000] <GPHemsley>
SimonSapin: But the bottom line is, you're already in the HTML/XML/JS handler if you're making an XHR request?

[13:29:54.0000] <annevk>
TabAtkins: fyi, Hixie has this covered in HTML for <link>, so you might want to use the same language

[13:29:58.0000] <TabAtkins>
annevk: What's the proper way to say "if the content-type header is text/css"?  Anything I need to look out for?

[13:30:02.0000] <TabAtkins>
Okay, good, I'll check that out.

[13:31:29.0000] <GPHemsley>
TabAtkins: In MIME Sniffing I define "media type portion"; alternatively, you can say the type is "text" and the subtype is "css".

[13:31:41.0000] <SimonSapin>
TabAtkins: if you’re parsing the bytes in the header, things to look for are casing, whitespace, … But you might just refer to the result of that parsing with something like "if the response has a text/css MIME type"

[13:31:57.0000] <SimonSapin>
GPHemsley: "media type" means something else in CSS :/ (think media queries)

[13:32:03.0000] <GPHemsley>
Oh, right

[13:32:15.0000] <GPHemsley>
terminology is complicated here

[13:32:17.0000] <TabAtkins>
SimonSapin: I'm just going to do what HTML is doing.

[13:32:24.0000] <annevk>
well MIME should call it MIME type

[13:32:28.0000] <GPHemsley>
because I can't really say the "MIME type portion of the MIME type", either

[13:32:29.0000] <annevk>
it's not complicated

[13:32:45.0000] <TabAtkins>
It just refers to "Content-Type metadata" and defers to the MIMESNIFF spec.

[13:33:09.0000] <annevk>
GPHemsley: A *MIME type* consists of a *type* and *parameters* or some such?

[13:33:46.0000] <GPHemsley>
TabAtkins, SimonSapin: But these are things that I was hoping to tackle with the separate MIME spec (or wherever it would land), with MIME type parsing.

[13:33:58.0000] <GPHemsley>
annevk: "type" is overloaded too, as the part before the slash

[13:34:51.0000] <annevk>
I guess then type, subtype, and parameters

[13:35:02.0000] <SimonSapin>
In my mind, Content-Type is a MIME type + a map/dict of parameters. charset is a parameter. But maybe I get it wrong.

[13:35:06.0000] <annevk>
and just MIME type as the shorthand

[13:35:16.0000] <GPHemsley>
annevk: Yeah, that's how I'm doing it in the parsing algorithm I'm currently writing

[13:35:50.0000] <annevk>
SimonSapin: charset is tied to the MIME type, though in practice UAs sometimes support it for all MIME types, depending on what algorithm is running

[13:35:57.0000] <GPHemsley>
SimonSapin: That sounds about right. The complication is that a "MIME type" is made up of a "type" and a "subtype".

[13:36:00.0000] <annevk>
SimonSapin: e.g. XHR supports it for all MIME types, which is technically a bug

[13:36:36.0000] <GPHemsley>
annevk, SimonSapin: One of the questions here is whether "MIME type" includes the parameters or not.

[13:36:56.0000] <SimonSapin>
well, we need of term for something that does not

[13:37:21.0000] <SimonSapin>
in Python server side APIs, that term is often "MIME type"

[13:37:31.0000] <GPHemsley>
I'm OK with that

[13:37:38.0000] <SimonSapin>
but that could just be a confusion

[13:38:11.0000] <GPHemsley>
perhaps "MIME type" is type + subtype, and "content type" is type + subtype + parameters?

[13:38:34.0000] <SimonSapin>
works for me

[13:38:41.0000] <GPHemsley>
(and then we can leave "media type" for CSS media queries)

[13:39:01.0000] <SimonSapin>
though it can get confusing quickly

[13:39:08.0000] <GPHemsley>
well, it already is

[13:39:18.0000] <GPHemsley>
so the question is: does this make it better or worsE?

[13:39:20.0000] <SimonSapin>
but I never really though of type and subtype separately

[13:39:48.0000] <SimonSapin>
GPHemsley: compared to what? Do we have another proposal?

[13:39:58.0000] <GPHemsley>
SimonSapin: Compared to whatever the status quo is

[13:40:08.0000] <annevk>
GPHemsley: it does

[13:40:15.0000] <SimonSapin>
I don’t know what the status quo is :/

[13:40:24.0000] <SimonSapin>
apart from confusion

[13:40:32.0000] <GPHemsley>
SimonSapin: So then this is better, no? :P

[13:40:36.0000] <SimonSapin>
I guess

[13:41:09.0000] <GPHemsley>
annevk: It does make it better?

[13:41:19.0000] <annevk>
GPHemsley: MIME type includes parameters

[13:41:19.0000] <SimonSapin>
well, this set of term *is* my opinion of the status quo, so it’s the same :p

[13:41:27.0000] <GPHemsley>
annevk: Oh. Argh.

[13:41:41.0000] <SimonSapin>
annevk: does it? :/

[13:41:49.0000] <annevk>
I just explained that above

[13:42:40.0000] <GPHemsley>
Did you?

[13:44:01.0000] <GPHemsley>
Oh, HTTP (which defines the syntax) calls type + subtype + parameters "media-type"

[13:44:21.0000] <GPHemsley>
(or Internet Media Type, in plain English)

[13:44:27.0000] <GPHemsley>
http://tools.ietf.org/html/rfc2616#section-3.7

[13:44:31.0000] <SimonSapin>
the data: RFC references MIME, not HTTP …

[13:45:05.0000] <TabAtkins>
annevk: Does this look okay? http://dev.w3.org/csswg/css3-cascade/#import-content-type

[13:45:15.0000] <TabAtkins>
/me isn't quite sure of how to do it correctly.

[13:45:26.0000] <GPHemsley>
SimonSapin: Which MIME RFC?

[13:46:28.0000] <annevk>
TabAtkins: "same-origin"

[13:46:45.0000] <TabAtkins>
The HTML source doesn't hyphenate.

[13:46:49.0000] <annevk>
TabAtkins: "Otherwise, if the resource's type denotes a type of stylesheet that the user agent understands, it must be interpreted as defined by that type." can probably be removed as this is CSS specific

[13:47:06.0000] <annevk>
TabAtkins: ah yeah, not needed here, but a space is

[13:47:18.0000] <TabAtkins>
annevk: Then I need to loosen the final "otherwise" to be "or else do whatever", right?

[13:47:24.0000] <TabAtkins>
Whoops, didn't intend them to be one word.

[13:47:45.0000] <SimonSapin>
RFC2397 (data:) references RFC2045 (MIME) to define "type", "subtype", "attribute" and "value"

[13:47:55.0000] <annevk>
TabAtkins: "If the linked resource's type is text/css, it must be interpreted as a CSS stylesheet, and as a network error otherwise." maybe?

[13:48:32.0000] <SimonSapin>
TabAtkins: so you would allow other stylesheet types in @import?

[13:48:51.0000] <TabAtkins>
annevk: And let other specs override the final clause?

[13:49:31.0000] <annevk>
TabAtkins: this is CSS cascade, @import is not ever going to import non-CSS without CSS itself changing

[13:49:53.0000] <GPHemsley>
SimonSapin: Ah, they're effectively the same. HTTP is newer, and doesn't embed the name of the header into the value.

[13:50:06.0000] <annevk>
TabAtkins: just issue a new cascade once that situation arrives rather than let people speculate over what it might mean and imply

[13:50:44.0000] <TabAtkins>
annevk: I'm not sure I see why that shoudl be true.  If you recognize another stylesheet language that is nevertheless compatible with the cascade (text/css+sass), it would make sense to let that be @import-able.

[13:50:59.0000] <TabAtkins>
But I'm fine if that's done by just letting the extension spec override the restriction.

[13:51:15.0000] <SimonSapin>
TabAtkins: what about stylesheets that do not have cascading rules?

[13:51:48.0000] <SimonSapin>
XSL?

[13:52:06.0000] <annevk>
^^ is what I mean

[13:52:31.0000] <annevk>
Is any browser planning on supporting text/css+sass?

[13:53:43.0000] <SimonSapin>
I pulled it out of thin air, don’t speculate (only) based on what I say

[13:53:52.0000] <GPHemsley>
SimonSapin: BTW, I meant to tell you that I added you as a permanent autoconfirmed user on the wiki, so the CAPTCHAs should have gone away (if they hadn't already)

[13:54:17.0000] <SimonSapin>
GPHemsley: Great! But I moved data: to github pages now :)

[13:54:46.0000] <GPHemsley>
/me shrugs.

[13:54:53.0000] <SimonSapin>
thanks anyway

[13:55:20.0000] <TabAtkins>
SimonSapin: Dunno!  Presumably the extension spec defining how that stuff works would do it.

[13:55:41.0000] <TabAtkins>
annevk: I don't see the difference between @importing an XSL stylesheet and just linking both an XSL and CSS stylesheet.

[13:56:19.0000] <GPHemsley>
Hmm... two hours ago I came onto the computer to look at how quoted strings work, and I still haven't looked it up...

[13:56:20.0000] <SimonSapin>
@import is supposed to have a "source order" compared to other @imports

[13:56:42.0000] <annevk>
TabAtkins: @import is CSS-specific. <link> is not. Although I think the idea HTML might somehow work with another style sheet language is pretty far fetched and we should probably drop that notion in favor of just crossing that bridge when we get there.

[13:57:06.0000] <fantasai>
/me thought there were some implementations that supported XSLT through <link> ?

[13:57:06.0000] <TabAtkins>
SimonSapin: For the purpose of the CSS cascade, it is.  If the other language doesn't use our cascade, then that effect is irrelevant.

[13:57:53.0000] <TabAtkins>
annevk: Anyway, I've adopted your language and made the otherwise clause just a network error.  This discussion is academic and pending another stylesheet language actually wanting to interoperate with CSS and get adopted.  ^_^

[13:57:55.0000] <annevk>
fantasai: that would be news to me; although I think in the past I might have mistakenly pushed for it a bit...

[13:57:58.0000] <GPHemsley>
Oh, argh. Curse you, RFC 822 comments!

[13:58:16.0000] <SimonSapin>
TabAtkins: could work. I feel like annevk that @import in CSS-specific but not a strong opinion

[13:58:51.0000] <TabAtkins>
The current language supports it being CSS specific.  Extension specs can always override the clause if we want to change it in the future.

[13:58:57.0000] <SimonSapin>
GPHemsley: data: indirectly references 822 too

[13:59:28.0000] <GPHemsley>
SimonSapin: Well, I would hope they were at least the same crazy allowances. :P

[13:59:31.0000] <SimonSapin>
through 2045

[13:59:34.0000] <GPHemsley>
(Though I know that is often not the case)

[13:59:42.0000] <GPHemsley>
SimonSapin: Yeah, that's what I'm looking at.

[14:00:32.0000] <SimonSapin>
GPHemsley: another fuzzy point for me is when percent-decoding happens for the data: header, relative to other parsing steps

[14:00:58.0000] <GPHemsley>
SimonSapin: Well, presumably it doesn't matter, no?

[14:01:07.0000] <GPHemsley>
/me is not directly looking at your data: spec or the RFC

[14:01:31.0000] <GPHemsley>
SimonSapin: You've got two relatively independent chunks, with additional text that isn't percent-encoded

[14:01:33.0000] <annevk>
SimonSapin: it seems kinda logical to decode to bytes and then use a byte parser for MIME

[14:02:05.0000] <annevk>
SimonSapin: but, if that's not what implementations do...

[14:02:12.0000] <GPHemsley>
SimonSapin: I am defining this algorithm assuming I am getting a straight string of text (no percent-encoding, etc.)

[14:02:42.0000] <GPHemsley>
SimonSapin: It'll be up to you to manipulate what you have to be valid input to the algorithm :P

[14:03:02.0000] <SimonSapin>
GPHemsley: I don’t know … in text/plain%3Bcharset=utf8 is charset part of the subtype? is utf8?

[14:03:29.0000] <SimonSapin>
text/plain%3Bcharset%3Dutf8

[14:03:50.0000] <GPHemsley>
SimonSapin: Oh dear. It seems Firefox says no.

[14:03:53.0000] <GPHemsley>
err, yes

[14:04:30.0000] <GPHemsley>
so... is the content type not supposed to be percent-encoded?

[14:04:38.0000] <GPHemsley>
what happens if it has spaces?

[14:04:59.0000] <SimonSapin>
GPHemsley: I read rfc2397 a few times, and I have no idea

[14:05:16.0000] <SimonSapin>
try percent-encoded whitespace

[14:05:42.0000] <GPHemsley>
SimonSapin: That seems to be decoded.

[14:05:58.0000] <GPHemsley>
%20, anyway

[14:06:18.0000] <SimonSapin>
is it interoperable?

[14:06:31.0000] <GPHemsley>
but it doesn't copy & paste as percent-encoded

[14:06:38.0000] <GPHemsley>
(which I think would be expected)

[14:07:11.0000] <GPHemsley>
Opera loads it, but doesn't decode it

[14:07:27.0000] <SimonSapin>
does it behave the same in an address bar or an attribute?

[14:07:34.0000] <SimonSapin>
(HTML attribute)

[14:07:42.0000] <GPHemsley>
same with Chrome

[14:08:06.0000] <GPHemsley>
and Safari

[14:08:22.0000] <GPHemsley>
so Opera, Chrome, and Safari allow %20 and do not decode it

[14:08:28.0000] <SimonSapin>
allow where?

[14:08:31.0000] <GPHemsley>
Firefox allows it, but decodes it to space

[14:08:34.0000] <GPHemsley>
in the location bar

[14:08:44.0000] <SimonSapin>
I mean where in the URL

[14:08:47.0000] <GPHemsley>
oh

[14:08:49.0000] <GPHemsley>
data:text/plain;%20charset=utf8,test

[14:09:33.0000] <GPHemsley>
but note that if you load that in Firefox and copy it back, you get:

[14:09:41.0000] <GPHemsley>
data:text/plain; charset=utf8,test

[14:09:54.0000] <SimonSapin>
hum, firefox gives the download dialog for data:text/plain%20;charset=utf8,tést

[14:10:12.0000] <SimonSapin>
but not chromium

[14:10:14.0000] <GPHemsley>
hmm

[14:10:53.0000] <GPHemsley>
so I guess Gecko looks for the semicolon to begin percent-decoding?

[14:11:56.0000] <SimonSapin>
is any MIME parameter other than charset actually used on the web?

[14:11:59.0000] <GPHemsley>
using %2C instead of the comma sends the text to search

[14:12:12.0000] <GPHemsley>
in Firefox

[14:12:28.0000] <GPHemsley>
SimonSapin: Well, audio/video types may use codecs=

[14:12:32.0000] <GPHemsley>
plus base64

[14:12:52.0000] <SimonSapin>
base64 is special in data: not sure it counts as a parameter

[14:12:52.0000] <GPHemsley>
and I think there are a few obscure text/plain parameters

[14:13:09.0000] <GPHemsley>
SimonSapin: In what way doesn't it?

[14:13:23.0000] <SimonSapin>
no = sign and no value

[14:13:42.0000] <GPHemsley>
oh, hmm

[14:13:47.0000] <SimonSapin>
appears separately in the rfc2397 grammar

[14:13:55.0000] <GPHemsley>
didn't realize the MIME RFC doesn't allow an optional value

[14:14:16.0000] <SimonSapin>
“The ";base64" extension is distinguishable from a content-type    parameter by the fact that it doesn't have a following "=" sign.”

[14:14:27.0000] <GPHemsley>
and neither does HTTP

[14:14:29.0000] <heycam>
Hixie, here now

[14:14:48.0000] <GPHemsley>
I was writing the algorithm taking it for granted that it was similar to URL parameters

[14:15:01.0000] <GPHemsley>
/me wonders if that would be a big deal.

[14:15:35.0000] <GPHemsley>
SimonSapin: What if you added an arbitrary value to a base64 parameter?

[14:15:38.0000] <GPHemsley>
Does it still work?

[14:16:02.0000] <SimonSapin>
then it’s a parameter, not a base64 marker

[14:16:11.0000] <GPHemsley>
SimonSapin: Is that a yes or a no? :P

[14:16:24.0000] <SimonSapin>
the content is not decoded as base64

[14:16:27.0000] <GPHemsley>
hmm

[14:16:45.0000] <GPHemsley>
interoperably?

[14:16:49.0000] <SimonSapin>
but if you had an API to get the map of all parameters, you’d find the value there

[14:17:01.0000] <SimonSapin>
don’t know, but that is one point where the RFC is pretty clear

[14:17:31.0000] <SimonSapin>
data:text/plain;base64=a,ZmFpbA==

[14:17:41.0000] <GPHemsley>
the way I was writing the algorithm you'd get parameters = { 'charset': 'utf-8', 'base64': null }

[14:18:12.0000] <SimonSapin>
I think that’s wrong :p

[14:18:35.0000] <GPHemsley>
hmm... Safari decodes it to "fail"

[14:18:47.0000] <GPHemsley>
Firefox, Chrome, and Opera do not

[14:19:22.0000] <GPHemsley>
but that's OK... my algorithm still allows for that

[14:19:41.0000] <GPHemsley>
because data:text/plain;base64=,ZmFpbA== will give { 'base64': '' }}

[14:19:46.0000] <GPHemsley>
-}

[14:19:54.0000] <GPHemsley>
so you can distinguish between null and ''

[14:20:58.0000] <SimonSapin>
without the = sign it’s invalid in HTTP or MIME

[14:21:07.0000] <GPHemsley>
and the behavior is the same

[14:21:13.0000] <GPHemsley>
s/and/but/

[14:21:15.0000] <SimonSapin>
I don’t know what the error handling is, though

[14:22:14.0000] <GPHemsley>
I'll continue writing the algorithm as I was, and then you can sort it out

[14:22:46.0000] <GPHemsley>
I imagine it'll be up to us to determine the error handling

[14:24:08.0000] <GPHemsley>
so... is it just me, or does RFC 2045 not actually define quoted-string?

[14:24:47.0000] <GPHemsley>
oh, maybe it's in RFC 822

[14:25:15.0000] <GPHemsley>
ah, yeah

[14:26:27.0000] <GPHemsley>
OK, so a quoted-string uses \" include a quotation mark, and \\ to include a backslash

[14:31:20.0000] <TabAtkins>
annevk: Oh yeah, regarding variadic URLQuery#set, yeah, it replaces instances that already exist.  If there are leftover things in the arg list, it appends to the end.  If there are leftover items in the URLQuery, it deletes them.

[14:32:02.0000] <annevk>
TabAtkins: oh it deletes too?

[14:32:19.0000] <TabAtkins>
I figure that set() is always saying "screw you, use exactly these values now".

[14:32:36.0000] <annevk>
TabAtkins: so set("name") would be the same as delete("name")?

[14:32:50.0000] <TabAtkins>
So if you start with ?a=1&a=2&a=3, then say set('a',4), you'll have only a single 'a' value in the map.

[14:33:18.0000] <TabAtkins>
Or, to be more elaborate:

[14:34:14.0000] <TabAtkins>
Start with ?a=1&b=1&a=2&c=1&a=3.  Call u.set('a', 4, 5), then serialize.  You'll get ?a=4&b=1&a=5&c=1

[14:34:41.0000] <TabAtkins>
(Losing the third 'a' key that was originally in the query.)

[14:35:32.0000] <TabAtkins>
And similarly, if you start with ?a=1&b=1, then call u.set('a', 2, 3), you'll get ?a=2&b=1&a=3.

[14:36:23.0000] <annevk>
Sure, that's pretty basic, I'm more interested in my question above.

[14:37:30.0000] <annevk>
Set currently does not delete so I guess we'd have to change that if we want to remain forward compatible...

[14:37:54.0000] <TabAtkins>
I just answered your question above, if I understood your question correctly.

[14:38:22.0000] <TabAtkins>
I thought the point of set() was that it overrode whatever existed in the url already, but maintained relative ordering when it could.

[14:45:23.0000] <Hixie>
heycam: i cc'ed you on e-mail

[14:45:45.0000] <heycam>
Hixie, cool, replied I assume.

[14:47:31.0000] <annevk>
TabAtkins: my question in particular was whether set(x) is the same as delete(x) because of the way variadics are defined

[14:47:56.0000] <annevk>
TabAtkins: heycam can correct me but a variadic requires zero or more values as I understand it

[14:48:14.0000] <heycam>
that's right

[14:48:15.0000] <annevk>
TabAtkins: we could of course make the argument set(DOMString, DOMString, DOMString...) or some such

[14:48:17.0000] <TabAtkins>
annevk: Oh!  Now I get it!

[14:48:35.0000] <TabAtkins>
Yes, I'd require set() to have at least one "value".

[14:48:53.0000] <TabAtkins>
annevk: I wasn't parsing your question right before.

[14:49:15.0000] <TabAtkins>
It doesn't make sense to even call set() without at least one value to assign to the key.

[14:50:12.0000] <annevk>
heycam: why don't we do one or more and optional variadic for zero or more?

[14:51:01.0000] <heycam>
annevk, was just following how other languages do it

[15:03:03.0000] <TabAtkins>
annevk: Regarding the "return this" decision, Rick is responding adequately in anothr es-discuss thread titled "(Map|Set|WeakMap)#set() returns `this` ?".

[15:03:25.0000] <TabAtkins>
The answer to the "why not delete()?" part of your question is just "baby steps". Rick expects to resolve on that change too.

[15:03:37.0000] <TabAtkins>
(And it has equal use-cases to set() returning this.)

[15:03:49.0000] <annevk>
I'm not on es-discuss

[15:03:59.0000] <TabAtkins>
Let me link you, then.

[15:04:00.0000] <annevk>
but I'll take a look tomorrow or so

[15:04:43.0000] <TabAtkins>
Starts here: https://mail.mozilla.org/pipermail/es-discuss/2012-December/026811.html

[15:14:26.0000] <TabAtkins>
annevk: Yo, regarding urls.  http://dev.w3.org/csswg/css3-values/#urls can we refer to something better than RFC3986 now?

[15:14:52.0000] <TabAtkins>
We have two refs - one to the syntax of urls and escapes, and one to the absolutization of relative urls.

[15:15:11.0000] <TabAtkins>
Basically, is the URL spec good enough now for us to point to i?

[15:16:13.0000] <annevk>
TabAtkins: It defines all the infrastructure, may contain bugs, and does not deal with IDNA yet because nobody has decided how that should work.

[15:16:29.0000] <annevk>
TabAtkins: I'm all for referencing it myself, so people complain and yell at me and I can fix more bugs.

[15:16:47.0000] <TabAtkins>
Hah.

[15:17:44.0000] <annevk>
It defines syntax (called URL) and defines parsing #concept-url-parser and the result of parsing a URL is a parsed URL which you can pass to "fetch" (which is a concept that needs a bit more elaboration, it's scheduled to be worked on at some point)

[15:18:05.0000] <TabAtkins>
I'm not worrying about CSS fetch yet.

[15:18:18.0000] <TabAtkins>
I think I can just refer to #concept-url.

[15:22:30.0000] <fantasai>
annevk: Looking at that... I think that parsing and absolutizing a URL shouldn't be conflated. They're really two separate things, even if you can do them in a single pass.

[15:22:58.0000] <fantasai>
annevk: Should be able to parse in a relative URL, understand it, and reserialize it without changing its relativeness

[15:23:53.0000] <annevk>
fantasai: file a bug? be sure to list use cases; "should be able to" does not count :)

[15:24:30.0000] <TabAtkins>
Supporting CSS is a use-case - specified values of urls are whatever you put in, parsed, but computed values are absolutized.

[15:25:02.0000] <fantasai>
Also, an editor would want to be able to parse and understand URLs, but not absolutize everything in the document when they reserialize it out

[15:30:09.0000] <annevk>
TabAtkins: right, that's supported

[15:30:36.0000] <annevk>
fantasai: editing typically requires its own parser anyway, because you would not want to lowercase host names and such either

[15:31:05.0000] <annevk>
fantasai: same e.g. for editing CSS; you wouldn't want your editor to drop -webkit-ballgame

[15:34:53.0000] <TabAtkins>
Parsing without dropping unknown values doesn't require anything fancy.  You still want to resolve urls as you normally do.

[15:35:09.0000] <TabAtkins>
(You just follow the Syntax spec and don't drop anything for being unrecognized.)

[15:38:26.0000] <annevk>
TabAtkins: have you looked at the URL parsers in browsers?

[15:38:37.0000] <TabAtkins>
Nope!

[15:38:41.0000] <annevk>
TabAtkins: my spec is not based on fiction :)

[15:39:43.0000] <TabAtkins>
I'm not sure what you mean.

[15:41:04.0000] <annevk>
what I mean is that the model is parseURL(input, base) -> parsed URL

[15:41:48.0000] <annevk>
or failure*

[15:41:59.0000] <annevk>
anyway, bedtime

[15:42:01.0000] <annevk>
nn

[15:45:56.0000] <PaKScripT>
Hiya fellas.. seen the channel on one of the 'tutorials' for html 5/javascript apis.


2012-12-04
[16:14:51.0000] <Hixie>
heycam: so the problem is onerror has a different type on HTMLElement and HMTLBodyElement/Window

[16:15:39.0000] <heycam>
Hixie, hmm ok

[16:16:07.0000] <heycam>
wonder if it makes sense just to lose a bit of type information and make the HTMLElement one a bit more general, or to actually have the two onerror properties

[16:16:36.0000] <heycam>
for the other cases like HTMLPropertiesCollection I think it's ok though

[16:17:17.0000] <Hixie>
the whole thing of applying methods from oene object to another is so wacked

[16:17:52.0000] <heycam>
that's why it throws if the target is not a subtype :)

[16:17:58.0000] <heycam>
(of the original interface it was declared on)

[16:18:29.0000] <Hixie>
right but it doesn't make sense to apply the method of the original interface on a subtype if it has a different implementation of that method

[16:18:30.0000] <heycam>
so sometimes it makes perfect sense to apply to it a subtype, and in a few cases you want different behaviour

[16:18:55.0000] <Hixie>
e.g. namedItem from HTMLCollection instances on an HTMLProperiesCollection instance, or the onerror setter of HTMLElement on HTMLBodyElement

[16:19:17.0000] <Hixie>
are there times where it makes sense where the subtype has an explicit definition of its own?

[16:19:43.0000] <heycam>
I guess mostly not

[16:19:51.0000] <heycam>
unless you're are just by chance shadowing the name

[16:19:53.0000] <heycam>
for whatever reason

[16:20:13.0000] <Hixie>
that would be dumb

[16:20:23.0000] <heycam>
well it would yes :)

[16:20:54.0000] <heycam>
what I don't like is embedding knowledge of what subtypes exist in the ancestor interface

[16:20:56.0000] <heycam>
but maybe it's unavoidable

[16:21:13.0000] <Hixie>
well i don't see how else you do this case

[16:21:25.0000] <Hixie>
whatever solution we use

[16:21:25.0000] <heycam>
yeah

[16:21:49.0000] <Hixie>
the real problem is we're doing subclassing in a language without a classical OOP model

[16:22:07.0000] <Hixie>
but that ship has sailed

[16:22:11.0000] <heycam>
I think I prefer the ancestor method to throw if it has an unacceptable sutyped object, than for it to automatically delegate to the overridden method

[16:22:19.0000] <Hixie>
agreed

[16:22:34.0000] <heycam>
should this just be the default?

[16:22:54.0000] <Hixie>
probably the only behaviour

[16:23:01.0000] <heycam>
yeah

[16:23:01.0000] <heycam>
ok

[16:23:28.0000] <heycam>
let's do that

[16:23:48.0000] <Hixie>
if a method/setter/getter from a prototype of interface A is applied to an object that is of an interface B that is a subclass of A, and B defines its own method/getter/setter with the same name, then throw.

[16:24:09.0000] <heycam>
yes

[16:24:16.0000] <heycam>
including if it's something that inherits from B

[16:24:23.0000] <heycam>
(but maybe that's what you meant)

[16:24:24.0000] <Hixie>
right

[16:25:22.0000] <heycam>
/me is in the middle of migrating to a new computer but notes it down to do

[16:25:46.0000] <heycam>
actually I'll comment in the bug

[16:25:58.0000] <Hixie>
i'll add this in an e-mail to you

[16:26:32.0000] <heycam>
ok

[16:28:11.0000] <heycam>
probably no need to mention setters/getters

[16:28:15.0000] <heycam>
since they can't be explicitly got

[16:28:23.0000] <heycam>
and are otherwise captured by methods

[16:28:29.0000] <Hixie>
k

[16:28:34.0000] <heycam>
but attributes too?

[16:28:50.0000] <Hixie>
by setters/getters i meant attributes

[16:28:54.0000] <heycam>
ah right

[16:29:07.0000] <heycam>
isn't there some stupid thing like SVGDocument.title, or have we fixed that

[16:29:19.0000] <Hixie>
HTML defines Document.title

[16:29:26.0000] <Hixie>
it defers to SVGDocument.title in certain cases

[16:29:35.0000] <Hixie>
SVGDocument and Document are the same interface these days

[16:29:39.0000] <heycam>
yeah

[16:29:47.0000] <heycam>
OK. I guess it should just have the "looking for SVG <title>" built in to it

[16:29:50.0000] <heycam>
and we shouldn't have title at all

[16:29:53.0000] <heycam>
(we = SVG)

[16:29:54.0000] <Hixie>
(and "For historical reasons, Window objects must also have a writable, configurable, non-enumerable property named HTMLDocument whose value is the Document interface object.")

[16:30:25.0000] <Hixie>
that's be fine too, right now i just defer to the SVG spec: http://www.whatwg.org/specs/web-apps/current-work/#document.title

[16:30:26.0000] <heycam>
aha :)

[16:31:07.0000] <heycam>
https://svgwg.org/svg2-draft/struct.html#InterfaceSVGDocument

[16:31:16.0000] <heycam>
(though it's now a partial interface Document)

[16:31:29.0000] <heycam>
those three attributes will disappear at some point

[16:31:45.0000] <Hixie>
hah, "For historical reasons, Window objects must also have a writable, configurable, non-enumerable property named SVGDocument whose value is the Document interface object."

[16:31:48.0000] <Hixie>
wonder where that came from!

[16:32:12.0000] <Hixie>
where's the normative prose that defines SVG's Document.title?

[16:32:23.0000] <Hixie>
the IDL only links to the information text below the IDL

[16:32:59.0000] <Hixie>
(e-mail sent)

[16:33:34.0000] <heycam>
much of SVG is still written in that style you don't like :)

[16:33:52.0000] <heycam>
although the bulletted list under the IDL is probably still counted as normative due to a sentence somewhere in the spec

[16:34:06.0000] <heycam>
saying that UAs must follow these statements or something

[16:34:11.0000] <Hixie>
oh that really is meant to be the definition?

[16:34:17.0000] <Hixie>
that definition is worse than worthless :-P

[16:34:19.0000] <heycam>
it looks a bit crappy

[16:34:27.0000] <heycam>
yeah what if there are two <title>s

[16:34:40.0000] <Hixie>
or if you set it and there are two text nodes

[16:34:46.0000] <Hixie>
oh it's readonly

[16:34:58.0000] <heycam>
is Document's writable?

[16:35:06.0000] <Hixie>
yeah

[16:35:24.0000] <Hixie>
this is more like what this should look like to actually capture what needs to happen: http://www.whatwg.org/specs/web-apps/current-work/#document.title

[16:35:36.0000] <Hixie>
that's like a screen's worth of text for what SVG has in one line :-P

[16:35:39.0000] <Hixie>
anyway

[16:35:41.0000] <heycam>
ok. well I'm sure it's fine if it just does the same here.

[16:35:50.0000] <heycam>
oh great, you've already written it :)

[16:35:59.0000] <Hixie>
didn't mean this to become an svg bitchfest, i was actually expecting there to be a definition elsewhere :-)

[16:36:02.0000] <heycam>
lol

[16:36:24.0000] <heycam>
I think there is nothing preventing those three IDL attributes from being removed then

[16:36:29.0000] <heycam>
/me will get to it at some point

[16:36:41.0000] <Hixie>
if you do please file a bug to have the HTML spec define the SVG side of things too

[16:36:44.0000] <Hixie>
or provide a hook or something

[16:36:48.0000] <zewt>
grr, how is it 2012 and almost no HTTP libraries support pipelining

[16:37:01.0000] <heycam>
Hixie, is anything else needed?

[16:37:10.0000] <heycam>
oh yes

[16:37:14.0000] <heycam>
because you just defer to our one

[16:53:00.0000] <heycam>
MikeSmith, user Nasserbufahad⊙gc on the W3C bugzilla seems to be causing some havoc

[16:54:21.0000] <zewt>
heh just saw that

[17:09:50.0000] <Hixie>
MikeSmith: yt?

[17:10:26.0000] <Hixie>
MikeSmith: Nasserbufahad⊙gc just corrupted a huge number of bugs

[17:10:43.0000] <MikeSmith>
heycam: Hixie working on it

[17:10:47.0000] <Hixie>
MikeSmith: if you could kill that account and undo all the changes it made, that'd be awesome (might need direct DB access)

[17:10:50.0000] <Hixie>
k

[17:11:01.0000] <Hixie>
oh hey, heycam is ahead of me

[17:11:30.0000] <heycam>
a rare thing

[17:11:46.0000] <Hixie>
dunno about that!

[17:13:58.0000] <Hixie>
heycam: i don't really have enough knowledge to response to bz's concern about the performance implications about what we discussed earlier

[17:14:19.0000] <heycam>
Hixie, I don't know what the reason for that is either

[17:17:12.0000] <Hixie>
heh, i like your reply

[17:20:44.0000] <MikeSmith>
so I shut down Nasserbufahad⊙gc bugzilla access

[17:21:06.0000] <MikeSmith>
looking through changes he made, so far I only see that he changed the OS value

[17:21:28.0000] <zewt>
he reassigned a bunch to himself

[17:21:33.0000] <MikeSmith>
ah OK

[17:21:41.0000] <MikeSmith>
that I'll revert then

[17:21:45.0000] <zewt>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=15023 https://www.w3.org/Bugs/Public/show_bug.cgi?id=19554

[17:21:50.0000] <MikeSmith>
thanks

[17:22:03.0000] <zewt>
(just ones I happened to get a cc for, so there are probably tons)

[17:22:05.0000] <MikeSmith>
stepping through all of them now

[17:22:08.0000] <MikeSmith>
yeah

[17:22:27.0000] <zewt>
did someone write a "fuck with bugzilla" script or was it slow enough that he was just being an idiot by hand

[17:23:16.0000] <MikeSmith>
heh he re-assigned some to Hixie as well

[17:23:29.0000] <MikeSmith>
zewt: no idea

[17:23:36.0000] <MikeSmith>
I wasn't seeing them come through in real time

[17:23:37.0000] <TabAtkins>
That means it's probably by hand.

[17:24:12.0000] <zewt>
in other words, a 12-year-old went "haha they let me do this i'll show them"

[17:25:56.0000] <MikeSmith>
the OS value he changed them to is Windows 3.1

[17:27:04.0000] <MikeSmith>
this had to be a script

[17:27:36.0000] <MikeSmith>
some of the changes have a timestamp only 1 second apart

[17:27:44.0000] <MikeSmith>
or actually some even the same time

[17:28:21.0000] <zewt>
does bugzilla have a history system robust enough to pick a batch of changes and undo?

[17:36:26.0000] <dbaron>
MikeSmith, I suspect he did "reassign to default assignee/qa"

[17:36:35.0000] <MikeSmith>
ok

[17:36:38.0000] <dbaron>
Also, folks, bugzilla has a UI for changing multiple bugs at once

[17:36:43.0000] <dbaron>
it's reasonably powerful

[17:36:47.0000] <MikeSmith>
true that

[17:37:07.0000] <dbaron>
(I think he changed every bug in "CSS Level 2" to Windows 3.1.)

[17:37:08.0000] <MikeSmith>
strangely though, he changed the assignee on some and then also changed it back

[17:38:44.0000] <MikeSmith>
I don't know how to tell what all he changed

[17:39:21.0000] <MikeSmith>
right now I'm just looking at the ones I'm Cced on, but that's a ton because I'm on the default Cc for tons of components

[17:39:23.0000] <gavin__>
if you were using a new bugzilla, you could use page.cgi?id=user_activity.html

[17:39:32.0000] <MikeSmith>
but not for the CSS componts

[17:39:39.0000] <MikeSmith>
gavin: ah OK

[17:40:00.0000] <MikeSmith>
we're running 4.2.3 I think

[17:40:21.0000] <gavin>
that may be new enough?

[17:40:28.0000] <gavin>
ah, no

[17:40:35.0000] <gavin>
that may also be a b.m.o-specific thing, not sure

[17:41:19.0000] <MikeSmith>
yeah https://www.w3.org/Bugs/Public/page.cgi?id=user_activity.html just shows me an error

[17:41:25.0000] <MikeSmith>
"The requested format does not exist with a content type of html."

[17:41:55.0000] <dbaron>
w3c bugzilla is generally an antique model bugzilla

[17:42:07.0000] <dbaron>
possibly fossilized

[17:42:42.0000] <gavin>
hrm, https://www.w3.org/Bugs/Public/ says 4.2.4

[17:42:56.0000] <gavin>
b.m.o is running 4.0.9+, according to https://bugzilla.mozilla.org/

[17:43:19.0000] <dbaron>
maybe it's just not turning any of the new features on?

[17:43:27.0000] <dbaron>
or all the good stuff is b.m.o-specific?

[17:44:05.0000] <gavin>
(b.m.o bug 764897 confirms that it's on pre-4.2)

[17:44:47.0000] <MikeSmith>
dbaron: W3C was running a really old version until fairly recently, but upgraded

[17:45:25.0000] <MikeSmith>
/me looks to see if there's an admin option for turning on the user-activity thing

[17:48:09.0000] <gavin>
I think it's a custom b.m.o extension

[17:48:25.0000] <MikeSmith>
http://w3.org/brief/MzA0 is the list of remaining bugs where he reassigned to himself

[17:52:28.0000] <MikeSmith>
gavin: yeah I don't see any parameter for it at https://www.w3.org/Bugs/Public/editparams.cgi?section=index

[18:15:19.0000] <MikeSmith>
rniwa: that guy changed the OS value on dozens and dozens of bugs

[18:15:26.0000] <rniwa>
MikeSmith: yeah.

[18:15:32.0000] <rniwa>
MikeSmith: it was super annoying :/

[18:15:33.0000] <MikeSmith>
I'm planning to just leave them as-is

[18:15:35.0000] <MikeSmith>
yeah

[18:16:08.0000] <MikeSmith>
I was thinking of changing them back en masse, but I guess that might be equally annoying

[18:16:20.0000] <MikeSmith>
I wish we really could just eliminate that field

[18:51:14.0000] <Hixie>
MikeSmith: there should be a way at the db level to just revert all his changes

[18:51:28.0000] <MikeSmith>
yeah

[18:51:37.0000] <MikeSmith>
I sent mail to the systems team about it

[18:51:50.0000] <MikeSmith>
I don't have direct access to the DB myself

[18:52:39.0000] <MikeSmith>
anyway the only destructive changes I can see that he made were the re-assignments, and I've now reverted all of those

[19:01:57.0000] <Hixie>
MikeSmith: thanks man

[19:02:13.0000] <MikeSmith>
thanks for the heads-up

[19:02:19.0000] <MikeSmith>
was away from e-mail at the time

[00:07:45.0000] <kennyluck>
Back to Windows 3.1!!

[00:12:51.0000] <hsivonen>
kennyluck: ?

[00:15:07.0000] <kennyluck>
hsivonen, I am getting thousands of Bugzilla mails because a bot (<Nasserbufahad⊙gc>) changes the OS filed of all bugs in the CSS 2.1 component to Windows 3.1… like this one → https://www.w3.org/Bugs/Public/show_activity.cgi?id=15892

[00:17:05.0000] <jordanbtucker>
hi guys

[00:17:59.0000] <jordanbtucker>
looking at parsing.html#the-stack-of-open-elements, it defines a "current table", but i don't see any other references to the current table in the rest of the spec

[00:18:07.0000] <jordanbtucker>
what is the point of the current table?

[00:19:41.0000] <MikeSmith>
kennyluck: yeah I shut down that account several hours ago

[00:19:55.0000] <kennyluck>
MikeSmith, great thanks!

[00:20:00.0000] <MikeSmith>
unfortunately not before it managed to send all the spam

[00:20:41.0000] <MikeSmith>
I think I already repaired any of the actual destructive changes it made

[00:20:56.0000] <MikeSmith>
e.g., changed the assignee on some bugs

[00:23:36.0000] <MikeSmith>
jordanbtucker: I have not clue either what the point of defining "current table" is or was

[00:23:43.0000] <MikeSmith>
hsivonen might know

[00:24:04.0000] <MikeSmith>
but it's probably worth filing a bug on

[00:24:33.0000] <jordanbtucker>
perhaps it was used for something in a previous version of the parser, but, yeah, i'll file a bug

[00:33:41.0000] <annevk>
heh nice find

[00:35:21.0000] <jordanbtucker>
i'm writing a parser

[00:36:16.0000] <annevk>
language?

[00:36:37.0000] <jordanbtucker>
C#

[00:36:40.0000] <annevk>
I did some archaeology and http://www.w3.org/TR/2009/WD-html5-20090212/tree-construction.html seems to still use the concept

[00:40:27.0000] <MikeSmith>
hmm I thought IE8 is supposed to have document.querySelectorAll support

[00:40:29.0000] <jordanbtucker>
interesting

[00:41:12.0000] <MikeSmith>
wonder why the "current table" stuff was removed

[00:41:55.0000] <MikeSmith>
I don't find any mention of it the subversion logs

[00:42:37.0000] <MikeSmith>
maybe 3382?

[00:43:21.0000] <MikeSmith>
yeah

[00:43:22.0000] <MikeSmith>
http://html5.org/tools/web-apps-tracker?from=3381&to=3382

[00:43:25.0000] <annevk>
MikeSmith: it's now defined in terms of a "foster parent element" which also uses a table

[00:43:39.0000] <MikeSmith>
ok

[00:45:01.0000] <MikeSmith>
annevk: actually it seems like maybe it already was defined in those terms before Hixie removed the current-table bits

[00:45:49.0000] <MikeSmith>
seems like what he changed is, he added the "in table text" insertion mode

[00:46:17.0000] <hsivonen>
Whoa. http://mozilla.github.com/pdf.js/features/ says IE10 doesn’t have XMLHttpRequest.prototype.overrideMimeType()

[00:49:09.0000] <annevk>
Is there a way to verify whether an object instance in JavaScript is "JSON-safe" without causing that object to execute script?

[00:52:38.0000] <Ms2ger>
Probably not

[00:53:00.0000] <hsivonen>
hmm. Google keeps having interesting ways of abusing the platform. And then asking for native features.

[00:53:17.0000] <hsivonen>
like loading scripts as multiple <script>s in an iframe

[00:57:16.0000] <MikeSmith>
so I guess IE8 only supports querySelectorAll in standards mode. and I'm guessing that http://netrenderer.com/ doesn't do its IE8 rendering in standards mode

[00:58:47.0000] <hsivonen>
huh? doesn’t it defeat the point of netrenderer if it doesn’t let IE8 choose its mode like a normal installation would?

[01:03:12.0000] <MikeSmith>
hsivonen: would think so. But I'm using a simple "if (!document.querySelectorAll) return" and it seems to be returning on that

[01:03:52.0000] <MikeSmith>
otherwise I'm pretty sure I'd be seeing something rendered from the code after that

[01:04:49.0000] <hsivonen>
MikeSmith: would you like me to run your test case in real IE8?

[01:05:02.0000] <karlcow>
darobin: not sure if it's a known issue but…

[01:05:04.0000] <MikeSmith>
yeah if you have a minute

[01:05:07.0000] <karlcow>
for example on http://www.w3.org/TR/html5/common-dom-interfaces.html#domstringmap-0

[01:05:17.0000] <karlcow>
click on Table of contents

[01:05:31.0000] <karlcow>
it goes to http://www.w3.org/TR/html5/index.html#contents which is a file not found

[01:05:42.0000] <MikeSmith>
hsivonen: http://qa-dev.w3.org:8888/?doc=http%3A%2F%2Fwikipedia.com Or actually, any document would do

[01:05:53.0000] <MikeSmith>
hsivonen: you should see a "Message filtering" button

[01:06:26.0000] <annevk>
Ms2ger: was afraid of that

[01:06:47.0000] <MikeSmith>
karlcow: hmm yeah

[01:06:47.0000] <hsivonen>
MikeSmith: I see that button in Firefox. I don’t see the button in IE8 on Windows XP.

[01:07:33.0000] <hsivonen>
MikeSmith: Browser Mode: IE8; Document Mode: IE8 Standards

[01:08:09.0000] <MikeSmith>
hsivonen: OK, thanks. If you have one more minute, lemme remove the "if (!document.querySelectorAll)" check

[01:08:25.0000] <hsivonen>
MikeSmith: Object doesn’t support this property or method, line 8 in /

[01:08:42.0000] <MikeSmith>
oh

[01:08:46.0000] <MikeSmith>
line 8..

[01:08:52.0000] <hsivonen>
MikeSmith: ‘null’ is null or not an object script.js line 488, char 4

[01:09:13.0000] <hsivonen>
line 8 of HTML—not scriptjs

[01:09:29.0000] <MikeSmith>
OK

[01:10:05.0000] <hsivonen>
“‘null’ is null or not an object” is a lovely error message

[01:10:23.0000] <MikeSmith>
heh

[01:11:15.0000] <MikeSmith>
hsivonen: this makes me wonder whether the JavaScript for http://html5.validator.nu/ or http://validator.nu/ works in IE8

[01:11:38.0000] <hsivonen>
MikeSmith: didn’t work last I checked

[01:11:43.0000] <MikeSmith>
ah

[01:11:44.0000] <MikeSmith>
OK

[01:11:46.0000] <hsivonen>
let’s see

[01:12:34.0000] <hsivonen>
“‘null’ is null or not an object” happens on validator.nu, too

[01:12:43.0000] <MikeSmith>
ah OK

[01:12:58.0000] <MikeSmith>
man I was worrying about trying to stick to JS features that work IE8. For the validator code, I mean. I guess I don't need to worry about it, huh?

[01:13:19.0000] <hsivonen>
I suppose not unless you also want to fix the old code

[01:13:30.0000] <darobin>
karlcow: yeah, there was a last minute renaming of index.html to Overview.html by the webmaster...

[01:13:38.0000] <MikeSmith>
hsivonen: no thanks :)

[01:15:26.0000] <MikeSmith>
hsivonen: if no IE8 users are currently unhappy enough about not having the parts of the UI that rely on JavaScript to file a bug, they won't miss anything new we add to the UI that needs JavaScript

[01:16:27.0000] <MikeSmith>
darobin: yeah I wish now he really hadn't done that. I can't remember at this point what his rationale was

[01:16:30.0000] <hsivonen>
MikeSmith: makes sense

[01:16:50.0000] <darobin>
MikeSmith: it's okay, I'm fixing the tools to just use Overview.html everywhere next time

[01:17:02.0000] <MikeSmith>
darobin: ok

[01:23:18.0000] <Smylers>
“[20:09] <Hixie> GPHemsley: our shared list...” You have a private list for WHATWG business?

[01:23:32.0000] <Smylers>
I had a look, but it doesn't seem to be publicly archived anywhere.

[01:23:35.0000] <Smylers>
Shocking!

[01:58:24.0000] <annevk>
o_O

[01:58:48.0000] <Ms2ger>
Hmm?

[01:59:22.0000] <annevk>
Ms2ger: there's a list for "I want a wiki account" so we don't need to list individual email addresses on the wiki

[01:59:32.0000] <Ms2ger>
Ah, I see

[02:09:19.0000] <zcorpan>
MikeSmith: iirc, the js code in v.nu is deliberately throwing an exception in ie8 because otherwise ie would crash.

[02:09:38.0000] <MikeSmith>
oh

[02:09:59.0000] <MikeSmith>
ah yeah

[02:10:03.0000] <MikeSmith>
I know the part you mean

[02:10:33.0000] <MikeSmith>
but that's only in the code that handles the message grouping I think

[02:10:45.0000] <zcorpan>
ah, ok

[02:11:05.0000] <zcorpan>
what else is throwing?

[02:11:28.0000] <MikeSmith>
no, I mean that's the only place where we're throwing

[02:11:47.0000] <zcorpan>
ok

[02:12:03.0000] <MikeSmith>
and if/when we add the message-filtering feature, it will replace the current message-grouping feature

[02:12:30.0000] <MikeSmith>
so we should probably move that throw to somewhere else, if we want to keep

[02:12:33.0000] <MikeSmith>
*keep it

[02:15:05.0000] <zcorpan>
Smylers1: it's archived, but only the Hixie Team have access

[02:15:14.0000] <zcorpan>
(i.e. Hixie and his cats)

[02:16:11.0000] <Ms2ger>
Probably still a bigger group than the team-html-* lists

[02:49:01.0000] <darobin>
/me wonders if he should sign his cat up to team-html-* too

[02:57:53.0000] <annevk>
ffs

[02:58:06.0000] <odinho>
bffs?

[02:58:08.0000] <annevk>
relList does not have uniqueness right?

[02:59:58.0000] <annevk>
or is the rel="up up up" thing gone?

[03:01:34.0000] <annevk>
and why is class="" not defined as unordered set of unique space-separated tokens?

[03:01:37.0000] <annevk>
Hixie!!

[03:02:06.0000] <annevk>
this probably unlikely to be an effective way of reaching him

[03:02:30.0000] <jgraham>
It is 3am in SF

[03:02:47.0000] <annevk>
I know

[03:02:47.0000] <jgraham>
I imagine that the most successful way to reach him would be to break into his bedroom

[03:02:51.0000] <jgraham>
and tickle his feet

[03:03:17.0000] <jgraham>
And try and shout your complaint in the time between him waking up and calling the police

[03:03:26.0000] <annevk>
by the time I get there I might as well have waited eight hours

[03:03:45.0000] <jgraham>
You could get someone else to do it for you, I guess

[03:04:13.0000] <jgraham>
There's probably a startup with that as their business model

[03:06:24.0000] <SimonSapin>
http://xkcd.com/163/

[03:06:57.0000] <annevk>
anyway, I guess DOMTokenList already guarantees uniqueness so Hixie should just update rel/class to point that out

[03:07:00.0000] <annevk>
which would make rel="up up up up" as jreschke pointed out long ago, a kinda flawed solution

[03:07:01.0000] <annevk>
which means I can rewrite DOMTokenList to represent an ordered Set

[03:07:15.0000] <annevk>
and then whenever DOMTokenList updates the corresponding attribute is updated

[03:08:29.0000] <annevk>
SimonSapin: apt

[03:31:37.0000] <annevk>
DOMTokenList represents an ordered set; DOMTokenList update steps update the associated string; DOMTokenList parser takes a string and initializes the DOMTokenList

[03:32:09.0000] <hsivonen>
so someone mentioned yesterday that the CSS WG has a process for dealing with Level 2.1 tests that don’t pass in a compliant Level 3 implementation

[03:32:18.0000] <hsivonen>
is that process documented somewhere?

[03:32:30.0000] <hsivonen>
was sending http://lists.w3.org/Archives/Public/public-css-testsuite/2012Dec/0000.html the right thing to do per that process?

[03:33:49.0000] <jgraham>
Pretty sure referencing W3C Memes for Process is never right per Process

[03:34:16.0000] <annevk>
hsivonen: http://wiki.csswg.org/test has a bunch of pages

[03:34:34.0000] <hsivonen>
jgraham: at least I refrained from referencing http://w3cmemes.tumblr.com/post/35332222321/css-2-1-syndata-is-awesome

[03:38:48.0000] <hsivonen>
It still troubles me that writing and reviewing http://test.csswg.org/suites/css2.1/20110323/html4/at-charset-046.htm didn’t lead to a spec change

[03:40:58.0000] <hsivonen>
annevk: I don’t find a policy for this topic there

[03:41:12.0000] <annevk>
me neither :/

[03:41:16.0000] <hsivonen>
oh well. I’ll wait and see what happens

[03:44:53.0000] <hsivonen>
actually, the test case that matches the meme is http://test.csswg.org/suites/css2.1/20110323/html4/at-charset-045.htm

[03:46:28.0000] <annevk>
thanks a lot for following through hsivonen

[03:46:40.0000] <annevk>
still doing your best to get that angel badge ;-)

[03:58:55.0000] <darobin>
annevk: I hope you'll make good on your TAG promises now that the election is open!

[03:59:01.0000] <darobin>
slightlyoff: that's for you too

[03:59:04.0000] <darobin>
and marcosc

[03:59:33.0000] <darobin>
and wycats_ :)

[03:59:36.0000] <annevk>
darobin: by that I take it you mean to post to www-tag?

[03:59:43.0000] <marcosc>
annevk made promises?

[03:59:44.0000] <darobin>
annevk: yup

[03:59:56.0000] <darobin>
he promised to campaign properly

[04:00:15.0000] <darobin>
four seats for four horsemen

[04:00:24.0000] <hsivonen>
how many votes per Member?

[04:00:40.0000] <darobin>
hsivonen: up to four, to be cast on distinct individuals

[04:00:52.0000] <hsivonen>
darobin: ok

[04:01:43.0000] <marcosc>
/me looks at www-tag for the first time ever.

[04:01:52.0000] <darobin>
some members have already voted so I reckon you ought to get your campaign going

[04:01:55.0000] <marcosc>
at least they don't send a lot of email

[04:02:11.0000] <AryehGregor>
Wait, annevk wants to be on the TAG?  Won't that just result in giant flamewars?

[04:02:53.0000] <zcorpan>
is https://bugzilla.mozilla.org/show_bug.cgi?id=816045#c8 a spec bug?

[04:02:59.0000] <annevk>
darobin: thanks for the heads up, will try to get to it before the end of the week

[04:03:07.0000] <darobin>
coolness

[04:03:17.0000] <darobin>
AryehGregor: depends on who gets elected

[04:03:46.0000] <darobin>
amongst the candidates, there are annevk, slightlyoff, marcosc, and wycats_ — if they all get elected it could lead to interesting changes :)

[04:03:57.0000] <AryehGregor>
darobin, that sounds like "yes, but you can't prove it".

[04:04:24.0000] <darobin>
nah, actually I think if the results turn out right it could prove constructive

[04:04:26.0000] <AryehGregor>
Also, I thought the TAG theoretically has no power per Process and is really just a way for the Director to claim he's not acting unilaterally.

[04:09:09.0000] <AryehGregor>
Anyway, even if you take over the TAG, that will just put it at loggerheads with the AC.

[04:09:32.0000] <jgraham>
AryehGregor: What the process *says* isn't important. It's about what people percieve.

[04:09:49.0000] <AryehGregor>
Oh well, I gave up on W3C process ages ago.

[04:12:19.0000] <annevk>
AryehGregor: Is your point that we should not try?

[04:13:47.0000] <AryehGregor>
Yes, I think the W3C is fundamentally a lost cause, because it's ultimately controlled (financially) by the Members, who mostly are not qualified to have opinions on anything.

[04:14:08.0000] <marcosc>
ouch

[04:15:11.0000] <AryehGregor>
A standards body that's controlled by a vote of organizations with only minor or tangential stakes in the web cannot be expected to produce useful policies.

[04:15:22.0000] <darobin>
that's all a rather broad mischaracterisation :)

[04:15:24.0000] <annevk>
AryehGregor: Irrespective of whether that's true, there's no other suitable body that offers patent protection and participation from Microsoft. So trying to somehow reform the body seems like it's worth a shot.

[04:15:28.0000] <AryehGregor>
The correct structure needs to be de facto control by implementers.

[04:15:42.0000] <AryehGregor>
Well, good luck.

[04:15:51.0000] <darobin>
the Director has power, and in my experience doesn't need anyone's blessing to act

[04:16:18.0000] <darobin>
being "at loggerheads with the AC" is something that I don't even understand in the TAG context

[04:16:30.0000] <darobin>
(having been both an AC rep and a TAG member)

[04:16:42.0000] <AryehGregor>
I suppose the AC isn't involved directly in much that's important, so you could work around it.

[04:16:48.0000] <AryehGregor>
I'm mostly thinking of the licensing issue.

[04:17:02.0000] <darobin>
the licensing issue is not a TAG decision

[04:17:09.0000] <AryehGregor>
I know, it's an AC decision, right?

[04:17:12.0000] <darobin>
yup

[04:17:17.0000] <AryehGregor>
That's my point about the AC.

[04:17:33.0000] <AryehGregor>
If the AC gets to make those decisions, they'll be wrong.

[04:17:47.0000] <darobin>
sometimes, not always

[04:17:54.0000] <AryehGregor>
Wasn't the AC also what decided to not allow Web Apps 1.0 to be hosted at the W3C to start with?

[04:17:58.0000] <darobin>
though you won't get disagreement from me on the licensing issue

[04:18:07.0000] <darobin>
AryehGregor: note that it's the AC that brought us RF in the first place

[04:18:19.0000] <darobin>
AryehGregor: hmmm, no

[04:18:27.0000] <hsivonen>
RF is the W3C’s greatest achievement

[04:19:00.0000] <hsivonen>
RF is still the main value W3C provides

[04:19:19.0000] <darobin>
thank the AC, then ;-)

[04:19:32.0000] <hsivonen>
makes the silliness of copying and pasting WHATWG specs in the W3C worthwhile

[04:19:35.0000] <AryehGregor>
I should probably just stay quiet here, because I tend to lose interest as soon as anyone tries to tell implementers what to do.

[04:19:53.0000] <AryehGregor>
The AC "brought us" RF, or just were willing to approve it?

[04:20:04.0000] <darobin>
/me tries to remember last time someone "told implementers what to do"

[04:20:29.0000] <odinho_>
Who is Nasserbufahad, and why does he think all spec bugs are related to Windows 3.1?

[04:20:46.0000] <darobin>
AryehGregor: it's from a long time ago, but if the RF policy had been decided by implementers alone, we probably wouldn't have it

[04:21:01.0000] <marcosc>
odinho_: yeah, that guy needs a banning.

[04:21:35.0000] <odinho>
odinho_: WTF. /me slaps odinho_

[04:21:38.0000] <darobin>
just suggesting that the industry and the way(s) in which it congregates can be complex and fluctuating

[04:21:58.0000] <darobin>
anyway, I need to skedaddle

[04:22:27.0000] <annevk>
MikeSmith: maybe by default new users should not have editbugs on w3.org?

[04:22:37.0000] <annevk>
MikeSmith: at least if this happens again I'd be for that, because this was crazy

[04:22:49.0000] <marcosc>
agreed

[04:22:56.0000] <AryehGregor>
Or have flood protection for editbugs, if Bugzilla supports it.

[04:23:12.0000] <MikeSmith>
it used to be that way but then we had to manually give people editbugs, which is also a PITA and makes me the bottleneck

[04:23:15.0000] <AryehGregor>
Random users shouldn't need to modify more than three bugs in any 24-hour period.

[04:23:37.0000] <MikeSmith>
AryehGregor: yeah, some kind of flood protection sure would make a lot more sense

[04:23:55.0000] <AryehGregor>
Soft security!

[04:24:14.0000] <MikeSmith>
but the thing is, there are some times when we need to mass-change hundreds of bugs at once

[04:24:34.0000] <MikeSmith>
e.g., we did that to clone all the HTML spec bugs a while back

[04:25:11.0000] <MikeSmith>
anyway, question: without using querySelectorAll, if I have some elements that are class="foo bar" and some that are class="foo", is there any good way (other than manually walking the tree) that I can select just the class="foo" elements only?

[04:25:45.0000] <AryehGregor>
MikeSmith, why without qSA?

[04:25:53.0000] <odinho>
MikeSmith: Y U invent arbitrary restrictions? :|

[04:25:56.0000] <AryehGregor>
How about getElementsByClassName() and then filter?

[04:25:56.0000] <MikeSmith>
heh

[04:26:42.0000] <MikeSmith>
AryehGregor: filter by iterating through the resulting nodelist?

[04:26:48.0000] <odinho>
I'd like to do this querySelectorAll thing, but it's too long to type, so how can I do it in some other way? :P

[04:26:48.0000] <AryehGregor>
MikeSmith, yes.

[04:26:55.0000] <AryehGregor>
Either with a loop, or .filter().

[04:27:27.0000] <MikeSmith>
not using qSA because I don't need it for anything else in this script. Just using getElementsByClassName for everything else

[04:27:33.0000] <MikeSmith>
AryehGregor: OK

[04:27:39.0000] <AryehGregor>
That seems like an arbitrary restriction.

[04:28:19.0000] <odinho>
Presumably to support older browsers, though you didn't hear that from me!

[04:28:33.0000] <odinho>
I like my bubble where I just code for the new stuff. :D

[04:29:12.0000] <MikeSmith>
I could switch everything to using qSA but I think the performance of that is worse, right?

[04:29:31.0000] <AryehGregor>
Is this script so performance-sensitive that it would make a difference?

[04:29:45.0000] <AryehGregor>
Are you talking about trees with many thousands of nodes with a function being run many times per second?

[04:30:15.0000] <AryehGregor>
CSS selectors are extremely fast.  I doubt it would be a problem unless you're doing something exciting.

[04:30:57.0000] <MikeSmith>
ok

[04:31:04.0000] <MikeSmith>
this is definitely not exciting

[04:31:12.0000] <AryehGregor>
(also, you *can* use qSA only in the places you need it, y'know -- you don't get extra points for minimizing the number of distinct functions used)

[04:31:27.0000] <AryehGregor>
I personally use qS(A) for everything and don't bother with the older-style functions unless I have a very specific reason.

[04:31:28.0000] <odinho>
Shouldn't be slower for the common cases. Implementation should have a fast path for those. That's my opinion, now I pay everyone 2c (?)

[04:31:45.0000] <MikeSmith>
heh

[04:31:50.0000] <MikeSmith>
AryehGregor: OK

[04:32:07.0000] <AryehGregor>
The selector here would probably be something like "[class=foo]" or ".foo:not(.bar)", which is unlikely to hit fast paths AFAIK.

[04:32:31.0000] <MikeSmith>
yeah, just "[class=foo]"

[04:33:25.0000] <jgraham>
If you don't get points for minimising the number of functions used, what the hell was jQuery doing?

[04:36:22.0000] <MikeSmith>
hey btw is there a way to make Opera correctly display a button as a button if it doesn't have any form ancestor?

[04:36:50.0000] <MikeSmith>
I mean without writing all the button styling

[04:37:26.0000] <MikeSmith>
which I've already done now so perhaps my question is moot

[04:37:29.0000] <MikeSmith>
still, I'm curious

[04:42:20.0000] <gsnedders>
MikeSmith: What doesn't work? <html><button>foo</button> WFM

[04:43:58.0000] <MikeSmith>
gsnedders: hmm yeah

[04:44:40.0000] <MikeSmith>
so now I'm wondering why it wasn't working when I tried it

[04:46:41.0000] <MikeSmith>
hmm yeah but I tried it again and it's definitely not in this case

[04:46:50.0000] <MikeSmith>
/me tries to make a reduced test

[04:47:16.0000] <gsnedders>
No foreignObject around?

[04:49:00.0000] <annevk>
MikeSmith: [class=foo] won't match class="foo "

[04:49:12.0000] <MikeSmith>
annevk: yeah, that's OK

[04:49:29.0000] <MikeSmith>
I'm generating that "foo" values so I know they don't have spaces

[04:53:35.0000] <annevk>
hackydyhack

[05:00:13.0000] <annevk>
MikeSmith: any update yet on just having WHATWG/URL in Bugzilla?

[05:01:56.0000] <annevk>
Is there any specification outside of HTML that uses DOMTokenList and/or DOMSettableTokenList?

[05:02:35.0000] <annevk>
jgraham: did you or someone else create classList testcases?

[05:02:51.0000] <annevk>
jgraham: some of them might need to be updated after I have rewritten this

[05:02:59.0000] <annevk>
(and implementations too)

[05:03:34.0000] <MikeSmith>
annevk: I thought I added it already

[05:08:14.0000] <jgraham>
annevk: Yes, I or someone else created them

[05:08:24.0000] <jgraham>
But I don't remember which

[05:08:38.0000] <jgraham>
Which does sort of suggest someone else

[05:28:29.0000] <MikeSmith>
annevk: ah OK yeah I haven't talked to Art yet

[05:28:33.0000] <MikeSmith>
will ask him now

[05:58:53.0000] <MikeSmith>
annevk: talked with Art and has I expected he's not going amenable to dropping the component

[05:59:33.0000] <annevk>
so he favors two components?

[05:59:49.0000] <annevk>
I guess he can keep his useless component then and confuse people all over :/

[06:00:31.0000] <MikeSmith>
yeah I don't think I am going to convince him

[06:01:06.0000] <MikeSmith>
so anyway, given that, I will make sure to move over myself any bugs filed there

[06:01:17.0000] <MikeSmith>
maybe I can write a script to do it automatically

[06:06:26.0000] <annevk>
the component in WebAppsWG is empty

[06:06:32.0000] <annevk>
it's just that people might stumble upon it

[06:06:58.0000] <annevk>
and Art's copy of the URL draft doesn't even refer to it

[06:07:03.0000] <annevk>
does he even know what he's doing?

[06:08:56.0000] <MikeSmith>
he knows what he's doing

[06:09:42.0000] <MikeSmith>
he's stuck with the consequences of trying to chair a WG under W3C policies that he has no control over and doesn't necessarily agree with

[06:09:51.0000] <MikeSmith>
he's one of the best chairs we have

[06:09:58.0000] <annevk>
there's no policy on bug components though

[06:10:02.0000] <MikeSmith>
and he's working in good faith

[06:10:04.0000] <MikeSmith>
yeah I know

[06:10:09.0000] <annevk>
e.g. the i18n WG does not care about it

[06:10:34.0000] <annevk>
sorry, I18N WG

[06:11:05.0000] <MikeSmith>
that may be just because they're not actually paying attention

[06:11:16.0000] <MikeSmith>
most people aren't paying attention

[06:11:21.0000] <MikeSmith>
Art pays attention

[06:11:27.0000] <MikeSmith>
and stays on top of things

[06:11:29.0000] <annevk>
I discussed it with the chairs

[06:11:33.0000] <MikeSmith>
ah OK

[06:13:00.0000] <annevk>
arv: in a normal timezone by any chance?

[06:25:22.0000] <arv>
annevk: Normal by my standard at least

[06:25:58.0000] <annevk>
arv: so for all arity methods, do we want to support the empty sequence?

[06:26:20.0000] <annevk>
arv: or do we want to make a distinction, perhaps at IDL level too, between 0 or more and 1 or more

[06:27:14.0000] <arv>
annevk: yes. or let me clarify, ...foo means foo can be an empty array. If we want at least one of it we need to have one required param and on rest param (foo, ...fooRest)

[06:27:51.0000] <arv>
annevk: for the DOM mutation methods I don't see a reason to restrict to 1+

[06:28:58.0000] <annevk>
from an IDL perspective having "foo..." and "optional foo..." makes more sense to me

[06:29:07.0000] <annevk>
I guess I'm fine with the DOM mutation methods supporting 0

[06:29:34.0000] <annevk>
it seems weird to have optional and not use it for arity given this use case

[06:30:13.0000] <arv>
Why do we want to diverge from JS, Python, Java, C# here and make ...foo mean 1+ arguments?

[06:31:15.0000] <annevk>
I guess we don't, it just seems illogical

[06:32:08.0000] <arv>
you don't need to include optional in the type spec either. ... means optional

[06:33:26.0000] <annevk>
sure

[06:33:42.0000] <annevk>
I guess my perspective is that when I right the spec I don't want to talk about foo and fooRest as if they're separate

[06:33:57.0000] <annevk>
I only care about a collection of foo objects and that there's at least one of them

[06:34:11.0000] <annevk>
s/right/write/ o_O

[06:34:59.0000] <annevk>
I would imagine I'd like the same in type-constrained code :-)

[06:36:00.0000] <arv>
Fair enough. It does make spec prose more verbose but on the other hand idl and prose often drift apart

[06:36:50.0000] <arv>
There are two options. One is to only write this requirement in prose. The other one is to be more verbose. Your call ;-)

[06:37:29.0000] <zewt>
well, the other option is to add syntax to webidl, so the verbosity is encapsulated in the dispatch

[06:38:01.0000] <zewt>
(don't know all the context, but FWIW i agree that things like DOM "append these items" methods should definitely accept 0)

[06:38:06.0000] <annevk>
Yeah, the moment we give people a "your call" our APIs will start to diverge, but that is happening anyway :/

[06:39:10.0000] <annevk>
I thought requiring optional DOMString... was kinda neat (for 0 or more), but if ... is expected to mean optional in so many places I guess that's not gonna fly

[06:40:53.0000] <zewt>
what it means in the IDL doesn't need to correspond to what a similar-looking token means in JS, though

[06:41:17.0000] <zewt>
(i'm assuming this is a new JS feature, from context--don't know where to look for a description, and "..." is 100% ungooglable)

[06:41:29.0000] <zcorpan>
MikeSmith: document.querySelectorAll('[class=foo]')

[06:42:57.0000] <annevk>
zewt: arv seems to disagree and in general people are already uncomfortable with IDL being so "alien"

[06:43:03.0000] <MikeSmith>
zcorpan: yeah, thanks

[06:43:21.0000] <zcorpan>
oh i see you reached that conclusion later

[06:44:40.0000] <arv>
zewt: http://wiki.ecmascript.org/doku.php?id=harmony:specification_drafts It has been in the ES6 drafts for a year maybe and it is available in Firefox since a few months back

[06:44:48.0000] <zewt>
annevk: it's defining typed interfaces and inheritance trees, it's inherently not at all javascript

[06:45:04.0000] <zewt>
no sense pretending it is, IMO

[06:45:31.0000] <arv>
zewt: WebIDL only describes JS. There are no other bindings defined.

[06:45:35.0000] <zewt>
also if it's "...foo" in JS and the more common "foo..." in the idl, that makes them pretty clearly different

[06:45:46.0000] <zewt>
arv: doesn't matter, the webidl language is not javascript

[06:45:58.0000] <arv>
zewt: Who are we pretending we are not serving JS only?

[06:46:10.0000] <zewt>
uh, I didn't say it's not only used for javascript

[06:46:13.0000] <zewt>
i said it isn't javascript

[06:46:59.0000] <arv>
zewt: But we are only serving JS so we might as well stop pretending we are trying to define APIs that can be used from any language

[06:47:11.0000] <zewt>
... i didn't say anything about that

[06:47:31.0000] <arv>
zewt: so aligning the semantics has high value

[06:47:46.0000] <arv>
as well as syntax where possible

[06:47:58.0000] <zewt>
the webidl language and the javascript language basically have nothing in common, so that makes no sense

[06:48:56.0000] <arv>
zewt: I'm not ok with that. I think that is an issue by itself

[06:49:12.0000] <zewt>
unless you're planning on redefining webidl from scratch, i think "oh well" :)

[06:49:25.0000] <arv>
these are living standards

[06:49:39.0000] <arv>
when we add new features we should align them when possible

[06:49:51.0000] <zewt>
you're free to try to convince everyone to make a new idl language, but today what we have is webidl

[06:49:55.0000] <zcorpan>
MikeSmith: the "show all" and "hide all" links have the visited style, which looks annoying

[06:52:37.0000] <zewt>
annevk: fwiw, another idea off the top of my head is eg. "DOMString{1,}...", though I suppose that's overcomplicated if all you'll ever want is 0+ and 1+

[06:53:02.0000] <MikeSmith>
zcorpan: what should I change them to? no color? blue?

[06:53:14.0000] <zcorpan>
blue

[06:53:15.0000] <annevk>
maybe DOMString...+

[06:53:19.0000] <MikeSmith>
ok

[06:53:22.0000] <MikeSmith>
will do

[06:53:22.0000] <annevk>
but it seems so inconssitent with the rest of IDL

[06:53:33.0000] <zewt>
hmm

[06:54:04.0000] <zcorpan>
which APIs want 0+?

[06:54:15.0000] <zewt>
i'd expect 0+ to be the majority and 1+ to be rare

[06:54:30.0000] <annevk>
zcorpan: append/prepend in DOM

[06:54:40.0000] <annevk>
1+ is URLQuery.set I guess

[06:54:43.0000] <zewt>
typically you wouldn't want foo.apply(foo, list_of_stuff) to fail if list_of_stuff happens to be empty

[06:55:11.0000] <zewt>
(unless it has to)

[06:55:19.0000] <annevk>
although URLQuery.set could be 0+ too, it would just mean the same as URLQuery.delete when passed with 0

[06:55:51.0000] <zcorpan>
annevk: why do append/prepend want 0+?

[06:55:57.0000] <zewt>
could say "DOMString+", and not have a syntax for 1+ at all (do that in prose if it comes up)

[06:56:16.0000] <annevk>
zcorpan: convenience

[06:56:40.0000] <annevk>
zewt: arity is already DOMString...

[06:56:52.0000] <annevk>
don't need a syntax for that :)

[06:56:58.0000] <zcorpan>
annevk: convenience for "Run the mutation method macro."?

[06:57:06.0000] <annevk>
zcorpan: no

[06:57:21.0000] <annevk>
zcorpan: for people using the methods

[06:57:21.0000] <zewt>
zcorpan: the question is the opposite--why would you want to cause an error if it's <1

[06:57:49.0000] <zewt>
if what the caller wants is obvious, then you're just introducing unneeded errors and making people sprinkle extra conditionals around

[06:58:58.0000] <zewt>
eg. python's list.extend method doesn't throw if the parameter is empty

[06:59:19.0000] <zcorpan>
ok

[07:00:44.0000] <gsnedders>
Zero is the base-case, fairly intuitively. It is the case where you do no mutation, otherwise you process each list member.

[07:00:50.0000] <gsnedders>
Till the list is empty, recursively.

[07:01:21.0000] <zcorpan>
but calling it with no arguments would run the mutation method macro. i'm not familiar enough with that area of the spec to tell if it's no-op or not

[07:02:20.0000] <annevk>
oh there might be bugs there

[07:02:28.0000] <annevk>
I didn't know arity could be 0 at the time

[07:13:10.0000] <zcorpan>
hsivonen: article:first-of-type { ... } also wouldn't work, since it selects multiple articles if they aren't sibilngs

[07:17:11.0000] <hsivonen>
zcorpan: OK. please take my failure to write a proper selector as amplifying my point.

[07:20:36.0000] <zcorpan>
i can't think of a selector that does what you want

[07:21:33.0000] <SimonSapin>
hsivonen: what selector do you want?

[07:21:41.0000] <zcorpan>
"first <article>"

[07:22:11.0000] <SimonSapin>
first … of the whole document?

[07:22:16.0000] <zcorpan>
yep

[07:22:32.0000] <SimonSapin>
I don’t think selectors can do that

[07:22:53.0000] <SimonSapin>
not without post-filtering

[07:23:41.0000] <zcorpan>
what do you mean with post-filtering?

[07:24:38.0000] <SimonSapin>
getting results from a selector, and then doing something else

[07:24:42.0000] <SimonSapin>
in JS maybe

[07:25:26.0000] <SimonSapin>
or in this particular case, just using  querySelector()

[07:42:15.0000] <annevk>
SimonSapin: it's not the speculative parser, it's just how <img> works

[07:42:40.0000] <SimonSapin>
is it?

[07:43:20.0000] <SimonSapin>
I have a pages with dozens of SVGs in <object> with a PNG <img> fallback each, only the first few PNGs are loaded

[07:46:41.0000] <annevk>
afaik there's nothing in <img> loading that looks at the parent

[07:46:48.0000] <annevk>
might that the spec and/or browsers have a bug

[07:48:24.0000] <gsnedders>
I thought object fallback only loaded when needed?

[07:48:46.0000] <SimonSapin>
annevk: I don’t know. I see this is both Firefox and Chromium

[07:55:09.0000] <marcosc>
is it normal that when onload of an image fires in Chrome it does not have a target set?

[08:03:49.0000] <annevk>
you mean .target is null?

[08:04:18.0000] <annevk>
that sounds kinda unlikely

[08:04:53.0000] <annevk>
arv: so I think implementations of DOMTokenList can be optimized a little bit

[08:05:36.0000] <annevk>
arv: e.g. class="test test     foo "; classList.remove("test") -> class="foo"

[08:06:03.0000] <arv>
annevk: I just started writing a bug for that

[08:06:42.0000] <arv>
annevk: We should just split the string into an ordered set, then remove the token and the serialize back to a string

[08:06:56.0000] <annevk>
right

[08:07:36.0000] <annevk>
that's what the spec will end up saying, it just doesn't propagate setAttribute("class", ...) modifications yet

[08:07:44.0000] <zcorpan>
SimonSapin: the context here was in a CSS stylesheet

[08:08:06.0000] <annevk>
arv: one question about that

[08:08:29.0000] <annevk>
arv: when do browsers check which attribute was changed versus when they queue the mutation record?

[08:09:15.0000] <SimonSapin>
zcorpan: then no, not possible with a single selector, without any assumption about the structure of a document

[08:09:17.0000] <annevk>
arv: I set "class"; "class" attribute is changed; do "class" specific steps; queue record

[08:09:27.0000] <annevk>
arv: or maybe queue record; do "class" specific steps

[08:09:52.0000] <arv>
annevk: I'm not sure... let me check

[08:09:55.0000] <annevk>
I guess it doesn't matter since mutation observers run afterwards regardless, but it might matter when debugging I guess

[08:14:25.0000] <arv>
annevk: we set the attribute data before we do the attribute specific handling... The queuing happens after both of those.

[08:16:17.0000] <annevk>
thanks

[08:16:43.0000] <annevk>
I guess it's about time we make the specs more specific about that

[08:30:57.0000] <Masklinn>
How would one go about sending feedback on a whatwg spec, a use case concerning a spec not for instance? Through the mailing lists, through mailing the editor directly, something else?

[08:31:06.0000] <Masklinn>
s/not/note/

[08:31:34.0000] <annevk>
Masklinn: IRC/bug reports/mailing list

[08:31:58.0000] <annevk>
Masklinn: preferably feedback is publicly tracked, but if it's a small thing you can decide to contact the editor directly

[08:32:25.0000] <annevk>
Masklinn: see also "Participate" in the spec

[08:33:19.0000] <Masklinn>
annevk: bug report? ah yes, I was looking at the whatwg home page (which does not mention the bug tracker)

[08:34:15.0000] <Masklinn>
annevk: and I managed to completely miss the fixed "submit review comment" control, shame

[08:34:28.0000] <Masklinn>
annevk: sorry for the bother, and thanks for the answer

[08:37:16.0000] <Hixie>
whatwg.org/newbug also

[08:37:39.0000] <Hixie>
if you want a detailed reply, e-mail is better

[08:37:53.0000] <Hixie>
if you want a place you can go to track progress in dealing with the issue, bug report is better

[08:40:03.0000] <Hixie>
btw, the admin⊙wwo address is just an alias to GPHemsley, me, and annevk, not technically a list. There's no discussion there.

[08:40:55.0000] <Hixie>
There is a private WHATWG list (has the charter members on it, for things like coordinating the copyright stuff), but it gets basically zero traffic and i send updates about any traffic that it does get to the main whatwg list each time.

[08:50:13.0000] <annevk>
I'm not on admin@, but I've no desire to be either :)

[08:50:54.0000] <Hixie>
just me and GPHemsley?

[08:51:01.0000] <dglazkov>
good morning, Whatwg!

[08:51:51.0000] <annevk>
Hixie: I think so, but maybe you subscribed annevk⊙oc or so? :-)

[09:02:53.0000] <GPHemsley>
jreschke++

[09:03:28.0000] <jgraham>
Don't see that on here much

[09:04:41.0000] <gsnedders>
/me wonders why

[09:07:16.0000] <jgraham>
Why we don't see it much or why GPHemsley is incrementing him?

[09:10:38.0000] <gsnedders>
The latter.

[09:14:34.0000] <GPHemsley>
gsnedders: If I wait long enough, jreschke responds to mailing list messages for me.

[09:15:37.0000] <wycats_>
AryehGregor: have some faith

[09:15:58.0000] <GPHemsley>
Hixie: You cannot let annevk get away with not getting user registration requests!

[10:48:37.0000] <Hixie>
jonlee: yt?

[10:48:51.0000] <Hixie>
jgraham: yt?

[10:49:01.0000] <Hixie>
hober: yt?

[10:50:23.0000] <annevk>
What's the hashtag for TAG elections? #tagelections?

[10:50:47.0000] <Ms2ger>
The TAG on twitter? Hehehehe

[10:50:55.0000] <annevk>
I thought I'd tweet that Polyglot Markup is syntax, not architecture.

[10:51:55.0000] <annevk>
Hixie: http://wiki.whatwg.org/index.php?title=New_Features_Awaiting_Implementation_Interest&curid=2569&diff=8867&oldid=8864 seems like an incorrect edit

[10:52:09.0000] <annevk>
Hixie: the thread has nothing to do with progress events for <img>

[10:52:32.0000] <Hixie>
hashtags are only useful for things people want to read about :-P

[10:52:46.0000] <Hixie>
oops, wrong row

[10:52:47.0000] <Hixie>
heh

[10:59:06.0000] <annevk>
Hixie: oh you

[11:00:42.0000] <marcosc>
Hixie: given "large 2x, small 1x" and a pixel density of 1.1, is "large 2x" chosen?

[11:00:55.0000] <Hixie>
i don't recall; follow the algorithm and see :-)

[11:01:05.0000] <marcosc>
I did, and got large 2x

[11:01:11.0000] <marcosc>
but that seems kinda bad

[11:01:12.0000] <Hixie>
then large 2x is probably the right answer

[11:02:03.0000] <Hixie>
you generally want the image that's higher density than your display, if you don't have an exact match

[11:02:08.0000] <Hixie>
since scaling down is prettier than scaling up

[11:02:16.0000] <Hixie>
(you can lose bits, but can't invent them)

[11:02:24.0000] <marcosc>
understood

[11:02:52.0000] <Hixie>
if it's close, though, iirc the algorithm does let the UA decide exactly what the cut-off should be

[11:03:22.0000] <Hixie>
and if the user zooms, the old images don't disappear until the new ones are ready

[11:05:27.0000] <marcosc>
Hixie, unless I missed something, there doesn't seem to be any error events fired if a source can't be gotten. Is that right?

[11:06:26.0000] <Hixie>
you mean for the automatic updates that happen on zoom?

[11:06:31.0000] <Hixie>
or for the initial load?

[11:06:59.0000] <marcosc>
I think for both, but certainly for automatic updates

[11:07:16.0000] <Hixie>
for automatic updates, if the image can't be fetched, then the browser just pretends it didn't update, yeah

[11:07:31.0000] <Hixie>
for the initial load, the 'error' event is fired two lines below the 'load' event.

[11:08:00.0000] <marcosc>
ok, I was really wondering about the automatic update one

[11:08:19.0000] <marcosc>
I guess that can be checked in the network tab of developer tools

[11:08:33.0000] <marcosc>
a dev could see a 404 there

[11:08:37.0000] <marcosc>
or whatever

[11:08:55.0000] <Hixie>
my theory was that onerror means that the <img> is broken, and the image isn't broken in this case, it just keeps its previous image

[11:10:42.0000] <marcosc>
Hixie, that seems ok to me... I guess as long as the browser spits something out on the console, then it should be fine

[11:11:13.0000] <Hixie>
k

[11:11:18.0000] <marcosc>
thanks!

[11:12:03.0000] <Hixie>
if the spec is unclear, please don't hesitate to file bugs

[11:12:11.0000] <Hixie>
either with the tool in the spec or whatwg.org/newbug or e-mailing the list

[11:12:33.0000] <marcosc>
no, it's pretty clear. The problem is that I've been implementing in JS and it's not really possible to implement this part of the spec.

[11:13:08.0000] <marcosc>
There is just not enough information to do a 1 to 1

[11:13:22.0000] <marcosc>
available in the HTMLImageElement interface, that is

[11:13:35.0000] <marcosc>
like, there is no readyState for images

[11:13:42.0000] <marcosc>
and there is no way to check the mimetype directly

[11:14:08.0000] <marcosc>
etc., or there is no way to check if an error already occured

[11:14:26.0000] <marcosc>
The parsing was fairly straight forward

[11:14:45.0000] <Hixie>
yeah. it's intended for browsers to implement :-)

[11:15:03.0000] <marcosc>
Browsers, pfff! :)

[11:15:17.0000] <Hixie>
if something is entirely implementable in JS, there's really not much point putting it in teh spec

[11:15:22.0000] <Hixie>
it could just be done in JS :_)

[11:16:06.0000] <marcosc>
Yeah, absolutely. Prollyfillin has been good though, because it helps people understand the problem space

[11:16:26.0000] <marcosc>
Like the 1.1 thing above ... and there are some other things that are confusing

[11:16:49.0000] <marcosc>
and some that are just ergonomic issues like I keep typing x1 instead of 1x

[11:17:06.0000] <Hixie>
shims are fine, but i do think there's been a kind of obsession with them recently

[11:17:22.0000] <Hixie>
amongst the web author community

[11:17:24.0000] <Hixie>
anyway, it's not bad

[11:17:25.0000] <marcosc>
you mean like, prollyfill.org ? :)

[11:17:36.0000] <Hixie>
i'm just not used to it

[11:18:14.0000] <Hixie>
i know not this prollyfill.org thingy

[11:19:01.0000] <Hixie>
btw, the premise at the top of http://briankardell.wordpress.com/2012/11/17/w3c-extensible-web-community-group/ is wrong

[11:19:11.0000] <Hixie>
the bottleneck in standards development right now is not the standards

[11:19:15.0000] <Hixie>
it's the browser vendors

[11:19:26.0000] <Hixie>
we're writing specs so fast the vendors can't implement them fast enough

[11:19:45.0000] <marcosc>
yeah, I agree

[11:19:46.0000] <Hixie>
(not a criticism of anything, just an observation)

[11:20:15.0000] <marcosc>
I personally don't care where the bottleneck is. It's nice to have a way to try out ideas

[11:20:19.0000] <othermaciej>
some have the impression that even if a spec is written and widely implemented but not officially finalized, that proves standards are too slow

[11:20:32.0000] <othermaciej>
even though such cases have little effect on ability of web content authors to use the technology

[11:21:32.0000] <marcosc>
what that group wants to do is really find where the pain points are ... probably once we have Web Components at lot of those pain points go away

[11:22:22.0000] <marcosc>
well, some do... but limitations like I pointed out in HTMLImageElement's interface will remain for a while (if not forever)

[11:23:24.0000] <Hixie>
othermaciej: indeed. or vice versa, when a spec is "finalised" but has no implementations, that it mans standardisation is slow (when really it means either implementation priorities are the bottleneck, or that the spec is not actually finished at all, despite the editors' wishes)

[11:24:24.0000] <othermaciej>
I guess CSS is a special case here because they ask implementors to expose "not officially finalized" in syntax

[11:29:03.0000] <jgraham>
Hixie: I'm here

[11:29:17.0000] <Hixie>
jgraham: has opera any input on <menu>?

[11:31:46.0000] <jgraham>
Hixie: Subject to the usual provisos that we don't discuss roadmap, etc. etc. I am not aware of any specific plans. Although I believe the context menu support in our extensions API might be something like the spec?

[11:32:26.0000] <Hixie>
jgraham: mainly i'm looking for thumbs-up or thumbs-down on either what's in the spec now or one of the proposals to vary it that were sent to the list recently

[11:33:16.0000] <jgraham>
Yeah, so I read the email

[11:33:33.0000] <jgraham>
But I'm not sure that I have thought hard enough to have a useful opinion

[11:34:00.0000] <jgraham>
Certainly it seems that what's in the spec isn't being implemented :|

[11:34:24.0000] <Hixie>
well, yeah, so that's my question... what will you implement :-)

[11:34:27.0000] <Hixie>
if anything :-)

[11:48:17.0000] <annevk>
marcosc: pain points that go away will be replaced by others

[11:48:38.0000] <annevk>
marcosc: and when that stops there's a new platform on the rise

[11:49:50.0000] <marcosc>
annevk: ok, so lets just stop all this web platform nonsense now :)

[11:50:22.0000] <annevk>
marcosc: I dropped "web" years ago :p

[11:51:06.0000] <marcosc>
heh, be cool to rename this hatwg :)

[11:51:07.0000] <Hixie>
annevk: dom core doesn't seem to support Window being at the top of the tree for event dispatch, btw

[11:51:55.0000] <Hixie>
annevk: anyway i'm looking at how to do event redispatch, and i don't think the way we're doing it is going to work

[11:52:18.0000] <Hixie>
annevk: because right now it requires every single spec that fires an event to go define redispatching steps

[11:52:54.0000] <annevk>
Window you make work by saying that for the purposes of event dispatch, it's the furthest ancestor of that tree

[11:53:49.0000] <Hixie>
annevk: what we need instead is a way for the HTML spec to define the tree, which includes Window and what the global object should be (since different Event objects need different prototype objects), and for the events to be dispatched like now and for the dispatching to automatically apply that tree, cloning the event object accordingly

[11:54:35.0000] <Hixie>
annevk: some events will need some specific rules, e.g. we need a way to figure out how to handle the different targets of focus events

[11:55:03.0000] <Hixie>
annevk: when focus goes from one iframe to another, and those iframes are in an iframe that is in another iframe, then the event should only be targetted up one level, not bot

[11:55:06.0000] <Hixie>
h

[11:55:14.0000] <Hixie>
the current thing for Window is a hack

[11:55:19.0000] <Hixie>
it contradicts what DOM core says

[11:55:41.0000] <annevk>
I'm pretty sure I explained somewhere in a bug how it should be written

[11:56:06.0000] <Hixie>
you require the dispatching steps to be invoked with redispatching steps

[11:56:08.0000] <Hixie>
but that doesn't work

[11:56:15.0000] <Hixie>
the dispatching steps are all over many specs

[11:56:30.0000] <Hixie>
we can't go and update a dozen specs to do this

[11:56:58.0000] <Hixie>
this has to happen for all events

[11:57:02.0000] <Hixie>
not just the ones that want it

[11:57:14.0000] <Hixie>
e.g. it needs to happen for dispatchEvent()

[11:57:17.0000] <annevk>
I was talking about Window

[11:58:10.0000] <Hixie>
re Window, right now the spec says to dispatch on "ancestors", and defines "ancestors" indirectly via your definitions of tree, but Window doesn't have "an ordered list of zero or more child objects"

[11:58:42.0000] <annevk>
in this context it does have one child object, Document

[11:58:49.0000] <annevk>
in the "event tree"

[11:59:16.0000] <Hixie>
that's a hack

[11:59:25.0000] <annevk>
how is it a hack?

[11:59:38.0000] <Hixie>
the spec says "An object that participates in a tree has [...] an ordered list of zero or more child objects"

[11:59:45.0000] <Hixie>
this is false for Window

[11:59:58.0000] <annevk>
in the context of events it participates in a tree

[12:00:05.0000] <Hixie>
right, the spec pretends that it's the DOM tree, but only for events, not for appendChild()

[12:00:09.0000] <Hixie>
that's just weird and hacky

[12:00:16.0000] <annevk>
no there's all kinds of trees

[12:00:29.0000] <annevk>
I specifically defined trees separately from node trees exactly because of this

[12:00:47.0000] <Hixie>
right but the only tree that is relevant to event dispatch is the DOM tree

[12:01:00.0000] <Hixie>
anyway my point is that we can fix this all at once when we fix redispatching

[12:01:01.0000] <annevk>
given Window that seems false

[12:01:17.0000] <Hixie>
because you can just have the host spec define the tree

[12:01:22.0000] <Hixie>
and it can include Window

[12:01:30.0000] <Hixie>
instead of saying "it's part of the tree in this case but not that one"

[12:01:57.0000] <annevk>
we're getting close to the point where I'd rather have HTML define all this

[12:02:26.0000] <annevk>
but I guess we can try to pretend there's a separation for a little longer

[12:03:58.0000] <Hixie>
well i don't really understand why y'all want dom core to not rely on html, but that's your problem :-)

[12:04:07.0000] <Hixie>
i don't mind how we define it

[12:04:09.0000] <Hixie>
so long as it's defined

[12:04:19.0000] <Hixie>
ideally without having to jump through hoops and contortions

[12:04:35.0000] <annevk>
I think that's mostly Ms2ger at this point

[12:05:55.0000] <annevk>
So when spec A says "dispatch E" it somehow needs to obtain a contextual tree from HTML if it's dispatched on either a node or Window?

[12:06:21.0000] <annevk>
I don't really see how to write this down in a way that remains comprehensible.

[12:07:16.0000] <annevk>
On top of that, how does DOM know when there's a boundary crossed in the tree it is provided and it needs to invoke the event cloning steps?

[12:07:34.0000] <Hixie>
the boundary is always above the Window

[12:08:02.0000] <annevk>
(As an aside, does it use the same object for capture and bubble? So does it need to keep track of the subtrees somehow?)

[12:08:03.0000] <Hixie>
how to define it... this only happens for DOM nodes, so I guess the HTML spec could define it for Document objects

[12:08:26.0000] <Hixie>
so:

[12:08:37.0000] <Hixie>
at the lowest level (the "real" target) it works like now

[12:08:46.0000] <Hixie>
at the higher levels, the target is always an iframe

[12:08:57.0000] <annevk>
oooh there's still a target?

[12:09:02.0000] <Hixie>
and it is as if the event was dispatched on the iframe, except you don't get a target phase

[12:09:06.0000] <Hixie>
it just bubbles and captures through it

[12:09:06.0000] <annevk>
oh

[12:09:10.0000] <Hixie>
or we could have a target phase i guess

[12:09:16.0000] <Hixie>
i don't really mind

[12:09:19.0000] <Hixie>
dglazkov might

[12:09:27.0000] <Hixie>
i guess it has to have a target

[12:09:36.0000] <Hixie>
otherwise you could tell it was retargetted

[12:09:47.0000] <annevk>
you don't want to expose that?

[12:10:10.0000] <Hixie>
well consider the web components / xbl case

[12:10:15.0000] <Hixie>
if you have a click on a button

[12:10:22.0000] <Hixie>
you don't care that the button has a dozen <div>s

[12:10:31.0000] <Hixie>
you just think it's a button

[12:10:35.0000] <Hixie>
should work just like today

[12:10:47.0000] <Hixie>
it's less important form seamless events

[12:10:51.0000] <Hixie>
for

[12:10:59.0000] <annevk>
makes sense

[12:11:49.0000] <annevk>
but what is the order? capture phase all the way down, target bubble target bubble target bubble ...

[12:11:50.0000] <Hixie>
(for xbl/web comp, the higher levels, the target is the web component, not an iframe)

[12:11:59.0000] <annevk>
or capture target bubble capture target bubble ...

[12:12:22.0000] <Hixie>
it's definitely capture (target) capture (target) capture target bubble (target) bubble (target) bubble

[12:12:37.0000] <Hixie>
i dunno which of the (target)s are where targetting should go

[12:12:49.0000] <Hixie>
each scope has to have a clone of the event

[12:13:10.0000] <Hixie>
but e.g. if the inner level cancels the event, the outer level should have its event updated accordingly too

[12:14:03.0000] <annevk>
maybe there should be a shared event object that's exposed as a separate JS object in each tree?

[12:14:28.0000] <annevk>
that's gonna require some pretty invasive changes though :-(

[12:15:36.0000] <annevk>
Hixie: target / bubble should probably go together

[12:16:12.0000] <Hixie>
i've been saying it's gonna require invasive changes for some time :-)

[12:18:41.0000] <annevk>
so I guess that's what http://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/shadow/index.html#events is about...

[12:20:05.0000] <annevk>
but http://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/shadow/index.html#event-dispatch seems broken

[12:20:40.0000] <annevk>
Hixie: Window is not always the furthest ancestor for shadow trees

[12:21:52.0000] <annevk>
Hixie: in any event, I won't have time to work on this I think until Feb at least

[12:27:14.0000] <Hixie>
annevk: k

[12:27:23.0000] <Hixie>
annevk: (what's the highest ancestor of a shadow tree?)

[12:27:32.0000] <annevk>
Hixie: I think it's ShadowRoot

[12:28:50.0000] <annevk>
Hixie: I would expect shadow trees to also want private events though

[12:29:06.0000] <Hixie>
yeah

[12:29:11.0000] <Hixie>
i don't really know that side as well

[12:29:51.0000] <annevk>
so you can't really say this is the tree, these are the JS event object scopes within the tree, make it happen

[12:30:40.0000] <Hixie>
maybe we just need to hook something to the root of the tree (Document, ShadowRoot)

[12:30:43.0000] <Hixie>
that says what to do

[12:30:51.0000] <Hixie>
and DOM Events hooks into that

[12:31:12.0000] <Hixie>
I expect I'll write a draft of a section that does this for HTML later today for seamless, and just add a note saying that you expect to get to this in DOM Core in feb

[12:33:12.0000] <annevk>
if you keep calling it DOM Core it might become August :p

[12:34:01.0000] <Hixie>
what's it called?

[12:34:05.0000] <annevk>
just DOM

[12:34:21.0000] <Hixie>
well that's confusing :-P

[12:34:30.0000] <Hixie>
that's as bad as the HTML spec being called HTML

[12:34:39.0000] <Hixie>
possibly worse :-P

[12:34:45.0000] <annevk>
you see, I didn't think that was bad :)

[12:38:25.0000] <annevk>
Hixie: so it would be useful to know the details for the various MouseEvent objects and such

[12:38:49.0000] <annevk>
Hixie: based on that we can then figure out if we need cloning or something more sophisticated

[12:39:01.0000] <Hixie>
yes

[12:39:13.0000] <Hixie>
a user interaction spec would be a good start :-)

[12:40:15.0000] <annevk>
but this is some massive suckage

[12:40:26.0000] <annevk>
e.g. you invoke preventDefault()

[12:40:34.0000] <annevk>
tada, problems with definitions everywhere

[12:40:38.0000] <Hixie>
yup

[12:40:49.0000] <Hixie>
the web evolves

[12:40:49.0000] <Hixie>
:-)

[12:41:49.0000] <annevk>
so you can introduce an abstract event concept which is dispatched and is exposed via a duplicated Event object that acts as an interface for the abstract event

[12:42:08.0000] <annevk>
but then all events everywhere need to acknowledge that somehow I suppose

[12:42:42.0000] <annevk>
and define how their respective attributes would interface in various event scopes

[12:43:56.0000] <annevk>
and this fails for cross-origin

[12:44:52.0000] <Hixie>
events usually have readonly attributes

[12:45:02.0000] <Hixie>
so that's not as hard as it looks, i expect

[12:45:16.0000] <Hixie>
btw if you can convince people to not do event retargetting, that works for me

[12:45:26.0000] <Hixie>
might be easier, dunno :-)

[12:45:43.0000] <annevk>
I guess where it's hard is UI events

[12:45:56.0000] <Hixie>
focus, mouse movements

[12:46:09.0000] <Hixie>
that might be it, dunno

[12:46:22.0000] <annevk>
although even there you might be able to define mouse movements as a function rather than as predefined values

[12:46:28.0000] <annevk>
dunno about focus

[12:46:45.0000] <Hixie>
mutation events, but i suggest we just don't propogate those, if we even admit that they exist

[12:47:29.0000] <annevk>
yeah, we don't acknowledge them and we're not going to make those more complex either I hope

[12:49:09.0000] <annevk>
so yeah, I guess DOM would have "event tree" which for nodes is the "node tree" unless redefined in other contexts (HTML)

[12:49:30.0000] <annevk>
and then it would have "event scopes" which are magic and cannot be explained without features from HTML and prolly shadow DOM

[12:51:45.0000] <annevk>
and it would define "abstract event" which is dispatched throughout the "event tree" is exposed per "event scope" as Event, which basically is an interface for everything "abstract event", but shields that from the scripting environment

[12:51:58.0000] <annevk>
Hixie: does that sound about right?

[12:56:21.0000] <annevk>
Hixie: reopened https://www.w3.org/Bugs/Public/show_bug.cgi?id=18780

[12:56:36.0000] <Hixie>
actually i think maybe it should be more concrete than that

[12:57:13.0000] <Hixie>
maybe the dom spec can actually construct the tree itself by just walking the dom and when it gets to an object that defines a scope it uses the data from that object

[12:57:19.0000] <Hixie>
and then the other specs just have to hook into that

[13:34:40.0000] <Yuhong>
My hope for the TAG is to get them to finish this: http://www.w3.org/2001/tag/2011/12/evolution/

[13:38:51.0000] <Yuhong>
Hixie: IE10RP Win7

[13:39:15.0000] <Yuhong>
log: onsubmit start

[13:39:17.0000] <Yuhong>
log: action set in onsubmit before submit()

[13:39:19.0000] <Yuhong>
log: onsubmit end

[13:39:28.0000] <Yuhong>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1974

[13:39:37.0000] <Yuhong>
For http://software.hixie.ch/utilities/js/live-dom-viewer/saved/1979:

[13:40:14.0000] <Yuhong>
""with submit(), return false": goes to /.

[13:40:33.0000] <Yuhong>
""without submit(), return false" does nothing.

[13:40:54.0000] <Yuhong>
"with submit(), return true": "Document"

[13:41:13.0000] <Yuhong>
"without submit(), return true": "Document"

[13:41:48.0000] <Yuhong>
All in IE10 mode.

[13:42:17.0000] <Hixie>
cool, thanks

[13:43:52.0000] <hober>
Hixie: what's up?

[13:49:18.0000] <annevk>
Hixie: hmm interesting, and then Document outside a browsing context would not define a scope, etc?

[13:50:23.0000] <annevk>
Hixie: I guess you could then do some kind of loop for all the collected trees to do the dispatch thingie

[13:50:43.0000] <annevk>
Hixie: you'd still have the whole abstract event -> Event mapping mess though

[13:51:07.0000] <Hixie>
hober: looking for apple's input on <menu> stuff

[13:51:57.0000] <Hixie>
annevk: yeah, there's no getting away from it being complicated if we do this, i think

[13:52:10.0000] <hober>
Hixie: i'll try to drum some up

[13:52:48.0000] <annevk>
o_O

[13:52:53.0000] <annevk>
Ms2ger got a formal warning

[13:56:26.0000] <annevk>
I wonder why non-WHATWG people always misspell WHATWG (I've seen WHAT-WG, WHAT WG, WhatWG, ... Is it some kind of lame attempt at showing disrespect? If you're gonna talk about it as if it were an entity, at least get the name right.)

[14:04:48.0000] <tantek>
annevk http://en.wikipedia.org/wiki/Hanlon%27s_razor

[14:08:08.0000] <annevk>
tantek: fair

[14:08:46.0000] <annevk>
tantek: for some reason spelling mistakes in names upset me the most

[14:09:25.0000] <tantek>
annevk, I think you'd be used to it by now, although it's certainly taken me years ;)

[14:09:32.0000] <annevk>
(which is why adactio refers to me as "Anne Van Kesteren")

[14:10:53.0000] <tantek>
with the miscapitalization of "Van" [sic] ?

[14:11:08.0000] <annevk>
tantek: I wish I was, I'm over HTML5 WG now, or XForms WG (actually Forms WG), or HTML WG when they meant XHTML2 WG, but WHATWG still irks me

[14:11:44.0000] <annevk>
tantek: yeah, although the rules for that are kinda brutal. If you omit the first name you have to capitalize it.

[14:11:59.0000] <tantek>
oh interesting

[14:12:34.0000] <annevk>
and it sorts under K, whereas in Sweden a similar name would sort under v, so it's better to sort on full name :-)

[14:15:58.0000] <tantek>
so: <span class="h-card"><span class="p-name">Anne van Kesteren</span> - if you omit his given name, you have to capitalize <span class="p-family-name">Van <span class="p-sort-string">Kesteren</span></span></span>

[14:16:10.0000] <tantek>
:)

[14:16:56.0000] <annevk>
what do you know, tantek's got markup for that :-)

[14:20:28.0000] <tantek>
annevk - perhaps if you added it to your web page more folks might notice

[14:20:29.0000] <tantek>
e.g.

[14:20:44.0000] <tantek>
change this: <footer>Copyright © 2003-2012 Anne van Kesteren</footer>

[14:20:48.0000] <tantek>
to:

[14:21:08.0000] <tantek>
<footer>Copyright © 2003-2012 <span class="h-card"><a class="p-name p-url p-uid" href="http://annevankesteren.nl/">Anne van Kesteren</span>. If and only if you omit his given name, please capitalize "<span class="p-family-name">Van <span class="p-sort-string">Kesteren</span></span>"</span>.</footer>

[14:21:30.0000] <tantek>
sorry, correction:

[14:21:33.0000] <tantek>
<footer>Copyright © 2003-2012 <span class="h-card"><a class="p-name u-url u-uid" href="http://annevankesteren.nl/">Anne van Kesteren</span>. If and only if you omit his given name, please capitalize "<span class="p-family-name">Van <span class="p-sort-string">Kesteren</span></span>"</span>.</footer>

[14:21:34.0000] <tantek>
:)

[14:21:52.0000] <tantek>
certainly adactio would have to respect that ;)

[14:23:14.0000] <tantek>
one more correction (darn closing tags)

[14:23:15.0000] <tantek>
<footer>Copyright © 2003-2012 <span class="h-card"><a class="p-name u-url u-uid" href="http://annevankesteren.nl/">Anne van Kesteren</a>. If and only if you omit his given name, please capitalize "<span class="p-family-name">Van <span class="p-sort-string">Kesteren</span></span>"</span>.</footer>

[14:23:46.0000] <tantek>
apparently my markup (or cognitive in general) skills are reduced post-torn-calf-muscle :/

[14:24:23.0000] <annevk>
that seems a bit excessive; is there some kind of compact thingie yet? Would be nice if this filled in all the expected classes without having to specify them: <h1 class=h-card><a href="/">Anne van Kesteren</a></h1>

[14:24:56.0000] <annevk>
it's beyond me why you'd want class=u-url on an <a> for instance

[14:25:00.0000] <annevk>
<a> means URL :-)

[14:25:45.0000] <tantek>
<h1 class=h-card><a href="/">Anne van Kesteren</a></h1> works

[14:26:15.0000] <tantek>
once you start adding the extra stuff like family-name and sort-string, you have to make the other parts explicit too

[14:26:42.0000] <annevk>
oh sweet

[14:26:45.0000] <tantek>
actually, let me try something in the php-mf2 parser

[14:27:53.0000] <tantek>
oh sweet, the implied property rules I specified for the URL property work just fine when there's only one URL

[14:28:59.0000] <tantek>
thus slightly shorter:

[14:29:22.0000] <tantek>
<footer>Copyright © 2003-2012 <span class="h-card"><a class="p-name" href="http://annevankesteren.nl/">Anne van Kesteren</a>. If and only if you omit his given name, please capitalize "<span class="p-family-name">Van <span class="p-sort-string">Kesteren</span></span>"</span>.</footer>

[14:30:15.0000] <tantek>
you can try it for yourself here: http://waterpigs.co.uk/php-mf2/

[14:31:27.0000] <Hixie>
how is "DOM" still a WebApps product component

[14:33:08.0000] <annevk>
Hixie: I didn't change any of that

[14:33:32.0000] <Hixie>
i don't care, except i can never find "WebAppsWG" in the list

[14:33:41.0000] <Hixie>
since it sorts below "Web "

[14:38:53.0000] <annevk>
there's a link at the top of the spec if you're lost; I'll count this towards changing if it ever comes up

[14:39:45.0000] <Hixie>
i was searching for the events bug

[14:40:48.0000] <annevk>
Hixie: https://www.w3.org/Bugs/Public/show_bug.cgi?id=18780

[14:40:53.0000] <Hixie>
yeah i found it

[14:40:57.0000] <annevk>
oh, was, doh :)

[14:40:58.0000] <Hixie>
before i complained here :-)

[14:42:42.0000] <Hixie>
annevk: so i guess for event redispatching actually the only thing that actually needs to be defined is the link from the Window to the <iframe>

[14:42:50.0000] <Hixie>
annevk: well, that plus the event-specific stuff

[14:42:55.0000] <Hixie>
but I mean as a general rule for disepatching

[14:45:02.0000] <annevk>
I think what I want is that dispatching acquires a collection of trees

[14:45:25.0000] <annevk>
it starts by doing the capture phase on the outermost tree, inwards; then does the target + bubbling phase, outwards

[14:46:48.0000] <annevk>
for each tree it creates an associated event object which proxies a shared abstract event object

[14:47:20.0000] <annevk>
what I haven't quite mentally figured out is how exactly the acquiring of trees is gonna work

[14:48:10.0000] <annevk>
in a DocumentFragment it's pretty clear it's just that, in a standalone Document it's just that too, but when there's browsing contexts it gets icky

[14:49:09.0000] <Hixie>
sounds about right

[14:50:46.0000] <Hixie>
can't you just walk the tree and when you get to the root, say "if the object has a defined <dfn>scope object for event dispatch</dfn>" (so I can give you the Window) and "if the node has a defined <dfn>surrogate event redispatch parent</dfn>" and start walking up from that again?

[14:51:04.0000] <Hixie>
and I just have to tell the Document that it has those objects

[14:51:06.0000] <Hixie>
and then we're done

[14:51:14.0000] <Hixie>
well except for the event cloning

[14:51:19.0000] <Hixie>
and magic with focus and mouse stuff

[14:52:27.0000] <dglazkov>
Hixie, annevk: I am back now, do I need to read the whole scrollback?

[14:52:46.0000] <Hixie>
we're talking about how to spec event redispatch

[14:53:28.0000] <dglazkov>
I feel a headache coming on

[14:53:35.0000] <Hixie>
hah

[15:01:54.0000] <annevk>
Hixie: maybe have "event parent" (defined on Document to be Window) and "event parent tree" (defined on Window to be container node)

[15:02:39.0000] <Hixie>
that works too

[15:02:49.0000] <Hixie>
what terminology should i use?

[15:03:04.0000] <Hixie>
well

[15:03:13.0000] <Hixie>
"event parent tree" doesn't work because i want to just point to the iframe

[15:03:16.0000] <Hixie>
and have the tree be implied

[15:03:33.0000] <annevk>
right the DOM spec would do the looping and building

[15:03:41.0000] <annevk>
maybe

[15:03:50.0000] <Hixie>
and it's a different relationship, "event parent" and "event parent tree" sound like they're the same thing

[15:03:54.0000] <annevk>
event cross-boundary parent

[15:03:58.0000] <Hixie>
k

[15:04:20.0000] <annevk>
and then whenever there's a cross-boundary parent I start building up a new tree

[15:04:32.0000] <annevk>
dglazkov: at some point you need to define your stuff in terms of this

[15:04:54.0000] <Hixie>
so for seamless i just have to say:

[15:04:55.0000] <Hixie>
    <p>The <span>nested browsing context</span>'s <code>Window</code> object's <span>event

[15:04:58.0000] <Hixie>
    cross-boundary parent</span> is the <span>browsing context container</span>.</p>

[15:05:05.0000] <Hixie>
(guaranteed to be same-origin for now)

[15:05:13.0000] <Hixie>
(i'll make sure not to do this if it's ever cross-origin)

[15:05:37.0000] <annevk>
yeah, cross-origin could only work if they share the event loop, which is nasty

[15:06:00.0000] <Hixie>
well iframes and their parents have to share an event loop

[15:06:19.0000] <Hixie>
but events leaking out of cross-origin stuff is all manner of scary

[15:07:20.0000] <Hixie>
hm the logs don't seem to have the above yet

[15:07:22.0000] <annevk>
(I suggested this terminology btw because this also works if we want to do events on completely different trees, or non-trees)

[15:07:28.0000] <Hixie>
oh, it crossed a day boundary

[15:07:29.0000] <Hixie>
nevermind

[15:08:00.0000] <Hixie>
ok for Window i've left the old text for now, but commented out i have:

[15:08:00.0000] <Hixie>
  <p>If a <code>Document</code> object is associated with a <code>Window</code> object, its

[15:08:04.0000] <Hixie>
  <span>event parent</span> is that <code>Window</code> object.</p>

[15:08:42.0000] <annevk>
if you want I can fix that pretty quickly

[15:08:48.0000] <Hixie>
i'm in no rush

[15:08:52.0000] <annevk>
k

[15:08:55.0000] <Hixie>
that last bit is just editorial

[15:09:08.0000] <annevk>
the abstract event object thing is what requires a bit more thinking

[15:09:10.0000] <Hixie>
and the hard part of the event redispatching stuff is how to clone the events

[15:09:14.0000] <annevk>
right

[15:09:48.0000] <annevk>
my funding is primarily for URL work, with other things as I get to them, so I try to stick to that for now

[15:09:57.0000] <Hixie>
k

[15:16:58.0000] <annevk>
Hixie: btw, make it cross-boundary event parent, sound a lot better

[15:17:04.0000] <annevk>
sounds*

[15:17:24.0000] <Hixie>
k

[15:32:44.0000] <Hixie>
AryehGregor: yt?

[15:33:42.0000] <Hixie>
nm

[15:34:08.0000] <zewt>
wow, charles-whoever trying to censor complaints of plagiarism makes me pretty much lose any vestige of whatever opinion i might still have had for the w3c

[15:35:32.0000] <hober>
that reminds me, time to catch up on public-webapps

[15:46:21.0000] <zewt>
cool, paypal broke password autocomplete in firefox, welcome back to the dark ages

[15:46:33.0000] <zewt>
nothing is quite as insecure as making people actually type in passwords

[15:53:14.0000] <smaug____>
dglazkov: http://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/custom/index.html#extensions-to-document-interface

[15:53:24.0000] <smaug____>
is dictionary LifecycleCallbacks really right?

[15:53:30.0000] <smaug____>
is that even valid webidl?

[15:54:10.0000] <smaug____>
I would have expected callback interface LifecycleCallbacks { created() }; or something like that

[15:55:59.0000] <zewt>
"we will focus our efforts on SMPTE-TT."

[15:56:14.0000] <zewt>
random viacom employee sure takes his ball and goes home fast at the first sign of disagreement

[15:56:43.0000] <Hixie>
i don't know if SMPTE-TT does pixel-perfect positioning, but if so, that is the appropriate thing to do for their use case

[15:56:53.0000] <Hixie>
i don't understand why they weren't trying to do that in the first placre

[15:56:56.0000] <Hixie>
place, even

[15:57:12.0000] <zewt>
but it wasn't in response to "you should do this in SMPTE-TT", it was in resposne to "what you're saying is incorrect"

[15:57:22.0000] <Hixie>
i'll take it either way...

[15:57:33.0000] <Hixie>
(i also don't understand why they're trying to do what they're trying to do)

[15:58:49.0000] <zewt>
i'm also a bit tired of the "we need to add *feature* because it exists in *random other spec*", as if that shortcuts the requirement to actually justify a feature

[15:59:33.0000] <Hixie>
especially given that there have been studies cited, including one actually available to read, that show that eye tracking experiments show that this feature is bad


2012-12-05
[16:00:03.0000] <Hixie>
if they want to disagree, they should at least show studies explaining why they think this one is wrong

[16:02:06.0000] <zewt>
i'm not a fan of the "if you want XXX then show studies" (in either direction) argument, but "our lawyers tell us we have to have this feature, so stop arguing with me and just do it without any evidence" needs to stop

[16:02:53.0000] <Hixie>
oh i'm not saying "if you want XXX then show studies", I'm saying that if one side has shown studies (as nessy did in this case, though it supported the no-rollup side, not the rollup side) then the other side needs to at least address it.

[16:03:19.0000] <zewt>
sure, "give an argument of why this study is wrong", just not "show a study explaining" :)

[16:03:27.0000] <Hixie>
fair cop

[16:03:55.0000] <Hixie>
pretty sure in this case the only counter argument would be more data showing this data is questionable

[16:04:50.0000] <zewt>
if a realistic number of users would seriously prefer roll-up (irrespective of whether it's better or worse for them) i think that would be compelling, but that's hard to demonstrate (and simply asking people is probably completely useless)

[16:05:12.0000] <Hixie>
yeah asking people what they want is surprisingly useless

[16:05:29.0000] <Hixie>
it's amazing to watch people be given what they want and have them say "oh no, that's terrible"

[16:05:38.0000] <zewt>
since probably the vast majority of people just don't know, so you probably end up with 50/50

[16:05:43.0000] <Hixie>
and vice versa (give them something else and having them say "wow that's perfect")

[16:05:47.0000] <Hixie>
yeah

[16:06:14.0000] <Hixie>
i've watched a lot of usability studies where the subject says things that directly contradict what they're actually doing

[16:06:17.0000] <Hixie>
it's fascinating to watch

[16:06:24.0000] <Hixie>
(and incredibly frustrating when it's your product that they're testing)

[16:07:22.0000] <zewt>
heh and this pretty much confirms the 50/50 theory conclusively in my mind: "half the users in that analysis said that they prefer the roll-up display style"

[16:07:45.0000] <Hixie>
yeah, compare the poll results to the eye tracking part of the study

[16:07:47.0000] <Hixie>
it's fascinating

[16:07:48.0000] <zewt>
congrats, you just ran a coin tossing survey

[16:12:18.0000] <Hixie>
i'd hate to hear your opinions about US elections then ;-)

[16:15:18.0000] <tantek>
Hixie, indeed, especially in Florida: http://www.palmbeachpost.com/news/news/state-regional-govt-politics/early-voting-curbs-called-power-play/nTFDy/

[16:15:48.0000] <Hixie>
wow they're actually admitting it now?

[16:16:03.0000] <tantek>
indeed

[16:16:19.0000] <Hixie>
(though that wasn't what i meant re zewt's comment -- i meant just that they're near 50:50, so by his argument, it's just a coin toss and we shouldn't bother :-) )

[16:24:11.0000] <dbaron>
they've been admitting it for a while

[16:25:19.0000] <dbaron>
http://www.economist.com/node/21558603

[16:25:45.0000] <dbaron>
"The House majority leader in Pennsylvania, where a voter-ID law went into effect in March, crowed in June that the new law “is going to allow Governor Romney to win the state of Pennsylvania.”"

[16:27:20.0000] <tantek>
and today a bunch of GOP voted against the disability treaty: http://www.nytimes.com/2012/12/05/us/despite-doles-wish-gop-rejects-disabilities-treaty.html (despite a visit by former Republican leader Dole, in his wheelchair).

[16:28:26.0000] <tantek>
seems awfully short-sighted (no pun intended) in terms of their own self-interest, won't most of those that voted against it be aging and disabled soon enough?

[20:25:07.0000] <MikeSmith>
Hixie: congratulations on 9 years

[20:25:15.0000] <Hixie>
nine years of what?

[20:25:25.0000] <Hixie>
oh hey, it's nine years

[20:25:29.0000] <MikeSmith>
yeah man

[20:25:31.0000] <Hixie>
i totally hadn't noticed

[20:25:32.0000] <Hixie>
thanks :-)

[20:25:38.0000] <MikeSmith>
thanks mattur

[20:25:44.0000] <MikeSmith>
*thank mattur

[20:25:51.0000] <MikeSmith>
for the reminder

[20:26:00.0000] <MikeSmith>
lotta years

[20:26:02.0000] <Hixie>
man what a ride

[20:27:06.0000] <MikeSmith>
here's to 9 more!

[20:27:12.0000] <Hixie>
more than 9 years actually, http://www.hixie.ch/specs/html/forms/hfp.html is from september :-)

[20:27:21.0000] <MikeSmith>
hey 9 more will bring us almost right up to your 2022 goal

[20:27:28.0000] <Hixie>
yup

[20:27:40.0000] <Hixie>
in september this year i was on track to getting to CR by 2012, too

[20:27:44.0000] <Hixie>
(as in, zero bugs zero e-mails)

[20:27:49.0000] <Hixie>
looks like i may miss that by a few weeks though

[20:28:01.0000] <Hixie>
had a cold a few weeks ago that totally threw me off track

[20:28:07.0000] <Hixie>
and then some other stuff came up the week after

[20:29:36.0000] <MikeSmith>
well, get on it man

[20:29:43.0000] <Hixie>
trying! :-P

[20:29:52.0000] <MikeSmith>
fix the bugs I submitted first!

[20:30:07.0000] <Hixie>
i'm more behind on e-mails

[20:30:22.0000] <MikeSmith>
hey I guess I had the 2003-09 date on http://platform.html5.org/history/ after all

[20:30:39.0000] <Hixie>
i could always take a page from the htmlwg, and any bugs i don't have fixed by dec 31 just get marked LATER :-P

[20:31:00.0000] <MikeSmith>
hah

[20:31:21.0000] <MikeSmith>
see, you can learn something positive from the htmlwg after all!

[20:31:32.0000] <Hixie>
yeah, that's what that would be :-P

[20:31:43.0000] <MikeSmith>
:D

[21:40:46.0000] <Hixie>
MikeSmith: i fixed one of your three bugs. the other two are outline algorithm bugs and i'm too tired to think about that algorithm right now :-)

[21:40:59.0000] <MikeSmith>
heh

[21:41:02.0000] <MikeSmith>
I know that feeling!

[21:41:17.0000] <Hixie>
i dunno why it's so hard to define the outline

[21:41:24.0000] <Hixie>
intuitively i think there has to be a clearer way to do it

[21:41:33.0000] <Hixie>
but every time i've tried it's ended up at least as bad as what the spec has

[21:41:49.0000] <MikeSmith>
well, I have a working implementation of it now, in the validator code

[21:42:08.0000] <MikeSmith>
but still I empathize with the person who has to try to implement if from the spec

[21:42:17.0000] <MikeSmith>
the next person

[21:42:25.0000] <Hixie>
yeah me too

[21:42:30.0000] <Hixie>
that's not my best work by far

[21:43:12.0000] <MikeSmith>
I think it's mostly great as-is

[21:43:38.0000] <MikeSmith>
really the only problems I have with it are those two things I filed bugs about

[21:43:40.0000] <Hixie>
it's not "great", but i don't know how to make it better (other than minor things like your bugs)

[21:43:45.0000] <MikeSmith>
yeah

[21:44:00.0000] <MikeSmith>
anyway, thanks for fixing those datetime examples

[21:44:45.0000] <MikeSmith>
also thanks for integrating Fullscreen (even though that's not one of mine -- happy to see it go in)

[21:45:10.0000] <Hixie>
it was just the next thing on the list

[21:45:31.0000] <Hixie>
it was the next thing on the list before, but then the comcast guy commented on th ebug which sent it to the bottom of the list agani :-)

[21:47:53.0000] <Hixie>
nessy! yt?

[21:48:23.0000] <nessy>
hi, yes :-)

[21:48:32.0000] <Hixie>
woot, been trying to catch you for days :-)

[21:48:35.0000] <Hixie>
had a question, one sec

[21:48:42.0000] <nessy>
ha, sorry

[21:49:07.0000] <Hixie>
it's about the patches and the github branch

[21:49:27.0000] <Hixie>
so it looks like r7529 is in

[21:49:30.0000] <nessy>
the whatwg patches that I pull into the W3C spec?

[21:49:39.0000] <Hixie>
but that r7528 isn't

[21:49:51.0000] <Hixie>
and i was wondering if i'm just misreading it, or if it's intentional, or what

[21:50:04.0000] <Hixie>
and if the latter, if it was documented anywhere which patches were in and which weren't

[21:50:24.0000] <nessy>
let me check

[21:51:29.0000] <nessy>
7528 is staged in the editorial_fixes branch

[21:51:43.0000] <nessy>
you've seen the picture at https://github.com/w3c/html ?

[21:52:28.0000] <Hixie>
yeah that just confused me more

[21:52:33.0000] <Hixie>
so does that mean it goes in next week then?

[21:52:46.0000] <Hixie>
(what does "editorial" mean in this context?)

[21:52:55.0000] <nessy>
the editorial_fixes branch is there to feed both, HTML5.0 and the upcoming HTML5.1 WD

[21:54:44.0000] <nessy>
"editorial" means bug fixes (for bugs that apply to HTML5.0) and typos

[21:54:53.0000] <Hixie>
ah ok

[21:54:58.0000] <nessy>
I should probably apply those directly to HTML5.1

[21:55:06.0000] <Hixie>
(fwiw, that's the opposite of the meaning of the term in common usage)

[21:55:12.0000] <nessy>
cause I apply the others to master immediately

[21:55:20.0000] <Hixie>
("editorial" normally means "things that don't affect the normative meaning")

[21:55:30.0000] <nessy>
yeah, that's the typos

[21:55:43.0000] <nessy>
but we have to feed the bug fixes in somehow, too, so they go with those

[21:55:54.0000] <Hixie>
ah k

[21:55:59.0000] <nessy>
eventually there shouldn't be any more bug fixes to HTML5.0, that's why it got that name

[21:56:05.0000] <nessy>
it's a bit misleading right now

[21:56:33.0000] <Hixie>
yeah i don't understand how that will ever happen, but that's another story

[21:56:40.0000] <Hixie>
anyway, ok, thanks

[21:56:42.0000] <nessy>
and yes, it goes in "next week" (which should have been yesterday...)

[21:56:58.0000] <nessy>
I'm a bit behind - you've been a busy bee :-)

[21:57:13.0000] <Hixie>
heh, i was just complaining to mike that i've been slacking :-)

[21:57:29.0000] <nessy>
I'm behind by about 2 weeks!

[21:58:30.0000] <nessy>
when 7530 hit me, I took a break ;-)

[21:58:52.0000] <Hixie>
heh yeah, sorry about that

[21:58:56.0000] <Hixie>
there's a few more of those coming

[21:59:07.0000] <nessy>
are you removing markers?

[21:59:08.0000] <Hixie>
trying to get the spec into the new 100-character width so i can actually use my monitor

[21:59:28.0000] <nessy>
I thought there was a new monitor involved … re-formatting the width seemed strange

[21:59:36.0000] <Hixie>
the 72 character limit was becoming ridiculous, i have a 27" monitor

[22:00:10.0000] <nessy>
you're also removing some markers with the reformatting - are there any I need to care about (other than w3c-html)?

[22:00:22.0000] <nessy>
e.g. "VERSION"

[22:00:40.0000] <Hixie>
that's just a comment, not special at all

[22:00:50.0000] <Hixie>
most of the all-caps words in the spec are just there so i can search for things quickly

[22:00:55.0000] <Hixie>
e.g. REFS or ACKS

[22:00:57.0000] <Hixie>
or FORK

[22:01:02.0000] <nessy>
yeah, I suppose I need to leave the postmsg, websocket-api, etc in

[22:01:20.0000] <Hixie>
you probably don't need those

[22:01:24.0000] <Hixie>
they're for the webapps specs

[22:01:45.0000] <Hixie>
there's also some old ones in there that i've been cleaning out, like whatwg-workers

[22:01:50.0000] <Hixie>
from years ago

[22:02:34.0000] <nessy>
MD is also only for search, right ? cause microdata is the one that delimits the spec

[22:02:40.0000] <Hixie>
yeah

[22:02:44.0000] <nessy>
ok, cool

[22:03:28.0000] <nessy>
so I'm probably ok with just microdata, w3c-html, 2dcontext (and complete, dev-html)

[22:03:50.0000] <Hixie>
you can probably drop those last two too

[22:04:06.0000] <nessy>
doesn't hurt to leave those in sync with yours

[22:04:26.0000] <nessy>
I came across html-device the other day - that can really go, right?

[22:05:36.0000] <nessy>
I even tried to list them in https://github.com/w3c/html/blob/master/markers.md (you'll find that amusing for sure)

[22:07:39.0000] <nessy>
oh, and I noticed you should update http://wiki.whatwg.org/wiki/FAQ#What_are_the_various_versions_of_the_spec.3F - there are a few missing like WebVTT

[22:10:10.0000] <Hixie>
html-device is aaaancient, yeah

[22:11:08.0000] <Hixie>
webvtt is intentionally not in that list since whatwg doesn't currently publish it at all

[22:15:00.0000] <nessy>
ah I see

[22:15:30.0000] <nessy>
right, it's part of the whatwg html spec - forgot

[22:16:23.0000] <nessy>
though your list includes references between sections and W3C specs

[22:16:32.0000] <MikeSmith>
annevk: https://twitter.com/cgiffard/status/276196845187895296 "Does anybody know of a service that can validate CORS headers? Mine fail intermittently in Chrome. It's driving me nuts."

[22:19:22.0000] <Hixie>
nessy: it's not in the whatwg html spec

[22:23:05.0000] <nessy>
ah! right.

[22:46:16.0000] <kennyluck>
What's the history of testharness.js before https://github.com/jgraham/testharness.js/commits/master?page=2 ? Was it under cvs.w3.org or something?

[23:05:39.0000] <niloy>
for session storage, if a user does right click and open in new tab, the existing session variables should get copied to the new tab, right?

[23:23:09.0000] <hsivonen>
annevk: was your “o_O” about the polyglot comment thread on Sam’s blog about what Sam said, what I said or in general?

[23:39:43.0000] <odinho>
kennyluck: I heard it was developed on the internal svn testsuites system of Opera, but then he said "no, it was really all on my laptop".

[23:40:32.0000] <kennyluck>
odinho, oh, ok. Thanks.

[23:54:06.0000] <odinho>
kennyluck: At least, our first record of testharness.js is 872 days ago, by jgraham, called "sync". The next few updates are from annevk :P

[23:55:05.0000] <odinho>
No, it's called "inital work on W3C test harness", 872 days, 20h ago. I didn't go far enough back on that day. :]

[23:55:10.0000] <kennyluck>
odinho, 872 days :) Was that record in the svn repository you mentioned?

[23:55:19.0000] <odinho>
kennyluck: Yep.

[23:55:19.0000] <kennyluck>
heh

[23:59:23.0000] <odinho>
The API in the initial version was   test(),  async_test()  and on_event() globally, as well as the tests   assert.exists() assert.true(), assert.equals(), assert.not_exists(), assert.readonly(), assert.unreached().

[00:12:09.0000] <hsivonen>
can someone remind me what the two WGs were that merged into WebApps?

[00:12:46.0000] <Ms2ger>
WebAPI was one, I guess

[00:13:11.0000] <hsivonen>
and the other one was WAF

[00:13:18.0000] <hsivonen>
Web Application Formats

[00:15:39.0000] <a-ja>
any browsers supporting :scoped yet?

[00:16:37.0000] <Ms2ger>
I've seen patches for Gecko which should land reasonably seem

[00:16:58.0000] <a-ja>
/me asks cuz he noticed :-moz-scoped just landed

[00:18:10.0000] <odinho>
hsivonen: Hey. A friend of mine looking for a good html5 parser, I showed him the validator.nu one -- but how well does the c++-translation work now? Is it good to go?

[00:18:43.0000] <odinho>
hsivonen: Or is Geckos parser better to rip out? (if it's reasonably self contained?)

[00:18:43.0000] <Ms2ger>
We prefixed? Bah

[00:18:51.0000] <Ms2ger>
odinho, same parser :)

[00:19:06.0000] <odinho>
Ms2ger: So the java->cpp is still going on and strong?

[00:19:09.0000] <Ms2ger>
Yep

[00:19:18.0000] <a-ja>
Ms2ger: on m-i anyway

[00:19:19.0000] <odinho>
No extra fastness-fixes etc? Ahh, okay, that's good. :D

[00:19:45.0000] <MikeSmith>
odinho: there's also Hubbub http://www.netsurf-browser.org/projects/hubbub/

[00:20:21.0000] <odinho>
MikeSmith: Yeah, but that one was bad.

[00:20:28.0000] <MikeSmith>
odinho: I don't think the C++ version of validator.nu parser is portable yet outside of the mozilla context

[00:20:38.0000] <MikeSmith>
odinho: what's bad about it?

[00:21:04.0000] <MikeSmith>
a-ja: heycam|away working on scoped

[00:21:21.0000] <MikeSmith>
I thought Chrome has scoped too

[00:21:50.0000] <odinho>
MikeSmith: Don't know, -- broke too many sites I think, and something about API and something else.  He had tried it, but let it go.

[00:21:57.0000] <MikeSmith>
ok

[00:23:40.0000] <Ms2ger>
/me sends hsivonen in to bug 648722 to complain about the prefix

[00:24:36.0000] <odinho>
OMFG prefix :(

[00:25:00.0000] <odinho>
Ms2ger: Good, send in them torpedos.

[00:26:58.0000] <a-ja>
tks folks....fodder for some testing later on this wk

[01:25:38.0000] <zcorpan>
a-ja: isn't it called :scope ?

[01:28:58.0000] <Ms2ger>
zcorpan, nope

[01:29:13.0000] <a-ja>
zcorpan: not sure...haven't tested. was just going by bug title

[01:30:12.0000] <zcorpan>
Ms2ger: http://dev.w3.org/csswg/selectors4/#the-scope-pseudo ?

[01:30:48.0000] <Ms2ger>
zcorpan, ah, yes, I meant it's implemented as -moz-scope

[01:31:06.0000] <zcorpan>
ok

[01:31:41.0000] <a-ja>
yeah....:-moz-scope is all over the patch that landed

[01:32:59.0000] <odinho>
so it's like a -sniper-scope, only with more moz.

[01:34:58.0000] <annevk>
hsivonen: Sam

[01:38:27.0000] <zcorpan>
data:text/plain;foo="bar,baz";charset=utf8,body is an interesting case

[01:38:57.0000] <zcorpan>
opera gives an error

[01:39:10.0000] <annevk>
MikeSmith: don't know such a service

[01:39:19.0000] <MikeSmith>
ok

[01:41:13.0000] <odinho>
darobin, MikeSmith: Getting questions about the options-thingy on w3c-test. Did anyone ever find out anything about it? :-)

[01:41:24.0000] <odinho>
MikeSmith: Also, is w3c-test.org geodistributed?

[01:41:46.0000] <darobin>
odinho: I went as far as figuring out that a stock apache out of the box does not exhibit the problem

[01:42:05.0000] <MikeSmith>
that's farther than I went

[01:42:06.0000] <darobin>
so it's now a matter of divide and conquering to find where the problem comes from I reckon....

[01:42:08.0000] <odinho>
The CORS-tests I have is latency-dependent, when karlcow tried them in Japan they failed, I guess that is because Japan is far far away from my server at home. :P

[01:42:21.0000] <darobin>
heh

[01:42:34.0000] <MikeSmith>
odinho: w3c-test is one single humble machine

[01:42:46.0000] <MikeSmith>
at MIT I think

[01:42:46.0000] <odinho>
MikeSmith: So it'll have the same problem :-) Where is it?

[01:42:50.0000] <odinho>
Okay.

[01:43:02.0000] <odinho>
It works from here though... So Norway-MIT should be okay.

[01:44:15.0000] <odinho>
darobin: That's cool. :-) Definately something I can say and look like I did a lot of work on it ;-)

[01:48:05.0000] <hsivonen>
Is there a limitation of up to one TAG participant per Member? Where is that documented?

[01:51:22.0000] <darobin>
hsivonen: yes there is, and yes it is (in the Process I believe)

[01:52:06.0000] <darobin>
currently, it's a tight race

[01:52:45.0000] <hsivonen>
darobin: I don’t see it in the Process

[01:53:18.0000] <hsivonen>
IIRC, there was a merger case that made two AB members be employees of on W3C Member and one of them stepped down.

[01:53:32.0000] <hsivonen>
but I can’t find Process grounds for that, either

[01:54:44.0000] <darobin>
I'm in the process of rebooting firefox, I'll tell you when it's back

[02:04:46.0000] <darobin>
hsivonen: http://www.w3.org/2005/10/Process-20051014/process.html#AB-TAG-constraints

[02:05:47.0000] <icaaq>
Let say i have a download link for a app with a specific languagepack, would it be appropriate to specify the language in the hreflang attribute on the download link? I know it's not commonly used/implemented. I'm mostly just thinking out load  http://dev.w3.org/html5/spec/links.html#attr-hyperlink-hreflang

[02:07:52.0000] <hsivonen>
darobin: thank you

[02:15:43.0000] <annevk>
Does ECMAScript use properties that can be set? For some reason I'm drawing a blank

[02:17:03.0000] <annevk>
I wonder when https://www.w3.org/2012/12/03-tag-nominations is going to be public. I still don't quite know what's going on

[02:18:11.0000] <annevk>
Running for TAG without Member access is extremely non-transparent

[02:24:08.0000] <kennyluck>
annevk, are you sure they are not going to make you sign the Invited Expert agreement if you really get elected?

[02:24:43.0000] <annevk>
kennyluck: you have to agree to sign it to become nominated

[02:25:29.0000] <kennyluck>
annevk, oh ok. That's a news to me (that you signed the agreement).

[02:26:18.0000] <annevk>
It's not a big deal, I'm just not going to join any WGs (other than the TAG) and contribute content to them.

[02:30:01.0000] <Stevef_>
annevk: how many seats are up for grabs?

[02:31:48.0000] <annevk>
Stevef_: four I'm told, but it's a secret

[02:32:06.0000] <annevk>
actually, maybe that can be derived from public information

[02:33:00.0000] <Stevef_>
so you have a 50/50 chance :-)

[02:33:27.0000] <Stevef_>
you'd get my vote if I had one

[02:33:31.0000] <annevk>
Stevef_: if people vote randomly :-)

[02:34:04.0000] <SimonSapin>
I’ll share the big secret that we are voting for four seats

[02:34:05.0000] <annevk>
(but since the majority of companies is prolly US-based, that might be the case)

[02:35:07.0000] <SimonSapin>
so annevk, what do you plan to do if elected? :p

[02:35:51.0000] <annevk>
SimonSapin: figure out how we can get the group to talk about architecture again?

[02:36:29.0000] <annevk>
that is, instead of Linked Data semantic debate, have web technology architecture debate

[02:36:50.0000] <SimonSapin>
what is web technology architecture?

[02:37:04.0000] <annevk>
it's weird :-)

[02:42:45.0000] <annevk>
what I'd be interested in looking at is sort of a high-level overview of what's being created, what the various issues are we're running into regularly, and if there's a way we do better

[02:43:32.0000] <annevk>
it seems like something that's worthwhile to brainstorm about now and then

[02:46:10.0000] <SimonSapin>
ok

[02:48:37.0000] <annevk>
darobin: we need an election hashtag

[02:48:39.0000] <SimonSapin>
also, each member gets to vote for up to 4 candidates. I don’t know (or care) if that’s supposed to be public

[02:48:44.0000] <darobin>
#tag?

[02:49:00.0000] <annevk>
#tag2013 ? :-)

[02:49:06.0000] <darobin>
yeah that works too

[02:49:12.0000] <darobin>
#FourHorsemen

[02:50:01.0000] <annevk>
heh

[02:59:34.0000] <zcorpan>
icaaq: that seems OK, but also pretty useless except as a styling hook for yourself

[02:59:59.0000] <icaaq>
zcorpan: yes

[03:01:57.0000] <icaaq>
zcorpan: and "maybe" SEO http://support.google.com/webmasters/bin/answer.py?hl=en&answer=189077

[03:03:07.0000] <zcorpan>
icaaq: is the app a translation of the page?

[03:04:08.0000] <icaaq>
zcorpan: no, i was thinking of maybe a localized version of a browser

[03:27:25.0000] <annevk>
I like how simple GitHub.app makes reverting stuff

[03:32:48.0000] <SimonSapin>
uh, apparently the culprit for RFC 2397 is running for TAG

[03:34:26.0000] <MikeSmith>
SimonSapin: he's already on the TAG :)

[03:35:32.0000] <SimonSapin>
I’m no sure how much I can blame him for not defining error handling 14 years ago

[05:09:59.0000] <jgraham>
SimonSapin: Well, if we kick out all the people that didn't define error handing in the past, I suggest starting with those responsible for RFC 1945

[05:11:19.0000] <SimonSapin>
jgraham: I’m considering who to give one vote to or not. I didn’t say anything about kicking anybody out.

[05:16:25.0000] <darobin>
SimonSapin: I reckon you could vote for the Four Horsemen ticket

[05:16:39.0000] <SimonSapin>
Four Horsemen?

[05:18:09.0000] <annevk>
marcosc, wycats_, slightlyoff, and I, I think

[05:19:26.0000] <hsivonen>
darobin: I think https://www.w3.org/2012/12/03-tag-nominations is missing some asterisks

[05:19:47.0000] <darobin>
what annevk said

[05:22:44.0000] <darobin>
hsivonen: indeed, reported

[05:23:32.0000] <hsivonen>
darobin: thanks

[05:23:40.0000] <marcosc>
darobin: when do the elections end?

[05:23:57.0000] <darobin>
late Dec, early Jan IIRC

[05:24:25.0000] <SimonSapin>
9 january

[05:25:31.0000] <marcosc>
thanks SimonSapin

[05:28:50.0000] <darobin>
I recommend candidates start campaigning now

[05:29:28.0000] <darobin>
wycats_: you up?

[05:33:22.0000] <annevk>
darobin: tweeted

[05:33:30.0000] <annevk>
darobin: not inspired yet for that longer email

[05:33:48.0000] <darobin>
annevk: whenever you're ready

[05:33:51.0000] <darobin>
but don't wait too long!

[05:36:43.0000] <SimonSapin>
darobin: it’s slightly weird that the "success" message when submitting a WBS form is red

[05:37:04.0000] <darobin>
SimonSapin: I'll pass that along

[05:37:13.0000] <SimonSapin>
no big deal

[05:37:27.0000] <darobin>
yeah, but easy fix

[05:37:35.0000] <darobin>
I'll leave it in the systeam's capable hands

[06:18:34.0000] <hsivonen>
/me finds https://twitter.com/antimattur

[06:26:41.0000] <zcorpan>
/me expected to find something amusing but was disappointed

[06:28:35.0000] <annevk>
zcorpan: are you referring to the status code he included in his status?

[06:28:43.0000] <annevk>
or she, I suppose

[06:29:17.0000] <zcorpan>
annevk: no the tweets

[06:29:51.0000] <annevk>
/me was trying to make a meta joke

[06:35:03.0000] <Ms2ger>
/me wonders if the list of TAG candidates and their affiliations are public

[06:35:13.0000] <zcorpan>
"Although some interpretations differ, in most accounts, the four riders are seen as symbolizing Conquest,[1] War,[2] Famine,[3] and Death, respectively." http://en.wikipedia.org/wiki/Four_Horsemen_of_the_Apocalypse

[06:35:27.0000] <zcorpan>
now, identify yourselves

[06:35:42.0000] <zcorpan>
or, what's your favorite color?

[06:36:42.0000] <annevk>
In other news, reading @mattur's feed I found https://twitter.com/tehu/status/272985237129158656

[06:36:53.0000] <annevk>
which is rather interesting

[06:37:52.0000] <zcorpan>
i seem to recall annevk's favorite color is papayawhip. hence pale, and Death.

[06:39:17.0000] <annevk>
I'll anoint you as campaign manager

[06:40:02.0000] <Ms2ger>
Can we donate to your campaign? :)

[06:41:48.0000] <annevk>
What's your favorite color? Papayawhip. What's your quest? To serve on the TAG. What's the average airspeed velocity of an unladen swallow? An African or European swallow?

[06:41:57.0000] <annevk>
aaaaaahh

[06:43:01.0000] <Ms2ger>
Poor TimBL

[06:43:14.0000] <annevk>
Ms2ger: please turn any monetary contributions into patches: https://github.com/whatwg

[06:43:30.0000] <Ms2ger>
Any patches you'd like to see? :)

[06:44:02.0000] <annevk>
cross-boundary events? :)

[06:44:25.0000] <Ms2ger>
I don't want you on the TAG quite *that* badly

[06:47:25.0000] <zcorpan>
Ms2ger: you can just transfer your money straight to my bank account.

[06:47:50.0000] <Ms2ger>
zcorpan, alright, I'll need your credit card number and its expiration date to do that

[06:48:25.0000] <zcorpan>
sure, lemme take a picture and tweet it.

[06:48:48.0000] <odinho>
Maybe TAG can make sugarapi a reality? :]

[07:00:06.0000] <darobin>
no no, Ms2ger give your money to me so I can make attack ads!

[07:00:29.0000] <darobin>
annevk: I think Standards Suck should run an endorsement campaign

[07:01:12.0000] <annevk>
oh yeah, that's gonna go over real well with the AC :)

[07:01:39.0000] <darobin>
annevk: every little bit helps!

[07:02:28.0000] <annevk>
https://twitter.com/annevk/status/276340860302524416

[07:04:35.0000] <darobin>
ooooh, putting an untested script straight into production and breaking everything — I'm a funny guy!

[07:17:03.0000] <SimonSapin>
annevk: indeed, this requires a Standard Suck video

[07:19:08.0000] <SimonSapin>
annevk: bonus points if you’re interviewing yourself

[07:43:55.0000] <gsnedders>
annevk: Post it as a badly compressed video in a standard format. Because standards sucks.

[07:52:56.0000] <SimonSapin>
annevk: I’m not sure what you meant by "Please direct any media queries"

[07:53:03.0000] <darobin>
bonus points for using a DRM standard

[08:12:40.0000] <marcosc>
annevk: I'm down to make a video

[08:19:10.0000] <darobin>
marcosc: you really should

[08:19:18.0000] <darobin>
with unicorns

[08:21:02.0000] <marcosc>
I still have the video of you dancing around tpac. We could make some kind of composite

[08:21:18.0000] <marcosc>
Us talking about the TAG with you and Lachy dancing in the bg

[08:21:25.0000] <marcosc>
that would be awesome

[08:22:38.0000] <annevk>
SimonSapin: it's a pun

[08:22:56.0000] <Ms2ger>
annevk, not a very good one, sorry

[08:28:26.0000] <darobin>
/me approves of annevk's pun

[08:28:51.0000] <darobin>
marcosc: that sounds okay, but I prefer unicorns

[08:30:49.0000] <annevk>
Ms2ger: still waiting for your content on twitter ;)

[08:30:58.0000] <Ms2ger>
Pff

[08:31:09.0000] <Ms2ger>
I'm pretty content without twitter

[08:31:20.0000] <annevk>
darobin: http://html5.org/temp/unicorn.svg

[08:31:35.0000] <tantek>
/me checks ms2ger.com

[08:31:50.0000] <annevk>
darobin: my long term goal is to get that in browsers as about:unicorn

[08:32:00.0000] <darobin>
I support that goal

[08:32:16.0000] <darobin>
though as stated before, I think that about:dahut would also be worthy of inclusion

[08:33:18.0000] <Ms2ger>
tantek, I'm not a commercial organisation ;)

[08:33:31.0000] <annevk>
darobin: is there an SVG for it?

[08:33:50.0000] <annevk>
Ms2ger: y no ms2ger.be?

[08:34:26.0000] <darobin>
annevk: mmmm, that's a good question

[08:35:02.0000] <darobin>
an ancient one, not so pretty http://fr.wikipedia.org/wiki/Fichier:Meuble_H%C3%A9raldique_Dahu.svg

[08:35:39.0000] <Ms2ger>
annevk, I need to figure out who runs domain names in Eritrea...

[08:35:50.0000] <darobin>
the first his is https://github.com/darobin/couchdb-deploy/blob/master/t/dahut.svg, which isn't all that useful

[08:36:52.0000] <annevk>
I have that too now and then. Searching for something, only result is you ranting about there not being anything...

[08:37:08.0000] <annevk>
s/you/me/ too

[08:40:59.0000] <GPHemsley>
zcorpan, SimonSapin: Interesting behavior with that data:text/plain;foo="bar,baz";charset=utf8,body

[08:44:08.0000] <SimonSapin>
GPHemsley: it’s almost interoperable (Opera shows an error)

[08:44:18.0000] <SimonSapin>
but yeah, I expected this

[08:44:30.0000] <GPHemsley>
SimonSapin: Yeah, but interoperably *bad*

[08:45:20.0000] <SimonSapin>
GPHemsley: apart from charset, what MIME parameters are actually used on the web?

[08:45:36.0000] <GPHemsley>
I feel like I answered this before

[08:45:39.0000] <SimonSapin>
I was told some audio/video containers have other parameters

[08:45:40.0000] <SimonSapin>
yes

[08:45:41.0000] <GPHemsley>
but codecs, etc.

[08:45:49.0000] <SimonSapin>
do these ever contain a comma?

[08:45:53.0000] <GPHemsley>
absolutely

[08:45:58.0000] <SimonSapin>
oh

[08:46:10.0000] <SimonSapin>
it’s bad indeed

[08:46:46.0000] <GPHemsley>
turns out the MIME type parsing algorithm is more important than I thought :P

[08:46:49.0000] <SimonSapin>
but it sucks to have to parse quoted strings to know where the body starts

[08:46:57.0000] <marcosc>
ok, is public: https://www.w3.org/2012/12/03-tag-nominations

[08:47:44.0000] <GPHemsley>
SimonSapin: http://tools.ietf.org/html/rfc4281

[08:47:50.0000] <SimonSapin>
GPHemsley: data:text/plain;foo="bar%2Cbaz";charset=utf8,body

[08:48:11.0000] <GPHemsley>
SimonSapin: Oh, right. I keep forgetting about percent-encoding.

[08:48:28.0000] <GPHemsley>
But still, it's like you fix one issue, and another pops up

[08:48:43.0000] <GPHemsley>
(like that issue with percent-encoding the semicolon)

[08:49:02.0000] <SimonSapin>
but actually they were all already there, staring at you, waiting for you to discover them :p

[08:49:30.0000] <GPHemsley>
I suppose

[08:49:49.0000] <GPHemsley>
any idea what IE does to these?

[08:49:54.0000] <GPHemsley>
s/to/with/

[08:49:56.0000] <SimonSapin>
I’m fine with a rule like "any comma in the header has to be percent-encoded"

[08:50:12.0000] <SimonSapin>
I don’t have IE right now

[08:51:14.0000] <SimonSapin>
Microsoft has some VMs available for IE 6~9, but I don’t know about 10

[08:51:28.0000] <GPHemsley>
Who's got IE and wants to test a bunch of data: URLs? :)

[08:52:02.0000] <SimonSapin>
GPHemsley: let’s perhaps write down a test suite, and then find people to run it?

[08:52:08.0000] <GPHemsley>
that works too :)

[08:52:47.0000] <SimonSapin>
I started something with testharness.js and XHR, but Chromium refuses to do XHR on data:, pretending it is cross-origin

[08:53:31.0000] <GPHemsley>
Simple <a> won't work?

[08:54:20.0000] <SimonSapin>
how do you get the parsed header/body from JS with <a>?

[08:54:29.0000] <SimonSapin>
or at least the body

[08:54:59.0000] <GPHemsley>
oh, well, I thought this was for human consumption

[08:55:09.0000] <GPHemsley>
but ok

[08:57:47.0000] <SimonSapin>
GPHemsley: I like tests to be automatic, but maybe

[08:58:10.0000] <SimonSapin>
/me off for the css conf call

[09:02:23.0000] <jdaggett>
yes, it's me

[09:02:32.0000] <jdaggett>
(now muted)

[09:02:48.0000] <SimonSapin>
jdaggett: wrong channel?

[09:02:51.0000] <jdaggett>
zakim, ?p82 is me

[09:03:28.0000] <jdaggett>
argh, thanks...

[09:03:40.0000] <SimonSapin>
:)

[09:27:42.0000] <annevk>
dglazkov: yt?

[09:40:15.0000] <Ms2ger>
CSSWG: still not sure about case-insensitivity

[09:42:17.0000] <SimonSapin>
several people in the group are sure, but don’t agree

[09:48:26.0000] <annevk>
ASCII case-insensitive

[09:48:31.0000] <annevk>
it's not that hard

[09:48:52.0000] <SimonSapin>
annevk: some people say the same for unicode case folding

[09:48:54.0000] <Ms2ger>
Some people even think you're right

[09:48:55.0000] <annevk>
that's what the HTML parser does, and all this should follow from that, imo

[09:49:56.0000] <annevk>
SimonSapin: basically it's all case-sensitive, except for a few historical mistakes

[09:51:59.0000] <tantek>
Norwegian vs. French, can we get a chef comparison? (Swedish chef close enough?)

[09:57:47.0000] <SimonSapin>
http://www.inter-locale.com/test/css-case-sensitive-test.html multiple implementations make classes unicode case-insensitive

[09:59:03.0000] <annevk>
in quirks mode?

[09:59:29.0000] <SimonSapin>
not sure

[09:59:50.0000] <annevk>
pretty sure classes are case-sensitive

[10:00:05.0000] <Ms2ger>
Not in quirks

[10:01:13.0000] <annevk>
right

[10:49:06.0000] <annevk>
http://davetroy.com/posts/the-real-republican-adversary-population-density is interesting

[11:27:15.0000] <tantek>
great find annevk - that is fascinating

[11:28:34.0000] <annevk>
I can't take credit, I follow dbaron on Twitter, who RT'ed Asa Dotzler, who shared the link :)

[11:38:34.0000] <dbaron>
I RT'ed somebody else RT'ing Asa, really

[11:38:38.0000] <dbaron>
I think it was Jesse.

[11:42:07.0000] <Ms2ger>
Looks like http://www.w3.org/2012/12/03-tag-nominations is public now

[11:42:37.0000] <Ms2ger>
I'm surprised to see that Glenn Adams claims to be unaffiliated, since he also claims to represent Cox

[11:49:52.0000] <SimonSapin>
Ms2ger: represent or just nominated by?

[11:51:08.0000] <GPHemsley>
ugh RFC 2231

[11:51:56.0000] <Ms2ger>
SimonSapin, as in https://www.w3.org/2000/09/dbwg/details?group=42538&public=1

[11:52:16.0000] <SimonSapin>
I see

[11:52:45.0000] <SimonSapin>
GPHemsley: I’m glad you’re doing that :)

[11:57:27.0000] <GPHemsley>
SimonSapin: Heh. This algorithm is crazy.

[11:57:30.0000] <GPHemsley>
So many steps

[11:57:41.0000] <GPHemsley>
for something seemingly so intuitive

[11:57:58.0000] <SimonSapin>
GPHemsley: could we drop half of it and only keep the common cases?

[11:58:09.0000] <SimonSapin>
stuff like comments, line continuations, …

[11:58:29.0000] <GPHemsley>
SimonSapin: Well, my first draft, I think, is just going to cover the basics, ignoring any special characters unless absolutely necessary.

[12:01:03.0000] <GPHemsley>
So basically, anything between ; and = that isn't whitespace or = is a parameter name, and anything between = and ; that isn't " or ; is a parameter value

[12:01:09.0000] <GPHemsley>
and we'll take if from there

[12:01:29.0000] <GPHemsley>
though that admittedly completely ignores those RFC 822 comment things

[12:01:53.0000] <GPHemsley>
s/" or ;/whitespace or " or ;/

[12:02:11.0000] <GPHemsley>
s/if/it/

[12:02:15.0000] <SimonSapin>
I’m confident nobody uses comments in data:

[12:02:24.0000] <SimonSapin>
and only slightly less so in HTTP

[12:02:26.0000] <Ms2ger>
Ehehehehe

[12:02:38.0000] <GPHemsley>
agreed

[12:02:51.0000] <GPHemsley>
(with both of you, I suppose)

[12:03:43.0000] <SimonSapin>
let’s burn those who do

[12:03:53.0000] <GPHemsley>
fine by me

[12:03:56.0000] <GPHemsley>
:)

[12:04:42.0000] <SimonSapin>
but data only references the <attribute> and <value> production, so maybe even the RFC does not allow comments

[12:05:17.0000] <GPHemsley>
I would like to make it so that there is only one possible syntax for MIME type, if at all possible

[12:05:42.0000] <GPHemsley>
(which may mean willful violations here and there)

[12:06:05.0000] <SimonSapin>
only one possible? something like canonicalization?

[12:06:43.0000] <GPHemsley>
well, what I mean is, all MIME types, no matter where they are (data: URLs, Content-Type headers, etc.) get parsed the same

[12:06:49.0000] <GPHemsley>
canonicalization is another story

[12:07:49.0000] <GPHemsley>
as in, we'll work within the spirit of the RFCs, if not necessary the letter

[12:08:14.0000] <GPHemsley>
http://en.wikipedia.org/wiki/Letter_and_spirit_of_the_law

[12:09:01.0000] <GPHemsley>
s/necessary/necessarily.

[12:09:03.0000] <GPHemsley>
/

[12:09:06.0000] <GPHemsley>
grrrrr

[12:09:19.0000] <GPHemsley>
s/necessary/necessarily/

[12:09:45.0000] <SimonSapin>
parsed the same, what about percent-encoding in data: ?

[12:10:31.0000] <GPHemsley>
well, you'd have to deal with that yourself :P

[12:10:40.0000] <GPHemsley>
but after percent-decoding

[12:11:07.0000] <GPHemsley>
percent-encoding is necessary to fit the MIME type into the syntax of the URL

[12:11:17.0000] <GPHemsley>
it's not inherent to the MIME type itself

[12:12:23.0000] <SimonSapin>
so: split at ","

[12:12:40.0000] <SimonSapin>
so: split at ","  percent-decode and then parse as MIME?

[12:13:05.0000] <SimonSapin>
so %3B and ; would always be the same?

[12:14:42.0000] <SimonSapin>
I’d prefer this, but I can also imagine another interpretation where percent-decoding is only done on parameter values, after MIME parsing

[12:15:43.0000] <GPHemsley>
well, that

[12:16:04.0000] <GPHemsley>
well, that'll be up to you to determine, depending on relevant RFCs and implementations, but essentially, yes

[12:17:33.0000] <GPHemsley>
if it turns out that only the parameters are percent-encoding, that would be a bummer

[12:17:43.0000] <GPHemsley>
(though I know it's looking like that already)

[12:18:17.0000] <GPHemsley>
unless you split on "," and then split on first ";", percent-decode, and then put it all back together to parse as MIME

[12:18:26.0000] <GPHemsley>
that would make my life easier :)

[12:19:01.0000] <GPHemsley>
hmm... I wonder if it'd be alright to treat comments like percent-encoding

[12:19:21.0000] <GPHemsley>
such that it's protocol-specific and would need to be removed before percent-encoding

[12:19:23.0000] <GPHemsley>
hmm

[12:21:47.0000] <GPHemsley>
that way we can decouple the MIME type syntax from HTTP and, well, MIME

[12:31:04.0000] <annevk>
SimonSapin: GPHemsley: HTTP's usage of MIME is much more restricted, please stick to that

[12:31:33.0000] <GPHemsley>
annevk: Restricted how?

[12:31:37.0000] <annevk>
SimonSapin: GPHemsley: http://tools.ietf.org/html/rfc2616#section-3.7

[12:31:58.0000] <GPHemsley>
annevk: What makes that restricted?

[12:32:20.0000] <annevk>
GPHemsley: there's no allowance for comments or any of that, just tokens

[12:32:33.0000] <annevk>
(and whitespace)

[12:32:40.0000] <SimonSapin>
data: does something similar

[12:32:46.0000] <GPHemsley>
annevk: I was under the impression that comments (like whitespace) were allowed implicitly

[12:33:09.0000] <GPHemsley>
annevk: But again, I was planning on leaving them out already, at least in the first draft.

[12:33:58.0000] <annevk>
In any event though, it seems better to reverse engineer this from implementations and look at the actual implementations for verification

[12:34:39.0000] <GPHemsley>
define "better"

[12:38:24.0000] <GPHemsley>
I think it's better to figure out what I think it should do, and then tweak it latest based on reverse-engineering to confirm.

[12:38:36.0000] <GPHemsley>
(Admitting, of course, that I haven't defined "better" either.)

[12:39:00.0000] <GPHemsley>
s/latest/later/

[13:57:51.0000] <annevk>
Hixie: I meant the exception defined here: http://www.whatwg.org/specs/web-apps/current-work/#events-and-the-window-object

[14:25:56.0000] <Hixie>
annevk: yeah, that's the second one i mentioned

[14:27:16.0000] <annevk>
Hixie: was the first about body.onload and window.onload being the same?

[14:27:35.0000] <Hixie>
there's some weirdness about what the target should be on the load event

[14:27:37.0000] <Hixie>
see The End maybe?

[14:27:53.0000] <Hixie>
(i'm fine leaving it specced as is)

[14:29:04.0000] <annevk>
it's The End indeed, thanks

[14:29:59.0000] <annevk>
the way that is defined seems fine

[14:51:37.0000] <MikeSmith>
"Do people need to present defensible theses

[14:52:48.0000] <MikeSmith>
"Do people need to present defensible theses on every new addition to HTML to indicate that it's value is genuine?"

[14:53:16.0000] <MikeSmith>
http://lists.w3.org/Archives/Public/public-html/2012Dec/0037.html

[14:53:47.0000] <MikeSmith>
"did anyone have to provide a defense for HTML's ability to separate paragraphs from each other?"

[14:53:52.0000] <Hixie>
...why yes, yes they do

[14:54:54.0000] <MikeSmith>
he's convinced me that policy needs to change!

[14:55:17.0000] <MikeSmith>
from now on, no defensible thesis required!

[14:55:52.0000] <gsnedders>
Hixie: Add a sarcasm element. It's value is genuine.

[14:55:56.0000] <gsnedders>
*Its

[14:55:59.0000] <Hixie>
gsnedders: check the spec

[14:56:15.0000] <Hixie>
MikeSmith: that'd be a quick way to make the htmlwg spec obviously inferior to the whatwg one, so i'm on board ;-)

[14:56:23.0000] <gsnedders>
Hixie: All you have is an end tag.

[14:56:33.0000] <gsnedders>
I do know what the spec says. ;)

[14:56:38.0000] <MikeSmith>
we start with this dude's proposal, for the <sentence> element

[14:57:02.0000] <MikeSmith>
from now on, you mark up every single sentence in your documents with the <sentence> element

[14:58:10.0000] <annevk>
his homepage uses interesting markup for someone who wants to introduce new markup

[14:58:21.0000] <annevk>
-> http://hea-www.harvard.edu/~fine/

[14:59:20.0000] <MikeSmith>
wow

[15:00:44.0000] <MikeSmith>
hey I like the part of that page that lets you send as many SMS messages to his mobile as you want, at no cost

[15:01:06.0000] <MikeSmith>
makes you wonder why more people don't just add something like that to their Web pages

[15:01:45.0000] <Hixie>
i think every space should have an element

[15:03:30.0000] <MikeSmith>
Hixie: good, now you're thinking semantically

[15:03:57.0000] <MikeSmith>
I think every lack of a space where there should have been one should have an element

[15:04:28.0000] <annevk>
Asian father meme? Element for every sentence? Why not for every character?

[15:05:56.0000] <MikeSmith>
annevk: you got the pedal to the metal man

[15:06:21.0000] <MikeSmith>
that's the kind of thinking that will earn you your rightful place on the TAG

[15:09:00.0000] <annevk>
MikeSmith: you might want to consider voting for the guy with five patents

[15:19:28.0000] <MikeSmith>
heh

[15:21:56.0000] <MikeSmith>
in other news, I seriously like the way the new co-chair of the Tracking Protection WG framed his request for comments

[15:22:02.0000] <MikeSmith>
http://lists.w3.org/Archives/Public/public-tracking/2012Nov/0338.html

[15:22:19.0000] <MikeSmith>
"We ask that you emphasize no more than 3 points and do your submission in no more than 300 words. (To help you be brief, we will prioritize in our reading the comments that comply with the limits.)"

[15:22:55.0000] <Hixie>
hey that's a good idea, i should do that

[15:23:01.0000] <Hixie>
"please only send me easy feedback"

[15:23:37.0000] <MikeSmith>
yeah, maybe doesn't fit for all cases, but still seems like a good way to encourage people to attempt to be concise

[15:24:30.0000] <Hixie>
honestly the verbosity of the feedback isn't that big a deal

[15:24:31.0000] <MikeSmith>
some people have a habit of doing the opposite and it's a chore to read through their messages and try to see what point they're trying to make

[15:24:47.0000] <Hixie>
though there are some extremes

[15:24:53.0000] <Hixie>
i'll grant you

[15:24:56.0000] <MikeSmith>
yeah


2012-12-06
[16:21:09.0000] <MikeSmith>
 /set activity_hide_targets #webkit #chromium

[16:21:59.0000] <MikeSmith>
 /set activity_hide_targets #webkit #chromium

[16:47:12.0000] <karlcow>
http://www.w3.org/mid/m24nk01371.fsf⊙eac

[16:47:34.0000] <karlcow>
"We support Microdata proceeding on the REC track—just to name one reasno, WebKit and Gecko both have implementations."

[16:48:20.0000] <karlcow>
http://dev.opera.com/articles/view/microdata-and-the-microdata-dom-api/

[16:48:26.0000] <karlcow>
fwiw ;)

[16:49:13.0000] <karlcow>
Though I have been trying to use Microdata API and I found it confusing. I guess I didn't grasp yet how it should be working.

[16:51:33.0000] <hober>
OK, I really need to stop my brain for thinking of cards for Web Standards Cards For Humanity

[16:52:22.0000] <hober>
e.g. Given the black card "Life for American Indians was forever changed when the White Man introduced them to _____." Play the white card "the 5 February 2004 W3C Patent Policy."

[17:30:03.0000] <tantek>
karlcow - I like how everyone who writes a metadata article has to create a gratuitous reinvention of vCard / hCard etc. for their examples, thus immediately misleading authors into thinking they should all make up their own vocabularies. It's like XML hell all over again.

[17:31:22.0000] <tantek>
and I think the microdata API is only there in order to provide a spec-hook for the parsing algorithm, that is, some sort of developer accessible reason for existing. I don't know of anyone who actually makes any use of the microdata API in practice.

[17:31:35.0000] <karlcow>
tantek: not sure what it refers to. But I guess business card is a kind of "hello world" of metadata.

[17:31:54.0000] <tantek>
to me it (the *API* in particular) just as bad of a solution looking for a problem as many other kinds of things that get quickly derided.

[17:32:41.0000] <tantek>
a business card may be a kind of "hello world" of metadata, but then it should be used to promote vocabulary re-use first and foremost, not making up new vocabularies (and thus sending developers down an unproductive / non-interop path.

[17:33:34.0000] <tantek>
p.s. clever .ro spam comment at the end of that article

[17:34:10.0000] <karlcow>
tantek: aaaaaah you are talking about the article on dev.opera?

[17:34:26.0000] <karlcow>
/me was lost

[17:36:50.0000] <karlcow>
I was just mentioning to hober that microdata API was supported in Opera since Presto 2.9  http://www.opera.com/docs/specs/presto29/

[17:37:00.0000] <karlcow>
~2011

[17:40:26.0000] <karlcow>
For the MicroData API, I haven't really understood yet how the API helps to walk the graph of metadata to extract values.

[17:42:40.0000] <karlcow>
I must be doing something wrong

[17:42:41.0000] <karlcow>
https://gist.github.com/4221190

[19:51:23.0000] <Hixie>
man, i am absolutely amazed by the lack of professionalism being shown by people in public-webapps

[19:57:13.0000] <MikeSmith>
Hixie: I know what you mean but I'm amazed that you're amazed

[19:57:27.0000] <MikeSmith>
if in fact you're sincere about being amazed

[19:58:37.0000] <MikeSmith>
people can lead themselves to absurd conclusions once they have decided to not fix the real problems

[19:58:50.0000] <Hixie>
i actually am amazed

[19:59:11.0000] <MikeSmith>
ignore the core problems, pretend they're not problems at all, then start rationalizing from there

[19:59:12.0000] <Hixie>
i have seen all kinds of weird stuff at the w3c, but lack of professionalism towards others to this level i haven't seen before

[19:59:25.0000] <MikeSmith>
yeah

[19:59:30.0000] <MikeSmith>
it's dogmatic

[19:59:37.0000] <Hixie>
i mean, at first i kinda assumed people just didn't realise copying people was off

[19:59:49.0000] <MikeSmith>
of course they realize it's wrong

[19:59:52.0000] <Hixie>
but after that's been mentioned and pointed out, trying to justify it is crazy

[20:00:16.0000] <Hixie>
and the latest thing in www-archive saying that really the problem is just that ms2ger is pseudonymous is utter bs

[20:00:20.0000] <MikeSmith>
it's like any other kind of blind devotion to an instiution

[20:00:25.0000] <Hixie>
i mean, that brings it to a new level

[20:01:02.0000] <MikeSmith>
well that's not "people"

[20:01:07.0000] <MikeSmith>
that's one person

[20:01:17.0000] <MikeSmith>
who's at the most extreme end

[20:01:17.0000] <Hixie>
that specific issue, yes

[20:01:21.0000] <Hixie>
but the broader one isn't

[20:01:32.0000] <Hixie>
i mean, each of these specs has multiple "editors" listed

[20:06:28.0000] <zewt>
Hixie: i can honestly say that charles trying to censor ms2 is one of the most offensive things i've ever seen on a "professional" mailing list

[20:06:56.0000] <Hixie>
yeah that's a great example of what i mean

[20:07:02.0000] <zewt>
wonder if gmail lets me plonk people because i really don't want to read anything he has to say

[21:00:28.0000] <Hixie>
is this specced anywhere? http://code.google.com/p/chromium/issues/detail?id=3766

[21:03:24.0000] <Hixie>
anyone know anything about DOMFrameContentLoaded?

[21:03:52.0000] <MikeSmith>
Hixie: dunno but it looks like FF and Chrome both pass it now, right?

[21:04:15.0000] <Hixie>
yeah it's more the <font> behaviour i'm worried about

[21:04:40.0000] <MikeSmith>
oh

[21:04:41.0000] <Hixie>
the test, that is, the CSS stuff, is specced in the CSS and Unicode specs, i think

[21:04:48.0000] <MikeSmith>
ok

[21:49:35.0000] <MikeSmith>
tantek: has there been any decision yet about dropping the ime-mode property from CSS UI?

[21:50:00.0000] <MikeSmith>
I see it's still marked "at risk" in the latest ED

[21:50:09.0000] <MikeSmith>
http://dev.w3.org/csswg/css3-ui/

[21:51:50.0000] <tantek>
MikeSmith - do you have a preference?

[21:52:48.0000] <MikeSmith>
tantek: not really. I can ask the devs working on the IME API if they do

[21:53:25.0000] <MikeSmith>
I guess if we go forward with the IME API maybe we don't need the ime-mode property

[21:53:31.0000] <tantek>
basically, ime-mode is in IE5+ and FF3+

[21:53:48.0000] <tantek>
it is at risk because we don't know how interop those are

[21:53:58.0000] <tantek>
if they're interop, then it stays, if not, then it gets dropped during CR

[21:54:01.0000] <tantek>
make sense?

[21:55:56.0000] <MikeSmith>
tantek: makes sense

[21:55:57.0000] <MikeSmith>
thanks

[21:56:33.0000] <tantek>
np

[22:49:25.0000] <MikeSmith>
https://hg.mozilla.org/mozilla-central/rev/5593cd83590e is nice

[22:49:48.0000] <MikeSmith>
     2.1 --- a/js/src/jsarray.cpp

[22:49:56.0000] <MikeSmith>
     1.2 +++ b/js/src/builtin/array.js

[22:50:45.0000] <MikeSmith>
by way of David Bruant on twitter https://twitter.com/DavidBruant/status/276349760317829120

[22:52:14.0000] <MikeSmith>
and "Indeed, we took the basic concepts from V8."

[22:52:47.0000] <MikeSmith>
flashback to the summer of 2008

[22:58:31.0000] <MikeSmith>
http://www.iro.umontreal.ca/~dufour/pubs/dls2011.pdf

[23:01:18.0000] <MikeSmith>
https://github.com/Tachyon-Team/Tachyon/tree/master/source

[00:37:11.0000] <Smylers>
The sample rendering images in ‘HTML for Developers’ are wrong in a mildly amusing way: http://developers.whatwg.org/states-of-the-type-attribute.html#range-state-%28type=range%29

[00:37:48.0000] <Smylers>
(Also reported properly as an issue on GitHub.)

[00:39:09.0000] <Ms2ger>
Smylers, these come straight from the spec, no?

[00:39:33.0000] <Smylers>
They're displayed fine in the full spec.

[00:39:50.0000] <Smylers>
I'm presuming they're being distorted by CSS specific to the developers remix.

[00:41:40.0000] <Ms2ger>
Oh, hmm

[00:41:44.0000] <Ms2ger>
I don't see that

[01:56:44.0000] <zcorpan>
Smylers1: problem being that the images don't load? maybe they're not listed in the manifest?

[01:59:41.0000] <Smylers1>
Ms2ger: Hmmm, seems to be Firefox-specific.

[01:59:53.0000] <Ms2ger>
I use Firefox ;)

[01:59:56.0000] <Smylers1>
I just checked in Chromium and IE, and it's fine in those.

[02:00:43.0000] <Smylers1>
Ms2ger: Odd.

[02:01:05.0000] <Smylers1>
Ms2ger: I'm seeing the problem on both Firefox 17.0.1 on Linux and 16.0.2 on Windows.

[02:01:42.0000] <Ms2ger>
I'm on 20-something/Linux

[02:02:31.0000] <Smylers1>
zcorpan: The problem (which now seems only to affect me, albeit on two different computers with no shared accounts) is that the images are stretched to being the full width of the paragraph, but keep their intrinsic height. For tall thin images it's very distorting.

[02:02:52.0000] <zcorpan>
oh

[02:03:45.0000] <Smylers1>
Ah, using the Ctrl+Shift+I thingy and clicking on a stretched image I see

[02:03:58.0000] <zcorpan>
maybe the width is used from laying out the alt text?

[02:04:05.0000] <Smylers1>
section[role="main"] img { width: 100%; }

[02:04:15.0000] <Smylers1>
That's in the file handheld.css.

[02:04:37.0000] <darobin>
section[role="main"]? shouldn't you be using <main> instead?

[02:04:42.0000] <darobin>
/me crawls back under his bridge

[02:04:44.0000] <Smylers1>
Presumably handheld.css isn't supposed to be active in a desktop browser.

[02:04:54.0000] <Smylers1>
darobin: Tee-hee.

[02:05:04.0000] <zcorpan>
that style rule also seems a bit bogus

[02:05:16.0000] <zcorpan>
possibly max-width:100%; height:auto; makes sense

[02:05:21.0000] <darobin>
indeed

[02:05:25.0000] <Smylers1>
zcorpan: Indeed. That sounds better.

[02:05:37.0000] <Smylers1>
Has anybody got an actual handheld device to check it on?

[02:06:52.0000] <zcorpan>
what's your window width?

[02:07:10.0000] <zcorpan>
<link href="/css/handheld.css" rel="stylesheet" media="screen and (max-width: 959px)">

[02:07:19.0000] <Smylers1>
873px, it turns out

[02:07:24.0000] <Smylers1>
Ah.

[02:08:04.0000] <Smylers1>
873px doesn't seem small to me. It lets me fit an 80-character terminal window next to it on this widescreen laptop.

[02:08:11.0000] <zcorpan>
if you have a monitor, try holding it in your hand and see if the image appears more comfortable.

[02:09:05.0000] <Smylers1>
As expected, going full-screen fixes things.

[02:09:54.0000] <darobin>
Smylers1: the break point at which to switch to handheld is debatable, but the CSS for images is wrong anyway so fixing that would be the best bet IMHO

[02:10:37.0000] <Smylers1>
darobin: Yup.

[02:10:45.0000] <darobin>
also, if you're debugging you're probably much, much better off removing the manifest

[02:11:13.0000] <Smylers1>
I've just tried zcorpan's suggestion in the Ctrl+Shift+I thingy, and it seems to work.

[02:11:32.0000] <Smylers1>
darobin: manifest?

[02:11:47.0000] <darobin>
Smylers1: appcache manifest, on the root html

[02:12:17.0000] <darobin>
besides, it's a weird use of appcache given that the images are in a NETWORK block

[02:12:23.0000] <Smylers1>
darobin: What's that do?

[02:12:34.0000] <darobin>
it causes it to be cached for offline use

[02:12:49.0000] <darobin>
during development, it's a world of pain

[02:13:27.0000] <Smylers1>
darobin: When I first viewed the page Firefox asked me if I wanted to install the site for offline use. (I said ‘no’.) Is that what does it?

[02:13:35.0000] <darobin>
yup

[02:14:09.0000] <Smylers1>
darobin: Ta.

[02:14:27.0000] <darobin>
Smylers1: you want to read this before touching any content that relies on appcache: http://www.alistapart.com/articles/application-cache-is-a-douchebag/

[02:14:50.0000] <hsivonen>
Hixie: the spec for DOMFrameContentLoaded is http://mxr.mozilla.org/mozilla-central/source/content/base/src/nsDocument.cpp#4128

[02:14:51.0000] <darobin>
none of what's in that article is an exaggeration, in fact he's rather mellow considering

[02:37:35.0000] <Smylers1>
Pull request sent: https://github.com/benschwarz/developers.whatwg.org/pull/73

[02:37:41.0000] <Smylers1>
Thank you everybody for the help.

[02:56:43.0000] <zcorpan>
SimonSapin: thanks (re www-style)

[02:58:18.0000] <SimonSapin>
zcorpan: sure

[02:58:59.0000] <SimonSapin>
so you’d favor making the whitespace really optional?

[02:59:33.0000] <SimonSapin>
the thing is, it’s a pain to express in the grammar: http://dev.w3.org/csswg/css3-conditional/#at-supports

[02:59:45.0000] <zcorpan>
yeah, that seems like it would result in fewer WTWTFs from authors

[03:00:03.0000] <zcorpan>
i understand that it's a pain for the spec

[03:00:17.0000] <zcorpan>
priorities...

[03:02:05.0000] <darobin>
SimonSapin: are there any plans to make at-rules acceptable in a @supports condition?

[03:02:15.0000] <darobin>
e.g. @support (@font-face) ...

[03:02:35.0000] <SimonSapin>
darobin: isn’t that the case already?

[03:02:45.0000] <darobin>
I thought it wasn't, maybe I'm wrong

[03:02:51.0000] <SimonSapin>
http://dev.w3.org/csswg/css3-conditional/#contents-of

[03:04:50.0000] <darobin>
SimonSapin: unless I'm reading the grammar wrong that's for the content of the @support's body

[03:05:06.0000] <darobin>
so @supports (foo: bar) { @allowed-here... }

[03:05:08.0000] <SimonSapin>
darobin: sorry I misread your question

[03:05:53.0000] <darobin>
I was thinking about @supports not (@page) { approximate page stuff somehow }

[03:05:59.0000] <SimonSapin>
In @support (…) the … must be a declaration

[03:06:05.0000] <darobin>
right

[03:06:34.0000] <SimonSapin>
but we changed the syntax to allow @support some_functional_notation(…)

[03:06:51.0000] <SimonSapin>
unknown functions are always false, but future levels can add functions

[03:06:59.0000] <darobin>
heh, if your initial reply had been correct then the grammar would accept @supports not (@supports) {…} :)

[03:07:08.0000] <darobin>
that makes sense

[03:07:29.0000] <SimonSapin>
so maybe @supports at-rule(@page) or something

[03:08:29.0000] <SimonSapin>
it’s not in level 1 because we’re not sure of the syntax, but didn’t want to block the rest of the functionality

[03:11:31.0000] <darobin>
sure, that's sensible

[06:00:17.0000] <Smylers1>
“The quality of a spec has little to do with its implementation or implementability. This is a process and IPR concern unrelated to quality.” — Interesting TAG manifesto line from Glenn Adams.

[06:01:43.0000] <Smylers1>
His nominator seems to've forgotten to mention it in his statement, but Glenn helpfully puts it on the public record here: http://lists.w3.org/Archives/Public/www-archive/2012Dec/0027.html

[06:57:54.0000] <zewt>
Smylers1: wow--that's pretty unusual subject matter for The Onion

[07:07:29.0000] <zewt>
Hixie: bleh, I should take that complex captioning example, track down a raw and transcribe the same scene with roll-ups

[07:07:48.0000] <zewt>
it'll be completely illegible and i don't think anyone comparing those two could make an honest argument for roll-up captions

[07:55:23.0000] <marcosc>
zewt: Eveyone knows Ms2ger` is a patent troll

[07:55:55.0000] <Ms2ger`>
And I tried so hard to hide it by not telling Glenn who I am

[07:56:47.0000] <marcosc>
Ms2ger`, oh! Glenn will find out when you drag his sorry ass into court for countless patent infringements

[07:57:30.0000] <Ms2ger`>
marcosc, that will be hard, he doesn't implement anything AFAIK

[07:59:43.0000] <marcosc>
heh, the irony :)

[08:31:26.0000] <foobler>
What's the best manner to use @async and @defer for a dynamically injected script that I want to be downloaded as soon as possible, but then executed on domready so as to not get in the way of the rest of the page?

[08:44:26.0000] <Ms2ger`>
defer

[09:15:35.0000] <GPHemsley>
Sometimes I wonder whether our embedded lists should use different numbering for different levels...

[09:16:09.0000] <GPHemsley>
It's all Pythony in here, relying only on indentation to determine which level we're at.

[09:19:03.0000] <annevk>
odinho: happy b-day!

[09:48:36.0000] <GPHemsley>
"Well, you see, in step 14.15.2.2, you..."

[09:48:43.0000] <GPHemsley>
-_-

[09:49:42.0000] <Ms2ger`>
In step 14.XV.b.ii?

[09:51:32.0000] <dglazkov>
good morning, Whatwg!

[09:55:22.0000] <GPHemsley>
Ms2ger`: No, silly. Step 14(o)(ii)(β). Duh.

[10:11:48.0000] <GPHemsley>
SimonSapin: This is what I have so far. Thoughts? http://pastebin.mozilla.org/1979746

[10:13:01.0000] <GPHemsley>
(it's not done)

[10:13:24.0000] <GPHemsley>
annevk: Feel free to chime in, too. ^^

[10:16:08.0000] <SimonSapin>
GPHemsley: first impression without reading: if it’s that much code-like, how about using an actual programming language?

[10:16:33.0000] <SimonSapin>
at university I used to write python and tell people it’s pseudo-code

[10:16:47.0000] <Ms2ger`>
/me did that

[10:17:06.0000] <Ms2ger`>
With a professor who wrote horrible formatted C as pseudo-code instead

[10:18:51.0000] <SimonSapin>
I don’t remember a spec using executable code as the normative description of an algorithm, but I don’t know why it would bad

[10:19:05.0000] <SimonSapin>
favoritism form one programming language aside

[10:19:24.0000] <Ms2ger`>
Depending on the definition of the programming language and all its bugs

[10:19:55.0000] <SimonSapin>
might still be better than an undefined pseudo-language

[10:20:58.0000] <SimonSapin>
Are "Enter loop L" and "Begin loop M" the same as "while True"?

[10:21:46.0000] <SimonSapin>
(sorry for going meta when I suspect you want feedback on the actual algorithm…)

[10:44:12.0000] <GPHemsley>
SimonSapin: All algorithms are code-like ;)

[10:49:59.0000] <GPHemsley>
SimonSapin: Any spec that uses pseudo-code instead of prose runs the risk of being unintelligible or misunderstood. With prose (at least, if done correctly), you can be clear about what you need to be done without necessarily forcing any particular way of doing it.

[10:50:55.0000] <GPHemsley>
So yes, you can translate "enter loop" as "while true", but really that's just an artifact of the programming language.

[10:51:04.0000] <GPHemsley>
It's a hack, really, if you think about it.

[10:51:46.0000] <GPHemsley>
You're taking advantage of a tautology to force the loop to run continuously, but there's no reason why a programming language couldn't implement that behavior natively.

[10:52:07.0000] <GPHemsley>
(As in, the prose is a sort of pseudo-code already.)

[10:55:52.0000] <SimonSapin>
yeah I was not suggesting you change it, just confirming I understood correctly

[10:56:45.0000] <GPHemsley>
k

[10:57:17.0000] <GPHemsley>
SimonSapin: I just wanted to make sure I sufficiently argued against using pseudo-code as a spec. :)

[10:57:45.0000] <SimonSapin>
so you plan to make prose out of http://pastebin.mozilla.org/1979746 ?

[10:59:31.0000] <GPHemsley>
SimonSapin: Oh, no, that's what I consider prose in this context. :)

[11:01:17.0000] <GPHemsley>
BTW, those are all supposed to be numbered. For some reason, the numbering didn't copy from the browser.

[11:03:41.0000] <SimonSapin>
GPHemsley: are you writing this in HTML? Could you paste the source? (Might be easier to read.)

[11:06:52.0000] <GPHemsley>
Doubt it, but OK.

[11:07:16.0000] <SimonSapin>
GPHemsley: define whitespace, preferably by a list of code points

[11:07:39.0000] <SimonSapin>
(easier to read once rendered by a browser!)

[11:08:10.0000] <SimonSapin>
GPHemsley: … or link to http://encoding.spec.whatwg.org/#ascii-whitespace , if that’s the definition you want

[11:08:19.0000] <GPHemsley>
Yes, yes. Assume all terms are define satisfactorily. (I think annevk defines whitespace characters in encoding or something.)

[11:08:54.0000] <GPHemsley>
SimonSapin: http://pastebin.mozilla.org/1979885

[11:09:32.0000] <GPHemsley>
Once I actually have an algorithm that completes, I'll commit it and put in online like normal. Then you can read it comfortably.

[11:09:41.0000] <GPHemsley>
I'm just looking for overview feedback right now.

[11:09:58.0000] <SimonSapin>
commit with mime(sniff)?

[11:10:01.0000] <GPHemsley>
Yeah

[11:10:33.0000] <GPHemsley>
Unless/until we find someplace else to live.

[11:10:39.0000] <GPHemsley>
+for it

[11:11:19.0000] <GPHemsley>
I define "whitespace byte", but I haven't decided whether I'm parsing this as bytes or characters.

[11:11:33.0000] <SimonSapin>
sequence[s] is undefined … when s >= length?

[11:12:44.0000] <GPHemsley>
those are functionally equivalent, are they not?

[11:12:56.0000] <SimonSapin>
yeah of course

[11:12:57.0000] <GPHemsley>
(but this is still too low level of feedback :P)

[11:13:08.0000] <SimonSapin>
again, making sure I understand

[11:13:13.0000] <GPHemsley>
ah, ok

[11:13:56.0000] <GPHemsley>
/me notes that pastebin HTML syntax highlighting is rather terrible.

[11:13:57.0000] <SimonSapin>
I’m used to python were out of bounds indexing raises an error instead of returning undefined/None

[11:14:19.0000] <GPHemsley>
ah, well, I could change it

[11:14:27.0000] <GPHemsley>
but it's used elsewhere in mimesniff, too

[11:14:28.0000] <SimonSapin>
I’m reading here http://dabblet.com/gist/4227355

[11:14:45.0000] <GPHemsley>
ah, that's one way to do it

[11:18:45.0000] <SimonSapin>
re seq[i] is undefined: if that behavior is defined or mentioned somewhere, it’s fine

[11:19:05.0000] <benbro>
how can I track the progress of the PointerEvents draft?

[11:19:25.0000] <benbro>
is there a way to estimate when it will be stable and when will browsers start to implement it?

[11:19:25.0000] <Ms2ger`>
Look at xhr.spec.whatwg.org

[11:19:25.0000] <SimonSapin>
Encoding uses a theoretical "EOF code point" or "EOF byte"

[11:19:34.0000] <Ms2ger`>
Browsers have implemented it for years

[11:19:40.0000] <hober>
benbro: http://lists.w3.org/Archives/Public/public-pointer-events/

[11:19:47.0000] <Ms2ger`>
Oh

[11:19:50.0000] <Ms2ger`>
I can't read

[11:20:10.0000] <Ms2ger`>
Nothing to see here, move along

[11:20:28.0000] <benbro>
hober: thanks. seems very active

[11:20:32.0000] <GPHemsley>
SimonSapin: Yeah, I saw that, but I didn't look deep enough into it to understand its function. Is that what it does? Avoid this undefined issue?

[11:20:55.0000] <SimonSapin>
it just means you reached the end of a sequence

[11:20:55.0000] <jsbell>
yes (re: EOF byte)

[11:21:13.0000] <benbro>
hober: does implementation depends only on browser vendors or on devices too?

[11:21:35.0000] <benbro>
hober: for example FF only or android/galaxy note. who should change stuff to support it?

[11:21:37.0000] <hober>
benbro: i don't think i understand the question, and i'm not in the wg

[11:22:43.0000] <benbro>
hober: ok. I mean who need to implement the spec

[11:23:14.0000] <benbro>
if it's just FireFox the browser or also samsung who creates the galaxy note with the s-pen or maybe google which creates the android

[11:23:44.0000] <GPHemsley>
SimonSapin: Oh, I forgot, it's because the algorithm processes a byte sequence as an array, of sorts. So seq[i] is undefined when it goes out of bounds. But >= length would work, too. Not sure about EOF, though.

[11:24:47.0000] <GPHemsley>
(it doesn't use pointers or whatever)

[11:25:48.0000] <SimonSapin>
GPHemsley: I wonder if a grammar would be more suited in this particular case. One without implicit whitespace or implicit anything. Error handling is simple: doesn’t match the grammar ⇒ return undefined

[11:26:12.0000] <GPHemsley>
Yeah, I was kinda thinking that myself.

[11:26:25.0000] <GPHemsley>
I just wish I'd thought harder about before I did all this work. >_>

[11:26:59.0000] <SimonSapin>
It’s quite verbose just to say: ws* token ws* "/" ws* token ws*

[11:27:12.0000] <GPHemsley>
indeed

[11:27:40.0000] <GPHemsley>
though I think there are severability points beyond just not matching = undefined

[11:28:12.0000] <jsbell>
Although I'm not really paying attention, have no useful input, and I have no reason to care and should be worrying about other things, the comment "I haven't decided whether I'm parsing this as bytes or characters" is causing encoding-paranoia angst. Pls decide soon kthxbai :)

[11:28:21.0000] <SimonSapin>
but what exactly is a token? In your algo anything but whitespace or / for type and subtype, anything but whitespace or = for name, …

[11:29:12.0000] <GPHemsley>
SimonSapin: Yeah, see, it's more complicated than it looks. (And that's even after simplifying what the RFCs say.) And don't forget the whole parameter issue with null vs. "" vs. actual content.

[11:29:32.0000] <SimonSapin>
the MIME rfcs probably have definition but I’m sure what it is

[11:29:43.0000] <GPHemsley>
jsbell: That's why I'm leaning towards characters in this case.

[11:30:03.0000] <SimonSapin>
yeah, I don’t think parameters without values (value is null) are actually a thing

[11:30:07.0000] <GPHemsley>
SimonSapin: Oh, they do. There are plenty of different RFCs with different definitions. That's why I've oversimplified at first pass.

[11:30:32.0000] <SimonSapin>
I think the only thing looking like this is base64 in data, but that can be special-cased

[11:31:01.0000] <GPHemsley>
I'd rather there weren't any special cases. Wouldn't it be nice to allow such extensibility?

[11:31:09.0000] <SimonSapin>
I don’t know

[11:32:07.0000] <SimonSapin>
I’d rather not base new stuff on MIME, this is only for defining existing protocols

[11:32:20.0000] <GPHemsley>
Especially if this evolves into some sort of API or something.

[11:40:46.0000] <SimonSapin>
GPHemsley: in data: you can omit type/subtype (defaults to text/plain) and only specify parameters like charset. It could either be a flag passed to your algorithm

[11:40:47.0000] <SimonSapin>
or data could have something like "if header starts with optional whitespace followed by ; then prepend text/plain" beforehand

[11:46:29.0000] <SimonSapin>
bbl

[14:13:30.0000] <jsbell>
In DOM3 the IDL for DOMException and DOMError define a |message| readonly DOMString attribute. In DOM4 the guts of DOMException logic are shuffled off to WebIDL which handwaves about "Exceptions have an associated message, a DOMString, which is exposed on an exception object in a language binding-specific manner."

[14:16:26.0000] <jsbell>
I'm assuming this means I can stuff a message on DOMError and everyone will be happy.

[14:24:38.0000] <jsbell>
annevk: ping?

[14:34:58.0000] <heycam>
jsbell, there is wording down later in the spec about what it means in terms of a message property on exceptions in JS

[14:35:30.0000] <heycam>
jsbell, see the second list of steps in http://dev.w3.org/2006/webapi/WebIDL/#es-throwing-exceptions

[14:35:44.0000] <heycam>
jsbell, (it passes the message to the constructor for the error)

[14:35:51.0000] <jsbell>
heycam: yeah - in this case I'm actually worrying about DOMError which as far as I can tell WebIDL doesn't touch at all

[14:36:29.0000] <heycam>
jsbell, ah ok, right. I am not really sure where DOMError is used currently, so no opinion on that. :)

[14:36:55.0000] <jsbell>
Sorry to cast aspersions on WebIDL. :)

[14:37:16.0000] <heycam>
heh np

[14:42:57.0000] <jsbell>
heycam: while I've got you though... did anything ever come of the "treat undefined parameters as missing like ES6" discussions http://lists.w3.org/Archives/Public/public-script-coord/2012OctDec/0026.html ?

[14:43:14.0000] <jsbell>
I'm guessing that's on a TODO list somewhere.

[14:44:17.0000] <heycam>
jsbell, yeah, I need to make that change if ES6 has indeed changed its treatment of undefined passed to functions

[14:44:31.0000] <heycam>
but not done yet, you are right

[14:44:40.0000] <jsbell>
Cool, just making sure it hadn't been revisited and rejected.

[14:45:08.0000] <heycam>
it is in my folder of public-script-coord mail with ~400 unread emails ;)

[15:42:35.0000] <SimonSapin>
annevk: should decode() throw when given an invalid label but the string has a BOM? The label would be ignored anyway

[15:46:41.0000] <SimonSapin>
annevk: x-user-defined could also be implemented with an index, right?

[15:50:28.0000] <freedrull>
what can websockets do that you couldn't do with server sent events and a http connection with keep-alive?

[15:50:31.0000] <annevk>
SimonSapin: x-user-defined, can, yes

[15:50:50.0000] <annevk>
SimonSapin: yes, decode() should throw

[15:51:00.0000] <annevk>
nn

[15:51:07.0000] <Hixie>
freedrull: nothing

[15:51:34.0000] <freedrull>
:\

[15:51:35.0000] <Hixie>
then again, server sent events and a http connection with keep-alive can't do anything a carrier pigeon couldn't do :-)

[15:51:44.0000] <freedrull>
haha

[15:51:56.0000] <Hixie>
it's just way simpler with websockets

[15:52:17.0000] <freedrull>
i see


2012-12-07
[16:10:16.0000] <jsbell>
annevk: In DOM4, DOMError loses the |message| attribute that was specified in DOM3. (Unless I'm misreading which I probably am.) Was that intentional?

[16:11:00.0000] <jsbell>
I get the sense it's deferred to the individual specification to say "oh, and stick a message on it if you want to, whatever"

[16:12:14.0000] <jsbell>
SimonSapin: are you implementing the Encoding API for moz?

[16:12:19.0000] <jsbell>
if so, nifty. :)

[16:12:34.0000] <SimonSapin>
jsbell: why moz?

[16:13:25.0000] <jsbell>
I'm just guessing.

[16:13:48.0000] <SimonSapin>
I’m doing it in Python now

[16:14:05.0000] <jsbell>
Ah.

[16:14:15.0000] <SimonSapin>
maybe I’ll do in in rust later

[16:14:15.0000] <SimonSapin>
but only to learn rust, I’m not affiliated with Mozilla

[16:14:33.0000] <SimonSapin>
though I’d be happy if Servo ends up using it

[16:15:11.0000] <SimonSapin>
apparently there’s already a JS implementation

[16:15:59.0000] <jsbell>
That'd probably be mine, though it's incomplete and needs updating since it was an early P.O.C.

[16:19:39.0000] <SimonSapin>
jsbell: were you talking of implementing it in gecko to replace whatever they have now?

[16:28:33.0000] <annevk>
jsbell: yeah

[16:28:52.0000] <annevk>
jsbell: if you want message back in, file a bug

[16:49:55.0000] <SimonSapin>
annevk, jsbell: (if you read logs) here is the python implementation: https://github.com/SimonSapin/python-webencodings

[16:49:55.0000] <SimonSapin>
although it’s cheating: the actual codec implementations are from the stdlib. Still useful to have the right set of labels and BOM handling.

[16:49:55.0000] <SimonSapin>
But I don’t know if it really helps to show implementability of the spec :/

[20:37:37.0000] <zewt>
and in its now proven style, google completely destroys youtube's ui

[21:21:32.0000] <karlcow>
zewt: it looks lire more and more like a Yahoo! portal homepage, which I thought google tried to escape somehow ☺ cycles.

[22:22:17.0000] <karlcow>
rha again reading a message of Henry Story thinking it was written by Henri Sivonen and not understanding why Henri Sivonen would write such a message. Dyslexia my love. *sigh*

[00:22:57.0000] <MikeSmith>
we just had a fairly biggish quake here

[00:23:04.0000] <MikeSmith>
7.3

[00:23:09.0000] <MikeSmith>
http://quake.twiple.jp/quake/view/20121207171858

[00:55:18.0000] <asmodai>
http://www.xkcd.com/

[00:55:29.0000] <asmodai>
Today's seems relevant.

[00:55:47.0000] <asmodai>
MikeSmith: Yeah, friend of mine is trying to get in touch with her sis up in Miyagi-ken.

[00:56:14.0000] <asmodai>
MikeSmith: They were lucky last time around, their house almost right on the coast/harbour

[00:57:05.0000] <MikeSmith>
asmodai: I think the damage was not big. Only a 1-meter tsunami

[02:02:58.0000] <gsnedders>
/me realizes he has no objection to a polyglot spec going to REC where the only normative content is, "a polyglot document is one which produces an identical DOM Document structure when parsed per both HTML5 and XML 1.0 combined being processed into an infoset and coerced into a DOM Document"

[02:03:23.0000] <gsnedders>
You can then informatively define what that subset is, and then you have a testable spec.

[02:03:32.0000] <gsnedders>
That doesn't normatively contradict anything.

[02:22:08.0000] <hsivonen>
gsnedders: it will still cause a decade of 386 as people try to rationalize why polyglot is important to use, since it has to be important to use when there is a REC for it

[02:26:07.0000] <annevk>
as long as the xkcd-level of discourse is still at mismatching tags we might not have much to worry about http://xkcd.com/1144/

[02:27:39.0000] <SimonSapin>
http://www.glazman.org/weblog/dotclear/index.php?post/2012/12/07/%C3%80-la-xkcd...

[02:29:13.0000] <gsnedders>
hsivonen: Well, people don't try and rationalize why RDFa is important to use that much, despite for most things it not being very important.

[02:34:12.0000] <darobin>
RECs make people think things are important?

[02:34:25.0000] <darobin>
/me lines up a bunch of RECs for world peace and stuff

[02:34:38.0000] <darobin>
we've found the trick!

[02:34:43.0000] <darobin>
/me sings Heal The World

[02:35:26.0000] <hsivonen>
darobin: well, Notes might too, but the Process does not allow turning an item a WG has taken up into a blog post on intertwingly.net instead of either REC or Note.

[02:36:41.0000] <hsivonen>
gsnedders: you should look at Appendix C for precedent about rationalization

[02:36:43.0000] <darobin>
I don't think a REC will make people who don't already care think that polyglot is important

[02:37:03.0000] <darobin>
it's not as if it's being pitched in the way that XHTML was

[02:38:12.0000] <darobin>
when XHTML was being worked on, everyone was asking about their transition strategies

[02:38:29.0000] <darobin>
I have yet to get a single question about polyglot anywhere, conferences, meetups, consulting

[02:38:43.0000] <darobin>
I reckon it's not on the radar

[02:39:45.0000] <gsnedders>
Does IE9/10 parse MathML per HTML5?

[02:40:04.0000] <gsnedders>
I presume IE10 does. IE9?

[02:40:12.0000] <darobin>
gsnedders: if you give me a link I can point an IE10 at it

[02:41:08.0000] <gsnedders>
darobin: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2004

[02:41:16.0000] <gsnedders>
IE10 almost certainly will, IE9 is a bigger question.

[02:42:39.0000] <darobin>
gsnedders: ah, damn, someone's using the Surface we have here — it'll have to wait a little bit sorry

[02:44:16.0000] <hsivonen>
gsnedders: IE10 doc.writes the MathML namespace URL

[02:44:24.0000] <hsivonen>
/me boots Windows 7

[02:45:20.0000] <gsnedders>
Yeah, I was expecting that given they claim to support HTML5 parsing there. IE9 does SVG or SVG and MathML? Dunno.

[02:45:27.0000] <gsnedders>
Google doesn't seem to answer that.

[02:45:41.0000] <hsivonen>
gsnedders: IE9 doc.writes the XHTML namespace

[02:46:00.0000] <gsnedders>
Okay, thx.

[02:46:33.0000] <hsivonen>
s/math/svg/ makes IE9 doc.write the SVG namespace

[02:47:13.0000] <hsivonen>
(am I the only one around here with the basic set of Windows VMs?)

[02:47:29.0000] <gsnedders>
hsivonen: (I have them on my desktop, just not on my laptop)

[02:51:59.0000] <hsivonen>
Interesting how Opera.com gives a different download for Metro IE10 on Windows 8 and Desktop IE10 on Windows 8

[02:52:12.0000] <hsivonen>
at least last I tried, which was maybe a week ago or so

[02:52:29.0000] <hsivonen>
64-bit for the former, 32-bit for the latter

[02:53:36.0000] <hsivonen>
even though you can see the OS is 64-bit even when IE is running in the 32-bit mode

[02:53:44.0000] <hsivonen>
which Desktop IE10 is by default

[03:05:04.0000] <darobin>
hsivonen: I used to have the basic set of VMs but had excluded them from backup and lost them when I poured water on my previous laptop

[03:05:21.0000] <darobin>
need to set them up again, but lazy... I've been using some devices lying around in the meantime

[03:06:33.0000] <Stevef>
darobin: what do i need to do to get main ready for FPWD?

[03:06:51.0000] <darobin>
Stevef: let me look at it

[03:07:11.0000] <Stevef>
darobin: no rush

[03:07:33.0000] <darobin>
Stevef: are you using Anolis?

[03:07:43.0000] <Stevef>
no

[03:08:10.0000] <darobin>
hand-written?

[03:08:46.0000] <Stevef>
yep

[03:08:55.0000] <Stevef>
sometimes use feet

[03:09:09.0000] <Stevef>
or bash keyboard with head

[03:10:07.0000] <darobin>
hehehe

[03:10:44.0000] <darobin>
okay, well in that case what you need to do is mostly to change the stylesheet and header boilerplate

[03:10:50.0000] <hsivonen>
I wonder if I’ve ever seen “forename” used in English anywhere other than in the LibreOffice UI (written by Germans probably)

[03:10:54.0000] <darobin>
I think you'll have to number the sections and all

[03:11:15.0000] <hsivonen>
hmm. maybe in some SNCF ticketing UI

[03:11:50.0000] <hsivonen>
(where they said just “name” for surname)

[03:12:34.0000] <darobin>
hendry: it's used, if not commonly http://www.wordnik.com/words/forename

[03:13:14.0000] <hsivonen>
yeah, I checked it actually exists in dictionaries

[03:14:01.0000] <darobin>
most words actually exist in English

[03:14:14.0000] <SimonSapin>
hsivonen: "name" for surname is probably a direct translation from french

[03:14:20.0000] <darobin>
I was more interested in usage — that it shows up in tweets shows it ain't quite dead

[03:14:35.0000] <darobin>
yeah, that's definitely a French error

[03:14:57.0000] <darobin>
and forename is derived from praenomus (or whatever), so likewise frenchism

[03:15:18.0000] <hsivonen>
SimonSapin: yeah. (when using the English SNCF UI, it also helps to know that Roissy and Charles de Gaulle are the same thing)

[03:15:31.0000] <SimonSapin>
eh

[03:17:13.0000] <darobin>
hsivonen: next time you might be happier with capitainetrain.com

[03:17:18.0000] <annevk>
so we abstracted out append/remove, but not update for attributes...

[03:17:22.0000] <annevk>
that's kinda dumb

[03:17:41.0000] <annevk>
or maybe I should call that change?

[03:17:54.0000] <hsivonen>
darobin: I actually know enough French to be able to figure out the mistranslations and the implied synonym knowledge

[03:18:12.0000] <darobin>
hsivonen: yeah but the interface still sucks :)

[03:21:29.0000] <annevk>
https://bugs.webkit.org/show_bug.cgi?id=102698#c12 *sigh*

[03:22:43.0000] <hsivonen>
annevk: did you mean comment 17 rather than 12?

[03:23:07.0000] <annevk>
I linked to #12 for context

[03:23:13.0000] <hsivonen>
ok

[03:26:43.0000] <annevk>
so what does "4114360123456785" mean in HTML?

[03:27:06.0000] <annevk>
oh, it's an official sample credit card number, that's boring

[03:42:36.0000] <annevk>
Maybe attributes should have a pointer to their associated element as well... Not too important for now I suppose

[04:00:16.0000] <hsivonen>
Stevef: FWIW, I still intend to raise an FO if the HTML WG removes hgroup from the parsing algorithm or the UA stylesheet

[04:00:51.0000] <Stevef>
hsivonen: i don't think that is an intention

[04:01:23.0000] <Stevef>
hsivonen: so raise away if that is an outcome

[04:02:15.0000] <hsivonen>
Stevef: your email did not make that clear

[04:02:38.0000] <Stevef>
hsivonen: I can do so

[04:04:15.0000] <darobin>
we can't remove hgroup, I use it on my blog!

[04:06:12.0000] <MikeSmith>
darobin: hopefully you will be cured of that eventually

[04:06:27.0000] <MikeSmith>
hgroup doesn't meet the high bar man

[04:06:41.0000] <Stevef>
hsivonen: email sent let me know if not clear enough

[04:06:48.0000] <darobin>
you're expecting me to update my blog???

[04:07:03.0000] <darobin>
I don't care about high bars, I'm more of a lowlife dive kinda guy

[04:07:06.0000] <MikeSmith>
hgroup doens't even meet the low bar!

[04:07:08.0000] <MikeSmith>
heh

[04:07:12.0000] <Stevef>
MikeSmith: some bars are higher...

[04:07:17.0000] <darobin>
I meet hgroup there quite often

[04:07:24.0000] <darobin>
poor thing's turned to drinking

[04:07:58.0000] <darobin>
maybe we could ask MikeSmith to head to the bar on the Hilton in Tokyo

[04:08:02.0000] <darobin>
that's a really high bar

[04:08:11.0000] <darobin>
he could return with whatever elements he meets there

[04:08:21.0000] <darobin>
then we'd call it a day

[04:08:30.0000] <MikeSmith>
:)

[04:09:06.0000] <MikeSmith>
my irssi right now is showing me a "Lag" indicator that it never did before

[04:09:16.0000] <MikeSmith>
but now it's gone

[04:09:43.0000] <asmodai>
Good indicator of incoming netsplits.

[04:09:44.0000] <MikeSmith>
I guess the purpose id to give you a heads-up when your connection is laggy

[04:09:51.0000] <MikeSmith>
ah

[04:10:05.0000] <asmodai>
IIRC it is the RTT to your connected IRC server

[04:10:07.0000] <MikeSmith>
anyway, irssi rocks many ways

[04:10:14.0000] <MikeSmith>
asmodai: ok

[04:10:16.0000] <asmodai>
I used to use it, went with weechat this year.

[04:11:36.0000] <MikeSmith>
asmodai: dunno that one

[04:11:42.0000] <MikeSmith>
/me googles

[04:12:02.0000] <asmodai>
I find it easier to use/configure than irssi

[04:12:15.0000] <asmodai>
plus supports more binding languages if you want to write/use plugins/modules

[04:12:20.0000] <MikeSmith>
ok

[04:13:54.0000] <MikeSmith>
hmm I go to type "wee..." into my address bar to start a search and then it gives a "weedsmokersguide.com" suggestion

[04:14:07.0000] <asmodai>
lol

[04:14:08.0000] <MikeSmith>
I guess I should probably edit my history a bit

[04:15:01.0000] <hsivonen>
Stevef: thanks

[04:15:33.0000] <MikeSmith>
asmodai: among the things that are nice about irssi are its integration with screen

[04:15:41.0000] <MikeSmith>
limited but still some nice things

[04:15:59.0000] <Stevef>
hsivonen: no problem I have no intention of asking for useful stuff to be cut

[04:16:04.0000] <asmodai>
yep, weechat has auto-away when you detach screen, for example

[04:16:34.0000] <MikeSmith>
like, there's a plugin that automatically marks you as away if you detach from the screen, and then auto un-aways you when you re-attach

[04:16:52.0000] <MikeSmith>
asmodai: OK

[04:18:12.0000] <MikeSmith>
Stevef, hsivonen : I would be very happy for hgroup to be dropped as a conforming element, but also agree it should not be dropped from the parser and UA stylesheet

[04:20:06.0000] <Stevef>
MikeSmith:yup but would like, acc layer mapping to be removed as a) not implemented and b) not good.

[04:20:11.0000] <MikeSmith>
another thing about hgroup is that it's an additional authoring-error vector we can really live without given how very little benefit it actually provides

[04:20:22.0000] <MikeSmith>
Stevef: yeah, agreed

[04:20:42.0000] <MikeSmith>
it really was misguided from the get-go

[04:21:42.0000] <MikeSmith>
about the authoring-errors issue, see https://twitter.com/Larabooklover/status/276944364792590336

[04:21:53.0000] <Stevef>
Mikesmith: have noted from looking at how it is used in wild that often it includes content apart from headings or only 1 heading

[04:21:57.0000] <MikeSmith>
"oddly it doesn't like that I had a link & images in my HGROUP tag. Seems 2b a widely acknowledged issue w/ the validator. "

[04:22:06.0000] <MikeSmith>
Stevef: ok

[04:22:54.0000] <MikeSmith>
so I would really like to see it cut out before the illness spreads further

[04:23:49.0000] <hsivonen>
/me wonders where people get the idea of using hgroup for anything other than grouping h1—h6

[04:24:44.0000] <MikeSmith>
I really don't think there are 5 people in the universe who are going to be too upset that if they use a subhead without an hgroup, a document outline is going to make the following content a child of the subhead instead of the head

[04:25:02.0000] <Stevef>
data dump of hgroup code: http://html5accessibility.com/HTML5data/hgroup.html

[04:25:21.0000] <MikeSmith>
hsivonen: because the name doesn't really make it obvious

[04:25:31.0000] <MikeSmith>
and because authors do a lot of silly things

[04:26:06.0000] <MikeSmith>
and the more unnecessary sureface you give them for doing silly things, the more trouble you're asking for

[04:26:12.0000] <MikeSmith>
*surface

[04:30:07.0000] <MikeSmith>
Stevef: did you calculate how many included non-heading content and/or only 1 heading?

[04:30:51.0000] <Stevef>
MikeSmith:no but can if its useful

[04:31:27.0000] <MikeSmith>
would be useful I think

[04:31:48.0000] <Stevef>
OK

[04:32:35.0000] <Stevef>
though havng only 1 heading is not a conformance issue

[04:33:01.0000] <Stevef>
its just totally redundant

[04:34:35.0000] <annevk>
aaahahahfd

[04:34:51.0000] <annevk>
designing attribute change handling is fricking hard

[04:36:21.0000] <annevk>
HTML just says "Whenever the name attribute is set" which is pretty vague from a DOM perspective

[04:36:44.0000] <MikeSmith>
Stevef: it's an indication that the author probably misunderstands the purpose of the element

[04:36:53.0000] <annevk>
but getting all of HTML rewritten...

[04:37:53.0000] <annevk>
maybe I should do it vaguely, similarly to how it's done for tree mutations

[04:40:29.0000] <MikeSmith>
annevk: "maybe I should do it vaguely" doesn't sound like the best phrase to use in spec writing

[04:40:32.0000] <MikeSmith>
generally

[04:41:39.0000] <annevk>
the problem is that HTML doesn't address certain things when talking about attributes

[04:41:47.0000] <annevk>
e.g. the namespace and local name / name

[04:45:33.0000] <MikeSmith>
ok

[04:49:08.0000] <annevk>
I'm open to better solutions and pull requests

[04:49:15.0000] <annevk>
I guess for now I'm going for the incremental improvement

[04:56:13.0000] <MikeSmith>
"warning: hg.mozilla.org certificate with fingerprint 10:78:e8:57:2d:95:de:7c:de:90:bd:22:e1:38:17:67:c5:a7:9c:14 not verified (check hostfingerprints or web.cacerts config setting)"

[04:56:26.0000] <MikeSmith>
I don't remember getting that before

[04:57:02.0000] <MikeSmith>
Ms2ger: ↑

[04:59:20.0000] <MikeSmith>
I like the way mozilla mach shows the elapsed timestamp in its console output

[04:59:30.0000] <MikeSmith>
I wish ninja did that too

[05:18:54.0000] <annevk>
teehee

[05:19:14.0000] <annevk>
DOMTokenList is now an ordered set rather than a weird kind of string

[05:19:30.0000] <annevk>
and there was much rejoicing

[05:19:31.0000] <Stevef>
anybody know how to tell if an element is actually focusable in IE? seems that all elements have tabindex=0 set in DOM

[05:20:16.0000] <annevk>
you mean tabIndex returns 0?

[05:20:34.0000] <annevk>
in any event, what's focusable is up to the UA

[05:22:13.0000] <MikeSmith>
all right fwiw, no more bugmail will go to public-html

[05:22:19.0000] <MikeSmith>
just now flipped the switch

[05:22:49.0000] <MikeSmith>
exactly everything that was going there before will now go to public-html-admin

[05:23:24.0000] <Stevef>
annevk: yeah i suppose thats what i mean, understand that, in general only certain elments are included in default tab order

[05:23:41.0000] <Stevef>
MikeSmith: cool

[05:26:39.0000] <annevk>
Stevef: I guess that's a bug in IE for not returning -1

[05:27:29.0000] <Stevef>
annevk: ok makes it hard to write a script to identify default focusable elements in IE

[05:27:38.0000] <annevk>
yes

[05:27:46.0000] <Stevef>
which is what I am trying to do...

[05:28:07.0000] <annevk>
I hear you, but I don't really see alternatives

[05:31:14.0000] <Stevef>
thanks anyway

[05:39:24.0000] <gsnedders>
hsivonen: "Forename" is fairly common on formal forms, at least.

[05:40:05.0000] <SimonSapin>
annevk: have you seen https://github.com/SimonSapin/python-webencodings ?

[05:40:07.0000] <hsivonen>
gsnedders: ok

[05:40:36.0000] <annevk>
SimonSapin: yeah, did a RT from @WHATWG

[05:41:53.0000] <SimonSapin>
annevk: the actual codecs are from the stdlib, so I’m not sure it really helps to show that the spec is implementable

[05:41:53.0000] <gsnedders>
hsivonen: UK passport form uses "title", "forename", "surname", and "maiden / all previous names".

[05:42:20.0000] <annevk>
SimonSapin: nope, but it's still cool

[05:42:25.0000] <hsivonen>
gsnedders: is this an en-GB thing?

[05:42:53.0000] <gsnedders>
hsivonen: Dunno. It's definitely *formal* en-GB. You don't hear it generally.

[05:46:02.0000] <hsivonen>
hmm. all receipts I’m sending to my accountant in today’s batch came to me over the Internet and I printed them out.

[05:46:33.0000] <Ms2ger>
hsivonen, we're living in the future!

[05:47:58.0000] <gsnedders>
Somewhat unsurprisingly, "first name" is the oldest documented term (a1325), then "forename" (1534).

[05:48:13.0000] <gsnedders>
Interesting that "first name" is becoming more common again.

[05:49:04.0000] <MikeSmith>
Stevef: about "note supression is no longer a requirement", not sure what you mean. The spec still does require it to be omitted from the outline.

[05:49:31.0000] <MikeSmith>
("it" being any subheads in hgroup)

[05:53:23.0000] <MikeSmith>
Stevef: ah I guess you mean the acc tree, not the outline

[05:54:10.0000] <annevk>
Ms2ger: so for getting and setting of attributes by specifications... if we don't want them to directly reuse setAttributeNS/getAttributeNS, I guess we have to define some kind of shurtcut for that

[05:54:41.0000] <Stevef>
MikeSmith: what i meant was that previoulsy that subjeadings would not be included in table of contents, but now they can be

[05:55:04.0000] <MikeSmith>
ok

[05:55:16.0000] <annevk>
Ms2ger: something like: To *set an attribute* for an /element/ consisting of a /local name/, /value/, and optional /namespace/, run these steps

[05:55:19.0000] <annevk>
Ms2ger: perhaps?

[05:55:39.0000] <annevk>
Ms2ger: and redefine attributes to say they're about local name and value rather than name and value?

[05:56:03.0000] <annevk>
Ms2ger: (/namespace/ defaulting to null of course)

[05:57:52.0000] <annevk>
Ms2ger: and then the same for "get an attribute"

[06:05:58.0000] <Ms2ger>
annevk, sounds good

[06:17:15.0000] <divya>
annevk: congrats on the candidacy

[06:20:13.0000] <Ms2ger>
annevk, is there an easy way to test what a FormData object contains?

[06:31:54.0000] <annevk>
Ms2ger: have to XHR it at the moment, see URLQuery for a potential future interface upgrade

[06:44:26.0000] <foobler>
Anyone know how I can set a CSS property of an element with the !important flag programmatically?

[06:45:25.0000] <divya>
inline style.

[06:45:34.0000] <foobler>
divya: ??

[06:45:46.0000] <hasather>
foobler: or http://www.w3.org/TR/DOM-Level-2-Style/css.html#CSS-CSSStyleDeclaration-setProperty

[06:45:57.0000] <divya>
o hai hasather :)

[06:46:05.0000] <hasather>
divya: \o

[06:46:26.0000] <foobler>
haha, didn't think I'd see a w3.org link in here, but thanks.

[06:46:31.0000] <divya>
plz have more friday beers on my behalf hasather

[06:46:41.0000] <foobler>
hasather: do you know if it works with IE?

[06:47:11.0000] <hasather>
divya: today is christmas party, so will do ;)

[06:47:19.0000] <divya>
OMGGG

[06:47:21.0000] <divya>
:'(

[06:47:38.0000] <hasather>
foobler: not sure

[06:47:58.0000] <hasather>
foobler: since IE9? http://msdn.microsoft.com/en-us/library/ie/ff975226(v=vs.85).aspx

[06:48:50.0000] <foobler>
hasather: wait, so how do I use it?

[06:49:27.0000] <hasather>
foobler: ele.style.setProperty("property", "value", "important")

[06:50:02.0000] <foobler>
schweet!!!

[06:50:10.0000] <foobler>
/me <3s hasather

[07:04:17.0000] <zcorpan>
http://dev.w3.org/csswg/cssom/#widl-CSSStyleDeclaration-setProperty-void-DOMString-property-DOMString-value-DOMString-priority is more up-to-date

[07:05:25.0000] <zcorpan>
not sure if cssom has improved or regressed since annevk left it

[07:05:46.0000] <divya>
your campaigning can be restricted to twitters zcorpan

[07:05:49.0000] <divya>
THANKS

[07:05:54.0000] <divya>
/me runs

[07:05:59.0000] <annevk>
it uses legacy DOM-style now, that's kinda crappy

[07:06:34.0000] <zcorpan>
divya: NO

[07:06:42.0000] <zcorpan>
annevk: yeah

[07:06:51.0000] <darobin>
not even my fault!

[07:07:54.0000] <zcorpan>
what is used to generate it?

[07:08:03.0000] <divya>
:))

[07:08:16.0000] <darobin>
zcorpan: I think Glenn wrote his own tool

[07:08:33.0000] <zcorpan>
interesting

[07:08:38.0000] <darobin>
not sure though

[07:08:40.0000] <zcorpan>
is it public?

[07:08:46.0000] <darobin>
but it doesn't have the footprints of any tool I know

[07:09:06.0000] <darobin>
and I know that he was playing with writing a WebIDL processor that took hot comments into account

[07:09:14.0000] <annevk>
it doesn't really look much improved when given a cursory glance

[07:13:03.0000] <zcorpan>
https://dvcs.w3.org/hg/csswg/file/4d0d121f81f1/cssom/cssom-generate.js

[07:14:31.0000] <darobin>
I like this part: https://dvcs.w3.org/hg/csswg/file/4d0d121f81f1/cssom/cssom-generate.js#l282

[07:16:27.0000] <divya>
it sez the author is bert bos

[07:16:49.0000] <zcorpan>
divya: that's just hg web UI being confusing

[07:16:57.0000] <divya>
o :(

[07:19:05.0000] <darobin>
divya: bert would never stoop to writing JS

[07:19:13.0000] <darobin>
real Berts use C

[07:19:32.0000] <divya>
ahah

[07:19:51.0000] <darobin>
not that this is very far from being C mind you, it clearly is JS written by a C developer

[07:21:48.0000] <divya>
btw foobler darobin is one of the editors of HTML spec. so this forum has plenty of W3C members including me.

[07:26:26.0000] <darobin>
yeah, it's all one big loving family

[07:26:34.0000] <divya>
:)))))))))))))))))))))))))))

[07:27:00.0000] <zcorpan>
wow that's a big smile

[07:27:10.0000] <darobin>
♥♥♥

[07:27:15.0000] <divya>
like Dallas the TV show!

[07:27:40.0000] <divya>
/me hopes she has gotten this pop culture reference right

[07:27:51.0000] <darobin>
/me has the song stuck in his head now

[07:29:49.0000] <Hixie>
zcorpan: quirk for http://quirks.spec.whatwg.org/ that it doesn't seem you have yet -- <font face=wingdings> vs font-family:wingdings

[07:30:05.0000] <hsivonen>
Hixie: did you see my referece to DOMFrameContentLoaded code?

[07:30:07.0000] <zcorpan>
Hixie: file a bug

[07:30:38.0000] <zcorpan>
Hixie: (you can select some text to get a link in the bottom left corner)

[07:30:59.0000] <Hixie>
zcorpan: https://www.w3.org/Bugs/Public/show_bug.cgi?id=20293, apologies for complete lack of details

[07:31:07.0000] <Hixie>
hsivonen: recently?

[07:31:17.0000] <zcorpan>
Hixie: thanks

[07:32:04.0000] <hsivonen>
Hixie: slightly over 24 hours ago

[07:32:14.0000] <Hixie>
hsivonen: no, sorry. barely been online in the past few days.

[07:32:34.0000] <hsivonen>
Hixie: http://krijnhoetmer.nl/irc-logs/whatwg/20121206#l-387

[07:32:40.0000] <Hixie>
reading...

[07:34:58.0000] <Hixie>
is there an origin check i'm missing in that code?

[07:35:21.0000] <hsivonen>
Hixie: dunno.

[07:36:16.0000] <zcorpan>
on a related note, CSSOM is no longer under CC0

[07:37:53.0000] <hsivonen>
because Glenn edits it?

[07:39:01.0000] <zcorpan>
the copyright notice at some point changed from CC0 to W3C doc license

[07:41:05.0000] <hsivonen>
:-(

[07:42:43.0000] <zcorpan>
https://dvcs.w3.org/hg/csswg/diff/4f093aa74a83/cssom/cssom-source seems to be a normative change

[07:43:38.0000] <zcorpan>
https://dvcs.w3.org/hg/csswg/diff/6ebf32d04cb7/cssom/cssom-source is the copyright change

[07:46:56.0000] <zcorpan>
https://dvcs.w3.org/hg/csswg/diff/cee171486069/cssom/cssom-source specifies "serialize a CSS declaration block"

[07:49:09.0000] <annevk>
specifying things in terms of developer-exposed method calls is wrong

[07:49:29.0000] <annevk>
DOM has a little bit of that, trying to get rid of it

[07:50:13.0000] <zcorpan>
https://dvcs.w3.org/hg/csswg/diff/f6b40801289d/cssom/cssom-source serializes !important

[07:51:46.0000] <zcorpan>
https://dvcs.w3.org/hg/csswg/diff/aac637834c2e/cssom/cssom-source removes the algorithm to "insert a CSS rule"

[07:54:48.0000] <zcorpan>
not sure what https://dvcs.w3.org/hg/csswg/diff/7c881a97c919/cssom/cssom-source does

[07:57:26.0000] <zcorpan>
https://dvcs.w3.org/hg/csswg/diff/0a759792a7bc/cssom/cssom-source changes behavior for U+0000

[07:59:44.0000] <zcorpan>
https://dvcs.w3.org/hg/csswg/diff/e9f4e4a43967/cssom/cssom-source specs some more serialization

[08:01:41.0000] <zcorpan>
that seems to be about it. haven't checked the impact of the switch to his new spec generator.

[08:11:17.0000] <annevk>
suspicious changes

[08:11:48.0000] <annevk>
but also seems like easy to start from my CC0 copy and improve that

[08:15:44.0000] <foobler>
divya: oh yeah? interesting..

[08:31:16.0000] <Stevef>
278 HTML5 pages that use <header> and <footer> elements (amongst others) styled to reveal them http://www.html5accessibility.com/HTML5data/header-footer/index-all.html

[08:33:05.0000] <JonathanNeal>
neato

[08:35:42.0000] <Stevef>
MikeSmith: are there bugzilla products yet for HTML 5.1?

[08:41:51.0000] <MikeSmith>
Stevef: not yet

[08:42:06.0000] <Stevef>
ok

[08:43:12.0000] <dglazkov>
good morning, Whatwg!

[08:44:01.0000] <JonathanNeal>
goodmorning dglazkov

[09:02:01.0000] <annevk>
http://infrequently.org/2012/12/reforming-the-w3c-tag/#comment-240289

[09:02:15.0000] <annevk>
"so that the W3C doesn’t try to design MultiMaps in the guise of URLs" uhuh

[09:32:54.0000] <hober>
annevk: oh, the W3C is doing that? :)

[10:16:02.0000] <manu-db>
This should get WHATWG quote of the year: "This matters because in today’s web when you go ever so slightly off the path paved by a spec’s use-cases, the drop-off is impossibly steep, and the only way to keep from risking life-threatening abstraction level transitions is to flood the entire canyon with JavaScript and hope you can still swim in the resulting inland sea of complexity."

[10:17:31.0000] <TabAtkins>
manu-db: Preach it!  (Or get slightlylate to continue to preach it.)

[10:18:57.0000] <TabAtkins>
darobin: There aren't plans yet, but we purposely made the grammar loose so that we can accomodate it in the future without breaking in down-level browsers.

[10:36:28.0000] <TabAtkins>
annevk: I'm probably going to do a re-run of CSSOM from your last version, since it's *not* advancing the way we were promised.

[10:40:01.0000] <annevk>
can't say I'm surprised really

[10:40:48.0000] <annevk>
I hope you got the bandwidth given all the other items you're working on :)

[10:57:36.0000] <TabAtkins>
I don't, right now.  I'm hoping to free some up early next year. :/

[11:05:13.0000] <SimonSapin1>
Anyone for a XPath puzzle? The CSS selector |section:nth-of-type(2) can be expressed in XPath as //section[count(preceding-sibling:section)=1] … what about *:nth-of-type(2)  ?

[11:06:04.0000] <TabAtkins>
SimonSapin: Don't think you can, actually.

[11:06:36.0000] <TabAtkins>
Lesson is: CSS and XPath are identical in idea, but execution is often different.

[11:06:48.0000] <SimonSapin>
I know

[11:07:00.0000] <dglazkov>
XPath puzzle! What will they think of next? Guillotine trinkets?

[11:07:02.0000] <TabAtkins>
Or was it a puzzle because you know the answer?

[11:07:27.0000] <SimonSapin>
I maintain cssselect which does such translation. Simple cases are easy, but it gets crazy when you go into details

[11:07:42.0000] <SimonSapin>
I don’t know the answer

[11:10:32.0000] <SimonSapin>
So cssselect and Nokogiri are doomed. Maybe only Liam can save them.

[11:10:50.0000] <dglazkov>
Liam Neeson is pretty good at saving

[11:12:33.0000] <SimonSapin>
Liam Quin assured me this kind of thing is possible with XPath, but I don’t remember the details

[11:12:58.0000] <SimonSapin>
I didn’t doubt him, he was wearing a wizard hat

[11:37:37.0000] <JonathanNeal>
dglazkov: http://asylumeclectica.com/grim/wp-content/uploads/2011/05/shot_1304520437749.jpg

[11:42:32.0000] <jwalden>
...I am not going to check logs to see what that follows from

[12:16:06.0000] <TabAtkins>
Holy jeezus, real life underwater xenomorph: http://mlkshk.com/p/M1EP

[12:24:10.0000] <annevk>
Ms2ger: document.domain is a little outside what I'm working on

[12:24:30.0000] <Ms2ger>
Boo ;)

[12:46:41.0000] <annevk>
Ms2ger: hmm looking at its algorithm I might have to get involved at some point :/

[12:47:15.0000] <Ms2ger>
I was afraid so

[13:29:38.0000] <dglazkov>
I am sorry, I feel like I stepped out of a discussion and missed something. What's HTML5.1?

[13:30:53.0000] <dglazkov>
and .. do I want to know?

[13:34:28.0000] <TabAtkins>
dglazkov: It's the W3C snapshot of HTML.

[13:34:57.0000] <jgraham>
dglazkov: It's like WHATWG HTML but with more sex and intrigue

[13:35:03.0000] <jgraham>
Except without the sex

[13:35:12.0000] <jgraham>
(possibly)

[13:40:10.0000] <hober>
there's not much intrigue either

[13:40:52.0000] <jamesr>
/me notes that hober doesn't deny that there is more sex

[13:41:28.0000] <hober>
n.b. "either"

[13:45:57.0000] <jgraham>
Bah, well I won't bother to try and make your life sound exciting again

[13:47:47.0000] <hober>
hahahaha

[13:55:35.0000] <dglazkov>
got it. 50 shades of HTML

[14:04:37.0000] <jgraham>
dglazkov: I doubt you will see middle aged ladies (or indeed men) furtively reading the HTML5.1 spec on the tube

[14:06:05.0000] <Hixie>
man, heycam, every time you add new features to webidl, a few months later i get a rash of bugs asking me to update the spec accordingly

[14:13:46.0000] <dglazkov>
TabAtkins: for CSSHostRule, it looks like I need to add the constant here: http://wiki.csswg.org/spec/cssom-constants

[14:14:04.0000] <TabAtkins>
Yes.

[14:14:26.0000] <dglazkov>
should I make it 17 or 1001?

[14:14:57.0000] <TabAtkins>
1001 until we officially adopt @host into a spec (which will be soon).

[14:15:19.0000] <dglazkov>
/me sings arabian nights

[14:16:17.0000] <dglazkov>
I can't change it :-\

[14:16:42.0000] <SimonSapin>
TabAtkins: what’s @host ?

[14:18:17.0000] <dglazkov>
SimonSapin: http://dvcs.w3.org/hg/webcomponents/raw-file/tip/spec/shadow/index.html#host-at-rule

[14:19:44.0000] <TabAtkins>
SimonSapin: In terms of http://dev.w3.org/csswg/selectors4/#scoping it transforms the scope-contained selectors in <style scoped> into scope-filtered.

[14:19:54.0000] <astearns>
dglazkov: reload the wiki page, check to see if I added the right thing

[14:20:18.0000] <SimonSapin>
I see, thanks

[14:20:39.0000] <dglazkov>
astearns: not yet

[14:20:40.0000] <dglazkov>
:)

[14:21:08.0000] <astearns>
"1001	HOST_RULE 	proposed for Shadow DOM" ??

[14:21:30.0000] <dglazkov>
oooh

[14:21:37.0000] <dglazkov>
I thought you just changed permissions

[14:21:38.0000] <dglazkov>
:)

[14:21:44.0000] <dglazkov>
alrighty!

[14:21:46.0000] <dglazkov>
thanks

[14:21:51.0000] <astearns>
I don't have that power :)

[14:22:03.0000] <dglazkov>
astearns: disappoint :P

[14:22:25.0000] <astearns>
I think you have to ask fantasai and/or plinss

[14:22:43.0000] <dglazkov>
eh. my work here is done.

[14:22:54.0000] <dglazkov>
by you!

[14:24:00.0000] <dglazkov>
astearns: thanks again

[14:30:37.0000] <Hixie>
hober: yt?

[14:34:26.0000] <Hixie>
anyone know why hober filed some duplicate bugs pre-marked as blocking the dupe bugs?

[14:34:30.0000] <Hixie>
i don't understand what's going on here

[14:36:19.0000] <jgraham>
intrigue!

[14:39:38.0000] <dglazkov>
and sex!

[14:51:49.0000] <karlcow>
that woke me up

[14:53:40.0000] <dglazkov>
:D

[14:59:02.0000] <gavinc>
annevk: is anyone else stupid enough to be trying using the URL spec with shims today?

[14:59:33.0000] <gavinc>
annevk: specifically the newly spec'd URLQuery?

[15:00:58.0000] <annevk>
gavinc: is it stupid? I haven't heard of anyone doing anything with it other than the email to the list

[15:04:24.0000] <Hixie>
marcosc: yt?

[15:04:45.0000] <karlcow>
In http://html.spec.whatwg.org/multipage/dom.html#dom-document-lastmodified

[15:04:54.0000] <karlcow>
is there an issue in not knowing the time zone?

[15:05:12.0000] <Hixie>
that API has all kinds of issues

[15:05:14.0000] <karlcow>
ah no

[15:05:50.0000] <karlcow>
user local tz… I read it in my mind as server tz

[15:06:06.0000] <karlcow>
for the rest yes I agree. It's messy

[15:06:18.0000] <karlcow>
https://bugs.webkit.org/show_bug.cgi?id=4363

[15:06:32.0000] <karlcow>
I wish it was not an american format for the date too.

[15:06:52.0000] <Hixie>
if we were not in insane land, it would be a Date object or some such

[15:08:58.0000] <karlcow>
it was before for webkit and opera, firefox and IE had the format of the spec.

[15:09:12.0000] <karlcow>
I should run the tests again to see what's done now

[15:10:02.0000] <gavinc>
annevk: mmm, the shim thing from orion is the only thing your aware of then?

[15:10:41.0000] <annevk>
think so, only wrote the spec a few days ago

[15:11:20.0000] <gavinc>
annevk: another engineer here just sat down to write query string parsing in Javascript and was hoping that we could just implement the spec, but don't seem to have the underlying URL object as a shim to start from :\

[15:12:42.0000] <annevk>
yeah, that's why I'm trying to fix it (and others before me)

[15:13:44.0000] <gavinc>
/me nods

[15:14:08.0000] <TabAtkins>
Hixie: It feels like you rejected both of my ruby bugs after only skimming them. :/  Your comments either show that you didn't understand the problem, or that you're hyperbolizing and making demonstrably false objections.

[15:14:30.0000] <TabAtkins>
(Both of these assertions are backed up in my reopening responses.)

[15:14:39.0000] <Hixie>
TabAtkins: please feel free to reopen them explaining why i'm wrong, but i assure you that i did not just skim them.

[15:15:02.0000] <TabAtkins>
I did, for both.

[15:15:34.0000] <karlcow>
Indeed Opera fixed it according to the spec

[15:48:31.0000] <Hixie>
TabAtkins: thanks


2012-12-08
[16:17:33.0000] <Hixie>
so i know the spec is wrong about this too, but opera is _way_ wrong: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2006

[16:19:24.0000] <Hixie>
anyone with IE about able to give me the log from http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2007 ?

[16:22:44.0000] <Hixie>
(if you do, please update bug 20285 with the results)

[16:25:37.0000] <zewt>
posts titled "off-topic discussion policy" make me want to just unsubscribe and be done with the BS

[16:25:43.0000] <zewt>
no list needs an "off-topic discussion policy"

[16:26:43.0000] <Hixie>
the whatwg list has one

[16:26:49.0000] <zewt>
i'm not going to read it but i assume it's basically written to say "if we're plagiarising, don't tell people about it"

[16:27:28.0000] <Hixie>
the web-apps wg's policy just says to not discuss the process document and the like

[16:27:52.0000] <Hixie>
it doesn't exclude the recent threads as far as i can tell

[16:27:52.0000] <zewt>
(i never read any rules or policies on any discussion group; either they reflect regular, reasonable behavior that i'm going to do anyway, or they're unreasonable and I'm not going to follow them)

[16:28:29.0000] <Hixie>
hober: i marked your dupes as dupes, please feel free to reopen them if there's something i'm missing

[17:28:32.0000] <marcosc>
Hixie, thanks for the feedback on the bugs

[17:28:48.0000] <marcosc>
I'll provide more details wherever I can

[17:39:08.0000] <kbrosnan>
Hixie: http://pastebin.mozilla.org/1981890 IE 10

[19:23:59.0000] <Hixie>
kbrosnan: awesome, thaks

[21:59:36.0000] <jordanbtucker>
hi guys

[22:00:39.0000] <jordanbtucker>
is there a way to view one of the html spec pages at a specific revision?

[22:36:42.0000] <MikeSmith>
jordanbtucker: not unless you check out the source from svn and view it locally

[22:37:18.0000] <MikeSmith>
well there's a github mirror but that uses different revision numbers

[22:37:48.0000] <MikeSmith>
also with that all you do online is view the raw HTML as plain text

[22:38:09.0000] <jordanbtucker>
MikeSmith: does the svn include the multipage version?

[22:44:26.0000] <MikeSmith>
jordanbtucker: no it does not

[22:45:22.0000] <jordanbtucker>
thanks for the info

[02:09:43.0000] <annevk>
I'm having a hard time reading the Shadow DOM algorithms :/

[03:02:22.0000] <MikeSmith>
annevk: why so?

[03:04:14.0000] <Velmont>
annevk: Ohh, didn't see that one. Thanks <4

[04:15:08.0000] <Guest5800>
hi

[09:08:32.0000] <Hixie>
man this is all kinds of wrong. data:text/html,<!DOCTYPE html><b><i><a><s><tt><div></b>first</div></tt></s></a>second</i>

[09:08:53.0000] <Hixie>
anyone happened to have the AAA paged in already who knows how to fix this?

[10:54:42.0000] <asmodai>
Hixie: people who write that stuff ought to have their internet access revoked

[11:00:05.0000] <Hixie>
asmodai: that was just a test case

[11:22:00.0000] <zewt>
gah

[11:22:13.0000] <zewt>
does anyone know the magic words to make chrome *really* stop with the broken address bar autocomplete

[11:22:42.0000] <zewt>
i have the "help complete searches" thing turned off, yet it still screws with what i type nonstop

[11:43:59.0000] <asmodai>
Hixie: Ah ok

[11:46:00.0000] <smaug____>
zewt: the magic words are: Switch to Firefox.  ;)

[11:50:36.0000] <zewt>
i do, but it's about 10x slower at searching from the address bar :|

[11:50:53.0000] <zewt>
i can choose the browser that inserts words I didn't type, or the one that takes several seconds to search

[14:19:12.0000] <annevk>
MikeSmith: formatting and just hard to follow what's going on


2012-12-09
[07:05:16.0000] <manu1>
hober: Feedback to your "Microdata should remain on the REC track" arguments here - http://www.w3.org/html/wg/wiki/User:Eoconnor/Microdata_should_remain_on_the_REC_track (some information added that you probably were not aware of)

[07:05:47.0000] <manu1>
hober: If you plan to wipe my comments from the wiki, please let me know so I can move them elsewhere.


2012-12-10
[18:09:17.0000] <nattokirai>
Hixie: sent you some comments on canvas text styles

[18:09:27.0000] <nattokirai>
Hixie: related to the FontLoader object

[18:21:32.0000] <Hixie>
nattokirai: thanks

[19:07:52.0000] <hendry>
is there a good place to report cross-browser SVG wierdness to ? http://neon.webconverger.com/logo/ confuses me so much that I don't think I could write an intelligible bug report

[19:08:55.0000] <heycam>
hendry, in Firefox at least, SVG documents in an <img> are not allowed to reference any external resources

[19:09:23.0000] <heycam>
that would be at least why in the <img> in the second set of tests you have there doesn't work

[19:10:47.0000] <hendry>
heycam: that explains it I think. Stangely the top three SVG instances just "started working" with the Web font. Yesterday they were not working. Maybe it's a problem with my site.

[19:11:16.0000] <heycam>
hendry, I don't know why the top ones should work -- they don't import the font in the .svg file?

[19:11:34.0000] <heycam>
(unless you installed the font locally?)

[19:11:36.0000] <hendry>
heycam: that's correct

[19:11:57.0000] <heycam>
I like the font btw :)

[19:11:59.0000] <hendry>
the top three work for me right now, I think because of the Google Web font import

[19:12:15.0000] <hendry>
(i think)

[19:12:31.0000] <hendry>
in 23.0.1271.95 Chrome

[19:12:40.0000] <heycam>
the @font-face in the top level document shouldn't leak into the child <object>

[19:13:26.0000] <heycam>
for me none of the top three work in CHrome

[19:13:35.0000] <heycam>
(25.0.1354.0)

[19:14:53.0000] <hendry>
http://neon.webconverger.com/logo/object.html is working for me in 23.0.1271.95 Chrome

[19:15:08.0000] <hendry>
but strangely it didn't work yesterday, but this morning it does. So I am so confused right now

[19:15:24.0000] <heycam>
not for me

[19:15:30.0000] <heycam>
you didn't install the font locally did you? :)

[19:15:48.0000] <hendry>
heycam: OH THAT'S IT

[19:16:17.0000] <hendry>
it's here /usr/share/fonts/TTF/BadScript-Regular.ttf

[19:16:29.0000] <hendry>
thanks heycam!

[19:16:34.0000] <heycam>
heh

[19:16:36.0000] <heycam>
np

[19:17:53.0000] <hendry>
i think i have noticed tools like Inkscape and Illustrator not using '@font-face { font-family: Bad Script; src: url(BadScript-Regular.ttf) format("truetype"); }'

[19:18:18.0000] <hendry>
so hence SVGs using fonts are often "made into objects" for portability IIUC ?

[19:18:22.0000] <hendry>
which sucks a lot

[19:18:49.0000] <hendry>
wondering if my observation is valid

[19:21:09.0000] <heycam>
do you mean they convert text to paths?

[19:21:21.0000] <hendry>
heycam: yes, that's the right terminology :)

[19:21:28.0000] <heycam>
yeah, that does suck

[19:21:50.0000] <heycam>
one thing I want to add to the SVG spec is a way of associating some text with arbitrary graphics

[19:22:02.0000] <heycam>
to say that the graphics is the visual representation of that text

[19:22:13.0000] <heycam>
which could be handy for one-off fancy text that doesn't require a whole font

[19:23:10.0000] <heycam>
<text>Hello <tgraphics href="#some-g-element">fancy</tgraphics></text> or something

[19:23:36.0000] <hendry>
not sure what you mean. could you make an anology with HTML? image replacement? are the graphics rasterised...

[19:24:13.0000] <hendry>
anyway I'm a SVG newbie

[19:24:42.0000] <hendry>
heycam: i've found https://github.com/svg/svgo a good tool of late. not sure if you've seen it

[19:25:09.0000] <hendry>
i'm trying to "un-path" this huge SVG at http://smrt.dabase.com/ in some sane way :/

[19:31:05.0000] <heycam>
hendry, just meant that if you have some fancy graphics you want to be treated as text (like if Inkscape has converted the text to paths, to avoid needing a font), you could do that

[19:34:14.0000] <hendry>
heycam: so you have a "backup layer" to convert back to text if one for whatever reason converted text to path ? IIUC?

[19:35:12.0000] <heycam>
hendry, yes, so that search engines can see it, and you can still select and copy/paste it

[19:37:45.0000] <hendry>
heycam: that would be sensible.

[19:38:42.0000] <hendry>
I'm surprised that Inkscape/Adobe don't try deal with this problem. AFAICT some SVGs are HUGE thanks to 'converted text to Paths'

[19:41:15.0000] <hendry>
https://github.com/svg/svgo/issues/71 - hoping a tool can fix the problem ;)

[19:42:01.0000] <heycam>
for space saving, they might be able to convert individual glyphs to paths, then <use> them in multiple places

[19:42:47.0000] <hendry>
not sure what you mean by glyphs, the PNG bits in the SVG?

[19:42:58.0000] <hendry>
oh wait

[19:43:00.0000] <hendry>
i got it

[19:43:09.0000] <hendry>
that's a good comment

[19:43:33.0000] <hendry>
heycam: added https://github.com/svg/svgo/issues/71#issuecomment-11180931

[19:44:42.0000] <hendry>
heycam: even though i'm using font tag in the SVGs here http://neon.webconverger.com/logo/, I can't select the text, which is a bit sad.

[19:45:12.0000] <hendry>
heycam: sorry, now I can. On non-img embeds

[20:32:41.0000] <Hixie>
MikeSmith_: any idea what component i'm supposed to use to file bugs on the htmlwg html5 spec that should be fixed before it gets to CR?

[20:33:49.0000] <MikeSmith_>
Hixie: https://www.w3.org/Bugs/Public/enter_bug.cgi?product=HTML%20WG

[20:33:52.0000] <MikeSmith_>
I think

[20:34:01.0000] <Hixie>
which component though?

[20:34:18.0000] <MikeSmith_>
oops, sorry

[20:34:43.0000] <MikeSmith_>
just "HTML spec"

[20:37:59.0000] <Hixie>
k

[20:38:07.0000] <Hixie>
what's the CR component for? it has a bunch of bugs

[20:38:34.0000] <Hixie>
(btw, the idea of a component per milestone kinda misses the point of the "target milestone" and "version" fields in bugzilla...)

[20:40:26.0000] <Hixie>
ok https://www.w3.org/Bugs/Public/show_bug.cgi?id=20319

[20:40:34.0000] <Hixie>
hopefully the htmlwg will work out what the fix should be so i don't have to

[20:44:19.0000] <MikeSmith>
Hixie: dunno why we have a CR component already, nor why people have already filed bugs in it

[20:44:26.0000] <MikeSmith>
I am equally confused

[20:45:00.0000] <MikeSmith>
I don't ask questions -- I just push the buttons when requested

[20:45:08.0000] <MikeSmith>
garbage in, garbage out

[20:46:20.0000] <MikeSmith>
Hixie: wow that's quite a bug

[20:46:36.0000] <MikeSmith>
you found that yourself? Or somebody else reported it?

[20:46:40.0000] <Hixie>
lord no

[20:46:44.0000] <Hixie>
someone reported it on the whatwg list

[20:47:03.0000] <Hixie>
see most recent e-mail to the whatwg list (from me)

[20:49:27.0000] <MikeSmith>
Hixie: ah yeah that's from the guy who wrote automation to generate test cases

[20:49:47.0000] <Hixie>
nice

[20:49:48.0000] <MikeSmith>
so far he wrote it for only 24 elements I think

[21:01:35.0000] <MikeSmith>
Hixie: http://www.score.is.tsukuba.ac.jp/~minamide/papers/minamide-FM2012.pdf

[21:01:50.0000] <MikeSmith>
"Reachability Analysis of the HTML5 Parser

[21:01:50.0000] <MikeSmith>
Specication and its Application to

[21:01:53.0000] <MikeSmith>
Compatibility Testing"

[21:03:33.0000] <MikeSmith_>
"We have developed a reachability analyzer for the HTML5 parser speci - cation based on the translation to a conditional pushdown system and on the reachability analysis on it. A nontrivial subset of the tree-construction stage con- sisting of 24 elements and 9 modes is formalized in our speci cation language."

[21:04:25.0000] <Hixie>
never thought people would be writing academic papers about my work

[21:04:28.0000] <Hixie>
that's just weird

[21:05:44.0000] <MikeSmith_>
heh

[21:05:59.0000] <MikeSmith_>
it's pretty cool, what they did

[21:06:15.0000] <MikeSmith_>
has a very practical application in spite of being academic

[21:06:33.0000] <Hixie>
most academic work does :-)

[21:07:14.0000] <MikeSmith_>
well, this one is closer to home

[21:13:25.0000] <Hixie>
man half this paper is completely outside my understanding

[21:13:28.0000] <Hixie>
that doesn't bode well

[21:17:58.0000] <Hixie>
well, i don't understand half of the paper, but i do understand the conclusion

[21:18:00.0000] <Hixie>
and it is positive

[21:18:01.0000] <Hixie>
sweet

[21:22:17.0000] <Hixie>
on a completely different note, anyone know of a font off-hand that has many weights?

[21:23:40.0000] <Hixie>
aha, Avenir.

[21:24:40.0000] <Hixie>
also, wtf Opera

[21:25:04.0000] <zewt>
http://i.imgur.com/LSNyf.png google is almost at the point where i'm seriously thinking of seeing if bing is actually less stupid

[21:25:34.0000] <Hixie>
why is opera ignoring my font-family

[21:25:35.0000] <zewt>
i do not need a search engine that intentionally makes typos for me

[21:29:20.0000] <neXTleap>
Why do site makers not understand that having anything that changes/flashes/moves around makes it 100% impossible for people to read the articles/content? At least this is the case for me. My eyes cannot focus on reading when there is anything that is animated on the same page.

[21:30:09.0000] <zewt>
so how many channels are you pasting that into, exactly

[21:31:15.0000] <MikeSmith_>
Hixie: Adam seemed to be suggesting that parsing bug doesn't necessarily need to be fixed http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Nov/0019.html

[21:31:26.0000] <Hixie>
yeah i saw

[21:31:28.0000] <Hixie>
i disagree

[21:31:34.0000] <Hixie>
having the text change order is nuts

[21:32:03.0000] <MikeSmith_>
yeah I would think so

[21:33:21.0000] <MikeSmith_>
so I see in his follow-up message, Minamide-san said he thinks it could be fixed without running into the limit problem that Adam described http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Nov/0020.html

[23:01:59.0000] <hsivonen>
Hixie: fonts with many weights: Source Sans, Open Sans, Lato

[23:09:51.0000] <hsivonen>
Firefox 3.6 off the list, IE10 on the list: http://gs.statcounter.com/#browser_version_partially_combined-ww-daily-20121209-20121209-bar

[23:57:57.0000] <nattokirai>
Hixie: what's the "Looks like Firefox does bolder (though seems buggy about it, at least

[23:57:57.0000] <nattokirai>
in my tests" about?

[23:58:07.0000] <nattokirai>
Hixie: do you have a testcase?

[00:02:46.0000] <hsivonen>
I see way more magic than I like to see in nsUTF8ConverterService. annevk, you may be interested in finding out when this stuff gets called.

[00:03:49.0000] <hsivonen>
quoting: “It may not be asked for if a caller suspects that the input is in non-ASCII 7bit charset (ISO-2022-xx, HZ)”

[00:05:38.0000] <hsivonen>
good times. code that is so old it has comments about Tru64 Unix’s C++ compiler

[01:25:03.0000] <annevk>
anyone here willing to review a few paragraphs?

[01:27:51.0000] <hsivonen>
depends on the paragraphs, I guess

[01:28:36.0000] <Ms3ger>
Looks like nsUTF8ConverterService is used for <script type> \o/

[01:28:55.0000] <hsivonen>
Ms3ger: why?

[01:29:35.0000] <Ms3ger>
Because it's used in our Content-Type parsing code

[01:30:10.0000] <annevk>
hsivonen: draft post for the TAG thingie

[01:30:29.0000] <hsivonen>
annevk: ok

[01:30:31.0000] <annevk>
pointer to nsUTF8ConverterService? sounds interesting

[01:31:41.0000] <darobin>
annevk: sure, I'll review that

[01:34:03.0000] <Engin>
about the relatively new access control specifications. is preflight sequence to be made each time a cross domain request to be made to the cross domain target site ?

[01:34:40.0000] <Ms3ger>
annevk: http://mxr.mozilla.org/mozilla-central/source/intl/uconv/src/nsUTF8ConverterService.cpp

[01:34:41.0000] <Engin>
i.e. should I expect an OPTIONS request to be sent to the target web site for each resource request ? because that's what chrome was doing, and that's basically just doubling my requests ?

[01:34:53.0000] <Engin>
if that's the case, I can just resort to JSONP and handle cross domain communcications the old way

[01:44:08.0000] <annevk>
a) that's be insecure, b) simple stuff like fetching JSON should not require a preflight

[01:45:24.0000] <hsivonen>
annevk: does GET with default headers ever require a preflight?

[01:46:45.0000] <annevk>
if there's event listeners registered on xhr.upload, but I forgot why we did that

[01:49:52.0000] <darobin>
that's the sort of side effect that causes pain

[01:50:01.0000] <darobin>
it would be good to know why it's that way

[01:51:46.0000] <darobin>
JSONP might be insecure but it works; if I found out that I was now making twice the number of request without really knowing why, just like Engin I'd revert to it

[01:52:18.0000] <annevk>
yeah, I remember sof also not thinking it was necessary and then I went back to check and ...

[01:52:18.0000] <annevk>
so I guess I should go back and check again

[01:58:58.0000] <matjas>
lolque https://www.w3.org/Bugs/Public/show_bug.cgi?id=20306

[01:59:34.0000] <hsivonen>
annevk: oh, one more thing: why lower case “web”?

[01:59:43.0000] <darobin>
annevk: looking ath XHR, I find it rather painful to figure out what the upload events flag does

[02:00:10.0000] <darobin>
I mean I can reverse engineer it, but the dfn is not a definition, and its usage in the spec is far from illuminating

[02:00:23.0000] <annevk>
hsivonen: it's a common word

[02:00:31.0000] <darobin>
/me never knows whether to lowercase web or not

[02:00:46.0000] <hsivonen>
there’s just one “the Web”

[02:01:04.0000] <annevk>
I always opt for lowercasing when there's confusion, and without hyphen whenever possible

[02:01:34.0000] <hsivonen>
annevk: “the Internet” or “the internet”?

[02:01:49.0000] <annevk>
hsivonen: I'd lowercase that too

[02:01:58.0000] <hsivonen>
/me disapproves

[02:02:03.0000] <annevk>
but your point about their being only one is interesting

[02:02:14.0000] <annevk>
had not considered that

[02:02:17.0000] <darobin>
should that not be "HSivonen disapproves"?

[02:02:41.0000] <SimonSapin>
maybe :)

[02:03:18.0000] <hsivonen>
darobin: no, the canonical case of my userid is the lower case

[02:03:58.0000] <darobin>
hsivonen: so if I use "HSivonen" then I'm just referring to a Henri Sivonen, not the Henri Sivonen?

[02:04:57.0000] <hsivonen>
darobin: I think the more interesting question is if the first letter of userids should be capitalized at the start of a sentence in email.

[02:05:33.0000] <annevk>
that'd be weird

[02:05:54.0000] <darobin>
hsivonen: I've been handling that one by rephrasing to avoid to issue

[02:06:08.0000] <MikeSmith>
"The web is everything from simple documents (cat pictures) to complex applications (cat picture meme generators)." that guy gets my vote

[02:06:32.0000] <hsivonen>
MikeSmith: do you get to cast the vote for Keio?

[02:06:39.0000] <hsivonen>
do the hosts gets to vote?

[02:06:47.0000] <hsivonen>
get

[02:06:48.0000] <darobin>
yes, it's always puzzled me that while the internet is made of cats this is never handled by webarch

[02:06:50.0000] <darobin>
yes

[02:07:04.0000] <darobin>
each host has a vote, they're members

[02:07:26.0000] <darobin>
I don't think that MikeSmith is the one making the call on the Keio vote though :)

[02:07:36.0000] <hsivonen>
:-(

[02:08:29.0000] <hsivonen>
looks like today, I’ll be just doing reviews

[02:08:30.0000] <darobin>
I don't know though, maybe he knows exactly who to buy a beer to

[02:08:34.0000] <hsivonen>
of all kinds

[02:08:43.0000] <hsivonen>
code, blog post, specs

[02:08:55.0000] <darobin>
sounds like fun

[02:10:32.0000] <MikeSmith>
hsivonen:  nope I don't getta vote

[02:11:19.0000] <hsivonen>
MikeSmith: :-(

[02:11:38.0000] <hsivonen>
I hadn’t realized SVG-as-img was banned from loading external TTF

[02:15:54.0000] <darobin>
MikeSmith: maybe you can buy Hagino-san a beer?

[02:16:10.0000] <darobin>
I'm happy to pool some kitty money

[02:16:32.0000] <darobin>
mmm, I don't know the ERCIM guy who's replacing Vincent

[02:18:18.0000] <annevk>
darobin: the force preflight flag is there because otherwise the existence of the server would be exposed

[02:19:00.0000] <annevk>
darobin: and I think Gecko did not have enough control over the network layer to make that work more nicely

[02:19:12.0000] <darobin>
mmmm, I guess that would make sense

[02:19:27.0000] <hsivonen>
annevk: would be nice to have a note in the spec with the rationale

[02:19:40.0000] <annevk>
agreed, I'll file a bug

[02:19:58.0000] <annevk>
to make sure I give it another thorough examination

[02:20:15.0000] <darobin>
in general it would be nice to have a checklist of things that trigger a preflight

[02:21:29.0000] <annevk>
there's such a checklist in CORS

[02:21:40.0000] <hsivonen>
Is Mac OS X 10.7.x unable to update to Safari 6?

[02:21:42.0000] <annevk>
I expect this stuff to become better when we rewrite CORS into Fetch

[02:22:13.0000] <hsivonen>
or is 5.1 the last Safari available for 10.6.x?

[02:22:14.0000] <annevk>
Fetch will handle all URL -> resource mapping and that will make the flow so much easier to understand

[02:22:45.0000] <hsivonen>
Safari has pretty severe version fragmentation: more than 50% of usage on non-latest

[02:23:24.0000] <hsivonen>
Did Windows users of Safari get any kind of EOL notice?

[02:23:53.0000] <hsivonen>
are the users left with an unupdating browser without knowing it?

[02:24:21.0000] <annevk>
Windows Safari EOL'd?

[02:24:50.0000] <hsivonen>
annevk: is it not?

[02:26:00.0000] <annevk>
They'll have to update Windows iTunes I imagine. Not sure what the strategy behind Windows Safari was.

[02:26:46.0000] <darobin>
/me looks for a developer-friendly checklist in CORS, fails

[02:27:22.0000] <hsivonen>
http://www.apple.com/safari/ no longer offers a Windows download when loaded on Windows

[02:27:30.0000] <hsivonen>
annevk: Windows iTunes got the 11 update

[02:27:51.0000] <hsivonen>
Windows iTunes is 64-bit even

[02:28:19.0000] <annevk>
So I guess they got tired of updating the Safari WebKit-shell for Windows or maybe the usage share was just too low...

[02:29:31.0000] <darobin>
I've been told that iTunes actually doesn't use a WebView

[02:30:40.0000] <hsivonen>
darobin: so private WebKit embedding API then?

[02:31:10.0000] <darobin>
hsivonen: dunno, more clearly I was told that iTunes doesn't use HTML for its UI as much as people think

[02:31:25.0000] <darobin>
but it's hard to figure out, all you ever get out of Apple employees are tantalising hints

[02:32:16.0000] <hsivonen>
iTunes LP requires WebKit for sure, though

[02:32:20.0000] <darobin>
either way, the conclusion from that discussion was that there wasn't really a need to maintain Apple's WebKit for usage in Windows iTunes as people thought

[02:32:35.0000] <darobin>
yeah, that's what I thought too, but I got a weird non-committal reply there

[02:32:52.0000] <darobin>
anyway, it quickly becomes kremlinology if you try to figure things out there

[02:33:02.0000] <hsivonen>
if Apple is non-committal to iTunes LP, can they, please, zap prefixed stuff?

[02:34:27.0000] <SimonSapin>
annevk: is there an URL parser in JS?

[02:35:46.0000] <SimonSapin>
I’d like to fix https://github.com/LeaVerou/prefixfree/blob/1efce102f2b64e93aa061e6149b489bb769200a5/prefixfree.js#L43

[02:36:17.0000] <SimonSapin>
https://github.com/LeaVerou/prefixfree/issues/62

[02:38:48.0000] <MikeSmith>
SimonSapin: http://medialize.github.com/URI.js/

[02:38:50.0000] <MikeSmith>
Rodney Rehm

[02:43:56.0000] <annevk>
SimonSapin: http://github.com/annevk/url the impl I started the spec on, but it needs updating

[02:44:07.0000] <annevk>
s/started/based/

[02:44:21.0000] <annevk>
(the spec evolved a bit)

[02:44:51.0000] <annevk>
darobin: you must have been talking to different people then

[02:45:19.0000] <darobin>
annevk: as usual with Apple, I'm getting different input depending on who is being talked to

[02:45:39.0000] <darobin>
in any case, that was what I heard about EOLing WinSaf

[02:45:57.0000] <annevk>
maybe they try secrecy by obscurity now they can no longer keep a secret

[02:53:19.0000] <darobin>
heh

[03:09:53.0000] <Engin>
iirc, access control specs is basically saying you need explicit permission from the host if you intend to READ the response.

[03:10:11.0000] <Engin>
it's been like 2 years since I've read it though

[03:52:27.0000] <zcorpan>
/me finds out about https://lists.w3.org/Archives/Team/team-html-a11y/

[03:52:54.0000] <SimonSapin>
<link>.href is always absolute, even if .getAttribute('href') is not, right?

[03:54:18.0000] <zcorpan>
SimonSapin: not if the url fails to resolve

[03:54:28.0000] <zcorpan>
SimonSapin: then it returns the attribute value literally, iirc

[03:55:02.0000] <SimonSapin>
what does "fail to resolve" mean? A parse error?

[03:56:20.0000] <zcorpan>
i guess when http://url.spec.whatwg.org/ returns "failure"

[03:56:47.0000] <zcorpan>
specific case i know of is "http://foo bar/"

[03:57:06.0000] <zcorpan>
or //foo bar/

[04:13:43.0000] <Stevef>
zcorpan: hey thats secret

[04:14:25.0000] <zcorpan>
Stevef: i figured

[04:14:58.0000] <zcorpan>
now i just wonder how many more secret lists html wg has

[04:15:13.0000] <Stevef>
its one of those archives I can't access

[04:16:12.0000] <Stevef>
zcorpan: it can only be accessed by insiders

[04:16:54.0000] <zcorpan>
right

[04:17:18.0000] <Stevef>
zcorpan: but I can confirm its where all the real decisions are made

[04:17:31.0000] <zcorpan>
are you on that list?

[04:18:03.0000] <Stevef>
yes: its for admin/co-ord for a11y chairs

[04:18:21.0000] <Stevef>
but can't access archive

[04:18:59.0000] <darobin>
Stevef: that's a bug

[04:19:12.0000] <darobin>
lemme ask how to fix it

[04:19:29.0000] <Stevef>
darobin: maybe am not concerned

[04:19:50.0000] <darobin>
concerned?

[04:20:03.0000] <Stevef>
about getting access to archive

[04:20:45.0000] <Stevef>
i already get multiple copies of each email jammimg up inbox as it is

[04:21:07.0000] <darobin>
sure, but it would come in handy if you need it one day

[04:21:15.0000] <darobin>
to refer to one of those all important decisions you make there

[04:21:42.0000] <darobin>
I know that it's technically possible to grant you access to team archives

[04:23:04.0000] <Stevef>
yeah probably, as I tend to delete a lot of the mails (ones that are not set to auto destruct after reading)

[04:28:59.0000] <Stevef>
really, its the off list back channel emails that can be read by no one except the those its sent to where the real real decisions are made, the secret lists are only to fool people into thinking they are involved in secret decsions, so I have been told...

[04:31:05.0000] <darobin>
hehe

[04:34:03.0000] <Stevef>
the actual are decisions made via telepathy, vulcan mind melds etc. I would also like to know how many people involved in standards are scientologists

[05:14:26.0000] <Stevef>
MikeSmith: screenshot of acc inspect info on <main> element in chromium build waiting for you to download in skype

[05:15:50.0000] <MikeSmith>
Stevef: ah thanks

[05:17:27.0000] <Stevef>
note its a bit tricky to get at have to hover mouse right over element border (and have Voicoever running) as chrome only switches acc stuff on when it detects an AT

[05:18:21.0000] <Stevef>
i think you have to have voiceover running before opening chrome

[05:34:47.0000] <MikeSmith>
Stevef: I set tabindex=0 on it to make it focusable and then just hover over it when it's focused

[05:36:22.0000] <Stevef>
MikeSmith: yeah that works, its a shame the Mac inspection tools don't 'watch focus' like the windows tools, it makes it easy to inspect elements then

[05:37:07.0000] <MikeSmith>
Stevef: I still don't see how to get Accessibility Inspector to show me the right thing in Safari

[05:37:13.0000] <MikeSmith>
I got it working in Chromium

[05:37:39.0000] <MikeSmith>
but in Safari it never seems to actually find the element I'm trying to check

[05:37:51.0000] <Stevef>
maybe need to fire up voiceover didn't think it was needed

[05:40:30.0000] <Stevef>
also this tool is useful on mac: http://pfiddlesoft.com/uibrowser/ but is trial version

[05:40:47.0000] <Stevef>
allows you to step through acc tree

[05:40:52.0000] <MikeSmith>
Stevef: yeah I got voiceover on but when I hover over the focused element in Safari it doesn't show the right information, as far as I can see.

[05:40:55.0000] <MikeSmith>
Stevef: ok

[05:40:57.0000] <MikeSmith>
thanks

[05:48:28.0000] <Stevef>
mikesmith: works for me with this test file: https://dl.dropbox.com/u/377471/tests/structural.html

[05:48:44.0000] <Stevef>
MikeSmith: no voiceover

[05:49:01.0000] <MikeSmith>
ok

[05:49:08.0000] <MikeSmith>
clearly I'm doing something wrong

[05:49:41.0000] <Stevef>
safari 6.0

[05:50:53.0000] <MikeSmith>
ah

[05:51:12.0000] <MikeSmith>
I'm trying with 5.1.7

[05:52:04.0000] <MikeSmith>
I can't run Safari 6.0 in my 10.6 environment, nor WebKit nightlies

[05:54:29.0000] <Stevef>
yeah support for new elements has been fairly recent

[05:54:38.0000] <Stevef>
accessibility support that is

[05:55:19.0000] <MikeSmith>
ah ok

[07:26:26.0000] <Engin>
wow, preflight is really executed each time you access a differen URL

[07:26:42.0000] <Engin>
it might be same resource... even if the query string is chagned, another preflight is being done

[07:27:13.0000] <odinho>
Yep, not very surprising. CORS is per-resource.

[07:28:49.0000] <Engin>
maybe I need to refresh my definition of resource

[07:29:10.0000] <Engin>
I thought foo.com/bar?5 and foo.com/bar?6 are the same resources

[07:29:14.0000] <Engin>
with different query strings

[07:30:15.0000] <odinho>
Might have been true some time. It makes more sense. But everyone started doing  index.php?file=my/file/here.inc  instead.

[07:30:41.0000] <Engin>
it is not the commity's responsibility to remedy incompetent designers flaws :)

[07:31:05.0000] <Engin>
I think this renders CORS inefficient

[07:31:30.0000] <Engin>
for instance, in this application, i need to make requests as fast as possible.

[07:31:46.0000] <Engin>
for any aplpication which does not scale... it is no problem.

[07:36:57.0000] <Engin>
I think a unified API can be made

[07:37:03.0000] <Engin>
JSONP and RESTful.

[07:37:40.0000] <Engin>
Yet, my applications are not really a good example of "resources", mine is pretty much an API like a real one instead of CRUD operations.

[07:37:53.0000] <gsnedders>
Engin: I resource is everything except the fragment identifier.

[07:37:54.0000] <gsnedders>
*A

[07:38:12.0000] <Engin>
ok

[07:38:28.0000] <Engin>
where is it specified exactly

[07:38:40.0000] <Engin>
I'm being lazy here sorry :)

[07:38:43.0000] <gsnedders>
And then, what, control cross-domain access on a per-origin basis instead of a per-resource one?

[07:39:45.0000] <Engin>
resources could override the origin rules

[07:39:47.0000] <Engin>
if you ask me

[07:40:10.0000] <Engin>
but in flash, there's a policty file which is pretty much like cors thing in HTTP

[07:40:23.0000] <Engin>
it works like that, when you get permission, you go full

[07:41:19.0000] <odinho>
And it had/has LOADS of security issues. Many because of sysadmins working on different parts of the web site didn't know that flash basically got a free-pass to the entire site.

[07:41:33.0000] <odinho>
But, reboot for me.

[07:41:42.0000] <Engin>
refresh me if I'm being stupid... it's been a while since I studied this things deeply

[07:45:47.0000] <Engin>
there's always the Origin http header in the HTTP requests... so the target site can apply per resource restrictions

[07:46:07.0000] <Engin>
1) Target site allowed its resources to be read

[07:46:14.0000] <Engin>
2) you read everything without preflight

[07:46:34.0000] <Engin>
3) if there's an exceptional resource... target site can deny access anyway, since the origin is known for each request... i.e. give a 403 maybe.

[07:55:24.0000] <darobin>
Engin: bar?5 and bar?6 are clearly different resources as per HTTP, URI specs, etc.

[07:55:31.0000] <darobin>
I think it's way too late to revisit that

[07:55:48.0000] <darobin>
you could use POST

[07:56:15.0000] <darobin>
I think that POSTing repetitively to the same resource should let it live in the CORS cache

[07:56:24.0000] <darobin>
so you'd only get a preflight on the first request

[07:56:30.0000] <darobin>
(in a good implementation)

[07:57:22.0000] <zcorpan>
finding in the spec if the value attribute is required or optional for a certain <input type> appears to be not trivial

[08:04:36.0000] <darobin>
jgraham_: ping

[08:09:00.0000] <hsivonen>
Hixie: why is UTF-32 only “should not” and “discouraged” as opposed to MUST NOT use and MUST NOT implement?

[08:11:45.0000] <Hixie>
hsivonen: because the reason not to implement UTF-32 is weak, compared to the reason not to implement, say, UTF-7

[08:12:01.0000] <Hixie>
but i expect soon this to become moot with Encodings taking oven that job

[08:12:03.0000] <Hixie>
over

[08:12:32.0000] <hsivonen>
Hixie: it has this risk, no? http://hsivonen.iki.fi/test/moz/never-show-user-supplied-content-as-utf-16.htm

[08:12:40.0000] <hsivonen>
that UTF-16 also has, sure

[08:12:54.0000] <hsivonen>
and less reason to be supported than UTF-16

[08:16:45.0000] <hsivonen>
hmm. In Opera, a character encoding override seems to persist for the origin

[08:17:15.0000] <hsivonen>
which is not good if the origin happens to serve UTF-16 in addition to whatever caused the user to use the override

[08:18:03.0000] <Hixie>
interpreting one encoding as another (especially one that isn't compatible in the us-ascii range) is always going to have that problem

[08:19:23.0000] <jarek>
Hi

[08:19:35.0000] <gsnedders>
hsivonen: Yeah, it just sets a "site preference"

[08:20:18.0000] <jarek>
should something like $element.getAttributeNS('xlink:href') work when XML serialization is used?

[08:20:32.0000] <jarek>
I mean $element.getAttribute('xlink:href')

[08:20:53.0000] <jarek>
it seems to be working on Chrome, but I haven't seen it documented anywhere

[08:21:26.0000] <gsnedders>
jarek: DOM4 documents that, element.QName + ":" + element.localName

[08:21:33.0000] <hsivonen>
Hixie: all encodings except UTF-16 that are in the Encoding Standard are ASCII-compatible

[08:21:51.0000] <gsnedders>
Oh, no, DOM4 seems to contradict that.

[08:22:17.0000] <hsivonen>
Hixie: so non-Unicode legacy encodings aren’t as bad as legacy Unicode encodings

[08:22:32.0000] <hsivonen>
legacy Unicode encodings being UTF-* other than UTF-8

[08:23:00.0000] <Hixie>
hsivonen: ASCII-compatible as defined by the spec is not the same as what i mean here

[08:23:11.0000] <gsnedders>
jarek: Per spec only getAttribute("href") should work, semingly. Dunno why that changed.

[08:23:27.0000] <Hixie>
hsivonen: you could easily do this with ISO-2022-jp, for instance

[08:23:32.0000] <Hixie>
well, "easily" may be pushing it

[08:23:35.0000] <hsivonen>
Hixie: anyway, UTF-32 has no real non-exploit use cases

[08:23:43.0000] <Hixie>
hsivonen: hence "should not"

[08:23:54.0000] <Hixie>
hsivonen: if you have no good reason to implement it, then it's a "must not"

[08:25:03.0000] <hsivonen>
Hixie: yeah, sure, but if you say “discouraged” rather than MUST NOT, the i18n folks repeat “discouraged” rather than “MUST NOT”

[08:25:41.0000] <Hixie>
hsivonen: as i said, this is moot if we replace it with a reference to Encoding

[08:25:48.0000] <hsivonen>
I don’t ever recall seeing real Web content encoded as UTF-32, BTW

[08:25:51.0000] <hsivonen>
HOWEVER

[08:26:00.0000] <Engin>
darobin: I'm already talking about POSTs

[08:26:04.0000] <hsivonen>
I have seen real content that declared UCS-4

[08:26:14.0000] <hsivonen>
and it didn’t work for me

[08:26:28.0000] <hsivonen>
that content was Mark Pilgrim’s blog feed

[08:27:01.0000] <hsivonen>
(he didn’t appreciate when I complained about it, IIRC)

[08:27:26.0000] <hsivonen>
labeling this behavior according to Mark’s taxonomy of developers in left as an exercise

[08:29:02.0000] <Hixie>
as soon as i get around to updating the spec to use Encoding instead of doing all this itself, this entire issue disappears forever

[08:29:17.0000] <Hixie>
you are preaching to the choir

[08:30:19.0000] <hsivonen>
I’m just unhappy because I was about to email to www-international saying that HTML5 prohibits UTF-32 but then found it doesn’t totally

[08:30:32.0000] <jarek>
should inline SVG be parsed using HTML5 parsing rules or XML parsing rules?

[08:30:41.0000] <gsnedders>
jarek: HTML5 defines it.

[08:30:50.0000] <Hixie>
hsivonen: well just send an update saying you meant the Encoding spec

[08:30:52.0000] <shepazu>
what gsnedders said

[08:30:55.0000] <gsnedders>
jarek: There are specific states for foreign content.

[08:32:07.0000] <jarek>
gsnedders: was this proposal approved by W3C? http://dev.w3.org/SVG/proposals/svg-html/svg-html-proposal.html

[08:32:26.0000] <shepazu>
jarek: no

[08:32:53.0000] <jarek>
so custom namespaces in inline SVG files are officially not supported?

[08:34:05.0000] <gsnedders>
Correct. xlink and xml:lang are special-cased.

[08:34:22.0000] <jarek>
e.g. is it technically allowed to get/set/modify attributes such as inkscape:window-width?

[08:34:29.0000] <gsnedders>
No.

[08:34:32.0000] <gsnedders>
That's a parse-error.

[08:34:49.0000] <gsnedders>
Nothing stops you from mutating the DOM to add/remove/set them.

[08:34:55.0000] <gsnedders>
They just cannot exist in the HTML serialization.

[08:39:07.0000] <jarek>
but attributes in inlined SVG drawings should remain case-sensitive, right?

[08:39:24.0000] <Ms2ger>
No

[08:39:35.0000] <jarek>
omg, what a mess :/

[08:39:36.0000] <Ms2ger>
Not the names, at least

[08:39:44.0000] <Ms2ger>
Yeah, welcome to the web

[08:39:46.0000] <Ms2ger>
We do messes

[08:40:39.0000] <hsivonen>
jarek: the names in the DOM and in XML are case-sensitive

[08:40:49.0000] <hsivonen>
jarek: the text/html serialization is case-insensitive

[08:41:00.0000] <hsivonen>
jarek: the HTML parser outputs the canonical case

[08:46:27.0000] <hsivonen>
http://lists.w3.org/Archives/Public/www-international/2012OctDec/0122.html FWIW

[08:48:36.0000] <jarek>
are there any official guildlines on how SVG document should me sanitised by publishers?

[08:48:54.0000] <jarek>
I was recently watching http://www.youtube.com/watch?v=v-a77QdoK2I

[08:49:35.0000] <jarek>
which is really scary, for a regular image format there are way to many ways for injecting evil scripts into it

[08:50:07.0000] <jarek>
it would be great if we could have something like 'sandbox' attribute on iframes, but for SVG

[08:50:16.0000] <hsivonen>
jarek: SVG in <img> is harmless

[08:50:47.0000] <hsivonen>
jarek: inline SVG or SVG in <iframe>, <embed> or <object> is as dangerous as random HTML or Flash

[08:50:56.0000] <jarek>
hsivonen: what if I wanted to have access to the DOM from parent document?

[08:51:11.0000] <hsivonen>
jarek: can’t have the cake and eat it, too

[08:51:23.0000] <hsivonen>
jarek: then you need a dangerous inclusion mechanism

[08:51:40.0000] <jarek>
hsivonen: it's possible to disable all scripts inside iframes, but keep DOM access

[08:52:15.0000] <hsivonen>
jarek: theoretically, I’m not sure (but look up sandbox), in practice, no

[08:53:00.0000] <hsivonen>
jarek: as for sanitizer guidelines, you can look at http://mxr.mozilla.org/mozilla-central/source/content/base/src/nsTreeSanitizer.cpp for inspiration

[08:55:19.0000] <darobin>
jarek: I make no claims as to trustworthiness, but it was ported over from a widely deployed sanitiser (Rails'): https://github.com/darobin/html-sanitiser

[08:55:26.0000] <darobin>
you could adapt that to include SVG

[08:57:38.0000] <hsivonen>
Does the platform provide any way to plant a document that does not have a browsing context into a browsing context?

[08:57:50.0000] <hsivonen>
I think the answer is “no”, but I could be wrong.

[09:02:23.0000] <dglazkov>
good morning, Whatwg!

[09:02:38.0000] <Hixie>
man, 140 characters is too short.

[09:02:54.0000] <Hixie>
worst communication medium ever

[09:11:13.0000] <Ms2ger>
Ever?

[09:32:02.0000] <Hixie>
Ms2ger: yes.

[09:45:04.0000] <dglazkov>
I would think the stone tablets were slightly more tedious, but maybe it's just me.

[09:55:38.0000] <marcosc_>
dglazkov: I wonder if stone-age kids were able to engrave them super fast.

[09:55:56.0000] <marcosc_>
dglazkov: and what was stone-age "lol"?

[10:01:52.0000] <mpt>
Smoke signals probably had lower latency than stone tablets, but also lower bandwidth.

[10:24:43.0000] <jgraham_>
Well to be pedantic, the worst communication mechanism is presumably one that we don't use because it is so bad

[10:24:50.0000] <jgraham_>
Although

[10:24:53.0000] <Ms2ger>
NO

[10:24:54.0000] <Ms2ger>
TWITTER

[10:24:55.0000] <jgraham_>
I don't use twitter

[10:25:04.0000] <jgraham_>
So make of that what you will

[10:27:37.0000] <Hixie>
dglazkov: stone tablets have more capacity and you can retrieve tablets you made centuries ago with virtually no dataloss. Twitter can't even return your tweets from a few months ago.

[10:28:22.0000] <Hixie>
jgraham: ah bit is a communication medium nobody uses really a communication medium at all? :-)

[10:31:05.0000] <jgraham>
Hixie: I suppose that the sound of trees falling in forests would be a particularly poor communication medium, yes

[10:31:56.0000] <jgraham>
darobin: btw I would pong about now if you were here so, uh, ping?

[10:47:34.0000] <Hixie>
<input type='text' maxlength='20' class='negra' name='user' formenctype='application/x-www-form-urlencoded'>

[10:47:38.0000] <Hixie>
why

[10:47:41.0000] <Hixie>
why would you do that

[10:47:47.0000] <Hixie>
what sequence of events led to that

[10:48:47.0000] <Hixie>
also i like how the first mention of the substring "dialog" in http://bakhshianhaj.ir/post/47 is an end tag

[10:50:55.0000] <Hixie>
wow http://frontdesk.co.in/ actually uses formenctype correctly (though pointlessly, should have put it on the <form> for back compat)

[11:15:35.0000] <Hixie>
hsivonen: wait, what is this version prefixing for webrtc? what?

[11:16:04.0000] <Ms2ger>
hsivonen, can I tell people to start writing specs already? :)

[11:24:58.0000] <Hixie>
anyone know what <panel> is? http://devbug.me/iphone/cydia/switchermodmini/index.html

[11:25:13.0000] <Ms2ger>
I can tell you something about <layer>?

[11:34:05.0000] <Hixie>
i don't have numbers to share, but interestingly <dialog> in its old definition was used by quite a few sites

[11:34:14.0000] <Hixie>
looks like it's dropping fast though

[11:34:43.0000] <Hixie>
so that tells us that there's demand for conversation markup, and that authors are adapting both to introduction and removal of features pretty fast

[11:34:50.0000] <Hixie>
(for some definition of fast)

[12:08:07.0000] <hsivonen>
Hixie: version suffixing

[12:08:18.0000] <Hixie>
on the api names?!

[12:08:40.0000] <hsivonen>
Hixie: apparently

[12:09:05.0000] <hsivonen>
Ms2ger: specs about what?

[12:09:26.0000] <Ms2ger>
All the new stuff we implement

[12:09:40.0000] <Hixie>
hsivonen: so uh

[12:10:07.0000] <Hixie>
hsivonen: is this something the wg is doing or something?

[12:10:17.0000] <Hixie>
hsivonen: how are we not stopping such insanity

[12:11:36.0000] <hsivonen>
Hixie: I don't know if the idea came from the WG or from Chrome

[12:13:08.0000] <hsivonen>
Hixie: I just don't want WebRTC to sink the policy proposal of getting rid of vendor prefixing

[12:14:06.0000] <Huvet>
Has there already been discussions about including one-click payments in browsers? A cross-browser way to do this would mean a LOT to the web.

[12:15:32.0000] <Huvet>
... it's one of the big reasons publishers are moving away from the web towards closed platforms

[12:18:57.0000] <Ms2ger>
Hixie, maybe start with the CSSWG :)

[12:20:33.0000] <Hixie>
hsivonen: oh sure, i'm not saying they should be coupled

[12:20:33.0000] <smaug____>
Huvet: I know nothing about the subject, but perhaps you're looking for something like https://wiki.mozilla.org/WebAPI/WebPayment

[12:20:51.0000] <Hixie>
i'm just concerned with the idea of versioning an API, we've managed to avoid that level of crazy so far

[12:20:55.0000] <Hixie>
it'd be a shame if we fell into it

[12:21:03.0000] <Huvet>
smaug____: thanks, I'll check it out!

[12:34:47.0000] <Huvet>
smaug____: That's exactly what I was looking for. I smell #win for the web. Given that we get cross-browser support for WebPayment in a not too distant future.

[12:34:47.0000] <Huvet>
yay!

[15:29:55.0000] <Hixie>
whatever happened to variable

[15:30:07.0000] <Hixie>
i was just looking at the Rationale wiki page and he'd done a bunch of good work there

[15:34:47.0000] <TabAtkins>
t

[15:35:40.0000] <Hixie>
hey tab did you see the feedback on dialog anchoring loops recently?

[15:39:30.0000] <TabAtkins>
Hixie: Meeting with the dude who raised it in 20 minutes.

[15:45:30.0000] <Hixie>
TabAtkins: ah, cool. let me know if you come up with a good solution. :-)

[15:49:54.0000] <TabAtkins>
/me is solving yet another Hg problem by deleting and re-creating the repo.

[15:53:22.0000] <Hixie>
if anyone cares about <Dialog> positioning, see https://bugs.webkit.org/show_bug.cgi?id=95946

[15:53:32.0000] <Hixie>
(feedback not requested, this is just fyi)

[15:56:38.0000] <TabAtkins>
Oh man, this is going to require cycle-detection.

[15:57:12.0000] <TabAtkins>
Since this is just a particular instantiation of my advanced abspos proposal, which required cycle detection/breaking.

[15:58:44.0000] <Hixie>
yeah, i was hoping you wouldn't conclude that

[15:58:49.0000] <Hixie>
that was basically my conclusion too

[15:59:04.0000] <Hixie>
i think we can break it by just not doing anchor-on-anchor or something

[15:59:11.0000] <Hixie>
so just not support any chains at all

[15:59:15.0000] <Hixie>
that obviously blocks loops too

[15:59:28.0000] <Hixie>
that seemed less than ideal, but better than loop detection


2012-12-11
[16:00:49.0000] <isherman>
Hixie: What are your thoughts on adding cc-type to the autocomplete type hint spec?

[16:00:51.0000] <isherman>
We definitely want to support autofilling this data in Chrome, and at the same time we'd really prefer to remain consistent with the hint types listed in the spec…

[16:01:49.0000] <Hixie>
i think i have pending feedback for it

[16:02:10.0000] <Hixie>
i expect i'll add it, but it seems the most magical in terms of what browsers are to do with the values

[16:02:18.0000] <Hixie>
and so the least likely to work reliably

[16:02:42.0000] <Hixie>
we should imho provide some commentary in the spec regarding what reasonable values might be

[16:02:50.0000] <Hixie>
and how a browser might want to convert from one set to another

[16:03:07.0000] <Hixie>
also would this be the first time we have something that could be autocompleted that's a radio button?

[16:03:30.0000] <Hixie>
should it complete each button in the group separately, or is the group somehow magically supposed to be treated as one?

[16:03:34.0000] <Hixie>
isherman: ^

[16:04:30.0000] <isherman>
I think it's the first time that we could (reasonably) be filling a radio button, yes

[16:04:42.0000] <isherman>
I'm not following your question about the group

[16:05:25.0000] <isherman>
I don't think this is more magical than filling any other <select> dropdown though — especially country and state names, which might be localized

[16:05:35.0000] <Hixie>
say you have <input type=radio name=a autocomplete="section-foo cc-card" value=visa> <input type=radio name=a autocomplete="section-bar cc-card" value=mastercard>, and in section "foo" the user selected a visa and in section "bar" he selected a mastercard

[16:05:50.0000] <Hixie>
which radio button do you select?

[16:06:38.0000] <Hixie>
each radio button can give its own autocomplete attribute, unlike with <select>

[16:07:02.0000] <isherman>
Hmm, interesting

[16:07:12.0000] <isherman>
I'm having a hard time understanding why a website would ever use markup like that, though...

[16:07:17.0000] <Hixie>
hahaha

[16:07:20.0000] <Hixie>
see the /topic

[16:07:26.0000] <Hixie>
and welcome to the web

[16:07:27.0000] <isherman>
heh

[16:07:44.0000] <isherman>
So the way that radio buttons are grouped is by name?

[16:07:48.0000] <Hixie>
yeah

[16:07:58.0000] <isherman>
(I'm not actually very familiar with radio buttons...)

[16:08:02.0000] <isherman>
That's… interesting

[16:08:04.0000] <Hixie>
i'm not saying it'll be common, but we should at least give guidance, if not strict normative requirements on how this should be handled

[16:08:10.0000] <Hixie>
radio buttons are very "interesting", yeah

[16:08:25.0000] <Hixie>
fwiw what we did with required="" IIRC is that each one is handled separately, but each one looks at the group.

[16:08:51.0000] <Hixie>
so if one radio button is required and another is not, and neither is checked, the one that's required will be :invalid and the other won't. But if one is checked, then both will be fine.

[16:09:03.0000] <Hixie>
regardless of which is checked

[16:09:11.0000] <Hixie>
but that doesn't help us hugely here

[16:09:30.0000] <Hixie>
with the default checked="" what happens is you check each one that is checked="" as you insert it, IIRC

[16:09:34.0000] <Hixie>
so the last one inserted wins

[16:09:35.0000] <isherman>
I'm tempted to say that if there are mismatches between autocomplete attributes on buttons in the same group, we would just want to treat that as bad input (i.e. we'd have unspecified behavior)

[16:09:51.0000] <Hixie>
we specify behaviour for bad input

[16:10:03.0000] <Hixie>
that's kind of our thing :-)

[16:10:25.0000] <Hixie>
but we can certainly say that if all the radio buttons in a group don't have exactly matching autocompletes, you ignore the whole lot

[16:10:31.0000] <Hixie>
(of radio buttons)

[16:10:39.0000] <isherman>
yeah, that seems reasonable :)

[16:10:43.0000] <Hixie>
or that you treat each one on a case by case basis, deciding check/no-check

[16:10:48.0000] <Hixie>
and last one wins

[16:10:51.0000] <Hixie>
last one checked wins, that is

[16:11:12.0000] <Hixie>
i can come up with something arbitrary, if you don't have a strong opinion on this

[16:11:21.0000] <Hixie>
the other thing is what values should we tell UAs to expect here?

[16:11:29.0000] <isherman>
I don't think that case-by-case is likely to be helpful here — it makes it more likely that a site author would test their page and think things are working, because they happened to test with the one case that worked

[16:11:51.0000] <Hixie>
yeah that makes sense

[16:12:00.0000] <Hixie>
re values -- "visa" "mastercard" "discover" etc ? "v", "m", "d" etc? 4, 5, 3 etc? What do people do?

[16:12:31.0000] <isherman>
I think people mostly use something like fully spelled out values

[16:12:58.0000] <isherman>
But we don't really provide guidance on what values <select>s have, and I think there are similar problems there

[16:13:22.0000] <isherman>
Ideally you'd have a <label> for the <input>, and that label would be a human-readable name, like "Visa"

[16:13:44.0000] <Hixie>
presumably the UA isn't looking at the label, though, right?

[16:13:48.0000] <Hixie>
or is it?

[16:13:54.0000] <isherman>
Chrome looks at the label

[16:14:07.0000] <Hixie>
wow

[16:14:10.0000] <Hixie>
that's interesting

[16:14:18.0000] <isherman>
It's the first thing we check

[16:14:23.0000] <isherman>
Then the name, then the value

[16:14:29.0000] <Hixie>
for cc-type?

[16:14:31.0000] <Hixie>
or generally?

[16:14:34.0000] <isherman>
generally

[16:14:47.0000] <Hixie>
huh

[16:15:07.0000] <isherman>
Well, that's when trying to infer the field's type

[16:15:13.0000] <Hixie>
oh

[16:15:21.0000] <Hixie>
i mean when there's an autocomplete="" attribute

[16:15:24.0000] <isherman>
For filling, the only parallel case is <select> dropdowns

[16:15:31.0000] <isherman>
and there, we look at the human-readable text first, I think

[16:15:35.0000] <isherman>
/me checks that

[16:16:09.0000] <isherman>
Mmm, looks like we look at the value first, but then at the human-readable text immediately after that

[16:17:19.0000] <isherman>
For radio buttons, the only human readable text is the <label>, right?

[16:17:38.0000] <Hixie>
well

[16:17:46.0000] <Hixie>
most pages sadly don't have a label

[16:17:53.0000] <Hixie>
they just do e.g. <p><input...> label</p>

[16:17:56.0000] <isherman>
right

[16:18:10.0000] <isherman>
Chrome uses heuristics to try to pick out that sort of label

[16:18:10.0000] <Hixie>
that's human readable, but i don't think we want to even remotely go there

[16:18:15.0000] <Hixie>
yikes

[16:18:27.0000] <Hixie>
we're not hoping for much interop on this feature then i assume :-P

[16:18:37.0000] <isherman>
But if you're specifying autocomplete type hints, you should use a <label> too

[16:18:58.0000] <Hixie>
i would have expected the UA to only look at value="", but that's another story

[16:19:00.0000] <isherman>
I'd love to not have the heuristics to parse out labels, but Chrome Autofill started out as 100% heuristics

[16:19:06.0000] <Hixie>
yeah

[16:19:38.0000] <Hixie>
i hate that we're basically half specifying this feature. One half precise detail, the other half dark magic that each UA has to determine for itself.

[16:19:49.0000] <Hixie>
(but i don't see a good alternative)

[16:19:54.0000] <isherman>
Yeah :/

[16:20:31.0000] <Hixie>
anyway

[16:20:41.0000] <Hixie>
long story short, go ahead with cc-type, and i'll spec it when i get to that part of the spec

[16:20:52.0000] <isherman>
ok, sounds good

[16:20:54.0000] <isherman>
thanks

[16:21:01.0000] <Hixie>
let's say that if radio buttons in a group have different autocomplete attributes, we just forget about the attribute altogether

[16:21:13.0000] <isherman>
yeah, that sounds reasonable

[16:21:13.0000] <Hixie>
and don't autocomplete that group

[16:21:16.0000] <Hixie>
as if it's false

[16:21:18.0000] <Hixie>
off

[16:21:21.0000] <Hixie>
whatever it's called

[16:21:32.0000] <isherman>
the one possible exception is if one of the buttons has an autocomplete attribute, and the rest are empty

[16:21:39.0000] <Hixie>
hm yeah

[16:21:40.0000] <isherman>
should we give that special treatment?

[16:21:47.0000] <Hixie>
maybe only look at the buttons with the attribute

[16:21:53.0000] <Hixie>
to determine the group's type

[16:22:08.0000] <isherman>
yeah, that sounds reasonable to me

[16:22:19.0000] <Hixie>
if all the specified values are agreed, they apply to the entire group, otherwise hte entire group is off

[16:22:37.0000] <Hixie>
i guess this happens after the attribute is parsed?

[16:22:54.0000] <Hixie>
so e.g. autocomplete="section-a section-b name" and "section-b section-a name" are the same?

[16:23:00.0000] <Hixie>
(order doesn't matter right?)

[16:23:06.0000] <Hixie>
(or can there not even be wo sections)

[16:23:08.0000] <Hixie>
(i forget)

[16:23:17.0000] <isherman>
there can't be multiple sections

[16:23:32.0000] <Hixie>
then autocomplete="shipping name" vs "shipping      name"

[16:23:39.0000] <Hixie>
(different numbers of spaces)

[16:23:51.0000] <Hixie>
i'm saying, compare after processing

[16:24:04.0000] <isherman>
right, that makes sense

[16:26:31.0000] <isherman>
For filling, the best idea I have is for the spec to strongly recommend <label> elements, and otherwise fall back to the UA's black magic.

[16:26:56.0000] <isherman>
Asking websites to change their input values is too invasive, since it has implications for the backend (DB)

[16:27:35.0000] <isherman>
and it doesn't look like there's anywhere else that the values could reasonably be specified — though perhaps I'm overlooking an appropriate attribute

[16:29:46.0000] <Hixie>
don't most sites use icons?

[16:30:17.0000] <isherman>
That's a good point

[16:30:30.0000] <isherman>
I have no good ideas then :/

[16:30:33.0000] <Hixie>
heh

[16:30:48.0000] <Hixie>
we should look to see what values sites typically use

[16:30:56.0000] <Hixie>
maybe it's more uniform than we think

[16:31:45.0000] <isherman>
ok, I'll keep an eye out for it

[16:32:06.0000] <isherman>
unfortunately, this isn't one of the types that we used to fill, so we don't have a lot of regression test data for it

[16:32:32.0000] <Hixie>
...and of course all the sites i just checked aren't dumb and work out the card type themselves -_-

[16:32:45.0000] <isherman>
FWIW, I think most of the sites I've seen asking for CC type recently have been using <select> dropdowns rather than radio buttons

[16:32:49.0000] <Hixie>
/me tries some florists instead

[16:33:27.0000] <Hixie>
christ this is a painful checkout process interflora

[16:33:35.0000] <isherman>
heh

[16:33:55.0000] <Hixie>
blimey that's a lot of fields before i can type in credit card info

[16:34:34.0000] <isherman>
/me is wondering whether it would be better to just not support autocomplete type hints on radio buttons after all, given how hard it is to come up with anything sane for filling them…

[16:34:44.0000] <Hixie>
hey btw is there a way to tell chrome to autofill passwords even on sites with autocomplete=off?

[16:34:47.0000] <isherman>
(and just recommend using <select> instead)

[16:34:52.0000] <Hixie>
drives me crazy that these sites don't trust my browser

[16:35:01.0000] <isherman>
Peter Kasting wrote an extension to help with that — one sec

[16:35:11.0000] <isherman>
https://chrome.google.com/webstore/detail/autocomplete-on/ecpgkdflcnofdbbkiggklcfmgbnbabhh?hl=en-AU

[16:36:16.0000] <Hixie>
/me installs

[16:36:39.0000] <Hixie>
ok this site uses "MasterCard", "Visa", and "AmEx"

[16:40:39.0000] <Hixie>
ok seriously all these merchants redirect me to ebay when i click buy

[16:40:46.0000] <Hixie>
not helpful

[16:41:14.0000] <isherman>
paypal, or straight-up ebay?

[16:42:20.0000] <Hixie>
ebay

[16:42:38.0000] <Hixie>
ok i give up, these sites all want way more information than i'm willing to spend time faking before showing me the credit card form

[16:43:03.0000] <Hixie>
anyway, yeah, if you're ok with not doing radio buttons, i am too

[16:43:12.0000] <Hixie>
i can just say autocomplete isn't allowed on radio buttons

[16:43:29.0000] <isherman>
I'd be fine with that

[16:43:36.0000] <Hixie>
oh i already have in fact

[16:43:40.0000] <Hixie>
that was easy

[16:43:53.0000] <Hixie>
moving on!

[16:44:40.0000] <isherman>
heh

[16:44:44.0000] <isherman>
where does it say that?

[16:46:00.0000] <Hixie>
under type=radio, "The following content attributes must not be specified and do not apply to the element: accept, alt, autocomplete, ...."

[16:46:34.0000] <isherman>
ah, ok :)

[16:47:16.0000] <isherman>
(I was looking at the autocomplete part of the spec, not the radio button part of the spec)

[16:48:29.0000] <Hixie>
crap, out of battery. back in an hour or so.

[16:48:33.0000] <Hixie>
i'll probably add cc-type tonight

[16:48:47.0000] <Hixie>
bbl

[16:51:16.0000] <zewt>
Hixie: from my perspective: it's my choice whether forms should autocomplete, sites should have no say in the matter

[17:01:08.0000] <TabAtkins>
Hixie: Discussed anchor positioning, and posted a response to the list thread with conclusions.

[17:09:29.0000] <MikeSmith>
othermaciej: if you're around can you please gimme editbugs on bugs.webkit.org? I have a patch with some tests that I'd like to get reviewed.

[17:09:49.0000] <othermaciej>
MikeSmith: ok

[17:10:00.0000] <MikeSmith>
thanks

[17:10:39.0000] <othermaciej>
done

[17:17:55.0000] <MikeSmith>
othermaciej: thanks much

[17:27:01.0000] <Hixie>
TabAtkins: thanks

[17:27:27.0000] <Hixie>
zewt: yeah, well, the reality is that unless you can convince all the browsers to do that, the banks are holding each one hostage by refusing to be compatible with browsers that don't support =off

[21:10:00.0000] <rniwa>
Hixie: it seems like http://lists.whatwg.org/options.cgi/whatwg-whatwg.org is broken.

[21:10:18.0000] <rniwa>
Hixie: it doesn't send either password remainder or unsubscribe email :/

[21:10:35.0000] <rniwa>
Hixie: i'm pretty much stuck receiving emails on my old email address.

[21:10:38.0000] <Hixie>
odd

[21:12:10.0000] <Hixie>
what's the address and what do you want done to it?

[21:27:45.0000] <rniwa>
Hixie: i want to unsubscribe it on rniwa @ webkit.org

[21:28:02.0000] <rniwa>
Hixie: and add my @apple.com address instead.

[21:28:13.0000] <rniwa>
Hixie: adding part is easy.

[21:28:27.0000] <Hixie>
rniwa @ webkit.org is not subscribed

[21:28:30.0000] <Hixie>
so that explains that :-)

[21:28:34.0000] <rniwa>
Hixie: huh, odd :/

[21:28:43.0000] <rniwa>
Hixie: so it did delete me

[21:28:47.0000] <Hixie>
nor is the other one, fwiw

[21:28:50.0000] <rniwa>
Hixie: despite of the fact it said emailed me.

[21:31:48.0000] <Hixie>
rniwa: mailman is a mess, and this version of it doubly so

[21:32:02.0000] <Hixie>
but it is essentially free, so what can one do ;-)

[21:35:44.0000] <karlcow>
and http://www.sympa.org/

[21:37:17.0000] <karlcow>
http://www.sympa.org/release_note last realease note 6.1.16		November 16, 2012

[23:38:59.0000] <rniwa>
Hixie, MikeSmith: I'm back to the business on WHATWG, HTML5, & WebApps :D

[00:01:35.0000] <MikeSmith>
rniwa: excellent, man

[00:01:41.0000] <MikeSmith>
glad you're back

[00:01:50.0000] <kochi_>
welcome back, niwa-san

[00:02:53.0000] <rniwa>
kochi_, MikeSmith: thanks.

[00:03:25.0000] <kochi_>
I may ask you review webkit cl in near future.

[00:03:37.0000] <rniwa>
kochi_: LOL.

[00:03:38.0000] <rniwa>
kochi_: ok.

[00:03:52.0000] <kochi_>
i am working on ime api.

[00:04:06.0000] <rniwa>
kochi_: in js?

[00:04:11.0000] <MikeSmith>
oh hey it's kochi_ !

[00:04:16.0000] <kochi_>
hi Mike

[00:04:26.0000] <rniwa>
kochi_: or yet-another webkit browser?

[00:04:44.0000] <kochi_>
rniwa: yes, i am taking over hbono's spec'ing work for W3C IME API

[00:04:50.0000] <MikeSmith>
kochi_: hey, hadn't seen you here before

[00:05:02.0000] <rniwa>
kochi_: ah, i see.

[00:05:36.0000] <rniwa>
kochi_: so... this is something i said while i was still at google

[00:05:45.0000] <rniwa>
kochi_: but we need to make sure that IME API works well on all devices

[00:05:46.0000] <kochi_>
so very probably i have to make some addition in IDL

[00:05:50.0000] <rniwa>
kochi_: including iOS devices.

[00:06:07.0000] <rniwa>
kochi_: where IME isn't really a thing.

[00:07:41.0000] <kochi_>
mike: yes, I've been around in this room for a while but this is first to speak here.

[00:07:52.0000] <MikeSmith>
cool

[00:08:53.0000] <kochi_>
rniwa: yeah, but if we cover all the devices, spec cannot define anything useful...

[00:09:33.0000] <kochi_>
I guess on iOS the operating system is taking care of most thing for IME and apps can control very little

[00:09:36.0000] <rniwa>
kochi_: i think we need to do that though.

[00:10:16.0000] <rniwa>
kochi_: else, developers to have to write two completley different code paths for desktop & mobile devices

[00:10:31.0000] <kochi_>
you can add external IME interface on iOS to control from browser:)

[00:10:36.0000] <rniwa>
kochi_: what if we came up with yet another way of typing in text?

[00:11:11.0000] <rniwa>
kochi_: i don't think making iOS and Android devices behave like desktop devices is the way to go.

[00:11:24.0000] <rniwa>
kochi_: we need to make sure new APIs behave nicely with mobile devies

[00:11:39.0000] <rniwa>
kochi_: instead of devices behave well with APIs

[00:11:43.0000] <rniwa>
making*

[00:12:42.0000] <rniwa>
kochi_: but i haven't had a chance to look into the details of the API to make concrete suggestions :(

[00:12:52.0000] <rniwa>
kochi_: there is the latest spec hosted?

[00:12:54.0000] <rniwa>
where*

[00:13:30.0000] <kochi_>
http://www.w3.org/TR/ime-api/

[00:13:42.0000] <kochi_>
this is the published latest, but

[00:13:47.0000] <MikeSmith>
ED is at http://dvcs.w3.org/hg/ime-api/raw-file/default/Overview.html

[00:14:57.0000] <kochi_>
mike: the link is still the same as the published one.

[00:14:58.0000] <kochi_>
http://dvcs.w3.org/hg/ime-api/raw-file/default/TR.html

[00:15:06.0000] <kochi_>
is the latest.

[00:15:20.0000] <kochi_>
the difference is in "6. Composition Dictionary"

[00:15:23.0000] <MikeSmith>
ah OK

[00:15:52.0000] <kochi_>
text and caret are no longer special interface, but DOM node and range.

[00:18:38.0000] <rniwa>
kochi_, MikeSmith: is developing IME on js still a thing?

[00:18:50.0000] <rniwa>
as far as I know, baidu dropped the feature from their website.

[00:19:22.0000] <Ms2ger>
kochi_, can you please update the one that doesn't say "TR", give it the ED style, and update the date?

[00:22:09.0000] <rniwa>
kochi_: i've gotten more skeptical about IME in js since baidu stopped doing it.

[00:24:09.0000] <MikeSmith>
Ms2ger: I will do that

[00:25:12.0000] <MikeSmith>
rniwa: I think that after the feedback at the WebApps WG f2f, addressing the IME-in-js use case has become a lower priority

[00:25:23.0000] <rniwa>
MikeSmith: ok. good.

[00:32:26.0000] <kochi_>
sorry, i was distracted a bit

[00:34:36.0000] <rniwa>
strange :/

[00:34:47.0000] <rniwa>
i can never unsubscribe from public-html⊙wo

[00:37:51.0000] <kochi_>
rniwa: I didn't know baidu javascript ime

[00:38:06.0000] <kochi_>
did they try to implement their IME in js?

[00:39:10.0000] <kochi_>
Found this one: http://ime.baidu.jp/type/about/onlineime.html

[00:39:32.0000] <kochi_>
they provide a bookmarklet that can work as IME for other sites.

[00:39:48.0000] <MikeSmith>
kochi_: they had one on their main search engine before

[00:40:01.0000] <rniwa>
kochi_: they had one on baidu.com without requring any plugsin

[00:40:12.0000] <MikeSmith>
they were maybe the first big site that had something like that

[00:40:26.0000] <MikeSmith>
it would be interesting to find out why the yanked it

[00:41:09.0000] <kochi_>
they bought simeji, which is another IME for Japanese (though for Android) and they might have changed the strategy

[00:41:16.0000] <MikeSmith>
rniwa: I think the IME-in-js is rightly lower-priority but at the same time I think you guys are maybe being a bit too harsh on it

[00:41:19.0000] <MikeSmith>
kochi_: ah, OK

[00:41:34.0000] <rniwa>
MikeSmith: i mean there could be some compelling use cases

[00:41:42.0000] <rniwa>
MikeSmith: but given the complexity it adds to the platform

[00:41:59.0000] <rniwa>
MikeSmith: they got to be really compelling.

[00:42:16.0000] <rniwa>
MikeSmith: using IME correctly is really hard.

[00:42:18.0000] <MikeSmith>
rniwa: agreed. but at least I think othermaciej is being too harsh in pretty much categorically denying there's ever a good reason to do it

[00:42:20.0000] <rniwa>
MikeSmith: implementing IME is even harder.

[00:42:43.0000] <rniwa>
MikeSmith: i don't think so. i think he was emphasizing the fact it's hard to get IME right.

[00:42:45.0000] <MikeSmith>
yeah, agreed there too. You really can't do it well in JS

[00:43:06.0000] <MikeSmith>
yeah, there's a lot you need to sacrifice if you do it, I think

[00:43:12.0000] <rniwa>
MikeSmith: right.

[00:43:25.0000] <rniwa>
MikeSmith: i would have been convinced if baidu had to do that for their users, etc...

[00:43:32.0000] <rniwa>
MikeSmith: but now that they've moved away from it

[00:43:33.0000] <MikeSmith>
yup

[00:43:34.0000] <kochi_>
rniwa: some simple IME such as simple transliteration can be a compelling use case.

[00:43:39.0000] <rniwa>
MikeSmith: there isn't any big website providing such a feature now.

[00:43:54.0000] <rniwa>
kochi_: why would you want to implement that as an IME?

[00:44:02.0000] <rniwa>
kochi_: sounds like you want to use some other mechanism for it.

[00:44:32.0000] <MikeSmith>
rniwa: what about Google Translate? It has those keyboard widgets. Which admittedly are not full IMEs

[00:44:36.0000] <kochi_>
rniwa: do we have any way to do that in current JS?

[00:44:57.0000] <rniwa>
kochi_: well, the question i'm asking is why you'd ever want to implement transliteration as an IME.

[00:45:08.0000] <rniwa>
kochi_: that doesn't sound like a good idea.

[00:45:54.0000] <rniwa>
kochi_: i've done many transliteration myself and it doesn't really fit the way IME works

[00:46:16.0000] <rniwa>
kochi_: when you're doing transliteration, you have to re-order words and sentences, or even the entire paragraphs.

[00:46:35.0000] <rniwa>
kochi_: consider transliterating something from English to Japanese or Japanese to English.

[00:46:54.0000] <rniwa>
kochi_: it's almost never the case that you can just replace Japanese word by its equivalent in English

[00:47:02.0000] <rniwa>
kochi_: you have to re-order almost everything

[00:47:14.0000] <rniwa>
kochi_: just like UBA would do on each bidi-level

[00:47:37.0000] <kochi_>
rniwa: i supposed simpler ones, like ta -> 'た'

[00:47:49.0000] <rniwa>
kochi_: oh, that's basically IME, right?

[00:48:27.0000] <rniwa>
kochi_: it's like pinyin or yamli

[00:48:28.0000] <kochi_>
rniwa: I might be confused..

[00:48:53.0000] <rniwa>
kochi_: i mean ta -> た is just a romaji conversion

[00:48:58.0000] <rniwa>
kochi_: i wouldn't call that transliteration.

[00:49:31.0000] <kochi_>
rniwa: ok, i used 'transliteration' as just a simple 1:1 or some:1 mapping

[00:49:55.0000] <rniwa>
kochi_: oh, maybe i'm the one misusing the term :.

[00:49:57.0000] <rniwa>
:/

[00:49:58.0000] <rniwa>
sorry,

[00:50:00.0000] <rniwa>
okay, yeah.

[00:50:09.0000] <kochi_>
rniwa: probably you meant 'translation'

[00:50:18.0000] <kochi_>
:)

[00:50:28.0000] <rniwa>
I meant literal translation

[00:50:42.0000] <rniwa>
anyway

[00:50:52.0000] <rniwa>
kochi_: i mean that has the same problem as regular IMEs

[00:51:09.0000] <rniwa>
kochi_: what are compelling use cases for implementing transliteration in JS?

[00:53:42.0000] <kochi_>
rniwa: okay, that is same as Japanese IME on English-only environment..

[00:53:47.0000] <SimonSapin>
rniwa: I think that romaji → hiragana would be "transliteration", and maybe romaji → kanji too. English → Japanese is "translation".

[00:54:16.0000] <rniwa>
SimonSapin: not sure romaji -> kanji is really transliteration :/

[00:54:20.0000] <rniwa>
SimonSapin: the number of characters change there.

[00:54:43.0000] <kochi_>
rniwa: romaji to hiragana also changes the number of characters :/

[00:54:44.0000] <SimonSapin>
yeah, and there is more than one possible answer. That’s why I said maybe

[00:55:09.0000] <SimonSapin>
changing the number of characters is not really a problem for transliteration

[00:55:19.0000] <kochi_>
anyway,

[00:57:38.0000] <rniwa>
kochi_, SimonSapin: ok.

[00:57:48.0000] <MikeSmith>
rniwa: hmm, I just re-noticed that Google Translate does in fact still have a custom IME for Japanese and Chinese input. Not just the simpler keybaord thingey it has for other languages.

[00:58:17.0000] <kochi_>
implementing IME in JS may have more difficulties than merits, so low-priority now.

[00:58:17.0000] <MikeSmith>
if you click that "Allow phonetic typing" checkbock

[00:58:20.0000] <MikeSmith>
*checkbox

[00:58:38.0000] <rniwa>
MikeSmith: oh yeah :/

[00:59:30.0000] <zcorpan>
heycam|away: re https://www.w3.org/Bugs/Public/show_bug.cgi?id=18909 the script in comment 1 moved to http://resources.whatwg.org/file-bug.js

[01:00:04.0000] <MikeSmith>
rniwa: but even if you check it, it only appears if you have your system IME off. Which is the right behavior I guess.

[01:00:27.0000] <MikeSmith>
kochi_: yeah, I think the positioning use-case is by far the biggest priority

[01:00:56.0000] <kochi_>
MikeSmith: maybe translate is using the same one as http://www.google.co.jp/transliterate/japanese

[01:02:21.0000] <MikeSmith>
kochi_: ok

[01:02:23.0000] <MikeSmith>
kochi_: and it's not clear to me yet how to practically spec and implement a positioning-control mechanism for the system IME

[01:02:47.0000] <rniwa>
MikeSmith: i don't think we should spec that...

[01:03:00.0000] <rniwa>
MikeSmith: since it really depends on how system IME works.

[01:03:11.0000] <MikeSmith>
hmm

[01:03:28.0000] <MikeSmith>
well that's the main problem that we all seem to want to solve

[01:03:50.0000] <rniwa>
MikeSmith: well, there's an extent to which we want to allow some freedom to implementors

[01:03:59.0000] <MikeSmith>
I mean the problem of the system-IME candidate list overlapping the suggest-list from a Web app

[01:04:11.0000] <rniwa>
MikeSmith: otherwise we'll end up creating another write-once run-nowhere framework

[01:04:20.0000] <MikeSmith>
rniwa: ah yeah, agreed about that, sure

[01:04:25.0000] <rniwa>
MikeSmith: oh, sure.

[01:04:29.0000] <rniwa>
MikeSmith: that, we need to solve.

[01:07:03.0000] <kochi_>
explicitly controlling the candidate/suggest window position is impossible on some platforms including mobile

[01:10:36.0000] <zcorpan>
heycam|away: ah i see you included it, ok

[01:11:56.0000] <rniwa>
kochi_: that's why we have to be very careful here :)

[01:12:09.0000] <rniwa>
kochi_: hopefully we can refine the API so that it works on those mobile devices as well

[01:12:20.0000] <MikeSmith>
kochi_: rniwa :yeah but the positioning issue is maybe also different on mobile

[01:12:25.0000] <rniwa>
MikeSmith: right.

[01:12:37.0000] <rniwa>
MikeSmith: so we need to come up with some solution that works on both desktop & mobile

[01:12:42.0000] <MikeSmith>
yeah

[01:12:46.0000] <rniwa>
MikeSmith: otherwise, we'll be adding yet another craziness to the platform.

[01:13:16.0000] <rniwa>
given how crazy dealing with IME already is, i don't think we want to complicate it any further.

[01:14:21.0000] <MikeSmith>
frankly  I do most of my Google searches from the browser address bar, and it's the same problem there as it is for the in-app case, but of course we can't the address-bar case through a standards API (not as far as I understand it at least)

[01:14:21.0000] <kochi_>
one idea might be just JS gives a hint to IME, that JS wants to use some UI property for typing help (suggest etc.)

[01:15:03.0000] <kochi_>
MikeSmith: yes, chrome's omnibox has some code for controlling IMEs (for windows only)

[01:15:25.0000] <rniwa>
kochi_: that's an interesting idea.

[01:15:38.0000] <rniwa>
kochi_: doesn't chrome's ominibox do something along that line?

[01:15:52.0000] <rniwa>
omnibox API*

[01:16:25.0000] <kochi_>
rniwa: you mean chrome extension api for omnibox?

[01:16:34.0000] <MikeSmith>
rniwa: it doesn't seem to be doing anything smart for me at least. I get overlap with Chrome

[01:17:05.0000] <rniwa>
MikeSmith, kochi_: no, with respect to instant search

[01:17:15.0000] <rniwa>
or whatever that flashing pages on key downs

[01:17:19.0000] <rniwa>
is called.

[01:17:26.0000] <MikeSmith>
oh

[01:17:32.0000] <rniwa>
like..

[01:17:37.0000] <rniwa>
when omnibox expands

[01:17:51.0000] <rniwa>
the google.com moves the results down so that it's still visible to the user.

[01:18:29.0000] <MikeSmith>
yeah

[01:18:35.0000] <zcorpan>
do i understand correctly from http://www.score.is.tsukuba.ac.jp/~minamide/papers/minamide-FM2012.pdf that they didn't implement AAA?

[01:18:59.0000] <MikeSmith>
rniwa: I have seen that behavior for some cases but not in others where I would expect it

[01:19:14.0000] <zcorpan>
"However, we exclude formatting elements from our formalized speciﬁcation be-

[01:19:15.0000] <zcorpan>
cause of diﬃculties with the destructive manipulation of the stack."

[01:19:40.0000] <kochi_>
yeah, the instant integration for omnibox isn't so great.

[01:19:53.0000] <kochi_>
(especially for IME using languages)

[01:20:16.0000] <MikeSmith>
zcorpan: hmm, is that what they meant by that? It wasn't clear to me. But I guess I don't know what else they could have meant by it.

[01:20:43.0000] <rniwa>
zcorpan: that's pretty lame...

[01:21:18.0000] <rniwa>
zcorpan: those manipulation of the stack is what makes html5 parsing algorithm interesting.

[01:21:29.0000] <rniwa>
s/those/that/

[01:21:58.0000] <kochi_>
MikeSmith: do you use windows version of chrome?

[01:22:46.0000] <MikeSmith>
kochi_: rniwa : so as far as mobile, on my Android handset I do most of my searches from the devicse homescreen using the Google widget. And there at least I notice they seem to have a semi-smart way of handling it, in that the system IME doesn't completely obscure the system IME. It gives you separately scrollable areas for each.

[01:24:17.0000] <MikeSmith>
kochi_: no, I use the mac version of Chrome. And I also build Chromium on mac from the sources, and use that quite a lot. Because it's faster, for one thing :)

[01:24:48.0000] <MikeSmith>
I don't have a Windows environment at all these days

[01:25:06.0000] <kochi_>
MikeSmith: unfortunately mac version of omnibox doesn't control IME

[01:25:13.0000] <MikeSmith>
ah, OK

[01:25:34.0000] <rniwa>
/me away

[01:25:53.0000] <kochi_>
thanks rniwa-san for your input!

[01:26:11.0000] <rniwa|away>
kochi_: np. i'll try to find a time to read the spec.

[01:26:23.0000] <kochi_>
thanks again!

[01:28:27.0000] <MikeSmith>
(for the record so that nobody gets PO'ed at me, I also run Firefox and Nightly releases, and build and run a Mozilla Nightly from sources. And run two versions of Opera, and would build that from sources too, if I could. And run Safari too. Though sadly can't run WebKit nightlies any more due to the requirement to have OS X 10.7 for that.)

[01:28:48.0000] <hsivonen>
uh oh: https://bugzilla.mozilla.org/show_bug.cgi?id=116882#c4

[01:29:46.0000] <MikeSmith>
hsivonen: wow. Never knew about that one before.

[01:31:14.0000] <MikeSmith>
hmm yeah https://bug116882.bugzilla.mozilla.org/attachment.cgi?id=64382 ain't so pretty. Unless like the aesthetic quality of the diamond-with-question-mark glyph a lot.

[01:32:14.0000] <MikeSmith>
hsivonen: wha? this is an old bug though. So what did the fix end up being?

[01:33:29.0000] <zcorpan>
/me glosses over most of section 3

[01:35:37.0000] <hsivonen>
MikeSmith: the fix ended up being that bogus byte sequences in Shift_JIS produce middot instead of REPLACEMENT CHARACTER

[01:36:11.0000] <hsivonen>
hmm. annevk is not on IRC

[01:37:17.0000] <MikeSmith>
hsivonen: ah, OK

[01:37:51.0000] <Ms2ger>
Hm

[01:38:03.0000] <Ms2ger>
Didn't emk just file a bug to revert that?

[01:38:23.0000] <Engin>
darobin: btw, I got what you meant wrong the other day. Yes, using POST on a fixed URL to conduct cross domain communication is a good idea. As it requires a single preflight sequence.

[01:38:48.0000] <Ms2ger>
Oh no, you filed it years ago

[01:39:29.0000] <hsivonen>
Ms2ger: right

[01:39:45.0000] <darobin>
Engin: that would be my hope yes, if implementations support the spec correctly

[01:39:55.0000] <Engin>
darobin: I checked, it works.

[01:40:03.0000] <Engin>
with chrome, at least.

[01:40:05.0000] <darobin>
Engin: sweet

[01:40:15.0000] <zcorpan>
hsivonen: also https://bugzilla.mozilla.org/show_bug.cgi?id=127275

[01:40:20.0000] <MikeSmith>
hsivonen: btw after seeing a recent Hixie checkin, I'm only just now noticing the baroque set of values that constitute the microsyntax for the autocomplete attribute. Is anybody actually implementing support for any of that stuff?

[01:40:23.0000] <darobin>
I wonder if we have a test for preflight caching

[01:40:59.0000] <zcorpan>
MikeSmith: it's pretty new i think

[01:41:19.0000] <Ms2ger>
[eta 8/28]

[01:41:20.0000] <MikeSmith>
zcorpan: ah, OK

[01:41:23.0000] <Engin>
darobin: that approach brings the best of both worlds... being able to use XHR for cross domain means 1) better error handling 2) as HTTP POST is available you can send big loads of data as opposed to GET only JSONP approach has about 2k limit

[01:41:23.0000] <Ms2ger>
I wonder which year

[01:41:32.0000] <MikeSmith>
hsivonen: for reference, http://www.whatwg.org/specs/web-apps/current-work/multipage/association-of-controls-and-forms.html#autofilling-form-controls:-the-autocomplete-attribute

[01:41:37.0000] <Ms2ger>
Looks like 2002

[01:41:54.0000] <darobin>
Engin: sure, for that sort of API POST is really the way to go

[01:41:59.0000] <Engin>
and given that CORS is already implemented in IE8, Chrome and FF is a good market penetration.

[01:42:37.0000] <Engin>
but this spec renders most of the framework designs inefficient.

[01:43:10.0000] <Engin>
i.e. many MVC frameworks has the design pattern to create uniqwue resources for everything... if you use those frameworks to build your API, your API has too much overhead for cross domain communication

[01:43:26.0000] <jgraham>
darobin: Still looking for me?

[01:43:50.0000] <darobin>
jgraham!

[01:43:50.0000] <Engin>
I still don't see why specs don't allow domain wide access control... and override when necessary for each resources, as each request has Origin header in it, access control be done per resource and can override server wide rules.

[01:44:22.0000] <darobin>
jgraham: I was wondering if you had some more finalised ideas on how to reorg the HTML test suite than when we last talked

[01:44:31.0000] <darobin>
given that I have time to do it now

[01:45:07.0000] <MikeSmith>
holy god reading through that autocomplete stuff it's hard to see it as anything but serious overengineering. on the fact of it, at least

[01:45:12.0000] <Ms2ger>
I hear krisk wants to talk about it tonight

[01:45:15.0000] <MikeSmith>
*face of it

[01:45:21.0000] <jgraham>
darobin: Yeah, so appasrently we are discussing it again on yet another IRC meeting today; see Kris' message to public-html-testsuite

[01:45:28.0000] <jgraham>
*apparently

[01:45:53.0000] <Ms2ger>
I have been lucky enough to miss the previous meetings :)

[01:45:57.0000] <darobin>
Ms2ger, jgraham: yup but unfortunately while you're talking about it tonight I'll be at a conference

[01:46:33.0000] <Ms2ger>
Can we just put everything in dirs per section already?

[01:46:33.0000] <darobin>
but that's no reason not to get stuff done before then :)

[01:47:02.0000] <darobin>
Ms2ger: I want to do that, I've just been wondering about the best way to do it

[01:47:10.0000] <jgraham>
Yeah, directories per section, with a short name derived from the section name, in some reasonable depth of heirachy

[01:47:42.0000] <jgraham>
Is, I think, what people were happy with

[01:47:53.0000] <darobin>
one way is to just have one dir per root section, which leads to huge numbers of tests in some; at the other end there's the option of one dir all the way to every h6 section, which is a bit deep

[01:48:07.0000] <jgraham>
Well

[01:48:10.0000] <Ms2ger>
darobin, I've gone 3 deep, fwiw

[01:48:20.0000] <jgraham>
I think it should to some extent be up to individuals

[01:48:28.0000] <darobin>
derived short name: I think the easiest is to just use the ID in the spec, with some replacement

[01:48:34.0000] <jgraham>
But one per top level section doesn't help much

[01:48:35.0000] <hsivonen>
MikeSmith: I haven’t followed the autocomplete stuff

[01:48:44.0000] <jgraham>
The id in the spec doesn't work

[01:48:45.0000] <hsivonen>
MikeSmith: volkmar might have followed it

[01:48:53.0000] <MikeSmith>
ok

[01:49:08.0000] <jgraham>
Because it's autogenerated. And not always very readable

[01:49:14.0000] <darobin>
jgraham: the problem of leaving it up to individuals is that it can lead to cases where someone starts putting stuff at level 1 because there aren't that many tests, and then we have to move stuff to subsections because it's getting crowded

[01:49:17.0000] <zcorpan>
MikeSmith: also nice that the spec includes timbl's cc number, expiration date and cvc

[01:49:34.0000] <MikeSmith>
zcorpan: heh

[01:49:37.0000] <darobin>
I'd like to avoid having to move tests as much as possible, ever if possible

[01:49:46.0000] <darobin>
Ms2ger: 3 deep wfm

[01:49:52.0000] <jgraham>
darobin: Well I agree with that

[01:50:09.0000] <darobin>
jgraham: most of them are reasonably readable methinks; they're generated from the section title initially

[01:50:33.0000] <darobin>
using section numbers won't fly very well IMHO

[01:50:36.0000] <Ms2ger>
darobin, just move my submissions to the top level, and move everything else into the dirs I have set up, then ;)

[01:50:42.0000] <jgraham>
darobin: Maybe you could generate an actual directory structure to look at and see how well it works

[01:51:12.0000] <darobin>
jgraham: one of the advantages of using the IDs is that we have all the data that maps from IDs to specific spec pages already generated for us

[01:51:12.0000] <MikeSmith>
hsivonen, zcorpan : I just really wonder who's asking for all that stuff, and if it has a chance in hell of ever getting implemented cross-browser. Or even any-browser. Especially given that our track record so far for getting new features impelemented in browsers is not exactly a sterling record.

[01:51:25.0000] <darobin>
jgraham: that's exactly my plan, I just wanted to narrow the options down before doing so

[01:51:46.0000] <jgraham>
darobin: What are these spec "pages" of which you speak? :p

[01:51:49.0000] <darobin>
I'll get to it now, thanks

[01:52:16.0000] <darobin>
jgraham: for the wusses who don't like the single page version, or have devices equipped with less than 16Go ;)

[01:53:39.0000] <zcorpan>
MikeSmith: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-August/036791.html

[01:53:41.0000] <MikeSmith>
track record so far for getting new *forms* features

[01:54:09.0000] <MikeSmith>
zcorpan: thanks

[02:18:59.0000] <hsivonen>
MikeSmith: pushing stuff from svn.chromium.org to specs

[02:20:41.0000] <MikeSmith>
hsivonen: well, I think most would agree that ain't the best way to be doing things

[02:22:14.0000] <MikeSmith>
if that stuff ends up going into iOS prematurely that's gonna suck for all of us

[02:24:55.0000] <darobin>
MikeSmith: IIRC Mozilla is implementing the inputmode side of things at least, but with different keywords from those in the spec

[02:25:18.0000] <MikeSmith>
darobin: yeah but that's quite a bit less complicated at least

[02:25:26.0000] <darobin>
to say the least

[02:25:43.0000] <MikeSmith>
and I think for that we have basic agreement about the problem and need for a solution

[02:25:52.0000] <darobin>
but if they felt the need for divergence on the simple bits, the odds that they align to the complex stuff are a bit low

[02:26:02.0000] <MikeSmith>
yeah

[02:26:39.0000] <darobin>
seems like an area begging to have a vendor prefix problem a little while down the line

[02:34:05.0000] <MikeSmith>
darobin: clearly it often makes sense to have concrete spec text to review, even if the outcome is going to be that some implementors say, thanks for giving us something detailed to review but there's no way we are going to implement this any time soon

[02:37:32.0000] <darobin>
oh sure, far from me to say the contrary

[03:01:34.0000] <MikeSmith>
the thing of Mozilla unilaterally implementing different keywords is another kind of distressing thing

[03:06:15.0000] <hsivonen>
MikeSmith: isn’t “go ahead and implement something different” the official way appeal Hixie’s decisions?

[03:07:01.0000] <hsivonen>
s/way/way to/

[03:09:18.0000] <Stevef>
hsivonen: is filing a bug on firefox to implement <main> a reasonable course of action at this stage?

[03:11:33.0000] <hsivonen>
Stevef: I really don’t know.

[03:12:32.0000] <Stevef>
hsivonen: anybody that would know?

[03:14:42.0000] <hsivonen>
Stevef: I don’t think there’s anyone who’d give you a clear and definitive yay or nay

[03:14:53.0000] <hsivonen>
Stevef: about the processing model...

[03:15:04.0000] <hsivonen>
Stevef: https://dvcs.w3.org/hg/html-extensions/raw-file/tip/maincontent/index.html says to map <main> to role=main

[03:15:20.0000] <Stevef>
hsivonen:right

[03:15:21.0000] <hsivonen>
Stevef: what’s the processing model of multiple role=main occurrences?

[03:16:52.0000] <hsivonen>
tantek: do you have plans to reply to http://lists.w3.org/Archives/Public/public-html/2012Dec/0027.html ?

[03:18:19.0000] <Stevef>
hsivonen:for role=main they are all mapped regardless, there is discussion on limiting <main> to one instance, but would be useful to see how it is sued in wild before adding extra complexity (i think)

[03:20:11.0000] <hsivonen>
Stevef: so what do screen readers do if the user asks to skip to main and there are multiple role=main elements?

[03:22:34.0000] <Stevef>
hsivoen: well they don't skip to main as such landmarks are presented as a tree they navigate to landmarks using a keystroke or via a list represntation see screenshots and stuff here http://www.paciellogroup.com/blog/2010/10/using-wai-aria-landmark-roles/

[03:25:47.0000] <Stevef>
hsivonen: so in the case where a main landmark is not present it is not represented in the tree  or in the case where only a main landmark is present pressing the appropiate key would move the user to the start of the main content

[03:27:33.0000] <Stevef>
hsivonen: thus skipping over any link menus etc

[03:29:06.0000] <Stevef>
hsivonen: i.e. its the presence of main that provides the 'skip' not the presence on nav etc

[03:32:32.0000] <MikeSmith>
hsivonen: I would think hope the “go ahead and implement something different” would be reserved for cases where it's clear that Hixie has decided to quit listening and it's become a waste of time to continue trying to discuss it with him

[03:39:05.0000] <Engin>
darobin: also, if your client library does not introduce custom headers... POST does not require preflight at all (provided that the server sends Access-Control-Allow-Origin header all the time -- otherwise it raises a security exception in the client)

[03:51:57.0000] <Stevef>
hsivonen: thanks for feedback to list! will sketch out some concept of when browser should map role=main to <main> and when not

[04:02:09.0000] <hsivonen>
Stevef: FWIW, I’m now writing a patch for <main> for Gecko to see if it really is as easy as I thought

[04:05:12.0000] <Stevef>
hsivonen: i was able to write a patch for webkit (with help from mike) which was pretty simple i just used the nav implementation as a guide.

[04:06:29.0000] <Stevef>
hsivonen: it was only a few lines of code, it was the tests that mike did that were the work

[04:07:35.0000] <hsivonen>
Stevef: I’m not volunteering to write the unit tests for this :-)

[04:08:07.0000] <Stevef>
hsivonen: MikeSmith is waving :-)

[04:24:20.0000] <odinho>
If there's several, then I'd take the first and outermost one as primary.

[04:25:22.0000] <hsivonen>
odinho: what if the first isn’t the outermost?

[04:25:26.0000] <odinho>
I could see authors doing  <header></> <main> <article><header></><main></></article> <article><header></> <main></> </article> </main> <footer>

[04:26:31.0000] <hsivonen>
hmm. yeah, the idea of copying <article>s into one doc and having <main> in there is a problem

[04:30:20.0000] <hsivonen>
Stevef: can you test a build with Windows+JAWS if I ask the tryserver to make one?

[04:30:48.0000] <Stevef>
hsivonen: definitely!

[04:33:54.0000] <hsivonen>
Stevef: OK. Pushed to try: https://tbpl.mozilla.org/?tree=Try&rev=b8a2d5d608e0 It will take some time for the build to become available.

[04:35:02.0000] <Stevef>
odinho:hsivonen: webkit has implemented some simple rules for when header/footer should expose landmark roles, same could be done for <main>, but I reckon its worth seeing how it is used first as data from role=main usage are  encouraging that devs understand the simple concept of once per page

[04:35:59.0000] <Stevef>
hsivonen: OK a few hours?

[04:37:11.0000] <hsivonen>
Stevef: something like that

[04:37:46.0000] <Stevef>
ok will let you know when i have tested

[04:40:15.0000] <odinho>
Stevef: Well, some systems will do automatical includes... I'm sure there will be several mains. And also, it can be context dependent, there's the main of the document, and potentially the main of each article etc.

[04:50:25.0000] <Stevef>
odinho: i hear you, but the data on id usage to indicate main content does not point to its use in that way, but will only know if it is used in the wild

[04:55:10.0000] <Stevef>
odinho: the spec/conformance requirements are unambiguous which is a start, there is no room for interpretation, the issue with elements like article and section is they are specced to be open to misuse

[04:59:48.0000] <hsivonen>
\o/ got the <template> spec review off my todo list

[05:01:46.0000] <MikeSmith>
hsivonen: congrats on that

[05:50:02.0000] <hsivonen>
/me blinked at SVG path checking for a moment before realizing SVG is not PostScript

[05:52:31.0000] <zcorpan>
is <!-- specced in ES proper yet?

[05:58:22.0000] <gsnedders>
zcorpan: On the to-do list for ES6, I believe

[05:58:30.0000] <zcorpan>
ok, thanks

[06:02:13.0000] <gsnedders>
Though some things in Web ECMAScript may well not get in as IE has never supported them and doesn't feel the heat from not doing so.

[06:02:37.0000] <gsnedders>
e.g., not supporting __proto__ is hurting them; __defineGetter__ is not.

[06:06:14.0000] <gsnedders>
Related: https://bugzilla.mozilla.org/show_bug.cgi?id=647423

[06:23:43.0000] <Stevef>
hsivonen: tried build <main> works as expected with NVDA and JAWS

[06:24:06.0000] <hsivonen>
Stevef: great. Thanks.

[06:24:49.0000] <Stevef>
hsivonen:the parsing behaviour looks ok as well

[06:25:48.0000] <hsivonen>
(sorry. I have to step away from IRC)

[06:25:56.0000] <Stevef>
hsivonen: also acc info expsoed when checked suing inspect tool is correct

[06:49:58.0000] <hsivonen>
Stevef:  ok. I'll try to get a bug filed later today

[06:50:23.0000] <Stevef>
hsivonen: thanks

[07:59:45.0000] <Ms2ger>
darobin, there's a few tests under submissions/, go ahead :)

[08:02:15.0000] <darobin>
Ms2ger: I plan to!

[08:03:06.0000] <Ms2ger>
darobin, I like to believe mine are pretty good ;)

[08:13:42.0000] <darobin>
Ms2ger: yeah, I was planning on just trashing them

[08:14:10.0000] <darobin>
if we agree on the new organisation, I'll have to first replay the submissions as pull requests

[08:14:24.0000] <darobin>
it's a bit of an annoyance but I'm guessing it won't take too long

[08:39:09.0000] <jgraham>
(to avoid disrupting the htmlt meeting any more, I will mention here that "HTML!" made me think "HTML-factorial? I guess that must have been a Dave Ragget thing")

[08:41:13.0000] <jgraham>
(I think I might be over-tired)

[08:43:20.0000] <darobin>
ROFL

[08:44:09.0000] <gsnedders>
jgraham: There's a solution for this, I believe it's called "going to bed". Certainly, whatever it is, my niece seems not to understand this concept.

[08:45:50.0000] <Ms2ger>
darobin, not 1 either!

[08:46:30.0000] <darobin>
:)

[09:04:44.0000] <MikeSmith>
I think we need a "Like" button for test cases

[09:04:52.0000] <MikeSmith>
that will make people write more

[09:05:05.0000] <MikeSmith>
either that or move all test cases to Google+

[09:06:51.0000] <Ms2ger>
jgraham, ... by git

[09:07:13.0000] <Ms2ger>
MikeSmith, anyone uses Google+?

[09:07:19.0000] <darobin>
Google what?

[09:07:43.0000] <tantek>
MikeSmith - you should build that - a social network for test cases. You probably know some folks who would happily beta test it for you. ;)

[09:07:53.0000] <darobin>
/me notices that some memes tend to work only for a really small number of people with the right context

[09:08:14.0000] <tantek>
pitch it as "a social network for enterprise certification" and get some angel funding

[09:08:48.0000] <MikeSmith>
I just want the Likes

[09:08:58.0000] <tantek>
exactly - that's the MVP

[09:09:03.0000] <MikeSmith>
that would be sufficient reward

[09:09:10.0000] <tantek>
ability to friend, post test cases, and like test cases

[09:10:31.0000] <tantek>
hmm, actually "test case" as a content posting type could be interesting for the #indiewebcamp crowd.

[09:15:26.0000] <MikeSmith>
ability to de-friend a test case would be good

[09:17:09.0000] <jgraham>
A testcase social network would need an "unlike" button for sure

[09:17:19.0000] <tantek>
and then you make a leaderboard of the most popular test cases and then blam - competition to make better test cases

[09:17:24.0000] <tantek>
"test case of the week" etc.

[09:17:26.0000] <jgraham>
It could be automatically checked if "BOM" appeared in the TC title

[09:17:39.0000] <gsnedders>
jgraham: An unlike button? That's just idealism.

[09:18:02.0000] <tantek>
people that liked this test case also liked these other test cases...

[09:18:10.0000] <gsnedders>
tantek: Unfortunately, zcorpan would be the constant winner of "most evil TC".

[09:18:20.0000] <gsnedders>
So that would get rather dull.

[09:18:46.0000] <tantek>
of course you'd want to allow anyone to "tag" test cases as well with arbitrary tags, and give each test case its own tag cloud

[09:19:52.0000] <Ms2ger`>
gsnedders, bz sometimes writes tests too ;)

[09:20:47.0000] <jgraham>
OMG, they could have a test-off

[09:20:48.0000] <gsnedders>
Ms2ger`: Ah, but zcorpan's manage to not only be evil in what they test, but in *how* they test it. Testcases in a single file, HTML, CSS, and Javascript, depending on how you parse it.

[09:20:50.0000] <jgraham>
That would be epic

[09:21:09.0000] <Ms2ger`>
gsnedders, fair

[09:21:19.0000] <Ms2ger`>
I've seen too many of those

[09:46:35.0000] <dglazkov>
good morning, WhatWg!

[09:46:48.0000] <dglazkov>
sorry for screwing up your rhythm, odinho

[09:46:49.0000] <Ms2ger`>
Good night, dglazkov

[14:17:10.0000] <Hixie>
TabAtkins: yt?

[14:18:01.0000] <Hixie>
anyone know what css spec would define things like text outlines?

[14:23:03.0000] <Hixie>
looks like css text

[14:23:20.0000] <SimonSapin>
Hixie: do you mean text-shadow?

[14:28:23.0000] <Hixie>
i meant text-outline, but text-shadow is in the same spec

[14:41:40.0000] <SimonSapin>
Hixie: text-shadow is in http://dev.w3.org/csswg/css-text-decor-3/ which was split out of css3-text. I can’t find outline in either

[14:44:57.0000] <SimonSapin>
Hixie: it’s removed in http://www.w3.org/TR/2011/WD-css3-text-20110901/

[15:16:47.0000] <TabAtkins>
Hixie: text-outline doesn't exist in CSS yet.

[15:17:38.0000] <TabAtkins>
Hixie: There's a -webkit- property for text-stroke, which is what you're talking about (though it's not very good, as it tends to *reduce* the legibility of text if you make it thick enouch to make the text pop against a similar-color background).

[15:17:59.0000] <TabAtkins>
But 4/8 text-shadows tends to work pretty good for putting an outline on text.

[15:44:03.0000] <Hixie>
TabAtkins: k


2012-12-12
[19:23:00.0000] <zewt>
andrew kirkpatrick with the not knowing what reductio ad absurdum means

[19:28:29.0000] <zewt>
also anyone arguing for "do this because i claim you have to" i'd say is admitting that the feature fails on its merits (or else they'd be arguing merits)

[20:35:25.0000] <zewt>
endless dbz reference in ebiten why

[20:35:35.0000] <zewt>
wrong window but okay

[20:35:56.0000] <zewt>
<- slummin' it in irssi because desktop irc client ate itself

[20:39:00.0000] <MikeSmith>
zewt: it's hard to tell from his message which part is a quote and which part is his words

[20:40:42.0000] <zewt>
MikeSmith: yeah i sent him a private mail asking him to fix his stupid quoting heh

[20:40:51.0000] <zewt>
it becomes totally unreadable in subquotes

[20:41:06.0000] <zewt>
dunno which client it is that's doing that

[20:42:04.0000] <MikeSmith>
I guess it's a common thing with people who don't normally do much mailing-list discussion

[20:42:29.0000] <zewt>
yeah i figure low chances of him actually fixing it but worth asking

[20:43:06.0000] <zewt>
i mean i don't bother pestering people about top quoting or other typical stuff these days, but quoting with a differnet color (and a very slightly different color) is terrible

[20:43:07.0000] <MikeSmith>
well, I know him to be a smart guy, so I expect he will

[20:43:46.0000] <MikeSmith>
I read it all in plain text so I don't notice the colors and such

[20:46:37.0000] <zewt>
yeah i used to read mail in mutt, and people who were all "quotes in red" were infuriating, heh

[20:46:48.0000] <zewt>
but the real problem is quotes of quotes, which pretty much always loses it

[20:47:23.0000] <zewt>
tangental but related, i'm sort of ready to concede the top-quoting thing

[20:47:30.0000] <zewt>
mostly because it's the only practical thing on mobile

[20:47:43.0000] <zewt>
also it's easier for people who don't email for a living to learn

[21:05:39.0000] <MikeSmith>
zewt: true about movile

[21:05:43.0000] <MikeSmith>
*mobile

[21:07:55.0000] <MikeSmith>
but anybody trying to post a lot to mailing lists from their mobile is whacked from the get-go

[21:10:55.0000] <zewt>
yeah, detailed replies are one thing, but it's reasonable that people should be able to one-paragraph reply from mobile

[22:50:51.0000] <hsivonen>
Hixie: If you want to argue against version suffixing APIs, I suggest emailing to dev-platform

[23:00:02.0000] <hsivonen>
TabAtkins: do you mean text-outline doesn’t exist is CSS *anymore*?

[23:00:18.0000] <hsivonen>
TabAtkins: or is it coming back again?

[00:31:43.0000] <asmodai>
Happy soundcheck day!

[00:41:55.0000] <hsivonen>
do all ad providers use document.open()ed docs in iframes these days?

[00:42:17.0000] <hsivonen>
/me is prototyping code that’s sensitive to document.open()ed docs in iframes

[00:42:28.0000] <hsivonen>
and I see the code trigger on lots of pages

[00:44:27.0000] <hsivonen>
I need examples of real-world pages where the user would need to use the charset menu

[02:06:47.0000] <zcorpan>
zewt: is "straw man" more appropriate (than reductio ad absurdum)?

[03:46:22.0000] <zcorpan>
what badness would come out if we "always" sniffed for gzip (at least for browsing contexts, styles and scripts)?

[03:46:53.0000] <zcorpan>
opera sniffs for SVG+gzip

[04:20:54.0000] <jgraham>
Signs that you are out of touch with current problems on the web platform #8: You have advocated polyglot markup or think that people should work on specifying it

[04:58:31.0000] <darobin>
zcorpan: isn't that actually already the case? maybe I'm misremembering from SVG habits

[04:59:43.0000] <hsivonen>
does anyone happen to have a bomless UTF-16 HTML document with UTF-16 declared on the HTTP level at hand?

[04:59:56.0000] <zcorpan>
darobin: no. even for svg i think only opera and ASV does it (dunno about natively in IE)

[05:00:44.0000] <zcorpan>
hsivonen: data: url good enough?

[05:01:04.0000] <hsivonen>
zcorpan: actually, yes! good point

[05:02:40.0000] <darobin>
zcorpan: I'm surprised anyone would ship SVG without it, there's a lot of SVG out there without the proper Content-Encoding

[05:02:53.0000] <hsivonen>
UTF-16 is like XML: The more effort you have put into making it really work, the less likely you are to think using it is good.

[05:03:01.0000] <darobin>
unless server configurations have become markedly better

[05:03:21.0000] <darobin>
odinho: thanks for reminding me to use mosh — I don't know how I could ever work without it

[05:03:45.0000] <odinho>
darobin: Hehe, I had the same feeling.

[05:03:59.0000] <hsivonen>
data:text/html;charset=UTF-16BE,%20%AC works for my purposes

[05:04:00.0000] <darobin>
all those stupid people still just using ssh!

[05:04:02.0000] <zcorpan>
darobin: at least safari/chrome/firefox give xml parse error for .svgz without content-encoding

[05:04:24.0000] <hsivonen>
who actually uses svgz?

[05:04:29.0000] <darobin>
zcorpan: interesting. I'm guessing that more recent servers must ship with svgz properly configured

[05:04:57.0000] <darobin>
it used to be unusable without detection (which is why ASV did it)

[05:05:14.0000] <zcorpan>
maybe so. my question still stands - why not always sniff and forget about the header?

[05:05:37.0000] <zcorpan>
is it just because STANDARDS!!1 ?

[05:05:55.0000] <zcorpan>
or is there a security problem with doing it?

[05:06:07.0000] <zcorpan>
(like bypassing some security checks?)

[05:06:19.0000] <zcorpan>
(in servers that do content filtering)

[05:08:24.0000] <darobin>
could it conflict with encoding detection?

[05:08:50.0000] <darobin>
perhaps more to the point, could you construct chameleon content?

[05:09:07.0000] <hsivonen>
darobin: not if you sniff for gzip first and hand the uncompressed stream for charset sniffing

[05:09:28.0000] <darobin>
yeah, good point

[05:09:30.0000] <zcorpan>
gzip has a magic header

[05:09:43.0000] <darobin>
indeed, 1F 8B 08

[05:10:53.0000] <darobin>
mmm, actually I'm not sure that always works

[05:10:59.0000] <darobin>
the magic number is for the file format

[05:11:05.0000] <zcorpan>
third byte isn't part of the magic header

[05:11:27.0000] <darobin>
it's not clear to me that you're expected to use the magic number when encoding on the wire

[05:12:06.0000] <hsivonen>
darobin: if you don’t use magic, are’t you supposed to claim deflate rather than gzip?

[05:12:25.0000] <darobin>
hsivonen: yes, but is that followed properly in the wild?

[05:13:09.0000] <darobin>
"deflate - despite its name the zlib compression (RFC 1950) should be used"

[05:13:43.0000] <hsivonen>
darobin: dunno

[05:13:54.0000] <darobin>
seems like a good area to find skeletons in

[05:14:29.0000] <hsivonen>
MIME is so brittle compared to magic numbers :-(

[05:15:27.0000] <hsivonen>
/me is refactoring Gecko’s HTML charset guessing code to make UTF-16 unoverridable in the UI in order to block social engineered UTF-16 XSS

[05:15:31.0000] <hsivonen>
yay UTF-16

[05:17:58.0000] <darobin>
well, external metadata as a design pattern should be shot in the face repeatedly

[05:18:25.0000] <darobin>
I don't even understand how it can be considered to be a good idea to separate information vital to the processing of a payload from the payload itself

[05:18:47.0000] <darobin>
(unless you're in well-agreed situations where it can be a performance improvement)

[05:21:49.0000] <hsivonen>
UTF-16 is a worse idea than MIME, though

[05:22:54.0000] <Ms2ger>
We have no lack of bad ideas around here, that much is clear

[05:25:13.0000] <jgraham>
And a seemingly inexhaustable supply of new ones!

[05:25:47.0000] <darobin>
can we convert those into energy?

[05:26:15.0000] <jgraham>
Sure, just print out the public HTML archives and set fire to them

[05:26:27.0000] <darobin>
that's not a lot of email :)

[06:01:43.0000] <Ms2ger>
Operians: DSK-379497 needs a move

[06:17:06.0000] <odinho>
Ms2ger: You just created it, man. It's even moved already. :P

[06:17:41.0000] <Ms2ger>
odinho, now it just needs to be fixed ;)

[08:05:20.0000] <Ms2ger>
https://lists.w3.org/Archives/Member/w3c-css-wg/2012OctDec/0298.html

[08:53:34.0000] <jwalden>
/me wonders how exactly Ms2ger got member access, presumably without unveiling

[09:01:36.0000] <kbrosnan>
same as how he has commit access??

[09:04:03.0000] <jwalden>
yeah, maybe

[09:04:19.0000] <jwalden>
I thought member access meant you had to be, er, a member tho

[09:04:31.0000] <jgraham>
Or he is actually timbl?

[09:04:38.0000] <jwalden>
haha

[09:04:55.0000] <jwalden>
I mean, I wouldn't be able to load that URL except for working at Mozilla, as best I know

[09:05:19.0000] <jwalden>
and I thought Ms2ger was a free agent at most

[09:14:17.0000] <Ms2ger>
jwalden, dbaron has been so kind to allow me to join the W3C as a Mozilla representative

[09:14:30.0000] <jwalden>
ah, nice

[09:14:59.0000] <jwalden>
at least, if we accept member-internal stuff as a constraint :-\

[10:53:15.0000] <TabAtkins>
hsivonen: It's not in any current spec.  I don't know if it ever was.

[11:16:56.0000] <hsivonen>
TabAtkins: it used to be

[11:17:13.0000] <hsivonen>
it being text-outline. I assume that's the context

[11:28:26.0000] <tantek>
hsivonen, TabAtkins: http://www.w3.org/TR/2007/WD-css3-text-20070306/#text-outline

[11:28:41.0000] <tantek>
found by googling for CSS "text-outline"

[11:28:43.0000] <tantek>
;)

[11:29:59.0000] <tantek>
removed in the 2011-09-01 update to CSS3 Text per: http://www.w3.org/TR/2011/WD-css3-text-20110901/#recent-changes

[11:30:36.0000] <tantek>
so yeah THIS is the latest draft of that deleted property: http://www.w3.org/TR/2011/WD-css3-text-20110412/#text-outline

[11:31:24.0000] <tantek>
*was


2012-12-13
[19:45:38.0000] <MikeSmith>
all right http://googlewebmastercentral.blogspot.jp/2012/12/introducing-data-highlighter-for-event.html seems pretty cool

[19:46:05.0000] <MikeSmith>
http://support.google.com/webmasters/bin/answer.py?hl=en&answer=2692911

[19:46:38.0000] <MikeSmith>
Google Data Highlighter

[19:47:08.0000] <MikeSmith>
tantek: thoughts?

[19:48:13.0000] <tantek>
MikeSmith - whoa - sounds pretty cool

[19:48:43.0000] <tantek>
direct manipulation of visible content like that is potentially easier / more accessible than having to mark it up.

[19:49:03.0000] <MikeSmith>
yup

[19:49:08.0000] <tantek>
my guess is that it would be quite fragile to markup changes though

[19:49:28.0000] <MikeSmith>
yeah I would guess so too

[19:49:40.0000] <tantek>
so as soon as the site gets a redesign, or a developer updates a template, all the smart learning rules would likely break

[19:50:08.0000] <tantek>
one of the experiences we've had with microformats is that for long term data quality you really do need to engage with the design/development side of web sites

[19:50:42.0000] <tantek>
and as such, any kind of "data" markup like that needs to be super-easy to a) recognize that it exists at all, b) maintain / update.

[19:51:00.0000] <tantek>
some of that learned experience went into the design of microformats2

[19:51:36.0000] <MikeSmith>
yeah this could kind of make it more of a designer task rather than a author/developer task

[19:51:48.0000] <tantek>
sort of

[19:51:53.0000] <tantek>
web designers already know microformats

[19:52:05.0000] <tantek>
the data highlighter is aimed at non-technical folks

[19:52:09.0000] <tantek>
designers tend to be technical today

[19:52:22.0000] <tantek>
data highlighter appears to be aimed at product manager types, or maybe SEO consultants

[19:53:08.0000] <tantek>
oh, and there is one *big massive problem* with data highlighter - it only helps your content look "richer" in *Google* search results, because *Google* holds onto the smarts about what parts of your web page mean what.

[19:53:22.0000] <scor>
problem is: this is only for Google, you explain to Google how your site is built… will other search engines come up with their own custom DH as well?

[19:53:33.0000] <tantek>
whereas semantic in HTML, microformats, microdata, RDFa are accessible to *all* search engines and tools

[19:53:44.0000] <scor>
granted, most SEO people care mostly about Google,

[19:53:45.0000] <tantek>
scor - precisely, it doesn't scale either

[19:53:46.0000] <Hixie>
would be cool if it handed you back a bash script you could run on your site that would apply edits to the pages to mark them up with microdata (or whatever)

[19:53:58.0000] <scor>
but in doing so, they're isolating the other search engines

[19:54:00.0000] <tantek>
Hixie - good luck

[19:54:14.0000] <tantek>
might as well ask for a a bash script you could run on your site that would apply edits to the pages to mark them up with HTML :)

[19:54:28.0000] <tantek>
scor - exactly

[19:54:30.0000] <scor>
sounds counter to the whole schema.org initiative which was meant to bring all search engines together :(

[19:54:33.0000] <Hixie>
i don't see why it'd be hard, i mean, they essentially do this

[19:54:34.0000] <MikeSmith>
I guess Google has no business incentive to help you make that data portable

[19:54:39.0000] <tantek>
scor - indeed

[19:54:41.0000] <scor>
MikeSmith: true

[19:54:49.0000] <tantek>
Hixie - no, Altavista essentially did that

[19:54:49.0000] <scor>
though they initiated schema.org :)

[19:54:58.0000] <tantek>
Google paid much more attention to all the explicit markup in the page, especially links

[19:55:03.0000] <tantek>
and thus crushed Altavista

[19:55:08.0000] <scor>
but I guess these two projects came from different people at Google

[19:55:12.0000] <tantek>
scor - different groups

[19:55:14.0000] <tantek>
exactly

[19:55:43.0000] <tantek>
there is a *very* strong automatic text-entity recognition/analysis group inside Google who don't believe in any explicit markup. mostly PhDs.

[19:55:47.0000] <Hixie>
tantek: ?

[19:55:58.0000] <tantek>
it's a cultural thing

[19:56:51.0000] <tantek>
anyway, I see the data highlighter as a useful UI experiment

[19:56:59.0000] <tantek>
Google-specific and all that

[19:57:12.0000] <tantek>
but think of it like a Labs thing (or what Labs tried to be - is it still around?)

[19:57:55.0000] <tantek>
but you're right scor, I'd expect data highlighter to piss off the other members of the schema-org oligopoly

[19:58:12.0000] <tantek>
will be interesting to see if there's any political fall out

[19:58:14.0000] <scor>
yes

[19:59:01.0000] <tantek>
MikeSmith - the general rule about distance between data and metadata applies too

[19:59:47.0000] <tantek>
and storing your metadata (in some proprietary Google-access-only database) that far from your data (in your web page) is likely to result in unreliability quite quickly

[20:00:29.0000] <tantek>
at best it's a slicker UI on top of the GoogleBase concept (which was similarly a proprietary Google-access-only database)

[20:01:33.0000] <tantek>
BTW, MikeSmith, Hixie, do you know where Google's documentation about Rich Snippets from semantic HTML tables is?

[20:01:39.0000] <tantek>
I've been looking for it and can't find it

[20:01:52.0000] <tantek>
despite the fact that I *know* that Google is using semantic HTML tables to display rich snippets

[20:02:00.0000] <MikeSmith>
tantek: no clue from me on that one

[20:21:49.0000] <tantek>
MikeSmith - here's the example Google RichSnippet from *just* a semantic table: http://www.flickr.com/photos/aaronpk/8000688018/in/photostream

[20:22:06.0000] <tantek>
(that first result)

[20:27:46.0000] <MikeSmith>
.window 25

[20:27:48.0000] <MikeSmith>
oopws

[20:28:02.0000] <MikeSmith>
tantek: the "semantic HTML table" part is the table-like bit there?

[20:28:10.0000] <MikeSmith>
what's semantic about it?

[20:28:28.0000] <tantek>
the markup in the page

[20:29:03.0000] <tantek>
bbiab

[20:37:10.0000] <tantek>
Google is picking out the following information purely from the semantic HTML markup in that example:

[20:37:21.0000] <tantek>
500+ items - from the number of <tr>s

[20:37:59.0000] <tantek>
grey text table headers - from the <th>s *with text content* (google skipped the column with images)

[20:38:11.0000] <tantek>
first two rows from the table with data

[20:41:31.0000] <tantek>
now obviously not all pages with tables with ths and tds look like that in Google results - so the question is, what did I do in that *very* simple page to get the nice looking Rich Snippet in Google results?

[20:51:50.0000] <MikeSmith>
tantek: maybe that's one of those things they are not going to tell you

[20:52:09.0000] <MikeSmith>
intentionally

[20:53:33.0000] <MikeSmith>
you gotta reverse-engineer it

[20:53:45.0000] <tantek>
sure, I found it *accidentally*

[20:53:52.0000] <tantek>
I just did simple clean minimal markup

[20:53:59.0000] <tantek>
and then magically got that result within 24 hours

[20:54:25.0000] <tantek>
I *think* I've seen similar things with lists? (<ol> <ul>)

[20:54:55.0000] <tantek>
maybe they have some secret sauce where if the vast majority of a page's content is a single semantic <table> then they treat it specially like that

[20:54:57.0000] <tantek>
that would be my guess

[20:56:19.0000] <MikeSmith>
yeah the more I think about that the more it makes me think they are never going to document that kind of stuff

[20:56:37.0000] <tantek>
but they document simpler things like rel

[20:56:41.0000] <MikeSmith>
because for one thing they need to be free to change it

[20:56:43.0000] <tantek>
rel=author, rel=me support for example

[20:56:48.0000] <MikeSmith>
yeah

[20:56:52.0000] <tantek>
sure, they're free to change any of this stuff

[20:57:02.0000] <tantek>
they have disclaimers of that sort all over the rich snippets docs

[20:57:06.0000] <MikeSmith>
ok

[20:57:18.0000] <tantek>
so why not document proper HTML table and list markup as a technique? what's the downside?

[20:57:33.0000] <tantek>
too many SEOs start using proper semantic table / list markup? ;)

[20:59:15.0000] <MikeSmith>
dunno but maybe be cause the conventions have not emerged

[20:59:31.0000] <MikeSmith>
they are sort of causing the conventions to be created

[21:00:20.0000] <tantek>
nah, the convention is just use <table> <tr> <th> <td> as simple as you possibly can

[21:00:21.0000] <MikeSmith>
as they have done for most  other SEO jacking

[21:00:24.0000] <tantek>
*simply*

[21:00:25.0000] <MikeSmith>
ok

[21:00:30.0000] <tantek>
that's all I did!

[21:00:33.0000] <MikeSmith>
well that's nice then

[21:00:34.0000] <tantek>
and it "worked"

[21:00:38.0000] <tantek>
right

[21:00:44.0000] <MikeSmith>
that's how it should be

[21:01:13.0000] <tantek>
I'm tempted to document it myself just to try to force the issue

[21:01:25.0000] <tantek>
as an "SEO" technique

[21:01:28.0000] <MikeSmith>
tantek: hey they don't do the same thing for <dl> lists?

[21:01:46.0000] <tantek>
they might - I haven't seen an example of them doing anything like that for <dl> lists

[21:02:13.0000] <MikeSmith>
yeah "SEO" is the stinkbait

[21:02:44.0000] <tantek>
sorry, "search engine marketing" ;)

[21:03:35.0000] <MikeSmith>
tantek: so that suggests the technique of making content more AT-friendly by using <dl> lists instead of tables is not good if you want the search-engine juice

[21:05:21.0000] <tantek>
well who knows what *other* juice you'd be giving up

[21:05:33.0000] <tantek>
<dl>s aren't right for multiple  (>2) columns anyway)

[21:05:45.0000] <tantek>
however, Google does have some odd "definition" logic

[21:06:08.0000] <tantek>
e.g. https://www.google.com/search?q=floorcraft+definition

[21:06:27.0000] <tantek>
click the tiny "More Info" under the big white definition box

[21:06:33.0000] <tantek>
note the two results

[21:07:02.0000] <tantek>
common pattern:

[21:07:06.0000] <tantek>
<p><b>floorcraft</b> - … </p>

[21:07:22.0000] <tantek>
rather than <dl><dt> …. </dt><dd>…</dd> </dl>

[21:07:40.0000] <tantek>
g2g

[21:07:42.0000] <tantek>
talk more laters!

[21:11:04.0000] <MikeSmith>
cheers

[23:02:09.0000] <MikeSmith>
Cray Computer joined the W3C

[23:05:16.0000] <othermaciej>
neat, though kind of retro

[23:05:21.0000] <othermaciej>
is Atari joining next?

[23:10:11.0000] <MikeSmith>
heh

[23:11:06.0000] <MikeSmith>
somebody should restart an Atari brand

[23:11:29.0000] <MikeSmith>
Cray now does "Big Data relationship analytics"

[23:11:34.0000] <MikeSmith>
whatever that is

[23:11:45.0000] <MikeSmith>
sounds pretty fishy to me

[23:13:36.0000] <MikeSmith>
anyway Cray is apparently still the big boy on the block

[23:14:16.0000] <MikeSmith>
https://twitter.com/billschrier/status/268221191163105281

[23:14:29.0000] <MikeSmith>
"Seattle's @Cray_Inc now has the world's fastest supercomputer at 17.59 petaflops, beating Chinese and others @PSBJ - http://ow.ly/feTc4"

[23:28:37.0000] <MikeSmith>
http://stackoverflow.com/questions/1732348/regex-match-open-tags-except-xhtml-self-contained-tags/1732454#1732454

[23:38:14.0000] <othermaciej>
"Big Data relationship analytics" -- that shit cray

[23:41:57.0000] <MikeSmith>
hah

[23:42:06.0000] <MikeSmith>
good un

[23:53:46.0000] <zcorpan>
i find myself mostly agreeing with http://24ways.org/2012/responsive-images-what-we-thought-we-needed/

[02:04:22.0000] <annevk_>
At some point we need to properly discuss and address the whether or not attributes are ordered question. Anyone suggestions for how to go about that?

[02:06:17.0000] <Ms2ger>
They're ordered.

[02:06:17.0000] <Ms2ger>
:)

[02:06:35.0000] <annevk>
Agreed, what's the order?

[02:06:50.0000] <annevk>
Document-order and then set order?

[02:07:01.0000] <jgraham>
That sounds likely

[02:07:23.0000] <annevk>
hsivonen: ^^

[02:08:02.0000] <hasather>
annevk: Yes. That would be nice from an editing point of view too (devtools)

[02:08:56.0000] <annevk>
hasather: "perfect" editors are more complicated though, they'd also preserve inter-attribute whitespace and such

[02:09:59.0000] <hasather>
annevk: I was referring to the attribute not jumping somewhere else when you add it, which could be confusing

[02:11:49.0000] <annevk>
ah yeah

[02:13:07.0000] <odinho>
So all is well and shiny. Everyone happy.

[02:13:54.0000] <Ms2ger>
odinho, hey, did you guys fix my bug from yesterday already? :)

[02:15:50.0000] <odinho>
Ms2ger: Noone has jumped on it as a "OH MY WE'RE TOTALLY BREAKING THE WEB LETS FIX ASAP" yet, no :]

[02:18:22.0000] <odinho>
Ms2ger: I'd do it myself if I didn't really have too much to do already. Not to say anything I could possibly be doing could be more important than lowercasing too many weird characters in createElement, but well - I shouldn't continue starting on new things. ^_^

[02:20:09.0000] <annevk>
That is actually worth fixing to crush the idiotic notion that simple identifiers should use anything other than case-sensitive or ASCII case-insensitive

[02:22:50.0000] <odinho>
It's def. worth fixing at one point, and probably quite easy. But I won't do it right now.

[02:23:12.0000] <odinho>
Watching it though, so I'll know if someone else does.

[02:26:25.0000] <hsivonen>
annevk: why do we need to overspec attribute order

[02:26:28.0000] <hsivonen>
?

[02:26:52.0000] <hsivonen>
annevk: IE has done fine with a seemingly random attribute order

[02:26:53.0000] <annevk>
hsivonen: because DOM methods depend on the order

[02:27:00.0000] <hsivonen>
annevk: for example?

[02:27:06.0000] <annevk>
hsivonen: getAttribute()

[02:27:16.0000] <hsivonen>
annevk: xmlns crap?

[02:27:20.0000] <annevk>
hsivonen: yes

[02:27:24.0000] <hsivonen>
sigh

[02:27:50.0000] <hsivonen>
is it a Real Problem?

[02:28:54.0000] <Ms2ger>
odinho, if you've got someone else with copious free time I can pester... ;)

[02:28:57.0000] <annevk>
per the JavaScript guys, Maps are either ordered or random

[02:29:15.0000] <annevk>
they made theirs ordered, we could make the attribute map random I suppose

[02:29:29.0000] <annevk>
but I'm not sure that's better

[02:30:17.0000] <hsivonen>
I’m not convinced that constraining implementations by requiring a certain order is a good idea.

[02:30:30.0000] <hsivonen>
but attribute storage isn’t really my area

[02:30:35.0000] <hsivonen>
more like bz’s thing

[02:31:27.0000] <annevk>
well "order" is exposed via innerHTML, ele.attributes, getAttribute()

[02:31:38.0000] <hsivonen>
annevk: do WebKit and Presto always maintain order? Trident and Gecko don’t.

[02:31:50.0000] <hsivonen>
though Gecko might seem to most of the time.

[02:32:43.0000] <hsivonen>
annevk: does the getAttribute() thing ever get exposed for HTML parser-generated nodes?

[02:32:53.0000] <hsivonen>
lang vs. xml:lang on SVG nodes?

[02:32:54.0000] <annevk>
I'm not sure, but it only being random some of the time seems annoying

[02:33:05.0000] <annevk>
hsivonen: yeah, that'd be an example

[02:33:20.0000] <annevk>
hsivonen: actually no, that'd would work okay

[02:33:37.0000] <hsivonen>
well, Gecko’s unordering cases have to do with attributes that are CSS presentational hints, IIRC

[02:33:45.0000] <annevk>
hsivonen: getAttribute() takes a qualified name

[02:33:52.0000] <annevk>
hsivonen: so you'd hit problems with two namespaced attributes

[02:34:17.0000] <hsivonen>
annevk: I’m going to call this theoretical inelegance for the time being and not a Real Problem

[02:35:50.0000] <annevk>
feel free to reopen the bug; I'd appreciate some kind of suggestion of what the spec should say instead then

[02:37:22.0000] <zcorpan>
it seems more likely that sites rely on what innerHTML returns when there are presentational attributes than what getAttributes returns when there are namespaced attributes with the same name

[02:37:35.0000] <zcorpan>
or attributes[index]

[02:39:23.0000] <hsivonen>
annevk: I CCed bz on the bug

[02:39:34.0000] <annevk>
thanks

[02:39:48.0000] <zcorpan>
nevertheless, we usually require something instead of leaving it undefined even if there's no known example of sites breaking because of the lack of being defined, so that we don't have to spec whatever content ends up relying on in a few years

[02:41:01.0000] <hsivonen>
I wonder if IE’s hash function is a well-known one that could be identified by throwing enough data at it as a black box

[02:44:28.0000] <zcorpan>
exactly. :-) i'd rather IE implemented ordered attributes than having to reverse engineer their order when finding a site that relies on IE's order

[03:14:25.0000] <SimonSapin>
Twitter doesn’t like @ in URLs :/

[03:15:39.0000] <zcorpan>
how do people sign up to contribute to http://wiki.ecmascript.org/doku.php?id=strawman:error_stack ?

[03:18:13.0000] <jgraham>
You might need to be in TC39?

[03:18:57.0000] <annevk>
so you have objects and such and expose the stack trace as a formatted string?

[03:19:19.0000] <annevk>
is there a reason for that?

[03:19:30.0000] <zcorpan>
maybe https://github.com/jsfixed/jsfixed is a better venue for feedback without joining

[03:20:24.0000] <jgraham>
"Having the stack be a string that has to be manually parsed is really silly. However, Safari tried to return an array of stuff and it turned out that it broke things. We could provide an alternative API to extract relevant details but at this point we should strive to make implementations compatible."

[03:20:47.0000] <jgraham>
Which is pretty enlightened behaviour for TC39

[03:21:33.0000] <zcorpan>
having just the same string in all browsers seems like a huge improvement over the current situation

[03:22:14.0000] <annevk>
ta jgraham

[03:25:59.0000] <Stevef>
darobin: ping me if there are any publication issues with https://dvcs.w3.org/hg/html-extensions/raw-file/tip/maincontent/index.html

[03:33:23.0000] <hsivonen>
annevk, jgraham: OK if I upload <main> tests to the html5lib test suite if I put them in a separate file?

[03:35:45.0000] <annevk>
sure

[03:35:48.0000] <jgraham>
Yup

[03:37:34.0000] <hsivonen>
thanks

[03:39:11.0000] <darobin>
Stevef: cheers, will do

[04:09:45.0000] <zcorpan>
darobin: why waste time with votes about naming instead of just one person picking arbitrary names and stick to that?

[04:10:28.0000] <darobin>
zcorpan: I'd be delighted with that model, but you back to the issue of picking the person

[04:10:46.0000] <zcorpan>
darobin: i pick you :-)

[04:11:18.0000] <darobin>
zcorpan: haha, thanks — the names for the branches are therefore set to be "unicorn" and "dahut"

[04:11:23.0000] <darobin>
that was easy

[04:11:41.0000] <zcorpan>
excellent. glad we could settle this

[04:12:11.0000] <darobin>
when there's an editor the logical choice is to just leave it up to the editor; failing that it could be the chair, but in this case he's one of the proponents of an option that's not making people happy...

[04:13:05.0000] <darobin>
I guess we could just nominate a test suite editor

[04:13:12.0000] <jgraham>
I think having a vote is silly, but I also think that having non-default names for the master branch is silly

[04:13:15.0000] <darobin>
zcorpan! I hear you have plenty of time going spare.

[04:13:39.0000] <darobin>
jgraham: I think the whole thing is silly; hence my proposal to use whatever silly means to get the fuck over it

[04:14:11.0000] <zcorpan>
darobin: you misunderstand. i wanted to *not* spend time on this

[04:15:02.0000] <jgraham>
I don't think anyone disagrees that it's silly, just on exactly what is silly

[04:15:03.0000] <darobin>
I wish I had a device to send <blink style='font-size: 100vh; color: red'>JFDI</blink> to arbitrary people's screens

[04:15:22.0000] <jgraham>
So far the only proponent of the non-master-master is kris

[04:15:29.0000] <jgraham>
and he is also against git and github

[04:15:44.0000] <jgraham>
So we apparently aren't letting him block us in general

[04:16:26.0000] <darobin>
indeed

[04:16:36.0000] <jgraham>
I haven't even heard a single reason for favouring non-default names

[04:16:50.0000] <zcorpan>
should we register his objection and show it to the Director when we transition to CR (never?)?

[04:17:03.0000] <darobin>
lol

[04:17:57.0000] <darobin>
I reckon that we can just wait until next Tuesday and simply all argue in the same direction there

[04:18:03.0000] <darobin>
then call it a day and move on

[04:28:00.0000] <hsivonen>
btw, what’s the current status of ffmpeg vs. libav?

[11:23:29.0000] <rillian>
hsivonen: I don't think ffmpeg vs libav has changed much since earlier this year

[11:23:45.0000] <rillian>
they're still parallel forks

[12:18:07.0000] <TabAtkins>
zcorpan: If you want to give feedback on es stuff, just join es-discuss⊙mo

[12:18:21.0000] <TabAtkins>
That's the official mailing list, and you don't have to be a tc39 member to contribute there.


2012-12-14
[17:43:11.0000] <tantek>
FYI: for those that feel strongly (either way) about a <main> element: http://wiki.whatwg.org/wiki/Main_Page

[17:51:48.0000] <GPHemsley>
Of course, tantek means http://wiki.whatwg.org/wiki/Main_element

[17:52:04.0000] <GPHemsley>
+1 BTW

[17:54:42.0000] <tantek>
Thanks GPHemsley :)

[17:54:53.0000] <tantek>
(especially for the correction ;) )

[00:01:02.0000] <kennyluck>
For some reason, Henri's message on Dec 3 about <main> didn't make it to my mail client either.

[02:05:55.0000] <zcorpan>
MikeSmith: can you pls make the background image in http://platform.html5.org/history/ fixed?

[02:09:07.0000] <jgraham>
zcorpan: (why?)

[02:09:36.0000] <zcorpan>
jgraham: it's the kind of background that flickers when scrolling. at least for me.

[02:11:11.0000] <jgraham>
Oh, OK, not for me, but I see that it might do that

[02:12:52.0000] <niloy>
Also, the "fork me on github" image is not loading

[02:24:36.0000] <MikeSmith>
zcorpan: I just now made it fixed but it still flickers when you scroll :(

[02:24:57.0000] <MikeSmith>
niloy: also I now removed the forkme link

[02:25:00.0000] <zcorpan>
MikeSmith: you sure the style sheet isn't cached?

[02:25:57.0000] <MikeSmith>
yeh

[02:26:09.0000] <MikeSmith>
maybe not it's just a different kind of flickering

[02:26:25.0000] <MikeSmith>
*maybe now

[02:26:35.0000] <zcorpan>
MikeSmith: you used the wrong property

[02:26:41.0000] <MikeSmith>
oh

[02:26:43.0000] <zcorpan>
MikeSmith: just add fixed to the shorthand

[02:26:48.0000] <MikeSmith>
what should I used?

[02:26:55.0000] <MikeSmith>
ojk

[02:27:12.0000] <zcorpan>
(it's background-attachment)

[02:29:47.0000] <MikeSmith>
hmm it works fine with the shorthand if I use just background: but not if I use background-attachment:

[02:33:02.0000] <MikeSmith>
zcorpan: pushed

[02:33:11.0000] <MikeSmith>
should be flicker-less now

[02:33:17.0000] <zcorpan>
thanks

[02:37:31.0000] <darobin>
mixing shorthand and individual properties is a great way to ensure that something doesn't work :)

[02:37:53.0000] <darobin>
jgraham: the canonical source for idlharness is in the w3c/testharness.js repo, da?

[02:38:51.0000] <jgraham>
darobin: Aryeh would be the canonical source of that information, but my non canon answer is yes, that's canonical

[02:39:13.0000] <darobin>
jgraham: ta, that's good enough for me

[02:39:20.0000] <darobin>
I'll ping Aryeh when he wakes up

[02:39:26.0000] <darobin>
he's West Coast right?

[02:39:55.0000] <jgraham>
Israel

[02:40:07.0000] <darobin>
oh, I somehow thought he was over there

[02:40:12.0000] <jgraham>
But not working much on standards at the moment

[02:40:16.0000] <darobin>
he should be awake then, just not on IRC

[02:40:31.0000] <darobin>
email it is then — thanks

[02:42:07.0000] <SimonSapin>
can someone with IE test this? data:text/html,<style>body{background:green!ImPortant;background:red}

[02:55:53.0000] <hsivonen>
wow. AWWW actually mentions HTML

[02:56:04.0000] <hsivonen>
and CSS even!

[02:56:21.0000] <hsivonen>
but not JavaScript or ECMAScript

[02:56:44.0000] <hsivonen>
doesn’t mention the origin concept

[03:01:01.0000] <jgraham>
Architecture of the World Wide Web, rather than the noise people make when they see a kitten with a ball of string, presumably?

[03:02:41.0000] <odinho>
SimonSapin: It's green in IE10. In live dom viewer.

[03:03:24.0000] <odinho>
SimonSapin: data-urls don't seem to work from address bar :-)

[03:03:32.0000] <hsivonen>
jgraham: yes

[03:03:40.0000] <SimonSapin>
odinho: cool, thanks

[03:04:10.0000] <SimonSapin>
odinho: I wanted to test case-sensitivity of !important. It’s fine if it’s not in a data url.

[03:05:10.0000] <darobin>
AWWW isn't entirely bad, considering its age and all

[03:05:17.0000] <darobin>
some parts can be salvaged

[03:05:25.0000] <darobin>
but there sure is an awful lot that's not covered

[03:09:43.0000] <annevk>
SimonSapin: you guys are still wasting time on that?

[03:10:06.0000] <annevk>
if we're updating webarch better make it say that identifiers should be case-sensitive or worst case ASCII case-insensitive

[03:10:30.0000] <annevk>
(not necessarily worst case I suppose, if identifiers are pretty much ASCII anyway)

[03:11:07.0000] <SimonSapin>
annevk: the wording for !important suggests it’s sensitive but it’s really insensitive. (I don’t care what kind.)

[03:14:54.0000] <annevk>
SimonSapin: doesn't the grammar define it to be insensitive?

[03:15:01.0000] <annevk>
SimonSapin: including allowing silly escapes and what not?

[03:15:07.0000] <SimonSapin>
annevk: I agree with you but more importantly things should be defined once. (Not defined is bad, defined twice in contradictory ways is bad.)

[03:15:39.0000] <SimonSapin>
annevk: these parts are using prose, not grammar

[03:15:52.0000] <annevk>
oh okay

[03:17:18.0000] <SimonSapin>
In "the identifier token ‘important’" escapes should have been taken care of during tokenization

[03:17:42.0000] <SimonSapin>
(bbl)

[03:18:14.0000] <annevk>
what I'd expect actually is for the parser to normalize/lowercase those things

[03:18:51.0000] <annevk>
e.g. if someone writes BACKGROUND-POSITION or Background-Position you're not really gonna preserve that, same with !Important vs !imPORTANt

[04:12:42.0000] <kennyluck>
TabAtkins, What tools did you use to make the railroad diagrams?

[04:14:10.0000] <tomasf>
kennyluck: I think you're looking for https://github.com/tabatkins/railroad-diagrams

[04:14:23.0000] <kennyluck>
tomasf, ah, great thanks!

[04:14:27.0000] <tomasf>
np

[04:28:19.0000] <hsivonen>
do we have a wiki page that explains why versioning formats or APIs is an anti-pattern on the Web?

[04:42:38.0000] <darobin>
s/on the Web// :)

[04:42:55.0000] <darobin>
hsivonen: I don't think so, that's something you'd normally get the TAG to write for you

[04:43:14.0000] <darobin>
where by "normally" I don't mean "usually"

[04:43:18.0000] <jgraham>
haha

[04:43:46.0000] <jgraham>
But maybe the whatwg wiki is AWWW for the modern age

[04:44:18.0000] <jgraham>
But with more adherence to the original web vision by being editable by everyone, not just some shady cabal

[04:44:19.0000] <darobin>
on principle I refuse to believe that a wiki can produce anything that is architecturally sound

[04:45:00.0000] <jgraham>
I on principle refuse to believe that the web is architecturally sound

[04:45:08.0000] <darobin>
yeah, well, there's that too

[04:45:36.0000] <darobin>
I think that in the first month of being elected to the TAG, one should be assigned a random PHP site to maintain

[04:46:11.0000] <hsivonen>
darobin: now you are just being cruel

[04:46:18.0000] <darobin>
you're guaranteed to get a rather sobering "The Web runs on *that*?!" moment

[04:46:28.0000] <darobin>
hsivonen: just realistic :)

[04:47:17.0000] <darobin>
once you've maintained the code for a decent sized web shop written by someone who doesn't understand what functions are for, you get a whole new perspective on which parts of the architecture actually matter

[04:48:10.0000] <hsivonen>
fortunately, for the purposes of the Web architecture, the server side language is a replaceable black box

[04:48:22.0000] <hsivonen>
so PHP isn’t really a mandatory part of the Architecture

[04:48:58.0000] <darobin>
indeed — but understanding the mindset is useful

[04:49:23.0000] <darobin>
for instance when you're handed a site where the developer decided he'd try out this newfangled "templating" idea

[04:49:44.0000] <darobin>
and went on to create one template per page, then to add comments about how he wasn't sure it helped his productivity

[04:50:27.0000] <darobin>
and complain about how since page IDs and template ID weren't the same, it made his URLs more complicated

[04:50:41.0000] <darobin>
/me could go on for a while, happy he's not doing production these days :)

[04:58:43.0000] <jgraham>
hsivonen: In theory it's a replaceable black box, but in practice the difference bwtween XSLT and PHP is architecturally important

[04:59:21.0000] <hsivonen>
jgraham: do you mean in terms of the consequences of the error patterns PHP enables?

[04:59:37.0000] <jgraham>
Yes

[05:01:06.0000] <jgraham>
Realising that the enforcable constraints on content producers are non-existent is important

[05:01:34.0000] <jgraham>
PHP and similar systems make the lack of constraints very obvious

[05:01:51.0000] <jgraham>
XSLT tries to impose constraints, so you might think it is reasonable to require them

[05:06:21.0000] <darobin>
that's true but I'm not sure it makes such a huge difference

[05:06:46.0000] <darobin>
if your constraints are limited to syntax, you're still missing all the constraints at the semantic level

[05:06:57.0000] <darobin>
unless you're talking about putting XML Schema in the loop

[05:08:19.0000] <hsivonen>
XML Schema is totally part of the Architecture! :-)

[05:43:47.0000] <darobin>
does anyone know a particularly nasty test to throw at idlharness.js? I want to break it as much as possible with the new parser

[05:50:17.0000] <zcorpan>
darobin: test all the specs :-P

[05:56:40.0000] <darobin>
zcorpan: at some point, I will, but in the meantime I'd like something smaller that can still be nasty :)

[05:56:55.0000] <darobin>
notably, so that I can run the tests faster and fix bugs

[06:10:11.0000] <annevk>
seems I hit a nerve on www-tag trash talking webarch

[06:12:43.0000] <darobin>
www-tag talking about webarch, that's new

[06:18:44.0000] <annevk>
smaug____: nodes have cycle detection?

[06:18:47.0000] <annevk>
smaug____: why is that?

[06:19:10.0000] <annevk>
smaug____: and where is that in the DOM specification? ...

[06:20:42.0000] <smaug____>
annevk: I mean if you have parent-child, you can't make that parent to be child of the child

[06:21:36.0000] <annevk>
smaug____: oh sure, but walking up the parent chain is always safe

[06:21:57.0000] <smaug____>
yes

[06:21:58.0000] <annevk>
smaug____: so you'd have logic for assigning .parent that would do the cycle detection?

[06:22:06.0000] <smaug____>
yes

[06:22:08.0000] <annevk>
hmm

[06:22:14.0000] <smaug____>
that same way nodes have

[06:22:34.0000] <smaug____>
when you insertBefore/appendChild

[06:22:50.0000] <annevk>
if you just pass the parent at construction time there's no need for any of that

[06:23:28.0000] <smaug____>
true

[06:53:30.0000] <zewt>
http://www.yellowcabaustin.com/ a certain lack of common sense in putting a phone number in an image

[06:58:52.0000] <Ms2ger>
Hmm, in Opera, NodeList.prototype.item === HTMLCollection.prototype.item

[07:05:07.0000] <AlmogBaku>
hello

[07:11:42.0000] <AlmogBaku>
Is somebody here?

[07:12:22.0000] <jgraham>
Everybody's dead, dave

[07:32:02.0000] <AlmogBaku>
:)

[07:38:50.0000] <AlmogBaku>
gi

[08:58:35.0000] <annevk>
EventReceiver is hard to spell

[08:58:38.0000] <annevk>
CustomEventTarget?

[08:59:52.0000] <darobin>
EventRecipient?

[09:00:20.0000] <annevk>
also hard to spell, no?

[09:00:56.0000] <darobin>
I don't find either hard to spell, so I might not be the best source here

[09:01:29.0000] <darobin>
I'd be more likely to misspell CustomEventTarget just due to length

[09:01:35.0000] <annevk>
heh

[09:02:34.0000] <annevk>
two subsequent vowels tend to be confusing, but maybe it's not a big deal

[09:08:26.0000] <annevk>
Is it just me being a bit confused with http://intertwingly.net/blog/2012/12/13/Changing-the-TAG ?

[09:08:42.0000] <annevk>
because if so, if someone could explain, I'm all ears :)

[09:10:27.0000] <darobin>
I think that Sam's seeing a red herring

[09:11:18.0000] <darobin>
well, at least for trivial IDLs I'm sort of surprised: updating idlharness to use WebIDL2.js was, like, less than ten lines of changes

[09:11:26.0000] <darobin>
/me is sure there are other issues lurking though

[09:34:36.0000] <Ms2ger>
TabAtkins, fwiw, anolis supports inter-document links ;)

[09:55:46.0000] <annevk>
ah, Sam explained, hurray

[09:58:41.0000] <annevk>
the +1 emails are starting to annoy me

[09:59:08.0000] <annevk>
when a group is large, they're just pointless and non-representative

[10:09:18.0000] <annevk>
smaug____: could you comment on https://www.w3.org/Bugs/Public/show_bug.cgi?id=19962 maybe?

[10:10:25.0000] <smaug____>
will do

[10:14:38.0000] <annevk>
smaug____: any ideas for an easier to spell EventReceiver btw? CustomEventTarget maybe?

[10:15:58.0000] <annevk>
smaug____: might take a while for me to get to that btw, I want to fix the cross-boundary event stuff first as that'll introduce some new terminology that'll make it easier to introduce it

[10:16:36.0000] <smaug____>
CustomEventTarget sounds ok too

[10:21:57.0000] <annevk>
ta

[10:23:55.0000] <tantek>
what makes it Custom?

[10:24:03.0000] <tantek>
are target/receiver synonymous in this context?

[10:25:50.0000] <annevk>
it's Custom because it's for use by developers to create their own event target chains without having to resort to "heavy weight" node objects

[10:26:01.0000] <annevk>
and yes, they are synonymous

[10:50:41.0000] <AlmogBaku>
?

[10:53:59.0000] <AlmogBaku>
hello everybody\

[11:14:06.0000] <Yuhong>
<darobin> hsivonen: I don't think so, that's something you'd normally get the TAG to write for you

[11:14:31.0000] <Yuhong>
http://www.w3.org/wiki/Evolution

[11:16:57.0000] <annevk>
what subtlety am I missing here?

[11:16:58.0000] <annevk>
var x = self; document.open(); w(x === self)

[11:22:24.0000] <Hixie>
annevk: what are you expecting and what are you getting?

[11:22:44.0000] <Hixie>
i would imagine that would return true, since x and self are both WindowProxy objects proxying the same underlying Window

[11:22:45.0000] <annevk>
I'm getting true, I was expecting false given that document.open() replaces the Window object

[11:22:53.0000] <annevk>
okay

[11:23:25.0000] <Hixie>
try something like   self.x = {}; var x = self; document.open(); w(x === self.x)

[11:23:29.0000] <annevk>
Hixie: well, it's not the same underlying Window

[11:23:45.0000] <annevk>
Hixie: does the "old" Window still have an associated Document object?

[11:24:47.0000] <Hixie>
the Document is associated with both Windows

[11:25:04.0000] <Hixie>
but what i meant was that the WindowProxy objects of x and self were the same WindowProxy object

[11:25:15.0000] <Hixie>
so regardless of what Window is active, they'll proxy the same window

[11:25:23.0000] <Hixie>
so if one changes, so does the other

[11:25:28.0000] <annevk>
right, understood

[11:26:13.0000] <annevk>
Hixie: does the spec make sure to identify the right window whenever there's talk about the document's associated Window? Or is that usually talking about the associated browsing context?

[11:26:39.0000] <Hixie>
i'm sure there are mistakes

[11:26:59.0000] <Hixie>
i haven't audited it

[11:27:28.0000] <Hixie>
i also need to audit the use of "entry script" vs "caller script" and "script origin" vs "script effective origin"

[11:30:05.0000] <annevk>
I'm glad both Windows are associated with the same Document, that will make XMLHttpRequest work at least

[11:32:09.0000] <annevk>
I guess at some point I should learn how all this works so I don't need to fact check everything all the time

[11:43:25.0000] <Hixie>
annevk: once you've learnt that, don't forget to teach me

[11:49:14.0000] <annevk>
http://i.imgur.com/hgBii.png o_O

[11:51:33.0000] <espadrine>
that's how babies learn their <main> purpose in life

[12:22:41.0000] <annevk>
I quite like how much progress we managed to make in the past couple of years. I still remember being told years ago that it would probably be very hard to update the DOM specifications to make getAttribute() return anything but a string, and make passing nodes across document boundaries not throw. Now it's no longer "can we update these specs", but rather "what do the specs need to say" which is so much better...

[12:31:28.0000] <annevk>
The Apple apologists would be a better read if every time they bring up Apple and privacy they also addressed that Apple still does not put the "Limit Ad Tracking" option under the Privacy tab in iOS but rather under General -> About -> (scroll all the way down) Advertising

[12:32:14.0000] <annevk>
http://www.loopinsight.com/2012/12/14/maps-blame-game/ is the latest in a series

[12:32:20.0000] <Hixie>
i still don't get how "give me ads that are less relevant" has any bearing on privacy

[12:32:35.0000] <Ms2ger>
Hixie, your views are known ;)

[12:32:43.0000] <annevk>
(I'm a happy iPhone fwiw)

[12:33:29.0000] <Ms2ger>
annevk, oh, can I have you? I could use one

[12:33:47.0000] <annevk>
hah, iPhone user*

[12:35:22.0000] <annevk>
Hixie: if it gets to the point where you could be profiled, it seems like it would impact my privacy

[12:35:36.0000] <Hixie>
"profiled"?

[12:35:46.0000] <Hixie>
maybe i don't understand what you mean by "privacy"

[12:38:29.0000] <annevk>
Hixie: since it's unclear what data is being stored, the data might lead back to me somehow, which I don't really like (although given the services I use I probably lost on that front already)

[12:38:46.0000] <Hixie>
"lead back to you" from where? for whom?

[12:39:44.0000] <annevk>
Hixie: from the data collected, by those who got access to the data

[12:40:02.0000] <Hixie>
wouldn't your IP be sufficient for that?

[12:40:15.0000] <Hixie>
i don't understand what we're worried about

[12:40:34.0000] <Hixie>
especially given that your phone company already knows your precise location at all times and that your credit card company knows everything you buy and that governments can subpeona those

[12:40:41.0000] <annevk>
I'm not worried, I just don't like it

[12:40:52.0000] <annevk>
I don't like that either :)

[12:41:30.0000] <annevk>
If I was worried I would be using Tor

[12:41:58.0000] <annevk>
but even that is not super I heard

[12:45:33.0000] <Hixie>
tor doesn't help you with the phone company or credit card company

[12:57:22.0000] <bholley>
Hixie: would it be possible to increase the MTU for whatwg digest emails?

[12:57:41.0000] <Hixie>
probably, what does that mean? :-)

[12:57:57.0000] <bholley>
Hixie: the "daily digest" mode sends more than one digest per day for "busy lists"

[12:58:04.0000] <bholley>
Hixie: and whatwg is very busy

[12:58:48.0000] <bholley>
Hixie: it seems to send out a new digest every 10 or so emails

[12:58:53.0000] <Hixie>
aah

[12:58:57.0000] <Hixie>
send me mail asking me ian⊙hc

[12:59:01.0000] <Hixie>
i'll do it after lunch

[12:59:03.0000] <Hixie>
bbiab

[12:59:05.0000] <bholley>
Hixie: thanks :-)

[15:00:53.0000] <annevk>
Ah yeah, HTTP headers are unordered I suppose, but order matters for duplicates at least...

[15:05:13.0000] <Hixie>
order matters for dupes in html attributes too

[15:05:16.0000] <Hixie>
at parse time :-)


2012-12-15
[19:18:24.0000] <Hixie>
annevk: how do i fullscreen with keyboard enabled??

[19:55:55.0000] <Hixie>
firefox doesn't support vh yet?

[19:55:57.0000] <Hixie>
:-(

[19:59:32.0000] <Hixie>
and wtf are event.x and event.y in MouseEvent in chrome

[19:59:57.0000] <zewt>
everyone knows what the world needs most is: more coordinate systems in pointer events

[20:10:48.0000] <Hixie>
also why is chrome sending me a bogus 'mouseover' event on load

[20:25:58.0000] <Hixie>
oh man i wish .style was string settable

[20:26:02.0000] <Hixie>
every

[20:26:02.0000] <Hixie>
time

[20:32:52.0000] <Hixie>
man, how is linear-gradient still only prefixed

[21:22:34.0000] <jwalden>
Hixie: vh/vw/vmin/vmax they're supported in nightlies

[21:22:43.0000] <Hixie>
ah, excellent

[21:22:50.0000] <jwalden>
a recent landing

[21:23:16.0000] <Hixie>
the only other problem i had with firefox was that position:absolute-ing a <textarea> wouldn't affect its size

[21:23:20.0000] <Hixie>
can't work out why

[21:23:42.0000] <Hixie>
(same problem in opera; works in webkit)

[21:24:20.0000] <jwalden>
zewt: of coarse!

[21:24:56.0000] <jwalden>
a little late to respond, but a late pun is better than no pun

[23:11:32.0000] <MikeSmith>
Hixie: thinking about outlines . did anybody ever propose the idea of providing a way for a document to display its own outline?

[23:12:31.0000] <MikeSmith>
essentialy, having the browser be able to natively render and insert the outline at some point in the document

[23:13:19.0000] <MikeSmith>
in the way that anolis or whatever generate a ToC and add it, during postprocessing

[23:13:35.0000] <MikeSmith>
but instead not as postprocessing

[23:14:08.0000] <MikeSmith>
and not relying on custom script or a script library to add it

[23:14:57.0000] <MikeSmith>
I'm not saying I think it would be a good idea necessarily to have such a feature

[23:15:12.0000] <MikeSmith>
just wondering if there was ever any serious discussion about it

[23:15:52.0000] <MikeSmith>
because for one thing if browser were to ever implement support for the outline algorithm, that case would seem to be the main case for it

[23:37:32.0000] <SimonSapin>
MikeSmith: not quite "the web", but WeasyPrint makes PDF from web pages and adds an "outline" which is metadata that PDF viewers often show in a sidebar

[23:38:17.0000] <MikeSmith>
SimonSapin: thanks

[23:38:33.0000] <SimonSapin>
there is also some demand to have a TOC automatically generated in the document

[23:39:07.0000] <MikeSmith>
yeah I was thinking about it in the context of people saying that no browsers have implemented the outline algorithm

[23:40:21.0000] <MikeSmith>
which yeah none of them have, but then there's no feature in the spec yet that actually exposes the outline to Web content or to Web authors

[23:40:37.0000] <MikeSmith>
so browsers don't really have anything to implement

[23:40:40.0000] <SimonSapin>
In WeasyPrint this is not based on the outline algorithm but on CSS bookmark-level http://dev.w3.org/csswg/css3-gcpm/#bookmarks which by default is <h1> ... <h6>

[23:41:20.0000] <MikeSmith>
yeah of course that works fine if you document doesn't use nested sections

[23:41:25.0000] <SimonSapin>
and some fixups to get a proper tree out of a sequence of level that can be non-sense

[23:41:31.0000] <MikeSmith>
section elements

[23:41:35.0000] <MikeSmith>
ok

[23:42:19.0000] <MikeSmith>
so anyway I can imagine that authors might like to have a way to automatically include a generated outline in a document

[23:42:32.0000] <MikeSmith>
including a ToC being the most common case

[23:42:57.0000] <SimonSapin>
yes, for printed stuff this is a big demand

[23:43:10.0000] <MikeSmith>
but I can't remember actually ever hearing many authors asking for it on the whatwg list or elsewhere

[23:45:58.0000] <SimonSapin>
for the web not as much I guess. But WeasyPrint/PrinceXML/Antenna House are tools for printing that happen to take HTML/CSS as input more than web browsers

[23:47:00.0000] <SimonSapin>
(although … http://weasyprint.org/docs/tutorial/#weasyprint-navigator :)

[23:58:36.0000] <SimonSapin>
MikeSmith: maybe an automated toc/outline could be a WebComponent, though I have to read up on what that is

[23:59:37.0000] <MikeSmith>
SimonSapin: I think for the non-Web case we don't need that feature as port of the browser engine

[00:00:13.0000] <MikeSmith>
because those are sorta really all post-processing tools

[00:12:58.0000] <SimonSapin>
MikeSmith: eventually (ie. given infinite time to work on it) I’d want to have that in WeasyPrint’s engine, not in a separate processing step. Maybe something you can trigger with CSS

[00:13:08.0000] <SimonSapin>
but yeah, the use cases are very different from browsers

[00:13:20.0000] <MikeSmith>
yeah

[02:20:14.0000] <annevk>
Hixie: you simply fullscreen

[02:53:35.0000] <Ms2ger>
I guess we should define that a Document has an origin

[03:12:39.0000] <annevk>
Ms2ger: the main problem is that you need some "HTML knowledge" to figure out which origin to copy

[03:13:07.0000] <annevk>
Ms2ger: "HTML knowledge" being that the global object has an associated Document object

[03:13:08.0000] <Ms2ger>
It's all quite tangled, isn't it?

[03:13:34.0000] <annevk>
This web we weave? Indeed sir, it is tangled.

[03:47:22.0000] <annevk>
Did I mention I dislike percent encoding?

[03:48:58.0000] <Ms2ger>
You might have

[04:22:08.0000] <annevk>
SimonSapin: percent decode will be defined to be what you wanted it to mean

[04:23:25.0000] <annevk>
So the only difference between urlencoded and query is that the former does magic with U+0020

[06:00:11.0000] <annevk>
fixing that was no fun

[13:54:34.0000] <yroc>
Hi all, I'm trying to write up some rationale in the wiki WRT content models

[13:55:46.0000] <yroc>
For one thing, I notice that flow content and palpable content are defined only by extension (listing of members).

[13:56:11.0000] <yroc>
No intensional definitions for these categories

[13:56:33.0000] <yroc>
Trying to understand meaning/motivation for these categories...

[13:56:38.0000] <yroc>
any pointers?

[14:43:40.0000] <Hixie>
poor yroc

[14:43:46.0000] <Hixie>
we keep missing each other


2012-12-16
[21:13:52.0000] <foobler>
Could anyone tell me what events can be bound to `window`?

[21:19:09.0000] <Hixie>
foobler: what do you mean by "bound"?

[21:20:19.0000] <Hixie>
(afk, bbl)

[22:02:39.0000] <foobler>
Hixie: well, what events can functions be bound to `window` as listeners for?

[15:56:43.0000] <GPHemsley>
The opinion of the WHATWG is that Chrome-in-IE is bad, right?

[15:57:06.0000] <zewt>
why would whatwg care?

[15:58:02.0000] <zewt>
(not that "whatwg" is an entity with a single opinion or anything :)


2012-12-17
[16:03:16.0000] <GPHemsley>
zewt: I'm not sure. I was thinking it would cause some sort of compatibility issue somewhere if a page included an X-UA-Compatible declaration that forced IE users into Chrome.

[16:03:39.0000] <GPHemsley>
(Though I suppose that would be a rather small set of users.)

[16:05:55.0000] <zewt>
don't really know what that means, but if it lets people stuck in IE8 to trick their incompetent employment overlords into letting them use something less broken, that seems like a win

[16:24:40.0000] <GPHemsley>
http://en.wikipedia.org/wiki/Google_Chrome_Frame

[01:57:48.0000] <Stevef_>
darobin_: note bugs I filed http://lists.w3.org/Archives/Public/public-html/2012Dec/0085.html are not directly related to general alt text advice clean up

[02:13:12.0000] <darobin>
Stevef_: yes, I noticed — thanks a lot!

[02:18:03.0000] <Stevef_>
darobin: don't think they are controversial since mostly about fixing inconsitiences with agreed upon conformance requirement

[02:18:58.0000] <darobin>
they didn't look controversial at first brush, I'll be looking at them more closely during the week

[03:32:32.0000] <Ms2ger>
darobin, fwiw, there's a TODO in idlharness about the parser not supporting legacycallers, but I couldn't care less about testing those :)

[03:40:05.0000] <darobin>
Ms2ger: yeah I saw that in a comment IIRC, but it's not something that I would see as a chart-topping feature request

[03:40:51.0000] <darobin>
one thing that wouldn't hurt would be a test suite for idlharness — but at some point I fear being trapped in an endlessly recursive reality

[03:42:12.0000] <zcorpan>
hsivonen: can the timeout be increased in v.nu? http://validator.nu/?doc=http%3A%2F%2Fwww.jabcreations.com%2F&schema=http%3A%2F%2Fs.validator.nu%2Fxhtml1-ruby-rdf-svg-mathml.rnc+http%3A%2F%2Fs.validator.nu%2Fxhtml10%2Fxhtml.sch+http%3A%2F%2Fc.validator.nu%2Fall-html4%2F&parser=xml&showsource=yes times out most of the time for me

[03:58:06.0000] <zcorpan>
filed a bug

[04:09:37.0000] <hsivonen>
zcorpan: didn’t time out for me now

[04:09:54.0000] <hsivonen>
zcorpan: but yeah, waiting on IO is cheap except takes up a thread

[04:10:25.0000] <hsivonen>
zcorpan: up until now, no one had complained about the timeouts, IIRC

[04:10:37.0000] <zcorpan>
hsivonen: doesn't for me now, either. but it did more than half of the time half an hour ago

[04:12:39.0000] <zcorpan>
hsivonen: timing out might be more expensive than not timing out since it probably causes the user to try again (and again) :-)

[04:16:40.0000] <hsivonen>
:-)

[04:17:00.0000] <hsivonen>
I’m mainly worried about all threads ending up waiting and the server hitting a thread number limit

[04:17:24.0000] <hsivonen>
(cue rant about Node.js vs. Java servlet threading model)

[04:29:17.0000] <annevk>
So I had plans to expand the URL API a bit. But maybe I should wait until the current one is implemented more widely?

[04:32:28.0000] <SimonSapin>
annevk: I guess it depends how big/valuable is what you want to add

[04:33:34.0000] <annevk>
Well, they're mostly ideas, in part based on what some libraries have out there and in part based on discussion with some of those library developers.

[04:33:56.0000] <annevk>
E.g. URL.isEqual(URL, options)

[04:34:47.0000] <annevk>
URL.segments (ideally returns a subclass of Array)

[04:34:57.0000] <annevk>
and maybe basename/dirname

[04:35:23.0000] <SimonSapin>
annevk: could these be left up to libraries?

[04:38:44.0000] <annevk>
SimonSapin: everything can :)

[04:39:02.0000] <annevk>
SimonSapin: but the whole reason we're adding new URL and such is because people prefer not to write and maintain those libraries

[04:40:26.0000] <annevk>
rwaldron: you around?

[04:41:03.0000] <annevk>
rwaldron: I was wondering if Object.observe is also available on Map/Array and such

[04:41:39.0000] <annevk>
rwaldron: and since you compare it with mutation observers in your post I wonder if it's related to the task queue or if it's immediate

[04:49:17.0000] <annevk>
oh

[04:49:38.0000] <annevk>
per https://mail.mozilla.org/pipermail/es-discuss/2012-August/024555.html "delivery is async-ish (huzzah!)" which is not acceptable :(

[04:50:44.0000] <annevk>
I wonder how it's even possible to define a feature like that in ECMAScript which has no concept of a task queue

[05:37:40.0000] <smaug____>
hmm, has some often used page stopped using mutation event listeneres

[05:38:04.0000] <smaug____>
based on telemetry data something changed mid September

[05:46:21.0000] <annevk>
sounds good

[06:27:14.0000] <annevk>
hmm, posted to es-discuss

[06:27:50.0000] <annevk>
http://img3.ranker.com/list_img/9660/549660/full/the-best-of-the-and-quot-i-don-t-know-what-i-m-doing-and-quot-meme.jpg seems applicable

[06:32:24.0000] <annevk>
I guess at some point I should also try to post about IDL so we can get past the "IDL is fugly" and instead do something productive

[06:38:34.0000] <rwaldron>
annevk re: set/map etc in Object.observe, no they are not yet part of the spec.

[06:39:09.0000] <annevk>
hmm, forgot to ask about the async stuff was envisioned

[06:39:35.0000] <annevk>
rwaldron: ah okay

[06:56:41.0000] <smaug____>
annevk: where do we do type conversion so that a new object is created? (assuming I've understood correctly the 'set blob, get entry in filelist')

[06:57:21.0000] <annevk>
smaug____: input.type = 5; input.type > "text" (I think)

[06:58:12.0000] <smaug____>
no objects created

[06:58:33.0000] <annevk>
why is that a criteria though?

[06:58:58.0000] <smaug____>
setter would always need to define how the new object is created

[06:59:04.0000] <smaug____>
and it just feels odd

[07:00:59.0000] <annevk>
seems natural to me :)

[07:01:32.0000] <annevk>
assign this object a list of Y objects; return a list of Y objects wrapped in a Z object

[07:01:53.0000] <smaug____>
nothing natural there :)

[07:02:18.0000] <annevk>
given how you implement get/set for attributes in JavaScript it's kinda normal too they're gonna do distinct things

[07:02:29.0000] <smaug____>
/me has the feeling he will not win this battle, since bz and sicking might want the feature

[07:03:20.0000] <smaug____>
annevk: that is no reason to make the default setters/getters to work in unexpected way

[07:04:05.0000] <annevk>
yeah, well, you also don't like putforwards, which I think is pretty great (and wish we had more, e.g. for .style)

[07:04:51.0000] <annevk>
I prefer convenience over artificial symmetry

[07:06:39.0000] <annevk>
whoa, original DOM had Range support for Attr

[07:06:42.0000] <annevk>
nuts I tell you

[07:08:25.0000] <Ms2ger>
Yeah

[07:10:42.0000] <darobin>
there isn't much that Attr didn't have

[07:10:56.0000] <Ms2ger>
Sanity

[07:11:01.0000] <darobin>
well, sanity...

[07:11:10.0000] <darobin>
heh, you beat me to it :)

[07:17:15.0000] <annevk>
I wonder if Indexed DB ended up removing DOMStringList

[07:18:05.0000] <annevk>
nope

[07:18:37.0000] <annevk>
CSSOM still has it too

[07:18:48.0000] <annevk>
Only Hixie removed it from HTML

[07:19:02.0000] <annevk>
Kinda tempted to remove it from DOM

[07:19:10.0000] <Ms2ger>
sgtm

[07:22:38.0000] <annevk>
boom

[08:48:56.0000] <marcosc>
Peoples, quick question... can adding a WebIDL serializer to an object cause conflicts with Web Workers? http://lists.w3.org/Archives/Public/public-audio/2012OctDec/0722.html

[08:50:37.0000] <Ms2ger>
... eh?

[08:51:51.0000] <marcosc>
Ms2ger: was that a response to me?

[08:52:22.0000] <annevk>
What's a serializer?

[08:52:48.0000] <marcosc>
annevk: .toJSON ... get you pointer ..one sec

[08:53:15.0000] <Ms2ger>
marcosc, no, that's nonsense

[08:53:39.0000] <marcosc>
annevk: http://dev.w3.org/2006/webapi/WebIDL/#dfn-serializer

[08:53:43.0000] <Ms2ger>
If input is a host object (e.g. a DOM node)

[08:53:47.0000] <Ms2ger>
      Throw a DataCloneError exception and abort the overall structured clone algorithm.

[08:54:22.0000] <marcosc>
right, that's what I thought

[08:54:55.0000] <marcosc>
thanks Ms2ger :)

[08:55:07.0000] <Ms2ger>
Np

[08:55:11.0000] <annevk>
so which objects use this serializer thingie?

[08:55:22.0000] <annevk>
and why isn't it called json?

[08:55:35.0000] <annevk>
heycam|away: if serializer is JSON, maybe name it that way?

[08:55:36.0000] <Ms2ger>
Performance should, but I don't think they bothered

[08:56:50.0000] <marcosc>
annevk: I think it's to do with getting for free from ES6

[08:57:05.0000] <annevk>
not following

[08:57:31.0000] <marcosc>
If I read WebIDL correctly, ES6 has a native .toJSON function on Object?

[08:57:43.0000] <annevk>
fwiw: http://dom.spec.whatwg.org/#introduction-to-dom-ranges

[08:59:04.0000] <Ms2ger>
Interesting example

[08:59:38.0000] <annevk>
took me ages to find something usable, at some point I figured an image and a sentence would do, which gave me w3cmemes :)

[09:02:00.0000] <annevk>
<- bad at examples

[09:09:35.0000] <dglazkov>
good morning, Whatwg!

[09:21:13.0000] <tantek>
good morning dglazkov!

[10:08:20.0000] <MikeSmith>
cool to see http://dom.spec.whatwg.org/#introduction-to-dom-ranges

[10:08:49.0000] <MikeSmith>
but dunno why you put the scary quotes in the heading

[10:09:53.0000] <MikeSmith>
annevk: ↑

[10:11:00.0000] <MikeSmith>
also "In the node tree above a range can be used" might would be nicer with a comma in there

[10:11:11.0000] <MikeSmith>
"In the node tree above, a range can be used"

[10:11:13.0000] <Hixie>
i think amazon may be in the process of updating their graphics assets

[10:11:33.0000] <annevk>
MikeSmith: I used the quotes in "The DOM" and "DOM Events" too

[10:11:41.0000] <annevk>
MikeSmith: because they're not quite the official name anymore

[10:11:44.0000] <Hixie>
as i'm going through checkout, it's alternating between 2008-style graphics and 1998-style graphics

[10:11:49.0000] <annevk>
MikeSmith: but still commonly used

[10:12:12.0000] <MikeSmith>
annevk: ah OK

[10:12:21.0000] <MikeSmith>
Hixie: weird

[10:12:21.0000] <annevk>
open to changing that though, will add the comma

[10:12:59.0000] <annevk>
MikeSmith: "Michael™ Smith" for ack right?

[10:13:04.0000] <MikeSmith>
annevk: speaking of weird, I notice some weird formatting after http://dom.spec.whatwg.org/#dom-range-startcontainer etc.

[10:13:08.0000] <MikeSmith>
annevk: yeah

[10:13:32.0000] <MikeSmith>
there's extra horizontal space after the dfn terms

[10:13:48.0000] <annevk>
that's an intentional <hr>

[10:13:50.0000] <annevk>
:)

[10:14:01.0000] <annevk>
to provide some space between related stuff

[10:14:03.0000] <MikeSmith>
oh but only in Chrome maybe

[10:14:27.0000] <annevk>
it matches the IDL formatting

[10:14:38.0000] <MikeSmith>
hmm went away after reload anyway

[10:14:41.0000] <annevk>
but subtle I suppose

[10:14:43.0000] <annevk>
bit*

[10:15:16.0000] <MikeSmith>
annevk: but what I was seeing was like an exta 2em of space after each one

[10:15:33.0000] <annevk>
after each? oh

[10:15:39.0000] <annevk>
sounds like a rendering glitch

[10:16:29.0000] <MikeSmith>
yeah

[10:17:14.0000] <MikeSmith>
anyway I also like the comment in the source with a link to w3cmemes

[10:17:19.0000] <MikeSmith>
more specs should have those

[10:18:01.0000] <matjas>
zcorpan: http://simon.html5.org/specs/quirks-mode says “This document has been superseded. See http://dvcs.w3.org/hg/quirks-mode/raw-file/tip/Overview.html.” but that URL is broken now

[10:18:32.0000] <Hixie>
(quirks.spec.whatwg.org in case you are still looking for it)

[10:19:18.0000] <matjas>
thanks

[10:20:02.0000] <annevk>
thanks for the feedback MikeSmith

[10:20:13.0000] <annevk>
adding a sentence on attributes now that I forgot, and your comma

[10:20:52.0000] <zcorpan>
matjas: i've tried to get that to redirect but failed

[10:20:55.0000] <Hixie>
MikeSmith: in case pubteam or whoever is in charge of mail archives doesn't read www-talk, someone is offering archive e-mail mboxes there for some historical lists

[10:21:12.0000] <MikeSmith>
Hixie: yeah saw that just now

[10:21:45.0000] <annevk>
whoa that's cool

[10:21:50.0000] <MikeSmith>
will forward it to the systems team

[10:22:11.0000] <annevk>
can someone ping me when they're up? :)

[10:22:34.0000] <annevk>
MikeSmith: committed

[10:26:13.0000] <MikeSmith>
annevk: cool

[10:26:38.0000] <MikeSmith>
I e-mailed systems team about the archives

[10:43:05.0000] <MikeSmith>
matjas: heycam|away made a patch that adds details+summary support to Gecko. I tried it with your http://mathiasbynens.be/demo/html5-details-jquery demo page and it works as expected except that the disclosure triangles aren't displayed

[10:43:24.0000] <MikeSmith>
but they are displayed if I turn off your CSS

[10:43:51.0000] <MikeSmith>
there are some try builds of it if you want to check

[10:43:52.0000] <MikeSmith>
https://bugzilla.mozilla.org/show_bug.cgi?id=591737#c22

[10:44:33.0000] <MikeSmith>
or can build from heycam|away patch https://bug591737.bugzilla.mozilla.org/attachment.cgi?id=692862

[14:41:27.0000] <annevk>
dglazkov: thanks for the reply

[14:43:48.0000] <annevk>
dglazkov: it might not be before mid-Feb or so that I'll fix DOM event handling, though now more of the details become clear maybe I can fit it in somehow sooner

[14:45:46.0000] <Hixie>
jonlee: yt?

[15:00:18.0000] <jonlee>
Hixie: pong

[15:00:44.0000] <annevk>
Anyone else reading http://www.w3.org/2001/tag/2012/12/13-minutes "who are we writing the architecture document for? I think we're writing it for young guys starting to create web sites"

[15:00:56.0000] <annevk>
?

[15:07:26.0000] <Hixie>
jonlee: hi

[15:07:35.0000] <jonlee>
Hixie: hello

[15:07:38.0000] <Hixie>
jonlee: i was told you are the person to talk to about context menus in html at apple

[15:08:10.0000] <Hixie>
jonlee: was wondering if you had any input on http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Nov/0369.html

[15:09:02.0000] <Hixie>
smaug____: btw, your continued input on http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Dec/0046.html would be most welcome

[15:09:05.0000] <jonlee>
Hixie: looking

[15:09:10.0000] <Hixie>
jonlee: thanks

[15:09:50.0000] <smaug____>
Hixie: will do later this night

[15:09:55.0000] <Hixie>
smaug____: awesome

[15:23:54.0000] <TabAtkins>
Is there a naming convention for enums in DOM?

[15:24:04.0000] <Hixie>
lowercase

[15:24:08.0000] <Hixie>
english

[15:24:16.0000] <Hixie>
one word, ideally

[15:24:18.0000] <TabAtkins>
I mean the identifier.  ^_^

[15:24:32.0000] <TabAtkins>
The enum's type, used in webidl.

[15:25:09.0000] <Hixie>
oh

[15:25:11.0000] <Hixie>
same as interfaces

[15:25:17.0000] <TabAtkins>
Okay.

[15:25:33.0000] <TabAtkins>
Was just making sure we didn't do something like pre/suffix them with "Enum" or something.

[15:25:40.0000] <Hixie>
not currently

[15:25:52.0000] <Hixie>
still early days though, if you want to try to start a convention :-)

[15:26:28.0000] <jwalden>
prefixes?  do not want

[15:26:49.0000] <TabAtkins>
I'd prefer not doing so.  Was just checking.

[15:27:03.0000] <TabAtkins>
/me is giving feedback on the Ambient Light API.

[15:53:17.0000] <Hixie>
lol

[15:53:22.0000] <Hixie>
w3c just violated the process again

[15:53:41.0000] <Hixie>
http://www.w3.org/2012/12/html5-cr http://goo.gl/mQ56m

[15:55:55.0000] <TabAtkins>
Wait, what?  It went to CR?

[15:58:17.0000] <zewt>
"html 5.1"? i have to say, the w3c is a fucking absurd joke


2012-12-18
[16:23:45.0000] <jamesr_>
well html 5.1 is technically a bigger number than html 5, so it must be better

[16:23:53.0000] <jamesr_>
by about 2%

[16:30:38.0000] <Hixie>
you have to wonder why the w3c expect anyone to respect their process when they themselves violate it so brazenly

[16:31:32.0000] <Hixie>
(and with such a high-profile spec, too)

[16:33:51.0000] <zewt>
i don't know anything about the contracts, but wouldn't violating process put the patent policy at risk? (and the patent policy is the only reason anyone pretends to care abuot the w3c anymore)

[16:34:06.0000] <zewt>
(or even about)

[16:34:14.0000] <TabAtkins>
I keep getting told that the patent policy relies, at least somewhat, on the process being followed, so maybe?

[16:34:25.0000] <Hixie>
i doubt it, given how widely they violate it

[16:34:27.0000] <smaug____>
rafaelw__: ping

[16:35:22.0000] <smaug____>
or anyone from webkit land

[16:35:26.0000] <smaug____>
https://trac.webkit.org/browser/trunk/Source/WebCore/dom/MutationCallback.idl#L34

[16:35:44.0000] <smaug____>
does that mean { handleEvent() {} } is supported as callback

[16:36:19.0000] <smaug____>
( bool? why does it return bool )

[16:46:27.0000] <smaug____>
the context is https://www.w3.org/Bugs/Public/show_bug.cgi?id=15695

[17:16:48.0000] <Yuhong>
On HTML5 CR, already posted this: http://slashdot.org/comments.pl?sid=3322379&cid=42320593

[19:00:13.0000] <Hixie>
anyone got a link to the public-html post where the wg chairs said that the web had already proved interoperability with things like the navigate algorithm so it didn't need testing?

[19:09:07.0000] <zewt>
are you putting together a collection of best hits?

[21:18:47.0000] <cabanier>
if a message to whatwg bounces because it is too larger, should I resent it or will it go through later?

[21:19:14.0000] <cabanier>
"Your mail to 'whatwg' with the subject

[21:19:14.0000] <cabanier>
    Re: [whatwg] Canvas-related feedback

[21:19:14.0000] <cabanier>
Is being held until the list moderator can review it for approval.

[21:19:14.0000] <cabanier>
The reason it is being held:

[21:19:14.0000] <cabanier>
    Message body is too big: 62553 bytes with a limit of 40 KB"

[21:19:45.0000] <cabanier>
I guess the mail thread is too large :-)

[21:25:11.0000] <heycam>
or you should be trimming your quotes!

[21:25:17.0000] <heycam>
:)

[21:26:28.0000] <cabanier>
I usually just reply in-line

[21:26:46.0000] <cabanier>
It was a monster email that hixie sent earlier. It's also not on the archive

[21:43:20.0000] <cabanier>
I guess I'll wait until tomorrow...

[22:58:41.0000] <MikeSmith>
Hixie: about https://www.w3.org/Bugs/Public/show_bug.cgi?id=20319

[22:58:48.0000] <MikeSmith>
the AAA parsing bug

[22:59:25.0000] <MikeSmith>
what should the expected DOM for <b><i><a><s><tt><div></b>first</b></div></tt></s></a>second</i> be?

[22:59:50.0000] <MikeSmith>
or is that actually you're asking in the related whatwg thread?

[23:01:05.0000] <MikeSmith>
when you asked if anybody had a preference for how it should be fixed

[23:03:32.0000] <Hixie>
not sure, but for sure the text node that says "first" should come before the text node that says "second"

[23:03:51.0000] <Hixie>
cabanier: trim your quotes

[23:04:04.0000] <Hixie>
cabanier: unless you literally replied to everything in the e-mail, but that seems unlikely :-)

[23:04:36.0000] <cabanier>
Hixie: OK. I will resend it tomorrow

[23:05:08.0000] <cabanier>
Hixie: no, I didn't reply to everything :-D

[23:14:14.0000] <MikeSmith>
Hixie: so if for now I hack a current parser to remove the limit on the inner loop and then check to see what DOM that produces, that's probably what we should end up with, right?

[23:14:44.0000] <MikeSmith>
I mean regardless of the specific way you end up fixing it in the spec

[23:15:20.0000] <MikeSmith>
I'm writing a test case and just need to know what expected results to put in the test case

[23:58:16.0000] <zcorpan>
Hixie: r7589: +    the top-left corner of this rectangle will be to the right and/or above the (<var

[23:58:30.0000] <zcorpan>
Hixie: you sure "right and/or above" is correct?

[23:59:03.0000] <Ms2ger>
No, "and/or" is always wrong :)

[23:59:33.0000] <zcorpan>
Ms2ger: why?

[23:59:41.0000] <Ms2ger>
It just means "or"

[00:01:05.0000] <zcorpan>
http://en.wikipedia.org/wiki/And/or

[00:04:20.0000] <zcorpan>
...though i can see that it should be avoided in specs for similar reasons it should be avoided in Wikipedia

[00:14:16.0000] <MikeSmith>
so, about the adoption-agency spec bug that causes text nodes to be misordered, the limit on the inner loop is the part that states, "If inner loop counter is greater than or equal to three, then go to the next step in the overall algorithm.", right?

[00:14:49.0000] <MikeSmith>
in http://www.whatwg.org/specs/web-apps/current-work/multipage/tree-construction.html#adoptionAgency

[00:18:09.0000] <MikeSmith>
and the part that corresponds to in the Gecko parser code is http://hg.mozilla.org/mozilla-central/file/2e70b718903a/parser/html/nsHtml5TreeBuilder.cpp#l3405

[01:11:53.0000] <zcorpan>
http://www.w3.org/mid/73AC3CEAEF48B3479D4671AE58094B03011B28C6⊙uPC - www-dom is not the right mailing list for this type of question, but what is the right mailing list?

[01:11:58.0000] <zcorpan>
help⊙wo?

[01:16:03.0000] <MikeSmith>
zcorpan: wasn't clear to me what source she was citing as far as the 'listed as W3C Standard = "No"' part

[01:16:15.0000] <MikeSmith>
I assumed MDN

[01:16:43.0000] <zcorpan>
MikeSmith: w3schools

[01:16:51.0000] <MikeSmith>
what treebuilder does html5lib use by default?

[01:16:55.0000] <MikeSmith>
zcorpan: ah

[01:17:06.0000] <jgraham>
MikeSmith: A built in one that is crappy

[01:17:34.0000] <MikeSmith>
zcorpan: so help⊙wo would definitely be a good place, I think

[01:18:38.0000] <MikeSmith>
jgraham: so to put it another way, what file in html5lib/treebuilders do I need to hack if I want to make a treebuilder change?

[01:19:03.0000] <MikeSmith>
or maybe I should feed it whatever switch to just tell it to use a better one

[01:19:09.0000] <jgraham>
We obviosuly need help-I-got-scammed-by-w3schools⊙wo

[01:19:17.0000] <MikeSmith>
then hack on the code for that other one

[01:19:28.0000] <jgraham>
MikeSmith: What are you trying to achieve?

[01:20:23.0000] <MikeSmith>
I want to change the code to not have the "If  inner loop counter is greater than or equal to three, then go to the next step in the overall algorithm."

[01:20:41.0000] <MikeSmith>
to ignore that part of the spec

[01:20:49.0000] <MikeSmith>
so that there's no limit

[01:21:23.0000] <MikeSmith>
ah simpleTree

[01:21:30.0000] <zcorpan>
change the limit to +Inf

[01:23:02.0000] <darobin>
MikeSmith: I don't have the context for your problem, but re picking a different treebuilder, you can html5lib.html5parser.HTMLParser(tree = html5lib.treebuilders.getTreeBuilder('lxml'))

[01:23:03.0000] <jgraham>
MikeSmith: That's not specific to a treebuilder

[01:23:17.0000] <jgraham>
That's part of the general implementation

[01:23:48.0000] <MikeSmith>
darobin: ok

[01:24:01.0000] <MikeSmith>
jgraham: yeah, I'm seeing that now

[01:24:10.0000] <MikeSmith>
will explore furthere

[01:24:43.0000] <zcorpan>
http://code.google.com/p/html5lib/source/browse/python/html5lib/treebuilders/_base.py#110 ?

[01:25:21.0000] <jgraham>
http://code.google.com/p/html5lib/source/browse/python/html5lib/html5parser.py#1499

[01:25:27.0000] <MikeSmith>
didn't look there but I think

[01:25:37.0000] <MikeSmith>
jgraham: yeah there

[01:26:19.0000] <jgraham>
zcorpan's line implement's Noah's Ark iirc

[01:26:27.0000] <zcorpan>
ah

[01:26:46.0000] <MikeSmith>
ok that did the trick

[01:27:35.0000] <MikeSmith>
so for the record, without the depth limit, <b><i><a><s><tt><div></b>first</b></div></tt></s></a>second</i> just becomes <b><i><a><s><tt></tt></s></a></i></b><i><a><s><tt><div><b></b>first</div></tt></s></a>second</i>

[01:33:11.0000] <Stevef_>
darobin: any thoughts on HTML5 CR publication violating W3C process? seen a few comments on it

[01:34:39.0000] <Ms2ger>
"Eh, process"

[01:43:58.0000] <darobin>
Stevef_: is *shrug* a thought?

[01:44:30.0000] <Stevef_>
darobin: sure

[01:45:28.0000] <darobin>
Stevef_: I've never been a process literalist, when chair I always told my groups that the only parts that truly matter are those that enforce RF

[01:46:48.0000] <MikeSmith>
.me finds equivalent WebKit parser bits in https://github.com/WebKit/webkit/blob/master/Source/WebCore/html/parser/HTMLTreeBuilder.cpp#L1519 and https://github.com/WebKit/webkit/blob/master/Source/WebCore/html/parser/HTMLTreeBuilder.cpp#L1562

[01:46:50.0000] <nimbu>
guize does this have precedence in standards? http://trac.webkit.org/changeset/136744

[01:46:56.0000] <nimbu>
MikeSmith: ^

[01:47:12.0000] <Stevef_>
darobin: onlt wondered as was unclear whether the concerns are meaningful or process trolling

[01:47:34.0000] <darobin>
Stevef_: as far as I'm concerned if it doesn't affect RF it's not meaningful

[01:47:57.0000] <MikeSmith>
nimbu: I read the words but I don't understand what that change is doing. Is it for bad or for good?

[01:48:02.0000] <darobin>
it might not be trolling, but it's not a very useful position either

[01:48:19.0000] <nimbu>
MikeSmith: it sez pseudo elements are now in DOM

[01:48:26.0000] <nimbu>
it makes me worry its bad.

[01:48:36.0000] <nimbu>
although I have no rational reason for my stress

[01:49:05.0000] <MikeSmith>
if it's bad for interop then I think it's bad

[01:49:07.0000] <Stevef_>
darobin: back to real work then... I have some further thoughts on how to resolve alt text impasse will share with the class when  I get a chance

[01:49:24.0000] <nimbu>
MikeSmith: i dont think any other browser does this.

[01:49:42.0000] <darobin>
Stevef_: exactly! some people complain that CR has bugs, others complain that it's not shipping fast enough — me, I just want to work on stuff

[01:50:05.0000] <nimbu>
beverloo: beverloo-: plz explain http://trac.webkit.org/changeset/136744

[01:50:18.0000] <nimbu>
(on email if I am not online beverloo beverloo-

[01:50:20.0000] <darobin>
Stevef_: please share as soon as you have a chance!

[01:50:24.0000] <Stevef_>
btw: thanks for the thumbs up for <main> in your post, appreciated

[01:50:33.0000] <MikeSmith>
nimbu: it's not clear to me that it gets exposed to Web content or whether it's just an internal implementation design choice. But on the face of it does seem like it would be exposed

[01:50:38.0000] <darobin>
Stevef_: hey, no need to thank me, it just happens to be what I think

[01:51:06.0000] <nimbu>
MikeSmith: oic. i hope not.

[01:51:08.0000] <darobin>
you can thank Bruce for reminding me I'd actually written about the bar for inclusion of semantic elements before :)

[01:51:37.0000] <Steve^>
Hi, I'm a little confused by the phrasing of "Except where otherwise specified, the alt attribute must be specified and its value must not be empty"

[01:51:53.0000] <darobin>
Steve^: please meet Stevef_

[01:52:05.0000] <darobin>
(and Moo is very cool btw)

[01:52:12.0000] <Steve^>
It is valid for an alt attribute to be empty? The examples suggest so, but the wording of that sentence immediately makes me feel not

[01:52:15.0000] <Moo^_^>
darobin: what?

[01:52:15.0000] <Stevef_>
darobin: i realise that but as we say in in the HTML WG "silence = assent, but positive responses encouraged" or some such :-)

[01:52:22.0000] <Moo^_^>
thank you

[01:52:44.0000] <darobin>
Stevef_: hehehe

[01:53:01.0000] <darobin>
Moo^_^: lol, sorry, I was referring to "~stephen⊙omc" <-- this Moo

[01:53:09.0000] <jgraham>
nimbu: Without knowing anything about how WebKit works I would bet money that these are "hidden" DOM nodes, so that DOM methods skip over them

[01:53:10.0000] <darobin>
but hey, I'm pretty damn sure you're very cool too

[01:53:57.0000] <Stevef_>
Steve^: it is valid for it to be empty alt="" under certain circumstances this explains when in detail: http://dev.w3.org/html5/alt-techniques/#secm3

[01:54:26.0000] <Steve^>
Stevef_, but it must always be specified?

[01:55:14.0000] <jgraham>
nimbu: Yes, look at the diff in Node.cpp

[01:55:26.0000] <nimbu>
jgraham: ah k. thanks.

[01:55:44.0000] <nimbu>
jgraham: so this is just an implementation thing.

[01:56:20.0000] <Stevef_>
Steve^: depends on which spec you prefer W3C HTML5 says it must always be specified unless the image is a child of a figure element with a non empty figcaption, WHATWG HTML says otherwise

[01:57:42.0000] <MikeSmith>
ok for the AAA bug hacking the WebKit parser to ignore the limit results as expected in the same DOM as I got from hacking html5lib. Still trying to figure out where in the Gecko parser code to touch

[01:57:56.0000] <jgraham>
nimbu: I am pretty sure it is. But eseidel hangs out here sometimes I think

[01:58:33.0000] <Stevef_>
Steve^: so you can choose you brand, its a lifestyle choice

[02:00:48.0000] <nimbu>
jgraham: k thank you!

[02:02:15.0000] <MikeSmith>
http://hg.mozilla.org/mozilla-central/file/2e70b718903a/parser/html/nsHtml5TreeBuilder.cpp#l3284

[02:02:30.0000] <MikeSmith>
that file seems to have an aversion to comments

[02:03:17.0000] <Ms2ger>
Might be that the code translator removes comments?

[02:03:51.0000] <MikeSmith>
nimbu: ​also esprehn is around on #webkit during west-cooast hours

[02:03:56.0000] <MikeSmith>
or some hours

[02:04:14.0000] <MikeSmith>
Ms2ger: yeah I had the same thought. Looking at the Java sources now

[02:05:21.0000] <Ms2ger>
Not much better

[02:05:21.0000] <Stevef_>
thanks go to hixie for changing Bruce lawsons mind about <main> http://www.brucelawson.co.uk/2012/why-changed-mind-about-main-element/ ;-)

[02:08:33.0000] <Steve^>
Stevef_, I imagine the solution for the former is to use CSS for decorational images instead?

[02:09:42.0000] <Stevef_>
Steve^: thats one solution yes

[02:10:10.0000] <MikeSmith>
Ms2ger: yeah, just looked at http://hg.mozilla.org/projects/htmlparser/file/cdb5527b1855/src/nu/validator/htmlparser/impl/TreeBuilder.java#l4373

[02:10:20.0000] <Steve^>
Stevef_, I think in the 10 minutes I was away from my desk I forgot what question I asked.. is the distinction between the two specs the set/not set of the alt attribute, or the empty/filled of the attribute?

[02:10:57.0000] <MikeSmith>
Ms2ger: Henri's not super fond of comments

[02:12:25.0000] <Ms2ger>
So it appears

[02:12:44.0000] <Ms2ger>
darobin, so, any ideas on how to shout down Kris? ;)

[02:12:59.0000] <jgraham>
"la la la, I can't hear you"?

[02:13:41.0000] <MikeSmith>
anyway, after hacking in the right place, Gecko parser as expected also producing same result for that unlimited-depth AAA case

[02:13:53.0000] <darobin>
Ms2ger: well, if we're all agreed on what we want, maybe we can avoid shouting :)

[02:14:09.0000] <Stevef_>
Steve^: one of the differences between the 2 specs is that WHATWG spec makes it conforming to use the title attribute when no alt or empty alt is present so you can do this <img title="poot">, you can also do this <img alt="" title="poot">

[02:14:39.0000] <darobin>
the chair's role is to declare consensus; if everyone but the chair agrees on something then that's the consensus the chair agrees to

[02:14:49.0000] <darobin>
if that doesn't work, well... we have a problem

[02:16:51.0000] <jgraham>
Maybe we can threaten to chop up the chair for firewood

[02:17:29.0000] <MikeSmith>
briar patch

[02:20:47.0000] <Workshiva>
Is it legit to have <time datetime="something real"></time> to produce metadata without rendering anything?

[02:22:34.0000] <MikeSmith>
Workshiva: yeah

[02:22:52.0000] <MikeSmith>
it's valid at least

[02:23:01.0000] <Workshiva>
It feels icky

[02:23:36.0000] <MikeSmith>
well I think the whole <time> element is icky and I wish it didn't exist

[02:24:39.0000] <MikeSmith>
that example is minor ickiness compared to the grand baroque ickiness that element overall achieves

[02:27:51.0000] <Workshiva>
I don't see any grand baroque ickiness with the element in general, but maybe it requires prolonged exposure

[02:29:02.0000] <MikeSmith>
heh

[02:29:20.0000] <MikeSmith>
yeah that could be it

[02:42:49.0000] <darobin>
that works for pretty much any element, though

[02:50:35.0000] <annevk_>
MikeSmith: they wouldn't expose it in the DOM

[02:50:59.0000] <annevk>
MikeSmith: it can be more convenient to implement it that way, that's all

[02:53:08.0000] <annevk>
darobin: "work on stuff" is kinda vague, but I assume that means copy & paste? ;)

[02:53:23.0000] <MikeSmith>
annevk: you mean the WebKit change that Divya mentioned?

[02:53:28.0000] <annevk>
MikeSmith: yeah

[02:53:34.0000] <MikeSmith>
ah yeah

[02:53:35.0000] <MikeSmith>
ok

[02:54:03.0000] <darobin>
annevk: are you kidding? that's way too much work

[02:54:07.0000] <annevk>
you just create some special node that normal traversal does not go through

[02:54:09.0000] <darobin>
I write tools that do that automatically

[02:54:26.0000] <MikeSmith>
annevk: I see

[02:55:01.0000] <annevk>
I assume that's the way they've done it, haven't actually looked at the patch

[02:55:52.0000] <MikeSmith>
makes sense

[03:02:33.0000] <Ms2ger>
darobin, congratulations on your meaningless milestone, btw

[03:02:54.0000] <darobin>
Ms2ger: I live to please you

[03:03:08.0000] <Ms2ger>
Oh, in that case...

[03:03:12.0000] <Ms2ger>
Let's keep tests in hg

[03:03:24.0000] <darobin>
sadly, you got your quota this year

[03:03:33.0000] <Ms2ger>
Dammit

[03:04:39.0000] <annevk>
hard to stop the git train, way more likely to get crushed

[03:08:40.0000] <Ms2ger>
Mm, a chaotic strange Magi attractor around the North Pole

[03:09:01.0000] <darobin>
well, if hg is an option we could also just share an NTFS mount somewhere

[03:09:37.0000] <Ms2ger>
/me pats darobin on the back

[03:09:52.0000] <Ms2ger>
Oh, I was holding a dagger? Sorry about that

[03:10:11.0000] <darobin>
it tickles

[03:10:31.0000] <Ms2ger>
You must be used to getting stabbed in the back by git

[03:11:35.0000] <jgraham>
Now you have lost me

[03:11:46.0000] <jgraham>
Are you representing git in this parable?

[03:12:14.0000] <Ms2ger>
Git, like myself, is quite violent to its users, is the point

[03:13:49.0000] <jgraham>
You have users?

[03:13:54.0000] <MikeSmith>
and also git is really oblique and hard to understand when it speaks metaphorically, like Ms2ger

[03:14:07.0000] <annevk>
just download GitHub.app and live in ignorance :)

[03:14:51.0000] <Ms2ger>
MikeSmith, :)

[03:16:09.0000] <darobin>
I think I need to make "it’s in the gnostic gospels somewhere" part of my top go-to sentences

[03:16:25.0000] <Ms2ger>
darobin++

[03:35:05.0000] <rizlah>
Why isn't the HTML5 standard released in pdf ?

[03:35:45.0000] <jgraham>
Because we don't have a sufficiently finely developed sense of irony.

[03:38:22.0000] <zcorpan>
it was at some point but it was disabled because it took too much resources of the server to generate, or some such

[03:38:55.0000] <zcorpan>
i recall someone being interested in taking over that part, but dunno if anything came of it

[03:39:12.0000] <jgraham>
That was never true of the W3C copy though, was it?

[03:39:58.0000] <rizlah>
But the final has been released, so I guess you only have to generate it once now.

[03:40:34.0000] <jgraham>
No, that is a misconception from several points of view

[03:40:55.0000] <jgraham>
What the W3C has released is a CR

[03:41:13.0000] <jgraham>
Which will continue to get bugfixes over the coming years

[03:41:57.0000] <jgraham>
What the world uses to develop web browsers is a living standard, which gets (mostly) the same bugfixes plus extra bug fixes, plus new features on a daily basis

[03:42:12.0000] <rizlah>
I see

[03:42:33.0000] <jgraham>
The CR copy is almost the worst document to look at

[03:42:59.0000] <rizlah>
So I should look at the TR?

[03:43:06.0000] <Ms2ger>
No

[03:43:10.0000] <Ms2ger>
The LS

[03:43:19.0000] <jgraham>
You should look at http://html.spec.whatwg.org

[03:43:42.0000] <jgraham>
Oh

[03:43:47.0000] <jgraham>
Unless you are a lawyer

[03:43:57.0000] <jgraham>
In which case please feel free to look at the CR

[03:44:16.0000] <rizlah>
http://www.whatwg.org/specs/web-apps/current-work/multipage/

[03:44:31.0000] <SimonSapin>
I’m getting a 404 on http://html.spec.whatwg.org/images/logo

[03:44:36.0000] <SimonSapin>
used on http://html.spec.whatwg.org/

[03:44:51.0000] <jgraham>
SimonSapin: Me too

[03:45:07.0000] <jgraham>
I wonder if it moved to resources.whatwg.org or whatever

[03:45:50.0000] <Ms2ger>
Mm

[03:46:05.0000] <Ms2ger>
The HTML spec expects to load from http://www.whatwg.org/

[03:46:11.0000] <Ms2ger>
And http://www.whatwg.org/images/logo is fine

[03:46:42.0000] <darobin>
rizlah: that said, if you insist on getting a PDF version, you can normally append ",pdf" to any URL in W3C-space and get the PDF version

[03:46:49.0000] <darobin>
I say normally because right now it seems broken

[03:47:14.0000] <darobin>
I'm also not sure how long it would take to process the single page spec, that would be a nice test of Prince

[03:48:19.0000] <jgraham>
/me does find it strange that it is all the same people that object to the W3C process as heavyweight that object when it isn't precisely followed

[03:49:23.0000] <jgraham>
Although of course presenting cases of the Process not being followed as evidence that the Process needs to change is fine

[03:51:37.0000] <Ms2ger>
It also seems to be the people who block changes to the Process who are best at ignoring it

[03:54:00.0000] <annevk>
html.spec is not really ready yet

[03:54:05.0000] <annevk>
use whatwg.org/html

[03:54:57.0000] <Ms2ger>
Or fix it, I guess

[03:55:16.0000] <darobin>
jgraham: I think that was the basis for http://w3cmemes.tumblr.com/post/34823664715/it-seems-that-the-people-who-most-enjoy

[03:55:29.0000] <annevk>
jgraham: I think the complaint is that the Process is artificially enforced

[03:56:00.0000] <annevk>
jgraham: It's followed whenever it suits the gatekeepers and ignored whenever it doesn't

[03:56:13.0000] <annevk>
jgraham: And that's frustrating

[03:56:14.0000] <Ms2ger>
And perhaps that things that aren't actually in the process are enforced as if they were

[03:56:15.0000] <jgraham>
annevk: I don't understand. What does it mean for something to be "artificially" enforced?

[03:56:24.0000] <annevk>
jgraham: maybe I'm using the wrong English word

[03:56:37.0000] <Ms2ger>
jgraham, inconsistently?

[03:56:48.0000] <jgraham>
That would make more sense

[03:57:04.0000] <jgraham>
Anyway, I don't exactly love the Process

[03:57:04.0000] <darobin>
well, there's a problem with complaining about "inconsistently"

[03:57:08.0000] <darobin>
I don't either

[03:57:17.0000] <annevk>
One of the meanings of artificial is "Not genuine"

[03:57:37.0000] <annevk>
which is kinda what I meant, but maybe it cannot be used in that way

[03:57:40.0000] <darobin>
you don't want a process that's enforced slavishly anymore than you want to replace judges by robots

[03:58:22.0000] <darobin>
as chair, I've only ever used process when a) RF was involved, or b) there was a serious problem

[03:58:27.0000] <darobin>
(almost no b)

[03:58:27.0000] <jgraham>
But I don't think that kicking up a fuss every time that something happens that would be OK per some ideal process but not OK per the letter of the current Process is a good way to convince people that the Process is broken

[03:58:41.0000] <darobin>
yeah, it won't convince anyone

[03:58:56.0000] <jgraham>
It does seem like a good way to get a reputation for being whiny

[03:59:01.0000] <darobin>
the process could use reform, but a literalist reading won't convince anyone

[03:59:02.0000] <annevk>
I don't really think anyone is kicking up a fuss

[03:59:07.0000] <annevk>
At least I haven't seen any

[03:59:14.0000] <Ms2ger>
Well, an ideal process wouldn't have CR at an arbitrary point

[03:59:15.0000] <annevk>
Just a couple of irony remarks on IRC

[03:59:41.0000] <jgraham>
TabAtkins was bitching on twitter, for example

[04:00:20.0000] <Ms2ger>
Would your ideal process involve labeling something as "final" with a hundred open bugs?

[04:00:33.0000] <jgraham>
My ideal process wouldn't label things final

[04:00:38.0000] <jgraham>
So, uh, mu?

[04:01:00.0000] <annevk>
jgraham: given that Tab is mostly with CSS and CSS indeed follows the Process to the letter, it seems he's entirely justified to me

[04:01:16.0000] <annevk>
CSS WG loves Process

[04:01:36.0000] <jgraham>
Well it is true that's a deficiency of the CSS WG

[04:01:51.0000] <Ms2ger>
/me will not comment on the implementability of CSS2.1

[04:02:06.0000] <jgraham>
But I think TabAtkins is not the most process-hungry member of that group

[04:02:14.0000] <SimonSapin>
Ms2ger: why not?

[04:02:28.0000] <annevk>
SimonSapin: it's a running gag

[04:02:48.0000] <SimonSapin>
it was painful, but I did implement most of it

[04:03:38.0000] <Ms2ger>
Would you say the spec is sufficient to implement something that somewhat accurately renders the web?

[04:04:22.0000] <SimonSapin>
I guess that would require a quirks mode, which I don’t really care about

[04:04:37.0000] <annevk>
or like, table rendering rules

[04:04:38.0000] <SimonSapin>
(and which is not specified at all)

[04:04:49.0000] <Ms2ger>
Quirks mode is well specified

[04:04:57.0000] <SimonSapin>
oh yeah, tables. These are missing

[04:05:05.0000] <SimonSapin>
Ms2ger: where?

[04:05:15.0000] <jgraham>
SimonSapin: (the short answer seems to be "no" then ;)

[04:05:22.0000] <Ms2ger>
http://quirks.spec.whatwg.org/ has some

[04:05:43.0000] <SimonSapin>
including for the parts on layout or anything CSS ?

[04:05:56.0000] <Ms2ger>
DOM, HTML, CSS3-Syntax all define their own quirks

[04:06:26.0000] <darobin>
we should call all this stuff "quirks" rather than "standards"

[04:06:41.0000] <darobin>
would make a lot of the world more meaningful

[04:06:47.0000] <Ms2ger>
DOM - Living Quirk

[04:06:48.0000] <SimonSapin>
thanks Ms2ger, I didn’t know about http://quirks.spec.whatwg.org

[04:06:54.0000] <Ms2ger>
Np :)

[04:06:56.0000] <darobin>
International Quirks Organisation

[04:07:19.0000] <darobin>
"Yeah you can do that, but it's not quirky"

[04:07:32.0000] <annevk>
The IQ Organization?

[04:07:38.0000] <Ms2ger>
Your reasoning is based on aesthetics?

[04:07:38.0000] <annevk>
oh the puns

[04:07:40.0000] <darobin>
annevk: fit inrony

[04:08:15.0000] <darobin>
"that's a very interesting idea, we should quirk it"

[04:08:19.0000] <darobin>
Ms2ger: reasoning?

[04:15:21.0000] <Ms2ger>
http://lists.w3.org/Archives/Public/public-whatwg-archive/2010Dec/0141.html

[04:16:41.0000] <darobin>
heh

[04:29:21.0000] <annevk>
So a dictionary has an enum. The dictionary is used in a constructor. I don't specify the enum member of the dictionary. What value does it have?

[04:30:50.0000] <darobin>
annevk: I'm assuming no default value has been specified?

[04:30:59.0000] <annevk>
right

[04:31:42.0000] <darobin>
null I would assume

[04:32:56.0000] <annevk>
enum cannot be null

[04:33:35.0000] <annevk>
but the issue here was indeed that the spec didn't define the default value for the event interface

[04:33:42.0000] <annevk>
nobody really knows what they're doing it seems

[04:34:42.0000] <darobin>
but dictionary values can always be null

[04:34:56.0000] <darobin>
(IIRC)

[04:35:05.0000] <darobin>
they're always optional, unless you provide a default

[04:35:12.0000] <darobin>
that said, maybe it would be undefined

[04:35:24.0000] <darobin>
WebIDL doesn't have an ES binding section on dictionaries :)

[04:35:25.0000] <annevk>
no, I think they'd just be missing, not null explicitly

[04:35:48.0000] <darobin>
yeah

[04:36:01.0000] <darobin>
but I can't see anywhere in WebIDL that actually says that

[04:37:22.0000] <Ms2ger>
Yeah, missing

[04:38:02.0000] <Ms2ger>
"Let present be false if Type(V) is Undefined or Null, or the result of calling the [[HasProperty]] internal method on V with property name key otherwise."

[04:38:34.0000] <Ms2ger>
And

[04:38:36.0000] <Ms2ger>
"Let dict be an empty dictionary value of type D; every dictionary member is initially considered to be not present."

[04:39:06.0000] <Ms2ger>
http://dev.w3.org/2006/webapi/WebIDL/#es-dictionary

[04:40:09.0000] <darobin>
mmmmm

[04:40:13.0000] <darobin>
/me *facepalm*

[04:40:32.0000] <darobin>
Cmd-G shows I was grepping for ditcionary in there...

[04:41:20.0000] <annevk>
specs are written in English darobin

[04:42:01.0000] <darobin>
yeah, I resent that

[04:42:24.0000] <darobin>
we should just make one big piece of JS implementing everything

[04:42:25.0000] <Ms2ger>
Should be written as a list of git commands

[04:42:40.0000] <darobin>
and then people could port that to their own ancient languages like C++ or Latin

[05:04:11.0000] <annevk>
ah man, someone reopened that attribute order bug

[05:05:15.0000] <annevk>
hmm https://github.com/lachlanhunt/dom/branches seems kinda dead again

[05:05:44.0000] <annevk>
what happened Lachy?

[05:06:30.0000] <Lachy>
annevk, what happened with what?

[05:07:46.0000] <Lachy>
it's not dead. I just haven't had any commits there in the last 2 weeks as I've been doing other things.

[05:13:06.0000] <Lachy>
annevk, right now, my current plan is to back port all the changes I made to selectors API in the DOM spec, back into the current selectors api 2 draft, and then make necessary changes based on Mozilla's recent feedback, so that at least it's documented somewhere.

[05:14:13.0000] <Lachy>
Then, when you've made your planned changes we talked about before we merge selectors api into dom, it'll be easier to do.

[05:59:09.0000] <annevk>
those changes have been made a while back

[06:08:52.0000] <zcorpan>
boblet: "postMessage for server communication" ? http://www.netmagazine.com/features/top-20-html5-sites-2012

[06:10:50.0000] <annevk>
HTML helps polishing? Weird stuff

[06:11:18.0000] <annevk>
Repeat after me: HTML5 HTML5 HTML5

[06:11:20.0000] <annevk>
Feel better?

[06:11:59.0000] <zewt>
but it's html5.1 now!!!

[06:12:23.0000] <annevk>
what can I say? It worked for me

[06:14:57.0000] <zcorpan>
cue all html book authors giving out new editions with s/HTML5/HTML5.1/ in the next few weeks

[06:15:23.0000] <annevk>
matjas: do you know if the Punycode stuff you wrote is used in the wild? I wonder (again, I know) whether to add API surface for it

[06:16:02.0000] <matjas>
annevk: node uses it internally for anything that involves URLs

[06:16:43.0000] <matjas>
annevk: and URI.js and some other open-source projects depend on it

[06:16:46.0000] <annevk>
matjas: yeah that makes sense, going forward the URL parser should handle that for them

[06:17:23.0000] <matjas>
annevk: but having a native API for the raw Punycode stuff would be immensely useful

[06:17:48.0000] <zewt>
i wonder who it is that's responsible for the "uri" nonsense in the first place, eg. the idea that we need a new name for what is in reality something no real people make a distinction about

[06:17:51.0000] <annevk>
Useful for what though?

[06:18:34.0000] <smaug____>
annevk: any comments to https://www.w3.org/Bugs/Public/show_bug.cgi?id=15695?

[06:19:04.0000] <annevk>
zewt: Oh, in the beginning we had URLs expanded, with L meaning Locators, then came the idea we could use them as identifiers, and people thought that was such a breakthrough idea it warranted a new name...

[06:19:14.0000] <smaug____>
or perhaps I'll just change Gecko's behavior to follow the current spec

[06:19:24.0000] <zcorpan>
zewt: didn't mattur or someone find an email where it was first (?) suggested to rename "url" because there were no versions, or some such?

[06:19:58.0000] <Ms2ger>
darobin, ping

[06:20:02.0000] <annevk>
smaug____: Web IDL requires specs to not use interface for callbacks with a single method (unless there's a backcompat reason)

[06:20:13.0000] <darobin>
Ms2ger: on phone, bbiab

[06:20:15.0000] <annevk>
smaug____: so I'm inclined to leave it as WONTFIX

[06:20:28.0000] <smaug____>
but in WebIDL ;) but ok

[06:20:36.0000] <smaug____>
s/but/bug/

[06:20:58.0000] <annevk>
s/bug/bug in smaug____'s mind/

[06:21:07.0000] <annevk>
;)

[06:21:39.0000] <zewt>
oh god not the objects-as-callbacks thing again :P

[06:44:25.0000] <annevk>
oops

[06:44:34.0000] <annevk>
forgot to reply to some ancient Fullscreen feedback

[06:44:37.0000] <annevk>
my apologies!

[06:45:39.0000] <annevk>
btw, does Opera do fullscreen?

[06:49:16.0000] <darobin>
Ms2ger: back, sorry

[06:50:19.0000] <Ms2ger>
darobin, so, your idlharness update

[06:50:26.0000] <Ms2ger>
Does it handle callbacks?

[06:52:20.0000] <darobin>
Ms2ger: the only thing I've done so far is make it run on the new parser

[06:52:31.0000] <darobin>
so the parser handles them, but it won't generate any tests

[06:52:39.0000] <darobin>
beyond what's already in

[06:52:47.0000] <darobin>
adding new test generation is the next step

[06:53:24.0000] <Ms2ger>
Oh, actually

[06:53:34.0000] <Ms2ger>
Looks like the exception is in idlharness itself

[06:53:36.0000] <darobin>
I want to make the Geolocation API's IDL produce useful tests (as something concrete to drive progress), and that uses callbacks

[06:53:57.0000] <darobin>
Ms2ger: also, dunno what code you're using but mine's squirrelled away into a branch for now

[06:54:12.0000] <darobin>
as I haven't tried it out anywhere near enough for it to be ready for prime time

[06:54:48.0000] <darobin>
I just plugged it in and fixed what was needed to get trivial examples to run

[07:04:05.0000] <annevk>
marcosc: maybe this helps: http://annevankesteren.nl/2012/12/cors-101

[07:04:43.0000] <annevk>
/me goes to fix typos now

[07:43:12.0000] <zcorpan>
annevk: opera supports fullscreen, yes. but not the latest spec

[07:44:32.0000] <zcorpan>
http://www.opera.com/docs/specs/presto2.12/apis/#fullscreen

[07:45:14.0000] <zcorpan>
/me notes that no TR snapshot was necessary to link to a dated spec

[07:46:40.0000] <zcorpan>
"Implemented in core-integration-points 311 through 319" http://www.opera.com/docs/specs/presto2.11/

[07:47:02.0000] <Ms2ger>
All welcome to vote in favour of calling the master branch "master" for the HTML testsuite in #HTMLT over on irc.w3.org

[07:57:11.0000] <zcorpan>
i thought it was decided to be "unicorn"?

[08:04:04.0000] <Ms2ger>
/me pokes jgraham 

[08:04:16.0000] <odinho>
darobin: trying to send to robineko.com -->  Diagnostic-Code: SMTP; 554 5.7.1 <odinho⊙oc>: Sender address rejected: Access denied

[08:05:13.0000] <marcosc>
annevk: thanks, will pass that on. They've not been able to articulate what the issues are

[08:06:55.0000] <odinho>
annevk: Oh yeah, that stupid picture. I'll just open it up in Inkscape and change the font to Arial, almost everyone has that one.

[08:07:06.0000] <Ms2ger>
marcosc, not joining? :)

[08:07:07.0000] <odinho>
Too hard to deal with all the inline styles in the svg. :]

[08:07:19.0000] <marcosc>
oh, what!

[08:07:25.0000] <marcosc>
/me catches up

[08:07:29.0000] <Ms2ger>
HTML testsuite organization!

[08:07:40.0000] <Ms2ger>
And branch name bikeshedding!

[08:08:48.0000] <darobin>
odinho: robineko? I shut that address down 6 months ago :)

[08:08:56.0000] <marcosc>
Ms2ger: I love a good bikeshed! Where you guys talking about this?

[08:08:58.0000] <darobin>
use berjon.com or w3.org please!

[08:09:08.0000] <Ms2ger>
marcosc, irc.w3.org #HTMLT

[08:09:11.0000] <odinho>
darobin: Well, I didn't get the memo :P Or my Opera M2 didn't at least :]

[08:09:27.0000] <darobin>
I didn't even know that you'd ever sent me mail to that address :)

[08:10:34.0000] <annevk>
better not mint too many email addresses

[08:11:31.0000] <darobin>
yeah, a long time ago I thought I might need a separate address for consulting, but people just kept writing to the personal address anyway

[08:13:16.0000] <annevk>
I filter mailing lists and that leaves hardly any email

[08:17:32.0000] <annevk>
well well, uri⊙wo and public-iri⊙wo died out

[08:31:29.0000] <annevk>
dglazkov: in the email you wrote, I guess some of the links are off?

[08:31:48.0000] <annevk>
dglazkov: it seems a few times you refer to the earlier algorithm in prose, but the link points to the later one...

[08:32:25.0000] <annevk>
dglazkov: are mouse events the only problematic events here? what about touch?

[08:33:08.0000] <dglazkov>
good morning, Whatwg!

[08:34:56.0000] <dglazkov>
annevk: touch event are definitely going to need retargeting, too.

[08:36:02.0000] <dglazkov>
annevk: I may have copy/pasted links carelessly in the email

[08:36:18.0000] <dglazkov>
annevk: let me check

[08:36:20.0000] <annevk>
dglazkov: also, why call it ancestor and not parent?

[08:36:28.0000] <annevk>
dglazkov: isn't it a parent chain

[08:36:37.0000] <dglazkov>
annevk: you call it ancestor chain

[08:37:10.0000] <dglazkov>
oh wait

[08:37:14.0000] <dglazkov>
it's even path

[08:37:16.0000] <dglazkov>
event path

[08:37:18.0000] <annevk>
yeah

[08:37:30.0000] <annevk>
and it's a chain of parents, which together are called ancestors

[08:38:14.0000] <annevk>
but okay, I can manage the terminology mismatch I suppose

[08:39:01.0000] <dglazkov>
I guess then any given item in chain is ancestor in relation to event target

[08:39:05.0000] <annevk>
dglazkov: the "Repeat while ANCESTOR exists:" is just about finding the next parent right?

[08:39:33.0000] <dglazkov>
annevk: yep

[08:39:55.0000] <annevk>
I want the "event path" to be constructed in a functional manner

[08:40:26.0000] <annevk>
so the dispatch algo asks the event target for its "event parent" and does that recursively to build up the event path

[08:40:54.0000] <annevk>
and then we make hooks elsewhere in dispatch/invoke for adjusting stuff such as relatedTarget

[08:41:00.0000] <annevk>
if possible

[08:41:48.0000] <dglazkov>
aha. One link is off. In item 5 of the list in my mail, it should refer to http://dom.spec.whatwg.org/#dispatching-events

[08:43:21.0000] <dglazkov>
annevk: interesting on the recursion. Sure, if you can pull it off, sounds great

[08:45:04.0000] <dglazkov>
annevk: please feel free to run drafts/ideas by me or hayato⊙co

[08:45:24.0000] <dglazkov>
annevk: I will happily review and help out

[08:45:59.0000] <annevk>
cool; the main problem is I want this to work for the seamless iframe stuff too, which requires event object cloning

[08:48:04.0000] <odinho>
annevk: Arialified: http://odinho.html5.org/CORS/cors-diagram-arial.svg

[08:53:15.0000] <dglazkov>
annevk: event object cloning is a special case of retargeting, I'll need that for shadow dom here: https://www.w3.org/Bugs/Public/show_bug.cgi?id=16509

[08:57:41.0000] <annevk>
yeah, you'd need it for isolation

[08:59:03.0000] <annevk>
dglazkov: btw, wouldn't the relatedtarget only change at boundary points?

[08:59:43.0000] <dglazkov>
annevk: yes.

[08:59:45.0000] <annevk>
dglazkov: that is, when you exit a shadow tree (and either enter another one or come back to the real world)

[09:00:03.0000] <annevk>
so why would you store it for each object in the event path?

[09:00:08.0000] <dglazkov>
annevk: or come from insertion point back into shadow tree

[09:00:18.0000] <annevk>
right

[09:00:19.0000] <dglazkov>
annevk: you don't

[09:00:26.0000] <dglazkov>
or shouldn't

[09:01:36.0000] <annevk>
so I think what we should have is to create a stack of objects that's the event path; as well as markers or some such that indicate boundary points

[09:01:53.0000] <annevk>
the markers can then be used to either adjust the event object or maybe use a clone or some such

[09:03:23.0000] <dglazkov>
wait, you're talking about target, not relatedtarget

[09:03:32.0000] <dglazkov>
right?

[09:03:52.0000] <annevk>
well both I suppose

[09:04:12.0000] <dglazkov>
you need to store adjusted target for the same reasons you store the event path

[09:04:42.0000] <dglazkov>
because DOM changes by event listeners could affect the result

[09:04:53.0000] <annevk>
hmmm

[09:20:39.0000] <annevk>
actually no

[09:20:57.0000] <annevk>
dglazkov: well the event path is cached

[09:21:25.0000] <annevk>
dglazkov: so you're saying we need to cache the targets too in case the tree is manipulated

[09:24:26.0000] <dglazkov>
annevk: technically, you don't have to cache them, as long as you cached the event path and the boundaries. But it makes the algorithm easier to understand.

[09:25:40.0000] <MikeSmith>
Fuck we gotta fix the OPTIONS thing on w3c-test odinho

[09:25:53.0000] <dglazkov>
even if the tree is manipulated, as long as the markers (as you called them) for when the boundary transitions occurred at the time of constructing event path are cached, you can reconstruct the adjusted targets.

[09:25:57.0000] <MikeSmith>
but i still have no clue

[09:27:09.0000] <odinho>
MikeSmith: Hehe :-) darobin came a bit closer when he said it was working on a clean (new) Apache though. So the diff between "normal apache" and w3c-one, ought to be a bit smaller than going through everything at least.

[09:27:55.0000] <MikeSmith>
yeah

[09:30:55.0000] <MikeSmith>
anyway I'm at a loss. i like fiddling with Apache BS just slightly better than i love writing apps in PHP

[09:33:16.0000] <odinho>
Haha, me too. I even stopped using Apache, and use nginx nowadays.

[09:33:59.0000] <odinho>
Anyway, I should leave work, no good standing here all day - it's been super dark for a long time already.

[09:34:02.0000] <MikeSmith>
yep

[09:36:30.0000] <MikeSmith>
i find that the mass of Apache "tuning" i ever do is just unwinding all the idiotic things that Apache does by default

[09:36:53.0000] <Ms2ger>
MikeSmith, where's your console spec gone?

[09:37:08.0000] <MikeSmith>
odinho: Hai

[09:37:48.0000] <MikeSmith>
Ms2ger: should still be there wherever it was before

[09:38:01.0000] <MikeSmith>
I'm nu

[09:38:05.0000] <Ms2ger>
MikeSmith, where was your console spec before? :)

[09:38:32.0000] <MikeSmith>
github

[09:38:51.0000] <MikeSmith>
sideshowbarker

[09:38:56.0000] <MikeSmith>
i think

[09:41:08.0000] <MikeSmith>
can get you the URL later

[09:41:22.0000] <MikeSmith>
right now I'm on my mobile

[09:41:40.0000] <MikeSmith>
plus, I'm lit

[09:42:02.0000] <Ms2ger>
Yeah, found it

[09:43:51.0000] <MikeSmith>
anyway, vp9

[09:44:13.0000] <MikeSmith>
clearly the time is right

[09:45:01.0000] <MikeSmith>
since vp8 has seen such widespread adoption

[09:45:53.0000] <TabAtkins>
Ms2ger: No, "and/or" carries some useful weight as being unambiguously different from xor.  Plain "or" can be interpreted in either way in English.

[09:48:48.0000] <TabAtkins>
nimbu: (Hopefully you read logs.) Regarding http://trac.webkit.org/changeset/136744, it's not exposed to JS. We're just copying Firefox and making pseudo-elements live in the DOM tree, to make our code sane.

[09:55:51.0000] <annevk>
dglazkov: right okay

[09:56:12.0000] <TabAtkins>
annevk: Why isn't an enum nullable?

[09:56:19.0000] <jwalden>
onload in a top-level window that has iframes in it, with valid srcs for them, should block until the iframes have onload, right?

[09:56:20.0000] <annevk>
TabAtkins: oh it is

[09:56:28.0000] <TabAtkins>
annevk: Ah kk.

[09:56:30.0000] <annevk>
TabAtkins: but we haven't used that ability thus far

[09:56:49.0000] <TabAtkins>
Ok, then I'll send my response email.

[09:57:10.0000] <TabAtkins>
It seems weird to me that enums would have a different "no value" behavior than all the other types in WebIDL.

[09:58:16.0000] <jwalden>
oh, never mind, I are Dumb

[09:58:45.0000] <jwalden>
/me could have sworn window.frameName gave back a window, not the iframe element

[09:58:46.0000] <annevk>
TabAtkins: typically for strings the no value case is the empty string, not null

[09:59:29.0000] <Ms2ger>
jwalden, ... it does

[09:59:55.0000] <TabAtkins>
annevk: Yeah, but it's a weird split.  I'd prefer the platform have one behavior there.

[10:00:17.0000] <jwalden>
Ms2ger: not in this testcase, oddly

[10:00:21.0000] <annevk>
I don't really think there's a split TabAtkins

[10:00:23.0000] <Hixie>
MikeSmith: well the DOM you get when you don't have the depth limiter is definitely the ideal result, but I think it's reasonable to assume that if we need the depth limiter, we won't end up with that exact result.

[10:00:35.0000] <annevk>
TabAtkins: e.g. for numbers they typically default to 0 or Infinity or some such, not null

[10:00:38.0000] <Ms2ger>
jwalden, global scope pollution?

[10:00:57.0000] <Hixie>
zcorpan: I think the text in r7589 is right; why wouldn't it be?

[10:01:09.0000] <TabAtkins>
Hmm, not sure about that, but I'd have to look into stuff for evidence.

[10:03:03.0000] <annevk>
it's also awkward if you need to explicitly null check an attribute

[10:03:20.0000] <annevk>
much easier if they're all strings, which is why XHR.responseType is just that...

[10:03:23.0000] <TabAtkins>
The right way is to just test it for falseyness anyway.

[10:03:44.0000] <TabAtkins>
Can you elaborate why it's awkward?

[10:05:29.0000] <annevk>
because you need to account for distinct types and cannot assume what you got can be manipulated as a single type

[10:05:40.0000] <Hixie>
jgraham: the only reason i think the process violation matters is that the process is supposedly the reason the whatwg is bad and the w3c is good

[10:05:45.0000] <Hixie>
(according to some)

[10:06:08.0000] <jwalden>
Ms2ger: oh, sigh, <iframe name=foo> and <iframe id=foo> are unalike in this matter

[10:06:42.0000] <TabAtkins>
annevk: Ah, that's true.  null+'' == 'null'

[10:07:43.0000] <annevk>
jwalden: for global scope pollution the name attribute only works on a select set of elements

[10:07:53.0000] <annevk>
jwalden: forgot if <iframe> is among them

[10:08:14.0000] <jwalden>
annevk: window.frameName is distinct from GSP, or at least it is in Gecko

[10:08:15.0000] <Hixie>
Ms2ger: how do i replace and/or in "When a user agent is to fetch a resource or URL, optionally from an origin origin, optionally using a specific referrer source as an override referrer source, and optionally with a synchronous flag, a manual redirect flag, a force same-origin flag, and/or a block cookies flag, the following steps must be run."?

[10:08:32.0000] <annevk>
jwalden: sounds about right

[10:08:55.0000] <Ms2ger>
"or"? :)

[10:08:56.0000] <jwalden>
window.frameName appears to look only for name=, GSP was looking for id=, and I was using id= and so getting GSP behavior where I expected window.frameName behavior

[10:09:06.0000] <jwalden>
yeah, that was a hedge :-)

[10:09:21.0000] <jwalden>
given GSP is stupid

[10:09:30.0000] <Ms2ger>
But hey, at least it's specced now

[10:10:08.0000] <jwalden>
aaaagh

[10:10:29.0000] <jwalden>
stupid webkit, stupidly treating data URLs as different-origin and making life hard for one-off test authors

[10:10:30.0000] <Ms2ger>
Hixie, tbh, a list

[10:10:50.0000] <annevk>
hmm

[10:10:56.0000] <annevk>
so where is window.frameName defined?

[10:11:11.0000] <Hixie>
Ms2ger: oh, i see, prefix the list with something like "optionally with any of" or something

[10:11:20.0000] <annevk>
no hits in http://www.whatwg.org/specs/web-apps/current-work/multipage/browsers.html

[10:11:44.0000] <annevk>
hmm, jwalden, does that even exist?

[10:11:55.0000] <jwalden>
annevk: you don't want to search for frameName, that'd only apply if <iframe name="frameName">

[10:12:00.0000] <jwalden>
/me doesn't know the term to use

[10:12:10.0000] <Ms2ger>
annevk, getter(DOMString)

[10:12:17.0000] <annevk>
oh it's window.name

[10:12:26.0000] <Ms2ger>
Hixie, yeah

[10:12:26.0000] <annevk>
well window.name exists

[10:12:28.0000] <annevk>
http://www.whatwg.org/specs/web-apps/current-work/multipage/browsers.html#dom-name

[10:13:06.0000] <annevk>
the other one is http://www.whatwg.org/specs/web-apps/current-work/multipage/browsers.html#dom-window-nameditem

[10:13:19.0000] <annevk>
jwalden: named property access?

[10:13:25.0000] <jwalden>
perhaps

[10:13:36.0000] <jwalden>
/me is just trying to write a document.all testcase

[10:13:38.0000] <jwalden>
STAB ME NOW

[10:14:02.0000] <annevk>
so yeah, window[name] can never match <iframe name=frame> because <iframe> is not on the whitelist

[10:14:18.0000] <annevk>
but I guess <a target=frame> will target that

[10:14:19.0000] <annevk>
good times

[10:14:20.0000] <jwalden>
...wait, what?

[10:14:37.0000] <jwalden>
window.foo should give you <iframe name=foo>'s window

[10:15:15.0000] <jwalden>
or at least that's what I'm seeing in Gecko, and I thought it was supposed to be how iframe window.* stuff worked

[10:15:18.0000] <annevk>
never mind, I'm missing something

[10:15:43.0000] <Hixie>
Ms2ger: "Zero or more As and/or Bs" when trying to say you can do "ABBA" or "AA" or "B"

[10:15:44.0000] <annevk>
this pollution is not only global scope pollution, it's apparently also fricking weird

[10:15:52.0000] <jwalden>
:-)

[10:16:00.0000] <Hixie>
Ms2ger: "Zero or more As and Bs" seems a little less unambiguous. Any suggestions?

[10:16:07.0000] <annevk>
sometimes returning Window objects, sometimes elements, sometimes a single element

[10:17:17.0000] <Ms2ger>
annevk, yeah, it's both frames.name and window.name :)

[10:17:39.0000] <annevk>
Ms2ger: I prefer self, it's more zen

[10:17:46.0000] <jgraham>
Hixie: I don't think it follows that people think that every part of the Process is good or necessary. That is, I don't think it is logically inconsistent to think that the Process is better than the WHATWG approach and to be happy with violation of some aspects of the Process.

[10:17:56.0000] <jgraham>
But I guess I should stop talking

[10:18:08.0000] <jgraham>
Or I might accidentially create a Process discussion

[10:18:14.0000] <Ms2ger>
/me kicks jgraham out of the tree house

[10:18:19.0000] <annevk>
jgraham: sounds reasonable to me

[10:18:38.0000] <annevk>
jgraham: I personally like the patent bits, the rest not so much

[10:18:46.0000] <Hixie>
jgraham: if there are people saying that the process is why i should work at the w3c, but who simultaneously believe that they can ignore the process when it suits them, then how the heck am i supposed to know when i'm to follow the process or not?

[10:19:04.0000] <Hixie>
jgraham: they released the CR yesterday with _131_ open bugs

[10:19:22.0000] <Hixie>
jgraham: if "we have to resolve all open feedback before going to CR" isn't one of the things in the process that matters, what is?

[10:19:40.0000] <Hixie>
jgraham: i'm all in favour of just ignoring the process, or having some well-defined subset that we actually agree should be followed

[10:19:52.0000] <Hixie>
jgraham: it's this hypocritical double-standard that i have a problem with

[10:20:31.0000] <Ms2ger>
The part that matters is: "The W3C will put up a press release"

[10:20:34.0000] <TabAtkins>
Hixie: Use of just "and" seems fine there.

[10:20:39.0000] <Hixie>
TabAtkins: roger

[10:21:59.0000] <jgraham>
Well arguably the HTMLWG did have a well-defined subset that will actually be followed

[10:22:05.0000] <jgraham>
They set release dates

[10:22:15.0000] <Hixie>
they've never followed _those_ before

[10:22:20.0000] <jgraham>
and said "on those dates we will transition"

[10:22:30.0000] <jgraham>
"and screw all other considerations"

[10:22:46.0000] <jgraham>
Which isn't a bad process, really

[10:22:50.0000] <Hixie>
if the w3c wants to do transitions on a date-based schedule, then fine. if that's their process, then i disagree with their process on substance.

[10:23:04.0000] <Hixie>
but they don't claim that that's their process, as they claim to care about spec quality.

[10:23:27.0000] <jgraham>
I don't really care what they claim to care about

[10:23:42.0000] <Hixie>
i care insofar as they ask me to work with their process

[10:23:58.0000] <jgraham>
I care when they get in the way of improving the web

[10:24:16.0000] <Hixie>
making me follow a process that doesn't put quality first seems to be an example of such

[10:24:22.0000] <jgraham>
AFAICT releasing the old version of the spec with a new label and known bugs doesn't really affect that

[10:24:46.0000] <jgraham>
As long as everyone important knows it's an old version

[10:24:51.0000] <Hixie>
depends on the label, but yeah, i'm all in favour of releasing patent snapshots

[10:25:01.0000] <Hixie>
but if that's what they want to do, why are they bothering with the intermediate steps?

[10:25:17.0000] <Hixie>
if they're going to transition regardless, why not just do the transitions that matter?

[10:25:19.0000] <jgraham>
Because it looks more like the Process

[10:25:29.0000] <Hixie>
so, bullshit then

[10:25:35.0000] <Hixie>
that's my point.

[10:25:59.0000] <jgraham>
Well, I don't think that complaining about it will make the Process more likely to change

[10:26:09.0000] <Hixie>
agreed

[10:26:42.0000] <Hixie>
but highlighting the hypocrisy might reduce the number of people who try to argue me into following teh process :-)

[10:26:50.0000] <jgraham>
Although I think that documenting it and putting forward evidence that the real process is something other than the Process might be convincing when discussions about Process change are happening

[10:27:05.0000] <jwalden>
dangit Hixie, why do you have to use standards mode for http://software.hixie.ch/ :-(

[10:27:19.0000] <jwalden>
/me finds another page on that domain that doesn't

[10:27:46.0000] <Hixie>
jwalden: if you need a quirks page i can make one

[10:27:48.0000] <Hixie>
jwalden: what's up

[10:28:07.0000] <jwalden>
Hixie: /utilities/js/ did the trick for me

[10:28:09.0000] <jgraham>
In particular being able to say "actually with sucessful specs X Y and Z we ignored these parts of the Process" is a pretty compelling counterargument when you get the usual conservative voices saying "we can't change anything because (imaginary reason)"

[10:28:23.0000] <Hixie>
jwalden: /quirks

[10:29:00.0000] <jwalden>
Hixie: that'll do too, and a little more nicely -- thanks!

[10:29:11.0000] <Hixie>
jwalden: np

[10:29:33.0000] <Hixie>
jgraham: HTML has been hugely successful by pretty much every metric and has entirely ignored the process so far, hasn't convinced anyone yet :-)

[10:29:40.0000] <Hixie>
anyone at w3c i mean

[10:29:47.0000] <Hixie>
except maybe MikeSmith :-)

[10:30:47.0000] <jwalden>
(tm)

[10:31:11.0000] <jgraham>
jwalden: Oh, that MikeSmith!

[10:35:18.0000] <JonathanNeal>
helloo

[10:37:06.0000] <jwalden>
is there any way to expand the little fast-commenting widget on whatwg.org/html other than by DOM-hacking?  what I want to say is single-paragraphish, a little past single-lineish

[10:37:18.0000] <Hixie>
yeah

[10:37:20.0000] <Hixie>
submit the comment

[10:37:23.0000] <Hixie>
then use the bug form :-)

[10:37:42.0000] <Hixie>
or whatwg.org/newbug

[11:22:59.0000] <hober>
what's the url to that 'selected history of when features have been added to the web platform' page?

[11:23:41.0000] <Ms2ger>
http://platform.html5.org/history/

[11:24:56.0000] <hober>
thanks. http://platform.html5.org/ should really link to that. :)

[11:26:13.0000] <annevk>
Hixie: claiming there are no lines while they have distinct editors is not useful, or you volunteering?

[11:26:17.0000] <annevk>
are you*

[11:26:48.0000] <jwalden>
Hixie: I went with /newbug, filed https://www.w3.org/Bugs/Public/show_bug.cgi?id=20436

[11:27:19.0000] <Ms2ger>
annevk, he's volunteering you to edit HTML :)

[11:27:40.0000] <annevk>
Ms2ger: interesting plot twist, but no thanks :)

[11:28:10.0000] <Ms2ger>
Wasn't the ambient light events feedback supposed to go to another list than public-webapps?

[11:28:15.0000] <jwalden>
hm, and I mostly missed a Gecko platform meeting

[11:38:34.0000] <Hixie>
annevk: i think the line between what each of us edits is more or less arbitrary

[11:38:49.0000] <Hixie>
annevk: e.g. look at CORS vs Fetch vs URL

[11:39:03.0000] <annevk>
yeah that's a mess now :(

[11:39:10.0000] <annevk>
well, apart from URL, that's mostly sane

[11:39:16.0000] <annevk>
(layering wise)

[11:39:47.0000] <Hixie>
i'd say the line between DOM and HTML is similarly messy :-)

[11:39:53.0000] <Hixie>
(which is fine)

[11:40:10.0000] <annevk>
well, my plan for Fetch/CORS is to merge them

[11:40:37.0000] <annevk>
for DOM I don't know, I guess it could be part of HTML at some point; currently it has no dependencies on HTML which is kinda nice

[11:40:44.0000] <annevk>
if we add origin that'd no longer be the case

[11:40:59.0000] <Hixie>
you can add origin by reffing [ORIGIN]

[11:41:02.0000] <Hixie>
no need to ref HTML

[11:41:18.0000] <Hixie>
we can always avoid two-way references just by using hooks

[11:41:26.0000] <Hixie>
but it's an artificial avoidance

[11:44:03.0000] <annevk>
no that's not the problem

[11:44:25.0000] <annevk>
the problem is for new Document() I need to get hold of the script's origin or something to copy from

[11:44:37.0000] <Hixie>
sure but you could in theory just offer a hook

[11:44:41.0000] <Hixie>
not saying you should

[11:48:56.0000] <annevk>
I think I'll just define it and have Ms2ger find another way

[11:49:09.0000] <annevk>
and if he doesn't I suppose I might merge in domparsing

[11:49:13.0000] <Hixie>
heh

[11:49:26.0000] <annevk>
mind if I reassign that bug to DOM?

[11:50:02.0000] <Hixie>
go ahead, just don't close it if there's anything more to do before it's fixed

[11:50:15.0000] <Hixie>
(not that i would expect you would)

[11:50:51.0000] <annevk>
I guess I might file a new bug on HTML to "update for DOM origin" or some such

[11:51:09.0000] <Hixie>
lgtm

[11:54:26.0000] <annevk>
I don't get https://twitter.com/w3cmemes/status/281121937193828352

[11:54:34.0000] <annevk>
Prefixes are not part of the W3C Process

[11:55:46.0000] <Hixie>
wow, that's a lot of w3cmemes about the process thing

[11:55:50.0000] <Hixie>
and i didn't even post one of them :-)

[11:58:21.0000] <annevk>
since people complained about the lack of memes, I thought I'd add a couple

[11:59:35.0000] <tantek>
maybe it's a "living CR" ;)

[12:02:31.0000] <hober>
annevk: that one presumably refers to TTA

[12:03:27.0000] <annevk>
hober: well sure and presumably the person writing that one thought the others were written by someone on the CSS WG

[12:03:45.0000] <annevk>
hober: even so though, unprefixing has nothing to do with the W3C Process

[12:03:51.0000] <hober>
indeed

[12:04:17.0000] <hober>
i'm ashamed to admit i don't get the fraft one

[12:04:36.0000] <Ms2ger>
That was just a typo on my part, I think

[12:05:02.0000] <annevk>
heh

[12:07:31.0000] <Ms2ger>
Dec 11 18:02:11 <krisk>	E.g. draft and not master

[12:07:31.0000] <Ms2ger>
Dec 11 18:02:24 <Ms2ger>	Everything is a fraft

[12:09:21.0000] <annevk>
/me tunes in to w3cmemes history channel

[12:41:27.0000] <jamesr_>
annevk, prefixes are handled within the w3c process in the csswg, roughly speaking

[13:01:44.0000] <tantek>
jamesr_, annevk, not really. The CSSWG has its own process for prefixes, which got heavily amended this past year, due to widespread acceptance that the previous process for prefixes wasn't working.

[13:01:53.0000] <tantek>
There's no W3C process for "prefixes".

[13:02:09.0000] <tantek>
W3C-wide that is.

[13:02:28.0000] <tantek>
No other WG that I know of re-uses CSSWG prefix processes either.

[13:06:23.0000] <JonathanNeal>
a lot of w3c memes about cr

[13:06:37.0000] <hober>
jamesr_: apis defined in the webapps wg, for instance, get unprefixed in a much more informal manner than css properties

[13:07:15.0000] <JonathanNeal>
http://24.media.tumblr.com/tumblr_mebyf5EMTk1rvsbh9o1_400.gif haha

[13:09:20.0000] <JonathanNeal>
I liked <main>, Hixie. :|

[13:10:12.0000] <Hixie>
<main> (and role=main) don't do anything you can't do more effectively in other ways, as far as i can tell

[13:13:23.0000] <JonathanNeal>
All right. I will try to do it the right way. How should I do it?

[13:16:32.0000] <jgraham>
WebApps doesn't have any prefix process that I know of. If vendors prefix webapps things that's a choice not a decree from on high

[13:16:34.0000] <JonathanNeal>
I'm sorry if that seems like a baiting question. I'm actually very interested in html element and class naming conventions.

[13:17:08.0000] <jgraham>
JonathanNeal: Hixie's opinion on <main> is not universially shared :)

[13:17:57.0000] <JonathanNeal>
jgraham: well, I would really appreciate contrasting examples. Are there any on the web / in a gist right now?

[13:18:06.0000] <jgraham>
JonathanNeal: (I have no idea what your originl question was)

[13:18:52.0000] <JonathanNeal>
jgraham: my question is that, if <main> (and role=main) don't do anything you can't do more effectively in other ways, how should I do it then?

[13:19:39.0000] <JonathanNeal>
and by "do it" I mean "markup something that would have used <main> or role=main"

[13:19:43.0000] <jamesr_>
JonathanNeal, that image is gold :D

[13:20:17.0000] <jgraham>
JonathanNeal: I don't think I agree with the premise there

[13:20:24.0000] <jgraham>
At least

[13:20:37.0000] <JonathanNeal>
That's great. I'm probably going to learn something then.

[13:21:06.0000] <jgraham>
I am under the impression that role=main is actually supported in screenreaders in a way that the "scooby doo" alternative isn't

[13:21:38.0000] <JonathanNeal>
Would it help if I posted a gist of how I might have used role="main" in a simple html document, or would this still proceed the questionable premise?

[13:21:40.0000] <jgraham>
And that it is more likely that they will implement <main> than the scooby doo algorithm

[13:21:56.0000] <jgraham>
No, that seems quite reasonable.

[13:22:13.0000] <JonathanNeal>
What is the "scooby doo" alternative?

[13:22:16.0000] <Hixie>
JonathanNeal: what is "it" that you are trying to do?

[13:23:23.0000] <jgraham>
My understanding is that if you are thinking "<main> surrounds the content that is *this page* rather than site-wide content, or navigation, or whatever" you are doing it right

[13:24:12.0000] <jgraham>
Alternatively, if you prefer a more practical way of looking at it, it should be the content that you would like a AT user to skip to if they ask to skip to the main content

[13:24:15.0000] <JonathanNeal>
jgraham: what you just said is what I thought it was, and how I was using role="main". Like an ID, it was a solitary and unique grouping.

[13:24:28.0000] <tantek>
jgraham, yes is my understanding as well

[13:24:45.0000] <JonathanNeal>
jgraham: I was, however, confused over whether <main> was per group or per page.

[13:24:51.0000] <jgraham>
per page

[13:24:58.0000] <tantek>
JonathanNeal, you can go ahead and use <main> right now as long as you close your <p> … </p> elements explicitly ;)

[13:26:32.0000] <jgraham>
JonathanNeal: the "scooby doo" algorithm is the alternative approach. You enumerate all the characters in the story, subtract out the ones you recognise (Scooby, Shaggy, Velma, Daphne, etc.) and whoever's left is the villian. Except s/story/markup/, s/characters/section elements/ and s/villian/main content/

[13:26:35.0000] <JonathanNeal>
I see. In other areas, many <elements> were scoped per group, like <header>, <footer>, <nav>, even <section>, <article>, etc. This would make <main> very unique, like <title>, <html>, <body>.

[13:26:46.0000] <JonathanNeal>
Am I understanding this correctly?

[13:26:55.0000] <jgraham>
Yes

[13:27:10.0000] <jgraham>
It is more-body-than-body

[13:27:19.0000] <jgraham>
if you like

[13:28:44.0000] <erlehmann>
oh hello people

[13:28:55.0000] <erlehmann>
i just posted this on the list http://daten.dieweltistgarnichtso.net/src/media-fragments-html-polyfill/

[13:29:28.0000] <erlehmann>
how can i help bringing this into the browsers?

[13:31:02.0000] <JonathanNeal>
erlehmann: is there supposed to be something more than <http://example.org/podcast.html#episode1&t=01:23> ? Like, an element name?

[13:31:46.0000] <erlehmann>
JonathanNeal, episode1 is the element name.

[13:31:59.0000] <erlehmann>
in my example, #audio and #video are the element names

[13:32:25.0000] <JonathanNeal>
Sorry, the element's nodeName.

[13:33:46.0000] <erlehmann>
JonathanNeal, I do not understand how the name of the current node comes into this

[13:34:08.0000] <JonathanNeal>
In your example, you have between a < and > a url. I've never seen markup like this.

[13:34:35.0000] <erlehmann>
oh, that is not markup.

[13:34:38.0000] <erlehmann>
that is a url.

[13:34:45.0000] <erlehmann>
sorry, is this misleading? let me correct it.

[13:34:54.0000] <erlehmann>
urls in plain text are delimited by < and >

[13:34:59.0000] <TabAtkins>
That's just a common way of indicating in plain-text markup that something is a URL, and delimiting it from surrounding text like commas and periods.

[13:35:07.0000] <TabAtkins>
(Works in Markdown.)

[13:35:28.0000] <erlehmann>
corrected.

[13:35:33.0000] <JonathanNeal>
Ah, sorry, I interpreted it differently on that page.

[13:35:38.0000] <erlehmann>
JonathanNeal, corrected.

[13:36:17.0000] <JonathanNeal>
Yeap. That's a fun polyfill. Good job taking advantage of the hashchange event.

[13:37:07.0000] <erlehmann>
JonathanNeal, i removed the brackets and wrote text clarifying that this is an URL

[13:37:34.0000] <JonathanNeal>
erlehmann: Yeap. I saw. It was very minor and I'm sorry it threw me off.

[13:37:59.0000] <erlehmann>
as far as i am concerned, misunderstandings are my fault.

[13:38:41.0000] <erlehmann>
so, as i regard this very useful, where do i start implementing it?

[13:39:30.0000] <erlehmann>
or does this suffice as proof of concept?

[13:41:00.0000] <annevk>
erlehmann: <abbr title=Hypertext Markup Language> does not work ;)

[13:41:12.0000] <annevk>
erlehmann: well it does, but Markup and Language are not valid attributes :)

[13:41:28.0000] <JonathanNeal>
erlehmann: is there a git project?

[13:42:06.0000] <annevk>
erlehmann: also, you might want to write & as &amp;

[13:42:17.0000] <erlehmann>
yeah, & probably should have been escaped as &amp at a lots of places

[13:42:21.0000] <erlehmann>
annevk, thanks.

[13:42:26.0000] <erlehmann>
i will correct

[13:43:39.0000] <annevk>
maybe if we start introducing this it would be better to avoid using & again

[13:43:44.0000] <erlehmann>
validates now http://html5.validator.nu/?doc=http%3A%2F%2Fdaten.dieweltistgarnichtso.net%2Fsrc%2Fmedia-fragments-html-polyfill%2Findex.html

[13:43:48.0000] <annevk>
and use ; as a separator in the fragment

[13:44:50.0000] <erlehmann>
yeah, media fragments use “&” as a separator already

[13:45:40.0000] <annevk>
oh it's a W3C REC

[13:45:43.0000] <annevk>
meh

[13:46:02.0000] <erlehmann>
http://www.example.com/example.ogv#track=audio&t=10,20

[13:46:05.0000] <erlehmann>
well …

[13:46:10.0000] <JonathanNeal>
erlehmann: I'm getting an error "Uncaught TypeError: Cannot call method 'split' of undefined", because there was no fragment.

[13:46:31.0000] <erlehmann>
JonathanNeal, well … well. Let me fix that.

[13:46:32.0000] <JonathanNeal>
I can fix this and send it to you, or you can fix it yourself. Could we host this on git?

[13:46:34.0000] <erlehmann>
Thanks!

[13:46:49.0000] <erlehmann>
I'll create a repository

[13:47:17.0000] <JonathanNeal>
Thanks. I'll subscribe, fork, and make suggestions for you to reject. 8P

[13:49:32.0000] <erlehmann>
JonathanNeal https://github.com/erlehmann/media-fragments-html-polyfill

[13:49:37.0000] <erlehmann>
8P! 9P!

[13:49:38.0000] <erlehmann>
:D

[13:49:42.0000] <erlehmann>
:---DDD

[13:50:21.0000] <JonathanNeal>
Hixie, are you saying you prefer the "scooby doo" method that jgraham mentioned, where you enumerate all the characters in the story, subtract out the ones you recognize (Scooby, Shaggy, Velma, Daphne, etc.) and whoever's left is the villain. Except s/story/markup/, s/characters/section elements/ and s/villian/main content/ ?

[13:50:55.0000] <Hixie>
JonathanNeal: let's start from fundamentals; what's the problem you're trying to solve?

[13:51:49.0000] <erlehmann>
Evidence-based web standards. I like!

[13:52:23.0000] <erlehmann>
JonathanNeal, can you fix the uncaught type error and stuff? I am writing a README right now.

[13:52:53.0000] <JonathanNeal>
I would like to reflect the meaning of my document. The prerequisite is that I could use all <div>s and well phrased classnames, but I like using something more semantic than classnames.

[13:53:00.0000] <JonathanNeal>
erlehmann: heap, on it.

[13:53:44.0000] <Hixie>
JonathanNeal: if you just want to reflect the meaning of your document, then include a huge <!-- comment --> in your source code that documents the meaning in detail.

[13:54:12.0000] <Hixie>
(in a natural language)

[13:54:27.0000] <JonathanNeal>
Would you say this is a suitable alternative to my goal?

[13:54:42.0000] <JonathanNeal>
Sorry, to the <main> method?

[13:56:41.0000] <erlehmann>
JonathanNeal, what meaning you want to convey that is missing without <main> ?

[13:59:26.0000] <JonathanNeal>
Let me correct this bug in the most minimal way possible. There are a few failure points.

[13:59:29.0000] <Hixie>
JonathanNeal: if your goal is to "reflect the meaning of my document", I don't think <main> really does anything to help you at all

[13:59:48.0000] <Hixie>
JonathanNeal: but then i don't really think "reflect the meaning of my document" is your actual goal

[14:00:03.0000] <JonathanNeal>
Hixie: <header/><main/><footer/>

[14:00:30.0000] <Hixie>
JonathanNeal: <header/>...<footer/>

[14:01:28.0000] <JonathanNeal>
I understand. By remainder we have the main content.

[14:02:09.0000] <Hixie>
also, consider <header/>...<aside/>...<aside/>...<footer/>

[14:02:28.0000] <Hixie>
but again, the real question is what problem are you trying to solve?

[14:02:35.0000] <Hixie>
because without knowing the problem, it's hard to evaluate the solution

[14:02:54.0000] <Hixie>
if the problem is "my document doesn't have an element named "main"" then obviously <main> solves the problem better than anything else

[14:03:14.0000] <Hixie>
if the problem is "my document doesn't have anything bluew in it" then nothing we're talking about helps one way or the other

[14:03:19.0000] <Hixie>
blue

[14:04:00.0000] <Velmont>
Not having endless "what is the use for x" and how to use "y" is also a feature of kinds.

[14:04:34.0000] <Velmont>
(put discussions in there somewhere :P)

[14:05:30.0000] <JonathanNeal>
Hixie, I'm sorry that, despite my efforts, you do not believe I have asked a suitable question or presented a suitable problem that is worth solving.

[14:05:53.0000] <Velmont>
Mapping more to how web devs see the world -> less confusion -> win.

[14:06:25.0000] <Hixie>
JonathanNeal: the only problem you've described is "I would like to reflect the meaning of my document".

[14:06:45.0000] <JonathanNeal>
I would like to clearly define the main content of my document.

[14:06:50.0000] <Hixie>
why?

[14:07:12.0000] <Hixie>
can you describe the problem you're trying to solve in terms of the user, say?

[14:07:42.0000] <JonathanNeal>
So that I can dictate to computers where the main content of my document is, and so that I can control markup aspects of the main content.

[14:09:07.0000] <erlehmann>
JonathanNeal, rational taboo „main content“. how would you describe it then?

[14:10:54.0000] <JonathanNeal>
I'm unsure how to answer that question, I'm sorry. I don't understand it.

[14:12:07.0000] <erlehmann>
the rationalist taboo is a technique to get more accurate results in discussion http://rationalwiki.org/wiki/Rationalist_taboo

[14:12:26.0000] <erlehmann>
if you are not allowed to mention „main content“ how would you describe that which you want to represent?

[14:13:28.0000] <Hixie>
JonathanNeal: so you're saying you want to style parts of your document differently?

[14:14:08.0000] <Hixie>
JonathanNeal: doesn't <div> do that already?

[14:17:33.0000] <erlehmann>
> When you find yourself in philosophical difficulties, the first line of defense is not to define your problematic terms, but to see whether you can think without using those terms at all. Or any of their short synonyms. And be careful not to let yourself invent a new word to use instead.

[14:17:39.0000] <erlehmann>
i find that useful

[14:20:02.0000] <JonathanNeal>
As I said earlier, I could use <div classname> everywhere, so perhaps the question is "when should a element with an implied meaning be used instead of a element with generic meaning?

[14:20:12.0000] <JonathanNeal>
"when should there be"

[14:21:36.0000] <Hixie>
JonathanNeal: so far the answer has been "when authors use a class name so consistently that a single definition describes the use" and "when providing an element with a specific meaning allows for new functionality"

[14:21:50.0000] <Hixie>
JonathanNeal: so e.g. <section> allows for automatic heading sizing

[14:22:04.0000] <Hixie>
JonathanNeal: and <footer> is used pretty consistently

[14:22:07.0000] <JonathanNeal>
erlehmann: pull request sent. I tried to split the commits out so you could see how I arrived where I did.

[14:22:13.0000] <Hixie>
or rather, class=footer

[14:25:12.0000] <erlehmann>
JonathanNeal, this makes it less readable https://github.com/jonathantneal/media-fragments-html-polyfill/commit/72f50bc7c19ac1d920300a933f479e85a5e0dd9e

[14:26:22.0000] <erlehmann>
the others are fine :)

[14:29:37.0000] <JonathanNeal>
erlehmann: would comments resolve the readability issue? It seems less readable with functions because it makes the flow less linear.

[14:29:53.0000] <erlehmann>
i just don't like regular expressions

[14:30:33.0000] <JonathanNeal>
But I understand that's why you're naming the functions as such. Well, your split can have some adverse effects. For instance, if you split by & and return [1] then you're potentially losing [2], [3], etc.

[14:30:44.0000] <JonathanNeal>
This is why I switched to regular expressions, which are your friend.

[14:31:42.0000] <JonathanNeal>
Hixie: what about for hgroup? I always thought the web used something closer to subline.

[14:31:49.0000] <JonathanNeal>
Until hgroup, that is.

[14:32:25.0000] <Hixie>
hgroup matches the second category - it provides new functionality

[14:32:34.0000] <Hixie>
(namely, not confusing outliners such as used by the spec itself)

[14:32:48.0000] <Hixie>
heycam: http://lists.w3.org/Archives/Public/public-script-coord/2012OctDec/0007.html - is this something that was fixed in webidl, perchance?

[14:33:44.0000] <Hixie>
(afk, bb in 30)

[14:33:57.0000] <JonathanNeal>
Hixie: so in this case <main> does not add functionality that role="main" doesn't already imply?

[14:34:11.0000] <Hixie>
role=main doesn't add functionality either

[14:34:21.0000] <Hixie>
(actually afk)

[14:35:41.0000] <heycam>
Hixie, not fixed yet

[14:35:53.0000] <JonathanNeal>
It separates the main content of your document from the heading, navigation, etc. Following your criteria, "skip to main content" links have been used so consistently that a single definition describes the use.

[14:36:50.0000] <JonathanNeal>
erlehmann: trying to ping you off this channel about the bugs. not sure if you're getting my messages.

[14:38:10.0000] <erlehmann>
still there

[14:38:13.0000] <erlehmann>
i wrote my own irc client

[14:38:27.0000] <JonathanNeal>
Does it support private messaging?

[14:38:54.0000] <JonathanNeal>
Hixie: would skip to "main" content usage on the web qualify?

[15:02:19.0000] <Hixie>
back

[15:03:12.0000] <Hixie>
JonathanNeal: when i looked at pages, i found that actually "skip to main content" links, #main, .main, .content, etc, were actually not used that consistently at all

[15:03:37.0000] <Hixie>
heycam: is it tracked? should i file a bug? i want to make sure either you fix it or i do :-)

[15:04:04.0000] <heycam>
Hixie, I am tracking which mails I haven't responded to on the list, so I will get to it

[15:04:08.0000] <heycam>
at some point

[15:04:09.0000] <heycam>
:)

[15:04:14.0000] <Stevef>
hixie: why not provide data to back up your opinions or rebutt the data provided?

[15:04:41.0000] <Hixie>
heycam: k. If that one's on your list, I shall delete it from mine :-)

[15:04:53.0000] <Hixie>
Stevef: i did, long ago, nothing's changed since

[15:05:35.0000] <Stevef>
hixie: so point to this long ago data

[15:05:45.0000] <erlehmann>
JonathanNeal, my own irc client is a collection of shell scripts working upon a filesystem that has FIFOs for irc channels.

[15:06:04.0000] <Hixie>
Stevef: it's in the archives somewhere. i really don't care enough about it to argue the case further.

[15:06:20.0000] <erlehmann>
this is the foundation (not from me) http://tools.suckless.org/ii/ this is the client https://github.com/erlehmann/uii

[15:06:26.0000] <Hixie>
Stevef: if you're right, then you'll convince the browser vendors and they'll implement it and it'll get added to the spec without me having to argue about it.

[15:06:46.0000] <Hixie>
Stevef: if you're wrong, then we're already done

[15:07:16.0000] <erlehmann>
I see a game-theoretic problem with <main>. If there is no easier way than marking everything else up, people will mark everything else up

[15:07:22.0000] <erlehmann>
because it is the rational thing to do

[15:07:45.0000] <erlehmann>
if you enable to mark up <main> without marking up <nav> or <header> or <footer>, then you lose semantics

[15:08:26.0000] <Stevef>
hixie: I an optimistic on that front, and its already specced as well so you don't have to do anything :-)

[15:13:39.0000] <Hixie>
erlehmann: that's a concern, but not one i've examined closely since unless there's a point to the feature, i don't generally look at the feature's problems

[15:14:25.0000] <erlehmann>
Stevef, JonathanNeal, would it help to spec the scooby doo algorithm?

[15:14:48.0000] <Hixie>
it's called "interpreting HTML correctly"

[15:14:59.0000] <Hixie>
there's really no algorithm to spec

[15:17:16.0000] <JonathanNeal>
Hixie: I understand your point of view just from your initial remark. When you looked at pages, you did not see "main" being used consistently.

[15:17:49.0000] <Stevef>
erlehmann: there have been discussions about doing that, nothing concrete yet

[15:17:51.0000] <erlehmann>
i think i have not understood the hard use case of <main>.

[15:18:17.0000] <erlehmann>
Stevef, I would rather have a common heuristic than a new element.

[15:18:42.0000] <JonathanNeal>
And you do not think developers should be able to explicitly define the content that is directly related to or expands upon the central topic of the document.

[15:19:08.0000] <Hixie>
JonathanNeal: i think they already do explicitly do that. Just putting the content in the document is doing that.

[15:20:47.0000] <Hixie>
anyone with IE handy?

[15:20:53.0000] <erlehmann>
JonathanNeal, many of my documents do not have <aside> or <nav>. like the one with the polyfill for media fragments and stuff.

[15:21:02.0000] <Hixie>
looking to find out what happens in IE when you click "Open" on http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2029

[15:21:09.0000] <erlehmann>
which IE?

[15:21:12.0000] <Hixie>
any really

[15:21:22.0000] <erlehmann>
let me try if it still works

[15:21:23.0000] <JonathanNeal>
I have IE.

[15:21:55.0000] <JonathanNeal>
No cat is shown and no error is thrown in IE8.

[15:21:58.0000] <erlehmann>
i have IE8 on linux. :3

[15:22:05.0000] <Hixie>
JonathanNeal: thanks

[15:22:09.0000] <Hixie>
erlehmann: that's... hard core

[15:22:54.0000] <JonathanNeal>
erlehmann rewrote the entire thing for linux, manually sectioned off all the bugs. it can interpret the web as ie1 through 11.

[15:23:00.0000] <erlehmann>
hixie, nowadays, not so anymore. using a package called „playonlinux“ one can create a custom wine installation for programs. delete that folder … and. well.

[15:23:23.0000] <erlehmann>
here, more info about this http://www.playonlinux.com/en/commentaires-577.html

[15:23:47.0000] <Hixie>
fun

[15:23:48.0000] <erlehmann>
it is like a package manager for windows software

[15:35:40.0000] <erlehmann>
well, that IE is bogging down my computer ;_;

[15:35:53.0000] <erlehmann>
also, it was IE7

[15:36:24.0000] <erlehmann>
and absolutely nothing happens when clicking that button

[15:36:45.0000] <Hixie>
thanks

[15:36:53.0000] <erlehmann>
well, i am not sure what should happen

[15:37:01.0000] <Hixie>
a cat should appear, per spec

[15:40:57.0000] <erlehmann>
this is how i tested (ogg theora video) http://mister-muffin.de/p/yZj8

[15:41:13.0000] <erlehmann>
i hope it was right

[15:41:19.0000] <erlehmann>
and the cat was not somewhere else

[15:43:09.0000] <Hixie>
yup, that's right :-)

[15:43:17.0000] <erlehmann>
good :)

[15:43:19.0000] <Hixie>
if you test in webkit-based browsers or opera, you'll see the cat

[15:44:00.0000] <erlehmann>
you realize that sounds like a 90ies hit-the-monkey thing? ;)

[15:44:10.0000] <Hixie>
-_-

[15:48:24.0000] <erlehmann>
wait, in conkeror also nothing happens.

[15:48:30.0000] <erlehmann>
for http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2029

[15:48:58.0000] <erlehmann>
i'll check chromium

[15:49:08.0000] <Hixie>
how ancient is conkeror's rendering engine?

[15:50:27.0000] <erlehmann>
i believe it is somewhat current xul magic

[15:50:30.0000] <erlehmann>
gecko

[15:50:33.0000] <erlehmann>
let me check

[15:51:40.0000] <erlehmann>
chromium shows a cat, Version 21.0.1180.89 Debian wheezy/sid (154005)

[15:52:26.0000] <Hixie>
if it's gecko then yeah, no cat

[15:52:44.0000] <erlehmann>
oh okay

[15:53:47.0000] <erlehmann>
cats, internet. oh well.

[15:55:21.0000] <zewt>
o/~ dreaming of the day vertically centering stuff isn't a migraine

[15:55:39.0000] <TabAtkins>
Dude, this is already a reality in browsers that support new flexbox.

[15:56:01.0000] <zewt>
dude, doesn't help squat until every browser has it

[15:56:09.0000] <Hixie>
TabAtkins: do you have a data: url example?

[15:56:25.0000] <TabAtkins>
Hixie: Of vertical centering?

[15:56:29.0000] <Hixie>
yeah

[15:56:37.0000] <Hixie>
i'm not up on flexbox

[15:56:43.0000] <TabAtkins>
Sure, one sec.

[15:57:00.0000] <zewt>
wonder if there are any passable flexbox polyfills, though

[15:58:37.0000] <zewt>
guess that's pretty hard without mutation observers (which isn't any more available)

[15:59:32.0000] <TabAtkins>
data:text/html;charset=utf-8,<!DOCTYPE%20html>%0A<div%20id%3Dcontainer>%0A%20<div%20id%3Dchild>foo<%2Fdiv>%0A<%2Fdiv>%0A<style>%0Adiv%20%7B%20background%3A%20rgba(0%2C0%2C0%2C.2)%3B%20%7D%0A%23container%20%7B%20height%3A%20100px%3B%20width%3A%20100px%3B%20display%3A%20-webkit-flex%3B%20-webkit-justify-content%3A%20center%3B%20-webkit-align-items%3A%20center%3B%20%7D%0A<%2Fstyle>

[15:59:35.0000] <zewt>
aaaaaaaaaaaaaaaaaaaaaaaaaaa

[15:59:43.0000] <TabAtkins>
???


2012-12-19
[16:00:42.0000] <TabAtkins>
Hixie: justify-content handles alignment in the main axis, align-items in the cross axis.  By default, a flexbox is horizontal, so its main axis is horizontal.

[16:07:37.0000] <Hixie>
TabAtkins: neat

[16:07:51.0000] <Hixie>
pity about the prefixes ;-)

[16:08:17.0000] <TabAtkins>
Hixie: FF's unprefixed stuff is percolating through their releases, Opera is already unprefixed, and we will be shortly.

[16:08:24.0000] <Hixie>
cool

[16:08:47.0000] <TabAtkins>
IE10 is both prefixed and uses an older set of names, because they did a code-freeze about a month before we did a mass-rename.

[16:09:36.0000] <Hixie>
so #container { position: absolute; top: 0; left: 0; right: 0; bottom: 0; display: -webkit-flex; -webkit-justify-content: center; -webkit-align-items: center; } basically centers kids in a row in the viewport?

[16:09:48.0000] <Hixie>
cool stuff

[16:10:03.0000] <TabAtkins>
Correct.

[16:10:10.0000] <Hixie>
is there a way to center boxes with overflow going to multiple rows?

[16:10:29.0000] <Hixie>
(similar to what whatwg.org has, but with flex)

[16:10:42.0000] <TabAtkins>
-webkit-flex-wrap: wrap;

[16:10:58.0000] <TabAtkins>
It won't balance the rows, but as soon as one fills up they'll break to another one.

[16:11:23.0000] <TabAtkins>
(Balancing is planned for level 2, but it's complicated and wasn't necessary for most cases.)

[16:11:43.0000] <Hixie>
sweet

[16:12:04.0000] <Hixie>
yeah, nice, this is awesome

[16:12:07.0000] <Hixie>
cool, need to read up on this

[16:12:18.0000] <TabAtkins>
flexbox++

[16:12:27.0000] <TabAtkins>
http://dev.w3.org/csswg/css3-flexbox

[16:12:38.0000] <TabAtkins>
Pretty happy with how we wrote that spec.

[16:36:55.0000] <Yuhong>
On http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2029

[16:36:58.0000] <Yuhong>
IE10RP

[16:37:37.0000] <Yuhong>
Click Open does nothing.

[16:37:44.0000] <Yuhong>
In IE10 mode.

[16:38:00.0000] <Hixie>
cool, thanks

[16:38:18.0000] <Yuhong>
Same in IE9 mode.

[16:38:35.0000] <Yuhong>
IE8 just tested, same thing.

[16:38:47.0000] <Yuhong>
IE7 too.

[16:38:56.0000] <Hixie>
you have many IEs :-)

[16:39:43.0000] <Yuhong>
Thanks to X-UA-Compatible.

[16:39:51.0000] <Yuhong>
And the developer tools.

[16:40:00.0000] <Hixie>
ah, you mean IE10 in IE7 mode

[16:40:01.0000] <Hixie>
k

[16:40:26.0000] <Yuhong>
Yea, I was just lazy.

[16:40:36.0000] <Hixie>
for the record, especially for this kind of thing (involving navigation) it's not always a given that the modes are exactly equivalent to the original browsers

[16:40:53.0000] <Hixie>
there are definitely cases where they're not exactly the same

[16:41:04.0000] <Hixie>
iirc, <base> handling changed at some point even in the old modes

[16:41:08.0000] <Hixie>
for example

[16:41:55.0000] <Yuhong>
I know. It can be done inadvertently, or it can be done deliberately, eg. CSS visited/link handling for privacy reasons.

[16:42:35.0000] <Yuhong>
Navigation in particular require cooperation from the chrome.

[16:44:06.0000] <erlehmann>
i can test IEs down to one :3

[16:44:12.0000] <erlehmann>
but i won't

[16:44:30.0000] <Yuhong>
I see no reason to anyway.

[16:44:38.0000] <zewt>
use your power for good, not evil

[16:48:38.0000] <erlehmann>
btw, i still do not know how to go further in the media fragments for embedded content thingy

[16:48:44.0000] <Yuhong>
I wonder why IE9 don't use the original jscript.dll in the IE8 and IE7 modes.

[16:48:51.0000] <erlehmann>
should i pick a browser and make an extension?

[16:50:15.0000] <Yuhong>
Of course, this would come at a cost of losing the performance enhancements in jscript9.dll.

[17:26:08.0000] <jwalden>
probably DLL incompatibilities

[17:26:14.0000] <jwalden>
all but certainly those

[17:26:45.0000] <jwalden>
newer JS has a lot of stuff to it that could have been done differently before; I doubt the old interface could be used compatibly

[17:45:33.0000] <zewt>
heh, i hate the "opening windows only on click" thing, because it makes me afraid to click

[17:53:49.0000] <zewt>
all minified javascript needs to be shot into the sun

[17:54:46.0000] <erlehmann>
zewt, use a different browser with keyboard? vimperator or conkeror?

[18:27:15.0000] <erlehmann>
this is using my audio polyfill http://warumnicht.dieweltistgarnichtso.net/wn-15.html

[19:27:19.0000] <JonathanNeal>
hello

[23:29:46.0000] <Krinkle>
Hi, as exercise to get comfortable with spec-language and other interesting things I'm working on a javascript implementation of TreeWalker. However I'm hitting a bug and not sure whether the bug is in Chrome's implementation, the spec or my implementation.

[23:29:59.0000] <Krinkle>
in WebKit, firstChild() is never the root node.

[23:30:16.0000] <Krinkle>
in my interpretation of the spec however, the first call to firstChild() is the root node

[23:30:46.0000] <Krinkle>
http://www.w3.org/TR/2012/WD-dom-20120105/#dom-treewalker-currentnode

[23:30:47.0000] <Krinkle>
http://www.w3.org/TR/dom/#concept-traverse-children

[23:31:11.0000] <Krinkle>
The filter accepts the root node as the bitmask matches it and it is a valid result.

[23:31:40.0000] <Krinkle>
it never even accesses .firstChild of the root node, nor does the currentNode pointer changes in this case.

[23:31:54.0000] <Krinkle>
Any ideas?

[23:33:19.0000] <Krinkle>
document.createTreeWalker(document.body, NodeFilter.SHOW_ALL).firstChild()

[23:35:19.0000] <Krinkle>
document.createTreeWalker: currentNode = root; TreeWalker..firstChild: node = currrent = currentNode; FilterNode:: node.nodeType -> FILTER_ACCEPT; TreeWalker..firstChild: return node;

[23:44:09.0000] <Ms2ger>
First of all, you want to look at http://dom.spec.whatwg.org/

[23:46:08.0000] <Krinkle>
This section hasn't changed in years.

[23:46:22.0000] <Krinkle>
I've looked at the dom.spec as well, same phrasing

[23:47:40.0000] <Krinkle>
document.createTreeWalker sets currentNode to root, TreeWalker:firstChild sets node to currentNode, it passes Filter, currentNode is set to the same value and returned.

[23:49:55.0000] <Ms2ger>
Second, Opera is weird

[23:50:03.0000] <Ms2ger>
Third, looks like you're right

[23:50:38.0000] <Krinkle>
Opera?

[23:50:53.0000] <Krinkle>
What does Opera do

[23:51:58.0000] <Ms2ger>
Throw an exception

[00:03:29.0000] <Krinkle>
So basically as-specified TreeWalker has a fundamental flaw: it doesn't walk.

[00:03:46.0000] <Krinkle>
firstChild() and lastChild() both have this error. And all other methods can't be used on the root node.

[00:03:59.0000] <Krinkle>
(prev, next, parent)

[00:04:16.0000] <Ms2ger>
Can you file a bug?

[00:04:56.0000] <Krinkle>
newbie, where? I've been going back and forth between 100s of pages to find the correct version, not sure where to go from here.

[00:05:18.0000] <Ms2ger>
https://www.w3.org/Bugs/Public/enter_bug.cgi?product=WebAppsWG&component=DOM

[00:05:22.0000] <Krinkle>
Thx

[00:05:29.0000] <Krinkle>
btw. since this is "just" a WD, where can I find the "latest stable version"?

[00:05:45.0000] <Krinkle>
I'd expect some kind of canonical link, but a redirect or overview would work too

[00:06:16.0000] <Krinkle>
I found versions with dates in the link and some with "REC-" in them, but since they only point backwards, not forwards, it is hard to find the latest (without also getting into DOM4)

[00:10:33.0000] <Krinkle>
interesting, confirmation mail is From: bugzilla⊙jwo (jessica.w3)

[00:14:31.0000] <Ms2ger>
"Tokenization for unquoted url()s doesn't makes sense to me"

[00:24:21.0000] <Krinkle>
Ms2ger: https://www.w3.org/Bugs/Public/show_bug.cgi?id=20445

[00:38:23.0000] <Stevef>
erlehmann: spec the heuristic, show how it meets the use cases, get implementers to implement etc. FYI uses cases and rationale doc for <main> http://www.w3.org/html/wg/wiki/User:Sfaulkne/main-usecases#Introduction

[00:41:43.0000] <Stevef>
JonathanNeal: unrefuted data on use of <div id=main|content> to identify main content area including for skip links and role=main http://lists.w3.org/Archives/Public/public-html/2012Oct/0109.html

[01:37:34.0000] <darobin>
had I known that W3CMemes would be this stimulated, I would've pressed to go to CR earlier

[01:40:06.0000] <Stevef>
darobin: hehe

[03:10:36.0000] <annevk>
it's actually DOM classes these days http://tantek.com/2012/353/b1/why-html-classes-css-class-selectors

[03:11:41.0000] <smaug____>
:)

[03:15:09.0000] <annevk>
darobin: yes, more silly things please!

[03:17:04.0000] <darobin>
annevk: I'll do my best buddy

[03:18:54.0000] <smaug____>
annevk: I managed to break only Thunderbird and Seamonkey with MutationObserserver callback interface removal. But those are Gecko specific, so hopefully (and probably) no web pages.

[03:19:25.0000] <annevk>
wow

[03:20:17.0000] <smaug____>
breaking things is part of our jobs

[03:23:07.0000] <darobin>
MikeSmith: do you know what script does the hg -> github sync for the HTML TS?

[03:23:21.0000] <darobin>
we should not forget to disable it...

[03:38:52.0000] <annevk>
hmm, my traversal algorithm had a bug :/

[03:39:12.0000] <Ms2ger>
I'm afraid it did

[03:42:23.0000] <erlehmann>
oh hello WHATWG

[03:42:33.0000] <erlehmann>
again

[03:42:38.0000] <Ms2ger>
Good morning, erlehmann

[03:42:39.0000] <erlehmann>
is there a web corpus for web compat?

[03:43:12.0000] <erlehmann>
i would want to enumerate if treating #foo&t=10 as fragment similar to #foo could be web compatible

[03:49:10.0000] <darobin>
Ms2ger: you said last night that you'd be interested in helping move things around in the TS?

[03:49:25.0000] <Ms2ger>
Well, interested... :)

[03:49:28.0000] <Ms2ger>
I wouldn't mind

[03:49:46.0000] <darobin>
haha

[03:49:55.0000] <darobin>
right, well, you volunteered of sorts :)

[03:50:05.0000] <darobin>
any preference for how to split up the work?

[03:50:13.0000] <darobin>
unless you want to do it all, of course

[03:50:47.0000] <Ms2ger>
I think I definitely would mind that ;)

[03:50:53.0000] <darobin>
:)

[03:51:13.0000] <Ms2ger>
No preference, really

[03:51:16.0000] <darobin>
ok

[03:51:28.0000] <darobin>
I propose that while we're moving, we keep it all in the temp/robin branch

[03:51:43.0000] <Ms2ger>
Branch? What is this magic? :):

[03:51:45.0000] <darobin>
once the move is done, we can just overwrite master with that

[03:51:48.0000] <darobin>
lulz

[03:52:07.0000] <darobin>
and after that still I'll take care of branching CR

[03:52:29.0000] <darobin>
(and turning submissions into PRs)

[03:53:00.0000] <Ms2ger>
Do you want the current submissions in branches too?

[03:53:05.0000] <darobin>
yes

[03:53:12.0000] <darobin>
well

[03:53:21.0000] <darobin>
I want to take all of approved and make that master

[03:53:39.0000] <darobin>
then take each submission dir and turn that into a pull request

[03:53:44.0000] <darobin>
(from my own fork)

[03:54:17.0000] <darobin>
but we'll cross that bridge when we get there

[03:54:40.0000] <darobin>
re the split, how about I take attributes — fonts and you take foreigncontent — xhtml5

[03:54:58.0000] <darobin>
then after someone finishes his lot we can resplit or whatevs

[03:55:06.0000] <Ms2ger>
/me looks

[03:55:20.0000] <Ms2ger>
Do you have a list?

[04:00:31.0000] <erlehmann>
where is the data? https://developers.google.com/webmasters/state-of-the-web/2005/

[04:00:54.0000] <darobin>
Ms2ger: sorry, got dropped

[04:00:57.0000] <darobin>
a list of what?

[04:01:15.0000] <Ms2ger>
The list that goes from attributes to xhtml5

[04:01:42.0000] <darobin>
oh, I was just looking in https://github.com/w3c/html-testsuite/tree/temp/robin/tests/html

[04:02:05.0000] <darobin>
err, no, I really wasn't

[04:02:38.0000] <darobin>
Ms2ger: I was looking here https://dvcs.w3.org/hg/html/file/217839a97ea9/tests/approved

[04:02:51.0000] <Ms2ger>
Ah

[04:03:00.0000] <Ms2ger>
OK

[04:03:37.0000] <darobin>
I just split that in twain

[04:10:57.0000] <annevk>
erlehmann: there are some datasets, but none of them is very comprehensive

[04:11:23.0000] <erlehmann>
annevk, a list of urls would suffice. i can spider!

[04:11:26.0000] <annevk>
erlehmann: Google's data is not public

[04:11:59.0000] <erlehmann>
does mozilla have public data?

[04:12:34.0000] <annevk>
erlehmann: http://www.paciellogroup.com/blog/2012/04/html5-accessibility-chops-data-for-the-masses/ has a "top 10000" sites

[04:13:15.0000] <annevk>
there's another one, but I forgot the links

[04:13:21.0000] <erlehmann>
thx

[04:13:36.0000] <erlehmann>
> (Please only download if you are going to make use of the data)

[04:13:38.0000] <erlehmann>
oh i will!

[04:13:58.0000] <annevk>
I wonder if someone created a wiki page for this

[04:16:44.0000] <annevk>
http://wiki.whatwg.org/wiki/Data

[04:18:04.0000] <darobin>
there's also a Community Group about datasets

[04:20:04.0000] <annevk>
http://www.w3.org/community/webobservatory/ ?

[04:20:12.0000] <annevk>
not sure that's quite the same

[04:21:29.0000] <erlehmann>
i'll use the 10000 html files first

[04:25:07.0000] <Ms2ger>
darobin, so, on your branch, where are the tests?

[04:28:47.0000] <MikeSmith>
yeah I know what script does that sync

[04:29:42.0000] <MikeSmith>
have to be ssh'ed into the dvcs.w3.org server to do it

[04:30:01.0000] <MikeSmith>
to add similar setup for another repo

[04:30:08.0000] <MikeSmith>
or to modify it

[04:31:04.0000] <darobin>
Ms2ger: on my branch, there are no tests :)

[04:31:11.0000] <Ms2ger>
!

[04:31:18.0000] <Ms2ger>
We're done, then? :)

[04:31:22.0000] <darobin>
yay!

[04:31:39.0000] <darobin>
I just nuked everything; I thought I'd move stuff from the hg repo

[04:33:05.0000] <Ms2ger>
That seems suboptimal

[04:33:11.0000] <darobin>
annevk: no, I meant http://www.w3.org/community/data-driven-standards/

[04:33:49.0000] <darobin>
Ms2ger: well, mv path/to/hg/stuff or git mv oldpath newpath didn't strike me as a big diff

[04:34:19.0000] <darobin>
but I can easily regenerate a repo in which the old structure has the tests in old-tests or some such

[04:34:45.0000] <Ms2ger>
The difference is that one preserves history and the other doesn't, no?

[04:34:57.0000] <darobin>
true

[04:37:00.0000] <annevk>
darobin: added to the wiki

[04:37:27.0000] <darobin_>
(well, I'll finish eating first, but after that it won't take a second)

[04:37:45.0000] <Ms2ger>
You sound French :)

[04:37:58.0000] <MikeSmith>
cheese course

[04:38:53.0000] <darobin_>
I am indeed eating a meal I got from the boulangerie next door

[04:53:04.0000] <annevk>
DOM now depends on HTML

[04:53:55.0000] <annevk>
Looking forward to hearing again about modularization

[04:54:46.0000] <SimonSapin>
annevk: how do you think we should compare URLs to break @import cycles?

[04:55:18.0000] <annevk>
SimonSapin: serialize the parsed object sans fragment identifier

[04:55:22.0000] <annevk>
SimonSapin: compare that

[04:55:44.0000] <annevk>
SimonSapin: that's what happens elsewhere in the platform, e.g. for <iframe>

[04:55:47.0000] <annevk>
at least per Hixie

[04:56:04.0000] <darobin>
hey we can have modularisation — it's just that we have this humongous blob as one of the modules :)

[04:56:31.0000] <SimonSapin>
annevk: makes sense. Thanks

[04:56:36.0000] <Ms2ger>
Which blob? "The Web"?

[04:56:53.0000] <darobin>
heh

[04:56:56.0000] <SimonSapin>
annevk: that implies normalizing percent-encoding, right?

[04:57:30.0000] <darobin>
actually, I've been meaning (as an idle research project that will likely never happen) to trace all the cross references to see if any logical modules appear

[04:57:31.0000] <Ms2ger>
Maybe we should merge the webapps/html test suites too

[04:57:54.0000] <darobin>
we probably could

[04:59:25.0000] <Ms2ger>
On another note, why not move html/canvas2d/microdata to the top level instead of putting them in tests/?

[04:59:54.0000] <darobin>
mmm, no strong opinion from me

[05:01:30.0000] <Ms2ger>
Alright, move them up, then :)

[05:02:08.0000] <Stevef>
erlemhann:note there is about 100 google search pages in there that are all the same (but from dif URLS)

[05:03:53.0000] <erlehmann>
stevef, thx

[05:03:57.0000] <Stevef>
darobin: there is also http://www.w3.org/community/webdevdata/ marcosc: stareted it recently but no much happened as yet

[05:04:16.0000] <Stevef>
erlehmann: no problem

[05:04:48.0000] <darobin_>
looks to me like some of those CGs could be merged

[05:04:58.0000] <SimonSapin>
annevk: actually I already have something like this in WeasyPrint to decide if an hyperlink is internal or external (they’re represented differently in PDF)

[05:04:58.0000] <darobin_>
/me shakes fist at crappy network

[05:18:10.0000] <annevk>
SimonSapin: no it doesn't normalize percent-encoding

[05:22:02.0000] <annevk>
darobin_: whenever I look at modularization of stuff I don't really see a way out

[05:22:18.0000] <annevk>
darobin_: but your CEO seems to think it's possible so hey, must work!

[05:22:57.0000] <annevk>
darobin_: although Fetch should prolly be factored out

[05:26:14.0000] <darobin>
annevk: a few things can be factored out, and I think that if we really tried we could do more of it, but the big question is cost

[05:30:28.0000] <erlehmann>
currently finding out IDs of elements

[05:31:15.0000] <erlehmann>
using this with a directory of html files http://mister-muffin.de/p/7aN4

[05:31:27.0000] <erlehmann>
as “./fragmentids.py html > html-id-list”

[05:33:32.0000] <annevk>
darobin_: such as?

[05:35:21.0000] <darobin_>
/me being driven mad by this net connection

[05:36:17.0000] <MikeSmith>
/me tries to lend darobin_ some network

[05:37:26.0000] <darobin_>
thanks man

[05:37:46.0000] <darobin_>
there's plenty of it, just in discrete chunks

[05:42:15.0000] <darobin_>
Ms2ger: so one advantage of having the spec dirs under "tests" is that I can point the root of a web server at that dir and not worry about also exposing tools and other such stuff

[05:42:23.0000] <darobin_>
but that's not a super strong case

[05:42:36.0000] <darobin_>
so if you want them at the root, speak inside of the next minute

[05:42:43.0000] <darobin_>
or forever hold your peace

[05:43:13.0000] <darobin>
Ms2ger: the branch with history is temp/new

[05:51:30.0000] <darobin>
Ms2ger: ok, I put a moving.txt file in there with assignments for movign

[05:51:52.0000] <darobin>
obviously, you don't have to do all of that, it's just that I won't do what's in your basket for now

[05:57:57.0000] <Ms2ger>
OK

[06:06:54.0000] <Ms2ger>
Oh man

[06:07:03.0000] <Ms2ger>
I forgot how awful those MS tests were

[06:09:28.0000] <darobin>
yeah, I hadn't seen them in a while and I'm feeling exactly the same...

[06:09:30.0000] <Ms2ger>
darobin, I think I'm going to get rid of the subdirs in syntax/parsing

[06:09:48.0000] <darobin>
Ms2ger: do as makes sense to you

[06:10:01.0000] <Ms2ger>
Hmm

[06:10:09.0000] <darobin>
but if you could keep a list of the changes that you make to the tree I'd appreciate it

[06:10:12.0000] <Ms2ger>
Do I need to create a new contains.json then?

[06:10:19.0000] <darobin>
that way I can tailor the script to keep them up to date

[06:10:21.0000] <darobin>
no, don't both

[06:10:23.0000] <darobin>
bother

[06:10:25.0000] <Ms2ger>
OK

[06:10:42.0000] <darobin>
if you tell me that this and that dir are only level 2, I'll make the script know about that

[06:10:47.0000] <darobin>
and it'll generate the contains.json

[06:10:49.0000] <Ms2ger>
Sounds good

[06:11:02.0000] <darobin>
metadata is only good if you don't have to write it

[06:11:48.0000] <darobin>
the stats on how many tests have link@rel=help in there being a good proof if ever we needed one that humans cannot be entrusted with metadata

[06:12:13.0000] <darobin>
once we're done moving I'll also make a script that fixes all the broken links in there, gonna be many

[06:12:19.0000] <darobin>
Ms2ger: so don't bother about broken stuff

[06:13:31.0000] <darobin>
mmmmm, actually that script could be problematic if I don't want to break things (e.g. that test links)

[06:13:34.0000] <darobin>
I'll figure out a way

[06:14:18.0000] <Ms2ger>
Oh, woop

[06:14:19.0000] <Ms2ger>
s

[06:14:30.0000] <Ms2ger>
darobin, can you give me push access? :)

[06:18:26.0000] <darobin>
heh

[06:20:46.0000] <darobin>
Ms2ger: do you have push rights to any of the repos in https://github.com/w3c ?

[06:20:50.0000] <darobin>
/me can't seem to find you

[06:20:56.0000] <Ms2ger>
Don't think so

[06:22:46.0000] <darobin>
I've added you to "HTML WG"

[06:22:49.0000] <darobin>
/me MUAHAHAHAHA

[06:22:58.0000] <darobin>
anyhoo, you should now have access

[06:23:00.0000] <Ms2ger>
Noooo :)

[06:23:10.0000] <hober>
:)

[06:24:59.0000] <darobin>
looking at some of these tests, I hesitate between truly hardcore and very soothing music

[06:25:48.0000] <Ms2ger>
data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMgAAADNCAYAAAD9lT8tAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAolBJREFUeNrsfQeAHWW1/2/a7W33bi/JJptsNr2HFEILNVLFx1NREZUHz/fUZ33+7YhYn9grdgVRERCQXgIhhQRIb5u6vZfb25T/Od/M3d0UEFSaZMLHLXvv3JlvTvn9zjnfGfUmrMLJ7XWxNdKYS+NOGtbJ6XhlNvnkFLxutrfSWHxSOU4qyMnt+G0Bjf9Ho/vkVJxUkJPb0dt8Gn+i4adx5OR0nFSQV+q8Q68TWHUPjck04jS6TorsSQV5pbZLaHyGhvQaPLZFNP5IZOMWA1at8x57j0MnRfakgrwSm0njMI0v0LifRtNr4Jg4SvV2GnfTeIoO8N8sWHLFdBcUTe

[06:25:48.0000] <Ms2ger>
jwHhpDJ0X2ld3UN/C5b6SxgcZ5NB6i8QEHzrwSm+Rwitk0znQ8xkIaE3RYpL0WAiEVp14fgUSffPB/BulCSfefFNeTCvJKbIrjMdgiP0zjVBoTafyOxkdo/Pyf/HsajUoaDfw7BJua6XEJ7MhUmLyExnFbw9GaskYNDWd7Mf+6IErmuXDXeb28j37H053cTirIK2K9/5OGi8ZWGnl+Ltmk/ackrMP0eMc/sP8wjTk0ZtG+FhGHaCSPUC1BaiTNVGT6eYmeyIokVNUTUVFCfymb5ULtcjdqlrkRmKKJHY3syKN9bZY+Jv2RXvadFNeTCvJKbDrssOmTNBI8BxbNQmyGhNBeS5bzQkkG6f0nXsI+OYG3gsa59N0lpBBhgkqqiyheOQl7aKKKUIOGsukagnUKAjUKfJUy3GFSF1mC4pYgeyRbTXXaQ5oYiEfGlh8mkMmY5IIkH+37az

[06:25:49.0000] <Ms2ger>
SqYScKLYdD7aKxl8Zuh1e9EsbFOqkg//rb0zQO0JgiIhWEbwbOUDC0lJjyT/UoScAP6e2VL4IU/xuN9zBMI08RYAlViTRUzXZhyiU+VC10o2yGhsAklf9gy5aJccORNX5gxSg4r/0ShrfmsPdPKch2kO3q4seYn1iOpNpD6qfH7fT0MRp/prH/ZVKWd9LocWDpSQX5F98YVj1eVBCJJM4VA45cR3Bnq4XoJmMG6cwNDnE/kbDNpPENGhewsBboI8FSFY3nezHr6gCqFrmgkHcQDLso+LkXaXg5rkif3XBDDIlBg8k57d8S/9yKgmCFAlmTYNJ+s8Mme5hyUppVpEirCLF9hhRmq2RHwjY5RqDtH5wrhqLvo/EVGm9+I0KsSTS8zmTm30Dn/hSNa4q4wdNDIkgwp+1qgkN7TShx62oS6V/Sn5455ntvo/FtGhUsuC5iFQuuCmEeke

[06:25:53.0000] <Ms2ger>
ryxS5bnfL0zQwN6yWiET4Qr4Jt34phxx0p4TPcIQXTV3sx4QwPwTQFflIQxVGQzCApCCnJyP4C+rbk0bu14B05WFimm9Yy8mjMXQ7S2ONAsY0OHDvswEzjbwQWGM5dROMKGqc53332jaggj9KootFB47cOPt/7Bjj3Q46QKCyIapImIychOUvGwKkyqu8zvPTHD9Pfrxz3nWtp/IjEXuJwbPUsN1beGEHDRV5buNPW34/Q+fs+GQf/lMSazwyBCAwWXB3Goo+GEJxAh+h2Ulam8xv0+RK5mOO0xG/rpJQDOws48mgG7Wty9DzfGBvWG0lJLqRh0aez9OGk41UOO885Q38EdpCCk5IRJ8hQBzsUXdxu57jBGy6icxNWFYpQq0CzTpehR4H1e3r5ffxrZ26bHeNAlJkEa6WKfd9wQ85a8O82MeO/c5BNAYwWOCT4XBp/odcets5z3h

[06:25:58.0000] <Ms2ger>
7AGV8rgbtOtUm1NU7Q8RKpLAeeiZQfuj2Fe67qh0F+/E0/i2LaVQHb1heso4EeP7dMG45J8nhCYnMdvpp0Hn1b8+hYm8PhBzLofjqHXMqC4cA1yb7WzuGOHbTYNb3Wjj5CNiSz3iCG8+hLcx4mv8+AFJ68OIOpy+KItRuBdF5bRpj2SsnGn+yeM/+i58/woZIFJdMgY+gcDQrZ2E

[06:26:01.0000] <Ms2ger>
... Oops

[06:28:12.0000] <darobin>
lol

[06:29:00.0000] <zewt>
i don't think irc supports data:

[06:29:42.0000] <darobin>
#whatwg — the best place for Ms2ger pr0m

[06:29:45.0000] <darobin>
err pr0n

[06:30:10.0000] <Ms2ger>
What? No, I don't want to go to prom with you!

[06:49:26.0000] <Ms2ger>
Hrm, xhtml5

[06:50:14.0000] <darobin>
Ms2ger: in case it helps, in tools/scripts/id2path.js is a script; you give it an ID and it returns the path

[06:50:43.0000] <Ms2ger>
<i>Note - This test checks for User Agent requirement as per HTML5 spec NOT the author requirement</i>

[06:50:49.0000] <Ms2ger>
Yes, thank you, MS...

[06:51:20.0000] <Ms2ger>
darobin, the main issue is finding the ID :)

[06:51:43.0000] <darobin>
yeah I know, but some of the file in there have that metadata — at least those can be processed faster :)

[06:52:02.0000] <darobin>
the tests are littered with that statement :)

[06:52:15.0000] <Ms2ger>
I love how area_noref.xhtml is a test for no*h*ref

[06:56:03.0000] <darobin>
I was wondering if this wouldn't be a good moment to rename files

[06:56:08.0000] <darobin>
I mean, since we're moving them anyway

[06:56:21.0000] <darobin>
in audio a lot of them are prefixed with audio_

[06:56:27.0000] <darobin>
which is daft

[06:57:32.0000] <Ms2ger>
Yeah

[06:57:50.0000] <Ms2ger>
Except for audio_001.htm, I think that's slightly better than 001.htm

[07:00:32.0000] <darobin>
yeah I guess

[07:00:38.0000] <darobin>
it's a terrible name either way :)

[07:01:58.0000] <darobin>
then again audio_001/2 didn't end up with audio_003

[07:02:08.0000] <Ms2ger>
Hrm

[07:02:23.0000] <Ms2ger>
When an img element, object element, or input element with a type attribute in the Image Button state is contained within a hyperlink and has a border attribute whose value, when parsed using the rules for parsing non-negative integers, is found to be a number greater than zero, the user agent is expected to...

[07:02:37.0000] <Ms2ger>
Does that mean border='' only works inside a hyperlink?

[07:06:02.0000] <darobin>
I thought border did nothing outside of a link anyway?

[07:06:52.0000] <darobin>
but then again, the only role img@border ever had was as something everyone set to 0 in their template

[07:07:10.0000] <Ms2ger>
http://w3c-test.org/html/tests/approved/xhtml5/img_border_percent.xhtml

[07:07:15.0000] <Ms2ger>
What's up here, then?

[07:08:37.0000] <Ms2ger>
/me moves it back to submissions

[07:10:04.0000] <darobin>
the test runs correctly in implems

[07:10:11.0000] <darobin>
I don't see why it's in XHTML though...

[07:10:36.0000] <darobin>
and I can't be arsed to look up @border in the spec, it brings back too many bad memories :)

[07:10:55.0000] <darobin>
good things those audio tests are being moved to media-elements — half of them apply to video too...

[07:25:36.0000] <Ms2ger>
Gah

[07:25:51.0000] <darobin>
you don't say

[07:26:59.0000] <Ms2ger>
darobin, do tell, how do I get that last commit out of the repo? :)

[07:27:18.0000] <darobin>
you mean revert something you pushed?

[07:27:45.0000] <Ms2ger>
Yeah

[07:28:25.0000] <darobin>
git revert deadb33f... should work

[07:28:46.0000] <darobin>
that's if you want to keep history

[07:29:06.0000] <Ms2ger>
Not really

[07:29:12.0000] <darobin>
if you did something particularly stupid like commit your credit card number, you'll want history rewriting tricks

[07:29:34.0000] <darobin>
well, unless there's a very strong reason to rewrite history in a shared repo, really don't :)

[07:29:41.0000] <Ms2ger>
Hmm, I seem to have already managed to destroy your base64 change

[07:29:51.0000] <darobin>
that's not nice of you

[07:30:11.0000] <darobin>
just do a revert

[07:30:15.0000] <Ms2ger>
Which doesn't make sense, because I still have it locally

[07:30:38.0000] <darobin>
it creates a commit that's the opposite of the one that you don't like

[07:31:19.0000] <Ms2ger>
And now I can't pull...

[07:31:21.0000] <Ms2ger>
/me clones again

[07:31:47.0000] <darobin>
it's quite fascinating to see how you have the same problems with git that I always have with hg :)

[07:32:00.0000] <Ms2ger>
This always happens when I use git

[07:33:05.0000] <darobin>
Ms2ger: it reminds me when I used to work for Joost

[07:33:30.0000] <darobin>
I had a windows laptop that I only ever used for testing, very limited stuff (checkout, start the app, see that it works, move on)

[07:33:41.0000] <darobin>
it was a perfect clone of the same setup everyone else had

[07:33:53.0000] <darobin>
but mine would always get weird problems, like losing the key to encrypted dirs and the such

[07:34:11.0000] <darobin>
they changed the hardware three time, but still the same

[07:34:35.0000] <darobin>
they eventually figured out that it was a fundamental incompatibility between me and windows, inscribed in the laws of the universe

[07:36:27.0000] <Ms2ger>
Boo, windows :)

[07:39:26.0000] <Ms2ger>
Okay, base64 is back

[07:40:33.0000] <odinho>
Ms2ger: http://software.hixie.ch/utilities/js/live-dom-viewer/?saved=2030  waat is it? :|

[07:41:45.0000] <Ms2ger>
odinho, it was a sad unicorn

[07:53:09.0000] <Ms2ger>
darobin, stole a few of yours, btw

[07:55:56.0000] <darobin>
Ms2ger: cool, not canvas I hope

[07:56:08.0000] <Ms2ger>
No

[07:56:10.0000] <darobin>
good

[07:56:24.0000] <darobin>
because there's fuckloads of those and they're taking me a little while ot move :)

[07:56:39.0000] <Ms2ger>
Yeah

[07:56:43.0000] <Ms2ger>
They need an update, too

[07:56:58.0000] <darobin>
indeed

[07:57:03.0000] <darobin>
but that will wait a bit :)

[08:05:32.0000] <Ms2ger>
ssh: Could not resolve hostname github.com: Name or service not known

[08:05:37.0000] <Ms2ger>
Kris is right after all!

[08:07:35.0000] <hober>
I take it I should be happy I'm not on public-html-testsuite?

[08:08:00.0000] <Ms2ger>
You should be happy you're not my terminal

[08:08:14.0000] <Ms2ger>
Because I'd have to beat you :)

[08:14:28.0000] <SimonSapin>
does firefox have something like about:memory but for CPU usage?

[08:15:00.0000] <Ms2ger>
Not AFAIK

[08:15:16.0000] <Ms2ger>
Sounds difficult to do, too

[08:16:53.0000] <Ms2ger>
darobin, going to do dataset too

[08:19:06.0000] <darobin>
Ms2ger: ok, that's the last one, right?

[08:19:11.0000] <darobin>
/me just finished canvas

[08:19:12.0000] <Ms2ger>
Yep

[08:19:42.0000] <darobin>
did you end up only limiting to 2 inside syntax/parsing?

[08:19:48.0000] <Ms2ger>
Yeah

[08:19:51.0000] <darobin>
sweet

[08:23:00.0000] <Ms2ger>
Okay, looks like we're done

[08:23:28.0000] <Ms2ger>
Worked with git for a couple of hours and only hosed my repo once... Today was a good day.

[08:24:07.0000] <darobin>
hahaha

[08:24:20.0000] <darobin>
I sense that you are coming over to the dark side

[08:24:32.0000] <darobin>
/me high-fives Ms2ger

[08:24:38.0000] <darobin>
thanks a lot for that

[08:24:51.0000] <Ms2ger>
/me accidentally smacks darobin in the face

[08:24:52.0000] <darobin>
the update script now takes depth limitations into account and all, tpoo

[08:24:54.0000] <Ms2ger>
Np :)

[08:25:07.0000] <JonathanNeal>
good morning from southern california

[08:25:08.0000] <darobin>
hehe :)

[08:27:47.0000] <erlehmann>
1039 web % grep '&' html-attrib-id -c     2012-12-19 17:27:26 erlehmann pts/12

[08:27:47.0000] <erlehmann>
4

[08:28:17.0000] <erlehmann>
1045 web % grep '#' html-attrib-href | cut -d'#' -f2 | grep '&t=' -c

[08:28:17.0000] <erlehmann>
0

[08:29:36.0000] <erlehmann>
IDs using „&“ are stuff like „home_header_Food & Wine

[08:29:36.0000] <erlehmann>
bestseller_Clothing & Accessories

[08:29:37.0000] <erlehmann>
“

[08:29:41.0000] <erlehmann>
well

[08:30:43.0000] <erlehmann>
1058 web % grep ';' html-attrib-id -c     2012-12-19 17:30:22 erlehmann pts/12

[08:30:44.0000] <erlehmann>
0

[08:31:46.0000] <erlehmann>
this “grep '#' html-attrib-href | cut -d'#' -f2 | grep ';' -c” finds only JavaScript URIs

[08:31:56.0000] <erlehmann>
i'll summarize my findings on the list

[08:34:56.0000] <Ms2ger>
darobin, what kind of broken links were you seeing, btw?

[08:35:12.0000] <darobin>
Ms2ger: a bunch of things refer to common/*

[08:35:20.0000] <Ms2ger>
Ah, hmm

[08:35:27.0000] <darobin>
some refer to green-100x50.png

[08:35:33.0000] <darobin>
there might be a few others

[08:36:09.0000] <darobin>
$ grep -r common/ tests/* | wc -l

[08:36:09.0000] <darobin>
    1657

[08:36:14.0000] <darobin>
"a bunch"

[08:36:43.0000] <darobin>
$ grep -r green-100 tests/* | wc -l

[08:36:44.0000] <darobin>
     411

[08:37:18.0000] <darobin>
I see a lot of <script src="../../resources/testharnessreport.js"></script> too

[08:37:33.0000] <darobin>
always in files that have <script src="/resources/testharness.js"></script> right above it

[08:37:41.0000] <darobin>
which, ahm, how shall I put this?

[08:37:59.0000] <Ms2ger>
Kris

[08:38:01.0000] <darobin>
anyway, I'm going to fix those pretty quickly I reckon

[08:38:11.0000] <Ms2ger>
I fixed one of these

[08:38:15.0000] <darobin>
ok

[08:38:24.0000] <darobin>
but don't bother, I'll fix them with automation

[08:38:59.0000] <darobin>
Everybody Stand Back!

[08:39:04.0000] <darobin>
(ob https://xkcd.com/208/)

[08:39:07.0000] <Ms2ger>
/me stands well back

[08:43:04.0000] <JonathanNeal>
Nice.

[08:49:50.0000] <Stevef>
JonathanNeal: for you from earlier (in case you missed) http://krijnhoetmer.nl/irc-logs/whatwg/20121219#l-326

[08:50:34.0000] <JonathanNeal>
thanks Stevef, reading

[08:51:57.0000] <Stevef>
JonathanNeal: also see http://www.w3.org/html/wg/wiki/User:Sfaulkne/main-usecases#Introduction if it is of interest

[08:52:49.0000] <JonathanNeal>
Wow, just finished the first one. That's a pretty strong correlation.

[08:56:34.0000] <Stevef>
JonathanNeal: the data set is freely available for anyone to analyse and provide argument against...

[09:00:18.0000] <Stevef>
JonathanNeal: I also drilled down into a random sample of the pages that use id=main|content to look at what elemtn with the id contains https://docs.google.com/spreadsheet/ccc?key=0AlVP5_A996c5dHozOW14RkF4NEdEUFRvemxCZ2I4Z3c

[09:06:56.0000] <JonathanNeal>
Stevef: one question, regarding "The <main> element is a semantic element not unlike other new semantic elements such as <header>, <footer>, <aside>, <article>, <nav>, or <section>. Thus, it can also serve other uses where the main content on a Web page/Web application needs to be identified." Doesn't this give it the more liberal definition, e.g. allowing multiple <main> elements within a document?

[09:13:33.0000] <Stevef>
JonaThanNeal: don't think so the spec is pretty clear on that

[09:14:06.0000] <JonathanNeal>
Okay.

[09:15:37.0000] <Stevef>
JonaThanNeal: the 'other uses' Silvia's words , refers to utility for search engines as a styling hook, etc

[09:16:18.0000] <Stevef>
search engines, as a styling hook etc

[09:23:53.0000] <JonathanNeal>
Yes, I kept reading it incorrectly, associating it with sectioning groups, like <header>, <footer>, <aside>, <article>, <nav>, or <section>.

[09:39:13.0000] <Ms2ger>
Oh look, CSS is discussing case-sensitivity again

[09:40:00.0000] <Ms2ger>
... or not

[09:48:17.0000] <tantek>
Ms2ger - gotta pay (play?) more attention ;)

[09:51:33.0000] <Ms2ger>
sylvaing [IE]: Our browser sticks around a bit longer than the average

[09:51:50.0000] <Ms2ger>
That's a late submission for the understatement of the year right there

[10:01:44.0000] <tantek>
Ms2ger: "but we decided that last week" "no reason not to requestion it this week" ;)

[10:02:00.0000] <Ms2ger>
Sounds like the CSSWG

[10:03:19.0000] <jwalden>
there's always time to discuss it in committee!

[12:29:20.0000] <TabAtkins>
I know SVG was approved over standing FOs.  Wasn't there a big XML spec that got similar treatment?  Any others?

[12:30:29.0000] <Hixie>
http://ln.hixie.ch/?start=1155235213&count=1

[12:30:46.0000] <Hixie>
(it wasn't just standing FOs)

[12:31:06.0000] <Hixie>
dunno about xml though

[12:31:23.0000] <Hixie>
many specs went from LC to PR without a real CR, though

[12:31:39.0000] <Hixie>
technically though the process document does let you not bother with CR if you don't feel like it

[12:31:58.0000] <Hixie>
and you can ignore FOs if the director or his agents say you can

[12:32:32.0000] <TabAtkins>
Right, the director can let you ignore anything.  Just because a process violation is legal doesn't mean it's a good idea.  ^_^

[12:32:53.0000] <Hixie>
just because it's not a process violation doesn't mean it's a good idea either :-D

[12:33:25.0000] <shepazu>
you can only skip CR if you have satisfied all the CR exit criteria already… seems like a good optimization to me

[12:33:47.0000] <Hixie>
by "skip CR" i mean not bother proving interop

[12:33:59.0000] <shepazu>
nope, process doesn't allow that

[12:34:01.0000] <Ms2ger>
Hey, the web has proven interop

[12:34:14.0000] <Hixie>
shepazu: then how did SVG ever get to REC?

[12:34:41.0000] <shepazu>
Hixie: we have a stricter definition of interop now than we had back then

[12:34:52.0000] <shepazu>
times change

[12:34:53.0000] <Hixie>
yet the process hasn't hanged

[12:34:54.0000] <Hixie>
changed

[12:35:10.0000] <Hixie>
so either the process was being violated then, or it's still allowing the looser definition now

[12:35:13.0000] <shepazu>
the process isn't law… it's guidelines, to be interpreted

[12:35:21.0000] <Hixie>
clearly

[12:35:29.0000] <shepazu>
yup, clearly

[12:35:35.0000] <Hixie>
/me shall "interpret" it to mean "stop bothering with the w3c"

[12:36:11.0000] <shepazu>
your call :)

[12:36:26.0000] <shepazu>
the rest of us will still act like a society and work together :P

[12:36:36.0000] <Ms2ger>
Ha. Ha. Ha.

[12:36:47.0000] <shepazu>
you should make one of those separatist petitions :)

[12:36:55.0000] <Ms2ger>
You clearly aren't in webapps if you think that

[12:37:26.0000] <shepazu>
Ms2ger: who says people in a society always get along?

[12:37:38.0000] <Hixie>
shepazu: i did: http://whatwg.org/C

[12:37:44.0000] <Ms2ger>
You said something about "work together"

[12:38:03.0000] <shepazu>
Hixie: yup, you did a good job with that

[12:38:13.0000] <Krinkle>
Ms2ger: There are tests? Interesting, can you tell me more / point me somewhere?

[12:38:17.0000] <Hixie>
Ms2ger: syria is a "society" too

[12:38:17.0000] <shepazu>
it really woke w3c up

[12:38:44.0000] <Ms2ger>
shepazu, not for long

[12:39:07.0000] <Ms2ger>
Krinkle, I don't know if there are good ones for traversal

[12:39:15.0000] <Krinkle>
Ms2ger: What kind of tests?

[12:39:21.0000] <shepazu>
Ms2ger: w3c is a much better, more open environment than when I first got involved… always room for growth, of course, even with WHATWG

[12:39:54.0000] <Hixie>
more open, except that the flagship wg has two lists so private even the members don't see the archives

[12:40:07.0000] <Ms2ger>
Krinkle, http://w3c-test.org/webapps/DOMCore/tests/ has some

[12:40:58.0000] <shepazu>
Hixie: I personally believe that 1) all w3c wgs should operate in the public and 2) the HTML WG is a mess (which you helped to create)

[12:41:10.0000] <Hixie>
on that we can agree

[12:41:20.0000] <Krinkle>
Ms2ger: Interesting, that's exactly what I was looking for.

[12:42:50.0000] <Krinkle>
Ms2ger: I'm currently writing QUnit tests for my project, I'll let you know when I'm ready.

[12:42:58.0000] <Krinkle>
Ms2ger: What I have so far is very similar to view-source:http://w3c-test.org/webapps/DOMCore/tests/submissions/Ms2ger/Document-createTreeWalker.html

[12:43:14.0000] <Krinkle>
and qunit's syntax is similar to what you're using there

[12:44:04.0000] <Ms2ger>
You're always welcome to use testharness.js and submit your tests :)

[12:44:50.0000] <Krinkle>
Ms2ger: Are they also on github?

[12:45:25.0000] <Krinkle>
(the tests)

[12:45:38.0000] <Ms2ger>
Doesn't look like it

[12:45:43.0000] <Ms2ger>
MikeSmith, why not? :)

[12:45:45.0000] <Krinkle>
I can't figure from http://w3c-test.org/ where it is stored

[12:46:03.0000] <Krinkle>
Ah, http://w3c-test.org/webapps/README

[12:46:24.0000] <Krinkle>
Right, github is the mirror.

[12:46:24.0000] <Ms2ger>
Sorry, http://dvcs.w3.org/hg/webapps

[12:47:10.0000] <Krinkle>
How do you take submissions? pull requests via github and submitted internally by those with commit access to hg? Or some other process?

[12:47:41.0000] <Krinkle>
oh, lol, you created those tests just a few hours ago

[12:47:56.0000] <Ms2ger>
This one, yes, because I was looking at your bug :)

[12:48:38.0000] <Krinkle>
webkit has -1 for SHOW_ALL, strange.

[12:49:08.0000] <Krinkle>
effectively the same as 0xFFFFFFFF in bitmasks ? Not sure.

[12:49:26.0000] <Ms2ger>
Yeah

[12:49:28.0000] <Krinkle>
bitmasks always confuse me, I've been putting it off for a long time. I want to understand them, but usuaully avoid them.

[12:49:53.0000] <Krinkle>
my js implementation of tree walker took about 2 hours, but the bit mask bit of acceptNode was like an hour of that.

[12:50:00.0000] <Ms2ger>
The bitmask arguments are 'unsigned long', which wraps modulo 2^32

[12:50:14.0000] <Krinkle>
That makes sense.

[12:58:44.0000] <Krinkle>
Ms2ger: btw, whatToShow defaulting to SHOW_ALL, currently the spec doesn't say (and anything else is casted to 0)

[12:59:08.0000] <Ms2ger>
It does in the IDL block

[12:59:21.0000] <Ms2ger>
  TreeWalker createTreeWalker(Node root, optional unsigned long whatToShow = 0xFFFFFFFF, optional NodeFilter? filter = null);

[12:59:47.0000] <Krinkle>
Ah, in createTreeWalker, not in TreeWalker itself

[12:59:50.0000] <Krinkle>
Okay

[12:59:57.0000] <Ms2ger>
Right

[12:59:59.0000] <Krinkle>
I didn't look in interface Document yet

[13:00:00.0000] <Krinkle>
thanks

[13:00:09.0000] <Ms2ger>
Np

[13:02:54.0000] <jgraham>
Ms2ger, darobin: you guys are awesome

[13:04:08.0000] <jgraham>
In much the same way that QUnit isn't

[13:04:22.0000] <Ms2ger>
Heh

[13:05:19.0000] <jgraham>
(fun story that I probably told before: we run all the jQuery tests in Opera. On the 31st of every month a whole bunch of date tests fail because apparently the person who wrote them didn't really understand how months worked)

[13:06:03.0000] <jgraham>
(not QUnit's fault of course, but a good way of knowing when it's the end of a 31-day month)

[13:06:11.0000] <jgraham>
(if you work for Opera)

[13:06:44.0000] <jgraham>
(although maybe we his those results by now)

[13:07:02.0000] <Ms2ger>
I would've assumed someone would have sent jquery a patch by now

[13:19:40.0000] <Krinkle>
Ms2ger: jQuery core? Or a jQuery plugin

[13:19:49.0000] <Krinkle>
Not sure how dates are relevant to jQuery

[13:19:56.0000] <Krinkle>
/me is a jQuery member.

[13:19:59.0000] <Ms2ger>
301 jgraham

[13:31:39.0000] <jgraham>
Well it might be an old version

[13:31:45.0000] <jgraham>
I don't remember

[13:33:02.0000] <jgraham>
We went through a phase of importing every version of major libraries' testsuites since the old version is still found in the wild after the new release

[13:33:24.0000] <jgraham>
Which is sometimes a major problem (c.f. TinyMCE)

[13:33:50.0000] <Ms2ger>
True

[14:18:37.0000] <jsbell>
odinho: ping?

[14:18:56.0000] <jsbell>
sicking: ping?

[14:19:17.0000] <sicking>
jsbell: pong

[14:20:17.0000] <jsbell>
sicking: IndexedDB question: would you expect a blocked event to fire against a deleteDatabase's request if deleteDatabase() was called during a "versionchange" transaction (i.e. while another connection was opening) ?

[14:20:34.0000] <sicking>
jsbell: yes

[14:20:38.0000] <jsbell>
IE10 fires blocked. FF17/19 doesn't fire blocked.

[14:20:50.0000] <jsbell>
Cool. I would as well, just checking.

[14:21:14.0000] <sicking>
jsbell: i'll file a FF bug, thanks for finding this

[14:21:24.0000] <jsbell>
No problem. Chrome doesn't but I'm fixing that.

[14:21:47.0000] <sicking>
jsbell: by the way, latest released version(s) of chrome uses the new version API, right?

[14:22:28.0000] <sicking>
someone poked me about it on twitter

[14:23:29.0000] <jsbell>
sicking: yes. 23 (stable) has it with some caveats around open w/o an explicit version (we fall into a back-compat path); 24 (beta) should be conformant

[14:23:51.0000] <sicking>
jsbell: awesome

[14:24:45.0000] <jsbell>
sicking: no kidding, sooooo much cleaner now

[14:25:07.0000] <sicking>
jsbell: by the way, we're using IDB heavily in B2G. It's the backend for our SMS, settings and address book databases. And several of the built-in apps use it too

[14:25:15.0000] <sicking>
B2G == Firefox OS

[14:25:33.0000] <jsbell>
cool.

[14:25:53.0000] <jsbell>
sicking: your impl is still on top of SQLite, right?

[14:26:15.0000] <sicking>
yeah, it likely won't change very soon. Too many other things are higher priority

[14:26:36.0000] <sicking>
might become a priority if someone can show that leveldb would give us significantly better performance

[14:26:44.0000] <sicking>
i think it would be faster, just a question of how much

[14:26:56.0000] <jsbell>
Heh. I was running performance comparisons and FF17 / Chrome25 / IE10 are all pretty close.

[14:27:03.0000] <sicking>
and apparently there are some nice things coming in sqlite4

[14:27:09.0000] <sicking>
jsbell: oh, cool

[14:27:47.0000] <sicking>
jsbell: oh, and we're going to support IDB for both temporary and permanent storage. Like you guys' filesystem stuff

[14:28:26.0000] <jsbell>
Nice. We still need to tackle Blobs in IDB.

[14:28:43.0000] <jsbell>
(speaking of using it for filesystem-like things...)

[14:28:44.0000] <sicking>
jsbell: we just landed the backend to support it. Next is adding the ability to control if from pages: https://bugzilla.mozilla.org/show_bug.cgi?id=785884#c3

[14:29:03.0000] <sicking>
yeah, looking forward to you guys supporting that :)

[14:30:11.0000] <jsbell>
.. and we'd discussed similar things around having open take a dict, for scoped storage, but haven't had to wire it up yet. I'll bookmark that.

[14:30:39.0000] <sicking>
"scoped storage"?

[14:30:48.0000] <sicking>
like session storage?

[14:31:11.0000] <jsbell>
temporary vs. permanent etc.

[14:31:14.0000] <sicking>
ah

[14:31:15.0000] <sicking>
yeah

[15:16:40.0000] <Hixie>
sortable tables...

[15:16:50.0000] <Hixie>
should the magic be on <th> or <col>?

[15:17:09.0000] <Hixie>
<col> has the advantage of making more sense, <th> the advantage of having half a chance of being in the markup

[15:17:12.0000] <Hixie>
i'm thinking <th>

[15:19:52.0000] <TabAtkins>
<col>!

[15:19:59.0000] <TabAtkins>
You can always add it if you want the functionality.

[15:20:10.0000] <TabAtkins>
Well, wait.  Are we only sorting columns?

[15:21:24.0000] <JonathanNeal>
awesome

[15:21:44.0000] <Hixie>
TabAtkins: i hadn't even considered we might want to sort rows

[15:21:50.0000] <Hixie>
TabAtkins: let's say yes, just columns

[15:22:46.0000] <Hixie>
man colspan/rowspan are going to make this unpleasant

[15:23:10.0000] <Hixie>
ugh, <col span>

[15:23:21.0000] <Hixie>
let's not use <col> for this

[15:23:39.0000] <Hixie>
using <th> makes styling easier too, we can put a pseudo-class on the <Th>

[15:23:58.0000] <Hixie>
i'm thinking <th>.sort() should only work if the <th> has no colspan="" (rowspan is fine)

[15:40:50.0000] <Hixie>
anyone want to take a crack at figuring out how you sort this table? http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2034

[15:42:28.0000] <Hixie>
i'm thinking that any sequence of spanning rows should get treated as one immutable row, sorted by the top cell of the relevant column

[15:43:25.0000] <Hixie>
where a sequence of spanning rows is defined as follows: a row A is in the same sequence as a row B if there is a cell that spans A and B

[15:49:30.0000] <TabAtkins>
+ transitivity, right?

[15:49:36.0000] <TabAtkins>
So that table is sorted as one row?

[15:50:59.0000] <TabAtkins>
Oh wait, duh, that's per-column.

[15:51:24.0000] <TabAtkins>
Or, hm.  No, you still have to do cross-column checking.

[15:53:37.0000] <Hixie>
yeah, that table would be one row

[15:53:42.0000] <Hixie>
row sequence

[15:57:30.0000] <mnot>
has there been any discussion of giving control to authors over whether images with display: none are downloaded?


2012-12-20
[16:00:31.0000] <Hixie>
mnot: not quite, but there has been discussion about whether to allow authors to say that images that aren't yet displayed should be deferred

[16:00:40.0000] <Hixie>
mnot: https://www.w3.org/Bugs/Public/show_bug.cgi?id=17842

[16:00:51.0000] <Hixie>
mnot: currently pending implementor interest

[16:01:09.0000] <zewt>
(usually you want to start loading when an image is "close" to being displayed, though, not when it's actually displayed--which makes that a bit harder, i suspect)

[16:02:28.0000] <mnot>
thx, that's helpful.

[16:02:48.0000] <mnot>
the interest I'm seeing is from web perf folks, esp. for mobile, looking at responsive design.

[16:03:00.0000] <mnot>
will comment on bug.

[16:03:04.0000] <zewt>
(at this point i flinch at the very word "responsive")

[16:03:12.0000] <mnot>
yes, yes. :)

[16:03:13.0000] <Hixie>
mnot: the only thing blocking the bug is implementor interest

[16:03:19.0000] <Hixie>
mnot: so commenting won't help :-)

[16:03:22.0000] <mnot>
ok

[16:03:25.0000] <Hixie>
mnot: what would help is advocacy to implementors

[16:03:35.0000] <mnot>
understood.

[16:03:41.0000] <zewt>
unless commenting might help convince implementors, if any implementors are watching the bug :)

[16:04:10.0000] <Hixie>
cc list only has two implementors on it, and they haven't commented

[16:04:16.0000] <mnot>
yup

[16:06:18.0000] <mnot>
unrelated question - on srcset, was using child elements instead of an attribute considered? Or does that bring up compatibility problems?

[16:06:34.0000] <zewt>
that was argued for a few hundred emails, i think :)

[16:06:53.0000] <Hixie>
mnot: it was definitely considered

[16:06:54.0000] <mnot>
ok - so I don't need to bring it up then :)

[16:06:56.0000] <zewt>
(hixie will answer for himself, but iirc it's simply "child attributes makes everything more complicated and isn't needed")

[16:07:19.0000] <Hixie>
solution with multiple elements are about a 1000 times more complicated than solutions with attributes

[16:07:33.0000] <Hixie>
<video> being a classic example of the disaster that results if you go down that road

[16:07:46.0000] <Hixie>
it has one of the most complicated algorithms in the spec because of this

[16:07:55.0000] <Hixie>
second only to <object>, probably

[16:08:10.0000] <mnot>
fair enough. I'm less concerned with syntactic sugar, more with making it extensible so that you can select images based on other things (e.g., format)

[16:08:17.0000] <zewt>
i don't think i've ever actually used <object>, heh

[16:08:25.0000] <zewt>
maybe once in the ie6 days for inlining video or something

[16:09:35.0000] <Hixie>
(http://w3cmemes.tumblr.com/post/22670112919)

[16:09:50.0000] <Hixie>
mnot: i think HTTP is supposed to be the way you select based on format :-)

[16:11:18.0000] <Hixie>
(http://w3cmemes.tumblr.com/post/34698886006)

[16:12:16.0000] <zewt>
now if only there was a way to have an <img> that didn't load anything, without having to hardcode a 1x1 gif in a data:

[16:12:19.0000] <zewt>
heh

[16:12:23.0000] <mnot>
hixie: http defines two ways to do it; having the client select the right one based upon metadata is one of them :)

[16:12:25.0000] <zewt>
(any less fugly ways to do that: welcome)

[16:13:23.0000] <mnot>
yeah, I need to talk ilya down from conneg-only; and he's not even a restafarian

[16:13:26.0000] <zewt>
not that pasting 80 or so bytes is onerous, just ... lame

[16:14:11.0000] <zewt>
heh, google has 26,700 hits for the empty gif data url i use

[16:14:29.0000] <Hixie>
TabAtkins: which compares earlier, <time datetime="11-12"> or <time datetime="11:12"> ? or should they be treated as a tie?

[16:14:47.0000] <Hixie>
zewt: didn't load anything? what's your use case?

[16:15:21.0000] <Hixie>
"img elements should not be used to display transparent images, as they rarely convey meaning and rarely add anything useful to the document"

[16:15:21.0000] <zewt>
templates, basically

[16:15:31.0000] <Hixie>
oh, if it's a template then it's not HTML

[16:15:39.0000] <zewt>
of course it is

[16:15:40.0000] <Hixie>
just use %IMAGEGOESHERE% or whatever

[16:15:56.0000] <zewt>
it's in my document and parsed normally and there's nothing not-html-like at all :)

[16:16:06.0000] <Hixie>
then how is it a template?

[16:16:07.0000] <Hixie>
i'm confused

[16:16:10.0000] <zewt>
it's not a text template, it's just a <div hidden> that i clone from the DOM and insert somewhere else

[16:16:17.0000] <Hixie>
ohhh

[16:16:20.0000] <Hixie>
yeah we don't support that

[16:16:28.0000] <zewt>
yes you do, i'm doing it :)

[16:16:30.0000] <Hixie>
<template> hopefully will solve that problem

[16:16:49.0000] <Hixie>
we don't support that in the sense that it violates your warranty

[16:17:00.0000] <Hixie>
it isn't something that is condoned

[16:17:11.0000] <Hixie>
a solution for your problem has not been attempted

[16:17:26.0000] <Hixie>
you have to do hacks to get it

[16:17:32.0000] <Hixie>
you know what i meant :-P

[16:17:38.0000] <zewt>
:P

[16:18:17.0000] <zewt>
regular images are loaded from templates, though, i hope?

[16:18:38.0000] <Hixie>
beats me, ask rafaelw__

[16:21:29.0000] <Hixie>
an i18n people around?

[16:21:46.0000] <zewt>
(depends on what you mean by i18n people :)

[16:22:01.0000] <Hixie>
if A sorts before B in language X, and B sorts before A in language Y, which comes first, A in language X, or B in language Y?

[16:22:06.0000] <zewt>
(i've done i18n work, for what it's worth)

[16:22:21.0000] <zewt>
never heard of cross-locale sorting

[16:23:08.0000] <zewt>
(if such a thing exists i'm curious to know what it is, as completely insane as it sounds, heh)

[16:24:09.0000] <Hixie>
<table> <thead> <tr> <th> FOO <tbody> <tr> <td lang=X> A <tr> <td lang=Y> B </table>

[16:24:14.0000] <Hixie>
sort that table

[16:24:48.0000] <zewt>
my intuition is sort based on the @lang of the <table>, and ignore the per-field languages

[16:25:07.0000] <Hixie>
fair enough

[16:25:32.0000] <zewt>
collation orders are for the whole set, not per-item, so the only way to use each items' would be to define some way to intersect sort orders, which i imagine wouldn't do anything anyone would expect

[16:30:08.0000] <TabAtkins>
Hixie: The first is a date and the second is a time, right?

[16:30:20.0000] <TabAtkins>
Compare them by the datetime they parse into.

[16:30:31.0000] <TabAtkins>
Or do they parse as just a date and just a time respectively?

[16:30:36.0000] <Hixie>
the latter

[16:30:43.0000] <Hixie>
i'm thinking treat them as equal

[16:30:58.0000] <TabAtkins>
Ah.  In that case, they shouldn't be directly compared.  Either make them equal, or define an ordering between the class of times and the class of dates.

[16:31:06.0000] <TabAtkins>
How do you compare dates versus datetimes?

[16:31:13.0000] <TabAtkins>
date sorts before a datetime with the same day?

[16:31:22.0000] <TabAtkins>
That is, date treated as a datetime set to midnight?

[16:31:39.0000] <Hixie>
right now my straw man (which i've spent all of 10 minutes on, alternating between reading g+ and doing this...) just treats any two <time>s with different datatypes as being equal.

[16:31:54.0000] <TabAtkins>
That'll probably be weird, actually.

[16:32:06.0000] <Hixie>
well it basically means they stay stable relative to each other

[16:32:06.0000] <TabAtkins>
I recommend creating an explicit ordering.  Maybe times < dates < datetimes.

[16:32:09.0000] <zewt>
wouldn't it be nicer to give a more stable ordering?

[16:32:18.0000] <zewt>
hmm

[16:32:26.0000] <TabAtkins>
Most languages do something like that when comparing incomparable primitives.

[16:32:30.0000] <Hixie>
(it is stable; ties are broken relative to current position in the table)

[16:32:35.0000] <TabAtkins>
Like, numbers sort before strings in python, I think.

[16:32:43.0000] <Hixie>
TabAtkins: there's like 15 different types just for <time>, but i guess we could do that

[16:32:49.0000] <zewt>
doesn't that mean you're not holding one of those basic laws of orderings that I haven't remembered the name of since college

[16:32:56.0000] <TabAtkins>
Hixie: I think several of them are comparable?

[16:32:58.0000] <Hixie>
zewt: probably

[16:33:08.0000] <zewt>
(give me a second to formulate what i'm vaguely thinking of)

[16:33:21.0000] <Hixie>
TabAtkins: some could be, i guess

[16:33:28.0000] <Hixie>
TabAtkins: not sure why you'd ever have different types though

[16:33:39.0000] <TabAtkins>
Yeah, it'd be dumb.

[16:33:53.0000] <zewt>
if date1 == time8 (because they're different types), and date1 < date2, it's weird that !(time8 < date2)

[16:33:59.0000] <Hixie>
we can definitely make this more complex and support more and more edge cases; right now i'm probably not handling enough

[16:34:03.0000] <Hixie>
but i don't know where to draw the line

[16:34:22.0000] <TabAtkins>
We don't have to make it more complex, just give a total ordering.  Otherwise you get confusing results, like what zewt pointed out.

[16:34:41.0000] <Hixie>
total ordering is "more complex" the way i meant it, but sure :-)

[16:34:53.0000] <TabAtkins>
Only by the tiniest bit.  ^_^

[16:34:55.0000] <Hixie>
agreed that what you're pointing out seems important, zewt

[16:35:01.0000] <zewt>
(transitivity?)

[16:35:10.0000] <zewt>
(or something close to it)

[16:35:51.0000] <zewt>
more simply, if A == B, and A < C, then B < C

[16:35:57.0000] <TabAtkins>
Okay, looking at this, while it *might* be reasonable to sort things that are date-subsets of each other together, it's probably not worth it.  Just sort the categories as being lt/gt en masse.

[16:36:12.0000] <TabAtkins>
zewt: Yes, that's transitivity.

[16:36:29.0000] <TabAtkins>
Well, or something like it.  Transitivity is if A<B and B<C, then A<C.

[16:36:34.0000] <zewt>
TabAtkins: i recall the concepts, it's just the names that have drained away :)

[16:36:43.0000] <TabAtkins>
These terms apply within a single relationship, and you're mixing two of them here.

[16:37:00.0000] <TabAtkins>
But I'm sure there's a term for this from some math notion of an ordering.

[16:37:11.0000] <TabAtkins>
Most likely it's just called "being an ordering".

[16:37:23.0000] <zewt>
i suspect if you don't do this, you may confuse some sorting algorithms

[16:37:29.0000] <TabAtkins>
Yes, exactly.

[16:37:45.0000] <zewt>
do you have both a date and a datetime type, or is a date just a datetime at midnight?

[16:38:02.0000] <TabAtkins>
Hixie: My only recommendation is that for things which are info-subsets of each other, sort the subset as lt than the superset.

[16:38:12.0000] <TabAtkins>
So a year-month is less than a date.

[16:38:29.0000] <Hixie>
zewt: http://www.whatwg.org/specs/web-apps/current-work/#the-time-element lists the types

[16:38:31.0000] <TabAtkins>
A year-week is also less than a date, but the relative ordering of year-month and year-week is unimportant.

[16:38:36.0000] <zewt>
personally i'd treat a year-month (for sorting purposes) as a date with day == 1 at midnight

[16:38:53.0000] <Hixie>
TabAtkins: so all dates come before all dates with times?

[16:38:56.0000] <zewt>
it's when you're dealing with items that have data at the wrong end that they become incomparable

[16:39:14.0000] <zewt>
that is, if you have [year, month, day, hour, minute, second], comparing [year, month] and [year, month, hour] is easy

[16:39:25.0000] <zewt>
it's only comparing [year, month, day] against [hour, minute, second] that doesn't make sense

[16:39:27.0000] <TabAtkins>
Hixie: Assuming you're not filling in defaults as zewt suggests, yeah.  That's just the simplistic "different categories sort themselves apart" strategy.

[16:39:30.0000] <Hixie>
screw it, i should just do a table of type x type and define all the various orderings and be done with it

[16:39:40.0000] <Hixie>
how much work can that possibly be

[16:39:58.0000] <TabAtkins>
Haha.

[16:39:58.0000] <zewt>
oops, loaded the spec in firefox

[16:40:01.0000] <zewt>
cpu fan: on

[16:40:29.0000] <zewt>
gar, too many damned choices in this list

[16:40:31.0000] <TabAtkins>
Probably with sorting dates into datetimes is that you don't know whether dates are local or global.

[16:40:53.0000] <TabAtkins>
I guess that's fixable...  Let me write it out real quick.

[16:40:54.0000] <Hixie>
there's only 10 date/time types, plus string-that-parsed-as-float, plus everything else (string)

[16:41:10.0000] <Hixie>
so a 12x12 table

[16:41:15.0000] <TabAtkins>
Yeah, one sec and I"ll order it for you.

[16:41:22.0000] <TabAtkins>
A table is super overkill.

[16:41:30.0000] <TabAtkins>
It woudl be full of redundancy.

[16:41:37.0000] <Hixie>
i'm nothing if not a fan of overkill

[16:42:01.0000] <zewt>
ignoring timezone for the moment, could you just say that two times are comparable if their largest unit of time they define is the same

[16:42:34.0000] <zewt>
eg. a yyyy-mm-dd and a yyyy-mm are comparable (assume dd == 1), but a yyyy-mm-dd and mm-dd are not (so they have to be ordered as a class)

[16:43:44.0000] <TabAtkins>
zewt: Problem, again, is that you can't sort a datetime with a date, because you don't know whether the date is local or global.

[16:43:53.0000] <TabAtkins>
And that would be confusing.

[16:43:56.0000] <zewt>
TabAtkins: that's what i just said to ignore for the moment :)

[16:44:04.0000] <TabAtkins>
Haha, but we can't ignore it.  ^_^

[16:44:12.0000] <zewt>
(because I haven't thought about that axis yet)

[16:44:15.0000] <Hixie>
ignoring that we're trying to sort stuff, i think the problem is solved!

[16:44:21.0000] <Hixie>
mission accomplished!

[16:44:41.0000] <zewt>
sorry for not trying to solve every sub-problem simultaneously :)

[16:44:47.0000] <TabAtkins>
zewt: I'm fine with saying that you can sort together a year, year-month, year-week, and year-month-day.

[16:44:57.0000] <TabAtkins>
But then datetimes have to sort after them.

[16:45:03.0000] <zewt>
why?

[16:45:11.0000] <TabAtkins>
Because of what I just said.

[16:45:51.0000] <Hixie>
we could just assume UTC

[16:46:15.0000] <TabAtkins>
Is 2000-01-01 01:00:00+0000 before 2000-01-01 or after it?  Depends on where in the world you are when you wrote the bare 2000-01-01.

[16:46:16.0000] <Hixie>
when comparing with a global date

[16:46:24.0000] <zewt>
picking a simple case, sorting timezone-agnostic "jan 5" before "jan 5 3:00:00 UTC" makes sense to me, even in the edge case where the first time is local and is actually jan 4 22:00:00 UTC-2

[16:46:43.0000] <TabAtkins>
Hixie: Yeah, we could.

[16:46:46.0000] <Hixie>
zewt: that would possibly result in the display listing a bunch of jan 4s after jan 5

[16:47:09.0000] <TabAtkins>
Hixie: I suppose mixing timeless dates with global datetimes is probably a bad idea anyway.

[16:47:18.0000] <Hixie>
probably best to do as tab says for the date vs global time thing

[16:47:22.0000] <Hixie>
date vs local time can be compared

[16:47:32.0000] <TabAtkins>
kk, so...

[16:48:12.0000] <TabAtkins>
year, year-month, year-week, year-month-day, and local datetime can all be compared with each other.

[16:48:13.0000] <zewt>
that sounds like it would get people to write UTC times as local times just to convince them to sort

[16:48:23.0000] <TabAtkins>
The other categories should sort separately.

[16:48:35.0000] <TabAtkins>
zewt: Or put times on their dates to get them to sort.

[16:49:34.0000] <TabAtkins>
Hixie: Or, wait.  Did you mean that local datetime and global datetime would be comparable, with us assuming UTC?

[16:49:40.0000] <Hixie>
no

[16:49:56.0000] <Hixie>
2011-11-11 vs 2011-11-11T11:11

[16:50:06.0000] <Hixie>
date vs local datetime

[16:50:11.0000] <zewt>
<time> only supports three fractional digits? :|

[16:50:18.0000] <TabAtkins>
Okay, so those are comparable.  Cool, makes sense.

[16:50:26.0000] <TabAtkins>
Now what about year-month-day against global datetime?

[16:50:51.0000] <zewt>
(i regularly use six digits; handy for accurate timestamps)

[16:51:53.0000] <Hixie>
is 2011-11 equal to or less than 2011-11-01 ? i.e. do you fill with 0 or min

[16:52:06.0000] <zewt>
minimum, IMO

[16:52:23.0000] <Hixie>
so they're equal?

[16:52:28.0000] <zewt>
yeah

[16:52:29.0000] <Hixie>
seems that would be ugly

[16:52:43.0000] <Hixie>
you could end up with 2011-11 2011-11-01 2011-11 2011-11-01

[16:52:45.0000] <TabAtkins>
I think sort before, actually.

[16:52:54.0000] <TabAtkins>
Standard lexicographic rules.

[16:53:32.0000] <Hixie>
which is lower, 01-01 or 0001-01 ? (yearless date vs month)

[16:53:36.0000] <zewt>
(i wonder if there are any use cases for mixing <time> formats like this, for reference to what makes more sense in practice)

[16:53:57.0000] <Hixie>
zewt: yeah, i couldn't come up with any

[16:53:57.0000] <zewt>
Hixie: fwiw, that sort order makes sense to me, especially if there are other sort keys

[16:54:08.0000] <Hixie>
zewt: assuming no other sort keys

[16:54:09.0000] <TabAtkins>
But then, what about 2000-01 and 2000-W01?

[16:54:26.0000] <zewt>
Hixie: but equality matters more when you have secondary sort keys

[16:54:56.0000] <TabAtkins>
Yes, I can see a use-case.  Table with calendar entries, where some entries are year-month-days, some are datetimes, and some are year-month.

[16:54:58.0000] <zewt>
eg. if your sort is (time,score) and you have [2011-11 10pts,2011-11-01 11pts,2011-12 12pts]

[16:55:24.0000] <zewt>
er, 2011-11 in all

[16:55:37.0000] <TabAtkins>
Hm, true.

[16:56:04.0000] <zewt>
whenever i sort dates (putting aside the mixed-units weirdness) i just convert them to epoch time, and sort numerically

[16:56:27.0000] <zewt>
which is why those 2011-11s sorting equal seems natural to me, anyway

[16:56:33.0000] <TabAtkins>
zewt: Makes sense.

[16:56:41.0000] <TabAtkins>
Except that it's local, not epoch time.

[16:58:08.0000] <TabAtkins>
Here's my somewhat arbitrary ordering: time < month-day < local-stuff < global date-time < time-zone offset < duration

[16:58:35.0000] <TabAtkins>
Where "local-stuff" are the 5 comparable types, with each converted into a (year, day, time) tuple and sorted lexicographically.

[16:58:41.0000] <Hixie>
TabAtkins: add in string and float to that?

[16:58:51.0000] <TabAtkins>
Hixie: Put "< float < string" at the end.

[16:58:55.0000] <Hixie>
k

[16:59:22.0000] <Hixie>
well as you said, a table is overkill for this then

[16:59:24.0000] <Hixie>
:-(

[16:59:29.0000] <Hixie>
i was so looking forward to make a 144-cell table

[16:59:44.0000] <TabAtkins>
Haha, I told you.  Orderings are linear.  A table is just an invitation to introduce inconsistency.

[17:00:01.0000] <TabAtkins>
Instead, you just map each class to an integer and sort that.

[17:00:20.0000] <TabAtkins>
Rather, total orderings are.

[17:01:31.0000] <zewt>
also tables are contagious migraines, heh

[17:01:50.0000] <TabAtkins>
Heh, yeah.

[17:02:08.0000] <zewt>
even relatively small tables like the distinguishable table in webidl make me unhappy

[17:02:29.0000] <zewt>
i guess that's not all that small

[17:02:36.0000] <zewt>
just compact

[17:03:03.0000] <zewt>
(less because it's hard to read directly, more because it's hard to see the logic and pattern behind a table)

[17:04:53.0000] <Hixie>
this is my random musings so far: http://www.whatwg.org/specs/web-apps/current-work/temp

[17:04:56.0000] <Hixie>
not high quality prose

[17:06:53.0000] <zewt>
for secondary sorts, do you just call th.sort() twice in reverse order?

[17:07:02.0000] <Hixie>
yes

[17:07:18.0000] <Hixie>
you don't really ever call .sort(), the idea is that the user clicks the <th> and it sorts for him

[17:07:56.0000] <zewt>
does it just sort visually, leaving the DOM order alone?

[17:08:00.0000] <Hixie>
changes dom

[17:08:06.0000] <Hixie>
stuart in the thread talked about having columns whose values don't get sorted (as in, the cells get moved to new rows so that they appear unmoved in the rendering even though the rest of the table moved), not sure how to do that exactly

[17:08:25.0000] <zewt>
so if you add items to the list, they'll end up at the end, and you can th.sort() to bump it to its sorted position

[17:08:34.0000] <zewt>
(which makes sense--a lot of UIs do that)

[17:08:54.0000] <Hixie>
yeah or we can have an autosort mode

[17:09:01.0000] <Hixie>
or an insertSorted method on tbody

[17:09:21.0000] <zewt>
though that wouldn't retain secondary sorts

[17:09:36.0000] <Hixie>
correct

[17:09:47.0000] <zewt>
(which might be annoying if you want that)

[17:10:06.0000] <Hixie>
nobody on the thread mentioned secondary sorts, but yeah

[17:10:17.0000] <zewt>
which isn't a rare case, eg. when sorting files by size you probably want filename secondary

[17:10:24.0000] <Hixie>
agreed

[17:11:59.0000] <zewt>
synthetic sort keys are pretty useful, eg. <time sort="123">ignored</time>

[17:12:34.0000] <Hixie>
that's why <time> and <data> are there

[17:12:58.0000] <Hixie>
afk. bbiab.

[17:14:19.0000] <zewt>
(if it's only used when it's the only element in the column then i'm not sure how that works)

[18:15:00.0000] <JonathanNeal>
hello

[18:16:18.0000] <JonathanNeal>
hi tantek, how's html classes?

[18:17:27.0000] <tantek>
Hi JonathanNeal, they're going well!

[18:19:03.0000] <JonathanNeal>
Good, and we're all in favor of <main> still? Good, good.

[18:47:40.0000] <tantek>
JonathanNeal - almost all - http://w3cmemes.tumblr.com/post/34830376881/stop-energy-against-main-is-explained-to-the ;)

[18:51:56.0000] <Krinkle>
Any dom spec-lingo expert here? http://www.w3.org/TR/dom/#dom-treewalker-nextnode

[18:52:03.0000] <Krinkle>
"If a node is following node and is not following root, set node to the first such node."

[18:52:10.0000] <Krinkle>
That line doesn't quite make sense to me

[18:52:20.0000] <Krinkle>
(I'm implementing TreeWalker in javascript as an experiment for something)

[18:52:39.0000] <JonathanNeal>
awww, i love Hixie, tantek.

[18:53:04.0000] <Krinkle>
isn't that just nextSibling? Also, how can a node following the currentNode (child of root) also be following root?

[18:53:24.0000] <JonathanNeal>
Someone was just asking me if I would post the source of a project I did and license it. What is the most free license I can give it, the weirdo MIT/GPL?

[18:54:15.0000] <JonathanNeal>
Whenever I use that one, someone says "you don't actually need to GPL it, just MIT is fine" but then someone says "but i need to use it as GPL and I'm scared".

[18:57:02.0000] <Krinkle>
JonathanNeal: MIT is freeer than GPL

[18:57:14.0000] <Krinkle>
(in that MIT software can be used in GPL, but not the other way around)

[18:57:17.0000] <Krinkle>
So I'd recommend MIT.

[18:57:59.0000] <Krinkle>
Also, as the author and copyright holder you have the right to license work under multiple licenses, even those licenses are not compatible.

[18:58:44.0000] <Krinkle>
but yeah, MIT +GPL is legally an odd combination (albeit not uncommon) as MIT is compatible with GPL.

[19:02:18.0000] <zewt>
there isn't much free about the GPL: "do it exactly the way we say"

[19:02:31.0000] <zewt>
<- gpl-jaded

[19:06:28.0000] <JonathanNeal>
I remember someone had a license that restricted use from explicitly "adult" projects. I think another license restricted use from projects that involved animal experimentation.

[19:12:37.0000] <Krinkle>
And then there is the famous "You shall use this program for Good, not Evil"

[19:12:46.0000] <Krinkle>
the ammendment to JSLint's GPL-based license

[19:13:17.0000] <Krinkle>
"The Software shall be used for Good, not Evil."

[19:13:20.0000] <Krinkle>
(MIT, not GPL)

[19:13:35.0000] <Krinkle>
https://github.com/douglascrockford/JSLint/blob/master/jslint.js#L16

[19:13:46.0000] <zewt>
now i feel like releasing some software and only allowing it to be used for pornographic purposes

[19:23:34.0000] <JonathanNeal>
I liked that clause. It reminded me of Google's motto.

[19:23:42.0000] <JonathanNeal>
Except, I think, Google couldn't use jslint because of this.

[19:28:17.0000] <zewt>
playing games in licenses!=cool

[19:54:29.0000] <Hixie>
zewt: <td><data value="sort key">whatever the cell contains</data>

[20:04:44.0000] <Krinkle>
<td data-sort-value="sort key">whatever the cell contains</td>

[20:46:53.0000] <heycam>
it's a shame list-style-type and list-style-image aren't the same property

[20:51:31.0000] <erlehmann>
I have done an art http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2012-December/038430.html

[20:52:50.0000] <erlehmann>
JonathanNeal, take note :)

[20:53:15.0000] <erlehmann>
also foolip :)

[21:09:16.0000] <JonathanNeal>
erlehmann: hey hey

[21:09:17.0000] <JonathanNeal>
how are you?

[21:10:30.0000] <JonathanNeal>
ps, erlehmann, see my latest pull requests? no regex.

[21:14:37.0000] <erlehmann>
i am sleepy

[21:14:48.0000] <erlehmann>
as i live in berlin, i should not be awake right now

[21:14:53.0000] <erlehmann>
local time is 06:14

[21:15:04.0000] <erlehmann>
i will look at pull requests when i have slept enough

[21:15:10.0000] <JonathanNeal>
is that celsius time?

[21:15:22.0000] <JonathanNeal>
very well.

[21:16:01.0000] <JonathanNeal>
ping me the next time you are around

[21:23:28.0000] <heycam>
lol ::-webkit-meter-even-less-good-value

[21:27:00.0000] <heycam>
is there a WebKit pseudo that selects a list item's bullet, like ::-moz-list-bullet?

[21:31:28.0000] <heycam>
/me wonders if .someelement::before:hover { … } should work

[21:40:57.0000] <MikeSmith>
rniwa: ↑

[21:41:01.0000] <rniwa>
MikeSmith: ?

[21:41:14.0000] <MikeSmith>
heycam question

[21:41:20.0000] <MikeSmith>
14:27    heycam: is there a WebKit pseudo that selects a list item's bullet, like ::-moz-list-bullet?

[21:41:51.0000] <MikeSmith>
heycam: could also ask on #webkit

[21:42:46.0000] <heycam>
MikeSmith, I might just do that

[21:42:57.0000] <rniwa>
MikeSmith, heycam: as far as i know, no.

[21:43:08.0000] <rniwa>
we have a FIXME in RenderListMarker.cpp:

[21:43:10.0000] <rniwa>
        // FIXME: This is a somewhat arbitrary width.  Generated images for markers really won't become particularly useful

[21:43:11.0000] <rniwa>
        // until we support the CSS3 marker pseudoclass to allow control over the width and height of the marker box.

[21:43:11.0000] <heycam>
rniwa, ah ok, thanks. I guess the long term plan is ::marker?

[21:43:26.0000] <rniwa>
heycam: whatever CSS3 spec. says

[21:43:31.0000] <heycam>
ok :)

[21:43:32.0000] <heycam>
thanks

[21:43:49.0000] <rniwa>
heycam: list marker was a mess in webkit

[21:44:05.0000] <rniwa>
heycam: someone very recently rewrote that thing using some pseudo element idiom

[21:44:12.0000] <heycam>
oh, cool

[21:44:24.0000] <heycam>
I'm really just wondering what to do for the details/summary disclosure triangle thing

[21:44:29.0000] <rniwa>
heycam: until very recently we had O(2^n) implementation :/

[21:44:41.0000] <heycam>
and testing what things are possible with regular bullets (like whether you can :hover them etc.)

[21:44:45.0000] <heycam>
rniwa, ouch

[21:45:32.0000] <rniwa>
heycam: indeed.

[21:45:53.0000] <MikeSmith>
heycam: I'm not convinced it's important to make the disclosure triangle style-able

[21:45:57.0000] <rniwa>
heycam: i believe our implementation is now O(n^2)

[21:46:16.0000] <MikeSmith>
heycam: though I know Lachlan and others feel otherwise

[21:46:17.0000] <rniwa>
heycam: although the old implementation was O(n) in common cases...

[21:46:28.0000] <heycam>
rniwa, is this for numbering? or something else?

[21:46:34.0000] <rniwa>
heycam: yeah.

[21:46:35.0000] <heycam>
MikeSmith, I like the idea of being able to style it

[21:46:45.0000] <MikeSmith>
ok

[21:46:51.0000] <heycam>
MikeSmith, I think people will want to, so may as well come up with a sane way to expose it to CSS

[21:47:04.0000] <rniwa>
heycam: we had some crazy code doing some crazy things.

[21:47:10.0000] <heycam>
rniwa, don't we all ;)

[21:47:29.0000] <rniwa>
indeed.

[21:51:18.0000] <MikeSmith>
btw when abarth says "limits are necessary so that implementations don't end up having to do quadratic work" in http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Nov/0019.html he means in order to avoid ending up in O(n^2) ?

[21:52:52.0000] <heycam>
yeah

[21:56:53.0000] <MikeSmith>
it's going to be interesting to see how Hixie fixes that

[23:09:56.0000] <Stevef>
MikeSmith: a major reason why devs don't use a native controls over a custom control is because they cannotstyle them as they want, so suggest it is a big deal if the triangle is stylable

[23:11:06.0000] <Stevef>
Mikesmith: often times devs want + and - symbols for disclousyre widgets

[23:15:43.0000] <MikeSmith>
Stevef: so they can use one of the libraries that already provides the equivalent of details+summary

[23:16:34.0000] <MikeSmith>
they want to style the calendar widget for the input date controls too

[23:16:49.0000] <Stevef>
mikesmith: doesn't that defeat the point of having a native widget?

[23:16:58.0000] <MikeSmith>
no

[23:17:18.0000] <MikeSmith>
it just means if you want the native widget you might have to live a tradeoff

[23:18:04.0000] <MikeSmith>
and if you want fine-tuned control, move to doing it in JS

[23:18:18.0000] <Stevef>
mikesmith: thats why we have <a> this is a button</a> still

[23:19:30.0000] <MikeSmith>
not following you

[23:22:20.0000] <MikeSmith>
but anyway I can imagine that a lot site are going to just keep using custom date-pickers and details+summary-like things in JS because if they use the native controls they are never going to get the same kind of flexibility and themeing hooks they need

[23:23:16.0000] <MikeSmith>
I don't imagine a lot of them are going to move already from what they're already using and replace it with the native controls

[23:24:32.0000] <Stevef>
dev's will use whatever element they find makes it possible to style as they want

[23:24:56.0000] <Stevef>
so you are saying the benefits of having native widgets are limited

[23:25:09.0000] <Stevef>
or the appeal is limited

[23:26:57.0000] <Stevef>
think the difference between providing stylability for disclosure triangle and dat picker UI is chalk and cheese

[23:28:19.0000] <Stevef>
"but anyway I can imagine that a lot site are going to just keep using custom date-pickers" agree on that

[23:30:07.0000] <Stevef>
but its unfortunate that simple widgets can have the flexibility ofstying that devs want as it makes it harder to provide  accessibility - hence ARIA

[23:30:19.0000] <Stevef>
cannot have

[23:31:16.0000] <Stevef>
but why should i be arguing - more work for the "accessibility industry"

[00:11:12.0000] <jgraham>
Stevef: Styling native controls is not a trivial problem, which is much of the reason it hasn't been solved

[00:21:39.0000] <Stevef>
jgraham: acknowledged, but it has been a long running sore and if it can't be resolved the utility of native controls are sorely diminished

[00:28:56.0000] <jgraham>
Well yes, but wishing won't make it so. Apart from web components, which sidestep the problem, I don't think anyone knows what a solution should look like

[00:33:20.0000] <Krinkle>
Ms2ger: Hi, I finished the test suite (and implementation) https://github.com/Krinkle/dom-TreeWalker-polyfill

[00:34:14.0000] <Ms2ger>
jgraham is going to be sad about QUnit :)

[00:35:07.0000] <Krinkle>
well, in my repo / auto-integrated with Travis-CI etc. I'm not going to use some in-house format that nobody ever heard of, so QUnit yeah,.

[00:35:23.0000] <Krinkle>
But it's FOSS, so by all means. It's 99% just find and replace for what W3 is using

[00:35:32.0000] <Krinkle>
your test suite syntax is almost identical

[00:36:08.0000] <Krinkle>
Ms2ger: but before I knock myself out I'd like to get 2 things done

[00:36:42.0000] <Krinkle>
1) fix the spec (if indeed I am right, again), 2) your ok on the contents of the tests.

[00:36:55.0000] <Krinkle>
(as opposed to the syntax)

[00:38:39.0000] <Ms2ger>
I'm going to leave that to annevk, if you don't mind; I haven't really looked at the traversal algorithms

[00:39:08.0000] <Krinkle>
Ms2ger: Okay, what do you suggest I do?

[00:40:42.0000] <Ms2ger>
For?

[00:40:49.0000] <Krinkle>
1 or 2

[00:41:25.0000] <Krinkle>
to verify that the spec is incorrect, and getting it fixed. and to get the tests submitted on the webapps testing site

[00:41:59.0000] <Ms2ger>
Oh, there was another bug?

[00:42:05.0000] <Krinkle>
Yeah, I found one more.

[00:42:10.0000] <Krinkle>
In TreeWalker::nextNode

[00:42:43.0000] <Krinkle>
Implementing it as-is either stayed at the root node (similar to yesterday's firstChild() bug) or it gets in an infinite loop.

[00:43:20.0000] <Krinkle>
But that might be due to me misunderstanding the spec language. There is one passage in particular that puzzles me

[00:44:10.0000] <Krinkle>
Interestingly WebKit's implementation of TreeWalker::nextNode is, contrary to any other TreeWalker methods, very different than the spec. (although probably what the spec should be)

[00:44:53.0000] <Krinkle>
There hard part is where nextNode is supposed to go from one node's last child into the next parent's sibling's first child.

[00:45:13.0000] <Krinkle>
in other words nextNode is the magic method that goes through the entire dom without having to call any other methods.

[00:45:37.0000] <Krinkle>
So whenever it hits the end of a node's children it goes back up until it finds a parent with a next sibling and continues on

[00:46:03.0000] <Ms2ger>
Could you quote the confusing part?

[00:46:06.0000] <Krinkle>
that's a pretty complex part that the current spec doesn't very well elaborate on (or I'm not seeing it)

[00:46:07.0000] <Krinkle>
sure

[00:46:22.0000] <Krinkle>
http://www.w3.org/TR/dom/#dom-treewalker-nextnode

[00:46:28.0000] <Krinkle>
"If a node is following node and is not following root, set node to the first such node."

[00:46:42.0000] <Krinkle>
that one sentence supposedly represents my last 5 lines

[00:47:23.0000] <Krinkle>
following does link to a concept, but that doesn't elaborate much

[00:47:35.0000] <Krinkle>
the definition of concept-following sounds like "next sibling"

[00:48:08.0000] <Ms2ger>
Ah, no

[00:48:35.0000] <Ms2ger>
following refers to a preorder, depth-first traversal

[00:48:49.0000] <Ms2ger>
So in <a><b><c/></b><d/></a>

[00:48:57.0000] <Ms2ger>
d is following b

[00:49:00.0000] <Ms2ger>
Hi annevk :)

[00:49:16.0000] <Krinkle>
Ms2ger: Yeah, I get it now. I implemented it all right :)

[00:49:24.0000] <annevk>
morning

[00:49:36.0000] <annevk>
more TreeWalker bugs?

[00:49:36.0000] <Krinkle>
But the implementation is pretty complex (like 40 lines of code)

[00:49:56.0000] <Krinkle>
so I think maybe it would deserve a little more elaborate on what exactly it means.

[00:50:06.0000] <Krinkle>
Or is it obvious enough?

[00:50:06.0000] <Krinkle>
https://github.com/Krinkle/dom-TreeWalker-polyfill/blob/master/src/TreeWalker-polyfill.js#L357

[00:50:14.0000] <Krinkle>
this sentence is the while loop with nextSkippingChildren

[00:50:38.0000] <Krinkle>
the while loop is like 14 lines, and then nextSkippingChildren is entirely separate and not in the spec.

[00:51:02.0000] <Krinkle>
I guess nextSkippingChildren is "following node"

[00:51:43.0000] <Krinkle>
but really, forget about "following node" that is clear enough.

[00:52:03.0000] <Krinkle>
I meant to address the rest of the steps in TreeWalker::nextNode

[00:52:21.0000] <Krinkle>
Such as "Let result be FILTER_ACCEPT."

[00:53:34.0000] <Krinkle>
followed by "While result is not FILTER_ACCEPT "

[00:53:54.0000] <Krinkle>
I think it is missing a "Filter node" somewhere

[00:54:08.0000] <Krinkle>
and "set node to first child if not null" or something

[00:54:16.0000] <Krinkle>
based on the WebKit implementation (and my own)

[00:54:53.0000] <Krinkle>
am I making sense/

[00:56:52.0000] <Krinkle>
annevk: Maybe you have a minute to walk through this particular method and compare it with the tests I wrote and the WebKit implementation. Since they appear to take a completely different approach to the thing and the one in the spec is either misintepreted or indeed contains a bug.

[01:04:59.0000] <annevk>
Krinkle: nextNode() looks mostly correct although it uses a shortcut for something that's likely more complicated in an implementation and there a bug in the end that it doesn't run the substeps again if the return value is not FILTER_ACCEPT

[01:05:44.0000] <Krinkle>
after 3.2. "Otherwise, run these substeps again" causes an infinite loop in my tests.

[01:06:20.0000] <Krinkle>
and it is indeed missing handling for REJECT

[01:06:50.0000] <Krinkle>
Compare the two implementations next to each other (nextNode#WebKit / nextNodeW3) https://github.com/Krinkle/dom-TreeWalker-polyfill/blob/master/src/TreeWalker-polyfill.js#L349

[01:07:40.0000] <Krinkle>
The initial setting of result to FILTER_ACCEPT also seems suspiciou

[01:08:44.0000] <Krinkle>
and needs return null at the end I guess

[01:08:56.0000] <annevk>
yeah

[01:09:07.0000] <annevk>
and 3.2 indeed needs to account for there not being a following node

[01:10:13.0000] <Krinkle>
previousNode also needs a return null at the end (documented with // + in my code, lines I addedd)

[01:10:51.0000] <jgraham>
/me obviously needs to join more mailing lists

[01:11:03.0000] <Krinkle>
the spec is setting result to ACCEPT, so the first while loop is never entered. The first dom lookup the spec does is "following node"

[01:11:08.0000] <Krinkle>
whereas the first lookup should be first child

[01:11:13.0000] <jgraham>
I only got 66% of the TestTWF list announcement mails

[01:11:17.0000] <Krinkle>
following node is a last result if there are no children

[01:11:36.0000] <Krinkle>
resort*

[01:17:11.0000] <Krinkle>
annevk: are you doing something with this at the moment (want to avoid us doing double work)

[01:17:28.0000] <annevk>
oops, the first loop should check for REJECT

[01:17:45.0000] <annevk>
well I'm planning on fixing this today, ideally within the next few hours

[01:17:49.0000] <Krinkle>
and 3.2 needs to repeat it self if the "following node" is not accepted.

[01:17:52.0000] <annevk>
but there's also breakfast and such :)

[01:18:05.0000] <Krinkle>
annevk: ah, xs4all, so that's the Netherlands

[01:18:16.0000] <Krinkle>
annevk: ben momenteel serious request aan het kijken :)

[01:18:36.0000] <annevk>
heh

[01:19:42.0000] <Ms2ger>
Oh dear, more Dutch?

[01:19:46.0000] <Krinkle>
annevk: the repo is at your disposal, let me know if there's anything I can do or if you have a revision I can look at.

[01:20:18.0000] <Krinkle>
Ms2ger: yeah, I'm afraid so. We have the same atmosphere at Wikimedia (the Dutch are slowly taking over the office)

[01:21:11.0000] <annevk>
Krinkle: sorry, I missed you started patching the source text

[01:21:28.0000] <annevk>
Krinkle: I'm happy for you to write the patches as long as you agree to the CC0 license terms

[01:21:29.0000] <Krinkle>
annevk: I didn't. Not for this bug.

[01:21:33.0000] <annevk>
ah okay

[01:21:58.0000] <Krinkle>
I'm happy to agree, but I don't think I'm good enough at writing these kind of texts. I'll review/test :)

[01:22:12.0000] <annevk>
kk

[01:22:19.0000] <annevk>
ah I see, you pointed out copypasta

[01:22:25.0000] <annevk>
/me got confused by github

[01:38:16.0000] <annevk>
whoa, mnot was in this channel

[02:05:08.0000] <odinho>
Bah, interesting stuff happens when I'm sleeping. :/

[02:05:53.0000] <odinho>
In my "how I think a normal web dev would use it" perf tests Fx IDB severely beats every other implementation.

[02:41:24.0000] <Ms2ger>
odinho, duh? :)

[02:43:20.0000] <odinho>
Ms2ger: what are you duh-ing at?

[02:43:36.0000] <Ms2ger>
That our perf beats everyone ;)

[02:43:59.0000] <odinho>
Ms2ger: Is that really so obvious? I was suprised about it... Since the backends in a raw speed competition, levelDB win hands down.

[02:45:13.0000] <odinho>
Ms2ger: We also use SQLite, btw. And comparable to Firefox.  IE is a bit slower, especially some operations is bad, but Chrome is really suprisingly slow. Outliner slow.

[02:45:18.0000] <Ms2ger>
I like to think it's obvious my browser is best at everything :)

[02:45:54.0000] <odinho>
IE is really fast at some syntethic stuff too, and beats everyone there.

[02:46:13.0000] <Ms2ger>
Now *that* sounds surprising :)

[02:49:17.0000] <rniwa>
odinho: the last i checked, the problem with chrome is to do with IPCs

[02:49:33.0000] <rniwa>
odinho: because they have to sync data between multiple renderer processes

[02:49:47.0000] <rniwa>
odinho: they end up sending lots of data via sync IPCs :(

[02:51:07.0000] <odinho>
rniwa: Yeah, I saw that. I was interested why it was so horribly slow :-)  You have a bug for it too.

[02:51:19.0000] <odinho>
rniwa: But y'know, normal people don't care why ;-)

[02:51:21.0000] <rniwa>
odinho: yeah

[02:51:24.0000] <rniwa>
odinho: yup.

[03:14:22.0000] <annevk>
Krinkle|detached: bugs should be fixed now

[03:34:30.0000] <jgraham>
darobin: http://philip.html5.org/tests/canvas/suite/tests/spec.html but I dunno if it ever made it to W3C space

[03:34:36.0000] <jgraham>
It is out of date of course

[03:37:28.0000] <annevk>
Krinkle|detached: can't you do Document.prototype.createTreeWalker() although I guess that might not work that well given the mess that is Document

[03:39:59.0000] <darobin>
jgraham: I think those are the tests I have; at least some of them

[03:40:15.0000] <darobin>
the file names are pretty similar at any rate

[03:41:23.0000] <jgraham>
darobin: Right, it is Philip's original testsuite

[03:41:35.0000] <Ms2ger>
darobin, they're under submission/PhilipTaylor somewhere

[03:41:37.0000] <darobin>
it needs some good updating

[03:41:52.0000] <darobin>
I'll see about merging stuff that needs to be afterwards

[03:41:59.0000] <jgraham>
Which has then been imported and updated by various browsers and the W3C

[03:42:16.0000] <darobin>
right now I'm concerned about fixing the ~5000 broken links that can be :)

[03:42:20.0000] <jgraham>
I don't think that the *tests* there are useful

[03:42:31.0000] <jgraham>
But that's the annotated spec you were looking for

[03:42:36.0000] <darobin>
oh!

[03:42:50.0000] <darobin>
ok, sorry, I was missing the context of why you were telling me this :)

[03:43:27.0000] <jgraham>
(or, to be clear the tests there are very useful. But we are already making use of them)

[03:43:55.0000] <Ms2ger>
This is the index: http://www.w3c-test.org/html/tests/submission/PhilipTaylor/canvas/

[03:46:10.0000] <Ms2ger>
And this is the annotated spec: http://www.w3c-test.org/html/tests/submission/PhilipTaylor/annotated-spec/canvas.html

[03:46:15.0000] <Ms2ger>
darobin, ^

[03:47:05.0000] <darobin>
cheers

[03:47:15.0000] <darobin>
I don't know, do we want that kind of document in the TS?

[03:47:26.0000] <darobin>
I'd rather it lived outside

[03:47:40.0000] <darobin>
also, if I import the index stuff all its links will be broken

[03:47:53.0000] <jgraham>
I don't think we do

[03:48:04.0000] <jgraham>
I think we want the actual spec to look at lot more like that version

[03:48:07.0000] <darobin>
mmmmm, three of the XHTML tests in the TS are in UTF16 for no apparent good reason

[03:48:15.0000] <darobin>
yeah that makes sense

[03:49:18.0000] <darobin>
ok, some of those XHTML files really don't make any fucking sense whatsoever (to me)

[03:49:31.0000] <darobin>
take tests/html/rendering/non-replaced-elements/the-page/body_text_00ffff.xhtml for instance

[03:49:44.0000] <darobin>
it claims to be XHTML, but it has no doctype

[03:50:02.0000] <darobin>
and it's testing that the "text" attribute of body does indeed change the text colour

[03:50:12.0000] <darobin>
why would this ever want to be XHTML and in UTF16?

[03:50:43.0000] <jgraham>
Who wrote the test?

[03:51:12.0000] <darobin>
dunno

[03:51:20.0000] <darobin>
but I reckon the same person for the three offenders

[03:51:27.0000] <jgraham>
You don't need a doctype to be XHTML, right?

[03:51:48.0000] <jgraham>
I thought it was recommended not to. Although then I wonder if/how entities work

[03:52:19.0000] <annevk>
you don't and they don't

[03:52:33.0000] <annevk>
but you can't and then they might

[03:53:21.0000] <darobin>
I hope no one will care if those tests somehow magically become UTF8

[03:58:53.0000] <darobin>
ok, all the links should either be fixed or utterly broken now

[03:59:21.0000] <darobin>
MikeSmith: ping

[04:01:46.0000] <Ms2ger>
Microsoft wrote it, it's actually useful

[04:01:51.0000] <Ms2ger>
Caught a bug in Gecko

[04:01:58.0000] <Ms2ger>
But yes, should be utf-8

[04:02:14.0000] <darobin>
ok, good to know

[04:02:17.0000] <darobin>
I've converted it

[04:02:21.0000] <odinho>
So this testing move, only html tests get a cleanup?

[04:02:32.0000] <odinho>
webapps and webappsec could also need a spring cleaning.

[04:02:33.0000] <darobin>
odinho: you were thinking of webapps tests?

[04:02:36.0000] <darobin>
right

[04:03:06.0000] <odinho>
I don't really se the use of deepening the hierarchy by having a special "tests/" folder at all. That's what the repository is made for anyway :P

[04:03:07.0000] <darobin>
the plan as discussed with ArtB and chaals was that once the HTML WG had agreed on the Right Way To Do It they would follow

[04:03:15.0000] <odinho>
Okay

[04:03:30.0000] <darobin>
odinho: you had a chance to speak up to that yesterday — today that chance is gone ;-)

[04:03:41.0000] <odinho>
I guess I should add metadata as well, at least blame-information (autor meta), since we're switching system.

[04:04:07.0000] <darobin>
I think we have all the blame history imported from hg

[04:04:10.0000] <odinho>
darobin: I was in the meeting yesterday, -- we didn't talk about stuff like that :-)

[04:04:13.0000] <Ms2ger>
odinho, I told him to get rid of it, but he didn't want to :)

[04:04:19.0000] <Ms2ger>
The meeting was on Tuesday

[04:04:26.0000] <darobin>
odinho: I meant here on IRC

[04:04:44.0000] <darobin>
odinho: Ms2ger suggested that, but it would have caused me extra work and he didn't seem adamant

[04:05:12.0000] <darobin>
I also (without much passion) like the idea of just pointing a web server at tests and not worrying that I'm also exposing tools, etc.

[04:05:18.0000] <darobin>
but *shrug*

[04:06:03.0000] <Ms2ger>
Is there anything useful in tools?

[04:06:20.0000] <darobin>
a few things, but it's not clear that it's dangerous

[04:06:42.0000] <darobin>
actually, now that my bunch of scripts have done their work, moving out of tests would be less work for me than it was yesterday

[04:06:51.0000] <darobin>
so if you guys each promise me a beer, I'll do it

[04:07:31.0000] <odinho>
Doesn't sound like a bad deal.

[04:07:35.0000] <odinho>
You might never get Ms2ger's though :P

[04:07:40.0000] <Ms2ger>
Sure

[04:07:45.0000] <jgraham>
What if I promise you a negative beer?

[04:07:47.0000] <darobin>
see? even Ms2ger buys beer

[04:08:00.0000] <darobin>
jgraham: I probably already owe you beer anyway

[04:08:05.0000] <jgraham>
Next time I see you with a beer, I will take it off you

[04:08:19.0000] <jgraham>
Actually I don't drink beer, so you are good :)

[04:08:38.0000] <odinho>
"relieve you of it", lol

[04:08:52.0000] <jgraham>
Anyway, I don't really have an opinion on tests/ vs not

[04:09:15.0000] <jgraham>
although it doesn't really seem that harmful to have it

[04:09:15.0000] <Ms2ger>
darobin, but don't come near jgraham with a glass of hot chocolate...

[04:10:09.0000] <darobin>
since I profoundly dislike hot chocolate, I will be happy to hand any such glass I may have to jgraham

[04:10:15.0000] <jgraham>
I get the feeling that removing tests/ means that we will end up with a html-tools repo soon enough

[04:10:18.0000] <darobin>
ok, I've moved the hierarchy one level up

[04:10:34.0000] <darobin>
jgraham: we already have an html-tools repo :)

[04:10:36.0000] <jgraham>
darobin: You would get on well with the people in the bar at the hotel in Lyon

[04:10:43.0000] <odinho>
jgraham: sounds nice, already have resources, and that works :]

[04:11:00.0000] <jgraham>
They apparently can't serve hot drinks after 9pm

[04:11:08.0000] <jgraham>
Well couldn't

[04:11:20.0000] <darobin>
in general it makes sense for the tools not to use the same branching as the content they apply to

[04:11:25.0000] <jgraham>
I suppose it is not impossible that this particular piece of insanity has ended already

[04:11:32.0000] <jgraham>
Sure

[04:11:33.0000] <darobin>
jgraham: yeah, that's common in France, especially in the province

[04:11:55.0000] <jgraham>
Oh, the whole country is mad

[04:11:57.0000] <darobin>
cleaning up the coffee machine takes time, so they do it well before the end of the shift

[04:12:17.0000] <darobin>
no no, in Paris you can normally get hot stuff up till 2am

[04:12:29.0000] <darobin>
and of course likewise in any place that serves food

[04:13:04.0000] <jgraham>
That wasn't much help to me :)

[04:13:05.0000] <darobin>
as a former barman, I always served hot beverages up to whenever the night ended

[04:13:25.0000] <jgraham>
Now time for lunch I think

[04:13:31.0000] <darobin>
+1

[04:13:33.0000] <Krinkle>
annevk: do for what?

[04:13:35.0000] <Krinkle>
"can't you do Document.prototype.createTreeWalker() although I guess that might not work that well given the mess that is Document"

[04:16:31.0000] <annevk>
Krinkle: in the implementation

[04:16:52.0000] <Krinkle>
Older browsers don't expose the constructors/prototypes

[04:17:11.0000] <Krinkle>
particularly IE

[04:17:16.0000] <Krinkle>
e.g. no HTMLElement, Node etc.

[04:17:24.0000] <Krinkle>
I doubt Document would be exposed

[04:17:54.0000] <Krinkle>
brb later

[04:17:58.0000] <MikeSmith>
darobin: aqui

[04:32:17.0000] <darobin>
MikeSmith: hola

[04:32:28.0000] <darobin>
do you know where the bot is that syncs github and hg?

[04:32:31.0000] <darobin>
for the TS

[04:33:35.0000] <darobin>
I think we need it killed before I merge the reorg to master

[04:35:44.0000] <Ms2ger>
darobin, what's the situation with submitted tests?

[04:36:01.0000] <darobin>
it's the next thing up after I've merged

[04:36:38.0000] <Ms2ger>
And thanks for https://github.com/w3c/html-testsuite/commit/8267f079550cbe16e488fa85a04d7d7d309f6529 :)

[04:37:01.0000] <darobin>
heh, np :)

[04:39:49.0000] <MikeSmith>
darobin: yeah i know. it's not so much a proper bot but instead just a script that gets called as a hook

[04:40:17.0000] <MikeSmith>
on dvcs.w3.org

[04:40:22.0000] <darobin>
ah, ok

[04:40:35.0000] <darobin>
can you kill it? or point me to it and I'll do it

[04:40:52.0000] <MikeSmith>
i can turn it off as soon as i get back to my pc

[04:41:24.0000] <darobin>
if you recall where it is just lmk and I'll have it learn the meaning of Justice

[04:41:26.0000] <MikeSmith>
if you have root on that host to can

[04:41:31.0000] <darobin>
or, you know, something like that

[04:41:43.0000] <MikeSmith>
Heh

[04:41:58.0000] <MikeSmith>
alex knows

[04:41:59.0000] <darobin>
I believe I do, I've ended up on that machine while thinking I was on w3c-test

[04:42:10.0000] <darobin>
ta, I'll see with sysreq

[04:42:16.0000] <MikeSmith>
ok

[04:42:40.0000] <MikeSmith>
var tree ... somewhere

[04:54:32.0000] <darobin>
the bot, it has been killed

[04:57:34.0000] <Ms2ger>
/me whimpers

[05:32:09.0000] <annevk>
Krinkle|detached: fair point

[06:58:13.0000] <timeless>
TabAtkins: mixing my dates with global dates is definitely a bad idea

[07:02:28.0000] <annevk>
hmm, time to switch banks http://www.youtube.com/watch?v=PV8qKJDt6EI

[07:35:53.0000] <annevk>
smaug____: should we remove the "detached flag" from NodeIterator too?

[07:36:05.0000] <annevk>
Aryeh ^^

[07:36:07.0000] <smaug____>
hmm

[07:36:30.0000] <zewt>
does this guy really think that stamping a keyval syntax on fragments is okay

[07:37:03.0000] <smaug____>
I'd guess detached flag is useless there

[07:37:22.0000] <annevk>
Ms2ger: ^^

[07:39:05.0000] <Ms2ger>
Never heard of it

[07:40:38.0000] <annevk>
wanna write a patch for Gecko?

[07:40:50.0000] <Ms2ger>
I guess?

[07:44:18.0000] <annevk>
/me fixes origin first

[07:53:58.0000] <Ms2ger>
MikeSmith, hey, has the world ended over there?

[08:03:05.0000] <darobin>
Ms2ger: the Mozilla submissions are actually you, right?

[08:03:21.0000] <Ms2ger>
Which ones?

[08:03:25.0000] <Ms2ger>
But generally, no

[08:03:30.0000] <annevk>
Ms2ger: '<a class="external" data-anolis-spec="html" ' seems like a lot of bloat

[08:03:43.0000] <Ms2ger>
Well, in the sense that I didn't write them originally

[08:03:52.0000] <darobin>
Ms2ger: ah, ok, some have your name on them and some don't

[08:04:05.0000] <darobin>
+1 to annevk on that

[08:04:34.0000] <Ms2ger>
darobin, but the bloat in <script src=respec.js>... ;)

[08:04:52.0000] <darobin>
Ms2ger: do you mind going through your own submissions and making them be new pull requests?

[08:05:03.0000] <Ms2ger>
darobin, except for the document.write ones, I did submit them all

[08:05:04.0000] <Ms2ger>
Sure

[08:05:10.0000] <darobin>
Ms2ger: nah, ReSpec writes the bloat for you, it's actually the opposite from Anolis

[08:05:12.0000] <darobin>
cool, thanks

[08:05:19.0000] <Ms2ger>
Send me an email to remind me?

[08:05:34.0000] <darobin>
I've done a bunch already

[08:05:45.0000] <darobin>
I'll do the Mozilla ones, they're easy — in your case you have lots :)

[08:05:47.0000] <darobin>
sure

[08:06:13.0000] <Ms2ger>
Yeah, I've written a few :)

[08:07:52.0000] <darobin>
Aryeh pretty much told me you were the maintainer for idlharness.js these days

[08:08:05.0000] <darobin>
I thought you might like to be informed :)

[08:12:23.0000] <Ms2ger>
darobin, hmm, what about idlharness?

[08:13:07.0000] <darobin>
Ms2ger: I had asked Aryeh if there were things he didn't want me to touch, warnings, etc.

[08:13:26.0000] <darobin>
and he said something like "well, it's mostly Ms2ger maintaining it these days"

[08:13:36.0000] <darobin>
you didn't seem to be aware of that last we spoke of it :)

[08:14:20.0000] <Ms2ger>
I guess that I know the most about it, of the people who are around

[08:14:31.0000] <Ms2ger>
I still barely understand anything about it :)

[08:15:00.0000] <Ms2ger>
Anyway, ttyl

[08:17:06.0000] <darobin>
haha

[08:19:07.0000] <hober>
/me really needs to set up a filter on list-id w3c/html-testsuite <html-testsuite.w3c.github.com> :)

[08:19:19.0000] <annevk>
DOM has 16 open bugs

[08:19:24.0000] <annevk>
new (positive) low

[08:19:55.0000] <annevk>
mostly feature requests now

[08:25:41.0000] <darobin>
hober: can't you simply sign out of notifications for that repo?

[08:25:54.0000] <darobin>
/me should probably sign in actually

[08:27:16.0000] <hober>
no, i want to get the notifications, just not to my inbox. :)

[08:31:22.0000] <darobin>
heh

[08:42:22.0000] <Stevef_>
darobin:ping re publishing Using ARIA in HTML as FPWD that won't happen til next year right?

[08:42:35.0000] <Stevef_>
so no rush to get it ready

[08:44:38.0000] <darobin>
Stevef_: yeah, there won't be any publications before 2013

[08:45:59.0000] <Stevef_>
darobin: we were just discussing in acc tf as it has now passed all CFC's to publish so its just process from here on in

[08:46:28.0000] <darobin>
Stevef_: yes, which is cool

[08:46:46.0000] <darobin>
but we're in publication moratorium (and I'm on vacation tomorrow evening :)

[08:47:26.0000] <Stevef_>
darobin: yeaah i will proceed at a leisurely pace to prepare it then :-)

[08:47:40.0000] <jgraham>
/me expected darobin to be reorganising tests on Christmas Day

[08:49:00.0000] <darobin>
jgraham: I think I'll finish all the reorganising I can do today or tomorrow :)

[08:49:23.0000] <darobin>
there are still some submissions to move around, but they might be too complicate and I might have to ask the authors to do it

[08:58:20.0000] <annevk>
yay for working on tests

[09:22:28.0000] <timeless>
annevk: have you seen odata.org ??

[09:22:50.0000] <dglazkov>
good morning, Whatwg!

[09:51:46.0000] <Hixie>
is there any difference between the 'double' type and JS Number?

[09:55:10.0000] <erlehmann>
hey whatwg

[09:55:48.0000] <erlehmann>
if i want to include a webvtt file in a web feed, which link relation would apply?

[09:56:49.0000] <Hixie>
how do you mean, include a webvtt file in a web feed?

[09:57:44.0000] <erlehmann>
i have a podcast with an atom feed. http://warumnicht.dieweltistgarnichtso.net/feed.atom

[09:58:10.0000] <erlehmann>
currently i include a mp3 enclosure a vorbis enclosure … and webvtt gives chapters!

[09:58:31.0000] <erlehmann>
i am looking at http://www.iana.org/assignments/link-relations/link-relations.xml

[09:58:42.0000] <Hixie>
ah, i see

[09:58:46.0000] <erlehmann>
in a feed, an external resource needs a link relation

[09:58:55.0000] <erlehmann>
like  <link rel="alternate" type="text/html" href="http://warumnicht.dieweltistgarnichtso.net/wn-17.html"/>

[09:58:56.0000] <Hixie>
does any software support webvtt in a feed yet?

[09:59:18.0000] <erlehmann>
no software will when no one provides it.

[09:59:44.0000] <Hixie>
if no software supports it, then doesn't matter what you use... pick whatever you think is right

[09:59:51.0000] <erlehmann>
i know at least one programmer, the guy behind instacast, would like to have chapters.

[09:59:53.0000] <Hixie>
rel="webvtt-chapters" or something

[10:00:01.0000] <Hixie>
or just rel=chapters

[10:00:14.0000] <Hixie>
you'll need everything that the <track> element in HTML can host, ideally

[10:00:34.0000] <erlehmann>
what does that mean?

[10:01:02.0000] <erlehmann>
i am hesitant to use „chapters“ because there is already a „chapter“ value in link relations at IANA

[10:01:10.0000] <erlehmann>
and i am thinking of rev vs. rel that was mixed up sometimes

[10:01:56.0000] <erlehmann>
if rel=chapters would be clean, where do i document it?

[10:02:41.0000] <erlehmann>
also the webvtt file does not really describe chapters. it is more akin to metadata, hmm.

[10:02:54.0000] <erlehmann>
like, it does not link to points in time

[10:03:00.0000] <erlehmann>
and is not usable without having the enclosure

[10:05:18.0000] <erlehmann>
Hixie, is my work on possible sub-delims in URI fragments in scope for the WHATWG or is there some other charter that works on that?

[10:05:41.0000] <erlehmann>
(excuse my bad engrish)

[10:06:46.0000] <Hixie>
re enclosures and how to spec it, dunno, ask the atom folk.

[10:07:02.0000] <Hixie>
re the URI thing, if you want the browsers to change behaviour, it's at least theoretically in scope

[10:07:50.0000] <erlehmann>
i would want to change behaviour. better than everybody inventing slightly-incompatible formats.

[10:08:04.0000] <erlehmann>
i'll wait for implementor replies

[10:08:29.0000] <erlehmann>
and if no one is against it find out if/how i can bring this into gecko and webkit.

[10:09:34.0000] <erlehmann>
i believe it is entirely possible to not break the web but still have the useful features of media fragments. in the worst case, processing will have to halt if there is an element with id like “t=0:23”, but continue otherwise

[10:14:59.0000] <erlehmann>
#atom is deserted

[10:21:25.0000] <erlehmann>
is there a way to have link annotations in webvtt?

[10:48:36.0000] <TabAtkins>
heycam|away: Re list-style-image and list-style-type, I agree. It's been really annoying to me when writing the Lists spec. :/

[10:49:29.0000] <erlehmann>
i have done an art and used rel=chapters http://warumnicht.dieweltistgarnichtso.net/feed.atom

[10:49:36.0000] <erlehmann>
how do i go about standardizing that rel value?

[10:51:06.0000] <hober>
is it a rel value for use in <a rel> or <link rel> in HTML?

[10:51:40.0000] <hober>
if so, see http://microformats.org/wiki/existing-rel-values#HTML5_link_type_extensions

[11:04:37.0000] <Hixie>
one of the things stuart mentioned is that it'd be great if tables could be set to automatically sort when the page is loading

[11:04:42.0000] <Hixie>
any opinions on how that should be marked up?

[11:05:05.0000] <TabAtkins>
What's the current plan for declaring a column to be sortable?

[11:05:56.0000] <tantek>
is there any prior art to look at? e.g. I'd start with JS libraries for clicking on table headers to sort the columns

[11:06:26.0000] <tantek>
and if not, then perhaps those who want such a feature should first prototype in a JS library

[11:09:26.0000] <Hixie>
TabAtkins: right now no plan

[11:09:33.0000] <Hixie>
TabAtkins: just <table sortable>

[11:09:49.0000] <Hixie>
tantek: the prior art is stuart's library which doesn't support this, but which he reports is one of his most requested features.

[11:10:01.0000] <TabAtkins>
Hixie: Ah, and that makes *all* columns sortable?

[11:10:05.0000] <Hixie>
TabAtkins: currently.

[11:10:13.0000] <Hixie>
TabAtkins: and by "currnetly" i mean "in my head"

[11:10:26.0000] <tantek>
why wouldn't a column be sortable?

[11:10:36.0000] <tantek>
or do you need some way to enable a default "sorting" UI?

[11:10:43.0000] <TabAtkins>
Okay.  Then maybe <th sorted>?

[11:10:45.0000] <tantek>
similar to audio/video player=player

[11:11:06.0000] <TabAtkins>
tantek: You mean controls?

[11:11:18.0000] <tantek>
sorry, right, that. :)

[11:11:35.0000] <Hixie>
tantek: the only example i know of is a rank column, but there it's not so much that you can't sort by it so much as you need the cells to redistribute, and i don't know how to support that sanely with spans

[11:11:41.0000] <Hixie>
TabAtkins: that kind of implies it's _already_ sorted

[11:11:53.0000] <erlehmann>
Hixie, sorting tables onload means that people are not able to sort it server-side?

[11:12:03.0000] <TabAtkins>
Hixie: That's the point - you asked for some way to sort a column immediately.

[11:12:12.0000] <Hixie>
TabAtkins: though i am tempted to use an actual attribute to indicate the current sorted column, rather than a pseudo-class, which would be interested

[11:12:19.0000] <TabAtkins>
Oh, I see.

[11:12:20.0000] <Hixie>
TabAtkins: well yeah except in the markup it's not sorted

[11:12:21.0000] <tantek>
I like sorted. kind of like ordered vs. unordered lists.

[11:12:29.0000] <Hixie>
erlehmann: s/able/forced/

[11:12:37.0000] <tantek>
you can things sorted by multiple columns

[11:12:38.0000] <TabAtkins>
Yes, I was just going to suggest using the attribute to dynamically mark the sorted column too.

[11:12:41.0000] <tantek>
primary sort, secondary sort etc.

[11:12:45.0000] <TabAtkins>
Like <details open>.

[11:12:51.0000] <Hixie>
TabAtkins: yeah

[11:12:54.0000] <tantek>
so "current sorted column" is imprecise

[11:13:09.0000] <Hixie>
tantek: that is also an issue, yes

[11:13:27.0000] <tantek>
/me is waiting for visicalc.js

[11:13:46.0000] <erlehmann>
Hixie, issue: if columns have still to be sorted server-side, that gives backwards compat for free.

[11:14:04.0000] <Hixie>
erlehmann: stuart's feedback was that people hate that

[11:14:10.0000] <Hixie>
hate having to sort them themselves, i mean

[11:14:12.0000] <tantek>
is the original VisiCalc source anywhere? bet it would port well to JS + <table> as a data model

[11:14:16.0000] <erlehmann>
Hixie, if there are two ways, one backwards-incompatible, we *will* see „oh, yeah, the second columns on your page is something else“

[11:14:32.0000] <Hixie>
erlehmann: yes, but that's probably not a huge deal

[11:14:40.0000] <erlehmann>
Hixie, the problem is that making it easier, but incompatible for authors, will make it harder for users.

[11:14:48.0000] <Hixie>
erlehmann: it's not incompatible

[11:14:52.0000] <Hixie>
erlehmann: you still _can_ sort

[11:14:56.0000] <Hixie>
erlehmann: you're just not forced to

[11:14:58.0000] <Hixie>
in the future

[11:16:15.0000] <erlehmann>
sometimes, optional features are worse for compat. for example, AFAIK, you cannot implement ogg without doing streaming, but in MKV or MPEG containers you can have non-streamable files because the feature is optional.

[11:16:28.0000] <Hixie>
this isn't an optional feature

[11:17:10.0000] <erlehmann>
yeah, but how long until old user agents catch up? :/

[11:17:22.0000] <Hixie>
erlehmann: until they do, sort on the server and you'll be fine

[11:17:33.0000] <erlehmann>
the problem is that „the second column“ could be something else.

[11:17:40.0000] <tantek>
no different than the "new input types" problem

[11:17:46.0000] <Hixie>
what second column? what? i'm confused

[11:17:49.0000] <tantek>
new clients vs. server with old clients

[11:17:52.0000] <erlehmann>
or second row or whatever

[11:18:10.0000] <Hixie>
i think we're talking at cross purposes

[11:18:21.0000] <Hixie>
can you redescribe your concern from first principles?

[11:18:32.0000] <erlehmann>
Hixie, if i am referring to „the second row“ (not column), for how long will the person at this other computer be unsure about if i mean this or that row?

[11:18:56.0000] <Hixie>
well if it's a sortable table, any row could be the second row, it's whatever hte user last sorted the table to

[11:19:05.0000] <erlehmann>
something like “oh, you have an old version of firefox, that means the table is sorted differentlycould provide headches

[11:19:24.0000] <Hixie>
dude by that reasoning we could never add any new features ever

[11:19:40.0000] <erlehmann>
yeah, but if new UAs sort the table on load and old UAs do not, then there could be confusion

[11:19:44.0000] <erlehmann>
no, that is not what i mean

[11:20:18.0000] <erlehmann>
the problem is that there would be no “easy” fallback if some website does server-side-sort and I do not know, maybe someone has an old ipad or whatever

[11:20:23.0000] <TabAtkins>
erlehmann: Authors can certainly order their tables server-side if they *want* back-compat.  Worst case, they don't, and you have a working but unsorted table.

[11:21:00.0000] <erlehmann>
TabAtkins, I believe that a world where backwards compat is not optional could be better than one that is

[11:21:14.0000] <erlehmann>
if it is optional, some will not do it.

[11:21:17.0000] <Hixie>
erlehmann: we can't require that people sort their tables

[11:21:32.0000] <Hixie>
erlehmann: they'll just find workarounds like manually calling .sort()

[11:21:45.0000] <TabAtkins>
erlehmann: I believe a world where I'm forced to sort my table server-side just to get it sorted by default is an annoying one, and I'll instead just include a script on-load that sorts by the column I want.

[11:22:06.0000] <erlehmann>
instead of doing it server-side. hmm. that sounds plausible.

[11:22:09.0000] <TabAtkins>
An unsorted table is still a table containing all the data you want.  It's just not in order.

[11:22:12.0000] <Hixie>
erlehmann: in any case, i'm having trouble believing that the cost of people in legacy UAs having tables sorted differently than in new UAs will outweigh the cost of forcing people to manually sort their tables on the server

[11:22:46.0000] <Hixie>
especially given that there'll be shims for old UAs

[11:22:47.0000] <erlehmann>
i retract my assertion on the basis that the javascript sorting madness would be worse than having declarative means of marking up table sort

[11:22:51.0000] <Hixie>
hah

[11:22:59.0000] <erlehmann>
Hixie, TabAtkins, thanks for the discussion.

[11:23:09.0000] <Hixie>
dunno if i'd say "madness", but i agree :-)

[11:23:34.0000] <Hixie>
in other news, all this hasn't helped me figure out how to mark this up at all

[11:23:52.0000] <Hixie>
<table> <thead> <tr> <th sorted=1> <th sorted=2>

[11:24:03.0000] <Hixie>
but what if the author writes <th sorted=1> <th sorted=1> ?

[11:24:11.0000] <erlehmann>
“madness” in the case that pages use scripts when declarative means would be more usable in the long run.

[11:24:15.0000] <TabAtkins>
Then you sort the last one in document order?

[11:25:31.0000] <Hixie>
hm, sorted=level is kind of an unintuitive syntax anyway

[11:25:55.0000] <Hixie>
<table autosort="1,5,4,2">

[11:26:02.0000] <TabAtkins>
Dammit!  I was just typing that!

[11:26:05.0000] <Hixie>
which makes insertions in tbodies sort?

[11:26:12.0000] <erlehmann>
what would autosort do?

[11:26:13.0000] <Hixie>
but then we have to go back to pseudo-classes

[11:26:34.0000] <erlehmann>
is that the column numbers in sorting precedence?

[11:26:35.0000] <Hixie>
since having both that and the sorted="" attribute would just lead to conflicts

[11:26:38.0000] <Hixie>
erlehmann: yeah

[11:26:52.0000] <Hixie>
also it's not very intuitive to use column numbers instead of names

[11:27:10.0000] <erlehmann>
yeah

[11:27:20.0000] <Hixie>
this is fast looking like one of those situations where there's no good answer

[11:27:49.0000] <erlehmann>
maybe too fast

[11:28:30.0000] <Hixie>
maybe <th sort> <th sort=2> <th sort=3> where duplicate sort levels are interpreted in doc order, so <th sort=2> <th sort=2> is equivalent to <th sort=2> <th sort=3>

[11:28:40.0000] <Hixie>
and =1 is implied if omitted

[11:29:26.0000] <erlehmann>
why „sort“ instead of „sorted“ ?

[11:29:32.0000] <TabAtkins>
Sure, that works.

[11:30:02.0000] <Hixie>
erlehmann: because the attribute also sorts, it doesn't only indicate that the content is sorted

[11:30:54.0000] <Hixie>
how do we indicate that the sort should be reversed?

[11:31:01.0000] <Hixie>
do secondary keys ever need to be reversed?

[11:31:17.0000] <Hixie>
if i click column A twice, then click column B, is the sort order B, then reverse A? or just B?

[11:31:49.0000] <TabAtkins>
Ctrl-click does secondary sort, otherwise it's just overriding primary sort.

[11:32:16.0000] <Hixie>
usually clicking a new column just pushes all previous columns up one level in the sort order

[11:32:18.0000] <erlehmann>
in which UA?

[11:32:37.0000] <Hixie>
i'm not aware of any UI that lets you change the secondary sort without changing the primary

[11:34:21.0000] <erlehmann>
but imagine sorting by category (pizza, burgers, noodles) and than going for secondary sort by price or delivery time

[11:35:08.0000] <erlehmann>
or say you have tech gadgets. sort by price, ascending, then sort by memory capacity descending.

[11:35:12.0000] <erlehmann>
or vice versa

[11:36:25.0000] <erlehmann>
i would make the attribute more self-describing, if you go by that route

[11:36:35.0000] <erlehmann>
sortindex

[11:36:39.0000] <erlehmann>
similar to tabindex

[11:38:43.0000] <jgraham>
Hmm, where does the spec say that elements with a content model of "text" are valid if they don't have any child nodes?

[11:42:39.0000] <jgraham>
Also, isn't autosorting on load rather unfriendly

[11:43:09.0000] <jgraham>
It means that you either can't do incremental rendering or have to relayout the table after you reach the end tag

[11:43:27.0000] <jgraham>
Which is pretty confusing if it's a long table and someone has already started reading it

[11:55:58.0000] <Ms2ger>
Hixie, yeah, double is JS Number

[12:01:17.0000] <erlehmann>
did someone say doubles? http://memegenerator.net/instance/32214506

[12:03:06.0000] <erlehmann>
ich dacte sowas schreibt man am schluss

[12:04:38.0000] <Ms2ger>
Sorry, lots of Dutch, not a lot of German here

[12:06:31.0000] <erlehmann>
sorry, wrong terminal

[12:09:48.0000] <erlehmann>
the doubles guy was intended to be here, though

[12:10:20.0000] <erlehmann>
Ms2ger, i had dutch in first and second grade, but i cannot remember more than “ho het jej?” :3

[12:10:55.0000] <erlehmann>
oh, it is “Hoe heet jij?”

[12:11:32.0000] <Ms2ger>
Ms2ger, I thought you knew ;)

[12:13:03.0000] <erlehmann>
this is a misunderstanding between object- and meta-language

[12:13:05.0000] <erlehmann>
i think.

[12:13:12.0000] <Ms2ger>
:)

[12:13:20.0000] <erlehmann>
i was referring to the phrase, not asking a question

[12:14:08.0000] <erlehmann>
are the quotes rendered at your place?

[12:14:16.0000] <erlehmann>
in your … terminal or whatever?

[12:23:28.0000] <Hixie>
erlehmann: the problem with sortindex="" is you really want the simple case (just one sort column) to look natural

[12:23:42.0000] <Hixie>
jgraham: follow the link to Text

[12:24:09.0000] <Hixie>
jgraham: re sorting, you'd autosort on insert or something

[12:24:22.0000] <Hixie>
jgraham: which isn't performance-wise particularly hot, i'll grant you

[12:24:46.0000] <GPHemsley>
Are you guys aware of this? http://browseryoulovedtohate.com/

[12:25:47.0000] <erlehmann>
„it's good now“ „no really“

[12:25:47.0000] <erlehmann>
hahaha

[12:25:55.0000] <erlehmann>
„i have changed, please come back, honey“

[12:26:45.0000] <erlehmann>
text as images. expert web devs they have there.

[12:28:05.0000] <erlehmann>
download button does not work

[12:28:08.0000] <GPHemsley>
It accompanies this video: https://www.youtube.com/watch?v=lD9FAOPBiDk

[12:28:56.0000] <GPHemsley>
See also: http://karaokewebstandard.org/

[12:29:06.0000] <GPHemsley>
"This specification defines a new API, focused on semantic language processing for two-way communication with a remote host. Eschewing typical binary protocols, this new interface creates a system-to-system forced sonic recognition on the receiving party. "

[12:29:59.0000] <Ms2ger>
MikeSmith, hey, http://www.w3c-test.org/html/ doesn't look happy :(

[12:34:30.0000] <jgraham>
Hixie: I did. "Text, in the context of content models, means Text nodes"

[12:34:41.0000] <jgraham>
There are no Text nodes

[12:35:05.0000] <Hixie>
presumably not conforming then

[12:35:11.0000] <Hixie>
what's the element in question?

[12:35:20.0000] <jgraham>
<title></title> for example

[12:35:27.0000] <Hixie>
yeah that's not conforming

[12:35:34.0000] <jgraham>
The validator disagrees

[12:35:39.0000] <Hixie>
(not much point including a <title> if it's empty)

[12:35:54.0000] <jgraham>
Not much point in including a title at all in many cases :)

[12:35:59.0000] <erlehmann>
GPHemsley, what is this i don't even.

[12:36:00.0000] <Hixie>
yeah, the spec allows for that

[12:36:09.0000] <jgraham>
Anyway, I guess I should file a bug on hsivonen

[12:36:33.0000] <Hixie>
"if title information is available from a higher-level protocol" you don't have to include a <title>

[12:36:43.0000] <jgraham>
Fair enough

[12:36:55.0000] <jgraham>
Anyway, it seems the validator has a bug

[12:37:16.0000] <TabAtkins>
jgraham: Auto-sorting on load is no more unfriendly than a JS onload handler calling .sort() manually.  Since that's exactly what people will do if we don't provide the feature, might as well do it right immediately.

[12:38:01.0000] <jgraham>
TabAtkins: I don't see why people wouldn't sort the data on the server side

[12:38:14.0000] <Hixie>
i kinda want to make that clearer, e.g. explicitly make it ok for documents intended only for use in iframes (especially seamless iframes) to not have <title>s, but i don't know how to spec it since you can't distinguish a document that you load in an iframe from one you visit directly... haven't thought about it very much though

[12:38:29.0000] <Hixie>
jgraham: stuart says this is one of the biggest complaints about his library

[12:38:33.0000] <Hixie>
(that it doesn't sort on the client on load)

[12:38:55.0000] <Hixie>
well, he says "lots of people ask for it"

[12:39:18.0000] <Hixie>
(he agrees that it's "wrong")

[12:39:21.0000] <jgraham>
Well, lots of people ask for a parent selector in CSS

[12:39:32.0000] <jgraham>
We don't let them have that either :)

[12:39:34.0000] <Hixie>
yeah, and we should provide that with :matches()

[12:40:49.0000] <erlehmann>
if it is one of the biggest complaints, that does not mean that it is necessary, useful or even possible to build.

[12:41:09.0000] <Hixie>
no but it means that if it is possible to build, that we should seriously consider it

[12:41:13.0000] <erlehmann>
i once talked to a sound engineer and had to explain my synthesizer software using less-than-turing-complete instructions so it does not stall.

[12:41:56.0000] <erlehmann>
if this is a common complaint, where is the library that does it?

[12:42:12.0000] <erlehmann>
*someone* must have tried

[12:42:18.0000] <erlehmann>
(and failed? who knows)

[12:42:40.0000] <erlehmann>
(looking at existing solutions right now)

[12:44:10.0000] <erlehmann>
this one uses classes in header columns http://tetlaw.id.au/view/blog/table-sorting-with-prototype/

[12:44:16.0000] <erlehmann>
sortfirstasc and sortfirstdesc

[12:46:43.0000] <Hixie>
TabAtkins: can you translate Francois' e-mail for me?

[12:46:52.0000] <TabAtkins>
Sure, one sec.

[12:47:19.0000] <erlehmann>
does not scale :/

[12:48:51.0000] <erlehmann>
those classname solutions are ugly

[12:49:13.0000] <erlehmann>
this is worst i have seen http://www.frequency-decoder.com/2006/09/16/unobtrusive-table-sort-script-revisited

[12:49:28.0000] <erlehmann>
using the classname sortable-onload-3r-4r-5

[12:51:54.0000] <erlehmann>
btw, could autosortable tables have URIs?

[12:52:23.0000] <erlehmann>
in before „not every state should have a fragment identifier, just link to the table row” (it was just a funny idea)

[12:53:02.0000] <Hixie>
?

[12:53:05.0000] <Hixie>
i don't follow

[12:53:53.0000] <erlehmann>
i just thought it would be nice to be able to link to a table in the state of being sorted by specific a value.

[12:54:01.0000] <erlehmann>
but then i can see no use case for that

[12:54:17.0000] <erlehmann>
it just followed when thinking about the media fragments thing

[12:54:31.0000] <erlehmann>
(which i and others have many use cases for)

[12:55:07.0000] <Hixie>
is there a use case for inserting rows into a table without the table autosorting?

[12:55:17.0000] <Hixie>
assuming the table has a sort order specified

[12:55:26.0000] <TabAtkins>
I don't think so, no.

[12:55:51.0000] <Hixie>
we probably need a method on <table> to remove all sort attributes

[12:56:04.0000] <Hixie>
.stopSort() or something

[12:56:19.0000] <erlehmann>
that would violate the principle of least surprise, since adding elements would change the table from being sorted to not being sorted

[12:56:49.0000] <erlehmann>
so how will CSS and sorting come together?

[12:57:02.0000] <erlehmann>
nth-child will not work, right?

[12:57:14.0000] <TabAtkins>
They still work.  Sorting rearranges the DOM.

[12:57:15.0000] <Hixie>
css is unaffected, since this all happens at the dom elvel

[12:57:26.0000] <Hixie>
<table sortable>

[12:57:26.0000] <Hixie>
<th sort[=level] onsort="comparator = function (a, b) { ... }">

[12:57:26.0000] <Hixie>
<table>.stopSort(); // removes all sort attributes

[12:57:29.0000] <Hixie>
anything else we need?

[12:57:37.0000] <erlehmann>
indeed? okay.

[12:57:54.0000] <Hixie>
(sortable="" just enables the UI)

[12:58:00.0000] <erlehmann>
level, what is level?

[12:58:07.0000] <TabAtkins>
Hixie: Is "comparator" a magic variable?

[12:58:10.0000] <Hixie>
sort=2 means it's a secondary key

[12:58:14.0000] <Hixie>
sort=3 tertiary key, etc

[12:58:24.0000] <Hixie>
th.comparator is just a callback

[12:58:32.0000] <Hixie>
i'd use an event but i assume a callback is way more efficient

[12:58:41.0000] <erlehmann>
ah

[12:59:31.0000] <TabAtkins>
Oh, okay.  So the sort algorithm calls th.comparator(A,B) if it exists.  Your onsort event does a JIT setting of the comparator property.

[12:59:53.0000] <Hixie>
right

[12:59:59.0000] <erlehmann>
so what is the default comparison for tables?

[13:00:07.0000] <Hixie>
the complicated thing we were discussing yesterday

[13:00:09.0000] <TabAtkins>
erlehmann: We worked one out last night.

[13:00:18.0000] <TabAtkins>
(date stuff) < floats < strings.

[13:00:26.0000] <TabAtkins>
And (date stuff) has a more complicated ordering.

[13:00:27.0000] <Hixie>
see http://www.whatwg.org/specs/web-apps/current-work/temp

[13:00:35.0000] <erlehmann>
TabAtkins, link?

[13:00:44.0000] <erlehmann>
thx

[13:01:07.0000] <Hixie>
hm, having a sort="" means we can't really have .sort()

[13:01:08.0000] <erlehmann>
how are strings ordered?

[13:01:15.0000] <TabAtkins>
lexicographic.

[13:01:18.0000] <Hixie>
erlehmann: unicode locale-specific based on <table lang>

[13:01:22.0000] <Hixie>
insensitive to case

[13:01:45.0000] <TabAtkins>
unicode locale-based case insensitivity?

[13:02:05.0000] <erlehmann>
o.0

[13:02:17.0000] <TabAtkins>
Hixie: Francois' response is that overflow:hidden isn't a sufficiently strong isolation guarantee.

[13:02:30.0000] <Hixie>
yeah i got that part, it was the why that lost me

[13:02:49.0000] <TabAtkins>
My response to him, immediately following yours, explains the why in more detail.

[13:03:26.0000] <gavin____>
where is this controvery about HTML5 CR taking place?

[13:03:36.0000] <gavin____>
I see twitter fights about it but no references to mailing list posts or anything

[13:04:29.0000] <Hixie>
gavin: www.w3.org/TR

[13:04:31.0000] <Ms2ger>
Where all the fights are

[13:04:31.0000] <Ms2ger>
http://w3cmemes.tumblr.com/

[13:04:44.0000] <Hixie>
i don't follow twitter myself so no idea about the twitter fights

[13:04:47.0000] <gavin>
Hixie: I mean where is discussion taking place, other than twitter

[13:04:49.0000] <erlehmann>
oh fine http://en.wikipedia.org/wiki/Unicode_Collation_Algorithm

[13:04:55.0000] <Hixie>
oh, i am not aware of a discussion

[13:05:02.0000] <erlehmann>
Ms2ger, put the doubles guy there!

[13:05:10.0000] <Ms2ger>
There was some sarcastic chatter about it here

[13:05:39.0000] <jgraham>
Sarcasm? Here? Never!

[13:05:46.0000] <Hixie>
TabAtkins: got it

[13:06:23.0000] <Hixie>
gavin: the controversy is just that the w3c went to CR with 131 open bugs and skipping the LC that the process requires

[13:06:25.0000] <Ms2ger>
If condescending Willy Wonka existed, he'd be a regular

[13:06:44.0000] <erlehmann>
i lauged a little http://w3cmemes.tumblr.com/post/35475527654/theyll-remove-h-264-support-any-moment-now

[13:06:54.0000] <Hixie>
gavin: while at the same time the w3c claims that they are better because Process

[13:08:00.0000] <jgraham>
Hixie: HAving to put <th onsort="comparator = function() {}"> seems much less nice than <th comparator="function() {}"> or something

[13:08:00.0000] <gsnedders>
erlehmann: Next week, I swear!

[13:08:31.0000] <Hixie>
jgraham: agreed, but that would be a first and I don't even know how I'd spec that.

[13:09:21.0000] <jgraham>
Yeah, but worth working out, I think

[13:09:40.0000] <jgraham>
Requiring authors to understand the magicness on onfoo attributes is pure pain

[13:09:52.0000] <erlehmann>
gsnedders, i would love to know why people make bold assertions like that without going through, if actually doing it is relatively simple. the only thing the chrome team has earned is distrust.

[13:10:02.0000] <jgraham>
Either that or an entirely different design (which I don't have a proposal for)

[13:10:09.0000] <Hixie>
jgraham: so you want to replace it with similarly complex, but one-off, magic? :-)

[13:10:25.0000] <gsnedders>
erlehmann: Decision overruled by someone higher up? I dunno. I doubt the announcement was made in bad faith.

[13:10:28.0000] <jgraham>
Much less complex, but one-off magic

[13:10:36.0000] <erlehmann>
any sufficiently advanced specification is indistinguishable from black magic

[13:10:38.0000] <Hixie>
jgraham: what would be less complex?

[13:10:45.0000] <jgraham>
You don't need to understand the implicit this

[13:11:00.0000] <jgraham>
You don't really need to understand the order of events

[13:11:49.0000] <gsnedders>
/me on the whole agrees with jgraham, but would rather not have *more* JS in HTML attributes.

[13:11:50.0000] <Hixie>
/me shrugs

[13:11:56.0000] <Hixie>
doesn't seem that big a deal

[13:11:59.0000] <erlehmann>
gsnedders, usually, release logs contain stuff like that.

[13:12:12.0000] <Hixie>
i'm rather skeptical of introducing JS in an attribute that doesn't start with "on"

[13:12:32.0000] <Hixie>
not that blacklisting filters are a viable option anyway, but...

[13:13:30.0000] <jgraham>
I'm rather skeptical of on* attributes :)

[13:13:44.0000] <erlehmann>
that onsort function could not be the comparator but just get a representation of the table as array and return it! then random orderings will be easy! :---DDD

[13:13:54.0000] <Hixie>
jgraham: well yeah but they're not going anywhere

[13:14:03.0000] <Hixie>
erlehmann: i considered it

[13:14:35.0000] <erlehmann>
aaaand threw it away because … ?

[13:14:47.0000] <Hixie>
erlehmann: didn't seem like the easy cases would be easy that way

[13:14:50.0000] <erlehmann>
it makes the common case complicated?

[13:15:22.0000] <Hixie>
jgraham: fwiw, you can always ignore the onsort='' and tell authors to do <table>...</table><script>myth.comparator = function(a,b){...}</script>

[13:15:26.0000] <alecf_>
Random suggestion from the peanut gallery: how about a sortkey=function() {…} rather than a comparator

[13:15:38.0000] <Hixie>
alecf_: ?

[13:15:44.0000] <Hixie>
alecf_: pray elaborate sir

[13:15:44.0000] <gsnedders>
Hixie: I'd rather just get everyone to use .comparator

[13:15:59.0000] <alecf_>
the sort key generates the key to compare, rather than the comparator function

[13:16:05.0000] <Hixie>
gsnedders: all the proposals i made above involve them using .comparator

[13:16:09.0000] <jgraham>
Oh that's a good point

[13:16:10.0000] <alecf_>
http://en.wikipedia.org/wiki/Schwartzian_transform

[13:16:21.0000] <gsnedders>
alecf_: Does that work even with reverse orderings?

[13:16:32.0000] <alecf_>
if you make it, sure!

[13:16:32.0000] <gsnedders>
Hixie: I'd just omit the HTML attribute :)

[13:16:43.0000] <Hixie>
alecf_: ah, interesting

[13:16:54.0000] <alecf_>
the idea is you return the key in the "scope" (i.e. unicode, numbers, whatever) such that you can use JS comparator rules around <, >, =

[13:17:00.0000] <erlehmann>
isn't there a declarative means of providing custom sorting algorithms?

[13:17:07.0000] <alecf_>
this also lets the UA optimize a whole lot more

[13:17:17.0000] <alecf_>
rather than your comparator being called NlogN times, your sort key is just called n times

[13:17:50.0000] <alecf_>
(and drastically simplifies rules around UA caching of sort keys, if desired)

[13:18:14.0000] <erlehmann>
this is a pretty clever thing

[13:18:21.0000] <jgraham>
Yes, python does the same thing

[13:18:24.0000] <alecf_>
yes exactly

[13:18:26.0000] <jgraham>
Should have thought of it before

[13:18:41.0000] <Hixie>
this does rather get around the problem of what to do if your comparator is ill-behaved

[13:18:45.0000] <Hixie>
i like it

[13:19:22.0000] <gsnedders>
Hixie: You could use the ES solution of not defining what happens then. :P

[13:19:23.0000] <Hixie>
then again, you could already do this by just hard-coding the key in the markup using <data>

[13:19:41.0000] <Hixie>
so maybe there's just no need to give a comparator?

[13:19:50.0000] <gsnedders>
(The only web-relied behaviour there is "it terminates", provided the comparitor always does)

[13:20:38.0000] <erlehmann>
it seems we are lacking a … halting state

[13:20:47.0000] <alecf_>
oh, and this lets you <td sortkey="1">one</td>

[13:21:11.0000] <TabAtkins>
erlehmann: Yes, using <time> and <data> wrappers aroudn the contents let you override the sorting key.

[13:21:15.0000] <alecf_>
oops, just saw Hixie 's comment about <data>

[13:21:42.0000] <TabAtkins>
Most of the time, good sort functions in languages let you override both the key func and the sort func.

[13:21:57.0000] <Philip`>
/me guesses you need an explicit 'reverse' option, otherwise trying to make a key function for a reverse alphabetic sort sounds like a huge pain

[13:22:03.0000] <erlehmann>
i advocate SQL in attributes instead of javascript

[13:22:06.0000] <Hixie>
yes reversing will be built-in

[13:22:06.0000] <erlehmann>
SELECT value FROM list WHERE value > 100 ORDER BY value ASC

[13:22:06.0000] <TabAtkins>
Often just overriding the key func is fine, but you do sometimes need a real comparator.

[13:22:38.0000] <TabAtkins>
Hixie: There are sorting algorithms that will handle badly-behaved comparators without infinite-looping, I think.

[13:22:55.0000] <gsnedders>
TabAtkins: There are. They are de-facto required for Array.prototype.sort.

[13:22:57.0000] <Philip`>
TabAtkins: Like bubble sort

[13:23:01.0000] <Hixie>
well this is moot since alecf_ made me realise that since we allow you to override the key, you can always just use that

[13:23:05.0000] <TabAtkins>
gsnedders: Yeah, that's what I thought.

[13:23:06.0000] <Hixie>
and get any sort order you want

[13:23:39.0000] <TabAtkins>
Hixie: I'm not certain you really can "always" do that.  At least, I've had good reason to use both key-overriding and comparator-overriding when sorting things in programs.

[13:23:39.0000] <gsnedders>
TabAtkins: The exact behaviour, as I said above, isn't required for web-compat, just that it terminates given the comparator does.

[13:23:52.0000] <Hixie>
TabAtkins: when can't you?

[13:23:58.0000] <TabAtkins>
gsnedders: Yeah, that's what I'd think.  The behavior woudl be more or less arbitrary anyway.

[13:24:12.0000] <gsnedders>
TabAtkins: Which means to get a random ordering in ES you can de-facto do arr.sort(function(a,b){return Math.random()-0.5;})

[13:24:25.0000] <Hixie>
/me grumbles that he wants both a sort="" attribute and a sort() method on the same object

[13:24:42.0000] <TabAtkins>
Hixie: For example, if the data is something that can be lexicographically sorted.  You might not be able to easily map that into an existing key structure.

[13:25:00.0000] <TabAtkins>
gsnedders: Clever. ^_^

[13:25:09.0000] <Hixie>
TabAtkins: if it can be lexicographically sorted, you can just use it as the key

[13:25:32.0000] <TabAtkins>
Hixie: No, you can't necessarily.  That depends on it being sortable using string rules.

[13:25:48.0000] <Philip`>
Hixie: You might want to sort first by a number, then tie-break by sorting on a string

[13:25:48.0000] <TabAtkins>
I mean like, tuples can be lexicographically sorted.

[13:25:54.0000] <Hixie>
TabAtkins: what do you mean by "lexicographically" then?

[13:25:56.0000] <TabAtkins>
What Philip` said.

[13:26:00.0000] <alecf_>
TabAtkins: you build that into your key

[13:26:04.0000] <Philip`>
so you can't just concatenate them

[13:26:07.0000] <Hixie>
Philip`: luckily, that's what the default algorithm will do

[13:26:19.0000] <TabAtkins>
Lexicographically means "sort per element, breaking ties by sorting the next element".

[13:26:27.0000] <TabAtkins>
It's defined by analogy to strings, thus the name.

[13:26:45.0000] <Hixie>
Philip`: but you could do that easily by just using as the key a form like "[type][key]" where type = 1 for number, 2 for string, and [key] being the key in string form

[13:26:50.0000] <Hixie>
Philip`: zero-padded for numbers

[13:26:51.0000] <alecf_>
I don't believe there is anything that can be expressed with comparator that can't be expressed with sort key, at least within the bounds of "sane" comparators

[13:27:10.0000] <alecf_>
(i.e. stable-sorting comparators)

[13:27:15.0000] <gsnedders>
This is what I believe, given a stable-sorting comparator.

[13:27:36.0000] <TabAtkins>
alecf_: Technically, you're probably right.  Realistically, the things we're describing are easier with a comparator so you don't have to do string-encoding hacks.

[13:27:38.0000] <gsnedders>
(Proof is left as an exercise to the reader, etc.)

[13:27:39.0000] <erlehmann>
orderby RAND()

[13:27:58.0000] <TabAtkins>
Hixie: As gsnedders said, worrying about badly-behaved comparators is a red-herring, since Array#sort has to deal with that already.

[13:27:59.0000] <alecf_>
sortkey="rand()" :)

[13:29:11.0000] <alecf_>
TabAtkins: I'd argue that there are just as many things that are easier with a sortkey - once I started using it in python, I pretty much stopped writing comparators

[13:29:18.0000] <erlehmann>
TabAtkins, “string encoding hacks” ?

[13:29:31.0000] <Hixie>
new straw man:

[13:29:31.0000] <Hixie>
<table sortable> // enables UI

[13:29:31.0000] <Hixie>
<th sort[="[reverse] [level]"]> // enables autosorting for the table using this column as key (level 2 is secondary key, 3 is tertiary, etc)

[13:29:34.0000] <Hixie>
<table>.stopSort(); // removes all sort attributes

[13:29:35.0000] <TabAtkins>
alecf_: I'm not disagreeing.  Like I said, I get plenty of use out of both keyfuncs and sortfuncs when sorting.

[13:29:37.0000] <Hixie>
<th>.sortNow(); // increments level of sort="" attributes, then sets this <th>'s to ""; unless it's already level 1, in which case it just flips the presence of "reverse"

[13:29:39.0000] <alecf_>
note I said "just as many", I'm not trying to say which is better for expressiveness

[13:29:39.0000] <Philip`>
Hixie: I don't mean that keys are either numbers or strings (so you can't just tag them with a single type) - they're a tuple like (100, "a") or (100, "b") or (-100.5, "a")

[13:30:13.0000] <TabAtkins>
erlehmann: Like if you're lexico sorting a (number, string) tuple, having to encode the number to sort right with string-sorting rules.

[13:30:43.0000] <erlehmann>
i am looking for declarative collation efforts right now

[13:30:59.0000] <Philip`>
and in general you can't sort numbers by converting them to strings and doing normal string comparison, because you want -2 < -1 < 0 < 1 < 2

[13:31:02.0000] <Hixie>
Philip`: just zero-pad the number so it's aligned on the same decimal, then concatenate the string and use that. 0100.0a 0100.0b -100.5a

[13:31:40.0000] <Hixie>
Philip`: yeah fair enough, you'd need to reverse the sort key for negative numbers

[13:32:14.0000] <Hixie>
 1:100.0a 1:100.0b 0:899.5a

[13:32:15.0000] <Hixie>
or some such

[13:32:39.0000] <Hixie>
anyway, we can support a comparator if people want one

[13:32:41.0000] <Hixie>
i don't mind

[13:32:53.0000] <TabAtkins>
Hixie: That means you have to first scan the table to know how wide your numbers are, or adopt a number-encoding solution that doesn't need zero-padding (like http://www.xanthir.com/blog/b4K70)

[13:33:04.0000] <SimonSapin>
gsnedders: sort(function(a,b){return Math.random()-0.5;}) can be biased if the sorting algorithm assumes transitivity   http://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle#Comparison_with_other_shuffling_algorithms

[13:33:22.0000] <Hixie>
TabAtkins: yeah

[13:33:29.0000] <erlehmann>
TabAtkins, fail link

[13:33:29.0000] <gsnedders>
SimonSapin: Indeed.

[13:33:42.0000] <erlehmann>
correct link is about:blank

[13:33:47.0000] <TabAtkins>
erlehmann: Not my fault.

[13:33:49.0000] <erlehmann>
err http://www.xanthir.com/blog/b4K70

[13:34:02.0000] <Hixie>
that's the URL he gave

[13:34:14.0000] <erlehmann>
TabAtkins, parenthesis unencoded in URL where it is not part of URL.

[13:34:16.0000] <TabAtkins>
irssi isn't interpreting it as a link, presumably because of the ) following it.

[13:34:41.0000] <gsnedders>
irssi doesn't handle links, your terminal does.

[13:34:43.0000] <Hixie>
TabAtkins: ah yes, i remember reading about this a few months ago

[13:34:46.0000] <TabAtkins>
Wait, never mind, it does work.

[13:35:15.0000] <Hixie>
the ) was unambiguously not part of the url since otherwise he'd have unbalanced parentheses :-P

[13:35:18.0000] <erlehmann>
TabAtkins, http://en.wikipedia.org/wiki/The_Walking_Dead_(TV_series) contains a closing parenthesis at the end

[13:35:35.0000] <TabAtkins>
erlehmann: Yes yes, you're right.  Should have surrounded it in <>.

[13:35:53.0000] <Hixie>
ok new strawman:

[13:35:54.0000] <Hixie>
<table sortable> // enables UI

[13:35:55.0000] <Hixie>
<th sort[="[reverse] [level]"]> // enables autosorting for the table using this column as key (level 2 is secondary key, 3 is tertiary, etc)

[13:35:58.0000] <Hixie>
<th onsort=""> // called just before sort happens but after the sort="" attributes are updated; return false to cancel sort (so you can do it yourself)

[13:36:01.0000] <Hixie>
<th>.comparator = function(a, b) { } // comparator for this column

[13:36:03.0000] <Hixie>
<table>.stopSort(); // removes all sort attributes

[13:36:04.0000] <gsnedders>
SimonSapin: It is often good enough as an approximation, however

[13:36:06.0000] <Hixie>
<th>.sortNow(); // increments level of sort="" attributes, then sets this <th>'s to ""; unless it's already level 1, in which case it just flips the presence of "reverse"

[13:36:07.0000] <erlehmann>
Hixie, as someone who several times tried to work around the issue of peopleusing parenthesis, I dare you to write something that will result in few false negatives

[13:36:20.0000] <Hixie>
erlehmann: my brain seems to manage it pretty well

[13:36:30.0000] <SimonSapin>
gsnedders: fair enough

[13:36:45.0000] <Philip`>
erlehmann: Write something that parses it both ways then checks whether one is a 404

[13:37:01.0000] <erlehmann>
Hixie, that is because your brain is not using regular expressions. you are probably an agent of ZALGO.

[13:37:26.0000] <Hixie>
my workflow isn't utf-8 safe enough for me to be an agent of zalgo

[13:37:54.0000] <erlehmann>
what i did was if the string started with (http ignore last parenthesis

[13:38:04.0000] <erlehmann>
so (http://example.org) is highlighted as http://example.org

[13:38:17.0000] <erlehmann>
otherwise, take them in. wikipedia articles are common enough to warrant this

[13:38:19.0000] <Hixie>
ok last chance to stop me wasting my time speccing something you're going to complain about later

[13:38:39.0000] <TabAtkins>
Hixie: You doing the keyfunc thing?

[13:38:42.0000] <gsnedders>
Hixie: What's the point of sortStop?

[13:38:54.0000] <Hixie>
TabAtkins: see new strawman above

[13:39:04.0000] <erlehmann>
is there no feasible way of declaratively specifying comparators?

[13:39:11.0000] <TabAtkins>
Hixie: Yes, I don't see it.  I was wondering.  ^_^

[13:39:12.0000] <Hixie>
gsnedders: it makes it so you can insert rows into the table again without it magically sorting the rows for you

[13:39:29.0000] <Hixie>
TabAtkins: no keyfunc, just <data value=""> if you want to do a key thingy

[13:39:31.0000] <erlehmann>
Hixie, why not just remove the attribute then?

[13:39:34.0000] <TabAtkins>
erlehmann: You can declaratively specify your key, but not your comparator.

[13:39:35.0000] <gsnedders>
Hixie: Does this warrant a function built-in for it?

[13:39:38.0000] <Hixie>
erlehmann: there might be dozens of it

[13:39:39.0000] <TabAtkins>
Hixie: Okay.

[13:40:22.0000] <TabAtkins>
Hixie: I'm happy enough with the strawman.

[13:40:37.0000] <Hixie>
gsnedders: i don't know how else to do it. How do you get a list of all the <th> descendants with a sort="" attribute that aren't part of another table then strip the attributes from those <th>s?

[13:40:46.0000] <erlehmann>
TabAtkins, declarative comparison speccing is impossible in a goedelian way?

[13:40:47.0000] <Hixie>
gsnedders: short of manually walking the tree or something

[13:40:57.0000] <erlehmann>
like, mathematically impossible short of enumerating every value?

[13:41:11.0000] <gsnedders>
Hixie: Oh, right, yes, nested tables do complicate that.

[13:41:12.0000] <TabAtkins>
erlehmann: No, not really.  ^_^  Just more complex than is warranted for a feature like this.

[13:41:23.0000] <Hixie>
can you do table.querySelectorAll('table:scope > thead > tr > th[sort]').apply(function (node) { node.removeAttribute('sort') } ); or something?

[13:41:51.0000] <erlehmann>
TabAtkins, can you point me to some ways to do it?

[13:42:33.0000] <Hixie>
if you want a turing complete solution for the comparator syntax, isn't it by definition not declarative?

[13:42:46.0000] <Hixie>
i assume by "declarative" you mean "a turing machine can determine if it halts"

[13:42:51.0000] <gsnedders>
Hixie: Well, are we requiring it to be inthead?

[13:43:07.0000] <TabAtkins>
erlehmann: Not without some effort to find some.  I imagine something based on (1) having a set of basic types that are sortable, and (2) having a declarative parser that turns values into those types would work.

[13:43:19.0000] <Hixie>
gsnedders: probably, though for the sake of argument you could replace that with :matches(thead, tbody)

[13:43:24.0000] <erlehmann>
Hixie, it reminds me of my synthesizer problem. i used declarative means so it would guarantee to return in 30ms providing the next sample.

[13:43:38.0000] <Hixie>
it's easy to guarantee that code will return in 30ms

[13:43:46.0000] <Hixie>
alarm(30ms)...

[13:43:58.0000] <erlehmann>
no more turing complete input languages! repent!

[13:44:14.0000] <gsnedders>
Hixie: Then yeah, that would work.

[13:44:24.0000] <erlehmann>
what is the behaviour, if autosort is on and the comparator does not halt?

[13:44:25.0000] <Hixie>
really? holy cow, if that really would work that's impressive

[13:44:46.0000] <gsnedders>
Hixie: Why wouldn't it?

[13:44:52.0000] <TabAtkins>
erlehmann: Same as infinite-looping in JS.  That's exactly what it is, after all.

[13:44:52.0000] <Hixie>
since i basically guessed at both querySelectorAll() being on elements, :scope working as i expected, and .apply() being on its return value

[13:45:17.0000] <Hixie>
erlehmann: a dialog pops up saying "a script on this page isn't halting..."

[13:45:18.0000] <gsnedders>
Heh. :)

[13:45:20.0000] <TabAtkins>
Hixie: Oh, no, apply doesn't exist.

[13:45:24.0000] <Hixie>
boo

[13:45:28.0000] <TabAtkins>
You need to cast the nodelist into an array and then call map or forEach.

[13:45:30.0000] <gsnedders>
Hixie: I might have slightly misremembered, but basically the approach works.

[13:45:36.0000] <erlehmann>
TabAtkins, now consider a comparator that does not halt … on some edge cases. and some table filled dynamically with stock prices or whatever.

[13:45:46.0000] <TabAtkins>
[].slice.call(table.querySelectorAll(...)).forEach(...);

[13:45:46.0000] <Hixie>
you can cast a NodeList into an Array?

[13:45:49.0000] <Hixie>
lordy

[13:45:59.0000] <TabAtkins>
Hixie: You can cast anything with a .length property into an array.

[13:46:07.0000] <annevk>
Hixie: FYI, Twitter liks the sortable tables stuff

[13:46:10.0000] <Hixie>
your definition of "cast" isn't quite the same as mine but fair enough

[13:46:12.0000] <TabAtkins>
What I wrote above is the standard idiom for such.

[13:46:15.0000] <annevk>
likes, even

[13:46:16.0000] <Hixie>
wasn't heycam working on making NodeLists Arrays?

[13:46:18.0000] <gsnedders>
TabAtkins: or use Array.prototype.apply.call(table.querySelectorAll(…), function(node){node.removeAttr…})

[13:46:31.0000] <gsnedders>
Given Array.prototype.apply is generic

[13:46:33.0000] <TabAtkins>
gsnedders: Too voodoo for me.

[13:46:36.0000] <Hixie>
annevk: the company, or random people watching us jibber jabber here?

[13:46:43.0000] <Hixie>
if the random people, hi random people

[13:46:45.0000] <Hixie>
come on down!

[13:46:48.0000] <Hixie>
join us

[13:46:52.0000] <gsnedders>
TabAtkins: It's what I tend to do. :)

[13:46:56.0000] <annevk>
Hixie: we're still working on making NodeList arrays, but web compat might be against us

[13:47:08.0000] <Hixie>
annevk: NodeList.asArray()?

[13:47:12.0000] <TabAtkins>
As soon as I see .[call|apply].[call|apply], I bail.

[13:47:13.0000] <annevk>
Hixie: random people retweeting my tweet of your sketch link

[13:47:15.0000] <erlehmann>
hey, annevk, can i use tilde in hashes as separator? you are the new URL god, right? :3

[13:47:20.0000] <TabAtkins>
Hixie: No, natively arrays.

[13:47:22.0000] <Hixie>
annevk: aah

[13:47:29.0000] <annevk>
Hixie: what TabAtkins said

[13:47:57.0000] <annevk>
erlehmann: I just write down what get its implemented

[13:47:59.0000] <erlehmann>
did you mean “aaaaaaaah” (implying implications)

[13:48:02.0000] <Hixie>
oh yeah, i assumed that was impossible

[13:48:06.0000] <gsnedders>
TabAtkins: Oh, I meant forEach.call, bah!

[13:48:07.0000] <Hixie>
but i mean can't we add a .asArray() method?

[13:48:11.0000] <Hixie>
that'd be sufficient

[13:48:25.0000] <erlehmann>
annevk, oh okay. then i need to defeat the implementors … by becoming one of them!

[13:48:32.0000] <annevk>
Hixie: that sounds doable, not sure if that's nice enough

[13:48:40.0000] <annevk>
erlehmann: but why not ";"?

[13:48:41.0000] <TabAtkins>
gsnedders: Oh, haha, yeah, that'd work.

[13:48:46.0000] <Hixie>
so table.querySelectorAll('table:scope > thead > tr > th[sort]').asArray().forEach(function (node) { node.removeAttribute('sort') } );

[13:49:02.0000] <Hixie>
annevk: well it's better than the pseudo-casting you have to do now to get forEach

[13:49:10.0000] <TabAtkins>
Hixie: In our ideal world, remove the .asArray() call.

[13:49:14.0000] <annevk>
Hixie: yeah fair enough

[13:49:22.0000] <Hixie>
TabAtkins: yeah, but if that's impossible for web compat...

[13:49:23.0000] <annevk>
Hixie: I'll try to make a note of that somewhere

[13:49:30.0000] <Hixie>
what's the difference between .forEach() and .apply()?

[13:50:04.0000] <TabAtkins>
Hixie: apply() is a method on Function that calls the function, taking an array and expanding it into the individual arguments.

[13:50:14.0000] <TabAtkins>
.forEach is a method on Array that calls a function on each element of the array.

[13:50:25.0000] <othermaciej>
forEach() is like map() that doesn’t collect the results

[13:50:30.0000] <TabAtkins>
They are completely different.  .apply() is just a variant of .call().

[13:50:38.0000] <erlehmann>
annevk, data indicates that some characters are already used often, bottom of this mail http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2012-December/038430.html

[13:50:40.0000] <gsnedders>
.apply just calls [[Call]]

[13:51:04.0000] <gsnedders>
foo.apply(undefined, [a,b,c]) == foo(a,b,c)

[13:51:14.0000] <erlehmann>
tilde in fragment is used virtually never

[13:51:25.0000] <gsnedders>
(assuming Function.prototype.apply and undefined have their initial values, etc.)

[13:51:29.0000] <Hixie>
wait so Array.prototype.apply.call(table.querySelectorAll(…), function(node){node.removeAttr…}) doesn't work

[13:51:42.0000] <TabAtkins>
Hixie: Array.prototype doesn't have an apply method.

[13:51:44.0000] <annevk>
erlehmann: hmm, I don't really buy the compat argument

[13:51:52.0000] <TabAtkins>
I don't know what language you got that naming pattern from.

[13:51:53.0000] <Hixie>
gsnedders stop confusing me man

[13:51:53.0000] <gsnedders>
Hixie: s/apply/forEach/

[13:51:57.0000] <Hixie>
:-P

[13:51:59.0000] <annevk>
erlehmann: you could just check if the value is an ID somewhere first, and then split on ";" if it's not

[13:52:01.0000] <gsnedders>
Hixie: I made that correction forever.

[13:52:05.0000] <gsnedders>
*forever ago

[13:52:11.0000] <gsnedders>
Hixie: Keep up, man!

[13:52:17.0000] <annevk>
erlehmann: but anyway, don't really care

[13:52:34.0000] <annevk>
erlehmann: http://url.spec.whatwg.org/#writing has rules on fragment code points

[13:52:44.0000] <erlehmann>
annevk, that is what i could do if there is no suitable character.

[13:53:35.0000] <erlehmann>
annevk, i could also only split on delim if there is an equals character following which almost guarantees web compat

[13:54:00.0000] <annevk>
erlehmann: I'd try to keep the algorithm extremely simple

[13:54:25.0000] <annevk>
erlehmann: I doubt implementors like fiddling around with fragment identifier code

[13:55:31.0000] <erlehmann>
annevk, then I will have to learn to to play the fiddle myself

[13:56:39.0000] <erlehmann>
annevk, in the end, not having to look for an element on the page could make processing simpler.

[14:01:30.0000] <annevk>
well remember that 1) it's just a hashmap lookup and 2) that's the 99% scenario

[14:02:09.0000] <annevk>
media fragments are the 1%, if that

[14:11:03.0000] <erlehmann>
I AM THE 1%

[14:11:03.0000] <erlehmann>
I AM BATMAN

[14:11:35.0000] <erlehmann>
oh noes, dan cederholm is batman http://cssquirrel.com/comic/?comic=35

[14:27:25.0000] <Hixie>
suppose there are three columns A, B, and C

[14:27:34.0000] <Hixie>
suppose the user sorts by C, then B, then A

[14:27:54.0000] <Hixie>
so they have sort="", sort="2", and sort="3" respectively (A, B, C)

[14:28:00.0000] <Hixie>
now the user clicks B again

[14:28:22.0000] <Hixie>
should they have sort="2", sort="", sort="4", or should they have sort="2", sort="", sort="3"?

[14:28:37.0000] <Hixie>
(pretend all those sort=""s are sort="1" if you prefer that, that's not the point of this)

[14:28:55.0000] <erlehmann>
o.0

[14:30:47.0000] <JonathanNeal>
hi

[14:31:16.0000] <Hixie>
also, should sort="2 reverse" and sort="reverse 2" both be supported, or should the level always come first/second?

[14:31:26.0000] <erlehmann>
i want <table sortable autosort="lastname firstname age"> with id values on th

[14:31:39.0000] <erlehmann>
can i have it? :3

[14:31:45.0000] <TabAtkins>
Hixie: Either ordering should be allowed.

[14:32:15.0000] <erlehmann>
hixie why overload the attribute for two things unrelated to each other?

[14:32:17.0000] <TabAtkins>
Hixie: For your previous question, preferably 2/1/3.

[14:32:31.0000] <Hixie>
TabAtkins: ta

[14:32:45.0000] <JonathanNeal>
either sounds easier

[14:32:52.0000] <Hixie>
erlehmann: they're not unrelated, they're saying that this is a column that is to be used for sorting, and how to use the column for sorting

[14:33:25.0000] <erlehmann>
hixie, those are two distinct properties.

[14:33:41.0000] <annevk>
yeah, 2/1/3, possibly with B reversed?

[14:34:08.0000] <Hixie>
annevk: ignore the reversal thing, i'm just trying to work out how much work i should force onto the browsers in terms of normalising values

[14:34:15.0000] <erlehmann>
remember reverse ordered lists?

[14:34:17.0000] <Hixie>
erlehmann: how would you do it? (style="" has many properties...)

[14:34:37.0000] <Hixie>
reverse ordered lists?

[14:34:51.0000] <erlehmann>
http://blog.whatwg.org/reverse-ordered-lists

[14:34:56.0000] <erlehmann>
there is a single reserve attribute mentioned

[14:34:58.0000] <erlehmann>
reverse

[14:34:59.0000] <erlehmann>
sorry

[14:35:18.0000] <Hixie>
yes?

[14:35:22.0000] <Hixie>
how is this related

[14:35:31.0000] <annevk>
Hixie: from other cases, e.g. DOMTokenList, the consensus seems to be that UAs prefer the simplest possible internal format and then serialize that

[14:35:54.0000] <annevk>
Hixie: (I changed DOMTokenList from being string-based to being an ordered set)

[14:36:13.0000] <Hixie>
annevk: k

[14:36:22.0000] <Hixie>
annevk: not sure which is the simplest internal format here

[14:36:37.0000] <Hixie>
annevk: not sure how that would affect this, either

[14:36:48.0000] <erlehmann>
hixie, i would to <table sortable orderby="foo bar"><tr><th id=foo>fooooo</th> <th id=baz>baaaaz</th> <th id=bar reverse>bar</th> …

[14:36:53.0000] <Hixie>
annevk: i mean, the format seems orthogonal

[14:37:04.0000] <annevk>
Hixie: column ref + boolean indicating order, but yeah, doesn't matter much

[14:37:04.0000] <erlehmann>
(orderby = autosort, here only mentioned because of SQL)

[14:37:06.0000] <Hixie>
erlehmann: yikes

[14:37:19.0000] <Hixie>
erlehmann: i don't want the information split that far apart

[14:37:43.0000] <erlehmann>
hixie, it would be easier for authors.

[14:37:51.0000] <Hixie>
that i'm not at _all_ convinced of

[14:37:52.0000] <erlehmann>
currently, to find the sort order you have to look in several places

[14:37:57.0000] <Hixie>
requiring id=""s everywhere is horrible for authors imho

[14:38:08.0000] <JonathanNeal>
agreed

[14:38:15.0000] <Hixie>
if you want to _find_ the sort order, we can expose a method that does that

[14:38:20.0000] <JonathanNeal>
i avoid ids at all costs.

[14:38:21.0000] <annevk>
JonathanNeal: btw, most open license is CC0

[14:38:22.0000] <Hixie>
i'm more worried about setting the sort order

[14:38:24.0000] <erlehmann>
but having the sort order in one attribute for the table would be much more readable

[14:38:24.0000] <Hixie>
which seems far more likely

[14:38:24.0000] <erlehmann>
and author-able

[14:38:38.0000] <Hixie>
i disagree about authorable

[14:38:40.0000] <Hixie>
readable maybe

[14:38:48.0000] <Hixie>
though even then...

[14:39:09.0000] <JonathanNeal>
annevk: interesting, why do they bring up moral rights?

[14:39:38.0000] <annevk>
JonathanNeal: dunno

[14:39:40.0000] <erlehmann>
set sort order by a string!

[14:39:43.0000] <TabAtkins>
JonathanNeal: I use cc0 for things that I want to release into the public domain, because many countries don't have a public domain.

[14:39:48.0000] <annevk>
JonathanNeal: most of spec.whatwg.org is using that

[14:39:55.0000] <erlehmann>
table.orderby = 'rank lastname firstname'

[14:40:08.0000] <erlehmann>
:3

[14:40:08.0000] <erlehmann>
this would be so cool

[14:40:12.0000] <JonathanNeal>
what would be the primary difference between MIT and CC0?

[14:40:27.0000] <annevk>
JonathanNeal: CC0 requires nothing of the people using your code

[14:41:18.0000] <erlehmann>
hixie, interacting with sort=1, sort=2, etc. would also require more code :/

[14:41:36.0000] <annevk>
erlehmann: depends on the API

[14:42:01.0000] <JonathanNeal>
I like everything about CC0, except I'm a little confused by http://creativecommons.org/choose/zero/ "Using CC0, you can waive all copyrights and related or neighboring rights that you have over your work, such as your moral rights (to the extent waivable)"

[14:42:13.0000] <erlehmann>
annevk, table.orderby = [string of th ids delimited by spaces] is very easy API.

[14:42:16.0000] <annevk>
Hixie: dunno about what's best here, I guess I'd look at what the libraries have done

[14:42:21.0000] <annevk>
erlehmann: nah

[14:42:23.0000] <annevk>
erlehmann: IDs suck

[14:43:15.0000] <Hixie>
erlehmann: i'm happy to provide that API if that's useful, I'm just talking about what the DOM itself looks like for now

[14:43:22.0000] <annevk>
JonathanNeal: it's the same as putting your stuff in the public domain except as TabAtkins says it works in more countries

[14:43:23.0000] <erlehmann>
<table sortable autosort orderby="rank lastname firstname"> <tr> <th id=rank> … vs. <table sortable autosort> <th><tr sort=1> …

[14:43:29.0000] <erlehmann>
the latter is opaque

[14:43:38.0000] <Hixie>
erlehmann: no "autosort" in the latter

[14:43:50.0000] <Hixie>
just <table sortable><tr><th sort>

[14:44:04.0000] <JonathanNeal>
Does that mean people can draw dirty pictures in my library? Rather, don't MIT and GPL libraries allow that too? What does it mean to explicitly point that out?

[14:44:05.0000] <Hixie>
and the sortable="" is only needed if you want the UI

[14:44:06.0000] <erlehmann>
hixie, if autosort is implied if a sort order is given one could also remove it from the former

[14:44:22.0000] <Hixie>
right

[14:44:22.0000] <TabAtkins>
JonathanNeal: Some countries recognize a creator's "moral rights" in their work.  It's a pretty nonsense concept, but you still need to explicitly waive it if you want to be as free as possible.  ^_^

[14:44:23.0000] <annevk>
JonathanNeal: it means they don't have to copy your license terms

[14:44:23.0000] <erlehmann>
<table orderby="rank name file">

[14:45:00.0000] <erlehmann>
hixie, what benefits does your current approach give from a DOM manip perspective?

[14:45:10.0000] <Hixie>
<table orderby="rakn name file"><tr><th id=rank> <th id=name> <th id=file> <th>  vs  <table><tr><th sort=1><th sort=2><th sort=3><th>

[14:45:19.0000] <Hixie>
but question, what happens in your case if the user clicks the fourth column?

[14:45:41.0000] <Hixie>
(note that in the markup i just posted, yours won't work because i typed an ID, oops)

[14:45:46.0000] <Hixie>
typoed

[14:46:02.0000] <JonathanNeal>
annevk: that makes a lot more sense, except I wouldn't have chosen the word moral. TabAtkins that also kinda makes sense, except it's really vague. Like … sorry, you can't use this library, it was made in England and that means it is overseen by the Church of England.

[14:46:18.0000] <TabAtkins>
It has nothing to do with morality.

[14:46:49.0000] <annevk>
JonathanNeal: dunno man, stuff has been checked by the lawyers

[14:46:52.0000] <TabAtkins>
It's more like, exploiting someone's work without paying them is morally wrong. Legally recognizing that means granting moral rights.

[14:46:53.0000] <annevk>
JonathanNeal: maybe http://creativecommons.org/about/cc0 helps?

[14:47:09.0000] <erlehmann>
hixie the active columns is implicitly the most important column for sorting

[14:47:10.0000] <TabAtkins>
American copyright has no moral rights, for example.  It's an economic concept only.

[14:47:15.0000] <JonathanNeal>
I understand, I had never thought to disassociate the phrase "moral rights" with morality.

[14:47:42.0000] <Hixie>
erlehmann: i mean, what's the value of orderby=""

[14:47:49.0000] <Hixie>
erlehmann: after the user clicks the fourth column

[14:48:10.0000] <JonathanNeal>
TabAtkins: got it. Thanks for explaining that to me.

[14:48:58.0000] <JonathanNeal>
annevk: i had seen both pages, and it really just didn't hit me right. I think you understand what my disconnect was. Again, I really appreciate the explanation. I hope I can relicense a lot of my work CC0 now.

[14:49:17.0000] <erlehmann>
hixie, i see what you did there.

[14:49:18.0000] <annevk>
JonathanNeal: teehee :)

[14:50:19.0000] <erlehmann>
hixie, if only what is targetable would trigger sort, we could link to tables being sorted by linking to its table head.

[14:50:21.0000] <erlehmann>
that would be rad

[14:50:26.0000] <JonathanNeal>
So, the primary difference between MIT and CC0 is that CC0 is saying "this license tells you to do what you please, including neglecting to tell others the same by including this notice"

[14:50:55.0000] <Hixie>
erlehmann: that seems like it would make writing sortable tables a huge pain. I'd much rather just make it possible by only including a sortable="" attribute.

[14:51:07.0000] <erlehmann>
JonathanNeal CC is always more broad because CC lawyers work on internationalization

[14:51:22.0000] <Hixie>
ok, next question: should the UA use sort=""/sort="reverse" for the primary key, or sort="1"/sort="1 reverse" ?

[14:51:34.0000] <Hixie>
(all are supported, for authors)

[14:51:37.0000] <erlehmann>
list form.

[14:51:39.0000] <Hixie>
(just talking about what the browser ses)

[14:51:40.0000] <erlehmann>
last form

[14:51:41.0000] <Hixie>
sets

[14:51:54.0000] <TabAtkins>
The former.

[14:51:57.0000] <erlehmann>
haha, a typo that actually makes sense

[14:52:17.0000] <Hixie>
anyone want to tie-break this one?

[14:52:28.0000] <erlehmann>
wait

[14:52:33.0000] <erlehmann>
i retract and read the statement again

[14:52:35.0000] <erlehmann>
i am sleepy

[14:52:39.0000] <Hixie>
lol

[14:52:52.0000] <erlehmann>
<th sort=1 reverse>

[14:52:55.0000] <erlehmann>
i would like that

[14:53:13.0000] <erlehmann>
or, no

[14:53:23.0000] <erlehmann>
i think i did not understand the question

[14:53:26.0000] <erlehmann>
sorry :(

[14:53:50.0000] <erlehmann>
is the question if the the primary key does implicitly have a number even if it is just <th sort> ?

[14:54:13.0000] <erlehmann>
<th sort reverse> would be shorter than <th sort=1 reverse>

[14:54:16.0000] <erlehmann>
but explicit is better than implicit

[14:54:17.0000] <Hixie>
sort="" and sort="1" mean the same thing. The question is which the UA is going to prefer when it is the one setting the attribute.

[14:55:04.0000] <erlehmann>
is there precedence of magic values appearing when setting the attribute through UA?

[14:55:32.0000] <Hixie>
<details open> is (i think) the only other time we have had the UA set attributes, and it doesn't have a value

[14:55:52.0000] <erlehmann>
i am going with TabAtkins (if TabAtkins is for sort="")

[14:56:35.0000] <erlehmann>
but then, again i think that sort should not be overloaded with two meanings

[14:56:41.0000] <Hixie>
granted

[14:56:56.0000] <Hixie>
but (a) it's one meaning and (b) i don't understand how else to do it

[14:57:02.0000] <erlehmann>
can you leave the issue open? i mean, there is no implementation yet?

[14:57:08.0000] <Hixie>
this whole thing is open

[14:57:19.0000] <Hixie>
we're just talking about my first straw man here

[14:57:29.0000] <erlehmann>
well, the meaning may be „one“ in one sense, but it is not atomic

[14:57:30.0000] <erlehmann>
it can be decomposed

[14:57:38.0000] <Hixie>
(e.g. what does <tr> <th reverse> <th reverse> mean?)

[14:57:56.0000] <Hixie>
lots of things can be decomposed

[14:58:13.0000] <erlehmann>
well, the boolean „should this be ordered reversed“ cannot be decomposed

[14:58:15.0000] <Hixie>
value="102" can be decomposted into value-units="2" value-tens="0" value-hundreds="1"

[14:58:44.0000] <Hixie>
a boolean is the one thing that typically cannot be decomposed, agreed

[14:58:56.0000] <Hixie>
but life will be hell if we decompose everything down to bit level in the markup :-P

[14:59:00.0000] <erlehmann>
and here we have an attribute containing a boolean and an integer

[14:59:08.0000] <erlehmann>
that does not seem very clever to me.

[14:59:36.0000] <Hixie>
a signed number is just a boolean and an unsigned number

[14:59:49.0000] <erlehmann>
i cannot imagine that it be pleasant to work with if one first needs to split on a space and then work on it

[14:59:51.0000] <Hixie>
should we decompose all signed numbers :-)

[14:59:55.0000] <erlehmann>
nope.

[14:59:57.0000] <Hixie>
why would you work on it?

[15:00:12.0000] <Hixie>
again, if you need a way to use this, that's what APIs are for

[15:00:40.0000] <Hixie>
so far i'm not aware of any use cases for this entire feature to be anything but write-only

[15:00:44.0000] <erlehmann>
some data structures can make UA processing unnecessarily complex

[15:01:01.0000] <Hixie>
as anne said, UAs will almost certainly have optimised forms for all this internally

[15:01:45.0000] <erlehmann>
those two things, sort order and reversal of list, are at to different levels

[15:01:57.0000] <erlehmann>
sort order is „how does this thing behave to other things“

[15:02:09.0000] <erlehmann>
and reverse is „how does this thing behave internally“

[15:02:21.0000] <erlehmann>
(i should do more philosophy of language)

[15:03:13.0000] <Hixie>
the alternative syntaxes i've considered all end up being more messed up

[15:03:14.0000] <erlehmann>
i think <tr> <th reverse> <th reverse> could mean „sort in markup order, reverse columns“

[15:03:28.0000] <Hixie>
so reverse="" implies sort=""?

[15:03:35.0000] <Hixie>
i thought they were unrelated :-)

[15:03:59.0000] <erlehmann>
oh, wait, sort implies sortable?

[15:04:04.0000] <Hixie>
no

[15:04:12.0000] <erlehmann>
so sortable is like controls attribute for audio? only for showing interface?

[15:04:17.0000] <Hixie>
sort="" means "sort the table by this column"

[15:04:25.0000] <erlehmann>
i see.

[15:04:25.0000] <Hixie>
sortable="" means "show UI for columns of this table to allow the sort="" attribute to be set"

[15:04:28.0000] <Hixie>
right

[15:05:48.0000] <erlehmann>
hmm.

[15:06:44.0000] <erlehmann>
btw, i often bring up the WHATWG process in discussions about community management

[15:06:49.0000] <erlehmann>
(non sequitur, i know)

[15:07:17.0000] <Hixie>
the process being throw things at the wall and let whoever's around pick up the pieces and try to come up with something pretty? :-)

[15:07:21.0000] <erlehmann>
and i think it is great how low the barrier to entry is. submitting patches to wordpress is harder.

[15:08:06.0000] <erlehmann>
unnatural selection!

[15:08:41.0000] <erlehmann>
if you have sort="1 reverse", then the UA needs to decompose it before processing for either of them and compose it before writing it back.

[15:08:58.0000] <erlehmann>
btw, reverse without sort could be meaningless if you want to avoid implications.

[15:10:33.0000] <erlehmann>
i am beginning to think that <table orderby="1 2 3 4 5"> could be the superiour solution to sort attributes. just move the activated column to front.

[15:10:58.0000] <erlehmann>
let me polyfill that

[15:11:31.0000] <JonathanNeal>
"let me polyfill that" ripe for the memes.

[15:12:53.0000] <erlehmann>
coincidentally, i am writing a book about internet memes

[15:13:01.0000] <erlehmann>
currently

[15:13:06.0000] <erlehmann>
:3

[15:13:19.0000] <erlehmann>
oh, anyone of the WHATWG will be at 29C3 in hamburg?

[15:14:02.0000] <erlehmann>
http://en.wikipedia.org/wiki/Chaos_Communication_Congress

[15:14:16.0000] <erlehmann>
(I ask that every year and no one is there)

[15:22:24.0000] <Hixie>
erlehmann: the problem with that is it is very brittle if the author adds a new column

[15:22:50.0000] <erlehmann>
why?

[15:23:05.0000] <erlehmann>
just add the number of the new column to orderby?

[15:23:24.0000] <Hixie>
TabAtkins: so jeff tells me that it's not a violation after all, because none of the changes after LC were substantial (lol)

[15:23:34.0000] <Hixie>
erlehmann: all the column numbers change

[15:23:49.0000] <Hixie>
erlehmann: but the change happens removed from the place you add the columns

[15:24:38.0000] <erlehmann>
hixie so adding new columns is a common enough operation, but you do not want ids? then, i see.

[15:25:44.0000] <JonathanNeal>
In practice, should an <aside> ever be a child of <main>?

[15:26:22.0000] <erlehmann>
jonathanneal, have you tried that rationalist taboo game with <main> already?

[15:28:11.0000] <erlehmann>
i think building my own table sorting stuff will enable me to understand theproblems better

[15:28:20.0000] <erlehmann>
so i do not ask that many questions

[15:28:25.0000] <erlehmann>
i do not want to annoy

[15:28:45.0000] <erlehmann>
but i realize i ask many questions. sometimes in class at school i was asking more questions than anyone else

[15:29:14.0000] <erlehmann>
and i do not know if it is because many people are smarter than me or because i have the courage to ask.

[15:29:19.0000] <JonathanNeal>
erlehmann: yes, someone wrote an excellent description of the main element without using the word "main" or some other obviously thesaurical equivalent.

[15:29:35.0000] <erlehmann>
silly double bind!

[15:29:43.0000] <erlehmann>
jonathanneal, URL?

[15:31:03.0000] <JonathanNeal>
Something like "defining content that is unique to a document but excludes content that is repeated across a set of documents"

[15:31:20.0000] <JonathanNeal>
*but excluding

[15:31:32.0000] <JonathanNeal>
Actually, it's here, and written better https://dvcs.w3.org/hg/html-extensions/raw-file/tip/maincontent/index.html

[15:32:27.0000] <erlehmann>
jonathanneal, so that includes advertisments.

[15:33:05.0000] <erlehmann>
?

[15:33:38.0000] <erlehmann>
jonathanneal, what distinguishes the <main> element from an all-encompassing <article> ?

[15:33:56.0000] <JonathanNeal>
this is addressed in http://www.webmonkey.com/2012/12/proposed-main-element-would-help-html-get-to-the-point/

[15:34:04.0000] <erlehmann>
oh, effect on the document outline

[15:34:45.0000] <erlehmann>
it has none

[15:35:11.0000] <erlehmann>
hmm, is role=main bad?

[15:35:45.0000] <erlehmann>
it seems it is easier to update sites with new attributes without breaking anything than updating them with new elements

[15:36:09.0000] <erlehmann>
because the latter could break far more scripts and stylesheets

[15:36:59.0000] <erlehmann>
jonathanneal, is the main element coming from the department of redundancy department?

[15:37:31.0000] <erlehmann>
<article role=main> would be much more useful for content i think.

[15:38:06.0000] <erlehmann>
because then one could have an outline and skip to the important parts in the outline!

[15:38:29.0000] <erlehmann>
if <main> does not affect the outline, then it is a herpy derpy <div>

[15:38:55.0000] <JonathanNeal>
If you google some combination of "html main element" you should see all the arguments, for and (I'm sure) even against.

[15:40:12.0000] <JonathanNeal>
erlehmann: i'll note that, and use <header> in only the most herpy derby of situations. i was asking about something contextually about <main> and did not intend to describe my rationalist taboo game and then arguments for inclusion.

[15:40:28.0000] <erlehmann>
caveat „there are arguments, just google them“ loses the discussion. i deem this jonathan neal's law. ;)

[15:41:01.0000] <erlehmann>
(i prefer URLs)

[15:41:13.0000] <JonathanNeal>
you are definitely letting me know your preferences.

[15:41:36.0000] <erlehmann>
great!

[15:41:39.0000] <erlehmann>
super happy fun time!

[15:42:41.0000] <JonathanNeal>
So, now that we've discussed all of that, would you like to answer my question?

[15:43:43.0000] <Hixie>
while i'm afk, let me know if I've missed anything (other than the XXX bits) in http://www.whatwg.org/specs/web-apps/current-work/temp

[15:43:47.0000] <Hixie>
bbiab

[15:45:53.0000] <erlehmann>
sortNow() seems weird

[15:45:57.0000] <JonathanNeal>
Whatever happened to <subline> ?

[15:46:02.0000] <JonathanNeal>
And is <hgroup> dead?

[15:46:31.0000] <erlehmann>
what was <subline> ?

[15:46:50.0000] <JonathanNeal>
http://www.w3.org/html/wg/wiki/ChangeProposals/hgroup

[15:46:52.0000] <erlehmann>
hgroup is there and is useful for outlines

[15:47:07.0000] <TabAtkins>
<subline> was <hgroup> in another form.

[15:49:02.0000] <JonathanNeal>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=11828 erlehmann more on the subject

[15:49:36.0000] <JonathanNeal>
I thought Hixie removed hgroup.

[15:50:07.0000] <erlehmann>
oh do i have to remove hgroup now from my websites?

[15:50:09.0000] <erlehmann>
how do i do subtitles then?

[15:50:30.0000] <JonathanNeal>
http://html5doctor.com/the-hgroup-hokey-cokey/

[15:50:54.0000] <JonathanNeal>
TabAtkins should be able to offer a compressed version of the battle's end.

[15:51:29.0000] <erlehmann>
multiple mentionings of hgroup https://www.w3.org/Bugs/Public/buglist.cgi?quicksearch=hgroup

[15:51:38.0000] <erlehmann>
i have to read CSSsquirrel again, do i?

[15:51:40.0000] <erlehmann>
i read it some time ago


2012-12-21
[16:06:12.0000] <Hixie>
hgroup isn't going anyewhere

[16:06:21.0000] <Hixie>
erlehmann: yeah, what would you call it?

[16:06:24.0000] <Hixie>
erlehmann: i was stuck for names :-(

[16:06:52.0000] <erlehmann>
hixie what would i call what? what would i call hgroup?

[16:07:02.0000] <Hixie>
what would you call sortNow

[16:09:14.0000] <Hixie>
maybe stopSort() should be stopSorting()

[16:09:48.0000] <Hixie>
(erlehmann ^)

[16:12:13.0000] <erlehmann>
ah

[16:13:09.0000] <erlehmann>
Hixie, what happens when stopSort() is called and the sortable attribute is set? are the controls visible stills

[16:13:10.0000] <erlehmann>
?

[16:13:29.0000] <erlehmann>
also, i have no idea how to call that. i think i do not understand all the issues

[16:13:58.0000] <Hixie>
stopSort() just means that no column is now marked as being sorted

[16:14:08.0000] <Hixie>
doesn't change the UI other than remove the indicator as to which column is currently sorted

[16:14:14.0000] <TabAtkins>
<table>.stopSort().

[16:17:17.0000] <erlehmann>
how is it internally represented which column is sorted?

[16:18:04.0000] <Hixie>
how do you mean?

[16:18:07.0000] <Hixie>
internally to what?

[16:20:01.0000] <erlehmann>
let me rephrase that

[16:20:35.0000] <erlehmann>
does having sort attribute mean something is sorted and the absense of them mean it is not sorted?

[16:21:23.0000] <erlehmann>
or is there an intermediatelayer

[16:22:05.0000] <TabAtkins>
If by "not sorted" you mean "not guaranteed to be sorted", then yes.

[16:22:23.0000] <erlehmann>
i think i'll wait until this is done. and sleep some time

[16:22:25.0000] <TabAtkins>
The presence of "sort" on a <th> means that the column the <th> is in is actively sorted.

[16:22:47.0000] <erlehmann>
so does the absense mean the dom goes to its original state?

[16:22:51.0000] <TabAtkins>
That is, upon setting the table is rearranged to be sorted, and if you mutate the table it adjust the sort accordingly.

[16:22:56.0000] <TabAtkins>
The absence means it stops being actively sorted.

[16:23:08.0000] <TabAtkins>
It goes back to acting like a normal table.

[16:23:12.0000] <erlehmann>
or does the absense mean that it stops sorting but the previous dom manipulation prevails?

[16:23:16.0000] <TabAtkins>
That.

[16:23:19.0000] <erlehmann>
ah

[16:26:59.0000] <TabAtkins>
I think the main purpose of stopSorting() will be to *reset* sorting.  Otherwise, if you call sortNow() on a new column, it'll just become the new primary sort column, and the previous one will downgrade to a secondary sort column.

[16:27:06.0000] <Hixie>
setting the attribute doesn't immediately cause a sort, either, so maybe it should

[16:27:16.0000] <TabAtkins>
Yes, I think so.

[16:27:25.0000] <Hixie>
that would mean we don't need sortNow()

[16:27:26.0000] <Hixie>
however

[16:27:37.0000] <Hixie>
it would mean that setting an attribute causes a change to the DOM

[16:27:47.0000] <Hixie>
other than the attribute

[16:27:52.0000] <Hixie>
which is a new level of wacky, maybe?

[16:27:56.0000] <Hixie>
hmmm

[16:27:59.0000] <TabAtkins>
Depends.  Sync or async?

[16:28:07.0000] <erlehmann>
all of this is pretty wacky

[16:28:08.0000] <erlehmann>
tables are black magic

[16:28:46.0000] <Hixie>
TabAtkins: dunno

[16:28:56.0000] <TabAtkins>
You still want sortNow(), I think.  Even if we did start sorting the table after setting the attribute, it woudl be extra-wacky to also downgrade the sort level of the other sorted headings.

[16:28:56.0000] <Hixie>
oh wait, we still need sortNow

[16:29:19.0000] <Hixie>
you need sortNow() because it also sets the attributes

[16:29:28.0000] <TabAtkins>
Yeah.

[16:30:40.0000] <Hixie>
maybe setting the attribute shouldn't do the sort, so that you can set several in a row

[16:30:46.0000] <Hixie>
which you almost always will want to, if you're doing that

[16:30:58.0000] <Hixie>
so maybe table should have a .forceSort()?

[16:31:10.0000] <Hixie>
i don't like sortNow() as a name, for the method on <th>

[16:31:44.0000] <TabAtkins>
I can't come up with a better name. :/

[16:31:54.0000] <Hixie>
me either :-(

[16:31:56.0000] <Hixie>
sort() would be perfect

[16:32:08.0000] <TabAtkins>
Dude, just make the attribute be sorted.

[16:32:50.0000] <Hixie>
it's just so weird to have a past-tense attribute to do something in the future

[16:33:19.0000] <TabAtkins>
Nah, it's an adjective, not a past-tense verb.

[16:33:44.0000] <Hixie>
fine fine

[16:33:45.0000] <Hixie>
sorted it is

[16:36:52.0000] <erlehmann>
i find it funny how you are lacking words to describe what is a feature many want!

[16:43:53.0000] <JonathanNeal>
<table sorted>?

[16:44:32.0000] <TabAtkins>
Nah, the <table sortable> attribute is like <video controls> - it says you want sorting UI, but has no effect on sorting itself.

[16:45:40.0000] <JonathanNeal>
I see. So this is for javascript? Like Array.prototype.sort?

[16:46:16.0000] <TabAtkins>
No, you can still use <th sorted> on table headers to sort by the columns declaratively, without needing any script.

[16:47:54.0000] <TabAtkins>
JonathanNeal: Check out the very first part of http://www.whatwg.org/specs/web-apps/current-work/temp

[16:48:15.0000] <TabAtkins>
It explains the new stuff being added (except we've slightly changed the names since Hixie last updated that).

[16:48:40.0000] <JonathanNeal>
I guess it was the () that was throwing me off.

[16:48:47.0000] <jsbell>
Have a polyfill implemented yet? :)

[16:49:09.0000] <TabAtkins>
JonathanNeal: There are JS functions for dealing with the sorting, too, of course.

[16:49:10.0000] <JonathanNeal>
a polyfill could be written on the fly, is it necessary?

[16:50:26.0000] <TabAtkins>
The only difficult part of the polyfill would be validating the constraints.

[16:50:54.0000] <JonathanNeal>
what would this feature be called? sortable tables?

[16:51:00.0000] <TabAtkins>
(Only paying attention to sorting-capable <th> elements, treating rows as automatic based on spans, etc.)

[16:51:06.0000] <TabAtkins>
s/automatic/atomic/

[16:52:41.0000] <TabAtkins>
Hixie: Regarding adding sorted attributes via script which don't automatically start sorting, what about adding .sort() to <table> as well, with it just running through and picking up all the sorted columns again

[16:52:45.0000] <TabAtkins>
?

[16:52:58.0000] <JonathanNeal>
I was wondering why you wouldn't just use existing names, like sort, etc.

[16:53:19.0000] <JonathanNeal>
although .sortTable might not conflict with any potential future .sort that would apply agnostically to elements.

[16:53:36.0000] <TabAtkins>
JonathanNeal: Before, Hixie used "sort" as the attribute name, so he coudln't use "sort" as the method name as well (attributes normally reflect as a same-named property).

[16:54:12.0000] <TabAtkins>
JonathanNeal: I'm not sure how I would sort arbitrary elements.  They need to be linear collections of some kind, and tables are really the only thing that fits that bill.

[16:54:29.0000] <JonathanNeal>
Did I hear right that sort takes a value? sort="1", etc?

[16:55:02.0000] <JonathanNeal>
TabAtkins: lists fit the bit too.

[16:55:19.0000] <TabAtkins>
JonathanNeal: Maybe, yeah.

[16:55:30.0000] <TabAtkins>
JonathanNeal: Yes, the value is an integer >= 1, which determines the sort order.

[16:55:46.0000] <JonathanNeal>
So, this document I'm reading is using unagreed or outdated terminology in some spots?

[16:55:46.0000] <TabAtkins>
sorted=1 is the primary sort column, with sorted=2 used to break ties, etc.

[16:55:51.0000] <TabAtkins>
Yes.  ^_^

[16:56:21.0000] <JonathanNeal>
for the sake of discussion, why not http://oksoclap.com/whatwg-sortable-tables ?

[16:56:49.0000] <TabAtkins>
Because Hixie's document is in his own webspace and easy for him to use?

[16:57:33.0000] <JonathanNeal>
Yea, it's just that I was trying to understand the discussion and you said it was outdated. I thought something more open would help organize thoughts a little better.

[16:58:04.0000] <JonathanNeal>
I see, that's where you changed it to "sorted".

[16:58:30.0000] <TabAtkins>
Yeah, all I've changed is <th sort> ==> <th sorted>, and <th>.sortNow() ==> <th>.sort().

[16:58:38.0000] <JonathanNeal>
Is that you fixing it?

[17:00:16.0000] <TabAtkins>
Yeah.

[17:01:05.0000] <JonathanNeal>
I like this name, "comparator". It's better than "compareFunction", the naming I see used in mdn docs for Array.prototype.sort.

[17:01:41.0000] <TabAtkins>
Interesting that the MDN docs don't use it.  It's the standard term.

[17:01:46.0000] <JonathanNeal>
can comparator be set via string <th comparator="return a -b"> ?

[17:02:00.0000] <JonathanNeal>
whoops, i meant to add the function (a, b)

[17:02:06.0000] <TabAtkins>
No, it's a property, not an attribute.

[17:02:12.0000] <JonathanNeal>
Got it.

[17:02:31.0000] <TabAtkins>
You can, however, do <th onsort="this.comparator = function(a,b){return a - b;}">

[17:02:43.0000] <JonathanNeal>
is there a way to see the state of the sorting? like .sorting // boolean ?

[17:02:52.0000] <TabAtkins>
What do you mean by "state of the sorting"?

[17:03:01.0000] <JonathanNeal>
well, what does stopSorting do?

[17:03:10.0000] <TabAtkins>
Removes all the sorted attributes from the <th>s in the table.

[17:03:32.0000] <JonathanNeal>
ah, it disables all sorting by actually removing all of the attributes?

[17:03:38.0000] <TabAtkins>
Yeah.

[17:03:47.0000] <JonathanNeal>
What an evil function.

[17:04:42.0000] <JonathanNeal>
9. define sort() is that supposed to be sorted too?

[17:05:13.0000] <TabAtkins>
No, that's the function.  It's named sort() on purpose.

[17:05:57.0000] <TabAtkins>
Hixie: How are you treating cells with a colspan?  Do they belong to both columns?  The first?

[17:06:55.0000] <JonathanNeal>
why not sortRow() ?

[17:08:00.0000] <TabAtkins>
It doens't sort a row, it sorts a column.

[17:08:05.0000] <TabAtkins>
And why add more than necessary?

[17:08:35.0000] <JonathanNeal>
just seems like cells and rows were labeled in other js

[17:08:37.0000] <JonathanNeal>
cellIndex, rowSpan.

[17:12:18.0000] <JonathanNeal>
rowIndex, cells, rows

[18:37:16.0000] <MikeSmith>
dammit

[18:37:52.0000] <MikeSmith>
is there some rule that a Location directive can't be the first directive in an .htaccess file?

[18:38:17.0000] <MikeSmith>
trying to fix a problem with http://w3c-test.org/html/

[18:40:07.0000] <MikeSmith>
the Location directive is the only one in the file, but the error log says <Location not allowed here

[18:42:07.0000] <MikeSmith>
/me finds http://stackoverflow.com/questions/6667894/httaccess-location-not-allowed-here

[18:42:20.0000] <MikeSmith>
Location apparently not allowed in .htaccess at all

[19:52:31.0000] <JonathanNeal>
hola

[20:29:14.0000] <JonathanNeal>
Does the <th>. comparator compare the tds or their content?

[20:37:25.0000] <MikeSmith>
JonathanNeal: what's a comparator?

[20:38:00.0000] <JonathanNeal>
MikeSmith: http://www.whatwg.org/specs/web-apps/current-work/temp http://oksoclap.com/whatwg-sortable-tables

[20:41:03.0000] <MikeSmith>
JonathanNeal: something Hixie posted to the list?

[20:41:35.0000] <JonathanNeal>
I was just following the conversation from earlier today. I don't know where else it has been posted.

[20:42:10.0000] <JonathanNeal>
Something TabAtkins, erlehmann, and Hixie were enjoying.

[20:42:48.0000] <erlehmann>
i am still sleepy and not sleeping

[20:47:54.0000] <JonathanNeal>
Is that why you denied my IIFE reduction (function (global) { /* never an instance of global */ })(this); ?

[21:03:41.0000] <erlehmann>
jonathanneal, i probably did overlook it

[21:57:26.0000] <Hixie>
TabAtkins: both

[22:03:11.0000] <Hixie>
JonathanNeal: good question... probably the elements, i guess

[22:09:40.0000] <zewt>
(collator is less of a mouthful than comparitor, don't know if that implies human-language-sorting for some people)

[22:13:09.0000] <zewt>
(just specifying sort keys handles a lot, though, and without the possible interop issues with a function being called in different orders for different sort implementations, or the weirdness of a function that might return an inconsistent ordering)

[22:17:09.0000] <zewt>
guess it'd just have to specify the entire sort algorithm, as annoying as that probably is

[22:24:27.0000] <erlehmann>
bobble bubble sort

[22:24:59.0000] <erlehmann>
i submit bogosort for examination! http://en.wikipedia.org/wiki/Bogosort

[22:25:45.0000] <erlehmann>
oh, better, sleep sort! http://dis.4chan.org/read/prog/1295544154

[22:26:30.0000] <erlehmann>
>     This is sort of like a simple bucket/radix sort but instead of using a space-based array, it's effectivly using a time-based "array"

[22:50:14.0000] <MikeSmith>
Hixie: looking back through the log at your conversation with jgraham about the title element, are you saying the title element must have non-empty text content?

[22:52:22.0000] <MikeSmith>
http://www.whatwg.org/specs/web-apps/current-work/multipage/elements.html#text-content says, "if the Text nodes are empty"

[22:53:39.0000] <MikeSmith>
implies that there is such a thing as an empty Text node

[22:54:34.0000] <MikeSmith>
in which case <title></title> would be conforming

[22:55:00.0000] <MikeSmith>
because nowhere does the spec say that it must a content a non-empty Text node

[22:55:51.0000] <MikeSmith>
*must contain a non-empty Text node

[22:56:14.0000] <MikeSmith>
it just says "Text", which could be empty

[23:40:42.0000] <Hixie>
MikeSmith: yeah but the parser won't give a text node for <title></title>

[23:41:08.0000] <Hixie>
you have to work pretty hard to get an empty text node :-)

[23:43:05.0000] <MikeSmith>
Hixie: ok

[23:43:33.0000] <MikeSmith>
still it's not clear in the current spec

[23:45:17.0000] <Hixie>
agreed

[23:45:28.0000] <MikeSmith>
should I file a bug?

[23:47:55.0000] <Hixie>
if you must :-P

[00:22:25.0000] <jgraham>
To be fair it does seem pretty weird that <title></title> is non-conforming, but <title></title><script>document.head.firstChild.appendChild(document.createTextNode("")</script> is conforming

[00:22:50.0000] <jgraham>
(if you imagine more parenthesis)

[00:26:09.0000] <Ms2ger>
krijn, logs down?

[00:45:49.0000] <MikeSmith>
I would be quite happy if we just dropped the requirement that every document have a title element

[00:46:06.0000] <MikeSmith>
I'm not sure that requirement is really helping anythign

[00:46:29.0000] <JonathanNeal>
Hixie: thanks for the answer, the elements.

[00:47:29.0000] <JonathanNeal>
Is there a situation where the tables sort themselves without javascript interaction?

[00:53:19.0000] <jgraham>
Yes, if it was up to me there wouldn't be a need for <title>, ever and Text content would be 0 or more text nodes

[00:59:06.0000] <JonathanNeal>
<title> isn't necessary in chromeless web apps, iframes, etc.

[00:59:16.0000] <JonathanNeal>
or rather, it isn't leveraged.

[01:03:09.0000] <MikeSmith>
Ms2ger: I think the w3c-test problem you pinged me about yesterday is fixed

[01:11:52.0000] <annevk>
JonathanNeal: yes, the user can sort the table by using the UI exposed by the user agent

[01:24:24.0000] <Ms2ger>
MikeSmith, looks like it is

[01:25:21.0000] <Ms2ger>
MikeSmith, it isn't replicating from github yet?

[01:26:27.0000] <MikeSmith>
Ms2ger: no not yet as far as I know

[01:26:50.0000] <MikeSmith>
I'll need to talk to darobin about that part

[01:27:04.0000] <MikeSmith>
hardre to automate the replication in this direction

[01:27:18.0000] <darobin>
hullo

[01:27:19.0000] <jgraham>
Really?

[01:27:29.0000] <MikeSmith>
need to set up some kind of hook without running it on github

[01:27:32.0000] <jgraham>
Add a commit hook to the github repo

[01:27:44.0000] <darobin>
jgraham: harder as in: if we do it with dvcs, there's already a script you can just link in on that machine :)

[01:27:50.0000] <jgraham>
That tells the W3C server to do a pull

[01:27:55.0000] <jgraham>
I guess it is harder

[01:28:02.0000] <darobin>
yes, he said harder, not hard

[01:28:07.0000] <jgraham>
In that it requires two machines to interact

[01:28:52.0000] <darobin>
setting up autopull is harder than ln -s, yes

[01:34:32.0000] <Stevef>
Hixie: while <hgroup> may not be going anywhere WHATWG wise it heading for the exit in HTML5

[01:36:02.0000] <Ms2ger>
So, it's not going anywhere

[01:38:02.0000] <Stevef>
Ms2ger: depends on your coice of HTML brand

[01:38:09.0000] <MikeSmith>
I don't know what the normal best way to run an autopull as a hook is

[01:38:19.0000] <Stevef>
Hixie: see http://lists.w3.org/Archives/Public/public-html-admin/2012Dec/0073.html

[01:38:55.0000] <Stevef>
coice=choice

[01:47:09.0000] <annevk>
What's a sorted table going to look like DOM-wise? Will there be plenty of DOM mutations?

[01:47:28.0000] <annevk>
Can the sorting be animated somehow?

[01:49:07.0000] <annevk>
Stevef: if you keep it in parsing and the style sheet that seems hardly like removal

[01:49:52.0000] <Stevef>
annevk: sure, obsolete is a better term

[01:51:16.0000] <darobin>
you can't move hgroup out, I use it on my blog

[01:51:51.0000] <darobin>
you'd think that would be the final argument in this matter

[01:54:11.0000] <Stevef>
darobin: didn't realise you used it, changes my view of its utiility completely

[01:55:06.0000] <darobin>
thank you

[01:55:43.0000] <annevk>
As long as <time>, <nav>, and <footer> stay in I should be fine

[01:55:52.0000] <MikeSmith>
hcruft

[01:56:56.0000] <darobin>
I guess I could switch to subline for the usage I'm making of it

[01:57:14.0000] <darobin>
but that would require updating my blog

[01:57:18.0000] <darobin>
that's not what blogs are for

[01:57:24.0000] <Stevef>
darobin: teaseer

[01:58:24.0000] <annevk>
My blog still runs on some PHP I wrote five years ago or so...

[01:58:47.0000] <Stevef>
darobin: have shelved subline like hgroup doesn't meet the high bar...

[02:00:08.0000] <darobin>
annevk: hahaha, I can beat that — my blog is authored using a subset of polyglot that's processed to a static site using a mixture of Perl and XSLT some elements of which probably haven't changed in a good decade

[02:01:04.0000] <darobin>
I'm not even sure I'd know how to update it if I had to

[02:01:35.0000] <annevk>
Uhuh, that's why I'm not changing much either. Although I have removed stuff over time, such as comments.

[02:02:34.0000] <darobin>
Stevef: I know, but grouped headings (using whatever) make lots of sense to me

[02:03:00.0000] <darobin>
then again, I also like the outlining algorithm so I guess my opinion does not matter

[02:03:36.0000] <MikeSmith>
I can think of lots of inelegant/klunky ways of automating sync from github to dvcs.w3.org .. I guess you alls plan is to go with the least inelegant

[02:05:15.0000] <Stevef>
darobin: the problem i have and have always had with hgroup is that its required acc mappings in html make any amount of headings and whatever else is in hgroup which can be link lists or any other stuff (as seen in wild), into one big heading

[02:05:34.0000] <MikeSmith>
I like that algorithm so well I spent hours rewriting somebody else's broken implementation of it to make it actually conform to the spec

[02:05:55.0000] <Stevef>
darobin: so rather than add semantics for AT users it maskes them

[02:07:53.0000] <darobin>
Stevef: but I don't think that's necessarily inherent to hgroup — we could think of better ways of AT exposing it

[02:08:02.0000] <Stevef>
darobin: that is if the acc mappings were implemented which they are not, instead it encourages authros to add heading markup where they often times did not, making heading navigation less useful for AT usersand adding cognitive noise

[02:11:05.0000] <Stevef>
darobin: sure that was my original course, but it got nixed, <hgroup><hx>heading</hx><p>subheading<p></hgroup> would be much friendlier without the semantic cruft and nosie issues (if hgroup> p = subheading semantic and not <hx> heading subheading</hx> as currently specced

[02:11:20.0000] <Stevef>
nosie=noise

[02:12:12.0000] <darobin>
mmmmm

[02:13:16.0000] <darobin>
Stevef: so essentially the difference between <hgroup><h2>sub</h2><h1>main</h1></hgroup> and <hgroup><p>sub</p><h1>main</h1></hgroup> is to help the transition based on existing AT implementation?

[02:17:58.0000] <Stevef>
darobin: no not really, the current acc requirements in spec are borked, both of the above result in 1 heading, the current  hgroup definition is ( i think is suboptimal in general) it promotes a markup pattern that adds unecessary headings

[02:24:38.0000] <Stevef>
darobin: if identifying a subheading meets the bar then we should define a way to do that,not define a way to obscure subheading semantics

[02:27:06.0000] <darobin>
Stevef: sure, but there are two different issues here that I'm trying to disentangle

[02:27:31.0000] <Stevef>
ok

[02:27:37.0000] <darobin>
1) is that the current acc reqs are unhelpful — that's something that can be changed without touching hgroup

[02:27:51.0000] <darobin>
because you can keep all that's there, and simply change how it is recommended to be exposed

[02:28:24.0000] <darobin>
2) is what you said about using <p> for subheading in hgroup rather than reusing existing hx

[02:33:52.0000] <Stevef>
darobin: hgroup did not pave a cowpath authors sometimes used a heading to indicate a subheading, sometimes used a p or a div or some other element, use of a container to semantically associate heading and subheading was not a clear pattern if you look at data collected after the fact to support hgroup it shows this http://wiki.whatwg.org/wiki/Hgroup_element

[02:39:46.0000] <darobin>
well it's hard to pave a cowpath when the cows go all over the palce

[02:39:49.0000] <darobin>
*place

[02:40:07.0000] <Stevef>
darobin: The real world examples show that authors do not as a general rule put a container element only around headings and subheadings, subtitles, taglines and bylines. they use a variety of markup structures, in most cases the grouping structure reflects the existing HTML5 header element. -> http://www.w3.org/html/wg/wiki/ChangeProposals/hgroup#Rationale ignore the subline bits

[02:40:53.0000] <Stevef>
darobin: right and they go all over the place for reasons

[02:41:26.0000] <darobin>
sure, the usage of interest maps to header more than anything else

[02:45:05.0000] <Stevef>
i think subheading semantic only deserves a 'common idiom with no specific markup feature' makeover until the feature actually solves a problem other than masking subheadings for an outline algorithm that is of itself marginal

[02:45:32.0000] <Stevef>
but thats just me

[02:49:39.0000] <darobin>
I don't think the outline algorithm is marginal, it's useful (and could be used more often)

[02:49:59.0000] <darobin>
I'm guessing you could replace hgroup with header for that purpose though

[02:50:02.0000] <Stevef>
darobin: question is are user agents planning to implement the outline algorithm?

[02:50:43.0000] <darobin>
it doesn't seem like the hottest topic in UA land right now

[02:51:01.0000] <darobin>
it would be more useful if it had CSS selectors to match

[02:51:42.0000] <darobin>
right now processing structured HTML that doesn't use section is a real pita

[02:52:37.0000] <Stevef>
darobin: one user agent has = JAWS, but its implementation is borked and they ignore hgroup

[02:52:51.0000] <darobin>
well, I'm not sure that counts then :)

[02:54:26.0000] <MikeSmith>
if the language provided some way for authors to automatically include an ouline in a document (e.g., as a ToC), then that would be something that UAs could implement it for

[02:54:47.0000] <MikeSmith>
right now there is no hook for authors to do anything with it

[02:54:48.0000] <Stevef>
darobin: don't get me started on section... its the noisy div

[02:58:24.0000] <Stevef>
darobin: in general i think that now we have some usage data on the new structural elements its time to start analysing and revising the author advice and requirements in HTML of those elements based on real world usage, so that we can hopefully optimize the positives of use

[02:59:30.0000] <darobin>
yes, it would be a good idea to look back on actual usage

[02:59:34.0000] <Stevef>
or at least attempt to influence those in the html5 book industry who tell authors how to use the stuff

[02:59:37.0000] <darobin>
/me <3 section

[02:59:54.0000] <darobin>
you're just using that as an excuse to go have a beer with Bruce

[03:00:10.0000] <darobin>
MikeSmith: I agree that exposing outline information would be useful

[03:00:57.0000] <darobin>
it's an open question whether it would be useful enough overall, but I for one would use it

[03:01:21.0000] <MikeSmith>
darobin: it doesn't seem like many authors are clamoring for it

[03:01:31.0000] <darobin>
no

[03:01:35.0000] <MikeSmith>
or maybe they have been and I just ignored it

[03:01:44.0000] <Stevef>
darobin: :-) well thats on my HTML WG activity plan for 2013 getting discussion on and changes made

[03:01:44.0000] <MikeSmith>
seems pretty useful to me personally too

[03:01:54.0000] <darobin>
Stevef++ # good plan

[03:02:30.0000] <darobin>
MikeSmith: yeah, same here, but then I look for instance at the features in in-browser HTML editors and they don't support anything for structured content

[03:02:36.0000] <Stevef>
darobin: i wanna be part of the W3C do-ocracy like you guys

[03:02:47.0000] <darobin>
people seem generally happy in the unstructured Word-like morass

[03:02:54.0000] <darobin>
haha

[03:03:24.0000] <jgraham>
Stevef++ # - is that some new programming langauge for .net?

[03:04:37.0000] <Stevef>
jgraham: if you had access to the secret lists you would understand

[03:05:39.0000] <Stevef>
jgrahaM: its the sign for a handshake of sorts only its not only shaking hands

[03:06:46.0000] <jgraham>
Shaking what you say?

[03:06:58.0000] <jgraham>
/me tries to shake off unpleasant images

[03:17:19.0000] <othermaciej>
Stevef: when you have a paired heading and subheading (however it is marked up), is it most useful for assistive technology, when reading the heading for a section, to: (a) present only the heading; (b) present the heading and subheading with no major distinction; (c ) present both and associate them together, but distinguish heading from subheading?

[03:19:06.0000] <othermaciej>
Stevef: for (a), non-heading markup for the subhead would be most legacy compatible, while for (b) or (c ) it would be best to make the subhead a child of the main heading I think

[03:22:48.0000] <othermaciej>
but it seems like both <hgroup> and the alternate proposals have neither of these properties, and would cause older assistive technologies to present multiple separate headings as if there were an immediate subsection or something

[03:23:30.0000] <Ms2ger>
Always fun when you start reading a www-style email and suddenly "Kind regards, Adam Sobieski"

[03:35:15.0000] <Stevef>
othermaciej: my thinking is that if something is a subheading, tagline etc to provide an indicator of that in the acc mapping and let the AT and ultimately user decide how it is presented and consumed, the major consideration is to providing the distinction

[03:39:20.0000] <Ms2ger>
annevk, is the xref repo up to date?

[03:42:51.0000] <Stevef>
othermaciej: that is what is not provided for as specced currently. I also think if <hx>heading <element>subheading</element><hx> was the pattern we wouldn't be seeing <hgroup><hx>heading</hx></hgroup> which is not uncommon from the data i have looked at and also reduce this <hgroup> <hx>heading</hx> other structured content and linsk and controls ... ... </hgroup> which is less common but...

[03:42:52.0000] <Stevef>
...still enough to be a problem

[03:45:14.0000] <annevk>
Ms2ger: maybe not

[03:45:25.0000] <annevk>
Ms2ger: will sync now

[03:47:21.0000] <annevk>
Ms2ger: done btw

[03:54:13.0000] <Stevef>
othermaciej: it should also be noted that as specced there is no distinction in the way <hgroup> is presented for AT users as in the page view or outline view are the same, which is not the case for non AT users

[03:59:52.0000] <annevk>
Ms2ger: whoa, that email is out there

[04:00:10.0000] <annevk>
Ms2ger: any other gems on www-style this month?

[04:04:47.0000] <Ms2ger>
I think he's sent a few more lately

[04:05:15.0000] <Ms2ger>
And thanks :)

[04:06:57.0000] <annevk>
Ms2ger: you're gonna write some spec text again? :)

[04:07:15.0000] <Ms2ger>
Yeah, one word :)

[04:07:52.0000] <SimonSapin>
annevk: what is it about www-style?

[04:08:23.0000] <annevk>
SimonSapin: are you pinged whenever we mention CSS or www-style? :)

[04:08:50.0000] <annevk>
SimonSapin: but there's nothing, Ms2ger just pointed out an email

[04:08:51.0000] <Ms2ger>
Is SimonSapin secretly glazou?

[04:08:53.0000] <Velmont>
Just like I was for encoding for a long while... :S

[04:10:23.0000] <SimonSapin>
annevk: no, but I often look around here

[04:10:44.0000] <SimonSapin>
Ms2ger: glazou can confirm that I’m not him ;)

[04:13:19.0000] <annevk>
I think I've seen them in the same room... Although on IRC you never know of course

[04:23:55.0000] <darobin>
I've seen them in the same room, but then again they're both French and into CSS, so maybe they're brothers, or cousins, or something

[04:27:25.0000] <annevk>
Ms2ger: https://bugzilla.mozilla.org/show_bug.cgi?id=672190 was never actually fixed right?

[04:27:37.0000] <annevk>
Ms2ger: at least, http://mxr.mozilla.org/mozilla-central/search?string=expandEntityReferences seems to suggest it's still very much alive

[04:29:36.0000] <Ms2ger>
Partly

[04:30:02.0000] <Ms2ger>
The creator argument was removed

[04:31:25.0000] <annevk>
yeah but this was very much about the attribute

[04:31:45.0000] <annevk>
reopening

[05:56:48.0000] <Stevef>
nice to see bug to implement <main> in Firefox has been assigned https://bugzilla.mozilla.org/show_bug.cgi?id=820508

[06:32:37.0000] <SimonSapin>
darobin: as you well know, all french people are cousins

[06:36:16.0000] <darobin>
wesh wesh, ça va cousin?

[06:38:04.0000] <jgraham>
So "Liberty, fraternity, equality" was actually just code for inbreeding?

[06:41:18.0000] <annevk>
MikeSmith: any chance https://www.w3.org/Bugs/Public/buglist.cgi?product=WebAppsWG&component=URL can be removed now it's empty?

[06:41:43.0000] <annevk>
(sorry for the bugspam everyone)

[06:42:08.0000] <Ms2ger>
please make a proposal on public-webapps

[06:55:14.0000] <SimonSapin>
annevk: updated http://simonsapin.github.com/data-urls/ for percent-decode

[06:55:51.0000] <MikeSmith>
annevk: I'll ask Art again but pretty sure the answer is going to be know. if i unilaterally remove it, i reckon they're just going to ask me to out it back. and/or rope in plh into the discussion. WebApps WG i

[06:55:55.0000] <MikeSmith>


[06:55:58.0000] <MikeSmith>


[06:57:12.0000] <annevk>
something got lost there

[06:57:15.0000] <annevk>
but thanks

[06:57:24.0000] <annevk>
SimonSapin: can you close the bug too?

[06:57:39.0000] <SimonSapin>
closed

[06:57:52.0000] <annevk>
lol VLC has a Christmas hat

[06:58:15.0000] <annevk>
someone pointed out to me duckduckgo.com also has a nice logo today

[07:23:59.0000] <a-ja>
hmmm...<main> but no <banner>? yet?

[07:30:59.0000] <stevefaulkner>
a-ja:there is history behind that (in regards to Firefox implementation) I believe it will be revisited in light of <header> usage data and the implementation in webkit

[07:35:23.0000] <a-ja>
anyone mention to bing/yahoo lately that their webmaster seo optimization report still complains about multiple <h1>'s ?

[07:36:03.0000] <a-ja>
/me sighs

[07:37:43.0000] <stevefaulkner>
a-ja:  history https://bugzilla.mozilla.org/show_bug.cgi?id=610650

[07:40:12.0000] <darobin>
/me sighs

[07:40:29.0000] <darobin>
you'd think browsers would have become better at detecting that your JS is just spinning by now

[07:41:02.0000] <darobin>
"oh my! this thing has been blocking the event loop for ten minutes now, it must be doing something really important — let's not disturb it then"

[07:42:14.0000] <a-ja>
stevefaulkner: i'm aware (i'm the 1 vote in that bug...though mainly for my tracking, rather than any indication pro/con)

[07:42:45.0000] <jgraham>
darobin: Which browser?

[07:42:59.0000] <darobin>
in this case Firefox, but I'm seeing similar behaviour elsewhere

[07:43:05.0000] <darobin>
(haven't tried Opera in this case though tbh)

[07:43:15.0000] <jgraham>
Well firefox usually puts up a "stop this script" dialog

[07:43:35.0000] <darobin>
only under certain circumstances, I get the impression only the really simple ones

[07:44:01.0000] <stevefaulkner>
a-ja: cool, I was talking with dave bolter about it the other day and want to re-open with a view to getting header > banner

[07:44:13.0000] <Ms2ger>
It should always put that up if we don't return to the event loop

[07:45:49.0000] <jgraham>
Opera has an interruptable script engine so it doesn't have a slow script dialog, but it should be possible to keep interacting with the browser when the script is running

[07:46:09.0000] <jgraham>
Chromium helpfully allows you to kill the render process after a while

[07:49:44.0000] <darobin>
Ms2ger: I've clearly noticed an endless loop of functions that just keep calling one another here, and FF never gives me the slow script dialog

[07:49:56.0000] <darobin>
it's forcing me to use the debugger *shudders*

[07:52:27.0000] <darobin>
it's really weird because I'd expect to blow the stack pretty quickly

[07:53:45.0000] <jgraham>
darobin: Well if you are doing something like (function f() {setTimeout(f,0)})() that might not be detected

[07:53:55.0000] <darobin>
no, there's no timeout

[07:54:04.0000] <darobin>
it's a bunch of closures calling one another

[07:54:08.0000] <Ms2ger>
Which version?

[07:54:17.0000] <darobin>
17.0.1

[07:54:20.0000] <Ms2ger>
Hrm

[07:54:29.0000] <Ms2ger>
Want to file?

[07:54:41.0000] <jgraham>
Nothing else that would spin the event loop, I assume?

[07:54:44.0000] <darobin>
I probably will, but I need to dig a little deeper

[07:55:00.0000] <darobin>
jgraham: nope, it's very straightforward DOM plus algo steps

[07:55:36.0000] <darobin>
it might be something else: when I try to reload while in the debugger it spins anyway

[07:58:18.0000] <darobin>
ok, just tweaking some comments makes Chrome behave differently — I think I'm on to something :)

[08:07:43.0000] <JonathanNeal>
goodmorning

[08:44:46.0000] <zewt>
death to @id

[09:04:16.0000] <volkmar>
"The algorithm to convert a string to a number, given a string input, is as follows: If parsing a date from input results in an error, then return an error"... what does does "return an error" means here

[09:04:22.0000] <volkmar>
(4.10.7.1.8)

[09:09:22.0000] <annevk>
it means to return "an error" to the calling site

[09:09:46.0000] <annevk>
"an error" being an abstract concept the calling site does something with

[09:10:16.0000] <volkmar>
annevk: I have no idea what should really be returned

[09:10:25.0000] <volkmar>
spaghetti specs :(

[09:10:45.0000] <annevk>
volkmar: what are you trying to implement?

[09:11:20.0000] <volkmar>
hmm, I think I found i

[09:11:22.0000] <volkmar>
it

[09:12:26.0000] <volkmar>
valueAsNumber and valueAsDate for type='date'

[09:13:46.0000] <dglazkov>
good morning, Whatwg!

[09:14:26.0000] <annevk>
volkmar: seems like they say that if error is returned you have to return NaN and null respectively

[09:14:57.0000] <volkmar>
annevk: saw that

[09:15:02.0000] <volkmar>
for type='number', I did that

[09:15:20.0000] <volkmar>
but that spec is so hard too read

[09:16:25.0000] <annevk>
I'm not a big fan of how Hixie defined HTML forms either, but I know how it works...

[09:17:20.0000] <volkmar>
I'm Jon Snow, I know nothing :(

[09:18:17.0000] <Ms2ger>
/me sends volkmar to the wall

[09:18:54.0000] <zewt>
http://i.imgur.com/41lcs.png i'm sure glad i spent years of my youth learning not to make typos, just so google could add them back in

[09:20:18.0000] <annevk>
zewt: maybe you need to tell Google a bit more about yourself and then they'll realize you're not the same as the people making that typo

[09:23:48.0000] <zewt>
will my social and bank records be sufficient

[09:35:54.0000] <jwalden>
is there anything special about the scope chain for <body onload="..." that it wouldn't have document on it?  http://www.whatwg.org/specs/web-apps/current-work/multipage/webappapis.html#event-handler-content-attributes seems to say it should have document there, but in my tests I'm not seeing it there

[09:37:40.0000] <jwalden>
e.g. http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2038 would, if document is there, print [object HTMLCollection] or something stupid

[09:38:56.0000] <Ms2ger>
Yeah

[09:39:09.0000] <Ms2ger>
body onload="" sets a handler on window

[09:39:18.0000] <jwalden>
dangit

[09:39:38.0000] <jwalden>
I guess I can add a fake form and get what I want here, or something

[09:49:55.0000] <Ms2ger>
MikeSmith, did I dream this, or is http://www.w3c-test.org/html/ broken again?

[09:53:00.0000] <zewt>
heh, i should figure out how to get rid of the annoying bookmark star thing in firefox

[09:53:17.0000] <zewt>
i never use it to bookmark things, but i accidentally bookmark things all the time, and it's an asymmetric button--i can't just click it again to undo

[09:54:16.0000] <jwalden>
Esc

[09:54:43.0000] <jwalden>
/me learns that form.submit() doesn't trigger onsubmit="", dies a little

[09:55:03.0000] <tantek>
oh yeah, that's a good one.

[09:55:56.0000] <zewt>
/me remembers that evernote will let you write out a whole note, then when you try to save tell you "you need to update! click here to reload!" and lose the whole thing, dies again

[09:56:09.0000] <zewt>
(mental note: find a less horrible notepad thing)

[09:58:44.0000] <tantek>
/me gave up on evernote immediately upon launching it when it wanted him to create an account. Um no, I just wanted to take a few notes quickly, don't bother me with that crap.

[09:59:38.0000] <zewt>
er, taking notes without some way to ... log back in to retrieve them later doesn't sound useful, heh

[10:00:04.0000] <tantek>
I'll decide later if I want to use it on a 2nd device.

[10:00:10.0000] <zewt>
device? webpage

[10:00:28.0000] <tantek>
webpage? localstorage.

[10:00:33.0000] <zewt>
haha no

[10:00:48.0000] <tantek>
haha yes. offline FTW.

[10:00:54.0000] <jgraham>
Well IndexedDB these days

[10:01:03.0000] <tantek>
jgraham - yes, that :)

[10:01:10.0000] <zewt>
never ever put anything in localstorage that can't be regenerated by other means

[10:01:25.0000] <zewt>
unless you're okay with a notepad app that will randomly lose all of your notes

[10:01:29.0000] <tantek>
jgraham is right, I misspoke and meant indexeddb.

[10:01:34.0000] <jgraham>
But I agree that asking for an account before you get to try the product is obnoxious, especially when things want an email address

[10:02:02.0000] <zewt>
no form of local storage will be immune to browsers flushing it down the toilet arbitrarily

[10:02:33.0000] <jwalden>
any Opera people around who could explain why http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2039 logs false rather than true?  it's like evaluating document.all at different times produces non-equal objects, but that doesn't make any sense

[10:02:43.0000] <jgraham>
No, but you can easilly have a "save to the cloud" checkbox that requires you to create an account

[10:02:54.0000] <tantek>
jgraham++

[10:02:55.0000] <jwalden>
webkit logs true, Gecko logs true (possibly because of my local patches)

[10:03:09.0000] <zewt>
no, you shouldn't even give the option to *only* store important user data in local storage

[10:03:28.0000] <zewt>
users don't understand the idea of "if you use this, your data might randomly disappear"

[10:03:37.0000] <jgraham>
Well

[10:03:45.0000] <jgraham>
I wouldn't mind if it was called "trail mode"

[10:03:49.0000] <jgraham>
*trial

[10:04:06.0000] <jgraham>
And I would have to create an account to get non-trial mode

[10:06:14.0000] <jwalden>
/me tweaks that slightly to http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2040

[10:07:27.0000] <jgraham>
jwalden: all doesn't resolve to document.all in the event handler

[10:08:18.0000] <jgraham>
Or, it didn't on the first TC

[10:08:27.0000] <jwalden>
jgraham: why not?  document's on the scope chain before you reach the global

[10:08:29.0000] <jgraham>
I haven't looked at the new one much but it seems to there?

[10:08:44.0000] <jwalden>
first/second are not different in the interesting bits, I think

[10:09:00.0000] <jwalden>
IE seems to produce different document.all values as well, oddly

[10:10:03.0000] <jwalden>
/me tweaks even further to http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2041 to log the different all-values observed

[10:10:05.0000] <jgraham>
Uh

[10:10:16.0000] <jgraham>
I can't reproduce my earlier result

[10:12:02.0000] <jwalden>
or is all maybe a property of every element in IE/Opera, hmm

[10:12:25.0000] <jwalden>
/me can't remember if all is on everything in some browsers

[10:13:23.0000] <jwalden>
oh, that's it

[10:13:25.0000] <jgraham>
Yes

[10:13:36.0000] <jgraham>
Good deduction :)

[10:14:59.0000] <volkmar>
Hixie: ping

[10:15:16.0000] <jwalden>
well, at least I understand the behavior difference in the testcase I actually care about now

[10:21:46.0000] <TabAtkins>
Woo, second Formal Friday is off to a good start.

[10:32:34.0000] <jwalden>
/me will not be caught dead in a suit

[10:32:52.0000] <jwalden>
anyone who tries it will get written out of my will

[10:33:02.0000] <TabAtkins>
But it's so much fun!

[10:33:15.0000] <TabAtkins>
One looks so fancy in a suit.  ^_^

[10:38:47.0000] <jgraham>
That one is wilhelm. The rest of the population shouldn't bother

[10:40:29.0000] <jgraham>
Last time I went to a wedding I was made to wear a suit under protest. It turned out to be entirely unnecessary. I was not impressed

[10:40:49.0000] <TabAtkins>
jgraham: Man, you'd look distinguished as hell in a suit.  You've got great hair for it.

[10:41:16.0000] <TabAtkins>
Pony-tail it with a dark-gray suit, perhaps.

[12:02:25.0000] <Hixie>
volkmar: sup

[12:37:23.0000] <Hixie>
i want a callback that returns -1, 0, or 1 (a comparator) -- what should I define its return type as?

[12:37:40.0000] <Hixie>
there's no way to define a type like "-1..1" in WebIDL right?

[12:38:05.0000] <Hixie>
"byte"?

[12:38:05.0000] <TabAtkins>
Hixie: No you don't.  You want one that returns a number, and then you use the fact that it's 0, positive, or negative.

[12:38:21.0000] <Hixie>
so double?

[12:38:25.0000] <TabAtkins>
Yeah.

[12:38:43.0000] <Hixie>
fair enough

[12:39:17.0000] <TabAtkins>
That way simple comparators like function(a,b) { return b - a; } work.

[12:39:22.0000] <Hixie>
right

[12:39:38.0000] <Hixie>
except a and b are HTMLTableCellElements in this case, but sure

[12:40:21.0000] <TabAtkins>
function(a,b) { return +b.textContent - +a.textContent; }

[12:42:24.0000] <TabAtkins>
Actually, you can remove the +'s.  The strings will automatically get cast to numbers to satisfy the type requirements of -.

[12:51:13.0000] <volkmar>
Hixie: still around?

[12:51:17.0000] <Hixie>
yup

[12:51:26.0000] <volkmar>
Hixie: so, I have a question regarding @step

[12:51:47.0000] <Hixie>
pray ask your question sir

[12:52:31.0000] <tantek>
got to remember that one

[12:53:02.0000] <volkmar>
we do agree that step can be a flat for things like <ninput type='number'>?

[12:53:14.0000] <volkmar>
(sorry, my server has some connections issues)

[12:53:33.0000] <Hixie>
flat?

[12:53:34.0000] <volkmar>
like <input type='number' step='0.1'> would allow values with one decimal, right?

[12:53:38.0000] <Hixie>
oh float?

[12:53:38.0000] <volkmar>
float

[12:53:49.0000] <Hixie>
sounds right, let me check the spec though

[12:54:11.0000] <Hixie>
The step attribute, if specified, must either have a value that is a valid floating-point number that parses to a number that is greater than zero, or must have a value that is an ASCII case-insensitive match for the string "any".

[12:54:18.0000] <Hixie>
so yes.

[12:54:27.0000] <Hixie>
in fact it can always be a float

[12:54:31.0000] <Hixie>
assuming it applies at all

[12:54:33.0000] <volkmar>
Hixie: so what should happen if it's things like <input type='date'>

[12:54:58.0000] <volkmar>
if I follow strictly the specs, step=1.5 means it will allow 2 dates out of 3

[12:55:01.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/#the-step-attribute defines this in detail, but the basic idea is each type= value defines the units for step=""

[12:55:21.0000] <volkmar>
(my question was just an introduction for date...)

[12:55:23.0000] <Hixie>
so e.g. type=month says the scale factor is 1 (1 month)

[12:55:54.0000] <Hixie>
Spec says "The step attribute is expressed in days. The step scale factor is 86,400,000 (which converts the days to milliseconds, as used in the other algorithms). The default step is 1 day." for type=date.

[12:57:11.0000] <Hixie>
are you going to ask what step=1.5 means for type=date?

[12:57:29.0000] <Hixie>
if so, iirc it basically means the same as step=3

[12:57:56.0000] <volkmar>
Hixie: ok, then we agree

[12:58:06.0000] <volkmar>
Hixie: that's what current patches in Gecko do

[12:58:09.0000] <Hixie>
sweet

[12:58:12.0000] <volkmar>
but Webkit and Presto don't do that

[12:58:16.0000] <volkmar>
and don't implement the same thing

[12:58:20.0000] <Hixie>
booo

[12:58:27.0000] <Hixie>
what do they do?

[12:58:53.0000] <volkmar>
Hixie: IIRC, Webkit rounds the step to the nearest integer and Presto floor it

[12:59:21.0000] <Hixie>
well that's just lame and clearly they're ignore the spec and should be appropriately remarked upon

[12:59:30.0000] <Hixie>
ignoring, even

[12:59:38.0000] <Hixie>
file bugs, i guess (on them)

[12:59:44.0000] <volkmar>
yeah, I guess I will

[12:59:50.0000] <Hixie>
thanks

[12:59:50.0000] <volkmar>
just wanted to make sure I understood it right

[13:00:05.0000] <Hixie>
well nothing in the spec says to round anything for step

[13:00:18.0000] <Hixie>
so regardless of whether you and i are reading the spec right, they're definitely wrong if they round

[13:00:31.0000] <volkmar>
sure

[13:00:34.0000] <Hixie>
the only real thing in the spec that makes step="" do anything is "When the element has an allowed value step, and the result of applying the algorithm to convert a string to a number to the string given by the element's value is a number, and that number subtracted from the step base is not an integral multiple of the allowed value step, the element is suffering from a step mismatch."

[13:01:45.0000] <Hixie>
which seems pretty unambiguous, if not necessarily the clearest prose ever

[13:47:12.0000] <yroc>
Anyone know anything about the definition/rationale behind "palpable" content? I couldn't find anything in the mailing list.

[14:01:22.0000] <Hixie>
yroc!

[14:01:26.0000] <Hixie>
sorry dude, kept missing you

[14:01:52.0000] <yroc>
Oh, there you are!

[14:03:52.0000] <yroc>
So I was interested in content types, especially palpable and flow.

[14:04:18.0000] <yroc>
There's no definition for either in the spec...

[14:04:50.0000] <yroc>
Or I should say no conceptual (intensional) defintion -- just a listing of elements.

[14:05:01.0000] <Hixie>
true

[14:06:21.0000] <Hixie>
palpable is intended to address the problem that we don't want things like <ul> <li>TEST <li> </ul> to not be caught

[14:06:36.0000] <Hixie>
but at the same time we don't want to make <ul></ul> or <ul><li><li></ul> to be completely invalid

[14:06:55.0000] <yroc>
Sorry, not to be "caught"?

[14:07:02.0000] <Hixie>
by a validator, sorry

[14:07:10.0000] <yroc>
OK

[14:07:16.0000] <Hixie>
the former because it's obviously a mistake (<li> instead of </li>), the second because it might be intentioally for a script to fill in

[14:07:25.0000] <Hixie>
intentionally

[14:08:27.0000] <yroc>
You mean a script to intentionally fill in the closing li tag?

[14:09:21.0000] <TabAtkins>
Scripts can't fill in a closing tag (tags don't exist in the dom).  He means fill in the contents.

[14:10:19.0000] <yroc>
Oh, because the closing tag for li is optional?

[14:10:39.0000] <yroc>
IOW, "<li>content" is valid?

[14:16:57.0000] <yroc>
OK, what about flow content? What would be the rationale for this type?

[14:17:54.0000] <Hixie>
yroc: i meant like a template where the page just has some empty list items but the author is later expected, or a script is later expected, to add content to the list items

[14:18:24.0000] <Hixie>
the "flow" content model is just the content model we use to represent most normal content

[14:18:27.0000] <Hixie>
like paragraphs or text

[14:18:41.0000] <Hixie>
it's just the name we give for what <body> can contain, basically

[14:26:16.0000] <yroc>
Why is <ins> palpable, but <del> isn't?

[14:29:01.0000] <yroc>
Or is it because you can't later add something to <del>, by definition?

[14:51:05.0000] <Hixie>
yroc: other way around

[14:51:17.0000] <Hixie>
yroc: it means that <del> doesn't count as palpable content

[14:51:37.0000] <Hixie>
yroc: so e.g. <p><del>x</del></p> is "empty" like if it was <p></p> for the purposes of the discussion above

[14:55:21.0000] <JonathanNeal>
Someone showed me a way to do <source src="i/pr6.webm" type='video/webm; codecs="vp8,vorbis"'> without singles quotes, but I've forgotten how. Does anyone here know?

[14:55:40.0000] <yroc>
So you're saying that <del> isn't palpable because even if it's filled in, it still counts as empty?

[14:57:14.0000] <yroc>
Whereas <ins> is palpable, because it's not empty when later filled in. And this is simply due to the semantics of ins and del?

[15:00:05.0000] <Hixie>
yroc: well i'm saying if your paragraph only contains a <del>, it's not palpable (as in, it's effectively empty)

[15:00:41.0000] <Hixie>
yroc: <ins> is just like <span>, it's <del> that's the exception

[15:00:50.0000] <Hixie>
yroc: because it represents removed content

[15:01:34.0000] <Hixie>
JonathanNeal: " can be written as &quot;, maybe that's it?

[15:01:47.0000] <JonathanNeal>
You can just drop the quotes altogether, actually.

[15:01:53.0000] <Hixie>
ah ok

[15:02:17.0000] <JonathanNeal>
It works and mdn shows it off @ https://developer.mozilla.org/en-US/docs/HTML/Using_HTML5_audio_and_video

[15:02:26.0000] <JonathanNeal>
However, I'm thinking it has some validation issues.

[15:03:20.0000] <yroc>
Hixie: right, got you.

[15:04:04.0000] <JonathanNeal>
Yay for all attributes having double quotes again.

[15:04:26.0000] <zewt>
(better, no quotes)

[15:04:49.0000] <JonathanNeal>
zewt: maybe after a minified, but not as source.

[15:04:55.0000] <JonathanNeal>
*minifier

[15:05:08.0000] <zewt>
minifiers need to not exist, and yeah, it's a good thing in source

[15:05:21.0000] <zewt>
so much cleaner to read html without unnecessary quotes everywhere

[15:05:54.0000] <JonathanNeal>
I think you're in the minority with that preference. I have looked at a lot of code in practice without quotes and it was awful.

[15:06:11.0000] <zewt>
i'd call that habit more than anything else

[15:06:30.0000] <zewt>
<img src=dude.jpg width=100 height=100>, very clean

[15:07:10.0000] <JonathanNeal>
Quotes are more consistent, and as a matter of preference, I prefer to see the uniformed delimiters.

[15:07:24.0000] <JonathanNeal>
<img src="dude.jpg" width="100" height="100">, still very clean

[15:07:41.0000] <zewt>
less clean :)

[15:07:49.0000] <JonathanNeal>
MOAR CLEEN!

[15:07:58.0000] <zewt>
mister clean

[15:08:12.0000] <JonathanNeal>
tobias?

[15:08:27.0000] <JonathanNeal>
vin disel?

[15:09:27.0000] <Hixie>
ok seriously

[15:09:28.0000] <Hixie>
i don't get it

[15:09:42.0000] <Hixie>
what sequence of events leads to people filing bugs like these? https://www.w3.org/Bugs/Public/show_bug.cgi?id=20469

[15:10:08.0000] <zewt>
"trolling"

[15:10:15.0000] <Hixie>
doubt it

[15:10:20.0000] <JonathanNeal>
That's nice of you to respond, Hixie.

[15:11:39.0000] <Hixie>
they even created an account with the spec's system first

[15:11:45.0000] <Hixie>
and have a bugzilla account

[15:11:49.0000] <Hixie>
since it cc'ed them

[15:12:02.0000] <JonathanNeal>
You're getting a Facebook post for this.

[15:12:08.0000] <JonathanNeal>
So everybody knows what a nice guy you are.

[15:15:42.0000] <Hixie>
ok seriously, wtf. as far as i can tell, they went to the spec directly, not e.g. through a google search or whatnot

[15:15:53.0000] <Hixie>
and they had the spec open for hours before submitting this feedback

[15:17:35.0000] <Hixie>
hm, according to the logs there's another bug they filed

[15:17:41.0000] <Hixie>
a day earlier

[15:18:01.0000] <Hixie>
sure enough, https://www.w3.org/Bugs/Public/show_bug.cgi?id=20467

[15:20:06.0000] <JonathanNeal>
That was good of you to mark it as a duplicate.

[15:20:27.0000] <Hixie>
it's not the first time we've had questions like this

[15:20:38.0000] <Hixie>
i don't understand what sequence of thoughts leads to this

[15:20:44.0000] <JonathanNeal>
I think it's a serious problem. We should probably call Apple.

[15:21:25.0000] <Hixie>
i don't mean lost iphones, i mean questions that really should be directed towards the authorities or hospitals or whatnot

[15:21:41.0000] <JonathanNeal>
BREAKING NEWS: SPEC BUG RESULTS IN LOST IPHONE

[15:21:46.0000] <zewt>
my hair is on fire, what should i do

[15:22:09.0000] <JonathanNeal>
MOAR CLEEN!

[15:22:28.0000] <Hixie>
if we understood how/why this kept happening, we could do something to help them better, is all

[15:22:38.0000] <Hixie>
and that might reduce our bogus bug rate

[15:28:48.0000] <JonathanNeal>
I know what will fix it.

[15:28:50.0000] <JonathanNeal>
<main>

[15:44:12.0000] <Hixie>
http://gavinsharp.com/irc/whatwg.html is funny. most used words: 1. would, 3. should, 6. could.

[15:44:48.0000] <gavin>
heh

[15:46:48.0000] <Hixie>
in other news, i can't write html for shit

[15:47:12.0000] <Hixie>
"</code>th<code>"

[15:48:44.0000] <JonathanNeal>
That's not a good way to do RTL, Hixie.

[15:49:53.0000] <JonathanNeal>
Hixie: would you want .style = "display:block" instead of .style.cssText = "display:block" ?

[15:50:03.0000] <Hixie>
yes

[15:50:40.0000] <Hixie>
(PutForwards would solve this nice and easily)

[15:50:48.0000] <Hixie>
(but apparently only I like that)

[15:50:56.0000] <Hixie>
come to think of it

[15:51:00.0000] <Hixie>
that would be in the HTML spec, huh

[15:51:10.0000] <Hixie>
i could just put that in there and see if anyone bites

[15:52:13.0000] <Hixie>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=20484 if people want to stop me

[15:54:22.0000] <JonathanNeal>
"I can polyfill that"

[15:58:11.0000] <Hixie>
i assume <table onsort> shouldn't bubble, right? (canceling it aborts the sort)

[15:59:02.0000] <JonathanNeal>
Right. You wouldn't want it bubbling up to the table that was wrapping it.

[15:59:10.0000] <JonathanNeal>
Or any other element.


2012-12-22
[16:03:05.0000] <JonathanNeal>
( in the event you had a table in a table )

[16:04:41.0000] <JonathanNeal>
Also, "style" won't take when defineProperty'd on Node, Element, or HTMLElement.

[16:06:58.0000] <Velmont>
Hm. If I hadn't used both odinho and Velmont as nick, I'd be on the list and not have two entries on the "didn't really make the cut". :-)

[16:10:40.0000] <JonathanNeal>
makes me wonder about creating a .css that returns the computedStyle but also accepts being overwritten.

[16:20:21.0000] <Hixie>
if a <table> has a <thead> with some <th>s in it, and then has some <tr>s and <tbody>s interspaced (as in, tr, tr, tbody-with-tr-tr-tr, tr, tr, another tbody-with-tr-tr, etc), and you try to sort a column

[16:20:30.0000] <Hixie>
the trs in each tbody need to be sorted within the tbody

[16:20:39.0000] <Hixie>
the tbodies don't move themselves

[16:20:48.0000] <Hixie>
but what about the trs that are children of the table itself?

[16:20:56.0000] <Hixie>
do they sort all together and end up above the tbodies?

[16:21:09.0000] <Hixie>
do they sort only within the sequence they're in?

[16:21:29.0000] <Hixie>
so first we sort the first two trs, then the tbody's three trs, then the two trs, then the next tbody's trs, etc?

[17:03:25.0000] <TabAtkins>
Oh man, you actually care about which tbody the tr is in?

[17:03:30.0000] <TabAtkins>
:/

[17:03:52.0000] <Hixie>
only because it's the easiest solution so far, i'm wide open to being convinced we should do otherwise

[17:03:54.0000] <TabAtkins>
I have no opinion on whether you should sort the naked trs all together or per-sequence.

[17:04:12.0000] <TabAtkins>
Right solution is to rewrite the dom into a single tbody containing all the sorted rows. ^_^

[17:04:17.0000] <zewt>
i don't think i've ever used more than one tbody, so i have no idea what makes sense for sorting

[17:04:27.0000] <TabAtkins>
I've only used them for styling purposes.

[17:04:28.0000] <Hixie>
TabAtkins: why would the author bother to use two <tbody>s in that case?

[17:04:37.0000] <TabAtkins>
Man, I dunno.

[17:05:15.0000] <Hixie>
consider the table at http://www.whatwg.org/specs/web-apps/current-work/#the-input-element

[17:05:17.0000] <zewt>
seems vaguely weird to move tr's between tbody's, since you're changing the tree structure (eg. events propagate up a different list of parents)

[17:05:32.0000] <zewt>
oh god i loaded that in firefox again

[17:06:58.0000] <Hixie>
(note, i have no answer for how you keep the tbody headings in the right place on that table)

[17:07:14.0000] <Hixie>
that table does seem to argue for supporting each tbody as being its own sorting domain

[17:08:18.0000] <zewt>
(i'd force the headings to the top by giving it a sort key of "")

[17:08:32.0000] <Hixie>
what if the user reverses the sort order?

[17:08:36.0000] <zewt>
mm

[17:08:55.0000] <zewt>
make them separate tbody's?

[17:09:03.0000] <Hixie>
that seems dubious

[17:09:23.0000] <Hixie>
i think something about the spanning should probably suffice

[17:09:28.0000] <Hixie>
or the scope

[17:09:51.0000] <Hixie>
but anyway

[17:09:54.0000] <Hixie>
not worried about that for now

[17:10:47.0000] <TabAtkins>
Yeah, sorting the tbodys separately does seem the right idea.

[17:11:04.0000] <TabAtkins>
But I still have no clue about sorting the naked trs separately or together.

[17:11:11.0000] <zewt>
unrelated: is the default text sort case-insensitive?

[17:11:24.0000] <Hixie>
i'll just sort sequences of them

[17:11:37.0000] <Hixie>
zewt: currently that's my plan but again, that's just cos nobody has argued otherwise

[17:12:21.0000] <zewt>
(for most regular-user stuff it's probably best)

[17:12:25.0000] <TabAtkins>
It probably makes the most sense, yeah.

[17:13:33.0000] <zewt>
turn on sorting for all tables on random pages that use tables for layout, just for entertainment

[17:14:14.0000] <zewt>
welcome to the picassoweb

[17:14:40.0000] <TabAtkins>
Haha, nice.

[17:14:51.0000] <TabAtkins>
They'd all end up sorting by string, generally, I assume.

[17:31:34.0000] <TabAtkins>
Signing off for 2 weeks.  See you all on Jan 8th!

[20:18:59.0000] <JonathanNeal>
No more Tab.

[21:01:43.0000] <JonathanNeal>
http://secure.codepen.io/joe/fulldetails/KIgFx Hixie console.log(document.body.css) I think it's exactly what you wanted (but under the wrong namespace).

[01:16:23.0000] <MikeSmith>
Ms2ger: refixed http://w3c-test.org/html/

[01:16:33.0000] <MikeSmith>
I think the fix will take this time

[01:17:56.0000] <MikeSmith>
problem yesterday was, it turned out the cause was something that got rsynced over from dvcs.w3.org

[01:18:28.0000] <MikeSmith>
and I had made the change locally, so the next rsync just ended up clobbering it

[01:19:51.0000] <MikeSmith>
but I think Robin has removed it now from dvcs.w3.org, so should not show up again

[01:57:18.0000] <Ms2ger>
Ah, fun

[01:57:21.0000] <Ms2ger>
MikeSmith, thanks!

[02:25:46.0000] <annevk>
Oh, sortable is being drafted already

[03:16:01.0000] <annevk>
Hixie: requiring <thead> seems overkill for simple tables

[03:16:32.0000] <annevk>
Hixie: also, there's a number of xref problems and some missing <dfn> around the new members

[05:01:05.0000] <Ms2ger>
Anyone feel like reviewing some bug fixes? https://github.com/w3c/html-testsuite/pull/12

[05:06:18.0000] <annevk>
your bug fix seems to remove the original test

[05:07:25.0000] <annevk>
in particular you no longer test the relation between the content and IDL attribute

[05:07:49.0000] <annevk>
oh you do, but the reverse

[05:07:54.0000] <annevk>
sorry

[05:14:44.0000] <Ms2ger>
I removed a part that just wasn't backed by the spec

[05:22:52.0000] <heycam>
Ms2ger, re your question about testharness.js tests for SVG

[05:23:02.0000] <heycam>
Ms2ger, we are just starting to get our SVG 2 test suite together

[05:23:23.0000] <Ms2ger>
I asked something about that?

[05:23:29.0000] <heycam>
(I think so?)

[05:23:33.0000] <heycam>
Ms2ger, and I haven't written any testharness.js tests before; do they relate to the Shepherd-run reftests?

[05:23:38.0000] <heycam>
or are they completely separate/

[05:23:57.0000] <Ms2ger>
testharness.js is for JS tests, reftests are rendering tests :):

[05:24:09.0000] <heycam>
ok :)

[05:24:17.0000] <heycam>
but they don't use the reftest harness at all

[05:24:20.0000] <heycam>
well

[05:24:28.0000] <heycam>
does the shepherd harness do automatic reftest testing yet?

[05:24:56.0000] <Ms2ger>
Automatic? No

[05:25:13.0000] <Ms2ger>
Ah, here it is

[05:25:26.0000] <Ms2ger>
Do you have a repository set up?

[05:25:30.0000] <heycam>
Ms2ger, you asked here https://bugzilla.mozilla.org/show_bug.cgi?id=816778#c47

[05:25:35.0000] <Ms2ger>
Yeah, just found that

[05:25:53.0000] <heycam>
oh that's like already a week ago

[05:26:04.0000] <heycam>
my how time (and email inbox buildup) passes

[05:26:36.0000] <heycam>
Ms2ger, so we have http://svgwg.org/hg/svg2-tests/

[05:26:47.0000] <heycam>
Ms2ger, which I think has the right directory structure for shepherd

[05:27:00.0000] <Ms2ger>
Ugh

[05:27:01.0000] <heycam>
though we don't have sheperd configured to present our tests anywhere

[05:27:11.0000] <heycam>
(and we haven't started importing our SVG 1.1 tests there yet)

[05:27:43.0000] <Ms2ger>
I don't think shepherd actually requires such a silly directory structure, and if it did, it'd have to be changed for html/webapps anyway

[05:28:03.0000] <heycam>
for testharness.js tests?

[05:28:12.0000] <heycam>
(I'm assuming webapps tests don't have any reftests?)

[05:28:25.0000] <Ms2ger>
HTML has some

[05:28:32.0000] <heycam>
ok

[05:28:35.0000] <heycam>
do you have link?

[05:28:46.0000] <Ms2ger>
https://github.com/w3c/html-testsuite

[05:28:47.0000] <heycam>
I'll just copy the location/directory structure

[05:29:01.0000] <heycam>
nice unicorn

[05:29:07.0000] <Ms2ger>
We just got rid of the approved/contributors stuff

[05:29:09.0000] <heycam>
ah it's loaded now

[05:29:22.0000] <heycam>
I see

[05:29:48.0000] <heycam>
I think we'll see how we go in terms of WG approval/review of tests for us

[05:29:53.0000] <Ms2ger>
Instead, pull requests

[05:29:57.0000] <heycam>
seems easiest just to copy CSS for the moment

[05:30:04.0000] <heycam>
fair enough

[05:30:12.0000] <Ms2ger>
Fwiw, I tend to think we should just throw everything in one repo

[05:30:13.0000] <heycam>
(though we aren't using github of course)

[05:30:57.0000] <Ms2ger>
Anyway, want to submit dzbarsky's test?

[05:31:27.0000] <heycam>
yeah I will

[05:31:32.0000] <heycam>
once I sort out our repo

[05:31:46.0000] <heycam>
but I guess we don't have a syncing script like the one for reftests/w3c-css/

[05:31:48.0000] <heycam>
?

[05:32:32.0000] <heycam>
Ms2ger, do you use the same format for these js tests too? I see like <link rel=author>, <link rel=help>, etc.

[05:32:53.0000] <Ms2ger>
We have a syncing script under dom/imptests

[05:33:15.0000] <Ms2ger>
links are optional, because they're not terribly useful

[05:33:30.0000] <heycam>
yeah I'm kind of skeptical about manually maintained metadata

[05:34:15.0000] <heycam>
perhaps I should just read the code in there, but do the importing scripts require a particular directory structure or anything?

[05:34:23.0000] <Ms2ger>
No

[05:34:33.0000] <Ms2ger>
Just a MANIFEST file

[05:35:18.0000] <heycam>
ok

[05:35:21.0000] <heycam>
and it just copies those files

[05:35:30.0000] <Ms2ger>
Yep

[05:35:35.0000] <heycam>
ok cool, sounds easy :)

[05:35:43.0000] <heycam>
/me will look into that

[05:36:34.0000] <Ms2ger>
It should be easy, I'm lazy :)

[05:37:03.0000] <heycam>
/me is three glasses of wine in at at 12:30am so is not going to try now

[05:38:22.0000] <Ms2ger>
Oh, AM, that makes more sense :)

[05:42:23.0000] <annevk>
Ms2ger: all tests in one repo?

[05:42:29.0000] <Ms2ger>
Yeah

[05:42:29.0000] <annevk>
Ms2ger: I tend to agree

[05:42:43.0000] <annevk>
but I haven't done much with tests...

[05:43:03.0000] <Ms2ger>
Maybe you should ;)

[05:59:08.0000] <annevk>
Yeah one day. I should do a set of tests for Encoding and URL...

[05:59:44.0000] <annevk>
In other news, this prototype stuff... What does document.open() do with that? If you keep the document, but the global object is replaced, are the prototypes weird?

[06:00:37.0000] <annevk>
Hmm, running out of time...

[06:06:41.0000] <Ms2ger>
bz can tell you stories about that, I'm sure :)

[08:37:45.0000] <Hixie>
gsnedders: pretty sure the people editing the w3c spec don't know either (Re your tweet)

[08:38:40.0000] <Hixie>
annevk: requiring <thead> is because otherwise you have to handle <th>s in weird places

[08:39:22.0000] <Hixie>
annevk: e.g. if you have <tr><th><td> <tr><td<td> <tr><td><th> <tr><td><td>

[08:39:35.0000] <Hixie>
not sure what should happen in that case

[08:40:26.0000] <Hixie>
gsnedders: (in particular, i'm almost certain none of them have read the spec cover to cover in the first place; the CR has all kinds of weird stuff that makes no sense e.g. parts of ping="")

[08:42:59.0000] <gsnedders>
Yeah, I'd rather got that impression.

[08:43:23.0000] <gsnedders>
Oh well, time for me to work out how I'm getting to my parents. Flooding and landslides makes this... interesting.

[08:44:09.0000] <Hixie>
enjoy

[08:44:58.0000] <gsnedders>
On the whole I expect I'll just stay here another day, but currently trying to figure out diversions of trains to work out how late they'll be running.

[08:45:34.0000] <gsnedders>
And maybe take a coach. Easier to divert them. :)

[08:50:30.0000] <Hixie>
oh, around the water

[08:50:44.0000] <Hixie>
i thought you meant you wanted to hijack one or something

[08:51:15.0000] <gsnedders>
I'm sure my lack of any practical experience driving would help with that :)

[09:28:48.0000] <volkmar>
according to the specs, what should happen if I do: input.valueAsNumber=NaN (for a type='number' and type='date')

[09:29:11.0000] <volkmar>
setting seems to always assume the new value is valid

[09:32:25.0000] <Hixie>
yeah, that's bogus

[09:32:35.0000] <Hixie>
heycam|away: here's another example of wanting a different setter type than getter type

[09:32:58.0000] <Hixie>
heycam|away: i want to return NaN sometimes (unrestricted double), but the setter needs to just be double

[09:33:14.0000] <gsnedders>
NaN is a double by most defintiions.

[09:33:22.0000] <Hixie>
not WebIDL's

[09:33:45.0000] <gsnedders>
Shows what I know :)

[09:33:59.0000] <Hixie>
volkmar: i filed https://www.w3.org/Bugs/Public/show_bug.cgi?id=20496

[09:34:20.0000] <Hixie>
volkmar: if you're implementing, assume it will be fixed to treat NaN/Infinity the same way as a WebIDL "double" would

[09:34:28.0000] <Hixie>
(which i think means TypeError is thrown)

[09:35:53.0000] <volkmar>
hmm, ok

[09:36:07.0000] <volkmar>
right now our implementation is setting the empty string if NaN is passed

[09:36:46.0000] <Hixie>
i could see an argument for that behaviour

[09:36:59.0000] <Hixie>
how about Infinity?

[09:37:43.0000] <volkmar>
let me check

[09:37:59.0000] <Hixie>
(i added a comment to the bug)

[09:44:26.0000] <volkmar>
Hixie: seems like we handle Infinity like NaN

[09:44:44.0000] <Hixie>
that seems a bit less justifiable

[09:45:17.0000] <volkmar>
indeed

[09:45:36.0000] <volkmar>
but I don't really not what would make sense

[09:45:44.0000] <Hixie>
i think Infinity should just throw TypeError

[09:45:58.0000] <Hixie>
i could buy NaN setting the value to "" though, that seems somewhat useful

[09:46:17.0000] <Hixie>
that'd be my recommendation, anyway

[09:46:24.0000] <Hixie>
it's your call really :-)

[09:46:51.0000] <volkmar>
eh

[09:47:00.0000] <Hixie>
if you do something other than Infinity=>TypeError, NaN=>"", please do comment on the bug so i make sure to make the spec match implementations

[09:47:12.0000] <volkmar>
I think I will do that

[09:47:15.0000] <volkmar>
will try to update the bug

[09:47:22.0000] <Hixie>
excellent

[09:47:24.0000] <Hixie>
thank you sir

[09:47:44.0000] <volkmar>
yw

[10:16:16.0000] <Hixie>
is there some name for the level of a key in a sort? i.e. a secondary key's ___ is 2, a primary key's ___ is 1, a tertiary key's ___ is 3, etc

[10:16:58.0000] <Hixie>
the key's ordinality, maybe?

[10:22:27.0000] <Hixie>
should  <tr><th sorted="1">A <th sorted="3"> B</tr>  be valid? (i.e. skipping ordinalities)

[10:28:09.0000] <Hixie>
huh, autocomplete is case-insensitive

[10:28:13.0000] <Hixie>
was that intentional, i wonder

[10:29:14.0000] <Hixie>
ah, yes.

[10:29:15.0000] <Hixie>
ok

[10:56:15.0000] <Hixie>
if we sort the following table: <table>....<tbody><tr><td rowspan=2>B</tr><!----><tr></tr><tr><td>A</table>

[10:56:20.0000] <Hixie>
...what should the resulting DOM look like?

[10:57:01.0000] <Hixie>
the B row and the next row are kept together, but are they kept together along with the comment between them?

[10:57:04.0000] <Hixie>
i'm thinking no.

[11:15:41.0000] <Ms2ger>
gsnedders, hey, bz's latest email on www-dom sounds like something you'd know about

[11:21:21.0000] <gsnedders>
Ms2ger: If you say so.

[11:21:33.0000] <Ms2ger>
I did :)

[11:21:51.0000] <Ms2ger>
Or at least find someone who does :)

[11:25:46.0000] <gsnedders>
Ms2ger: Or I don't know and can look :)

[11:26:18.0000] <Ms2ger>
Thanks :)

[11:27:21.0000] <gsnedders>
(I believe we never change, off hand)

[11:27:26.0000] <gsnedders>
(In case I vanish)

[11:31:06.0000] <Ms2ger>
That would be unfortunate

[11:42:14.0000] <gsnedders>
Ms2ger: Emailed, if you so care.

[11:44:09.0000] <Ms2ger>
Thanks

[13:52:02.0000] <SimonSapin>
annevk: "The encoding attribute must return the encoding." That’s the encoding *name*, right?

[13:53:45.0000] <SimonSapin>
In http://encoding.spec.whatwg.org/#dom-textdecoder-encoding

[14:05:58.0000] <SamB>
/me wonders about the point of this step in the font type pattern matching algorithm: Let the byte sequence to be matched be the byte sequence to be matched.

[14:15:30.0000] <Hixie>
SamB: is part of that a variable name or something? (e.g. in italics, if using a graphical browser?)

[14:16:37.0000] <SamB>
Hixie: well, I didn't *spot* anything formatted differently on one side than the other ...

[14:16:44.0000] <Hixie>
dunno then

[15:19:08.0000] <SamB>
/me doesn't get why I-Ds expire so quickly ...

[15:32:21.0000] <Hixie>
gsnedders: where do we expose GC behaviour?

[15:32:29.0000] <Hixie>
i thought we'd worked pretty hard to not expose it at all

[15:33:28.0000] <gsnedders>
Hixie: getElementsByTagName NodeList

[15:36:52.0000] <Hixie>
that's more exposing caching behaviour than GC behaviour

[15:37:32.0000] <Hixie>
no?

[15:37:41.0000] <Hixie>
i mean i guess they might be correlated

[15:37:44.0000] <gsnedders>
But you can observe when GCs happen due to cache invalidation happening at the same time, no?

[15:40:36.0000] <Hixie>
i guess if you put a property on the object, then keep no references, then keep asking for the object and checking if there is a property on it...

[15:40:48.0000] <Hixie>
but there doesn't have to be a correlation between GC and caching there

[15:41:11.0000] <Hixie>
the UA could start returning a new object even when the other isn't GCed, and could have a strong reference from the cache to the object

[15:41:34.0000] <gsnedders>
I'm going to claim that either way exposing caching behaviour in such a way is bad.

[15:50:27.0000] <zewt>
i'd call those basically equivalent problems

[15:50:50.0000] <zewt>
that is, exposing nondeterministic, implementation-specific behavior is bad (and GC just happens to be the most common manifestation of that)


2012-12-23
[16:08:51.0000] <SamB>
so no crypto-quality RNG, either?

[16:19:44.0000] <SimonSapin>
annevk: I made 'decode' a method of Encoding objects in my python implementation. It’s a bit weird when the object is actually ignored because of a BOM

[16:20:26.0000] <SimonSapin>
the alternative is to have functions and Encoding objects as parameters, but it’s more stuff to import

[16:21:55.0000] <Hixie>
gsnedders: oh absolutely, but the topic was exposing GC behaviour :-)

[16:22:04.0000] <Hixie>
gsnedders: i completely agree that we expose all kinds of other crazy behaviour

[16:22:18.0000] <Hixie>
not least of which, with anything that touches the network...

[16:23:39.0000] <SamB>
or most things that involve the IETF?

[21:16:23.0000] <JonathanNeal>
http://www.4dsolutions.net/ocn/cardinality.html

[21:18:33.0000] <JonathanNeal>
Depends if you're referring to the collection as a value, like the length of keys, or the numbers themselves as things being ordered … sounds like you want the latter - so ordinality works.

[04:58:02.0000] <gsnedders>
Hixie: My point was mostly that caching behaviour does expose GC behaviour, and this is what everyone who's optimized like that has done.

[04:58:44.0000] <gsnedders>
SamB: crypto-quality RNG isn't exposing non-determinism in an API that should have none

[10:04:56.0000] <SamB>
gsnedders: so by "expose" do you mean something more like "provide access to information that can be used for evil", or "uncover sharp corners for people to injure themselves upon"?  (And does this mean you think explicit weak references would also be bad?)

[11:55:46.0000] <Hixie>
gsnedders: yeah, true

[11:56:46.0000] <zewt>
SamB: (that's why WeakMap isn't iterable)

[12:40:36.0000] <annevk>
Hixie: my idea was to use any <th> elements in the first row

[12:42:51.0000] <annevk>
SimonSapin: I don't understand what you said above

[12:43:18.0000] <Hixie>
annevk: yeah, i guess we could use the <th> elements of the first row if there's no <thead>, and if you want something more complicated, you have to use <thead>

[12:43:53.0000] <annevk>
Hixie: right, that would save me a bunch of typing :)

[12:44:05.0000] <SimonSapin>
annevk: get_encoding('label').decode(input) vs. decode(input, get_encoding('label'))

[12:44:10.0000] <Hixie>
annevk: a whole 14 characters!

[12:44:23.0000] <Hixie>
annevk: (i always use <thead> because it makes styling easier)

[12:44:23.0000] <SimonSapin>
although the latter can be abbreviated as decode(input, 'label')

[12:45:29.0000] <SimonSapin>
with functions the parameter can be name fallback_encoding, which makes more sense because of BOM detection

[12:45:33.0000] <annevk>
SimonSapin: oh I see, you can do that I suppose, but you should also have a way to implement the decode() from the spec if you want to implement CSS and such ;)

[12:45:47.0000] <annevk>
the decode algorithm, I mean

[12:45:56.0000] <SimonSapin>
annevk: yes, this is the decode algorithm

[12:46:02.0000] <SimonSapin>
the question is where do I put it

[12:46:51.0000] <annevk>
well there's a decoder per encoding and there's a more general algorithm that takes into account a bom and treats the label as a fallback in case there's no BOM

[12:47:16.0000] <annevk>
SimonSapin: seems you're right about the encoding's name thingie, guess I'll fix that now

[12:47:21.0000] <SimonSapin>
is it useful to expose the lower-level decoders?

[12:50:36.0000] <annevk>
SimonSapin: there's a few times where other specs (at the moment) directly invoke the lower-level decoder

[12:51:19.0000] <annevk>
SimonSapin: I guess ideally we should clean that up in due course and document the entry points more clearly, but for now I'm still figuring out what the actual requirements are

[12:51:53.0000] <SimonSapin>
annevk: I’ll keep this for now, and add the lower level decoders later if needed

[12:52:02.0000] <SimonSapin>
but they’re just python’s anyway

[12:52:27.0000] <zewt>
quotostrophes

[12:52:41.0000] <annevk>
well it's still important, people will look at that code down the road and learn from it

[12:53:58.0000] <SimonSapin>
annevk: do you have example of other specs using the lower-level decoder?

[12:54:10.0000] <annevk>
SimonSapin: URL

[12:55:21.0000] <annevk>
but maybe I should a "bomless decode" entry-point for that

[12:57:51.0000] <SimonSapin>
annevk: WIP: http://packages.python.org/webencodings/

[12:58:35.0000] <annevk>
Hixie: I was wondering about that point you made the other day. Since "notification" has a plural it should be "notifications"... Should "url.spec.whatwg.org" become "urls.spec.whatwg.org" then? Maybe later?

[12:59:36.0000] <annevk>
SimonSapin: wow cool

[13:01:01.0000] <annevk>
SimonSapin: why is there get_encoding? seems redundant

[13:01:50.0000] <SimonSapin>
annevk: I’ll probably remove lookup or make get_encoding internal/undocumented

[13:04:09.0000] <annevk>
Hixie: same for Encoding...

[13:04:35.0000] <annevk>
Hixie: IETF apparently calls that "charset" these days, so weird

[13:05:00.0000] <SimonSapin>
annevk: I thought there was only one :) http://encoding.spec.whatwg.org/#the-encoding

[13:05:28.0000] <annevk>
SimonSapin: sssh don't tell anyone ;)

[13:06:14.0000] <SimonSapin>
annevk: I guess that "charset" is from the days when different encodings always had a different set of supported charcters

[13:06:25.0000] <SimonSapin>
which is still kind of true, but not with UTF-*

[13:06:59.0000] <annevk>
yeah is, but see http://lists.w3.org/Archives/Public/public-html/2012Nov/0188.html

[13:07:46.0000] <SimonSapin>
oh well …

[13:07:50.0000] <annevk>
and in particular http://tools.ietf.org/html/rfc6365 referenced later in that thread

[13:12:03.0000] <SimonSapin>
that RFC actually has different definitions for "character encoding scheme" and "charset"

[13:13:02.0000] <SimonSapin>
can we say that "encoding" is short for "character encoding scheme" and move on?

[13:14:12.0000] <annevk>
Encoding defines its terms from primitives so it's fine I think

[13:15:26.0000] <annevk>
I think "encoding" is fine personally, if we have to make it different at some point, I guess it would be "text encoding" because of the API

[13:15:32.0000] <Hixie>
annevk: i wouldn't bother changing any of them at this point :-)

[13:20:34.0000] <annevk>
Hixie: sorting-enable table element -> sorting-enable*d* table element

[13:21:50.0000] <Hixie>
thanks

[13:21:53.0000] <annevk>
Hixie: also, all the mutation stuff you want to define in terms of concept-node-append etc. so that mutation observers are well defined

[13:22:00.0000] <Hixie>
yeah

[13:22:09.0000] <Hixie>
are parser notifications batched in any way?

[13:22:26.0000] <Hixie>
i don't want to have to resort the table with every token/character inserted by the parse...

[13:23:41.0000] <annevk>
parser mutations are not defined to that extent as they depend on network latency and such...

[13:23:56.0000] <Hixie>
they only depend on network latency if we do batch

[13:24:05.0000] <Hixie>
so i assume that means we batch

[13:25:20.0000] <annevk>
yeah

[13:25:26.0000] <annevk>
shouldn't sorting start after </table>?

[13:25:43.0000] <Hixie>
not if there's a render between the <Table> and the </table>

[13:25:46.0000] <Hixie>
otherwise you'll get flicker

[13:26:22.0000] <annevk>
you'll get that either way no?

[13:26:39.0000] <Hixie>
if you sort before you render, no

[13:27:06.0000] <Hixie>
(if the table is so big you get multiple renders before it's parsed, then sure)

[13:27:18.0000] <Hixie>
(but they'll look like insertions, not reordering)

[13:27:20.0000] <Hixie>
(so it's not so bad)

[13:27:51.0000] <annevk>
but they'll be insertions at random places, which might be worse than bad

[13:28:00.0000] <Hixie>
not random at all

[13:28:07.0000] <Hixie>
insertions in the appropriate places to maintain order

[13:28:17.0000] <annevk>
e.g. stuff from the end might end up on top and if the table is very big you might have already scanned past that

[13:28:34.0000] <annevk>
seems kinda weird

[13:28:49.0000] <Hixie>
if the table is so big as to have multiple renders, it'll be pretty obvious pretty quickly that it's still loading

[13:29:18.0000] <Hixie>
whereas if you only sort once, you really might have read the top of the table before it sorts

[13:29:36.0000] <SimonSapin>
annevk: anything else before I release python-webencodings 0.1?

[13:30:02.0000] <annevk>
SimonSapin: I don't like the web prefix, but that's aesthetics

[13:30:40.0000] <SimonSapin>
annevk: the point is that python supports loads of labels, but for the web you want a specific set of labels

[13:31:02.0000] <SimonSapin>
Other encodings not listed could have their use in non-web context

[13:31:28.0000] <annevk>
I know, but I want this to be used beyond the web

[13:32:26.0000] <SimonSapin>
For the web it’s a feature not to have an API to add encodings. In other contexts maybe not

[13:32:48.0000] <annevk>
Hixie: the current algorithm also doesn't seem to take into account there could be further parser changes

[13:33:14.0000] <Hixie>
hm?

[13:33:23.0000] <Hixie>
the current algorithm isn't close to complete

[13:33:26.0000] <Hixie>
it doesn't even sort yet :-P

[13:33:32.0000] <Hixie>
nor move any rows

[13:33:33.0000] <annevk>
Hixie: e.g. it seems like it might fail for <table sortable><thead><tr> { long wait } <th>

[13:33:40.0000] <annevk>
mkay

[13:33:46.0000] <Hixie>
why would it fail for that?

[13:34:51.0000] <annevk>
well I guess it depends on how often table sorting algorithm is invoked

[13:34:57.0000] <annevk>
I'll be patient :)

[13:35:04.0000] <Hixie>
it shouldn't matter how often it's invoked

[13:35:43.0000] <annevk>
it's observable via the sort event

[13:35:59.0000] <Hixie>
same as mutation events, sure

[13:36:02.0000] <Hixie>
er

[13:36:03.0000] <Hixie>
observers

[13:36:22.0000] <SimonSapin>
annevk: I’m not against changing the name but now is the time :) At least for this python implementation, I think it’s only useful for legacy web content (hence the current name). Otherwise just use python’s stdlib

[13:38:15.0000] <annevk>
SimonSapin: seems http://packages.python.org/encoding/ is available ;)

[13:38:30.0000] <annevk>
SimonSapin: I'd aim to become the stdlib

[13:38:38.0000] <SimonSapin>
hehe

[13:38:43.0000] <SimonSapin>
one step at a time

[13:39:00.0000] <SimonSapin>
and they say "python stdlib is where modules go to die"

[13:39:14.0000] <SimonSapin>
with multi-year update cycles

[13:39:21.0000] <SimonSapin>
not great for a living standard

[13:39:35.0000] <annevk>
oh

[13:40:02.0000] <annevk>
sounds like web standards getting implemented by browsers

[13:40:20.0000] <annevk>
except given that Python is kinda centralized, that's not too great

[13:40:45.0000] <SimonSapin>
some modules like json are great in the stdlib once they are basically "done", but most are better of outside of the stdlib

[13:40:57.0000] <SimonSapin>
s/better of/better off/

[13:42:25.0000] <SimonSapin>
plus, a good part of the ecosystem is stuck on python 2.7 because they have dependencies not ported to py3 yet; and 2.8 is not gonna happen

[13:44:29.0000] <SimonSapin>
annevk: anyway, yes http://packages.python.org/encoding/ is available but I’m still not convinced this is useful outside of the web

[13:44:53.0000] <Hixie>
is the iana charset registry useful outside the web?

[13:45:46.0000] <SimonSapin>
no idea. http://docs.python.org/2/library/codecs.html#standard-encodings does not refer to anything

[13:46:25.0000] <zewt>
is the iana charset registry useful on the web? heh

[13:52:21.0000] <SimonSapin>
Release time. I can always rename later.

[13:53:43.0000] <Hixie>
annevk: dude, supporting <th> in first <tr> is a huge pain

[13:53:55.0000] <annevk>
:-(

[13:53:57.0000] <Hixie>
annevk: you sure you can't be bothered to put in 14 characters in your sortable tables?

[13:54:27.0000] <Hixie>
(have to support things like figuring out rowspans in the first <tr> of the first <tbody> then sorting the cells after that tbody, etc

[13:54:30.0000] <Hixie>
)

[13:54:46.0000] <Hixie>
/me continues to try to make it work

[13:55:48.0000] <annevk>
Hixie: shouldn't that row have the same restrictions as the row in <thead>?

[13:56:06.0000] <Hixie>
in <thead> it's easy because i just skip the whole <thead>

[13:56:07.0000] <annevk>
hmm I guess not

[13:56:11.0000] <Hixie>
without worrying about rowspans :-)

[13:56:12.0000] <annevk>
yeah

[13:56:38.0000] <annevk>
adding <thead>/<tbody> is not too hard, it just seems like a weird requirement

[13:57:00.0000] <annevk>
not quite as intuitive as <table sortable> makes you believe, so to say

[13:57:11.0000] <Hixie>
i'll make it work

[13:57:14.0000] <Hixie>
it's just a pain :-)

[13:57:57.0000] <SimonSapin>
could you have <thead> and omit <tbody>?

[13:58:31.0000] <Hixie>
yes, though in practice <tbody> is implied when <thead> ends in text/html so that doesn't make much difference

[13:58:43.0000] <Hixie>
actually it's one more character to do that (<thead></thead> vs <thead><tbody>)

[13:59:08.0000] <annevk>
will somebody please think of the characters!

[14:00:18.0000] <SimonSapin>
oh, I’m still not used to having that much stuff close implicitly

[14:02:24.0000] <SimonSapin>
there is a fine line between omitting optional stuff because you know the details of the parsing algorithm, and throwing tag soup at the wall and seeing what sticks

[14:04:31.0000] <SimonSapin>
I’m comfortable with `display: table-cell`, but only since I implemented the algorithm that generates the related anonymous boxes

[14:06:13.0000] <annevk>
It seems the GitHub - Twitter bridge is broken

[14:06:24.0000] <annevk>
even though GitHub reports it as working :/

[14:10:52.0000] <Hixie>
k, think i got it

[14:11:06.0000] <Hixie>
also added support for ignoring rows with just <th>s

[14:11:11.0000] <Hixie>
at the top of row groups

[14:11:30.0000] <Hixie>
as in the big input thing

[14:16:18.0000] <annevk>
btw, did you come across any tables that wanted their rows sorted? not that I think we should support that, just curious

[14:16:27.0000] <annevk>
euh, columns sorted, doh

[14:16:51.0000] <Hixie>
i have not heard any desire to do that from anyone except people like you and tab asking me if i should support it :-)

[14:18:11.0000] <annevk>
/me hides in his ivory tower

[14:39:20.0000] <zewt>
wow, whoever's been messing with the address bar in opera doesn't really "get" it

[14:39:38.0000] <zewt>
seems like it basically hides everything but the host and path, as if they've confused the address bar with the title bar


2012-12-24
[19:05:46.0000] <Hixie>
well bummer, i can't very well call the comparator function from within the sort algorithm, the comparator could do all kinds of crazy things to the DOM

[20:16:11.0000] <zewt>
Hixie: run the whole sort (leaving the DOM elements in-place--just figure out the order they'd end up being in), then apply the DOM changes at the end all at once only if the DOM order is the same?

[20:16:43.0000] <zewt>
(precisely what "the same" means I'm not sure)

[20:17:38.0000] <Hixie>
the definiton of "the same" is what matters, really

[20:17:51.0000] <Hixie>
i mean, with that definition, i could abort whenever

[20:19:45.0000] <zewt>
if you're sorting nodes [a,b,c,d,e], only apply the result if at the end of the sort algorithm, the nodes would still produce the pre-sorted list [a,b,c,d,e]

[20:20:36.0000] <Hixie>
what does that mean?

[20:20:57.0000] <Hixie>
you mean, do the node collection twice?

[20:21:19.0000] <Hixie>
what if the nodes change contents during the comparator?

[20:21:30.0000] <Hixie>
or the page is navigated?

[20:22:20.0000] <zewt>
i mean, run the entire sort algorithm without applying any changes, just sorting the nodes out-of-band, then once that's complete, check if the nodes are still where they were and apply the changes atomically

[20:23:36.0000] <Hixie>
define "where they were". What if the table is now in a different document? Or the trs are still in the same tbodies but the tbodies are in different tables? or the <th>s that we're using to determine the sort order have all been moved around?

[20:24:43.0000] <zewt>
that's what i mean by comparing the list of nodes you're sorting: if the table results in three groups that need to be sorted, check that the table still gives the same results before applying

[20:25:17.0000] <Hixie>
what if the <tr>s are still there but the cells have all changed?

[20:25:28.0000] <Hixie>
it's the cell contents we use to compare the rows, after all

[20:25:50.0000] <zewt>
if it's a user comparison function, then it might make sense to not care about that

[20:26:04.0000] <Hixie>
it's user comparison for one column, but the other column might not be

[20:26:07.0000] <Hixie>
i'm fast reaching the conclusion that a comparator here is a terrible idea

[20:26:16.0000] <Hixie>
js one, i mean

[20:27:08.0000] <zewt>
well i've said that explicit sort keys can handle most cases :)

[20:31:38.0000] <zewt>
are there any particular cases you have in mind where a function is needed and a sort key won't work?

[20:31:59.0000] <zewt>
there are some cases where they work but are a bit awkward (like natural sorts)

[20:34:27.0000] <Hixie>
the main reason for having it is that the libs have them

[20:35:52.0000] <Hixie>
ok. bye bye comparator.

[20:36:02.0000] <Hixie>
if people want to manually sort they can do so on onsort

[00:15:50.0000] <Krinkle>
annevk: Hi again

[00:16:32.0000] <Krinkle>
Ms2ger: annevk: For when either of you get back, I updated my implementation according to your updates to the spec. However it appears TreeWalker.nextNode is still broken / failing tests.

[00:17:12.0000] <Krinkle>
In this commit I update my implementation: https://github.com/Krinkle/dom-TreeWalker-polyfill/commit/7cc08f400bdc5bca405040e7ec3877ff668cae48

[00:17:18.0000] <Krinkle>
Based on recent commits in https://github.com/whatwg/dom/commits

[00:17:54.0000] <Krinkle>
In particular there is a problem with 'result' not being assigned when filtering the "following" node.

[00:18:08.0000] <Krinkle>
causing the next iteration of the running the steps to use the old result again

[00:18:58.0000] <Krinkle>
If you clone my repo, and change the conditional block for "nextNodeW3" from if-false to if-true you'll see the failing test (the test fails when there is an accepted node inside a rejected parent that is following an accepted parent)

[00:19:16.0000] <Krinkle>
so the next iteration is looking in a child it shouldn't be looking into

[00:20:41.0000] <Krinkle>
/me files a bug

[00:40:19.0000] <Krinkle>
nvm, it was fixed already (looking at an outdated version)

[00:58:10.0000] <annevk>
good

[02:38:30.0000] <Jasper>
notjasper, hi

[02:39:03.0000] <notjasper>
hello

[02:39:07.0000] <notjasper>
are you jasper?

[02:39:14.0000] <Jasper>
i am Jasper

[02:39:46.0000] <notjasper>
I was trying to connect through mibbit a second ago, and it gave me the name jasper and then imediately asked me to change my name, and then booted me out

[02:39:55.0000] <notjasper>
lol

[02:39:55.0000] <Jasper>
heh

[14:31:41.0000] <gsnedders>
SamB: Expose sharp corners for people to injure themselves upon, basically. (Exposing behaviour where non-specified behaviour can become relied upon, basically.)

[14:32:49.0000] <zewt>
exposing GC behavior isn't so much a sharp corner as a hidden blade

[14:45:23.0000] <gsnedders>
Just found out that "if x, do optimized code, else y" is too expensive for compiled JS. TIL.

[14:45:35.0000] <gsnedders>
Oh well, let's ignore that everyone has done that for years.

[14:47:06.0000] <SamB>
TIL?

[14:49:17.0000] <gsnedders>
Today I learned.

[14:49:33.0000] <gsnedders>
Someone claimed this in an argument about the feasibility of JS optimizations with me.

[14:49:49.0000] <gsnedders>
I should step away from the internet.

[15:09:04.0000] <annevk>
gsnedders: don't argue the Internet man, it's exhausting

[15:14:43.0000] <gsnedders>
annevk: I know, I mostly ignore it.


2012-12-25
[20:42:31.0000] <zewt>
apparently youtube now eats all of my browser hotkeys, awesome

[20:42:40.0000] <zewt>
alt-d? ctrl-t? nope sorry

[05:54:45.0000] <veosotano>
hello

[14:27:04.0000] <Hixie>
how should "01.5b" vs "1.50a" sort relative to each other

[14:27:05.0000] <Hixie>
?

[14:28:02.0000] <Hixie>
or maybe "01.5b", "1.50a", and "2e-5" would be better examples

[14:28:29.0000] <Hixie>
clearly the third of those comes first, i hope we all agree

[14:28:35.0000] <Hixie>
but which of the next two? and why?

[14:53:03.0000] <zewt>
for direct sorts, with nothing to give a particular interpretation, i'd go with a simple sort, so 01.5b < 0.2 < 1.50a

[14:53:50.0000] <zewt>
er, didn't check the sort order on . above, but you get what i mean

[14:54:39.0000] <zewt>
"natural" sorts are useful ("foo 1 bar" < "foo 2 bar" < "foo 10 bar") are useful, but probably not always wanted

[15:00:35.0000] <zewt>
(maybe in this case a natural sort might be a better default, if it's not always known what the type of the data is, but i'd hope there'd still be a plain sort available)

[15:55:01.0000] <Hixie>
well that's an interesting point

[15:55:44.0000] <Hixie>
hmmmmm

[15:55:58.0000] <Hixie>
i don't want to try to specify a natural sort, that seems like a lot of work :-P


2012-12-26
[16:06:27.0000] <zewt>
it's not too hard, typically just means treating number-like things as a single token

[16:07:19.0000] <zewt>
so "a1.2b" becomes a, 1.2, b, so numbers in the same logical position can compare as numbers instead of characters

[16:07:59.0000] <zewt>
don't know enough about locale-specific collation rules to know how it intersects with that, though

[16:09:27.0000] <zewt>
(and i'm sure there are smarter ways of doing it; that's just how I've done it)

[16:31:14.0000] <Hixie>
zewt: so split on spaces and then compare each as float if it parses as such (ignoring trailing garbage) and as string otherwise? seems non-ideal...

[16:31:17.0000] <Hixie>
bbiab

[16:49:53.0000] <zewt>
Hixie: no, search for digits (optionally followed by a period and other digits) and parse as float always

[16:50:41.0000] <zewt>
(exponential notation isn't very interesting in practice so i wouldn't support it here, nor inf, nan, etc)

[16:52:46.0000] <Philip`>
(What about negative numbers?)

[16:52:56.0000] <zewt>
when i've implemented it i only had to deal with integers, floats probably make it a bit trickier (eg. what do you do with "1.2.3")

[16:53:51.0000] <zewt>
Philip`: "-" < "0" (at least in ASCII, couldn't say about various locales), so that just works

[16:54:15.0000] <zewt>
(assuming number tokens sort at the same position as "0" relative to other strings)

[22:31:33.0000] <karlcow>
Are there geo examples of microformats using the data element?

[22:36:29.0000] <karlcow>
/me finds in <data class="latitude" value="38.769359">38° 46' 9.692"</data> in http://tantek.com/presentations/2012/09/microformats2/

[22:36:38.0000] <karlcow>
hmm not working for my pattern

[23:36:02.0000] <Hixie>
really not sure what to do about this number detection thing

[23:36:20.0000] <Hixie>
i don't want to only do numbers if it matches the valid float syntax, because then %s don't sort right

[23:39:20.0000] <Hixie>
i guess we could sort on float if it matches float, and otherwise split around things matching /[-+]?(?:[0-9]+(?:\.[0-9]*)?|[0-9]*\.[0-9]+)(?!\.)/

[23:44:23.0000] <Hixie>
maybe /(?:[-+]?(?:[0-9]+(?:\.[0-9]*)?|[0-9]*\.[0-9]+)(?!\.)|[0-9]+)/ ...

[23:44:35.0000] <Hixie>
though that'd be a pain to explain in the spec

[09:04:13.0000] <zewt>
hmm, trying to think of a way to do natural sorting that both deals with "1.2.3" in a predictable way, while treating 1.2 as a float (000001.200000) instead of a version number (000001.000002)

[09:05:04.0000] <zewt>
one way would be to split on digit boundaries (eg. treat strings of digits as a single token, parsing out integers), and to sort them as if they have an infinite number of 0s prefixed, unless the previous token was a '.', in which case the 0s are appended

[09:05:34.0000] <zewt>
which means 1.2.3 would be sorted as if it was 000001.200000.300000 ... which isn't perfect, but not terrible

[09:45:30.0000] <zewt>
geh, youtube somehow making copy-link-location copy a different link than firefox shows, which shouldn't be possible

[09:45:51.0000] <zewt>
nothing quite as obnoxious as pasting a link to someone and having it be a tracking link instead of the one you copied

[11:28:39.0000] <GPHemsley>
zewt: Probably the difference between onclick and href

[11:29:39.0000] <zewt>
i right clicked, closed the context menu and repeated a couple times and it still showed the original link

[11:30:02.0000] <zewt>
i didn't look much closer, except to notice it didn't seem to happen in chrome

[11:54:20.0000] <Hixie>
so i want [float] [units] to sort on float, and either ignore units or subsort on string, and i want a series of integers separated by punctuation to sort on those integers, and everything else i think i'm ok with doing as a string

[11:57:05.0000] <zewt>
seems lame if "10 foo" sorts as a number, but "foo 10" sorts as a string

[11:57:25.0000] <Hixie>
sorting [units] [float] as a number would be fine too

[11:57:44.0000] <zewt>
or "foo 10 bar 20"

[11:57:52.0000] <zewt>
("episode 10 part 2")

[11:58:21.0000] <Hixie>
i don't feel strongly about that one. you can pretty easily fake it in a <data value="" attribute

[11:58:28.0000] <Hixie>
if there's an easy algorithm that gets that oo, then ok

[11:58:31.0000] <Hixie>
too

[11:59:10.0000] <zewt>
i've done that, basically by picking a range and pre-expending numbers (so you get the above "000001.200000" sort of thing); it works decently but doesn't generalize (since you have to pick a maximum length in advance)

[12:00:25.0000] <zewt>
i sort of like how the above algorithm works out, the results of the 1.2.3 case is a little unobvious though which is annoying

[12:00:52.0000] <Hixie>
you can use the thing tab blogged about to not have to zero-pad

[12:01:01.0000] <zewt>
url?

[12:01:22.0000] <Hixie>
i do not recall

[12:01:26.0000] <zewt>
(note the zero-padding in my algorithm sketch above is conceptual--presumably you wouldn't actually allocate an infinite-length string)

[12:01:46.0000] <Hixie>
http://www.xanthir.com/blog/b4K70 probably

[12:02:20.0000] <zewt>
that's cute, but it looks like it only works if you're only sorting numbers against other numbers

[12:10:07.0000] <gsnedders>
CPU /stuck/ to heatsink. never seen that before. Eventually twisted it off, but knocked a couple of pins.

[12:10:10.0000] <gsnedders>
This is gonna be fun.

[12:10:45.0000] <Hixie>
i had the opposite problem the other day

[12:11:01.0000] <Hixie>
an ancient box i was using as a network logger had its heatsink fall clean off

[12:11:19.0000] <zewt>
gsnedders: i found it amusing that intel moved the pins from the cpu to the motherboard

[12:11:22.0000] <Hixie>
first i heard of it was when i picked up the box and heard a "clunk" as the heatsink crashed around the inside

[12:11:29.0000] <zewt>
which has the effect of moving warranty costs from intel to the motherboard manufacturers

[12:12:01.0000] <Hixie>
(didn't bother trying to save it, just sent the box to be recycled)

[12:12:23.0000] <gsnedders>
What I really want to bend the pins is a tiny screwdriver. Don't think there's one at my parents', however. :|

[12:12:38.0000] <gsnedders>
Ah, I'm trying to get this out of one computer to upgrade BIOS of new motherboard.

[12:15:19.0000] <gsnedders>
But the more I look the more pins I seem to have bent freeing it, depsite grabbing it by the side to free it (it came out all at once from the motherboard with the heatsink, without much force — never clamped down?).

[12:25:35.0000] <gsnedders>
Down to a single pin out of place, but I'm not sure I can get this back in place without bending another twenty. Eek!

[12:26:47.0000] <Hixie>
how important can it possibly be to have all the pins straight

[12:26:55.0000] <Hixie>
surely it'll work fine with one pin missing

[12:27:08.0000] <gsnedders>
Why have the pin there, then?

[12:27:14.0000] <Hixie>
redundancy

[12:27:24.0000] <Hixie>
(for the record, i'm being a smart ass, don't actually ignore the one pin...)

[12:27:41.0000] <gsnedders>
(For the record, I've been around Hixie long enough to realize)

[12:27:42.0000] <gsnedders>
:)

[12:27:48.0000] <Hixie>
just checking :_P

[12:29:02.0000] <Hixie>
ah, apparently we were overdue for our lake delivery

[12:29:08.0000] <gsnedders>
I think I've just gone from one pin being flat on the CPU to another being. I think this may be a lost cause. :(

[12:29:26.0000] <Hixie>
and the delivery guys decided to just drop it all at once in an air delivery

[12:29:56.0000] <Hixie>
gsnedders: it's not a lost cause until you snap one

[12:30:36.0000] <gsnedders>
Hixie: On the other hand, a £50 CPU is not worth the amount of time it might well take to sort this out.

[12:30:54.0000] <Hixie>
what cpu is it?

[12:31:58.0000] <gsnedders>
Phenom II 840

[12:32:23.0000] <gsnedders>
As said, trying to just put it in new motherboard to upgrade BIOS. Bah, the problems of buying new CPUs!

[12:32:38.0000] <gsnedders>
And I've never had taking CPUs in/out be any issue before. :|

[12:41:50.0000] <gsnedders>
Just as I'm about to give up and buy a Sempron to replace it (in what is theoretically my mother's computer, though she never uses any), I get the crushed pin.

[12:47:14.0000] <zewt>
hmm, that comparison algorithm means sorting numbers isn't stable ("2" < "2.0"), which is lame

[12:47:30.0000] <zewt>
or rather, it has an ordering where it shouldn't

[12:47:43.0000] <zewt>
oh well

[12:49:18.0000] <Hixie>
which one?

[12:49:58.0000] <zewt>
the "digit boundaries" one

[12:50:04.0000] <Hixie>
ah

[12:50:12.0000] <Hixie>
yeah, i don't think that approach works

[12:50:12.0000] <zewt>
tried implementing it to see what the quirks were, and that's a bad one

[12:50:19.0000] <Hixie>
in particular, i want to support real floats

[12:50:49.0000] <zewt>
having a consistent sort order (that doesn't do different things depending on where in the string you are, etc.) seems way more useful in general than supporting things like scientific notation

[12:51:08.0000] <Hixie>
man, AMD has a lot of processors

[12:51:13.0000] <Hixie>
i had no idea how out of date i was with this stuff

[12:51:22.0000] <zewt>
heh i stopped paying attention to processors a long time ago

[12:51:27.0000] <zewt>
things are fast enough

[12:51:47.0000] <Hixie>
"things" are by a _long_ shot not "fast enough" :-)

[12:51:58.0000] <zewt>
things have been way more than fast enough years ago :P

[12:52:07.0000] <zewt>
all i want now is things to be cooler

[12:52:12.0000] <gsnedders>
AMD's processors are nowadays only worth their cost if you don't care about single-threaded perf

[12:52:22.0000] <Hixie>
but the processors seem to have reached a point of diminishing returns in terms of raw GHz

[12:54:35.0000] <zewt>
also if a user really wants to sort things that are in scientific notation, he can always expand the number in an explicit sort key

[12:55:04.0000] <zewt>
(well, up to a point, I guess; 1e50000 wouldn't exactly be reasonable)

[12:55:28.0000] <zewt>
though some variant on tab's thing might work there

[13:23:10.0000] <Hixie>
/me wonders when he's supposed to invoke the sorting algorithm

[13:31:32.0000] <gsnedders>
Inevitably, eventually one pin broke :(

[14:08:54.0000] <annevk>
Hixie: http://sourcefrog.net/projects/natsort/

[14:09:04.0000] <annevk>
Hixie: maybe Unicode has defined sorting somewhere?

[14:10:10.0000] <Hixie>
annevk: quick comments on DOM while you're here: there are some <li>s that start with a lowercase "q" (queue a mutation record), and setAttribute()'s last <li> points to Append not Change

[14:13:30.0000] <annevk>
thanks

[14:13:57.0000] <Hixie>
natsort doesn't do floating point, unfortunately

[14:14:00.0000] <Hixie>
maybe that's ok...

[14:14:18.0000] <annevk>
https://github.com/whatwg/dom/commit/e7ce6fcc982ec4d0af6e59f22688c73f0d143c29

[14:15:18.0000] <annevk>
It does say "Leading zeros are not ignored, which tends to give more reasonable results on decimal fractions." and "1.001 < 1.002 < 1.010 < 1.02 < 1.1 < 1.3" which seems promising

[14:15:31.0000] <Hixie>
yeah (i meant things like 1.5)

[14:15:33.0000] <Hixie>
er

[14:15:35.0000] <Hixie>
1e5

[14:15:40.0000] <Hixie>
dvorak typo

[14:15:54.0000] <zewt>
i'm pretty sure it's possible to define a reasonably simple collation algorithm to get natural sorting with floats, but it'll probably have edge cases, since there's no intuitive ordering when you're mixing "1.2" floats and "1.2.3" not-floats

[14:17:39.0000] <annevk>
Hixie: handling that but not 2<sup>5</sup> seems weird

[14:17:55.0000] <zewt>
imo, trying to handle scientific notation when you don't know for sure that you have a float doesn't make much sense, since you have all kinds of false positives, like say a uuid that happens to be "12e59125-...."

[14:18:04.0000] <Hixie>
1e5 is supported in other places in HTML already, that's why I would like to support it

[14:18:41.0000] <Hixie>
i think maybe supporting it only when it's the value of <data value> might work?

[14:18:45.0000] <annevk>
this is user-facing text though

[14:18:47.0000] <Hixie>
but maybe we just forget about e

[14:19:21.0000] <zewt>
i'd only do it if there's some kind of context to actually say it's a float

[14:19:34.0000] <zewt>
<data value=1e5 type=float> or whatever

[14:20:13.0000] <zewt>
(if it's worth supporting at all)

[14:27:35.0000] <annevk>
at that point you might as well write <data value=100000>1e5</data>

[14:28:03.0000] <Hixie>
that becomes less plausible for things like 1e-27

[14:28:07.0000] <annevk>
of course with larger numbers that might get annoying

[14:28:08.0000] <zewt>
well, that doesn't work if you have 1e50000, but i think you can do that by normalizing it and having something like value="50000x1"

[14:28:20.0000] <Philip`>
/me wonders what Wikipedia does for its sortable tables

[14:29:14.0000] <annevk>
Philip`: http://en.wikipedia.org/wiki/Help:Sorting

[14:29:22.0000] <annevk>
seems they have a way to indicate the type

[14:29:35.0000] <annevk>
data-sort-type=""

[14:30:03.0000] <annevk>
sorted="1 reversed number"

[14:30:12.0000] <annevk>
Hixie: ^^

[14:30:29.0000] <Hixie>
yeah, that's always an option

[14:30:32.0000] <Hixie>
feels like a copout though

[14:30:37.0000] <Hixie>
and we don't need it to deal with <time>

[14:31:17.0000] <annevk>
dealing with "e" and not with the many ways people represent numbers around the globe might be a copout too though

[14:31:42.0000] <annevk>
ah yeah, seems Wikipedia has it mostly for <time>

[14:31:44.0000] <Hixie>
dealing with "e" (which i think i've bailed on) is just because that's already an HTML data format

[14:32:29.0000] <zewt>
Hixie: how automatic are you aiming for things to be? "1,001" < "1000"?

[14:33:20.0000] <Hixie>
i don't plan on dealing with non-HTML data formats (non-. decimal, thousands separators)

[14:33:31.0000] <rniwa>
annevk: yt?

[14:33:43.0000] <annevk>
rniwa: yup

[14:33:53.0000] <rniwa>
annevk: have a question about HTMLCollection & HTMLFormsCollection

[14:34:09.0000] <annevk>
/me hides

[14:34:11.0000] <rniwa>
annevk: what should document.forms[0].length return when there is <input name="length"> in the first form?

[14:34:15.0000] <zewt>
other decimals don't seem too out there as long as there's a lang tag, but since I'm annoyed by their existance in the first place i'm not going to argue that very hard, heh

[14:34:34.0000] <rniwa>
annevk: it appears that document.forms[0].elements.length != document.forms[0].length on Opera & ToT WebKit

[14:34:51.0000] <zewt>
(let cultures who won't admit that they've lost the decimal separator war use explicit sort keys)

[14:34:59.0000] <rniwa>
annevk: whereas document.forms[0].elements.length === document.forms[0].length on old WebKit & Firefox

[14:35:43.0000] <annevk>
rniwa: the latter meaning it's the actual length and not a control named that way?

[14:36:07.0000] <rniwa>
annevk: document.forms[0].elements.length returns the matched element in all cases

[14:36:23.0000] <rniwa>
annevk: document.forms[0].length is the matched element on ToT WebKit & Opera

[14:36:37.0000] <rniwa>
annevk: but it's the actual number of matched elements on Firefox

[14:37:10.0000] <rniwa>
annevk: i can't find any text in the spec where this behavior difference is made explicitly :/

[14:37:11.0000] <annevk>
rniwa: per spec neither interface has OverrideBuiltIns...

[14:37:20.0000] <rniwa>
annevk: :(

[14:37:26.0000] <Hixie>
zewt: this is like how cultures who have lost the language war should write everything in the world's most common language?

[14:37:49.0000] <zewt>
bit of a different learning curve :)

[14:38:01.0000] <annevk>
rniwa: given http://dev.w3.org/2006/webapi/WebIDL/#OverrideBuiltins it sounds like you're saying that should at least appear on HTMLFormsCollection

[14:38:11.0000] <annevk>
rniwa: which is an interface specified by HTML btw

[14:38:49.0000] <annevk>
rniwa: personally I'd like to defer to arv_ on this as he prolly has an informed opinion where I just like browsers to agree with each other :)

[14:39:03.0000] <rniwa>
arv_: ping?

[14:40:19.0000] <annevk>
Hixie: need to support sorting for Roman numerals :)

[14:40:57.0000] <Hixie>
we support sorting for them... just using an order that the romans may have found a little surprising, that's all

[14:42:02.0000] <zewt>
Hixie: btw. are you thinking of sorting floats actually parsed as floats (limited precision), or as arbitrary-precision floating-point strings (what I'd expect)?

[14:42:16.0000] <zewt>
(i'd assume the latter but just checking)

[14:42:20.0000] <rniwa>
annevk: oh, HTMLFormElement DOES have OverrideBuiltins.

[14:42:24.0000] <Hixie>
zewt: not sure what you are asking

[14:42:27.0000] <rniwa>
annevk: so maybe Firefox's behavior is right here.

[14:42:39.0000] <Hixie>
rniwa: do not assume the spec is correct

[14:43:04.0000] <zewt>
('0.' + '0'*1000000 + '1') < ('0.' + '0'*1000000 + '2')

[14:43:16.0000] <rniwa>
Hixie: well but we have a compat. issue

[14:43:23.0000] <rniwa>
Hixie: we can't have OverrideBuiltins on HTMLFormControlsElement

[14:43:29.0000] <annevk>
rniwa: that does not explain document.forms[0].elements.length not returning a the number of elements

[14:43:37.0000] <rniwa>
annevk: ugh... HTMLFormControlsCollection*

[14:43:44.0000] <rniwa>
annevk: yeah, it's our bug

[14:43:57.0000] <rniwa>
annevk: it's a regression i introduced :/

[14:44:01.0000] <rniwa>
annevk: so i need to fix that.

[14:44:15.0000] <annevk>
rniwa: where does HTMLFormControlsCollection have OverrideBuiltins?

[14:44:25.0000] <rniwa>
annevk: it doesn't.

[14:44:31.0000] <annevk>
okay

[14:44:38.0000] <rniwa>
annevk: so Firefox's correct

[14:44:46.0000] <rniwa>
annevk: and ToT WebKit & Opera have bugs

[14:44:58.0000] <rniwa>
annevk: maybe you can talk to your old colleagues to fix Opera :D ?

[14:45:02.0000] <Hixie>
how are you defining "have bugs"?

[14:45:10.0000] <Hixie>
that is, how are you determining what's correct?

[14:45:13.0000] <rniwa>
Hixie: we have a compat. issue filed against us

[14:45:19.0000] <Hixie>
ah, ok

[14:45:23.0000] <Hixie>
does firefox not?

[14:45:26.0000] <annevk>
rniwa: hmm you said document.forms[0].elements.length === document.forms[0].length was true in Firefox

[14:45:26.0000] <rniwa>
Hixie: HTMLFormControlsCollection can't have builtin overrides

[14:45:42.0000] <annevk>
rniwa: which if only the latter has OverrideBuiltins, does not make sense

[14:45:50.0000] <rniwa>
Hixie: Firefox implements it correctly by "length" element not overriding "length" property on HTMLFormControlsCollection

[14:46:00.0000] <rniwa>
annevk: no.

[14:46:07.0000] <Hixie>
rniwa: i understand that webkit is wrong, i'm just curious how you're determining that firefox is right

[14:46:11.0000] <rniwa>
annevk: document.forms[0].elements.length === document.forms[0].length on ToT WebKit & Firefox

[14:46:28.0000] <rniwa>
annevk: ugh...

[14:46:33.0000] <rniwa>
document.forms[0].elements.length === document.forms[0].length on ToT WebKit & Opera :(

[14:46:38.0000] <annevk>
aaah

[14:46:55.0000] <rniwa>
annevk, Hixie: and document.forms[0].elements.length = number of elements and document.forms[0].length = "length" element.

[14:46:58.0000] <rniwa>
sorry about the confusion

[14:47:15.0000] <annevk>
okay then yeah, if you hit compat issues the spec is correct

[14:47:22.0000] <rniwa>
Hixie: the way I determined is that i know that "document.forms[0].length" had to be "length" element because I remember seeing a Web compat. issue relating to that before

[14:47:35.0000] <annevk>
jgraham: fix it ^^

[14:47:46.0000] <rniwa>
Hixie: and we just got a Web. compat. issue relating to my regression that effectively added BuiltinOverride to HTMLFormControlsCollection.

[14:48:08.0000] <Hixie>
rniwa: k

[14:48:10.0000] <rniwa>
Hixie: which means DOM4 & HTML5 specification got BuiltinOverride-ness of these two objects right :)

[14:48:27.0000] <Hixie>
s/[45]// :-)

[14:48:44.0000] <zewt>
what about html5.1???

[14:49:25.0000] <rniwa>
Hixie, annevk: but seriously, how are we supposed to our children we've made up such a complex & convoluted system of APIs :/

[14:49:53.0000] <Hixie>
we didn't

[14:49:56.0000] <Hixie>
:-)

[14:50:01.0000] <zewt>
not on purpose, anyway

[14:50:13.0000] <Hixie>
we just specified what came before, and tried to extend it as carefully as possible

[14:50:16.0000] <rniwa>
zewt: i hope nobody is making up very complex APIs on purpose...

[14:50:32.0000] <gsnedders>
We're just making APIs that are Java-esque

[14:50:32.0000] <Hixie>
(all successful platforms are a disaster... win32 is the other great example)

[14:50:33.0000] <rniwa>
zewt: that'll be quite evil of "epic" proportion

[14:50:41.0000] <zewt>
not exactly

[14:50:54.0000] <zewt>
only if you're making it more complex than the problem requires

[14:51:25.0000] <Hixie>
why on earth does dragon age origins need root access to install

[14:53:06.0000] <gsnedders>
Because why not?

[14:53:29.0000] <Hixie>
burden of justification is on the side of that which wants root, i feel

[15:06:37.0000] <Hixie>
uh

[15:06:55.0000] <Hixie>
wtf

[15:07:07.0000] <Hixie>
html5lib failed on me in a new and unexpected manner

[15:09:08.0000] <Philip`>
Hixie: Maybe because users get confused if you don't install into C:\Program Files, and you need admin privileges to install there

[15:09:24.0000] <Hixie>
this is a mac

[15:09:35.0000] <Philip`>
Oh, no idea then

[15:09:47.0000] <Hixie>
i suspect your answer is more true than it should be though

[15:09:53.0000] <Hixie>
that is to say, that it was a poor port

[15:17:15.0000] <zewt>
maybe a favorable reason than "the installer wants to watermark your system for one-shot activation"

[15:20:19.0000] <Hixie>
doubt it, the license under which i got it from amazon allows me to install on any number of computers

[15:35:06.0000] <Hixie>
what should the CSS be for sorted="" ?

[15:35:16.0000] <Hixie>
or sorted tables in general?

[15:41:22.0000] <tantek>
isn't sorting more of a transform than a styling?

[15:41:35.0000] <tantek>
what's the XSLT for sorted tables? ;)

[15:43:06.0000] <annevk>
Hixie: there should be a pseudo-element for the triangle (if any) and some pseudo-class (or maybe [sorted] is enough, depending on how things get defined)

[15:43:40.0000] <tantek>
like the ::marker ?

[15:43:48.0000] <Hixie>
tantek: typically sorted tables have some sort of indication that they are sorted

[15:43:52.0000] <Hixie>
that's styling

[15:44:06.0000] <tantek>
like an underlined column header?

[15:44:13.0000] <Hixie>
annevk: i figure ::after is probably enough, if we want a triangle

[15:44:20.0000] <Hixie>
annevk: but yeah, i think we need a pseudo-class

[15:44:39.0000] <tantek>
:sorted(order)

[15:44:44.0000] <annevk>
Hixie: if the specification suggests ::after is used that seems fine

[15:44:57.0000] <tantek>
where order is a number indicated primary, secondary, tertiary etc. sort

[15:45:01.0000] <tantek>
1,2,3 etc.

[15:45:06.0000] <Hixie>
so do i just make up a pseudo-class and define it, or does it need to go in some syntax spec or something

[15:45:14.0000] <Hixie>
tantek: use case for the argument?

[15:45:27.0000] <tantek>
reflects the model in the spec

[15:45:33.0000] <Hixie>
that's not a use case :-)

[15:45:33.0000] <annevk>
Hixie: I'd coordinate with Elika and Tab on getting it in Selectors 4

[15:45:41.0000] <Hixie>
annevk: k

[15:45:44.0000] <tantek>
I'm assuming you put in multiple sort orders in the markup aspect

[15:45:48.0000] <tantek>
if not, then leave it out no prob

[15:45:51.0000] <Hixie>
anyone know if there's a bug component for selectors?

[15:46:03.0000] <annevk>
I think there might be

[15:46:08.0000] <tantek>
likely

[15:46:10.0000] <Hixie>
tantek: there's support for multiple keys, but i don't know of any rendering use case for indicating them

[15:46:18.0000] <tantek>
/me looks at iTunes

[15:46:29.0000] <annevk>
yup

[15:46:30.0000] <annevk>
https://www.w3.org/Bugs/Public/buglist.cgi?product=CSS&component=Selectors

[15:47:00.0000] <Hixie>
sweet

[15:47:14.0000] <tantek>
Hixie http://tablesorter.com/docs/

[15:47:27.0000] <tantek>
http://tablesorter.com/docs/#Demo in particular

[15:47:28.0000] <annevk>
for the arrow the pseudo-class needs at least asc/desc

[15:47:49.0000] <Hixie>
annevk: [sorted=~reversed] should be enough for that

[15:48:05.0000] <tantek>
shows some styling for multiple column sorting

[15:48:18.0000] <Hixie>
annevk: the problem is that there doesn't seem to be a way to match an attribute that doesn't contain a keyword that matches [0-9]+

[15:48:19.0000] <tantek>
given that someone has built a jQuery library for it, might as well. that's good enough of a cowpath IMO>

[15:49:07.0000] <Hixie>
man, that ui is wacked

[15:49:34.0000] <tantek>
another example: http://www.datatables.net/examples/basic_init/multi_col_sort.html

[15:49:50.0000] <tantek>
Hixie, feel free to spec/build a better one ;)

[15:50:14.0000] <Hixie>
i'm thinking only the primary key matches :sorted

[15:50:26.0000] <annevk>
Hixie: seems nicer if you can do :sorted(ascending) :sorted(descending) then play with [sorted=~reversed] and its negation...

[15:50:27.0000] <Hixie>
and if they want more, then can use [sorted] stuff

[15:50:33.0000] <Hixie>
annevk: yeah, probably

[15:50:40.0000] <zewt>
(not the "if you can't do better then you should do this, even if it's bad" argument I hope, heh)

[15:51:41.0000] <zewt>
multiple sort keys are usually not something exposed directly to users in my experience, but rather an automatic side-effect of sort orders provided by the author--so I generally wouldn't expect to see a UI for them

[15:59:11.0000] <tantek>
sounds like http://rationalwiki.org/wiki/Argument_from_incredulity

[15:59:21.0000] <zewt>
...

[15:59:29.0000] <Hixie>
filed https://www.w3.org/Bugs/Public/show_bug.cgi?id=20522

[15:59:45.0000] <tantek>
in particular http://rationalwiki.org/wiki/Argument_from_incredulity#Personal_incredulity


2012-12-27
[16:00:18.0000] <tantek>
general problem with arguments of the form "not something … in my experience"

[16:00:58.0000] <zewt>
(sorry, i just don't think this is worth replying to)

[16:02:18.0000] <Hixie>
ok, critics, start your engines: http://www.whatwg.org/specs/web-apps/current-work/#table-sorting-model

[16:02:44.0000] <zewt>
i need to hack something up in firefox so if it ever is about to load the html spec, it punts the url to chrome

[16:03:34.0000] <annevk>
Hixie: what might be kind of unexpected is that setting a sorted attribute and then removing it will not return the table to its original state

[16:03:52.0000] <Hixie>
that is true, but i have no idea how to change that

[16:04:55.0000] <tantek>
per http://utminers.utep.edu/omwilliamson/ENGL1311/fallacies.htm - Ad Hominem Argument  "[…] Also applies to cases where potential opposing arguments are brushed aside without comment or consideration, as *simply not worth arguing* about"

[16:05:10.0000] <annevk>
Hixie: crazy idea: sort the render boxes

[16:05:28.0000] <annevk>
nn

[16:05:46.0000] <Hixie>
yeah, i considered that

[16:05:53.0000] <Hixie>
nn

[16:06:33.0000] <annevk>
oh, and before I forget, happy b-day!

[16:06:37.0000] <Hixie>
thanks :-)

[16:06:59.0000] <tantek>
Hixie, today's your b-day? Happy b-day!

[16:07:06.0000] <Hixie>
today in europe

[16:07:08.0000] <Hixie>
tomorrow here

[16:07:30.0000] <tantek>
UTC?

[16:07:34.0000] <Hixie>
27th

[16:11:57.0000] <Hixie>
if anyone here has IE, could you let me know what the Log says on this page? http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2047 (any version of IE will do)

[16:14:35.0000] <zewt>
log: false

[16:14:36.0000] <zewt>
log: 1000

[16:14:36.0000] <zewt>
log: false

[16:14:36.0000] <zewt>
rendering mode: CSS1Compat

[16:14:36.0000] <zewt>
document has no title

[16:14:38.0000] <zewt>
log: true

[16:14:40.0000] <zewt>
ie9

[16:14:42.0000] <Hixie>
thanks

[16:25:21.0000] <gsnedders>
Hixie: Happy birthday, in the unlikely circumstance you are in this part of the world!

[16:29:23.0000] <Hixie>
thanks :-)

[17:18:39.0000] <Hixie>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=20524 <-- people with concrete ideas for how to sort, please comment here

[17:25:20.0000] <dydx>
annevk: you there?

[01:13:31.0000] <Ms2ger>
Did rniwa have tests for the OverrideBuiltins stuff?

[01:17:00.0000] <Ms2ger>
And happy birthday, Hixie

[03:24:02.0000] <annevk>
/me is here now....

[03:30:11.0000] <annevk>
Hixie: concept-node-remove is lacking a <dfn>

[03:30:25.0000] <annevk>
Hixie: what's also lacking is "tree order" where you invoke it

[03:30:40.0000] <annevk>
Hixie: that's kinda important for the mutation records that will be created

[03:31:19.0000] <annevk>
Hixie: did you dismiss sorting layout boxes because Selectors would be fucked? that was a pretty big negative I could think of

[03:39:43.0000] <Velmont>
So IIUC   <table sortable><tr sorted=1>Age <tr sorted=2>Name    to sort by Age, then Name? :-)

[03:39:47.0000] <annevk>
Hixie: <td><time datetime="2011">MMXIV</time> metadata mismatch

[03:40:30.0000] <annevk>
Velmont: if you add a <tr> and change your tr to th, yes

[03:41:10.0000] <Velmont>
Uh, yeah. I didn't mean to write that...   <table sortable><tr><th sorted=1>Age <th sorted=2>Name

[03:41:27.0000] <Velmont>
Let's blame early morning etc :S :D

[03:43:16.0000] <annevk>
Hixie: #type-and-value-of-the-cell should also ignore ProcessingInstruction I think

[03:43:42.0000] <annevk>
Velmont: early? yeah...

[03:46:21.0000] <annevk>
Hixie: disregard the earlier comment on concept-node-remove...

[03:46:32.0000] <annevk>
/me forgot to refresh

[03:47:17.0000] <Velmont>
annevk: Well, I just woke up at least :-)  I wonder how we'll render the "sorted by first, second" hints.  Some authors inevitably want to override that as well.

[03:48:23.0000] <annevk>
Velmont: idea yesterday was to only show the primary key in the UI, put the arrow in ::after, and have some kind of pseudo-class that applies to the <th> element that is the primary key

[03:51:08.0000] <Velmont>
annevk: There's bound to be lots of confusion by that.  E.g. using the Django admin, which has that functionality already (but serverside), it shows 1>  2>  when you have sorted on several, and you can remove the sort by clicking on it again.

[03:52:00.0000] <Velmont>
Either the sort should only do one-column when invoked by the user, -- so that clicking a new header would cancel the old one.  Or it needs UI.

[04:07:03.0000] <Ms2ger>
Hey Velmont, want to write some tests? :)

[04:07:57.0000] <Ms2ger>
Anne here had an interesting conversation about OverrideBuiltins yesterday

[04:23:11.0000] <Velmont>
Ms2ger: Working on MediaGoblin right now. :]

[04:43:59.0000] <annevk>
I think I'm finally learning enough about JavaScript to understand where Alex is coming from...

[04:44:12.0000] <annevk>
new document.constructor not working is indeed kinda odd

[06:52:38.0000] <annevk>
I wonder if there's some way we could make a custom sort comparator work by executing the callback in some kind of sandboxed environment...

[06:53:04.0000] <annevk>
But maybe that's too much complexity for little gain...

[09:25:58.0000] <zewt>
annevk: workers are pretty much our sandboxed environment (but yeah, that'd be very complex)

[09:28:01.0000] <jwalden>
/me is reminded of a testcase he needs to write/patch, maybe

[10:31:02.0000] <Hixie>
annevk: concept-node-remove has a dfn as far as I can tell, did I make a mistake?

[10:33:29.0000] <Hixie>
Velmont: you can do the rendering of hints for subkeys using [sorted=~"2"] etc

[10:34:02.0000] <Hixie>
annevk: the comparator needs access to the HTMLTableCellElements, unfortunately, which pretty much precludes any sandboxing

[11:05:13.0000] <jwalden>
any spec experts on GSP and maybe WebIDL such around?  I'm wondering what's supposed to be the specified printout for http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2049 -- would guess .constructor would be directly on |window|, and the frame-name would only appear if property lookup hit the GSP, which it thus wouldn't, but that's pure guesswork

[11:05:31.0000] <jwalden>
right now it appears engines save for WebKit print [object Window]

[11:06:26.0000] <Ms2ger>
Correct, I think

[11:08:10.0000] <jwalden>
one of my patches removing a use of JSRESOLVE_ASSIGNING I think fixes this for Gecko, noticed while thinking about testcase-writing and such

[11:08:39.0000] <Ms2ger>
/me looks

[11:08:42.0000] <jwalden>
interesting to note that window.constructor in WebKit isn't a function, apparently

[11:08:45.0000] <Ms2ger>
I might have a test for this...

[11:08:46.0000] <jwalden>
I haven't posted the patch yet

[11:08:59.0000] <jwalden>
because of not-tested yet :-)

[11:09:16.0000] <jwalden>
well, not-automatic-testcase-tested yet :-)

[11:12:16.0000] <Ms2ger>
Hrm

[11:12:49.0000] <Ms2ger>
My test claims constructor should be an own property on Window.prototype

[11:13:56.0000] <jwalden>
erm, actually, yes, that's correcter behavior :-)

[11:14:27.0000] <jwalden>
as concerns that specific test I don't think it distinguishes, just that it's on an object before the GSP in |window|'s [[Prototype]] chain

[13:48:02.0000] <GPHemsley>
Emory University offers a continuing education class that teaches XHTML, described as "the newest version of HTML"

[13:50:01.0000] <jwalden>
could be an obsolescent description

[13:50:02.0000] <jwalden>
one hopes

[13:51:27.0000] <GPHemsley>
maybe

[13:51:33.0000] <GPHemsley>
I've seen it in multiple catalogs

[13:51:53.0000] <GPHemsley>
and the funny thing is, they also offer a separate class specifically for "HTML5"

[14:03:05.0000] <jwalden>
...

[14:13:19.0000] <annevk>
zewt: workers don't work because they're async

[14:14:51.0000] <annevk>
Hixie: could operate on textContent or some JSON-based tree... but yeah, very much not v1 material and prolly not at all until we get that for free somehow

[14:16:30.0000] <annevk>
Hixie: the concept-node-remove thing was my mistake, I forgot to reload

[14:17:42.0000] <annevk>
Hixie: there was some feedback on twitter too

[14:18:30.0000] <annevk>
Hixie: https://twitter.com/slicknet/status/284355352252805120 https://twitter.com/dascritch/status/284300438969405440 https://twitter.com/dstorey/status/284359061695250432

[14:19:34.0000] <annevk>
Hixie: or 1) are <th> elements in sortable tables focusable? 2) would like explicit typing to catch mistakes 3) can we have <ul sortable>?

[14:23:10.0000] <annevk>
Hixie: you forgot to fix <td><time datetime="2011">MMXIV</time> in the spec (metadata mismatch)

[14:29:45.0000] <annevk>
jwalden: looks like [NamedPropertiesObject] has a similar effect to [OverrideBuiltins] so it appears the spec would suggest it returns the Window object there

[14:30:18.0000] <jwalden>
ugh

[14:30:21.0000] <jwalden>
maybe

[14:33:56.0000] <annevk>
jwalden: sorry, I think http://dev.w3.org/2006/webapi/WebIDL/#getownproperty suggests I'm mistaken

[14:34:13.0000] <jwalden>
/o\^H^H^H\o/

[14:34:16.0000] <jwalden>
:-D

[14:35:19.0000] <annevk>
if you do window.constructor per ES you invoke [[GetOwnProperty]] of window?

[14:35:26.0000] <jwalden>
yeah, you should

[14:35:42.0000] <jwalden>
among other operations, depending

[14:35:44.0000] <annevk>
okay then yes, you would not hit the named property in this case

[14:36:34.0000] <annevk>
/me is trying to learn more of ECMAScript

[14:38:21.0000] <jwalden>
the algorithms for property lookups and gets and sets are...in flux, right now

[14:38:38.0000] <jwalden>
the newer algorithms that are going into ES6 are the ones you want to know more of, more or less

[14:39:04.0000] <jwalden>
but in most cases you have [[GetOwnProperty]] called on the object, then its [[Prototype]], and recursively until the property is found, at *some* point in each algorithm

[14:39:39.0000] <jwalden>
the [[GetOwnProperty]] on Window.prototype is what would find the .constructor === Window property

[14:39:54.0000] <jwalden>
well

[14:40:23.0000] <annevk>
do you know when https://people.mozilla.com/~jorendorff/es6-draft.html will be updated?

[14:40:28.0000] <jwalden>
annevk: "would not hit the named property" means would get .constructor === Window, or means it'd get the <iframe> window?

[14:40:38.0000] <jwalden>
annevk: unsure, I could ping him tho

[14:40:44.0000] <annevk>
jwalden: the former

[14:40:49.0000] <jwalden>
okay

[14:41:31.0000] <annevk>
jwalden: if you read that algorithm it says that for Window, which has [NamedPropertiesObject] it would use the "internal" [[GetOwnProperty]] method, which would never get the <iframe> of course...

[14:42:34.0000] <Hixie>
annevk: 1) haven't really figure that out yet, want implementor feedback (should the cell be focusable? the contents? some separate UI? obviously something needs to be focusable). 2) that seems like a general table problem, not sorting-specific. Would be nice though. See if hsivonen or MikeSmith want to support it... 3) How would that work?

[14:42:40.0000] <annevk>
ideally once ES6 is out heycam changes IDL to define thigns in terms of proxies or some such

[14:42:43.0000] <jwalden>
window wouldn't have anything in this case, Window.prototype would have .constructor === Window, the GSP would have .constructor === the iframe (maybe, not sure exactly if you can frob things just right to make that happen or not)

[14:42:47.0000] <Hixie>
don't understand "metadata mismatch"

[14:42:58.0000] <Hixie>
what metadata?

[14:43:05.0000] <Hixie>
oh you mean the data is inconsistent?

[14:43:09.0000] <jwalden>
well, as long as IDL hits all the [[Internal]] properties, I think it shouldn't need much tweaking

[14:43:17.0000] <annevk>
Hixie: 2011 != 2014

[14:43:31.0000] <jwalden>
the ES6 tweaks are to the algorithms that invoke those, I think

[14:43:46.0000] <annevk>
Hixie: I thought we'd call that kind of stuff hidden metadata

[14:44:04.0000] <Hixie>
just seems like data to me

[14:44:10.0000] <Hixie>
metadata is things like what type the data is

[14:44:36.0000] <Hixie>
so e.g. in that example, the <time> element is metadata (says that it's a time), and the contents of datetime and of the element are data.

[14:44:42.0000] <Hixie>
https://twitter.com/dascritch/status/284300438969405440 doesn't make sense to me

[14:54:15.0000] <annevk>
jwalden: so I don't understand the algorithm :/

[14:54:46.0000] <annevk>
jwalden: in particular reading http://dev.w3.org/2006/webapi/WebIDL/#getownproperty I don't understand how with [NamedPropertiesObject] declared you can ever end up returning a value based on a named property

[14:56:22.0000] <annevk>
Hixie: <ul sortable> I guess would work in the same way you sort a table, except you have only one column, not entirely convinced it's very useful though

[14:56:52.0000] <Hixie>
yeah i don't really see how that work work. why not just sort it on the server?

[14:57:07.0000] <Hixie>
if a browser wants to sort the list, they can, i mean, the spec says that's ok

[14:57:18.0000] <Hixie>
the whole point of <ol> is that the order doesn't matter to the page

[14:57:20.0000] <Hixie>
er

[14:57:21.0000] <Hixie>
<ul>

[15:46:23.0000] <jwalden>
annevk: ...yeah, I probably need to do some deep reading of that soon; not today, tho, out of time for the day


2012-12-28
[22:07:38.0000] <Hixie>
so if <menu type=button> is instead done by having <button type=menu menu=idofmenuelement>, i guess <menu type> should be either "toolbar" or "popup", rather than something and "context"

[01:39:59.0000] <annevk>
since you might style context menus differently you may want to have a different type for that

[02:23:00.0000] <baptistem>
o/

[02:24:08.0000] <baptistem>
I got a small issue with websocket, there is something that I should miss,

[02:25:50.0000] <baptistem>
when I lost the connection I try to see if the server is alive, if so I do a reconnection, but server side I see Two differents connections and I don't get how I can close correctly the connection

[02:31:06.0000] <annevk>
this is probably not the best channel to ask questions about the protocol or the server implementation

[02:31:25.0000] <annevk>
although I'm not aware of another one...

[02:31:41.0000] <baptistem>
ahah me nether, html say that html5 belong to here

[02:31:53.0000] <baptistem>
s/nether/neither (too much minecraft)

[02:57:18.0000] <annevk>
Ms2ger: you around?

[02:57:41.0000] <annevk>
Ms2ger: can you tell me how http://dev.w3.org/2006/webapi/WebIDL/#getownproperty works for the Window object?

[02:58:47.0000] <annevk>
baptistem: #html says to to go here for HTML5 questions? that beautiful :)

[02:58:51.0000] <annevk>
that's*

[02:59:19.0000] <baptistem>
#html just say  " HTML5 authored by #whatwg "

[03:07:47.0000] <annevk>
yeah, that's kinda true, but also not, we author "HTML" these days: http://blog.whatwg.org/html-is-the-new-html5

[03:08:32.0000] <annevk>
Ms2ger: I think I understand now

[03:09:00.0000] <annevk>
Ms2ger: not exactly trivial material

[03:09:18.0000] <baptistem>
oh I see, interesting

[03:10:56.0000] <baptistem>
but having a living standard won't be an issue for integration in web browser?

[03:14:13.0000] <annevk>
http://wiki.whatwg.org/wiki/FAQ#Will_future_browsers_have_any_idea_what_older_HTML_documents_mean.3F answers that to some extent

[03:15:15.0000] <annevk>
in any event, the WebSocket protocol was taken outside the WHATWG to the IETF and the people initially developing it stopped participating

[03:17:47.0000] <baptistem>
oh ok I see for wiki link

[03:18:32.0000] <baptistem>
when you say "the poeple initially developing" you mean people involved in WHATWG?

[03:19:14.0000] <Ms2ger>
annevk, good :)

[03:19:40.0000] <annevk>
baptistem: yeah

[03:27:07.0000] <Ms2ger>
annevk, window.[[GetOwnProperty]] wouldn't return a named property, no; window.__proto__.__proto__.[[GetOwnProperty]] would

[03:28:04.0000] <annevk>
two __proto__?

[03:28:40.0000] <Ms2ger>
Yep

[03:29:04.0000] <Ms2ger>
window.__proto__ is Window.prototype, window.__proto__.__proto__ is the global scope polluter

[03:31:46.0000] <annevk>
IDL says "However, when the [NamedPropertiesObject] extended attribute has been used, named properties are not exposed on the object but on the interface prototype object itself."

[03:32:00.0000] <Ms2ger>
/me frowns

[03:32:06.0000] <annevk>
which suggests window.prototype

[03:32:24.0000] <Ms2ger>
That's a lie

[03:32:40.0000] <annevk>
file a bug for me as I don't get it?

[03:32:45.0000] <Ms2ger>
Yeah

[03:35:15.0000] <Ms2ger>
http://dev.w3.org/2006/webapi/WebIDL/#interface-prototype-object says

[03:35:16.0000] <Ms2ger>
 The interface prototype object for a given interface A MUST have an internal [[Prototype]] property whose value is as follows:

[03:35:20.0000] <Ms2ger>
If A is declared with the [NamedPropertiesObject] extended attribute, then the value of the internal [[Prototype]] property of A is the named properties object for A, as defined in section 4.4.4 below.

[03:35:39.0000] <Ms2ger>
So that's proto.proto

[03:49:46.0000] <annevk>
how is that proto.proto?

[03:50:03.0000] <annevk>
Window is declared with that extended attribute

[03:50:19.0000] <annevk>
so Window.prototype would be the named properties object

[03:51:23.0000] <Ms2ger>
window's [[Prototype]] is the interface prototype object

[03:51:41.0000] <Ms2ger>
And the interface prototype object's [[Prototype]] is the named properties object

[03:53:13.0000] <annevk>
then that sentence is misleading

[03:53:53.0000] <annevk>
"then the value of the internal [[Prototype]] property of A is the named properties object for A" suggests A's [[Prototype]] not A's interface object's [[Prototype]]

[03:54:54.0000] <Ms2ger>
Yes, you're right

[03:55:12.0000] <Ms2ger>
Though I don't know what it would mean for an interface to have a [[Prototype]]

[03:56:54.0000] <Ms2ger>
/me files a bug

[03:59:10.0000] <annevk>
Typically when you say "determine the value as follows" you should just define the value and not restate some preceding condition

[03:59:15.0000] <Ms2ger>
Yeah

[06:29:47.0000] <annevk>
GitHub to Twitter bridge still seems broken :/

[06:45:43.0000] <annevk>
I think I need to introduce URL code points and redefine URL units to be either URL code points or percent-encoded bytes.

[06:45:57.0000] <annevk>
That way the definition of URL code points can be reused in the parser for conformance checking...

[10:32:42.0000] <Hixie>
annevk: well context menus can't be styled at all

[10:32:46.0000] <Hixie>
annevk: they're native

[10:50:34.0000] <Hixie>
if we support <button type=menu> do we also need to support the equivalent in <input>? i'm thinking no.

[11:07:10.0000] <Hixie>
if we remove toolbars created from Commands, there's really no point keeping the <command> element

[11:07:15.0000] <Hixie>
hmm

[15:45:33.0000] <Hixie>
anyone around want to check my menu changes?


2012-12-29
[16:49:58.0000] <gsnedders>
It amuses me how so many places are reporting the omission of DVD playback from Win8 as a result of saving the patent licensing fee, when they'll almost certainly be paying the capped limit anyway.

[17:03:13.0000] <Hixie>
anyone care about whether you can do separators in a context menu using <hr> rather than nesting a <menu>?

[17:04:07.0000] <zewt>
can you explain that a little for someone who hasn't been following closely enough?

[17:04:49.0000] <Hixie>
<menu type=popup><menuitem ...><hr><menuitem ...></menu>

[17:04:51.0000] <Hixie>
vs

[17:05:03.0000] <Hixie>
<menu type=popup><menuitem ...><menu><menuitem ...></menu></menu>

[17:05:18.0000] <Hixie>
(the latter will be supported either way, the question is whether to support the former)

[17:06:15.0000] <boogyman>
Hixie: what semantic meaning does the <hr> provide?

[17:06:24.0000] <Hixie>
"separator", same as its usual meaning

[17:06:26.0000] <zewt>
is this about whether to support divisions (eg. separation lines) between menu items, or just about how they're marked up?

[17:06:36.0000] <Hixie>
just about how they're marked u

[17:06:37.0000] <Hixie>
p

[17:06:52.0000] <zewt>
ok, havn't been following enough to have a meaningful opinion on that part

[17:07:10.0000] <Hixie>
gut opinions are fine too, i'll just give them appropriate weight -)

[17:07:12.0000] <Hixie>
:-) even

[17:07:45.0000] <zewt>
fwiw the <menu><menu> thing looks like a submenu to me, not two items at the same depth with a separator

[17:07:59.0000] <Hixie>
submenu would be <menu><menu label=submenu>

[17:08:30.0000] <Hixie>
if there's no label it just gets inserted directly in the parent with separators on either side

[17:08:57.0000] <boogyman>
Hixie: I cannot think of an instance where there's semantic value in an <hr>

[17:09:07.0000] <Hixie>
boogyman: the case here is one

[17:09:17.0000] <boogyman>
that wouldn't be more appropriately classified as a separate <menu>

[17:09:20.0000] <Hixie>
boogyman: more generally, think of a novel where in a chapter you have an unusually large gap between paragraphs

[17:09:29.0000] <Hixie>
boogyman: or three stars between paragraphs

[17:09:38.0000] <Hixie>
boogyman: the HTML spec actually uses <hr> quite a lot

[17:10:00.0000] <Hixie>
anytime you see a wider than usual spacing between paragraphs, it's an <hr>

[17:10:11.0000] <Hixie>
see the spec for more examples :-)

[17:10:20.0000] <boogyman>
I understand the "power" of the separator, but why not just use creative padding/border/margins?

[17:10:55.0000] <Hixie>
you use both, <hr> at the semantic layer, and padding/border/margins to describe what the separator should look like

[17:10:57.0000] <boogyman>
Given your statements, I could see a <menu> with multi-levels, possibly

[17:11:21.0000] <zewt>
just off the top of my head and not a very good example, but if you want to make a plain-text rendering, it's probably much cleaner to know "<hr> means add another blank line" than trying to derive different margins

[17:12:25.0000] <zewt>
(whether there are any benefits for the menu case, i don't have an intuition on, yet anyway)

[17:12:51.0000] <boogyman>
zewt: it's really about devices like JAWS, that don't care much about cosmetics, but what the separator truly means, but Ian has provided a plausible use-case, so seems okay to me

[17:22:51.0000] <Hixie>
ok, ye big <menu> redesign is in

[17:47:36.0000] <boogyman>
hey Hixie can you refresh my memory on a semantic usecase for allowing a "block" level element inside of an anchor?

[17:47:55.0000] <boogyman>
i disagree with the examples in the spec

[18:13:16.0000] <Hixie>
boogyman: see e.g. whatwg.org's home page

[18:16:06.0000] <boogyman>
touche

[04:12:54.0000] <heycam>
/me wonders in MikeSmith's general direction whether it'd be possible to have lists.w3.org serve email attachments with non-application/octet-stream Content-Types

[04:13:21.0000] <heycam>
e.g. http://lists.w3.org/Archives/Public/www-svg/2012Dec/0102.html it seems to know it should be image/svg+xml...

[04:14:14.0000] <annevk>
heycam: if your email client is configured correctly it should just work

[04:14:33.0000] <heycam>
oh I mean on the web

[04:14:51.0000] <annevk>
heycam: that is, you can set the MIME types of the attachments and w3.org will use that

[04:15:01.0000] <heycam>
oh really

[04:15:20.0000] <heycam>
/me has never considered that it might be possible to set the type when sending the mail

[04:16:10.0000] <heycam>
I guess it's just the list archiving software that's guessed the type

[04:16:28.0000] <annevk>
maybe it forces download these days for security purposes?

[04:16:33.0000] <heycam>
could be

[04:16:39.0000] <heycam>
just slightly annoying to have to save then open

[04:17:10.0000] <annevk>
well lots of stuff on www-archive can be opened directly, or at least used to

[04:17:25.0000] <annevk>
and I think that mechanism works everywhere

[06:25:54.0000] <annevk>
In http://url.spec.whatwg.org/#api can I just do base = "about:blank"?

[10:13:08.0000] <annevk>
http://vimeo.com/48858289

[10:35:54.0000] <Hixie_>
has a bug at 02:45

[10:40:19.0000] <annevk>
lol what is the bug? :)

[10:40:39.0000] <Hixie_>
it's pretty obvious :-)

[10:45:03.0000] <Hixie_>
same bug around 7:08 a couple of times (non-adjacent characters)

[15:25:04.0000] <Hixie_>
the vimeo player is annoying.


2012-12-30
[04:03:19.0000] <Ms2ger>
<!-- next section refers to previous section as "previous section" -->

[04:06:06.0000] <Velmont>
Glad we got that cleared.

[04:12:05.0000] <Ms2ger>
Feel like reviewing some tests?

[05:14:00.0000] <MikeSmith>
heycam|away: anything's possible

[12:07:54.0000] <Hixie>
heycam|away: see https://www.w3.org/Bugs/Public/show_bug.cgi?id=20496

[12:09:11.0000] <Stevef>
35,730 home pages (from top 50,000 sites) gathered yesterday, in 1 large zip file get it from http://www.webdevdata.org

[12:21:41.0000] <Stevef>
me/ useful for revealing cowpaths and undermining arguments from authority

[12:22:56.0000] <Stevef>
/me useful for revealing cowpaths and undermining arguments from authority

[12:25:36.0000] <tantek>
SteveF - I prefer to think of evidence as outweighing (rather than undermining) arguments from authority. :)

[12:57:56.0000] <Stevef>
tantek: yeah right, I used 'refuting' here https://twitter.com/stevefaulkner/status/285489160985382914 which I think is more fitting

[13:00:26.0000] <Stevef>
/me thinks it would be great if a web company that has easy access to the sort of raw data that I have been collecting would make it available on a regular basis...

[13:02:59.0000] <tantek>
ooh a CG too. (clicks Join)

[13:52:35.0000] <annevk>
Hixie: if you want to treat Nan/Infinity different it seems you might need to do that in prose

[13:53:11.0000] <annevk>
Hixie: unless we're going to introduce Nan and Infinity as values somehow so you can do (NaN or double)...

[14:19:02.0000] <annevk>
Hixie: the video player thing, do you mean the way it seeks? It was annoying me to no end yesterday trying to find those bugs you referred to...

[14:35:32.0000] <Hixie>
annevk: that has to be prose, but my point is just that the return value is always "double", not "unrestricted double" which is what the setter value has to be

[14:35:46.0000] <Hixie>
annevk: yes, the way it seeks in particular

[14:36:00.0000] <annevk>
Hixie: if the setter is more generic, it doesn't really matter

[14:36:17.0000] <Hixie>
we could make all the attributes "any", too :-P

[14:36:33.0000] <annevk>
Hixie: for readonly attributes, that's basically true :)

[14:36:42.0000] <annevk>
(unless I'm missing something)

[14:50:40.0000] <annevk>
arv_: re es-discuss: does this mean the ArrayClass experiment has failed?

[14:50:59.0000] <annevk>
arv_: should we pursue something else instead? e.g. Hixie's toArray() suggestion?

[15:31:00.0000] <annevk>
heycam: maybe we should have getattribute {type} {name}; and setattribute {type} {name}; for cases where they behave different? although that still does not help with PutForwards I guess...

[15:31:32.0000] <heycam>
annevk, maybe, I guess I'm not that fussed about the syntax particularly

[15:32:07.0000] <heycam>
annevk, I see the feature as "the attribute actually has type X, but additional some values of other types are accepted when assigning and get converted to the appropriate value of type X, or handled in some other way"

[15:32:31.0000] <heycam>
not really sure why it should be that controversial

[15:33:17.0000] <annevk>
I think it's mostly smaug____ that considers it controversial

[15:34:19.0000] <annevk>
though for everything but PutForwards one can just loosen the type as the prose already determines what is returned

[15:34:43.0000] <smaug____>
annevk: bz and IIRC also sicking have been agains PutForwards

[15:34:57.0000] <smaug____>
against

[15:36:12.0000] <gsnedders>
annevk_: the ArrayClass experiment?

[15:37:18.0000] <annevk_>
heycam: btw https://mail.mozilla.org/pipermail/es-discuss/2012-December/027688.html (unclear per logs whether this got true)

[15:37:26.0000] <annevk_>
s/true/through/

[15:37:36.0000] <heycam>
smaug____, I think asymmetric get/set types for attributes is dissimilar enough from PutForwards to consider it on its own merits

[15:38:02.0000] <heycam>
annevk_, oh interesting, will read

[15:38:03.0000] <smaug____>
I'm not sure I understand its merits

[15:38:33.0000] <heycam>
I think it just makes it clearer in the IDL that certain values will not be returned when getting the attribute

[15:38:50.0000] <heycam>
but it also gets around restrictions where we say e.g. sequences can't be the type of an attribute

[15:38:52.0000] <smaug____>
it feels a bit odd if setting an attribute needs to run ctor of something taking the value as param

[15:39:06.0000] <heycam>
you could have it be allowed to be assigned to the attribute, as long as you return something different when getting

[15:39:46.0000] <smaug____>
it is the creation-of-new-objects which is odd

[15:39:51.0000] <heycam>
I see

[15:40:09.0000] <heycam>
so you'd rather have the author do an explicit `new FileList(sequenceOfBlobs)`?

[15:40:57.0000] <annevk_>
values get converted all the time

[15:41:04.0000] <annevk_>
e.g. 1 -> "1"

[15:41:12.0000] <smaug____>
that is very different

[15:41:15.0000] <annevk_>
I don't see why

[15:41:18.0000] <heycam>
the restriction on sequence types for attributes is the only thing stopping writing `attribute (FileList? | sequence<blob>) files;`

[15:41:28.0000] <heycam>
and then having prose only ever return a value of type FileList

[15:42:27.0000] <smaug____>
annevk: you certainly aren't creating new objects that way

[15:42:51.0000] <smaug____>
is there any case when a new object is created automatically

[15:43:06.0000] <annevk>
I don't really see value in differentiating primitives and objects

[15:43:24.0000] <gsnedders>
smaug____: "foo".indexOf("a") creates an object, if that counts

[15:43:33.0000] <annevk>
you'd want the same kind of behavior to apply to both

[15:44:18.0000] <heycam>
I think anne's point of 1 -> "1" is that this is the more general issue -- assigning one value, and getting a different value back if you get the attribute later

[15:44:48.0000] <smaug____>
heycam: also, are there other use cases for this conversion?

[15:45:20.0000] <heycam>
Hixie pointed out https://www.w3.org/Bugs/Public/show_bug.cgi?id=20496 earlier as another case that could use it

[15:45:41.0000] <heycam>
so you want to have some particular processing of Infinity/NaN when assigning, but you never want to return those values

[15:45:57.0000] <heycam>
you could just have `unrestricted double` as the type and in prose never return non-finite values

[15:46:11.0000] <heycam>
but it might be easier to understand for readers of the spec if it is in the idl

[15:48:21.0000] <annevk>
gsnedders: the email is about that, yes, and about how maybe we should introduce something like Array, but readonly, to solve it

[15:52:48.0000] <heycam>
do we actually have any interfaces defined with indexed property setters?

[15:53:00.0000] <heycam>
or are all our array-like interfaces read only

[15:53:00.0000] <heycam>
?

[15:54:25.0000] <smaug____>
storage stuff

[15:55:09.0000] <smaug____>
er, hmm

[15:55:11.0000] <smaug____>
no

[15:55:21.0000] <smaug____>
it is key-value


2012-12-31
[16:17:34.0000] <annevk>
heycam: DataTransferItemList has a deleter, cannot find "indexed property setters" in specs that might use such a thing

[16:18:17.0000] <annevk>
heycam: cutting that might be good, in general it seems we should have a fresh look at APIs we define and in particular collection-like APIs

[16:18:40.0000] <annevk>
heycam: not exactly clearcut what we should do for those

[16:18:45.0000] <heycam>
yeah

[16:18:55.0000] <heycam>
I think deleters and creators are the real problem

[16:19:03.0000] <heycam>
because then you have to worry about sparse lists etc.

[16:19:34.0000] <heycam>
setters by themselves aren't so bad, except that without handling sparseness you're not going to be able to use the Array.prototype functions nicely anyway

[16:19:56.0000] <heycam>
I think it's strange that DataTransformItemList uses a deleter

[16:20:27.0000] <heycam>
it's kind of un-javascripty to remove the item and then shift all the other items over

[16:21:03.0000] <annevk>
not the first time Hixie has been accused of un-JavaScript-y APIs

[16:21:07.0000] <heycam>
heh

[16:21:24.0000] <heycam>
is that something that's been implemented yet?

[16:21:29.0000] <annevk>
doubt it

[16:21:53.0000] <annevk>
the whole drag & drop thing is full of interoperability holes still :/

[16:21:59.0000] <heycam>
ok

[16:22:19.0000] <annevk>
I wonder if the HTML WG put it risk

[16:22:25.0000] <annevk>
anyway, bedtime

[16:22:28.0000] <heycam>
I'll file a bug to consider removing index setters/creators/deleters

[16:22:31.0000] <heycam>
gnight

[16:22:34.0000] <annevk>
cool

[16:22:36.0000] <annevk>
nn

[17:10:59.0000] <Hixie>
isn't being accused of making "un-JavaScript-y APIs" a compliment? :-)

[19:47:52.0000] <Krinkle>
Hm.. XHR and AJAX sound cool, but XML really isn't... Shouldn't XMLHttpRequest be renamed?

[19:48:09.0000] <zewt>
um. no

[19:48:11.0000] <Hixie>
it should, yes

[19:48:13.0000] <Hixie>
but it cannot

[19:48:21.0000] <Krinkle>
Especially given that it doesn't make an http request for... XML

[19:48:22.0000] <Hixie>
it's like 13 years too late to rename it

[19:48:25.0000] <Krinkle>
(or can, anyway)

[19:48:32.0000] <Krinkle>
aliases aren't hard

[19:48:36.0000] <Hixie>
it doesn't necessarily make HTTP requests only

[19:48:48.0000] <Hixie>
aliases are horrible, they just make things more complicated without adding features

[19:48:52.0000] <zewt>
adding new names for things don't reduce confusion

[19:48:53.0000] <Hixie>
which means more bugs, for no benefit

[19:49:29.0000] <zewt>
that's about as confused an idea as calling megabytes "mibibytes"

[19:49:31.0000] <Hixie>
(and it doesn't necessarily make requests, e.g. you can use it for uploads. It's just an entirely incorect name.)

[19:49:50.0000] <zewt>
but it's just a name, and one name is always better than two names :)

[19:51:17.0000] <Hixie>
https://www.youtube.com/watch?v=XiFJWL83KaA talks in part (at some point) about how it got its name, btw

[19:51:23.0000] <Hixie>
short story: politics at microsoft

[19:51:29.0000] <Krinkle>
dl.domintro::before { display: table;

[19:51:30.0000] <Krinkle>
eh.. ?

[19:51:33.0000] <Krinkle>
lol

[19:51:38.0000] <zewt>
there have been much worse consequences of politics at microsoft

[19:51:46.0000] <Hixie>
true dat, true dat

[19:51:54.0000] <Krinkle>
sure

[19:52:19.0000] <zewt>
and as problems on the web go, what we call xhr is buried about five miles deep

[19:52:47.0000] <Krinkle>
right, display table because width-auto doesn't "work"

[19:53:04.0000] <Krinkle>
http://www.w3.org/TR/XMLHttpRequest/#domintro

[19:53:13.0000] <Krinkle>
http://www.w3.org/TR/XMLHttpRequest/#the-open()-method

[19:53:15.0000] <Hixie>
what i want is 'width:intrinsic'

[19:53:21.0000] <Hixie>
which dbaron defined like a decade ago

[19:53:32.0000] <Hixie>
but the csswg is glacial

[19:53:53.0000] <dbaron>
well, writing a spec for the keyword is easy

[19:53:58.0000] <dbaron>
the harder part is writing a spec for its behavior

[19:54:29.0000] <Hixie>
pretty sure i saw a definition for that too :-)

[19:57:36.0000] <Krinkle>
I've been trying to figure out the relationship between W3 and whatwg. Can someone maybe enlighten me in a nutshell?

[19:58:01.0000] <Krinkle>
It appears that the living standard by whatwg is transparently transferred as the working draft at W3

[19:58:15.0000] <Hixie>
the relationship is complex and has many levels

[19:58:22.0000] <Hixie>
but as far as HTML goes, the short story is this:

[19:58:32.0000] <Krinkle>
I don't see any documents with state "Stable" or "Recommendation" at whatwg, only at W3.

[19:59:01.0000] <Hixie>
I write the spec as a WHATWG living standard, and the W3C comes behind, usually a few weeks behind, and copies and pastes what I do into their drafts

[19:59:19.0000] <Hixie>
then they make some changes to break it (IMHO, of course they probably think they're making it better) and then they publish it again on their site

[19:59:29.0000] <zewt>
read "recommendation" as "recommended if you want to implement something out of date"

[19:59:48.0000] <Hixie>
Krinkle: http://whatwg.org/html is as stable as it gets (unless you mean something different than i do by "stable")

[20:00:04.0000] <Hixie>
(by "stable" i mean "most likely to describe stuff that doesn't change in the future")

[20:00:55.0000] <Krinkle>
For example:

[20:00:56.0000] <Krinkle>
http://dom.spec.whatwg.org/#interface-treewalker

[20:00:56.0000] <Krinkle>
http://www.w3.org/TR/dom/#interface-treewalker

[20:00:57.0000] <Krinkle>
http://www.w3.org/TR/DOM-Level-2-Traversal-Range/traversal.html#Traversal-TreeWalker

[20:01:26.0000] <zewt>
"treacherously retro"

[20:01:34.0000] <Hixie>
ah well as far as the DOM spec goes the story is different

[20:01:59.0000] <Hixie>
and I don't fully understand it

[20:04:12.0000] <Krinkle>
if I were a web browser implementor, what I would be looking for is "what version to implement" and "where are tests to confirm it works properly" (the latter I understand is a work in progress)

[20:05:02.0000] <Krinkle>
especially for the DOM, unit tests would be very nice. There's been some progress I saw lately but it appears mostly free-form and not automated or standardized.

[20:07:18.0000] <Krinkle>
e.g. a page I can point my browser too and have it execute all tests for the DOM (either by loading all at once, or loading in with progress thru ajax, navigating from one page to another automatically with an iframe etc.) e.g. with testrunner or qunit whatever etc.

[20:07:50.0000] <Krinkle>
I would be interested in helping development of this. Is there a plan / group of people actively working on this?

[20:08:23.0000] <Hixie>
for the DOM, browser vendors follow dom.spec.whatwg.org

[20:08:29.0000] <Hixie>
because it's the most likely to describe what they should implement

[20:08:46.0000] <Hixie>
for html, generally speaking (maybe not microsoft) they follow http://whatwg.org/html

[20:09:01.0000] <Hixie>
again because it's the one that's most likely to have the most bugs fixed

[20:09:27.0000] <Krinkle>
http://whatwg.org/html == http://html.spec.whatwg.org --> http://www.whatwg.org/specs/web-apps/current-work/multipage/

[20:09:55.0000] <Hixie>
yup

[20:10:00.0000] <Hixie>
the latter is too long to type :-)

[20:10:07.0000] <Krinkle>
that url doesn't even contain "html"

[20:10:16.0000] <Hixie>
yeah, it predates the effort being called HTML

[20:10:50.0000] <Hixie>
back in 2004 when that URL was minted, there were two specs, Web Forms 2.0 and Web Apps 1.0, which eventually became together known as HTML5, and later just HTML

[20:10:50.0000] <Krinkle>
k

[20:11:42.0000] <Krinkle>
http://www.whatwg.org/specs/ looks weird O_O logo after title and a layout I haven't seen before

[20:12:01.0000] <Krinkle>
nice: http://xhr.spec.whatwg.org/

[20:12:18.0000] <Krinkle>
I imagine other urls will eventually transfer to *.spec.whatwg.org as well ?

[20:12:33.0000] <Hixie>
all but html. already are, i think

[20:12:38.0000] <Hixie>
and html. has a redirect

[20:12:50.0000] <Krinkle>
right

[20:13:19.0000] <Hixie>
moving the html spec is more work than it's worth, so i expect we'll stick to the redirect for the forseeable future

[20:14:26.0000] <Krinkle>
hm.. http://spec.whatwg.org/ is the same as http://www.whatwg.org/specs/

[20:14:57.0000] <Hixie>
yup

[20:15:19.0000] <Hixie>
you can even go to http://spec.whatwg.org/web-apps/ :-)

[20:15:38.0000] <Krinkle>
oh

[20:16:05.0000] <Hixie>
i really should just make that a redirect, though, since reading the html spec there won't work (broken links, etc)

[20:17:48.0000] <Krinkle>
So regarding tests

[20:18:15.0000] <Hixie>
jgraham: ping for question about tests

[20:20:35.0000] <Krinkle>
Earlier this month I was working on a javascript implementation of DOM4 interface TreeWalker (https://github.com/Krinkle/dom-TreeWalker-polyfill) having had a test suite would've helped a lot. I ended up writing my own (and I actually found out a few bugs in the spec while at it, these have been fixed since, :) )

[20:24:34.0000] <Krinkle>
Hixie: Looks like jgraham's been /away for a while (200+ horus)

[20:25:59.0000] <Hixie>
yeah, holidays

[20:26:06.0000] <Hixie>
ask again in a week or two :-)

[20:26:13.0000] <Krinkle>
k

[21:40:48.0000] <Hixie>
i don't understand what https://www.w3.org/Bugs/Public/show_bug.cgi?id=20051 means

[21:41:34.0000] <zewt>
nor does the person asking, i'd suspect

[21:42:28.0000] <Hixie>
i find more often than not they do and english just isn't their first language

[21:42:42.0000] <Hixie>
but unfortunately in the meantime i still don't understand what they're saying :-(

[21:42:58.0000] <Hixie>
(well more often than not they don't reply at all. but when they do...)

[03:05:34.0000] <annevk>
Krinkle|detached: there's tests here: http://w3c-test.org/webapps/DOMCore/tests/

[03:05:51.0000] <annevk>
Krinkle|detached: Ms2ger is somewhat involved in that effort

[03:05:59.0000] <annevk>
/me doesn't really know what's going on

[13:41:06.0000] <Yuhong>
"break it (IMHO, of course they probably think they're making it better)"

[13:41:54.0000] <Yuhong>
Hixie: I think break it is an exaggeration. Last time I checked, most changes are editorial or other stuff that is unlikely to affect browsers.

[13:42:16.0000] <Yuhong>
Hixie: I do agree that versioning don't make sense even as a buzzword.

[13:43:53.0000] <Yuhong>
More on XMLHTTPRequest, BTW: http://www.alexhopmann.com/story-of-xmlhttp/

[15:40:28.0000] <Yuhong>
"for html, generally speaking (maybe not microsoft) they follow http://whatwg.org/html"

[15:42:12.0000] <Yuhong>
I wonder what a [MS-HTML5] documenting IE's deviations from W3C HTML 5.0 would look like.

