2008-06-01
[17:02:00.0000] <Philip`>
gsnedders: You can always fake the timestamp when you post

[18:18:00.0000] <Hixie>
gsnedders: not easily, we normalise everything for our sanity's sake

[02:40:00.0000] <gsnedders>
Philip`: That's cheating!

[02:50:00.0000] <__est__>
Hi, everyone

[02:51:00.0000] <__est__>
is there any multiple-file upload spec in HTML5 ?

[02:56:00.0000] <Hixie>
__est__: yes, see http://whatwg.org/wf2

[02:57:00.0000] <gsnedders>
"There is currently no way to specify that an unlimited number of files may be uploaded. Authors are encouraged to consider what the practical limit actually is for their server-side script. For example, if the server uses an unsigned 16 bit integer to track file uploads, a suitable max value would be 65536."

[02:57:01.0000] <gsnedders>
/me places bet PHP would get a buffer overflow in that case

[03:42:00.0000] <hsivonen>
http://www.einfach-fuer-alle.de/blog/eintraege.php?id=2393_0_1_0

[04:14:00.0000] <hsivonen>
http://flickr.com/photos/92649225@N00/2487550812/ did he actually have that slide or is that a photoshopped criticism?

[04:35:00.0000] <Hixie>
hsivonen: yes: http://homepage.mac.com/swardley/.Public/openE20.pdf

[04:42:00.0000] <hsivonen>
Hixie: oh. OK. I came into the room late. But then he wasn't using Comic Sans but Chalkboard

[04:42:01.0000] <Hixie>
i have no idea what talk this is

[04:42:02.0000] <Hixie>
i just did a search for his name and the font name and found the slides

[08:21:00.0000] <Philip`>
Could anyone test http://philip.html5.org/demos/charset/ebcdic/charsets.html in Safari on OS X?

[08:23:00.0000] <gsnedders>
Philip`: http://stuff.gsnedders.com/EBCDIC%20decoding%20tests.pdf

[08:23:01.0000] <hsivonen>
Philip`: ouch. looks like Safari doesn't blacklist ICU EBCDIC decoders

[08:25:00.0000] <Philip`>
gsnedders: Thanks, looks about the same as on Windows

[08:26:00.0000] <Philip`>
IE decodes many of those as EBCDIC-or-something

[08:28:00.0000] <hsivonen>
still, Firefox and Opera getting away with not supporting EBCDIC encodings suggests that they aren't hugely Web-relevant

[08:28:01.0000] <Philip`>
(These are all the names and aliases from http://www.iana.org/assignments/character-sets that have "ebcdic" as one of their other aliases)

[08:28:02.0000] <Philip`>
(*have something containing case-insensitively "ebcdic")

[08:29:00.0000] <hsivonen>
hmm. it's quite silly that in this day and age, Windows XP stops to ask to install language packs instead of installing everything there is to install by default

[08:29:01.0000] <Philip`>
In this day and age, you would use Vista, which seems to include gigabytes of everything by default

[08:30:00.0000] <takkaria>
it is seven years old, yeah

[08:30:01.0000] <Philip`>
Hmm, how do I remove iframe borders in IE?

[08:32:00.0000] <myakura>
<iframe frameborder="0"> ?

[08:33:00.0000] <myakura>
probably

[08:33:01.0000] <Philip`>
Hmm, not exactly valid HTML5, but it seems to work so that's okay :-)

[08:34:00.0000] <hsivonen>
I'd be happy to make <iframe frameborder="0"> valid if Hixie agreed

[08:35:00.0000] <Philip`>
By the way, it'd be great if IE supported data:text/html so I didn't have to create almost two hundred identical HTML files and five hundred lines of .htaccess :-(

[08:38:00.0000] <Philip`>
/me wonders how efficiently Apache processes .htaccess

[08:40:00.0000] <Philip`>
hsivonen: Should I bother replying to your EBCDIC email, or will you post a followup anyway?

[08:41:00.0000] <hsivonen>
Philip`: I can reply to myself

[08:41:01.0000] <hsivonen>
Philip`: thanks

[08:48:00.0000] <Dashiva>
Philip`: You couldn't use a server script with get parameters to generate the variable response?

[08:49:00.0000] <Philip`>
Dashiva: I don't fancy running almost two hundred CGI processes every time someone looks at the page

[08:58:00.0000] <Philip`>
http://fortuneapple20.files.wordpress.com/2008/06/picture-24.jpg - I like how a drop from 0.04% to 0.03% is stated as a change of -25.00% with four significant figures

[09:00:00.0000] <Dashiva>
It's always nice with percentages and percentages of percentages using the same labeling

[09:02:00.0000] <Philip`>
Since the numbers are apparently based on 1.6e8 visitors, that 25.00% would indicate their numbers are correct to the nearest 20 visitors

[09:03:00.0000] <Philip`>
/me thinks this is a case where it would far less misleading to show a graph of the past six months or so, so it's easier to see what's a significant change and what's random monthly variation

[09:20:00.0000] <takkaria>
why do people make images of tables rather than just making tables?

[09:24:00.0000] <hsivonen>
takkaria: to have a tableless layout? :-)

[09:30:00.0000] <gsnedders>
/me admits to once having <div> hell to avoid using tables

[09:30:01.0000] <gsnedders>
(for tabular data, this is)

[10:00:00.0000] <gsnedders>
/me wonders how on earth to start his personal statement

[10:00:01.0000] <gsnedders>
I don't think "gsnedders is awesome." would be a good start.

[10:01:00.0000] <hsivonen>
what's a personal statement?

[10:01:01.0000] <gsnedders>
hsivonen: http://www.ucas.co.uk/students/startapplication/apply/personalstatement

[10:01:02.0000] <gsnedders>
hsivonen: Basically, it's what unis that don't have interviews have to go by as well as your grades and reference from school about whether to choose you

[10:02:00.0000] <hsivonen>
I see

[10:02:01.0000] <gsnedders>
"You will not be able to change the presentation of your personal statement by using features such as bold, italic or underlined text or foreign characters, such as á, ë, õ." — you mean I can't use an em-dash!?

[10:02:02.0000] <hsivonen>
fortunately, I didn't have to do any of that

[10:02:03.0000] <gsnedders>
(because I expect it implicitly is limited to US-ASCII characters)

[10:02:04.0000] <gsnedders>
It also means I can't use words like café or naïve

[10:03:00.0000] <takkaria>
lies, you just use the English spelling. :)

[10:03:01.0000] <takkaria>
personal statements are an arse, I remember spending hours and hours on mine

[10:03:02.0000] <gsnedders>
takkaria: They are perfectly correct English spellings!

[10:03:03.0000] <gsnedders>
I'm just an asshole!

[10:04:00.0000] <takkaria>
yes, but so are cafe and naive. :)

[10:04:01.0000] <gsnedders>
(Or, more seriously, I have suspicions I have asperger syndrome)

[10:05:00.0000] <takkaria>
the secret can't be to make yourself sound good without sounding like you're trying to make yourself sound good, because most people's statements I've read almost manage the first and fail the second

[10:05:01.0000] <gsnedders>
(I should probably get formally checked for it)

[10:07:00.0000] <deltab>
they make you apply online now? I had to handwrite mine

[10:07:01.0000] <gsnedders>
takkaria: I wouldn't even bother trying to not make myself sound like I'm selling myself

[10:08:00.0000] <gsnedders>
deltab: Yeah — it's obviously changed quite recently

[10:08:01.0000] <hsivonen>
in Finland for engineering disciplines, they don't care about personality. they just care about test scores in math and physics

[10:08:02.0000] <gsnedders>
I still can't think of how to start it…

[10:08:03.0000] <gsnedders>
Hmm…

[10:09:00.0000] <gsnedders>
Now, do I write in en-gb-oed or more normal en-gb?

[10:21:00.0000] <Philip`>
gsnedders: Start with "I have been using computers since I was little and I am good at them."

[10:21:01.0000] <gsnedders>
heh.

[10:23:00.0000] <gsnedders>
Currently I'm going for the not-trying-to-sound-modest-whatsoever approach

[10:24:00.0000] <gsnedders>
I'm starting to think 4000 characters inc. spaces is rather limiting.

[10:25:00.0000] <takkaria>
yeah, heavy editing is required

[10:25:01.0000] <takkaria>
especially when you've done something worthwhile :)

[10:25:02.0000] <gsnedders>
I always over-edit everything I write

[10:25:03.0000] <gsnedders>
It wouldn't be unusual for nothing from my first draft to be in the final copy :P

[10:26:00.0000] <gsnedders>
takkaria: I also have the fun of trying to have one personal statement cover two subjects

[10:27:00.0000] <takkaria>
yeah, that's no fun, I tried to do that between music and CS before I switched to just music

[10:27:01.0000] <Philip`>
gsnedders: Just talk about maths, and then you'll cover all the relevant subjects :-)

[10:27:02.0000] <gsnedders>
Well, at least CS and Physics are more similar :P

[10:27:03.0000] <gsnedders>
Philip`: I'd suck at that.

[10:27:04.0000] <takkaria>
yeah, half of it would be totally alien to the other

[10:28:00.0000] <Philip`>
CS and physics could be considered as just branches of applied maths :-)

[10:28:01.0000] <gsnedders>
I expect it'll end up more about computing than physics, though

[10:28:02.0000] <gsnedders>
as I can write about computing far more easily :P

[10:29:00.0000] <hsivonen>
interesting. Philip's EBCDIC demo behaves differently in Firefox 3 RC1 upon first load and back button

[10:29:01.0000] <hsivonen>
(first load the unknowns are 1252, on back button utf-8)

[10:30:00.0000] <Philip`>
deltab: If I remember correctly, when I did it ~4 years ago there was a choice between online and offline (so I did it online)

[10:35:00.0000] <gsnedders>
This is really hard. :P

[10:36:00.0000] <Philip`>
Don't worry, only your entire future depends on what you write in the personal statement

[10:36:01.0000] <gsnedders>
:P

[10:37:00.0000] <gsnedders>
I need to see if I can use the same personal statement for '08 and '09 applications, assuming I put in a late application for this year…

[10:38:00.0000] <takkaria>
I'm less than convinced of how much it makes a difference at the moment.  if the uni you apply to is expanding then they will look at your grades more than anything else

[10:38:01.0000] <takkaria>
and most unis are hoping to expand because the only way they can get more money thesedays is by getting more students in the doors...

[10:39:00.0000] <takkaria>
gsnedders: if you come to an English uni, do you have to pay fees?

[10:39:01.0000] <gsnedders>
takkaria: Yes

[10:39:02.0000] <gsnedders>
takkaria: Actually no, I get my parents to pay them :P

[10:39:03.0000] <takkaria>
oh, really?  lucky

[10:39:04.0000] <gsnedders>
Yeah, very much so

[10:39:05.0000] <gsnedders>
http://www.sra.ed.ac.uk/admissions/Statistics/2007-08_entry/Programme2007/degree_programme_public_version/37.htm

[10:39:06.0000] <hsivonen>
English as in not Scottish?

[10:39:07.0000] <gsnedders>
F355 has so many applications!

[10:40:00.0000] <gsnedders>
hsivonen: English as in the country England, south of Scotland and east of Wales :P

[10:40:01.0000] <gsnedders>
and not Northern Ireland either, seeming that's also the UK

[10:40:02.0000] <gsnedders>
I mean, it has so few applications per year I may as well not even write a personal statement

[10:40:03.0000] <jwalden>
modesty is absolutely not a virtue in college apps, at least in the US

[10:41:00.0000] <hsivonen>
gsnedders: my point is, are the fees different if your original place of residence and the location of the uni are different in the set {Scotland, Wales, England, Northern Ireland}?

[10:41:01.0000] <takkaria>
hsivonen: basically, Scots don't pay fees to go to Scottish universities

[10:41:02.0000] <gsnedders>
hsivonen: Scottish unis are free for any EU resident, apart from those within the UK outwith of Scotland (this is due to a crazy mix of UK, Scottish, and EU law)

[10:41:03.0000] <hsivonen>
ok

[10:42:00.0000] <gsnedders>
(In short, the Scottish Parliament doesn't have the power to make it free to those in England, Wales, and N Ireland, as the power for that is in Westminster, but due to EU equality laws, those from other EU states must be treated the same as the Scottish)

[10:43:00.0000] <hsivonen>
hmmkay

[10:43:01.0000] <gsnedders>
It's rather mad, but that's life

[10:43:02.0000] <gsnedders>
My first draft of opening paragraph for the personal statement is 874 characters long. Eek.

[10:43:03.0000] <Philip`>
I had to pay tuition fees in my last year (since that's when they introduced the new system), which was some thousands of pounds (though I've forgotten how few/many thousands), but I got something equivalent to the mostly-interest-free pay-back-when-you're-rich student loan to cover that so it wasn't a problem

[10:44:00.0000] <hsivonen>
are the English universities so much better that it's worth paying for (compared to going to a Scottish university)?

[10:45:00.0000] <Philip`>
(That does mean I now owe something like £14,000 to the Student Loan Company, but I'm too poor to have to pay anything back now)

[10:45:01.0000] <gsnedders>
Philip`: £3,145 per year

[10:45:02.0000] <gsnedders>
hsivonen: It depends on the subject

[10:46:00.0000] <gsnedders>
hsivonen: For physics, Edinburgh is the best in the UK

[10:46:01.0000] <takkaria>
gsnedders: more likely to be �3000, since it's gone up every year

[10:46:02.0000] <gsnedders>
hsivonen: For CS, it's Oxford or Cambridge

[10:46:03.0000] <gsnedders>
/me shrugs

[10:46:04.0000] <Philip`>
Bah, Oxford's rubbish :-p

[10:46:05.0000] <hsivonen>
(aside, I'm not sure the EU tuition equality laws are a good idea. it seems unfair that tax payers from country X pay for the tuition of foreign students from country Y)

[10:47:00.0000] <hsivonen>
(especially if the solution is to make students from country X pay, too)

[10:47:01.0000] <gsnedders>
hsivonen: Students from country X don't pay, though, otherwise there'd be no need for the equality laws to kick in about students from Y

[10:48:00.0000] <hsivonen>
gsnedders: Finns don't pay currently in Finland (except in the form of a high tax rate)

[10:48:01.0000] <hsivonen>
gsnedders: but there have been suggestions of introducing tuition fees both for Finns and foreign students

[10:48:02.0000] <gsnedders>
hsivonen: Here (in St Andrews) most of the foreign students are from east Asia, and therefore are outside the EU, and have to pay tuition fees

[10:48:03.0000] <takkaria>
and extortionate ones at that

[10:49:00.0000] <gsnedders>
/me wants to get the hell away from here, though

[10:49:01.0000] <gsnedders>
Philip`: Hey! My parents went there!

[10:49:02.0000] <gsnedders>
My family is so mixed between Oxford and Cambridge, including some who taught at both, or went to one and taught at the other :P

[10:50:00.0000] <Philip`>
gsnedders: One of mine did too, so I think she would disagree with me :-)

[10:50:01.0000] <gsnedders>
I hate Oxford as a place though. I could never stand to be there for several years :P

[10:51:00.0000] <hsivonen>
Finland has crazy laws. Foreign students get free education, but when they graduate, they are kicked out of the country and, thus, don't contribute to taxes

[11:07:00.0000] <gsnedders>
sanity is scare nowadays :)

[11:14:00.0000] <Philip`>
Perhaps it's just hard to recognise

[11:23:00.0000] <takkaria>
sanity is a social construct

[11:41:00.0000] <jgraham>
/me notes that the UK has a much lower for sounding like an arrogant twat than the US

[11:41:01.0000] <jgraham>
(at least that's the impression I get.)

[11:42:00.0000] <Philip`>
jgraham: Are you missing a word like "tolerance"?

[11:42:01.0000] <jgraham>
(and whilst your personal statement should be positive you also don't want to come across as an arrogant twat.)

[11:43:00.0000] <jgraham>
Philip`: In fact the word I planned to use but forgot to type was "threshold" although "cultural threshold" would have been better

[11:43:01.0000] <Philip`>
jgraham: But you're competing against other people who are probably going to be writing arrogant statements, so you just want to seem less arrogant than them

[11:44:00.0000] <Philip`>
and you're writing to an audience who expects you to try hard to convince them of how wonderful you are

[11:44:01.0000] <jgraham>
You have to sound like you've achieved stuff, but you shouldn't sound like you believe you're better than other people or that you have a right to a place

[11:45:00.0000] <jgraham>
I did a Cambridge Access thing once where we read some personal statements from people who had and hadn't got offers and guessed who'd got places

[11:46:00.0000] <jgraham>
The person who sounded arrogant was one of the people who didn't get an offer

[11:47:00.0000] <jgraham>
(but I agree you have to write in a way that will convince them of your merits and put yourself into the best possible light. But if you overstep the threshold then it can have a negative impact)

[11:49:00.0000] <Philip`>
Did all those people have interviews anyway? I imagine personality is much more important at that stage, since the interviewers can get a much better impression from meeting you than from reading a few highly artificial paragraphs

[11:49:01.0000] <jgraham>
Yeah. At Cambridge it's really unusual to not get an interview

[11:50:00.0000] <jgraham>
(but of course for non-interviewing universities the situation is different)

[11:53:00.0000] <jgraham>
For clarity I should say that when I say "you shouldn't sound like you believe you're better than other people", that just means you shouldn't come across as contemptuous of others. You have to give the impression that you are deserving of a place.

[11:55:00.0000] <jgraham>
/me isn't sure he has been at all clear but is sure gsnedders will come up with something good anyway

[11:57:00.0000] <gsnedders>
/me will likely follow the advice of some students he knows here which is to get some people who know you well to look over it

[11:57:01.0000] <Philip`>
Put it on a wiki

[11:58:00.0000] <gsnedders>
Philip`: What's the point, though? It would have to be only edited by me

[11:58:01.0000] <Philip`>
gsnedders: Put it on a wiki and get some people who know you well to rewrite it for you

[11:58:02.0000] <gsnedders>
Philip`: You can't do that :P

[11:59:00.0000] <Philip`>
Nobody would know

[11:59:01.0000] <gsnedders>
I mean, this isn't a logged channel or anything :)

[11:59:02.0000] <gsnedders>
And in terms of what I can write to try and get me in a place in something like CS, I think you two probably know me quite well :P

[12:00:00.0000] <jgraham>
Put it on wikipedia as an entry for yourself

[12:00:01.0000] <jgraham>
Then submit the vandilised version

[12:01:00.0000] <gsnedders>
hah

[12:09:00.0000] <takkaria>
I was very tempted to write mine as a critique of Rachmaninov's Third Piano Concerto, but it turns out I'm a bit risk-averse for that

[13:55:00.0000] <Lachy>
hey everyone, I'm back from London now

[13:57:00.0000] <Philip`>
/me wishes the IE8 feedback site didn't take ten seconds to load each page, because it's really quite painful to use

[13:57:01.0000] <Philip`>
Lachy: Hello

[14:02:00.0000] <Lachy>
has there been anything interesting on public-html over the past few days?

[14:03:00.0000] <Philip`>
No, if I remember correctly

[14:04:00.0000] <takkaria>
not really; a bit of stuff on Namespaces, a bit more on the ARIA thing, and RB's dozen raised issues

[14:04:01.0000] <Lachy>
ok, that's about what I expected.

[14:04:02.0000] <gsnedders>
Nobody has posted, "Who's that guy with crazy hair?", either.

[14:04:03.0000] <Lachy>
I suppose I should at least skim over the ~150 messages quickly though

[14:05:00.0000] <Lachy>
gsnedders, that's because I said your name in the presentation and we talked about how you had contributed to the group.

[14:05:01.0000] <gsnedders>
Lachy: Ah.

[14:06:00.0000] <gsnedders>
Lachy: Wait… what contributions?

[14:06:01.0000] <Lachy>
jgraham mentioned that you had made some test cases

[14:06:02.0000] <gsnedders>
That's true

[14:06:03.0000] <gsnedders>
They're out of date, in part, now.

[14:06:04.0000] <gsnedders>
Damned Hixie fixing the spec.

[14:06:05.0000] <Lachy>
plus you hang out here and keep us entertained

[14:06:06.0000] <Philip`>
You provide moral support

[14:07:00.0000] <gsnedders>
Lachy: True, I don't do sensible.

[14:07:01.0000] <gsnedders>
(Actually, I ended up in a discussion about me being sensible with a friend on Friday: his conclusion: "You're sensible between 16:00 and 17:00 on a Tuesday when nobody is around to see you")

[14:09:00.0000] <gsnedders>
/me laughs at the penultimate part of Lachy tweet

[14:09:01.0000] <gsnedders>
/me runs in fear

[14:10:00.0000] <Lachy>
gsnedders, do you mean the part about hooking up with a hot chick?

[14:10:01.0000] <gsnedders>
Lachy: Well, this is the penultimate phrase, so I guess I do

[14:11:00.0000] <gsnedders>
s/this/that/

[14:14:00.0000] <Lachy>
Hey, my standards suck interview has been published http://standardssuck.org/lachlan-hunt-on-selectors-api

[14:14:01.0000] <hsivonen>
how's Heathrow these days?

[14:14:02.0000] <Lachy>
hsivonen, don't know. I arrived at Gatwick and departed from Stansted

[14:15:00.0000] <hsivonen>
ah

[14:16:00.0000] <gsnedders>
Lachy: You sensible man :)

[14:16:01.0000] <Lachy>
but checkin and security at Stansted today took a long time. I arrived at around 16:00 and didn't get to the plane until 17:00, which departed 5 minutes later. I didn't even have a chance to do duty free shopping there

[14:17:00.0000] <Lachy>
I wanted to buy some cadbury chocolate, but didn't get a chance cause I had to run to the gate. :-(

[14:17:01.0000] <gsnedders>
Lachy: was it a 17:05 flight or not?

[14:17:02.0000] <Lachy>
yes

[14:18:00.0000] <gsnedders>
Lachy: Ah. I'd arrive earlier :)

[14:18:01.0000] <gsnedders>
/me is flying from there to Berlin next month

[14:18:02.0000] <Lachy>
part of the problem was that the person at the check in counter for the line I was in was really slow

[14:31:00.0000] <gsnedders>
I really can't write about physics.

[14:32:00.0000] <Philip`>
"I enjoy rolling balls down slopes, and counting pendulum swings."

[14:32:01.0000] <gsnedders>
Nonono, this is computational physics!

[14:32:02.0000] <gsnedders>
"I enjoy simulating rolling balls down slopes, and automatically counting pendulum swings."

[14:34:00.0000] <Philip`>
"I enjoy maths" is always a good one

[14:34:01.0000] <gsnedders>
But that so isn't true :P

[14:34:02.0000] <gsnedders>
I enjoy solving mathematical problems!

[14:35:00.0000] <gsnedders>
(Subtle differences ftw!)

[14:35:01.0000] <Philip`>
I enjoy solving mathematical problems by totally ignoring the maths and brute-forcing a solution with a Perl script

[14:35:02.0000] <gsnedders>
:D

[14:37:00.0000] <Philip`>
It's pretty useful for probability questions - if you have something like the Monty Hall problem, just simulate it a million times and count the outcomes

[14:51:00.0000] <takkaria>
that has a special name

[14:51:01.0000] <takkaria>
I forget what it is

[14:52:00.0000] <Philip`>
Monte Carlo?

[14:52:01.0000] <takkaria>
yeah.  like Monty Hall but subtly different

[14:53:00.0000] <gsnedders>
/me was talking about going to Monte Carlo with molly in October

[14:53:01.0000] <Philip`>
I'm not sure it's mathematically rigorous to run a Perl simulation and observe that something happens in 0.33295653149 of cases and is therefore precisely equal to 1/3 using the principle that the real world likes nice fractions

[14:53:02.0000] <gsnedders>
(I will likely be at the TP in Mandelieu if there's an HTML WG meeting there, FWIW)

[14:53:03.0000] <takkaria>
yeah, but it's close enough

[14:54:00.0000] <takkaria>
I used to try to build statistical models for a game I maintain to get game balance right

[14:54:01.0000] <takkaria>
then I gave up and just reran things a few hundred thousand times and took the average

[14:54:02.0000] <takkaria>
the latter was much easier than the former and required less work. :)

[14:56:00.0000] <takkaria>
also made my laptop run a lot warmer, but that's something I just have to deal with...

[14:56:01.0000] <gsnedders>
takkaria: cool.

[14:56:02.0000] <gsnedders>
</bad_joke>

[15:13:00.0000] <annevk>
Hixie, contenteditable= also makes an element focusable

[15:13:01.0000] <annevk>
Hixie, I suppose that draggable might do that too

[15:14:00.0000] <annevk>
I should probably e-mail, but I feel rather lazy

[15:32:00.0000] <Philip`>
http://philip.html5.org/demos/charset/ebcdic/meta.html - IE(8b1) flips between decoding as cp037 and utf-8 each time I hit the reload button

[15:34:00.0000] <othermaciej>
notdeterministic charset encoding detection

[15:34:01.0000] <othermaciej>
yum

[15:35:00.0000] <Philip`>
It's not nondeterministic - it's (page_reloads % 2 == 0 ? 'cp037' : 'utf-8')

[15:37:00.0000] <hsivonen>
Firefox flips between windows-1252 and utf-8 on back button

[15:40:00.0000] <Philip`>
/me guesses it's not worthwhile to report this IE bug


2008-06-02
[00:41:00.0000] <Hixie>
alt="<%plugin_first_title>" and things like that are sadly common

[00:42:00.0000] <Hixie>
also things like alt="<b>Sabit</b>"

[00:44:00.0000] <Hixie>
this page contains an alt="" whose value itself contains two <img> elements, both with alt=...

[00:44:01.0000] <Hixie>
http://www.modifiyem.com/forum/f51/lastik-basinclari-41393/

[01:02:00.0000] <gsnedders>
Someone please tell me my computing exam will be all right because they'll be technically right, so me not having learnt the wrong answers doesn't matter.

[01:03:00.0000] <zcorpan_>
"An ASCII-compatible character encoding is one that is a superset of US-ASCII (specifically, ANSI_X3.4-1968) for bytes in the range 0x09 - 0x0D, 0x20, 0x21, 0x22, 0x26, 0x27, 0x2C - 0x3F, 0x41 - 0x5A, and 0x61 - 0x7A."

[01:04:00.0000] <zcorpan_>
Hixie: shouldn't that be s/a superset/identical/ ?

[01:04:01.0000] <zcorpan_>
and s/of/to/

[02:19:00.0000] <zcorpan>
are there <video> tests anywhere? i've found http://hsivonen.iki.fi/test/moz/video-selection/

[02:23:00.0000] <Lachy>
zcorpan, I have http://lachy.id.au/dev/markup/tests/html5/video/

[02:24:00.0000] <zcorpan>
doesn't webkit have any tests?

[02:25:00.0000] <zcorpan>
othermaciej: ^

[02:27:00.0000] <Philip`>
zcorpan: http://trac.webkit.org/browser/trunk/LayoutTests/media

[02:27:01.0000] <zcorpan>
Philip`: cheers

[03:04:00.0000] <annevk>
FWIW, Opera is removing UTF-7 support from the Web side of the product. It will remain to work in e-mail of course.

[03:04:01.0000] <annevk>
(We're are also in process of removing UTF-32 support altogether.)

[03:09:00.0000] <hsivonen>
Hixie: since even IE and Safari don't expose EBCDIC encodings in the UI, EBCDIC could only be used by declaring it on the HTTP level, so discovering usage in content should be possible from a Web crawl

[03:12:00.0000] <Philip`>
hsivonen: You can declare it in <meta charset> too

[03:13:00.0000] <hsivonen>
Philip`: how does that work?

[03:13:01.0000] <Philip`>
hsivonen: Like http://philip.html5.org/demos/charset/ebcdic/meta.html

[03:14:00.0000] <Philip`>
IE seems to detect the ASCII <meta charset> then reparses the document

[03:14:01.0000] <zcorpan>
hmm, if innerHTML in xml needs to take into account doms that are parsed from text/html, the cases that throw are not complete. e.g. <foo 123>

[03:14:02.0000] <hsivonen>
Philip`: seems more like a bug in IE and Safari than a working feature

[03:15:00.0000] <zcorpan>
/me should get started with dom5core soon

[03:15:01.0000] <Philip`>
hsivonen: Bugs are working features, and people often rely on them :-)

[03:15:02.0000] <hsivonen>
Philip`: I wonder if there's an exploitable security hole here

[03:16:00.0000] <Philip`>
hsivonen: There probably is if e.g. you have a blog that uses EBCDIC, and you allow comments and escape all '<' characters to make them safe

[03:17:00.0000] <Philip`>
because someone can write something that gets encoded to <meta charset=us-ascii><script>...</script>

[03:17:01.0000] <Philip`>
but you'd have to be incredibly dumb to run your blog in EBCDIC, so that doesn't seem like a real problem

[03:18:00.0000] <hsivonen>
it seems dumb to publish any Web content in EBCDIC as it doesn't work in Gecko and Opera

[03:18:01.0000] <annevk>
maybe it's real enough for them to stop supporting ebcdic

[03:18:02.0000] <Philip`>
Unfortunately people are dumb

[03:20:00.0000] <Philip`>
(I suppose it'll be worse if browsers ever autodetect EBCDIC)

[03:23:00.0000] <annevk>
it would sure be nice though if we can limit the Web to a finite set of character encodings

[03:25:00.0000] <Philip`>
(http://philip.html5.org/demos/charset/ebcdic/meta-autodetect.html - ah, good, looks like they don't autodetect)

[03:29:00.0000] <annevk>
(from internal IRC: http://kitenet.net/~joey/blog/entry/thread_patterns/ )

[05:45:00.0000] <gsnedders>
/me should probably bring the computing exam paper up here so we can laugh at it

[05:48:00.0000] <Philip`>
hsivonen: Validator.nu says "Warning: Using x-ibm-1252_p100-2000 instead of the declared encoding iso-8859-1." which seems unnecessarily more confusing than "windows-1252"

[05:50:00.0000] <zcorpan>
/me found a bug in webkit.. https://bugs.webkit.org/show_bug.cgi?id=19355

[05:51:00.0000] <hsivonen>
Philip`: Yeah, I just noticed myself. deploying a supposed fix now. will take a while as the validator rebuilds itself

[05:51:01.0000] <hsivonen>
Philip`: thanks

[05:53:00.0000] <hsivonen>
the wonders of HashMaps that harmless-looking key changes make precedence in duplicate cases change

[05:55:00.0000] <hsivonen>
aaargh. now I don't know what caused the encoding weirdness or why my fix isn't working

[05:57:00.0000] <hsivonen>
I also managed to break my instant rollback ability

[05:58:00.0000] <Philip`>
I suppose that means you can't instantly rollback to a version in which instant rollback worked, which sounds like a pain

[06:03:00.0000] <hsivonen>
Philip`: fixed

[06:04:00.0000] <Philip`>
hsivonen: Thanks!

[06:28:00.0000] <annevk>
the TAG concedes on ARIA but not distributed extensibility

[06:29:00.0000] <annevk>
I disagree with "short-term" and all but I guess it's better to leave it alone

[06:29:01.0000] <annevk>
see also http://lists.w3.org/Archives/Public/public-html/2008Jun/0044.html if you haven't been following along

[06:30:00.0000] <hsivonen>
I'd be interested in seeing scenarios where Distributed Extensibility would be used *and* the W3C wouldn't accuse the extender of bad unilateral action

[06:31:00.0000] <Dashiva>
hsivonen: Who said they wanted it to be used? :P

[06:33:00.0000] <annevk>
hsivonen, it seems to me they'd be fine with people using it for their own internal purposes. Or their own vocabulary they want to include in HTML to mark up details of various video game consoles or something like that...

[06:34:00.0000] <hsivonen>
annevk: why does the *World-Wide* *Web* Consortium put effort into catering for such private off-the-Web use cases?

[06:36:00.0000] <annevk>
hsivonen, money? I've no idea why certain Working Groups exist

[06:37:00.0000] <hsivonen>
annevk: this reminds me of http://dbaron.org/log/2006-08#e20060818a

[06:52:00.0000] <annevk>
hmm, in other news, today is the deadline of XHR1 Last Call comments

[06:54:00.0000] <Lachy>
last call deadline for comments doesn't really mean all that much. It's not as if you're going to ignore comments that come afterwards.

[06:56:00.0000] <annevk>
it means that if we addressed all comments and didn't change too much we can move to CR

[06:56:01.0000] <annevk>
which would be nice

[06:57:00.0000] <gsnedders>
I guess that means I should really look over it closely

[06:57:01.0000] <Dashiva>
And there's lots of recent precendent that you don't need to adress comments at all, right ;)

[06:58:00.0000] <gsnedders>
Hmm. It's still odd.

[07:00:00.0000] <Lachy>
Dashiva, you're getting confused by the way the old HTMLWG used to work.

[07:00:01.0000] <Lachy>
good editors don't ignore comments, they just find clever ways to reject them ;-0

[07:00:02.0000] <Lachy>
;-)

[07:01:00.0000] <annevk>
not just the HTML WG, SVG WG too, just see the link from hsivonen

[07:11:00.0000] <Dashiva>
I seem to recall some noise about the css wg too, back in the day

[07:15:00.0000] <Dashiva>
"O! For the love of! We're going to be constrained by the broken DOM APIs?"

[07:15:01.0000] <Lachy>
Dashiva, where is that quote from?

[07:17:00.0000] <Dashiva>
TAG minutes

[07:17:01.0000] <Dashiva>
"I cannot even stomach even abstaining on something that makes - the namespace separator"

[07:18:00.0000] <hsivonen>
when you are on the server side, you get to write your own XML tree API that sucks less than the DOM.

[07:18:01.0000] <hsivonen>
I did

[07:19:00.0000] <Dashiva>
"Why have aria-, why not just pick names that don't clash?"

[07:19:01.0000] <Dashiva>
/me boggles

[07:19:02.0000] <hsivonen>
Dashiva: the answer is that HTML5 and ARIA developments met too late

[07:20:00.0000] <hsivonen>
Dashiva: if the ARIA folks had indicated integration interest to the WHATWG a couple of years ago, it might have been different

[07:20:01.0000] <Dashiva>
hsivonen: The answer is also "aria-x _is_ a name that doesn't clash"

[07:20:02.0000] <hsivonen>
Dashiva: that too

[07:21:00.0000] <Dashiva>
It goes back to the previous comment, they seem to think aria- is a namespace

[07:21:01.0000] <annevk>
I can't really see how ARIA would've been designed differently than what we ended up with now (other than aria-role as opposed to role)

[07:21:02.0000] <Dashiva>
"There may be a small chance we can get them to do something reasonable"

[07:22:00.0000] <Dashiva>
"I want to try and maintain what credibility we can" :)

[07:22:01.0000] <annevk>
Well, maybe a different prefix name and such, but that's details...

[07:26:00.0000] <Dashiva>
a11y-role

[07:26:01.0000] <zcorpan>
annevk: aria could have failed and interested parties could have pushed for html5 features instead

[07:27:00.0000] <annevk>
zcorpan, that wouldn't have affected the design so much (apart from it not being adopted)

[07:28:00.0000] <zcorpan>
annevk: it could have affected html5

[07:31:00.0000] <annevk>
fair enough, oh well, enough "what if" talk

[07:31:01.0000] <annevk>
/me goes to buy a printer and such

[07:32:00.0000] <annevk>
i should really get my expense reports done today

[07:32:01.0000] <annevk>
otherwise accounting will hunt me down

[07:45:00.0000] <hsivonen>
annevk: did you happen to take a closer look at the XRI stuff? what is it about?

[08:06:00.0000] <hsivonen>
http://meyerweb.com/eric/thoughts/2008/06/02/the-missing-link/

[08:06:01.0000] <annevk>
hsivonen, I don't know anything apart from that it's an URI scheme and the people who give out parts of the scheme space monotize on that somehow

[08:06:02.0000] <annevk>
(is it really monotize? google doesn't give clues)

[08:07:00.0000] <Philip`>
(Monetize)

[08:07:01.0000] <hsivonen>
you mean someone other than TLD registrars want to monetize URI space?

[08:07:02.0000] <takkaria>
(monetise)

[08:07:03.0000] <hsivonen>
that doesn't sound good

[08:08:00.0000] <annevk>
hsivonen, http://en.wikipedia.org/wiki/Extensible_Resource_Identifier

[08:09:00.0000] <hsivonen>
how does one make a browser dereference an XRI?

[08:11:00.0000] <hsivonen>
seems to be that OASIS is practising distributed extensibility of the URI system by minting a new scheme :-)

[08:11:01.0000] <hsivonen>
s/be/me/

[08:11:02.0000] <annevk>
HTML vs XML / URIs vs XRIs

[08:13:00.0000] <annevk>
hsivonen, http://www.pacificspirit.com/blog/2008/05/30/detailed_technical_reasons_why_im_against_xris has rationale on why TAG members are against this

[08:13:01.0000] <hsivonen>
on the face of it, this XRI stuff seems to break key goodness of OpenID 1.0

[08:16:00.0000] <annevk>
hsivonen, they're using this in OpenID 2.0 I believe

[08:16:01.0000] <annevk>
hsivonen, OpenID 2.0 is not backwards compatible :(

[08:16:02.0000] <annevk>
(there's also various ways to point to OpenID 2.0, including using this new stuff)

[08:17:00.0000] <hsivonen>
that seems like a bad idea when they should be making OpenID 1.0 look stable and something that people can adopt

[08:17:01.0000] <Dashiva>
Is OpenID 2.0 still OpenPhishing as well?

[08:18:00.0000] <hsivonen>
Dashiva: do you mean 1.0 is OpenPhishing?

[08:18:01.0000] <Dashiva>
Yes

[08:20:00.0000] <annevk>
i've no idea why it's so complex

[08:20:01.0000] <annevk>
i'm not sure i want to take the time to investigate

[08:22:00.0000] <Dashiva>
The only non-monetizing aspect of XRI I've seen is the reassignable-name/permanent-number connection, and I don't know enough to say if that's a valid point

[08:57:00.0000] <othermaciej>
zcorpan: video tests? yes

[09:07:00.0000] <annevk>
grmbl

[09:07:01.0000] <annevk>
driver support strikes again

[09:08:00.0000] <annevk>
/me finds http://www.stchman.com/foo2zjs.html

[09:17:00.0000] <zcorpan>
othermaciej: philip had a pointer

[09:26:00.0000] <annevk>
Hmm, getting this printer to actually work (rather than being recognized and not printing anything when asked) required running some obscure script on a third party site and rebooting my computer...

[11:00:00.0000] <annevk>
hsivonen, so reading http://meyerweb.com/eric/thoughts/2008/06/02/the-missing-link/ it seems to fail bringing up any other use case than <tr>...

[11:01:00.0000] <annevk>
I'm not quite sure whether the linking stuff is a presentational concern or a semantic one.

[11:10:00.0000] <takkaria>
do browser implementers really want a global href not to happen?

[11:11:00.0000] <annevk>
I think the extremely bit is an overstatement, but as can be seen by <object> overloading is not a good idea

[11:13:00.0000] <annevk>
Also, people keep forgetting it's not just href; hreflang, ping, type, etc. would also be affected

[11:59:00.0000] <Philip`>
<base style="display:block; border:2px magenta solid" href="foo" target="_blank">

[12:03:00.0000] <itpastorn>
If one uses onclick to simulate a link on todays <tr>, would a screen reader know it and can it be made usable for a blind user?

[12:07:00.0000] <itpastorn>
My question was not rethorical

[12:07:01.0000] <annevk>
Screen readers should be able to deal with that...

[12:08:00.0000] <itpastorn>
With or without aria?

[12:08:01.0000] <annevk>
Opera Mini even deals with most such situations as well and it doesn't even have access to a DOM / JS execution context

[12:08:02.0000] <annevk>
without

[12:09:00.0000] <itpastorn>
ok

[12:23:00.0000] <annevk>
(FWIW, I don't actually if screen readers deal with it, I'm just saying it's feasible.)

[14:21:00.0000] <gsnedders>
Now, can I have a drop roll?

[14:22:00.0000] <gsnedders>
spec-gen is executing for the first ever time!

[14:23:00.0000] <gsnedders>
It seems to be taking a year, though

[14:44:00.0000] <gsnedders>
http://hg.gsnedders.com/spec-gen/file/9f0ed82d3f20/src/specGen/utils.py#l66 — I need something cheaper than that, badly.

[14:47:00.0000] <Dashiva>
A cheaper way to gEBI?

[14:48:00.0000] <Philip`>
gsnedders: Perform a single initial pass over the document, finding all elements with id and putting them in a dict?

[14:48:01.0000] <gsnedders>
Dashiva: yeah

[14:48:02.0000] <gsnedders>
Philip`: That would mean also updating it at times, when I add it to more elements

[14:48:03.0000] <Philip`>
The cheapest way to implement a method is to never call it

[14:49:00.0000] <Dashiva>
gsnedders: Do you do forward gEBIs, e.g. for elements you haven't seen yet?

[14:49:01.0000] <gsnedders>
Philip`: :)

[14:50:00.0000] <Dashiva>
gsnedders: You should definitely, definitely cache the ids you generate yourself

[14:50:01.0000] <gsnedders>
Dashiva: Well, the entire document is stored in memory at once, so I do look at @id anywhere in it

[14:50:02.0000] <Philip`>
gsnedders: Do you need to update it continuously, or could you do a series of stages like find_and_cache_all_ids(); do_some_processing_that_might_change_elements(); find_and_cache_all_ids(); do_more_processing() ?

[14:50:03.0000] <Dashiva>
gsnedders: So cache the ones you produce, as well as any you look up, that way you'll only lookup each element at most once

[14:50:04.0000] <gsnedders>
/me wonders when it will stop running on HTML 5

[14:51:00.0000] <Philip`>
(I'm assuming you're calling gEBI many more times than once per element-with-an-id, since otherwise it shouldn't be a bottleneck at all)

[14:51:01.0000] <Dashiva>
gsnedders: You should do some stats on how many gEBIs fail

[14:51:02.0000] <Dashiva>
I'd expect close to zero, otherwise there's trouble at work :)

[14:51:03.0000] <gsnedders>
Philip`: The only call is in the method above

[14:52:00.0000] <Dashiva>
gsnedders: And it's a loop to boot

[14:52:01.0000] <gsnedders>
Dashiva: Yeah, but it should rarely run more than once

[14:52:02.0000] <Dashiva>
gsnedders: Well, do some profiling. Check how many gEBIs fail, and how many times the loop runs more than once (and how many for those)

[14:53:00.0000] <Philip`>
I assume the XPath has to traverse the entire tree looking for an element with that id, so it's going to be pretty expensive each time you call it, so just memoising the function might not help much

[14:54:00.0000] <gsnedders>
/me wonders whether using an .iter would be cheaper

[14:54:01.0000] <Dashiva>
I'm actually a bit surprised htmllib doesn't keep an id lookup

[14:54:02.0000] <gsnedders>
Dashiva: The loop never actually runs at all

[14:55:00.0000] <gsnedders>
or at least I don't think so…

[14:55:01.0000] <Dashiva>
gsnedders: In that case, your bottleneck is the xpath.

[14:55:02.0000] <Dashiva>
I'd try what Philip` suggested. Run the whole tree once, collect a dict of all ids. Every time you make an id, add to dict. Never use xpath.

[14:55:03.0000] <Philip`>
If the loop never executes, you could prefix the lines with "#" which makes Python apply super optimisations that make code really really fast and don't change the behaviour if it wouldn't have had any effect anyway

[14:56:00.0000] <gsnedders>
Philip`: :D

[14:56:01.0000] <Philip`>
You could (should?) still use XPath once, to find all the elements with ids in the initial traversal bit

[14:57:00.0000] <Philip`>
but doing it for every id lookup doesn't seem like a good idea

[14:57:01.0000] <gsnedders>
gEBI costs 0.016s per call

[14:57:02.0000] <Dashiva>
Oh yeah, he could use xpath for the initial colletion, yeah

[14:58:00.0000] <gsnedders>
And on (my old copy of) WF2 it is called 80 times

[14:58:01.0000] <Philip`>
Forty million clock cycles? That's not good :-p

[14:58:02.0000] <gsnedders>
HTML 5 has currently been taking around 10 minutes to process

[14:59:00.0000] <gsnedders>
I don't think this is the sort of speed Hixie wanted me to get :)

[14:59:01.0000] <Dashiva>
First you make it work, then you make it fast. One at a time :)

[15:00:00.0000] <gsnedders>
(The textContent function above is called far more times (almost 2000) yet costs almost nothing)

[15:00:01.0000] <gsnedders>
(0.000s per call)

[15:00:02.0000] <Philip`>
gsnedders: How long is gEBI taking in total on HTML5?

[15:00:03.0000] <gsnedders>
(I'm assuming that's rounded down)

[15:00:04.0000] <gsnedders>
Philip`: Dunno. It hasn't finished running yet.

[15:00:05.0000] <Philip`>
gsnedders: Oh. Then why did you say you needed something faster that it, before you knew it was slow?

[15:00:06.0000] <gsnedders>
Philip`: Web Forms 2.0 made is obvious it was slow.

[15:01:00.0000] <Dashiva>
I think he figured after 5 minutes of waiting :)

[15:01:01.0000] <gsnedders>
Philip`: Don't need anything of HTML 5's size to prove that :)

[15:01:02.0000] <gsnedders>
Or, what Dashiva said, then I got wondering why, and ran it on WF2 :P

[15:01:03.0000] <Philip`>
I'd expect it to take O(size^2) time, and HTML5 is only five times larger than WF2, so it should only take ~30 seconds

[15:02:00.0000] <Philip`>
which is still too slow and worth optimising, but isn't five minutes :-)

[15:02:01.0000] <gsnedders>
I think we can conclude it isn't that good :)

[15:02:02.0000] <gsnedders>
Oh, we're over ten minutes now :)

[15:02:03.0000] <gsnedders>
/me throws KeyboardInterrupt

[15:02:04.0000] <Philip`>
You ought to make it print its incremental process, in case it's got stuck in an infinite loop

[15:02:05.0000] <gsnedders>
Guess what function it was in when I threw it!

[15:02:06.0000] <gsnedders>
gEBI!

[15:02:07.0000] <Philip`>
sleep?

[15:03:00.0000] <gsnedders>
No, gEBI :P

[15:04:00.0000] <Philip`>
/me doesn't understand how it could be that much slower on HTML5 than on WF2

[15:06:00.0000] <Dashiva>
O(n^2) probably has something to do with it

[15:07:00.0000] <Philip`>
Dashiva: But n=5 and 80*0.016s = 1.3s so it shouldn't be nearly that bad, unless I'm horribly mistaken somewhere

[15:07:01.0000] <gsnedders>
/me tries html5.src with his really naïve cache

[15:08:00.0000] <Philip`>
gsnedders: On line 48, did you intend to remove all space characters from anywhere in source? (.strip only strips leading/trailing characters, so that wouldn't quite work)

[15:08:01.0000] <Philip`>
Oh, maybe I'm missing the bit a few lines later

[15:08:02.0000] <gsnedders>
Philip`: :)

[15:08:03.0000] <gsnedders>
naïve caching gets HTML 5 down to 17.859s

[15:09:00.0000] <Philip`>
By the way, your loop should probably increment i

[15:09:01.0000] <gsnedders>
LOL

[15:09:02.0000] <Philip`>
else it'll loop forever

[15:09:03.0000] <gsnedders>
True.

[15:09:04.0000] <Dashiva>
oh snap!

[15:09:05.0000] <Philip`>
and if your cache fixes that, then your cache is broken :-p

[15:09:06.0000] <gsnedders>
That'll be the ten minutes of running, I bet :P

[15:09:07.0000] <Dashiva>
No wonder it was in gEBI

[15:09:08.0000] <gsnedders>
Philip`: Yeah, my cache is broken

[15:09:09.0000] <gsnedders>
Philip`: It just takes the initial state and never updates it

[15:10:00.0000] <Philip`>
(You quite possibly want the cache anyway, even without the infinite loop)

[15:11:00.0000] <gsnedders>
/me tries running HTML 5 without the cache but with a working loop

[15:12:00.0000] <Philip`>
/me predicts 25 seconds

[15:12:01.0000] <gsnedders>
Hint: It's all ready more than that

[15:12:02.0000] <Philip`>
26?

[15:12:03.0000] <gsnedders>
/me wonders if there's another loop

[15:13:00.0000] <gsnedders>
/me adds print i

[15:13:01.0000] <Dashiva>
/me watches scrollback disappear into infinity

[15:14:00.0000] <gsnedders>
That's not even getting called

[15:14:01.0000] <Dashiva>
Instead of printing i, you could add a "if i == 3 break". That way you won't get the previous problem :)

[15:14:02.0000] <gsnedders>
we get as far as Document.xpath(), then it takes an hour there

[15:15:00.0000] <gsnedders>
/me realises

[15:15:01.0000] <gsnedders>
actually running the copy you just edited helps

[15:15:02.0000] <Philip`>
Is your document cyclic?

[15:15:03.0000] <Dashiva>
Who needs bugs with coding practices like these? :P

[15:16:00.0000] <gsnedders>
Dashiva: Me! :P

[15:16:01.0000] <Philip`>
Clearly you need to make this program multithreaded to get optimum performance on modern processors

[15:16:02.0000] <gsnedders>
Dashiva: OK, my scrollback is now vanishing

[15:16:03.0000] <gsnedders>
Dashiva: Albeit slowly

[15:17:00.0000] <gsnedders>
The most times the loop body is getting executed is twice

[15:17:01.0000] <gsnedders>
1440 dfn elements in my copy of HTML 5.

[15:17:02.0000] <gsnedders>
No wonder it's bad :)

[15:17:03.0000] <Dashiva>
Running time now?

[15:18:00.0000] <gsnedders>
Dunno, didn't look when I started it

[15:18:01.0000] <gsnedders>
140.484s

[15:18:02.0000] <gsnedders>
     6958  122.344    0.018  122.344    0.018 {method 'xpath' of 'lxml.etree._Element' objects}

[15:18:03.0000] <gsnedders>
Heh. That's lovely :P

[15:19:00.0000] <Philip`>
_Element?

[15:19:01.0000] <Philip`>
gEBI was calling it on a Document...

[15:19:02.0000] <Dashiva>
gsnedders: Need a legend for those numbers

[15:19:03.0000] <Philip`>
Is much (cumulative) time spent in textContent?

[15:19:04.0000] <gsnedders>
Dashiva:    ncalls  tottime  percall  cumtime  percall filename:lineno(function)

[15:20:00.0000] <gsnedders>
Philip`: the root element is still an _Element :P

[15:20:01.0000] <gsnedders>
Philip`: 0.285s

[15:20:02.0000] <Philip`>
Oh, right, you just have broken naming conventions and use uppercase letters for variables

[15:20:03.0000] <Dashiva>
gsnedders: And with caching?

[15:20:04.0000] <Philip`>
so I thought it was a class name instead

[15:20:05.0000] <gsnedders>
Philip`: Peh. I just copied that from DOM :P

[15:21:00.0000] <gsnedders>
Philip`: (there was a reason why I did originally use DOM)

[15:21:01.0000] <Philip`>
gsnedders: It'd be saner to copy the Python conventions :-)

[15:22:00.0000] <gsnedders>
Philip`: textContent is cheap, and I doubt I could rewrite it to be quicker. If you iterate over everything you need to check if you have an element or a comment before you take _Element.text, while always taking .tail

[15:22:01.0000] <gsnedders>
Philip`: It would, but I currently want to get something that takes less than 2 minutes to create cross-references on HTML 5 :)

[15:22:02.0000] <Philip`>
gsnedders: You could call textContent half as many times

[15:23:00.0000] <Philip`>
but if it's only 0.3s then there's no point

[15:23:01.0000] <Philip`>
Are you including the time taken to parse the document?

[15:23:02.0000] <Dashiva>
Philip`: Let's stop distracting him from implementing an improvement with talk :)

[15:23:03.0000] <gsnedders>
Philip`: I know I've thought of doing that before

[15:23:04.0000] <gsnedders>
Dashiva: I need to sleep, anyway

[15:23:05.0000] <Philip`>
And is this two minutes in a profiler that makes everything really slow?

[15:24:00.0000] <gsnedders>
Philip`: No

[15:24:01.0000] <gsnedders>
Philip`: This is cProfile, which has next to no overhead. It really does take that long.

[15:24:02.0000] <gsnedders>
http://stuff.gsnedders.com/html5.html — find broken xrefs!

[15:26:00.0000] <Philip`>
gsnedders: That's only true if you consider 2.5x speed decrease to be next to no overhead

[15:26:01.0000] <Philip`>
(At least that's what I get when running html5lib with cProfile)

[15:26:02.0000] <gsnedders>
Philip`: I've never found it that slow, compared with other profilers :P

[15:27:00.0000] <Philip`>
That's just because other profilers are even more slow

[15:27:01.0000] <gsnedders>
/me uses time

[15:27:02.0000] <gsnedders>
let us see how long this takes :P

[15:28:00.0000] <Dashiva>
/me wonders why gsnedders is timing an implementation he knows is inefficient :)

[15:28:01.0000] <gsnedders>
Dashiva: To see how slow cProfile really is here :P

[15:29:00.0000] <annevk>
gsnedders, on that page various <dfn> elements don't have an id= assigned

[15:29:01.0000] <Philip`>
gsnedders: I found 64 broken references

[15:29:02.0000] <Philip`>
#refsWF2, #refsXHTML2, #refsRFC2119, #refsHALTINGPROBLEM, ...

[15:29:03.0000] <annevk>
(i also think that HTML-elements would be better as html-elements

[15:29:04.0000] <annevk>
)

[15:30:00.0000] <Dashiva>
Philip`: Those are Hixie's missing refs, aren't they?

[15:30:01.0000] <gsnedders>
annevk: like what?

[15:30:02.0000] <Philip`>
Dashiva: Yes, but nobody said I had to find broken links introduced by gsnedders

[15:30:03.0000] <gsnedders>
Philip`: Smartass.

[15:31:00.0000] <Philip`>
gsnedders: You've done something that breaks the spec-splitter

[15:31:01.0000] <Philip`>
(It splits the spec into five chunks, one of which is 1.4MB)

[15:31:02.0000] <gsnedders>
Philip`: 131.631s without cProfile

[15:32:00.0000] <gsnedders>
Philip`: No, it just doesn't do something that the spec-splitter needs yet, realistically :)

[15:32:01.0000] <Philip`>
gsnedders: Do you know what that something is?

[15:33:00.0000] <annevk>
gsnedders, search for <dfn>

[15:33:01.0000] <jgraham>
/me likes the date of 1901

[15:34:00.0000] <gsnedders>
annevk: hmm, odd

[15:34:01.0000] <gsnedders>
jgraham: That's Hixie, not me :)

[15:34:02.0000] <annevk>
gsnedders, so I'd suggest fixing that and lowercasing id values

[15:34:03.0000] <annevk>
gsnedders, except when id is explicitly set of course

[15:34:04.0000] <annevk>
no need to change what the author meant

[15:34:05.0000] <gsnedders>
annevk: yeah, sure

[15:34:06.0000] <Hixie>
1901?

[15:35:00.0000] <gsnedders>
Hixie: [DATE: 01 Jan 1901]

[15:35:01.0000] <Hixie>
ah

[15:35:02.0000] <gsnedders>
Hixie: [DATE] has the exact same affect, FWIW

[15:35:03.0000] <annevk>
gsnedders, looks quite nice already btw

[15:35:04.0000] <Hixie>
i just use it to remind myself of what the format has to be

[15:35:05.0000] <gsnedders>
Hixie: Ah

[15:35:06.0000] <Philip`>
Hmm, "Cue ranges" is missing a </dl>

[15:35:07.0000] <Philip`>
which breaks everything

[15:36:00.0000] <gsnedders>
Philip`: Well, I didn't write html5lib's serialiser

[15:36:01.0000] <annevk>
gsnedders, hopefully it's not slow on sanely-sized specs :)

[15:36:02.0000] <gsnedders>
*nudge*

[15:36:03.0000] <gsnedders>
annevk: Currently around 5s on WF2 :(

[15:36:04.0000] <Philip`>
gsnedders: html5lib's serialiser works perfectly well for me

[15:36:05.0000] <gsnedders>
Philip`: Well, I ain't doing nothin' :P

[15:36:06.0000] <Philip`>
(The </dl> is there in the spec-splitter's normal output)

[15:36:07.0000] <jgraham>
gsnedders: I recommend using the serializer with optional tags on

[15:37:00.0000] <jgraham>
(since I guess that's what the problem is)

[15:37:01.0000] <Philip`>
I use it with optional tags off, and it works fine

[15:37:02.0000] <Philip`>
(quote_attr_values=True, inject_meta_charset=False)

[15:37:03.0000] <jgraham>
Oh well, it's gsnedders fault then :)

[15:37:04.0000] <gsnedders>
annevk: Once done, it should be the case that html5lib is the slowest part

[15:37:05.0000] <Philip`>
(at least with the latest html5lib, and latest version of the spec)

[15:37:06.0000] <annevk>
gsnedders, 5s seems sort of acceptable

[15:38:00.0000] <gsnedders>
This is a version of the spec from Feb 13th :P

[15:38:01.0000] <gsnedders>
and almost latest html5lib

[15:38:02.0000] <annevk>
gsnedders, yeah yeah, I and everyone else on the planet know about html5lib perf :p

[15:39:00.0000] <Philip`>
gsnedders: That's kind of odd, then

[15:40:00.0000] <gsnedders>
I don't touch the actual raw data, and I don't do much that's crazy

[15:40:01.0000] <gsnedders>
http://hg.gsnedders.com/hgwebdir.cgi/spec-gen/file/1909801197f0/specGen/processes/xref.py#l86 — that's as crazy as it gets

[15:40:02.0000] <Philip`>
(This is line 12218)

[15:42:00.0000] <gsnedders>
Oh well. I'll look at this all tomorrow.

[15:42:01.0000] <gsnedders>
And try and work out the bizarre bug of it not having any @id

[15:42:02.0000] <gsnedders>
http://hg.gsnedders.com/hgwebdir.cgi/spec-gen/file/1909801197f0/specGen/processes/xref.py#l39 — it's hardly complex

[15:46:00.0000] <Philip`>
By the way, it'd be nice if the output of this script was well-formed XML, so later tools (like the spec splitter) could use a nice fast standard XML parser

[15:49:00.0000] <Dashiva>
What about the spec author's wishes? :)

[15:50:00.0000] <Philip`>
What wishes are those?

[15:51:00.0000] <Dashiva>
Maybe he likes using optional end tags

[15:51:01.0000] <Philip`>
The spec can be written in HTML, and the final published version could be converted to HTML, but it's much easier and faster if the intermediate stages are all XML

[15:52:00.0000] <Dashiva>
But once you add that end tag, the information is lost. There's no way to remove it later :)

[15:52:01.0000] <Philip`>
There's plenty of ways to remove it later - that's what html5lib's serialiser does

[15:53:00.0000] <Philip`>
See e.g. http://canvex.lazyilluminati.com/wa1/multipage/video.html - lots of non-present end tags there, in all the sensible places

[15:54:00.0000] <Philip`>
(Well, lots of non-present end tags *not* there)

[15:55:00.0000] <Dashiva>
But that could remove end tags that were present in the original :)

[15:55:01.0000] <Philip`>
and you'll get the same information loss regardless of whether you use HTML or XML in the toolchain, since it's always going to get parsed into a tree that loses that information and then get serialised

[15:56:00.0000] <Dashiva>
/me ponders whether to keep going

[15:58:00.0000] <annevk>
/me sighs at yet another W3C mailing list

[15:59:00.0000] <Philip`>
Mailing lists are old fashioned

[16:00:00.0000] <jwalden>
yeah, use IRC!

[16:00:01.0000] <Philip`>
The W3C should get with the times, and move all WG business to Twitter

[16:00:02.0000] <Dashiva>
Mike was talking about setting up a slashcode installation for htmlwg. :)

[16:00:03.0000] <jgraham>
Philip`: I have been tempted to suggest that to the people who complain that the W3C uses mailing lists

[16:01:00.0000] <jgraham>
since they never seem to have a good reason for disliking thm

[16:01:01.0000] <Philip`>
Dashiva: Does that mean we could mod people Troll?

[16:01:02.0000] <jgraham>
or at least one that I agree with :)

[16:02:00.0000] <Dashiva>
Philip`: That was the idea, I believe

[16:02:01.0000] <Dashiva>
Getting the WG to sort out noise collectively, instead of everyone doing it individually

[16:03:00.0000] <jgraham>
I think modding people troll would be much worse than the current situation

[16:03:01.0000] <jgraham>
Because people would react badly

[16:04:00.0000] <jgraham>
and start making a fuss about how they were being oppressed or whatever

[16:04:01.0000] <Philip`>
Make it so that when you mod someone Troll, they seem themselves as being modded Insightful instead

[16:04:02.0000] <Philip`>
then they'll never notice the oppression

[16:04:03.0000] <Hixie>
there are plenty of ways to foster good communities without modding or permanent banning

[16:04:04.0000] <Dashiva>
jgraham: Could always prevent negative modding, and just set a high positive treshold for viewing instead :)

[16:05:00.0000] <Hixie>
the reason the w3c lists have problems is that they aren't maintained like a proper community

[16:05:01.0000] <Dashiva>
Yeah, if the people in charge are willing to..

[16:05:02.0000] <jgraham>
Philip`: Only if they only have a single account and anonymous viewing is disallowed


2008-06-03
[17:12:00.0000] <Philip`>
/me tries implementing a very extremely primitive version of cInputStream, which only returns the string "Hello world" (repeating infinitely) and whose C code calls the class "Noddy" because it's copied from the Python documentation

[17:12:01.0000] <Philip`>
and it seems to run char() about three times faster than a pure Python version, which makes it seem actually worthwhile

[17:16:00.0000] <Philip`>
I believe cInputStream only needs to implement three functions, so it should be pretty straightforward...

[17:32:00.0000] <annevk>
only three times faster?

[17:32:01.0000] <annevk>
still quite a lot I suppose

[17:33:00.0000] <annevk>
I guess all the other Python bits impact the perf as well then. I would expect a C version to be a 100 times faster or so.

[17:33:01.0000] <Philip`>
All the method's doing is returning the next character from a string and increasing the offset counter, so there isn't a huge scope for improvements

[17:36:00.0000] <Philip`>
http://krijnhoetmer.nl/irc-logs/html-wg/20070710#l-239

[17:37:00.0000] <Philip`>
(100x seems about right)

[17:37:01.0000] <annevk>
(I got that number from a collegue who did some comparative testing.)

[18:13:00.0000] <Hixie>
most uses of alt=<...> seem to be pretty serious errors (people putting markup in alt="")

[18:13:01.0000] <Hixie>
so we could probably turn alt=<...> into the magic "not a description but a type of image" mode

[18:14:00.0000] <Hixie>
(as in, instead of <img important alt=...>, we would have <img alt="<...>">)

[18:16:00.0000] <Hixie>
or we could use alt={...}, the only use of that seems to be for cases where alt=&...; would have been better

[18:16:01.0000] <Hixie>
we could even say that in {...} if the ... matches an entity name then it's treated as an entity, otherwise it's treated as an important image...

[18:19:00.0000] <Philip`>
I'm not sure what you mean about alt=&...;

[18:19:01.0000] <Philip`>
ALT="{short description of image}" seems the most common value in my data

[18:20:00.0000] <Philip`>
(<img alt="<...>"> is nasty because everyone will write it as <img alt="&lt;...&gt;"> and it'll be ugly)

[18:21:00.0000] <Hixie>
yeah i agree with <>

[18:21:01.0000] <Hixie>
alt={alpha} is the most common {...} value i see

[18:22:00.0000] <Philip`>
I don't see that at all

[18:22:01.0000] <Hixie>
which would probably be best as alt=&alpha;

[18:22:02.0000] <Hixie>
i expect my sample has a lot more scientific documents

[18:25:00.0000] <Philip`>
http://philip.html5.org/data/alt-in-braces.txt

[18:27:00.0000] <Philip`>
It'd be kind of annoying for people who do <img src="rendered-latex.gif" alt="latex source">, since that'd occasionally be {...}

[18:29:00.0000] <Hixie>
i dropped anything that had fewer than 10,000 pages, and my list was: http://damowmow.com/temp/alt-in-braces.txt

[18:29:01.0000] <Philip`>
Might all the alphas come from one site with lots of pages?

[18:30:00.0000] <Hixie>
quite possible

[18:31:00.0000] <Hixie>
(or from one tool)

[18:33:00.0000] <Philip`>
http://www.cmaj.ca/cgi/content/full/173/12/1441 has alt="{dagger}"

[18:33:01.0000] <Philip`>
http://jcem.endojournals.org/cgi/content/abstract/87/4/1687 has alt="{chi}"

[18:33:02.0000] <Philip`>
Those seem to be the only entity-like things I got

[18:34:00.0000] <Philip`>
/me notices some similarity in their URLs

[18:34:01.0000] <Hixie>
here are 15 pages that used alt={alpha}, selected at random (so if there's one site drowning the results, you should see a lot of that site):

[18:35:00.0000] <Hixie>
unlinked alt={alpha},http://agron.scijournals.org/cgi/content-nw/full/91/6/928/FIG6?ck=nck

[18:35:01.0000] <Hixie>
unlinked alt={alpha},http://www.good-sa.com.tw/97.html

[18:35:02.0000] <Hixie>
unlinked alt={alpha},http://hyper.ahajournals.org/cgi/collection/other_vasc_bio?notjournal=ahajournals&page=156

[18:35:03.0000] <Hixie>
unlinked alt={alpha},http://www.pnas.org/papbysection.shtml

[18:35:04.0000] <Hixie>
unlinked alt={alpha},http://toxsci.oxfordjournals.org/cgi/content/full/69/2/354/F2

[18:35:05.0000] <Hixie>
unlinked alt={alpha},http://journals.asm.org/cgi/figsearch?FIRSTINDEX=1540&SEARCHID=1&hits=10&RESULTFORMAT=&FULLTEXT=embryos&andorexactfulltext=&resourcetype=HWFIG

[18:35:06.0000] <Hixie>
unlinked alt={alpha},http://atvb.ahajournals.org/cgi/content/full/26/1/143

[18:35:07.0000] <Hixie>
unlinked alt={alpha},http://jb.asm.org/cgi/content/full/185/1/89?maxtoshow=&HITS=10&hits=10&RESULTFORMAT=&fulltext=lacz&searchid=1&FIRSTINDEX=1400&resourcetype=HWFIG

[18:35:08.0000] <Hixie>
unlinked alt={alpha},http://www.jimmunol.org/cgi/content/full/174/1/205?ck=nck

[18:35:09.0000] <Hixie>
unlinked alt={alpha},http://ajpheart.physiology.org/papbyrecent.shtml

[18:35:10.0000] <Hixie>
unlinked alt={alpha},http://bloodjournal.hematologylibrary.org/cgi/content/abstract/103/4/1286

[18:35:11.0000] <Hixie>
unlinked alt={alpha},http://circ.ahajournals.org/cgi/collection/endo_vastype_no?notjournal=ahajournals&page=236&ck=nck

[18:35:12.0000] <Hixie>
unlinked alt={alpha},http://ejcts.ctsnetjournals.org/cgi/content/full/25/3/352?ck=nck

[18:35:13.0000] <Hixie>
unlinked alt={alpha},http://stemcellbiology.blogspot.com/2007_09_01_archive.html

[18:35:14.0000] <Hixie>
unlinked alt={alpha},http://bloodjournal.hematologylibrary.org/cgi/content/abstract/106/7/2302

[18:35:15.0000] <Hixie>
looks like ahajournals.org might be overrepresented

[18:35:16.0000] <Hixie>
but that's still a broad selection

[18:37:00.0000] <Philip`>
All but 2 of those are running the same software

[18:39:00.0000] <Philip`>
(e.g. breaking the URLs makes all of them (but 2) show pretty much identical 404 pages)

[18:40:00.0000] <Hixie>
makes sense

[20:08:00.0000] <Philip`>
Hmm... cInputStream reduces spec parse time from 16.8s by 20% to 13.5s

[20:08:01.0000] <Philip`>
which is alright but not fantastic

[20:11:00.0000] <Philip`>
(That code could probably be optimised to get another 5% or so)

[20:12:00.0000] <Philip`>
(mainly by caching the charsUntil patterns)

[00:39:00.0000] <gsnedders>
/me yawns

[00:42:00.0000] <gsnedders>
I need test cases for the spec-gen

[00:43:00.0000] <gsnedders>
I don't really want to fix bugs before that

[01:20:00.0000] <gsnedders>
hmm. All the broken xrefs seem to be those with <dfn><code>foo</code></dfn>

[01:25:00.0000] <virtuelv>
shouldn't those really have been <code><dfn>foo</dfn></code>?

[01:31:00.0000] <hsivonen>
Hixie: should id="" be checked for uniqueness?

[01:31:01.0000] <hsivonen>
Hixie: <foo id=""><bar id=""> should that only whine about empty string ids or also about duplicate ids?

[01:36:00.0000] <hsivonen>
othermaciej: Duplicate IDs are now checked. Thanks.

[01:37:00.0000] <hsivonen>
in other news, Validator.nu now checks meta refresh values

[01:37:01.0000] <othermaciej>
hsivonen: cool, glad you added it

[01:42:00.0000] <hsivonen>
Philip`: I rephrased the non-streamability message as you requested

[01:42:01.0000] <hsivonen>
thanks

[01:55:00.0000] <annevk>
http://developers.facebook.com/fbopen/

[01:56:00.0000] <jgraham>
Has anyone ever checked how AT sees <figure><legend>? Apparently screenreaders have some special behaviour for <legend> that might prevent graceful degradation

[02:01:00.0000] <mpt>
hsivonen, do you check uniqueness of, and existence of the elements for, for= values?

[02:03:00.0000] <annevk>
for= also needs to do type checking

[02:03:01.0000] <hsivonen>
mpt: I think I do (for HTML5--not HTML4)

[02:03:02.0000] <hsivonen>
let's see

[02:03:03.0000] <jwalden>
http://svn.facebook.com/svnroot/platform/fbopen/lib/fbml/fbjs.php is the real meat as far as I can tell there

[02:03:04.0000] <annevk>
<label for=x>...</label> <input type=hidden id=x> should not be conforming

[02:04:00.0000] <annevk>
<label for=x>...</label> <div id=x></div> should not be conforming

[02:04:01.0000] <annevk>
etc.

[02:04:02.0000] <hsivonen>
mpt: yeah, I check for it

[02:04:03.0000] <mpt>
cool

[02:05:00.0000] <hsivonen>
the XHTML 1.0 / HTML 4 support in V.nu really sucks compared to the (X)HTML5 support

[02:05:01.0000] <hsivonen>
I wonder if I should just remove XHTML 1.0 / HTML 4 support or keep fixing the breakage

[02:05:02.0000] <hsivonen>
or leave it in a sucking state

[02:06:00.0000] <annevk>
hsivonen, it doesn't catch the type=hidden above

[02:06:01.0000] <annevk>
hsivonen, it does catch the <div> element

[02:06:02.0000] <hsivonen>
annevk: good catch.

[02:07:00.0000] <hsivonen>
annevk: is referring to type=hidden forbidden in the spec? (it probably should be)

[02:07:01.0000] <annevk>
might not be forbidden just yet

[02:08:00.0000] <annevk>
in fact, I don't think WF2 makes additional requirements about for

[02:11:00.0000] <annevk>
a more complicated check might be not allowing referencing a <datalist> child unless the <label> is itself a child of the same <datalist>

[02:11:01.0000] <hsivonen>
annevk: I found another type=hidden bug while I was at it. thanks

[02:11:02.0000] <hsivonen>
/me has totally forgotten about datalist

[02:12:00.0000] <hsivonen>
why would labels refer to datalists?

[02:12:01.0000] <annevk>
<label for=x> ... </label> <datalist> <select id=x> </select> </datalist>

[02:12:02.0000] <hsivonen>
eww.

[02:13:00.0000] <annevk>
the conforming case would be <datalist> <label for=x> </label> <select id=x> </select> </datalist>

[02:13:01.0000] <annevk>
it seems kind of nasty to check

[02:14:00.0000] <hsivonen>
consider http://bugzilla.validator.nu/show_bug.cgi?id=232 postponed 

[02:14:01.0000] <hsivonen>
(deploying the easier fix now...)

[02:14:02.0000] <annevk>
yeah, fair enough

[02:15:00.0000] <annevk>
othermaciej, any progress on your Forms TF stuff?

[02:15:01.0000] <annevk>
othermaciej, the Forms WG people have stopped radio silence, maybe we should say something back

[02:16:00.0000] <othermaciej>
annevk: yeah, we should

[02:16:01.0000] <othermaciej>
annevk: I think I can get something written in the next few days

[02:16:02.0000] <othermaciej>
though if I don't get it done before next week, then I'll be out of action for a bit due to WWDC

[02:17:00.0000] <annevk>
better get on it then ;)

[03:26:00.0000] <Dashiva>
Just mark it as beta :)

[03:26:01.0000] <Dashiva>
oops. that was one scrollback too little

[03:37:00.0000] <Hixie>
man, some people are whiny

[03:39:00.0000] <annevk>
maybe that's how things worked out for them when they were little :)

[03:40:00.0000] <Lachy>
who's whining?

[03:40:01.0000] <Dashiva>
The editorial comments on xhtml and stuff, maybe

[03:41:00.0000] <Lachy>
ah, I still have hundreds of mails to catch up on from last weekend

[03:43:00.0000] <Dashiva>
I spent most of the weekend wondering why there wasn't any activity on public-html. Then I realized it was no longer May.

[03:43:01.0000] <hsivonen>
I'm quite happy to find less email

[03:44:00.0000] <Hixie>
nah, direct mail to me

[03:45:00.0000] <Hixie>
though i am getting tired of having to deal with the w3c

[03:46:00.0000] <Hixie>
hsivonen: i recommend that you make the validator collapse all the presentational attributes used with the value 0 or equivalent into one error "your document contains obsolete presentational markup"

[03:48:00.0000] <Hixie>
this global <a> thing is a bit irritating too

[03:48:01.0000] <Hixie>
could someone please explain to me what is wrong with onclick="getElementsByTagName('a')[0].click()" ?

[03:48:02.0000] <annevk>
it's more typing than href

[03:48:03.0000] <Dashiva>
It requires scripting

[03:48:04.0000] <Hixie>
waah.

[03:48:05.0000] <Philip`>
It needs CSS to give the right cursor, and JS to update the status bar

[03:49:00.0000] <Philip`>
(Er, do browsers still let you update the status bar?)

[03:49:01.0000] <Dashiva>
Sometimes, some of them

[03:49:02.0000] <annevk>
Hixie, maybe it's a CSS matter

[03:49:03.0000] <annevk>
Hixie, in that CSS could provide a way to make the target area of the link span the entire table row the link is in

[03:50:00.0000] <Hixie>
yeah well

[03:50:01.0000] <Hixie>
would be nice if the csswg was doing anything

[03:50:02.0000] <Dashiva>
/me gasps

[03:50:03.0000] <annevk>
i'm doing something

[03:50:04.0000] <annevk>
i moved the namespaces module to CR :)

[03:50:05.0000] <annevk>
next is media queries and cssom view

[03:51:00.0000] <Hixie>
uh huh

[03:51:01.0000] <Hixie>
i mean something useful :-P

[03:51:02.0000] <Hixie>
well, cssom view is useful

[03:52:00.0000] <annevk>
media queries is something html5 depends on too

[03:53:00.0000] <Hixie>
media queries is fine already

[03:53:01.0000] <Hixie>
i mean it has some minor issues

[03:53:02.0000] <Hixie>
but there are bigger fish to fry

[03:53:03.0000] <Hixie>
the other part of cssom, for instance

[03:53:04.0000] <annevk>
hah

[03:53:05.0000] <Hixie>
and the animation proposals from apple

[03:54:00.0000] <Hixie>
the animation stuff is probably the number one priority right now

[03:54:01.0000] <annevk>
dean jackson will be working on that, but the CSS WG is sort of slow setting it all up, not sure what's holding everything back

[03:54:02.0000] <Hixie>
if i wasn't committed to finishing html5 i'd be doing that i expect

[03:54:03.0000] <Hixie>
sadly to do a good job requires a rewrite of css from teh ground up

[03:54:04.0000] <Hixie>
since css2.1 is so not well written

[03:54:05.0000] <annevk>
(media queries parsing was defined in the same sense html4 parsing was defined so it needed some fixup)

[03:54:06.0000] <Hixie>
(and i say that as one of hte editors)

[03:55:00.0000] <annevk>
2012

[03:56:00.0000] <Hixie>
yeah

[03:56:01.0000] <Hixie>
well

[03:56:02.0000] <Hixie>
dom core first

[03:56:03.0000] <Hixie>
then svg

[03:57:00.0000] <Hixie>
and maybe http if gsnedders hasn't done it by then

[03:57:01.0000] <annevk>
dom core is zcorpan

[03:57:02.0000] <Hixie>
well he has til 2012 i guess :-)

[03:57:03.0000] <hsivonen>
Hixie: hmm. I was thinking about lobbying to allow the presentational stuff and offering warnings for them as a checkbox

[03:58:00.0000] <takkaria>
"then svg", heh

[03:59:00.0000] <Hixie>
hsivonen: i don't expect such lobbying to be fruitful

[03:59:01.0000] <Hixie>
hsivonen: the only use case seems to be "silence the validator"

[03:59:02.0000] <Hixie>
hsivonen: and that's easier done in ui

[03:59:03.0000] <Hixie>
annevk: is chaals around?

[04:00:00.0000] <Hixie>
oh man what's this geo wg crap

[04:01:00.0000] <Hixie>
just as we're fixing the waf+webabi mess of two wgs, we're splitting the new wg into two wgs again.

[04:01:01.0000] <Philip`>
You require e.g. frameborder="0" to make content work correctly in some current UAs (i.e. IE), and it'd be nice if valid HTML5 content could work in current UAs

[04:01:02.0000] <Hixie>
is the w3c simply unable to learn from its mistakes?

[04:02:00.0000] <takkaria>
/me wonders why "CSS Marquee" is a high priority spec of the csswg

[04:02:01.0000] <annevk>
Hixie, chaals is in Brasil last I heard. You could e-mail him I suppose

[04:03:00.0000] <Philip`>
takkaria: Presumably because it's a very popular feature in China

[04:03:01.0000] <annevk>
Hixie, I don't get the geo stuff either, all browser vendors + google indicated a preference for the new WA WG as venue

[04:06:00.0000] <Philip`>
(Oh, I guess my presumption was wrong, since the thingy says it's mainly for mobile browsers)

[04:18:00.0000] <Hixie>
wtf does this mean:

[04:18:01.0000] <Hixie>
svn: REPORT request failed on '/svn/!svn/vcc/default'

[04:18:02.0000] <Hixie>
svn: Target path does not exist

[04:18:03.0000] <Hixie>
...when i try to "svn up" the html5lib directory

[04:21:00.0000] <Hixie>
ooo, it works if i do it when i'm in the directory at its "real" path instead of a symlinked path

[04:21:01.0000] <Hixie>
weird

[04:22:00.0000] <Philip`>
If it's a symlinked subdirectory, I guess it'd be looking for ../../.svn/ and would get unhappy because that doesn't exist

[04:23:00.0000] <Hixie>
i don't think the real location has one of those either

[04:23:01.0000] <Hixie>
but oh well

[04:23:02.0000] <Hixie>
whatever

[04:23:03.0000] <Hixie>
hey, hsivonen fixed dup id detection

[04:23:04.0000] <Hixie>
/me fixes the dup ids in the spec

[04:24:00.0000] <Hixie>
annevk: when are we publishing again?

[04:24:01.0000] <annevk>
the plan is Thursday

[04:24:02.0000] <Hixie>
k

[04:24:03.0000] <annevk>
it largely depends on the W3C getting its act together though, offline-webapps was scheduled for last Friday...

[04:25:00.0000] <Hixie>
so when do i have to have the boilerplate updated?

[04:25:01.0000] <Hixie>
is now ok?

[04:26:00.0000] <annevk>
you mean making it WD-ready? I guess they want it as late as possible. Personally I'd say that now is ok

[04:26:01.0000] <Hixie>
k

[04:29:00.0000] <Hixie>
um

[04:29:01.0000] <Hixie>
looks like the multipage script broke when i updated it

[04:29:02.0000] <Hixie>
guess i'd better look into that

[04:29:03.0000] <Philip`>
Broke in which ways?

[04:30:00.0000] <Philip`>
("Updated" as in "updated to the latest version from SVN"?)

[04:32:00.0000] <Hixie>
ImportError: No module named serializer

[04:32:01.0000] <Hixie>
yes

[04:33:00.0000] <Philip`>
Sounds like an old version of html5lib

[04:33:01.0000] <Hixie>
updated that too

[04:33:02.0000] <Hixie>
svn up

[04:34:00.0000] <Philip`>
Hmm

[04:34:01.0000] <Philip`>
Certain? :-)

[04:34:02.0000] <Hixie>
yes

[04:34:03.0000] <Hixie>
what is python setup.py install going to do?

[04:35:00.0000] <Philip`>
Probably install into /usr/python2.5/etc

[04:36:00.0000] <Philip`>
(Is it using an installed old version of html5lib?)

[04:36:01.0000] <Hixie>
that's not going to work so well here.

[04:36:02.0000] <Hixie>
yeah, looks like it might be

[04:36:03.0000] <Hixie>
oh i see

[04:36:04.0000] <Hixie>
i symlinked to the wrong place

[04:37:00.0000] <Hixie>
for some definition of wrong

[04:40:00.0000] <Philip`>
/me goes away for half an hour

[04:40:01.0000] <Philip`>
Hixie: If it fails when calling some xpath method, that's because it needs lxml 2.0

[04:41:00.0000] <Philip`>
Otherwise it ought to work, hopefully :-)

[04:41:01.0000] <Hixie>
`now i get:

[04:41:02.0000] <Hixie>
ImportError: No module named lxml

[04:41:03.0000] <annevk>
dependencies suck

[04:41:04.0000] <Hixie>
yes.

[04:41:05.0000] <Philip`>
Ah, in that case you also need lxml 2.0

[04:41:06.0000] <Hixie>
html5lib used to be much easier to use :-)

[04:42:00.0000] <Hixie>
now i have to install it and add libraries...

[04:42:01.0000] <Philip`>
That's not html5lib's fault :-)

[04:42:02.0000] <Philip`>
It's just because I chose to use the lxml treebuilder (because that was nicer and faster than the DOM-ish one)

[04:42:03.0000] <Philip`>
It should be just "easy_install lxml" except lack of root probably makes that harder

[04:42:04.0000] <Hixie>
i have no idea how to install that dependency

[04:43:00.0000] <Hixie>
i don't have anything resembling a work environment here

[04:43:01.0000] <Hixie>
i have a directory.

[04:43:02.0000] <Hixie>
i'm lucky to have python.

[04:44:00.0000] <Philip`>
Do you have easy_install?

[04:44:01.0000] <Hixie>
no

[04:44:02.0000] <hsivonen>
IIRC, getting easy_install to do the right thing under Debian doesn't exactly qualify as 'easy'

[04:45:00.0000] <Hixie>
i think this is not debian

[04:45:01.0000] <Hixie>
i think it's fedora core 5 but i'm not 100% sure

[04:45:02.0000] <Philip`>
Hmm, that makes it much more of a pain...

[04:46:00.0000] <annevk>
no apt-get ?

[04:47:00.0000] <Hixie>
i don't have root

[04:47:01.0000] <Philip`>
Fedora 7 only has lxml 1.3 packages

[04:47:02.0000] <Hixie>
so even if it was debian, apt-get wouldn't help

[04:47:03.0000] <Philip`>
(though you can --enablerepo=development to get 2.0 on there)

[04:47:04.0000] <Hixie>
also, i don't have libxml2 or libxslt

[04:47:05.0000] <Hixie>
so i can't compile lxml2

[04:47:06.0000] <Philip`>
or python-dev?

[04:47:07.0000] <Hixie>
python-dev?

[04:48:00.0000] <Philip`>
like the CPython header files and stuff

[04:48:01.0000] <Hixie>
$ python setup.py build

[04:48:02.0000] <Hixie>
Building lxml version 2.1.beta3-55506.

[04:48:03.0000] <Hixie>
NOTE: Trying to build without Cython, pre-generated 'src/lxml/lxml.etree.c' needs to be available.

[04:48:04.0000] <Hixie>
ERROR: /bin/sh: xslt-config: command not found

[04:48:05.0000] <Hixie>
** make sure the development packages of libxml2 and libxslt are installed **

[04:48:06.0000] <Hixie>
...

[04:48:07.0000] <Hixie>
gcc: src/lxml/lxml.etree.c: No such file or directory

[04:48:08.0000] <Hixie>
gcc: no input files

[04:48:09.0000] <Hixie>
error: command 'gcc' failed with exit status 1

[04:48:10.0000] <annevk>
maybe use the Web service from Philip` instead?

[04:48:11.0000] <Hixie>
that may be the better idea at this point

[04:49:00.0000] <Philip`>
Maybe me switching to lxml was a bad idea

[04:49:01.0000] <Hixie>
what's the uri for your cgi app?

[04:49:02.0000] <Philip`>
But it's nice when it works :-)

[04:49:03.0000] <annevk>
(the scary thing about installing is that it always leaves a lot of cruft behind; at least, I'm afraid of that)

[04:49:04.0000] <Philip`>
http://krijnhoetmer.nl/irc-logs/html-wg/20080601#l-16

[04:50:00.0000] <Hixie>
can you make it ping http://www.whatwg.org/specs/web-apps/current-work/do-pubrules-update when it's done? i don't trust my end to keep a connection open for two minutes, long running jobs have a tendency to get killed when load gets high.

[04:50:01.0000] <Philip`>
/me is too used to being able to install dependencies trivially

[04:51:00.0000] <Philip`>
Hixie: Like sending a GET request?

[04:51:01.0000] <Hixie>
yeah

[04:51:02.0000] <Philip`>
/me wonders what'll happen now that Googlebot knows that URL and will keep pinging it :-)

[04:51:03.0000] <Hixie>
i guess the mutlipage url will get refreshed more oten!

[04:51:04.0000] <Hixie>
often

[04:52:00.0000] <annevk>
prolly the referer is checked

[04:52:01.0000] <annevk>
or maybe not :)

[04:52:02.0000] <Philip`>
I could do that in, uh, the next hour or so

[04:52:03.0000] <Hixie>
cool

[04:52:04.0000] <Hixie>
annevk: it's a two line shell script that just downloads the file and unzips it

[04:52:05.0000] <Hixie>
i wonder how i make wget do a post

[04:52:06.0000] <Philip`>
(Is it fine if my script still attempts to keep the connection open for a couple of minutes?)

[04:52:07.0000] <Hixie>
aha, --post-data

[04:52:08.0000] <Hixie>
Philip`: sure

[04:52:09.0000] <Philip`>
Hixie: Ah, good, since I'm not sure how to close it

[04:53:00.0000] <Hixie>
you just run another script in the background to do the real work

[04:53:01.0000] <Hixie>
:-)

[04:53:02.0000] <Philip`>
I've not quite worked out how to do that so the caller returns and the background process doesn't die

[04:54:00.0000] <Philip`>
But anyway I need to go now :-)

[04:54:01.0000] <Hixie>
with apache i've never had a problem just doing  "foo.sh&"  from within a bash shell script cgi

[04:55:00.0000] <Hixie>
aw man, Philip` used bz2

[04:55:01.0000] <Hixie>
tar doesn't support bz2 last i checked

[04:55:02.0000] <Hixie>
ooh, -j

[04:56:00.0000] <hsivonen>
gnutar support everything

[04:56:01.0000] <hsivonen>
+s

[04:56:02.0000] <hsivonen>
whew. I've now flushed zcorpan's IRC bug reports to bugzilla

[05:00:00.0000] <Hixie>
oh right, Philip`'s script doesn't add all the magic symlinks i had in my version

[05:03:00.0000] <Hixie>
ok

[05:03:01.0000] <Hixie>
all fixed

[05:05:00.0000] <zcorpan>
hsivonen: i guess i could report to bugzilla directly in the future :)

[05:05:01.0000] <hsivonen>
zcorpan: that would be nice

[05:06:00.0000] <hsivonen>
zcorpan: thanks for the reports, btw. Fixing now.

[05:06:01.0000] <zcorpan>
hsivonen: np

[05:15:00.0000] <Hixie>
i guess i should sleep

[05:26:00.0000] <Hixie>
annevk: any chance i can throw scrollIntoView() into an actively maintained spec you're working on?

[05:27:00.0000] <annevk>
i've looked into adding it to CSSOM View

[05:27:01.0000] <annevk>
as that'd make the most sense

[05:27:02.0000] <Hixie>
yeah

[05:27:03.0000] <Hixie>
i have an XXX in the html5 spec about doing that

[05:27:04.0000] <annevk>
i wonder if there are many outstanding issues

[05:27:05.0000] <Hixie>
i'm going through them now

[05:27:06.0000] <annevk>
cause cssom view is more or less done apart from the insane thing that is offset*

[05:28:00.0000] <Hixie>
only cos you took out all the other hard bits and put them into a separate spec :-P

[05:28:01.0000] <annevk>
i'm trying to round up xhr1 stuff now, not sure when cross-site stuff is going to be done but I suppose I should start pushing CSSOM View again as the CSSWG resolved to publish something and it hasn't happened yet

[05:29:00.0000] <Hixie>
the most important part -- how css gets bootstrapped from html5 -- is still undefined, right? or rather, is in the unmaintained other cssom spec?

[05:29:01.0000] <annevk>
Hixie, oh, alternate style sheets etc., yeah

[05:29:02.0000] <Hixie>
(offset* is pretty important too)

[05:30:00.0000] <Hixie>
(and desperately needs a thorough spec)

[05:30:01.0000] <annevk>
i agree and offset* is specced

[05:30:02.0000] <annevk>
the problem is deciding which of the various options we have is the best

[05:31:00.0000] <Hixie>
yeah, i know the feeling

[05:31:01.0000] <annevk>
because offset* is completely broken :)

[05:31:02.0000] <Hixie>
you have to study existing content, read bugs in the various UAs' bug databases, etc

[05:31:03.0000] <Hixie>
it's a lot of work :-(

[05:32:00.0000] <annevk>
yeah, i did all the research, but there's no clear answer

[05:32:01.0000] <Hixie>
the html parser section was the worst so far for me

[05:32:02.0000] <Hixie>
talk about no clear answer :-)

[05:32:03.0000] <annevk>
hehe

[05:32:04.0000] <annevk>
i like the html parser

[05:32:05.0000] <annevk>
it's one of the better parts of html5 despite not being one of the original goals

[05:32:06.0000] <Hixie>
heh

[05:33:00.0000] <Hixie>
it's so complicated it isn't susceptible to bike shed colour discussions

[05:33:01.0000] <Hixie>
which helps

[05:35:00.0000] <virtuelv>
Hixie: don't misunderestimate the tendency people have to look at any building as if it was a bikeshed

[05:35:01.0000] <hsivonen>
I like how my one-sentence spec comments on the parsing section get answered with "Done" without a bikeshed thread in between

[05:36:00.0000] <Hixie>
virtuelv: there have been virtually no bikesheds on the parser section, so i think my statement is true

[05:42:00.0000] <hsivonen>
/me thinks it's sad that Adobe keeps breaking their greatest hit (PDF) by mixing Flash with it

[05:43:00.0000] <Hixie>
lol i can't validate the spec using validator.w3.org, it crashes

[05:44:00.0000] <hsivonen>
the spec is a good stress test case

[05:47:00.0000] <Hixie>
ok annevk, i checked in a pubrules-compliant version

[05:47:01.0000] <Philip`>
Hixie: Might it be nice/possible for the 404 page to include link-fixup.js so that e.g. http://www.whatwg.org/specs/web-apps/current-work/multipage/outdated.html#introduction sends you to the right place?

[05:48:00.0000] <Hixie>
i'm about to go to bed

[05:48:01.0000] <Hixie>
mail me the details

[05:49:00.0000] <Philip`>
/me wonders why http://www.whatwg.org/specs/web-apps/current-work/multipage/stdout.txt is text/html

[05:49:01.0000] <Philip`>
Hixie: Okay, will do

[05:49:02.0000] <Hixie>
i have a default text/html mime type iirc

[05:49:03.0000] <Hixie>
feel free to include a .htaccess file in the bz2 file

[05:50:00.0000] <annevk>
and stuff that steals cookies :D

[05:51:00.0000] <Hixie>
he could do far worse than that

[05:51:01.0000] <Hixie>
he could put arbitrary binary code in there

[05:51:02.0000] <Philip`>
Hmm, I could use that to make everyone who views the multipage spec unknowingly vote for my favourite issues in http://www.whatwg.org/issues/

[05:51:03.0000] <Hixie>
and then run it

[05:52:00.0000] <Hixie>
and steal my e-mail

[05:52:01.0000] <Philip`>
Stop giving me ideas :-(

[05:52:02.0000] <Hixie>
and anything on any of my sites

[05:52:03.0000] <Hixie>
you could just log into the database and set the vots to whatever you wnat :-)

[05:52:04.0000] <zcorpan>
doesn't <video> work on safari for windows?

[05:52:05.0000] <roc>
it works

[05:52:06.0000] <Hixie>
Philip`: of course if you did any of these things and got caught, it would probably not do your career much good :-)

[05:53:00.0000] <roc>
however, it only integrates with Quicktime

[05:53:01.0000] <Philip`>
Hixie: I'll have to make sure I don't get caught, then

[05:53:02.0000] <Hixie>
:-)

[05:53:03.0000] <Hixie>
/me sets up his script to automatically send him diffs of every update

[05:58:00.0000] <jwalden>
the XSS might make someone cross

[05:58:01.0000] <jwalden>
the ensuing spectacle would be quite a site

[05:58:02.0000] <jwalden>
/me decides not to try for the second S

[05:59:00.0000] <Hixie>
there

[05:59:01.0000] <Hixie>
philip can't run arbitrary code anymore

[05:59:02.0000] <Hixie>
i force the permissions to non-executable

[06:00:00.0000] <annevk>
so much for trust :p

[06:00:01.0000] <Hixie>
it's not really about trusting him

[06:01:00.0000] <Hixie>
so much as reducing the number of hosts that can be used as attack vectors into my site

[06:01:01.0000] <Philip`>
/me doesn't trust himself

[06:04:00.0000] <annevk>
/me wanted to thank jgraham for http://meyerweb.com/eric/thoughts/2008/06/02/the-missing-link/?#comment-382177 but he's not around

[06:07:00.0000] <Hixie>
nn

[06:26:00.0000] <hsivonen>
what's the <> tag called in SGML?

[06:27:00.0000] <hasather>
hsivonen: empty start-tag

[06:28:00.0000] <hsivonen>
hasather: thanks

[06:28:01.0000] <annevk>
but why?

[06:28:02.0000] <annevk>
nobody wants to be bothered with SGML phrases :o

[06:29:00.0000] <Lachy>
hsivonen, http://www.is-thought.co.uk/book/sgml-9.htm#SHORTTAG is useful if you ever need to lookup SGML stuff

[06:34:00.0000] <hsivonen>
annevk: I'm trying to improve error messages

[06:34:01.0000] <hsivonen>
annevk: so I thought I should say on <> and </> that SGML features foo and bar aren't permitted in HTML

[06:35:00.0000] <zcorpan>
hsivonen: i'm not sure that's an improvement over saying that < must be written as &lt; in html

[06:35:01.0000] <annevk>
I guess I'm glad I asked since I agree with zcorpan

[06:36:00.0000] <hsivonen>
ok

[06:36:01.0000] <annevk>
pretending that SGML still exists or that HTML is somehow related to it doesn't seem useful

[06:36:02.0000] <hsivonen>
ok

[06:36:03.0000] <hsivonen>
would you agree, though, that <? should say XML processing instructions aren't permitted?

[06:38:00.0000] <annevk>
yeah, that seems ok

[06:38:01.0000] <annevk>
XML exists and people are mixing it and HTML all the time (or at least pretending to do that)

[06:38:02.0000] <zcorpan>
indeed

[06:39:00.0000] <zcorpan>
<?xml ... ?> is common in text/html

[06:56:00.0000] <hsivonen>
I changed various parser error messages

[06:56:01.0000] <hsivonen>
please let me know if it was an improvement

[07:20:00.0000] <gsnedders>
virtuelv: Hixie wrote them, not me! :P

[07:21:00.0000] <virtuelv>
gsnedders: ?

[07:21:01.0000] <gsnedders>
virtuelv: <dfn><code>h1</code></dfn>

[07:21:02.0000] <virtuelv>
ah

[07:21:03.0000] <gsnedders>
virtuelv: The point is it is the defining instance of that code block

[07:23:00.0000] <zcorpan>
hsivonen: is there an easy way to check what the new messages are? :)

[07:23:01.0000] <hsivonen>
zcorpan: I'll run a diff

[07:28:00.0000] <annevk>
gsnedders, in theory specific handling for <hx>... <dfn> ... <dfn> ... </hx> would be nice

[07:29:00.0000] <gsnedders>
annevk: Specific in what way?

[07:29:01.0000] <annevk>
it would be nice if the <dfn> didn't get an id= in that case and references to the <dfn> would instead point to the <hx>

[07:32:00.0000] <gsnedders>
Ah. That would be nice.

[07:33:00.0000] <gsnedders>
/me currently just wants it to work right now :P

[07:34:00.0000] <gsnedders>
OK, I've just got running the spec-gen down from 137.302s to 16.986s on HTML 5 :P

[07:34:01.0000] <hsivonen>
zcorpan: http://pastebin.ca/1037720

[07:38:00.0000] <zcorpan>
hsivonen: i think "unescaped logical not" goes over the heads of most authors since most authors don't know programming

[07:41:00.0000] <Philip`>
It seems pretty uncommon for "<>" to mean "logical not", since people don't write web pages in BASIC

[07:41:01.0000] <hsivonen>
should I mention only mistyped start tag?

[07:41:02.0000] <Philip`>
Oh, that's not logical not anyway, it's not-equal

[07:42:00.0000] <hsivonen>
umm right

[07:42:01.0000] <hsivonen>
I'll assume <> and </> are typoed tags

[07:43:00.0000] <annevk>
Probable cause: typo

[07:43:01.0000] <Philip`>
Almost all the <> I can see are in JS regexps

[07:43:02.0000] <annevk>
<> is acceptable within <script>, no?

[07:43:03.0000] <Philip`>
except

[07:43:04.0000] <Philip`>
http://geocities.com/scerez/: <td rowspan="7"><>

[07:43:05.0000] <Philip`>
http://members.aol.com/_ht_a/swinggaits/: <div align=left><font face='Arial,Helvetica,adobe-helvetica,Arial Narrow' size=3 color='#99cc33'><i>&nbsp;&nbsp; </i></font><font face='Arial,Helvetica,adobe-helvetica,Arial Narrow' size=3 color='#99cc33'><b>><><><><><><><><><><><><><><><><><><><><><><><><><><><</b></font><font face='Arial,Helvetica,adobe-helvetica,Arial Narrow' size=3 color='#99cc33'><i> </i></font></div>

[07:44:00.0000] <Philip`>
http://www.hakurai.ne.jp/:   <param name="yradius" value="0"><>

[07:44:01.0000] <Philip`>
http://www.angelfire.com/in/HorseAndCarriageSo/: <><br>

[07:44:02.0000] <Philip`>
and so on

[07:44:03.0000] <annevk>
fun

[07:45:00.0000] <Philip`>
http://www.rad.de/: Auf rad.de bestimmt du selbst, was rad.de-Mitglieder lesen. Ob´s um Fahrräder, Touren, Tipps oder News geht <<>> die rad.de-Route ist alles andere als eine Einbahnstraße.</center>

[07:45:01.0000] <annevk>
hsivonen, maybe it should say "Use &lt;> instead."

[07:45:02.0000] <Philip`>
I'm not sure how many are typos and how many are decorative

[07:45:03.0000] <hsivonen>
annevk: that's not good advice if the probable cause is a tag typo

[07:46:00.0000] <gsnedders>
http://hg.gsnedders.com/spec-gen/file/tip/specGen/utils.py#l65 — that gives "" for <dfn><code>foo</code></dfn>

[07:47:00.0000] <annevk>
hsivonen, true

[07:47:01.0000] <zcorpan>
hsivonen: "Either you typoed a tag or you should replace < with &lt;"

[07:47:02.0000] <zcorpan>
(or something)

[07:48:00.0000] <Philip`>
gsnedders: Do you mean repr(Element.getroottree()) gives ""?

[07:48:01.0000] <gsnedders>
Philip`: Line 65

[07:48:02.0000] <gsnedders>
Something is wrong with it, obviously

[07:48:03.0000] <gsnedders>
Wait, I haven't reloaded that in ages

[07:49:00.0000] <gsnedders>
Line 70

[07:49:01.0000] <gsnedders>
My XPath is broken :(

[07:49:02.0000] <hsivonen>
I wonder how I should deal with bugs blocking on spec issues

[07:49:03.0000] <hsivonen>
LATER seems like a bugzilla anti-pattern

[07:50:00.0000] <annevk>
gsnedders, also, the <hx> in question should probably use the first <dfn> child for creating the id in question (unless id is already set)

[07:50:01.0000] <gsnedders>
Oh duh. descendant::text() is what I want

[07:50:02.0000] <annevk>
gsnedders, so <h4>The <dfn><code>em</code></dfn> element</h4> ends up as <h4 id=em>

[07:50:03.0000] <zcorpan>
hsivonen: the text you have for </> would work for <> too, i think (with s/end/start/)

[07:50:04.0000] <Philip`>
gsnedders: child::text() returns text childs, and <dfn> has no text childs

[07:50:05.0000] <gsnedders>
annevk: That's hard to do without forward scanning, which I don't really want to do

[07:51:00.0000] <gsnedders>
Philip`: Yeah, I just realised looking at the spec

[07:51:01.0000] <Philip`>
That's why it's called "child::text" :-)

[07:51:02.0000] <annevk>
gsnedders, else it would be something like <h4 id=the-em> right? what's the big difference?

[07:51:03.0000] <gsnedders>
Philip`: Just the difference between direct and indirect children :)

[07:52:00.0000] <gsnedders>
annevk: I'd rather it just used the textContent of the hx

[07:52:01.0000] <Philip`>
gsnedders: etree.tostring(Elements, method='text') works (at least in lxml 2.0) at finding the concatenated descendant text

[07:52:02.0000] <hsivonen>
zcorpan: ok. tweaking again

[07:52:03.0000] <Philip`>
(or at least I hope it does, since that's what I'm using)

[07:54:00.0000] <gsnedders>
http://stuff.gsnedders.com/html5.html — find broken xrefs that I've introduced (again)!

[07:54:01.0000] <zcorpan>
hsivonen: a likely cause of " in attribute name is that there's a " missing somewhere else, i think

[07:55:00.0000] <hsivonen>
zcorpan: which state?

[07:55:01.0000] <hsivonen>
I mean: at start? surely not inside?

[07:56:00.0000] <zcorpan>
@@ -2187,7 +2187,7 @@

[07:56:01.0000] <zcorpan>
                                  * (') Parse error.

[07:56:02.0000] <zcorpan>
                                  */

[07:56:03.0000] <zcorpan>
                                 err("Quote \u201C" + c

[07:56:04.0000] <zcorpan>
-                                        + "\u201D in attribute name.");

[07:56:05.0000] <zcorpan>
+                                        + "\u201D in attribute name. Probable cause: \u201C=\u201D missing immediately before.");

[07:57:00.0000] <zcorpan>
the diff doesn't give much context :(

[07:57:01.0000] <zcorpan>
<p title=my title">

[07:58:00.0000] <hsivonen>
zcorpan: If an attribute name starts with ", isn't the likely cause something like: name "value"?

[07:58:01.0000] <hsivonen>
zcorpan: that's a different state

[07:58:02.0000] <zcorpan>
hsivonen: ah

[07:58:03.0000] <hsivonen>
I don't remember what I wrote 

[07:59:00.0000] <hsivonen>
oops. you are right.

[07:59:01.0000] <hsivonen>
my message is bogus

[07:59:02.0000] <hsivonen>
thanks

[08:00:00.0000] <zcorpan>
hsivonen: hmm. <!DOCTYPE html><title></title><embed src ">

[08:00:01.0000] <zcorpan>
gives no errors

[08:02:00.0000] <zcorpan>
or had i reported that before?

[08:02:01.0000] <annevk>
i think you did

[08:02:02.0000] <zcorpan>
yeah. sorry for the noise :)

[08:02:03.0000] <annevk>
it seems that " is not catched on the tokenizing level which is why it is not catched

[08:02:04.0000] <annevk>
(you can figure that out by looking at <p title ">

[08:02:05.0000] <hsivonen>
zcorpan: It's a spec bug

[08:03:00.0000] <annevk>
)

[08:05:00.0000] <hsivonen>
/me has still 50 bytes to spare in the tokenizer loop

[08:08:00.0000] <gsnedders>
Hixie: What should the target time to run the spec-gen on HTML 5 be?

[08:09:00.0000] <Philip`>
gsnedders: Zero seconds

[08:09:01.0000] <gsnedders>
Philip`: html5lib takes 12s to parse it alone! :P

[08:10:00.0000] <gsnedders>
Philip`: (thanks for all the work you've done on perf. recently, though)

[08:11:00.0000] <Philip`>
gsnedders: It's not necessarily a reachable target, but it's the best one to aim at :-)

[08:11:01.0000] <takkaria>
I was reading about how python implements dictionaries internally last night, quite interesting from a performance point of view

[08:12:00.0000] <zcorpan>
hsivonen: isn't it better to write out the full doctype in the missing SI warnings?

[08:13:00.0000] <gsnedders>
I so much nicer to work on something when you can actually see the results of what you've done :)

[08:13:01.0000] <zcorpan>
hsivonen: as in "The doctype did not contain the system identifier prescribed by the HTML 4.01 specification. Expected \u201C<!DOCTYPE HTML PUBLIC \"-//W3C//DTD HTML 4.01 Transitional//EN\" \"http://www.w3.org/TR/html4/loose.dtd\">\u201D."

[08:15:00.0000] <hsivonen>
zcorpan: I suppose. thanks

[08:16:00.0000] <zcorpan>
hsivonen: otherwise it looks good i think

[08:17:00.0000] <hsivonen>
zcorpan: thanks

[08:17:01.0000] <annevk>
gsnedders, less than a second would be nice

[08:17:02.0000] <gsnedders>
annevk: Give me chtml5lib first :)

[08:18:00.0000] <gsnedders>
I think 1.5s is realistically just about as quick as we'll get with current computers with chtml5lib to be fair

[08:21:00.0000] <Philip`>
chtml5lib needs to be multithreaded!

[08:22:00.0000] <takkaria>
I'm not sure there's much to parallelise

[08:22:01.0000] <annevk>
yeah, so it can do tokenizing before having an input stream and building a tree while downloading a resource

[08:22:02.0000] <takkaria>
I think my sense of humour was lacking there. oops

[08:23:00.0000] <hsivonen>
takkaria: if tokens were objects (as opposed to callbacks), the tokenizer and the tree builder could run on different threads

[08:23:01.0000] <hsivonen>
probably not useful 

[08:24:00.0000] <takkaria>
(btw, hubbub (incomplete C html parser) takes 1.7s just to tokenise the current spec)

[08:24:01.0000] <hsivonen>
with Java and the V.nu parser it would be relatively easy to try two-threaded performance

[08:25:00.0000] <hsivonen>
zcorpan: fixed

[08:25:01.0000] <jmb>
takkaria: most of that's probably in the input stream handling. 

[08:25:02.0000] <hsivonen>
Philip`: fixed image report on fatal error

[08:26:00.0000] <gsnedders>
takkaria: Well, WebKit is quicker than that :P

[08:27:00.0000] <Philip`>
/me gets another ~5% from improving cInputStream

[08:27:01.0000] <gsnedders>
/me fears the commit when this lands

[08:27:02.0000] <Philip`>
so it now parses the spec in about 12.6s, vs 16.5s for pure Python

[08:28:00.0000] <jmb>
s/probably//

[08:28:01.0000] <takkaria>
heh

[08:29:00.0000] <hsivonen>
Philip`: from what data source? (disk, RAM?)

[08:29:01.0000] <Philip`>
takkaria: Via http://krijnhoetmer.nl/irc-logs/html-wg/20070710#l-239 I got 0.35s for tokenising in C++

[08:29:02.0000] <Philip`>
(on a slightly old version of the spec)

[08:29:03.0000] <Philip`>
(on a P4 3.0GHz, I think)

[08:29:04.0000] <annevk>
/me wonders how long Validator.nu takes

[08:30:00.0000] <Philip`>
annevk: That's the "Java" one in those results

[08:30:01.0000] <hsivonen>
/me prepares to run a benchmark

[08:30:02.0000] <Philip`>
hsivonen: Disk (but cached)

[08:31:00.0000] <hsivonen>
Philip`: crossing to the native file system seems expensive in Java

[08:31:01.0000] <Philip`>
hsivonen: It's relatively inexpensive in Python, just because the rest of the parser is a hundred times more expensive :-)

[08:31:02.0000] <annevk>
Philip`, how about parsing?

[08:32:00.0000] <annevk>
for validating I get "Total execution time 23573 milliseconds."

[08:32:01.0000] <Philip`>
annevk: I've never had a working C++ parser so I've never had anything interesting to compare

[08:33:00.0000] <Philip`>
cInputStream seems kind of worthwhile for performance - does anyone know what would be the nicest way to try including it in html5lib?

[08:34:00.0000] <Philip`>
(It just defines a class with char() and charsUntil(), and you stick it together with the normal HTMLInputStream (currently via inheritance) and then it goes faster)

[08:34:01.0000] <Philip`>
(or it crashes)

[08:35:00.0000] <gsnedders>
annevk: http://bugs.gsnedders.com/issues/show/5 — happy? :)

[08:37:00.0000] <annevk>
ah, feature request 5, now you have to fix it :p

[08:37:01.0000] <annevk>
(or maybe it's that it will never be finished :D )

[08:38:00.0000] <hsivonen>
Parsing the spec from an in-memory UTF-16 buffer (but using all the Reader cruft in between) takes 0.12 seconds on average in the true streaming mode with a content handler that doesn't do anything

[08:38:01.0000] <gsnedders>
annevk: Yeah, but it's only down for 1.1 :P

[08:38:02.0000] <gsnedders>
annevk: Though there are no open issues on 1.0 :D

[08:39:00.0000] <gsnedders>
(1.0 is mainly just finish it)

[08:40:00.0000] <hsivonen>
I'm too lazy to test how much faster the parser would be without a Reader in there

[08:41:00.0000] <Philip`>
Almost exactly two orders of magnitude faster than Python

[08:41:01.0000] <hsivonen>
oh and this was HotSpot from Java 5 32 bit client on 2.4 GHz Core 2 Duo

[08:41:02.0000] <takkaria>
we should record benchmarks somewhere, probably

[08:42:00.0000] <Philip`>
/me could only get another 10% if he made char and charsUntil take zero time

[08:44:00.0000] <gsnedders>
/me wonders how to implement the TOC algorithm

[08:47:00.0000] <gsnedders>
/me adds something for 1.0

[08:49:00.0000] <hsivonen>
in case anyone feels like running better benchmarks, please use V.nu parser trunk instead of release

[09:57:00.0000] <Philip`>
Manual reference counting in C is not fun

[09:59:00.0000] <annevk>
fun vs fast

[09:59:01.0000] <Philip`>
It's not particularly fast either :-)

[09:59:02.0000] <annevk>
:p

[10:00:00.0000] <Philip`>
The fastest approach is to just leak memory

[10:00:01.0000] <Philip`>
and the second fastest approach is to just leak memory and then scramble around to detect all the leaks once you're about to run out

[10:00:02.0000] <Philip`>
*run out of memory

[10:03:00.0000] <hsivonen>
the autoreleasepool solution is pretty cool (out of solutions that don't involve a proper garbage collector)

[10:03:01.0000] <annevk>
Philip`, OOM-safe should probably be a requirement

[10:04:00.0000] <hsivonen>
(the Mozilla 2 OOM approach looks interesting)

[10:06:00.0000] <Philip`>
if (!(m = malloc(size))) alert("Buy more RAM")

[10:27:00.0000] <hsivonen>
/me tries to understand what the W3C AB does

[10:28:00.0000] <hsivonen>
are the examples of past cases where AB has given the W3C an opinion on something?

[10:29:00.0000] <annevk>
see November/December 2007 in http://lists.w3.org/Archives/Member/process-issues/#latest

[10:29:01.0000] <annevk>
(minus #latest)

[10:30:00.0000] <hsivonen>
annevk: thanks

[11:40:00.0000] <Philip`>
/me gives up trying to optimise cInputStream, since there's not a lot left to gain :-(

[11:40:01.0000] <zcorpan_>
why is pixelratio='' only on <source>, not on <video>?

[13:35:00.0000] <hsivonen>
whoa! according to Simon Willison, libfbml depends on Firefox

[13:37:00.0000] <hsivonen>
hmm. http://wiki.developers.facebook.com/index.php/FBML_DTD

[13:37:01.0000] <hsivonen>
XSD is the new DTD

[14:00:00.0000] <zcorpan_>
hsivonen: is utf-8 assumed before the encoding decl is found?

[14:01:00.0000] <zcorpan_>
/me looks at http://validator.nu/?doc=http%3A%2F%2Fwww.accessify.com%2F&showsource=yes

[14:06:00.0000] <hsivonen>
zcorpan_: windows-1252 is assumed

[14:07:00.0000] <zcorpan_>
hsivonen: ok

[14:07:01.0000] <zcorpan_>
hsivonen: what's up with "Stray end tag noscript." in http://validator.nu/?doc=http%3A%2F%2Fwww.accessify.com%2F&charset=UTF-8&showsource=yes ?

[14:08:00.0000] <hsivonen>
interesting.

[14:08:01.0000] <hsivonen>
I'll have to investigate in the morning 

[14:08:02.0000] <hsivonen>
thanks

[14:08:03.0000] <hsivonen>
/me notes the alt on the stat single-pixel image on an accessibility site...

[14:09:00.0000] <hsivonen>
nn

[14:09:01.0000] <zcorpan_>
nn

[14:22:00.0000] <Dashiva>
annevk, zcorpan_: around?

[14:23:00.0000] <zcorpan_>
Dashiva: yep

[14:24:00.0000] <Dashiva>
I just noticed <a href> elements tostring as their href, has that always been the case? 

[14:24:01.0000] <zcorpan_>
yeah

[14:25:00.0000] <zcorpan_>
dunno if it's specced anywhere

[14:25:01.0000] <Dashiva>
Strange how I've never noticed before

[14:25:02.0000] <Dashiva>
That was my second question :)

[14:25:03.0000] <zcorpan_>
i think html5 is waiting for webidl to get fancy features to support this sort of thing

[14:26:00.0000] <Hixie>
html5 does spec it

[14:26:01.0000] <zcorpan_>
oh

[14:26:02.0000] <Hixie>
btw zcorpan_ regarding your earlier question, it's on <source> only to discourage its use.

[14:26:03.0000] <zcorpan_>
[Stringifies=href] interface HTMLAnchorElement

[14:26:04.0000] <zcorpan_>
Hixie: ok

[14:27:00.0000] <gsnedders>
0.924s for the spec-gen (admittedly, with only xref) with XML source/output of the HTML 5 spec (which is the sort of speed we should be able to get with a C impl. of html5lib)

[14:27:01.0000] <gsnedders>
Hixie: What sort of speed do you want the spec-gen to run in, at the very slowest?

[14:28:00.0000] <zcorpan_>
/me 'd say 0.924s

[14:28:01.0000] <Hixie>
i WANT it to 

[14:28:02.0000] <Hixie>
silly cat

[14:28:03.0000] <gsnedders>
Hixie: You see my latest tweet?

[14:28:04.0000] <Hixie>
i WANT it to run in 500ms or so

[14:29:00.0000] <gsnedders>
"I HAS SPECIFICASHUN GENERATOR! "

[14:29:01.0000] <Hixie>
but i'll put up with whatever i can get :-)

[14:29:02.0000] <gsnedders>
Hixie: How quick is the W3C spec-gen?

[14:29:03.0000] <Hixie>
/me checks

[14:30:00.0000] <Hixie>
(and no, i don't follow twitter)

[14:30:01.0000] <gsnedders>
(I expected that)

[14:30:02.0000] <gsnedders>
(Which is why I quoted it here)

[14:31:00.0000] <Hixie>
timing...

[14:31:01.0000] <Hixie>
14 seconds

[14:31:02.0000] <Hixie>
an eternity

[14:32:00.0000] <Hixie>
well, 28 seconds since i do it twice, but i run them in parallel at this point

[14:32:01.0000] <Philip`>
My partly-optimised-in-C html5lib takes, uh, 12.3 seconds to parse the spec :-(

[14:32:02.0000] <gsnedders>
OK, if someone writes a fully-optimised-in-C html5lib, then we can be under 3s, I expect, without much more optimisation of the spec-gen itself

[14:34:00.0000] <Philip`>
I kind of like the approach of rewriting small pieces of the Python functionality into a C extension, but keeping all the complex rarely-called fast-enough bits in Python

[14:34:01.0000] <Philip`>
but I'm not sure how far that approach could be used in html5lib

[14:34:02.0000] <gsnedders>
/me wonders whether to switch to doing AH Computing from AH English just so he can use the AH Computing project to learn C and write an html5lib parser :P

[14:36:00.0000] <Philip`>
(Probably the next step would be to replace the entire tokeniser class with a pure C implementation, but the treebuilders are still kind of slow too)

[14:38:00.0000] <gsnedders>
4.4s to serialize, 11.3s to parse here

[14:38:01.0000] <gsnedders>
leaving the other 0.8s for me to waste myself :)

[14:40:00.0000] <gsnedders>
Philip`: "Cue ranges" is missing a </dl> because my Feb 13th source is missing one. Damned Hixie!

[14:44:00.0000] <gsnedders>
Most of the bugs are down to Hixie making my input buggy :(

[14:45:00.0000] <Philip`>
Most of the bugs are down to you not using an up-to-date copy of the spec :-p

[14:45:01.0000] <gsnedders>
Philip`: If someone hadn't broken it in the first place… :P

[14:46:00.0000] <Hixie>
in february i had something like 3000 known bugs with the spec

[14:46:01.0000] <Hixie>
i still have over 2000 now!

[14:46:02.0000] <gsnedders>
whatwg.org is down, seemingly :(

[14:46:03.0000] <Hixie>
yeah

[14:46:04.0000] <Hixie>
not sre why

[14:46:05.0000] <Philip`>
/me looks innocent

[14:46:06.0000] <gsnedders>
Hixie: I means bugs like <a href="#appcache-history-1">change</span> (in the source)

[14:53:00.0000] <gsnedders>
/me follows Philip`'s suggestion to get rid of the last bit of XPath, making it .3s quicker

[14:55:00.0000] <Philip`>
I never suggested getting rid of the last bit of XPath

[14:55:01.0000] <Philip`>
I actually suggested the exact opposite

[14:55:02.0000] <gsnedders>
pedantic sod :)

[14:55:03.0000] <gsnedders>
http://hg.gsnedders.com/hgwebdir.cgi/spec-gen/rev/1a00bbac777e

[14:55:04.0000] <Philip`>
(keeping it to find all elements with ids)

[14:56:00.0000] <gsnedders>
Did you? I forgot that. But that's already gone. :P

[14:59:00.0000] <gsnedders>
Philip`: 0.718s (for //*[@id]) v. 0.185s (for iter over all elements, and manually checking if they have an @id)

[15:07:00.0000] <gsnedders>
Hixie: can I still `cat header-whatwg source` and just ignore the *.inc files?

[15:09:00.0000] <gsnedders>
Hixie: Can I get you to fix a rather major bug in the spec source, that the real spec-gen silently changes?

[15:10:00.0000] <gsnedders>
'<a href="#appcache-history-1">change</span>' ought to have a closing </a>, not a closing </span>

[15:10:01.0000] <annevk>
oh, whatwg.org is back up

[15:10:02.0000] <gsnedders>
oh wait

[15:10:03.0000] <gsnedders>
I'm being dumb

[15:10:04.0000] <annevk>
/me thought it was down from the logs and hesitated to check

[15:11:00.0000] <gsnedders>
I'm just looking at html5.old, my old copy

[15:11:01.0000] <gsnedders>
Hixie: Do nothing.

[15:11:02.0000] <Hixie>
i can do that

[15:12:00.0000] <gsnedders>
Hixie: BTW, you've made it run slower :(

[15:12:01.0000] <gsnedders>
Hixie: Though that was just by making the spec longer.

[15:12:02.0000] <Hixie>
heh

[15:13:00.0000] <gsnedders>
Hixie: Less detail, plz

[15:13:01.0000] <gsnedders>
Oh dear. I don't think this is good. id="prose-content."

[15:14:00.0000] <annevk>
Hixie, hey, we managed to publish something today :)

[15:14:01.0000] <annevk>
Hixie, http://www.w3.org/TR/offline-webapps/

[15:14:02.0000] <gsnedders>
http://validator.nu/?=&doc=http%3A%2F%2Fstuff.gsnedders.com%2Fhtml5.html — they're all down to html5lib's brokenness, as far as I can see

[15:15:00.0000] <annevk>
given that I don't see myself doing anything else useful today I'll write a short blog entry for blog.whatwg.org

[15:16:00.0000] <jgraham_>
Oh, blogging. Yeah I was going to write something about @media. I wonder if Lachy put the slides up yet

[15:17:00.0000] <jgraham_>
gsnedders: That looks simple to fix. Patches welcome :)

[15:17:01.0000] <annevk>
Lachy, you around? Can you make me admin or something on the blog?

[15:17:02.0000] <jgraham_>
/me could just not be lazy and fix it himself

[15:17:03.0000] <gsnedders>
jgraham_: Or just commits :)

[15:17:04.0000] <annevk>
Lachy, I can't even add a category

[15:18:00.0000] <jgraham_>
annevk: I can do that, I think

[15:18:01.0000] <annevk>
cool

[15:18:02.0000] <gsnedders>
I think I managed to break stuff, which is odd.

[15:19:00.0000] <jgraham_>
Er, I don't seem to be able to log in at the moment

[15:20:00.0000] <gsnedders>
jgraham_: We can allow < in unquoted attributes too

[15:21:00.0000] <gsnedders>
jgraham_: Can I change a test without being killed?

[15:21:01.0000] <jgraham_>
gsnedders: Which test? And why?

[15:21:02.0000] <gsnedders>
jgraham_: Change: u'<span title="foo<bar">' to u'<span title=foo<bar>'

[15:21:03.0000] <gsnedders>
jgraham_: < is allowed in unquoted attributes

[15:22:00.0000] <jgraham_>
That sounds reasonable

[15:22:01.0000] <jgraham_>
/me is not too familiar with the serializer tests

[15:23:00.0000] <gsnedders>
/me isn't either.

[15:23:01.0000] <gsnedders>
I just changed to code to match the spec and looked at what tests it caused to fail :)

[15:24:00.0000] <jgraham_>
When I try to log in to the WHATWG blog it tells me that I got my password wrong. When I try to reset my password, it tells me that the link it sent me has an invalid key

[15:24:01.0000] <Hixie>
uh

[15:24:02.0000] <Hixie>
did we get owned or something

[15:25:00.0000] <annevk>
it worked for me, but I don't have an admin account

[15:25:01.0000] <gsnedders>
/me commits to html5lib

[15:25:02.0000] <jgraham_>
(it is possible that I really got my password wrong of course)

[15:26:00.0000] <jgraham_>
(but the reset thing should work)

[15:27:00.0000] <Hixie>
man the wordpress ui changed since hte last time i was here

[15:27:01.0000] <Hixie>
annevk: made you admin

[15:27:02.0000] <Hixie>
annevk: can you work how jgraham_'s problem? :-)

[15:27:03.0000] <Hixie>
work out, even

[15:28:00.0000] <annevk>
hehe

[15:28:01.0000] <annevk>
lots of new features

[15:28:02.0000] <gsnedders>
http://stuff.gsnedders.com/html5.html — now valid!

[15:28:03.0000] <annevk>
jgraham_, i'll pm you on w3.org

[15:29:00.0000] <Hixie>
oh i see how to reset the password

[15:29:01.0000] <Hixie>
i can reset it right here if you want jgraham_ 

[15:29:02.0000] <Hixie>
or anne can do it

[15:29:03.0000] <Hixie>
whichever :-

[15:29:04.0000] <Hixie>
)

[15:29:05.0000] <annevk>
i just did

[15:29:06.0000] <Hixie>
cool

[15:30:00.0000] <Philip`>
gsnedders: When making changes like allowing =, it would be good to add a test that fails in the old code and passes in the new code

[15:30:01.0000] <gsnedders>
Philip`: That is true, actually

[15:31:00.0000] <gsnedders>
Philip`: And fixing the description for the change

[15:31:01.0000] <gsnedders>
jgraham_: Should I change the order to make it more logical, or keep it verbatim?

[15:32:00.0000] <jgraham_>
gsnedders: Of the tests? Change the order. Our tests should really be sorted into some sort of structure so tiny baby steps can' hurt

[15:33:00.0000] <gsnedders>
/me commits

[15:39:00.0000] <Hixie>
Philip`: k, the 404 thing should work now, let me know if it is broken

[15:40:00.0000] <Philip`>
Hixie: Oops

[15:40:01.0000] <Philip`>
Hixie: It needs <body onload="fixBrokenLink()">

[15:40:02.0000] <Philip`>
/me forgot about that part

[15:41:00.0000] <annevk>
http://blog.whatwg.org/offline-webapps

[15:41:01.0000] <Hixie>
try now?

[15:42:00.0000] <Philip`>
Hixie: Works now - thanks!

[15:42:01.0000] <Hixie>
cool

[15:42:02.0000] <Hixie>
it runs a couple of sed commands on the original whatwg 404 page

[15:42:03.0000] <Hixie>
and creates the .htaccess file to use it

[15:42:04.0000] <Hixie>
so hopefully if i modify the main whatwg 404 page, it'll keep track

[15:42:05.0000] <Philip`>
Hmm, doesn't work in IE because IE replaces the whole error page

[15:43:00.0000] <Hixie>
sucks to be an IE user

[15:43:01.0000] <Hixie>
bbiab

[15:44:00.0000] <Philip`>
Oh, real IE7 (vs Wine IE6) does display the error page

[15:44:01.0000] <Philip`>
but has a "permission denied" JS error while running the script :-/

[15:45:00.0000] <Philip`>
Oh, it worked this time

[15:46:00.0000] <Philip`>
That's good enough for me

[15:48:00.0000] <Philip`>
/me will ignore the problem that old links to .../multipage/section-foo.html (with no #) are broken and don't automatically fix themselves

[15:53:00.0000] <annevk>
Philip`, that should be fixable too without too much trouble, no?

[15:53:01.0000] <annevk>
Philip`, given that the file names are based on id= too

[15:54:00.0000] <Philip`>
annevk: Hmm... I suppose if I knew when it was 404, then I could do that

[15:55:00.0000] <Philip`>
Hixie: Would it be possible to change to <body onload="fixBrokenLink(404)"> ?

[15:58:00.0000] <Philip`>
Hixie: (By the way, I've added the do-pubrules-update call now)

[16:13:00.0000] <annevk>
/me adds <p> and </p> to his blog entry

[16:31:00.0000] <annevk>
ARIA expressed in CSS? Hmm. I guess I better not reply to that as I might offend someone...


2008-06-04
[19:03:00.0000] <Hixie>
Philip`: added 404

[19:03:01.0000] <Philip`>
http://msdn.microsoft.com/en-us/library/cc288325(VS.85).aspx - IE=EmulateIE7 looks new

[19:04:00.0000] <Philip`>
Hixie: Thanks, though I guess that means I need to update my script instead of going to sleep :-p

[19:04:01.0000] <Hixie>
heh

[19:04:02.0000] <Hixie>
no rush

[19:04:03.0000] <Hixie>
you can trigger an update now anyway

[19:04:04.0000] <Hixie>
just run your script

[19:04:05.0000] <Hixie>
and it'll all work

[19:21:00.0000] <Hixie>
ok wow. data-* is awesome.

[19:21:01.0000] <Hixie>
it's been the answer to almost every single question people have asked me about in the last week here at google.

[19:22:00.0000] <othermaciej>
it's pretty cool, indeed

[19:22:01.0000] <othermaciej>
on my list of top 5 HTML5 things that I wish were already in WebKit

[19:23:00.0000] <Hixie>
it is already in webkit :-)

[19:23:01.0000] <Hixie>
well, not the .dataSet thing

[19:23:02.0000] <Hixie>
or .dataset

[19:23:03.0000] <Hixie>
or whatever

[19:23:04.0000] <Hixie>
but that's not a big deal

[19:23:05.0000] <Hixie>
people can use getAttribute() for now

[19:23:06.0000] <Hixie>
.dataset is just extra sugary goodness

[19:23:07.0000] <othermaciej>
well ok the dataset part is the part I wish were there

[19:23:08.0000] <othermaciej>
but sure

[19:23:09.0000] <othermaciej>
(the other sugary API I really want is classList)

[19:25:00.0000] <Hixie>
oooh yeah that's nice too

[19:26:00.0000] <Philip`>
Hixie: I guess none of those people asked a question like "how can I do X, without relying on scripting"?

[19:27:00.0000] <othermaciej>
that doesn; sound like a very googley consideration

[19:27:01.0000] <othermaciej>
*doesn't

[19:28:00.0000] <Hixie>
indeed!

[19:28:01.0000] <Hixie>
most of the question are "so i have this script that needs to get information X, how do i include it in the markup?"

[19:29:00.0000] <othermaciej>
the web is an application platform

[19:29:01.0000] <Hixie>
now it is

[19:29:02.0000] <othermaciej>
I admire the holdouts who would like to still think of it as a document-oriented hypertext system for their tenacity

[19:29:03.0000] <othermaciej>
but the race is over

[19:29:04.0000] <othermaciej>
and it's about time they concede

[19:31:00.0000] <Philip`>
data-* is like RDF, minus all the bits about types and validation and URIs and namespaces and theoretical basis

[19:33:00.0000] <Philip`>
It seems to be applicable to any problem of the form "I want to do stuff with data"

[19:35:00.0000] <Hixie>
not all of them, but many, yes

[19:35:01.0000] <Hixie>
gotta go, bbl

[20:07:00.0000] <Philip`>
Hixie: "you can trigger an update now anyway [...] just run your script [...] and it'll all work" - is it meant to be really slow (like more than ten minutes)?

[20:38:00.0000] <MikeSmith>
Philip`: btw, did you update your multipage-generator script yet?

[20:39:00.0000] <MikeSmith>
I'd like to use it for this WD publication if possible

[22:36:00.0000] <hsivonen>
/me mumbles something about using Jython and the V.nu parser to get a faster spec gen and running it as a Web service in a memory-resident servlet container to avoid JVM startup delay

[23:54:00.0000] <Hixie>
wow, go MikeSmith

[23:54:01.0000] <Hixie>
finally someone taking the authority to clean up the trolls in public-html

[23:54:02.0000] <Hixie>
MikeSmith: he did, and it's running already

[23:55:00.0000] <Hixie>
MikeSmith: he gave a url for where to see the files generated by it

[23:56:00.0000] <Hixie>
it's in the logs somewhere :-)

[23:56:01.0000] <Hixie>
Philip`: it should work in seconds

[00:14:00.0000] <hsivonen>
Hixie: do you have plans wrt. complex ruby?

[00:26:00.0000] <Hixie>
not really

[00:26:01.0000] <Hixie>
i'm sure it's very important to some users

[00:26:02.0000] <Hixie>
just like, say, explicit poetry markup

[00:27:00.0000] <hsivonen>
ok. I take it that implementing ruby parsing still carries an above-normal risk

[00:27:01.0000] <hsivonen>
but not too high a risk I guess

[00:28:00.0000] <Hixie>
i have no plans to change it, though of course that might change when i look more carefully at the feedback we got

[00:29:00.0000] <hsivonen>
I zapped UTF-32 from Validator.nu

[00:30:00.0000] <Hixie>
cool

[00:30:01.0000] <hsivonen>
unsupported encoding count as document errors, although for theoretical purity, they probably should count as non-document-errors

[00:31:00.0000] <hsivonen>
It's amazing how much trouble encoding proliferation causes implementation-wise even when the decoders are available off the shelf

[00:32:00.0000] <hsivonen>
(the UTF-32 code path had some issues even though the decoder was an off-the-shelf library decoder)

[00:45:00.0000] <heycam>
Hixie, you have a couple of references to [DOM3VIEWS], but i think these should be [DOM2VIEWS]

[00:46:00.0000] <heycam>
dom 3 views seems to be pretty different

[00:46:01.0000] <heycam>
it claims to "[build] on the Document Object Model Views Level 2", but that doesn't really seem to be the case

[00:56:00.0000] <Hixie>
if you care a lot about this, e-mail me

[00:56:01.0000] <Hixie>
in general, i plan to go through all the references several years from now

[00:56:02.0000] <Hixie>
just before LC

[00:56:03.0000] <Hixie>
well, several months

[00:56:04.0000] <Hixie>
maybe not years

[00:56:05.0000] <heycam>
ok, i don't care that much, was just a small thing i noticed

[00:57:00.0000] <Hixie>
cool

[00:57:01.0000] <Hixie>
thanks for mentioning it

[00:57:02.0000] <heycam>
but a quick   :%s/DOM3VIEWS/DOM2VIEWS/g   should fix it ;)

[00:58:00.0000] <heycam>
/me home

[01:19:00.0000] <MikeSmith>
Hixie: about Philip` script, thanks

[01:19:01.0000] <MikeSmith>
will go back through logs when I got time

[01:22:00.0000] <hsivonen>
hmm. contrived mislabeled bogus UTF-16 test cases indeed cause ungraceful errors...

[01:23:00.0000] <hsivonen>
I don't know how to fix with hindering authors from locating stray \0 bytes in 8 bit data

[01:27:00.0000] <hsivonen>
s/with/without/

[02:04:00.0000] <annevk>
http://weblogs.mozillazine.org/roc/archives/2008/06/applying_svg_ef.html

[02:04:01.0000] <annevk>
http://lists.w3.org/Archives/Public/www-style/2008Jun/0003.html

[02:19:00.0000] <annevk>
hsivonen, "<event-source> in <head> is XHTML-only"

[02:19:01.0000] <annevk>
that's not true

[02:20:00.0000] <annevk>
it's just that new elements haven't been integrated in the parser yet

[02:20:01.0000] <annevk>
(not sure about <command>, but the idea for <event-source> is to make it work in <head>)

[02:20:02.0000] <hsivonen>
annevk: ah. 

[02:21:00.0000] <hsivonen>
it would be good to figure out the parsing of the new elements sooner than later

[02:21:01.0000] <hsivonen>
especially if browsers start implementing the elements as bolt-ons to existing parsers

[02:22:00.0000] <annevk>
yeah, and if browsers implement HTML5 parsing they might as well get the parsing right for the new elements

[02:22:01.0000] <annevk>
shouldn't be a big deal if the elements don't do anything yet

[02:22:02.0000] <hsivonen>
it would be good to make the new sectioning elements report themselves to AT ASAP

[02:40:00.0000] <hsivonen>
oh. great. according to the IANA, image/svg+xml still does not exist

[02:44:00.0000] <hsivonen>
lots and lots of other +xml types in the registry these days

[02:46:00.0000] <annevk>
I'm not sure if there's any benefit to image/svg+xml or any XML media type intended for Web browsers

[02:47:00.0000] <annevk>
It seems that using text/xml, application/xml, and */*+xml and dispatching on namespaces works just fine

[03:18:00.0000] <annevk>
Ah, the TAG is informed  about data-*

[03:19:00.0000] <othermaciej>
are they hopping mad?

[03:19:01.0000] <annevk>
not yet, but they might

[03:20:00.0000] <annevk>
It seems that Julian forgot to mention dataset though which would not really work well with arbitrary namespaces

[03:38:00.0000] <hsivonen>
/me rereads http://www.flightlab.com/~joe/sgml/sanity.txt

[03:52:00.0000] <annevk>
I actually thought that xmlns:x="" in XML 1.1 meant to assign the no namespace to the x prefix. Apparently this is not exactly true.

[03:53:00.0000] <annevk>
Hmm, Opera now treats <test xmlns:x=""/> as a fatal error in both XML 1.0 and XML 1.1

[03:54:00.0000] <annevk>
Oh well, with XML 1.0 (5ed) XML 1.1 becomes obsolete and we can fix this somehow.

[03:55:00.0000] <hsivonen>
XML 1.0 5th ed. is a bad idea too

[03:55:01.0000] <hsivonen>
According to John Cowan, it's about justice

[03:56:00.0000] <MikeSmith>
I was going to say that the TAG already was informed about data-* if they had read the "areas that are introducing major architectural features" message at http://lists.w3.org/Archives/Public/www-tag/2008May/0087.html

[03:56:01.0000] <annevk>
It's a first step in the right direction

[03:56:02.0000] <MikeSmith>
..but I see now that that data-* attributes and dataset were not mentioned at all in that

[03:56:03.0000] <hsivonen>
but when nations smaller than China have the choice of minting XML tags in their own language, it is still in their best interest to mint them in ASCII-based ENglish

[03:56:04.0000] <annevk>
MikeSmith, I suppose it's debatable whether it's architectural

[03:57:00.0000] <MikeSmith>
yeah

[03:57:01.0000] <MikeSmith>
anyway, I think there were other previous messages to the TAG list that mentioned data-*

[03:57:02.0000] <hsivonen>
so XML 1.0 5th ed. will be a lot of grief in order to give Cambodians, etc. the same freedom of choice Europeans have not to use native-language tags

[04:00:00.0000] <annevk>
It also makes increemental improvements to XML 1.0 acceptable, which seems like a huge win

[04:01:00.0000] <hsivonen>
annevk: I think going through the pain n many increments is not a good idea in the context of Draconian error handling

[04:03:00.0000] <hsivonen>
I'm sure native English speakers who advocate justice in XML element names are well-meaning, but effectively they are still suggesting that foreigners lock their data formats into national languages and not come compete in the global software market

[04:04:00.0000] <annevk>
I don't think that's the major win with XML 1.0 5ed

[04:04:01.0000] <hsivonen>
annevk: that's the stated win

[04:04:02.0000] <annevk>
(That it matches XML5 is nice though.)

[04:05:00.0000] <annevk>
hsivonen, if that's what it takes to get improvements to XML going, fine with me :)

[04:05:01.0000] <hsivonen>
annevk: umm. 5th ed. still makes arbitrary restrictions on Name characters

[04:05:02.0000] <hsivonen>
they change it but still not all the way

[04:05:03.0000] <annevk>
ok

[04:11:00.0000] <annevk>
anyway, we'll see what happens with that in due course

[04:12:00.0000] <hsivonen>
I had a lengthy politically-incorrect blog post drafted about 5th ed, but I got distracted

[04:15:00.0000] <hsivonen>
are HTML 4.01 MultiLengths actually supported on table columns in browsers: http://www.w3.org/TR/REC-html40/types.html#h-6.6

[04:23:00.0000] <annevk>
/me finds more Mozilla <canvas> extensions in https://bugzilla.mozilla.org/show_bug.cgi?id=430906

[04:25:00.0000] <hsivonen>
does it count as a distributed extension?

[04:27:00.0000] <annevk>
what is that?

[04:28:00.0000] <hsivonen>
an instance of exercising distributed extensibility

[04:28:01.0000] <annevk>
I guess not, it seems to be a new DOM attribute called mozOpaque

[04:29:00.0000] <annevk>
I don't think distributed extensibility works for the DOM

[04:29:01.0000] <hsivonen>
but moz is effectively a namespace prefix

[04:29:02.0000] <annevk>
effectively it's a short namespace

[04:50:00.0000] <annevk>
http://lists.w3.org/Archives/Public/www-archive/2008Jun/ :o

[05:05:00.0000] <hsivonen>
zcorpan: I backported area shape datatypes and others to HTML 4.01 / XHTML 1.0. thanks

[05:13:00.0000] <takkaria>
/me sighs at RB

[05:14:00.0000] <takkaria>
the reason I stop replying to him is just because it's not worth my time to try and clarify things to, not because I'm hostile towards him personally

[05:16:00.0000] <annevk>
I'm not sure why he's so hung up on his example. It seems pretty clear that any change increases implementation complexity. But then he believes it has zero implementation cost so maybe that's why...

[05:37:00.0000] <zcorpan>
hsivonen: cool

[05:52:00.0000] <Philip`>
Whoops, I should have woken up four hours ago

[05:52:01.0000] <Philip`>
MikeSmith: http://canvex.lazyilluminati.com/wa1/multipage-w3c/Overview.html is the new spec-splitter output

[05:52:02.0000] <MikeSmith>
Philip`: good morning and thanks :)

[05:53:00.0000] <Philip`>
MikeSmith: It's far from morning now :-(

[05:54:00.0000] <MikeSmith>
when you get up, that's morning

[05:55:00.0000] <MikeSmith>
in Japan, people who work in bars and clubs and other food-service jobs always say "Ohayo" or "Ohayo gozaimasu" (good morning) to greet each other, regardless of what time of day (or night) it actually is.

[06:03:00.0000] <Philip`>
Hmm, the multipage spec heading seem okay in IE6 (though with bad layout) and fine in IE8, so it's just IE7 that fails to draw the headings

[06:04:00.0000] <Philip`>
(or, rather, draws them behind the green box, I guess)

[06:14:00.0000] <jgraham>
I wonder if I should try to point out to Rob Burns that taking up everyone else's time is irritating and antisocial. I think I shouldn't because I don't think I would succeed but something really has to be done.

[06:16:00.0000] <MikeSmith>
Philip`: If anybody can cook up a CSS workaround for the IE7 issue, we can put up a modified CSS stylesheet and point the multipage version at that.

[06:16:01.0000] <annevk>
or we put a link in there to opera.com/download

[06:16:02.0000] <Philip`>
jgraham: If you don't succeed, you would just be taking even more of everyone's time, so that doesn't sound entirely productive

[06:16:03.0000] <MikeSmith>
annevk: :)

[06:17:00.0000] <Philip`>
/me wonders if he should bother going in to work today

[06:17:01.0000] <Philip`>
since it'll be about 2:30pm by the time I get there

[06:18:00.0000] <annevk>
Philip`, by that agument you might as well do nothing as you never know whether something will succeed

[06:18:01.0000] <jgraham>
Philip`: Obviously I wouldn't CC anything other than www-archive so it would only be a waste of my own time

[06:18:02.0000] <MikeSmith>
Philip`: work at the office til 10:30pm and you've got a full day in there

[06:20:00.0000] <Philip`>
jgraham: You count as one of "everyone", so that would still be wasting the (collective) everyone's time

[06:20:01.0000] <Philip`>
and people like me can't resist reading everything on www-archive anyway :-p

[06:23:00.0000] <jgraham>
Yeah it's only worthwhile if P(success)*(time saved if successful) > (1-P(success))*(time wasted if unsuccessful)

[06:25:00.0000] <annevk>
It might be that with RB P(success) is always 0 though.

[06:25:01.0000] <Philip`>
MikeSmith: It would be kind of cold and dark walking back home then, and also I'd starve :-(

[06:25:02.0000] <annevk>
Personally I sometimes draft responses and then delete them when I realize what I'm doing...

[06:25:03.0000] <jgraham>
P(success) is certianly close to zero

[06:26:00.0000] <jgraham>
but the time being wasted is really high

[06:36:00.0000] <annevk>
http://www.fightfortheopenweb.com/2008/04/15/why-html5-is-not-enough/

[06:39:00.0000] <annevk>
(it seems to be a site written by a guy who has taken it on himself to find a way to fight SilverLight/Flash)

[06:41:00.0000] <jgraham>
So his point is basically that we need WF2 and XBL2?

[06:42:00.0000] <Philip`>
It's a shame that nothing like WF2 and XBL2 exists - someone should invent them

[06:43:00.0000] <Dashiva>
jgraham: Looks like he wants joined client and server code as well

[06:44:00.0000] <hsivonen>
/me disagrees about not assuming CSS and JS

[06:46:00.0000] <Dashiva>
Assuming JS in general is okay, but there are some sites that abuse it enough that I disable it :)

[07:01:00.0000] <hsivonen>
hmm. comments on the blog aren't working

[07:03:00.0000] <MikeSmith>
hsivonen: recent mysql upgrade on the server? or PHP maybe?

[07:03:01.0000] <hsivonen>
dunno

[07:03:02.0000] <hsivonen>
I meant on the blog annevk referred to above

[07:03:03.0000] <MikeSmith>
oh

[07:04:00.0000] <annevk>
there's http://groups.google.com/group/fight-for-an-open-web if you really want to make your comment reach him I guess

[07:21:00.0000] <BorekB>
Hi all, I've got some questions regarding opening links into new tabs. Is this the right place to discuss it or should I post to the mailing list?

[07:22:00.0000] <annevk>
If you're not sure about your comment you can discuss it here first

[07:23:00.0000] <annevk>
(Though you can also post it directly to the mailing list, it's really up to you :) )

[07:23:01.0000] <BorekB>
Thanks, I'll try it here :)

[07:24:00.0000] <BorekB>
I am aware that there is no way to inform the browser that it should open the link in a new tab. However, I think this would be useful in some situations. I just wanted to know if this is something that is being considered or discussed

[07:26:00.0000] <hsivonen>
BorekB: tabs vs. windows is considered a matter of browser UI

[07:26:01.0000] <annevk>
It has been raised and the general consensus is that target=_blank covers that use case

[07:26:02.0000] <hsivonen>
BorekB: so whether to open new "windows" as tabs is a browser pref

[07:28:00.0000] <BorekB>
From a user perspective, opening links in a new window or in a new tab is very different. If there is only one way to express this in HTML/JS (target="_blank" or window.open), there is an obvious mismatch. Let me demonstrate on a specific use case..

[07:31:00.0000] <zcorpan>
2541 lowsrc

[07:32:00.0000] <BorekB>
In web applications where you work with many external links, it is quite common to open links that you want to read later to new tabs. Google Reader would be an example of such an application (quickly skimming through the new posts and opening the ones of your interest to new tabs). There is no way to implement it by the GReader team at the moment.

[07:32:01.0000] <zcorpan>
lowsrc is more common than 2337 xmlns:o

[07:33:00.0000] <zcorpan>
interesting

[07:33:01.0000] <BorekB>
(I mean you can always middle-click the link in Firefox but if you use keyboard shortcut 'v', the links are opening in new windows by default which kind of defeats the point of having tabbed browser.)

[07:33:02.0000] <zcorpan>
oh wait, this was total occurances

[07:34:00.0000] <zcorpan>
pages: 2223 xmlns:o, 681 lowsrc

[07:34:01.0000] <BorekB>
The workaround is to go to Firefox settings and force it to open all "_blank" links to the tabs instead of windows.

[07:35:00.0000] <BorekB>
With this setting in place, however, some other sites where the new window would be more appropriate that a new tab (small help window for instance) will be force to use new tabs as well.

[07:37:00.0000] <BorekB>
I don't like this as a user - the web application should be able to express its intention to either open the link in a new window or in a new tab. (There can still be an option to override this intention on a browser level, this is nothing against it.)

[07:39:00.0000] <BorekB>
(Sorry for spelling errors, I hope it's clear what my concern is.)

[07:40:00.0000] <BorekB>
I am obviously not alone - just try googling "_tab"

[07:40:01.0000] <BorekB>
What do you think?

[07:41:00.0000] <annevk>
mpt proposed the opposite a while ago: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2008-April/014564.html

[07:42:00.0000] <BorekB>
I see it more like an addition than opposite

[07:43:00.0000] <BorekB>
Furthermore, target="_tab" would be much easier to implement for browser vendors - all necessary infrastructure (tabs!) is already there

[07:43:01.0000] <annevk>
Well, with his proposal in place it might be feasible to do target=_blank in a new tab

[07:45:00.0000] <Philip`>
Opera already opens target=_blank in a new tab by default

[07:45:01.0000] <annevk>
true :)

[07:46:00.0000] <annevk>
Anyway, I don't really feel strongly about this. I guess I don't feel a compelling need for either

[07:46:01.0000] <BorekB>
Philip, my concern isn't about what is or what isn't default. It's more about inability to distinguish between the two obviously different behaviours in HTML/JS

[07:46:02.0000] <Philip`>
Of course it also does "Cycle [tabs] in recently used order" by default, so being default UI doesn't mean it's not a horribly awful choice :-p

[07:47:00.0000] <annevk>
Philip`, aren't the newer builds better with that by default?

[07:47:01.0000] <BorekB>
Philip: I agree that Opera got the default settings much better than the other browsers out there

[07:48:00.0000] <Philip`>
annevk: They still default to "recently used order", which is impossible to use since the whole list gets reshuffled every time I switch tab

[07:49:00.0000] <BorekB>
OK thanks for initial discussion, I think I will send this to the mailing list so that we can have broader discussion

[07:49:01.0000] <Philip`>
Opera also does window.open() in a tab, including special not-full-sized window-like tabs that are drawn on top of the background tab, for when you specify width and height

[07:50:00.0000] <Philip`>
so it doesn't have as much of a distinction between windows and tabs as other browsers do

[07:50:01.0000] <BorekB>
Now we just need a solution for 98% of browsers out there :)

[07:51:00.0000] <Philip`>
BorekB: 98% are IE6 and IE7 and FF2 etc, so any new feature is definitely not going to work in them :-)

[07:53:00.0000] <Philip`>
The most common browser doesn't even have tabs

[07:53:01.0000] <mpt>
/me reads backlog and discovers that annevk read his mind

[07:56:00.0000] <mpt>
With target="_reference" available, browsers could open target="_blank" in a new tab

[07:58:00.0000] <mpt>
That might take longer than introducing target="_tab"

[07:58:01.0000] <BorekB>
mpt: exactly

[07:59:00.0000] <BorekB>
target="_tab" would be very quick fix for most browsers

[07:59:01.0000] <mpt>
But by the time *either* of those happen, whether something opens in a new window or a new tab might not be under the control of the browser any more.

[08:00:00.0000] <mpt>
In which case target="_tab" would be a dead distinction, functionally identical to target="_blank".

[08:00:01.0000] <BorekB>
how do you mean that? not under the control of the browser?

[08:01:00.0000] <hsivonen>
oh well. I didn't resist replying to elharo. 

[08:01:01.0000] <hsivonen>
/me hopes the subthread doesn't grow long

[08:04:00.0000] <mpt>
BorekB, handled by the window manager or operating environment instead

[08:05:00.0000] <mpt>
BorekB, an increasing amount of Web browsing is being done on small-screen devices that sometimes have tabs, but if they do, make no distinction between tabs and windows

[08:05:01.0000] <BorekB>
mpt: Why would OS prevent opening new windows?

[08:07:00.0000] <mpt>
I don't understand that question

[08:08:00.0000] <BorekB>
ok i get what you mean. your comment is valid for devices but probably not so appropriate for desktop operating systems

[08:15:00.0000] <mpt>
Not appropriate right now, certainly.

[08:42:00.0000] <Philip`>
Hixie: "it should work in seconds" - it's been twelve hours and it still doesn't seem to have updated :-(

[08:43:00.0000] <Philip`>
(e.g. http://www.whatwg.org/specs/web-apps/current-work/multipage/fragment-links.js is not the version now in http://canvex.lazyilluminati.com/misc/multipage/multipage.tar.bz2)

[08:43:01.0000] <Philip`>
(and I did call the do-pubrules-update thing after updating that file)

[08:50:00.0000] <Philip`>
MikeSmith: If you want to use the multipage version of the W3C version of the spec, let me know if there's anything that ought to be changed (like if the header bit is missing stuff or has too much stuff, or if the <title>s ought to be distinct between pages, or whatever) since it ought to be fairly quick to fix

[08:51:00.0000] <MikeSmith>
Philip`: OK, after I have had a chance to look at it more carefully

[08:53:00.0000] <Philip`>
(The main differences are that the header thing in the source file has changed, and the spec-splitter outputs an HTML4 doctype and <div> instead of <nav> and Overview.html instead of index.html and no link-fixup script and that's all)

[08:53:01.0000] <Philip`>
(*differences compared to the WHATWG version)

[08:54:00.0000] <MikeSmith>
OK

[08:57:00.0000] <Philip`>
(Oh, and the W3C one has index.html instead of section-index.html, because the WHATWG version would have a conflict between index.html and $sectionname.html when $sectionname = 'index' hence it gets renamed to section-index.html)

[08:57:01.0000] <Philip`>
(But I think that's all :-) )

[09:13:00.0000] <zcorpan>
hmm. setting innerHTML in XML

[09:13:01.0000] <zcorpan>
step 2

[09:15:00.0000] <zcorpan>
does "declaring all the namespace prefixes that are in scope on that element in the DOM" mean xmlns:foo attributes or elements with prefix, or both?

[09:21:00.0000] <zcorpan>
document.createElementNS('http://www.w3.org/1999/xhtml','foo:div').innerHTML = '<foo:img/>';

[09:22:00.0000] <zcorpan>
time to send email

[09:23:00.0000] <Philip`>
/me wonders how that div changed into an img

[09:23:01.0000] <Dashiva>
A wizard did it

[09:24:00.0000] <Dashiva>
zcorpan: Definitely vague

[10:09:00.0000] <MikeSmith>
about the following in the current HTML5 draft:

[10:09:01.0000] <MikeSmith>
http://www.w3.org/html/wg/html5/#html-namespace

[10:10:00.0000] <MikeSmith>
do current browsers actually already "place elements in HTML in the http://www.w3.org/1999/xhtml namespace, at least for the purposes of the DOM and CSS" ?

[10:11:00.0000] <Philip`>
/me likes that he can go to http://www.whatwg.org/specs/web-apps/current-work/multipage/#html-namespace and get sent to the right page

[10:11:01.0000] <MikeSmith>
or is that something that they will need to be changed to do in order to be conformant?

[10:12:00.0000] <Philip`>
MikeSmith: WebKit does; others don't

[10:12:01.0000] <Philip`>
(http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cbody%20onload%3Dw(document.body.namespaceURI)%3E )

[10:13:00.0000] <myakura>
I thought Firefox does too (for CSS)

[10:15:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cstyle%3E%0A%40namespace%20a%20%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml%22%3B%0A%40namespace%20b%20%22http%3A%2F%2Fwww.w3.org%2F1999%2Fxhtml1%22%3B%0Aa%7Cdiv%20%7B%20background%3A%20green%20%7D%0Ab%7Cdiv%20%7B%20background%3A%20red%20%7D%0A%3C%2Fstyle%3E%0A%3Cbody%20onload%3Dw(document.body.namespaceURI)%3E%0A%3Cdiv%3ETest%3C%2Fdiv%3E

[10:16:00.0000] <Philip`>
myakura: Ah, okay - it looks like Firefox and Opera both do for CSS

[10:17:00.0000] <MikeSmith>
OK

[10:18:00.0000] <Philip`>
(and IE is 'special')

[10:20:00.0000] <MikeSmith>
yeah, that at least I knew already

[10:30:00.0000] <Philip`>
/me wonders if MikeSmith is having much fun in www-archive

[10:31:00.0000] <MikeSmith>
Philip`: I think you can guess what the answer to that question is :)

[10:37:00.0000] <smedero>
oh cool, people are putting words in my mouth.

[10:37:01.0000] <smedero>
hooray.

[10:38:00.0000] <smedero>
apparently I gave an authoritative view on something instead of simply citing what the chairs have said time and time again.

[10:38:01.0000] <smedero>
sigh, this kind of stuff bores the hell out of me.

[10:41:00.0000] <takkaria>
Philip`: you have any stats on the <q> tag?

[10:42:00.0000] <Philip`>
takkaria: Any particular stats?

[10:42:01.0000] <Philip`>
I see it on 59 pages out of 130K

[10:42:02.0000] <takkaria>
whether people provide their own quotes inside, outside, or not at all

[10:46:00.0000] <Philip`>
Looks like sometimes inside, sometimes outside, mostly not at all

[10:46:01.0000] <Philip`>
/me will upload the stuff once his grep finishes

[10:47:00.0000] <takkaria>
thanks

[10:47:01.0000] <Philip`>
(I've no idea how many of these pages define their own styling for <q>)

[10:49:00.0000] <Philip`>
(<q> is the 125th most common element, barely half as common as the <align="center"> element)

[10:49:01.0000] <takkaria>
<align="center"> sounds fun

[10:51:00.0000] <Philip`>
That seems to be used on a wide variety of pages, not just lots of instances of the same site

[10:55:00.0000] <Philip`>
takkaria: http://philip.html5.org/data/q-tags.txt

[10:56:00.0000] <Hixie>
Philip`: do you get a 500 or anything when calling the do-multipage-update script?

[10:56:01.0000] <Philip`>
Hixie: do-multipage-update?

[10:57:00.0000] <Hixie>
isn't that the page i said to use to ping when there's an update?

[10:57:01.0000] <Philip`>
If that exists, you never told me about it :-p

[10:57:02.0000] <Hixie>
oh

[10:57:03.0000] <Hixie>
what uri are you calling

[10:57:04.0000] <Philip`>
11:54 < Hixie> can you make it ping http://www.whatwg.org/specs/web-apps/current-work/do-pubrules-update when it's done?

[10:57:05.0000] <Hixie>
oops

[10:58:00.0000] <Hixie>
i gave you the wrong one!

[10:58:01.0000] <Hixie>
s/pubrules/multipage/

[10:58:02.0000] <Hixie>
sorry!

[10:58:03.0000] <Hixie>
pubrules is the one that the other host uses once the spec has been run through the pubrules checker

[10:58:04.0000] <Philip`>
Aha - I'll try that :-)

[10:58:05.0000] <Philip`>
Success

[10:59:00.0000] <Hixie>
woo

[10:59:01.0000] <Philip`>
http://www.whatwg.org/specs/web-apps/current-work/multipage/section-introduction.html - hurray

[10:59:02.0000] <Hixie>
cool

[10:59:03.0000] <Hixie>
sorry about that

[11:02:00.0000] <Philip`>
/me wonders how you make bash scripts abort when one of the commands failed

[11:02:01.0000] <gsnedders>
Philip`: With far too many if statements

[11:02:02.0000] <gsnedders>
(like, one per command)

[11:03:00.0000] <Philip`>
I don't even know how to do if statements in bash :-p

[11:04:00.0000] <gsnedders>
I don't know off the top of my head :P

[11:04:01.0000] <gsnedders>
And I'm finding a lack of xrefs

[11:07:00.0000] <gsnedders>
"The x element" has no xref

[11:08:00.0000] <gsnedders>
Philip`: etree.tostring(Element, encoding=unicode, method='text') includes Element.tail!

[11:09:00.0000] <Philip`>
e=deepcopy(Element);e.tail='';etree.tostring(e, ...) :-)

[11:09:01.0000] <Philip`>
That does sound kind of irritating

[11:10:00.0000] <gsnedders>
It breaks  a heckuva lot of cross-refs too :(

[11:14:00.0000] <gsnedders>
Philip`: Just stripping len(Element.tail) chars if Element.tail is probably quicker

[11:15:00.0000] <gsnedders>
It isn't, actually

[11:15:01.0000] <gsnedders>
Yes, it is.

[11:16:00.0000] <gsnedders>
3x slower

[11:17:00.0000] <Philip`>
gsnedders: Or use tostring(..., with_tail=False)

[11:17:01.0000] <gsnedders>
Philip`: Hah!

[11:18:00.0000] <Philip`>
There's .xpath("string()") too

[11:19:00.0000] <gsnedders>
Philip`: That's really expensive

[11:19:01.0000] <Philip`>
Ah

[11:21:00.0000] <gsnedders>
Philip`: The difference between with_tail and stripping len(Element.tail) is only a few thousandths

[11:21:01.0000] <Philip`>
But one of those isn't a nasty hack :-)

[11:22:00.0000] <gsnedders>
Philip`: Exactly :)

[11:22:01.0000] <gsnedders>
(This is a few thousandths on the entire HTML 5 spec)

[11:23:00.0000] <Philip`>
(A few thousandths of what?)

[11:23:01.0000] <gsnedders>
A second.

[11:23:02.0000] <Philip`>
Ah

[11:24:00.0000] <gsnedders>
And the random uncertainty seems to be around ±2ms

[11:24:01.0000] <gsnedders>
which makes a difference of around 5ms between the means even less meaningful

[11:25:00.0000] <gsnedders>
/me stares at the WHATWG version of the HTML 5 spec

[11:25:01.0000] <gsnedders>
yay! more undefined behaviour in the real spec-gen!

[11:27:00.0000] <gsnedders>
"Cross-references are made by marking the defining instance of a term with <dfn>."

[11:27:01.0000] <gsnedders>
Not <hx>.

[11:30:00.0000] <gsnedders>
No, it is only <dfn>. Some other bug.

[11:38:00.0000] <gsnedders>
Oh, it's because textContent() keeps the whitespace

[11:54:00.0000] <Hixie>
MikeSmith: yt?

[11:57:00.0000] <jgraham>
Philip`: Can't you use && to exit if a command fails in bash?

[11:57:01.0000] <jgraham>
/me knows very little bash scripting

[11:58:00.0000] <Philip`>
jgraham: I'm not confident in how that interacts with things like output redirection, and also I'd prefer not to make my entire script be a single line :-)

[11:59:00.0000] <MikeSmith>
Hixie: here now

[11:59:01.0000] <Philip`>
Currently I'm sticking with the approach that probably nothing is going to fail too badly or too frequently so there's no need for detecting errors

[11:59:02.0000] <jgraham>
Hmm. I'm not sure why it would require the whole script to be a single line

[11:59:03.0000] <jgraham>
biab

[12:11:00.0000] <Hixie>
sweet

[12:11:01.0000] <Hixie>
rob told mike that he was out of line

[12:11:02.0000] <Hixie>
that's hilarious

[12:12:00.0000] <Hixie>
it's sad that the chairs are making you do the leg work here

[12:12:01.0000] <Hixie>
if this was going on in a community i had authority over he'd have been banned for a week already

[12:28:00.0000] <Hixie>
The aria-* syntax creates a multitude of attributes. It is as if one decided to go for style-font="*" instead of style="font:*".

[12:28:01.0000] <Hixie>
/me wonders if anyone told this guy about SVG

[13:05:00.0000] <Dashiva>
Hixie: I wonder if he would be any happier with aria="a:b;c:d;" :)

[13:10:00.0000] <Hixie>
lord

[13:12:00.0000] <deltab>
Philip`: run the shell with -e, use use  set -e  in a script

[13:12:01.0000] <deltab>
^or use

[13:13:00.0000] <deltab>
and use  foo || true;  if you need to ignore the result of foo

[13:24:00.0000] <gsnedders>
/me guesses he should make his xref have whitespace normalisation

[13:57:00.0000] <annevk>
yup

[13:58:00.0000] <annevk>
it's typical for <dfn> to contain a newline and several consecutive spaces

[14:02:00.0000] <gsnedders>
Anyone feeling like being useful, so I can do my homework?

[14:03:00.0000] <gsnedders>
Make http://hg.gsnedders.com/spec-gen/file/0b4dc9d2fc3e/runtests.py run the tests/basic

[16:15:00.0000] <gsnedders>
/me wishes Mozilla supported display: run-in

[16:15:01.0000] <gsnedders>
I mean, even IE8 does! :P

[16:15:02.0000] <gsnedders>
(There again, that doesn't have a ten year old layout engine in standards mode)

[16:27:00.0000] <roc>
you're the first person I've ever heard ask for it

[16:27:01.0000] <Dashiva>
gsnedders: inline-block only took 10 years, cut them some slack :)

[16:28:00.0000] <gsnedders>
roc: Heh. I use it on the print layout of my blog, though as Philip` will undoubtedly point out if he sees this, nobody prints blogs.

[16:28:01.0000] <gsnedders>
(Prince is actually the only thing that gets the print version of my blog right)

[16:29:00.0000] <gsnedders>
Dashiva: the run-in bug will be 10 in Dec :P

[16:30:00.0000] <Philip`>
gsnedders: I suppose some people might print some blogs, when they're running out of toilet paper

[16:30:01.0000] <gsnedders>
/me sighs

[16:34:00.0000] <Philip`>
It's really quite convenient how computers have a button that causes paper to be extruded at you


2008-06-05
[19:19:00.0000] <Philip`>
Will any browser ever implement renameNode?

[19:20:00.0000] <jruderman>
i hope not

[19:21:00.0000] <jruderman>
it sounds evil

[19:25:00.0000] <Philip`>
I can imagine it interacting kind of badly with the parser, like if you write <i id=a><script>document.renameNode(document.getElementById('a'), 'http://www.w3.org/1999/xhtml', 'b')</script></b>whoo

[19:35:00.0000] <jwalden>
"renameNode"?

[19:35:01.0000] <jwalden>
/me hits the Google

[19:36:00.0000] <jwalden>
ah, nonstandard

[19:40:00.0000] <heycam>
renameNode is dom3 core

[19:55:00.0000] <roc>
the document "List of vents (SVG 1.2)" isn't as interesting as it sounds

[19:56:00.0000] <heycam>
haha

[19:57:00.0000] <roc>
wow

[19:57:01.0000] <roc>
that sounds hellish

[19:57:02.0000] <othermaciej>
roc: it's allowed to replace the node, I think

[19:58:00.0000] <roc>
that helps, but it's still hellish

[19:58:01.0000] <othermaciej>
http://www.w3.org/TR/DOM-Level-3-Core/core.html#Document3-renameNode

[19:58:02.0000] <roc>
I'm reading it

[19:58:03.0000] <othermaciej>
I don't think we have it in WebKit

[19:58:04.0000] <othermaciej>
it sounds pretty crazy indeed

[19:59:00.0000] <othermaciej>
I think Web DOM Core should drop it

[19:59:01.0000] <roc>
amen

[20:02:00.0000] <roc>
if they keep it, it really needs to specify how renameNode affects hidden DOM state like <iframe> subdocuments and form elements

[20:02:01.0000] <roc>
and whether references to the old node are redirected to the new node

[20:03:00.0000] <roc>
and it sounds like the decision about whether to rename or create could have observable effects, which means leaving that decision undefined is a big interop problem

[20:22:00.0000] <othermaciej>
yes, having it undefined whether to create a new node or somehow rename one in-place seems terrible

[20:25:00.0000] <othermaciej>
and having the method at all when the common case is to create a new node (which I think it must be, changing an element's class on the fly just sounds like crazy-land) then it is misleading to have the API at all

[20:31:00.0000] <Dashiva>
And if there's any case for renaming inplace, maybe those elements could've been better handled collapsed with a @type

[20:33:00.0000] <othermaciej>
I can imagine cases where it might be useful, it just seems really impractical to do for real

[01:02:00.0000] <annevk>
/me wonders what 5ce9134be8a642e1fbf3b93593da33e9 means

[01:03:00.0000] <hdh>
firefox accepts Content-Encoding: SHA-1?

[01:19:00.0000] <jwalden>
annevk: http://weblogs.mozillazine.org/roc/archives/2007/01/ec06b3461cf0eaf.html may help

[01:19:01.0000] <jwalden>
an extremely low-down, dastardly way to annoy everybody, I say

[01:20:00.0000] <hsivonen>
jwalden: has roc published that previous time capsule yet?

[01:20:01.0000] <jwalden>
I don't think he's published any of them

[01:20:02.0000] <hsivonen>
ok. are there more than two now?

[01:21:00.0000] <jwalden>
I think this is the third, lemme check

[01:23:00.0000] <jwalden>
http://weblogs.mozillazine.org/roc/archives/2007/12/e0f4ffc0ddc898c.html

[01:24:00.0000] <hsivonen>
thanks

[01:24:01.0000] <jwalden>
those are all

[01:24:02.0000] <hsivonen>
no announced ETA for the revelation of any of them :-(

[01:25:00.0000] <jwalden>
I seem to recall IRC discussion that suggested to me that at least one of them would never be published unless "something" went really, really, devastatingly bad

[01:25:01.0000] <hsivonen>
hmm.

[01:25:02.0000] <jwalden>
as I said, full-blown underhandedness

[01:27:00.0000] <doublec>
we tried to get it out of him in the office today but he's a tough nut to crack

[01:28:00.0000] <jwalden>
yes, he's definitely a nut all right, completely agree

[01:33:00.0000] <jwalden>
also, http://blogs.msdn.com/oldnewthing/archive/2006/05/23/604743.aspx

[01:34:00.0000] <jwalden>
which was revealed, eventually

[01:34:01.0000] <jwalden>
http://blogs.msdn.com/oldnewthing/archive/2006/12/29/1379914.aspx

[01:38:00.0000] <hsivonen>
hmm. can't do <kbd> on whatwg wiki

[01:52:00.0000] <MikeSmith>
hsivonen: I see that v.nu is now reporting duplicate IDs

[01:54:00.0000] <hsivonen>
MikeSmith: yeah, I fixed that

[01:54:01.0000] <hsivonen>
<a name> in HTML 4.01 / XHTML 1.0 checking is still broken, though

[01:55:00.0000] <MikeSmith>
hsivonen: OK

[01:55:01.0000] <MikeSmith>
the dupe ID thing is nice

[01:55:02.0000] <MikeSmith>
I caught a couple that I had in the HTML5 publication notes doc

[02:11:00.0000] <Hixie>
renameNode should be required to replace

[03:48:00.0000] <hsivonen>
Hixie: valid hashed reference is not defined as having to match an id value, but now name is required on map

[03:49:00.0000] <hsivonen>
roc: fwiw, I've used run-in in published non-test-case Web content (Re: IRC log)

[03:52:00.0000] <Philip`>
http://www.hobi.com/ uses display:run-in, though seemingly to avoid an Opera bug

[03:52:01.0000] <hsivonen>
I used it in http://hsivonen.iki.fi/thesis/html5-conformance-checker to conform to a LaTeX emulation requirement set by the professor

[03:52:02.0000] <Philip`>
((That bug seems fixed in 9.5))

[03:53:00.0000] <Philip`>
http://www.w3.org/TR/xhtml+voice/ uses it too

[03:54:00.0000] <Philip`>
though probably they didn't test that page in a browser that supported it, since their References section looks ugly in Opera

[03:54:01.0000] <annevk>
given the people on the editor's list, I'd be surprised

[04:06:00.0000] <Philip`>
annevk: I'd still be surprised if they could have tested it in Opera, since the run-in list is inconsistently and nastily spaced, and I can't believe that was intentional :-)

[04:06:01.0000] <Philip`>
Hmm, those pages are the only two out of 130K with display:run-in in inline stylesheets

[04:08:00.0000] <othermaciej>
does any browser support display:run-in?

[04:08:01.0000] <othermaciej>
I guess webkit might

[04:08:02.0000] <othermaciej>
but display: run-in is sort of a microcosm of what is wrong with CSS

[04:08:03.0000] <othermaciej>
it is so special-casey it is kind of ridiculous

[04:09:00.0000] <hsivonen>
othermaciej: Safari and Opera support it, and it seems it has regressed in WebKit nightlies

[04:19:00.0000] <zcorpan>
Hixie: i think now is a pretty good time to add the new elements to the html parser (<nav>, <source>, etc)

[04:20:00.0000] <hsivonen>
looks like the regression I'm seeing is like https://bugs.webkit.org/show_bug.cgi?id=12522 but without the printing aspect

[04:30:00.0000] <annevk>
/me agrees with zcorpan

[04:31:00.0000] <annevk>
zcorpan, is there an issue so we can put at the top of http://www.whatwg.org/issues/top ? :)

[04:55:00.0000] <zcorpan>
annevk: i don't remember if there's an email about it

[04:59:00.0000] <annevk>
nope

[04:59:01.0000] <zcorpan>
haha, there's a folder "zzz"

[07:10:00.0000] <annevk>
apparently there's also one called aaa-productity or something

[07:10:01.0000] <annevk>
euh, aaa-productivity

[07:27:00.0000] <gsnedders>
annevk: so, what? It makes you more productive?

[07:35:00.0000] <MikeSmith>
jgraham_: thanks for your support on the issue-tracker discussion

[07:35:01.0000] <MikeSmith>
I've added some text to the group home page:

[07:36:00.0000] <MikeSmith>
http://www.w3.org/html/wg/#issues

[08:16:00.0000] <zcorpan>
hah

[08:16:01.0000] <zcorpan>
<div/> div.innerHTML = 'x</div>y<div>z';

[08:17:00.0000] <zcorpan>
doesn't throw in firefox

[08:35:00.0000] <annevk>
zcorpan, does it affect the DOM?

[08:35:01.0000] <annevk>
I mean, how does it?

[08:43:00.0000] <mayhemer>
hi, I would like to discuss one misunderstanding from my side of HTML5, 4.7 Offline Web applications spec

[08:43:01.0000] <mayhemer>
I am not sure when exactly opportunistic namespace matching entries sould be cached

[08:43:02.0000] <annevk>
feel free, though the right people might not be around

[08:44:00.0000] <mayhemer>
annevk: do you know namely who I could talk to?

[08:45:00.0000] <mayhemer>
annevk: it is about offline web applicatoins cache

[08:51:00.0000] <annevk>
well, you could e-mail the mailing list

[08:51:01.0000] <annevk>
i'd expect them to be cached during some kind of background process, btw

[08:51:02.0000] <mayhemer>
I will do, thanks

[08:51:03.0000] <annevk>
/me looks at the spec

[09:01:00.0000] <closure>
anyone know if there is an implementation of the connection interface anywhere yet?

[09:02:00.0000] <closure>
the spec is still a bit shady in that section.

[09:02:01.0000] <zcorpan>
annevk: same as div.innerHTML = 'x'

[09:04:00.0000] <annevk>
closure, people have been experimenting with it, but nothing native

[09:26:00.0000] <closure>
annevk: figures, but is source code available of prototypes?

[09:28:00.0000] <closure>
especially testsuites.

[09:28:01.0000] <annevk>
i don't think so, you're interested in implementing?

[09:30:00.0000] <closure>
heh, part of my job for google summer of code alas (for es operating system)

[09:31:00.0000] <closure>
but i might have to postpone that task a little because the spec is still too vague

[09:39:00.0000] <annevk>
closure, best course of action is probably to subscribe to the mailing list, make comments on where the spec is vague and say that it has some priority because you want to implement it this summer

[09:40:00.0000] <annevk>
closure, not guaranteed it works btw, but it's likely your best shot (and if it doesn't work out you'll at least be ensured that your feedback will be addressed at some point in the future)

[09:41:00.0000] <closure>
i'll probably lurk on the mailing list then, although i do understand it's taking a backseat for now in the spec since it's a new feature

[09:42:00.0000] <annevk>
the spec is quite implementation driven actually

[09:44:00.0000] <annevk>
so if browser vendor Y says it needs <canvas> feedback integrated within a few weeks that will actually happen most of the time

[09:50:00.0000] <Philip`>
Uh, please s/ctx/canvas/ in my recent email

[09:54:00.0000] <annevk>
The two parameter version seems less elegant since it does not apply to all types

[09:54:01.0000] <annevk>
oh well

[09:57:00.0000] <Philip`>
annevk: What types other than PNG and JPEG is anyone ever going to use?

[09:58:00.0000] <Philip`>
(It doesn't seem a good idea to make JPEG harder to use just because of some hypothetical future that will probably never occur)

[10:02:00.0000] <annevk>
Philip`, maybe true, yes

[10:04:00.0000] <annevk>
the only other problem with the argument version is that implementing it could not be done using a prefixed attribute

[10:04:01.0000] <Philip`>
/me wonders if it matters if the JPEG quality value is implementation-dependent, so 0.80 could look rubbish in one browser and great in another

[10:04:02.0000] <Philip`>
annevk: Not quite sure what you mean

[10:05:00.0000] <annevk>
sorry, if we implemented this before it was standardized we'd basically deadlock the second argument of toDataURL(), but maybe it's not so bad

[10:06:00.0000] <Philip`>
Nowadays it only takes days to get new features standardised :-)

[10:07:00.0000] <annevk>
that'd be nice

[10:07:01.0000] <Philip`>
Named arguments like canvas.toDataURL('image/jpeg', { quality: 0.8 }) would be nice except they seem to not exist in the DOM and it'd be nicer to avoid unconventionality

[10:20:00.0000] <annevk>
Philip`, what exactly is the concern with html5-diff?

[10:20:01.0000] <annevk>
as it exists with http://www.w3.org/html/wg/html5/diff/ for instance

[10:20:02.0000] <annevk>
s/with/at/

[10:21:00.0000] <Philip`>
annevk: Ah, I didn't realise that that and http://www.w3.org/TR/html5-diff/ etc all said "html5", and only http://dev.w3.org/html5/html4-differences/ says "html4"

[10:22:00.0000] <annevk>
I was trying to tell you that :)

[10:22:01.0000] <Philip`>
Ah, I failed to understand :-)

[10:22:02.0000] <annevk>
so no problem then, apart from html5-diff versus html5-differences which I'll declare a non-issue :)

[10:24:00.0000] <Philip`>
I'm happy to accept "html4-differences" as being a deprecated name that only exists in CVS, and CVS makes renaming far too much of a pain to bother with :-)

[11:59:00.0000] <annevk>
jgraham_++

[13:13:00.0000] <Philip`>
http://meyerweb.com/eric/html-xhtml/html5-linking.html

[13:15:00.0000] <Hixie>
send mail

[13:15:01.0000] <Hixie>
but thanks

[13:15:02.0000] <Hixie>
that's a really useful page

[13:15:03.0000] <Hixie>
i wonder why eric isn't just posting to the list

[13:15:04.0000] <gsnedders>
for the code example, it would require @href to have per element specific semantics

[13:15:05.0000] <Philip`>
The accompanying blog post says "Now, as to why I’m blogging this instead of taking it to one or another of the relevant mailing lists: I’m looking for community input in order to strengthen the document."

[13:16:00.0000] <Hixie>
the community is on the mailing list...

[13:16:01.0000] <Philip`>
so I assume he will email it eventually

[13:16:02.0000] <Philip`>
There is more than one community in the world :-)

[13:16:03.0000] <gsnedders>
Philip`: We are… teh community!

[13:16:04.0000] <Hixie>
fair enough

[13:16:05.0000] <Hixie>
i just hate it when people do things and get it to where they think it's perfect before bringing it to the table

[13:17:00.0000] <Hixie>
because then if there's a fundamental flaw (like "browsers have already said they'll never do it") then they get all upset that they spent all this time on nothing

[13:18:00.0000] <Philip`>
Browser developers can change their minds if given sufficiently compelling arguments

[13:18:01.0000] <Dashiva>
"It would cause browsers to explode and destroy most of our users"

[13:20:00.0000] <Philip`>
Dashiva: If that were the case, all browser developers should be requesting strongly that the feature should be added to the spec, in the hope that their competitors will foolishly decide to actually implement it and kill their users and lose their market share

[13:20:01.0000] <Hixie>
that would be unethical

[13:20:02.0000] <Hixie>
and arguing against browser developers tends to alienate them

[13:20:03.0000] <Hixie>
i'd like to reserve that for the critical things

[13:21:00.0000] <Dashiva>
Philip`: That wouldn't work, the web developers would be victimized before they could make their sites public

[13:23:00.0000] <Philip`>
Dashiva: Not the developers who randomly copy-and-paste bits of tutorials and code from other sites into their own pages, then only test in IE5 and see that it looks kind of alright so they publish it

[13:23:01.0000] <gsnedders>
But IE5 is awesome!

[13:23:02.0000] <Dashiva>
But IE is the only browser that could implement it, the other browsers could never get it out as it would fail QA :)

[13:24:00.0000] <Philip`>
Dashiva: Nobody who experienced the bug would be in a fit state to file a bug report, so the developers would never know there was a problem

[13:25:00.0000] <Dashiva>
It's not a bug, it's a feature.

[13:25:01.0000] <Dashiva>
There would be feature testing :)

[13:25:02.0000] <gsnedders>
I mean, my presence here is a feature, not a bug.

[13:25:03.0000] <gsnedders>
Right?

[13:26:00.0000] <Dashiva>
It's a bug in your use-every-waking-moment-to-study program

[13:26:01.0000] <gsnedders>
Dashiva: I know I have physics stuff on my lap, but that's because I'm helping a friend in need!

[13:29:00.0000] <Dashiva>
Philip`: It seems to be using "some new element like link" is a bad example for a new element :)

[13:30:00.0000] <Dashiva>
*to me

[13:31:00.0000] <Philip`>
Dashiva: Who suggested a new element like link?

[13:31:01.0000] <Dashiva>
In Eric's blog post, last case

[13:31:02.0000] <Philip`>
Oh, I only saw the one about the attribute like link

[13:33:00.0000] <Philip`>
/me thinks linkable <tr>s seems like the most useful case, since lots of forum systems use that kind of UI (where there's lots of structured information so it's reasonable to use a table, but it ought to be as easy as possible to click on a row to see the corresponding full post)

[13:34:00.0000] <Dashiva>
I'm not very enthusiastic about linking block elements. I can understand making a <tr> a link, for the same reason I want to make a <tr> be a form. But blocks is just asking for misclicks leading to leaving the page

[13:34:01.0000] <Dashiva>
And for inline content, <a></a> is only seven characters more. You'd still be using the attributes

[13:38:00.0000] <Philip`>
/me wonders what elements/attributes Googlebot follows

[13:57:00.0000] <gsnedders>
/me has decided how to be profound

[13:57:01.0000] <gsnedders>
Write poetry based on what people have searched for and found my site!

[13:57:02.0000] <gsnedders>
I mean, people search for such profound things.

[13:59:00.0000] <Lachy>
gsnedders, like what?

[14:00:00.0000] <gsnedders>
Lachy: I dunno. But it's profound.

[14:00:01.0000] <Lachy>
ok, whatever.

[14:01:00.0000] <gsnedders>
Lachy: "why must we love today and to be hurt tomorrow"

[14:02:00.0000] <gsnedders>
There a lot of things about sexuality, too

[14:02:01.0000] <Lachy>
wow. what exactly do you have on your site that would make it show up for searches like that?

[14:02:02.0000] <gsnedders>
Lachy: I don't know.

[14:03:00.0000] <gsnedders>
Lachy: There's quite a lot of extreme stuff from when I was suicidally depressed last year, though, mostly revolving around love

[14:04:00.0000] <gsnedders>
"oh therapy can you please fill the void"

[14:04:01.0000] <gsnedders>
oh, wait. that's actually a Green Day lyric that's quoted on my site.

[14:04:02.0000] <Lachy>
woah, I didn't know you were suicidal.

[14:05:00.0000] <gsnedders>
Lachy: I'm not anymore (mostly)

[14:05:01.0000] <Lachy>
good

[14:05:02.0000] <gsnedders>
Well, like as much as I have been for most of my life up until last May

[14:05:03.0000] <gsnedders>
"my teacher said yes when i asked her out" :\

[14:05:04.0000] <Lachy>
what happened last may?

[14:06:00.0000] <gsnedders>
Lachy: Stuff

[14:06:01.0000] <gsnedders>
:)

[14:06:02.0000] <gsnedders>
(Useless answer, I know)

[14:06:03.0000] <Lachy>
that's fair enough.

[14:06:04.0000] <gsnedders>
Only around three people as well as me know the full story. One is a psychologist.

[14:07:00.0000] <Philip`>
Did the psychologist say yes when you asked him out?

[14:07:01.0000] <gsnedders>
Philip`: Well, he's married and I haven't asked him.

[14:08:00.0000] <Philip`>
Oh, okay then

[14:08:01.0000] <gsnedders>
(Nor do I intend on doing so, might I add)

[14:08:02.0000] <gsnedders>
Lachy: http://gsnedders.com/about-the-author

[14:09:00.0000] <gsnedders>
Lachy: If you look through all my posts going back to March last year you might start to build up a picture

[14:09:01.0000] <gsnedders>
(disclaimer: a lot of it contains a lot of quite impolite language)

[14:11:00.0000] <gsnedders>
/me stares at some more search strings

[14:11:01.0000] <gsnedders>
"im horny"

[14:11:02.0000] <gsnedders>
How did _THAT_ find my site?

[14:12:00.0000] <gsnedders>
"how to be hetrosexual"

[14:12:01.0000] <gsnedders>
"how to menage a trois"

[14:13:00.0000] <Philip`>
This is why I disable Referer

[14:14:00.0000] <gsnedders>
'fucked "not literally"'

[14:15:00.0000] <Lachy>
gsnedders, as far as I can tell from that, you're going through the same bad experiences with girls as virtually any other teenager.

[14:15:01.0000] <gsnedders>
Lachy: That's why I need to properly explain it all

[14:16:00.0000] <gsnedders>
Well, maybe not it all, but more.

[14:16:01.0000] <Philip`>
Someone should make a widget thing you can embed in your site, that sends you an IM message every time someone visits your site from a search engine, and if the search terms are interesting then you can reply in real time and your response pops up on the viewer's screen

[14:16:02.0000] <gsnedders>
Stuff like setting the scene for when it all happened

[14:16:03.0000] <Lachy>
there was a girl I was in love with back in high school, who I didn't have the guts to ask out, and when the secret finally came out, I was breifly humiliated too.

[14:17:00.0000] <Lachy>
but, I got over it

[14:19:00.0000] <gsnedders>
It's ridiculous how many people know who I love now.

[14:19:01.0000] <gsnedders>
Oh, wow. That's rather profound. "mutability of time" poetry

[14:44:00.0000] <Hixie>
annevk: what Philip` said (re toDataURL())

[14:46:00.0000] <annevk>
ok, we'll go with that

[14:47:00.0000] <annevk>
clamp or throw?

[14:51:00.0000] <Philip`>
/me imagines people will write quality=85

[14:53:00.0000] <Hixie>
clamp

[15:04:00.0000] <Dashiva>
Lachy: You mean when you let the secret out. ;)

[15:06:00.0000] <Lachy>
Dashiva, of course. But back then, I blamed all the people I had told.

[15:06:01.0000] <gsnedders>
/me blogs <http://gsnedders.com/love-is-hate>

[15:07:00.0000] <gsnedders>
I always intend on keeping such things secret. I fail badly, though, especially because I suck a lying about such things

[15:07:01.0000] <Dashiva>
And because deep inside, you don't want it to be secret?

[15:08:00.0000] <Dashiva>
gsnedders: What's the subscripts on she and her about? 

[15:08:01.0000] <Dashiva>
To keep different people apart?

[15:08:02.0000] <gsnedders>
Dashiva: yeah

[15:08:03.0000] <gsnedders>
Dashiva: Without using names

[15:08:04.0000] <Dashiva>
You should call them Fooette and Barette

[15:09:00.0000] <gsnedders>
Dashiva: But that's only two. I need five, currently.

[15:09:01.0000] <gsnedders>
(The numbers start in May '06, FWIW)

[15:09:02.0000] <gsnedders>
(There is no him + subscript number, yet)

[15:10:00.0000] <Dashiva>
How am I + subscript are there? ;)

[15:10:01.0000] <Dashiva>
s/am/many

[15:11:00.0000] <gsnedders>
:P

[15:12:00.0000] <gsnedders>
Dashiva: That's obvious from who's speaking. Who someone in the third person is is unclear, though, without naming them.

[15:17:00.0000] <Hixie>
"tbl: concerned about the HTML WG and perhaps we are getting all lost in the weeds"

[15:17:01.0000] <Hixie>
first step to solving a problem is recognising you have one, i guess

[15:30:00.0000] <annevk>
tagsoup is the tag's biggest issue

[15:30:01.0000] <annevk>
i like it

[15:34:00.0000] <annevk>
http://cafe.elharo.com/category/web/refactoring-html/

[15:34:01.0000] <annevk>
via simonw

[15:34:02.0000] <othermaciej>
they should name that issue "selfsoup"

[15:34:03.0000] <annevk>
under "Why XHTML" it says "XHTML makes life harder for document authors in exchange for making life easier for document consumers."

[15:37:00.0000] <Philip`>
/me wonders if he can set Apache to do 30x redirects on certain subdirectories in a Subversion repository, to hide those files from users while still allowing them to successfully checkout the parent directory

[15:39:00.0000] <annevk>
http://www.w3.org/2001/tag/2008/05/20-minutes.html has some bits on RDF and XML

[15:43:00.0000] <othermaciej>
wow, consuming XHTML is a walk in the park

[15:44:00.0000] <othermaciej>
I'm glad to learn this new fact

[15:44:01.0000] <annevk>
besides that it is not really true, shifting the burden from author to implementor is the wrong move

[15:45:00.0000] <gsnedders>
Well, it's easier in an interpreted language where you have an XML parser built-in but not a HTML one :P

[15:45:01.0000] <othermaciej>
that's why mobile browsers all only accept XHTML and parse it with a strict XML parser, right?

[15:45:02.0000] <othermaciej>
because only processing strict XML is so much easier on a lightweight mobile device than arsing tag soup

[15:45:03.0000] <annevk>
pretty much

[15:45:04.0000] <othermaciej>
*parsing

[15:45:05.0000] <othermaciej>
(for those who need it: </sarcasm>)

[15:46:00.0000] <mpt>
gsnedders, the place to post those is <http://www.disturbingsearchrequests.com/>

[15:49:00.0000] <annevk>
also http://www.w3.org/2001/tag/2008/05/21-minutes.html on distributed extensibility

[15:59:00.0000] <Hixie>
what happened to that guy who was looking at the two-way networking thing

[16:00:00.0000] <othermaciej>
I don't know

[16:00:01.0000] <othermaciej>
he seemed to be on a good track

[16:01:00.0000] <annevk>
someone with a nick of closure asked about that earlier today

[16:03:00.0000] <annevk>
he was going gog work on http://code.google.com/soc/2008/esos/about.html

[16:03:01.0000] <annevk>
http://krijnhoetmer.nl/irc-logs/whatwg/20080605#l-298

[16:03:02.0000] <othermaciej>
that might be him (can't remember)

[16:04:00.0000] <annevk>
s/going/doing/

[16:05:00.0000] <annevk>
apparently the ES Operating System is implementing HTML5 as well

[16:05:01.0000] <annevk>
per http://code.google.com/p/es-operating-system/

[16:06:00.0000] <Hixie>
well i'm sure the extra 3 users we'll get from that will be great :-P

[16:06:01.0000] <annevk>
i guess it has some potential, otherwise google wouldn't sponsor it, right?

[16:06:02.0000] <othermaciej>
Hixie: zomg you're ignoring implementors!!!111

[16:06:03.0000] <gsnedders>
What on earth?

[16:07:00.0000] <gsnedders>
That seems crazy.

[16:07:01.0000] <Hixie>
othermaciej: hey if they send feedback i'll be all over it :-)

[16:07:02.0000] <Hixie>
annevk: it's a very interesting research project, for sure

[16:07:03.0000] <annevk>
maybe we should get gog money for html5lib next year

[16:08:00.0000] <Hixie>
i can certainly push for you to be accepted if you do a SoC submission

[16:08:01.0000] <annevk>
s/money/resources/

[16:08:02.0000] <Hixie>
i have no idea if the people who make these decisions put any weight on my opinion, though

[16:08:03.0000] <gsnedders>
/me ponders

[16:08:04.0000] <Hixie>
:-)

[16:08:05.0000] <gsnedders>
No, I'm not 18 by then

[16:08:06.0000] <gsnedders>
Which makes any thoughts entirely irrelevant

[16:08:07.0000] <Hixie>
gsnedders: can you partake in GHOP?

[16:09:00.0000] <annevk>
a new version of html5lib written in C/C++ with Python bindings :)

[16:09:01.0000] <gsnedders>
Hixie: If it weren't for the fact I've never even heard of GHOP :)

[16:10:00.0000] <gsnedders>
Hixie: Yeah, seemingly, if it runs again

[16:11:00.0000] <gsnedders>
Hixie: Now, if it weren't for the fact that the dollar sucks so badly atm :(

[16:12:00.0000] <Philip`>
annevk: Should a C version provide all the features that html5lib does, particularly in terms of the varieties of treebuilder?

[16:13:00.0000] <gsnedders>
Now, g'nite y'all

[16:14:00.0000] <Hixie>
Philip`: depends if it's a c version exposed to python or a c version exposed to c

[16:14:01.0000] <Hixie>
Philip`: presumably, it would expose whatever is conventional for that platform

[16:17:00.0000] <Hixie>
onbeforeprint and onafterprint

[16:17:01.0000] <Hixie>
opinions?

[16:17:02.0000] <Hixie>
othermaciej?

[16:17:03.0000] <annevk>
i haven't seen any requests for them

[16:17:04.0000] <roc>
i've had requests for them

[16:17:05.0000] <annevk>
well, a few actually

[16:18:00.0000] <Hixie>
there are definitely requests

[16:18:01.0000] <Hixie>
the question is whether @media is a better answer

[16:18:02.0000] <roc>
seems like anywhere a page has a "print" link, onbeforeprint would be useful ... and there are plenty of those

[16:18:03.0000] <roc>
I don't think we should expect CSS to provide a total solution always

[16:18:04.0000] <Hixie>
so i should add them

[16:18:05.0000] <Hixie>
okie dokie

[16:19:00.0000] <Hixie>
the next question is how should they work

[16:19:01.0000] <roc>
/me ducks out

[16:19:02.0000] <othermaciej>
Hixie: yes?

[16:19:03.0000] <Hixie>
if we expect interop with IE, it seems that they require UAs to synchronously snapshot the DOM and styles

[16:19:04.0000] <Hixie>
othermaciej: see two lines above where i said your name, to here

[16:19:05.0000] <othermaciej>
oh the print events?

[16:19:06.0000] <othermaciej>
I have no idea what they do

[16:20:00.0000] <annevk>
yeah, and Access control review while you're at it :)

[16:20:01.0000] <roc>
why do these events require DOM snapshotting?

[16:20:02.0000] <Hixie>
it appears they fire just before and just after the DOM is snapshotted

[16:20:03.0000] <Hixie>
roc: window.print() fires the events but isn't synchronous (i.e. it returns straight away and the printing UI is async)

[16:20:04.0000] <Hixie>
in IE, at least

[16:21:00.0000] <roc>
in Gecko window.print() is synchronous

[16:21:01.0000] <roc>
so I don't see that onbeforeprint is introducing a new requirement

[16:21:02.0000] <Hixie>
hm, fair enough

[16:22:00.0000] <roc>
except for the requirement that we not crash when onbeforeprint does something insane, but that's normal

[16:27:00.0000] <annevk>
in Opera print() doesn't work unless invoked through some user generated thingie

[16:28:00.0000] <roc>
so? That's why onbeforeprint is useful

[16:29:00.0000] <annevk>
I mean that you need onclick=print() to make it work

[16:30:00.0000] <annevk>
user initiated event is probably a better word (not sure if event types are restricted)

[16:31:00.0000] <annevk>
both events are probably useful in case the user uses UI to activate the print dialog

[16:33:00.0000] <Hixie>
trusted interaction event i think is the most accurate term

[16:33:01.0000] <Hixie>
since you don't want an author-dispatched click event to do it either

[16:49:00.0000] <Dashiva>
What. How is debugging JS and CSS easier in XHTML? It's the exact opposite if you want to do the proper XML way...

[16:50:00.0000] <jgraham_>
Would anyone like to try a test package of html5lib-0.11? http://james.html5.org/temp/html5lib-0.11.zip I think it might be broken in some obscure way but it might just by some sort of icky setuptools residue on my system

[16:53:00.0000] <Philip`>
jgraham_: It unzips and installs and runs the README example alright for me

[16:53:01.0000] <jgraham_>
Can you run the tests?

[16:53:02.0000] <smedero>
same here. os x 10.5.3... running some of the tests now

[16:54:00.0000] <Philip`>
jgraham_: "python setup.py test" gives 2 errors

[16:54:01.0000] <jgraham_>
Ah, it is broken then. OK, I'll have to sort that out tomorrow

[16:54:02.0000] <Philip`>
ERROR: runTest (test_treewalkers.TestCase) ---- TypeError: runTest() takes exactly 6 arguments (1 given)

[16:54:03.0000] <smedero>
same.

[16:54:04.0000] <Philip`>
ERROR: test_chardet (test_encoding.Html5EncodingTestCase) ---- IOError: [Errno 2] No such file or directory: './testdata/encoding/chardet/test_big5.txt'

[16:54:05.0000] <smedero>
(i only get that one error actually)

[16:55:00.0000] <jgraham_>
Thanks for checking (I got the same errors)

[16:56:00.0000] <jgraham_>
(but I'm not sure why, especially the runTest() takes exactly 6 arguments one)


2008-06-06
[17:02:00.0000] <jgraham_>
Hmm, it looks like the test data isn't being packaged up properly

[17:15:00.0000] <MikeSmith>
jgraham_: I can test html5lib if you still need testing

[17:15:01.0000] <jgraham_>
MikeSmith: I think I've just found the problem I know about

[17:15:02.0000] <MikeSmith>
OK

[17:16:00.0000] <jgraham_>
I'll upload a new build in a minute then go to bed :)

[17:16:01.0000] <Philip`>
I can probably test on Python 2.3 if you care :-)

[17:20:00.0000] <jgraham_>
MikeSmith: btw, Bugzilla sounds like a good idea. It would be cool if we could get the UI to encourage people to write RFE-type proposals in the use-case/solutions style that Hixie has tried to encourage

[17:20:01.0000] <Hixie>
good luck

[17:20:02.0000] <Hixie>
it would be nice to have a single place i can go to where i can just go down the list of all feedback the spec has received and just deal with them one by one

[17:20:03.0000] <Philip`>
Sounds like an attempt at a technical solution to a social problem :-)

[17:21:00.0000] <Hixie>
public-html isn't working for this purpose, sadly (unlike whatwg, which has worked quite well)

[17:24:00.0000] <jgraham_>
Philip`: ? I think UI that encourages useful behaviour is not really a technical solution to a social problem. Maybe bugzilla coud be accused of being a technical solution to a social problem

[17:25:00.0000] <othermaciej_>
some social problems are well-solved by technical solutions

[17:25:01.0000] <Hixie>
Philip`: the page splitting seems to cut at poor points (e.g. look at where http://www.whatwg.org/specs/web-apps/current-work/multipage/embedded.html#focus starts)

[17:25:02.0000] <Hixie>
voting is a technical problem to a social one

[17:25:03.0000] <Hixie>
so is money

[17:26:00.0000] <Dashiva>
And filtering email :)

[17:26:01.0000] <othermaciej>
voting is solving a social problem with a social problem

[17:26:02.0000] <Hixie>
my definition of "technical" may be a bit broad :-)

[17:27:00.0000] <Dashiva>
You have a social problem, and you think to yourself "I know, I'll use democracy." Then you have two problems.

[17:28:00.0000] <othermaciej>
money is a solution to the price calculation problem

[17:28:01.0000] <othermaciej>
so I'll buy that

[17:28:02.0000] <othermaciej>
(well, money + relatively free exchange)

[17:29:00.0000] <Philip`>
Hixie: Oops, that was probably meant to cut at #embedded0 instead of #embedded

[17:29:01.0000] <othermaciej>
Dashiva: yes, exactly

[17:31:00.0000] <Hixie>
Philip`: your script breaks the back button :-(

[17:32:00.0000] <Philip`>
jgraham_: I think my point was that the problem is people not providing detailed real use cases and balancedly presenting various possible solutions, and that seems far too complex and subtle a problem to solve by providing some labelled textareas

[17:33:00.0000] <Philip`>
Hixie: Is that only in the cases where you follow a broken link, and therefore it's better than just dumping you on the wrong page?

[17:33:01.0000] <Hixie>
any comments on the new text in this section?: http://www.whatwg.org/specs/web-apps/current-work/#print

[17:33:02.0000] <Philip`>
Also, is there any way to fix it, or are back buttons just fundamentally broken?

[17:34:00.0000] <Hixie>
Philip`: well i'm now using it to create multipage links (i find the right section in the big page, then stick "multipage/" in the uri and copy the result when giving links to people)

[17:34:01.0000] <Hixie>
Philip`: and then i can't get back to the big page easily :-)

[17:34:02.0000] <Hixie>
no idea how to fix it

[17:34:03.0000] <Hixie>
location.replace() maybe?

[17:34:04.0000] <Philip`>
Hixie: You need a slower web browser, so you can hit the back button twice

[17:35:00.0000] <jgraham_>
Philip`: Well obviously we can't force people to get things right but good UI can certainly make it more likely. Compare a blank textarea to a solution (better than the one that I was proposing) where you have a whole page with textareas labelled with things like "Use case: this should be a statement of a problem that you are trying to solve, without reference to the particular means of solving it (example)"

[17:36:00.0000] <Hixie>
Philip`: my slower browsers can't handle the big html5 page :-/

[17:36:01.0000] <Hixie>
Philip`: .replace() should do it, iirc

[17:37:00.0000] <Hixie>
i wish i knew why the annotation script didn't work in safari (editing seems to fail silently)

[17:37:01.0000] <Dashiva>
I wish I knew how to get an error console in safari

[17:40:00.0000] <Hixie>
the develop menu is supposedly able to do it

[17:40:01.0000] <MikeSmith>
yeah

[17:41:00.0000] <Hixie>
but the inspector thing can't handle the html5 spec

[17:41:01.0000] <Hixie>
so it doesn't help me much

[17:41:02.0000] <MikeSmith>
Develop -> Show error console

[17:41:03.0000] <MikeSmith>
Hixie: html5 spec in WI seems to work for me in Webkit nightly at least

[17:41:04.0000] <MikeSmith>
or did the last time I tried it

[17:42:00.0000] <Hixie>
for js debugging?

[17:42:01.0000] <MikeSmith>
ah

[17:42:02.0000] <MikeSmith>
no, have not tried that with html5 doc

[17:42:03.0000] <MikeSmith>
you mean for the js for the annotations?

[17:43:00.0000] <Hixie>
yeah

[17:43:01.0000] <jgraham_>
/me destroys his python installation by mistake

[17:43:02.0000] <Hixie>
editing annotations just seems to fail

[17:43:03.0000] <jgraham_>
this could be evidence that I should be asleep

[17:44:00.0000] <MikeSmith>
jgraham_: the sleep thing does help some

[17:44:01.0000] <jgraham_>
html5lib-0.11 will have to wait for the morning. Goodnight :)

[17:44:02.0000] <Hixie>
nn

[17:44:03.0000] <MikeSmith>
'night

[17:45:00.0000] <Dashiva>
Where's this develop bar thing? I can't seem to find it in the menus or the preferences.

[17:46:00.0000] <Dashiva>
Safari on mac only thing?

[17:48:00.0000] <MikeSmith>
maybe only mac-only, I dunno

[17:48:01.0000] <hdh>
there's a preference to display the Dev menu

[17:48:02.0000] <MikeSmith>
I have never tried Safari for windows

[17:48:03.0000] <hasather>
Dashiva: http://developer.apple.com/internet/safari/faq.html#anchor14

[17:50:00.0000] <Dashiva>
Nice. It tells me to add it to a file that doesn't exist. :)

[17:50:01.0000] <MikeSmith>
there's op

[17:50:02.0000] <MikeSmith>
an option in the UI also

[17:50:03.0000] <MikeSmith>
now

[17:51:00.0000] <MikeSmith>
or is in my Safari 3.1 on Mac at least

[17:51:01.0000] <Dashiva>
I got it now, I think

[17:51:02.0000] <MikeSmith>
Preferences/Advanced/Show Develop menu in menu bar

[17:52:00.0000] <Dashiva>
It was at the very bottom of the advanced preferences

[17:53:00.0000] <Dashiva>
It would've been a bit worrying if manual config file editing actually was required :)

[17:53:01.0000] <MikeSmith>
Dashiva: it used to be

[17:54:00.0000] <MikeSmith>
/me wishes Safari had a about:config or safari:config thing

[18:07:00.0000] <Philip`>
/me updates the multipage thing, but then realises it's probably a bad idea that http://www.whatwg.org/specs/web-apps/current-work/multipage/embedded.html is now 404

[18:07:01.0000] <Hixie>
why?

[18:08:00.0000] <Hixie>
crap, forgot to change the subject line of my last message

[18:08:01.0000] <Philip`>
Because I copied your link (minus the fragment bit) and then it didn't work (and didn't redirect me)

[18:09:00.0000] <Philip`>
Does /(?:...)/ work in all JS implementations?

[18:09:01.0000] <Hixie>
it should work :-)

[18:11:00.0000] <MikeSmith>
Hixie: so I see that YouTube is adding a way for users to put text annotations in their videos

[18:15:00.0000] <Philip`>
Hixie: Should be split more sensibly now - http://www.whatwg.org/specs/web-apps/current-work/multipage/embedded.html is no longer the top of a page

[18:15:01.0000] <Philip`>
Also it uses window.location.replace(), which avoids the problems with Safari's broken back button

[18:18:00.0000] <Philip`>
(The section splitting is partly manually defined now (because that's the only reasonable way I can find to make sure the page gets split sensibly into 100-200KB chunks), so someone should poke me if it seems to be doing something silly and splitting in the wrong places)

[18:20:00.0000] <Hixie>
the 404 fixing didn't work on that link

[18:20:01.0000] <Hixie>
but cool

[18:20:02.0000] <Hixie>
oh, it worked on reload

[18:20:03.0000] <Hixie>
weird

[18:20:04.0000] <Philip`>
Probably caching the script?

[18:20:05.0000] <Hixie>
caching issue yeah

[18:20:06.0000] <Philip`>
Opera seems particularly bad at that

[18:22:00.0000] <Hixie>
ok i need a break

[18:22:01.0000] <Hixie>
bbl

[18:30:00.0000] <MikeSmith>
dear lazyweb

[18:31:00.0000] <MikeSmith>
or rather Dear LazyWags

[18:31:01.0000] <MikeSmith>
Question -

[18:32:00.0000] <MikeSmith>
If if want to truncate some text down to some reasonable but arbitrary length that's appropriate for putting in an e-mail Subject header

[18:32:01.0000] <MikeSmith>
...what should length be?

[18:33:00.0000] <Philip`>
My mail client shows about 50 characters of subject

[18:33:01.0000] <Dashiva>
After a few levels of replies, the nesting hides the subject anyway :)

[18:33:02.0000] <MikeSmith>
do any RFCs or anything authoritative elsewhere advise about Subject headers over a certain length

[18:34:00.0000] <Philip`>
Gmail shows about 90

[18:34:01.0000] <MikeSmith>
Dashiva: this would be for automated public-html-diffs mail that nobody will be responding to anyway

[18:34:02.0000] <MikeSmith>
Philip`: thanks

[18:34:03.0000] <Philip`>
Both truncate longer messages, so it's reasonable to expect clients to truncate appropriately

[18:35:00.0000] <Philip`>
so it's probably reasonable to send significantly more and trust the client

[18:35:01.0000] <MikeSmith>
I think the RFCs say that content of headers must/should be wrapped if it longer than a certain number of chars

[18:35:02.0000] <Philip`>
where "significantly more" might be 128 to the nearest binary order of magnitude

[18:35:03.0000] <MikeSmith>
but I can't remember that the number is

[18:37:00.0000] <MikeSmith>
for this case, I don't need all that must of it preserved

[18:37:01.0000] <MikeSmith>
maybe I should just pick a number

[18:37:02.0000] <Philip`>
MikeSmith: Do you mean http://www.faqs.org/rfcs/rfc2822.html talking about 78-character lines?

[18:37:03.0000] <MikeSmith>
Philip`: aha

[18:37:04.0000] <MikeSmith>
yeah, prolly

[18:37:05.0000] <Philip`>
MikeSmith: I imagine it's hard to do this without picking a number :-)

[18:38:00.0000] <MikeSmith>
:) 

[18:38:01.0000] <MikeSmith>
I meant pick a number without worrying about the header-wrapping thing or what clients do with longer subjects and trying to max out to what they can handle or whatever

[18:39:00.0000] <MikeSmith>
/me used to did some work on e-mail delivery systems when he was at Openwave but his RFC-memory sucks

[18:39:01.0000] <Philip`>
I suppose you could have some heuristic that assigns a Gaussian-ish weight distribution centered on some particular region and sum that with some spikes at nice cut points like the ends of sentences, and pick whatever point has the highest weight

[18:40:00.0000] <Philip`>
but then you'd still have to pick a center for that distribution, so it doesn't solve the indecisiveness problem

[18:40:01.0000] <MikeSmith>
heh

[18:42:00.0000] <MikeSmith>
well, I'll go with 78, because I have seen some mail systems and clients that muff up the unwrapping and end up inserting some non-visible or other funked-up character in long unwrapped subjects

[18:43:00.0000] <Dashiva>
Then you should make sure it's 78 bytes and not characters, in case the diff starts using fancy code points

[18:44:00.0000] <MikeSmith>
Dashiva: only way it would in this case is if Hixie starts putting such into his svn commit descriptions

[18:49:00.0000] <Hixie>
MikeSmith: i recommend 80 - length('Subject ')

[18:50:00.0000] <Hixie>
/me will not use non-ascii

[18:51:00.0000] <Hixie>
ok, xml:base vs <base>

[18:53:00.0000] <MikeSmith>
Hixie: thanks

[00:38:00.0000] <met_>
http://www.wait-till-i.com/2008/06/05/north280-bring-keynote-to-the-web/

[00:39:00.0000] <met_>
He told thay made abstract language for canvas, svg and flash

[01:35:00.0000] <Lachy>
MikeSmith, yt?

[01:48:00.0000] <annevk>
wow, that's impressive ( http://280slides.com/Editor/ )

[02:31:00.0000] <annevk>
Hixie, shouldn't the events be called beforeprint and afterprint?

[02:32:00.0000] <annevk>
Hixie, IE prefixes all their event names with "on" and we're not calling the focus event onfocus either...

[02:32:01.0000] <Philip`>
/me sees http://hackademix.net/2008/06/05/site-security-policy-aka-content-restrictions/

[02:32:02.0000] <annevk>
Hixie, of course, the Window object should probably define two event handler DOM attributes called onbeforeprint and onafterprint

[02:35:00.0000] <Philip`>
/me also sees http://www.techcrunch.com/2008/06/05/the-next-gen-web-html5-will-we-ever-see-a-real-standard/

[02:36:00.0000] <annevk>
wow, comparing HTML5 with HTML 3.0 misses the point entirely

[02:36:01.0000] <hsivonen>
uh oh. we're now on the TechCrunch radar

[02:36:02.0000] <MikeSmith>
Lachy: here now

[02:37:00.0000] <MikeSmith>
Lachy: btw, in hindsight, I think you should have dropped some Crockford into your @media presentatin

[02:38:00.0000] <hsivonen>
are we going into the deadpool yet?

[02:38:01.0000] <MikeSmith>
in one of his presentations, Thomas Roessler has this great clip of Crockford

[02:38:02.0000] <MikeSmith>
where Crockford says that from what he's seen 99% (or something) of the JS he's seen on the Web is crap

[02:42:00.0000] <Lachy>
MikeSmith, did Marcos ask you to add standardssuck.org to PlanetHTML5?

[02:42:01.0000] <MikeSmith>
Lachy: yeah

[02:42:02.0000] <Lachy>
ok

[02:43:00.0000] <Philip`>
"XHTML1.1/HTML4.01 do *not* need updating, they need support. The W3C should be working with and promoting their existing good specs (listed) and not inventing new specs (XForms, widgets) or creating new versions of perfectly good standards (HTML5)."

[02:43:01.0000] <MikeSmith>
but I forgot about it in the space of the one hour since he asked me

[02:43:02.0000] <MikeSmith>
I will do now

[02:43:03.0000] <MikeSmith>
Philip`: who say that?

[02:45:00.0000] <Philip`>
MikeSmith: Some TechCrunch commenter

[02:46:00.0000] <MikeSmith>
Whoever said it, I wonder if he knows about the requirement that uttering the phrase "HTML4.01 do *not* need updating" (or similar) requires him to take an extra big hit on his crack pipe when he says it.

[02:48:00.0000] <Lachy>
luckily for him, we're not updating HTML 4.01. We're just creating a new standard to replace it.

[02:50:00.0000] <annevk>
Lachy, I made some small changes to your post on standardssuck.org

[02:50:01.0000] <hsivonen>
:-( at comment #17 at techcrunch

[02:50:02.0000] <Philip`>
Peter Kasting says: "I’m beginning to wonder how much research was actually done for this article." - me too :-)

[02:51:00.0000] <Lachy>
annevk, ok

[02:54:00.0000] <MikeSmith>
standardscuk.org added to planet html5

[02:54:01.0000] <MikeSmith>
but only marcos post getting through the filter

[02:55:00.0000] <Lachy>
wow, "...and an under representation of independent web developers and users". Ironically, there are more web developers involved with the development of HTML5, than any previous version.

[02:55:01.0000] <MikeSmith>
because only marcos exercised the secret special magic

[02:55:02.0000] <Lachy>
what's the special magic? an "HTML" tag?

[02:56:00.0000] <Lachy>
*html5 tag

[02:56:01.0000] <hsivonen>
Peter Kasting++

[03:00:00.0000] <MikeSmith>
heh

[03:01:00.0000] <MikeSmith>
most useful comment on that blog entry is, by far, "Is it just me, or does the Silverlight logo look like a pair of panties?"

[03:01:01.0000] <MikeSmith>
Lachy: damn, who told you the secret?

[03:01:02.0000] <MikeSmith>
I think I'm gonna have to change it now

[03:14:00.0000] <MikeSmith>
btw, you guys are breaking some new ground in geek waggish-ness with that standardssuck stuff

[03:14:01.0000] <MikeSmith>
a friend of mine told me to tell you that he hopes you keep it up

[03:14:02.0000] <Lachy>
MikeSmith, what do you mean?

[03:15:00.0000] <Lachy>
cool

[03:15:01.0000] <MikeSmith>
and that you should insert more irreverance 

[03:16:00.0000] <Lachy>
MikeSmith, we'll save that for when we talk about specs we don't like

[03:16:01.0000] <MikeSmith>
Lachy: I mean that some of this material is ripe to for picking as far as poking fun some of it goes

[03:16:02.0000] <MikeSmith>
I mean, that's what my friend means

[03:16:03.0000] <Lachy>
like RDF, GRDDL, XHTML2, Semantic Web nonsense

[03:16:04.0000] <MikeSmith>
the one who asked me to pass it on

[03:16:05.0000] <MikeSmith>
Lachy: I'm not naming any name here

[03:17:00.0000] <MikeSmith>
take your pick

[03:18:00.0000] <MikeSmith>
I think I also remember my friend suggested sprinkling the phrases like "architectural astronautics" and "a plan to build a rocket ship to the moon" in reference to particular specs or groups

[03:18:01.0000] <MikeSmith>
I personally would not condone that, though

[03:19:00.0000] <hsivonen>
hmm. will the next standards sucks episode be hosted by Steve Faulkner?

[03:20:00.0000] <MikeSmith>
my friend also mentioned something about he wondered if he could find a way to contribute to the standardssuck effort anonymously in some way

[03:22:00.0000] <MikeSmith>
Lachy: do you have favorite comedy film or TV comedy or animation?

[03:22:01.0000] <hsivonen>
MikeSmith: perhaps your friend could appear as a black silhouette with a heavily DSP-distorted voice

[03:22:02.0000] <MikeSmith>
heh

[03:22:03.0000] <Lachy>
MikeSmith, why?

[03:22:04.0000] <MikeSmith>
OK, I'll pass that on to him

[03:22:05.0000] <annevk>
hsivonen, heh :)

[03:23:00.0000] <MikeSmith>
Lachy: just wondering

[03:23:01.0000] <annevk>
hsivonen, how it currently went is not at all intentional

[03:23:02.0000] <MikeSmith>
I mean what your perspective on comedy is

[03:23:03.0000] <Lachy>
MikeSmith, I like lots of different shows. At the moment, I'm watching Friends cause I bought the DVDs in London

[03:24:00.0000] <MikeSmith>
one of my colleagues on the team really like Ren & Stimpy but I never found it very funny myself

[03:24:01.0000] <annevk>
Eric Cartman <<

[03:24:02.0000] <MikeSmith>
cartman++

[03:24:03.0000] <Lachy>
Simpsons is still one of the best cartoons ever

[03:24:04.0000] <MikeSmith>
Homer Simpson should be on the US 1 dollar bill

[03:25:00.0000] <MikeSmith>
he is the perfect representation of America and its values and collective intelligence

[03:25:01.0000] <Lachy>
of course, he deserves it more than Washington does!

[03:25:02.0000] <Lachy>
(it is George Washington on the $1 note now, right?)

[03:26:00.0000] <MikeSmith>
yeah

[03:30:00.0000] <MikeSmith>
btw, the ss.org "Unbiased journalism on Web standards since May 2008" masthead slogan in particular is solid gold

[03:30:01.0000] <MikeSmith>
my friend said

[03:30:02.0000] <annevk>
thanks

[03:32:00.0000] <Philip`>
"Unbiased journalism on Web standards since <del>May</del><ins>June</ins> 2008"

[03:32:01.0000] <Lachy>
MikeSmith, who is this anonymous friend of yours?

[03:33:00.0000] <MikeSmith>
Lachy: he's a mouse in my pocket

[03:33:01.0000] <MikeSmith>
so to speak

[03:33:02.0000] <Lachy>
oh, Stuart Little? Cool!

[03:34:00.0000] <annevk>
Philip`?

[03:37:00.0000] <hsivonen>
/me wonders what the business model of Cooliris, Inc. is (the makers of PicLens)

[03:42:00.0000] <Philip`>
annevk: I think I was thinking of something along the lines of http://www.penny-arcade.com/comic/2008/03/19/

[03:42:01.0000] <hsivonen>
/me reads the comments at http://weblogs.mozillazine.org/roc/archives/2008/06/applying_svg_ef.html

[03:43:00.0000] <MikeSmith>
Philip`: that is classic

[03:43:01.0000] <MikeSmith>
it reminds me of course they have in the United State Marine Corps

[03:44:00.0000] <MikeSmith>
it's called "Your Ass from a Hole in the Ground: A Comparative Study"

[03:51:00.0000] <roc>
enjoy

[03:51:01.0000] <annevk>
roc, quite cool stuff btw

[03:52:00.0000] <roc>
let me know if you can figure Chris Lilley out

[03:52:01.0000] <roc>
also, please cast votes for where you think this should be specced out

[03:53:00.0000] <Philip`>
/me thinks the people on standardssuck.org need to work out what to look at when they're not talking

[03:55:00.0000] <annevk>
roc, maybe chris is saying that if you define the coordinate system for HTML (or anything other than SVG) you don't need new specs

[03:55:01.0000] <annevk>
(not sure about his other comments about things that you're doing wrong though...)

[03:55:02.0000] <roc>
defining the coordinate system for HTML *is* a new spec

[03:56:00.0000] <roc>
You also need to amend the parts of the SVG spec that say what 'filter', 'clip-path' and 'mask' apply to

[03:56:01.0000] <annevk>
true

[03:56:02.0000] <annevk>
the CSSWG is the best place, but probably only in theory

[03:57:00.0000] <roc>
ok

[03:58:00.0000] <hsivonen>
CSSWG and WHATWG seem like potential candidates

[03:58:01.0000] <roc>
however, it's the SVG specs that need to be amended

[03:58:02.0000] <hsivonen>
coordinates for HTML rendering seem more like a CSS thing

[03:58:03.0000] <roc>
it's SVG behaviour that needs to be "reinterpreted"

[03:59:00.0000] <roc>
what a pain

[03:59:01.0000] <roc>
it would be simpler if Ian was the chair of all the working groups

[04:00:00.0000] <annevk>
haha

[04:00:01.0000] <annevk>
if the WHATWG had a patent policy...

[04:01:00.0000] <annevk>
btw, I think I agree with dhyatt in that the simple stuff should probably be doable using a select set of CSS properties without requiring SVG fragments

[04:02:00.0000] <roc>
I agree

[04:03:00.0000] <roc>
although we may not agree on what the "simple stuff" is

[04:04:00.0000] <roc>
the other thing I'm thinking about is how to handle this as a vendor extension

[04:04:01.0000] <roc>
it feels stupid to introduce -moz versions of the properties that are exactly the same as the standard properties except they apply to more stuff

[04:05:00.0000] <annevk>
there's precedent for simply putting your foot down in such cases

[04:05:01.0000] <annevk>
WebKit implements the multiple background stuff simply in 'background'

[04:05:02.0000] <Lachy>
annevk, http://www.paciellogroup.com/blog/?p=73

[04:06:00.0000] <annevk>
(though i'd be nice if there was some document written up first)

[04:06:01.0000] <roc>
yeah

[04:06:02.0000] <roc>
I'll write it

[04:07:00.0000] <annevk>
Lachy, heh, nice, a transcript

[04:08:00.0000] <annevk>
Philip`, suggestions? it's troublesome :)

[04:08:01.0000] <annevk>
roc, cool

[04:09:00.0000] <annevk>
roc, btw, how do you handle script execution and such in the referenced documents?

[04:09:01.0000] <roc>
we don't handle external references yet

[04:10:00.0000] <annevk>
ah ok, I suppose that makes it easier

[04:10:01.0000] <roc>
and a lot less useful

[04:10:02.0000] <annevk>
yeah

[04:10:03.0000] <roc>
I hope we can add external references fairly soon

[04:10:04.0000] <roc>
I think at least initially we won't run script in referenced documents

[04:11:00.0000] <roc>
but I would like to provide a DOM API that provides access to the DOM of referenced documents

[04:12:00.0000] <annevk>
our "SVG as image" implementation doesn't do scripts either, but that's probably slightly different

[04:12:01.0000] <roc>
it's related

[04:12:02.0000] <Philip`>
/me assumes it would be restricted to same-origin referenced documents

[04:12:03.0000] <annevk>
roc, at that point you get same-origin mess

[04:12:04.0000] <annevk>
hah

[04:12:05.0000] <roc>
sure

[04:12:06.0000] <roc>
doesn't Opera support general external references?

[04:12:07.0000] <roc>
I thought it did

[04:12:08.0000] <hsivonen>
IIRC, yes

[04:12:09.0000] <annevk>
true

[04:13:00.0000] <annevk>
i suppose those are different anyway

[04:13:01.0000] <roc>
the whole area is under-specified ... maybe you should write up what Opera does before we reverse-engineer it

[04:14:00.0000] <annevk>
e-mail ed⊙oc for that

[04:14:01.0000] <annevk>
he's lead of the SVG team and also does standards

[04:16:00.0000] <roc>
ok

[04:16:01.0000] <roc>
the whole SVG WG has not been all that responsive to my questions

[04:17:00.0000] <annevk>
:(

[04:18:00.0000] <annevk>
they don't really have editor driven specs

[04:18:01.0000] <annevk>
so everything goes through the WG telcon it seems

[04:18:02.0000] <Dashiva>
/me waits for a <Hixie> I told you so

[04:18:03.0000] <roc>
yeah

[04:19:00.0000] <annevk>
the CSS WG does have editor driven specs, but the process to agree upon doing a spec is lengthy

[04:19:01.0000] <hsivonen>
http://www.itscj.ipsj.or.jp/sc34/open/1037c.htm

[04:19:02.0000] <hsivonen>
what format is that?

[04:21:00.0000] <hsivonen>
/me wonders if MS Office has anything to do with EOT

[04:22:00.0000] <annevk>
the Open Font Format

[04:23:00.0000] <annevk>
"ISO/IEC 9541 is a standard of font information interchange and designed to be independent with concrete font

[04:23:01.0000] <annevk>
file format. The Open Font Format (ISO/IEC 14496-22) is a font file format specification that is based on

[04:23:02.0000] <annevk>
TrueType font file format. About the handling and utilization of the typographic properties stored in OFF font

[04:23:03.0000] <annevk>
file, ISO/IEC 14496-22 describes the implementations on Microsoft Windows or IBM OS/2 only. Therefore,

[04:23:04.0000] <annevk>
ISO/IEC 14496-22 does not define the method how to define a font resource in ISO/IEC 9541 architectures

[04:23:05.0000] <annevk>
from given OFF font file, because it is out of the scope. ISO/IEC 9541-4 is a standard to fill the gap between

[04:23:06.0000] <annevk>
OFF font file and font resource in ISO/IEC 9541."

[04:23:07.0000] <annevk>
-- http://www.itscj.ipsj.or.jp/sc34/open/1037.pdf

[04:23:08.0000] <hsivonen>
what's the point compared to .otf?

[04:24:00.0000] <annevk>
(it's funny that the link to the pdf file has the correct data but the incorrect metadata)

[05:05:00.0000] <annevk>
oh, seems Hixie already fixed the event names, duh

[05:14:00.0000] <Hixie>
just did it now while reading scrollback

[05:15:00.0000] <Hixie>
roc_: while i am flattered by your proposal, i don't think i have the time :-P

[05:17:00.0000] <roc_>
well, it's like that old joke

[05:17:01.0000] <roc_>
first prize: chair of the WG

[05:17:02.0000] <roc_>
second prize: chair of two WGs

[05:19:00.0000] <hsivonen>
Hixie: did you really mean to say 'id' (as opposed to 'name') under 'valid hashed reference'?

[05:19:01.0000] <Hixie>
roc: indeed

[05:19:02.0000] <Hixie>
hsivonen: i don't think i changed anything there, other than the term's name; should i have?

[05:20:00.0000] <hsivonen>
Hixie: isn't it supposed to point primarily to the name attribute now?

[05:20:01.0000] <hsivonen>
Hixie: since name is now the required attribute on map

[05:21:00.0000] <Hixie>
/me goes to actually read the part of hte spec hsivonen is talking about

[05:21:01.0000] <Hixie>
hm, yeah, that should be changed

[05:21:02.0000] <Hixie>
/me goes to fix

[05:21:03.0000] <hsivonen>
Hixie: thanks

[05:22:00.0000] <Hixie>
i'll change the term to "hash-name reference" while i'm at it

[05:23:00.0000] <Hixie>
lest i accidentally use it to refer to something expecting an id reference

[06:56:00.0000] <hsivonen>
/me reads http://www.w3.org/2001/tag/2008/05/19-minutes.html

[06:59:00.0000] <hsivonen>
"Henri says they don't think that namespaces are important"

[07:00:00.0000] <hsivonen>
I don't recall saying exactly that. I think I've said that in retrospect, Namespaces wouldn't have been necessary.

[07:03:00.0000] <annevk>
i suppose you can e-mail www-tag to clarify, but it prolly doesn't matter much

[07:03:01.0000] <MikeSmith>
yeah

[07:03:02.0000] <MikeSmith>
that battle been won

[07:06:00.0000] <hsivonen>
I'll clarify my opinion if it comes up in the context of MathML and SVG (which is what I thought the context was initially until I realized how old the minutes were)

[07:06:01.0000] <hsivonen>
also, "I asked Henri and Anne if a new version of XmL that was as HTML friendly as possible would be acceptable to HTML WG, and they demurred."

[07:06:02.0000] <hsivonen>
demurred: showed a contradiction in legacy HTML and legacy XML requirements

[07:07:00.0000] <annevk>
yeah :/

[07:26:00.0000] <heycam>
is 'this == evt.currentTarget' always true when an EventListener is invoked?

[07:27:00.0000] <zcorpan_>
Hixie: what about print preview and onbeforeprint?

[07:28:00.0000] <hsivonen>
zcorpan_: </noscript> fixed. thanks

[07:29:00.0000] <annevk>
heycam, should be

[07:31:00.0000] <annevk>
hmm, anyone with tips on how to implement dataset in JavaScript?

[07:34:00.0000] <annevk>
getters and setters don't seem to cover the case where someone gets an arbitrary property on an object or sets one

[07:35:00.0000] <heycam>
writing a whole custom [[Get]] and [[Put]] sounds like the way to go

[07:51:00.0000] <annevk>
how do you go about that?

[08:04:00.0000] <Philip`>
hsivonen: http://validator.nu/?doc=http%3A%2F%2Fwww.atkinsfamily.ukonline.co.uk%2Fmayweek_2008.html&parser=xmldtd&laxtype=yes&showsource=yes says "Error: Attribute shape not allowed on XHTML element a at this point." when actually there's no shape attribute

[08:05:00.0000] <hsivonen>
Philip`: wow. That's weird. thanks

[08:05:01.0000] <hsivonen>
Philip`: hey! you are loading external entities

[08:05:02.0000] <hsivonen>
Philip`: so sure, there's an attribute shape

[08:06:00.0000] <Philip`>
hsivonen: Uh

[08:06:01.0000] <hsivonen>
DTDs <3

[08:06:02.0000] <Philip`>
Do you mean there is a shape attribute on that a element?

[08:06:03.0000] <hsivonen>
Philip`: yeah, defaulted from the DTD

[08:07:00.0000] <Philip`>
Oh - that seems extremely stupid

[08:07:01.0000] <hsivonen>
there's a reason why that mode isn't the default :-)

[08:08:00.0000] <Philip`>
It works fine if I select the "XHTML 1.0 Strict, SVG 1.1, MathML 2.0 + IRI" preset

[08:08:01.0000] <Philip`>
just not with XHTML5 + ...

[08:09:00.0000] <hsivonen>
that's because shape is allowed in XHTML 1.0 but not in XHTML5

[08:09:01.0000] <Philip`>
Oh, right

[08:09:02.0000] <Philip`>
I think that almost makes sense

[08:11:00.0000] <Philip`>
But it is kind of confusing :-)

[08:11:01.0000] <hsivonen>
well, that's XML

[08:12:00.0000] <Philip`>
It's an attempt at validating a reasonably typical web page, and getting something crazy and seemingly inexplicable from it

[08:13:00.0000] <hsivonen>
should I add warnings whenever a DTD actually has an effect?

[08:15:00.0000] <Philip`>
I want the DTD to have the effect of stopping the complaints about &ndash; etc since I know those are legimitate and not practical errors

[08:15:01.0000] <Dashiva>
Oh look, another group wanting XHR without window defined

[08:15:02.0000] <hsivonen>
Philip`: it seems to me you want the XML parser to default to Gecko emulation

[08:16:00.0000] <hsivonen>
I'd feel better about implementing Gecko emulation if it was a WHATWG spec

[08:16:01.0000] <hsivonen>
But I suppose I should do it anyway.

[08:18:00.0000] <Philip`>
I'm not sure what I want, except for it to say "this page (which happens to claim to be XHTML and I'm not going to bother telling the author to change to something else since that's a waste of time) is broken for these reasons (of which all the reasons are legitimate problems, and not stupid things like entities not quite being defined even though it'll work fine in practice)"

[08:20:00.0000] <annevk>
Dashiva, yeah, not sure what they're talking about

[08:20:01.0000] <annevk>
i'll deal with xhr feedback a bit later once it has stacked up some more

[08:27:00.0000] <annevk>
thanks to people doing copy and paste incorrectly HTML5 elements are now used in the wild: http://www.topxml.com/rbnews/XML/re-93299_HTML-5-and-a-different-kind-of-ruby-support.aspx

[08:27:01.0000] <Philip`>
<a rel="nofollow"udio>

[08:29:00.0000] <annevk>
nobody any idea on how to implement your custom [[Get]] and [[Set]] in JavaScript?

[08:31:00.0000] <annevk>
watch seems to have the same limitation as getters and setters

[08:34:00.0000] <annevk>
__noSuchMethod__ is closer

[08:37:00.0000] <annevk>
mu

[08:38:00.0000] <Dashiva>
annevk: As far as I know [[Get]] would require catchalls (as in es4) or doing it in the implementation itself

[08:40:00.0000] <annevk>
:(

[08:40:01.0000] <annevk>
i had this idea that maybe making a dataset impl would be feasible

[08:40:02.0000] <Dashiva>
If you're willing to be really really really hackish...

[08:40:03.0000] <annevk>
yes? :)

[08:41:00.0000] <Dashiva>
Create the object on every element with data attributes on dom complete, then use mutation events on the dom to catch changes to those attributes to update the dataset, and use getters and setters to bridge the two

[08:42:00.0000] <Dashiva>
I'm not sure if the middle step is possible, though

[08:45:00.0000] <Philip`>
Element.prototype.__defineGetter__('dataset', function () { alert('Just use getAttribute("data-..."), because that\'s trivial and perfectly compatible with everything') });

[08:46:00.0000] <Dashiva>
Now I'm curious

[08:47:00.0000] <Dashiva>
/me goes to read dataset spec

[08:47:01.0000] <annevk>
that doesn't work for .dataset.x = "test"

[08:48:00.0000] <annevk>
which would create a data-x attribute with the value 'test'

[08:50:00.0000] <Dashiva>
Yeah, [[Get]] only

[08:51:00.0000] <annevk>
:/

[08:51:01.0000] <Dashiva>
of course, you can take it one step further and run a manual check on the object with a setInterval, but that's just evil

[08:52:00.0000] <annevk>
I thought of that but that's a) not performing well and b) doesn't work if you set using dataset and then get using getAttribute() directly after

[08:53:00.0000] <Dashiva>
The b) case I don't really want to care about. They should make up their mind :)

[08:54:00.0000] <Philip`>
They should just use [sg]etAttribute all the time :-)

[08:54:01.0000] <Dashiva>
Catchalls would be so nice

[08:54:02.0000] <annevk>
at least for this

[08:55:00.0000] <annevk>
Philip`, stop being so pragmatic

[08:55:01.0000] <Dashiva>
How many browsers support mutation events anyhow?

[08:55:02.0000] <annevk>
most?

[08:56:00.0000] <Philip`>
Does IE6 support mutation events?

[08:57:00.0000] <Philip`>
If not, then it's not very useful for a legacy-UA compatibility script :-p

[08:57:01.0000] <Dashiva>
Eh, none of the IEs support getters and setters anyhow :)

[08:57:02.0000] <annevk>
the script was more about seeing if this could actually work

[08:57:03.0000] <annevk>
but it seems that it can't

[08:58:00.0000] <Dashiva>
Just make setters for all legal strings up to 16 characters

[08:58:01.0000] <Dashiva>
... on all nodes

[09:00:00.0000] <annevk>
that was another idea i had, but that didn't scale

[09:00:01.0000] <annevk>
guess i'm glad i didn't miss anything obvious :)

[10:33:00.0000] <gsnedders>
annevk: What should XHR.status return for an HTTP/0.9 response?

[10:33:01.0000] <gsnedders>
(that has no status code)

[10:33:02.0000] <annevk>
throw?

[10:34:00.0000] <gsnedders>
annevk: Throw INVALID_STATE_ERR?

[10:34:01.0000] <annevk>
that's what the spec currently says

[10:36:00.0000] <gsnedders>
It just seems odd

[10:36:01.0000] <annevk>
agreed

[10:37:00.0000] <gsnedders>
null is what I'd expect if it didn't exist and the object had a suitable state

[10:37:01.0000] <annevk>
or maybe just 0

[10:38:00.0000] <annevk>
or maybe HTTP should define what the status code is in that case :)

[10:38:01.0000] <annevk>
as in, if no status code is provided the status code is 200

[10:38:02.0000] <annevk>
that's prolly best

[10:39:00.0000] <annevk>
/me goes back to his semi-sleepy state

[10:39:01.0000] <gsnedders>
annevk: Less drugs! :P

[10:42:00.0000] <gsnedders>
othermaciej: Happy B'day!

[10:43:00.0000] <othermaciej>
thanks gsnedders 

[10:45:00.0000] <MikeSmith>
standardssuck needs a logo

[10:45:01.0000] <MikeSmith>
maybe the guy who created the Squirrelfish logo can make one

[10:45:02.0000] <annevk>
congrats othermaciej

[10:45:03.0000] <annevk>
MikeSmith, hehe

[10:45:04.0000] <othermaciej>
congrats on what?

[10:46:00.0000] <annevk>
othermaciej, your birthday, it seems :)

[10:46:01.0000] <othermaciej>
oh

[10:46:02.0000] <othermaciej>
thanks

[10:46:03.0000] <othermaciej>
though I'm not sure it's all that impressive to survive to 0x20

[10:46:04.0000] <gsnedders>
annevk: I've just managed to get -9 returned by .status

[10:47:00.0000] <annevk>
othermaciej, :)

[10:47:01.0000] <annevk>
gsnedders, impressive

[10:48:00.0000] <gsnedders>
othermaciej: I hope it's your birthday, seeming it claims that on Facebook ;P

[10:48:01.0000] <gsnedders>
annevk: "HTTP /1.1 200 OK" does all kinds of odd things.

[10:50:00.0000] <gsnedders>
annevk: Including giving .status = -9 in IE

[10:51:00.0000] <annevk>
oh, IE has all kinds of weird stuff with .status

[10:52:00.0000] <MikeSmith>
gsnedders: please provide your assessment of the following

[10:52:01.0000] <MikeSmith>
http://www.flickr.com/photos/goopymart/2411605231/

[10:52:02.0000] <gsnedders>
I need to provide assessment? Meh.

[10:52:03.0000] <gsnedders>
MikeSmith: WTF?

[10:52:04.0000] <gsnedders>
(that's my assessment)

[10:52:05.0000] <othermaciej>
gsnedders: it is indeed

[10:53:00.0000] <MikeSmith>
/me finds fridge empty again, reduced to eating olives from jar

[11:05:00.0000] <gsnedders>
http://lists.w3.org/Archives/Public/ietf-http-wg/2008AprJun/0479.html — HTTP fun!

[11:10:00.0000] <annevk>
HTTP is just as broken as the rest of the Web, it's just noticed by less people than the brokenness of HTML/CSS

[11:11:00.0000] <annevk>
MikeSmith, true that, I'm going to do some shopping

[11:14:00.0000] <MikeSmith>
annevk: after I deplete this jar of olives, I think only thing left will be to turn to rock soup

[11:15:00.0000] <MikeSmith>
minus the rocks

[11:33:00.0000] <Hixie>
i'm amused at how dan and chris have just given up sending htmlwg status updates to the htmlcg list

[11:45:00.0000] <Dashiva>
Hixie: For lack of content, or lack of interest, or something else?

[11:45:01.0000] <Hixie>
no idea

[11:45:02.0000] <Hixie>
just haven't seen updates in a long time

[12:00:00.0000] <annevk>
maybe they don't attend the calls

[12:00:01.0000] <annevk>
or maybe HTML5 just doesn't need status updates, it's all over the place already anyway :)

[12:01:00.0000] <Dashiva>
Yeah, it's public all over the place in htmlwg

[12:01:01.0000] <Dashiva>
Except that cg :)

[12:04:00.0000] <annevk>
the HCG should really become a public group

[12:05:00.0000] <Hixie>
good luck wit hthat

[12:06:00.0000] <gsnedders>
HCG?

[12:06:01.0000] <annevk>
Hypertext Coordination Group also known as HTML CG

[12:16:00.0000] <Hixie>
so who is steven faulkner going to interview for standards suck 4?

[12:20:00.0000] <annevk>
there's no pattern

[12:20:01.0000] <annevk>
just a spoon

[12:24:00.0000] <gsnedders>
annevk: There is no spoon!

[13:01:00.0000] <Hixie>
i've been trying to avoid defining urls for so long

[13:01:01.0000] <Hixie>
but it's starting to end up at the top of all my automatically generated lists

[13:01:02.0000] <Hixie>
folder with oldest e-mail, folder with most e-mail, etc

[13:04:00.0000] <Philip`>
You just need to refine your automatic list generation - "folder with oldest e-mail that is not about defining URLs", etc

[13:06:00.0000] <Hixie>
i've already done that with any folder about WF2, rendering, video codecs...

[13:06:01.0000] <Hixie>
i don't really have a good reason to do it with urls!

[13:06:02.0000] <Hixie>
"i don't want to find out what browsers do" doesn't seem like a valid reason

[13:06:03.0000] <Hixie>
bbl

[13:11:00.0000] <annevk>
Hixie, adding HTML5 elements to the HTML parser has been suggested

[13:11:01.0000] <annevk>
Hixie, I think that would be a good thing too, fwiw

[14:00:00.0000] <gsnedders>
/me is far too indecisive to write a spec

[14:01:00.0000] <annevk>
if both options seem ok flip a coin

[14:02:00.0000] <annevk>
(and maybe document the choices in a comment)

[14:02:01.0000] <annevk>
then when people complain you can change it

[14:03:00.0000] <Philip`>
If both options seem okay, branch the spec and produce two versions

[14:03:01.0000] <Philip`>
and repeat the branching for each indecision point

[14:04:00.0000] <Philip`>
That way you won't be acting unfairly towards any of the options

[14:06:00.0000] <gsnedders>
In this case it's whether HTTP-Version should be case-sensitive (per HTTP.sys (in IIS) and CFNetwork (and through that Saf and other WebKit browsers on OS X) and RFC2616) or not (per Fx, IE, and Op)

[14:06:01.0000] <gsnedders>
It seems the case-insensitivity is no longer needed whatsoever

[14:08:00.0000] <gsnedders>
I'll send late LC comments on XHR this weekend, annevk, BTW

[14:08:01.0000] <gsnedders>
(I know I've been saying that for a while, but hopefully I finally will)

[14:08:02.0000] <annevk>
sure

[14:12:00.0000] <Philip`>
/me wonders how many invalid HTTP responses he encountered

[14:12:01.0000] <Philip`>
http://drmarin.galeon.com/ is one (returns just the body, no headers or status code or anything)

[14:13:00.0000] <Philip`>
and same on http://galeon.com/dilandau/mokushiroku.htm

[14:16:00.0000] <Philip`>
http://www.guadeloupe-fr.com/ too

[14:18:00.0000] <hsivonen>
Hixie: I second annevk's and zcorpan's suggestion to address new elements in parsing

[14:18:01.0000] <Philip`>
http://www.truemetal.org/powermetal/ too

[14:19:00.0000] <Philip`>
Two send "HTTP/1.x ..." lines twice (so the second time gets parsed as a header)

[14:20:00.0000] <Philip`>
I don't see any other interesting problems that HttpClient detected

[14:23:00.0000] <virtuelv>
did the svg wg come up with a proposal yet, btw?

[14:23:01.0000] <virtuelv>
for svg-in-html, that is

[14:25:00.0000] <Philip`>
virtuelv: Not yet, but I believe they have said they are working on it

[14:46:00.0000] <gsnedders>
Philip`: The ones without any status code or body are HTTP/0.9 servers

[14:56:00.0000] <Hixie>
right. new elements.

[14:56:01.0000] <annevk>
add some while you're at it :)

[14:56:02.0000] <annevk>
<kitchensink>

[14:57:00.0000] <gsnedders>
<bikeshed> too

[15:05:00.0000] <Hixie>
right, what are the actual elements that i should make sure i've added

[15:05:01.0000] <annevk>
event-source in <head>

[15:05:02.0000] <annevk>
command, source

[15:05:03.0000] <annevk>
datalist / dialog

[15:05:04.0000] <annevk>
various sectioning elements

[15:05:05.0000] <Hixie>
"event-source", "section", "nav", "article", "aside", "header", "footer", "datagrid", "command"

[15:06:00.0000] <Hixie>
"source", "datalist", "dialog"

[15:06:01.0000] <Hixie>
what does "datalist" need?

[15:06:02.0000] <annevk>
does <option> close without error?

[15:07:00.0000] <annevk>
and <optgroup> too maybe, forgot if that was allowed

[15:07:01.0000] <Hixie>
uh

[15:07:02.0000] <Hixie>
"option" gets ignored "in body"

[15:07:03.0000] <Hixie>
bummer

[15:13:00.0000] <Hixie>
ok the following get treated as "meta" does: "event-source", "command", "source"

[15:13:01.0000] <Hixie>
and the following get treated like "div": "section", "nav", "article", "aside", "header", "footer", "datagrid", "dialog"

[15:14:00.0000] <Hixie>
s/meta/link/

[15:14:01.0000] <annevk>
treating <source> like <param> seems better

[15:15:00.0000] <Hixie>
yes

[15:16:00.0000] <Hixie>
hm, <body><style scoped> gets parsed wrong

[15:18:00.0000] <Hixie>
/me makes <style> not allowed as a child of <body>

[15:18:01.0000] <annevk>
wtf?

[15:18:02.0000] <annevk>
i mean, why?

[15:19:00.0000] <Hixie>
because </head><style> has to be parsed as <head><style></head><body> not <head></head><body><style>

[15:19:01.0000] <Hixie>
and there's no real reason to have <style> be the first element of a <body> instead of having it in the head

[15:20:00.0000] <annevk>
</head><style> is already taken care of

[15:20:01.0000] <annevk>
see "after head"

[15:21:00.0000] <Hixie>
right, i'm not changing the parser

[15:21:01.0000] <annevk>
:/

[15:22:00.0000] <Hixie>
i just don't want it to be possible to write pages that are conforming but parse as something very different

[15:22:01.0000] <Hixie>
since that would be dumb

[15:23:00.0000] <annevk>
is this about </head><style> still?

[15:23:01.0000] <Hixie>
hm, i also need to make <script> not be allowed at the start of <body> for the same reason

[15:23:02.0000] <Hixie>
actually maybe i just need to make the syntax section clearer

[15:23:03.0000] <Hixie>
and say that the tag can't be omitted

[15:24:00.0000] <annevk>
oh, I see

[15:24:01.0000] <annevk>
/me thought Hixie was proposing changing the parser

[15:24:02.0000] <Hixie>
no no

[15:25:00.0000] <Hixie>
oh hey what do you know

[15:25:01.0000] <Hixie>
the writing section already covers this

[15:27:00.0000] <annevk>
heh, the IE people have discovered the DOM Core bug as well

[15:29:00.0000] <roc>
I think I pissed off someone at Adobe

[15:31:00.0000] <annevk>
jd hmm

[15:31:01.0000] <Dashiva>
roc: Your pdfs won't open anymore?

[15:33:00.0000] <othermaciej>
roc: why do you say that?

[15:33:01.0000] <othermaciej>
annevk: I proposed errataing that years ago, sigh

[15:33:02.0000] <roc>
"<em>"since they're not standards they probably won't ever be invited to this party."</em> uh-oh, that sounds a little closed and exclusionary there...! :("

[15:34:00.0000] <annevk>
so we need to actively invest time in making stuff work with proprietary platforms we don't believe in? classic

[15:35:00.0000] <Dashiva>
That's what they pay w3c for, isn't it?

[15:35:01.0000] <othermaciej>
as did you

[15:35:02.0000] <Hixie>
we don't, but it makes sense that they'd try to make us

[15:35:03.0000] <roc>
as a practical matter we do have to invest in plugins

[15:36:00.0000] <roc>
ooh

[15:36:01.0000] <roc>
what the Web needs: NPAPI5

[15:36:02.0000] <othermaciej>
well, AIR is a valiant effort on their part to mix Flash with real Web content in more interesting ways

[15:36:03.0000] <othermaciej>
but it's not actually available on the web

[15:36:04.0000] <othermaciej>
and they intentionally crippled the WebKit part of AIR and have not been upgrading it since

[15:52:00.0000] <annevk>
yet more MS delay

[15:59:00.0000] <Hixie>
oh jeez

[15:59:01.0000] <Hixie>
microsoft are writing a Paper

[15:59:02.0000] <Hixie>
so

[15:59:03.0000] <Hixie>
glad

[16:00:00.0000] <Hixie>
that you took xhr from me

[16:00:01.0000] <gsnedders>
We'll make annevk regret it!

[16:05:00.0000] <annevk>
makes you wonder what they're planning for html5

[16:06:00.0000] <Hixie>
oh they've tried hard to delay html5

[16:06:01.0000] <Hixie>
without success so far (except for delaying the start of the patent clock)

[16:10:00.0000] <Hixie>
crap, the parser reports an error for <!DOCTYPE HTML><div><li><rp><li></div>

[16:12:00.0000] <Hixie>
i guess <li> should generate implied end tags...?

[16:12:01.0000] <Hixie>
why doesn't it

[16:12:02.0000] <Hixie>
hm

[16:13:00.0000] <Hixie>
oh i see

[16:13:01.0000] <Hixie>
until i added <rp> and <rt> it wasn't necessary

[16:13:02.0000] <Hixie>
oops

[16:15:00.0000] <annevk>
wh is the parse error an issue?

[16:21:00.0000] <Hixie>
well, it's extraneous

[16:21:01.0000] <Hixie>
the error is the missing <ruby>

[16:22:00.0000] <Hixie>
not the missing </rp>

[16:23:00.0000] <annevk>
fair enough

[16:55:00.0000] <jgraham_>
http://james.html5.org/temp/html5lib-0.11.zip a second attempt at html5lib-0.11


2008-06-07
[17:11:00.0000] <annevk>
Hixie, lol

[17:11:01.0000] <annevk>
/me finds 'An end tag whose tag name is "sarcasm"'

[17:18:00.0000] <Dashiva>
annevk: How many angry outbursts for not taking the w3c seriously will that trigger, I wonder :)

[17:19:00.0000] <annevk>
I'm sure people will complain, because as defined it does exactly nothing

[17:24:00.0000] <Hixie>
it requires you to take a deep breath!

[17:24:01.0000] <Hixie>
/me applies the first sticker to his laptop

[17:25:00.0000] <Dashiva>
Hixie: Is that a normative requirement?

[17:25:01.0000] <Dashiva>
Because I think it will be exceedingly difficult to add breathing capabilities to most user agents

[17:26:00.0000] <annevk>
that's just a platform limitation

[17:26:01.0000] <Hixie>
Dashiva: yup

[17:26:02.0000] <Hixie>
annevk: indeed

[17:26:03.0000] <Hixie>
/me is happy with his sticker ("My other computer is a data center")

[17:27:00.0000] <Dashiva>
Not a beowulf cluster of toasters?

[17:27:01.0000] <Hixie>
no, my other computer really is a data center, that's why i like it :-)

[17:28:00.0000] <Philip`>
But you have to share it with a hundred million other users, whereas my computers are all mine

[17:29:00.0000] <Hixie>
no comment

[17:29:01.0000] <Dashiva>
My other computer is standing in the hallway, waiting for the electrician to show up and make a properly earthed power outlet

[17:29:02.0000] <Hixie>
heh

[17:30:00.0000] <Hixie>
hey

[17:30:01.0000] <Hixie>
this <li> problem is just because i'm not faking an end tag

[17:34:00.0000] <annevk>
so <datalist> requires a new insertion model

[17:34:01.0000] <Hixie>
why?

[17:34:02.0000] <annevk>
for <option>?

[17:34:03.0000] <Hixie>
i just plan to make <option> into a phrasing element with some magic for optional end tags

[17:35:00.0000] <annevk>
Opera treats <option> "like" <option/>

[17:37:00.0000] <annevk>
IE does something similar (plus the /OPTION weirdness for the end tag)

[17:37:01.0000] <annevk>
Firefox just drops it

[17:37:02.0000] <Hixie>
yeah

[17:38:00.0000] <Hixie>
but i can't see any way that treating it like <span> could break anything

[17:38:01.0000] <annevk>
option { background:lime }

[17:39:00.0000] <annevk>
but maybe it's feasible

[17:39:01.0000] <Hixie>
yeah but do any pages do that while also having one in the middle of nowhere?

[17:39:02.0000] <annevk>
for <datalist> Opera seems to do something similar to <select> except that <select> is allowed as child

[17:39:03.0000] <annevk>
that doesn't seem good

[17:40:00.0000] <Hixie>
indeed

[18:19:00.0000] <Hixie>
ok well i think this fixes the main problems

[18:25:00.0000] <Philip`>
jgraham_: test and install works for me on that version

[18:30:00.0000] <Philip`>
jgraham_: but it fails when I use something with a different version of simplejson

[18:34:00.0000] <Philip`>
(In particular: Works with simplejson 1.7.1 in python2.5; fails with 1.9.1 in python2.4)

[18:36:00.0000] <Philip`>
(It doesn't like non-ASCII in test1.test)

[18:38:00.0000] <Philip`>
Lots of tests fails with BeautifulSoup-3.0.6 in python2.4

[18:49:00.0000] <Philip`>
Hmm, how nice - BeautifulSoup has decl.string == 'html', but unicode(decl.string) == '<!html>'

[18:50:00.0000] <Philip`>
except in Python 2.4 unicode(decl.string) == 'html'

[19:22:00.0000] <Philip`>
jgraham_: I've committed some changes that are needed for some versions of Python I have; otherwise it seems to work fine in my 2.3/2.4/2.5 Pythons, except for the title=foo=bar test that you seem to have fixed in your zipped version, and except for some hex overflow warnings in Python 2.3

[20:21:00.0000] <MikeSmith>
"thanks for waiting"

[20:22:00.0000] <MikeSmith>
what the hell else choice do we have?

[20:22:01.0000] <MikeSmith>
wait, I guess we could offer to write the "paper" for them

[20:22:02.0000] <MikeSmith>
I think I'll do that

[20:22:03.0000] <MikeSmith>
this weekend

[20:27:00.0000] <Philip`>
<datatemplate> scares me :-(

[20:32:00.0000] <Philip`>
Mutual recursion is great

[20:32:01.0000] <Philip`>
s/great/evil/

[20:39:00.0000] <MikeSmith>
heh

[20:40:00.0000] <Dashiva>
Mutual recursion is recursing mutually is mutual recursion?

[21:00:00.0000] <Philip`>
Maybe I shouldn't send emails trying to explain nasty complicated algorithms at 4am :-/

[21:01:00.0000] <Dashiva>
Maybe I should be asleep at 5 am...

[21:01:01.0000] <Philip`>
I reason that the birds outside aren't asleep, so I don't see why I ought to be

[21:03:00.0000] <Dashiva>
Too bad you didn't reason like that when they were asleep :)

[21:04:00.0000] <Philip`>
I was too busy with <datatemplate>s to be able to reason :-)

[21:05:00.0000] <Philip`>
(Also playing PAA:OtRSPoD:E1, which is possibly less useful)

[22:57:00.0000] <takkaria>
Philip`: I do often wonder if you ever sleep at all

[23:47:00.0000] <heycam`>
/me curses HttpURLConnection's refusal to accept a non-standard HTTP method

[01:26:00.0000] <annevk>
Philip`, I found http://en.wikipedia.org/wiki/Levenberg–Marquardt_algorithm

[01:27:00.0000] <annevk>
but then I don't know about either that algorithm or <datagrid> to connect the dots

[01:28:00.0000] <annevk>
know enough*

[01:35:00.0000] <annevk>
http://simonwillison.net/2008/Jun/6/patent/ :o

[01:49:00.0000] <Hixie>
that algorithm has nothing to do with it

[01:49:01.0000] <Hixie>
the "levenberg" algorithm in the spec is just what josh came up with when i asked him how to solve the problem

[01:50:00.0000] <annevk>
ok, so what Philip` said :)

[01:50:01.0000] <Hixie>
yup

[02:15:00.0000] <hsivonen>
hmm. the 2005 DOM Core threads about aligning the spec with the real world are sad

[02:21:00.0000] <annevk>
we should just rebrand the DOM specs to Web DOM specs so there's no confusion

[02:21:01.0000] <annevk>
Web DOM -> Web, DOM specs -> well...

[02:25:00.0000] <annevk>
Hmm, they're standardizing UA sniffing with a really complicated server side API... http://www.w3.org/2005/MWI/DDWG/drafts/api/080602

[04:13:00.0000] <annevk>
view source: http://jarvklo.se/ :)

[04:16:00.0000] <annevk>
http://cafe.elharo.com/web/refactoring-html/why-xhtml/#comment-235640 "They attempt to destroy standards by insisting on mindless conformance to them, all practical experience to the contrary." yup...

[04:17:00.0000] <annevk>
/me was hoping nobody would figure it out

[04:49:00.0000] <jgraham_>
Does anyone have a strong opinion on whether html5lib should accept e.g. utf8 as a synonym for utf-8?

[04:50:00.0000] <annevk>
html5 says we should I think

[04:50:01.0000] <gsnedders>
yeah, they're identical per html5

[04:50:02.0000] <jgraham_>
Oh, that must have changed since I last looked at this

[04:50:03.0000] <gsnedders>
http://www.whatwg.org/specs/web-apps/current-work/#charset

[04:50:04.0000] <annevk>
likely

[04:51:00.0000] <gsnedders>
It was a fairly recent change

[04:51:01.0000] <gsnedders>
actually, that's not it

[04:51:02.0000] <annevk>
jgraham_, when is your blogpost going online?

[04:51:03.0000] <jgraham_>
annevk: About @media? After Lachy outs the slides online... (hint ;) )

[04:51:04.0000] <gsnedders>
http://www.whatwg.org/specs/web-apps/current-work/#character0 — that's the right link

[04:52:00.0000] <annevk>
Lachy, ^^

[04:52:01.0000] <annevk>
or http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#character0

[04:52:02.0000] <gsnedders>
http://bugs.simplepie.org/repositories/entry/sp1/trunk/create.php — that's what I use now

[04:53:00.0000] <annevk>
I wonder if we can make it a fixed list of character encodings

[04:53:01.0000] <gsnedders>
annevk: in the spec?

[04:53:02.0000] <annevk>
yes

[04:53:03.0000] <gsnedders>
That would be nice.

[04:53:04.0000] <annevk>
a list of Web character encodings

[04:54:00.0000] <gsnedders>
/me notes in his new impl. he does support UTF-32 (but on PHP 5 everything is stored as UTF-32 binary strings)

[04:55:00.0000] <annevk>
omg, idiots

[04:55:01.0000] <gsnedders>
Simply because perf. of things like substr() would be terrible using anything that sometimes used more than one word per codepoint

[04:55:02.0000] <gsnedders>
annevk: ?

[04:55:03.0000] <annevk>
storings things in UTF-32 is a design flaw

[04:56:00.0000] <virtuelv>
anyone looked at eric meyer's linking proposal?

[04:56:01.0000] <gsnedders>
annevk: Find any other way to do stuff performantly :(

[04:56:02.0000] <annevk>
gsnedders, even with UTF-32 you can have a single character spanning multiple code points

[04:56:03.0000] <jgraham_>
gsnedders: the substring argument may be optimizing for the wrong thing

[04:57:00.0000] <gsnedders>
annevk: As far as I can see substr() natively on PHP 6 just does it to codepoints, not characters

[04:57:01.0000] <annevk>
in that case basing it on UTF-16 would be better

[04:57:02.0000] <gsnedders>
jgraham_: It optimises for most optimisations, though, doing that (it's also the cheapest to decode/encode to)

[04:57:03.0000] <hsivonen>
annevk: no, you can't, but you can have a grapheme cluster spanning code points

[04:57:04.0000] <annevk>
as that's at least compatible with the DOM/JavaScript etc.

[04:57:05.0000] <jgraham_>
gsnedders: http://weblogs.mozillazine.org/roc/archives/2008/01/string_theory.html

[04:58:00.0000] <gsnedders>
annevk: Why? Then I have to scan through the string trying to find surrogates

[04:58:01.0000] <annevk>
hsivonen, is that the same as combined characters?

[04:59:00.0000] <hsivonen>
annevk: yeah

[05:00:00.0000] <annevk>
(that's what I meant)

[05:00:01.0000] <gsnedders>
annevk: UTF-16 will be slower. What might be quicker is having duplicate code paths, one for ASCII only UTF-8, and another for UTF-8 (when using the actual UTF-8 codepath it'll be slower than UTF-32 though)

[05:01:00.0000] <annevk>
UTF-32 doesn't handle combined characters

[05:01:01.0000] <gsnedders>
I know.

[05:01:02.0000] <annevk>
and eats up way too much memory and is more or less obsolete anyway as far as anyone is concerned

[05:01:03.0000] <gsnedders>
PHP is just too slow :(

[05:08:00.0000] <gsnedders>
If I were to use UTF-8 or UTF-16 I need to manually iterate over the string for things like substr to count the number of characters I'd got past, taking into account multi-byte sequences, and surrogates. With UTF-32, I can just use PHP's built-in substr function, as each codepoint is four bytes.

[05:08:01.0000] <gsnedders>
iterating over a string is VERY slow in PHP when you're having to watch it as a unicode string (decoding is far too slow)

[05:12:00.0000] <hsivonen>
if you aren't Mozilla or Opera, you should probably just use whatever UTF-* your language + its built-in string library use

[05:14:00.0000] <gsnedders>
hsivonen: In the case of PHP 5, that's binary strings, and no Unicode.

[05:17:00.0000] <hsivonen>
I don't know about PHP 5, but in PHP 4 it means byte strings with UTF-8 in them or int arrays with UTF-32 code unit per array slot

[05:18:00.0000] <Philip`>
gsnedders: Perl stores UTF-8 internally, and its substr() performance doesn't seem to be unacceptable

[05:18:01.0000] <gsnedders>
hsivonen: PHP 5 is the same as PHP 4

[05:19:00.0000] <gsnedders>
Philip`: It has the advantage of not needing to try and operate it in the interpreted userland, though, but in the compiled interpreter

[05:19:01.0000] <gsnedders>
(PHP 6, however, has Unicode support)

[05:19:02.0000] <gsnedders>
I want something that can behave identically on PHP 5 and PHP 6, while using PHP 6's native support

[05:20:00.0000] <Philip`>
gsnedders: Oh, by "on PHP 5 everything is stored as UTF-32 binary strings" do you mean that you chose to store everything as UTF-32 because PHP doesn't do Unicode strings at all, as opposed to meaning that PHP itself stores Unicode strings as UTF-32?

[05:21:00.0000] <gsnedders>
Philip`: PHP < 6 (which isn't out yet) doesn't do any Unicode

[05:21:01.0000] <Philip`>
Ah

[05:21:02.0000] <gsnedders>
Philip`: Well, there are some extensions that cope, one that is enabled by default, but it stops processing on the first invalid byte

[05:21:03.0000] <gsnedders>
and it has all kinds of bugs

[05:22:00.0000] <annevk>
good times

[05:22:01.0000] <annevk>
i'm glad my blog doesn't require the complex PHP bits

[05:22:02.0000] <annevk>
such as substr() :D

[05:22:03.0000] <Philip`>
It's strange how a toy language can become so popular ;-)

[05:22:04.0000] <gsnedders>
(and as PHP 6 is even less backwards compatible than PHP 5 was, and PHP 5 had slow uptake)

[05:23:00.0000] <hsivonen>
PHP is aimed at people who should be given all the high-level library support imaginable, but then what PHP does with strings is the kind of thing portable C does

[05:23:01.0000] <gsnedders>
hsivonen: PHP just generally sucks.

[05:23:02.0000] <hsivonen>
i.e. giving just a run of bytes without any Unicode libraries

[05:23:03.0000] <hsivonen>
yes, PHP sucks

[05:23:04.0000] <hsivonen>
I walked away from PHP years ago

[05:23:05.0000] <gsnedders>
It's not just strings. Everything sucks.

[05:24:00.0000] <hsivonen>
my latest encounter with PHP was patching the WHATWG blog and the experience made me unhappy

[05:24:01.0000] <hsivonen>
I should have know better and stayed away

[05:24:02.0000] <annevk>
yet for the simple stuff it's easier than anything else

[05:24:03.0000] <gsnedders>
Most common bug report on SP: it just stops output! (this happens to normally be PHP crashing Apache)

[05:24:04.0000] <hsivonen>
annevk: if "simple" means "I don't know yet that I need to care about Unicode"

[05:24:05.0000] <gsnedders>
annevk: I'd say stuff like Python and Ruby is just as easy

[05:24:06.0000] <annevk>
though maybe that's because there's so much to copy and paste from

[05:25:00.0000] <annevk>
hsivonen, right

[05:25:01.0000] <annevk>
people have written all kinds of simple software in PHP you can learn how to do things from and improve upon

[05:25:02.0000] <annevk>
I haven't found nearly as much for Python

[05:26:00.0000] <annevk>
Python documentation is also quite crappy

[05:26:01.0000] <gsnedders>
annevk: Yeah, but at least with Python most of the docs there are _is_ right

[05:26:02.0000] <gsnedders>
annevk: With PHP, half of it is wrong

[05:27:00.0000] <hsivonen>
Java seems to have the best docs

[05:27:01.0000] <gsnedders>
/me will likely have no real exposure to Java till he's at uni

[05:27:02.0000] <Philip`>
Java documentation seems to always tell me how stuff works, but never tells me how to do stuff

[05:28:00.0000] <hsivonen>
right, Java has great per method docs. but often it is hard to learn the big picture for a new library

[05:28:01.0000] <Philip`>
If I don't know the class name I'm looking for, I end up having to search random web pages to find relevant links

[05:32:00.0000] <Dashiva>
Vector vs ArrayList, discuss

[05:32:01.0000] <hsivonen>
deprecade Vector. end of discussion :-)

[05:32:02.0000] <hsivonen>
deprecate

[05:35:00.0000] <annevk>
what Philip` says about Java is probably true for Python as well

[05:36:00.0000] <annevk>
Python should have some clear docs on dealing with HTML form submission / dealing with request URIs / dealing with databases

[05:42:00.0000] <Philip`>
I think it's probably true for all languages that I'm familiar with

[05:43:00.0000] <Dashiva>
I suppose it'd be false for languages with no standard library, though :)

[05:43:01.0000] <annevk>
might be, for me it was just that there was enough sample PHP code around to figure out how to make blog software / simple cms software, etc.

[05:44:00.0000] <Philip`>
Dashiva: Do any such languages exist? Everything seems to at least have standard string functions, and it'd be pretty useless without those :-)

[05:44:01.0000] <jgraham_>
The python documentation for 2.6 is getting better http://docs.python.org/dev/

[05:45:00.0000] <Dashiva>
Philip`: Well, you'd define functions required to non-uselessness as part of the language, not the library

[05:45:01.0000] <Philip`>
The 2.6 docs look less like latex2html, which is nice

[05:45:02.0000] <Philip`>
Dashiva: I wouldn't :-p

[05:46:00.0000] <Dashiva>
Besides, strings are overrated.

[05:46:01.0000] <Philip`>
Dashiva: e.g. C has a standard library, and without it the language would be pretty useless until you built up everything yourself from scratch, but that's still a standard library

[05:46:02.0000] <Philip`>
Indeed, we should use ropes instead

[05:48:00.0000] <jgraham_>
/me suggests that GUI design 101 should cover not putting "Copy" and "Close Window" next to each other

[05:48:01.0000] <hsivonen>
modern C software has to use a string library that isn't provided by the "standard" library

[05:48:02.0000] <Philip`>
/me suggests the OS should have an "undo" button, that can undo the closing of windows

[05:50:00.0000] <annevk>
jgraham_, still not quite focused on Web programming it seems

[05:51:00.0000] <jgraham_>
annevk: Sure. But better than the old documentation

[05:52:00.0000] <annevk>
take http://docs.python.org/dev/howto/index.html for instance

[05:52:01.0000] <annevk>
where's HTTP and python, HTML forms and python, MySQL and python ?

[05:52:02.0000] <Dashiva>
Do you really have to use urllib to urlencode something for use in urllib2?

[05:53:00.0000] <jgraham_>
annevk: That section's new. I guess contributions are welcome :)

[05:54:00.0000] <annevk>
once i'll figure it out i'll let them know :p

[05:54:01.0000] <jgraham_>
http://wiki.python.org/moin/WebProgramming might be more informative

[05:54:02.0000] <annevk>
well, i have figured it out to some extent, but what i'm doing feels rather clumsy

[05:58:00.0000] <annevk>
hah, that wiki page endorses my naive approach

[06:03:00.0000] <annevk>
http://webpython.codepoint.net/introduction is quite nice

[06:03:01.0000] <annevk>
(links at the bottom)

[06:05:00.0000] <hsivonen>
hmm. If I read a text node from the DOM in IE8 mode, line breaks are normalized to single spaces

[06:05:01.0000] <hsivonen>
what's up with that?

[06:07:00.0000] <Philip`>
What if you set white-space:pre on that element?

[06:10:00.0000] <Philip`>
Seems the same as IE6/7 to me - whitespace is normalised except on elements where it's preserved (like <pre>, or <... style="white-space:pre">)

[06:11:00.0000] <hsivonen>
style="white-space:pre" helps in IE7

[06:11:01.0000] <roc>
freaky

[06:12:00.0000] <Philip`>
(innerHTML does the same normalisation)

[06:14:00.0000] <hsivonen>
Philip`: doesn't help in IE8 mode

[06:17:00.0000] <Philip`>
/me encounters a way to get IE stuck in an infinite loop

[06:17:01.0000] <Philip`>
The Live DOM Viewer ought to have an autosave feature :-(

[06:19:00.0000] <annevk>
and community features so you can rate each others code and comment on it

[06:19:01.0000] <Philip`>
hsivonen: http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cmeta%20http-equiv%3Dx-ua-compatible%20content%3Die%3D8%3E%0A%3Cdiv%20style%3Dwhite-space%3Apre%3Etest%0Atest%3C%2Fdiv%3E in IE8 in IE8 mode shows the non-normalised newline in the DOM view

[06:22:00.0000] <annevk>
http://lxyedwarddudley.wordpress.com/2008/06/05/authoring-html-5-a-supplicate-in-warp-and-woof-professionals/ :o

[06:22:01.0000] <gsnedders>
You do realise the p element exists for a reason?

[06:23:00.0000] <hsivonen>
Philip`: I'm looking at http://hsivonen.iki.fi/test/moz/document-write-cr.html

[06:24:00.0000] <hsivonen>
Philip`: the last script is followed by CR

[06:24:01.0000] <hsivonen>
Philip`: otherwise the line breaks in the source are LFs

[06:24:02.0000] <Philip`>
/me guesses that's based on http://www.w3.org/QA/2007/06/html5-call-to-web-professionals.html

[06:26:00.0000] <Dashiva>
That page makes my head hurt, annevk

[06:32:00.0000] <Dashiva>
/me wonders what the Functional Ashcan school is

[06:39:00.0000] <Philip`>
Oh, great, IE changes the DOM when access .firstChild on certain elements

[06:44:00.0000] <hsivonen>
Philip`: are the assumptions in my test wrong?

[06:45:00.0000] <Philip`>
hsivonen: You may be assuming that IE is sane :-)

[06:47:00.0000] <Philip`>
/me gives up trying to understand what it's doing

[06:49:00.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cmeta%20http-equiv%3Dx-ua-compatible%20content%3Die%3D8%3E%0A%3Cdiv%20style%3Dwhite-space%3Apre%3Etest%0Atest%3C%2Fdiv%3E%0A%3Cscript%3Ewindow.onload%3Dfunction()%7B%0Avar%20d%20%3D%20document.getElementsByTagName('div')%5B0%5D%3B%0Aw(d.childNodes.length)%0Aw(d.childNodes%5B0%5D.nodeValue.replace(%2F(.)%2Fg%2Cfunction(m)%7Breturn%20m.charCodeAt(0)%2B'%20'%7D))%3B%0AsetTime

[06:49:01.0000] <Philip`>
Urgh

[06:49:02.0000] <Philip`>
http://tinyurl.com/66d3mz

[06:50:00.0000] <Philip`>
In IE8, that logs "1", then "116 101 115 116 32 116 101 115 116", then "2"

[06:50:01.0000] <Philip`>
and the DOM view shows the text being split into two text nodes

[06:50:02.0000] <Philip`>
and if I remove the second w() line then it stays as a single text node

[06:52:00.0000] <Philip`>
But I get different behaviour in my fork of the DOM viewer - it says "13" instead of "32", and "1" instead of "2"

[07:07:00.0000] <jgraham_>
/me guesses someone has been reading too much Joyce or Pynchon

[07:24:00.0000] <annevk>
http://www.theologyonline.com/newgod/

[07:25:00.0000] <Dashiva>
god5?

[07:25:01.0000] <Dashiva>
Oh, 6

[07:25:02.0000] <Dashiva>
Must be Dmitry up to his old tricks again

[07:31:00.0000] <annevk>
I still wonder who did Bible5

[07:31:01.0000] <annevk>
it seems to be copy and pasted all over the place, e.g. http://www.biroblu.info/2007/05/例如-对于后点-现在简化汉字主要通行于中国大陆/

[07:33:00.0000] <annevk>
in other news, that press release is supposed to go out this month, we better hurry up with XML5, SVG5, etc. :D

[07:34:00.0000] <Philip`>
It doesn't matter if we miss the deadline - we can just define Calendar5 at some point in the future, so dates can mean whatever we want them to mean

[07:35:00.0000] <Dashiva>
Or we could just use existing implementations

[07:35:01.0000] <Dashiva>
Valve has a good one, I hear

[07:36:00.0000] <annevk>
must. be. backwards. compatible

[07:36:01.0000] <Dashiva>
Just define everything before Anno Valvensis as "long ago"

[08:18:00.0000] <Dashiva>
I find it amusing that python raises an exception on 'raise', for not being a valid raise statement

[08:52:00.0000] <Philip`>
Dashiva: It is a valid raise statement, as long as it's in the dynamic scope of an except block

[08:52:01.0000] <Dashiva>
Yeah, but not outside

[08:53:00.0000] <Dashiva>
So I say "Give me an exception" and it goes "No, you can't have one. I'm going to make an exception because you did it wrong."

[08:57:00.0000] <Philip`>
It can be valid if it's outside an except block

[08:57:01.0000] <Philip`>
as long as there's another except block which it's still inside :-)

[08:59:00.0000] <Philip`>
Hmm, it appears it always re-throws the most recently thrown exception, rather than actually doing dynamic scoping, which seems kind of like a bug in Python

[10:00:00.0000] <hsivonen>
hmm. when pronouncing WCAG, is the vowel (i vs. e) inserted between W and C freeform or dependent on en-AU, en-GB, en-US, etc.?

[12:03:00.0000] <Lachy>
hsivonen, it's not really dependant on anything like that. It's just the preference of whoever says it

[12:07:00.0000] <hsivonen>
Lachy: ok. (I've now also heard recordings where the vowel varies even away from the e-i space)

[12:14:00.0000] <Lachy>
I've not heard anyone use an e sound. I've heard i, y and uh

[12:15:00.0000] <hsivonen>
Lachy: I used e to denote the way you pronounce it :-)

[12:16:00.0000] <Lachy>
huh? I prounounce it like WhyCAG

[12:17:00.0000] <hsivonen>
hmm. somehow I got an e-like impression from the standards suck episode

[12:17:01.0000] <hsivonen>
well, doesn't matter

[12:19:00.0000] <gsnedders>
I pronounce the WC like the word wick

[12:20:00.0000] <Dashiva>
wickag?

[12:20:01.0000] <gsnedders>
yeah

[12:20:02.0000] <hsivonen>
gsnedders: is the 'i' as in en-US 'list'?

[12:21:00.0000] <gsnedders>
hsivonen: No

[12:21:01.0000] <Dashiva>
I mentally equalize the w in wcag with x in xwhatever, so I would always pronounce it separately

[12:41:00.0000] <gsnedders>
Oh brilliant.

[12:41:01.0000] <gsnedders>
I click the "confirm your purchase" button and nothing happens. yay.

[12:41:02.0000] <Philip`>
I avoid the pronunciation problem by never talking about it

[12:41:03.0000] <gsnedders>
(odd sidenote on that matter: Air France is cheaper than easyjet)

[13:53:00.0000] <Retrieving>
/me #whatwg modes...

[14:58:00.0000] <jgraham_>
Hmm. I wonder if Laura missed my point about the Python process being "unfair" but arguably producing good results because of it


2008-06-08
[18:21:00.0000] <MikeSmith>
jgraham_, annevk: thanks for taking time to reply to Laura

[18:22:00.0000] <Dashiva>
I was reading about Jack Thompson, and then switched to reading www-archive, and suddenly something clicked. :)

[18:24:00.0000] <Hixie>
http://jarvklo.se/ has a number of html5 compliance problems

[18:25:00.0000] <Hixie>
use of <br>, wrong alt="" text in particular

[18:25:01.0000] <Hixie>
(and the use of a table is dubious, but he knows that)

[18:26:00.0000] <Dashiva>
Is implicit start tag + explicit end tag allowed in both HTML4 and HTML5?

[18:26:01.0000] <Hixie>
sure

[18:27:00.0000] <Philip`>
The attempt at defining "conformance" as something other than "validity" seems to have failed, because everyone still thinks conformance is about machine-checkable syntactic validity

[18:27:01.0000] <Dashiva>
Are there any browsers that don't automatically check /favicon.ico? Seems a bit redundant

[18:27:02.0000] <Philip`>
(or at least the author of that page appears to, so that's close enough to "everyone")

[18:29:00.0000] <Philip`>
(Hence, non-machine-checkable conformance criteria are a waste of time, because even someone explicitly intending to write conforming HTML5 ignores them)

[18:31:00.0000] <Dashiva>
I wonder if he's for or against mandatory alt

[18:32:00.0000] <Philip`>
Maybe neither

[18:32:01.0000] <Hixie>
sorry. cat.

[18:32:02.0000] <Dashiva>
No such option. If he isn't for it, he's against it. And also a terrorist. :P

[18:33:00.0000] <Hixie>
Philip`: i disagree. i think many people agree that using <h1> for a paragraph is wrong. (or vice versa)

[18:34:00.0000] <Dashiva>
Anecdote: In introductory IT class, we learned basic HTML. One of my classmates wrote <h1>Headline<h1> \n <h2>First line of text<h2> \n <h2>Second line of text<h2> ...

[18:35:00.0000] <Dashiva>
And it actually worked. Somehow.

[18:36:00.0000] <Hixie>
define "work"

[18:36:01.0000] <Hixie>
i mean the DOM is gonna look horrible.

[18:36:02.0000] <Hixie>
and you won't get a useful outline out of it

[18:38:00.0000] <Dashiva>
Worked as in there was no obvious sign she was doing something horribly wrong

[18:39:00.0000] <Philip`>
Hixie: People also agree that writing pages with spelling mistakes is wrong, but that doesn't mean they think the spec should require correct spelling - things that are 'wrong' in the sense of being a poor quality document don't have to be forbidden by the markup-language spec

[18:40:00.0000] <Dashiva>
So Robert said "Right now our process and procedures are ripe for gaming." -- Am I the only one seeing irony here?

[18:41:00.0000] <Philip`>
Dashiva: He seems to be right, given that the WHATWG process has involved multiple members playing GTA4

[18:42:00.0000] <Hixie>
Philip`: the english spec does require correct spelling, just like unicode requires certain things with respect to characters

[18:42:01.0000] <Hixie>
Philip`: but both of those are out of scope of html itself

[18:43:00.0000] <Hixie>
Philip`: however correct use of html seems in scope of html. :-)

[18:43:01.0000] <Philip`>
Hixie: I think I missed the news when someone wrote a spec for English :-)

[18:43:02.0000] <Hixie>
Dashiva: yeah, the signs of making a mistake for that case are hard to see

[18:43:03.0000] <Hixie>
Philip`: http://ian.hixie.ch/bible/english

[18:45:00.0000] <Philip`>
Hixie: That's a useless spec since there aren't two independent implementations of it yet

[18:46:00.0000] <Hixie>
:-P

[18:48:00.0000] <Dashiva>
en-hixie is like ooxml. It doesn't provide enough information for complete compatability with existing implementations

[18:51:00.0000] <Philip`>
There's not even any definition of error hndlanig bhaivueor

[19:28:00.0000] <takkaria>
Wittgenstein wouldn't be happy if it was defined

[19:30:00.0000] <Hixie>
i am not qualified to define the error handling

[19:30:01.0000] <Hixie>
i understand it's actually a really complicated problem

[19:34:00.0000] <Philip`>
takkaria: Wittgenstein is dead, so it's not like he's going to raise a Formal Objection

[19:36:00.0000] <takkaria>
as we've seen, just because there are no formal objections doesn't mean the spec is good. :)

[19:39:00.0000] <Philip`>
We've also seen that people will be unhappy regardless of whether the spec is good or not, so Wittgenstein's unhappiness would mean nothing

[19:42:00.0000] <takkaria>
k, but my point was mainly that specifying spoken languages is a bad idea

[19:44:00.0000] <Philip`>
I'll admit that deployment is a hard problem

[19:46:00.0000] <takkaria>
it's less of the deployment and more that you would have an infinite regress of specifications

[19:47:00.0000] <takkaria>
because to specify english, you would have to specify it with some other language; and whatever that language is, you'd have to specify that too; and so on

[19:51:00.0000] <Philip`>
If that was true, the same argument would apply to any other specification ever written, since they are all written in a language which would itself need to be specified

[19:56:00.0000] <takkaria>
yes, but if you set out to specify a general language, specifying it in some other general language seems fairly pointless, because that language itself then needs to be defined in some way

[19:58:00.0000] <takkaria>
look at Laura Carlson's replies on www-archive, for instance; she wants to define "broad consensus" and similar terms

[20:00:00.0000] <takkaria>
it doesn't seem to me like you can define that satisfactarily except with other words

[20:01:00.0000] <takkaria>
I think my general point, having thought about it a little more, is that HTML et al. are built on top of natural languages, so using them to define in works, but defining in natural languages has nothing to build on top of

[20:05:00.0000] <Philip`>
Dictionaries seem to be a counterexample, since they define words by using words, and experience shows they are successful at letting people understand words

[20:06:00.0000] <takkaria>
but they don't specify exhaustively in the same way that e.g. HTML5 tries to

[20:06:01.0000] <takkaria>
and a language defined in the language itself is rather self-referential

[20:06:02.0000] <Philip`>
If you read an entire dictionary, I think you will be sufficiently exhausted

[20:11:00.0000] <takkaria>
:)

[22:00:00.0000] <takkaria>
see, it's easier to do that than you think

[05:41:00.0000] <gsnedders>
I probably ought to try and cleanup the markup of http://stuff.gsnedders.com/tri.html

[06:11:00.0000] <jgraham_>
So is it expected that input like 

[06:11:01.0000] <jgraham_>
<!DOCTYPE HTML>

[06:11:02.0000] <jgraham_>
<meta charset=iso8859-2">

[06:11:03.0000] <jgraham_>
will now prescan to a character encoding of iso8859-2?

[06:11:04.0000] <jgraham_>
(this is not the behaviour expected by the html5lib tests but I think it is the right behaviour per spec)

[06:45:00.0000] <jgraham_>
http://james.html5.org/temp/html5lib-0.11.zip rc3 (I think that the issue smedro encountered on the Mac may still be there. I'll see if I can reproduce it)

[07:07:00.0000] <jgraham_>
/me wonders if the issue is related to 2 byte v 4 byte unicode builds of python

[07:56:00.0000] <gsnedders>
/me gets off his lazy ass and starts to write comments on XHR

[08:15:00.0000] <dolphinling_>
hsivonen: When I run an image map through validator.nu, I get "Error: Attribute name not allowed on element map at this point.", looks like bug 243 wasn't fully fixed

[08:36:00.0000] <gsnedders>
/me sends his late LC comments

[13:32:00.0000] <Hixie>
jgraham_: what else would it do?

[14:58:00.0000] <gsnedders>
Am I the only person who dates everything he writes with ISO8601:2004 Basic Form dates?

[14:59:00.0000] <takkaria>
I suspect not

[15:00:00.0000] <gsnedders>
It's fun confusing teachers

[15:03:00.0000] <Philip`>
/me wonders what ISO8601:2004 Basic Form dates are, since Google finds Web Forms 2.0 and not much else

[15:03:01.0000] <gsnedders>
Philip`: 20080608

[15:03:02.0000] <takkaria>
I actually tend to use dashes to seperate elements

[15:04:00.0000] <gsnedders>
takkaria: That's the extended form, and that confuses teachers less, and thus loses half the fun

[15:04:01.0000] <Philip`>
gsnedders: Ah - that does seem needlessly obscure in real life :-p

[15:04:02.0000] <gsnedders>
Philip`: Well, I use it for almost everything, so I'm perfectly used to it :P

[15:04:03.0000] <Philip`>
Why not just write dates as seconds since 1970, if you don't want normal people to understand you?

[15:05:00.0000] <gsnedders>
Philip`: Because I can't write dates as seconds since the UNIX epoch off the top of my head.

[15:05:01.0000] <gsnedders>
Philip`: ISO8601 basic form dates are perfectly simple to write

[15:05:02.0000] <gsnedders>
(and read)

[15:08:00.0000] <jgraham_>
Hixie: It used to give a different answer because there wasn't a requirement to strip punctuation when determining the encoding. But I think I've done the right thing now

[15:09:00.0000] <jgraham_>
/me just doesn't like changing testcases without checking that the change is right

[15:11:00.0000] <jgraham_>
Philip`: Why not use seconds since January 1st 1992, to exclude both normal people and people who can convert unix dates to something more convenient easily 

[15:12:00.0000] <jgraham_>
smedero: Thanks for testing html5lib

[15:12:01.0000] <smedero>
sure, I see you've got a new build from the logs...

[15:12:02.0000] <gsnedders>
jgraham_: If I'm going for '92, why not 1992-04-20T3:20+01?

[15:13:00.0000] <Philip`>
Just write "Today" as the date, and then nobody at all will be able to work out what you mean

[15:13:01.0000] <jgraham_>
gsnedders: Because I don't know when you were born to the nearest minute, hence preventing me using the zero point I wanted to

[15:14:00.0000] <gsnedders>
Philip`: That's useless for me as well as everyone else, and therefore doesn't meet the needed criteria (a) I can read and write it without any assistance apart from knowing the calendar date and year; 2) It confuses people apart from myself)

[15:14:01.0000] <gsnedders>
jgraham_: Well, now you do know.

[15:15:00.0000] <jgraham_>
gsnedders: I guess what I really meant was "Why not measure time from 0, like I do" :)

[15:16:00.0000] <Philip`>
gsnedders: Use a perfect one-way hash function - keep something like a diary with a list of date <-> uid mappings, and when you need to encode a date you can see if it's already in the list else generate a new uid, and to decode a date you just do a uid lookup

[15:16:01.0000] <jgraham_>
smedero: I'm inclined to just release html5lib with that as a known issue if there's nothing else wrong with it

[15:16:02.0000] <gsnedders>
jgraham_: But when does time begin in my mind? When I was conceived? When I have conscious thought? When I can remember stuff now?

[15:16:03.0000] <smedero>
jgraham_: With html5lib 0.11 rc3 I'm getting the same test error that I emailed you. 

[15:17:00.0000] <gsnedders>
Philip`: That means carrying around the lookup table everywhere, which isn't overly practical

[15:17:01.0000] <smedero>
Unit testing aside, it works as expected doing a quick little bit of parsing with lxml

[15:17:02.0000] <jgraham_>
smedero: Yeah, I can reproduce it on Mac too. I guess it might depend on how the unicode support in python was compiled

[15:18:00.0000] <smedero>
I used to have a number of known unicode offending sites at my fingertips that I would have thrown at it...  but I no longer work at the Linguistic Data Consortium. So digging up some test cases is going to require a little email mining. 

[15:19:00.0000] <gsnedders>
smedero: uniicode offending in what way?

[15:19:01.0000] <smedero>
oooh

[15:19:02.0000] <gsnedders>
*unicode

[15:19:03.0000] <smedero>
there's some really fun chinese news websites

[15:20:00.0000] <smedero>
things like the bbc arabic news site tend to be pretty sane

[15:21:00.0000] <gsnedders>
smedero: http://www.cl.cam.ac.uk/~mgk25/ucs/examples/UTF-8-test.txt — wrap that in pre!

[15:21:01.0000] <smedero>
ooh, nice. is this what you use to test simplepie?

[15:21:02.0000] <gsnedders>
smedero: No

[15:22:00.0000] <gsnedders>
smedero: SP badly needs more tests :P

[15:22:01.0000] <gsnedders>
(fun of SP2: starting from scratch means I can require far stricter things to get code into the repo, like having full test case coverage)

[15:24:00.0000] <gsnedders>
smedero: I use it to test my Unicode class, though

[15:24:01.0000] <smedero>
Yeah I've made good use of that.

[15:25:00.0000] <gsnedders>
smedero: What? My Unicode class?

[15:25:01.0000] <gsnedders>
smedero: Starting from scratch?

[15:27:00.0000] <gsnedders>
(if the former, you mean somebody actually uses it already? wow.)

[16:28:00.0000] <smedero>
gsnedders: Your unicode class. I tried using 0.1 at one point and ran into some problems. Shortly before I left LDC I was using the 0.2 version in a couple of projects: generic web-based annotation tool (handled bengali, tamil, & arabic unicode data while I was there... not sure what else) and an arabic reading tool - we took the georgetown press arabic college textbooks and enhanced all of the reading passages with morphological information fo

[16:28:01.0000] <smedero>
in theory they'll be open-sourced someday, but I'm not working on them anymore. if that happens though, i'll drop you a line.


2008-06-09
[01:52:00.0000] <Molly>
hey guys

[01:53:00.0000] <MikeSmith>
Molly: hei

[01:53:01.0000] <Molly>
MikeSmith how goes it?

[01:53:02.0000] <MikeSmith>
swimmingly

[01:54:00.0000] <MikeSmith>
good to see that you finally decided to join the cabal

[01:54:01.0000] <othermaciej>
hi Molly 

[01:54:02.0000] <Molly>
glad to hear it. Hahaha, which cabal would that be? (I've joined so many) ;)

[01:54:03.0000] <othermaciej>
hello MikeSmith 

[01:54:04.0000] <MikeSmith>
othermaciej: greetings

[01:57:00.0000] <Molly>
/me just comes by from time to be annoying

[02:43:00.0000] <bzed>
jgraham_: this is just another status ping :) I want to update html5lib in debian within the next two weeks

[02:45:00.0000] <jgraham_>
bzed: http://james.html5.org/temp/html5lib-0.11.zip Have a go with that and see if it works. There seems to be one test faliure on some platforms which I think is not important enough to block the release on but I'm interested to know if you see it

[02:47:00.0000] <bzed>
jgraham_: will upload it to experimental and see what happens :)

[04:20:00.0000] <bzed>
jgraham_: which architectures should I run the tests on?

[04:32:00.0000] <hdh>
I'm on 386, and there's one test failing

[04:33:00.0000] <Philip`>
/me suggests upgrading to at least a Pentium

[04:34:00.0000] <hdh>
x86 :P

[04:36:00.0000] <Philip`>
hdh: Which test is it?

[04:37:00.0000] <hdh>
test_core_4, u'<span title=foo=bar>' != u'<span title="foo=bar">'

[04:38:00.0000] <Philip`>
Oh - that was broken in SVN when I last looked, but it worked in jgraham_'s previous release candidate so I assumed he'd fixed it

[04:39:00.0000] <Philip`>
(The test is incorrect, I believe)

[04:39:01.0000] <hdh>
wait, I'm using r1170, sorry

[04:40:00.0000] <Philip`>
Ah, right

[04:41:00.0000] <hdh>
the zip file is okay here

[06:15:00.0000] <zcorpan>
Hixie: should HTMLSourceElement be a public interface?

[06:21:00.0000] <annevk>
window.HTMLSourceElement should exist, yes

[06:34:00.0000] <zcorpan>
because? all interfaces defined in html5 should exist? is there a rule?

[06:36:00.0000] <hsivonen>
(hopefully they should exist only if the functionality of the element is implemented, too)

[06:36:01.0000] <annevk>
my personal rule is that it should be exposed if it identifies something unique. if it's just an additional interface implemented by some existing object it might be better if it's not (such as HTMLDocument which is just Document)

[06:36:02.0000] <annevk>
hsivonen, :p

[06:37:00.0000] <annevk>
/me thinks hsivonen is saying this because Opera has builds without <source> support, not as a general principle

[06:47:00.0000] <hsivonen>
as a general principle, I think it's helpful if interface sniffing means feature sniffing

[07:57:00.0000] <hsivonen>
dolphinling_: thanks. Name on map half-fixed now.

[08:04:00.0000] <annevk>
"But if you are maintaining well-formedness, and you feel like being pedantic, then serve application/xhtml+xml to Mozilla and text/html to IE. Nothing significant breaks."

[08:04:01.0000] <annevk>
-- http://cafe.elharo.com/web/refactoring-html/why-xhtml/#comment-236665

[08:04:02.0000] <annevk>
lolz

[08:07:00.0000] <annevk>
http://css.dzone.com/news/html5-alternative-text-and-aut :/

[08:07:01.0000] <Dashiiva>
What is this advantage of xhtml he speaks of, especially when served as text/html?

[08:07:02.0000] <annevk>
"I suspect the real issue is that some members of the HTML5 working group want authoring tools to conform to HTML5 so they can demonstrate how successful HTML5 is"

[08:08:00.0000] <annevk>
right...

[08:10:00.0000] <Philip`>
Many application/xhtml+xml sites seem to be blogs, so it's true that even if they totally break, nothing significant breaks ;-)

[08:10:01.0000] <Dashiiva>
s/demonstrate/improve/

[08:11:00.0000] <Dashiiva>
Ho. Even two stars is "okay" by that ranking. Not a lot of room for criticism :)

[08:12:00.0000] <hsivonen>
Dashiiva: I suppose the advantage is that you can parse application/xhtml+xml with stuff with JDK libraries without an additional jar

[08:12:01.0000] <hsivonen>
s/with stuff /

[08:12:02.0000] <hsivonen>
umm. I meant:

[08:13:00.0000] <hsivonen>
the advantage is that if you are trying to parse text/html with JDK Xerces, it doesn't throw if you happen to be lucky enough to have gotten a stream that is actually well-formed

[08:13:01.0000] <hsivonen>
(unlikely)

[08:13:02.0000] <Dashiiva>
Does Xerces throw if there's no xmlns?

[08:14:00.0000] <hsivonen>
no, IIRC

[08:14:01.0000] <Dashiiva>
So nice & pretty HTML could work just as well?

[08:14:02.0000] <hsivonen>
then the elements just aren't in a namespace an code that expects XHTML doesn't treat the stuff as XML

[08:14:03.0000] <hsivonen>
as XHTML

[08:14:04.0000] <hsivonen>
typo++

[08:15:00.0000] <hsivonen>
due to Namespaces, nice and pretty HTML with Xerces would be much worse than nice & pretty HTML with the V.nu parser or TagSoup

[09:11:00.0000] <Philip`>
"We are busy updating the store for you and will be back shortly." - is Apple really so incompetent at web development that they can't update their web site without locking out all their potential customers for half a day? Even if the whole site was static files being FTPed up over a dialup link, it shouldn't be as bad as it is

[09:15:00.0000] <smedero>
http://cafe.elharo.com/web/refactoring-html/why-xhtml/#comment-236724

[09:16:00.0000] <smedero>
"And I repeat: that this page is served as text/html does not mean it is not XHTML. It is XHTML because it is well-formed markup in the correct namespace. Except for one funky bit that’s pulled in by one of the ads, it’s even valid."

[09:16:01.0000] <smedero>
lol. 

[09:17:00.0000] <hsivonen>
that kind of XHTML advocacy is at least 5 years late

[09:17:01.0000] <gsnedders>
hsivonen: More than five.

[09:17:02.0000] <smedero>
oh yeah, I agree.

[09:17:03.0000] <smedero>
I was looking to preach to the choir... I just couldn't get over that comment.

[09:17:04.0000] <smedero>
s/was/wasn't/

[09:43:00.0000] <zcorpan>
hmm, would this be feasable: when following a <blockquote cite> reference, the browser scrolls into view on the quoted text

[09:43:01.0000] <zcorpan>
perhaps replacing <ins> elements with wildcards

[09:44:00.0000] <zcorpan>
and ignoring <credit> elements

[09:45:00.0000] <zcorpan>
(s/<blockquote cite>/<blockquote><credit><a href>/

[09:47:00.0000] <zcorpan>
that would be nicer than having authors write #xpointer()s

[10:37:00.0000] <zcorpan>
/me files a meta bug to microsoft that they should fix everything in http://simon.html5.org/test/ie7b2-bugs/

[10:40:00.0000] <hoopy>
hello!

[10:42:00.0000] <annevk>
hi

[12:31:00.0000] <hoopy>
hello

[13:32:00.0000] <annevk>
http://lists.w3.org/Archives/Public/ietf-http-wg/2008AprJun/0517.html

[13:42:00.0000] <hsivonen>
I suppose I should try to get .iki.fi listed

[14:09:00.0000] <virtuelv>
hsivonen: http://my.opera.com/dragonfly/blog/2008/06/09/the-debug-menu-and-the-new-weekly <-- now links to validator.nu

[14:10:00.0000] <hsivonen>
virtuelv: cool.

[14:10:01.0000] <virtuelv>
links to = you can perform validation directly from the menu

[14:10:02.0000] <hsivonen>
virtuelv: does it obsolete http://bugzilla.validator.nu/show_bug.cgi?id=16 ?

[14:12:00.0000] <virtuelv>
hsivonen: imo, that bug has always been invalid

[14:12:01.0000] <virtuelv>
err, no, i'm talking out of my ass

[14:12:02.0000] <virtuelv>
but yes, I think so

[14:12:03.0000] <virtuelv>
install the latest weekly, install the menu and try

[14:12:04.0000] <hsivonen>
ok

[14:12:05.0000] <virtuelv>
it has an item for validating by url

[14:13:00.0000] <virtuelv>
so you can't validate by upload yet

[15:17:00.0000] <hendry>
virtuelv: wonder if we can fit in dragonfly under http://wiki.whatwg.org/wiki/IDE ?

[15:31:00.0000] <anne-olpc>
yay, works!

[15:32:00.0000] <anne-olpc>
seems that the system time is still in some US timezone :)

[15:38:00.0000] <jgraham_>
Some people get all the fun toys :)

[15:39:00.0000] <jgraham_>
/me wonders if anyone will step up to give Ruby html5lib some love

[15:39:01.0000] <jgraham_>
bzed: Any arch you have access to is good to test :)


2008-06-11
[01:46:00.0000] <annevk>
hmm, e-mails from the geolocation list are detected as spam

[02:21:00.0000] <MikeSmith>
annevk: do those geolocation e-mails have some header added (be spamassassin or whatever) to indicate why they are getting flagged?

[02:22:00.0000] <annevk>
haven't checked

[03:05:00.0000] <zcorpan>
hsivonen: i see you've changed the preset names to include "HTML", which is good

[03:05:01.0000] <zcorpan>
hsivonen: but the message still says "Info: HTML 4.01 Transitional doctype seen. Using the schema for XHTML 1.0 Transitional." which is confusing

[03:06:00.0000] <hsivonen>
oh. I guess I've forgotten where all the strings are

[03:06:01.0000] <hsivonen>
zcorpan: thanks

[03:14:00.0000] <zcorpan>
hsivonen: xmlns doesn't cause an error under an html4 doctype

[03:14:01.0000] <zcorpan>
/me files a bug

[03:15:00.0000] <zcorpan>
in fact <br/> doesn't either

[03:35:00.0000] <hsivonen>
hmm. <br/> is a regression from when the spec moved /> checking to the tree builder

[03:52:00.0000] <hsivonen>
zcorpan: the info messages now pull the UI strings from the same place as the preset popup. thanks

[05:06:00.0000] <Hixie>
man i sure haven't been doing a good job of getting these numbers down recently

[05:10:00.0000] <hsivonen>
hmm. I've managed to miss keygen from my list of element names

[05:29:00.0000] <annevk>
/me would like to see <keygen> specified one day; hasn't figured out how it works

[05:30:00.0000] <Lachy>
there must be someone who understands how keygen works, since it's been implemented in a few browsers already.

[05:33:00.0000] <annevk>
reported in Nov 2005 by Hallvord: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2005-November/005092.html

[05:33:01.0000] <annevk>
the specification that everyone uses: http://wp.netscape.com/eng/security/comm4-keygen.html

[05:35:00.0000] <annevk>
it would actually be interesting to know what is not detailed enough about that

[05:35:01.0000] <annevk>
(well, it seems that spec-like requirements can be inferred from the text easily enough)

[05:39:00.0000] <Lachy>
I understand how the key is generated and submitted. But I don't understand how to make use of the key in responses.

[07:52:00.0000] <zcorpan>
hmm, webkit parses <video> as a block-level element it seems

[07:54:00.0000] <zcorpan>
http://simon.html5.org/test/html/parsing/video/008.htm

[07:57:00.0000] <annevk>
maybe similar to <object> ?

[08:03:00.0000] <zcorpan>
no, similar to <div>

[08:03:01.0000] <zcorpan>
object is scoped and doesn't do aaa

[08:03:02.0000] <annevk>
<p><video> ?

[08:04:00.0000] <zcorpan>
good point

[08:04:01.0000] <annevk>
sounds like a bug to me anyway

[08:05:00.0000] <zcorpan>
similar to <b> i guess

[08:05:01.0000] <zcorpan>
uh no not that eiether

[08:05:02.0000] <zcorpan>
either

[08:50:00.0000] <zcorpan>
Hixie: "Still need to add these new elements to the lists: event-source, section, nav, article, aside, header, footer, datagrid, command"

[08:52:00.0000] <annevk>
zcorpan, that happened, no?

[08:52:01.0000] <zcorpan>
annevk: i quoted from the spec

[08:52:02.0000] <zcorpan>
they should all go in the Special category, i think

[09:56:00.0000] <gsnedders>
Time to try and implement 3.7.10.1 Creating an outline

[10:28:00.0000] <gsnedders>
Hixie: s/which which/with which/

[10:40:00.0000] <hsivonen>
Hixie: do you have test cases for MathML-in-text/html and SVG-in-text/html

[10:40:01.0000] <hsivonen>
?

[15:18:00.0000] <gsnedders>
/me joins #whatwg-emo

[16:04:00.0000] <Dashiva>
gsnedders: #emo-wg seems like a better bet

[16:15:00.0000] <hober>
Dashiva: what would such a WG's deliverables be?

[16:16:00.0000] <Dashiva>
The emo specification, for one. I see lots of uses for MUST and SHOULD in correct behavior designation :)

[16:19:00.0000] <gsnedders>
Dashiva: Emos SHOULD be bisexual. Emos SHOULD self-harm. Emos SHOULD wear black. Emos SHOULD listen to depressing music.

[16:20:00.0000] <gsnedders>
(regarding the first of those, according to a friend of mine (jokingly, though): "Bisexuals are people who are desperate")

[16:21:00.0000] <Dashiva>
I'd say the last one is a MUST.

[16:22:00.0000] <Dashiva>
/me adds a "/me MUST go to sleep" to that list.

[16:22:01.0000] <jgraham_>
You should do proper research e.g. http://www.google.com/search?q=emos%20SHOULD

[16:25:00.0000] <jgraham_>
The last result on page 2 is particularly nasty: "emos SHOULD just kill themselves". Having a spec with that in seems to be a bad idea though

[16:30:00.0000] <jgraham_>
gsnedders: FWIW I think I had exactly the same issue as you about the dual meanings of the word "section" in the outline spec

[16:37:00.0000] <jgraham_>
gsnedders: I _think_ you should end up with a different outline for each outline root element and I _think_ that if you feed the document root in, you should be able to construct a set of all outlines in a single pass of the algorithm (but that is from reading my code, not the spec)


2008-06-12
[17:53:00.0000] <Philip`>
/me finds half a dozen XSS vulnerabilities in cam.ac.uk pages

[17:54:00.0000] <Philip`>
(I'm surprised that most (i.e. more than 50%, though not a lot more) actually escaped their output correctly)

[17:54:01.0000] <Philip`>
*most forms

[18:06:00.0000] <dbaron>
So, a canvas text question:  http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas.html#font has wording for em, ex, larger, smaller, bolder, lighter, etc. that is relative to computed values on the canvas element.  If the canvas element isn't currently in the document, what computed values should be used?

[18:07:00.0000] <dbaron>
(We have an intern implementing this who wants to know... :-)

[18:08:00.0000] <Philip`>
dbaron: "If the computed values are undefined for a particular case (e.g. because the canvas element is not in a document), then the relative keywords must be interpreted relative to the normal-weight 10px sans-serif default."

[18:08:01.0000] <dbaron>
oh, right

[18:08:02.0000] <dbaron>
ok

[18:08:03.0000] <Philip`>
( http://html5.org/tools/web-apps-tracker?from=1733&to=1734 )

[18:08:04.0000] <Philip`>
(which was a couple of days ago)

[18:52:00.0000] <Philip`>
Ooh, success - a week after I complained, the IE8 Tech Beta newsletter got republished as PDF instead of OOXML

[18:55:00.0000] <Hixie>
oops

[18:55:01.0000] <Hixie>
my mail client stuck a ***DHSPAM*** marker on the last mail i sent

[18:55:02.0000] <Hixie>
i hope dave doesn't take offence

[19:46:00.0000] <dbaron>
Hmmm.  So the changes annevk made in the editor's draft of css3-mediaqueries require failing the Acid3 media queries test.

[19:46:01.0000] <dbaron>
I think I preferred it the old way, too.

[19:47:00.0000] <othermaciej>
what are the changes?

[19:47:01.0000] <dbaron>
it's the question of whether "not all and (bogus)" should match

[19:47:02.0000] <dbaron>
the spec changed to say the query should be ignored

[19:47:03.0000] <othermaciej>
I see

[19:47:04.0000] <othermaciej>
but that breaks the logic of not, kind of

[19:47:05.0000] <dbaron>
whereas before unknown features always failed

[19:47:06.0000] <othermaciej>
the new way you describe seems less future-compatible

[19:48:00.0000] <dbaron>
probably, yeah

[19:48:01.0000] <dbaron>
I just won an argument with anne about a similar case for the media type part.

[19:48:02.0000] <dbaron>
But I hadn't noticed it had also changed for features.

[19:48:03.0000] <dbaron>
Or maybe I noticed but didn't realize it was a change.

[19:48:04.0000] <dbaron>
or something

[19:50:00.0000] <dbaron>
of course, i wrote a bunch of other tests now that depend on anne's way

[19:50:01.0000] <dbaron>
hooray for self-contradictory sets of regression tests

[21:30:00.0000] <Hixie>
so uh

[21:31:00.0000] <Hixie>
anyone remarked yet on the ultimate irony of sunava posting a link to an attachment on his internal corp e-mail as his feedback?

[21:31:01.0000] <roc>
you're tempting me to subscribe to public-html

[21:31:02.0000] <Hixie>
this was on public-webapps

[21:31:03.0000] <Hixie>
the new public-webapi / public-appformats list

[21:32:00.0000] <dbaron>
is that a working link or a requires-auth link?

[21:33:00.0000] <Hixie>
requires auth

[21:33:01.0000] <Hixie>
if one was cynical one could see this as yet another stalling tactic (they promised the feedback last november originally), but i honestly think in this case he just made a mistake

[21:33:02.0000] <dbaron>
I'm cynical.

[21:34:00.0000] <Hixie>
aha, he posted a new link

[21:34:01.0000] <Hixie>
http://code.msdn.microsoft.com/xdsecuritywp

[21:34:02.0000] <Hixie>
requires agreeing to a license

[21:34:03.0000] <dbaron>
read it carefully

[21:34:04.0000] <Hixie>
oooh, the license grants us their patents

[21:35:00.0000] <dbaron>
save a copy, then

[21:35:01.0000] <Hixie>
i ain't agreeing to it

[21:35:02.0000] <Hixie>
i'll ask him to forward the paper without the license

[21:35:03.0000] <dbaron>
/me heads home

[04:47:00.0000] <Hixie>
MikeSmith: see the bottom of the message i just sent

[04:47:01.0000] <Hixie>
nn

[04:48:00.0000] <MikeSmith>
Hixie: will do

[04:48:01.0000] <MikeSmith>
'night

[06:29:00.0000] <zcorpan>
hmm, shouldn't <video controls> be considered interactive for the purposes of content models?

[06:29:01.0000] <zcorpan>
should user events on the native controls interface be eaten or not?

[06:30:00.0000] <roc>
they shouldn't be visible to content

[06:30:01.0000] <zcorpan>
makes sense

[09:18:00.0000] <zcorpan>
what should happen if you try to do HTMLMediaElement.empty = 42; or HTMLMediaElement.prototype.EMPTY = 42; ?

[09:20:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cscript%3E%20Node.ELEMENT_NODE%20%3D%2042%3B%20w(Node.ELEMENT_NODE)%20%3C%2Fscript%3E

[09:20:01.0000] <zcorpan>
opera and firefox say 42, safari says 1

[09:24:00.0000] <annevk>
42 is obviously the correct answer

[09:24:01.0000] <annevk>
oh wait, that's what you set it to yourself

[09:24:02.0000] <annevk>
:)

[09:25:00.0000] <zcorpan>
i'd expected an exception to be thrown

[09:25:01.0000] <zcorpan>
same as readonly attributes

[09:25:02.0000] <zcorpan>
does webidl say?

[09:27:00.0000] <annevk>
i guess it should

[09:27:01.0000] <annevk>
setting .empty diretly shouldn't work though, I think

[09:28:00.0000] <zcorpan>
um, i meant .EMPTY

[09:29:00.0000] <zcorpan>
but why shouldn't it work?

[09:29:01.0000] <annevk>
.empty sounded readonly

[09:29:02.0000] <annevk>
.EMPTY is different :)

[09:30:00.0000] <annevk>
I guess WebIDL should say what happens when setting constants

[09:30:01.0000] <zcorpan>
there's no .empty on HTMLMediaElement

[09:30:02.0000] <annevk>
meh

[09:31:00.0000] <zcorpan>
web idl is public-webapps right

[09:32:00.0000] <annevk>
yeah

[09:53:00.0000] <zcorpan>
does ie support some constant in the dom?

[09:56:00.0000] <annevk>
I don't think so

[09:58:00.0000] <Philip`>
http://www.opera.com/docs/changelogs/linux/950/ - "Canvas.getImageData and Canvas.putImageData methods, including support for creating an ImageData object using the ImageData interface" - too bad it's a totally non-standard way of creating ImageData objects, and the standard way is not supported

[10:04:00.0000] <Philip`>
"xml tags within HTML documents are now given a documentElement attribute." - I don't see that...

[10:13:00.0000] <annevk>
Philip`, yeah, we should probably mention that

[10:15:00.0000] <Philip`>
(Also the path transformation thing is not fixed)

[10:19:00.0000] <Philip`>
(Also, there's a security bug)

[10:20:00.0000] <annevk>
bugs.opera.com/wizard

[10:22:00.0000] <annevk>
and :/

[10:49:00.0000] <Philip`>
(annevk: https://bugs.opera.com/show_bug.cgi?id=337562)

[11:19:00.0000] <Philip`>
(I suppose it's not a particularly severe problem, since it reveals at most four bytes of memory, but it's the principle that matters)

[13:15:00.0000] <hsivonen>
/me is now curious about garbage collecting the XHR document

[14:03:00.0000] <gsnedders>
/me blames Hixie for making the spec so unclear

[14:03:01.0000] <Hixie>
well that's not one i can easily duck the blame on

[14:04:00.0000] <Hixie>
you know, all these people complaining about how xhr depends on html5 bring up a very good point

[14:04:01.0000] <gsnedders>
That HTML 5 should suck less?

[14:04:02.0000] <gsnedders>
:P

[14:04:03.0000] <gsnedders>
"Let candidate section be the section that contains the previous candidate section in the outline of current outlinee." — if it's the first time we're running that, _what_ previous candidate section?

[14:04:04.0000] <Hixie>
well no, it's just that if the people who want html5 split out for what they want, we'd just have a massive tangle of interdependent specs

[14:05:00.0000] <Hixie>
gsnedders: um

[14:05:01.0000] <gsnedders>
Hixie: Hey, you wrote that! :P

[14:05:02.0000] <Hixie>
i know, i know

[14:05:03.0000] <Hixie>
and this is the simplified version :-/

[14:06:00.0000] <gsnedders>
/me wonders whether to be an asshole and just implement something HTML 4 like for TOC construction :P

[14:09:00.0000] <Hixie>
so would <body><h1> be a case where you hit that?

[14:09:01.0000] <gsnedders>
I haven't thought about how you'd hit it yet :P

[14:11:00.0000] <gsnedders>
Hixie: No, you wouldn't hit that

[14:11:01.0000] <Hixie>
<body><h1><h2>?

[14:11:02.0000] <gsnedders>
Hixie: You'd hit "If the current section has no heading, let the element being entered be the heading for the current section."

[14:11:03.0000] <gsnedders>
Hixie: That has an implied </h1>, right?

[14:11:04.0000] <Hixie>
yeah

[14:11:05.0000] <Hixie>
i don't see how you can hit this clause without a previous section

[14:12:00.0000] <gsnedders>
what's the previous candidate section though?

[14:13:00.0000] <Hixie>
the value of "candidate section" when you entered that step

[14:13:01.0000] <gsnedders>
Hixie: Huh?

[14:14:00.0000] <gsnedders>
Hixie: We don't change candidate section until then, so, what? The section before candidate section in the current outline?

[14:14:01.0000] <Hixie>
it's doing candidate section = outline of current outlinee . getSectonThatContains(candidate section)

[14:14:02.0000] <gsnedders>
OK.

[14:14:03.0000] <Hixie>
i'll rephrae it

[14:14:04.0000] <gsnedders>
please do

[14:15:00.0000] <gsnedders>
/me has no getSectonThatContains, hmm

[14:15:01.0000] <Hixie>
the only way you can hit this i think is <body><h1/><h2/><h2/>

[14:16:00.0000] <gsnedders>
Which _is_ kinda common :)

[14:16:01.0000] <Hixie>
while processing the second <h2>; and it'll get hit when candidate section is the section for the first <h2/>

[14:16:02.0000] <Hixie>
in which case you can always go up to the <h1>'s section

[14:16:03.0000] <gsnedders>
Yeah, right.

[14:16:04.0000] <gsnedders>
/me stops being confused

[14:17:00.0000] <Hixie>
it'll always work because the one case where it would fail is handled as the first "Otherwise" for heading content (before this sublist)

[14:17:01.0000] <gsnedders>
Yeah.

[14:17:02.0000] <Hixie>
clarification deployed

[14:17:03.0000] <gsnedders>
/me reloads

[14:18:00.0000] <gsnedders>
Yeah, that's clearer

[14:44:00.0000] <Hixie>
annevk: one way to sidestep a number of the problems w.r.t. the document becoming null (the issue relating to garbage collection for xhr) would simply be to say that the object in question can't be garbage collected while there's a reference to it from xhr.

[14:47:00.0000] <Hixie>
anyone need a dreamhost invitation code btw?

[14:48:00.0000] <krijn>
Not me

[14:48:01.0000] <krijn>
Add it to the issue tracker :)

[14:48:02.0000] <Hixie>
heh

[14:48:03.0000] <krijn>
If you know which, of course

[14:49:00.0000] <Hixie>
gsnedders: i added a bunch of xrefs in the outline section

[14:49:01.0000] <Hixie>
and an example

[14:49:02.0000] <gsnedders>
Hixie: thx

[14:51:00.0000] <gsnedders>
Hixie: How about something crazy like <body><section><h1>foo</h1></section><h1>Place me as a heading of the body, plz?

[14:51:01.0000] <Hixie>
what about it?

[14:51:02.0000] <gsnedders>
Hixie: A crazier example, that proves you can't just build a TOC sequentially (:()

[14:53:00.0000] <Hixie>
you can still do it in one pass

[14:53:01.0000] <Hixie>
you just have to buffer the outline of a section until you get its header

[14:54:00.0000] <Hixie>
it's far better style generally to create a data structure and then serialise it

[14:54:01.0000] <Hixie>
than it is to try and do it all at once

[14:54:02.0000] <Hixie>
especially in these days of ample ram

[14:56:00.0000] <gsnedders>
Hixie: Yeah, that's what I'm doing

[15:59:00.0000] <Philip`>
/me thanks the TV Licensing people, since he can't remember his house number or postcode but fortunately it's written on the front of a letter they sent some time last year (presumably demanding that it is highly illegal to not have a TV license (and clearly unthinkable to not have a TV) though I can't be sure since I haven't bothered opening the letter yet)

[16:23:00.0000] <Hixie>
dbaron: i can make it static

[16:23:01.0000] <dbaron>
Hixie, was it either before?

[16:23:02.0000] <Hixie>
dbaron: do you have the same request regarding 'currentColor' in the various places where that can be set?

[16:23:03.0000] <Hixie>
it was underdefined before

[16:23:04.0000] <dbaron>
for canvas colors?

[16:23:05.0000] <Hixie>
i hadn't really thought about it :-)

[16:23:06.0000] <Hixie>
yeah

[16:23:07.0000] <dbaron>
yeah, the same concerns would apply

[16:23:08.0000] <Hixie>
right-o

[16:24:00.0000] <Hixie>
will fix shortly, you can assume both will be static unless someone disagrees with your e-mail and gives a good reason why it should be dynamic

[16:25:00.0000] <dbaron>
FWIW, it's actually one of our interns (Eric Butler) working on this (this being fixing canvas text bugs).

[16:26:00.0000] <Philip`>
Seems a bit weird that ctx.font=ctx.font wouldn't be idempotent

[16:26:01.0000] <Philip`>
Uh

[16:26:02.0000] <Hixie>
dbaron: cool

[16:26:03.0000] <Philip`>
I don't mean idempotent

[16:26:04.0000] <Philip`>
I just mean it'd be a bit weird that it could have an effect

[16:26:05.0000] <dbaron>
we could make it live

[16:27:00.0000] <dbaron>
Though in some cases it could be a good bit of work for each text-drawing operation

[16:27:01.0000] <Hixie>
live seems complicated and bug prone to me, but i agree that setting something to itself having an effect is something i've tried to avoid before

[16:27:02.0000] <dbaron>
particurlarly if the canvas is deeply nested inside something that's display:none

[16:27:03.0000] <Philip`>
(but canvas.width=canvas.width already has a significant effect (clearing the canvas), so it wouldn't be any worse than that)

[16:27:04.0000] <Hixie>
yeah

[16:28:00.0000] <dbaron>
who else implements this part of the canvas text stuff?

[16:28:01.0000] <Philip`>
dbaron: Nobody

[16:29:00.0000] <Hixie>
it's very new

[16:29:01.0000] <Hixie>
i'm not aware of any implementations

[16:38:00.0000] <Hixie>
Lachy: you probably want to change the abstract for your draft

[16:39:00.0000] <Hixie>
er, the intro, i mean

[16:39:01.0000] <Hixie>
actually nm.

[16:39:02.0000] <Hixie>
i'm on crack,.

[16:40:00.0000] <Hixie>
re your namespaces section, the xml: prefix example is misleading since you never have to declare that prefix anyway


2008-06-13
[17:00:00.0000] <Hixie>
should we reset the origin-clean flag on canvas when the canvas is reset by changing its dimensions?

[17:00:01.0000] <Philip`>
That seems pointless, and introduces more risk of security bugs, and is incompatible with current implementations

[17:01:00.0000] <roc>
it's incompatible in a clean way though

[17:01:01.0000] <Philip`>
But it's still incompatible :-)

[17:01:02.0000] <roc>
can't see any security issues

[17:02:00.0000] <roc>
every feature we add is incompatible with code that expects it to not work

[17:02:01.0000] <Philip`>
It would be a security issue if you somehow failed to entirely clear the canvas when resizing it

[17:02:02.0000] <roc>
it does seem slightly pointless

[17:02:03.0000] <Hixie>
ok i won't bother clearing it

[17:03:00.0000] <Philip`>
which doesn't seem implausible, given how all implementations have occasionally failed to handle bitmap buffers correctly

[17:03:01.0000] <Philip`>
s/correctly/without reading out of bounds/

[17:07:00.0000] <Hixie>
i'm amused at how one person is posting feedback to whatwg with links to the w3c version and another is posting feedback to the w3c list with links to the whatwg version

[17:10:00.0000] <roc>
wasn't there a discussion about allowing canvas.drawImage to draw any element? or was it just SVG elements?

[17:10:01.0000] <Philip`>
roc: Opera lets drawImage draw SVG

[17:10:02.0000] <roc>
yeah I know

[17:10:03.0000] <Philip`>
/me can't remember whether that's SVG images or SVG elements, though

[17:11:00.0000] <roc>
I think it's SVG elements

[17:11:01.0000] <roc>
which actually lets you draw *anything* thanks to foreignObject

[17:11:02.0000] <Philip`>
There was some discussion about that, and also there was discussion about a drawElement (or something) for drawing elements

[17:11:03.0000] <roc>
on the whatwg list?

[17:12:00.0000] <Philip`>
http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2008-May/014683.html refers to some mentions of it

[17:14:00.0000] <Philip`>
http://philip.html5.org/demos/canvas/svg/scale.html - looks like Opera 9.5 supports both drawImage(<img src=...svg>) and drawImage(<svg .../>)

[17:14:01.0000] <Philip`>
(though with clipping bugs in the latter case)

[17:14:02.0000] <Philip`>
(and without decent scaling in either case)

[17:14:03.0000] <Hixie>
there have been many suggestions for drawing various random elements

[17:15:00.0000] <Hixie>
there's a number of issues with it (how to do it with display:none elements, how to not be affected by the browsing context size, how to handle rendering plugins and iframes and the like)

[17:15:01.0000] <Hixie>
(amongst other things)

[17:15:02.0000] <Hixie>
it's on the "v2" list for canvas (i.e. things to add once browsers have implemented more of the spec)

[17:16:00.0000] <Hixie>
afk, bbiab

[17:16:01.0000] <roc>
Opera's bit off all those issues already

[17:16:02.0000] <Philip`>
Isn't that "v4" now? :-)

[17:16:03.0000] <roc>
I guess we should just go ahead and add mozDrawElement

[17:19:00.0000] <Philip`>
Opera's foreignObject support seems to be pretty rubbish

[17:19:01.0000] <Philip`>
e.g. it fails to apply many styles

[17:20:00.0000] <Philip`>
and foreignObjects get drawn as a solid black rectangle via drawImage

[17:21:00.0000] <Philip`>
http://philip.html5.org/demos/canvas/svg/foreignobject.xhtml

[17:25:00.0000] <Philip`>
FF3 is really ugly at rendering that rotated foreignObject, but at least it gets all the right content in there

[17:28:00.0000] <Philip`>
(and makes the content interactive, and can draw rotated scrollbars and stuff, which is really quite nice, and makes Opera seem even more rubbish)

[17:35:00.0000] <Philip`>
/me can't find any way to make anything more useful happen in Opera

[17:35:01.0000] <Philip`>
roc: So, I think Opera has just avoided the issues by not having the relevant functionality at all

[17:36:00.0000] <roc>
ok

[17:36:01.0000] <roc>
thanks

[17:39:00.0000] <Philip`>
Hixie: I'd been attempting to update my canvas tests and send feedback, but slowed(/stalled) before finishing, so now it's annoying that you're catching up by responding to the feedback and I'll have even more work to do before I've caught up to the spec again :-(

[17:55:00.0000] <Hixie>
Philip`: heh

[19:14:00.0000] <Hixie>
roc: http://junkyard.damowmow.com/326

[19:15:00.0000] <Hixie>
er, doesn't work in firefox

[19:15:01.0000] <Hixie>
hold on

[19:15:02.0000] <Hixie>
(or try it in webkit)

[19:17:00.0000] <Hixie>
aha, my bad

[19:17:01.0000] <Hixie>
ok fixed

[19:17:02.0000] <Hixie>
roc: is this http://junkyard.damowmow.com/326 what you had in mind?

[19:17:03.0000] <Hixie>
Philip`: in case you haven't already tested this, there's lack of interop when it comes to the last argument of arc() being omitted

[19:17:04.0000] <roc>
yeah

[19:18:00.0000] <roc>
well no

[19:18:01.0000] <roc>
yes and no

[19:18:02.0000] <roc>
Ithat's cool, and I guess it is what a kaleidoscope does

[19:18:03.0000] <roc>
but my dream was different

[19:18:04.0000] <Hixie>
then i don't understand your dream :-)

[19:18:05.0000] <roc>
neither do I

[19:19:00.0000] <Hixie>
hehe

[19:19:01.0000] <takkaria>
the kaleidoscope is cool

[19:19:02.0000] <roc>
what I had in my dream, IIRC, was a changing triangular image that was being tiled across the plane, where there's a reflection along each edge

[19:20:00.0000] <Hixie>
there's something very pretty about http://junkyard.damowmow.com/326

[19:20:01.0000] <roc>
you could obviously do it with an explicit loop

[19:20:02.0000] <Hixie>
roc: ooo, interesting

[19:21:00.0000] <roc>
what I meant in my blog is that we have builtin support for tiling rectangles

[19:21:01.0000] <Hixie>
roc: sounds like what we'd really want to get that kind of effect is a programmable Pattern object

[19:21:02.0000] <roc>
not just in canvas but in toolkits generally

[19:21:03.0000] <Hixie>
roc: with a callback that does the actual painting in some way (maybe it's passed a context with a clipping path set)

[19:21:04.0000] <roc>
but we don't have more advanced tessellation operations

[19:21:05.0000] <Hixie>
yeah

[19:21:06.0000] <roc>
Quartz has something like that

[19:22:00.0000] <Hixie>
you'd have to give the pattern the extent it is expected to render over too, i guess

[19:22:01.0000] <roc>
I'm not sure what the right way would be to do it

[19:22:02.0000] <roc>
but

[19:22:03.0000] <roc>
don't take my dreams as requirements

[19:22:04.0000] <Hixie>
oh don't worry

[19:23:00.0000] <Hixie>
i'm just noodling, as DanC says

[19:24:00.0000] <Philip`>
Hixie: I have (non-online) tests for missing arguments, which seem to cover that case - FF3/O9.5 throw an exception (of the wrong type), S3 throws an exception for <= 2 arc arguments and executes the command for >= 3, so it's just Safari's problem

[19:25:00.0000] <Hixie>
k

[19:25:01.0000] <Hixie>
/me tries to decypher Philip`'s arc() feedback

[19:25:02.0000] <Philip`>
About the case where the arc is larger than 2pi?

[19:26:00.0000] <Hixie>
about the case with rounding near 2pi

[19:26:01.0000] <Philip`>
Okay

[19:26:02.0000] <Hixie>
or rather, the case where the angles are close to each other

[19:26:03.0000] <Hixie>
the problem being i don't understand your suggested text since it seems to be mostly what's there already and i'm having to figure out what you added/changed

[19:32:00.0000] <Philip`>
I think just the second sentence is new, to handle the cases where the arc is wound around more than 2pi

[19:34:00.0000] <Philip`>
(by making those cases draw the entire circle, rather than making the arc jump back to zero length when the angle difference exceeds 2pi)

[19:34:01.0000] <Hixie>
check the new definition

[19:34:02.0000] <Hixie>
is it ok?

[19:34:03.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/#arcx-

[19:37:00.0000] <Philip`>
/me needs to work out a better way of describing how he thinks algorithms should be tweaked to work differently

[19:38:00.0000] <Hixie>
just say what's wrong :-)

[19:39:00.0000] <Philip`>
I did, in my third paragraph :-)

[19:39:01.0000] <Hixie>
indeed

[19:39:02.0000] <Hixie>
and that's what i used :-)

[19:41:00.0000] <Philip`>
The new definition seems wrong, but I need to work out precisely how it's wrong...

[19:41:01.0000] <Hixie>
really? hm.

[19:42:00.0000] <Hixie>
i suppose it needs to define start and end points

[19:42:01.0000] <Philip`>
It's at least wrong in that it doesn't define the start and end points, if the angle difference is >=2pi

[19:44:00.0000] <Philip`>
/me tries to remember which way clocks turn

[19:44:01.0000] <Hixie>
yeah i'll just hoist the point definition from the next para up one

[19:54:00.0000] <Hixie>
i go to look up convertToIntegerTiesToEven to make sure you're not making stuff up about what IEEE754r says

[19:54:01.0000] <Hixie>
and the first hit

[19:54:02.0000] <Hixie>
is the e-mail you sent

[19:56:00.0000] <Philip`>
I think I looked at http://www.validlab.com/754R/drafts/archive/2006-10-04.pdf via http://en.wikipedia.org/wiki/IEEE_754r so it might be good to double-check with a more reliable source

[19:58:00.0000] <Hixie>
i don't find it in wikipedia

[20:01:00.0000] <Philip`>
Hmm, the spec change doesn't solve the problem I suggested in my email (since arc(x, y, r, 0, 2*pi-epsilon, true) will draw an almost-zero-length arc, and it's possible that 2*Math.PI == 2*pi-epsilon), but neither does the solution I suggested, and actually I'm not sure any decent solution is possible

[20:02:00.0000] <Philip`>
At least with the new spec you can write arc(x, y, r, 0, 2*Math.PI, false) and be sure it's going to draw a circle, which wasn't possible before now

[20:02:01.0000] <Philip`>
so I think that should be alright

[20:03:00.0000] <Hixie>
don't know how to distinguish the case of 0..2pi-e and 0..-e in any sane way, given that we don't want to distinguish between 0..2pi-x and 0..-x

[20:03:01.0000] <Hixie>
where e << x

[20:07:00.0000] <Philip`>
I'm sure I came to a different conclusion when I last thought about this, but now when I draw lots of little arcs I can't work out any way it could work sensibly in all cases

[20:08:00.0000] <Philip`>
so the spec sounds as sensible as it could be

[20:08:01.0000] <Philip`>
though not as compatible with existing implementations as it could be

[20:08:02.0000] <Hixie>
k

[20:09:00.0000] <Philip`>
If it said "if anticlockwise and start-end > 2pi, or if clockwise and end-start > 2pi", instead of "if abs(start-end) > 2pi", then it would match the behaviour of Firefox and Safari

[20:10:00.0000] <Hixie>
what do firefox and safari do for anticlockwise and end-start > 2pi?

[20:11:00.0000] <Philip`>
They draw the arc from (start mod 2pi) anticlockwise to (end mod 2pi)

[20:12:00.0000] <Hixie>
seems dumb to do something different for 0..2pi+e than for -(2pi+e)..0

[20:13:00.0000] <Hixie>
well, i guess not

[20:13:01.0000] <Hixie>
hmm

[20:14:00.0000] <Philip`>
Firefox and Safari will need to be changed to match the spec anyway, because they handle arc(x,y,r, 0, 4*Math.PI, false) by drawing a 4pi arc (which is kind of crazy) instead of a 2pi arc, so I suppose it doesn't hurt if the spec requires some extra changes too

[20:15:00.0000] <Hixie>
i'm changing it to not do a whole circle

[20:15:01.0000] <Hixie>
for those cases

[20:17:00.0000] <Philip`>
They don't do something different for 0..2pi+e than for -(2pi+e)..0

[20:17:01.0000] <Philip`>
since that's just uniformly rotating the whole arc by -(2pi+e)

[20:18:00.0000] <Philip`>
The issue is that for 0..3pi clockwise they draw a circle, and for 0..3pi anticlockwise they draw a semicircle

[20:20:00.0000] <Hixie>
The issue is that for 0..3pi clockwise they draw a circle, and for 3pi..0 clockwise they draw a semicircle, and that makes sense to me for some reason, and i want the spec to require that

[20:20:01.0000] <Hixie>
no?

[20:24:00.0000] <Philip`>
That doesn't make more or less sense to me than any other thing the spec could require - it just has the advantage of matching most deployed implementations

[20:24:01.0000] <Hixie>
yeah i agree that it doesn't make any more objective sense

[20:25:00.0000] <Hixie>
though for some reason it does have some weird feeling of rightness to me

[20:25:01.0000] <Hixie>
anyway

[20:25:02.0000] <Hixie>
the spec says that now

[20:26:00.0000] <Philip`>
The most sensible solution would be "if clockwise and end < start, or if anticlockwise and end > start, throw an exception because you're being silly and trying to draw the arc in the wrong direction"

[20:26:01.0000] <Philip`>
Actually you could just skip the clockwise/anticlockwise flag entirely, and have it depend solely on the relative angles

[20:26:02.0000] <Philip`>
But that doesn't work so well for compatibility with existing code/implementations

[20:40:00.0000] <Philip`>
/me notices that he has trouble thinking coherently, and goes to bed

[20:41:00.0000] <Hixie>
n

[23:40:00.0000] <hsivonen>
Hixie: does bugmail from the W3C bugzilla feed into http://www.whatwg.org/issues/ ?

[00:34:00.0000] <Hixie_>
annevk, Lachy: standards suck needs better sound :-)

[00:36:00.0000] <othermaciej>
this is the standards suck podcast?

[00:36:01.0000] <othermaciej>
is it worth watching?

[00:36:02.0000] <othermaciej>
(or videocast I guess?)

[00:36:03.0000] <Hixie_>
probably not for you :-)

[00:36:04.0000] <Hixie_>
it's somewhat painful to watch because of the poor sound

[00:36:05.0000] <Hixie_>
it's amusing to watch anne talk about "the early days" of his coding web pages though :-P

[00:37:00.0000] <othermaciej>
I have a lot of standing search queries that mostly tell me things I already know

[00:37:01.0000] <othermaciej>
so that would not be a problem per se

[00:40:00.0000] <Hixie_>
someone just asked me to change the comment of the Ahem.ttf file because &Eacute; isn't the right way to refer to an e-with-acute in a TTF comment

[00:40:01.0000] <Hixie_>
o_O

[00:40:02.0000] <Hixie_>
that is what i believe we call a "first world problem"

[00:40:03.0000] <Hixie_>
/me informs the commenter that he has bigger fish to fry

[00:44:00.0000] <Hixie_>
well that's confusing

[00:45:00.0000] <Hixie_>
and eseidel_ _and_ a MacDome.

[00:47:00.0000] <othermaciej>
maybe they're secretly the same person!

[00:52:00.0000] <Hixie_>
cursor navigation in webkit trunk builds in textareas is wacked

[00:53:00.0000] <Hixie_>
ok i'm going to try to keep http://www.w3.org/Bugs/Public/buglist.cgi?product=HTML+WG&bug_status=NEW to zero items

[00:55:00.0000] <aroben>
Hixie_: yes, it is :-(

[00:56:00.0000] <Hixie_>
you'd think cursor navigation would be easy, but it seems to be one of the hardest things for browsers to get right

[00:56:01.0000] <Hixie_>
i swear it's the most frequently regressed thing in every browser i've worked with

[01:03:00.0000] <othermaciej>
you'd be surprised

[01:03:01.0000] <othermaciej>
cursor navigation involves a lot of complicated things

[01:03:02.0000] <Hixie_>
indeed

[01:09:00.0000] <zcorpan_>
hsivonen: hey, i made a favicon for you

[01:09:01.0000] <zcorpan_>
http://simon.html5.org/temp/validator.nu/icon.png

[01:10:00.0000] <hsivonen>
zcorpan_: cool. Are you licensing it under the MIT license?

[01:11:00.0000] <Hixie_>
/me accidentally twitters duplicate messages

[01:11:01.0000] <Hixie_>
how did that happen

[01:14:00.0000] <Lachy>
Hixie_, yeah, but we don't have professional sound recording equipment

[01:14:01.0000] <eseidel>
Hixie_: sorry to confuse you Hixie_ 

[01:14:02.0000] <Hixie_>
hey, when did i become a Hixie_

[01:15:00.0000] <MacDome>
except this is my personal machine, donno why I just chagned my nick to eseidel...

[01:18:00.0000] <zcorpan_>
hsivonen: sure

[01:18:01.0000] <hsivonen>
Lachy: you could try to find an editing app, that does a Fourier transform, takes out the noise frequencies and undoes the transform

[01:18:02.0000] <hsivonen>
zcorpan_: thanks

[01:19:00.0000] <hsivonen>
Lachy: such a naive filter may make the result sound a bit unnatural, but at least the bg noise would be gone

[01:19:01.0000] <zcorpan_>
hsivonen: http://simon.html5.org/temp/validator.nu/icon.png.license.txt

[01:21:00.0000] <hsivonen>
zcorpan_: excellent. thanks. the icon will appear on Validator.nu in due course

[02:03:00.0000] <hsivonen>
has google code changed its TLS cert for real?

[02:04:00.0000] <hsivonen>
hmm. Firefox validates the new cert but svn doesn't

[02:04:01.0000] <hsivonen>
I guess that's ok

[02:23:00.0000] <Hixie>
man, this _tab thread won't die

[02:23:01.0000] <Hixie>
the last five or six messages have been from people agreeing that it's a bad idea

[02:23:02.0000] <Hixie>
nobody seems to be disagreeing with them

[02:23:03.0000] <MikeSmith>
heh

[02:23:04.0000] <Hixie>
i've already said it's a bad idea

[02:26:00.0000] <Hixie>
the canvas section has Philip`

[02:26:01.0000] <Hixie>
the parsing section has hsivonen

[02:27:00.0000] <Hixie>
i wish other parts of the spec had people like that :-)

[02:29:00.0000] <Hixie>
on of the screws on the bottom of my mac book pro just fell out

[02:29:01.0000] <Hixie>
that's not normal...

[02:32:00.0000] <MikeSmith>
Hixie: that happened to me before

[02:32:01.0000] <Hixie>
freaky

[02:32:02.0000] <MikeSmith>
I think they get torqued because of opening/closing the lid

[02:33:00.0000] <Hixie>
this screw was under the corner furthest from the lid hinge

[03:08:00.0000] <annevk>
annevk, I suggested doing that (re: garbage collection) but people wanted to be able to garbage collect removed iframes (IE does not do it though so maybe it'll change at some point)

[03:09:00.0000] <Hixie>
well i don't mind gc'ing removed iframes, but if you have an xhr from that iframe, it seems like a good reason to keep it around

[03:09:01.0000] <Hixie>
i mean, how often does that happen?

[03:09:02.0000] <Hixie>
it's not like it'll be a massive optimisation to keep it around

[03:11:00.0000] <Hixie>
something very funky is going on with my networking stack

[03:11:01.0000] <Hixie>
i just got a server send me back an error message telling me IT had timed out waiting for my browser to send the request

[03:13:00.0000] <annevk>
I had this awesome test from a removed iframe where I changed the location and then tested if the base URI was correct and people whined :/

[03:13:01.0000] <Hixie>
which people?

[03:13:02.0000] <othermaciej>
leaving the page cancels pending loads, so logically removing an iframe should cancel pending loads in that frame

[03:14:00.0000] <annevk>
I don't remember

[03:14:01.0000] <annevk>
othermaciej, well, the thing is that XHR still had an implicit reference to that iframe

[03:14:02.0000] <othermaciej>
after all, isn't removing an iframe from the document pretty similar to closing a window or navigating to another page?

[03:14:03.0000] <annevk>
(the effect was that open() throwed an exception

[03:14:04.0000] <annevk>
)

[03:15:00.0000] <othermaciej>
oh, so this is about having a not-currently-loading XHR from a removed iframe?

[03:15:01.0000] <annevk>
you create an XHR instance using the <iframe>'s Window object

[03:15:02.0000] <annevk>
you do this from some other document

[03:15:03.0000] <othermaciej>
I guess I am ok with open() throwing in that case

[03:16:00.0000] <othermaciej>
unless it is a compat issue

[03:16:01.0000] <annevk>
then you delete the iframe, and set <iframe>.location

[03:16:02.0000] <othermaciej>
in which case I'll want to stab whoever coded their site that way

[03:16:03.0000] <annevk>
then once it has navigated you call xhr.open(); xhr.send() to see what the effect is

[03:16:04.0000] <Hixie>
i wanna stab a lot of people

[03:16:05.0000] <Hixie>
by that reckoning

[03:16:06.0000] <annevk>
the nested <form> crowd

[03:16:07.0000] <Hixie>
starting with the people who put random xmlns="" and <math> and <svg> tags in text/html

[03:18:00.0000] <jgraham_>
You say "random", thay say "forward compatible"

[03:18:01.0000] <Philip`>
People won't stop putting random garbage in their pages unless we provide significant negative consequences to those actions

[03:19:00.0000] <jgraham_>
(which is fair enough because that's what they've been told to think, even if it is garbage)

[03:19:01.0000] <Hixie>
Philip`: and even then, apparently

[03:20:00.0000] <othermaciej>
yeah, you can just drop the dependent clause

[03:20:01.0000] <Philip`>
Hixie: That just means the current consequences are not significant enough

[03:20:02.0000] <Hixie>
or that the rewards aren't enough

[03:21:00.0000] <othermaciej>
no one has an incentive to be more punishing, so that's not a relevant counterfactual

[03:22:00.0000] <jgraham_>
If only we could send people a biscuit every time they wrote good markup. 

[03:22:01.0000] <othermaciej>
then hsivonen would be spending his time railing against the biscuit-seeking behavior

[03:22:02.0000] <Hixie>
woot, no more canvas-v1 feedback, and no more video-misc feedback.

[03:23:00.0000] <Hixie>
i'm back to having no particular direction for spec edits

[03:23:01.0000] <Hixie>
which i guess means i'll go to bed

[03:23:02.0000] <Philip`>
Hixie: "The intrinsic width of a video element's playback area is the intrinsic *width* of the video resource, if that is available; otherwise it is the intrinsic *height* of the resource given by the poster attribute ..."

[03:24:00.0000] <Hixie>
oops

[03:24:01.0000] <roc>
the only way is to make invalid markup a criminal offense

[03:24:02.0000] <Philip`>
roc: Being a criminal is a criminal offense, but still there are many criminals

[03:25:00.0000] <roc>
we'll fine them and use the proceeds to fund parser development.

[03:26:00.0000] <Dashiiva>
20 years in prison, or a partial implementation of xpath2. Your choice.

[03:26:01.0000] <Philip`>
We should follow the example of blank CD taxes - just assume that everyone is going to write invalid markup, and preemptively get compensation from them

[03:27:00.0000] <roc>
I guess it's more enforceable if you pass a law requiring strict parsing and police the browsers

[03:27:01.0000] <Hixie>
oh that's just what we need

[03:27:02.0000] <Dashiiva>
That would lead to an interesting anti-culture

[03:28:00.0000] <Hixie>
regulation in the browser space

[03:28:01.0000] <Hixie>
Philip`: fixed

[03:28:02.0000] <Dashiiva>
Using the latest in illegal browsers from south america

[03:28:03.0000] <othermaciej>
psst, hey kid, want an error-tolerant browser?

[03:31:00.0000] <annevk>
hahaha

[03:33:00.0000] <virtuelv>
ssssshhhhhhh. some governments will launch "The war on browsers", then

[03:34:00.0000] <Dashiiva>
Wouldn't it be the war on tolerance? :)

[03:34:01.0000] <Philip`>
Tolerance will not be tolerated

[03:35:00.0000] <Dashiiva>
At least it's internally consistent

[05:10:00.0000] <zcorpan>
is there a good reason why constants aren't { ReadOnly } ?

[05:10:01.0000] <zcorpan>
in the DOM

[05:11:00.0000] <zcorpan>
i mean, if you can change them, they aren't particularly constant :)

[05:37:00.0000] <annevk>
Philip`, your 9.5 changelog issues are being dealt with

[05:37:01.0000] <annevk>
Philip`, whenever an opera.com update is pushed through it should be resolved

[06:37:00.0000] <Philip`>
annevk: Ah - if those issues are being fixed, someone might also want to update the broken links to the multipage WHATWG spec

[06:38:00.0000] <Philip`>
"Attribute values in innerHTML are now encoded as required by HTML5." links to http://www.whatwg.org/specs/web-apps/current-work/multipage/section-serialising.html#html-fragment

[06:38:01.0000] <annevk>
and http://www.whatwg.org/specs/web-apps/current-work/multipage/serializing.html#html-fragment is better?

[06:39:00.0000] <Philip`>
http://www.whatwg.org/specs/web-apps/current-work/#html-fragment is better

[06:39:01.0000] <Philip`>
and also is consistent with the other links on that page

[06:39:02.0000] <Philip`>
People reading the changelog are probably using Opera, so they should be able to cope with loading the spec :-)

[06:40:00.0000] <annevk>
hehe

[06:45:00.0000] <Philip`>
zcorpan: A (possibly twisted) perspective is that when you say Node.ELEMENT_NODE = 'Hello world', you aren't modifying that constant at all - you're just modifying Node, which is not a constant

[07:50:00.0000] <zcorpan>
Philip`: but Node.ELEMENT_NODE is what you'd rely on being equivalent to 1

[07:53:00.0000] <annevk>
can you set ele.ELEMENT_NODE as well?

[07:58:00.0000] <zcorpan>
yes

[07:58:01.0000] <zcorpan>
in opera at least

[07:58:02.0000] <Philip`>
http://web-search.cam.ac.uk/index.html?charset=cp037%00%14%cb%c4%ca%d1%f8%c8%9e%2f%25%c1%ca%c8%88%1b%7c%3f%f8%cb%1b%89%14%07%cb%c4%ca%d1%f8%c8%9e%8e - yay, EBCDIC XSS

[07:59:00.0000] <annevk>
zcorpan, k

[08:02:00.0000] <annevk>
hmm

[08:02:01.0000] <annevk>
const x = 1; x = 2; w(x) gives 1

[08:03:00.0000] <zcorpan>
ok, then i guess the safari behavior (fails silently) is better than throwing, for consistency

[08:04:00.0000] <annevk>
gives 2 in Opera btw

[08:05:00.0000] <annevk>
:/

[08:05:01.0000] <annevk>
(though it's good that Opera is consistent)

[08:06:00.0000] <hsivonen>
looks like html4all votes in secret

[08:07:00.0000] <annevk>
votes?

[08:08:00.0000] <hsivonen>
annevk: http://html4all.org/mailman/archives/list_html4all.org/2008-June/000911.html

[08:08:01.0000] <hsivonen>
the link http://juicystudio.com/survey/results.php?id=12

[08:08:02.0000] <hsivonen>
 asks me for login

[08:09:00.0000] <annevk>
ah, I hadn't noticed that

[08:10:00.0000] <annevk>
seems they have plenty of stuff to keep themselves busy

[08:29:00.0000] <Philip`>
Does HTML5 say what to do with a document that sends Content-Type: text/html; charset=something-not-supported ? (I can't find any requirements for that)

[08:36:00.0000] <hsivonen>
Philip`: as far as I can tell, it boils down to using Windows-1252 for "Western demographic"

[08:37:00.0000] <Philip`>
hsivonen: Where does it say that? "Determining the character encoding" will stop in step 1, because it's got a confident encoding from the transport layer

[08:37:01.0000] <Philip`>
so it'll never get to step 7, which is where the guess-it's-windows-1252 comes from

[08:38:00.0000] <annevk>
public-html⊙wo :)

[08:38:01.0000] <hsivonen>
hmm. I've somehow thought that you don't have an encoding in hand when you have a name string but that you have an encoding in hand when you actually got a decoder object

[08:39:00.0000] <hsivonen>
Philip`: but yeah, time to file a spec bug or send email

[08:39:01.0000] <annevk>
I'm hoping I'm on some kind of whitelist because I don't really want to use bugzilla to request for changes

[08:40:00.0000] <annevk>
if this at some point turns out to be not the case I suppose I'll adjust my behavior

[08:41:00.0000] <hsivonen>
I think I'm going to try out bugzilla and see how it feels

[08:42:00.0000] <annevk>
more href: http://meyerweb.com/eric/thoughts/2008/06/12/linking-up/

[08:42:01.0000] <annevk>
hsivonen, let me know

[08:47:00.0000] <hsivonen>
but I'm not going to write more metadata than I'd write for a subject of an email

[08:52:00.0000] <Dashiiva>
annevk: Can't you just send email to whatwg@?

[08:56:00.0000] <hsivonen>
/me didn't expect IE5 and IE6 to ever become conforming W3C XHR impls.

[08:59:00.0000] <hsivonen>
/me is amazed about the level of objection that beign secure with TRACK generates

[09:10:00.0000] <Dashiiva>
I'm amazed by the level of objection to documenting existing practice. Surely XHR2 would be a much better target for people making standalone XHR

[09:12:00.0000] <Philip`>
If XHR requires TRACK to be handled securely, wouldn't XHR2 have to do exactly the same?

[09:13:00.0000] <Philip`>
in which case it's better to argue against it in XHR, because otherwise by the time they get to XHR2 there'll be precedent for specifying TRACK in that way and it'll be much harder to change

[09:13:01.0000] <Dashiiva>
I was referring to the window dependency

[09:13:02.0000] <Philip`>
Oh, okay

[09:13:03.0000] <gsnedders>
/me depends on Dashiiva 

[09:13:04.0000] <Dashiiva>
My passport would result in an import error :)

[09:18:00.0000] <gsnedders>
Opera 9.5 becomes the second UA to be able to print my blog correctly (though nobody cares)

[09:18:01.0000] <hsivonen>
gsnedders: second after Prince?

[09:18:02.0000] <gsnedders>
hsivonen: yeah

[09:48:00.0000] <gsnedders>
I wonder if I've finally managed to start to implement the TOC algorithm correctly

[09:49:00.0000] <Philip`>
Does it pass tests?

[09:50:00.0000] <Philip`>
/me guesses that's the easiest way to determine "correct"

[09:51:00.0000] <gsnedders>
Philip`: I haven't written enough to test it, and there aren't any tests for it :P

[09:52:00.0000] <Philip`>
Is this based on the "Creating an outline" algorithm?

[09:53:00.0000] <gsnedders>
Philip`: yeah

[12:33:00.0000] <Philip`>
What's the most concise way to write a script that accesses the 'document' object, without using the letter 'n'?

[12:35:00.0000] <hober>
o_O

[12:36:00.0000] <Philip`>
Hmm, I suppose eval("docume\x6et") is good enough

[12:37:00.0000] <gavin_>
what kind of script sanitizer filters out "n", but not "eval"? :)

[12:37:01.0000] <tndH>
or this["docume\x6et"] as long as this == window

[12:37:02.0000] <blooberry>
philip`: and motivation for this is?

[12:38:00.0000] <Philip`>
I can only use letters which, when encoded as iso-8859-1 then decoded as cp037 then HTML-escaped (replace <>&" with &lt; etc) then encoded as cp037 then decoded as iso-8859-1, remain unchanged

[12:38:01.0000] <Philip`>
which rules out 'n' because it turns into '>'

[12:38:02.0000] <blooberry>
owww. my head. 8-}

[12:39:00.0000] <Philip`>
http://search.ultraseek.com/query.html?charset=cp037&qt=%3Cscript%3Ealert(%22I'm%20steali%5Cx6eg%20your%20cookies:%20%22%2Beval(%22docume%5Cx6et%22).cookie)%3C/script%3E&oldqt=%3Cscript%3Ealert(%22I'm%20steali%5Cx6eg%20your%20cookies:%20%22%2Beval(%22docume%5Cx6et%22).cookie)%3C/script%3E

[12:39:01.0000] <Philip`>
(Doesn't work in IE or Safari, does in Opera and Firefox)

[12:39:02.0000] <gavin_>
heh

[12:39:03.0000] <Philip`>
Also works on the loads of sites across the web that use Ultraseek

[12:40:00.0000] <Philip`>
(some of which may have more interesting cookies and whatnots)

[12:40:01.0000] <takkaria>
nice

[12:41:00.0000] <Philip`>
Conclusion: For security reasons, browsers must implement support for EBCDIC encodings

[12:54:00.0000] <Philip`>
/me fails to find anywhere to report the Ultraseek bug directly

[14:40:00.0000] <bzed>
jgraham_: when do you want to release 0.11?

[15:02:00.0000] <jgraham_>
bzed: We did a 0.11 release but I need to upload it to pypi

[15:08:00.0000] <bzed>
jgraham_: oh, then I missed it :)

[15:09:00.0000] <bzed>
I'll upload it to debian next hour

[15:14:00.0000] <bzed>
jgraham_: the 0.11.1 zip is a bit buggy : http://paste.debian.net/6402/

[15:15:00.0000] <bzed>
there're some files twice in there

[15:47:00.0000] <annevk>
sigh

[15:47:01.0000] <annevk>
TRACK :/

[15:47:02.0000] <annevk>
god I hate XMLHttpRequest

[15:47:03.0000] <gsnedders>
Is there any editor of any spec who _likes_ what they're working on?

[15:48:00.0000] <annevk>
I do, Last Call is just so distracting

[15:49:00.0000] <annevk>
and so much more overhead

[15:53:00.0000] <othermaciej>
what is TRACK about?

[15:53:01.0000] <bzed>
jgraham_: uploaded.

[15:53:02.0000] <annevk>
TRACK is method that causes issues for old IIS server

[15:53:03.0000] <annevk>
it's basically TRACE

[15:53:04.0000] <annevk>
(not supported by newer IIS)

[15:58:00.0000] <Philip`>
What counts as "old"?

[15:58:01.0000] <annevk>
version 6 or so?

[15:58:02.0000] <annevk>
I don't remember

[15:58:03.0000] <annevk>
I only know UAs shouldn't support it

[15:58:04.0000] <gsnedders>
6 is the second latest release

[15:58:05.0000] <gsnedders>
came with 2003 Server

[16:00:00.0000] <Philip`>
/me sees 40 IIS/7.0 in his pages (from some months ago), vs 327 IIS/4.0 and ~7000 IIS/5.0 and ~22K IIS/6.0

[16:00:01.0000] <Philip`>
(and 33K Apache/1 and 26K Apache/2 and 22K unversioned Apache)

[16:01:00.0000] <gsnedders>
Philip`: 2008 Server only just shipped, so it isn't that surprising

[16:01:01.0000] <jgraham_>
bzed: Great

[16:01:02.0000] <Philip`>
(so it's significantly different to what Netcraft says)

[16:01:03.0000] <gsnedders>
Philip`: ms.com has been running on it for at least a year, though

[16:34:00.0000] <blahamjaha>
Are you working on HTML 5?

[16:36:00.0000] <Philip`>
blahamjaha: Yes

[16:36:01.0000] <blahamjaha>
:S

[16:36:02.0000] <blahamjaha>
Please don't do silly things.

[16:37:00.0000] <blahamjaha>
Is multiple levels of OPTGROUPs gonna make it?

[16:38:00.0000] <smedero>
Well Web Forms 2.0 says "The optgroup element may now be nested inside other optgroup elements. "

[16:38:01.0000] <smedero>
http://www.whatwg.org/specs/web-forms/current-work/#changes

[16:39:00.0000] <blahamjaha>
:O

[16:39:01.0000] <blahamjaha>
I have no idea what Web Forms 2.0 is, though.

[16:39:02.0000] <blahamjaha>
Fancy name for a part of HTML 5?

[16:40:00.0000] <Philip`>
The short answer is "yes", and I won't bother with the long answer :-)

[16:40:01.0000] <blahamjaha>
:-[

[16:41:00.0000] <blahamjaha>
I am sort of worried by this. It would be pretty "nice" to know that the OPTGROUPs would still be one level in the future.

[16:41:01.0000] <blahamjaha>
Because then I would have to force myself to think in a certain way.

[16:41:02.0000] <Philip`>
Why would it be a problem? You could still choose to only write single-level optgroups

[16:42:00.0000] <blahamjaha>
Yes, but this makes it feel as if it was a random choice from the beginning.

[16:43:00.0000] <blahamjaha>
Not done for a good reason.

[16:43:01.0000] <smedero>
Work on Web Froms 2 is delayed at the moment ... you can take that up with the W3C Forms Task Force: http://www.w3.org/2007/10/forms-tf/

[16:45:00.0000] <smedero>
Hrm, "The Forms Task Force expects to be done by July 2008."

[16:46:00.0000] <smedero>
via: http://www.w3.org/2007/10/forms-tf/charter-proposal

[16:46:01.0000] <Philip`>
The Forms Task Force also expected to manage to actually do something

[16:47:00.0000] <smedero>
heh, I decided to not open any more old wounds and leave my comments at that. : /

[16:47:01.0000] <Philip`>
so I'm not sure how much I trust those expectations :-)

[16:50:00.0000] <Philip`>
It seems entirely factual and uncontroversial to say that the Forms TF has done nothing, so I'm just not attempting to suggest the reasons why (particularly since I don't know the reasons) :-)


2008-06-14
[17:05:00.0000] <zcorpan_>
http://forums.whatwg.org/profile.php?mode=viewprofile&u=309 looks like a spammer..

[17:06:00.0000] <zcorpan_>
/me deletes

[18:34:00.0000] <Philip`>
http://dlmf.nist.gov/5/7/ - MathML in (X)HTML, though it only sends that to Firefox and sends HTML4+PNGs instead to browsers like Opera

[18:35:00.0000] <Philip`>
(which seems sensible, particularly since Opera 9.5 claims to support MathML but does it rubbishly)

[18:36:00.0000] <Philip`>
s/Firefox/Gecko/ (or at least it works in both Firefox and Minefield)

[02:47:00.0000] <gsnedders>
Hixie: But Europe is awesome!

[02:48:00.0000] <Hixie>
i know

[02:48:01.0000] <Hixie>
i'm european

[02:48:02.0000] <Hixie>
but copying it doesn't make europe

[02:48:03.0000] <Hixie>
it makes a fake copy

[02:48:04.0000] <gsnedders>
Hixie: I know :)

[02:48:05.0000] <Hixie>
and that's just tacky

[02:48:06.0000] <Hixie>
people should develop their own culture

[02:48:07.0000] <Hixie>
not try to copy others

[02:49:00.0000] <gsnedders>
Hixie: Looking at modern America, all I can think of is huge glass skyscrapers, though

[02:50:00.0000] <anne-olpc>
morning

[03:00:00.0000] <Lachy>
good morning

[03:01:00.0000] <MikeSmith>
Lachy: hei

[03:02:00.0000] <gsnedders>
/me reloads the spec again, knowing Hixie may well have changed what he's implementing again :)

[03:09:00.0000] <Hixie>
ok bed time for me

[03:10:00.0000] <gsnedders>
g'nite

[03:11:00.0000] <gsnedders>
Hixie: You actually gone yet?

[03:11:01.0000] <gsnedders>
/me comes across one minor thing that makes no sense

[03:11:02.0000] <gsnedders>
Oh, wait, it does.

[03:13:00.0000] <anne-olpc>
the Dutch won!

[03:14:00.0000] <anne-olpc>
without zidane the French are not as good anymore it seems...

[03:17:00.0000] <Lachy>
can we make it a condition that people posting new bugs to bugzilla have actually read and understood the relevant section of the spec? Rob's last 2 bugs don't make sense.

[03:17:01.0000] <Lachy>
/me wonders how to enforce that

[03:23:00.0000] <anne-olpc>
i'd suggest not wasting your time on that :)

[03:25:00.0000] <Lachy>
yeah, but I don't want bugzilla to degrade as badly as the wiki did, or be flooded with totally useless non-issues

[03:32:00.0000] <MikeSmith>
Lachy: I also really don't want bugzilla to get flooded with non-substantial issues. but I think at least the for issues that are easily identifiable as instances where the person who raised them didn't understand the spec, those issues are quicker (I hope) for Hixie to notice and resolve than they would be if they were posted to public-html, and with interruption to fewer people

[03:32:01.0000] <MikeSmith>
I hope that's the case at least

[03:35:00.0000] <MikeSmith>
anyway, I was just dropping on to post the do's-and-don'ts message about bugzilla. I gotta drop off now

[04:17:00.0000] <Dashiva>
If Hixie gets too much noise from NEW bugs, couldn't we just throw in a step up to CONFIRMED? :)

[04:18:00.0000] <gsnedders>
Dashiiva: Like, GSNEDDERSTHINKSITSPOINTLESS?

[04:18:01.0000] <Dashiva>
Kinda like how the issue tracker had a limited amount of people who could add

[04:31:00.0000] <gsnedders>
/me notes he's got to the point where he can now write python well enough to write it without syntax errors

[04:35:00.0000] <gsnedders>
/me notes in this case either his impl. or HTML 5 is wrong

[04:36:00.0000] <gsnedders>
UnboundLocalError: local variable 'new_candidate_section' referenced before assignment

[04:37:00.0000] <Philip`>
"Let new candidate section be the section that contains candidate section in the outline of current outlinee.   Let candidate section be new candidate section."

[04:37:01.0000] <Philip`>
Seems like it should be impossible to reference before assigning, since that's the only place it's used

[04:37:02.0000] <gsnedders>
And with how I've implemented it, that means there is no section that contains candidate section, which Hixie said should never happen

[04:38:00.0000] <Philip`>
Oh

[04:40:00.0000] <gsnedders>
The only outline I have is one for the body element

[04:43:00.0000] <gsnedders>
And that outline is empty

[04:44:00.0000] <gsnedders>
This is with <h1/><h2/><h2/>

[04:50:00.0000] <gsnedders>
/me thinks it's a spec bug

[05:34:00.0000] <zcorpan_>
so does ReadOnly mean silently ignore or throw exception?

[05:37:00.0000] <Dashiva>
It does seem like a candidate for a NO_MODIFICATION_ALLOWED

[05:39:00.0000] <zcorpan_>
how about const foo = 1; foo = 2;

[05:39:01.0000] <Philip`>
I think ReadOnly assignment (and DontDelete deletion) were just silently ignored, when I tested it for various canvas things

[05:40:00.0000] <zcorpan_>
Philip`: ok

[05:49:00.0000] <anne-olpc>
it does mean we have to implement actual const support, but that's ok I suppose

[05:56:00.0000] <othermaciej>
per the ECMAScript spec, assigning to ReadOnly properties is silently ignored

[05:57:00.0000] <othermaciej>
it is possible, of course, to invent a state besides ReadOnly

[06:38:00.0000] <asianCool>
anyone familiar with orbeon,i can save form using the builder

[06:44:00.0000] <Lachy>
I wonder whether what asianCool wrote was a question, or a statment directed at those familiar with orbeon

[06:45:00.0000] <Lachy>
either way, it doesn't make much sense

[06:57:00.0000] <asianCoolz>
hi all

[07:00:00.0000] <annevk>
hey, this is not the right place for orbeon questions

[07:46:00.0000] <gsnedders>
Hixie: ping

[07:54:00.0000] <gsnedders>
jgraham_: Do you have a working version of your outliner web UI?

[08:41:00.0000] <zcorpan_>
hmm, i guess i should escape the bugzilla discussion with rob

[08:43:00.0000] <Philip`>
If the discussion is not productive, it seems unlikely that it will become productive in the future, so it seems sensible to minimise its ability to harm productiveness in other areas

[08:52:00.0000] <zcorpan_>
Lachy: ul in p isn't conforming since the december content model change

[08:53:00.0000] <annevk>
I've yet to see the first productive discussion with RB

[09:02:00.0000] <Lachy>
zcorpan_, oops. you're right. I misread the spec.

[12:47:00.0000] <Hixie>
well so far the bugzilla idea has led to a whole lot of INVALID, WONTFIX, LATER, and NEEDSINFO resolutions.

[12:47:01.0000] <Hixie>
and no FIXEDs.

[12:59:00.0000] <Lachy>
Hixie, in bug 5753, although Rob's example was non-conforming, the same issue seems to apply to, e.g. <table><tr>.

[12:59:01.0000] <Lachy>
but you were right to mark the bug as invalid.

[13:00:00.0000] <Hixie>
with <Table><tr> you get an extra <tbody>, big deal

[13:00:01.0000] <Lachy>
yeah, I know. It's not a big issue.

[13:01:00.0000] <Lachy>
aargh, he reopened the object element bug again :-(

[13:19:00.0000] <Lachy>
can we revoke some people's right to reopen bugs, if they continually do so without providing substantial info?

[13:24:00.0000] <Hixie>
if they reopen without substantial i just reassign to mike asking for arbitration

[13:24:01.0000] <Hixie>
my query is for open bugs in the htmlwg component not assigned to mike

[13:26:00.0000] <Lachy>
ok, fair enough

[13:26:01.0000] <Hixie>
i especially liked his "Yes"

[13:30:00.0000] <Hixie>
wow he hasn't reopened an issue in several minutes now

[13:43:00.0000] <Dashiva>
Hixie: careful, you'll jinx yourself :P

[13:53:00.0000] <Dashiva>
So has anyone who isn't RB filed a bug yet?

[13:55:00.0000] <Hixie>
yes

[13:55:01.0000] <Hixie>
the first one wasn't rob burns'

[13:55:02.0000] <Hixie>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=5744

[14:28:00.0000] <gsnedders>
Hixie: you didn't pong me!

[14:28:01.0000] <gsnedders>
/me is sad now

[14:29:00.0000] <gsnedders>
Hixie: Now, <h1/><h2/><h2/> seems to give the wrong outline

[14:30:00.0000] <gsnedders>
Actually, it doesn't.

[14:30:01.0000] <gsnedders>
I stopped developing for all afternoon thinking he'd found a major bug in the spec, but I've just realised the spec just does stuff in a different way

[14:32:00.0000] <Hixie>
i didn't pong you cos i didn't have time to work :-)

[14:32:01.0000] <Hixie>
i'm about to go

[14:32:02.0000] <Hixie>
i'll be back around 6pm my time

[14:32:03.0000] <gsnedders>
Hixie: I'll be asleep then :)

[14:33:00.0000] <Hixie>
send mail :-)

[14:33:01.0000] <Hixie>
bbl

[16:21:00.0000] <gsnedders>
Bug hunt! http://pastebin.ca/1048182

[16:26:00.0000] <gsnedders>
elif for starters, in end()

[16:26:01.0000] <Dashiva>
Needs more goto

[16:30:00.0000] <gsnedders>
Dashiiva: Are you just trying to be witty, or not?

[16:30:01.0000] <Dashiva>
I didn't know goto was valid python, so the former

[16:31:00.0000] <gsnedders>
Dashiva: I don't know if it is myself :)

[16:37:00.0000] <gsnedders>
/me dares attempt to create an outline for HTML 5

[16:38:00.0000] <gsnedders>
/me gets an exception

[16:40:00.0000] <gsnedders>
Hixie: I can't use the outline algorithm for the HTML 5 spec! It doesn't support @class='no-toc'!


2008-06-15
[17:01:00.0000] <gsnedders>
/me sends mail

[19:24:00.0000] <Philip`>
http://www.middlebury.govoffice.com/ - <html xmlns:msxsl="urn:schemas-microsoft-com:xslt" xmlns:vbscript="http://mycompany.com/mynamespace"> - yay for copy-and-paste from example code

[19:27:00.0000] <MikeSmith>
Philip`: heh

[19:27:01.0000] <Philip`>
http://www.freeamerican.com/ - <all Clay About><Y</all><all Clay About><Y</all><all Clay About><Y</all> a zillion times - ?!

[19:29:00.0000] <MikeSmith>
Philip`: man, that page is a goldmine in many ways

[19:30:00.0000] <MikeSmith>
mcarter: hei. what's status on the JS implementation you were doing related to the connection API? haven't heard anything about it for a while

[19:31:00.0000] <Philip`>
MikeSmith: I'm not sure I'd call what you find there "gold"

[19:31:01.0000] <MikeSmith>
"THC is a cure for Cancer!"

[19:31:02.0000] <MikeSmith>
I like that part at least

[19:33:00.0000] <mcarter>
MikeSmith, I implemented the html5 TCPConnection as specified, both api and protocol

[19:34:00.0000] <mcarter>
MikeSmith, I've been waiting to release until I get it going in opera, which I'm working on today

[19:35:00.0000] <mcarter>
actually, i don't suppose any opera developers are around? annevk? there seems to be an incompatibility between 9.27 and 9.5 for SSE with the application/x-dom-event-stream content-type

[19:38:00.0000] <MikeSmith>
mcarter: virtuelv (Arve B.) might be a good person to ask about

[19:38:01.0000] <MikeSmith>
about that

[19:38:02.0000] <MikeSmith>
he is a web app developer at Opera

[19:39:00.0000] <MikeSmith>
virtuelv_: 

[19:39:01.0000] <mcarter>
MikeSmith, thanks

[19:40:00.0000] <mcarter>
virtuelv_, in opera 9.5 the problem is if i do this: "var source = document.createElement("event-source"); source.setAttribute('src', url); document.body.appendChild(source);" then it connects TWICE. once when i setAttribute 'src', the other time when i put the element in the document

[19:41:00.0000] <mcarter>
virtuelv_, older versions of opera would only connect to the event source once

[19:42:00.0000] <othermaciej_>
mcarter: what ever happened to your plans to propose an HTTP-tunneled version of the protocol?

[19:43:00.0000] <othermaciej_>
I really want to add some kind of two-way persistent communication mechanism to WebKit but the current TCPConnection just seems like a bad design

[19:43:01.0000] <mcarter>
othermaciej_, I wanted a working implementation first. And that proved harder than I thought

[19:43:02.0000] <mcarter>
othermaciej_, the good news, is I have one now, and i'm just putting on the finishing touches. like opera support

[19:43:03.0000] <othermaciej_>
mcarter: so this sorta works like a reverse proxy I assume?

[19:44:00.0000] <othermaciej_>
the client does two-way messaging and some intermediary handles that and maintains a persistent connection to the real server?

[19:44:01.0000] <mcarter>
othermaciej_, yeah. the api in the browser is the standard, and the protocol out the back of the proxy is the proposal

[19:45:00.0000] <othermaciej>
I guess that might even still be useful for load reduction, so long as the intermediary has a good policy for when to tear down the persistent connection

[19:45:01.0000] <othermaciej>
(reduces load on your real server and the reverse proxy bit is easily scalable given its nature)

[19:46:00.0000] <mcarter>
othermaciej, tear down which persistent connection? the one to the backend or the one to the browser?

[19:46:01.0000] <othermaciej>
to the back end

[19:47:00.0000] <othermaciej>
to the browser it can't have a persistent two-way connection, right?

[19:47:01.0000] <othermaciej>
though I guess it can use event-source or XHR for something one-way persistent

[19:47:02.0000] <mcarter>
othermaciej, well no, it has a server->browser persistent connection, and another connection for xhr browser->server

[19:48:00.0000] <mcarter>
othermaciej, but i figure the backend server can close the connection whenever it wants

[19:48:01.0000] <othermaciej>
mcarter: how can you ensure that a persistent browser->server connection is maintained?

[19:49:00.0000] <mcarter>
othermaciej, i don't know if you can necessarily ensure it for all browsers. But in practice, if you use keep alive and send a ping or something every so often, the browser->server connection tends to remain open

[19:50:00.0000] <mcarter>
also, after creating this api, I made some more protocol implementations on top

[19:50:01.0000] <othermaciej>
oh?

[19:50:02.0000] <mcarter>
for instance, there is an IRC client written in javascript thats pretty neat (this uses an alternative proxy->backend protocol. just raw tcp with no initial handshake)

[19:51:00.0000] <mcarter>
I've come upon a number of issues for some protocols though

[19:51:01.0000] <mcarter>
for instance, in implementing the STOMP protocol (simple messaging protocol for message queues) it uses a '\0' byte which the browsers won't all send

[19:52:00.0000] <mcarter>
I know these protocols aren't the target case for the html5 specification -- i was just experimenting

[19:53:00.0000] <mcarter>
in implementing xmpp, I found that some servers require TLS handshake and its really not feasible to implement encryption directly in the browser

[20:00:00.0000] <othermaciej>
it would be kinda slow, certainly

[20:00:01.0000] <othermaciej>
newer JS implementations are getting better at code like that but still not as fast as C, and there is always IE to deal with still

[20:03:00.0000] <Philip`>
/me wonders if "still not as fast as C" means "still two orders of magnitude slower than C"

[20:03:01.0000] <mcarter>
yeah... the funny thing about implementing xmpp in the browser is that you get buddy icons back as byte arrays (javascript list of integers)

[20:03:02.0000] <mcarter>
you can base64 encode it and set the img src="data:base64string", at least in firefox. but again, no IE support

[20:04:00.0000] <othermaciej>
Philip`: probably around 20 times slower, in the fastest JS implementations (at least without static typing extensions)

[20:04:01.0000] <mcarter>
it would be really nice to have more of the native image decoder and ssl stuff exposed directly to javascript

[20:06:00.0000] <weinig>
real bytearrays would be a nice start

[20:10:00.0000] <Hixie>
mcarter: if you could send whatever feedback you have soon, that'd be great -- i really have to start working on that part of the spec (either fix it, or remove it)

[20:22:00.0000] <mcarter>
Hixie, ok, sorry for the delay. I was trying to hard to perfect my implementation. I'll send the feedback soon.

[20:22:01.0000] <Hixie>
np

[20:42:00.0000] <Hixie>
well that didn't take long

[20:42:01.0000] <Hixie>
rb just sent his complaint that i was dismissing him

[20:47:00.0000] <Hixie>
gsnedders: yt?

[01:44:00.0000] <Dashiva>
I know there exists userjs for using xpath in fragment identifiers. But I don't know of anyone using them.

[02:10:00.0000] <Lachy>
http://lists.w3.org/Archives/Public/www-archive/2008Jun/0074.html

[02:11:00.0000] <Lachy>
looks like he's asking for a new editor, simply based on the fact that Hixie disagrees with him.

[02:18:00.0000] <hdh>
/me is using FXPointer

[02:23:00.0000] <gsnedders>
Hixie: Let me ask the same question of you: yt?

[02:37:00.0000] <Dashiva>
Lachy: I wonder what it means that RB chose to CC html4all, but not public-html

[02:42:00.0000] <Lachy>
Dashiva, because it's discussing a process related issue, which shouldn't be discussed on public-html

[02:47:00.0000] <gavin_>
"Focussing on things like demand and whether implementors will  

[02:47:01.0000] <gavin_>
implement is entirely unhelpful."

[02:47:02.0000] <gavin_>
!?

[02:47:03.0000] <othermaciej>
because rob burns knows those things as well as Hixie does

[02:47:04.0000] <othermaciej>
so it's insulting to bring them up

[03:13:00.0000] <Hixie>
hey if rob burns convinces the htmlwg to remove me as editor i'd probably be the happiest person on the working group

[03:13:01.0000] <Hixie>
i'd no longer have to deal with rob burns, for one

[03:13:02.0000] <Hixie>
if it ever comes to w3c html5 vs whatwg html5, i have absolutely zero doubt about who would be able to move faster

[03:14:00.0000] <Hixie>
the motivation alone would probably double my prouctivity

[03:14:01.0000] <othermaciej>
the w3c bugzilla isn't the first one he's abused

[03:14:02.0000] <Hixie>
gsnedders: here now, but i e-mailed you anyway

[03:15:00.0000] <Hixie>
the funniest aspect of this rob burns thing is that of all the people on the wg, i think i'm the one who has spent the most time trying to consider his proposals and comments

[03:15:01.0000] <Hixie>
e.g. as far as i can tell most of his process complaints just fall on deaf ears

[03:15:02.0000] <gsnedders>
Hixie: Could you reply to my email to public-html from several days ago first?

[03:15:03.0000] <gsnedders>
Hixie: That will ensure I'm not being stupid

[03:16:00.0000] <Hixie>
um... sure

[03:16:01.0000] <Hixie>
let's see if i can work out where i put that!

[03:16:02.0000] <gsnedders>
http://lists.w3.org/Archives/Public/public-html/2008Jun/0172.html

[03:16:03.0000] <Hixie>
probably the sections folder

[03:16:04.0000] <gsnedders>
I finally found someone who has as many unread emails as Hixie, BTW

[03:16:05.0000] <gsnedders>
My dad.

[03:18:00.0000] <gsnedders>
Hixie: You've actually done some of the things, now

[03:18:01.0000] <Hixie>
does he plan to reply to that mail?

[03:18:02.0000] <othermaciej>
Hixie: I wish Rob's energy could be turned in useful directions that would help the group

[03:19:00.0000] <gsnedders>
Hixie: Oh, he hasn't looked at it yet, so he doesn't know that yet.

[03:19:01.0000] <othermaciej>
but that kind of turnaround can be hard to achieve

[03:19:02.0000] <gsnedders>
Hixie: I just got rather urgent emails forwarded from him that he got a month ago

[03:20:00.0000] <Hixie>
othermaciej: you can't convert heat energy into mechanical energy

[03:20:01.0000] <Hixie>
othermaciej: in any sort of efficient manner

[03:20:02.0000] <othermaciej>
Hixie: what if I redirect his complaints to public-carnot-cycle⊙wo?

[03:20:03.0000] <Hixie>
gsnedders: oh i read all my e-mail straight away

[03:20:04.0000] <Hixie>
gsnedders: i just don't deal with it straight away

[03:21:00.0000] <gsnedders>
Hixie: I know that — I do the same :)

[03:21:01.0000] <othermaciej>
it may not be the most efficient way but team-maxwells-demon is not publicly accessible

[03:23:00.0000] <roc>
Has any open source project discovered a way to efficiently eliminate time-wasters? I'd like to know about it

[03:25:00.0000] <gsnedders>
roc: A dictatorship?

[03:27:00.0000] <roc>
how does that help?

[03:28:00.0000] <Lachy>
roc, doing anything with time-wasters is inherently inefficent.

[03:28:01.0000] <Lachy>
most of all, trying to elimiate them.

[03:33:00.0000] <gsnedders>
roc: You just completely ignore them, then they give up

[03:33:01.0000] <Hixie>
gsnedders: replied

[03:34:00.0000] <Hixie>
roc: see the talk by fitz and co about poisonous people

[03:34:01.0000] <anne-olpc2>
bugzilla entries are fun

[03:36:00.0000] <Hixie>
(by sussman and fitz)

[03:36:01.0000] <Hixie>
http://video.google.com/videoplay?docid=-4216011961522818645

[03:36:02.0000] <Hixie>
right bed time now

[03:36:03.0000] <Hixie>
nn

[03:38:00.0000] <roc>
actually the hardest time-wasters I've found are people who are really nice and eager to help, and completely clueless

[03:41:00.0000] <othermaciej>
WebKit has been relatively free of time-wasters

[03:41:01.0000] <othermaciej>
I think because it has no UI

[03:42:00.0000] <othermaciej>
and most of what it does is readily judged by objective criteria like standards and performance metrics

[03:48:00.0000] <Dashiva>
roc: Those can be channeled into doing manual labor, though

[07:52:00.0000] <gsnedders>
Something is badly broken with my impl.. Ergh.

[07:53:00.0000] <gsnedders>
assert self.current_section != self.current_section.subsections[-1]

[08:04:00.0000] <gsnedders>
See, the oddness is that as far as I can see, you shouldn't ever be able to reach the assertion

[08:05:00.0000] <gsnedders>
(Well, you should reach it, it should just never ever throw an assertion error)

[08:07:00.0000] <gsnedders>
http://pastebin.com/m6cd75910 — anyone see anyway anything can become a subsection of itself?

[08:07:01.0000] <Philip`>
Add lots of 'print' statements wherever any of those variables are modified, to see where the error gets introduced?

[08:07:02.0000] <gsnedders>
Philip`: I've added loads of assert statements, which should cause an error before it reaches there

[08:09:00.0000] <Philip`>
Shouldn't the assert on line 105 say "not in" rather than "!=", if you're trying to detect the cases where a section might become its own subsection?

[08:09:01.0000] <gsnedders>
Philip`: Both are single section objects, so no

[08:10:00.0000] <Philip`>
Oh, indeed, I'm just being confused

[08:10:01.0000] <gsnedders>
it's line 149 when an assertion is thrown: nowhere else

[08:11:00.0000] <gsnedders>
(and of course around line 149, if it is a subsection, you're in an infinite loop)

[08:11:01.0000] <Philip`>
If you want people to debug your code, you should give them a runnable example that demonstrates the problem :-)

[08:12:00.0000] <gsnedders>
Philip`: I'm just playing around with the interactive interpreter :P

[08:13:00.0000] <Philip`>
gsnedders: That seems to be irrelevant to my point :-p

[08:15:00.0000] <gsnedders>
Philip`: http://pastebin.com/m55b99a32 — will that do? :P

[08:17:00.0000] <gsnedders>
Philip`: Just remove line 26 if you want it to actually run

[08:21:00.0000] <Philip`>
<h2></h2><h3></h3><table><tr><td></table>

[08:21:01.0000] <Philip`>
That seems to trigger the error

[08:24:00.0000] <gsnedders>
td is a sectioning root

[08:26:00.0000] <Philip`>
Ah - <h1></h1><h2></h2><figure> seems like a possibly minimal case, then

[08:27:00.0000] <gsnedders>
The first <h1> becomes the heading of the body

[08:27:01.0000] <gsnedders>
<h2> hits the otherwise substeps in "When entering a heading content element"

[08:33:00.0000] <hdh>
http://mg.pov.lt/blog/object-graphs-with-graphviz prints a object reference graph, may be it can help

[10:10:00.0000] <Lachy>
Philip`, do you have a full list of pages that use /> on unknown elements published somewhere?

[10:11:00.0000] <Philip`>
Lachy: No

[10:11:01.0000] <Lachy>
ok

[10:11:02.0000] <Lachy>
do you know if there are pages that use /> on some of the newly introduced HTML5 elements? e.g. <section/>, etc.?

[10:12:00.0000] <Philip`>
I just grepped for <(?!a|b|...|br|dd|...)\w[^>]*/>

[10:12:01.0000] <Philip`>
using the list of element names from hsivonen's parser

[10:13:00.0000] <Philip`>
Mostly it finds RDF (Creative Commons, Trackback, etc) in comments, and VML

[10:13:01.0000] <Philip`>
(where the VML is also in (conditional) comments)

[10:14:00.0000] <Philip`>
If you have a list of the newly introduced HTML5 elements, I could look for that

[10:15:00.0000] <Philip`>
(I think it's unlikely to find anything, since none of the HTML5 element names are used significantly)

[10:16:00.0000] <Philip`>
(unless you count <embed> etc)

[10:17:00.0000] <zcorpan_>
http://www.w3.org/TR/html5-diff/#new-elements

[10:17:01.0000] <Philip`>
(<header> seems to be the most common, on 40 out of 130K pages)

[10:19:00.0000] <Lachy>
article|aside|audio|canvas|command|datagrid|datatemplate|details|event-source|figure|footer|header|mark|meter|nest|progress|rule|section|source|time|video

[10:21:00.0000] <Philip`>
http://www.outbackatisa.com.au/AttractionsatOutbackatIsa/RiversleighFossilsCentre.aspx

[10:22:00.0000] <Philip`>
<time hour="8" minute="30" /><span style="FONT-SIZE: 8pt; FONT-FAMILY: Verdana; mso-font-kerning: 0pt; mso-ansi-language: EN-US; mso-fareast-language: EN-US">8.30am - 5.00pm</span></time />

[10:24:00.0000] <Lachy>
is that it? One page is hardly significant evidence.

[10:25:00.0000] <Philip`>
Wait a few minutes :-)

[10:25:01.0000] <Lachy>
ok

[10:25:02.0000] <takkaria>
I'm pretty sure I've seen Hixie show pages which have it in quantity that would screw up if parsed as empty elements

[10:25:03.0000] <takkaria>
(except s/bad grammar/good english/)

[10:26:00.0000] <Philip`>
takkaria: On unknown elements?

[10:26:01.0000] <takkaria>
mm, perhaps not

[10:26:02.0000] <Philip`>
There's loads of known elements where it'd break, but IE already parses unknown elements as effectively empty so nobody should be intentionally relying on that behaviour

[10:27:00.0000] <Lachy>
it's ok. I have other argument's against Rob's proposal that doesn't depend on this particular evidence.

[10:28:00.0000] <Philip`>
Lachy: (Finished searching) That's the only one (excluding any pages that split the tag over multiple lines)

[10:30:00.0000] <Philip`>
(There's a million times more pages that I didn't search than I did, so it's not possible to conclude anything much from a lack of evidence)

[10:30:01.0000] <gsnedders>
Philip`: Well, go search some more!

[10:30:02.0000] <takkaria>
it would be very confusing for future authors to have to use the solidus sometimes but not always

[10:30:03.0000] <Lachy>
takkaria, yeah, that's my other argument that I've written

[10:31:00.0000] <takkaria>
but I can see the worth in the proposal.  I'm not quite sure what kind of empty elements one would want to include in the future, though...

[10:31:01.0000] <Lachy>
hey, why doesn't this section list any of the new void elements, like source and event-source? http://www.whatwg.org/specs/web-apps/current-work/#elements0

[10:32:00.0000] <gsnedders>
Lachy: Because Hixie sucks>?

[10:32:01.0000] <gsnedders>
s/>//

[10:32:02.0000] <Philip`>
gsnedders: I've already got too many to fit in RAM, so searches take ages, so I don't want more :-(

[10:32:03.0000] <Philip`>
(*I don't want more pages; I do want more RAM)

[10:33:00.0000] <gsnedders>
Philip`: Can't we give you more of both?

[10:33:01.0000] <Lachy>
how much RAM do you have?

[10:33:02.0000] <Philip`>
Lachy: 4GB

[10:33:03.0000] <Lachy>
ok, not too bad.

[10:34:00.0000] <Lachy>
It'd be nice when we can have 16TB of RAM. Then we would have these problems.

[10:34:01.0000] <gsnedders>
Lachy: 16TB of RAM should be enough for anyone!

[10:34:02.0000] <gsnedders>
s/16TB/640KB/

[10:34:03.0000] <krijnh>
hober: ping

[10:35:00.0000] <Lachy>
16TB of RAM is more than I have available on hard drives.

[10:35:01.0000] <Philip`>
Also I'd run out of allocated disk space, and I can't remember the LVM commands to merge physical partitions and rebuild the RAID and filesystem and everything so I'd probably destroy my computer

[10:37:00.0000] <Philip`>
(and the sysadmin complained when I last modified the disk stuff, since I'd grown the root filesystem to 32GB when I only really needed 8GB)

[10:40:00.0000] <gsnedders>
/me needs his 15GB of music

[10:41:00.0000] <Philip`>
That reminds me, I should compress all the cached pages to save on IO and RAM

[10:42:00.0000] <Philip`>
gsnedders: I keep all that on my personal laptop, not on my work machine :-)

[10:42:01.0000] <gsnedders>
Philip`: They are one and the same for me :)

[10:43:00.0000] <Philip`>
gsnedders: Clearly you have too few computers

[10:43:01.0000] <gsnedders>
Philip`: Clearly.

[10:43:02.0000] <Lachy>
yeah, you can never have too many computers.

[10:44:00.0000] <Lachy>
I have 4 and I'm ordering a 5th tomorrow.

[10:44:01.0000] <gsnedders>
/me has far too many in this house

[10:44:02.0000] <gsnedders>
Only that a lot of them are from the mid/late 90s

[10:45:00.0000] <Lachy>
although, I'm replacing my old and mostly dead Mac Mini and really big, bulky and noisy PC with a new iMac

[10:45:01.0000] <takkaria>
mm, BBC BASIC

[10:49:00.0000] <Philip`>
/me 's parents had about a dozen from the 90s, but threw them all out recently :-(

[10:52:00.0000] <Lachy>
/me files a new bug, in the hope that it will increase the number of useful bugs from 0 to 1

[10:52:01.0000] <Lachy>
s/useful bugs/useful bug reports/

[10:53:00.0000] <Philip`>
Who's dave.null⊙wo?

[10:54:00.0000] <Lachy>
Philip`, just the default assignee of all bugs.

[10:55:00.0000] <Philip`>
/me wonders if it's related to a real person called Dave, or just a joke on /dev/null

[10:55:01.0000] <Lachy>
it's either an archived list, or just an email address that files everything in /dev/null

[10:56:00.0000] <Lachy>
and it's not listed in either the Public or Member lists. It could be in Team, but unlikely

[11:00:00.0000] <Philip`>
Hmm, Gentoo has opera-9.50 (and marked stable) now

[11:00:01.0000] <Philip`>
/me wonders if he should risk upgrading

[11:10:00.0000] <gsnedders>
Philip`: Even more minimalistic test case: "<table><tr><td>foo"

[11:12:00.0000] <Philip`>
Ah, that's confusingly non-monotonic - I had tried removing just one of the headings, which made the error go away, and didn't try removing both

[11:12:01.0000] <gsnedders>
Philip`: I still got the error with one header

[11:13:00.0000] <Philip`>
Oh

[11:25:00.0000] <zcorpan_>
i wonder why i'm not getting any email

[11:29:00.0000] <gsnedders>
/me is tempted to go and play through GTA4 again, making all the choices he didn't make before

[11:30:00.0000] <Philip`>
You didn't make the choice to not play the game, so that means you would have to make that choice now

[11:31:00.0000] <gsnedders>
s/choices/choices within the game/

[11:32:00.0000] <Philip`>
You didn't make the choice to be a perfectly law-abiding citizen within the game

[11:34:00.0000] <gsnedders>
s/choices within the game/choices that occur while completing the game storyline/

[11:35:00.0000] <Philip`>
You didn't make the choice to walk backwards all the time

[11:36:00.0000] <gsnedders>
oh fuck off.

[11:36:01.0000] <Philip`>
You're just being insufficiently precise

[11:48:00.0000] <takkaria>
http://wiki.whatwg.org/wiki/Parser_tests says that the tests have a correctness flag

[11:48:01.0000] <takkaria>
er, that doctypes have a correctness flag

[11:49:00.0000] <takkaria>
whilst now they have a force-quirks flag

[11:49:01.0000] <takkaria>
I assume that force-quirks is = !correctness

[11:49:02.0000] <Philip`>
takkaria: It is

[11:49:03.0000] <takkaria>
ta

[12:51:00.0000] <gsnedders>
Going back to <http://pastebin.com/m6cd75910>, it seems section.subsections gets set somewhere

[12:51:01.0000] <gsnedders>
I can't see where, though

[13:01:00.0000] <gsnedders>
I just had the error vanish for one run

[13:01:01.0000] <gsnedders>
Huh.

[13:10:00.0000] <Philip`>
gsnedders: Shouldn't line 128 be "pass" instead of "return", else it won't run the "In addition, whenever you exit a node, ..." bit?

[13:11:00.0000] <gsnedders>
Philip`: Peh. That's irrelevant! It doesn't even associate anything apart from elements with sections anyway. It's broken there.

[13:11:01.0000] <gsnedders>
Philip`: And I've removed that from my local copy entirely now

[13:13:00.0000] <Philip`>
Ooh

[13:13:01.0000] <Philip`>
Your definition of 'class section' is broken

[13:14:00.0000] <Philip`>
because the 'subsections = []' etc is assigning a single list object when the class is first defined, whereas you want a new list object for each instance of that class

[13:15:00.0000] <Philip`>
so the .subsections of all section objects is exactly the same list

[13:15:01.0000] <Philip`>
(so when one section is added to another's subsections, it's being added to its own subsections too)

[13:16:00.0000] <gsnedders>
ahah!

[13:19:00.0000] <gsnedders>
Something is certainly broken with the algorithm

[13:19:01.0000] <gsnedders>
<h1/><h2/><h2/> Never picks up the second h2

[13:20:00.0000] <Philip`>
((And obviously the same problem applies to the 'toc' class, if you're using it more than once))

[13:21:00.0000] <gsnedders>
hmm…

[13:21:01.0000] <gsnedders>
it seems to be quicker to have stack as a normal list and not a deque, as len() is quicker on a normal list

[13:22:00.0000] <Philip`>
You can avoid lots of uses of len by doing "if foo" instead of "if len(foo) > 0", which should be faster

[13:23:00.0000] <Philip`>
Also doing stacks as lists is sensible anyway, since lists are optimised for adding/removing from the end, which is exactly what you do to a stack

[13:23:01.0000] <gsnedders>
Yeah, that is quicker

[13:23:02.0000] <gsnedders>
Philip`: deque should be quicker for any frequently changing list, AFAIK

[13:25:00.0000] <Philip`>
gsnedders: That depends entirely on how you're changing it :-)

[13:25:01.0000] <gsnedders>
Philip`: I meant changing it from the right end

[13:25:02.0000] <gsnedders>
(because if you're not, deque is obviously going to quicker, due to it being an O(1) op. there, and an O(n) one in a list)

[13:27:00.0000] <Philip`>
By "right end", do you mean "correct end" or "end with highest index value"?

[13:28:00.0000] <gsnedders>
Philip`: "correct"?

[13:31:00.0000] <Philip`>
lists are O(1) push-right and pop-right and get and set, and O(n) push-left and pop-left; deques are O(1) push and pop on left and right (with a larger constant factor than lists), and O(n) on get and set

[13:33:00.0000] <Philip`>
gsnedders: By "correct end" (for lists) I mean the end with the highest index value, since that's fast and the other end is slow

[13:33:01.0000] <gsnedders>
Philip`: Then why the "or", as they're both the same

[13:33:02.0000] <jgraham>
gsnedders; I get sensible results from <h1>foo</h1><h2>bar</h2><h2>baz</h2>

[13:34:00.0000] <gsnedders>
jgraham: On my impl or yours?

[13:34:01.0000] <jgraham>
On my imp.

[13:34:02.0000] <jgraham>
I think

[13:35:00.0000] <jgraham>
Although I no longer understand how my implementation works

[13:35:01.0000] <jgraham>
I'll see if the online copy is up to date

[13:38:00.0000] <Philip`>
gsnedders: Because I was unsure which you meant, and whether you meant only lists (where one end is correct) or also deques (where neither is)

[13:40:00.0000] <jgraham>
gsnedders: Try the case that you're having  problem with at http://james.html5.org/outliner.html

[13:41:00.0000] <gsnedders>
jgraham: That doesn't work for me

[13:42:00.0000] <jgraham>
What doesn't work?

[13:42:01.0000] <gsnedders>
jgraham: the outliner in saf

[13:42:02.0000] <gsnedders>
jgraham: And in Fx2 all I get is "updating…"

[13:43:00.0000] <jgraham>
Oh, well try FF3 then :)

[13:43:01.0000] <jgraham>
/me goes to debug Safari

[13:43:02.0000] <jgraham>
Or rather debug my ode in Safari

[13:44:00.0000] <Philip`>
An ode to Safari?

[13:45:00.0000] <jgraham>
Hmm I've heard that code is poetry but I'm not sure that Shakespeare is concerned with my efforts

[13:46:00.0000] <Philip`>
http://www.unix.com.ua/orelly/perl/prog3/ch27_02.htm

[13:47:00.0000] <gsnedders>
Yeah, it works fine there

[14:04:00.0000] <gsnedders>
jgraham: is the script (web_outline) that actually makes the structure visible available?

[14:11:00.0000] <gsnedders>
Hixie: Is line 136 of http://pastebin.com/m6cd75910 correct?

[14:11:01.0000] <gsnedders>
Hixie: Or am I still misunderstanding you?

[14:28:00.0000] <jgraham>
gsnedders: The actual useful script is outline.py

[14:28:01.0000] <jgraham>
Which I can make avaliable

[14:28:02.0000] <gsnedders>
jgraham: Yeah, I know, but I want to see web_outline :P

[14:34:00.0000] <jgraham>
gsnedders: Not very useful? http://pastebin.com/d7520d64b

[14:37:00.0000] <gsnedders>
jgraham: http://james.html5.org/temp/outline/outline.py doesn't actually build the visible output

[14:38:00.0000] <gsnedders>
oh, wait, the tostring does

[14:42:00.0000] <jgraham>
Yeah, the tostring actually builds the visible content. Not really very elegant

[14:42:01.0000] <jgraham>
What did you decide was the best way to get text out of lxml elements?

[14:43:00.0000] <gsnedders>
jgraham: etree.tostring(element, encoding=unicode, method='text', with_tail=False)

[14:47:00.0000] <jgraham>
gsnedders: Thanks

[14:47:01.0000] <gsnedders>
jgraham: Thank Philip` too

[14:48:00.0000] <jgraham>
Philip`: Thanks :)

[14:52:00.0000] <gsnedders>
http://pastebin.com/m137dfc92 — I can't get that to create any sane TOC

[14:52:01.0000] <gsnedders>
Looking at the outline of the body, I find 440 sections

[14:53:00.0000] <gsnedders>
And there aren't that many h2 elements in HTML 5

[14:53:01.0000] <gsnedders>
(there are 19 in my copy)

[15:42:00.0000] <Philip`>
Hmm, enumerating all combinations of {0, Infinity, -Infinity, NaN} for each argument of an 8-argument function is not a good idea

[16:12:00.0000] <Dashiva>
Lachy: Don't give up! Don't let him confuse you!

[16:44:00.0000] <Lachy>
Dashiva, what are you referring to?

[16:49:00.0000] <Lachy>
are you referring to Rob's bugzilla responses?


2008-06-16
[00:17:00.0000] <virtuelv>
Wow. Microsoft provided the feedback in a readable form

[00:23:00.0000] <Dashiva>
Lachy: Yes

[00:41:00.0000] <Hixie>
if anyone wants to reply to microsoft's feedback, i sent a plain text version with the bs cut out

[00:45:00.0000] <hsivonen>
I think I have a couple of observations, but perhaps I should refrain from poking this stuff

[00:45:01.0000] <hsivonen>
(nothing that hasn't been said before)

[00:56:00.0000] <hsivonen>
whoa! UPnP lets device configuration state be changed by GET with a magic header? that's sad.

[01:08:00.0000] <Hixie>
uPnP is a disaster

[01:09:00.0000] <othermaciej>
that is scary

[01:09:01.0000] <othermaciej>
but I guess that means it is unsafe to allow custom headers beyond a specific whitelist for cross-site requests?

[01:09:02.0000] <Hixie>
i thought we already had established that

[01:09:03.0000] <othermaciej>
(or that server-side preflight opt-in is required?)

[01:09:04.0000] <othermaciej>
I'm not 100% sure of the state of things but I had assumed that was so as well

[01:09:05.0000] <Hixie>
didn't XHR2 have a whitelist for headers already?

[01:10:00.0000] <Hixie>
i've kinda lost track of the way the spec is

[01:10:01.0000] <Hixie>
it keeps bouncing back and forth

[01:10:02.0000] <othermaciej>
there's server out there that will have side effects based on GET with a query string as well

[01:10:03.0000] <Hixie>
yup

[01:10:04.0000] <Hixie>
lots, ven

[01:10:05.0000] <Hixie>
even

[01:10:06.0000] <hsivonen>
hmm. one of the key arguments against CS-XHR is that clueless PHP programmers will shoot themselves in the foot if you give them enough rope

[01:11:00.0000] <othermaciej>
I think I might actually prefer to meet with Mozilla+Opera+Google than the full f2f at this point, to make progress on this topic

[01:11:01.0000] <hsivonen>
but then the key rationale why XDR doesn't suck is that MS advices people not to shoot themselves in the foot

[01:11:02.0000] <othermaciej>
hsivonen: that argument applies to XDR as well

[01:12:00.0000] <Hixie>
othermaciej: i'd be happy to attend such a meeting

[01:12:01.0000] <othermaciej>
well, maybe we can take time out from the f2f for that

[01:12:02.0000] <Hixie>
wfm

[01:13:00.0000] <Hixie>
i guess i should book a hotel

[01:13:01.0000] <othermaciej>
I don't want to devote a huge amount of time to Microsoft's feedback if they are not interested in coming up with an interoperable solution

[01:13:02.0000] <othermaciej>
yeah I gotta get that set up as well

[02:43:00.0000] <Lachy>
MikeSmith, can the bugzilla prefs be changed so that public-html-bugzilla doesn't receive mail for simple things like changing the CC field, and only receives mail for substantial changes/comments

[02:44:00.0000] <MikeSmith>
Lachy: yeah, sure

[02:44:01.0000] <MikeSmith>
will do it now

[02:45:00.0000] <MikeSmith>
I had not really intended originally that the list be something that people actually subscribed to

[02:45:01.0000] <MikeSmith>
I had thought of it as just being a place to have a record

[02:45:02.0000] <MikeSmith>
But I can see it needs to be more usefl

[02:45:03.0000] <MikeSmith>
will change the prefs right now

[02:46:00.0000] <Lachy>
thanks

[02:47:00.0000] <Lachy>
I assumed lots of people would subscribe to it, since it's easier than manually adding oneself to individual bugs each time

[02:47:01.0000] <Dashiiva>
Yeah

[02:50:00.0000] <MikeSmith>
Lachy: btw, based on your heads-up previously, I did get the list perms set such that only the bugzilla mailbot can post to the list

[02:50:01.0000] <MikeSmith>
so no more spam

[02:55:00.0000] <Lachy>
ok, thanks

[02:57:00.0000] <MikeSmith>
Lachy: OK, mail goes out now only for the following cases:

[02:57:01.0000] <MikeSmith>
The bug is resolved or reopened

[02:58:00.0000] <MikeSmith>
New comments are added

[02:58:01.0000] <MikeSmith>
New attachments are added

[02:58:02.0000] <MikeSmith>
Some attachment data changes

[02:58:03.0000] <Dashiiva>
The first case includes new bugs?

[03:00:00.0000] <MikeSmith>
Dashiiva: yeah

[03:01:00.0000] <MikeSmith>
actually, there's one more case:

[03:01:01.0000] <MikeSmith>
I'm added to or removed from this capacity

[03:01:02.0000] <Dashiiva>
So if someone assigns a bug to the email alias user, we'd get email? :)

[03:01:03.0000] <MikeSmith>
"added" also covering the case where the address is in the default Cc to begin with

[03:01:04.0000] <MikeSmith>
Dashiiva: yeah

[03:02:00.0000] <MikeSmith>
I can't see how to prevent that if someone were to want to be a smartass and do it

[03:03:00.0000] <Dashiiva>
Just keep it in as a way to detect and filter out smartasses

[03:18:00.0000] <MikeSmith>
Dashiiva: :)

[04:06:00.0000] <annevk>
Lachy, the toDataURL line you paste should be added, it should not reply any existing line

[04:09:00.0000] <Philip`>
Does "[Variadic] in any args" mean any number of arguments, including zero?

[04:09:01.0000] <heycam>
Philip`, yes

[04:09:02.0000] <Lachy>
annevk, why? WebIDL says [Variadic] is zero or more

[04:11:00.0000] <annevk>
:/

[04:11:01.0000] <annevk>
that's confusing

[04:12:00.0000] <Lachy>
why is that confusing? Did you expect it to be at least 1?

[04:12:01.0000] <annevk>
yes

[04:13:00.0000] <Philip`>
It makes me think of C functions like "int printf(char*, ...)" where the ... can be zero or more arguments

[04:14:00.0000] <Lachy>
I wonder if there are any cases where a Variadic requires at least 1 argument, and whether it would be worth adding an argument like [Variadic=0] or [Variadic=1]. But I can't think of any such methods right now.

[04:14:01.0000] <annevk>
well, making it minimal 1 doesn't hurt anyone

[04:14:02.0000] <annevk>
as the optional case can be explicitly listed due to overloading

[04:14:03.0000] <heycam>
though you could just do   void f(in int requiredArg, [Variadic] in int optionalArgs)

[04:15:00.0000] <heycam>
an alternative would be to put the [Variadic] on the operation itself, but at least on the argument you get to keep the type there

[04:15:01.0000] <heycam>
and a hook for language bindings that don't do varargs

[04:15:02.0000] <heycam>
(where that [Variadic] argument could map to an array or whatever)

[04:17:00.0000] <annevk>
(it was also not entirely clear to me Variadic would mean 1 or more, I thought it was just about accepting various types)

[04:18:00.0000] <annevk>
but maybe I should just read the spec first

[04:22:00.0000] <annevk>
http://www.w3.org/mid/48561744.40604⊙cc -_-

[04:23:00.0000] <Lachy>
heycam, why did you call it Variadic? Isn't there a more understandable name that could be used?

[04:23:01.0000] <heycam>
hmm, i thought it was the appropriate word

[04:23:02.0000] <heycam>
(being what the "var" stands for in "varargs")

[04:23:03.0000] <heycam>
[MultiArgs!] :)

[04:23:04.0000] <Lachy>
[Varargs] would make more sense

[04:24:00.0000] <hsivonen>
I supposed I should trust that vtab is gone for good from the parsing algorithm

[04:25:00.0000] <heycam>
(http://en.wikipedia.org/wiki/Variadic_function)

[04:26:00.0000] <Lachy>
yeah, I found that. I'd never heard of the term before.

[04:26:01.0000] <Lachy>
http://en.wikipedia.org/wiki/Varargs redirects there, so maybe either is acceptable

[04:29:00.0000] <roc>
Variadic is a word

[04:29:01.0000] <roc>
Varargs is not

[04:30:00.0000] <heycam>
although i'd say varargs might be more widely recognised, i'd go for variadic for the reason roc says

[04:30:01.0000] <Lachy>
according to which dictionary?

[04:30:02.0000] <roc>
any dictionary that wasn't written by C hackers

[04:30:03.0000] <Lachy>
neither answers.com or dictionary.com know of it.

[04:31:00.0000] <annevk>
they're prolly done in C then!

[04:31:01.0000] <heycam>
most dictionaries don't have technical terms

[04:32:00.0000] <Lachy>
ok, I believe you now. http://en.wiktionary.org/wiki/-adic

[04:32:01.0000] <heycam>
is the root of the word the same as that of "monadic", i wonder?

[04:32:02.0000] <heycam>
ah there you go :)

[04:33:00.0000] <roc>
btw you need subject lines in all your IRC messages

[04:34:00.0000] <heycam>
Subject: Re: btw you need subject lines in all your IRC messages\n\nreally?

[04:34:01.0000] <annevk>
so you'd say "print() is a niladic function"?

[04:35:00.0000] <heycam>
well i wouldn't, that sounds silly :)

[04:35:01.0000] <roc>
Mathematicians actually do talk about nullary functions sometimes

[04:35:02.0000] <annevk>
or maybe "print() is niladic"

[04:36:00.0000] <hsivonen>
/me wonders if the differences in the notion of whitespace between HTML5, XML 1.0 and XML 1.1 have caused any exploitable TOC/TOU security holes

[04:37:00.0000] <roc>
hmm, following the -ary suffix, Wikipedia suggests 'multary' or 'multiary'

[04:37:01.0000] <roc>
variary

[04:37:02.0000] <heycam>
hehe

[04:39:00.0000] <hsivonen>
/me zaps vtab, is going to be unhappy if it makes a comeback

[04:41:00.0000] <hsivonen>
Hixie: regarding the generic [R]CDATA algorithm: Gecko seems to be happy to execute a script even if an empty script element is appended to the DOM first and then the entire script is appended as one text node child to it

[04:41:01.0000] <hsivonen>
WebKit, too

[04:42:00.0000] <hsivonen>
Hixie: so the unusual point of view of the control where the tree builder starts pulling tokens is unnecessary if the tree builder buffers text node contents

[04:42:01.0000] <hsivonen>
(unless I'm missing something, of course)

[04:43:00.0000] <hsivonen>
Hixie: (tested with the tree builder executing in Java but driving browser DOMs through the magic of GWT hosted mode)

[04:43:01.0000] <hsivonen>
(and the tree builder executing as GWT-compiled JS)

[05:08:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/www-tag/2008Jun/0078.html

[05:09:00.0000] <hsivonen>
I wonder what general assumptions about CDNs are wrong

[05:32:00.0000] <hsivonen>
does anyone happen to remember what the unresponsive script timeout time is in Gecko and WebKit?

[05:33:00.0000] <hsivonen>
(does Opera have a timeout?)

[05:34:00.0000] <hsivonen>
/me discovers that the timeout has an unobvious pref name

[05:35:00.0000] <hsivonen>
seems to be 10 seconds in Firefox 3

[05:35:01.0000] <Dashiiva>
security through users never guessing the name of the pref

[05:38:00.0000] <annevk>
I don't think Opera has a timeout, we don't really need it

[05:42:00.0000] <virtuelv>
I've had scripts running for 30 minutes

[05:42:01.0000] <virtuelv>
(Don't ask, just don't)

[05:44:00.0000] <zcorpan>
virtuelv: was it while(1); ?

[05:44:01.0000] <virtuelv>
zcorpan: no

[05:45:00.0000] <virtuelv>
generated some huge-ass images with canvas

[05:46:00.0000] <annevk>
mandelbrot++

[05:49:00.0000] <virtuelv>
yes

[05:49:01.0000] <virtuelv>
and the implementation sucks, I know

[05:50:00.0000] <virtuelv>
I should probably rewrite it some day

[06:01:00.0000] <zcorpan>
are my expectations wrong here? http://simon.html5.org/test/html/dom/interfaces/HTMLElement/HTMLMediaElement/const-unsigned-short/002.htm

[06:01:01.0000] <zcorpan>
i don't quite grasp ecmascript and webidl :(

[06:01:02.0000] <zcorpan>
or i don't know the details i guess

[06:20:00.0000] <hsivonen>
what should I do with exceptions thrown out of code run via setTimeout?

[06:20:01.0000] <Dashiiva>
Wrap the functions used in setTimeout in a try/catch wrapper?

[06:21:00.0000] <hsivonen>
Dashiiva: and discard the exception in catch?

[06:21:01.0000] <Dashiiva>
Depends on what you're trying to accomplish. Which I forgot to ask.

[06:22:00.0000] <hsivonen>
I'm trying not to reinvent clean error handling patterns for long-running JS code that pumps work units using setTimeout

[06:23:00.0000] <hsivonen>
hmm. I suppose I make an error callback for the app to set

[06:23:01.0000] <Dashiiva>
Sounds like a plan. 

[06:30:00.0000] <Philip`>
virtuelv: If you're going to rewrite it, you should rewrite it in C ;-)

[06:30:01.0000] <Philip`>
Make a viewer like Google Maps, where each Mandelbrot tile is computed on the server, and with no limit on how far you can zoom in

[06:32:00.0000] <Philip`>
zcorpan: Having a function named 'assert' that sets its argument to 42 is confusingly unconventional

[06:34:00.0000] <zcorpan>
Philip`: yes

[06:35:00.0000] <zcorpan>
Philip`: i'll change it to test() :)

[09:41:00.0000] <Philip`>
Wow, web browser interoperability actually sort of works - Microsoft's fancy AJAX newsgroup reader appears to mostly work fine in Opera 9.5, as long as I set "Mask as Internet Explorer"

[09:54:00.0000] <annevk>
BTW, there was some confusion about Access Control and headers in this channel at some point. There's indeed a whitelist for GET requests. For headers not on the whitelist a preflight request is made. (This is not a concern for other methods where a preflight request is already a requirement.)

[10:00:00.0000] <annevk>
It seems that it is also part of the MS feedback though the later admit it's protected by a preflight request. I don't think their feedback identifies any new issues. (I've read through it twice so far.)

[10:39:00.0000] <gsnedders>
huh

[10:39:01.0000] <gsnedders>
jgraham: is http://james.html5.org/temp/outline/outline.py out of date?

[10:39:02.0000] <gsnedders>
jgraham: I'm getting different results running it locally :\

[10:40:00.0000] <gsnedders>
<h1>Foo</h1><h2>Bar</h2><h2>Lol</h2> gives what I'd expect at <http://james.html5.org/outliner.html>, but running it locally agrees with my impl, which makes the second <h2> at the same level as the <h1>

[11:54:00.0000] <Dashiva>
Anyone involved with bindings4dom here?

[11:56:00.0000] <Dashiva>
I'm reading 4.4.2. Host object [[Put]] method. There seems to be no way to set a property that doesn't already exist.

[12:02:00.0000] <annevk>
heycam is the editor

[16:03:00.0000] <heycam>
Dashiva, if that's the case that's a bug :)

[16:03:01.0000] <heycam>
i'll have a look once i'm at uni

[16:12:00.0000] <jgraham__>
gsnedders: I copied the latest version of outline.py to james.html5.org/temp/outline/outline.py

[16:36:00.0000] <Dashiva>
Just to see if I got the terminology right... HTMLDivElement is an 'interface object', HTMLDivElement.prototype (also somediv.[[prototype]]) is an 'interface prototype object' and somediv is a 'host object implementing an interface'.

[16:36:01.0000] <heycam>
Dashiva, i see the bug (the "go to step 23")

[16:36:02.0000] <heycam>
(in web idl's [[Put]])

[16:37:00.0000] <heycam>
Dashiva, yeah that's the terminology i used

[16:37:01.0000] <Dashiva>
heycam: That's half of it

[16:37:02.0000] <Dashiva>
The other half is step 14

[16:38:00.0000] <Dashiva>
If the property doesn't exist, it continues to 15 and from there you can't get anywhere beyond 19

[16:38:01.0000] <heycam>
hmm

[16:39:00.0000] <heycam>
ok i'll take a look at it

[16:39:01.0000] <Dashiva>
Actually, probably step 15 is the problem

[16:39:02.0000] <Dashiva>
Since it has to check PutForwards before going on to create

[16:39:03.0000] <Dashiva>
So instead of throwing an exception, it should jump to 24

[16:40:00.0000] <Dashiva>
*19

[16:40:01.0000] <Dashiva>
You know what, it's too late for this. Don't listen to me. Zzz :)

[16:41:00.0000] <heycam>
yeah that step 15 is assuming the property already exists

[16:41:01.0000] <heycam>
which it shouldn't


2008-06-17
[18:04:00.0000] <takkaria>
could anyone confirm my reading of the tokenisation part of the spec, that '<h a="&not">' should result in an 'a' attribute containing the not symbol?

[18:05:00.0000] <takkaria>
oh, wait, I think I see my problem

[00:00:00.0000] <heycam>
Dashiiva, fixed the thing you mentioned earlier

[00:14:00.0000] <othermaciej>
Hixie: sicking said almost everything I would have said in his reply to Microsoft's feedback

[00:14:01.0000] <othermaciej>
I am tempted to +1

[00:15:00.0000] <Hixie>
heh

[00:15:01.0000] <Hixie>
i haven't read it yet

[00:15:02.0000] <Hixie>
i can't believe they stuffed so much filler crap into that feedback

[00:16:00.0000] <Hixie>
on another note, the htmlwg bugzilla hasn't had any activity for at least 6 hours

[00:16:01.0000] <othermaciej>
I was dismayed that many of their quotes were clearly out of context

[00:17:00.0000] <othermaciej>
or at least, they turned them towards ends that I am pretty sure the authors of said comments did not intend

[00:17:01.0000] <othermaciej>
this cast doubt on the contextual validity of their other quotes for me

[00:18:00.0000] <Hixie>
hence the version i provded that just has their actual feedback

[00:18:01.0000] <Hixie>
stripping out the stuff that doesn't actually contibute

[01:05:00.0000] <heycam>
Dashiva, in your mail you said s14 of the [[Put]] can be removed.  why's that?

[01:13:00.0000] <Dashiva>
heycam: If you would jump in s14 there's no such property. That means that in s15, there can't be a property with putforwards either (since there's no property)

[01:15:00.0000] <heycam>
but you jump in s14 if there is no property

[01:15:01.0000] <heycam>
/me confused

[01:16:00.0000] <Dashiva>
And you jump in s15 if there is no property (or there is a property, and it's not putforwards)

[01:16:01.0000] <Dashiva>
Essentially s15 is all of s14 + check putforwards

[01:18:00.0000] <heycam>
true i could combine s14 and s15 to say "If O does not have a property with name P, or if it does but it does not blah blah [PutForwards] ..."

[01:19:00.0000] <heycam>
i split them only to avoid a big conditional thing like that

[01:19:01.0000] <Dashiva>
I just figured 'does not correspond to an attribute' included the case 'there is no such attribute'

[01:20:00.0000] <heycam>
ah, k

[01:20:01.0000] <Dashiva>
Also, it seems a bit string to split on attribute exists/not in step 14, and then combine them into step 19, and then split again in step 21

[01:20:02.0000] <Dashiva>
s/string/strange/

[01:20:03.0000] <heycam>
or you figured "If the property on O with name P does not correspond ..." could still evaluate to false if there is no such property

[01:21:00.0000] <Dashiva>
Yeah. I see it might not be spec-level clarity.

[01:23:00.0000] <heycam>
so with the splitting on 14 / combining on 19 / splitting on 21... could you elaborate?

[01:24:00.0000] <Dashiva>
If the property does not exist, or if the property exists but is not putforward, in both cases it is necessary to run [[CanPut]].

[01:24:01.0000] <Dashiva>
(which is step 19)

[01:26:00.0000] <heycam>
yep...

[01:26:01.0000] <Dashiva>
And step 19 leads to step 21, where it checks if the property exists. Again.

[01:30:00.0000] <heycam>
so you'd rather have two branches from s14/s15, and include the [[CanPut]] in both?

[01:31:00.0000] <heycam>
or i could bring the [[CanPut]] up above s14 (but then it's irrelevant if we get to s16)

[01:31:01.0000] <Dashiva>
I'd rather not branch on 14, and just send both cases to 19.

[01:32:00.0000] <Dashiva>
Hmm... actually...

[01:33:00.0000] <Dashiva>
PutForwards implies a Readonly attribute, so we can't CanPut before it anyhows, I believe

[01:34:00.0000] <heycam>
right (well, the [[CanPut]] could be done, but not the return based on it)

[01:35:00.0000] <heycam>
/me wonders if he should write up his algorithms as C code and then run gcc -S -O9 on them to try to minimise them :)

[01:36:00.0000] <Dashiva>
Would unifying 14 and 15 be easier if the conditional was inverted? e.g. if there is a property with name P  and that property has extattr putforwards, jump to steps equivalent to 16-18. And then the canput stuff following instead of in a jump.

[01:38:00.0000] <heycam>
yeah that probably would

[01:39:00.0000] <Dashiva>
Oh well. As long as [[CanPut]] happens for both new and old properties, I suppose this is just bikeshedding.

[01:40:00.0000] <heycam>
i should have a "you can implement these how you want as long as the observable effects are the same" in the spec somewhere (but don't yet)

[01:41:00.0000] <Dashiva>
By the way, is the special casing of 2^32-1 for integer indexes explained somewhere?

[01:42:00.0000] <heycam>
not in the document

[01:42:01.0000] <heycam>
although now i wonder if it is really necessary

[01:42:02.0000] <heycam>
since such host objects won't necessarily have a .length property on them

[01:42:03.0000] <heycam>
(which is the reason it is like that for Array objects)

[01:44:00.0000] <Dashiva>
Oh, of course. Then it makes perfect sense.

[01:45:00.0000] <Dashiva>
I didn't think of .length being greater than the max index

[01:45:01.0000] <heycam>
yeah it makes sense for Array.  not sure for IndexSetters...

[01:45:02.0000] <heycam>
/me adds an ednote

[01:45:03.0000] <Dashiva>
It's good for consistency, though. :)

[01:46:00.0000] <heycam>
true

[01:52:00.0000] <heycam>
/me dinners

[01:52:01.0000] <Dashiiva>
/me avoids comments about barbies

[01:55:00.0000] <virtuelv>
Dashiiva: wanna go shopping?

[03:19:00.0000] <Hixie>
rb is 50% of the html4all traffic too

[03:19:01.0000] <Hixie>
that's funny

[03:20:00.0000] <zcorpan>
Hixie: does it make sense for the ratechange event to be cancelable?

[03:21:00.0000] <Hixie>
does it have a default action?

[03:21:01.0000] <zcorpan>
not afaict

[03:21:02.0000] <Hixie>
then it doesn't matter

[03:21:03.0000] <zcorpan>
fair enough

[03:23:00.0000] <Hixie>
teehee, on june 6th rb asked gregory to forward many of his comments on html5 to the xhtml2 group

[03:23:01.0000] <Hixie>
but as far as i can tell, that didn't happen

[03:26:00.0000] <zcorpan>
"When the defaultPlaybackRate or playbackRate attributes change value", setting to the value it already has means it hasn't changed right

[03:31:00.0000] <Hixie>
i guess

[03:32:00.0000] <Hixie>
i can specify it the other way if that's what UAs want

[03:32:01.0000] <Hixie>
hey does anyone know what the status of the svgwg's work on the svg parsing thing is?

[03:32:02.0000] <Hixie>
i don't recall ever hearing back from them

[03:32:03.0000] <Hixie>
and it's been what, two months now?

[03:34:00.0000] <hsivonen>
ouch. document.write writing a script that document.writes is more complex than I first thought :-(

[03:35:00.0000] <hsivonen>
Hixie: do you know if Gecko and WebKit really call the parser re-entrantly or whether they interleave parser and script execution using a run queue?

[03:35:01.0000] <Hixie>
no idea what their implementation does

[03:35:02.0000] <Hixie>
the net result is basically what the spec says though

[03:35:03.0000] <Hixie>
though the spec is mildly more complex to handle script async and script defer

[03:36:00.0000] <hsivonen>
I had happily assumed a run queue model, but now that I try to write it down in the case where document.write document.writes, it starts to get ugly

[03:36:01.0000] <virtuelv>
hsivonen: document write is evil

[03:37:00.0000] <virtuelv>
I hacked up a bunch of testcases that indicates that no two browsers behave the same

[03:37:01.0000] <Hixie>
the browsers are pretty close to each other, most of the differences are obvious bugs

[03:37:02.0000] <virtuelv>
Hixie: I'll ask if I can release the TC's somewhere

[03:37:03.0000] <virtuelv>
I'm not sure what are bugs or not

[03:38:00.0000] <virtuelv>
document.write in setTimeout calls are so much fun

[03:38:01.0000] <hsivonen>
Hixie: anyway, I have trouble wrapping my head around the spec assertion that the tree builder is re-entrant

[03:38:02.0000] <Hixie>
they should just blow away the document

[03:38:03.0000] <Hixie>
hsivonen: oh?

[03:38:04.0000] <hsivonen>
Hixie: it seems to me that the parser doesn't need to be re-entrant

[03:39:00.0000] <virtuelv>
Hixie: suffice it to say that browsers in general don't cancel the timeout

[03:39:01.0000] <Hixie>
hsivonen: just like any thing that you can implement as a recursive function can be implemented with a hand-managed stack? or more so?

[03:39:02.0000] <hsivonen>
Hixie: right

[03:39:03.0000] <Hixie>
hsivonen: well sure

[03:40:00.0000] <Hixie>
hsivonen: recursive algorithms are what the spec uses generally because they're easier to explain and understand, but they're not what i'd recommend implementing

[03:40:01.0000] <Hixie>
hsivonen: though iirc the parser's re-entrancy is only ever one level deep

[03:41:00.0000] <hsivonen>
Hixie: instead of recursing, a single-threaded browser engine should be able to put the parser state on the heap and spin through the event loop

[03:42:00.0000] <Hixie>
well the parser has to be interruptible in a browser anyway

[03:42:01.0000] <Hixie>
so it would just interrupt itself

[03:42:02.0000] <Hixie>
returning to the vent loop

[03:43:00.0000] <Hixie>
event

[03:43:01.0000] <hsivonen>
Hixie: right. and once you make it interruptible, I don't see why you'd ever want the *tree builder* to be re-entrant

[03:43:02.0000] <Hixie>
indeed

[03:43:03.0000] <hsivonen>
So I'm again in a situation where I'm trying to unroll the spec definition into something else but equivalent

[03:43:04.0000] <Hixie>
that is an expected situation, yes

[03:44:00.0000] <Hixie>
no spec will ever directly map to all implementations

[03:47:00.0000] <hsivonen>
Hmm. I can't figure how to make three-level-deep document.write have the right execution order in a GWT context where the browser owns the script execution but the script owns the parser

[03:47:01.0000] <hsivonen>
too bad. I can't use GWT to fully try stuff out then

[03:49:00.0000] <Hixie>
heh

[03:49:01.0000] <annevk>
http://www.p01.org/releases/DHTML_contests/files/20lines_hypno_trip_down_the_fractal_rug/

[03:50:00.0000] <roc>
Hixie: there was a discussion here with Doug Schepers a while ago about the SVG parsing thing

[03:50:01.0000] <Hixie>
roc: yeah, i think i saw that

[03:50:02.0000] <roc>
annevk: wow

[03:50:03.0000] <hsivonen>
hmm. I'm starting to suspect the "generic [R]CDATA algoritm" and the way Gecko executes document.written scripts doesn't match

[03:50:04.0000] <hsivonen>
hmm.

[03:51:00.0000] <roc>
annevk: somewhat abusive use of "20 lines" though

[03:51:01.0000] <annevk>
Hixie, I don't think there was much progress, though they assigned some actions

[03:51:02.0000] <annevk>
roc, "20 lines" is a dubious concept anyway :)

[03:51:03.0000] <hsivonen>
roc: I seriously think the same tokenizer should handle both HTML and SVG islands

[03:52:00.0000] <Hixie>
hsivonen: gecko has some thing where adding text to a script that hasn't executed will still execute

[03:52:01.0000] <Hixie>
hsivonen: i'm not sure if we need to put that in html5 or if gecko can change, it's something i should probably look at

[03:52:02.0000] <roc>
it seemed clear that a) the SVG group has a requirement that parsing of SVG fragments should impose XML-esque validation with strict error handling and that b) you have a requirement that parsing SVG fragments should not impose strict error handling 

[03:53:00.0000] <Hixie>
that appears to be the case, yes

[03:53:01.0000] <hsivonen>
roc: in addition to requiring non-strict error handling for SVG fragments, I also want to require avoiding complexity in the parser

[03:53:02.0000] <roc>
so it doesn't really matter what the proposed solution is, since those two requirements are irreconcilable

[03:54:00.0000] <hsivonen>
roc: I'm OK with complexity imposed by the legacy Web

[03:54:01.0000] <hsivonen>
roc: I'm not OK with introducing new complexity for XML purity

[03:54:02.0000] <hsivonen>
we have to define what document.write does inside an SVG fragment

[03:55:00.0000] <hsivonen>
if the same tokenizer is used, document.write inside SVG doesn't cause new complexity

[03:55:01.0000] <Hixie>
roc: they're not completely irreconcilable, you could come up with some schemes where you fall from one to the other (and the remainder is treated as html, not svg)

[03:55:02.0000] <Hixie>
roc: but it does seem unlikely that such a scheme would fit into the various constraints we have

[03:55:03.0000] <Hixie>
anyway

[03:55:04.0000] <hsivonen>
if we'd change to an XML parser mid-stream, we'd have to figure out what exactly document.write does and how it can be implemented sanely

[03:55:05.0000] <annevk>
that's what they're looking at, but it's not really clear to me how that works with tokenizing etc.

[03:55:06.0000] <roc>
that's what Doug wanted to do actually

[03:56:00.0000] <Hixie>
i was just wondering if there was anything i needed to work on

[03:56:01.0000] <Hixie>
apparently there isn't yet

[03:56:02.0000] <annevk>
<keygen>

[03:56:03.0000] <Hixie>
<keygen>?

[03:56:04.0000] <roc>
okay, so if you would accept strict SVG parsing with errors falling back to HTML parsing, then progress is possible

[03:56:05.0000] <roc>
in theory

[03:57:00.0000] <Hixie>
potentially

[03:57:01.0000] <hsivonen>
I'd much rather spend my time delivering an additional serializer to address the copy-paste requirements of the SVG WG than to spend my time writing two tokenizers that can be switched mid-stream

[03:57:02.0000] <Hixie>
i'm not convinced such a scheme would work, but we'll find out in due course

[03:57:03.0000] <annevk>
Hixie, I guess that's part of WF2, but it'd be nice if it was in a spec so it becomes easier to advocate Koreans for instance into using it

[03:57:04.0000] <roc>
someone should ping them

[03:58:00.0000] <roc>
hsivonen: it's clear that having browsers reserialize as XML when copy/pasting is the right thing, but the SVG WG insists that copy-pasting in a text editor is a requirement

[03:58:01.0000] <hsivonen>
I'm not convinced the complexity imposed by additional strictness is a good use of anyone's limited resources

[03:58:02.0000] <hsivonen>
roc: I'd prefer to go with the right thing

[03:58:03.0000] <roc>
they want both

[03:59:00.0000] <Dashiiiva>
<pony/>

[04:00:00.0000] <hsivonen>
roc: it's easy to want it if writing the parser is Someone Else's Problem

[04:00:01.0000] <roc>
such is the life of the implementor

[04:01:00.0000] <annevk>
it doesn't really make sense to just accept that roc, imo

[04:01:01.0000] <roc>
I'm just the messenger

[04:01:02.0000] <Hixie>
annevk: send me a spec

[04:02:00.0000] <annevk>
if we just implemented whatever the W3C came up with we'd never beat Flash

[04:02:01.0000] <Philip`>
I think it wasn't clear whether they'd be unhappy with using the current SVG-in-HTML parsing rules and just defining conformance so that the content must be well-formed XML, so that conforming HTML5 SVG could always be copied into a real XML document, which seems to me kind of nicer than actual XML parsing since it wouldn't affect the parser at all

[04:02:02.0000] <annevk>
Hixie, I can't really get anything better than the old Netscape one, I guess I should try harder

[04:02:03.0000] <annevk>
:/

[04:02:04.0000] <roc>
Philip`: what do you mean "conforming"? They want browsers to check for well-formed XML of the SVG fragment before rendering it.

[04:03:00.0000] <Philip`>
/me suggests black-box reverse engineering of <keygen>

[04:03:01.0000] <hsivonen>
Philip`: it does affect at least *a* parser if you expect that level of conformange to be checked in software

[04:03:02.0000] <Hixie>
annevk: neither could i, and that was basically useless

[04:04:00.0000] <Hixie>
right well. bed time. nn.

[04:04:01.0000] <hsivonen>
Hixie: http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cscript%3E%0Adocument.write(%27a%27)%3B%0Adocument.write(%27%3Cscript%3Edocument.write(%22c%22)%3C\%2Fscript%3E%27)%3B%0Adocument.write(%27b%27)%3B%0A%3C%2Fscript%3E%0A has the same result in Gecko and WebKit

[04:04:02.0000] <Philip`>
roc: I don't think all of 'they' considers that as an absolute requirement, so they could perhaps be convinced away from that

[04:05:00.0000] <roc>
I tried

[04:06:00.0000] <roc>
with Doug at least. The WG as a whole hasn't been all that responsive to my other issues

[04:06:01.0000] <roc>
I wonder what heycam's position is on all this

[04:19:00.0000] <hsivonen>
I guess I should go read some browser source on how document.write is implemented

[04:21:00.0000] <othermaciej>
document.write writes at the current insertion point

[04:21:01.0000] <othermaciej>
which might be beyond the end of the current script element

[04:22:00.0000] <othermaciej>
if it document.wrote something already

[04:23:00.0000] <hsivonen>
othermaciej: in WebKit, does the script engine call into the parser on document.write or schedule stuff for running and return to the main loop? 

[04:23:01.0000] <othermaciej>
actually the insertion point starts right after the script, per-script, so when you document.write a script and then document.write something else, and that script document.writes, I think the content gets inserted before whatever was written after the second script

[04:23:02.0000] <othermaciej>
it just inserts stuff into the queue of characters to process

[04:23:03.0000] <othermaciej>
it does not return to the main loop at all

[04:23:04.0000] <othermaciej>
script execution during parsing is synchronous and blocks the parser

[04:24:00.0000] <hsivonen>
but when document.written data gets parsed, are there script engine stack frames on the call stack?

[04:25:00.0000] <hsivonen>
so if document.write document.writes, will the script engine be entered re-entrantly?

[04:25:01.0000] <othermaciej>
the script engine can be re-entered via the parser using innerHTML

[04:25:02.0000] <othermaciej>
but not document.write, I don't think

[04:25:03.0000] <othermaciej>
since nothing that document.write writes (to the current, parsing document) is processed until after the script completes execution

[04:26:00.0000] <hsivonen>
othermaciej: that doesn't seem to be the case

[04:26:01.0000] <hsivonen>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cscript%3E%0Adocument.write('a')%3B%0Adocument.write('%3Cscript%3Edocument.write(%22b%22)%3C%5C%2Fscript%3E')%3B%0Adocument.write('c')%3B%0A%3C%2Fscript%3E

[04:26:02.0000] <othermaciej>
well I could be misremembering it, this is a very confusing area

[04:27:00.0000] <hsivonen>
the document.written script runs before the script that wrote it finishes

[04:27:01.0000] <othermaciej>
is that true?

[04:27:02.0000] <othermaciej>
the live dom viewer does not prove that

[04:27:03.0000] <othermaciej>
the output ("abc") is consistent with what I described

[04:28:00.0000] <Lachy>
hsivonen, no, othermaciej is right.

[04:28:01.0000] <othermaciej>
first 'a<script>document.write("b")<\/script>c' is injected into the character stream right after the first script

[04:28:02.0000] <othermaciej>
then a is parsed

[04:28:03.0000] <othermaciej>
then the second script

[04:28:04.0000] <othermaciej>
which causes b to be injected into the token stream right after the second script

[04:29:00.0000] <othermaciej>
then c is parsed

[04:29:01.0000] <othermaciej>
each script starts with an insertion point right after its end tag

[04:29:02.0000] <hsivonen>
ah. excellent. That's what I thought at first, and then I got tangled in confusion

[04:29:03.0000] <othermaciej>
which may not be the same as the end of all currently inserted content

[04:29:04.0000] <annevk>
I wonder why Opera has two separate text nodes for bc

[04:30:00.0000] <hsivonen>
so why does the spec talk about re-entrant calls to the tree builder?

[04:30:01.0000] <Lachy>
hmm, maybe not.

[04:30:02.0000] <Lachy>
document.write('a');

[04:30:03.0000] <Lachy>
w(1);

[04:30:04.0000] <Lachy>
document.write('<script>document.write("b");w(3);<\/script>');

[04:30:05.0000] <Lachy>
w(2);

[04:30:06.0000] <Lachy>
document.write('c');

[04:30:07.0000] <Lachy>
that doesn't work as I'd expect it to.

[04:31:00.0000] <Lachy>
at least in Firefox.

[04:32:00.0000] <Lachy>
or in WebKit.

[04:32:01.0000] <Lachy>
w(3) is executing before w(2), so it seems it's not waiting until the first script is finished.

[04:38:00.0000] <othermaciej>
yeah that didn't do what I expected either

[04:39:00.0000] <othermaciej>
seems like it can re-enter to arbitrary levels

[04:39:01.0000] <othermaciej>
<script>

[04:39:02.0000] <othermaciej>
document.write('a');

[04:39:03.0000] <othermaciej>
alert(1);

[04:39:04.0000] <othermaciej>
document.write('<script>document.write("b<script>document.write(\'c\'); alert(4);<\\/script>"); alert(3);<\/script>');

[04:39:05.0000] <othermaciej>
alert(2);

[04:39:06.0000] <othermaciej>
document.write('d');

[04:39:07.0000] <othermaciej>
</script>

[04:42:00.0000] <hsivonen>
alert requires UI to be responsive

[04:42:01.0000] <hsivonen>
does alert establish a nested event loop or does alert cause the call stack to unwind to the main event loop?

[04:43:00.0000] <hsivonen>
document.write is hard

[04:55:00.0000] <othermaciej>
alert makes a modal event loop

[04:55:01.0000] <othermaciej>
it does not cause all UI to be responsive

[04:56:00.0000] <hsivonen>
in Firefox 3, alert is window-modal, although, as I understand it, the windows have their UI run on one thread

[04:57:00.0000] <hsivonen>
alert seems app-modal is Safari

[05:07:00.0000] <heycam>
roc, sorry for the delay on your www-svg issues

[05:07:01.0000] <heycam>
(note that a couple of them are on the agenda for today's telcon (which i won't be at))

[05:08:00.0000] <hsivonen>
I'm getting curious about support for incremental rendering of document.written content

[05:09:00.0000] <annevk>
<script> without async is not so good for incremental rendering

[05:11:00.0000] <heycam>
as for html in svg, i have to say that i (persionally) haven't had time to look into it.  i believe the others did something on it at the F2F recently, and are writing up some text, but i haven't seen it.

[05:11:01.0000] <heycam>
/me tv ⇒ afk

[05:15:00.0000] <hsivonen>
annevk: <script> without async *could* be good for incremental rendering, if a) layout runs on a different thread or b) the script engine stack is really on the heap, so that the C++ stack can unwind without breaking script state

[05:16:00.0000] <hsivonen>
however, I just saw some Gecko code that makes me want to write a test case to see if incremental layout works from document.written content

[05:17:00.0000] <hsivonen>
it seems safe to assume that Presto and Trident have concurrency models that differ significantly from Gecko and WebKit, which I gather are more alike

[05:50:00.0000] <Lachy>
hey, I just realised that <iframe sandbox=""> could potentially create a false sense of security. If a website author uses it to embed user comments and hosts the comment file on the same domain as the parent page, it only protects the user as long as the comment page isn't viewed outside of the iframe. 

[05:52:00.0000] <Lachy>
so websites would still need to filter out as much as possible, and keep sandbox="" only as a last line of defence.

[05:54:00.0000] <Philip`>
That would matter if you used <iframe sandbox src=...>, but you can't use that because it's unsafe in UAs that don't support sandboxing

[05:54:01.0000] <Lachy>
at the moment, that's the only way to do it, since there isn't yet a way to embed the markup inline.

[05:54:02.0000] <Philip`>
so you'd have to use <iframe sandbox doc="user's raw comment" src="some-file-with-user's-sanitised-comment.html"> and then it's alright anyway

[05:55:00.0000] <Lachy>
doc="" isn't specced yet.

[05:56:00.0000] <Lachy>
if you were going to sanitise the comment, then why embed the raw comment inline?

[05:57:00.0000] <Lachy>
I'm just not convinced sandox is a good solution for sandboxing user contribued content. It could be good for embedding content from 3rd party sites though.

[05:58:00.0000] <Philip`>
The sanitised comment might strip out lots of safe content and styles that aren't in the whitelist, so it's uglier for users than the original unsanitised (sandboxed) comment

[05:59:00.0000] <Philip`>
so if their UA supports sandboxing then they can benefit from getting the unsanitised version

[05:59:01.0000] <Lachy>
if your sanitiser code is that bad, it's time to rewrite it.

[06:01:00.0000] <Philip`>
If it was possible to write a sanitiser that wasn't bad, why would anyone want client-side sandboxing?

[06:01:01.0000] <Lachy>
I just don't think it's a good idea to ever send unsanitised code to browsers. Imagine if there was a browser bug that inadvertently allowed something it shouldn't, and there were sites that published fully unsanitised comments, then you can bet there would be exploits pretty quickly.

[06:02:00.0000] <Lachy>
incase their sanitiser missed something by mistake, not because it could accidently remove something it shouldn't.

[06:04:00.0000] <othermaciej>
having both sanitization and client-side sandboxing is safer

[06:04:01.0000] <othermaciej>
to get an exploit through, you'd need matching mistakes on both ends

[06:04:02.0000] <othermaciej>
/me is failing to sleep

[06:05:00.0000] <Lachy>
othermaciej, right. But if the server didn't sanitise, then the browser is the only line of defence, and you'd better hope there's no bug in it.

[06:05:01.0000] <othermaciej>
why is that a "but"?

[06:06:00.0000] <Lachy>
because I'm concerned that sandbox="" could create a false sense of security, where silly developers don't bother sanitising the code, and then it really doesn't depend on there being matching mistakes on both ends.

[06:07:00.0000] <Lachy>
it's just one really big mistake on the server side and whatever small mistake in the browser is enough.

[06:08:00.0000] <Lachy>
and if even Philip` is suggesting sending unsanitised code to browsers, I'm sure there will be developers in the wild crazy enough to do so as well.

[06:10:00.0000] <othermaciej>
one obviously shouldn't even remotely consider sending unsanitized code to browsers until sandbox="" is widely implemented, which won't be for a while

[06:11:00.0000] <othermaciej>
but even then it's probably not a good idea

[06:11:01.0000] <othermaciej>
defense in depth and all

[06:11:02.0000] <Philip`>
You could send unsanitised code in doc="" even if sandbox="" isn't implemented yet, as long as nobody implements doc="" before implementing sandbox=""

[06:12:00.0000] <othermaciej>
I'm willing to entertain the notion that adding sandbox="" could in some cases hurt security through second-order effects like you describe

[06:13:00.0000] <othermaciej>
but I think it is likely not the case, because the vast number of sites currently doing blacklist-based instead of whitelist-based sanitization may well be better off with sandbox="" and no server-side sanitization at all

[06:19:00.0000] <Lachy>
why? Blacklist sanitation is better than nothing, even though it's clearly a flawed approach.

[06:20:00.0000] <virtuelv>
blacklists do not scale

[06:20:01.0000] <Lachy>
virtuelv, yeah, I know that.

[06:20:02.0000] <virtuelv>
and especially if it's about cleaning markup

[06:20:03.0000] <othermaciej>
I would expect every blacklist-based filter to have holes, while browsers  could plausibly implement sandbox="" close to correctly

[06:21:00.0000] <othermaciej>
nontheless, I think it is best to both filter on the server and use client-side restrictions

[06:27:00.0000] <Lachy>
jgraham__, yt?

[06:28:00.0000] <Lachy>
jgraham__, are you ever intending to finish and publish that @media blog post on the whatwg blog?

[06:49:00.0000] <zcorpan>
Hixie: shouldn't currentLoop be readonly?

[08:55:00.0000] <annevk>
If someone else wants to reply again to the sandboxing thread, be my guest. It seems obvious to me that his solution is flawed, but I can't really put it in words.

[08:57:00.0000] <annevk>
<applet> use case: http://wordle.net/gallery/Faux_Columns

[08:57:01.0000] <annevk>
/me can't see the outcome

[08:58:00.0000] <annevk>
/me isn't sure whether that justifies <applet> or whether it's a sign that plugins are harmful

[08:58:01.0000] <Philip`>
<applet ... /> ... </applet>

[08:59:00.0000] <Philip`>
Oh wait

[08:59:01.0000] <Philip`>
Ignore me, I can't read

[08:59:02.0000] <Philip`>
(I missed the '><param' in the middle)

[08:59:03.0000] <annevk>
quirks mode :/

[09:00:00.0000] <Philip`>
That seems like an unnecessarily fancy way to display a static image

[09:01:00.0000] <annevk>
<applet> has a print() method?

[09:01:01.0000] <Philip`>
Oh, apparently that is actually necessary, in order to put the computation load on the clients instead of the server

[09:04:00.0000] <Philip`>
(and it's not possible to do on the client even with the not-yet-implemented canvas text support, since it needs to analyse the shape of the characters)

[09:35:00.0000] <csarven>
Is Safari treating it properly if <object type="text/html" data="#foo"></object> includes the current document? Firefox2, Opera9.5 and IE7 doesn't.

[09:36:00.0000] <annevk>
per HTML5, yes

[09:37:00.0000] <annevk>
per HTML4, probably also yes

[09:40:00.0000] <csarven>
Good to here that.

[09:43:00.0000] <csarven>
Except that Safari includes the whole document and not just the contents of the element with id "foo"

[09:43:01.0000] <gsnedders>
csarven: that's right

[09:43:02.0000] <annevk>
csarven, that would be correct, actually

[09:43:03.0000] <gsnedders>
csarven: It should load the same as what loading a URI with a fragment would do normally

[09:43:04.0000] <annevk>
csarven, there's no special treatment specified

[09:44:00.0000] <csarven>
Is there a user for the fragment identifier then?

[09:44:01.0000] <csarven>
s/user/use

[09:52:00.0000] <annevk>
it will show that within the <object>

[09:52:01.0000] <annevk>
http://simon.html5.org/html5-elements uses that for instance

[10:01:00.0000] <csarven>
annevk I see an <iframe> instead of <object>

[10:01:01.0000] <annevk>
it would work the same way

[10:20:00.0000] <csarven>
annevk If data value is a fragment identifier of the current page, is it expected for the UA to not request the current page seperately?

[10:22:00.0000] <annevk>
they're not handled specifically so I'd expect an additional request

[10:22:01.0000] <annevk>
though given that three browsers disagree with WebKit it might be worth noting somewhere to see whether Opera/Firefox are planning on fixing this

[12:15:00.0000] <Hixie>
hsivonen: as far as i can tell, all the examples you posted and what othermaciej was saying are consistent with the spec

[12:16:00.0000] <hsivonen>
Hixie: yeah, they are. my understanding of document.write was flawed. sorry.

[12:19:00.0000] <Hixie>
np

[13:04:00.0000] <hsivonen>
I could use a more detailed diagram of how document.write is supposed to work

[13:05:00.0000] <hsivonen>
I'm having doubts about whether the "insertion point" is the most intuitive concept

[13:06:00.0000] <hsivonen>
and if treating document.written data as separate buffers that get pushed to the tokenizer would be easier to grasp

[13:19:00.0000] <zcorpan_>
googling for "acid3" shows a link "FAIL" to http://acid3.acidtests.org/empty.txt , that's pretty funny

[13:20:00.0000] <zcorpan_>
Hixie: clearly, google isn't standards compliant

[13:22:00.0000] <Lachy>
is anyone here actually able to load getfirefox.com and download FF3 now? I can't connect.

[13:22:01.0000] <webben>
Lachy: That's a common experience.

[13:23:00.0000] <Lachy>
it's not good enough. How do they expect to break a world record like this?

[13:23:01.0000] <webben>
are they trying to?

[13:23:02.0000] <Lachy>
yes, haven't you heard?

[13:23:03.0000] <zcorpan_>
Lachy: wfm

[13:23:04.0000] <didymos>
Lachy, John Gruber at Daring Fireball is saying the same thing

[13:24:00.0000] <Lachy>
http://weblogs.mozillazine.org/asa/archives/2008/06/download_day_st.html

[13:24:01.0000] <webben>
nah, I've studiously avoided all the hypes and just kept downloading latest prereleases ;)

[13:24:02.0000] <didymos>
personally, I got there at first attempt (just now)

[13:24:03.0000] <Lachy>
the link to the world record page won't work either.

[13:24:04.0000] <webben>
yeah, was just gonna say ;)

[13:25:00.0000] <Hixie>
google fails acid2 as well iirc

[13:26:00.0000] <zcorpan_>
Hixie: that clearly shows google's commitment to standards ;)

[13:26:01.0000] <Lachy>
google is a non-visual UA with little, if any, support for JS. So it doesn't really have much hope of fully passing the tests.

[13:32:00.0000] <zcorpan_>
/me finds registerProtocolHandler() in the firefox advanced tips

[13:37:00.0000] <zcorpan_>
/me finds that http://www.mozilla.com/js/firefox-video-launch.js is text/html

[13:38:00.0000] <gsnedders>
zcorpan_: Who needs correct MIME types?

[13:38:01.0000] <zcorpan_>
gsnedders: indeed

[13:53:00.0000] <hsivonen>
Hixie: I'm reading https://bugzilla.mozilla.org/show_bug.cgi?id=95487#c39

[13:53:01.0000] <Hixie>
/me learns his backup system has been broken since february

[13:53:02.0000] <Hixie>
"oops"

[13:54:00.0000] <hsivonen>
Hixie: which seems to confirm my guess that document.written content is parsed without letting the event loop breathe

[13:54:01.0000] <Hixie>
sounds plausible

[13:55:00.0000] <hsivonen>
Hixie: does the spec expect the relationship of normal parsing and the first level of doc.write and the relationship of the first and second levels of doc.write to be different somehow

[13:55:01.0000] <hsivonen>
?

[13:55:02.0000] <Hixie>
yes, you can only recurse once

[13:56:00.0000] <hsivonen>
Hixie: what takes care of preventing deeper recursion?

[13:56:01.0000] <Hixie>
/me looks

[13:57:00.0000] <hsivonen>
/me wonders if document.write was considered a simple feature in the Netscape 2 design phase

[13:58:00.0000] <Philip`>
I imagine they designed it to be simple to implement in their architecture, and as hard as possible for any competitors to implement in their different architectures :-)

[14:00:00.0000] <Hixie>
hsivonen: step 3 of document.write()

[14:00:01.0000] <hsivonen>
"If there is a script that will execute as soon as the parser resumes, then the method must now return without further processing of the input stream."?

[14:01:00.0000] <hsivonen>
why does the behavior othermaciej showed earlier follow? 

[14:01:01.0000] <Hixie>
yeah

[14:02:00.0000] <hsivonen>
in that case, the second level of document.write wrote a third level of script that executed similarly relative to the second level as the second level did relative to the first level

[14:03:00.0000] <Hixie>
give me a concrete example and i'll try to describe how it runs

[14:03:01.0000] <hsivonen>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cscript%3E%0D%0Adocument.write('a')%3B%0D%0Aalert(1)%3B%0D%0Adocument.write('%3Cscript%3Edocument.write(%22b%3Cscript%3Edocument.write(%5C'c%5C')%3B%20alert(4)%3B%3C%5C%5C%2Fscript%3E%22)%3B%20alert(3)%3B%3C%5C%2Fscript%3E')%3B%0D%0Aalert(2)%3B%0D%0Adocument.write('d')%3B%0D%0A%3C%2Fscript%3E%0D%0A

[14:03:02.0000] <othermaciej>
it looks like in Firefox and WebKit at least execute scripts that are document.written while executing another script

[14:03:03.0000] <othermaciej>
I made this test case:

[14:03:04.0000] <othermaciej>
<script>

[14:03:05.0000] <othermaciej>
document.write('a');

[14:03:06.0000] <othermaciej>
alert(1);

[14:03:07.0000] <othermaciej>
document.write('<script>document.write("b<script>document.write(\'c\'); alert(4);<\\/script>"); alert(3);<\/scr\

[14:03:08.0000] <othermaciej>
ipt>');

[14:03:09.0000] <othermaciej>
alert(2);

[14:03:10.0000] <othermaciej>
document.write('d');

[14:03:11.0000] <othermaciej>
</script>

[14:03:12.0000] <othermaciej>
(sorry for bad line break)

[14:03:13.0000] <othermaciej>
it alerts 1 4 3 2

[14:03:14.0000] <othermaciej>
but prints abcd

[14:05:00.0000] <Hixie>
ok hsivonen

[14:05:01.0000] <Hixie>
so

[14:05:02.0000] <gsnedders>
jgraham__: ping

[14:06:00.0000] <Hixie>
we tokenise up to the bottom of the input

[14:06:01.0000] <jgraham_>
gsnedders: Here, sorta

[14:07:00.0000] <gsnedders>
jgraham_: How do you get what's under `elif rank(element) >= rank(self.current_section.heading):` from the spec?

[14:07:01.0000] <Hixie>
then we create a <Script> element and mark it "parser-inserted"

[14:08:00.0000] <Hixie>
let "old insertion point" be "uninitialised"

[14:08:01.0000] <Hixie>
let "insertion point" be just after the </script>

[14:09:00.0000] <Hixie>
we then insert the element into the DOM and run the script, which goes as follows:

[14:10:00.0000] <Hixie>
first a call to document.write()

[14:10:01.0000] <Hixie>
step 1: insertion point is defined, skip this step

[14:11:00.0000] <Hixie>
step 2: "a" is inserted after </script>

[14:11:01.0000] <Hixie>
step 3: skip this step

[14:11:02.0000] <gsnedders>
jgraham_: As far as I can see, you deviate from the spec

[14:12:00.0000] <Hixie>
step 4: run the tokeniser on the new input (just "a"), which just causes a text node saying "a" to be appended after the <script> in the DOM

[14:12:01.0000] <Hixie>
step 5: return

[14:12:02.0000] <Hixie>
next an alert. we alert "1".

[14:12:03.0000] <Hixie>
next another document.write().

[14:12:04.0000] <Hixie>
step 1: insertion point is defined, skip this step

[14:12:05.0000] <jgraham_>
gsnedders: I'll have a look. 

[14:13:00.0000] <gsnedders>
jgraham_: Meaning Hixie's algorithm is broken, and it's not an implementation bug on my behalf

[14:13:01.0000] <gsnedders>
/me hopes it is Hixie's fault so then he doesn't have to deal with it :P

[14:13:02.0000] <Hixie>
step 2: just after the "a" (and before the insertion point) we insert |<script>document.write("b<script>document.write('c'); alert(4);<\/script>"); alert(3);</script>|.

[14:13:03.0000] <Hixie>
step 3: skip this step

[14:14:00.0000] <Hixie>
step 4: run the tokeniser:

[14:14:01.0000] <Hixie>
we tokenise a <script>

[14:14:02.0000] <Hixie>
create a <script> element.

[14:14:03.0000] <Hixie>
mark it as "parser-inserted".

[14:15:00.0000] <Hixie>
tokenise until we get the </script>, and append that string to the <script>

[14:15:01.0000] <Hixie>
let "old insertion point" be just after the last inserted piece of text (basically the end of the file)

[14:16:00.0000] <gsnedders>
jgraham_: I must be blind if it is in the spec :)

[14:16:01.0000] <Hixie>
we let "insertion point" be the same, actually.

[14:17:00.0000] <Hixie>
append the <script> to the DOM

[14:17:01.0000] <Lachy>
hmm, weird. Whenver I'm able to load getfirefox.com, it still links to Firefox 2

[14:17:02.0000] <Hixie>
this is the script that says |document.write("b<script>document.write('c'); alert(4);<\/script>");alert(3);|

[14:18:00.0000] <Hixie>
it's inline, so it executes.

[14:18:01.0000] <jgraham_>
gsnedders: I really should have commented this code more :)

[14:18:02.0000] <Hixie>
we call document.write() again.

[14:18:03.0000] <jgraham_>
The relevant part of the spec is "Otherwise, if the element being entered has a rank equal to or greater than the heading of the current section, then create a new section and append it to the outline of the current outlinee element, so that this new section is the new last section of that outline. Let current section be that new section. Let the element being entered be the new heading for the current section."

[14:18:04.0000] <jgraham_>
But I have no idea if that's the same as my implementation or not

[14:19:00.0000] <hsivonen>
Hixie: so far, we haven't had "a script that will execute as soon as the parser resumes", right?

[14:19:01.0000] <Hixie>
correct (in fact i think we won't because in this example you never have <script src="">)

[14:19:02.0000] <gsnedders>
jgraham_: It's totally different

[14:20:00.0000] <gsnedders>
jgraham_: the spec needs three lines

[14:20:01.0000] <Hixie>
so i guess the spec doesn't (and shouldn't) limit it to two deep for inline scripts

[14:20:02.0000] <gsnedders>
jgraham_: and no loop

[14:20:03.0000] <Hixie>
do you want me to continue?

[14:20:04.0000] <hsivonen>
Hixie: no need to. thank you.

[14:20:05.0000] <Hixie>
k

[14:21:00.0000] <Hixie>
/me breathes a sigh of relief because this was getting complicated

[14:21:01.0000] <hsivonen>
Hixie: the concept of "a script that will execute as soon as the parser resumes" could be more clearly named so that the reader wouldn't try to see if an inline script can be it

[14:21:02.0000] <Hixie>
any suggestions for a better name?

[14:22:00.0000] <Hixie>
an external script, maybe?

[14:22:01.0000] <hsivonen>
not before I have figured out what exactly it is

[14:22:02.0000] <gsnedders>
http://pastebin.com/m7524f744 — that's the rather bogus TOC I'm getting

[14:22:03.0000] <jgraham_>
gsnedders: http://lists.w3.org/Archives/Public/public-html/2008Mar/0032.html

[14:22:04.0000] <hsivonen>
if it always an external script, then, yes, "external script" would be good

[14:22:05.0000] <gsnedders>
Hixie: Fix that!

[14:22:06.0000] <hsivonen>
no I have to learn why their execution has different steps :-/

[14:22:07.0000] <gsnedders>
/me runs and hides

[14:23:00.0000] <gsnedders>
/me implements jgraham_'s prose

[14:23:01.0000] <Hixie>
hsivonen: external scripts have to be downloaded

[14:23:02.0000] <hsivonen>
Hixie: did my email "Re-entrant invocation of the tree builder" make sense?

[14:23:03.0000] <Hixie>
when did you send it?

[14:23:04.0000] <hsivonen>
public-html

[14:24:00.0000] <zcorpan_>
/me wonders if public-html is a moment in time

[14:24:01.0000] <Hixie>
oh just now

[14:24:02.0000] <hsivonen>
oops. I misread when as where

[14:25:00.0000] <hsivonen>
45 minutes ago

[14:26:00.0000] <Hixie>
/me works out why his backup wasn't working

[14:27:00.0000] <Hixie>
it was trying to back up three machines

[14:27:01.0000] <Hixie>
the first one is one that i turned off in february

[14:27:02.0000] <Hixie>
so my makefile was failing

[14:27:03.0000] <Hixie>
oops

[14:28:00.0000] <jgraham_>
gsnedders: You can always vote in favour of the issue :)

[14:28:01.0000] <gsnedders>
jgraham_: Coward! Just bully Hixie!

[14:28:02.0000] <hsivonen>
a <script src> load stops the world until loaded, right?

[14:29:00.0000] <Hixie>
gsnedders: (will get to your issue momentarily)

[14:29:01.0000] <Hixie>
hsivonen: not if it's nested deeply enough, iirc

[14:31:00.0000] <gsnedders>
/me realises he has no way to get at the parent of a section

[14:32:00.0000] <hsivonen>
Hixie: I guess I should convert othermaciej's example to use external scripts and see how the scripts run

[14:32:01.0000] <hsivonen>
having them run differently than in the inline case seems counter-intuitive

[14:33:00.0000] <gsnedders>
jgraham_: self[::-1] — what do two colons do?

[14:33:01.0000] <Hixie>
hsivonen: oh, no, wait

[14:33:02.0000] <Hixie>
hsivonen: the problem is this

[14:33:03.0000] <Hixie>
hsivonen: it's a script the document.write()s multiple things in a row

[14:33:04.0000] <Hixie>
hsivonen: one of which is external

[14:33:05.0000] <Hixie>
hsivonen: it doesn't block script execution iirc

[14:33:06.0000] <Hixie>
hsivonen: only the parser

[14:34:00.0000] <hsivonen>
like document.write("<script src=foo><\/script><script src=bar><\/script>")

[14:34:01.0000] <hsivonen>
?

[14:35:00.0000] <Philip`>
gsnedders: things[x:y:z] means things[x], things[x+z], things[x+2*z], ... up to things[x+n*z] where n is the maximum number such that x+n*z < y, or something like that

[14:35:01.0000] <Philip`>
gsnedders: and if x is omitted it means 0, and if y is omitted it means len(things)

[14:36:00.0000] <Philip`>
gsnedders: oh but my explanation breaks down a bit

[14:36:01.0000] <Hixie>
hsivonen: more like document.write("<script src=alert2><\/script>");alert(1);

[14:36:02.0000] <Philip`>
gsnedders: but if you ignore all the details, then that means self[::-1] is just reversed(self)

[14:36:03.0000] <hsivonen>
Hixie: that seems counter-intuitive

[14:36:04.0000] <Philip`>
gsnedders: (but compatible with older Pythons that don't have 'reversed')

[14:37:00.0000] <gsnedders>
Philip`: ah

[14:37:01.0000] <Hixie>
hsivonen: specifically, <script>document.write("<script src=alert2><\/script>");document.write("this won't be tokenised until after the alert1 and alert2");alert(1);</script>

[14:37:02.0000] <Hixie>
hsivonen: see the /topic

[14:37:03.0000] <hsivonen>
Hixie: thanks. I need to study this in detail.

[14:39:00.0000] <Hixie>
when you test this beware of hitting the cache; in some browsers that changes the behaviour

[14:39:01.0000] <Hixie>
html5 goes out of its way not to be cache-sensitive here

[14:39:02.0000] <hsivonen>
fun!

[14:41:00.0000] <jgraham_>
gsnedders: What Philip` said. http://www.python.org/doc/2.3.5/whatsnew/section-slices.html

[14:41:01.0000] <Hixie>
hsivonen: specifically in the spec this is implemented by having the "pause until the script has completed loading" be only ever executed in the very outer tree construction invokcation

[14:41:02.0000] <Hixie>
invocation

[14:47:00.0000] <hsivonen>
Hixie: so regarding my email, I could substitute checking if the tree builder is invoked recursively with checking if there's a document.write on the call stack?

[14:49:00.0000] <Hixie>
i believe that is currently equivalent, yes

[14:49:01.0000] <Hixie>
be wary of changes that violate that assumption, in case we ever add other ways to be reentrant

[14:49:02.0000] <hsivonen>
Hixie: thanks

[14:50:00.0000] <hsivonen>
Hixie: it seems that it's necessary to keep track of document.write nesting level anyway: http://bonsai.mozilla.org/cvsblame.cgi?file=mozilla/content/html/document/src/nsHTMLDocument.cpp&rev=3.785&mark=2417-2420#2413

[14:53:00.0000] <Hixie>
hsivonen: there are other ways to implement that restriction

[14:53:01.0000] <Hixie>
replid to your mail btw

[14:54:00.0000] <Hixie>
replied

[14:54:01.0000] <hsivonen>
Hixie: restricting recursion depth?

[14:54:02.0000] <hsivonen>
Hixie: thanks

[14:55:00.0000] <Hixie>
well what you really want to make sure is that a document.write() doesn't write a script that does another document.write(), but there's no guarantee that the second will be run while the first is on the call stack

[14:55:01.0000] <Hixie>
(or rather, you want to block that but only when it's in an infinite loop)

[14:56:00.0000] <Hixie>
another way is just to limit how much cpu/ram a script can use

[14:56:01.0000] <gsnedders>
Infinite loops are _awesome_!

[14:57:00.0000] <gsnedders>
I mean, how else are you going to use a modern CPU?

[14:57:01.0000] <hsivonen>
Hixie: I'll have to ponder your point about appending to a buffer on stack tomorrow

[14:57:02.0000] <hsivonen>
it's past my bed time

[14:57:03.0000] <Hixie>
nn

[14:58:00.0000] <hsivonen>
nn.

[14:58:01.0000] <Hixie>
and thanks for implementing this

[14:58:02.0000] <Hixie>
it's good to have someone look at it this closely

[15:14:00.0000] <zcorpan_>
Hixie: the spec annotation system gives 500 when trying to log in

[15:15:00.0000] <Hixie>
yeah

[15:15:01.0000] <Hixie>
i need to reboot the server

[15:15:02.0000] <zcorpan_>
/me was going to add a pointer to http://simon.html5.org/test/html/dom/interfaces/HTMLElement/HTMLMediaElement/ somewhere

[15:15:03.0000] <Hixie>
for some reason dreamhost have apache set to spawn more processes than the server can handle, and it doesn't reap them

[15:15:04.0000] <Hixie>
so we run out of ram

[15:15:05.0000] <zcorpan_>
buy more ram :)

[15:16:00.0000] <Hixie>
send me money :-)

[15:16:01.0000] <zcorpan_>
doh :(

[15:16:02.0000] <zcorpan_>
you should be happy i'm writing tests! :-p

[15:17:00.0000] <zcorpan_>
though the ones i've got so far are pretty boring

[15:18:00.0000] <Hixie>
:-)

[15:18:01.0000] <Hixie>
try now

[15:19:00.0000] <zcorpan_>
still 500

[15:19:01.0000] <Hixie>
sigh

[15:20:00.0000] <Hixie>
try now

[15:20:01.0000] <zcorpan_>
still

[15:20:02.0000] <zcorpan_>
i'll try tomorrow

[15:20:03.0000] <zcorpan_>
bedtime

[15:20:04.0000] <Hixie>
nn

[15:21:00.0000] <zcorpan_>
nn

[15:23:00.0000] <Lachy>
Hixie, how much does dreamhost charge for your private server?

[15:24:00.0000] <Hixie>
$1 per 10 MHz CPU and 10MB RAM per month

[15:24:01.0000] <Lachy>
and how much do you pay for?

[15:25:00.0000] <Hixie>
varies based on load

[15:25:01.0000] <Lachy>
ok

[15:25:02.0000] <Hixie>
right now (high load on acid3 for no apparent reason) i'm using just under 1.5GB RAM

[15:27:00.0000] <Philip`>
The release of Firefox 3 seems like an apparent reason for people to try Acid3

[15:28:00.0000] <Lachy>
it only scores 51

[15:28:01.0000] <Hixie>
yeah that was my reasoning too, but the referrers were all over hte place

[15:28:02.0000] <roc>
Lachy: no way, it should be over 70

[15:28:03.0000] <Lachy>
oh, 71. It just paused at 51 for some reasonj

[15:28:04.0000] <Philip`>
You ought to just cache the results based on UA string - there's no point having a hundred million people run the same test with an identical browser, and it's an awful waste of energy

[15:28:05.0000] <Hixie>
heh

[15:29:00.0000] <othermaciej>
there's some networking in the middle of the test

[15:29:01.0000] <Hixie>
yeah run it twice to get real results, otherwise your network will have too much effect on the test

[15:30:00.0000] <Lachy>
/me just runs his localhost copy of the test so it doesn't suffer from network issues

[15:30:01.0000] <othermaciej>
I told people to try the Safari 4 Developer Preview on Acid3 at WWDC, but I doubt that generated a whole lot of traffic

[15:30:02.0000] <Hixie>
ok yeah running the logs through just checking the UA string instead of the referrer does indeed indicate that it's all ff3 users

[15:30:03.0000] <Hixie>
mostly on xp

[15:30:04.0000] <Philip`>
/me just looks on Wikipedia to get the Acid3 results

[15:30:05.0000] <Hixie>
some opera 9.5 users too

[15:31:00.0000] <Lachy>
othermaciej, how recent is Safari 4 compared to the latest nightly WebKit?

[15:31:01.0000] <gsnedders>
Hixie: Can you deal with <http://lists.w3.org/Archives/Public/public-html/2008Mar/0032.html> over night?

[15:31:02.0000] <othermaciej>
Lachy: it's an older WebKit, but a newer Safari (although you can run a nightly with S4DP installed)

[15:32:00.0000] <Lachy>
is Safari 4 only available to people with ADC accounts?

[15:32:01.0000] <othermaciej>
the preview is up on ADC, which you need an account to access, but getting an ADC account is free

[15:33:00.0000] <Lachy>
ok, I have a free account.

[15:33:01.0000] <Hixie>
gsnedders: ok

[15:34:00.0000] <othermaciej>
Lachy: you should be able to get it then (though I am not sure how to find the download, probably the search feature will find it)

[15:35:00.0000] <Lachy>
yeah, found it.

[15:35:01.0000] <Lachy>
when you log in, there's a link that says downloads and it's the 3rd listed under What's New

[15:35:02.0000] <othermaciej>
cool

[15:36:00.0000] <Lachy>
does it have any cool new UI features that weren't in Safari 3?

[15:37:00.0000] <smedero>
Lachy: It handles what Fluid does nicely http://fluidapp.com/ (creating dedicated "apps" for websites)

[15:39:00.0000] <Lachy>
ok. Why do I have to restart after installing Safari? It's like a Windows installer! :-(

[15:39:01.0000] <Lachy>
brb

[15:44:00.0000] <othermaciej>
Lachy: you can actually force quit the installer when it tells you to reboot, as long as you quit all WebKit apps

[15:44:01.0000] <othermaciej>
Lachy: if you are willing to live on the edge a little

[15:45:00.0000] <Lachy>
ah, too late. I already restarted.

[15:45:01.0000] <othermaciej>
anyway, it has "Save as Web Application" which among other things supports HTML5 <link rel="icon" sizes=...> and <meta name="application-name" ...>

[15:45:02.0000] <Lachy>
oh, nice.

[15:46:00.0000] <Hixie>
the installer should probably list the applications you have to close instead of just rebooting :-)

[15:46:01.0000] <othermaciej>
http://webkit.org/blog has the right markup

[15:46:02.0000] <othermaciej>
if you wanna test it out

[15:46:03.0000] <Lachy>
better yet, the installer should just tell me which applications it wants to close, ask if it's ok and do it automatically

[15:47:00.0000] <othermaciej>
(but it will genreate a name and icon if needed)

[15:47:01.0000] <othermaciej>
sadly I am not an installer engineer, but I see you rpoint

[15:51:00.0000] <Lachy>
othermaciej, http://webkit.org/images/surfin-safari.icns is served as text/plain.

[15:51:01.0000] <othermaciej>
Lachy: I guess I should figure out how to reconfigure the server

[15:51:02.0000] <Lachy>
and although Firefox sniffed it as binary, Safari didn't and displayed a lot of jibberish.

[15:52:00.0000] <Lachy>
if it's Apache, then .htaccess: AddType image/whatever-it-is .icns

[15:56:00.0000] <Hixie>
that it works in safari4 when using the save as app feature is a bug in safari4 according to the spec :-)

[15:56:01.0000] <Hixie>
(spec doesn't allow sniffing of types for <link> at the moment)

[16:00:00.0000] <othermaciej>
Is it common for favicons to be sent with the wrong MIME type?

[16:00:01.0000] <Lachy>
hey, with Web Applications like that, adding support for the new <menu> features in HTML5 would be cool, since the app could add its own menus to the system's menu bar.

[16:00:02.0000] <othermaciej>
(though I guess we could at least avoid poisoning the new thing)

[16:00:03.0000] <Hixie>
othermaciej: i expect so

[16:01:00.0000] <Hixie>
othermaciej: i expect to change the spec at some point and allow sniffing, frankly

[16:02:00.0000] <othermaciej>
yes, a way to add to app menus would be cool , though I don't think HTML5 <menu> is sufficient for that as currently spec'd

[16:02:01.0000] <othermaciej>
we're looking at what kinds of things developers want to add

[16:02:02.0000] <othermaciej>
back in a few, getting coffee

[16:02:03.0000] <Lachy>
othermaciej, I don't think the default apache inlcudes the correct MIME type for .ico files, so probably quite a lot are sent as text/plain.

[16:02:04.0000] <Hixie>
you'd need a new type on the menu element

[16:04:00.0000] <Lachy>
I thought that's what the type="toolbar" was for

[16:04:01.0000] <Lachy>
have I remembered incorrectly?

[16:04:02.0000] <Hixie>
that's inline

[16:05:00.0000] <Lachy>
oh, ok.

[16:05:01.0000] <Lachy>
well, do we want to add a new type for it then?

[16:07:00.0000] <Hixie>
what would it do when the page isn't installed?

[16:07:01.0000] <Lachy>
dunno.

[16:07:02.0000] <Lachy>
probably nothing. It could be reserved for when it is installed as a web app.

[16:08:00.0000] <Hixie>
that would be bad

[16:08:01.0000] <Lachy>
or fallback to type=toolbar

[16:08:02.0000] <Hixie>
that would make people use it as toolbar and then installing pages would break their rendering

[16:08:03.0000] <gsnedders>
Hixie: (and by overnight, I mean anytime by 20080618T154500+01)

[16:08:04.0000] <Lachy>
hmm, then I don't know. This is obviously not a well thought out idea.

[16:09:00.0000] <gsnedders>
(which is a bit longer than overnight)

[16:09:01.0000] <Hixie>
gsnedders: am having mail problems right now but it's next on my list :-)

[16:09:02.0000] <Philip`>
Out of 99 favicons, I see 53 image/x-icon, 20 text/html, 15 text/plain, 4 image/vnd.microsoft.icon, 4 image/gif, 3 image/png

[16:09:03.0000] <Hixie>
Lachy: it's something i spent a lot of time thinking about when speccing <menu> :-)

[16:09:04.0000] <Hixie>
Philip`: send mail asking for me to make sniffing allowed :-)

[16:09:05.0000] <gsnedders>
/me sniffles

[16:09:06.0000] <Philip`>
(That's counting 404 pages, which is probably exaggerated by there being a few months between getting the list of icons and checking the content-types)

[16:10:00.0000] <Lachy>
right, so this probably was discsussed back then, and that's probably why I thought toolbar worked like that!

[16:10:01.0000] <Hixie>
Lachy: :-)

[16:10:02.0000] <Philip`>
(Oh, not that many - 81 were 200, 13 were 404)

[16:11:00.0000] <gsnedders>
othermaciej: Speaking of Saf4, does it support @rel='feed'?

[16:12:00.0000] <Lachy>
Maybe when it's not installed as a webapp, the browser could add some UI to indicate that there's a menu available and allow the user to switch into webapp mode for that site, which would then replace the menu bar.

[16:13:00.0000] <Lachy>
though I have no idea what kind of UI would be appropriate for that.

[16:13:01.0000] <smedero>
What other site-specific browsers are there? Prism (web-runner). Fluid. Safari 4. (there's also several kiosk-mode like browser plugins, hacks, and modified versions.)

[16:14:00.0000] <othermaciej>
gsnedders: for feed autodiscovery? I assume so

[16:14:01.0000] <othermaciej>
though probably not w/ the HTML5 algorithm for such

[16:14:02.0000] <gsnedders>
othermaciej: @rel='feed' _is_ the HTML 5 way

[16:16:00.0000] <gsnedders>
othermaciej: it seems not

[16:16:01.0000] <Lachy>
I think Firefox 3 supports rel=feed.

[16:17:00.0000] <gsnedders>
Lachy: Yeah, it does

[16:25:00.0000] <smedero>
confusing webpge... but I guess Hana (http://alloutsoftware.com/hana/) is another WebKit based site-specific browser tool 

[16:25:01.0000] <smedero>
There's also an my.opera blog entry on how to do something similar to Prism with Opera: http://my.opera.com/zomg/blog/2007/10/29/mozilla-prism-a-fancy-name-for-a-technology-as-old-as-the-browser

[16:28:00.0000] <roc>
that blog entry is a bit confused

[16:28:01.0000] <smedero>
agreed.

[16:29:00.0000] <Lachy>
indeed. Although we can make Opera behave in a similar way, the steps for setting it up is way too complicated.

[16:29:01.0000] <smedero>
Just finished reading through it... it only grazes the point of Prism.

[16:29:02.0000] <smedero>
but still, was just curious as to what other implementations were out in the wild....

[16:30:00.0000] <smedero>
/me goes back to his cave

[16:36:00.0000] <othermaciej>
gsnedders: what's the pre-HTML5 way?

[16:36:01.0000] <gsnedders>
othermaciej: link[@alt='alternate'][@rel='application/atom+xml'], link[@alt='alternate'][@rel='application/rss+xml']

[16:37:00.0000] <Hixie>
(that's also supported in html5, iirc)

[16:37:01.0000] <gsnedders>
(yes, it is)

[16:37:02.0000] <gsnedders>
(but link[@alt='feed'] is preferred IIRC)

[16:37:03.0000] <othermaciej>
gsnedders: ok, I'll make sure we put rel="feed" on the roadmap

[16:38:00.0000] <gsnedders>
othermaciej: thx

[16:39:00.0000] <Hixie>
gsnedders: fixed the spec

[16:39:01.0000] <gsnedders>
Hixie: I'll fix the implementation when I get back from school, having gone to bed and got back up before hand

[16:40:00.0000] <Hixie>
hehe

[16:40:01.0000] <Hixie>
it's a very simply fix

[16:40:02.0000] <gsnedders>
/me makes the naïve mistake of looking

[16:42:00.0000] <Hixie>
probably a one line fix in your code

[16:42:01.0000] <gsnedders>
yeah

[16:42:02.0000] <gsnedders>
No, the comment that quotes the spec text too :)

[16:42:03.0000] <Hixie>
heh

[16:44:00.0000] <gsnedders>
Hixie: That still looks badly wrong

[16:44:01.0000] <Hixie>
oh?

[16:44:02.0000] <Hixie>
does it fix jgraham__'s example, at least?

[16:44:03.0000] <gsnedders>
http://pastebin.com/m7a8c10a9

[16:44:04.0000] <gsnedders>
Hixie: yeah, it does

[16:45:00.0000] <gsnedders>
That's the TOC of the HTML5 spec according to the outline algorithm

[16:45:01.0000] <gsnedders>
Which is obviously rather broken

[16:45:02.0000] <Hixie>
yeah

[16:46:00.0000] <Hixie>
looks like it's breaking on <body><h1><h2><h3><h3>

[16:46:01.0000] <Hixie>
treating it as <body><h1><h2><h3><h1> or something

[16:46:02.0000] <Hixie>
i can't see why that would happen, i expect you have a bug :-)

[16:46:03.0000] <gsnedders>
Hixie: I've looked over it endlessly :)

[16:47:00.0000] <Hixie>
is the source online?

[16:47:01.0000] <gsnedders>
It'd be easier to check if there were more impls of the spec (as jgraham__'s moves away from it)

[16:47:02.0000] <gsnedders>
http://pastebin.com/m2141a4ca — that's the latest copy

[16:50:00.0000] <Hixie>
uh

[16:50:01.0000] <Hixie>
line 136

[16:50:02.0000] <Hixie>
shouldbn't the > be < ?

[16:50:03.0000] <gsnedders>
No, my impl. is just odd :)

[16:50:04.0000] <gsnedders>
See line 31

[16:51:00.0000] <gsnedders>
I need to make that more logical, though

[16:51:01.0000] <jgraham__>
/me notes that his outline algorithm only diverges from the spec in the exact way specified in the email he sent

[16:52:00.0000] <Hixie>
i changed the spec in a way different than what you suggested

[16:53:00.0000] <Hixie>
gsnedders: i'd need to step through your code with a debugger to really figure out what's going on

[16:53:01.0000] <jgraham__>
I seem to recall thinking for a bit about the changes that were needed to make it work as expected, so if it turns out it works in all cases using a much simpler algorithm, it means that I'm even stupider than I previously thought :)

[16:53:02.0000] <Hixie>
gsnedders: i recommend finding the smallest source markup you can and then walking through the code with it

[16:53:03.0000] <Hixie>
gsnedders: and seeing why it backs out so far

[16:53:04.0000] <jgraham__>
s/as expected/as I expected/

[16:54:00.0000] <gsnedders>
/me tries hacking jgraham__'s impl to match the spec

[16:54:01.0000] <gsnedders>
Yeah, it must be an impl bug

[16:54:02.0000] <Hixie>
jgraham__: i just checked in the change in reply to your e-mail, if you want to compare

[16:55:00.0000] <gsnedders>
Heh. Slight understatement of the difference in complexity :)

[16:58:00.0000] <jgraham__>
Hmm I should go to sleep at the moment. gsnedders: I'll be interested to see what happens if you implement the new spec in my code

[16:58:01.0000] <Philip`>
/me wonders why Yahoo Slurp seemingly follows links in <a src="...">, as well as <a href> and <embed src> and <object data> and none of the other elements/attributes he's tested

[16:59:00.0000] <Philip`>
/me also wonders why Googlebot seemingly follows <a href> and <embed src> and nothing else, since he expects it to be far more aggressive than that


2008-06-18
[17:00:00.0000] <Hixie>
Philip`: did you test <script src> ? yahoo seems to follow that

[17:01:00.0000] <Philip`>
Hixie: Yes

[17:01:01.0000] <Philip`>
I might just need to be more patient and give the crawlers more time

[17:01:02.0000] <Philip`>
or maybe they get suspicious that my test page is linking to 404s and stop following all the other links

[17:02:00.0000] <Hixie>
heh

[18:35:00.0000] <Hixie>
i wonder how i can determine if my apache is using mpm_prefork_module or mpm_worker_module

[18:37:00.0000] <Philip`>
Hixie: Look at http://whatever/server-info if you have mod_info

[18:38:00.0000] <Hixie>
it appears i don't

[18:38:01.0000] <Hixie>
i have something called "Apache Server Status"

[18:39:00.0000] <Philip`>
(I guess it also needs to be configured somehow, and appropriate permissions set, and everything, which is probably not entirely trivial)

[18:39:01.0000] <Hixie>
i think i must be using prefork

[18:40:00.0000] <Philip`>
You could count the number of processes, since mpm_worker_module only has one

[18:40:01.0000] <Philip`>
Oh, no it doesn't

[18:40:02.0000] <Philip`>
/me shouldn't trust the first web page he reads

[18:40:03.0000] <Hixie>
no, it can have many

[19:26:00.0000] <mcarter>
hello

[19:26:01.0000] <mcarter>
Hixie, i sent in that feedback

[19:27:00.0000] <Hixie>
sweet

[19:27:01.0000] <Hixie>
thanks!

[19:27:02.0000] <Hixie>
i'll probably do the tcp stuff right after the url stuff i'm doing now

[19:27:03.0000] <Hixie>
(which is turning into a giant pile of annoyance)

[19:28:00.0000] <mcarter>
which url stuff is that? (link?)

[19:28:01.0000] <Hixie>
search for "URLs" in the spec

[19:33:00.0000] <Hixie>
does anyone do TLS upgrade on normal HTTP today?

[19:35:00.0000] <Hixie>
other than that i generally agree with what you're proposing

[19:35:01.0000] <othermaciej>
mcarter: I like your proposal

[19:36:00.0000] <othermaciej>
mcarter: my only further comment is that maybe it should be called something other than TCPConnection now

[19:36:01.0000] <othermaciej>
since it is so far from a generic TCP connection

[19:36:02.0000] <mcarter>
yeah, thats a good point

[19:36:03.0000] <othermaciej>
maybe the protocol should get a real name (instead of being called "TCPConnection"), and then if that is Foo, the API can be FooConnection

[19:37:00.0000] <Hixie>
yeah the name needs to change

[19:37:01.0000] <othermaciej>
(clearly Foo cannot be "TCP" because that is already taken as a protocol name)

[19:37:02.0000] <othermaciej>
you could also imagine a name that is about the interestingly different functionality

[19:37:03.0000] <othermaciej>
DuplexConnection, TwoWayChannel, something like that

[19:38:00.0000] <Hixie>
yup

[19:38:01.0000] <othermaciej>
I am kind of excited

[19:38:02.0000] <Hixie>
i want the server to return the Host value (or maybe the URL value, even)

[19:38:03.0000] <Hixie>
in the initial handshake response

[19:39:00.0000] <Hixie>
so that naive implementations on the server side aren't trivially usable cross-site

[19:39:01.0000] <othermaciej>
this is the first thing I have seen that seems like a viable two-way messaging solution in the browser

[19:39:02.0000] <Hixie>
thought maybe Access-Control is enough?

[19:39:03.0000] <Hixie>
Access-Control seems really heavyweight for this

[19:39:04.0000] <othermaciej>
yeah, you could use Access-Control for cross-site

[19:40:00.0000] <othermaciej>
it only takes one header for an A-C response to allow access, doesn't it?

[19:40:01.0000] <Hixie>
yeah but ac has lots of other overhead, potentially

[19:41:00.0000] <Hixie>
ac is really for HTTP, not for this protocol

[19:41:01.0000] <othermaciej>
what does AC have that would add overhead and not be beneficial for this protocol?

[19:42:00.0000] <Hixie>
i dunno, i don't know what AC has, it's in such flux :-)

[19:42:01.0000] <Hixie>
but e.g. the method and header whitelisting

[19:42:02.0000] <othermaciej>
I don't know what it has either, but I am trying to learn

[19:42:03.0000] <mcarter>
well, i figured it was better to point at something in flux rather than invent a new solution to the same problem

[19:42:04.0000] <othermaciej>
method whitelisting wouldn't be needed since the method is GET

[19:43:00.0000] <Hixie>
the fact that it's a two-step preflight/flight mechanism rather than just an upgrade

[19:43:01.0000] <othermaciej>
header whitelisting shouldn't be needed unless it is important for this API to allow custom headers

[19:44:00.0000] <othermaciej>
oh, I guess the method is OPTIONS, not GET, in mcarter's protocol

[19:44:01.0000] <mcarter>
othermaciej, the method i proposed was OPTIONS

[19:44:02.0000] <mcarter>
right

[19:45:00.0000] <mcarter>
it doesn't make sense to return any resource so GET didn't really make sense. OPTIONS seems like the right fit. But you're still right -- we don't need method whitelisting

[19:45:01.0000] <othermaciej>
perhaps AC should take this into consideration as a potential use case, unless we think this case can be handled with a simpler mechanism that can't be applied to AC's other use cases

[19:45:02.0000] <Hixie>
basically it seems to me like using Access-Control here is like using XLink for svg's <style xlink:href=""> mechanism

[19:46:00.0000] <Lachy>
http://www.sproutcore.com/2008/05/28/understanding-the-ie-dom/

[19:46:01.0000] <Hixie>
a theoretical fit that's not really reusing the actual semantics, just the syntax

[19:46:02.0000] <mcarter>
I'm a bit lost. What are the semantics vs. syntax of AC?

[19:46:03.0000] <othermaciej>
don't we actually want cross-site access-control semantics?

[19:47:00.0000] <othermaciej>
i.e. deny cross-site by default, give server full info, let either server or client deny, limit to certain sites, etc

[19:47:01.0000] <othermaciej>
is there a reason that's not good for TCPConnection?

[19:48:00.0000] <othermaciej>
and if so, what would be the simpler model that would work?

[19:48:01.0000] <othermaciej>
(these are not just rhetorical questions, I don't actually know the answer to the last two there)

[19:49:00.0000] <mcarter>
I think we actually want cross-site access-control semantics

[19:50:00.0000] <mcarter>
and I think AC is a fine fit for TCPConnection

[19:50:01.0000] <mcarter>
but on the other hand, I don't understand the objection

[19:50:02.0000] <Hixie>
Lachy: interesting

[19:51:00.0000] <Hixie>
mcarter: the semantics are all the algorithms in the AC spec, like the cache, doing the preflight, etc

[19:51:01.0000] <Hixie>
othermaciej: we want cross-site access-control semantics just like SVG wanted linking semantics

[19:51:02.0000] <othermaciej>
Lachy: I don't understand the distinction he is making between "peer objects" and "wrappers"

[19:51:03.0000] <Hixie>
othermaciej: but AC is not just "cross-site access-control semantics", it's also "how to respond to an HTTP redirect", etc

[19:51:04.0000] <othermaciej>
WebKit's JavaScript DOM bindings are wrappers around the core DOM that call through

[19:52:00.0000] <Hixie>
othermaciej: the simpler model would be just to ask the server to include a "header" in its response consisting of the reconstructed URL, and having the client abort of that header is absent or not exactly the expected value

[19:52:01.0000] <othermaciej>
Hixie: what reconstructed URL?

[19:53:00.0000] <othermaciej>
the target URL or the referer?

[19:53:01.0000] <othermaciej>
it can't necessarily reconstruct the referer since that is often blocked

[19:53:02.0000] <Hixie>
target

[19:53:03.0000] <Hixie>
but i'm on crack

[19:53:04.0000] <othermaciej>
reconstructing the target URL doesn't provide cross-site access control

[19:53:05.0000] <Hixie>
and should be talking about the referer

[19:54:00.0000] <othermaciej>
or better yet, Access-Control-Origin

[19:54:01.0000] <othermaciej>
and it could return an Access-Control header

[19:54:02.0000] <Hixie>
yeah

[19:54:03.0000] <Hixie>
i don't understand how we would use Access-Control (other than its syntax)

[19:54:04.0000] <Hixie>
e.g. the correct response to an HTTP redirect here should be to bail

[19:54:05.0000] <Hixie>
not to follow the redirect and apply Access-Control semantics

[19:54:06.0000] <mcarter>
we may want to specify a way of dealing with redirects with TCPConnection

[19:55:00.0000] <othermaciej>
yeah, I think you may want to specify that this API doesn't follow redirects

[19:55:01.0000] <othermaciej>
(then Access-Control rules for how to follow a redirect don't apply)

[19:56:00.0000] <mcarter>
if we're using URIs then it seems reasonable for the server to send back a 301 and expect the client to follow it

[19:56:01.0000] <Hixie>
yeah but then it's not really access-control

[19:56:02.0000] <Hixie>
i mean, look at the spec: http://dev.w3.org/2006/waf/access-control/#processing-model

[19:56:03.0000] <Hixie>
we don't need 90% of that

[19:56:04.0000] <othermaciej>
I just realized, I don't remember whether the correct spelling is "referer" or "referrer" any more

[19:56:05.0000] <othermaciej>
damn you, interweb

[19:56:06.0000] <Hixie>
reusing the syntax isn't gaining us anything except confusion imho

[19:56:07.0000] <othermaciej>
well we could make a different syntax but you'd basically want it to do what Access-Control-Origin and Access-Control do

[19:56:08.0000] <othermaciej>
IMO

[19:56:09.0000] <mcarter>
hmm, that spec blacklists the Upgrade header

[19:57:00.0000] <othermaciej>
even if spelled differnetly

[19:57:01.0000] <othermaciej>
mcarter: the client of access control (for instance the XHR caller) can't set it

[19:57:02.0000] <othermaciej>
that doesn't mean an implementation of a protocol using A-C can't send it

[19:57:03.0000] <Hixie>
also we have to assume that the server isn't checking, e.g. Host, and thus that the client will have to do all the security, imho

[19:57:04.0000] <Hixie>
which means doing this even for same-site requests

[19:57:05.0000] <mcarter>
othermaciej, i see

[19:58:00.0000] <othermaciej>
Hixie: why would you need it for same-site requests? DNS rebinding (that applies to data available w/o credentials but still somehow restricted but not checking the Host header)?

[19:59:00.0000] <Hixie>
shared hosting providers

[20:00:00.0000] <othermaciej>
I guess we could try to make the server prove it checked Host (by echoing it back or something)

[20:00:01.0000] <Hixie>
that's the idea, right

[20:00:02.0000] <othermaciej>
what's the threat model with shared hosting providers?

[20:01:00.0000] <Hixie>
so then people will either explicitly opt in by just echoing it, or always echo back the expected value without checking it

[20:01:01.0000] <othermaciej>
let's say evil.com and victim.com share a physical server, different virtual servers

[20:01:02.0000] <Hixie>
evil.com:80 opens a DuplexConection to evil.com:81, which is actually run by victim.com

[20:01:03.0000] <othermaciej>
who has the TCPConnection resource up?

[20:01:04.0000] <othermaciej>
that would be subject to Access-Control, would it not?

[20:02:00.0000] <othermaciej>
since it is a different port

[20:02:01.0000] <Hixie>
yeah i guess so

[20:02:02.0000] <Lachy>
othermaciej, I'm not entirely sure either. But AFAICT, it seems to be that the peer objects are real JS objects somehow linked with the internal C++ objects, whereas the wrappers are just exposing JS APIs on C++ objects.

[20:02:03.0000] <Hixie>
i suppose we could use Access-Control, i'm just really weary of poisining Access-Control the way XLink was poisoned

[20:03:00.0000] <Hixie>
mcarter: thanks again for the feedback, it's great stuff

[20:03:01.0000] <othermaciej>
Hixie: I'm not 100% sure it will work, then again, I am also not 100% sure what is even in access-control at this point

[20:03:02.0000] <Hixie>
yeah

[20:03:03.0000] <othermaciej>
but studying access-control is on my near-term agenda

[20:03:04.0000] <othermaciej>
I will keep this in mind as a potential use case

[20:03:05.0000] <mcarter>
Hixie, yeah, glad to be a part of this discussion. sorry it took so long.

[20:03:06.0000] <Hixie>
mcarter: np

[20:04:00.0000] <Hixie>
right i'm gonna go get food

[20:04:01.0000] <Hixie>
and work on URLs more later

[20:04:02.0000] <Hixie>
this URLs work is really boring me to death

[20:04:03.0000] <Hixie>
as you can tell by the lack of significant progress on my chart :-)

[20:04:04.0000] <Hixie>
bbl

[20:04:05.0000] <othermaciej>
later!

[20:05:00.0000] <othermaciej>
mcarter: I agree, your proposal looks very good

[20:06:00.0000] <othermaciej>
Lachy: I know a lot about how WebKit's DOM bindings work, and if what we do is *not* wrapping, then I don't know what is

[20:06:01.0000] <mcarter>
I'm getting ready to release Orbited 0.5 which has a preliminary implementation of TCPConnection

[20:07:00.0000] <mcarter>
maybe I should start calling it DuplexConnection now

[20:07:01.0000] <Lachy>
there was a footnote at the end of the article that basically pointed out the peer model was a simplified version of what webkit and firefox really do.

[20:07:02.0000] <mcarter>
so there's no confusion

[20:08:00.0000] <othermaciej>
I think the difference is more of how hard the wrappers try to look like real JS objects and not leak implementation details, than of fundamental architecture difference

[20:09:00.0000] <Lachy>
yeah, maybe.

[20:10:00.0000] <Lachy>
I'm interested to see how sproutcore implemented their peer model. I wonder if they actually create a new object for every element in the DOM, as the diagram seems to suggest.

[20:10:01.0000] <Lachy>
that would seem quite inefficient though.

[20:10:02.0000] <othermaciej>
I'd expect is is more likely that their view abstraction is like the "widget" abstraction in many other JS libraries

[20:11:00.0000] <othermaciej>
that it may be a composite of multiple elements

[20:13:00.0000] <Lachy>
othermaciej, there are articles suggesting that sproutcore was created by Apple for MobileMe, but I can't see anywhere on sproutcore.com that says they're affiliated with Apple at all. Do you know if it was, or if was created by others and Apple is just using it?

[20:14:00.0000] <othermaciej>
Lachy: the main SproutCore guy works for Apple on MobileMe, and MobileMe uses it

[20:14:01.0000] <othermaciej>
I don't know offhand if he created it before working for Apple or after

[20:14:02.0000] <othermaciej>
or who else uses it

[20:14:03.0000] <Lachy>
ah, ok.

[20:14:04.0000] <othermaciej>
or any other details

[20:15:00.0000] <Lachy>
it seems to be a fiarly recent creation, since it looks like sproutcore.com was only launched in May

[20:17:00.0000] <othermaciej>
I gotta head out

[20:17:01.0000] <othermaciej>
later

[21:59:00.0000] <takkaria>
anyone around familiar with the html5lib tests?

[22:02:00.0000] <takkaria>
just there are some tests which seem to ensure that CRs turn into LFs and I can't see anywhere where that's actually specced

[22:36:00.0000] <Hixie>
is there a version of http://muffin.doit.org/docs/rfc/tunneling_ssl.html that is more official?

[00:32:00.0000] <hsivonen>
takkaria: http://www.whatwg.org/specs/web-apps/current-work/#preprocessing

[00:36:00.0000] <Hixie>
mcarter: yt?

[00:36:01.0000] <Hixie>
mcarter: in the proxy case, what does the handshake look like for proxy <-> server?

[00:38:00.0000] <mcarter>
hey

[00:41:00.0000] <mcarter>
well, the proxy will forward all the bytes through exactly, AFTER the HTTP Connect request

[00:41:01.0000] <mcarter>
so the handshake ends up looking identical from the end-server's view

[00:44:00.0000] <mcarter>
actually, that explanation wasn't clear, and i think there is an oversight in my proposal

[00:44:01.0000] <Hixie>
the proxy doesn't say CONNECT to the server?

[00:44:02.0000] <mcarter>
no

[00:45:00.0000] <Hixie>
is this documented anywhere? i couldn't find any RFCs about it.

[00:45:01.0000] <mcarter>
1) client says HTTP CONNECt...\r\n\r\n to the proxy

[00:45:02.0000] <mcarter>
2) proxy sends back HTTP/1.x 200 OK...\r\n\r\n to the client

[00:45:03.0000] <mcarter>
3) proxy tunnels all bytes in both directions

[00:45:04.0000] <mcarter>
yeah, refer to http://www.web-cache.com/Writings/Internet-Drafts/draft-luotonen-web-proxy-tunneling-01.txt at the bottom of page 4

[00:46:00.0000] <Hixie>
that's just a draft

[00:46:01.0000] <Hixie>
there's gotta be a real spec for this surely

[00:47:00.0000] <mcarter>
hmm, maybe. I'm pretty certain that actual implementations work as specified by that draft, at least the simple example they have on page 4

[00:50:00.0000] <Hixie>
no part of that draft seem to mention actually connecting to the final server :-)

[00:53:00.0000] <mcarter>
yeah, they never specifically say "and then the proxy connects to the server"

[00:53:01.0000] <mcarter>
but they do imply it in a number of places

[00:54:00.0000] <Hixie>
yeah

[00:54:01.0000] <Hixie>
this seems seriously underspecified

[00:54:02.0000] <Hixie>
i'm starting to understand why proxies suck so much

[00:56:00.0000] <mcarter>
yeah, no kidding

[00:57:00.0000] <mcarter>
another thing to remember is that you can have proxy chains

[00:58:00.0000] <mcarter>
so the client might send an HTTP CONNECT addr:port\r\n\r\n to proxy A, and then proxy A will send HTTP CONNECT addr:port\r\n\r\n to proxy B, and proxy B would actually open the connection to the remote server and send any following data

[00:58:01.0000] <mcarter>
it doesn't actually affect the client implementation or the server implementation

[00:58:02.0000] <mcarter>
i'm just pointing out that proxy servers can also be proxy clients

[00:59:00.0000] <Hixie>
yeah

[00:59:01.0000] <Hixie>
that i found info for iirc

[01:04:00.0000] <mcarter>
Also, i didn't make it clear in the proposal, but we will always need to do an explicit HTTP CONNECT to the proxy (instead of just sending it an OPTIONS http://example.com/some/url... and letting it do the proxy) is that the Connection: upgrade header is only good for a single hop. It will be stripped out before it gets to the final destination

[01:04:01.0000] <mcarter>
s/but/but the reason that/

[01:04:02.0000] <Hixie>
yeah

[01:07:00.0000] <takkaria>
hsivonen: thanks

[01:08:00.0000] <mcarter>
Hixie, Does it look like the name of this thing is going to be DuplexConnection?

[01:08:01.0000] <hsivonen>
takkaria: fwiw, I've found that CRLF causes a lot of grief. I handle it in the Driver and the Tokenizer has a hiccup back to the Driver on every LF following CR

[01:09:00.0000] <hsivonen>
this is necessary to make CRLF do the right thing when CR and LF come from different document.writes

[01:10:00.0000] <hsivonen>
(Driver and Tokenizer as described in my email to public-html yesterday)

[01:10:01.0000] <takkaria>
/me nods

[01:10:02.0000] <takkaria>
I've been looking at the code for validator.nu and html5lib, they've both been quite helpful

[01:11:00.0000] <hsivonen>
I changed this on Monday. my previous design sucked

[01:12:00.0000] <Hixie>
mcarter: no idea on the name

[01:12:01.0000] <Hixie>
mcarter: i don't know that Duplex is the best work for it

[01:14:00.0000] <mcarter>
I think TCPConnection would be the easiest to "sell" to developers and by that measure its probably the best aside from SocketConnection or TCPSocket. But as othermaciej said, this is not really a tcp connection

[01:15:00.0000] <Hixie>
SocketConnection might be ok

[01:18:00.0000] <mcarter>
think about it at any rate. I vote for SocketConnection over DuplexConnection

[01:18:01.0000] <mcarter>
I'm about to start a series of articles introducing Orbited and its approximate implementation of the specification, but i should probably hold off until we nail the name down

[01:19:00.0000] <mcarter>
There is a surprising amount of interest in having some kind of socket connection in the browser though

[01:20:00.0000] <Hixie>
not surprising to me :-)

[01:20:01.0000] <Hixie>
what surprises me actually is how many people claim lack of interest

[01:21:00.0000] <mcarter>
yeah, thats a good point

[01:21:01.0000] <mcarter>
if this sort of thing catches on it could completely change the way web applications are written. I mean, no more ruby on rails / php / java servelets

[01:21:02.0000] <Hixie>
yup

[01:22:00.0000] <Hixie>
i'm already faking it on my own apps

[01:22:01.0000] <Hixie>
i have a tcp socket server, and then two cgi scripts

[01:22:02.0000] <mcarter>
are you doing polling or long polling or something?

[01:22:03.0000] <Hixie>
one just listens to the tcp server, and passes everything through as <script> blocks

[01:22:04.0000] <Hixie>
the other accepts POSTs and connects to the tcp server, pushes that message, and disconnects

[01:23:00.0000] <mcarter>
heh, thats what orbited does

[01:23:01.0000] <Hixie>
but once we can connect directly those tw ocgis can go away and be replaced with a single connection

[01:23:02.0000] <Hixie>
how about OrbitedConnection? ;-)

[01:23:03.0000] <mcarter>
haha

[01:23:04.0000] <mcarter>
That would scare a number of people away i think

[01:23:05.0000] <Hixie>
hah

[01:24:00.0000] <mcarter>
I'm trying to get all these Comet people to come around to the idea of using something mroe like a socket

[01:24:01.0000] <mcarter>
they've all gone and built these crazy scheme's around the notion that comet is some special thing

[01:24:02.0000] <mcarter>
but really, they just want a SocketConnection

[01:24:03.0000] <Hixie>
yeah i don't understand the comet people

[01:24:04.0000] <Hixie>
they're worse than the ajax people!

[01:24:05.0000] <Hixie>
and those are already worse than the dhtml and rest people

[01:25:00.0000] <hsivonen>
Hixie: how strict are you about the couple of lines of Perl req?

[01:25:01.0000] <mcarter>
I actually have an 8-9 part back and forth with the Bayeux/cometd guys on cometdaily.com explaining from the ground up how we really just want a socket

[01:25:02.0000] <Hixie>
hsivonen: i don't believe i said "a couple"

[01:25:03.0000] <hsivonen>
ok

[01:25:04.0000] <Hixie>
hsivonen: i just don't want to write an HTTP server with thousands of lines

[01:25:05.0000] <mcarter>
Hixie, the exact quote was "a few" ;-)

[01:26:00.0000] <Hixie>
btw this new protocol does rather do away with the broadcast connection and local peer to peer ideas

[01:26:01.0000] <Hixie>
but i guess that's ok

[01:26:02.0000] <hsivonen>
I wonder if we could get someone champion an Apache module or something that deals with complexity from Day 1

[01:26:03.0000] <mcarter>
i was thinking about that

[01:26:04.0000] <mcarter>
peer connections would be brilliant

[01:26:05.0000] <mcarter>
and flash 10 has them, doesn't it?

[01:26:06.0000] <mcarter>
I'm not convinced you should rip them out of the specification just yet

[01:28:00.0000] <Hixie>
hsivonen: "day 1" would be about 3 years ago, if we want stuff actually deployed and usable :-)

[01:28:01.0000] <Hixie>
hsivonen: servers take even longer to upgrade than clients

[01:29:00.0000] <Hixie>
mcarter: well, what's the use case?

[01:29:01.0000] <mcarter>
distributed file sharing for one

[01:29:02.0000] <Hixie>
in a web app?

[01:29:03.0000] <mcarter>
sure

[01:30:00.0000] <mcarter>
if you can broadcast on your lan to detect other clients, and then establish peer connections, you can do ANYTHING

[01:30:01.0000] <mcarter>
make games that don't need servers

[01:30:02.0000] <mcarter>
your whole app could just be a .html file

[01:30:03.0000] <Hixie>
does anyone really hang out on the same lan these days?

[01:31:00.0000] <mcarter>
good point. they do in college/university, and not so much later

[01:31:01.0000] <mcarter>
on the other hand, LAN parties are still prevelant for gaming

[01:33:00.0000] <Hixie>
krijnh: i apologise for #webapps

[01:33:01.0000] <krijnh>
Hixie: np ;)

[01:34:00.0000] <Hixie>
krijnh: there's something about the w3c that makes people act weird

[01:34:01.0000] <krijnh>
I did expect your apology though

[01:34:02.0000] <Hixie>
heh

[01:34:03.0000] <mcarter>
How about distributed caching? If you could implement a way for the server to just send you a HASH of a resource and then have the browser check the LAN for someone else with that resource, you could save TONS of bandwidth

[01:35:00.0000] <mcarter>
I'm not sure if javascript is the right place for that sort of feature, probably it should be built into the browser directly, if at all. On the other hand, it would be great to open experimentation up to EVERYONE and not just browser developers

[01:40:00.0000] <Hixie>
yeah

[01:40:01.0000] <Hixie>
but that's not really enough of a use case to justify browsers implementing that feature

[01:41:00.0000] <Hixie>
since they could just implement the caching

[01:50:00.0000] <Hixie>
mcarter: so this doesn't address the framing problem, btw

[01:52:00.0000] <krijnh>
Yay, Dmitry Turin is back :)

[01:52:01.0000] <Hixie>
i guess we can just strip U+0000 characters and use that as a frame terminator

[01:52:02.0000] <mcarter>
Hixie, well, I'm still against having framing in the protocol, or at least I'm against it being non-optional. But I'd much rather have the connection with framing than no connection

[01:52:03.0000] <Hixie>
and have the first byte of each frame be an indicator of the kind of data

[01:52:04.0000] <Hixie>
we need framing for two reasons

[01:53:00.0000] <Hixie>
one is future compatibility, when we add raw binary data to the web platform, so you can transmit raw binary data as well as UTF-8 data

[01:53:01.0000] <Hixie>
the other is specifically server->client, so that the client knows when to fire the events

[01:53:02.0000] <Hixie>
we don't want to have everyone reimplement packet fragment reassembly manually in js

[01:54:00.0000] <mcarter>
i was thinking about this

[01:54:01.0000] <mcarter>
i think it would be better off to make a seperate api/protocol for text and binary

[01:54:02.0000] <Hixie>
really?

[01:54:03.0000] <mcarter>
or at the very least, have it specified in the initial handshake

[01:54:04.0000] <Hixie>
seems like you'd want both in the same connection

[01:55:00.0000] <Hixie>
e.g. to transmit text and pictures in a chat

[01:55:01.0000] <mcarter>
really i think it should always be binary and you should just have access to a utf-8 decoder

[01:56:00.0000] <Hixie>
you have more faith in web authors than i do

[01:56:01.0000] <mcarter>
we have a BinaryTCPConection in orbited and we implemented a utf-8 decoder and it all works out pretty well

[01:56:02.0000] <mcarter>
you may have a point

[01:56:03.0000] <Hixie>
you're not exactly representative

[01:57:00.0000] <Hixie>
and i mean that as a compliment, btw :-)

[01:57:01.0000] <mcarter>
heh, thanks =D

[01:57:02.0000] <mcarter>
We could also change the api slightly to allow the option to read the data either way

[01:57:03.0000] <mcarter>
like, onread doesn't return an event with data, but specifies that you should call read() to actually get the data

[01:58:00.0000] <Hixie>
we need to know if the packet is binary or text when sending, so we know it anyway, so we might as well pass that along

[01:58:01.0000] <Hixie>
also, we need to know it so that we know how to find the end of the frame

[01:58:02.0000] <Hixie>
e.g. UTF-8 will never include a raw 0x00 or 0xFF byte, so we can use those for framing

[01:59:00.0000] <Hixie>
but binary will include both, so we either want to use a size indicator, or a way to escape the frame terminator

[01:59:01.0000] <mcarter>
i am partial to the size indicator

[02:00:00.0000] <Hixie>
yeah escaping frame terminators is bad from a perf point of view

[02:00:01.0000] <mcarter>
the reason to use the delimiters i guess is to make it easier to implement the server, right?

[02:00:02.0000] <Hixie>
yes

[02:00:03.0000] <Hixie>
amongst other reasons

[02:01:00.0000] <Hixie>
size indicators, on the other hand, put an upper limit on the amount of data you can send per frame

[02:01:01.0000] <Hixie>
and are inefficient for smallmessages

[02:01:02.0000] <mcarter>
True

[02:02:00.0000] <mcarter>
I really don't like the idea of having to escape those characters for binary transfer though

[02:02:01.0000] <Hixie>
on the plus side, size indicators tend to make it less likely to have buffer overruns

[02:02:02.0000] <mcarter>
you know, the STOMP protocol uses both methods

[02:02:03.0000] <Hixie>
since you're less likely to guess a size

[02:02:04.0000] <Hixie>
using both gets you the worst of both world and not the best of either :-)

[02:03:00.0000] <mcarter>
they say that if there is no frame size specified (header based) then look for 0x00, and otherwise use the specified frame size

[02:03:01.0000] <Hixie>
aah

[02:03:02.0000] <Hixie>
that makes sense

[02:03:03.0000] <Hixie>
what i was thinking earlier is that each frame would start with a type byte

[02:03:04.0000] <Hixie>
0x00 = UTF-8, terminated by 0x00

[02:03:05.0000] <Hixie>
0x01 = binary, followed by 32 bit integer N, followed by N bytes of data

[02:04:00.0000] <mcarter>
yeah, that could work pretty well

[02:05:00.0000] <mcarter>
are we allowing alternating frame types then?

[02:05:01.0000] <mcarter>
right, you just said that

[02:05:02.0000] <mcarter>
sending pictures and text on the same connection

[02:06:00.0000] <Hixie>
or we could represent the integer N using 7 bits per byte, with the 8th bit being set if there is another byte

[02:06:01.0000] <Hixie>
that lets us have arbitarily sized frames

[02:06:02.0000] <Hixie>
without high overhead for small frames

[02:06:03.0000] <mcarter>
sort of utf-8-esque

[02:06:04.0000] <Hixie>
yeah

[02:07:00.0000] <mcarter>
yeah, that would work

[02:07:01.0000] <Hixie>
so 127 byte frames are 0x01 0x7F data

[02:07:02.0000] <Hixie>
and a 128 byte frame would start 0x01 0x80 0x01 data

[02:07:03.0000] <mcarter>
and 256 byte frames are 0x01 0xFF 0x01 data

[02:07:04.0000] <Hixie>
right

[02:08:00.0000] <Hixie>
actually that would be 255

[02:08:01.0000] <Hixie>
256 would be 0x01 0xFF 0x02 data

[02:08:02.0000] <mcarter>
yeah, right.

[02:08:03.0000] <mcarter>
we start at 0

[02:08:04.0000] <mcarter>
though, 0 should mean 1 byte, right?

[02:08:05.0000] <Hixie>
er no, 0x01 0x80 0x02

[02:08:06.0000] <Hixie>
or something

[02:08:07.0000] <Hixie>
hm

[02:08:08.0000] <Hixie>
i suppose we could just add one to the length, yes

[02:09:00.0000] <Hixie>
although

[02:09:01.0000] <Hixie>
i could see uses for sending zero byte packets

[02:09:02.0000] <Hixie>
so maybe not

[02:09:03.0000] <Hixie>
(e.g. sending a file that's zero bytes wouldn't need special casing this way: 0x00 FILENAME.DAT 0x00 0x01 0x00

[02:11:00.0000] <mcarter>
that makes sense

[02:12:00.0000] <mcarter>
even if there weren't cases for it, the confusion of being off by one is probably not worth extending our range by 1

[02:13:00.0000] <mcarter>
whats the api like for send then? sendText and sendBytes ? or send(data) and then the browser detects the type of data

[02:13:01.0000] <Hixie>
sendText(s) for now

[02:14:00.0000] <Hixie>
sendBlob(blob) later when we have blob objects

[02:14:01.0000] <Hixie>
those are still being specified

[02:14:02.0000] <Hixie>
but they'll affect everything, xhr, file upload, SocketConnection, the works

[02:14:03.0000] <Hixie>
Database

[02:15:00.0000] <mcarter>
yeah. For now we'll limp along in Orbited with OrbitedBinarySocketConnection with a sendBytes function

[02:15:01.0000] <Hixie>
:-)

[02:16:00.0000] <mcarter>
are there any plans for exposing to javascript some of the built-in decoders for images or text?

[02:16:01.0000] <mcarter>
or encryption

[02:16:02.0000] <mcarter>
I was saying the other day that we're having a hell of a time implementing TLS in the browser for xmpp over our faux Binary connection

[02:16:03.0000] <Hixie>
no idea, the blob stuff is still very very new

[02:17:00.0000] <Hixie>
and i'm not really involved

[02:17:01.0000] <Hixie>
though i might end up having to spec it myself! :-)

[02:17:02.0000] <mcarter>
oh hey, i still want to setup some kind of social meeting for whatwg/html5 at some point

[02:17:03.0000] <mcarter>
I just moved to mountain view this week

[02:18:00.0000] <mcarter>
I'll send an email out and put a wiki up I guess

[02:18:01.0000] <mcarter>
is there already a wiki somewhere that whatwg uses?

[02:19:00.0000] <Hixie>
nice!

[02:19:01.0000] <Hixie>
wiki.whatwg.org

[02:20:00.0000] <mcarter>
cool, I'll put it up there

[02:20:01.0000] <Hixie>
i should sleep

[02:20:02.0000] <Hixie>
thanks for the help

[02:20:03.0000] <Hixie>
i'll definitely work on this after the url stuff

[02:21:00.0000] <Hixie>
though that is proving quite tedious

[02:21:01.0000] <Hixie>
so might take a while

[02:21:02.0000] <Hixie>
nn

[02:21:03.0000] <zcorpan>
should HTMLVideoElement.EMPTY be defined?

[02:22:00.0000] <mcarter>
ok, well good luck with that URL stuff. goodnight

[02:22:01.0000] <doublec>
zcorpan, isn't it defined in HTMLMediaElement?

[02:22:02.0000] <zcorpan>
doublec: yes but i haven't wrapped my head around how inheritance works

[02:23:00.0000] <zcorpan>
should there just be HTMLMediaElement.EMPTY, HTMLMediaElement.prototype.EMPTY and HTMLVideoElement.prototype.EMPTY and not HTMLVideoElement.EMPTY?

[02:26:00.0000] <doublec>
yes

[02:26:01.0000] <doublec>
afaik

[02:28:00.0000] <zcorpan>
k

[02:28:01.0000] <zcorpan>
seems to agree with Node.ELEMENT_NODE

[02:29:00.0000] <Dashiiiva>
Constants should be on the interface object and the interface prototype object, but not on objects implementing the interface

[02:30:00.0000] <Hixie>
/me briefly pops back online to record that "WebSocket" would probably be a good new name for the TCPConnection object

[02:30:01.0000] <zcorpan>
Dashiiiva: why not on objects implementing the interface?

[02:31:00.0000] <Dashiiiva>
Because they have the interface prototype object as their prototype, so they inherit it there

[02:32:00.0000] <takkaria>
hsivonen: ping; when I've written new tests for the tokeniser, where's the best place to put them so others can make use of them?

[02:32:01.0000] <zcorpan>
Dashiiiva: but the end result is that the constant is present on the object?

[02:32:02.0000] <takkaria>
hsivonen: (I ask because you seem to know about such things)

[02:32:03.0000] <Dashiiiva>
somevideo.EMPTY works, yes

[02:32:04.0000] <hsivonen>
takkaria: the html5lib svn repo 

[02:33:00.0000] <hsivonen>
under testdata/tokenizer/

[02:33:01.0000] <hsivonen>
preferably in the same format

[02:33:02.0000] <zcorpan>
Dashiiiva: ok

[02:33:03.0000] <Dashiiiva>
zcorpan: I suppose we don't use the same definition of present :)

[02:33:04.0000] <takkaria>
hsivonen: who can I poke to get commit access?

[02:34:00.0000] <zcorpan>
Dashiva: black-box testing says it's present :)

[02:34:01.0000] <hsivonen>
takkaria: annevk or jgraham_ 

[02:34:02.0000] <takkaria>
hsivonen: thanks!

[02:34:03.0000] <Dashiiiva>
zcorpan: I would consider present to mean it has an own property, but you seem to mean own or inherited. So yeah.

[02:35:00.0000] <zcorpan>
Dashiiiva: ah

[02:35:01.0000] <zcorpan>
/me doesn't know about an own property

[02:36:00.0000] <Dashiiiva>
heycam: Those italic capital I (for example interfaces) look really like slashes in b4d :)

[02:36:01.0000] <zcorpan>
Dashiva: is the own property exposed to authors somehow?

[02:38:00.0000] <Dashiiiva>
zcorpan: You can use hasOwnProperty to detect whether a property is inherited or not

[02:42:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cscript%3E%0Aw(Node.ELEMENT_NODE.hasOwnProperty())%0Atry%20{%20w(Node.prototype.ELEMENT_NODE.hasOwnProperty())%20}%20catch(e)%20{%20w(e)%20}%0Aw(Element.prototype.ELEMENT_NODE.hasOwnProperty())%0Aw(document.documentElement.ELEMENT_NODE.hasOwnProperty())%0A%3C%2Fscript%3E

[02:42:01.0000] <zcorpan>
firefox: false, exception, false, false

[02:42:02.0000] <zcorpan>
opera, safari: false, false, false, false

[02:42:03.0000] <zcorpan>
are they all wrong? :)

[02:43:00.0000] <Dashiiiva>
element.hasOwnProperty(propname)

[02:43:01.0000] <zcorpan>
ah

[02:44:00.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cscript%3E%0Aw(Node.hasOwnProperty(%27ELEMENT_NODE%27))%0Aw(Node.prototype.hasOwnProperty(%27ELEMENT_NODE%27))%0Aw(Element.prototype.hasOwnProperty(%27ELEMENT_NODE%27))%0Aw(document.documentElement.hasOwnProperty(%27ELEMENT_NODE%27))%0A%3C%2Fscript%3E

[02:45:00.0000] <zcorpan>
firefox: true false true false

[02:45:01.0000] <zcorpan>
opera, safari: true true false false

[02:45:02.0000] <Dashiiiva>
Huh... what's firefox doing...

[02:46:00.0000] <zcorpan>
is true true true false expected?

[02:46:01.0000] <Dashiiiva>
Ye

[02:46:02.0000] <Dashiiiva>
Node is an interface object, Node.prototype is the corresponding interface prototype object.

[02:49:00.0000] <zcorpan>
is this defined somewhere?

[02:49:01.0000] <zcorpan>
hasOwnProperty i mean

[02:49:02.0000] <zcorpan>
es4?

[02:50:00.0000] <Dashiiiva>
es3

[02:51:00.0000] <Dashiiiva>
Element.ELEMENT_NODE should be undefined (neither own nor inherited) going by the current B4D. 

[02:52:00.0000] <Dashiiiva>
I suppose that makes sense

[02:52:01.0000] <philipj>
how about Element.prototype.ELEMENT_NODE?

[02:52:02.0000] <Dashiiiva>
That's inherited from Node.prototype.ELEMENT_NODE

[02:52:03.0000] <philipj>
then all is well, it would seem

[02:53:00.0000] <Dashiiiva>
Yeah, I just assumed (for no reason) the interface objects would inherit each other like the prototype objects do

[02:54:00.0000] <annevk>
sigh

[02:54:01.0000] <annevk>
part of my bike broke so I couldn't use it :/

[02:55:00.0000] <annevk>
well, howcome's bike

[02:55:01.0000] <philipj>
what puzzles me a little is what part of what spec says that Node.ELEMENT_NODE is defined, is it the constness?

[02:56:00.0000] <jgraham__>
takkaria: What's your email (pref. gmail) address? I can add you as a html5lib project member#

[02:57:00.0000] <annevk>
philipj, DOM Core does, though not that Node is exposed on the global object...

[02:57:01.0000] <Dashiiiva>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0A%3Cscript%3E%0Afunction%20wel(el)%20{%0Avar%20elname%20%3D%20el.toString()%3B%0Aw(%20elname%20%2B%20%27%3A%20%27%20%2B%20el.hasOwnProperty(%27ELEMENT_NODE%27)%20%2B%20%27%20-%20%27%20%2B%20el[%27ELEMENT_NODE%27])%3B%0Ael%20%3D%20el.prototype%3B%0Aw(%20elname%20%2B%20%27%20prototype%3A%20%27%20%2B%20el.hasOwnProperty(%27ELEMENT_NODE%27)%20%2B%20%27%20-%20%27%20%2B%20el[

[02:57:02.0000] <Dashiiiva>
%27ELEMENT_NODE%27])%3B%0A}%0Avar%20els%20%3D%20[%20Node%2C%20Element%2C%20document.documentElement%20]%0Afor%20(%20var%20i%20%3D%200%2C%20el%3B%20el%20%3D%20els[i]%3B%20%2B%2Bi%20)%20{%20wel(el)%3B%20}%0A%3C%2Fscript%3E

[02:57:03.0000] <Dashiiiva>
ow

[02:58:00.0000] <philipj>
() should really be escaped

[02:58:01.0000] <takkaria>
jgraham__: takkaria⊙gc

[02:58:02.0000] <Dashiiiva>
Needs an automatic tinyurl permalink as well :)

[02:59:00.0000] <annevk>
Dmitry is back!

[02:59:01.0000] <annevk>
so much more awesome than RB

[02:59:02.0000] <jgraham__>
takkaria: OK, done

[02:59:03.0000] <takkaria>
jgraham__: thanks!

[02:59:04.0000] <takkaria>
though the current tests seem pretty exhaustive, I'm not sure I've much to add

[03:02:00.0000] <krijnh>
annevk: indeed :)

[03:04:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/wai-xtech/2008Jun/0062.html

[03:05:00.0000] <takkaria>
look like good reasons to drop accesskeys and tabindexes :)

[03:05:01.0000] <annevk>
seems UA issues

[03:05:02.0000] <annevk>
most solved on mobile phones, too

[03:15:00.0000] <Dashiiiva>
zcorpan: I suppose you could file a bug on firefox that they define the Node constants on Element instead.

[03:15:01.0000] <zcorpan>
Dashiiiva: i could, but i rather write more tests :)

[03:17:00.0000] <Dashiiiva>
zcorpan: Because I was bored: http://tinyurl.com/58ujom

[03:25:00.0000] <annevk>
regarding #webapps IRC logging: http://www.w3.org/mid/op.ucxtwtuf64w2qv⊙aooc

[03:26:00.0000] <krijnh>
404

[03:26:01.0000] <annevk>
bah, /mid/ zuigt

[03:26:02.0000] <annevk>
http://lists.w3.org/Archives/Public/public-webapps/2008AprJun/0222.html

[03:27:00.0000] <krijnh>
Yay, the first time my name is mentioned inside an e-mail on lists.w3.org

[03:28:00.0000] <krijnh>
I should rename 'HTML5 IRC logs'

[03:29:00.0000] <annevk>
Web Platform IRC logs

[03:29:01.0000] <annevk>
though searching for html5 irc is convenient sometimes :)

[03:30:00.0000] <krijnh>
'irc logs' is shorter :)

[03:30:01.0000] <krijnh>
Third position in Google, thanks for all the linklove everybody!

[03:31:00.0000] <annevk>
we rely on you not selling that part of your domain for a million dollars :D

[03:31:01.0000] <krijnh>
Heh

[03:31:02.0000] <krijnh>
I should put up some ads there

[03:31:03.0000] <annevk>
:evil:

[03:32:00.0000] <krijnh>
Didn't you have ads on your site as well?

[03:32:01.0000] <krijnh>
<!doctype  html> <-- why two spaces?

[03:32:02.0000] <annevk>
I did, yeah

[03:33:00.0000] <annevk>
but I'm not running a community service

[03:33:01.0000] <krijnh>
Ow, I am?

[03:33:02.0000] <krijnh>
It's a Web 2.0 application, damnit

[03:46:00.0000] <krijnh>
There, a new title, and some shiny subtitles

[03:47:00.0000] <annevk>
hehe, I like the switching subtitle

[03:50:00.0000] <hsivonen>
hmm. I see that #xhtml is no longer logged

[03:50:01.0000] <hsivonen>
not kick ass enough?

[03:50:02.0000] <krijnh>
annevk: There are 11 :)

[03:51:00.0000] <krijnh>
hsivonen: MikeSmith asked me to not show them anymore

[03:51:01.0000] <krijnh>
The logs are still up, but I'm not in that channel anymore

[03:52:00.0000] <hsivonen>
krijnh: interesting

[03:53:00.0000] <krijnh>
MikeSmith probably knows the interesting parts :)

[03:54:00.0000] <MikeSmith>
no interesting parts

[03:55:00.0000] <MikeSmith>
just a complaint to me about why "we" were logging the #xhtml2 channel

[03:56:00.0000] <MikeSmith>
noticing that XHTML2 WG doesn't actually seem to be using that channel for much of anything anymore

[03:56:01.0000] <annevk>
because "we" are spying, duh

[03:56:02.0000] <MikeSmith>
heh

[03:56:03.0000] <Lachy>
it was so that we could keep an eye on them to see what they were up to.

[03:56:04.0000] <Lachy>
I'm still in the channel, but I haven't paid much attention to it for ages.

[03:57:00.0000] <MikeSmith>
well, figured a good way to get that out of my complaint queue was to ping krijnh and ask if we could take it off the the "interesting" channels page

[03:58:00.0000] <krijnh>
You should also tell it did cost you some money

[03:58:01.0000] <krijnh>
Before people think I'm too easy

[04:03:00.0000] <MikeSmith>
krijnh: btw, I know I probably asked you this before, but how do you pronounce your name?

[04:03:01.0000] <Lachy>
MikeSmith, who complianed?

[04:03:02.0000] <MikeSmith>
Lachy: does it matter?

[04:03:03.0000] <krijnh>
MikeSmith: a combination of 'crane' and 'whine'

[04:04:00.0000] <Lachy>
no, just curious

[04:04:01.0000] <hsivonen>
aargh. I have an IO bug in code that I haven't changed recently

[04:04:02.0000] <MikeSmith>
krijnh: thanks

[04:04:03.0000] <hsivonen>
very weird

[04:04:04.0000] <krijnh>
(MikeSmith: my first name at least)

[04:04:05.0000] <MikeSmith>
krijnh: I won't ask about your last name for now. First name enough of a challenge for me :)

[04:04:06.0000] <krijnh>
Heh

[04:05:00.0000] <MikeSmith>
one great thing about Japanese names is pronunciation is always unambiguous

[04:05:01.0000] <krijnh>
There goes my international fame, thank you mom and dad

[04:05:02.0000] <MikeSmith>
heh

[04:05:03.0000] <hsivonen>
oops. the IO bug was in code I wrote this week

[04:05:04.0000] <hsivonen>
whew

[04:06:00.0000] <krijnh>
Why is height="" and width="" not allowed on <input> btw?

[04:06:01.0000] <MikeSmith>
hsivonen: now you still got a bug to fix

[04:06:02.0000] <krijnh>
Makes sense for <input type="image">

[04:06:03.0000] <hsivonen>
MikeSmith: already fixed

[04:07:00.0000] <krijnh>
<input type="image" src="transparent.png" height="10" width="10" style="background:transparent url(sprites.png) no-repeat 10px 10px"> would be a use case

[04:07:01.0000] <krijnh>
(For html4all people reading this, yes, I would include alt="Foo")

[04:08:00.0000] <MikeSmith>
krijnh: I tink the idea is that you should use CSS for that

[04:08:01.0000] <MikeSmith>
hmm

[04:08:02.0000] <MikeSmith>
or maybe not

[04:09:00.0000] <krijnh>
I don't know :)

[04:09:01.0000] <MikeSmith>
hey man

[04:09:02.0000] <krijnh>
Perhaps I should post it to the list, so Hixie can dismiss my proposal, without even bothering to look at it!

[04:09:03.0000] <krijnh>
That would be fun

[04:09:04.0000] <MikeSmith>
read the spec

[04:09:05.0000] <MikeSmith>
http://www.w3.org/TR/html5/embedded0.html#the-img

[04:10:00.0000] <krijnh>
What about it?

[04:10:01.0000] <MikeSmith>
Element-specific attributes: 

[04:10:02.0000] <MikeSmith>
alt 

[04:10:03.0000] <MikeSmith>
src 

[04:10:04.0000] <MikeSmith>
usemap 

[04:10:05.0000] <MikeSmith>
ismap 

[04:10:06.0000] <MikeSmith>
width 

[04:10:07.0000] <krijnh>
Yeah, for <img>

[04:10:08.0000] <MikeSmith>
height

[04:10:09.0000] <MikeSmith>
oh shit

[04:10:10.0000] <MikeSmith>
sorry

[04:10:11.0000] <krijnh>
:)

[04:10:12.0000] <MikeSmith>
confused

[04:10:13.0000] <MikeSmith>
tired

[04:10:14.0000] <MikeSmith>
hungry

[04:11:00.0000] <MikeSmith>
pissed

[04:11:01.0000] <MikeSmith>
clearly time for me to take a beer break

[04:12:00.0000] <Dashiiiva>
only in Japan

[04:14:00.0000] <MikeSmith>
one may also enjoy to occasional breakfast beer 

[04:14:01.0000] <MikeSmith>
"one" meaning "me"

[04:15:00.0000] <MikeSmith>
anybody know where stands Adam Barth's "HTML 5 should expose a native JSON parser for web content." proposal?

[04:15:01.0000] <MikeSmith>
did it get some bites?

[04:16:00.0000] <MikeSmith>
/me re-reads the thread

[04:17:00.0000] <MikeSmith>
"A motivated browser maker need not wait for ECMA's formal approval."

[04:17:01.0000] <MikeSmith>
indeed

[04:18:00.0000] <MikeSmith>
do json2.js or ES3.1 have any traction?

[04:19:00.0000] <MikeSmith>
or are they just things that Doug Crockford is personally promoting?

[04:19:01.0000] <MikeSmith>
ah

[04:19:02.0000] <MikeSmith>
remembering now

[04:19:03.0000] <MikeSmith>
or re-reading now

[04:20:00.0000] <Dashiiiva>
I don't know about json2.js, but json in general has traction

[04:21:00.0000] <MikeSmith>
Dashiiiva: yeah, realize that

[04:21:01.0000] <annevk>
krijnh, does height/width work on image in browsers? I guess it probably does. Anyways, that's a WF2 feature which hasn't been looked at for quite a while

[04:22:00.0000] <krijnh>
On <input type="image"> you mean?

[04:22:01.0000] <krijnh>
Yeah, it does

[04:22:02.0000] <krijnh>
And it's silly they are reported as errors

[04:23:00.0000] <krijnh>
But I'm sure hsivonen already mentioned this, or will

[04:28:00.0000] <hsivonen>
krijnh: I think width/height on input type=image has escape my radar

[04:28:01.0000] <hsivonen>
+d

[04:29:00.0000] <krijnh>
I added some messages to your logs yesterday, I think

[04:29:01.0000] <krijnh>
Do you agree they should be conforming?

[04:30:00.0000] <hsivonen>
/me doesn't read the logs that actively

[04:30:01.0000] <hsivonen>
krijnh: yeah, I think they should be conforming

[04:33:00.0000] <hsivonen>
hmm. It seems that System.in in Java can violate some basic assumptions about InputStreams

[04:33:01.0000] <hsivonen>
that's *not* good

[04:35:00.0000] <hsivonen>
or I still have a serious IO bug lurking somewhere

[04:35:01.0000] <hsivonen>
a bug that shows up with System.in but not with files or network

[04:48:00.0000] <heycam>
Dashiiiva, i'll change it

[04:48:01.0000] <heycam>
(Dashiiiva gains an 'i' every day, it seems!)

[04:55:00.0000] <hsivonen>
whee! System.in misbehaves

[04:57:00.0000] <hsivonen>
looks like System.in loses data if the data doesn't contain any line breaks

[04:57:01.0000] <hsivonen>
writing a final \n before pressing ^D fixes

[04:59:00.0000] <Dashiiiva>
heycam: Only when my connection dies and I get a nick collision ;)

[06:11:00.0000] <heycam>
hsivonen, typing input to System.in from the command line?

[06:11:01.0000] <heycam>
/me just wonders if it's a line-buffering issue

[06:13:00.0000] <hsivonen>
heycam: typing to System.in in Eclipse's console

[06:13:01.0000] <hsivonen>
If I type

[06:13:02.0000] <heycam>
not sure about eclipse's console, but at the command line the terminal is line-buffered by default

[06:14:00.0000] <hsivonen>
<!DOCTYPE html>foo^D

[06:14:01.0000] <hsivonen>
I get an empty stream

[06:14:02.0000] <hsivonen>
but if I put a line break between foo and ^D, it works

[06:15:00.0000] <hsivonen>
it seems silly if ^D doesn't flush the last line

[06:15:01.0000] <heycam>
yes but that seems as if the console isn't passing the data to System.in

[06:15:02.0000] <heycam>
i'd be pretty surprised if it was a bug in InputStream

[06:15:03.0000] <hsivonen>
yeah

[06:16:00.0000] <heycam>
if i run something from the command line (e.g. just "cat") and i press ^D before a newline, then it does nothing

[06:16:01.0000] <heycam>
but if i press ^D^D, then it ends the stream (and sends that line, without the \n on the end)

[06:17:00.0000] <heycam>
but that behaviour is really just up to the terminal

[06:22:00.0000] <heycam>
http://rafb.net/p/1ScMvU24.html

[06:23:00.0000] <heycam>
i guess it's just eclipse console idiosyncrasies

[06:25:00.0000] <annevk>
hsivonen, is vtab handled specially somewhere?

[06:25:01.0000] <annevk>
hsivonen, like, in the input stream?

[06:25:02.0000] <annevk>
/me thought all that changed was that it was no longer a space character

[06:26:00.0000] <hsivonen>
annevk: just making sure when deleting non-obvious code

[06:26:01.0000] <hsivonen>
annevk: vtab is now the only non-space character that doesn't get the REPLACEMENT CHARACTER treatment below 0x20

[06:29:00.0000] <annevk>
hmm, I wonder if that's in line with browsers

[06:30:00.0000] <hsivonen>
I've now got the tokenizer synced with the spec

[06:30:01.0000] <hsivonen>
onto the tree builder

[06:30:02.0000] <zcorpan>
hsivonen: btw, does the vtab checkin only affect the parser? or also non-schema checkers/html5 datatype library?

[06:31:00.0000] <hsivonen>
zcorpan: the parser has replaced vtab and ff with a space, so the higher layers operate on the XML 1.0 notion of white space

[06:31:01.0000] <hsivonen>
zcorpan: so, no

[06:31:02.0000] <zcorpan>
hsivonen: ok

[06:32:00.0000] <annevk>
interesting

[06:32:01.0000] <annevk>
that also doesn't sound like browsers

[06:32:02.0000] <hsivonen>
annevk: it's configurable in the V.nu browser

[06:32:03.0000] <hsivonen>
annevk: I mean, I'm not going to hack every off-the-shelf XML library to grok HTML5 space characters

[06:33:00.0000] <hsivonen>
so the RELAX NG engine sees XML 1.0 whitespace

[06:33:01.0000] <hsivonen>
doh. s/V.nu browser/V.nu parser/

[06:33:02.0000] <annevk>
it can't cope with characters not allowed in XML?

[06:33:03.0000] <Philip`>
/me thinks the "just stick an HTML5 parser on the front of your XML toolchain" model seems to be showing a few cracks

[06:33:04.0000] <hsivonen>
annevk: I'm not sure

[06:34:00.0000] <hsivonen>
annevk: but whitespace is sensitive to XPath and RELAX NG intra-element white space

[06:34:01.0000] <hsivonen>
Philip`: how so? the parser papers over the differences

[06:36:00.0000] <Philip`>
hsivonen: If the parser is replacing vtab and ff with a space, that sounds like undesirable information loss

[06:37:00.0000] <hsivonen>
Philip`: I see three ways to deal with this, and my parser supports all three

[06:38:00.0000] <hsivonen>
Philip`: now that vtab is no longer a space char, it turns into a REPLACEMENT CHARACTER in te ALTER_INFOSET mode

[06:40:00.0000] <hsivonen>
(I'm not gonna support mapping to XML 1.1 or XML 1.0 5th ed.)

[07:36:00.0000] <annevk>
hsivonen, bugzilla sucks?

[07:43:00.0000] <zcorpan>
annevk: bugzilla disrupts Hixie from working on URL stuff

[07:47:00.0000] <annevk>
it does?

[07:47:01.0000] <annevk>
maybe someone should file a bug on URL stuff then

[07:48:00.0000] <zcorpan>
http://krijnhoetmer.nl/irc-logs/html-wg/20080618#l-109

[07:48:01.0000] <hsivonen>
annevk: bugzilla password renewal email sucks

[07:49:00.0000] <annevk>
ah, missed that

[07:49:01.0000] <annevk>
i was thinking about filing a bug on <keygen> the other day

[07:49:02.0000] <annevk>
so that I don't forget

[07:49:03.0000] <hsivonen>
oops. my mail filters suck

[07:51:00.0000] <hsivonen>
/me is a bit nervous that that the new block elements are defined to have interaction with implicit </p>

[07:51:01.0000] <hsivonen>
without a parse error

[07:52:00.0000] <hsivonen>
so authors can now shoot themselves in the foot with omitted </p> during the transition to HTML5

[07:53:00.0000] <zcorpan>
hsivonen: issue warnings?

[07:54:00.0000] <Lachy>
hsivonen, why is it a problem?

[07:54:01.0000] <annevk>
it breakz teh Webz

[07:55:00.0000] <hsivonen>
zcorpan: Yeah.

[07:55:01.0000] <hsivonen>
zcorpan: in fact, I have a request on file to provide warnigns on implied tags

[07:57:00.0000] <annevk>
Result: Valid HTML5

[07:57:01.0000] <annevk>
Note: implied tags found (learn more, show me)

[07:57:02.0000] <Lachy>
I fail to see how generating an implied end tag for p when encounting a new element like section will cause back compat problems.

[07:58:00.0000] <Lachy>
although it will create slightly different DOMs in new browsers compared with current browsers

[07:58:01.0000] <hsivonen>
Lachy: different DOMs are scary

[07:58:02.0000] <annevk>
might be a mess with styling

[08:00:00.0000] <Lachy>
so JS libraries could be used to fix up the DOMs. Just find all section, aside, article, etc., check if any have a P element has a parent and move it.

[08:00:01.0000] <Lachy>
or just ensure you always use </p> before such an element.

[08:01:00.0000] <annevk>
<p> ... <section> ... <h1> ends up with <h1> as sibling of <p>

[08:01:01.0000] <annevk>
the real solution is probably adding support for these elements quickly

[08:01:02.0000] <hsivonen>
Lachy: well that's my point. if you want to ensure it, a validator doesn't tell you

[08:01:03.0000] <Lachy>
oh well.

[08:02:00.0000] <annevk>
because you do want the implied <p>

[08:02:01.0000] <annevk>
euh, implied </p>

[08:02:02.0000] <annevk>
having it for <div> and not for <section> would be weird

[08:02:03.0000] <hsivonen>
oh, I agree that not having it would be weird in the long run

[08:07:00.0000] <hsivonen>
fun! the algorithms for li, dd and dt have changed

[08:18:00.0000] <hsivonen>
aargh. AAA step #8 has changed. is it merely editorial?

[08:19:00.0000] <Philip`>
Changed since when?

[08:19:01.0000] <Philip`>
I believe there was one non-editorial change since I last looked at it

[08:19:02.0000] <hsivonen>
Philip`: since March 13th

[08:21:00.0000] <hsivonen>
since May 13th, too

[08:24:00.0000] <Philip`>
http://www.w3.org/TR/2008/WD-html5-20080610/diff/tree-construction.html#adoptionAgency

[08:26:00.0000] <Lachy>
hey, does anyone have any suggestions for example use cases of data-* attributes, that could be used in an article?

[08:27:00.0000] <Lachy>
The use cases in this article are already covered by the WF2 attributes with the same name http://www.alistapart.com/articles/scripttriggers/ - so that didn't help me much.

[08:27:01.0000] <hsivonen>
Philip`: it seems to me that the first para of step 8 has changed since the W3C diff

[08:28:00.0000] <hsivonen>
oops.

[08:30:00.0000] <hsivonen>
I'm looking at the diff the wrong way round

[08:51:00.0000] <annevk>
I'm not sure if the not filing bugs in Bugzilla practice works btw. Seems that Hixie files bugs himself to keep himself from doing URL work! Madness

[08:55:00.0000] <hsivonen>
heh

[09:02:00.0000] <gsnedders>
jgraham__: Yeah, your impl. is correct per the latest version of the spec

[09:08:00.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=439646

[09:32:00.0000] <Philip`>
jgraham__: http://blog.whatwg.org/atmedia-2008 misspells my name

[10:05:00.0000] <Lachy>
Philip`, where does it get it wrong?

[10:06:00.0000] <gsnedders>
Lachy: http://lachy.id.au/dev/presentation/hands-on-html5/ — that doesn't credit the photo of me

[10:06:01.0000] <Philip`>
Lachy: As of twenty seconds ago when I reloaded the page, it doesn't get it wrong anywhere, so that's okay now :-)

[10:07:00.0000] <gsnedders>
annevk: well, in the case of one of the commits yesterday, I bullied Hixie into it :P

[10:07:01.0000] <Lachy>
oh, yeah, there are still a few pics I need to add credits for.

[10:07:02.0000] <Lachy>
I just did the ones I stole from wikipedia and flickr, since they were in my list

[10:07:03.0000] <gsnedders>
Lachy: The one of me is from Flickr too :P

[10:07:04.0000] <gsnedders>
http://flickr.com/photos/jgraham/2479527700/

[10:08:00.0000] <Lachy>
yeah, but I didn't steal it. I asked for it.

[10:08:01.0000] <gsnedders>
Ah.

[10:08:02.0000] <gsnedders>
And taken by your co-presenter

[10:08:03.0000] <Lachy>
I will have to do it later, after I put my keyboard back together and turn on my PC where the file is located.

[10:09:00.0000] <gsnedders>
Hixie: The bug is I was taking "Let new candidate section be the section that contains candidate section in the outline of current outlinee." to mean that it was a section that was directly within the outline, and not looking deeper

[11:21:00.0000] <hsivonen>
w00t. I have the SVG/MathML stuff running locally

[11:21:01.0000] <hsivonen>
now I need test cases

[11:38:00.0000] <zcorpan_>
/me reads http://www.w3.org/2008/06/18-xhtml-minutes.html

[11:46:00.0000] <zcorpan_>
"SM: if FF claims to accept XML and XHTML, why serve text/html"

[11:53:00.0000] <zcorpan_>
"TH: without a DOCTYPE many tools beome impossible to write, such as accessibility checkers"

[11:53:01.0000] <hober>
the mind boggles.

[11:53:02.0000] <zcorpan_>
oh sorry, that was clarified: "<Tina> Without a DOCTYPE many tools becomes impossible to write such that they can deliver trustworthy results. Accessibility checkers is one such example."

[11:58:00.0000] <zcorpan_>
"SM: issue with HTML-compatible and HTML4 - HTML4-compatible would explicitly exclude HTML5 for better or worse" -- i guess it'd be easier for them to be html5-compatible

[11:59:00.0000] <zcorpan_>
xmlns and <br/> being two examples (where the latter has incompatible parsing requirements in html4)

[12:02:00.0000] <zcorpan_>
seems their biggest issues are doctypes and content negotiation

[12:02:01.0000] <zcorpan_>
or at least that's what they're discussing

[12:03:00.0000] <zcorpan_>
i don't see what there's to discuss. use <!doctype html> and text/html. done.

[12:06:00.0000] <mpt>
A few days ago I came across a Web site of a Gnome developer that worked in the KDE browser (Konqueror) but not in the Gnome browser (Epiphany)

[12:07:00.0000] <mpt>
They had UA sniffing to serve XHTML-as-XML to Gecko, and their XML wasn't well-formed...

[12:07:01.0000] <zcorpan_>
not uncommon

[12:08:00.0000] <hsivonen>
interenting time warp there with DTDs

[12:08:01.0000] <hsivonen>
the XML community at large has generally moved on

[12:11:00.0000] <zcorpan_>
yeah reading this reminds me of discusions i was having in 2004 when i was learning this

[12:11:01.0000] <zcorpan_>
discussions

[12:14:00.0000] <zcorpan_>
seems they'll update appendix c

[12:16:00.0000] <mpt>
/me wonders if one drinks dehydrated water at a Virtual FtF

[12:19:00.0000] <zcorpan_>
"SP: if need compatability GLs to serve as HTML need lang, but in XHTML lang means nothing and is just there for convenience"

[12:19:01.0000] <zcorpan_>
hmm i thought lang had the same meaning in xhtml as in html

[12:21:00.0000] <zcorpan_>
"SP: CSS has knowledge of language text is in due to selector - language comes from parent element of current element; if current element is in latin, do this - only way to do in CSS anyway

[12:21:01.0000] <zcorpan_>
... no selector that says if parent of current element has @blah ..."

[12:21:02.0000] <zcorpan_>
#foo[blah], [blah] #foo

[12:29:00.0000] <zcorpan_>
"SM: added thing about style HTML element

[12:29:01.0000] <zcorpan_>
... in HTML style on body becomes style for entire viewport; in XML does not"

[12:29:02.0000] <zcorpan_>
not anymore :)

[12:30:00.0000] <roc>
huh?

[12:30:01.0000] <roc>
overflow and background on body get propagated to the viewport but nothing else does

[12:30:02.0000] <zcorpan_>
i meant the "in XML does not" part

[12:31:00.0000] <zcorpan_>
at least in firefox 3 and opera 9.5

[12:31:01.0000] <zcorpan_>
doesn't seem to be fixed in webkit yet

[12:31:02.0000] <zcorpan_>
http://bugs.webkit.org/show_bug.cgi?id=13568

[12:32:00.0000] <roc>
oh, for XHTML documents

[12:32:01.0000] <zcorpan_>
yeah

[12:33:00.0000] <zcorpan_>
any webkit guys here?

[12:35:00.0000] <roc>
we actually have a small regression in Firefox 3 that if you have multiple <body> elements, we propagate from the wrong one. Will be fixed in 3.1.

[12:35:01.0000] <zcorpan_>
ok. we have some glitches in opera too, but at least we should do the same for both html and xhtml

[12:41:00.0000] <Hixie>
multiple body elements?

[12:41:01.0000] <Hixie>
like through DOM manipulation?

[12:41:02.0000] <Hixie>
or XML?

[12:42:00.0000] <zcorpan_>
Hixie: either of those, i think

[12:42:01.0000] <roc>
either

[12:42:02.0000] <Hixie>
k

[12:42:03.0000] <Hixie>
not a high priority bug then :-)

[12:42:04.0000] <roc>
right

[12:46:00.0000] <Dashiva>
That's a lot of X's removed in 1782

[12:53:00.0000] <Hixie>
moved not removed

[12:54:00.0000] <Dashiva>
What about the big one, like 40 in a row?

[12:54:01.0000] <Hixie>
it was moved lower

[12:55:00.0000] <Hixie>
that big line is my bookmark

[12:55:01.0000] <Hixie>
indicates how far i've gotten in annotating the url changes

[12:55:02.0000] <Dashiva>
ah

[12:55:03.0000] <zcorpan_>
"<ShaneM> I think stepping directly to XForms for xhtml 1.2 would be too far."

[12:56:00.0000] <zcorpan_>
"SM: anything put into XHTML 1.2 should work in browsers today"

[12:56:01.0000] <zcorpan_>
cool, perhaps they could add <canvas> or something

[12:57:00.0000] <takkaria>
that line isn't equivalent to "things that work in browsers today should be put into XHTML 1.2" :)

[12:58:00.0000] <zcorpan_>
indeed

[12:58:01.0000] <Hixie>
which browsers? do they include IE?

[12:58:02.0000] <Hixie>
because they'd have to remove the xml part of they did

[12:58:03.0000] <Hixie>
/me ducks

[12:58:04.0000] <takkaria>
/me grins

[12:59:00.0000] <Hixie>
i wonder which will be done first, xhtml 1.2, or xhtml 5

[12:59:01.0000] <Hixie>
though i guess that depends on whether you consider the vague implications that xhtml1.1 consists of to be "done"

[13:00:00.0000] <Dashiva>
So, does 1.2 replace 2? Or is it like es3.1 and es4?

[13:00:01.0000] <Hixie>
es4 is supposed to be a superset of es3.1

[13:00:02.0000] <Hixie>
so it's clearly not like that

[13:00:03.0000] <Hixie>
it's more like es3.1 and vbscript

[13:00:04.0000] <zcorpan_>
Hixie: they'll allow it to be served as text/html if it's "HTML4-compatible", if i understand the notes correctly (or perhaps that wasn't about 1.2)

[13:01:00.0000] <Hixie>
zcorpan_: i sure hope they define parsing then!

[13:01:01.0000] <Hixie>
anyway i really must go before i insult someone

[13:01:02.0000] <Hixie>
bbiab

[13:01:03.0000] <Lachy>
damn! I was waiting for the insults :-)

[13:01:04.0000] <zcorpan_>
Dashiiiva: "SP: wrap all those up into a language called XHTML 1.2 so people can refer to markup language that uses these things

[13:01:05.0000] <zcorpan_>
... another reason, makes step to XHTML2 that much smaller

[13:01:06.0000] <zcorpan_>
... community needs to be led step-by-step to XHTML2 rather than just being presented with it - get used to concepts"

[13:02:00.0000] <Dashiva>
Maybe I should get a different nick for my work IRC client after all...

[13:02:01.0000] <zcorpan_>
Hixie: parsing of html4 is defined in sgml

[13:03:00.0000] <zcorpan_>
s/ii//

[13:03:01.0000] <hsivonen>
I don't see the point in aiming for what already exists if the spec doesn't specify the existing features in such detail that a new browser could be implemented to spec

[13:04:00.0000] <zcorpan_>
hsivonen: the point, aiui, is to lead the community step-by-step to xhtml2

[13:05:00.0000] <zcorpan_>
but obviously minutes are generally bad and i wasn't there so i could be misunderstanding the motivation

[13:06:00.0000] <Lachy>
interestingly, there doesn't appear to be any email about it on their mailing list.

[13:10:00.0000] <Dashiva>
And this happens just after they ask for #xhtml2 not to be logged? ;)

[13:11:00.0000] <zcorpan_>
too bad they have their own logs public then!

[13:12:00.0000] <virtuelv>
/me is following discussion on wheel events

[13:13:00.0000] <Dashiva>
discussion... on wheels!

[13:13:01.0000] <Dashiva>
/me apologizes for the wiki injoke

[13:13:02.0000] <zcorpan_>
"Gregory: That is part of the problem

[13:13:03.0000] <zcorpan_>
... there is a difference in how HTML5 and XHTML treat role" -- http://www.w3.org/2008/06/17-xhtml-minutes.html

[13:13:04.0000] <virtuelv>
Dashiva: related to cobol on cogs?

[13:13:05.0000] <zcorpan_>
hmm... what's the difference?

[13:13:06.0000] <Dashiva>
No, related to Willy on Wheels

[13:14:00.0000] <virtuelv>
I just wish they'd get it over and specify it as an angle and a delta value

[13:14:01.0000] <virtuelv>
because I'm dead sure that someone is going to put a trackball in there some day instead of the wheel

[13:14:02.0000] <zcorpan_>
fwiw, for log readers, the equivalent html5+aria would be <span class="checkbox" id="chbox1" role="checkbox" aria-checked="true" tabindex="0">

[13:15:00.0000] <zcorpan_>
i.e. no difference from xhtml+aria

[13:17:00.0000] <zcorpan_>
"Roland: We have a mess as it is

[13:17:01.0000] <zcorpan_>
... we can't create a clean version for the future if we don't use the mechanisms that exist"

[13:19:00.0000] <zcorpan_>
reminds me of how hsivonen said it; the w3c will look stupid for having designed a mechanism that can't be used (paraphrasing from memory)

[13:21:00.0000] <Dashiva>
"We have to stand up for the rights of the author"

[13:21:01.0000] <Dashiva>
So forcing inconsistencies and all kinds of trouble is standing up for the authors

[13:21:02.0000] <hsivonen>
zcorpan_: that wasn't me. that was Hixie 

[13:22:00.0000] <zcorpan_>
hsivonen: oh, ok, sorry

[13:42:00.0000] <zcorpan_>
this dmitry thing gets me wondering

[13:42:01.0000] <zcorpan_>
if an alternative place is set up for proposals

[13:42:02.0000] <zcorpan_>
how are people to know if they should post there or to the list?

[13:43:00.0000] <zcorpan_>
/me is reading www-archive

[13:46:00.0000] <Hixie>
zcorpan_: if they rely on sgml, then they'll never exit cr unless they cheat

[13:46:01.0000] <Hixie>
zcorpan_: and sgml doesn't define error handling

[13:47:00.0000] <Hixie>
zcorpan_: rb and d post to that thing, and everyone else to the list? :-)

[13:47:01.0000] <hsivonen>
does XHTML Basic 1.1 inputmode have a second interoperable implementation yet? or any public implementation at all?

[13:48:00.0000] <Philip`>
SGML defines what is an error, so a document with SGML errors is not HTML4 and so it's not HTML4-compatible XHTML and so it's not XHTML and it's out of scope to define what all non-XHTML bytestreams in the world mean

[13:48:01.0000] <zcorpan_>
Hixie: i guess they won't require UAs to support sgml or html4

[13:50:00.0000] <hsivonen>
/me wonders if *independent* interoperable implementations on anything SGML-based are feasible

[13:50:01.0000] <Hixie>
Philip`: quite

[13:50:02.0000] <hsivonen>
at least one of the impls would have to be without James Clark's code to be independent

[13:50:03.0000] <Hixie>
anyway

[13:50:04.0000] <Hixie>
back in the world of actual real spec development...

[13:59:00.0000] <zcorpan_>
hsivonen: i wonder if it's good or not to briefly explain what the concequences are of parse errors when it's not what one might expect

[14:00:00.0000] <hsivonen>
zcorpan_: do you mean in the tree builder?

[14:00:01.0000] <zcorpan_>
hsivonen: e.g. <div/> or <form><form>

[14:00:02.0000] <hsivonen>
Yeah, it would be good

[14:02:00.0000] <zcorpan_>
like, say, "Ignoring the slash." and "Ignoring the form start tag."

[14:03:00.0000] <hsivonen>
yeah. fixing now

[14:03:01.0000] <zcorpan_>
cool

[14:06:00.0000] <hsivonen>
zcorpan_: checked in but deployment will have to wait, because I regressed xmlns talisman and NCName checking when implementing SVG and MathML

[14:08:00.0000] <zcorpan_>
hsivonen: what's the easiest way to see all the messages that v.nu can emit? check out the code?

[14:09:00.0000] <hsivonen>
zcorpan_: yeah, checking out the code is the only way

[14:09:01.0000] <zcorpan_>
hsivonen: ok

[14:10:00.0000] <hsivonen>
the plan is to migrate the parser to proper string bundles for messages once the messages stabilize or are really needed in a non-English language

[14:13:00.0000] <mcarter>
it seems that a number of people don't know how to reply back to the list when they respond to a point I've made

[14:15:00.0000] <hsivonen>
annevk, jgraham_: we should extend the tree builder test format to express namespaced names

[14:16:00.0000] <hsivonen>
the format extension should be able to distinguis xlink:href as the local name an href in the xlink namespace

[14:16:01.0000] <zcorpan_>
/me goes to grab some food while build.py is working

[14:16:02.0000] <hsivonen>
so hard-wired prefixes with the colon may not be the greatest thing

[14:17:00.0000] <Hixie>
someone let me know if they see jwalden around

[14:18:00.0000] <zcorpan_>
hsivonen: sdf can do that, but might not be optimal for the purpose. though i can change sdf if you have suggestions :)

[14:20:00.0000] <hsivonen>
my first instinct says we should just kludge an extension to the current format with prefixes that are sufficiently different from qnames

[14:21:00.0000] <hsivonen>
like {xlink}href instead xlink:href

[14:21:01.0000] <hsivonen>
or something 

[14:23:00.0000] <hsivonen>
or xlink=href to use a character that doesn't normally occur in attribute names

[14:23:01.0000] <Hixie>
mcarter: ok, unless someone raises a clear objection, i'm going to assume we'll use the term Web Socket

[14:23:02.0000] <Hixie>
with the interface WebSocket

[14:24:00.0000] <mcarter>
interface and implementation have the same name?

[14:24:01.0000] <Hixie>
and the protocol Upgrade value WebSocket/1 or some such

[14:24:02.0000] <Hixie>
right, you'd call  new WebSocket(ur);

[14:24:03.0000] <Hixie>
er

[14:24:04.0000] <Hixie>
var socket = new WebSocket(url);

[14:25:00.0000] <mcarter>
sounds great

[14:25:01.0000] <Hixie>
not sure if the url should be an http: URL or a wsp: URL (wsdp:? wstp:?)

[14:25:02.0000] <Hixie>
(or just ws: maybe)

[14:25:03.0000] <Hixie>
since it's not really an HTTP connection you're opening

[14:25:04.0000] <mcarter>
I went with http in the proposal just because I didn't want to rock too many boats

[14:25:05.0000] <Hixie>
sure

[14:26:00.0000] <hsivonen>
hmm. I guess '>' would be the safest delimiter but it is unpleasing aesthetically

[14:26:01.0000] <Hixie>
luckily, i have my own boat, and am absolutely fine with rocking others! :-D

[14:27:00.0000] <Hixie>
also so far i'm going to have invented a language, a set of dom interfaces, and a namespace (for xbl)

[14:27:01.0000] <Hixie>
i might as well add tcp port, uri scheme, and mime types to the list

[14:27:02.0000] <hsivonen>
/me sees that SHAVIAN LETTER IAN has made into the spec

[14:27:03.0000] <Hixie>
it has?

[14:27:04.0000] <mcarter>
sound logic as I've ever heard

[14:27:05.0000] <Hixie>
hah

[14:27:06.0000] <hsivonen>
Hixie: the SDF spec

[14:28:00.0000] <hsivonen>
(I thought I was looking at HTML5 for a moment due to the style sheet)

[14:28:01.0000] <Hixie>
dare i ask what SDF is?

[14:28:02.0000] <hsivonen>
http://simon.html5.org/specs/sdf

[14:28:03.0000] <mcarter>
Hixie, I think the framing discussion the other night was on the right track, btw

[14:28:04.0000] <Hixie>
hsivonen: oh, cool

[14:28:05.0000] <Hixie>
mcarter: yeah, me too

[14:28:06.0000] <zcorpan_>
hsivonen: space could work

[14:28:07.0000] <Hixie>
mcarter: i think this whole thing has legs now, and can fly, to mix metaphors a little.

[14:28:08.0000] <mcarter>
yeah, it may sail too

[14:29:00.0000] <Hixie>
:-)

[14:29:01.0000] <Hixie>
makes sense if we're rocking boats that it would sail, i guess

[14:29:02.0000] <Hixie>
hey, shavian letter ian really is in this spec, that's funny

[14:30:00.0000] <hsivonen>
zcorpan_: yeah, space would work

[14:30:01.0000] <mcarter>
Hixie, for this article I'm writing, at some point do you mind if I ask you for a quote about the new WebSocket standard?

[14:30:02.0000] <zcorpan_>
i wanted an astral character, and that was the first i found :)

[14:31:00.0000] <zcorpan_>
i found it in Hixie's signature ;)

[14:31:01.0000] <Hixie>
mcarter: sure, though it'll be a pretty lame quote in all likelihood, and must be unrelated to google in any way :-)

[14:31:02.0000] <mcarter>
Hixie, sounds perfect

[14:31:03.0000] <mcarter>
I just want to provide the feeling that I didn't make this WebSocket up all by myself

[14:32:00.0000] <Hixie>
hehe

[14:33:00.0000] <Hixie>
usually people have the opposite problem :-P

[14:35:00.0000] <zcorpan_>
hsivonen: i'll figure out if validator.nu is compatible with windows or not, i guess :)

[14:35:01.0000] <zcorpan_>
wonder if i have JDK 5

[14:37:00.0000] <hsivonen>
zcorpan_: cool

[14:37:01.0000] <hsivonen>
zcorpan_: build.py expects to be able to create symlinks

[14:37:02.0000] <hsivonen>
zcorpan_: the potentially Windows-incompatible spots in build.py should have comments to that effect

[14:38:00.0000] <jcranmer>
zcorpan_: that's an ancient version!

[14:38:01.0000] <jcranmer>
you should be using JDK 6, if not milestone builds of Java 7!

[14:38:02.0000] <hsivonen>
jcranmer: Validator.nu doesn't require later than that

[14:38:03.0000] <hsivonen>
later than 5 that is

[14:38:04.0000] <jcranmer>
/me takes that to mean that it actually uses Java 5's features

[14:38:05.0000] <hsivonen>
yes

[14:39:00.0000] <hsivonen>
generics and StringBuilder mainly

[14:39:01.0000] <jcranmer>
no enums? not that it's really important

[14:40:00.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/list.rng

[14:40:01.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/meta.rng

[14:40:02.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/nameident.rng

[14:40:03.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/object.rng

[14:40:04.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/param.rng

[14:40:05.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/pres.rng

[14:40:06.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/script.rng

[14:40:07.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/ssismap.rng

[14:40:08.0000] <hsivonen>
jcranmer: yeah, enums too for perf-insensitive enums

[14:40:09.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/struct.rng

[14:40:10.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/style.rng

[14:40:11.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/table.rng

[14:40:12.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/target.rng

[14:40:13.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/modules/text.rng

[14:40:14.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/xhtml-basic.rng

[14:40:15.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/xhtml-strict.rng

[14:40:16.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/xhtml.rng

[14:40:17.0000] <zcorpan_>
http://www.thaiopensource.com/relaxng/xhtml/xhtml11.rng

[14:40:18.0000] <zcorpan_>
http://www.w3.org/2001/XMLSchema.dtd

[14:40:19.0000] <zcorpan_>
http://www.w3.org/2001/datatypes.dtd

[14:40:20.0000] <zcorpan_>
http://www.w3.org/Graphics/SVG/1.1/rng/svg-basic-structure.rng

[14:41:00.0000] <Hixie>
heh

[14:41:01.0000] <Hixie>
mispaste i assume :-)

[14:41:02.0000] <jcranmer>
most likely

[14:41:03.0000] <zcorpan_>
oops

[14:41:04.0000] <zcorpan_>
sorry

[14:41:05.0000] <Hixie>
no worries

[14:41:06.0000] <zcorpan_>
IOError: [Errno 2] No such file or directory: './onvdl/saxon/dist/saxon-whattf.jar'

[14:41:07.0000] <zcorpan_>
right after fsrc = open(src, 'rb')

[14:42:00.0000] <hsivonen>
zcorpan_: chances are that Saxon failed to build earlier

[14:42:01.0000] <Hixie>
though if someone was gonna try to spam the channel, schema URIs do seem like a good choice!

[14:42:02.0000] <zcorpan_>
Hixie: :)

[14:44:00.0000] <zcorpan_>
hsivonen: because i didn't have JDK?

[14:46:00.0000] <hsivonen>
zcorpan_: did it print messages looking like javac output?

[14:46:01.0000] <hsivonen>
if you have javac and jar in PATH, it should print all kinds of cruft when javac runs

[14:46:02.0000] <zcorpan_>
'javac' -nowarn -classpath './dependencies/commons-codec-1.3/commons-codec-1.3.j....

[14:47:00.0000] <zcorpan_>
saxon/classes' @temp-javac-list

[14:47:01.0000] <hsivonen>
that's the echo of the javac invocation

[14:47:02.0000] <zcorpan_>
sh: javac: command not found

[14:47:03.0000] <hsivonen>
well that's the problem then

[14:48:00.0000] <hsivonen>
build.py has command line options for specifying path to javac if it isn't autodiscovered

[14:48:01.0000] <hsivonen>
see --help

[14:50:00.0000] <zcorpan_>
ok

[14:52:00.0000] <hsivonen>
bed time on my timezone

[14:52:01.0000] <hsivonen>
nn

[14:52:02.0000] <zcorpan_>
nn

[14:58:00.0000] <zcorpan_>
/me builds again, this time *with* JDK...

[15:05:00.0000] <zcorpan_>
well it still didn't work but for other reasons

[15:08:00.0000] <jgraham__>
gsnedders: You have modified my outline.py to match the current spec?

[15:09:00.0000] <gsnedders>
jgraham__: Yeah, it was mainly just ripping out your algorithm. It's really not much. I deleted my own local copy anyway.

[15:09:01.0000] <jgraham__>
So I have to be bothered to do it myself?

[15:10:00.0000] <jgraham__>
i.e. you can't just put the file somewhere?

[15:12:00.0000] <gsnedders>
jgraham__: I deleted it, as I said

[15:16:00.0000] <Hixie>
gsnedders: so the outline algorithm is all set now right?

[15:16:01.0000] <gsnedders>
Hixie: Yeah. I think it could be clearer in how it is written, but it works

[15:17:00.0000] <Hixie>
yeah well, hopefully diagrams and examples and intro text will help with that in due course

[15:17:01.0000] <Hixie>
getting the algorithm right is the first step :-)

[15:17:02.0000] <Hixie>
and it's much better than it was, right?

[15:17:03.0000] <gsnedders>
Yeah, sure.

[15:17:04.0000] <gsnedders>
Helping you avoiding to doing URLs has its uses :)

[15:19:00.0000] <Hixie>
:-)

[15:20:00.0000] <Hixie>
i really want to do done with this url crap and go on to WebSocket!

[15:20:01.0000] <Hixie>
bbiab

[15:28:00.0000] <Lachy>
woah, I haven't had a chance to look at the URL at all till just now. Hixie, assuming I'm looking at the right section (3.2.9) it doesn't look like you've done much at all with it.

[15:32:00.0000] <jcranmer>
Hixie: if it makes you feel better I get to break through encrusted layers of hacks...

[15:33:00.0000] <zcorpan_>
Lachy: it's mostly annotating the source with XXXURL comments, i think, so Hixie knows what needs doing

[15:37:00.0000] <Lachy>
ah, ok.

[15:38:00.0000] <Lachy>
oh, geez. Now I see why it's such a boring job.

[15:41:00.0000] <Philip`>
Many people spend their whole lives in boring jobs, so it's unreasonable to complain after only a few days of it :-p

[15:41:01.0000] <krijnh>
shepazu: Pong

[15:42:00.0000] <shepazu>
hey, krijnh, did you see this thread? http://lists.w3.org/Archives/Public/public-webapps/2008AprJun/0226.html

[15:43:00.0000] <krijnh>
I have now

[15:43:01.0000] <shepazu>
:)

[15:43:02.0000] <krijnh>
There is no [off] thing (yet)

[15:44:00.0000] <shepazu>
is it possible you could add an "[off]"?

[15:44:01.0000] <krijnh>
And yes, my connections sometimes drops :)

[15:44:02.0000] <krijnh>
Yeah, I think it is

[15:44:03.0000] <shepazu>
hey, I'm not complaining... but it would be nice if everything were perfect :)

[15:44:04.0000] <krijnh>
Everything will never be perfect, just accept that ;)

[15:44:05.0000] <shepazu>
[off] never!

[15:45:00.0000] <krijnh>
Which makes it perfect immediately

[15:45:01.0000] <krijnh>
Anyway, I have no idea how I can not log [off] messages

[15:45:02.0000] <shepazu>
just close my eyes and believe, eh?

[15:46:00.0000] <krijnh>
But I could hide them in the views

[15:46:01.0000] <Philip`>
Make the script read from `grep -v '> \[off\]' log.txt` instead of from log.txt?

[15:46:02.0000] <shepazu>
you mean more than CSS, right? :)

[15:46:03.0000] <krijnh>
They would still be in the logs

[15:46:04.0000] <krijnh>
PHP parses the logfiles, and wraps them in some HTML

[15:46:05.0000] <krijnh>
I could ignore the [off] lines

[15:46:06.0000] <Philip`>
Does anyone other than you have access to those raw logs?

[15:47:00.0000] <zcorpan_>
shepazu: the easy way to solve the connection drop problem is to have multiple independent loggers

[15:47:01.0000] <krijnh>
Not that I know of

[15:47:02.0000] <shepazu>
zcorpan_: yup

[15:47:03.0000] <zcorpan_>
shepazu: what's the point in making [off] lines not go in the logs?

[15:47:04.0000] <Philip`>
zcorpan_: That doesn't help if there's a netsplit and all the loggers are stuck on the opposite side to the discussion

[15:47:05.0000] <hober>
zcorpan_: feedback from #webapps 

[15:48:00.0000] <shepazu>
zcorpan_: some people don't like being logged... 

[15:48:01.0000] <hober>
zcorpan_: doug wants the feature, though I don't know who would use it

[15:48:02.0000] <krijnh>
Is it okay if [off] lines are presented as "[off]" ?

[15:48:03.0000] <krijnh>
It could be weird if in the middle of a discussion some lines are missing

[15:48:04.0000] <hober>
Personally, I think there should be some indication on the site if lines were redacted

[15:48:05.0000] <krijnh>
I agree

[15:48:06.0000] <shepazu>
yeah, I agree

[15:49:00.0000] <krijnh>
Oki

[15:49:01.0000] <shepazu>
cool, thanks!

[15:49:02.0000] <hober>
In fact, I'd like it to have the nick of the relevant party.

[15:49:03.0000] <hober>
So you can tell *that* so-and-so said something, but not *what*

[15:49:04.0000] <krijnh>
Indeed

[15:49:05.0000] <shepazu>
hober: you're getting into the bounds of crossing the privacy line

[15:49:06.0000] <krijnh>
Do you guys need some sort of consensus on that? :)

[15:49:07.0000] <hober>
I dunno. It's a public WG

[15:50:00.0000] <hober>
I think wanting your IRC to not be logged is somewhat antisocial

[15:50:01.0000] <krijnh>
So not web 2.0

[15:50:02.0000] <hober>
and I'd like such antisocial behavior exposed if we're going to cater to it with some kind of feature

[15:50:03.0000] <Philip`>
You could always have an additional secret channel, like we have with #whatwg-cabal

[15:50:04.0000] <zcorpan_>
if someone doesn't want something to be logged, don't say it in a logged channel

[15:50:05.0000] <shepazu>
hober: while other think that people logging their every comment is antisocial :)

[15:50:06.0000] <zcorpan_>
i honestly don't see the problem

[15:50:07.0000] <hober>
zcorpan_: right

[15:50:08.0000] <krijnh>
Philip`: I'm logging that as well, under a different nick ;)

[15:51:00.0000] <shepazu>
zcorpan_: if you don't see the problem, then you aren't the person who wants this feature :)

[15:52:00.0000] <shepazu>
nor am I, usually... though on channels where we have the feature, it's been used a lot

[15:52:01.0000] <Philip`>
"it's been used a lot" could be considered an argument against it

[15:52:02.0000] <zcorpan_>
so what if someone in the channel logs and publishes without hiding [off] lines?

[15:52:03.0000] <Lachy>
I would prefer that everything was logged and people were just careful with what they said

[15:52:04.0000] <shepazu>
krijnh: I would be against logging someone's comment at all, even their nick, if they used [off]

[15:53:00.0000] <shepazu>
zcorpan_: then that's really rude

[15:53:01.0000] <Lachy>
shepazu, how does RRSAgent handle [off] lines in the logs?

[15:53:02.0000] <krijnh>
shepazu: you mean against saving it in some static file?

[15:54:00.0000] <shepazu>
krijnh: well, at the very least, against making it public

[15:54:01.0000] <krijnh>
I think it's pretty confusing if some lines are missing inside a discussion, without any notion of that fact

[15:54:02.0000] <krijnh>
For people reading afterwards

[15:54:03.0000] <shepazu>
just because I'm having a conversation on my mobile phone in public doesn't mean I want someone to record it and broadcast it on the radio

[15:55:00.0000] <krijnh>
Eh, okay

[15:55:01.0000] <shepazu>
krijnh: then just put all redacted lines as "[off]"

[15:55:02.0000] <hober>
krijnh: agreed. there needs to be some indication that (someone|nick) said something that they didn't want logged.

[15:55:03.0000] <shepazu>
including the nick

[15:55:04.0000] <krijnh>
I replied 'Oki' to that :)

[15:56:00.0000] <shepazu>
yeah, but then other people went on from there

[15:56:01.0000] <shepazu>
just making it clear :)

[15:56:02.0000] <zcorpan_>
shepazu: if you call a radio station when they're on air then you know it'll be broadcasted on the radio. would you want an [off] feature in that case so you can say things without getting it broadcasted?

[15:56:03.0000] <krijnh>
That's just the WHATWG cabal, ignore them

[15:56:04.0000] <krijnh>
*runs*

[15:56:05.0000] <krijnh>
zcorpan_: that's more what this is, indeed

[15:57:00.0000] <shepazu>
zcorpan_: I'm not going to debate privacy issues with you :)  if you don't want privacy, awesome... but don't impose your prefernce on everyone else

[15:57:01.0000] <zcorpan_>
i want privacy, but not in irc channels :)

[15:58:00.0000] <Lachy>
shepazu, if people want privacy, the easy option is to take the discussion out of the public channel

[15:58:01.0000] <zcorpan_>
that are publically logged

[15:58:02.0000] <Philip`>
It's more like a Reality TV show, where you have discussions that are intended to just be between you and the people you're talking to, but you know there's the possibility that loads of other people will be looking in on what you're doing

[15:58:03.0000] <shepazu>
Lachy: RRSAgent doesn't honor "[off]" (I think), but it doesn't log lines starting with "/me"

[15:58:04.0000] <Lachy>
but I think for a public WG, that's not something that should happen often when discussing WG related stuff

[15:58:05.0000] <hober>
Lachy: exactly

[15:58:06.0000] <Lachy>
shepazu, I think the fact that RRSAgent doesn't log /me lines is an annoying bug.

[15:58:07.0000] <Philip`>
/me [off] wonders if this will hide the line from everyone

[15:59:00.0000] <zcorpan_>
Lachy: agreed

[15:59:01.0000] <shepazu>
Lachy: me too

[15:59:02.0000] <shepazu>
cool, guys, if you don't want to use "[off]", then don't

[15:59:03.0000] <krijnh>
Philip`: come again?

[15:59:04.0000] <anne-olpc>
fwiw, I think it would be better if [off] was logged; don't say things you don't want logged in a public channel

[15:59:05.0000] <krijnh>
/me is confused

[16:00:00.0000] <anne-olpc>
(as in, not kept out of the logs)

[16:00:01.0000] <Philip`>
krijnh: If "/me ..." hides from RRSAgent, and "[off] ..." hides from your logs, I was wondering if "/me [off] ..." would work for both

[16:00:02.0000] <krijnh>
What would be a good use case for [off] anyway?

[16:00:03.0000] <anne-olpc>
/me might have missed the last minute on this discussion, sorry

[16:00:04.0000] <gsnedders>
I think anne-olpc is right: don't say things you don't want logged in the channel.

[16:00:05.0000] <shepazu>
anne-olpc: check the logs :)

[16:00:06.0000] <krijnh>
anne-olpc: see the logs ;)

[16:01:00.0000] <krijnh>
What kind of statements would you put in [off] btw?

[16:01:01.0000] <anne-olpc>
perf and keyboard are not too great on the OLPC

[16:01:02.0000] <anne-olpc>
Opera helps, but still

[16:01:03.0000] <krijnh>
[off] Opera sucks, btw

[16:02:00.0000] <Lachy>
krijnh, insults, mostly ;-)

[16:02:01.0000] <krijnh>
Opera rules!

[16:02:02.0000] <krijnh>
[off] My previous line was a lie, hrhr

[16:02:03.0000] <zcorpan_>
krijnh: can't reveal what [off]'d be used for in public of course

[16:02:04.0000] <shepazu>
cursing, jokes, private info like email addresses or sikkrit URLs

[16:02:05.0000] <gsnedders>
[off] f off, Lachy!

[16:02:06.0000] <krijnh>
Email: that's a good one

[16:02:07.0000] <hober>
It makes me happy that /me's in #html-wg show up in krijnh's logs

[16:03:00.0000] <smedero>
that's the only one in the list that caught my attention.... email harvesting.

[16:03:01.0000] <gsnedders>
/me is happy too

[16:03:02.0000] <Philip`>
"[off]" sounds like useful metadata that indicates interesting and/or juicy lines

[16:03:03.0000] <Philip`>
You should extract them all and publish them anonymously

[16:03:04.0000] <shepazu>
for money

[16:03:05.0000] <jcranmer>
/me seconds Philip` 's idea

[16:03:06.0000] <gsnedders>
[off] The truth is, I'm gay.

[16:03:07.0000] <Lachy>
if people who post to the W3C WG mailing lists are worried about email harvesting, I have news for them!

[16:03:08.0000] <krijnh>
smedero: that would be solved by a regex (yeah yeah, I know they suck for URIs) changing it to some obfuscated string

[16:04:00.0000] <Philip`>
Reading through complete IRC logs is normally really boring, so it's good to highlight to private and controversial bits

[16:04:01.0000] <shepazu>
Lachy: anyone who posts to w3c mailing lists signs a waiver

[16:04:02.0000] <Lachy>
and since most, if not all people in #webapps would, it's not a problem worth worrying about in the IRC channel

[16:04:03.0000] <anne-olpc>
exchanging sensitive info is what /msg is for

[16:04:04.0000] <krijnh>
gsnedders: note to you gayman, [off] lines are still logged

[16:04:05.0000] <smedero>
right.

[16:04:06.0000] <gsnedders>
krijnh: I know :)

[16:04:07.0000] <jcranmer>
note to self: start a spambot who uses [off] lines

[16:04:08.0000] <krijnh>
gsnedders: I know you know :)

[16:04:09.0000] <Lachy>
shepazu, yeah, I know. I was just pointing out the futility of protecting email addresses in here, while they're all public in the list archive

[16:05:00.0000] <gsnedders>
krijnh: I know everything, but you don't know that.

[16:05:01.0000] <Philip`>
anne-olpc: /msg isn't for sensitive information - "Note: this server is INSECURE; you should assume that anyone could be listening to anything you say here."

[16:05:02.0000] <krijnh>
gsnedders: just go do your outlining thing ;p

[16:05:03.0000] <gsnedders>
krijnh: Done, now :P

[16:05:04.0000] <anne-olpc>
as far the thing about krijnh being offline, the W3C should start competing!

[16:05:05.0000] <krijnh>
Really?

[16:05:06.0000] <anne-olpc>
that'd be great

[16:05:07.0000] <gsnedders>
krijnh: There were basically two bugs: one in the spec, one in the impl (because the spec was unclear)

[16:05:08.0000] <krijnh>
Ah okay

[16:06:00.0000] <shepazu>
anne-olpc: they plan to, iirc, but they are still setting up the bot to do it

[16:06:01.0000] <gsnedders>
krijnh: There's nothing yet to actually properly build it up into a TOC, though

[16:06:02.0000] <krijnh>
anne-olpc: should I introduce new features then as well?

[16:06:03.0000] <anne-olpc>
or the W3C could offer krijnh a more stable server or something

[16:06:04.0000] <anne-olpc>
krijnh: 

[16:06:05.0000] <krijnh>
:D

[16:06:06.0000] <anne-olpc>
krijnh, sure, when needed :)

[16:07:00.0000] <krijnh>
I've introduced 30 subtitles this morning already ;)

[16:07:01.0000] <gsnedders>
krijnh: http://pastebin.com/mcdbe30b — that's a magic outline!

[16:07:02.0000] <krijnh>
That's enough for a while

[16:07:03.0000] <shepazu>
there are a lot of people (some team, some members) who are concerned about the privacy implications of logging at all, so I think this is a good compromise

[16:07:04.0000] <anne-olpc>
krijnh, yaeh, hehe

[16:07:05.0000] <Hixie>
these people realise that webapps is a public wg right?

[16:07:06.0000] <anne-olpc>
dude, typing sux0rs

[16:08:00.0000] <krijnh>
anne-olpc: you're not a child anymore, so in some way it makes sense an olpc sucks for you

[16:08:01.0000] <anne-olpc>
plastic buttons designed for people with small hands

[16:08:02.0000] <krijnh>
^^

[16:08:03.0000] <shepazu>
anne-olpc: the keyboard is made for little kids, and you're like 8 feet tall

[16:08:04.0000] <anne-olpc>
uhuh

[16:08:05.0000] <Philip`>
Outline of the HTML5 spec: .--. |  | '--'

[16:08:06.0000] <anne-olpc>
but it's nice :)

[16:08:07.0000] <Philip`>
Oh wait, that didn't work

[16:08:08.0000] <Philip`>
 .--.

[16:08:09.0000] <Philip`>
 |  |

[16:08:10.0000] <Philip`>
 '--'

[16:08:11.0000] <Hixie>
Philip`: hah

[16:08:12.0000] <Philip`>
There you go

[16:08:13.0000] <krijnh>
So, bottom line, do I want to go down the [off] route thingy?

[16:08:14.0000] <shepazu>
yeah, it's a cute lil machine

[16:08:15.0000] <Hixie>
your ratio is way off

[16:08:16.0000] <Philip`>
/me wonders why irssi eats newlines

[16:09:00.0000] <Hixie>
it's like a 1000 page document by now

[16:09:01.0000] <Philip`>
Hixie: How about:

[16:09:02.0000] <Philip`>
  |

[16:09:03.0000] <Hixie>
hah

[16:09:04.0000] <Hixie>
yeah

[16:09:05.0000] <Philip`>
assuming you have a very narrow font

[16:09:06.0000] <Hixie>
that's more like it :-)

[16:09:07.0000] <Hixie>
even a wider font

[16:09:08.0000] <anne-olpc>
krijnh, nope?

[16:09:09.0000] <gsnedders>
Nah, more like:

[16:09:10.0000] <gsnedders>
|

[16:09:11.0000] <gsnedders>
|

[16:09:12.0000] <Hixie>
krijnh: if you do, please make sure it doesn't work in #whatwg :-)

[16:09:13.0000] <shepazu>
krijnh: please, yes

[16:10:00.0000] <krijnh>
Bidding starts at $50

[16:10:01.0000] <shepazu>
if only on channels that request it

[16:10:02.0000] <anne-olpc>
/me bids against :)

[16:10:03.0000] <zcorpan_>
let's vote! :-p

[16:10:04.0000] <krijnh>
shepazu: I'll fix it for #webapps

[16:11:00.0000] <anne-olpc>
anyways, already said why it's a bad idea

[16:11:01.0000] <shepazu>
krijnh: thanks

[16:11:02.0000] <shepazu>
oops..

[16:11:03.0000] <shepazu>
[off] krijnh, thanks for furthering the cause of the privacy cabal

[16:11:04.0000] <Hixie>
anne: it's a terrible idea, but it makes perfect sense that the w3c would ask for it :-)

[16:11:05.0000] <krijnh>
shepazu: Although, having some experience in creating buggy stuff, I don't want to commit myself to this too much

[16:12:00.0000] <hober>
I find it worrisome, given that the wg is public

[16:12:01.0000] <shepazu>
heh

[16:12:02.0000] <Philip`>
krijnh: Opera 9.5 interacts badly with your log site

[16:12:03.0000] <anne-olpc>
Hixie, :/

[16:12:04.0000] <krijnh>
[off] Philip`: Opera sucks

[16:12:05.0000] <anne-olpc>
Hixie, some of the stuff recently...

[16:12:06.0000] <krijnh>
Ow, shit, it doesn't work in here :p

[16:12:07.0000] <Philip`>
krijnh: Its address bar tends to remember the address when I just type 'k', whereas Opera 9.2 was rubbisher and I had to keep typing in krijnhoetmer.nl and therefore learnt how to spell your name

[16:13:00.0000] <anne-olpc>
my OLPC says it's 17:14, but I think I'll go to bed

[16:13:01.0000] <anne-olpc>
nn

[16:13:02.0000] <krijnh>
:w

[16:13:03.0000] <tndH>
why not have a user option on the logs site? [ ] show secret conversations :D

[16:13:04.0000] <krijnh>
Philip`: I don't really see what you mean

[16:13:05.0000] <Philip`>
tndH: That can be a premium registration feature

[16:13:06.0000] <krijnh>
Pro accounts, tee hee

[16:13:07.0000] <shepazu>
nn, lil anne

[16:14:00.0000] <zcorpan_>
/me should go to bed as well

[16:14:01.0000] <Hixie>
i wonder if we should ask for an [off] feature for the wg mailing list archives as well

[16:14:02.0000] <Philip`>
/me estimates he will go to bed in four hours, and then wake up an hour late tomorrow and get into work two hours late

[16:15:00.0000] <krijnh>
Hixie: that doesn't involve extra work for me, so I'm okay with that :)

[16:15:01.0000] <shepazu>
Hixie: people already sign a waiver there, so it's a false analogy

[16:16:00.0000] <Hixie>
hmm, maybe a better solution then is to make them sign a waiver for irc :-)

[16:16:01.0000] <smedero>
/me supposes he'll go streaking through the public square with an [off] banner covering his twig and berries

[16:16:02.0000] <shepazu>
yep, that's a thought

[16:16:03.0000] <shepazu>
um, Hixie's thought, not smedero's :)

[16:16:04.0000] <smedero>
:)

[16:17:00.0000] <smedero>
now I suppose you want retroactive [off] too? :)

[16:17:01.0000] <shepazu>
no, I'll use my what-ifs for much more important things

[16:18:00.0000] <smedero>
haha, fair enough

[16:19:00.0000] <smedero>
maybe when our IRC nodes implement Dmitry Turin's IRC6 protocol the world will be a better place.

[16:19:01.0000] <krijnh>
Testint, testing

[16:19:02.0000] <krijnh>
[ow-damn-previous-line-should-be-off]

[16:19:03.0000] <krijnh>
That's my new feature when the W3C is going to compete with my logs ^

[16:20:00.0000] <Philip`>
http://futureoftheinternet.org/blog/ - Opera 9.5 puts the bottom half of the page in a <code> font, because there's a "<p>...<code></p>" - Opera really needs to use the HTML5 parsing algorithm :-)

[16:22:00.0000] <Hixie>
yes

[16:22:01.0000] <Hixie>
yes it does

[16:22:02.0000] <Philip`>
Also, good job blurring out the email address in the Passport screenshot

[16:23:00.0000] <Hixie>
krijnh: i wouldn't worry too much about the w3c competing with you... experience with html5 suggests that they are easy to compete with :-P

[16:23:01.0000] <krijnh>
lol

[16:23:02.0000] <krijnh>
Yeah well

[16:23:03.0000] <krijnh>
Depends on who's competing ;)

[16:23:04.0000] <krijnh>
Err, on who they're competing with

[16:23:05.0000] <Hixie>
the first step seems to be "Do something"

[16:24:00.0000] <krijnh>
Yeah, I'm busy, relax :)

[16:24:01.0000] <Hixie>
after that, you're home dry

[16:25:00.0000] <Hixie>
actually that's probably not fair, the w3c does do things, even if very slowly

[16:25:01.0000] <Hixie>
they just tend to do the wrong thing

[16:25:02.0000] <krijnh>
http://krijnhoetmer.nl/irc-logs/webapps/20080619

[16:25:03.0000] <Hixie>
you should make it white on black text :-)

[16:25:04.0000] <Hixie>
instead of italics

[16:26:00.0000] <shepazu>
yeah, Hixie is much faster about doing the wrong thing :)

[16:27:00.0000] <Philip`>
But none of us can beat Mozilla|Opera|Microsoft|Apple|etc at rapidly doing things wrong :-)

[16:29:00.0000] <roc>
we shipped 82 terabytes of wrongness yesterday and I'm pretty happy about that

[16:31:00.0000] <Philip`>
All we can do is write some words that will probably be ignored - there's no way to compete fairly :-(

[16:31:01.0000] <roc>
they won't be ignored

[16:31:02.0000] <roc>
this isn't 2001

[16:31:03.0000] <Philip`>
Well, that depends on which specs we're writing :-)

[16:31:04.0000] <Philip`>
and who "we" is

[16:32:00.0000] <roc>
oh sorry, are you working on XHTML2?

[16:32:01.0000] <Philip`>
"We" could be inclusive of the people who are

[16:33:00.0000] <Philip`>
I should probably say "is" instead of "could be" because then it'd look like I understood what I was saying before I said it, instead of making it up as I'm going along

[16:34:00.0000] <Philip`>
Anyway, HTML5 does seem to be one of the most efficient specs for getting wrongness deployed, since browser developers seem to trust it, so that's okay

[16:40:00.0000] <othermaciej>
written wrongness has much less effect than wrongness shipped in software, regardless of number of copies distributed

[16:59:00.0000] <Philip`>
Have I already mentioned that I don't like it when the spec has identical paragraphs with different meanings?


2008-06-19
[17:01:00.0000] <othermaciej>
when does that happen

[17:03:00.0000] <Philip`>
othermaciej: It says things like "If the image argument is an HTMLImageElement object whose complete attribute is false, then the implementation must raise an INVALID_STATE_ERR exception." referring to drawImage one time, and createPattern another time

[17:04:00.0000] <Philip`>
and I associate test cases with bits of the spec by copying the relevant spec text, and it gets all confused when trying to work out where in the spec that text came from if it's there twice :-(

[17:05:00.0000] <roc>
crikey, the IE layout team is huge

[17:05:01.0000] <othermaciej>
how many people are on it?

[17:06:00.0000] <othermaciej>
ad how do you know?

[17:06:01.0000] <roc>
I'm just counting the number of Microsoft people who've popped up in www-style and w3c-css-wg

[17:06:02.0000] <Hixie>
Philip`: heh

[17:07:00.0000] <Hixie>
roc: i'm not sure it's really working in their favour, to be honest

[17:07:01.0000] <jcranmer>
roc: there are some people on /. who think that MS's IE people don't contribute to CSS/HTML AT ALL

[17:07:02.0000] <Hixie>
i still can't get the 7 months it took to get the IE team's feedback on XHR

[17:08:00.0000] <Hixie>
still can't get over, even

[17:08:01.0000] <jcranmer>
Hixie: that's probably their backlog ;-)

[17:08:02.0000] <Hixie>
they were promising it any time now the whole time along

[17:08:03.0000] <Hixie>
and at the end even put it out under a clickthrough license before finally sending it to the list

[17:09:00.0000] <Hixie>
it's not like they said "it'll take 2 years" or whatever

[17:09:01.0000] <othermaciej>
roc: probably a lot of them are "Program Managers", not actual developers

[17:09:02.0000] <hober>
I thought this was nice: http://lists.w3.org/Archives/Public/www-archive/2008Jun/0114.html

[17:10:00.0000] <roc>
maybe so, but still makes for a big team

[17:12:00.0000] <Hixie>
i really wish i could see inside their day to day workings to see what's really going on

[17:12:01.0000] <Hixie>
maybe someone can sue them and we can get some e-mails out in discovery like in comes vs microsoft

[17:12:02.0000] <Hixie>
(it's clear from those e-mails that they really were "evil" back in the late 90s)

[17:13:00.0000] <Philip`>
Hixie: That's why you should quit Google and get a job at Microsoft

[17:13:01.0000] <Hixie>
uh huh

[17:16:00.0000] <Philip`>
It'd be much more productive to work from the inside

[17:16:01.0000] <roc>
I count 7 people who seem to be doing technical work appearing on the CSS lists

[17:16:02.0000] <roc>
of course that's neither an upper nor a lower bound, but still

[17:17:00.0000] <othermaciej>
there also seem to be totally separate AJAX and JScript teams

[17:17:01.0000] <Hixie>
how about the other lists?

[17:17:02.0000] <Hixie>
yeah

[17:17:03.0000] <Hixie>
the "AJAX swat team" has been cc'ed multiple times on the webapps threads

[17:17:04.0000] <Hixie>
sometimes along with half a dozen other @microsoft.com addresses

[17:18:00.0000] <othermaciej>
and I'm like, "they have a whole team for XHR, and their main goal is not to change it in any way?"

[17:18:01.0000] <roc>
of course, if I was writing a new layout engine from scratch in 3 years I'd want a big team too

[17:18:02.0000] <othermaciej>
I wouldn't

[17:18:03.0000] <hober>
well, I bet it's more of an XDR team...

[17:18:04.0000] <othermaciej>
I would want 3 or 4 really good people

[17:18:05.0000] <roc>
I wouldn't at the start but I would at the end

[17:18:06.0000] <othermaciej>
maybe at the end

[17:18:07.0000] <jcranmer>
othermaciej: I don't that'd work for a 3-yr timeline

[17:19:00.0000] <othermaciej>
Safari was created in 1.5 years from project start

[17:19:01.0000] <jcranmer>
s/don't/doubt/

[17:19:02.0000] <othermaciej>
with a surprisingly small team

[17:19:03.0000] <hober>
you had khtml to start with

[17:19:04.0000] <othermaciej>
of course, we were building on an existing engine

[17:19:05.0000] <jcranmer>
othermaciej: but didn't Safari take webkit from elsewhere?

[17:19:06.0000] <othermaciej>
and expectations were lower

[17:19:07.0000] <othermaciej>
but the khtml of those days was far away from what was needed for compatibility, standards compliance, performance, etc

[17:20:00.0000] <Hixie>
woot, finally finished annotating the spec for the url stuff

[17:20:01.0000] <othermaciej>
then again, Microsoft has the old IE engine to look at and borrow code from

[17:21:00.0000] <othermaciej>
I would guess it is lower in code quality than the KHTML of 7 years ago though

[17:21:01.0000] <othermaciej>
if higher in compatibility

[17:21:02.0000] <Hixie>
why are we assuming a rewrite?

[17:21:03.0000] <jcranmer>
othermaciej: that's not a big a boon as you might expect

[17:21:04.0000] <mcarter>
othermaciej, so are you a webkit developer, or are you on the safari team at apple, or are those the same thing?

[17:21:05.0000] <othermaciej>
well, that is how they described it

[17:21:06.0000] <jcranmer>
trust me, someone who's written the same code over three different times

[17:22:00.0000] <othermaciej>
but it sounds like the only major reworking was layout, not other things like scripting or the DOM

[17:22:01.0000] <othermaciej>
and I don't know how truly "from scratch" that was

[17:22:02.0000] <othermaciej>
mcarter: I'm the manager of the WebKit team at Apple

[17:23:00.0000] <othermaciej>
(and I sideline as a developer on the WebKit open source project)

[17:23:01.0000] <Hixie>
i would imagine their "rewrite" is no more expansive in scope than firefox3's gecko "rewrite"

[17:23:02.0000] <othermaciej>
the WebKit team is part of the Safari Team though

[17:24:00.0000] <Hixie>
that is, lots of new code, lots of code replaced, but still an evolutionary path

[17:24:01.0000] <mcarter>
othermaciej, oh hey, thats great! That means there is actually a chance of seeing WebSocket native in a browser in the forseeable future, right?

[17:26:00.0000] <Hixie>
/me renames the tcpconnection folder to "websocket"

[17:28:00.0000] <othermaciej>
mcarter: Apple doesn't comment on future product releases

[17:28:01.0000] <othermaciej>
I'm not sure I like the name WebSocket but I am not inclined to paint the bikeshed

[17:28:02.0000] <othermaciej>
I like that Web is in the name though :-)

[17:29:00.0000] <Hixie>
yeah basically i started from SocketConnection, added Web, then dropped Connection

[17:29:01.0000] <Hixie>
i'm open to better ideas

[17:30:00.0000] <mcarter>
I think WebSocket is pretty good. I mean, Web being in the name is nice. Socket implies that its a real duplex stream

[17:30:01.0000] <mcarter>
WebConnection sounds like a conference name or magazine or something

[17:31:00.0000] <Hixie>
hah

[17:37:00.0000] <roc>
othermaciej: there's one strange thing about not commenting on future product releases

[17:37:01.0000] <roc>
how does an open source project not make public comments about future plans?

[17:37:02.0000] <Hixie>
webkit doesn't have releases

[17:37:03.0000] <Hixie>
they do talk about plans, as far as i can tell

[17:37:04.0000] <Hixie>
at least that's my impression

[17:38:00.0000] <Hixie>
i think i'm going to restructure sections 2 and 3 so that instead of being DOM and Structure, they're, like, "infrastructure" stuff, and then "semantics" stuff

[17:38:01.0000] <Philip`>
mcarter: Why should WebSocket have Web in the name, when pretty much every other web technology doesn't?

[17:38:02.0000] <Philip`>
The webbiness is implicit in the context, since you're going to be using it in a web page

[17:39:00.0000] <Hixie>
the whatwg puts "web" in the name of everything it does

[17:39:01.0000] <mcarter>
Philip`, so as not to confuse a WebSocket with a Socket due to the protocol differences

[17:39:02.0000] <gavin>
I agree with Philip`. Also, just "Socket" is too long. It should be called "Sock".

[17:39:03.0000] <mcarter>
really we should name the protocol, and then name the api after the protocol

[17:39:04.0000] <Hixie>
Web Forms 2.0, Web Apps 1.0, Web Controls, Web Binding Language (the "whatwg internal name" for what is published as xbl2), etc

[17:40:00.0000] <Hixie>
the protocol is the Web Socket Something Protocol

[17:40:01.0000] <Hixie>
not sure what "Something" is. Not Transfer, not Transport, not Control

[17:40:02.0000] <mcarter>
given that the protocol name is the Web Socket Something Protocol, I think WebSocket sounds like a good name for the api

[17:40:03.0000] <mcarter>
Web Socket Stream Protocol?

[17:40:04.0000] <Hixie>
that works

[17:40:05.0000] <Hixie>
or Web Socket Streaming Protocol

[17:41:00.0000] <Hixie>
then again, that might make people think of streaming video

[17:41:01.0000] <mcarter>
yeah, thats a good point

[17:41:02.0000] <takkaria>
Web Socket Socket protocol?

[17:41:03.0000] <mcarter>
Web Socket Framing Protocol?

[17:41:04.0000] <Hixie>
Web Socket Duplex Framed Text And Binary Data Protocol

[17:41:05.0000] <Hixie>
WSDFTABDP

[17:42:00.0000] <takkaria>
just put a - after the WS and you can make people even more confused

[17:42:01.0000] <Hixie>
wsdftadbp://damowmow.com:81/news

[17:42:02.0000] <mcarter>
wow

[17:42:03.0000] <Hixie>
(though i think the scheme should just be ws:// actually)

[17:43:00.0000] <Hixie>
oh right, Web Socket Duplex Protocol is what i was thinking earlier

[17:43:01.0000] <Hixie>
WSDP

[17:43:02.0000] <Hixie>
or just Web Socket Protocol :-)

[17:43:03.0000] <Philip`>
Hixie: All those "Web"s are only in the names, not in the APIs

[17:44:00.0000] <hober>
I hope ws:// annoys soap people :)

[17:44:01.0000] <mcarter>
Philip`, really though, the reason that WebSocket should have the word web in it is that historically the Web hasn't had sockets. Calling something a web socket will be really good for establishing a strong recognition as to what the technology is and how it changes web applications

[17:44:02.0000] <Hixie>
what mcarter said

[17:44:03.0000] <Philip`>
Fair enough :-)

[17:45:00.0000] <Philip`>
/me wonders if he'll be able to use it for peer-to-peer communication in the future

[17:45:01.0000] <Hixie>
not the way the current protocol is set up

[17:45:02.0000] <mcarter>
Philip`, what are the use cases of peer-to-peer connections?

[17:46:00.0000] <mcarter>
I was trying to justify the need for peer connections last night

[17:46:01.0000] <roc>
games

[17:46:02.0000] <Philip`>
mcarter: Sharing music illegally

[17:46:03.0000] <roc>
well, some games

[17:46:04.0000] <Hixie>
peer to peer across multiple subnets would be interesting, though a whole different problem than what the Web Socket Protocol solves

[17:47:00.0000] <Hixie>
not clear we could even use the same handshaking mechanism

[17:47:01.0000] <Hixie>
you have to deal with NATting and all kinds of issues

[17:47:02.0000] <Hixie>
(as in NATting on both ends)

[17:47:03.0000] <roc>
content distribution

[17:48:00.0000] <roc>
I was talking to some friends who work at a peer to peer content distribution company, mostly video. They're distributing a browser plugin to do it

[17:48:01.0000] <Philip`>
PC games often seem to work around NATs by using a third server to help initiate the connection, and that sometimes seems to work alright

[17:48:02.0000] <roc>
it's always nice if we can avoid the need for plugins

[17:48:03.0000] <Hixie>
well opera has built in bittorrent support :-)

[17:49:00.0000] <roc>
I don't think we want to write bittorrent into HTML5

[17:49:01.0000] <Philip`>
(though that probably only really works for UDP, not TCP, unless your NAT/firewall is dumb)

[17:50:00.0000] <Philip`>
(and I don't think HTML5 wants to reinvent TCP on top of UDP)

[17:50:01.0000] <Hixie>
that's all we need

[17:50:02.0000] <Hixie>
reaching even further down the stack to reinvent the web!

[17:50:03.0000] <Hixie>
maybe i can get vint to contribute

[17:51:00.0000] <Philip`>
Use case: I want to write an internet router in HTML

[17:51:01.0000] <Hixie>
feel free to file that in bugzilla

[17:52:00.0000] <Philip`>
Who needs fancy Cisco boxes when I could use a commodity PC running Firefox?

[17:56:00.0000] <takkaria>
I think a <scene> tag is more important than writing internet routers in HTML

[17:56:01.0000] <Philip`>
I want a <scone> tag

[17:56:02.0000] <hober>
I'm surprised Dmitry didn't beat Philip` to proposing one...

[17:57:00.0000] <jmb>
Philip`: that'd just open a huge bikeshed about how to pronounce it

[17:57:01.0000] <takkaria>
it wouldn't, you clearly pronounce it as "'s gone"

[17:59:00.0000] <Philip`>
/me fortunately agrees with takkaria

[18:14:00.0000] <Hixie>
don't look now, but the top of the spec right now is a mess.

[18:14:01.0000] <Hixie>
in case anyone is wondering what's going on

[18:15:00.0000] <Hixie>
i'm in the middle of reorganising everything again

[18:37:00.0000] <othermaciej>
roc: I can comment on project plans, but I can't comment on when or whether Apple will ship anything in a product

[18:38:00.0000] <othermaciej>
roc: although I don't have a formal authority role in the open source project or anything so I can only speak based on my knowledge, not as an official project representative

[19:04:00.0000] <roc>
the distinction seems rather fine

[19:07:00.0000] <mcarter>
Hixie, there may be some value to allowing the client to set headers on the WebSocket handshake

[19:18:00.0000] <othermaciej>
I can say "the WebKit project is interested in FooML, and John Doe might be working on it soon" but I can't say "Safari 5 will ship in 2 months with full FooML support"

[19:18:01.0000] <roc>
yeah

[19:22:00.0000] <othermaciej>
and yes, there could be confusing borderline cases, but that's the rough outline

[19:23:00.0000] <othermaciej>
the WebKit project is a technology provider, not a product organization

[19:23:01.0000] <othermaciej>
which I guess is somewhat unusual in the realm of open source projects

[19:23:02.0000] <roc>
not really

[19:23:03.0000] <roc>
the Linux kernel is the same

[19:24:00.0000] <othermaciej>
well I guess the fact that they ship releases is ultimately not very relevant to either what people get from Linux distros, or what totally bleeding edge fanboys run (which is probably straight out of someone's git tree)

[19:25:00.0000] <othermaciej>
so yeah, I can tell you we're working on the scheduler but not when Red Hat will ship those changes

[19:25:01.0000] <othermaciej>
to draw the analogy

[19:25:02.0000] <roc>
I'm actually surprised you haven't had to do some labelling of builds to indicate which ones are better than others

[19:26:00.0000] <othermaciej>
of nightly builds you mean?

[19:26:01.0000] <roc>
of any builds

[19:27:00.0000] <roc>
someone said you don't do releases

[19:28:00.0000] <othermaciej>
well we have release/update branches which are generally managed by a specific port/vendor, but the project as a whole just develops on trunk, and we try to keep it stable enough that nightlies or even trunk SVN builds are usuable

[19:29:00.0000] <othermaciej>
the only releases that count are done by vendors/packagers though

[19:29:01.0000] <roc>
how do they know when to branch?

[19:29:02.0000] <othermaciej>
(well I guess others might look at it differently and say HEAD is the only release that counts)

[19:30:00.0000] <othermaciej>
they know when to branch by whatever their release cycle is, and hopefully by participating in the project enough to know what revisions are relatively stable and what fixes may need to be merged from trunk

[19:30:01.0000] <roc>
I see

[19:31:00.0000] <roc>
thanks

[19:31:01.0000] <othermaciej>
in practice many (though not all) vendors try to branch from the same point as Apple's releases, but sometimes with different fixes on top of that

[19:42:00.0000] <takkaria>
there is now an up-to-spec C HTML5 tokeniser

[22:35:00.0000] <Hixie>
i'm amused with the people who are complaining about http://lists.w3.org/Archives/Public/public-html/2008Jun/0180.html

[22:35:01.0000] <Hixie>
e.g. in http://www.w3.org/mid/20080619005249.GI5647@sideshowbarker

[22:35:02.0000] <Hixie>
it's not clear to me what exactly the complaint is

[00:24:00.0000] <Dashiva>
"'quality of argument' is a qualitative statement, showing support for an argument reinforces the argument"

[00:24:01.0000] <Dashiva>
In other words, if you repeat it enough times it becomes true?

[00:35:00.0000] <takkaria>
I would have thought showing support for an argument is only a quantitive measure, not a qualitative one

[00:36:00.0000] <takkaria>
sounds like a category mistake to me

[00:49:00.0000] <gsnedders>
Hixie sure is doing well at not doing the URL section :)

[00:52:00.0000] <Dashiva>
It's like seeing myself procrastinate studying for exams, only way beyond my league

[01:41:00.0000] <shepazu>
takkaria: you're assuming that the number is attached merely statistically... in fact, each +1 is the result of a qualitative judgment by a person on the subject matter, not merely an iteration of an instance

[01:42:00.0000] <shepazu>
Dashiva, in other words, if enough people agree with it, it may be worth taking a further look at it

[01:43:00.0000] <shepazu>
this isn't physics, folks... it's not modeling the real world... it's an interactive exercise in what direction people want the web to move

[01:47:00.0000] <Dashiiiva>
And someone has to say stop when people are suggesting to move into brick walls :)

[01:50:00.0000] <takkaria>
shepazu: good counterargument

[01:51:00.0000] <shepazu>
Dashiiiva, agreed, but it's not being done correctly yet

[01:51:01.0000] <shepazu>
takkaria, thanks

[01:52:00.0000] <shepazu>
fwiw, I wasn't sitting here thinking of that the whole time... I just saw your comment :)

[01:53:00.0000] <shepazu>
mikesmith is doing good work in trying to impose a little order, mind you

[01:54:00.0000] <takkaria>
shepazu: I study philosophy, I'm in the business of arguing, not in the buisness of being right or wrong :)

[01:55:00.0000] <shepazu>
takkaria, then your qualitative assessment on my argument is worth even more :)

[01:55:01.0000] <shepazu>
... or less

[01:55:02.0000] <shepazu>
... or both!

[01:56:00.0000] <Dashiiiva>
Superposition until the specific judgement is observed

[01:58:00.0000] <shepazu>
one of my smartest friends studied philosophy as his major... he knows about 5 languages, including japanese and some chinese... he now writes pen-and-paper RPGs, and jokes that he's a "dozenaire" :)

[01:58:01.0000] <takkaria>
I don't know about all that, I just appreciate good arguments :)

[01:59:00.0000] <shepazu>
heh

[02:01:00.0000] <GDashiva>
takkaria: Philosophize on the futility of quantitative judgement in a self-selecting, non-representative group of people :)

[02:10:00.0000] <takkaria>
actually, I've spent a fair bit of time recently thinking about consensus vs. dictatorial decision-making

[02:10:01.0000] <shepazu>
what's your conclusion?

[02:11:00.0000] <takkaria>
well, for the individual, consensus is best, but for the organism as a whole, some dictatorship/domination is required

[02:11:01.0000] <takkaria>
not an earth-shattering conclusion by any means, really

[02:12:00.0000] <takkaria>
but a similar problem exists when thinking about freedom of expression; for the individual, no restrictions on it are best, but for a society as a whole, some may be justified

[02:12:01.0000] <takkaria>
as such, there is an inevitable and eternal conflict where some people will be beaten down at the expense of others

[02:12:02.0000] <takkaria>
er, s/be beaten down/the dominating voices/

[02:13:00.0000] <takkaria>
and that there's not much one can do about it, really.  bit pessimistic but there you go

[02:13:01.0000] <shepazu>
heh

[02:14:00.0000] <shepazu>
I prefer to think of it in terms of guides rather than controllers

[02:15:00.0000] <shepazu>
a smart leader knows when and how to follow the will of his constituents

[02:18:00.0000] <takkaria>
that only works in groups small enough, I'd say

[02:19:00.0000] <Hixie>
i wonder how to split the spec up in terms of defining documents and defining the HTMLDocument object and defining the actual members

[02:19:01.0000] <Hixie>
same with elements, content models, HTMLElement, and the actual members

[02:20:00.0000] <MikeSmith>
Hixie: what would be the goal of splitting it in that way?

[02:21:00.0000] <Hixie>
which way?

[02:24:00.0000] <hsivonen>
how come it's OK for aptest.com to host the issue list of the XHTML2 WG but people complain about http://www.whatwg.org/issues/ being outside w3.org space?

[02:24:01.0000] <Hixie>
because i host whatwg.org, i guess

[02:25:00.0000] <Hixie>
same reason it wasn't ok for me to host the css issues list but fantasai can host it

[02:25:01.0000] <Hixie>
aha, this basic structure makes more sense

[02:25:02.0000] <hsivonen>
hmmkay.

[02:25:03.0000] <Hixie>
/me has added a top-level section to the spec

[02:26:00.0000] <Hixie>
hsivonen: (real answer is i've no idea, but i've long given up caring. though if you find out, do let me know.)

[02:26:01.0000] <Philip`>
hsivonen: Maybe just because more people are involved with HTML5 than with XHTML2, so if a small fraction objects then that's 0 people in XHTML2 but >= 1 people in HTML5

[02:27:00.0000] <Hixie>
heh

[02:31:00.0000] <othermaciej>
it's more because HTML5 is both successful and controversial

[02:31:01.0000] <othermaciej>
so people opposed to aspects of it are inclined to object

[02:31:02.0000] <othermaciej>
but people opposed to XHTML2 mostly just ignore it

[02:40:00.0000] <MikeSmith>
hsivonen: is there a published doc/spec somewhere that includes a link to that aptest.com list?

[02:40:01.0000] <MikeSmith>
or that otherwise reference it?

[02:40:02.0000] <MikeSmith>
Hixie: same things for the CSS issues list?

[02:41:00.0000] <Hixie>
i linked to it from my blog

[02:41:01.0000] <MikeSmith>
are those just referenced in editor's drafts or other WG-internal docs

[02:41:02.0000] <Hixie>
fantasai's is linked to from the csswg home page

[02:41:03.0000] <Hixie>
iirc

[02:41:04.0000] <MikeSmith>
Hixie: OK

[02:41:05.0000] <MikeSmith>
thanks

[02:41:06.0000] <Hixie>
(i'm absolutely fine with it myself)

[02:41:07.0000] <Hixie>
(and maybe people have complained, i don't know really. haven't heard of any complaints, but i don't follow css closely any more)

[02:42:00.0000] <hsivonen>
MikeSmith: I see references from Virtual F2F minutes

[02:42:01.0000] <MikeSmith>
OK

[02:45:00.0000] <hsivonen>
also in a draft Implemtation Report: http://www.w3.org/2006/07/SWD/RDFa/implementation-report/

[02:45:01.0000] <Hixie>
Philip`: just as a heads-up, when i'm done with this reorg, you'll probably want to update the spec splitter ids

[02:46:00.0000] <MikeSmith>
hsivonen: cool, thanks, that's even better

[02:46:01.0000] <Hixie>
hey did we ever hear back from the xhtml2wg about your request, mike?

[02:47:00.0000] <MikeSmith>
Hixie: I have not heard a peep

[02:47:01.0000] <Hixie>
k

[02:47:02.0000] <hsivonen>
MikeSmith: I don't have a problem with the XHTML2 WG having a tracker outside w3.org

[02:47:03.0000] <Hixie>
and i assume the tag is still looking at my request and the svgwg still looking at the parsing issue

[02:47:04.0000] <MikeSmith>
I guess I could/should bring it up on the Hypertext CG call

[02:48:00.0000] <MikeSmith>
Hixie: your TAG request is the one about the HTML features that affect Web architecture?

[02:48:01.0000] <Hixie>
MikeSmith: only if you think you can't get away with saying "well i asked and got no reply" when we try to publish

[02:48:02.0000] <Hixie>
MikeSmith: yeah

[02:48:03.0000] <Hixie>
the mathml wg was a breeze to work with

[02:48:04.0000] <Hixie>
i wish other wgs were that easy

[02:49:00.0000] <Hixie>
heck the mathml wg actually took over part of the html5 spec in an automated fashion (david carlisle, specifically, iirc)

[02:49:01.0000] <MikeSmith>
no idea of status on TAG thing. as far as SVG WG feedback on parsing issue, that's something else I can bring up on Hypertext CG call

[02:49:02.0000] <Hixie>
eh, don't worry about it

[02:49:03.0000] <Hixie>
there's no rush

[02:50:00.0000] <Hixie>
i'd rather they did a good thorough job, who knows, they might find some idea i missed

[02:50:01.0000] <MikeSmith>
hsivonen: I have no problem with the XHTML2 WG having a tracker outside w3.org either

[02:50:02.0000] <hsivonen>
MikeSmith: fwiw, I just implemented SVG-in-text/html according to Hixie

[02:50:03.0000] <hsivonen>
(parsing that is)

[02:50:04.0000] <MikeSmith>
hsivonen: yeah, saw that

[02:50:05.0000] <MikeSmith>
Hixie: ok

[02:51:00.0000] <Hixie>
i expect one of the main browsers will do it at some point, and once they ship, well, too late

[02:51:01.0000] <othermaciej>
/me wonders if Hixie maybe hopes the SVG WG's feedback doesn't arrive until after HTML5 reaches REC with no SVG support

[02:51:02.0000] <Hixie>
if we get to LC and they still haven't replied, i'll just un-comment-out the svg bits

[02:51:03.0000] <Hixie>
and they can send lc comments

[02:51:04.0000] <Hixie>
that gives them more than a year, which should be plenty of time :-)

[02:51:05.0000] <shepazu>
we are working on it, and plan to make a proposal in the next couple weeks... we are posting something public this week to our list

[02:52:00.0000] <MikeSmith>
hsivonen: for the record, I think WGs should have the discretion to be able to link to outside resources in their specs if they care to

[02:52:01.0000] <Hixie>
shepazu: awesome

[02:52:02.0000] <Hixie>
MikeSmith: i'm surprised few people have mentioned the normative links to the whatwg wiki in html5 so far

[02:53:00.0000] <MikeSmith>
well, given that the HTML WG charter specifically mentions WHATWG, I don't think anybody should be very surprised to see those links there

[02:54:00.0000] <Hixie>
logic doesn't always prevail so successfully

[02:56:00.0000] <Philip`>
The "normative links to a wiki" aspect seems like more of a problem than the "normative links to WHATWG-controlled sites" aspect

[02:57:00.0000] <Hixie>
yeah i haven't heard much about that either

[02:57:01.0000] <Hixie>
in fact i've heard more positive noises than negative noises

[02:57:02.0000] <Hixie>
which really surprises me, given how radical an idea this is for the w3c world

[02:57:03.0000] <Hixie>
(e.g. MikeSmith, contrast that idea to what rigo said)

[02:57:04.0000] <Hixie>
(about the copyright thing)

[02:59:00.0000] <Philip`>
It could be considered fine to have those references for now while the spec is under development, because it's just a way of delegating editorship to anyone who has a wiki account, as long as it's folded into the spec in the future so that there's a stable language to implement

[03:00:00.0000] <Hixie>
/me gets an internal error on v.nu

[03:00:01.0000] <Philip`>
so there's no need to complain about the wiki references now, but there will be if such a crazy idea makes it significantly further into the process towards REC

[03:00:02.0000] <Hixie>
Philip`: if people are expecting us to expect that to happen, i have news for them :-)

[03:00:03.0000] <Hixie>
but i think the spec is pretty clear about hte intent being permanent

[03:01:00.0000] <hsivonen>
Hixie: with what input?

[03:02:00.0000] <Hixie>
it said you were notified

[03:02:01.0000] <hsivonen>
Hixie: out of heap space

[03:02:02.0000] <Hixie>
input was the spec, but it runs fine when i do it using curl

[03:02:03.0000] <Hixie>
failed when i did it from the web

[03:02:04.0000] <hsivonen>
I guess I need to do some adjustments

[03:02:05.0000] <Hixie>
same source document

[03:03:00.0000] <hsivonen>
Hixie: http://www.whatwg.org/specs/web-apps/current-work/source-whatwg is 404

[03:03:01.0000] <Hixie>
yeah it's transient, only works while the spec is being regenned

[03:03:02.0000] <Hixie>
do you want a copy?

[03:04:00.0000] <hsivonen>
yes, please

[03:04:01.0000] <hsivonen>
http://www.whatwg.org/specs/web-apps/current-work/source works

[03:04:02.0000] <hsivonen>
I wonder if this is a transient issue of someone else validating something big at the same time

[03:04:03.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/source-whatwg-frozen

[03:05:00.0000] <Hixie>
i was doing it from the command line and the web interface simultaneously

[03:05:01.0000] <Hixie>
web died

[03:05:02.0000] <Hixie>
works now

[03:05:03.0000] <hsivonen>
ok. thanks

[03:05:04.0000] <hsivonen>
I suppose I should expose OOM in the UI

[03:23:00.0000] <Hixie>
ok i've massively (and i do mean massively) reorganised the spec, moving a lot of stuff around

[03:23:01.0000] <Hixie>
(had to do all this to provide a logical place for the URLs section)

[03:24:00.0000] <Hixie>
i'd be interested in feedback on (a) whether i missed anything where paragraphs refer to "above" or "below" or whatever in now meaningless ways, and such problems, and (b) on whether the new structure makes sense to you and is at least as readable as the previous version.

[03:24:01.0000] <MikeSmith>
/me gets ready for muffed-up diffs

[03:25:00.0000] <Hixie>
the text didn't change in any meaningful way, it was mostly just moving sections and updating headings, but i did make some very minor editorial changes here and there to keep things sane

[03:25:01.0000] <MikeSmith>
Hixie: request: when you do reorgs, preferably don't actually change any content at the same time

[03:25:02.0000] <Hixie>
yeah i try to keep it to an absolute minimum

[03:25:03.0000] <MikeSmith>
because then the diffs hide/obscure the content changes

[03:25:04.0000] <hsivonen>
hum does this relate to LEIRIs?

[03:25:05.0000] <MikeSmith>
Hixie: cool

[03:26:00.0000] <Hixie>
e.g. just changing "as it says above" to "as it says in the bla section" and things like that

[03:26:01.0000] <Hixie>
certainly nothing substantive

[03:26:02.0000] <Hixie>
hsivonen: who nows?

[03:26:03.0000] <MikeSmith>
holy god... 971K diff

[03:26:04.0000] <Hixie>
yeah like i said

[03:26:05.0000] <MikeSmith>
Hixie: you should apply for a world record

[03:26:06.0000] <Hixie>
major reorg :-)

[03:26:07.0000] <Lachy>
Hixie, why is the section discussing Link elements and relationships within the Web Browser section, instead of within the Element section?

[03:26:08.0000] <MikeSmith>
:)

[03:27:00.0000] <Hixie>
Lachy: it's within the hyperlinks subsection, which is within the section that introduces browsing contexts

[03:28:00.0000] <hsivonen>
Hixie: I thought LEIRIs were like IRIs but allow more control chars and take the LEIRI-to-URI conversion encoding from the context instead of assuming UTF-8

[03:28:01.0000] <Lachy>
and shouldn't the irrelevant attribute be in the Global attributes section?

[03:28:02.0000] <Hixie>
part of my URL plan is to remove all mention of IRIs

[03:28:03.0000] <Hixie>
so...

[03:29:00.0000] <Hixie>
Lachy: seemed more like an interaction thing

[03:29:01.0000] <hsivonen>
/me expects reality to suck for my current IRI-wise correct code

[03:29:02.0000] <Lachy>
ok. Other than that, the new order looks reasonable.

[03:29:03.0000] <Hixie>
Lachy: but both those things didn't change with this reorg, so send mail or file a bug if you want those changed :-) (i could be very easily convinced to move them around)

[03:29:04.0000] <Hixie>
Lachy: sweet

[03:30:00.0000] <Hixie>
hsivonen: reality is certainly proving to suck huge genitals when it comes to the writing of the spec, so that wouldn't surprise me indeed.

[03:30:01.0000] <Hixie>
did you know that non-ascii characters are treated differently in the path section than the query section of a URL?

[03:30:02.0000] <Lachy>
ok, I review it a bit more thorougly and see whether or not it works as-is

[03:31:00.0000] <hsivonen>
that I didn't know

[03:31:01.0000] <Hixie>
neither did i until very recently

[03:31:02.0000] <Hixie>
"dismayed" would be an appropriate word to use to describe my reaction to learning this

[03:31:03.0000] <Hixie>
anyway

[03:32:00.0000] <Hixie>
URLs are fun for tomorrow or friday

[03:32:01.0000] <Hixie>
for now i shall sleep

[03:32:02.0000] <Hixie>
if anyoen has input on the new structure, send mail or file a bug, i'll fix the fallout tomorrow

[03:32:03.0000] <annevk>
nn

[03:32:04.0000] <Hixie>
and thanks again everyone for the help :-)

[03:32:05.0000] <Hixie>
nn

[04:25:00.0000] <annevk>
that diff is a mess

[09:17:00.0000] <annevk>
aroben, would delaying script execution be really bad?

[09:17:01.0000] <aroben>
annevk: how do you delay it?

[09:17:02.0000] <annevk>
aroben, similarly to how it's done for layout today?

[09:18:00.0000] <annevk>
several engines at least first compute layout before returning offsetLeft or something for instance

[09:18:01.0000] <aroben>
annevk: in that case you're not waiting for IO, however

[09:20:00.0000] <annevk>
true, don't know whether that matters

[09:24:00.0000] <aroben>
annevk: in general I would think that waiting for a read from disk could take much longer than a layout could

[09:25:00.0000] <annevk>
maybe it should delay but there should also be an event that would be the recommended usage pattern?

[09:26:00.0000] <annevk>
I don't really want sessionStorage / localStorage to become async

[09:43:00.0000] <othermaciej>
annevk, aroben: if you are talking about localStorage, all you have to do is wait for the local storage data (if there is any for that site) to load from disk before you start running the first script

[09:43:01.0000] <othermaciej>
that's the same as waiting for the data for an external script pretty much

[09:43:02.0000] <othermaciej>
not quite the same thing as the offsetLeft case, which is stopping in the middle of script execution

[09:43:03.0000] <othermaciej>
I don't think the API needs to be async, just the implementation

[09:43:04.0000] <aroben>
annevk: if you allow authors to read before the event, then I don't think they'll ever wait for the event

[09:44:00.0000] <aroben>
othermaciej: yeah, waiting to start script execution seems a little better than pausing during script execution

[09:45:00.0000] <othermaciej>
pausing during script execution blocks the UI waiting on I/O, which is bad

[09:46:00.0000] <othermaciej>
and you can also have a master index of which sites have any per-site data, so you'd know up front whether the possible disk read is even needed

[09:50:00.0000] <annevk>
in Opera it wouldn't block the UI

[09:50:01.0000] <annevk>
but I gues that's a problem other browsers have, yes

[10:43:00.0000] <Philip`>
Hmm, does anyone want an IE8 Tech Beta invitation code?

[10:48:00.0000] <smedero>
/me waves

[10:55:00.0000] <Dashiva>
Was the xhtml2 wg this possessive about XHTML 1.0 all along?

[10:55:01.0000] <annevk>
prolly

[10:56:00.0000] <annevk>
I guess Steven made sure that the HTML WG charter didn't mention XHTML

[10:57:00.0000] <Dashiva>
Sucks to be xhtml then

[10:58:00.0000] <om_meet>
I guess the XML serialization of HTML we are mandated to do is somehow at the same time not XHTML

[10:58:01.0000] <om_meet>
/me shrugs

[10:58:02.0000] <Dashiva>
But good news! They're going to remove appendix C from XHTML 1.0 to distance themselves from HTML as much as possible

[10:59:00.0000] <annevk>
It just happens that our XHTML means HTML as XML

[10:59:01.0000] <annevk>
It's not at all the same! :p

[10:59:02.0000] <Dashiva>
That means everyone agrees no xhtml over text/html

[11:00:00.0000] <jcranmer>
will IE 8 accept application/xhtml+xml, then?

[11:01:00.0000] <annevk>
What does this have to do with IE 8?

[11:01:01.0000] <Dashiva>
I don't think MS cares much about xhtml2

[11:04:00.0000] <hober>
I guess nothing ever came of the XHTML2 rebranding effort

[11:06:00.0000] <Dashiva>
They rebranded?

[11:06:01.0000] <annevk>
they're calling themselves the XHTML WG and are working on XHTML 1.x stuff mostly

[11:06:02.0000] <hober>
"Those design choices have led to XHTML 2.0 having an identity distinct from HTML. With the chartering of the XHTML 2 Working Group,

[11:06:03.0000] <annevk>
the original XForms WG asked to be renamed to Forms WG to make it more clear that they were about all Forms, but then they're calling themselves XForms WG everywhere...

[11:06:04.0000] <hober>
W3C will continue its technical work on the language at the same time it considers rebranding the technology to clarify its independence

[11:06:05.0000] <Dashiva>
That could be misunderstood as even xhtml2 wg having given up on xhtml2 ;)

[11:06:06.0000] <hober>
and value in the marketplace." -- http://www.w3.org/2007/03/html-pressrelease

[11:06:07.0000] <Lachy>
apparently they plan on doing an XHTML 1.2

[11:06:08.0000] <annevk>
I'm not sure if there's any logic

[11:07:00.0000] <Dashiva>
annevk: They want to be Forms WG to own forms, but they want to be XForms WG because that makes it clear they hate all other kinds of forms

[11:07:01.0000] <deane>
annevk, xhtml was in the orignal charter, SP and others made timbl remove it though: http://www.w3.org/2006/11/HTML-WG-charter.html#scope

[11:08:00.0000] <deane>
new charter: http://www.w3.org/2007/03/HTML-WG-charter

[11:08:01.0000] <hober>
ugh

[11:09:00.0000] <annevk>
deane, actually, I think browser vendors might have requested that, because we didn't want to work on modularization

[11:10:00.0000] <annevk>
(and I still don't, seems like a waste of time)

[11:11:00.0000] <Philip`>
Monolithicity wins!

[11:11:01.0000] <Lachy>
annevk, that doesn't make sense. XHTML 1.0 wasn't modularised and if the charter didn't mention 1.1, then there would be no reason to assume modularisation

[11:11:02.0000] <hober>
right.

[11:11:03.0000] <annevk>
Lachy, "the series of specifications previously published as XHTML version 1" includes XHTML Modularization afaik

[11:11:04.0000] <hober>
I mean, it's pretty clear by now that XHTML 1.1 : XHTML 1.0 :: XML 1.1 : XML 1.0

[11:12:00.0000] <Lachy>
yeah, they should have rephrased it to say XHTML, but without referring to the whole series of specs

[11:12:01.0000] <annevk>
I can agree with that

[11:12:02.0000] <Philip`>
hober: Does that mean they're going to backport the XHTML 1.1 changes into XHTML 1.0?

[11:12:03.0000] <Lachy>
but, whatever, it says we need an XML serialisation, and that means XHTML anyway

[11:12:04.0000] <annevk>
I'm not sure I agree that XHTML version 1 excludes XHTML 1.1

[11:12:05.0000] <hober>
Philip`: heh.

[11:15:00.0000] <deane>
annevk, what's the deal with the forms WG? I asked if I could join and it took them 3 weeks to get back to me, then I was asked to give "some backgound info" on myself

[11:55:00.0000] <gsnedders>
jgraham__: Bug in your outliner: the header element has a rank equal to 1.

[11:56:00.0000] <om_meet>
does Opera 9.5 support HTML5 <video> and <audio>?

[11:58:00.0000] <hasather_>
om_meet: no

[12:18:00.0000] <mcarter>
Hixie, how goes URLs?

[12:48:00.0000] <annevk>
deane, I think they (Forms and XHTML2 WG) have a stricter policy on allowing individuals to join their WG

[12:50:00.0000] <annevk>
/me likes the WebSocket stuff

[12:51:00.0000] <deane>
annevk, yes, and I think we all know how successful closed groups are

[12:52:00.0000] <mcarter>
annevk, is that in a draft somewhere, or are you referring to the mailing list / irc logs about WebSocket?

[12:52:01.0000] <annevk>
mcarter, just the buzz :)

[12:52:02.0000] <mcarter>
heh

[12:53:00.0000] <annevk>
deane, fortunately for you there are open alternatives :)

[12:53:01.0000] <mcarter>
you can almost feel it just joining the irc channel...

[12:54:00.0000] <Philip`>
We don't keep the riffraff out!

[12:55:00.0000] <hober>
/me drafted a personal reply to the xhtml2 wg email

[12:55:01.0000] <hober>
any comments / suggestions / etc. before I post?

[12:55:02.0000] <hober>
http://edward.oconnor.cx/tmp/xhtml2-reply.txt

[12:56:00.0000] <deane>
Some fool thought that the next version of XHTML was going to be XHTML2: http://digg.com/programming/HTML5_differences_from_HTML4?t=7211519#c7212068

[12:56:01.0000] <deane>
so I corrected him :)

[12:58:00.0000] <Philip`>
/me tries to work out how to make that link show the actual comment

[12:59:00.0000] <deane>
hober: run it past mike first, I was talking to him today about this

[12:59:01.0000] <Philip`>
Hmm, now it's scrolling me back to the top of the screen every few hundred milliseconds

[12:59:02.0000] <Philip`>
Oh, there it goes

[13:02:00.0000] <hober>
deane: I'll wait a day or so; he's in-channel and can comment on it whenever--I read the logs when I'm not present

[14:07:00.0000] <hober>
Reworked that draft email w/ feedback from h3h, who signed as well.

[14:48:00.0000] <Lachy>
hober, that's quite a well written draft.

[14:48:01.0000] <Lachy>
But I have a small issue with it...

[14:48:02.0000] <hober>
/me perks up

[14:49:00.0000] <Lachy>
where you talk about how XHTML2 follows a trajectory from HTML4/XHTML1, it's not really clear to me how they have done that at all.

[14:50:00.0000] <hober>
I struggled with the wording there

[14:50:01.0000] <Lachy>
It seems to me that the XHTML2 group simply discarded the past and started from scratch

[14:50:02.0000] <hober>
Because they clearly believe that they're along such a trajectory

[14:50:03.0000] <hober>
So I tried to describe what such a trajectory might be

[14:50:04.0000] <Lachy>
although, in a sense, it is somewhat inspired by (X)HTML, since it does share a few element names

[14:51:00.0000] <hober>
right

[14:52:00.0000] <hober>
I think rhetorically it's important to acknowledge both groups' stories

[14:52:01.0000] <hober>
whether or not I understand either

[14:52:02.0000] <hober>
Maybe I can dig up a quote from them, and then skip trying to describe it myself.

[14:53:00.0000] <hober>
That sound good?

[14:53:01.0000] <Lachy>
maybe say something about how it doesn't directly build upon XHTML1, it has been inspired by the past

[14:54:00.0000] <Hixie>
hober: the mail from the xhtmlwg is about the "relationship to xhtml1.x" section, not about xhtml2

[14:54:01.0000] <Lachy>
with a goal of building a new foundation

[14:54:02.0000] <Lachy>
ah, yeah. good point.

[14:55:00.0000] <Lachy>
/me wonders how to tell the XHTML2 WG that their work on XHTML 1.x is irrelevant, without offending anyone.

[14:56:00.0000] <Hixie>
i wouldn't bother

[14:56:01.0000] <Hixie>
mike will take care of it

[14:56:02.0000] <Lachy>
ok

[14:56:03.0000] <Hixie>
speaking of which, is MikeSmith around?

[14:57:00.0000] <Lachy>
Hixie, he's probably asleep. It's 05:00 in his timezone

[14:57:01.0000] <Hixie>
that doesn't mean much

[14:57:02.0000] <Dashiva>
Not everyone is you, Hixie :)

[14:58:00.0000] <Hixie>
it doesn't mean much for MikeSmith either as i understand it :-)

[14:58:01.0000] <Dashiva>
I must say, MikeSmith is being really chair-y. I hope he sticks to it

[14:58:02.0000] <Lachy>
yeah, he's been good

[14:58:03.0000] <Dashiva>
Things are happening, things are being done

[14:58:04.0000] <gsnedders>
/me sits on MikeSmith 

[14:59:00.0000] <Dashiva>
(I just noticed the potential cheery pun. Sorry.)

[15:00:00.0000] <gsnedders>
(I just made the obvious, old, joke)

[15:14:00.0000] <Hixie>
annevk: i don't understand http://lists.w3.org/Archives/Public/public-webapps/2008AprJun/0255.html

[16:08:00.0000] <Philip`>
Hixie: I've updated the spec splitter (just removed one id) to work better with the current reorganisation; let me know if I missed any pages and they look stupidly short/long

[16:08:01.0000] <Hixie>
cool, thanks

[16:08:02.0000] <Hixie>
does the new organisation make more sense, do you think?

[16:08:03.0000] <Hixie>
(did you see any obvious mistakes?)

[16:09:00.0000] <mcarter>
Hixie, how would you describe your relationship to HTML5 besides "The editor of the HTML5 specification" ?

[16:09:01.0000] <Hixie>
that's how i would describe my relationship to html5

[16:09:02.0000] <mcarter>
ok, thanks

[16:10:00.0000] <Philip`>
Hixie: No idea - I just looked at the scrollbars, I didn't read the text at all :-)

[16:10:01.0000] <Hixie>
hah

[16:10:02.0000] <Hixie>
fat lot of use you are :-P

[16:12:00.0000] <Philip`>
I could read through the whole spec looking for any parts that lack sense or contain mistakes, and I'll send my feedback some time during 2010

[16:14:00.0000] <Hixie>
that would be awesome

[16:15:00.0000] <Hixie>
though i recommend sending the feedback as you go

[16:15:01.0000] <Hixie>
so that my mail client doesn't crash when you send your 500MB e-mail

[16:15:02.0000] <Philip`>
But then you'll keep changing the spec as I'm reading, and it will take an infinite time before it's stable

[16:16:00.0000] <Hixie>
(2010 is half-way through our last call period)

[16:16:01.0000] <Hixie>
it won't take an infinite time

[16:16:02.0000] <Hixie>
it'll converge on stability

[16:17:00.0000] <Philip`>
1/x converges on zero but takes an infinite amount of time to get there

[16:17:01.0000] <Hixie>
yeah but it doesn't take an infinite amount of time to get to zero plus or minus epsilon

[16:17:02.0000] <Hixie>
and that's my actual target, not zero

[16:18:00.0000] <Hixie>
when the feedback consists only of people suggesting changes to examples, spelling, grammar, etc, we're basically done

[16:19:00.0000] <Hixie>
ok wtf is a URL.

[16:19:01.0000] <Hixie>
it's not a URI, since URIs don't allow non-escaped non-ASCII characters.

[16:19:02.0000] <Philip`>
I suppose epsilon will increase over time, as you get more and more fed up of working on HTML5 and want to just mark it as 'finished' and move onto something else

[16:20:00.0000] <Hixie>
it's definitely not an IRI, since IRIs appear to be UTF-8 only

[16:20:01.0000] <Hixie>
Philip`: probably not, actually.

[16:21:00.0000] <Hixie>
Philip`: but we'll see

[16:21:01.0000] <jcranmer>
Philip`: you can get remarkably resilient

[16:27:00.0000] <Hixie>
you know the web platform has a problem when you can't complete the sentence "The term URL in this specification is used to mean..."

[16:27:01.0000] <jcranmer>
shouldn't it be URI?

[16:27:02.0000] <hober>
heh

[16:27:03.0000] <jcranmer>
I thought URL was deprecated

[16:27:04.0000] <jcranmer>
Hixie: it also means that you have become a language lawyer

[16:28:00.0000] <hober>
"have become"? :)

[16:30:00.0000] <Philip`>
jcranmer: People have thought HTML was deprecated :-)

[16:30:01.0000] <jcranmer>
I meant the term

[16:31:00.0000] <Philip`>
That means fewer people will object if the term gets redefined into meaning something ugly and web-compatible

[16:32:00.0000] <Philip`>
If I'm not wrong, "URI" already has a specific meaning, so it'd be wrong to use that term to refer to something that's not quite the same

[16:34:00.0000] <Lachy>
Philip`, URL already has a specific meaning too. But if I understand correctly, then we're redefining it to be more realistic

[16:37:00.0000] <Hixie>
URI means what RFC3986 says it means, which isn't what I want URL to mean

[16:37:01.0000] <Hixie>
e.g. it doesn't allow non-ascii characters

[16:38:00.0000] <jcranmer>
isn't that idn is supposed to solve?

[16:38:01.0000] <jcranmer>
er, punycode or whatever it is?

[16:40:00.0000] <Hixie>
yes

[16:40:01.0000] <Hixie>
that's RFC3987

[16:40:02.0000] <Hixie>
but it assumes UTF-8

[16:41:00.0000] <Hixie>
which isn't what browsers do either

[16:41:01.0000] <Hixie>
(they use UTF-8 for the path, and the current encoding for the query component)

[16:41:02.0000] <Hixie>
so we can't say URL = URI, and we can't say URL = IRI

[16:41:03.0000] <jcranmer>
isn't this where one should say "screw encodings, everything's UTF8, and if you don't like that, you can have UTF16"

[16:47:00.0000] <Lachy>
Hixie, so what you really need to define is how a URL occuring within a given document maps to a properly encoded URI/IRI, which can then be retrieved.

[16:47:01.0000] <Hixie>
jcranmer: that doesn't really work well with the existing web :-)

[16:47:02.0000] <Lachy>
am I understanding correctly?

[16:47:03.0000] <Hixie>
Lachy: i think you're right

[16:47:04.0000] <Hixie>
i think i need hsivonen

[16:48:00.0000] <Hixie>
specifically, i want to know if he thinks that non-utf-8 escaped octets in a URI, or non-ascii in a query component in a non-utf-8 document, should be non-conforming

[16:50:00.0000] <Lachy>
what do you mean by a non-utf-8 escaped octet?

[16:53:00.0000] <Hixie>
http://example.com/%FF

[16:53:01.0000] <Hixie>
for example

[16:55:00.0000] <Lachy>
re bug 5772, I think rb is trying to make a distinction between the id="" attribute and attributes of type ID. He wants to preserve the meaning of the type ID which requires uniqueness, and redefine id="" so that it isn't of type ID and doesn't require uniqueness

[16:55:01.0000] <Hixie>
wish he'd say so then :-)

[16:56:00.0000] <Lachy>
but it's rather confusing, since HTML5 isn't defined in terms of a schema language

[16:56:01.0000] <Hixie>
aah, you said the word schema! 5 minutes in the corner!

[16:56:02.0000] <Hixie>
oh crap, so did i.

[16:56:03.0000] <Hixie>
/me joins Lachy in the corner.

[16:56:04.0000] <Lachy>
:-D

[16:59:00.0000] <Lachy>
but what he's asking for is a bad idea since it creates problems for getElementById(), which depends on uniqueness for being totally predictable, as the DOM spec leaves behaviour explicitly undefined in the case of duplicates

[16:59:01.0000] <Lachy>
that should, of course, be defined in DOM5 though


2008-06-20
[17:01:00.0000] <Hixie>
"A 

[17:01:01.0000] <Hixie>
er

[17:01:02.0000] <Hixie>
"A URL is a string."

[17:01:03.0000] <Hixie>
there.

[17:02:00.0000] <jcranmer>
"A URL is a non-zero sequence of octets arranged in an unspecified fashion"

[17:02:01.0000] <Hixie>
no, it could be zero-length

[17:02:02.0000] <Hixie>
:-)

[17:02:03.0000] <Hixie>
"" = a URL to the current page

[17:02:04.0000] <jcranmer>
but it can't be 0

[17:03:00.0000] <jcranmer>
I didn't say non-zero length :-)

[17:03:01.0000] <Hixie>
what's a zero sequence of octets then?

[17:03:02.0000] <jcranmer>
uh... a sequence that sums to zero?

[17:03:03.0000] <jcranmer>
/me frantically looks for someone who knows higher math

[17:03:04.0000] <Philip`>
A zero-length sequence sums to zero

[17:04:00.0000] <jcranmer>
well, we all know how many documents are non-conforming these days

[17:04:01.0000] <Philip`>
assuming you define sums in a sensible way

[17:07:00.0000] <Lachy>
Hixie, non-utf-8 escaped octets should be conforming. I don't believe there is a requirement that escaped octets in a path must represent UTF-8 bytes, only that non-ASCII characters must be represented by encoded UTF-8 octets.

[17:08:00.0000] <Hixie>
so a valid URL need not be a valid URI?

[17:09:00.0000] <roc>
I thought it was standardized that the first element in the document with a given ID is "the" element for that ID

[17:09:01.0000] <roc>
if not, it should be. The Web seems to depend on it

[17:09:02.0000] <Hixie>
not officially, but de facto, yeah. things get more exciting when you start changing the DOM though.

[17:09:03.0000] <roc>
hmm

[17:09:04.0000] <Lachy>
Hixie, isn't http://example.org/%FF a valid URI? I thought it was.

[17:10:00.0000] <Hixie>
yes, it is

[17:10:01.0000] <Hixie>
but should it be a valid URL?

[17:10:02.0000] <roc>
we always return the first element from getElementById, and if anyone tells us to do otherwise I will sneeze on them

[17:10:03.0000] <Lachy>
of course. Why shouldn't it be?

[17:10:04.0000] <Hixie>
what's the path?

[17:10:05.0000] <Hixie>
roc: even if someone inserts another element with the same ID before it?

[17:11:00.0000] <roc>
then we return the new element

[17:11:01.0000] <roc>
I mean "first in document order"

[17:12:00.0000] <Lachy>
Hixie, what do you mean? It's %FF (or the octect 0xFF)

[17:12:01.0000] <Hixie>
roc: i thought there was some issue where the order guarantee wasn't preserved in the face of dynamic changes

[17:12:02.0000] <Hixie>
Lachy: right, and what unicode character does %FF represent?

[17:12:03.0000] <Lachy>
why does it need to represent a unicode character?

[17:13:00.0000] <jcranmer>
because it means unescaping is always safe?

[17:13:01.0000] <roc>
maybe there is, but I've been hacking in this area recently and I'm pretty sure we preserve the order guarantee in the face of dynamic changes. We're certainly *trying*

[17:13:02.0000] <Hixie>
roc: ah, cool.

[17:13:03.0000] <Hixie>
roc: then we should fix the spec, indeed.

[17:14:00.0000] <Hixie>
Lachy: i guess it doesn't

[17:14:01.0000] <roc>
it's possible IE stuffs it up of course

[17:14:02.0000] <othermaciej>
I remember a while back Firefox would break the order guarantee in some cases

[17:14:03.0000] <roc>
if we do have bugs I'd rather fix them than preserve something insane

[17:15:00.0000] <Lachy>
I think it used to break it if a new element with a duplicate ID was inserted before an existing one with the same ID, or if one was moved from later in the document to before.

[17:19:00.0000] <roc>
ah OK, https://bugzilla.mozilla.org/show_bug.cgi?id=403868, fixed in November last year so in Firefox 3.

[17:19:01.0000] <roc>
Amazon apparently depends on the correct behaviour so it should be safe to write into the spec :-)

[17:21:00.0000] <Hixie>
we need someone to write Web DOM Core 5

[17:22:00.0000] <Hixie>
i think zcorpan volunteered once

[17:22:01.0000] <Hixie>
but i may be wrong :-)

[17:23:00.0000] <othermaciej>
Gecko has 3 getElementById implementations?

[17:25:00.0000] <roc>
yeah

[17:25:01.0000] <roc>
I've actually fixed that in my tree

[17:25:02.0000] <roc>
blame hyatt, he wrote one of them

[17:26:00.0000] <jcranmer>
and who wrote the others?

[17:26:01.0000] <roc>
dunno

[17:26:02.0000] <gavin>
the other two are html and xhtml 

[17:26:03.0000] <roc>
digging up CVS blame from that long ago is something I only do when I'm in a *really* bad mood

[17:27:00.0000] <othermaciej>
there's one specific to xhtml, not xml?

[17:27:01.0000] <gavin>
no, I should have said XML

[17:27:02.0000] <roc>
actually gavin's not quite wright

[17:27:03.0000] <roc>
there's one for HTML+XHTML, one for XML, and one for XUL

[17:27:04.0000] <othermaciej>
I think hyatt's excuse for adding the xul one was that his request for making the general one do lots of caching was denied

[17:27:05.0000] <othermaciej>
(I vaguely remember him mentioning this once)

[17:27:06.0000] <gavin>
oh, I didn't know XHTML used the html one

[17:28:00.0000] <roc>
othermaciej: yeah, well I'm not defending any of the decisions made back then :-)

[17:29:00.0000] <roc>
but I will grumble that caching or not, nsXULDocument is the ugliest thing I've touched in a while

[17:30:00.0000] <othermaciej>
I will tell hyatt you send your love ;-)

[17:31:00.0000] <jcranmer>
I work in mailnews/... ugly is the norm

[17:31:01.0000] <Hixie>
Philip`: fixed the style xref link issue (apparently bert's script cross-references <em> elements)

[17:33:00.0000] <Philip`>
Hixie: Thanks

[17:33:01.0000] <Hixie>
anyone know how UAs determine which encoding to use when escaping URIs in scripts?

[17:37:00.0000] <Lachy>
I hope it's either UTF-8 or, failing that, the encoding of the script file

[17:38:00.0000] <Lachy>
but then most scripts don't declare their encodings and, IIRC, it inherits from the document anyway.

[17:55:00.0000] <Hixie>
which document?

[17:56:00.0000] <Hixie>
e.g. if i have na iframe showing doc1, and i get a reference to a function in that script, then navigate the iframe to doc2, different encoding, then call the function

[17:56:01.0000] <Hixie>
does it use the parent's encoding, doc1's encoding, or doc2's?

[17:57:00.0000] <Lachy>
I don't know, I was just speculating. Need to test it.

[17:57:01.0000] <Hixie>
yeah

[17:58:00.0000] <Hixie>
i feared that too

[18:02:00.0000] <MikeSmith>
Hixie: back now

[18:02:01.0000] <Hixie>
i sent mail

[18:02:02.0000] <Hixie>
(good morning)

[18:05:00.0000] <MikeSmith>
Hixie: g'morning.. reading now

[18:06:00.0000] <MikeSmith>
thanks

[18:50:00.0000] <Hixie>
what's the character that is represented in the most different ways in commonly supported encodings?

[18:51:00.0000] <jcranmer>
euro sign?

[18:53:00.0000] <Hixie>
actually that's got surprisingly little variation

[19:00:00.0000] <jcranmer>
:-/

[19:03:00.0000] <Hixie>
this can be reduced to a programming problem

[19:03:01.0000] <Hixie>
which is much more fun

[19:03:02.0000] <Hixie>
/me starts coding

[19:05:00.0000] <jcranmer>
writing documentation can be fun... if you're in the mood :-)

[19:11:00.0000] <Hixie>
can't do the docs without the tests

[19:11:01.0000] <Hixie>
and the tests aren't fun :-)

[19:11:02.0000] <jcranmer>
I do docs first and tests second

[19:12:00.0000] <jcranmer>
or, more accurately, I wait for somebody to complain about a regression, and then write the test

[19:13:00.0000] <Hixie>
i need to have the tests in this case to know what to document :-(

[19:14:00.0000] <Hixie>
so much easier to make stuff up

[19:19:00.0000] <Hixie>
U+2116 seems to be the winner

[19:20:00.0000] <jcranmer>
what's that?

[19:22:00.0000] <Hixie>
+2116, U+2235, U+02C7, U+2019, U+00D7, U+201D, U+00F7, U+00A7 actually

[19:22:01.0000] <Hixie>
all have 6 different ways of being encoded in the encodings i was looking at

[19:24:00.0000] <Hixie>
if i only look at single byte encodings, U+0160, U+017E, U+017D, U+0161 win

[19:24:01.0000] <Hixie>
that's better

[19:25:00.0000] <Hixie>
all letters with carrons

[19:25:01.0000] <Hixie>
carons even

[19:27:00.0000] <Hixie>
Codepoint U+017D has 5 different encodings: 0xDE in encodings: ISO-8859-13, Win-1257 0xAC in encodings: ISO-8859-10 0xAE in encodings: ISO-8859-2, ISO-8859-4 0xB4 in encodings: ISO-8859-15, ISO-8859-16 0x8E in encodings: Win-1250, Win-1252

[19:27:01.0000] <jcranmer>
Hixie: but isn't the point of a spec to make up some abstract spot to get implementors to chase towards so that by the time they get there, you write a new one, even harder to implement? That's more or less what CSS did...d

[19:27:02.0000] <jcranmer>
:-)

[19:28:00.0000] <Hixie>
html5 takes spec writing in new directions

[19:31:00.0000] <MikeSmith>
html5 takes a lot of things in new directions

[19:32:00.0000] <MikeSmith>
the Undiscovered Country

[19:33:00.0000] <MikeSmith>
which phrase, interestingly, despite the use of it in a different way for that Star Trek movie, is talking about death

[19:33:01.0000] <Hixie>
hey!

[19:33:02.0000] <MikeSmith>
in Hamlet, where the phrase came from

[19:33:03.0000] <MikeSmith>
Hixie: :)

[19:34:00.0000] <MikeSmith>
sorry, I mean it only in a good way

[19:34:01.0000] <MikeSmith>
I promise

[19:34:02.0000] <MikeSmith>
Rage, rage against the dying of the light!

[19:35:00.0000] <Hixie>
:-)

[19:36:00.0000] <jcranmer>
Wherefore art thou Romeo?

[19:36:01.0000] <jcranmer>
that's about the best I can manage...

[19:54:00.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/uri/encoding/001.html

[20:02:00.0000] <Hixie>
good lord

[20:02:01.0000] <Hixie>
IE8 actually sends ISO-885-13 over the wire

[20:05:00.0000] <othermaciej>
what is ISO-885-13?

[20:05:01.0000] <jcranmer>
8851, I presume?

[20:07:00.0000] <Hixie>
8851, sorry

[20:07:01.0000] <Hixie>
er, 59

[20:07:02.0000] <jcranmer>
er, right

[20:07:03.0000] <Hixie>
but actually if the page is ISO-8859-13, then the path component gets %-encoded as UTF-8 and the query component gets sent as raw Windows-1252

[20:18:00.0000] <Hixie>
oh jesus.

[20:18:01.0000] <Hixie>
so in IE

[20:18:02.0000] <Hixie>
if you set the .src of an iframe

[20:18:03.0000] <Hixie>
to a url that contains a unicode character

[20:18:04.0000] <Hixie>
IE will use the encoding of the document currently loaded in that iframe to encode the chararcter, and then won't escape it

[20:19:00.0000] <Hixie>
as far as i can tell

[20:19:01.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/uri/encoding/001.html

[20:19:02.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/uri/encoding/002.html

[20:24:00.0000] <othermaciej>
that's....

[20:24:01.0000] <othermaciej>
evil

[20:24:02.0000] <othermaciej>
I can see why people would like to pretend that when there are non-ASCII characters, it's an IRI

[20:24:03.0000] <othermaciej>
that would be a lot simpler than reality

[20:25:00.0000] <jcranmer>
/me wonders if Hixie will give up in several months and just start labelling all edge cases as places where the spec is undefined

[20:27:00.0000] <Hixie>
i haven't given up yet, and i've been doing this since 2003 :-)

[20:27:01.0000] <othermaciej>
jcranmer: if he was the type of man to do that, he would have done so long since

[20:31:00.0000] <Hixie>
bbl food

[20:31:01.0000] <jcranmer>
when/if it hits, it hits hard

[20:42:00.0000] <othermaciej>
I do fear that someday he'll find a browser behavior crazy enough to make him say "ok, fuck this, I quit"

[20:42:01.0000] <othermaciej>
but that hasn't happened yet

[23:17:00.0000] <Hixie>
actually it's self-limiting in a pretty neat way

[23:17:01.0000] <Hixie>
if the behaviour is too crazy, i just don't spec it

[23:17:02.0000] <Hixie>
i spec something better instead

[23:53:00.0000] <Hixie>
what's with the microsoft people putting their names in square brackets all the time

[00:36:00.0000] <Dashiva>
It's hip to be square.

[01:15:00.0000] <annevk>
Hixie, if you didn't get that e-mail about access-control then I'm not sure what you meant

[01:16:00.0000] <Hixie>
what was the link again?

[01:16:01.0000] <annevk>
Hixie, you wanted personalized widgets on the server right without having to use HTTP headers?

[01:16:02.0000] <Hixie>
i've sent a lot of mail, i'm not sure of the context here

[01:16:03.0000] <annevk>
Hixie, http://lists.w3.org/Archives/Public/public-webapps/2008AprJun/0255.html

[01:18:00.0000] <Hixie>
right the idea is that the xbl might be returned differently based on cookies

[01:18:01.0000] <Hixie>
but sicking's idea would not send cookies without a flag

[01:18:02.0000] <Hixie>
so i'd have to add a flag to xbl2 for when we want cookies to be sent

[01:19:00.0000] <Hixie>
personally i'm not sure sicking's idea makes a whole lot of sense, as i later mentioned

[01:19:01.0000] <Hixie>
but assuming you do adopt it, then those xbl changes will be made later

[01:20:00.0000] <annevk>
but then on the server side you still need to use HTTP headers

[01:20:01.0000] <annevk>
because otherwise the flag will be ignored by the user agent

[01:21:00.0000] <annevk>
I thought that wasn't acceptable

[01:21:01.0000] <annevk>
if it is, we might as well drop <?access-control?> ...

[01:28:00.0000] <Hixie>
well that's fine

[01:29:00.0000] <Hixie>
doesn't matter what the server side has to do

[01:29:01.0000] <Hixie>
i was just talking about <xbl>

[01:29:02.0000] <Hixie>
er, <?xbl?>

[01:29:03.0000] <annevk>
oh?

[01:29:04.0000] <Hixie>
(and you still need <?access-control?> for the more common no-cookie case anyway)

[01:29:05.0000] <annevk>
I see...

[01:30:00.0000] <annevk>
In that case I did misunderstood you

[01:37:00.0000] <annevk>
wtf

[01:38:00.0000] <annevk>
I pointed out in an e-mail why WebKit requested not throwing an exception  for responseXML and responseText based on site compatibility and IE being inconsistent and they're saying no arguments were made?!

[01:38:01.0000] <annevk>
hah

[01:41:00.0000] <annevk>
"Oops. Adding Anne." :/

[01:41:01.0000] <annevk>
/me is on the list

[01:52:00.0000] <Hixie>
annevk: i recommend just repeating yourself

[01:54:00.0000] <annevk>
yeah, maybe during the weekend

[01:54:01.0000] <annevk>
I should really make this presentation I have to give later today

[02:34:00.0000] <Hixie>
nggh. http://www.hixie.ch/tests/adhoc/uri/encoding/003.html

[02:37:00.0000] <annevk>
"%-escaped ISO-8859-13"

[02:37:01.0000] <annevk>
for query

[02:37:02.0000] <Hixie>
you must be using opera or firefox

[02:38:00.0000] <annevk>
yeah, Opera

[02:39:00.0000] <Hixie>
IE uses -15 (unless you go back/forward, in which case it starts doing even weirder things)

[02:39:01.0000] <Hixie>
safari uses -2

[02:39:02.0000] <Hixie>
iri says to use utf-8

[02:41:00.0000] <Hixie>
oh except IE uses raw octets and everyone else escapes

[02:41:01.0000] <Hixie>
everyone ignores the encoding of the script when doing this

[02:42:00.0000] <Hixie>
that's interesting

[02:42:01.0000] <Hixie>
of course it means now i have to find a way to associate a Document with every script

[02:42:02.0000] <Hixie>
that's exciting

[02:43:00.0000] <annevk>
doesn't the origin of a script arrive at some Document somehow

[02:44:00.0000] <Hixie>
not always

[02:47:00.0000] <Hixie>
bed time

[02:47:01.0000] <Hixie>
nn

[07:58:00.0000] <Philip`>
/me continues to wish he could tell Gmail that anything sent to whatwg⊙wo is not to be considered spam

[08:02:00.0000] <Lachy>
what is it about whatwg emails that get caught?

[08:02:01.0000] <Lachy>
does it do the same for public-html? (I would classify a lot more of those as spam than I would whatwg)

[08:03:00.0000] <Philip`>
Lachy: Don't know what it is, but it caught your latest email

[08:03:01.0000] <Lachy>
great.

[08:03:02.0000] <Philip`>
It only seems to be around one every couple of weeks, and I've not noticed any pattern

[08:04:00.0000] <Lachy>
can you set up a filter or a whitelist or something?

[08:04:01.0000] <Philip`>
I don't remember public-html emails getting marked as spam, but that's mostly because my memory isn't great

[08:05:00.0000] <Philip`>
Hmm, now I can't connect to Gmail at all :-/

[08:08:00.0000] <Philip`>
Ah, back now

[08:09:00.0000] <Philip`>
Lachy: I can set a filter to label/archive/etc WHATWG mails, but that just makes the messages in the spam folder have a WHATWG label - I can't see any way for a filter to affect the spam filtering

[08:20:00.0000] <annevk>
then you search every 30 days for label:whatwg in:spam

[08:20:01.0000] <annevk>
or something like that

[08:21:00.0000] <jcranmer>
looks like gmail needs better "adaptive junk mial controls"

[08:21:01.0000] <jcranmer>
s/ia/ai/

[08:26:00.0000] <Lachy>
Philip`, have you tried contacting google and sending them a bug report about it?

[08:31:00.0000] <annevk>
interesting, WHATWG has now attraced crowd un-aware of what the W3C is doing

[08:31:01.0000] <annevk>
attracted*

[08:34:00.0000] <Lachy>
annevk, who is unaware?

[08:41:00.0000] <annevk>
the people talking about cross-site requests

[08:41:01.0000] <annevk>
and you, apparently :D

[08:44:00.0000] <Lachy>
ah, I hadn't read those mails yet

[09:35:00.0000] <billyjack>
annevk: Frode Børli seems to have quite prolific of late as far as postings to whatwg go

[13:26:00.0000] <mcarter>
Hixie, whats the URI scheme for secure web socket... "wss://" ?

[13:51:00.0000] <Lachy>
mcarter, I thought the web socket proposal just used HTTP URIs

[13:52:00.0000] <Lachy>
in which case, couldn't HTTPS be used for establishing secure connections?

[13:52:01.0000] <mcarter>
Yeah, thats what I had proposed. There had been discussion in here about the potential of using an alternative, such as "ws://"

[13:52:02.0000] <mcarter>
i'm just curious what a secure WebSocket would look like in the context of "ws://" as the URI

[13:54:00.0000] <Lachy>
ah, ok. I had missed that discussion. I'll read the logs about it later

[15:27:00.0000] <Hixie>
wss:// makes sense to me

[16:02:00.0000] <mcarter>
the default port for wss:// would be 443 then, I assume

[16:06:00.0000] <MikeSmith>
annevk: URL for your Reboot session/proposal?

[16:08:00.0000] <Hixie>
yes

[16:08:01.0000] <Hixie>
i suppose so

[16:29:00.0000] <Lachy>
OMG! Rob's resonse on bug 5772 about IDs is ridiculous. I give up.

[16:33:00.0000] <Hixie>
/me sends google's feedback on the geolocation charter

[16:38:00.0000] <hober>
Lachy: yeah, I couldn't make heads or tails of it

[16:40:00.0000] <Hixie>
well he didn't remove the NEEDSINFO

[16:41:00.0000] <Hixie>
so i don't see it on my list!

[16:50:00.0000] <Lachy>
Hixie, his last comment that I was talking about on that bug was the one before yours

[16:51:00.0000] <Hixie>
oh ok

[16:51:01.0000] <Hixie>
my comment was "wtf" right?

[16:51:02.0000] <Lachy>
I'm sure he'll reopen it again later and you'll have the pleasure of reading it then

[16:51:03.0000] <Lachy>
yeah

[16:53:00.0000] <Lachy>
I don't get how allowing duplicate IDs doesn't defeat the purpose of an attribute designed as a unique identifier, or how he can claim that "backwards compatible part is a red herring here" and then point out that it doesn't work at all in existing UAs, in the same sentence.

[16:58:00.0000] <Hixie>
those things don't even seem related enough to be in the same sentence


2008-06-21
[17:02:00.0000] <Hixie>
i'm tired of physhers telling me my google adwords account has been locked

[17:02:01.0000] <Hixie>
hello, i work for google, morons

[17:02:02.0000] <jcranmer>
if they were smart, they wouldn't be phishing

[17:02:03.0000] <jcranmer>
after all, it's against several laws

[17:03:00.0000] <Philip`>
jcranmer: I don't see why it's non-smart to break laws, if the benefit is great enough to outweigh the risks

[17:03:01.0000] <Philip`>
It would be irrational to *not* break the law in those situations

[17:03:02.0000] <jcranmer>
also, most of them have problems with basic grammar

[17:03:03.0000] <jcranmer>
Philip`: if you're perfectly rational, you're closer to a chimp than to a human

[17:05:00.0000] <Philip`>
jcranmer: That seems untrue, since chimps aren't very good at collecting and analysing data in order to make informed decisions

[17:05:01.0000] <jcranmer>
I also recall reading a particular French phishing scam that sounded quite Franglais to my French teacher

[17:05:02.0000] <jcranmer>
Philip`: I'd have to find the article

[17:06:00.0000] <Philip`>
jcranmer: You're not allowed to introduce facts into the argument - that would just be unfair

[17:07:00.0000] <jcranmer>
:-)

[17:07:01.0000] <jcranmer>
well, who said life was fair?

[17:38:00.0000] <Hixie>
hsivonen: see the "also searched for" on http://trends.google.com/websites?q=w3.org&geo=all&date=all

[17:45:00.0000] <Philip`>
http://trends.google.com/websites?q=whatwg.org - why did it die in February?

[17:48:00.0000] <jcranmer>
/me blames himself for half the xpath searches

[17:49:00.0000] <jcranmer>
Philip`: "No Data Available"

[17:51:00.0000] <Philip`>
jcranmer: It doesn't say that in the "all years" mode - it just shows something that looks suspiciously like the ears of a cat peeking over a wall, and misleads the viewer into thinking nobody visited whatwg.org at all :-(

[17:55:00.0000] <jcranmer>
maybe it's supposed to salute Hixie?

[17:55:01.0000] <jcranmer>
I zoomed into the last 30 days, though

[18:26:00.0000] <Hixie>
i expect people don't search for whatwg very much

[18:30:00.0000] <jcranmer>
I still like the idea of deliberately munging the results to vaguely resemble cat's ears

[18:39:00.0000] <Hixie>
wtf. |iframe.src = "foo"| means something different in safari depending on the encoding of the document that contains the iframe

[18:40:00.0000] <Hixie>
regardless of the encoding of the JS file or the document that actually does the setting

[18:50:00.0000] <Hixie>
s/in safari//

[18:52:00.0000] <Hixie>
guess i'll have to do it all over again with a different URI thing. <a href target> or something.

[19:27:00.0000] <mcarter>
good evening

[02:52:00.0000] <zcorpan_>
Hixie: i've started work on dom5 core

[02:52:01.0000] <zcorpan_>
Hixie: but so far i'm mostly collecting what needs to be done

[02:52:02.0000] <zcorpan_>
some notes saved in http://del.icio.us/zcorpan/dom5core

[02:52:03.0000] <zcorpan_>
i wonder if i can drop cdata sections

[03:02:00.0000] <deane>
zcorpan_: I like Lachy's direct approach: http://krijnhoetmer.nl/irc-logs/xhtml/20070413#l-196

[03:06:00.0000] <Lachy>
zcorpan_, do any browsers support cdata nodes? If not, then I would definitely recommend dropping it

[03:13:00.0000] <zcorpan_>
Lachy: they do

[03:13:01.0000] <roc>
you mean [[CDATA syntax?

[03:13:02.0000] <zcorpan_>
roc: no, CDATASection nodes

[03:14:00.0000] <roc>
oh yeah

[03:14:01.0000] <roc>
we support that

[03:15:00.0000] <zcorpan_>
opera does too

[03:17:00.0000] <Lachy>
that's unfortunate. Representing syntactic sugar like CDATA sections in the DOM is just silly.

[03:17:01.0000] <zcorpan_>
a lot of things in the DOM are silly

[03:18:00.0000] <Lachy>
though, I wonder if anyone actually depends on them.

[03:18:01.0000] <zcorpan_>
i hope not :)

[03:18:02.0000] <Lachy>
it could be hard to know, since the DOM is used by more than just browsers.

[03:18:03.0000] <Lachy>
PHP supports it

[03:18:04.0000] <zcorpan_>
well i care less about php

[03:21:00.0000] <Lachy>
yeah, but we can't ignore them entirely. Although we can optimise the spec for browsers.

[03:28:00.0000] <annevk>
we can ignore them

[03:28:01.0000] <annevk>
I think

[07:32:00.0000] <Philip`>
Why do browsers find it so hard to blend one image on top of another, without completely messing everything up? :-(

[07:33:00.0000] <Philip`>
/me discovered that WebKit is totally broken when doing drawImage(canvas, ...), and Opera 9.5 is totally broken for drawImage(canvas|image, ...) on Windows though it works perfectly fine on Linux

[09:03:00.0000] <Dashiva>
Philip`: It could just be lack of people yelling at them for it :)

[12:10:00.0000] <Dashiva>
"There are some very important issues here that should at be aired to the entire WG if they cannot be resolved here."

[12:10:01.0000] <Dashiva>
If they're very important, shouldn't they be aired to the entire WG to begin with?

[16:36:00.0000] <Philip`>
/me notes that commit-watchers⊙wo would be much easier to use if it put the commit message in the email subject line

[16:36:01.0000] <Hixie>
send mail asking for it

[16:36:02.0000] <Hixie>
i make no promises

[16:39:00.0000] <jcranmer>
Philip`: you think so too?

[16:39:01.0000] <MikeSmith>
Philip`: fwiw, messages to public-html-diffs⊙wo do have a truncated version of commit message in the subject line

[16:39:02.0000] <MikeSmith>
http://lists.w3.org/Archives/Public/public-html-diffs/2008Jun/

[16:40:00.0000] <Dashiva>
It's somewhat amusing that Bjoern suggests catering to stone-age mail clients on a list dedicated to creating the future :)

[16:40:01.0000] <MikeSmith>
the body of the message links back to the whatwg HTML5 webapps-tracker

[16:40:02.0000] <MikeSmith>
as well as to other things

[16:44:00.0000] <Philip`>
MikeSmith: Ah, that's close to what I'm wanting

[16:44:01.0000] <Philip`>
But I can't trust anything that's not hosted on whatwg.org ;-)

[16:47:00.0000] <MikeSmith>
/me worries that Philip has seen right through his mind-control experiment

[16:48:00.0000] <MikeSmith>
man, this really has got to be the quote of the day]

[16:48:01.0000] <MikeSmith>
"With the exception of the cross-burning episode. ... I believe John Freshwater is teaching the values of the parents in the Mount Vernon school district."

[16:48:02.0000] <MikeSmith>
http://ap.google.com/article/ALeqM5g1SluWTuZ9ddhhJI06SSqutTwstgD91E38D00

[16:49:00.0000] <Philip`>
I could argue that I want to use commit-watchers instead of public-html-diffs because I want to minimise the number of clicks needed to see the diff

[16:49:01.0000] <Philip`>
so it's better when the diff is directly in the email

[16:51:00.0000] <jgraham>
MikeSmith: Although from the same article... "he was certified only in science, the report said"... nice to know he was sane except in matters of science :)

[16:51:01.0000] <jgraham>
Oh and Philip`'s suggestion sounds very useful

[16:55:00.0000] <Dashiva>
Maybe it was a chemistry experiment

[16:58:00.0000] <Philip`>
Oops, I misread the "Giant reorg to move things ..." commit message as "Giant robot to ..."

[16:59:00.0000] <Philip`>
I do hope science fiction's predictions of giant robots will come true, because they'd be awesome


2008-06-22
[17:14:00.0000] <mcarter>
Philip`, it seems unlikely that they'll look like robots

[17:31:00.0000] <Philip`>
mcarter: Why?

[17:31:01.0000] <Philip`>
The successful ones will be those that are marketed well, and awesome-looking giant robots are much easier to sell than boring metal boxes

[17:32:00.0000] <mcarter>
Philip`, well, we sort of already have giant robots... modern jet airplanes for instance

[17:32:01.0000] <mcarter>
what would you do with a gigantic metal humanoid?

[17:33:00.0000] <Philip`>
I would crush my opponents

[17:33:01.0000] <mcarter>
my opponents are all on the internet

[17:33:02.0000] <Philip`>
Also it would make a nice garden decoration

[17:33:03.0000] <mcarter>
i wouldn't know where to find them to crush them

[17:33:04.0000] <Philip`>
mcarter: You could ask them

[17:33:05.0000] <mcarter>
i giant botnet would far cooler

[17:33:06.0000] <MikeSmith>
Philip`, jgraham : http://lists.w3.org/Archives/Public/public-html-diffs/2008Jun/0162.html

[17:34:00.0000] <Philip`>
or just look them up on Facebook to find their home address

[17:34:01.0000] <MikeSmith>
+1 to giant robots

[17:35:00.0000] <mcarter>
Philip`, i guess you were a big fan of that transformers movie then

[17:35:01.0000] <Philip`>
MikeSmith: Hmm, you are doing a good job at tempting me to switch my diff provider :-(

[17:36:00.0000] <Philip`>
mcarter: Actually I've never seen it (except for trailers)

[17:36:01.0000] <mcarter>
i thought it was pretty stupid, but it did have huge robots.

[17:37:00.0000] <Philip`>
I tend not to watch any movie unless I see it for £5 while I happen to be walking through a DVD store

[17:37:01.0000] <Philip`>
(Sometimes I stretch to £5.99)

[17:38:00.0000] <MikeSmith>
I find trying to read through non-syntax highlighted diffs it plain-text e-mail to be not so great a way of reviewing them

[17:38:01.0000] <MikeSmith>
but I will admit that's the main way I initially read most diffs myself

[17:39:00.0000] <MikeSmith>
I guess it's good enough for doing a first-pass look-through to see if you care to go look at in more detail

[18:34:00.0000] <glynch>
Have you guys any potential video codecs you are currently considering for HTML5?

[18:38:00.0000] <glynch>
Also, pertaining to the <canvas> element, has Apple made any sort of public statement or indication that they will not assert intellectual property rights over the element?

[18:42:00.0000] <Lachy>
glynch, re canvas patents, Apple has agreed to the W3C's patent policy on that issue already.

[18:44:00.0000] <glynch>
Lachy: Cool. Has Microsoft indicated whether it will implement <canvas> that you know of?

[18:44:01.0000] <takkaria>
not afaik, no

[18:44:02.0000] <glynch>
:(

[18:44:03.0000] <Philip`>
glynch: They've indicated they won't implement it for IE8, but haven't said anything else

[18:45:00.0000] <glynch>
Philip`: ty

[18:45:01.0000] <Philip`>
(They tend not to say anything about any feature at all, until releasing software that implements it)

[18:46:00.0000] <glynch>
I see. It would be very nice if they did, but I suppose we'll just have to keep emulating it for the time being

[18:51:00.0000] <Philip`>
And encourage people to use browsers that do support it already

[18:51:01.0000] <glynch>
Yeah. I see Apple doing that.. Nice move dropping IE6 support from it's Mobile Me platform

[18:52:00.0000] <glynch>
It's going to have some good leverage in the mobile market with webkit

[22:26:00.0000] <mcarter>
So I made an example WebSocket implementation, if anyone is interested in testing it out

[00:33:00.0000] <mcarter>
  /join #twisted

[00:33:01.0000] <mcarter>
er, sorry

[10:59:00.0000] <hendry>
dragonfly doesn't seem to grok web forms 2.0 http://dabase.com/wf2/

[11:00:00.0000] <hendry>
repetition templates

[11:23:00.0000] <Philip`>
/me looks at arc() again and gets quite confused, until realising that's because he was testing in Opera which is rubbish and broken

[11:24:00.0000] <Philip`>
so I now continue to believe that the spec does match sensible implementations, so I'm happy

[11:26:00.0000] <annevk>
is your test suite updated?

[11:26:01.0000] <annevk>
if so, QA should probably have another look and file new bugs as appropriate

[11:26:02.0000] <Philip`>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Ccanvas%20id%3Dc%3E%3C%2Fcanvas%3E%0D%0A%3Cscript%3E%0D%0Awindow.onload%3Dfunction()%7B%0D%0Avar%20ctx%3Ddocument.getElementById('c').getContext('2d')%3B%0D%0Actx.arc(100%2C%2050%2C%2030%2C%200%2C%2015%2C%20false)%3B%0D%0Actx.stroke()%3B%0D%0A%7D%0D%0A%3C%2Fscript%3E

[11:26:03.0000] <Philip`>
^ that (in Opera) is not what I'd call an arc

[11:27:00.0000] <Philip`>
annevk: Not yet - that's what I'm working on now

[12:43:00.0000] <annevk>
Philip`, k, cool

[14:38:00.0000] <met_>
/me just found location.search in URL http://www.example.com/? returns blank string in Firefox and question-mark in other browsers.

[14:38:01.0000] <met_>
Assuming it's Firefox bug.

[14:40:00.0000] <gavin>
is there a spec that covers that behavior?

[14:40:01.0000] <met_>
gavin, I've found just this http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#search

[14:41:00.0000] <met_>
there is only general getter for search and there is prefix "?"

[14:42:00.0000] <met_>
IE, Opera, Safari returns "?" just Firefox ""

[14:47:00.0000] <met_>
gavin, cannot find anything in bugzilla, so I'm filling bug

[14:48:00.0000] <Philip`>
/me finally gets the error/warning output from his test-generating script to be less than one screenful

[14:58:00.0000] <met_>
/me jist filled https://bugzilla.mozilla.org/show_bug.cgi?id=441190 about location.search incosistency

[15:07:00.0000] <Philip`>
/me wonders if he should write a test for getImageData().data.XXX5(i)

[15:32:00.0000] <weinig>
Philip`: hey, I say you were noting that Safari had trouble compositing canvases on top of one another using drawImage(canvas...) right?

[15:32:01.0000] <weinig>
Philip`: do you have a test case for it?

[15:33:00.0000] <hendry>
wtf is going on with web forms 2. hasn't webkit landed some recent support? http://groups.google.com/group/webforms2/browse_thread/thread/18116a12b04e69f4 is annoying

[15:39:00.0000] <Lachy>
crap, I wish they didn't stop development of it.

[15:40:00.0000] <Lachy>
If they did implement it, then we'd have two implementations and a very strong case for keeping WF2 instead of creating something new

[15:42:00.0000] <weinig>
we have a Summer of Code applicant working on some Web forms stuff

[15:43:00.0000] <weinig>
Validation is what he is doing right now 

[15:43:01.0000] <Lachy>
cool

[15:43:02.0000] <weinig>
Lachy: we also just added support for autofocus I think

[15:54:00.0000] <Philip`>
weinig: I don't have a standalone test case for it

[15:54:01.0000] <weinig>
Philip`: ok

[15:54:02.0000] <Philip`>
weinig: I do have lots of not-quite-standalone test cases, but I need to make lots of unrelated changes before I'll get around to uploading them all

[15:55:00.0000] <weinig>
/me nods


2008-06-23
[17:08:00.0000] <jcranmer>
what would be the best markup to indicate something of the form "There's a sucker^H^H^H^H^H^H potential customer born every minute?"

[17:13:00.0000] <jcranmer>
I've been using <del>sucker</del><ins>potential customer</ins>, but I'm not convinced that's the best markup

[17:14:00.0000] <webben>
jcranmer: Yep, it's a thorny one.

[17:15:00.0000] <jcranmer>
I originally used <s>, but stopped when I discovered that said element was deprecated in HTML 4.01

[17:25:00.0000] <jcranmer>
/me is cleaning out his WHATWG folder and notes how the cvs commit emails tend to bunch up as time passes

[17:44:00.0000] <jcranmer>
/me notes that Hixie is technically violating RFC 2822 in his messages

[17:45:00.0000] <jcranmer>
he only has In-Reply-To set to the last parent, and uses References to denote all parents

[17:46:00.0000] <jcranmer>
but the spec quite clearly states that, in the case of multiple parents, In-Reply-To should be set to the Message-IDs of all parents that have them and the References field should not be used

[17:48:00.0000] <jcranmer>
Hixie: ^ (although I suspect you don't care)

[17:55:00.0000] <Philip`>
Normally his mail client fails to set References to more than about three of the emails that are being referenced, which totally breaks the referencing mechanism anyway :-)

[17:57:00.0000] <jcranmer>
file a bug report with Pine :-)

[18:08:00.0000] <asidwell>
is there any order or reason for the treebuilder steps intermingling end tag tokens and start tag tokens?

[18:19:00.0000] <asidwell>
it makes it much harder to implement

[18:30:00.0000] <Philip`>
asidwell: As far as I'm aware, there is no reason (except historical or organisational) - the token-matching cases are all be independent (except for the "anything else" ones at the end)

[18:31:00.0000] <Philip`>
Oops, too late

[18:31:01.0000] <takkaria>
nah

[18:31:02.0000] <takkaria>
it's me :)

[18:31:03.0000] <Philip`>
/me wishes his wireless network didn't keep cutting out every five seconds

[18:31:04.0000] <Philip`>
takkaria: Ah, confusing :-)

[18:32:00.0000] <takkaria>
when I say it makes it harder to implement, I just mean that it's much easier to make sure my code's doing the right thing because I have to scan through it once for start tag tokens, and again for end tag tokens

[18:32:01.0000] <jcranmer>
Philip`: I presume you've ssh'd to a screen session on another session?

[18:32:02.0000] <jcranmer>
s/session\?/server?/

[18:32:03.0000] <takkaria>
if they were grouped together, then it would be one scan and I wouldn't accidentally miss anything

[18:35:00.0000] <Philip`>
jcranmer: I have

[18:35:01.0000] <jcranmer>
only way you could be on a weak wireless network and not lose connectivity in IRC

[18:36:00.0000] <Philip`>
Not necessarily, since I don't lose the SSH connection while the wireless is being dodgy - it just hangs for a while, then recovers once it's got reconnected

[18:37:00.0000] <Philip`>
(But it's the only way I could not lose connectivity while my computer is turned off while I'm sleeping or travelling)

[18:37:01.0000] <jcranmer>
/me uses ssh+screen

[18:38:00.0000] <jcranmer>
and so do most of the people here, I presume

[18:39:00.0000] <Philip`>
takkaria: If start/end tags were grouped together, that would mean it would no longer group e.g. all table tags together, which would make the spec a bit harder to read and understand

[18:40:00.0000] <Philip`>
I just parse the spec with regular expressions so I can programmatically reorder it to however I want, which is only a slightly stupid way to do it

[18:40:01.0000] <takkaria>
hmmm

[20:28:00.0000] <takkaria>
Hixie: ping.  you still have the text "Still need to add these new elements to the lists: event-source, section, nav, article, aside, header, footer, datagrid, command" in the spec despite it no longer being true

[20:52:00.0000] <Hixie>
d'oh

[20:52:01.0000] <Hixie>
is it just a comment?

[20:52:02.0000] <Hixie>
or a red box?

[21:02:00.0000] <takkaria>
red box

[21:02:01.0000] <takkaria>
how's URI work going? :)

[22:44:00.0000] <Hixie>
takkaria: painfully

[22:44:01.0000] <Hixie>
takkaria: if you want me to get rid of the red box, send mail :-)

[23:36:00.0000] <mcarter>
Hixie, I've got a basic version of the WebSocket emulation working in all the browsers, and I'm getting ready to make a release and put up a article/blog post about it

[23:36:01.0000] <mcarter>
Hixie, whenever you get a chance, I have a few simple questions for you that i wanted to publish with the post

[03:30:00.0000] <hsivonen_>
Philip`: I have gradientunits in my camelCase table

[03:31:00.0000] <hsivonen_>
Did you notice problems with other attributes not getting the proper camelCase?

[03:33:00.0000] <Philip`>
hsivonen_: gradientunits was the only one I noticed (though that could be because that's the only one that was used in any content)

[03:36:00.0000] <hsivonen_>
Philip`: OK. I'll investigate.

[03:36:01.0000] <Philip`>
(I don't know if this was a problem in the parser or the serialiser)

[03:38:00.0000] <hsivonen_>
although I like to blame stuff on the serializer, I think this one is more likely in the parser

[03:38:01.0000] <hsivonen_>
I should write my own XML serializer.

[03:44:00.0000] <MikeSmith>
"Anne ist immer noch Gott."

[03:44:01.0000] <annevk>
Gott?

[03:47:00.0000] <Philip`>
Anne is still a goat?

[03:48:00.0000] <annevk>
http://translate.google.com/translate_t?sl=de&tl=en

[03:48:01.0000] <gDashiva>
Philip`: Probably meant goth :P

[03:50:00.0000] <Philip`>
Hmm, they made Google Translate all ugly and Ajaxy

[03:50:01.0000] <Philip`>
What's wrong with using <select> when you want a drop-down list?

[03:51:00.0000] <zcorpan_>
Philip`: <select> would work in opera mini, the ajaxy stuff doesn't

[03:54:00.0000] <annevk>
http://translate.google.com/translate_t?sl=de&tl=en&q=gott is what I was looking for

[04:03:00.0000] <annevk>
/me wouldn't classify himself as goth, goat, or God

[04:04:00.0000] <Philip`>
Sounds like denial

[04:04:01.0000] <gDashiva>
The divine goth goat graces us with his presence

[04:04:02.0000] <hsivonen_>
I'm very close to writing my own XML serializer and throwing out the Xalan one

[04:11:00.0000] <MikeSmith>
annevk: I thought it meant "Anne is him not good."

[05:58:00.0000] <Philip`>
It takes longer to learn to write PDF by hand than HTML :-(

[06:37:00.0000] <hsivonen_>
weird. I ended up fixing the gradientUnits bug, but I didn't notice when exactly I fixed it.

[06:37:01.0000] <hsivonen_>
troubling

[06:37:02.0000] <hsivonen_>
hmm.

[06:37:03.0000] <hsivonen_>
now I know

[06:37:04.0000] <hsivonen_>
I had localNames camelCased but qNames not

[08:27:00.0000] <hsivonen_>
we need tokenizer test coverage for character data after a tag that has had bogus entities in attributes

[08:28:00.0000] <Philip`>
By "we" do you mean "you"? ;-)

[08:28:01.0000] <hsivonen_>
Philip`: by "we" I mean I need it but we who write html5lib tests should have it

[08:30:00.0000] <Philip`>
((Hmm, I was ambiguous - by "you" I meant you, i.e. "I" from your perspective, not me/us i.e. "you" from your perspective. Pronouns are hard :-( ))

[08:30:01.0000] <Philip`>
hsivonen_: Sounds reasonable to me :-)

[08:30:02.0000] <hsivonen_>
what's the purpose of ruby/testdata/ ?

[08:31:00.0000] <Philip`>
Ooh, I didn't notice the viewbox/viewBox thing

[08:31:01.0000] <hsivonen_>
does the ruby port have divergent tests?

[08:31:02.0000] <Philip`>
It's exactly the same files, pulled in via svn:externals

[08:31:03.0000] <hsivonen_>
ok

[08:32:00.0000] <Philip`>
$ svn propget svn:externals ruby/

[08:32:01.0000] <Philip`>
testdata http://html5lib.googlecode.com/svn/trunk/testdata/

[08:32:02.0000] <Philip`>
I don't know why it's done like that

[08:34:00.0000] <Philip`>
Hmm, Opera 9.5 renders http://upload.wikimedia.org/wikipedia/en/b/b5/Lindos5.svg as SVG

[08:35:00.0000] <hsivonen_>
I guess Opera has given up on XML correctness in order to be compatible with the Adobe plug-in

[08:35:01.0000] <hsivonen_>
yay for XML

[08:36:00.0000] <Philip`>
I thought that was a problem in 9.2 but fixed in 9.5

[08:37:00.0000] <Philip`>
Ah - 9.2 triggers SVG rendering on <svg>, but 9.5 requires either <!DOCTYPE whatever><svg> or <svg xmlns="whatever">

[08:37:01.0000] <hsivonen_>
Philip`: what behavior was a "problem"? being compatible with Adobe or being XML-wise correct?

[08:38:00.0000] <hsivonen_>
Philip`: is doctype whatever really whatever or a magic SVG doctype?

[08:38:01.0000] <Philip`>
hsivonen_: Being compatible with content with <svg> (no doctype and no xmlns)

[08:38:02.0000] <Philip`>
hsivonen_: It's not really "whatever", that's just a placeholder for some string whose constraints I am unaware of

[08:38:03.0000] <hsivonen_>
ok

[08:42:00.0000] <Philip`>
Looks like it requires the doctype to either have -//W3C//DTD SVG 1.(0|1|1 Tiny|1 Basic)//EN, or else http://www.w3.org/TR/SVG10/DTD/svg10.dtd or http://www.w3.org/Graphics/SVG/1.1/DTD/svg11(|-flat|-basic|-tiny).dtd

[08:42:01.0000] <hsivonen_>
"input":"<!doctype! ??"

[08:42:02.0000] <hsivonen_>
test cases say 3 errors

[08:42:03.0000] <hsivonen_>
my code says 2

[08:43:00.0000] <Philip`>
Has the spec changed about that recently?

[08:43:01.0000] <hsivonen_>
Philip`: is it testable if it really parses a DTD or fakes some data structures selectively

[08:43:02.0000] <hsivonen_>
Philip`: I'm pretty sure Hixie changes EOF errors

[08:44:00.0000] <Philip`>
hsivonen_: I was assuming it doesn't parse a DTD, and just matches against hardcoded strings

[08:44:01.0000] <Philip`>
since those DTD strings are the hardcoded ones I extracted from the binary

[08:45:00.0000] <Philip`>
(and they seem to work in practice, and other strings don't seem to)

[08:45:01.0000] <hsivonen_>
"input":"<!doctype!?",

[08:45:02.0000] <hsivonen_>
test cases say two errors

[08:47:00.0000] <Philip`>
The second "!" is "anything else" in "doctype state", which errors into "before doctype name state", which goes into "doctype name state", then EOF errors into "data state"

[08:47:01.0000] <Philip`>
(hence two errors)

[08:47:02.0000] <Philip`>
Is that not what you get?

[08:48:00.0000] <Philip`>
"<!doctype! ??" is about the same, plus a third error because "??" is not "public" or "system"

[08:48:01.0000] <hsivonen_>
I don't see EOF erroring anymore

[08:48:02.0000] <hsivonen_>
hence, two errors

[08:49:00.0000] <hsivonen_>
oops. sorry I was talking about the wrong case

[10:15:00.0000] <hsivonen_>
allowing <option> and <optgroup> in 'in body' invalidated a bunch of test cases :-(

[11:27:00.0000] <hsivonen_>
/me wonders what happens to document.write from setTimeout

[11:30:00.0000] <hsivonen_>
If I'm in a JavaScript function, is there a cross-browser way to tell if the function is being called from an inline script or from an external script? 

[11:31:00.0000] <hsivonen_>
I recall something about throwing an exception, catching it and examining where it was thrown

[11:43:00.0000] <virtuelv>
hsivonen_: I don't think there is any really reliable way

[11:44:00.0000] <hsivonen_>
virtuelv: OK. thanks

[11:44:01.0000] <hsivonen_>
It's really hard to emulate all aspects of document.write in JavaScript, then

[11:50:00.0000] <smedero>
Philip: Are there any notes about this tool? http://philip.html5.org/tools/parser/  specifically, what is old, unfinished, and broken about it :)

[11:53:00.0000] <Philip`>
smedero: The notes/documentation are one part that is entirely unfinished ;-)

[11:53:01.0000] <Philip`>
It's old because it's based on the spec from some months ago, before e.g. the MathML/SVG changes (and probably lots of other minor changes)

[11:54:00.0000] <Philip`>
It's unfinished because there are various things I haven't got around to implementing, like (if I remember correctly) all the adoption agency details

[11:55:00.0000] <Philip`>
It's broken because it's doesn't understand things like CDATA/RCDATA (since the tree constructor doesn't link back to the tokeniser to tell it about <title> and <script> etc changing the mode)

[11:55:01.0000] <Philip`>
s/it's/it/

[11:56:00.0000] <Philip`>
though that could be considered just an aspect of being unfinished

[11:56:01.0000] <Philip`>
It's also pretty much entirely untested

[11:57:00.0000] <smedero>
Ok, that helps!

[11:59:00.0000] <Philip`>
That should all be fixable without too much pain - it would just require time (and prioritisation)

[12:01:00.0000] <Philip`>
(and it's probably not a high priority if hsivonen_ is going to port his Java parser to JavaScript)

[12:01:01.0000] <hsivonen_>
Philip`: I'm working on it right now, actually :-)

[12:02:00.0000] <hsivonen_>
I want an environment where I can test document.write

[12:02:01.0000] <hsivonen_>
the GWT Hosted Mode seems to fit the bill

[12:02:02.0000] <hsivonen_>
when Google fixes the compiler, the JavaScript port is right there

[12:05:00.0000] <Philip`>
Does "when" mean "if"?

[12:05:01.0000] <hsivonen>
Philip`: yes

[12:06:00.0000] <Philip`>
Is there any way to work around the problem if the compiler isn't fixed?

[12:09:00.0000] <hsivonen>
Philip`: use compiler techniques to automatically rewrite the Java code not to use constructs that GWT can't compile right :-)

[12:09:01.0000] <hsivonen>
s/use/using/

[12:12:00.0000] <Philip`>
hsivonen: Does "munge it with Perl" count as a compiler technique? :-)

[12:12:01.0000] <hsivonen>
w00t! I have Hixie's Live DOM Viewer running an HTML5 parser and rendering using a browser engine

[12:14:00.0000] <hsivonen>
Philip`: It doesn't. I'm not sure if the problem is of the Perl mungable sort.

[12:14:01.0000] <hsivonen>
/me gets food

[12:34:00.0000] <hsivonen>
hmm. perhaps looplabel: for(;;) { ... default: break looplabel;} could be perl munged to looplabel: while(looplabelCond) { ... default: looplabelCond = false; }

[12:35:00.0000] <Philip`>
hsivonen: Can't it just say "break;" instead of "break looplabel;"?

[12:36:00.0000] <hsivonen>
Philip`: it can't. default: break; would only break out of the switch

[12:37:00.0000] <Philip`>
hsivonen: Ah, I didn't see the switch since it was invisible ;-)

[12:37:01.0000] <hsivonen>
implied by 'default' :-)

[12:43:00.0000] <Philip`>
In the worst case, you could just annotate the code like "looplabel: for (;;) //#break-loop" so it's easily transformed into a JS-compilable less-micro-optimised version

[13:12:00.0000] <hsivonen>
/me has inline document.write and scripts working in GWT

[13:12:01.0000] <hsivonen>
(hosted mode)

[13:14:00.0000] <hsivonen>
sadly, SVG sucks in the copy of WebKit embedded in GWT

[13:14:01.0000] <hsivonen>
I guess I should try to install a Gecko-based version of GWT under Ubuntu

[13:22:00.0000] <hsivonen>
what browser engine does GWT use on Windows?

[14:02:00.0000] <hsivonen>
the Gecko version GWT uses on Linux is really old

[15:05:00.0000] <jgraham__>
gsnedders: I think I fixed the outliner bug that you reported a few days ago (the "few days ago" applies to both the report and the fix)

[15:05:01.0000] <gsnedders>
jgraham__: which bug?

[15:06:00.0000] <jgraham__>
<header> not working correctly

[15:06:01.0000] <gsnedders>
jgraham__: ah

[15:06:02.0000] <gsnedders>
jgraham__: well, if you update http://james.html5.org/temp/outline/outline.py then I could look :)

[15:07:00.0000] <jgraham__>
Oh, you want the code too :)

[15:07:01.0000] <jgraham__>
/me should finish setting up hg on james.html5.org

[15:09:00.0000] <jgraham__>
gsnedders: Done

[15:10:00.0000] <gsnedders>
jgraham__: why is textContent() so complex?

[15:11:00.0000] <Philip`>
/me has learnt never to call a directory "temp", because it will always contain files that he could never risk deleting and so they will all stay there permanently

[15:11:01.0000] <Philip`>
(so I call the directories "misc" instead)

[15:11:02.0000] <gsnedders>
/me just uses stuff.gsnedders.com

[15:11:03.0000] <jgraham__>
gsnedders: Because the text equivalent of a <header> should be the text of the highest ranked <h1-6> child

[15:11:04.0000] <gsnedders>
(that actually includes some folders that are hidden from the index on HTTP)

[15:11:05.0000] <gsnedders>
jgraham__: ah

[15:12:00.0000] <gsnedders>
jgraham__: Mine doesn't do that.

[15:12:01.0000] <Philip`>
gsnedders: That doesn't solve the problem when you're using local filesystems rather than URLs

[15:12:02.0000] <jgraham__>
"For the purposes of document summaries, outlines, and the like, header elements are equivalent to the highest ranked h1–h6 element descendant of the header element (the first such element if there are multiple elements with that rank). "

[15:12:03.0000] <gsnedders>
jgraham__: Yeah, I see

[15:12:04.0000] <gsnedders>
Philip`: I just create a new folder for everything, thereby avoiding the need for "misc"

[15:13:00.0000] <Philip`>
gsnedders: I can never think of enough folder names

[15:13:01.0000] <Philip`>
so I have ~/misc, ~/download/misc, ~/html/misc, ...

[15:13:02.0000] <gsnedders>
jgraham__: Would it not just be simpler to just iter(tag=etree.Element)?

[15:14:00.0000] <jgraham__>
gsnedders: ?

[15:14:01.0000] <gsnedders>
Hixie: If header is equiv. to the highest rank h1–h6 descendant, surely it doesn't need to have a rank of its own?

[15:14:02.0000] <jgraham__>
(The answer is "probably, I seemed determined to do something crazy"

[15:14:03.0000] <jgraham__>
)

[15:15:00.0000] <Hixie>
gsnedders: ?

[15:15:01.0000] <gsnedders>
Hixie: "For the purposes of document summaries, outlines, and the like, header elements are equivalent to the highest ranked h1–h6 element descendant of the header element (the first such element if there are multiple elements with that rank)."

[15:15:02.0000] <jgraham__>
Hixie: A <header><h3></header> would have rank=3 not rank =1

[15:15:03.0000] <gsnedders>
Hixie: So do we treat a header element as if it was just the h1–h6 element, thereby the header element doesn't exist?

[15:15:04.0000] <Hixie>
the sentence gsnedders quoted is misleading

[15:16:00.0000] <gsnedders>
Hixie: Well, go write it better!

[15:16:01.0000] <Hixie>
i just meant that the header element's highest ranked hn element's text is the text that should be used

[15:16:02.0000] <jgraham__>
Yeah, I realised that but I'm not sure if it makes the most sense or not

[15:16:03.0000] <jgraham__>
I guess it does

[15:17:00.0000] <gsnedders>
jgraham__: just element.find("h1") all the way down to h6, and return the first non-null one

[15:17:01.0000] <gsnedders>
Hixie: It also doesn't say what to do if there isn't an h1–h6 descendant

[15:18:00.0000] <Hixie>
someone send mail or file a bug so i know to fix it :-)

[15:18:01.0000] <hsivonen>
I'm a bit disappointed.

[15:18:02.0000] <hsivonen>
the rendered view

[15:18:03.0000] <hsivonen>
does not work

[15:18:04.0000] <hsivonen>
in GWT hosted mode on Linux

[15:19:00.0000] <hsivonen>
Is the Live DOM Viewer supposed to work in Mozilla 1.7?

[15:19:01.0000] <gsnedders>
peh! Hixie: you should write better specs in the first place!

[15:20:00.0000] <Hixie>
agreed

[15:20:01.0000] <jgraham__>
gsnedders: Yeah I could have done that I guess.

[15:20:02.0000] <jgraham__>
For some reason I didn't want to :)

[15:20:03.0000] <hsivonen>
hmm. Log tells me uncaught exception: null on line 0

[15:24:00.0000] <gsnedders>
Hixie: mail sent

[15:25:00.0000] <Hixie>
thanks

[15:32:00.0000] <hsivonen>
did XHTML nodes inserted into an HTML doc render in Mozilla 1.7?

[15:33:00.0000] <jgraham__>
gsnedders: Changed, although iirc the original goal I had was to only perform a single walk of the subtree but not write all the iterator code myself

[15:33:01.0000] <hsivonen>
did Mozilla 1.7 break if the root element was removed from the document?

[15:33:02.0000] <Philip`>
/me decides that testing Object.prototype.toString.call(p) === '[object CanvasPattern]' is a really stupid thing to do

[15:34:00.0000] <hsivonen>
/me wishes GWT used newer versions of Gecko and WebKit

[15:55:00.0000] <Philip`>
http://www.bbc.co.uk/blogs/radiolabs/2008/06/removing_microformats_from_bbc.shtml - someone should suggest they look at HTML5 and <time> instead of looking at RDFa :-)

[15:57:00.0000] <hober>
Philip`: indeed. <time> is just as invalid HTML 4 as RDFa, and has a much greater chance of being adopted by mainstream browsers.

[16:07:00.0000] <gsnedders>
jgraham__: Well, it wouldn't do that with the existing xpath code anyway

[16:07:01.0000] <Philip`>
Hmm, I'm 9 lines short of 10,000 in my canvas test cases

[16:07:02.0000] <Philip`>
Can anyone suggest one short test case to add? :-)

[16:07:03.0000] <takkaria>
SMIL+canvas if you're running out of ideas

[16:08:00.0000] <jgraham__>
gsnedders: Hmm.

[16:09:00.0000] <Philip`>
takkaria: I don't think that quite exists yet, and I don't think I particularly want to encourage it :-p

[16:09:01.0000] <takkaria>
hey, it worked for Acid3 ^_^

[16:11:00.0000] <Philip`>
/me makes some editorial changes

[16:12:00.0000] <jgraham__>
gsnedders: Is it actually guaranteed to walk multiple times? I guess I was assuming it would perform a single walk and try to match each expression, but I didn't think about it very carefully or read the spec or anything

[16:12:01.0000] <Philip`>
9998 lines

[16:12:02.0000] <gsnedders>
jgraham__: No, it isn't. But AFAIK more or less every implementation does.

[16:12:03.0000] <Philip`>
/me adds a couple of blank lines for no good reason

[16:12:04.0000] <Philip`>
10,000! Hooray

[16:13:00.0000] <jgraham__>
gsnedders: Well in that case I claim that my implementation was fine and that xpath people need to optimise their code more ;)

[16:13:01.0000] <gsnedders>
jgraham__: That's hard :)

[16:14:00.0000] <jgraham__>
So, they're cleverer than me! That's why they're writing the low level library and I'm writing the crappy micro-application on top

[16:14:01.0000] <gsnedders>
jgraham__: Me? Cleverer than you? :)

[16:14:02.0000] <jgraham__>
You've written an xpath implementation?

[16:14:03.0000] <gsnedders>
jgraham__: Well, hacked at one

[16:15:00.0000] <gsnedders>
jgraham__: I don't think my patches are actually publicly available anywhere

[16:15:01.0000] <jgraham__>
Which one?

[16:15:02.0000] <gsnedders>
jgraham__: Mainly 'cos the lead dev more or less vanished due to time constraints

[16:15:03.0000] <gsnedders>
http://sourceforge.net/projects/webpath/

[16:16:00.0000] <Philip`>
I like how the C++ STL provides abstraction in a way that doesn't hide all the performance characteristics

[16:17:00.0000] <Philip`>
but that seems pretty rare, and most libraries seem to not provide any information about what's going to give good/bad performance :-(

[16:19:00.0000] <jgraham__>
gsnedders: FWIW I think it is very likely that you are better are programming-type things than I am

[16:20:00.0000] <gsnedders>
jgraham__: I wouldn't say so — any difference between us is marginal, I'd say

[16:44:00.0000] <Philip`>
Argh

[16:44:01.0000] <Philip`>
Doesn't WebKit have getImageData? :-(

[16:44:02.0000] <Philip`>
(particularly r34578 on Windows)

[16:44:03.0000] <Hixie>
some versions of webkit certainly have getImageData() support

[16:45:00.0000] <Hixie>
i need hsivonen 

[16:45:01.0000] <Philip`>
I'd like some don't-crash-when-loading-the-default-home-page support too

[16:46:00.0000] <Philip`>
Argh again

[16:47:00.0000] <othermaciej_>
WebKit trunk has it afaik

[16:48:00.0000] <Philip`>
othermaciej: I'm using a (Windows) nightly that claims to be a week old but can't find any traces of its existence :-/

[16:49:00.0000] <Philip`>
Argh yet again - the 3.1 release doesn't crash but it hangs forever on one of my tests cases

[16:49:01.0000] <othermaciej>
Philip`: olliej on #webkit might be able to help you

[16:50:00.0000] <othermaciej>
we'd also be glad to look at any hangs you've got

[16:50:01.0000] <Philip`>
Just got to work out which of these 175 test cases it is...

[16:52:00.0000] <Philip`>
Hmm, Beziers

[16:54:00.0000] <Philip`>
Hmm, non-finite Beziers

[16:57:00.0000] <Hixie>
interesting

[16:57:01.0000] <Hixie>
but logical

[16:57:02.0000] <Hixie>
hmm......

[16:58:00.0000] <Hixie>
/me ponders the ins and outs of url behaviour shown by http://www.hixie.ch/tests/adhoc/uri/encoding/

[16:58:01.0000] <Hixie>
i clearly need to do tests that use location.href...


2008-06-24
[17:18:00.0000] <Philip`>
Preliminary canvas test results: Opera 9.5 scores 75.4%, Firefox 3.0 scores 67.4%, Safari 3.1 scores 76.5%

[17:19:00.0000] <Philip`>
s/Safari 3.1/WebKit nightly (on OS X where it doesn't crash like on Windows)/

[17:21:00.0000] <othermaciej>
Philip`: where's the test suite again?

[17:21:01.0000] <othermaciej>
there's gotta be some low hanging fruit in those compliance bugs

[17:21:02.0000] <othermaciej>
especially since I think we've got most of the missing features covered

[17:22:00.0000] <Philip`>
othermaciej: It's currently on 192.168.2.10

[17:23:00.0000] <othermaciej>
Philip`: well that I probably can't run :-)

[17:23:01.0000] <othermaciej>
I'm surprised the WebKit nightly isn't higher, because I vaguely recall we were close to the other browsers even when we were missing get/putImageData  and getDataURL and such entirely

[17:25:00.0000] <Philip`>
othermaciej: There's at least one trivial fix that could make about two dozen test cases pass

[17:25:01.0000] <Philip`>
(on setting fillStyle = 'something invalid')

[17:26:00.0000] <othermaciej>
Philip`: what do we do that's wrong in that case?

[17:27:00.0000] <othermaciej>
I'd actually love to have these tests folded into our regression test suite

[17:27:01.0000] <othermaciej>
maybe I can get someone enthusiastic about doing that

[17:28:00.0000] <Philip`>
othermaciej: It seems to set to rgba(0,0,0,0) instead of ignoring the set

[17:28:01.0000] <Hixie>
/me 's mind explodes as he tries to deal with test cases that involve five distinct character encodings

[17:28:02.0000] <Hixie>
http://hixie.ch/tests/adhoc/uri/encoding/016.html

[17:28:03.0000] <gavin_>
phillip`: how big the delta is between your current test suite and the tests that were landed for mozilla earlier?

[17:29:00.0000] <Philip`>
othermaciej: I've already got lots of these in Mozilla's regression test suite, just by modifying the test-file-generation script to generate stuff in the expected format, which is reasonably straightforward (except my code is nasty and duplicative)

[17:30:00.0000] <Philip`>
(I did that for Mozilla since it seemed to be in more dire need of regression tests than WebKit ;-) )

[17:31:00.0000] <othermaciej>
Philip`: for our regression tests, just about any format should do as long as you can tell failure from either a plaintext dump or from the structure of the render tree

[17:31:01.0000] <Philip`>
gavin_: There was already a big delta between my test suite at the time of generating the Mozilla tests, and the Mozilla tests

[17:32:00.0000] <othermaciej>
I think the way your tests work, it should be possible to do the check based on text along, at least if getImageData is there so there's no need to check purely visually

[17:32:01.0000] <Hixie>
hm, i wonder what xhr says about dealing with non-ascii characters in urls tin its arguments

[17:32:02.0000] <othermaciej>
*on text alone

[17:32:03.0000] <Philip`>
since I skipped all the ones (about a quarter?) that didn't pass in Firefox on Linux and couldn't easily be marked as 'todo'

[17:33:00.0000] <Philip`>
Between the test suite at that time, and the test suite now, I've forgotten how many changes I've made but it's probably quite a few :-)

[17:33:01.0000] <Hixie>
/me now needs annevk and hsivonen

[17:33:02.0000] <othermaciej>
Philip`: if we can get the test suite in the tree, even the failing ones, I bet many of the remaining tests would get fixed pretty quick

[17:34:00.0000] <Philip`>
othermaciej: There's about five or ten that require visual checking, but the rest can all work just with getImageData

[17:35:00.0000] <Philip`>
I expect a number of the tests are buggy, and many are unreasonably pedantic, so I would be surprised if anyone ever did pass them all :-)

[17:35:01.0000] <othermaciej>
I would definitely want either the tests or our implementation fixed in all such cases

[17:36:00.0000] <Philip`>
othermaciej: I probably won't have time tonight to try anything like that, but I'll see if I don't feel too lazy/bored tomorrow

[17:36:01.0000] <Philip`>
/me is currently just waiting for the 10.5.3 update to install, which is taking approximately forever

[17:37:00.0000] <roc>
10.5.3 is evil, I'm holding out for 10.5.4

[17:38:00.0000] <Philip`>
roc: Hmm, the "Stop" button is greyed out so I guess it's too late for me to be saved :-(

[17:38:01.0000] <roc>
does ebutler know about your test suite update?

[17:38:02.0000] <roc>
are you announcing it on a blog or something?

[17:39:00.0000] <Philip`>
I don't have a blog

[17:39:01.0000] <Philip`>
I haven't even finished it or uploaded it yet :-)

[17:39:02.0000] <Hixie>
feel free to use blog.whatwg.org

[17:39:03.0000] <Philip`>
s/it/the test suite/

[17:40:00.0000] <roc>
he should be able to update the Mozilla suite and maybe even fix some of the bugs ... although it'll be interesting to see how many are actually cairo bugs

[17:41:00.0000] <Philip`>
I'm planning to run it on Windows and Linux and OS X to see how many platform-dependent bugs there are

[17:42:00.0000] <Philip`>
but my results table will have too many columns, so I need some way to fix that...

[17:42:01.0000] <roc>
zoom

[17:43:00.0000] <Philip`>
Nobody seems to have implemented unidirectional zoom yet, so it'll make the rows too short

[17:44:00.0000] <othermaciej>
roc: what's wrong with 10.5.3?

[17:44:01.0000] <Philip`>
While I'm waiting for the OS X updater to finish being incredibly slow, I suppose I could make a fancy dynamic column-enabler thing

[17:46:00.0000] <roc>
othermaciej: my officemate has some problems with it, not sure of the details. And there is the insane bug regarding VerifiedDownloadPlugin which forced us do an RC3

[17:46:01.0000] <gavin_>
yeah I've heard of people having trouble with it too

[17:47:00.0000] <roc>
where if you just dlopen VerifiedDownloadPlugin, it "works" but then the OS hangs on shutdown

[17:47:01.0000] <gavin_>
I've avoided it so far

[17:47:02.0000] <roc>
and if you dlopen it again without a reboot in between, the process hangs in an unkillable way

[17:48:00.0000] <roc>
and no-one can figure out what that plugin is actually for, since it's not a real plugin

[17:55:00.0000] <Philip`>
/me wonders if the updater is actually doing anything

[17:58:00.0000] <othermaciej>
roc: I asked around, it will be fixed in the next update

[17:58:01.0000] <othermaciej>
roc: the plugin is for Apple's signed Dashboard widget downloads

[17:58:02.0000] <othermaciej>
roc: I think it affects more than just Firefox and will be fixed RSN

[17:58:03.0000] <roc>
ok

[17:58:04.0000] <roc>
thanks

[18:00:00.0000] <roc>
we worked around it for FF3, but it affects FF2. Not too much since most of the time we won't reregister plugins on startup, but it will happen once every FF2 update and maybe when certain extensions are installed

[18:15:00.0000] <Philip`>
Alas, IE+excanvas doesn't have getImageData

[18:15:01.0000] <Philip`>
/me clicks five hundred pass/fail buttons over a slightly laggy rdesktop connection

[18:24:00.0000] <Philip`>
Hixie: The commit-watchers subject lines seem to be unhelpfully truncated to lengths that assume I'm using a buggy 20-year-old mail client on a 72-character display, when actually I've got about half a thousand horizontal pixels waiting to be filled :-p

[18:25:00.0000] <Hixie>
heh

[18:25:01.0000] <Hixie>
it's 40 characters now i think

[18:25:02.0000] <Hixie>
what would you want? 80?

[18:28:00.0000] <Philip`>
Oh, maybe Gmail already truncates subjects when they're more than about 80ish characters

[18:28:01.0000] <Philip`>
in which case there's not enough space for great things in there :-(

[18:29:00.0000] <Philip`>
but if you put something like 80 in the emails then the subjects wouldn't be truncated any earlier than necessary

[18:29:01.0000] <Philip`>
so that would hopefully be a bit better

[18:29:02.0000] <Hixie>
i wonder how often i can ask microsoft a question before it becomes rude

[18:29:03.0000] <Philip`>
(Hooray, OS X finished updating itself)

[18:30:00.0000] <Hixie>
sure, i'll up it to 80

[18:37:00.0000] <Philip`>
Hmm, WebKit apparently loses 1.9% when moving from 10.5.2 to 10.5.3

[18:38:00.0000] <Hixie>
correctness or perf?

[18:38:01.0000] <Philip`>
Also, the 10.5.3 upgrade re-enables the incredibly annoying dim-the-screen-when-I-move-my-hands-near-the-keyboard misfeature

[18:38:02.0000] <Philip`>
Hixie: Correctness

[18:38:03.0000] <Philip`>
or incorrectness depending on whether my tests are correct or not

[18:38:04.0000] <Hixie>
fun

[18:39:00.0000] <roc>
could be a quartz issue

[18:39:01.0000] <roc>
quartz has some interesting bugs in 10.4

[18:40:00.0000] <Philip`>
Hmm, I think it's partly due to nondetermistic output from the test runner

[18:40:01.0000] <Philip`>
which is WebKit's fault so I'll still blame them

[18:43:00.0000] <Philip`>
Firefox 3 gains 1.5% by moving from Linux to OS X

[18:46:00.0000] <Philip`>
Actually, 2.1% if I avoid being too strict on some fuzzy gradient matches

[18:46:01.0000] <Hixie>
/me wonders how they will "conclude"

[18:46:02.0000] <Hixie>
http://lists.w3.org/Archives/Public/public-html/2008Jun/0293.html

[18:47:00.0000] <Hixie>
(i thought i'd been pretty "concludey" already)

[18:51:00.0000] <Philip`>
IE+excanvas scores 31.7%

[18:53:00.0000] <Philip`>
(+/- some margin of error in my recording of its results)

[18:56:00.0000] <takkaria>
Hixie: do you plan to reply to that?

[18:58:00.0000] <Hixie>
not sure how to

[18:58:01.0000] <Hixie>
so probably not

[18:58:02.0000] <Hixie>
i'm happy to continue responding to the technical comments on that thread

[18:58:03.0000] <Hixie>
such as they are

[18:59:00.0000] <roc>
someone should reply and point out that it's default-deny; vendor extensions should be prefixed until they're accepted.

[18:59:01.0000] <Hixie>
/me begins going through the entire spec removing "URI" and "IRI" and replacing them with the pointers to the URL section

[18:59:02.0000] <Hixie>
roc: be my guest

[18:59:03.0000] <roc>
you're forcing me to join public-html aren't you

[19:00:00.0000] <Hixie>
yup

[19:00:01.0000] <Philip`>
You can post to public-html without joining it

[19:00:02.0000] <roc>
true

[19:00:03.0000] <roc>
alright

[19:01:00.0000] <Hixie>
yay, go roc

[19:01:01.0000] <roc>
now if only GMail supported mailto: URLs

[19:01:02.0000] <takkaria>
dunno if people have seen http://blogs.msdn.com/ie/archive/2008/06/10/introducing-ie-emulateie7.aspx

[19:01:03.0000] <Hixie>
roc: i thought it did with ff3

[19:01:04.0000] <roc>
nah

[19:01:05.0000] <Hixie>
oh?

[19:01:06.0000] <roc>
not realy

[19:01:07.0000] <Hixie>
oh is the support half hearted?

[19:01:08.0000] <roc>
there's still no GMail URL in the right format

[19:02:00.0000] <Hixie>
i thought that had been fixed

[19:02:01.0000] <roc>
I wish

[19:02:02.0000] <Hixie>
/me investigates

[19:02:03.0000] <roc>
there's https://mail.google.com/mail/?view=cm&tf=0&to=%s

[19:02:04.0000] <roc>
but that just takes an address

[19:04:00.0000] <Hixie>
was that added for firefox?

[19:04:01.0000] <roc>
no

[19:05:00.0000] <Hixie>
hm

[19:05:01.0000] <takkaria>
I can only assume that concluding will happen with the spec is in LC...#

[19:07:00.0000] <Hixie>
Philip`: is it better now?

[19:07:01.0000] <Philip`>
http://philip.html5.org/tests/canvas/suite/tests/results.html

[19:08:00.0000] <Philip`>
Hmm, still need to test Konqueror

[19:11:00.0000] <Philip`>
The main conclusion of my testing: Konqueror has the coolest looking <button>s

[19:11:01.0000] <Hixie>
/me wonders how to define "parse a URL"

[19:14:00.0000] <Philip`>
http://philip.html5.org/tests/canvas/suite/tests/results.html - now with Konqueror, which is approximately tied with Opera and WebKit

[19:18:00.0000] <Philip`>
Hixie: That does look better

[19:18:01.0000] <Philip`>
(Thanks :-) )

[19:20:00.0000] <Hixie>
http://www.abyssandapex.com/200710-wikihistory.html is funny as hell

[19:27:00.0000] <Philip`>
/me sees http://blogs.msdn.com/ie/archive/2008/06/23/securing-cross-site-xmlhttprequest.aspx

[19:59:00.0000] <Hixie>
oh jeez

[19:59:01.0000] <Hixie>
parsing a URI reference requires knowing the scheme of the base URI

[19:59:02.0000] <Hixie>
someone please write URI5 so i don't have to deal with this nonsense

[20:00:00.0000] <Hixie>
bbl

[23:13:00.0000] <Hixie>
does <base href=""> affect scripts?

[23:14:00.0000] <Hixie>
answer, yes.

[23:15:00.0000] <Hixie>
...in safari.

[23:15:01.0000] <Hixie>
...but not in IE

[23:15:02.0000] <Hixie>
nothing. is ever simple.

[23:51:00.0000] <mcarter>
i didn't know that URIs were so complicated

[00:03:00.0000] <Hixie>
man i wish the uri spec defined how to handle ill-formed uris

[00:04:00.0000] <Hixie>
/me tries to work out how to mangle the bnf to support random characters in a ua-compatible way without redefining the whole parsing himself

[00:05:00.0000] <takkaria>
epic fail, from the sounds of it :/

[00:20:00.0000] <Dashiva>
[acgiowrt] (2) Define 'URL' and 'valid U [...]

[00:24:00.0000] <Dashiva>
Hixie: What's the [\w*] part first in the subject mean?

[00:25:00.0000] <Hixie>
who is affected

[00:25:01.0000] <hsivonen>
Hixie: you mentioned needing hsivonen and annevk

[00:25:02.0000] <Hixie>
hsivonen!

[00:25:03.0000] <Hixie>
hsivonen: http://www.whatwg.org/specs/web-apps/current-work/#urls

[00:25:04.0000] <Dashiva>
So each letter is one person?

[00:25:05.0000] <Hixie>
hsivonen: "valid URL"

[00:26:00.0000] <Hixie>
Dashiva: g=gecko, v=validators, t=tools, r=gears, etc

[00:26:01.0000] <Dashiva>
ah

[00:26:02.0000] <Dashiva>
e=everyone?

[00:26:03.0000] <Hixie>
Dashiva: anne's script uses it for icons

[00:26:04.0000] <Hixie>
e=editorial only

[00:27:00.0000] <Dashiva>
I wonder about that [] edit then :)

[00:27:01.0000] <Hixie>
hsivonen: do you think that's ok, or do you think we should also make things that aren't valid URIs and IRIs valid?

[00:27:02.0000] <Hixie>
Dashiva: it's not purely editorial, but it doesn't yet affect anyone (e.g. nobody implements that yet)

[00:27:03.0000] <hsivonen>
Hixie: at least now your definition of validity isn't as bad as I expected it to be

[00:28:00.0000] <Hixie>
hsivonen: or should we go further, and make even URIs that have %-encoded bits that aren't UTF-8 invalid?

[00:28:01.0000] <Dashiva>
Hixie: Now that you're doing changes to the commit-watchers, could it be possible to get source above index as well?

[00:28:02.0000] <hsivonen>
Hixie: I think we shouldn't, since that may be the only way to link to a resource

[00:29:00.0000] <Hixie>
Dashiva: no idea how to do that

[00:29:01.0000] <Hixie>
Dashiva: i'm just using the script that came with svn

[00:29:02.0000] <hsivonen>
the last bullet point that depends on the encoding of the document sucks big time considering my current impl

[00:29:03.0000] <Hixie>
yeah

[00:29:04.0000] <Hixie>
required pretty massive changes to the spec, too

[00:31:00.0000] <Hixie>
right now the definition is the exact definition that takes what browsers do, and only allows valid URIs and IRIs to come out of it

[00:31:01.0000] <hsivonen>
Hixie: do browsers always convert the path component to URI according to UTF-8?

[00:31:02.0000] <Hixie>
i.e. (it's the least delta from the status quo that i could do)

[00:31:03.0000] <Hixie>
hsivonen: as far as i can tell, yes

[00:31:04.0000] <Hixie>
hsivonen: and they use the document encoding for the query component

[00:32:00.0000] <Hixie>
which is wacked beyond words

[00:32:01.0000] <hsivonen>
I take it that the behavior is interoperable and changing it would break the Web?

[00:32:02.0000] <Hixie>
so it seems

[00:32:03.0000] <hsivonen>
:-(

[00:32:04.0000] <Hixie>
yeah no kidding

[00:33:00.0000] <Hixie>
http://hixie.ch/tests/adhoc/uri/encoding/012.html

[00:33:01.0000] <Hixie>
if you want a headache

[00:33:02.0000] <Hixie>
there are up to six encodings involved in that testcase depending on how you count them

[00:34:00.0000] <hsivonen>
I wonder if I should extend Jing to pass around the character encoding of the document or if I should do something else

[00:34:01.0000] <hsivonen>
leaky abstractions

[00:34:02.0000] <Hixie>
documents have two character encodings

[00:35:00.0000] <Hixie>
the original one and the one after you set .charset

[00:35:01.0000] <Hixie>
browsers differ on which one to use when encoding the query component

[00:35:02.0000] <hsivonen>
crazy

[00:35:03.0000] <hsivonen>
well, Validator.nu doesn't support setting .charset

[00:36:00.0000] <Hixie>
right now i'm ignoring the original and only using the one you set using .charset

[00:36:01.0000] <Hixie>
but i don't know if that'll owrk

[00:36:02.0000] <Hixie>
work

[00:36:03.0000] <Hixie>
so anyway

[00:36:04.0000] <hsivonen>
and after all this, someone wanted to use non-UTF-8 with XHR

[00:37:00.0000] <Hixie>
yeah that's what i wanted to speak to anne about -- as far as i can tell, xhr doesn't mention any of this

[00:37:01.0000] <hsivonen>
this an insane amount of complexity to support people who can't be bothered to use UTF-8

[00:37:02.0000] <Hixie>
yes.

[00:44:00.0000] <Hixie>
hsivonen: anyway, does what the spec say now seem like the best compromise, or should we allow or disallow something that is currently disallowed or allowed?

[00:45:00.0000] <hsivonen>
Hixie: I may have a different opinion after I've thought about it more, but at the moment, it appears that the current text makes sense for authors

[00:45:01.0000] <Hixie>
k

[00:45:02.0000] <hsivonen>
although I don't like the idea of having to implement the last bullet point

[00:45:03.0000] <Hixie>
yeah

[00:45:04.0000] <Hixie>
i hear you

[00:46:00.0000] <Hixie>
like i said, speccing it was bad enough, i don't even want to think about what it means for you

[01:23:00.0000] <Hixie>
some pretty funny things happen if you visit data://example.com/

[01:24:00.0000] <hsivonen>
Firefox leaks the URI to Google

[01:24:01.0000] <Hixie>
firefox just assumes it's a random non-uri string and does an "i'm feeling lucky" search

[01:24:02.0000] <Hixie>
opera is the funniest

[01:25:00.0000] <Hixie>
it tries to download a file "default"

[01:36:00.0000] <virtuelv>
http://www.bbc.co.uk/blogs/radiolabs/2008/06/removing_microformats_from_bbc.shtml

[01:38:00.0000] <Hixie>
yeah someone really should tell them about <time>

[01:42:00.0000] <virtuelv>
mwah, proprietary registration system

[01:45:00.0000] <Lachy>
I tried posting a comment, but it rejected it

[01:45:01.0000] <Lachy>
ah, it didn't like me using "<time>" because it complained about invalid XML.

[01:46:00.0000] <virtuelv>
Lachy: perhaps post the link plain-text?

[01:47:00.0000] <Lachy>
done

[02:21:00.0000] <Hixie>
/me begins to define how to resolve urls

[02:26:00.0000] <Hixie>
data:text/html;charset=iso-8859-1,<!DOCTYPE html><meta charset%3D"iso-8859-1"><script>document.write(document.charset)<%2Fscript><p><a href%3D"http%3A%2F%2Fdamowmow.com%3F%26%23x263a%3B&eacute;">test<%2Fa>

[02:34:00.0000] <annevk>
Hixie, I was  thinking of referencing HTML5 URL from XMLHttpRequest...

[02:34:01.0000] <annevk>
Hixie, hope that answers your question

[03:51:00.0000] <Hixie>
annevk: cool

[03:51:01.0000] <Hixie>
annevk: (i bet the people asking for the removal of references to html5 are going to love that! ;-) )

[04:02:00.0000] <Philip`>
Hixie: "(Such scripts would not be conforming, however, as xml:base attributes as not allowed in HTML documents.)" - second "as" should be "are"

[04:03:00.0000] <hsivonen>
Hixie: after head is now eating all end tags, and the spec text seems to have an error in the case label ("other" without any other cases). Is it intentional to eat *all* end tags there?

[04:04:00.0000] <hsivonen>
(I'm changing test cases to assume all end tags get eaten)

[04:13:00.0000] <hsivonen>
what's the difference between having a mailing list and having a WG in IETF terms?

[04:13:01.0000] <hsivonen>
/me thought IETF mailing lists were effectively WGs

[04:15:00.0000] <gsnedders>
hsivonen: mailing lists can continue to exist after a charter has ended

[04:16:00.0000] <hsivonen>
(aside: I think chartering a WG to clarify but not to fix bugs is weird)

[04:19:00.0000] <gDashiva>
Only if you believe there are bugs :)

[04:20:00.0000] <hsivonen>
btw, eating end tags in after head as opposed to in head produces some unintuitive error messages

[04:20:01.0000] <hsivonen>
(I'm not sure which is better for comment and white space placement)

[04:22:00.0000] <gsnedders>
Anyone got any suggestions for learning Haskell/functional programming in general?

[04:23:00.0000] <hsivonen>
gsnedders: Scheme has got a nice book: SICP

[04:23:01.0000] <hsivonen>
Structure and Interpretation of Computer Programs

[04:23:02.0000] <takkaria>
ANSI Common Lisp is a fairly well-recommended book, too

[04:23:03.0000] <gsnedders>
I also must say I do rather suck at doing things from books: some interesting project and decent documentation is better for me

[04:24:00.0000] <hsivonen>
gsnedders: regarding SICP, see http://www.joelonsoftware.com/articles/ThePerilsofJavaSchools.html

[04:27:00.0000] <gsnedders>
I still agree with ChrisWilson's comments a while back: "[23:33] <ChrisWilson> ...AAAAAAAnd this is why I think the first round of computer classes should be taught in C.  zero-based indexing, sane pointers, and plenty of rope to hang yourself with."

[04:27:01.0000] <gsnedders>
(plenty is probably an understatement for someone new to programming)

[04:28:00.0000] <takkaria>
someone made a fair point that people who learn something like Java first are going to be better at thinking in OO, I don't remember where

[04:28:01.0000] <Philip`>
gsnedders: I've found the best suggestion is to have some program you want to write, for which $new_language is a suitable tool - otherwise I read a few pages of tutorials and then get fed up and do something else instead

[04:28:02.0000] <takkaria>
I started as a BASIC programmer, then learnt C, and I still don't get the fuss over OO :)

[04:29:00.0000] <gsnedders>
Philip`: I'm not sure what program I want to write in it yet though :)

[04:29:01.0000] <Philip`>
takkaria: Sounds like a good reason to not learn something like Java first ;-)

[04:29:02.0000] <gsnedders>
I started in BASIC, then moved to OO-free PHP, then to OO-full PHP, then to Python

[04:29:03.0000] <takkaria>
Philip`: hehe

[04:30:00.0000] <gsnedders>
(with odd brief flirtations with various branches of C)

[04:30:01.0000] <MikeSmith>
people should learn XSLT first, if they really want to fug up their minds

[04:30:02.0000] <takkaria>
I also use Lua, which is a sufficiently different language from C that I program in it idiomatically

[04:30:03.0000] <Philip`>
gsnedders: Port html5lib to Haskell!

[04:30:04.0000] <gsnedders>
Philip`: I think that's probably a bit too big a first project

[04:30:05.0000] <Philip`>
(Warning: probably very bad idea)

[04:31:00.0000] <gsnedders>
(most of the unis in the UK still have functional programming in the first or second semester, FWIW)

[04:32:00.0000] <hsivonen>
takkaria: I like to think of Java as C++ minus a lot of brokenness

[04:32:01.0000] <Philip`>
I like to think of Java as C++ minus all the fun bits

[04:32:02.0000] <jgraham>
gsnedders: I started working through YAHT FWIW

[04:32:03.0000] <hsivonen>
Java and garbage collection is nice. C and malloc is OK. I don't like thinking of what smart pointers are partially hiding.

[04:33:00.0000] <takkaria>
at one point I knew the syntax of C++, but that's slipped away over the years... all I see people who start in Java/C++ doing is creating lots of unnecessary classes for things which shouldn't be classes

[04:33:01.0000] <Philip`>
They're not hiding anything, they're just reference counting and RAII :-)

[04:33:02.0000] <jgraham>
http://darcs.haskell.org/yaht/yaht.pdf

[04:33:03.0000] <takkaria>
well, that's a lie, I clearly see them writing a lot of widely-used code too

[04:33:04.0000] <gsnedders>
jgraham: as has already been said, I can't work from tutorials really

[04:33:05.0000] <gsnedders>
jgraham: I get a bit into it, then I just can't be bothered. Give me a project to work on!

[04:34:00.0000] <Philip`>
If it's Haskell, I guess it's best to have projects that don't involve IO

[04:34:01.0000] <jgraham>
gsnedders: I find the same, but I need to understand a little about how the language is supposed to work before I try doing stuff

[04:34:02.0000] <gsnedders>
/me has never read a Python tutorial in his life

[04:34:03.0000] <hsivonen>
Philip`: I find Objective-C's manual refcounting more tracktable than smart pointers

[04:35:00.0000] <jgraham>
/me only read the one on python.org

[04:35:01.0000] <jgraham>
Which is very short and incomplete

[04:35:02.0000] <hsivonen>
s/ck/c/

[04:35:03.0000] <gsnedders>
Obj-C is a nice language in a lot of ways

[04:35:04.0000] <jgraham>
but enough to get started

[04:36:00.0000] <Philip`>
/me has been writing manual-refcounting code in plain C and doesn't really like it at all :-(

[04:37:00.0000] <hsivonen>
Philip`: did you have an autoreleasepool?

[04:37:01.0000] <jgraham>
gsnedders: I guess you could find a book, ignore all the text and just do the excercises

[04:37:02.0000] <jgraham>
;)

[04:37:03.0000] <gsnedders>
jgraham: The exercises tend to be rather pointless and boring :P

[04:37:04.0000] <gsnedders>
(I did that with Obj-C)

[04:37:05.0000] <takkaria>
disagree :P

[04:38:00.0000] <takkaria>
I find it gets your head into the right mode of thinking

[04:38:01.0000] <takkaria>
but whatever floats your boat, I guess

[04:38:02.0000] <gsnedders>
takkaria: I've already drowned :)

[04:38:03.0000] <takkaria>
it's like doing logic derivations or exercise after excercise of maths, and I always found those useful

[04:39:00.0000] <MikeSmith>
hey, I seem to remember news about Forth being used by some Web-related project recently. Anybody else remember that? Maybe I dreamed it

[04:39:01.0000] <MikeSmith>
though that would be a really lame dream to have

[04:39:02.0000] <Philip`>
MikeSmith: Probably the Tamarin tracing thing

[04:39:03.0000] <doublec>
most likely

[04:40:00.0000] <MikeSmith>
ah yes

[04:40:01.0000] <MikeSmith>
doublec: yeah, was on your blog

[04:40:02.0000] <Philip`>
http://www.bluishcoder.co.nz/2008/05/extending-tamarin-tracing-with-forth.html etc

[04:40:03.0000] <MikeSmith>
yup yup

[04:40:04.0000] <doublec>
that'll be it :)

[04:42:00.0000] <Philip`>
hsivonen: No, though I don't see how that'd help

[04:42:01.0000] <hsivonen>
Philip`: the autoreleasepool makes refcounting not suck

[04:42:02.0000] <Philip`>
(possibly because I just don't understand, but possibly because the returning-refcounted-objects-from-functions thing wasn't a problem since I just return stuff with a refcount of 1)

[04:42:03.0000] <Philip`>
*don't understand it

[04:45:00.0000] <hsivonen>
Philip`: the autoreleasepool keeps retain/alloc and (auto)releasing together

[04:46:00.0000] <hsivonen>
I'm now again at a point where the V.nu parser passes all html5lib tokenizer and tree builder tests

[04:46:01.0000] <hsivonen>
time to implement the new li/dd/dt/p stuff and break tests

[04:47:00.0000] <takkaria>
/me is currently working on hubbub's (C html5 parser) treebuilder, implementing a chunk of it for the first time

[05:10:00.0000] <roc>
Is hubbub open source or an Opera thing?

[05:10:01.0000] <takkaria>
it's unrelated to opera entirely :)

[05:10:02.0000] <takkaria>
it's open-source, under the MIT licence

[05:10:03.0000] <takkaria>
it's being written as part of a web browser called NetSurf but is an independent library

[05:12:00.0000] <hsivonen>
svn: OPTIONS of '/svn/trunk/testdata/tree-construction': 502 Bad Gateway (https://html5lib.googlecode.com)

[05:12:01.0000] <hsivonen>
hmm.

[05:13:00.0000] <hsivonen>
works now

[05:13:01.0000] <hsivonen>
weird

[05:16:00.0000] <jgraham>
hsivonen: I see errors like that from googlecode occasionally

[05:17:00.0000] <hsivonen>
jgraham: ok.

[05:17:01.0000] <jgraham>
takkaria: Is the hubbub code avaliable anywhere?

[05:17:02.0000] <takkaria>
jgraham: http://www.netsurf-browser.org/projects/hubbub/

[05:18:00.0000] <takkaria>
I hope to have the treebuilder mostly-complete by the end of next week, at which point it might actually become useful for someone

[05:19:00.0000] <jgraham>
takkaria: Cool

[05:19:01.0000] <takkaria>
the tokeniser has something like 99.3% code coverage, so I'm fairly sure it's OK :)

[05:19:02.0000] <takkaria>
s/code/test/

[05:23:00.0000] <hsivonen>
takkaria: I see you are using function per state. Can you suspend anywhere?

[05:24:00.0000] <takkaria>
AFAICS, there's no need to

[05:25:00.0000] <takkaria>
since each state quite happily takes one character at a time

[05:26:00.0000] <hsivonen>
ah. I didn't look far enough to see if you had split the multicharacter spec states

[05:28:00.0000] <takkaria>
those which do loop in the state will return if they get an out-of-data character, so it works quite well

[05:33:00.0000] <hsivonen>
/me wishes the new P steps didn't have "act as if"

[05:34:00.0000] <hsivonen>
with the foreign content stuff, I guess I should just really run the "as if" code since inlining the behavior becomes complex

[06:19:00.0000] <hsivonen>
whee! the new p/li/dd/dt stuff broke test cases

[06:26:00.0000] <jcranmer>
new list stuff?

[06:27:00.0000] <hsivonen>
jcranmer: the handling of list item tags changed a while ago

[06:31:00.0000] <hsivonen>
now I'm confused. the old spec matched IE8 with <ul><li></li><div><li></div><li><li><div><li><address><li><b><em></b><li></ul>

[06:31:01.0000] <hsivonen>
is the new spec deliberately not matching or did I misimplement the new spec?

[06:49:00.0000] <hsivonen>
hmm. looks like I misimplemented it

[06:54:00.0000] <hsivonen>
now only one test doesn't pass

[06:54:01.0000] <hsivonen>
let's see if that's intentional...

[06:57:00.0000] <Philip`>
weinig: http://philip.html5.org/tests/canvas/suite/tests/results.html#2d.composite.canvas.destination-over (WebKit in 7th/8th columns) is tests for the drawImage(canvas, ...) problems I was having

[08:08:00.0000] <weinig>
thanks Philip` 

[08:15:00.0000] <annevk>
http://lists.w3.org/Archives/Public/uri/2008Jun/ :/

[08:18:00.0000] <annevk>
I'm not sure why he talks about HTML form parameters, but maybe I'm missing something

[08:30:00.0000] <annevk>
Ah, common sense prevails: http://lists.w3.org/Archives/Public/uri/2008Jun/0011.html

[08:51:00.0000] <gDashiva>
Deep: "W.r.t. XHTML 2.0 - it is not a big step from 1.1 - except perhaps philosophically."

[08:55:00.0000] <zcorpan>
gDashiva: pointer?

[08:56:00.0000] <gDashiva>
http://lists.w3.org/Archives/Public/www-html/2008Jun/0030.html

[09:21:00.0000] <gDashiva>
It's kinda refreshing to read Luca's replies, free of political restraint :)

[09:36:00.0000] <zcorpan>
it seems that Luca's problem is that the BP reference XHTML 1.1 Basic instead of HTML5...?

[09:43:00.0000] <annevk>
good laugh: http://www.w3.org/2001/tag/2008/06/19-tagmem-minutes#item04

[09:48:00.0000] <annevk>
notably "I think this fork in the web is a really bad thing..." and 'document.write is too far deployed to say "don't do that"?'

[09:49:00.0000] <annevk>
oh, and "document.write is the actual dividing issue" and "xhtml + css is a hands-down winner with authors and to add html tag soup is pushed by the browsers who have the implementations"

[09:52:00.0000] <hober>
Why do people think HTML UAs are "legacy?"

[09:53:00.0000] <Philip`>
hober: Any code or content is legacy as soon as it is deployed :-)

[09:53:01.0000] <hober>
heh.

[09:56:00.0000] <zcorpan>
that's why xhtml2 UAs aren't legacy

[09:56:01.0000] <Dashiva>
(and never will be, zing)

[09:56:02.0000] <hsivonen>
hah

[10:18:00.0000] <jgraham>
sometimes I wonder if most of the TAG have ever gone to a random web page and used View Source

[10:21:00.0000] <Philip`>
You have to be careful how you pick a "random" page

[10:22:00.0000] <jgraham>
Well in lieu of a good way of selecting a rnadom web page, a selection of popular commercial sites would be fine. 

[11:21:00.0000] <virtuelv>
sigh

[11:21:01.0000] <virtuelv>
people in 2008 still seem to think that XML/XHTML and namespaces is some magic bullet that frees them from every problem in the universe

[11:22:00.0000] <virtuelv>
http://www.reddit.com/r/programming/info/6oo5r/comments/

[11:22:01.0000] <virtuelv>
I don't think I'm even going to bother replying

[11:23:00.0000] <Philip`>
It would be kind of bad for accessibility tools if everyone used namespaces so there were three billion possible elements and attributes that they would need to know contain human-readable text that should be presented to the user

[11:25:00.0000] <jgraham>
virtuelv: It seems worth replying because, on the face of it, their argument sounds sensible. The kind of argument that Philip` just made and that hsivonen makes against namespaces in HTML in principle (rather than XML namespace syntax) is rather subtle

[11:26:00.0000] <virtuelv>
jgraham: while it might be worth replying, I'm having one of those days where I doubt I would bother staying civilized

[11:26:01.0000] <Philip`>
Presumably the good solution is to use the single <abbr title> thing for everything that's acceptably close to human-readable abbreviation titles, and then use something else for the cases like hCalendar where that's just wrong

[11:26:02.0000] <Philip`>
and valid HTML4 doesn't provide any hooks for you to do that "something else"

[11:26:03.0000] <jgraham>
virtuelv: Oh well in that case maybe worth someone else replying :)

[11:27:00.0000] <Philip`>
so people are forced to make a bad decision

[11:27:01.0000] <hober>
Cooking up a good solution in #microformats

[11:27:02.0000] <tantek>
indeed

[11:28:00.0000] <Philip`>
but namespaces do allow that extensibility so they don't force you to shove inappropriate things into <abbr title> and so they allow good designs and are therefore good

[11:28:01.0000] <tantek>
the promise of solution via extensibility is a false promise

[11:28:02.0000] <tantek>
extensibility = babel

[11:29:00.0000] <Philip`>
Extensibility isn't a solution itself, but inextensibility sometimes prevents you from finding a solution

[11:30:00.0000] <Philip`>
(unless the inextensible system is sufficiently complete that it provides a solution already)

[11:31:00.0000] <Dashiva>
The extensibility thing reminds me of something Spolsky said abouts spec writing. 

[11:31:01.0000] <Dashiva>
"And now certain geeks go off to a very dark place where they start thinking about automatically compiling specs into programs, and they start to think that they’ve just invented a way to program computers without programming."

[11:32:00.0000] <jgraham>
Dashiva: I thought that was what RDF was for...

[11:33:00.0000] <Dashiva>
Yeah, RDF is awesome, you just have to download the internet to resolve all the references

[11:34:00.0000] <Philip`>
Dashiva: That's not a problem - just delegate the job to Google

[11:44:00.0000] <tantek>
I've come to realize that XML should really expand to "eXperimentation Markup Language" - as in, XML may be good for experiments, for explorations, but not for actual solutions.

[11:48:00.0000] <virtuelv>
well, if someone decides to reply to the xhtml apologists in that reddit thread, why not just make it a blog post, which can be discussed independently?

[11:49:00.0000] <Philip`>
virtuelv: That loses the immediacy of arguing directly in the comment thread, and most people will be too lazy to read the blog post

[13:30:00.0000] <takkaria>
hmm, the TAG don't really think document.write() will ever go away, do they?

[13:31:00.0000] <gsnedders>
takkaria: Oh, probably they do think it will.

[13:31:01.0000] <takkaria>
I was hoping DanC wouldn't think that, really...

[13:34:00.0000] <Philip`>
The need to use document.write() when writing new content may go away

[13:34:01.0000] <Philip`>
which seems a much more realistic goal

[13:35:00.0000] <Philip`>
and arguably a useful one since document.write() is crazy and confusing and so it'd be nice if alternatives were provided so that all use cases could be solved without document.write()

[13:36:00.0000] <hsivonen>
Philip`: there's no way browser vendors would pull document.write() support, though, so it needs to be specified and implmented

[13:36:01.0000] <Philip`>
hsivonen: Indeed

[13:36:02.0000] <jgraham>
Philip`: Authors seem to like document.write which suggestss that they just avoid the crazy bits

[13:37:00.0000] <hsivonen>
yeah. It's not too crazy when there's only one level of it

[13:37:01.0000] <jgraham>
(much as I dislike document.write, I guess it is one of the most successful parts of the DOM in terms of usage)

[13:38:00.0000] <Philip`>
There's the "I don't want to switch my site to XHTML because it'll break all my (ad provider's) document.write code" which could be solved if more people didn't think document.write was a useful/necessary feature

[13:38:01.0000] <Philip`>
*the "..." argument

[13:39:00.0000] <Philip`>
which is relevant in terms of the everyone-should-gradually-migrate-to-XHTML view of the future

[13:39:01.0000] <jgraham>
You seem to have misse out the word dystopian somewhere

[13:40:00.0000] <jgraham>
/me decides it is time to go home

[13:41:00.0000] <Philip`>
Hmm, now I remember why it's a bad idea to provide test results

[13:41:01.0000] <Philip`>
I want to make some minor updates to my tests, but I don't want the published results to be out of sync with the tests, but I don't want to run the tests in ten different browsers again :-(

[13:42:00.0000] <Philip`>
I guess I'll leave the updates offline for now, until I get non-lazy enough to do another iteration of the whole process

[13:48:00.0000] <Hixie>
hsivonen: yeah, it's intentional to eat all end tags, and "all other" is just for consistency with the rest of the spec, though i guess i should make that clear. i've noted your e-mail on the subject.

[13:52:00.0000] <hsivonen>
Hixie: ok. thanks. Did you notice that deferring tag eating until after head (as opposed to in head) makes error situations a bit weird?

[13:52:01.0000] <Hixie>
i noticed you noticing it, i don't recall it being intentional

[13:53:00.0000] <hsivonen>
Hixie: ok. might be worth fixing if it doesn't cause badness with comments and whitespace. (I haven't investigated if that is the case.)

[13:53:01.0000] <Hixie>
you sent mail right?

[13:53:02.0000] <hsivonen>
I didn't.

[13:53:03.0000] <Hixie>
ah ok

[13:53:04.0000] <Hixie>
send mail :-)

[13:54:00.0000] <Hixie>
right now i'm so far from caring about hte parser section that it's not even funny :-)

[13:54:01.0000] <Hixie>
too deeply stuck in the mud that is uris

[13:57:00.0000] <hsivonen>
Hixie: I filed a bug.

[13:58:00.0000] <Hixie>
that works too

[13:58:01.0000] <hsivonen>
Hixie: should I send mail to whatwg about SVG <defs><font> or does the remark in the middle of a public-html email count?  

[14:01:00.0000] <Philip`>
It's already in http://canvex.lazyilluminati.com/misc/cgi/issues.cgi/message/%3C14B846F4-08C1-4A5D-8E19-B4ECCF25122F%40iki.fi%3E

[14:01:01.0000] <hsivonen>
thanks

[14:05:00.0000] <Hixie>
hsivonen: the remark counts

[14:05:01.0000] <Hixie>
hsivonen: however i don't know what to do about it

[14:06:00.0000] <Hixie>
hsivonen: the svg <font>s overwhelm the html <font>s in my data, so visual inspection doesn't work

[14:06:01.0000] <Hixie>
hsivonen: and i'm not sure how else to distinguish them

[14:06:02.0000] <Hixie>
ooh, maybe attributes

[14:07:00.0000] <hsivonen>
I was thinking that a <defs> parent would reduce the probability of <font> being a cargo cult HTML <font>

[14:08:00.0000] <Hixie>
right but i still have to test it

[14:11:00.0000] <Philip`>
What the children of <font>? If a child is an HTML element or plain text, then presumably it's an HTML <font>; otherwise the children are probably SVG elements

[14:11:01.0000] <Philip`>
*What about the

[14:11:02.0000] <hsivonen>
hmm. looks like valid SVG can have <font> outside <defs> :-(

[14:12:00.0000] <hsivonen>
Philip`: making a decision based on children would seriously suck in the tree builder

[14:12:01.0000] <hsivonen>
Philip`: because you haven't seen the children when you need to deal with <font>

[14:12:02.0000] <hsivonen>
inspecting attributes seems like a much better idea

[14:13:00.0000] <Philip`>
hsivonen: The <font> could always be interpreted as an SVG <font>, and the tree builder could break out of SVG mode once it's realised a child is wrong

[14:13:01.0000] <Philip`>
which would slightly break the formatting of the HTML content, since the <font> would no longer be an HTML <font>

[14:14:00.0000] <Philip`>
but that's only a minor formatting problem, not a make-the-whole-rest-of-the-page-invisible problem

[14:17:00.0000] <tantek>
/me wonders if Google Adsense provides an XHTML-friendly way to include Adsense ads in pages (as opposed to the document.write methods). And if not, is Hixie talking with those folks?

[14:19:00.0000] <Philip`>
/me imagines they might have concerns about what to do when people use the XHTML-AdSense inside text/html pages

[14:20:00.0000] <Philip`>
and I guess they'd prefer not to serve code for both HTML and XHTML insertion and dynamically choose between them, since that makes the ads bigger and slower

[14:21:00.0000] <hsivonen>
IIRC, the conspiracy theory was that Google couldn't figure out how to make AdSense work with XHTML, so they hired Hixie to write HTML5 and kill XHTML

[14:21:01.0000] <Philip`>
and the risk of confusing the tens of percent of people who think they're using XHTML, just to benefit the zero percent who are really using XHTML, doesn't seem great :-(

[14:21:02.0000] <hsivonen>
(I don't recall the source of the conspiracy theory)

[14:23:00.0000] <hsivonen>
Philip`: presumably, a single piece of code could assemble ads in both XHTML and HTML and use if (document.createElementNS) to decide whether to use createElementNS or createElement

[14:24:00.0000] <Philip`>
hsivonen: That code would be more bytes, so the ads would be bigger and slower

[14:25:00.0000] <Philip`>
Only a tiny bit, but a tiny bit multiplied by billions of views per day makes the viewers unhappy

[15:24:00.0000] <roc>
/me wonders why CSS 2.1 says that 'overflow' doesn't apply to table row groups, when the Web says it does

[15:33:00.0000] <jgraham__>
/me wonders why roc is surprised at a disconnect between specs and reality

[15:34:00.0000] <jgraham__>
Did someone already point out http://mochaui.com/demo/ It claims to be a GUI toolkit that uses lots of <canvas> for rendering

[15:35:00.0000] <hsivonen>
is it accessible?

[15:36:00.0000] <roc>
that's pretty cool

[15:36:01.0000] <roc>
It's great to see canvas and SVG usage increasing

[15:38:00.0000] <jgraham__>
hsivonen: Well it seems to use real text at least. But I doubt the interactivity is exposed to ATs

[15:39:00.0000] <roc>
I discovered that the Dirac codec documentation uses SVG and MathML very nicely

[15:39:01.0000] <roc>
http://dirac.sourceforge.net/documentation/algorithm/algorithm/quantisation.xht

[15:39:02.0000] <hsivonen>
hmm. Why does mochaui work in Firefox 3 and Opera 9.5 but not in a WebKit nightly?

[15:42:00.0000] <jgraham__>
roc: Oh, that's pretty. I'm so used to seeing crappy Latex2HTML gifs for maths on the web that it comes as a bit of a surprise that Maths-on-the-web doesn't have to be eye-bleedingly ugly

[15:42:01.0000] <hsivonen>
yeah, it's cool to see MathML usage on the Web

[15:43:00.0000] <Philip`>
That MathML is kind of horribly ugly and broken in Opera, though

[15:44:00.0000] <Philip`>
(partly since it doesn't understand &nbsp;, and partly since things like the floor symbol don't get stretched vertically at all)

[15:44:01.0000] <roc>
you really have to author specifically for the CSS-MathML subset in Opera, I think

[15:45:00.0000] <Philip`>
(Also the v-tilde has a whole line-height of space in its middle)

[15:46:00.0000] <Philip`>
Is this something Opera could fix via CSS, or would they have to really implement MathML?

[15:46:01.0000] <roc>
I'm too lazy to figure that out rightnow

[15:47:00.0000] <Philip`>
Fair enough :-)

[15:47:01.0000] <roc>
huh, Webkit doesn't support scrollable table row gorups

[15:47:02.0000] <roc>
/me wonders why so many people file bugs about them against Gecko, then

[15:48:00.0000] <roc>
neither does Opera

[15:51:00.0000] <jgraham__>
roc: The HTML 4 spec suggests that UAs might implement scrollable table row groups

[15:54:00.0000] <hsivonen>
wishful thinking from many years ago: http://hsivonen.iki.fi/misc/table-scroll/

[15:54:01.0000] <roc>
wishful thinking? that would work in Gecko

[15:55:00.0000] <hsivonen>
roc: I wasn't aware. With what CSS?

[15:55:01.0000] <hsivonen>
no action in https://bugzilla.mozilla.org/show_bug.cgi?id=53702

[15:56:00.0000] <roc>
see this example https://bugzilla.mozilla.org/attachment.cgi?id=310440

[15:56:01.0000] <roc>
and ignore the background-painting bug

[15:57:00.0000] <hsivonen>
roc: cool! do the theads/tfoots of nested tables stack as in my illustration when a nested table is showing?

[15:57:01.0000] <roc>
no, nothing special there

[15:59:00.0000] <Hixie>
http://lists.w3.org/Archives/Public/www-html/2008Jun/0036.html is special

[16:00:00.0000] <Hixie>
"we work with browser developers" "which ones?" "well i hope we work with browser developers"

[16:08:00.0000] <gsnedders>
browsers? peh!

[16:08:01.0000] <gsnedders>
Google is the future!


2008-06-25
[17:02:00.0000] <othermaciej_>
Hixie: hilarious

[17:04:00.0000] <jgraham__>
I really have no idea how one would respond to the TAG's finding that transmitting passwords in plain text is A Bad Idea...

[17:05:00.0000] <Philip`>
We should respond by deprecating <input type="password"> if the document has been served over HTTP

[17:06:00.0000] <jgraham__>
Philip`: That wouldn't help because it would just make people more likely to use something that didn't even do password masking

[17:08:00.0000] <jgraham__>
(or to roll their own solution, or to use javascript to set the input type to password)

[17:25:00.0000] <takkaria>
I would like to know why they spent so much time working out that transmitting passwords in the clear is bad

[17:33:00.0000] <Philip`>
/me has a site which just sends username=foo, password=whatever cookies on every request

[17:35:00.0000] <Philip`>
"When a password is transmitted in clear text, it is vulnerable in many ways:" "2. The password is available in browsing history. Most web browsers provide 'back' navigation to previous pages, with content locally cached for performance as well as ease of use for the user. These pages are stored in memory and are relatively easy to examine." - what has that point got to do with transmission?

[17:35:01.0000] <Philip`>
Caching of form field values seem orthogonal to any issues of clear/encrypted transmission

[17:35:02.0000] <Philip`>
*seems

[17:36:00.0000] <Philip`>
"It is estimated that between 1 and 2 percent of e-commerce transactions are related to fraud." [citation needed]

[17:38:00.0000] <Philip`>
It would be helpful if they defined what a password is

[17:39:00.0000] <Philip`>
If I'm typing my pet's name into a "forgot your password?" page, does that count as a password itself?

[17:39:01.0000] <Philip`>
What if it's a one-time password, and nobody could use it later even if they intercepted it?

[17:40:00.0000] <Philip`>
"There are no scenarios where it is possible to transmit passwords in the clear without risk." - how about connecting to my local router's web interface?

[17:41:00.0000] <Philip`>
The only machines involved are mine and the router, so nobody's going to be able to intercept anything during transmission

[18:00:00.0000] <Hixie>
yay http://www.google.nl/intl/nl/doodle4google/

[18:00:01.0000] <Hixie>
(look at the source)

[18:01:00.0000] <Philip`>
It's non-conforming :-(

[18:02:00.0000] <Philip`>
<img src="images/logo.png" alt="Google"> needs to say alt="Doodle 4 Google - Mijn Nederland" to be equivalent to the image

[18:04:00.0000] <Philip`>
(Actually, HTML5 is too hard to read for me to work out whether that's what alt should be in that case, but it seems the only logical text for an image that contains words)

[18:05:00.0000] <Hixie>
The image only conveys "Google", imho, given that the rest of hte text in the image is already on the page elsewhere

[18:05:01.0000] <Hixie>
so actually i'd defend the page

[18:05:02.0000] <Hixie>
though both could probably be argued

[18:05:03.0000] <Philip`>
The image conveys "Doodle 4 Google - Mijn Nederland" to me, given that that's what it says :-p

[18:06:00.0000] <Hixie>
:-)

[18:06:01.0000] <Hixie>
I don't think it would be better for the page to say that twice when the image isn't shown

[18:07:00.0000] <Hixie>
/me slams into an html-koolade-vacuum on the ietf uri mailing list

[18:07:01.0000] <Philip`>
What "would be better" is not necessarily related in any way to what's conforming HTML5

[18:07:02.0000] <Hixie>
html5-koolade-vacuum, i should say

[18:07:03.0000] <Hixie>
Philip`: yeah

[18:07:04.0000] <Hixie>
Philip`: not sure what the spec should say to handle this case

[18:08:00.0000] <Hixie>
"A client or browser MUST NOT transmit passwords in clear text."

[18:08:01.0000] <Hixie>
well

[18:08:02.0000] <Hixie>
that could be a problem

[18:08:03.0000] <Hixie>
someone please make a special build of firefox for the tag

[18:09:00.0000] <roc>
one without support for text inputs?

[18:09:01.0000] <Hixie>
one that refused to transmit type=password inputs over http

[18:10:00.0000] <Hixie>
refuses

[18:10:01.0000] <Hixie>
as in, won't include the contents of such form fields in unencrypted http requests

[18:11:00.0000] <Philip`>
I think the spec should just give guidelines like "if all images on the page are replaced with their alt text, then the page should make sense and not lose information" that people can read and understand and apply in every case they come across - the more the spec tightens its grip on specific cases with 'must' requirements, the more unhandled cases will slip through its metaphorical fingers (and the more people will say "tl;dr" and ignore it entirely

[18:11:01.0000] <Philip`>
)

[18:11:02.0000] <roc>
I've sometimes thought it would be cool to figure out what your credit card number is and refuse to submit it over HTTP

[18:11:03.0000] <Philip`>
Well, maybe that's not a very good metaphor :-(

[18:12:00.0000] <Hixie>
Philip`: yeah, maybe

[18:15:00.0000] <Philip`>
roc: Web developers seem quite ingenious at working around arbitrary restrictions - I imagine someone would publish an article saying you just have to do <form onsubmit="ccnumber.value = ccnumber.value.split('').reverse().join('')"> and give some PHP code to undo the effects on the server, and then millions of people will start doing that

[18:15:01.0000] <roc>
yeah

[18:15:02.0000] <othermaciej>
dedicated attackers with fraudulent sites are probably more of a threat these days than developers making honest mistakes and information being leaked by sniffing

[18:15:03.0000] <roc>
especially phishers

[18:16:00.0000] <roc>
actually the goal would be to stop phishers

[18:16:01.0000] <roc>
so you'd have additional restrictions

[18:16:02.0000] <roc>
but it wouldn't really work

[18:16:03.0000] <roc>
because they'd do keystrokes + AJAX or have the user click on a keypad or something

[18:17:00.0000] <Hixie>
/me tries to reply to the tag politely

[18:18:00.0000] <Philip`>
There could be a special anti-phishing meta tag, that causes web browsers to take a screenshot of the page, and then whenever you visit a page on a different domain it compares against the original screenshot and if it looks too similar then the new page is probably a phishing attempt

[18:19:00.0000] <roc>
we could just do that always

[18:19:01.0000] <roc>
too bad if a site changes domains

[18:19:02.0000] <Hixie>
that would be awesome in so many ways

[18:19:03.0000] <Hixie>
/me objects in advance on behalf of google

[18:22:00.0000] <Philip`>
Perhaps what we should do is allow passwords in plain text, but require URLs to be encrypted

[18:22:01.0000] <Philip`>
Then an attacker would know your password but wouldn't know what sites they could use it on

[18:25:00.0000] <Hixie>
frank's advice about how to handle the uri mess: "stay out of trouble"

[18:47:00.0000] <Hixie>
http://www.w3.org/mid/g3s3s1$7jg$1⊙ggo is also pretty special

[18:47:01.0000] <Hixie>
"please don't complicate our standards process with reality"

[19:02:00.0000] <othermaciej>
what is a LEIRI?

[19:02:01.0000] <othermaciej>
why must *RIs be renamed every two years?

[19:03:00.0000] <Philip`>
Is it pronounced "lairy"?

[19:27:00.0000] <jcranmer>
/me celebrates the netsplit frequency on freenode

[21:53:00.0000] <MikeSmith>
Shyam Habarakada from Microsoft -- who's been posting to the Geolocation list -- seems to be an actual developer

[21:53:01.0000] <MikeSmith>
as opposed to PM or whatever

[21:53:02.0000] <MikeSmith>
http://www.linkedin.com/in/shyamhabarakada

[21:54:00.0000] <MikeSmith>
Sr. Development Lead at Microsoft

[21:54:01.0000] <MikeSmith>
cool to have an actual developer from MS participating in something

[22:08:00.0000] <MikeSmith>
looks like he's a Safari user also

[22:08:01.0000] <MikeSmith>
http://shyamh.spaces.live.com/blog/cns!D3D369DD6211F237!1168.entry

[22:13:00.0000] <othermaciej>
so mixed messages regarding his taste in browsers

[22:20:00.0000] <mcarter>
that post doesn't send a mixed message at all

[22:21:00.0000] <mcarter>
it says "safari won't use my favorite search engine, live search, but i managed to change the settings so that its just like my favorite browser, IE"

[22:22:00.0000] <othermaciej>
he doesn't really say IE is his favorite, just indirectly seems to favor its "search democracy"

[22:24:00.0000] <mcarter>
i suppose so

[22:25:00.0000] <mcarter>
has the IE team ever sent the webkit team a cake around the time of a major release?

[22:40:00.0000] <roc>
the downside of not doing webkit releases, eh

[23:00:00.0000] <roc>
/me wonders who was responsible for deciding that SVG gradients and patterns should be able to "inherit" attributes from other gradients and patterns referenced by ID

[00:46:00.0000] <takkaria>
hmm, is it really "resolve a URL" and "parse a URL"?

[00:47:00.0000] <takkaria>
I'd have thought it should be "an URL"

[00:47:01.0000] <takkaria>
I guess it depends if you spell out URL or not... we obvious need some of RB's abbr tag extensions here

[00:47:02.0000] <hsivonen>
takkaria: I think the expected pronunciation doesn't start with a vowel: you are ell

[00:51:00.0000] <takkaria>
everyone else has weird expectations. :)

[00:58:00.0000] <Dashiva>
When in doubt, rephrase the sentence to use definite articles

[00:59:00.0000] <Hixie>
i call them "you are ells" because "earl" is just silly

[01:00:00.0000] <Hixie>
but then i call it "ess queue ell" and not "sequel" so what do i know

[01:00:01.0000] <Hixie>
however, since i'm writing the spec... :-)

[01:01:00.0000] <takkaria>
I talk about earls and spell out SQL

[01:01:01.0000] <takkaria>
sequel is blatantly a lie

[01:02:00.0000] <gavin_>
/me is in the "earl is silly" camp

[01:05:00.0000] <mcarter>
are Frode Børli or Philipp Serafin in this channel?

[01:06:00.0000] <mcarter>
I'm a little confused by their tcp connection discussion on th elist

[01:10:00.0000] <Hixie>
man at some point i need to go through the spec and make it more consistent about whether attributes are their value, contain their value, or have their value

[01:10:01.0000] <Hixie>
right now i use all three interchangeably and it sounds like three different people wrote the spec

[01:10:02.0000] <Hixie>
how embarassing

[01:13:00.0000] <takkaria>
I'm sure it can be forgiven given the size of the spec, really :)

[01:42:00.0000] <takkaria>
ah, all these "Act as if ... had been seen" bits are doing my head in

[01:44:00.0000] <Hixie>
oh?

[01:44:01.0000] <Hixie>
why?

[01:45:00.0000] <gDashiva>
Act as if you understand this part of the spec

[01:45:01.0000] <takkaria>
I think it's probably because I'm going about implementing it the wrong way but sometimes it just seems unnecessary

[01:47:00.0000] <takkaria>
in the "in table body" tree construction step, for example, for some cases it tells you to act as if an end tag with the same tag name as the current node had been seen

[01:47:01.0000] <takkaria>
when all that actually amounts to is popping the current node from the stack of open elements

[01:48:00.0000] <takkaria>
I understand that if you want to update things in the future, this makes it a bit easier, but it can get a little annoying

[01:49:00.0000] <takkaria>
I think I'm just best sorting out an easy to to call the tree construction phase from within itself to save all the faffing

[01:50:00.0000] <Hixie>
takkaria: when i implemented it myself i just called the tree constructor again with a fake token whenver the spec said that

[01:51:00.0000] <Hixie>
i'll probably optimise those calls away when the spec is more stable

[01:52:00.0000] <takkaria>
yeah, I'm going that route I think, but the data structures are set up such that it's a good ten lines of code to create a token and whatnot :)

[01:52:01.0000] <takkaria>
/me blames C

[01:52:02.0000] <Hixie>
write a macro :-)

[01:53:00.0000] <Hixie>
(or a function)

[01:53:01.0000] <takkaria>
macro is looking more likely

[01:53:02.0000] <Hixie>
hsivonen: the e-mail you sent to www-archive just now is pretty much exactly what i told the w3c legal team a few days ago independently when they said that they were scared of having the html5 spec mention that the whatwg version was under a more permissive license

[01:54:00.0000] <Hixie>
(the ultimate irony here, that html5 _itself_ proves that copyright doesn't stop forks, is apparently lost on them)

[01:55:00.0000] <Hixie>
(indeed, the copyright on html4 actually helped the fork, as it prevented us from going down the obvious, but flawed, route of starting from the html4 spec instead of a blank slate)

[02:06:00.0000] <hsivonen>
takkaria: I think the most non-obvious as ifs are that </p> and </br> may cause an implicit <p> or <br> which trigger breaking out of foreign content

[02:07:00.0000] <takkaria>
heh, I'm not up to there yet

[02:07:01.0000] <takkaria>
I look forward to it ^_^

[02:07:02.0000] <Philip`>
takkaria: Just use goto

[02:07:03.0000] <takkaria>
goto Philip`;   /* useful advice here */

[02:09:00.0000] <takkaria>
mm, this code really isn't structured for emitting fake tokens

[02:09:01.0000] <hsivonen>
takkaria: I inlined as ifs

[02:11:00.0000] <hsivonen>
Hixie: as far as UI goes if there's an open source spec for SVG5 and a W3C Document License doc for SVG 1.1, chances are that I'd take UI strings from the SVG5 spec even if it was otherwise less successful

[02:11:01.0000] <takkaria>
is SVG in need of a SVG5?

[02:11:02.0000] <hsivonen>
takkaria: oh yes

[02:12:00.0000] <shepazu>
yeah, takkaria, anything these guys didn't invent, they need to control and call "xxx5"

[02:12:01.0000] <takkaria>
ah, there the whatwg goes again, destroying my faith in the ability of people to get things right

[02:13:00.0000] <Hixie>
believe me, i don't want to control svg

[02:13:01.0000] <shepazu>
hmmm... try again, this time with feeling

[02:14:00.0000] <hsivonen>
shepazu: my point was that if one spec lets me reuse content and another doesn't, chances are that I'd end up using the one that I'd be allowed to use and, hence, not licensing specs as open source may actually encourage people looking for alternative expressions of the content

[02:16:00.0000] <shepazu>
that is rather convoluted reasoning... if I release a software product, and someone creates a cracked key, you endorse using the cracked version rather than the legitimate one?

[02:16:01.0000] <shepazu>
I'm not sure that's ethical

[02:16:02.0000] <hsivonen>
shepazu: for example, validator.nu pulls UI string from whatwg.org and not w3.org, not because I wanted to favor WHATWG but because the WHATWG versions allows me to do that

[02:16:03.0000] <gDashiva>
shepazu: So you're saying you don't want people to use w3c specs unless they pay for a key?

[02:17:00.0000] <hsivonen>
shepazu: your analogy seems flawed

[02:17:01.0000] <shepazu>
but if the work is derivative, hsivonen, it amounts to the same thing, and actually promotes schisms in the implementations

[02:17:02.0000] <gDashiva>
No, forcing people to create dervative works is what promotes schisms

[02:18:00.0000] <hsivonen>
shepazu: no, incentivizing people to clean-room spec text creates schisms

[02:18:01.0000] <shepazu>
gDashiva: W3C specs are royalty free... nobody's forcing anyone to create derivative works

[02:18:02.0000] <shepazu>
"clean-room spec text"?

[02:19:00.0000] <hsivonen>
shepazu: If I want UI text for SVG elements, I can't extract text from the SVG spec and get the result in Debian

[02:19:01.0000] <hsivonen>
shepazu: HTML5 is not a derivative work of HTML 4.01. It is an independent creative expression.

[02:19:02.0000] <shepazu>
that's rather a stretch...

[02:19:03.0000] <hsivonen>
shepazu: what is?

[02:20:00.0000] <shepazu>
the latter

[02:20:01.0000] <Hixie>
i can vouch for the fact that not a single word from html4 was copied into html5

[02:20:02.0000] <shepazu>
how about <h1>

[02:20:03.0000] <shepazu>
?

[02:20:04.0000] <Hixie>
how about it?

[02:20:05.0000] <shepazu>
that's not derivative?

[02:21:00.0000] <Hixie>
not in the copyright sense

[02:21:01.0000] <shepazu>
probably true

[02:21:02.0000] <gDashiva>
They both use 'HTML' too. The nerve.

[02:21:03.0000] <hsivonen>
shepazu: IANAL, but I suggest looking up court cases where it was found that strings that have to be invariant for computer program interop are copyable

[02:21:04.0000] <shepazu>
and of course, TBL didn't create the initial syntax, it was derived from SGML

[02:26:00.0000] <gDashiva>
There goes the accountability

[02:26:01.0000] <gDashiva>
And it's back

[02:26:02.0000] <hsivonen>
shepazu: the email was primarily about companion documents for HTML5. What I said about SVG on this channel was an illustratory example.

[02:28:00.0000] <shepazu>
hsivonen: then maybe you should consider less controversial phrasing, so you don't cause unnecessary misunderstandings before starting a friendly dialog?

[02:28:01.0000] <takkaria>
I didn't have any problem understanding it...

[02:28:02.0000] <gDashiva>
Maybe people should read up on context before jumping into discussions with tempers flaring

[02:28:03.0000] <hsivonen>
shepazu: OK. I'll use FooML or MathML from now on for hypothetical non-HTML examples.

[02:29:00.0000] <shepazu>
takkaria: you aren't the only audience that this public channel attracts

[02:30:00.0000] <Philip`>
hsivonen: Are you insulting MathML by calling it hypothetical?

[02:30:01.0000] <hsivonen>
shepazu: fwiw, the context was Hixie's comment about the effect of not being allowed to reuse HTML 4.01 text

[02:30:02.0000] <takkaria>
shepazu: no, but I didn't think there an implicit threat in anything hsivonen said at all, it was about using UI strings and read in the context of the email he sent to www-archive, it was pretty clear

[02:31:00.0000] <hsivonen>
Philip`: "hypothetical" qualifies "example"

[02:32:00.0000] <shepazu>
takkaria: when I hear the term SVG5, I take that to mean, "a version of SVG that we have created as a competitor", and I am pretty intent on preventing a schism for SVG... and I don't believe that I'm far of in that assessment

[02:32:01.0000] <shepazu>
far off, rather

[02:33:00.0000] <takkaria>
shepazu: I'm pretty sure no-one here has active plans to create a competing SVG spec, even if they think someone should

[02:34:00.0000] <hsivonen>
shepazu: that's indeed what "SVG5" meant. But the *point* was that licensing W3C specs more permissively would eliminate a class of cases where a competitor would be favored due to copyright considerations.

[02:34:01.0000] <shepazu>
takkaria: I don't share your optimism

[02:34:02.0000] <shepazu>
hsivonen: that's reasonable

[02:35:00.0000] <Hixie>
the hypothetical SVG5 isn't a competitor -- ideally, the SVGWG would be the one to write it

[02:35:01.0000] <Hixie>
if they did, it would save everyone a lot of trouble

[02:35:02.0000] <hsivonen>
I agree

[02:35:03.0000] <Hixie>
(isn't necessarily a competitor, i should say)

[02:35:04.0000] <takkaria>
shepazu: I'm not sure it's optimism; if someone was working on SVG5, they would have mentioned it

[02:36:00.0000] <shepazu>
takkaria: they did... Hixie proposed it in HTML5

[02:36:01.0000] <shepazu>
just not with that moniker

[02:36:02.0000] <takkaria>
that's not the same as "working on", though

[02:36:03.0000] <othermaciej>
he did?

[02:37:00.0000] <hsivonen>
shepazu: no, an "SVG5" would tweak the above-DOM parts

[02:37:01.0000] <shepazu>
hsivonen: by your definition, perhaps

[02:37:02.0000] <hsivonen>
shepazu: what Hixie proposed in the SVG spec and what I implemented in the Validator.nu parser is on the same level as XML 1.0 is to SVG

[02:37:03.0000] <shepazu>
but I don't agree with your definition

[02:37:04.0000] <Hixie>
surely hsivonen's definition is the one that matters if you're going to be offended by him using the term

[02:38:00.0000] <othermaciej>
I find the term SVG5 offensive to persons of Polish descent

[02:38:01.0000] <shepazu>
I'm actually more concerned about your definition, Hixie 

[02:38:02.0000] <takkaria>
othermaciej: I don't find it offensive, and I'm of Polish descent

[02:38:03.0000] <othermaciej>
please stop use of this obvious racist slur

[02:38:04.0000] <takkaria>
though the Latvian bit of me isn't very happy with it

[02:39:00.0000] <othermaciej>
takkaria: maybe by your definition

[02:39:01.0000] <hsivonen>
s/what Hixie proposed in the SVG/what Hixie proposed in the HTML5/

[02:39:02.0000] <shepazu>
yeah, mockery is a pretty effective way of deflecting truth

[02:40:00.0000] <othermaciej>
it tends to be more effective at deflecting self-important indignation

[02:40:01.0000] <gDashiva>
Sounds like SVG has a lot to be afraid of

[02:40:02.0000] <shepazu>
FWIW, I'm already on public record saying that SVG needs some major cleanup... I know I've talked to Hixie and Maciej, among others about it

[02:40:03.0000] <othermaciej>
truth holds up against mockery

[02:41:00.0000] <shepazu>
othermaciej: nah, in the right audience, mockery suffices for anything

[02:41:01.0000] <hsivonen>
shepazu: if the SVG WG is on the case, what's there to be threated or offended about?

[02:42:00.0000] <othermaciej>
this channel's audience is probably not one of those

[02:43:00.0000] <shepazu>
I never said I was offended... I just popped in to ask why you're so keen to make an incompatible version of SVG... you cited a reasonable concern about certain kinds of reuse, and that's something productive we can build on... 

[02:43:01.0000] <othermaciej>
hsivonen's comments really weren't about SVG

[02:44:00.0000] <othermaciej>
they were about the W3C Document License and how it is problematic for free software projects

[02:44:01.0000] <shepazu>
and to suggest that the best way of being productive is not to threaten others without first trying to work with them

[02:44:02.0000] <hsivonen>
shepazu: first, the comment wasn't about SVG in particular but about a W3C spec foo and a more liberally licensed independent expression.

[02:44:03.0000] <shepazu>
yep, that's a legitmate concern, imo

[02:45:00.0000] <othermaciej>
(I think the W3C software license is similarly problematic and at least some specs claim it applies to the IDL interfaces they define)

[02:46:00.0000] <Hixie>
SVG5, by my definition at least, can't be non-backwards-compatible

[02:46:01.0000] <Hixie>
that would defeat the point

[02:46:02.0000] <hsivonen>
shepazu: the second "oh yes" comment to the need of an SVG5 was about SVG. In particular, a version of SVG that treated full-stack browsers as its compatibility target. (not previous SVG specs or non-full-stack mobile implementations)

[02:46:03.0000] <othermaciej>
Hixie: non-backwards-compatible with the spec, or with existing implementations/content?

[02:46:04.0000] <shepazu>
all of this is a way, however flawed, of trying to prevent incompatible derivatives that damage the technology, which is a good goal... it's possible the way it's being done needs work

[02:47:00.0000] <Hixie>
othermaciej: with Web content

[02:48:00.0000] <hsivonen>
/me leaves to get food

[02:48:01.0000] <othermaciej>
if the W3C document license is intended to prevent incompatible derivatives, then it has not worked very well

[02:48:02.0000] <shepazu>
society doesn't really have a good way of dealing with strange cases like this... it's more geared up, legally, to deal with physical products

[02:48:03.0000] <othermaciej>
Exhibit A: Web browsers

[02:49:00.0000] <shepazu>
othermaciej: but those aren't specs

[02:49:01.0000] <shepazu>
anyway, back to work

[02:49:02.0000] <Hixie>
the specs are somewhat empty of meaning if you discount their implementations as irrelevant...

[02:50:00.0000] <shepazu>
that's neither what I said nor meant, but I guess that is irrelevant to you ;)

[02:50:01.0000] <othermaciej>
an implementation is a spec, just an overconstrained one

[02:50:02.0000] <othermaciej>
implementations are where the rubber hits the road

[02:50:03.0000] <Hixie>
/me prefers to look at it the other way around -- that a spec is an implementation, just one with weird users

[02:51:00.0000] <othermaciej>
the important thing is for implementations to be interoperable, and it doesn't really matter if someone wrote down an incompatible spec

[02:52:00.0000] <takkaria>
except to the extent is stops people being able to interoperate successfully

[02:52:01.0000] <takkaria>
s/iss/it

[02:53:00.0000] <annevk>
this URL thread is long

[02:53:01.0000] <shepazu>
othermaciej: actually, it does... if different implementers code to different specs, it's pretty bad... the point of making a spec good enough that there aren't incompatibilities is a good one, but that doesn't negate the importance of a single point of reference

[02:53:02.0000] <shepazu>
copyright is just another of those inadequate social mechanisms to try to create interop

[02:53:03.0000] <shepazu>
oops

[02:54:00.0000] <shepazu>
that is being used to try to create interop, that is

[02:54:01.0000] <othermaciej>
it's not much consolation that there isn't a spec for the weird things IE6 does with CSS

[02:54:02.0000] <shepazu>
yup

[02:54:03.0000] <othermaciej>
in fact, the world might be a better place if there was

[02:55:00.0000] <jgraham__>
This sounds a lot like the argument that open source is bad because people can fork it whereas in practice forks turn out to be rare and, when hty happen, beneficial

[02:55:01.0000] <othermaciej>
so it would probably be better to allow making derivative works of the spec to document known implementation bugs

[02:55:02.0000] <shepazu>
one would think that with some of the CSS editors being from MS, that would help

[02:55:03.0000] <othermaciej>
I don't think any of them want to make the CSS spec require IE6 behavior

[02:56:00.0000] <shepazu>
othermaciej: only if there weren't multiple incompatible derivative specs

[02:56:01.0000] <othermaciej>
I don't follow

[02:56:02.0000] <gDashiva>
If someone wants to be incompatible, it's not like they need a competing spec as an excuse...

[02:57:00.0000] <shepazu>
gDashiva: actually, that is often the case

[02:57:01.0000] <shepazu>
it gives it credibility

[02:57:02.0000] <gDashiva>
Credibility is something you add on later, it's not necessary

[02:58:00.0000] <othermaciej>
if your goal is incompatibility as such, it's probably easier to achieve by not copying the spec text, so that there is more accidental incompatibility and so it's harder to tell what is different

[02:59:00.0000] <othermaciej>
but if your goal was to, say, document implementation bugs for the benefit of authors, quoting the spec text to indicate differences would be useful

[03:00:00.0000] <Hixie>
if your goal is being incompatible, simply doing a bad job at implementing the spec is far easier than anything else

[03:00:01.0000] <shepazu>
sure... and I agree that W3C should move in that direction, to some degree

[03:01:00.0000] <shepazu>
that is, documenting what's out there, and trying to make sure that there aren't incompatibilities in the first place by writing better specs

[03:06:00.0000] <annevk>
why HTML5 will never fly: "It tries to reinvent the Web, if not the Internet."

[03:06:01.0000] <annevk>
at which point I wonder, what Web?

[03:07:00.0000] <othermaciej>
annevk: quote from somewhere?

[03:08:00.0000] <annevk>
the URI mailing list

[03:08:01.0000] <annevk>
http://lists.w3.org/Archives/Public/uri/2008Jun/

[03:08:02.0000] <annevk>
specifically, http://lists.w3.org/Archives/Public/uri/2008Jun/0052.html

[03:08:03.0000] <Hixie>
that thread is quite something

[03:08:04.0000] <Hixie>
a somewhat pure collision of the old guard and the whatwg ethos

[03:12:00.0000] <othermaciej>
come on Hixie, you should have known that "URIs are specified in RFC 3986, not in RFC 3987."

[03:12:01.0000] <Hixie>
it's not clear to me why he thinks i thought otherwise

[03:12:02.0000] <Hixie>
but anyway

[03:13:00.0000] <Hixie>
(87 is the iri spec)

[03:13:01.0000] <annevk>
allowing links with a space, how dare you!

[03:13:02.0000] <Hixie>
html5 doesn't allow links with space either :-P

[03:13:03.0000] <annevk>
next you're telling me I'm confusing UA and author requirements :D

[03:14:00.0000] <Hixie>
:-P

[03:20:00.0000] <othermaciej>
that's one heck of a long thread

[03:46:00.0000] <Hixie>
time to sleep

[03:46:01.0000] <Hixie>
nn

[03:47:00.0000] <annevk>
g'n

[03:51:00.0000] <MikeSmith>
http://sideshowbarker.net/2008/06/25/html5-uris/

[03:55:00.0000] <annevk>
ah, I was planning on blogging about that too "Passing of the old Guard"

[03:57:00.0000] <MikeSmith>
"Pissing off the old Guard"

[03:57:01.0000] <hsivonen>
MikeSmith: that seems to be the case :-(

[04:33:00.0000] <annevk>
/me is confused by Charles Lindsey

[04:53:00.0000] <hsivonen>
I'm not sure it's worthwhile to allow xmlns talismans only on namespace boundaries.

[04:54:00.0000] <hsivonen>
I guess this comes down to how much useless and harmless cruft passes as valid and to what extent validity captures some aesthetic notion of source neatness

[05:04:00.0000] <hsivonen>
It's weird that the named character reference table is mostly lexicographically sorted but the trailing semicolon doesn't obey the sort.

[05:04:01.0000] <hsivonen>
(probably too trivial to file a spec bug about)

[05:36:00.0000] <hsivonen>
aargh! I try to add the MathML entities and the compiler tells me that the static initializer then exceeds the 65535-byte limit

[05:37:00.0000] <annevk>
not an argument to remove support for them! :p

[05:49:00.0000] <annevk>
DNS has interop issues too: https://bugzilla.mozilla.org/show_bug.cgi?id=196852

[05:49:01.0000] <annevk>
awesome

[05:52:00.0000] <hsivonen>
wow

[05:52:01.0000] <annevk>
on the Web, everything that can go wrong, will go wrong

[05:53:00.0000] <gDashiva>
Especially when 'wrong' is some arbitrary behavior defined in a spec

[05:55:00.0000] <hsivonen>
at least the MathML entities didn't break any html5lib test cases

[05:55:01.0000] <annevk>
they're not part of html5lib yet

[05:56:00.0000] <hsivonen>
annevk: I mean: there weren't any test cases that expected MathML entities not to expand

[05:57:00.0000] <annevk>
ah

[05:57:01.0000] <takkaria>
it should be possible to generate a test suite for HTML entities directly from the entities list in SVN

[05:57:02.0000] <takkaria>
I was toying with the idea but wasn't sure it was worth it

[06:18:00.0000] <Philip`>
A test suite for entities ought to check to every string that isn't a recognised entity does not get expanded

[06:20:00.0000] <Philip`>
(I suppose that might be infinitely too many, but at least it should test ones that are implemented in some cases in practice, like &pdf; and whatever)

[06:24:00.0000] <Philip`>
Web browsers need error-handling for URLs in HTTP redirect responses, because lots of those have spaces or | characters - would that be covered by HTML5's specification of URL handling?

[06:25:00.0000] <annevk>
in theory it's an HTTP issue :/

[06:26:00.0000] <Philip`>
Who cares about theory? :-p

[06:27:00.0000] <takkaria>
Philip`: practically, the only way you'll ever do that check for entities is with a test coverage tool and the source code for your implementation to hand

[06:31:00.0000] <gsnedders>
Philip`: That'll be defined in http-parsing

[06:32:00.0000] <gsnedders>
Philip`: But yes, it'll likely be very similar to HTML 5, if not identical

[06:32:01.0000] <Philip`>
/me wouldn't care except that his dmoz.org-scraping program using HttpClient results in dozens of error messages due to invalid URIs-or-whatever-they're-called-today

[06:32:02.0000] <gsnedders>
(I haven't had time to look at it yet)

[06:33:00.0000] <Philip`>
<error type="io" uri="http://maps.yahoo.com/py/maps.py?Pyt=Tmap&amp;city=Hoffman&amp;state=MN&amp;slt=45.816101&amp;sln=-95.800598&amp;mlt=45.834900&amp;mln=-95.786700&amp;country=us&amp;mag=7&amp;cs=7&amp;newmag=8" message="Invalid redirect location: /map?q1=Hoffman MN us&amp;mag=7&amp;ard=1"/>

[06:33:01.0000] <hsivonen>
I like it how they are called URLs in the new spec text

[06:33:02.0000] <Philip`>
etc

[06:35:00.0000] <gsnedders>
Philip`: Yeah, the stuff in http-parsing will be more or less identical

[06:35:01.0000] <gsnedders>
I see ambiguity in what Hixie wrote, so I'll need to send mail about that

[06:39:00.0000] <annevk>
hsivonen, me too

[06:39:01.0000] <annevk>
+1

[06:41:00.0000] <hsivonen>
Does Safari allow UTF-8 errors in feed parsing?

[06:42:00.0000] <Philip`>
http://www.ppqu.com/

[06:42:01.0000] <Philip`>
In the links panel at the bottom, middle column, fifth row, "舞蹈"

[06:43:00.0000] <Philip`>
links to http://www.ppqu.com/search.php?search_input=%%CE%E8%B5%B8

[06:43:01.0000] <Philip`>
which gives "Not Acceptable: An appropriate representation of the requested resource /search.php could not be found on this server. Microsoft-IIS/6.0 Server at www.ppqu.com Port 80"

[06:44:00.0000] <Philip`>
but it seems to give that in every browser (IE6/Firefox/Opera) so I guess it's not an interoperability problem

[06:44:01.0000] <hsivonen>
Philip`: which reminds me: wasn't there sume non-standard UTF-16-based query string escaping scheme?

[06:45:00.0000] <hsivonen>
s/sume/some/

[06:47:00.0000] <Philip`>
hsivonen: %uXXXX

[06:48:00.0000] <hsivonen>
Philip`: looks like Hixie hasn't specced that yet

[06:49:00.0000] <Philip`>
hsivonen: http://10.pro.tok2.com/%7ehonetsugi408/ used to link to http://maps.live.com/default.aspx?v=2&ss=yp.%u3057%u304a%u3084%u6574%u9aa8%u9662~yp.%u3057%u304a%u3084%u63a5%u9aa8%u30fb%u6574%u9aa8%u9662&cp=35.790005~139.439234&style=r&lvl=18&tilt=-90&dir=0&alt=-1000

[06:50:00.0000] <Philip`>
which doesn't work if you rewrite it like http://maps.live.com/default.aspx?v=2&ss=yp.%25u3057%25u304a%25u3084%25u6574%25u9aa8%25u9662~yp.%25u3057%25u304a%25u3084%25u63a5%25u9aa8%25u30fb%25u6574%25u9aa8%25u9662&cp=35.790005~139.439234&style=r&lvl=18&tilt=-90&dir=0&alt=-1000

[06:51:00.0000] <hsivonen>
Philip`: have you found other instances?

[06:56:00.0000] <Philip`>
http://www.chnrailway.com

[06:56:01.0000] <Philip`>
<a href="/Product/Product_listS.aspx?keywords=%u6A21%u677F" target="_blank">Ä£°å</a>

[06:56:02.0000] <Philip`>
but it looks like they've changed their site now

[06:59:00.0000] <Philip`>
hsivonen: Those two are the only ones matching (?i)href=\S*%u

[06:59:01.0000] <hsivonen>
Philip`: ok. thanks

[07:00:00.0000] <hsivonen>
I trust that Hixie can check Google's cache to see if %uXXXX matters

[07:01:00.0000] <Philip`>
There might be others in other attributes but I didn't check for those

[07:02:00.0000] <Philip`>
/me still really needs to write some code so he can search attribute values nicely and quickly

[07:10:00.0000] <Lachy>
oh wow, rob's responses are becoming less coherent all the time. http://www.w3.org/Bugs/Public/show_bug.cgi?id=5772#c12 - I'm definitely not responding to that.

[07:13:00.0000] <gDashiva>
You're implying they are coherent? :)

[07:13:01.0000] <annevk>
I'm glad we have bugzilla

[07:13:02.0000] <jcranmer>
"I want to strengthen uniqueness by changing the scope of uniqueness"

[07:14:00.0000] <annevk>
and that I'm not on it :)

[07:15:00.0000] <jcranmer>
that to me implies "I'm going to make everyone pass by simply defining failure to be this specific score"

[07:17:00.0000] <gDashiva>
All ids are unique, but some are more unique than others.

[07:19:00.0000] <Lachy>
I didn't imply they were ever coherent, just that it's possible to go from incoherrent to even more incoherrent.

[07:20:00.0000] <jcranmer>
o_O I'm reading his last comment and it makes less and less sense

[07:20:01.0000] <jcranmer>
this is the gist of it: "unique IDs are a problem, so we should allow non-unique IDs and then pretend they're unique"

[07:20:02.0000] <takkaria>
he's doing a PhD in something related to politics, economics and Marx, he spends a lot of time arguing things which don't make sense

[07:21:00.0000] <gDashiva>
jcranmer: You left out the part about xml:ID being perfect and awesome

[07:21:01.0000] <jgraham_>
hsivonen: Re: testcases, I'm +1 on your idea but I would just use the full strings math and svg unless there is some good reason not to

[07:21:02.0000] <Philip`>
/me sees http://camendesign.com/ using HTML5 elements

[07:21:03.0000] <jcranmer>
gDashiva: ah, yes I did

[07:21:04.0000] <hsivonen>
jgraham_: like <svg foreignContent>?

[07:22:00.0000] <jgraham_>
yeah

[07:22:01.0000] <hsivonen>
jgraham_: ok. makes sense

[07:22:02.0000] <annevk>
wfm too

[07:23:00.0000] <jcranmer>
/me recommends RESO THISBUGISACONTRADICTION

[07:23:01.0000] <hsivonen>
takkaria: are you suggesting that Marxist economics don't make sense?

[07:24:00.0000] <jcranmer>
takkaria: that should explain it; politicians try to take every side of the issue

[07:24:01.0000] <takkaria>
hsivonen: I merely suggest that maybe they're not very practical and somewhat idealistic :)

[07:25:00.0000] <Lachy>
oh, look, now he's proposing an attribute with my name: "That could be “<element lachy='value'>” It is up to the document specification to determine where an element ID comes from."

[07:27:00.0000] <annevk>
it's tempting to reply to RB, but pointless

[07:27:01.0000] <jgraham_>
Philip`: I note that person complains about <figure><legend>

[07:27:02.0000] <Lachy>
annevk, I know it's tempting. I've failed to resist temptation before. But a really big waste of time.

[07:27:03.0000] <jgraham_>
and also seems to misuse <header>

[07:29:00.0000] <Philip`>
Lachy: Removing oneself from the CC list is quite effective

[07:29:01.0000] <gDashiva>
(unless you're also on the mailing list)

[07:29:02.0000] <annevk>
not having a W3C Bugzilla account is too

[07:29:03.0000] <Philip`>
(Then unsubscribe from the mailing list :-p )

[07:30:00.0000] <Philip`>
(and when the new-bug-notification message is sent to public-html, CC yourself if you think it's going to be a worthwhile bug, instead of defaulting to following everything)

[07:30:01.0000] <Lachy>
Philip`, I'm subscribed to public-html-bugzilla, and I'm not on the CC list.

[07:30:02.0000] <Lachy>
Philip`, I'm too lazy for that.

[07:31:00.0000] <Philip`>
Lachy: Then unsubscribe to public-html-bugzilla, and don't CC yourself ever

[07:31:01.0000] <Philip`>
That's the best solution for lazy people :-)

[07:35:00.0000] <Lachy>
Philip`, I need a solution that lets me keep track of everything that goes on

[07:35:01.0000] <Philip`>
Lachy: That is incompatible with laziness

[07:48:00.0000] <takkaria>
Philip`: not if you redefine laziness such that it includes not being lazy

[07:49:00.0000] <Philip`>
takkaria: That kind of redefinition would take too much effort

[07:49:01.0000] <takkaria>
not under my definition :)

[07:52:00.0000] <takkaria>
parody of RB is far too easy...

[08:03:00.0000] <Lachy>
the XHTML2 WG are having another telcon. Apparently they didn't like the HTMLWG's response to there issue.

[08:04:00.0000] <Lachy>
but they will discuss it more over email and then follow up in next week's telcon.

[08:05:00.0000] <Lachy>
s/there issue/their issue/

[08:19:00.0000] <gsnedders>
telecons ftl

[08:21:00.0000] <Philip`>
They appear to result in all actions and decisions taking a positive integer number of weeks, which seems bad if the group is active enough to work faster than that

[08:22:00.0000] <gsnedders>
Philip`: like a negative integer number of weeks?

[08:22:01.0000] <Lachy>
gsnedders, yes. Everything should be finished last week.

[08:22:02.0000] <Philip`>
Like a non-integer number of weeks :-p

[08:23:00.0000] <Philip`>
or a non-positive non-negative integer

[08:23:01.0000] <Lachy>
the only non-positive, non-negative integer is 0

[08:23:02.0000] <Philip`>
Indeed

[08:24:00.0000] <gsnedders>
so it should be done NOW?

[08:24:01.0000] <Philip`>
Not everything, but some things should be

[08:25:00.0000] <Philip`>
particularly when it takes less time to just do it than it would take to add it to an agenda to agree next week to do it

[08:27:00.0000] <Philip`>
Hmm, I've forgotten what I was talking about now

[08:27:01.0000] <Philip`>
Oh well

[08:29:00.0000] <gsnedders>
/me passes Philip` some ROM for next time

[08:30:00.0000] <zcorpan>
Philip`: we should discuss what you were talking about at the next telecon

[09:31:00.0000] <takkaria>
/me reads the examples in the html5 spec for a laugh

[09:33:00.0000] <Philip`>
There are some fairly obscure references in some of them

[09:34:00.0000] <mpt>
In 100 years the HTML 5 spec will be the only remaining trace of Stargate SG-1

[09:37:00.0000] <mpt>
(well, maybe 300 years)

[09:38:00.0000] <gsnedders>
/me laughs at one example which is obviously Hixie talking about himself

[09:45:00.0000] <Philip`>
Hixie: "<li value="8"><cite>A Bugs Life</cite>, 1998</li>" should say "A Bug's Life"

[09:54:00.0000] <mrbkap>
Hixie: http://www.hixie.ch/tests/adhoc/html/parsing/comments/004.html should show the text b-->c with your algorithm, right?

[09:55:00.0000] <Philip`>
mrbkap: HTML5 says it should be http://james.html5.org/cgi-bin/parsetree/parsetree.py?uri=http%3A%2F%2Fwww.hixie.ch%2Ftests%2Fadhoc%2Fhtml%2Fparsing%2Fcomments%2F004.html

[09:57:00.0000] <mrbkap>
Ah, I was wondering if something like that existed.

[09:57:01.0000] <mrbkap>
Cool, thanks.

[09:58:00.0000] <Philip`>
(Also see http://parsetree.validator.nu/ for an independent implementation that hopefully gives the same results)

[09:59:00.0000] <mrbkap>
I think I just implemented the comment parsing in Gecko.

[10:00:00.0000] <Philip`>
It'd be good to know if HTML5's comment parsing algorithm doesn't break the web :-)

[10:01:00.0000] <mrbkap>
Heh, I'm sort of worried about that!

[10:01:01.0000] <jgraham_>
I should update the html5lib on james.html5.org

[10:01:02.0000] <jgraham_>
Although I don't think it's all that old

[10:02:00.0000] <smedero>
it be nice if your tool had a little html5lib version # text in the footer...

[10:03:00.0000] <jgraham_>
Should be up to date now (although validator.nu is closer to the current state of the spec)

[10:03:01.0000] <jgraham_>
smedero: Yeah, I guess it could show the svn rev or something

[10:05:00.0000] <jgraham_>
/me will investigate that this evening

[10:05:01.0000] <smedero>
cool, thanks!

[11:06:00.0000] <Philip`>
jcranmer: so it seems like scheduled maintenance, and presumably it's not scheduled frequently

[11:07:00.0000] <jcranmer>
Philip`: scheduled mainteance seems to happen frequently, though

[11:59:00.0000] <KevinMarks>
I'm trying to get an overview of datatemplate, rule, nest etc. Has anyone written this up with examples of use, rather than the pseudocode in the spec?

[12:00:00.0000] <mrbkap>
Is there any sort of test suite for comments?

[12:00:01.0000] <smedero>
KevinMarks: http://lists.w3.org/Archives/Public/public-html/2008Jun/0119.html

[12:00:02.0000] <smedero>
and also Ian's follow up: http://lists.w3.org/Archives/Public/public-html/2008Jun/0121.html

[12:00:03.0000] <smedero>
might be helpful to you

[12:02:00.0000] <Philip`>
mrbkap: html5lib has lots of test cases - http://html5lib.googlecode.com/svn/trunk/testdata/tokenizer/ and http://html5lib.googlecode.com/svn/trunk/testdata/tree-construction/

[12:02:01.0000] <Philip`>
mrbkap: Someone set up something to run those tests in a web browser directly, which might be helpful if I could find it

[12:04:00.0000] <Philip`>
mrbkap: http://html5.org/parsing-tests/testrunner.htm though I'm not sure how recent that copy of the test cases is and I'm not sure how many comment-related tests it includes

[12:05:00.0000] <mrbkap>
If it includes test2, that'll work.

[12:05:01.0000] <mrbkap>
Thanks.

[12:06:00.0000] <KevinMarks>
thanks smedero

[12:06:01.0000] <KevinMarks>
the context is the OpenSocial template discussion, and FBML

[12:09:00.0000] <Philip`>
KevinMarks: It doesn't seem likely that the datatemplate stuff will stay in HTML5, given Hixie's comments, so it should probably considered as just another nonstandard templating proposal and not as a soon-to-be-natively-implemented browser feature

[12:10:00.0000] <Philip`>
(It's also somewhat incomplete, e.g. it doesn't define any way of inserting data values into the templated output)

[12:28:00.0000] <KevinMarks>
it looks much less complete than the opensocial proposal

[12:28:01.0000] <KevinMarks>
http://groups.google.com/group/opensocial-and-gadgets-spec/web/opensocial-templates

[12:36:00.0000] <Philip`>
KevinMarks: datatemplate lets you modify the data via the DOM and the template will automatically update to show the new data (while trying to not lose values users typed into form elements) - it looks like the OpenSocial proposal doesn't do that at all, and is just a one-time convert-some-data-into-some-HTML process

[14:15:00.0000] <mitsuhiko>
html5lib still doesn't work with lxml2 :(

[14:23:00.0000] <jgraham__>
mitsuhiko: ? WFM...

[14:23:01.0000] <jgraham__>
Although there might be some corner case issues on the lxml side

[14:24:00.0000] <mitsuhiko>
jgraham_ValueError: Invalid tag name u'<DOCUMENT_ROOT>'

[14:24:01.0000] <mitsuhiko>
that's latest html5lib trunk and lxml2.1beta3

[14:26:00.0000] <jgraham__>
mitsuhiko: That's very surprising; I thought that wasn't possible with the latest html5lib trunk

[14:26:01.0000] <jgraham__>
/me goes to look

[14:26:02.0000] <mitsuhiko>
i could swear it worked some time ago

[14:29:00.0000] <jgraham__>
Oh, maybe you're trying to use the etree TreeBuilder with lxml, which won't work anymore; you need to do getTreeBuilder("lxml") instead

[14:30:00.0000] <jgraham__>
(I had to fork the two cases as lxml has some important differences from standard ElementTree but I should try porting the ElementTree code to the lxml way)

[14:32:00.0000] <Hixie>
hm, it seems the URI spec defines "URL" already

[14:32:01.0000] <Hixie>
maybe we should use the word "address"?

[14:48:00.0000] <Philip`>
Hixie: That would make the <address> element very confusing

[14:48:01.0000] <Hixie>
yes

[14:48:02.0000] <Hixie>
but then again

[14:48:03.0000] <Hixie>
would it make it _more_ confusing? :-)

[14:50:00.0000] <Philip`>
It seems generally worthwhile to avoid overloading terminology, and "address" is already overloaded enough that it'd be harmful to rely on it as a technical term with a very specific meaning that readers are somehow expected to understand

[14:50:01.0000] <Dashiva>
What about location?

[14:50:02.0000] <Dashiva>
It matches with the location object :)

[14:51:00.0000] <Hixie>
/me just wontfixed a request to change the doctype syntax to help xslt users

[14:51:01.0000] <Philip`>
"URL" doesn't have that problem because nobody reads RFCs and everybody already knows that URLs are just the things like http://blah that you type into web browsers

[14:51:02.0000] <Hixie>
"URL" has so far confused one person

[14:51:03.0000] <Philip`>
which is a sufficiently specific meaning for most purposes

[14:52:00.0000] <Philip`>
That's a whole six billion people it hasn't confused yet - I think the one is outnumbered

[14:52:01.0000] <Dashiva>
What about... XRX

[14:52:02.0000] <Hixie>
well the six billion people haven't read the spec :-)

[14:52:03.0000] <Hixie>
Dashiva: dude. you invented a new term AND used two "x"s in it. disqualified! :-P

[14:53:00.0000] <Hixie>
w is the new x

[14:53:01.0000] <Dashiva>
[UI]R[IL]

[14:53:02.0000] <Hixie>
lord

[14:53:03.0000] <Hixie>
ok i'll stick to URL until someone comes up with something actually better

[14:53:04.0000] <Dashiva>
:(

[14:54:00.0000] <Dashiva>
Okay, last shot. EARL.

[14:54:01.0000] <Hixie>
something else that's confusing

[14:54:02.0000] <Hixie>
is that the spec uses the term "URL" when it talks about things that take URIs

[14:54:03.0000] <Hixie>
and uses the term data: URI when talking about the output of the method toDataURL

[14:55:00.0000] <Hixie>
maybe i should call them data: URL

[14:55:01.0000] <Hixie>
which would be ironic since while it's what the data: URL spec calls them, they're not actually URLs in the sense of the term as defined by 3986

[14:55:02.0000] <Dashiva>
As I understand it, IRI is just a way to map fancy letters into URIs, but how does URLs figure into it?

[14:56:00.0000] <Hixie>
the uri spec defines uri space as being further subset into url and urn sapce

[14:56:01.0000] <Hixie>
space

[14:56:02.0000] <Hixie>
/me calls them data: URLs and moves on

[14:56:03.0000] <Philip`>
Who chose the name "toDataURL"?

[14:57:00.0000] <Dashiva>
Does anyone care about URNs in practice?

[14:57:01.0000] <Hixie>
Philip`: me

[14:57:02.0000] <Dashiva>
As in, can we just assume URL = URI?

[14:57:03.0000] <Hixie>
Dashiva: lots of people living in ivory towers do :-D

[14:57:04.0000] <Dashiva>
That was badly formulated.

[14:57:05.0000] <Dashiva>
I meant, will we ever encounter URIs that aren't URLs in real life?

[14:58:00.0000] <Philip`>
<html xmlns:v="urn:schemas-microsoft-com:vml" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:w="urn:schemas-microsoft-com:office:word" xmlns="http://www.w3.org/TR/REC-html40">

[14:58:01.0000] <Dashiva>
namespaces are just opaque strings (to me)

[14:59:00.0000] <Lachy>
hmm. I don't like bug 5801 for adding xmlns to all elements.

[15:01:00.0000] <Hixie>
me either

[15:06:00.0000] <Philip`>
('HTML URL' = HURL gives the right connotations)

[15:07:00.0000] <Dashiva>
what-url

[15:07:01.0000] <Philip`>
Dashiva: Hmm, I can't find anything that looks like a URN like \s(?!xmlns)\S+="urn:(?!schemas-microsoft-com)

[15:08:00.0000] <Philip`>
(except for example code in http://www.mozilla.org/docs/xul/xulnotes/template-primer.html which isn't what I was intending to look for)

[15:09:00.0000] <Dashiva>
So there's no practical difference between uri and url on the web

[15:11:00.0000] <Philip`>
s/the web/a tiny subset of the web/

[15:13:00.0000] <Hixie>
like i said

[15:13:01.0000] <Hixie>
ivory towers

[15:36:00.0000] <jcranmer>
Hixie++ for his latest CVS comment

[15:39:00.0000] <Hixie>
someone should let www-html know that html5 defines innerHTML

[15:40:00.0000] <Lachy>
oh, geez. www-html has had a lot of traffic in the last day.

[15:42:00.0000] <Lachy>
grr, I hate my ISP. Experiencing crappy, intermittent connection problems and tech support didn't even respond to my email :-(

[15:42:01.0000] <Hixie>
we were having huge issues with comcast the other day

[15:42:02.0000] <Hixie>
it just dropped off at 2am

[15:43:00.0000] <gsnedders>
Hixie: This is why you sleep overnight :P

[15:43:01.0000] <Lachy>
that's not surprising. I don't think I've ever read anything positive about comcase.

[15:43:02.0000] <Lachy>
*comcast

[15:43:03.0000] <jcranmer>
Hixie: probably in revenge for closing the bar on the people there

[15:43:04.0000] <Hixie>
for various reasons we were testing the network with my ipod

[15:43:05.0000] <Hixie>
and when the guy on the other end told my girlfriend "i'm sorry we don't support ipods" i just yanked the phone and went balistic on them

[15:44:00.0000] <Hixie>
nobody blames my fucking IPOD for their screwup.

[15:44:01.0000] <jcranmer>
/me imagines Hixie going ballistic

[15:44:02.0000] <Hixie>
told them that either they sent a tech guy to fix it before the end of the weekend, or we canceled the account

[15:44:03.0000] <gsnedders>
s/ipod/iPod/ig

[15:44:04.0000] <gsnedders>
/me runs and hides

[15:45:00.0000] <Hixie>
the connection magically started working again ten minutes after we hung up

[15:45:01.0000] <Hixie>
(it was a 1h10 minute phone call)

[15:45:02.0000] <jcranmer>
gsnedders: you're forgetting the trademark!

[15:45:03.0000] <gsnedders>
BT isn't much more fun to deal with

[15:46:00.0000] <jcranmer>
Verizon's pretty good... until they've decided to drop 90% of Usenet because a few newsgroups have child pr0n on them...

[15:46:01.0000] <gsnedders>
They were constantly saying, "Call the third party router's helpline! It isn't our fault! The fact that two routers exhibit the same issue with not connecting isn't our fault!"

[15:46:02.0000] <gsnedders>
/me sends jcranmer a naked pic

[15:46:03.0000] <gsnedders>
/me waits for IRC to blocked on Verizon

[15:46:04.0000] <jcranmer>
ha-ha, I'm not connected from my home computer

[15:47:00.0000] <gsnedders>
(and no, ladies and gentlemen, I didn't actually)

[15:47:01.0000] <jcranmer>
besides, I keep my address nice and private

[15:48:00.0000] <jcranmer>
only people with access to my school's Intranet know it...

[15:48:01.0000] <jcranmer>
... and most anywhere I post on Usenet :-)

[15:48:02.0000] <mitsuhiko>
jgraham_: indeed. that works

[15:48:03.0000] <mitsuhiko>
thanks a lot!

[15:49:00.0000] <mitsuhiko>
html5lib * lxml == awesome stuff

[16:03:00.0000] <technomancy>
hey, it looks like the gem version of html5lib that's been uploaded to rubyforge is rather out of date

[16:03:01.0000] <technomancy>
any chance 0.11 could be published?

[16:04:00.0000] <technomancy>
err--actually it looks like 0.10.1 is the latest for ruby

[16:05:00.0000] <Philip`>
technomancy: 0.11 is only Python - the Ruby port is currently in a slightly broken unmaintained state

[16:06:00.0000] <technomancy>
I see. Well 0.10 is too old to work with mars (the Planet port); it looks like trunk is better.

[16:08:00.0000] <jgraham__>
technomancy: Ryan King suggested he might try and update the Ruby port sometime but otherwise it's a case of patch it yourself if you need to match the current spec, I'm afraid

[16:08:01.0000] <kingryan>
hey. yeah, i'm hoping to have time to work on it soon, but don't hold your breath

[16:10:00.0000] <technomancy>
Hmm... I know next to nothing about HTML 5; I just want mars to be easy to install.

[16:12:00.0000] <technomancy>
is the version in trunk really that much worse than 0.10?

[16:13:00.0000] <jgraham__>
I think the trunk version is a little ahead of 0.10 but quite far behind 0.11. I guess it will fail a lot of the tests

[16:14:00.0000] <jgraham__>
It may be good enough for what you want to do, depending on what that is

[16:14:01.0000] <technomancy>
jgraham__: well Sam Ruby says to use trunk rather than the gem since it has a certain bug fix, but he didn't go into detail about what it was.

[16:15:00.0000] <technomancy>
yikes... it's been a long time since I've seen that many test failures.

[16:20:00.0000] <Philip`>
technomancy: Those test failures are probably caused by the tests changing (to follow more recent versions of HTML5), so it just indicates that the Ruby trunk is out of date rather than that it's buggier than in 0.10

[16:21:00.0000] <kingryan>
Philip` is right, the tests have been updated since the ruby port was last touched, so its just out of date, but stable and pretty good at dealing with real-world content

[16:22:00.0000] <technomancy>
gotcha

[16:23:00.0000] <kingryan>
i actually tested it against a couple million random pages on the web (back when i was at technorati) and it at least didn't crash during that :)

[16:24:00.0000] <Philip`>
It's trivial to write a parser that doesn't crash, since you could just make it return an empty document - the only interesting thing is whether it parsed all those millions of pages correctly :-)

[16:27:00.0000] <Hixie>
what was the reason for not using "address" again?

[16:27:01.0000] <Hixie>
was it just <address>?

[16:29:00.0000] <Philip`>
http://www.answers.com/address - it has plenty of meanings already, so it'll cause much confusion if you try to force people to think of it instead as some specific technical concept you've defined

[16:31:00.0000] <Hixie>
yeah, fair enough

[16:33:00.0000] <Hixie>
bbl


2008-06-26
[18:56:00.0000] <Philip`>
/me sees https://bugzilla.mozilla.org/show_bug.cgi?id=214476 with part of the HTML5 tokeniser state machine

[01:06:00.0000] <hsivonen>
mrbkap: parsetree.validator.nu isn't running the trunk of the Validator.nu parser (because I haven't fixed all the fallout from implementing SVG and MathML yet)

[01:34:00.0000] <gDashiva>
So this XSLT entry in bugzilla... it is being argued that using XSLT to output XHTML (instead of HTML) is an inferior solution.

[01:35:00.0000] <Lachy>
what the? One of Rob's bugs got marked ASSIGNED?!

[01:36:00.0000] <Lachy>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=5772

[01:36:01.0000] <hsivonen>
Hixie: I think the point of aggregating content is that you actually aggregate it instead of putting it in an iframe

[01:54:00.0000] <takkaria>
jmb: ping.  I'm thinking the best way to add ns support to hubbub is to add an enum to hubbub_tag which has the possible namespaces the spec says you can create elements in

[01:54:01.0000] <takkaria>
oh, wrong channel, sorry. :)

[01:55:00.0000] <hsivonen>
takkaria: how does the libxml2 tree impl. represent namespaces?

[01:56:00.0000] <takkaria>
hsivonen: AFAICT, it passes around strings

[01:56:01.0000] <hsivonen>
takkaria: ok.

[01:56:02.0000] <jmb>
takkaria: heh

[01:57:00.0000] <hsivonen>
fwiw, it sucks when an XML API doesn't required namespaces to be interned in some way and lots and lots of string compares happen on the namespace

[01:58:00.0000] <takkaria>
yeah, I want to avoid string compares

[01:58:01.0000] <takkaria>
if libxml2 needs things converted to strings, that can be done easily enough in the hubbub<->libxml2 binding

[02:08:00.0000] <Hixie>
hsivonen: it'll be in the same source document, just not in the same Document object

[02:15:00.0000] <hsivonen>
Hixie: if you had an HTML5-based blog and it showed automatic extracts of other blogs linking to you, would you put the extracts in iframes or would you sanitize the fragments heavily not to contain id or class attributes?

[02:18:00.0000] <Hixie>
iframes

[02:18:01.0000] <Hixie>
sandbox baby

[02:36:00.0000] <hsivonen>
Hixie: fwiw, xmlns talisman checking is one of the things that block me from deploying the parser trunk in the validator, so I'm allowing the xmlns talisman on any HTML element at least for now

[02:37:00.0000] <Hixie>
hm?

[02:37:01.0000] <Hixie>
oh because your pipeline doesn't support xmlns="" all the way through?

[02:37:02.0000] <Hixie>
or?

[02:38:00.0000] <hsivonen>
Hixie: the pipeline doesn't support xmlns as attributes, so I'm doing the check in the tree builder

[02:39:00.0000] <Hixie>
right

[02:40:00.0000] <Hixie>
how do you handle xmlns:foo ?

[02:40:01.0000] <Hixie>
(e.g. on <embed>)

[02:40:02.0000] <hsivonen>
Hixie: there's a bug now

[02:40:03.0000] <Hixie>
or data-:foo=""

[02:41:00.0000] <hsivonen>
Hixie: those are invalid, so it's not a problem if the RELAX NG validator whines

[02:41:01.0000] <hsivonen>
Hixie: the problem is expressing valid things that are bogus in XML

[02:41:02.0000] <Hixie>
really?

[02:41:03.0000] <hsivonen>
of and the data thing doesn't matter, because data- is magic alreday

[02:41:04.0000] <hsivonen>
s/of/oh/

[02:42:00.0000] <Hixie>
i thought <embed xmlns> and data-:foo="" were both valid

[02:42:01.0000] <hsivonen>
xmlns:foo never is unless foo==xlink and in foreign

[02:43:00.0000] <Hixie>
where does the spec say that?

[02:43:01.0000] <hsivonen>
ooh. <embed>!

[02:44:00.0000] <Hixie>
right

[02:45:00.0000] <hsivonen>
that sucks

[02:45:01.0000] <Hixie>
<embed *> and data-* are the two places attributes are unconstrained

[02:45:02.0000] <hsivonen>
Hixie: but common attributes and aria-* are constrained on embed, right?

[02:46:00.0000] <Hixie>
common attributes yes

[02:46:01.0000] <Hixie>
aria-*, dunno, haven't yet seen a sane spec for those

[02:46:02.0000] <hsivonen>
Hixie: well, aria-* should be, right?

[02:46:03.0000] <Hixie>
(nor have i looked; a sane spec might exist)

[02:46:04.0000] <Hixie>
aria-* seem like they would be treated as common attributes, yes

[02:47:00.0000] <hsivonen>
Hixie: fwiw, I'd expect an aria state that isn't applicable to the current role of <embed> to be invalid on embed

[02:48:00.0000] <hsivonen>
Hixie: the tricky question is what to do with aria-bogus on embed

[02:48:01.0000] <hsivonen>
should that be valid or invalid?

[02:48:02.0000] <Hixie>
right, i'd expect most aria-* things that contradict html semantics to be invalid

[02:48:03.0000] <Hixie>
aria-* is a defined set of attributes, right?

[02:48:04.0000] <zcorpan>
Hixie: yes

[02:48:05.0000] <Hixie>
so aria-bogus isn't in aria-*

[02:49:00.0000] <hsivonen>
Hixie: aria-* is a finite set

[02:49:01.0000] <zcorpan>
Hixie: right, but <embed> allows any attributes

[02:49:02.0000] <hsivonen>
Hixie: but aria-bogus is reserved for future ARIA

[02:49:03.0000] <Hixie>
oh i see what you're asking

[02:49:04.0000] <hsivonen>
zcorpan: so in that sense, aria-* is infinite

[02:49:05.0000] <Hixie>
i don't like the idea of reserving attributes personally

[02:49:06.0000] <hsivonen>
s/zcorpan/Hixie/

[02:49:07.0000] <Hixie>
and would be fine with just not worrying about it

[02:50:00.0000] <hsivonen>
Hixie: umm. you are reserving everything but data-*!

[02:50:01.0000] <Hixie>
not on <embed>

[02:51:00.0000] <hsivonen>
anyway, handling <embed> sucks

[02:51:01.0000] <Hixie>
s'what you get for using an xml pipeline and schemas :-D

[02:52:00.0000] <hsivonen>
Hixie: I blame namespaces for making some attributes special

[02:52:01.0000] <Hixie>
i blame namespaces for a lot of things :-)

[02:52:02.0000] <Hixie>
but that doesn't help us :-)

[02:53:00.0000] <hsivonen>
Hixie: we could help ourselves by not insisting that xmlns:foo be non-special

[02:54:00.0000] <zcorpan>
from a practical point of view, i'd like to know that i've typoed aria-disalbed on <embed>

[02:54:01.0000] <hsivonen>
zcorpan: good point

[02:54:02.0000] <zcorpan>
whether it's a warning or error matters less to me

[02:54:03.0000] <hsivonen>
zcorpan: although if you've typoed class, you wouldn't know

[02:54:04.0000] <Hixie>
from a practical point of view, i doubt any aria-* attributes are going to have a useful result on <embed>

[02:54:05.0000] <zcorpan>
hsivonen: true

[02:55:00.0000] <Hixie>
and if you care about accessibility, <embed> probably isn't going to even appear in your document

[02:55:01.0000] <zcorpan>
i guess the only aria attribute you'd use on embed, if anything, is role="presentation"

[02:56:00.0000] <hsivonen>
Hixie: if ARIA really never makes any sense whatsoever on <embed> (i.e. the plug-in always drives the accessibility API including the node for <embed> itself), then I'd prefer to see ARIA non-conforming on <embed>

[02:56:01.0000] <Hixie>
hsivonen: well like i said, i've yet to see a useful description of aria in html

[02:56:02.0000] <Hixie>
hsivonen: so i can't really make educated comments about aria

[02:57:00.0000] <Hixie>
as it stands now, html5 doesn't even acknowledge that aria exists

[02:57:01.0000] <hsivonen>
Hixie: which is a problem given all the discussions that assume that HTML5 will import aria-*

[02:58:00.0000] <jgraham>
Doesn't something like ariia-describedby make sense on <embed>?

[02:59:00.0000] <hsivonen>
Hixie: even if details are left for later, it would be nice to have a red box acknowledging the intent to import ARIA into common attributes

[02:59:01.0000] <Hixie>
i've already told the aria group that if they want html5 to import aria, aria needs to get its act together and define how it works in html5-levels of detail

[02:59:02.0000] <hsivonen>
jgraham: yes, if it is implementable in a sane way in a situation where the plug-in talks to the accessibility API, too.

[03:00:00.0000] <jgraham>
hsivonen: Why would the plugin need to talk to the accessibility API? 

[03:00:01.0000] <hsivonen>
jgraham: to make the plug-in content navigable through AT

[03:01:00.0000] <hsivonen>
jgraham: Ideally, the accessible tree of Flash content should appear as a subtree of the HTML document's accessible tree without the user having to care about the integration point

[03:02:00.0000] <jgraham>
I thought that aria-describedby was for descriptions, no? It seems like you could describe the contents of the plugin even in the case that you couldn't actually use it, though clearly it would be better to actually be able to use it

[03:03:00.0000] <zcorpan>
i don't really understand the use-case for aria-describedby

[03:03:01.0000] <hsivonen>
jgraham: I think you can have descriptions for stuff that can also be further examined by AT

[03:07:00.0000] <jgraham>
hsivonen: I don't think it's clear that there are supposed to be any restrictions on what can have an aria-describedby which sort of makes sense since the develop might have no knowledge of what the AT can interact with

[03:10:00.0000] <jgraham>
/me likes how the aria spec says: Property: "labelledby [...] A related concept is label in HTML" but also says "Property: describedby: [...] A label should provide the user with the essence of the what the object does whereas describedby is intended to provide additional information which some users might need [...] HTML label element, and HTML table cell headers are de facto describedby values"

[03:11:00.0000] <Hixie>
that's about this |<------------------------------------------->| far from being good enough to be integrated with html5

[03:11:01.0000] <annevk>
de facto?

[03:12:00.0000] <annevk>
hah

[03:12:01.0000] <annevk>
/me is at reboot10

[03:12:02.0000] <annevk>
/me wonders if the WiFi dropped again :)

[03:12:03.0000] <Hixie>
hey anne

[03:12:04.0000] <jgraham>
The aria spec really sucks

[03:12:05.0000] <jgraham>
indeed

[03:12:06.0000] <jgraham>
Or to rearrange into the sentence I was aiming for, "Indeed, the aria spec really sucks"

[03:15:00.0000] <annevk>
ah, so I'm still online, I receive your messages in blobs

[03:15:01.0000] <zcorpan>
so there's new Image() and new Audio() but no new Video()

[03:17:00.0000] <annevk>
hi Hixie

[03:18:00.0000] <Hixie>
zcorpan: new Image() is there for historical reasons, like new Option(); new Audio() is there because you will likely want to play with audio without thinking of it as an element

[03:23:00.0000] <Philip`>
Do any tests for Audio/<audio> exist yet?

[03:23:01.0000] <Philip`>
(Audio was pretty broken when I last played with it in Opera)

[03:23:02.0000] <Hixie>
i know of no tests

[03:25:00.0000] <zcorpan>
i have a few very basic tests

[03:26:00.0000] <zcorpan>
testing <video> and <audio> at the same time

[03:26:01.0000] <zcorpan>
http://simon.html5.org/test/html/dom/interfaces/HTMLElement/HTMLMediaElement/

[03:27:00.0000] <annevk>
I have tests for new Audio() somewhere but I'm not sure if they're still valid with the new API

[03:28:00.0000] <Philip`>
Okay, thanks

[03:29:00.0000] <Philip`>
I think the problems I had were with trying to play the same sound file multiple times

[03:29:01.0000] <Philip`>
which ought to mix everything together but in Opera it only played one at a time

[03:30:00.0000] <othermaciej>
we have some in the WebKit regression tests, though they are not thorough compliance tests or anything

[03:30:01.0000] <Hixie>
i've passed the 50% mark in my big URLification project

[03:38:00.0000] <roc>
doublec is writing some

[03:40:00.0000] <Philip`>
What <audio> really needs is a spectrum analyser API

[03:40:01.0000] <roc>
graphic equalizer in every tab

[03:42:00.0000] <Philip`>
I want a web page with DOM nodes bouncing around in time with the background music

[03:43:00.0000] <Hixie>
that would be cool indeed

[03:43:01.0000] <Hixie>
send mail

[03:43:02.0000] <Hixie>
i'll get right on punting that to v3

[03:44:00.0000] <mrbkap>
Philip`: Because hamsters randomly bouncing around in the background isn't enough? They have to be in time with the music now too?

[03:44:01.0000] <Philip`>
Actually it could just expose the raw sample data, then you can write an FFT in JavaScript

[03:45:00.0000] <Hixie>
web 2.0 hamster dance: now in time with the music.

[03:45:01.0000] <hsivonen>
shoudn't they be badgers?

[03:45:02.0000] <doublec>
someone sent me a vorbis decoder in javascript - with raw sample data that would be useful :)

[03:45:03.0000] <Lachy>
oh, drawing visualations on canvas would be awesome

[03:46:00.0000] <hsivonen>
doublec: does it perform in real time on today's hardware?

[03:46:01.0000] <Hixie>
Philip`: you could implement the fft server-side, and use xhr to get each sample frame analysed, for extra web 2.0ness

[03:46:02.0000] <Philip`>
mrbkap: I thought the point of APNG was that the old animated hamster GIFs could now be rendered in full 24-bit colour

[03:46:03.0000] <Philip`>
so clearly this is the direction that the technology is evolving in

[03:47:00.0000] <mrbkap>
"Web 2.0, supporting more colorful, rhythmic hamsters"

[03:47:01.0000] <doublec>
hsivonen: it's actually actionscript and works in real time on the flash player. I've modified it to get it running on tamarin but haven't got it actually playing real sound yet.

[03:47:02.0000] <hsivonen>
doublec: cool.

[03:48:00.0000] <Philip`>
hsivonen: Badgers don't dance - only hamsters do

[03:48:01.0000] <Lachy>
if you're doing the analysis server side, you could just download a single file with all the data in it and just keep the audio and visualation synchronised.

[03:48:02.0000] <doublec>
as long as 'todays hardware' is dual core machine not doing anything but decoding a single file

[03:48:03.0000] <Lachy>
Philip`, could you build a demo site using such a workaround?

[03:49:00.0000] <Philip`>
Lachy: How would you keep them synchronised?

[03:49:01.0000] <Lachy>
time indexes

[03:50:00.0000] <Hixie>
use the flash plugin to listen to the music using the user's microphone

[03:50:01.0000] <Hixie>
and use that to sync the visual

[03:50:02.0000] <Philip`>
Synchronisation seems hard when you're using setTimeout with 16ms resolution

[03:52:00.0000] <Lachy>
if you frequently query the currentTime of the audio, you can adjust for any discrepencies

[03:52:01.0000] <Lachy>
as long as it doesn't drift too far out of sync to be perceptable to the user, it's not a big problem.

[03:53:00.0000] <Philip`>
Hixie: That wouldn't work for me, since I use earphones

[03:53:01.0000] <Hixie>
ah well

[03:53:02.0000] <Hixie>
the best plans of mice and men, et al

[03:57:00.0000] <Hixie>
@#$%(&!@#

[03:58:00.0000] <Lachy>
?

[03:58:01.0000] <Hixie>
window.open('http://{', 'x') does nothing if frame 'x' is an iframe, and shows an error if it has to open a new window

[03:58:02.0000] <Hixie>
except in firefox

[03:59:00.0000] <Hixie>
oh, and IE

[03:59:01.0000] <Hixie>
that'll teach me to test in reverse order of market share

[03:59:02.0000] <hsivonen>
/me considers filing a spec bug about the infoset mappability of the attributes on <embed> and data-* attributes

[03:59:03.0000] <Hixie>
nevermind!

[03:59:04.0000] <Hixie>
i have to say, bugzilla makes rejecting bugs much more satisfying

[04:00:00.0000] <Hixie>
and, frankly, easier

[04:00:01.0000] <hsivonen>
Hixie: are you implying you'd reject a bug about infoset mappability?

[04:00:02.0000] <gDashiva>
And much more .. cyclic

[04:00:03.0000] <gDashiva>
resolve, reopen, resolve, reopen, the dance goes on until someone calls mike

[04:01:00.0000] <Hixie>
hsivonen: i wasn't trying to imply that, no

[04:01:01.0000] <Hixie>
with bugzilla, i can say "i agree" and mark the bug WONTFIX at the same time

[04:01:02.0000] <Hixie>
in e-mail, if i say "i agree", then it's assumed that i am not rejecting the request

[04:02:00.0000] <Hixie>
hsivonen: i'm not sure i really care about infoset mappability, though

[04:02:01.0000] <Hixie>
hsivonen: do you mean xml/html roundtripping?

[04:02:02.0000] <Hixie>
/me has never been really sold on the value of xml/html roundtripping

[04:02:03.0000] <hsivonen>
Hixie: *you* may not care about it directly, but if the party line is "just stick an HTML5 parser at the front of your XML pipeline", perhaps it should matter

[04:03:00.0000] <Philip`>
http://philip.html5.org/tests/canvas/suite/tests/spec.html is produced via XML/HTML roundtripping

[04:03:01.0000] <Philip`>
but that's just because the XML version is far quicker to parse repeatedly

[04:04:00.0000] <Hixie>
it has certainly had a higher cost to maintain the fiction that the set of documents serialisable to html is the same as the set of documents serialisable to xml than i first anticipated

[04:05:00.0000] <Hixie>
hsivonen: i don't understand why the xml pipelines are so constrained to the infosets that the xml syntax allows

[04:05:01.0000] <Hixie>
hsivonen: why do xml pipelines enforce "tag names can't contain spaces", for instance? surely that's just excess code that isn't helping anyone

[04:05:02.0000] <Hixie>
hsivonen: i mean, the parser should enforce that, sure

[04:06:00.0000] <Hixie>
hsivonen: but once it's parsed, who cares

[04:06:01.0000] <hsivonen>
Hixie: some people (rightly) don't want pipelines to silently serialize stuff that can't be parsed back with a conforming XML 1.0 parser

[04:06:02.0000] <zcorpan>
hsivonen: but shouldn't that be part of the serializer?

[04:07:00.0000] <Hixie>
i understand that the serialiser would want to verify conformance of its output

[04:07:01.0000] <hsivonen>
zcorpan: that's a design decision which isn't *our* design decision

[04:07:02.0000] <hsivonen>
for example, XOM throws early

[04:07:03.0000] <Hixie>
but enforcing the serialiser's constraints in the pipeline itself seems like bad design to me

[04:07:04.0000] <Hixie>
anyway

[04:08:00.0000] <Philip`>
zcorpan: It's much easier for debugging if it complains immediately when unserialisable content is inserted into the document, rather than silently accepting it and then complaining thousands of lines of code later when you try serialising

[04:08:01.0000] <hsivonen>
Hixie: it seems sensible design in some sense, although it makes no sense for perf

[04:08:02.0000] <Hixie>
maybe we should just define a set of mutations to the "infoset" that html parsers can apply if they are going to be used with these overconstraining xml-biased pipelines

[04:08:03.0000] <zcorpan>
i guess it could make sense if all you have to deal with is xml

[04:09:00.0000] <Hixie>
(with the understanding that these mutations would be destructive)

[04:09:01.0000] <hsivonen>
zcorpan: obviously, all text/html from "out there" can't be losslessly mapped to XML 1.0 (4th ed. or earlier), but it's yucky in principle if conforming docs also expose the problems

[04:09:02.0000] <Philip`>
zcorpan: That seems sensible since all most people have to deal with is XML; it's just HTML that thinks it's a special case and doesn't fit in with the proper world-view

[04:12:00.0000] <hsivonen>
Hixie: I intend to ship a set of mutations, but it isn't theoretically pure to have to apply those to conforming docs

[04:12:01.0000] <Hixie>
i long ago gave up on things being theoretically pure

[04:13:00.0000] <hsivonen>
Hixie: then you can allow the xmlns talisman regardless of tree position :-)

[04:13:01.0000] <Hixie>
i was going to :-)

[04:13:02.0000] <hsivonen>
great :-)

[04:13:03.0000] <Hixie>
(hence the bug being assigned, not wontfixed :-) )

[04:14:00.0000] <Hixie>
assigned = i will do something

[04:15:00.0000] <hsivonen>
/me starts fixing the infoset coercion regressions introduced by the SVG/MathML work

[04:16:00.0000] <hsivonen>
with the xlink fixup, the decision needs to be deferred until the tree builder

[04:22:00.0000] <Hixie>
http://www.w3.org/mid/op.udcpa1lp6hl8nm⊙cmau seems to miss the point a little

[04:56:00.0000] <hsivonen>
Hixie: fwiw, the non-NCName munging I implemented is "_nonxml_" followed by the name escaped as UTF-8 and a-z and '-' passed through literally and other bytes escaped as two uppercase hex digits each, finally followed by "_"

[04:58:00.0000] <hsivonen>
actually, that's not good

[05:01:00.0000] <hsivonen>
I like it that the HTML5 spec now has a one-stop place to copy and paste namespace URIs from

[05:04:00.0000] <zcorpan>
hsivonen: shouldn't the "nonxml" part be uppercase so that it's possible to distinguish between <a #> and <a _nonxml_23>?

[05:05:00.0000] <zcorpan>
i mean <a _nonxml_23_>

[05:05:01.0000] <hsivonen>
zcorpan: actually, I think the _noxml_ part should be a namespace that the parsing algorithm doesn't otherwise output

[05:05:02.0000] <zcorpan>
why?

[05:06:00.0000] <hsivonen>
zcorpan: that way I don't need to check for collisions with _noxml_ actually appearing in the input

[05:06:01.0000] <zcorpan>
uppercase can't appear in the input

[05:06:02.0000] <hsivonen>
zcorpan: excellent point

[05:06:03.0000] <hsivonen>
zcorpan: thanks

[05:21:00.0000] <Lachy>
so much for WebApps being a public group!

[05:21:01.0000] <Lachy>
they moved the telcon to #waf to get away from krijnh's IRC logs.

[05:22:00.0000] <gDashiva>
They are a public group. They're just using the w3c definition of public.

[05:31:00.0000] <zcorpan>
so what was the [off] feature for?

[05:31:01.0000] <Lachy>
zcorpan, no idea

[05:31:02.0000] <Lachy>
I don't think anyone even bothered to announce that it was added on the mailing list.

[05:31:03.0000] <Lachy>
shepazu should have done that, since he pushed so hard for it

[06:30:00.0000] <shepazu>
Lachy: I wasn't sure about the status of the feature... maybe krijnh would like to speak on it?

[06:31:00.0000] <Lachy>
shepazu, what is there to discuss? It was enabled at your request for the #webapps channel, and AFAIK, is still enabled.

[06:32:00.0000] <Lachy>
but, at the moment, it seems krijnh currently isn't making the #webapps logs public anyway

[06:33:00.0000] <shepazu>
when last I heard, Lachy, he was still working on it... and the WG hasn't actually come to a decision on logging... I don't consider a deadline to be a very good criteria of agreement

[06:33:01.0000] <Lachy>
well, I think the whole issue is silly. The fact that it's a public group should be enough to make any logging, by anyone in the channel, acceptable.

[06:35:00.0000] <shepazu>
why?

[06:35:01.0000] <shepazu>
that's not clear a priori

[06:36:00.0000] <zcorpan>
s/group/channel/

[06:36:01.0000] <shepazu>
the interesting thing for me the the different expectations of privacy... maybe a generational thing, or cultural?

[06:37:00.0000] <Lachy>
for me, public == public, not "public, but with secrets we need to hide"

[06:38:00.0000] <shepazu>
I was talking about this with friends, and the general sentiment was that private logging was one thing, but publishing logs (esp. when it's not absolutely clear that it's being logged) was invasive and rude

[06:39:00.0000] <Lachy>
if the topic includes a clear statement about their being public logs, there is no problem

[06:40:00.0000] <shepazu>
well, that's open to individual judgment... clearly, that's your view... but others might not thing so

[06:40:01.0000] <shepazu>
Lachy: every big company has secrets... why doesn't Hixie publish his Google research, for example?

[06:40:02.0000] <Philip`>
I think I gave up on the idea that my conversations should be unpublished by default when I realised that newsgroup posts from when I was 11 have been archived forever, so anything I say now shouldn't embarrass me more than anything I've said before :-)

[06:40:03.0000] <shepazu>
because he can't, legally

[06:40:04.0000] <shepazu>
Philip`: yeah, that's why I think it's a generational thing

[06:41:00.0000] <gDashiva>
So all the talk about being 'open' is just hand waving

[06:41:01.0000] <shepazu>
those of us who grew up before the Web tend to be a little more sensitive to privacy

[06:42:00.0000] <Philip`>
shepazu: He hasn't given details of his research to anyone outside Google, as far as I'm aware, which is quite different to giving details to a select group of people who have a higher status than all the other members of the public group

[06:42:01.0000] <zcorpan>
shepazu: if Hixie doesn't want to publish hsi research then he wouldn't paste the results in a public channel

[06:43:00.0000] <shepazu>
I'm just saying that "open" isn't black and white

[06:44:00.0000] <shepazu>
zcorpan: then without his raw research, we just have to trust that he is correct and giving the whole picture... that's a complex issue, too

[06:44:01.0000] <Lachy>
shepazu, there's a difference between choosing not to make something public, or saying it in a public channel and expecting it to be hidden

[06:45:00.0000] <shepazu>
yeah, but it's no more "ethical" to hide information than it is to reveal it to a select group, and it's no more pragmatic for the group's functioning

[06:47:00.0000] <zcorpan>
shepazu: indeed -- one way to verify his results would be to do an independent research and comparing the results

[06:47:01.0000] <Philip`>
shepazu: I would possibly view "open" as meaning that anyone can participate as equally as possible, which means all relevant information (like past discussions) needs to be made available to anyone - otherwise it would unfairly favour the closed group of people who are already members and have exclusive access to certain information

[06:48:00.0000] <Philip`>
But I might realise that's the wrong way to view things :-)

[06:49:00.0000] <gDashiva>
Maybe WCAG2 redefined open while they were making up all those funny terms

[06:49:01.0000] <shepazu>
Philip`: in a way, WHATWG is not open in this sense, because in order to come up to speed on 4 years of history and discussion, it would be a major undertaking... obscurity through profusion :)

[06:50:00.0000] <Lachy>
shepazu, wtf?

[06:51:00.0000] <zcorpan>
shepazu: how do you suggest to make it easier to come up to speed?

[06:51:01.0000] <Philip`>
shepazu: That problem seems to often occur in open source projects too - they can be technically open, in that you can see the code and bug reports and mailing lists and everything, but it can be far too hard for anybody to enter the group because it's too large and complex and poorly documented

[06:51:02.0000] <Lachy>
that's like the public library isn't open because it would be a major undertaking to read all the books in there.

[06:51:03.0000] <shepazu>
Philip`: yeah, same sort of thing

[06:51:04.0000] <shepazu>
zcorpan: dunno... it's a hard problem

[06:51:05.0000] <Lachy>
s/like/like saying/

[06:52:00.0000] <shepazu>
I'm not ascribing blame or anything, just observing... openness is relative

[06:52:01.0000] <Philip`>
whereas other projects do provide good documentation, and tell you exactly how to check out the code and install dependencies and build and write simple patches and cope with the processes for filing bugs and committing code and whatever, which makes them much more open in the practical sense

[06:52:02.0000] <shepazu>
in a very real and pragmatic sense

[06:54:00.0000] <gDashiva>
There's a very important difference between something being naturally unopen (like a huge library) and intentionally closing down something that was open before (like moving your telcon)

[06:55:00.0000] <hsivonen>
shepazu: what does Hixie's research at Google have to do with WG openness?

[06:55:01.0000] <jgraham_>
Regardless of whether perfect openess is a viable goal, I still can't understand how people could object to logs of a *public* channel

[06:55:02.0000] <Philip`>
shepazu: In the WHATWG, I think it's quite possible to come up to speed quickly if you focus on a single component - most of the years of discussion are about all the other components and so you can ignore them entirely

[06:55:03.0000] <hsivonen>
shepazu: isn't it pretty clear that Hixie's research isn't 'open' and only the aggregate results or even just conclusions are disclosed?

[06:55:04.0000] <Philip`>
(At least that's what I did, by just looking at canvas stuff and ignoring everything else)

[06:56:00.0000] <Philip`>
(and then searching the mailing list and IRC logs for all previous discussions of it, which didn't take long)

[06:56:01.0000] <shepazu>
one reason the SVG WG has not been as quick as we'd have liked with the SVG-in-text/html thing is that we are busy with other things, but another major hurdle is that Hixie has constructed a complex and intricate set of criteria for HTML5 parsing and such, and it's taken us a while to grok it

[06:56:02.0000] <shepazu>
hsivonen: yes, that is absolutely clear :)

[06:57:00.0000] <shepazu>
Philip`: if I weren't busy with a ton of other things, that would be easier

[06:58:00.0000] <Philip`>
I suppose parsing is one of the least good components to focus on, since it's big and complex and has had loads of past discussion

[06:59:00.0000] <shepazu>
hsivonen: I'm just saying that no matter how "open" a group is, there are still secrets and hidden agendas among the parties... open minutes is actually not the hardest part of that problem

[06:59:01.0000] <shepazu>
Philip`: indeed :(

[06:59:02.0000] <shepazu>
and the rationales for things aren't always clear from the spec

[06:59:03.0000] <Philip`>
On the other hand, there's multiple people who generally understand it already and would be happy to respond to questions

[07:00:00.0000] <Philip`>
which is better than for most other features

[07:00:01.0000] <hsivonen>
shepazu: yeah, but I don't see how being secretive about the minutes helps, particularly if the group claims to do its work in public

[07:00:02.0000] <shepazu>
Philip`: yeah, lots of people are forthcoming, but sometimes facing the whole channel is not helpful...

[07:00:03.0000] <shepazu>
hsivonen: I understand what you're saying

[07:02:00.0000] <Philip`>
shepazu: Are the rationales for things *ever* clear from the spec? :-)

[07:02:01.0000] <Philip`>
A hundred years from now, most of the WHATWG members will be dead and nobody will be able to understand the reasoning behind the HTML5 spec and there will be nobody to explain it

[07:05:00.0000] <shepazu>
Philip`: that's one reason that good spec support documentation is important... also to "check your work"

[07:06:00.0000] <zcorpan>
Philip`: it seems reasonable to assume that there will be new people joining the work before we die

[07:06:01.0000] <zcorpan>
it's not like we're a fixed set of people and we need replacements when we die :)

[07:07:00.0000] <jgraham_>
The problem is that documenting everything that went in to forming a conclusion is orders of magnitude harder than just documenting the results. A certian amount of expediency is needed to make our work relevant

[07:07:01.0000] <Philip`>
zcorpan: The existing members won't perfectly transfer all their institutional memory to new members, so things will be forgotten and then will be lost forever since everyone was too lazy to write them down

[07:08:00.0000] <shepazu>
jgraham_: yeah, it's a balancing act

[07:11:00.0000] <jgraham_>
(I once read something by some sientists who suggested a "new method" for documenting code which was basically a chronology of all the design decisions that they tried and why they worked or didn't. In principle it sounds great, but the project they tried it on ended up with something like 800 pages of text most of which wasn't useul in figuring out how the end product worked)

[07:12:00.0000] <jgraham_>
s/sientists/scientists/

[07:13:00.0000] <hsivonen>
shepazu: are there examples of other WGs working on large specs and documenting the design rationale on the level you'd like to see in HTML5?

[07:14:00.0000] <Philip`>
I think things like "Authors should not use JIS_X0212-1990, x-JIS0208, and encodings based on EBCDIC." are unpleasantly far from the balance - it should at least say they're discouraged because they are not ASCII compatible and so can result in security vulnerabilities when accidentally decoded ASCII-compatibly, or something like that

[07:15:00.0000] <shepazu>
hsivonen: yes and no... first, let me say that I'm not talking about documenting the entire design rationale, just key points that aren't obvious... right now, the spec is proscriptive, and not very descriptive 

[07:15:01.0000] <Philip`>
and like "If the charset attribute is specified, the element must be the first element in the head element of the file." where it can say that that's to avoid problems where it has to parse text before it's reached the charset element, or something like that

[07:15:02.0000] <shepazu>
Philip`: exactly

[07:17:00.0000] <shepazu>
the SVG WG, having almost completely new participants, have seen how earlier rationales were lost with the old members, and have to sometimes backwards-engineer the spec... so we've taken to recording Resolutions and Rationales in our minutes, so we can have a short summary of why we decided particularly unintuitive or obscure things

[07:18:00.0000] <shepazu>
we're not perfect at it, but it's not been bad, and it does help

[07:18:01.0000] <shepazu>
then again, we operate as a group, not as a single editor... so I'm not sure it would work for HTML5

[07:18:02.0000] <Philip`>
It seems the primary difficulty is getting someone to actually do the work

[07:19:00.0000] <shepazu>
but it does mean that most of us also understand pretty much most of the stuff we decide at a good level

[07:19:01.0000] <shepazu>
Philip`: you said it

[07:20:00.0000] <shepazu>
hard work, takes a certain set of aptitudes

[07:20:01.0000] <shepazu>
broad vision and strict attention to details

[07:20:02.0000] <Philip`>
particularly since this is not a group that will try to force people to do things they don't particularly want to

[07:21:00.0000] <shepazu>
Philip`: luckily for y'all, you have a huge worker base...

[07:21:01.0000] <Philip`>
shepazu: The number of participants doesn't help when 0% want to do the work :-)

[07:23:00.0000] <shepazu>
Philip`: at least it's not negative :)

[07:27:00.0000] <hsivonen>
/me is getting close to fixing everything that has regressed in the parser since last release

[07:42:00.0000] <Philip`>
If browsers implement worker threads, will they be actual real threads, so people can fully utilise quad-core CPUs to compute Mandelbrot fractals in JavaScript?

[09:34:00.0000] <hsivonen>
http://lists.w3.org/Archives/Public/www-html/2008Jun/0047.html

[09:38:00.0000] <zcorpan>
getElementsByName doesn't match <sup name>

[09:38:01.0000] <hsivonen>
http://lists.w3.org/Archives/Public/www-html/2008Jun/0061.html

[09:45:00.0000] <gsnedders>
Is there any documentation of any de-facto standards for tag parsing?

[09:45:01.0000] <hsivonen>
gsnedders: tag like etag?

[09:45:02.0000] <gsnedders>
hsivonen: Like Flickr's tags

[09:46:00.0000] <hsivonen>
gsnedders: I don't know. What else do you need except splitting on colon?

[09:46:01.0000] <hsivonen>
gsnedders: or do you want to implment UI input consistently with Flickr?

[09:46:02.0000] <gsnedders>
hsivonen: Well, what happens with stuff like "foobar" lol, "meep"

[09:47:00.0000] <hsivonen>
ah, you mean parsing the input field

[09:47:01.0000] <gsnedders>
yeah

[10:54:00.0000] <takkaria>
heh, one of the CS lecturers from my university is telling Hixie he's wrong in the URL thread

[10:54:01.0000] <Philip`>
I think everybody is telling Hixie he's wrong in the UR[IL] thread

[10:55:00.0000] <gsnedders>
Philip`: no, IRL!

[10:56:00.0000] <Philip`>
Sorry, the internet has already found a use for that TLA

[10:56:01.0000] <gsnedders>
IRI then?

[10:58:00.0000] <takkaria>
oh, Roy Fielding jumped in, awesome

[11:00:00.0000] <takkaria>
I don't know how that thread has gone on so long given that Hixie has said a few times that he'll just write the rules in HTML5 and be done with it

[11:13:00.0000] <hdh0>
http://camendesign.com/?200805291052 wants a Fx3 extension to convert flash video to <video> playing with VLC

[11:26:00.0000] <gsnedders>
does anyone have any stats about how common it is for optional tags to be omitted?

[11:34:00.0000] <gsnedders>
/me bursts out laughing at a very well hidden joke in the HTML 5 parsing section

[11:35:00.0000] <takkaria>
which one's that?

[11:35:01.0000] <gsnedders>
takkaria: The sarcasm end tag

[11:36:00.0000] <takkaria>
ah :)

[11:36:01.0000] <Philip`>
gsnedders: No

[11:36:02.0000] <gsnedders>
I mean, just skimming over the spec, you'd never even see that

[11:44:00.0000] <gsnedders>
What supports the mid URI scheme?

[11:51:00.0000] <takkaria>
hsivonen: when processing tokens "using the rules for the secondary insertion mode", if something in the secondary insertion mode changes the insertion mode, should that change the insertion mode or the secondary insertion mode?

[11:52:00.0000] <takkaria>
er, Hixie, even ^^

[11:52:01.0000] <takkaria>
though I have a feeling either of you might know :)

[12:27:00.0000] <gsnedders>
Philip`, jgraham: I'll be in Cam next Thurs – Tues, if you care :P

[12:29:00.0000] <hsivonen>
takkaria: using the rules of the secondary mode doesn't in itself take you out of 'in foreign'

[12:30:00.0000] <hsivonen>
takkaria: btw, modeling 'in foreign' as an insertion mode makes sense if you insertion mode is a function pointer as in Hixie's impl

[12:30:01.0000] <hsivonen>
takkaria: but if you insertion mode is a switch condition, modeling 'in foreign' as an insertion mode totally sucks

[12:30:02.0000] <hsivonen>
and having it as a separate flag is *much* better

[12:31:00.0000] <takkaria>
hmm

[12:31:01.0000] <takkaria>
atm I'm using a switch

[12:31:02.0000] <hsivonen>
takkaria: then I suggest doing what I do :-)

[12:31:03.0000] <takkaria>
I'm still not quite sure what happens, though, if you use the secondary insertion mode and something in there changes the insertion mode.  it changes the real insertion mode, yeah, not the secondary insertion mode?

[12:32:00.0000] <hsivonen>
having an 'in foreign' flag and a mode variable for the rest of the modes

[12:32:01.0000] <hsivonen>
and when the 'in foreign' flag is set, your usual mode variable is the secondary mode

[12:34:00.0000] <hsivonen>
takkaria: hmm. I don't think end tag processing can change the secondary mode without the rules also causing an exit from foreign content anyway 

[12:34:01.0000] <hsivonen>
but now I'm not 100% sure

[12:34:02.0000] <hsivonen>
but that has been my assumption

[12:35:00.0000] <takkaria>
mm, I'm going with your assumption I think

[12:50:00.0000] <takkaria>
hsivonen: ah, you switch first on token type and then on state, hubbub does it the other way round

[12:54:00.0000] <hsivonen>
takkaria: token-major switches allow nice fall-throughs

[12:55:00.0000] <hsivonen>
(or, well, token-major callbacks)

[12:56:00.0000] <takkaria>
mm, that does seem to be the case

[12:57:00.0000] <takkaria>
ah well, I'm not changing hubbub now. :)

[13:00:00.0000] <takkaria>
I think that I can possibly implement the "in foreign" state as just calling the token handler again from inside itself

[13:38:00.0000] <hsivonen>
mrbkap: I updated http://parsetree.validator.nu/ to run the latest version of the parser

[13:41:00.0000] <Philip`>
hsivonen: No changes in comment parsing, I assume?

[13:42:00.0000] <hsivonen>
Philip`: I don't remember how old the previous deployment was, but it predated all the SVG and MathML work

[13:42:01.0000] <hsivonen>
Philip`: but most likely there haven't been comment parsing changes in that timeframe

[13:42:02.0000] <Philip`>
hsivonen: It'd be really nice if something like http://parsetree.validator.nu/?content=%3Ctest%3E worked

[13:42:03.0000] <gsnedders>
Philip`: I assume you don't care then :P

[13:44:00.0000] <Philip`>
gsnedders: I don't not care - I just assimilated the knowledge and didn't see a useful way to respond and then continued with the rest of my life :-)

[13:45:00.0000] <Philip`>
(unless it's not obvious that I'll be here over that time period too, in which case it may be useful for me to say so)

[13:46:00.0000] <hsivonen>
Philip`: perhaps tomorrow

[13:54:00.0000] <hsivonen>
/me wonders if <time> is principle-violating: http://twitter.com/t/statuses/843458747

[13:58:00.0000] <Philip`>
It violates the principle of being valid HTML4 / XHTML1

[13:58:01.0000] <hsivonen>
HTML4/XHTML1 validatity is overrated :-)

[13:59:00.0000] <hsivonen>
validity even

[14:01:00.0000] <Philip`>
Can you make <time> validate by sticking stuff in the DTD, or will that result in ugly "]>" stuff being rendered?

[14:02:00.0000] <Lachy>
Philip`, you have to create your own external DTD and use <!DOCTYPE html SYSTEM "htttp://.../my.dtd">

[14:03:00.0000] <hsivonen>
Philip`: you could put stuff in an external DTD, but DTDs are overrated and passé

[14:07:00.0000] <hsivonen>
is the microformats community opposed to encoding variable values as classes?

[14:07:01.0000] <gsnedders>
/me commits with the message 'Bye-bye my dear "nymphet".'

[14:08:00.0000] <gsnedders>
(what is in that commit? hmm… who knows.)

[14:15:00.0000] <hsivonen>
/me also notes http://twitter.com/t/statuses/843517093

[14:19:00.0000] <hsivonen>
/me thinks the abbr design pattern is more of an anti-pattern than putting variable data in class...

[14:20:00.0000] <gsnedders>
/me thinks it is less of an anti-pattern, but only marginally

[14:21:00.0000] <hsivonen>
the abbr design pattern would suck less it they replaced 'T' with ' ' and didn't put a non-Z TZD in there

[14:21:01.0000] <hober>
I think it depends on usage. <abbr title="2008-06-26">6/26</abbr> is one thing--<abbr title="2008-06-26T12:24:00-07:00">1 hour ago</abbr> is something else entirely.

[14:22:00.0000] <hsivonen>
yeah

[14:22:01.0000] <gsnedders>
<time> ftw!

[14:22:02.0000] <hober>
I really like the recent datetime-design-pattern work

[14:22:03.0000] <itpastorn>
It's modeled on vCard and therefore there is a "T"

[14:25:00.0000] <gsnedders>
ISO8601:2004 makes the T optional if agreed by both parties

[14:32:00.0000] <itpastorn>
And what would the other "party" be on the web that i am supposed to agrre with?

[14:32:01.0000] <itpastorn>
agree

[14:35:00.0000] <gsnedders>
The party who creates the date and the party who consumes the date, so in this case it would be agreed through the spec

[14:38:00.0000] <itpastorn>
My point is that there already are quite a few parsers on the market already. How would a spec change now work? There are many who would need to alter their apps.

[14:39:00.0000] <jgraham>
gsnedders: I assume you will also be in Cambridge even if I don't care :)

[14:39:01.0000] <gsnedders>
jgraham: s

[14:39:02.0000] <gsnedders>
or, if I don't press return accidentally…

[14:40:00.0000] <gsnedders>
seeming I have a train ticket down on the Wed evening, and a plane from STD on Tues…

[14:40:01.0000] <jgraham>
I'm away from Fri evening to Sun evening

[14:41:00.0000] <Philip`>
itpastorn: There's a party on the web? Nobody invited me :-(

[14:43:00.0000] <gsnedders>
itpastorn: Well, µf aren't really used enough to make such a change impossible

[14:45:00.0000] <itpastorn>
Yes, I actually agree. just wanted to play the devils adcocate....

[14:47:00.0000] <itpastorn>
The party is in Spain (3-0 over Russia)

[15:02:00.0000] <krijnh>
shepazu, Lachy: the [off] thing works in #webapps

[15:02:01.0000] <krijnh>
Lachy: should I join #waf as well? ;)

[15:02:02.0000] <gsnedders>
itpastorn: (if we were talking about HTML, then I'd say it was impossible)

[15:03:00.0000] <krijnh>
Lachy: And I'm not logging the channel atm

[15:03:01.0000] <Lachy>
krijnh, no. The whole point of them moving the telcon to #waf was to avoid being in your logs

[15:03:02.0000] <krijnh>
Yeah, I read that :)

[15:03:03.0000] <mrbkap>
hsivonen: Cool, thanks.

[15:08:00.0000] <krijnh>
Left #webapps, cause it's not my intention to be a PITA :) If people don't want logs, that's fine by me

[15:08:01.0000] <krijnh>
Nn everybody

[15:20:00.0000] <Philip`>
/me wonders how long it's likely to take to build Firefox from Mercurial

[15:21:00.0000] <roc>
depends entlrely on hardware and OS

[15:22:00.0000] <roc>
fast dual-core Linux machine with 1GB of RAM: 20 minutes

[15:22:01.0000] <roc>
slow single-core Windows machine with 256MB RAM: all week

[15:23:00.0000] <Philip`>
I have 2.0GHz C2D / 2GB / Linux, and I started 20 minutes ago, so hopefully that means it won't take much longer :-)

[15:23:01.0000] <jcranmer>
Philip`: which directory is it building ATM?

[15:23:02.0000] <Philip`>
jcranmer: /home/philip/mozilla/mozilla/src/security/manager/ssl/src/nsPSMBackgroundThread.cpp

[15:24:00.0000] <jcranmer>
ah, you're nearly done then

[15:25:00.0000] <jcranmer>
I remember building on a machine with 256 MB as it agonized through libxul... happy days now

[15:25:01.0000] <roc>
yeah, the security module is the home stretch

[15:25:02.0000] <Philip`>
Oh, it's done

[15:26:00.0000] <Philip`>
24 minutes

[15:28:00.0000] <Philip`>
Hooray, canvas text

[15:29:00.0000] <Philip`>
which changes size when you change the browser's text size :-(

[15:30:00.0000] <Philip`>
which means it's impossible to get predictable layouts

[15:32:00.0000] <roc>
that sounds like a bug

[15:33:00.0000] <roc>
file it. we have code in SVG to prevent that.

[16:29:00.0000] <jgraham>
smedero: The html5lib parse tree viewer now reports the version og html5lib it is using (well technically it reports the version of the working copy on the machine which isn't quite the same but it's probably close enough)

[16:50:00.0000] <smedero>
thanks!

[16:53:00.0000] <smedero>
yeah, that works for me at least. hopefully other people find it helpful... :)


2008-06-27
[17:50:00.0000] <Hixie>
so does anyone else think that opening registration for TLDs is a spectacularily bad idea?

[17:51:00.0000] <jcranmer>
/me raises his hand

[17:51:01.0000] <Hixie>
i hope nobody registers a TLD with the same name as any of the machines on my local network

[17:51:02.0000] <Lachy>
of course it's a terrible idea

[17:51:03.0000] <jcranmer>
to me, that invites a whole lot of opportunity to fishing

[17:51:04.0000] <jcranmer>
s/f/ph/

[17:51:05.0000] <jcranmer>
logon to www.amazon and enter your credentials!

[17:52:00.0000] <Lachy>
/me goes to register the .paypal TLD...

[17:54:00.0000] <Lachy>
seriously, though, there are already so many problems with the way the DNS system is managed, it's just one more crazy thing to add to the list.

[17:54:01.0000] <Hixie>
i don't think i've yet met one person who thinks this is a good idea

[17:54:02.0000] <Hixie>
yet as far as i can tell it's a done deal

[17:54:03.0000] <jacobolus>
Hixie: who is planning to open registration for TLD's?

[17:54:04.0000] <Hixie>
icann

[17:54:05.0000] <Hixie>
they're not "planning" per se

[17:54:06.0000] <Hixie>
they've done it, as i understand it

[17:54:07.0000] <Hixie>
could be wrong

[17:55:00.0000] <Hixie>
they still have to work out the details, but other than that, they're committed: http://icann.net/en/announcements/announcement-4-26jun08-en.htm

[17:57:00.0000] <Lachy>
at least there is some sort of approval process for each application

[17:57:01.0000] <Hixie>
that'll last all of a day, i bet

[17:58:00.0000] <Hixie>
because when they get a million applications, they'll just approve everything

[17:58:01.0000] <Lachy>
but I can just imagine domain name squatters registerring valuable TLDs, and then selling them off for huge profits later

[18:00:00.0000] <jcranmer>
Hixie: the solution is simple

[18:00:01.0000] <Lachy>
it would be better if they did what Australia did with domain names and forbid them to be resold.

[18:01:00.0000] <jcranmer>
just define an http: or https: URI to have any a select few TLDs

[18:03:00.0000] <Hixie>
jcranmer: hrh

[18:03:01.0000] <Hixie>
heh even

[18:04:00.0000] <jcranmer>
"A URI's TLD must consist of either a ccTLD or the following TLDs: .com, .net, ..."

[18:05:00.0000] <Hixie>
ah well

[18:05:01.0000] <Hixie>
i guess we'll pool some cash and get .whatwg

[18:05:02.0000] <Hixie>
then we can have http://html5.whatwg/

[18:05:03.0000] <Hixie>
and so on

[18:07:00.0000] <roc>
another bloody gold rush

[18:07:01.0000] <Philip`>
http://html.5/

[18:07:02.0000] <Hixie>
heh

[18:07:03.0000] <hober>
what.wg

[18:07:04.0000] <roc>
will they allow IDN in the TLD?

[18:07:05.0000] <jcranmer>
roc: apparently

[18:08:00.0000] <jcranmer>
roc: see http://idn.icann.org/#Things_to_test

[18:08:01.0000] <roc>
God help us all

[18:08:02.0000] <Philip`>
It's strange that there's an infinite number of possible domain names, and now they're going to allow infinitely more, yet still individual ones are very valuable

[18:08:03.0000] <roc>
well technically they're not changing the number of available domains

[18:10:00.0000] <Philip`>
Would this affect http://publicsuffix.org/ much?

[18:10:01.0000] <jcranmer>
Philip`: you like typing thi5v3ry10ngd0m4inn4m3c0n5i5ting0f4m3d31y0f41ph4num3ric53xi5ting50lelyb3c4u3eth30th3r0n3w45t4k3n?

[18:10:02.0000] <jcranmer>
.com

[18:10:03.0000] <roc>
I hope they're really really careful about homographs in TLDs or our whole IDN whitelisting scheme based on TLD is going to sink

[18:11:00.0000] <jcranmer>
I hope they'll change their mind in a year and revoke all new TLDs

[18:12:00.0000] <Philip`>
jcranmer: I suppose that's not great, so I'd shorten it to something like http://91.195.35.8

[18:12:01.0000] <jcranmer>
/me wonders how many sites have a domain name longer than their IP

[18:12:02.0000] <Philip`>
IPv6 helps solve that problem by swapping the balance

[18:18:00.0000] <Hixie>
61%.

[18:18:01.0000] <Hixie>
getting there.

[18:19:00.0000] <jcranmer>
61% and rising or falling?

[18:36:00.0000] <Hixie>
rising

[18:36:01.0000] <Hixie>
and the last 30% are trivial (the parser part doesn't have URLs in it)

[18:37:00.0000] <Lachy>
http://tech.slashdot.org/article.pl?sid=08/06/26/1814205 the comments have some good suggestions

[18:39:00.0000] <Lachy>
"ICANN has .cheezburger?" :-)

[18:41:00.0000] <roc>
mmmm

[18:41:01.0000] <roc>
http://solitaire.exe

[18:41:02.0000] <roc>
heck

[18:41:03.0000] <roc>
http://index.html

[18:47:00.0000] <Lachy>
.mov would be good for films, instead of [xxx]themovie.com commonly used these days

[18:47:01.0000] <Lachy>
or maybe .film

[18:47:02.0000] <Hixie>
i'm registering .xn--74h

[18:47:03.0000] <Lachy>
:-)

[18:47:04.0000] <Hixie>
.movie or .film is a tld that would actually be useful, i'd support icann adding that

[18:48:00.0000] <Hixie>
i think that every time i see a movie

[18:48:01.0000] <Hixie>
speaking of which, wall-e tomorrow!!!!!! weeeee!!!!

[18:48:02.0000] <Lachy>
heh, me too

[18:48:03.0000] <Lachy>
oh, cool

[18:48:04.0000] <Hixie>
gonna have to update the spec!

[18:49:00.0000] <Hixie>
the <li> example will be out of date :-)

[18:49:01.0000] <Lachy>
the <li> example is already wrong :-)

[18:52:00.0000] <Lachy>
/me is watching the Wall-e trailer in HD on 24" iMac. Damn, it looks good!

[18:52:01.0000] <Hixie>
no spoilers!

[18:53:00.0000] <Hixie>
i've actually managed to avoid seeing the second trailer this time

[18:53:01.0000] <Hixie>
(pixar always release two trailers, one a year in advance, which uses the same art but has nothing to do with the movie, and one nearer release time, which actually does have some bearing on the movie)

[18:55:00.0000] <Lachy>
hah! You have to see this one!

[18:55:01.0000] <Hixie>
i'll see it after :-)

[18:55:02.0000] <Hixie>
<-- fan boy

[18:56:00.0000] <Lachy>
http://www.apple.com/trailers/disney/walle/hd/ the one called Vignette is funny

[18:58:00.0000] <Hixie>
is that the one from when they release ratatouille?

[18:58:01.0000] <Hixie>
released

[18:58:02.0000] <Hixie>
i.e. the first one

[18:58:03.0000] <Lachy>
no

[18:58:04.0000] <Hixie>
ah

[18:58:05.0000] <Lachy>
it involves a vaccuum

[19:00:00.0000] <Hixie>
lalala can't hear you!

[19:01:00.0000] <Lachy>
don't worry, I wont spoil it for you

[19:02:00.0000] <Hixie>
:-)

[19:06:00.0000] <Philip`>
Of course you can't hear him, it's a vacuum

[19:06:01.0000] <Lachy>
ah, crap. I just realised, since it's a children's film and I'm in Norway, they will have dubbed it in Norwegian.

[19:07:00.0000] <Lachy>
but it doesn't look like it's being released here yet anyway

[19:08:00.0000] <Lachy>
I have to get out of this silly backwards country :-(

[19:08:01.0000] <Hixie>
children's film!

[19:09:00.0000] <Hixie>
blasphemy!

[19:09:01.0000] <Lachy>
sorry, family film

[19:10:00.0000] <Hixie>
the term is "comedy"

[19:10:01.0000] <Lachy>
suitable for children, but no doubt entertaining for adults.

[19:12:00.0000] <jcranmer>
you'd think that Hixie is employed by Disney or Pixar or whomever...

[19:13:00.0000] <jcranmer>
oh, I'm sorry, I wasn't supposed to mention that!

[19:13:01.0000] <Lachy>
my point was that it's the kind of film they don't just put subtitles on

[19:14:00.0000] <Hixie>
Lachy: when we saw the incredibles, they had different showings, one dubbed, and one subbed

[19:14:01.0000] <jcranmer>
Lachy: sometimes, movies are funnier w/o subtitles

[19:17:00.0000] <Lachy>
ok. I was just told that films suitable for children were dubbed. When it comes out, I'll check

[19:17:01.0000] <Lachy>
jcranmer, all films are better without subtitles. But they don't give me a choice here.

[19:18:00.0000] <Hixie>
maybe norwegian cinemas have an appreciation of pixar :-)

[19:18:01.0000] <Hixie>
/me saw the incredibles at a norwegian cinema at a pre-release event for free, thanks to eiriks :-D

[19:19:00.0000] <jcranmer>
/me prefers watching Japanese anime in subtitles

[19:19:01.0000] <jcranmer>
because the dubs can be just WRONG wrt voices

[19:19:02.0000] <Hixie>
dubbing is wrong in general

[19:19:03.0000] <jcranmer>
there are a few good dubs, though

[19:20:00.0000] <Hixie>
still wrong :-)

[19:21:00.0000] <jcranmer>
what's fun is to watch a dub with subs and see how different they are

[19:21:01.0000] <Philip`>
At least anime tends to show each scene for ten seconds with either no animation or some simple looping, which gives you plenty of time to read the subtitles without missing the on-screen action :-)

[19:22:00.0000] <jcranmer>
Philip`: depends on the anime

[19:22:01.0000] <jcranmer>
if it's something like Dragonball Z, ten seconds is a bit of an understatement

[19:23:00.0000] <jcranmer>
fighting animes tend to be best viewed at about 2-4x speed on your DVD/VHS player

[19:23:01.0000] <jcranmer>
or VLC, for that matter

[19:23:02.0000] <Lachy>
crap like Dragonball Z is best not viewed at all. In fact, a lot of the anime I've seen come out in the past few years has been generally crap

[19:24:00.0000] <jcranmer>
too true

[19:24:01.0000] <jcranmer>
any series which goes on past 100 episodes is way too long

[19:25:00.0000] <jcranmer>
Saiyuki's 50 is even pushing it on length

[19:25:01.0000] <Hixie>
naruto was pretty good, though i never finished it

[19:26:00.0000] <jcranmer>
Hixie: you can't have, it's still not finished

[19:26:01.0000] <jcranmer>
I think they're on ep 200 or something by now

[19:26:02.0000] <Lachy>
there were some good shows when I was younger though, like Sailor Moon and Samurai Pizza Cats.

[19:26:03.0000] <Lachy>
never seen naruto before.

[19:26:04.0000] <Hixie>
i got to about 98 before getting more became more work than i was willing to put into it

[19:26:05.0000] <jcranmer>
at least the people who translated it got a lot better after some royally bad ones

[19:27:00.0000] <Hixie>
(naruto is by far the best anime i've seen)

[19:27:01.0000] <jcranmer>
Ino's "Mind Control Technique" -> "Super secret valentine technique"

[19:27:02.0000] <jcranmer>
Hixie: I would care to disagree, but it's certainly better than a lot of the pulp on Saturday morning cartoons

[19:29:00.0000] <jcranmer>
/me remembers when Power Rangers was actually good

[19:29:01.0000] <Lachy>
yeah, the original series of power rangers was awesome.

[19:29:02.0000] <Lachy>
then it just went downhill quite rapidly

[19:30:00.0000] <jcranmer>
I think I watched the first two...

[19:30:01.0000] <jcranmer>
/me was only like 5 then

[19:32:00.0000] <Lachy>
I was about 11-12 then

[19:34:00.0000] <jcranmer>
/me wonders if the logs are rolling right now

[19:34:01.0000] <jcranmer>
yep

[23:43:00.0000] <hsivonen>
Lachy: doesn't Norway have Pixar films *also* available with the original sound track?

[23:54:00.0000] <Dashiva>
Sometimes, but not always

[23:55:00.0000] <hsivonen>
weird. In Finland, all Disney films are always in theaters in Finnish and English.

[23:56:00.0000] <hsivonen>
and the official story for explaining dubbing is that someone at Disney made a policy that forbids subtitling their art

[23:57:00.0000] <hsivonen>
(but now there's a silly mentality to dub animated movies. whoever decided to commission the dubbing of the Simpson's movie clearly had no clue of the product they were importing)

[23:58:00.0000] <Dashiva>
Animation is for kids

[23:58:01.0000] <Dashiva>
Get with the times :P

[23:58:02.0000] <hsivonen>
Harry Potter isn't, though.

[23:58:03.0000] <hsivonen>
or it's for literate kids

[00:01:00.0000] <Dashiva>
Are they still burning those books?

[00:02:00.0000] <hsivonen>
I don't know. I meant the Harry Potter movies aren't dubbed.

[01:12:00.0000] <hsivonen>
parsetree.validator.nu now uses GET for the textarea

[01:25:00.0000] <Lachy>
hsivonen, I may have been misinformed about how it works here. I will find out next time a pixar film is shown here

[01:56:00.0000] <hsivonen>
takkaria: so far my endeavors to write test cases support the previously assumption about the secondary insertion mode

[02:02:00.0000] <Hixie>
URLification complete!

[02:03:00.0000] <Hixie>
almost

[02:04:00.0000] <philipj>
could someone point me to some background discussion about HTMLMediaElement addCueRange/removeCueRanges methods? they seem rather like the odd man out to me, but some use case etc might be nice before complaining on the mailing lists

[02:04:01.0000] <Hixie>
the main use cases are subtitles and keeping a separate slideshow in sync

[02:04:02.0000] <Hixie>
while the user seeks arbitrarily

[02:04:03.0000] <Hixie>
or plays the content backwards

[02:05:00.0000] <philipj>
sure, that's the intention, but has anyone shown how it can be done with this interface?

[02:05:01.0000] <philipj>
I'm sure it's possible, but seems awkward

[02:06:00.0000] <Hixie>
oh

[02:06:01.0000] <Hixie>
?

[02:06:02.0000] <philipj>
has any browser implemented it yet?

[02:06:03.0000] <philipj>
otherwise I'd suggest some changes

[02:06:04.0000] <Hixie>
i don't know what the implementation status is

[02:06:05.0000] <Hixie>
but what changes did you have in mind?

[02:06:06.0000] <philipj>
the pauseOnExit boolean seems out of place. calling pause() in the exitCallback would do that

[02:07:00.0000] <philipj>
is this a special case that deserves special treatment?

[02:07:01.0000] <Hixie>
you can't guarantee that the callback will be called quick enough to pause on the right frame

[02:07:02.0000] <philipj>
sounds like an implementation issue to me

[02:07:03.0000] <Hixie>
not really

[02:08:00.0000] <Hixie>
if you want the content paused on a particular frame (e.g. at the end of a fade-to-black), you don't want the cpu load on the machine to affect that

[02:08:01.0000] <Hixie>
there's no sane way an implementation can run js code fast enough to guarantee that it'll work right

[02:09:00.0000] <Hixie>
after all, some other code might be running at the precise millisecond you need to pause at

[02:09:01.0000] <Hixie>
in many UAs, that code might even be in another tab

[02:10:00.0000] <philipj>
you're right

[02:10:01.0000] <philipj>
is such precision necessary though. why not just seek to the frame while paused?

[02:11:00.0000] <Hixie>
the use case there would running an interstitial ad from a separate <video> element

[02:11:01.0000] <Hixie>
you don't want the user to see the next frame or hear the next bit of audio, then hear clipping, then see the ad

[02:11:02.0000] <Hixie>
that's just ugly

[02:12:00.0000] <Hixie>
same with, say, an interactive movie

[02:12:01.0000] <philipj>
ok, fair enough

[02:12:02.0000] <Hixie>
where you play a scene, then wait for input

[02:12:03.0000] <philipj>
second, why is there a VoidCallback interface, why not just a function like for addEventListener

[02:13:00.0000] <philipj>
is there something that's made simpler by encapsulating it in an object?

[02:13:01.0000] <annevk>
addEventListener takes an EventListener

[02:14:00.0000] <annevk>
(in the ECMAScript binding this boils down to a function)

[02:14:01.0000] <Hixie>
as anne says, VoidCallback is a function

[02:14:02.0000] <Hixie>
i don't like the way it's written today

[02:14:03.0000] <Hixie>
i really just want to have it take a Function or something

[02:14:04.0000] <Hixie>
but this is an open issue between html5 and webidl

[02:15:00.0000] <Hixie>
we haven't quite worked out how to do it yet

[02:15:01.0000] <philipj>
ok, what is supposedly the problem?

[02:15:02.0000] <Hixie>
it's unclear how to indicate that in JS you should take a function, but in a language without function pointers, you should take an object with a single handleEvent method

[02:16:00.0000] <Hixie>
same problem addEventListener's definition has

[02:17:00.0000] <philipj>
I see

[02:17:01.0000] <philipj>
so how would you expect VoidHandler to map to JS?

[02:18:00.0000] <Hixie>
(addEventListener is defined to take an interface-implementing object, not a function -- it's made into a function using prose, just like VoidCallback)

[02:18:01.0000] <Hixie>
(we use VoidCallback and not EventListener in the media case because there's no argument)

[02:18:02.0000] <Hixie>
what i really want is for IDL to support a native function type

[02:18:03.0000] <Hixie>
that expands into an interface with a matching handleEvent method in the languages where that is necessary

[02:18:04.0000] <Hixie>
but webidl doesn't yet do that

[02:18:05.0000] <Hixie>
zero-argument function

[02:18:06.0000] <philipj>
ok, what prose is this that I should be reading?

[02:19:00.0000] <Hixie>
i think the spec says that somewhere, hold on

[02:20:00.0000] <Hixie>
webidl, section 4.5, last paragraph

[02:20:01.0000] <Hixie>
http://dev.w3.org/cvsweb/~checkout~/2006/webapi/Binding4DOM/Overview.html?content-type=text/html;%20charset=utf-8

[02:20:02.0000] <Hixie>
"As a special case, a Function object F is considered to implement an interface if that interface is declared with exactly one operation."

[02:21:00.0000] <Hixie>
i really want the spec to further say that in JS, an object _doesn't_ satisfy that interface

[02:21:01.0000] <philipj>
ok, so I suppose we want to add a similar statement to the html5 spec

[02:21:02.0000] <Hixie>
(heycam and i need to sit down and hammer this out at some point)

[02:21:03.0000] <Hixie>
html5 imports webidl

[02:21:04.0000] <philipj>
oh

[02:22:00.0000] <philipj>
then maybe a note, it is not obvious at all when reading the spec if you're unfamiliar with webidl

[02:22:01.0000] <Hixie>
webidl is one of those amazing specs that makes my life like a bazillion times easier

[02:22:02.0000] <Hixie>
yeah, i agree

[02:22:03.0000] <Hixie>
i haven't really done anything with it yet since i want to just change the whole way we do callbacks

[02:22:04.0000] <Hixie>
i'll make a note

[02:22:05.0000] <annevk>
can't we just say "in Function foo" for now?

[02:23:00.0000] <annevk>
that's what Web IDL should probably say anyway

[02:23:01.0000] <Hixie>
annevk: what's Function's signature?

[02:23:02.0000] <annevk>
signature?

[02:23:03.0000] <philipj>
for implementation purposes, may I assume that VoidCallback is a pointer takes a function with no arguments, and not handle an object with a handleEvent (should be handleCallback?) method?

[02:23:04.0000] <Hixie>
anne: arguments, return value

[02:24:00.0000] <Hixie>
philipj: yeah, do the same as for EventListener / addEventListener, except with no arguments instead of one argument

[02:24:01.0000] <annevk>
Hixie, I thought the idea was no arguments, if it's more complex, never mind

[02:24:02.0000] <Hixie>
annevk: some are no arguments (like VoidCallback), others take arguments. And in some languages, "Function" makes no sense.

[02:25:00.0000] <annevk>
well, WebIDL would say that in some languages Function would be implemented as FunctionCallbackObject or some such

[02:25:01.0000] <Hixie>
right

[02:25:02.0000] <Hixie>
but we need syntax to define the signature

[02:26:00.0000] <Hixie>
typedef URLEventToBoolCallback = Function (in DOMString url, in Event event): boolean; or whatever

[02:29:00.0000] <philipj>
finally then, do we expect script authors to create a unique function for each entry and exit point of each range? it's either that or inspecting the currentTime isn't it?

[02:30:00.0000] <Hixie>
yeah, typically they'd create lambdas

[02:30:01.0000] <Hixie>
or use currying to generate the callbacks

[02:31:00.0000] <Hixie>
that's why removeCueRange() doesn't take a function pointer but just takes a class name

[02:32:00.0000] <philipj>
I suppose the same exitCallback could be used for all ranges, at least in the subtitles case (clear text)

[02:33:00.0000] <heycam>
Hixie, why do you specifically want to disallow an object with a handleEvent property (or such)?

[02:34:00.0000] <Hixie>
heycam: because it's unnecessary and unnecessary things tend to be poorly tested and thus buggy

[02:35:00.0000] <Hixie>
and especially in this case, handling arbitrary js objects is going to be very buggy

[02:36:00.0000] <heycam>
extended attribute? :)

[02:37:00.0000] <heycam>
/me bbl, visitors

[02:38:00.0000] <jgraham>
/me wonders how many months it will be before Pixar deign to release the exact same film in the UK

[02:39:00.0000] <Hixie>
ok bed time

[02:39:01.0000] <Hixie>
nn

[02:44:00.0000] <jgraham>
/me discovers the delay is only 3 weeks this time which is better than 4 months for Ratatouille

[04:12:00.0000] <Windstoss>
Maybe you folks can gave me a hint. It is said, HTML 5 integrates a new version of DOM Level 2 HTML. The HTMLElement interface defines event handler DOM attributes, AFAIK not covered in DOM2 HTML. On the other hand, addEventListener() specified in DOM2 Event does not seem to be specified. Whats the relation of HTML 5 to DOM2 Event?

[04:13:00.0000] <annevk>
HTML5 replaces DOM2HTML, not DOM2Events

[04:13:01.0000] <annevk>
DOM2Events is just something HTML5 works together with

[04:15:00.0000] <Windstoss>
annevk: And where do the HTMLElement event handler come from? Was it actually part of DOM2HTML?

[04:15:01.0000] <Windstoss>
annevk: Well, I guess there is a reference to DOM 2 Events I haven't spotted yet ;)

[04:15:02.0000] <annevk>
It might reference DOM 3 Events

[04:16:00.0000] <annevk>
the event handler attributes were never defined before

[04:16:01.0000] <annevk>
obviously they should've been and now are

[04:16:02.0000] <Windstoss>
ah, so it is part of what some call DOM 0?

[04:17:00.0000] <annevk>
yeah, likely

[04:17:01.0000] <annevk>
though not anymore, it's now in HTML 5 :p

[04:20:00.0000] <Windstoss>
Thanks… nice interview, btw (crueltobekind.org)

[04:25:00.0000] <annevk>
ty

[04:25:01.0000] <hsivonen>
annevk: do you have presentation materials available online?

[04:29:00.0000] <annevk>
what do you mean?

[04:29:01.0000] <annevk>
as in, opera.com and wiki.whatwg.org/wiki/HTML5_Presentations ?

[04:30:00.0000] <hsivonen>
annevk: is there a set of slides, a sound recording or a video of you reboot presentation on the Web?

[04:30:01.0000] <annevk>
aah, I haven't given it just yet

[04:30:02.0000] <hsivonen>
oh. reboot is long

[04:30:03.0000] <annevk>
but they're making high quality video recordings and hopefully they put it sooner online than last year

[04:30:04.0000] <annevk>
it's just two days

[04:31:00.0000] <hsivonen>
I had thought the interview was done on location

[04:32:00.0000] <annevk>
I see, that was done over skype last weekend

[04:33:00.0000] <annevk>
she e-mailed all presenters beforehand

[05:00:00.0000] <hsivonen>
/me wonders who wrote "RDFa" in the HTML WG charter

[05:09:00.0000] <Lachy>
hsivonen, luckily it's only written in there as an example of something that could be included, not something we necessarily have to include.

[05:11:00.0000] <Lachy>
does anyone here know anything about the Internationlisation Tag Set, which is also mentioned in our charter?

[05:20:00.0000] <hsivonen>
/me finds bug in foreign content impl

[05:20:01.0000] <Lachy>
oh, wow, it looks like an incredibly complicated spec

[05:33:00.0000] <hsivonen>
/me deems it a spec bug instead of impl. bug

[07:28:00.0000] <Philip`>
/me quite likes the "http://whatwg.org/html5#src1" link syntax

[07:30:00.0000] <Philip`>
It's a whole three characters longer than the equivalent TinyURL, though :-(

[07:34:00.0000] <Lachy>
hey, does anyone know where the contribution guildelines are written up, which explain things like documenting use cases, problems and finding supporting evidence? I remember Hixie wrote up something like that somewhere, but can't find it

[07:39:00.0000] <hsivonen>
Lachy: http://wiki.whatwg.org/wiki/FAQ#Is_there_a_process_for_adding_new_features_to_the_spec.3F

[07:39:01.0000] <Lachy>
thanks

[07:40:00.0000] <hsivonen>
Lachy: the previous question covers removing stuff that Hixie had put in presumably without having point #2 covered in advance :-)

[08:59:00.0000] <BenMillard>
I've been collecting website addresses mentioned in offline media for a while, so I've published them: http://projectcerbera.com/web/study/url/offline

[09:00:00.0000] <BenMillard>
no analysis or catagorisation, just the URLs grouped by date with the source they came from

[09:00:01.0000] <hsivonen>
BenMillard: did you omit http:// and www or did the ads do that consistently?

[09:01:00.0000] <BenMillard>
hsivonen, I omitted it when it was present

[09:01:01.0000] <BenMillard>
it may have been interesting to keep it when present, though

[09:02:00.0000] <BenMillard>
there may be small transcription errors, too

[09:03:00.0000] <BenMillard>
some adverts flash the website name for a really short amount of time, so a few addresses I glimpsed but couldn't write while others are incomplete (usually missing the TLD)

[09:09:00.0000] <annevk>
ah, elharo spotted the URI thread

[09:09:01.0000] <Philip`>
BenMillard: The world seems to contain quite a lot of advertising :-/

[09:10:00.0000] <BenMillard>
yeah, I was surprised to stumble upon neary 40 URLs in the first day!

[09:11:00.0000] <BenMillard>
this is a small but neat complement to DMOZ, which is like an online URL collection :)

[09:12:00.0000] <BenMillard>
entirely UK-centric, though

[09:14:00.0000] <BenMillard>
I'm thinking of collecting every URL from my local high street to see how big a business has to be to have a website

[09:15:00.0000] <annevk>
Does RB understand what <th headers> does? It seems that he thinks you'd use it to point to <td> elements?

[09:15:01.0000] <annevk>
Maybe I shouldn't care

[09:15:02.0000] <annevk>
/me deletes e-mail

[09:19:00.0000] <itpastorn>
Off topic but you guys are usually friendly. I am looking for JavaScript (ES, DOM) material that are written from a computer science perspective (besides Doug C:s stuff)

[09:19:01.0000] <BenMillard>
annevk, he does seem to be making that error

[09:23:00.0000] <annevk>
itpastorn, dunno; I don't really know good ES/DOM resources at all

[09:23:01.0000] <annevk>
/me learned it by try and error and IDL fragments in the DOM specifications...

[09:25:00.0000] <itpastorn>
IDL?

[09:26:00.0000] <annevk>
see http://www.w3.org/TR/DOM-Level-2-Events/events.html#Events-UIEvent for instance

[09:26:01.0000] <annevk>
stands for "interface definition language"

[09:29:00.0000] <itpastorn>
Ah, those grey boxes.... Not International Darts League ;-)

[09:29:01.0000] <annevk>
heh

[09:31:00.0000] <annevk>
I sort of like the idea of open-ended TLDs

[09:33:00.0000] <annevk>
Though it seems that the way it works is that there's a still a single platform handing them out and it will earn a lot of money on this

[09:46:00.0000] <BenMillard>
annevk, at the November 2007 F2F I complimented your blog

[09:46:01.0000] <BenMillard>
I've been working on bringing my own into the 21st century, summarised here: http://www.accessifyforum.com/viewtopic.php?t=10762

[09:58:00.0000] <Philip`>
Is it "an 0xDD byte" or "a 0xDD byte"?

[10:06:00.0000] <hober>
an

[10:06:01.0000] <hober>
if you read the zero

[10:07:00.0000] <Philip`>
An implicit part of my question was "do you read the zero?", so it's no good making the answer conditional on that :-p

[10:08:00.0000] <Philip`>
I'd read it as "an oh ex dee dee byte" but I don't know if I'm just crazy

[10:11:00.0000] <jcranmer>
"an octet with value 0xDD"

[10:11:01.0000] <jcranmer>
oh you can go Intel and say "DDh"

[10:11:02.0000] <MikeSmith>
Philip`: an awks DD byte

[10:11:03.0000] <BenMillard>
Philip`, I'd say what you read

[10:39:00.0000] <gsnedders>
Philip`: an

[12:14:00.0000] <Philip`>
I wish Google search results would link to a fragment identifier in the page near the search terms

[12:15:00.0000] <jacobolus>
Philip`: you don't have incremental search in your browser?

[12:15:01.0000] <Philip`>
Does http://www.w3.org/TR/html401/interact/forms.html#adef-accept-charset make any sense? I can't work out what it's talking about

[12:16:00.0000] <Philip`>
jacobolus: Yes, but that means I have to type the search terms into the search box, then click the result, then press the incremental search key and type the search terms in a second time

[12:16:01.0000] <jacobolus>
Philip`: I dunno… I just ⌘E, ⌘G them on a Mac. :)

[12:17:00.0000] <Philip`>
I don't even know how to pronounce those keys

[12:17:01.0000] <jacobolus>
command-E, command-G

[12:18:00.0000] <Philip`>
I usually alt-D tab {type} enter click slash {type again}

[13:49:00.0000] <Hixie>
hsivonen: nah removing features applies to all features, including the ones introduced carefully

[14:34:00.0000] <Hixie>
should <base href> be affected by xml:base?

[14:34:01.0000] <Hixie>
i guess not, since xml:base is affected by <base href>

[14:35:00.0000] <Hixie>
right now the loop is broken by saying that xml:base isn't affected by base href when resolving base href

[14:35:01.0000] <Hixie>
but i think it should just not affect base href

[14:37:00.0000] <Dashiva>
Wasn't that what the conclusion was last time too?

[14:37:01.0000] <Hixie>
probably :-)

[14:53:00.0000] <Hixie>
apparently <base> doesn't work in document.write()n documents in IE

[14:53:01.0000] <Hixie>
lovely

[15:19:00.0000] <Hixie>
<a href>, <a ping>, <q cite>, <blockquote cite>, <ins cite>, and <del cite> appear to be the only attributes affected by base url changes

[15:19:01.0000] <Hixie>
and they're only affected for UI purposes and :link/:visited

[15:57:00.0000] <Hixie>
where does RFC3986 say how to resolve a relative URI reference relative to a base URI that uses the mailto:, data:, javascript:, or similar schemes?

[16:07:00.0000] <Hixie>
crap, backslashes

[16:07:01.0000] <Hixie>
wonder we should do with _those_

[16:10:00.0000] <gsnedders>
Hixie: It doesn't define anything special

[16:10:01.0000] <gsnedders>
Hixie: WebKit just replaces all \ with /

[16:54:00.0000] <Hixie>
gsnedders: not if you type them into the location bar


2008-06-28
[17:13:00.0000] <Hixie>
i don't understand what IE does

[17:14:00.0000] <Hixie>
"ht\tp:dem\o⊙ec" is treated teh same as "ht/tp:demo/o⊙ec" but "mailto:dem\o⊙ec" is treated literally

[17:15:00.0000] <Hixie>
how does it know that "ht\tp:" isn't a scheme?

[17:16:00.0000] <Hixie>
i guess \ can't be in a cheme

[17:16:01.0000] <Hixie>
scheme

[17:30:00.0000] <Hixie>
hsivonen, Philip`: do you want spaces in URLs to be allowed? Even though URI/IRI disallow it?

[17:37:00.0000] <Philip`>
Hixie: No, since it's too dangerous - if someone writes <a href="foo bar"> and then tells their text editor to wrap lines, the link might break without anyone noticing

[17:38:00.0000] <Philip`>
and if someone writes <a href="foo  bar"> then it won't do what they expect

[17:39:00.0000] <Philip`>
Oops, yes it will, I don't know what I'm talking about, please ignore me

[17:41:00.0000] <Philip`>
but the first thing still seems like a reason to discourage spaces in URLs

[17:48:00.0000] <Philip`>
Also it would be bad for <head profile> which uses space-separated URIs

[17:49:00.0000] <Hixie>
fair enough

[18:01:00.0000] <Philip`>
Hixie: "This should not be pretty well-defined." - did you mean s/not/now/?

[18:04:00.0000] <Hixie>
er yes

[18:04:01.0000] <Hixie>
now

[23:01:00.0000] <mcarter>
Hixie, don't suppose you're around?

[00:46:00.0000] <Hixie>
mcarter: here

[00:51:00.0000] <annevk>
Maybe "Web URL" if we really need a separate name... "HTML URL" doesn't really scale well as it's likely we want to use this everywhere just to kep surprises for authors to a minimum

[00:56:00.0000] <annevk>
Hixie, your "Re: How Open is Open?" never went to the public list...

[00:56:01.0000] <Hixie>
oh?

[00:56:02.0000] <annevk>
It seems you changed the name of the list, but not the actual e-mail address :)

[00:57:00.0000] <Hixie>
woops

[00:57:01.0000] <Hixie>
/me goes to fix

[01:12:00.0000] <mcarter>
Hixie, when you have some time i was hoping you could take a look at this article i wrote and let me know if i'm getting anything wrong. also i put a couple questions that i wanted to print your responses to

[01:13:00.0000] <mcarter>
Hixie, http://orbited.org/svn/orbited/branches/0.5/articles/mcarter/0.5_world_announcement

[01:13:01.0000] <mcarter>
Hixie, the point is to explain websocket and also to shed some light on what we're doing with Orbited

[01:14:00.0000] <mcarter>
Hixie, the plan is to publish it after we've worked out the WebSocket stuff

[01:19:00.0000] <Hixie>
looks good to me

[01:20:00.0000] <Hixie>
for your first two questions -- I don't think it'll change the face of the Web per se, it's just a new tool in the growing toolbox that Web developers have at their disposal, one less reason for developers to use a proprietary platform over the Web.

[01:21:00.0000] <Hixie>
Having said that, it will make a lot of interactive applications like mail, IM, remote control tools, and the like, much more powerful

[01:21:01.0000] <Hixie>
and much easier to write.

[01:22:00.0000] <Hixie>
for your third question -- There's a plan to have a plan!

[01:22:01.0000] <mcarter>
cool

[01:22:02.0000] <Hixie>
As with everything in HTML5, we want to start small, and see where it goes before adding too much.

[01:23:00.0000] <mcarter>
ok, i'll add these answer to the article

[01:25:00.0000] <mcarter>
I'll probably have to change the tone of the article slightly -- I did put a lot of hype in there

[01:27:00.0000] <mcarter>
one thing to remember is that I'm planning on publishing this on cometdaily.com, and the point of it is to get the readership to stop thinking what they want is "comet" and really its a socket

[01:27:01.0000] <mcarter>
thats why i talk about comet at all, if you were wondering

[01:31:00.0000] <Hixie>
cool

[01:31:01.0000] <Hixie>
time for bed

[01:31:02.0000] <Hixie>
nn

[01:32:00.0000] <annevk>
WebSocket is not actually defined yet, right?

[01:32:01.0000] <mcarter>
goodnight

[01:32:02.0000] <mcarter>
annevk, no, not yet

[02:21:00.0000] <takkaria>
gah, 47 mails since yesterday?  I thought public-html had become sensible

[02:26:00.0000] <annevk>
only when you don't look

[03:07:00.0000] <Dashiva>
Is there any point in the discussion at uri@?

[03:08:00.0000] <takkaria>
not really

[05:04:00.0000] <Lachy>
http://standardssuck.org/w3c-digging-the-xml-grave

[05:05:00.0000] <annevk>
/me goes in to fix typo and adds some tags

[05:05:01.0000] <annevk>
thanks Lachy

[05:06:00.0000] <Lachy>
what typo?

[05:06:01.0000] <annevk>
"insight into the its failure."

[05:06:02.0000] <Lachy>
oh

[05:08:00.0000] <annevk>
also, seems our titles are not capitalized so I removed that too

[05:17:00.0000] <takkaria>
if they weren't leading questions I don't know what are

[05:18:00.0000] <annevk>
hm?

[06:28:00.0000] <hsivonen>
Hixie: I'm not sure what I want Re: spaces in URLs

[06:28:01.0000] <hsivonen>
Hixie: I can see reasonable arguments both ways

[06:29:00.0000] <gsnedders>
Hixie: I don't want spaces in URLs to be conforming.

[06:29:01.0000] <hsivonen>
Hixie: ATM, I'm leaning on the side of not allowing spaces as conforming

[06:29:02.0000] <gsnedders>
Hixie: I'd argue that any URL must be a valid IRI

[06:30:00.0000] <hsivonen>
fwiw, I was trying to watch the latest standards suck episode with the software that Nokia ships with S60r3, but there was no way to navigate to the .3gp version of YouTube

[06:31:00.0000] <hsivonen>
(I don't know if YouTube chooses to encode the standards suck episodes as .3gp anyway)

[07:38:00.0000] <Lachy>
hsivonen, YouTube uses h.264 encoded video in a Flash video container format.

[07:39:00.0000] <hsivonen>
Lachy: interesting. I thought they hadn't made the transition to H.264 yet

[07:40:00.0000] <hsivonen>
Lachy: (also, putting h.264 in the .flv container seems weird. Do you have a reference?)

[07:40:01.0000] <hsivonen>
Lachy: YouTube also has a partial mobile version. the .3gp videos there play on RealPlayer shipped by Nokia.

[07:41:00.0000] <Lachy>
well, I just downloaded the video using Miro, opened it up in QuickTime and had a look at what codec it used.

[07:41:01.0000] <Lachy>
So unless Miro transcoded it, then they use h.264

[07:41:02.0000] <hsivonen>
Lachy: they do use h.264 for AppleTV and iPhone

[07:41:03.0000] <hsivonen>
perhaps Miro pulls in those files?

[07:42:00.0000] <Lachy>
though, it may have done so, cause Miro put it into a .mp4 container format too.

[07:43:00.0000] <Lachy>
I'll download the flv with another tool and see what it has.

[07:43:01.0000] <hsivonen>
(it seems to me that putting h.264 into .flv wouldn't make sense, as versions of Flash plug-ins that support h.264 support it in .mp4)

[07:45:00.0000] <Lachy>
yeah, the video that miro downloaded is different from the flv.

[07:46:00.0000] <Lachy>
the FLV has h.263 with MP3 audio.

[07:46:01.0000] <Lachy>
and is lower quality than the MP4 that Miro downloaded

[07:47:00.0000] <hsivonen>
can standards suck be subscribed to with iTunes?

[07:47:01.0000] <Lachy>
I wonder if Miro somehow got the original video that Marcos had uploaded

[07:47:02.0000] <Lachy>
not yet

[07:51:00.0000] <hsivonen>
Are there Web formats that use namespaced attributes an the namespace isn't the XML namespace, the XMLNS namespace or the XLink namespace?

[07:51:01.0000] <Lachy>
oh, btw, I realised the background noise you can hear in the videos is actually the noisy air conditioner in the office

[07:52:00.0000] <Lachy>
I'm not sure how to effectively filter it out though

[07:55:00.0000] <Philip`>
hsivonen: Does <license rdf:resource="http://creativecommons.org/licenses/by-nc/1.0/" /> etc count as "Web formats", given that it's used on the web a lot?

[07:59:00.0000] <hsivonen>
Philip`: it counts if it is used as an actual element in SVG metadata. It doesn't count if it is use inside comments in HTML.

[08:00:00.0000] <hsivonen>
Philip`: but I guess I should add 'rdf' to my hardwired attribute prefixes

[08:02:00.0000] <hsivonen>
(I finally decided to write an XML serializer so that I don't need to depend on someone else's bugs and design decisions)

[08:02:01.0000] <Philip`>
There's lots of VML stuff like v:ext

[08:02:02.0000] <hsivonen>
using the Xalan serializer seems to take more time than it saves

[08:03:00.0000] <hsivonen>
Philip`: v:ext isn't for real XML content, though.

[08:07:00.0000] <Philip`>
Some collection of real XML SVG uses rdf: and inkscape: and sodipodi: and i: (Illustrator) and x: (XMP Toolkit)

[08:08:00.0000] <hsivonen>
I also need a list of element namespaces that are canonically prefixed. rdf is one of those

[08:08:01.0000] <hsivonen>
Philip`: do you have a URL to a sample document?

[08:09:00.0000] <Philip`>
hsivonen: A sample of what in particular?

[08:09:01.0000] <hsivonen>
Philip`: an SVG file where I can see abundant real-world prefixes.

[08:10:00.0000] <hsivonen>
Philip`: those were all for attributes, right?

[08:10:01.0000] <hsivonen>
Philip`: what's the Illustrator ns URI?

[08:11:00.0000] <hsivonen>
and what's the XMP URI?

[08:12:00.0000] <Philip`>
http://upload.wikimedia.org/wikipedia/en/e/e4/Tetrahedral_group.svg has some i: and a: and rdf:

[08:12:01.0000] <hsivonen>
Philip`: thanks

[08:12:02.0000] <Philip`>
and it has x:

[08:13:00.0000] <hsivonen>
whee! adobe-proprietary URI scheme!

[08:13:01.0000] <hsivonen>
that document has some bad NS and metadata craziness going

[08:13:02.0000] <hsivonen>
so sad

[08:14:00.0000] <Philip`>
/me goes away

[08:14:01.0000] <hsivonen>
/me adds the URIs to Validator.nu

[08:16:00.0000] <hsivonen>
I think ns.adobe.com doesn't adhere to the TAG's advice

[08:18:00.0000] <hsivonen>
Soon I'll have more Adobe namespaces than W3C namespaces on file

[08:19:00.0000] <hsivonen>
/me lols at GenericCustomNamespace

[12:04:00.0000] <tusho>
What should I use to mark up some text like 'Published 2008-06-28'?

[12:04:01.0000] <tusho>
I guess just a <p>...

[12:07:00.0000] <Philip`>
You could use a <time> around the date, if you want to add markup for its own sake (or for the sake of tools that don't exist yet)

[12:09:00.0000] <tusho>
Right. But I have subtitles too.

[12:09:01.0000] <tusho>
So:

[12:09:02.0000] <tusho>
<h1>My Trip Out</h1><h2>or, a very boring subtitle</h2><p>Published 2008-06-28.</p>

[12:09:03.0000] <tusho>
However, CSS-wise, the subtitle and the published line will be styled the same and on the same line, like 'or, a very boring subtitle. Published 2008-06-28.'

[12:10:00.0000] <tusho>
and it just kinda feels wrong to mix a p in with that.

[12:10:01.0000] <tusho>
*shrug* Probably just me being islly.

[12:10:02.0000] <Philip`>
/me isn't any good at working out which elements to use in any given case, so he usually just picks whichever one gets rendered in the desired way :-)

[12:10:03.0000] <tusho>
*g*

[12:10:04.0000] <tusho>
I could just drop subtitles, who reads them anyway?

[12:10:05.0000] <tusho>
But otherwise my titles will be too long for my headings. :(

[12:14:00.0000] <tusho>
:\

[12:26:00.0000] <tusho>
Any opinions?

[12:32:00.0000] <Philip`>
tusho: I don't see what the problem would be with the markup you suggested

[12:32:01.0000] <tusho>
True.

[12:32:02.0000] <tusho>
I'll go for it, then.

[12:32:03.0000] <Philip`>
although in the spirit of promotion HTML5 elements even though I don't know what good they would do, maybe the whole thing could be wrapped in a <header>

[12:32:04.0000] <tusho>
yes

[12:32:05.0000] <tusho>
it will be

[12:32:06.0000] <tusho>
:)

[12:33:00.0000] <Philip`>
s/promotion/promoting/

[12:33:01.0000] <tusho>
I saw http://intertwingly.net/blog/2008/06/24/Minimalist-Markup and thought "well, why does it have to be minimal markup *or* design"?

[12:33:02.0000] <tusho>
So now I'm off in typography and markup la-la land...

[12:34:00.0000] <Windstoss>
I'm just trying out getElementsByClassName(). In Safari, how to use forEach for the result? In Firefox, I do Array.forEach(document.getElementsByClassName('foo'), function() {}).

[12:35:00.0000] <Windstoss>
Safari hast forEach implemented, so I don't want to use the traditional for loop if possible.

[12:41:00.0000] <tusho>
Hm,

[12:42:00.0000] <tusho>
is <h2> even right for a subtitle?

[12:42:01.0000] <tusho>
Doesn't that make this 'tree':

[12:42:02.0000] <tusho>
- My title

[12:42:03.0000] <tusho>
\- My subtitle

[12:42:04.0000] <tusho>
and then, under that subtitle, my published line...

[12:42:05.0000] <tusho>
that seems wrong

[14:08:00.0000] <tusho>
Hmm.

[14:08:01.0000] <tusho>
Can <h2> be in a <p>?

[14:08:02.0000] <tusho>
If so, <p><h2>My fancy subtitle.</h2> Published blah.</p> may be more correct.

[14:11:00.0000] <gsnedders>
tusho: No

[14:11:01.0000] <gsnedders>
tusho: in text/html, the <h2> creates an implied </p>

[14:11:02.0000] <tusho>
Hrmph.

[14:11:03.0000] <tusho>
Because my current way isn't really Working Out.

[14:11:04.0000] <gsnedders>
tusho: in XHTML, it's non-conforming

[14:12:00.0000] <tusho>
It's making me have to make (header h2, header p) inline.

[14:12:01.0000] <tusho>
:|

[14:20:00.0000] <tusho>
Anyone have markupy suggestions?

[14:20:01.0000] <tusho>
I already have a <header> including a <h1> and these two elements..

[14:22:00.0000] <gsnedders>
tusho: what sort of subtitle is it? I'd probably just use a <p> for it

[14:22:01.0000] <tusho>
gsnedders: like

[14:23:00.0000] <tusho>
<h1>Killing Gnomes</h1><h2>A great idea with a terrible implementation.</h2><p>Published 1970-01-01.</p>

[14:23:01.0000] <gsnedders>
tusho: I'd just use a p emenet

[14:23:02.0000] <tusho>
which, in the end, I'm trying to display like <p>A great idea with a terrible implementation. Published 1970-01-01.</p>

[14:24:00.0000] <tusho>
gsnedders: OK then

[14:24:01.0000] <tusho>
it feels like I should mark a subtitle SOMEHOW, though.

[14:25:00.0000] <gsnedders>
tusho: Heck, if you want that, just a single p element

[14:25:01.0000] <gsnedders>
tusho: a p element is markup! :P

[14:25:02.0000] <tusho>
*g*

[14:25:03.0000] <jcranmer>
display: run-in ?

[14:25:04.0000] <gsnedders>
tusho: Also, put the date in a time element

[14:25:05.0000] <tusho>
yes, I am gsnedders 

[14:25:06.0000] <gsnedders>
/me wishes that was better supported

[14:25:07.0000] <jcranmer>
that seems to be the desired formatting, FWICT

[14:26:00.0000] <gsnedders>
I use display: run-in on the print styles for my blog, though only Prince XML and Opera actually manage to render the print style correctly

[14:26:01.0000] <tusho>
hmm

[14:26:02.0000] <tusho>
I'm all for browser snobbery

[14:26:03.0000] <tusho>
but I'd like to support ff,opera,safari

[14:26:04.0000] <gsnedders>
Browsers just tend to have rubbish support of print stuff which doesn't help

[14:27:00.0000] <gsnedders>
tusho: display: run-in isn't supported in Gecko, so that won't work

[14:27:01.0000] <tusho>
heh

[14:27:02.0000] <jcranmer>
gsnedders: patches welcome, I suppose

[14:28:00.0000] <jcranmer>
/me wonders idly if IE 8 will support run-in

[14:28:01.0000] <gsnedders>
jcranmer: I don't have the interest to write stuff like that for Gecko

[14:28:02.0000] <gsnedders>
jcranmer: It should, IIRC b1 does

[14:28:03.0000] <tusho>
jcranmer: that won't be of much interest to me:

[14:28:04.0000] <tusho>
    <meta http-equiv='X-UA-Compatible' content='IE=5'>

[14:29:00.0000] <tusho>
(i hope it can emulate that far back ;))

[14:29:01.0000] <gsnedders>
tusho: that just enters quirks mode

[14:29:02.0000] <tusho>
aw

[14:29:03.0000] <tusho>
i want full ie 5 emulation

[14:29:04.0000] <tusho>
can I have my money back, microsoft?

[14:29:05.0000] <jcranmer>
content='IE=1'>

[14:29:06.0000] <tusho>
jcranmer: see, that's not as fun

[14:29:07.0000] <tusho>
IE 1 would probably just ignore my css

[14:29:08.0000] <gsnedders>
IE 5.5, IE7 and IE8 are supported

[14:29:09.0000] <jcranmer>
or IE=40

[14:29:10.0000] <tusho>
but ie 5 is just clever enough to really break my page

[14:29:11.0000] <tusho>
ah, 5.5 is close enough

[14:29:12.0000] <gsnedders>
(IE5.5 is what quirks mode has been ever since)

[14:30:00.0000] <tusho>
oh, really?

[14:30:01.0000] <tusho>
crazy

[14:30:02.0000] <gsnedders>
But AFAIK it's just supported as switches within the IE7 engine

[14:33:00.0000] <gsnedders>
jcranmer: they're claiming support for IE8 final of display:run-in

[14:34:00.0000] <gsnedders>
(but that comes just as part of the full CSS 2.1 support inevitably)

[14:34:01.0000] <gsnedders>
it seems IE8b1 doesn't, though

[14:34:02.0000] <jcranmer>
I guess FF needs to get its run-in going, then

[14:36:00.0000] <gsnedders>
IE8 should be pretty close to getting the print styles of my blog right, too

[14:36:01.0000] <gsnedders>
(you need some CSS3 support to get it fully right)

[14:37:00.0000] <tusho>
i think everyone should base their designs on Acid3

[14:37:01.0000] <tusho>
;)

[14:41:00.0000] <gsnedders>
You need CSS 2.1 + CSS 3's Generated Content for Paged Media and Paged Media modules for the print version of my blog :P

[14:54:00.0000] <tusho>
Wow. Link? :P

[14:55:00.0000] <tusho>
/me is aiming for trivial markup, trivial design with his blog

[14:55:01.0000] <tusho>
so it doesn't really need much

[14:57:00.0000] <gsnedders>
tusho: http://gsnedders.com/

[14:57:01.0000] <gsnedders>
tusho: It's not conforming HTML 5, I know

[14:57:02.0000] <tusho>
<html lang="en-gb-x-sneddy">

[14:57:03.0000] <tusho>
someone took a leaf out of hixie's book :-P

[14:58:00.0000] <gsnedders>
tusho: Oh, never :P

[14:58:01.0000] <gsnedders>
/me is yet to write a spec for it though

[14:58:02.0000] <tusho>
/me considers en-gb-x-sdjfklsfjdoijafoidjfkoiakjfoiajfoiawjoaiewudrcioarucawoxpkaiosafjaidfjdslfk

[14:58:03.0000] <gsnedders>
tusho: that's non-conforming

[14:58:04.0000] <gsnedders>
tusho: each subtag has a max. length of eight characters

[14:58:05.0000] <tusho>
Stop shattering my hopes and dreams.

[14:59:00.0000] <gsnedders>
(I'd be using en-gb-x-gsnedders if I could)

[14:59:01.0000] <tusho>
gsnedders: That's what you get for not having an IRC-friendly nickname! Sucks to be you. ;)

[15:00:00.0000] <gsnedders>
tusho: How's it not IRC-friendly!?

[15:00:01.0000] <tusho>
IRC nicknames are 7 or less characters. :-P

[15:00:02.0000] <hsivonen>
/me is happy to have a 7-letter surname

[15:00:03.0000] <tusho>
I have a three letter surname, but I don't like it. :p

[15:00:04.0000] <sneddy>
tusho: Fine.

[15:01:00.0000] <tusho>
sneddy: Now you get extra unicorns in your daily servings.

[15:02:00.0000] <sneddy>
I so have to write a blog post in response to the fact that someone found my blog searching for "claiming a love"

[15:02:01.0000] <Lachy>
tusho, in which clients are IRC nicknames limited to 7 characters?

[15:02:02.0000] <tusho>
Lachy: It's just common convention.

[15:02:03.0000] <tusho>
I mean, not as a hard limit, but what I'd class as an "IRC nickname"

[15:04:00.0000] <tusho>
/me wonders if his blog needs a little more debris than "Here are the latest entries in my blog. If you like, you can see a list of older ones too." and "Licensed under CC by-sa."

[15:05:00.0000] <sneddy>
(fwiw, I started to write a blog post about last May)

[15:06:00.0000] <tusho>
sneddy: your url design is mine!

[15:06:01.0000] <tusho>
(/slug and nothing more)

[15:06:02.0000] <tusho>
well

[15:06:03.0000] <tusho>
technically I have some extra stuff

[15:06:04.0000] <tusho>
though most of that is redirects so I can be pedantic

[15:06:05.0000] <sneddy>
tusho: Habari has no easy way to change it :P

[15:06:06.0000] <tusho>
e.g. /slug/comments redirects to /slug#comments

[15:07:00.0000] <tusho>
so that the comment form can PUT to /slug/comments

[15:07:01.0000] <tusho>
and /slug/comments/N redirects to /slug#comment-N

[15:07:02.0000] <tusho>
so that my baleet button can DELETE to /slug/comments/N

[15:07:03.0000] <tusho>
oh, and I won't be able to use "login" or "post" as a slug

[15:07:04.0000] <tusho>
that's about it I think

[15:08:00.0000] <tusho>
oh, and /slug/edit shows my edit form

[15:08:01.0000] <gsnedders>
/atom, /tag, /user, and /admin are forbidden off the top of my head

[15:09:00.0000] <tusho>
ah, my atom will be /index.html or /index.atom

[15:09:01.0000] <tusho>
or, you know, /

[15:09:02.0000] <tusho>
content negotiation ;)

[15:09:03.0000] <tusho>
oh, /archives

[15:09:04.0000] <tusho>
that's it

[15:09:05.0000] <tusho>
(i don't have tags or anything because they don't really bother me)

[15:09:06.0000] <tusho>
*/archive actually

[15:09:07.0000] <tusho>
and /archive is just a semi-pretty list of every post ever

[15:10:00.0000] <tusho>
simplistic :p

[15:11:00.0000] <tusho>
oh, and on a markupy note, universal edit button is so broken

[15:11:01.0000] <tusho>
rel="alternate" type="application/x-wiki"?

[15:12:00.0000] <tusho>
an edit page is not in any way an alternate version of a document and it won't give you back an application/x-wiki page either...

[15:12:01.0000] <tusho>
they could have, you know, just done rel="edit"

[15:14:00.0000] <gsnedders>
Anyone want to bully me into going to a specific uni?

[15:14:01.0000] <tusho>
No. :p

[16:02:00.0000] <gsnedders>
Philip`, jgraham: You want to meet up next Monday (20080707), or not?

[16:07:00.0000] <tusho>
Hmm.

[16:07:01.0000] <tusho>
Why can't I style 'article' in Firefox3, I wonder...

[16:07:02.0000] <tusho>
It seems to just ignore my styles.

[16:07:03.0000] <tusho>
Ah.

[16:07:04.0000] <tusho>
I need to specify display: block

[16:16:00.0000] <mikedoty>
Hey!  Someone here might be able to help me!  I'm playing with the Canvas tag.  I do a toDataURL and save that to a variable.  Then I try to use that variable as the first parameter for drawImage.  It somehow errors, and all subsquent calls to toDataURL fail.  Is this a known issue by any chance?  I'm using Opera 9.27

[16:18:00.0000] <othermaciej>
mikedoty: you can't just use a data URL as a parameter to drawImage

[16:18:01.0000] <othermaciej>
mikedoty: you would have to make it the src of an img element and draw that

[16:18:02.0000] <mikedoty>
Hm, I do x = new Image(); x.src = toDataURL() then use x

[16:18:03.0000] <mikedoty>
That's what I meant, sorry

[16:19:00.0000] <othermaciej>
mikedoty: but it might be a better choice to use getImageData / putImageData

[16:19:01.0000] <mikedoty>
It is like here http://www.psyguygames.com/paint.html

[16:19:02.0000] <othermaciej>
if you just want to reuse the image content across the same session

[16:19:03.0000] <mikedoty>
Ok, I'll reexamine those

[16:19:04.0000] <othermaciej>
toDataURL is mainly useful for when you want to save it for a later page load

[16:20:00.0000] <mikedoty>
I think Opera doesn't support get/put though :(

[16:20:01.0000] <mikedoty>
This would not be a big deal but I had hoped to have it working in the Wii browser

[16:26:00.0000] <othermaciej>
I'm pretty sure they do

[16:26:01.0000] <othermaciej>
at least in the newest Opera

[16:30:00.0000] <mikedoty>
Yeah, I think it says 9.50 does, but the Wii's version is a bit older and I fear it probably doesn't.  I could take a look though.

[16:31:00.0000] <mikedoty>
I think I might be able to skate by with reloading the page when I need to prepare new images (an uncommon occurence).  It is hackish but shouldn't be too unsightly

[16:31:01.0000] <othermaciej>
I think it was added at the same time as toDataURL

[16:47:00.0000] <Philip`>
mikedoty: That's a security-related bug - if you draw an image from a remote location onto a canvas, then that prevents you later calling toDataURL/getImageData on the canvas (because then your script could access the image's data, which is bad since the image contain be something secret)

[16:48:00.0000] <Philip`>
mikedoty: but most implementations did/do consider images created from data: URLs to count as 'from a remote location' (or at least not from somewhere they know is safe)

[16:49:00.0000] <Philip`>
mikedoty: which is a bug since in most cases they should consider data: images to be safe

[16:50:00.0000] <mikedoty>
Ok, although I'm super disappointed in that, I understand the reasoning and thank you for bringing some light on what was a very dark situation :)

[16:51:00.0000] <Philip`>
There is a way to work around that security feature in some versions of Opera, but that workaround is a security vulnerability so maybe they've fixed it on the Wii

[16:52:00.0000] <mikedoty>
Well, what I'm doing is prerendering levels into images, which I just need to do at the start of a level... I think I can get away with reloading the page to start a new level probably

[16:52:01.0000] <Philip`>
http://www.opera.com/support/search/view/883/ only says it's fixed in 9.5, though

[16:55:00.0000] <Philip`>
(Draw unsafe stuff on a canvas; call ctx.createPattern(canvas, ...) on that canvas; create a new canvas and set ctx2.fillStyle = pattern and draw stuff, and it won't realise the new canvas is unsafe)

[16:57:00.0000] <Philip`>
(But if there's a 9.28 then it'll probably be fixed in there)

[16:57:01.0000] <Philip`>
(where "fixed" means it'll stop working and break any attempts to utilise that hack for noble purposes)


2008-06-29
[18:48:00.0000] <Philip`>
gsnedders: Oops, forgot to reply

[18:48:01.0000] <Philip`>
gsnedders: That sounds quite a reasonable idea to me :-)

[18:49:00.0000] <Philip`>
(I'm not really doing anything useful any time that day)

[19:15:00.0000] <gsnedders>
Philip`: I'm gonna be off in Ely for most of that day :P

[19:15:01.0000] <gsnedders>
brb

[01:30:00.0000] <hsivonen>
http://www.w3.org/QA/2008/06/war-of-the-worlds.html#c151388

[01:31:00.0000] <hsivonen>
I was unaware of being quoted on the microformats wiki

[03:22:00.0000] <jgraham>
gsnedders: AFAIK I can do Monday. Did you say a time?

[15:08:00.0000] <jgraham>
Lachy: Discission of Wall-E should be prohibited until I have seen it :)

[15:09:00.0000] <jgraham>
gsnedders: OK

[15:17:00.0000] <Hixie>
Lachy: yes, very good

[15:18:00.0000] <gsnedders>
Suggestions for basic project that could be done in a week or two to learn Haskell/functional programming?

[15:20:00.0000] <jgraham>
gsnedders: Implement a html5 URL parsing library? It maybe isn't a natural match but it wouls at least be useful

[15:20:01.0000] <jgraham>
s/wouls/would/

[15:21:00.0000] <Philip`>
Who would find a URL parsing library implemented in Haskell to be useful? :-)

[15:21:01.0000] <jgraham>
Philip`: Other people who use Haskell, I guess

[15:23:00.0000] <jgraham>
You could build up to it in stages. First get your head around IO by doing a "hixie movie rater" which would simply return "excellent" if the input matched the name of a Pixar movie and "unknown" otherwise

[15:23:01.0000] <Philip`>
It might be better to do something that involves more interesting data structures than strings, since you might as well just use Perl if you're dealing with strings

[15:24:00.0000] <jgraham>
The problem is that there are lots of useful practical problems that involve strings

[15:25:00.0000] <Philip`>
Implementing any algorithm from the HTML5 spec might not be the best idea, since they're all written very imperatively and you have to reverse-engineer them before writing a functional solution

[15:25:01.0000] <jgraham>
I mean, I guess gsnedders could implement a graph traversing algorithm or something in Haskell but it's not like its an intrinsically useful problem 

[15:25:02.0000] <Philip`>
jgraham: There are also lots that don't, and those are the ones that functional languages seem more suited to

[15:26:00.0000] <Philip`>
like writing compilers, perhaps

[15:26:01.0000] <jgraham>
Philip`: They tend to be more theoretical, less accessible problems

[15:26:02.0000] <jgraham>
or rather more theory heavy

[15:26:03.0000] <Philip`>
Haskell is a more theoretical, less accessible language, so that's a perfect match :-)

[15:27:00.0000] <jgraham>
gsnedders: You could always just start using XMonad as your window manager (it works on OSX) and then the config file is Haskell code

[15:37:00.0000] <roc>
you could write Haskell-to-JS compiler in Haskell and self-host it to get Haskell in the browser

[15:41:00.0000] <jgraham>
/me will be seriously impressed if gsnedders manages that

[15:44:00.0000] <Philip`>
Or just write a (subset-of-)JS parser and interpreter, as the first stage towards writing an entire web browser in Haskell

[15:45:00.0000] <gsnedders>
/me would be seriously impressed if he managed that

[15:46:00.0000] <gsnedders>
(which kinda means I'm not going to try when I haven't even done any functional programming before)

[15:47:00.0000] <gsnedders>
I think the main thing will be getting my head around functional programming

[15:50:00.0000] <Philip`>
It's probably better to find a decent tutorial/book/etc and follow the examples in there, since it'll be sensible things like "implement a 'map' function" or "construct an infinite Fibonacci sequence" instead of "implement a Haskell compiler" :-)

[15:50:01.0000] <gsnedders>
:)

[15:51:00.0000] <gsnedders>
But those sensible things are almost always boring, so I give up quite quickly :P

[15:51:01.0000] <jgraham>
It will be factorials. Always with the bloody factorials

[15:52:00.0000] <Philip`>
let rec f = function 0 -> 1 | n -> n * f (n-1)

[15:52:01.0000] <Philip`>
That doesn't take long, and then you can move onto something more exciting :-)

[15:54:00.0000] <Philip`>
/me discovers the "import __hello__" feature in Python

[15:55:00.0000] <gsnedders>
I should just try and use functional programming to generate the answers to the maths I'm currently doing at school

[15:55:01.0000] <gsnedders>
Seeming that means I have to understand the maths to decently implement it :P

[16:02:00.0000] <Philip`>
let tt n = String.concat "; " (let rec f = function 0 -> [] | m -> (string_of_int n ^ " x " ^ string_of_int m ^ " = " ^ string_of_int (n*m)) :: (f (m-1)) in List.rev (f n))

[16:02:01.0000] <Philip`>
gsnedders: That should help with your maths homework

[16:02:02.0000] <gsnedders>
Philip`: What does that do?

[16:03:00.0000] <Philip`>
It'd be cheating if I just told you :-p

[16:03:01.0000] <gsnedders>
/me slaps Philip` 

[16:04:00.0000] <Hixie>
HTTP says taht leading zeros must be ignored in the HTTP/1.1 version thing

[16:04:01.0000] <gsnedders>
Philip`: <interactive>:1:54: parse error on input `->'

[16:04:02.0000] <Philip`>
gsnedders: Wrong language, probably

[16:05:00.0000] <Philip`>
(I'm using OCaml)

[16:05:01.0000] <Hixie>
i wonder how many implementations handle HTTP/01.01 correctly

[16:05:02.0000] <gsnedders>
Hixie: everything.

[16:05:03.0000] <Hixie>
gsnedders: and HTTP/01.02?

[16:05:04.0000] <gsnedders>
Hixie: That too

[16:05:05.0000] <gsnedders>
(HTTP/1.x is just treated as HTTP/1.1 by servers, HTTP/x.x is just treated as HTTP/1.1 by clients)

[16:06:00.0000] <gsnedders>
Philip`: I have no OCaml interpreter/compiler here

[16:06:01.0000] <jgraham>
/me considers creating an HTTP implementation that does it wrong to annoy gsnedders

[16:06:02.0000] <Hixie>
oh so they all just ignore it?

[16:06:03.0000] <gsnedders>
jgraham: You're breaking my spec!

[16:06:04.0000] <Philip`>
gsnedders: You just need to learn to read the code :-)

[16:07:00.0000] <gsnedders>
Hixie: Well, servers must parse it somewhat, and clients just check that there are numbers there

[16:07:01.0000] <gsnedders>
Hixie: a client would treat the response as HTTP/0.9 if it were "HTTP/a.b"

[16:07:02.0000] <gsnedders>
Hixie: (actually, some clients wouldn't, that behaviour is rather weird)

[16:07:03.0000] <Hixie>
gsnedders: so what's the difference between the versions, for implementations?

[16:08:00.0000] <gsnedders>
Hixie: Theoretically there's  a small number of differences, de-facto more or less nothing

[16:08:01.0000] <Hixie>
/me is doing a crash course in HTTP so he can make sure the WebSockets stuff is specced right

[16:08:02.0000] <gsnedders>
Hixie: (that's HTTP/1.0 and HTTP/1.1, HTTP/0.9 is totally different)

[16:08:03.0000] <jgraham>
Philip`: Does that print times tables or something?

[16:09:00.0000] <gsnedders>
Hixie: http://twitter.com/gsnedders/statuses/846440682 :)

[16:09:01.0000] <gsnedders>
annevk: You were asking what happened in GTA4 if you killed Dwanye, were you not? Want to know?

[16:10:00.0000] <gsnedders>
Hixie: I'll point out what you do wrong in the WebSockets stuff :P

[16:10:01.0000] <Hixie>
i hope so :-)

[16:10:02.0000] <annevk>
I'm sort of over GTA4

[16:11:00.0000] <annevk>
have been playing MGS4 this weekend with a friend

[16:11:01.0000] <annevk>
really nice

[16:11:02.0000] <gsnedders>
annevk: I just finished playing through the story for a second time: partly to get the achievement for completing it in under 30 hours, and also to make all the choices I didn't make before :P

[16:11:03.0000] <Hixie>
gsnedders: so what do clients and servers do different in 0.9 vs 1.0?

[16:11:04.0000] <gsnedders>
(I actually completed it in under 20 hours, too, slightly to my amazement)

[16:11:05.0000] <gsnedders>
Hixie: Everything :)

[16:11:06.0000] <Hixie>
gsnedders: elaborate? :-)

[16:12:00.0000] <gsnedders>
Hixie: HTTP/0.9 request: GET /index.html CR LF

[16:12:01.0000] <Hixie>
i mean how do they react differently

[16:12:02.0000] <gsnedders>
Hixie: HTTP/0.9 response: US-ASCII HTML

[16:12:03.0000] <Hixie>
i know that the initial request is different :-)

[16:12:04.0000] <gsnedders>
Hixie: That's all there is to HTTP.

[16:13:00.0000] <gsnedders>
(0.9)

[16:13:01.0000] <gsnedders>
I haven't done that much reverse engineering of it though

[16:13:02.0000] <Hixie>
oh so if the request is HTTP/0.9, servers just omit the headers?

[16:13:03.0000] <annevk>
I guess that's why we got <plaintext>

[16:14:00.0000] <gsnedders>
Hixie: yeah, basically

[16:14:01.0000] <gsnedders>
Hixie: there's no such thing as headers :P

[16:14:02.0000] <Hixie>
ok so 0.9 is basically uninteresting

[16:14:03.0000] <Hixie>
ok

[16:14:04.0000] <gsnedders>
Yeah, 0.9 is simple.

[16:14:05.0000] <Hixie>
and everyone who supports 1.1 just treats everything as 1.1, regardless of the version information?

[16:14:06.0000] <gsnedders>
pretty much, I think

[16:14:07.0000] <Hixie>
well

[16:15:00.0000] <Hixie>
i'm sure glad that http has versioning then

[16:15:01.0000] <Hixie>
</sarcasm>

[16:15:02.0000] <gsnedders>
it seems that servers do ignore the requirement that HTTP/0.9 responses are US-ASCII HTML, and they do just send no headers

[16:16:00.0000] <gsnedders>
http://www.w3.org/Protocols/HTTP/AsImplemented.html — the closest thing to an HTTP/0.9 spec

[16:18:00.0000] <annevk>
In other news, both my parents use Ubuntu now

[16:18:01.0000] <annevk>
driver for wireless was a major pita

[16:20:00.0000] <Lachy>
My interview on boagworld will finally be released in this wednesday's show

[16:20:01.0000] <gsnedders>
Anyhow, let me go sleep

[16:21:00.0000] <Hixie>
nn

[16:21:01.0000] <Hixie>
Lachy: cool

[16:21:02.0000] <Hixie>
Lachy: i've been listening to the boagworld show but apart from the WCAG2 episode their audio is so bad that i can't actually listen for more than about 2 minutes at a time

[16:21:03.0000] <Lachy>
I didn't listen to the WCAG 2 one yet

[16:23:00.0000] <Hixie>
it's not very exciting, but it does have actually listenable audio

[16:25:00.0000] <Hixie>
woah, you can send headers after the content if you use the chunked encoding?!

[16:25:01.0000] <Lachy>
hopefully mine won't be too bad. But I can't listen to my own voice, I think I sound terrible :-)

[16:26:00.0000] <annevk>
we need some proper microphones for standardssuck.org too it seems, Hixie is not the only one complaining :)

[16:27:00.0000] <Hixie>
the funny thing with the standardssuck podcasts is that because you just have the one camera, if you watch the person not talking, they're just fidgeting the whole time :-)

[16:27:01.0000] <Hixie>
you really want to have a camera per person and then a wider angle for the establishing shot

[16:27:02.0000] <Hixie>
:-)

[16:28:00.0000] <annevk>
yeah, or some nice editing software that lets you zoom in on the talking person

[16:28:01.0000] <Lachy>
donations for purchasing HD cameras and sound equipment would be very welcome

[16:28:02.0000] <Lachy>
annevk, I have final cut studio now

[16:28:03.0000] <Lachy>
I think marcos is getting a copy of it too

[16:29:00.0000] <annevk>
cool

[16:30:00.0000] <Lachy>
I'm also getting Final Cut Express, which is a simpler version aimed at consumers rather than professionals, but is slightly more advanced than iMovie

[16:33:00.0000] <annevk>
reading http://diveintomark.org/archives/2008/06/29/microformats-accessibility I wonder if it's just about microformats

[16:50:00.0000] <Hixie>
so sweet to see people think that it is shocking that a spec can't compel browser vendors to do what we want them to do

[16:50:01.0000] <Hixie>
http://www.internetschoon.nl/viewSingleItem/3117

[16:59:00.0000] <Dashiva>
Hixie: That one _almost_ realized the group was founded by the very implementors he decries


2008-06-30
[17:00:00.0000] <Hixie>
heh

[17:00:01.0000] <annevk>
/me booked a hotel for tomorrow...

[17:00:02.0000] <annevk>
/me arrives in Seattle at 2PM

[17:00:03.0000] <Dashiva>
"Basically all the heavy lifting for HTML5 had already been done by the WHAT-WG, which wasn\'t bound by vendors as much."

[17:00:04.0000] <Hixie>
tomorrow?

[17:00:05.0000] <Hixie>
oh, right

[17:00:06.0000] <Hixie>
Dashiva: missed that

[17:01:00.0000] <annevk>
I'm staying at HomeStead which should be pretty close to Microsoft and was the cheapest I could fine (145 USD...)

[17:02:00.0000] <annevk>
and now I'm checked in too

[17:02:01.0000] <Hixie>
i arrive on tuesday around noon

[17:03:00.0000] <annevk>
k

[17:06:00.0000] <Hixie>
http is so much more complicated than necessary

[17:06:01.0000] <tantek>
Hixie - 1.0 or 1.1?

[17:06:02.0000] <Hixie>
1.1

[17:06:03.0000] <Hixie>
comments in header fields

[17:06:04.0000] <Hixie>
q-values in the TE: header

[17:07:00.0000] <Hixie>
i mean sheesh

[17:08:00.0000] <Dashiva>
Sensible specs would take all the fun out of implementing them

[17:09:00.0000] <Hixie>
also, the way the spec is organised is a mess

[17:09:01.0000] <Hixie>
it really should split request and response headers into two sections

[17:10:00.0000] <annevk>
they're splitting the spec up in seven specs it seems with httpbis

[17:10:01.0000] <Hixie>
and far too many thigns are SHOULDs that should be MUSTs

[17:10:02.0000] <Hixie>
really?

[17:10:03.0000] <Hixie>
seven?

[17:10:04.0000] <Hixie>
that'll be exciting

[17:10:05.0000] <annevk>
http://lists.w3.org/Archives/Public/ietf-http-wg/2008AprJun/0595.html

[17:10:06.0000] <annevk>
for instance

[17:12:00.0000] <annevk>
it seems rather confusing to me, but this is what it seems they're doing

[17:15:00.0000] <Hixie>
actually that organisation does make sense

[17:16:00.0000] <annevk>
oh yeah, i'd imagine it makes sense, as one the authors of HTTP made it up, it's just confusing to have to browse through all those separate documents rather than just one

[17:17:00.0000] <Hixie>
i need to make little stickers that say "Warning: 110" and stick them on food that i throw away

[17:17:01.0000] <Hixie>
or maybe stick it on bread that i give back to waiters at restaurants when the bread is stale

[17:19:00.0000] <Philip`>
Hixie: Do you have many HTTP experts eating your trash?

[17:19:01.0000] <Hixie>
i live in the bay area, so quite possibly

[17:25:00.0000] <Hixie>
section 4.4 of http 1.1 says, in part:

[17:25:01.0000] <Hixie>
"This media type UST NOT be used unless the sender knows that the recipient can arse it"

[19:52:00.0000] <Hixie>
man i wish the http rfc didn't keep talking about what servers did wrong

[19:52:01.0000] <Hixie>
it's quite distracting

[19:54:00.0000] <Hixie>
as far as i can tell, an HTTP server that just immediately closes the connection before reading a single byte from the client is "conditionally conforming"

[20:04:00.0000] <bradee-oh>
lol

[22:52:00.0000] <Hixie>
another example of the silly overcomplexness of http:

[22:52:01.0000] <Hixie>
   Comparison of expectation values is case-insensitive for unquoted

[22:52:02.0000] <Hixie>
   tokens (including the 100-continue token), and is case-sensitive for

[22:52:03.0000] <Hixie>
   quoted-string expectation-extensions.

[23:10:00.0000] <gsnedders>
Hixie: yeah, it's fun :)

[23:44:00.0000] <philipj>
by default simple events in HTML 5 are cancelable, but does anybody have an idea about what canceli

[23:44:01.0000] <philipj>
cancelling an event like timeupdate (HTMLMediaElement) might mean?

[23:46:00.0000] <philipj>
would cancelling a volumechange event mean setting the volume back to the old value?

[23:52:00.0000] <Hixie>
philipj: canceling an event that has no default action has no effect

[00:00:00.0000] <philipj>
ok, so that they are cancelable is not practically relevant, still I assume that they should be made cancelable to comply with the spec

[00:02:00.0000] <hsivonen>
the Web in violation of Web Architecture again, film at 11

[00:02:01.0000] <Hixie>
hsivonen: haha

[00:03:00.0000] <Hixie>
philipj: yeah. at some point the spec may be made more sensible about what's cancelable and what isn't

[00:03:01.0000] <gsnedders>
How can the web be in breach with its own arch.? Oh, wait, this is what happens if you try and spec an overall arch.

[00:04:00.0000] <hsivonen>
gsnedders: I don't think it is a necessary consequence of trying to spec it

[00:04:01.0000] <gsnedders>
hsivonen: It contradicts itself too much I think to be spec'd, then whenever you try and spec anything more you'll just find more contradictions

[00:04:02.0000] <Hixie>
the web doesn't have a coherent architecture

[00:04:03.0000] <Hixie>
anyone who's tried working on a web browser can see that

[00:05:00.0000] <gsnedders>
I haven't, but I can see that :P

[00:05:01.0000] <Hixie>
it is best to just swallow that and move on, imho :-)

[00:05:02.0000] <Hixie>
man can you imagine if the html5 spec was full of paragraphs like:

[00:05:03.0000] <Hixie>
   Many older HTTP/1.0 and HTTP/1.1 applications do not understand the

[00:05:04.0000] <Hixie>
   Expect header.

[00:06:00.0000] <gsnedders>
"Um, so?"

[00:06:01.0000] <Hixie>
(given that this spec is nearly 10 years old, these paragraphs are really getting annoying)

[00:06:02.0000] <gsnedders>
There seem to be a few servers that still send HTTP/0.9 responses to any request

[00:07:00.0000] <gsnedders>
Which is kinda odd

[00:07:01.0000] <gsnedders>
XHR is bizarre in that case

[00:07:02.0000] <philipj>
speaking of web legacy, does anybody know where the default 300x150 box for misc elements comes from? was that the size it happened to be in old netscape or something?

[00:08:00.0000] <hsivonen>
gsnedders: what servers send 0.9 responses?

[00:08:01.0000] <hsivonen>
gsnedders: are those servers full of security holes, too

[00:08:02.0000] <gsnedders>
hsivonen: I dunno. Philip` gave a list of pages that did.

[00:08:03.0000] <hsivonen>
/me wonders who profides security updates for the Netscape Enterprise Server

[00:09:00.0000] <gsnedders>
hsivonen: http://krijnhoetmer.nl/irc-logs/whatwg/20080606#l-818

[00:09:01.0000] <Hixie>
philipj: yeah, i think netscape used that for iframes or ilayers or something, and that's where it comes from

[00:09:02.0000] <hsivonen>
a friend of mine inhereted the admin duties of a site that has been in existence for quite a while, and some of the content had <plaintext> in the file system assuming 0.9 serving

[00:09:03.0000] <gsnedders>
hsivonen: Oddly enough using cURL I don't get that

[00:09:04.0000] <hsivonen>
but the server software had long since been updated

[00:10:00.0000] <gsnedders>
http://www.guadeloupe-fr.com/ doesn't work at all in cURL

[00:11:00.0000] <hsivonen>
gsnedders: interesting

[00:11:01.0000] <hsivonen>
gsnedders: I wonder if these server really date from the 0.9 era

[00:11:02.0000] <gsnedders>
the rest seem to be Apache/1.3 with mod_layout

[00:11:03.0000] <gsnedders>
And work in cURL, yet not in the HTTP client in Java Philip` used

[00:11:04.0000] <hsivonen>
gsnedders: or if there's just an incompetently written script copying stuff to stdout that goes straight to a socket

[00:12:00.0000] <hsivonen>
/me hasn't encountered mod_layout

[00:12:01.0000] <gsnedders>
/me opens up telnet

[00:12:02.0000] <hsivonen>
gsnedders: www.guadeloupe-fr.com doesn't work with telnet for me

[00:12:03.0000] <gsnedders>
Nor me

[00:13:00.0000] <gsnedders>
How bizarre.

[00:13:01.0000] <gsnedders>
Works fine in Safari

[00:13:02.0000] <hsivonen>
gsnedders: the drmarin.galeon.com server is not a 0.9 server

[00:13:03.0000] <gsnedders>
yeah, the rest aren't

[00:13:04.0000] <hsivonen>
gsnedders: I sent a request with a bogus Host header, and I didn't get the same content back

[00:14:00.0000] <hsivonen>
gsnedders: so the request dispatcher is virtual host-aware

[00:14:01.0000] <hsivonen>
it's just the output part that sucks

[00:14:02.0000] <gsnedders>
and that's HTTP/1.1

[00:14:03.0000] <gsnedders>
The rest are sucky output

[00:14:04.0000] <gsnedders>
But it shows that support is still needed (yay)

[00:43:00.0000] <gsnedders>
Hixie: How are we meant to get the computer to breath for the sarcasm end tag?

[00:52:00.0000] <hsivonen>
gsnedders: it's not black box testable

[01:06:00.0000] <othermaciej>
Hixie: HTML URL does have an amusing acronym

[01:06:01.0000] <othermaciej>
given the details, calling it a HURL might not be so bad

[01:26:00.0000] <gDashiva>
At one point I tried to backronym ORLI but I never got anything good

[02:21:00.0000] <Hixie>
so this idea of mcarter's is great but the cookie idea is only going to fly if the same port is used and if we ignore the scheme change

[02:21:01.0000] <Hixie>
and the authorisation thing isn't going to work unless we massively complicate the handshake to also include a 401 step

[02:24:00.0000] <othermaciej>
naturally, it has to be same-port (barring a mechanism like access-control)

[02:45:00.0000] <Hixie>
http://www.w3.org/mid/g4a63l$tkg$1⊙ggo

[02:45:01.0000] <Hixie>
some people are surprisingly rude on mailing lists

[02:45:02.0000] <Hixie>
(probably including me)

[02:59:00.0000] <Windstoss>
I have a question concerning sessionStorage and localStorage… it is said, that a storage event is fired whenever data is changed to all HTMLDocuments that can access the data. How can a sessionStorage have multiple instances that affect each other? Whenever a new window is opened, the session storage area is copied but will no longer affect the original.

[03:00:00.0000] <Hixie>
Windstoss: generally, it can't

[03:00:01.0000] <Hixie>
Windstoss: hoever

[03:00:02.0000] <Hixie>
Windstoss: say you were on page A in a window

[03:00:03.0000] <Hixie>
Windstoss: and you go to page B at the same domain in the same window, and the browser keeps page A around, just in case you go back

[03:00:04.0000] <Hixie>
Windstoss: now when you hit back, the page A is shown back on the screen without being reloaded

[03:01:00.0000] <Hixie>
Windstoss: so now, if you changed anything in the sessionStorage while B was showing, the event will be fired on A when you return to it

[03:02:00.0000] <Hixie>
/me wonders if any browsers implement RFC2817

[03:03:00.0000] <Windstoss>
Hixie: I see, thanks!

[03:03:01.0000] <Hixie>
np

[03:03:02.0000] <Windstoss>
Hixie: Maybe a note would help to clear this up?

[03:04:00.0000] <Hixie>
eventually there'll be a whole introduction section for the storage apis

[03:04:01.0000] <Hixie>
actually i guess there already is. but it will probably be longer.

[03:05:00.0000] <Windstoss>
One more question: when an HTMLDocument is affected, but not active yet, are those events kind of held back until the HTMLDocument is active?

[03:14:00.0000] <Hixie>
yeah

[03:14:01.0000] <Hixie>
it should say that somewhere

[03:14:02.0000] <Hixie>
can't see where right now

[03:14:03.0000] <Hixie>
but it's there somewhere, unless i removed it accidentally at some point

[03:18:00.0000] <Hixie>
so what HTTP method should we pretend to use for web sockets

[03:18:01.0000] <Hixie>
GET?

[03:22:00.0000] <hsivonen>
SOCKET?

[03:22:01.0000] <hsivonen>
/me has no idea what he is talking about

[03:22:02.0000] <Hixie>
heh

[03:25:00.0000] <hsivonen>
ooh. the WHATWG blog dashboard has a new appearance

[03:25:01.0000] <hsivonen>
"there are 107 comments in your spam queue right now"

[03:27:00.0000] <hsivonen>
all real spam

[03:27:01.0000] <hsivonen>
deleted

[03:30:00.0000] <jgraham>
/me deleted the 7 articles apparently advertising holidays in Spain

[03:30:01.0000] <hsivonen>
jgraham: I though I just deleted them

[03:30:02.0000] <hsivonen>
thought

[03:31:00.0000] <jgraham>
hsivonen: Maybe we both did :)

[03:34:00.0000] <Lachy>
did you delete the offending users as well?

[03:36:00.0000] <hsivonen>
Lachy: in the article case, yes. In the comment cases, no.

[03:47:00.0000] <Hixie>
notes on web sockets: http://www.whatwg.org/specs/web-apps/current-work/notes

[03:47:01.0000] <Hixie>
mcarter: see ^

[03:48:00.0000] <Hixie>
i used GET instead of OPTIONS, to surprise unsuspecting servers less

[03:51:00.0000] <Hixie>
the cookies and authentication headers are going to be difficult to use in practice unless the same port is used (i'll throw in some stuff to make them be sent even though the scheme differs)

[03:52:00.0000] <Hixie>
i intend to drop the rfc 2817 ideas, since regular TLS is good enough i think

[03:52:01.0000] <Hixie>
and nobody seems to do 2817 anyway

[03:52:02.0000] <Hixie>
i want to have the server echo the origin and the socket uri as part of the handshake

[03:53:00.0000] <Hixie>
to (a) check for cross-site access being ok and (b) check that the host header is correctly interpreted

[03:53:01.0000] <Hixie>
(if the server just echoes them without checking them, then too bad)

[03:54:00.0000] <Hixie>
anyway, if anyone has comments, drop them here, i'll read them in the morning

[03:54:01.0000] <Hixie>
bed time now

[05:12:00.0000] <takkaria>
half the problem with the old guard is that they seem to believe that defining error recovery for something is tantamount to defining a new standard

[05:14:00.0000] <Lachy>
takkaria, in many cases, it is defining a new standard :-)

[05:14:01.0000] <hsivonen>
undefined error handling is where vendor lock-in is

[05:15:00.0000] <takkaria>
Lachy: yes, but in that case all implementations also define a new standard

[05:16:00.0000] <hsivonen>
aside: it seems that Gecko and WebKit run scripts differently when it comes to dynamic DOM insertions

[05:16:01.0000] <hsivonen>
the code I announced on the blog has the right nested document.write semantics in WebKit, but apparently not in Gecko

[05:19:00.0000] <gDashiva>
takkaria: Also, defining error recovery is encouraging errors

[05:19:01.0000] <takkaria>
gDashiva: yes, that's the one

[05:19:02.0000] <takkaria>
because if you don't define it, then no-one's interoperable, so no-one will come to rely on any errorr-handling behaviour because it varies so wildly

[05:26:00.0000] <hsivonen>
takkaria: cunning plan :-)

[05:27:00.0000] <takkaria>
I suspect it might actually work somewhat if the marketplace was more varied

[05:27:01.0000] <Lachy>
takkaria, that sounds surprisingly like the mentality of some other working groups I know

[05:28:00.0000] <takkaria>
e.g. if, say, no one vendor had more than 10% market share

[05:29:00.0000] <Lachy>
(I'm pretty sure there's a few mails on www-html or www-html-editor from an XHTML2WG members saying roughly the same thing.)

[05:34:00.0000] <takkaria>
I guess the mentality is a left-over from physical engineering standards

[05:35:00.0000] <takkaria>
there's not really any such thing as specified error recovery from getting the wrong track width for railways or different-sized screwheads

[05:39:00.0000] <Lachy>
takkaria, but there does need to be error recovery when some idiot uses the wrong size screw for the job, even if the screw itself was really good quality.

[05:40:00.0000] <takkaria>
yeah, but the error recovery is specified by the laws of material science and those laws are fairly unchangeable. :)

[05:41:00.0000] <takkaria>
as least AIUI

[06:17:00.0000] <roc>
error handling would still be a problem even if no vendor had more than 10% market share

[06:17:01.0000] <roc>
because you can be sure that *some* error situations would be handled the same way by the majority of engines, just by luck

[06:18:00.0000] <roc>
so they would become the de facto standard

[06:18:01.0000] <roc>
and so it goes

[09:11:00.0000] <hdh>
hsivonen: I host a V.nu at home; the --stylesheet argument's first letter is cut off, it becomes '<link href="ttp://hdh.dyn-o-saur.com/style/v.nu.css" rel="stylesheet">'

[09:19:00.0000] <hdh>
line 596 should have been      stylesheet = arg[13:]

[13:14:00.0000] <hsivonen>
hdh: fixed thanks. (the numbers for stylesheet and microsyntaxes were reversed)

[13:46:00.0000] <Hixie>
mcarter: yt?

[14:03:00.0000] <hsivonen>
http://tech.slashdot.org/tech/08/06/30/1845201.shtml

[14:04:00.0000] <hsivonen>
/me wonders if commenters are up to speed about canvas and svg

[14:13:00.0000] <othermaciej>
2D vector graphics, we'll get right on that, sir

[14:16:00.0000] <othermaciej>
looks like openajax.org is down, too bad, I was curious what the list is

[14:16:01.0000] <Hixie>
the list isn't too bad, but it aligns pretty closely with what we've already got in the works, and things we know we should have in the works but don't have editors for

[14:16:02.0000] <Dashiva>
How about anti-slashdotting support in browsers? :)

[14:16:03.0000] <Hixie>
some good ideas, though

[14:16:04.0000] <Philip`>
http://google.com/search?q=cache:http://www.openajax.org/runtime/wiki/Feature_Requests_Summary_Page&strip=1

[14:16:05.0000] <Hixie>
i spend more time crafting the checkin comments than making the edits when i'm doing editorial work

[14:16:06.0000] <Hixie>
that's just silly

[14:18:00.0000] <Philip`>
http://azarask.in/blog/post/contextfreejs-algorithm-ink-making-art-with-javascript/ wants canvas getTransform()

[14:19:00.0000] <othermaciej>
a lot of the things they list are things that are already in browsers afaik

[14:19:01.0000] <othermaciej>
well, some of them anyway

[14:20:00.0000] <Philip`>
/me notices that DNS is already being widely abused to form words, disregarding the whole hierarchy idea, so it seems sensible to allow arbitrary words without forcing a weird dot in them

[14:51:00.0000] <csarven>
Hixie Would you be able to verify the accuracy of this: The purpose of the <object> element is to allow the browser to run an external application for a non-native data type (e.g., Java applet).

[14:51:01.0000] <hsivonen>
precise terminology and defined error handling isn't exactly what RSS 2.0 is known for

[14:52:00.0000] <csarven>
or hsivonen :)

[14:59:00.0000] <mcarter>
Hixie, whats up

[15:50:00.0000] <Hixie>
mcarter: http://krijnhoetmer.nl/irc-logs/whatwg/20080630#l-326

[15:56:00.0000] <Loughes>
Any Opera developers in here?  I have to say that I love the new browser.  I am finally looking forward to where the WWW may be going.

[16:13:00.0000] <mcarter>
Hixie, oh cool, you've gotten started on the WebSocket stuff

[16:13:01.0000] <Hixie>
indeed

[16:14:00.0000] <annevk>
weather is nice outside in Seattle

[16:14:01.0000] <Dashiva>
The talk on www-html about @style is... interesting

[16:14:02.0000] <annevk>
well, Redmond / Bellevue

[16:18:00.0000] <Philip`>
Dashiva: It's fortunate that @style got added back into HTML5 :-)

[16:19:00.0000] <Dashiva>
Philip`: What makes it even more odd is that they recently decided to let @target back into their new XHTML 1.1 SE thingie

[16:20:00.0000] <Hixie>
mcarter: any feedback on the quoted stuff? (sorry my site appears to be down, I'm working on getting it back up)

[16:21:00.0000] <jacobolus>
Hixie: whatwg.org seems to be down

[16:21:01.0000] <jacobolus>
Hixie: so it's hard to see what http://www.whatwg.org/specs/web-apps/current-work/notes actually says :)

[16:23:00.0000] <mcarter>
Hixie, i think I partially loaded that document, but then the server started hanging... after you get it working I'll give you some feedback

[16:23:01.0000] <Philip`>
http://pastebin.ca/1059505 is what http://www.whatwg.org/specs/web-apps/current-work/notes said this morning GMT

[16:24:00.0000] <Philip`>
(No idea if it's changed since then)

[16:25:00.0000] <Hixie>
that's the one

[16:25:01.0000] <Hixie>
no change from that

[16:25:02.0000] <Hixie>
jacobolus, mcarter: ^ :-)

[16:25:03.0000] <jacobolus>
yep. :)

[16:25:04.0000] <Hixie>
/me has narrowed it down to NFS hanging

[16:27:00.0000] <mcarter>
Hixie, this looks pretty good at a first glance -- let me get back to you this evening with mroe substantial feedback

[16:28:00.0000] <Hixie>
k

[16:28:01.0000] <mcarter>
Hixie, I'm not sure if it makes sense to require the headers to be in an exact order

[16:29:00.0000] <jacobolus>
Hixie, mcarter: this looks pretty good to me.  exciting!

[16:32:00.0000] <Hixie>
mcarter: the idea is to have a handshake that cannot be faked by tricking the server into sending back certain fields

[16:32:01.0000] <annevk>
hmm, are we going to introduce new URI schemes too?

[16:33:00.0000] <annevk>
fun

[16:33:01.0000] <Hixie>
annevk: it's a new protocol, so i guess yes

[16:33:02.0000] <Philip`>
URL schemes!

[16:36:00.0000] <annevk>
seems whatwg.org is up again

[16:36:01.0000] <Hixie>
indeed

[16:46:00.0000] <Hixie>
hsivonen: yt?

[16:47:00.0000] <Hixie>
hsivonen: in http://www.whatwg.org/specs/web-apps/current-work/#open there is an "act as if", but it's unclear what i should link to for that one. I mean, the token would cause all manner of things to happen (e.g. it implies <html>, <head>, <body>, quirks mode, and then finally gets treated as a <pre>)

[16:55:00.0000] <Hixie>
i wonder what i should hyperlink in these "act as if" cases

