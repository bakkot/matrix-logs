2010-07-01
[17:01:00.0000] <JonathanNeal>
I've seen a few sites suggest alt="" but I didn't trust it.

[17:01:01.0000] <TabAtkins>
No, the content next to it is the meaning of the image, not a description.

[17:02:00.0000] <TabAtkins>
(Assuming I'm imagining the same page you are.)

[17:02:01.0000] <MikeSmith>
JonathanNeal: not sure what you're asking but in general http://dev.w3.org/html5/alt-techniques/ has some guidance

[17:02:02.0000] <MikeSmith>
and the section on img in the spec

[17:03:00.0000] <JonathanNeal>
TabAtkins, thanks.  MikeSmith, I'll check it out, thanks.

[17:04:00.0000] <MikeSmith>
hober: Donald Knuth?

[17:04:01.0000] <MikeSmith>
has there been some news about him planning to announce something?

[17:05:00.0000] <JonathanNeal>
MikeSmith, ah very useful.

[17:06:00.0000] <MikeSmith>
JonathanNeal: thank Steve Faulkner for editing it :)

[17:06:01.0000] <JonathanNeal>
I refuse!

[17:07:00.0000] <JonathanNeal>
I kid!

[17:07:01.0000] <JonathanNeal>
Thank you Steve Faulkner, wherever you are.

[17:08:00.0000] <TabAtkins>
I make Julienne Fries!

[17:13:00.0000] <hober>
MikeSmith: yes: http://www-cs-faculty.stanford.edu/~uno/news.html#lectures

[17:13:01.0000] <hober>
he's to make "an earthshaking announcement" tonight

[17:25:00.0000] <zcorpan_>
http://www.facesaerch.com/banana.html

[17:31:00.0000] <JonathanNeal>
zcorpan_, ah, html5

[17:31:01.0000] <JonathanNeal>
aka css3

[17:34:00.0000] <Hixie>
hsivonen: the tier 1 implementations of WebSRT are highly likely to include software that aren't browsers

[17:34:01.0000] <Hixie>
hsivonen: e.g. quicktime, srt authoring software, youtube

[17:41:00.0000] <TabAtkins>
/me loves making tools that people use.

[17:43:00.0000] <paul_irish>
MikeSmith: ah that's what i thought! :) \o/

[17:56:00.0000] <MikeSmith>
hober: interesting -- thanks 

[19:55:00.0000] <MikeSmith>
anybody know what is #hohtml5 #VTM_WD

[19:55:01.0000] <MikeSmith>
ah, Voices That Matter

[19:56:00.0000] <MikeSmith>
http://www.voicesthatmatter.com/webdesign2010/

[19:57:00.0000] <MikeSmith>
looks like a great event

[19:58:00.0000] <MikeSmith>
but the marketing collateral is .. well, I guess it's marketing speak like most other events 

[19:58:01.0000] <MikeSmith>
"The Pearson Education Voices That Matter Conference series gives voice to the most important thought leaders in technology, design, and business today. These conferences give our readers access to those who have devised new technologies, new approaches and new inventions. Our speakers are the individuals who have made the strongest contributions impacting their industry. They are highly visible practitioners and luminaries who 

[19:58:02.0000] <MikeSmith>
lead the way, spawn new technologies and inspire passionate communities."

[19:58:03.0000] <MikeSmith>
thought leaders spawning

[20:01:00.0000] <MikeSmith>
http://webdesign2010.crowdvine.com/talks/10513 is #hohtml5 I guess

[20:01:01.0000] <MikeSmith>
Hands-On HTML5 Workshop

[20:01:02.0000] <MikeSmith>
tantek

[20:01:03.0000] <MikeSmith>
cool

[20:23:00.0000] <MikeSmith>
webkit is getting a UI for examining and changing application-cache contents

[20:23:01.0000] <MikeSmith>
https://bug-24529-attachments.webkit.org/attachment.cgi?id=60172

[20:25:00.0000] <miketaylr>
oh that's handy

[21:06:00.0000] <paul_irish>
oh wow. excellent

[21:07:00.0000] <paul_irish>
MikeSmith: did you like the webk.it shorturl at least? 

[21:08:00.0000] <MikeSmith>
paul_irish: yeah

[21:08:01.0000] <paul_irish>
i hooked that up. #nobigdeal

[21:09:00.0000] <MikeSmith>
oh cool

[21:09:01.0000] <MikeSmith>
good to see that you're finally finding some ways to make yourself useful :)

[21:09:02.0000] <paul_irish>
precisely!

[21:09:03.0000] <MikeSmith>
heh

[21:10:00.0000] <MikeSmith>
paul_irish: I wasn't pooh-poohing the fragment-ID thing, btw

[21:10:01.0000] <MikeSmith>
I just hadn't realized it actually worked

[21:10:02.0000] <MikeSmith>
it *should* work

[21:10:03.0000] <MikeSmith>
there's just some browsers it doesn't work in yet

[21:11:00.0000] <MikeSmith>
and the solution is for those browsers to make it work as well

[21:11:01.0000] <paul_irish>
hahaha. yes i agree

[21:11:02.0000] <MikeSmith>
paul_irish: you settled in out there yet? got a place and all? living in the city or mountain view, or?

[21:12:00.0000] <MikeSmith>
(if you don't mind me asking)

[21:12:01.0000] <MikeSmith>
(if you do mind me asking, just make up fake answers)

[21:13:00.0000] <paul_irish>
MikeSmith: living in SF (right between Mission and Noe). shuttling down to Mtn View. got a pet giraffe.

[21:13:01.0000] <MikeSmith>
heh

[21:14:00.0000] <MikeSmith>
I like the "between Mission and Noe" part you made up.. nice

[21:14:01.0000] <MikeSmith>
anyway, nice area

[21:15:00.0000] <paul_irish>
Don Knuth's "Earthshaking Announcement": TeX has new successor. Fix mistakes of tex78. New will use XML, arbitrary prec, autolayout

[21:16:00.0000] <MikeSmith>
oh boy

[21:16:01.0000] <MikeSmith>
that is a change

[21:16:02.0000] <MikeSmith>
paul_irish: got a URL?

[21:18:00.0000] <paul_irish>
no i dont. just looking at twitter search. other tweets indicate its "all a joke" .. shrug.

[21:19:00.0000] <MikeSmith>
ah

[21:19:01.0000] <MikeSmith>
should have seen that one coming I guess

[21:36:00.0000] <no_mind>
How should one propose a change in a HTML5 tag

[21:40:00.0000] <othermaciej>
no_mind: you can suggest it on one of the mailing lists (public-html or whatwg) if you want discussion, or you can just file a bug at http://www.w3.org/Bugs/Public/enter_bug.cgi?product=HTML%20WG&component=HTML5%20spec%20%28editor%3A%20Ian%20Hickson%29&priority=P3

[21:41:00.0000] <no_mind>
ok, posting to whatwg mailing list is a betteridea

[21:42:00.0000] <no_mind>
in the <video> tag if src is a stream will it play the video ?

[21:51:00.0000] <paul_irish>
no_mind: yup. i've seen both vorbis and vp8 stream via the video tag.

[22:28:00.0000] <MikeSmith>
can somebody try http://www.w3.org/2002/09/wbs/40318/issue-30-objection-poll/ in a Webkit nightly and tell me what styling you get for the links in the questions sections

[22:29:00.0000] <MikeSmith>
...somebody who has access submit answers

[22:29:01.0000] <MikeSmith>
html wg member

[22:29:02.0000] <Hixie>
purple on black

[22:30:00.0000] <MikeSmith>
Hixie: thanks

[22:30:01.0000] <MikeSmith>
I see the same thing

[22:30:02.0000] <othermaciej>
I get purple on black in Safari 5 as well

[22:30:03.0000] <MikeSmith>
and I have no idea why

[22:30:04.0000] <MikeSmith>
othermaciej: web inspector offers no help here

[22:30:05.0000] <MikeSmith>
as far as I can see

[22:30:06.0000] <othermaciej>
interesting, it doesn't look broken in Firefo

[22:31:00.0000] <othermaciej>
x

[22:31:01.0000] <MikeSmith>
oh

[22:31:02.0000] <MikeSmith>
it looks fine in any other browser I've tried

[22:31:03.0000] <MikeSmith>
but I was wrong about what Web Inspector shows

[22:31:04.0000] <Hixie>
it's a bug in hyatt's new safety code

[22:31:05.0000] <MikeSmith>
Computed Style shows that it's black

[22:31:06.0000] <Hixie>
privacy code rather

[22:32:00.0000] <MikeSmith>
ah

[22:32:01.0000] <MikeSmith>
yeah

[22:32:02.0000] <Hixie>
(i would hazard)

[22:32:03.0000] <MikeSmith>
the "keep visited links private" stuff

[22:32:04.0000] <Hixie>
you should file it :-)

[22:32:05.0000] <MikeSmith>
must be

[22:32:06.0000] <MikeSmith>
should I?

[22:32:07.0000] <othermaciej>
that would be my guess, but it's neither the :visited style nor the :link style

[22:32:08.0000] <miketaylr>
i've seen that before as well

[22:32:09.0000] <miketaylr>
on this page: http://placenamehere.com/article/402/ProgressiveEnhancementForBetterPerformance

[22:32:10.0000] <MikeSmith>
othermaciej: should I file a bug on this? is there maybe one open already?

[22:33:00.0000] <miketaylr>
(visiting any link, then coming back)

[22:33:01.0000] <Hixie>
if you toggle the :link style's background, it fixes it

[22:33:02.0000] <Hixie>
which is clearly a bug

[22:33:03.0000] <Hixie>
(toggle as in uncheck in inspector)

[22:33:04.0000] <MikeSmith>
miketaylr: indeed

[22:35:00.0000] <MikeSmith>
reminds me that I wish Web Inspector would tell you how it's computing a style, when the style is not coming from an actual stylesheet

[22:35:01.0000] <MikeSmith>
e.g., for align=center on th

[22:52:00.0000] <MikeSmith>
something borked in WBS backend

[22:52:01.0000] <MikeSmith>
"The proxy server received an invalid response from an upstream server."

[22:52:02.0000] <MikeSmith>
/me goes off to wake up systems team

[23:15:00.0000] <MikeSmith>
looking at http://www.w3.org/TR/dap-privacy-reqs/

[23:15:01.0000] <MikeSmith>
"APIs must support a mechanism for users to convey their preferences about retention, secondary use, and sharing to applications in the context of an API interaction"

[23:15:02.0000] <MikeSmith>
"APIs must support a mechanism for applications to convey their policies about retention, secondary use, and sharing to users prior to or during API interactions"

[23:16:00.0000] <MikeSmith>
and other requirements like that throughout

[23:17:00.0000] <othermaciej>
not a sound approach to security :-(

[23:17:01.0000] <MikeSmith>
"APIs must make it possible for user agents to..."

[23:17:02.0000] <MikeSmith>
well, the language of it just strikes me as really odd

[23:18:00.0000] <MikeSmith>
if an API does not do anything to prevent a UA from providing whatever UI it cares to for conveying "preferences about retention, secondary use, and sharing to applications in the context of an API interaction"

[23:19:00.0000] <MikeSmith>
...then, is it conforming to that requirement?

[23:19:01.0000] <MikeSmith>
that is, by doing nothing at all, it is "supporting" whatever mechanism the UA might provide

[23:20:00.0000] <MikeSmith>
anyway, these do not seem at all like API requirements

[23:20:01.0000] <MikeSmith>
they are UA requirements -- or even, arguably, platform requirements

[23:21:00.0000] <MikeSmith>
"To ensure that data is not collected without users knowing or realizing, APIs should be designed with the presumption that the explicit consent model will be used, and should explain the specific circumstances under which implicit consent may be acceptable. This gives rise to the following requirements"

[23:22:00.0000] <MikeSmith>
...and then some requirements that it doesn't necessarily "give rise to" at all

[23:23:00.0000] <MikeSmith>
the first part of that sentence is great -- ""To ensure that data is not collected without users knowing or realizing, APIs should be designed with the presumption that the explicit consent model will be used"

[23:23:01.0000] <MikeSmith>
perfect, even

[23:23:02.0000] <MikeSmith>
but how does an API itself "explain the specific circumstances under which implicit consent may be acceptable" ?

[23:25:00.0000] <MikeSmith>
"Attaching policy rules to the data that get shared can provide a legal basis for enhancing the control users have over their data once they are shared"

[23:26:00.0000] <MikeSmith>
"...can provide a legal basis..." is a scary phrase to see in a technical spec

[23:28:00.0000] <MikeSmith>
a couple of the editorial notes do instead use wording about APIs providing "hooks"

[23:29:00.0000] <MikeSmith>
seems like all of the requirements should instead be stated that way

[23:29:01.0000] <MikeSmith>
if at all

[23:30:00.0000] <MikeSmith>
e.g., APIs must provide properties or methods that UAs can use to obtain user consent before sharing any data via the APIs

[23:30:01.0000] <MikeSmith>
or whatever

[23:39:00.0000] <MikeSmith>
http://www.readwriteweb.com/archives/push_notifications_for_web_apps.php

[23:41:00.0000] <MikeSmith>
"The Working Group is slated to work until the end of January 2012 and is chaired by a 23 year old Dutch engineer from Opera named Anne van Kesteren (@annevk). The draft spec was edited by John Gregg, a Microsoft-turned-Google software engineer"

[23:43:00.0000] <MikeSmith>
it shalle henceforth be referred to as "the group chaired by a 23 year old Dutchman"

[23:44:00.0000] <MikeSmith>
I wonder why he doesn't mention how old John is

[23:45:00.0000] <MikeSmith>
or what is nationality is

[23:45:01.0000] <MikeSmith>
anyway, nice article

[23:53:00.0000] <hsivonen>
annevk: my argument isn't "let's use XML; it' great". My argument is "<i>, <b>, <ruby>, etc. sure look like HTML"

[23:55:00.0000] <MikeSmith>
othermaciej: fwiw, I think it's a good feature of the chairs decisions that they do not mention any names

[23:55:01.0000] <MikeSmith>
I think it would also be a good convention for change proposals to follow

[23:55:02.0000] <MikeSmith>
the wiki helps with that some

[23:56:00.0000] <MikeSmith>
but maybe also suggesting to change-proposal writers that they omit their names from the proposals

[23:56:01.0000] <MikeSmith>
for the wiki ones at least

[23:58:00.0000] <MikeSmith>
in order to help ensure that people review the objectively and fairly

[23:58:01.0000] <MikeSmith>
*them

[23:59:00.0000] <Hixie>
that's why i ignore who wrote what when i go through proposals myself

[00:04:00.0000] <MikeSmith>
yeah, but that's harder to do when you actually do know who wrote what

[00:05:00.0000] <MikeSmith>
a convention of leaving off names would help people who do not already know who wrote what

[00:05:01.0000] <MikeSmith>
othermaciej: https://bugs.webkit.org/show_bug.cgi?id=41445

[00:06:00.0000] <MikeSmith>
for the visited-links-with-black-background problem

[00:07:00.0000] <othermaciej>
MikeSmith: thanks

[00:09:00.0000] <annevk>
hsivonen ,fair enough

[00:13:00.0000] <MikeSmith>
how would presence of an HTML4 or XHTML1 doctype be useful for XSLT processing of a document?

[00:14:00.0000] <hsivonen>
MikeSmith: input or output?

[00:15:00.0000] <hsivonen>
if input, an XHTML1 doctype gives you more entities if the XML parser processes external entiteis

[00:16:00.0000] <hsivonen>
for output, they address the same problem as <!DOCTYPE html SYSTEM "about:legacy-compat">

[00:17:00.0000] <hsivonen>
i.e. standards mode in a way that the built-in non-text output modes can produce

[00:23:00.0000] <MikeSmith>
hsivonen: I think the intent was only about input

[00:24:00.0000] <MikeSmith>
and the entities thing certainly does seem relevant in that case

[00:24:01.0000] <MikeSmith>
...if you were trying to run an XSLT transform on a non-XML HTML5 doc

[00:25:00.0000] <MikeSmith>
which you could do if you were able to have the XSLT engine use an HTML5 parser instead of whatever XML one it uses by default

[00:25:01.0000] <MikeSmith>
e.g., in an Java environment

[00:26:00.0000] <MikeSmith>
where you can swap out the parser by setting system properties

[00:26:01.0000] <MikeSmith>
hmm

[00:26:02.0000] <MikeSmith>
but in that case, of course the HTML5 parser already has all the entities

[00:26:03.0000] <MikeSmith>
hard-coded

[00:30:00.0000] <MikeSmith>
I can imagine people reading "Authors should not use obsolete permitted DOCTYPEs, as they are unnecessarily long." and concluding it's meant to refer to XML-syntax HTML docs, not just HTML-syntax ones

[01:13:00.0000] <annevk>
http://twitter.com/v/status/17434406417 is quite the praise :)

[01:14:00.0000] <hsivonen>
annevk: danger! perceived importance brings more objections

[01:15:00.0000] <zcorpan_>
hsivonen: you should tweet about how unimportant it is

[01:21:00.0000] <hsivonen>
annevk: the differences doc still has the ping attribute

[01:25:00.0000] <annevk>
hsivonen, yeah, myakura pointed that out to me on twitter

[01:25:01.0000] <annevk>
hsivonen, I'll fix that whenever we publish again

[01:33:00.0000] <zcorpan_>
"Opera 10.60 is the first final browser that has support for the high quality video format WebM." - http://my.opera.com/desktopteam/blog/2010/07/01/opera-10-60-goes-final

[01:35:00.0000] <hsivonen>
congrats for the release

[01:36:00.0000] <hsivonen>
/me wonders what kinds of company-internal processes enable Opera's release frequency

[01:46:00.0000] <MikeSmith>
zcorpan_, annevk - +1 on that congrats

[01:47:00.0000] <MikeSmith>
http://lists.w3.org/Archives/Public/public-device-apis/2010Jun/0333.html

[01:47:01.0000] <MikeSmith>
bravo DougT

[01:48:00.0000] <MikeSmith>
"I do not want to build or design an API that embeds policy information in it.  From a developers pov, i have never seen such an API nor would want to use one."

[01:49:00.0000] <MikeSmith>
relates to http://www.w3.org/TR/dap-privacy-reqs/

[01:50:00.0000] <hsivonen>
MikeSmith: http://lists.w3.org/Archives/Public/public-device-apis/2010Jun/0335.html is a good read, too

[01:50:01.0000] <MikeSmith>
/me reads

[01:51:00.0000] <MikeSmith>
hmm, http://www.w3.org/TR/dap-privacy-reqs/ is a Note, but uses RFC 2119 terms

[01:52:00.0000] <MikeSmith>
and I realize now it's not a requirements list in the normal "use case and requirements" sense at all

[01:52:01.0000] <MikeSmith>
instead, it is stating implementation conformance requirements

[01:53:00.0000] <MikeSmith>
hsivonen: ah, yeah (about that being a good read)

[01:54:00.0000] <MikeSmith>
there should be a FAQ we can point to about that particular question

[01:55:00.0000] <zcorpan_>
http://www.opera.com/portal/geo/ hmm none in africa... oh wait actually one in egypt

[01:56:00.0000] <MikeSmith>
zcorpan_: privacy violation.

[01:57:00.0000] <hsivonen>
zcorpan_: huh? does Opera publish the location on that map when someone uses geolocation in Opera on another Web page?

[01:58:00.0000] <MikeSmith>
and this scholarly paper that people keep citing - http://escholarship.org/uc/item/0rp834wf - "Privacy Issues of the W3C Geolocation API"

[01:58:01.0000] <zcorpan_>
hsivonen: only if you go to that page

[01:58:02.0000] <hsivonen>
zcorpan_: ah

[01:59:00.0000] <gsnedders>
The Linköping office is in Borås

[01:59:01.0000] <MikeSmith>
"Privacy Issues of the W3C Geolocation API" is published through http://escholarship.org/about_escholarship.html -

[01:59:02.0000] <MikeSmith>
"eScholarship provides a suite of open access, scholarly publishing services and research tools that enable departments, research units, publishing programs, and individual scholars associated with the University of California to have direct control over the creation and dissemination of the full range of their scholarship"

[02:00:00.0000] <MikeSmith>
"direct control"

[02:00:01.0000] <MikeSmith>
"Publications benefit from manuscript and peer-review management systems"

[02:00:02.0000] <MikeSmith>
...but don't _require_ any actual peer-review

[02:02:00.0000] <MikeSmith>
"So you get the appearance of having published your paper in an actual scholarly journal without having gone through any of the annoying and time-wasty peer review that such journals require."

[02:03:00.0000] <MikeSmith>
(the last quote is a paraphrase)

[02:08:00.0000] <hsivonen>
the DAP reqs look to me like they want some kind of reverse DRM

[02:08:01.0000] <hsivonen>
(reverse in the sense of an individual applying DRM against a corporation)

[02:15:00.0000] <hsivonen>
"Because retention, secondary use, and sharing are largely out of the control of the APIs, it's not entirely clear that it makes sense to have any API requirements about these aspects." indeed

[02:19:00.0000] <MikeSmith>
replace "retention, secondary use, and sharing" with the words "most or all of what this document attempts to cover"

[02:21:00.0000] <MikeSmith>
nessy: heads-up that your message to the html-a11y has the same typo "?t=10,40" instead of '#t=10,40' as the one you sent to whatwg list

[02:21:01.0000] <nessy>
MikeSmith: it has indeed

[02:22:00.0000] <MikeSmith>
so you might want to sent a follow-up there too

[02:22:01.0000] <nessy>
feel free to send a reply to correct me

[02:22:02.0000] <MikeSmith>
ok

[02:22:03.0000] <nessy>
:) got a rather busy day...

[02:22:04.0000] <MikeSmith>
np

[02:27:00.0000] <hsivonen>
why should a Web app know the atmospheric pressure of the environment of the user???

[02:27:01.0000] <hsivonen>
context: http://dev.w3.org/2009/dap/system-info/

[02:34:00.0000] <annevk>
hsivonen, http://lists.w3.org/Archives/Public/public-device-apis/2010Jun/0335.html is very hard to read imo

[02:34:01.0000] <annevk>
hsivonen, any specific bits that are interesting?

[02:35:00.0000] <MikeSmith>
annevk: the question "Have you considered URI's instead of strings, e.g. instead of 'geolocation' using a URI?"

[02:36:00.0000] <hsivonen>
annevk: "have you considered URI?" "Not really.  why would that be better in practice?"

[02:36:01.0000] <annevk>
ooh that last part

[02:37:00.0000] <annevk>
I remember placing a one-liner on that here yesterday

[02:37:01.0000] <hsivonen>
a lot of W3C discussion in a nutshell there

[02:37:02.0000] <annevk>
something about solving all problems with URIs

[02:38:00.0000] <annevk>
"i have a problem" "oh, i know what to do: URIs" "now you have three problems" or something like that

[02:41:00.0000] <hsivonen>
who is shupping BONDI stuff? is it shipping on iOS or Android? (I guess not)

[02:41:01.0000] <hsivonen>
*shipping

[02:42:00.0000] <MikeSmith>
annevk: :)

[02:42:01.0000] <MikeSmith>
about "three problems"

[02:42:02.0000] <MikeSmith>
very subtle

[02:42:03.0000] <MikeSmith>
you are pretty clever for a 23 year old Dutch person

[02:43:00.0000] <jgraham>
No one who is Dutch could be clever

[02:43:01.0000] <MikeSmith>
hsivonen: certainly not in i0S or Android

[02:43:02.0000] <MikeSmith>
I don't know that it's shipping in anything that's been publicly announced

[02:43:03.0000] <MikeSmith>
hsivonen: indeed, about the "a lot of W3C discussion in a nutshell there"

[02:44:00.0000] <hsivonen>
Anne is 23 already? this HTML5 stuff is taking so long that were are all getting old

[02:44:01.0000] <corey__>
html5 is supported on most major mobile devices?

[02:45:00.0000] <jgraham>
hsivonen: Apart from gsnedders

[02:45:01.0000] <MikeSmith>
annevk: Protip: read e-mail messages by starting from the first line at the top

[02:45:02.0000] <hsivonen>
jgraham: how do you mean? gsnedders got old enough to buy beer legally in Sweden

[02:46:00.0000] <jgraham>
hsivonen: He was born in 1992

[02:46:01.0000] <jgraham>
No one born in 1992 will ever get old

[02:46:02.0000] <jgraham>
At least annevk had the decency to be born in a decade I have mostly forgotton

[02:47:00.0000] <hsivonen>
I'd expect Hixie no longer to be "twenty-something", so critics will need a new label there, too

[02:47:01.0000] <jgraham>
Soon they will accuse him of being too old to get the web

[02:47:02.0000] <jgraham>
"doesn't even twitter much"

[02:47:03.0000] <annevk>
"old guard"

[02:47:04.0000] <annevk>
"too conservative"

[02:48:00.0000] <zcorpan_>
we need to replace all old people

[02:48:01.0000] <MikeSmith>
reactionary

[02:48:02.0000] <MikeSmith>
I anticipate some struggle sessions

[02:49:00.0000] <MikeSmith>
like they did to Pol Pot

[02:49:01.0000] <gsnedders>
jgraham: Are you trying to imply you don't get the web? :P

[02:49:02.0000] <annevk>
TabAtkins, other CSS problem without proper attention: hit testing

[02:50:00.0000] <annevk>
/me should make a list one of these days

[02:50:01.0000] <hsivonen>
jgraham: the verb is "tweet". the youth these days verbing nouns

[02:50:02.0000] <gsnedders>
"om nom noming"

[02:51:00.0000] <Philip`>
Hmm, how does the geolocation thing know where I am? It seems to be accurate to within about 100m, when I'm just connecting from a laptop (no GPS device) to an ADSL line (which I didn't think were known that precisely)

[02:52:00.0000] <Philip`>
Maybe I told Google where I am at some point in the past and it's remembered

[02:52:01.0000] <Philip`>
Is there some way to find out how it's making its decision?

[02:53:00.0000] <hsivonen>
at one point (when connecting by cable modem) the location Google told Firefox was freakishli accurate for my office

[02:53:01.0000] <hsivonen>
but then later the precision regressed and Google started reporting the official center point of Helsinki

[02:55:00.0000] <Peter`>
Chrome uses various location providers, including wifi scans

[02:55:01.0000] <Lachy>
Philip`, if you're referring to Opera's geolocation implementation, I believe it uses wi-fi based triangulation and Google's service to map that to a location

[02:58:00.0000] <Philip`>
Ah

[02:59:00.0000] <Philip`>
/me is surprised that would work on Linux

[02:59:01.0000] <Lachy>
why wouldn't it work on linux?

[03:00:00.0000] <Philip`>
I wouldn't have thought there was a sufficiently standardised way of handling wifi on Linux

[03:04:00.0000] <roc>
there are some libraries

[03:09:00.0000] <Philip`>
I guess I'm just surprised when anything works immediately and straightforwardly on Linux

[03:12:00.0000] <jgraham>
hsivonen: Well certianly I feel like *I* have got old whilst HTML5 has been brewing

[03:14:00.0000] <boblet>
are the vcard, vevent and license vocabularies for Microdata going to be included in the W3 microdata spec? or are they in some other W3 document?

[03:15:00.0000] <hsivonen>
boblet: unlikely (politics)

[03:15:01.0000] <annevk>
jgraham, yeah, you and your gray hairs :p

[03:15:02.0000] <gsnedders>
:D

[03:15:03.0000] <boblet>
hsivonen: i thought the problem was microdata itself, rather than vocabularies for it :)

[03:15:04.0000] <boblet>
huh. interesting

[03:17:00.0000] <roc>
Google's geolocation when I'm at home is pretty good considering their Street View vehicle didn't drive along my street

[03:17:01.0000] <annevk>
boblet, most things are problematic to one or another

[03:18:00.0000] <boblet>
annevk: “why haters gotta be hatin’?” indeed

[03:22:00.0000] <Lachy>
Philip`, the help provided within opera says that it uses either the IP address, wi-fi signals, cell towers and/or GPS, depending on the capabilities of the device and availability of signal within range.

[03:29:00.0000] <jgraham>
Dunno quite what it is though

[03:29:01.0000] <jgraham>
Hmm

[03:29:02.0000] <jgraham>
Wrong channel :)

[05:29:00.0000] <MikeSmith>
why are both the drop event and dragend event needed?

[05:30:00.0000] <MikeSmith>
because the drop event can be canceled?

[05:32:00.0000] <MikeSmith>
oh

[05:33:00.0000] <MikeSmith>
or because the drag operation might stop over a target to which it is not draggable?

[05:33:01.0000] <MikeSmith>
in which case, the drop event fires, but the dropend event does not?

[05:34:00.0000] <MikeSmith>
hmm, or not

[05:34:01.0000] <MikeSmith>
are there any circumstances under which the drop event will fire but the dragend event will not?

[05:54:00.0000] <MikeSmith>
ah, drop event fires at the immediate user selection

[05:54:01.0000] <MikeSmith>
though the spec doesn't seem to explicitly state that

[06:01:00.0000] <jgraham>
Hmm, is there a list somewhere of all known HTML element / attribute names either allowed or with special meaning in the parser?

[06:02:00.0000] <jgraham>
http://simon.html5.org/html5-elements  doesn't have e.g. <pliantext>

[06:02:01.0000] <jgraham>
*<plaintext>

[06:02:02.0000] <jgraham>
Or the SVG or MathML elements that are magic

[06:03:00.0000] <jgraham>
In fact a list of all HTML + SVG + MathML elements + attributes would be best of all

[06:03:01.0000] <zcorpan_>
i think you'll have to make the list yourself

[06:03:02.0000] <jgraham>
Yeah, I think so too :(

[06:19:00.0000] <Philip`>
jgraham: Grep the spec for 'tag name .* "(.*?)"' perhaps?

[06:21:00.0000] <Philip`>
...and then combine with lists from lots of other sources

[06:21:01.0000] <jgraham>
Philip`: Yeah

[06:21:02.0000] <Philip`>
which I guess is a lot of effort

[06:22:00.0000] <Philip`>
Actually it'd be easier to grep an implementation of the spec

[06:22:01.0000] <Philip`>
to find everything with special meaning

[06:22:02.0000] <Philip`>
and then just combine with the index's list of elements/attributes

[06:22:03.0000] <Philip`>
perhaps

[06:32:00.0000] <gsnedders>
jgraham: The spec has a list of all with a special meaning in the parser

[06:32:01.0000] <gsnedders>
Of elements at least

[07:05:00.0000] <MikeSmith>
/me only just now discovers there's an atom feed for Dive Into HTML5 updates

[07:05:01.0000] <MikeSmith>
feed://hg.diveintohtml5.org/hgweb.cgi/atom-log

[07:06:00.0000] <MikeSmith>
/me adds to Planet HTML5

[10:17:00.0000] <boblet>
So if Google has it’s own simple vcard & vevent-based vocabularies, does anyone know if they also map the microformats.org vocabularies in the spec to them?

[10:17:01.0000] <boblet>
(for equivalent itemprops?)

[10:17:02.0000] <TabAtkins>
I dunno.  I could ask, though.

[10:18:00.0000] <boblet>
TabAtkins: searching Google help atm, but not finding anything…

[10:19:00.0000] <boblet>
oh, maybe I should just make a test page and try it in the testing tool

[10:26:00.0000] <boblet>
TabAtkins: Rich Snippets testing tool feedback “Warnings : Itemtype not recognized” - this is using Google-provided http://www.data-vocabulary.org/Person/ and /Organization/ (guess it’s a bug)

[10:26:01.0000] <TabAtkins>
Test page?

[10:28:00.0000] <Philip`>
boblet: From the examples, it looks like you shouldn't have the trailing / on the URLs

[10:30:00.0000] <boblet>
http://oli-studio.com/test/microdata-2.html

[10:31:00.0000] <boblet>
thanks Philip` will try (c&p from URL bar getting me into trouble)

[10:33:00.0000] <boblet>
Philip`: wins the gold star (I get to sit in the corner)

[10:34:00.0000] <TabAtkins>
That's the problem with urls-as-ids - they tend to have only a single acceptable form, while urls-as-urls have multiple equivalent forms.

[10:34:01.0000] <jgraham>
Except when they don't

[10:37:00.0000] <TabAtkins>
Sure, but most of the time example.com, example.com/, www.example.com, www.example.com:80/, etc. all work.

[10:38:00.0000] <boblet>
TabAtkins: yeah I noticed that the data-vocabulary ones are annoyingly case-sensitive for standard loading (didn’t test with microdata parsing)

[10:39:00.0000] <boblet>
TabAtkins: also /Recipe was mentioned in the announcement/in rich snippets help, but is 404 on www.data-vocabulary.org/Recipe

[10:40:00.0000] <TabAtkins>
Sigh.

[10:40:01.0000] <boblet>
Rich Snippets testing tool gets http://microformats.org/profile/hcard but gives itemtype not recognised for http://microformats.org/profile/hcalendar#vevent (with/without #vevent)

[10:40:02.0000] <boblet>
TabAtkins: tell me to stop anytime :)

[10:41:00.0000] <TabAtkins>
I really dunno much about it, so I'll collect them together and test sometime later.

[10:41:01.0000] <TabAtkins>
Then do bug reports as necessary.

[10:42:00.0000] <boblet>
(same test file using microformats.org vocabularies is http://oli-studio.com/test/microdata-2.html btw)

[10:42:01.0000] <boblet>
TabAtkins: bug reports? that was a very restrained sigh then ;)

[10:43:00.0000] <boblet>
seems that using data-vocabulary.org leads to extracted data, and microformats.org doesn’t. hrm

[10:44:00.0000] <boblet>
that makes WHATWG microdata vocabularies quite a bit less appealing huh

[10:45:00.0000] <boblet>
(I’d hoped that as the WHATWG vocabularies are a superset, the equivalent properties would still be recognised by Rich Snippets)

[10:45:01.0000] <boblet>
hey Mike. good onsen?

[10:45:02.0000] <MikeSmith>
?

[10:46:00.0000] <boblet>
or back from drinking? ;)

[10:46:01.0000] <MikeSmith>
sento

[10:46:02.0000] <boblet>
aah I should be more careful in my terminology

[10:46:03.0000] <MikeSmith>
and drinking black coffee

[10:47:00.0000] <boblet>
meeting coming up huh

[10:47:01.0000] <MikeSmith>
trying to keep my body from trying to fool me into thinking I'm tired

[10:47:02.0000] <MikeSmith>
kennyluck: you should meet boblet some time

[10:47:03.0000] <MikeSmith>
boblet lives in Osaka

[10:48:00.0000] <MikeSmith>
boblet kennyluck lives in Fujisawa, near Keio U.

[10:48:01.0000] <kennyluck>
I should. I noticed that he has growing interest in RDFa, MikeSmith :)

[10:48:02.0000] <kennyluck>
I am not as active as you, MikeSmith, but I talk randomly on #swig

[10:49:00.0000] <MikeSmith>
boblet is a professional web creator -- design, writing, 

[10:49:01.0000] <MikeSmith>
he writes articles for html5doctors now and then

[10:49:02.0000] <MikeSmith>
http://html5doctor.com/

[10:49:03.0000] <kennyluck>
Thanks for your introduction.

[10:50:00.0000] <MikeSmith>
boblet: kennyluck worked on Tabulator with TimBL

[10:50:01.0000] <MikeSmith>
http://www.w3.org/2005/ajar/tab

[10:50:02.0000] <kennyluck>
(He asked me to review an Ruby article, which is overdued on my TODO list)

[10:50:03.0000] <MikeSmith>
ah

[10:50:04.0000] <kennyluck>
/me feels sorry about that

[10:50:05.0000] <MikeSmith>
don't feel sorry, get off your ass and dance!

[10:50:06.0000] <boblet>
huh? kennyluck you helped heaps with that article yo

[10:51:00.0000] <kennyluck>
:) I would like to translate that in Chinese if possible.

[10:51:01.0000] <boblet>
lol!

[10:51:02.0000] <kennyluck>
Nice design, at least. Sorry I haven't read the content.

[10:51:03.0000] <boblet>
it’d be blocked by the great firewall

[10:51:04.0000] <MikeSmith>
http://dig.csail.mit.edu/2005/ajar/ajaw/people/Overview.html

[10:51:05.0000] <MikeSmith>
kennyluck picture can be found there

[10:51:06.0000] <kennyluck>
lol

[10:51:07.0000] <MikeSmith>
kennyluck, that's a good picture of you, chief

[10:51:08.0000] <boblet>
kennyluck: didn’t realise you were in JP

[10:52:00.0000] <kennyluck>
Thanks.

[10:53:00.0000] <boblet>
MikeSmith: I think I’m more a professional layabout who does lots of web related things with no salaries attached

[10:53:01.0000] <kennyluck>
boblet, hmm... I am still thinking about translating that article. Any process I should follow?

[10:53:02.0000] <TabAtkins>
What do you do *with* salaries attached?

[10:54:00.0000] <boblet>
TabAtkins: …

[10:54:01.0000] <MikeSmith>
we shall pay you in rough trade

[10:54:02.0000] <boblet>
/me hears crickets

[10:54:03.0000] <boblet>
し〜ん

[10:54:04.0000] <TabAtkins>
I see.  Depending on the kindness of japanese strangers?

[10:54:05.0000] <kennyluck>
し〜んwww

[10:55:00.0000] <boblet>
kennyluck: if you want to be formal contact us via http://html5doctor.com/contact/ and request

[10:55:01.0000] <kennyluck>
Thanks!

[10:55:02.0000] <kennyluck>
I don't want to be formal, though.

[10:56:00.0000] <boblet>
add a link in a comment to http://html5doctor.com/ruby-rt-rp-element/ when it’s done then ;-)

[10:56:01.0000] <kennyluck>
But Taiwanese people should be more aware of the Ruby stuff.

[10:56:02.0000] <boblet>
TabAtkins: well I wouldn’t call my wife a stranger :|

[10:56:03.0000] <kennyluck>
Ah, great. Thanks.

[10:56:04.0000] <TabAtkins>
Ah, living off a sugarmomma.  Good times.

[10:58:00.0000] <FastJack>
hi

[11:00:00.0000] <boblet>
FastJack:  hey there

[11:02:00.0000] <boblet>
TabAtkins: unfortunately sugarmomma salaries aren’t what the used to be

[11:02:01.0000] <boblet>
they

[11:02:02.0000] <boblet>
;(

[11:04:00.0000] <TabAtkins>
;_;

[11:06:00.0000] <MikeSmith>
too much sadness and crying here today

[11:06:01.0000] <TabAtkins>
\o/

[11:06:02.0000] <TabAtkins>
Does that help?

[11:06:03.0000] <MikeSmith>
Yes!

[11:06:04.0000] <TabAtkins>
\o/

[11:06:05.0000] <MikeSmith>
let's keep this the happy, positive place that it's always been

[11:06:06.0000] <TabAtkins>
/me wonders why he gets so much chinese spam.

[11:07:00.0000] <boblet>
kennyluck: no changing my ruby examples now — they were meant to be humorously offensive to each nationality equally ;-)

[11:07:01.0000] <MikeSmith>
cause your name sounds Chinese

[11:07:02.0000] <TabAtkins>
I doubt this.

[11:07:03.0000] <TabAtkins>
Also: the spammers only know my email address.

[11:07:04.0000] <boblet>
although I couldn’t find something dodgy to say about Taiwanese ;(

[11:08:00.0000] <TabAtkins>
On that note, can anyone guess what nationality "Almage" would be a last name for?

[11:08:01.0000] <boblet>
/me so should be sleeping now

[11:09:00.0000] <kennyluck>
boblet, ah great!

[11:09:01.0000] <kennyluck>
I like 草泥馬

[11:09:02.0000] <Philip`>
TabAtkins: French?

[11:10:00.0000] <TabAtkins>
Maybe.

[11:10:01.0000] <boblet>
kennyluck: but that’s more Chinese-relevant. I’d have liked something equally … fun in Taiwanese ;-)

[11:10:02.0000] <boblet>
ok nn all

[11:10:03.0000] <TabAtkins>
My email address provides me with a decent fake name - Jack Almage - and I was wondering what nationality to claim the name is.

[11:10:04.0000] <TabAtkins>
/me always gets a "Hi, Jack!" at the beginning of bug-report emails from strangers due to this.

[11:11:00.0000] <kennyluck>
bye boblet.

[11:12:00.0000] <MikeSmith>
Almagalmate   

[12:00:00.0000] <Lachy>
othermaciej, when do you expect the decisions for issues 30 and 88 to be made?

[12:01:00.0000] <Lachy>
just curious cause I'm hoping to write up some more about longdesc on my blog to elaborate on the arguments I left in the poll, and wanted to get it done well before the decision was due

[12:01:01.0000] <Lachy>
I was rushed for time this week, so I didn't get that completed yesterday.

[12:11:00.0000] <othermaciej>
Lachy: I don't know for sure - we'll probably publish more of the others first

[12:11:01.0000] <othermaciej>
I'm working on drafting one of those right now

[12:30:00.0000] <Lachy>
othermaciej, do you mean more polls, or decisions based on polls we've already had?

[12:30:01.0000] <othermaciej>
Lachy: I mean the polls we already had

[12:30:02.0000] <Lachy>
btw, I thought the decision on details was really well written, cause it evaluated based on the strength of the arguments

[12:31:00.0000] <othermaciej>
we have the three polls that completed back in May, I think we will try to get through the rest of those before pushing on with 30 or 88

[12:38:00.0000] <Peter->
othermaciej: if you don't mind me asking, how about issue 95? I noticed that you were implementing @hidden in WebKit during the decision period

[12:39:00.0000] <othermaciej>
Peter-: that one is probably coming soon

[12:40:00.0000] <othermaciej>
Peter-: me implementing it was largely because I was bored and needed an easy task, though I kind of wish I had waited so it wouldn't cloud the issue

[12:40:01.0000] <Peter->
othermaciej: I don't really mind, it caught the attention of a reader of my blog. Don't think it matters either way, I supplied a WebKit patch for <mark> for exactly the same reason

[12:42:00.0000] <othermaciej>
does your patch need review still?

[12:42:01.0000] <othermaciej>
I can look it over if needed

[12:43:00.0000] <Peter->
It does, thank you: http://webk.it/41144

[12:44:00.0000] <Peter->
I am in #WebKit too by the way, might be better to discuss it there

[15:02:00.0000] <estellevw>
Weird question: I always thought that the id value was case sensitive, but the html5 spec doesn't indicate it to be. http://www.w3.org/TR/html5/elements.html#the-id-attribute

[15:03:00.0000] <estellevw>
is there anyplace that indicates the case sensitivity?

[15:05:00.0000] <Hixie>
case sensitive with respect to what?

[15:05:01.0000] <AryehGregor>
estellevw, it doesn't make sense to say that a string is case-sensitive or case-insensitive.  A string is a string.  Algorithms can treat them case-sensitively or not.

[15:06:00.0000] <AryehGregor>
For instance, elem.id == 'foo' will do a case-sensitive match, because string comparison is case-sensitive in JavaScript.

[15:06:01.0000] <estellevw>
that's what i thought. someone in another forum corrected me to state that id was no in fact case sensitive

[15:06:02.0000] <estellevw>
looking to disprove

[15:07:00.0000] <estellevw>
<label for="myID"> matches id="myID" only as well

[15:07:01.0000] <estellevw>
just couldn't find mention 

[15:07:02.0000] <AryehGregor>
Generally speaking, string comparison is case-sensitive unless stated otherwise.

[15:08:00.0000] <AryehGregor>
Any sane programming language handles it that way, for instance.

[15:08:01.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/complete.html#the-id-attribute says "user agents must associate the element with the given value (exactly, including any space characters) for the purposes of ID matching"

[15:08:02.0000] <Hixie>
which implies it is case-sensitive

[15:08:03.0000] <AryehGregor>
Maybe this should mention that all string comparisons are case-sensitive unless stated otherwise: http://www.whatwg.org/specs/web-apps/current-work/multipage/infrastructure.html#case-sensitivity-and-string-comparison

[15:08:04.0000] <Hixie>
however, whether it actually is or not depends on exactly what context you mean

[15:09:00.0000] <Hixie>
AryehGregor: if there are string comparisons that don't say whether they're case-sensitive or not, let me know

[15:09:01.0000] <estellevw>
thank you both of you.

[15:10:00.0000] <AryehGregor>
"If the attribute is specified, the attribute's value must be the ID of a . . ." http://www.whatwg.org/specs/web-apps/current-work/multipage/forms.html#attr-label-for

[15:10:01.0000] <AryehGregor>
Doesn't say what it means to "be the ID of" something.

[15:11:00.0000] <Hixie>
yeah, that should be clarified

[15:11:01.0000] <Hixie>
can you file a bug?

[15:11:02.0000] <AryehGregor>
Sure.

[15:11:03.0000] <Hixie>
thanks

[15:14:00.0000] <AryehGregor>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10062

[15:14:01.0000] <Hixie>
ta

[15:18:00.0000] <jgraham>
If I were inclined to use twitter, I might say somthing like "The Ditty Bops!"

[15:18:01.0000] <jgraham>
That is unusually off topic, even for me

[15:19:00.0000] <jgraham>
But sometimes you are very excited about things and have to shout about them

[15:19:01.0000] <jgraham>
spotify:track:1kqTuY7rbpPSOrOjQlumDN for example

[15:20:00.0000] <jgraham>
You may now return to your regularly scheduled chat

[15:50:00.0000] <AryehGregor>
Does anyone implement accessKeyLabel?

[15:58:00.0000] <fagan>
AryehGregor: whats it for?

[15:58:01.0000] <fagan>
It sounds like it wouldnt be high on the list of things to do 

[16:00:00.0000] <AryehGregor>
It's so you don't need stuff like lines 234 to 250 here: http://svn.wikimedia.org/viewvc/mediawiki/trunk/phase3/skins/common/wikibits.js?revision=68611&view=markup

[16:00:01.0000] <AryehGregor>
Which is not only tedious, but buggy (e.g., on Firefox it's configurable and we can't detect that).

[16:00:02.0000] <AryehGregor>
And slow to get updated, since the Chrome code was only added a few days ago.

[16:14:00.0000] <annevk>
jgraham, you should get twitter


2010-07-02
[20:32:00.0000] <variable>
Has datagrid been removed from the WHATWG version of HTML5? 

[20:36:00.0000] <variable>
or in general from HTML?

[20:43:00.0000] <miketaylr>
removed in general, yes

[21:14:00.0000] <MikeSmith>
was going to tell variable that for rationale on why that was dropped, he should look for message with implementor feedback from David Hyatt

[21:15:00.0000] <MikeSmith>
and maybe messages from last July or August from Adrian Bateman

[21:15:01.0000] <MikeSmith>
and Hixie did post a message at the time that was dropped, explaining the rationale for not including it at this time

[21:22:00.0000] <llrcombs>
any chanse that HTML5 <video> will get playlist support?

[21:22:01.0000] <roc>
playlist?

[21:24:00.0000] <llrcombs>
as in...

[21:24:01.0000] <llrcombs>
<video>

[21:24:02.0000] <llrcombs>
<playlist>

[21:24:03.0000] <llrcombs>
<item src="video1.mov">

[21:24:04.0000] <llrcombs>
<item src="video2.mov">

[21:24:05.0000] <llrcombs>
</playlist>

[21:24:06.0000] <llrcombs>
</video>

[21:24:07.0000] <llrcombs>
play those 2 <item>s sequentially

[21:25:00.0000] <doublec>
llrcombs, comment out in the WHATWG spec is the "proposed v2 (actually v3!) features:"

[21:25:01.0000] <llrcombs>
link?

[21:26:00.0000] <doublec>
llrcombs, and playlists is part of that: "playlists, with the ability to get metadata out of them (e.g. xspf)"

[21:26:01.0000] <llrcombs>
please?

[21:26:02.0000] <doublec>
llrcombs, http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html

[21:26:03.0000] <llrcombs>
thx

[21:26:04.0000] <doublec>
llrcombs, nothing specced though

[21:26:05.0000] <doublec>
just a mention of it

[21:26:06.0000] <llrcombs>
/me can't find said mention

[21:27:00.0000] <doublec>
llrcombs, view source on that page

[21:27:01.0000] <doublec>
llrcombs, and search for 'playlist'

[21:27:02.0000] <llrcombs>
ahh, commented

[21:28:00.0000] <llrcombs>
ooh, other question

[21:28:01.0000] <llrcombs>
nvm, it's on that page :P

[21:28:02.0000] <doublec>
hehe

[21:29:00.0000] <llrcombs>
actually, yeah

[21:29:01.0000] <llrcombs>
what filetype should a <track type="captions"> be?

[21:32:00.0000] <doublec>
llrcombs, text/srt I think

[21:33:00.0000] <doublec>
llrcombs, see here http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#syntax-0

[21:33:01.0000] <llrcombs>
is it supported by any browsers?

[21:33:02.0000] <doublec>
no

[21:33:03.0000] <llrcombs>
lol "zero or more"

[21:33:04.0000] <llrcombs>
meh

[21:33:05.0000] <doublec>
It's still under discussion

[21:33:06.0000] <llrcombs>
what about subtitles?

[21:33:07.0000] <doublec>
same

[21:33:08.0000] <llrcombs>
meh

[21:34:00.0000] <llrcombs>
no ETA, I'd expect?

[21:34:01.0000] <doublec>
most usage of subtitles and captions in html5 video uses javascript

[21:34:02.0000] <llrcombs>
as of NOW!

[21:34:03.0000] <llrcombs>
e.g. YouTube

[21:35:00.0000] <doublec>
llrcombs, see here for example: http://www.bluishcoder.co.nz/2008/12/srt-subtitles-with-html5-video.html

[21:35:01.0000] <llrcombs>
well, once it's supported in WebKit, I'll write a JS parser to convert YouTube captions to WebSRT's, and add a <track> automagically to my <video> with a data: URL to the autocreated SRT

[21:36:00.0000] <llrcombs>
(see http://combsconnections.tk/extensions/ )

[21:36:01.0000] <llrcombs>
/me is impressed by his own download count

[01:33:00.0000] <kennyluck>
MikeSmithX?

[01:34:00.0000] <MikeSmithX>
yeah

[01:35:00.0000] <MikeSmith>
hey, it's bobchao !

[01:35:01.0000] <MikeSmith>
hey Bob

[01:35:02.0000] <MikeSmith>
nice to meet you

[01:35:03.0000] <bobchao>
MikeSmith: Hi Mike!

[01:35:04.0000] <bobchao>
nice to meet you too :)

[01:35:05.0000] <kennyluck>
Yeah, I want to introduce you guys.

[01:35:06.0000] <kennyluck>
bobchao don't get onto IRC often, though.

[01:35:07.0000] <MikeSmith>
bobchao: I'm looking forward very much to visiting Taiwan next month

[01:35:08.0000] <bobchao>
MikeSmith: I'm really exciting that you can come to COSCUP :)

[01:36:00.0000] <MikeSmith>
kennyluck: IRC is the greatest thing since Google Wave! everybody should use it

[01:36:01.0000] <kennyluck>
bobchao works on random stuff including promoting Firefox

[01:36:02.0000] <MikeSmith>
ah great

[01:36:03.0000] <kennyluck>
He has a very nice website, but I am afraid it's in Chinese

[01:36:04.0000] <MikeSmith>
bobchao: most of the attendees at this event will be people familiar with open-source software?

[01:37:00.0000] <kennyluck>
http://gfx.tw/

[01:37:01.0000] <MikeSmith>
kennyluck: I can run it through Google Translate or whatever...

[01:37:02.0000] <MikeSmith>
wow

[01:37:03.0000] <MikeSmith>
great domain name

[01:37:04.0000] <bobchao>
MikeSmith: most of them are familiar with FLOSS, if not all :)

[01:37:05.0000] <MikeSmith>
good good

[01:37:06.0000] <bobchao>
(But surely we still have some beginner in this area)

[01:37:07.0000] <kennyluck>
What is FLOSS?

[01:37:08.0000] <MikeSmith>
OK

[01:37:09.0000] <kennyluck>
(sorry)

[01:38:00.0000] <bobchao>
kennyluck: http://en.wikipedia.org/wiki/Free_and_open_source_software

[01:38:01.0000] <MikeSmith>
Free/Libre Open Source Software

[01:38:02.0000] <bobchao>
free/libre/open source software

[01:39:00.0000] <MikeSmith>
bobchao: nice site design

[01:39:01.0000] <kennyluck>
It allows you do drag-and-drop three of your favorate Firefox features.

[01:40:00.0000] <bobchao>
MikeSmith: thanks, we are still working on improve it :)

[01:40:01.0000] <kennyluck>
And produces a sticker that you can paste on your blog or whatever.

[01:40:02.0000] <kennyluck>
I hope it could be translated in English, but it seems that it has some layout issues.

[01:40:03.0000] <MikeSmith>
bobchao: do you know Gen Kanai?

[01:41:00.0000] <bobchao>
MikeSmith: yes, he's working for Mozilla Co. 

[01:41:01.0000] <MikeSmith>
yep

[01:41:02.0000] <MikeSmith>
I know Gen, as well

[01:41:03.0000] <MikeSmith>
and a number of other folks at Mozilla Japan

[01:41:04.0000] <kennyluck>
IIRC, bobchao was once invited to Tokyo and gave a talk at a Moziila event.

[01:41:05.0000] <bobchao>
I know a few people in Mozilla Japan, too. :P

[01:42:00.0000] <bobchao>
yeah, last year

[01:42:01.0000] <MikeSmith>
bobchao: when did you visit?

[01:42:02.0000] <MikeSmith>
oh yeah

[01:42:03.0000] <MikeSmith>
I think I remember Gen blogging about that

[01:42:04.0000] <MikeSmith>
and photos

[01:42:05.0000] <bobchao>
to share what happened in Taiwan community

[01:42:06.0000] <MikeSmith>
excellent

[01:43:00.0000] <kennyluck>
Yeah, MikeSmith, he is also with me when I was talking to III.

[01:43:01.0000] <kennyluck>
I hope he can help us more. :)

[01:43:02.0000] <MikeSmith>
me too

[01:44:00.0000] <bobchao>
Guys I have to go, need to meeting with peers in office.

[01:44:01.0000] <MikeSmith>
I hope we can help bobchao promote the Open Web Platform in Taiwan

[01:44:02.0000] <MikeSmith>
bobchao: cheers

[01:44:03.0000] <MikeSmith>
thanks for dropping by

[01:44:04.0000] <bobchao>
chat to u guys later

[01:44:05.0000] <kennyluck>
Sure. See you then.

[01:44:06.0000] <bobchao>
MikeSmith: sure I would like to, love Open. see ya :)

[01:46:00.0000] <kennyluck>
Hmm... I have to say, it's very hard to drag people into the IRC world.

[01:46:01.0000] <kennyluck>
I never like any other IRC client beside Colloquy.

[01:49:00.0000] <MikeSmith>
No IRC, No Life.

[01:50:00.0000] <annevk>
hmm, someone from Google pointed out a bug in CORS when using it to prevent <canvas> tainting

[01:50:01.0000] <kennyluck>
I keep asking myslelf, If I were a Windows would I get onto IRC. My answer is no

[01:50:02.0000] <annevk>
for that to work <img> does the credentialed request thingie

[01:50:03.0000] <annevk>
so per CORS the server needs to reply with the allow-credentials and allow-origin header

[01:50:04.0000] <annevk>
again per CORS that means that allow-origin cannot be *

[01:51:00.0000] <annevk>
but per other rules <img> fetch requests do not include a suitable origin header value

[01:51:01.0000] <annevk>
I guess maybe that should change, but I thought we had a reason not to, or something

[02:03:00.0000] <MikeSmith>
annevk: this is maybe a lesson why it's a good idea to record the rationale for changes

[02:03:01.0000] <MikeSmith>
even it it's just through commit messages

[02:03:02.0000] <MikeSmith>
or comments in the HTML source for the spec

[02:04:00.0000] <annevk>
nothing really changed; either I forgot something or I just did not think it through fully

[02:04:01.0000] <annevk>
well, I think what I expected is that the way <img> fetching works today will change

[02:04:02.0000] <MikeSmith>
?

[02:04:03.0000] <annevk>
but it is no longer clear to me it will

[02:04:04.0000] <MikeSmith>
why would it change?

[02:05:00.0000] <annevk>
to support CORS

[02:05:01.0000] <MikeSmith>
oh

[02:05:02.0000] <annevk>
I guess that is still a reasonable expectation

[02:06:00.0000] <annevk>
only if we do not want to do that we have to figure out something else

[02:06:01.0000] <MikeSmith>
no suggestions from whomever it as a Google who brought to bug up?

[02:07:00.0000] <annevk>
he just asked some questions

[02:08:00.0000] <MikeSmith>
I see

[02:10:00.0000] <MikeSmith>
so maybe a question to take to the public-webapps list

[02:11:00.0000] <annevk>
I suggested that, yes

[02:14:00.0000] <MikeSmith>
can you remind me where we are at with plans for moving CORS to LC?

[02:14:01.0000] <MikeSmith>
wasn't there some discussion of a date?

[02:14:02.0000] <MikeSmith>
target deadline?

[02:14:03.0000] <annevk>
we had a deadline for renaming headers

[02:15:00.0000] <annevk>
that passed, so unless earth gets a second moon that won't change anymore

[02:15:01.0000] <MikeSmith>
good

[02:15:02.0000] <MikeSmith>
yeah, I remember that now

[02:15:03.0000] <annevk>
someone volunteered for the security section, but he appears somewhat busy

[02:16:00.0000] <annevk>
and I'm in no rush

[02:16:01.0000] <MikeSmith>
so are that (security) and this current bug the only thing blocking us from starting an LC round?

[02:16:02.0000] <MikeSmith>
why no rush?

[02:17:00.0000] <annevk>
yeah, not even sure this is a bug

[02:17:01.0000] <MikeSmith>
ok

[02:17:02.0000] <MikeSmith>
would be nice to get this moved ahead to a point where you can be done with it for now and focus on other stuff

[02:17:03.0000] <MikeSmith>
*focus more on other stuff

[02:18:00.0000] <annevk>
yeah, I suppose

[02:18:01.0000] <annevk>
there's quite a few projects on my "wishlist"

[02:18:02.0000] <boblet>
anyone know of a microdata vocabulary curation site like http://prefix.cc/ for RDFa?

[02:18:03.0000] <annevk>
testing, DOM Core, encodings

[02:19:00.0000] <MikeSmith>
annevk: we can go to LC without the security section, mark lack of it as a Known Issue

[02:19:01.0000] <annevk>
I have some ideas on CSS too, but it's just too much work

[02:19:02.0000] <MikeSmith>
annevk: which could help to get somebody motivated to contribute content for the Security section

[02:20:00.0000] <annevk>
I'm not sure the lack of it will help us addressing LC comments

[02:20:01.0000] <annevk>
especially not when it comes to the anti-camp at Google

[02:20:02.0000] <MikeSmith>
annevk: you start working on CSS much again and you will be sucked in and never re-emerge for another N year

[02:20:03.0000] <MikeSmith>
LC gives people more incentive to get off their asses

[02:21:00.0000] <MikeSmith>
and actually take the time to comment

[02:21:01.0000] <MikeSmith>
we can do multiple LC rounds

[02:21:02.0000] <MikeSmith>
WD pretty much has come to mean "ignore me"

[02:21:03.0000] <MikeSmith>
I guess I should not be the one saying that

[02:22:00.0000] <MikeSmith>
what I meant to say is, Some people would say that WD pretty much has come to mean "ignore me"

[02:22:01.0000] <MikeSmith>
the IRC heard me wrong

[02:23:00.0000] <MikeSmith>
some people would say that the space between FPWD and LC is a very quiet, calm, uninteresting place

[02:23:01.0000] <MikeSmith>
kind of a limbo

[02:23:02.0000] <MikeSmith>
or purgatory

[02:23:03.0000] <MikeSmith>
a place where you don't want to be

[02:24:00.0000] <MikeSmith>
you want to be in Heaven

[02:24:01.0000] <MikeSmith>
boblet: I know of none such

[02:25:00.0000] <MikeSmith>
nudge Manu about it maybe

[02:25:01.0000] <MikeSmith>
to ask

[02:25:02.0000] <boblet>
MikeSmith: atm the only vocabularies I’ve found are Hixie’s and Google{s

[02:25:03.0000] <MikeSmith>
https://twitter.com/manusporny

[02:25:04.0000] <boblet>
k

[02:25:05.0000] <MikeSmith>
Manu is the Man

[02:26:00.0000] <MikeSmith>
when it comes to RDFa

[02:26:01.0000] <annevk>
MikeSmith, dunno, LC of workers and all were also ignored

[02:26:02.0000] <MikeSmith>
precisely

[02:27:00.0000] <MikeSmith>
hmm, that's not the word I meant

[02:27:01.0000] <annevk>
I would think so

[02:27:02.0000] <annevk>
it contradicts what you said earlier :)

[02:28:00.0000] <MikeSmith>
I've been awake for a little while

[02:28:01.0000] <MikeSmith>
I got a little bit of sleep

[02:28:02.0000] <MikeSmith>
I think

[02:28:03.0000] <MikeSmith>
I can't remember

[02:29:00.0000] <annevk>
I slept shorter than I would have liked too

[02:29:01.0000] <MikeSmith>
anyway, if nobody comments on an LC, then that makes creating the disposition of comments pretty easy to write

[02:29:02.0000] <MikeSmith>
and it makes it pretty easy to get the Director to transition it to CR

[02:30:00.0000] <MikeSmith>
we can't exactly lay out the red carpet for people every time we do an LC

[02:31:00.0000] <MikeSmith>
if they don't care enough to comment, it can't be that important to them

[02:31:01.0000] <MikeSmith>
so we go with what we got, and take it to CR

[02:32:00.0000] <MikeSmith>
this is the way we really are *supposed* to be doing it

[02:32:01.0000] <MikeSmith>
as far as W3C process

[02:32:02.0000] <MikeSmith>
keep stuff moving through the pipeline

[02:33:00.0000] <MikeSmith>
it is of course infinitely more important that the specs actually get implemented

[02:33:01.0000] <MikeSmith>
and there's no point in moving them along if they are not being implemented

[02:33:02.0000] <MikeSmith>
or if implementors show no interest or movement at all in implementing them

[02:34:00.0000] <MikeSmith>
but that ain't the case with this stuff

[02:34:01.0000] <annevk>
I think caution is warranted though if not many comments are received

[02:34:02.0000] <MikeSmith>
sure it is

[02:35:00.0000] <annevk>
either it means most comments were addressed pre Last Call, or it is something bad

[02:35:01.0000] <annevk>
in case of Web Workers and EventSource and all it might actually be that most comments have already been addressed

[02:35:02.0000] <MikeSmith>
it mostly means that people are just busy and have not made time to review and comment on it

[02:35:03.0000] <annevk>
they went through multiple implementation cycles, have had developers play with them to some extent, etc.

[02:36:00.0000] <MikeSmith>
annevk: I think with Workers and SSE, that is more the case, yeah

[02:36:01.0000] <annevk>
and some have been revised in design several times; something that happens for most W3C specifications post Last Call

[02:36:02.0000] <MikeSmith>
yep

[02:36:03.0000] <annevk>
post first Last Call, that is

[02:37:00.0000] <MikeSmith>
and we can sit around and wring our hands worrying about having not gotten some comments we should have, or we can instead just progress it and say we've done as much as we can for now

[02:38:00.0000] <MikeSmith>
as has been pointed out, it's a lot like shipping software

[02:38:01.0000] <MikeSmith>
at some point, you need to just ship it

[02:43:00.0000] <annevk>
agreed

[02:44:00.0000] <MikeSmith>
hsivonen: (from comment I missed yesterday) about why a web app should know atmospheric pressure of a user

[02:44:01.0000] <MikeSmith>
I assume that would be so it could use that to determine elevation

[02:44:02.0000] <MikeSmith>
altitude

[02:46:00.0000] <MikeSmith>
annevk: totally unrelated question -- can you remind me what browser XML parsers do with named character references in docs that have a valid XHTML doctype?

[02:46:01.0000] <MikeSmith>
I remember discussion of this a while back, but don't remember the answer

[02:47:00.0000] <annevk>
well, the "entities" "work"

[02:47:01.0000] <MikeSmith>
OK

[02:47:02.0000] <annevk>
the exact details of how might very well differ between implementations

[02:47:03.0000] <MikeSmith>
that's only *if* you have a non-borkend doctype, right?

[02:48:00.0000] <annevk>
yes, we recognize several opaque identifiers

[02:48:01.0000] <MikeSmith>
yeah, that how is something I'm curious about

[02:48:02.0000] <annevk>
and the set each browser has is probably not identical to that of other browsers

[02:48:03.0000] <MikeSmith>
I assume no browser actually has DTD copies or something it reads

[02:48:04.0000] <MikeSmith>
OK

[02:49:00.0000] <annevk>
I think Mozilla uses special DTDs

[02:49:01.0000] <MikeSmith>
hmm

[02:49:02.0000] <annevk>
to make it work with their off the shelf parser

[02:49:03.0000] <MikeSmith>
ah

[02:49:04.0000] <annevk>
WebKit might do the same, they have an OTS parser too

[03:01:00.0000] <MikeSmith>
annevk: OTS parser?

[03:01:01.0000] <annevk>
off-the-shelf

[03:01:02.0000] <annevk>
so about WebSRT

[03:01:03.0000] <annevk>
"Otherwise, append escape followed by a U+003B SEMICOLON character (;) to result." should prolly be preceded by &

[03:01:04.0000] <annevk>
furthermore, WebSRT parsing does not seem to indicate errors

[03:02:00.0000] <annevk>
should it not be similar to the HTML parser in this respect?

[03:26:00.0000] <aho>
websrt? is there a proposal for that?

[03:27:00.0000] <annevk>
http://www.whatwg.org/specs/web-apps/current-work/complete/video.html#websrt-0

[03:27:01.0000] <MikeSmith>
aho: Hixie working on it as we speak

[03:27:02.0000] <MikeSmith>
*continuing to work on it

[03:28:00.0000] <jgraham>
Unless he is sleeping

[03:28:01.0000] <jgraham>
Although possibly he is dreaming in WebSRT

[03:28:02.0000] <aho>
http://pastebin.com/hHce723e <- "small ASS" (hurr)

[03:28:03.0000] <MikeSmith>
I wonder how the work on coming up with a browser-implementible WebTTML spec is going

[03:29:00.0000] <aho>
so, how does websrt compare to currently used formats such as SSA, AAS, and well... SRT?

[03:29:01.0000] <MikeSmith>
aho: I voted for WebASS

[03:29:02.0000] <MikeSmith>
but I got overruled

[03:29:03.0000] <aho>
aww

[03:30:00.0000] <MikeSmith>
we missed a big opportunity on that one

[03:30:01.0000] <aho>
indeed

[03:30:02.0000] <MikeSmith>
maybe I can get Hixie to reconsider

[03:30:03.0000] <aho>
:>

[03:30:04.0000] <MikeSmith>
I think we should start prefixes specs with a "Bad" convention

[03:30:05.0000] <MikeSmith>
instead of "Web"

[03:30:06.0000] <MikeSmith>
and they we could have "BadASS"

[03:30:07.0000] <aho>
and BadVoodoo

[03:31:00.0000] <MikeSmith>
yes!

[03:31:01.0000] <aho>
mh. but wasn't srt very limited?

[03:32:00.0000] <MikeSmith>
Hixie is working on making it un-limited

[03:32:01.0000] <MikeSmith>
TurboSRT

[03:32:02.0000] <MikeSmith>
which argues for naming it SST instead

[03:33:00.0000] <MikeSmith>
aho: you might take a look at the spec...

[03:33:01.0000] <aho>
i'm taking a look right now

[03:33:02.0000] <MikeSmith>
the answers to all life's questions can be found within that spec

[03:33:03.0000] <MikeSmith>
if you look hard enough

[03:33:04.0000] <MikeSmith>
and long enough

[03:36:00.0000] <aho>
is there some example websrt file i can look at?

[03:36:01.0000] <annevk>
aho, it's basically SRT plus ruby

[03:37:00.0000] <annevk>
aho, on top of that the idea is to have CSS extensions to cover styling

[03:37:01.0000] <aho>
which is awful since css doesn't support text outlines yet

[03:38:00.0000] <aho>
there is text-stroke, but that's something different

[03:38:01.0000] <annevk>
http://wiki.whatwg.org/wiki/Timed_tracks has background information

[03:38:02.0000] <annevk>
I'm not sure how it's awful

[03:38:03.0000] <annevk>
currently we have nothing

[03:38:04.0000] <aho>
http://kaioa.com/svg/fatten.png <- stroke vs outline

[03:39:00.0000] <annevk>
sure, but what does that have to do with choice of format?

[03:39:01.0000] <aho>
#3 = light blue text with light blue stroke... and a clone below with an even fatter stroke

[03:39:02.0000] <aho>
nothing

[03:40:00.0000] <aho>
but it's bad if you can't display text in a way you need for subtitles

[03:40:01.0000] <aho>
your subtitles won't be any good if they are hard to read

[03:43:00.0000] <hsivonen>
MikeSmith: if pressure is for elevantion, why is elevation important?

[03:43:01.0000] <hsivonen>
MikeSmith: and if it is, shouldn't the browser expose elevation

[03:44:00.0000] <hsivonen>
MikeSmith: and leave it as an impl. detail whether it comes from pressure or GPS

[03:49:00.0000] <MikeSmith>
hsivonen: yeah, true

[03:49:01.0000] <MikeSmith>
browser should just expose elevation as an abstraction

[03:49:02.0000] <MikeSmith>
and it does with location

[03:49:03.0000] <hsivonen>
aho: I've been hoping CSS outlines to land before captions/subtitles :-/

[03:50:00.0000] <MikeSmith>
and it's up to the browser or platform to determine where it gets the elevation info from

[03:50:01.0000] <hsivonen>
it's going to suck if they happen in the other order

[03:50:02.0000] <aho>
indeed

[03:50:03.0000] <aho>
well, one could already create a websrt parser/renderer with js

[03:50:04.0000] <annevk>
aho, I don't see why CSS extensions would not cover that

[03:51:00.0000] <MikeSmith>
on many mobile devices, I think the exact method used to determine location is not even necessarily exposed to the OS

[03:51:01.0000] <aho>
annevk, they currently don't afaik

[03:51:02.0000] <annevk>
aho, CSS extensions for WebSRT are not defined at all

[03:51:03.0000] <annevk>
premature panicking imo

[03:52:00.0000] <jgraham>
aho: The CSS requirements are independent of the choice of format

[03:52:01.0000] <hsivonen>
annevk: I think panicing about CSS outlines isn't premature

[03:52:02.0000] <aho>
not really... it's more of a requirements check

[03:53:00.0000] <aho>
jgraham, yes.<annevk> sure, but what does that have to do with choice of format? <aho> nothing

[03:53:01.0000] <MikeSmith>
many chipsets for mobile devices just have location-sensing built into the chipset, and the hardware does the switching among location-sensing mechanisms it is capable of doing (wifi triangulation, gps, whatever) and then just reports back the position data without saying how it determined it

[03:53:02.0000] <aho>
websrt requires text outlines for being usable

[03:53:03.0000] <annevk>
hsivonen, what is the doom scenario here?

[03:53:04.0000] <annevk>
hsivonen, I don't see it

[03:53:05.0000] <jgraham>
aho: Right, so the problem with CSS is more urgent because we have a use case

[03:54:00.0000] <aho>
yes

[03:54:01.0000] <jgraham>
but it is nothing to do with WebSRT vs other formats

[03:54:02.0000] <aho>
(we already had some beforehand though) :>

[03:54:03.0000] <jgraham>
because current browsers don;t support outlined text anyway

[03:54:04.0000] <hsivonen>
annevk: WebSRT happens before outlines and as a result, the default WebSRT styling as well as explicit styling that wants to be compatible with outlineless browsers will look bad compred to TV subtitles

[03:55:00.0000] <aho>
thing is, websrt = css styled text... this is what adds that extra requirement

[03:55:01.0000] <jgraham>
aho: From a browser point of view it is irrelevant

[03:55:02.0000] <hsivonen>
annevk: the basic Scenario of DOOM is that we'll be stuck with to kind of appearance youtube captions have now

[03:55:03.0000] <jgraham>
You need to add support in your gfx layer either way

[03:55:04.0000] <aho>
yes

[03:56:00.0000] <hsivonen>
a solid box and normally filled unstoked unoutline glyph over the box

[03:56:01.0000] <aho>
it still adds that extra checkpoint on the roadmap though

[03:56:02.0000] <hsivonen>
right, the big deal is gfx support cross-platform. not the style system side

[03:57:00.0000] <jgraham>
hsivonen: (fwiw teletext-provided subtitles in the UK have had that appearance for years)

[03:57:01.0000] <hsivonen>
jgraham: teletext subtitles are rubbish! that's the DOOM!

[03:57:02.0000] <aho>
so, is there some proposal for text outlines already?

[03:58:00.0000] <jgraham>
hsivonen: Well maybe, but they work

[03:58:01.0000] <jgraham>
So it is not really about being better than tv

[03:58:02.0000] <aho>
text-shadow could have taken care of that actually... if it would have used the same parameters as box-shadow

[03:58:03.0000] <aho>
i still don't know why they didn't do that

[03:58:04.0000] <aho>
(that optional outset thing)

[03:59:00.0000] <hsivonen>
jgraham: my baseline for "tv" is the look we have here

[04:00:00.0000] <hsivonen>
jgraham: wouldn't you agree the Swedish burned-in or DVB subtitles are better than UK teletext subtitles?

[04:00:01.0000] <annevk>
hsivonen, hmm

[04:00:02.0000] <jgraham>
hsivonen: Better, yes

[04:01:00.0000] <annevk>
hsivonen, not particularly convinced, but maybe

[04:02:00.0000] <jgraham>
hsivonen: I don't see that people are likely to go to any lengths to get the browser-that-doesn't-support-outlines look in browsers that do

[04:02:01.0000] <hsivonen>
annevk: you get outlines on Dutch TV, right? don't you agree that the black background box is a terrible alternative?

[04:03:00.0000] <hsivonen>
jgraham: how do you write backwards-compatible CSS?

[04:03:01.0000] <aho>
black background = 90s tech :>

[04:03:02.0000] <hsivonen>
jgraham: coloc: white; outline-color: black; background-color: transparent; doesn't exactly degrade gracefully

[04:04:00.0000] <hsivonen>
aho: 50s tech outline FTW!

[04:04:01.0000] <jgraham>
hsivonen: Honestly if the difference is that big people will UA sniff

[04:04:02.0000] <jgraham>
The fact that is hard to do in CSS is unfortunate

[04:05:00.0000] <aho>
most people would probably use js to detect support... and than add some extra class if it isn't supported

[04:06:00.0000] <hsivonen>
that would still leave bad default styling, assuming that browsers will be as shy to change default styling as they are now

[04:07:00.0000] <aho>
one can also use 9 (nine) text-shadows to get some kind of pseudo outlines :>

[04:07:01.0000] <annevk>
hsivonen, oh, I'm not convinced we'd get stuck so soon as you think we will

[04:07:02.0000] <annevk>
hsivonen, I agree outlines are nicer

[04:07:03.0000] <annevk>
hsivonen, I hardly watch Dutch TV though

[04:07:04.0000] <hsivonen>
aho: yeah, text-shadow will probably save us

[04:08:00.0000] <aho>
they really should have added that outset parameter

[04:08:01.0000] <aho>
text-shadow and box-shadow would be more uniform then

[04:16:00.0000] <aho>
http://kaioa.com/k/outline.html

[04:16:01.0000] <aho>
pretty crude, really

[04:17:00.0000] <aho>
also, 8 shadows... not 9 ;>

[04:17:01.0000] <aho>
(there isn't one for the center position)

[04:20:00.0000] <annevk>
btw, http://www.w3.org/TR/css3-text/#text-outline

[04:23:00.0000] <aho>
does any browser support it right now?

[04:23:01.0000] <Peter`>
WebKit has text-outline

[04:24:00.0000] <Peter`>
text-stroke, not outline, n/m

[04:25:00.0000] <Peter`>
same idea though

[04:25:01.0000] <aho>
Peter`, no... stroke and outline are *very* different things

[04:25:02.0000] <MikeSmith>
Peter`: btw, cool to see <mark> stuff poised to go in

[04:26:00.0000] <Peter`>
aho: ok, my bad

[04:26:01.0000] <Peter`>
MikeSmith: Yeah, hope my testcase is alright

[04:28:00.0000] <MikeSmith>
Peter`: I guess Maciej will let you know if it's not

[04:28:01.0000] <aho>
annevk, well... i don't understand those specs. it doesn't even bother mentioning which length thingy does what

[04:29:00.0000] <mikekelly>
am I correct in thinking that forms don't have an @rel attribute?

[04:29:01.0000] <Peter`>
MikeSmith: Indeed, I'm still waiting for three build-bots to succeed but don't expect any problems. We'll know tomorrow morning

[04:35:00.0000] <drclue>
hey jagoffs

[05:44:00.0000] <roc>
text-outline doesn't sound that hard

[05:45:00.0000] <roc>
we wouldn't need per-platform support. We could do it via a alpha buffer the way we do text-shadow

[05:46:00.0000] <annevk>
hmm, did someone just spam the WHATWG list?

[05:46:01.0000] <annevk>
blargh

[05:47:00.0000] <MikeSmith>
webkit nightlies now how .dataset love -

[05:48:00.0000] <MikeSmith>
http://trac.webkit.org/export/62376/trunk/LayoutTests/fast/dom/dataset.html

[05:48:01.0000] <annevk>
MikeSmith, your English is getting worse

[05:48:02.0000] <MikeSmith>
what English?

[05:49:00.0000] <annevk>
right

[05:50:00.0000] <annevk>
dataset is nice

[05:50:01.0000] <annevk>
would be cool to have that in Opera too

[06:09:00.0000] <roc>
MikeSmith: you know we landed a <mark> implementation a few days ago?

[06:10:00.0000] <MikeSmith>
roc: no, didn't know that

[06:10:01.0000] <MikeSmith>
link for the changeset or bug?

[06:11:00.0000] <roc>
https://bugzilla.mozilla.org/show_bug.cgi?id=485377

[06:12:00.0000] <MikeSmith>
thanks

[06:46:00.0000] <mut>
boo

[06:48:00.0000] <MikeSmith>
Peter`:

[06:48:01.0000] <MikeSmith>
FAIL getWeight("mark2") should be bold. Was bolder.

[06:48:02.0000] <MikeSmith>
FAIL getWeight("span1") should be bold. Was bolder.

[06:48:03.0000] <MikeSmith>
...when I run you test case in Minefield

[06:49:00.0000] <Peter`>
MikeSmith: could you try running the header test?

[06:50:00.0000] <Peter`>
it's in the same directory

[06:50:01.0000] <MikeSmith>
same directory?

[06:50:02.0000] <Peter`>
http://trac.webkit.org/export/62376/trunk/LayoutTests/fast/html/header-element.html

[06:50:03.0000] <MikeSmith>
ah

[06:50:04.0000] <Peter`>
Same result on minefield there

[06:51:00.0000] <Peter`>
so my guess is that Minefield sets font-weight: bolder; on <b> tags

[06:51:01.0000] <Peter`>
where WebKit uses "bold"

[06:51:02.0000] <MikeSmith>
yeah

[06:51:03.0000] <MikeSmith>
[[

[06:51:04.0000] <MikeSmith>
Residual style:

[06:51:05.0000] <MikeSmith>
FAIL getWeight("header4") should be bold. Was bolder.

[06:51:06.0000] <MikeSmith>
FAIL getWeight("span1") should be bold. Was bolder.

[06:51:07.0000] <MikeSmith>
FormatBlock:

[06:51:08.0000] <MikeSmith>
FAIL successfullyParsed should be true (of type boolean). Was undefined (of type undefined).

[06:51:09.0000] <MikeSmith>
]]

[06:52:00.0000] <Peter`>
That succeeds on WebKit

[06:54:00.0000] <MikeSmith>
Peter`: I was wanting to make a simple test case that'd work cross-browser

[06:55:00.0000] <MikeSmith>
/me reads through js source

[06:55:01.0000] <Peter`>
I poked @rakaz (owner of html5test.com) that his tests on mark/ruby/rt/rp relied on styling as well

[06:55:02.0000] <Peter`>
which is, to my knowledge, one of the few public test-cases around

[06:56:00.0000] <Peter`>
default style in Minefield and my WebKit patch both have a yellow background-color and black text however, that is testable

[06:56:01.0000] <MikeSmith>
yeah

[06:57:00.0000] <MikeSmith>
just not a super exciting test :(

[06:57:01.0000] <Peter`>
No, and unreliable as well, since the spec does not state any default styling

[06:57:02.0000] <MikeSmith>
true dat

[06:58:00.0000] <annevk>
Peter`, it doesn't?

[06:59:00.0000] <annevk>
per HTML5 it's b { font-weight:bold }

[06:59:01.0000] <Peter`>
mark { background: yellow; color: black; }

[06:59:02.0000] <Peter`>
it does

[06:59:03.0000] <annevk>
but that might just be based on WebKit

[06:59:04.0000] <Peter`>
You're right :)

[06:59:05.0000] <annevk>
bolder seems better

[07:03:00.0000] <Peter`>
so yes, checking for the default background color probably is the best test

[07:34:00.0000] <Lachy>
does anyone know how accurate are Amazon's delivery estimates generally are? The site orignally said 7 to 10 days for products shipped to Norway, but now that it's despatched, they're telling me 19 days

[07:35:00.0000] <jgraham>
Lachy: They are usually made up by untrained armadillos

[07:35:01.0000] <Lachy>
I didn't want to have to wait nearly 3 weeks :-(

[07:35:02.0000] <doublec>
their estimates for delivery to NZ are often pretty bad

[07:35:03.0000] <doublec>
they'll say 3 weeks and I get it in 8 days

[07:35:04.0000] <Lachy>
ok

[07:35:05.0000] <doublec>
so 'bad' in a good way

[07:35:06.0000] <jgraham>
Or the opposite

[07:36:00.0000] <jgraham>
I have had "it will be (small number of days) and it was actually (large number of days)"

[07:36:01.0000] <jgraham>
er, the second " was in quite the wrong place there

[07:40:00.0000] <mut>
hey, can someone point me in the right direction, i have some lines rendered on canvas

[07:40:01.0000] <mut>
and i want to be able to measure them

[07:40:02.0000] <mut>
with the mouse ;

[07:40:03.0000] <mut>
just wondered if anyonecould point me at some recommened reading>?

[07:44:00.0000] <Lachy>
mut, in what unit do you want to measure them? Number of pixels? length in mm as rendered on the screen? Other?

[07:45:00.0000] <Lachy>
in any case, I think the basic concept of doing that is to find the position of line's end points, and then use a bit of trig to calculate the length

[07:48:00.0000] <Lachy>
or, actually, a^2 = b^2 + c^2 should be enough to calculate the length, where b and c are abs(x1-x2) and abs(y1-y2)

[07:49:00.0000] <Philip`>
(You don't need abs)

[07:50:00.0000] <Lachy>
yeah, I realised that after I wrote it cause they're squared. But whatever

[07:50:01.0000] <TelFiRE>
If I use HTML5 can I use <script> tags or will I still need to include the text/javascript for the time being?

[07:50:02.0000] <TelFiRE>
looking to support IE7 on up

[07:51:00.0000] <Philip`>
TelFiRE: You mean writing <script> instead of <script type="text/javascript">?

[07:51:01.0000] <TelFiRE>
correct

[07:51:02.0000] <Philip`>
That works and has always worked and will always work

[07:51:03.0000] <Philip`>
so there's no compatibility problem

[07:51:04.0000] <TelFiRE>
ah ok cool, but wasn't it invalid with html4?

[07:51:05.0000] <mut>
Lachy pixles

[07:51:06.0000] <TelFiRE>
ok awesome, thanks

[07:51:07.0000] <Philip`>
TelFiRE: It may have been

[07:51:08.0000] <Lachy>
mut, ok, then that's really simple

[07:52:00.0000] <Philip`>
TelFiRE: but that's independent of what browsers support (and have to support, since lots of people already write <script>)

[07:52:01.0000] <mut>
with xy coords of the mouse?

[07:52:02.0000] <mut>
any way to lock on corners/endpoints?

[07:52:03.0000] <Lachy>
do you mean, when the user clicks a point on the canvas, how do you get those co-ordinates?

[07:53:00.0000] <Lachy>
or do you want to snap to the nearest end-point of an existing line?

[07:53:01.0000] <mut>
well mouse XY will do i suppose, but it would be great ifi could snap to existing endpoints

[07:54:00.0000] <Lachy>
do you have a collection with all the line end point co-ordinates, that you can search through?

[07:55:00.0000] <mut>
a collection?

[07:55:01.0000] <mut>
errm

[07:56:00.0000] <mut>
well i guess i could make one

[07:56:01.0000] <mut>
like stick all the endpoints in an array or something

[07:56:02.0000] <Lachy>
yeah

[07:57:00.0000] <Lachy>
so then when you capture the mouse event, you get the x,y coords from that event object, adjusting for the element's position (can't remember the exact code for this off hand)

[07:58:00.0000] <mut>
ok that doesnt sound too hard

[07:58:01.0000] <Lachy>
then when you have those coords, you have to search through the array to find the nearest point.

[07:58:02.0000] <mut>
heh CAD in browser

[07:58:03.0000] <Lachy>
that requires some math that I'm not personally familiar with, but you should be able to find it through a web search

[07:58:04.0000] <mut>
im pretty good with the maths

[07:59:00.0000] <mut>
but the code escapes me sometimes!

[07:59:01.0000] <Lachy>
it's probably something simple like finding the lowest values of (mouseX - pointX) and (mouseY - pointY), for each point

[07:59:02.0000] <jgraham>
It's just the same maths as before

[07:59:03.0000] <Lachy>
oh, yeah, find the shortest hypotenuse will do it

[07:59:04.0000] <mut>
well I wouldnt have thourght of storing all of the end points, so thats good

[08:00:00.0000] <mut>
this way, i can scale the canvas down, and the measuring will still work

[08:03:00.0000] <mut>
thanks alot guys

[10:00:00.0000] <cyberix>
What happened to the peer-to-peer communication spec?

[10:00:01.0000] <cyberix>
is there still one

[10:00:02.0000] <cyberix>
some parts of the communication stuff got moved to websocket spec

[10:01:00.0000] <cyberix>
and some to postmessage

[10:01:01.0000] <cyberix>
but where did the peer-to-peer part go

[10:01:02.0000] <cyberix>
more specifically, how do I code a clientside websocket server in javascript

[10:02:00.0000] <annevk>
it didn't go anywhere

[10:02:01.0000] <annevk>
it's simply not done

[10:03:00.0000] <cyberix>
but are the place holders still somewhere?

[10:03:01.0000] <annevk>
sure

[10:03:02.0000] <cyberix>
I cannot find them

[10:03:03.0000] <annevk>
http://www.whatwg.org/specs/web-apps/current-work/complete/commands.html#peer-to-peer-connections

[10:05:00.0000] <cyberix>
I'm thinking that maybe letting javascript listen on an IPv4 interface is not a good idea

[10:05:01.0000] <cyberix>
but some discardable virtual addresses might work

[10:06:00.0000] <cyberix>
I'm trying to research that kind of approaches as part of my work

[10:06:01.0000] <cyberix>
and I am just wondering, if others have similar ideas

[10:07:00.0000] <annevk>
the WHATWG email archives have some additional information

[10:07:01.0000] <annevk>
other than that I think it is ok

[10:07:02.0000] <annevk>
I mean, not much

[10:08:00.0000] <cyberix>
in my opinion browser-to-browser communication should be IPv4, but the actual js-to-js communication should probably use some new addressing model

[10:08:01.0000] <jgraham>
annevk: Aren't you supposed to out partying on the streets or something

[10:08:02.0000] <jgraham>
?

[10:11:00.0000] <annevk>
jgraham, already did

[10:12:00.0000] <annevk>
jgraham, but I'll be out again soon :)

[10:12:01.0000] <Peter`>
It was quite an unexpected win.. I didn't give our team a very big chance. 

[10:12:02.0000] <annevk>
I'm trying to tweet #worldcup #ned #win but it's not responding

[10:28:00.0000] <TabAtkins>
re: CSS on captions: A plain text-shadow with a small blur is enough to render captions readable on any background.

[10:28:01.0000] <TabAtkins>
You don't need to stack 9 atop each other, just do something like "color:white;text-shadow:0 0 .2em black;"

[10:30:00.0000] <TabAtkins>
At least, that works for my gradient-demonstration page that I made a long time ago, and keeps the text visible on any gradient I've ever done.

[10:32:00.0000] <karlushi>
http://www.joindiaspora.com//2010/07/01/one-month-in.html

[10:33:00.0000] <karlushi>
"We have also started to build the latest and greatest in web standards into Diaspora. Websockets are already in the Diaspora core, and any Diaspora plugins will be able to have rapid two-way functionality, (think chat, games etc) almost effortlessly!"

[10:33:01.0000] <miketaylr>
thats awesome

[10:35:00.0000] <TabAtkins>
Agreed!

[10:37:00.0000] <AryehGregor>
Too bad WebSockets aren't remotely stable yet?

[10:38:00.0000] <micheil>
/me uses websockets + heaps of other companies

[10:38:01.0000] <micheil>
the spec may not be stable, but the technology seems it

[10:40:00.0000] <AryehGregor>
Chrome's implementation just changed completely incompatibly in the dev channel, didn't it?

[10:40:01.0000] <micheil>
uhh.. I hope not

[10:40:02.0000] <micheil>
Chromium is currently draft 76+, chrome is 75

[10:40:03.0000] <micheil>
if, that's what you mean

[10:41:00.0000] <TabAtkins>
Yeah, 75-76 has some breaking changes, iirc.

[10:41:01.0000] <micheil>
yeah

[10:41:02.0000] <micheil>
but there's been no other changes since, right?

[10:42:00.0000] <AryehGregor>
Since like a month or two ago, no.

[10:42:01.0000] <micheil>
ah, good good

[10:42:02.0000] <micheil>
I'm on top of the spec then

[10:42:03.0000] <AryehGregor>
But more incompatible changes are likely, from what I've heard.

[10:45:00.0000] <micheil>
I hope they don't go with that SSL type thing that was being concocted

[10:45:01.0000] <micheil>
that'd be really bad for the protocol, imho.

[11:42:00.0000] <Hixie>
micheil: why?

[11:42:01.0000] <Hixie>
micheil: (i agree with you, just curious what your reasons are)

[11:42:02.0000] <micheil>
because it'll make implementation heaps harder

[11:42:03.0000] <micheil>
and it'll probably deter people from using what is currently a fairly open protocol

[11:43:00.0000] <micheil>
it's current relative easy of implementation is really awesome

[11:43:01.0000] <micheil>
I mean, a few hours after I pushed support for draft76 in my node.js websocket server, someone was already starting work on a draft76 node.js client.

[11:44:00.0000] <Hixie>
yeah that was my thinking too

[11:44:01.0000] <Hixie>
adam seemed to think it was relatively easy to use ssl libraries

[11:44:02.0000] <micheil>
not at all.

[11:45:00.0000] <micheil>
in node.js alone, we went about 3 months without ssl, purely because we couldn't put the resources to writing the bindings for it

[11:45:01.0000] <Hixie>
yeah that was my impression too

[11:45:02.0000] <Hixie>
are you on the hybi list?

[11:45:03.0000] <micheil>
not only that, but licensing on both openssl and gnupg is odd, so opensource inclusion is difficult

[11:45:04.0000] <micheil>
no

[11:46:00.0000] <micheil>
I keep forgetting to subscribe to it

[11:46:01.0000] <Hixie>
k

[11:46:02.0000] <Hixie>
might be good to have you on there just in case that gets traction, so i'm not hte only one arguing against it :-)

[11:46:03.0000] <micheil>
yeah, fair point

[11:46:04.0000] <micheil>
what was the address for the membership page of that mailing list?

[11:47:00.0000] <Hixie>
i forget, by google for hybi will get it

[11:47:01.0000] <Hixie>
gotta go

[11:47:02.0000] <micheil>
okay, thanks

[11:47:03.0000] <micheil>
:)

[11:59:00.0000] <AryehGregor>
Is there any way to get CSS from your HTML document to work on non-inline SVG?

[11:59:01.0000] <AryehGregor>
Like "color" and "height".

[12:01:00.0000] <micheil>
uhh.. I think so

[12:01:01.0000] <micheil>
inline style attribute, but some things are specially named

[12:02:00.0000] <micheil>
check the spec would be the best bet.

[12:02:01.0000] <Philip`>
AryehGregor: <iframe seamless src=example.svg></iframe>

[12:02:02.0000] <AryehGregor>
Nice.  Is that actually supported yet?

[12:02:03.0000] <Philip`>
Otherwise I don't think styles can ever propagate into an external document, if that's what you're wanting

[12:02:04.0000] <Philip`>
No

[12:02:05.0000] <AryehGregor>
I'll wait, then.

[12:14:00.0000] <Philip`>
About image resolutions: How about using progressive JPEG / interlaced PNG / etc, and teaching UAs to only download enough of the image to match their DPI?

[12:14:01.0000] <AryehGregor>
That's a sneaky idea.

[12:14:02.0000] <AryehGregor>
Does it have obvious drawbacks?  I don't know much about image formats.

[12:17:00.0000] <Philip`>
If you download the entire image then it's slightly less efficient compression than a plain full-res version

[12:17:01.0000] <Philip`>
but on the other hand you could download half the image data to display the detail you need, and if the user zooms in then you only need to download the other half and not the entire full-res image

[12:18:00.0000] <AryehGregor>
That would be very cool.

[12:18:01.0000] <Philip`>
The interaction with <canvas> drawImage would be weird if you intentionally stop after downloading half the image, though

[12:19:00.0000] <AryehGregor>
If you need to draw to canvas, you could just download the rest of the image before doing so.

[12:19:01.0000] <AryehGregor>
Same as if the user wants to save the image, etc.

[12:20:00.0000] <Philip`>
That sounds synchronous

[12:20:01.0000] <Philip`>
and nobody likes synchronous APIs

[12:20:02.0000] <AryehGregor>
I guess normally you'd avoid the problem by having the script wait for onload before drawing the image?

[12:21:00.0000] <AryehGregor>
This would mess up onload semantics in that respect, clearly.

[12:21:01.0000] <Philip`>
When would onload occur, if the UA downloads and renders half the image data and not the rest?

[12:21:02.0000] <AryehGregor>
Also, I wonder if the quality is really controllable enough for users' needs.

[12:21:03.0000] <Philip`>
Either it blocks onload forever, which is bad, or onload fires before it's fully loaded, which is bad if you then try to draw the image onto a canvas

[12:22:00.0000] <AryehGregor>
Oh well, the idea was a hack anyway.

[12:22:01.0000] <AryehGregor>
(although a cool hack)

[12:22:02.0000] <Philip`>
But you could probably do it automatically for images used in CSS

[12:22:03.0000] <AryehGregor>
Which is exactly where the guy said it's not needed.

[12:23:00.0000] <Philip`>
and you could add a flag like <img async> to say you don't want to block the load event and don't mind if it never completes downloading

[12:25:00.0000] <AryehGregor>
Sounds very cool, and also unlikely to be a good idea.

[12:25:01.0000] <AryehGregor>
Too elegant to be practical.

[12:26:00.0000] <AryehGregor>
No, what we need is a total kludge, like: <img src="foo.jpg" altsrcs="x2:foox2.jpg x4:foox4.jpg">

[12:26:01.0000] <Philip`>
<img src="foox4.jpg" lowsrc="foox2.jpg" lowersrc="foo.jpg">

[12:27:00.0000] <AryehGregor>
That doesn't give the magnification values.

[12:28:00.0000] <Philip`>
They're defined to be 100%, 50%, 25%

[12:28:01.0000] <AryehGregor>
That's too inflexible.

[12:28:02.0000] <Philip`>
Sure

[12:28:03.0000] <AryehGregor>
What if you want the default to be the low-res version?  That's what the use-case asked for.

[12:28:04.0000] <Philip`>
I thought the idea was to  be a total kludge

[12:28:05.0000] <Philip`>
s/  / /

[12:29:00.0000] <Philip`>
You could do it with highsrc but I wanted to reuse existing attributes

[12:34:00.0000] <AryehGregor>
lowsrc and lowersrc are existing attributes?

[12:40:00.0000] <Philip`>
AryehGregor: lowsrc was

[12:41:00.0000] <Philip`>
http://www.ross.net/webhints/image_lowsrc.html etc

[12:42:00.0000] <sonja_>
does it look like there will be a <video> codec that IE and FF and Chrome and Opera and Safari will all support?

[12:42:01.0000] <sonja_>
or are there still codec wars?

[12:42:02.0000] <AryehGregor>
Already answered you in #mediawiki.  VP8 is a plausible contender, but it's not there yet.

[12:43:00.0000] <AryehGregor>
(= WebM, specifically)

[12:43:01.0000] <sonja_>
:) 

[12:45:00.0000] <sonja_>
do the latest versions of the big 5 browsers currently support webm?

[12:45:01.0000] <TabAtkins>
3 of them do, if by "latest" you mean "dev versions, not yet publicly released but available if you download them manually".

[12:45:02.0000] <AryehGregor>
No, only Chrome, Firefox, and Opera.  Safari and IE9 only support it if the user happens to have the codec installed (dunno if there's a QuickTime codec yet for WebM).

[12:45:03.0000] <sonja_>
hmm

[12:47:00.0000] <sonja_>
so maybe we just have to wait a few more monhs

[12:47:01.0000] <sonja_>
and regular "download GA version of browser" versions will work

[12:51:00.0000] <TabAtkins>
AryehGregor: I agree with Philip` - I think using a progressive format is the best idea.  There are some weird interactions, but once we deal with them it's all super-elegant and nice.

[12:56:00.0000] <AryehGregor>
TabAtkins, that's why I'm suspicious.  It sounds too elegant.  But hey, if implementers think it's a good idea, I'm all for it.

[12:56:01.0000] <TabAtkins>
You are too cynical.  ^_^

[13:16:00.0000] <AryehGregor>
You're too optimistic.

[13:17:00.0000] <AryehGregor>
This is a feature that's almost impossible for users or authors to notice, and very hard for them to control, so there's little incentive for browsers to bother implementing it.

[13:18:00.0000] <othermaciej>
what feature?

[13:24:00.0000] <AryehGregor>
othermaciej, some feature that would allow different-resolution images to be served to different browsers by just serving progressive JPEG/interlaced PNG, and having browsers stop downloading once they have enough of the image to display at their full resolution.

[13:24:01.0000] <AryehGregor>
Presumably needing support like an "async" attribute so that it doesn't delay the load event, or whatever.

[13:27:00.0000] <othermaciej>
I see

[13:28:00.0000] <othermaciej>
I think at least some mobile browsers will do that automatically

[13:28:01.0000] <AryehGregor>
It was pointed out that this would cause bugs if, for instance, the image was drawn to a canvas.

[13:29:00.0000] <othermaciej>
if you want to serve multiple image resolutions to account for high-DPI and non-high-DPI displays, the best current way to do it is to use CSS media queries

[13:29:01.0000] <othermaciej>
at least for images referenced from CSS

[13:29:02.0000] <AryehGregor>
Which doesn't work for <img>, thus the whatwg thread.

[13:29:03.0000] <othermaciej>
http://webkit.org/blog/55/high-dpi-web-sites/

[13:29:04.0000] <othermaciej>
http://webkit.org/blog/56/high-dpi-part-2/

[13:30:00.0000] <othermaciej>
that's what the WebKit team recommended for this, a couple of years ago

[13:30:01.0000] <othermaciej>
I guess the best we had to suggest for <img> was always serving an oversize image

[13:31:00.0000] <othermaciej>
and using width/height to scale it down

[13:34:00.0000] <othermaciej>
AryehGregor: I think using the content: property on an image might be a way to change the resolution with CSS from a media query, but then you couldn't prevent the original from being loaded

[13:34:01.0000] <othermaciej>
AryehGregor: I am not sure magically solving it in the image format is a good solution

[13:35:00.0000] <othermaciej>
if the tradeoff is image quality vs. bandwidth - if you request the magic auto-sizing image, even if you cut off the download early the server has probably already sent the data and filled your pipe

[13:36:00.0000] <othermaciej>
if bandwidth is not a concern, you can just always serve a high-rez version

[13:37:00.0000] <othermaciej>
we also thought about making a multi-resolution version of PNG that would degrade gracefully, in case scaling down doesn't result in a good-looking image

[13:38:00.0000] <AryehGregor>
Do all browsers support non-cruddy image shrinking these days?  As of a few years ago, images shrunk by the browser would look awful.

[13:38:01.0000] <othermaciej>
Safari has good looking image scaling in either direction

[13:39:00.0000] <othermaciej>
as for other browsers, I do not know

[13:39:01.0000] <AryehGregor>
I suspect they might all have it these days.

[13:39:02.0000] <othermaciej>
I would expect 2x shrink to not look that bad in any browser, but non-integer scale factors might not look so hot

[13:47:00.0000] <jgraham>
TabAtkins: Opera 10.60 shipped

[13:48:00.0000] <KaOSoFt>
Arrgh, and I just installed Opera a week ago.

[13:48:01.0000] <KaOSoFt>
._.

[13:49:00.0000] <jgraham>
Hixie: (I will also argue against mandatory-TLS websockets if it is pursued)

[13:49:01.0000] <jgraham>
Hixie: (for the same high-barrier-to-entry reasons)

[13:55:00.0000] <AryehGregor>
By the way, is anyone but MS and Mozilla working much on GPU-accelerated rendering for video/canvas/etc.?

[13:55:01.0000] <AryehGregor>
MS is making it sound like The Future of the Web.

[13:57:00.0000] <jgraham>
AryehGregor: I think others typically don't make forward looking statements or whatever the apple lingo is

[13:57:01.0000] <jgraham>
(except when they do of course)

[14:00:00.0000] <AryehGregor>
I was asking about current work.

[14:00:01.0000] <jgraham>
Doesn't current work typically mean future products?

[14:00:02.0000] <jgraham>
(I don't know would have been a shorter answer I guess)

[14:10:00.0000] <jgraham>
AryehGregor: http://my.opera.com/core/blog/2009/02/04/vega?id=2953968 might interest you

[14:20:00.0000] <MikeSmith>
Peter`: I added your http://peter.sh/ feed to Planet HTML5

[14:21:00.0000] <Peter->
Thank you! Shall I create a seperate category/tag for it so random photography blogs don't get re-published?

[14:33:00.0000] <Peter->
MikeSmith: Mind updating the feed URL to http://peter.sh/category/tech/feed ?

[14:36:00.0000] <MikeSmith>
Peter-: sure

[14:36:01.0000] <Peter->
Cheers :-)

[14:37:00.0000] <MikeSmith>
and btw, the aggregator uses a very simple, ham-fisted means for filtering posts

[14:38:00.0000] <Peter->
Ah, ok. Just to be sure, wouldn't want random non-tech things to accidentially get published.

[14:39:00.0000] <AryehGregor>
MikeSmith, what means is that?

[14:39:01.0000] <MikeSmith>
Peter-: it basically filters just on the string "html5" anywhere in the rendered text of a blog entry

[14:39:02.0000] <MikeSmith>
or the source

[14:39:03.0000] <MikeSmith>
that is, anywhere it in source (whether it's in the rendered part or not)

[14:40:00.0000] <AryehGregor>
What if it's spelled "HTML 5"?

[14:40:01.0000] <MikeSmith>
that'll work too

[14:40:02.0000] <Peter->
MikeSmith: Ok, very clear

[14:40:03.0000] <MikeSmith>
I think "HTML¥s*WG" and "WHATWG" and maybe a few other things will work too 

[14:40:04.0000] <AryehGregor>
¥?

[14:41:00.0000] <AryehGregor>
/me bets \

[14:41:01.0000] <AryehGregor>
/me loves what insight you can get into people's keyboard layout from typos.

[14:41:02.0000] <MikeSmith>
AryehGregor: heh, yeah :)

[14:41:03.0000] <AryehGregor>
One guy I know regularly types entire English sentences in Greek characters by mistake.

[14:41:04.0000] <AryehGregor>
Touch-typing without paying attention.

[14:41:05.0000] <MikeSmith>
/me chuckles

[14:42:00.0000] <AryehGregor>
I occasionally start typing something with all lowercase letters in Hebrew, but I've always noticed in time so far, I think.

[14:42:01.0000] <AryehGregor>
(oddly, if you hold shift in a standard Hebrew keyboard layout, you get QWERTY caps . . . not much else to do with it, I guess, since Hebrew has no letter casing)

[15:05:00.0000] <MikeSmith>
AryehGregor: ¥ and \ are the main problematic chars as far as Japanese and JP keyboards go

[15:05:01.0000] <AryehGregor>
"Japanese and JP"?

[15:06:00.0000] <TabAtkins>
jgraham: Why are you telling me about Opera?

[15:06:01.0000] <MikeSmith>
Japanese encodings

[15:06:02.0000] <MikeSmith>
I actually don't have a "\" label anywhere on my keyboard

[15:06:03.0000] <AryehGregor>
/me realizes he has no idea what Japanese keyboards actually looks like, Googles them

[15:06:04.0000] <MikeSmith>
the key I need to type is labeled "¥"

[15:07:00.0000] <MikeSmith>
and when I type that in my console, I get  "\"

[15:07:01.0000] <MikeSmith>
/me tries to remember how he types  "\" in other apps

[15:07:02.0000] <AryehGregor>
Hmm, so they have kana on them?  I thought there are like 72 kana characters.  Is some special input method used even for typing kana?

[15:08:00.0000] <jgraham>
TabAtkins: Because it is teh awesome. Or because it is a stable release with WebM

[15:08:01.0000] <AryehGregor>
/me reads http://en.wikipedia.org/wiki/Japanese_input_methods

[15:08:02.0000] <MikeSmith>
symbol and number keys are aloe used for typing kana

[15:08:03.0000] <jgraham>
At least one of those reasons

[15:08:04.0000] <TabAtkins>
jgraham: Ah, ok.  I suppose that's relevant to my interests, then.

[15:08:05.0000] <MikeSmith>
but most people in Japan do not use type in kana directly

[15:08:06.0000] <TabAtkins>
/me needs to go find some webm video then.

[15:09:00.0000] <MikeSmith>
they type in romaji

[15:09:01.0000] <MikeSmith>
into the IME

[15:09:02.0000] <TabAtkins>
/me is going to do a half-hour talk on Wednesday, and is opting for <video>/<canvas> shenanigans.

[15:09:03.0000] <MikeSmith>
and the kana appears first in the IME after that, then use space to cycle through kanji if needed

[15:10:00.0000] <jgraham>
TabAtkins: Didn't you say earlier that only dev versions of browsers had WebM? That was why I told you anyway

[15:10:01.0000] <TabAtkins>
jgraham: Yeah, I figured.

[15:10:02.0000] <AryehGregor>
You're aware that CJK writing systems are completely insane, and East Asians are all nuts for not just switching to romaji/pinyin/etc., right?  :)

[15:11:00.0000] <MikeSmith>
AryehGregor: :)

[15:11:01.0000] <Hixie>
jgraham: good to know

[15:11:02.0000] <TabAtkins>
/me needs to go open up Opera on his win machine so he can be reminded to update again.

[15:12:00.0000] <AryehGregor>
/me isn't sure whether that ":)" is like "haha, yeah :)" or "you're being a jerk but I'll be polite and just won't say anything, instead I'll say ':)'"

[15:13:00.0000] <Hixie>
MikeSmith would tell you if you were being a jerk, don't worry

[15:13:01.0000] <MikeSmith>
:)

[15:13:02.0000] <Hixie>
oh dear, now i don't know if i was wrong and he's telling _me_ that i'm being a jerk or if he's just laughing!

[15:13:03.0000] <MikeSmith>
see how I do that ? :)

[15:14:00.0000] <Hixie>
:)

[15:14:01.0000] <MikeSmith>
<chuckle><snort>

[15:14:02.0000] <MikeSmith>
AryehGregor: we need to keep kanji for microblogging purposes

[15:14:03.0000] <AryehGregor>
Hmm.  That's a good point.

[15:15:00.0000] <Philip`>
You could switch to milliblogging and wouldn't need to be so concise

[15:15:01.0000] <TabAtkins>
140k characters!

[15:15:02.0000] <Hixie>
or go to nanoblogging and kanji would be too big!

[15:15:03.0000] <AryehGregor>
We should devise some way to mash multiple Latin letters into one Unicode character to get the benefit of that.  Doesn't hangul do something like that?

[15:15:04.0000] <jgraham>
https://heatmap.mozillalabs.com/mozmetrics/?data=perc&os=all&colorscheme=hsl is pretty interesting 

[15:16:00.0000] <TabAtkins>
That wouldn't be too hard.  You'd need, hm, a block of about 19k characters to get every possible combination of three latin letters.  Much less if you do a trivial analysis over text from a couple languages and just use the triples that show up a non-trivial amount of time.

[15:17:00.0000] <AryehGregor>
Big surprise, no one clicks the EV button!

[15:17:01.0000] <AryehGregor>
TabAtkins, unfortunately, three Latin letters is still much less than one kanji character's worth.  But you can optimize on a per-language basis.

[15:17:02.0000] <AryehGregor>
If Han unification works for CJK, why can't we use it for other languages too?

[15:17:03.0000] <jgraham>
AryehGregor: really

[15:17:04.0000] <TabAtkins>
Yeah.

[15:18:00.0000] <Philip`>
jgraham: Looks like people scroll up and left more than down and right, which makes no sense to me

[15:18:01.0000] <AryehGregor>
So have dedicated characters for common words like "whatever".

[15:18:02.0000] <TabAtkins>
Philip`: Most people have scrollwheels?

[15:18:03.0000] <AryehGregor>
Philip`, maybe they use scroll wheel or scroll bar for scrolling down, but not up?

[15:18:04.0000] <AryehGregor>
/me isn't sure why

[15:19:00.0000] <TabAtkins>
Wait, no, Philip`, where are you getting that?

[15:19:01.0000] <MikeSmith>
/me considers preparing to trot out his pro-EV hobbyhorse, to point out that if the UI works the say it should, nobody should need to click on the EV button

[15:19:02.0000] <TabAtkins>
up/down are both green, while the up/down bar is red.

[15:19:03.0000] <jgraham>
Philip`: Maybe they use the scroll wheel or keyboard to go in the more natural directions

[15:19:04.0000] <jgraham>
Philip`: But resort to the buttons for more unusual activities

[15:20:00.0000] <AryehGregor>
What are "Paste Button" and "Cut Button"?  I don't see them in the picture, only in the list.

[15:20:01.0000] <TabAtkins>
/me sees the actual numbers now, so nevermind.

[15:20:02.0000] <jgraham>
AryehGregor: Non-default

[15:20:03.0000] <AryehGregor>
I figured.

[15:21:00.0000] <MikeSmith>
about kanji, the expressiveness of kanji for Japanese seeme essential to the written language, to the point where it is impossible for me at least to imagine there ever being a switch to phonetic-alphabet-only writing

[15:26:00.0000] <AryehGregor>
You mean because of too many homophones that have different kanji?  If so, how are those distinguished in speech?

[15:29:00.0000] <MikeSmith>
AryehGregor: yeah, in part because of the homophones

[15:29:01.0000] <MikeSmith>
they are distinguished in speech by context

[15:30:00.0000] <AryehGregor>
But in writing, I guess it's harder to discern context, which is why written text tends to be much more precise and thought-out in any language.

[15:30:01.0000] <AryehGregor>
Interesting.

[15:30:02.0000] <MikeSmith>
and by inflections

[15:30:03.0000] <MikeSmith>
is "inflections" the right word?

[15:30:04.0000] <AryehGregor>
Tone?

[15:31:00.0000] <MikeSmith>
by the part of the multi-syllable word that is emphasized

[15:31:01.0000] <MikeSmith>
AryehGregor: not Tone in the same sense as Chinese

[15:31:02.0000] <MikeSmith>
in that regard Japanese is more atonal

[15:32:00.0000] <MikeSmith>
word "stress" is the term, I guess

[15:32:01.0000] <AryehGregor>
It doesn't have stress like in English, though, does it?  Or at least the stress is much weaker?

[15:33:00.0000] <MikeSmith>
no, it does have stress pretty much just like in English

[15:33:01.0000] <MikeSmith>
I think

[15:33:02.0000] <AryehGregor>
It would be really interesting to learn more Japanese than the few words I know, but unfortunately, that's approximately item #136 on my List of Things to Learn if I Get Vast Quantities of Free Time.

[15:34:00.0000] <TabAtkins>
I don't even have a hundred things on my list.

[15:34:01.0000] <AryehGregor>
/me finds this on Google: http://japanese.about.com/blqow25.htm

[15:34:02.0000] <MikeSmith>
usual examples is two-syllable word like "hana", which is either "nose" or "flower", depending on where you put the stress -- or "hashi", which is either "chopsticks" or "bridge", depending on which syllable is stressed

[15:34:03.0000] <AryehGregor>
TabAtkins, a wise optimization, since on such a list you're unlikely to get to item #1.

[15:35:00.0000] <AryehGregor>
Until you retire, maybe, but it will probably be different then, so lazy initialization is a wise strategy.

[15:35:01.0000] <MikeSmith>
AryehGregor: http://japanese.about.com/blqow25.htm seems completely wrong to me

[15:35:02.0000] <MikeSmith>
it is not "pitch" accent at all

[15:36:00.0000] <MikeSmith>
it seems like whoever wrote that is actually thinking about Chinese

[15:36:01.0000] <MikeSmith>
" Japanese sentences are made up like a melody with rising and falling pitches. Unlike English's uneven rhythm, Japanese sounds like a steadily flowing stream." ... um, no

[15:37:00.0000] <AryehGregor>
How a language sounds is ridiculously subjective.  It depends on what you're used to.

[15:37:01.0000] <AryehGregor>
Every language sounds like a fairly steady stream if you don't understand it well enough to mentally insert word breaks.

[15:38:00.0000] <AryehGregor>
(probably not *that* subjective, in that there are likely similarities between native speakers of the same language)

[15:38:01.0000] <AryehGregor>
Well, this says that English is stress-timed and Japanese is mora-timed, for what that's worth: http://en.wikipedia.org/wiki/Stress_(linguistics)#Timing

[15:38:02.0000] <AryehGregor>
Which actually sort of agrees with your last quote.

[15:39:00.0000] <Hixie>
TabAtkins: i gave up having a list at all when i realised i had enough things on my "important urgent" list that i'd never have free time :-)

[15:39:01.0000] <MikeSmith>
like anywhere else, spoken Japanese sounds radically different depending on who's speaking, and where they are from

[15:39:02.0000] <TabAtkins>
I've mostly given up, too, and instead just maintain my "video games to play in my free time" list, which I can *barely* keep up with.

[15:39:03.0000] <Hixie>
BC2

[15:40:00.0000] <Hixie>
(and P2 and HL3E3 when they finally comes out, but valve hates me so they might never release them)

[15:40:01.0000] <Hixie>
(and GTA5, if that ever exists)

[15:40:02.0000] <TabAtkins>
OMG P2

[15:40:03.0000] <TabAtkins>
/me gushes.

[15:40:04.0000] <AryehGregor>
BC2?

[15:40:05.0000] <TabAtkins>
Bad Company 2

[15:40:06.0000] <AryehGregor>
Never heard of it.

[15:40:07.0000] <Hixie>
it's pretty fun

[15:40:08.0000] <AryehGregor>
(why does Valve hate you?)

[15:40:09.0000] <Hixie>
they hate us all!

[15:40:10.0000] <MikeSmith>
people from northern Japan, when they speak in dialect, I have absolutely no idea what they are saying -- it sounds like a completely different language but they are in fact speaking Japanese with mostly normal grammar, but some different words and a very different way of pronouncing and rhythm

[15:40:11.0000] <Hixie>
if they don't hate us, why haven't they released ep3 yet!!!

[15:40:12.0000] <Hixie>
/me cries

[15:40:13.0000] <TabAtkins>
Valve Time is a cross between marketing time and infinity.

[15:41:00.0000] <MikeSmith>
/me don't know what "mora-timed" is and goes to read

[15:41:01.0000] <AryehGregor>
MikeSmith, kind of like a Scottish brogue?

[15:41:02.0000] <Hixie>
MikeSmith: i have that sometimes with both french and english accents

[15:41:03.0000] <MikeSmith>
AryehGregor: yeah, kinda like that

[15:42:00.0000] <MikeSmith>
Hixie: you have an accent when you speak French?

[15:42:01.0000] <MikeSmith>
/me wondering what Hixie sounds like in French

[15:42:02.0000] <Hixie>
MikeSmith: no i mean i have that problem understanding other people's french and english when they speak with some of the more obscure accents

[15:42:03.0000] <Hixie>
there's some parts of switzerland and france where i'll be damned if i can understand a word they're saying

[15:43:00.0000] <Hixie>
same with english and some parts of the UK or US

[15:43:01.0000] <MikeSmith>
yeah

[15:43:02.0000] <jgraham>
/me assumes Hixie has *some* accent

[15:43:03.0000] <Hixie>
(and i'm not even talking about the weird dialects like cockney rhyming slang)

[15:43:04.0000] <AryehGregor>
http://en.wikipedia.org/wiki/Japanese_pitch_accent

[15:43:05.0000] <AryehGregor>
It sounds like Japanese stress is pitch-based, not loudness-based as in English?

[15:43:06.0000] <MikeSmith>
my accent varies based on who I'm talked to and where I am

[15:43:07.0000] <hober>
there's a public-html joke in here somewhere...

[15:44:00.0000] <Hixie>
what should i call the event that fires when a cue becomes active?

[15:44:01.0000] <hober>
cuechange?

[15:45:00.0000] <TabAtkins>
So, hey, I'm going to be giving a 30min tech talk on Wednesday about HTML5, focusing on hackable stuff.  Planning on doing <video>/<canvas> stuff.  What are the coolest demos of things that J. Random Hacker would like to do with those, but are simple enough to explain in 30 min?

[15:45:01.0000] <jgraham>
oncue not at all confusing

[15:45:02.0000] <AryehGregor>
TabAtkins, the IE9 page has tons of them!

[15:45:03.0000] <Hixie>
i need an event for when the cue becomes active and an event for when the cue becomes inactive

[15:45:04.0000] <Hixie>
to fire on the cue itself

[15:45:05.0000] <TabAtkins>
AryehGregor: Ooh, I'll check.

[15:45:06.0000] <Hixie>
and then an event to fire when the active cues change, to fire on the media element

[15:45:07.0000] <AryehGregor>
(particularly, it has one when IE9 performs great and all other browsers behave like molasses)

[15:45:08.0000] <Hixie>
onactive, oninactive, oncuechange?

[15:46:00.0000] <jgraham>
Hixie: seems good

[15:46:01.0000] <hober>
cue{,de}activate & cuechange?

[15:46:02.0000] <MikeSmith>
AryehGregor: hmm, yeah, it is also about pitch, now that I think more -- it's partly about drawing vowel sounds out longer and rising tone .. but that seems somehow quite different to me than how pitch is in Chinese .. maybe it's not so different actually

[15:46:03.0000] <Hixie>
oncuedeactivate is long

[15:46:04.0000] <hober>
true

[15:47:00.0000] <AryehGregor>
MikeSmith, it's practically impossible to actually notice these things yourself.  It just seems natural, it's hard to think about.  But when you think about stuff that linguists say, you realize that they're right.

[15:47:01.0000] <AryehGregor>
(in my experience with English, at least)

[15:48:00.0000] <AryehGregor>
Phonology is practically unnoticeable.  Our brain only gets passed the phonemes once the lower levels sort out what the phones map to.

[15:48:01.0000] <AryehGregor>
Or something like that.

[15:48:02.0000] <AryehGregor>
(are you a native Japanese speaker?)

[15:48:03.0000] <MikeSmith>
no, not a native speaker

[15:49:00.0000] <AryehGregor>
My mother was born in Japan to American parents, after the war.  Lived there till she was four.

[15:49:01.0000] <MikeSmith>
but most of my Japanese learning has come more from just listening and speaking

[15:49:02.0000] <AryehGregor>
I learned a bunch about Japan when I was young mainly for that reason.

[15:49:03.0000] <jgraham>
There can't be many native Japanese called Mike Smith

[15:49:04.0000] <MikeSmith>
where did she live? do you know? maybe Tachikawa area?

[15:49:05.0000] <hober>
/me minored in Japanese, but I've lost virtually all of it since then, from lack of use

[15:50:00.0000] <AryehGregor>
jgraham, yeah, I thought that too.

[15:50:01.0000] <MikeSmith>
well, my daughter is a Smith also, and doesn't look very Japanese, but she's a native speaker (in fact, unfortunately so far, she doesn't speak much English at all)

[15:50:02.0000] <AryehGregor>
I don't know where she lived.  Her father taught in a university somewhere.  He taught about Japanese art to the Japanese, in English, with a heavy German accent.

[15:50:03.0000] <MikeSmith>
heh

[15:51:00.0000] <Hixie>
MikeSmith: how old is she?

[15:51:01.0000] <MikeSmith>
she is 12 now

[15:51:02.0000] <Hixie>
ah

[15:51:03.0000] <MikeSmith>
I learn a lot of Japanese from her

[15:51:04.0000] <MikeSmith>
she's a good explainer

[15:51:05.0000] <AryehGregor>
My sister moved to Israel, and my parents made it very clear that the grandkids had better speak fluent English, or else.

[15:51:06.0000] <MikeSmith>
but the side effect is that when I speak Japanese, I sound like a 12-year-old Japanese girl

[15:51:07.0000] <AryehGregor>
Heh.

[15:51:08.0000] <jgraham>
MikeSmith: Sure there could be some. But historically (and presently?) the Japanese have had rather strict immigration policies

[15:52:00.0000] <MikeSmith>
when my daughter was 8, I spoke more like an 8-year-old Japanese girl... so, I'm making progress

[15:53:00.0000] <jgraham>
I heard a story the other day about some (English? Swedish?) parents who moved to Portugal, put their kid in daycare a lot and ended up with a kid that spoke only Portugese, whilst they knew no Portugese

[15:53:01.0000] <jgraham>
Kinda sad

[15:53:02.0000] <AryehGregor>
MikeSmith, so eventually you'll sound exactly like an adult Japanese woman?

[15:53:03.0000] <AryehGregor>
jgraham, that's why you keep them at home a lot and speak exclusively in your native language there.

[15:53:04.0000] <AryehGregor>
Only way to do it.

[15:54:00.0000] <MikeSmith>
jgraham: immigration policies in Japan are slowly being relaxed.. Japanese birthrate is such that everybody is realizing increased immigration is going to be needed in order to sustain things

[15:54:01.0000] <AryehGregor>
At the age of four, my mother apparently talked to the maid in Japanese, but she forgot it all.

[15:54:02.0000] <jgraham>
AryehGregor: It seems unfortunate not to end up with bilingual children in that situation

[15:55:00.0000] <AryehGregor>
It's like one child per mother average, right?  Population halving every generation.

[15:55:01.0000] <MikeSmith>
AryehGregor: yeah, eventually :) but we are a few years away from that yet

[15:55:02.0000] <jgraham>
Since being bilingual is supposed to be generally awesome

[15:55:03.0000] <MikeSmith>
(about sounding like a grown-up)

[15:55:04.0000] <AryehGregor>
jgraham, they learn the local language in school or whatever, and your language at home.  Everyone wins.

[15:55:05.0000] <jgraham>
/me is far too monolingual

[15:55:06.0000] <Hixie>
MikeSmith: i left switzerland when i was 10, so i speak french like a ten year old kid, if that makes you feel better :-)

[15:55:07.0000] <jgraham>
AryehGregor: Exactly

[15:56:00.0000] <MikeSmith>
AryehGregor: the other thing is that people on average live a very long time in Japan, and remain healthy, so the population is really aging

[15:56:01.0000] <MikeSmith>
Hixie: heh :)

[15:56:02.0000] <AryehGregor>
Longest average lifespan in the world.

[15:56:03.0000] <jgraham>
My Swedish is marginally worse than my three-year-old not-really-niece

[15:57:00.0000] <AryehGregor>
Not-really-niece?

[15:57:01.0000] <jgraham>
s/marginally//

[15:57:02.0000] <jgraham>
AryehGregor: Well she is my g/f's niece

[15:57:03.0000] <AryehGregor>
Ah.

[15:57:04.0000] <Hixie>
how about onentercue and onexitcue, rather than onactive and oninactive

[15:57:05.0000] <AryehGregor>
Possible-eventual-niece-in-law?

[15:57:06.0000] <jgraham>
(her sister in law is Swedish, but lives in England)

[15:58:00.0000] <Hixie>
or just onenter and onexit

[15:58:01.0000] <jgraham>
AryehGregor: Nah, don't believe in marriage

[15:58:02.0000] <Hixie>
any opinions?

[15:58:03.0000] <AryehGregor>
:/

[15:58:04.0000] <jgraham>
(unless it becomes a legal necessity)

[15:58:05.0000] <MikeSmith>
Hixie: onenter and onexit are easier to read than onentercue and onexitcue, I think

[15:58:06.0000] <AryehGregor>
It's totally unclear that they're cue-related, though.

[15:58:07.0000] <MikeSmith>
true

[15:58:08.0000] <Hixie>
MikeSmith: k

[15:58:09.0000] <AryehGregor>
I'd go for something with "cue" in it.

[15:59:00.0000] <Hixie>
should i fire oncuechange on each TimedTrack whose cues changed (and maybe on the <track> element also?), or should I just fire it on the <video> element?

[15:59:01.0000] <Hixie>
(there's no details data with the event, if you want data you have to hook into each cue you care about)

[16:00:00.0000] <Hixie>
i guess per-track is what you need to do slides and stuff

[16:00:01.0000] <TabAtkins>
Individual cues, and per-track.

[16:00:02.0000] <TabAtkins>
Do they bubble?

[16:01:00.0000] <Hixie>
no

[16:01:01.0000] <TabAtkins>
Good.

[16:01:02.0000] <Hixie>
nothing to bubble to, these aren't DOM nodes

[16:01:03.0000] <TabAtkins>
Oh, right.

[16:01:04.0000] <TabAtkins>
I'm probably dumb, but how do you hook into a cue to grab events if it's not a DOM node?

[16:02:00.0000] <Hixie>
video.tracks[n].cues[m].onenter = mycallback;

[16:02:01.0000] <TabAtkins>
Got it.

[16:02:02.0000] <Hixie>
and video.tracks[n].oncuechange = mycallback;

[16:02:03.0000] <TabAtkins>
Then yeah, on the tracks/<track>, and on the cue itself.

[16:03:00.0000] <Hixie>
(or trackElement.track.cues[n].onenter = mycallback)

[16:03:01.0000] <TabAtkins>
Though...  Without any details data in the event, not quite sure what you'd do with the event on the track.

[16:03:02.0000] <Hixie>
well you can easily get the list of active tracks

[16:03:03.0000] <Hixie>
so if you know there's only one active one at a time (e.g. the active slide) then you just do track.activeCues[0].whatever

[16:03:04.0000] <TabAtkins>
Ok, but it doesn't help you do slides, since a single slide can easily have multiple cues.

[16:04:00.0000] <Hixie>
by slides i mean if you have a track (kind=metadata) whose data is just the IDs of the slides to show for each segment of the audio track

[16:05:00.0000] <TabAtkins>
Oh, I see.  And would *that* information be gettable from the event fired at the track?

[16:05:01.0000] <MikeSmith>
/me finds that all this talk of ’cues is making him hungry, steps out to grab some breakfast

[16:05:02.0000] <Hixie>
<track kind=metadata src="myslides.srt" oncuechange="changeToSlide(track.activeCues[0].getCueAsSource())">

[16:06:00.0000] <Hixie>
assuming the text of each of your cues is whatever changeToSlide() is expecting as an argument

[16:06:01.0000] <TabAtkins>
Got it.  (I don't know enough about the api you're defining right now to ask intelligent questions.)

[16:06:02.0000] <Hixie>
heh

[16:06:03.0000] <Hixie>
neither do i :-P

[16:06:04.0000] <Hixie>
so dumb questions will have to suffice

[16:07:00.0000] <Hixie>
right now i'm porting the text i'd commented out for cue ranges to work with the new API

[16:07:01.0000] <Hixie>
i knew i'd reuse it eventually, glad i didn't delete it!

[16:13:00.0000] <AryehGregor>
http://www.imperialviolet.org/2010/06/25/overclocking-ssl.html

[16:13:01.0000] <AryehGregor>
Yay for SSL that takes zero extra round trips in the common case.

[16:19:00.0000] <TabAtkins>
Cool!

[16:19:01.0000] <TabAtkins>
Now, if only browsers weren't retarded about self-signed certs.

[16:21:00.0000] <AryehGregor>
I'm waiting for DNSSEC on that score.

[16:26:00.0000] <AryehGregor>
What sites allow all Flash embeds?

[16:26:01.0000] <AryehGregor>
That sounds crazy.

[16:27:00.0000] <AryehGregor>
Or maybe not totally crazy?  I don't know the rules for how <object> works, actually.

[16:59:00.0000] <MikeSmith>
kennyluck: http://www.readwriteweb.com/archives/facebook_the_semantic_web.php

[16:59:01.0000] <MikeSmith>
if you've not found it already


2010-07-03
[17:00:00.0000] <MikeSmith>
Richard MacManus talking with David Recordon

[17:00:01.0000] <MikeSmith>
about Open Graph

[17:01:00.0000] <MikeSmith>
http://developers.facebook.com/docs/opengraph

[19:05:00.0000] <othermaciej>
hole moley, blogger.com allows embedding of arbitrary SWFs!

[19:05:01.0000] <othermaciej>
can someone look at this page and tell me if they see both Flash objects? http://subtlesweetness.blogspot.com/2010/07/blog-post.html

[19:15:00.0000] <MikeSmith>
othermaciej: I see both

[19:16:00.0000] <othermaciej>
I think maybe it's safe because they have a separate domain per user and comments on a separate domain

[19:17:00.0000] <Workshiva>
Remind me, any reason to avoid the flash 10.1 upgrade?

[19:17:01.0000] <Workshiva>
(+Dear lazy IRC)

[19:18:00.0000] <MikeSmith>
othermaciej: dinnet know they had comments on a separate domain

[19:19:00.0000] <MikeSmith>
Workshiva: you can't avoid it

[19:19:01.0000] <MikeSmith>
that's the beauty of it

[19:19:02.0000] <Workshiva>
Really? Because the box is telling me "don't install" and "remind me later" are valid options

[19:20:00.0000] <MikeSmith>
well yeah

[19:20:01.0000] <MikeSmith>
there is that

[19:21:00.0000] <MikeSmith>
but eventually you will relent

[19:21:01.0000] <Philip`>
Workshiva: Do you care about critical security vulnerabilities?

[19:21:02.0000] <MikeSmith>
/me puts on his marketing hat

[19:21:03.0000] <MikeSmith>
"critical" is such a harsh word

[19:22:00.0000] <MikeSmith>
also "vulnerabilities"

[19:22:01.0000] <MikeSmith>
those scare people

[19:22:02.0000] <Philip`>
/me notices that Firefox recently gave a very prominent startup notice saying to upgrade Flash

[19:22:03.0000] <MikeSmith>
so let's not use those terms

[19:22:04.0000] <Workshiva>
Philip`: Well, mostly I care about "will not hose my computer before I even start a browser"

[19:26:00.0000] <MikeSmith>
FYI http://www.w3.org/2002/09/wbs/1/newstd2/ is wide open to anybody who cares to take the time to respond

[19:26:01.0000] <MikeSmith>
there's a category, "browser or other software developer"

[19:26:02.0000] <MikeSmith>
use that one if you are an actual web browser

[19:27:00.0000] <MikeSmith>
or I suppose, if you are a browser engine, that'd be OK to

[19:27:01.0000] <MikeSmith>
just make sure to indicate your version number

[20:41:00.0000] <MikeSmith>
fwiw, I added per-element "Microdata property value" subsections to my markup reference doc

[20:41:01.0000] <MikeSmith>
e.g., http://dev.w3.org/html5/markup/iframe.html#iframe-microdata

[20:41:02.0000] <MikeSmith>
not a big deal

[20:42:00.0000] <MikeSmith>
but nice to have at point-of-use, I think

[20:43:00.0000] <MikeSmith>
the section just describes what the defined means is for determining the Microdata property value for that element

[20:43:01.0000] <MikeSmith>
just based on info at http://dev.w3.org/html5/md/#values

[20:45:00.0000] <MikeSmith>
for most elements it just says "The text content of the element."

[20:45:01.0000] <MikeSmith>
e.g., http://dev.w3.org/html5/markup/table.html#table-microdata

[05:44:00.0000] <karlcow>
/me wonders if hsivonen issues about w3c licences for inclusion in open source software is recorded somewhere on W3C website? Bugzilla?

[06:33:00.0000] <Slaanesh>
Hey krijnh , how about those next and previous links at the bottom of each log page ;)

[07:41:00.0000] <krijnh>
Slaanesh: they will be there in version 5.0 :)

[07:48:00.0000] <annevk>
karlcow, it's recorded in archived email messages :)

[07:48:01.0000] <Philip`>
krijnh: What's the current version number?

[07:52:00.0000] <krijnh>
3.2

[07:55:00.0000] <Philip`>
Ah, 5.0 isn't too far off then, unless you're doing TeX-style convergence to a number that is less than 5.0

[07:56:00.0000] <annevk>
counting down to π

[07:56:01.0000] <krijnh>
I'm still looking for a company that will fund me, so I can work full-time on the logs :)

[07:57:00.0000] <krijnh>
Already applied at Google, but their response was something like "Are you kidding? We don't fucking care about your stupid logs."

[07:57:01.0000] <krijnh>
So I'm now a bit depressed

[08:15:00.0000] <Philip`>
krijnh: Make it a subscription-only service

[08:15:01.0000] <Philip`>
Then you'll have plenty of money to handle all the feature requests

[08:17:00.0000] <Slaanesh>
krijnh: Make it open source, then complain about nobody wanting to help

[08:29:00.0000] <karlcow>
annevk: yes. I was wondering if there would be an easy pointer to a summary of the issue and the arguments already exposed. :)

[09:32:00.0000] <boblet>
so is there any significance in whether a microdata item is top-level or not?

[10:01:00.0000] <boblet>
/me wishes there was an http://h2vx.com/ equivalent for microdata

[10:13:00.0000] <Slaanesh>
boblet: I would assume the only difference is whether it shows up with document.getItems

[10:14:00.0000] <boblet>
Slaanesh: but nothing supports the API yet right?

[10:14:01.0000] <Slaanesh>
I don't know, but probably not

[10:15:00.0000] <boblet>
and even then shouldn’t all items show up?

[10:16:00.0000] <Slaanesh>
getItems explicitly says it only returns top-level items

[10:18:00.0000] <Philip`>
When I last looked, if I remember, top-level status affected RDF conversion too (it adds a triple from the document to each top-level item)

[10:19:00.0000] <boblet>
oh interesting. thank you both (non-programmer so these API things are a bit of a black box)

[10:20:00.0000] <Philip`>
s/remember/remember correctly/

[10:20:01.0000] <Philip`>
(It was probably a year ago and it's probably changed and/or I've probably forgotten the details)

[10:23:00.0000] <boblet>
another microdata thing that is confusing me is <meta content="">. I know that current browsers pull <meta> into <head>, but last time I asked here the suggestion was to change to a <span> and hide via CSS

[10:24:00.0000] <boblet>
wouldn’t it be fine to just add an id then use itemref to refer to it?

[10:25:00.0000] <boblet>
again I expect there’s probably some API/implementation issue that meant whoever suggested the hidden span hack to me not suggesting it, but not sure

[10:37:00.0000] <Slaanesh>
boblet: I don't understand the problem at all. The browsers that move meta to head are also browsers that don't support microdata anyway

[10:37:01.0000] <Slaanesh>
And presumably meta in body will be fixed before or at the same time as microdata support being added in a given browser

[10:37:02.0000] <boblet>
Slaanesh: you could be using the microdata via an external JS library like metadatajs

[10:38:00.0000] <boblet>
although your point is valid for the microdata API

[10:38:01.0000] <Slaanesh>
Ah, didn't think of third party libraries

[10:39:00.0000] <boblet>
well, there’s only one ;)

[10:39:01.0000] <Slaanesh>
In that case, wouldn't using an id cause the creation of a subitem?

[10:39:02.0000] <Slaanesh>
The span solution keeps the structure the same

[10:42:00.0000] <boblet>
I don’t think there’s any requirement for itemref targets to be items. they can be just a property like <meta id="" itemprop="" content="" >

[10:44:00.0000] <boblet>
I’m really surprised that the API only returns top-level items. does that mean a tree or does that mean nested items are hidden?

[10:47:00.0000] <micheil>
Hixie: hmm.. I thought the ieft hybi mailing list would've been a really busy mailing list.. turns out it isn't much at the moment

[10:51:00.0000] <Slaanesh>
boblet: Nested items are properties of the items they are nested in

[10:52:00.0000] <boblet>
Slaanesh: aah, yeah that’s what I thought. thanks

[10:52:01.0000] <Slaanesh>
It's like a tree, except I think we established at some point it's actually a DEAG

[10:52:02.0000] <Slaanesh>
*DAG

[10:52:03.0000] <boblet>
?

[10:53:00.0000] <boblet>
hitting the wall. thanks for your help Slaanesh 

[10:54:00.0000] <Slaanesh>
A DAG is sort of like a tree, but the branches can merge back together

[10:54:01.0000] <Slaanesh>
Because multiple items can refer to the same subitem

[10:55:00.0000] <boblet>
Slaanesh: nice explanation, thanks

[10:55:01.0000] <boblet>
nn all

[11:03:00.0000] <micheil>
KrocCamen: long time, no see.

[11:03:01.0000] <micheil>
KrocCamen: goodmorrow fine sir.

[11:07:00.0000] <KrocCamen>
Goodmorrow :)

[11:08:00.0000] <KrocCamen>
Erm, what is it now—miksago, that’s it. Thought I recognised the name.

[12:47:00.0000] <Hixie>
micheil: the hybi list is busy each time i e-mail it (with people telling me i'm making bad decisions), and quiets down if i don't post for a while

[12:47:01.0000] <micheil>
ah, fair enough

[12:47:02.0000] <micheil>
well, at any rate, I'll be listening in for anything if there's need for an end developer to weigh in

[12:52:00.0000] <Hixie>
cool


2010-07-04
[20:41:00.0000] <TelFiRE>
Is there a badge or something I can display on my site for HTML5?

[20:45:00.0000] <aho>
people who care will use a validator

[20:45:01.0000] <aho>
but yes, there certainly are badges for this stuff.

[20:46:00.0000] <TelFiRE>
no, people who have no idea what it is but recognize that it's "cool" will not. It's a buzz word now. And I've been scouring the web for about an hour and all I can find is this. Is this official? http://reviews.cnet.com/i/bto/20100126/HTML5Icon.png

[01:47:00.0000] <estellevw>
I found 2 issues in browser rendering that may be more of a spec bug than a browser bug

[01:47:01.0000] <estellevw>
anyone here listening, though, before I dive in?

[02:08:00.0000] <Slaanesh>
estellevw: Dive in first, get resonse later :)

[02:08:01.0000] <Slaanesh>
*response

[02:08:02.0000] <Slaanesh>
People read the backlog and respond asynchronously

[02:09:00.0000] <estellevw>
Thinking SVG may be better for the SVG working group

[02:09:01.0000] <estellevw>
but basically ... background position is not working correctly

[02:09:02.0000] <estellevw>
when using background-image: url(file.svg);

[02:10:00.0000] <estellevw>
and the last mention i can find in the archives is 2008 i think

[02:10:01.0000] <othermaciej>
in which browser?

[02:11:00.0000] <estellevw>
my sandbox is http://www.standardista.com/sandbox/testofsvgbgimage.html

[02:11:01.0000] <estellevw>
in Opera and Safari

[02:11:02.0000] <estellevw>
both support svg as background image

[02:12:00.0000] <estellevw>
sandbox is ugly, but i have just been testing diffferent stuff

[02:12:01.0000] <estellevw>
the grey bar in that test should have a background image

[02:12:02.0000] <estellevw>
but i can only call a background image the size of the current element

[02:13:00.0000] <estellevw>
if the elmeent is 120px tall, i can only posistion up to background-position: 0 -119px to see a 1px sliver

[02:13:01.0000] <estellevw>
even though the contents of the svg are taller

[02:13:02.0000] <estellevw>
i didn't declare a height on the svg itself

[02:13:03.0000] <estellevw>
i'll try that next

[02:13:04.0000] <estellevw>
but seems like a bug either way

[02:14:00.0000] <estellevw>
the only conversation i could find on the issue was this thread: http://lists.w3.org/Archives/Public/www-svg/2008May/0025.html

[02:14:01.0000] <othermaciej>
wouldn't setting background-y of -60px and setting no-repeat cause the whole SVG to render outside the grey element?

[02:15:00.0000] <othermaciej>
the Web Inspector certainly thinks those properties are set in Safari

[02:15:01.0000] <estellevw>
the bg position is -60... it pushes the background image up 60 pixels, so the background image should start at ht e60px mark on the svg

[02:16:00.0000] <estellevw>
-30 works - the image covers half the element, but gets cut off

[02:16:01.0000] <othermaciej>
how tall is the SVG's natural size?

[02:17:00.0000] <othermaciej>
does it have one? (I guess that would be by declaring a viewbox?)

[02:17:01.0000] <othermaciej>
did you try using -webkit-background-size?

[02:17:02.0000] <othermaciej>
that should work to resize the image if you want to make it bigger and then reposition it

[02:17:03.0000] <Slaanesh>
The natural height seems to be around 230px

[02:19:00.0000] <estellevw>
i'll try that

[02:19:01.0000] <othermaciej>
it might be that it scales to the size of the element, unless you adjust it with background-size or something

[02:20:00.0000] <estellevw>
it does, but sizing it isnt' helping

[02:21:00.0000] <estellevw>
it does scale to the elment.... which is why i brought it up here.

[02:21:01.0000] <estellevw>
seems like this needs to be either specified or explained in the spec. I didn't see it

[02:21:02.0000] <estellevw>
there

[02:21:03.0000] <Slaanesh>
Hmm

[02:22:00.0000] <Slaanesh>
Sort of looks like the svg is rendered to fit the element's box, so when you background-position it upwards, the content that should be visible just isn't there

[02:23:00.0000] <othermaciej>
I would expect -webkit-background-size to have an effect

[02:26:00.0000] <estellevw>
found the solution

[02:26:01.0000] <estellevw>
the size has to be declared in the SVG

[02:26:02.0000] <estellevw>
I'll go over the spec with a finer tooth comb to see if i missed that 

[02:27:00.0000] <estellevw>
and file a bug to add htat language in if i dont' see it

[02:27:01.0000] <Slaanesh>
I'd say there's still a bug

[02:27:02.0000] <estellevw>
if you refresh that link

[02:27:03.0000] <estellevw>
it's working

[02:27:04.0000] <Slaanesh>
It might be undefined how to size a svg with non-explicit size, but surely it shouldn't crop

[02:27:05.0000] <estellevw>
oh, that is a no repeat

[02:27:06.0000] <estellevw>
and i set the width to 600

[02:28:00.0000] <estellevw>
it makes sense that the size of an image should be defined, so defining the size of the svg made sense

[02:28:01.0000] <estellevw>
i just don't remember that being required in the spec

[02:40:00.0000] <Slaanesh>
http://www.pvv.org/~magnusrk/test/svgsprite.html

[02:42:00.0000] <Slaanesh>
Can't see how it looks in Safari here, though

[04:48:00.0000] <boblet>
anyone know what “the URL given as the item type should not be automatically dereferenced” or “Item types are opaque identifiers” means? #microdata

[04:49:00.0000] <boblet>
/me remembers irc isn’t twitter

[04:55:00.0000] <Philip`>
boblet: It means they should be treated as meaningless strings, not as URLs

[04:55:01.0000] <boblet>
Philip`: so what’s the point of them then?

[04:56:00.0000] <Philip`>
They use the URL mechanism to provide global uniqueness

[04:56:01.0000] <boblet>
aah ok

[04:57:00.0000] <Philip`>
The URL might point to a 404, which is fine

[04:58:00.0000] <boblet>
Philip`: I kinda thought that as microdata is machine-readable a program could theoretically reference the itemid to learn about a new vocabulary, but that seems forbidden. how does that affect machine readibility

[04:58:01.0000] <Philip`>
though it shouldn't point to a non-existent domain because there's nothing to stop someone else picking the same non-existent domain

[04:59:00.0000] <Philip`>
You can parse microdata without needing to know the vocabulary

[04:59:01.0000] <Philip`>
(which is probably its main benefit over microformats)

[04:59:02.0000] <boblet>
yep

[05:00:00.0000] <Philip`>
and I don't think there were compelling use cases for writing tools that process parsed data from vocabularies they know nothing about

[05:00:01.0000] <boblet>
aah ok

[05:00:02.0000] <Slaanesh>
Non-dereferencable URLs is probably the most futile effort ever

[05:01:00.0000] <Philip`>
so it wasn't considered important to support that

[05:02:00.0000] <boblet>
I was asking Manu about microdata vocabularies and heard that RDFa vocabs can be used (with URLs as names) but that microdata vocabularies have to be defined in spec. that 2nd part doesn’t seem right because e.g. Google’s data-vocabulary.org vocabs

[05:03:00.0000] <boblet>
http://twitter.com/manusporny

[05:03:01.0000] <boblet>
microdata vocabs can be defined independently right?

[05:03:02.0000] <gsnedders>
Yup.

[05:04:00.0000] <Slaanesh>
Yes, as long as you specify them somewhere

[05:04:01.0000] <boblet>
huh. was wondering if i was missing something there for a while :)

[05:04:02.0000] <Slaanesh>
It's just authoring conformance, it doesn't actually matter in processing

[05:04:03.0000] <boblet>
wonder why he said that

[05:05:00.0000] <Philip`>
As far as I'm aware, you can define microdata vocabularies however you want and write machine-readable versions in whatever format you want and then code them into your microdata-using application and associate them with the item type identifier

[05:06:00.0000] <boblet>
so that’s why you can use RDFa vocabs too huh

[05:06:01.0000] <boblet>
wow

[05:06:02.0000] <boblet>
nice

[05:07:00.0000] <Philip`>
I think RDFa is designed to tie in with RDFish ways of defining vocabularies; microdata is designed to not care about that problem and merely to provide a tree of data that you can interpret however you want

[05:09:00.0000] <boblet>
now wondering how to write dereferenced URL in a way that normal ppl would understand :) a uniqueness token? hmm

[05:10:00.0000] <Philip`>
Dereferenced URL?

[05:10:01.0000] <Philip`>
That's just a resource :-)

[05:10:02.0000] <Philip`>
(unless you're an HTTP person in which case it's a representation)

[05:11:00.0000] <boblet>
Philip`: heh, I’d say that’s still a little too metaphysical for html5doctor readers ;)

[05:11:01.0000] <Philip`>
Do you mean something like non-dereferenceable URL instead?

[05:12:00.0000] <boblet>
eg “Note that the URL is only a unique vocabulary identifier — it doesn’t actually have to have any content”

[05:12:01.0000] <Philip`>
Maybe it'd be best to give examples

[05:12:02.0000] <boblet>
(URL being the value of itemtype="")

[05:13:00.0000] <Slaanesh>
boblet: Well, it _may_ be dereferencable

[05:13:01.0000] <Philip`>
like say it can be "http://n.whatwg.org/whatever" even though there's not a page (or even a domain) there

[05:13:02.0000] <Slaanesh>
Just not necessarily

[05:14:00.0000] <Philip`>
and say that's a completely different item type from "http://n.whatwg.org/whatever/" since they're different strings even if they might happen to be equivalent when used as URLs

[05:15:00.0000] <Philip`>
or something like that

[05:16:00.0000] <boblet>
huh

[05:18:00.0000] <Slaanesh>
"note that the URL is only a unique vocabulary identifier. Some vocabularies may use URLs that go somewhere, but for microdata purposes it's just a string with no special meaning ("opaque identifier").

[05:20:00.0000] <jgraham>
boblet: The URLs are compared as strings. The resembelence to URLs you use to access resources on the web is either a) useful or b) dangerously misleading, depending on your point of view

[05:20:01.0000] <boblet>
Slaanesh: thanks for the suggestion

[05:20:02.0000] <jgraham>
It could be useful because the URL could point to some human-readable text explaining how to use the vocabulary

[05:21:00.0000] <boblet>
jgraham: hehe, that seems to define a lot of HTML5 huh

[05:21:01.0000] <boblet>
yeah that’s what Google vocabularies do, except for recipe

[05:21:02.0000] <jgraham>
It could be dangrously misleading because you might think that http://foo.example and http://foo.example/ were the same

[05:22:00.0000] <jgraham>
But they are not (since there is only string comparison)

[05:22:01.0000] <jgraham>
The reason that UAs must not automatically deference the URLs is that this constitutes a DDOS attack

[05:22:02.0000] <boblet>
i kind of feel that’s edge case, as most users will reuse vocabs, and those that make them will probably know about this

[05:23:00.0000] <jgraham>
(see also: doctype URLs)

[05:23:01.0000] <boblet>
aah good point

[05:23:02.0000] <Slaanesh>
See also: People editing doctype URLs to "customize"

[05:24:00.0000] <jgraham>
boblet: The danger is that a user might use some vocabulary that defines http://example.com and write http://example.com/ instead

[05:24:01.0000] <jgraham>
and be confused when noting works

[05:24:02.0000] <jgraham>
*nothing

[05:24:03.0000] <jgraham>
(or not notice, but have wasted their time)

[05:25:00.0000] <boblet>
jgraham: so both useful and dangerously misleading then?

[05:25:01.0000] <jgraham>
boblet: And verbose. Let's not forget that :)

[05:25:02.0000] <Slaanesh>
The counterargument to useful is that you could just google the URL anyhow :)

[05:26:00.0000] <jgraham>
(verbose is the reason that RDFa defines prefixing mechanisms. But that turns out to be even worse)

[05:26:01.0000] <boblet>
jgraham: well not a big deal per itemid, but certainly if you’re using URLs for itemprop names

[05:26:02.0000] <jgraham>
Yeah

[05:26:03.0000] <boblet>
oh, being summoned

[05:26:04.0000] <boblet>
I shall return presently

[05:26:05.0000] <boblet>
thanks for your input all

[05:27:00.0000] <jgraham>
/me worries that boblet might be some sort of demonic being

[05:29:00.0000] <jgraham>
WTF,since when did cmd+l open the Go-to-page dialog in Opera / Mac rather than focusing the URL bar?

[05:32:00.0000] <Slaanesh>
boblet: You seem to be writing W3 instead of W3C

[06:19:00.0000] <karlcow>
http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.2.3

[06:19:01.0000] <karlcow>
3.2.3 URI Comparison

[06:29:00.0000] <gsnedders>
jgraham: It's always done that… sometimes.

[06:44:00.0000] <jgraham>
gsnedders: Phase of the moon?

[06:46:00.0000] <Workshiva>
I want to know how I get rid of that horrible linux behavior where middle click not on a link navigates to clipboard contents

[06:47:00.0000] <jgraham>
gsnedders: Did you see http://news.ycombinator.com/item?id=1444946 btw? Seems like something you might be interested in

[07:10:00.0000] <gsnedders>
/me facepalms at jgraham 

[07:10:01.0000] <gsnedders>
(There again, I wonder _which_ of the numerous possibilities makes jgraham think he'll be interested in it)

[07:15:00.0000] <Philip`>
Workshiva: I thought most browsers had options for that

[07:17:00.0000] <Philip`>
Workshiva: (At least Opera and Firefox do)

[07:18:00.0000] <gsnedders>
(I guess I should read the article before speculating on why jgraham linked me to it, from the basis on the title alone…)

[07:18:01.0000] <Workshiva>
Philip`: That might solve it in one installation of one app

[07:18:02.0000] <Workshiva>
We need to remove the problem at the source

[07:20:00.0000] <Philip`>
Workshiva: Since the browsers provide options, I assume there isn't a source - each application makes the decision to implement that obsolete convention

[07:21:00.0000] <Workshiva>
If we eliminate enough developers, future developers will think twice before following

[07:22:00.0000] <Philip`>
PuTTY is crazy because it does copy on select and paste on right-click, so if you try to select some text then right click to get a context menu to find a copy option then actually you paste it

[07:23:00.0000] <Workshiva>
It's only trying to stay compatible with the general unix craziness

[07:23:01.0000] <Philip`>
Middle-click isn't too dangerous for me since my mouse's middle button only works half the time and only if I press it in a particular direction, so that's okay

[07:24:00.0000] <Workshiva>
(But with a new kind of crazy)

[07:24:01.0000] <Workshiva>
Well, middle click is 'open link in background tab' in Opera, so it explicitly means I don't want to change anything about the current tab

[07:24:02.0000] <Philip`>
(I suppose it might work more reliably if I didn't use it in the wrong hand and therefore naturally press the button from an unexpected angle)

[07:24:03.0000] <Workshiva>
Miss by a pixel, and suddenly the page is gone

[07:24:04.0000] <Workshiva>
I can't imagine what kind of masochist would wnnt that behavior

[07:25:00.0000] <Workshiva>
*want

[07:25:01.0000] <Philip`>
File a bug to change the default :-)

[07:25:02.0000] <Philip`>
/me wonders if Opera has data on how many people change that option

[07:26:00.0000] <Workshiva>
I bet most linux users are already suffering from stockholm syndrome and don't realize how much they're suffering

[07:26:01.0000] <gsnedders>
Workshiva: That's just too quotable.

[07:26:02.0000] <Workshiva>
Oh, great, I have to pick between pasting and panning?

[07:27:00.0000] <Workshiva>
Why not throw in 'quit opera' for good measure?

[07:28:00.0000] <gsnedders>
Workshiva: BTW, you moved somewhere for work?

[07:28:01.0000] <doublec>
i guess html injection issues are about to get into the news in a big way

[07:28:02.0000] <Workshiva>
gsnedders: Zürich

[07:28:03.0000] <doublec>
given the chaos at youtube in the last hour or so

[07:28:04.0000] <Workshiva>
doublec: It's been on reddit for two hours already

[07:28:05.0000] <gsnedders>
Workshiva: OK, I was kinda guessing that :)

[07:29:00.0000] <Philip`>
Workshiva: Apart from the crazy people who've used Unix for decades and designed things like X, most Linux users used to be Windows users and I expect they'd like things to work basically the same

[07:29:01.0000] <doublec>
that's what I get for visiting youtube before reddit :)

[07:31:00.0000] <jgraham>
Dear lazy irc: How do I rip CDs to vorbis format on OSX without paying for the priviledge?

[07:32:00.0000] <Workshiva>
>OSX

[07:32:01.0000] <Workshiva>
>without paying

[07:32:02.0000] <jgraham>
My best answer so far is "Install linux in virtualbox"

[07:32:03.0000] <Workshiva>
I think I found your problem

[07:32:04.0000] <jgraham>
Workshiva: yeah, that does seem to be a common problem

[07:33:00.0000] <gsnedders>
jgraham: Can VLC not do so?

[07:33:01.0000] <jgraham>
But you would have thought that by now there were enough unix geeks using OSX on laptopns that *someone* would have written something free for many simple tasks

[07:33:02.0000] <Philip`>
jgraham: Eject CD, insert CD into computer with different OS?

[07:33:03.0000] <jgraham>
gsnedders: VLC rips CDs?

[07:33:04.0000] <Philip`>
That seems easier than installing a VM

[07:33:05.0000] <Workshiva>
I spotted something very interesting a few days

[07:33:06.0000] <Workshiva>
ago

[07:33:07.0000] <jgraham>
Philip`: I lack a computer with another OS and a working CD drive

[07:33:08.0000] <gsnedders>
jgraham: Surely you don't need to do that? Can't you just install GNOME/KDE/whatever within X11 (in the GNOME case) or natively (in the KDE case)?

[07:34:00.0000] <gsnedders>
jgraham: I think it can

[07:34:01.0000] <jgraham>
gsnedders: I think installing a VM would likly be easier than trying to get that to work...

[07:34:02.0000] <gsnedders>
jgraham: I however lack any CDs in this country to test this theory

[07:34:03.0000] <gsnedders>
(of VLC)

[07:34:04.0000] <jgraham>
I will investigate VLC

[07:35:00.0000] <Workshiva>
I saw the VP of FSF Europe using a macbook

[07:36:00.0000] <Philip`>
jgraham: http://cdrecord.berlios.de/private/cdrecord.html sounds like it works in OS X

[07:36:01.0000] <Philip`>
Workshiva: Maybe he had installed Linux onto it

[07:37:00.0000] <Workshiva>
No, she was running OSX

[07:37:01.0000] <Philip`>
Oops, s/he/s\/he/

[07:38:00.0000] <gsnedders>
Philip`: Or singular they.

[07:38:01.0000] <Philip`>
gsnedders: That would be a much boringer regexp

[07:43:00.0000] <jgraham>
I would like to add some more feature requests to my irc request. Like the ability to have one file per track without doing them all individually

[07:43:01.0000] <jgraham>
VLC appears to be insane

[07:45:00.0000] <jgraham>
(and I don't think using the command line is a very viable option)

[07:48:00.0000] <jgraham>
http://en.flossmanuals.net/VLC/RipCD is like a summay of everything that is wrong with VLC

[07:51:00.0000] <gsnedders>
Sadly, I wouldn't say that's all that's wrong

[07:51:01.0000] <jgraham>
From a UI point of view I mean. It has a wizard called just "Wizard" in the menu!

[07:52:00.0000] <jgraham>
That's in-fucking-sane

[07:53:00.0000] <Philip`>
http://cdrecord.berlios.de/private/man/cdrecord/cdda2ogg.1.html looks like a much more convenient UI

[07:53:01.0000] <Philip`>
(as long as it actually works)

[08:02:00.0000] <boblet>
Slaanesh: thanks for that catch

[08:36:00.0000] <AryehGregor>
Workshiva, Chrome seems not to navigate on middle-click on Linux, even with a URL in the primary clipboard.

[09:42:00.0000] <boblet>
perfect example of jgraham’s comment about itemid being a string that pretends to be a URL; the Google vocabulary for Review-aggregate is http://www.data-vocabulary.org/Review-aggregate, but that page auto-forwards to http://www.data-vocabulary.org/Review-aggregate/

[09:43:00.0000] <boblet>
(seems like all their data-vocabulary pages do)

[09:43:01.0000] <boblet>
caught me out in a copy & paste

[11:22:00.0000] <estellevw>
Should the <embed> element have an alt attibrute?  

[11:22:01.0000] <estellevw>
From the spec:

[11:22:02.0000] <estellevw>
Content attributes: Global attributes, src, type, width, height, Any other attribute that has no namespace (see prose).

[11:23:00.0000] <estellevw>
how is accessibilty expected to be added?

[11:24:00.0000] <Workshiva>
The plugin is supposed to handle accessibility

[11:27:00.0000] <estellevw>
ok, so including an SVG, the contents of the <title> attribute would suffice?

[11:29:00.0000] <estellevw>
Should the plugin fail though...

[11:29:01.0000] <Workshiva>
Well, ideally you'd use <object> or <img> instead

[11:32:00.0000] <estellevw>
need to test both those in IE with SVG before responding...

[11:33:00.0000] <Workshiva>
<img> is right out for the current browser generation

[11:33:01.0000] <Workshiva>
But <object> should be possible with some juggling

[11:34:00.0000] <AryehGregor>
<img> works in everything but Firefox, and should work in next Firefox too.

[11:34:01.0000] <AryehGregor>
(for SVG)

[11:35:00.0000] <estellevw>
Shouldn't there be an alt attribute on the <embed> anyhow so the user knows whether the plugin is worth accessing?

[11:35:01.0000] <AryehGregor>
Isn't <embed> obsolete?

[11:35:02.0000] <Workshiva>
No, not from what I can see

[11:35:03.0000] <AryehGregor>
Or is there some reason to use it?

[11:35:04.0000] <estellevw>
i thought html5 was the first time embed is in the spec

[11:36:00.0000] <Workshiva>
It's the first time it is specified, yes

[11:36:01.0000] <estellevw>
http://dev.w3.org/html5/spec/Overview.html#the-embed-element

[11:36:02.0000] <Workshiva>
AryehGregor: <img> SVG works in IE6/7?

[11:36:03.0000] <AryehGregor>
Workshiva, no, no SVG works in IE6/7/8.

[11:37:00.0000] <Workshiva>
There's a plugin, isn't there?

[11:37:01.0000] <AryehGregor>
You said "current browser generation", not "obsolete browsers with third-party plugins that no one actually has installed".

[11:37:02.0000] <estellevw>
yes, there is an Adobe plugin for <embed src=x.svg  type="image/svg+xml" to work in IE

[11:37:03.0000] <AryehGregor>
I take "current generation" to mean "the latest release of everything".

[11:38:00.0000] <Workshiva>
I meant "all versions in significant use"

[11:38:01.0000] <Workshiva>
And I wouldn't consider IE9 current until it's actually released

[11:38:02.0000] <Workshiva>
Anyhoo

[11:38:03.0000] <estellevw>
"The embed element represents an integration point for an external (typically non-HTML) application or interactive content."

[11:38:04.0000] <Workshiva>
<object> and the plugin should work for svg in all relevant graphical browsers

[11:38:05.0000] <estellevw>
therefor I think that svg will be seen as a valid use of embed.

[11:40:00.0000] <AryehGregor>
Is there some reason to use <embed> instead of <object>?

[11:40:01.0000] <AryehGregor>
For anything?

[11:40:02.0000] <estellevw>
should <object> be used to embed the SVG, is the SVG title enough for accessibility?

[11:40:03.0000] <estellevw>
it's in the spec. People will use it.

[11:40:04.0000] <Workshiva>
<embed> is easier to do cross-browser, I'd say

[11:41:00.0000] <Workshiva>
But I wouldn't recommend it

[12:39:00.0000] <annevk>
haha

[12:39:01.0000] <annevk>
bio of http://twitter.com/FreeTheInternet "We Are Anonymous, We Are Legion And Divided By Zero. We Do Not Forgive Internet Censorship And We Do Not Forget Free Speech . We Are Over 9000, Expect Us!"

[13:59:00.0000] <jgraham>
So I gave up trying to use vorbis on OSX when it occured to me that trying to install KDE from MacPorts was insane

[13:59:01.0000] <jgraham>
I'm pretty sure that it is the Apple users that have Stockholm Syndrone

[14:00:00.0000] <jgraham>
s/use/rip CDs as/

[14:14:00.0000] <daedb>
jgraham: Run a Windows application through OSX version of Wine?

[14:24:00.0000] <jgraham>
daedb: That is also insane

[14:25:00.0000] <gsnedders>
jgraham: Lose yourself, go insane?

[14:26:00.0000] <hamcore>
lose yourself in the music, the moment, you own it, you better never let it go .

[14:26:01.0000] <daedb>
jgraham: I was thinking of pre-made bundles like http://www.hydrogenaudio.org/forums/index.php?showtopic=77261 though it still requires X11.

[14:28:00.0000] <hamcore>
I didn't see any mobile sites specification for html5, is there one?

[14:28:01.0000] <jgraham>
hamcore: What is a "mobile sites specification"?

[14:29:00.0000] <jgraham>
I suspect the nswer is "no" though

[14:29:01.0000] <jgraham>
*answer

[14:29:02.0000] <hamcore>
best practices

[14:29:03.0000] <jgraham>
We tend to have a "one web" philosophy

[14:30:00.0000] <hamcore>
nice, thanks.

[14:31:00.0000] <jgraham>
(that doesn't exclude best practices of course, but does tend to exclude "profiles")

[14:33:00.0000] <hamcore>
surely.


2010-07-05
[18:08:00.0000] <MikeSmith>
is there an online tool for checking that background colors conform to WCAG recommendations?

[18:09:00.0000] <Rik`>
MikeSmith: you mean for contrast ?

[18:09:01.0000] <MikeSmith>
Rik`: yeah

[18:09:02.0000] <Rik`>
http://snook.ca/technical/colour_contrast/colour.html

[18:10:00.0000] <Rik`>
this one gives you the HP and WCAG2 rules

[18:10:01.0000] <MikeSmith>
Rik`: cool, thanks

[19:50:00.0000] <nessy>
Hixie: you finished the WebSRT section!?

[19:52:00.0000] <nessy>
now I am curious how to do styling, such as background color and general font settings etc

[19:55:00.0000] <MikeSmith>
yoshiaki: if the dudes you're meeting with have any specific questions I can help with, lemme know

[19:56:00.0000] <MikeSmith>
not trying to be rude, but don't think I need to be there for the whole meeting

[20:06:00.0000] <MikeSmith>
http://code.google.com/p/android/issues/detail?id=1376#c4

[20:06:01.0000] <MikeSmith>
 <DmitryBaranovsk> “We have chosen intentionally to not support SVG in the browser to save space; full SVG adds over 1M to the webkit image size.” No comments.

[20:08:00.0000] <boblet>
MikeSmith: one of the most bone-headed decisions they made

[20:09:00.0000] <MikeSmith>
a disappointing one, at the very least

[20:10:00.0000] <MikeSmith>
for better or worse, SVG has become a de facto piece of the Web platform

[20:11:00.0000] <boblet>
given current high-dpi mobile developments, not having SVG is downright annoying

[20:12:00.0000] <MikeSmith>
to see a browser team unilaterally choosing to omit key pieces of the Web platform from particular OSes/platforms is really disappointing 

[20:14:00.0000] <boblet>
especially one that would have saved me a lot of work :/

[20:15:00.0000] <aho>
ff4 will finally support svg as img's src or as background-image

[20:16:00.0000] <aho>
opera did support that since ages and chrome/chromium also supports it for a while now

[20:16:01.0000] <MikeSmith>
boblet: I could somewhat understand disabling some things on non-smartphone devices that don't have adequate resources

[20:17:00.0000] <aho>
and then i can finally get rid of those stupid object tags

[20:17:01.0000] <MikeSmith>
boblet: but I wonder which devices, exactly, are the ones that they are shipping Android on that don't have adequate resources

[20:17:02.0000] <MikeSmith>
boblet: certainly I would think the HTC devices have adequate resources for it

[20:18:00.0000] <MikeSmith>
here's hoping for ChromeOS mobile

[20:19:00.0000] <Hixie>
nessy: still have to do the rendering rules for it, and the DOM API, and a few minor other things

[20:20:00.0000] <MikeSmith>
I can imagine the argument being made that if a user has a device that doesn't have enough resources for handling SVG, then it's unlikely the user trying to browse the Web on that device is going to have a very adequate user experience anyway

[20:20:01.0000] <nessy>
Hixie: have you thought about adding styling by reusing CSS?

[20:20:02.0000] <nessy>
/me doesn't remember if we had that discussion

[20:20:03.0000] <Hixie>
nessy: yeah it'll be CSS-based

[20:21:00.0000] <nessy>
through a link at the top or something? curious to see an example

[20:21:01.0000] <MikeSmith>
boblet: because such a device would likely like have adequate resources for handling AJAXy sites that make much use of Javascript

[20:22:00.0000] <boblet>
MikeSmith: like I said, boneheaded. bah

[20:22:01.0000] <boblet>
in the absence of foolip can anyone tell me how I’d add microdatajs to a page and generate “download this vcard/ical” links?

[20:25:00.0000] <MikeSmith>
boblet: yeah, blech.. like God does in Revelations 3:16 "So then because thou art lukewarm, and neither cold nor hot, I will spue thee out of my mouth"

[20:25:01.0000] <MikeSmith>
spue spue

[20:26:00.0000] <boblet>
MikeSmith: aah, i needed spue.js huh ;)

[20:26:01.0000] <boblet>
I see your spue and raise you bah humbug

[20:26:02.0000] <MikeSmith>
heh

[20:27:00.0000] <boblet>
for a nested microdata item, does the parent property have the value of all contained text, or only act as a pointer for the nested name-value pair?

[20:27:01.0000] <MikeSmith>
Hixie: fwiw, I added per-element "Microdata property value" subsections to my markup ref

[20:27:02.0000] <MikeSmith>
e.g., http://dev.w3.org/html5/markup/object.html#object-microdata

[20:27:03.0000] <Hixie>
i saw

[20:27:04.0000] <Hixie>
looks good

[20:28:00.0000] <Hixie>
dunno how you'll explain it to people who think microdata isn't in html :-)

[20:28:01.0000] <Hixie>
nessy: using the style sheets in the HTML file

[20:28:02.0000] <boblet>
e.g. for this code sample:

[20:28:03.0000] <boblet>
<p itemscope>The <span itemprop="band">Salter Cane</span> drummer is <span itemprop="members" itemscope><span itemprop="name">Jamie Freeman</span>.</span></p>

[20:28:04.0000] <nessy>
so no reference in the websrt file itself?

[20:29:00.0000] <Hixie>
nessy: if it takes off we can add something to the srt file, dunno if it's really necessary though

[20:29:01.0000] <boblet>
is members equal to Jamie Freeman, the property name with the value Jamie Freeman, or both?

[20:29:02.0000] <Hixie>
nessy: i'd imagine most of the styling will be for web authors trying to make their subs fit their site

[20:29:03.0000] <Hixie>
nessy: most of the time, subtitles on dvds and the like aren't styled at all

[20:29:04.0000] <nessy>
Hixie: makes for little reusability, I guess

[20:30:00.0000] <Hixie>
styles aren't often reused anyway

[20:30:01.0000] <nessy>
Hixie: yeah, that's the current state of tech - I was hoping we can get something more powerful for the web ;)

[20:30:02.0000] <Hixie>
well for the web we'll have css :-)

[20:30:03.0000] <nessy>
Hixie: and thus also for the media players

[20:30:04.0000] <nessy>
yeah :)

[20:31:00.0000] <nessy>
I'm thinking css features will increasingly be able to be rendered in media players

[20:31:01.0000] <nessy>
that's part of "taking off" I guess

[20:42:00.0000] <nessy>
Hixie: did you describe the full spec as at http://damowmow.com/temp/srtspec ?

[20:43:00.0000] <nessy>
ah, don't worry - I was confused - I wondered if you missed the D, L, T, S etc spec - but it's there

[20:53:00.0000] <yoshiaki>
MikeSmith, thank you for your kind!

[20:53:01.0000] <MikeSmith>
hai

[20:56:00.0000] <MikeSmith>
paul_irish: html5rocks.com could maybe use a feed

[20:57:00.0000] <MikeSmith>
for teh "Latest additions" part

[21:14:00.0000] <MikeSmith>
somebody may want to point out to Ben Schwarz on the whatwg mailing list that the value of the rel attribute is a space-separated list of values

[21:14:01.0000] <MikeSmith>
so his <a rel="prefetch next">Next page</a> example is valid

[21:14:02.0000] <MikeSmith>
http://dev.w3.org/html5/spec/links.html#attr-hyperlink-rel

[22:25:00.0000] <MikeSmith>
hmm, maybe also point out that "prefetch" is not allowed link type for <a> anyway...

[23:28:00.0000] <MikeSmith>
there's no way to selectively apply character formatting to individual words in a string of CSS generated text, right?

[23:28:01.0000] <MikeSmith>
I mean, in the value of a CSS "content: " property

[23:29:00.0000] <MikeSmith>
boblet: ↑ ?

[23:29:01.0000] <MikeSmith>
I want to prepend the text "The following example is invalid."

[23:29:02.0000] <MikeSmith>
and I want just the word "invalid" to be bold

[00:44:00.0000] <Slaanesh>
/me ponders MikeSmith's question

[00:49:00.0000] <Slaanesh>
I think the answer was that there's no ::first-word

[00:49:01.0000] <Slaanesh>
And no other selectors on the word level either

[01:15:00.0000] <FastJack>
heh, and no nth-word? ;)

[02:30:00.0000] <boblet>
mikesmith: you want css3-content with p:before {content:"invalid";font-weight:bold;} p:before(2) {content:"This is ";}. unfortunately browsers do not love you.

[02:32:00.0000] <asmodai>
hsivonen: Is that 3.6.7 a beta or not?

[02:32:01.0000] <boblet>
mikesmith: you could add 2nd :before on a nested or parent element if there’s a convenient one, otherwise the super-fugly hack would be p::after {content:"This is ";float:left;margin-right:.3em;} 

[02:35:00.0000] <boblet>
mikesmith: check chat log — just replied

[02:35:01.0000] <MikeSmith>
k

[02:56:00.0000] <boblet>
bbl

[02:56:01.0000] <boblet>
oh anyone know when foolip will be around?

[02:57:00.0000] <boblet>
(guessing he’s off enjoying RL or something atm)

[03:00:00.0000] <nielsle>
If browsers get full screen html5 capability, how easy will it be to create a page that looks like a login screen and steal peoples passwords?

[03:02:00.0000] <kennyluck>
lol

[03:03:00.0000] <annevk>
nielsle, there will be keyboard restrictions

[03:07:00.0000] <nielsle>
So in order to make a fully canvas based solution then I need to write some javascript that reads which key people are pressing at a given type, and write the corresponding "*" in the correct area of the canvas.

[03:08:00.0000] <nielsle>
type -> time

[03:08:01.0000] <annevk>
well you cannot, because there are keyboard restrictions

[03:09:00.0000] <nessy>
like going into TV remote control mode? ;)

[03:15:00.0000] <MikeSmith>
nielsle: there's recently been on a long discussion on the whatwg mailing list about how to make full-screen video secure

[03:15:01.0000] <MikeSmith>
dunno if you saw that yet or not

[03:17:00.0000] <nielsle>
I am googling for it :)

[03:24:00.0000] <nielsle>
Ah, here it is. Thank you for the answers. I feel safer on the internet now. http://thread.gmane.org/gmane.org.w3c.whatwg.discuss/24221/focus=24271

[04:12:00.0000] <Philip`>
jgraham: http://news.bbc.co.uk/1/hi/entertainment_and_arts/10507286.stm may be relevant to your interests

[04:13:00.0000] <Philip`>
(if you haven't seen it already)

[05:37:00.0000] <gsnedders>
jgraham: We have Jeppe to replace you, FYI.

[05:37:01.0000] <gsnedders>
(for fika)

[05:58:00.0000] <remysharp>
I might be missing something here, but any ideas every browser renders a canvas 1px width line as 2px? example: http://jsbin.com/apeti3/3

[05:58:01.0000] <remysharp>
(sorry - I said every - I've not checked IE9pre3 yet)

[06:00:00.0000] <Peter`>
Looks like the browser is trying to render it between the two pixels and thus applies anti-aliasing

[06:03:00.0000] <annevk>
yeah, iirc lines are drawn from the middle point

[06:03:01.0000] <Peter`>
If you move the line to 10.5x10.5 instead of 10x10 it's perfectly sharp

[06:03:02.0000] <annevk>
or you could use rectangles, though that may be slower

[06:04:00.0000] <remysharp>
Peter`: blimey - who knew!

[06:04:01.0000] <remysharp>
cheers for the tip

[06:06:00.0000] <Peter`>
No problem :)

[06:07:00.0000] <annevk>
the spec prolly ought to define it

[06:11:00.0000] <Peter`>
11 replies on Twitter, two here, hmmmm

[06:12:00.0000] <remysharp>
Peter`: I'm never sure how quick replies come in on #whatwg :-)

[06:12:01.0000] <remysharp>
it makes for a good backup :)

[06:14:00.0000] <Peter`>
Indeed :-)

[06:26:00.0000] <boblet>
remysharp: IRC is good for those of us without thousands of groupies :P

[06:28:00.0000] <remysharp>
boblet: groupies help ;-)

[06:29:00.0000] <boblet>
remysharp: lucky for some — none of the bots and spammers following me help much :)

[06:33:00.0000] <annevk>
remysharp, http://lists.w3.org/Archives/Public/www-style/2010Jul/0040.html

[06:34:00.0000] <remysharp>
annevk: not mine I'm afraid to say (if that was your intent)

[06:35:00.0000] <annevk>
oh, I thought you were behind html5rocks

[06:35:01.0000] <remysharp>
annevk: nah, html5demos - hence the ugly grey :)

[06:35:02.0000] <boblet>
annevk: that’s Chrome dev team, paul_irish is one contact

[06:35:03.0000] <annevk>
ah okay

[06:35:04.0000] <remysharp>
Paul Irisi might be a starting point

[06:35:05.0000] <annevk>
it doesn't really matter

[06:37:00.0000] <boblet>
annevk: it’s all in svn and you can add patches to comments in the Google Code repo

[06:38:00.0000] <boblet>
and file bugs. there was already a bug for transition examples being webkit only, but I already submitted patches for most of them

[06:38:01.0000] <annevk>
good good; it seems we need to change the specification and Opera to match WebKit

[06:40:00.0000] <boblet>
annevk: http://code.google.com/p/html5-slides/issues/detail?id=20&can=1&q=css

[06:40:01.0000] <boblet>
your issue is different tho so file a new issue

[06:44:00.0000] <Philip`>
remysharp: http://diveintohtml5.org/canvas.html#pixel-madness

[06:44:01.0000] <remysharp>
Philip`: damn that man, I didn't cover any of that madness in Bruce and my book!

[06:44:02.0000] <remysharp>
well - at least it's a bit of proof that we didn't read his book first :D

[06:45:00.0000] <boblet>
tehehe

[06:52:00.0000] <Philip`>
remysharp: If I remember correctly, he didn't cover it either, until I pointed out why the lines in his examples were all fuzzy :-)

[06:52:01.0000] <boblet>
the advantage of writing in the open :)

[06:52:02.0000] <boblet>
(not that I am)

[06:52:03.0000] <remysharp>
Philip`: absolutely the advantage of an online book. Bruce and I wanted to something similar, but our publishers weren't game :(

[06:54:00.0000] <annevk>
can't you just write and then find a publisher later?

[06:54:01.0000] <Philip`>
/me would be happy to review offline books too, in exchange for vast quantities of money :-p

[06:55:00.0000] <boblet>
remysharp: I wanted to do the book as a website then generate the print copy via print styles. naive fool that I was

[06:55:01.0000] <boblet>
(that’s why oli.jp is quite reminiscent of print) 

[06:56:00.0000] <Philip`>
Would publishers prefer you to do the book as a website then copy-and-paste into Word before they edit and print it?

[06:56:01.0000] <boblet>
Philip`: would you like to read about microdata? ;)

[06:57:00.0000] <Philip`>
boblet: Unfortunately I know very little about that

[06:57:01.0000] <zcorpan_>
/me is happy to review html5 books

[06:57:02.0000] <boblet>
Philip`: publishers prefer you use their shitty-ass MS Word templates right from the start

[06:58:00.0000] <boblet>
/me was rather depressed to discover his website had better typography than a professional publisher did

[07:01:00.0000] <boblet>
I actually wanted to have an online version of the book be part of the purchase price

[07:03:00.0000] <boblet>
publishers are just as prehistoric as record labels and movie studios sadly (well apart from a couple of indy exceptions which already have HTML5 books coming out)

[07:03:01.0000] <Philip`>
Do people still make books with CDs inside the back cover?

[07:03:02.0000] <Philip`>
You could put the web site content onto that

[07:04:00.0000] <Philip`>
(That would be entirely missing the point of the web, but it'd be better than nothing)

[07:06:00.0000] <boblet>
Philip`: nah they have code snippet sites. but it’d be much better to have a website that you could then store locally, copy&paste from, access on a bunch of devices etc

[07:06:01.0000] <boblet>
(as in a website with the full content of the book)

[07:07:00.0000] <annevk>
so why seek out a publisher that prevents that?

[07:07:01.0000] <annevk>
/me still doesn't quite get it

[07:07:02.0000] <annevk>
is there more money to be made or so if you give in freedom?

[07:28:00.0000] <boblet>
annevk: in my case I’m not famous, so it’s selling my soul for the cred that comes with being published

[07:28:01.0000] <boblet>
sad but true

[07:29:00.0000] <boblet>
I suspect the current model will be in crisis in a couple of years as Five Simple Steps and A Book Apart start to steal all the good authors

[07:30:00.0000] <boblet>
and other indy publishers, self-publishing etc

[07:30:01.0000] <boblet>
so re: microdata “Properties can also have values that are URLs. This is achieved using the a element and its href attribute, the img element and its src attribute, or other elements that link to or embed external resources”

[07:30:02.0000] <boblet>
why doesn’t mpilgrim have script in his list?

[07:31:00.0000] <boblet>
http://diveintohtml5.org/extensibility.html#property-values

[07:39:00.0000] <zcorpan_>
because script is not listed in http://www.whatwg.org/specs/web-apps/current-work/complete/microdata.html#values

[07:40:00.0000] <zcorpan_>
"The URL property elements are the a, area, audio, embed, iframe, img, link, object, source, and video elements."

[07:40:01.0000] <boblet>
zcorpan_: aah, I didn’t check the encoding part. d’oh

[07:40:02.0000] <boblet>
thanks

[07:49:00.0000] <annevk>
boblet, there's just as much cred for publishing online, no?

[07:50:00.0000] <annevk>
boblet, if not more as it makes it much easier to see if your stuff is actually legit :)

[07:51:00.0000] <boblet>
annevk: I think you need to have some level of network first. there’s also the … monetisation issue

[07:52:00.0000] <boblet>
(not that publishing traditionally makes any money unless you have a bazillion reprints)

[07:52:01.0000] <boblet>
that’s what I have been doing too with my weblog and html5doctor :)

[07:53:00.0000] <boblet>
/me wonders if his lack of network is due to his stuff not being legit

[08:01:00.0000] <boblet>
(psst that was everyone’s chance to say “no, no! your stuff is great!” btw :P )

[08:05:00.0000] <Dashiva^2>
I think they stumbled on your use of 'legit'

[08:07:00.0000] <akamike>
Dr boblet your incisions are of the highest quality and i have never seen a man attempt 3 double bypasses at the same time

[08:07:01.0000] <akamike>
and succeed...

[08:07:02.0000] <annevk>
boblet, a book is different from a couple of blog posts, but maybe indeed you are not legit :p

[08:07:03.0000] <Workshiva>
As dual-classed ranger/ranger I can dual wield my dual wield

[08:10:00.0000] <boblet>
akamike: you are a scholar and a gentleman

[08:10:01.0000] <boblet>
(the rest of you rabble on the other hand… :P )

[08:10:02.0000] <boblet>
hehe

[08:11:00.0000] <boblet>
here’s hoping I climb the mountain, indeed

[08:11:01.0000] <boblet>
bbl

[08:16:00.0000] <zcorpan_>
Philip`: i get a fraud warning in opera for philip.html5.org :)

[08:18:00.0000] <annevk>
wow

[08:18:01.0000] <annevk>
quite the bug

[08:19:00.0000] <Peter`>
remysharp: I think your Tron mmo uses an outdated version of WebSocket, it's missing the 'sec-websocket-origin' header

[08:19:01.0000] <remysharp>
Peter`: yeah, it doesn't work on Chrome 6

[08:19:02.0000] <remysharp>
:(

[08:20:00.0000] <Peter`>
Works fine on Firefox though

[08:21:00.0000] <remysharp>
yeah - flash shim ftw :)

[08:21:01.0000] <remysharp>
not mine - obviously someone way smarter :)

[08:27:00.0000] <Philip`>
zcorpan_: It'd be nice if the warning gave some details that made it possible to debug

[08:27:01.0000] <Philip`>
e.g. to determine if it's a false positive or not

[11:05:00.0000] <llrcombs>
hey, what's the rule for right-clicking on <object>s and <embed>s?

[11:36:00.0000] <karlushi>
/me wonders if webkit became stricter for cookies

[11:36:01.0000] <karlushi>
encoding

[11:38:00.0000] <Workshiva>
Dear lazy IRC, can I customize the time zone used for \t in a bash prompt?

[11:41:00.0000] <karlushi>
Workshiva, do you want the local time, or the TZ info?

[11:41:01.0000] <Philip`>
Workshiva: Do you want to change it independently of other applications?

[11:42:00.0000] <Workshiva>
I'd be fine with changing it in all applications, but I can't change the system timezone

[11:43:00.0000] <Philip`>
You could put TZ=Whatever in .bash_profile

[11:44:00.0000] <Philip`>
(where Whatever is something from /usr/share/zoneinfo)

[11:45:00.0000] <karlushi>
do not use \t and use date something like?: export PS1="[\$(date +%k:%M:%S)]> "

[11:45:01.0000] <Workshiva>
TZ seems to work

[11:46:00.0000] <Workshiva>
Thanks lazy IRC!

[11:46:01.0000] <Philip`>
/me thanks http://www.gentoo.org/doc/en/guide-localization.xml

[12:17:00.0000] <karlushi>
/me is discovering the webkit difference of handling cookies with commas http://cookietest.livelyconsulting.com/

[12:32:00.0000] <karlushi>
/me wonders if webkit has started to implement https://datatracker.ietf.org/doc/draft-ietf-httpstate-cookie/

[12:37:00.0000] <llrcombs>
hey, what's the rule for right-clicking on <object>s and <embed>s?

[12:44:00.0000] <annevk>
karlushi, I suspect so; given how abarth usually goes about things

[12:50:00.0000] <llrcombs>
assuming it's an empty <object> (say, <object id="nothing"></object>)

[12:51:00.0000] <llrcombs>
should the UA display its own context-menu

[12:51:01.0000] <llrcombs>
or should it ignore it (since no plugin is loaded)

[12:56:00.0000] <karlushi>
annevk, thanks

[13:01:00.0000] <karlushi>
http://assets.en.oreilly.com/1/event/44/TCP%20and%20the%20Lower%20Bound%20of%20Web%20Performance%20Presentation.pdf

[13:02:00.0000] <annevk>
llrcombs, it's up to the UA

[13:02:01.0000] <annevk>
llrcombs, though if the element is not displayed at all there's prolly no context menu for it :)

[13:12:00.0000] <llrcombs>
no, assuming it's displayed, but there's nothing loaded in it

[13:17:00.0000] <annevk>
nothing much really

[13:17:01.0000] <annevk>
semantically in that case it's like <span>

[13:17:02.0000] <annevk>
so you could do whatever you do for <span> I suppose

[13:22:00.0000] <llrcombs>
so, then, WebKit's doing it wrong

[13:22:01.0000] <llrcombs>
good!

[13:22:02.0000] <llrcombs>
good

[13:22:03.0000] <llrcombs>
I've already got a bug report in for that

[13:23:00.0000] <llrcombs>
just wanted to confirm that what I thought was the right way was, in fact, the right way

[13:23:01.0000] <llrcombs>
except, wouldn't it be a block-level element (e.g. a <div>), not a <span>?

[13:23:02.0000] <AryehGregor>
I'm pretty sure the spec doesn't say anything here.

[13:24:00.0000] <AryehGregor>
Behavior is undefined, as with most UI-related things.

[13:24:01.0000] <AryehGregor>
The spec doesn't assume that there's any such thing as a context menu on your platform (and on some platforms, indeed, there's not).

[13:25:00.0000] <llrcombs>
heh

[13:25:01.0000] <llrcombs>
true

[13:26:00.0000] <llrcombs>
and the spec isn't exactly crystal-clear on <embed>s and <object>s either

[13:28:00.0000] <AryehGregor>
Because their functionality is really "give control to some non-HTML program, quite possibly a binary blob controlled by an entirely different party from the browser implementer".

[13:29:00.0000] <llrcombs>
exactly

[13:29:01.0000] <llrcombs>
but the <object> tag was always a bad notation, imho

[14:03:00.0000] <annevk>
llrcombs, nah, <object> like <img> is inline during fallback

[14:03:01.0000] <annevk>
(not that it should matter for what kind of context menu you would get)

[14:28:00.0000] <AryehGregor>
Where is it specced how big iframes should be if they have no height or width?

[14:28:01.0000] <AryehGregor>
/me checks the rendering section

[14:30:00.0000] <AryehGregor>
/me doesn't see it

[14:41:00.0000] <zcorpan_>
i think it's http://www.whatwg.org/specs/web-apps/current-work/complete/rendering.html#embedded-content-2 and http://www.w3.org/TR/CSS2/visudet.html#inline-replaced-width

[14:43:00.0000] <zcorpan_>
or maybe it's not defined properly in html5

[14:43:01.0000] <AryehGregor>
It doesn't say what the intrinsic height and width are supposed to be, though?

[14:44:00.0000] <AryehGregor>
(also, I'm not seeing from CSS what the height is if there's no intrinsic height, width, or ratio)

[14:47:00.0000] <zcorpan_>
it says 150px height for block/inline-block/float, but iframe is inline in opera/webkit/firefox

[14:47:01.0000] <annevk>
CSS 2.1 defines that

[14:47:02.0000] <annevk>
ultimate fallback is 150/300

[14:47:03.0000] <annevk>
for replaced content with no intrinsic height/width

[14:48:00.0000] <AryehGregor>
Where does it say 150px height here?  http://www.w3.org/TR/CSS2/visudet.html#inline-replaced-width

[14:49:00.0000] <zcorpan_>
an iframe pointing to an svg with intrinsic width/height still uses 300x150

[14:49:01.0000] <AryehGregor>
Yes, an iframe without seamless has to be defined to have no intrinsic width or height or ratio.

[14:49:02.0000] <AryehGregor>
It doesn't seem like that is defined anywhere.

[14:49:03.0000] <AryehGregor>
I'll file a bug, I guess.

[14:50:00.0000] <annevk>
AryehGregor, that's width

[14:50:01.0000] <annevk>
AryehGregor, it says 300 there

[14:51:00.0000] <AryehGregor>
Oh, oops.

[14:51:01.0000] <annevk>
AryehGregor, height is defined here http://www.w3.org/TR/CSS2/visudet.html#inline-replaced-height where it says 150

[14:51:02.0000] <AryehGregor>
I see, it has separate sections for height and width.

[14:51:03.0000] <annevk>
and has had for a decade or so :)

[14:53:00.0000] <zcorpan_>
oh that section covered inline as well. i obviously skipped the first few words in the heading

[14:53:01.0000] <zcorpan_>
anyway, those are still not accurate for iframe since browsers always use 300x150 as default

[14:54:00.0000] <annevk>
oh, you're right

[14:54:01.0000] <annevk>
I think I pointed that out once

[14:54:02.0000] <annevk>
that HTML5 should have default style rules for it

[14:54:03.0000] <annevk>
I wonder if I ever filed a bug on that or emailed...

[14:55:00.0000] <zcorpan_>
if it was before whatwg last call, it fell between the cracks

[14:55:01.0000] <AryehGregor>
/me just filed http://www.w3.org/Bugs/Public/show_bug.cgi?id=10091

[14:57:00.0000] <annevk>
meh

[14:58:00.0000] <annevk>
iframe { height:150px; width:300px } is needed

[14:58:01.0000] <annevk>
in the rendering section

[14:58:02.0000] <annevk>
presumably overridden when seamless is specified and the URL is same-origin

[14:59:00.0000] <AryehGregor>
Wouldn't that allow authors to override it with iframe { height: auto; width: auto }?

[15:01:00.0000] <annevk>
zcorpan_, hmm, actually, the problem seems more that iframe creates a "viewport" of its own and that viewport has no intrinsic height/width and therefore the CSS rules apply

[15:02:00.0000] <annevk>
zcorpan_, so the embedded content is not SVG, it's a viewport with SVG on it (something in that direction)

[15:02:01.0000] <llrcombs>
so seamless would do the same thing as iFrames do on iPhone (size themselves to fit their content)?

[15:02:02.0000] <AryehGregor>
Do iframes really do that on the iPhone?

[15:03:00.0000] <llrcombs>
yep

[15:03:01.0000] <llrcombs>
/me is annoyed at LT (local high school)

[15:03:02.0000] <llrcombs>
they have an HTML course

[15:03:03.0000] <llrcombs>
but they have a rule

[15:03:04.0000] <zcorpan_>
also cross-origin?

[15:03:05.0000] <llrcombs>
yes, iirc

[15:03:06.0000] <llrcombs>
go try it!

[15:03:07.0000] <zcorpan_>
i don't have an iphone

[15:04:00.0000] <llrcombs>
that rule is: all tags must be all-caps

[15:04:01.0000] <llrcombs>
.....

[15:04:02.0000] <llrcombs>
/me pulls up the iSim

[15:04:03.0000] <llrcombs>
I'm pretty sure that's what MobileSafari DOES though

[15:05:00.0000] <llrcombs>
/me tests on his virtual iPhone 4

[15:07:00.0000] <llrcombs>
yep

[15:08:00.0000] <llrcombs>
given style="width: 100; height: 100;", it resizes the width to the minimum height to display correctly

[15:08:01.0000] <llrcombs>
and the height to the height of the page

[15:08:02.0000] <llrcombs>
(correctly = without a scrollbar)

[15:09:00.0000] <AryehGregor>
Even cross-origin?

[15:09:01.0000] <AryehGregor>
That sounds like a security vulnerability.

[15:09:02.0000] <llrcombs>
?

[15:09:03.0000] <llrcombs>
all it adjusts is the width+height

[15:09:04.0000] <llrcombs>
I was testing from a data: url, but I remember the same thing happening in W3Schools' TryIt editor

[15:10:00.0000] <AryehGregor>
Width+height leaks info.

[15:10:01.0000] <AryehGregor>
Whether you're logged into the site, for instance.

[15:10:02.0000] <llrcombs>
it's as though the "seamless" attribute is applied to every iframe

[15:10:03.0000] <llrcombs>
ahh, no, it's not actually specified

[15:10:04.0000] <AryehGregor>
And possibly lots of other fun stuff.

[15:10:05.0000] <llrcombs>
not in CSS

[15:10:06.0000] <llrcombs>
it's just as though you'd applied seamless

[15:10:07.0000] <llrcombs>
no vernurability beyond what would be provided by actually adding the seamless attribute

[15:12:00.0000] <AryehGregor>
seamless doesn't work cross-origin.

[15:12:01.0000] <AryehGregor>
For exactly this reason.

[15:12:02.0000] <AryehGregor>
Because it would be a security vulnerability if it did.  :)

[15:12:03.0000] <llrcombs>
and...

[15:12:04.0000] <llrcombs>
Google put the sidebar back

[15:12:05.0000] <llrcombs>
just did it

[15:12:06.0000] <llrcombs>
I googled "iPhone iFrame"

[15:12:07.0000] <llrcombs>
then added "scroll" and voila, the sidebar's back

[15:13:00.0000] <llrcombs>
they always make their changes right when I'm searching stuff

[15:13:01.0000] <llrcombs>
except logos

[15:13:02.0000] <zcorpan_>
a<!--test-->b in VLC shows "a>b"

[15:14:00.0000] <zcorpan_>
a<01:00,000>b also shows "a>b"

[15:14:01.0000] <llrcombs>
#VLC

[15:15:00.0000] <llrcombs>
erm

[15:15:01.0000] <llrcombs>
nvm

[15:15:02.0000] <llrcombs>
ahh

[15:15:03.0000] <llrcombs>
must be one on another server

[15:15:04.0000] <llrcombs>
file a bug report @ their site

[15:15:05.0000] <zcorpan_>
the purpose of my testing is for websrt

[15:15:06.0000] <llrcombs>
ooh boy websrt

[15:16:00.0000] <llrcombs>
/me can't wait for WK to add support for that

[15:17:00.0000] <zcorpan_>
it seems to ignore an unclosed <i> altogether and drops the whole cue if i use <I>

[15:17:01.0000] <Slaanesh>
zcorpan_: VLC is legendary for failing to parse subtitles properly

[15:17:02.0000] <zcorpan_>
Slaanesh: you know any specific examples?

[15:22:00.0000] <erlehmann>
zcorpan_, i once had a subtitle file that was tuned to fail on bad VLC parsing

[15:23:00.0000] <zcorpan_>
erlehmann: you don't have it anymore or can find it again?

[15:23:01.0000] <erlehmann>
while other players coped well with it, VLC only had a continuous stream of YOUR MEDIA PLAYER SUCKS or something like that

[15:23:02.0000] <zcorpan_>
lol

[15:23:03.0000] <Slaanesh>
Yeah, a few groups would make subs like that

[15:23:04.0000] <erlehmann>
i can look for it, but i do not think i have it anymore.

[15:23:05.0000] <erlehmann>
wait.

[15:23:06.0000] <zcorpan_>
media player equivalent of browser sniffing

[15:24:00.0000] <erlehmann>
_██_

[15:24:01.0000] <erlehmann>
(°ᴗƪ)

[15:24:02.0000] <erlehmann>
hilarious insight, chap

[15:25:00.0000] <zcorpan_>
/me successfully used that smiley in srt in vlc

[15:25:01.0000] <Slaanesh>
zcorpan_: Not really, you can't sniff in subtitles

[15:26:00.0000] <Slaanesh>
More like media player equivalent of <blink>

[15:26:01.0000] <zcorpan_>
Slaanesh: you can expose bugs to block some media players

[15:27:00.0000] <Slaanesh>
Yeah, but that's just feature detection 


2010-07-06
[19:49:00.0000] <hsivonen>
asmodai: I don't know about 3.6.7

[19:50:00.0000] <hsivonen>
AryehGregor: what's your reason to assume a connection between DRM (or lack thereof) and content companies suing Google over YouTube?

[19:51:00.0000] <hsivonen>
AryehGregor: as far as I've noticed, the suits have been about content being available on YouTube in any form without prior permission

[20:08:00.0000] <MikeSmith>
James Clark's tweets about his first experiences with Android on newly purchased Galaxy S make for a good read

[20:08:01.0000] <MikeSmith>
http://twitter.com/james_clark/status/17785955624

[20:08:02.0000] <MikeSmith>
"The hardware side of my Galaxy S is not too bad, but the software is a huge disappointment. And I really wanted to like Android"

[20:08:03.0000] <MikeSmith>
http://twitter.com/james_clark/status/17827323159

[20:08:04.0000] <MikeSmith>
"Learning to use this phone is full of "What the f*** were they thinking?" moments."

[20:09:00.0000] <MikeSmith>
http://twitter.com/james_clark/status/17833894367

[20:09:01.0000] <MikeSmith>
"I don't know whether I will be able to tolerate the Galaxy S that long. I am *very* tempted to go and buy a 3GS right now."

[20:09:02.0000] <MikeSmith>
http://twitter.com/james_clark/status/17787783222

[20:10:00.0000] <MikeSmith>
"The basic problem I am having with my Galaxy S is that (out of the box) it syncs incompletely with the cloud and not at all with my Mac."

[20:10:01.0000] <jwm>
bah

[20:10:02.0000] <MikeSmith>
jwm: is that a good bah or a bad bah?

[20:15:00.0000] <jwm>
it's a silly post

[20:15:01.0000] <jwm>
something just like the EVO post

[20:15:02.0000] <jwm>
these people aren't use to android

[20:16:00.0000] <MikeSmith>
EVO post?

[20:17:00.0000] <jwm>
yeah, some old guy for a big newspaper wrote an article on his first impressions of the EVO

[20:18:00.0000] <MikeSmith>
ah

[20:18:01.0000] <jwm>
but it was his first time using android too

[20:18:02.0000] <jwm>
all the phone reviews seem to come from android newbies

[20:18:03.0000] <jwm>
in mainstream press

[20:18:04.0000] <MikeSmith>
well, good, I'm relieved to find out that there are no problems with usability on Android

[20:18:05.0000] <MikeSmith>
reassured

[20:18:06.0000] <jwm>
heh

[20:19:00.0000] <MikeSmith>
:)

[20:19:01.0000] <jwm>
there are usability problems with every system

[20:19:02.0000] <MikeSmith>
true

[20:19:03.0000] <MikeSmith>
especially the early versions

[20:19:04.0000] <jwm>
android no worse than others imo

[20:19:05.0000] <jwm>
I don't think android is that pretty of course

[20:19:06.0000] <jwm>
I like webos better

[20:20:00.0000] <jwm>
but I like the fact they are all built on open systems

[20:20:01.0000] <MikeSmith>
I've not tried webos yet

[20:20:02.0000] <MikeSmith>
yeah

[20:20:03.0000] <MikeSmith>
I would like for webos to do well

[20:20:04.0000] <jwm>
I like my pre better than my gf likes her moment (android)

[20:20:05.0000] <MikeSmith>
cool

[20:20:06.0000] <jwm>
I just want an open system to win

[20:21:00.0000] <MikeSmith>
I hope HP helps to seriously improve on it instead of muffing it up

[20:21:01.0000] <jwm>
I don't have much faith in corporate

[20:21:02.0000] <jwm>
hehe

[20:22:00.0000] <MikeSmith>
yeah

[20:22:01.0000] <jwm>
I think systems like webos are probably the future

[20:22:02.0000] <MikeSmith>
hope so

[20:22:03.0000] <jwm>
webos, chrome os, meebo

[20:23:00.0000] <jwm>
er meego

[20:23:01.0000] <MikeSmith>
HP could really help .. they make some decent integrated software as part of the printer, etc., appliances they sell

[20:23:02.0000] <jwm>
yeah

[20:24:00.0000] <jwm>
I think all these platforms are converging on linux... which is great

[20:24:01.0000] <MikeSmith>
yeah

[20:24:02.0000] <jwm>
it'll make it even more likely for an even more open / capable system to replace them all later on

[20:25:00.0000] <MikeSmith>
Linux is especially a big improvement over what many device makers were previously using on their devices

[20:25:01.0000] <jwm>
yeah

[20:25:02.0000] <MikeSmith>
some of them used to have their own OSes

[20:25:03.0000] <MikeSmith>
or some still o

[20:25:04.0000] <MikeSmith>
*do

[20:25:05.0000] <MikeSmith>
e.g., Kyocera

[20:25:06.0000] <jwm>
windowsce, symbian, etc

[20:25:07.0000] <MikeSmith>
those are in a different class than many device-makers OSes

[20:25:08.0000] <MikeSmith>
those at least are cross-maker

[20:26:00.0000] <jwm>
ios

[20:26:01.0000] <jwm>
hehe

[20:29:00.0000] <jwm>
MikeSmith: you like websockets?

[20:30:00.0000] <MikeSmith>
jwm: yeah, I expect it's going to prove to be pretty useful

[20:31:00.0000] <MikeSmith>
the way the websocket feature has evolved from what Hixie originally specced is interesting 

[20:31:01.0000] <MikeSmith>
somebody could write a pretty good article about that

[20:32:00.0000] <MikeSmith>
"A case study in iterative spec evolution" or whatever

[20:38:00.0000] <MikeSmith>
jwm: are you a websockets afficiando?

[20:41:00.0000] <hsivonen>
MikeSmith: the development of HTML5 and related specs have a number of potential Bachelor's and Master's theses lurking in there

[20:42:00.0000] <MikeSmith>
true that

[20:42:01.0000] <hsivonen>
MikeSmith: also a potential PhD thesis in social sciences or psychology

[20:42:02.0000] <MikeSmith>
heh

[20:43:00.0000] <MikeSmith>
I often have felt of the last 3 years that I wish I had studied sociology more in university

[20:43:01.0000] <MikeSmith>
instead of mocking the people who were studying it

[20:44:00.0000] <MikeSmith>
because I think it would have helped to give me some insights that I have otherwise had to learn the hard way

[20:49:00.0000] <jwm>
MikeSmith: yeah I am

[20:49:01.0000] <jwm>
MikeSmith: I want websocket server support in browsers though

[20:49:02.0000] <jwm>
MikeSmith: hixie doesn't

[20:50:00.0000] <MikeSmith>
websocket server support in browsers?

[20:50:01.0000] <jwm>
yeah

[20:50:02.0000] <MikeSmith>
why?

[20:50:03.0000] <jwm>
I want peer to peer in browsers 

[20:50:04.0000] <jwm>
badly

[20:50:05.0000] <jwm>
true p2p not what hixie is proposing

[20:51:00.0000] <jwm>
he wants hybrid p2p

[20:51:01.0000] <MikeSmith>
having websockets servers in browsers doesn't seem like true p2p to me

[20:52:00.0000] <jwm>
it'd allow for p2p communication from client to client without a central server

[20:52:01.0000] <jwm>
just a simple directory list that you could get utilizing services or downloads you could find on the web

[20:52:02.0000] <jwm>
or connecting to a friend

[20:54:00.0000] <MikeSmith>
I see

[20:54:01.0000] <jwm>
granted you have to transfer stuff in text using mimetypes for now

[20:55:00.0000] <jwm>
until 8bit binary safe websockets is in browsers (if it gets there)

[21:08:00.0000] <MikeSmith>
it would be nice to get an implementation of the contextmenu attribute

[21:27:00.0000] <kennyluck>
hey, MikeSmith, here's the agenda for COSCUP 2010

[21:27:01.0000] <kennyluck>
http://coscup.org/2010/en/program

[21:27:02.0000] <MikeSmith>
volkmar: any clues on possible contextmenu plans?

[21:28:00.0000] <MikeSmith>
kennyluck: thanks

[21:29:00.0000] <MikeSmith>
kennyluck: looks great

[21:30:00.0000] <kennyluck>
you're on the only track which is exciting, I guess. MikeSmith :)

[21:30:01.0000] <MikeSmith>
no, the whole event looks pretty good to me, actually

[21:31:00.0000] <MikeSmith>
kennyluck: but what I'm thinking I might do is take my daughter sightseeing on the 15th

[21:31:01.0000] <MikeSmith>
for at least part of the day

[21:31:02.0000] <MikeSmith>
are you planning on attending the whole day on the 15th?

[21:35:00.0000] <kennyluck>
Hmm.. I see nothing interesting on 8/15.

[21:35:01.0000] <kennyluck>
Can I join you, MikeSmith?

[21:35:02.0000] <MikeSmith>
yeah sure man

[21:35:03.0000] <MikeSmith>
you are going to be our tour guide :)

[21:36:00.0000] <kennyluck>
Hehe.

[21:38:00.0000] <MikeSmith>
kennyluck: naoko and I are stepping out for lunch in a bit

[21:38:01.0000] <MikeSmith>
you on campus yet?

[21:39:00.0000] <kennyluck>
I am, but I have duty at Hagino-ken

[21:39:01.0000] <kennyluck>
you at t45 already?

[21:39:02.0000] <MikeSmith>
yeah

[21:40:00.0000] <MikeSmith>
anyway, we will be a gakushoko

[21:40:01.0000] <MikeSmith>
headed out right now

[21:40:02.0000] <kennyluck>
OK.

[21:41:00.0000] <kennyluck>
I'm going, too.

[22:46:00.0000] <MikeSmith>
/me wishes there were more status pages like https://wiki.mozilla.org/User:Mounir.lamouri/HTML5_Forms

[22:46:01.0000] <MikeSmith>
/me finds https://wiki.mozilla.org/Tantek-Mozilla-projects

[22:47:00.0000] <MikeSmith>
/me finds context-menu listed in https://wiki.mozilla.org/Tantek-Mozilla-projects#Possible_new_HTML5_UI_elements

[23:27:00.0000] <MikeSmith>
with Mozilla folk getting together for the Summit this week, might be good to get a spotlight onto what the dev plans are for some as-yet-unimplemented-in-gecko HTML5 features

[23:52:00.0000] <MikeSmith>
https://bug-41650-attachments.webkit.org/attachment.cgi?id=60587 is interesting

[00:10:00.0000] <MikeSmith>
some good entertainment value in general in the bug comments for the webkit treebuilder work

[00:10:01.0000] <MikeSmith>
e.g., https://bugs.webkit.org/show_bug.cgi?id=41654#c2

[00:11:00.0000] <MikeSmith>
I think its a sign of the inevitable madness that ensues among those who implement the parsing algorithm

[01:59:00.0000] <MikeSmith>
http://trac.webkit.org/changeset/62529

[01:59:01.0000] <MikeSmith>
[[

[01:59:02.0000] <MikeSmith>
Add WebSocket resource type to Web Inspector.

[01:59:03.0000] <MikeSmith>
When a new WebSocket connection is established, a line for that connection

[01:59:04.0000] <MikeSmith>
will appear in Web Inspector's Resources tab. If the resource name is

[01:59:05.0000] <MikeSmith>
clicked, the details of handshake request and response will be shown.

[02:00:00.0000] <MikeSmith>
]]

[02:00:01.0000] <MikeSmith>
that sounds pretty neat

[02:00:02.0000] <MikeSmith>
apparently it broke the build, but I'm sure yutak will manage to that fixed pdq

[02:17:00.0000] <yutak>
Yep, I'm working on a fix

[02:20:00.0000] <annevk>
don't you want to see the actual bytes being exchanged as well?

[02:22:00.0000] <yutak>
I'm planning to add the actual messages (not only bytes) into Web Inspector

[02:36:00.0000] <kennyluck>
Hmm.. does <input type='color'> only allows English color names? Or is this undefined in the spec and browser-specific?

[02:37:00.0000] <MikeSmith>
kennyluck: defined in the CSS spec

[02:37:01.0000] <MikeSmith>
not browser-specific

[02:38:00.0000] <kennyluck>
Anyway, I guess a color panel would be the common UI in the future.

[02:39:00.0000] <kennyluck>
I am looking at http://slides.html5rocks.com/#slide21 with Safari

[02:39:01.0000] <kennyluck>
It's just too weird for me to see "red" being valid but "赤い" not.

[02:39:02.0000] <MikeSmith>
and I don't think the HTML5 spec allows the CSS English color names there

[02:40:00.0000] <MikeSmith>
not sure but you could check the spec

[02:41:00.0000] <MikeSmith>
or maybe someebody else here knows

[02:41:01.0000] <MikeSmith>
if a browser allows the english names there, I think it's not conformant

[02:41:02.0000] <kennyluck>
"HTML5 - the markup language" disallows <input type='color' value='red'>

[02:42:00.0000] <kennyluck>
Hmm... Firefox 3.6 does not support :invalid yet.

[02:42:01.0000] <MikeSmith>
kennyluck: my doc is non-normative

[02:43:00.0000] <MikeSmith>
it could be there was a change to the spec since after I put that datatype in my spec

[02:44:00.0000] <zcorpan_>
"The value attribute, if specified, must have a value that is a valid simple color."

[02:44:01.0000] <zcorpan_>
"A string is a valid simple color if it is exactly seven characters long, and the first character is a U+0023 NUMBER SIGN character (#), and the remaining six characters are all in the range U+0030 DIGIT ZERO (0) to U+0039 DIGIT NINE (9), U+0041 LATIN CAPITAL LETTER A to U+0046 LATIN CAPITAL LETTER F, U+0061 LATIN SMALL LETTER A to U+0066 LATIN SMALL LETTER F, with the first two digits representing the red component, the middle two digits

[02:44:02.0000] <zcorpan_>
representing the green component, and the last two digits representing the blue component, in hexadecimal."

[02:45:00.0000] <kennyluck>
I am more interest in the case of client side form validation.

[02:45:01.0000] <MikeSmith>
kennyluck: ↑

[02:45:02.0000] <zcorpan_>
"The value sanitization algorithm is as follows: If the value of the element is a valid simple color, then set it to the value of the element converted to ASCII lowercase; otherwise, set it to the string "#000000"."

[02:45:03.0000] <zcorpan_>
http://www.whatwg.org/specs/web-apps/current-work/complete/number-state.html#color-state

[02:45:04.0000] <kennyluck>
As I said Safari considers "red" valid and "赤い" not

[02:46:00.0000] <kennyluck>
Let me see what "valid simple color" is...

[02:46:01.0000] <zcorpan_>
i quoted it above :)

[02:46:02.0000] <kennyluck>
AhAh, OK. I thought "red", "blue", bra... were valid simple color

[02:47:00.0000] <kennyluck>
/me was checking http://slides.html5rocks.com/#slide21

[02:47:01.0000] <kennyluck>
oops

[02:47:02.0000] <kennyluck>
/me was checking http://www.whatwg.org/specs/web-apps/current-work/#client-side-form-validation

[02:48:00.0000] <Smylers>
kennyluck: The interface a browser displays to the user and which values it sends to a server are two different things.

[02:48:01.0000] <zcorpan_>
kennyluck: that section is non-normative

[02:49:00.0000] <kennyluck>
Yes, so I guess this is browser-specific?

[02:49:01.0000] <Smylers>
A browser could let a user type in ‘red’ but then internally translate that to, say, #FF0000.

[02:49:02.0000] <MikeSmith>
Smylers: good point, yeah

[02:49:03.0000] <Smylers>
A browser could also provide a colour wheel to click at a colour, or a camera for you to photograph a colour, or ...

[02:49:04.0000] <zcorpan_>
does safari allow you to set .value = 'red' ?

[02:49:05.0000] <zcorpan_>
and still be valid?

[02:50:00.0000] <MikeSmith>
kennyluck: btw, you might enjoy the multipage version of the spec - http://www.whatwg.org/specs/web-apps/current-work/multipage/

[02:50:01.0000] <kennyluck>
I am playing with http://slides.html5rocks.com/#slide21

[02:51:00.0000] <kennyluck>
If you type "red" into it, it's no longer :invalid

[02:51:01.0000] <kennyluck>
I guess this might just be some odd browser behavior.

[02:52:00.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/534

[02:52:01.0000] <zcorpan_>
it's a bug

[02:52:02.0000] <kennyluck>
Notice that, with Safarai, if you click the "down" button of <input type="number"> when there's a invalid string it, you got weird number.

[02:52:03.0000] <kennyluck>
I just got 1.7976931348623157e+308

[02:53:00.0000] <kennyluck>
(maybe it's not weird but 2^1024, say, maybe I should remember it)

[02:54:00.0000] <erlehmann>
zcorpan_, no, it's a feature !

[02:54:01.0000] <MikeSmith>
zcorpan_: could it be that it's just showing "red" in the UI but actually setting .value to the corresponding hex color value?

[02:55:00.0000] <annevk>
this is no UI though

[02:55:01.0000] <zcorpan_>
MikeSmith: no, see the livedom link above

[02:55:02.0000] <annevk>
WebKit went about this in completely the wrong way :/

[02:55:03.0000] <erlehmann>
kennyluck, to use named colors is questionable at best. look up the xkcd color survey.

[02:55:04.0000] <MikeSmith>
/me looks at livedom link

[02:55:05.0000] <annevk>
implementing only 10% of the feature or so

[02:55:06.0000] <MikeSmith>
/me looks around for tkent

[02:56:00.0000] <annevk>
but we knew that already

[02:57:00.0000] <erlehmann>
kennyluck, http://blog.xkcd.com/2010/05/03/color-survey-results/

[02:57:01.0000] <kennyluck>
Thanks, erlehmann.

[02:58:00.0000] <erlehmann>
summary: no one is right. everyone is wrong.

[02:58:01.0000] <MikeSmith>
kent says, "it should be removed."

[02:58:02.0000] <MikeSmith>
meaning that it's a known issue, I suppose

[02:58:03.0000] <MikeSmith>
and it will be changed

[02:59:00.0000] <kennyluck>
OK, thanks all.

[03:17:00.0000] <MikeSmith>
kennyluck: anyway, what you really need to keep in mind is that the Internet is pretty much like MTV

[03:17:01.0000] <MikeSmith>
and remember that MTV was once hip, but that suddenly it became outdated

[03:18:00.0000] <MikeSmith>
that's a sober warning to all of us

[03:19:00.0000] <kennyluck>
Hmm... I don't quite understand though. ;)

[03:19:01.0000] <MikeSmith>
kennyluck: it's something wise

[03:19:02.0000] <MikeSmith>
something to think about

[03:20:00.0000] <MikeSmith>
wow, here's an amazing coincidence -

[03:20:01.0000] <MikeSmith>
http://mashable.com/2010/07/06/prince-the-internet-is-over/

[03:21:00.0000] <MikeSmith>
that article quotes Prince as saying pretty much word-for-word the same sentiment that I just expressed here first

[03:21:01.0000] <Workshiva>
You should definitely sue

[03:22:00.0000] <MikeSmith>
I just appreciate the fact that he seems to be an insightful guy

[03:22:01.0000] <MikeSmith>
just like me

[03:22:02.0000] <kennyluck>
I am afraid that I am too addicted to the Internet.

[03:22:03.0000] <kennyluck>
lol

[03:24:00.0000] <zcorpan_>
kennyluck: realising that you're addicted is the first step to cure it

[03:24:01.0000] <MikeSmith>
kennyluck: you should switch to computer gaming

[03:24:02.0000] <MikeSmith>
that's a much more productive use of time

[03:24:03.0000] <kennyluck>
/me just finished a game this weekend.

[03:25:00.0000] <kennyluck>
oh, I meant computer game playing.

[03:25:01.0000] <workmad3>
zcorpan_: who *wants* to cure internet addiction? :)

[03:25:02.0000] <kennyluck>
I don't! For sure.

[03:26:00.0000] <MikeSmith>
/me steps out to go buy some 12-inch singles

[03:27:00.0000] <hendry>
hey guys, is there a good goto to see the level of support of Web Forms 2 features in webkit?

[03:28:00.0000] <zcorpan_>
hendry: paste this in the address bar: javascript:(function(){alert('It sucks.')})()

[03:28:01.0000] <hendry>
zcorpan_: right ;)

[03:29:00.0000] <hendry>
zcorpan_: is there some conspiracy theory as to why?

[03:29:01.0000] <zcorpan_>
hendry: they half-implement the API and no UI at all

[03:29:02.0000] <zcorpan_>
hendry: so the user experience is that you can't submit a form and you have no idea what's wrong

[03:30:00.0000] <zcorpan_>
(opera has a UI that sucks, but at least it tells you what's wrong)

[03:31:00.0000] <hendry>
zcorpan_: agreed

[03:45:00.0000] <MikeSmith>
hendry, zcorpan_ : I think some webkit devs are working very actively on the forms implementation but much of the code just has not landed yet

[03:46:00.0000] <MikeSmith>
and I'd suspect the reason they don't want to land it more incrementally is to avoid repeating the same problem zcorpan_ just described

[03:51:00.0000] <hendry>
MikeSmith: thanks for the explanation

[03:53:00.0000] <AryehGregor>
hsivonen, companies try to negotiate to wrangle all sorts of things out of each other.  Google wants to cooperate with the media companies so that they'll agree to let it host their content on YouTube without suing it.  Refusing on principle to allow any kind of DRM would hurt their bargaining position.

[03:53:01.0000] <AryehGregor>
The media companies don't actually object to the content being on YouTube, they just want more control from and profit over it.

[03:54:00.0000] <AryehGregor>
So they might be a lot happier if there's some kind of DRM, since it reduces the risk of the videos being copied to a site where they don't get a cut of the profits.

[03:55:00.0000] <AryehGregor>
The point is that overall, Google is not in a position where it wants to antagonize the big media companies more than necessary.

[03:55:01.0000] <AryehGregor>
Plus, if there's content the media companies are willing to put on YouTube only if there's DRM there, Google directly profits from that.

[03:55:02.0000] <AryehGregor>
So it's kind of like Steve Jobs' open letter on DRM: "Yeah, it's retarded and anti-user, but we can't really do anything about it, so go complain to the media companies for forcing us to use it."

[04:26:00.0000] <AryehGregor>
/me finally figures out that all of these Buzz posts he's seeing from TabAtkins are actually Twitter posts copied to Buzz

[04:26:01.0000] <AryehGregor>
Now it makes sense, kind of.

[04:27:00.0000] <AryehGregor>
Also reassures me that I don't want to be on Twitter.

[04:42:00.0000] <hendry>
damn, I swear this used to work in Opera http://dabase.com/wf2/

[04:48:00.0000] <hendry>
i take it <button type="add" template="row">Add Row</button> functionality has been removed? having trouble finding it in the spec.

[04:49:00.0000] <AryehGregor>
Yes, that was killed at some point.

[04:49:01.0000] <AryehGregor>
Before I was following HTML5, I think.

[04:49:02.0000] <gsnedders>
We removed a bunch of things from WF2 that were dropped, so entirely possible

[04:54:00.0000] <hendry>
ok, thanks AryehGregor & gsnedders 

[06:15:00.0000] <Slaanesh>
This is probably not the site you are looking for!

[06:15:01.0000] <Slaanesh>
You attempted to reach www.twitter.com, but instead you actually reached a server identifying itself as twitter.com. 

[06:15:02.0000] <Slaanesh>
How useful

[10:53:00.0000] <zcorpan_>
"We need also to contact browser vendors and see if they are willing

[10:53:01.0000] <zcorpan_>
to sit round a table & get conformance/semantics pinned down in a

[10:53:02.0000] <zcorpan_>
future edition." http://www.w3.org/mid/9B2DE9094C827E44988F5ADAA6A2C5DA50C56E⊙Hppc

[10:53:03.0000] <zcorpan_>
sigh

[10:54:00.0000] <zcorpan_>
one and half a year ago, i joined the xml core wg hoping to get conformance/semantics pinned down

[10:55:00.0000] <zcorpan_>
the wg consensus was that there should be no conformance requirements at all

[11:14:00.0000] <annevk>
wow

[11:14:01.0000] <annevk>
various unkind words come to mind

[11:18:00.0000] <hsivonen>
wll, that xml core email isn't nice

[11:18:01.0000] <hsivonen>
*well

[11:35:00.0000] <zcorpan_>
/me replied

[12:18:00.0000] <JonathanNeal>
wtf guys, http://sandbox.thewikies.com/wtf/clear-after.html

[12:18:01.0000] <JonathanNeal>
:)

[12:18:02.0000] <JonathanNeal>
Anyone else seeing this in FF?

[12:54:00.0000] <AryehGregor>
Seeing what?

[12:56:00.0000] <AryehGregor>
Unexpected space at the top?

[12:56:01.0000] <AryehGregor>
Hmm, pretty sure I've seen that bug before.

[12:58:00.0000] <AryehGregor>
https://bugzilla.mozilla.org/show_bug.cgi?id=451791

[13:12:00.0000] <JonathanNeal>
AryehGregor, yea seems familiar.  The whole way content flows is wack.

[15:08:00.0000] <zcorpan_>
/me finds that firefox stringifies null to '' in websocket.send(null)

[15:14:00.0000] <llrcombs>
/me hates that [X] button placement

[16:42:00.0000] <zcorpan_>
hmm, if the opening handshake has content-length, do the 8 bytes still fulfill their intended purpose?

[16:42:01.0000] <zcorpan_>
or should we just drop key3 altogether


2010-07-07
[19:03:00.0000] <AryehGregor>
"The best demos that we’ve seen for D2D support are actually the IE Flying Images and the IE Flickr Explorer demo. Firefox actually performs wonderfully on these demos, better than the IE9 builds in most cases."  Yay.

[19:03:01.0000] <AryehGregor>
And probably Firefox 4 will release before IE9.

[19:03:02.0000] <AryehGregor>
Now if only it has OpenGL support by then too.  Otherwise the IE people will say "We're glad to say what great use other browsers can make of our awesome proprietary Windows(R) technology."

[19:03:03.0000] <MikeSmith>
heh

[19:06:00.0000] <MikeSmith>
I'm sure the Web graphics performance race will continue for quite a while

[19:06:01.0000] <MikeSmith>
with browser projects taking turns leapfrogging past each other

[19:06:02.0000] <MikeSmith>
hopefully

[19:07:00.0000] <AryehGregor>
Unfortunately, I darkly suspect that Linux will do poorly even once hardware acceleration is enabled, unless maybe you use a proprietary driver.

[19:07:01.0000] <AryehGregor>
I guess we'll see.

[19:10:00.0000] <MikeSmith>
fortunately, many desktop Linux users are accustomed to poor user experience and so have low expectations :)

[19:10:01.0000] <Slaanesh>
Implement OpenGL in canvas

[19:10:02.0000] <AryehGregor>
"The -moz-background-size property has been renamed to its final background-size name. -moz-background-size is no longer supported."  Doesn't this encourage authors to specify foo alongside -moz-foo, thereby defeating the point of vendor prefixes?

[19:10:03.0000] <AryehGregor>
Slaanesh, you mean WebGL?

[19:10:04.0000] <Slaanesh>
No, OpenGL 1.5

[19:10:05.0000] <AryehGregor>
A bunch of browsers have experimental implementations of that.

[19:10:06.0000] <AryehGregor>
/me looks up info about WebGL

[19:10:07.0000] <Slaanesh>
WebGL is basically OpenGL ES 2.0

[19:11:00.0000] <AryehGregor>
. . . so what's the difference?

[19:45:00.0000] <MikeSmith>
we are still looking for an editor to pick up work on the WebIDL spec

[19:45:01.0000] <MikeSmith>
http://dev.w3.org/2006/webapi/WebIDL/

[19:46:00.0000] <MikeSmith>
everlasting fame awaits the right person

[19:49:00.0000] <micheil>
Hixie: ping. (re that thread on hybi, just wanted to discuss something with you before repling)

[19:49:01.0000] <micheil>
*replying

[19:49:02.0000] <Hixie>
micheil: that is hardly the only spec awaiting an editor :-)

[19:49:03.0000] <Hixie>
micheil: hey

[19:49:04.0000] <micheil>
howdy'

[19:51:00.0000] <micheil>
Hixie: about the thing with the challenge being sent without a content-length, that was actually an issue when I was implemented the node.js server, this resulted in us changing the node.js http server to do a different thing if a request is an upgrade request, rather then a regular request

[19:51:01.0000] <Hixie>
indeed, that's the idea

[19:51:02.0000] <micheil>
and even now, without a content-length, I'm having to use a guess method to get the header, as if it isn't the right length sent, then I'm having to buffer to ensure it is.

[19:52:00.0000] <micheil>
and when I was implementing, I did check the http spec to find out that node was handling the request fine, according to http spec (which is what the node http parser was design to do), and that websockets weren't actually meeting spec

[19:53:00.0000] <Hixie>
web sockets is meeting the web sockets spec

[19:53:01.0000] <Hixie>
it's not http

[19:53:02.0000] <Hixie>
it just looks like http just enough to make it possible to share the port

[19:53:03.0000] <micheil>
but the initial handshake is over http protocol.

[19:53:04.0000] <Hixie>
no

[19:53:05.0000] <Hixie>
it's web sockets

[19:53:06.0000] <micheil>
well, okay then

[19:53:07.0000] <micheil>
but it does mean that you can't use the same server side parser as you would for compliant http

[19:54:00.0000] <micheil>
which adds a barrier to implementation

[19:54:01.0000] <Hixie>
you can't anyway, that would be non-conformming to web sockets

[19:55:00.0000] <Hixie>
for example, web sockets requires that you ignore continuation lines

[19:55:01.0000] <micheil>
then how could you have a server that does websockets respond to normal GET requests for pages?

[19:55:02.0000] <micheil>
if you don't use http spec in the handshake

[19:56:00.0000] <Hixie>
the only "correct" way to implement it if you really need to share a port with an http server is for the server to decide when it looks at the incoming data whether it thinks it's http or not (e.g. by looking for Upgrade: WebSockets) and if it thinks it is Web Sockets, to hand off the whole buffer and socket to another piece of code

[19:56:01.0000] <Hixie>
the whole "share the port with http" thing was a mistake though, imho

[19:56:02.0000] <micheil>
yeah, which is something that is almost impossible to do within node, without major code changes to the http server

[19:56:03.0000] <micheil>
I'd agree on it being a mistake, but I can see where it'd be useful.

[19:57:00.0000] <Hixie>
well, personally i would recommend not bothering supporting both protocols on one connection

[19:57:01.0000] <Hixie>
on one port i mean

[19:57:02.0000] <Hixie>
(you can never do it on one connection currently)

[19:57:03.0000] <micheil>
and now it's there, it sort of forces websockets to use the http parser, until the http parser know's that the data it's receiving is actually an upgraded http request

[19:57:04.0000] <Hixie>
it doesn't force it unless you decide to share the port

[19:57:05.0000] <Hixie>
which nobody is forcing anyone to do

[19:58:00.0000] <micheil>
although, because it looks like http, that's where people will start serving http off the same server

[19:59:00.0000] <micheil>
it then makes no sense for the websocket protocol to even initialize a connection with a http type header

[19:59:01.0000] <Hixie>
(btw, you can also just hack it by parsing the handshake per http, then handing the socket to the websockets code before sending back the 101)

[20:00:00.0000] <micheil>
that's what I do. 

[20:00:01.0000] <Hixie>
i agree that it makes no sense for the websocket protocol to initialize a connection with a http type header, but it's probably to olate now

[20:00:02.0000] <Hixie>
given the implementations

[20:00:03.0000] <micheil>
node's http parser is evented, so, I get an "upgrade" event from it, instead of a "request" event, when it parsers the headers.

[20:00:04.0000] <Hixie>
makes sense

[20:01:00.0000] <Hixie>
the mail to hybi was about a reverse proxy, btw, not an http server

[20:01:01.0000] <Hixie>
which is a different kettle of fish and is even less valid imho as a complaint

[20:01:02.0000] <micheil>
however, because no content-length on the request body is set, we just have to rely on whatever the rest of the buffer after the headers is as the upgrade header

[20:01:03.0000] <Hixie>
(if you have reverse proxies, you really have no reason to be sharing the port, you surely have enough IP addresses to have a dedicated server)

[20:01:04.0000] <Hixie>
micheil: why?

[20:02:00.0000] <Hixie>
micheil: why can't you handle it the same way as the frames afterwards?

[20:02:01.0000] <micheil>
as far as I can see, if the websocket protocol is going to us a http handshake, and allow you to serve http off a websocket server, then the initial handshake should comply to http spec.

[20:02:02.0000] <micheil>
because, it's sent as one frame.. 

[20:03:00.0000] <Hixie>
"sent as one frame"?

[20:03:01.0000] <Hixie>
what in the http spec does the web socket handshake violate?

[20:04:00.0000] <micheil>
in the sense that my server has always received the data in buffer, in that first data packet it receives from a connection as GET .... \r\n....\r\n\r\nChallenge\r\n

[20:04:01.0000] <micheil>
(maybe not the last \r\n)

[20:04:02.0000] <micheil>
well, from what I'm reading, websockets doesn't send a content-length when it sends a body, which is in violation of http spec.

[20:05:00.0000] <Hixie>
can you cite the actual statement that the handshake is violating?

[20:05:01.0000] <micheil>
more then likely not.

[20:05:02.0000] <Hixie>
i don't understand what you mean about the packets. There's nothing that guarantees the handshake will be in one TCP/IP packet.

[20:06:00.0000] <Hixie>
or that the frames won't be broken across packets.

[20:06:01.0000] <Hixie>
or that the end of the handshake and the start of the first frame won't be in the same packet, if the client didn't check the handshake (which it might not if it's a dedicated command-line client)

[20:06:02.0000] <micheil>
yeah, which is why I'm letting node's http parser handle the parsing of the incoming stream of data until it know's it's an upgrade

[20:07:00.0000] <Hixie>
i don't understand why you can't treat the first 8 bytes as just a spec kind of frame, like the rest of the frames

[20:07:01.0000] <micheil>
because it's often caught by the http parser

[20:08:00.0000] <micheil>
and as it's not stated as a body in the headers, the http parser that complies to spec doesn't know what to do with this extra data

[20:10:00.0000] <Hixie>
what would you do if we put the 8 bytes in the header somehow, and then the client sent a frame along with the handshake so that it appeared in the same packet?

[20:10:01.0000] <micheil>
it's the same issue as what was being seen by the reverse proxy

[20:11:00.0000] <micheil>
if the 8 bytes were as a header, I'd have no problems with that.

[20:11:01.0000] <micheil>
but there's still that backwards compat issue. now that chrome 6 supports draft76, it's going to be a major issue (as chrome auto-updates itself)

[20:12:00.0000] <Hixie>
i don't understand why the 8 bytes are an issue but the terabytes of potential data after the 8 bytes are not

[20:12:01.0000] <micheil>
if you have a "draft77" of the spec, which moves that 8 bytes into a header, then you're going to have then 3 protocols to try and support by the server

[20:13:00.0000] <micheil>
because, the way we're doing it is by hijacking the connection after we've parsed the GET request

[20:14:00.0000] <micheil>
this is all that I actually do outside of the http server in order to determine a websocket request: http://github.com/miksago/node-websocket-server/blob/master/lib/ws.js#L55-66

[20:14:01.0000] <Hixie>
if the first packet from the client is "GET /foo bla bla bla handshake bla bla \r\n\r\n12345678[frame][frame][frame]", why is byte "8" going to be a disastrous problem, but the 0x00 byte immediately after it in the first [frame] in the _same TCP/IP packet_ not going to be a problem?

[20:15:00.0000] <micheil>
because, I've not yet seen any client that sends something like: GET /foo bla bla bla handshake bla bla \r\n\r\n123456780x00

[20:15:01.0000] <Hixie>
there's no reason one couldn't exist

[20:15:02.0000] <micheil>
basically long of the short of what I'm saying is that I agree in adding the content-length

[20:16:00.0000] <micheil>
true, and the content-length would then ensure that the http parser know's to pause reading the buffer after it has received the defined number of bytes

[20:16:01.0000] <Hixie>
so the problem would also be solved by content-length: 0 ?

[20:17:00.0000] <micheil>
yes

[20:17:01.0000] <micheil>
but as the challenge body is part of the initial http request, it'd make more sense to do content-length: 8

[20:17:02.0000] <micheil>
which would fix it for the reverse proxies as well

[20:18:00.0000] <Hixie>
then your server is buggy, because the http spec, as i understand it, says that GET implies content-length:0 if it's missing

[20:19:00.0000] <Hixie>
(content-length:8 would defeat the whole point, which is to make man-in-the-middle proxies fail to send the bytes because they look like the next request)

[20:20:00.0000] <micheil>
I don't actually know the internals of the http parser we're using.

[20:21:00.0000] <micheil>
and I would get the developer of it to explain it more clearly then I could, but he's not around at the moment

[20:23:00.0000] <Hixie>
(i can't actually find where in the http 1.1 spec it says how to determine the length of a GET request without an explicit content-length, but i'm pretty sure it has to assume it's zero, since otherwise you'd never know when the request was finished)

[20:23:01.0000] <micheil>
on the EOF?

[20:23:02.0000] <micheil>
or when you choose to close the request?

[20:24:00.0000] <Hixie>
if you just closed the request you wouldn't be able to get a reply :-)

[20:24:01.0000] <Hixie>
let alone pipeline multiple requests

[20:24:02.0000] <Hixie>
anyway, i'd be fine with adding a content-length:0 header, i just think it's pointless

[20:25:00.0000] <Hixie>
i'd be strongly against adding a content-length:8 header, for multiple reasons:

[20:25:01.0000] <Hixie>
1. it would break the whole point of the 8 bytes

[20:25:02.0000] <Hixie>
2. it would just bury the problem you described, so people would be less likely to test for it, even though the bug would still be there (e.g. with dedicated clients sending frames along with the handshake)

[20:27:00.0000] <micheil>
well, I mean, the way I've designed my websocket server to work, is to work either way, so I'm fine if the spec goes to either way

[20:28:00.0000] <Hixie>
yeah, 3. i'm not convinced it's actually a problem anyway

[20:28:01.0000] <Hixie>
it's probably a little more work for people reusing http servers, but my answer would be to not do that

[20:28:02.0000] <Hixie>
just write dedicated websocket servers, it's trivial to do

[20:29:00.0000] <micheil>
yeah, but parsing the headers of http, like the protocol says you should be doing, is often extremely difficult, and hence the reason people would be inclined to use a http server.

[20:31:00.0000] <micheil>
by extension, because the websocket protocol is sending an upgrade header, and not being a totally different protocol, it is in effect extending the HTTP protocol, so it is valid for it to be handled by a http server, until that server knows otherwise in which case it can handle it correctly

[20:32:00.0000] <micheil>
for instance, you could fire a websocket request at a non-websocket enabled server, and you'd just get back either a bad request response or a connection: closed

[20:33:00.0000] <micheil>
example: https://gist.github.com/7e4459073a89b4ed4ea9

[20:33:01.0000] <micheil>
localhost:80 is just a standard nginx install

[20:34:00.0000] <micheil>
example with a valid url: https://gist.github.com/f25dc66f20f0d372a649

[20:35:00.0000] <Hixie>
micheil: parsing the headers is _not_ hard, it's really easy. it's only hard if you have to share a port with an http server.

[20:35:01.0000] <Hixie>
micheil: don't forget web sockets has far simpler field parsing rules than http's header parsing rules

[20:35:02.0000] <micheil>
which is how the protocol is designed, and it's the most common thing I have requested for my server to do.

[20:36:00.0000] <Hixie>
what's the most common thing you have requested?

[20:36:01.0000] <Hixie>
i don't follow

[20:41:00.0000] <micheil>
the most common thing I have requested that my websocket-server support is to being able to handle standard http requests

[20:41:01.0000] <micheil>
as people want their websocket server to share the port with their http server

[20:42:00.0000] <Hixie>
do they say why?

[20:42:01.0000] <micheil>
because that's what their been told websockets does, and that's how they understand the protocol.

[20:43:00.0000] <micheil>
because it looks like http, people want to treat it as http, and I'm not going to disallow that, because I think it's the right method of going about it.

[20:45:00.0000] <Hixie>
so the reason people want the feature is that it's possible?

[20:45:01.0000] <Hixie>
that's pretty silly

[20:47:00.0000] <micheil>
and it's also how the spec reads. It currently reads in a way that says: "Websocket servers, may optionally also act as HTTP servers"

[20:48:00.0000] <micheil>
to quote: "The opening handshake is intended to be compatible with HTTP-based server-side software, so that a single port can be used by both HTTP clients talking to that server and WebSocket clients talking to that server"

[20:48:01.0000] <micheil>
section 1.3 of the protocol document.

[20:50:00.0000] <micheil>
the way that most people probably read that is that a websocket server should be able to handle http. it may be the wrong way of thinking about it, but it'd take a lot of effort to re-educate that that isn't how the protocol works

[20:50:01.0000] <micheil>
as it is, I have a hard enough time trying to explain to people that there's more to websockets now then what there was in draft75.

[20:51:00.0000] <micheil>
also, by not having a websocket-server act as a http server, you remove the possibility of allow degrades like Sockets.io uses, where by it'll try and use websockets, if that fails, then it'll use comted

[20:51:01.0000] <micheil>
*cometd protocol / bayeux

[20:54:00.0000] <Hixie>
i think it's fine that we make it possible, because there are use cases where it does make sense

[20:54:01.0000] <Hixie>
i'm a little concerned that people are thinking this is the main way to use the protocol

[20:54:02.0000] <Hixie>
because that rather misses the point, which is that writing a custom websocket server is a weekend's work at most

[20:56:00.0000] <micheil>
it's taken me more then a weekend to implement my websocket server, for sure.

[20:56:01.0000] <Hixie>
sure, but you're also doing it with http

[20:56:02.0000] <micheil>
the only case where it's a weekend's work, is if you're highly familiar with IETF specs.

[20:57:00.0000] <Hixie>
if you just do a straight websocket server, with no http at all, it's trivial

[20:57:01.0000] <Hixie>
you just follow the spec

[20:57:02.0000] <Hixie>
it's like 150 lines of perl

[20:57:03.0000] <micheil>
actually, I was able to implement it much easier using the http as a basis.

[20:57:04.0000] <micheil>
because of the different clients I tested, each sent the headers in a slightly different way

[20:58:00.0000] <Hixie>
well, right now it's more difficult than it should be because of the various versions, for sure

[20:58:01.0000] <Hixie>
i just mean once the spec is interoperably implemented

[20:59:00.0000] <micheil>
you'll always have older clients.

[21:00:00.0000] <micheil>
are you going to refuse an IE visitor access to your site because they don't support border-radius? I doubt it.

[21:00:01.0000] <Hixie>
i'm just talking about websockets

[21:01:00.0000] <micheil>
yeah, and in which case, are you going to refuse people using chrome 5 or safari 5 access to your site because they don't support draft76?

[21:01:01.0000] <micheil>
it'd be the same issue as what we get with the CSS spec.

[21:01:02.0000] <Hixie>
both chrome and safari update very very quickly, such that that won't be an issue for long

[21:02:00.0000] <micheil>
umm.. safari hasn't yet updated to draft76, and safari 5 was released when 76 was available, so, go figure.

[21:05:00.0000] <Hixie>
sure, but the spec isn't done yet

[21:05:01.0000] <Hixie>
there might well be further breaking changes

[21:05:02.0000] <Hixie>
my point is that once we're stable, someone implementing a server that just works with compliant clients will be very easy.

[21:10:00.0000] <micheil>
yeah, but we know they clients are generally never compliant

[21:11:00.0000] <micheil>
because even when the spec is stable, you may still have Joe connecting using chrome 5, or safari 5, because their organisation hasn't / can't upgrade to a newer version of the browser

[21:11:01.0000] <micheil>
which while that scenario is unlikely, it's something to plan for, because it will happen.

[21:12:00.0000] <Hixie>
i'm more optimistic :-)

[21:12:01.0000] <micheil>
I've already seen it, and consequentially I've implemented an auto mode in the server to automatically choose which handshake to use be it draft76 or draft75

[21:12:02.0000] <Hixie>
yes, but again, right now is not a normal situation

[21:13:00.0000] <micheil>
and if you tell the server to only support version X, then clients connecting using version Y will be rejected

[21:13:01.0000] <micheil>
but the thing you have is that people want to support the most client's possible.

[21:13:02.0000] <micheil>
there's no point in using websockets now, if you can only use them in chromium 6.

[21:13:03.0000] <micheil>
(and possibly chrome 6 by extension)

[21:14:00.0000] <Hixie>
yes i understand; in due course, however, all the deployed clients will be compliant

[21:14:01.0000] <Hixie>
so it'll be a non-issue

[21:14:02.0000] <micheil>
how many years? 1? 2? 5? 10? 20?

[21:14:03.0000] <micheil>
it'll be the same issue as what has been seen in the css spec and implementation

[21:15:00.0000] <Hixie>
i predicted it would be so by 2022

[21:15:01.0000] <Hixie>
for the stuff that was in web apps 1.0 in 2006, which includes what is now known as web sockets

[21:16:00.0000] <Hixie>
so <12 years?

[21:16:01.0000] <micheil>
right.. so.. basically you're saying that no one should use websockets yet at the moment, when the demand for them is now.

[21:17:00.0000] <Hixie>
demand ain't gonna go down :-)

[21:18:00.0000] <micheil>
are we even going to be using http in 12 years time?

[21:18:01.0000] <micheil>
are we going to be using a web browser as it is today in 12 years time?

[21:18:02.0000] <Hixie>
we were 20 years ago, so, sure

[21:18:03.0000] <Hixie>
what else would we use?

[21:18:04.0000] <micheil>
to put in perspective, I didn't know the web really existed 12 years ago.

[21:19:00.0000] <micheil>
I would've actually only been 5 years old. 12 years is a bloody long time.

[21:19:01.0000] <Hixie>
sure

[21:19:02.0000] <Hixie>
but it takes a bloody long time for things to change, too

[21:22:00.0000] <Hixie>
i don't see why a technology that hasn't been invented yet would be able to take over and be more widely implemented and usable than a technology that already exists

[21:23:00.0000] <micheil>
well, as far as I've seen it's been almost instant with the adoption of changes to the websocket protocl.

[21:23:01.0000] <micheil>
chrome 5 -> chrome 6.

[21:23:02.0000] <micheil>
that's maybe 1 year at most.

[21:24:00.0000] <micheil>
which is very quick adoption.

[21:24:01.0000] <micheil>
but then, only 2 months before chrome 6 was released, we had safari 5 released that was supporting the older spec, not the newest spec.

[21:25:00.0000] <micheil>
as for firefox, opera, and IE, I have no idea where they currently stand on implementing websockets.

[21:25:01.0000] <micheil>
(and I haven't had time to test each version.)

[21:25:02.0000] <Hixie>
i hope that it'll be a lot less than 12 years in practice

[21:25:03.0000] <Hixie>
2022 was just the date for everything in the spec; it's quite possible some things will be ready sooner

[21:26:00.0000] <micheil>
but my point still stands that you'll have some people become dependent on draft75, hence can't upgrade to draft76, hence locking them out of using websites that use draft76

[21:34:00.0000] <Hixie>
micheil: i am seriously completely unconcerned by people getting "dependent" on a draft that is only currently implemented by one browser

[21:34:01.0000] <Hixie>
especially since it was a highly unstable draft

[21:35:00.0000] <Hixie>
and anyone implementing it is basically asking for trouble

[21:35:01.0000] <Hixie>
since it has known security flaws

[21:35:02.0000] <micheil>
I know people who already have. and by you being unconcerned by it, it totally breaks everything that's been said about progressive enhancement being good practice

[21:35:03.0000] <micheil>
like I said, the demand for websockets is now. not sometime in the next 12 years.

[21:36:00.0000] <Hixie>
i hate to be blunt, but there's a difference between being backwards compatible with established technologies, and being backwards compatible with insecure unstable working drafts

[21:36:01.0000] <Hixie>
we can't be held hostage to people playing with experiments

[21:36:02.0000] <micheil>
okay then.

[21:36:03.0000] <Hixie>
the demaind for websockets isn't going away any time soon

[21:36:04.0000] <Hixie>
demand, even

[21:36:05.0000] <micheil>
yeah, but the fact is, it's now. people want to use it now.

[21:37:00.0000] <Hixie>
sure

[21:37:01.0000] <Hixie>
and tomorrow

[21:37:02.0000] <Hixie>
and the day after

[21:37:03.0000] <Hixie>
and also yesterday

[21:37:04.0000] <Hixie>
and the day before that

[21:37:05.0000] <Hixie>
that's why we are working on it

[21:37:06.0000] <Hixie>
not much point working on technologies that don't have demand :-)

[21:37:07.0000] <micheil>
I've already had clients come to me wanting to use websockets, because their interfaces demand for it. Should I just tell them: "Sorry, but websockets aren't ready for public comsuption yet"?

[21:38:00.0000] <Hixie>
yes

[21:38:01.0000] <micheil>
I'm not going to do that, because I'm a freelancer. I need the money. I'm not going to deny myself the option to earn it.

[21:38:02.0000] <micheil>
If I don't do it, then there'll be someone else that does.

[21:39:00.0000] <micheil>
I can recommend that websockets are an unstable protocol, but I'm not going to decline to work on it.

[21:40:00.0000] <Hixie>
that's fine, as long as they (and you) understand that you might get screwed again if we change the protocol :-)

[21:40:01.0000] <micheil>
to give context, the big demand for rounded corners was in the "web 2.0 era", it's not so much now. now it's just a nice design decision, and we've learnt that some browsers just won't get the rounded corners (progressive enhancement)

[21:41:00.0000] <Hixie>
well i'm glad to say that i think web sockets will be ready before rounded corners, but that says more about the csswg than anything else

[00:04:00.0000] <jwm>
now we just need websocket server support in browsers 

[00:04:01.0000] <jwm>
*cough*

[00:04:02.0000] <jwm>
hehe

[02:13:00.0000] <annevk>
Hixie, should just pick a non-HTTP port again and push back on IANA maybe

[02:43:00.0000] <zcorpan_>
so does adding connection: close solve the reverse proxy problem?

[03:39:00.0000] <MikeSmith>
fwiw, I just made a change to the "Edition for Web Authors" subset of the spec (static copy of the "Hide UA text") view

[03:40:00.0000] <MikeSmith>
the change is to some of the link behavior

[03:41:00.0000] <MikeSmith>
there are some links in the author view with fragment IDs that are not actually in the author view

[03:41:01.0000] <MikeSmith>
only in the full spec

[03:43:00.0000] <MikeSmith>
so what I did was to cause those to be rewritten (in the generated static copy) so that they are absolute URLs to the full spec

[03:43:01.0000] <MikeSmith>
instead of (broken) fragment references

[03:43:02.0000] <MikeSmith>
and I added some :hover styling for them

[03:44:00.0000] <MikeSmith>
see for example, http://dev.w3.org/html5/spec-author-view/timers.html#timers

[03:44:01.0000] <MikeSmith>
hover over the "setTimeout()" link

[03:45:00.0000] <MikeSmith>
if anybody has suggestions for how to better style those, lemme now

[03:46:00.0000] <MikeSmith>
the way I have it now, there's no visual indicator that it's an external link to the full spec

[03:46:01.0000] <MikeSmith>
you don't know until you hover over it whether it is or not

[03:47:00.0000] <MikeSmith>
but maybe there should be some visual indication that shows up even if you don't hover

[03:47:01.0000] <MikeSmith>
I just didn't want to add anything additional that would be obtrusive/annoying

[03:48:00.0000] <MikeSmith>
e.g., it's going to show up in pretty much all the IDLs

[03:48:01.0000] <zcorpan_>
MikeSmith: changing the layout on hover is annoying. could you use outline instead of border or something?

[03:48:02.0000] <MikeSmith>
because the links in the IDLs are mostly definitions in the full spec

[03:48:03.0000] <MikeSmith>
zcorpan_: sure

[03:48:04.0000] <MikeSmith>
if I know the CSS

[03:49:00.0000] <MikeSmith>
um, is outline a CSS property?

[03:49:01.0000] <zcorpan_>
yeah

[03:49:02.0000] <zcorpan_>
and no horizontal padding

[03:49:03.0000] <MikeSmith>
hai

[03:49:04.0000] <MikeSmith>
will make an attempt right now

[03:50:00.0000] <zcorpan_>
/me would be ok with no vertical padding too

[03:50:01.0000] <MikeSmith>
zcorpan_: yeah, agreed it's annoying

[03:52:00.0000] <zcorpan_>
MikeSmith: the "This box is non-normative. Implementation requirements are given below this box." text is not really accurate

[03:52:01.0000] <MikeSmith>
hmm, yeah

[03:52:02.0000] <zcorpan_>
maybe just remove them

[03:52:03.0000] <MikeSmith>
I think that's something that Hixie will need to change in teh upstream source

[03:53:00.0000] <MikeSmith>
zcorpan_: they show up in the dynamic "Hide UA text" view also

[03:54:00.0000] <MikeSmith>
I guess the text "Implementation requirements are given below this box." should probably be marked up with span/@class=impl

[03:54:01.0000] <zcorpan_>
i thought it was css-generated

[03:54:02.0000] <MikeSmith>
oh

[03:55:00.0000] <MikeSmith>
if it is, then that's easy enough to tweak

[03:55:01.0000] <MikeSmith>
/me checks the stylesheet

[03:55:02.0000] <MikeSmith>
doesn't appear to be CSS-generated

[03:56:00.0000] <MikeSmith>
is there a way that I can have an outline that bleeds over the surrounding text?

[03:56:01.0000] <annevk>
are you sure it's not CSS-generated?

[03:56:02.0000] <annevk>
pretty sure it is

[03:56:03.0000] <annevk>
if this is about domintro boxes

[03:56:04.0000] <MikeSmith>
that is, with padding that doesn't cause surrounding text to be pushed aside or up or down

[03:58:00.0000] <MikeSmith>
maybe I'm not looking at the right stylesheet

[04:00:00.0000] <MikeSmith>
hmm, yeah, it's definitely generated

[04:08:00.0000] <MikeSmith>
"The outline created with the outline properties is drawn "over" a box, i.e., the outline is always on top, and does not influence the position or size of the box, or of any other boxes. Therefore, displaying or suppressing outlines does not cause reflow or overflow."

[04:08:01.0000] <MikeSmith>
http://www.w3.org/TR/CSS21/ui.html#dynamic-outlines

[04:09:00.0000] <MikeSmith>
so again I wonder how I can specify an outline with a padding such that it doesn't cause any reflow

[04:11:00.0000] <MikeSmith>
oh, offset

[04:39:00.0000] <MikeSmith>
zcorpan_: updated with attempted improvements

[04:39:01.0000] <MikeSmith>
I removed the domintro:before generated text

[04:39:02.0000] <MikeSmith>
and changed the link styling to outline with and offset

[04:40:00.0000] <MikeSmith>
*an offset

[04:46:00.0000] <Lachy>
reading through the change proposal for doctype versioning (ISSUE-4), since the poll apparently starts next week, there are so many technical problems with it, even ignoring the fact that it's a bad idea

[04:49:00.0000] <MikeSmith>
zcorpan_: hang on for a minute.. seems my commit failed for some reason

[04:50:00.0000] <Lachy>
... like the fact that it doesn't actually provide any justification for needing a completely useless versioning syntax, especailly when it says that UAs must not implement any other DOCTYPE specific behaviour

[04:54:00.0000] <MikeSmith>
http://techcrunch.com/2010/07/06/freelancer-geolocation-html5-jobs/

[04:56:00.0000] <MikeSmith>
". As a result of what the company dubs the ‘Apple effect’, Freelancer.com also saw a significant 721% boost in HTML5 jobs."

[04:59:00.0000] <Philip`>
That's a lot of significant figures

[04:59:01.0000] <MikeSmith>
dunno what constitutes an "HTML job"

[05:00:00.0000] <MikeSmith>
I suppose any job ad that mentions "HTML5"

[05:01:00.0000] <MikeSmith>
I wonder if they count jobs adds that say "we think HTML5 is hype and we're not looking for 'HTML5' developers so if you are an 'HTML5' developer please apply somewhere else for 'HTML5' work instead of here, where we're not looking got any kind of HTML5 stuff"

[05:02:00.0000] <MikeSmith>
zcorpan_: checked in and synced up now on http://dev.w3.org/html5/spec-author-view/

[05:02:01.0000] <MikeSmith>
fwiw

[05:03:00.0000] <MikeSmith>
/me prepares to hook up the trailer to his riding lawn mower for the drive back home

[05:14:00.0000] <annevk>
MikeSmith, outline-offset

[05:14:01.0000] <annevk>
iirc

[05:17:00.0000] <karlcow>
for what is worth, more and more RFPs, we receive at the Web agency for the last 3 months contain sentences such as "We want the website compatible html5" or "requirements: html 5 ready (iphone and ipad)"

[05:17:01.0000] <karlcow>
people associate html5 with iphone and ipad.

[05:17:02.0000] <karlcow>
They often mean, "no flash on ipad and iphone".

[05:18:00.0000] <annevk>
RFP?

[05:18:01.0000] <karlcow>
Request For Proposal - usually the document the client sends to a few agencies for getting the best (underpriced) proposals

[05:21:00.0000] <MikeSmith>
karlcow: interesting.. seems in line with comment in that article about the "Apple effect"

[05:22:00.0000] <MikeSmith>
annevk: thanks, yeah, outline-offset is what I used

[05:23:00.0000] <MikeSmith>
file:///opt/workspace/html5/spec-author-view/style.css

[05:23:01.0000] <MikeSmith>
oops

[05:23:02.0000] <MikeSmith>
make that http://dev.w3.org/html5/spec-author-view/style.css

[05:51:00.0000] <zcorpan_>
seems like MikeSmith found a bug in opera

[06:17:00.0000] <karlcow>
http://news.bbc.co.uk/2/hi/technology/10525509.stm

[06:17:01.0000] <karlcow>
"The Taiwanese smartphone maker HTC has reported a 41% sales increase for the first six months of 2010."

[06:50:00.0000] <boblet>
hsivonen: did anything come of the lint checker option idea adactio and others were desiring for the validator?

[06:51:00.0000] <adactio>
There's this: http://lint.brihten.com/html/

[06:51:01.0000] <annevk>
nobody came with a sensible list of requirements iirc

[06:51:02.0000] <annevk>
Sam Ruby tried to gather some, but it never really want anywhere

[06:51:03.0000] <annevk>
went, even

[06:51:04.0000] <adactio>
That URL has a sensible list of requirements.

[06:52:00.0000] <annevk>
it has a few radio buttons :)

[06:53:00.0000] <adactio>
Those are the things that authors want.

[06:53:01.0000] <annevk>
but sure, you can derive something from that, but is that what everyone wants?

[06:53:02.0000] <adactio>
It's what 99% of authors want.

[06:53:03.0000] <annevk>
for instance the TAG and these polyglot people want XML-compatibility, that's not really important?

[06:53:04.0000] <adactio>
Nope, not for a lint tool. Completely different use case.

[06:53:05.0000] <adactio>
A lint tool is purely about writing style.

[06:54:00.0000] <adactio>
It has nothing to do with parsing.

[06:54:01.0000] <annevk>
sure it does, you can enforce a writing style that ensures that parsing later does not result in surprises

[06:54:02.0000] <adactio>
That's what I kept trying to get across (to Henri, to Sam, etc.) but the talk would always keep coming back to polyglot documents ...which is something completely different.

[06:55:00.0000] <adactio>
you *can* enforce a writing style for polyglot documents but that's not why 99% of authors have a writing style.

[06:55:01.0000] <annevk>
agreed

[06:56:00.0000] <annevk>
I wonder if we created a wiki page for this

[06:56:01.0000] <adactio>
You're focusing on the 1% use case: attempting to derive a "safe" writing style for polyglot documents when 99% of the time, all people want is as simple as "tell me if I forget to quote an attribute."

[06:57:00.0000] <annevk>
I'm not, I'm just the messenger

[06:58:00.0000] <annevk>
I'm trying to explain where it stopped last time

[07:00:00.0000] <annevk>
http://intertwingly.net/blog/2009/09/08/First-Polyglot-Validator-Check-Deployed

[07:00:01.0000] <annevk>
I guess "Polyglot" should just be dropped and "Pedagogical" be turned into a bunch of lint checking options

[07:01:00.0000] <annevk>
I'd like a validator that tell me whether I'm using tabs rather than spaces :)

[07:01:01.0000] <adactio>
Right. I think the term "polyglot" is guaranteed to derail any discussion of lint tools. "Pedagogical" works for me.

[07:07:00.0000] <Philip`>
/me thinks "lint" is much easier to spell and pronounce than "pedagogical", and doesn't look like it could be a rude word

[07:07:01.0000] <annevk>
http://wiki.whatwg.org/wiki/HTML_Lint_Checking

[07:57:00.0000] <hsivonen>
boblet: no, and I'm not sure who dropped the ball

[07:59:00.0000] <boblet>
hsivonen: I’m imagining the ppl who would like that function are hoping the legions of crack programmers maintaining validator.nu are on it ;-)

[07:59:01.0000] <boblet>
…blame MikeSmith ?

[08:00:00.0000] <MikeSmith>
boblet: what function?

[08:00:01.0000] <hsivonen>
boblet: I thinkI said I wouldn't do it right away but Sam's patches would be welcome

[08:00:02.0000] <boblet>
[9:56pm] boblet: hsivonen: did anything come of the lint checker option idea adactio and others were desiring for the validator?

[08:01:00.0000] <boblet>
adactio: woah completely missed your reply, orz

[08:01:01.0000] <hsivonen>
boblet: and Sam made it clear that he'd only work on it if zeldman and tantek were precise about what they wanted

[08:02:00.0000] <boblet>
hsivonen: so “just like validator.nu, but more anal” isn’t accurate enough? hrm

[08:03:00.0000] <adactio>
hsivonen: I don't think it necessarily needs to be incorporated into the validator. I'm quite happy having my lint tool at http://lint.brihten.com/html/ as long as it also pipes documents through the validator.

[08:03:01.0000] <hsivonen>
I'm at the same conference as tantek, so maybe I can ask him wha happened if I find him

[08:03:02.0000] <boblet>
I could have a crack but I’m sure I wouldn’t do as precise a job as t would

[08:03:03.0000] <boblet>
hsivonen: please do. I might email him too (something else I wanted to ask about and he hasn’t been in IRC much recently)

[08:04:00.0000] <adactio>
I propose a version of Godwin's law whereby, in a discussion of what should be in a lint tool, any mention of "polyglot" invalidates the discussion.

[08:06:00.0000] <boblet>
adactio: if validator.nu offered that feature it’d be a good thing tho, esp. if it then gets rolled into validator.w3.org

[08:06:01.0000] <Philip`>
hsivonen: Would you be reluctant to add link-checking features that were incompatible with high-performance parsing (e.g. having the tokenizer store extra data about tokens), and that would either cause performance regressions or add significant complexity or require code forks?

[08:07:00.0000] <Philip`>
/me is wondering whether validator.nu could do everything by itself, or if it needs a completely separate lint-checking layer

[08:07:01.0000] <Philip`>
s/link-checking/lint-checking/

[08:07:02.0000] <boblet>
adactio: actually would you have the time to whip up a precise list of stuff you’d like?

[08:07:03.0000] <adactio>
boblet: I agree. But every effort to get a discussion about lint tools into validator.nu inevitably gets hijacked by polyglot fans. So, at this stage, I think things will move faster somewhere else.

[08:07:04.0000] <adactio>
bobet: The radio buttons here are my list: http://lint.brihten.com/html/

[08:08:00.0000] <adactio>
boblet: in fact, I'd leave off the "misc" category myself. The other 6 things are it, really.

[08:08:01.0000] <annevk>
I put them here: http://wiki.whatwg.org/wiki/HTML_Lint_Checking

[08:08:02.0000] <annevk>
so other people can add/subtract

[08:09:00.0000] <adactio>
annevk: Thanks.

[08:09:01.0000] <adactio>
It might be good to have a *separate* place to discuss the creation of polyglot conformance checker (to make it clear that they are separate use cases).

[08:09:02.0000] <Philip`>
adactio: That hijacking seems inevitable if you ask people to justify their demands, since the justification given for most syntax requirements is "I want to be able to parse pages as XML", so I guess we need to stop asking people why they want to check the things they say they want to check

[08:10:00.0000] <boblet>
just read the earlier conversation (polyglot vs pedagogical/lint) and now know what everyone’s talking about (was in skype mtng)

[08:10:01.0000] <adactio>
Philip: I don't think there needs to be any justification required for a lint tool. Isn't the whole point of, for example, a coding style in a programming language, that it's basically personal preference?

[08:11:00.0000] <adactio>
Philip: so yes, I agree: no need to ask "why?"

[08:12:00.0000] <boblet>
Philip`: also it’s intended more for the silent majority

[08:14:00.0000] <Philip`>
adactio: Yeah, I don't think we do need to have justification - it won't be a coherent set of rules derived logically from a precise high-level goal, but it'll satisfy people and it'll lead them towards less ugly markup

[08:14:01.0000] <adactio>
Yup.

[08:15:00.0000] <boblet>
hsivonen: so if we have a list of desired features, would it be possible to get them incorporated into validator.nu? or still the same low priority status issue?

[08:15:01.0000] <hsivonen>
Philip`: I'm planning on adding an API for listening to tokenizer state transitions for source highlighting use. Time will tell if it becomes useful for linting, too.

[08:15:02.0000] <Philip`>
Perhaps the best way to justify the set of rules is to implement everything that's suggested, measure how many people use them, then remove the ones that aren't worth the code/UI complexity they add

[08:16:00.0000] <hsivonen>
Philip`: I have plans to strip the code out for other use cases

[08:16:01.0000] <hsivonen>
the readability of the tokenizer source is going to suffer a bit

[08:18:00.0000] <hsivonen>
I consider it a step forward that the lint discussion is being detached from the polyglot discussion

[08:19:00.0000] <hsivonen>
but I don't know if all the people who want a 'lint' want at all the same thing 

[08:21:00.0000] <boblet>
hsivonen: if asking what ppl want invokes the specter of polygot and lint.brihten.com is a working example of what ppl want, implementing those 6 things as adactio suggests then asking questions second would be great

[08:24:00.0000] <Philip`>
hsivonen: Would the API be sufficient for e.g. allowing <input ... disabled> but not allowing <img ... alt> (and probably not <embed ... disabled>) (i.e. context-dependent valueless attributes)?

[08:26:00.0000] <Philip`>
(I would guess the normal relatively-clean tokenizer/tree constructor separation might make it hard when you want to do checks that cross both layers)

[08:28:00.0000] <Philip`>
(...but I don't know enough about the implementations to do more than guess)

[08:28:01.0000] <boblet>
nn

[08:53:00.0000] <adactio>
So here's something that been bothering me: should a user agent prevent a form being submitted if one field is suffering a type mismatch *even if that field is not required*?

[08:53:01.0000] <adactio>
Test cases here:

[08:53:02.0000] <adactio>
http://andyhume.net/testing/forms.html

[08:54:00.0000] <annevk>
yes

[08:54:01.0000] <adactio>
In the 2nd and 3rd examples, the form can be submitted if the url or email field is empty but not if the url or email field has an invalid value.

[08:54:02.0000] <adactio>
That's awful!

[08:54:03.0000] <annevk>
that's the whole point of form validation

[08:55:00.0000] <adactio>
No, the whole point of form validation is to allow you (the author) to decide what to do in the case of type mismatch.

[08:56:00.0000] <adactio>
For the user-agent to automatically cancel the submission of a form when a non-required field suffers from a type mismatch is the browser equivalent of the "nanny state".

[08:56:01.0000] <annevk>
in the simple case you want submission to be prevented because otherwise the server will have to complain and it costs the user (and you) a roundtrip

[08:57:00.0000] <annevk>
there may be more complex cases, but those are not (yet) addressed

[08:57:01.0000] <adactio>
The server will have to complain if it's a required field. Otherwise, no.

[08:57:02.0000] <annevk>
though you can do something via scripting for sure

[08:57:03.0000] <annevk>
adactio, there's more use cases than the one you are interested in :)

[08:57:04.0000] <annevk>
there're grmbl

[08:58:00.0000] <hober>
If a field is optional, but has validation constraints, then those validation constraints should be enforced if the element has a non-"" value

[08:58:01.0000] <adactio>
annevk: the use cases I'm talking about came from other people ...who are now changing everything back to input type="text" to avoid webkit's over-zealous behaviour with type mismatches.

[08:59:00.0000] <hober>
essentially, putting validation constraints on an optional field means "we accept empty xor *like this*"

[08:59:01.0000] <annevk>
adactio, well yes, WebKit has a stupid non-UI implementation

[08:59:02.0000] <annevk>
adactio, that's not the fault of the specification, but of WebKit for shipping something broken

[09:00:00.0000] <adactio>
It's not about the UI.

[09:01:00.0000] <annevk>
in Opera it is clear why the form is not submitted

[09:01:01.0000] <Philip`>
Why would you put validation constraints on a non-required field if you don't want the value to be validated against those constraints?

[09:01:02.0000] <adactio>
I find Opera's behaviour equally wrong *as long as the field is not required*.

[09:01:03.0000] <adactio>
semantics

[09:01:04.0000] <annevk>
I don't see how required is more important than valid

[09:02:00.0000] <annevk>
should it be submitted if it's required and invalid?

[09:02:01.0000] <annevk>
i guess not per your reasoning, but that would make even less sense then

[09:02:02.0000] <hober>
required means "this element must have a non-'' value"

[09:02:03.0000] <hober>
which is orthogonal to value constraints

[11:07:00.0000] <karlushi>
I wonder if anyone has evaluated when Chrome will start flirting with firefox http://en.wikipedia.org/wiki/File:Usage_share_of_alternative_web_browsers.svg

[11:08:00.0000] <karlushi>
2012?

[11:16:00.0000] <TabAtkins>
adactio: Webkit's behavior (assuming they hook up actual UI to it, dammit) is precisely what I would expect, for precisely the reason hober outlined - if I say something is non-required but has a pattern, I expect it to mean "empty, or matching this pattern".

[11:17:00.0000] <TabAtkins>
adactio: If I'm reading what you want right, it would make the various pattern attributes entirely useless on a non-required field.

[11:17:01.0000] <TabAtkins>
AryehGregor: I'

[11:17:02.0000] <TabAtkins>
AryehGregor: I'm not the most useful twitterer.  I'm curious as to what in specific that I post if making you glad you're avoiding twitter, though?

[11:19:00.0000] <TabAtkins>
/me forgot that his tweets turn into buzzes anyway - he only uses the google-internal buzz.

[11:36:00.0000] <JonathanNeal>
Is it acceptable to make a label on an input be hidden accessible?

[11:42:00.0000] <TabAtkins>
JonathanNeal: I don't understand the question - the last part of the sentence doesn't parse.

[11:44:00.0000] <JonathanNeal>
Sure, let me see if I can describe it.

[11:45:00.0000] <JonathanNeal>
<span class="field-content"><label class="hidden-accessible" for="someInput">Some Input</label><input id="someInput" type="text" /></span>

[11:45:01.0000] <JonathanNeal>
Where .hidden-accessible is visually implied, but there is a textual fallback.

[11:45:02.0000] <JonathanNeal>
it's hidden, but there's a text label for screen readers.

[11:46:00.0000] <TabAtkins>
Oh, okay.

[11:46:01.0000] <TabAtkins>
Then, yes?  That's just standard accessibility stuff.

[11:46:02.0000] <JonathanNeal>
Okay, I wasn't sure if there were different rules for <label>s.

[11:48:00.0000] <TabAtkins>
Only insofar as radio buttons by themselves are sorta hard to click or whatever, so having a label is good to make it more clickable.  But if you're doing other stuff to make it clickable and the label isn't otherwise necessary, then sure, yeah, hide it visually but make it accessible.

[11:50:00.0000] <JonathanNeal>
Would you know if "aria-hidden" should be read by screen readers?

[11:51:00.0000] <TabAtkins>
No clue.  It sounds like maybe not, though.  If you want it accessible, then it shouldn't be denoted as "hidden".

[11:51:01.0000] <TabAtkins>
(Presumably hidden things shouldn't be looked at.)

[11:51:02.0000] <TabAtkins>
I don't think you have to do anything with aria at all here.  Just do the standard abspos hack.

[11:53:00.0000] <JonathanNeal>
Fair enough, I wasn't sure if there was a hidden accessible type-of-role for it.

[11:53:01.0000] <JonathanNeal>
Thanks.

[12:04:00.0000] <JonathanNeal>
So what was confusing about my question, the phrase "hidden accesible"?

[12:05:00.0000] <TabAtkins>
Yeah - I wasn't able to parse that as a single word.

[12:05:01.0000] <TabAtkins>
s/word/phrase/

[12:05:02.0000] <TabAtkins>
or whatever

[12:12:00.0000] <JonathanNeal>
Is there a better word / phrase I could have used?

[12:13:00.0000] <TabAtkins>
"Is it acceptable to make a label on an input be visually hidden but still accessible?"

[12:13:01.0000] <TabAtkins>
"hidden accessible" sounded to me like it was accessible to hidden things.  ^_^

[12:15:00.0000] <Hixie>
how can something be accessible if it's hidden?

[12:15:01.0000] <TabAtkins>
"hidden" = "absposed off the left screen edge"

[12:15:02.0000] <TabAtkins>
So visually hidden, but not hidden from screenreaders and such.

[12:16:00.0000] <Hixie>
well if it's off the screen edge, i ain't gonna be able to access it

[12:16:01.0000] <Hixie>
so it doesn't seem accessible

[12:16:02.0000] <TabAtkins>
?_?

[12:16:03.0000] <Hixie>
something that's only accessible to screen readers isn't accessible

[12:16:04.0000] <Hixie>
it's just limited to screen reader users

[12:16:05.0000] <TabAtkins>
Yes, you won't be able to access it if you're using a normal browser.  That's the point.

[12:16:06.0000] <TabAtkins>
It's like that on purpose.

[12:17:00.0000] <Hixie>
seems weird to call that "accessible"

[12:17:01.0000] <Hixie>
since it's the opposite of accessible

[12:17:02.0000] <Hixie>
it's like something that's only visible to screen users

[12:17:03.0000] <TabAtkins>
Eh, that's common usage.  "accessible" means "still usable by someone using something other than a normal browser".

[12:17:04.0000] <TabAtkins>
In the common webdev-hack parlance.

[12:17:05.0000] <Hixie>
"accessible" means "usable by everyone"

[12:17:06.0000] <TabAtkins>
If it's usable by a normal browser you dont' have to use a word for it at all.  ^_^

[12:17:07.0000] <Workshiva>
We have always been at work with alt text

[12:18:00.0000] <Hixie>
alt text is an example of this... the alt text isn't accessible, nor is the png file, it's the <img> that becomes accessible when you provide both the image file and the alt text

[12:19:00.0000] <TabAtkins>
Correct.  And?  This is a different issue entirely.

[12:19:01.0000] <TabAtkins>
(Are you just arguing about the use of the term?)

[12:19:02.0000] <Hixie>
yes

[12:19:03.0000] <JonathanNeal>
The idea is that implicit visual functionality is lost to non visual users.

[12:19:04.0000] <TabAtkins>
Ah, then shrug.  Like I said, that usage is common in webdev-hack parlance.

[12:20:00.0000] <JonathanNeal>
Like certain calendar input fields, or a "skip to main content" link.

[12:20:01.0000] <Hixie>
i think a big part of the problem with making context universally accessible is the view point that the visual presentation is somehow privileged

[12:20:02.0000] <JonathanNeal>
So, I was using the phrase "hidden accessible" to describe how it is hidden to the visual user who would not need the additional accessibility.

[12:21:00.0000] <Hixie>
referring to things that aren't visible as "accessible" is a symptom of that viewpoint imho

[12:21:01.0000] <TabAtkins>
If it's just a symptom, then changing it won't affect anything.  ^_^

[12:21:02.0000] <JonathanNeal>
Hixie, the visual presentation is privileged, communication happens in more ways than just text.

[12:22:00.0000] <Hixie>
"the audio presentation is privileged, communication happens in more ways than just text" is equally true

[12:22:01.0000] <TabAtkins>
But yeah, since most people (and especially most devs) have working vision and motor skills, there is indeed a privileged presentation in practice.

[12:22:02.0000] <JonathanNeal>
That's why alt exists, because the visual presentation is privileged to show you a picture of a kitten without necessarily having to textually describe it for you.

[12:23:00.0000] <JonathanNeal>
Hixie, yes, this is true, the audio presentation is privileged.

[12:24:00.0000] <Hixie>
my point is that the right way to think about this is to view the markup as media-independant, so that no medium is privileged.

[12:24:01.0000] <Hixie>
crap, i gotta go, meeting

[12:24:02.0000] <Hixie>
/me hastily climbs off his soapbox and packs it away

[12:24:03.0000] <Hixie>
later

[12:24:04.0000] <JonathanNeal>
Later.

[12:24:05.0000] <TabAtkins>
Hixie: So you're missing the point of the hack itself anyway, which is to make a media-independent markup and then visually hide the bits that the visual presentation doesn't need.

[12:24:06.0000] <JonathanNeal>
So, hidden accessible maybe isn't the best term.

[12:25:00.0000] <JonathanNeal>
non-presentational

[12:26:00.0000] <TabAtkins>
Just say "visually hidden, but still otherwise accessible", like I said.  That captures the intent exactly, and Hixie's just overreacting.

[12:26:01.0000] <TabAtkins>
Or rather, he's reacting to something else that he mistakenly thinks you're saying.

[12:32:00.0000] <JonathanNeal>
okay, so when I say hidden accessible what I mean to say is "visually HIDDEN but still otherwise ACCESSIBLE"

[13:05:00.0000] <AryehGregor>
TabAtkins, I'm sure they're fine, as far as tweets go.  But nearly all of them are just random unconnected thoughts that at *best* are only very mildly interesting to me.

[13:05:01.0000] <AryehGregor>
I think my remark was triggered by "OMIGOD FRESH BREAD OMNOMNOMNOMNOM".

[13:05:02.0000] <AryehGregor>
I guess maybe it's good if you want to know what the tweeter is thinking about, or somesuch.

[13:07:00.0000] <TabAtkins>
AryehGregor: That is, indeed, largely what tweeting is about.

[13:08:00.0000] <TabAtkins>
Also, that sort of thing would normally just go to my facebook, but I posted it from my phone, which by default pushes stuff to both fb and twitter.

[13:09:00.0000] <AryehGregor>
/me is reminded of why he isn't on Facebook too, then.

[13:09:01.0000] <TabAtkins>
I like the random unconnected thoughts.  ^_^

[13:09:02.0000] <TabAtkins>
And if someone is uninteresting enough, I just unfollow or hide them.

[13:10:00.0000] <TabAtkins>
/me just uses twitter for technical stuff and webcomic authors.

[13:13:00.0000] <TabAtkins>
AryehGregor: It also lets you know that, were you at my house, you'd be enjoying some damned fine fresh bread.

[13:18:00.0000] <gsnedders>
TabAtkins: Then why on earth do you follow me? :P

[13:19:00.0000] <TabAtkins>
gsnedders: Good question. ^_^

[13:19:01.0000] <TabAtkins>
Nah, I *read* twitter for more than technical stuff, and you're high enough on my list of "internet friends" to be followable.

[13:20:00.0000] <gsnedders>
/me still doesn't get why so many people read his shit

[13:20:01.0000] <TabAtkins>
You don't post enough to be annoying, is why.

[13:35:00.0000] <dandaman>
this is a # for html5?

[13:35:01.0000] <TabAtkins>
Yes.

[13:35:02.0000] <dandaman>
is there an IDE someone can recommend?

[13:36:00.0000] <dandaman>
im just starting out html5 for this internship

[13:36:01.0000] <dandaman>
and i'd like to make the learning process as quick as possible

[13:36:02.0000] <TabAtkins>
I suggest a text editor.  ^_^

[13:36:03.0000] <AryehGregor>
HTML5 is just HTML+JavaScript+CSS.

[13:36:04.0000] <AryehGregor>
So use whatever HTML/JS/CSS IDE you want.

[13:36:05.0000] <AryehGregor>
(personally I just use a text editor)

[13:37:00.0000] <AryehGregor>
We probably are not the best people to ask questions like this, because we're all very familiar with HTML5 and don't really need IDEs or things like that.

[13:40:00.0000] <TabAtkins>
Yeah, syntax highlighting is about all the luxury I'm used to.

[13:40:01.0000] <karlushi>
dandaman, what do you use usually?

[13:44:00.0000] <dandaman>
i havent touched html for like 8 years, not since i was 8

[13:44:01.0000] <dandaman>
13*

[13:46:00.0000] <Martijnc>
dandaman: I use Notepad++, not really an IDE but is has syntax highlighting

[13:49:00.0000] <AryehGregor>
"This site is attempting to download multiple files.  Do you want to allow this?  Allow/Deny/X"

[13:49:01.0000] <AryehGregor>
1) What does that actually mean?  2) Why would I want to not allow it?

[13:50:00.0000] <TabAtkins>
Yay for useless "security" prompts.

[13:50:01.0000] <AryehGregor>
(this URL in Chrome: http://www.mozilla.com/en-US/products/download.html?product=firefox-4.0b1&os=linux&lang=en-US)

[13:50:02.0000] <AryehGregor>
Downloads the same tar.bz2 for me twice . . .

[13:50:03.0000] <TabAtkins>
Doesn't for me.

[13:51:00.0000] <TabAtkins>
You're on dev channel, right?

[13:51:01.0000] <AryehGregor>
Yeah, on Linux.

[13:51:02.0000] <AryehGregor>
/me tries reloading

[13:51:03.0000] <TabAtkins>
I'm on normal linux, so that sounds like a bug.

[13:51:04.0000] <AryehGregor>
Doesn't reproduce when I reload.  Although it downloads instantly, maybe If-Modified-Since or something.

[13:53:00.0000] <Martijnc>
It happens when you click 'click here' and the automatic download starts

[13:53:01.0000] <AryehGregor>
Ah, that explains it.

[13:53:02.0000] <AryehGregor>
No idea what the prompt is for, though . . .

[13:55:00.0000] <AryehGregor>
maxlength="140" for feedback is criminal.  Is this being tweeted or something?

[13:57:00.0000] <AryehGregor>
Wow, Firefox 4 is really much snappier.

[13:58:00.0000] <AryehGregor>
Also, the feedback thing misdetected some slashes as the presence of URLs and rejected the input.

[14:25:00.0000] <hober>
is <noscript> currently conforming in the draft?

[14:25:01.0000] <TabAtkins>
Pretty sure yes.

[14:25:02.0000] <TabAtkins>
/me would have to check to be sure.

[14:25:03.0000] <AryehGregor>
Yes.

[14:26:00.0000] <TabAtkins>
Only in HTML, of course.

[14:26:01.0000] <AryehGregor>
There's a bug complaining about it.

[14:26:02.0000] <AryehGregor>
Lots of arguing, including at least one person who actually develops web pages for a living and seems to be encountering standards-purity advocates for the first time.

[14:26:03.0000] <crash\>
yeah <noscript> is obsolete, but we need it I think since it's widly used

[14:27:00.0000] <AryehGregor>
It's not really obsolete.

[14:27:01.0000] <crash\>
so it's good to have it standardized

[14:27:02.0000] <crash\>
AryehGregor: is there any use case for <noscript>?

[14:27:03.0000] <crash\>
I say it's easy, but scripting is better in all cases

[14:27:04.0000] <AryehGregor>
A page that consists of a JavaScript game, where all you want to do without script is say "You have to have JavaScript"?

[14:28:00.0000] <AryehGregor>
You can emulate the effect easily with script, but why bother?

[14:28:01.0000] <crash\>
since <noscript> has it's problems

[14:28:02.0000] <AryehGregor>
Like what?

[14:28:03.0000] <AryehGregor>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10068

[14:29:00.0000] <AryehGregor>
See, someone who actually writes web pages for a living: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10068#c20

[14:30:00.0000] <crash\>
it's right what he says

[14:30:01.0000] <crash\>
but I say it's better to do alternate content via scripting

[14:31:00.0000] <crash\>
AryehGregor: like <noscript> doesn't have type

[14:31:01.0000] <AryehGregor>
Type?

[14:31:02.0000] <TabAtkins>
crash\: That's not a problem in practice.  If the web ever actually develops a second scripting language that people care about, then maybe.

[14:31:03.0000] <AryehGregor>
Oh, yeah, that kind of type.  Well, it just means "execute unless there's JavaScript support".

[14:31:04.0000] <AryehGregor>
If you have some other language you want to test for, go ahead and use script.

[14:32:00.0000] <AryehGregor>
It's not a realistic issue.

[14:32:01.0000] <crash\>
so you can't use it when you want it only be visible if a certain scripting langauge is availble

[14:32:02.0000] <AryehGregor>
Sure you can, as long as that scripting language is JavaScript.

[14:32:03.0000] <AryehGregor>
Which is the only one anyone uses or cares about in practice, so that's fine.

[14:33:00.0000] <crash\>
ok, good but <noscript> doesn't cover those cases

[14:33:01.0000] <TabAtkins>
...which is fine, because no one cares about those cases.

[14:33:02.0000] <AryehGregor>
Which nobody cares about.

[14:33:03.0000] <AryehGregor>
And if they did, fine, so don't use it in those cases.

[14:33:04.0000] <AryehGregor>
That doesn't hurt its utility in the other 99.984% of cases.

[14:33:05.0000] <AryehGregor>
(I'm being generous)

[14:33:06.0000] <TabAtkins>
And/or we'd fix it at that point.

[14:33:07.0000] <AryehGregor>
Unlikely, since it can be trivially emulated.

[14:34:00.0000] <TabAtkins>
True, but it's possible.

[14:34:01.0000] <crash\>
sure, it wont be a problem for most of the cases

[14:34:02.0000] <crash\>
but you should know that <noscript> isn't perfect

[14:35:00.0000] <crash\>
replacing content via scripting is

[14:35:01.0000] <AryehGregor>
It's also true that <noscript> will not cook pizza for me.

[14:35:02.0000] <AryehGregor>
Nor will replacing content by scripting.

[14:35:03.0000] <AryehGregor>
Ergo, neither is perfect.

[14:35:04.0000] <TabAtkins>
Damn those HTML designers and their lack of foresight.

[14:35:05.0000] <AryehGregor>
Objecting to an element on the basis that it works perfectly fine for the uses it was intended to cover but doesn't cover some other things you'd like it to cover makes no sense.

[14:36:00.0000] <crash\>
but it's a great advantage that HTML5 cover many of cases oldes standard didn't

[14:37:00.0000] <crash\>
and is on the other side is a standardwhich covers a lot of real-life problems

[14:38:00.0000] <Philip`>
/me misreads that as standardwich, which sounds like an interesting variant on the common sandwich

[14:38:01.0000] <crash\>
and JavaScript has it's versions and implementations, so it might become a problem some day

[14:39:00.0000] <crash\>
so some day somebody may complain about <noscript>, who knows? ;)

[14:39:01.0000] <TabAtkins>
Philip`: You don't want a sandwich designed by a standard.

[14:39:02.0000] <TabAtkins>
crash\: And on that day we'll commence caring.  ^_^

[14:39:03.0000] <AryehGregor>
crash\, so you think that people should avoid <noscript> because someday someone might complain about it?

[14:39:04.0000] <AryehGregor>
That's a remarkably low standard.

[14:39:05.0000] <crash\>
I think it should be marked deprecated, yes

[14:40:00.0000] <AryehGregor>
Because someone might someday complain about it, or for some other reason?

[14:40:01.0000] <AryehGregor>
Because I haven't seen any practical reason yet that authors shouldn't use it.

[14:43:00.0000] <crash\>
and one thing I forget it's not XHTML compatible ;)

[14:43:01.0000] <AryehGregor>
Yet another thing no one cares about in real life.

[14:43:02.0000] <crash\>
I think there are many people who would like to send XML

[14:44:00.0000] <AryehGregor>
Not relative to the number of web authors.

[14:45:00.0000] <TabAtkins>
/me is, for some reason, gradually writing a library for quoting and indenting emails while respecting max-width constraints on lines.

[14:46:00.0000] <AryehGregor>
. . .

[14:46:01.0000] <AryehGregor>
Like a plugin for a mail program, or it just works on plain text?

[14:46:02.0000] <TabAtkins>
Just a few python functions for my own use on plain text.

[14:47:00.0000] <TabAtkins>
When I'm quoting from a spec and indenting with |, and then later adjusting the wording and thus changing line lengths, I want an easy way to automagically readjust all the lines to respect 70-char lines while keeping the |s in proper place.

[14:50:00.0000] <AryehGregor>
E-mail indentation is annoying.  Too bad no one has invented a way of doing auto-wrapping in e-mail.  Maybe you could even add other features at the same time.  Actually, it would make the most sense to reuse an existing format.  Come to think of it, does the WHATWG work on anything that might be useful here?

[14:50:01.0000] <TabAtkins>
/me wonders if this would be easier to just write by importing the text as Markdown and then writing some html-to-plaintext functions.

[14:53:00.0000] <hober>
TabAtkins: Emacs' M-q can do that, if you tell it about the |

[14:53:01.0000] <TabAtkins>
Ah, yes, Markdown'll do what I need if I mod it to accept | and # as blockquoting markers as well (it's sorta a CSSWG convention to use that for spec suggestions and spec quoting, respectively).

[14:53:02.0000] <TabAtkins>
hober: That'd mean I have to use emacs.

[14:53:03.0000] <hober>
:)

[14:59:00.0000] <Hixie>
JonathanNeal: different styles for different media should be done with different style sheets (or @media in a style sheet), i don't get why the AT vendors haven't gotten around to supporting that yet.

[14:59:01.0000] <gsnedders>
Hmm, did ES5 really change parseInt to disallow leading "0" to mean octal when no browser will change? Great!

[15:00:00.0000] <JonathanNeal>
Hi Hixie

[15:00:01.0000] <JonathanNeal>
Are you referring to my hidden accessible issue?

[15:01:00.0000] <Hixie>
JonathanNeal: i was just continuing our earlier conversation :-)

[15:01:01.0000] <AryehGregor>
Hixie, maybe because people then are forced to write different styles for different media, and they won't test the styles they write for uncommon media, so the site breaks if you try to use the styles in practice?

[15:02:00.0000] <annevk>
Hixie, what is your fifth priority? *curious*

[15:02:01.0000] <Hixie>
AryehGregor: well in practice they wouldn't need to write style sheets for anything but the one they do now, but they could do display:none on the stuff they want to leave for ATs

[15:02:02.0000] <Hixie>
ideally we wouldn't need to hide anything from non-ATs, too

[15:03:00.0000] <Hixie>
annevk: deal with feedback 

[15:04:00.0000] <annevk>
nothing grand like <device>? :)

[15:05:00.0000] <Hixie>
<device> is 7th

[15:05:01.0000] <Hixie>
though i may work on it out-of-order on tuesday

[15:05:02.0000] <annevk>
heh

[15:05:03.0000] <Hixie>
since there's a lot of interest

[15:06:00.0000] <annevk>
I think most people outside are way past the process bullshit and are looking at what is next

[15:06:01.0000] <Hixie>
yes

[15:06:02.0000] <annevk>
and to be honest, me too, for the most of it

[15:06:03.0000] <Hixie>
me too :-)

[15:14:00.0000] <JonathanNeal>
Hixie, but even when I use @media to style the obscured elements (the hidden accessibles) I think I'll need the same tricks.

[15:15:00.0000] <AryehGregor>
In theory no.  Just put display: none in the visual stylesheets, and not in the media-specific stylesheets.

[15:15:01.0000] <AryehGregor>
No tricks required.

[15:15:02.0000] <AryehGregor>
That doesn't work, but only because ATs use the visual stylesheets.

[15:17:00.0000] <JonathanNeal>
AryehGregor, oh ... yea I hate when practice beats theory, but that kinda binds me, yea.


2010-07-08
[17:57:00.0000] <raggy_>
is this the place to ask about offline manifest files?

[17:57:01.0000] <AryehGregor>
Probably.

[17:57:02.0000] <AryehGregor>
It's *a* place.

[17:58:00.0000] <raggy_>
great :) I have a NETWORK: header with the url /api/* but never see a hit to anything in that folder?

[17:59:00.0000] <raggy_>
I'm using jQuery on the client to hit the url with an ajax request.

[17:59:01.0000] <raggy_>
& testing with the iPhone Simulator

[17:59:02.0000] <raggy_>
can NETWORK paths have wildcards?

[18:05:00.0000] <Hixie>
raggy_: remove the "*" -- it's a prefix match

[18:05:01.0000] <Hixie>
the "*" is unnecessary

[18:05:02.0000] <Hixie>
(and indeed means that /api/*foo would hit the network bet /api/foo would not)

[18:05:03.0000] <raggy_>
Hixie: perfect, thanks.

[18:14:00.0000] <TabAtkins>
Hrm.  Drawing up some demos, and for some reason I'm getting a "SECURITY_ERR: DOM Exception 18" when I try 'var idata = $("#back")[0].getContext('2d').getImageData(0,0,100,100);'.

[18:15:00.0000] <TabAtkins>
Am I doing anything obviously wrong?

[18:15:01.0000] <kling>
TabAtkins: tainted your canvas by drawImage()ing an image from another domain?

[18:16:00.0000] <TabAtkins>
I'm drawing a video from desktop.  That might taint, right?

[18:16:01.0000] <TabAtkins>
That is, from file://

[18:16:02.0000] <kling>
I suppose so, yeah. http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#security-with-canvas-elements

[18:17:00.0000] <TabAtkins>
k, I'll upload to my server and try it there instead.

[18:17:01.0000] <TabAtkins>
/me should get localhost working.

[18:17:02.0000] <kling>
which browser btw? ;)

[18:17:03.0000] <TabAtkins>
chrome 5

[18:18:00.0000] <TabAtkins>
Yup, works fine on server.  Damn crazy file:// origin policies.

[18:20:00.0000] <TabAtkins>
Wow, micro-optimizations can really help when you're trying to do realtime video processing.

[18:22:00.0000] <TabAtkins>
My lag went from noticeable (about 1/10th second) to unnoticeable just by using a temp var to kill a property access in a tight loop, and switching from /8 to >>>3.

[18:26:00.0000] <AryehGregor>
>>3, you must mean.

[18:26:01.0000] <AryehGregor>
What language are you using?

[18:26:02.0000] <AryehGregor>
JavaScript?

[18:28:00.0000] <TabAtkins>
Yeah.

[18:28:01.0000] <TabAtkins>
And no, I mean >>>, because I want to fill in 0s.

[18:29:00.0000] <TabAtkins>
>> propagates the sign.

[18:30:00.0000] <AryehGregor>
I've never heard of that convention in my life.

[18:30:01.0000] <AryehGregor>
It doesn't work in C, does it?

[18:30:02.0000] <AryehGregor>
Some JS-specific thing?

[18:30:03.0000] <TabAtkins>
I have no clue.  I just know that's how JS works.

[18:44:00.0000] <estellevw>
can anyone take a quick look at the code to this very simple <canvas> example and tell me if there is anyway to reduce any of the lines: http://standardista.com/webkit/ch7/canvas.html

[18:45:00.0000] <estellevw>
i know it's not the best use of canvas, but i am writing an intro tutorial to drawing shapes, and don't want to get anything wrong

[18:54:00.0000] <AryehGregor>
Seems correct to me.  Dunno much about canvas, though.

[18:56:00.0000] <TabAtkins>
Same here.  Looks roughly okay.

[18:57:00.0000] <TabAtkins>
Yay!  Got all 3 of my demos done.  Woo!

[18:57:01.0000] <TabAtkins>
/me is now ready to actually give his talk tonight.

[18:57:02.0000] <kling>
knock 'em dead :)

[18:59:00.0000] <estellevw>
thanks

[19:01:00.0000] <kling>
estellevw: the call to context.scale() seems superfluous, otherwise fine. personally, i'd use save/restore to get rid of the shadow instead of setting a transparent shadowColor

[19:03:00.0000] <estellevw>
kling: i tried the save, restore but that didn't work, and read up that transparency would make the shadow not render, though it feels like a hack even though it's in the spec

[19:04:00.0000] <kling>
estellevw: save/restore doesn't touch shadowColor? sounds like a bug.. which browser?

[19:05:00.0000] <estellevw>
i didn't get it to touch shadowColor.  Believe I tested in Opera 10.6 and Saf 5

[19:05:01.0000] <estellevw>
but i could have had the syntax wrong if it was supposed to.

[19:09:00.0000] <estellevw>
kling: the scale was to test pixelation on scaling. when i scale transform canvas and svg, they both pixelate. I would have especially expected svg to not pixelate

[19:10:00.0000] <kling>
estellevw: hm. scaling an svg from an <img> element?

[19:11:00.0000] <estellevw>
oh, it's only opera that pixelates. Safari doesn't

[19:11:01.0000] <estellevw>
kling: just testing for rendering

[19:11:02.0000] <kling>
ah :)

[19:12:00.0000] <estellevw>
so when asked i can explain.

[19:13:00.0000] <estellevw>
was trying to show that pixelation occurs with <canvas> but not <svg>

[19:13:01.0000] <estellevw>
proven in Safari 5 ... was looking at Opera earlier.

[19:13:02.0000] <estellevw>
http://standardista.com/webkit/ch7/canvas2.html v. http://standardista.com/webkit/ch7/svg2.html

[19:14:00.0000] <kling>
/me is startled by the :hover zooming

[19:18:00.0000] <estellevw>
checking pixelation.  My sandbox is full of hideousnesss and bad UI :D

[19:24:00.0000] <AryehGregor>
The behavior of CSS transform on a vector image is probably undefined.

[19:24:01.0000] <AryehGregor>
CSS is usually vague like that.

[19:28:00.0000] <AryehGregor>
It just says "transform it using the given matrix", not "transform it by applying the given matrix to the collection of pixels" or "transform it by [some clever description that implies SVGs aren't pixellated]".

[19:33:00.0000] <estellevw>
my understanding on the difference between SVG and Canvas, is that canvas is basically the painting of pixels. So, should pixelate on zoom. But SVG is "scalable" and "Vector" based graphics, so should scale.

[19:34:00.0000] <AryehGregor>
SVG does scale.  If you changed the height and width, it would.

[19:34:01.0000] <AryehGregor>
But CSS transforms doesn't say one way or the other how it's supposed to work here, AFAICT.

[19:34:02.0000] <AryehGregor>
Scaling nicely seems like a better idea, but I didn't see it in the spec.

[19:34:03.0000] <AryehGregor>
(Maybe I should read the spec before I say stuff like that, though.)

[19:34:04.0000] <estellevw>
let me try with css: height and width

[19:34:05.0000] <estellevw>
instead

[19:34:06.0000] <estellevw>
rather, as well

[19:35:00.0000] <AryehGregor>
Yeah, that should work better, if you can get it to work.

[19:35:01.0000] <AryehGregor>
Should work on the <img>, at least.

[19:35:02.0000] <estellevw>
it renders as i expected in Safari 5

[19:35:03.0000] <estellevw>
canvas pixelated, svg didnt'

[19:35:04.0000] <estellevw>
same transform

[19:36:00.0000] <AryehGregor>
Yes, that makes more sense, but I don't think the spec requires the latter behavior.

[19:43:00.0000] <estellevw>
<img> does work nicely, topmost of the three... sorry for the bad UX example (Opera 10.6 is the one that had the pixelation with transform) http://www.standardista.com/webkit/ch7/svg3.html

[19:46:00.0000] <estellevw>
but changing height on an element redraws the page. Repainting the page can be slow. I need to fine tooth comb the spec.

[20:19:00.0000] <AryehGregor>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10083#c14

[20:20:00.0000] <AryehGregor>
If Shelley doesn't have faith in the HTMLWG Decision Policy, and we don't have faith in the HTMLWG Decision Policy, who does?

[20:20:01.0000] <AryehGregor>
Anyone?

[20:22:00.0000] <boblet>
hey all. does anyone know where HTML 4’s (soft) hyphenation info got to in HTML5? http://www.w3.org/TR/html401/struct/text.html#h-9.3.3

[20:24:00.0000] <othermaciej>
it's not a deity, it would be inappropriate to have faith in it

[20:26:00.0000] <othermaciej>
boblet: that sounds like something that should be specified by CSS, not HTML

[20:26:01.0000] <boblet>
othermaciej: I’m thinking about &shy;

[20:27:00.0000] <othermaciej>
boblet: did you look in the entity table?

[20:27:01.0000] <othermaciej>
http://dev.w3.org/html5/spec/Overview.html#named-character-references

[20:28:00.0000] <othermaciej>
it defines what unicode character &shy; maps to

[20:29:00.0000] <boblet>
othermaciej: yep it’s there. the reason I ask is an HTML5Doctor q wondering if it had been internationalized (I’m guessing because some languages don’t insert hyphens (Japanese for example) but HTML 4 says “a hyphen character must be displayed”

[20:29:01.0000] <boblet>
othermaciej: found http://www.w3.org/TR/css3-text/#hyphenate btw :)

[20:37:00.0000] <boblet>
huh. wonder how <wbr> compares to &shy;

[20:50:00.0000] <othermaciej>
<wbr> doesn't insert a hyphen

[21:03:00.0000] <boblet>
othermaciej: aah — just a word break opportunity. thanks for the correction

[21:03:01.0000] <boblet>
s/word/line/

[21:05:00.0000] <TabAtkins_>
Yay, talk went awesome!

[21:08:00.0000] <boblet>
good stuff TabAtkins_ :) which talk?

[21:11:00.0000] <TabAtkins_>
Quick hack talk at Google Tech User Group, about the fun things you can do with <video> and <canvas>.

[21:11:01.0000] <boblet>
nice :)

[21:12:00.0000] <TabAtkins_>
http://www.xanthir.com/video/demo0.html

[21:12:01.0000] <TabAtkins_>
And demo1, demo2, demo3

[21:12:02.0000] <TabAtkins_>
Page + source were my slides.

[21:13:00.0000] <TabAtkins_>
I pleasantly surprised myself with how easy it was to put together the demos.

[21:14:00.0000] <TabAtkins_>
A++++ Hixie for the <video>/<canvas> integration.

[21:15:00.0000] <llrcombs>
WTF?

[21:15:01.0000] <llrcombs>
<video src=video controls</video>

[21:16:00.0000] <TabAtkins_>
Haha, did I accidentally leave off a >?

[21:16:01.0000] <llrcombs>
yes

[21:16:02.0000] <llrcombs>
and there's just video

[21:16:03.0000] <llrcombs>
you need to quote that

[21:16:04.0000] <TabAtkins_>
No I don't.

[21:16:05.0000] <llrcombs>
yes you do

[21:16:06.0000] <othermaciej>
no he doesn't

[21:17:00.0000] <llrcombs>
oh wait I'm thinking XHTML

[21:17:01.0000] <boblet>
lol

[21:17:02.0000] <TabAtkins_>
Leaving off the > is a mistake (though one which the browser recovers from).  Leaving off the quotes is perfectly fine.

[21:17:03.0000] <llrcombs>
still, do it anyway (best practices)

[21:17:04.0000] <llrcombs>
and where's there a <canvas> in there?

[21:17:05.0000] <TabAtkins_>
My best practices is to leave them off when I know I can.

[21:17:06.0000] <miketaylr>
same

[21:17:07.0000] <llrcombs>
gets you into bad habits...

[21:18:00.0000] <TabAtkins_>
demo0 doesn't have a canvas - it was just to show off the <video>, since some people at the talk may not have done any html5 hacking yet.

[21:18:01.0000] <TabAtkins_>
?_?  No it doesn't.  It's very easy to tell when you need quotes - if it contains spaces, ', ", or `.

[21:18:02.0000] <TabAtkins_>
Or I guess >?

[21:18:03.0000] <boblet>
TabAtkins_ miketaylr that’s fine for you but does get c&p noobs into trouble

[21:19:00.0000] <TabAtkins_>
Noobs can get themselves into trouble all by themselves.

[21:19:01.0000] <boblet>
just something to keep in mind

[21:19:02.0000] <miketaylr>
<p id=reply>ORLY

[21:19:03.0000] <boblet>
TabAtkins_ too true. still I personally try to avoid helping them

[21:20:00.0000] <miketaylr>
;)

[21:20:01.0000] <TabAtkins_>
I'd rather noobs not get the impression that all the cool people quote everything.

[21:20:02.0000] <TabAtkins_>
I'm calling it - I had the coolest talk at the meeting.

[21:20:03.0000] <boblet>
TabAtkins_ why not?

[21:20:04.0000] <TabAtkins_>
boblet: That way lies the "XHTML is faster because... because!" dogma.

[21:21:00.0000] <llrcombs>
OK, that's impressive

[21:21:01.0000] <llrcombs>
demo3

[21:21:02.0000] <TabAtkins_>
Hehe.

[21:21:03.0000] <othermaciej>
in actual browsers, XHTML is slower

[21:21:04.0000] <TabAtkins_>
Yeah, for that one I did the code walkthrough befor showing it, because I knew it would be really cool.

[21:22:00.0000] <llrcombs>
XHTML == ...lolwat?

[21:22:01.0000] <boblet>
hrm, it’s a tricky line to walk — HTML5’s (well, UA) ability to handle various coding styles is nice, but learners prefer rules without exceptions

[21:22:02.0000] <TabAtkins_>
I'm fine with tutorials teaching a "safe" style.  But a random demo might as well show off the cooler, looser parts of HTML, like the ability to omit tags and quotes and such.

[21:23:00.0000] <miketaylr>
/me notices implicit <html>, <head>, and <body>

[21:23:01.0000] <boblet>
TabAtkins_: gonna write one of them blog post thingies that links to all demos?

[21:24:00.0000] <boblet>
so I can tweetify it?

[21:24:01.0000] <TabAtkins_>
boblet: I don't have a blog.  But I could.

[21:25:00.0000] <TabAtkins_>
Maybe I could write a guest entry for html5doctor?

[21:25:01.0000] <boblet>
;)

[21:25:02.0000] <boblet>
would love you to do that

[21:25:03.0000] <TabAtkins_>
All right, we'll talk tomorrow about it.

[21:25:04.0000] <TabAtkins_>
What's the coding style for the posts?

[21:26:00.0000] <boblet>
rgr

[21:26:01.0000] <boblet>
whatever you want — I’ll fix up anything that needs fixing

[21:26:02.0000] <TabAtkins_>
All right, no problem.

[21:27:00.0000] <boblet>
normally we’re doing an element per post so quoting from the spec, but I’m guessing you’ll write up the combo of canvas, video and track right?

[21:27:01.0000] <boblet>
so more a show and tell than in-depth look

[21:28:00.0000] <TabAtkins_>
Not <track>.  I'm not doing anything with that in the demos.

[21:28:01.0000] <boblet>
aah ok. ping me here or boblet on twitter. thanks in advance!

[21:29:00.0000] <TabAtkins_>
And yeah, my talk was just a quick surface tour of the video/canvas integration and what you can do with direct pixel access to the video frames.

[21:29:01.0000] <TabAtkins_>
Something to suggest future projects and provide some super-basic code to learn from.

[22:29:00.0000] <NetLarIrvine>
any real good html 5 books out there?

[22:32:00.0000] <NetLarIrvine>
I am a little confused about browser support for html 5

[22:34:00.0000] <NetLarIrvine>
How much does WebKit support it

[23:42:00.0000] <MikeSmith>
sunshine!

[23:42:01.0000] <MikeSmith>
another beautiful day

[23:42:02.0000] <MikeSmith>
happy thoughts!

[23:43:00.0000] <kennyluck>
A hot day, I should say.

[00:01:00.0000] <estellevw>
NetLarIrvine: you can take a look at http://caniuse.com to see what can now be used

[00:02:00.0000] <estellevw>
NetLarIrvine: I have way too indepth browser support grids at http://www.standardista.com. It doesn't cover everything, but provides an explanation of what it does cover. THere are support grids under the CSS3 and HTML5 tabs.

[00:04:00.0000] <estellevw>
NetLarIrvine: there are lots of support grids out there.  The Safari DiveIntoHTML5.org also has support within the chapter introductions to various elements and attributes.

[00:13:00.0000] <MikeSmith>
estellevw: would be good to have IE9 on your support tables

[00:13:01.0000] <estellevw>
I know, but I dont' have Windows Vista or 7, so haven't had a chance to test IE9 yet.

[00:14:00.0000] <estellevw>
unfortunately, IE9 won't run on XP

[00:14:01.0000] <llrcombs>
is it possible to define a start time for a <video>?

[01:41:00.0000] <MikeSmith>
http://www.adobe.com/enterprise/pdfs/html5_flash.pdf is interesting

[01:42:00.0000] <MikeSmith>
"Developers should favor the lightest-weight technology that will meet their requirements." seems a pretty good principle in general

[01:57:00.0000] <othermaciej>
since this is on Adobe's site, is it supposed to be pro-Flash?

[02:10:00.0000] <MikeSmithX>
othermaciej: dunno. it seems like it's copyrighted by Gartner and perhaps there without authorization

[02:15:00.0000] <kennyluck>
http://www.technologyreview.com/web/25728/?a=f

[02:15:01.0000] <kennyluck>
"Technology Review: Wikipedia to Add Meaning to Its Pages"

[02:44:00.0000] <MikeSmith>
kennyluck: great to hear that Wikipedia is finally adding some meaning to its pages

[03:06:00.0000] <annevk>
http://evc-cit.info/cit040/

[03:07:00.0000] <annevk>
looks like some need some further updates

[03:08:00.0000] <kennyluck>
HTML course? cool

[03:16:00.0000] <boblet>
TabAtkins: btw one requirement re: code samples — they’ll need to be x-browser

[03:19:00.0000] <annevk>
zcorpan_, I think Paul is wrong given that even the first edition clearly refers to the HTML <link> element

[03:19:01.0000] <annevk>
zcorpan_, what he's saying about media="" makes no sense whatsoever

[05:01:00.0000] <MikeSmith>
damn

[05:02:00.0000] <MikeSmith>
text selection in Terminal seems to be borked for me after most recent OSX system software update

[05:03:00.0000] <MikeSmith>
command-doubleclick seems to make the beachball appear every time, then spin spin spin

[05:08:00.0000] <Rik`>
what does cmd+doubleclick do ?

[05:16:00.0000] <MikeSmith>
Rik`: select a word, I think

[05:18:00.0000] <Rik`>
doubleclick is enough for that

[08:54:00.0000] <llrcombs>
is it possible to define a start time for a <video>?

[09:00:00.0000] <Lachy>
llrcombs, use the DOM API to seek to the desired time before the video starts playing

[09:22:00.0000] <TabAtkins>
boblet: Nothing in my code is Chrome-specific, just the video codec (since I just ripped it straight off of Youtube).  I'll need to find an h264->theora encoder to make my demos work in FF and Opera.

[09:23:00.0000] <Philip`>
TabAtkins: Not a WebM encoder?

[09:24:00.0000] <TabAtkins>
I suppose WebM would work, though it wouldn't work in public FF yet.

[09:24:01.0000] <TabAtkins>
Still, might as well be thorough.  ^_^

[09:24:02.0000] <Philip`>
It will soon, and I'm not aware of any long-term reasons to continue using Theora

[09:24:03.0000] <TabAtkins>
FF4 does WebM, right?

[09:24:04.0000] <zcorpan_>
yep

[09:25:00.0000] <llrcombs>
Lachy: on what event?

[09:25:01.0000] <llrcombs>
aww, gone

[09:25:02.0000] <TabAtkins>
kk, I'll do that instead.  So, where's an h264->webm encoder?

[09:25:03.0000] <Philip`>
http://www.webmproject.org/tools/ perhaps

[09:28:00.0000] <annevk>
llrcombs, I think you can seek right away

[09:28:01.0000] <boblet>
TabAtkins: yeah, that’d be good

[09:28:02.0000] <annevk>
so should we remove Theora support from Opera?

[09:29:00.0000] <annevk>
and Firefox / Chrome, but I have less influence there :)

[09:31:00.0000] <llrcombs>
immediately after element creation?

[09:31:01.0000] <zcorpan_>
"I'm currently converting a very simple Flash-animated advertisement into HTML5 and it's looking like switching to HTML5 is going to be more than ten times the work!" http://forums.whatwg.org/viewtopic.php?t=4322

[09:31:02.0000] <Philip`>
annevk: Not while <video> demos rely on it

[09:31:03.0000] <llrcombs>
I'm getting:

[09:31:04.0000] <llrcombs>
INVALID_STATE_ERR: DOM Exception 11: An attempt was made to use an object that is not, or is no longer, usable.

[09:31:05.0000] <annevk>
llrcombs, ah ok

[09:31:06.0000] <annevk>
is the spec too hard to read?

[09:31:07.0000] <Philip`>
/me doesn't know if there's much non-demo content that is unlikely to migrate to WebM

[09:31:08.0000] <llrcombs>
who, me?

[09:31:09.0000] <annevk>
/me looks

[09:32:00.0000] <zcorpan_>
Philip`: if we're going to remove it, seems better to remove it when only demos rely on it instead of 1% of the web relies on it

[09:32:01.0000] <annevk>
llrcombs, it seems you should wait for loadeddata to be dispatched

[09:32:02.0000] <annevk>
llrcombs, well, that's the earliest

[09:32:03.0000] <annevk>
afaict

[09:33:00.0000] <annevk>
you can also wait for canplay

[09:33:01.0000] <zcorpan_>
although i don't see any reason to remove support for theora

[09:33:02.0000] <annevk>
less features

[09:33:03.0000] <annevk>
to worry about

[09:33:04.0000] <zcorpan_>
yeah, less to maintain, true

[09:34:00.0000] <annevk>
less to tweak, optimize, port, etc.

[09:34:01.0000] <llrcombs>
videoEl.addEventListener("loadeddata",jumpToTime);?

[09:34:02.0000] <annevk>
especially with something as complex as a codec I'd think it's a win

[09:34:03.0000] <annevk>
llrcombs, yeah, something like that

[09:34:04.0000] <annevk>
llrcombs, you prolly need a third argument though

[09:34:05.0000] <annevk>
llrcombs, jumpToTime, false)

[09:34:06.0000] <zcorpan_>
annevk: talk to foolip

[09:35:00.0000] <annevk>
/me summons foolip

[09:35:01.0000] <Philip`>
zcorpan_: I assume 1% of the web wouldn't rely on it, since they'd have no reason to pick it instead of WebM, unless they've already got a load of Theora videos and don't have the originals to re-encode

[09:35:02.0000] <Philip`>
I guess Wikipedia might be in that category but I don't know who else

[09:36:00.0000] <zcorpan_>
Philip`: since when does content on the web use what makes sense instead of anything that is available?

[09:36:01.0000] <Philip`>
My assumption may indeed be foolish

[09:38:00.0000] <miketaylr>
TabAtkins: http://www.mirovideoconverter.com/

[09:38:01.0000] <miketaylr>
for h264 to webM

[09:38:02.0000] <TabAtkins>
Ah, danke miketaylr

[09:38:03.0000] <miketaylr>
de nada

[09:38:04.0000] <TabAtkins>
Crap, windows or mac only?

[09:39:00.0000] <miketaylr>
:/

[09:39:01.0000] <TabAtkins>
/me switches to his windows machine for a minute.

[09:39:02.0000] <Evet>
where to discuss about semantic web?

[09:40:00.0000] <llrcombs>
oh yeah

[09:40:01.0000] <annevk>
Evet, I think that's #swig

[09:40:02.0000] <llrcombs>
thx

[09:40:03.0000] <annevk>
Evet, but I'm not sure

[09:40:04.0000] <llrcombs>
actually, I don't think the last one's required

[09:40:05.0000] <Evet>
annevk: i think thats ok. thanks

[09:40:06.0000] <annevk>
llrcombs, might depend on the browser, but per the current specification it is

[09:41:00.0000] <llrcombs>
well, I should add that where it's missing

[09:41:01.0000] <annevk>
(it should become optional though, the argument is hardly ever useful)

[09:41:02.0000] <llrcombs>
true

[09:41:03.0000] <TabAtkins>
/me is once again temporarily stymied by the fact that computers don't come with a decent ftp client pre-installed.

[09:45:00.0000] <annevk>
TabAtkins, not running Ubuntu?

[09:45:01.0000] <TabAtkins>
annevk: On my windows box.

[09:45:02.0000] <TabAtkins>
Taken care of now, of course - I just pulled down filezilla real quick.

[09:45:03.0000] <annevk>
if you don't get a decent OS don't expect decent things

[09:46:00.0000] <TabAtkins>
Blame miketaylr for recommending a program that only runs on win and mac.

[09:46:01.0000] <miketaylr>
/me hides

[09:47:00.0000] <KaOSoFt>
._.

[09:47:01.0000] <TabAtkins>
Anyway, conversion is going now.  Slick little program.

[10:21:00.0000] <TabAtkins>
Hrm.  I don't understand why Opera decided it won't play the video at http://www.xanthir.com/video/demo0.html, but it will play the exact same file on my desktop.

[10:23:00.0000] <annevk>
media type?

[10:23:01.0000] <TabAtkins>
video/webm? (Guessed on that one.)

[10:23:02.0000] <annevk>
I think so

[10:23:03.0000] <annevk>
but http://www.xanthir.com/video/webm does not have that

[10:24:00.0000] <annevk>
it's text/plain :)

[10:24:01.0000] <annevk>
HTTP is hard...

[10:24:02.0000] <TabAtkins>
Gah, I'm telling it what the media type is in <source>.  It shouldn't pay any attention to the Content-Type.  >_<

[10:24:03.0000] <annevk>
and really, Content-Type is not needed at all with file signatures

[10:24:04.0000] <annevk>
TabAtkins, of course it should

[10:24:05.0000] <annevk>
TabAtkins, rtfs

[10:25:00.0000] <TabAtkins>
I refuse!

[10:26:00.0000] <TabAtkins>
/me just flails at his keyboard and is happy when something usable comes out.

[10:26:01.0000] <annevk>
that sounds like trying to let monkeys write shakespeare

[10:27:00.0000] <Philip`>
When I flail at my keyboard, all that comes out is crumbs and hairs

[10:28:00.0000] <TabAtkins>
Anyway, I'll go set the content-types appropriately.

[10:36:00.0000] <TabAtkins>
All right, done.  Works in Opera now.  Anyone got a firefox beta they want to help me test with?

[10:57:00.0000] <paul_irish>
TabAtkins: fails in minefield. i added the ogv to mine and everything was peachy

[10:58:00.0000] <paul_irish>
btw i had the webm and theora in place last night on this. ;)

[10:59:00.0000] <TabAtkins>
Bah.

[10:59:01.0000] <paul_irish>
hey i remember a conversation about what you could get away with while using unquoted attributes..

[10:59:02.0000] <paul_irish>
was there a resolution on that?

[11:00:00.0000] <paul_irish>
i'm mostly interested in what current useragents will allow.. (ie6 and everyone else) rather than what the spec sez

[11:00:01.0000] <TabAtkins>
Hm?  You can "get away with" anything that doesn't contain a space, any of the quotes, or >.

[11:00:02.0000] <TabAtkins>
Dunno about <.  That might kill things too.

[11:00:03.0000] <paul_irish>
Good. that's what I was hoping for.

[11:01:00.0000] <TabAtkins>
I'm yanking your theora video for myself.

[11:01:01.0000] <paul_irish>
TabAtkins: the demo is a hit, for sure.

[11:03:00.0000] <TabAtkins>
Heh, I see all the retweets of your post.

[11:07:00.0000] <TabAtkins>
/me needs to write a chrome extension for it now so it can run on everything on youtube.

[11:07:01.0000] <aboodman>
:)

[11:10:00.0000] <TabAtkins>
paul_irish: Check it in minefield now?

[11:13:00.0000] <Peter->
Samurai Pizza Cats, awesome

[11:13:01.0000] <Peter->
I used to watch that show

[11:13:02.0000] <TabAtkins>
Yeah, me too.  ^_^

[11:22:00.0000] <variable>
TabAtkins, there was a recent discussion about "<"

[11:22:01.0000] <variable>
current UAs allow it and the spec will also allow it

[11:23:00.0000] <TabAtkins>
variable: kk, cool.  I just know that "<video src=video</video>" was working 'correctly', so I wasn't sure if the < was immediatley breaking out of the attribute or only doing so because it looked like part of an end-tag.

[11:24:00.0000] <variable>
I think it is because it looks like an end tag

[11:24:01.0000] <variable>
does <video src=video<b>foo</b> work "correctly" ?

[11:25:00.0000] <TabAtkins>
To test it for real I'd need a firefox nightly - at the moment all my browsers are pre-html5-parser.

[11:25:01.0000] <TabAtkins>
/me supposes he could turn on the html5 parser in his ff.

[11:26:00.0000] <Peter->
Wouldn't the "foo" be seen as fallback-content until another block-level element occurs?

[11:26:01.0000] <variable>
TabAtkins, about:config html5.enabled --> on

[11:26:02.0000] <TabAtkins>
variable: Yeah, just turned it on.

[11:26:03.0000] <variable>
although on my windows box I use FF nightly anyay

[11:27:00.0000] <TabAtkins>
variable: No, it does not work correctly.  The "<b" are sucked into the attribute value, and then the ">" closes the tag, leaving the "foo</b>" as the contents.

[11:47:00.0000] <TabAtkins>
http://www.xanthir.com/:suh

[11:55:00.0000] <Philip`>
paul_irish: IE handles ` like a quote character too, so you can't start unquoted attribute value with that

[11:56:00.0000] <Hixie>
i forget, do y'all prefer it when an IDL attribute throws an exception when you set an invalid value, or do you prefer it to ignore hte invalid value?

[11:57:00.0000] <TabAtkins>
Personally prefer exceptions.

[11:57:01.0000] <zcorpan_>
Hixie: it depends

[11:58:00.0000] <zcorpan_>
Hixie: if it can be invalid sometimes because of race conditions or the author forgets a special case, then throwing is a bad idea

[11:59:00.0000] <zcorpan_>
Hixie: since it breaks the page sometimes or for some users

[11:59:01.0000] <Hixie>
this is for timedTrack.mode

[11:59:02.0000] <Hixie>
it is either 0, 1, or 2

[11:59:03.0000] <Hixie>
disabled, hidden, showing

[12:00:00.0000] <TabAtkins>
Then yeah, throw.

[12:00:01.0000] <zcorpan_>
that seems ok to throw

[12:00:02.0000] <Hixie>
k

[12:00:03.0000] <TabAtkins>
/me just likes things that are easy to debug, and exceptions are nice for that.

[12:01:00.0000] <Hixie>
/me tries to work out which exception to use

[12:01:01.0000] <Hixie>
INVALID_ACCESS_ERR maybe

[12:02:00.0000] <TabAtkins>
Access?

[12:03:00.0000] <Hixie>
it's definition seems the closest to what is appropriate her

[12:03:01.0000] <Hixie>
e

[12:04:00.0000] <TabAtkins>
Hmm, guess so.  The name is unintuitive, but a quick search turns up a useful definition.

[12:05:00.0000] <fwaokda>
I'm trying to get my ListView to display all strings in the array, but it's only displaying the first. Anyone can take a look here: http://pastebin.com/xeCS7494 -- and see if they can spot my error?

[12:05:01.0000] <zcorpan_>
or NOT_SUPPORTED_ERR if you intend to add more modes in the future?

[12:05:02.0000] <Hixie>
dunno what modes we'd add

[12:05:03.0000] <TabAtkins>
fwaokda: This probably isn't the best room for java/android dev.

[12:06:00.0000] <fwaokda>
TabAtkins, ya just saw was in wrong channel ;) sry

[12:24:00.0000] <paul_irish>
TabAtkins: http://paulirish.com/work/video2ascii/webkit.html

[12:24:01.0000] <paul_irish>
okay i guess i'll work now..

[12:24:02.0000] <Peter->
..lmao

[12:24:03.0000] <TabAtkins>
Hahaha

[13:19:00.0000] <Philip`>
I love it when web sites redirect me to a http://0.0.0.0?... URL when I click "submit" to confirm a payment

[13:19:01.0000] <Philip`>
/me eventually concluded it probably didn't perform the payment, then switched to a different browser which the site worked better in

[13:32:00.0000] <zcorpan_>
http://www.delphiki.com/websrt/

[13:33:00.0000] <Hixie>
pretty good except for the bit at the bottom

[13:34:00.0000] <zcorpan_>
yeah seems he misunderstood karaoke timestamps

[13:36:00.0000] <zcorpan_>
Hixie: btw why can't </rt> be omitted?

[13:38:00.0000] <Hixie>
in the syntax or in the parser?

[13:39:00.0000] <zcorpan_>
both

[13:39:01.0000] <Hixie>
didn't really think about it

[13:40:00.0000] <Hixie>
just seemed simpler this way

[13:40:01.0000] <Hixie>
i guess if people want we can make it optional

[13:41:00.0000] <zcorpan_>
i saw subtitles with seemingly deliberatly omitting </i> by just looking at a handful

[13:41:01.0000] <zcorpan_>
doesn't seem like a stretch that people are going to omit </rt> especially since it's optional in html

[13:41:02.0000] <Hixie>
yeah seems reasonable

[13:41:03.0000] <Hixie>
file a bug and i'll look into it

[13:48:00.0000] <llrcombs>
annevk: you here?

[13:54:00.0000] <karlushi>
/me might be interested by Jonas version of the specification

[14:01:00.0000] <dandaman>
so I'm using html5 to create a movile website, i was wondering what i should keep in mind when making it

[14:01:01.0000] <llrcombs>
a movie site, as in a streaming site?

[14:01:02.0000] <llrcombs>
s/streaming/youtube-ish/

[14:02:00.0000] <llrcombs>
video-sharing?

[14:03:00.0000] <zcorpan_>
has italics stopped working in vlc 1.1.0?

[14:03:01.0000] <dandaman>
no

[14:03:02.0000] <dandaman>
just a signup site

[14:03:03.0000] <dandaman>
i meant mobile

[14:03:04.0000] <dandaman>
not movile :\

[14:04:00.0000] <llrcombs>
oh

[14:04:01.0000] <zcorpan_>
dandaman: keep in mind that the screen is no bigger than what can fit in your pocket

[14:06:00.0000] <dandaman>
that is pretty much it then?

[14:07:00.0000] <zcorpan_>
http://my.opera.com/ODIN/blog/2010/04/12/making-your-site-mobile-friendly-rit-2010-moscow

[14:08:00.0000] <dandaman>
awesome, just the link i was looking for

[14:19:00.0000] <annevk>
llrcombs, am now

[14:20:00.0000] <annevk>
Hixie, actually, ignoring seems to be the convention

[14:21:00.0000] <annevk>
Hixie, that way you don't have to do try/catch nonsense when new values come around and otherwise it is just the same

[14:21:01.0000] <annevk>
Hixie, see e.g. most attributes on the 2D context API

[14:32:00.0000] <annevk>
sweet

[14:33:00.0000] <annevk>
a guy supposedly from Microsoft with a yahoo.com email address starts commenting on hybi

[14:33:01.0000] <annevk>
on the requirements document...

[14:33:02.0000] <annevk>
/me reads

[14:35:00.0000] <annevk>
make that skimming

[14:35:01.0000] <annevk>
seems mostly nitpicking

[14:36:00.0000] <annevk>
lol

[14:36:01.0000] <annevk>
someone on public-html-comments is trying to explain to me how the ID and NAME attributes work and how they're different

[14:38:00.0000] <annevk>
I do agree with him that the window named item stuff is horribly ugly

[14:38:01.0000] <zcorpan_>
should we limit it to quirks mode?

[14:38:02.0000] <annevk>
an odd question coming from you

[14:39:00.0000] <annevk>
changed your mind on that?

[14:39:01.0000] <TabAtkins>
Does that stuff happen before or after js globals get defined?

[14:40:00.0000] <zcorpan_>
no, but if all webdevs hate it it might be a good thing

[14:40:01.0000] <annevk>
fair enough

[14:41:00.0000] <zcorpan_>
TabAtkins: what do you mean?

[14:42:00.0000] <TabAtkins>
If a @name gets turned into a global on window, and a js variable of the same name gets defined as a global, which wins?

[14:44:00.0000] <zcorpan_>
the variable

[14:44:01.0000] <TabAtkins>
That's what I thought.

[14:46:00.0000] <llrcombs>
when I try to set a <video>'s .currentTime in the canPlay event, I get INDEX_SIZE_ERR: DOM Exception 1: Index or size was negative, or greater than the allowed value.

[14:47:00.0000] <llrcombs>
should I be waiting for a later event?

[14:47:01.0000] <zcorpan_>
does you server support range requests?

[14:48:00.0000] <llrcombs>
here, it's YouTube

[14:48:01.0000] <llrcombs>
so yes

[14:48:02.0000] <llrcombs>
(however, FLV videos don't work with range requests because their indexes aren't at the beginning of the file)

[14:48:03.0000] <zcorpan_>
then you should be able to seek to anywhere between starttime and duration

[14:48:04.0000] <llrcombs>
is there a canPlayTo()?

[14:49:00.0000] <zcorpan_>
there's .seekable

[14:51:00.0000] <llrcombs>
document.getElementsByTagName("video")[0].seekable.end() is giving the latest loaded portion

[14:51:01.0000] <llrcombs>
given an FLV

[14:52:00.0000] <zcorpan_>
/me is concerned about use of .end() without a parameter

[14:53:00.0000] <llrcombs>
what should the parameter be?

[14:53:01.0000] <llrcombs>
I didn't know seekable existed, so I experimented

[14:54:00.0000] <zcorpan_>
index of the range you're interested in

[14:54:01.0000] <llrcombs>
and it returns...

[14:55:00.0000] <zcorpan_>
Returns the time for the end of the range with the given index.

[14:56:00.0000] <llrcombs>
alrighty, so I should leave the param as 0

[14:56:01.0000] <llrcombs>
what I want to do is jump to a certain point in the video ASAP

[14:56:02.0000] <llrcombs>
(a point defined in window.location.hash)

[14:57:00.0000] <zcorpan_>
if range requests don't work with flv, then maybe you can use a different format? range request search is what you want

[14:58:00.0000] <llrcombs>
well, I don't have control over the format

[14:58:01.0000] <zcorpan_>
which browser supports playing flv in video?

[14:58:02.0000] <llrcombs>
I can force YouTube to load an MP4, but that often degrades quality

[14:58:03.0000] <llrcombs>
Safari with Perian

[14:58:04.0000] <zcorpan_>
ok

[14:59:00.0000] <llrcombs>
if an MP4 is loaded (because that's the highest-quality version available, or Perian is not installed), this should work fine

[14:59:01.0000] <zcorpan_>
i guess you can poll seekable

[14:59:02.0000] <zcorpan_>
or just try/catch setting currentTime

[14:59:03.0000] <llrcombs>
and retry on an interval?

[14:59:04.0000] <zcorpan_>
yeah

[15:00:00.0000] <llrcombs>
or set the onProgress (or whatever the event name is) handler

[15:00:01.0000] <zcorpan_>
although the spec might be changed (or has already been changed? don't recall) so that currentTime doesn't throw but seeks to the closest time that is seekable

[15:00:02.0000] <llrcombs>
well, currently, in WebKit (my target audience), it throws

[15:01:00.0000] <zcorpan_>
"If the (possibly now changed) new playback position is not in one of the ranges given in the seekable attribute, then let it be the position in one of the ranges given in the seekable attribute that is the nearest to the new playback position."

[15:01:01.0000] <zcorpan_>
expect webkit to change to match the spec

[15:02:00.0000] <zcorpan_>
so polling seekable seems better than causing a seek

[15:04:00.0000] <llrcombs>
(I'm trying to emulate YouTube's #t=<n>m<n>s for HTML5)

[15:39:00.0000] <dandaman>
can anyone direct me how to a site or an explanation on how to make a site fit to screen...still developing this site for mobile phones

[15:39:01.0000] <dandaman>
would be nice for it to scale

[15:40:00.0000] <zcorpan_>
do you want a different default zoom level?

[15:41:00.0000] <dandaman>
i want the zoom level to be default

[15:41:01.0000] <dandaman>
make it depend on the resolution of the viewer's screen

[15:41:02.0000] <dandaman>
not sure if that is possible :\

[15:42:00.0000] <zcorpan_>
maybe you want the viewport meta tag

[15:43:00.0000] <dandaman>
thanks

[15:43:01.0000] <dandaman>
ill look it up

[15:44:00.0000] <TabAtkins>
Check out ppk's exploration of that on quirksmode.

[15:46:00.0000] <dandaman>
hey zcorpan_: you're awesome

[15:48:00.0000] <zcorpan_>
dandaman: i'll send a bill :)

[15:51:00.0000] <dandaman>
hold off on it

[15:51:01.0000] <dandaman>
it didnt work

[15:52:00.0000] <zcorpan_>
crap

[15:53:00.0000] <dandaman>
<meta name="viewport" content="width=device-width, height=device-height, user-scalable=yes" />

[15:53:01.0000] <dandaman>
i put that in the head

[15:53:02.0000] <dandaman>
and it didnt fit to the screen on the emulator for android :\

[15:54:00.0000] <zcorpan_>
does the emulator for android support meta viewport?

[15:55:00.0000] <dandaman>
http://learnthemobileweb.com/2009/07/mobile-meta-tags/

[15:55:01.0000] <dandaman>
according to that it does

[15:55:02.0000] <zcorpan_>
the content can still overflow the viewport if you set a fixed width or similar

[15:57:00.0000] <dandaman>
yeah but it stayed at default

[15:57:01.0000] <dandaman>
it didnt get any bit larger

[16:00:00.0000] <zcorpan_>
dunno

[16:00:01.0000] <zcorpan_>
time to sleep

[16:25:00.0000] <karlcow>
http://www.infoq.com/news/2010/07/html5-novnc

[16:25:01.0000] <karlcow>
noVNC is a VNC client, implemented using HTML5 WebSockets, Canvas and JavaScript. 

[16:25:02.0000] <karlcow>
http://kanaka.github.com/noVNC/screenshots.html

[16:26:00.0000] <daedb>
neat

[16:43:00.0000] <variable>
I have a simple idea for full screen on HTML5 video. Make it a UA issue. have some function makeFullScreen() that returns true or false if it worked. All current browsers would just implement it as return false; If any browser figures out some way to safely make the function actually work. The spec does not have to concern itself with the issue but still allows for some standard way if some browser *does* figure it out.

[16:44:00.0000] <Philip`>
That sounds like trying to solve the problem by not bothering to solve it

[16:44:01.0000] <Philip`>
which isn't really a solution :-p

[16:44:02.0000] <variable>
Philip`, it puts the problem in the hands of those that should be solving it.

[16:45:00.0000] <Philip`>
If a browser figures out a way to implement it, they can discuss it with other browser people in a standards group and the result of the discussion can be put in the spec

[16:50:00.0000] <dandaman>
I want to make my web page fit to any mobile device's screen

[16:50:01.0000] <dandaman>
would the best way to do this be through css?


2010-07-09
[17:21:00.0000] <Rik`>
dandaman: you can use media queries in CSS

[17:21:01.0000] <dandaman>
see

[17:21:02.0000] <dandaman>
i did that

[17:21:03.0000] <dandaman>
<style>

[17:21:04.0000] <dandaman>
  @media handheld {

[17:21:05.0000] <dandaman>
    div.larger{font-size:72px;}

[17:21:06.0000] <dandaman>
  }

[17:21:07.0000] <dandaman>
  </style>

[17:21:08.0000] <dandaman>
but nothing has changed on my android emulator

[17:22:00.0000] <Rik`>
dandaman: handheld is not really supported on mobile devices

[17:22:01.0000] <dandaman>
so which should i be using?

[17:22:02.0000] <Rik`>
@media screen and (max-device-width: 400px) should work better

[17:22:03.0000] <Rik`>
(don't know if 400px is a good value)

[17:23:00.0000] <dandaman>
do you know if there is a way to make it so it automatically fits the resolution of the device it's on?

[17:24:00.0000] <Rik`>
the meta viewport should work

[17:24:01.0000] <dandaman>
i tried that

[17:24:02.0000] <dandaman>
didnt change anything on the emulator

[17:25:00.0000] <dandaman>
i did width=device-width

[17:29:00.0000] <dandaman>
actually I'm mistaken with my question

[17:29:01.0000] <dandaman>
everytime i try to see the webpage on the emulator

[17:29:02.0000] <dandaman>
the font is really really small

[17:29:03.0000] <dandaman>
and i need to zoom in a lot

[17:30:00.0000] <dandaman>
i want to make it so i start zoomed in on the content

[17:31:00.0000] <Rik`>
the meta viewport is here for that normally

[17:32:00.0000] <dandaman>
<meta name="viewport" content="width=device-width, height=device-height,minimum-scale=20, user-scalable=yes" />

[17:32:01.0000] <dandaman>
is that right?

[17:32:02.0000] <Rik`>
just use <meta name="viewport" content="width=device-width">

[17:33:00.0000] <Rik`>
there's no "height" parameter, user-scalable defaults to yes

[17:33:01.0000] <Rik`>
try that first

[17:34:00.0000] <dandaman>
I think the android emulator might just be broken

[17:41:00.0000] <dandaman>
Rik`: do you know if there is a way to extract the resolution from a device?

[17:41:01.0000] <dandaman>
maybe through javascript or something?

[17:42:00.0000] <Rik`>
screen.width and screen.height I think

[17:42:01.0000] <Rik`>
see http://quirksmode.org/mobile/tableViewport.html and http://quirksmode.org/mobile/ in general

[17:42:02.0000] <dandaman>
oh cool, thanks

[17:43:00.0000] <dandaman>
sweey

[17:43:01.0000] <dandaman>
sweet

[18:15:00.0000] <Hixie>
wow, only the rendering rules to go

[19:41:00.0000] <arosenberg>
HTML5 finally guarantees that an injected script tag will receive an 'error' Event if the src can't be fetched.

[19:41:01.0000] <arosenberg>
However, XMLHTTPRequest has provisions to learn the status code, etc. from the fetch.

[19:42:00.0000] <arosenberg>
It seems like a big gap to not have status code and headers from the response made available somewhere.

[19:45:00.0000] <arosenberg>
Case in point: Twitter can return rate limiting information as headers along with a 400 response to a JSONP query, but there's no standard way to retrieve that info.

[19:46:00.0000] <arosenberg>
One might call that a failure of their API design, but it still seems like functionality that should be in the standard.

[21:25:00.0000] <MikeSmith>
boblet: naoko and I are on a nozomi on the way to Kyoto

[21:26:00.0000] <boblet>
MikeSmith: nice — what are you up to down ther?

[21:26:01.0000] <boblet>
there?

[21:27:00.0000] <MikeSmith>
we'll be around this afternoon sightseeing about it, have some plans tomorrow, then free I think on Sunday in the daytime, and leaving around 7pm to head back to Tokyo

[21:27:01.0000] <MikeSmith>
I don't know what I meant by "about it"..

[21:27:02.0000] <MikeSmith>
oh

[21:27:03.0000] <MikeSmith>
I meant "sightseeing a bit"

[21:30:00.0000] <MikeSmith>
boblet: btw, I made some minor formatting tweaks to the generated "HTML5 (Edition for Web Authors)" subset of the spec - http://dev.w3.org/html5/spec-author-view/

[21:30:01.0000] <MikeSmith>
please take a look at it when you have time and let me know if there's anything else that might be worthwhile to tweak in it to make it more useful

[21:30:02.0000] <MikeSmith>
I can't add substantive content

[21:31:00.0000] <MikeSmith>
because it needs to remain a strict subset of the spec

[21:31:01.0000] <boblet>
MikeSmith: will do

[21:31:02.0000] <boblet>
MikeSmith: when are you arriving?

[21:31:03.0000] <MikeSmith>
2:30

[21:32:00.0000] <boblet>
hrm not much time for sightseeing before dark. I guess you’ll have eaten?

[21:32:01.0000] <MikeSmith>
eating bento on the train

[21:32:02.0000] <MikeSmith>
but probably hungry again and eat once we get there

[21:32:03.0000] <MikeSmith>
we are meeting up with Naoko's mom there

[21:32:04.0000] <MikeSmith>
and going to Nanzenji

[21:33:00.0000] <MikeSmith>
(about the doc I can add, e.g., some CSS generated text where it might be useful)

[21:33:01.0000] <boblet>
i have to pick my daughter up tonight so I prolly couldn’t leave the station if I came today. want to eat dessert like last time, or would Sunday be better?

[21:35:00.0000] <MikeSmith>
either way that works for you, if you have time

[21:35:01.0000] <MikeSmith>
otherwise, you're visiting Tokyo again soon, right?

[21:35:02.0000] <MikeSmith>
we could definitely meet for tea or whatever at the station today if you can make time

[21:35:03.0000] <boblet>
I’ll be up for next WDE-Ex, 24-26th

[21:36:00.0000] <boblet>
yeah let’s do that

[21:36:01.0000] <MikeSmith>
OK

[21:36:02.0000] <boblet>
I’ll pop up and aim to be there by 2:30

[21:36:03.0000] <MikeSmith>
OK

[21:37:00.0000] <MikeSmith>
will give you a call when we arrive

[21:38:00.0000] <boblet>
rgr

[21:38:01.0000] <MikeSmith>
boblet: btw, I did add a paragraph to the Abstract of the doc - the part with the green outline at http://dev.w3.org/html5/spec-author-view/

[21:38:02.0000] <MikeSmith>
if you have suggestions for the wording of that, lemme know

[21:39:00.0000] <boblet>
ok will check it out

[21:41:00.0000] <MikeSmith>
Hixie: when you have some time, please peruse http://dev.w3.org/html5/spec-author-view/ a bit and let me know if you have any suggestions for refining formatting or whatever to make it clear that it's the author view and not the full spec

[21:42:00.0000] <MikeSmith>
one thing I did was to append the text "(details for Web authors)" to all the h3 and below headings

[21:43:00.0000] <boblet>
MikeSmith: would you also be interested in asking Ben Schwarz for feedback? ref: http://www.germanforblack.com/articles/moving-towards-readable-w3c-specs

[21:43:01.0000] <MikeSmith>
yeah sure

[21:43:02.0000] <MikeSmith>
if you know him, please feel free to give him a heads-up about it yourself

[21:43:03.0000] <boblet>
ok will ping him (although his viewpoint might be more to start from scratch :) )

[21:43:04.0000] <boblet>
(he’s coming over for RubyConf in Aug btw)

[21:44:00.0000] <MikeSmith>
maybe the author view would be a good place to experiment with some of his formatting ideas

[21:44:01.0000] <MikeSmith>
ah great

[21:44:02.0000] <MikeSmith>
will be good to meet him

[21:44:03.0000] <boblet>
agreed

[21:46:00.0000] <MikeSmith>
boblet: thanks for thinking about that -- it seems like it could work out really well if he has the time

[21:47:00.0000] <MikeSmith>
what I'd be inclined to do is just give him commit access to the source in that subdir and just leave it up to him to experiment with as he'd like, and I'd just step out of the way 

[21:47:01.0000] <MikeSmith>
as far as the CSS/styling goes, I mean 

[21:48:00.0000] <MikeSmith>
it occurs to me that it might be a very nice thing indeed for the author view to have a very different look and feel from the full spec

[21:50:00.0000] <MikeSmith>
and a very CSS Zen Gardeny way of showing how formatting can be used to tune views of the same spec source for different audience needs 

[22:05:00.0000] <MikeSmith>
boblet: the more I think about the idea of having Ben come and do work some design magic, the more I like it

[22:05:01.0000] <MikeSmith>
feel free to let him know I'm really enthusiastic about it

[22:06:00.0000] <MikeSmith>
or I guess, maybe just Cc me on the message you send him

[22:06:01.0000] <MikeSmith>
(if you've not already sent it)

[22:09:00.0000] <boblet>
writing it now

[22:10:00.0000] <boblet>
think he’s really busy (presenting on HTML5 at WDS) but he’s also really keen. maybe I can tag-team with him

[22:12:00.0000] <MikeSmith>
yeah, definitely

[22:13:00.0000] <MikeSmith>
you guys would have free rein

[22:13:01.0000] <MikeSmith>
unless/until you do something that I don't like

[22:13:02.0000] <MikeSmith>
then I pull the plug

[22:13:03.0000] <MikeSmith>
and the fun will be over

[22:14:00.0000] <boblet>
heh

[22:14:01.0000] <MikeSmith>
anyway, seriously, I think this could be a big win on getting HTML5 info out to authors in a more friendly and usable form

[22:28:00.0000] <cardona507>
i'm late to the party

[22:30:00.0000] <MikeSmith>
cardona507: hey

[22:30:01.0000] <MikeSmith>
what's the 507 for?

[22:31:00.0000] <MikeSmith>
cardona507: if this is your first time here, I have to give you the obligatory warning that if you spend time on this channel, you are guilty by association

[22:31:01.0000] <MikeSmith>
and anything you say here can and will be held against you

[22:31:02.0000] <cardona507>
my name is carlos and my fam/friends call me los - 507 is los upside down - it's a tag that remains from when I was younger

[22:32:00.0000] <cardona507>
MikeSmith: you got me feelin nervous

[22:32:01.0000] <MikeSmith>
:)

[22:32:02.0000] <MikeSmith>
Carlos, we met before, right?

[22:32:03.0000] <MikeSmith>
at TPAC?

[22:32:04.0000] <cardona507>
i heard what happens when you hang out with that WHATWG crowd

[22:32:05.0000] <cardona507>
yep we sure did

[22:32:06.0000] <cardona507>
how have you been?

[22:33:00.0000] <MikeSmith>
cardona507: yeah, the whatwg disease is contagious

[22:33:01.0000] <MikeSmith>
cardona507: I am doing great

[22:33:02.0000] <cardona507>
busy?

[22:33:03.0000] <MikeSmith>
getting some good stuff done

[22:33:04.0000] <MikeSmith>
"busy" is relative, I guess

[22:33:05.0000] <MikeSmith>
I have recently been spending a lot of time on telephone conferences

[22:34:00.0000] <cardona507>
working groups?

[22:34:01.0000] <MikeSmith>
groups and other W3C calls

[22:35:00.0000] <MikeSmith>
it is really useful to be able to talk with other people on the phone in real time

[22:35:01.0000] <cardona507>
i agree - i'm not sure if I like working with a group or virtual better

[22:35:02.0000] <MikeSmith>
but it can also be pretty wearying sometimes

[22:35:03.0000] <cardona507>
I really like working from home - but with my son running around it can be hectic

[22:36:00.0000] <MikeSmith>
yeah

[22:36:01.0000] <MikeSmith>
but that gives you a good excuse to take a break now and then

[22:36:02.0000] <MikeSmith>
I sit at my PC for hours sometimes without getting up

[22:36:03.0000] <MikeSmith>
reading through e-mail, or on calls

[22:36:04.0000] <cardona507>
thats for sure

[22:37:00.0000] <MikeSmith>
so it takes up a lot of time, but seems odd a bit to call it "busy"

[22:37:01.0000] <MikeSmith>
I don't know how much e-mail you get, but I am finding it more and more difficult to keep up with the volume of mail I need to read every day

[22:37:02.0000] <MikeSmith>
I spend several hours a day just reading e-mail

[22:38:00.0000] <MikeSmith>
some days, I'd guess 4 hours or so

[22:38:01.0000] <MikeSmith>
of just reading

[22:39:00.0000] <MikeSmith>
for me at least, I really find IRC and other real-time chat/IM mechanisms a better way of dealing with a lot of daily communication tasks

[22:39:01.0000] <MikeSmith>
anyway, I digress

[22:39:02.0000] <MikeSmith>
as usual

[22:39:03.0000] <MikeSmith>
cardona507: it's great to have you here

[22:40:00.0000] <MikeSmith>
I hope you end up hanging around more

[22:40:01.0000] <MikeSmith>
because there's a lot of really useful discussion that takes place here

[22:40:02.0000] <MikeSmith>
amidst my nonsense

[22:40:03.0000] <MikeSmith>
and a lot you can learn here

[22:43:00.0000] <estellevw>
Question about microdata versus microformats.....

[22:43:01.0000] <estellevw>
microdata is the idea of using the itemprop attribute, not class attribute like microformats, so microformats really aren't part of html5, or are they somehow?

[22:43:02.0000] <estellevw>
Do i have that right?

[22:44:00.0000] <cardona507>
MikeSmith: thanks - I really appreciate it

[22:44:01.0000] <cardona507>
and truthfully I learned a whole lot from a localStorage tutorial of yours that I found on the web - just for the record :)

[22:44:02.0000] <MikeSmith>
cardona507: oh man, that thing is so old.. I should take it down

[22:44:03.0000] <MikeSmith>
if you mean that little demo I made

[22:45:00.0000] <cardona507>
yep

[22:45:01.0000] <cardona507>
i've found my way back to it more than once

[22:45:02.0000] <cardona507>
it's the #1 search for 'localstorage demo' on google

[22:45:03.0000] <MikeSmith>
estellevw: Microdata is integrated in the whatwg version of the spec, but is published as a separate document from the W3C version of HTML5

[22:46:00.0000] <MikeSmith>
cardona507: wow

[22:46:01.0000] <MikeSmith>
I'm #1!

[22:46:02.0000] <MikeSmith>
that's scary, really

[22:47:00.0000] <estellevw>
http://people.w3.org/mike/localstorage.html

[22:47:01.0000] <estellevw>
very nice!

[22:47:02.0000] <MikeSmith>
there are much better local storage demos on the Web than that one

[22:47:03.0000] <estellevw>
yours is nice and simple though, so easy to learn from 

[22:47:04.0000] <MikeSmith>
and anyway I just stole that one from a demo that Hixie made!

[22:48:00.0000] <cardona507>
haha

[22:48:01.0000] <cardona507>
then I don't feel so bad that I reused that code :)

[22:48:02.0000] <MikeSmith>
estellevw: oh, I see you were asking about microformats

[22:48:03.0000] <MikeSmith>
not microdata

[22:48:04.0000] <MikeSmith>
I guess the microformats mechanism could be considered "part of" HTML

[22:49:00.0000] <MikeSmith>
but not the specific microformats vocabularies

[22:49:01.0000] <MikeSmith>
the actual semantics of the microformats class values are not defined in HTML5

[22:50:00.0000] <estellevw>
mikesmith: yes, wondering about the relation. I always thought they were the same, but now that i am looking at the spec for the first time for microdata, it seems that microdata liked the microformats idea, but may never take off on its own, though i guess we can use both microdata classes and itemprop style attributes at the same time

[22:50:01.0000] <estellevw>
ok, thanks for clarifying.

[22:52:00.0000] <MikeSmith>
estellevw: I think the way that Web developers/authors should consider the various linked-data/structured-data markup mechanisms is, use whichever one like and that solves whatever problem or need it is that you're aiming for

[22:53:00.0000] <MikeSmith>
I think one specific need that people have now is to add data so that it will get indexed in the right way for Google's Rich Snippets thing

[22:53:01.0000] <estellevw>
Right now microformats are fairly well supported by humans and machines alike.

[22:53:02.0000] <MikeSmith>
yeah

[22:53:03.0000] <MikeSmith>
exactly

[22:53:04.0000] <MikeSmith>
and by things like Google Rich Snippets

[22:54:00.0000] <estellevw>
so i don't see microdata taking off and replacing it

[22:54:01.0000] <estellevw>
they likely can co-exist nicely in code

[22:54:02.0000] <MikeSmith>
microformats was never intended to replace anything

[22:54:03.0000] <estellevw>
but wondering if anyone major will start scraping for itemprop/itemscope in the next 2 years

[22:54:04.0000] <estellevw>
no, i understand that

[22:55:00.0000] <kennyluck>
estellevw, their are microdata parsers alreday.

[22:55:01.0000] <estellevw>
reading the spec i feel like the spec is offering a standardiszed replacement

[22:55:02.0000] <kennyluck>
s/their/there/

[22:55:03.0000] <MikeSmith>
OK -- yeah, it was intended to provide another option for those people who want one -- a mechanism that has a very clearly and precisely defined processing model, and an API

[22:55:04.0000] <estellevw>
who is parsing microdata

[22:56:00.0000] <estellevw>
yeah, i like it.  i think having an attribute just for that is helpful. multipurposing class was a good idea too

[22:57:00.0000] <kennyluck>
Well, the Goolge Rich Snippets mechanism reads Microdata as well as microformat and RDFa.

[22:58:00.0000] <estellevw>
thanks kennyluck

[22:58:01.0000] <estellevw>
an you too, mikesmith

[22:58:02.0000] <MikeSmith>
cheers

[22:59:00.0000] <MikeSmith>
there's a statement I came across in an odd place yesterday that I think is nonetheless really well put: "Developers should favor the lightest-weight technology that will meet their requirements."

[23:01:00.0000] <MikeSmith>
so I guess that if, e.g., somebody finds that using microformats markup is all they need in order to get Google Rich Snippets to index their docs the way they want, then it makes good sense for them to use that

[23:01:01.0000] <estellevw>
is anyone else having an issue with microformats.org ... it reloads to a blank page on page load for me.

[23:02:00.0000] <MikeSmith>
estellevw: same here

[23:02:01.0000] <MikeSmith>
it seems to be borked

[23:02:02.0000] <estellevw>
wondering if there is a need to duplicate efforts: <span class="fn" itemprop="fn"

[23:02:03.0000] <estellevw>
some script

[23:02:04.0000] <estellevw>
should I let @t know, or is he no longer involved with it?

[23:03:00.0000] <MikeSmith>
dunno if he is responsible for the site or not

[23:03:01.0000] <MikeSmith>
maybe ask on #microformats channel here?

[23:06:00.0000] <estellevw>
ah, thanks. good idea

[23:09:00.0000] <estellevw>
no one has said anything there in days, but i'll try pinging the actives there, like jonathan neal, boblet and adactio. maybe one of them knows

[23:10:00.0000] <MikeSmith>
kennyluck: the concept of a "property" is something that is part of RDF, right?

[23:11:00.0000] <MikeSmith>
basically meaning the same thing as "predicate"

[23:11:01.0000] <MikeSmith>
or not?

[23:11:02.0000] <kennyluck>
MikeSmith, yeah it means predicate, and is defined in RDF.

[23:11:03.0000] <MikeSmith>
OK

[23:12:00.0000] <kennyluck>
But a property usually connects two things, so it is also similar to "property" in programming language's sense.

[23:12:01.0000] <kennyluck>
s/usually/always/

[23:15:00.0000] <MikeSmith>
kennyluck: so let me ask another question

[23:15:01.0000] <MikeSmith>
a very high level one

[23:16:00.0000] <MikeSmith>
HTML has a number of elements which have attributes whose values are URIs

[23:16:01.0000] <MikeSmith>
It would seem to me that those elements are particularly useful for marking up linked data

[23:16:02.0000] <MikeSmith>
regardless of what markup mechanism you use

[23:17:00.0000] <kennyluck>
Yes.

[23:17:01.0000] <kennyluck>
RDFa uses this mechanism

[23:17:02.0000] <kennyluck>
So href and src could be the target of a property.

[23:17:03.0000] <MikeSmith>
but I am not sure how to describe in general terms why they are useful for linked-data purposes

[23:17:04.0000] <kennyluck>
But it's a bit hacky, I have to say.

[23:18:00.0000] <MikeSmith>
kennyluck: understood

[23:18:01.0000] <kennyluck>
Uhh, in some sense, HTML is linked data.

[23:18:02.0000] <kennyluck>
So what you are saying makes a lot of sense.

[23:18:03.0000] <kennyluck>
s/HTML/HTML-HTML linking/

[23:19:00.0000] <MikeSmith>
OK, so what I am asking is, how do I describe how, at a conceptual level, an element that has a URI attribute is especially useful for linked-data purposes?

[23:19:01.0000] <kennyluck>
or HTML-IMG linking

[23:21:00.0000] <kennyluck>
Because, in the linked-data world, we actually prefer cross domain/cross machine links. And HTML has this ability <img> <a> <script>. Becuase they use URLs.

[23:21:01.0000] <kennyluck>
(I am not sure I am answering the question...)

[23:21:02.0000] <kennyluck>
MikeSmith

[23:22:00.0000] <kennyluck>
The Web is interesting because it's decentralized. I guess.

[23:22:01.0000] <kennyluck>
The links are cool data. Not just the contents.

[23:22:02.0000] <kennyluck>
So I really like blog posts. :)

[23:47:00.0000] <mhausenblas>
/me now realises where kennyluck has been in the past 30min :P

[23:49:00.0000] <Hixie>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10061 http://www.w3.org/Bugs/Public/show_bug.cgi?id=10113

[23:49:01.0000] <Hixie>
i can't win

[23:59:00.0000] <hsivonen>
Hixie: awesome

[00:18:00.0000] <estellevw>
question about itemtype attribute

[00:18:01.0000] <estellevw>
if the value is an URL

[00:19:00.0000] <estellevw>
what is supposed to be at that URL?

[00:19:01.0000] <estellevw>
a DTD for the microdata type?

[00:19:02.0000] <hsivonen>
estellevw: nothing

[00:19:03.0000] <kennyluck>
I am interested in this question as well.

[00:20:00.0000] <annevk>
http://www.whatwg.org/specs/web-apps/current-work/complete/microdata.html#item-type

[00:20:01.0000] <kennyluck>
If nothing, then I guess using reverse DNS would be more appropriate.

[00:20:02.0000] <annevk>
"Item types are opaque identifiers, and user agents must not dereference unknown item types, or otherwise deconstruct them, in order to determine how to process items that use them."

[00:20:03.0000] <annevk>
kennyluck, we had that, but people did not like that

[00:21:00.0000] <estellevw>
so, each itemscope with the same microdata structure should point to the same URI, but nothing needs to be at that URI - a 404 is ok?

[00:21:01.0000] <hsivonen>
estellevw: 404 is OK

[00:21:02.0000] <kennyluck>
This is kind of a stupid result, I suppose.

[00:21:03.0000] <annevk>
yeah, it's just an identifier that looks like a URL

[00:21:04.0000] <annevk>
kennyluck, RDF has pretty much the same

[00:21:05.0000] <kennyluck>
Linked Data asks every URL to be dereferenceable.

[00:21:06.0000] <annevk>
kennyluck, in fact, we got this because of RDF afaik

[00:21:07.0000] <kennyluck>
No, this is some old thinking.

[00:21:08.0000] <estellevw>
or it could be any random string, other than the official microdata uri

[00:22:00.0000] <kennyluck>
You shouldn't listen to those who don't understand HTTP.

[00:22:01.0000] <annevk>
estellevw, well, it has to be a URL

[00:22:02.0000] <estellevw>
"Item types are opaque identifiers, and user agents must not dereference unknown item types, or otherwise deconstruct them, in order to determine how to process items that use them." is confusing to me, and i am a native english speaker

[00:22:03.0000] <annevk>
kennyluck, see e.g. XML Namespaces

[00:23:00.0000] <kennyluck>
Yes, I know I know. But FYI, W3C has the policy that XML Namespaces should ALL be dereferenceable.

[00:23:01.0000] <kennyluck>
I mean XML namesapces starting with http://www.w3.org/

[00:23:02.0000] <annevk>
W3C also does that wrongly in several cases

[00:24:00.0000] <hsivonen>
estellevw: I think it's more confusing the the RDF folks thought it was a great idea to use Web addresses for identifying things that aren't the documents pointed to by the URLs

[00:24:01.0000] <kennyluck>
That's a mistake, then.

[00:24:02.0000] <annevk>
ever tried to dereference http://www.w3.org/1999/xhtml or http://www.w3.org/1999/xlink ?

[00:24:03.0000] <annevk>
oh, maybe it was not the XLink namespace

[00:24:04.0000] <annevk>
or maybe it got fixed

[00:24:05.0000] <kennyluck>
Maybe it's a new policy.. let me find a reference.

[00:25:00.0000] <hsivonen>
annevk: it's super-annoying that the XHTML namespace redirects, so you can't do ctrl-L, ctrl-C

[00:25:01.0000] <kennyluck>
http://www.w3.org/1999/10/nsuri

[00:26:00.0000] <kennyluck>
"Namespace URIs MUST be dereferenceable"

[00:26:01.0000] <hsivonen>
(well, you can, but you get the wrong thing on the clipboard)

[00:26:02.0000] <annevk>
hsivonen, yeah

[00:27:00.0000] <annevk>
kennyluck, sure, but that's just for w3.org namespaces

[00:27:01.0000] <kennyluck>
agreed

[00:27:02.0000] <annevk>
kennyluck, it's not something you can enforce anyway and really in retrospect using URLs as identifiers is a bad idea

[00:28:00.0000] <nessy>
cause there's no resource behind it?

[00:28:01.0000] <kennyluck>
If we couldn't enforce this practice, I have to say using URLs as identifiers is indeed a bad idea.

[00:29:00.0000] <annevk>
nessy, cause clients start fetching them while they shouldn't

[00:30:00.0000] <mhausenblas>
whatz the harm in this, annevk? 

[00:30:01.0000] <mhausenblas>
that is, why shouldn't clients fetch them?

[00:31:00.0000] <kennyluck>
This is indeed a difficult question. Ted of the W3C systems team indeed treats those dereferenceable namespaces as a big problem.

[00:32:00.0000] <kennyluck>
But I think the sentence "item types are opaque identifiers, and user agents must not dereference unknown item types" is not very nice.

[00:33:00.0000] <mhausenblas>
kennyluck, it's confusing

[00:33:01.0000] <mhausenblas>
(but maybe this is the intention ;)

[00:33:02.0000] <hsivonen>
mhausenblas: http://www.w3.org/blog/systeam/2008/02/08/w3c_s_excessive_dtd_traffic

[00:33:03.0000] <mhausenblas>
hsivonen, yeah I know this

[00:34:00.0000] <annevk>
mhausenblas, you get distributed denial of service attacks and there's no real benefit

[00:34:01.0000] <mhausenblas>
so, your argument is: cause some people fcked it up in the past, we won't allow it, right?

[00:34:02.0000] <mhausenblas>
let me ask you one thing, please

[00:35:00.0000] <hsivonen>
mhausenblas: don't give people rope to shoot others in the foot with

[00:35:01.0000] <mhausenblas>
with your mind set  - would the WWW in 1994-1996 have taken off?

[00:35:02.0000] <mhausenblas>
hsivonen please don't pretend to be sooo protective ;)

[00:35:03.0000] <mhausenblas>
I doubt it

[00:36:00.0000] <mhausenblas>
yes, there will be people fcking it up again

[00:36:01.0000] <annevk>
me too, I was like eight back then

[00:36:02.0000] <mhausenblas>
so whatz next? disallowing knifes

[00:36:03.0000] <mhausenblas>
cause someone could be killed?

[00:36:04.0000] <hsivonen>
mhausenblas: sure. there were no namespaces back then

[00:36:05.0000] <annevk>
but I don't see how that matters

[00:36:06.0000] <mhausenblas>
annevk, me too? 

[00:36:07.0000] <annevk>
I doubt it too

[00:36:08.0000] <mhausenblas>
doubt what? :)

[00:36:09.0000] <annevk>
there's clear harm and benefit has not been demonstrated

[00:37:00.0000] <mhausenblas>
annevk, please back up your arguments

[00:37:01.0000] <mhausenblas>
where is the clear harm

[00:37:02.0000] <annevk>
mhausenblas, see the link above

[00:37:03.0000] <mhausenblas>
come on

[00:37:04.0000] <hsivonen>
mhausenblas: non-stab knives are actually a pretty good idea, but they aren't gonna take off until 20 have elapsed

[00:37:05.0000] <hsivonen>
(hooray for patents)

[00:37:06.0000] <mhausenblas>
that is not a clear proof this is a random link you pull out of the thin air

[00:37:07.0000] <mhausenblas>
hsivonen, are you trying to be funny or having a real convo?

[00:38:00.0000] <annevk>
mhausenblas, same thing happened with the Netscape DTD for RSS

[00:38:01.0000] <hsivonen>
mhausenblas: I'm serious

[00:38:02.0000] <mhausenblas>
hsivonen, aha

[00:38:03.0000] <mhausenblas>
annevk, what happened?

[00:38:04.0000] <annevk>
mhausenblas, it's clear anecdotical evidence that it doesn't work

[00:38:05.0000] <annevk>
mhausenblas, and again, there's no benefit

[00:38:06.0000] <mhausenblas>
annevk, cause you say so?

[00:38:07.0000] <mhausenblas>
annevk, I see a lot of benefit

[00:38:08.0000] <annevk>
such as?

[00:38:09.0000] <mhausenblas>
some 20billion RDF triples provided by institutions such as BBC, NYT, etc.

[00:39:00.0000] <mhausenblas>
proof, on a daily basis that there is

[00:39:01.0000] <annevk>
that has nothing to do with the benefit of opaque identifiers being URLs

[00:39:02.0000] <kennyluck>
annevk, if we have a stable URI for jQuery. Caching it would reduce a lot of service load.

[00:39:03.0000] <mhausenblas>
but prolly these people there don't have the great insights you chaps have ;)

[00:39:04.0000] <annevk>
that just means RDF is useful to some instutitions

[00:39:05.0000] <mhausenblas>
annevk: 

[00:39:06.0000] <annevk>
but it does not mean all properties of RDF are

[00:39:07.0000] <mhausenblas>
sorry ;)

[00:40:00.0000] <mhausenblas>
RDF itself is not much worth

[00:40:01.0000] <mhausenblas>
/me started with TopicMaps in 2000

[00:40:02.0000] <mhausenblas>
then switched over to RDF

[00:40:03.0000] <mhausenblas>
however, the real potential was only revealed in 2006

[00:40:04.0000] <mhausenblas>
when Tim wrote up the Linked Data note

[00:40:05.0000] <annevk>
look, all I'm interested in is the benefit of identifiers being URLs that can be fetched

[00:40:06.0000] <annevk>
you saw a lot of benefit

[00:40:07.0000] <mhausenblas>
yes

[00:40:08.0000] <annevk>
so what is it?

[00:41:00.0000] <mhausenblas>
ok, annevk, one step at a time, ok?

[00:41:01.0000] <mhausenblas>
so can we agree on that the Web is a decentralised, system?

[00:41:02.0000] <mhausenblas>
a *global*, decentralised system

[00:41:03.0000] <hsivonen>
kennyluck: single point of failure with a single URL for jquery

[00:41:04.0000] <mhausenblas>
yes, annevk? 

[00:42:00.0000] <kennyluck>
hsivonen, true. Let's have two stable URLs for jQuery, shall we?

[00:42:01.0000] <mhausenblas>
hm - do you need to think that long about the answer or is the question to confusing, annevk? :) 

[00:42:02.0000] <mhausenblas>
s/to/too

[00:43:00.0000] <annevk>
mhausenblas, I'm still waiting for your argument

[00:43:01.0000] <mhausenblas>
I asked you a question, annevk ... :)

[00:43:02.0000] <kennyluck>
hsivonen, I would <script src="<the URI of jQuery on Google>"> because I think it's the most efficient.

[00:43:03.0000] <hsivonen>
/me mumbles about the dissonance of single url and decentralization

[00:43:04.0000] <annevk>
mhausenblas, also, I'm not fulltime on this channel

[00:43:05.0000] <kennyluck>
I think Google recommend that as well.

[00:43:06.0000] <annevk>
mhausenblas, but yes, the Web is somewhat decentralized

[00:44:00.0000] <mhausenblas>
somewhat?

[00:44:01.0000] <mhausenblas>
hu?

[00:44:02.0000] <mhausenblas>
anyway

[00:44:03.0000] <annevk>
if you cut a few lines it all falls apart

[00:44:04.0000] <mhausenblas>
so, assuming that the Web is *somewhat* decentralised

[00:44:05.0000] <hsivonen>
kennyluck: it's a pure address. if the address no longer works, you can change it without breaking apps that want a pure identifier

[00:44:06.0000] <mhausenblas>
and, there is no single point of registration, right?

[00:44:07.0000] <hsivonen>
(this was already discussed at TPAC 2008)

[00:45:00.0000] <mhausenblas>
I can just put my documents (or my data) on the Web without registering it 

[00:45:01.0000] <mhausenblas>
however, from an application perspective, one needs single points of access

[00:45:02.0000] <mhausenblas>
such as Google is for documents (mainly ;)

[00:45:03.0000] <kennyluck>
hsivonen, RDF has the mechanism to identify the same thing with different URIs. We want serveal URIs for a thing we often use, but not too many.

[00:45:04.0000] <hsivonen>
mhausenblas: you need to register for DNS

[00:46:00.0000] <mhausenblas>
hsivonen, correct

[00:46:01.0000] <mhausenblas>
but not for the *content* hsivonen 

[00:46:02.0000] <mhausenblas>
DNS is a necessary thing for decentralised management 

[00:46:03.0000] <mhausenblas>
back to annevk 

[00:46:04.0000] <mhausenblas>
so, as a human user, what do you do, really?

[00:47:00.0000] <mhausenblas>
you're a manual dereferencing processor

[00:47:01.0000] <mhausenblas>
you click on links

[00:47:02.0000] <mhausenblas>
HATEOAS and the like, you remember annevk? 

[00:47:03.0000] <mhausenblas>
now, why can you do this?

[00:48:00.0000] <mhausenblas>
cause the when you (or better say, your User Agent) tries to GET stuff

[00:48:01.0000] <mhausenblas>
you actually receive something (that can be rendered in a browser)

[00:48:02.0000] <mhausenblas>
so much for the human users

[00:49:00.0000] <mhausenblas>
IFF I want to enable the Web as a single global database

[00:49:01.0000] <mhausenblas>
the machines need to be able to do exactly the same

[00:49:02.0000] <mhausenblas>
IMO

[00:49:03.0000] <mhausenblas>
even MS seems to get it in OData

[00:49:04.0000] <mhausenblas>
see http://www.odata.org/blog/2010/4/22/queryable-odata-metadata

[00:50:00.0000] <mhausenblas>
(and also my initial post on comparing OData with Linked Data at http://webofdata.wordpress.com/2010/04/14/oh-it-is-data-on-the-web/)

[00:50:01.0000] <mhausenblas>
so, annevk, I guess you still don't see the benefit, right?

[00:51:00.0000] <annevk>
right

[00:51:01.0000] <mhausenblas>
aha

[00:51:02.0000] <mhausenblas>
thanks for the convo

[00:51:03.0000] <mhausenblas>
bye

[00:53:00.0000] <annevk>
no worries; I just don't see how that follows from what we have now and I have not seen concrete benefit in the case of RDF being deployed today

[00:57:00.0000] <kennyluck>
annevk, we are working hard. And we need more communication as well, not just playing locally with academic people.

[00:58:00.0000] <kennyluck>
Web is not built up by those who publish paper. I think Semantic Web will be the same.

[01:38:00.0000] <estellevw>
http://www.whatwg.org/specs/web-apps/current-work/multipage/links.html#microdata

[01:39:00.0000] <estellevw>
the example uses <address>, which is not the correct usage of the <address> element

[02:09:00.0000] <Smylers>
estellevw: Why not? That address could be the contact details for the page on which they appear.

[02:11:00.0000] <estellevw>
The address  element represents  the contact information for its nearest article  or body  element ancestor. If that is the body element, then the contact information applies to the document as a whole.

[02:11:01.0000] <estellevw>
The address  element must not be used to represent arbitrary addresses (e.g. postal addresses), unless those addresses are in fact the relevant contact information. (The p  element is the appropriate element for marking up postal addresses in general.)

[02:12:00.0000] <estellevw>
from that example, it seems like an arbitrary address, not the contact details for the page

[02:12:01.0000] <Smylers>
Clearly it must be the contact details for the page — cos it's using the <address> element!

[02:12:02.0000] <estellevw>
lol

[02:14:00.0000] <Smylers>
That's a really common scenario: many sites have their own contact details, whereas relatively few have other people's addresses. So I think the example is fine.

[02:14:01.0000] <Smylers>
But ... it may be worth clarifying, so people don't see it and think it's the thing to do for any address.

[02:15:00.0000] <estellevw>
exactly

[02:15:01.0000] <Smylers>
Raise a bug if you're bothered by it.

[02:15:02.0000] <estellevw>
i didn't know how on that page

[02:15:03.0000] <estellevw>
just a general whatwg bug?

[02:16:00.0000] <annevk>
at the bottom of the viewport there's an arrow

[02:16:01.0000] <Smylers>
Do you see a bar along the bottom of the viewport with a textbox?

[02:16:02.0000] <annevk>
if you hit the arrow you get a textbox

[02:16:03.0000] <annevk>
if you fill in the textbox and hit enter and hit confirm or something you filed a bug

[02:16:04.0000] <estellevw>
oh, doh, i had turned off js to see the micorformats page (which currently has a bad script in it). 

[02:17:00.0000] <estellevw>
forgot to turn it back on

[02:17:01.0000] <annevk>
ah

[02:17:02.0000] <annevk>
that might be problematic indeed

[02:17:03.0000] <micheil>
annevk: howdy'

[02:18:00.0000] <annevk>
hey

[02:18:01.0000] <annevk>
thought I'd recognized your name :)

[02:21:00.0000] <micheil>
annevk: one of the few people in the world with the same name.

[02:21:01.0000] <micheil>
(that I know of.)

[02:21:02.0000] <micheil>
the only other person who I met on the net with the same name created a fake twitter account and wanted to kill me for "stealing their name"

[02:22:00.0000] <annevk>
oh god

[02:24:00.0000] <micheil>
heh heh, it's a rare name.

[02:25:00.0000] <annevk>
for my gender mine is also pretty rare ;p

[02:25:01.0000] <micheil>
heh heh 

[03:14:00.0000] <annevk>
lol -- http://twitter.com/opera/status/18105017768

[03:19:00.0000] <micheil>
anyone know if opera or firefox or ie9 do websockets?

[03:20:00.0000] <annevk>
I think Firefox 4 does

[03:21:00.0000] <annevk>
We still have some work to do and the first sign Microsoft gave was giving feedback on the requirements document so I guess not yet, but maybe...

[03:31:00.0000] <micheil>
annevk: okay, just checking

[03:31:01.0000] <micheil>
thinking I might start maintaining a matrix of browsers and websocket versions supported

[03:32:00.0000] <annevk>
you could modify http://wiki.whatwg.org/wiki/Implementations_in_Web_browsers#Web_Sockets

[03:32:01.0000] <annevk>
modify / fix

[03:32:02.0000] <micheil>
oh?

[03:33:00.0000] <micheil>
I think I'll just start fresh..

[03:33:01.0000] <micheil>
although, I do need to know what version of websockets chrome 4 supported

[03:33:02.0000] <micheil>
(I can only get chrome 5 or 6 on mac)

[03:33:03.0000] <annevk>
if you make a page of your own please link to it from there at least

[03:35:00.0000] <micheil>
sure, will do

[03:35:01.0000] <micheil>
it'll probably be up at: http://wiki.github.com/miksago/node-websocket-server/browser-support or something

[03:36:00.0000] <micheil>
in fact, it will be.

[03:36:01.0000] <micheil>
I'll write up what I know already later on tonight, have to do work now.

[03:37:00.0000] <Philip`>
I thought Chrome updated automatically so nobody should be using/caring about Chrome 4?

[03:39:00.0000] <micheil>
Philip`: on the off chance.

[03:39:01.0000] <Rik`>
micheil: Firefox 4 has WebSockets support (-76)

[03:39:02.0000] <micheil>
I thought firefox automatically updated, but people still use firefox 1.5

[03:39:03.0000] <Philip`>
Maybe they only added automatic updating in version 2.0? :-)

[03:39:04.0000] <Rik`>
micheil: I used your nodejs websocket server to code some demos for Firefox 4 (thanks btw)

[03:40:00.0000] <micheil>
Rik`: oh, cool

[03:40:01.0000] <micheil>
Rik`: any feedback?

[03:41:00.0000] <Rik`>
micheil: works well generally

[03:41:01.0000] <micheil>
Rik`: was this which version? v1.3.00 or? (released yesterday)

[03:41:02.0000] <Rik`>
I had an error message with Firefox about a big endian stuff which was not implemented yet

[03:41:03.0000] <Rik`>
old version, I should update when I publish a demo

[03:42:00.0000] <micheil>
Rik`: hmm.. that would be the draft 76 protocol.

[03:42:01.0000] <micheil>
draft 75 doesn't do big endian

[03:42:02.0000] <Rik`>
and I also changed the broadcast method to broadcast to everyone but the sender

[03:43:00.0000] <Rik`>
(I should have added a method though but quick hack during testing)

[03:43:01.0000] <micheil>
Rik`: I'd appreciate any feedback & / or publicity on you using node-websocket-server, purely there are many dead websocket-servers for node, which only do partial draft 75 and don't work well

[03:43:02.0000] <micheil>
Rik`: that's changed in v1.3.00 slightly

[03:43:03.0000] <Rik`>
I know, I've had a hard time finding a cool one :)

[03:43:04.0000] <Rik`>
well, we should publish something on hacks.mozilla.org soon

[03:44:00.0000] <micheil>
there's a new method on the connection objects called broadcast which will send to all connections but that connection

[03:44:01.0000] <micheil>
and the server broadcast remains the same

[03:44:02.0000] <micheil>
there's also an improvement to http server doubling

[03:45:00.0000] <micheil>
Rik`: check out: http://groups.google.com/group/nodejs/browse_thread/thread/a9a49056b65ea5ae/c63c9584e973c099

[03:46:00.0000] <Rik`>
micheil: I've demoed your server in front of Ryan Dahl last saturday ;)

[03:46:01.0000] <micheil>
Rik`: yeah, I worked closely with ryan when developing it

[03:46:02.0000] <micheil>
there was a hint at one stage that ryan may add websocket support to node core.

[03:46:03.0000] <micheil>
anyway, bbl, dinner.

[03:47:00.0000] <Rik`>
- Modified echo-server example to also serve up the client.html by default. 

[03:47:01.0000] <Rik`>
micheil: that's what I did myself :)

[04:42:00.0000] <karlcow>
http://jaredforsyth.com/blog/2010/jul/8/announcing-codetalker/

[04:43:00.0000] <karlcow>
using Python to define a grammar instead of say BNF

[04:52:00.0000] <karlcow>
annevk: Opera starts a H1N1 campaign?

[04:54:00.0000] <annevk>
a mutated version that gives everyone direct access to a browser

[04:54:01.0000] <karlcow>
;)

[04:54:02.0000] <micheil>
Rik`: heh heh, I've been working on it when I get a chance

[04:55:00.0000] <micheil>
Rik`: there's been a request from one user to be able to store data with a connection, so I'm trying to implement a way to do that.

[04:55:01.0000] <Rik`>
micheil: store as in "store while the server is running"

[04:55:02.0000] <micheil>
karlcow: That'd be funnier if it was the Mozilla Messaging team, you know, bird flu.

[04:55:03.0000] <micheil>
Rik`: yea

[04:56:00.0000] <micheil>
Rik`: feel free to join me in #node.js if you wish to talk more in-depth about it

[04:57:00.0000] <Rik`>
thanks

[04:57:01.0000] <Rik`>
I'm not working on it at the moment though

[04:58:00.0000] <micheil>
well, I mean, to continue discussion about it, not necessarily if you needed any help ;)

[07:18:00.0000] <hallvors>
what does a "host-specific component" mean in the text  "an absolute URL with a <host-specific> component that is either empty or a single U+002F SOLIDUS character (/)" ?

[07:18:01.0000] <hallvors>
I tried following the links to RFC9387 but I couldn't find host-specific defined there

[07:23:00.0000] <Philip`>
hallvors: http://www.w3.org/html/wg/href/draft

[07:24:00.0000] <Philip`>
hallvors: I think it used to be defined in HTML5, then got split into a separate document, then got abandoned

[08:01:00.0000] <hallvors>
Philip`: thanks. Actually that document isn't complete/clear either. But I think  "an absolute URL with a <host-specific> component that is either empty or a single U+002F SOLIDUS character (/)" means a URL with protocol, hostname but no path.

[08:02:00.0000] <zcorpan_>
hallvors: the path might be /

[08:02:01.0000] <Philip`>
hallvors: Why is "The decoded substring that follows the decoded substring matched by the <authority> production, or the whole string if the <authority> production wasn't matched." not clear?

[08:02:02.0000] <hallvors>
(This is from text regarding window.postMessage's targetOrigin argument. I think the spec says that a complete URL with path more than just a / is not a valid targetOrigin)

[08:03:00.0000] <hallvors>
Philip`: because I don't find <authority> defined in that spec..?

[08:03:01.0000] <hallvors>
..with a quick search..

[08:03:02.0000] <Philip`>
hallvors: <authority> is from RFC3986

[08:03:03.0000] <zcorpan_>
hallvors: you're reading an outdated draft

[08:04:00.0000] <zcorpan_>
oh maybe not

[08:04:01.0000] <hallvors>
/me hates drafts and the fact that whatever I'm reading is always outdated when he needs to understand something

[08:04:02.0000] <hallvors>
/me isn't sure if he is first or third person grammatically. oh well.

[08:05:00.0000] <zcorpan_>
/me is reading http://www.whatwg.org/specs/web-apps/current-work/complete/web-messaging.html#web-messaging

[08:05:01.0000] <jre>
zcorpan, http://www.w3.org/html/wg/href/draft is outdated, and abandoned, and known to be buggy

[08:06:00.0000] <Philip`>
Is there a better reference to use instead?

[08:06:01.0000] <hallvors>
I was reading http://www.whatwg.org/specs/web-apps/current-work/multipage/comms.html#security-postmsg 

[08:06:02.0000] <jre>
the problem is that there's currently nothing replacing it

[08:06:03.0000] <zcorpan_>
hallvors: yeah that should be up to date

[08:06:04.0000] <hallvors>
but - window.postMessage('foo', 'http://www.example.com/this/is/a/path') is invalid, right?

[08:06:05.0000] <jre>
optimally, the HTML5 spec would simply use RFC3986/RFC3987 terminology, and define everything additionally it needs on top of it

[08:07:00.0000] <jre>
see http://dev.w3.org/html5/status/issue-status.html#ISSUE-056 for some related information

[08:08:00.0000] <boblet>
foolip: in microdata, if a <meta> itemprop is moved into <head> by a browser, it should still work if referred to via @itemid right? (does it work like that in microdatajs?)

[08:13:00.0000] <foolip>
bobchao, if you mean itemref, then yes, it doesn't matter that the parser moves it

[08:13:01.0000] <foolip>
and itemref works in microdatajs

[08:15:00.0000] <boblet>
hrm. ages ago when I asked about this someone suggested using CSS to hide a span with the itemprop over meta due to this moving. I can’t think of any situation where that’d be better than using @itemref

[08:17:00.0000] <foolip>
I don't think that's a great idea really

[08:19:00.0000] <boblet>
well ugly kludges are good when they work, but using itemref is much nicer

[08:19:01.0000] <foolip>
alternatively, don't use hidden metadata

[08:21:00.0000] <boblet>
yeah I’m strongly suggesting not to

[08:26:00.0000] <Workshiva>
boblet: It could be the advice predates itemref

[08:26:01.0000] <boblet>
Workshiva: this was back in Feb, so entirely possible

[08:26:02.0000] <Workshiva>
It used to be a different mechanism, and before that, no mechanism at all

[08:37:00.0000] <boblet>
no browsers support microdata natively yet, right? also, is the same still true for RDFa and microformats?

[08:38:00.0000] <boblet>
(should anyone know :) )

[08:38:01.0000] <foolip>
right, no browser supports anything

[08:39:00.0000] <boblet>
foolip: ta

[08:40:00.0000] <foolip>
It's amusing to see Facebook's flavor of RDFa allowing the xmlns:og declaration to be left out completely

[08:43:00.0000] <foolip>
boblet, what javascript errors are you getting with the vcard download example you couldn't get working?

[08:44:00.0000] <boblet>
no visible errors, didn’t check console

[08:44:01.0000] <boblet>
will look

[08:44:02.0000] <boblet>
“getVcard is not defined”

[08:45:00.0000] <foolip>
ok, did you really include all the needed scripts?

[08:45:01.0000] <boblet>
as an uncacught ReferenceError

[08:45:02.0000] <boblet>
this is on http://foolip.org/cv/

[08:45:03.0000] <foolip>
right, that's broken

[08:45:04.0000] <foolip>
and I forgot the password so I can't fix it right away :/

[08:45:05.0000] <boblet>
(I think your repo naming has changed)

[08:46:00.0000] <boblet>
har!

[08:47:00.0000] <boblet>
foolip: in a locally saved version of your page, with local links to microdata.js and microdata.vcard.js I get no errors but no download either

[08:49:00.0000] <foolip>
will have a look

[08:49:01.0000] <boblet>
what was the logic behind not having a XML literals equivalent in microdata? no/not compelling enough use cases? (datatypes seems like a vocabulary issue but including tags seems useful)

[08:50:00.0000] <boblet>
foolip: thanks — much appreciated as always

[08:53:00.0000] <boblet>
another microdata q; do we need @itemtype when using RDFa vocabularies, or are full URL names enough? seems strange that using globally unique names without itemtype is ok for microdata vocabs but not RDFa ones

[08:53:01.0000] <foolip>
boblet, if I just fix the paths in my cv example the download link works

[08:53:02.0000] <foolip>
are you using chrome by any chance?

[08:53:03.0000] <boblet>
foolip: why yes :/

[08:53:04.0000] <boblet>
KNO

[08:53:05.0000] <boblet>


[08:53:06.0000] <foolip>
boblet, I think chrome has a bug with that

[08:53:07.0000] <foolip>
and I think you're the one who told me

[08:54:00.0000] <boblet>
foolip: lol. i should blog more so Google can tell me what I know

[08:54:01.0000] <boblet>
(I use “know” loosely here)

[08:54:02.0000] <foolip>
boblet, I can't think of any good way to fix it really, other than bouncing it off the server

[08:55:00.0000] <boblet>
foolip: what do you mean by that? generating a static file?

[08:56:00.0000] <foolip>
boblet, or having a microdata parser and vcard writer on the server side

[08:56:01.0000] <foolip>
I think that's the only sane option in real life, as with the data: approach you get a crappy file name

[08:56:02.0000] <brucel>
Who would like to tell me I'm wrong about input type=range?

[08:56:03.0000] <boblet>
foolip: so nothing of the level of “add these scripts and make a download link like this”-level easy

[08:57:00.0000] <foolip>
boblet, no, not that easy

[08:57:01.0000] <boblet>
brucel: you’re wrong

[08:57:02.0000] <brucel>
thought so, thanks boblet

[08:57:03.0000] <foolip>
brucel, you're right, file a bug

[08:57:04.0000] <foolip>
besides, we all know Hixie likes to fix bugs

[08:57:05.0000] <boblet>
foolip: sheesh. sucks

[08:57:06.0000] <brucel>
OK: input type=range min=100 max=130 step=10

[08:58:00.0000] <boblet>
brucel: so what exactly are you wrong about?

[08:58:01.0000] <foolip>
about XML literals, I don't know how widely used that is in RDF, but am guessing it only exists because it was relatively easy to make with RDF/XML

[08:58:02.0000] <brucel>
no value defined, so spec says ""The default value is the minimum plus half the difference between the minimum and the maximum, unless the maximum is less than the minimum, in which case the default value is the minimum."

[08:58:03.0000] <brucel>
 "

[08:58:04.0000] <foolip>
boblet, and there's no such thing as RF

[08:58:05.0000] <foolip>
RDFa vocabularies, only RDF

[08:59:00.0000] <boblet>
foolip: aah, thanks. still mighty confused by RDF(a)’s acronym soup

[08:59:01.0000] <brucel>
but that would make default value = 115, which is invalid cos of the step attribute. Chrome and Saf set it to 120, the nearest valid value to the mid point. Which makes sense to me.

[09:00:00.0000] <brucel>
so is the spec more sensible than the chome/ saf behaviour?

[09:01:00.0000] <boblet>
brucel: seems like the spec should start “the devault value is *the closest value (defined by @step) to* the minimum plus…”

[09:02:00.0000] <foolip>
boblet, itemtype is involved in the RDF conversion algorithm, but I don't remember the exact details now

[09:02:01.0000] <boblet>
foolip: aah, I’ll check that then. thanks for the nudge

[09:03:00.0000] <brucel>
boblet, yes. Wondering why it doesn't.

[09:03:01.0000] <foolip>
I also don't really think anyone will ever use that algorithm, since it makes "ugly" RDF, and people who like RDF probably do it because they think it's elegant and such

[09:03:02.0000] <brucel>
Ugly RDF? tautology surely?

[09:03:03.0000] <foolip>
brucel, 110 is just as close as 120

[09:03:04.0000] <boblet>
/me ducks

[09:04:00.0000] <boblet>
foolip: I’m thinking more of being able to use all the pre-defined RDF vocabularies as-is, without needing to make a microdata version

[09:05:00.0000] <boblet>
rather than with the intention of generating RDFa

[09:05:01.0000] <brucel>
foolip, yup. but both are (at least) valid; and rounding-up is the norm.

[09:05:02.0000] <foolip>
it'd be extremely messy to try to mix and match different vocabularies like you usually do with RDF

[09:05:03.0000] <foolip>
brucel, then the spec should say to round up (just saying)

[09:06:00.0000] <boblet>
brucel: you filing the bug, or are you gonna make me do it?

[09:06:01.0000] <foolip>
I will be leaving now

[09:07:00.0000] <foolip>
boblet, mail me if you need

[09:07:01.0000] <boblet>
thanks for your help, foolip!

[09:07:02.0000] <brucel>
boblet, well I ain't sure that it's a bug. It's weird but in HTML5 land that's not necessarily an indicator of incorrect

[09:08:00.0000] <boblet>
brucel: definitely worth filing. spec having a interpretation loophole = bug

[09:12:00.0000] <Matjas>
brucel: if you get me a free copy of your book I'll use chapter 5 to recreate that Flash thingy

[09:13:00.0000] <Matjas>
>]

[09:16:00.0000] <brucel>
Matjas you can't get the prize *before* the competiton

[09:17:00.0000] <Matjas>
YES I CAN I JUST ORDERED IT

[09:17:01.0000] <boblet>
lol

[09:18:00.0000] <boblet>
is it one of those “if you know this song call us to win a free CD of it now!” type competitions?

[09:19:00.0000] <nimbupani>
brucel: Matjas is winning it unfairly *mummmmmmy*

[09:20:00.0000] <Matjas>
boblet: sounds like it :)

[09:20:01.0000] <brucel>
ah, i just idly said that I'd give a free copy to 1st person to duplicate http://lab.andre-michelle.com/pulsate with canvas and html5 audio

[09:21:00.0000] <boblet>
nimbupani: don’t worry dear, I’ll have a chat to him… BRUCEL!

[09:21:01.0000] <boblet>
;-)

[09:21:02.0000] <brucel>
Pat Lauke was gonna have a go using JS to generate random tones by making on-the-fly data URIs as src for <audio> when the circles collide

[09:21:03.0000] <paul_irish>
that's hot.

[09:21:04.0000] <boblet>
brucel: re: input type="range", I think the relevant bit is a bit below that beginning “When the element is suffering from a step mismatch…”

[09:22:00.0000] <boblet>
I don’t get it, it’s just that blue lego I see everywhere

[09:24:00.0000] <brucel>
I favoured an option to have radomised swear-words like Buffy's swearing keyboard (Google it, NSFW)

[09:24:01.0000] <brucel>
boblet looking

[09:28:00.0000] <brucel>
boblet you're right. I got confused by the change from "default value" to "When the element is suffering from a step mismatch". But it still doesn't define what you do in mny example above; as Chrome and Safari round up, suggest spec says that

[09:29:00.0000] <boblet>
good point

[09:36:00.0000] <boblet>
brucel: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10122

[09:40:00.0000] <brucel>
boblet by golly, that's groovier than Lou Reed duetting with Lady Gaga

[09:40:01.0000] <gsnedders>
/me dances

[09:40:02.0000] <gsnedders>
(with brucel)

[09:40:03.0000] <TabAtkins>
boblet: My post is turning pretty long.  That ok?

[09:40:04.0000] <boblet>
brucel: crap — forgot to add raspberries to you for making me file it

[09:40:05.0000] <brucel>
TabAtkins long is good

[09:41:00.0000] <TabAtkins>
Excellent.

[09:41:01.0000] <brucel>
gsnedders you're a lovely mover

[09:41:02.0000] <boblet>
TabAtkins: sure. doubt it’s as long as the microdata one ;-)

[09:41:03.0000] <boblet>
brucel: consider yourself raspberried

[09:42:00.0000] <brucel>
bizarrely, was just eating a bowl of raspberries

[09:43:00.0000] <boblet>
hope they were making farty sounds

[09:44:00.0000] <boblet>
brucel: added raspberries to the bug. everything’s right in the world

[09:46:00.0000] <boblet>
jeez, back to formula

[09:53:00.0000] <brucel>
boblet thanks

[09:54:00.0000] <boblet>
np yo. gotta have your raspberries

[09:54:01.0000] <boblet>
partial to a nice boysenberry myself

[09:54:02.0000] <akamike>
i've always pictured you to be a man of the forbidden fruits boblet 

[09:55:00.0000] <boblet>
akamike: just to check, are boysenberries forbidden atm?

[09:55:01.0000] <akamike>
I'm too young to know :(

[09:56:00.0000] <brucel>
boblet: remember the old adage: boysen is poison

[09:56:01.0000] <boblet>
akamike: lucky brucel was here! ;-)

[09:56:02.0000] <akamike>
;)

[10:08:00.0000] <boblet>
nn all

[10:54:00.0000] <jgraham>
Philip`: No I hadn't, thanks

[10:59:00.0000] <micheil>
just a quick table on the state of browser support for websockets: http://wiki.github.com/miksago/node-websocket-server/browser-support

[11:12:00.0000] <Hixie>
there's nothing that quite illustrates why i have a problem with the a11y task force proposals than the problem they're having with the alt issue

[11:13:00.0000] <Hixie>
they literally have been at a loss to come up with rationale for some of their proposals for weeks now

[11:13:01.0000] <Hixie>
but they are still adamant that that's what the spec should say! because, you know, consensus!

[11:13:02.0000] <Hixie>
sigh

[11:34:00.0000] <jgraham>
/me forsees dull email in his future

[12:19:00.0000] <llrcombs>
is it possible to make clicks on an element pass through to the element beneath?

[12:21:00.0000] <TabAtkins>
You want the pointer-events property in CSS.

[13:59:00.0000] <llrcombs>
should HTML5 video's controls be shown onmouseover, or should they always be shown?

[13:59:01.0000] <TabAtkins>
UA choice.

[13:59:02.0000] <TabAtkins>
My personal preference is to always show them when the video isn't playing, and only on mouseover when it is playing

[14:02:00.0000] <llrcombs>
that's WebKit's behavior

[14:02:01.0000] <TabAtkins>
Precisely.  ^_^

[14:05:00.0000] <annevk>
jgraham, your future is a bit like my present, but maybe I'll make it future too by postponing some of it

[14:09:00.0000] <jgraham>
annevk: Yeah, may strategy so far is to put the future on hold

[14:09:01.0000] <jgraham>
*my

[14:11:00.0000] <gsnedders>
jgraham: You're on holiday. Go away.

[14:11:01.0000] <gsnedders>
annevk: I'm stealing your bike.

[14:12:00.0000] <jgraham>
gsnedders: I appear to be at home

[14:12:01.0000] <jgraham>
gsnedders: Also theft is wrong and you will probably go to hell (according to several major world religions)

[14:13:00.0000] <jgraham>
(but not according to me, so that's OK)

[14:13:01.0000] <gsnedders>
I'll put it back, and he'll never know it moved!

[14:13:02.0000] <jgraham>
gsnedders: Also, I would use %timeit in ipython to measure the performance of the two approaches

[14:13:03.0000] <jgraham>
Or realise that the one I preferred was fast enough

[14:13:04.0000] <gsnedders>
jgraham: Mine is quicker, as well as giving the right answer

[14:14:00.0000] <gsnedders>
(If you mean what you're talking about)

[14:14:01.0000] <gsnedders>
s/what/what I think/

[14:14:02.0000] <jgraham>
gsnedders: Yes, but "one I preferred" wasn't a statement of a particular preference

[14:15:00.0000] <jgraham>
I just meant if you have a particular preference it makes sense to use it if it is fast enough

[14:15:01.0000] <gsnedders>
Yeah, true. I don't know which you prefer. :)

[14:15:02.0000] <jgraham>
(I guess the itertools approach is faster because it is lazier so you don't need to allocate huge arrays)

[14:15:03.0000] <TabAtkins>
?_?

[14:16:00.0000] <gsnedders>
TabAtkins: Given an iterator in Python, compute the run lengths within it

[14:16:01.0000] <jgraham>
TabAtkins: The problem was "In python, calculate the average run length of the same value consecutively in an array"

[14:17:00.0000] <jgraham>
i.e. given [1,1,1,2,2,3] you would have one run of thength 3, one of length 2 and one of length 1

[14:17:01.0000] <jgraham>
So the average would be 2

[14:17:02.0000] <gsnedders>
My approach became: import itertools; runs = [len(tuple(x)) for x in itertools.groupby(foo)]

[14:17:03.0000] <gsnedders>
(then average runs)

[14:18:00.0000] <TabAtkins>
So just iterate, tracking each run, and when a run finishes, add it to the running average.

[14:18:01.0000] <jgraham>
gsnedders: Why construct an explicit lift?

[14:18:02.0000] <jgraham>
*list

[14:18:03.0000] <gsnedders>
jgraham: for len? you can't get the len of an iterator.

[14:18:04.0000] <jgraham>
gsnedders: You don't need to

[14:19:00.0000] <annevk>
gsnedders, are you now? beware of the booby traps

[14:19:01.0000] <jgraham>
TabAtkins: There was a theory that explicit loops are slow

[14:19:02.0000] <jgraham>
TabAtkins: That might still be the fastest way though

[14:19:03.0000] <TabAtkins>
How long is the list?

[14:20:00.0000] <gsnedders>
TabAtkins: There are around 200k lists each with 100 items in them

[14:20:01.0000] <TabAtkins>
I somehow doubt that an explicit loop is slower than an iterator that then rips the subiterators out into a tuple before measuring their lengths.

[14:21:00.0000] <gsnedders>
(and they aren't lists, they're iterators, from itertools._grouper))

[14:21:01.0000] <TabAtkins>
Bah, lists and iterators are nearly identical.

[14:21:02.0000] <gsnedders>
Really not.

[14:21:03.0000] <TabAtkins>
You're not thinking abstractly enough.

[14:21:04.0000] <jgraham>
Similar at least

[14:22:00.0000] <Slaanesh>
They're different where it matters

[14:22:01.0000] <TabAtkins>
/me is constantly confused when he runs into something that doesn't work the same for the two.

[14:22:02.0000] <jgraham>
Conceptually the main difference is that you can only use an iterator once

[14:22:03.0000] <jgraham>
I think

[14:22:04.0000] <TabAtkins>
/me is kinda confused by Python iterators anyway, because they're impure.

[14:22:05.0000] <Slaanesh>
Conceptually, a list exists in full

[14:22:06.0000] <jgraham>
Like your Mum

[14:22:07.0000] <gsnedders>
jgraham: And iterators are lazily

[14:22:08.0000] <gsnedders>
evaluated

[14:22:09.0000] <jgraham>
/me couldn't resist, sorry

[14:23:00.0000] <Slaanesh>
To be fair, python seems to mix iterator and generator some

[14:23:01.0000] <gsnedders>
And as we concluded at lunch today, your mum jokes mean it's time to go

[14:23:02.0000] <jgraham>
Oh yes, indeed

[14:23:03.0000] <Slaanesh>
gsnedders: That's what she said

[14:23:04.0000] <gsnedders>
Yeah, that is confusing

[14:23:05.0000] <TabAtkins>
Slaanesh: Aren't the two identical in Python in terms of interface?

[14:23:06.0000] <jgraham>
Yes

[14:23:07.0000] <gsnedders>
TabAtkins: In terms of interface, yes

[14:24:00.0000] <jgraham>
It is quite beautiful really

[14:24:01.0000] <Slaanesh>
So the important part of iteritems() isn't the iterator (since lists are iterators too), but the generator aspect

[14:24:02.0000] <gsnedders>
yeah, indeed

[14:24:03.0000] <TabAtkins>
jgraham: I agree.

[14:25:00.0000] <TabAtkins>
/me wishes there was an easier way to get yield-style generator expressions in Lisp, so he didn't have to write his generators with explicit state.

[14:25:01.0000] <gsnedders>
I was talking to people about rewriting what I have in Haskell today, as so much of it is all relying upon lazy evaluation

[14:25:02.0000] <gsnedders>
(And Haskell is cool)

[14:25:03.0000] <gsnedders>
(And I can compile it to JS with YHC)

[14:25:04.0000] <TabAtkins>
You swedes and your haskell.

[14:25:05.0000] <TabAtkins>
(Haskell is pretty cool.)

[14:26:00.0000] <gsnedders>
TabAtkins: I'm going to Glasgow University, what do you expect? :P

[14:26:01.0000] <TabAtkins>
What's the term for people from the nordic peninsula?  Nords?

[14:27:00.0000] <gsnedders>
Nordic

[14:27:01.0000] <gsnedders>
Nordics in plural

[14:27:02.0000] <TabAtkins>
kk

[14:29:00.0000] <Slaanesh>
Oh man, TGIF needs more filling food

[14:29:01.0000] <Slaanesh>
I don't have anything at home and now I'm hungry

[14:30:00.0000] <jgraham>
TabAtkins: Vikings

[14:30:01.0000] <TabAtkins>
jgraham: Makes sense.

[14:30:02.0000] <Slaanesh>
Superhumans

[14:36:00.0000] <TabAtkins>
Anyway, gsnedders' approach with itertools.groupby seems fine conceptually.  It's simple and easy, and as long as the performance is acceptable, go crazy.

[14:37:00.0000] <gsnedders>
nested generators over an iterator for a database is all a bit of an overhead, though

[14:37:01.0000] <gsnedders>
Like, minutes of overhead.

[14:40:00.0000] <TabAtkins>
So then, if performance isn't acceptable, do it manually.  Doing run-length computation is trivial.

[14:46:00.0000] <jgraham>
Oh no

[14:47:00.0000] <jgraham>
The TC39 people want to make ES6 versioned opt-in

[14:52:00.0000] <gsnedders>
TabAtkins: Won't help. Running it in a profiler shows 468s runtime, 305s of that being just iterating over the MySQL result set

[14:52:01.0000] <gsnedders>
MySQLdb is slow :\

[14:53:00.0000] <AryehGregor>
So the WHATWG should make ES5 then, clearly.  (I mean, TC39 jumped straight from ES4 to ES6, right?  So the name is open.)

[14:53:01.0000] <AryehGregor>
(Failing that, call it JavaScript5, which is more reasonable anyway.)

[14:53:02.0000] <gsnedders>
AryehGregor: No, ES4 was abandoned, the latest spec is ES5

[14:53:03.0000] <TabAtkins>
gsnedders: Ah, then you're screwed no matter what.  That's liberating.

[14:54:00.0000] <gsnedders>
TabAtkins: Write my own MySQL Python module that's actually maintained?

[14:54:01.0000] <gsnedders>
Oh, wait, I won't maintain it :P

[14:54:02.0000] <jgraham>
gsnedders: (maintain the existing one would be the sane community spirited option)

[14:54:03.0000] <TabAtkins>
Can you optimize the query itself, or is it literally just iterating over the already-computed result that's the problem?

[14:55:00.0000] <gsnedders>
TabAtkins: The latter.

[14:55:01.0000] <gsnedders>
TabAtkins: I'm excluding the actual time to execute the query from that

[14:55:02.0000] <gsnedders>
(that's another 109s)

[14:56:00.0000] <gsnedders>
(which is only 41 seconds of runtime left for the loop contents)

[14:56:01.0000] <gsnedders>
(which is mostly just run length computation)

[14:56:02.0000] <TabAtkins>
Dang.

[14:57:00.0000] <gsnedders>
jgraham: The problem is you'd be better off totally rewriting it

[14:57:01.0000] <gsnedders>
Using Cython, moving way more stuff down into C

[14:58:00.0000] <AryehGregor>
gsnedders, oh, drat.  Then I guess we'll have to go with JS5.

[14:58:01.0000] <AryehGregor>
Now, what's this problem you're talking about, on a high level?

[14:59:00.0000] <gsnedders>
No comment ;P

[15:00:00.0000] <gsnedders>
No, more seriously, computing stability of results from regression tracking system

[15:01:00.0000] <AryehGregor>
That sounds too much like applied math to be interesting to me.

[15:01:01.0000] <gsnedders>
Heh.

[15:01:02.0000] <AryehGregor>
(kind of funny how I like pure math and related programming, and also non-math programming, but applied math I find totally uninteresting)

[15:01:03.0000] <jgraham>
AryehGregor: WHATWG workign on Javascript likely wouldn't gain any traction

[15:02:00.0000] <AryehGregor>
Why not?  Are there major non-browser consumers of JS that browsers need to be compatible with?

[15:02:01.0000] <jgraham>
unless TC39 disappear even more off into the weeds

[15:02:02.0000] <jgraham>
AryehGregor: Because TC39 has support from the major players

[15:03:00.0000] <jgraham>
Mozilla, Microsoft, etc.

[15:03:01.0000] <AryehGregor>
Not if they do opt-in versioning for EC6, right?  :)

[15:03:02.0000] <jgraham>
what they are doing might fail, but we won't get buy-in to an alternative until it fails

[15:04:00.0000] <jgraham>
Unlike XHTML2 where we got a 4 year headstart

[15:04:01.0000] <jgraham>
because everyone looked at it and went "uh, no"

[15:04:02.0000] <jgraham>
Everyone important anyway

[15:12:00.0000] <llrcombs>
what's the difference between the "playing" event and the "play" event of a <video> tag?

[15:13:00.0000] <gsnedders>
AryehGregor: Also, MS aren't involved in WHATWG

[15:13:01.0000] <AryehGregor>
Well, no.

[15:13:02.0000] <AryehGregor>
But they've wound up implementing HTML anyway, and probably would have in the end even if it weren't at the W3C.

[15:14:00.0000] <AryehGregor>
llrcombs, I think I complained about that.  The naming is confusing.

[15:14:01.0000] <AryehGregor>
Too late to change it, I guess.

[15:15:00.0000] <Slaanesh>
AryehGregor: Mozilla supports opt-in (to whatever degree Mozilla can support something)

[15:15:01.0000] <AryehGregor>
Really?

[15:15:02.0000] <AryehGregor>
That's surprising to me.

[15:15:03.0000] <gsnedders>
AryehGregor: Mozilla is still a major driving force within ES

[15:15:04.0000] <Slaanesh>
It was pretty much necessary for the original es4

[15:15:05.0000] <Slaanesh>
considering the core changes

[15:15:06.0000] <gsnedders>
They probably have more control over it than the other browser vendors combined

[15:16:00.0000] <zcorpan_>
llrcombs: playing is fired when the video really starts playing. play is fired when play is requested

[15:16:01.0000] <AryehGregor>
/me doesn't follow ES.

[15:17:00.0000] <Slaanesh>
Mozilla was basically running javascript until es4 got started

[15:19:00.0000] <gsnedders>
In a lot of ways, it was not really much better than OOXML, ECMA pretty much just rubber-stamping it

[15:19:01.0000] <Slaanesh>
es5?

[15:19:02.0000] <gsnedders>
Before ES4

[15:19:03.0000] <Slaanesh>
They didn't even stamp the stuff from js 1.5 to 2.0

[15:19:04.0000] <llrcombs>
CS5?

[15:19:05.0000] <llrcombs>
wait lolwat?

[15:20:00.0000] <gsnedders>
Slaanesh: Well, yeah. :P

[15:22:00.0000] <Slaanesh>
I agree the original es4 went quite far into unbroken wilderness, but es5 was somewhat underwhelming

[15:22:01.0000] <gsnedders>
ES5 didn't go far enough at making the spec match what any browser will ever implement

[15:29:00.0000] <TabAtkins>
Heh, linking my demos more than double the total lifetime bandwidth expenditure for my site.  ^_^

[15:30:00.0000] <TabAtkins>
(And happened right when my account dropped below a dollar, so the two bucks or so that the swell cost knocked my site down temporarily.)

[15:32:00.0000] <Rik`>
TabAtkins: have you also measured the time people are loosing by downloading all those episodes for an almost forgotten cartoon ?

[15:33:00.0000] <TabAtkins>
NEVAR FORGET

[15:33:01.0000] <gsnedders>
NEVER!

[15:33:02.0000] <gsnedders>
NEVER!

[15:33:03.0000] <Slaanesh>
Which one? Gem?

[15:33:04.0000] <TabAtkins>
Samurai Pizza Cats

[15:33:05.0000] <TabAtkins>
Slaanesh: http://www.xanthir.com/video/demo3.html

[15:34:00.0000] <Slaanesh>
More like Samurai Making-stuff-up Cats


2010-07-10
[17:12:00.0000] <Hixie>
i am embarassingly incompetent at remembering the css box model these days

[17:12:01.0000] <Hixie>
/me tries to remember how inline boxes work

[17:15:00.0000] <TabAtkins>
What specifically are you trying to remember?

[17:21:00.0000] <Hixie>
TabAtkins: i need to turn a tree of WebSRT Node Objects (http://www.whatwg.org/specs/web-apps/current-work/complete.html#websrt-node-object) into a tree of CSS boxes

[17:22:00.0000] <llrcombs>
How do I detect if a <video> is playing?

[17:22:01.0000] <TabAtkins>
If a particular video is playing, or if a video *somewhere* on the page is playing?

[17:23:00.0000] <llrcombs>
a particular <video>

[17:24:00.0000] <TabAtkins>
I think just check that video.paused and video.ended are both false.

[17:25:00.0000] <TabAtkins>
http://www.whatwg.org/specs/web-apps/current-work/multipage/video.html#playing-the-media-resource

[17:25:01.0000] <TabAtkins>
Read the paragraph "A media element is said to be potentially playing..."

[17:26:00.0000] <llrcombs>
ahh, paused

[17:26:01.0000] <llrcombs>
erm, wait

[17:26:02.0000] <llrcombs>
is there a reliable method of actually asking "is this playing"?

[17:27:00.0000] <TabAtkins>
llrcombs: No way of asking that directly.  I gave one that works well enough - the spec itself describes a few more things you can check as well.

[17:27:01.0000] <TabAtkins>
Hixie: So what exactly is the problem?

[17:28:00.0000] <Hixie>
TabAtkins: not sure even where to begin in doing that, but that's just because i haven't read the css specs again yet :-)

[17:31:00.0000] <TabAtkins>
I'd think you'd handle it in the obvious way - test, italic, bold, ruby, and ruby text nodes all create inline boxes.  That's it.

[17:32:00.0000] <Hixie>
well there have to be block boxes and ruby boxes and line boxes and the like

[17:32:01.0000] <TabAtkins>
Each group gets wrapped in a block box.

[17:33:00.0000] <TabAtkins>
Ruby boxes are just inline boxes with appropriate ruby display values set.

[17:33:01.0000] <Hixie>
inline boxes with display values set aren't inline boxes :-P

[17:33:02.0000] <TabAtkins>
Bah, semantics.

[17:33:03.0000] <TabAtkins>
Are you going in deeply enough to need to describe lineboxes?

[17:34:00.0000] <Hixie>
i have to go in all the way, don't i?

[17:35:00.0000] <Hixie>
not sure how else to make the spec well-defined

[17:36:00.0000] <TabAtkins>
Hm, I guess, since you're choosing to not require an existing html engine, which could just display them normally.

[17:37:00.0000] <Hixie>
"normally"?

[17:37:01.0000] <Hixie>
if it was a disconnected DOM tree I'd still have to hook into the CSS model pretty deeply

[17:37:02.0000] <Hixie>
only if it was a whole document would it be easy

[17:39:00.0000] <TabAtkins>
Hmm, I guess so.

[19:36:00.0000] <boblet>
Hixie: what was the reason behind no XML literals in microdata? no compelling use cases?

[19:47:00.0000] <TabAtkins>
boblet: Heading home for the weekend now, but I sent you a draft of my post via twitter.

[19:50:00.0000] <boblet>
TabAtkins: sweet! will check it out

[03:51:00.0000] <annevk>
how can you check in wireshark what the server transmits back?

[03:51:01.0000] <annevk>
I only see the outgoing part of the request

[03:59:00.0000] <annevk>
hmm, used web-sniffer.net for now

[04:00:00.0000] <Matjas>
hurl.it is also pretty good

[04:50:00.0000] <Philip`>
annevk: Wireshark ought to show traffic in both directions, but it may depend on what network interface you're monitoring

[04:50:01.0000] <Slaanesh>
annevk: You might be using the wrong filter

[04:58:00.0000] <annevk>
I filtered on "http"

[04:59:00.0000] <Slaanesh>
I usually use "port 80" and that shows both ways

[06:13:00.0000] <annevk>
no luck here btw

[06:13:01.0000] <annevk>
but it's not much of a problem anymore

[06:13:02.0000] <annevk>
though it would be nice to know

[06:16:00.0000] <Slaanesh>
Are you checking a wireless connection?

[06:16:01.0000] <annevk>
no

[11:10:00.0000] <llrcombs>
is it possible to get the current width of the actual video playing in a <video> (i.e. not including the pillarbox)?


2010-07-11
[08:38:00.0000] <gsnedders>
Hmm, given an iterator in Python that returns a list each time, what's the easiest way to loop over all the lists returned?

[08:38:01.0000] <gsnedders>
e.g., given iter([[1,2,3], [4,5,6]]) iterate over 1,2,3,4,5,6

[08:43:00.0000] <variable>
gsnedders, ##python ?

[08:44:00.0000] <variable>
or rather #python 

[08:44:01.0000] <gsnedders>
But it's less effort to ask here and there tend to be people around who know :P

[09:08:00.0000] <Slaanesh>
gsnedders: Create a iterator iterator (or see if one exists)

[09:10:00.0000] <Slaanesh>
Shouldn't be more complicated than for x in iter: for y in x: yield y, I would expect

[09:17:00.0000] <gsnedders>
Slaanesh: It seems like there should be a way to do it with built-in functions; either implementing a generator or an iterator basically adds too much overhead to make what I'm doing worthwhile as an optimization

[09:17:01.0000] <gsnedders>
(trying to avoid doing iter(cursor.fetchone, None) but instead butter results with cursor.fetchmany

[09:19:00.0000] <Slaanesh>
Isn't that the opposite of what you asked for?

[09:21:00.0000] <gsnedders>
s/easiest/quickest/ I think changes it to be right

[09:23:00.0000] <gsnedders>
Using oursql instead of MySQLdb, which is all Cython, makes fetchone a heckuva lot cheaper to call like iter(cursor.fetchone, None) 

[09:23:01.0000] <variable>
gsnedders, check to see if you really need to optimize that loop btw

[09:25:00.0000] <gsnedders>
I don't need to; it doesn't make that much difference if the script takes 300s to run and not 500s :)

[09:25:01.0000] <gsnedders>
(but that loop is pretty much the entire execution time)

[09:26:00.0000] <gsnedders>
(and back when it was 500s a large amount was overhead within the DB-API impl)

[10:41:00.0000] <jgraham>
gsnedders: Search for flatten on http://docs.python.org/library/itertools.html

[10:49:00.0000] <gsnedders>
jgraham: Ah, I just hadn't found it there

[10:54:00.0000] <gsnedders>
And chain(*foo) is identical to chain.from_iterable(foo), but works on Py < 2.6

[10:57:00.0000] <gsnedders>
No, it isn't

[10:57:01.0000] <gsnedders>
It's evaluated strictly

[10:57:02.0000] <gsnedders>
Meh

[11:00:00.0000] <jgraham>
gsnedders: It's not like it would be difficult to add from_iterable if it is missing

[11:00:01.0000] <jgraham>
The code is even on the page

[11:00:02.0000] <gsnedders>
jgraham: But 10s more overhead

[11:01:00.0000] <jgraham>
Compared to waht total time? And compared to what?

[11:01:01.0000] <jgraham>
+implementation

[11:03:00.0000] <gsnedders>
jgraham: 280s, the one in the itertools module

[11:04:00.0000] <jgraham>
So it only adds about 3%  overhead. Not negligible but not obviously a huge deal

[11:04:01.0000] <jgraham>
Well more like 4% I guess

[11:07:00.0000] <jgraham>
(especially since the solution of upgrading python is avaliable)

[11:14:00.0000] <gsnedders>
jgraham: 280s? That's totally not what I meant to say. 180s.

[11:14:01.0000] <gsnedders>
Which makes it 5.5%

[11:15:00.0000] <jgraham>
Yeah, but what choices do you have? 

[11:15:01.0000] <jgraham>
ither don't do what you are doing or upgrade python

[11:16:00.0000] <jgraham>
*E

[12:29:00.0000] <Workshiva>
I'm trying to recall, didn't Shelley say she was done with htmlwg quite recently?

[12:31:00.0000] <AryehGregor>
Hasn't she said that on a regular basis for the entire course of her involvement with the HTMLWG?

[12:32:00.0000] <Workshiva>
It seems more like she's ramped up her activity to me...

[13:07:00.0000] <Hixie>
jgraham: so far the discussion has been primarily about discussion about discussion about articles

[13:07:01.0000] <Workshiva>
Sheds and paint for everyone

[15:43:00.0000] <jgraham>
Hixie: metadiscussion of off-topic topics seems unlikely to be more on topic than the topic it concerns

[15:45:00.0000] <fagan>
jgraham: what topic are you talking about?

[15:45:01.0000] <fagan>
is it the article about the two different html5 specs?

[15:47:00.0000] <fagan>
(w3 and whatwg)

[15:49:00.0000] <jgraham>
fagan: There was some (meta) discussion on the WHATWG list about some CNN atricle about HTML5

[15:49:01.0000] <jgraham>
Or Cnet or someone

[15:49:02.0000] <jgraham>
CNet seems more likely

[15:49:03.0000] <fagan>
thats what I was saying :)

[15:50:00.0000] <fagan>
its more about the differences between the drafts and drama IMO

[15:50:01.0000] <jgraham>
Well then it appears I am unwittingly agreeing with you

[15:50:02.0000] <jgraham>
:)

[15:50:03.0000] <fagan>
but it is offtopic 

[15:50:04.0000] <Hixie>
jgraham: agreed

[15:50:05.0000] <jgraham>
fagan: For the list, I would say so

[15:50:06.0000] <jgraham>
Although Hixie is the arbiter

[15:50:07.0000] <jgraham>
(is that a real word?)

[15:51:00.0000] <fagan>
I tend to ignore discussions like that just because it attracts flaming sometimes 

[15:51:01.0000] <Hixie>
so far it has remained low-volume enough that i'm letting it pass

[15:52:00.0000] <Hixie>
(shutting down discussions about my being a dictator is more likely to cause drama than letting a low-level discussion occur)

[15:52:01.0000] <KrocCamen>
Keep up the good work is all I can say.

[15:53:00.0000] <KrocCamen>
How can anybody not agree that this is the most exciting time for web development there has been.

[15:53:01.0000] <jgraham>
Yeah I wasn't really suggesting you shut it down

[15:53:02.0000] <fagan>
well ignoring those kind of things is the best way of keeping the drama down 

[15:53:03.0000] <jgraham>
Just complaining :)

[15:53:04.0000] <fagan>
its a big problem for public mailing lists sometimes 

[15:58:00.0000] <fagan>
its interesting that http://www.w3.org/1999/xhtml is the most linked page on this channel 

[15:59:00.0000] <Hixie>
jgraham: i hear ya :-)

[15:59:01.0000] <fagan>
/me was just looking at the stats

[15:59:02.0000] <Hixie>
fagan: that's the xhtml5 namespace

[15:59:03.0000] <Hixie>
so it makes sense

[15:59:04.0000] <fagan>
true 

[16:04:00.0000] <fagan>
Hixie: what happens after HTML5 is finalised? Do we start talking HTML6?

[16:06:00.0000] <Hixie>
in the whatwg we've already moved on from html5 -- if you look at the spec you'll see it talks about "HTML", not "HTML5"

[16:06:01.0000] <Hixie>
as or in the w3c, i dunno

[16:07:00.0000] <fagan>
:)

[16:07:01.0000] <fagan>
Oh didnt notice the change 

[16:11:00.0000] <aho>
html 7 ex plus alpha turbo championship edition

[16:12:00.0000] <fagan>
aho: lol 

[16:19:00.0000] <fagan>
hmmmm is the "the" supposed to be behind the "web" in "web hypertext application technology" on this page http://www.whatwg.org/specs/

[16:19:01.0000] <Hixie>
yes

[16:20:00.0000] <fagan>
ah ok so its not a bug its a feature 

[16:20:01.0000] <Hixie>
my styling abilities leave a lot to be desired for :-)

[16:20:02.0000] <fagan>
well my style isnt any better http://shanefagan.com

[16:20:03.0000] <fagan>
:D

[16:22:00.0000] <fagan>
/me at least used some HTML5 on one of his posts

[16:25:00.0000] <fagan>
just the video tag though I wordpress butchered my attempt at using <canvas>

[16:26:00.0000] <fagan>
just the video tag though I wordpress butchered my attempt at using <canvas>

[16:27:00.0000] <fagan>
I have played with it on a test website though so fun but I cant draw for the life of me 

[16:27:01.0000] <fagan>
canvas is awesome though 

[16:27:02.0000] <fagan>
/me high fives whoever had the idea

[16:33:00.0000] <KrocCamen>
Apple

[16:34:00.0000] <fagan>
/me high fives apple


2010-07-12
[02:25:00.0000] <annevk>
again with the rain

[02:25:01.0000] <annevk>
at least I'm inside

[02:34:00.0000] <zcorpan_>
annevk: we haven't had rain for weeks here

[02:35:00.0000] <Rik`>
same here

[02:35:01.0000] <Rik`>
and it is most welcome, temperatures are down

[02:35:02.0000] <annevk>
we had some hail yesterday in between 25-30 degree heat

[02:36:00.0000] <annevk>
very large hail, even, almost golf ball sized

[02:45:00.0000] <annevk>
hsivonen, so if it's not XML5, what work on the XML parser is needed then?

[02:45:01.0000] <jgraham>
/me predicts off-the-main-thread parsing

[02:46:00.0000] <annevk>
but XML is hardly used, is that worth the effort?

[02:53:00.0000] <jgraham>
Maybe it helps for SVG content which could be very large

[03:02:00.0000] <MikeSmith>
privacy workshop is in progress

[03:02:01.0000] <MikeSmith>
minutes are here:

[03:02:02.0000] <MikeSmith>
http://www.w3.org/2010/07/12-privacy-minutes.html

[03:03:00.0000] <MikeSmith>
(refresh that once in in while to get the latest)

[03:03:01.0000] <MikeSmith>
and/or join #privacy on the W3C IRC server

[03:03:02.0000] <MikeSmith>
irc.w3.org, port 6665 or 80

[03:05:00.0000] <annevk>
cheers MikeSmith

[03:05:01.0000] <annevk>
saw some of it on twitter already

[03:05:02.0000] <Peter`>
yup, thank you

[03:06:00.0000] <MikeSmith>
I think the 16:00-17:30 agenda slot will be especially interesting

[03:06:01.0000] <MikeSmith>
that's when Ian Fette and Marcos Caceres will be presenting

[03:07:00.0000] <annevk>
are any UI experts there?

[03:08:00.0000] <MikeSmith>
dunno

[03:08:01.0000] <MikeSmith>
Aza Raskin submitted a paper

[03:08:02.0000] <MikeSmith>
but not sure if he will be attending

[03:08:03.0000] <annevk>
but he's not presenting?

[03:08:04.0000] <annevk>
hmm

[03:08:05.0000] <annevk>
privacy UI would be interesting to read/see something about

[03:09:00.0000] <MikeSmith>
annevk: both Marcos and Ian Fette's paper also focus some on UI stuff

[03:10:00.0000] <MikeSmith>
Aza and Arun's paper proposes have a standard set of icons that signal info about privacy conditions

[03:11:00.0000] <annevk>
yeah, the Chrome paper was pretty good

[03:11:01.0000] <MikeSmith>
*proposes a standard set of icons

[03:11:02.0000] <annevk>
Marcos' paper didn't discuss how the problems could be addressed unfortunately

[03:15:00.0000] <MikeSmith>
there was a somewhat interesting side discussion about UI just now

[03:15:01.0000] <MikeSmith>
I refreshed the minutes

[03:16:00.0000] <MikeSmith>
see exchange with fette and hendry 

[03:25:00.0000] <annevk>
hopefully someone writes a short blog post in the end with conclusions

[04:28:00.0000] <annevk>
note to self: hybi list participation does not seem worth it

[04:30:00.0000] <MikeSmith>
annevk: there's some cathartic value in it at least

[05:52:00.0000] <zcorpan_>
maybe speculative parsing for xml?

[05:55:00.0000] <adactio>
I'm trying to find the page on the wiki that hixie set up to document various kinds of text on video (karaoke, subtitles, etc.) but I'm not having much luck. Anyone got the URL?

[06:02:00.0000] <Workshiva>
adactio: http://wiki.whatwg.org/wiki/Use_cases_for_timed_tracks_rendered_over_video_by_the_UA

[06:02:01.0000] <adactio>
Workshiva: Thanks!

[06:02:02.0000] <Workshiva>
There are some other pages, but I think that's the one you mean

[07:58:00.0000] <karlcow>
http://mathiasbynens.be/notes/html5-id-class

[07:59:00.0000] <karlcow>
Topic: Access Control is an Inadequate Framework for Privacy Protection

[07:59:01.0000] <karlcow>
lalana: I do not propose any technical solutions.

[08:00:00.0000] <karlcow>
... I will propose future directions researchs.

[08:01:00.0000] <karlcow>
... Brandeis = access to information

[08:01:01.0000] <karlcow>
... willis = use of information

[08:01:02.0000] <Peter`>
karlcow: wrong channel I think?

[08:01:03.0000] <karlcow>
doh

[09:23:00.0000] <karlcow>
Thanks Pe

[09:23:01.0000] <karlcow>
Thanks Peter` 

[10:07:00.0000] <MikeSmith>
how has the meaning of the <em> element changed in HTML5?

[10:07:01.0000] <MikeSmith>
I have it marked as "changed" because somebody suggested I should

[10:08:00.0000] <MikeSmith>
but I can't remember what they said had changed about it

[10:10:00.0000] <Workshiva>
MikeSmith: Could it be some trivial detail that nobody actually cares about?

[10:10:01.0000] <MikeSmith>
heh

[10:10:02.0000] <MikeSmith>
I'm sure it is

[10:10:03.0000] <Workshiva>
I suppose you can't check html5-diffs :)

[10:13:00.0000] <MikeSmith>
Workshiva: it doesn't mention anything about em having changed

[10:14:00.0000] <MikeSmith>
I think Oli (boblet) was the one who has split hairs about this

[10:14:01.0000] <MikeSmith>
e.g., http://krijnhoetmer.nl/irc-logs/whatwg/20100222#l-279

[10:14:02.0000] <MikeSmith>
pointing out that the spec says "stress emphasis"

[10:14:03.0000] <MikeSmith>
whatever the hell that's supposed to mean…

[10:18:00.0000] <jgraham>
MikeSmith: It sounds like you can solve your problem by ignoring it

[10:19:00.0000] <MikeSmith>
I'm good at that

[10:19:01.0000] <MikeSmith>
good match for my skill set

[10:20:00.0000] <MikeSmith>
when I was in elementary school, I always got A's for "ignores well" on my report card

[10:21:00.0000] <jgraham>
I mean people love to argue about tiny demantic details

[10:21:01.0000] <jgraham>
*semantic

[10:21:02.0000] <jgraham>
But then never do anything with all the semantics

[10:21:03.0000] <miketaylr>
demantics sounds cooler

[10:22:00.0000] <jgraham>
So it is just a waste of entropy

[10:27:00.0000] <TabAtkins>
MikeSmith: No, it didn't change in any meaningful way.  <strong> did, *slightly*, only to make it something other than <em>++.

[10:27:01.0000] <GPHemsley>
I thought it was changed to stress that <em> !== <i>

[10:28:00.0000] <MikeSmith>
TabAtkins: Oli asserts that it has changed -- see http://html5doctor.com/i-b-em-strong-element/

[10:29:00.0000] <MikeSmith>
"<em> — was emphasis, now for stress emphasis, i.e., something you’d pronounce differently"

[10:29:01.0000] <TabAtkins>
Yeah, that's the "didn't change in any meaningful way" part.

[10:30:00.0000] <MikeSmith>
"something you’d pronounce differently" is a way that the spec *could* state it, I suppose … but it actually doesn't

[11:52:00.0000] <KaOSoFt>
http://developers.slashdot.org/story/10/07/12/1543248/How-To-Use-HTML5-Today

[13:42:00.0000] <TabAtkins>
Ah, finally got <audio> to work well in the browser.  It was tricky to figure out how to handle a single sound being played multiple overlapping times.

[13:42:01.0000] <TabAtkins>
(The answer is to create multiple <audio>s with the same src, and just cycle through the set.)

[13:57:00.0000] <erlehmann>
TabAtkins what are you building with <audio> ?

[13:57:01.0000] <TabAtkins>
http://www.xanthir.com/collidingcircles

[13:57:02.0000] <TabAtkins>
Click around in the black square a bit.

[14:04:00.0000] <cardona507>
TabAtkins: nice work

[14:09:00.0000] <TabAtkins>
Thanks, cardona507.  Just me playing around with <canvas> and <audio>, based on a challenge from brucel to replicate a Flash app that did approximately the same.

[14:10:00.0000] <cardona507>
very cool

[14:10:01.0000] <gsnedders>
Taking up challenges from brucel tends to be a bad idea

[14:12:00.0000] <TabAtkins>
Well, in this case it was good.  I successfully finished it, and learned stuff in the process.

[14:12:01.0000] <TabAtkins>
/me figures he should actually learn <canvas> and such, since he's off doing talks about it.

[14:13:00.0000] <cardona507>
:)

[15:27:00.0000] <Hixie>
ok so this may seem like a dumb question

[15:27:01.0000] <Hixie>
but

[15:28:00.0000] <Hixie>
where does css require that UAs implement the CSS box model?

[15:29:00.0000] <annevk>
"A user agent is any program that interprets a document written in the document language and applies associated style sheets according to the terms of this specification."

[15:29:01.0000] <annevk>
-- http://www.w3.org/TR/CSS21/conform.html

[15:30:00.0000] <Hixie>
k

[15:31:00.0000] <annevk>
I think that statement is how CSS gets away with fluffy language, but you would know better having been an active editor and all :)

[15:31:01.0000] <Hixie>
when i was an editor (and still now) i thought we should scrap css's current text and rewrite it using rfc2119 terms

[15:32:00.0000] <Hixie>
so...

[15:32:01.0000] <annevk>
fair enough

[15:34:00.0000] <annevk>
I wonder how long CSS 2.1 will continue to be patched

[15:37:00.0000] <Slaanesh>
Until all the relevant CSS 3 equivalents are CR?

[15:38:00.0000] <annevk>
"CSS3" is just patches applies to CSS 2.1

[15:38:01.0000] <annevk>
applied, even

[15:38:02.0000] <Hixie>
we should just do the same as with html

[15:38:03.0000] <Hixie>
and have one "CSS" spec

[15:38:04.0000] <Hixie>
but anyway

[15:39:00.0000] <annevk>
if we had someone to do it that'd be great

[15:39:01.0000] <Hixie>
yeah

[15:54:00.0000] <Hixie>
nothing prevents the root element from being position:absolute right?

[15:58:00.0000] <annevk>
nope

[15:58:01.0000] <Hixie>
excellent

[15:58:02.0000] <annevk>
I filed a bunch of bugs in 2004 to actually get that to work in browsers :)

[16:17:00.0000] <Hixie>
i haven't finished it or defined how the properties are mapped yet, but does this look like it uses the right incantations to invoke CSS for rendering subtitles? http://www.whatwg.org/specs/web-apps/current-work/complete.html#rules-for-updating-the-display-of-websrt-timed-tracks

[16:17:01.0000] <Hixie>
specifically step 7.6


2010-07-13
[17:06:00.0000] <TabAtkins>
Hixie: you mean 7.7 now, which starts with "Apply the terms of the CSS specifications..."?

[17:06:01.0000] <Hixie>
yeah

[17:08:00.0000] <TabAtkins>
That feels adequate to me.

[17:08:01.0000] <Hixie>
cool, thanks

[17:09:00.0000] <Hixie>
anything i should improve?

[17:09:01.0000] <TabAtkins>
It looks like the internal node objects can still be accessed by using * to select things?

[17:10:00.0000] <cardona507>
hmmm - what are the chances that we will move to a similar model as HTML and just have one version of CSS?

[17:10:01.0000] <Hixie>
TabAtkins: "No style sheets are associated with /nodes/"

[17:10:02.0000] <Hixie>
cardona507: about nil, in practice, but we can hope...

[17:15:00.0000] <variable>
general proccess question: I brought up a couple of ideas on the mailing list (input type="username" as one example) which were discussed and then the thread died. Does that mean that the ideas were rejected or am I supposed to do something more than that?

[17:15:01.0000] <Hixie>
neither

[17:15:02.0000] <Hixie>
eventually i'll get to the thread

[17:16:00.0000] <Hixie>
and then i reply to it, either adding the feature or something like it, or explaining what arguments were convincing

[17:16:01.0000] <Hixie>
the list of e-mails i haven't yet responded to is here: http://www.whatwg.org/issues/

[17:19:00.0000] <Hixie>
(i'm way behind -- there's a graph of my progress here: http://www.whatwg.org/issues/data.html)

[17:20:00.0000] <TabAtkins>
Hixie: Hm, I guess that works.  How are you then hooking up later stylesheets that'll be accessing things through ::cue() pseudos?

[17:20:01.0000] <KrocCamen>
Wow, what was with that crazy productive week in October?

[17:21:00.0000] <variable>
Hixie, the particular example I mentioned isn't on that list

[17:21:01.0000] <variable>
(I'm not just trying to bump the queue or anything - just trying to understand how things work)

[17:21:02.0000] <Hixie>
TabAtkins: the bit that says "All properties have their initial values, except as explicitly overridden for specific nodes in the next section" is my hook to define those things, which i'll do in the next couple of sections

[17:22:00.0000] <Hixie>
KrocCamen: i needed to get to zero so we could announce last call, so i worked my ass off :-)

[17:22:01.0000] <Hixie>
variable: do you have a subject line? let me check what's up with it

[17:22:02.0000] <Hixie>
variable: when did you send it?

[17:23:00.0000] <variable>
RFC: <input  type="username">   may 4th

[17:23:01.0000] <TabAtkins>
Hixie: My question, though, is how you're supposed to associate stylesheets with those nodes in the first place, when you're explicitly saying there mustn't be any?

[17:24:00.0000] <KrocCamen>
A username could be an email BTW.

[17:24:01.0000] <KrocCamen>
Just to throw a spanner in the works.

[17:25:00.0000] <variable>
KrocCamen, that was brought up during the thread

[17:25:01.0000] <variable>
my response was that the lists of emails the browser should be using are different. If the username == email address I don't want the browser to start offering Bob's email address if my username is bannanna

[17:26:00.0000] <variable>
The semantics are different. In one case the system wants an email address, in the othercase the system wants a username that just happens to be in the pattern of an email

[17:27:00.0000] <Hixie>
TabAtkins: i explicitly assign the properties myself in the subsequent sections

[17:27:01.0000] <KrocCamen>
Mozilla have been looking to move identity into the browser including a system for sites to specify their login pages so the browser can handle the login and manage identities.

[17:27:02.0000] <Hixie>
TabAtkins: rather than letting the css do it

[17:27:03.0000] <Hixie>
the css spec do it, i mean

[17:27:04.0000] <Hixie>
(since the css spec doesn't know about the pseudos)

[17:28:00.0000] <TabAtkins>
Hixie: Hrm.  That seems kind of silly, though.

[17:28:01.0000] <variable>
KrocCamen, also brought up in the thread ;) I don't remember if I was the first one to mention that or not. 

[17:28:02.0000] <variable>
IMHO The mozilla project is loooong overdue.

[17:28:03.0000] <Hixie>
TabAtkins: how else can we do it?

[17:29:00.0000] <variable>
I only brought the issue up now to understand how the whatwg proccess works....

[17:29:01.0000] <Hixie>
variable: it's there

[17:29:02.0000] <Hixie>
under processing-model

[17:30:00.0000] <Hixie>
(sorry, took me a while to find it)

[17:30:01.0000] <variable>
Hixie, no problem. Which category is it under?

[17:30:02.0000] <TabAtkins>
Hixie: Just handle it through normal CSS matching rules, defining what pseudos match what functions.  The only downside is the ability of * to match, but that can probably be hacked around.

[17:30:03.0000] <Hixie>
(e-mails 318 to 346 in that folder, when sorted in the order i go through them by, which is by thread sorted by date of first e-mail)

[17:30:04.0000] <Hixie>
variable: processing-model

[17:31:00.0000] <TabAtkins>
And even if we left it alone, rules don't flow into embedded documents normally.

[17:31:01.0000] <Hixie>
TabAtkins: i don't really understand how that would be a any different in practice

[17:31:02.0000] <variable>
Hixie, alright - sorry for bothering you :D

[17:31:03.0000] <Hixie>
variable: np!

[17:32:00.0000] <TabAtkins>
In practice, it shouldn't be.  It just seems weird to try and end-run around CSS matching when you're going to duplicate it anyway.

[17:32:01.0000] <Hixie>
TabAtkins: well basically my choice is between saying we skip the css matching and i do it, or saying we do the css matching but then overrulling every single part of it.

[17:33:00.0000] <Hixie>
TabAtkins: i don't see the win of doing it the other way... but maybe i should spec out what i had in mind and then you can look at that and show me what you mean and if it's better i'll use that instead :-)

[17:34:00.0000] <TabAtkins>
Heh, kk.  I'm curious, though - are you just afraid of people trying to match against the doc with "* > * + * { color: red; }" or something?

[17:37:00.0000] <Hixie>
TabAtkins: no, i just thought it'd be clearer if i did it this way

[17:37:01.0000] <TabAtkins>
I think just making it an embedded document like "normal" is the clearest, personally.

[17:38:00.0000] <Hixie>
you'll be able to demonstrate this for me once i've figured out what the pseudo is gonna look like :-)

[17:38:01.0000] <TabAtkins>
kk

[17:38:02.0000] <Hixie>
is 'vh' allowed yet btw?

[17:38:03.0000] <Hixie>
i'm using it to define the default font size of cues

[17:39:00.0000] <TabAtkins>
It's in Units 3.  So... yes?

[17:39:01.0000] <Hixie>
i mean is units 3 stable?

[17:39:02.0000] <Hixie>
it was in WD last i checked

[17:40:00.0000] <TabAtkins>
Still is.

[17:40:01.0000] <Hixie>
but i don't know what that means w.r.t. stability

[17:40:02.0000] <Hixie>
k

[17:41:00.0000] <TabAtkins>
But vh and friends are liked and have no plans to change or be removed, afaik.

[17:41:01.0000] <Hixie>
ooh, 'fr'

[17:41:02.0000] <Hixie>
that is... woefully underspecified

[17:41:03.0000] <TabAtkins>
Yeah, don't rely on that one yet.

[17:41:04.0000] <TabAtkins>
It's recent.

[17:41:05.0000] <Hixie>
k

[17:42:00.0000] <TabAtkins>
And subject to change when we decide on what to do with Flexbox.

[17:44:00.0000] <Hixie>
is there a font-outline or any such thing?

[17:44:01.0000] <TabAtkins>
Not outside of -webkit-text-stroke

[17:44:02.0000] <Hixie>
i found text-outline in css3 text, is that dead?

[17:45:00.0000] <TabAtkins>
Not dead - temporarily sedated until a team of medical personell can treat it.

[17:45:01.0000] <Hixie>
hah

[17:45:02.0000] <Hixie>
k

[17:47:00.0000] <Hixie>
is there any way of absolutely forcing text wrapping at the viewport width?

[17:47:01.0000] <Hixie>
even if it's half-way through a word?

[17:48:00.0000] <Hixie>
we were talking about white-space: emergency or something a while back

[17:48:01.0000] <Hixie>
but i can't see anything like that

[17:48:02.0000] <TabAtkins>
What case are you thinking about, more specifically?  You mean if an element would normally be wider than the viewport, but you still want it to be wrapped by the viewport?

[17:49:00.0000] <Hixie>
i don't mind setting max-width

[17:49:01.0000] <Hixie>
i just want to make sure the cues wrap and don't go off the edge of the video

[17:49:02.0000] <Hixie>
even if they are just one long string of letters

[17:49:03.0000] <TabAtkins>
Oh, so if you've already forced a word to its own line and it's still too long, doing a forced break in the middle of the word?

[17:49:04.0000] <Hixie>
yeah

[17:50:00.0000] <TabAtkins>
Nothing for that exists right now.

[17:50:01.0000] <Hixie>
k

[17:50:02.0000] <Hixie>
i'll just use prose then

[17:50:03.0000] <eseidel>
where is teh Henri

[17:50:04.0000] <eseidel>
</foreignObject> is impossible ;p  I must understand how he haxored it

[17:50:05.0000] <Hixie>
paging hsivonen for eseidel 

[17:50:06.0000] <eseidel>
dr. hsivonen!

[17:51:00.0000] <Hixie>
i seem to recall whatever he did is described in the relevant bug btw

[17:51:01.0000] <Hixie>
and that i looked at it and decided it was sane

[17:51:02.0000] <eseidel>
hsivonen: see my mail to you and hixie just now.  I don't undersatnd how one ever is supposed to get out of the secondary insertion mode, once in it

[17:51:03.0000] <eseidel>
Hixie: I didn't find a bug on it

[17:52:00.0000] <Hixie>
9580 to 9582?

[17:52:01.0000] <Hixie>
9831

[17:52:02.0000] <Hixie>
?

[17:52:03.0000] <Hixie>
10055?

[17:52:04.0000] <Hixie>
i'm sure it's one of those :-)

[17:52:05.0000] <Hixie>
no mail from you yet

[17:53:00.0000] <Hixie>
unless you sent it to my work address

[17:53:01.0000] <Hixie>
ah here it is indeed

[17:56:00.0000] <eseidel>
Hixie, hsivonen: I'm just not sure what condition is supposed to kick you out of secondary insertion mode?  I assume handling </foreignObject>

[17:56:01.0000] <eseidel>
but In Body mode doesn't talk about </foreignObject> :)

[17:57:00.0000] <Hixie>
the spec is known buggy here

[17:57:01.0000] <Hixie>
i think it's 9582

[17:57:02.0000] <Hixie>
a few more days and i'll be able to go through all these bugs and fix them

[17:57:03.0000] <Hixie>
i'm almost done with subtitles

[17:58:00.0000] <eseidel>
nah, I don't think it's 9582

[18:08:00.0000] <eseidel>
Hixie: I'm not sure how hsivonen handled it, but AFAICT he hasn't filed a bug on it.  I'll track him down later

[18:09:00.0000] <Hixie>
k

[18:09:01.0000] <Hixie>
please file a bug and mark it P1/crit when you work out how to fix it (or even before -- i'm likely to look at this on wednesday if all goes according to plan)

[18:15:00.0000] <MikeSmithX>
 /me just now notices that spec currently says that the values of on* event-handler attributes "must contain valid JavaScript code matching the FunctionBody production. [ECMA262]"

[18:15:01.0000] <MikeSmithX>
http://dev.w3.org/html5/spec/webappapis.html#event-handler-content-attributes

[18:16:00.0000] <MikeSmith>
that's not going to be much fun to try to validate

[18:16:01.0000] <MikeSmith>
I wonder if there might be some way to validate it using Rhino

[18:20:00.0000] <MikeSmith>
or could use JSLint to check it maybe

[18:21:00.0000] <MikeSmith>
geez

[18:23:00.0000] <MikeSmith>
is it really still the case that there's no HTML version of the ecmascript spec?

[18:28:00.0000] <MikeSmith>
http://twitter.com/heycam/status/18393872430

[18:29:00.0000] <MikeSmith>
"Excited to say that from October, I'll be moving to NZ and working for Mozilla on Platform & standards stuff from their Auckland office!"

[18:29:01.0000] <MikeSmith>
w00t

[18:29:02.0000] <MikeSmith>
/me looks forward to heycam getting back on IRC

[18:30:00.0000] <boblet>
/me didn’t know Moz had an AK office

[18:30:01.0000] <MikeSmith>
boblet: really?

[18:31:00.0000] <boblet>
rly

[18:31:01.0000] <boblet>
(not that I’ve ever lived there mind)

[18:31:02.0000] <MikeSmith>
ah

[18:31:03.0000] <MikeSmith>
well, roc's there

[18:31:04.0000] <MikeSmith>
I think still

[18:32:00.0000] <MikeSmith>
and I think doublec too

[18:32:01.0000] <doublec>
yep, I'm there too

[18:32:02.0000] <MikeSmith>
doublec: you have a fair number of people there, right?

[18:33:00.0000] <doublec>
5 at the moment

[18:33:01.0000] <doublec>
kinetik is there too

[18:33:02.0000] <boblet>
へー

[18:33:03.0000] <boblet>
my image of AK improves :)

[18:33:04.0000] <doublec>
:)

[18:35:00.0000] <MikeSmith>
didn't know kinetik was there too

[18:38:00.0000] <MikeSmith>
the EcmaScript spec PDF would be just slightly less of a PITA to try to read if it actually had hyperlinks at least

[18:40:00.0000] <MikeSmith>
"The production FunctionBody : SourceElementsopt … 2.

[18:40:01.0000] <MikeSmith>
If SourceElements is present return the result of evaluating SourceElements"

[18:41:00.0000] <MikeSmith>
so there's no actual grammar for SourceElements?

[18:41:01.0000] <Hixie>
and you thought the HTML5 spec was obtuse :-P

[18:42:00.0000] <Hixie>
SourceElements is further defined

[18:42:01.0000] <Hixie>
page 222

[18:42:02.0000] <Hixie>
just below the definition of FunctionBody

[18:42:03.0000] <Hixie>
and Program

[18:42:04.0000] <MikeSmith>
ok

[18:42:05.0000] <MikeSmith>
/me takes another look

[18:43:00.0000] <Hixie>
it's defined in terms of SourceElement and SourceElement is defined on page 100

[18:43:01.0000] <Hixie>
in terms of FunctionDeclaration

[18:43:02.0000] <MikeSmith>
ah, OK

[18:43:03.0000] <MikeSmith>
I see now

[18:43:04.0000] <Hixie>
that's on page 97

[18:43:05.0000] <Hixie>
etc

[18:43:06.0000] <Hixie>
good luck!!!

[18:43:07.0000] <Hixie>
:-)

[18:44:00.0000] <Hixie>
once you've done this you'll be 90% of the way to a validator for <script type="text/javascript"> and .js files

[18:45:00.0000] <MikeSmith>
yippee

[18:47:00.0000] <MikeSmith>
we could reach 100% on validating event-handler attribute values if that constraint weren't stated in the spec :)

[18:47:01.0000] <MikeSmith>
I think you snuck that one in somehow

[18:47:02.0000] <MikeSmith>
while everybody was sleeping

[18:47:03.0000] <MikeSmith>
or while I was at least

[18:52:00.0000] <Hixie>
isn't it in HTML4 too?

[18:53:00.0000] <Hixie>
i mean i'm sure HTML4 doesn't state it quite so explicitly, but surely an HTML4 document isn't fully conforming if it has an event handler attribute whose value isn't valid in the relevant scripting language

[18:55:00.0000] <MikeSmith>
yeah, I suppose

[18:56:00.0000] <MikeSmith>
anyway, for now I've just filed a v.nu bug

[18:57:00.0000] <MikeSmith>
http://bugzilla.validator.nu/show_bug.cgi?id=756

[19:00:00.0000] <MikeSmith>
I guess we ultimately should have some means for checking CSS in text content and attributes as well

[19:00:01.0000] <MikeSmith>
which could be done through an API to a CSS checker

[19:02:00.0000] <MikeSmith>
but that will require a CSS checker that's up to date with a complete version of the syntax spec for CSS, which in turn will require an editor actively working on such that spec to make it complete

[19:04:00.0000] <Hixie>
man i hate how the i-beam becomes basically invisible in Terminal.app when i have a black background

[19:06:00.0000] <MikeSmith>
yeah

[19:06:01.0000] <MikeSmith>
Hixie: I have the same problem

[19:06:02.0000] <MikeSmith>
I wonder if there is some way to make it fatter or blinkier

[19:06:03.0000] <MikeSmith>
I guess it would have to be system-wide

[19:07:00.0000] <MikeSmith>
but I could live with that at least

[19:08:00.0000] <MikeSmith>
I've even tried doing the option-command-control-8 thing to reverse colors

[19:08:01.0000] <MikeSmith>
but that actually never seems to help much

[19:09:00.0000] <Hixie>
you can make it fatter but then you just have an invisible big i-beam

[19:09:01.0000] <Hixie>
instead of an invisible small i-beam

[19:09:02.0000] <Hixie>
also it pixelates in a very un-apple-like manner

[19:46:00.0000] <eseidel>
bugz :( http://www.w3.org/Bugs/Public/show_bug.cgi?id=10139

[19:50:00.0000] <eseidel>
Hixie: filed the </foriegnObject> bug for you.  http://www.w3.org/Bugs/Public/show_bug.cgi?id=10140, thanks.

[21:04:00.0000] <eseidel>
hsivonen: drop me a line when you're back around, I'd love to chat

[23:06:00.0000] <GPHemsley>
What is the content area of an <iframe> for?

[23:09:00.0000] <MikeSmith>
Closure Compiler seems to have an API that could be used for doing Javascript syntax checking

[23:09:01.0000] <MikeSmith>
http://code.google.com/closure/compiler/docs/api-ref.html

[23:10:00.0000] <MikeSmith>
throw some JS at it along with the output_info=errors param

[23:11:00.0000] <MikeSmith>
Yudai: !

[23:11:01.0000] <MikeSmith>
I got a super-fun va.

[23:11:02.0000] <Yudai>
MikeSmith: what's up?

[23:11:03.0000] <MikeSmith>
I got a super-fun validator.nu enhancement for you to consider

[23:12:00.0000] <MikeSmith>
this is absolutely the funnest and bestest one that has come along in a long time

[23:12:01.0000] <Yudai>
above uri?

[23:12:02.0000] <GPHemsley>
uh oh... the info links on this page are missing their filename (and the resulting ".html" is forbidden): http://dev.w3.org/html5/markup/common-attributes.html

[23:12:03.0000] <MikeSmith>
GPHemsley: work in progress

[23:13:00.0000] <GPHemsley>
oh

[23:13:01.0000] <GPHemsley>
ok

[23:13:02.0000] <MikeSmith>
known issue with the build I use to make that doc

[23:13:03.0000] <MikeSmith>
will get it fixed this week

[23:13:04.0000] <GPHemsley>
what about the iframe question? :)

[23:13:05.0000] <Yudai>
MikeSmith: ah i see, it supports js syntax checking

[23:13:06.0000] <MikeSmith>
Yudai: the spec says this -

[23:14:00.0000] <MikeSmith>
http://dev.w3.org/html5/spec/webappapis.html#event-handler-content-attributes

[23:14:01.0000] <MikeSmith>
Event handler content attributes, when specified, must contain valid JavaScript code matching the FunctionBody production. [ECMA262]

[23:14:02.0000] <MikeSmith>
but we are currently not checking that

[23:14:03.0000] <MikeSmith>
"event handler content attributes" = onclick, etc.

[23:15:00.0000] <MikeSmith>
so we need to check the values of those and make sure they are valid JS

[23:15:01.0000] <Yudai>
yeah

[23:15:02.0000] <MikeSmith>
so, we'd need to add a new datatype to the v.nu HTML5 datatype libary

[23:15:03.0000] <MikeSmith>
*library

[23:15:04.0000] <Yudai>
it's easy way to call an external service to validate

[23:15:05.0000] <MikeSmith>
yeah

[23:16:00.0000] <MikeSmith>
kinda like we are already doing for IRI checking

[23:16:01.0000] <Yudai>
but it also may make some problems

[23:16:02.0000] <MikeSmith>
true

[23:16:03.0000] <MikeSmith>
but easier than trying to write a JS validator from scratch ourselves

[23:16:04.0000] <MikeSmith>
at least for prototyping

[23:16:05.0000] <MikeSmith>
so... We 

[23:16:06.0000] <Yudai>
the IRI checking library is given as a static java library

[23:17:00.0000] <Yudai>
but this is a web service, right?

[23:17:01.0000] <MikeSmith>
yeah, afaict 

[23:17:02.0000] <MikeSmith>
though there may be some way to use it as a normal library as well

[23:17:03.0000] <Yudai>
if we can have its source codes, that's great

[23:17:04.0000] <Yudai>
yeah

[23:18:00.0000] <MikeSmith>
source is here: http://code.google.com/p/closure-compiler/source/browse/#svn/trunk/src/com/google/javascript

[23:18:01.0000] <Yudai>
cool

[23:19:00.0000] <MikeSmith>
I don't know how conformant its JS syntax-checking is

[23:19:01.0000] <MikeSmith>
but it would give us something to test with

[23:19:02.0000] <Yudai>
ah, we might be able to use rhino

[23:19:03.0000] <MikeSmith>
we could us it as a prototype for the event-handler-value-checking feature, at the very least

[23:20:00.0000] <Yudai>
closure-complier seems also using rhino...at first glance

[23:21:00.0000] <MikeSmith>
yeah, saw that. I looked through rhino docs, but could not find any API that rhino exposes for parsing and reporting of syntax errors

[23:21:01.0000] <MikeSmith>
but there may be something in there

[23:21:02.0000] <MikeSmith>
anyway, it's something worth exploring, I guess

[23:21:03.0000] <Yudai>
yeah, i agree

[23:21:04.0000] <MikeSmith>
we can get hsivonen thoughts on it later when he gets on

[23:22:00.0000] <MikeSmith>
Yudai: bug I raised for this is here:

[23:22:01.0000] <MikeSmith>
http://bugzilla.validator.nu/show_bug.cgi?id=756

[23:23:00.0000] <Yudai>
yeah

[23:49:00.0000] <MikeSmith>
Hixie: about http://bugzilla.validator.nu/show_bug.cgi?id=755

[23:49:01.0000] <MikeSmith>
"Validator considers hidden inputs unlabelable"

[23:50:00.0000] <MikeSmith>
I find in http://dev.w3.org/html5/spec/editing.html#the-hidden-attribute the statement, "Elements that are not hidden should not link to or refer to elements that are hidden"

[23:51:00.0000] <MikeSmith>
which is I think the reason why the v.nu code is currently treats a label reference to a hidden input element as a conformance error 

[23:51:01.0000] <Peter`>
Mind that the Chairs still have to make a decision about removing or keeping @hidden

[23:51:02.0000] <Peter`>
issue 95

[23:51:03.0000] <MikeSmith>
yeah

[23:51:04.0000] <MikeSmith>
Hixie: just wondering if that is in fact the intent of that statement in the spec

[00:03:00.0000] <GPHemsley>
How come <iframe> doesn't have @srctype or @type?

[00:12:00.0000] <Slaanesh>
GPHemsley: What benefit would that give? Seems like it would either be redundant or wrong.

[00:13:00.0000] <GPHemsley>
Slaanesh: to determine if a UA can support the iframed file

[00:13:01.0000] <GPHemsley>
I'm writing an e-mail to the list to discuss it

[00:13:02.0000] <GPHemsley>
(FYI)

[00:27:00.0000] <GPHemsley>
e-mail sent: http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2010-July/027113.html

[00:32:00.0000] <GPHemsley>
MikeSmith: What does the "agroupof" class mean?

[00:36:00.0000] <MikeSmith>
GPHemsley: it comes from the RelaxNG schema I use to build the content-model parts of the doc

[00:37:00.0000] <MikeSmith>
it means the enclosed contents are defined as a group in the schema

[00:37:01.0000] <GPHemsley>
does it make any difference to the web author?

[00:38:00.0000] <MikeSmith>
I think it does in some cases

[00:38:01.0000] <MikeSmith>
if the contents are ORed

[00:38:02.0000] <GPHemsley>
oh

[00:38:03.0000] <GPHemsley>
but not ANDed?

[00:40:00.0000] <MikeSmith>
maybe that too

[00:40:01.0000] <MikeSmith>
though there is not really and AND in RelaxNG

[00:40:02.0000] <Hixie>
MikeSmith: not sure what you mean

[00:41:00.0000] <MikeSmith>
Hixie: er, I realize I just confused the hidden attribute with input/@type=hidden

[00:41:01.0000] <Hixie>
ah ok

[00:42:00.0000] <MikeSmith>
Hixie: v.nu code currently doesn't try input/@type=hidden as labelable

[00:42:01.0000] <Hixie>
makes sense

[00:42:02.0000] <MikeSmith>
OK

[00:42:03.0000] <Hixie>
what with <input type=hidden> being hidden and all

[00:42:04.0000] <MikeSmith>
heh

[00:42:05.0000] <MikeSmith>
yeah

[00:42:06.0000] <Hixie>
not sure it's supported by the spec yet

[00:42:07.0000] <MikeSmith>
right

[00:42:08.0000] <Hixie>
but if it's not that's a spec bug imho

[00:43:00.0000] <MikeSmith>
OK

[00:43:01.0000] <MikeSmith>
I'll either raise it myself or ask the v.nu bug commenter to

[00:43:02.0000] <Hixie>
thanks

[00:48:00.0000] <Hixie>
i'd like to lodge a formal whine about the fact that the vertical text stuff in css isn't based on logical directions

[00:48:01.0000] <Hixie>
having to rewrite every algorithm for vertical text even though there's no difference except height becomes width, top becomes left, etc, is annoying.

[00:49:00.0000] <annevk>
there are proposals for introducing new properties for that

[00:49:01.0000] <annevk>
not sure if that was logical-height or something else...

[00:49:02.0000] <Hixie>
it's not the properties i mean, it's the actual model

[00:49:03.0000] <annevk>
but then vertical text is going nowhere fast and I'm not really complaining as it is darn complicated

[00:50:00.0000] <Hixie>
yeah teh lack of vertical text in css3 is the reason <canvas> doesn't have vertical text drawing methods

[00:50:01.0000] <Hixie>
it's all in the html spec, but commented out

[00:51:00.0000] <annevk>
ja

[00:51:01.0000] <annevk>
the most convincing vertical text example so far has been Japanese books for me

[00:52:00.0000] <annevk>
but layout engines for those do not have to be as complex as interactive layout engines for the Web yet we are probably going there anyway

[00:55:00.0000] <MikeSmith>
annevk: I think the market is going there without you

[00:55:01.0000] <MikeSmith>
or rather, going there whether we like it not

[00:56:00.0000] <MikeSmith>
e.g., iPad as book reader

[00:56:01.0000] <MikeSmith>
and I am sure there are going to be a lot of other such coming out

[00:57:00.0000] <MikeSmith>
that is, PCs that double as book readers

[00:57:01.0000] <annevk>
I said we are probably going there :)

[00:57:02.0000] <MikeSmith>
oh

[00:57:03.0000] <MikeSmith>
ah

[00:58:00.0000] <MikeSmith>
sorry...

[00:58:01.0000] <annevk>
no worries

[00:58:02.0000] <annevk>
but unless we are extremely careful performance, stability, etc. will all be impacted

[00:59:00.0000] <MikeSmith>
yeah, would seem so

[00:59:01.0000] <Peter`>
Quick question: someone posted a page here a few days ago (from Philip?) with lots of research-pages of popular websites, like how many used certain elements, css properties, validated, etcetera. Would anyone have that link for me?

[01:02:00.0000] <MikeSmith>
Peter-: you don't mean http://code.google.com/webstats/ ?

[01:03:00.0000] <Peter`>
No, it was a plain directory index, nothing fancy

[01:03:01.0000] <MikeSmith>
maybe Philip` own results from his dmoz data crunching

[01:05:00.0000] <Peter`>
http://philip.html5.org/data/ that one

[01:05:01.0000] <MikeSmith>
http://canvex.lazyilluminati.com/survey/2007-07-17/analyse.cgi/index

[01:05:02.0000] <MikeSmith>
ah

[01:07:00.0000] <annevk>
Peter`, so when is the proprietary pseudo-class and -element table coming out? ;)

[01:07:01.0000] <Peter`>
I doesn't have what I'm searching for though, so I'll rephrase my question: would you know of any research to the usage of css properties, specifically vendor-prefixes ones?

[01:08:00.0000] <Peter`>
annevk: and attributes! I found these too, lol

[01:08:01.0000] <Peter`>
annevk: hopefully later on this week, I got some lists, but I'd to group them together more clearly and create some test pages (and wait until all the retweets/stuff slows down a bit)

[01:11:00.0000] <annevk>
Peter`, http://devfiles.myopera.com/articles/599/cssproplist-url.htm

[01:11:01.0000] <annevk>
Peter`, via http://dev.opera.com/articles/view/mama-css-syntax/

[01:11:02.0000] <annevk>
it seems Word is dominating the score

[01:12:00.0000] <Peter`>
Oh perfect, thank you!

[01:19:00.0000] <annevk>
Hixie, how does the media element's rendering area interact with user agent supplied controls?

[01:19:01.0000] <annevk>
Hixie, they should probably not overlap the captions

[01:20:00.0000] <Hixie>
they're transient anyway

[01:23:00.0000] <Peter`>
annevk: the css property list, is that public and do you know when it got published (December 2008?)?

[01:23:01.0000] <annevk>
how is it not public?

[01:24:00.0000] <Peter`>
not public as in "rather don't share"

[01:24:01.0000] <Peter`>
wouldn't know why, but just checking, I got that request more often

[01:26:00.0000] <annevk>
if I did not want to share it I would not have posted it to a public channel :)

[01:26:01.0000] <annevk>
it's also linked from that article

[01:27:00.0000] <Peter`>
ah, I see

[01:35:00.0000] <jgraham>
eseidel: The bugs 9580-9582 should cover your issue

[01:35:01.0000] <eseidel>
jgraham: I don't see how

[01:36:00.0000] <eseidel>
jgraham: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10140

[01:36:01.0000] <eseidel>
jgraham: which is that a dupe of?

[01:37:00.0000] <annevk>
eseidel, there's http://wiki.whatwg.org/wiki/ParserIssues

[01:37:01.0000] <jgraham>
eseidel: I'm not sure, but those bugs encompass the only changes that html5lib has made to the spec

[01:37:02.0000] <jgraham>
in this area

[01:37:03.0000] <annevk>
eseidel, afaik that's all there's to know about issues with the HTML parser

[01:37:04.0000] <eseidel>
annevk: I'm using http://tinyurl.com/2c6p8uf

[01:37:05.0000] <jgraham>
And afaik we get out of foreignContent

[01:38:00.0000] <jgraham>
s/foreignContent/the secondary insertion mode/

[01:38:01.0000] <eseidel>
jgraham: I believe you. :)  I just need someone to explain to me how :)  since I'm clearly not finding it in the spec

[01:39:00.0000] <jgraham>
eseidel: Without looking at the spec, I think what happens is that you typically process the token after the </svg> in foreign content mode and it gets processes as if in the secondary insertion mode and then you switch out of the secondary insertion mode

[01:40:00.0000] <annevk>
eseidel, kk

[01:40:01.0000] <jgraham>
Although that doesn't quite look like the problem you are having

[01:40:02.0000] <jgraham>
So... I'll check in a bit when I am not at home

[01:41:00.0000] <eseidel>
jgraham: k

[02:09:00.0000] <Hixie>
ok i've now done all of the websrt rendering stuff except the ::cue pseudo

[02:12:00.0000] <annevk>
pseudo should not be too hard?

[02:12:01.0000] <Hixie>
should be pretty easy

[02:14:00.0000] <Hixie>
oh and after that i'll comment out all the vertical text stuff

[02:16:00.0000] <Hixie>
ok bed time

[02:16:01.0000] <Hixie>
nn

[02:48:00.0000] <kennyluck>
Wow, MikeSmith, what makes you write the "Linked-Data Semantics" part? ->  http://dev.w3.org/html5/markup/a.html#a-linked-data 

[03:00:00.0000] <MikeSmith>
kennyluck: because I think its useful to point out that there are native elements in HTML that already have characteristics that make them particularly useful for expressing the kinds semantic associations that the "semantic web" is supposed to be all about, as far as I understand it

[03:01:00.0000] <MikeSmith>
and I think the semweb community does way to much hair-splitting about terms, when nobody else outside of the community cares about the fine points

[03:02:00.0000] <kennyluck>
Sure.

[03:02:01.0000] <MikeSmith>
I think you guys should be socializing the term "linked data" as much as you possibly can

[03:02:02.0000] <kennyluck>
But what I can tell, is that Linked Data is just about linking.

[03:03:00.0000] <kennyluck>
The principles that you should put links in your document, ideally linking to other domains.

[03:03:01.0000] <kennyluck>
This concept is a bit separated from machine-readible data/metadata, I think.

[03:03:02.0000] <MikeSmith>
the term "linked data" should be about whatever helps to get it the most attention, whatever helps to get the most awareness-raising done

[03:03:03.0000] <kennyluck>
Linked Data is actually a term targeting the Semantic Web community.

[03:04:00.0000] <kennyluck>
Those close their data and don't link to other datasets.

[03:04:01.0000] <kennyluck>
This is the historical origin of the term Linked Data, I believe.

[03:04:02.0000] <kennyluck>
But of course we can mix it with the "machine-readible" concept.

[03:04:03.0000] <MikeSmith>
I don't get the impression that most Web developers are terrifically fond of the term "semantic web" .. at least they are not fond of the connotations it has taken on

[03:05:00.0000] <MikeSmith>
kennyluck: yeah, agreed that the "machine-readible" characteristic is of course a key

[03:06:00.0000] <MikeSmith>
but it does not make for a particularly good section title in this particular context

[03:06:01.0000] <workmad3>
ah, semantic web

[03:06:02.0000] <kennyluck>
I am not sure. We never use the word "Linked Data Semantics", though.

[03:07:00.0000] <MikeSmith>
kennyluck: the entire Web is arguably just "linked data"

[03:07:01.0000] <workmad3>
indeed

[03:07:02.0000] <MikeSmith>
and even normal Web pages are obviously "machine readable"

[03:07:03.0000] <workmad3>
just not very machine friendly and missing a lot of meaning

[03:07:04.0000] <kennyluck>
It is, by the definition.

[03:07:05.0000] <workmad3>
(at least not machine-readable meaning)

[03:07:06.0000] <MikeSmith>
true

[03:08:00.0000] <MikeSmith>
so it gets back to "meaning" being key

[03:08:01.0000] <kennyluck>
/me is reading http://net.tutsplus.com/tutorials/html-css-techniques/html5-microdata-welcome-to-the-machine/?utm_source=feedburner&utm_medium=feed&utm_campaign=Feed%3A+nettuts+%28NETTUTS%29

[03:08:02.0000] <workmad3>
which obviously boils down to semantics :)

[03:08:03.0000] <MikeSmith>
bingo

[03:08:04.0000] <kennyluck>
In my mind, "machine-readibilty" is how much the underlining database is recoverable.

[03:09:00.0000] <MikeSmith>
hence, my section title, "Linked data semantics"

[03:09:01.0000] <workmad3>
kennyluck: something can be 'machine readable' without it being (for want of a better term) 'machine understandable'

[03:09:02.0000] <kennyluck>
Is there any good read from the Microdata community that explains "machine-readiblity" well?

[03:10:00.0000] <workmad3>
databases are a good example of this... you can store data in a database in whatever form you want

[03:10:01.0000] <workmad3>
machine can read it and spit it out at users... but if it had some knowledge of the meaning, it could start to do more interesting things

[03:10:02.0000] <workmad3>
which is pretty much the entire case for semantic web and linked data 

[03:11:00.0000] <kennyluck>
Hmm..

[03:11:01.0000] <workmad3>
the technical details for the popular technologies (rdf and triplestore) seem to have focussed on graphs though... just like so many other CS problems :)

[03:12:00.0000] <kennyluck>
I think what RDFa/Microdata tries to do is to expose the database with good control.

[03:13:00.0000] <kennyluck>
Not sure about the "if it had some knowledge of the meaning," argument.

[03:13:01.0000] <workmad3>
it tries to expose the data with extra data about the semantics

[03:13:02.0000] <MikeSmith>
workmad3: this is why I want to point out in this document that particular HTML elements have characteristics that naturally lend them to be useful for adding some knowledge of meaning

[03:13:03.0000] <kennyluck>
Not certainly.

[03:13:04.0000] <workmad3>
kennyluck: knowledge is a tricky one, admittedly

[03:13:05.0000] <kennyluck>
MikeSmith, what you are talking about sounds like "Metadata".

[03:14:00.0000] <workmad3>
kennyluck: bingo (or at least my understanding)

[03:14:01.0000] <kennyluck>
I feel like I like the "database recoverable" part of Linked Data/Semantic Web

[03:15:00.0000] <kennyluck>
Sometimes we just want Google to get the whole database so that it can do good data integration.

[03:15:01.0000] <workmad3>
and so they can sell it for advertising revenue...

[03:15:02.0000] <workmad3>
oh wait, that's what *google* wants

[03:15:03.0000] <MikeSmith>
kennyluck: it sounds to me like "linked data" in the non-pinhead/hair-splitting sense of the word

[03:16:00.0000] <workmad3>
semweb and linked data is built on splitting hairs in my (limited) experience

[03:16:01.0000] <kennyluck>
workmad3, We want good data integration. Good's revenue is of little interest to me.

[03:16:02.0000] <kennyluck>
s/Good/Google/

[03:16:03.0000] <workmad3>
kennyluck: :)

[03:17:00.0000] <MikeSmith>
workmad3: that's the problem.. dudes have become like Pharisees having their own internal esoteric disputes about every little thing

[03:18:00.0000] <workmad3>
sounds about right

[03:19:00.0000] <workmad3>
and I'd better get back to working on this linked data project I've been moved onto :)

[03:27:00.0000] <kennyluck>
MikeSmith, if I were you I would write something like this. Section Title: Linked Data. Content: The use of <a> satisfies all the principles of Linked Data and utilizes the full power of Web. To make these links more machine-readable, you can use Microdata itemprop/RDFa rel, etc.

[03:28:00.0000] <kennyluck>
In the Semantic Web community we have this saying..."It's not Semantic what's new, it's the Web what's new".

[03:29:00.0000] <kennyluck>
And Linked Data is, as I said, a phrase to remind those RDF academic people being aware of the Web (putting RDF data on Web instead of local machine, make cross-domain links, etc.)

[03:29:01.0000] <MikeSmith>
kennyluck: this doc is not for the RDF academic people 

[03:30:00.0000] <MikeSmith>
it's just a reference to try to give some details about particular characteristics of individual HTML elements

[03:31:00.0000] <MikeSmith>
I don't think there should necessarily be any defined set of "principles for Linked Data"

[03:31:01.0000] <kennyluck>
Yes, I know. I am just giving you the context on how the term(Linked Data) is born. It's not really for Web developers, I think. Web Developers know these principles well (put things on the Web, etc.) but the academics don't.

[03:31:02.0000] <MikeSmith>
it's like the term "HTML5"

[03:32:00.0000] <MikeSmith>
some people get upset about it being used to refer to CSS and SVG and other things that are not technically part of HTML5 at all

[03:32:01.0000] <kennyluck>
Ah, right.

[03:33:00.0000] <kennyluck>
Yeah, maybe Linked Data = things on the Web + machine-readibilty + etc. etc. would be also nice.

[03:33:01.0000] <MikeSmith>
there are really great sites like html5rocks.com and html5readiness.com that actually provide a lot of detail about CSS and other stuff in addition to HTML5 and APIs

[03:35:00.0000] <kennyluck>
I see. I am not that against your idea. I just wonder whether people in this channel like the idea of Microdata being associated with Linked-Data.

[03:36:00.0000] <Workshiva>
I don't think the people in this channel care so much about names

[03:36:01.0000] <MikeSmith>
linkeddatarocks.com

[03:37:00.0000] <MikeSmith>
linkedatareadiness.com

[03:37:01.0000] <kennyluck>
Sure, great, then.

[03:37:02.0000] <kennyluck>
:)

[03:37:03.0000] <Workshiva>
Does it work? Does it do something useful? Great

[03:38:00.0000] <kennyluck>
Yeah, agreed. Alright. You just tell me I should go back to work, Workshiva. :)

[03:40:00.0000] <Workshiva>
I seem to recall reading a blog where some linked data person wanted to disassociate linked data from rdf

[03:41:00.0000] <MikeSmith>
that would seem like a positive step

[03:43:00.0000] <kennyluck>
Probably.

[03:45:00.0000] <MikeSmith>
I think the community could really use some primer-level/core-concepts documents that don't explain everything strictly in terms of RDF

[03:46:00.0000] <MikeSmith>
I think stuff like http://www.w3.org/TR/rdf-primer/ and http://www.w3.org/TR/rdf-concepts/ are not useful to normal Web developers

[03:47:00.0000] <kennyluck>
The Microdata/Microformat/RDF community should collaboratively write a document explaining about machine-readibility using non-RDF terms, I think.

[03:47:01.0000] <MikeSmith>
kennyluck: yeah

[03:47:02.0000] <MikeSmith>
that would be a good thing

[03:47:03.0000] <MikeSmith>
get everybody remembering what the original problem was they they set out to solve to begin with

[03:48:00.0000] <kennyluck>
I like terms such as "database recoverabity" or maybe "lossless HTML output"

[03:48:01.0000] <boblet>
anything to explain this stuff in terms that don’t make my eyes glaze over in 5 seconds would be welcome

[03:49:00.0000] <phrearch>
hey

[03:49:01.0000] <phrearch>
how does cookie authentication work with websockets?

[03:50:00.0000] <boblet>
way too much energy goes to infighting — could be used so much more productively for education and compare/contrast

[03:50:01.0000] <boblet>
hey phrearch 

[03:50:02.0000] <phrearch>
hi boblet

[03:51:00.0000] <phrearch>
from what i understand of the .76 specs, the cookie is set during handshake?

[03:51:01.0000] <boblet>
punt — MikeSmith?

[03:53:00.0000] <MikeSmith>
no idea

[03:53:01.0000] <MikeSmith>
phrearch: what part of the spec is not clear?

[03:54:00.0000] <phrearch>
MikeSmith: im not sure how the cookie is set

[03:55:00.0000] <phrearch>
i have an implementation of websockets in twisted like http://paste.pocoo.org/show/236897/

[03:55:01.0000] <phrearch>
i dont think that one has cookie support yet

[03:56:00.0000] <phrearch>
and cant it use sessions instead?

[03:57:00.0000] <MikeSmith>
phrearch: I don't know

[03:57:01.0000] <MikeSmith>
but I suspect it's quite clear if you read the spec

[03:58:00.0000] <phrearch>
yea :)

[03:58:01.0000] <MikeSmith>
especially if you read it at http://www.whatwg.org/specs/web-apps/current-work/complete/network.html

[03:58:02.0000] <MikeSmith>
where it's in a more readable format

[04:01:00.0000] <phrearch>
aha cool

[04:02:00.0000] <MikeSmith>
phrearch: but you not supposed to know about that version of the spec

[04:02:01.0000] <MikeSmith>
so keep it a secret

[04:04:00.0000] <phrearch>
sure

[04:12:00.0000] <Matjas>
←♥♡♥♡♥♡♥→

[04:12:01.0000] <Matjas>
or, you know, →♥♡♥♡♥♡♥→

[05:32:00.0000] <MikeSmith>
chrome team already implementing DeviceOrientation?

[05:32:01.0000] <MikeSmith>
https://bugs.webkit.org/show_bug.cgi?id=39588

[05:32:02.0000] <MikeSmith>
annevk: ↑

[05:34:00.0000] <MikeSmith>
http://dev.w3.org/geo/api/spec-source-orientation.html

[05:35:00.0000] <annevk>
terminology of that draft is somewhat wrong

[05:35:01.0000] <MikeSmith>
Euler angles

[05:36:00.0000] <annevk>
well, I guess it works in a way

[05:36:01.0000] <MikeSmith>
the illustrations are helpful

[05:36:02.0000] <annevk>
I meant the event dispatching text

[05:36:03.0000] <annevk>
though that needs updating regardless to say something about .bubbles and .cancelable and all

[06:05:00.0000] <annevk>
MikeSmith, http://www.youtube.com/watch?v=kdFui74_jvY

[08:09:00.0000] <zcorpan_>
http://forums.whatwg.org/viewtopic.php?t=4357 - any application cache guys around?

[08:10:00.0000] <zcorpan_>
http://forums.whatwg.org/viewtopic.php?t=4358 microdata question

[10:08:00.0000] <boblet>
I’d like to check the commit logs of the WHATWG spec — http://html5.org/tools/web-apps-tracker making diffs seems overkill, is there anything like http://dev.w3.org/cvsweb/html5/ ?

[10:13:00.0000] <Workshiva>
boblet: The commit-watchers archives, maybe?

[10:14:00.0000] <boblet>
Workshiva: heh — that’s what I found actually. not the best, but oh well

[10:20:00.0000] <annevk>
boblet, you can give the home page of tracker a limit argument

[10:21:00.0000] <annevk>
boblet, if you set it to -1 you get everything ever recorded

[10:21:01.0000] <annevk>
boblet, running svn log http://svn.whatwg.org/webapps/source also works of course

[10:21:02.0000] <boblet>
annevk: woah. sounds like that’ll make the server elves work hard

[10:21:03.0000] <boblet>
annevk: oh you can remotely svn log on a repo you don’t have? nice

[10:22:00.0000] <boblet>
I’ll do that

[10:22:01.0000] <annevk>
(it takes a while for tracker, but it's not too bad)

[10:22:02.0000] <boblet>
annevk: I wouldn’t mind if it was just the logs, but the diff seems like it must be brutal :)

[10:23:00.0000] <annevk>
it's not computing diffs to show the homepage

[10:23:01.0000] <annevk>
it runs svn log for that

[10:24:00.0000] <boblet>
but think of the elves!

[11:03:00.0000] <boblet>
I just love forum software that emails you your password in the account created email, whereby love I mean hate

[11:03:01.0000] <boblet>
phpBB you suck

[11:03:02.0000] <annevk>
it's rather convenient I think

[11:04:00.0000] <annevk>
I always forget those passwords

[11:42:00.0000] <TabAtkins>
I just use a single password for all those unimportant things.  Don't have to remember them specially then.

[11:52:00.0000] <annevk>
then i'd have to change them all if one gets compromised somehow

[11:54:00.0000] <jgraham>
Given they are being sent in plain text in email, they are all compromised (or at least might be)

[11:54:01.0000] <jgraham>
Also: http://blog.arcanedomain.com/2010/07/worldwide-celebration-of-dan-connollys-contributions-to-the-web/

[12:01:00.0000] <TabAtkins>
annevk: I haven't had a password compromised in 10 years, as far as I know, so apparently I'm fine.

[12:14:00.0000] <oal>
How can I find the position of the caret inside of a contenteditable div?

[12:40:00.0000] <Hixie>
so what do i have to say to define a pseudo-element?

[12:41:00.0000] <Hixie>
is there a grammar or something I have to specify?

[12:42:00.0000] <Hixie>
/me looks at the selectors spec

[12:42:01.0000] <boblet>
annevk: that’s fine if you forgot and are requesting, but it’s just wrong to send a password unasked

[12:43:00.0000] <boblet>
although I use a tool to make individual passwords per domain so only my whatwg.org accounts could be compromised :) oh noes!

[12:44:00.0000] <boblet>
hey Hixie, can you give me more details about the microdata vcard vocab being based on vcard not “an out-of-date fork of hcard”?

[12:44:01.0000] <boblet>
or did I misunderstand?

[12:46:00.0000] <Hixie>
i just went down the vcard spec and mapped it directly to microdata

[12:46:01.0000] <Hixie>
i had originally made some minor changes to match hcard in places, but i've since removed those

[12:48:00.0000] <boblet>
Tantek’s take: “Avoid the "microdata vCard vocabulary" as in many ways it is an out-of-date fork/snapshot of hCard, even though portions of it appear to based directly on the vCard RFC. as well”

[12:48:01.0000] <boblet>
http://microformats.org/wiki/microdata#microdata_vCard_vocabulary

[12:48:02.0000] <Hixie>
tantek is welcome to his opinion :-)

[12:48:03.0000] <boblet>
Hixie: was that the fn magic? any other hcard -> vcard reversions?

[12:48:04.0000] <Hixie>
i think the only bit was the stuff with FN, yeah

[12:49:00.0000] <Hixie>
everything else is just a straight mapping of the vcard spec

[12:49:01.0000] <Hixie>
i did use the hcard names for the bits of vcard that needed splitting into multiple fields, but just to make sure the terminology was consistent, it's not "forked from hcard" or anything

[12:49:02.0000] <boblet>
yeah I’m kind of finding it strange that the whole thing about hcard is that it’s vcard, but this vocab is based on vcard so it’s completely different

[12:49:03.0000] <Hixie>
*shrug*

[12:50:00.0000] <boblet>
indeed

[12:50:01.0000] <boblet>
thanks for the info, will ping the µF list with it

[12:50:02.0000] <Hixie>
the whole point of microdata is that people can use whatever vocabularies they like; the vcard one is basically a proof of concept to show that it is possible to design a vocabulary in very little time and to show how to write a spec for one

[12:51:00.0000] <Hixie>
whether people use it or not is really up to them, i don't care so much

[12:51:01.0000] <boblet>
cool

[12:54:00.0000] <boblet>
it’s definitely a nice spec — I find the microformats specs to be a little hard to refer to. i normally use the pdf cheatsheet

[12:54:01.0000] <Hixie>
it's definitely a more precise spec

[12:54:02.0000] <Hixie>
the microformat specs always seem extremely vague to me

[12:54:03.0000] <Hixie>
not at all spec-like

[12:54:04.0000] <boblet>
well, maybe hcard 1.0.1 will clean things up :|

[12:55:00.0000] <boblet>
anyhow, thanks for your time

[12:55:01.0000] <annevk>
TabAtkins, yeah, me neither; not really an interesting target I suppose

[12:55:02.0000] <boblet>
nn all

[12:57:00.0000] <annevk>
Hixie, yeah, the grammar for the argument needs to be defined

[12:57:01.0000] <Hixie>
is there an example of this being done anywhere?

[12:57:02.0000] <annevk>
only poorly

[12:57:03.0000] <annevk>
for nth-child

[12:58:00.0000] <annevk>
but I think in your case it is easier since they can just be IDENT, no?

[12:58:01.0000] <Hixie>
probably

[12:59:00.0000] <annevk>
so you can do it in terms of the Selectors grammar and see who is annoyed

[13:00:00.0000] <annevk>
cue_argument : S* IDENT S* [ COMMA S* IDENT S* ]

[13:00:01.0000] <annevk>
;

[13:00:02.0000] <annevk>
something like that

[13:00:03.0000] <Hixie>
k

[13:00:04.0000] <Hixie>
thanks

[13:01:00.0000] <AryehGregor>
oal, try looking at this.  http://www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#documentSelection  (only partly implemented in any browser, so might not do what you want in practice)

[13:01:01.0000] <annevk>
Hixie, oh, you also have to say that COMMA is added to the expression production

[13:01:02.0000] <oal>
I'll try, AryehGregor. Thanks

[13:02:00.0000] <Hixie>
annevk: noted

[13:02:01.0000] <annevk>
Hixie, or maybe you should make it space-separated

[13:02:02.0000] <Hixie>
21:06 <        annevk> Hixie, oh, you also have to say that COMMA is added to the expression production

[13:02:03.0000] <Hixie>
er

[13:02:04.0000] <Hixie>
/me pasted into the wrong window!

[13:02:05.0000] <AryehGregor>
In theory, document.getSelection().anchorNode.anchorOffset might hypothetically do what you want, if it works.

[13:02:06.0000] <Hixie>
annevk: yeah that might be best

[13:03:00.0000] <Hixie>
annevk: or something like that

[13:10:00.0000] <TabAtkins>
Hixie: You don't have to do anything special to define a pseudoelement.  Just define precisely where the element is created and under what conditions.

[13:10:01.0000] <TabAtkins>
Though, since the internal nodes correspond to real (unnamed) elements to CSS, I think a pseudoclass is the correct thing to use.

[13:12:00.0000] <Workshiva>
/me pokes TabAtkins some more

[13:12:01.0000] <Hixie>
wait, what? that makes no sense

[13:12:02.0000] <TabAtkins>
Workshiva: What?

[13:12:03.0000] <annevk>
Hixie, yeah, don't listen to TabAtkins

[13:13:00.0000] <TabAtkins>
Hixie: Pseudoelems create new elements in the element tree.  Pseudoclasses select existing elements in the element tree, based on information that isn't available straight from the normal cascade.

[13:13:01.0000] <annevk>
TabAtkins, pseudo-elements don't create new elements

[13:13:02.0000] <TabAtkins>
annevk: Yes they do?

[13:13:03.0000] <annevk>
TabAtkins, they either create new boxes or refer to existing ones

[13:13:04.0000] <Workshiva>
TabAtkins: You're away on talk :)

[13:13:05.0000] <annevk>
to allow you to style them

[13:14:00.0000] <annevk>
which is exactly what is happening here

[13:14:01.0000] <TabAtkins>
No, pseudoelem creation happens at the element-tree level, not the box-tree level.

[13:14:02.0000] <TabAtkins>
That way, frex, anonymous table box creation happens appropriately when ::before is used, etc.

[13:15:00.0000] <annevk>
e.g. consider ::value

[13:16:00.0000] <annevk>
there's a box there regardless of whether you use the pseudo-element there or not

[13:16:01.0000] <annevk>
but the pseudo-element provides a way to style it

[13:16:02.0000] <annevk>
same thing with video::cue

[13:16:03.0000] <TabAtkins>
True, in that case.  Pseudoelems can also act as aliases to otherwise-hidden boxes, sure.

[13:16:04.0000] <TabAtkins>
So, sure, video::cue is fine I guess.

[13:16:05.0000] <annevk>
I'm not really sure how else you would do it...

[13:17:00.0000] <annevk>
pseudo-class doesn't make sense

[13:17:01.0000] <zcorpan_>
video:cue would style the video element

[13:17:02.0000] <TabAtkins>
Right, you wouldnt' do video:cue.  

[13:17:03.0000] <TabAtkins>
Assuming a selector that's already rooted in the embedded document, though, :cue() would then select any cue elements.

[13:18:00.0000] <annevk>
but there's no DOM

[13:18:01.0000] <TabAtkins>
Hixie's defined how the cue objects are translated into CSS-understandable terms, so you get something functionally equivalent to the DOM for CSS's purposes.

[13:19:00.0000] <annevk>
no, you get CSS boxes

[13:19:01.0000] <TabAtkins>
At least, you have a tree structure of elements.

[13:19:02.0000] <annevk>
of boxes :)

[13:22:00.0000] <Hixie>
you do technically have a DOM-like structure as well as boxes

[13:22:01.0000] <Hixie>
tab is right about that

[13:22:02.0000] <Hixie>
but i don't think it means it makes sense to have pseudo-classes

[13:22:03.0000] <Hixie>
just like we don't have pseudo-classes with XBL

[13:22:04.0000] <Hixie>
and those really are DOM elements

[13:23:00.0000] <Hixie>
to use psuedo-classes we'd have to apply the stylesheet to two documents -- the HTML one, and the WebSRT one

[13:23:01.0000] <Hixie>
and that would mean you couldn't style each <video> separately

[13:23:02.0000] <Hixie>
it would be very weird

[13:23:03.0000] <TabAtkins>
annevk: Section 12.3.2.1, subsection 8.11

[13:23:04.0000] <annevk>
hmm, WebSRT as XBL binding?

[13:23:05.0000] <Hixie>
no no don't mix them! :-P

[13:24:00.0000] <Hixie>
don't cross the streams!

[13:24:01.0000] <TabAtkins>
Hixie: Yeah, I see that.  And using pseudoelems as aliases into an opaque structure is already an established idiom, so that's fine.

[13:24:02.0000] <annevk>
XBL has ways to define pseudo-element matching

[13:25:00.0000] <jgraham>
If you define the whole thing in terms of XBL, we can pretend that you have to implement XBL to have captions

[13:26:00.0000] <jgraham>
So get XBL work way up priority lists

[13:26:01.0000] <jgraham>
</evilPlan>

[13:26:02.0000] <annevk>
great plan, I say

[13:26:03.0000] <jgraham>
I was thinking more <evilPlan class="stupid doomed">

[13:28:00.0000] <annevk>
would allow for implementing this feature prolly almost entirely in terms of other features

[13:28:01.0000] <annevk>
not sure if that performs well or anything

[13:29:00.0000] <TabAtkins>
/me sighs, and notes once again that he really needs to hunker down and define the CSS element-tree and box-tree so we can actually do extensions sanely.

[13:31:00.0000] <jgraham>
/me often gets the no-doubt-selection-biased impression that TabAtkins has volunteered to do almost all the heavy lifting in CSS

[13:31:01.0000] <TabAtkins>
Man, no one else is doing it.

[13:31:02.0000] <Hixie>
i know the feeling

[13:31:03.0000] <TabAtkins>
As soon as I get this testing thing off my back, it's hardcore CSS all the way.

[13:31:04.0000] <jgraham>
I was hoping that it was just that other CSS people didn't hang out here

[13:32:00.0000] <Workshiva>
This is wack

[13:32:01.0000] <Hixie>
/me tries to work out how to phrase the prose that says that ::cue only matches cues for the media element on which the ::cue was specified

[13:32:02.0000] <TabAtkins>
To be fair, fantasai also does a lot of heavy lifting, just in the upper areas rather than the undercarriage.

[13:32:03.0000] <Workshiva>
In some situations, Chrome instantly loads a script from document.write before even finishing the current script block

[13:33:00.0000] <Workshiva>
I'm not very versed in the workings of document.write, does anyone know if this is remotely legal?

[13:34:00.0000] <jgraham>
Hixie: BTW do you happen to have seen http://my.opera.com/hallvors/blog/2010/07/13/ebay-versus-security-policy-consistency ? I need to dig into HTML5 and work out what is "supposed" to happen here but maybe you already know...

[13:37:00.0000] <Hixie>
looks like chrome and firefox are right

[13:37:01.0000] <Hixie>
but i'd have to see the exact code to be sure

[13:37:02.0000] <Hixie>
the html spec just enforces the security policy at very specific points -- e.g. when accessing the members of Window or Document

[13:38:00.0000] <jgraham>
Yeah

[13:38:01.0000] <Hixie>
so if you already have an Element, you don't have a problem

[13:38:02.0000] <jgraham>
(there is a testcase on the page if you care to look)

[13:39:00.0000] <Hixie>
yeah, opera is wrong here

[13:39:01.0000] <Hixie>
per html spec anyway

[13:40:00.0000] <Hixie>
also can i just say

[13:40:01.0000] <Hixie>
woohoo!

[13:40:02.0000] <Hixie>
the html spec is compatible with the web in this extremely obscure edge case!

[13:40:03.0000] <jgraham>
OK, I will report back and see if we are happy to change or if we want to duke it out with the others

[13:41:00.0000] <Hixie>
good luck trying to convince people to break ebay

[13:41:01.0000] <Hixie>
also it's not clear that there's any improved security to doing it opera's way here

[13:41:02.0000] <jgraham>
Well we would need to get the OTW people on ebay first

[13:41:03.0000] <jgraham>
Obviously

[13:42:00.0000] <jgraham>
But I am happy for us to change if there is no security risk

[13:42:01.0000] <jgraham>
I just need to convince the people who actually make the changes

[13:42:02.0000] <Hixie>
:-)

[13:42:03.0000] <jgraham>
s/changes/decisions/

[13:42:04.0000] <Hixie>
those really should be the same people

[13:43:00.0000] <zcorpan_>
Hixie: why?

[13:44:00.0000] <Hixie>
because otherwise you end up with the people making the decisions not being the people with the intimate knowledge to make the decisions

[13:44:01.0000] <zcorpan_>
Hixie: the person with the best knowledge might be QA

[13:44:02.0000] <jgraham>
Hixie: That doesn't seem to be the way it works in general though (although in this specific case, in the specific case of Opera, it probably would be)

[13:45:00.0000] <Hixie>
zcorpan_: fair eough

[13:45:01.0000] <Hixie>
enough

[13:48:00.0000] <annevk>
shouldn't ::cue just match all media elements?

[13:49:00.0000] <Hixie>
it should surely not match any media elements

[13:50:00.0000] <annevk>
I mean all cues for all media elements within the document

[13:50:01.0000] <Hixie>
sure

[13:50:02.0000] <Hixie>
as opposed to what?

[13:50:03.0000] <annevk>
maybe I misunderstood when you said "tries to work out how to phrase the prose that says that ::cue only matches cues for the media element on which the ::cue was specified"

[13:52:00.0000] <TabAtkins>
annevk: He means like, if you say #myvideo::cue(), it should only match cues for <video id=myvideo>, not <video id=randomvid> elsewhere on the page.

[13:52:01.0000] <KrocCamen>
*::cue

[13:53:00.0000] <TabAtkins>
That would match the cues from all media elements on the page.

[13:53:01.0000] <Hixie>
annevk: i meant how to say that input::cue shouldn't do anything

[13:53:02.0000] <annevk>
hmm, I guess Selectors doesn't handle that automagically

[13:53:03.0000] <Hixie>
but ::cue should affect media elements, and foo > ::cue should affect children of foo, etc

[13:53:04.0000] <Hixie>
i ended up writing:

[13:53:05.0000] <Hixie>
  <p>Pseudo-elements apply to elements that are matched by

[13:53:06.0000] <Hixie>
  selectors. For the purpose of this section, that element is the

[13:53:07.0000] <Hixie>
  <i>matched element</i>. The '::cue' pseudo-element affects the

[13:53:08.0000] <Hixie>
  styling of parts of <span title="timed track cue">timed track

[13:54:00.0000] <Hixie>
  cues</span> that are being rendered for the <i>matched

[13:54:01.0000] <Hixie>
  element</i>.</p>

[13:55:00.0000] <Hixie>
what properties should i say apply to ::cue?

[13:55:01.0000] <TabAtkins>
Rather, I'd prefer you just say what properties *shouldn't* apply to cue.

[13:55:02.0000] <TabAtkins>
Cues are forced-inline, right?

[13:55:03.0000] <Hixie>
not sure what that means

[13:55:04.0000] <TabAtkins>
A cue element is supposed to be inline always?

[13:56:00.0000] <Hixie>
"cue element"?

[13:56:01.0000] <Hixie>
<ruby> is ruby-base

[13:56:02.0000] <Hixie>
<rt> is ruby-text

[13:56:03.0000] <Hixie>
etc

[13:56:04.0000] <annevk>
'display' should probably not apply

[13:56:05.0000] <TabAtkins>
The nameless element that is generated for cues for the purpose of CSS.

[13:56:06.0000] <TabAtkins>
Yeah, I was trying to build up to saying that display shouldn't apply.

[13:56:07.0000] <Hixie>
there's also a positioned box and an anonymous inline and an anonymous ruby-something-else

[13:56:08.0000] <annevk>
and 'position' and 'float' I guess

[13:56:09.0000] <Hixie>
lots of stuff shouldn't apply

[13:57:00.0000] <Hixie>
margin-left, e.g.

[13:57:01.0000] <annevk>
what's wrong with margin?

[13:57:02.0000] <Hixie>
text-indent

[13:57:03.0000] <KrocCamen>
Would ::cue::outside be cheating? :P

[13:57:04.0000] <Hixie>
all kinds of stuff

[13:57:05.0000] <TabAtkins>
What's wrong with text-indent?

[13:57:06.0000] <Hixie>
text-indent inherits so it would screw everything up if you used it higher up the hierarchy, to start with

[13:57:07.0000] <TabAtkins>
KrocCamen: I suspect that should count as "not defined".  Also illegal right now.

[13:58:00.0000] <Hixie>
(second text-indent doesn't apply to inlines, of which most of these boxes are)

[13:58:01.0000] <TabAtkins>
Then why worry about disallowing it?

[13:58:02.0000] <Hixie>
because the root box is block-leel

[13:58:03.0000] <Hixie>
level

[13:58:04.0000] <TabAtkins>
Yes, and it should be fine to indent the root box, shouldn't it?

[13:59:00.0000] <zcorpan_>
Hixie: shouldn't you just be able to select the background box, not the root box?

[13:59:01.0000] <Hixie>
TabAtkins: maybe

[13:59:02.0000] <Hixie>
zcorpan_: well you have to select the root box for setting 'font'

[13:59:03.0000] <zcorpan_>
Hixie: why?

[13:59:04.0000] <Hixie>
but i have some magic in place to move the background to the background box

[13:59:05.0000] <Hixie>
zcorpan_: otherwise you can't change the line height

[14:00:00.0000] <zcorpan_>
ok

[14:00:01.0000] <TabAtkins>
Hixie: Only worry about disallowing the things that you know will cause concrete problems.

[14:00:02.0000] <annevk>
maybe forbid a few of the obvious ones and add a comment that experimenting is welcome here

[14:00:03.0000] <TabAtkins>
Like, frex, setting display on a cue.

[14:00:04.0000] <annevk>
though I guess we want to avoid another ::first-line / ::first-letter disaster

[14:00:05.0000] <Hixie>
TabAtkins: that means i have to keep adding to the list as we add new things, and if i don't add it to the list for a week, we can end up with things being implemented that make no sense

[14:01:00.0000] <Hixie>
TabAtkins: whereas a whitelist is always fine

[14:01:01.0000] <TabAtkins>
Hixie: I highly doubt there are many things where it matters.  The blacklist should be very small, and effectively static.

[14:02:00.0000] <TabAtkins>
annevk: ::first-letter isnt' a problem in terms of properties (though what precisely is wrapped in it is a different story...).  ::first-line causes issues, but nothing that should be relevant for cues.

[14:03:00.0000] <annevk>
::first-letter has exactly the same problems ::first-line has

[14:03:01.0000] <TabAtkins>
What do you mean?

[14:03:02.0000] <annevk>
consider e.g. <p><span>"</span>A...

[14:04:00.0000] <annevk>
well, <p>"<span>Atom</span> might be a better example

[14:04:01.0000] <TabAtkins>
What's the problem with ::first-letter there?

[14:04:02.0000] <annevk>
it matches "A

[14:04:03.0000] <annevk>
now float the span or something

[14:04:04.0000] <TabAtkins>
Ah, yes.  I alluded to that.  I'm talking about which *properties* are acceptable.

[14:04:05.0000] <KrocCamen>
It varies between browsers. Some include punctuation, others don’t.

[14:05:00.0000] <TabAtkins>
The fact that ::first-line and ::first-letter can easily create a misnested tree is a big problem, but a separate one.

[14:05:01.0000] <annevk>
TabAtkins, I think the latest is actually which properties apply innermost and which apply outermost, or something weirdly complicated like that

[14:05:02.0000] <annevk>
we should have just dropped them

[14:06:00.0000] <Hixie>
just from CSS2.1 i have to exclude at least these (and that doesn't include those that are excluded simply because they can't apply, like list-style-*):

[14:06:01.0000] <Hixie>
         display, float, position, top, left, right, bottom, width, height, margin-top, margin-bottom, margin-left, margin-right, clip, clear, content, cursor,

[14:06:02.0000] <Hixie>
         direction, max-height, min-height, max-width, min-width, orphans, overflow, page-break-*, text-align, unicode-bidi, widows, z-index

[14:06:03.0000] <TabAtkins>
The innermost/outermost debate is a result of no one knowing what the hell the element-tree is supposed to look like.  Define the properly and we're fine.

[14:06:04.0000] <Hixie>
i'm not sure that's shorter than the list of those i need to enable

[14:06:05.0000] <Hixie>
lunch, bbiab

[14:06:06.0000] <annevk>
top/left/right/bottom cannot do anything if position does not apply

[14:06:07.0000] <TabAtkins>
Hixie: I don't understand why most of those have to be excluded.  They may not *do* anything on a cue, but that doesn't mean they should be explicitly blacklisted.

[14:08:00.0000] <TabAtkins>
annevk: Of course, the question of *how* to properly define them is open.  But it's possible, if someone would just sit down and do the work, and then all the retarded debate evaporates immediately.

[14:09:00.0000] <annevk>
oh god http://www.w3.org/TR/2005/REC-charmod-20050215/#C048

[14:09:01.0000] <annevk>
/me wonders who came up with that

[14:10:00.0000] <jgraham>
Doesn't everyone do that anyway?

[14:10:01.0000] <TabAtkins>
That's... stupid.

[14:10:02.0000] <AryehGregor>
jgraham, no?

[14:10:03.0000] <annevk>
TabAtkins, it's possible, but the amount of implementation time and specification time does not outweigh the usefulness of these features (imo)

[14:10:04.0000] <TabAtkins>
I do it in hex, but there's no reason to encode that as a SHOULD.

[14:10:05.0000] <TabAtkins>
annevk: I agree.  ^_^

[14:10:06.0000] <zcorpan_>
"when there are both"?

[14:10:07.0000] <annevk>
TabAtkins, again imo, too much time has been wasted already

[14:10:08.0000] <jgraham>
Yeah, it is stupid to put it in a document

[14:11:00.0000] <jgraham>
let alone brandish RFC2119

[14:11:01.0000] <annevk>
via http://www.w3.org/International/reviews/1007-polyglot/

[14:38:00.0000] <annevk>
hmm, there's no security check at all for window.opener?

[14:50:00.0000] <eseidel>
I wonder what prompted HTML5 to cause "<head></head>\n<body>" to insert a text node between head and body

[14:50:01.0000] <eseidel>
old FF and old WebKit don't

[14:50:02.0000] <eseidel>
I haven't tested IE

[14:51:00.0000] <eseidel>
http://software.hixie.ch/utilities/js/live-dom-viewer/?%3Chead%3E%3C/head%3E%0A%3Cbody%3E shows the change

[14:51:01.0000] <eseidel>
although it seems the live dom viewer does not work in IE

[14:53:00.0000] <jgraham>
It ought to I think

[14:54:00.0000] <annevk>
eseidel, I think except where it matters for compatibility the idea was to match the source tree as closely as possible

[14:55:00.0000] <jgraham>
Also, I think I agree about the <!doctype html><svg><foreignObject><p><table></table></foreignObject></svg> issue

[14:55:01.0000] <jgraham>
although html5lib does something slightly strange

[14:55:02.0000] <jgraham>
And I am not sure I read the spec right

[14:56:00.0000] <jgraham>
But it seems that </foreignObject> should close everything up to the matching <foreignObject>

[14:56:01.0000] <jgraham>
but does not

[14:59:00.0000] <jgraham>
(because foreignObject is in the scoping category so doesn't close other elements in step 3 of the "any other end tag" pattern in "in body" mode

[14:59:01.0000] <zcorpan_>
http://twitter.com/xmemphisx/statuses/18465424871

[15:00:00.0000] <zcorpan_>
i wonder what's noisy about rdfa. the namespace declarations?

[15:01:00.0000] <annevk>
you can reply

[15:01:01.0000] <zcorpan_>
true

[15:03:00.0000] <jgraham>
The curies too I guess

[15:10:00.0000] <Hixie>
annevk: 'position' is 'absolute' on the cue

[15:11:00.0000] <Hixie>
TabAtkins: for each one, there is some reason why it messes with the rendering

[15:11:01.0000] <Hixie>
TabAtkins: in ways that would be unintuitive to say the least, and might even cause crashes or hangs if implemented exactly as specced

[15:12:00.0000] <TabAtkins>
Hixie: orphans, for example?

[15:15:00.0000] <annevk>
Hixie,ah

[15:16:00.0000] <Hixie>
TabAtkins: i couldn't work out how to define widows and orphans being handled in this case given that full-screen is paged and yet we don't want cues being affected by inherited widows and oprhans settings

[15:17:00.0000] <TabAtkins>
Full-screen is paged?

[15:17:01.0000] <Hixie>
in opera, at least

[15:18:00.0000] <TabAtkins>
My brain doesn't know how to respond to that.

[15:18:01.0000] <Hixie>
anyway i'm pretty convinced that i don't want to be using a black-list

[15:18:02.0000] <Hixie>
based on the above list

[15:18:03.0000] <Hixie>
none of the other pseudos use a black-list, as far as i can tell

[15:18:04.0000] <Hixie>
they all use a whitelist

[15:19:00.0000] <TabAtkins>
I don't know why I was misremembering them as blacklisting.  Carry on then.

[15:23:00.0000] <zcorpan_>
/me points eseidel to http://software.hixie.ch/utilities/js/live-dom-viewer/saved/544

[15:24:00.0000] <eseidel>
zcorpan_: what about it?

[15:24:01.0000] <zcorpan_>
eseidel: it's different from what pre-html5 browsers do

[15:24:02.0000] <eseidel>
zcorpan_: ok, file a bug :)

[15:24:03.0000] <eseidel>
zcorpan_: I'm not sure why youe' pointing to me

[15:25:00.0000] <eseidel>
zcorpan_: I am implementing WebKit's HTML5 parser, I don't work on the spec

[15:26:00.0000] <zcorpan_>
eseidel: i know. i was looking at http://www.w3.org/Bugs/Public/show_bug.cgi?id=10157 but i see now that abarth filed that

[15:26:01.0000] <zcorpan_>
eseidel: i complained about this a few years ago but didn't manage to convince hixie

[15:26:02.0000] <zcorpan_>
i guess i should file a bug

[15:27:00.0000] <jgraham>
eseidel: If you are complaining here you work on the spec :)

[15:32:00.0000] <Hixie>
i think instead of ::cue and ::cue(voice) and ::cue(voice, part) i'm just going to have ::cue and ::cue-part(list...) where 'list...' is a list of identifiers or integers

[15:32:01.0000] <Hixie>
so you can have ::cue-part(narrator i) to match the italics part of a cue whose voice is the narrator

[15:33:00.0000] <TabAtkins>
::cue(b i)?

[15:33:01.0000] <Hixie>
or ::cue-part(0 b before) to match <b> parts that are before the playback position and use voice 0

[15:33:02.0000] <TabAtkins>
Also, can voices have arbitrary names?

[15:33:03.0000] <Hixie>
::cue-part(b i) would match nothing

[15:34:00.0000] <Hixie>
no, the names are integers or the short list in the spec

[15:34:01.0000] <TabAtkins>
Ok.

[15:34:02.0000] <TabAtkins>
You can't have bold italic cues?

[15:34:03.0000] <TabAtkins>
bold italic *ruby* cues?

[15:35:00.0000] <zcorpan_>
TabAtkins: you can but they would be nested

[15:35:01.0000] <TabAtkins>
Is it possible to select that?

[15:35:02.0000] <zcorpan_>
TabAtkins: i mean the boxes, it wouldn't make sense to make the pseudo-element apply to all at once

[15:35:03.0000] <Hixie>
TabAtkins: you can but it's not possible to select them separately from all italics cues

[15:36:00.0000] <TabAtkins>
;_;

[15:40:00.0000] <TabAtkins>
So it's ::cue-part( [ <voice> || <part> || <position> ] )?

[15:42:00.0000] <Hixie>
essentially

[15:43:00.0000] <Hixie>
maybe i should specify it that way explicitly in fact

[15:43:01.0000] <TabAtkins>
/me likes grammars.

[15:44:00.0000] <Hixie>
the question is what should happen if you say ::cue-part(bogus)

[15:44:01.0000] <Hixie>
should it be in the CSSOM or not?

[15:44:02.0000] <Hixie>
and if you say ::cue-part(b z) should it match the same as ::cue-part(b) or be ignored for matching?

[15:44:03.0000] <TabAtkins>
Nah, invalid declaration, thrown out.

[15:45:00.0000] <Hixie>
and should ::cue-part(b b) match anything?

[15:45:01.0000] <TabAtkins>
If you can only specify a single <part>, then specifying the same <part> twice violates the grammar.  Invalid selector, thrown out.

[15:45:02.0000] <Hixie>
ok then i have to change what i've written so far

[15:45:03.0000] <Hixie>
/me does so

[15:48:00.0000] <Hixie>
any better keywords than "before" and "after" for denoting parts that are before or after the current playback position?

[15:48:01.0000] <TabAtkins>
"past" "future"

[15:48:02.0000] <zcorpan_>
Hixie: are they intended for karaoke?

[15:48:03.0000] <Hixie>
ooh, good

[15:48:04.0000] <Hixie>
thanks

[15:48:05.0000] <Hixie>
zcorpan_: yes

[15:49:00.0000] <Philip`>
earlier/later?

[15:49:01.0000] <jgraham>
Hixie: http://sloth.whyi.org/~jl/cross-domain.html was pointed out as a possible problem with the non-Opera cross domain stuff. Two documents changing their domains in such a way that two documents that did not change their domains can communicate

[15:50:00.0000] <jgraham>
/me is not confident enough of his understanding of all the security details here to be a good proxy

[15:51:00.0000] <Hixie>
/me looks

[15:52:00.0000] <Hixie>
why is that a problem?

[15:52:01.0000] <jgraham>
Well it is unexpected I think

[15:52:02.0000] <Hixie>
by whom?

[15:53:00.0000] <Hixie>
it seems normal to me...

[15:53:01.0000] <jgraham>
By (one of the) documents that is being accessed by a document on a different domain without having changed its document.domain to permit it

[15:53:02.0000] <jgraham>
I guess

[15:54:00.0000] <jgraham>
(I am told that the demo could be made to work in Opera too with a little more effort and cooperation)

[15:54:01.0000] <gsnedders>
jgraham: Stop working.

[15:54:02.0000] <gsnedders>
jgraham: It's almost midnight.

[15:54:03.0000] <gsnedders>
Sorry, I feel it's my duty to remind you of these things.

[15:54:04.0000] <jgraham>
gsnedders: No, it is midnight

[15:55:00.0000] <gsnedders>
It wasn't when I sent it.

[15:55:01.0000] <zcorpan_>
yes it was

[15:56:00.0000] <jgraham>
Hixie: the proposed solution, if one is needed, would be to make document.domain readonly after making a cross-origin access

[15:56:01.0000] <gsnedders>
My IRC client, with the time from pool.ntp.org thinks it was 23:59 damnit

[15:56:02.0000] <jgraham>
I have no opinion on whether that is sensible or web compatible

[15:56:03.0000] <jgraham>
or needed

[15:57:00.0000] <Hixie>
jgraham: well unless there's an actual vulnerability or compatibility issue here, i'd rather not change the web's security model

[15:58:00.0000] <jgraham>
Yeah I don't know. Maybe I will post to the list tommorrow and hope that some evil people have an opinion on whether it is harmless

[15:58:01.0000] <jgraham>
I mean other evil people

[15:59:00.0000] <jgraham>
I don't mean to understate your evilness

[15:59:01.0000] <annevk>
fwiw, I would prefer it if arguments to ::cue() behaved like type selectors and were not thrown out

[15:59:02.0000] <jgraham>
gsnedders: But you do have a point

[16:00:00.0000] <Hixie>
annevk: thrown out of the CSSOM or ignored for rendering?

[16:00:01.0000] <annevk>
that way if we add <mark> or whatever in the future you can use it in a comma-separated list without older clients barfing

[16:00:02.0000] <Hixie>
annevk: the comma would cause older clients to barf, not the new tag :-)

[16:00:03.0000] <gsnedders>
/me follows his own point and goes to sleep

[16:00:04.0000] <annevk>
::cue(i), ::cue(future-element) { }

[16:00:05.0000] <jgraham>
It is a bit late to be doing anything not involving sleep

[16:00:06.0000] <gsnedders>
(not that I was working)

[16:00:07.0000] <TabAtkins>
annevk: The whole point of throwing things out is for older clients to not screw things up.

[16:00:08.0000] <Hixie>
annevk: oh i see

[16:01:00.0000] <annevk>
TabAtkins, we don't ignore i, future-element either

[16:01:01.0000] <Hixie>
annevk: so allow any keywords just make it not match if there are unknown keywords?

[16:01:02.0000] <annevk>
yeah

[16:01:03.0000] <annevk>
seems more consistent

[16:01:04.0000] <Hixie>
annevk: we do ignore :first-child, :fifth-child { }

[16:02:00.0000] <TabAtkins>
annevk: Ah, I see what you mean.

[16:02:01.0000] <annevk>
Hixie, not sure if that was a good idea or not

[16:03:00.0000] <TabAtkins>
annevk: Yeah, thinking about it a bit, doing "accept but dont' match anything" in selectors is the right behavior.

[16:07:00.0000] <annevk>
I'm not really sure why the ::first-child, ::unknown-child thing makes sense; I helped get it implemented in browsers, but I have no idea why it makes sense... I guess because the names are part of the syntax somehow...

[16:08:00.0000] <TabAtkins>
Yeah, it's silly.

[16:08:01.0000] <TabAtkins>
Think we could change it at this point?

[16:09:00.0000] <annevk>
I'm not sure if it's worth the hassle

[16:09:01.0000] <annevk>
but at least we can avoid it with idents specified within ::cue

[16:11:00.0000] <zcorpan_>
we can't change it, people use it to as a css filter these days

[16:11:01.0000] <annevk>
(Of course everything can be changed. In this case likely glazou and Bert will complain. Implementors will not be too happy with changes. QA will not be happy with changes. 0.0001% of the authors might care. Net benefit is that the language is somewhat saner, but mwah, who cares?)

[16:11:02.0000] <zcorpan_>
or at least with attribute selectors

[16:12:00.0000] <TabAtkins>
Holy crap authors-that-aren't-me are stupid.

[16:13:00.0000] <Hixie>
ok i'm done with the first draft of the timed track stuff

[16:13:01.0000] <Hixie>
you may now begin flaming me

[16:14:00.0000] <Hixie>
(i haven't yet added all the properties to the whitelists that need adding)

[16:14:01.0000] <Hixie>
(like border, padding)

[16:14:02.0000] <annevk>
someone was in here a couple of days ago arguing that we could not do WebSRT based on CSS because it didn't have text-outline

[16:15:00.0000] <TabAtkins>
That was assuming that we didn't do a background on the cue box.

[16:15:01.0000] <TabAtkins>
(Which we are, given the default CSS.)

[16:15:02.0000] <TabAtkins>
And even then, "color: white; text-shadow: 0px 0px 2px black;" works fine.

[16:15:03.0000] <zcorpan_>
text-outline seems nicer than background

[16:16:00.0000] <annevk>
Hixie, s/Italics Objects/Italic Objects/ ?

[16:16:01.0000] <TabAtkins>
Or, wait, I actually use 4 shadows on the text I'm looking at.

[16:17:00.0000] <Hixie>
annevk: ta

[16:17:01.0000] <TabAtkins>
1 1, 1 -1, -1 -1, -1 1.

[16:17:02.0000] <Hixie>
annevk: (i'm still going through fixing minor issues like that)

[16:17:03.0000] <annevk>
Hixie, it seems you miss a bunch of closing spans as well for timed track cue voice identifier

[16:17:04.0000] <annevk>
k

[16:17:05.0000] <Hixie>
yeah i'm going through validator and xref bugs now

[16:18:00.0000] <Hixie>
ok i'm gonna take a break and send an e-mail about <device>

[16:19:00.0000] <Hixie>
i'll pause on the captions stuff for now, then get back to it in a bit after the websockets stuff and whatever else i have queued up

[16:19:01.0000] <Hixie>
parser bugs

[16:19:02.0000] <annevk>
I'm gonna read all that tomorrow :) good day

[16:19:03.0000] <annevk>
nn

[16:19:04.0000] <Hixie>
web apps cr

[16:19:05.0000] <Hixie>
etc

[16:19:06.0000] <Hixie>
nn

[16:20:00.0000] <zcorpan_>
yay websockets

[16:21:00.0000] <Hixie>
oh and change proposals

[16:21:01.0000] <Hixie>
i guess web sockets is next week

[16:22:00.0000] <Hixie>
bbiab

[16:37:00.0000] <TabAtkins>
Urgh.  Every API from now until forever should treat collections of a single objects being equivalent to the object itself, and operations if an operation is done to a collection that's only valid on the objects in the collection, map the operation over the collection.

[16:37:01.0000] <AryehGregor>
That sounds like it will break horribly in some cases.

[16:38:00.0000] <TabAtkins>
Then you're doing things wrong.

[16:38:01.0000] <AryehGregor>
Like, if your single object is itself a collection, everything will get extremely confused.

[16:38:02.0000] <AryehGregor>
It doesn't work for anything that needs to sometimes operate on single objects and sometimes on collections.

[16:38:03.0000] <TabAtkins>
Arbitrary nesting is excused from this requirement.

[16:38:04.0000] <TabAtkins>
But when you can tell the difference between an object and a collection, then it should work as described.

[16:39:00.0000] <AryehGregor>
Also, it often doesn't really make sense.  If you do len(0) in Python, should it really return 1 instead of throwing an exception because you're doing something stupid?

[16:39:01.0000] <AryehGregor>
That kind of behavior masks bugs.

[16:39:02.0000] <TabAtkins>
?_?  I don't see how len(0) is a relevant example.

[16:40:00.0000] <AryehGregor>
According to you, it should be treated like len([0]) and return 1.

[16:40:01.0000] <TabAtkins>
No, you have it wrong way round.  

[16:40:02.0000] <TabAtkins>
And, still, arrays can be arbitrarily nested, and so are exempt from this.

[16:41:00.0000] <TabAtkins>
But, frex, in Django, Test.objects.all().id should return a list of ids of all the objects.

[16:42:00.0000] <TabAtkins>
(Rather than me having to explicitly map over the return value with [test.id for test in Test.objects.all()]

[16:42:01.0000] <AryehGregor>
Oh, I thought you were going both ways.

[16:43:00.0000] <AryehGregor>
Then your proposal superficially seems less objectionable.

[16:43:01.0000] <AryehGregor>
This could be coded in at a language level, in principle.

[16:43:02.0000] <TabAtkins>
Hmm, only insofar as something has a priviledged container type.  Then you can treat a single object equivalently to a container containing that single object.

[16:44:00.0000] <TabAtkins>
But otherwise you can only auto-go from single-element container to the element itself, not in reverse.

[16:44:01.0000] <AryehGregor>
But you just said that's the only direction you want to go in.

[16:44:02.0000] <TabAtkins>
/me supposes this relies largely on privileged container types all the way through, actually.

[16:44:03.0000] <AryehGregor>
All you need is some notion of a container, there doesn't have to be only one.

[16:45:00.0000] <AryehGregor>
C++ and Python have the notion of a general container, that's enough.

[16:45:01.0000] <TabAtkins>
Not quite, because general containers can be objecs in and of themselves.

[16:45:02.0000] <AryehGregor>
So?

[16:46:00.0000] <TabAtkins>
So magicking them in this manner can cause problems.

[16:46:01.0000] <AryehGregor>
So in Python, if you access foo.bar, and foo does not have a property named bar, but it's a container of class Foo and all of its contents do, then return Foo(x.bar for x in foo).

[16:46:02.0000] <AryehGregor>
Recursively.

[16:46:03.0000] <AryehGregor>
/me just got scared at that last word.

[16:46:04.0000] <TabAtkins>
But when you have, say, Nodes and NodeLists, then it's fine to do Nodelist.foo when .foo is only defined for Nodes.

[16:48:00.0000] <TabAtkins>
Or foo(NodeList), if foo() normally only takes a single Node and NodeList contains only a single Node.

[16:49:00.0000] <AryehGregor>
If NodeList doesn't contain only a single Node, that should become (foo(x) for x in list) or something.

[16:49:01.0000] <AryehGregor>
This is inconsistent, though.

[16:49:02.0000] <AryehGregor>
I think the "always treat it as mapping the contents to a tuple" is probably more consistent.

[16:49:03.0000] <TabAtkins>
No it's not.  There's a difference between a function and a method.

[16:50:00.0000] <AryehGregor>
I don't see why there should be in this case.

[16:50:01.0000] <TabAtkins>
Methods would be mapped.  Functions would auto-unwrap.

[16:50:02.0000] <AryehGregor>
Why?

[16:50:03.0000] <TabAtkins>
Because it's convenient?

[16:50:04.0000] <AryehGregor>
It's inconsistent.

[16:51:00.0000] <TabAtkins>
Only because you're insisting that methods and functions must be treated the same.

[16:53:00.0000] <AryehGregor>
Because they are logically very similar.

[16:53:01.0000] <TabAtkins>
But not identical in most languages, and so a distinction between them can be made without being inconsistent.

[16:54:00.0000] <AryehGregor>
Making an artificial distinction between two very similar things is inconsistent.

[16:54:01.0000] <TabAtkins>
No, distinguishing between two *identical* things is.

[16:54:02.0000] <TabAtkins>
"Very similar" admits a distinction by definition.

[16:54:03.0000] <AryehGregor>
By that logic, there's no such thing as inconsistency, because as soon as you distinguish two things, they're different.

[16:55:00.0000] <AryehGregor>
Also, by the way, this scheme will completely blow up in so many cases.

[16:55:01.0000] <TabAtkins>
It works for jQuery.

[16:55:02.0000] <AryehGregor>
Like if the container actually contains an unlimited amount of stuff.

[16:55:03.0000] <AryehGregor>
It has to be selectively opted into, though, not imposed at the language level.

[16:55:04.0000] <TabAtkins>
If you have an infinite container, you ahve lazy maps to start with.

[16:55:05.0000] <AryehGregor>
Maybe it could have opt-in allowed at the language level, to make it easier.

[16:55:06.0000] <AryehGregor>
Probably excessive.

[16:56:00.0000] <TabAtkins>
All I know is, there is absolutely no need to distinguish between whether $("p") matches one or multiple results in jQuery.  There are many other APIs I've run into where a similar facility would be useful.


2010-07-14
[18:03:00.0000] <Hixie>
well, i see my e-mail wasn't clear enough

[18:03:01.0000] <Hixie>
sigh

[18:03:02.0000] <TabAtkins>
On the other hand, I found the response pretty amusing.

[18:05:00.0000] <Hixie>
yes :-)

[18:17:00.0000] <Hixie>
hsivonen: yt?

[18:48:00.0000] <TabAtkins>
Oh wow, really?  A legacy D-Link router?  That's crazy.

[18:52:00.0000] <Hixie>
eseidel: i've begun changing the parser

[18:52:01.0000] <Hixie>
you can track changes at http://html5.org/tools/web-apps-tracker

[19:20:00.0000] <eseidel>
Hixie: thank you.  I'll start implemnting your fixes tomorrow.  I still need to talk to hsivonen, but he's been AWOL :p

[19:21:00.0000] <eseidel>
hsivonen: we should really sync up our test cases.  We've written a bunch more for your fancy harness

[19:25:00.0000] <eseidel>
Hixie: I do not understand the mental model behind foreign content

[19:25:01.0000] <eseidel>
it was not clear to me from the spec

[19:25:02.0000] <eseidel>
sec

[19:26:00.0000] <Hixie>
mental model?

[19:28:00.0000] <eseidel>
Hixie: sorry, got a phoen call right as I was starting to explain

[19:28:01.0000] <eseidel>
it's unclear what to do with misnested tags in forieng content mode

[19:28:02.0000] <Hixie>
misnested how precisely?

[19:29:00.0000] <eseidel>
<div><svg></div></svg>

[19:29:01.0000] <Hixie>
(my usual answer is "just do what the spec says", but i'll wait until the spec bugs are fixed before saying that again :-) )

[19:29:02.0000] <eseidel>
is the idea that any non-foreign tag, breaks out of fo?

[19:29:03.0000] <eseidel>
fc, rather

[19:29:04.0000] <Hixie>
that should be treated as <div><svg></svg></div></bogus>, iirc

[19:29:05.0000] <eseidel>
interesting

[19:30:00.0000] <Hixie>
(is that what the spec now says?)

[19:30:01.0000] <Hixie>
basically the idea was that we wanted to add svg and mathml parsing with minimum impact on existing documents

[19:30:02.0000] <Hixie>
including documents that already contained bogus <svg> elements

[19:30:03.0000] <eseidel>
Hixie: I think I'll wait until you're done editing

[19:30:04.0000] <Hixie>
k

[19:30:05.0000] <eseidel>
since I don't feel i'm explaining myself well

[19:31:00.0000] <eseidel>
likely due to distractions

[19:31:01.0000] <Hixie>
k

[19:34:00.0000] <eseidel>
Hixie: one related confusion.  If you see a mis-nested close tag in foreign content, right now the spec has you just pop all the way back until that tag makes sense.  Which can ahve you popping through other insertion modes where the tag would be ignored.  Another way to handle that would be any time you see a mis-nested close tag, to break out of FC immediately and re-process.

[19:34:01.0000] <Hixie>
do you have an example of popping through other inserting modes?

[19:35:00.0000] <eseidel>
<body><svg></html></svg> would be one example I think.

[19:35:01.0000] <eseidel>
I need to find an example where we ignore close tags, setc.

[19:35:02.0000] <Hixie>
you don't pop through other insertion modes where it would be ignored in that example do you?

[19:36:00.0000] <Hixie>
i mean, <body></html> won't ignore anything

[19:36:01.0000] <Hixie>
not sure what you mean

[19:36:02.0000] <eseidel>
<body><svg><col>Foo</svg>

[19:36:03.0000] <eseidel>
normally the "col" would be ignored, but since it's in the SVG, it causes it to break out of the SVG.

[19:36:04.0000] <eseidel>
/me looks for a better example

[19:37:00.0000] <Hixie>
no, that results in a <col> element in the SVG namespace

[19:37:01.0000] <eseidel>
Hixie: ah, <body><svg></foo><circle></svg>

[19:38:00.0000] <eseidel>
currently that would crash, if I remember the spec correctly (you'd walk off the bottom lookcing for <foo>

[19:38:01.0000] <Hixie>
i just fixed that one

[19:38:02.0000] <eseidel>
ok

[19:38:03.0000] <eseidel>
but </foo> woudl be ignored in body, so seems we shoudl ignore in in svg

[19:38:04.0000] <Hixie>
(not sure if i fixed it right)

[19:38:05.0000] <Hixie>
(let's see)

[19:38:06.0000] <eseidel>
Hixie: I'll implement whatever you wrote tomorrow, and then I can pick on you more then :)

[19:38:07.0000] <eseidel>
I'll leave you to work now

[19:38:08.0000] <Hixie>
k

[19:38:09.0000] <Hixie>
later

[19:41:00.0000] <Hixie>
(ok, looks like the </foo> in the example above just gets ignored now)

[19:43:00.0000] <eseidel>
(that's our current behavior too)

[19:43:01.0000] <Hixie>
(but in the case like <body><svg><g><foreignContent><b></g>, the </g> is not ignored, because the in body mode closes it)

[19:44:00.0000] <Hixie>
(not sure that this is completely coherent, but we'll have to try various examples and see if they all make sense now)

[19:44:01.0000] <eseidel>
k

[19:44:02.0000] <eseidel>
would like to find some way for hsivonen and I to better share test cases so we can implement these same things here

[19:44:03.0000] <eseidel>
our code is wildly different :)

[19:44:04.0000] <eseidel>
which is a good thing, I think

[19:45:00.0000] <Hixie>
yes

[19:47:00.0000] <eseidel>
<b id="1"><p><script>document.getElementById("1").id = "2"</script></p>TEXT</b> may turn into a spec bug... It's nice (mentally) to re-use the token, but "expensive" from an implementation perspective

[19:48:00.0000] <Hixie>
eseidel: as opposed to what?

[19:48:01.0000] <Hixie>
the spec used to clone the actual elements, but hsivonen asked me to use the token instead so he didn't need to keep a hold of the actual DOM since he's doing it off-thread

[19:49:00.0000] <eseidel>
ha.

[19:49:01.0000] <eseidel>
I think mozilla is crazy to do the parser off-thread. :)

[19:49:02.0000] <Hixie>
no disagreement here, but they get a minor advantage since they took the plunge and implemented it first :-)

[19:49:03.0000] <eseidel>
old WK clones the element, new one does too.  I haven't checke IE

[19:50:00.0000] <Hixie>
IE doesn't clone

[19:50:01.0000] <Hixie>
it uses the same element

[19:50:02.0000] <Hixie>
you get non-tree DOMs

[19:50:03.0000] <Hixie>
it's quite special

[19:50:04.0000] <eseidel>
oh goodie :)

[19:50:05.0000] <Hixie>
at least old IEs did

[19:50:06.0000] <Hixie>
dunno what the recent ones do

[19:50:07.0000] <roc>
what's crazy about doing the parser off-thread?

[19:50:08.0000] <eseidel>
Hixie: I mean, we can store off the tokens (or the attributes from the tokens).  its just more mallocs we'd probably like to avoid

[19:51:00.0000] <eseidel>
I'm not sure you want to pay all the sychronization cost.

[19:51:01.0000] <eseidel>
I mean, I liek the idea of using more threads in the engine, given the way hardware is going

[19:51:02.0000] <eseidel>
but doing all the dom access, which has to pretend to be single theaded, seems ouchy

[19:51:03.0000] <Hixie>
eseidel: why is it any more mallocs?

[19:51:04.0000] <roc>
the synchronization costs are low

[19:51:05.0000] <Hixie>
eseidel: the way they implemented it they have minimal synchronisation

[19:52:00.0000] <roc>
the DOM is not accessed directly from the parser thread

[19:52:01.0000] <eseidel>
Hixie: cause we have to copy the attributes array in case you change it in script

[19:52:02.0000] <Hixie>
(it's pretty cleverly done actually)

[19:52:03.0000] <Hixie>
eseidel: oh i see

[19:52:04.0000] <roc>
the parser generates a list of "tree operations" which are posted to the main thread

[19:52:05.0000] <eseidel>
i see.

[19:52:06.0000] <Hixie>
eseidel: can't you do a copy-on-write or something? i guess that'd be a performance hit too.

[19:52:07.0000] <eseidel>
Hixie: I'm not sure this will end up being a big deal.  but for now we're not going to implement that quirk.

[19:53:00.0000] <eseidel>
Hixie: I have a test for it and a big FIXME so we won't forget :)

[19:53:01.0000] <Hixie>
cool

[19:53:02.0000] <eseidel>
hsivonen still owes me a response to my "<a>1<button>2</a>3</button>" test case

[19:53:03.0000] <eseidel>
I think minefield builds the wrong tree for that

[19:54:00.0000] <eseidel>
somehow </a> is breaking out of the <button> in minefield, which makes no sense to me

[19:55:00.0000] <Hixie>
there's some weird rules around </a> iirc

[19:56:00.0000] <Hixie>
oh that's for the <a><button><a> case, nevermind

[19:56:01.0000] <Hixie>
not <a><button</a>

[19:57:00.0000] <eseidel>
I filed https://bugzilla.mozilla.org/show_bug.cgi?id=578568

[19:57:01.0000] <Hixie>
ok i'm done for the day, will continue with these fixes tomorrow

[20:07:00.0000] <boblet>
hixie: for links.html#examples-1 you should combine George Washington’s itemprop="fn" and itemprop="n" to itemprop="fn n"

[20:09:00.0000] <boblet>
also having Jack Bauer’s given-/family-names in meta seems odd since they’re already in content

[20:35:00.0000] <MikeSmith>
http://www.boston.com/bostonglobe/ideas/articles/2010/07/11/how_facts_backfire/

[20:36:00.0000] <MikeSmith>
"when misinformed people, particularly political partisans, were exposed to corrected facts in news stories, they rarely changed their minds."

[20:36:01.0000] <MikeSmith>
"In fact, they often became even more strongly set in their beliefs."

[20:37:00.0000] <othermaciej>
I totally disagree with that story

[20:37:01.0000] <othermaciej>
cause I heard somewhere that people can change their minds

[20:38:00.0000] <boblet>
heh

[20:39:00.0000] <MikeSmith>
" the ones who were the most confident they were right were by and large the ones who knew the least about the topic"

[20:39:01.0000] <MikeSmith>
“It implies not only that most people will resist correcting their factual beliefs,” he wrote, “but also that the very people who most need to correct them will be least likely to do so.”

[20:40:00.0000] <boblet>
MikeSmith: so that explains … America then, huh

[20:40:01.0000] <boblet>
/me ducks

[20:48:00.0000] <MikeSmith>
boblet: explains quite a lot of things

[20:49:00.0000] <boblet>
MikeSmith: sadly, yes

[21:27:00.0000] <variable>
anyone here want a hope ticket for saterday/sunday for a cheaper price? I found out that I likely won't be able to stay the entire time ?

[21:27:01.0000] <variable>
woops

[21:27:02.0000] <variable>
wrong channel

[21:47:00.0000] <Hixie>
boblet: please file bugs for those (use the box at the bottom to do it automatically into the right component)

[22:12:00.0000] <variable>
Hixie, do you remember of any statments by you that about about direct client side includes?

[00:42:00.0000] <annevk>
we won't get to Last Call this year in the HTML WG?

[00:42:01.0000] <annevk>
geez

[00:43:00.0000] <annevk>
was'nt 

[00:43:01.0000] <boblet>
Hixie: will do

[00:43:02.0000] <annevk>
wasn't Paul Cotton specifically assigned to help us get through this quicker or something?

[00:43:03.0000] <annevk>
oh well

[00:43:04.0000] <Hixie>
annevk: why wouldn't we get to LC this year?

[00:44:00.0000] <Hixie>
(if we don't get to LC this year, we surely can't make REC this quarter as per our charter!)

[00:44:01.0000] <Hixie>
i guess we can still make CR by 2012 like i predicted though

[00:46:00.0000] <zcorpan_>
Hixie: you mean WHATWG CR?

[00:46:01.0000] <Hixie>
i meant htmlwg CR

[00:46:02.0000] <Slaanesh>
It seems the longer the W3C process is dragged out, the more likely any given feature will become a victim of cross-browser implementations

[00:47:00.0000] <Hixie>
yup

[00:49:00.0000] <zcorpan_>
Slaanesh: i don't think the w3c process really affect browser implementations one way or the other

[00:51:00.0000] <annevk>
Hixie, that's what Sam said in his reply to Jonas

[00:51:01.0000] <Hixie>
ah

[00:51:02.0000] <annevk>
"unless we split the draft" ....

[00:54:00.0000] <mhausenblas>
MikeSmith around? re "Microdata/Microformat/RDF community should collaboratively write a document explaining about machine-readibility using non-RDF terms"

[00:55:00.0000] <mhausenblas>
it totally agree and would happily contribute to such an effort, MikeSmith 

[00:56:00.0000] <MikeSmith>
mhausenblas: cool

[00:56:01.0000] <MikeSmith>
I'm happy to let anybody drive it

[00:56:02.0000] <mhausenblas>
maybe you want to take a quick look at http://linkeddata.deri.ie/node/58

[00:56:03.0000] <mhausenblas>
MikeSmith, I know who should not drive it ... /me :D

[00:57:00.0000] <mhausenblas>
link above was one of my earlier attempts (yes, restricted to RDF, I know, I know)

[00:57:01.0000] <mhausenblas>
but you get the idea?

[00:57:02.0000] <MikeSmith>
/me takes a look at the link

[00:57:03.0000] <mhausenblas>
tx

[00:57:04.0000] <MikeSmith>
mhausenblas: well, we now know at least two people who should not drive it :)

[00:57:05.0000] <mhausenblas>
hehe

[00:58:00.0000] <mhausenblas>
seriously, I guess someone rather neutral would be ideal

[00:58:01.0000] <MikeSmith>
yeah

[00:58:02.0000] <mhausenblas>
just fire up an etherpad and spread the word (here?)

[01:02:00.0000] <Slaanesh>
zcorpan_: Not the current one, perhaps. But if w3c wants to be involved in UA conformance later, they risk being too late

[01:03:00.0000] <annevk>
fwiw, "the w3c" includes UAs

[01:04:00.0000] <Slaanesh>
"The subset of w3c left after removing the intersection with whatwg" maybe?

[01:04:01.0000] <annevk>
something like that, yeah

[01:05:00.0000] <Slaanesh>
I wonder, if the suggestion to drop all author conformance had passed, where would be we now? CR?

[01:05:01.0000] <annevk>
I was just saying it since some people seem to have the impression the W3C is some kind of standalone entity, while it's mostly just a collection of lots of companies

[01:06:00.0000] <Hixie>
Slaanesh: dropping all authoring conformance criteria would have made very little difference so far

[01:06:01.0000] <Hixie>
Slaanesh: most of the issues have been over editorial text

[01:07:00.0000] <Slaanesh>
But isn't much of the text about author conformance?

[01:07:01.0000] <Hixie>
no

[01:07:02.0000] <Hixie>
most of it is implementation rules

[01:07:03.0000] <Hixie>
(i.e. UA conformance criteria)

[01:08:00.0000] <Slaanesh>
Selective memory on my part, I guess

[01:08:01.0000] <Slaanesh>
... why do the church bells ring at 09:10 every day in Zurich?

[01:09:00.0000] <Hixie>
Slaanesh: calling the faithful to church

[01:10:00.0000] <Hixie>
(at a guess based on other churches in switzerland)

[01:11:00.0000] <MikeSmith>
mhausenblas: not sure what would be the best way to jump start it.. comes back to the usual problem of needing somebody who has the time and motivation to make it happen

[01:12:00.0000] <Slaanesh>
Hixie: I thought all the faithful were at work already ;)

[01:12:01.0000] <mhausenblas>
MikeSmith, I'm happy to *take* time for it (and I certainly have the motivation) ... BUT

[01:13:00.0000] <mhausenblas>
I also know that if I propose it the typical reaction here and in some other place would be a more or less friendly fck off

[01:13:01.0000] <MikeSmith>
Slaanesh: it seems like churches should be trying to call the faithless, anyway

[01:14:00.0000] <mhausenblas>
so, you see my problem, MikeSmith? ;)

[01:14:01.0000] <MikeSmith>
mhausenblas: random idea: maybe a Wikipedia article

[01:14:02.0000] <mhausenblas>
hm

[01:14:03.0000] <MikeSmith>
I realize that the Wikipedia editor community is as dysfunctional or worse than any

[01:15:00.0000] <mhausenblas>
/me has rather bad experiences with this ... and also seems a bit like misusing Wikipedia

[01:15:01.0000] <mhausenblas>
well, I think it's clearly against their policy (re using it as a discussion forum)

[01:15:02.0000] <Hixie>
wikipedia book? :-)

[01:15:03.0000] <mhausenblas>
hehe

[01:15:04.0000] <mhausenblas>
whatz your hunch Hixie?

[01:15:05.0000] <Hixie>
no idea what the topic is :-)

[01:15:06.0000] <mhausenblas>
I mean, assuming you'd be interested ;)

[01:16:00.0000] <mhausenblas>
ah

[01:16:01.0000] <mhausenblas>
re "Microdata/Microformat/RDF community should collaboratively write a document explaining about machine-readibility using non-RDF terms"

[01:16:02.0000] <jgraham>
eseidel: If you have testcases, please check them in to the html5lib repository

[01:16:03.0000] <mhausenblas>
MikeSmith and I are discussing how to kick this off

[01:16:04.0000] <jgraham>
eseidel: I can give you commit access if you need it

[01:16:05.0000] <Slaanesh>
A vcs repository?

[01:17:00.0000] <eseidel>
jgraham: I did not know there was a repository. b ut yes, we have lots of tests

[01:17:01.0000] <jgraham>
eseidel: Also, hsivonen already knows about the <button> weirdness I think. The conclusion is that the spec is probably broken 

[01:17:02.0000] <eseidel>
jgraham: see http://trac.webkit.org/browser/trunk/LayoutTests/html5lib/resources/

[01:18:00.0000] <eseidel>
jgraham: yeah, I got CC'd on the right bugs

[01:18:01.0000] <Hixie>
mhausenblas: what does that mean?

[01:18:02.0000] <eseidel>
after the fact

[01:18:03.0000] <mhausenblas>
(MikeSmith I think we should also ask mamund on board - he's doing great stuff at http://amundsen.com/hypermedia/

[01:18:04.0000] <jgraham>
eseidel: http://code.google.com/p/html5lib/source/checkout

[01:18:05.0000] <mhausenblas>
Hixie, an attempt to overcome the silly low-level, syntax-driven fights

[01:18:06.0000] <mhausenblas>
for a greater, Webish data idea

[01:19:00.0000] <eseidel>
jgraham: crazy

[01:19:01.0000] <Hixie>
ah well i'm not your man

[01:19:02.0000] <Hixie>
i think webish data is a lost cause

[01:19:03.0000] <mhausenblas>
fair enough

[01:19:04.0000] <Hixie>
at least machine-readable data

[01:19:05.0000] <mhausenblas>
interesting. care to explain why?

[01:19:06.0000] <Hixie>
natural language interpretation is where the real solutions are going to lie

[01:19:07.0000] <mhausenblas>
ah, right, I see

[01:19:08.0000] <eseidel>
jgraham: I'll talk with abarth about it, and figure out how we'll go about syncing up

[01:19:09.0000] <Hixie>
we'll never get a critical mass of authors writing data in common vocabularies using any of the syntaxes discussed, microformats, microdata, rdf*, whatever

[01:20:00.0000] <Hixie>
i mean, we have enough trouble getting them to use even basic HTML semantics

[01:20:01.0000] <mhausenblas>
ok, yeah, these are the two fundamental directions I sense as well

[01:20:02.0000] <mhausenblas>
I agree that it's hard to achieve it, yes

[01:20:03.0000] <jgraham>
eseidel: OK. I can obviously sync up the tests that are already there if you like

[01:20:04.0000] <mhausenblas>
true (re "getting them to use even basic HTML semantics")

[01:20:05.0000] <Hixie>
i think it would require such a fundamental change in the way people are educated throughout the planet that it is for all intents and purposes impossible

[01:20:06.0000] <jgraham>
eseidel: (although I guess there might be licensing issues?)

[01:21:00.0000] <Hixie>
i mean, i seriously think that getting this done would require massive investment in education in every computer-literate country

[01:21:01.0000] <mhausenblas>
hehe Hixie, this is the only (main) difference where I seriously disagree with you ;)

[01:21:02.0000] <eseidel>
jgraham: abarth and I have written all the tests.  as far as I'm concerned, they're public domain

[01:21:03.0000] <Hixie>
we're talking trillions of dollars, and serious political upheaval

[01:21:04.0000] <eseidel>
jgraham: I'm 100% certain abarth feels the same

[01:21:05.0000] <mhausenblas>
but it's happening (see data.gov.uk and data.gov, just to mention a few)

[01:22:00.0000] <eseidel>
jgraham: note, we don't pass quite all of them yet: http://trac.webkit.org/browser/trunk/LayoutTests/html5lib/runner-expected-html5.txt

[01:22:01.0000] <Hixie>
mhausenblas: oh individual places will provide data in structured form, sure

[01:22:02.0000] <mhausenblas>
and I'm not talking so much about the individuals producing structured data

[01:22:03.0000] <mhausenblas>
hehe

[01:22:04.0000] <jgraham>
eseidel: Sure :) It might be better for you to add them yourselves to the html5lib repository for the avoidance of doubt though

[01:22:05.0000] <mhausenblas>
my reasoning is very simple:

[01:22:06.0000] <eseidel>
jgraham: https://spreadsheets.google.com/ccc?key=0AlC4tS7Ao1fIdEo0SFdLaVpiclBHMVNQcHlTenV5TEE&hl=en is our status

[01:22:07.0000] <Hixie>
mhausenblas: but they will be rare enough that it's easier to write per-site hard-coded interpreters, and thus it's easier to use dedicated database formats for each one, than to try to embed the data in HTML each time

[01:22:08.0000] <jgraham>
eseidel: Also, I added some more tests to the html5lib repo recently

[01:23:00.0000] <jgraham>
So you might want to pull

[01:23:01.0000] <Hixie>
mhausenblas: trying to crawl the data out of the HTML only makes sense if the vast majority of the web is using this, which is what i don't think will happen

[01:23:02.0000] <eseidel>
jgraham: good!  we would love to pass them!

[01:23:03.0000] <mhausenblas>
if you (== company, gov agency, whatever) already have HTML out there, why not putting a bit more structure into it (+links)

[01:23:04.0000] <mhausenblas>
right

[01:23:05.0000] <Hixie>
mhausenblas: if you (== company, gov agency, whatever) already have data, why not just put it out there in its native form? (e.g. a SQL database)

[01:23:06.0000] <mhausenblas>
true

[01:23:07.0000] <Hixie>
that'd be a bazillion times easier to deal with in practice

[01:24:00.0000] <Hixie>
it's not like these sites are all using the same useful vocabularies

[01:24:01.0000] <mhausenblas>
but then you're putting it on the Web, not in the Web

[01:24:02.0000] <Hixie>
sure but who cares

[01:24:03.0000] <mhausenblas>
well, it's not utilising the most important feature of the Web

[01:24:04.0000] <mhausenblas>
the links

[01:24:05.0000] <mhausenblas>
:D

[01:24:06.0000] <mhausenblas>
(and for the record: I do care ;)

[01:24:07.0000] <Hixie>
what matters is what the end user benefit is, not whether we're doing things theoretically correctly or in architecturally correct ways

[01:24:08.0000] <mhausenblas>
exactly

[01:25:00.0000] <mhausenblas>
Hixie, whatz your take on OData?

[01:25:01.0000] <Hixie>
better to have a bunch of dedicated sql queries than to try to reuse HTML because it's "in the web not on the web"

[01:25:02.0000] <Hixie>
OData?

[01:25:03.0000] <Hixie>
whatz?

[01:25:04.0000] <mhausenblas>
come on ...

[01:25:05.0000] <mhausenblas>
you do know MS OData? based on Atom?

[01:26:00.0000] <jgraham>
eseidel: Just send me the google account email addresses that you and abarth use and I will add you to the committers list

[01:26:01.0000] <mhausenblas>
s/whatz/what's

[01:26:02.0000] <Hixie>
one quick google search later, and i have a vague idea

[01:26:03.0000] <mhausenblas>
right

[01:26:04.0000] <Hixie>
no opinion, not sure what the point is though

[01:26:05.0000] <Hixie>
what's wrong with mysql dumps?

[01:26:06.0000] <mhausenblas>
nothing wrong

[01:26:07.0000] <mhausenblas>
just requires a lot of manual work to intregrate

[01:26:08.0000] <Hixie>
i mean, atom is hardly the best format for transferring a terabyte of climate data

[01:26:09.0000] <mhausenblas>
good point

[01:26:10.0000] <Hixie>
this is the argument i have a problem with

[01:26:11.0000] <mhausenblas>
neither is RDF ;)

[01:27:00.0000] <Hixie>
sql "just requires a lot of manual work to intregrate"

[01:27:01.0000] <Hixie>
so does everythinge lse

[01:27:02.0000] <mhausenblas>
no

[01:27:03.0000] <Hixie>
because nobody is using the same vocabulary as everyone else

[01:27:04.0000] <mhausenblas>
Webish formats don't

[01:27:05.0000] <Hixie>
you still have to hardcode everything

[01:27:06.0000] <Hixie>
well anyway

[01:27:07.0000] <Hixie>
i have no problem with people trying to solve this problem

[01:27:08.0000] <Hixie>
i just don't think it's worth my time :-)

[01:27:09.0000] <mhausenblas>
hehe, fair enough

[01:27:10.0000] <Hixie>
better to spend the time making computers be able to do this via natural language processing, imho

[01:27:11.0000] <mhausenblas>
just an aside: even Google is going into this business

[01:28:00.0000] <mhausenblas>
(see Fusion Tables)

[01:28:01.0000] <Hixie>
yes, i'm friends with the program manager of the fusion tables team

[01:28:02.0000] <mhausenblas>
interesting

[01:28:03.0000] <mhausenblas>
and?

[01:28:04.0000] <Hixie>
and nothing :-)

[01:28:05.0000] <mhausenblas>
/me was waiting for some dirty background stories

[01:28:06.0000] <Hixie>
google does many things

[01:28:07.0000] <mhausenblas>
indeed

[01:29:00.0000] <mhausenblas>
anyway, thanks for your time Hixie  - hope to proof you wrong in some 5-10y :D

[01:29:01.0000] <Hixie>
good luck :-)

[01:29:02.0000] <mhausenblas>
hehe, thanks, will need it

[01:30:00.0000] <mhausenblas>
and, MikeSmith if you find someone to drive this, plz lemme know

[01:30:01.0000] <MikeSmith>
will do

[01:30:02.0000] <mhausenblas>
tx!

[01:30:03.0000] <MikeSmith>
maybe kennyluck will have some ideas

[01:30:04.0000] <kennyluck>
What was the discussion?

[01:32:00.0000] <MikeSmith>
kennyluck: see the logs

[01:32:01.0000] <kennyluck>
/me is reading.

[01:33:00.0000] <kennyluck>
/me has the feeling that he spends too much time in the IRC world. :)

[01:57:00.0000] <kennyluck>
I have to say I am super surprised by the fact that Hixie is not that into the "machine-readible" idea.

[01:57:01.0000] <kennyluck>
Then what is Microdata for, I wonder.

[01:57:02.0000] <kennyluck>
Anyway, I go for a fundamental change to computer-science education.

[01:57:03.0000] <Hixie>
lots of people disagree with me

[01:57:04.0000] <Hixie>
microdata is for them, in case i'm wrong

[01:58:00.0000] <kennyluck>
A class on HTML should be required for every collegue student. :)

[01:58:01.0000] <kennyluck>
Hmm... who are they? Hixie? In this channel?

[01:58:02.0000] <Hixie>
kennyluck: mhausenblas, for one

[01:59:00.0000] <Hixie>
tantek is another

[01:59:01.0000] <Hixie>
all the people who sent in use cases for microdata

[01:59:02.0000] <Hixie>
microdata is one of the areas of the spec for which i was the most explicit in terms of writing the use cases i was aiming for

[01:59:03.0000] <Hixie>
(mostly because it was so hard to get anyone to give me actual use cases)

[02:00:00.0000] <kennyluck>
Ah ha.

[02:01:00.0000] <Hixie>
see http://lists.w3.org/Archives/Public/public-html/2009May/0207.html

[02:01:01.0000] <kennyluck>
I am just very interested in the origin of Microdata, I guess.

[02:02:00.0000] <Hixie>
that e-mail is the index to the e-mails that are the origin of microdata

[02:02:01.0000] <kennyluck>
Thank you, Hixie. 

[02:02:02.0000] <Hixie>
it's interesting to note that most of the use cases for which microdata is designed are not the use cases that people are always trying to say RDF and co will save the world for

[02:03:00.0000] <Hixie>
but that's another story

[02:03:01.0000] <kennyluck>
I guess #swig people should have joined the discussion at the beginning with #whatwg, and we might have had some consesus or something.

[02:03:02.0000] <kennyluck>
Sure

[02:03:03.0000] <Hixie>
i invited -- begged for, even -- feedback for like a year on the whatwg list

[02:03:04.0000] <Hixie>
before doing anything

[02:04:00.0000] <Hixie>
it was like pulling teeth

[02:04:01.0000] <Hixie>
i've never had so much trouble getting people to tell me what they wanted

[02:04:02.0000] <kennyluck>
OK. I feel sorry, really.

[02:04:03.0000] <Hixie>
it was like everyone thought it was obvious that RDF would solve the world's problems and bring world peace, but nobody could articulate a single concrete use case

[02:04:04.0000] <Hixie>
anyway

[02:05:00.0000] <kennyluck>
I noticed that #swig consists of almost academics, so.

[02:05:01.0000] <kennyluck>
Well, anyway.

[02:07:00.0000] <kennyluck>
FYI, the RDB2RDF effort aligned with your SQL dump idea, I think, Hixie.

[02:07:01.0000] <kennyluck>
We need a standardized format for dumping, anyway.

[02:07:02.0000] <Hixie>
why?

[02:08:00.0000] <kennyluck>
Although ofcourse RDF might be a poor choice.

[02:08:01.0000] <kennyluck>
standardized format for dumping?

[02:08:02.0000] <Hixie>
yeah

[02:08:03.0000] <kennyluck>
Well, this is what standardization is for, isn't it?

[02:08:04.0000] <Hixie>
what's the use case for which you need a standardised format for dumping... what? any relational database?

[02:09:00.0000] <kennyluck>
Yeah.

[02:09:01.0000] <Hixie>
why are you going to need the same format for 2GB of climate data and 1PB of mars imagery and 100MB of number station logs?

[02:10:00.0000] <kennyluck>
Hmm.. to save time for processing?

[02:10:01.0000] <kennyluck>
Becuase we really like "mashups" to happen.

[02:10:02.0000] <Hixie>
you think the format part of this is going to be where the complexity lies?

[02:10:03.0000] <kennyluck>
In a large scale, so saving processing time is a good thing to do.

[02:10:04.0000] <Hixie>
this is what gets me about the whole semantic web

[02:11:00.0000] <Hixie>
it's solving one problem -- the syntax the data should be in -- despite that being the single simplest part of the entire problem

[02:11:01.0000] <Hixie>
it's trivial to write a custom parser for each format you want to mash up

[02:11:02.0000] <Hixie>
the hard part is the UI and the data processing once you've parsed the data

[02:11:03.0000] <kennyluck>
But since you are not likely to give the parser to other people, so...

[02:11:04.0000] <Hixie>
who cares what the format is -- that's at most an hour or two to parse the incoming data, and in all likelihood less since most data sources will already have libraries to parse their data formats

[02:12:00.0000] <Hixie>
that is, to write the parser to parse

[02:12:01.0000] <kennyluck>
This is arguable, I am not very sure.

[02:13:00.0000] <Hixie>
it's like looking at the problem of how to solve world hunger, and doing it by standardising the seat belts in the trucks that will be used to carry the food

[02:13:01.0000] <Hixie>
and then saying that the problem is not essentially solved

[02:13:02.0000] <Hixie>
s/not/now/

[02:13:03.0000] <kennyluck>
The Google Official Blog has an article explaining "machine-readability"

[02:13:04.0000] <kennyluck>
It's the data provider who understands the data well.

[02:13:05.0000] <Hixie>
yeah, not everyone at google agrees with me either :-)

[02:14:00.0000] <kennyluck>
So the data provider ought to convert the data to something that everyone can parse easiliy.

[02:14:01.0000] <Hixie>
sure, but that doesn't have to be anything standard

[02:14:02.0000] <Hixie>
they can just provide the data in a MySQL IASM data table for all i care

[02:14:03.0000] <Hixie>
then all you have to do is install MySQL and use that locally

[02:14:04.0000] <Hixie>
30 minutes of work assuming MySQL is already installed

[02:15:00.0000] <Hixie>
anyway

[02:15:01.0000] <kennyluck>
Maybe.

[02:15:02.0000] <kennyluck>
Anyway, thanks for your links.

[02:15:03.0000] <Hixie>
my point is just that that seems like such a trivial part of the problem space that i don't understand why it's the main thing everyone is always talking about

[02:17:00.0000] <kennyluck>
This is quite fundamental. Even with NLP, you still need a regular data structure to store your processed data.

[02:17:01.0000] <kennyluck>
The Semantic Web effort basiclly asks you to provide your NLP result, I guess.

[02:17:02.0000] <Hixie>
yes, but what is useful for one NLP system isn't going to be useful for another

[02:18:00.0000] <Hixie>
to put it in an obvious form: RDF isn't the ideal format for bitmaps, for example

[02:18:01.0000] <kennyluck>
Google's NLP system is certainly useful for everyone. :)

[02:18:02.0000] <Hixie>
so if your NLP system outputs a bitmap, then RDF isn't going to help

[02:18:03.0000] <Hixie>
if your NLP system happens to output a quad graph, then sure, it might help

[02:18:04.0000] <Hixie>
if it outputs a tree, then JSON might be better

[02:18:05.0000] <kennyluck>
Hixie, this is not likely to be the truth. (ref. NLP system outputs bitmaps)

[02:19:00.0000] <Hixie>
it's just an extreme example

[02:19:01.0000] <Hixie>
but it's not that unlikely, consider e.g. google image search

[02:19:02.0000] <Hixie>
or google goggles, whose input is a bitmap

[02:19:03.0000] <kennyluck>
Hmm...

[02:20:00.0000] <Hixie>
or even moving video

[02:20:01.0000] <kennyluck>
We are talking about outputs.

[02:20:02.0000] <Hixie>
or youtube's autotranscription -- input is audio, output is timed track data

[02:20:03.0000] <Hixie>
neither side of which is optimally represented by RDF

[02:21:00.0000] <Hixie>
different problems have different ideal formats

[02:21:01.0000] <kennyluck>
Sure. But timed track data could be serialized into RDF.

[02:21:02.0000] <Hixie>
sure

[02:21:03.0000] <Hixie>
so could a bitmap

[02:21:04.0000] <kennyluck>
Ofcourse, audios can not.

[02:21:05.0000] <Hixie>
but it's not the optimal form

[02:21:06.0000] <kennyluck>
Come on.

[02:21:07.0000] <Hixie>
and why would you use a suboptimal form?

[02:21:08.0000] <kennyluck>
Why do you use HTML when docx is better?

[02:22:00.0000] <Hixie>
i disagree with the premise of the question

[02:22:01.0000] <kennyluck>
Sorry.

[02:22:02.0000] <Hixie>
(a) that one should always use HTML, and (b) that DOCX is always better

[02:22:03.0000] <Hixie>
when you're writing a document in a word processor, HTML is not the ideal format, and using it would imho be a bad idea

[02:22:04.0000] <kennyluck>
I mean, this is what standardization is, isn't it?

[02:22:05.0000] <kennyluck>
Sure.

[02:22:06.0000] <Hixie>
what is what standardization is?

[02:23:00.0000] <kennyluck>
But Semantic Web is about asking people to build mashups.

[02:23:01.0000] <kennyluck>
Like HTML is about asking everyone in the world to view it.

[02:24:00.0000] <kennyluck>
If you don't want people to view it, you don't output HTML. If you don't want people to do mashup based on your data, you don't output RDF.

[02:24:01.0000] <Hixie>
I don't think RDF is useful for creating mashups personally

[02:24:02.0000] <Hixie>
and i don't know what "HTML is about asking everyone in the world to view it" means

[02:24:03.0000] <kennyluck>
Anyway, I welcome JSON as well.

[02:25:00.0000] <Hixie>
there's nothing special or useful about JSON compared to RDF

[02:25:01.0000] <Hixie>
they're both just formats, which may or may not be useful in any given scenario

[02:25:02.0000] <Hixie>
the difference is that JSON advocates don't sell JSON as the solution to humanity's woes

[02:25:03.0000] <kennyluck>
JSON is better than HTML for building mashups.

[02:25:04.0000] <Hixie>
i have no idea what that means

[02:26:00.0000] <Hixie>
that's like saying pears are better than shoes for drawing maps

[02:27:00.0000] <Smylers2>
Boots are even better if it's a map of Italy you're drawing — you could lay it flat and trace round it.

[02:28:00.0000] <kennyluck>
I just want to mention we benefit a lot from the fact that HTML is so universal.

[02:28:01.0000] <Hixie>
Smylers2: and pears are good if you're drawing a map of hungary

[02:28:02.0000] <Hixie>
Smylers2: since you can eat pears

[02:29:00.0000] <Hixie>
kennyluck: sure, but HTML is a vocabulary, not a data model

[02:29:01.0000] <kennyluck>
It's of course not an optimal format for lots of things.

[02:29:02.0000] <Hixie>
kennyluck: HTML is to XML what Foaf is to RDF

[02:29:03.0000] <kennyluck>
But I still write my presentation in HTML.

[02:29:04.0000] <Hixie>
kennyluck: Foaf has clear use cases

[02:29:05.0000] <Hixie>
kennyluck: just like RDF has clear use cases

[02:29:06.0000] <Hixie>
er

[02:29:07.0000] <Hixie>
kennyluck: just like HTML has clear use cases

[02:30:00.0000] <Hixie>
RDF and XML, however, are metaformats

[02:30:01.0000] <Hixie>
and alone are just tools

[02:30:02.0000] <Hixie>
like JSON

[02:30:03.0000] <Hixie>
or MySQL IASM

[02:31:00.0000] <Hixie>
advocating that everyone should use Foaf for the specific use cases that Foaf addresses makes a lot more sense than advocating that everyone should use RDF

[02:31:01.0000] <kennyluck>
Alright.

[02:32:00.0000] <kennyluck>
I always prefer this approach, actullay.

[02:32:01.0000] <kennyluck>
FOAF and then RDF.

[02:32:02.0000] <Hixie>
not FOAF and then RDF

[02:32:03.0000] <Hixie>
just FOAF

[02:32:04.0000] <Hixie>
that FOAF uses RDF is an implementation detail

[02:32:05.0000] <Hixie>
you can't generalise from "use XHTML" to "use XML"

[02:33:00.0000] <Hixie>
you can't generalise from "use FOAF" to "use RDF"

[02:33:01.0000] <kennyluck>
Probably.

[02:33:02.0000] <kennyluck>
Microdata also allows mixing namespaces. So it indeed meets these use cases.

[02:34:00.0000] <Hixie>
microdata is just another RDF serialisation

[02:34:01.0000] <Hixie>
(amongst other things)

[02:35:00.0000] <kennyluck>
Anyway, use cases are important, that I agree with you. 

[03:46:00.0000] <phrearch>
morning

[03:47:00.0000] <phrearch>
i wondered if there is some sort of an agreed standard how to do routing in jsonrpc websockets?

[03:48:00.0000] <phrearch>
i could add uri data like /path/to/handler, but i thought there may be better ways to do this

[03:50:00.0000] <annevk>
jsonrpc websockets?

[03:50:01.0000] <annevk>
websockets is not even an agreed upon standard :)

[03:51:00.0000] <phrearch>
annevk: just thinking how to handle this. i like the django approach of handling urls. maybe i can use something simular for jsonrpc dispatching

[03:52:00.0000] <phrearch>
like calling functions like /path/to/function, and let the jsonrpc handler dispatch to the right function

[03:53:00.0000] <Rik`>
phrearch: http://substack.net/posts/85e1bd/DNode-Asynchronous-Remote-Method-Invocation-for-Node-js-and-the-Browser ?

[03:55:00.0000] <phrearch>
Rik`: thanks, ill take a look how they do things

[03:58:00.0000] <phrearch>
hm interesting stuff about RMI

[03:59:00.0000] <phrearch>
i still need some way to call a function from the server on the client

[04:05:00.0000] <Rik`>
isn't that what DNode provides ?

[04:06:00.0000] <phrearch>
sure, but i'm writing a python/twisted app

[04:07:00.0000] <phrearch>
i like the way they call remote functions in js

[04:17:00.0000] <MikeSmith>
annevk: thanks for the tweaks to the Media Queries spec

[04:26:00.0000] <MikeSmith>
I've been reading up on node.js

[04:26:01.0000] <MikeSmith>
seems like it's really turning into something very useful

[04:26:02.0000] <MikeSmith>
with a big and growing community around it

[04:27:00.0000] <Rik`>
MikeSmith: I find it very useful for my websockets demo :)

[04:27:01.0000] <MikeSmith>
:)

[04:27:02.0000] <Rik`>
(thanks to micheil btw)

[04:28:00.0000] <MikeSmith>
yeah

[04:36:00.0000] <annevk>
is ms2ger on IRC?

[04:36:01.0000] <annevk>
/me would like some rationale behind http://www.w3.org/Bugs/Public/show_bug.cgi?id=10164

[04:41:00.0000] <MikeSmith>
I've never seen ms2ger on IRC

[04:41:01.0000] <MikeSmith>
not under that name at least

[04:41:02.0000] <MikeSmith>
the identity of ms2ger seems to be a mystery

[04:42:00.0000] <MikeSmith>
maybe he/she is somebody who doesn't like realtime communication so much

[04:56:00.0000] <annevk>
hmm, does document.domain make sense in a document created through createDocument() ?

[04:57:00.0000] <annevk>
there's a concept of cookie-free Document objects but maybe that should be generalized

[04:57:01.0000] <annevk>
now document.cookie has that concept and document.domain specifically mentions XMLHttpRequest

[04:57:02.0000] <annevk>
seems somewhat wrong

[05:28:00.0000] <oal>
How would I create a modern, simple, wysiwyg editor for a website? Is an iframe with designMode and execCommand out dated?

[06:15:00.0000] <kennyluck>
Oh, Ms2ger just logged off.

[06:44:00.0000] <annevk>
getComputedStyle defined: http://dev.w3.org/csswg/cssom/#extensions-to-the-window-interface

[06:45:00.0000] <annevk>
finally, took like 3 years or so

[06:45:01.0000] <annevk>
where "3 years" is more like a week spread out over a long time with lots of learning in between, but still

[06:46:00.0000] <Philip`>
"the style rules associated with d." - s/d/doc/ ?

[06:47:00.0000] <annevk>
hmm, I should rename in all places at once

[06:47:01.0000] <annevk>
thanks

[06:48:00.0000] <annevk>
you're not in the acknowledgment list

[06:48:01.0000] <annevk>
weird

[06:48:02.0000] <annevk>
fixed

[06:48:03.0000] <Philip`>
I don't remember commenting on it before

[06:49:00.0000] <annevk>
yeah, it's not really too weird

[06:49:01.0000] <annevk>
there has not been much review at all

[07:19:00.0000] <Ms2ger>
/me waves at annevk 

[07:20:00.0000] <annevk>
hey man

[07:21:00.0000] <annevk>
I see you added a comment :)

[07:22:00.0000] <Ms2ger>
Yeah, I'm just too lazy to file bugs through bugzilla

[07:22:01.0000] <annevk>
fair enough

[07:23:00.0000] <annevk>
you're patching Gecko these days?

[07:23:01.0000] <Ms2ger>
Yes

[07:24:00.0000] <Ms2ger>
And a bit of testing

[07:25:00.0000] <annevk>
nice

[07:25:01.0000] <annevk>
converging is taking quite some time, but it's actually happening these days, which is a nice change

[07:26:00.0000] <pleb1985>
I have tried googling but I gave up after 10 minutes and thought I could ask here instead: is video+audio live upstream possible with proposed html5-related technologies?

[07:27:00.0000] <annevk>
with proposed technologies yes

[07:27:01.0000] <annevk>
but nothing is actually implemented or done with respect to that

[07:27:02.0000] <pleb1985>
which should I be looking at?

[07:28:00.0000] <annevk>
I think you want to start by reading this email: http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-July/027129.html

[07:28:01.0000] <pleb1985>
presumably there's lots of butthurt going on around codecs etc?

[07:29:00.0000] <annevk>
no discussion yet actually

[07:29:01.0000] <pleb1985>
i'd use more mature terminology but I'm not sure that's really necessary/appropriate

[07:29:02.0000] <pleb1985>
;)

[07:29:03.0000] <annevk>
heh

[07:29:04.0000] <pleb1985>
is it likely there will be wg for that?

[07:29:05.0000] <annevk>
I hope we can just use VP8 but dunno

[07:30:00.0000] <annevk>
the other problem is network protocols

[07:30:01.0000] <pleb1985>
Ian is the web equivalent of neo from the matrix so wrt VP8:

[07:30:02.0000] <pleb1985>
I believe.

[07:30:03.0000] <annevk>
well, for your scenario I guess WebSocket+VP8+<device> is enough

[07:30:04.0000] <annevk>
so not much network protocol trouble

[07:31:00.0000] <annevk>
but P2P...

[07:31:01.0000] <pleb1985>
client server is fine :)}

[07:32:00.0000] <zcorpan_>
annevk: websockets does messages, not streams

[07:32:01.0000] <annevk>
zcorpan_, streams are just message blocks, no?

[07:33:00.0000] <zcorpan_>
annevk: on the network, yeah i guess, but the current api for websockets is not appropriate for sending streams

[07:34:00.0000] <annevk>
hmm

[07:34:01.0000] <annevk>
socket.send(Stream)

[07:34:02.0000] <annevk>
i think it'll work fine

[07:34:03.0000] <zcorpan_>
not with how it's currently defined :)

[07:35:00.0000] <annevk>
well it's not defined yet for Stream objects

[07:35:01.0000] <annevk>
but I'm pretty sure that is how it's going to work

[07:36:00.0000] <zcorpan_>
would you abort sending a stream if you invoke send() again?

[07:36:01.0000] <annevk>
I'm not sure it's worth to discuss the specifics now :)

[07:38:00.0000] <annevk>
And I suppose we could define a new API as well if that turns out to make more sense

[07:39:00.0000] <pleb1985>
socket's a bad name then eh? :)

[07:53:00.0000] <pleb1985>
annevk: i assume there's a lot of enthusiasm for <device> .. ?

[07:53:01.0000] <pleb1985>
well, everyone other than the flash camp ;)

[07:55:00.0000] <annevk>
pleb1985, people certainly want a feature like that, yes

[07:55:01.0000] <pleb1985>
.. and the UA guys?

[07:56:00.0000] <annevk>
I think we do too, but there's plenty of other stuff that requires attention too

[07:56:01.0000] <pleb1985>
for sure, I think you'll get more mileage from that than web sockets

[07:57:00.0000] <annevk>
I guess there are some uses for just having camera input and no dedicated network integration, but you really want network integration for most use cases

[07:58:00.0000] <pleb1985>
mmm, what sort of timescales would you expect on something like that?

[07:58:01.0000] <pleb1985>
year?

[07:59:00.0000] <annevk>
dunno really

[07:59:01.0000] <pleb1985>
fair enough :)

[08:00:00.0000] <annevk>
if we had a few implementors and a set of people hashing out the network protocol that would be likely, but so far there's not much of that

[08:05:00.0000] <pleb1985>
implementors on the server side?

[08:06:00.0000] <pleb1985>
or you mean UA side and by 'we' you mean whatwg

[08:06:01.0000] <pleb1985>
it's confusing. ;)

[08:11:00.0000] <annevk>
on the user agent side

[08:12:00.0000] <pleb1985>
fwiw, I'd like to see something happen there :)

[08:14:00.0000] <foolip>
I'm not sure I understand why <device> needs to be an element, is it expected to have any rendering or do anything useful without scripts involved?

[08:15:00.0000] <pleb1985>
I guess to ease detection ?

[08:16:00.0000] <foolip>
detection of what, by whom?

[08:16:01.0000] <pleb1985>
of the requirement for device connectivity

[08:16:02.0000] <pleb1985>
to the user

[08:17:00.0000] <annevk>
foolip, see the email

[08:17:01.0000] <foolip>
annevk, I read the email, after which I asked myself above question

[08:17:02.0000] <annevk>
foolip, Ian thinks this way you can design the best "interactive UI"

[08:17:03.0000] <pleb1985>
foolip: you're saying you would sink that type of GUI into the browser instead, similar to http auth?

[08:18:00.0000] <annevk>
foolip, i.e. that the user actually knows what he just did

[08:18:01.0000] <jgraham>
foolip: I thought the idea was to have some UI for accessing the device associated with the element

[08:18:02.0000] <foolip>
ok, so browser-specific (probably ugly) rendering of <device> ?

[08:18:03.0000] <annevk>
foolip, yes, like <input type=file>

[08:18:04.0000] <jgraham>
foolip: Something like input type="file"

[08:19:00.0000] <jgraham>
Well at least our story is consistent :)

[08:19:01.0000] <annevk>
where is this mercurial w3c thing?

[08:19:02.0000] <annevk>
plh wants me to create a XHR placeholder file

[08:20:00.0000] <annevk>
I wonder if I have an account there

[08:20:01.0000] <annevk>
if not this sounds like way too much work

[08:20:02.0000] <foolip>
If one is going to do video conferencing then surely one doesn't want an unstylable chunk of <device> ruining the design?

[08:20:03.0000] <foolip>
of course <input type=file> has the same problem

[08:20:04.0000] <annevk>
an infobar too

[08:20:05.0000] <annevk>
doesn't seem like such a big deal

[08:22:00.0000] <MikeSmith>
list of w3c mercurial repos is here:

[08:22:01.0000] <MikeSmith>
http://dvcs.w3.org/hg

[08:22:02.0000] <MikeSmith>
push access is by normal w3c username+password

[08:23:00.0000] <MikeSmith>
auth on that is per-WG, done by checking the w3c user groups db

[08:23:01.0000] <annevk>
oh

[08:23:02.0000] <annevk>
/me tried dcvs :)

[08:24:00.0000] <annevk>
now I have to learn hg

[08:24:01.0000] <annevk>
crap

[08:24:02.0000] <annevk>
quite a bit of make work imo

[08:24:03.0000] <jgraham>
http://hginit.com/

[08:25:00.0000] <jgraham>
It is _so_much_ better than CVS

[08:25:01.0000] <annevk>
/me installs mercurial

[08:25:02.0000] <Philip`>
jgraham: You could say that about pretty much anything

[08:25:03.0000] <jgraham>
Well worth it as soon as you have even the barest glimmer of understanding

[08:25:04.0000] <annevk>
I only use CVS as changelog

[08:25:05.0000] <jgraham>
Philip`: I do :)

[08:25:06.0000] <annevk>
and offsite storage facility

[08:26:00.0000] <MikeSmith>
here's the tutorial: hg clone, .. make changes.., hg commit, hg push ... then hg pull, .. make changes.. repeat

[08:26:01.0000] <MikeSmith>
oh, with some hg merge thrown in

[08:26:02.0000] <Philip`>
Unless someone else changes the repository, then you need to pull and up and merge if you already committed?

[08:27:00.0000] <jgraham>
It is pretty good about telling you what you need to do

[08:27:01.0000] <jgraham>
It might just take a while to get the mental model

[08:27:02.0000] <MikeSmith>
Philip`: no, not if nobody's changed anything

[08:27:03.0000] <annevk>
oh god

[08:27:04.0000] <jgraham>
annevk: What's the problem

[08:28:00.0000] <annevk>
complexity

[08:28:01.0000] <annevk>
so I created w3c-hg, I run hg-init in there?

[08:28:02.0000] <jgraham>
It's not that bad

[08:28:03.0000] <annevk>
euh, without the dash?

[08:28:04.0000] <jgraham>
You are cloning an existing repository

[08:28:05.0000] <jgraham>
You just run hg clone http://url/of/repo

[08:29:00.0000] <jgraham>
hg init is only needed to create one from scratch

[08:29:01.0000] <annevk>
so within w3c-hg I run hg clone http://dvcs.w3.org/hg/webapps/ ?

[08:29:02.0000] <annevk>
or should I create a folder webapps first?

[08:29:03.0000] <annevk>
I guess I should

[08:29:04.0000] <jgraham>
No need to create the folder first

[08:29:05.0000] <annevk>
ok

[08:30:00.0000] <annevk>
how do I add a folder via hg?

[08:30:01.0000] <jgraham>
Just do hg clone

[08:30:02.0000] <MikeSmith>
annevk: you can't create top-level folders

[08:30:03.0000] <jgraham>
You mean add a folder to the repository?

[08:30:04.0000] <annevk>
yes

[08:30:05.0000] <MikeSmith>
we have to ask systems team to add one

[08:30:06.0000] <annevk>
MikeSmith, inside webapps

[08:30:07.0000] <jgraham>
MikeSmith: Really?

[08:30:08.0000] <MikeSmith>
annevk: oh

[08:31:00.0000] <jgraham>
annevk: Just create a folder and do hg add /path/to/folder

[08:31:01.0000] <MikeSmith>
didn't knwo PLH had added that

[08:31:02.0000] <MikeSmith>
jgraham: can't create them there at least

[08:31:03.0000] <MikeSmith>
but any webapps WG member can create within the webapps folder

[08:31:04.0000] <Philip`>
Or just hg add /path/to/folder/file and it'll automatically add the folder if needed

[08:31:05.0000] <jgraham>
MikeSmith: That's creating whole repositories isn't it?

[08:32:00.0000] <MikeSmith>
jgraham: yeah

[08:32:01.0000] <jgraham>
MikeSmith: Right, I would imagine that is harder :)

[08:33:00.0000] <variable>
http://hginit.com/ --> a decent hg tutorial

[08:34:00.0000] <annevk>
I did hg commit but hg push doesn't work

[08:34:01.0000] <annevk>
method not allowed

[08:35:00.0000] <Philip`>
Has it asked for a username/password yet?

[08:35:01.0000] <annevk>
at one point during commit and I provided my W3C username

[08:35:02.0000] <annevk>
didn't ask for anything since

[08:35:03.0000] <annevk>
password it might pull out of .ssh?

[08:35:04.0000] <jgraham>
Commit shouldn't have asked for username

[08:35:05.0000] <annevk>
just like it does for CVS?

[08:36:00.0000] <jgraham>
Since it only changes things in your local repository

[08:36:01.0000] <annevk>
well, it did the first time

[08:36:02.0000] <Philip`>
I've got it set up with ~/.hgrc containing:

[08:36:03.0000] <Philip`>
[auth]

[08:36:04.0000] <Philip`>
w3c.prefix = dvcs.w3.org/hg/

[08:36:05.0000] <Philip`>
w3c.username = blahblah

[08:36:06.0000] <Philip`>
w3c.password = blahblah

[08:36:07.0000] <jgraham>
That is very surprising, no?

[08:36:08.0000] <MikeSmith>
annevk: it doesn't use ssh at all

[08:36:09.0000] <annevk>
i have no idea

[08:36:10.0000] <annevk>
i don't know how this works

[08:37:00.0000] <annevk>
but i'm learning slowly

[08:37:01.0000] <jgraham>
annevk: You have a copy of the whole repository and all the history locally

[08:37:02.0000] <jgraham>
Making a checkin changes your local copy of the repository

[08:38:00.0000] <annevk>
sure sure

[08:38:01.0000] <annevk>
i'm just saying what happened

[08:38:02.0000] <jgraham>
Later you push the changes to the remote

[08:39:00.0000] <annevk>
Philip`, added that file, still failing in the same way

[08:40:00.0000] <Philip`>
It might be that you need the https:// URL

[08:40:01.0000] <Philip`>
rather than http://

[08:41:00.0000] <annevk>
hmm

[08:41:01.0000] <Philip`>
You can just edit .hg/hgrc in the checkout directory

[08:41:02.0000] <Philip`>
(I think)

[08:41:03.0000] <Philip`>
to change to https

[08:41:04.0000] <jgraham>
You can

[08:42:00.0000] <Philip`>
(Unlike SVN, which needs some crazy --relocate thing that rewrites your whole working copy)

[08:42:01.0000] <annevk>
it asks for username again...

[08:43:00.0000] <annevk>
(I started over)

[08:43:01.0000] <annevk>
but now it worked

[08:43:02.0000] <annevk>
is there a version where all this is checked out?

[08:44:00.0000] <annevk>
hg serve?

[08:44:01.0000] <annevk>
/me finds http://test.w3.org/webapps/

[08:44:02.0000] <MikeSmith>
http://dvcs.w3.org/hg/webapps/file/eda29ce012e3/XMLHttpRequest/

[08:44:03.0000] <MikeSmith>
http://dvcs.w3.org/hg/webapps/raw-file/eda29ce012e3/XMLHttpRequest/info.htm

[08:45:00.0000] <annevk>
but that's a static link no?

[08:45:01.0000] <annevk>
where's the latest version?

[08:45:02.0000] <Philip`>
http://dvcs.w3.org/hg/webapps/file/tip/XMLHttpRequest/ if you want the latest

[08:45:03.0000] <annevk>
so what's test.w3.org/webapps/ ?

[08:46:00.0000] <annevk>
so http://dvcs.w3.org/hg/webapps/raw-file/tip/XMLHttpRequest/info.htm

[08:46:01.0000] <annevk>
hmm

[08:48:00.0000] <annevk>
how do you move files?

[08:48:01.0000] <Philip`>
hg mv

[08:51:00.0000] <annevk>
god it requests my username for each commit

[08:51:01.0000] <annevk>
but not for hg push

[08:51:02.0000] <annevk>
silly as hell

[08:55:00.0000] <Philip`>
You probably want to edit ~/.hgrc again, to say

[08:55:01.0000] <Philip`>
[ui]

[08:55:02.0000] <Philip`>
username = Blah Blah <blah⊙bb>

[08:55:03.0000] <Philip`>
so it knows what name to give you in the commit logs

[08:56:00.0000] <annevk>
can be a different username?

[08:56:01.0000] <annevk>
/me tries

[08:56:02.0000] <Philip`>
It can be anything

[08:56:03.0000] <Philip`>
I don't know if it has to be an email address but that seems conventional

[08:57:00.0000] <annevk>
you win the interwebs

[08:57:01.0000] <annevk>
i did annevk <annevk⊙oc>

[08:58:00.0000] <Philip`>
You can put other people's names in commits to your local repository, and when you push to the W3C repository it'll just trust the commits that you're pushing

[08:59:00.0000] <Philip`>
/me doesn't know whether there's anywhere that records who actually pushed a change

[10:18:00.0000] <oal>
I asked this earlier, but I didn't get any response: If I want to make a simple wysiwyg/rich editor with html5-ish technology, where should I start? Are iframes and execCommand out dated?

[10:36:00.0000] <boblet>
oal: things should pick up in ~4 hours, maybe try asking again in a bit

[10:37:00.0000] <oal>
boblet, ok thank you :)

[10:37:01.0000] <oal>
At least it was a reply ;)

[10:37:02.0000] <boblet>
sorry I can’t help

[10:37:03.0000] <boblet>
heh

[10:41:00.0000] <AryehGregor>
oal, I'm not an expert, but contenteditable, designMode, execCommand, this is what you should be looking at, yes.

[10:42:00.0000] <AryehGregor>
(you can do much more complicated stuff using canvas, but you'd have to implement it all from scratch; this is what Bespin does)

[10:42:01.0000] <AryehGregor>
Hah, Google thinks the contents of Bespin's website is "Loading...": http://www.google.com/search?q=bespin

[10:42:02.0000] <AryehGregor>
That's what you get for not having fallback.

[10:42:03.0000] <oal>
AryehGregor, I've been experimenting with a div+contenteditable, but I'm unable to get selecting/applying effects correctly

[10:43:00.0000] <AryehGregor>
I don't know how interoperably implemented all this stuff is in practice.

[10:43:01.0000] <AryehGregor>
I do know that it's what people generally use for this.

[10:43:02.0000] <AryehGregor>
If you had a specific question, maybe you could ask that, someone might know the answer.

[10:44:00.0000] <Philip`>
oal: Why do you not want to reuse one of the existing WYSIWYG HTML editors?

[10:45:00.0000] <oal>
Philip`, because I need something that can "float" on an existing page, not with static, locked toolbars etc

[10:46:00.0000] <oal>
And I don't need all the features of CKeditor and the "big" ones

[11:03:00.0000] <oal>
Should I use <strong> or <b> in html5?

[11:04:00.0000] <Philip`>
Depends on the semantics of your content

[11:05:00.0000] <oal>
Philip`, in which ways?

[11:05:01.0000] <Philip`>
They mean different things, as defined by the spec

[11:05:02.0000] <oal>
Ok, I'll look it up

[11:15:00.0000] <boblet>
oal: http://html5doctor.com/i-b-em-strong-element

[11:16:00.0000] <boblet>
Philip`: “Why do you not want to reuse one of the existing WYSIWYG HTML editors?” because they’re all unmitigated shite?

[11:16:01.0000] <blue_oak>
Does anyone know why the string to number and number to string conversion algorithms are written as they are when the input element is in the Date and time state?

[11:16:02.0000] <boblet>
well partially mitigated by trying to support older browsers

[11:17:00.0000] <boblet>
but anything using Word as a UI metaphor to emulate should be put down (mercy killing)

[11:17:01.0000] <oal>
boblet, thanks. :)

[11:17:02.0000] <boblet>
oal: heh, np. always easy to recommend your own stuff ;-)

[11:18:00.0000] <oal>
bobchao, is that your site?

[11:18:01.0000] <bobchao>
oal: boblet I think? :)

[11:18:02.0000] <boblet>
oal: I’m one of the authors yep

[11:18:03.0000] <boblet>
bobchao: namespace collision!

[11:18:04.0000] <oal>
bobchao, sorry mate. Tab doesn't always react the way I want :P

[11:19:00.0000] <TabAtkins>
xmlns=http://www.example.com/names#bob

[11:19:01.0000] <bobchao>
boblet: true, haha actually this is the second time :P

[11:19:02.0000] <oal>
boblet, looks like a good source for html5 stuff. thank you

[11:19:03.0000] <boblet>
heh. I have the same problem with mike][inq and MikeSmith 

[11:20:00.0000] <boblet>
oal: it’s a superlative resource! and I don’t only say that because some of the articles are mine ;-)

[11:20:01.0000] <boblet>
honest!

[11:20:02.0000] <oal>
Yes, I'll definitely use it again :)

[11:24:00.0000] <boblet>
oal:if you can make something that’s not 

[11:24:01.0000] <boblet>
woops

[11:24:02.0000] <oal>
Wrong channel?

[11:25:00.0000] <boblet>
oal: if you can make something that outputs decent code and doesn’t look as ugly as a MS product, I’ll use it too

[11:25:01.0000] <boblet>
fat-fingered

[11:26:00.0000] <oal>
If I only knew how I should solve all the issues I stumble upon, I might get a decent result, but now things are going sloow...

[11:27:00.0000] <boblet>
oal: hopefully you’ll choose to only support modern browsers, as I’m sure the millstone of ahem older ones doesn’t help current projects any

[11:28:00.0000] <boblet>
oal: one I liked was wmd http://wmd-editor.com/

[11:28:01.0000] <oal>
boblet, definitely will focus most on newer browsers

[11:29:00.0000] <boblet>
oal: regardless I think you’ll need lots of luck (it’d be a touch project) so good luck!

[11:29:01.0000] <boblet>
:)

[11:29:02.0000] <oal>
I know. If I get things going, the goal is to make a simple editor, not anything fancy

[11:34:00.0000] <dandaman>
im trying to set a thing border that will surround my content on my site automatically(so it will depend on the viewer's resolution) is there a way to do that?

[11:34:01.0000] <dandaman>
<body style="border:thin solid #003366;width: 150px">

[11:34:02.0000] <dandaman>
kinda like that

[11:34:03.0000] <dandaman>
except the width not being set

[11:35:00.0000] <TabAtkins>
body { border: thin solid #036; margin: 0 20px; } ?

[11:35:01.0000] <dandaman>
in css

[11:35:02.0000] <dandaman>
?

[11:35:03.0000] <TabAtkins>
Yes.  It's all CSS.

[11:36:00.0000] <dandaman>
it doesnt hug it perfectly

[11:36:01.0000] <dandaman>
but oh well, it works

[11:36:02.0000] <TabAtkins>
I dunno quite what you're exactly asking for.

[11:37:00.0000] <dandaman>
well im doing this for a mobile app

[11:37:01.0000] <dandaman>
so the screen size makes it work

[11:37:02.0000] <dandaman>
thanks

[11:37:03.0000] <TabAtkins>
O...k?

[11:38:00.0000] <AryehGregor>
Why margin: 0 2px; instead of margin: 0;?

[11:39:00.0000] <TabAtkins>
I had no idea what he was asking for, so I went with some margins.

[11:39:01.0000] <TabAtkins>
If he just wanted a literal border on the edges, then yeah, margin:0;.

[11:40:00.0000] <dandaman>
on the edges of the text

[11:40:01.0000] <dandaman>
not on the edges of the browser

[11:40:02.0000] <TabAtkins>
Oh, you want it to wrap whatever you've got?

[11:40:03.0000] <TabAtkins>
Then margin:0 auto;

[11:43:00.0000] <dandaman>
thanks

[11:44:00.0000] <dandaman>
auto did not work :\

[11:44:01.0000] <TabAtkins>
No, it works.  You may be doing something preventing it from working.

[11:44:02.0000] <TabAtkins>
Can you provide a live site and a description of what precisely you're looking for?

[11:46:00.0000] <dandaman>
let me try....

[11:46:01.0000] <dandaman>
http://www.w3.org/TR/REC-CSS1/

[11:46:02.0000] <dandaman>
i guess see how the note is being bordered

[11:46:03.0000] <dandaman>
by that red

[11:46:04.0000] <TabAtkins>
(Also, for future reference, #css is a better channel for these sorts of things.)

[11:46:05.0000] <dandaman>
i want basically that

[11:46:06.0000] <dandaman>
except a border all over everything

[11:46:07.0000] <dandaman>
that fits snugly

[11:46:08.0000] <dandaman>
currently i have all my text centered

[11:46:09.0000] <dandaman>
and the border reaches accross the entire screen

[11:47:00.0000] <TabAtkins>
Yes.

[11:47:01.0000] <dandaman>
which i dont want

[11:47:02.0000] <dandaman>
i want it only close to the text

[11:47:03.0000] <TabAtkins>
Set display:table-cell on the body as well.

[11:48:00.0000] <TabAtkins>
Or rather, display:table, since you still want the margin:0 auto; to apply.

[11:48:01.0000] <dandaman>
AWESOME

[11:48:02.0000] <dandaman>
THANKS

[11:48:03.0000] <dandaman>
sorry caps

[11:48:04.0000] <dandaman>
but you win

[11:48:05.0000] <TabAtkins>
(Eventually you'll be able to use width:fit-content;, but for now you can only do it in FF with width:-moz-fit-content;.)

[11:49:00.0000] <TabAtkins>
Note: won't work on IE7 or earlier.

[11:50:00.0000] <dandaman>
hmm, is there a way to have a different background color within the border and a different bg color outside of the border?

[11:50:01.0000] <TabAtkins>
Set one background on <body>, and one on <html>.

[11:51:00.0000] <dandaman>
good call

[11:56:00.0000] <dandaman>
when i go <html background="#FFFFFF"> it doesnt work, the body style= background takes over the whole page and <html style= "background: #FFFFFF"> makes the page go blank (and when i hit view source there is nothing there)

[11:56:01.0000] <dandaman>
I am using grails to run the server btw

[11:56:02.0000] <dandaman>
dunno if that makes a difference

[11:57:00.0000] <TabAtkins>
Oh, right, sorry.  The <body>'s background is hoisted to the entire viewport, so that won't work.

[11:57:01.0000] <TabAtkins>
In that case, you'll have to create a wrapper, move your current body styling to it, then set the "back" background on <body>.

[11:58:00.0000] <TabAtkins>
Well, hum.  Actually, setting backgrounds on <html> and <body> work fine for me in Chrome.

[11:58:01.0000] <dandaman>
just throw a <div> around everything?

[11:58:02.0000] <TabAtkins>
Worst case, yeah.

[11:58:03.0000] <dandaman>
yeah im doing this on chrome

[11:59:00.0000] <TabAtkins>
Hmm, then.  If I explicitly set a background through <html @style> and <body @style>, they both take effect exactly as expected.

[11:59:01.0000] <dandaman>
div worked

[12:00:00.0000] <dandaman>
might just be grails

[12:00:01.0000] <TabAtkins>
That would be... bizarre.  A server-side framework shouldn't have any effect on how client-side CSS works, unless it's inserting additional CSS without you knowing.

[12:01:00.0000] <TabAtkins>
And when I say "shouldn't" I mean "actually can't, because it's physically impossible".

[12:01:01.0000] <AryehGregor>
My website sets separate backgrounds on <html> and <body>.

[12:02:00.0000] <TabAtkins>
Yeah, I'd messed up.  <body>'s background gets hoisted to the viewport *if* <html> doesn't have a background.

[12:16:00.0000] <TabAtkins>
/me just typed </meh> instead of </em>.

[12:16:01.0000] <TabAtkins>
I think that's the exact opposite semantic.

[12:18:00.0000] <Workshiva>
</meh> could complement </sarcasm>

[12:43:00.0000] <boblet>
/me is <meh>

[12:43:01.0000] <boblet>
nn all

[12:48:00.0000] <hsivonen>
gsnedders: I saw Avenue Q. It was fun, but it didn't quite live up to the expectations (the best songs were before the intermission and it kinda flattened out from there)

[13:48:00.0000] <hober>
anyone going to oscon this year?

[14:01:00.0000] <zcorpan_>
Hixie: r5162, i think it also affected <option>

[14:32:00.0000] <AryehGregor>
Blast Opera's nonsensical treatment of # in data URLs.

[14:40:00.0000] <zcorpan_>
not supporting fragments in data urls is what's nonsensical

[14:41:00.0000] <cardona507>
saying Opera Mini loads quicker than the stock android browser is whats nonsensical. :P

[14:42:00.0000] <AryehGregor>
zcorpan_, I have so far had documents in data URLs randomly break several times in Opera and Opera only because of its fragment treatment.  I have never wanted to actually use a fragment in a data URI that I can recall.

[14:44:00.0000] <AryehGregor>
Okay, I just tried drawing shadows with canvas, and got three significantly different results in three different browsers.

[14:44:01.0000] <AryehGregor>
I have no idea who's actually right, or if the spec is just vague.

[14:45:00.0000] <AryehGregor>
It doesn't look vague to me, unless Gaussian blurs aren't well-defined.

[14:45:01.0000] <cardona507>
different results in different browser?! I am shocked :)

[14:45:02.0000] <TabAtkins>
The spec for <canvas>'s shadows is basically just "whatever Safari did", so it should be fine.

[14:45:03.0000] <cardona507>
*browsers

[14:45:04.0000] <AryehGregor>
TabAtkins, http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#shadows

[14:46:00.0000] <AryehGregor>
<!doctype html> <canvas height="300" width="300"></canvas> <script> window.addEventListener('load', function () { context = document.getElementsByTagName("canvas")[0].getContext("2d"); context.shadowBlur    = 50; context.shadowColor   = 'black'; context.fillRect(100, 100, 100, 100); }, false); </script>

[14:46:01.0000] <TabAtkins>
AryehGregor: No, that's well-defined.  Any problem with it is a browser bug.

[14:46:02.0000] <AryehGregor>
In which browser, and how do I tell?

[14:46:03.0000] <AryehGregor>
I'm guessing they implemented this feature before it was specced.

[14:46:04.0000] <arosenberg>
I'll retry posting my thought from the other day.

[14:47:00.0000] <TabAtkins>
Calculate the gaussian matrix yourself from the appropriate stdev, run it manually, then diff against the browser?

[14:47:01.0000] <AryehGregor>
IIRC, the algorithm follows WebKit, so maybe I should assume everyone but them is wrong.

[14:47:02.0000] <TabAtkins>
That's probably correct.

[14:47:03.0000] <arosenberg>
There seems to be no way to get the response code or headers from an injected script tag.

[14:48:00.0000] <AryehGregor>
The treatment of the blur parameter is at least slightly insane.  Maybe it should be cleaned up in the spec, since clearly there's no interop here anyway.

[14:48:01.0000] <arosenberg>
And yet the twitter API returns results in the headers with a 400 response for rate limiting.

[14:48:02.0000] <TabAtkins>
It is immensely insane, in fact.

[14:48:03.0000] <arosenberg>
XHR has provisions for this info, and I think it should be addressed for script tags as well.

[14:49:00.0000] <arosenberg>
(BTW, I'm thrilled that onerror now gets called for a script tag.)

[14:49:01.0000] <TabAtkins>
AryehGregor: Since we're discussing what precisely a "blur value" means in CSS right now (since every single browser treats it differently), it should sync up with whatever we decide for that.

[14:49:02.0000] <AryehGregor>
TabAtkins, this is in the context of a post I was making there.

[14:49:03.0000] <AryehGregor>
(Violently disagreeing with you, as it happens.)

[14:49:04.0000] <TabAtkins>
Ah, haven't read the thread yet today.

[14:49:05.0000] <TabAtkins>
I'm saving it for last.

[14:50:00.0000] <AryehGregor>
arosenberg, try posting to the whatwg list, it's a better way to get a response.

[14:50:01.0000] <zcorpan_>
arosenberg: xhr has same-origin policy, script doesn't

[14:51:00.0000] <TabAtkins>
AryehGregor: Ah, you haven't actually sent the post yet.

[14:51:01.0000] <AryehGregor>
No.

[14:51:02.0000] <zcorpan_>
arosenberg: so being able to read headers from arbitrary sources cross-origin would be a new security problem

[14:52:00.0000] <zcorpan_>
arosenberg: i guess it could be exposed for same-origin only, but what's the use case?

[14:52:01.0000] <Philip`>
AryehGregor: It doesn't follow WebKit, it follows CoreGraphics

[14:53:00.0000] <Philip`>
i.e. what Safari does

[14:53:01.0000] <Philip`>
not (necessarily) any other WebKit ports

[14:53:02.0000] <AryehGregor>
Oh, I see.

[14:53:03.0000] <AryehGregor>
So Chrome won't match WebKit here.

[14:53:04.0000] <AryehGregor>
Er.

[14:53:05.0000] <TabAtkins>
Mac/Safari, to be precise.

[14:53:06.0000] <AryehGregor>
Won't match Safari

[14:53:07.0000] <AryehGregor>
.

[14:53:08.0000] <Philip`>
since WebKit just defers to the graphics layer for almost all of this

[14:53:09.0000] <Philip`>
TabAtkins: Win/Safari too, since that uses CG

[14:53:10.0000] <TabAtkins>
Oh, CG is one Win too? 

[14:53:11.0000] <TabAtkins>
/me knows nothing.

[14:54:00.0000] <TabAtkins>
AryehGregor: What's the gist of your violent disagreement?

[14:54:01.0000] <AryehGregor>
TabAtkins, the spec should say something pixel-perfect even if that means it's author-incomprehensible.  Authors can figure out what values they like quickly by trial and error.

[14:55:00.0000] <AryehGregor>
They have to do that anyway, reading the spec won't tell them by itself.

[14:55:01.0000] <AryehGregor>
(even if it gives a general idea of how much blur to expect)

[14:57:00.0000] <TabAtkins>
AryehGregor: I am *potentially* okay with pixel-perfect spec descriptions.  What I'm *not* okay with is the actual component value provided by the author being an opaque number, when we can just as easily make it sensical.

[14:57:01.0000] <AryehGregor>
If anyone has the latest IE9 handy, I'd be interested to hear what that canvas looks like.

[14:58:00.0000] <AryehGregor>
Does it match the SVG here?  http://www.w3.org/Bugs/Public/show_bug.cgi?id=10169#c1

[14:58:01.0000] <Philip`>
http://test.w3.org/html/tests/submission/PhilipTaylor/canvas/index.2d.shadow.blur.html

[14:58:02.0000] <Philip`>
Opera (on Linux) looks correct, I assume Safari is still correct, Firefox (3.6 on Linux) looks all wrong

[14:59:00.0000] <AryehGregor>
On Linux, Opera looks correct on both, Chrome looks wrong on both, Firefox 4 looks wrong on small blurs but okay on big blurs.

[14:59:01.0000] <AryehGregor>
Actually, it looks wrong on big blurs too, but not so drastically.

[14:59:02.0000] <AryehGregor>
What does IE9 look like?  I'm betting it's correct.

[15:00:00.0000] <arosenberg>
zcorpan_: I haven't carefully considered the security implications, but I don't see the differences between a script tag's arbitrary source ability and the headers from same.

[15:00:01.0000] <Philip`>
(Search for "sigma" in http://test.w3.org/html/tests/submission/PhilipTaylor/tools/canvas/tests2d.yaml which is how the bottom images in my tests are generated)

[15:00:02.0000] <Philip`>
(which hopefully matches the spec's requirement)

[15:02:00.0000] <AryehGregor>
Philip`, do you think my markup in these two cases is supposed to display the same?  http://www.w3.org/Bugs/Public/show_bug.cgi?id=10169#c1

[15:02:01.0000] <AryehGregor>
As far as I can tell, it's supposed to be a 100x100px black box offset 100x100px with five sigmas of blur in both cases.

[15:02:02.0000] <AryehGregor>
Hmm, no, I miscalculated for canvas?

[15:02:03.0000] <AryehGregor>
sqrt(100) = 10, not 5.

[15:02:04.0000] <AryehGregor>
/me tries again

[15:02:05.0000] <Hixie>
zcorpan_: how?

[15:04:00.0000] <zcorpan_>
Hixie: <body><option></option>

[15:04:01.0000] <Philip`>
AryehGregor: The canvas one is a solid box on top of a blurred box, the SVG one looks like simply a blurred box

[15:04:02.0000] <Hixie>
oh right because we made </option> not so special after all

[15:04:03.0000] <Hixie>
hmm

[15:04:04.0000] <Hixie>
damn

[15:04:05.0000] <Hixie>
i shouldn't have put it in the list of special tags then

[15:04:06.0000] <AryehGregor>
Hmm.

[15:04:07.0000] <Philip`>
(where by "looks" I mean from the source code, not the rendering)

[15:05:00.0000] <Philip`>
You could draw the canvas's box at x=-200 with shadowOffsetX=200

[15:05:01.0000] <Philip`>
Uh, 300

[15:05:02.0000] <Philip`>
or whatever

[15:05:03.0000] <Philip`>
to get just the shadow rendered

[15:06:00.0000] <AryehGregor>
Hmm, good idea.

[15:06:01.0000] <Hixie>
i would really appreciate it if someone could check http://html5.org/tools/web-apps-tracker?from=5163&to=5164 with a fine tooth comb to make sure i didn't screw up anything

[15:07:00.0000] <AryehGregor>
Philip`, nice, that works perfectly.  Thanks!

[15:08:00.0000] <AryehGregor>
Pixel-perfect.

[15:13:00.0000] <AryehGregor>
Should I file a bug against Firefox?

[15:13:01.0000] <AryehGregor>
/me doesn't see an existing one, unless it's: https://bugzilla.mozilla.org/show_bug.cgi?id=478459

[15:15:00.0000] <eseidel>
Hixie: you are a machine

[15:15:01.0000] <eseidel>
zomg it's a hsivonen!

[15:16:00.0000] <eseidel>
hsivonen: and here I thought you were avoiding me :p

[15:16:01.0000] <annevk>
oh god

[15:16:02.0000] <annevk>
tyler close wtf

[15:16:03.0000] <annevk>
guess it's time for bed

[15:17:00.0000] <annevk>
eseidel, lol

[15:17:01.0000] <eseidel>
nah, hsivonen is still avoiding me :p

[15:19:00.0000] <Hixie>
eseidel: once i get started on bugs i can crank through them easily yeah :-)

[15:20:00.0000] <Hixie>
eseidel: check out my downhill gradients on http://www.whatwg.org/issues/data.html :-)

[15:20:01.0000] <Hixie>
(blue line is bugs)

[15:22:00.0000] <Philip`>
AryehGregor: Filing bugs is good :-)

[15:22:01.0000] <Philip`>
AryehGregor: unless you want browsers to converge on a behaviour that's different to what's currently specced

[15:23:00.0000] <AryehGregor>
Philip`, I already filed an HTML5 bug for that.  :)

[15:24:00.0000] <eseidel>
Hixie: I was just commenting to abarth that it would be nice if there was a version of the spec which showed diffs since a revision/date.  I'm curious if such exists already?  Basically I want a version of the spec with red/green in it to show me what has changed since I implemented it (i.e. at a specific date or revision).

[15:24:01.0000] <eseidel>
a diff sorta gives me that, but I want full context of the spec

[15:24:02.0000] <eseidel>
I'm sure I could generate such a thing myself from svn, but perhaps it already exists?

[15:28:00.0000] <Hixie>
eseidel: the spec is >5 MB, I'm not aware of any HTML diffing tool that can handle it

[15:28:01.0000] <eseidel>
ha

[15:28:02.0000] <Hixie>
eseidel: the tracker page lets you see diffs in the source between two arbitrary revisions, though

[15:29:00.0000] <zcorpan_>
you could generate an html diff for the a multipage page

[15:29:01.0000] <zcorpan_>
s/the//

[15:31:00.0000] <Hixie>
i think it would be really cool if someone could make a version of the spec that let you see diffs between versions and let you see inline blame annotations for everything so you could navigate the spec's history and changes

[15:31:01.0000] <Hixie>
but i'm not gonna do it myself :-)

[15:32:00.0000] <variable>
Hixie, the spec is stored via svn?

[15:32:01.0000] <annevk>
yeah, svn.whatwg.org/webapps/source

[15:32:02.0000] <Hixie>
what anne said

[15:32:03.0000] <variable>
then I know there is already a program that does that

[15:32:04.0000] <variable>
svn has a native command line version and I know I've seen a web version

[15:33:00.0000] <variable>
right - WebSVN 

[15:37:00.0000] <Slaanesh>
Man, chrome is such a pain... clearing the location bar after each javascript command

[15:38:00.0000] <zcorpan_>
Slaanesh: yeah, what's up with that

[15:38:01.0000] <Slaanesh>
Let's blame Hixie

[15:39:00.0000] <TabAtkins>
Slaanesh: Hit F12, then Esc if the console isn't up yet.

[15:39:01.0000] <Hixie>
variable: i meant some sort of dynamic "web 2.0" "ajax" app version of the spec, not the spec source, but websvn would certainly be a step in the right direction

[15:40:00.0000] <zcorpan_>
s/"web 2.0" "ajax"/html5/

[15:40:01.0000] <Slaanesh>
TabAtkins: I assume you're trying to enable the jsconsole, but that doesn't work here, since it has superpermissions

[15:41:00.0000] <TabAtkins>
/me didn't realize that permissions mattered in any way here.

[15:41:01.0000] <variable>
I always "web 2.0" to mean "user content" 

[15:41:02.0000] <variable>
Hixie, what particular features did you want fancy animations when the user clicks "diff"?

[15:42:00.0000] <Slaanesh>
Well, F12 also doesn't open it :P

[15:42:01.0000] <Hixie>
i meant something where you would be reading the spec and as you hovered over the spec it would highlight each fragment that had been updated, and in the margin would just the most recent revision that had that change, or something, and you could click on it to switch to that revision, or to see the diff, or something

[15:42:02.0000] <Slaanesh>
shift-ctrl-j, apparently

[15:42:03.0000] <Hixie>
i really have no concrete idea here :-)

[15:42:04.0000] <eseidel>
Hixie: it seems minefield and webkit both blindly coalesce text into the previous node, ignoring the "if it was the last node inserted by the parser" check for character token insertion

[15:42:05.0000] <eseidel>
example: <table>A<td>B</td>C</table>

[15:42:06.0000] <eseidel>
the spec says that should be two separate notes "A" and "B"

[15:42:07.0000] <variable>
Hixie, ah, like built into the current spec with the fancy commenting and such

[15:43:00.0000] <eseidel>
both minefield and WK make "AC"

[15:43:01.0000] <eseidel>
sorry "A" and "C" not "A" and "B"

[15:44:00.0000] <Hixie>
variable: yeah something

[15:45:00.0000] <eseidel>
Hixie: I'm attempting to test IE now.

[15:45:01.0000] <Hixie>
eseidel: you mean with hsivonen's parser or the old one?

[15:45:02.0000] <eseidel>
minefield, so new parser

[15:46:00.0000] <Hixie>
eseidel: i seem to recall there were pretty important performance reasons for not doing that, but ok

[15:46:01.0000] <eseidel>
/me wonders if there is a version of live dom viewer or plexode which works in IE

[15:47:00.0000] <eseidel>
hmm, maybe

[15:50:00.0000] <Hixie>
e.g. it lets you reuse your buffers in your parser without having to worry about being compatible with the buffers your CreateTextNode() implementation uses

[15:50:01.0000] <Hixie>
and it means you only have to have one "active" buffer at a time

[15:51:00.0000] <Hixie>
so you don't run the risk of having to increase the length of your buffer and finding that you can't just allocate more RAM, you have to move the entire buffer around first

[15:52:00.0000] <eseidel>
Hixie: I'm not sure I understand

[15:52:01.0000] <Hixie>
which bit?

[15:52:02.0000] <eseidel>
once you've create a text node, it can't be using parser buffers

[15:52:03.0000] <eseidel>
you might have to make the text node's buffers bigger if you append to it, yes.

[15:53:00.0000] <eseidel>
Hixie: I mena, there are some nice things about the way the spec is worded.  prevnets strange things when scripts start inserting text nodes

[15:53:01.0000] <eseidel>
it won't be hard to implement

[15:53:02.0000] <eseidel>
Hixie: just noting that both WK and minefield fail that example atm

[15:53:03.0000] <eseidel>
Hixie: but I'm not against implementing it that way

[15:53:04.0000] <Hixie>
ah ok

[15:53:05.0000] <Hixie>
i misunderstood, sorry :-)

[15:54:00.0000] <Hixie>
usually when people tell me the browsers don't match the spec it's a passive aggressive way of telling me the spec is wrong :-)

[15:54:01.0000] <abarth>
svn.whatwg.org is slow...

[15:55:00.0000] <abarth>
soon i will have my own clone of the HTML5 repo and there will be no stopping me :)

[15:58:00.0000] <Hixie>
who is eric⊙wo? is that eseidel?

[16:00:00.0000] <jgraham>
I thought hsivonen was one of the people asking for the multiple-test-nodes thing before 

[16:00:01.0000] <jgraham>
But I could be wrong. I recall having a conversation with Philip` about it

[16:00:02.0000] <abarth>
Hixie: yes

[16:00:03.0000] <eseidel>
Hixie: there can be only one!

[16:01:00.0000] <abarth>
we're looking at the details of text node coalessing

[16:01:01.0000] <abarth>
looks like the new Firefox doesn't quite follow the spec

[16:01:02.0000] <abarth>
in crazy foster parenting cases

[16:01:03.0000] <Hixie>
eseidel: i couldn't understand one of your bugs, so i marked it NEEDSINFO

[16:02:00.0000] <zcorpan_>
eseidel: try the zombie dom viewer for ie

[16:02:01.0000] <Hixie>
eseidel, abarth, hsivonen, zcorpan_, jgraham: I've resolved every parser bug I could find and every bug marked P1/crit; if I missed any please mark them P1/crit and let me know

[16:03:00.0000] <abarth>
Hixie: thanks.  that's super helpful

[16:03:01.0000] <Hixie>
np

[16:03:02.0000] <Hixie>
sorry it took so long

[16:03:03.0000] <jgraham>
Hixie: Awesome

[16:03:04.0000] <abarth>
Hixie: did you look at the script@onload bug after you closed it?

[16:03:05.0000] <abarth>
Hixie: i'm not sure whether i'm misunderstanding the spec or whether your rationale is backwards

[16:04:00.0000] <abarth>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=9984

[16:04:01.0000] <jgraham>
I verified that the end tag in foreign content fixes worked the way I expected in the html5lib test cases

[16:04:02.0000] <jgraham>
I mean I verified that html5lib with the new spec passed the tests

[16:05:00.0000] <Hixie>
jgraham: cool, i wasn't sure if what i did there made sense, thanks

[16:05:01.0000] <Hixie>
abarth: looking

[16:05:02.0000] <jgraham>
Hixie: Did hsivonen file a bug about <button>? I forget

[16:05:03.0000] <Hixie>
didn't see one

[16:05:04.0000] <jgraham>
Hixie: I think it was more-or-less equivalent to my ad-hoc fixes, but expressed in a slightly simpler way

[16:06:00.0000] <jgraham>
Hixie: The list of bugs that I know about is http://wiki.whatwg.org/index.php?title=ParserIssues

[16:06:01.0000] <Hixie>
abarth: hm, no, you're right, i forgot how the spec was written

[16:06:02.0000] <Hixie>
abarth: i don't understand the bug then

[16:06:03.0000] <Hixie>
abarth: what do you want changed?

[16:06:04.0000] <Hixie>
jgraham: looking...

[16:07:00.0000] <jgraham>
Hixie: It seems that you did change <button> somewhat

[16:07:01.0000] <Hixie>
abarth: (btw feel free to reopen bugs -- i don't see changes unless the bug is reopened)

[16:07:02.0000] <Hixie>
jgraham: all those bugs are resolved

[16:07:03.0000] <abarth>
Hixie: it's a place where FF and the spec are different.  i don't particularly care about the behavior, but we either need to change the spec or get henri to agree to do what the spec says

[16:08:00.0000] <Hixie>
jgraham: and the e-mail had a bug for it too so that's dealt with now also

[16:08:01.0000] <Hixie>
abarth: ah ok

[16:08:02.0000] <abarth>
there's some subtly involving the requirements of an off-the-main-thread parser, which I don't quite grasp

[16:09:00.0000] <Hixie>
i'm not sure how we would change things to have it happen the other way around to be honest, looking at the spec more closely now

[16:10:00.0000] <Hixie>
short of just making the insertion pointer or whatever it's called undefined just for the event

[16:11:00.0000] <abarth>
ok

[16:12:00.0000] <abarth>
in the code, it's just a matter of switching the order of two lines of code

[16:12:01.0000] <abarth>
so we can do whichever

[16:12:02.0000] <daedb_>
heh, IE9 is really funny... <!doctype html><canvas></canvas> puts the canvas inside the body, but <!doctype html><style></style><canvas></canvas> puts canvas inside the head :)

[16:12:03.0000] <abarth>
Hixie: one more thing: https://bugs.webkit.org/show_bug.cgi?id=42112

[16:12:04.0000] <jgraham>
abarth: Thanks for the reply about the cross-domain stuff. That looks like exactly what I was hoping for :)

[16:12:05.0000] <AryehGregor>
daedb_, yeah . . . HTML5 parser plz :(

[16:12:06.0000] <abarth>
Hixie: ap is worried about the null character's replacements looking ugly

[16:13:00.0000] <abarth>
Hixie: that bug has a link to some chinese site that looks pretty bad

[16:13:01.0000] <cardona507>
daedb_:  yeah - IE9 is wacky

[16:13:02.0000] <daedb_>
AryehGregor: I found that with your test case :p

[16:13:03.0000] <abarth>
jgraham: glad it was helpful

[16:13:04.0000] <abarth>
Hixie: the old webkit behavior was to strip nulls in text nodes, but not in tag names, etc

[16:13:05.0000] <jgraham>
abarth: (I haven't actually read it in detail yet)

[16:16:00.0000] <sicking>
if I change something in browser/components/feeds , where do I need to rebuild to pick that up?

[16:16:01.0000] <abarth>
sicking: wrong channel?

[16:16:02.0000] <sicking>
abarth: hah, yes indeed :)

[16:17:00.0000] <sicking>
chatzilla doesn't have optimal focus management :)

[16:19:00.0000] <Hixie>
abarth: yeah, it's basically intentional

[16:19:01.0000] <Hixie>
abarth: there shouldn't be NULs there at all and they're likely to be triggering all kinds of security problems

[16:19:02.0000] <Hixie>
abarth: making it ugly is one way to draw attention to it

[16:21:00.0000] <abarth>
as brendan would say, i don't have a dog in this hunt.  I've forwarded your comments to ap.

[16:22:00.0000] <ap>
Hixie: I doubt there is actually a security aspect to null handling in DOM

[16:22:01.0000] <Hixie>
there have been _many_

[16:22:02.0000] <ap>
Hixie: maybe in 199x

[16:23:00.0000] <ap>
Hixie: there were more recent "security" issues about stripping nulls from tags, but those were very remotely related to security, in my opinion

[16:23:01.0000] <jgraham>
Hmm, Opera typically doesn't render past embedded nulls, so we are presumably badly broken with any site that has lots of them

[16:24:00.0000] <jgraham>
So a link would be appreciated :)

[16:24:01.0000] <ap>
jgraham:  https://bugs.webkit.org/show_bug.cgi?id=42112

[16:25:00.0000] <ap>
Hixie: and by the way, the more recent "security" issues were caused exactly by the attempts to give null some magical meaning, so some software might have potentially gotten it differently than other

[16:26:00.0000] <jgraham>
abarth: So are the security problems with the "subspace" design  considered acceptable because it is too hard to inject code into an unwilling site this way, only one that specifically uses the design?

[16:26:01.0000] <zcorpan_>
jgraham: opera renders past nulls but not in view source

[16:27:00.0000] <abarth>
jgraham: the security problems arise from using these document.domain tricks.  the recommended course of action is to ignore document.domain and use postMessage instead

[16:27:01.0000] <abarth>
jgraham: document.domain is very complex and best ignored

[16:28:00.0000] <jgraham>
abarth: From the point of view of a browser implementor though

[16:29:00.0000] <jgraham>
Obviously we have to support document.domain

[16:29:01.0000] <jgraham>
(I agree that *sites* shouldn't use it)

[16:30:00.0000] <jgraham>
(the rough context is that I want to be sure that implementing the HTML5 spec in Opera won't open up any significant security vunerabilities or privacy leaks or whatever compared to what we currently do)

[16:31:00.0000] <jgraham>
zcorpan_: Oh. 

[16:31:01.0000] <abarth>
jgraham: yep

[16:31:02.0000] <abarth>
there's a deeper issue is opera

[16:31:03.0000] <abarth>
last time i checked

[16:31:04.0000] <abarth>
opera used dynamic instead of lexical authorization

[16:31:05.0000] <abarth>
which makes the document.domain attacks easier to pull off

[16:32:00.0000] <abarth>
HTML5 requires lexical authorization

[16:32:01.0000] <abarth>
and opera might have switched since i tested it last

[16:32:02.0000] <abarth>
http://www.adambarth.com/papers/2009/barth-jackson-li.pdf

[16:32:03.0000] <jgraham>
I am not sure I understand the difference

[16:32:04.0000] <abarth>
Section 2.1

[16:32:05.0000] <jgraham>
But I will read the paper :)

[16:33:00.0000] <abarth>
in the spec

[16:33:01.0000] <abarth>
it's the difference between the active script

[16:33:02.0000] <abarth>
and the "first script"

[16:33:03.0000] <jgraham>
Ah

[16:33:04.0000] <abarth>
if you're able to run the webkit security layout tests

[16:33:05.0000] <jgraham>
OK. I remember that being "fun"

[16:33:06.0000] <abarth>
there's a bunch of stuff in there about that

[16:34:00.0000] <jgraham>
We can probably find a way to run those

[16:34:01.0000] <jgraham>
and really should be if we are not already

[16:34:02.0000] <Hixie>
ap: that has not been my experience, but i guess our experiences can differ :-)

[16:34:03.0000] <ap>
Hixie: can you point me to some bugs caused by null terminated strings used in DOM?

[16:35:00.0000] <Hixie>
not off-hand

[16:35:01.0000] <jgraham>
abarth: Thanks

[16:35:02.0000] <jgraham>
/me decides it is time for slep

[16:35:03.0000] <jgraham>
*sleep

[16:35:04.0000] <ap>
Hixie: and that wouldn't happen if nulls were inserted via DOM manipulation (nulls are still allowed there, correct?)

[16:36:00.0000] <Hixie>
abarth: "first script" was renamed at some point btw (i forget to what)

[16:37:00.0000] <Hixie>
ap: most of the kinds of bugs i've seen reently have been with server-side tools treating NULLs differently than browsers, and failing to properly filter content

[16:37:01.0000] <Hixie>
ap: but NULLs in general are frequently the source of random bugs, and I really would rather never have to worry about it, hence why I always try to write specs to get rid of them as soon as possible

[16:37:02.0000] <ap>
Hixie: yes, that's the kind I referred to as "security"

[16:38:00.0000] <Hixie>
ap: i see no harm in doing so, especially considering how rare NULLs are in "real" content

[16:38:01.0000] <ap>
Hixie: that's not the first time I say that I disagree with this general principle :)

[16:38:02.0000] <Hixie>
ap: i know

[16:39:00.0000] <ap>
Hixie: you may be giving some a false sense of security - they'll write code expecting that the parser gets rid of nulls for them, and then a Dom manipulation will insert a null

[16:39:01.0000] <ap>
Hixie: also, these new requirements are breaking existing content, and slow down decoding/tokenizing slightly

[16:40:00.0000] <Hixie>
ap: there are pros and cons on both sides

[16:40:01.0000] <Hixie>
ap: such is life

[16:40:02.0000] <ap>
Hixie: I suggest that we don't make changes that are not for the better then

[16:41:00.0000] <Hixie>
ap: i disagree that it's not for the better.

[16:41:01.0000] <ap>
Hixie: at this point, I struggle to find a use case that's improved by converting nulls to u+fffd

[16:41:02.0000] <Hixie>
ap: i think it improves security for most users of the HTML parser (who don't have a DOM to worry about), and it doesn't break enough content to be an issue, and the performance impact is minimal.

[16:42:00.0000] <Hixie>
ap: but as you say, we've had this discussion before

[16:42:01.0000] <Hixie>
ap: we're not covering new ground here

[16:42:02.0000] <ap>
Hixie: ah, the eternal "HTML is not for browsers" argument

[16:42:03.0000] <ap>
Hixie: well, previously we were talking about new specs, not about changing HTML in incompatible ways

[16:42:04.0000] <Hixie>
if you're just going to misrepresent what i'm arguing then there's not much point me arguing

[16:43:00.0000] <ap>
Hixie: I didn't intend to misinterpret. did I misunderstand you?

[16:43:01.0000] <Hixie>
i didn't say HTML was not for browsers

[16:44:00.0000] <ap>
Hixie: well, you said that most users of HTML parser don't have the DOM to worry about

[16:44:01.0000] <Hixie>
indeed

[16:44:02.0000] <Hixie>
only five users of the HTML parser have a DOM to worry about

[16:44:03.0000] <Hixie>
out of all the people who parse HTML, that's not the majority

[16:44:04.0000] <Hixie>
it also happens to the be most competent at writing and using HTML arasers

[16:44:05.0000] <Hixie>
parsers, even

[16:45:00.0000] <Hixie>
and thus not the most important when it comes to making sure that it's easy to not screw up

[16:45:01.0000] <Hixie>
s/to the be/to be the/

[16:45:02.0000] <ap>
Hixie: it seems to be the primary target of security attacks though

[16:45:03.0000] <ap>
Hixie: btw, my understanding is that some Web spiders are now interpreting JS already - is that not true?

[16:46:00.0000] <abarth>
ap: that's correct

[16:47:00.0000] <Hixie>
are you saying that abarth and eseidel are so incompetent that what I do with NULLs in the HTML5 spec will affect the number of security bugs in their code? give me a break

[16:47:01.0000] <abarth>
ap: they tend to take a browser and hack it up to get it to crawl nicely

[16:49:00.0000] <ap>
Hixie: it sounds like the only case that's helped by this change is code that incorporates a full HTML5 tokenizer, and then does something truly naive with it

[16:49:01.0000] <ap>
Hixie: since otherwise, they will happily convert null to null, not knowing that there is a spec saying it should be turned into FFFD

[16:49:02.0000] <Hixie>
you've just described a large portion of future HTML parsing software

[16:51:00.0000] <ap>
Hixie: are you saying that it will be easier to incorporate an HTML5 library than to use whatever scripting language mechanism there is to convert a result of a curl/wget download to a native string?

[16:52:00.0000] <Hixie>
do you think that's what i'm saying?

[16:52:01.0000] <ap>
Hixie: yes

[16:52:02.0000] <Hixie>
could you please at least assume i'm not an idiot?

[16:52:03.0000] <Hixie>
seriously

[16:53:00.0000] <ap>
Hixie: you're probably moving too fast for me to follow

[16:53:01.0000] <Hixie>
it will obviously not be easier to wget a file, turn it into a string, and then pass it to a parser than it will be to wget a file, and turn it into a string.

[16:54:00.0000] <ap>
Hixie: you said that a "large portion of future HTML parsing software" will do something, and I'm trying to imagine how I would write a piece of software that would fit the picture

[16:54:01.0000] <Hixie>
to parse HTML, you can either hack it using regexps, or you can use an HTML parser

[16:54:02.0000] <Hixie>
few people will write their own HTML parsers, since it's a non-trivial task

[16:55:00.0000] <ap>
Hixie: yes, if the software doesn't need a DOM, they'll probably just regex parts of wget output

[16:55:01.0000] <Hixie>
there's nothing we can ever do to make regexp parsers do anything, since they ignore the spec by definition

[16:55:02.0000] <Hixie>
so all we can affect are the people using the libraries, which presumably follow the spec

[16:55:03.0000] <ap>
Hixie: and if there is a DOM, they can shoot themselves in the foot even if they don't execute JS from the documents

[16:56:00.0000] <Hixie>
dude, they can shoot themselves in the foot without any help from us

[16:56:01.0000] <Hixie>
the idea is to reduce the likelihood of that

[16:56:02.0000] <Hixie>
we can never make it impossible

[16:56:03.0000] <ap>
Hixie: what I'm saying is that it's not reducing the likelihood, but giving a false expectation

[16:56:04.0000] <Hixie>
and i disagree

[16:56:05.0000] <Hixie>
i don't think it's giving anyone any expectation

[16:57:00.0000] <Hixie>
since these people aren't going to know about this at all

[16:57:01.0000] <Hixie>
anyway i really have to do work

[16:57:02.0000] <Hixie>
if you want this changed, please file a bug or send mail

[16:59:00.0000] <ap>
there is a WebKit bug, that's my form of feedback


2010-07-15
[17:18:00.0000] <TabAtkins>
AryehGregor: I have now violently disagreed with you publicly.

[17:18:01.0000] <TabAtkins>
After consulting with Chrome team.  ^_^

[17:20:00.0000] <TabAtkins>
The main problem is that a true gaussian simply isn't fast enough, and Safari has seen negative effects from trying to use one for all shadows.

[17:37:00.0000] <AryehGregor>
TabAtkins, rest assured you will see a violent response in return, likely tomorrow.

[17:38:00.0000] <TabAtkins>
Ok.  I'm basing my position on feedback from our graphics people (smfr, who you talked to as well, plus jamesr and a newer dude who previous worked on game graphics), so I think I'm on pretty solid ground wrt the "gaussians are too expensive" argument.

[17:39:00.0000] <AryehGregor>
Then how does everyone (3/3 tested on two platforms) do them interoperably in SVG filters?  Aren't those applied just as often as CSS shadows?

[17:39:01.0000] <TabAtkins>
Slowly, that's how.  And no, they're not.

[17:39:02.0000] <AryehGregor>
Why not?

[17:40:00.0000] <TabAtkins>
Why aren't SVG shadows applied as often as CSS shadows?  I dunno.

[17:40:01.0000] <AryehGregor>
In Firefox you can even apply SVG filters to HTML content.

[17:40:02.0000] <TabAtkins>
Yes?

[17:40:03.0000] <AryehGregor>
Well, anyway, the spec should at least give a pixel-perfect reference shadow, and tell browsers "try to get close to that", so at least they're shooting at the same target.

[17:41:00.0000] <AryehGregor>
Hixie, do you think it would be worth it at this point to change the meaning of canvas.shadowBlur to something sane, instead of the weird kink at 8?  My testing indicates that browsers aren't interoperable here at all, so authors can't be relying too much on the current behavior.  If the answer is "no" then I'll close the HTML bug I filed and file some bugs against browsers that don't do it right (Firefox/Chrome).

[17:41:01.0000] <TabAtkins>
I'm fine with providing an informative reference.

[17:42:00.0000] <AryehGregor>
Also, if Gaussian blurs really are too slow here, surely that needs to be changed in SVG too, especially if SVG filters are allowed for HTML content.

[17:42:01.0000] <TabAtkins>
Perhaps.

[17:42:02.0000] <AryehGregor>
I assume there's no problem at all with canvas, since you only need to compute the shadow once.

[17:42:03.0000] <AryehGregor>
(which is why it's ironic that we have so much less interop there than with SVG . . .)

[17:43:00.0000] <TabAtkins>
Yeah, most likely the slowness is unimportant in <canvas>.

[17:43:01.0000] <AryehGregor>
I can't see why SVG would be less of a perf problem than CSS, except because people rarely use SVG, which seems likely to change when IE9 becomes widely used.

[17:43:02.0000] <TabAtkins>
Also, as authors have direct control over their <canvas> stuff, they can choose to do a less expensive shadow manually if they find they need to.

[17:43:03.0000] <TabAtkins>
I expect that's precisely the reason.

[17:44:00.0000] <TabAtkins>
SVG has many things that are bad perf-hits.

[17:44:01.0000] <AryehGregor>
You're saying authors rolling their own shadow in JavaScript would be cheaper than Gaussian blur?  I find that unlikely.

[17:44:02.0000] <TabAtkins>
AryehGregor: With a sufficiently large shadow?  Could be.

[17:44:03.0000] <AryehGregor>
Maybe CSS has the problem that it can be reflowed, so you might have to reevaluate the shadow many times per second as something moves across the screen or whatnot.

[17:44:04.0000] <AryehGregor>
Whereas if it's an SVG, this is less likely?  I dunno.

[17:45:00.0000] <TabAtkins>
That is a significatn part of the CSS issue, yes.  I dunno what the deal is with SVG, so I can't really comment.

[17:45:01.0000] <AryehGregor>
/me will seek clarification on the list.

[17:45:02.0000] <AryehGregor>
(tomorrow)

[17:46:00.0000] <TabAtkins>
In any case, I still don't have a problem with an impl that can afford to burn the cycles doing a more realistic shadow than gaussian blurs can provide.  ^_^

[17:47:00.0000] <AryehGregor>
What does "more realistic" mean?  Like more physically accurate?  Is it possible for a normal person to tell if a box shadow is more or less physically accurate?

[17:47:01.0000] <TabAtkins>
Probably not.

[17:47:02.0000] <AryehGregor>
Authors are looking for a specific visual style, surely, not physical accuracy.

[17:47:03.0000] <AryehGregor>
So it doesn't matter so much what it looks like, as long as it's interoperable.

[17:47:04.0000] <TabAtkins>
But then, a normal person can't tell the difference between a CG shadow and Skia shadow for normal font-sizes and blurs.

[17:48:00.0000] <AryehGregor>
Are you talking text-shadow or box-shadow?  For boxes, I can tell the difference between how Safari and Chrome do canvas shadows on Windows 7 very clearly.

[17:48:01.0000] <AryehGregor>
They're similar, though.

[17:48:02.0000] <AryehGregor>
(Firefox is much more different, IIRC)

[17:48:03.0000] <TabAtkins>
What size, and is it a difference of actual blur radius producing different-sized shadows?

[17:49:00.0000] <AryehGregor>
Just the example I gave before.

[17:49:01.0000] <TabAtkins>
Okay, so that's a width of somewhere between 10px and 15px.

[17:49:02.0000] <TabAtkins>
When I say "normal font-sizes and blurs" I mean smaller than that.

[17:50:00.0000] <TabAtkins>
shadows on heading text, frex, are usually less than 8px.

[17:50:01.0000] <TabAtkins>
Often just 2px or 4px, I think.

[17:50:02.0000] <AryehGregor>
data:text/html,<!doctype html><style>* { margin: 0 }</style><canvas height="300" width="300"></canvas><script>window.addEventListener('load', function () { context = document.getElementsByTagName("canvas")[0].getContext("2d"); context.shadowBlur = 12.5; context.shadowOffsetX = 400; context.shadowOffsetY = 400; context.shadowColor = 'black'; context.fillRect(-300, -300, 100, 100); }, false);</script>

[17:52:00.0000] <AryehGregor>
Blur on text-shadows might be less noticeable.  I dunno.  I'd think that simpler blur effects would make sense where you're working with so few pixels.

[17:52:01.0000] <AryehGregor>
Anyway, I'm off for the night.

[17:53:00.0000] <TabAtkins>
That's precisely my point.  ^_^  Specifying that we *must* use a gaussian, though, prevents that.

[18:14:00.0000] <Hixie>
AryehGregor: i would recommend getting the relevant browser devs together and getting them to implement something, then telling me what they implemented and i'll update the spec

[18:16:00.0000] <Philip`>
What kind of shadow implementation would be faster than a Gaussian?

[18:16:01.0000] <TabAtkins>
Lots.

[18:17:00.0000] <Philip`>
The only thing I can imagine is if you have a sharper falloff so you can use a smaller filter

[18:17:01.0000] <TabAtkins>
Frex, a downscale+upscale to fuzz details.

[18:17:02.0000] <TabAtkins>
Or the "just average all the pixels" that I think Skia does.

[18:31:00.0000] <Hixie>
um

[18:31:01.0000] <Hixie>
i can't log into the wiki

[18:31:02.0000] <Hixie>
wtf

[18:32:00.0000] <Hixie>
AryehGregor!!!! help!!! :-)

[18:33:00.0000] <Hixie>
i get "There seems to be a problem with your login session; this action has been canceled as a precaution against session hijacking. Please hit "back" and reload the page you came from, then try again"

[18:34:00.0000] <Hixie>
oh, i know why

[18:34:01.0000] <Hixie>
the /tmp directory is full

[18:35:00.0000] <Hixie>
variable: you around?

[18:35:01.0000] <variable>
Hixie, yeah?

[18:35:02.0000] <variable>
let me clear /tmp

[18:35:03.0000] <Hixie>
thanks

[18:35:04.0000] <Hixie>
:-)

[18:35:05.0000] <variable>
Hixie, I just got back from dinner ;)

[18:36:00.0000] <Hixie>
looks like it's making huge temp files in /tmp and preventing other things on my account from working (like the whatwg wiki)

[18:36:01.0000] <Hixie>
is there some way to move it to using ~/tmp instead?

[18:36:02.0000] <Hixie>
that would be ideal

[18:36:03.0000] <Hixie>
the quota there is far bigger

[18:36:04.0000] <variable>
Hixie, yeah - I'm looking now

[18:37:00.0000] <variable>
find: cannot delete ./sess_l4orkhk5sgiish85nqv7dpck27: Operation not permitted

[18:37:01.0000] <Hixie>
yeah don't worry about the ones you don't own

[18:37:02.0000] <Hixie>
woohoo, that worked

[18:37:03.0000] <Hixie>
ok, wiki login is fixed

[18:38:00.0000] <TabAtkins>
Oh wow, got a totally sweet embossing effect.

[18:38:01.0000] <TabAtkins>
/me was trying to make the spec's edge-detection example for <canvas> work at a usable speed for live video.

[18:38:02.0000] <variable>
sorry about leaving it like that - I didn't realise other stuff was broken

[18:38:03.0000] <Hixie>
variable: no worries, nor did i :-)

[18:38:04.0000] <variable>
I'm going to back to work on it.

[18:38:05.0000] <variable>
I'll monitor the wiki while I'm trying to move to ~/tmp

[18:39:00.0000] <Hixie>
so long as df doesn't say /tmp is at 100% you should be fine

[18:40:00.0000] <variable>
heh - ok

[18:40:01.0000] <variable>
I'm thinking this might be *svns* tmp dir and not WebSVN

[18:41:00.0000] <Hixie>
the files were owned by your user so that's unlikely

[18:41:01.0000] <Hixie>
it could be the svn client run by websvn

[18:41:02.0000] <variable>
exactly: websvn runs the svn command using system() IIRC 

[18:41:03.0000] <Hixie>
ah yeah

[18:41:04.0000] <Hixie>
could totally be that

[18:42:00.0000] <Hixie>
try changing the TMP variable maybe?

[18:42:01.0000] <Hixie>
environment variable, i mean

[18:42:02.0000] <variable>
Hixie, erm - that variable has to be set in the PHP file.

[18:42:03.0000] <Hixie>
hmm

[18:43:00.0000] <variable>
if I set TMP in the env. the PHP file won't see it.

[18:44:00.0000] <Hixie>
yeah

[18:44:01.0000] <Hixie>
i have no idea how to change this

[18:44:02.0000] <variable>
Hixie, I'm looking now

[18:45:00.0000] <variable>
 /tmp might fill up a few times while I test to see if it worked but I'll fix it 

[18:46:00.0000] <Hixie>
no worries

[19:13:00.0000] <titacgs>
hi! I'm working on a html5 project which includes sharing the webapp I'm making between users, I was reading about the shared workers but it is not supported by firefox yet

[19:13:01.0000] <titacgs>
is there a work around for this?

[19:17:00.0000] <TabAtkins>
Shared Workers aren't meant for sharing computation across users.  They're meant for sharing computation (or providing communication) across windows opened by a single user.

[19:17:01.0000] <TabAtkins>
(By "arent' meant for" I mean "can't be used for".)

[19:20:00.0000] <titacgs>
mmmmmm

[19:20:01.0000] <titacgs>
I see

[19:24:00.0000] <titacgs>
and how can I accomplish this? I mean what tools will help me to share information between users in real time or at least with a small difference of time

[19:32:00.0000] <Hixie>
www.un.org is down.

[19:33:00.0000] <Hixie>
well, not so much down, as it appears someone deleted all of it.

[19:34:00.0000] <variable>
WebSVN has absolutely 0 documentation other than the comments in the source code. Great!

[19:34:01.0000] <Hixie>
nice

[23:00:00.0000] <boblet>
sanity check: Opera doesn’t support linear gradients yet?

[23:13:00.0000] <roc>
you mean CSS gradients?

[23:43:00.0000] <boblet>
roc: yep

[23:43:01.0000] <boblet>
doh!

[23:56:00.0000] <Hixie>
TabAtkins_: yt?

[00:11:00.0000] <Hixie>
so anyone want to write the CP for ISSUE-109?

[00:11:01.0000] <Hixie>
that is, a counter-CP to http://www.w3.org/html/wg/wiki/ChangeProposals/ariasection

[00:15:00.0000] <abarth>
that proposal is so trivial

[00:15:01.0000] <abarth>
i'm not even sure how to respond to it

[00:29:00.0000] <Hixie>
abarth: i wrote one

[00:30:00.0000] <annevk>
boblet, I don't think so

[00:30:01.0000] <boblet>
annevk: thanks (will cry a little now)

[00:31:00.0000] <Hixie>
how about issues 74 and 105, the canvas accessibility ones

[00:31:01.0000] <Hixie>
anyone want to make a case for the existing text?

[00:33:00.0000] <Hixie>
or 32, the summary="" one

[00:35:00.0000] <Hixie>
gotta love http://www.w3.org/html/wg/wiki/ChangeProposals/canvasaccessibility

[00:36:00.0000] <Hixie>
"Currently the spec does not include requirements for implementers on how to provide accessible focus rectangles [...] The details of the proposal are [...] A change to drawFocusRing()"

[00:38:00.0000] <annevk>
I think I've been Change Proposal tired since before we started with them

[00:38:01.0000] <Hixie>
my god this proposal is messed up

[00:39:00.0000] <Hixie>
it has authoring conformance criteria literally in the middle of a UA algorithm

[00:39:01.0000] <Hixie>
it uses the wrong coordinate system

[00:39:02.0000] <Hixie>
it's self-contradictory in fact about the coordinate system it uses

[00:40:00.0000] <Hixie>
it has an entirely useless set of arguments for the focus ring

[00:40:01.0000] <Hixie>
sigh

[00:40:02.0000] <annevk>
so anything goes as a Change Proposal?

[00:40:03.0000] <annevk>
maybe we should like MikeSmith's text generator come up with something good

[00:41:00.0000] <annevk>
s/like/let/

[00:41:01.0000] <MikeSmith>
my text generator has taken on a life of its own

[00:41:02.0000] <MikeSmith>
somebody told me it opened up a twitter account for itself

[00:42:00.0000] <Hixie>
seriously, read this:

[00:42:01.0000] <Hixie>
http://lists.w3.org/Archives/Public/public-canvas-api/2010AprJun/att-0054/2dcontext10-June-7.html#dom-context-2d-setCaretSelectionRect

[00:43:00.0000] <Hixie>
the definition of setCaretSelectionRect

[00:43:01.0000] <Hixie>
read that algorithm

[00:43:02.0000] <Hixie>
it has authoring criteria, it has asynchronous requirements, and then it ends with "return true"

[00:44:00.0000] <Hixie>
and that's ignoring the main problem of course, which is that the entire method is completely useless

[00:44:01.0000] <Hixie>
it does nothing if you don't have an AT, so nobody will ever use it

[00:44:02.0000] <Hixie>
plus it doesn't even do anything useful if you DO have an AT, since who on earth has a selection area that is just a rectangle with no associated selected text?

[00:46:00.0000] <annevk>
oh lol

[00:46:01.0000] <Hixie>
and then we have http://www.w3.org/html/wg/wiki/ChangeProposals/canvasaccessibilitynonav which introduces a content attribute to do what two lines of JS can do, even though to use it properly you'll still need to do those lines of JS but you'll -- in addition -- have to remove the attribute

[00:46:02.0000] <annevk>
W3C should give a spec writing 101

[00:47:00.0000] <Hixie>
and then we have http://www.w3.org/html/wg/wiki/ChangeProposals/addimagemaptocanvas which adds usemap to <canvas> despite there being basically no use cases for which that's useful

[00:47:01.0000] <Hixie>
this is ridiculous

[01:35:00.0000] <jgraham>
Crap, I need to follow up on the reply my email pointing out the problems with the canvas accessibility proposal that Hixie just mentioned

[01:37:00.0000] <Hixie>
can you just write a CCP instead? :-)

[01:37:01.0000] <jgraham>
Hixie: I'm told that the point of getCaretSelectionRect is just to provide the coordinates of the caret, not actually anything to do with selection

[01:37:02.0000] <Hixie>
well then how is it different to the API we have in the spec today?

[01:37:03.0000] <Hixie>
and why does it talk about the selection rect?

[01:38:00.0000] <jgraham>
Unless I am misremembering (which is possible), it is supposed to cover the one character covered by the caret

[01:38:01.0000] <jgraham>
But I didn't understand either so I am the wrong person to ask

[01:38:02.0000] <Hixie>
carets don't usually cover characters...?

[01:39:00.0000] <Hixie>
i wish that the change proposal process had a more defined problem description stage

[01:39:01.0000] <Hixie>
as distinct from the solution proposal stage

[01:39:02.0000] <Hixie>
currently we just run around like headless chickens spouting random proposals without ever considering what problem we're solving

[01:39:03.0000] <jgraham>
I can't write a CCP because I don't know what a good solution is

[01:39:04.0000] <Hixie>
it's just amateurish

[01:39:05.0000] <jgraham>
I just know that CP isn't one

[01:39:06.0000] <Hixie>
jgraham: the solution in the spec :-)

[01:41:00.0000] <othermaciej>
regarding caret/selection position...

[01:41:01.0000] <jgraham>
Hixie: Maybe :) I think trying to make a CP for an a11y topic that I don't have a strong view on is setting myself up for a world of hurt I don't need

[01:42:00.0000] <othermaciej>
(1) there is definitely a use case for saying where in the text the caret or selection is, although you can represent that via the child DOM

[01:42:01.0000] <jgraham>
I think the existing CP should be rejected on the basis that it is not a) workable or b) camera ready spec text

[01:42:02.0000] <Hixie>
othermaciej: that's already handled by the child DOM

[01:42:03.0000] <othermaciej>
(2) there is also a use case for the screen position of the caret or selection, for assistive technologies that would automatically zoom/center that area

[01:42:04.0000] <Hixie>
and that's already handled by the current API

[01:42:05.0000] <jgraham>
I got the impression that 2) was the interesting case here

[01:43:00.0000] <othermaciej>
focus area is a rough approximation

[01:43:01.0000] <othermaciej>
but may not be specific enough

[01:43:02.0000] <Hixie>
the current API has a focus ring and a specific point for centering on

[01:43:03.0000] <jgraham>
But I don't know why you need a width to do that

[01:43:04.0000] <othermaciej>
so you should redraw the focus ring every time the caret moves?

[01:44:00.0000] <Hixie>
yes

[01:44:01.0000] <othermaciej>
if I wrote code like that in WebKit I would be fired

[01:44:02.0000] <othermaciej>
but maybe the standards are lower for Web developers

[01:44:03.0000] <Hixie>
well if you wrote code that had a text box in canvas i'd fire you long before you screwed up the caret painting

[01:44:04.0000] <Hixie>
but apparently that's what we're trying to solve

[01:44:05.0000] <Hixie>
so

[01:45:00.0000] <othermaciej>
well, I advocated not supporting text drawing on the canvas at all, but apparently there are use cases for it

[01:45:01.0000] <annevk>
they're trying to make bespin work

[01:45:02.0000] <Hixie>
the problem with an explicit API just to focus on a caret is that there's no reason to call it _other_ than accessibility

[01:45:03.0000] <Hixie>
which means most people won't call it, and most that will will call it in a buggy fashion

[01:45:04.0000] <Hixie>
and we'll be no better off and possible worse off than if we had nothing

[01:46:00.0000] <annevk>
might be more fruitful for a11y to work on DOM Range + CSS styling so bespin can move into a <textarea>

[01:46:01.0000] <Hixie>
at least with the focus ring API there's a use case, it gets you free native focus ring drawing

[01:46:02.0000] <jgraham>
It does seem odd to move the focus ring for every caret move though

[01:46:03.0000] <Hixie>
i agree that it's suboptimal

[01:46:04.0000] <othermaciej>
I don't think the bespin guys are remotely interested in moving off canvas, even if you made a good enough alternative

[01:46:05.0000] <othermaciej>
Bespin doesn't even have a focus ring

[01:47:00.0000] <othermaciej>
you would have to draw one offscreen to use this API

[01:48:00.0000] <othermaciej>
heck, even in native Mac apps it's not uncommon that some text areas don't get focus rings

[01:48:01.0000] <jgraham>
I suppose one could make the optimistic assumption that so few people will write editable-text-on-canvas that they will be unusually good developers and unusually likely to get it right

[01:48:02.0000] <jgraham>
Although I am not really an optimist

[01:49:00.0000] <othermaciej>
if it made sense to have an API to draw a caret, that would combine with a useful operation

[01:49:01.0000] <Hixie>
oh we could do that

[01:49:02.0000] <othermaciej>
but typically a caret would blink, and you can't handle that part for the developer

[01:49:03.0000] <Hixie>
have it automatically determine the baseline positioning and so on

[01:50:00.0000] <Hixie>
so you just give it the text x,y and the width of the text so far or something

[01:50:01.0000] <othermaciej>
well, I suppose you can with a fancy enough API (you would have to call them to paint what was behind the caret, or save it in a buffer)

[01:50:02.0000] <jgraham>
You could even support the blink rate stuff that they want :)

[01:50:03.0000] <Hixie>
yeah

[01:51:00.0000] <Hixie>
ignore the call if it's during an off period

[01:51:01.0000] <Hixie>
i don't understand why we're discussing this in the change proposal system and not in the bug system

[01:51:02.0000] <Hixie>
did i reject a change to the focus ring API at some point?

[01:51:03.0000] <othermaciej>
I don't remember how canvas accessibility made it into the issue system

[01:51:04.0000] <othermaciej>
I believe it was before the current decision policy

[01:52:00.0000] <jgraham>
Yes, I think it was in the "someone says this is a problem" phase

[01:52:01.0000] <jgraham>
Where everything got put in Tracker

[01:52:02.0000] <othermaciej>
if you come up with a better caret API, I bet you could convince the accessibility folks to withdraw that proposal by consensus

[01:53:00.0000] <Hixie>
well i'd be happy to do so, but i can't do it on the timetable that this issue is on

[01:53:01.0000] <Hixie>
i have like 200 bugs and 1000 e-mails ahead of it in the queue

[01:54:00.0000] <othermaciej>
maybe if you sketch it out you could convince them to wait to see it (not as sure on that though)

[01:54:01.0000] <othermaciej>
agree that bugs/emails should be higher priority

[01:55:00.0000] <othermaciej>
my personal technical opinion (off-the-cuff, have not thought about it super deeply) is that both nonav and usemap proposals are redundant with things you can already do in the existing spec, but there is some chance they could be a little bit more convenient for some use cases

[01:55:01.0000] <othermaciej>
not sure which side of the leger that ends up on

[01:56:00.0000] <Hixie>
i'd love to see any examples of them being used realistically that showed such cases

[02:00:00.0000] <othermaciej>
I will agree the respective proposed spec text for both is not the best quality drafting

[02:01:00.0000] <Hixie>
you are a master of the understatement

[02:15:00.0000] <annevk>
hmm

[02:15:01.0000] <annevk>
bit.ly even ate my fragment identifier

[02:15:02.0000] <annevk>
wtf twitter

[02:16:00.0000] <annevk>
hmm, only when using the expanding feature

[02:22:00.0000] <hsivonen>
Is there still no feedback from the Bespin team?

[02:27:00.0000] <gsnedders>
http://talk.maemo.org/showthread.php?p=752460

[02:27:01.0000] <gsnedders>
Opera Mobile for Maemo now with JIT on ARM

[02:32:00.0000] <annevk>
Hixie, for P2P, making the API protocol agnostic seems sort of like the wrong optimization as the API is very trivial compared to the protocol, but I guess you mostly mean you don't want to do the protocol :)

[02:48:00.0000] <MikeSmith>
is bespin still even being actively maintained?

[02:56:00.0000] <jgraham>
MikeSmith: Yes

[02:56:01.0000] <jgraham>
They seem to rewrite parts of it every so often

[02:57:00.0000] <jgraham>
I think they just rewrote the server in node.js

[02:57:01.0000] <MikeSmith>
jgraham: cool

[02:57:02.0000] <MikeSmith>
dinnet know that

[02:57:03.0000] <jgraham>
hsivonen: It was claimed that they had been contacted directly and didn't respond

[02:59:00.0000] <jgraham>
MikeSmith: http://groups.google.com/group/bespin/browse_thread/thread/6de8c718d64232a0

[03:40:00.0000] <annevk>
"A frustrating point for working group members is that this proposal has been out for month and it was not until after an entire vote for consensus was reached that we get a comment from Opera." heh, and how long have we been awaiting feedback for proposals included in the HTML5 draft? ...

[03:41:00.0000] <jgraham>
I kind of figure that if you lockl yourself away in a taskforce it is not that surprising when you get fewer comments

[03:50:00.0000] <AryehGregor>
Yeah, it seems like if you want broader comments earlier, you should use the main discussion fora and not create your own . . .

[04:21:00.0000] <AryehGregor>
gfxFloat sigma = CurrentState().shadowBlur > 8 ? sqrt(CurrentState().shadowBlur) : CurrentState().shadowBlur / 2;

[04:21:01.0000] <AryehGregor>
http://hg.mozilla.org/mozilla-central/file/5fda39cd703c/content/canvas/src/nsCanvasRenderingContext2D.cpp#l1855

[04:21:02.0000] <AryehGregor>
Maybe that's why Firefox renders canvas shadows wrong?

[04:21:03.0000] <AryehGregor>
You know, sqrt(CurrentState().shadowBlur) instead of sqrt(2*CurrentState().shadowBlur)?

[04:22:00.0000] <AryehGregor>
Or am I reading the spec wrong?

[04:24:00.0000] <AryehGregor>
/me doesn't think so, since the Mozilla behavior makes shadowBlur = 8 the same as shadowBlur = 16

[04:25:00.0000] <AryehGregor>
/me tests that

[04:25:01.0000] <Philip`>
It should be 2*

[04:25:02.0000] <AryehGregor>
Conveniently, I've already basically written a reftest for this using SVG.  :)

[04:25:03.0000] <AryehGregor>
Yep, indeed, 8 and 16 look identical.

[04:26:00.0000] <AryehGregor>
What a silly bug.  This is exactly the sort of thing we need an official test suite for.

[04:26:01.0000] <Philip`>
Then 9 is less blurry than 8

[04:26:02.0000] <AryehGregor>
Yep!

[04:26:03.0000] <AryehGregor>
Noticeably so.

[04:26:04.0000] <Philip`>
which is a bigger discontinuity than the second-order one the bug was complaining about :-)

[04:26:05.0000] <AryehGregor>
/me works on a patch

[04:26:06.0000] <roc>
if you could stick that in a patch, I'll review it for you :-)

[04:27:00.0000] <Philip`>
We already have tests, and http://test.w3.org/html/tests/submission/PhilipTaylor/canvas/index.2d.shadow.blur.html makes it obvious when it's not right

[04:27:01.0000] <AryehGregor>
/me has to remind himself how to actually compile Mozilla and such, should post a bug today and will CC roc 

[04:27:02.0000] <Philip`>
We just need people to run the tests and check for differences and file bugs and fix them

[04:27:03.0000] <AryehGregor>
Guess so.  :)

[04:27:04.0000] <Philip`>
(and to fix bugs in the tests, and to write more tests, etc)

[04:30:00.0000] <AryehGregor>
I suspect Chrome is wrong because they deliberately use some kind of non-Gaussian blur, on the other hand.  Not sure on that, though.  Chrome is way further off the mark than Firefox.

[04:30:01.0000] <AryehGregor>
(which is saying a lot, when Firefox makes all blurs above 8 41% bigger)

[04:30:02.0000] <MikeSmith>
jgraham: thanks for link about Bespin roadmap

[04:31:00.0000] <Philip`>
(You probably mean smaller)

[04:31:01.0000] <AryehGregor>
Er, yes, probably.

[04:31:02.0000] <AryehGregor>
/me stares at code compiling.

[04:32:00.0000] <AryehGregor>
/me will have to get some real CPUs if he gets more into compiling stuff, or get distcc working . . . now if only I had managed to persuade other household members to upgrade their computers to Linux, that'd be like six extra CPUs.

[04:33:00.0000] <Philip`>
https://bugzilla.mozilla.org/show_bug.cgi?id=310682 - hmm, looks like I got the calculation right in my early patch but didn't notice it was broken in the rewritten one

[04:53:00.0000] <AryehGregor>
/me wonders if anyone does reviews on what CPUs are best for compiling.

[04:55:00.0000] <AryehGregor>
Philip`, do you know if there's any reason anyone would want blurRadius/2 instead of sqrt(2*blurRadius) at 8 and below?

[05:02:00.0000] <Philip`>
AryehGregor: No, unless it happens to give you a nicer range of blurs for small integers or something like that

[05:02:01.0000] <AryehGregor>
Would it make any sense as an optimization?

[05:02:02.0000] <AryehGregor>
I think I recall someone from Safari saying they considered it as a bug . . .

[05:02:03.0000] <Philip`>
That equation just seemed to be the best match for what Safari looked like (I don't know if it what's they do internally)

[05:03:00.0000] <othermaciej>
we just do what CG does

[05:03:01.0000] <Philip`>
(By "they" I meant the CG people :-) )

[05:04:00.0000] <othermaciej>
supposedly the threshold below 8 pixels gives a smoother progression for different radius sizes

[05:04:01.0000] <othermaciej>
at least that is what I have heard

[05:04:02.0000] <AryehGregor>
So CG's blur function accepts this weird blurRadius instead of just accepting sigma directly?

[05:04:03.0000] <AryehGregor>
Do you think it would make sense to change it at this point, since we don't have interop on canvas shadows anyway?

[05:05:00.0000] <othermaciej>
well, we could always munge the blur radius to do what CG would do (assuming it takes a float; not sure)

[05:05:01.0000] <othermaciej>
I do not know what actually results in good looking shadows

[05:05:02.0000] <Philip`>
http://developer.apple.com/mac/library/documentation/GraphicsImaging/Reference/CGContext/Reference/reference.html#//apple_ref/c/func/CGContextSetShadow

[05:06:00.0000] <Philip`>
"A non-negative number specifying the amount of blur."

[05:06:01.0000] <AryehGregor>
Do you think it's worth pursuing, or should we just leave it alone?

[05:06:02.0000] <AryehGregor>
   CGFloat blur

[05:06:03.0000] <Philip`>
I don't think I've ever seen anything saying the scale of the number

[05:08:00.0000] <AryehGregor>
I guess it's easiest at this point to just leave it alone.

[05:08:01.0000] <AryehGregor>
It won't be anywhere near the biggest wart in the web platform.

[05:08:02.0000] <Philip`>
It seems like converging on what the spec says will take less effort than converging on anything else (given that some people already implement the spec), and I don't think it's a particularly user-hostile definition (it's just a bit weird and unjustified but people can easily guess sensible numbers)

[05:09:00.0000] <AryehGregor>
Yeah, makes sense.

[05:10:00.0000] <jgraham>
If anyone asks we will blame Apple

[05:10:01.0000] <Philip`>
(Users aren't any more likely to understand sigmas anyway)

[05:11:00.0000] <jgraham>
Then they will either direct their righteous anger there or assume the design was perfect and it was them who was wrong

[05:11:01.0000] <jgraham>
Depending on their relationship with Apple

[05:11:02.0000] <jgraham>
and the current state of the RDF

[05:13:00.0000] <AryehGregor>
Hmm, my change didn't seem to fix Firefox.

[05:13:01.0000] <AryehGregor>
Have to go now, I guess I'll look later today.

[05:13:02.0000] <roc>
did you rebuild everything?

[05:13:03.0000] <AryehGregor>
I was using a fresh mozilla-central checkout.

[05:14:00.0000] <Philip`>
Obvious question: Are you running the version you compiled, not a window of another version of Firefox that was already running?

[05:14:01.0000] <AryehGregor>
Mozilla/5.0 (X11; Linux i686; en-US; rv:2.0b2pre) Gecko/20100715 Minefield/4.0b2pre

[05:14:02.0000] <jgraham>
annevk: Can you change the favicon for the webapps tracker, please

[05:15:00.0000] <jgraham>
It is highly confusing that it has the same icon as the tabs with the spec open

[05:17:00.0000] <AryehGregor>
It does seem to look a bit closer, maybe.

[05:17:01.0000] <AryehGregor>
Okay, got to go now . . .

[05:17:02.0000] <jgraham>
annevk: (the same icon with the colours inverted or something simple would be fine)

[05:19:00.0000] <MikeSmith>
about meta/@name=viewport

[05:19:01.0000] <MikeSmith>
which already seems to have become a de facto standard

[05:19:02.0000] <MikeSmith>
are there any other meta/@name values that have rendering effects in browsers?

[05:20:00.0000] <MikeSmith>
and who is it at Apple who came up that thing to begin with?

[05:20:01.0000] <MikeSmith>
and whoever it was, why didn't they find it worthwhile to ask for feedback on it before unleashing it on the world?

[05:20:02.0000] <hsivonen>
MikeSmith: to the person's credit at Apple, they at least used meta/@name and not meta/@http-equiv

[05:21:00.0000] <hsivonen>
MikeSmith: it was created in the stealth mode before the iPhone was announced

[05:21:01.0000] <MikeSmith>
I see

[05:22:00.0000] <MikeSmith>
hsivonen: yeah, glad it's not http-equiv at least

[05:28:00.0000] <Matjas>
When using Flash as a fallback for HTML5 <video>, is it a good idea to use an additional <source> for the .flv (Flash Video) file, or not?

[05:47:00.0000] <Peter`>
Matjas: a quick test shows that no browser is capable of playing .flv files through <video>, next to that, it's called Flash Video for a reason. I wouldn't include it

[05:48:00.0000] <Matjas>
Peter`: Okay, thanks.

[05:49:00.0000] <annevk>
jgraham, if you make one

[05:49:01.0000] <annevk>
jgraham, can you make a pink one?

[05:50:00.0000] <jgraham>
annevk: Probably. Where is the original?

[05:51:00.0000] <annevk>
http://simon.html5.org/sandbox/svg/whatwg

[05:52:00.0000] <annevk>
maybe I can do this myself... but I rather just wget and remove the favicon line

[06:12:00.0000] <annevk>
so I tried fiddling with that icon and everything fall apart

[06:17:00.0000] <jgraham>
Oh

[06:18:00.0000] <jgraham>
I made you a new one http://hoppipolla.co.uk/410/favicon.ico

[06:18:01.0000] <jgraham>
If you can work out how to use it without everything dying

[06:19:00.0000] <annevk>
that's more like purple, no?

[06:19:01.0000] <jgraham>
Picky

[06:20:00.0000] <jgraham>
I used one of those web colour scheme generator things to find some pinkish colour that would vaugely work with the dark green

[06:20:01.0000] <jgraham>
Since they will typically be next to each other

[06:25:00.0000] <annevk>
hotpink it is

[06:28:00.0000] <jgraham>
That is hideous

[06:28:01.0000] <annevk>
you asked for it

[06:29:00.0000] <annevk>
complaining about a favicon, come on ;p

[06:29:01.0000] <jgraham>
Also, it only seems to be working in Opera

[06:29:02.0000] <annevk>
that sounds like a cache issue

[06:29:03.0000] <jgraham>
Maybe. It is just showing the default in the others though

[06:30:00.0000] <annevk>
wfm in Chrome

[06:30:01.0000] <annevk>
doesn't work in Firefox

[06:30:02.0000] <annevk>
but Firefox does work on my site

[06:30:03.0000] <annevk>
hmm

[06:30:04.0000] <annevk>
maybe still a cache issue

[06:30:05.0000] <zcorpan_>
wfm in firefox

[06:31:00.0000] <annevk>
weird, doesn't in mine

[06:31:01.0000] <annevk>
even after explicitly loading /favicon.ico

[06:31:02.0000] <annevk>
but someone else can fix that

[06:32:00.0000] <jgraham>
Works in Chromium after clearing the cache

[06:32:01.0000] <jgraham>
But I kinda wish it didn't :(

[06:32:02.0000] <annevk>
I used http://www.whatwg.org/images/logo.svg eventually

[06:32:03.0000] <annevk>
jgraham, hehe

[06:32:04.0000] <jgraham>
Also, what happened to the chromium menu. It's insane

[06:33:00.0000] <annevk>
the one from Simon is far more clever but SVG rendering tools are just too crappy to support that

[06:33:01.0000] <annevk>
they need explicit paths and such

[06:33:02.0000] <jgraham>
annevk: I used Simon's one and then edited around some of the problems inkscape had

[06:34:00.0000] <jgraham>
Seriously, apart from having buttons in the menu, it has submenus with disclosure arrows that will always be hard against the right of the screen

[06:34:01.0000] <jgraham>
So that the submenu will always open on the left

[06:34:02.0000] <jgraham>
It must be a bug

[06:35:00.0000] <jgraham>
Or unfinished change at least

[06:35:01.0000] <annevk>
at least they do not have 4 menu depth

[06:35:02.0000] <annevk>
like selecting an encoding in Opera requires

[06:35:03.0000] <annevk>
selecting an encoding is something that should not be in the UI anyway

[06:35:04.0000] <annevk>
no user gets such bullshit

[06:35:05.0000] <jgraham>
Yeah, but at least our menus don't have arrows to the right and open to the left

[06:36:00.0000] <annevk>
agreed that is weird

[06:36:01.0000] <annevk>
maybe they optimized for RTL?

[06:36:02.0000] <annevk>
:)

[06:36:03.0000] <Philip`>
Opera's menus often open off my screen so I can't see them at all :-(

[06:37:00.0000] <Philip`>
though maybe that's my fault for having a non-rectangular multi-monitor desktop

[06:37:01.0000] <jgraham>
Philip`: File a bug?

[06:38:00.0000] <Philip`>
/me is too lazy and doesn't know if it's even fixable on Linux

[06:40:00.0000] <annevk>
i like this new icon

[06:40:01.0000] <annevk>
should make one for http://webforms2.org/ too

[07:14:00.0000] <AryehGregor>
That is quite hideous.

[07:23:00.0000] <AryehGregor>
Philip`, do you understand what the call to gfxAlphaBoxBlur::CalculateBlurRadius() does?  Maybe that's where the problem is . . . ?  Even after the extra factor of sqrt(2), Firefox is still showing significantly too little blurring.

[07:24:00.0000] <AryehGregor>
The problem with me trying to write a patch here is I have no idea what any of this stuff does.

[07:25:00.0000] <AryehGregor>
Is this doing a real Gaussian blur at all?

[07:26:00.0000] <AryehGregor>
It looks like it's not.

[07:26:01.0000] <AryehGregor>
Hmm, there's an approximation specified in the SVG spec itself.

[07:27:00.0000] <AryehGregor>
http://en.wikipedia.org/wiki/Box_blur

[07:32:00.0000] <Philip`>
AryehGregor: I have no idea what gfxAlphaBoxBlur does

[07:32:01.0000] <Philip`>
It sounds like it ought to be a sufficiently close approximation of a Gaussian blur that you shouldn't see much difference

[07:33:00.0000] <Philip`>
(as long as you don't exceed SIGMA_MAX)

[07:34:00.0000] <Philip`>
(which is at shadowBlur=312.5)

[07:44:00.0000] <AryehGregor>
It looks like it does three box blurs, which is supposed to be within 3% of a true Gaussian blur.

[07:44:01.0000] <AryehGregor>
But canvas is the only caller of that.

[07:44:02.0000] <AryehGregor>
So maybe it's just buggy.

[07:45:00.0000] <Philip`>
That seems quite possible

[07:45:01.0000] <Philip`>
given that the output is not what you expect

[07:49:00.0000] <AryehGregor>
/me is looking at the code for feGaussianBlur now, since that works right

[07:49:01.0000] <AryehGregor>
Yay, approximating integer division by multiplication and bitshifts.

[07:49:02.0000] <AryehGregor>
 * If all that math confuses you, this should convince you:

[07:49:03.0000] <AryehGregor>
 * > perl -e 'for($N=1;(255*$N*int(0xFFFFFFFF/(255*$N)))>>24==255;++$N){}print"$N\n"'

[07:49:04.0000] <AryehGregor>
 * 66052

[07:52:00.0000] <jgraham>
That looks a lot like line noise

[07:52:01.0000] <AryehGregor>
Yes, sometimes it's hard to tell the difference between Perl and line noise.

[07:53:00.0000] <jgraham>
Also, why does it do anything? Where is $N mutated?

[07:53:01.0000] <AryehGregor>
++$N

[07:53:02.0000] <jgraham>
Oh wait

[07:53:03.0000] <jgraham>
I was being dumb

[07:53:04.0000] <Philip`>
Remove the '$'s and it's basically C

[07:53:05.0000] <Philip`>
It's not doing anything Perlish

[07:54:00.0000] <AryehGregor>
Cramming an entire program on one line with no spaces except where required by syntax strikes me as very Perlish.

[07:54:01.0000] <Philip`>
(What source file is this in?)

[07:54:02.0000] <jgraham>
I think the maths would be easier to follow...

[07:54:03.0000] <AryehGregor>
content/svg/content/src/nsSVGFilters.cpp

[07:54:04.0000] <jgraham>
(what is the program trying to show?)

[07:55:00.0000] <workmad3>
AryehGregor: only thing that's doing that isn't C is that C would need a main() function to work

[07:55:01.0000] <workmad3>
(oh, and would probably use printf rather than print)

[07:55:02.0000] <AryehGregor>
workmad3, and printf("%d\n", N) instead of print "$N\n".

[07:55:03.0000] <AryehGregor>
Yar.

[07:55:04.0000] <workmad3>
it isn't a very perlish version of getting it all onto one line though :)

[07:56:00.0000] <AryehGregor>
jgraham, the program is trying to show that 255*$N*int(0xFFFFFFFF/(255*N))>>24 == 255 for numbers up to a fairly large amount, of course.

[07:56:01.0000] <AryehGregor>
Except with some more parentheses.

[07:57:00.0000] <AryehGregor>
I don't know what the 255's are doing there, isn't ($N*int(0xFFFFFFFF/(255*$N)))>>25 == 1 equivalent?

[07:58:00.0000] <AryehGregor>
Oh, hmm, no.

[07:58:01.0000] <AryehGregor>
Because the 255* is before the bitshift.

[07:58:02.0000] <AryehGregor>
Also, it's 24 and not 25.

[07:58:03.0000] <AryehGregor>
/me saw this trick before when deciphering the assembly output of a trivial C program he wrote for fun, but you'd think the compiler would do this for you.

[08:01:00.0000] <AryehGregor>
Okay, but anyway, I am totally incapable of figuring out what's wrong here.  I'm comparing BoxBlur() in nsSVGFilters.cpp and BoxBlurHorizontal()/BoxBlurVertical() in gfxBlur.cpp, and it's all gibberish to me.

[08:02:00.0000] <AryehGregor>
(there seems to be considerable code duplication here, incidentally)

[08:02:01.0000] <Philip`>
 static const gfxFloat GAUSSIAN_SCALE_FACTOR = (3 * sqrt(2 * M_PI) / 4) * (3/2);

[08:02:02.0000] <Philip`>
Surely that's not going to work

[08:02:03.0000] <Philip`>
because (3/2) == 1

[08:02:04.0000] <AryehGregor>
Hmmm.

[08:03:00.0000] <Philip`>
The rest will get promoted to doubles but that won't

[08:03:01.0000] <AryehGregor>
In nsSVGFilters.cpp, it says: double size = aStdDev*3*sqrt(2*M_PI)/4;

[08:03:02.0000] <AryehGregor>
Then: return PRUint32(floor(size + 0.5));

[08:04:00.0000] <AryehGregor>
Well, that part is irrelevant, I guess.

[08:04:01.0000] <AryehGregor>
The SVG spec says: let d = floor(s * 3*sqrt(2*pi)/4 + 0.5)

[08:04:02.0000] <AryehGregor>
So maybe (3/2) == 1 is actually intentional somehow.  :P

[08:05:00.0000] <AryehGregor>
I could try changing that and recompiling, may as well give it a shot.

[08:05:01.0000] <AryehGregor>
Hmm, what does this mean: // Blur radius is approximately 3/2 times the box-blur size

[08:05:02.0000] <Philip`>
InflateRectForBlurDXY does the 3/2 for SVG box blurs (vs Gaussian blurs), I think

[08:05:03.0000] <AryehGregor>
Quite possible.

[08:05:04.0000] <AryehGregor>
Well, let me see.

[08:06:00.0000] <AryehGregor>
Isn't it nice how one can spot bugs without actually having any idea what the code does?

[08:07:00.0000] <Philip`>
Changing the (3/2) to 1.5 or whatever should make the blurs somewhat bigger, which is hopefully a change in the right direction

[08:08:00.0000] <AryehGregor>
/me wonders how the convention of "compilers should spam your terminal with spectacular quantities of incomprehensible garbage" developed

[08:08:01.0000] <Philip`>
That's probably the Makefile, not the compiler

[08:08:02.0000] <AryehGregor>
Then replace "compilers" with "the compilation process" if you like.

[08:08:03.0000] <Philip`>
except in the case of compiler errors in STL code, which is totally the compiler's fault for not caring about users

[08:09:00.0000] <AryehGregor>
Okay, this is much better.

[08:09:01.0000] <Workshiva>
Makefiles aren't a process as much as a somewhat deterministic trainwreck 

[08:09:02.0000] <AryehGregor>
Now the HTML is somewhat more blurry than the SVG.

[08:09:03.0000] <AryehGregor>
Unlike Opera, where they're identical.

[08:10:00.0000] <AryehGregor>
(open http://aryeh.name/tmp/test.svg and http://aryeh.name/tmp/test.html, tab between them, should see no noticeable change)

[08:11:00.0000] <Philip`>
Is there some way to toggle the SVG between Gaussian and box blurs?

[08:11:01.0000] <Philip`>
Oh, sorry, it always does box blurs

[08:12:00.0000] <AryehGregor>
Yeah, apparently no one does actual Gaussian blurs, too expensive when box blurs look the same.

[08:15:00.0000] <Philip`>
/me notes that http://test.w3.org/html/tests/submission/PhilipTaylor/canvas/index.2d.shadow.blur.html uses a true Gaussian for comparison

[08:15:01.0000] <jgraham>
What margin of error>

[08:15:02.0000] <jgraham>
?

[08:16:00.0000] <Philip`>
and in Opera they look very similar

[08:16:01.0000] <AryehGregor>
Various sources say doing three box blurs in the right way gets you within 3% of a true Gaussian blur.

[08:16:02.0000] <AryehGregor>
Without all the exponentiation and things.

[08:16:03.0000] <Philip`>
(except blur.low has some faintly visible banding in Opera's canvas)

[08:16:04.0000] <AryehGregor>
Your tests look about the same actual vs. expected in my patched Firefox.

[08:17:00.0000] <AryehGregor>
It's hard to say for sure, though.  It's easier to see when they're superimposed and you can flip back and forth.

[08:17:01.0000] <Philip`>
Right click -> open image in tab

[08:17:02.0000] <AryehGregor>
And for the canvas?

[08:18:00.0000] <AryehGregor>
Oh, that has "View Image" too.

[08:18:01.0000] <AryehGregor>
At least in Firefox.

[08:18:02.0000] <Philip`>
Yeah

[08:18:03.0000] <Philip`>
It's quite handy :-)

[08:18:04.0000] <AryehGregor>
Okay, they're definitely different in patched Firefox, but much less so.

[08:19:00.0000] <Philip`>
Is the difference smaller than the difference between canvas and SVG?

[08:19:01.0000] <Philip`>
Or, equivalently, do Firefox and Opera agree on the SVG blur?

[08:19:02.0000] <AryehGregor>
Everything agrees on the SVG blur as far as I can tell in a side-by-side comparison.

[08:19:03.0000] <AryehGregor>
I haven't tried superimposing them.

[08:19:04.0000] <AryehGregor>
/me tries that

[08:21:00.0000] <Philip`>
/me is getting confused as to what's identical and what's a little different and what's a lot different

[08:22:00.0000] <AryehGregor>
I can't tell any difference between Firefox, Chrome, or Opera's renderings of my SVG when superimposed, nor any difference before Opera's canvas and SVG.

[08:22:01.0000] <Philip`>
Okay

[08:22:02.0000] <AryehGregor>
I notice a distinct difference between my SVG and HTML in Chrome and (patched) Firefox when superimposed.

[08:22:03.0000] <AryehGregor>
And also in your test case.

[08:24:00.0000] <AryehGregor>
Opera doesn't give me an image link for the canvas images.  :(

[08:25:00.0000] <Philip`>
javascript:location=c.toDataURL();

[08:25:01.0000] <AryehGregor>
/me sighs

[08:26:00.0000] <AryehGregor>
Yeah, they look basically identical superimposed in Opera.

[08:28:00.0000] <AryehGregor>
. . . c is the same as document.getElementById("c")?  Really?  How did I never know that?

[08:28:01.0000] <AryehGregor>
I guess it's not encouraged to use it for serious stuff in case something else shadows the element, though.

[08:28:02.0000] <AryehGregor>
Okay, I'll just post the patch, I guess.

[08:35:00.0000] <Philip`>
AryehGregor: I think the c shortcut doesn't work in e.g. standards mode in Firefox

[08:35:01.0000] <AryehGregor>
Interesting.

[08:35:02.0000] <Philip`>
so don't rely on it

[09:17:00.0000] <AryehGregor>
https://bugzilla.mozilla.org/show_bug.cgi?id=578995

[09:20:00.0000] <AryehGregor>
Philip`, roc: ^^

[09:22:00.0000] <TabAtkins>
AryehGregor: So, actually inverting the gaussian (so I can get a function that takes the blur length and spits out the stdev) requires the Lambert W.  You're mathier than I.  I assume that's dumb to calculate?

[09:23:00.0000] <AryehGregor>
TabAtkins, Lambert W is not expressible in terms of elementary functions.  It's probably fairly expensive to calculate, but it should only need to be calculated once per declaration, so shouldn't be a big deal.

[09:24:00.0000] <TabAtkins>
Unless you're animating the shadow, of course.

[09:24:01.0000] <AryehGregor>
Heh, yeah.

[09:24:02.0000] <AryehGregor>
Then you're going to have to cheat.

[09:24:03.0000] <TabAtkins>
You can iterate it with some Newton's method, but still.

[09:24:04.0000] <TabAtkins>
I suspect that'd probably converge quickly.

[09:24:05.0000] <TabAtkins>
Since we can make a good guess already.

[09:25:00.0000] <Philip`>
Why would you want to force people to do something so complex?

[09:25:01.0000] <AryehGregor>
Yes, apparently you need to use Newton's method here.  No x86 instruction for it or anything.

[09:25:02.0000] <AryehGregor>
Philip`, so they have some idea of what it does instead of passing in arbitrary numbers.

[09:25:03.0000] <TabAtkins>
I don't.  I'm just providing an example of how to calculate the stdev, if you wanted to use an actual gaussian.  If you wanted to use something else, that's probably easier to calculate.

[09:26:00.0000] <AryehGregor>
Or maybe harder.

[09:27:00.0000] <Philip`>
It seems like in practice "something else" is an approximation of a Gaussian, so you still calculate the same sigma

[09:27:01.0000] <TabAtkins>
Maybe.  Anyway, getting an approximation within the range I want to specify is good enough.

[09:28:00.0000] <AryehGregor>
/me wonders if there's any point in adding [parity-opera][parity-ie][parity-safari] to the whiteboard of his bug, or if it's just noise

[09:29:00.0000] <TabAtkins>
Probably just noise.  It's a clear and simple spec violation in the first place.

[09:30:00.0000] <Philip`>
AryehGregor: You should probably add an r+ flag if you want the patch reviewed

[09:30:01.0000] <AryehGregor>
I assume you mean r?.

[09:30:02.0000] <Philip`>
Oh

[09:30:03.0000] <Philip`>
Yeah

[09:30:04.0000] <AryehGregor>
I think me adding r+ to my own patch would be considered objectionable.

[09:31:00.0000] <AryehGregor>
Also, it's obviously r-, because 1) it doesn't fully fix the problem, and 2) it has no tests.

[09:31:01.0000] <AryehGregor>
So it's not ready for review yet.

[09:31:02.0000] <Philip`>
Oh, okay then

[09:31:03.0000] <Philip`>
Surely it has at least as many tests as the original shadow implementation, though

[09:31:04.0000] <Philip`>
and presumably they were good enough then

[09:33:00.0000] <AryehGregor>
I see no tests for the original shadow implementation.  That was in September 2008, maybe they weren't as picky about tests then?

[09:34:00.0000] <Workshiva>
That's when nobody implemented shadows at all, isn't it?

[09:34:01.0000] <AryehGregor>
When I submitted a patch a few months ago, I was told every new commit had to have patches, except for security fixes and things that were just impossible to test.

[09:34:02.0000] <AryehGregor>
I mean, had to have tests.

[09:34:03.0000] <Philip`>
It untodoed the tests in https://bug310682.bugzilla.mozilla.org/attachment.cgi?id=335212

[09:35:00.0000] <AryehGregor>
I'm pretty sure commits were always required to have patches.  You aren't supposed to make empty commits to send messages to readers of the commit mailing list or anything.

[09:35:01.0000] <AryehGregor>
Oh, I missed that.

[09:35:02.0000] <AryehGregor>
Yeah, it had test updates in a separate commit.

[09:35:03.0000] <Philip`>
Sometimes you are, e.g. if you forget to mention the bug number in an earlier commit :-)

[09:37:00.0000] <AryehGregor>
Hmm, that's lots of isPixel tests.  I wonder how the original tests were devised?  What reference was used?

[09:37:01.0000] <AryehGregor>
Because if they pass, they're probably wrong.  :)

[09:37:02.0000] <AryehGregor>
(but maybe just incomplete)

[09:37:03.0000] <Philip`>
The original tests are the ones I wrote

[09:37:04.0000] <AryehGregor>
So why didn't they fail?

[09:37:05.0000] <Philip`>
I think I didn't have any testing the shape/size of the blur precisely, though

[09:38:00.0000] <Philip`>
since everyone will approximate it and round differently etc so it's hard to know what tolerances to allow

[09:38:01.0000] <Philip`>
so I just stuck with manual visual verification tests for that

[09:39:00.0000] <AryehGregor>
How do I run those tests to see if they still pass with my patch applied?

[09:39:01.0000] <Philip`>
http://test.w3.org/html/tests/submission/PhilipTaylor/canvas/index.2d.shadow.html

[09:40:00.0000] <Philip`>
I think that's basically all of them, except for boring attribute getting/setting/etc

[09:40:01.0000] <Philip`>
(Don't remember if I've made many changes since the version imported into Mozilla)

[09:40:02.0000] <AryehGregor>
Oh, interesting.

[09:41:00.0000] <jgraham>
Hixie: given html like <svg></svg> I think the current spec has a crash. The </svg> fails to switch the parser out of foreign content mode. The EOF then keeps popping until an <svg> or <math> token is reached, which never happens because there isn't one

[09:41:01.0000] <jgraham>
(if someone else fancies checking that before I file a bug it would be appreciated)

[09:41:02.0000] <AryehGregor>
Well, my change causes no extra failures on that page.

[09:42:00.0000] <AryehGregor>
A reftest between SVG and canvas would be cool, if that could be arranged.

[09:42:01.0000] <AryehGregor>
It would make sense for them to share code anyway, I would think, no?

[09:42:02.0000] <AryehGregor>
(but if not, probably they won't be pixel-perfect, oh well)

[09:49:00.0000] <AryehGregor>
Philip`, you need to make one big page with all your tests, that outputs the number passed and failed without requiring you to count.  Then everyone will start using your tests as a barometer of how good their HTML5 compliance is.

[09:49:01.0000] <Philip`>
AryehGregor: I've already got http://philip.html5.org/tests/canvas/suite/tests/results.html

[09:50:00.0000] <AryehGregor>
Is that updated automatically?

[09:50:01.0000] <Philip`>
No

[09:50:02.0000] <Philip`>
Well, partly

[09:50:03.0000] <AryehGregor>
/me realizes that IE9 is actually up to PP3, not PP2, oops

[09:51:00.0000] <Philip`>
http://philip.html5.org/tests/canvas/suite/reportgenentry.html lets you run the tests

[09:51:01.0000] <Philip`>
and if you're me and you're running it on localhost then you can save the results to a database

[09:51:02.0000] <Philip`>
and then regenerate the results table

[09:51:03.0000] <AryehGregor>
Nice.

[09:52:00.0000] <Philip`>
It'd be nice if the W3C Testing TF got a system running for more easily running tests and submitting results

[09:52:01.0000] <AryehGregor>
/me looks pointedly at TabAtkins.

[09:52:02.0000] <TabAtkins>
Yes, yes, I'm working on it.

[09:52:03.0000] <Philip`>
so I haven't bothered trying to upload my own test harness there

[09:53:00.0000] <Philip`>
TabAtkins: Work faster :-p

[09:53:01.0000] <TabAtkins>
I try, but then I get distracted by shiny objects and CSS emails.

[09:53:02.0000] <Philip`>
The fate of the web depends on you

[09:53:03.0000] <TabAtkins>
o_O

[09:53:04.0000] <TabAtkins>
/me notes that we are, indeed, fucked.

[09:54:00.0000] <kling>
Philip`: fwiw webkit will be a loot greener in the next update of that page :)

[09:54:01.0000] <kling>
lot*

[09:54:02.0000] <Philip`>
kling: Yeah, I've been seeing lots of nice-looking commit messages :-)

[09:55:00.0000] <AryehGregor>
Interesting, Opera maxes out both cores while loading the full page.

[09:55:01.0000] <AryehGregor>
At least part of the time.

[09:55:02.0000] <AryehGregor>
(unless it's something else that's randomly running at the same time)

[09:55:03.0000] <Philip`>
Maybe it's just running an idle loop in a background thread, to trick you into thinking it's making full use of your hardware

[09:56:00.0000] <AryehGregor>
Those sneaky Europeans.

[09:57:00.0000] <jwalden>
Philip`: jresig was at one time working on something like that (test swarm?)

[09:58:00.0000] <AryehGregor>
We don't need anything fancy.  For starters, just have a JavaScript framework that can be run as a regular old web page.

[10:03:00.0000] <AryehGregor>
/me finds Chrome dev channel at 82.1%, Firefox nightly at 77.0%, Opera 10.60 at 79.8%

[10:03:01.0000] <AryehGregor>
/me maliciously gave three significant figures so Opera would be below 80%

[10:06:00.0000] <gsnedders>
For the canvas tests?

[10:14:00.0000] <AryehGregor>
This is for all of Philip`'s tests.

[10:24:00.0000] <AryehGregor>
/me observes that gmail.com is the domain name of 50% of the addresses notified when he changes his bug, and the runner-up is . . . a 16-way tie between 16 different domains, most of them personal domains.  Interesting.

[10:25:00.0000] <Philip`>
Gmail seems like the only webmail service you wouldn't be embarrassed to use

[10:25:01.0000] <Philip`>
e.g. nobody would take you seriously if you were @hotmail.com

[10:26:00.0000] <AryehGregor>
One of the addresses was @aol.com!

[10:26:01.0000] <AryehGregor>
I also know someone @earthlink.net.

[10:26:02.0000] <AryehGregor>
(That person uses dial-up too.)

[10:26:03.0000] <jgraham>
Is hixie.ch slow for everyone?

[10:26:04.0000] <TabAtkins>
No.

[10:27:00.0000] <AryehGregor>
Someone needs to make slowforeveryoneorjustme.com.

[10:27:01.0000] <jgraham>
Specifically the live dom viewer

[10:27:02.0000] <Workshiva>
... I was going to say that, AryehGregor !

[10:27:03.0000] <jgraham>
Actauuly that is timing out in firefox

[10:27:04.0000] <jgraham>
Which is causing a YSOD

[10:27:05.0000] <jgraham>
Because of a missing entity in the error document

[10:28:00.0000] <TabAtkins>
Nm, yes it is running a bit slow.

[10:28:01.0000] <AryehGregor>
Okay, time to stop dilly-dallying and go study some math for the next half of my six-ish-hour day.  Back in a few hours.

[10:50:00.0000] <TabAtkins>
Writing on the @srcdoc proposal was making me wonder why a <sandbox @flags @length></sandbox> tag wouldn't work, then it hit me - encoding differences.  Many/most authors have no idea that there's a difference between bytes and characters, and the sort of minefield that most languages make them step through to deal with unicode properly.

[10:53:00.0000] <othermaciej>
also the fallback behavior would be insecure

[10:53:01.0000] <TabAtkins>
Ah, right, yeah.

[10:53:02.0000] <othermaciej>
rather than failing

[10:53:03.0000] <othermaciej>
which may or may not be better, depending on your use case

[10:54:00.0000] <othermaciej>
if you are also doing server-side filtering and want sandbox for defense in depth, it would be better

[10:55:00.0000] <othermaciej>
it would also be oddly non-orthogonal for the parser to sometimes ignore a close tag in this case

[10:56:00.0000] <othermaciej>
<sandbox @secure-token> </sandbox @secure-token> could work but carries risk if the token is predictable

[10:56:01.0000] <TabAtkins>
It would be a matter of "consume @length characters from the stream - if the next 10 characters are not </sandbox>, ??? (abort, retry, continue)"

[10:56:02.0000] <TabAtkins>
Yeah, the rest of the suggestions I remembered the problems with.

[10:57:00.0000] <othermaciej>
I guess both that and encoding issues are harder to deal with correctly than the minimal escaping required for @srcdoc

[10:57:01.0000] <TabAtkins>
Yes.

[10:57:02.0000] <TabAtkins>
@srcdoc is just data: with slightly easier escaping and a slightly better fail model.

[10:58:00.0000] <othermaciej>
yeah, I guess a hypothetical inline sandboxing mechanism would have to not parse its contents normally at all, if it was going to put it in an imaginary frame

[10:59:00.0000] <othermaciej>
people also suggested these mechanisms as things would actually put the sandboxed content in the same document tree, but that makes it hard to implement anything other than just disabling of scripts in the sandboxed content

[10:59:01.0000] <TabAtkins>
Presumably it would be "consume @length characters, then continue consuming characters until </sandbox> is encountered, and stuff everything so consumed into a sandboxed context".

[10:59:02.0000] <Philip`>
It looks like the failure mode for @length would be subtle and insecure - you insert some Unicode characters so the server thinks length=1000 (bytes) and the browser reads 1000 characters which causes it to skip over </sandbox>...<sandbox> into the next comment where you carefully insert your own </sandbox> and break out

[10:59:03.0000] <othermaciej>
fancier sandbox flag like unique origin would be harder

[10:59:04.0000] <TabAtkins>
But (1) that makes it easy to eat the entire page if you compute it wrong, and (2) it makes it easy to just say length=0 because it "always works" until someone malicious puts </sandbox> in their content.

[11:00:00.0000] <TabAtkins>
Philip`: Yeah, all sorts of issues around @length.  They just weren't immediately obvious, so I had to spend some time thinking about it.

[11:00:01.0000] <othermaciej>
length=0 doesn't always work - it would expect the </sandbox> tag immediately and go into failure mode (whatever that is)

[11:01:00.0000] <TabAtkins>
length=0 is assuming my "forgiving" mode of seeking forward to the next </sandbox>.

[11:01:01.0000] <othermaciej>
if you don't find a </sandbox> tag in the right place, presumably the only safe thing to do is eat the rest of the page

[11:01:02.0000] <othermaciej>
ah

[11:01:03.0000] <TabAtkins>
Because the strict mode could only, um, kill the page?

[11:01:04.0000] <Philip`>
/me doesn't think security and forgiveness mix well

[11:01:05.0000] <othermaciej>
using <sandbox length=0> with those semantics would add no security whatsoever

[11:01:06.0000] <TabAtkins>
Exactly.

[11:01:07.0000] <TabAtkins>
So, that's junked.

[11:02:00.0000] <TabAtkins>
(The problem is it *appears* to work just fine, until the obvious exploit happens.)

[11:03:00.0000] <othermaciej>
any plausible @length proposal would need to not have such an escape clause

[11:03:01.0000] <TabAtkins>
Yes.

[11:03:02.0000] <othermaciej>
I think the main problem with nonzero length is the bytes vs. characters trap as discussed

[11:04:00.0000] <TabAtkins>
And if the failure mode is "eat the page" and it only happens in rare cases, that's not very good.

[11:04:01.0000] <othermaciej>
I wonder how tricky it is to escape any </sandbox> tags vs. the escaping required for @srcdoc

[11:04:02.0000] <TabAtkins>
A decent bit.

[11:05:00.0000] <Philip`>
s/</&lt;/g vs s/"/&quot;/g

[11:05:01.0000] <TabAtkins>
Especially if you allow *only* </sandbox> or every valid syntactic variant.

[11:05:02.0000] <othermaciej>
is there any way to stick one in that won't appear in an obvious literal search?

[11:05:03.0000] <TabAtkins>
Isn't something like <  /  sandbox  > allowed?

[11:05:04.0000] <Philip`>
The problem with only requiring escaping of </sandbox> is that people will forget to escape it, and then won't notice until they're attacked

[11:06:00.0000] <TabAtkins>
Philip`: You can't just generally escape <, because that defeats the entire purpose of allowing markup, which is why sandbox exists in the first place.

[11:06:01.0000] <othermaciej>
if you fail to escape quotes in @srcdoc I guess you notice immediately

[11:06:02.0000] <Philip`>
whereas with @srcdoc, they'll notice as soon as they try to write any " character

[11:06:03.0000] <Philip`>
which is likely to happen in common usage

[11:06:04.0000] <TabAtkins>
othermaciej: Precisely - quotes are common, and will fail with non-malicious content.

[11:06:05.0000] <TabAtkins>
And will fail in an obvious way.

[11:07:00.0000] <TabAtkins>
/me has dealt with forgetting to escape quotes before - it's really easy to see what you did wrong.

[11:07:01.0000] <Philip`>
It'll be obvious if they have a syntax-highlighting view-source feature, at least

[11:08:00.0000] <TabAtkins>
I mean it's obvious in the page itself, when you have a sentence cut off like "And I think it isn".

[11:08:01.0000] <Philip`>
TabAtkins: Why can't you generally escape <, and define <sandbox> so that it unescapes the content before inserting into an iframe for rendering?

[11:08:02.0000] <TabAtkins>
Philip`: I suppose that fixes the fallback for <sandbox>, but not the other issues with @length.

[11:08:03.0000] <Philip`>
TabAtkins: People don't use single-quotes for attributes

[11:09:00.0000] <TabAtkins>
Philip`: Yes they do?

[11:09:01.0000] <Philip`>
Much less than double-quotes

[11:09:02.0000] <TabAtkins>
Okay, sure, but double-quotes are still pretty common in content.

[11:09:03.0000] <TabAtkins>
/me single-quotes all the time to avoid hitting shift.

[11:09:04.0000] <Philip`>
(I forget the numbers but I think there was well over 10x difference in popularity of " vs ')

[11:11:00.0000] <Philip`>
Maybe we should use e as the sandbox delimiter

[11:11:01.0000] <TabAtkins>
Heh.

[11:11:02.0000] <Philip`>
so that people are extremely likely to notice when they forget it

[11:11:03.0000] <TabAtkins>
That fails for chinese!

[11:11:04.0000] <Philip`>
unless they're Chinese

[11:11:05.0000] <Philip`>
Yeah :-(

[11:12:00.0000] <TabAtkins>
Do statistical analysis of the page's textContent and escape on the top 5 characters in the histogram.

[11:12:01.0000] <Philip`>
Just hard-code it based on TLD

[11:13:00.0000] <TabAtkins>
What about data:?

[11:13:01.0000] <TabAtkins>
Or localhost, I suppose.  Intranets in general.

[11:13:02.0000] <Philip`>
Base it on the user's locale

[11:14:00.0000] <Philip`>
Add a series of submenus to let users override the default if it's wrong

[11:14:01.0000] <Philip`>
Anyway, @srcdoc still seems like the least bad option

[11:16:00.0000] <TabAtkins>
Indeed.

[11:17:00.0000] <TabAtkins>
/me also expects @length to fail from authors, frex, measuring length and *then* escaping & or something.

[11:23:00.0000] <dandaman>
<select id="intCountriesList" name="intCountriesList" size="5"

[11:23:01.0000] <dandaman>
              onchange="regionsOrCities($('intCountriesList').value)" style="height: 63px;">

[11:23:02.0000] <dandaman>
        <option value="" title="--Select Country--">--Select Country--</option>

[11:23:03.0000] <dandaman>
      </select>

[11:23:04.0000] <dandaman>
my onchange isnt doing anything?

[11:23:05.0000] <dandaman>
minus a question mark, anyone have an idea

[11:23:06.0000] <Workshiva>
Do you unfocus the select?

[11:23:07.0000] <dandaman>
yea

[11:24:00.0000] <dandaman>
but i click back into it

[11:24:01.0000] <Workshiva>
But you don't need the $(), you can just use this.value (or even value)

[11:24:02.0000] <TabAtkins>
Does @onchange="alert('foo')" work?

[11:24:03.0000] <dandaman>
hold on

[11:25:00.0000] <dandaman>
TabAtkins: yeah alert foo works

[11:25:01.0000] <dandaman>
i didnt have tha @ symbol though

[11:26:00.0000] <TabAtkins>
Yeah, that's just me referring to an attribute.

[11:26:01.0000] <dandaman>
kk

[11:26:02.0000] <TabAtkins>
What about onchange="alert(this.value)"?

[11:27:00.0000] <dandaman>
yep

[11:27:01.0000] <dandaman>
that works

[11:27:02.0000] <TabAtkins>
Then try onchange="regionsOrCities(this.value)"

[11:28:00.0000] <TabAtkins>
(Note that the jQuery object returned by $('intCountriesList') doesn't have a .value property, though it does have a .value() method.)

[11:28:01.0000] <dandaman>
tried that, didnt work

[11:28:02.0000] <dandaman>
im gonna try fiddling around with the function

[11:29:00.0000] <TabAtkins>
Well, you've isolated the problem at least.  It's with the function, not your onchange.

[11:29:01.0000] <Philip`>
Shouldn't it be $('#intCountriesList')?

[11:29:02.0000] <dandaman>
its the function

[11:29:03.0000] <TabAtkins>
Depends; if it's Prototype, no.

[11:29:04.0000] <TabAtkins>
Maybe Prototype has .value, I dunno.

[11:30:00.0000] <dandaman>
ty for the help

[11:30:01.0000] <TabAtkins>
np

[11:30:02.0000] <dandaman>
god damn this channel is so much more useful than C++ or C, those Aholes just call me a retard constantly

[11:30:03.0000] <TabAtkins>
Testing with alert() is the equivalent of debugging with printf.

[11:30:04.0000] <TabAtkins>
Not best practice, but damned if it doesn't work.

[11:31:00.0000] <dandaman>
ill keep it in mind, thanks

[11:31:01.0000] <TabAtkins>
/me wouldn't recommend going to a c++ channel for javascript help in the first place.

[11:32:00.0000] <dandaman>
i meant for c++ help

[11:32:01.0000] <dandaman>
ok back to work, thanks again

[11:32:02.0000] <TabAtkins>
The reasoning against <sandbox content=[base64-encoded]> is just that base64 makes things considerably larger, right?  Are there other security considerations I don't get?

[11:33:00.0000] <TabAtkins>
Well, content-in-base64-in-attributes is presumably even more of an antipattern than content-in-attributes.

[11:33:01.0000] <othermaciej>
it's certainly no better, although it requires 0 additional escaping

[11:33:02.0000] <othermaciej>
though if you are base-64 encoding you may as well use a data: attribute so no new feature would really be needed

[11:34:00.0000] <Workshiva>
Yeah, I don't see the gain

[11:36:00.0000] <TabAtkins>
A data: url used in <iframe @src> is automatically unique-origin, right? (Though presumably we could change that, so @sandbox's origin flag could actually have an effect.)

[11:39:00.0000] <AryehGregor>
[100715 13:13:39] <Philip`> TabAtkins: Why can't you generally escape <, and define <sandbox> so that it unescapes the content before inserting into an iframe for rendering? <-- This was my suggestion, which I think I came up with before srcdoc was added to the spec, or certainly before I knew about it.  But srcdoc is a better solution.

[11:39:01.0000] <TabAtkins>
AryehGregor: That's just a solution to the bad-fallback problem, though.  It doesn't solve any of the other problems.

[11:40:00.0000] <AryehGregor>
No, it solves all the same problems srcdoc does.

[11:40:01.0000] <TabAtkins>
Well, what happens if the parser sees <sandbox><b>foo!</b></sandbox>?

[11:41:00.0000] <AryehGregor>
If it sees <>"'& unescaped, it consumes everything up to the next </sandbox> and displays the iframe as empty or with an error message or something.

[11:41:01.0000] <AryehGregor>
This means that lack of escaping will be quickly caught, same as srcdoc.

[11:41:02.0000] <AryehGregor>
Although if it's not caught, then of course it will be vulnerable, same as srcdoc (unless you eat the page).

[11:42:00.0000] <wirepair>
with the track record of people escaping <>"'& i'd say base64 encoding would be a safer solution

[11:42:01.0000] <TabAtkins>
And what if the user content is "<b>Foo!</b></sandbox><script src=evil></script>"?

[11:42:02.0000] <wirepair>
TabAtkins exactly ;)

[11:42:03.0000] <AryehGregor>
With srcdoc, what if the user content is: "></sandbox><script src=evil></script>

[11:43:00.0000] <wirepair>
i do pen-testing / security research for a living, and trust me, escaping/encoding "> seems to be beyond a lot of people

[11:43:01.0000] <AryehGregor>
If there's no escaping, you're screwed, sure.  But if it fails fast on innocuous content with no escaping, people will escape.

[11:43:02.0000] <TabAtkins>
I think that people using " in their comments is more common than people using <, personally.

[11:43:03.0000] <AryehGregor>
I said it should fail on " for exactly that reason.

[11:43:04.0000] <TabAtkins>
But it may not be a hugely significant difference.

[11:43:05.0000] <AryehGregor>
Even though there's technically no reason it should have to.

[11:43:06.0000] <TabAtkins>
Oh, I see.

[11:43:07.0000] <AryehGregor>
(I mean, no reason you'd need to escape " otherwise.)

[11:43:08.0000] <AryehGregor>
And ' too, even.

[11:43:09.0000] <TabAtkins>
I missed that part, yeah.

[11:43:10.0000] <Philip`>
Base64 means you need to understand encodings

[11:43:11.0000] <AryehGregor>
So it will fail even faster than srcdoc.

[11:44:00.0000] <Philip`>
(since you have to apply it to bytes, and have to agree with the browser on the interpretation of those bytes)

[11:44:01.0000] <wirepair>
ah right.

[11:44:02.0000] <Philip`>
which seems like a pain

[11:44:03.0000] <wirepair>
srcdoc in general seems like a pain though

[11:44:04.0000] <wirepair>
;)

[11:45:00.0000] <TabAtkins>
/me wonders if having to escape <>&'" is worth the convenience of having the content as "real" elements.

[11:45:01.0000] <Philip`>
With @srcdoc there's no additional character encoding issue over what's already needed for the rest of your content

[11:45:02.0000] <wirepair>
what exactly is the benefit of having the data inline as opposed to it being an external document?

[11:45:03.0000] <TabAtkins>
Saving a network request.

[11:46:00.0000] <AryehGregor>
And saving authoring complexity.

[11:46:01.0000] <TabAtkins>
(Possibly *many*, if you have, say, 200 blog comments that each need to be sandboxed.)

[11:46:02.0000] <AryehGregor>
So you don't have to write a separate script that will repeat all your permissions checks and whatever all over again.

[11:46:03.0000] <wirepair>
well, could you not put those 200 blog comments in a single file, but yeah i get your point

[11:47:00.0000] <TabAtkins>
wirepair: Not if you want to be able to put stuff on the comment structure that needs to run scripts, like a thumbs up voter or something.

[11:47:01.0000] <AryehGregor>
Then they can interfere with each other.  Not necessarily so bad, but not preferable.  Ideally any monkey business should be isolated.

[11:47:02.0000] <AryehGregor>
Right, that too.

[11:47:03.0000] <wirepair>
yeah no i understand ;)

[11:47:04.0000] <AryehGregor>
You could absolutely-position stuff over it, if you're insane, but . . .

[11:47:05.0000] <TabAtkins>
Yeah, no, that's stupid.  ^_^

[11:48:00.0000] <wirepair>
so far what has the most 'votes' for srcdoc, just escaping "<>&' ?

[11:48:01.0000] <TabAtkins>
No, just escape " and & (or ', if you use that for your attributes).

[11:49:00.0000] <wirepair>
ah gotcha

[11:49:01.0000] <TabAtkins>
And escaping & isn't even necessary for security; skipping it just means that sometimes things will get eaten as escapes when they aren't.

[11:49:02.0000] <TabAtkins>
So really, just escape whatever quote character you're ursing.

[11:50:00.0000] <wirepair>
and the source documents content encoding has precedence yeah? my concern would be malformed multibyte sequences

[11:50:01.0000] <TabAtkins>
Yes.

[11:50:02.0000] <TabAtkins>
If you're not encoding everything in utf-8 you're doing it wrong anyway.

[11:51:00.0000] <wirepair>
jeez, please tell that to japan ;)

[11:51:01.0000] <TabAtkins>
I will.

[11:51:02.0000] <TabAtkins>
/me shakes his fist vaguely west-ward.

[11:51:03.0000] <wirepair>
haha

[11:52:00.0000] <TabAtkins>
What's Japan's common encoding?  utf-16, or one of those legacy encodings designed just for japanese?

[11:52:01.0000] <wirepair>
well my customers used Shift_JIS a lot

[11:52:02.0000] <wirepair>
on rare occassions you'll come across euc-jp

[11:53:00.0000] <wirepair>
but yeah utf-8 is becoming more commonplace for sure

[12:16:00.0000] <Hixie>
the main problem with a caret blinking API is that you need a way to know what to repaint

[12:18:00.0000] <Hixie>
we could have a method that takes the x,y position of the center of the caret and works out (from the font size and baseline settings and from the OS caret width preferences) where to draw the caret, and then have it return an object that's x,y,w,h

[12:19:00.0000] <Hixie>
but that seems like a pain

[12:19:01.0000] <Hixie>
the alternative is to just have the method take an x,y,w,h and draw a caret at that position, potentially not following the OS rules on caret width if the given width isn't enough to draw the caret

[12:20:00.0000] <Hixie>
we could also tell authors to provide a big width with the x,y being in the center, but then the problem is dealing with edge cases

[12:20:01.0000] <Hixie>
maybe we should have the method take x,y,w,h of the text field, then a separate x,y of the caret

[12:21:00.0000] <Hixie>
and the caret just gets clipped to the x,y,w,h

[12:24:00.0000] <Hixie>
or we could say you have to repaint whatever your clip region is

[12:25:00.0000] <Hixie>
and then just clip it to the clip region

[12:25:01.0000] <Hixie>
so if you want to reduce your workload you just set your clip region to just the control before calling the method, or something

[12:49:00.0000] <Hixie>
which is better, having the caret drawing code take a callback that is invoked when the caret needs to be redrawn for blinking, or having the author just call the caret code 20 times a second just in case the user has a 10Hz blink rate?

[12:51:00.0000] <TabAtkins>
Based on my limited experience with <canvas>, I prefer something that I can call myself whenever I repaint.

[12:52:00.0000] <Hixie>
well for a caret you don't want to repaint the whole canvas each time

[12:52:01.0000] <TabAtkins>
Pfft.  My text editor will have a live video background.

[12:53:00.0000] <Hixie>
there is so much wrong with that sentence...

[12:54:00.0000] <TabAtkins>
Then I can use webkit's background-clip:text to play a *different* video for the text itself.

[12:54:01.0000] <TabAtkins>
Though that's silly, obviously.  The video itself should play in the text, then a grayscale in the background.

[12:54:02.0000] <Hixie>
there's no _canvas_ in this fantasy :-P

[12:55:00.0000] <TabAtkins>
You can't use video directly as a background, I don't think.  So you have to draw it into a canvas at 50 fps.

[12:55:01.0000] <TabAtkins>
Also, grayscaling the video needs canvas.

[12:55:02.0000] <TabAtkins>
Or SVG, I suppose.

[12:56:00.0000] <TabAtkins>
/me wonders if SVG filters on a <video> can get copied into a <canvas>.

[12:56:01.0000] <Hixie>
i know i may be out of luck, since we're talking about drawing a caret to a canvas, but does anyone have any _sane_ use case experience to provide here? :-P

[12:56:02.0000] <TabAtkins>
You've already lost the sane people.

[12:56:03.0000] <TabAtkins>
I'm going to implement a text editor that plays pong with the letters.

[12:59:00.0000] <TabAtkins>
But seriously, I don't want my caret to blink out too fast just because a callback happened to trigger a few milliseconds before I was otherwise going to repaint.

[12:59:01.0000] <TabAtkins>
I'd just end up using the callback to flip a variable that I then check in my actual drawing code, and then I might as well just have a property that exposes whether the caret should be visible or not.

[13:00:00.0000] <Hixie>
the way i envision this, you don't worry about blinking the caret

[13:00:01.0000] <Hixie>
drawCaret() just decides based on a timer whether to draw the caret or not for this frame

[13:00:02.0000] <TabAtkins>
Yes, that would be fine.  I can call drawCaret() in the rest of my drawing code, right?

[13:00:03.0000] <jgraham>
 I vaugely feel like a callback is better if the browser is providing the timing

[13:01:00.0000] <Hixie>
or maybe an event?

[13:01:01.0000] <jgraham>
But I have nothing to go on there

[13:01:02.0000] <Hixie>
<canvas onredrawcaret=""> ?

[13:01:03.0000] <jgraham>
yuck

[13:01:04.0000] <TabAtkins>
/me had problems with flickering when he tried to have things draw on separate schedules.

[13:02:00.0000] <jgraham>
Hmm, I can see that could be an issue

[13:13:00.0000] <jgraham>
So, do we also need drawSelection?

[13:13:01.0000] <jgraham>
It seems like canvas apps could always put the caret at the end of the selection

[13:14:00.0000] <jgraham>
Althought I suppose that would be bad if they tried to differentiate their behaviour based on OS

[13:14:01.0000] <jgraham>
(which seems unlikely but possible)

[13:14:02.0000] <jgraham>
It also seems possible that people will fail to move the caret when drawing a selection if they have to do it manually

[13:15:00.0000] <jgraham>
(I'm not sure how draw selection could work really)

[13:15:01.0000] <jgraham>
(so it may not even be possible to do in a sane way)

[13:18:00.0000] <jgraham>
Hixie: BTW I filed a bug in the handling of EOF after a foreign-content closing tag 

[13:18:01.0000] <jgraham>
e.g. <svg></svg>

[13:20:00.0000] <Hixie>
jgraham: i haven't been able to find good documentation on accessibility APIs' handling of selections

[13:20:01.0000] <Hixie>
(accessibility APIs in general are pretty poorly documented)

[13:21:00.0000] <AryehGregor>
Do most browsers cache HTTP redirects already?  Apparently IE9 now does.

[13:21:01.0000] <Hixie>
i don't really see what such an API would do, though

[13:21:02.0000] <TabAtkins>
AryehGregor: Yes.

[13:21:03.0000] <TabAtkins>
At least, it is indeed done.

[13:21:04.0000] <Hixie>
we don't need an API to say what the selected text _is_, which might well be something AAPIs would care about

[13:22:00.0000] <Hixie>
(we don't need it because the UA already knows what the text is since they have the control itself in the DOM)

[13:24:00.0000] <jgraham>
Hixie: AFAICT the only point is to control where the magnifier is positioned

[13:24:01.0000] <jgraham>
It has to be at the end of the selection

[13:25:00.0000] <jgraham>
For reasons I don't follow Richard seems to think that the fact that OSX doesn't move the caret to the end of selections means that we need a seperate API

[13:25:01.0000] <jgraham>
(or an accessibility-specific API)

[13:30:00.0000] <jgraham>
Hixie: Your change proposal for ISSUE 32 fails to make the case for UAs being required to implement the summary attribute. Given the arguments presented above it seems like they would be better off not doing that

[13:30:01.0000] <othermaciej>
there is no caret when you have a non-caret selection established

[13:32:00.0000] <othermaciej>
let me check how/whether carets or selections are represented via Accessibility Inspector

[13:35:00.0000] <othermaciej>
both are exposed via the http://axdb.apple.com/AXSelectedTextMarkerRange property

[13:35:01.0000] <othermaciej>
ignore the URLey bits, it's just AXSelectedTextMarkerRange

[13:38:00.0000] <othermaciej>
and the assistive technology is allowed to query the bounding box of the reported text marker range

[13:38:01.0000] <othermaciej>
so to fulfill the selection-related accessibility APIs, we would need to know the bounding box of the current selection or caret

[13:41:00.0000] <othermaciej>
there's also a way to request the text marker (and thereby if needed a string for a range) for a point, but that aspect seems impractical to do with canvas (you'd have to have a JS callback for the web developer's code to do hit testing)

[14:16:00.0000] <TabAtkins>
AryehGregor: You around?

[14:16:01.0000] <AryehGregor>
Yes.

[14:17:00.0000] <TabAtkins>
On this: http://forums.xkcd.com/viewtopic.php?p=2236984#p2236984 is the second step valid?  I see they've moved the 2 out of e's power's denominator by squaring, but I think it should have more effect than just squaring the G.

[14:17:01.0000] <TabAtkins>
/me just uses AryehGregor for math from now on.

[14:18:00.0000] <AryehGregor>
Ugh, don't they have a LaTeX display extension there?

[14:18:01.0000] <TabAtkins>
Yes they do.  Do you have js turned on?

[14:18:02.0000] <AryehGregor>
Yes.

[14:18:03.0000] <Philip`>
Yes, if you wait ten seconds for it to load

[14:19:00.0000] <AryehGregor>
Not working for me.

[14:19:01.0000] <TabAtkins>
I'll screenshot then.

[14:20:00.0000] <Philip`>
I presume they should have had (2\pi)^2 on the left

[14:20:01.0000] <TabAtkins>
Philip`: Plus squaring the 1/omega^2 on the right.

[14:21:00.0000] <Philip`>
Oh, I missed that

[14:22:00.0000] <TabAtkins>
http://www.xanthir.com/etc/math.png

[14:23:00.0000] <jgraham>
The last line should have x^2 on the top of the fraction

[14:23:01.0000] <AryehGregor>
The second step looks okay, multiply by 2pi and square both sides.  Except that you should have (2pi)^2 on the left.

[14:23:02.0000] <TabAtkins>
AryehGregor: (ab)^2 is a^2 * b^2, though.

[14:23:03.0000] <TabAtkins>
So the rhs should square the 1/omega^2 as well.

[14:23:04.0000] <AryehGregor>
You mean sigma?

[14:24:00.0000] <TabAtkins>
Um, yes.

[14:24:01.0000] <AryehGregor>
Oh, right, I missed that.

[14:24:02.0000] <jgraham>
That is true

[14:24:03.0000] <AryehGregor>
Yes, should be sigma^4.

[14:24:04.0000] <TabAtkins>
kk, so it's all kinds of messed up.  Great.

[14:24:05.0000] <TabAtkins>
Well, the important part was done for me.

[14:24:06.0000] <AryehGregor>
The general idea is right, though.

[14:24:07.0000] <AryehGregor>
I somehow doubt we actually want to mandate this in CSS.

[14:24:08.0000] <TabAtkins>
No, we don't.  But I was asked for it.  ^_^

[14:25:00.0000] <TabAtkins>
There are much easier approximations that should get close enough.

[14:25:01.0000] <jgraham>
That means it doesn't end up in the nice simple W exp(W) form they want though

[14:25:02.0000] <TabAtkins>
Oh, hm.

[14:25:03.0000] <jgraham>
(the 1/sigma^4)

[14:25:04.0000] <AryehGregor>
Oh, you're trying to isolate sigma, hmm?

[14:25:05.0000] <AryehGregor>
Well, so don't square.

[14:25:06.0000] <Philip`>
Just go with 37% instead of 1% and it's trivial :-p

[14:25:07.0000] <AryehGregor>
Just multiply both sides by -x^2/pi.

[14:25:08.0000] <AryehGregor>
I mean.

[14:25:09.0000] <AryehGregor>
-x^2 * pi.

[14:25:10.0000] <jgraham>
Yes

[14:26:00.0000] <AryehGregor>
Whatever.

[14:26:01.0000] <TabAtkins>
AryehGregor: Yeah.

[14:26:02.0000] <AryehGregor>
Then take the W function.

[14:26:03.0000] <TabAtkins>
kk

[14:26:04.0000] <TabAtkins>
Hm, yeah, not sure why they thought it was necessary to pull the 2 out of the exp.

[14:26:05.0000] <jgraham>
So yeah, basically it is all kinds of wrong

[14:26:06.0000] <jgraham>
But the right general idea :)

[14:31:00.0000] <TabAtkins>
K, I've posted an updated version that I think fixed the original flaws.

[14:31:01.0000] <TabAtkins>
Urg, wait, G is still getting squared.

[14:32:00.0000] <TabAtkins>
k, fixed.

[14:33:00.0000] <TabAtkins>
Hmm...  The starting point is still wrong, though - there's a sqrt in the original equation that got dropped.

[14:33:01.0000] <annevk>
wtf is leif on about

[14:33:02.0000] <annevk>
i explained why i didn't entirely agreed

[14:34:00.0000] <annevk>
oh well

[14:34:01.0000] <AryehGregor>
TabAtkins, you seem to be using some mix of the two-dimensional and one-dimensional equations from Wikipedia.

[14:34:02.0000] <annevk>
not like this is anything new

[14:34:03.0000] <hober>
annevk: I never understand his emails

[14:34:04.0000] <TabAtkins>
AryehGregor: I'm not, the responder is.  I'm fixing it now.

[14:34:05.0000] <TabAtkins>
I'm Xanthir in this conversation.

[14:35:00.0000] <AryehGregor>
I know.

[14:35:01.0000] <AryehGregor>
You can drop the \pm, by the way.  Standard deviations are always treated as positive.

[14:35:02.0000] <TabAtkins>
Yeah.

[14:36:00.0000] <TabAtkins>
Lessee... 1/sqrt(2*pi*sigma^2) is the same as 1/(sqrt(2*pi)*sigma), right?

[14:36:01.0000] <TabAtkins>
/me knows this is basic algebra.

[14:38:00.0000] <TabAtkins>
Hm, though.  That then seems to make it more difficult to get the RHS into the correct form.  Damn.

[14:39:00.0000] <annevk>
I'm no longer going to contribute to polyglot discussions

[14:39:01.0000] <annevk>
waste of time

[14:39:02.0000] <TabAtkins>
Welcome to the club of "everyone else in the world", anne.

[14:39:03.0000] <AryehGregor>
If sigma is positive, then yes, it's the same.

[14:39:04.0000] <AryehGregor>
This is where you want to square it.

[14:39:05.0000] <AryehGregor>
That won't harm the exponential (just knock out a constant), but it will get the sigma squared.

[14:40:00.0000] <TabAtkins>
Ah, you're right.

[14:40:01.0000] <AryehGregor>
Maybe the original poster's mistakes weren't where you thought.  :)

[14:40:02.0000] <AryehGregor>
(we, whateveR)

[14:40:03.0000] <annevk>
I can't believe there are so many replies and nobody called Leif on his nonsense

[14:41:00.0000] <annevk>
(for the record, my latest reply was before the "I'm no longer ..." above; though I should at least rectify such nonsense for once)

[14:41:01.0000] <annevk>
thought*

[14:41:02.0000] <TabAtkins>
AryehGregor: Yup, you're right.  If we pretend that the first step has a \sqrt where it needs to, then the second step is correct.

[14:41:03.0000] <jgraham>
annevk: I don't think that anyone understand much of what leif says tbh

[14:42:00.0000] <jgraham>
So he is often just ignored

[14:44:00.0000] <annevk>
Sam replied directly to him

[14:45:00.0000] <annevk>
still not sure what a good color for webforms2.org would be

[14:45:01.0000] <annevk>
what can beat hotpink? ;p

[14:45:02.0000] <TabAtkins>
annevk: What part of MQ did you want reviewed?

[14:48:00.0000] <Philip`>
annevk: It should blink

[14:48:01.0000] <Philip`>
(using APNG)

[14:49:00.0000] <TabAtkins>
Aw yeah.

[15:35:00.0000] <Hixie>
jgraham: feel free to write another CP that removes the need for UAs to implement it too

[15:35:01.0000] <Hixie>
jgraham: you can copy mine and just change that bit if you want

[15:35:02.0000] <Hixie>
othermaciej: so wait, what do we need to expose?

[15:35:03.0000] <Hixie>
othermaciej: just the bounding box of the selection? not the actual selection?

[15:35:04.0000] <Hixie>
othermaciej: does OS X have wide carets?

[15:35:05.0000] <Hixie>
othermaciej: (in windows you can set the width of the caret apparently)

[15:36:00.0000] <Hixie>
(which makes a caret drawing function hard)

[15:36:01.0000] <othermaciej>
when you are in a normal editable text area on OS X (at least in WebKit), the following pieces of data can be obtained:

[15:36:02.0000] <othermaciej>
- the endpoints of the selection range (equal to each other if the selection is a caret), in an abstract form that isn't exactly a character offset

[15:37:00.0000] <othermaciej>
- the ability to get the string of text in that range

[15:37:01.0000] <othermaciej>
- the ability to get the visual bounding box of that range

[15:38:00.0000] <othermaciej>
there is also the means in the API to ask for a text marker for a given point, but I am not sure if any assistive technologies actually use that

[15:38:01.0000] <Hixie>
well the first two are easy since we have the underlying control already

[15:38:02.0000] <Hixie>
the third one is harder... what can we use as a surrogate in the API for exposing that?

[15:38:03.0000] <othermaciej>
right, the first two don't require any additions to what HTML5 has, if you put a text control in the child DOM

[15:38:04.0000] <Hixie>
for just a caret we can just have a caret drawing function

[15:38:05.0000] <Hixie>
but for a selection...

[15:38:06.0000] <othermaciej>
drawing a caret or selection is one possibility

[15:39:00.0000] <othermaciej>
of course, it may be hard to spec drawing a selection in a way that is both cross-platform and useful to web developers

[15:39:01.0000] <Hixie>
hard is one way to put it

[15:40:00.0000] <Hixie>
i wonder what the equivalent is on windows

[15:41:00.0000] <othermaciej>
I tried to look at some MSAA docs and I couldn't find anything for the selection, as opposed to the caret, and Rich claimed Windows apps report the end of the selection as the caret position

[15:41:01.0000] <othermaciej>
but I have no firsthand knowledge of that

[15:41:02.0000] <annevk>
Philip`, sweet

[15:41:03.0000] <annevk>
Philip`, can you make one?

[15:42:00.0000] <annevk>
TabAtkins, just what changed; section 2/3

[15:42:01.0000] <annevk>
TabAtkins, but only if you have time, it's not necessary

[15:42:02.0000] <Philip`>
annevk: I've forgotten how to do it

[15:42:03.0000] <TabAtkins>
annevk: I've had it sitting in my open tabs since yesterday, so I might as well.

[15:43:00.0000] <Philip`>
Most of my APNGs were created by a Perl script I wrote, but that's not so great since I didn't implement any of the decent PNG compression methods

[15:43:01.0000] <annevk>
TabAtkins, though please no feature requests ;p

[15:43:02.0000] <Hixie>
othermaciej: he also claimed something similar for OS X which is apparently wrong

[15:44:00.0000] <annevk>
Philip`, it's a 32x32 image...

[15:44:01.0000] <TabAtkins>
annevk: No promises.

[15:44:02.0000] <Philip`>
I think there might have been a Firefox extension that made APNGs easily

[15:44:03.0000] <jgraham>
Please no flashing favicons

[15:44:04.0000] <Philip`>
/me wonders if support has become more widespread recently

[15:45:00.0000] <jgraham>
I will have to kill you

[15:45:01.0000] <Philip`>
jgraham: What about subtle pulsing?

[15:45:02.0000] <jgraham>
And then we will have even fewer editors for web specs

[15:45:03.0000] <othermaciej>
Hixie: I think he may be confused about how selections work on OS X

[15:45:04.0000] <annevk>
means you'll finally come to the Netherlands?

[15:45:05.0000] <Philip`>
/me still likes http://zaynar.co.uk/favicon.ico

[15:45:06.0000] <othermaciej>
when you hit an arrow key when you have a selection, you do get a caret at a specific point

[15:45:07.0000] <annevk>
might be worth it ;p

[15:45:08.0000] <othermaciej>
but prior to that point, there *is* no caret

[15:46:00.0000] <othermaciej>
but he interprets that as the caret was secretly at the end of the selection

[15:46:01.0000] <jgraham>
Philip`: "subtle" meaning with a ime period of > 1 week, say?

[15:46:02.0000] <jgraham>
s/ime//

[15:46:03.0000] <othermaciej>
that's not how the AX APIs expose it, afaict

[15:46:04.0000] <AryehGregor>
/me still likes http://www.p01.org/releases/DEFENDER_of_the_favicon/

[15:47:00.0000] <Philip`>
jgraham: APNG has a maximum of 65535 seconds per frame, so I suppose you'd only need ten frames for that

[15:47:01.0000] <Philip`>
although I don't know how well implementations handle timers like that

[15:47:02.0000] <Philip`>
(I don't fancy testing it)

[15:48:00.0000] <AryehGregor>
A time period of a few minutes sounds good to me.  Maybe half an hour.

[15:48:01.0000] <AryehGregor>
Once in a while, someone will notice some movement out of the corner of their eye.

[15:48:02.0000] <AryehGregor>
Then go crazy trying to figure out what it is.

[15:49:00.0000] <TabAtkins>
Sounds like what I did with the tech support portal at my old job.

[15:49:01.0000] <annevk>
a speed that drives jgraham temporarily insane is acceptable I think

[15:50:00.0000] <annevk>
there's no reason to visit webforms2.org anyway

[15:50:01.0000] <annevk>
it's a reminder of what that was

[15:50:02.0000] <AryehGregor>
TabAtkins, what did you do with the tech support portal at your old job?

[15:51:00.0000] <TabAtkins>
It was named GLaDOS for no particular reason, so of course I needed to put in more references to insane AIs.  1 out of every 3 pageloads, the PHP writes in some js that flashes a full-screen picture of SHODAN for a fraction of a second (the delay of a setTimeout(func,0) call) with a random timer of roughly 5 minutes.

[15:51:01.0000] <AryehGregor>
Your company sounds fun to work for.

[15:51:02.0000] <TabAtkins>
That was an internal tool, so I could fuck around.

[15:51:03.0000] <AryehGregor>
But you shouldn't rely on setTimeout(func,0) taking a nonzero amount of time.  That's not forward-compatible.

[15:52:00.0000] <Philip`>
I expect the level of fun depends on whether you're TabAtkins or one of his victims

[15:52:01.0000] <AryehGregor>
Or at least, you shouldn't rely on it taking an appreciable amount of time.

[15:52:02.0000] <TabAtkins>
AryehGregor: True.  I suppose a setTimeout(func,10) would be safer.  Even if browsers actually run it at the stated speed, it'll be up for long enough.

[15:52:03.0000] <AryehGregor>
10 ms isn't enough to be perceptible, I don't think.

[15:52:04.0000] <AryehGregor>
I'm pretty sure 50 ms is the bare minimum.

[15:53:00.0000] <TabAtkins>
Philip`: To my knowledge, nobody's ever consciously realized it, but they have mentioned something odd.

[15:53:01.0000] <Hixie>
othermaciej: i can't find anything about exposing a selection in MSAA or MUIA

[15:53:02.0000] <TabAtkins>
AryehGregor: setTimeout generally delays by about 30ms, which is actually a relatively long period of time for it to be up, from experience.

[15:53:03.0000] <TabAtkins>
I'd flash it for less if I could.

[15:53:04.0000] <jgraham>
30ms? Are you sure?

[15:54:00.0000] <TabAtkins>
jgraham: No, I'm not, just going off of memory.  The MDC says that Gecko uses 10ms minimum.

[15:54:01.0000] <TabAtkins>
And HTML5 apparently defines a minimum of 4ms, which means that 0 is forward-compatible enough for me.

[15:57:00.0000] <TabAtkins>
So, if it's flashing for 10ms in Gecko (the browser I used for testing when I was doing more webdev) then that's plenty enough.

[15:57:01.0000] <TabAtkins>
AryehGregor: It's possible that 50ms or so is the minimum to *comprehend* what's seen, but it's definitely not the minimum to note that *something* is there.

[15:58:00.0000] <jgraham>
Seems to be about 10 in Opera and Firefox but 5 in Chrome

[15:58:01.0000] <Hixie>
othermaciej: http://www.mozilla.org/access/windows/msaa-server#Hacky_caret_tracking_not_working

[15:59:00.0000] <TabAtkins>
Sigh.

[16:00:00.0000] <jgraham>
Sigh is one way to put it

[16:00:01.0000] <AryehGregor>
I can identify the word "Test" here something like half the time: time.sleep(0.5); print "Test",; sys.stdout.flush(); time.sleep(0.025); print "\b\b\b\b\b    "; sys.stdout.flush()

[16:00:02.0000] <AryehGregor>
No, less.

[16:01:00.0000] <AryehGregor>
If I bump 0.025 to 0.03, I can distinguish it clearly all the time, if I'm looking.

[16:03:00.0000] <AryehGregor>
At 0.02 I can't see anything, but it's not perfect, since it adds newlines and the cursor gets in the way.

[16:03:01.0000] <othermaciej>
Hixie: that seems to be par for the course for Windows accessibility...

[16:03:02.0000] <othermaciej>
a whole lot of hacky screenscraping

[16:03:03.0000] <Hixie>
i can't find _anything_ about the text selection being exposed

[16:07:00.0000] <AryehGregor>
TabAtkins, http://pastebin.com/WvfYS5LM

[16:07:01.0000] <AryehGregor>
What do you see from that?

[16:08:00.0000] <TabAtkins>
I can clearly see the word "Test" flash.

[16:11:00.0000] <AryehGregor>
What if you adjust the DELAY?

[16:11:01.0000] <AryehGregor>
I see it flash at 0.025, but not 0.02.

[16:12:00.0000] <TabAtkins>
There's some odd effects here.  At .025 it flashes, at .024 it's completely invisible.

[16:12:01.0000] <AryehGregor>
I think I only see it at 0.025 because of intermittent additional delays, though.  I only see it some of the time.

[16:12:02.0000] <TabAtkins>
It's not flashing at all.

[16:12:03.0000] <AryehGregor>
Maybe it would be more accurate to spin and poll the current time.  Probably time.sleep() isn't so accurate.

[16:12:04.0000] <TabAtkins>
Yeah.

[16:16:00.0000] <TabAtkins>
doing it in js is much better.  Load this up in your console: unction flash(delay,visible) { document.body.innerHTML = visible ? "test" : ""; setTimeout(function(){ flash(delay, !visible); }, visible ? delay : 1000); }

[16:16:01.0000] <AryehGregor>
How do you get a JavaScript console?  I've never had to.

[16:16:02.0000] <TabAtkins>
What browser you got?

[16:16:03.0000] <AryehGregor>
Chrome right now.

[16:16:04.0000] <TabAtkins>
right click, inspect element, hit Esc if the console isn't already up.

[16:18:00.0000] <AryehGregor>
Even at 0 it's clearly visible.

[16:18:01.0000] <AryehGregor>
Clearly JS timers stink.

[16:20:00.0000] <AryehGregor>
TabAtkins, should I report the totally bogus canvas shadows on the Chromium tracker, or will it just be WontFix?  Does canvas really need such fast shadow drawing?

[16:20:01.0000] <TabAtkins>
I dunno.  Go ahead and report.

[16:27:00.0000] <AryehGregor>
Maybe I'll do that tomorrow.

[16:30:00.0000] <TabAtkins>
annevk: In the grammar for media_query_list, you're missing a S* after the first media_query.

[16:31:00.0000] <Hixie>
aha!

[16:31:01.0000] <Hixie>
othermaciej: http://msdn.microsoft.com/en-us/library/ff384841(v=VS.85).aspx

[16:32:00.0000] <annevk>
TabAtkins, no

[16:32:01.0000] <Hixie>
othermaciej: specifically, ITextRangeProvider::GetBoundingRectangles 

[16:32:02.0000] <annevk>
TabAtkins, that S* can be found elsewhere

[16:32:03.0000] <TabAtkins>
annevk: Not in all circumstances.

[16:32:04.0000] <annevk>
TabAtkins, nested :)

[16:32:05.0000] <TabAtkins>
Oh, wait.  Damn, you're right.

[16:33:00.0000] <TabAtkins>
I missed the S* trailing the expression token.

[16:33:01.0000] <annevk>
CSS grammar is evil

[16:33:02.0000] <TabAtkins>
ftfy: grammar is evil

[16:33:03.0000] <annevk>
we should have HTML5-like style imo

[16:33:04.0000] <annevk>
that would also exemplify how fricking complex it is

[16:33:05.0000] <Hixie>
othermaciej: apparently on windows you have to use a "system caret" rather than draw your own: http://msdn.microsoft.com/en-us/library/ms646968(v=VS.85).aspx and the section at the end of the earlier cited http://msdn.microsoft.com/en-us/library/ff384841(v=VS.85).aspx

[16:34:00.0000] <TabAtkins>
Maybe for core grammar.  For properties the CSS grammar is a big win in general.

[16:34:01.0000] <annevk>
properties are defined in woefully inconsistent ways

[16:35:00.0000] <annevk>
and the grammar for properties is usually some kind of adhoc stuff made up on the fly

[16:35:01.0000] <TabAtkins>
Inconsistency can and should be fixed.  But the principle is sound and usually easily readable.

[16:35:02.0000] <annevk>
I guess it works because you sort of understand what is going on, but it's not particularly great

[16:36:00.0000] <TabAtkins>
Frex, what's easier, seeing "::cue( [ <voice> || <type> || <time> ] )" (or whatever), or seeing a parser for the same?

[16:39:00.0000] <annevk>
just ::cue is actually buggy somewhat

[16:39:01.0000] <annevk>
should be something like "::"{C}{U}{E}

[16:40:00.0000] <TabAtkins>
If we're writing a *real* grammar, yes.  But we're not.

[16:40:01.0000] <TabAtkins>
This is just a shorthand for describing the grammar.

[16:40:02.0000] <annevk>
no even in the shorthand you need to do that

[16:41:00.0000] <TabAtkins>
I have never seen that in any property ever. 

[16:41:01.0000] <AryehGregor>
You could have non-normative text giving a basic description of the property, then have a real parser defined for actual implementations.

[16:41:02.0000] <annevk>
see e.g. how :not is defined

[16:41:03.0000] <TabAtkins>
And it would be silly to do so, imo, because it drastically reduces readability for no good reason.

[16:41:04.0000] <AryehGregor>
which is kind of what HTML5 does.

[16:41:05.0000] <AryehGregor>
I mean, it has the nice foo(bar [ , baz [ , quuz ] ] ) stuff.

[16:42:00.0000] <AryehGregor>
Just not normatively.

[16:42:01.0000] <TabAtkins>
annevk: :not() only receives that treatment in the official grammar section.

[16:43:00.0000] <TabAtkins>
There, yes, use the normal rules for whatever language we're expressing this stuff in.

[16:43:01.0000] <annevk>
we're discussing grammar, no?

[16:43:02.0000] <TabAtkins>
I'm discussing the grammar that you see in property blocks and similar.

[16:43:03.0000] <Hixie>
i'll be damned if i can work out what we need to do for caret and selection accessibility on windows

[16:48:00.0000] <AryehGregor>
You can't just ask someone at Microsoft?

[16:48:01.0000] <AryehGregor>
You know, like you asked Maciej about OS X?

[16:49:00.0000] <Hixie>
i didn't ask maciej, he just told me :-)

[16:49:01.0000] <Hixie>
who should i ask?

[16:50:00.0000] <TabAtkins>
I dunno directly, but you could start by hitting up Sylvain I guess, and he could direct you accordingly.

[16:50:01.0000] <AryehGregor>
There are Microsoft people in the HTMLWG, no?

[16:50:02.0000] <AryehGregor>
Probably they won't know themselves, but they can forward your request someplace.

[16:51:00.0000] <MikeSmith>
I suspect Frank Olivier would know well

[16:52:00.0000] <MikeSmith>
Hixie: would this relate to drag-and-drop as well?

[16:53:00.0000] <MikeSmith>
I mean to keyboard activatability of text selection in drag-and-drop ?

[16:53:01.0000] <MikeSmith>
hmm, I guess those are actually orthogonal

[16:55:00.0000] <Hixie>
yeah i don't see how


2010-07-16
[17:01:00.0000] <Hixie>
anyway, regarding asking microsoft, i suspect the people who would know and whom i would be able to ask are in the a11y tf, so hopefully they'll reply to rich's e-mail and explain what we need

[17:13:00.0000] <TabAtkins>
an ImageData is static, right?  So if I need to do an input->output filter, I can just grab two ImageDatas from the same canvas?

[17:14:00.0000] <TabAtkins>
/me will just test it anyway.

[17:14:01.0000] <Hixie>
static?

[17:15:00.0000] <Hixie>
use createImageData() if you need an output image data

[17:15:01.0000] <TabAtkins>
In that if I grab two ImageDatas from the same canvas and alter one, the other won't be affected?

[17:15:02.0000] <TabAtkins>
Ah, that'll work too.

[18:10:00.0000] <Templarian>
I'm going through and helping out extending the autocomplete for an editor and they wanted to put all css3 in... is user-select in the spec? It says it was superseded by a newer document that lacks user-select.

[18:11:00.0000] <Templarian>
So am I to believe that if it doesn't exist in http://www.w3.org/TR/css3-ui/ it shouldn't be added?

[18:12:00.0000] <TabAtkins>
For now, yes.

[18:12:01.0000] <TabAtkins>
Also, css3-ui isn't really supported now, though it's picked up an active editor again.

[18:13:00.0000] <TabAtkins>
(Supposedly.)

[18:13:01.0000] <Templarian>
Well they added all the -prefixes and wanted to just keep them in and just remove them if they don't make it through later on.

[18:14:00.0000] <Templarian>
I'm leaving user-select out and all the ones not in it till later.

[18:14:01.0000] <Templarian>
Thanks. :D

[18:27:00.0000] <TabAtkins>
Hm.  Anyone know why I'm seeing an assymmetry here?  The code should be perfectly symmetrical.  www.xanthir.com/test.html

[18:27:01.0000] <TabAtkins>
/me is testing true gaussian blurs.

[18:27:02.0000] <MikeSmith>
cool to see paul_irish getting a hat tip in http://blogs.msdn.com/b/ie/archive/2010/07/15/the-css-corner-better-web-typography-for-better-design.aspx

[18:27:03.0000] <MikeSmith>
bravo Sylvain

[18:28:00.0000] <TabAtkins>
For whatever reason, the white half blurs wider than the black half.

[18:32:00.0000] <Arimil>
What is the difference between the <head> and <header> tags?

[18:32:01.0000] <Arimil>
I know head is required but I always put all my header info in there.

[18:32:02.0000] <Hixie>
they are in no way similar other than by name :-)

[18:32:03.0000] <TabAtkins>
<head> marks the section of the html document that holds metadata and isn't displayed.  <header> is just a way of marking up a header section in your content.

[18:32:04.0000] <Hixie>
what tab said

[18:33:00.0000] <Arimil>
Ah so I shouldn't put anything else in head, thanks I'll move it all to a <header> tag.

[18:34:00.0000] <Arimil>
Should I move scripts out of header also?

[18:34:01.0000] <Arimil>
head I mean

[18:34:02.0000] <TabAtkins>
scripts should go in <head>.

[18:34:03.0000] <Arimil>
OK, thanks again.

[18:36:00.0000] <Hixie>
basically anything that you can see in the browser goes in the <body>

[18:36:01.0000] <Hixie>
and <header> goes in the <body>

[18:36:02.0000] <Hixie>
<head> goes before the <body>

[18:36:03.0000] <Hixie>
<header> is a bit like <div>, it's just for heading-related things like <h1>, or the publication date, or whatnot

[18:36:04.0000] <Hixie>
the spec has a number of examples

[18:36:05.0000] <Hixie>
http://whatwg.org/html5

[18:36:06.0000] <Hixie>
search for <header>

[18:55:00.0000] <boblet>
MikeSmith: pity they didn’t link to Craig Mod’s @font-face example page, but I guess it would have made theirs look somewhat tame in comparison

[18:55:01.0000] <MikeSmith>
boblet: add a comment

[18:55:02.0000] <boblet>
MikeSmith: no fallbacks so no x-browser compat either

[18:56:00.0000] <MikeSmith>
big whoop

[18:56:01.0000] <boblet>
MikeSmith: well, they’re demoing WOFF, not @font-face (despite talking about it)

[18:57:00.0000] <MikeSmith>
who cares about x-browser compat?

[19:04:00.0000] <TabAtkins>
Dammit, it looks like my problem is float accuracy.  >_<

[19:04:01.0000] <TabAtkins>
I hate it when that happens.

[19:05:00.0000] <TabAtkins>
I guess losing about 8 bits of accuracy when juggling white pixels is significant here.

[19:08:00.0000] <TabAtkins>
Yay, fixed!

[19:08:01.0000] <TabAtkins>
Woo!

[19:09:00.0000] <TabAtkins>
(By cheating - when I'm on the white side, I invert pixel values so the calculations have the same accuracy as the white side.)

[19:09:01.0000] <boblet>
MikeSmith: not browser makers when doing tech demos, that’s fer sure

[19:09:02.0000] <MikeSmith>
heh

[19:17:00.0000] <Arimil>
Is it true that in html5 you don't use self closing tags? For example <br /> is just <br>

[19:17:01.0000] <TabAtkins>
Yes, that was the original syntax for void element (those without end tags).  XML invented the <br/> syntax.

[19:17:02.0000] <variable>
Arimil, in the non-XML version: yes

[19:18:00.0000] <TabAtkins>
So, as long as you're using the HTML serialization of HTML, yes.  If you're using the XML serialization, no.

[19:18:01.0000] <Arimil>
OK, I'm not using XML serialization. Thanks gotta fix that.

[19:19:00.0000] <variable>
Arimil, IIRC it doesn't actually matter in the non XML version. IE they both work

[19:19:01.0000] <TabAtkins>
In the HTML serialization you're *allowed* to use the <br/> syntax on void elements.  (You can't use it on normal elements that just happen to be empty - <div/> in the HTML serialization is just treated as a <div> open tag).

[19:20:00.0000] <variable>
TabAtkins, in the XML serialization <div/> is counted as having an open and a closed tag ?

[19:20:01.0000] <TabAtkins>
variable: Yes.

[19:21:00.0000] <TabAtkins>
In XML, <div/> is the same as <div></div>.

[19:21:01.0000] <Arimil>
Good to know although I most likely wont use it. :p

[19:22:00.0000] <variable>
Someone really needs to write a "html5 for the web author" document. 

[19:22:01.0000] <Arimil>
I've never liked xml for some reason.

[19:22:02.0000] <Arimil>
I avoid it whenever possible.

[19:22:03.0000] <TabAtkins>
Good idea in general.

[19:23:00.0000] <variable>
Arimil, XML is perfectly fine for a particular type of content. The problem comes when people try to use XML for a type of content it isn't made for

[19:23:01.0000] <variable>
XML is great when you have an exact format with specific data that must be sent with particular datatypes

[19:24:00.0000] <variable>
its horid for dyamic loosly formed content like HTML

[19:24:01.0000] <Arimil>
variable: I believe your referring to visual studio using it to replace ini?

[19:24:02.0000] <TabAtkins>
XML isn't great even for that - too many meaningless restrictions that bork the document if you mess them up.

[19:25:00.0000] <variable>
Arimil, nope: my sole use for XML ever was for writing an FAQ. I had a series of Sections, questions, and answers

[19:25:01.0000] <variable>
and I used XSLT to convert it to HTML

[19:28:00.0000] <Arimil>
variable: *shrug* It's a good use of XML although like I said I really hate XML and I would have looked for another way

[21:09:00.0000] <micheil>
has anybody tested Safari 5 for websocket draft75 compliance?

[21:10:00.0000] <micheil>
I'm noticing that safari will close connections after N seconds

[21:17:00.0000] <micheil>
where N seconds is 120

[21:46:00.0000] <MikeSmithX>
it occurs to me that a problem with the way many people conceive Web architecture is is that they assume that resources at URIs are not really doing much of anything at all

[21:46:01.0000] <MikeSmith>
but are instead just waiting to be requested

[21:47:00.0000] <MikeSmith>
/me is reading through some Web-related papers submitted for the Internet of Things 2010 conference

[21:48:00.0000] <MikeSmith>
or in other terms, most discussions about Web architecture doesn't seem to involve much thought about all the interesting events that could be occurring for a resource at a particular URI

[22:46:00.0000] <micheil>
looks like the timeout issue with safari is due to the server, but it does raise another issue, on close, safari doesn't send a FIN packet back

[23:19:00.0000] <MikeSmith>
I guess I would have expected AtomPub to have some kind of eventing model as its conceptual basis

[00:35:00.0000] <Hixie>
variable: in theory lachy is writing one - http://dev.w3.org/html5/html-author/

[00:35:01.0000] <Hixie>
variable: it's been lacking attention though

[00:48:00.0000] <MikeSmith>
http://diveintohtml5.org/ does a pretty good job too

[00:53:00.0000] <MikeSmith>
/me needs to buy copies of http://books.alistapart.com/product/html5-for-web-designers and http://introducinghtml5.com/ as well

[01:04:00.0000] <JonathanNeal>
Bam!

[01:04:01.0000] <JonathanNeal>
Liferay 6 http://sourceforge.net/projects/lportal/files/Liferay%20Portal/6.0.3/liferay-portal-tomcat-6.0.3.zip/download

[01:09:00.0000] <MikeSmith>
JonathanNeal: hey wow

[01:09:01.0000] <MikeSmith>
you work on Liferay, right?

[01:10:00.0000] <JonathanNeal>
I do.

[01:10:01.0000] <JonathanNeal>
And we're an HTML5 toting gang now.

[01:10:02.0000] <JonathanNeal>
/me does the HTML5 gang sign.

[01:12:00.0000] <MikeSmith>
JonathanNeal: I think some people outside would say that the HTML5 gang seems to be using the middle finger as its sign

[01:13:00.0000] <JonathanNeal>
How's that?

[01:13:01.0000] <JonathanNeal>
Lemme see if I can get some of my roommates to do the html5 gang sign.

[01:15:00.0000] <MikeSmith>
given the pioneering work that Bruce Lawson and Remy Sharp have done in this area, it seems pretty clear that the HTML5 gang sign needs to involve some partial nudity

[01:19:00.0000] <Workshiva>
Clearly the gang sign is to make a '5' with your fingers

[01:21:00.0000] <MikeSmith>
I think it should just be holding up one five-fingered hand

[01:21:01.0000] <JonathanNeal>
okay lemme try something

[01:21:02.0000] <MikeSmith>
but in the form of an eagle claw

[01:21:03.0000] <MikeSmith>
but if you have only 4 fingers, you can only make the HTML4 gang sign

[01:42:00.0000] <JonathanNeal>
okay i've got it.  html5 gang sign.

[01:50:00.0000] <MikeSmith>
reading some of these paper submissions for Internet of Things 2010, I'm getting an education about the difference between using HTTP as a just a transport protocol, and using it as an application protocol

[02:05:00.0000] <JonathanNeal>
http://sandbox.thewikies.com/html5-gang-sign/

[02:11:00.0000] <MikeSmith>
ah JonathanNeal 

[02:12:00.0000] <MikeSmith>
you are brilliant, man

[02:12:01.0000] <MikeSmith>
can I tweet this?

[02:12:02.0000] <MikeSmith>
this is solid gold

[02:12:03.0000] <MikeSmith>
complete with the background music and everything

[02:14:00.0000] <MikeSmith>
"2 plus 3 equals 5"

[02:15:00.0000] <ako>
<meta charset="UTF-8" /> <- that's ok now?

[02:15:01.0000] <ako>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>

[02:15:02.0000] <ako>
 <- no need for that mess anymore?

[02:16:00.0000] <ako>
/me fails at pasting

[02:16:01.0000] <annevk>
right

[02:16:02.0000] <ako>
excellent

[02:16:03.0000] <ako>
that's something i can actually remember :>

[02:16:04.0000] <annevk>
you can even do <meta charset=utf-8>

[02:17:00.0000] <ako>
eh... i won't go that far

[02:17:01.0000] <ako>
<:

[02:17:02.0000] <zcorpan_>
you can even do <meta utf-8>

[02:17:03.0000] <annevk>
zcorpan_, uh?

[02:17:04.0000] <zcorpan_>
j/k

[02:18:00.0000] <annevk>
too early :/

[02:18:01.0000] <annevk>
JonathanNeal, lol

[02:18:02.0000] <annevk>
JonathanNeal, we should have you guys at Standards Suck :)

[02:21:00.0000] <Workshiva>
JonathanNeal: Your video is inaccessible to people without speakers :<

[02:22:00.0000] <zcorpan_>
add websrt captions in a <track>

[02:24:00.0000] <ako>
mhmh... does track allow lang attributes? if so, how do you switch between different languages?

[02:25:00.0000] <zcorpan_>
there's srclang

[02:28:00.0000] <JonathanNeal>
How do you expect me to compensate for that, Workshiva?

[02:28:01.0000] <ako>
so, could i use several video files with different audio tracks and also several subtitle tracks which also use different languages?

[02:29:00.0000] <ako>
for example the media splitter i'm using with my regular stand alone player allows me to define priorities for this stuff

[02:30:00.0000] <ako>
well, it's of course an implementation detail, but do the specs point out that one should keep this in mind?

[02:30:01.0000] <MikeSmith>
hendry: you're switching jobs and moving to London?

[02:31:00.0000] <hendry>
MikeSmith: yup

[02:31:01.0000] <MikeSmith>
switching jobs = moving to different company?

[02:32:00.0000] <hendry>
MikeSmith: yes, contracting for Vodafone

[02:32:01.0000] <MikeSmith>
wow

[02:32:02.0000] <MikeSmith>
great news

[02:32:03.0000] <MikeSmith>
working with anybody I know?

[02:32:04.0000] <hendry>
MikeSmith: I think I am working on WAC stuff with Ricardo

[02:33:00.0000] <MikeSmith>
cool

[02:33:01.0000] <MikeSmith>
I see http://twitter.com/kaihendry/status/18518431813 now

[02:33:02.0000] <hendry>
MikeSmith: of course DKA is around. I'm sure to harass him

[02:33:03.0000] <MikeSmith>
yeah

[02:33:04.0000] <MikeSmith>
give that dude a hard time

[02:34:00.0000] <MikeSmith>
he deserves it

[02:34:01.0000] <annevk>
ako, it's not a single video with multiple audio tracks?

[02:35:00.0000] <annevk>
ako, but there's nothing specific for that case at the moment afaik

[03:28:00.0000] <hsivonen>
hendry: what's JIL/WAC?

[03:29:00.0000] <hendry>
hsivonen: it's a JIL/BONDI conversion, now collectively called WAC http://www.wholesaleappcommunity.com

[03:31:00.0000] <hsivonen>
hendry: ok

[03:33:00.0000] <hendry>
It's still not finalised tbh. Though I hope it will all come together.

[04:21:00.0000] <jgraham>
Argh. I really wish javascript had named parameters

[04:22:00.0000] <Workshiva>
Named parameters?

[04:22:01.0000] <jgraham>
like foo(bar=baz)

[04:22:02.0000] <jgraham>
named arguments maybe

[04:22:03.0000] <hsivonen>
jgraham: should be easy enough to pass an object with all the named stuff inside

[04:22:04.0000] <jgraham>
hsivonen: Yeah, that is one possibility

[04:23:00.0000] <jgraham>
In fact I am already using that possibility

[04:23:01.0000] <jgraham>
But...

[04:23:02.0000] <Workshiva>
Or toString the function reference and extract the parameter names, then create an array with the right order and apply

[04:23:03.0000] <Workshiva>
:D

[04:23:04.0000] <jgraham>
Anyway, back in the land of the sane...

[04:23:05.0000] <jgraham>
I have a pair of functions

[04:24:00.0000] <jgraham>
Well a function and a method

[04:24:01.0000] <jgraham>
the function looks like test(func, name, properties)

[04:25:00.0000] <jgraham>
the methos looks like test.step(func)

[04:25:01.0000] <jgraham>
I have now realised I should make it possible to change the this object that is used to call func

[04:25:02.0000] <jgraham>
so I can have the caller pass in a this object

[04:26:00.0000] <jgraham>
for Test.step that is fine: test.step(func, this_obj)

[04:26:01.0000] <jgraham>
but what to do for test()?

[04:26:02.0000] <jgraham>
The logical place to put the parameter would be second test(func, this_obj, name, properties)

[04:27:00.0000] <jgraham>
But the common case is to use the global scope

[04:27:01.0000] <jgraham>
so you would always have to pass undefined

[04:28:00.0000] <jgraham>
Which would be bad

[04:28:01.0000] <jgraham>
Putting it after name would give a weird order and mean you had to pass undefined if you want to set properties

[04:29:00.0000] <annevk>
can't you check whether it is the global scope within test?

[04:29:01.0000] <jgraham>
Whether what is the global scope?

[04:30:00.0000] <annevk>
this?

[04:30:01.0000] <Philip`>
Do test(func, name, properties) and test_with_this(func, this_obj, name, properties)

[04:30:02.0000] <annevk>
is there a scenario where you need test rather than test_async btw with this working?

[04:31:00.0000] <jgraham>
annevk: test() is just for covenience because it causes the test to be run immediately

[04:31:01.0000] <jgraham>
seems useful

[04:31:02.0000] <jgraham>
Philip`: Ugly but workable

[04:31:03.0000] <jgraham>
I could typecheck the second parameter of course

[04:31:04.0000] <jgraham>
That would be the jQuery way

[04:31:05.0000] <jgraham>
But...

[04:32:00.0000] <Philip`>
Or this_obj.apply(func, ...) (or whatever the syntax is) to use the normal language facilities for changing this

[04:32:01.0000] <annevk>
jgraham, it's useful, but do you need "this" working when test is used?

[04:32:02.0000] <Philip`>
s/func/test/

[04:32:03.0000] <jgraham>
annevk: I thought you were the one with the use case :)

[04:32:04.0000] <annevk>
jgraham, my use case is only for test_async

[04:33:00.0000] <jgraham>
annevk: Seems odd to let it work in one case but not the other 

[04:33:01.0000] <jgraham>
But maybe that is actually good to enfore

[04:33:02.0000] <jgraham>
*enforce

[04:33:03.0000] <annevk>
testing "this" is always needed in a callback... never really needed it elsewhere in usual tests

[04:34:00.0000] <annevk>
i mean, I can't remember having used it in some kind of sync variant

[04:34:01.0000] <jgraham>
OK I will take the simple solution of not solving the problem and calling it a feature

[04:34:02.0000] <annevk>
also, couldn't I use

[04:35:00.0000] <annevk>
test.step(function(this) { ... }) ?

[04:35:01.0000] <jgraham>
Yeah you could

[04:36:00.0000] <jgraham>
It feels nicer to optionally run the function in the expected scope though

[04:36:01.0000] <annevk>
actually, how would I then access it?

[04:36:02.0000] <annevk>
yeah, if you can do that and tell me how to make it work

[04:36:03.0000] <jgraham>
It's all fine

[04:36:04.0000] <jgraham>
/me notices he allowed extra arguments to step() get passed to the function

[04:36:05.0000] <annevk>
so you solve it on your side?

[04:37:00.0000] <jgraham>
That seems unnecessary...

[04:37:01.0000] <annevk>
so what do I do?

[04:37:02.0000] <jgraham>
annevk: Do test.step(function(){}, this)

[04:37:03.0000] <karlcow>
fresh redesign of Zappos http://www.zappos.com/ by HappyCog http://happycog.com/create/zappos/ 

[04:37:04.0000] <karlcow>
http://validator.w3.org/check?uri=http%3A%2F%2Fwww.zappos.com%2F&charset=%28detect+automatically%29&doctype=Inline&group=0

[04:37:05.0000] <karlcow>
using html5 doctype, but already invalid. 

[04:38:00.0000] <annevk>
jgraham, and then the bit between {} can use this without problems?

[04:38:01.0000] <jgraham>
Yeah, I think so

[04:40:00.0000] <annevk>
so I have test.step(function() { assert_equals("data", e.data); this.close() }, this)

[04:43:00.0000] <jgraham>
Yes

[04:43:01.0000] <jgraham>
Although the step is run synchronously

[04:43:02.0000] <annevk>
and if the listener is inlined it is fine right?

[04:43:03.0000] <jgraham>
so you can just close after the test.step rather than in the test function

[04:44:00.0000] <jgraham>
listener?

[04:45:00.0000] <annevk>
test.step(function() { obj.onmessage = function() { test.step(function() {}) } }) or some such

[04:46:00.0000] <annevk>
and a test.done() after the second test.step()

[04:46:01.0000] <jgraham>
Yeah that should be fine I think

[04:46:02.0000] <jgraham>
Hard to read all on one line in irc

[04:46:03.0000] <annevk>
lots of braces

[04:46:04.0000] <annevk>
hard to type too

[04:47:00.0000] <annevk>
all on one line

[04:48:00.0000] <annevk>
jgraham, I need assert_error() or some such for something that should not be reached

[04:49:00.0000] <jgraham>
annevk: Yeah, known bug. Will work on it next

[07:06:00.0000] <zcorpan_>
http://css.dzone.com/articles/python-based-html5lib-firefoxs

[07:08:00.0000] <Philip`>
"html5lib [...] has gone from version 0.1 to 0.9" - wow, a nine times improvement!

[07:09:00.0000] <Philip`>
Should have started at version 0.01 then it'd seem even more impressive

[07:10:00.0000] <zcorpan_>
you should bump the version number with an order of magnitude for each new version

[07:11:00.0000] <Philip`>
Version 1e1, 1e2, 1e3, etc?

[07:11:01.0000] <jgraham>
Um, we are on version 0.90

[07:11:02.0000] <jgraham>
That is 10x larger than 0.9

[07:11:03.0000] <Workshiva>
Yeah, get it right

[07:11:04.0000] <boblet>
MikeSmithX: I got a review copy of HTML5 for Web Designers — will bring it next week

[07:12:00.0000] <boblet>
JonathanNeal MikeSmithX wish I’d been here earlier. respekt, mah homies

[07:14:00.0000] <boblet>
hey anyone know where the ‘HTML5 = 900 pages’ thing came from? trying to fact-check and I only get 519 pages (normal view)

[07:14:01.0000] <Workshiva>
Before all the splits?

[07:14:02.0000] <annevk>
could be the PDF version of the spec

[07:14:03.0000] <Philip`>
PDF?

[07:15:00.0000] <Philip`>
It's an entirely meaningless number anyway

[07:15:01.0000] <boblet>
Workshiva: woah didn’t realise so much had been split off

[07:15:02.0000] <boblet>
annevk: there’s a pdf version!? holy crap the cabal roolz

[07:15:03.0000] <Philip`>
Only slightly less meaningless than counting megabytes

[07:15:04.0000] <Workshiva>
Let's bikeshed over exactly how meaningless it is

[07:15:05.0000] <jgraham>
It's mreo meaningless than counting Mb

[07:15:06.0000] <jgraham>
*more

[07:16:00.0000] <jgraham>
Because Mb directly affect load speed

[07:16:01.0000] <boblet>
Philip`: true, but would like to point out how meaningless seeing as it’s being used in advertising

[07:16:02.0000] <zcorpan_>
but less meaningless than counting cows

[07:16:03.0000] <jgraham>
It is even more meaningless than counting DOM nodes

[07:16:04.0000] <Philip`>
jgraham: Not really, because adding lots of whitespace would make it bigger but it'd probably download in the same time because of gzip

[07:16:05.0000] <jgraham>
Philip`: Pretend I mean gzipped megabytes

[07:17:00.0000] <Philip`>
Counting crows?

[07:17:01.0000] <Philip`>
Oh, cows

[07:17:02.0000] <boblet>
the text-only version should be linked in there too

[07:18:00.0000] <Philip`>
jgraham: That sounds like it's getting closer to measuring the entropy of the document, which is probably a more meaningful measure

[07:18:01.0000] <jgraham>
yes

[07:20:00.0000] <boblet>
provided US letter one is 745 pages. huh — doing a print to pdf in Chrome results in the content only taking 2/3 the width of the page, with smaller text, and clocks in at 519 pages

[07:20:01.0000] <boblet>
but is double the official one’s size

[07:21:00.0000] <boblet>
I guess Prince does a good job

[07:39:00.0000] <boblet>
oof, that’s somewhat embarrassing. “The HTML5 spec is 900 pages and hard to read. HTML5 for Web Designers is 85 pages and fun to read”. Current spec is 745 pages. *Author View* spec is ~ 386 pages.

[07:40:00.0000] <boblet>
I think the polite term for that is “creative copywriting”

[07:40:01.0000] <jgraham>
boblet: Presumably the WHATWG version is longer?

[07:40:02.0000] <nimbupani>
boblet: who is saying that?

[07:40:03.0000] <Workshiva>
We don't do "polite" here :P

[07:40:04.0000] <boblet>
jgraham: those figures are from whatwg version

[07:40:05.0000] <jgraham>
Oh

[07:40:06.0000] <jgraham>
complete.html?

[07:41:00.0000] <jgraham>
:)

[07:41:01.0000] <boblet>
nimbupani: http://books.alistapart.com/

[07:41:02.0000] <nimbupani>
that is sad :(

[07:41:03.0000] <boblet>
well it was one of those gobsmack figures like the 2022 completion date that stuck

[07:42:00.0000] <nimbupani>
yeah. simple view is not necessarily a good idea :*

[07:42:01.0000] <nimbupani>
:(

[07:42:02.0000] <boblet>
just sad that it’s being used (unintentionally or not) in sales

[07:42:03.0000] <nimbupani>
exactly.

[07:42:04.0000] <boblet>
gotta admit, it makes for great copy

[07:43:00.0000] <nimbupani>
i think it trivializes the whole spec.

[07:43:01.0000] <boblet>
although I’d call bs on the hard to read part — whoever wrote that hasn’t read semweb specs (which are obviously written for a higher life form than I)

[07:44:00.0000] <miketaylr>
i think the 900 number came from the super friends

[07:44:01.0000] <boblet>
nimbupani: preeeeecisely. longer is oh so much better, given the spec is uniformly terse

[07:44:02.0000] <nimbupani>
miketaylr: not surprising :P

[07:44:03.0000] <boblet>
miketaylr: that’d figure. the spec prolly was that big back then before stuff got split off, as Workshiva was saying

[07:45:00.0000] <miketaylr>
mmmhmm

[07:45:01.0000] <boblet>
but all the stuff split off is completely outside the topic scope of “…for web designers”

[07:46:00.0000] <boblet>
(PDF still includes Microdata, and that has a 1 sentence mention)

[07:46:01.0000] <zcorpan_>
i think hixie changed the font size and the page margins to reduce the number of pages when people were talking about how many pages it was

[07:46:02.0000] <miketaylr>
heh, http://twitter.com/michai/status/13369668370 points to html5 for designers

[07:47:00.0000] <zcorpan_>
it seems like doing print preview on complete.html in chrome crashes chrome

[07:47:01.0000] <Philip`>
I've noticed far fewer criticisms of the size of the HTML5 spec than of OOXML

[07:47:02.0000] <miketaylr>
aha, found it

[07:47:03.0000] <miketaylr>
http://meyerweb.com/eric/thoughts/2009/09/07/html5-and-you/

[07:48:00.0000] <miketaylr>
boblet: ^^

[07:49:00.0000] <boblet>
miketaylr: thanks — will badger the king ;)

[07:49:01.0000] <miketaylr>
heh

[07:49:02.0000] <miketaylr>
looks like brucel perpepuates the myth here as well: http://www.brucelawson.co.uk/2010/introducing-html5-almost-in-the-can/

[07:50:00.0000] <boblet>
man, gonna have to put my badger suit on at this rate

[07:51:00.0000] <boblet>
woah — 990 pages to 506 pages just based on print style changes? Hixie musta had it set at double leading or something

[07:52:00.0000] <Philip`>
You should count A4 pages, rather than whatever crazy non-metric sizes are used in the US

[07:52:01.0000] <boblet>
Philip`: lol

[07:53:00.0000] <boblet>
was assuming whoever came up with the 900 page figure would have US letter as their default ;-)

[07:53:01.0000] <boblet>
seems i was prolly right too

[07:54:00.0000] <Philip`>
How many pages are taken up by the character references table?

[07:55:00.0000] <Philip`>
Hmm, Firefox tries to put it on 3 pages

[07:55:01.0000] <Philip`>
which is clearly not quite right

[07:56:00.0000] <boblet>
Philip`: only about 8, they’re pretty tiny

[07:57:00.0000] <Philip`>
Oh

[08:00:00.0000] <hsivonen>
Philip`: OOXML should be longer. There are some hand-wavy parts about imitating the behaviors of legacy software

[08:00:01.0000] <hsivonen>
(or at least were in the ECMA version. I haven't reviewed the ISO version.)

[08:03:00.0000] <Philip`>
When I looked at OOXML briefly, it seemed to be a lot of schemas and datatype definitions and examples, and not much that's equivalent to UA requirements

[08:04:00.0000] <hsivonen>
Philip`: well, the length argument was bad anyway, because ODF is even vaguer on processing

[08:06:00.0000] <Philip`>
Seems like most technical complaints against OOXML can apply to ODF too

[08:10:00.0000] <Philip`>
(Clearly we should just use Knuth's new XML-based LaTeX for word processing)

[08:17:00.0000] <boblet>
the print styles for HTML5 are fubar in Chrome. checking in FF now

[08:18:00.0000] <boblet>
(fubar = perfectly readable, but only using half the page width and in a smaller font than official)

[08:18:01.0000] <boblet>
one way to get page count down I guess :)

[08:20:00.0000] <boblet>
or I would if it’d stop beachballing :/

[08:24:00.0000] <hsivonen>
/me recommends using Prince for printing the spec

[08:25:00.0000] <hsivonen>
does any browser implement page number counters in generated content?

[08:27:00.0000] <boblet>
hsivonen: Webkit has been working on implementing print-related CSS, but I don’t know how far they are along

[08:27:01.0000] <boblet>
yeah I probably should install Prince huh

[08:28:00.0000] <boblet>
Firefox is currently stuck with a completely white modal pane that came down from under the page title. wonder what it’s meant to contain

[08:42:00.0000] <fagan>
Is what im talking about on the list on topic?

[08:42:01.0000] <fagan>
I hope it is 

[08:42:02.0000] <fagan>
its still under the youtube problems with the video tag discussion I hope 

[09:00:00.0000] <JonathanNeal>
Goodmorning!

[09:16:00.0000] <OmerSd>
Hi!

[09:17:00.0000] <JonathanNeal>
Hi^

[09:17:01.0000] <boblet>
JonathanNeal: I’m joining your gang yo

[09:17:02.0000] <boblet>
all we need is one more MikeSmithXX and we’ll get the nudie version

[09:17:03.0000] <JonathanNeal>
boblet, oh you heard?

[09:18:00.0000] <JonathanNeal>
We gotta collect all the pictures.

[09:18:01.0000] <JonathanNeal>
Take a picture doing the sign

[09:18:02.0000] <JonathanNeal>
I'll add it to the page.

[09:18:03.0000] <boblet>
JonathanNeal: tweeted yo, we be forming a posse

[09:18:04.0000] <OmerSd>
Have some way change to full screen mode in js?

[09:18:05.0000] <JonathanNeal>
oh it got tweeted, damn, now the url is stuck on my sandbox :P

[09:19:00.0000] <boblet>
lols — redirects are the future

[09:19:01.0000] <boblet>
(or your future)

[09:19:02.0000] <boblet>
OmerSd: standard JS screen resizing code should work fine with HTML5, but a bigger question would be … why would you want to do that?

[09:19:03.0000] <JonathanNeal>
I guess so.

[09:20:00.0000] <boblet>
orz, I thought it was prime-time :D

[09:20:01.0000] <OmerSd>
i wanna make a web appliction

[09:20:02.0000] <JonathanNeal>
HTML5, doctype no, gang sign yes.

[09:20:03.0000] <boblet>
OmerSd: that’s not a good reason. if Gmail resized my browser every time I used it, I’d stop using it

[09:21:00.0000] <OmerSd>
I'll do a option to full screen

[09:21:01.0000] <boblet>
OmerSd: having a button to make the browser window full size may be a nice feature in some situations, but I’d do some user testing before making it the default

[09:21:02.0000] <boblet>
OmerSd: oh ok :)

[09:22:00.0000] <OmerSd>
:)

[09:22:01.0000] <boblet>
OmerSd: well I’ve got no idea but here’s the first thing that came up in Google: http://www.pbdr.com/jscript/windfull.htm

[09:23:00.0000] <OmerSd>
Thanks :)

[09:24:00.0000] <boblet>
for anyone interested in PDF size, the official A4 version was 707 pages, a full version I made with Prince was 709 pages (slightly different copy), and an author vide version clocked in at 378 pages.

[09:24:01.0000] <boblet>
I officially call bullshit on both parts of “The HTML5 spec is 900 pages and hard to read.”

[09:26:00.0000] <OmerSd>
How i can calucate the maximum size that the user can see in the document(without full screen)?

[09:26:01.0000] <Philip`>
boblet: Hmm, you think it's not hard to read?

[09:27:00.0000] <boblet>
Philip`: I think parts of it are still confusing, but the author view isn’t in general no

[09:28:00.0000] <boblet>
Philip`: of course this could just be in comparison to typical W3C specs

[09:29:00.0000] <boblet>
Philip`: it doesn’t have Jeremy’s witty turn of speech certainly, but hard to read is an exaggeration

[09:29:01.0000] <Philip`>
/me has been reading it for three years and still thinks it's hard to read :-)

[09:29:02.0000] <Philip`>
though maybe that's because I mostly read the non-author bits

[09:30:00.0000] <boblet>
Philip`: I did have that as a caveat :P the implementor bits seem brutally precise, but I have no idea what they actually mean most of the time

[09:30:01.0000] <boblet>
it’s lucky for the interwebs I am an author not an implementor

[09:49:00.0000] <OmerSd>
Have some api spec for html5 like javadoc?

[09:50:00.0000] <ako>
the biggest problem with that is that the current specs aren't very well suited for automatic generation

[09:51:00.0000] <boblet>
OmerSd:  api specs are in the HTML5 spec for basic things http://www.whatwg.org/specs/web-apps/current-work/multipage/

[09:52:00.0000] <TabAtkins>
JonathanNeal: I don't see quite how the H is formed in the gang sign.

[09:52:01.0000] <boblet>
OmerSd: other things that have been split out like Web Sockets are in different specs: http://wiki.whatwg.org/wiki/FAQ#What_are_the_various_versions_of_the_spec.3F

[09:52:02.0000] <JonathanNeal>
TabAtkins, the 3 and the 2 put together make an h

[09:52:03.0000] <JonathanNeal>
they also make a t, the 3 forms the m

[09:52:04.0000] <JonathanNeal>
and any of them could be the l.

[09:52:05.0000] <boblet>
TabAtkins: well you’re obviously not eligible for the posse

[09:52:06.0000] <TabAtkins>
JonathanNeal: Oh, I see it now.

[09:53:00.0000] <miketaylr>
thuglife is hard.

[09:53:01.0000] <TabAtkins>
The problem is too many thugs, not enough signs to throw.

[09:54:00.0000] <boblet>
miketaylr: too funny

[09:54:01.0000] <miketaylr>
:)

[09:55:00.0000] <JonathanNeal>
Updated: http://sandbox.thewikies.com/html5-gang-sign/

[09:56:00.0000] <boblet>
JonathanNeal: btw, your buddy making the peace sign with the palm in? that’s called “the fingers” in Oz & NZ (UK too?) and is equivalent to flippin the bird

[09:56:01.0000] <JonathanNeal>
boblet, ut oh.

[09:56:02.0000] <boblet>
heh, it’s cool :)

[09:56:03.0000] <JonathanNeal>
Maybe I'll update the video tonight.

[09:56:04.0000] <boblet>
it’s a gang sign instructional video after all

[09:56:05.0000] <boblet>
the guy’s expression matches perfectly too

[09:57:00.0000] <TabAtkins>
boblet: Interesting.  It's just ordinary sign for when you're ready to chillax while getting krunk in the US.

[09:58:00.0000] <boblet>
yeah, apparently one of the Bushes was waving like that from his limo when he visited Oz. went down a treat ;-)

[09:58:01.0000] <boblet>
prolly Dubya, would be in keeping with general foreign policy

[09:58:02.0000] <TabAtkins>
Clearly Bush was getting krunk in his limo, all knocking back 40s with his bitches.

[09:59:00.0000] <boblet>
hahaha, clearly

[10:07:00.0000] <Philip`>
boblet: (UK too)

[10:07:01.0000] <Philip`>
boblet: (See e.g. http://news.bbc.co.uk/dna/h2g2/A11047132)

[10:22:00.0000] <boblet>
har http://en.wikipedia.org/wiki/V_sign#V_sign_as_an_insult

[10:22:01.0000] <boblet>
a little different to what I remembered, but still very krunk

[10:27:00.0000] <boblet>
MikeSmithXX: btw posted you a bunch of HTML5Doctor flowcharts today. now that I think about it I coulda given them to you next week. oh well. distribute with gay abandon

[10:27:01.0000] <boblet>
nn

[11:01:00.0000] <paul_irish>
TabAtkins: you wanna get a tag team gang sign pic?

[11:01:01.0000] <TabAtkins>
paul_irish: Let's rock this.

[11:06:00.0000] <JonathanNeal>
yeaaaa

[11:16:00.0000] <JonathanNeal>
quite a few submissions.

[11:18:00.0000] <TabAtkins>
Hehe.  Me + paul_irish clearly the most attractive of the bunch.

[11:20:00.0000] <paul_irish>
+1

[11:21:00.0000] <miketaylr>
jeeze thanks

[11:29:00.0000] <TabAtkins>
Sorry, miketaylr, but you just can't compete with the raw sexual attraction we pump out.

[11:29:01.0000] <miketaylr>
ahahah

[11:29:02.0000] <miketaylr>
/me concedes

[12:27:00.0000] <TabAtkins>
Man, the box model's subtleties are complicated.

[12:28:00.0000] <JonathanNeal_>
fix it, TabAtkins

[12:28:01.0000] <ojan>
TabAtkins: ?

[12:28:02.0000] <TabAtkins>
Nah, the things I'm banging on can't be "fixed" because they're an integral part of the web at this point, and more or less make sense anyway.

[12:28:03.0000] <TabAtkins>
ojan: Working on issue 138, involving what happens when floats and blocks are children of a relpos inline.

[12:29:00.0000] <TabAtkins>
floats and blocks act differently here.

[12:29:01.0000] <ojan>
TabAtkins: fun

[12:30:00.0000] <TabAtkins>
It makes sense, though.  Floats position themselves solely based on their containing block (and other floats with the same CB), and the inline doesn't form a containing block for it.

[12:30:01.0000] <TabAtkins>
So the float doesn't move with the inline when it gets relpos'd, but the block does.

[12:30:02.0000] <ojan>
TabAtkins: yuck.

[12:36:00.0000] <TabAtkins>
ojan: Yuck indeed.  Floats suck in *so many different ways*.  I can't help but think we'd have been better off from the beginning if we'd just defined a way for abspos elements to intrude and push text around them.

[12:37:00.0000] <TabAtkins>
That would have prevented the worst abuses of float-based layouts, too.

[12:38:00.0000] <ojan>
TabAtkins: totally.

[12:38:01.0000] <ojan>
TabAtkins: that could still be worth doing.

[12:38:02.0000] <TabAtkins>
Pretty sure MS has some custom stuff doing that already.

[12:38:03.0000] <TabAtkins>
Don't remember if that was some vendor-specific public stuff, or a private build I saw.

[12:39:00.0000] <TabAtkins>
/me notes that it would also probably have increased the drive to make abspos more powerful.

[12:39:01.0000] <TabAtkins>
Now I just need a time machine.  First stop, Ben Franklin.  Second stop, Hakon and Bert in the 90s.

[12:44:00.0000] <Philip`>
Remember to put a battery in Ben's kite so it'll get recharged and then use it to power the Chron-O-John

[12:45:00.0000] <TabAtkins>
Will do.  That's a convenient time to drop in anyway, since I'll be visiting him about his charge convention.

[13:28:00.0000] <TabAtkins>
Question: it appears that Chrome's implementation, at least, of <canvas> only permits integers in the CanvasPixelArray object of ImageData, and floors the value upon assigning a float.  I can't find anything in particular to support that in the spec.  Is there?

[13:29:00.0000] <Philip`>
  setter void (in unsigned long index, in octet value);

[13:30:00.0000] <Philip`>
See WebIDL for conversions to octet

[13:30:01.0000] <TabAtkins>
Ah, octet.  Interesting.

[13:30:02.0000] <TabAtkins>
That would explain some of my errors, then.

[13:37:00.0000] <TabAtkins>
Excellent.  Switching over to using a number for my intermediate calculations and then assigning to the ImageData at the end fixed everything.

[14:43:00.0000] <JonathanNeal_>
sup thugs

[14:44:00.0000] <JonathanNeal_>
html5 gangstas

[14:44:01.0000] <TabAtkins>
Yo.

[16:11:00.0000] <KevinMarks>
grr at firefox fro not supporting mp3 in <audio> and not failng properly

[16:12:00.0000] <TabAtkins>
mp3 isn't royalty-free.  What do you mean "not failing properly"?

[16:13:00.0000] <KevinMarks>
if it refused to play it and displayed the fallback code, that would be lovely

[16:13:01.0000] <KevinMarks>
I coudl put the flash emebd inside the audio tag

[16:13:02.0000] <KevinMarks>
but instead it displays a completely useless grey box with an X in it

[16:13:03.0000] <KevinMarks>
so I am going to have to default to flash

[16:14:00.0000] <KevinMarks>
if I want to use audio declaratively

[16:14:01.0000] <TabAtkins>
That's not how <audio> and <video> are supposed to fail.  Their fallback contents are for legacy browsers, not for unsupported codecs.

[16:14:02.0000] <KevinMarks>
yes, adn that supposition si wrong

[16:15:00.0000] <TabAtkins>
It's not "wrong".  It can't be.  It can be different than what you want, though.

[16:15:01.0000] <KevinMarks>
er

[16:15:02.0000] <TabAtkins>
Anyway, just throw a tiny bit of javascript at it that asks the <audio> if it can play mp3s, and replaces it if it can't.

[16:15:03.0000] <KevinMarks>
I am saying that the spec is wrong

[16:16:00.0000] <KevinMarks>
because it breaks if I write declarative code

[16:16:01.0000] <TabAtkins>
No, the spec can be different thatn what you expect, or suboptimal.  It can't be "wrong" in this case, because it's not declaring a statement of fact.

[16:17:00.0000] <KevinMarks>
the spec is misdesigned then

[16:17:01.0000] <KevinMarks>
happy now?

[16:17:02.0000] <TabAtkins>
Yes. ^_^

[16:18:00.0000] <TabAtkins>
Anyway, the discussion about <audio>/<video> fallback has been had several times.  It is almost certain not to be changed at this point, because the way you want it to act requires crazy code on the browser side.

[16:19:00.0000] <TabAtkins>
What happens, for example, if your <audio> starts with no playable <source>s, but then you later add one it can play with js?

[16:19:01.0000] <TabAtkins>
Does it stop and tear down the Flash?  Does it ignore the new <source>?

[16:20:00.0000] <TabAtkins>
Does this mean that the order in which you insert <source>s and other contents can have an effect on what happens?

[16:21:00.0000] <KevinMarks>
so instead you require crazy code on the client side

[16:21:01.0000] <TabAtkins>
You have a very low definition of "crazy".

[16:22:00.0000] <TabAtkins>
It's like three lines, plus whatever js is necessary to do an embed.

[16:25:00.0000] <Cheery>
hi

[16:26:00.0000] <Cheery>
I've got a question about WebSocket. Are you sure the handshake is good to be GET?

[16:26:01.0000] <hsivonen>
KevinMarks: It's easier to offer Vorbis than to do a Flash fallback :-)

[16:26:02.0000] <KevinMarks>
no it fucking isn't

[16:26:03.0000] <Cheery>
I've understood GET can be cached and such.

[16:27:00.0000] <Cheery>
so it makes me wonder, shouldn't it be POST -method?

[16:27:01.0000] <KevinMarks>
Firefox will happily route an mp3 to a plgin if I use <iframe>

[16:27:02.0000] <Cheery>
for anything else, I happily ignore flash if I can.

[16:27:03.0000] <KevinMarks>
or object

[16:27:04.0000] <KevinMarks>
or embed

[16:27:05.0000] <hsivonen>
KevinMarks: not on Maemo

[16:27:06.0000] <franksalim>
Cheery, a 101 switching protocols response cannot be cached

[16:28:00.0000] <KevinMarks>
course Android is worse

[16:28:01.0000] <TabAtkins>
KevinMarks: Plugins are a completely separate story.  They just happened to be on the other side of the "worth compromising principles over".

[16:28:02.0000] <KevinMarks>
it 'supports' <audio>

[16:28:03.0000] <Cheery>
franksalim: which portion of WebSocket -spec makes it a switching protocol?

[16:28:04.0000] <KevinMarks>
except no formats at all

[16:29:00.0000] <hsivonen>
KevinMarks: huh. that's silly

[16:29:01.0000] <TabAtkins>
Agreed, that's pretty silly.

[16:29:02.0000] <KevinMarks>
Look: http://homepage.mac.com/kevinmarks/audiotest1c.html

[16:29:03.0000] <franksalim>
Cheery, the server response HTTP/1.1 101 WebSocket Protocol Handshake

[16:29:04.0000] <hsivonen>
KevinMarks: you are talking about the Android Browser, right? not Firefox on Android?

[16:29:05.0000] <Cheery>
101 -there.. oh IC

[16:29:06.0000] <KevinMarks>
yes, I'm talking about the one with an installed base

[16:30:00.0000] <Cheery>
franksalim: thank you from clarifying. :) I have more questions about websocket.

[16:30:01.0000] <Cheery>
why such complicated handshaking mechanism? why three keys?

[16:31:00.0000] <Cheery>
also, where's UDP?

[16:31:01.0000] <Cheery>
(which would be a welcome introduction)

[16:32:00.0000] <Cheery>
and.. that's it. pretty much other in websocket makes sense to me.

[16:33:00.0000] <AryehGregor>
The handshake is to avoid various security problems.  A lot of care is needed, since any web page can trigger a WebSocket request, so the browser needs to be sure it's not being abused somehow.

[16:33:01.0000] <AryehGregor>
(dunno all the specifics)

[16:33:02.0000] <franksalim>
Cheery, UDP would need a different protocol and NAT/firewall/proxy traversal work

[16:33:03.0000] <AryehGregor>
UDP doesn't fit into those requirements at all.

[16:34:00.0000] <AryehGregor>
You'd have to get rid of the handshake, but then you need something else to ensure security (like what?).

[16:34:01.0000] <franksalim>
I am interested in the thinking behind the three key design. Has that been described in public?

[16:34:02.0000] <Cheery>
AryehGregor: not to mention it's connectionless.. yeah.

[16:34:03.0000] <AryehGregor>
I'm sure it's been described in public.

[16:34:04.0000] <AryehGregor>
All the WebSocket development is public as far as I know.

[16:35:00.0000] <franksalim>
AryehGregor, I would be grateful for a link :-)

[16:35:01.0000] <AryehGregor>
/me doesn't know where it is

[16:35:02.0000] <AryehGregor>
You'd think websockets.org would mention it.

[16:35:03.0000] <AryehGregor>
At the IETF somewhere, I guess?

[16:36:00.0000] <Cheery>
Maybe I'll have to resort with TCP sockets only.. websockets are anyway already quite all right.

[16:36:01.0000] <AryehGregor>
I think this is it: https://www.ietf.org/mailman/listinfo/hybi

[16:36:02.0000] <Cheery>
planning a multiplayer write into platformer game: http://boxbase.org/fun/knights/

[16:36:03.0000] <AryehGregor>
There's a lot of archived stuff.

[16:36:04.0000] <franksalim>
I found the monster thread about the handshake redesign

[16:36:05.0000] <AryehGregor>
I'm pretty sure it's a recurring topic there.

[16:37:00.0000] <franksalim>
but IIRC, it started with a proposed design and was not designed on list

[16:37:01.0000] <franksalim>
/me goes off to read


2010-07-17
[17:39:00.0000] <KevinMarks>
OK, so what is this 'tiny bit of javascript' to tell if the declarative audio tag with an mp3 in it is a useless waste of space?

[17:39:01.0000] <KevinMarks>
'cos what I'm trying isn't working

[17:39:02.0000] <TabAtkins>
Create an audio, use canPlayType() to query it.

[17:39:03.0000] <TabAtkins>
If it can't, then grab all the audios, loop through them, and replace them with embed code.

[17:40:00.0000] <TabAtkins>
That's the simple way.  You can be slightly more robust at the cost of a bit more code, but this'll work for the simple case of "I only have an mp3, but can feed it to flash for fallback."

[17:42:00.0000] <KevinMarks>
Ihave to create a new audio, I can't use an element I declared?

[17:42:01.0000] <KevinMarks>
I'd like to know if that specific one worked...

[17:43:00.0000] <TabAtkins>
Sure, you could do that too.

[17:43:01.0000] <TabAtkins>
Any audio will respond the same.

[17:43:02.0000] <TabAtkins>
/me is gone for a bit.

[17:59:00.0000] <MikeSmith>
Chrome has an experimental context-menu API?

[17:59:01.0000] <MikeSmith>
http://code.google.com/chrome/extensions/dev/experimental.contextMenus.html

[18:00:00.0000] <Cheery>
I enjoyed talking with you guys. it helped me understand your design choices behind websocket.

[18:05:00.0000] <MikeSmith>
http://www.chromium.org/developers/design-documents/extensions/context-menu-api

[18:17:00.0000] <karlcow>
Google and Apple joined IDPF (epub standard) http://reading20.posterous.com/idpf-grows

[18:18:00.0000] <karlcow>
that will change the dynamic… maybe

[18:26:00.0000] <MikeSmith>
some Apple people had already been attending the ePub 2.1 meetings anyway

[18:26:01.0000] <gsnedders>
http://blogs.msdn.com/b/ie/archive/2010/07/16/how-ie9-platform-preview-feedback-changed-the-javascript-standard.aspx

[18:28:00.0000] <MikeSmith>
gsnedders: great posting

[18:29:00.0000] <MikeSmith>
I wonder why chrome team is not also or instead implementing the HTML5 context-menu mechanism

[18:29:01.0000] <MikeSmith>
http://dev.w3.org/html5/spec/interactive-elements.html#context-menus

[18:29:02.0000] <TabAtkins>
MikeSmith: That's an excellent question.

[18:30:00.0000] <MikeSmith>
TabAtkins: maybe it's just a simple case that nobody realized it's in the spec

[18:30:01.0000] <MikeSmith>
it's an easy feature to miss, really

[18:30:02.0000] <MikeSmith>
and no other browser projects have shown signs of implementing it yet either

[18:31:00.0000] <TabAtkins>
MikeSmith: Nod.  I'm asking around.

[18:31:01.0000] <MikeSmith>
cool

[18:34:00.0000] <wirepair>
hey MikeSmith 

[18:35:00.0000] <TabAtkins>
MikeSmith: At the time we started working on that, the HTML5 stuff either didn't exist or was still pretty obviously immature.

[18:41:00.0000] <MikeSmith>
the HTML5 stuff has been in the spec since forever, relatively

[18:41:01.0000] <MikeSmith>
and has not really changed at all

[18:41:02.0000] <TabAtkins>
I'll investigate later to see what they think of the current stuff.

[18:41:03.0000] <TabAtkins>
Right now I'm too busy drinking.

[18:41:04.0000] <MikeSmith>
heh

[18:41:05.0000] <MikeSmith>
cheers

[18:41:06.0000] <MikeSmith>
wirepair: hey man

[18:42:00.0000] <MikeSmith>
wirepair: I found another sento in my neighborhood that's only 15-minutes walk, and open on Fridays (which my normal one ain't)

[18:42:01.0000] <MikeSmith>
you got to try out the sento lifestyle

[18:43:00.0000] <MikeSmith>
one downside I notice is that in summertime I get really sleepy after going to sento in the late evening

[18:44:00.0000] <MikeSmith>
so hard to get work done after

[18:44:01.0000] <MikeSmith>
but I guess being able to fall asleep easier at normal sleeping time maybe is more of an upside than a downside

[18:49:00.0000] <MikeSmith>
TabAtkins: (when you get back0

[18:49:01.0000] <MikeSmith>
oops

[18:49:02.0000] <wirepair>
MikeSmith nice, i just moved out of tokyo

[18:49:03.0000] <wirepair>
down south of yokohama, well, will be i came to san fran for a month to hang out and work remotely ;)

[18:50:00.0000] <wirepair>
making serious progress on my browser testing system, now supports an external runner app, and a javascript based version for running through testcases ;)

[18:51:00.0000] <wirepair>
once i finish making sure the browser automation stuff is solid, going to work on building testcases/importing old chrome/firefox regressions

[18:51:01.0000] <MikeSmith>
TabAtkins: (when you get back) the proposal at http://dev.chromium.org/developers/design-documents/extensions/context-menu-api seems to just be from earlier this year .. regardless, I am fairly certain the HTML5 context-menu stuff has not changed at all since the time that API was conceived, so if the existing spec was judged to be pretty obviously immature that time, then it is just as immature now

[18:52:00.0000] <MikeSmith>
and maybe other browser projects would judge it to be immature also

[18:53:00.0000] <MikeSmith>
..if so, would seems to argue for having mailing-list discussion about it, and getting more feedback to help improve the spec

[18:53:01.0000] <MikeSmith>
wirepair: sounds great

[18:53:02.0000] <MikeSmith>
have you been talking with Sylvain?

[18:53:03.0000] <MikeSmith>
 or the other testing folk?

[18:53:04.0000] <wirepair>
just syp 

[18:54:00.0000] <wirepair>
i went with a different automation method 

[18:54:01.0000] <wirepair>
using ldtp for *nix and pywinauto for windows

[18:54:02.0000] <wirepair>
then i have the js version as a back up

[18:54:03.0000] <MikeSmith>
wirepair: btw, TabAtkins is also involved with some of the browser-testing work with syp and others at W3C

[18:54:04.0000] <wirepair>
oh cool, good to know

[18:55:00.0000] <wirepair>
wrote a real real quick blog post on it: http://kougekiryoku.blogspot.com/2010/06/introducing-wbts-wbts.html

[18:56:00.0000] <MikeSmith>
nice posting

[18:56:01.0000] <MikeSmith>
cool to see that you're using twisted

[18:56:02.0000] <MikeSmith>
but maybe you'll have to do what all the cool kids are doing and switch to node.js

[18:57:00.0000] <wirepair>
ha

[18:57:01.0000] <wirepair>
unless they have a node-dns.js i don't think so ;)

[18:57:02.0000] <wirepair>
having a built in dns server is key.

[19:00:00.0000] <TabAtkins>
MikeSmith: Ok.  Yeah, I'll talk to the relevant dudes on Monday.

[19:00:01.0000] <MikeSmith>
TabAtkins: thanks and go back to your tipple :)

[19:01:00.0000] <TabAtkins>
Done with that now.  All the work is on my liver at this point.

[19:01:01.0000] <MikeSmith>
heh

[19:01:02.0000] <TabAtkins>
I'll take my notebook and be very studious.

[19:01:03.0000] <TabAtkins>
I should familiarize myself more with the html5 api this weekend so I'm prepared.

[19:04:00.0000] <MikeSmith>
TabAtkins: I think it's pretty simple: you just create a <menu> element in the DOM, with an ID on it, and you put the @contextmenu attribute, with a ref to that ID, on whatever element(s) you want that context menu to show up on

[19:05:00.0000] <MikeSmith>
wirepair: what's the elevator pitch for MongoDB?

[19:05:01.0000] <MikeSmith>
similar to couch?

[19:06:00.0000] <wirepair>
elevator pitch?

[19:06:01.0000] <wirepair>
not sure i follow 

[19:06:02.0000] <TabAtkins>
1 minute summary

[19:06:03.0000] <wirepair>
ahh gotcha

[19:07:00.0000] <wirepair>
it is similar to couch, but has a binary protocol

[19:07:01.0000] <wirepair>
the idea of using http requests for accessing a db is pretty silly imho

[19:08:00.0000] <wirepair>
also it had a twisted client already written

[19:08:01.0000] <wirepair>
and it's super easy to work with creating new documents is a breeze

[19:08:02.0000] <MikeSmith>
I see

[19:09:00.0000] <wirepair>
also cross-platform support is good, no need for installation just ./mongodb --dbpath=wherever

[19:09:01.0000] <MikeSmith>
nice

[19:09:02.0000] <wirepair>
so yeah that's pretty much it

[19:22:00.0000] <MikeSmith>
http://code.google.com/p/epub-revision/wiki/MeetingMinutes100707

[19:22:01.0000] <MikeSmith>
[[

[19:22:02.0000] <MikeSmith>
Markus: we have other options besides HTML5, like XForms

[19:22:03.0000] <MikeSmith>
Peter-: XForms is basically dead

[19:22:04.0000] <MikeSmith>
Markus: well, yes

[19:22:05.0000] <MikeSmith>
]]

[19:25:00.0000] <MikeSmith>
http://code.google.com/p/epub-revision/wiki/TextContent

[19:25:01.0000] <MikeSmith>
http://code.google.com/p/epub-revision/wiki/TextContent#Requirements

[19:26:00.0000] <MikeSmith>
http://code.google.com/p/epub-revision/wiki/TextContent#Migration_to_HTML5

[19:26:01.0000] <MikeSmith>
"WG members may put forward counterproposals to the move towards HTML5. Until such counterproposals appear, the requirements listed in this section are written assuming that the HTML5 adoption is done."

[19:29:00.0000] <MikeSmith>
"Requirement: Documents adhering to the EPUB adaption of HTML5 must be compliant XML documents."

[19:30:00.0000] <MikeSmith>
MURATA: I like XML, but will content providers listen to us? Won't they anyway create non-XML HTML documents anyway?

[19:30:01.0000] <MikeSmith>
bravo Murata-san

[19:30:02.0000] <MikeSmith>
"Dan Hughes: Agree. If the spec - and downstream distributor/device/software - requires valid XML, content providers will produce it."

[19:34:00.0000] <MikeSmith>
"Rationale: EPUB as a whole remains an XML-based framework. Allowing the HTML serialization of HTML5 in EPUB would mean that all reading systems would have to ship with two parsers; homogenizing the serialization to XML at production time seems more economical."

[19:34:01.0000] <MikeSmith>
they are already going to be shipping with two parsers, if they are using any modern browser engine

[19:35:00.0000] <MikeSmith>
and if they are using a browser engine that can do anything with HTML5 content

[20:55:00.0000] <MikeSmith>
http://openwebcamp.org/ looks pretty cool

[20:58:00.0000] <boblet>
paul_irish: yt?

[20:58:01.0000] <MikeSmith>
me notices estellevw on the speakers list

[21:08:00.0000] <paul_irish>
boblet: yo! nice shots

[21:09:00.0000] <boblet>
paul_irish: heh, thanks :) seems like you tweeted about html5homi.es first so dunno if it’s you or Jon I should be pinging for inclusion

[21:09:01.0000] <boblet>
/me starts to worry about if there’s a gang initiation

[21:11:00.0000] <boblet>
MikeSmith: btw you got the msg about flyers yah?

[21:11:01.0000] <MikeSmithX>
ye-up

[21:11:02.0000] <MikeSmithX>
thanks

[21:12:00.0000] <boblet>
np. I’m making a Japanese version so prolly should try to distribute these ones asap, and thought I’d co-opt you into that

[21:12:01.0000] <MikeSmithX>
ok

[21:13:00.0000] <MikeSmithX>
/me flashes HTML5 gang sign at MikeSmith

[21:17:00.0000] <boblet>
MikeSmith: btw my post to the IEblog about @font-face hasn’t been approved :|

[21:17:01.0000] <boblet>
well… yet anyhow

[21:18:00.0000] <boblet>
a bunch of others have tho

[21:19:00.0000] <MikeSmith>
go figure

[21:20:00.0000] <MikeSmith>
maybe they are blocking based on IP address

[21:20:01.0000] <MikeSmith>
e.g., blocking postings from asia IP ranges or something

[21:20:02.0000] <MikeSmith>
I have seen other sites do stupid things like that

[21:21:00.0000] <MikeSmith>
based on the assumption that nobody from china or japan or whatever has any use for their site

[21:21:01.0000] <MikeSmith>
the (un)logic them being that if comments from jp or china ip address, must be spammer

[21:24:00.0000] <boblet>
possible

[21:24:01.0000] <boblet>
oh well, whatevs

[21:54:00.0000] <paul_irish>
boblet: its jon. :) all him

[21:54:01.0000] <paul_irish>
well and now slex does the domain.

[21:54:02.0000] <boblet>
paul_irish: slex? anyhoo, hopefully Jon can add me to the posse later :)

[21:55:00.0000] <paul_irish>
boblet: slexaxton. he will!  also what was you comment on the ieblog post?

[21:57:00.0000] <boblet>
just mentioned some cross-browser examples from ’09; Craig Mod’s…

[21:58:00.0000] <paul_irish>
oh. yah ieblog approves in batches.

[21:58:01.0000] <boblet>
paul_irish: also the three http://nicewebtype.com/fonts/ demos

[21:59:00.0000] <boblet>
paul_irish: well I posted when there were 2 comments. still nice they gave you some props :)

[22:01:00.0000] <paul_irish>
yeah not bad! :)

[22:01:01.0000] <boblet>
also nice to see they’re getting back on the horse huh

[22:02:00.0000] <paul_irish>
bigtime.

[22:02:01.0000] <boblet>
big(about f’in)time?

[22:09:00.0000] <paul_irish>
boblet: u dun got inisheeat'd

[22:11:00.0000] <boblet>
paul_irish: aiiit boyee! dat’s wat I’m talkin’ about

[22:40:00.0000] <boblet>
JonathanNeal: wassup homie. thankx for the add

[22:40:01.0000] <JonathanNeal>
my pleasure, and thank you.

[22:41:00.0000] <boblet>
the initiation was a bit brutal, having to shiv all those pages for IE

[22:41:01.0000] <boblet>
gotta wash the angle brackets off my hands

[22:42:00.0000] <JonathanNeal>
what are you talking about, shimming for ie?

[22:43:00.0000] <boblet>
JonathanNeal: http://en.wikipedia.org/wiki/Shiv_(weapon)

[22:43:01.0000] <JonathanNeal>
http://en.wikipedia.org/wiki/Shim_(computing)

[22:44:00.0000] <JonathanNeal>
http://sandbox.thewikies.com/html5-experiments/phase-01.html

[22:44:01.0000] <JonathanNeal>
"The term shiv originates from John Resig, the creator of jQuery, who used the word as a metaphor to describe shiving support for HTML5 elements into Internet Explorer via javascript, where shiving is a slang term for a sharp object used as a knife-like weapon. There's also a chance that John had a moment of false etymology and meant to use the word shim, which in computing means an application compatibility workaroun

[22:44:02.0000] <JonathanNeal>
d."

[22:47:00.0000] <boblet>
heh

[22:48:00.0000] <boblet>
so I take it my attempt to combine gang and HTML language didn’t quite work out?

[22:48:01.0000] <franksalim>
so it's an eggcorn. an awesome eggcorn

[22:49:00.0000] <franksalim>
http://en.wikipedia.org/wiki/Eggcorn

[22:50:00.0000] <boblet>
franksalim: thanks for that

[22:50:01.0000] <JonathanNeal>
Oh I see what you did there, boblet

[22:50:02.0000] <boblet>
“mating name for maiden name” lolz

[22:51:00.0000] <JonathanNeal>
btw, I added your pic to the sandbox gang sign page

[22:51:01.0000] <JonathanNeal>
http://sandbox.thewikies.com/html5-gang-sign/

[22:51:02.0000] <boblet>
JonathanNeal: oh, two different sites? thanks again

[22:51:03.0000] <boblet>
(figured it was the same thing with a nice domain)

[22:52:00.0000] <JonathanNeal>
boblet, sandbox is where it started, but it spread wings and became something better

[22:52:01.0000] <JonathanNeal>
homi.es

[22:53:00.0000] <boblet>
indeedy. I shoulda taken the photos yesterday, but oh well

[22:53:01.0000] <JonathanNeal>
so, on the subject of whatwg and html5, boblet have you seen http://sandbox.thewikies.com/html-templates/html5.html ?

[22:54:00.0000] <JonathanNeal>
or any of the other templates in that directory?

[22:54:01.0000] <boblet>
/me looks

[22:58:00.0000] <boblet>
JonathanNeal: are these general purpose or for internal use?

[22:59:00.0000] <JonathanNeal>
I'd like to use them to share.

[22:59:01.0000] <JonathanNeal>
And for all projects I start.

[23:00:00.0000] <boblet>
you’d probably want to start with a bunch of things commented out if shared (eg viewport, apple touch icon)

[23:01:00.0000] <boblet>
#content seems suitable for section or article depending on content

[23:02:00.0000] <JonathanNeal>
it focuses on all the basics you might use.

[23:03:00.0000] <boblet>
for the microdata itemprop="fn org" won’t map to any text in output (you ’d need to change to eg CSS image replacement

[23:05:00.0000] <boblet>
that’s about all I can say without seeing content. good base

[23:05:01.0000] <JonathanNeal>
what

[23:05:02.0000] <JonathanNeal>
i didn't do that

[23:06:00.0000] <JonathanNeal>
wait, i thought you said something else

[23:06:01.0000] <JonathanNeal>
why is that bad what I did?

[23:06:02.0000] <boblet>
what specifically?

[23:06:03.0000] <JonathanNeal>
it will map the alt text of the img

[23:06:04.0000] <JonathanNeal>
I remember this, specifically.

[23:07:00.0000] <boblet>
JonathanNeal: oh really. huh. didn’t realise that. thanks

[23:07:01.0000] <JonathanNeal>
Because I was originally putting it on the img itself, and there was this feud over that.

[23:07:02.0000] <JonathanNeal>
that fn org shouldn't be expected to read the alt text for an image

[23:07:03.0000] <JonathanNeal>
but from the container, it was okay.

[23:07:04.0000] <boblet>
looks like I haven’t microdata’ed any images yet

[23:08:00.0000] <JonathanNeal>
boblet, any validators / readers on the web?

[23:08:01.0000] <boblet>
foolip’s Live Microdata tis all atm http://foolip.org/microdatajs/live/

[23:08:02.0000] <boblet>
luckily it’s pretty good

[23:10:00.0000] <JonathanNeal>
it doesn't like what i did.

[23:11:00.0000] <boblet>
checking microdata spec

[23:16:00.0000] <boblet>
guess alt text is the img element’s textContent

[23:18:00.0000] <boblet>
Hixie: so for an image is the img element’s textContent it’s alt text?

[23:18:01.0000] <boblet>
(or anyone else)

[23:19:00.0000] <boblet>
JonathanNeal: oh yeah, the \t\n is because it acts like <pre>  so whitespace is significant. not sure this is a good thing actually

[23:22:00.0000] <boblet>
might email the list about this

[23:39:00.0000] <boblet>
JonathanNeal: mind if I include that template in an email to WHATWG list?

[23:41:00.0000] <JonathanNeal>
yea, use any part of it

[23:41:01.0000] <JonathanNeal>
totally

[00:25:00.0000] <boblet>
JonathanNeal: got word from Mike that @src isn’t part of textcontent

[00:25:01.0000] <boblet>
JonathanNeal: do you have a ref for where you learned about it?

[04:02:00.0000] <jgraham>
MikeSmith: It seems the ePub people need a small amount of cluebat applied on the virtues of XML and relative difficulty of adding a HTML parser

[04:02:01.0000] <jgraham>
MikeSmith: Also, what did gsnedders post that was good?

[04:03:00.0000] <MikeSmith>
jgraham: I think there is not clear consensus in the ePub WG about that particular requirement

[04:03:01.0000] <MikeSmith>
certainly Murata-san is highly skeptical about it

[04:04:00.0000] <MikeSmith>
and given that he was one of the members of the WG that came up with XML to begin with, as well as somebody that has invested a huge amount of his professional work in XML-related technologies…

[04:05:00.0000] <MikeSmith>
well, you'd think they might be inclined to listen to Murata-san very carefully when he says something about XML

[04:05:01.0000] <MikeSmith>
jgraham: the gsnedders thing was about the last IEBlog posting

[04:07:00.0000] <gsnedders>
jgraham: I would ask you if I could borrow a loaf tin today, presuming you have one, but with the eather now…

[04:08:00.0000] <jgraham>
Yeah, the ether is often a problem around here

[04:08:01.0000] <gsnedders>
*weather

[04:09:00.0000] <gsnedders>
I fail.

[04:10:00.0000] <jgraham>
gsnedders: You are welcome to borrow a loaf tin

[04:10:01.0000] <jgraham>
If you like

[04:10:02.0000] <gsnedders>
I think I'm more just put off by the idea of getting it from you in this weather :)

[04:10:03.0000] <jgraham>
/me still can't find gsnedders insightful comment

[04:10:04.0000] <gsnedders>
jgraham: All I did was link to http://blogs.msdn.com/b/ie/archive/2010/07/16/how-ie9-platform-preview-feedback-changed-the-javascript-standard.aspx

[04:13:00.0000] <jgraham>
gsnedders: I can maybe drop a loaf tin off at your house

[04:15:00.0000] <jgraham>
gsnedders: Although if you are making bread you can do without

[04:15:01.0000] <jgraham>
I guess if you are making some sort of cake, it is harder

[05:07:00.0000] <MikeSmith>
http://twitter.com/pl4n3/status/18757984398

[05:08:00.0000] <MikeSmith>
http://pl4n3.blogspot.com/2010/07/bulletjs-javascript-physics-engine.html

[06:54:00.0000] <gsnedders>
http://perfectionkills.com/javascript-quiz/

[06:54:01.0000] <gsnedders>
(I'd seen the original quiz linked to at the top of that, but not that one)

[06:54:02.0000] <gsnedders>
(I got 10/14)

[06:55:00.0000] <gsnedders>
4, 9, 10, 12 is what I got wrong

[06:56:00.0000] <gsnedders>
(4 I think has changed in ES5, which is why I got that wrong)

[06:57:00.0000] <gsnedders>
(9 is evil, 10 I really should've got, and 12 I don't get the right answer)

[06:58:00.0000] <gsnedders>
Oh, wait

[06:58:01.0000] <gsnedders>
Duh

[06:59:00.0000] <gsnedders>
No, 4 is right under ES5

[07:02:00.0000] <Workshiva>
I missed 13

[07:03:00.0000] <Workshiva>
Never really thought about constructors returning values

[07:03:01.0000] <Workshiva>
I guess I should have assumed it wouldn't be on the test if it was the obvious answer :)

[07:06:00.0000] <Philip`>
/me gets 6 wrong

[07:07:00.0000] <Philip`>
(That is, six of the questions, not number 6)

[07:11:00.0000] <gsnedders>
Workshiva: Only 13 though?

[07:11:01.0000] <gsnedders>
9, 10 and 12 I probably should've got

[07:12:00.0000] <gsnedders>
s/9/4/

[07:12:01.0000] <gsnedders>
In all three cases I actually thought of what the right answer was, and the right reason why, then decided against it

[07:28:00.0000] <Workshiva>
gsnedders: Yeah, only 13


2010-07-18
[17:58:00.0000] <Cheery>
in constructing response the websocket spec says: "Send two bytes 0x0D 0x0A (ASCII CRLF)."

[17:58:01.0000] <Cheery>
but I don't see how this makes any sense

[17:58:02.0000] <Cheery>
shouldn't it be four bytes?

[18:00:00.0000] <Cheery>
or wait.. yeah it's correct

[18:00:01.0000] <Cheery>
each fields ends to CRLF, so of course I only need to emit one when I end the header.

[18:28:00.0000] <Cheery>
good. now I have everything needed for my first websocket app.

[18:28:01.0000] <Cheery>
except a working ubuntu-provided chromium. >:E

[18:46:00.0000] <MikeSmith>
hsivonen: http://lint.brihten.com/html/

[18:48:00.0000] <MikeSmith>
"Making sure your code looks good" .. options for "never omit closing tags", "quote attributes", etc.

[19:08:00.0000] <MikeSmith>
hmm, http://lint.brihten.com/html/ doesn't actually seems to work.. getting message about "Cannot continue: HTML is not valid (Line 5: Illegal closing tag </head> for <a.length;){var>)"

[19:09:00.0000] <MikeSmith>
ah geez

[19:09:01.0000] <MikeSmith>
"Cannot continue: HTML is not valid (Line 159: Illegal closing tag </script> for <").replace(/>/g,>)"

[19:09:02.0000] <MikeSmith>
seems to indicate it's trying to do some kind of regular-expression replacement

[03:22:00.0000] <Workshiva>
MikeSmith: Or it just doesn't tokenize script contents properly

[04:09:00.0000] <hsivonen>
MikeSmith: what parser is the lint based on?

[06:53:00.0000] <Workshiva>
I never realized how convenient Chrome is. Not as a browser, but as a media player.

[06:53:01.0000] <Workshiva>
mp3, h264, aac, it's got all the stuff missing by default :)

[07:11:00.0000] <gsnedders>
jgraham: Someone left their glasses at my flat. I think they're yours.

[07:45:00.0000] <bossss>
I'm using google chrome v5, and I'm experiencing laggy html5 video? Is there a browser that can better render it? or a fix for these kinds of problems?

[07:47:00.0000] <hsivonen>
bossss: Firefox trunk

[07:47:01.0000] <Rik`>
(on windows ?)

[07:47:02.0000] <bossss>
thanks and yeah on windows

[07:48:00.0000] <Rik`>
actually, I was asking hsivonen

[07:49:00.0000] <hsivonen>
Rik`: I haven't really tested the D3D back end

[07:49:01.0000] <hsivonen>
(for full screen, that is)

[07:50:00.0000] <hsivonen>
Rik`: I said trunk, because I wasn't sure if beta 1 still had the media cache bug that made video suck after x megabytes

[07:50:01.0000] <hsivonen>
where x was 50, IIRC

[07:51:00.0000] <hsivonen>
hmm. or maybe less 

[07:51:01.0000] <hsivonen>
anyway

[07:51:02.0000] <Rik`>
I haven't followed that bug

[07:51:03.0000] <hsivonen>
oops. whoa. the bug is still on trunk, too

[07:51:04.0000] <kbrosnan>
webm? or ogg?

[07:51:05.0000] <hsivonen>
kbrosnan: both

[07:55:00.0000] <hsivonen>
anyway, video on Firefox trunk or beta 1 is pretty good if you don't hit the cace limit that breaks things

[07:58:00.0000] <bossss>
well i installed minefield and i'll see how it goes

[07:59:00.0000] <jgraham>
gsnedders: They are

[07:59:01.0000] <jgraham>
Really other people would have noticed

[07:59:02.0000] <jgraham>
By e.g. not being able to see

[08:00:00.0000] <jgraham>
But since I can basically see anyway, it is n easy and common mistake for me to make

[08:01:00.0000] <gsnedders>
jgraham: You're not the only one to have made the mistake. :) I guess giving them to you tomorrow is enough?

[08:01:01.0000] <jgraham>
Yeah

[08:01:02.0000] <bossss>
Didn't work >.< now I get a big X on the video 

[08:02:00.0000] <jgraham>
gsnedders: Which day are you leaving again? The 29th?

[08:03:00.0000] <gsnedders>
jgraham: yeah

[08:03:01.0000] <jgraham>
So what are you doing on the 28th?

[08:03:02.0000] <jgraham>
We having a party?

[08:04:00.0000] <hsivonen>
gsnedders: are you leaving Opera? just leaving Sweden?

[08:05:00.0000] <hsivonen>
bossss: is the video in a patent-unencumbered format and served with the right Content-Type HTTP header?

[08:05:01.0000] <bossss>
these are the videos http://www.eseanews.com/index.php?s=downloads

[08:07:00.0000] <hsivonen>
bossss: you ext=webm urls redirect to .mp4

[08:08:00.0000] <Rik`>
and there's also a redirection : location: http://esea.net/premium

[08:08:01.0000] <Rik`>
(at least using curl -I)

[08:08:02.0000] <hsivonen>
s/you/your/

[08:09:00.0000] <hsivonen>
bossss: and the .mp4 URL is 404

[08:12:00.0000] <bossss>
thanks for the help - I'm just reading on a related site that a couple videos are corrupted, so it may not be my system

[08:13:00.0000] <bossss>
minefield gives me the X on the videos, chrome plays some of them

[09:27:00.0000] <micheil>
Rik`: has that article you mentioned on hacks.mozilla.org been published yet?

[09:31:00.0000] <micheil>
Rik`: also, the current patch for websockets in bugzilla is a bit wrong, there's 4 readyStates

[09:31:01.0000] <micheil>
connecting, open, closing, closed

[09:35:00.0000] <Ms2ger>
micheil, there was a followup for that landed at the same time, IIRC

[09:36:00.0000] <micheil>
okay

[09:36:01.0000] <micheil>
I can only see the one patch

[09:37:00.0000] <micheil>
then again, no browsers' perfect

[09:37:01.0000] <micheil>
in Safari 5, if you create a connection, then close it, you'll get an error saying that there was an extra character sent

[09:38:00.0000] <micheil>
it seems to be the last \r\n on the response

[09:38:01.0000] <micheil>
if you leave it off, then google chrome won't connect at all.

[09:38:02.0000] <titacgs>
speaking of websockets... is there examples on how to implement this?

[09:39:00.0000] <micheil>
titacgs: serverside?

[09:39:01.0000] <micheil>
or?

[09:39:02.0000] <micheil>
or clientside?

[09:40:00.0000] <micheil>
(I have working examples of both, both written in javascript with help from node.js)

[09:40:01.0000] <titacgs>
both... I read the websocket API but I still don't get how ti get things done

[09:41:00.0000] <titacgs>
micheil, could you share them? 

[09:41:01.0000] <micheil>
sure: http://github.com/miksago/node-websocket-server/blob/development/lib

[09:41:02.0000] <micheil>
and http://github.com/pgriess/node-websocket-client/blob/master/lib/websocket.js

[09:42:00.0000] <titacgs>
thanks! I'll give them a look right now!

[09:42:01.0000] <micheil>
I'm personally not a fan of peter's (pgriess) coding style, but, eh'

[12:29:00.0000] <AryehGregor>
I didn't realize that <video> was only proposed three years ago.  I thought it was part of HTML5 since the early days.

[12:30:00.0000] <AryehGregor>
That makes it cooler that it's actually taking off.

[13:18:00.0000] <Rik`>
micheil: no, I've done some other testing and I aslo need to figure out on which server to put a demo

[13:21:00.0000] <Rik`>
so that it can at least handle the traffic

[13:30:00.0000] <AryehGregor>
So it looks like as of April, three of the six hit counters here deemed IE to be a minority browser: http://en.wikipedia.org/wiki/Usage_share_of_web_browsers

[13:56:00.0000] <micheil>
Rik`: okay

[13:56:01.0000] <Rik`>
micheil: but don't worry, I'll ping you ;)

[14:41:00.0000] <micheil>
Rik`: okay, cool, thanks :)

[15:10:00.0000] <micheil>
Rik`: do you know if firefox uses a different version of websockets to draft76?

[15:10:01.0000] <Rik`>
it should support draft76, why ?

[15:10:02.0000] <micheil>
I'm being told by someone that it's actually a different version, just wanting to check the information

[15:10:03.0000] <Rik`>
I've seen some commits here and there around that, so it might not be perfect

[15:11:00.0000] <micheil>
because if I can pre-empt the release of firefox 4 with websockets, then I will.

[15:14:00.0000] <Rik`>
micheil: the master bug is https://bugzilla.mozilla.org/show_bug.cgi?id=websocket

[15:15:00.0000] <Rik`>
micheil: "pre-empt" ? I don't understand this word

[15:16:00.0000] <Rik`>
micheil: for the 3 or 4 demos I've made, your server implementation works

[15:27:00.0000] <micheil>
Rik`: pre-empt, as in, make sure node-websocket-server is automatically compatible with firefox's implementation, before it's public

[15:30:00.0000] <Rik`>
I don't know why it wouldn't be draft76

[15:30:01.0000] <micheil>
niether

[15:30:02.0000] <Rik`>
iirc, Mozilla pushed for this revision so…

[15:31:00.0000] <Rik`>
as I told you, there was the Big endian problem with a previous version of your server but it's ok now

[15:55:00.0000] <micheil>
yeah, alright


2010-07-19
[18:41:00.0000] <Cheery>
Now I have an easy-to-use websocket library written in python

[18:41:01.0000] <Cheery>
http://hg.boxbase.org/websocket

[18:43:00.0000] <Cheery>
I'll yet write a simple chat using that program.

[18:43:01.0000] <Cheery>
(there's small example around though)

[18:44:00.0000] <Cheery>
I've got no issue -listing system, send them to my email.

[19:34:00.0000] <GPHemsley>
This might be of interest to the folks in here: http://www.govtrack.us/congress/bill.xpd?bill=s111-3304

[19:36:00.0000] <MikeSmithX>
"Sets forth provisions concerning closed captioning decoder and video description capability, user interfaces, and video programming guides and menus."

[19:37:00.0000] <MikeSmith>
Cheery: very cool to see you got the websocket library written

[19:37:01.0000] <Cheery>
I did already a little chat server on top of it.

[19:38:00.0000] <Cheery>
little hacky though. :/

[19:38:01.0000] <Cheery>
(could do a better one eventually. ^^)

[19:40:00.0000] <Cheery>
http://paste.pocoo.org/show/239236

[19:40:01.0000] <Cheery>
http://paste.pocoo.org/show/239237

[19:43:00.0000] <Cheery>
MikeSmith: yeah. though it could be easier you know.

[19:43:01.0000] <Cheery>
likely have to provide alternative listener for non-websocket activity

[19:44:00.0000] <Cheery>
there's one thing I don't understand.

[19:44:01.0000] <Cheery>
why do we write our software backwards compatible?

[19:45:00.0000] <Cheery>
in a way that we'll gather little of complexity from older systems while moving to newer ones.

[19:45:01.0000] <Cheery>
obviously there's things that need to stay like they are, because we use them too much.

[19:46:00.0000] <Cheery>
like networking stack.

[19:46:01.0000] <Cheery>
or filesystems and filehandles

[19:46:02.0000] <Cheery>
and by part those aren't even bad, they make software simpler

[19:47:00.0000] <Cheery>
but then there's things like windows and X11

[19:47:01.0000] <Cheery>
or python

[19:47:02.0000] <Cheery>
or javascript

[19:47:03.0000] <Cheery>
about in 3 years opengl joins the club.

[19:49:00.0000] <Cheery>
browser is like an another operating system in our desktops.

[19:50:00.0000] <Cheery>
about everyone knew that two years ago.

[19:53:00.0000] <Cheery>
only move there's been is the chrome OS

[19:56:00.0000] <Cheery>
it's even sillier that the major software industries sit in the shit like they'd be glued into it.

[19:57:00.0000] <Cheery>
or then they introduce things that just become the next silly fadshit of the future.

[19:57:01.0000] <Cheery>
like MS silverlight

[19:58:00.0000] <Cheery>
though maybe it's meant that way.

[19:59:00.0000] <Cheery>
closed source software doesn't have place in a world that requires better performing software every day instead of tens of years.

[21:22:00.0000] <gsnedders>
When doing IPC in Perl, is using SIGALRM within an eval the nicest way to do timeouts?

[21:32:00.0000] <boblet>
Hixie & foolip: Thinking about the magic n optimisation etc in µF hCard, I think the microdata vcard vocabulary shouldn’t use http://microformats.org/profile/hcard as it’s vocabulary URL if it differs from hCard

[21:34:00.0000] <boblet>
I’d assume given the microformats.org url that microdata vcard would be 1:1 with hcard (rather than vcard) and include hCard changes to vcard. hopefully this will be resolved with hCard 1.0.1

[21:36:00.0000] <boblet>
in the meantime seeing as the vocabulary is included mainly as an example of writing a microdata vocabulary, it might be worthwhile to include hCard’s quirks to demonstrate they can be accommodated. that or changing the itemtype URL and other hcard references…

[02:33:00.0000] <hsivonen>
Hixie: is the lack of cache-control support in meta pragmas by design?

[05:21:00.0000] <phrearch>
hi

[05:21:01.0000] <phrearch>
im using websockets now for im, but i wonder whether it would be faster to do all json related stuff over websockets

[05:21:02.0000] <phrearch>
currently, page-loading in this webportal is still done with xhr

[06:01:00.0000] <Cheery>
ookay. I've got a websocket-powered chat up in: http://boxbase.org/fun/simplechat/

[06:01:01.0000] <micheil>
neat

[06:01:02.0000] <Cheery>
going to remove it in few hours though.

[06:01:03.0000] <micheil>
server?

[06:01:04.0000] <Cheery>
micheil: server?

[06:01:05.0000] <micheil>
Cheery: is it a custom server implementation, or a library?

[06:02:00.0000] <micheil>
also, is it only doing draft76?

[06:02:01.0000] <Cheery>
http://hg.boxbase.org/websocket

[06:02:02.0000] <hsivonen>
Cheery: doesn't work for me on Firefox trunk

[06:03:00.0000] <Cheery>
hsivonen: what's your IP?

[06:03:01.0000] <hsivonen>
Cheery: looks like you've forgotten a reference to 'console' to production code

[06:03:02.0000] <micheil>
it's draft 76 only.

[06:03:03.0000] <micheil>
so, people using Safari 5 will not be able to connect

[06:04:00.0000] <zcorpan_>
Cheery: doesn't work for me either

[06:04:01.0000] <Cheery>
hmm..

[06:04:02.0000] <zcorpan_>
hmm works in chrome dev

[06:04:03.0000] <zcorpan_>
but not in firefox or opera (internal)

[06:04:04.0000] <hsivonen>
IIRC, the console object exists in WebKit-based browsers

[06:05:00.0000] <micheil>
zcorpan_: which version of websockets does opera support?

[06:05:01.0000] <hsivonen>
but not in Firefox (without Firebug)

[06:05:02.0000] <jgraham>
Cheery: addEventListener needs 3 parameters

[06:05:03.0000] <zcorpan_>
actually i can receive messages in opera but not send

[06:05:04.0000] <zcorpan_>
micheil: 76

[06:05:05.0000] <micheil>
zcorpan_: I'd like to update my table of browser support, if possible.

[06:05:06.0000] <Cheery>
jgraham: oh yeah.. forgotten. fixing ^^

[06:05:07.0000] <micheil>
zcorpan_: can I place it here: http://wiki.github.com/miksago/node-websocket-server/browser-support ?

[06:06:00.0000] <zcorpan_>
micheil: it's an internal build, so for public purposes opera does not support websockets yet

[06:06:01.0000] <micheil>
okay

[06:06:02.0000] <micheil>
well, I could do like I've got firefox 4 there.

[06:07:00.0000] <micheil>
with the footnote saying that it's to be released / being worked on

[06:07:01.0000] <Rik`>
hsivonen: the plan is to have the console API inside Firefox 4 I think 

[06:07:02.0000] <zcorpan_>
micheil: just don't say it'll be in the next version since that's not a given :)

[06:07:03.0000] <hsivonen>
Rik`: yeah, but it's not there yet, apparently

[06:07:04.0000] <zcorpan_>
micheil: i'm fine with it saying it's WIP and it's -76

[06:08:00.0000] <hsivonen>
in retrospect, navigator.console would have been nicer

[06:08:01.0000] <hsivonen>
less global scope pollution...

[06:09:00.0000] <Cheery>
I wrote the server based on this stuff: http://www.whatwg.org/specs/web-apps/current-work/complete/network.html#server-side-requirements

[06:09:01.0000] <micheil>
zcorpan_: I'll just say: "Opera is currently working on implementing websockets

[06:09:02.0000] <zcorpan_>
ok

[06:11:00.0000] <micheil>
zcorpan_: this ok? http://wiki.github.com/miksago/node-websocket-server/browser-support

[06:11:01.0000] <micheil>
zcorpan_: if you have a github account, then, feel free to edit that page. 

[06:11:02.0000] <zcorpan_>
micheil: looks good

[06:11:03.0000] <micheil>
okay

[06:13:00.0000] <zcorpan_>
Cheery: feature check for console before using it

[06:13:01.0000] <Cheery>
zcorpan_: feature check?

[06:14:00.0000] <hsivonen>
Cheery: if (console) { /* do stuff with console */ }

[06:14:01.0000] <micheil>
if( console && console.log)

[06:14:02.0000] <Cheery>
oh yeah!

[06:14:03.0000] <hallvors>
if( window.console && console.log )

[06:15:00.0000] <hallvors>
is better, otherwise "if(console)" will cause exception

[06:15:01.0000] <micheil>
shouldn't if it's undefined

[06:15:02.0000] <zcorpan_>
yes it should

[06:15:03.0000] <hallvors>
micheil: if there is no variable "console" it should throw

[06:15:04.0000] <micheil>
hmm.. fair enough

[06:16:00.0000] <hallvors>
what's the best version to see what changes happened to a specific part of the HTML5 spec?

[06:16:01.0000] <Cheery>
so some of your systems drop into the missing console?

[06:16:02.0000] <Cheery>
hm..

[06:16:03.0000] <hallvors>
um, what's the best *way* to see what changed in a specific part of the spec?

[06:16:04.0000] <zcorpan_>
Cheery: also i'd send the message onsubmit on a parent <form> instead of onkeypress

[06:16:05.0000] <Cheery>
I'll fix that

[06:17:00.0000] <jgraham>
hallvors: That is quite difficult in general

[06:17:01.0000] <jgraham>
What is your specific problem?

[06:18:00.0000] <hallvors>
jgraham: it's a common use case though :p

[06:19:00.0000] <hallvors>
Actually, I'm looking at an E-mail from Adam Barth on postMessage. He says "The implementations were compatible with the spec when the

[06:19:01.0000] <hallvors>
implementations were written, as far as I remember" so I'd like to check if this is true

[06:19:02.0000] <jgraham>
hallvors: Well it's a slightly ill defined problem so it isn't trivial to make a solution

[06:20:00.0000] <hallvors>
in other words, when was postMessage() targetOrigin specified and when did the spec state it should be protocol+hostname [+port] without path?

[06:20:01.0000] <zcorpan_>
hallvors: go to http://html5.org/tools/web-apps-tracker and add ?limit=2000 (or so) and search for postMessage or targetOrigin

[06:21:00.0000] <jgraham>
hallvors: Either use the webapps tracker to look through the log

[06:21:01.0000] <jgraham>
or check out the spec from the right date using svn

[06:22:00.0000] <jgraham>
Cheery: Might wfm now

[06:23:00.0000] <Cheery>
I'll need to do something for this console stuff. somehow it's now working for you. :)

[06:23:01.0000] <Cheery>
well, now it's good.

[06:25:00.0000] <Cheery>
jgraham: my server received your message, it seems.

[06:26:00.0000] <jgraham>
Cheery: OK, does wfm then

[06:28:00.0000] <Cheery>
want me to publish the log? (though should I first remove all the IPs from it?)

[06:33:00.0000] <Cheery>
okay.. there's few weird things here.

[06:34:00.0000] <Cheery>
if I don't send a message to the server, it is unable to push me *anything* at all. :o

[06:40:00.0000] <Cheery>
the server looks like this: http://pastebin.com/8p64Um1P

[06:48:00.0000] <Cheery>
there's one weird thing in my system though.

[06:49:00.0000] <Cheery>
my friend says TCP ought not behave the way it just did

[06:49:01.0000] <Cheery>
the server should be able to push along that connection

[06:49:02.0000] <MikeSmith>
wow, cool to see hallvors on #whatwg IRC

[06:56:00.0000] <Cheery>
closing the server

[06:56:01.0000] <Cheery>
not good experiences. :/

[06:56:02.0000] <Cheery>
though I still only implemented a draft from it.

[06:59:00.0000] <foolip>
roc, there?

[07:03:00.0000] <Cheery>
jgraham or zcorpan_: so, is my system working up to the spec?

[07:03:01.0000] <Cheery>
(or am I missing something important there?)

[07:03:02.0000] <Cheery>
some of the header retrieved didn't have websocket key. :/

[07:04:00.0000] <Cheery>
at another point my program spotted a lacking '\x00'

[07:04:01.0000] <Cheery>
from message

[07:05:00.0000] <roc>
foolip: yes

[07:06:00.0000] <foolip>
roc, just wondering why "Mozilla" has seemingly changed its mind on application/octet-stream

[07:06:01.0000] <foolip>
perhaps my memory is incomplete

[07:06:02.0000] <roc>
you guys convinced me you were right

[07:06:03.0000] <foolip>
oh, what did we say?

[07:06:04.0000] <foolip>
hehe

[07:06:05.0000] <roc>
we need to support sniffing for the case where there is no Content-Type

[07:07:00.0000] <foolip>
is there a problem with just not playing resources with missing Content-Type?

[07:07:01.0000] <roc>
there is no reason not to sniff when application/octet-stream is the Content-Type too

[07:07:02.0000] <phrearch>
hey

[07:07:03.0000] <phrearch>
got a websocket chat as well

[07:07:04.0000] <roc>
there's a race-to-the-bottom problem given that Safari and Quicktime sniff and they're not going to stop doing that

[07:08:00.0000] <Cheery>
phrearch: how does your websocket chat fare?

[07:08:01.0000] <foolip>
do they also play text/plain then?

[07:08:02.0000] <roc>
I don't know

[07:09:00.0000] <roc>
I think so

[07:09:01.0000] <foolip>
as long as Safari doesn't play Ogg/WebM it's unlikely to cause compat issues though

[07:09:02.0000] <foolip>
so, I guess I still don't have a strong opinions, but would like things to be consistent

[07:09:03.0000] <phrearch>
Cheery: its still a very basic chat

[07:10:00.0000] <Cheery>
when did you write it?

[07:10:01.0000] <roc>
sure

[07:10:02.0000] <phrearch>
a week ago using twisted as webserver

[07:11:00.0000] <Cheery>
how did it worked on different systems?

[07:11:01.0000] <foolip>
so, I'll wait for your reply to Julian and perhaps some more and then decide what to do with this

[07:11:02.0000] <phrearch>
ehm, only tested on chromium 5

[07:11:03.0000] <phrearch>
https://simstad.nl/

[07:11:04.0000] <phrearch>
not sure if that version is setup right

[07:11:05.0000] <phrearch>
http://hwios.org/browser/hwios

[07:11:06.0000] <phrearch>
thats the source

[07:12:00.0000] <micheil>
since we're sharing, here's mine: http://brandedcode.com:8000/

[07:12:01.0000] <micheil>
written in Node.js, supports draft76 & draft75

[07:13:00.0000] <phrearch>
cool

[07:13:01.0000] <micheil>
and the source code: http://github.com/miksago/node-websocket-server/blob/development/examples/chat-server.js

[07:14:00.0000] <micheil>
that's the chat specific stuff, in http://github.com/miksago/node-websocket-server/blob/development/lib/

[07:14:01.0000] <micheil>
is the actual server stuff

[07:14:02.0000] <micheil>
turns out serving http on a websocket server is also actually quite a good idea

[07:17:00.0000] <phrearch>
it is?

[07:17:01.0000] <phrearch>
im doubting between keep on using xhr with html over json for page loading or use websockets for that as well

[07:17:02.0000] <Cheery>
micheil: a question: where do I find the draft76 and 75?

[07:18:00.0000] <Cheery>
(specs)

[07:18:01.0000] <micheil>
on the ietf site

[07:18:02.0000] <phrearch>
http://tools.ietf.org/html/draft-hixie-thewebsocketprotocol-76

[07:21:00.0000] <phrearch>
ok messenger works now on https://simstad.nl/

[07:21:01.0000] <phrearch>
anyone wants to test it quickly?

[07:22:00.0000] <Cheery>
phrearch: no action

[07:22:01.0000] <phrearch>
hm, what browser?

[07:22:02.0000] <phrearch>
it should work with chromium 5. im not sure if hixie 76 handshake works ok

[07:23:00.0000] <Cheery>
hmm..

[07:23:01.0000] <Cheery>
hixie 75 obsoletes in august

[07:24:00.0000] <phrearch>
with twisted its not difficult to change the handshake mechanism

[07:24:01.0000] <phrearch>
it has .76 but i think chromium 5 still uses .75?

[07:25:00.0000] <micheil>
changed the address: http://brandedcode.com:8080/

[07:25:01.0000] <micheil>
phrearch: http://wiki.github.com/miksago/node-websocket-server/browser-support

[07:26:00.0000] <Cheery>
phrearch: chromium 6 uses 76

[07:26:01.0000] <phrearch>
aha ok

[07:26:02.0000] <phrearch>
76 probably doesnt work right 

[07:27:00.0000] <phrearch>
the server handshake on my server that is

[07:27:01.0000] <Cheery>
the weird thing.

[07:27:02.0000] <Cheery>
I've got both chromium 5 and 6 on my machine

[07:27:03.0000] <Cheery>
the chromium 5 doesn't even connect!

[07:27:04.0000] <Cheery>
(with websocket stuff it has)

[07:27:05.0000] <phrearch>
wow. who planted an image in the chat window?

[07:28:00.0000] <Cheery>
what image?

[07:28:01.0000] <Cheery>
missed it. :/

[07:28:02.0000] <phrearch>
ehm on http://brandedcode.com:8080/

[07:29:00.0000] <phrearch>
regexp are nice to add smileys

[07:32:00.0000] <phrearch>
im working on a remote ajax service console now. using websockets its much easier to do

[07:34:00.0000] <phrearch>
how are you guys dispatching events on the server?

[07:36:00.0000] <phrearch>
im using a jsonrpc handler serverside and a modified jquery websocket plugin for the client

[09:57:00.0000] <davidb_>
/me waves to clown_afk 

[09:57:01.0000] <clown>
hi davidb_ 

[10:37:00.0000] <KaOSoFt>
http://www.jolicloud.com/blog/

[10:37:01.0000] <KaOSoFt>
:D

[11:10:00.0000] <jgraham>
Oh yay. HyBi spam

[11:41:00.0000] <florent>
Hi, I read this thread : http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2009-October/023661.html, and I wonder if it (or something similar) is still in discussion or not ? (it seems to be given up)

[11:51:00.0000] <florent>
is my question not clear ? :(

[11:53:00.0000] <TabAtkins>
florent: It's been rejected, as it can be achieved with about a dozen lines of js code.

[11:54:00.0000] <florent>
ok, thanks TabAtkins

[11:55:00.0000] <florent>
I have proposal based on this idea, where can I send it ? (on the mailing list ? )

[11:56:00.0000] <florent>
(with other advantages)

[11:56:01.0000] <TabAtkins>
Just send it to whatwg⊙wo

[11:56:02.0000] <florent>
all right

[11:57:00.0000] <florent>
Thank you :)

[13:48:00.0000] <oal>
How can I prevent newlines in a contenteditable="true" div?

[13:54:00.0000] <oal>
Fixed it by using jquery and e.preventDefault() on a keypress event ;)

[13:55:00.0000] <jgraham>
I would carefully check how well that works cross browser

[13:55:01.0000] <oal>
Works in chromium and firefox

[13:55:02.0000] <jgraham>
You should be fine, but keypress events and contentEditable are not known for interoperability

[13:56:00.0000] <oal>
Don't have IE, but this isn't meant to work in older browsers

[13:56:01.0000] <jgraham>
oal: So only Opera and IE left to check :)

[13:56:02.0000] <oal>
jgraham, yep, I have opera installed, will check later :)

[13:58:00.0000] <oal>
jgraham, ok, works as expected in Opera too

[13:58:01.0000] <Philip`>
oal: That sounds like it won't work if the pastes a multi-line string

[13:59:00.0000] <oal>
Philip`, hmm, true, let's check

[13:59:01.0000] <oal>
Philip`, you're right. Hmm

[14:00:00.0000] <oal>
I can remove line breaks when the data is submitted too, to make sure no line breaks are in

[14:00:01.0000] <zcorpan_>
why are you using contenteditable instead of <input>?

[14:00:02.0000] <oal>
Hmm, and maybe a setInterval to check and remove line breaks

[14:00:03.0000] <oal>
zcorpan_, to get the correct styles

[14:01:00.0000] <zcorpan_>
oal: can't you style an <input> to inherit the correct styles?

[14:02:00.0000] <oal>
zcorpan_, probably, but in this case contenteditable does the trick :) Also I'd like to learn how contenteditable works

[14:02:01.0000] <zcorpan_>
ok. i think <input> is a better solution in the end :)

[14:03:00.0000] <oal>
zcorpan_, I can always change the code if that is the case :)


2010-07-20
[19:21:00.0000] <wirepair>
ugh, why won't black berry let me set a frame/iframe's src attribute in a loop 

[20:53:00.0000] <boblet>
hey all, anyone know how I could get a rough snapshot of how many Japanese pages declare their language (without having to take a random sample and check each one)?

[00:59:00.0000] <jgraham>
/me watches the tumbleweed roll past

[02:38:00.0000] <foolip>
bah, it looks like MIME for <video> is irreparably broken already

[02:44:00.0000] <jgraham>
foolip: And you are surprised why?

[02:45:00.0000] <jgraham>
It's not like Content-Type has a glorious history of success

[02:45:01.0000] <foolip>
because Safari and Chrome have been broken all along and I never noticed

[02:45:02.0000] <foolip>
so I thought the state of things were good

[02:46:00.0000] <foolip>
not so

[02:47:00.0000] <Philip`>
By "good" I guess you mean "good for theoretical purity", not "good for users"?

[02:48:00.0000] <foolip>
mostly good as in "can point browser to URL without getting a window-full of garbled text"

[02:48:01.0000] <foolip>
as that tends to happen with things served as text/plain

[02:48:02.0000] <foolip>
(at least in Opera)

[02:49:00.0000] <jgraham>
In general I think

[02:49:01.0000] <jgraham>
But "I want to reload this <video> as a top-level resource" seems like rather a minor use0case compared to "I want to serve some video and I have no idea how to configure my server"

[02:50:00.0000] <jgraham>
Unless you believe that only qualified professionals will host <video> I guess

[02:50:01.0000] <foolip>
indeed, and many questions on e.g. stack overflow have turned out to be due to MIME

[02:50:02.0000] <jgraham>
the "youtube" scenario

[02:50:03.0000] <foolip>
still, no one has argued this point on the lists, as far as I remember

[02:51:00.0000] <jgraham>
Which point?

[02:51:01.0000] <foolip>
that we should simply ignore the MIME type because it's easier

[02:51:02.0000] <jgraham>
Maybe people don't like getting into pointless discussions with Julian

[02:52:00.0000] <jgraham>
It is easier if you point out that it is a compatibility requirement and so driven by market forces

[02:52:01.0000] <foolip>
I guess it's easier to just slide down the slippery slope and blame market forces when we have to change the spec to match reality

[02:52:02.0000] <foolip>
hehe, right

[02:54:00.0000] <foolip>
who is Julian, by the way?

[02:55:00.0000] <foolip>
/me Googles

[02:56:00.0000] <foolip>
conclusion: someone who makes a WebDAV client for the iPhone 

[02:56:01.0000] <Workshiva>
Julian Reschke (+/- spelling)

[02:58:00.0000] <Workshiva>
He's the most active participant coming from the IETF side of things, more or less

[02:58:01.0000] <othermaciej>
foolip, jgraham: honestly a large part of our motivation was actual experience with people trying to move from the QuickTime plugin to <video>... they never even knew their server was configured wrong

[02:59:00.0000] <foolip>
othermaciej, was this communicated to the list?

[02:59:01.0000] <othermaciej>
I mentioned that it was for compatibility with content originally created for QuickTime in a public-html post

[02:59:02.0000] <foolip>
othermaciej, perhaps it was before my time

[02:59:03.0000] <othermaciej>
but anyway, it was more for existing video content than for new content

[02:59:04.0000] <othermaciej>
oh, you mean was it communicated before just now?

[02:59:05.0000] <foolip>
yes

[03:00:00.0000] <othermaciej>
I dunno

[03:00:01.0000] <foolip>
anyway, placing blame isn't the point, I'm just trying to figure out what to do now

[03:00:02.0000] <othermaciej>
when we first implemented <video> we were not following public-html much

[03:00:03.0000] <foolip>
the easiest is of course to always ignore the MIME type

[03:00:04.0000] <othermaciej>
IMO <video> should have the same "ignore MIME type always sniff" policy as <img>

[03:00:05.0000] <foolip>
is it even remotely possible to remove support for text/plain in Safari now?

[03:01:00.0000] <othermaciej>
I am also ok with reducing <video> sniffing to a few specific types

[03:01:01.0000] <foolip>
othermaciej, wouldn't that break deployed content?

[03:01:02.0000] <zcorpan_>
i kind of like that 'open video in new tab' in the context menu would play the video in a new tab and not show garbage in a new tab

[03:01:03.0000] <zcorpan_>
but maybe we should sniff there too

[03:01:04.0000] <othermaciej>
foolip: my guess is that there are only 3 kinds of errors that are remotely common

[03:02:00.0000] <othermaciej>
(a) video improperly served as application/octet-stream

[03:02:01.0000] <othermaciej>
(b) video improperly served as text/plain

[03:02:02.0000] <foolip>
zcorpan_, yeah, more sniffing would solve it, but that would mean duplicating the same sniffing in the browsers network layer and in the media framework

[03:02:03.0000] <othermaciej>
(or audio in both these cases!)

[03:02:04.0000] <othermaciej>
(c) audio/video served with a MIME type for some different audio/video type

[03:03:00.0000] <foolip>
right, I can't imagine there's anything outside of those that are relevant

[03:03:01.0000] <zcorpan_>
the spec currently doesn't support text/plain from that list

[03:03:02.0000] <othermaciej>
does the spec support (c)?

[03:03:03.0000] <zcorpan_>
yes

[03:03:04.0000] <zcorpan_>
if the other type is supported at least

[03:04:00.0000] <zcorpan_>
there's also the issue of which audio/video mime types should be supported

[03:04:01.0000] <othermaciej>
we could maybe do experiments to see if limiting sniffing to (a)+(c) or (a)+(b)+(c) is viable

[03:04:02.0000] <foolip>
right, the spec already implicitly requires sniffing after getting through the load-time "canPlayType"

[03:04:03.0000] <zcorpan_>
e.g. audio/mp3 ?

[03:04:04.0000] <othermaciej>
I know that at the time we first implemented <video>, that video content served as text/plain was alarmingly common

[03:05:00.0000] <othermaciej>
my guess would be that the proportion is now lower but the absolute amount, maybe not

[03:06:00.0000] <foolip>
what you're saying is effectively that Safari will keep ignoring the MIME type

[03:06:01.0000] <zcorpan_>
newer apaches don't send text/plain by default for unknown types

[03:06:02.0000] <foolip>
there's no point in limiting to video/known, application/octet-stream and text/plain, IMO

[03:06:03.0000] <othermaciej>
what do newer apaches send, nothing?

[03:06:04.0000] <othermaciej>
or application/octet-stream?

[03:07:00.0000] <zcorpan_>
i think they moved from text/plain to application/octet-stream to no content-type header at all

[03:07:01.0000] <zcorpan_>
don't know which versions

[03:07:02.0000] <othermaciej>
foolip: what would your preference be? no sniffing at all? current spec (a/o-s + video/known)?

[03:08:00.0000] <foolip>
othermaciej, my absolute preference would be Firefox's behavior, but it seems unlikely Safari could match that

[03:08:01.0000] <othermaciej>
what does Firefox do?

[03:08:02.0000] <foolip>
it only accepts its known media types and fails to play e.g. Ogg served as audio/wav

[03:08:03.0000] <foolip>
that's harder to do when using GStreamer/QuickTime, but possible

[03:09:00.0000] <foolip>
uh, I don't know why I said "absolute preference"

[03:09:01.0000] <othermaciej>
I guess they are less interested in mpeg-2, mpeg-4 or legacy QuickTime being served with wrong MIME types

[03:09:02.0000] <foolip>
indeed

[03:09:03.0000] <othermaciej>
presumably for ogg, there is no/less legacy of mislabeled content

[03:09:04.0000] <foolip>
but the day that Safari + everyone else support a common media type, this problem will show up

[03:10:00.0000] <othermaciej>
(or for WebM)

[03:14:00.0000] <foolip>
/me writes mail

[04:14:00.0000] <Philip`>
hsivonen: "I don't know if it is even *possible* to make Apache omit the Content-Type header" - like 'DefaultType none'? (http://httpd.apache.org/docs/2.2/mod/core.html#defaulttype)

[04:14:01.0000] <Philip`>
(That took about one minute of documentation-reading to find)

[04:17:00.0000] <Workshiva>
Philip`: Does that work now?

[04:18:00.0000] <Philip`>
It says "DefaultType None is only available in httpd-2.2.7 and later." so any version from January 2008 onwards should support it

[04:18:01.0000] <Philip`>
(Confusingly 2.2.7 was never actually released)

[04:23:00.0000] <Workshiva>
Philip`: Considering the upgrade rate on apache installs, it will be useful around 2015 then :)

[04:27:00.0000] <Philip`>
Workshiva: Do you have data for that? :-)

[04:28:00.0000] <Smylers>
Even people who upgrade Apache may keep their existing config.

[04:29:00.0000] <Workshiva>
Philip`: No, just personal bitterness from having to use apache 1.x as recently as this year

[04:29:01.0000] <Smylers>
And DefaultType none isn't the default, so people setting up sites with a sufficiently new Apache still need to know to change it.

[04:30:00.0000] <Philip`>
Smylers: hsivonen was talking about not knowing how to configure Apache's default, not about what the default default is

[04:30:01.0000] <Philip`>
Workshiva: http://philip.html5.org/data/server-versions-2.txt

[04:31:00.0000] <Philip`>
Workshiva: Hmm, the 2.2s look fairly evently distributed before and after 2.2.7

[04:31:01.0000] <Philip`>
plus there's still loads of 2.0 and 1.3

[04:32:00.0000] <Workshiva>
Yeah, those numbers don't surprise me

[04:32:01.0000] <Philip`>
(in data from early 2009)

[04:32:02.0000] <Workshiva>
Apache 3.5.1, though? That's a surprise

[04:32:03.0000] <Smylers>
Yeah, I know. I was just pointing out that Workshiva's 2015 estimate may still be optimistic for being able to expect sites to be configured correctly.

[04:33:00.0000] <Workshiva>
Smylers: The estimate for sites being configured correctly is and will remain Infinity

[04:34:00.0000] <Philip`>
/me notes that Apache looks much more common that IIS (by over 3x), which seems significantly different to Netcraft's figures

[04:35:00.0000] <Smylers>
So the choice is between waiting for infinity, or deciding that if an author has used the <video> element and its contents are identifiable as being a video then the intention is to play it as a video?

[04:35:01.0000] <Smylers>
Do Netcraft tally up pages or websites or IP addresses or servers?

[04:36:00.0000] <roc>
what have I done

[04:37:00.0000] <Philip`>
Workshiva: One of Apache/3.5.1 was on www.61.gov.cn, so presumably it's a secret project being developed for the Chinese government

[04:40:00.0000] <Philip`>
Smylers: They count something complex

[04:40:01.0000] <Philip`>
http://news.netcraft.com/active-sites/

[04:41:00.0000] <Philip`>
The third graph in http://news.netcraft.com/archives/2010/07/16/july-2010-web-server-survey-16.html doesn't look good for Microsoft

[04:42:00.0000] <roc>
foolip: I'll continue that thread tomorrow after I've talked to Chris Double and got our story straight

[04:43:00.0000] <Philip`>
and looks closer to the wildly inaccurate numbers that I have

[04:44:00.0000] <Philip`>
so I guess one can conclude that the graphs are pretty meaningless as indicators of market share, since there's huge jumps when a single large provider changes or when the methodology changes

[04:47:00.0000] <hsivonen>
Philip`: thanks

[04:48:00.0000] <Smylers>
Alternatively, you can conclude that a wide range of graphs are available to pick from, to support your choice of view point...

[04:48:01.0000] <hsivonen>
Philip`: to split hairs, I didn't talk about not knowing how to configure the default. I was talking about how to take the header away by default.

[04:50:00.0000] <hsivonen>
aside: at one point, I configured hsivonen.iki.fi to default to application/octet-stream but somehow it has regressed to text/plain...

[04:51:00.0000] <Philip`>
hsivonen: I thought you talked about how to "configure to send no type as the fallback", i.e. configuring the default that will be sent (or rather not sent) when no other type has been specified for the file

[04:52:00.0000] <Workshiva>
hsivonen: I'm sure the distros have a hand in the pie as well

[04:53:00.0000] <hsivonen>
Philip`: I know how to change it from text/plain to application/octet-stream. I didn't know how to change it to "no type"

[04:53:01.0000] <hsivonen>
Workshiva: they sure do

[04:55:00.0000] <Philip`>
hsivonen: That makes it sound like you didn't know "DefaultType none", so I'm slightly confused as to what hairs are being split

[04:58:00.0000] <Philip`>
(I think my original thought was just that claiming to not personally know something that's trivially findable in the documentation didn't seem like a compelling or relevant argument, and didn't seem like a reason to non-historically blame Apache for anything)

[04:59:00.0000] <Philip`>
(I may just be misunderstanding the argument, though)

[05:00:00.0000] <hsivonen>
Philip`: the argument is that you need to know or bother to find out stuff to make Apache behave

[05:05:00.0000] <foolip>
Apache probably can't change the default for compat reasons anyway

[05:05:01.0000] <foolip>
wouldn't e.g. README files get the default?

[05:06:00.0000] <foolip>
roc, OK, I'm holding off any changes, but thanks for taking the time

[05:06:01.0000] <hsivonen>
foolip: yes

[05:08:00.0000] <foolip>
is there any successful standard with lots of implementors and users that isn't a big pile of cruft?

[05:08:01.0000] <foolip>
maybe PNG? or maybe it's just the same if one looks closer...

[05:09:00.0000] <hsivonen>
I was thinking of Western Continental European electrical sockets, but even they have at least 3 points of compat cruft

[05:10:00.0000] <foolip>
hsivonen, the kind we have in Sweden and presumably Finland?

[05:10:01.0000] <hsivonen>
foolip: right

[05:10:02.0000] <hsivonen>
(but, insanely, not in Denmark!)

[05:10:03.0000] <foolip>
the double ground is a bit odd, is that one of the 3?

[05:12:00.0000] <hsivonen>
foolip: I was thinking: 1) German ground, 2) French ground, 3) support for ungrounded devices in an Italian-compatible way

[05:12:01.0000] <hsivonen>
foolip: though one might argue that's only 2 pieces of cruft, since one grounding method has to count as non-cruft

[05:12:02.0000] <foolip>
oh, looks like I'm blissfully unaware of the inner workings of electrical sockets :)

[05:13:00.0000] <hsivonen>
and actually, these are plug features, not socket features, to be precise

[05:14:00.0000] <hsivonen>
/me thinks the EU should fine Denmark for the environmental waste of vendors having to ship different plugs there

[05:14:01.0000] <hsivonen>
it makes *no* sense for Denmark to have differently shaped plugs

[05:14:02.0000] <foolip>
I say fine Denmark regardless :)

[10:56:00.0000] <jgraham>
hsivonen: I note that the wiring laws in Sweden are insane (or have been so historically) and the design of the plug allows unsafe wiring

[10:57:00.0000] <jgraham>
Specifically grounding sockets is distressingly uncommon in residential properties (I think it is now required in new-build)

[10:58:00.0000] <jgraham>
And the plug fails-unsafe if you plug into a non-grounded socket (i.e. it is possible to plug an appliance that should be grounded into a non-grounded socket and have it work, just without grounding)

[10:59:00.0000] <jgraham>
So I would not really call that ideal design

[11:01:00.0000] <jgraham>
(by contrast the UK plug design with a mandatoy ground pin seems safer)

[11:04:00.0000] <hober>
UK shaver/bathroom plugs only have two pins

[11:05:00.0000] <jgraham>
Indeed

[11:05:01.0000] <jgraham>
They are low volatge though

[11:06:00.0000] <jgraham>
(in general we don't have much in the way of electrics in the bathroom)

[11:06:01.0000] <jgraham>
(because, uh, we don't like dying)

[11:08:00.0000] <tabatkins>
We just make sure that bathroom sockets have a breaker built-in, so they'll cut out quicker.

[11:08:01.0000] <Workshiva>
Swiss use three plugs, but apparently the middle one is optional because standard two-plug plugs work fine with three-hole sockets

[11:10:00.0000] <TabAtkins>
Yeah, that's American sockets too.

[11:10:01.0000] <TabAtkins>
/me high-fives the swiss.

[11:12:00.0000] <jgraham>
TabAtkins: OTOH the US plugs fricking *spark* when you insert them

[11:12:01.0000] <TabAtkins>
jgraham: They do!  It's kinda cool.

[11:12:02.0000] <jgraham>
So you have nothing to be proud of

[11:14:00.0000] <TabAtkins>
I have never known anyone to have ever actually been shocked by the sparking, so shrug.

[11:14:01.0000] <Workshiva>
Standard European plugs are the only worthwhile ones

[11:14:02.0000] <Workshiva>
Everyone else needs to get in line

[11:18:00.0000] <jgraham>
/me hopes like crazy Sweden at least has radial wiring

[11:20:00.0000] <jgraham>
umm... I'm not sure if that's what I mean

[11:20:01.0000] <jgraham>
/me reads more

[11:21:00.0000] <hsivonen>
jgraham: yeah, the plug design isn't ideal

[11:22:00.0000] <hsivonen>
but I assume the ability to plug to a non-grounded socket is a deliberate design decision

[11:22:01.0000] <hsivonen>
IIRC, the North American gounding pin has the opposite design

[11:24:00.0000] <TabAtkins>
Yes.

[11:24:01.0000] <hsivonen>
(it blew my mind when I learned that the UK design isn't electrically equivalent to the continental design)

[11:24:02.0000] <Smylers>
jgraham: I misread that as “because, uh, we don't like drying” — which also kind-of works as an explanation.

[11:24:03.0000] <TabAtkins>
non-grounded plugs can go to a grounded socket, but not the other way around.

[11:25:00.0000] <hsivonen>
(that is, in UK and Ireland, there's a device-side fuse in each plug, while the Continental design puts the fuse in a fuse box on the socket side)

[11:25:01.0000] <jgraham>
hsivonen: In what way "not electrically equivalent" the ring main vs radial thing? Or something else?

[11:25:02.0000] <hsivonen>
jgraham: fuse placement. see above

[11:25:03.0000] <hsivonen>
jgraham: and whatever ring vs. radial stuff comes with that

[11:25:04.0000] <jgraham>
/me notes that the UK also typically has circuit breakers on the whole circuit

[11:26:00.0000] <jgraham>
AFAICT from wikipedia the whole UK design was inspired by a need to save copper when everything was rebuild post WW2

[11:27:00.0000] <jgraham>
It seems that a ring main is a way to achieve that but you have to also have fuses in the appliances

[11:28:00.0000] <jgraham>
(because the saving coppewr thing means that you are running lots of appliances off the same circuit)

[11:29:00.0000] <TabAtkins>
Is there a name for rgb color units?  The things that there are 255 of in each channel?

[11:29:01.0000] <hsivonen>
putting the fuse on the plug side implies that the treat model assumes the devices are trusted and cooperative

[11:29:02.0000] <jgraham>
hsivonen: Howso?

[11:30:00.0000] <hsivonen>
I was aware that European voltages saved copper compared to American, but I wasn't aware that the UK design saved even more

[11:30:01.0000] <hsivonen>
jgraham: if the design requires a device-side fuse, the system isn' fused right if you plug in a rogue (cheap?) device that doesn't have a fuse

[11:31:00.0000] <jgraham>
hsivonen: The whole circuit is still fused

[11:31:01.0000] <hsivonen>
/me has seen cheap adapters that allow fuseless devices to be plugged into UK sockets

[11:31:02.0000] <Philip`>
/me thought it was a legal requirement that devices do things correctly (i.e. have fuses, and are grounded or double-insulated)

[11:31:03.0000] <jgraham>
Philip`: I think so too

[11:32:00.0000] <jgraham>
I guess maybe you could buy an unfused travel adaptor and bring it to the UK

[11:32:01.0000] <Smylers>
hsivonen: And the adapters themselves don't have fuses in them?

[11:32:02.0000] <hsivonen>
Smylers: proper ones have, but I've seen bogus ones

[11:33:00.0000] <jgraham>
hsivonen: Yes, in that specific case you are in marginally more danger. Although wikipedia claims that modern circuit breakers are likely to trip before the fuse blows anyway

[11:33:01.0000] <hsivonen>
Smylers: the bogus ones are a piece of plastic that has an extended that goes into the grounding hole openin the other slots for a continental plug

[11:33:02.0000] <hsivonen>
s/extended/extender/

[11:34:00.0000] <jgraham>
In the common case (UK devices on a UK circuit) you are marginally better off since you can set the fuse to the right level for the device

[11:35:00.0000] <Philip`>
I guess it's also easier to replace the fuse when it's in the plug

[11:35:01.0000] <hsivonen>
Philip`: nope

[11:36:00.0000] <jgraham>
No one uses real fuses now anyway

[11:36:01.0000] <TabAtkins>
I'd assume just the opposite.

[11:36:02.0000] <jgraham>
Except in plugs

[11:36:03.0000] <Smylers>
hsivonen: A plastic earth pin just means it isn't earthed. Double-insulated devices are allowed to do that anyway. But they can still have a fuse, which is in the connection to the live pin.

[11:37:00.0000] <hsivonen>
the UK design has merit, but the most annoying part is that the plugs are so big, so a person with a UK laptop power supply plus an adapter takes up 2 or 3 sockets at a conference

[11:38:00.0000] <jgraham>
Yeah, the bigness is unfortunate

[11:38:01.0000] <hsivonen>
the same problem repeats with continental plugs in American conferences, though it tends to be less serious

[11:38:02.0000] <jgraham>
/me has that problem a lot at home :)

[11:41:00.0000] <hsivonen>
I guess the only redeeming feature of the Danish plug is that the gounding pin is on the plug side as in North America

[14:12:00.0000] <JonathanNeal>
so if hidden indicates that the element  is not visible or perceivable to any user, what do you call something visually hidden but not hidden to screen readers?

[14:12:01.0000] <TabAtkins>
"visually hidden".

[14:13:00.0000] <TabAtkins>
Btw, if anyone's going to be at OSCON, I'm now going to be giving part of a talk there tomorrow.

[14:13:01.0000] <JonathanNeal>
Bummer, I had no desire to be there this year and didn't try to go.

[14:13:02.0000] <JonathanNeal>
I wonder if some Liferay peeps will be there.

[14:57:00.0000] <hober>
TabAtkins: filling in for mark p?

[15:01:00.0000] <TabAtkins>
hober: Yeah.

[15:08:00.0000] <hsivonen>
are iframes that are not inserted into a document supposed to be able to navigate?

[15:10:00.0000] <hsivonen>
Hixie: if an iframe that has been in a document is removed from a document, is it supposed to be able to navigate?

[15:10:01.0000] <hsivonen>
it being the detached iframe that is

[15:11:00.0000] <Hixie>
sure, why wouldn't it?

[15:11:01.0000] <Hixie>
(no browsers except chrome currently do this)

[15:11:02.0000] <hsivonen>
Hixie: it doesn't navigate before it has been inserted

[15:11:03.0000] <hsivonen>
Hixie: well, then, maybe it shouldn't!

[15:12:00.0000] <Hixie>
possibly not. It's worth noting that gmail actually uses that feature to make gmail faster in chrome.

[15:13:00.0000] <Hixie>
not sure how that affects things.

[15:13:01.0000] <hsivonen>
interesting...

[15:13:02.0000] <Hixie>
the spec would have to be changed to somehow kill the nested browsing context when the iframe is removed from the document

[15:13:03.0000] <Hixie>
would you want it to survive being removed then reinserted?

[15:13:04.0000] <hsivonen>
so does window.parent of the iframe point to the window of the owner doc, still?

[15:14:00.0000] <hsivonen>
Hixie: I'm not sure what I want yet, but Gecko misbehaves if it is tricked into loading into a detached iframe

[15:14:01.0000] <hsivonen>
via location.reload()

[15:15:00.0000] <Hixie>
the answer to that rests on the interpretation of "in" in the context of an element being in a document

[15:15:01.0000] <Hixie>
ah

[15:15:02.0000] <hsivonen>
Hixie: a detached element still has the owner doc, right?

[15:15:03.0000] <Hixie>
yeah

[15:16:00.0000] <Hixie>
ah, i define "in a document"

[15:16:01.0000] <Hixie>
so the answer is window.parent === window when the iframe is removed from the parent doc

[15:16:02.0000] <hsivonen>
currently, if Gecko is tricked into loading into a detached iframe, the inner window in the iframe is null

[15:16:03.0000] <Hixie>
that seems bad

[15:17:00.0000] <zcorpan_>
Hixie: are you going to work on websockets this week?

[15:17:01.0000] <Hixie>
zcorpan_: yp, starting now

[15:17:02.0000] <Hixie>
yup, even

[15:17:03.0000] <zcorpan_>
Hixie: cool

[15:17:04.0000] <hsivonen>
window.parent === window looks like "top level" to me

[15:17:05.0000] <jgraham>
vwls r vrrtd

[15:17:06.0000] <hsivonen>
I wonder if accidents happen if an iframe looks too much like "top level"

[15:18:00.0000] <gsnedders>
jgraham: rlly?

[15:18:01.0000] <hsivonen>
if chome gets perf benefits, maybe we should make the window exist in that case (as opposed to disallowing the load)

[15:19:00.0000] <hsivonen>
*chrome

[15:19:01.0000] <jgraham>
zcorpan_: You decided not to file the ws:foo bug on browsers?

[15:19:02.0000] <Hixie>
hsivonen: a lot of this stuff was defined by accident, as a side-effect of the spec covering all bases, and not intentionally

[15:19:03.0000] <jgraham>
/me realises it looks like he is talking about web services

[15:19:04.0000] <zcorpan_>
jgraham: no i filed it

[15:20:00.0000] <zcorpan_>
https://bugzilla.mozilla.org/show_bug.cgi?id=580234 

[15:20:01.0000] <zcorpan_>
https://bugs.webkit.org/show_bug.cgi?id=42636

[15:20:02.0000] <jgraham>
zcorpan_: OK. So what is the behaviour you expect in the WebSockets case?

[15:20:03.0000] <Hixie>
hsivonen: my understanding is that what gmail is actually doing is grafting the iframe into a new document and having that work

[15:21:00.0000] <jgraham>
(I assume you filed bug 10213)

[15:21:01.0000] <Hixie>
hsivonen: not so much when the frame is an orphan

[15:21:02.0000] <Hixie>
hsivonen: though it'd be a bit weird to prevent the orphan case from working

[15:21:03.0000] <zcorpan_>
jgraham: bz filed it

[15:21:04.0000] <hsivonen>
Hixie: ah. slightly different case

[15:21:05.0000] <Hixie>
hsivonen: yeah

[15:21:06.0000] <jgraham>
zcorpan_: Oh

[15:21:07.0000] <Hixie>
hsivonen: i'm not 100% familiar with it

[15:22:00.0000] <zcorpan_>
jgraham: i'd be fine with either syntax_err or implied //

[15:22:01.0000] <Hixie>
zcorpan_: re bugs, if they're in the websocket component i'll see them

[15:23:00.0000] <zcorpan_>
Hixie: what's the websocket component? other hixie drafts?

[15:26:00.0000] <Hixie>
it's whatever my script picks when you file a bug on the websockets part of the complete.html spec

[15:26:01.0000] <Hixie>
"WebSocket API (editor: Ian Hickson)" in product "WebAppsWG"

[15:29:00.0000] <zcorpan_>
changed

[15:32:00.0000] <Hixie>
ta

[15:48:00.0000] <TabAtkins>
Hixie: <canvas> composite question.  We're all arguing about the interpretation of a term in the spec.  ^_^

[15:49:00.0000] <TabAtkins>
in the globalCompositeOperation stuff, the term "source image" is used.  Is the source image a conceptually infinite canvas containing what is being drawn, or is it just the actual pixels dirtied by the latest draw operation?

[15:49:01.0000] <Philip`>
Which term?

[15:50:00.0000] <Philip`>
TabAtkins: http://www.whatwg.org/specs/web-apps/current-work/multipage/the-canvas-element.html#drawing-model

[15:50:01.0000] <Philip`>
The source image in the composite step is A

[15:50:02.0000] <jamesr>
that drawing model is awkward

[15:50:03.0000] <Philip`>
which is an infinite bitmap

[15:51:00.0000] <Hixie>
what Philip` said

[15:51:01.0000] <TabAtkins>
Ok.

[15:53:00.0000] <TabAtkins>
We're arguing because Safari/Chrome treat it as just the dirtied pixels, and will probably have difficulty changing.

[15:53:01.0000] <Philip`>
"pixels dirtied" seems a difficult thing to define, when you can have transparent images and shadows and antialiasing

[15:54:00.0000] <Hixie>
not to mention that some of the path routines can result in conceptually near-infinite lines iirc

[15:54:01.0000] <Philip`>
The clipping region is finite so that doesn't seem like a problem

[15:56:00.0000] <othermaciej>
tabatkins: I believe the IE team prefers the Safari/Chrome interpretation of globalCompositeOperation

[15:56:01.0000] <Philip`>
TabAtkins: Compute the bounding box of the dirtied pixels, draw the shape onto a layer of that size, draw the layer onto the canvas, then draw some conceptually transparent-black rectangles (in an efficient way) over the rest of the clipping region?

[15:56:02.0000] <othermaciej>
I advised them to post about this, I do not know if they did

[15:57:00.0000] <TabAtkins>
Philip`: CoreGraphics does the dirtied-pixel thing, and Skia does the same (presumably for platform compat).

[15:58:00.0000] <Philip`>
TabAtkins: I don't see why it would be hard to emulate the spec behaviour

[15:58:01.0000] <TabAtkins>
Philip`: The spec's definition of globalCompositeOperation requires most methods other than the defualt source-over to recompute every pixel in the canvas.

[15:58:02.0000] <Philip`>
Only 4 of the methods, I think

[15:58:03.0000] <Philip`>
Oh, 5

[15:59:00.0000] <Philip`>
(The ones in http://philip.html5.org/tests/canvas/suite/tests/index.2d.composite.uncovered.html)

[15:59:01.0000] <TabAtkins>
the two in/outs, and destinatop-atop.

[15:59:02.0000] <Philip`>
In the common case (globalAlpha=1) the "recompute" is just "clear to 0"

[16:04:00.0000] <TabAtkins>
othermaciej: Who'd you talk to on IE, if you remember?

[16:08:00.0000] <Philip`>
Oh, that's not just the common case

[16:08:01.0000] <othermaciej>
tabatkins: I think they ended up posting to the canvas api list that almost no one is on

[16:08:02.0000] <Philip`>
That's every case

[16:08:03.0000] <Philip`>
because the alpha multiplication happens before the compositing

[16:08:04.0000] <Philip`>
so I think if the composite mode is one of the 5 then you can always just clear the whole canvas before drawing onto it

[16:09:00.0000] <othermaciej>
tabatkins: http://lists.w3.org/Archives/Public/public-canvas-api/2010AprJun/0046.html

[16:09:01.0000] <Philip`>
which seems like it ought to be pretty trivial to implement

[16:09:02.0000] <Philip`>
(unless I'm missing something important)

[16:09:03.0000] <othermaciej>
they emailed us privately after that, not sure if I should say who specifically (they are sensitive about private communication at times)

[16:12:00.0000] <jamesr>
othermaciej: the reply to that email on public-canvas-api appears to say that roc is switching to match safari

[16:12:01.0000] <jamesr>
which presumably means the spec is also changing?

[16:12:02.0000] <othermaciej>
jamesr: sounds like the spec should probably switch, then, if it says the other thing or is ambiguous

[16:13:00.0000] <Philip`>
What does Safari do for http://software.hixie.ch/utilities/js/live-dom-viewer/saved/571 ?

[16:13:01.0000] <Philip`>
/me only has a Chromium on Linux which doesn't support shadows

[16:14:00.0000] <zcorpan_>
Philip`: i see just an image with the cats in safari

[16:14:01.0000] <roc>
jamesr: you misunderstand

[16:14:02.0000] <jamesr>
i think i do, the reply doesn't make much sense

[16:14:03.0000] <roc>
we have some bugs where we don't currently follow the spec

[16:15:00.0000] <roc>
particularly on Mac

[16:15:01.0000] <roc>
I have patches to fix those bugs so we follow the spec always

[16:15:02.0000] <jamesr>
Philip`: in firefox i see odd blue stuff on the left and cats on the right. in safari i just see some cats on the right

[16:15:03.0000] <TabAtkins>
Yeah, following the email in Pritchard's email suggests that the spec was revised *to the current text*, describing FF/Opera's behavior.

[16:15:04.0000] <TabAtkins>
It looks like Pritchard just totally misunderstood what the IE team email was talking about.

[16:15:05.0000] <Philip`>
jamesr: In Firefox it breaks because of image compositing bugs

[16:15:06.0000] <jamesr>
roc: ok. the post from the microsoft fellow was suggesting that the spec be changed, and then the reply implied that you were going to change firefox

[16:15:07.0000] <roc>
othermaciej is right that the IE team prefers the source-bounded (Safari/Chrome) approach

[16:15:08.0000] <jamesr>
so that reply is just wrong

[16:16:00.0000] <Philip`>
zcorpan_: Hmm, that seems odd

[16:16:01.0000] <Philip`>
zcorpan_: What do you get if you remove the shadow lines?

[16:16:02.0000] <roc>
jamesr: I actually think you're misunderstanding Charles' email, maybe

[16:17:00.0000] <jamesr>
Philip`: i don't think that it is as simple as "just clear the whole canvas before drawing onto it"

[16:17:01.0000] <roc>
I think Charles is just saying that the spec unambiguously defines the behavior of globalCompositeOperation, and that Firefox will change to follow the spec, which is true

[16:17:02.0000] <TabAtkins>
roc: Correct, we are (though I think it's because his email was phrased very badly).

[16:17:03.0000] <roc>
sure

[16:17:04.0000] <zcorpan_>
Philip`: then i get half the cats as blue and a blue rectangle below it

[16:18:00.0000] <jamesr>
Philip`: you would have to calculate the compositing results, stick that somewhere (in a buffer on the side presumably), clear the canvas, then put the compositing results into the canvas

[16:18:01.0000] <Philip`>
jamesr: I think I should have said "just clear the whole region of the canvas which is outside the area you're drawing pixels into"

[16:18:02.0000] <roc>
the main problem with the Safari/Chrome(/IE?) approach is that you would need to add to the spec a definition of what the bounds of the source actually are, in all cases

[16:18:03.0000] <roc>
and no-one has done that

[16:18:04.0000] <Philip`>
jamesr: Yeah, but the buffer only needs to be the size of the dirtied pixels, not the whole canvas

[16:18:05.0000] <roc>
and it doesn't seem particularly easy

[16:18:06.0000] <othermaciej>
roc: would you or anyone else at Mozilla be likely to object to changing the spec to the Safari/Chrome/IE-preferred behavior (assuming it was well-defined)?

[16:18:07.0000] <jamesr>
it's not consistent in safari in all cases

[16:18:08.0000] <roc>
it may add considerable complexity to spec

[16:19:00.0000] <jamesr>
for example, imho drawing a circle should be the same as drawing an image that contains a circle with a transparent background

[16:19:01.0000] <jamesr>
currently they render differently in safari

[16:19:02.0000] <TabAtkins>
roc: Apparently, the definition is "for images [and other things drawn onto the canvas, suitably defined], dirty region is the size of the image.  Everything else, it's all non-transparent pixels."

[16:19:03.0000] <TabAtkins>
That's the definition that Safari/Chrome is using right now.

[16:19:04.0000] <Philip`>
zcorpan_: Okay, that's what I see in Chromium

[16:19:05.0000] <TabAtkins>
(Though the image case is dumb, for the reason that jamesr mentions.)

[16:20:00.0000] <Philip`>
TabAtkins: That doesn't seem to work for shadows

[16:20:01.0000] <Philip`>
If I'm not mistaken, http://software.hixie.ch/utilities/js/live-dom-viewer/saved/571 really ought to at least draw some blue where the rectangle and image and shadow overlap

[16:20:02.0000] <TabAtkins>
Philip`: Maybe not - we didn't look at shadows yet.

[16:21:00.0000] <roc>
TabAtkins: so you're saying that for the "copy" operator, for every pixel in the source with alpha > 0, the corresponding destination pixel is set to the source pixel, but for every pixel in the source with alpha == 0, the corresponding destination pixel is unchanged?

[16:21:01.0000] <roc>
that sounds very strange

[16:22:00.0000] <TabAtkins>
I think so, yeah.

[16:22:01.0000] <roc>
that doesn't match the behavior of any graphics library I know

[16:23:00.0000] <TabAtkins>
I'm not looking at it right now, but I think that's precisely what CG does.

[16:23:01.0000] <Hixie>
(also sounds far less efficient than just copying the data over)

[16:23:02.0000] <TabAtkins>
/me goes to mock up that for himself to verify again.

[16:23:03.0000] <roc>
it's certainly not what cairo does

[16:23:04.0000] <TabAtkins>
Yeah, Cairo does all the composite operations correctly.

[16:24:00.0000] <roc>
I'm also not sure what you mean by "[and other things drawn onto the canvas, suitably defined]"

[16:26:00.0000] <Philip`>
TabAtkins: (I think it does copy wrong, at least in some version of Firefox on Linux)

[16:26:01.0000] <TabAtkins>
roc: I mean drawing video and such on.  I haven't tested video drawing, but I suspect it's treated the same as image drawing.

[16:26:02.0000] <roc>
oh, you mean everything drawn with the drawImage API?

[16:27:00.0000] <roc>
In general, defining exactly what the source bounds are seems rather subtle. For example if you have a stroked path, the bounds can't just be the path bounds, they have to be inflated to include the stroke, but do you just include the stroke or the interior as well? What if the stroke is dashed? You can go with your definition, weird as it is, but it won't necessarily match what authors expect

[16:27:01.0000] <roc>
and it certainly won't match with what graphics libraries do, other than CG if what you say is correct

[16:28:00.0000] <TabAtkins>
Okay, yeah, copy is identical to source-over in CG and Skia.

[16:29:00.0000] <roc>
so pixels with alpha==0 are transferred to the destination?

[16:29:01.0000] <TabAtkins>
Yes.

[16:29:02.0000] <roc>
phew

[16:29:03.0000] <roc>
ok

[16:29:04.0000] <TabAtkins>
Wait.

[16:29:05.0000] <Philip`>
That's not what source-over does

[16:30:00.0000] <TabAtkins>
What I mean is that if I draw a red rectangle, set composite to "copy", then draw a partially overlapping blue circle, what I get is a red rectangle overlapped by a blue circle, exactly the same as source-over.

[16:30:01.0000] <roc>
othermaciej: if someone comes up with a proper definition for how source-bounded operators should behave, and that definition is simple and useful, then sure, we'd change

[16:30:02.0000] <Hixie>
and if someone comes up with a proper definition for how source-bounded operators should behave, and that definition is simple and useful, i'd be happy to spec it

[16:30:03.0000] <Hixie>
but so far nobody has

[16:30:04.0000] <Hixie>
so...

[16:31:00.0000] <jamesr>
otherwise, though, i'm not sure how we these composite operations will ever become interoperable

[16:31:01.0000] <TabAtkins>
roc: Okay, yeah, alpha=0 pixels are copied over.  so it is different from source-over.

[16:31:02.0000] <roc>
TabAtkins: what if you fill the circle with a gradient which is completely transparent in some region, then what?

[16:32:00.0000] <Philip`>
/me still doesn't see why WebKits can't emulate the Firefox/Opera/spec behaviour easily, which would achieve interoperability

[16:32:01.0000] <roc>
I refuse to believe that any graphics library would just drop the transparent region out of the source bounds

[16:32:02.0000] <TabAtkins>
The difference in behavior is completely described by CG/Skia doing the composite operation correctly, but in a *local* region rather than globally.

[16:32:03.0000] <roc>
TabAtkins: sure, but you need to precisely define the bounds of that local region. That is the entire issue.

[16:33:00.0000] <TabAtkins>
Right.

[16:33:01.0000] <TabAtkins>
Just clarifying what our behavior is.  ^_^

[16:33:02.0000] <roc>
Philip`: it is quite easy. I did it for the cairo CoreGraphics backend.

[16:33:03.0000] <jamesr>
roc: where's the code?

[16:34:00.0000] <jamesr>
othermaciej: if you want to change this in coregraphics webkit ports then we'd change the skia backend to match

[16:35:00.0000] <jamesr>
of course microsoft also prefers the safari version, but they haven't proposed a tight definition of the source image bounds

[16:35:01.0000] <Hixie>
jamesr: chrome could also lead the way, no need to follow apple on this :-P

[16:35:02.0000] <roc>
I can accept that the source-bounded version is more intuitive for authors

[16:36:00.0000] <jamesr>
yeah i find the firefox behavior bizarre honestly. if i draw a 20x20 rectangle why would all the other pixels in the canvas change

[16:36:01.0000] <TabAtkins>
Hixie: We have to have the same behavior on both CG and Skia, so having Apple fix CG is just easier.  ^_^

[16:36:02.0000] <roc>
although, sometimes results that are "more intuitive" are actually less intuitive if you look at them closely

[16:36:03.0000] <Hixie>
TabAtkins: lame :-P

[16:36:04.0000] <jamesr>
TabAtkins: i'm not suggesting that someone at apple be forced to do the work, i'm wondering if that would make sense for the other folks who ship coregraphics webkit ports

[16:36:05.0000] <TabAtkins>
I think the FF behavior is fine.  It's just something you generally have to use backing canvases to take proper advantage of.

[16:37:00.0000] <Philip`>
jamesr: The other pixels would all change because you explicitly chose a composite operation that causes pixels to change :-)

[16:37:01.0000] <TabAtkins>
But backing canvases are already an established technique in <canvas> use, so that seems fine.

[16:37:02.0000] <jamesr>
i also think that it's likely nobody uses these modes given how non-interoperable the existing implementations are

[16:37:03.0000] <Philip`>
If you don't want that to happen, don't use those composite operations

[16:38:00.0000] <TabAtkins>
It would be somewhat nice to be able to spawn off a backing canvas directly from a single <canvas> tag, rather than creating and inserting a new canvas, but that can be fixed later.

[16:38:01.0000] <roc>
jamesr: my cairo-quartz code is here: https://bugzilla.mozilla.org/show_bug.cgi?id=522859

[16:39:00.0000] <roc>
the actual fix hasn't landed yet

[16:39:01.0000] <roc>
TabAtkins: you don't need to insert a temporary canvas anywhere

[16:40:00.0000] <TabAtkins>
roc: For some uses you do.  Frex, if you already have an image, and you want to draw some lines over it with, say, source-atop.  You can't just set globalCompositeOperation to source-atop and start drawing lines.

[16:40:01.0000] <Hixie>
TabAtkins: (why can't you just clone it?)

[16:40:02.0000] <TabAtkins>
WEll, actually, with source-atop you could.

[16:40:03.0000] <roc>
I mean you don't ned to insert it in the DOM

[16:40:04.0000] <roc>
from an implementors point of view, the current spec wins

[16:40:05.0000] <TabAtkins>
roc: Oh, for some reason I thought you needed to insert it into the document before it would work.  Shrug.

[16:42:00.0000] <roc>
I'm pretty sure that if we went with a source-bounded approach and nailed down exactly what the source bounds are in all cases, all but possibly one implementation/port would need significant changes

[16:43:00.0000] <jamesr>
well, to implement the current spec also requires several implementations to make some changes (webkit/coregraphics webkit/skia and whatever IE has). i don't know if they would be significant in terms of code

[16:46:00.0000] <jamesr>
roc: do you have a d2d backend for canvas yet in firefox?

[16:46:01.0000] <roc>
yep

[16:46:02.0000] <roc>
I don't know how compliant it is with this stuff

[16:46:03.0000] <roc>
however

[16:47:00.0000] <roc>
D2D does not really support compositing modes at all

[16:47:01.0000] <roc>
you have to drop down to D3D/shaders

[16:47:02.0000] <jamesr>
presumably you'll hit the same issues the IE9 team has

[16:47:03.0000] <roc>
(in Gecko we don't have "canvas backends", there's just cairo which we use for everything)

[16:51:00.0000] <roc>
jamesr: what issues are those?

[16:53:00.0000] <jamesr>
well, to do something like fillRect() the most natural (to me) way to do that on a gfx card is to create a quad and draw it, using a fragment shader to implement the blending

[16:54:00.0000] <jamesr>
but that doesn't work if you also have to do some composite operation on pixels that land outside the quad

[16:58:00.0000] <roc>
that's probably why D2D doesn't support blend modes

[16:59:00.0000] <roc>
the thing is, in shaders you generally don't get to read the destination pixel

[16:59:01.0000] <roc>
so blend modes are a pain either way


2010-07-21
[17:00:00.0000] <jamesr>
in gl there's a set of built in blend modes that conceptually work the same way

[17:01:00.0000] <roc>
true

[17:02:00.0000] <roc>
still

[17:03:00.0000] <roc>
in your example, you can just draw a quad that fills the entire clip rect

[17:03:01.0000] <roc>
anyway, just come up with the right spec and we can change

[17:07:00.0000] <jamesr>
do we have any idea what modes people really want to use?

[17:07:01.0000] <TabAtkins>
I doubt it.  ^_^

[17:07:02.0000] <jamesr>
roc: to be honest i'm not sure the safari behavior is strictly speaking better

[17:08:00.0000] <Hixie>
you could pretty easily find out, just instrument the operator attribute in chrome and let it loose

[17:08:01.0000] <jamesr>
that might be biased behind if(WebKit) sniffing

[17:08:02.0000] <jamesr>
but that is a good idea

[17:08:03.0000] <TabAtkins>
Hixie: That could easily be biased towards "wtf why is this mode different in Chrome and Firefox?" issues.

[17:09:00.0000] <TabAtkins>
Though, still, maybe useful.

[17:09:01.0000] <roc>
we changed 'copy' from source-bounded to source-unbounded and got one bug filed against us, for some Chrome experiemnt

[17:09:02.0000] <jamesr>
if it turns out that nobody uses anything except for source-over then i'd suggest removing the other modes from the spec until someone wants to use them and then requiring that proposed modes have compatible implementations that browser vendors are happy with

[17:10:00.0000] <jamesr>
it sucks to have a big matrix of modes that do not interoperate at all without any evidence that people want them

[17:10:01.0000] <roc>
'copy' is clearly used

[17:11:00.0000] <TabAtkins>
Hmm.  'copy' is equivalent to just clearing the canvas and then drawing onto it, right?

[17:22:00.0000] <othermaciej>
tabatkins: I think copy is equivalent to srcover on top of a 0-alpha background but not totally sure w/o doing the math

[17:22:01.0000] <TabAtkins>
The spec description of 'copy' is just "draw A.  B is ignored".  Which seems to be precisely the same as clearing the canvas and drawing A.

[17:22:02.0000] <TabAtkins>
"Display the source image instead of the destination image."

[17:30:00.0000] <othermaciej>
it just copies the pixels

[17:30:01.0000] <Hixie>
TabAtkins: what's normative in that list is the Porter-Duff definitions, not the prose

[17:31:00.0000] <othermaciej>
it doesn't really matter if the background is cleared

[17:31:01.0000] <jamesr>
othermaciej: it does for regions outside the bounds of the source

[17:32:00.0000] <jamesr>
(if you have a notion of bounds of the source)

[17:32:01.0000] <TabAtkins>
othermaciej: Right.  I'm just saying that, if people are using 'copy', they can equivalently just clear the canvas (the usual trick is by doing a null-resize) then drawing as normal.

[17:32:02.0000] <jamesr>
TabAtkins: null-resize dumps all other state

[17:32:03.0000] <jamesr>
not quite the same

[17:32:04.0000] <TabAtkins>
jamesr: Ah, right.  Forgot about that.

[17:33:00.0000] <othermaciej>
tabatkins: you might also not be copying over the whole canvas

[17:33:01.0000] <othermaciej>
(or is that what the globalCompositeOperation debate is about?)

[17:33:02.0000] <jamesr>
othermaciej: with copy you actually are

[17:33:03.0000] <TabAtkins>
Right, when clip regions are considered.

[17:33:04.0000] <TabAtkins>
othermaciej: That's what the debate is about. ^_^

[17:33:05.0000] <othermaciej>
that makes copy pretty useless

[17:33:06.0000] <jamesr>
a 'copy' is over the entire canvas (respecting clip region) in ffx

[17:34:00.0000] <othermaciej>
one way you may want to use it is to clone chunks of a canvas to tile, or to draw an image that you know has no alpha into some region in the canvas, but that is pretty useless if it clears the whole canvas

[17:35:00.0000] <jamesr>
for that you can set a clip

[17:38:00.0000] <TabAtkins>
Unrelated: goddammit we need different terms for "absolute or fixed position" and "absolute or fixed position or floating".

[17:43:00.0000] <roc>
actually I think coming up with a reasonable definition for source-bounded operators is easy

[17:44:00.0000] <roc>
just do it

[17:45:00.0000] <Hixie>
i don't think "just do it" will pass by quality bar :-P

[17:45:01.0000] <Hixie>
s/by/my/

[17:45:02.0000] <roc>
that was an instruction, not proposed specification text :-)

[17:46:00.0000] <Hixie>
TabAtkins: "positioned" and "out-of-flow"?

[17:46:01.0000] <TabAtkins>
Hixie: "positioned" includes relpos.

[17:46:02.0000] <Hixie>
oh right

[17:47:00.0000] <TabAtkins>
Floats are in-flow for any layout mode except static flow.  But this isn't expressed anywhere.  >_<

[17:48:00.0000] <TabAtkins>
(Whereas abspos/fixpos are out-of-flow for all layout modes.)

[17:49:00.0000] <Hixie>
yeah i have to admit i don't mind having to work on html5 instead of css :-P

[17:50:00.0000] <estellevw>
what is the shortest valid HTML5 document?

[17:50:01.0000] <estellevw>
<!DOCTYPE html><meta charset=utf-8><title>Ugliest</title><p>valid html5 file</p>

[17:50:02.0000] <estellevw>
is that valid? and if so, it the meta required?

[17:50:03.0000] <TabAtkins>
You don't *need* the meta.

[17:50:04.0000] <jamesr>
<!DOCTYPE html>

[17:50:05.0000] <TabAtkins>
Otherwise, yeah, valid.

[17:50:06.0000] <jamesr>
?

[17:50:07.0000] <TabAtkins>
jamesr: No, you need a title.

[17:50:08.0000] <TabAtkins>
But you don't need anything in the body.

[17:51:00.0000] <TabAtkins>
So <!DOCTYPE html><title></title> is the shortest possible, iirc.

[17:51:01.0000] <estellevw>
thanks

[17:52:00.0000] <Hixie>
are we not counting iframe srdoc documents as HTML5 documents?

[17:52:01.0000] <TabAtkins>
Probably not?

[17:52:02.0000] <TabAtkins>
What requirements are dropped from @srcdoc?

[17:52:03.0000] <Hixie>
because teh shortest iframe srdoc document is the empty string, but it has to be in a srcdoc="" attribute. :-)

[17:52:04.0000] <TabAtkins>
Ah, kk.

[17:52:05.0000] <Hixie>
doctype and title are optional in those

[17:52:06.0000] <Hixie>
<!DOCTYPE html><title></title> is probably non-conforming though

[17:52:07.0000] <TabAtkins>
I didn't know you'd dropped the title requirement.

[17:53:00.0000] <Hixie>
since <title> represents the document's title, and the empty string isn't a good title

[17:53:01.0000] <Hixie>
and the spec says you have to use elements appropriately to be conforming

[17:53:02.0000] <Hixie>
:-P

[17:53:03.0000] <TabAtkins>
Valid by validator.nu.  ^_^

[17:53:04.0000] <TabAtkins>
I'd say the empty string is a good title for the empty document.

[17:54:00.0000] <Hixie>
yeah i was thinking that as i was writing it

[17:57:00.0000] <estellevw>
:)

[17:58:00.0000] <TabAtkins>
<!DOCTYPE html><title>This document intentionally left blank</title>

[19:28:00.0000] <AryehGregor>
If you have a File object, can you slice it up into multiple Blobs if you want to fiddle with it and don't want the whole thing to be in memory at once?

[22:27:00.0000] <micheil>
Hixie: you about?

[22:30:00.0000] <Hixie>
yo

[22:33:00.0000] <micheil>
Hixie: question.. on websockets

[22:33:01.0000] <Hixie>
sure

[22:33:02.0000] <micheil>
if I can remember exactly what it was >_>

[22:34:00.0000] <micheil>
oh, right, would it be an idea to change the client side interface to show if there was actually a problem contacting the websocket server

[22:34:01.0000] <micheil>
eg, if there's a proxy in the way that allows you to load the client, but you get a 403 when you try to access the ws server

[22:35:00.0000] <micheil>
so that this type of state can be handled in browser more correctly

[22:35:01.0000] <Hixie>
by interface, do you mean exposing to the JS, or exposing to the user?

[22:35:02.0000] <micheil>
exposing to the front-end developer

[22:36:00.0000] <micheil>
so, things that could be exposed: timeout, 403 etc.

[22:36:01.0000] <micheil>
but not actually expose what the error was on server

[22:37:00.0000] <micheil>
just if the client can't actually connect to server

[22:37:01.0000] <micheil>
and also if the client gets disconnected from server prematurely

[22:37:02.0000] <micheil>
eg, on a network connection such as WiFi on an iPhone

[22:38:00.0000] <micheil>
the user goes into say a tunnel, then there's no network coverage, it would be good to be able to check on the client side for this case

[22:38:01.0000] <Hixie>
do you mean to the developer, or to the script the developer writes?

[22:38:02.0000] <micheil>
so, really it's a case of problem between client and server connection, not a problem the server has with a connection

[22:38:03.0000] <micheil>
the script the developer writes.

[22:38:04.0000] <Hixie>
it would be a security flaw to expose the network-level error status

[22:39:00.0000] <Hixie>
it would let you probe intranets, for example

[22:39:01.0000] <Hixie>
however, you can detect when the user's system goes offline entirely, by checking for body.ononline and body.onoffline

[22:41:00.0000] <micheil>
eg, new WebSocket(..); ws.addListener(...)

[22:41:01.0000] <micheil>
actually, that's another thing, why not use DOM Events?

[22:43:00.0000] <franksalim>
micheil, I am confused. where do you see addListener? Is that in node?

[22:43:01.0000] <micheil>
franksalim: no, I'm use to DOM events, that's why I wrote it

[22:44:00.0000] <micheil>
my bad

[22:44:01.0000] <Hixie>
micheil: we do use DOM Events

[22:44:02.0000] <micheil>
do you?

[22:44:03.0000] <Hixie>
yes

[22:44:04.0000] <micheil>
I see ws.onopen etc. everywhere?

[22:44:05.0000] <Hixie>
you can use either .onopen or you can attach an 'open' event listener

[22:44:06.0000] <Hixie>
(onopen is far easier of course)

[22:44:07.0000] <micheil>
ah

[22:45:00.0000] <micheil>
I don't think that's clearly documented then

[22:45:01.0000] <micheil>
also. I may be writing a websocket client test suite, is there anything in particular I should make sure I include?

[22:45:02.0000] <Hixie>
the IDL clearly says "WebSocket implements EventTarget;"

[22:45:03.0000] <micheil>
hmm.. does the spec?

[22:46:00.0000] <Hixie>
the IDL is in the spec... so yes

[22:46:01.0000] <micheil>
/me checks

[22:47:00.0000] <Hixie>
also everything is defined in terms of "Event Handler", etc

[22:47:01.0000] <Hixie>
this might be easier to see in the WHATWG complete spec (the web apps 1.0 spec), since all the stuff is cross-referenced there

[22:48:00.0000] <micheil>
okay, I'm probably also going to write some client side developer documentation, I'll be sure to include this.

[22:48:01.0000] <micheil>
(just because I doubt developers will really read a spec.)

[22:49:00.0000] <Hixie>
yeah the spec is written mainly for the implementors

[22:49:01.0000] <micheil>
yeah, like our selves

[22:53:00.0000] <Hixie>
ok i've changed the websocket protocol so that Sec-WebSocket-Protocol is now a space-separated list of tokens

[22:53:01.0000] <Hixie>
and you have to return one to connect

[22:53:02.0000] <Hixie>
rather than it being a single token you have to return

[22:53:03.0000] <franksalim>
will the protocol selected by the server exposed in the API?

[22:54:00.0000] <franksalim>
*be exposed

[22:54:01.0000] <Hixie>
yeah i added WebSocket.protocol for that

[22:54:02.0000] <franksalim>
that's pretty nice

[22:54:03.0000] <micheil>
Hixie: hmm.. so eg: Sec-WebSocket-Protocol: Proto1 Proto2 Proto3 ....

[22:54:04.0000] <Hixie>
yup

[22:55:00.0000] <micheil>
awesome

[22:55:01.0000] <Hixie>
in the constructor it's still just a single argument (space-separated string)

[22:55:02.0000] <Hixie>
so you do    var ws = new WebSocket('ws://...', 'Proto1 Proto2 Proto3');

[22:56:00.0000] <micheil>
hmm..

[22:56:01.0000] <micheil>
I disagree there

[22:56:02.0000] <franksalim>
not WebSocket(url, proto1, proto2, proto3)?

[22:56:03.0000] <micheil>
we have an array type in js for a reason.

[22:56:04.0000] <micheil>
new WebSocket(url, protocols[] )

[22:58:00.0000] <micheil>
eg: var ws = new WebSocket("ws://localhost/", ["msgpack", "bson", "json"])

[22:58:01.0000] <micheil>
(where i'm actually using protocol to say what kind of message content encoding I have)

[22:58:02.0000] <Hixie>
i considered doing var ws = new WebSocket('ws://...', ['Proto1', 'Proto2', 'Proto3']);

[22:58:03.0000] <micheil>
why not?

[22:58:04.0000] <micheil>
it makes most sense to a front-end developer

[22:58:05.0000] <Hixie>
it would need changes to implementations

[22:59:00.0000] <micheil>
and the current doesn't?

[22:59:01.0000] <micheil>
if( Array.isArray(protocol)) { protocol = Array.prototype.join.call(protocol, " "); }

[22:59:02.0000] <Hixie>
only minor ones

[22:59:03.0000] <micheil>
not that hard to change.

[22:59:04.0000] <franksalim>
...and using variable arity would prevent us from adding a meaningful third parameter

[23:00:00.0000] <franksalim>
but i would prefer not to have space separated strings in an API

[23:00:01.0000] <micheil>
I'd say that protocol can be either a string or array type

[23:00:02.0000] <micheil>
which is a perfectly decent way of declaring an API for a js interface, commonly used by developers

[23:02:00.0000] <micheil>
and then, if a browser doesn't support the array, then it throws an array of bad arguments

[23:02:01.0000] <micheil>
* throws an error

[23:02:02.0000] <micheil>
try {} catch(e) {} it, handle it appropriately / try again with string

[23:04:00.0000] <franksalim>
i hope developers will list meaningful protocols or start specifying new protocols on top of json instead of just sending a format like "json"

[23:05:00.0000] <Hixie>
i guess i could make it an array

[23:05:01.0000] <Hixie>
is anyone using that argument yet?

[23:05:02.0000] <micheil>
no, not here

[23:05:03.0000] <franksalim>
Hixie, at least not widely. It is really going to be useful when there are public cross-origin websocket services, and there aren't many of those

[23:05:04.0000] <micheil>
I currently don't even support it on the server-side

[23:06:00.0000] <micheil>
there's actually two franksalim 

[23:06:01.0000] <franksalim>
two is not many :-)

[23:06:02.0000] <micheil>
Pusher App and some one else.

[23:06:03.0000] <micheil>
as for Pusher, I speak with the developers regularly, and they subscribe to hybi, so changes should be good.

[23:07:00.0000] <micheil>
I'll try and contact the other company and get them to watch the list if they don't.

[23:07:01.0000] <Hixie>
i'll prod the browser vendors, see what they say

[23:07:02.0000] <Hixie>
if everyone's ok with changing, then i'm ok with it

[23:07:03.0000] <Hixie>
but for such a minor thing, i'm also happy to go with a space-separated list

[23:07:04.0000] <Hixie>
after all, that's what the protocol uses

[23:08:00.0000] <micheil>
protocol should never influence the browser implementation.

[23:08:01.0000] <micheil>
we want it easy enough for anyone to be able to write a client.

[23:08:02.0000] <micheil>
servers should still be easy, but require technical knowledge

[23:08:03.0000] <micheil>
reason: then you can have websockets as a service (Software as a Service anyone?)

[23:09:00.0000] <Hixie>
you mean write a script that uses websockets, right? as opposed to an actual websockets client

[23:09:01.0000] <franksalim>
writing a client to support one specified protocol requires technical knowledge, much less 2+ protocols and negotiation

[23:09:02.0000] <micheil>
Hixie: client as in say a chat app or something.

[23:09:03.0000] <franksalim>
i mean a protocol client for a protocol over websocket

[23:09:04.0000] <micheil>
so, application?

[23:10:00.0000] <Hixie>
right

[23:10:01.0000] <Hixie>
yeah dunno what you'd call it

[23:10:02.0000] <Hixie>
"script" maybe :-)

[23:10:03.0000] <franksalim>
protocol client

[23:10:04.0000] <micheil>
Hixie: I'll try to standardise on that from now on.

[23:10:05.0000] <franksalim>
or client

[23:10:06.0000] <Hixie>
subprotocol client maybe

[23:10:07.0000] <micheil>
/me hates the word "script" it sounds so "script-kiddy-ish"

[23:10:08.0000] <Hixie>
"protocol client" sounds like the actual browser

[23:10:09.0000] <micheil>
application

[23:10:10.0000] <franksalim>
i'm not sure i like the term subprotocol. everything can layer on anything else

[23:10:11.0000] <micheil>
that works., no?

[23:11:00.0000] <franksalim>
xmpp/websocket is essentially the same protocol as xmpp/tcp

[23:11:01.0000] <Hixie>
micheil: yeah that works too

[23:11:02.0000] <franksalim>
Hixie, it is recursive. it is like the 'actual' browser :-)

[23:11:03.0000] <micheil>
actually, interesting thing, there's a webworkers implementation in Node.js that uses WebSockets as the underlying communication medium

[23:12:00.0000] <franksalim>
Hixie, it doesn't stop being a protocol just because it is in a soft layer

[23:12:01.0000] <Hixie>
franksalim: yeah

[23:12:02.0000] <Hixie>
franksalim: i just use "subprotocol" because it's easier to grep for in the spec :-)

[23:12:03.0000] <micheil>
also, from that other day Hixie, the time for websockets is seriously now. I've currently got two job opps where websockets are wanted.

[23:12:04.0000] <Hixie>
franksalim: (you'll notice i don't call it that in the protocol or the api)

[23:12:05.0000] <micheil>
one from a startup, one from a large well established company

[23:12:06.0000] <franksalim>
Hixie, that _should_ have also cleared up the intent of subprotocol vs. alternative upgrade framing, too

[23:13:00.0000] <franksalim>
(on HyBi)

[23:13:01.0000] <Hixie>
micheil: it would have been five years ago if we'd been at this stage then

[23:13:02.0000] <Hixie>
micheil: there's been pent-up demand for this for years

[23:13:03.0000] <micheil>
Hixie: five years ago, and I wouldn't have been here ;P

[23:13:04.0000] <Hixie>
franksalim: not sure what you mean

[23:13:05.0000] <micheil>
Hixie: infact.. five years, that's almost mid-webstandards movement, no?

[23:14:00.0000] <franksalim>
calling it subprotocol indicates layering not alternative framing syntax, i think. there was some misunderstanding about that

[23:14:01.0000] <micheil>
(not webstandards for browser, but for developers)

[23:14:02.0000] <Hixie>
"webstandards movement"?

[23:14:03.0000] <Hixie>
franksalim: ah, maybe

[23:14:04.0000] <franksalim>
someone should write a history book :-)

[23:14:05.0000] <Hixie>
franksalim: i didn't understand -- still don't understand -- many of the discussions on hybi

[23:15:00.0000] <Hixie>
i get the feeling there are two very distinct desires

[23:15:01.0000] <Hixie>
and yet we're working on the same protocol

[23:16:00.0000] <franksalim>
at least two

[23:16:01.0000] <Hixie>
yeah, maybe more

[23:16:02.0000] <franksalim>
although fewer now than when half the list was talking about reverse http

[23:17:00.0000] <Hixie>
i just wish that the people who aren't trying to design a trivially implementable TCP-for-browsers protocol would design their own protocol instead of trying to warp websockets to their needs

[23:21:00.0000] <micheil>
Hixie: actually, there's talk in the dev community that when websockets support high bit data, people want to use them for transporting everything like images & binary data

[23:21:01.0000] <micheil>
(by support, I mean, in both server and browser)

[23:22:00.0000] <Hixie>
yeah

[23:22:01.0000] <Hixie>
binary data over websockets should be available later this year, i expect

[23:22:02.0000] <micheil>
cool

[23:22:03.0000] <micheil>
/me has his parser ready to do it, but isn't yet

[23:23:00.0000] <micheil>
Hixie: do you use something like svn or git to manage the document versions for the specs?

[23:23:01.0000] <Hixie>
svn

[23:23:02.0000] <Hixie>
svn.whatwg.org

[23:23:03.0000] <micheil>
could you publish the diffs?

[23:23:04.0000] <Hixie>
svn.whatwg.org/webapps/source specifically

[23:23:05.0000] <Hixie>
the repo is public

[23:23:06.0000] <Hixie>
you can see the differs also at http://html5.org/tools/web-apps-tracker

[23:24:00.0000] <Hixie>
diffs, even

[23:24:01.0000] <micheil>
yeah, that's not so awesome though :P

[23:24:02.0000] <Hixie>
(the web-apps-tracker page is what i use, personally, rather than svn directly)

[23:25:00.0000] <micheil>
Hixie: I'd go for git style patch files.

[23:25:01.0000] <franksalim>
i leave for a minute, and i see you've been talking about one of my favorite things: binary data over websockets

[23:25:02.0000] <micheil>
Hixie: could I have permission to actually mirror the document on github?

[23:25:03.0000] <micheil>
(they have a useful git -> svn thing)

[23:25:04.0000] <micheil>
or svn -> git

[23:26:00.0000] <franksalim>
that's when the subprotocol aspect will be _killer_

[23:26:01.0000] <micheil>
franksalim: agreed

[23:27:00.0000] <Hixie>
micheil: sure, feel free to do whatever. The doc is under the license shown at the top of the WHATWG spec, which is pretty liberal.

[23:28:00.0000] <micheil>
okay.

[23:32:00.0000] <micheil>
Hixie: do you have a Github account by any chance?

[23:32:01.0000] <Hixie>
no

[23:32:02.0000] <micheil>
okay

[23:33:00.0000] <micheil>
Hixie: let me know if you ever create one, that way I can correctly get the attribution right

[23:33:01.0000] <Hixie>
k

[23:35:00.0000] <micheil>
just waiting on github to import it.

[23:35:01.0000] <micheil>
http://github.com/miksago/whatwg-webapps-mirror

[00:10:00.0000] <myakura>
http://f1results.socialminds.com.br/ uses <progress> and <meter> but i don't think it uses them in a conforming way.

[01:03:00.0000] <baba>
omg, so html5 isn't going to be official till 2022 probably?

[01:04:00.0000] <Hixie>
"official"?

[01:04:01.0000] <baba>
W3 Recommendation

[01:04:02.0000] <Hixie>
according to the W3C, it'll be a W3C recommendation before the end of september.

[01:04:03.0000] <baba>
W3C

[01:05:00.0000] <micheil>
Hixie: hmm.. "html5" vs ?

[01:05:01.0000] <Hixie>
(then again, according to the W3C, it'll be in last call before the end of June 2008, and it's still not in last call there)

[01:05:02.0000] <baba>
http://en.wikipedia.org/wiki/HTML5

[01:05:03.0000] <micheil>
would it be an idea to give a timeline guide as to when we can start using various things under the umbrella "html5"

[01:05:04.0000] <baba>
it says "Ian Hickson, editor of the HTML5 specification, expects the specification to reach the Candidate Recommendation stage during 2012, and become a W3C Recommendation in the year 2022 or later."

[01:05:05.0000] <Hixie>
baba: ah, yeah, my guess is it'll be a REC around then.

[01:06:00.0000] <micheil>
eg, WebSockets are available in some browsers from February 2010 onwards

[01:06:01.0000] <Hixie>
baba: not sure that that's a particularly interesting milestone though

[01:06:02.0000] <Hixie>
baba: REC for a Web spec at this point is basically when the technology dies

[01:06:03.0000] <baba>
lol

[01:06:04.0000] <Hixie>
that wasn't meant to be a joke :-)

[01:06:05.0000] <Hixie>
specs that are useful are in active maintenance

[01:07:00.0000] <micheil>
Hixie: agreed. 

[01:07:01.0000] <micheil>
also, I like that there may be some drive behind some specs that they are being designed based off implementation

[01:08:00.0000] <baba>
Hixie, how are you/did you go about learning html5?

[01:09:00.0000] <Hixie>
well i basically wrote it

[01:09:01.0000] <Hixie>
so...

[01:09:02.0000] <baba>
http://www.w3schools.com/html5/default.asp ?

[01:09:03.0000] <baba>
what?

[01:09:04.0000] <baba>
really?

[01:09:05.0000] <micheil>
baba: yeah

[01:09:06.0000] <Hixie>
i guess i did it the hard way

[01:09:07.0000] <baba>
oh, speaking with the big boys, didn't know

[01:09:08.0000] <Hixie>
:-)

[01:09:09.0000] <micheil>
Hixie == Ian Hickson, the guy that writes a lot of the specs

[01:09:10.0000] <Hixie>
this is where the sausage is made

[01:09:11.0000] <Hixie>
well, this is where we talk about how the sausage is made

[01:09:12.0000] <Hixie>
it actually gets made in emacs

[01:10:00.0000] <baba>
gotcha

[01:10:01.0000] <micheil>
Hixie: and where we argue about how vim is better.

[01:10:02.0000] <Hixie>
pah

[01:10:03.0000] <baba>
lol

[01:10:04.0000] <micheil>
>_>

[01:10:05.0000] <micheil>
Hixie: how.. uh.. big is that svn repo?

[01:10:06.0000] <baba>
i'm waiting to graduate before i reinstall ubuntu

[01:10:07.0000] <micheil>
Hixie: github's been fetching it for the past 2-3 hours, I'm sure.

[01:10:08.0000] <baba>
forces me to play too much with customization

[01:11:00.0000] <Hixie>
micheil: there's only a few files in there, but one of them is 4MB and has >4000 revisions

[01:11:01.0000] <micheil>
or not. only 1.4hrs

[01:11:02.0000] <Hixie>
and the other main one is 5MB and has the same number of revisions

[01:11:03.0000] <micheil>
hmm..

[01:11:04.0000] <micheil>
k, so, like, 4000x4000+4000x5000+3000

[01:12:00.0000] <micheil>
so, uh, pretty damn massive.

[01:12:01.0000] <Hixie>
and i wasn't even using it for the first few years :-)

[01:12:02.0000] <micheil>
>_>

[01:13:00.0000] <micheil>
eh' hopefully the github guys won't lynch me for doing this.

[01:13:01.0000] <Hixie>
micheil: heh

[01:16:00.0000] <baba>
so who forks the bill for html5 development?

[01:17:00.0000] <Hixie>
depends what you mean

[01:17:01.0000] <Hixie>
if you mean who pays for whatwg.org's hosting, i do

[01:17:02.0000] <Hixie>
if you mean who pays for the browser vendors to implement the spec, they pay the cost themselves

[01:18:00.0000] <micheil>
and if you mean who pays hixie to write them, well, Hixie ? :P

[01:18:01.0000] <Hixie>
if you mean who pays us to take part in the process, well, many of us are employed by various companies, and many others are just volunteers

[01:18:02.0000] <baba>
yeah, but Ian, who's compensating you for all your time developing the html5 specs

[01:18:03.0000] <Hixie>
i'm a google employee

[01:18:04.0000] <baba>
oh, didn't realize you still were

[01:18:05.0000] <Hixie>
and they pay me to work on this pretty much fulltime

[01:18:06.0000] <micheil>
but google's not the only party.

[01:18:07.0000] <Hixie>
before that opera paid me about 50% time to work on this

[01:18:08.0000] <baba>
guess it's to everyone's advantage to implement this

[01:18:09.0000] <Hixie>
but all the browser vendors are involved, as are many other companies

[01:18:10.0000] <baba>
including MS?

[01:19:00.0000] <Hixie>
and other organisations

[01:19:01.0000] <Hixie>
yup

[01:19:02.0000] <baba>
they send someone there to slow u down?

[01:19:03.0000] <Hixie>
the w3c html wg has been chaired by a microsoft person since inception

[01:19:04.0000] <micheil>
while I don't do things financially, I'm an implementor of a few parts, so, I often ask questions & provide feedback

[01:19:05.0000] <Hixie>
(different person then than now, and they're not the only chair, but still, it's pretty high-profile involvement for microsoft)

[01:19:06.0000] <micheil>
and really, microsoft aren't slow, it's just adoption

[01:20:00.0000] <micheil>
I could say Firefox and Safari are slow, because they don't support WebSockets at draft76, but that'd be stupidity.

[01:20:01.0000] <Hixie>
microsoft have definitely not been responsible for any slowness in html5's development so far

[01:21:00.0000] <micheil>
and without implementation, a spec doesn't really mean much

[01:21:01.0000] <baba>
then why does IE always have issues

[01:21:02.0000] <baba>
with even the current standards

[01:21:03.0000] <micheil>
baba: even people who aren't microsoft don't do things to standards

[01:21:04.0000] <Hixie>
i gotta go to bed

[01:21:05.0000] <Hixie>
nn

[01:22:00.0000] <baba>
goodnight

[01:22:01.0000] <micheil>
Hixie: good point, it is 3am

[01:22:02.0000] <micheil>
Night'

[01:23:00.0000] <baba>
didn't mean to start a MS bashing session, just curious why I always have to adjust what I do so my css or whatever works on IE 

[01:24:00.0000] <micheil>
baba: two words: corporate adoption

[01:24:01.0000] <micheil>
IE is such that if there's anything that's a massive change, the adoption is massively slow.

[01:25:00.0000] <micheil>
most government departments in australia, for instance, still use IE 6 or below

[01:25:01.0000] <micheil>
because there's ghosts from the browser wars.

[01:25:02.0000] <estellevw>
baba: lack of auto updating too

[01:26:00.0000] <estellevw>
if IE6 autoupdated to IE7, then to IE8, we wouldn't see 4% of people still using IE6

[01:26:01.0000] <micheil>
but then again, IE aren't the only ones that don't implement things correctly, for instance, Safari 5 doesn't handle the response handshake in websockets correctly

[01:26:02.0000] <micheil>
iirc,.

[01:27:00.0000] <micheil>
estellevw: you'd still have apps written to target IE6 which would need compleete rewrites to work on IE > 6, so, consequentially, IT admins disable automatic updates

[01:29:00.0000] <baba>
hmm, good point

[01:29:01.0000] <baba>
it does ask you to update though in windows

[01:29:02.0000] <baba>
...btw, is there a solution for Pasting into the browser with html5?

[01:29:03.0000] <baba>
from the clipboard

[01:30:00.0000] <baba>
an image

[01:32:00.0000] <micheil>
umm.. no, but you could use I think the HTML5 drag and drop (only in some browsers)

[01:33:00.0000] <micheil>
morning zcorpan_ 

[01:33:01.0000] <baba>
hmm

[01:33:02.0000] <baba>
micheil, so flash is still the only solution for that?

[01:33:03.0000] <micheil>
flash isn't the only solution

[01:33:04.0000] <micheil>
and I'd say it's not a solution.

[01:34:00.0000] <baba>
mhtml

[01:34:01.0000] <micheil>
HTML has always had the <input type="file"> for a long long time

[01:34:02.0000] <micheil>
use it, it's there for a reason.

[01:34:03.0000] <baba>
but how about pasting from the clipboard

[01:34:04.0000] <baba>
an image from the clipboard

[01:34:05.0000] <zcorpan_>
morning micheil

[01:35:00.0000] <micheil>
baba: not possible.

[01:36:00.0000] <baba>
because there's still no where to store the image?

[01:36:01.0000] <micheil>
no

[01:36:02.0000] <micheil>
think about it, if you could programatically pull something from a visitors clip board, without their permission, then you'd have a big big security problem

[01:37:00.0000] <baba>
only if they choose to paste

[01:37:01.0000] <micheil>
but how do you know if they are pasting?

[01:37:02.0000] <micheil>
document.addEventListener("paste", fn) ?

[01:37:03.0000] <micheil>
I don't think so. What are they pasting into? a textarea, a canvas element, etc

[01:50:00.0000] <zcorpan_>
Hixie: why did you ban U+0020 in subprotocol? 

[01:52:00.0000] <zcorpan_>
Hixie: oh, nm

[01:52:01.0000] <baba>
micheil, just how you know if they are pasting text

[01:53:00.0000] <micheil>
baba: well, in Mozilla code base, I can actually listen for it

[01:53:01.0000] <micheil>
baba: via an API that's private to the Chrome (not accesible from pages), which is provided using a technology called XPCom

[01:53:02.0000] <micheil>
it's basically a C / C++ api accessor

[02:15:00.0000] <phrearch>
hi

[02:18:00.0000] <estellevw>
when did <a> lose the ping attribute?

[02:18:01.0000] <estellevw>
or was i mistaken that it was ever there?

[02:20:00.0000] <estellevw>
i see it http://www.w3.org/TR/2010/WD-html5-diff-20100624/ but not http://dev.w3.org/html5/markup/a.html

[02:23:00.0000] <jgraham>
estellevw: It lost it when people complained about it. It is still in the WHATWG copy though

[02:25:00.0000] <estellevw>
see it http://dev.w3.org/html5/html-author/#the-a-element too. Wondering if i should file a bug.

[02:26:00.0000] <hsivonen>
the /html-author/ doc isn't active being worked on

[02:26:01.0000] <hsivonen>
I guess Lachy has been busy with other stuff

[02:29:00.0000] <zcorpan_>
yay hybi are +1ing

[02:34:00.0000] <Lachy>
hsivonen, I'm waiting to be assigned time to work on that stuff

[02:42:00.0000] <baba>
micheil, what I meant was, how come it's not dangerous for text to be able to be pasted in, but it is for images?

[02:49:00.0000] <micheil>
baba: because, text is what it's always been

[02:50:00.0000] <micheil>
also, it's really quite complicated to handle any clipboard data, eg, how do you know what mime-type to show it with?

[02:58:00.0000] <baba>
micheil, by trial-error?

[02:59:00.0000] <micheil>
too expensive to process.

[03:00:00.0000] <baba>
hmm

[03:00:01.0000] <baba>
how does flash do it?

[03:06:00.0000] <micheil>
no idea.

[03:08:00.0000] <kbrosnan>
http://www.adobe.com/livedocs/flash/9.0/main/wwhelp/wwhimpl/common/html/wwhelp.htm?context=LiveDocs_Parts&file=00002187.html ?

[03:08:01.0000] <baba>
k

[03:08:02.0000] <baba>
oh wow

[03:08:03.0000] <baba>
thanks kbrosnan

[03:09:00.0000] <baba>
kbrosnan, question is, if there is an image in the clipboard, how does it know to paste an image

[03:09:01.0000] <baba>
how does it "check"

[03:09:02.0000] <kbrosnan>
no idea, just used $search_engine for flash clipboard api

[03:11:00.0000] <baba>
gotcha

[03:12:00.0000] <jgraham>
abarth: yt? The webkit parser tests Just Work now you have added them to the test directory. So that's fine.

[03:12:01.0000] <abarth>
jgraham: cool

[03:12:02.0000] <jgraham>
I don't know how to sync. What are your requirements

[03:12:03.0000] <jgraham>
?

[03:12:04.0000] <abarth>
don't know

[03:13:00.0000] <abarth>
the question is whether we should continue to modify those files in the webkit tree

[03:13:01.0000] <abarth>
and upload them periodically

[03:13:02.0000] <abarth>
or whether you want the ability to edit them in the code.google.com repo

[03:13:03.0000] <abarth>
in which case we should probably make new dat files for new tests

[03:14:00.0000] <jgraham>
I am happy to not touch those files if you want to edit them locally and then periodically resync

[03:14:01.0000] <abarth>
ok, let's try that for a while

[03:15:00.0000] <jgraham>
I am also happy if you always edit in the html5lib repository and just resync to the webkit repository when needed

[03:15:01.0000] <jgraham>
But I guess that might be harder for you

[03:16:00.0000] <abarth>
jgraham: yeah, that doesn't integrate with our process that well

[03:16:01.0000] <jgraham>
OK

[03:19:00.0000] <hsivonen>
fwiw, I edit in html5lib first and then sync to mozilla-central

[03:19:01.0000] <jgraham>
(I guess the only problem is if you accidentially add buggy tests. In that case being able to make fixes fast is good.)

[03:20:00.0000] <abarth>
we're getting to the ned of implementing the parser, so we'll be done with these tests soon

[03:20:01.0000] <abarth>
the stuff i'm fixing now is fiddly webkit stuff that's not visible in the DOM

[03:21:00.0000] <abarth>
we also need to implement ian's latest round of changes to the spec

[03:21:01.0000] <hsivonen>
/me spent the vast majority of time fixing Mochitests and Gecko stuff (as opposed to writing the parser core)

[03:21:02.0000] <jgraham>
Oh yeah, spec changes are another problematic case

[03:22:00.0000] <jgraham>
hsivonen: You implemented off-the-main-thread parsing at the same time, which I guess didn;t make it easier

[03:22:01.0000] <jgraham>
:)

[03:22:02.0000] <hsivonen>
jgraham: yeah, that, too

[03:22:03.0000] <abarth>
we're down to 80 tests that have different expectations between the new and old parser

[03:22:04.0000] <abarth>
but we've been able to explain most of those differences

[03:22:05.0000] <hsivonen>
a big part of the mochitest failures arose from off-the-main-thread parsing

[03:23:00.0000] <hsivonen>
abarth: 80 tests makes me feel a bit better :-)

[03:23:01.0000] <abarth>
well, we used to fail some 15k tests

[03:23:02.0000] <abarth>
so it's a big improvement :)

[03:24:00.0000] <abarth>
hsivonen: i don't really understand off the main thread parsing

[03:24:01.0000] <hsivonen>
abarth: do you have HTML5-compliant about:blank timing?

[03:24:02.0000] <abarth>
dunno

[03:24:03.0000] <abarth>
probably not

[03:25:00.0000] <hsivonen>
I postponed that to after Firefox 4.0

[03:25:01.0000] <abarth>
how does one test taht?

[03:25:02.0000] <hsivonen>
so Gecko's about:blank currently isn't compliant

[03:25:03.0000] <abarth>
the problem with working on the parser is you need to decide where to stop implementing the spec

[03:25:04.0000] <abarth>
because, in principle, you could do the whole thing from that foundation

[03:25:05.0000] <hsivonen>
abarth: you poke the document of an iframe or of a window.open()ed window at various points in time to see what's there

[03:26:00.0000] <abarth>
oh, i'm sure that's not right

[03:26:01.0000] <abarth>
that stuff is crazy

[03:26:02.0000] <abarth>
the parser runs really slowly in debug mode

[03:26:03.0000] <abarth>
because we've loaded it up with so many asserts

[03:27:00.0000] <abarth>
we'll probably have to take a bunch of those out

[03:27:01.0000] <abarth>
which is kind of too bad

[03:27:02.0000] <hsivonen>
I'm planning on putting more asserts in :-)

[03:27:03.0000] <hsivonen>
currently, the Java asserts are carried over to C++, which isn't nice

[03:29:00.0000] <abarth>
ok, bed time for me

[03:30:00.0000] <abarth>
more triage in the morning :)

[03:50:00.0000] <jgraham>
Hmm some of these webkit tests seem to rely on scripting

[04:39:00.0000] <karlcow>
I wonder how many sites are sending the optional "Comment=comment" with cookies

[04:41:00.0000] <Philip`>
karlcow: Very few

[04:42:00.0000] <Philip`>
and half of them are Comment=Sun+ONE+Application+Server+Session+Tracking+Cookie and the other half are Comment=1-800-Volunteer.org

[05:07:00.0000] <hsivonen>
what happened to being able to request more context in the Web Apps Tracker?

[05:09:00.0000] <jgraham>
hsivonen: I think anne removed it and waited to see if you complained

[05:10:00.0000] <hsivonen>
I'm complaining now

[05:11:00.0000] <hsivonen>
sooo...

[05:12:00.0000] <hsivonen>
suppose we have <svg><foreignObject><math><u>

[05:13:00.0000] <hsivonen>
the spec now says that upon <u>, you pop elements until either math or svg has been popped, switch to the secondary insertion mode and reprocess

[05:13:01.0000] <hsivonen>
is that really right?

[05:13:02.0000] <hsivonen>
hmm. maybe it is

[05:14:00.0000] <hsivonen>
but what about <math><annotation-xml><svg><u>

[05:14:01.0000] <hsivonen>
is it right in that case?

[05:14:02.0000] <hsivonen>
or in <svg><svg><u>

[05:14:03.0000] <hsivonen>
?

[05:15:00.0000] <hsivonen>
I can't recall why I've implemented it in another way

[05:15:01.0000] <hsivonen>
but I've made it pop until the top of the stack is an HTML element

[05:17:00.0000] <zcorpan_>
hsivonen: seems it's not really right in all cases

[05:18:00.0000] <zcorpan_>
hsivonen: the intent was to not pop so far for e.g. <svg><foreignContent><math><u>

[05:20:00.0000] <zcorpan_>
hsivonen: i guess the spec should revert that change or come up with something else that works better

[05:20:01.0000] <hsivonen>
sigh. http://html5.org/tools/web-apps-tracker?from=5154&to=5155 is going to result in another unreviewable patch for sicking to review

[05:22:00.0000] <jgraham>
hsivonen: I guess if there are bugs filing them with testcases that the revised spec should pass is the way forward

[05:24:00.0000] <jgraham>
This bit of the spec seems to be enormously fragile

[05:25:00.0000] <jgraham>
I'm not sure if there is something to learn from that

[05:26:00.0000] <zcorpan_>
hsivonen: i reopened http://www.w3.org/Bugs/Public/show_bug.cgi?id=8966

[05:27:00.0000] <Matjas>
I have an input field ‘slug’ which indicates part of an URL that will be generated. I’d like to preview that URL. Which markup to use? <samp>http://domain.ext/<var>slug</var></samp>?

[05:28:00.0000] <hsivonen>
zcorpan_: thanks

[05:28:01.0000] <Matjas>
s/preview that URL/show a preview of that URL/

[05:28:02.0000] <hsivonen>
I wonder if it still holds that reprocessing an end tag token can never cause reprocessing in the 'in foreign content' mode...

[05:29:00.0000] <Smylers1>
Matjas: <var>slug</var> makes sense when you literally have the word ‘slug’ in there as a placeholder. But not for an actual slug.

[05:29:01.0000] <zcorpan_>
hsivonen: maybe we could have breakout bookmarks in the stack of open elements or so?

[05:30:00.0000] <Matjas>
Smylers1: I see. So as soon as it’s an actual slug, use <span> instead?

[05:30:01.0000] <Matjas>
Smylers1: Or is there a better alternative?

[05:30:02.0000] <Smylers1>
Why does it need anything?

[05:31:00.0000] <Smylers1>
If you wish it to be styled differently from the fixed part of the URL, you could use <b>.

[05:31:01.0000] <Matjas>
Smylers1: I’d like to use JS to dynamically change the preview based on the input, so I figured perhaps it would be a good idea to visually indicate the difference from the fixed URL part

[05:31:02.0000] <Smylers1>
<b> sounds right then.

[05:32:00.0000] <hsivonen>
zcorpan_: or maybe we should have the same scope check in this case that we have in the case where an end tags has been processed according to the rules of the secodary insertion mode

[05:32:01.0000] <Smylers1>
Or possibly <mark>, to highlight the part of the URL you're drawing readers' attention to.

[05:33:00.0000] <Matjas>
Smylers1: Oh yes, can’t believe I forgot about <mark>!

[05:33:01.0000] <Matjas>
Smylers1: And <samp> would be okay to use as a wrapper for the entire URL?

[05:33:02.0000] <Smylers1>
Those both have the advantage over <span> of conveying something even to users without CSS.

[05:33:03.0000] <karlcow>
Philip`: interesting thanks

[05:34:00.0000] <Smylers1>
I've only ever considered <samp> for output of text-based programs, but it seems OK to use here too.

[05:34:01.0000] <Smylers1>
If you need anything at all there.

[05:39:00.0000] <hsivonen>
it's ridiculous how much http://html5.org/tools/web-apps-tracker?from=5154&to=5155 simplifies code

[06:03:00.0000] <jgraham>
zcorpan_: Maybe it would be good to add the expected DOM trees to that comment?

[06:28:00.0000] <jgraham>
"""the amateur programmer requirement has been

[06:28:01.0000] <jgraham>
widely rejected"""

[06:28:02.0000] <jgraham>
that's news to me

[06:28:03.0000] <jgraham>
(re: websockets)

[06:29:00.0000] <jgraham>
Am I just not following along enough?

[06:30:00.0000] <othermaciej>
lots of people said they don't like it

[06:31:00.0000] <othermaciej>
I don't know if that counts as "widely rejected"

[06:34:00.0000] <hsivonen>
Web specs also need to be resient against professionals who aren't careful enough

[06:45:00.0000] <jgraham>
I wonder if it is worth my while saying that I believe in that requirement

[07:20:00.0000] <jgraham>
There is no reason I am missing that <!DOCTYPE potato SYSTEM 'taco"'> should parse to anything other than a DOCTYPE with name html and system id taco" is there?

[07:21:00.0000] <jgraham>
s/html/potato/

[07:22:00.0000] <jgraham>
These webkit tests seem to assume no public id or system id, but I think they are wrong

[07:24:00.0000] <gsnedders>
jgraham: Yeah, the rest is as the DOCTYPE is created (i.e., the public identifier is missing)

[07:24:01.0000] <jgraham>
Yeah I think the html5lib format doesn't distinguish missing from empty string

[07:28:00.0000] <hsivonen>
what's the best way to search one's own tweets?

[07:29:00.0000] <jgraham>
hsivonen: I thought it was a write-only medium...

[07:29:01.0000] <hsivonen>
apparently inurl: on Google

[07:31:00.0000] <jgraham>
Does http://search.twitter.com/advanced do what you want? I don't know if it time-limits...

[07:32:00.0000] <jgraham>
(but possibly the answerr to "best" is "have a local backup that can be conveniently grepped")

[07:33:00.0000] <jgraham>
That search page seems to be useless...

[07:35:00.0000] <hsivonen>
jgraham: nope, it doesn't do what I want

[07:35:01.0000] <hsivonen>
I wanted to find the tweet I mentioned in my latest email to the whatwg list

[07:38:00.0000] <Lachy>
is there a way on twitter to extract your entire history of tweets in one long file?

[07:39:00.0000] <gsnedders>
No, you can only get a three-digit number at a time

[07:50:00.0000] <Smylers1>
Lachy: http://tweetbackup.com/ will do that.

[07:51:00.0000] <Smylers1>
Sign up, using Twitter's oauth, then you can get an export of all your tweets in a text file (including tweets from before you signed up).

[07:56:00.0000] <Lachy>
Smylers1, thanks. Trying it out now.

[07:56:01.0000] <Lachy>
hopefully I have fewer than 3200 posts, which seems likely given my relatively infrequent usage

[08:14:00.0000] <erlehmann>
„So I heard you like Ogg, so i implemented it to toll you that I haven't implemen- OH WAIT :D“

[08:18:00.0000] <Lachy>
erlehmann, where is that quote from?

[08:19:00.0000] <erlehmann>
Lachy, I invented it after reading mike shavers suggestion on the list that implementors should implement basic ogg support to determine if it is ogg to then tell that they do not support it.

[08:22:00.0000] <jgraham>
A warning that you're about to open a 5MB "text" document might be

[08:22:01.0000] <jgraham>
humane anyway.

[08:22:02.0000] <jgraham>
(Mike Shaver)

[08:23:00.0000] <jgraham>
Yeah "Warning: you appear to be reading the HTML5 spec. Are you sure you want to continue? (y/n)"

[08:23:01.0000] <jgraham>
I guess it is strictly html rather than text, but that doesn't obviously make it better...

[08:25:00.0000] <erlehmann>
jgraham, i thought that too. after all, with text/html, its major type is "text" ;)

[08:27:00.0000] <erlehmann>
I hereby humbly suggest that "HTML5 spec" should now be abbreviated as "HTML5MB".

[08:27:01.0000] <jgraham>
We could just version it according to size

[08:27:02.0000] <erlehmann>
BRILLIANT

[08:27:03.0000] <jgraham>
Once it reaches 6Mb it is HTML6

[08:28:00.0000] <jgraham>
(cutting stuff out could be a problem of course)

[08:28:01.0000] <erlehmann>
http://www.nioutaik.fr/images/galerie/brilliant.jpg

[08:29:00.0000] <jgraham>
hsivonen: Do you remember what was decided about coalescing adjacent character tokens in cases like <table>a<tr></tr>b ?

[08:30:00.0000] <jgraham>
Oh I found it

[08:30:01.0000] <jgraham>
The spec says not to coalese

[08:30:02.0000] <jgraham>
hsivonen: Do you agree with the spec? :)

[08:31:00.0000] <jgraham>
(it seems that Mimefield disagrres with the spec)

[08:31:01.0000] <jgraham>
*disagrees

[08:36:00.0000] <erlehmann>
Mimefield. Hehe.

[08:36:01.0000] <erlehmann>
The silent browser!

[08:36:02.0000] <gsnedders>
All I'm saying <http://gsnedders.html5.org/html5.txt> is a number of megabytes of text

[08:37:00.0000] <jgraham>
Oh, that is a horrible typo

[08:39:00.0000] <hsivonen>
jgraham: it was easier to implement coalescing in all cases than to special-case something

[08:40:00.0000] <jgraham>
hsivonen: That is my feeling too. But webkit appear to be implementing coaleascing

[08:40:01.0000] <hsivonen>
jgraham: so I guess I disagree with the spec until someone demonstrates that this is an actual DoS-by-author-incompetence problem against Gecko

[08:40:02.0000] <hsivonen>
(there are other ways to mount deliberate DoS attacks on Gecko)

[08:40:03.0000] <hsivonen>
jgraham: do you mean non-coalescing?

[08:40:04.0000] <jgraham>
hsivonen: Yes

[08:40:05.0000] <Philip`>
What about deliberate DoS attacks on other users of the parser, e.g. the validator?

[08:41:00.0000] <hsivonen>
Philip`: the validator uses SAX, so the question isn't applicable

[08:41:01.0000] <Philip`>
Ah

[08:41:02.0000] <hsivonen>
Philip`: and, IIRC, the Java tree builders don't coalesce, but my memory may be failing

[08:42:00.0000] <hsivonen>
Coalescing in Gecko is needed, because there are discretionary flushes

[08:42:01.0000] <hsivonen>
and because there's document.write

[08:42:02.0000] <hsivonen>
hooray to document.write

[08:52:00.0000] <hsivonen>
huh? so mkv doesn't have a magic within a constant amount of bytes

[08:52:01.0000] <hsivonen>
that seems like a terrible design decision

[08:53:00.0000] <jgraham>
hsivonen: Is the hadling of whitespace characters in the table text mode a) different from the spec and b) if so, deliberate?

[08:54:00.0000] <jgraham>
It seems different to me, but I guess I could be confused

[08:54:01.0000] <jgraham>
e.g. in <TABLE><center><font>a</center> <img> <tr><td></td> </tr> </table>

[08:55:00.0000] <hsivonen>
jgraham: not deliberate if actually different

[08:56:00.0000] <jgraham>
hsivonen: It seems to me that the spec requires hat whitespace-only text is not foster parented but only inserted into the current node

[08:56:01.0000] <jgraham>
*that

[08:57:00.0000] <jgraham>
Gecko seems to foster parent

[08:57:01.0000] <jgraham>
But I might be missing something crucial

[08:58:00.0000] <erlehmann>
hsivonen, i would like to see the design rationale for the webm container :/

[08:59:00.0000] <Lachy>
hsivonen, MKV always has the EBML magic number in the first 4 octets. It's just the doctype that can vary slightly in position, depending on the presence of some other EBML header elements

[09:00:00.0000] <foolip>
right, sniffing it is not difficult

[09:04:00.0000] <Lachy>
foolip, has google changed their mind about insisting on the right mime type for webm, despite insisting to us long ago that they would only support webm with the right type?

[09:05:00.0000] <foolip>
Lachy, I guess they never checked the MIME type at all, it's just used for canPlayType

[09:05:01.0000] <foolip>
I tested an Ogg video with the wrong MIME type, but it's hard to imagine it's different for WebM

[09:05:02.0000] <erlehmann>
weird

[09:06:00.0000] <foolip>
perhaps they've fixed it in their snapshots, but I doubt that too

[09:06:01.0000] <Lachy>
oh, wtf? I'm sure I mentioned that bug to them on sea otters, and I assumed they would fix it

[09:06:02.0000] <foolip>
are any of the Chrome engineers actually active on the lists?

[09:06:03.0000] <foolip>
It'd be easier to not have to guess

[09:07:00.0000] <foolip>
or, um, test it yourself, I mean :)

[09:11:00.0000] <AryehGregor>
Sea otters?

[09:12:00.0000] <AryehGregor>
(also, Chrome developers are active in #chromium and #webkit, in my experience)

[09:12:01.0000] <foolip>
AryehGregor, a private list prior to the public launch of WebM

[09:12:02.0000] <AryehGregor>
Oh.

[09:12:03.0000] <AryehGregor>
Fascinating.

[09:16:00.0000] <hsivonen>
do Carakan and Nitro support JITting to PPC?

[09:16:01.0000] <AryehGregor>
MikeSmith, is it supposed to be "crackles" or "cackles"?  When I Googled it I found both, but "cackles" makes much more sense to me.

[09:18:00.0000] <MikeSmith>
AryehGregor: dunno.. could be I typed it in wrong, or could be that it's ambiguous in John Clare's manuscript, and different editors transcribe it differently

[09:18:01.0000] <MikeSmith>
/me checks now

[09:19:00.0000] <MikeSmith>
my Norton Anthology of Poetry has "crackles"

[09:20:00.0000] <hsivonen>
looks like Carakan has PPC support

[09:20:01.0000] <MikeSmith>
AryehGregor: which I like better than "cackles", even if it makes less sense

[09:20:02.0000] <MikeSmith>
AryehGregor: I think Clare was in an insane asylum when he wrote that poem

[09:21:00.0000] <AryehGregor>
In that case, the less sane one is probably correct, and the more sane one probably arose due to some helpful person like me assuming a copyist made a mistake.

[09:21:01.0000] <foolip>
hsivonen, I doubt it produces PPC machine code, on PPC it ought to be running the interpreter only

[09:21:02.0000] <AryehGregor>
(this is a general principle when reconciling variant texts, the one that makes less sense is probably correct)

[09:21:03.0000] <jgraham>
hsivonen: Carakan doesn't do JIT/PPC

[09:21:04.0000] <jgraham>
I wonder if V8 works at all on PPC

[09:22:00.0000] <jgraham>
Because it doesn't have an interpreter

[09:22:01.0000] <foolip>
it doesn't?

[09:22:02.0000] <foolip>
can it run on ARM?

[09:22:03.0000] <jgraham>
foolip: Yeah, they have ARM support

[09:22:04.0000] <foolip>
well, that seems less insane then :)

[09:23:00.0000] <jgraham>
(for people not keeping up, Carakan also has JIT-for-ARM: http://labs.opera.com/news/2010/07/21/ )

[09:24:00.0000] <MikeSmith>
AryehGregor: yeah -- even with sane poets, overzealous editors have "corrected" a lot of stuff they would have been better left untampered with

[09:24:01.0000] <hsivonen>
jgraham, foolip: oh, ok. Lots of misleading reporting about PPC and Carakan then

[09:24:02.0000] <jgraham>
hsivonen: What are you reading?

[09:24:03.0000] <hsivonen>
Nitro assembler source code doesn't appear to have PPC support

[09:26:00.0000] <hsivonen>
jgraham: C|Net

[09:26:01.0000] <hsivonen>
jgraham: but looing closer, they didn't say JIT

[09:26:02.0000] <hsivonen>
just put Caracan and PPC in the title

[09:27:00.0000] <hsivonen>
so no one has a JS JIT for PPC?

[09:27:01.0000] <foolip>
developing that would be a waste of time

[09:27:02.0000] <foolip>
PPC is going away

[09:27:03.0000] <hsivonen>
curiously, Nitro assembler has a MIPS back end

[09:28:00.0000] <jgraham>
hsivonen: I hear MIPS is used on some devices, but I have no idea what (actually I know nothing about it)

[09:28:01.0000] <AryehGregor>
Why do you care about JITing to PPC?

[09:29:00.0000] <Philip`>
Maybe you want fast JavaScript in a web browser on a games console

[09:29:01.0000] <AryehGregor>
JIT to Cell!!!

[09:30:00.0000] <hsivonen>
AryehGregor: I don't really *care*. I'm just curious.

[09:30:01.0000] <Philip`>
AryehGregor: Cell is kind of just PPC plus some extra data processing units

[09:31:00.0000] <AryehGregor>
Maybe everyone should JIT to LLVM and thus support everything that does.  (Note: LLVM seems to be some new trendy technology, so it's appropriate for me to advocate it without understanding whether it would be remotely appropriate for this purpose)

[09:35:00.0000] <Philip`>
/me supposes Opera could care, because the Wii is PPC and it'd be nice if you could play JS games in Opera on there

[09:47:00.0000] <hsivonen>
https://bugzilla.mozilla.org/show_bug.cgi?id=579846 hooray for abstraction layer violations

[09:48:00.0000] <hsivonen>
Hixie: is it intentional that caching related pragmas aren't in HTML5?

[10:15:00.0000] <Hixie>
hsivonen: only insofar as i was trying to keep it to a mininmum. If it's compat-needed, file a bug, I'll add whatever you say is needed.

[11:22:00.0000] <gsnedders>
Yay for WebKit behavioural changes linked to Radar issues!

[11:35:00.0000] <JonathanNeal>
Unless I missed it @ http://www.whatwg.org/specs/web-apps/current-work/multipage/content-models.html#annotations-for-assistive-technology-products-(aria) the paragraph element <p> doesn't have an implicit aria role?

[12:19:00.0000] <AryehGregor>
Does anyone here know about the File API spec?  It seems to have no way to look at pieces of a large file without loading the whole thing into memory.

[12:19:01.0000] <AryehGregor>
I'm trying to figure out if 1) this is true, and 2) it's been discussed before.

[12:23:00.0000] <AryehGregor>
I guess I'll just post to public-webapps.

[13:00:00.0000] <JonathanNeal>
<nav> still need headings, yes?

[13:00:01.0000] <jgraham>
Not "needs"

[13:00:02.0000] <jgraham>
But it is a section it can have a heading

[13:00:03.0000] <jgraham>
Otherwise a reasonable UA would make something up

[13:05:00.0000] <JonathanNeal>
So, it's safe to abandon a heading for a <nav>

[13:05:01.0000] <JonathanNeal>
Is that written anywhere, though?

[13:05:02.0000] <AryehGregor>
It's not written anywhere that you have to have a heading for a <nav>.

[13:05:03.0000] <boogyman>
abandon? wtf

[13:05:04.0000] <AryehGregor>
So, you can infer that you don't.

[13:06:00.0000] <boogyman>
<nav> spec states that it's for some sort of page navigation, there's no reference to required pre-req encapsulation

[13:07:00.0000] <JonathanNeal>
boogyman, well, the last time I asked about it, I seem to remember there being strong consensus to include it.  So, I would be abandoning a previous paradigm I thought to follow.

[13:08:00.0000] <JonathanNeal>
I just have to get over the fact that gsnedders gonna call my navigation an Untitled Section.

[13:08:01.0000] <gsnedders>
JonathanNeal: Well, yeah

[13:08:02.0000] <gsnedders>
I'm lazy :P

[13:09:00.0000] <gsnedders>
(I was going to fix it, then I realized how much effort it would be.)

[13:09:01.0000] <boogyman>
The nature of the <nav> implies it would be encapsulated by <header>, however it's not 'technically' wrong

[13:09:02.0000] <JonathanNeal>
gsnedders, it is difficult to have it say something like "Navigation" if it comes from a nav?

[13:10:00.0000] <JonathanNeal>
/me activates gsnedders encouragement mode.

[13:12:00.0000] <gsnedders>
JonathanNeal: Yes

[13:25:00.0000] <AryehGregor>
I see references to being able to slice a File into Blobs.

[13:25:01.0000] <AryehGregor>
Am I just missing that somewhere?

[13:34:00.0000] <AryehGregor>
Bingo!  http://dev.w3.org/2006/webapi/FileAPI/#dfn-slice

[13:53:00.0000] <gsnedders>
jgraham: I'm not sure it's possible to implement LysKOM as a Thunderbird extension

[13:55:00.0000] <gsnedders>
"Conferences hold articles. They are represented in the protocol as a data type called Conference. Each conference has a creator, the person who created the conference, and a supervisor, a conference whose members can modify the conference. If the supervisor is a person, the members of that person's mailbox are supervisors, which in most cases is only that person."

[13:55:01.0000] <gsnedders>
WTH?

[13:57:00.0000] <othermaciej>
I hope most nouns in that paragraph are terms of art

[13:57:01.0000] <gsnedders>
Are people conferences?

[13:57:02.0000] <gsnedders>
Or how else can a supervisor be a conference and a person?

[13:58:00.0000] <Philip`>
That sounds like a typo to me

[13:58:01.0000] <Philip`>
(Should be "a person whose members")

[13:58:02.0000] <jgraham>
Argh

[13:59:00.0000] <Philip`>
Oh, maybe not

[13:59:01.0000] <gsnedders>
(For the curiour, that's from the LysKOM spec)

[13:59:02.0000] <Philip`>
because then "If the supervisor is a person" wouldn't make sense

[13:59:03.0000] <jgraham>
I just lost an email

[13:59:04.0000] <gsnedders>
The spec also contains, "Long live FORTRAN!".

[13:59:05.0000] <jgraham>
Stupid web browser

[13:59:06.0000] <Philip`>
/me decides to happily not understand it

[14:00:00.0000] <jgraham>
gsnedders: This is #whatwg we don't talk about legacy internet technologies that should have died years ago but mysteriously linger on here

[14:00:01.0000] <jgraham>
Oh wait...

[14:01:00.0000] <aliok>
HI all, can anyone point me to some document where I can learn styling Html5 date picker?

[14:01:01.0000] <jgraham>
gsnedders: (FWIW I assume that the underlying model is that "everything's a conference")

[14:02:00.0000] <jgraham>
(but I could be wrong)

[14:02:01.0000] <gsnedders>
jgraham: This isn't mentioned in the spec

[14:02:02.0000] <jgraham>
gsnedders: What isn't?

[14:02:03.0000] <gsnedders>
And it's implied People are a separate type to Conference and Text-Stat

[14:03:00.0000] <zcorpan_>
micheil: array won't throw. it'll just be converted to a string

[14:04:00.0000] <jgraham>
gsnedders: From reading the above I would assume that People are a subtype of Conference

[14:04:01.0000] <AryehGregor>
aliok, you can't, basically.

[14:04:02.0000] <jgraham>
But what do I know

[14:04:03.0000] <AryehGregor>
Not yet, anyway.

[14:04:04.0000] <gsnedders>
jgraham: I'd assume that if it weren't for the next section in the spec

[14:05:00.0000] <aliok>
AryehGregor, thanks anyway.

[14:06:00.0000] <jgraham>
gsnedders: Oh

[14:06:01.0000] <aliok>
BTW, if anyone interested we're implementing Html5 enabled JSF components. A live demo is deployed at http://html5-comp-lib-showcase-snapshot.latest.aliok-com-tr-test.appspot.com/index.jsf

[14:06:02.0000] <jgraham>
gsnedders: (I don't see why what you said precludes the thunderbird extension, although I am not sure how one would implement "mark all messages with the same id as read")

[14:06:03.0000] <jgraham>
(maybe the feed support already does that?)

[14:07:00.0000] <gsnedders>
jgraham: I don't see how you can implement a new incoming and outcoming protocol in an extension

[14:07:01.0000] <gsnedders>
But maybe the docs are just bad

[14:12:00.0000] <jgraham>
gsnedders: jcranmer had some blog posts

[14:12:01.0000] <jgraham>
They didn't implement a new protocol I guess

[14:16:00.0000] <aliok>
AryehGregor, styling of those is written somehere in some spec but not implemented yet, right?

[14:23:00.0000] <jgraham>
abarth, hsivonen: Filed http://www.w3.org/Bugs/Public/show_bug.cgi?id=10221 on the text node coalescing behaviour

[14:44:00.0000] <jamesr>
Philip`: is there any way to get the output from your canvas conformance suite in a more machine-parsable way? i want to compare the output of http://philip.html5.org/tests/canvas/suite/tests/index.2d.html between two different builds and i can't see any way to do that other than looking at all the squares

[14:47:00.0000] <Philip`>
jamesr: If you use http://philip.html5.org/tests/canvas/suite/reportgenentry.html then it'll generate YAML code in the textarea at the bottom

[14:47:01.0000] <Philip`>
The submit button won't work so don't click that

[14:47:02.0000] <Philip`>
but it should be possible to diff the outputs

[14:48:00.0000] <jamesr>
ok

[14:48:01.0000] <jamesr>
why YAML?

[14:48:02.0000] <Philip`>
Why not?

[14:49:00.0000] <Philip`>
It's easy to generate and easy to read and easy to parse (given suitable libraries)

[14:49:01.0000] <jamesr>
but <insert markup system here> is clearly superior!

[14:49:02.0000] <jamesr>
Philip`: thanks, i think that'll do the trick

[14:49:03.0000] <Philip`>
and I was already using it for writing the test cases since it's concise and human-writable

[14:50:00.0000] <Philip`>
and it's complex and crazy enough to be fun

[14:55:00.0000] <jcranmer>
gsnedders: with a bit of pain

[14:55:01.0000] <gsnedders>
jcranmer: So a bit of pain there, and a lot of pain at the badly documented protocol? Nice.

[14:56:00.0000] <jcranmer>
if you're doing a wire protocol, you're likely using C++ already, which is easier

[14:56:01.0000] <jcranmer>
it basically lacks documentation on the receiving end

[14:56:02.0000] <gsnedders>
s/$/ if you know C++/

[14:56:03.0000] <jcranmer>
binary protocol stuff in JS is not fun

[14:56:04.0000] <gsnedders>
I wasn't really thinking about using JS

[14:57:00.0000] <gsnedders>
JS doesn't work that well for binary data

[14:57:01.0000] <jcranmer>
for TB, you pretty much have a choice of JS or C++

[14:58:00.0000] <gsnedders>
I know.

[14:58:01.0000] <gsnedders>
I, uh, wasn't entirely convinced I wanted to implement it in TB anyway

[14:58:02.0000] <jcranmer>
fortunately, it should become easier in the future

[14:58:03.0000] <gsnedders>
jgraham is the once convinced of that.

[14:58:04.0000] <gsnedders>
:)

[14:58:05.0000] <gsnedders>
(I think a more radical UI would be better, but oh well)

[15:01:00.0000] <AryehGregor>
aliok, I don't know if a spec even exists at this point.

[16:01:00.0000] <gsnedders>
MikeSmith: I just finished The Third Policeman… That was very… surreal and weird.

[16:02:00.0000] <micheil>
hmm.. anyone know about firefox WS implementation?

[16:02:01.0000] <micheil>
http://github.com/miksago/node-websocket-server/issues#issue/12

[16:02:02.0000] <MikeSmith>
gsnedders: ah, I envy you for having recently read it the first time

[16:02:03.0000] <MikeSmith>
there's only one first time

[16:02:04.0000] <micheil>
if browser gets closed with an open connection, I get back some oddities to what chrome and safari show

[16:03:00.0000] <gsnedders>
MikeSmith: Indeed, it very much seems like a book that will never be the same once you know how it ends.

[16:03:01.0000] <MikeSmith>
yeah

[16:03:02.0000] <MikeSmith>
gsnedders: you should read "At Swim-Two-Birds" next

[16:03:03.0000] <AryehGregor>
I hate things like that.  Because I prefer to just read the same things over and over so I don't have to worry about if they'll be good, and that spoils my strategy.  :(

[16:04:00.0000] <gsnedders>
There again, I can imagine a certain beauty to it another time.

[16:04:01.0000] <gsnedders>
I still want to properly re-read Ada or Ardor

[16:04:02.0000] <gsnedders>
Which I re-read in fragments when writing dissertation on it, but have only properly read through it once

[16:04:03.0000] <gsnedders>
And that has so many beautiful sub-plots running witihn it

[16:07:00.0000] <MikeSmith>
I re-read parts of "At Swim-Two-Birds" all the time

[16:07:01.0000] <MikeSmith>
it's like the Bible

[16:07:02.0000] <MikeSmith>
it should have chapter and verse numbers


2010-07-22
[17:00:00.0000] <abarth>
jgraham: is there an updated dom2string that knows how to print out doctypes better?

[17:00:01.0000] <gsnedders>
abarth: no

[17:01:00.0000] <abarth>
:(

[17:01:01.0000] <abarth>
that makes us fail all the doctype tests

[17:02:00.0000] <gsnedders>
How?

[17:02:01.0000] <gsnedders>
Oh, the tests checking PUBLIC/SYSTEM DOCTYPEs?

[17:03:00.0000] <abarth>
yeah

[17:03:01.0000] <abarth>
looks like they're in the dom

[17:05:00.0000] <gsnedders>
Hmm, I wonder why I didn't notice that before when redoing it

[17:05:01.0000] <gsnedders>
Hmm, is there any way to tell apart missing from empty in the DOM?

[17:06:00.0000] <abarth>
null versus the empty string?

[17:06:01.0000] <abarth>
i'll have an updated version in a second

[17:07:00.0000] <gsnedders>
/me wonders where the most up-to-date public version of that script is

[17:07:01.0000] <MikeSmith>
gsnedders: would hope it'd be in the upstream source repo

[17:08:00.0000] <MikeSmith>
gsnedders: is this about html5lib/

[17:08:01.0000] <MikeSmith>
?

[17:08:02.0000] <gsnedders>
MikeSmith: I don't think the browser runner is there though

[17:08:03.0000] <MikeSmith>
I see

[17:09:00.0000] <abarth>
gsnedders: i think i have it

[17:10:00.0000] <abarth>
gsnedders: i might not have the null / empty thing right since webkit borks that up

[17:13:00.0000] <abarth>
gsnedders: the diff is in here https://bugs.webkit.org/show_bug.cgi?id=42794

[17:18:00.0000] <gsnedders>
abarth: FWIW, I was going to make some changes to the runner

[17:18:01.0000] <gsnedders>
(Mainly removing hacks needed by old versions of the Gecko HTML5 Parser)

[17:21:00.0000] <abarth>
gsnedders: let me know if you upate the runner

[17:21:01.0000] <abarth>
gsnedders: we changed a thing or two so that it prints out all the diffs

[17:21:02.0000] <abarth>
gsnedders: so we can track progressions in more detail

[17:23:00.0000] <gsnedders>
abarth: Also, wrt the copyright notice, Simon Pieters was the original author, and for what I did last year it should probably include Opera Software

[17:44:00.0000] <abarth>
gsnedders: i'm happy to make the copyright notice say whatever you like

[17:45:00.0000] <abarth>
gsnedders: i grabbed the notice from the web site where i got the code

[17:52:00.0000] <gsnedders>
abarth: Um, yeah, I should probably change that. It isn't right for all tests.

[17:53:00.0000] <gsnedders>
(Well, the license is, the copyright year/name is wrong for a few)

[17:55:00.0000] <gsnedders>
/me notices abarth managed to comment before he did :)

[17:55:01.0000] <gsnedders>
abarth: Also: your patch is wrong.

[17:55:02.0000] <gsnedders>
(See my comment)

[17:55:03.0000] <abarth>
my patch is wrong!

[17:55:04.0000] <abarth>
impossible

[17:56:00.0000] <abarth>
all the tests pass :)

[17:56:01.0000] <gsnedders>
Yes, code can still be wrong when the tests pass. Sadly.

[17:56:02.0000] <gsnedders>
/me weeps a thousand tears

[18:30:00.0000] <MikeSmith>
nimbupani: you around?

[18:31:00.0000] <nimbupani>
MikeSmith: yep.

[18:31:01.0000] <MikeSmith>
hey, did you do the design for the html5readiness.com site?

[18:31:02.0000] <nimbupani>
yes :)

[18:31:03.0000] <MikeSmith>
very nice stuff

[18:31:04.0000] <nimbupani>
thanks! :)

[18:32:00.0000] <nimbupani>
paul_irish helped too.

[18:32:01.0000] <MikeSmith>
cool

[18:32:02.0000] <MikeSmith>
well, it's smart for not just the colors and layout, but for the information design

[18:32:03.0000] <nimbupani>
MikeSmith: thank you, have had a lot of people decrying it for information design :(

[18:33:00.0000] <MikeSmith>
yeah, well, everybody loves to second-guess design choices

[18:33:01.0000] <nimbupani>
:)

[18:33:02.0000] <MikeSmith>
but the fact that it lets me toggle a display of yearly progress is a big win for me

[18:34:00.0000] <MikeSmith>
I have used that page recently in some presentations

[18:34:01.0000] <nimbupani>
oh nice! I am glad it was of use!

[18:34:02.0000] <MikeSmith>
showing the year-by-year thing always seems to gets lots of oohs and ahs from the audience

[18:35:00.0000] <nimbupani>
ha ha ha :) yeah I am glad one of the people who saw the first version suggested it!

[18:36:00.0000] <MikeSmith>
I was also thinking about your tweet about lack of diversity of various kinds at conferences

[18:36:01.0000] <nimbupani>
:) yeah my pet peeve :D

[18:37:00.0000] <MikeSmith>
I think I rememeber Chris Messina wrote some about that a couple years back, about lack of gender diversity in particular, iirc

[18:37:01.0000] <nimbupani>
yep. I remember seeing that.

[18:37:02.0000] <nimbupani>
my view is there should be, in general more diversity, not just gender.

[18:37:03.0000] <MikeSmith>
yeah, I read your post about that

[18:38:00.0000] <MikeSmith>
speaking as somebody who organizes events now and then, I can say it's hard to do

[18:38:01.0000] <nimbupani>
MikeSmith: I bet. I know :(

[18:38:02.0000] <nimbupani>
but I think the onus is on the organizers :(

[18:38:03.0000] <nimbupani>
only because the audience does not know better.

[18:39:00.0000] <nimbupani>
but the organizers should :)

[18:39:01.0000] <MikeSmith>
yeah, true -- in my case, like with a lot of things I also just get lazy or rushed and tend to fall back on what takes me the least amount of time and trouble

[18:39:02.0000] <MikeSmith>
anyway, I am trying to help a bit for planning of some events in Japan later this year

[18:40:00.0000] <nimbupani>
MikeSmith: haha status quo wins over all of us!

[18:40:01.0000] <nimbupani>
oh k

[18:40:02.0000] <MikeSmith>
and I am looking for HTML5 presenters

[18:40:03.0000] <MikeSmith>
so if you have specific ideas, lemme know

[18:40:04.0000] <MikeSmith>
either by e-mail (mike⊙wo) here or whatever

[18:41:00.0000] <MikeSmith>
would you be interested yourself in speaking at an event in Japan?

[18:41:01.0000] <nimbupani>
MikeSmith: yes I think I would be :)

[18:41:02.0000] <MikeSmith>
cool

[18:42:00.0000] <nimbupani>
will email you when/if I have ideas. my currently festering idea is to evangelize being curious as a web developer :)

[18:42:01.0000] <MikeSmith>
heh

[18:43:00.0000] <MikeSmith>
curiosity is what a certainly really motivating

[18:43:01.0000] <nimbupani>
instead of depending on other people to do your (= web dev) thinking on what is right and what is not. 

[18:43:02.0000] <MikeSmith>
s/what a //

[18:43:03.0000] <MikeSmith>
nimbupani: yeah

[18:44:00.0000] <nimbupani>
which results in people who say "just use safari"

[18:44:01.0000] <nimbupani>
or "just ignore IE"

[18:44:02.0000] <nimbupani>
or parroting thoughts/myths instead of evaluating 

[18:44:03.0000] <nimbupani>
and puts pressure on browser vendors to implement vendor-prefixes that people find "cool" rather than what is useful.

[18:45:00.0000] <nimbupani>
or in case of Win 7 phone implement support for webkit prefixes :/

[18:45:01.0000] <MikeSmith>
ah yeah

[18:46:00.0000] <nimbupani>
i will email you a draft of a sort-of article I wrote (it is pending publication, so do not want to post it here). 

[18:46:01.0000] <MikeSmith>
yeah, please do

[18:46:02.0000] <MikeSmith>
the topic of "not parroting thoughts/myths instead of evaluating" is certainly something that I think Web designers in Japan in particular would benefit from seeing a presentation on

[18:47:00.0000] <nimbupani>
k sent.

[18:47:01.0000] <nimbupani>
:)

[18:47:02.0000] <MikeSmith>
cheers

[00:25:00.0000] <zcorpan_>
micheil: what oddities? http://krijnhoetmer.nl/irc-logs/whatwg/20100722#l-11

[00:26:00.0000] <micheil>
zcorpan_: see the link below

[00:26:01.0000] <micheil>
I'm going to further test it today

[00:27:00.0000] <zcorpan_>
micheil: how to test this?

[00:28:00.0000] <micheil>
well, first I'm going to see if I get the same result as the bug reporter there

[00:28:01.0000] <micheil>
then I'm going to try and figure out why a high-bit packet is being sent on close

[00:28:02.0000] <micheil>
I'm guessing it's \x00 vs \u0000

[00:29:00.0000] <Hixie>
man, the websockets feedback to the whatwg list is much more useful than the websockets feedback to the hybi list

[00:30:00.0000] <micheil>
Hixie: also, re Sec-WebSocket-Protocol

[00:30:01.0000] <micheil>
should I mail the list about changing from space separated to comma separated, as it's generally commas for other http-type headers

[00:31:00.0000] <micheil>
(plus it means we could theoretically have multiple word subprotocols)

[00:31:01.0000] <micheil>
so, when constructing, rather then doing: Array.prototype.join.call(protocols, " "); it's Array.prototype.join.call(protocols, ", ");

[00:32:00.0000] <Hixie>
what benefit does that give us?

[00:32:01.0000] <micheil>
Sec-WebSocket-Protocol: xmpp, jabber, plaintext

[00:32:02.0000] <micheil>
I think it's just really a better way to write it.

[00:32:03.0000] <Hixie>
the cost is increased complexity (you now have to strip both commas and spaces), there presumably has to be some gain to counteract the cost

[00:33:00.0000] <micheil>
plus it then also directly indicates that it is an array

[00:33:01.0000] <Hixie>
why is it better?

[00:33:02.0000] <micheil>
because, the API interface is then similar to the http interface

[00:33:03.0000] <micheil>
s/http/network

[00:33:04.0000] <Hixie>
that's silly, you're the reason the API interface isn't like the network interface :-P

[00:34:00.0000] <micheil>
hmm, well, anyway, the thing about using ", " was actually mentioned to me by another developer

[00:34:01.0000] <Hixie>
i had it as a space-separated list and you said it should be an array, and now you're saying because it's an array it shouldn't be a space-separated list :-P

[00:34:02.0000] <Hixie>
commas are silly imho

[00:34:03.0000] <Hixie>
i see no advantage

[00:34:04.0000] <micheil>
okay

[00:35:00.0000] <Hixie>
it just makes it more likely that servers will be buggy, e.g. they'll treat spaces before the commas as meaningful, or some such

[00:35:01.0000] <micheil>
so, in DOM Interface, it's now: DOMString | Array, yes?

[00:35:02.0000] <micheil>
or is it just an array full stop?

[00:35:03.0000] <zcorpan_>
Hixie: one advantage (or not?) is that an array stringifies to joining with commas in browsers

[00:36:00.0000] <zcorpan_>
not comma-space, just comma

[00:36:01.0000] <micheil>
the only reason I was given for why that should be changed was because that'd bring it inline with the same format used for, say, the Cookie / Set-Cookie header

[00:37:00.0000] <zcorpan_>
it'd still refuse the connection when the server replies with one of the protocols when the browser expects the whole thing though

[00:37:01.0000] <zcorpan_>
so maybe it's better that the server is able to detect a legacy client earlier and just close the connection

[00:37:02.0000] <Hixie>
micheil: DOMString or Array, yes

[00:37:03.0000] <micheil>
Hixie: okay, good

[00:38:00.0000] <Hixie>
zcorpan_: not sure why comma's easier than spaces?

[00:38:01.0000] <micheil>
zcorpan_: the way I'm currently detecting versions is by checking for various Sec-* headers

[00:38:02.0000] <zcorpan_>
Hixie: not saying it's easier, just saying that existing browsers would stringify ['foo','bar'] to 'foo,bar'

[00:39:00.0000] <zcorpan_>
micheil: i'm talking about -76 vs the version with protocol negotiation

[00:39:01.0000] <micheil>
zcorpan_: ?

[00:39:02.0000] <zcorpan_>
micheil: firefox and chrome dev don't support protocol negotiation

[00:40:00.0000] <zcorpan_>
micheil: if you pass in an array in the second argument, they'll just stringify it

[00:40:01.0000] <micheil>
also, Hixie re zcorpan_ on toString:

[00:40:02.0000] <micheil>
node> ["a","b"].toString()

[00:40:03.0000] <micheil>
'a,b'

[00:40:04.0000] <micheil>
zcorpan_: good point

[00:41:00.0000] <zcorpan_>
micheil: but when the server responds with 'a', the browser will refuse the connection since it's not the expected 'a,b'

[00:41:01.0000] <micheil>
zcorpan_: I'll have to add that to my todo list when writing a protocol / feature test suite.

[00:41:02.0000] <Hixie>
zcorpan_: doesn't much matter, they'd fail when the server responds anyway

[00:41:03.0000] <micheil>
zcorpan_: hmm...

[00:41:04.0000] <zcorpan_>
Hixie: indeed

[00:41:05.0000] <micheil>
zcorpan_: if these are dev versions, then we can always get them patched, no?

[00:42:00.0000] <Hixie>
zcorpan_: in fact that would argue for using spaces, since then the server that really wants to handle the briefly deployed dev versions can just look for commas and return the whole thing

[00:42:01.0000] <zcorpan_>
micheil: might be too late for the next release, although i can only speak for opera of course

[00:42:02.0000] <Hixie>
zcorpan_: that's pretty obscure though

[00:42:03.0000] <micheil>
Hixie: also, what is the value of thisArg in context of ws.onopen or ws.addEventListener("open", fn);

[00:42:04.0000] <micheil>
?

[00:42:05.0000] <zcorpan_>
Hixie: yeah, that's what i said also :)

[00:42:06.0000] <Hixie>
micheil: ws, i guess. See DOM3 Events and WebIDL for details.

[00:43:00.0000] <Hixie>
zcorpan_: k :-)

[00:43:01.0000] <micheil>
Hixie: okay

[00:43:02.0000] <micheil>
zcorpan_: I'll have a look at the current implementation for mozilla, and see if I can provide a patch for it.

[00:43:03.0000] <micheil>
if we can get the spec to back up which ever way we choose to go.

[00:44:00.0000] <micheil>
because the second arg in new WebSocket is fairly new, isn't it?

[00:45:00.0000] <Hixie>
websockets itself is fairly new :-P

[00:45:01.0000] <micheil>
>_>

[00:45:02.0000] <micheil>
y'know what I meant though.

[00:45:03.0000] <zcorpan_>
micheil: well it'd old enough to be implemented in the browsers

[00:46:00.0000] <micheil>
so, has the api gone: WebSocket( url ) => WebSocket( url, protocol )

[00:46:01.0000] <micheil>
or was protocol always there?

[00:46:02.0000] <Hixie>
protocol has been there for ages

[00:46:03.0000] <micheil>
okay

[00:46:04.0000] <Hixie>
(it's optional btw)

[00:46:05.0000] <micheil>
okay, good point

[00:47:00.0000] <Hixie>
you can do spec archeology by poking at svn blame for the source document

[00:47:01.0000] <micheil>
http://svn.whatwg.org/webapps/ is the repo url for the WebSockets stuff, yeah?

[00:47:02.0000] <Hixie>
yah

[00:49:00.0000] <micheil>
hmm.. not sure why I can never seem to checkout a copy of the repo

[00:49:01.0000] <Hixie>
might be too big?

[00:50:00.0000] <micheil>
no, I had a bad flag.

[00:50:01.0000] <micheil>
$ git svn clone -s SVN_REPO_URL LOCAL_DIR

[00:50:02.0000] <Hixie>
the svn repo itself is 671MB

[00:50:03.0000] <micheil>
then there's a subnote in small text about 6 lines below: -s is indicating that the repo has standard trunk/branch/tags structure

[00:50:04.0000] <kennyluck>
 /list

[00:51:00.0000] <micheil>
Hixie: what revision are you up to?

[00:51:01.0000] <Hixie>
r5178

[00:51:02.0000] <micheil>
k

[00:51:03.0000] <micheil>
so I've got about 30 minutes to kill

[00:52:00.0000] <micheil>
I'm getting about 2 rev's / minute

[00:53:00.0000] <micheil>
erm, / second

[00:54:00.0000] <micheil>
Hixie: I'm putting a mirror up at http://github.com/miksago/whatwg-webapps-mirror

[00:55:00.0000] <micheil>
just so that I can easily browse exactly what lines changed and also provide references when quoting changes to other devs.

[00:56:00.0000] <Hixie>
cool

[01:00:00.0000] <jgraham>
abarth: (just reading the backlog) actually I do have a new version of the runner, but it is not released yet. I will see what changes you made

[01:00:01.0000] <abarth>
ok

[01:01:00.0000] <abarth>
i'm told they're not quite right

[01:01:01.0000] <jgraham>
/me blames gsnedders for misleading you :)

[01:01:02.0000] <jgraham>
Well when I say "new version" I mean "I rewrote it from scratch without looking at the previous version"

[01:02:00.0000] <jgraham>
Although I think my rewrite might be more like the way Opera likes things and less like the way Webkit like things

[01:03:00.0000] <jgraham>
(we tend to have one testcase per file rather than lots of tests in a single file. It is slower but nicer if you get crashes or so one)

[01:04:00.0000] <abarth>
oh, that sounds fine

[01:04:01.0000] <abarth>
runner.html is pretty hard to hack on

[01:04:02.0000] <abarth>
the control flow is kind of screwy

[01:05:00.0000] <abarth>
lots of different tests are fine too

[01:05:01.0000] <abarth>
it doesn't really matter

[01:05:02.0000] <abarth>
there are >20k layout tests

[01:05:03.0000] <abarth>
the parser tests aren't a big fraction of the time it takes to run the tests :)

[01:07:00.0000] <jgraham>
Yeah :)

[01:10:00.0000] <micheil>
jgraham: hmm.. the mozilla code base implements an autoclose for nsWebSocket.cpp

[01:12:00.0000] <jgraham>
micheil: You intended that for someone else? 

[01:12:01.0000] <micheil>
no

[01:13:00.0000] <jgraham>
Oh

[01:13:01.0000] <jgraham>
Well I'm not sure what you're telling me then

[01:14:00.0000] <micheil>
okay

[03:18:00.0000] <hsivonen>
othermaciej: the ascii-ref poll has been configured to open in the future, so it's not yet open. Is that intentional?

[03:18:01.0000] <othermaciej>
hsivonen: no; will fix

[03:19:00.0000] <othermaciej>
done

[03:19:01.0000] <othermaciej>
thank you for letting me know

[03:19:02.0000] <hsivonen>
othermaciej: thanks

[03:20:00.0000] <jgraham>
We have a *poll* about ascii-ref?

[03:20:01.0000] <jgraham>
/me mutters

[03:22:00.0000] <Cheery>
I wrote a new toy. could test it in the evening.

[03:23:00.0000] <Cheery>
(again, websocket stuff)

[03:23:01.0000] <hsivonen>
so considering what Hixie said about cache-control pragma, has anyone done research on which meta pragmas are needed for Web compat but aren't in HTML5 already?

[03:23:02.0000] <hsivonen>
it seems to me that IE8 and IE9 don't support cache-control no-cache as a meta. Do I have the right testing result?

[03:24:00.0000] <mcarter>
Cheery, what new toy did you write?

[03:27:00.0000] <othermaciej>
jgraham: I have suggested to my fellow co-chairs that any additional issues which are purely editorial in nature; which have no impact on normative requirements; and which have no specific other reason to be high priority (such as courting needless controversy); should perhaps not be considered blockers for Last Call

[03:28:00.0000] <Cheery>
I hooked json encoder/decoder to the websocket, then I wrote a thing that broadcasts mouse motion events.

[03:28:01.0000] <othermaciej>
jgraham: not sure if I was successful in making the case for this, but I think it is reasonable to still work through the current set of open issues

[03:28:02.0000] <Cheery>
mcarter: and shows that data on the canvas.

[03:28:03.0000] <jgraham>
othermaciej: That sounds sensible

[03:28:04.0000] <hsivonen>
/me wonders how WebKit, Gecko and Presto came to have meta support for caching stuff

[03:29:00.0000] <hsivonen>
that is whether someone implemented it for completeness or for compat

[03:29:01.0000] <mcarter>
Cheery, cool. Does it just show the mouse cursor positions on the canvas, or something else?

[03:34:00.0000] <othermaciej>
all meta support http-equiv we added was for compat, often based on specific bugs reported on sites

[03:34:01.0000] <hsivonen>
othermaciej: thanks.

[03:34:02.0000] <hsivonen>
othermaciej: I guess that means that HTML5 needs to support the caching-related stuff

[03:35:00.0000] <hsivonen>
othermaciej: does WebKit support anything other than charset, caching and refresh?

[03:36:00.0000] <othermaciej>
actually I am not 100% sure all these are needed

[03:37:00.0000] <othermaciej>
but the ones we support include: default-style, refresh, set-cookie, content-language, x-dns-prefetch-control, x-frame-options

[03:37:01.0000] <othermaciej>
(and charset with separate magical code)

[03:38:00.0000] <othermaciej>
I'm not sure we ever added cache-control / pragma support

[03:38:01.0000] <othermaciej>
though I remember it being requested

[03:38:02.0000] <hsivonen>
othermaciej: maybe the test case I'm using is wrong. but it indicates that Chrome and Safari support cache-control no-cache

[03:39:00.0000] <othermaciej>
from casual inspection I do not see code that would do that

[03:39:01.0000] <hsivonen>
interesting

[03:39:02.0000] <hsivonen>
the test is http://landfill.mozilla.org/ryl/meta-cache-control.cgi

[03:40:00.0000] <othermaciej>
pressing enter in the URL field is equivalent to a reload in Safari

[03:40:01.0000] <othermaciej>
so it revalidates

[03:40:02.0000] <othermaciej>
opening the document again in a new tab gets the cached copy

[03:40:03.0000] <hsivonen>
oh

[03:49:00.0000] <hsivonen>
jgraham: is Opera now supposed to support Debian package updating on Ubuntu? Opera itself tells me that a new version is available and I should run the system updater, but the system updater doesn't offer a new Opera build.

[03:50:00.0000] <jgraham>
hsivonen: I am not sure

[03:50:01.0000] <hsivonen>
fwiw, I have the Opera final releases repo disabled and the beta releases repo enabled

[03:51:00.0000] <hsivonen>
I'd expect the beta repo to offer the latest final when a later beta isn't available...

[03:51:01.0000] <jgraham>
I honestly have no idea how our desktop distribution system is supposed to work. It is clearly not simple enough in any case

[03:52:00.0000] <jgraham>
At least on linux

[03:52:01.0000] <hsivonen>
indeed. the only Opera updating workflow that doesn't suck for me is the one on Maemo

[03:52:02.0000] <hsivonen>
Mac, Ubuntu and S60 all suck

[03:53:00.0000] <hsivonen>
Mac: downloads update but doesn't apply it reliably

[03:53:01.0000] <hsivonen>
Ubuntu: see above

[03:54:00.0000] <hsivonen>
S60: To make space, one needs to uninstall previous version and then install the new version. After this, all history, speed dial content and passwords are gone.

[03:55:00.0000] <zcorpan_>
the facebook cross-origin xhr attack made me think if there is a better way to protect against unintended cross-origin xhr than just exposing the origin somewhere for the script to remember to check

[03:55:01.0000] <zcorpan_>
e.g. force setting a property on the xhr object before making the request

[03:56:00.0000] <zcorpan_>
xhr.acceptOrigins = 'http://example.org'

[03:57:00.0000] <hsivonen>
enabling the final release repo in addition to the beta repo makes the update manager offer 10.60 final

[03:57:01.0000] <hsivonen>
I suggest making the beta repo offer than one, too

[04:10:00.0000] <hsivonen>
cool. Opera on Ubuntu now respects my Gnome font antialiasing prefs

[04:10:01.0000] <hsivonen>
tabs on top in Opera don't integrate fully into Ambiance/Radiance, though

[04:10:02.0000] <hsivonen>
visually that is

[04:44:00.0000] <gsnedders>
abarth: (if you see this):  one of the things I aws going to do was make the control flow sane

[04:44:01.0000] <gsnedders>
:)

[05:00:00.0000] <MikeSmith>
Ms2ger: I cc'ed you on the spec bug I filed because iirc you're maintaining the indexes of elements and attributes and events in the spec

[05:04:00.0000] <Ms2ger>
MikeSmith, I wrote the initial versions, but Hixie maintains them

[05:04:01.0000] <MikeSmith>
ok

[05:05:00.0000] <MikeSmith>
well, feel free of course to remove yourself from the Cc

[06:12:00.0000] <Cheery>
http://boxbase.org/fun/netsquares/

[06:13:00.0000] <Cheery>
This far it's only working on chrome 6

[06:13:01.0000] <Cheery>
and possibly, on firefox 4 alpha

[06:14:00.0000] <Cheery>
(though, weren't it possible to support the newer and older draft?)

[06:15:00.0000] <Cheery>
gah. weird behavior. :/

[06:15:01.0000] <Lachy>
Cheery, doesn't work in Chromium

[06:15:02.0000] <Lachy>
or Minefield

[06:15:03.0000] <Lachy>
what is it supposed to do?

[06:15:04.0000] <Cheery>
Lachy: it should show cursor on the screen.

[06:16:00.0000] <Cheery>
with all other cursors of the users connected

[06:17:00.0000] <jgraham>
Cheery: Can't connect to server

[06:17:01.0000] <Cheery>
jgraham: it's disconnected for now. I'm fixing things. :)

[06:18:00.0000] <Cheery>
now. lets try again

[06:18:01.0000] <Lachy>
oh, I see.

[06:19:00.0000] <Lachy>
it works in chromium now.

[06:19:01.0000] <Lachy>
doesn't work in Opera or Firefox

[06:19:02.0000] <Cheery>
opera or firefox tried?

[06:19:03.0000] <Cheery>
just while ago?

[06:20:00.0000] <Rik`>
it kind of works on Firefox

[06:20:01.0000] <Cheery>
well some connection opens, but it yells on data decoding.

[06:20:02.0000] <Rik`>
I see some movements but then I'm disconnected

[06:20:03.0000] <Cheery>
lets see what is going on. :)

[06:20:04.0000] <Cheery>
Rik`: you're likely the source of:

[06:20:05.0000] <Cheery>
TypeError: int() argument must be a string or a number, not 'NoneType'

[06:20:06.0000] <Cheery>
    coords[1] = int(data[1])

[06:21:00.0000] <zdenekkostal>
not connected in Opera 10.60 (about 1 minute ago)

[06:21:01.0000] <Lachy>
Cheery, is it using websockets?

[06:21:02.0000] <Rik`>
maybe :)

[06:21:03.0000] <Lachy>
/me could look at the source, but too lazy

[06:21:04.0000] <Cheery>
http://boxbase.org/fun/netsquares/netsquares.js

[06:22:00.0000] <Cheery>
http://boxbase.org/fun/netsquares/server.py

[06:22:01.0000] <micheil_away>
hey, Rik` there was talk earler today about the multiple protocols in the DOM api & protocol negotiation early, what's the chances of this landing in FF4?

[06:22:02.0000] <Rik`>
micheil_away: I haven't followed that, do you have pointers ?

[06:24:00.0000] <micheil_away>
yeah, there's been a DOM api change: WebSocket( DOMString, [ DOMString | Array ] )

[06:24:01.0000] <micheil_away>
the second argument being the protocols

[06:25:00.0000] <Cheery>
okay. I did a change, just waiting for port to get freed

[06:25:01.0000] <micheil_away>
then when the server responds, it picks one of the protocols, which were sent in the handshake as a (i think we agree ) comma separated list

[06:25:02.0000] <micheil_away>
so, Sec-WebSocket-Protocol: protoA,protoB,protoC

[06:25:03.0000] <Cheery>
Rik`: could you try it out again?

[06:26:00.0000] <Cheery>
micheil_away: so the accepted protocol is returned back in onopen ?

[06:26:01.0000] <micheil_away>
Rik`: then the server would respond with something like: Sec-WebSocket-Protocol: protoA

[06:27:00.0000] <micheil_away>
the accepted protocol is then stored as a DOMString as a property of the WebSocket object / instance

[06:27:01.0000] <micheil_away>
so, ws.protocol = DOMString, following the previous example, ws.protocol = "protoA"

[06:27:02.0000] <Cheery>
Rik`: it seems now it's working on you?

[06:28:00.0000] <Cheery>
hmm..

[06:28:01.0000] <Cheery>
YAY!

[06:28:02.0000] <Rik`>
Cheery: yep

[06:28:03.0000] <Cheery>
message was: '["move",null,null]'

[06:28:04.0000] <Rik`>
the mouse moves are really fast sometimes so I'm not sure it's working perfectly but it's ok

[06:29:00.0000] <Cheery>
they are quite fast

[06:30:00.0000] <Rik`>
micheil_away: those changes are one day old, right ?

[06:30:01.0000] <Cheery>
I wonder what the heck passes me null,null JSON: :)

[06:30:02.0000] <micheil_away>
I think so, not sure on the commas one yet.

[06:31:00.0000] <Rik`>
micheil_away: then I think we want to implement it, but there's not a bug open about that yet

[06:31:01.0000] <micheil_away>
Hixie: could you give a definitive answer?

[06:31:02.0000] <Cheery>
there comes many of them at once when someone drives the mouse over the canvas.

[06:32:00.0000] <Cheery>
offsetX, offsetY.. does every browser provide those with mousemove -event?

[06:32:01.0000] <jgraham>
hsivonen: I just added a simple script to html5lib tests directory that converts tokenizer tests to treebuilder-style tests (basically parses the input in html5lib and dumps the output)

[06:33:00.0000] <jgraham>
Dunno if that is of interest to you

[06:33:01.0000] <hsivonen>
jgraham: cool. thanks

[06:34:00.0000] <micheil_away>
Rik`: so far I can see the multiple protocols there, which have been in for a few days

[06:34:01.0000] <micheil_away>
as for the change in the header format, not yet.

[06:34:02.0000] <Cheery>
 hmm.

[06:34:03.0000] <Cheery>
I feel it was enough testing out. :)

[06:34:04.0000] <jgraham>
hsivonen: (of course if html5lib is buggy, the generated tests will be buggy too. But you can always check if html5lib passes the tests at the tokenizer level)

[06:38:00.0000] <Cheery>
anyway. the chromium 5 (which is using older protocol), is still having troubles running my app.

[06:38:01.0000] <Cheery>
the only trouble is that ubuntu is providing chromium 5 but not chromium 6 :E

[06:39:00.0000] <Cheery>
should I still implement the support for that older protocol too?

[06:40:00.0000] <Cheery>
even if it all is just drafts.

[06:40:01.0000] <hsivonen>
Cheery: the sooner the old protocol is forgotten, the better

[06:46:00.0000] <Cheery>
I wonder about communicating through TCP. JSON is all right but I wonder whether there'd be more compact data transfer language.

[06:46:01.0000] <Philip`>
How much bandwidth are you currently using?

[06:47:00.0000] <Cheery>
I don't know. though that last web app worked just fine with few users it had. :)

[06:47:01.0000] <Philip`>
You should probably measure that before thinking about how to optimise it :-)

[06:48:00.0000] <Cheery>
well yeah. though I'd still like more compact language for data transfer. ;)

[06:48:01.0000] <micheil_away>
Cheery: I had feedback from another developer that just doing the JSON.stringify / JSON.parse was enough latency to make things slow

[06:49:00.0000] <micheil_away>
(this was an app sending a packet every mouse move)

[06:49:01.0000] <Cheery>
yes it was.

[06:49:02.0000] <Cheery>
though I see it worked all right. :)

[06:50:00.0000] <micheil_away>
?

[06:50:01.0000] <micheil_away>
this developer actually switched to some comma separated custom protocol

[06:50:02.0000] <Cheery>
my app was sending mouse move packets too.

[06:50:03.0000] <micheil_away>
Cheery: other question: do you need every mousemove packet?

[06:51:00.0000] <micheil_away>
or can you set a "

[06:51:01.0000] <micheil_away>
frame rate"

[06:51:02.0000] <Cheery>
well that were just a tryout.

[06:51:03.0000] <micheil_away>
okay

[06:51:04.0000] <Cheery>
http://boxbase.org/fun/knights/ <- I've got this thing, which I plan to transform into a multiplayer platformer.

[06:52:00.0000] <micheil_away>
http://remysharp.com/2010/07/21/throttling-function-calls/ may help

[06:53:00.0000] <Cheery>
micheil_away: hehe. I weren't doing that. :)

[06:53:01.0000] <micheil_away>
k

[06:54:00.0000] <Cheery>
Since I've got continuous access to server, I don't need to do throttling.

[06:54:01.0000] <micheil_away>
well, depends

[06:54:02.0000] <micheil_away>
there is a need at times where it makes sense

[06:54:03.0000] <Cheery>
there's one worse issue, but I could only fix it by using datagram packets.

[06:55:00.0000] <micheil_away>
for instance, rather then sending 600 packets for a movement of 600px, you could get away with sending 300 or 150 packets, and then doing client side animation.

[06:55:01.0000] <Cheery>
TCP must absolutely send every damn packet that is requested to be sent.

[06:56:00.0000] <micheil_away>
true, where as UDP is very much fire and forget

[06:56:01.0000] <micheil_away>
doesn't have quite the same packet encoding overhead

[06:56:02.0000] <micheil_away>
less headers, etc.

[06:58:00.0000] <Cheery>
the \x00 \xff -thing..

[06:58:01.0000] <micheil_away>
that'd be very low.

[06:59:00.0000] <micheil_away>
I don't think that'd have much effect

[06:59:01.0000] <Cheery>
is that coming from the websocket protocol or is it the thing of TCP?

[06:59:02.0000] <micheil_away>
\x00 \xff is from the Websocket protocol

[07:00:00.0000] <karlushi>
*sigh* http://en.akihabaranews.com/54850/e-book/sharp-isalso-working-on-e-books-tech

[07:00:01.0000] <karlushi>
> Sharp new big e-Book thingy is their latest e-Book platform and e-Book format called here XMDF or ever-eXtending Mobile Document Format.

[07:00:02.0000] <karlushi>
> Sharp is here developing its own format based on XMDF

[07:01:00.0000] <Cheery>
micheil_away: because of \x00 and \xff, one won't be able to encode numbers in little endian.

[07:02:00.0000] <micheil_away>
I'm not sure on that.

[07:02:01.0000] <micheil_away>
another question for Hixie / HyBi

[07:03:00.0000] <Cheery>
though it'd be maybe good for the data to be in non-binary form when sent.

[07:04:00.0000] <Cheery>
for example, one could use base16 or base32 or base64 -numbers.

[07:05:00.0000] <Philip`>
Cheery: The protocol has length-prefixed binary frames

[07:05:01.0000] <Philip`>
which avoids the need for escaping

[07:06:00.0000] <Cheery>
Philip`: they're late addition?

[07:06:01.0000] <Cheery>
how do I enable those?

[07:06:02.0000] <Philip`>
They're not supported yet

[07:06:03.0000] <Philip`>
They're just there for compatibility with a future version that will support binary data

[07:07:00.0000] <Cheery>
good

[07:07:01.0000] <Cheery>
now I can use hexadecimals and then return on little endian representation when useful

[07:07:02.0000] <jgraham>
I wish someone would explain that to the people on the hybi list

[07:08:00.0000] <Philip`>
(I think the idea was that current servers will just skip those frames)

[07:08:01.0000] <jgraham>
They insist that websockets has refused to add binary frames

[07:09:00.0000] <jgraham>
Which is quite untrue; there is a clear timetable ("as soon as browsers support binary data")

[07:13:00.0000] <Cheery>
XsBddatatext herei9abcl9abcdef0, where \x00 and \xff not supported in strings.

[07:14:00.0000] <Cheery>
jgraham: browsers do not support binary data?

[07:15:00.0000] <jgraham>
Cheery: Not in javascript

[07:16:00.0000] <jgraham>
(I mean you can use strings of course, but it is painful)

[07:17:00.0000] <Cheery>
I guess I'll put my protocol to throw flat strings and integers for now. Could put in floating points and such, but they aren't necessary.

[07:21:00.0000] <hsivonen>
"However, it has been used successfully in a small number of internal business applications (also known as ‘dark matter’)."

[07:26:00.0000] <Cheery>
so. now I specified a protocol I can use before they'll come up with a real binary data.

[07:26:01.0000] <Cheery>
I'll encode strings and integers for now.

[07:27:00.0000] <Cheery>
picking character at once.

[07:28:00.0000] <Cheery>
if it's a character in '123456789', read the next characters as hexadecimal and treat it as an integer

[07:28:01.0000] <Cheery>
but..

[07:29:00.0000] <Cheery>
if it's a character in 'abcdefghi', read the next characters as hexadecimal, and take that count of string in the next characters.

[07:32:00.0000] <Cheery>
I may or may not provide 4 characters to mark up the protocol action.

[07:32:01.0000] <Cheery>
so it's like RPC. :)

[07:47:00.0000] <Cheery>
hm.. I wonder how websocket handles UTF-8

[07:48:00.0000] <Philip`>
It doesn't handle UTF-8, it just handles Unicode text

[07:48:01.0000] <Philip`>
(which it handles by encoding as UTF-8)

[07:50:00.0000] <Cheery>
or hmm.. maybe I'll just resort to JSON: :)

[07:51:00.0000] <Cheery>
that's less error-prone.

[07:53:00.0000] <jgraham>
Yes, it seems simple unless you really need something else for e.g. perf. reasons

[07:54:00.0000] <Cheery>
well the thing is. if someone needs performance, there's no point using websockets. He'll need UDP. :)

[07:55:00.0000] <Philip`>
Depends how much performance they need

[07:55:01.0000] <Philip`>
and whether they are able to cope with packet loss

[08:40:00.0000] <hsivonen>
Interesting. Opera 10.53 on Windows tried to put tabs to the right of the app menu in order to save space, but Opera 10.60 puts the tabs under the menu

[08:41:00.0000] <hsivonen>
yet, in Opera 10.60, the trash icon doesn't go under the three OS window buttons although it would now fit there

[08:41:01.0000] <hsivonen>
deliberate or bug?

[08:41:02.0000] <hsivonen>
if deliberate, what convinced Opera no longer to try to compress the title bar and the tab bar as much as in 10.53?

[08:48:00.0000] <jgraham>
hsivonen: No idea. My 10.60 on Linux looks like you describe 10.53 as looking afaict

[08:53:00.0000] <hsivonen>
jgraham: whoa. For me on Ubuntu, Opera has never tried to compress the title bar and the tab bar

[08:53:01.0000] <hsivonen>
presumably because the window manager owns the title bar

[08:53:02.0000] <hsivonen>
and on Linux, the trash icon goes all the way to the right for me

[08:53:03.0000] <jgraham>
Oh

[08:54:00.0000] <jgraham>
I think I misunderstood your description

[08:54:01.0000] <jgraham>
I still have the system title bar

[08:54:02.0000] <hsivonen>
on Ubuntu, the tabs are to the right of the app menu, but the app menu isn't in the title bar

[08:55:00.0000] <jgraham>
(but then I even have that in Chromium where I had to turn it back on explicitly iirc)

[08:55:01.0000] <hsivonen>
while in 10.53 on Windows, the app menu was in the title bar *and* the top of the tab bar went into the title bar and to the right of the menu

[08:56:00.0000] <hsivonen>
Chrome doesn't integrate well with Radiance or Ambiance

[08:56:01.0000] <hsivonen>
it's even worse than it used to be with Human

[08:57:00.0000] <hsivonen>
Firefox isn't perfect, either: https://bugzilla.mozilla.org/show_bug.cgi?id=580970

[08:58:00.0000] <hsivonen>
/me notes that Opera 10.60 fixed the scrollbar appearance on Gnome, which is nice

[08:58:01.0000] <hsivonen>
Chrome still has ugly scrollbars

[08:58:02.0000] <daedb>
hsivonen: The trash can does go under the os window buttons in 10.60 (on Windows), at least for me.

[08:59:00.0000] <hsivonen>
daedb: interesting. for me it doesn't. neither on Windows 7 nor on XP

[08:59:01.0000] <Workshiva>
Can you get chrome to show stacktraces in js console?

[09:00:00.0000] <daedb>
hsivonen: I'm still on Vista, but I don't think its' supposed to be different in Vista and 7 so I dunno what's going on here :)

[09:01:00.0000] <hsivonen>
fwiw, my Windows 7 is running without D3D, so I have non-glass window decorations

[09:03:00.0000] <daedb>
Maybe that's the difference then, since I have glass on.

[09:11:00.0000] <boblet>
hey all, does anyone have an opinion on my use of <mark> to wrap in-document permalink #s? e.g. hover over any of the section titles: http://oli.jp/2009/html5-faq/

[09:13:00.0000] <Lachy>
boblet, that doesn't seem like the intended purpose of <mark>

[09:16:00.0000] <boblet>
Lachy: yeah, I’m wondering myself. however it’s not text that is important, is highlighted for reference purposes, and is only relevant when you want a chapter permalink to copy

[09:16:01.0000] <boblet>
hrm

[09:17:00.0000] <Lachy>
I think you're stretching the meaning well beyond any intended meaning.

[09:17:01.0000] <boblet>
ideally I’d add them via generated content, but no code in gen content & I don’t want to link the whole heading

[09:18:00.0000] <boblet>
Lachy: hehe, it happens when you think about stuff too much (at least for me)

[09:18:01.0000] <boblet>
Lachy: thanks for your input

[09:19:00.0000] <Lachy>
the problem is that those links aren't generally any more relevant in that context, than any other link on the page.

[09:19:01.0000] <Lachy>
and so marking them doesn't really serve a useful purpose to the user

[09:20:00.0000] <boblet>
I was treating the relevance as action- rather than information-specific (the action of getting a permalink)

[09:20:01.0000] <boblet>
good point

[09:21:00.0000] <Lachy>
no, mark is dependant on the informational context, not the user's current input action.

[09:21:01.0000] <boblet>
I wonder how others usually do this — should check Joe Clark’s site I guess

[09:23:00.0000] <boblet>
Lachy: how would you expose section or comment permalinks? just using <a> huh?

[09:23:01.0000] <Lachy>
I've seen similar things done on other sites just using <a href="#" class="...">¶</a>

[09:25:00.0000] <Lachy>
boblet, e.g. http://www.tbray.org/ongoing/When/201x/2010/07/13/Lock-Free-Array-Update

[09:25:01.0000] <boblet>
yeah

[09:26:00.0000] <boblet>
thinking too much again. harumph

[09:29:00.0000] <AryehGregor>
Why aren't hidden form controls barred from constraint validation?

[09:30:00.0000] <zcorpan_>
hidden how?

[09:36:00.0000] <AryehGregor>
With the hidden attribute.

[09:37:00.0000] <zcorpan_>
i think that was discussed on the list a few weeks or months ago

[09:39:00.0000] <zcorpan_>
if we make hidden="" make it barred, then people can do silly stuff like <input type=url hidden style=display:inline>

[09:39:01.0000] <zcorpan_>
maybe it's better to have a separate attribute

[09:47:00.0000] <foolip>
Does anyone else remember seeing a JavaScript WebSRT parser the last few weeks?

[09:47:01.0000] <foolip>
Can I have dreamt it? Surely my dreams aren't that boring!

[09:48:00.0000] <jgraham>
foolip: Clearly it's a sign that you should write one

[09:49:00.0000] <foolip>
meh, I remember thinking "great, now I don't have to write one"

[09:50:00.0000] <jgraham>
Well dreams often make reality diaappointing

[09:50:01.0000] <jgraham>
sigh

[09:50:02.0000] <jgraham>
disappointing

[09:53:00.0000] <foolip>
gah, now searching for it turns up my own questions about it

[09:53:01.0000] <foolip>
next time what I just wrote here I guess :)

[09:53:02.0000] <Philip`>
Maybe http://www.storiesinflight.com/js_videosub/index.html ?

[09:54:00.0000] <jgraham>
http://www.delphiki.com/html5/video/ mentions WebSRT support too

[09:55:00.0000] <foolip>
jgraham, yes, I just found that one

[09:56:00.0000] <foolip>
delphiki is a regex parser

[09:57:00.0000] <foolip>
http://www.storiesinflight.com/js_videosub/includes/videosub-0.9.5.js is doing string splitting

[09:58:00.0000] <foolip>
so still none using the tokenizer+parser model in the spec

[10:00:00.0000] <Philip`>
People writing parsers with a few lines of regexps instead of implementing the 126-step algorithm in the spec?

[10:01:00.0000] <Philip`>
I am shocked

[10:01:01.0000] <foolip>
so did I

[10:01:02.0000] <foolip>
but I want the parser in the spec so I can compare it to e.g. the mplayer parser and leave spec feedback

[10:06:00.0000] <Philip`>
Looks like it should be straighforward but really boring to implement

[10:06:01.0000] <foolip>
exactly, so why won't someone else do it for me :)

[10:12:00.0000] <zcorpan_>
something for a summer intern

[10:26:00.0000] <jgraham>
It would be a bit easier if Hixie didn't use goto everywhere

[10:30:00.0000] <Philip`>
You just need to mentally decompile it into pseudocode, and then it's much easier to understand

[10:31:00.0000] <Philip`>
(Structured pseudocode with loops, in particular)

[10:31:01.0000] <jgraham>
Yeah, but there's no good reaon it couldn't start out that way

[10:34:00.0000] <Philip`>
That probably would help, at least for people who appreciate Dijkstra's advice, i.e. everyone in the world

[10:35:00.0000] <Philip`>
It's nice if you can look at a line in the algorithm and statically determine "how might I have got here?"

[11:39:00.0000] <dandaman>
so im working on this site where a lot of the time clicking a button will hide and then reveal another table(using inline styles with javascript)

[11:39:01.0000] <dandaman>
the problem is, everytime i do that, the table its on keeps getting resized

[11:39:02.0000] <dandaman>
to fit the new content

[11:39:03.0000] <dandaman>
which is fine

[11:39:04.0000] <dandaman>
but i'd rather it not change around, is there a way to make it fit the largest thing that will be shown without setting the overall table to a set amount of pixels

[11:40:00.0000] <dandaman>
(the largest thing begins hidden)

[11:40:01.0000] <TabAtkins>
No.

[11:40:02.0000] <TabAtkins>
You have to do measurements and set the size explicitly for that use-case.

[11:40:03.0000] <dandaman>
not the answer i was looking for, but if it isnt possible then sad face

[11:40:04.0000] <dandaman>
thanks though

[11:41:00.0000] <TabAtkins>
np

[11:41:01.0000] <dandaman>
problem is, its for a mobile page so the pixel size is going to be different every time

[11:41:02.0000] <TabAtkins>
You can duplicate the content in something off-screen and measure it there.

[11:56:00.0000] <dandaman>
TabAtkins: have any idea about the touchstart and touchend events for mobile browsers?

[12:05:00.0000] <TabAtkins>
Nope.

[12:36:00.0000] <gsnedders>
Dojo 1.5 is out. I guess I should rejoice.

[12:39:00.0000] <dandaman>
can anyone recommend me an html5 tutorial?

[12:39:01.0000] <miketaylr>
sure

[12:39:02.0000] <TabAtkins>
What are you looking to learn, specifically?

[12:40:00.0000] <dandaman>
making stuff look good, like buttons that look like tabs through random borders

[12:40:01.0000] <dandaman>
transitioning between pages

[12:40:02.0000] <dandaman>
(preferably slide transitions since this site will be on mobile phones)

[12:40:03.0000] <TabAtkins>
Those have next to nothing to do with HTML5.  ^_^

[12:40:04.0000] <dandaman>
i thought they were related

[12:40:05.0000] <dandaman>
what do they have to do with?

[12:40:06.0000] <TabAtkins>
CSS, and general web design.

[12:40:07.0000] <dandaman>
so i should be looking into a css3 tutorial

[12:41:00.0000] <dandaman>
right?

[12:41:01.0000] <miketaylr>
CSS transitions?

[12:49:00.0000] <dandaman>
miketaylr: tes

[12:49:01.0000] <dandaman>
yes*

[12:49:02.0000] <miketaylr>
dandaman: opera has some good resources, i.e. http://dev.opera.com/articles/view/css3-transitions-and-2d-transforms/

[12:49:03.0000] <dandaman>
thanks

[12:54:00.0000] <Cheery>
anyone tried music synthesis on javascript?

[12:54:01.0000] <Cheery>
(the audio plugin has been around a while, so I wonder.. why not?)

[12:59:00.0000] <paul_irish>
Cheery: http://weblog.bocoup.com/web-audio-all-aboard  and http://weblog.bocoup.com/worlds-1st-html-audio-generated-music

[13:02:00.0000] <Cheery>
Wth? he doesn't even have samples?

[13:04:00.0000] <paul_irish>
i'm sure there are samples linked but the problem is you need a custom build of firefox as this is all an experimental API

[13:04:01.0000] <paul_irish>
http://www.w3.org/2005/Incubator/audio/ is the group where they are doing work on this front

[13:05:00.0000] <Cheery>
okay.

[13:05:01.0000] <Cheery>
that's a bit more than what I thought about.

[13:05:02.0000] <Cheery>
but it's all right.

[13:06:00.0000] <Cheery>
web is slowly getting there where C64 already were.

[13:06:01.0000] <Cheery>
;P

[13:17:00.0000] <AryehGregor>
Okay, so the spec says that this should fail to submit: data:text/html,<!doctype html><body onload="document.getElementById('a').value='foo'"><form><input id=a maxlength=2><input type=submit></form>

[13:17:01.0000] <AryehGregor>
And this: data:text/html,<!doctype html><form><input id=a><input type=submit></form><a href="" onclick="document.getElementById('a').maxLength = 2; return false">Enter "foo" into the input, click here, then try to submit</a>

[13:17:02.0000] <AryehGregor>
Opera submits anyway, and this seems best for back-compat.

[13:17:03.0000] <AryehGregor>
Chrome doesn't submit, per spec, and has seemingly gotten at least one complaint.

[13:27:00.0000] <wirepair>
works in firefox

[13:27:01.0000] <wirepair>
appends a ? to the end of the url too

[13:27:02.0000] <AryehGregor>
Firefox doesn't implement HTML5 forms, so, yeah.

[13:28:00.0000] <wirepair>
ah.

[13:28:01.0000] <AryehGregor>
It will submit in all legacy browsers.

[13:28:02.0000] <AryehGregor>
(At least, as far as I know, no release version of Firefox up to and including Firefox 4.0 beta implements HTML5 form *validation*.)

[13:33:00.0000] <gsnedders>
It'd be nice to have a collected IDL in an appendix.

[13:35:00.0000] <gsnedders>
Hixie: "An error occured while submitting your comment. Please let ian⊙hc know."

[13:35:01.0000] <Hixie>
what section?

[13:36:00.0000] <gsnedders>
Nothing in error log, so nothing more to say.

[13:36:01.0000] <gsnedders>
#index

[13:36:02.0000] <Hixie>
people keep getting errors but i can't work out why

[13:36:03.0000] <gsnedders>
This is in multipage

[13:37:00.0000] <Hixie>
oh i see why

[13:37:01.0000] <Hixie>
you don't have a bugzilla account

[13:37:02.0000] <gsnedders>
Uh, yes I do.

[13:37:03.0000] <Hixie>
ok, it isn't geoffers⊙gc

[13:37:04.0000] <gsnedders>
That is true

[13:38:00.0000] <Hixie>
i should find a way to handle that case

[13:39:00.0000] <Hixie>
(it's trying to cc you but failing)

[13:39:01.0000] <Hixie>
i wonder if that's what other people have run into

[13:40:00.0000] <AryehGregor>
Is it supposed to use your Bugzilla account somehow?  It always files me as WHATWG Contributor.

[13:41:00.0000] <Hixie>
it cc's your account if you're logged in to the spec's system

[13:47:00.0000] <Hixie>
gsnedders: try again?

[13:49:00.0000] <gsnedders>
Hixie: You now haev another bug :)

[13:49:01.0000] <Hixie>
it worked? cool

[13:49:02.0000] <Hixie>
thanks

[13:49:03.0000] <Hixie>
i made it so it looks for the message about not knowing the e-mail address and if it sees it just tries again without ccing you

[13:49:04.0000] <gsnedders>
Hixie: Now, go and fix the other bug :P

[13:49:05.0000] <Hixie>
websocket first

[14:15:00.0000] <MikeSmith>
GPHemsley: you gave me a heads-up a while back that some of the circled-i links from http://dev.w3.org/html5/markup/ back to the HTML5 spec were broken

[14:16:00.0000] <MikeSmith>
fwiw, I've fixed them all now

[14:27:00.0000] <volkmar>
i saw a tweet from @html5 about spec links for forms attributes but it looks like the link is broken

[14:27:01.0000] <volkmar>
or i'm missing something

[14:29:00.0000] <Philip`>
volkmar: http://twitter.com/html5/status/19280941985 ?

[14:29:01.0000] <Philip`>
MikeSmith: ^

[14:30:00.0000] <volkmar>
Philip`: yep, i got "sorry not found"

[14:30:01.0000] <MikeSmith>
hmm

[14:30:02.0000] <Philip`>
I guess the list archive might just be slow

[14:31:00.0000] <MikeSmith>
I have had the same problem with other mail-archive links recently

[14:31:01.0000] <jgraham>
Hixie: I see what you mean about HyBi being quiet until you post... alhough I suppose it could be a coincidence (since the volume was picking up a bit over the last few days)

[14:31:02.0000] <MikeSmith>
I will let the W3C systems team know

[14:31:03.0000] <jgraham>
(but today has been absurd)

[14:34:00.0000] <MikeSmith>
volkmar: all of the twitter @html5 links go to here:

[14:34:01.0000] <MikeSmith>
to individual messages here:

[14:34:02.0000] <MikeSmith>
http://lists.w3.org/Archives/Public/public-html-diffs/latest

[14:35:00.0000] <volkmar>
MikeSmith: ok, thanks

[14:36:00.0000] <MikeSmith>
volkmar: btw, do you know if there's been any discussion at Mozilla yet about implementing the HTML5 context-menu feature?

[14:36:01.0000] <MikeSmith>
http://dev.w3.org/html5/spec/interactive-elements.html#context-menus I mean

[14:37:00.0000] <volkmar>
MikeSmith: not i've heard of

[14:37:01.0000] <volkmar>
but i'm surely not the person to ask

[14:37:02.0000] <volkmar>
i'm mostly working on forms

[14:38:00.0000] <MikeSmith>
volkmar: is there a master page at the mozilla wiki that lists implementation status/plans for features-yet-unimplemented

[14:38:01.0000] <MikeSmith>
i mean, like your forms-feature page

[14:40:00.0000] <volkmar>
MikeSmith: the best way to know that is bugzilla

[14:40:01.0000] <volkmar>
https://bugzilla.mozilla.org/buglist.cgi?query_format=advanced&short_desc=context-menu&short_desc_type=casesubstring&resolution=---&resolution=DUPLICATE

[14:41:00.0000] <volkmar>
https://bugzilla.mozilla.org/buglist.cgi?query_format=advanced&short_desc=context-menu&bug_status=UNCONFIRMED&bug_status=NEW&bug_status=ASSIGNED&short_desc_type=casesubstring&resolution=---

[14:41:01.0000] <volkmar>
^ this one is better

[14:41:02.0000] <volkmar>
so, i would say no one is working on it

[14:41:03.0000] <MikeSmith>
cool

[14:41:04.0000] <MikeSmith>
thanks

[14:41:05.0000] <MikeSmith>
yeah

[14:42:00.0000] <MikeSmith>
I do see this, though -

[14:42:01.0000] <Hixie>
jgraham: it's happened three or four times

[14:42:02.0000] <MikeSmith>
https://bugzilla.mozilla.org/show_bug.cgi?id=578849

[14:42:03.0000] <MikeSmith>
volkmar: Google Chrome team seems to also be working on a context-menu API

[14:43:00.0000] <MikeSmith>
it makes me wonder if developers are browser projects are actually aware of the context-menu feature already in HTML5

[14:43:01.0000] <Hixie>
uri?

[14:44:00.0000] <MikeSmith>
/me realize that bug is for a jetpack feature

[14:44:01.0000] <Hixie>
yeah

[14:44:02.0000] <MikeSmith>
Hixie: will look now

[14:44:03.0000] <Hixie>
i don't think that's web-facing

[14:44:04.0000] <TabAtkins>
Hixie: We have a context-menu API for Chrome Extensions.

[14:44:05.0000] <Hixie>
sure, but that's not web-facing either

[14:44:06.0000] <othermaciej>
is HTML5's built-in context menu support not good enough for Chrome Extensions?

[14:44:07.0000] <MikeSmith>
/me was going to say, about the Chrome thing, I think TabAtkins is on top of it already

[14:45:00.0000] <othermaciej>
we are considering just using the HTML5 feature for Safari Extensions but if it's not going to be good enough we may as well invent our own thing too

[14:45:01.0000] <MikeSmith>
othermaciej: from what I've seen of the Chrome Extensions context-menu API so far, it looks like it could be done using what's in the HTML5 spec instead

[14:46:00.0000] <MikeSmith>
but maybe TabAtkins has some feedback from the dev team about why it may not actually be

[14:46:01.0000] <dglazkov>
aboodman: ^^^

[14:47:00.0000] <dglazkov>
aboodman: <-- can tell you _everything_

[14:48:00.0000] <MikeSmith>
/me is anxious to hear from aboodman 

[14:49:00.0000] <MikeSmith>
anyway, if what's in the HTML5 spec is not sufficient, it'd seem like a way to address that would be for implementors to provide some feedback to help make it sufficient

[14:50:00.0000] <Hixie>
yeah

[14:50:01.0000] <MikeSmith>
especially given the fact that we already know a lot of stuff that starts out not-web-facing eventually does become web-facing

[14:50:02.0000] <MikeSmith>
e.g., stuff starting out only in XUL etc.

[14:53:00.0000] <MikeSmith>
/me reads "Please disallow "javascript:" URLs in browser address bars" message

[14:55:00.0000] <MikeSmith>
btw, the W3C mailing-list-archive Archived-At: http://www.w3.org/mid/ thingy appears to be broken at the moment 

[15:03:00.0000] <TabAtkins>
MikeSmith: (re: non-web-facing stuff migrating to web-facing) Indeed, especially since Chrome Extensions are only *barely* not web-facing - they're just web pages that are given access to a few specialized js apis.

[15:12:00.0000] <MikeSmith>
TabAtkins: yep

[15:43:00.0000] <zcorpan_>
Hixie: thanks for addressing websocket feedback

[15:46:00.0000] <Lachy>
nice security bug in Safari http://jeremiahgrossman.blogspot.com/2010/07/i-know-who-your-name-where-you-work-and.html

[15:46:01.0000] <AryehGregor>
You'd think people'd be more careful when implementing such obviously security-sensitive stuff.  :/

[16:18:00.0000] <Hixie>
zcorpan_: np

[16:32:00.0000] <JonathanNeal>
What's a good website to run outliner on?

[16:32:01.0000] <TabAtkins>
Try html5doctor.com

[16:34:00.0000] <JonathanNeal>
Excellent, that will help me debug.  Thank you.

[16:37:00.0000] <zcorpan_>
wonder if i should point willy to the whatwg wiki

[16:43:00.0000] <Hixie>
zcorpan_: for what?

[16:43:01.0000] <JonathanNeal>
woot http://sandbox.thewikies.com/html-templates/outliner.php?url=http://html5doctor.com

[16:44:00.0000] <micheil>
Hixie: would it be an idea for the websocket protocol spec to have it's version incremented to draft77, as to avoid any confusion between 76 (which is in chrome 5), and > 76

[16:45:00.0000] <Hixie>
it's version is r5190

[16:45:01.0000] <micheil>
or would it be possible to introduce a Sec-WebSocket-Version, which indicates what version of the protocol is supported?

[16:45:02.0000] <Hixie>
76 is out of date

[16:45:03.0000] <Hixie>
loooong out of date

[16:45:04.0000] <micheil>
as there's no other way to detect

[16:45:05.0000] <Hixie>
there's only one version

[16:45:06.0000] <Hixie>
nothing to detect

[16:45:07.0000] <micheil>
okay, well, yeah

[16:46:00.0000] <micheil>
but there are various versions in various browsers

[16:46:01.0000] <Hixie>
(s/it's/its/)

[16:46:02.0000] <Hixie>
(yikes)

[16:46:03.0000] <Hixie>
well, sure

[16:46:04.0000] <Hixie>
but they'll go away

[16:46:05.0000] <micheil>
eg 75 in Safari 5 and 76 in latest chrome

[16:46:06.0000] <Hixie>
doesn't help anyone if i add Sec-WebSocket-Version today for that problem

[16:47:00.0000] <Hixie>
and you can easily distinguish the two if you really want to support safari 5

[16:47:01.0000] <Hixie>
just look at what headers it has

[16:47:02.0000] <micheil>
well, we can already switch 75 and 76 based on the Sec-* headers

[16:47:03.0000] <micheil>
but for > 76 like, r5190, we can't do that.

[16:47:04.0000] <Hixie>
*shrug*

[16:47:05.0000] <micheil>
and as r5190 isn't yet implemented by a client, it would be possible to add a Sec-WebSocket-Version

[16:47:06.0000] <Hixie>
the idea is for there to be a single version

[16:48:00.0000] <micheil>
true, but browsers are never ideal

[16:48:01.0000] <Hixie>
adding features just to be able to distinguish test versions for the few months before we're done is pointless

[16:48:02.0000] <Hixie>
it would mean bytes being included in requests for decades after it's useful

[16:48:03.0000] <micheil>
hm.. okay

[16:49:00.0000] <AryehGregor>
Do you expect to be completely done in a few months?

[16:49:01.0000] <Hixie>
the best thing to do if you want to solve the problem is to implement the updated protocol in all the browsers

[16:49:02.0000] <Hixie>
AryehGregor: we're more or less done now, as far as i can tell

[16:49:03.0000] <micheil>
Hixie: I'd be way out of my depth there.

[16:49:04.0000] <AryehGregor>
k, good to know.

[16:49:05.0000] <micheil>
considering I'm a JavaScript programmer, not a C / C++ programmer

[16:51:00.0000] <Hixie>
that's solvable :-)

[16:51:01.0000] <zcorpan_>
Hixie: for documenting pros and cons of websocket proposals

[16:51:02.0000] <Hixie>
zcorpan_: if he needs a wiki, he's welcome to use the websocket one

[16:52:00.0000] <Hixie>
zcorpan_: but i believe the hybi wg have their own

[16:54:00.0000] <JonathanNeal>
Hey Hixie, whatcha think?

[16:55:00.0000] <Hixie>
about?

[16:55:01.0000] <zcorpan_>
Hixie: uh, don't you think you got r5190 backwards?

[16:55:02.0000] <JonathanNeal>
^ http://sandbox.thewikies.com/html-templates/outliner.php?url=http://html5doctor.com

[16:55:03.0000] <zcorpan_>
Hixie: surely we don't want the controls to appear on the top when there are captions

[16:55:04.0000] <zcorpan_>
Hixie: instead the captions should move so they don't appear behind the controls

[16:56:00.0000] <Hixie>
hm

[16:56:01.0000] <Hixie>
the captions can be positioned precisely

[16:56:02.0000] <Hixie>
i suppose we could make the captions avoid the controls when they're line-snapped controls

[16:57:00.0000] <zcorpan_>
the captions get moved if there are already captions where you want to position them precisely, don't they?

[16:57:01.0000] <Hixie>
yeah, true

[16:59:00.0000] <zcorpan_>
i think i'd just move the captions up while the controls are visible, as if the root box had margin-top: -(height-of-controls)


2010-07-23
[17:04:00.0000] <zcorpan_>
nn

[17:20:00.0000] <smaug_>
hmm, I guess I need to look at how websocket protocol has changed (again)

[17:22:00.0000] <smaug_>
looks pretty same to v76

[17:22:01.0000] <smaug_>
at least as ugly as v76

[17:23:00.0000] <Hixie>
yeah only minor changes

[17:24:00.0000] <smaug_>
ah, the API has changed too

[17:24:01.0000] <smaug_>
there is now protocols[]

[17:24:02.0000] <Hixie>
yeah

[17:25:00.0000] <Hixie>
i mailed wellington about it

[17:25:01.0000] <Hixie>
wasn't sure who else to mail

[17:25:02.0000] <smaug_>
I wonder what the use case is for that.

[17:26:00.0000] <smaug_>
Hixie: well, if you could cc me 

[17:27:00.0000] <Hixie>
the protocols[] thing was mentioned on the hybi list

[17:28:00.0000] <Hixie>
basically the use case was to let someone who implements several protocols in the JS but doesn't know what the server implements simply give the list to the server

[17:28:01.0000] <Hixie>
and let the server pick

[17:29:00.0000] <smaug_>
not sure that is a good use case

[17:29:01.0000] <Hixie>
yeah i wasn't hugely convinced either, but it seemed easy enough to support.

[17:31:00.0000] <Hixie>
i recommend posting on the hybi thread if you want the protocol changed... i think it was http://www.ietf.org/mail-archive/web/hybi/current/msg02250.html

[17:34:00.0000] <smaug_>
oh, it was somewhere in that thread

[17:38:00.0000] <Hixie>
(i didn't see anyone say it was a bad idea, which is why i went with it)

[17:59:00.0000] <JonathanNeal>
well, just in case

[18:00:00.0000] <JonathanNeal>
Hixie, the link was http://sandbox.thewikies.com/html-templates/outliner.php?url=http://html5doctor.com/

[18:00:01.0000] <JonathanNeal>
And outliner I'm working on.

[18:00:02.0000] <Hixie>
cool

[18:00:03.0000] <Hixie>
sorry, missed it earlier

[18:01:00.0000] <Hixie>
it seems to not handle ln.hixie.ch right

[18:01:01.0000] <Hixie>
unless i'm missing something

[18:04:00.0000] <Hixie>
JonathanNeal: it seemed to do better than i expected on the spec itself, but then it has all kinds of weird stuff at the bottom (http://sandbox.thewikies.com/html-templates/outliner.php?url=http://www.whatwg.org/specs/web-apps/current-work/complete.html)

[18:04:01.0000] <Hixie>
oh, wait, it didn't get any of the numbering right

[18:04:02.0000] <Hixie>
all the numbers are the ones from the spec itself

[18:04:03.0000] <Hixie>
still has some way to go it seems :-)

[18:05:00.0000] <JonathanNeal>
Obviously, still waiting for it to load that link for me.

[18:05:01.0000] <JonathanNeal>
Oh that's because you don't use any sections.

[18:05:02.0000] <JonathanNeal>
Got it.

[18:05:03.0000] <Hixie>
yeah it's all implied sections

[18:06:00.0000] <JonathanNeal>
Not until you get to Images.

[18:06:01.0000] <JonathanNeal>
All right, I'll work on that.

[18:06:02.0000] <JonathanNeal>
That shouldn't be so so hard.

[18:08:00.0000] <Hixie>
there's also some weirdness... is your parser treating &lt;h1&gt; as <h1> or something?

[19:28:00.0000] <bga_>
hi :)

[20:51:00.0000] <roc>
anyone here actually written an application that uses the HTML5 offline application cache?

[20:55:00.0000] <roc>
failing that, anyone know of any examples of Web apps using the HTML5 offline application cache?

[21:01:00.0000] <othermaciej>
do you mean "real" ones or would a sample do?

[21:01:01.0000] <othermaciej>
this is a demo example: http://webkit.org/demos/calendar/Calendar.html

[21:01:02.0000] <othermaciej>
I am also told it is widely used for real in mobile-targeted Web apps, but I have no concrete examples handy

[21:02:00.0000] <roc>
I was looking for a real one, but thanks

[21:28:00.0000] <boblet>
does anyone know what became of allowing a year in @datetime?

[00:32:00.0000] <Hixie>
http://lists.w3.org/Archives/Public/public-html/2010May/0095.html

[00:33:00.0000] <Hixie>
"Once you've done all that, you are going to be looking at something very similar to TTML" seems to not have turned out to be true

[00:33:01.0000] <Hixie>
(websrt does all but 1 of his bullet points, if i'm not mistaken)

[00:34:00.0000] <Hixie>
(actually 2, but the second is something we could add pretty easily)

[00:43:00.0000] <boblet>
MikeSmith, Hixie: re: mark element, is my use of it to wrap section permalinks when the user hovers over section titles in http://oli.jp/2009/html5-faq/ incorrect? Lachy thought I was stretching the meaning too much, I’m on the fence. 2nd opinion?

[00:44:00.0000] <Hixie>
i don't understand why <mark> would even remotely be appropriate there, but maybe i'm lacking imagination... what argument would you use to defend it? :-)

[00:45:00.0000] <abarth>
Hixie: do you have a couple minutes to talk about URL parsing?

[00:45:01.0000] <boblet>
har! it’s text that isn’t important, is highlighted for reference purposes, and is only relevant when you want a chapter permalink to copy

[00:45:02.0000] <zdenekkostal>
boblet: Nice page, but using mark is like use styled paragraphs instead of headlines :)

[00:46:00.0000] <MikeSmith>
boblet: I'm not much help here -- I don't know what the use cases are for mark other than the one of highlighting words in a page that are search terms you used when looking for that page

[00:46:01.0000] <boblet>
Lachy suggested it should be informationally relevant, not relevant to current action

[00:46:02.0000] <Hixie>
abarth: sure

[00:46:03.0000] <abarth>
i was thinking about getting started on it

[00:47:00.0000] <Hixie>
boblet: "highlighted for reference purposes" seems a bit of a stretch since your default style is to hide it :-)

[00:47:01.0000] <MikeSmith>
boblet: so I guess I thought the general purpose of mark is to bring the user's attention to some particularly relevant text that they would otherwise have to look for manually

[00:47:02.0000] <abarth>
now that the parser work is winding down, i should get back to URL stuff

[00:47:03.0000] <abarth>
Hixie: you mentioned you had strong feelings about how the spec should be structured

[00:47:04.0000] <Hixie>
abarth: yeah

[00:48:00.0000] <Hixie>
we have several options here

[00:48:01.0000] <MikeSmith>
boblet: so I guess using it to highlight permalink markers kinda seems like overkill to me

[00:48:02.0000] <boblet>
Hixie: well, it’s highlighted for reference when the action of getting the permalink is relevant :)

[00:48:03.0000] <boblet>
ok, seems I was a little too creative in reading the spec. thanks :)

[00:48:04.0000] <micheil>
that reminds me.. I need to setup that daily cron job on my server to push the latest spec revisions to that github mirror

[00:49:00.0000] <Hixie>
abarth: that is, several somewhat orthogonal axes. Rely on or be completely independent from the IRI/URI specs; and define things declaratively or imperatively, being two main ones.

[00:49:01.0000] <Hixie>
abarth: i think we're best off doing an independent imperative-style spec for this.

[00:49:02.0000] <abarth>
you don't think we'll run into less trouble later if we output something that the URI spec can parse?

[00:49:03.0000] <Hixie>
abarth: maybe with a (normative) appendix that defines the semantics in terms of an IRI

[00:49:04.0000] <Hixie>
abarth: the uri spec doesn't define parsing

[00:50:00.0000] <abarth>
oh, i thought there was a regular expression in the appendix that did the parsing

[00:50:01.0000] <Hixie>
abarth: but assuming you mean something the uri spec thinks is valid, then no, because the whole problem is that there are invalid uris we need to handle that have no valid mapping.

[00:50:02.0000] <abarth>
i see

[00:50:03.0000] <boblet>
zdenekkostal: btw I’m not sure I understand your metaphor — do you mean this usage (in which case what is the equivalent of headlines) or any use of mark?

[00:50:04.0000] <abarth>
one annoying thing is that the parsing depends on whether the UA understands a given scheme

[00:51:00.0000] <Hixie>
abarth: i basically see no value in defining things the way the spec used to have it, or the way [webaddresses] had it, where the implementor has to do some work to pass the string to some other function to do more work

[00:51:01.0000] <Hixie>
abarth: i think we're better off just defining the parsing once and being done with it

[00:51:02.0000] <abarth>
ok

[00:51:03.0000] <Hixie>
abarth: (we can mostly defer to iri/uri for validity definitions, though)

[00:51:04.0000] <abarth>
we're going to run into trouble later on, but we can deal with that then

[00:51:05.0000] <boblet>
MikeSmith: btw, sorry not to catch up this week — it became 3 days of meetings. also can you put a flowchart aside for Daniel? Also Kyle has a little something for you to read too

[00:52:00.0000] <abarth>
there are two mostly independent algorithms:

[00:52:01.0000] <abarth>
parsing

[00:52:02.0000] <abarth>
cannonicalization

[00:52:03.0000] <Hixie>
abarth: re the annoying thing, i think our best bet is to have hard-coded definitions of the special behaviour for the important schemes, and require generic handling of all the remaining schemes

[00:52:04.0000] <Hixie>
abarth: there are three, i think - parsing, resolving, and canonicalisation/serialisation

[00:52:05.0000] <abarth>
ok, that includes default ports and whether the scheme uses the authority-style

[00:52:06.0000] <abarth>
oh, yeah resolving

[00:53:00.0000] <abarth>
i haven't gotten to that one

[00:53:01.0000] <Hixie>
the "authority-style" thing is mostly gone in the more recent specs, iirc

[00:53:02.0000] <jgraham>
/me forms the URL-spec cheerleaders club to motivate our heroic editor and entertain the crowds

[00:53:03.0000] <abarth>
well, foo:bar

[00:53:04.0000] <abarth>
becomes foo://bar

[00:53:05.0000] <abarth>
if foo is a "standard URL scheme"

[00:53:06.0000] <Hixie>
yeah iirc the new uri specs have something generic to say about that, i forget what exactly

[00:53:07.0000] <abarth>
in GURL parlance

[00:53:08.0000] <Hixie>
anyway

[00:53:09.0000] <abarth>
but yeah

[00:54:00.0000] <Hixie>
my point is i think we can draw a line in the sand and make it Just Work in the future for future schemes, at least for unknown ones

[00:54:01.0000] <Hixie>
and define what's known

[00:54:02.0000] <Hixie>
not sure what to do about ports

[00:54:03.0000] <Hixie>
we should check what the official specs say

[00:54:04.0000] <abarth>
default ports can cannonicalized away

[00:54:05.0000] <Hixie>
since they claim to be knowledge-agnostic nowadays iirc

[00:54:06.0000] <abarth>
for known schemes

[00:54:07.0000] <abarth>
s/can/get/

[00:55:00.0000] <Hixie>
abarth: personally all i need is something to reference for the two red boxes in http://www.whatwg.org/specs/web-apps/current-work/complete.html#urls

[00:56:00.0000] <boblet>
Also what’s the situation with no year-only @datetime? I guess it’s on purpose, but I wonder why given year-month and year-week pattern

[00:56:01.0000] <abarth>
you need to understand default ports to do security origin comparisons correctly

[00:56:02.0000] <Hixie>
abarth: ideally also we'd get a slightly less mathematical definition of "absolute url"

[00:57:00.0000] <Hixie>
abarth: yeah, we might just be stuck with the knowledge thing

[00:57:01.0000] <Hixie>
boblet: @datetime?

[00:57:02.0000] <Hixie>
boblet: you mean <ins datetime="">?

[00:57:03.0000] <boblet>
Hixie: sorry, <time datetime="">

[00:57:04.0000] <abarth>
Hixie: in webkit the security origin class has its own table of default ports that separate from the one in the URL library

[00:57:05.0000] <abarth>
which is kind of goofy

[00:57:06.0000] <Hixie>
abarth: yeah that's pretty special

[00:58:00.0000] <abarth>
ok, i think i understand your requirements

[00:58:01.0000] <abarth>
i'll probably start a github project and start writing something next week

[00:59:00.0000] <Hixie>
boblet: the point of <time> is two-fold, (1) to make it easier to import times into a calendar, e.g. via microdata, and (2) make styling locale-specific

[00:59:01.0000] <zdenekkostal>
boblet: When I think about it, using <mark> isn't so bad in this context... really, there is no equivalent for headlines (via my metaphor). My apologize :)

[00:59:02.0000] <Hixie>
boblet: neither of these makes much sense for years

[01:00:00.0000] <boblet>
hixie: cool, thanks for explaining

[01:01:00.0000] <boblet>
zdenekkostal: I thought it was a nice creative use too, but it seems I should just be using the <a> that’s there, and wrapping it in <mark> is stretching <mark>’s meaning a little far :) it’s fun to think about how new elements can be used though huh

[01:30:00.0000] <zcorpan_>
Hixie: maybe reposition the captions again when the controls stop showing?

[01:30:01.0000] <Hixie>
i thought of that but figured it'd be better to minimise the jumping around

[01:30:02.0000] <Hixie>
they'll go away soon enough anyway

[01:30:03.0000] <zcorpan_>
what if the next cue wants to position the caption where the old caption is now?

[01:31:00.0000] <Hixie>
well then i guess you get a cascade of problems until such time as it settles down

[01:32:00.0000] <zcorpan_>
maybe it's not a problem in practice

[01:32:01.0000] <Hixie>
probably not in most cases

[01:32:02.0000] <Hixie>
there are pathological cases where it'd be an issue, but they'll be rare

[01:33:00.0000] <Hixie>
and you can always just toggle the captions on-off if you really want to reset it

[01:33:01.0000] <Hixie>
(assuming you can do so without the controls showing!)

[01:33:02.0000] <zcorpan_>
maybe reposition the existing captions when the next one gets showed, if they're repositioned and the controls are no longer visible

[01:33:03.0000] <Hixie>
imho we should minimise any repositioning

[01:34:00.0000] <zcorpan_>
that would do nothing in the normal case but still fix the scenario above

[01:36:00.0000] <Hixie>
imagine a UA that shows control at the top left

[01:37:00.0000] <Hixie>
and a video that has titles at the bottom except for one title at the top left, which happens to be showing when the controls show, and which are on the screen for a long time

[01:38:00.0000] <zcorpan_>
yeah, it'd jump around when it's not necessary too

[01:38:01.0000] <Hixie>
technically a UA could reset the titles whenever it wants, and just claim that it was toggling the captions based on a psychic user interface

[01:38:02.0000] <Hixie>
but i'd rather not make that explicit

[01:38:03.0000] <Hixie>
since it'd encourage making the titles jump around a lot more than they need to

[01:40:00.0000] <zcorpan_>
i wonder how we solve author-provided controls

[01:41:00.0000] <zcorpan_>
should the author be able to insert and remove a css box and cause the captions to reposition?

[01:42:00.0000] <zcorpan_>
if not i expect authors are going to reimplement captions with script to support this

[01:42:01.0000] <Hixie>
author captions are often not overlaid (e.g. youtube isn't)

[01:43:00.0000] <zcorpan_>
the video mozilla showed on the firefox page when firefox 3.5 was released had captions that moved when the controls showed

[01:45:00.0000] <Hixie>
uri?

[01:47:00.0000] <hsivonen>
it's so sad that people fall for stuff like http://lists.whatwg.org/pipermail/whatwg-whatwg.org/2010-July/027273.html

[01:47:01.0000] <hsivonen>
(the attack described in that email, that is)

[01:49:00.0000] <Hixie>
the javascript: thing?

[01:49:01.0000] <zcorpan_>
Hixie: can't find it anymore

[01:52:00.0000] <MikeSmith>
there are users who fall for simple phishing e-mails along the lines of "Your credit card number may have been used without your authorization! Go to the following page and type in your name, credit-card number, expiration date, and PIN number to get a report about any authorized uses of your credit-card information."

[01:53:00.0000] <MikeSmith>
Hixie: patch for adding IDs to index for event-handler attributes - http://www.w3.org/Bugs/Public/attachment.cgi?id=892

[01:53:01.0000] <Hixie>
"ix"?

[01:54:00.0000] <MikeSmith>
Hixie: ix = index

[01:54:01.0000] <MikeSmith>
I'm happy to change it something else

[01:54:02.0000] <MikeSmith>
or of course feel to free to change it to anything you want

[01:54:03.0000] <hsivonen>
Hixie: the thing that tells you to type letters with modifiers keys 

[01:55:00.0000] <Hixie>
hsivonen: ah, yeah

[01:57:00.0000] <foolip>
Hixie, was there some good reason for making captions the default kind for <track>?

[01:57:01.0000] <foolip>
it seems to me that it's more likely that most things will be subtitles, i.e. not including cues for HoH

[01:59:00.0000] <Hixie>
foolip: i was trying to appease the a11y camp

[02:01:00.0000] <zcorpan_>
the default should be the most common use, or most uses will be mislabeled (since it works anyway, people will omit kind="")

[02:02:00.0000] <foolip>
I only remember seeing you an Silvia discussing it, I haven't seen it discussed on the HTML a11y TF mailing list.

[02:02:01.0000] <Hixie>
foolip: it was a pre-emptive attempt

[02:02:02.0000] <Hixie>
MikeSmith: checked in

[02:03:00.0000] <foolip>
What would you call timed text in the original language that doesn't include HoH cues? Is that subtitles or captions?

[02:03:01.0000] <foolip>
I'm interested since that's the kind of timed text I write most and want to label it appropriately.

[02:04:00.0000] <Hixie>
http://www.whatwg.org/specs/web-apps/current-work/complete.html#attr-track-kind defines "subtitles" vs "captions" in a way that I think answers your question

[02:07:00.0000] <foolip>
it's not translated, so it isn't subtitles. it also isn't suitable either when the audio is muted or for the HoH since it doesn't include things like [door rings], so it's not captions.

[02:08:00.0000] <foolip>
(but disregarding the spec, I would call it subtitles)

[02:08:01.0000] <foolip>
anyway...

[02:08:02.0000] <foolip>
suggest making subtitles the default, but we'll see what others think.

[02:14:00.0000] <zcorpan_>
hmm, firefox still has websocket.URL

[02:15:00.0000] <Hixie>
man, the .url/.URL situation is a cluster...uh, is a mess

[02:15:01.0000] <Hixie>
foolip: please send mail and/or file a bug :-)

[02:15:02.0000] <foolip>
I will

[02:15:03.0000] <Hixie>
foolip: also mention that subtitles says translation-only, i'll fix that

[02:16:00.0000] <foolip>
sure

[02:16:01.0000] <foolip>
huh, why hasn't your long email hit the archives yet?

[02:16:02.0000] <Hixie>
the archives are weird

[02:16:03.0000] <Hixie>
sometimes they seem to be hours behind

[02:16:04.0000] <Hixie>
i dunno why

[02:16:05.0000] <foolip>
oh well

[02:16:06.0000] <Hixie>
other times they're up to the second

[02:16:07.0000] <Hixie>
anyway, bed time for me

[02:17:00.0000] <Hixie>
tomorrow i start down the processing-model IMAP folder

[02:17:01.0000] <Hixie>
which has 1,115 e-mails at the moment!

[02:17:02.0000] <foolip>
best of luck!

[02:18:00.0000] <Hixie>
the chart i use has a simplistic estimate -- i just draw a line from the first point to the last point and if it goes down, i predict where it'll hit the x-axis

[02:18:01.0000] <zcorpan_>
oh, no i was mistesting it

[02:18:02.0000] <Hixie>
i said that we'd hit CR (the next time we'll be at 0 e-mails) in 2012

[02:18:03.0000] <Hixie>
the current estimate is "Estimated date for last e-mail based on the data above: 2012-10-01"

[02:19:00.0000] <Hixie>
it took about 10 months to get from 1692 e-mails to zero last time i was at 1692

[02:20:00.0000] <Hixie>
so that would predict Q2 2011

[02:21:00.0000] <Hixie>
i have a wild objective for this quarter of reaching about 50 e-mails by the EOQ, i.e. end of September.

[02:21:01.0000] <Hixie>
/me isn't optimistic

[02:27:00.0000] <MikeSmith>
Hixie: thanks for the index fix .. I find now there were two typos in the patch I sent -- here's a follow-up: http://www.w3.org/Bugs/Public/attachment.cgi?id=893

[02:27:01.0000] <jgraham>
AryehGregor: (random aside: I think what SteveF's data indicates is that screenreader's assumption that filenames are meaningful is horribly broken)

[02:27:02.0000] <jgraham>
s/'s/s'/

[02:28:00.0000] <jgraham>
Is that correction right?

[02:30:00.0000] <hsivonen>
argh. lists.w3.org search is "undergoing some routine maintenance" :-(

[02:31:00.0000] <jgraham>
Is that like routine surgery i.e. involving a non-negligible possibility of death

[02:35:00.0000] <MikeSmith>
hsivonen: search is probably broken because I noticed yesterday that the Archived-at message-ID dereferencer thingy wasn't working, so I asked systems team to fix it, and I think they might be doing some more serious fixing on it so that it won't break again

[02:36:00.0000] <hsivonen>
MikeSmith: ok

[02:36:01.0000] <hsivonen>
I managed to locate the email I was looking for without search

[02:36:02.0000] <MikeSmith>
ok

[02:37:00.0000] <MikeSmith>
fyi, I just checked and status note says "will be unavail probably until friday midday" (midday US/East)

[02:38:00.0000] <jgraham>
Oh jesus

[02:38:01.0000] <jgraham>
I should unsubscibe from HyBi

[02:38:02.0000] <jgraham>
It makes me want to cry

[02:39:00.0000] <jgraham>
Someone is pretending that the "amateur programming" requirement implies "weak-minded" or "IQ less than 90"

[02:39:01.0000] <jgraham>
To discredit it

[02:44:00.0000] <Peter`>
Is there a rationale somewhere about why HTML doesn't accept ".1" as a valid floating point, whereas CSS and JavaScript do?

[02:44:01.0000] <Peter`>
it's rather hard to search for

[02:46:00.0000] <zcorpan_>
jgraham: i'm considering unsubscribing as well

[02:47:00.0000] <MikeSmith>
jgraham: yeah, there are some real sweethearts on the hybi list

[02:48:00.0000] <MikeSmith>
the comment "Do we have an issue open about amateur protocol designers and amateur editors? amateur chairs?" was a real gem too

[02:49:00.0000] <jgraham>
If I was running the list you would be thrown off for messages like that. But I am not, so...

[02:50:00.0000] <hsivonen>
Remember to object before the polls close!

[02:51:00.0000] <jgraham>
hsivonen: Which polls?

[02:51:01.0000] <hsivonen>
jgraham: the versioning poll

[02:51:02.0000] <jgraham>
Oh man.

[02:51:03.0000] <jgraham>
I didn't even notice that

[02:51:04.0000] <hsivonen>
jgraham: the other one is less important, but feel free to object to the ascii-ref, too

[02:52:00.0000] <jgraham>
I was hoping that no one would reply to the ascii ref poll to highlight what an enormous waste of everyone's time it is

[02:52:01.0000] <jgraham>
But they did :(

[02:53:00.0000] <foolip>
where's the versioning poll?

[02:54:00.0000] <foolip>
I've missed that

[02:54:01.0000] <hsivonen>
foolip: http://www.w3.org/2002/09/wbs/40318/issue-101-objection-poll/results

[02:54:02.0000] <hsivonen>
foolip: doh. sorry

[02:54:03.0000] <hsivonen>
foolip: http://www.w3.org/2002/09/wbs/40318/issues-4-84-objection-poll/

[02:54:04.0000] <foolip>
hsivonen, thanks

[03:01:00.0000] <foolip>
I like Grant Simpson's argument about making it easier for the electronic archaeologist

[03:02:00.0000] <jgraham>
In what sense "like"?

[03:02:01.0000] <foolip>
Eh, ironically but not mockingly?

[03:03:00.0000] <jgraham>
Ah

[03:03:01.0000] <foolip>
I don't doubt it's true, but not terribly important

[03:03:02.0000] <foolip>
OK, let's object a bit then... perhaps strongly?

[03:03:03.0000] <jgraham>
It seems to me that just looking markup features present in each version of HTML would be at least as accurate

[03:04:00.0000] <foolip>
true

[03:04:01.0000] <foolip>
or the date when archive.org first archived it :)

[03:04:02.0000] <jgraham>
Possibly moreso because there will be an uptick when browsers start supporting a given construct, so you can date to browser revisions not just spec revisions

[03:05:00.0000] <Workshiva>
jgraham: I think it's better that people reply and explicitly highlight what a waste of time it is, rather than implicitly

[03:06:00.0000] <jgraham>
Workshiva: It would only have been worthwhile if it got literally zero replies. Or, more likely, just one, from Julian

[03:06:01.0000] <jgraham>
SO it was a longshot :)

[03:06:02.0000] <zcorpan_>
the electronic archive will go away, all that's left after 1000 years is a copy of the spec that a microsoft employee printed and put in a black box

[03:07:00.0000] <hsivonen>
Microsoft should get stone-carving printers, just in case

[03:07:01.0000] <Workshiva>
We clearly need to ensure a steady production of printed spec copies then

[03:07:02.0000] <hsivonen>
I have already recycled the paper of my printed copies

[03:09:00.0000] <Workshiva>
It might be an interesting exercise to see how many other specs would need to be printed together with HTML5 to actually preserve the technology

[03:10:00.0000] <jgraham>
Workshiva: Maybe HTML5 + the webkit source code + the gecko source code

[03:11:00.0000] <jgraham>
Since many of the other specs are insufficient

[03:11:01.0000] <jgraham>
(moreso than HTML5)

[03:11:02.0000] <Workshiva>
But then you'd also need to print the specs for the programming languages, and code or specs for all the libraries used too

[03:12:00.0000] <jgraham>
Is it turtles all the way down? What if the English language is mutated beyond recognition?

[03:12:01.0000] <foolip>
Are we considering sending HTML5 to an alien civilization for their consideration?

[03:13:00.0000] <Workshiva>
I'm assuming that English will have a large enough corpus elsewhere to count as axiomatically present

[03:13:01.0000] <jgraham>
"Aliens mock Earth in Markup language debacle"

[03:13:02.0000] <jgraham>
(with the right capitalization)

[03:16:00.0000] <crash\>
In most browser background colors from <body> are mapped to the whole viewpoint, even when the body element hasnt the full height of the viewpoint

[03:17:00.0000] <crash\>
Is there anything related to this in the specß

[03:17:01.0000] <jgraham>
Isn't that covered in CSS somewhere?

[03:17:02.0000] <jgraham>
/me doesn't remember if it is quirks vs standards mode but does remember it being explicitly specced

[03:18:00.0000] <crash\>
I'll look at the CSS spec

[03:19:00.0000] <Workshiva>
It's in CSS

[03:19:01.0000] <Workshiva>
For HTML documents, if there's no applicable style on html, the style on body is pushed up

[03:19:02.0000] <Workshiva>
I guess it was added to XHTML too a while back?

[03:20:00.0000] <crash\>
"user agents must instead use the computed value of the background properties from that element's first HTML "BODY" element or XHTML "body" element child when painting backgrounds for the canvas, and must not paint a background for that child element. Such backgrounds must also be anchored at the same point as they would be if they were painted only for the root element."

[03:20:01.0000] <crash\>
thanks

[04:00:00.0000] <hsivonen>
MikeSmithX: I got http://pastebin.mozilla.org/752429 when trying to respond to the versioning poll

[04:27:00.0000] <hsivonen>
/me wonders if wbs has a length limit on responses

[04:27:01.0000] <hsivonen>
my list of objections is pretty long

[04:40:00.0000] <hsivonen>
is http://sites.google.com/a/chromium.org/dev/spdy/spdy-protocol/spdy-protocol-draft2 the most recent SPDY spec?

[04:43:00.0000] <Peter`>
I read things about draft 3 in some chromium bug report, specifically about an extra bit for frame priorities, but that hasn't been published yet

[04:47:00.0000] <hsivonen>
ok

[04:53:00.0000] <jgraham>
foolip: BTW I started hacking on a little javascript WebSRT parser last night. So if you didn't already make one you are welcome to use that wehn it is finished

[04:53:01.0000] <jgraham>
It's not designed to be fast or useful or anything though

[04:54:00.0000] <jgraham>
Just to make me understand the spec a bit

[04:56:00.0000] <foolip>
jgraham, I'll be delighted to break it for you when it's done!

[04:56:01.0000] <jgraham>
foolip: That won't be hard

[04:56:02.0000] <foolip>
jgraham, is it in a public repo somewhere?

[04:57:00.0000] <jgraham>
foolip: It isn't even in a private repo yet

[04:57:01.0000] <foolip>
ok

[04:57:02.0000] <foolip>
let me know :)

[04:57:03.0000] <jgraham>
I just opened an emacs buffer and started typing :)

[05:15:00.0000] <zcorpan_>
jgraham: are you intending to have websrt node indirection?

[05:16:00.0000] <jgraham>
zcorpan_: I haven't read enough of the spec to know what that is yet :)

[05:17:00.0000] <zcorpan_>
jgraham: the output of the parser is "websrt nodes", and then there's a mapping to dom

[05:17:01.0000] <jgraham>
Oh I see

[05:17:02.0000] <jgraham>
Well yes then

[05:18:00.0000] <jgraham>
I am trying to implement what is in the spec more-or-less as written

[05:18:01.0000] <zcorpan_>
ok

[05:18:02.0000] <jgraham>
since the goal is not to be useful

[05:18:03.0000] <jgraham>
except as feedback

[05:19:00.0000] <jgraham>
So far my feedback is "this algorithm uses too much goto"

[05:19:01.0000] <jgraham>
(that is it doesn't trivially map onto a set of, possibly nested, loops)

[05:21:00.0000] <Philip`>
It's fun to implement these algorithms in functional languages which don't even have loops or break statements and certainly don't have goto

[05:27:00.0000] <Workshiva>
Lots of tail calls

[05:29:00.0000] <hsivonen>
I see no new objections at http://www.w3.org/2002/09/wbs/40318/issues-4-84-objection-poll/results

[05:29:01.0000] <hsivonen>
are others also seeing the Proxy Error or just not objecting actively?

[05:33:00.0000] <jgraham>
hsivonen: Didn't try since you saw an error

[05:44:00.0000] <hsivonen>
jgraham: ok.

[05:44:01.0000] <hsivonen>
it's a bit annoying that techincal problems with the polls themselves are hindering objecting

[05:53:00.0000] <MikeSmithX>
hsivonen: sorry, was away at dinner and just got back

[05:54:00.0000] <MikeSmith>
hsivonen: was one of your comments more than 5629 characters long?

[05:55:00.0000] <hsivonen>
MikeSmith: yes

[05:55:01.0000] <hsivonen>
about 7.8 KB

[05:55:02.0000] <MikeSmith>
whoah

[05:55:03.0000] <MikeSmith>
I have found that the WBS backend seems to currently have a bug related to length of comments

[05:56:00.0000] <MikeSmith>
if a comment is 5629 characters or longer, submitting a response will fail

[05:57:00.0000] <hsivonen>
what should I do when my objection is longer than that?

[05:57:01.0000] <MikeSmith>
a workaround is to post a comment to www-archive and then reference the URL in the WBS survery

[05:57:02.0000] <MikeSmith>
*survey

[05:57:03.0000] <hsivonen>
MikeSmith: ok

[05:58:00.0000] <hsivonen>
MikeSmith: thanks

[05:58:01.0000] <MikeSmith>
ym. sorry about the bug.. I don't have access to the WBS backend to troubleshoot it myself, but I have given teh systems team the details

[06:00:00.0000] <MikeSmith>
hsivonen: btw, I looked into seeing if I could implement http://bugzilla.validator.nu/show_bug.cgi?id=750 myself .. looked at the corresponding Xerces code to try to see what the LOE would be

[06:01:00.0000] <MikeSmith>
seems like it's more work than I had thought

[06:01:01.0000] <MikeSmith>
this is the "supply a DocumentBuilderFactory that instantiates HtmlDocumentBuilder, SAXParserFactory that instantiates sax/HtmlParser" enhancement

[06:01:02.0000] <MikeSmith>
Yudai: that bug might be another worth looking at

[06:02:00.0000] <hsivonen>
MikeSmith: more work in what sense? More work than just providing those classes? or writing those classes is more work than expected?

[06:04:00.0000] <MikeSmith>
hsivonen: I think the classes are all that's needed, but I meant writing the classes is more work -- the corresponding Xerces classes are several hundred lines, iirc

[06:06:00.0000] <MikeSmith>
hsivonen: the main reason I'm keen on getting that implemented is I really the HTML5 parser that can be easily usable as a drop-in replacement for an XML parser in existing toolchains

[06:06:01.0000] <MikeSmith>
there seems to be a common misconception that validation tools and such have to be based on XML parsers

[06:07:00.0000] <MikeSmith>
and so, that XML well-formedness needs to be requirement for validation and such

[06:07:01.0000] <MikeSmith>
I heard the misconception repeated on an ePub WG call I was on last night

[06:08:00.0000] <MikeSmith>
some developers involved with the prior epub work have developed a validator -

[06:08:01.0000] <MikeSmith>
http://code.google.com/p/epubcheck/

[06:08:02.0000] <MikeSmith>
that validator is based on jing

[06:10:00.0000] <MikeSmith>
I have not looked at their code yet, but if I were able to demonstrate that they could use it validate non-WF text/html content.. well, that would say a lot

[06:11:00.0000] <MikeSmith>
I mean, demonstrate that all they'd need to do is set a couple of Java system properties, and they could validate non-WF text/html content just as they can with XML/XHTML now

[06:12:00.0000] <MikeSmith>
Lachy: w3c mailing-list search and archived-at link-resolving are down now, and will be at least until midday US/East

[06:14:00.0000] <hsivonen>
MikeSmith: I objected by reference.

[06:19:00.0000] <MikeSmith>
hsivonen: thanks -- if the bug gets fixed before the poll closes, I will copy and paste the comment back in

[06:19:01.0000] <Workshiva>
/me wonders where dating HTML documents by doctype is a significant use case

[06:19:02.0000] <hsivonen>
MikeSmith: ok. thanks

[06:19:03.0000] <hsivonen>
Workshiva: if the author want to support document dating, the author could just write a *date* on the document...

[06:20:00.0000] <MikeSmith>
bingo

[06:21:00.0000] <MikeSmith>
I brings up the question of, What methods to do you use for trying to date *print* documents that are undated 

[06:22:00.0000] <hsivonen>
MikeSmith: carbon dating?

[06:22:01.0000] <MikeSmith>
heh

[06:23:00.0000] <Workshiva>
Ink dating

[06:23:01.0000] <Workshiva>
I suppose it's possible to date the paper as well

[06:24:00.0000] <MikeSmith>
as long as we're on the subject, fonts and proportional spacing are one relatively easy visual indicator

[06:25:00.0000] <hsivonen>
does that mean that content displayed by Firefox 4 and content displayed by Safari are from different eras?

[06:26:00.0000] <MikeSmith>
I was thinking about specific case a few years back where some documents surfaced during the Bush vs. Kerry US presidential race that were supposedly from the 1970s

[06:27:00.0000] <MikeSmith>
and some supposed experts even verified that they were authentic

[06:28:00.0000] <MikeSmith>
but they were shown conclusively not to be, because they were very clearly produced using typesetting technology -- proportion character spacing and line spacing -- that were not widely available except to commercial printers

[06:29:00.0000] <MikeSmith>
and the documents were supposedly simple memos that some mid-level military official had typed up (or had a secretary type up)

[06:30:00.0000] <Workshiva>
Good times

[07:31:00.0000] <Slaanesh>
Opera using over 8 GB memory, sounds like a feature...

[07:37:00.0000] <jgraham>
Slaanesh: That doesn't sound good...

[07:39:00.0000] <Workshiva>
It was growing by 100 MB every few seconds until it decided to die a bit after 8 GB

[07:39:01.0000] <jgraham>
Can you file a bug?

[07:40:00.0000] <jgraham>
Also, which version of Opera?

[07:40:01.0000] <jgraham>
We made some fixes recently but I don't recall which shipped and which did not

[07:44:00.0000] <jgraham>
(If you file a bug, you get a bug number, right? Let gsnedders or I know)

[07:44:01.0000] <gsnedders>
jgraham: yeah

[07:44:02.0000] <gsnedders>
jgraham: Well, you get an email address in the form of bug-number⊙boc

[07:54:00.0000] <Workshiva>
Or I could just use the bug tracker directly :P

[07:54:01.0000] <jgraham>
Workshiva: That too :p

[07:54:02.0000] <jgraham>
In that case s/let gsnedders of I know/CC gsnedders and I/

[08:06:00.0000] <Philip`>
Does anyone happen to know if common search engines treat &nbsp; as largely equivalent to " "?

[08:28:00.0000] <hsivonen>
Hmm. Is Spotify for Linux an NPAPI plug-in host?

[08:29:00.0000] <hsivonen>
is does it print stuff about some other NP_Initialize?

[09:41:00.0000] <AryehGregor>
jgraham, if no alt text is provided, what are screen readers supposed to provide other than filenames?  Should they just always treat it as alt=""?

[09:41:01.0000] <AryehGregor>
That seems less useful than the app adding as alt text the filename that the user provided on upload (which is likely more comprehensible).

[09:44:00.0000] <Philip`>
AryehGregor: They could apply heuristics to determine whether the filename is likely to be unreadable garbage or potentially useful

[09:44:01.0000] <AryehGregor>
They could.  Then if they tell it's garbage, what do they use instead?

[09:45:00.0000] <Philip`>
They could do the same things that the site publishing the content could do

[09:46:00.0000] <Philip`>
only they have more motivation to choose to do those things (since it affects their paying customers) and more experience than the site owner does

[09:50:00.0000] <AryehGregor>
They can't, because they don't have the same information.

[09:50:01.0000] <AryehGregor>
They don't have access to the original filename when the user uploaded the file, for example.

[09:50:02.0000] <AryehGregor>
Without widespread ARIA support, they also don't have programmatic access to captions and brief descriptions the user might have entered.

[10:09:00.0000] <jgraham>
AryehGregor: I would provide some generic text. Clearly what the UAs do now is actively harmful to their users

[10:09:01.0000] <jgraham>
"I" meaning "I as a UA author"

[10:09:02.0000] <AryehGregor>
jgraham, okay, but that's only mildly better.  It's certainly worse than low-quality author-added alt text, yes?

[10:10:00.0000] <AryehGregor>
So it's a good argument for saying that authors should be required to stick in whatever cruddy auto-generated alt text they can come up with.

[10:10:01.0000] <jgraham>
AryehGregor: That is far from obvious

[10:10:02.0000] <AryehGregor>
jgraham, the example makes it seems clear at least in Flickr's case.

[10:11:00.0000] <jgraham>
AryehGregor: Only because the UA behaviour right now is so user-hostile

[10:11:01.0000] <AryehGregor>
The original filename is likely better on average than a stock message, at least if you heuristically filter out total gibberish.

[10:11:02.0000] <AryehGregor>
Maybe, but that's where we stand.

[10:12:00.0000] <jgraham>
If it just said something generic you could quickly get on with reading the rest of the page which may have more useful information e.g. tags, descriptions, titles, comments, etc.

[10:12:01.0000] <jgraham>
The user-uploaded filename will in most cases be just as meaningless as the flickr one

[10:12:02.0000] <jgraham>
since it is just autogenerated by their camera

[10:13:00.0000] <jgraham>
Indeed flickr uses that as the default title and when people don't change it it is actively annoying

[10:13:01.0000] <AryehGregor>
Hmm, that's true.

[10:13:02.0000] <AryehGregor>
For photos.

[10:13:03.0000] <jgraham>
So I would prefer they just left in blank there too

[10:13:04.0000] <jgraham>
*it

[10:13:05.0000] <AryehGregor>
For non-photo images it often won't be true, though, the name is often meaningful.

[10:14:00.0000] <jgraham>
AryehGregor: Maybe, it's hard to tell

[10:14:01.0000] <AryehGregor>
Still, if UAs implemented heuristics to not read gibberish filenames, they could apply them to alt text too.

[10:14:02.0000] <AryehGregor>
I don't know if it hurts to give the UA extra data.

[10:34:00.0000] <volkmar>
are submit controls not barred from constraint validation to let authors play with setCustomValidity() and :invalid?

[10:42:00.0000] <AryehGregor>
There's not much point in barring something from constraint validation if it can't become invalid without setCustomValidity() being applied, I guess.

[10:50:00.0000] <volkmar>
AryehGregor: input type='reset|button' are barred

[10:50:01.0000] <volkmar>
and button type='reset|button'

[10:50:02.0000] <AryehGregor>
/me doesn't know, then

[10:50:03.0000] <volkmar>
it looks like all submit controls are not barred

[10:51:00.0000] <volkmar>
and I don't think we should let any element being invalid with setCustomValidity

[11:14:00.0000] <dandaman>
soooo

[11:15:00.0000] <dandaman>
my javascript functions were fine yesterday

[11:15:01.0000] <dandaman>
then i added some css3 to make sliding transitions on my site

[11:15:02.0000] <dandaman>
http://pastebin.com/g2q8BSGn

[11:15:03.0000] <dandaman>
line 2 no longer works

[11:15:04.0000] <dandaman>
any idea?

[11:16:00.0000] <dandaman>
even if i take out that slidingtable line

[11:16:01.0000] <dandaman>
that slidingtable line works btw

[11:16:02.0000] <TabAtkins>
$('continueIMage') will only select a <continueImage> element.

[11:16:03.0000] <TabAtkins>
You probably want a . or # in there.

[11:16:04.0000] <dandaman>
<img id="continueImage" name="continueImage" src="/fax-signup-api/images/continue.png" onclick="if(!isLoading){getNumber($('resultsList').value);}">

[11:17:00.0000] <dandaman>
it was working fine yesterday

[11:17:01.0000] <TabAtkins>
No, $('continueImage') would never have worked at any point.

[11:18:00.0000] <dandaman>
i have mootools imported

[11:18:01.0000] <dandaman>
not sure if that makes a difference

[11:18:02.0000] <dandaman>
but it was working

[11:18:03.0000] <TabAtkins>
Just change it to $('#continueImage') and try it out.

[11:18:04.0000] <dandaman>
i threw in an alert right after the continue image line

[11:18:05.0000] <dandaman>
i tried # and .

[11:18:06.0000] <dandaman>
both didnt work

[11:18:07.0000] <dandaman>
rather the alert never showed

[11:19:00.0000] <dandaman>
it seems like the function just gets stuck at that line

[11:19:01.0000] <TabAtkins>
This is jQuery, right?

[11:19:02.0000] <dandaman>
yeah i have jQuery imported

[11:19:03.0000] <TabAtkins>
Why are you setting the onclick like that in the first place?

[11:20:00.0000] <TabAtkins>
$("#continueImage").click(function(){ displayPersonalDID($('resultsList').value()); });

[11:20:01.0000] <dandaman>
the code i salvaged had it like that, i'll change it to .onclick='display...'

[11:20:02.0000] <TabAtkins>
No, .onclick won't work either.  The object returned by the $() function is *not* a DOM Node.

[11:20:03.0000] <dandaman>
ok that worked

[11:21:00.0000] <dandaman>
i'm not familiar with jquery, had no idea there was different syntax for that stuff, i am mainly using it to do the sliding transitions

[11:21:01.0000] <dandaman>
thanks

[11:29:00.0000] <hsivonen>
pretty low objector turnout so far

[11:51:00.0000] <hober>
hsivonen: for which poll?

[11:55:00.0000] <AryehGregor>
Where's frequency data on how often various elements are used?  I always forget this kind of thing.

[11:56:00.0000] <AryehGregor>
Google did something on this, yes?  But I forget what it was called.

[11:56:01.0000] <Philip`>
http://philip.html5.org/data/ has some :-)

[11:56:02.0000] <Philip`>
e.g. http://philip.html5.org/data/tag-count-pages.txt

[11:57:00.0000] <AryehGregor>
Thanks.

[11:57:01.0000] <Philip`>
You're probably thinking of http://code.google.com/webstats/

[11:57:02.0000] <Philip`>
though it's five years old now so things will have changed

[12:09:00.0000] <AryehGregor>
Philip`, how up-to-date is your data?

[12:09:01.0000] <AryehGregor>
The elements I'm looking at are way too marginal to show up in Google's stats.

[12:11:00.0000] <Philip`>
AryehGregor: The one I linked is quite old (maybe about two years?)

[12:11:01.0000] <AryehGregor>
k, thanks.

[12:12:00.0000] <Philip`>
I have the dotbot data that's more like a year old, if you want any numbers or searches from that

[12:14:00.0000] <AryehGregor>
No, basic data is fine.

[12:14:01.0000] <AryehGregor>
Someone was just asking for support for my claim that practically no one uses <kbd> or <samp>.

[12:14:02.0000] <AryehGregor>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=9919

[12:17:00.0000] <hsivonen>
hober: both versioning and ascii-ref

[12:23:00.0000] <hober>
IIRC I thought the counter-CPs covered the arguments pretty well, so I haven't bothered to respond to either

[12:23:01.0000] <AryehGregor>
Is the beforeload event standardized anywhere?

[12:23:02.0000] <hober>
that said, I enjoyed reading your reply to the versioning poll

[12:40:00.0000] <AryehGregor>
Looks like everyone except Opera 10.60 does a lousy job of caching redirects, at least when cookies are involved: http://stevesouders.com/tests/redirects/results.php

[12:40:01.0000] <Hixie>
hober: btw, thanks for all the spam fighting on the wiki, i was banning someone last night and saw how much you'd done, nice work :-)

[12:41:00.0000] <hober>
Hixie: no problem

[12:41:01.0000] <hober>
anne usually catches the ones that make it past me

[12:42:00.0000] <hober>
/me is subscribed to the recent changes feed

[12:42:01.0000] <hober>
so I catch things pretty early

[12:43:00.0000] <AryehGregor>
browserscope.org is cool, I never knew about it.

[12:45:00.0000] <TabAtkins>
Agreed, pretty cool.

[12:47:00.0000] <estellevw>
wish they provided more detail about the tests

[12:51:00.0000] <estellevw>
Why is <hr> included in 'grouping' elements in the spec

[12:52:00.0000] <estellevw>
seems like an odd man out in that section

[12:54:00.0000] <TabAtkins>
Where is it listed as 'grouping'?

[12:54:01.0000] <Philip`>
In the table of contents, at least

[12:55:00.0000] <estellevw>
http://www.whatwg.org/specs/web-apps/current-work/multipage/grouping-content.html#the-hr-element

[12:55:01.0000] <TabAtkins>
Oh, right.  ^_^  <hr> represents a paragraph-level break, grouping content in a way somewhat similar to the other grouping elements.

[12:55:02.0000] <Hixie>
"grouping" is a poor name

[12:55:03.0000] <Hixie>
but is the best i could come up with

[12:56:00.0000] <estellevw>
cause hgroup, which is in sectioning, feeling like 'grouping' is a better name

[12:57:00.0000] <estellevw>
'grouping' has meaning in itself that fits elmeents not in that group too

[12:57:01.0000] <estellevw>
though i can't come up with a better name either ;)

[12:59:00.0000] <estellevw>
how would you define "grouping"?

[13:09:00.0000] <estellevw>
i guess formerly block level elements are now divided into sectioning and grouping elements?

[13:14:00.0000] <slartsa>
anyone ever used kannel?

[13:37:00.0000] <cardona507>
TabAtkins:  how was your talk the other day?

[13:37:01.0000] <cardona507>
slides?

[14:06:00.0000] <oal>
Is it possible to remove or change the appearance of the box/arrow of a <select>?

[14:06:01.0000] <TabAtkins>
No.

[14:06:02.0000] <oal>
Oh, ok

[14:39:00.0000] <Hixie>
oops, forgot to update subject line for the last e-mail

[14:42:00.0000] <Hixie>
crap, did it again!

[14:50:00.0000] <jgraham>
/me hums "and when the first email has the wrong subject he knows he's losing it, and when the second email has the wrong subject he knows he's losing it, oh yeah he's losing it oh yeah he's losing it"

[14:50:01.0000] <jgraham>
Hmm, that was wrong

[14:51:00.0000] <jgraham>
Ironically

[15:18:00.0000] <Hixie>
i need a freely redistributable pretty ASCII art image about 10 lines long

[15:18:01.0000] <Hixie>
anyone got anything that fits?

[15:23:00.0000] <Lachy>
/me wonders if Sergey is in here? Reviewing his blog post now

[15:23:01.0000] <aho>
http://whatwg.pastebin.com/Ppe5K1PK

[15:23:02.0000] <aho>
:>

[15:24:00.0000] <aho>
there lots of generators online by the way

[15:24:01.0000] <aho>
http://www.network-science.de/ascii/ <- used that one with the goofy font

[15:25:00.0000] <Lachy>
Hixie, do you have Astrophy in ASCII art?

[15:25:01.0000] <wirepair>
probably not what you had in mind, but an awesome ascii font generator i use: http://patorjk.com/software/taag/

[15:29:00.0000] <TabAtkins>
Hixie: Got a 20-line one with Patrick Stewart facepalming.

[15:30:00.0000] <jamesr>
TabAtkins: WANT

[15:30:01.0000] <TabAtkins>
http://www.jozjozjoz.com/2010/03/22/picard-facepalm-ascii-art/

[15:30:02.0000] <TabAtkins>
First place I coudl re-find it.

[15:30:03.0000] <TabAtkins>
Interestingly enough, it's done in a proportional font.

[15:31:00.0000] <TabAtkins>
I've seen a better one, though.

[15:40:00.0000] <colapop>
Is <nav> the best choice for a table of contents block or is there something more targeted?

[15:41:00.0000] <TabAtkins>
Nah, that's what you want.

[16:11:00.0000] <Hixie>
aho, TabAtkins: ok so just to clarify, i meant an image, not text, and by "freely redistributable" i meant "has a known copyright situation" :-P

[16:11:01.0000] <Hixie>
Lachy: unfortunately not

[16:11:02.0000] <TabAtkins>
Hixie: Wait, what?  You want an image of text of an image?

[16:12:00.0000] <Hixie>
i want an image

[16:12:01.0000] <Hixie>
ascii art image

[16:12:02.0000] <Hixie>
a text/plain graphic

[16:12:03.0000] <Hixie>
not a text/plain graphic of text :-)

[16:12:04.0000] <AryehGregor>
Who's Sergey, and what blog post?

[16:12:05.0000] <TabAtkins>
...

[16:12:06.0000] <Hixie>
which is what aho suggested :-)

[16:12:07.0000] <TabAtkins>
So is this going to be text, or pixels?

[16:12:08.0000] <Hixie>
text

[16:13:00.0000] <TabAtkins>
Okay, that's what I thought.  I was confused why you were telling me this.

[16:14:00.0000] <nimbupani>
Would it be appropriate to ask questions about inset box-shadows here? 

[16:15:00.0000] <TabAtkins>
You could try, but they kind of confused me.

[16:16:00.0000] <TabAtkins>
s/ed/e/

[16:16:01.0000] <nimbupani>
ok :) 

[16:16:02.0000] <nimbupani>
http://dl.dropbox.com/u/952/pola/index.html

[16:16:03.0000] <nimbupani>
(sorry please refresh)

[16:16:04.0000] <nimbupani>
so two images. the one on right has box-shadow without inset

[16:17:00.0000] <nimbupani>
the one on left has with inset.

[16:17:01.0000] <nimbupani>
so the box shadow on right renders correctly, but the one on left does not render at all, even tho spec says box-shadows apply to all elements. 

[16:18:00.0000] <TabAtkins>
You been able to do get the inset to work on anything else?

[16:18:01.0000] <nimbupani>
yeah it works on non-img elms

[16:19:00.0000] <TabAtkins>
Then it's a browser bug.

[16:19:01.0000] <nimbupani>
but its like cross-browser :)

[16:19:02.0000] <TabAtkins>
Then file it on multiple browsers. ^_^

[16:19:03.0000] <TabAtkins>
There's no reason an inset shadow shouldn't work on an image.

[16:20:00.0000] <nimbupani>
yeah :(

[16:25:00.0000] <Lachy>
AryehGregor, Sergey is someone who e-mailed Hixie and i to review and publish a post on the whatwg blog.

[16:29:00.0000] <hober>
TabAtkins: how'd the panel go on Wednesday?

[16:29:01.0000] <TabAtkins>
Good times.

[16:30:00.0000] <TabAtkins>
I messed up my demo by hacking at it while starting the panel, but we saved it with another demo I'd written earlier.

[16:30:01.0000] <TabAtkins>
I recommend against flying twice in one day, though.

[16:30:02.0000] <TabAtkins>
I just wish we hadn't been kicked out of the room.  I always love the Q&A - people ask great questions at places like that.

[16:35:00.0000] <estellevw>
nimbupani: The inset shadow is working

[16:35:01.0000] <estellevw>
it's just appearing behind the image

[16:35:02.0000] <estellevw>
set the opacity to 0.5, and you'll see what i mean

[16:35:03.0000] <nimbupani>
estellevw: but it should appear in front of it ideally :/

[16:35:04.0000] <TabAtkins>
Yeah, that's a bug.  inset bugs go on top of the element.

[16:36:00.0000] <estellevw>
even on embedded content?

[16:36:01.0000] <TabAtkins>
Yes?

[16:36:02.0000] <estellevw>
spec unmemorized: if all browsers have same issue, that might need to be delineated

[16:37:00.0000] <estellevw>
should be a given, but ...

[16:37:01.0000] <nimbupani>
estellevw: i dont see the shadows on chrome/firefox as you said

[16:37:02.0000] <nimbupani>
oh wait let me use a higher pixel value

[16:38:00.0000] <nimbupani>
no o.

[16:38:01.0000] <estellevw>
nimbupani: I used firebug to set opacity to 0.5

[16:38:02.0000] <estellevw>
and change shadow to inset

[16:38:03.0000] <estellevw>
img {

[16:38:04.0000] <estellevw>
-moz-box-shadow:2px 2px 5px black inset;

[16:38:05.0000] <estellevw>
display:block;

[16:38:06.0000] <estellevw>
opacity:0.5;

[16:38:07.0000] <estellevw>
}

[16:39:00.0000] <nimbupani>
http://dl.dropbox.com/u/952/pola/index.html

[16:39:01.0000] <nimbupani>
i cannot see any shadow. 

[16:40:00.0000] <estellevw>
FF 3.6.7

[16:41:00.0000] <Hixie>
man i cannot find any ascii art with a clearly reusable copyright license

[16:41:01.0000] <nimbupani>
I am on that too, can you send me a screenshot?

[16:41:02.0000] <nimbupani>
use gyazo if you can :)

[16:42:00.0000] <estellevw>
so weird. I reloaded and it disappeared. Where should i send screenshot?

[16:42:01.0000] <nimbupani>
let me PM you. 

[16:51:00.0000] <estellevw>
so, if a box shadow is placed on a transparent gif, you can see it. The image is appearing on top of the shadow, not the other way around

[16:51:01.0000] <TabAtkins>
Yeah, that's definitely a bug.

[16:55:00.0000] <estellevw>
nimbupani: did you change the code, because now it's work in Opera 10.6, but it wasn't before

[16:56:00.0000] <nimbupani>
the image on the right will work.

[16:56:01.0000] <nimbupani>
because it is transparent png.

[16:56:02.0000] <nimbupani>
so you are right it IS rendering box-shadow but changing opacity will not show that. 

[16:56:03.0000] <estellevw>
ah, ok

[16:56:04.0000] <nimbupani>
but using transparent png does. 


2010-07-24
[17:02:00.0000] <dandaman>
when i set a <td> tag's style="width:200" and put stuff in it, the table cell won't expand right? only if the stuff i put in it overflows right?

[17:03:00.0000] <dandaman>
like if i put a 50px image inside the cell, the cell will still stay at width 200 right?

[17:03:01.0000] <dandaman>
not 250

[17:03:02.0000] <TabAtkins>
Yeah.

[17:04:00.0000] <dandaman>
well then i might as well shoot myself in the head because i have no idea what is wrong with my code then...

[17:16:00.0000] <dandaman>
are there any other ways to get the width of your screen or browser

[17:17:00.0000] <dandaman>
because screen.width is simply not working for me

[17:17:01.0000] <dandaman>
even though it should...

[17:21:00.0000] <estellevw>
is the device element supported by any browser?

[17:33:00.0000] <TabAtkins>
No, it's just a sketch at this point.

[17:38:00.0000] <dandaman>
ok i found the problem

[17:38:01.0000] <dandaman>
this is the weirdest thing ever

[17:39:00.0000] <dandaman>
so i have this function

[17:39:01.0000] <dandaman>
http://pastebin.com/D7hFrpnq

[17:39:02.0000] <dandaman>
http://pastebin.com/EERy5RZm

[17:40:00.0000] <dandaman>
sorry, that function

[17:40:01.0000] <dandaman>
theWidth is 1280 on my desktop

[17:40:02.0000] <dandaman>
which is fine

[17:40:03.0000] <dandaman>
but line #11 screws up apparently

[17:40:04.0000] <dandaman>
because line 12 alerts 5330

[17:40:05.0000] <dandaman>
instead of 6400 which is what 1280*5 is

[17:40:06.0000] <dandaman>
when i change line 11 to say ...=6400+'px'; it works though

[17:40:07.0000] <dandaman>
ideas?

[17:43:00.0000] <dandaman>
this happens with 2 browsers im trying it on

[17:46:00.0000] <nimbupani>
dbaron_: can I explain why I think this is a bug https://bugzilla.mozilla.org/show_bug.cgi?id=581601

[17:50:00.0000] <dandaman>
nevermind found it

[20:21:00.0000] <othermaciej>
AryehGregor: one thing screen readers could do (though I am not sure any do) is alert you to the presence of an image without describing it

[20:21:01.0000] <othermaciej>
for empty alt, most screen readers skip the image entirely

[20:22:00.0000] <othermaciej>
for missing alt, most read the filename, even if it is not human readable (so you get to hear "eye em gee zero zero three seven five four dot jay pee gee"

[20:25:00.0000] <jamesr>
that's a funny picture

[21:20:00.0000] <estellevw>
Do any browser support menu/command or details/summary?

[22:57:00.0000] <estellevw>
Does HTML5 do anything to help the issue that <input type="file" /> in the past has been almost impossible to style? 

[22:58:00.0000] <estellevw>
Is there a different file selection mechanism?

[22:59:00.0000] <estellevw>
And anyone know if webkit plans on following the suggested spec presentation order? "the element is expected to render as an 'inline-block' box containing a span of text giving the filename(s) of the selected files, if any, followed by a button that, when activated, provides the user with a file picker from which the selection can be changed."

[22:59:01.0000] <estellevw>
right now the button preceded text, rather than an input box preceding a button (like IE, FF and Opera)

[23:19:00.0000] <estellevw>
<crickets>

[00:45:00.0000] <beilabs>
I'm using a cache manifest file, and I have the files that I want to be cached all listed there....does this mean that I can add a path to a file I have never visited before and then it should be automatically cached once I visit a page with the manifest set up correctly?  Or do I need to visit it at least one time?

[00:47:00.0000] <beilabs>
think  I found the answer: Whenever the user browses to the page corresponding to a document to which a cache manifest is associated, the browser must check on the server if the latter has been modified:

[01:50:00.0000] <estellevw>
The pattern attribute: reading the spec it seems to be case insensitive, but the implementation seems to be case sensitive.

[01:51:00.0000] <estellevw>
am i wrong about the spec, or is webkit and opera wrong on the implmentation?

[01:51:01.0000] <estellevw>
example at http://www.standardista.com/webkit/ch4/color.html

[01:52:00.0000] <estellevw>
Constraint validation: If the element's value is not the empty string, and the element's pattern attribute is specified and the attribute's value, when compiled as a JavaScript regular expression with the global, ignoreCase, and multiline flags disabled (see ECMA262 Edition 5, sections 15.10.7.2 through 15.10.7.4), compiles successfully but the resulting regular expression does not match the entirety of the element's value, the

[01:52:01.0000] <estellevw>
suffering from a pattern mismatch. [ECMA262]

[01:52:02.0000] <estellevw>
i find that confusing

[01:52:03.0000] <estellevw>
or does that mean it has to be case sensitive?

[01:56:00.0000] <jgraham>
If ignoreCase is disabled it is case sensitive, yes

[04:51:00.0000] <beilabs>
 Is window.openDatabase supported in Firefox 3.6+?

[05:01:00.0000] <jgraham>
beilabs: Firefox don't and won't support WebSQL

[05:01:01.0000] <jgraham>
They believe it is not a good technology

[05:02:00.0000] <beilabs>
jgraham, yeah, did a bit of reading on it since, 

[05:02:01.0000] <beilabs>
going down this route instead http://github.com/marcuswestin/store.js

[05:02:02.0000] <beilabs>
Had everything working perfectly in chrome 

[05:02:03.0000] <beilabs>
then went to FFox, to realize that.

[05:02:04.0000] <beilabs>
doh

[05:03:00.0000] <beilabs>
jgraham, do you have any references where Mozilla mention that it's a bad tech?

[05:06:00.0000] <jgraham>
http://hacks.mozilla.org/2010/06/beyond-html5-database-apis-and-the-road-to-indexeddb/ has some points

[05:08:00.0000] <beilabs>
jgraham, thanks dude

[06:15:00.0000] <Workshiva>
jgraham: Who supports WebSQL now?

[06:15:01.0000] <Ms2ger>
Opera and WebKit?

[07:31:00.0000] <jgraham>
Yeah, opera and Webkit

[07:41:00.0000] <Slaanesh>
Is Opera going to keep supporting it?

[07:48:00.0000] <jgraham>
I don't know of any plans not to

[07:50:00.0000] <Slaanesh>
Bah

[07:51:00.0000] <Slaanesh>
Kill it before it gets even more entrenched, I say

[07:52:00.0000] <jgraham>
I'm not sure that we could kill it in general by dropping support

[07:53:00.0000] <Slaanesh>
Could at least limit it to iphone apps

[07:53:01.0000] <jgraham>
My understanding is that a lot of the users are people labouring under the assumption that mobile === Webkit

[07:54:00.0000] <jgraham>
The concept of "iPhone apps" that are actually just websites that can be accessed by many types of device makes no sense to me

[07:55:00.0000] <hsivonen>
jgraham: it's kinda sad that authors are so ready to jump back to the monoculture mindset after the last time

[07:55:01.0000] <jgraham>
hsivonen: Really.

[07:55:02.0000] <Slaanesh>
hsivonen: But it's much more cool and elegant this time

[07:56:00.0000] <jgraham>
I guess it is easy to believe that the problems last time were because Microsoft are evil

[07:59:00.0000] <jgraham>
Rather than the IMHO more likely truth that they were the inevitable result of insufficient competition

[08:04:00.0000] <jgraham>
Oh man, a proposal for more document.write like functionality

[08:05:00.0000] <jgraham>
That's just waht the world needs

[08:05:01.0000] <gsnedders>
Totally. It's beautiful design.

[08:08:00.0000] <Slaanesh>
Did I tell you guys about the chrome bug where document.write() with a script tag interrupts script execution to run the new script?

[08:12:00.0000] <hsivonen>
Slaanesh: that's not enough detail to know if it's a bug

[08:14:00.0000] <Slaanesh>
<script>document.write('<script src=x.js></script>');console.log(1);</script> will sometimes (but not always) execute x.js before logging 1

[08:15:00.0000] <hsivonen>
Slaanesh: ok. that's a bug. 

[08:16:00.0000] <hsivonen>
Slaanesh: my guess would be to look at the interaction of resource loads from cache and script execution

[09:53:00.0000] <EclipseGc>
hah, nice

[12:28:00.0000] <cyberix>
How do I construct a blob?

[16:25:00.0000] <jgraham>
http://hg.hoppipolla.co.uk/hgwebdir.cgi/websrtjs/

[16:25:01.0000] <jgraham>
WebSRT parser

[16:25:02.0000] <jgraham>
Probably *horribly* buggy

[16:26:00.0000] <jgraham>
Doesn't actually do anything useful yet (like, say, display captions)

[16:26:01.0000] <jgraham>
Just parses the SRT file

[16:27:00.0000] <jgraham>
Also doesn't create real DOM nodes yet


2010-07-25
[18:09:00.0000] <Hixie>
jgraham: btw, i'll probably comment out the vertical text stuff soon since CSS doesn't yet define how to render it

[21:05:00.0000] <micheil>
Hixie: websockets: ready for public comsumption by the end of the year?

[21:05:01.0000] <micheil>
(or hopefully ready)

[21:33:00.0000] <aho>
mmm... websockets... nom nom :v

[21:46:00.0000] <Hixie>
micheil: i'm not aware of any known issues, but the hybi wg seems to have a lot of members who basically want to start over

[21:47:00.0000] <micheil>
Hixie: please not.

[21:47:01.0000] <micheil>
Hixie: just wanted to give you a heads up on: http://plancast.com/a/40wi/record_episode_030_-_websockets_freenode_thechangelog_saturday_july_31_2010_500pm

[21:48:00.0000] <Hixie>
i have no idea what i'm looking at :-)

[21:49:00.0000] <micheil>
okay, basically a popular opensource oriented podcast is doing an episode on websockets, and their current usage

[21:49:01.0000] <Hixie>
if you don't want the hybi wg to change everything, i recommend saying so on the list -- right now there seems to be a lot of people who have said they think the protocol shouldn't be designed for amateurs, and if that isn't a requirement, the protocol would be radically different

[21:49:02.0000] <micheil>
it's being recorded next weekend

[21:49:03.0000] <Hixie>
ah, nice

[21:49:04.0000] <micheil>
quite frankly, I don't think it's a protocol designed for ametuers

[21:49:05.0000] <micheil>
*amatuers

[21:50:00.0000] <Hixie>
well it might not succeed, but it is designed for them :-)

[21:50:01.0000] <Hixie>
if i wasn't designing with amateurs in mind, i'd just do it always TLS, and support things like multiplexing built-in

[21:52:00.0000] <micheil>
well, really, do we need TLS on always?

[21:52:01.0000] <micheil>
I mean, saying that could imply that HTTP was designed with amateurs in mind

[21:56:00.0000] <micheil>
Hixie: isn't TLS fairly expensive to achieve?

[21:56:01.0000] <micheil>
ie. meaning that websockets with TLS wouldn't be a disposable transport

[22:42:00.0000] <Hixie>
TLS isn't really that expensive relative to other costs involved in a long-lived connection at this point, as I understand it

[22:42:01.0000] <Hixie>
the main cost of TLS, as I understand it, is connection setup and the block-based encryption which increases latency of short bits, but the latter could presumably be worked around easily enough

[22:43:00.0000] <Hixie>
(this is not my area of expertise, though)

[22:43:01.0000] <Hixie>
i've no idea what HTTP's design criteria were

[22:43:02.0000] <Hixie>
but at this point HTTP certainly isn't trivially implementable if you want a complete conforming implementation, either on the client or on the server

[00:08:00.0000] <othermaciej>
Hixie: out of curiosity, are there any existing protocols that are simple enough to be implemented by amateurs?

[00:08:01.0000] <othermaciej>
(either client or sever sides thereof)

[00:08:02.0000] <Hixie>
not a network protocol, but CGI

[00:09:00.0000] <othermaciej>
that's definitely an example where stock servers implemented a network protocol and exposed a simpler semi-standardized interface for hand-rolled software to plug in

[00:09:01.0000] <micheil>
I think we should really drop the idea that websockets are easy.

[00:09:02.0000] <micheil>
it's up to the implementors of the protocol to make it easy to work with.

[00:09:03.0000] <micheil>
but the protocol itself doesn't need to be easy for developers

[00:09:04.0000] <micheil>
(if that makes sense)

[00:10:00.0000] <Hixie>
i think that assumes that the developers and the implementors of the protocol are going to be distinct

[00:10:01.0000] <micheil>
well, I'm making that distinction

[00:10:02.0000] <othermaciej>
I think citing CGI as an example would tend to argue that Websockets should also follow the CGI model to solve the "amateur" use case

[00:10:03.0000] <othermaciej>
I wonder if there is any case of a network protocol that is widely implemented directly from scratch

[00:10:04.0000] <micheil>
if you make a web app, you're probably not also writing the http server to power it.

[00:11:00.0000] <Hixie>
only because http is so hard to implement

[00:11:01.0000] <micheil>
you're probably using nginx, apache or something like that.

[00:11:02.0000] <micheil>
so, the people that write the things to work with the protocol are the implementors, the developers are the ones that use implementations to make awesome stuff

[00:11:03.0000] <Hixie>
my point is that the only reason we don't see people implementing protocols so often is that they're hard to implement

[00:11:04.0000] <othermaciej>
the IRC protocol has been implemented many times I guess, does it tend to get implemented from scratch by people whose main goal is something besides just "implement IRC"?

[00:12:00.0000] <othermaciej>
IRC bots tend to talk IRC directly, but I have no idea if people use libraries to implement them

[00:12:01.0000] <micheil>
I mean, when people first started catching on to websockets and node.js, there were about 10 different implementations, all of which didn't actually implement the protocol to specification

[00:14:00.0000] <othermaciej>
If there is no existing example of a protocol people often implement from scratch just to make a piece of toy software, then it may be that there is in fact no such thing, and then it would be pointless to try to serve that use case

[00:14:01.0000] <Hixie>
that's tautological

[00:15:00.0000] <othermaciej>
if there are examples of such protocols, then they could be useful for convincning people that it's a worthwhile property of a protocol

[00:15:01.0000] <Hixie>
that line of argumentation regresses to nobody ever trying

[00:16:00.0000] <othermaciej>
has anyone ever tried before?

[00:16:01.0000] <othermaciej>
if so, have they succeeded or failed?

[00:16:02.0000] <Hixie>
not to my knowledge

[00:16:03.0000] <othermaciej>
what can we learn from their attempts?

[00:17:00.0000] <Hixie>
i'm not aware of any attempt to design a protocol that is purposefully kept simple enough that it is possible for amateurs to implement it in a few days other than CGI

[00:17:01.0000] <Hixie>
(on the server side)

[00:17:02.0000] <Hixie>
(obviously on the client side we've designed tons of APIs that way, that's what the web is made of)

[00:17:03.0000] <othermaciej>
CGI is not a network protocol though

[00:17:04.0000] <othermaciej>
it's a design intended to hide the complexity of what was, at the time, a very simple protocol

[00:19:00.0000] <othermaciej>
sure, but APIs aren't really comparable to network protocold

[00:19:01.0000] <Hixie>
why not?

[00:21:00.0000] <othermaciej>
because you don't have to build your intraction with them out of low-level primitives like select() and read()

[00:21:01.0000] <othermaciej>
the DOM is a significantly higher-level abstraction than Unix system calls

[00:22:00.0000] <Hixie>
*shrug*

[00:22:01.0000] <Hixie>
i don't buy that that matters

[00:23:00.0000] <othermaciej>
I think the reason people don't build network protocols from scratch is not because every existing protocol is too complicated but rather because Unix system calls are too low-level an abstraction to be convenient

[00:23:01.0000] <othermaciej>
as supporting evidence, I would cite the fact that amateurs rarely write *any* software that directly interacts with Unix system calls

[00:23:02.0000] <Hixie>
come now, it's not that hard

[00:24:00.0000] <othermaciej>
I would say you have zero evidence for the assertion that it's "not that hard"

[00:24:01.0000] <Hixie>
not sure what would count as evidence

[00:25:00.0000] <othermaciej>
examples of types of code that amateurs often write from scratch using read/write/select or a similarly low-level interface

[00:25:01.0000] <Hixie>
i'm not a professional programmer and i've had minimal trouble implementing network code in multiple languages

[00:26:00.0000] <othermaciej>
I think the "amateur programmers" you are concerned about are at least 3 standard deviations below you on the IQ scale

[00:26:01.0000] <othermaciej>
so I would not accept "not hard for Ian Hickson" as evidence

[00:27:00.0000] <othermaciej>
unless your goal is just to make something simple to implement for people 3 or 4 standard deviations above the mean IQ who happen not to be paid primarily to program

[00:28:00.0000] <Hixie>
i don't know of any situation before websockets where what you describe as suitable evidence would have come up

[00:28:01.0000] <othermaciej>
well there's lots of things you *could* do with raw Unix syscalls

[00:28:02.0000] <Hixie>
like what?

[00:29:00.0000] <othermaciej>
it just happens that in every case where that is a possibility, the vast majority of people use higher-level libraries

[00:29:01.0000] <Hixie>
even with websockets i expect most people to use libraries, that doesn't mean we should not cater for people who don't use libraries

[00:29:02.0000] <othermaciej>
three examples: implementing the "load" or "save" feature of a random toy application; reading config files; launching applications

[00:29:03.0000] <Hixie>
most web APIs are abstracted out by libraries too

[00:30:00.0000] <Hixie>
if it makes you more willing to accept it as a requirement, we can also phrase it as "keep the protocol as simple as possible to limit the number of bugs that professional programmers make"

[00:31:00.0000] <micheil>
Hixie: as long as it's implementable by reading the spec and as long as I don't need a ITC doctorate + phd to understand it, I'm cool.

[00:31:01.0000] <Hixie>
just look at the mess "professional programmers" have made of simple APIs like postMessage() or simple protocols like HTTP

[00:31:02.0000] <othermaciej>
let's say we accepted the premise that no matter what the protocol design is, .01% of people will implement from scratch instead of using a library - would it then be useful to cater to the "direct implementation" use case?

[00:31:03.0000] <othermaciej>
I totally agree that the protocol should be as simple as possible to limit bugs

[00:31:04.0000] <othermaciej>
it's already kind of scary complicated on the client side

[00:31:05.0000] <othermaciej>
I only find that acceptable because significant complexity is needed just to make it secure

[00:32:00.0000] <Hixie>
my goal is just to have the protocol be trivial, i don't really care if we phrase it as "cater to amateurs" or "limit bugs that libraries will have" or whatnot, it's all the same result in practice

[00:32:01.0000] <Hixie>
i just find it easier to think about what concretely is simple or not when i consider a hypothetical amateur programmer than when i just think of keeping it "simple"

[00:33:00.0000] <othermaciej>
no matter what your goal is, you should not use a fallacious argument as the public justification for it

[00:33:01.0000] <othermaciej>
I do think there are material differences in the two standards though

[00:33:02.0000] <Hixie>
(a third way of phrasing it is that the protocol should be as minimal a layer above TCP as possible, since we're just trying to do TCP for the Web)

[00:34:00.0000] <othermaciej>
for the hypothetical "professional programmer who might make mistakes", a requirement to use a TLS library would be no greater a burden than a requirement to use TCP

[00:34:01.0000] <Hixie>
that's clearly not the case

[00:34:02.0000] <Hixie>
the number of buggy TLS configurations on the web is clear evidence of how wrong that is

[00:35:00.0000] <othermaciej>
is it greater than the number of buggy non-TLS configurations on the Web?

[00:35:01.0000] <othermaciej>
(not sure how to compare, since I do not know what you mean by "buggy configration")

[00:36:00.0000] <Hixie>
i have no idea what your question means

[00:36:01.0000] <othermaciej>
anyway, I bet if you proposed a standard of "as simple as possible, to limit the mistakes made even by professional/expert implementors", in place of "simple enough for amateurs", I bet nearly everyone would agree

[00:36:02.0000] <Hixie>
i mean things like self-signed certs, wrong certs, etc

[00:36:03.0000] <othermaciej>
evn if you think the two standards are equivalent in practice

[00:36:04.0000] <othermaciej>
I see

[00:37:00.0000] <othermaciej>
surely you can't count those kinds of things as programming errors

[00:37:01.0000] <Hixie>
making TLS libraries do the right thing is orders of magnitude more complex than making select() do the right thing

[00:37:02.0000] <othermaciej>
the people who programmed Apache have nothing to do with what kind of cert you put on your server

[00:37:03.0000] <Hixie>
you're the editor of the requirements doc, i'll let you deal with justifying it :-)

[00:37:04.0000] <othermaciej>
I'm trying to quit!

[00:38:00.0000] <othermaciej>
but fine, I will propose that wording and see who objects

[00:38:01.0000] <Hixie>
the protocol i'm designing is a trivially-implementable TCP for web browsers

[00:38:02.0000] <Hixie>
if that's what hybi wants, it's what they'll get

[00:38:03.0000] <Hixie>
if it's not, i'll do it elsewhere

[00:38:04.0000] <Hixie>
we're only doing it in the hybi wg because the ietf told me that they wanted to have the trivially-implementable TCP for web browsers spec i was working on done at the IETF

[00:39:00.0000] <Hixie>
if they change their mind, I don't really mind

[00:39:01.0000] <Hixie>
that's up to them

[00:39:02.0000] <Hixie>
so i don't really feel the need to justify this particular aspect of the design; for me, it's a given

[00:39:03.0000] <othermaciej>
shouldn't your goals be driven by use cases?

[00:40:00.0000] <Hixie>
who said they weren't?

[00:40:01.0000] <Hixie>
the use case collection for this stuff happened years ago

[00:40:02.0000] <Hixie>
around 2005

[00:40:03.0000] <othermaciej>
you seem to be saying that you have some standard of "trivially implementable" that you are not willing to revise based on arguments or data, and which is not clearly driven by a realistic use case

[00:41:00.0000] <Hixie>
http://www.w3.org/TR/html-design-principles/#avoid-needless-complexity

[00:42:00.0000] <colapop>
For a site like Wikipedia, would it be "semantic" to put the nav links for article/discussion/edit/history/etc. within the <article> element?

[00:42:01.0000] <Hixie>
colapop: yes

[00:42:02.0000] <othermaciej>
Sure, but that's no reason not to http://www.w3.org/TR/html-design-principles/#solve-real-problems

[00:42:03.0000] <Hixie>
we are

[00:42:04.0000] <othermaciej>
you said that if you didn't have this "amateur programmer" standard, you would make at least two changes which could solve real problems

[00:42:05.0000] <othermaciej>
(require TLS, include multiplexing)

[00:43:00.0000] <micheil>
seriously, why do we want TLS?

[00:43:01.0000] <micheil>
I see pretty much 0 benefit.

[00:43:02.0000] <micheil>
do most people browser the web always using https?

[00:43:03.0000] <estellevw>
is it <event-source> or <eventsource>

[00:43:04.0000] <othermaciej>
micheil: two basic reasons

[00:44:00.0000] <micheil>
othermaciej: please, do explain.

[00:44:01.0000] <othermaciej>
micheil: (1) it's much easier to get through a proxy with SSL over port 443 rather than non-SSL over port 80, with a bidirectional protocol

[00:44:02.0000] <Hixie>
othermaciej: i consider not having the keep-it-simple standard as equivalent to not having to worry about use cases, in which case i'd be designing a protocol for aethetics and theory, not real problems

[00:44:03.0000] <othermaciej>
(Google gathered some data and found only about a 60% success rate over port 80)

[00:44:04.0000] <micheil>
actually, there will be a larger dataset coming out soon on websocket support.

[00:44:05.0000] <Hixie>
othermaciej: i hadn't really considered that there might be people who want to "solve real problems" without also keeping the protocol as simple as possible

[00:45:00.0000] <micheil>
I can't say much more then that at the moment though

[00:45:01.0000] <Hixie>
estellevw: neither

[00:45:02.0000] <othermaciej>
Hixie: I think the standard should be "as simple as possible while addressing the most important (80% use case) problems"

[00:45:03.0000] <Hixie>
othermaciej: sure, that's what websockets is for

[00:46:00.0000] <Hixie>
estellevw: (the element is gone, now it's just an API)

[00:46:01.0000] <micheil>
I would actually do a test on a highly proxied & filtered network, but alias, the network actually blocks all my own domains.

[00:46:02.0000] <othermaciej>
micheil: (2) it's much easier to design a protocol that you can be confident won't cause security problems for existing Web servers if it's built on top of TLS

[00:46:03.0000] <estellevw>
thanks hixie.

[00:46:04.0000] <micheil>
(this network would be the NSW Department of Education network, which I have been told is one of the most highly filtered networks around)

[00:47:00.0000] <othermaciej>
Hixie: that standard is clearly *not* equivalent to "trivially implementable from scratch" or "simple enough for an amateur to implement"

[00:47:01.0000] <micheil>
othermaciej: (2) not really.

[00:47:02.0000] <Hixie>
othermaciej: i don't see any concrete difference

[00:47:03.0000] <othermaciej>
Hixie: that standard would say, if there is a useful piece of functionality that puts the feature out of reach of amateur implementors, you add it anyway

[00:47:04.0000] <Hixie>
othermaciej: no

[00:47:05.0000] <othermaciej>
I mean, imagine the version of <video> that is simple enough for amateurs to implement

[00:47:06.0000] <micheil>
If I'm going to have to implement TLS, I'm going to find it damn hard; and if you get it wrong, then what's the good?

[00:47:07.0000] <othermaciej>
it would be pretty useless

[00:48:00.0000] <Hixie>
othermaciej: ok, i do think that websocket should be implementable by a broader range of people than something aimed exclusively at web browser vendors

[00:48:01.0000] <micheil>
othermaciej: besides, if you really want security: use the ssl / wss upgrade.

[00:48:02.0000] <micheil>
connect using SSL.

[00:49:00.0000] <othermaciej>
micheil: you're going to have to trust me that (2) is true, but I don't have the time right now to explain security against cross-protocol attacks in detail

[00:49:01.0000] <Hixie>
othermaciej: for example, i think the ConnectionPeer protocol, whatever that ends up being, can easily be orders of magnitude more complex to implement than WebSockets, since it only needs to be implemented a few times, mainly by browser vendors, maybe a couple of times for stand-alone servers

[00:49:02.0000] <othermaciej>
Hixie: pro browser vendors are definitely not immune to mistakes :-)

[00:50:00.0000] <micheil>
othermaciej: seriously, how often do you see someone cross-protocol attacking one of your servers. Not to say it doesn't happen. but I just think it's fairly rare.

[00:50:01.0000] <othermaciej>
but I agree that the client side of Web protocols is likely to be implemented fewer times

[00:50:02.0000] <Hixie>
othermaciej: but WebSockets is likely to be implemented many orders of magnitude more times than that; for one, i'd expect every programming language to end up with a library to implement it

[00:50:03.0000] <Hixie>
othermaciej: they're not immune to mistakes but they get FAR more testing

[00:50:04.0000] <Hixie>
than your average custom server

[00:50:05.0000] <othermaciej>
I think "Server side of a Web network protocol" falls somewhere between "client-side implementation of something Web-facing" and "use of a Web API" in maximum acceptable complexity

[00:50:06.0000] <Hixie>
or scripting library

[00:51:00.0000] <micheil>
actually, from what I've heard, a fair few people in the php community have already found draft76 too hard to implement, so they've turned to using things like node.js + node-websocket-server

[00:51:01.0000] <othermaciej>
based just on number of people likely to do it

[00:51:02.0000] <Hixie>
micheil: yeah, we've had several people come here in #whatwg asking for help because it's too complex already

[00:51:03.0000] <Hixie>
micheil: that's one reason i am so reluctant to go any further and add more complexity

[00:52:00.0000] <micheil>
I think my own websocket library, while not up to 100% spec, I think it's at about 80-90%

[00:52:01.0000] <Hixie>
micheil: i'd love to find way to make it simpler, but i can't see how to do so while still hitting the 80% othermaciej mentions

[00:52:02.0000] <othermaciej>
I think for this particular protocol, the security requirements are in major tension with ease of implementation

[00:52:03.0000] <Hixie>
clearly

[00:53:00.0000] <othermaciej>
it's unfortunate that client-side security concerns have to be in tension with ease of implementation for servers

[00:53:01.0000] <othermaciej>
I think multiplexing could be added in a way that it has zero impact on servers that don't want it

[00:53:02.0000] <othermaciej>
but it would add a *lot* of complexity for clients

[00:53:03.0000] <othermaciej>
and significant security risk

[00:53:04.0000] <othermaciej>
I don't think it would have some of the benefits people imagine either

[00:54:00.0000] <Hixie>
multiplexing is pointless to add at the protocol level

[00:54:01.0000] <othermaciej>
to really reduce the rate of keepalive pings, you need to consolidate keepalives for connections to multiple servers

[00:54:02.0000] <Hixie>
it's easy to add at the application layer for people who want it

[00:54:03.0000] <Hixie>
and TCP doesn't have it

[00:54:04.0000] <Hixie>
do you know why we can't use TCP keepalives, btw?

[00:55:00.0000] <othermaciej>
does TCP have keepalives?

[00:55:01.0000] <othermaciej>
I don't think it does

[00:55:02.0000] <Hixie>
sure, just send an empty packet

[00:55:03.0000] <micheil>
seriously, I only just understand what multiplexing is, but I can't see how I'd benefit from using it at a web developer level

[00:55:04.0000] <othermaciej>
well, it doesn't have built-in passive keepalives

[00:55:05.0000] <othermaciej>
clearly you could use an empty TCP packet as a WebSocket keepalive

[00:56:00.0000] <othermaciej>
or at least, I can't think of a reason why not

[00:56:01.0000] <othermaciej>
however, the problem I would worry about is, what if you have WebSocket connections open to 10 different servers

[00:56:02.0000] <othermaciej>
that's more likely than 10 connections to 1 server

[00:56:03.0000] <othermaciej>
it sucks that you have to send a bunch of packets

[00:57:00.0000] <othermaciej>
seems like it could be avoidable in principle if you are talking to all 10 servers through a single proxy

[00:57:01.0000] <micheil>
othermaciej: so far I've never noticed a client sending empty packets just to keep the socket alive.

[00:57:02.0000] <othermaciej>
(my understanding is that keepalive is needed primarily to keep intermediaries from severing the connection)

[00:57:03.0000] <micheil>
but I am some what abstracted from the network level api

[00:57:04.0000] <Hixie>
i don't really see much point in keepalives personally

[00:58:00.0000] <Hixie>
but they're easily done at the application layer also

[00:58:01.0000] <micheil>
Hixie: agreed.

[00:58:02.0000] <Hixie>
so if people have subprotocols that don't send much data, they can do it easily

[00:58:03.0000] <othermaciej>
is there such a thing as a use of WebSocket where you will provably never need keepalives?

[00:58:04.0000] <micheil>
it just makes application logic slightly more complicated.

[00:58:05.0000] <Hixie>
frankly though if you're sending so little data that you need keepalives, i'd strongly recommend considering whether HTTP might not solve your needs better

[00:59:00.0000] <Hixie>
othermaciej: sure, any game where you send state regularly, for instance

[00:59:01.0000] <Hixie>
othermaciej: or anything where the server sends regular updates

[00:59:02.0000] <micheil>
or for a chat server

[00:59:03.0000] <micheil>
or other realtime interaction

[01:00:00.0000] <micheil>
there's been talk already in the serverside javascript movement of an end-to-end javascript static, with websockets being the communication medium

[01:00:01.0000] <othermaciej>
I don't understand enough about the problem that keepalives try to prevent

[01:00:02.0000] <Hixie>
keepalives as i understand it basically solve the problem of NATs thinking your connection is old and thus forgetting about it

[01:01:00.0000] <othermaciej>
I think if you are waiting for the server to notify you, and both the client and the server have nothing to send for a while, you definitely need keepalives, and using HTTP you will still need them

[01:01:01.0000] <Hixie>
so they stop routing packets properly

[01:01:02.0000] <Hixie>
if you're just waiting for server notifications, EventSource is likely more up your alley, and the server can send regular "no updates yet" messages if necessary

[01:02:00.0000] <micheil>
EventSource does look interesting, especially for push-only events

[01:02:01.0000] <othermaciej>
if the client could possibly gain enough knowledge of network topology to avoid the need of keepalives, that too would be a possible reason to have them built-in

[01:02:02.0000] <micheil>
there's actually a library that's combining things like bayuex, websockets, eventsource, etc into one communication medium, which is kind of interesting

[01:03:00.0000] <micheil>
othermaciej: so far I've not needed to even touch keepalives.

[01:03:01.0000] <othermaciej>
eventsource is neat because it's trivial to deploy

[01:03:02.0000] <othermaciej>
you can just use your favorite web stack and there's no need to worry about weird network configurations

[01:09:00.0000] <micheil>
which should be what websockets should be.

[01:09:01.0000] <micheil>
all you should need in order to use websockets is a server with some application level logic + a client that connects.

[01:19:00.0000] <othermaciej>
unfortunately, it's more complicated than that :-(

[01:28:00.0000] <micheil>
othermaciej: it shouldn't have to be.

[01:34:00.0000] <ksemeks>
is there a book or something about html5/js ?

[01:37:00.0000] <micheil>
ksemeks: no, but there is a really good course being done by John Allsopp over at sitepoint

[01:37:01.0000] <micheil>
http://courses.sitepoint.com/html5-live

[01:37:02.0000] <micheil>
(well, I don't know of a book)

[01:38:00.0000] <micheil>
as for javascript, take your pick of books. 

[01:38:01.0000] <micheil>
javascript's a massive thing, and a powerful language, if you use it right.

[01:39:00.0000] <ksemeks>
i picked 'Javascript: The definitive guide', of OReaily

[01:40:00.0000] <ksemeks>
is there a better one, ? ..

[01:45:00.0000] <micheil>
that's a pretty good book, JavaScript: The good parts is also good.

[01:45:01.0000] <micheil>
the best way to learn javascript is to read javascript

[01:46:00.0000] <micheil>
(by that, I don't mean trying to read the source code to jquery first up)

[01:46:01.0000] <micheil>
I mean, try looking at things like the language syntax

[01:47:00.0000] <ksemeks>
im familiar with the syntax 

[01:47:01.0000] <micheil>
in which case, pick something to do with it.

[01:48:00.0000] <micheil>
(i think my first javascript thing was making a "webos" because those things were somewhat trendy at the time.)

[01:48:01.0000] <ksemeks>
ok :)

[01:51:00.0000] <micheil>
ksemeks: although, start simple. 

[01:51:01.0000] <micheil>
and don't just learn jQuery or another js library, because they may abstract you too far from the language

[01:53:00.0000] <cyberix>
I wrote a simple example about sending binary data with XHR2. http://cs.helsinki.fi/u/twruottu/binpost.js

[01:55:00.0000] <cyberix>
I am not sure it works. I just wrote it so I'd have something to show.

[01:55:01.0000] <cyberix>
Do I need to construct the Blob myself, or should I use some library function for that?

[01:56:00.0000] <cyberix>
in the example 2/3 of the code is about defining/constructing a blob

[01:56:01.0000] <cyberix>
having a constructor provided by browser would really help

[01:57:00.0000] <micheil>
and what exactly is a Blob?

[01:57:01.0000] <micheil>
because "foo" isn't binary data.

[01:59:00.0000] <cyberix>
http://dev.w3.org/2006/webapi/FileAPI/#blob

[02:00:00.0000] <cyberix>
by "foo" I mean 0x66 0x6F 0x6F

[02:00:01.0000] <cyberix>
that is what it becomes when you turn it into data:,foo

[02:01:00.0000] <micheil>
okay

[02:01:01.0000] <micheil>
well, iirc, there aren't any current binary implementations native to javascript

[02:13:00.0000] <cyberix>
that is not a problem

[02:13:01.0000] <cyberix>
constructing the blob by hand is

[03:14:00.0000] <jgraham>
micheil: I don't quite understand your position on websockets. Do you believe it should be easy to implement servers ( the "amateur programmer" requirement). Do you believe it currently succeeds in this goals?

[03:15:00.0000] <jgraham>
s/goals/goal/

[03:19:00.0000] <jgraham>
(those questions are orthogonal i.e. you might believe it is simple currently but need not be)

[06:34:00.0000] <micheil>
jgraham: I believe it's simple enough; I think adding ssl / tls as a requirement would over complicate it

[06:35:00.0000] <micheil>
I don't see it as a protocol implementable by "the amateur programmer", but rather something that while it does require some background knowledge to implement, it's not super technical. If you read the spec, then all the information is there – it's well documented.

[06:39:00.0000] <micheil>
adding any form of encryption would be unnecessary for what I think the majority of uses for websockets would be, look at the ways that realtime communication in the browser is currently being used

[06:40:00.0000] <micheil>
there's a few cases, where, ssl security may be good (such as in analytics applications, or specialised chat applications) but I think for every day use, eg, for the standard chat network, or collaborative tool, I don't think SSL is of much importance

[06:41:00.0000] <micheil>
and if you have a situation which would be benefited from having encryption, eg, when dealing with business data, then you can add it on, like you do with ssl encryption to HTTP

[06:42:00.0000] <micheil>
jgraham: in essences, being simple / easy for amateur programmers to implement shouldn't be a requirement, as any protocol can be implemented by an amateur.

[06:43:00.0000] <micheil>
It's just a matter of how correctly that protocol is implemented.

[06:44:00.0000] <micheil>
I believe that you shouldn't need a PHD in security or something like that in order to implement it though. Such that the protocol shouldn't have any unneeded complexitty (if this complexity can be dramatically simplified through adequate documentation, I'm fine with that too. )

[06:45:00.0000] <micheil>
does that make sense?

[06:55:00.0000] <jgraham>
micheil: Ok

[06:56:00.0000] <jgraham>
micheil: So you are in favour of simplicity as a design goal, but not necessarily with the expression of it as an "amateur programmer" requirement?

[06:56:01.0000] <micheil>
yes

[06:56:02.0000] <micheil>
simplicity makes things less likely to break.

[06:56:03.0000] <micheil>
be it by design or implementation.

[06:57:00.0000] <micheil>
because the last thing that you want is a specification and protocol that no-one wants to use because it's too complicated to get started with

[06:58:00.0000] <micheil>
at the same time, I don't expect someone who is entirely knew to programming / the concepts of html to be able to use a websocket server, which is fair enough.

[06:58:01.0000] <jgraham>
Agreed. I tend to believe that the other requirement that is hidden in the "amateur programmer" description is that one should not need a significant amount of network-protocol-writing experience to make a server implementation

[06:59:00.0000] <micheil>
I mean, I'm different to most, in that I actually have some of a background with network protocols, and have tried to implement a few and spent some time at uni learning about them briefly.

[07:00:00.0000] <micheil>
despite that, I'm no one that's good with high level mathematics, security, etc. It takes a hell of a lot to be able to understand a lot of network security, above the basic measures

[07:01:00.0000] <jgraham>
It seems to be a theme that having punchy names for design requirements works well for small groups mostly in agreement but works poorly when the size of the group expands

[07:01:01.0000] <jgraham>
The same thing happened with the HTMLWG

[07:01:02.0000] <jgraham>
People got hung up over the names for principles rather than their motivations

[07:02:00.0000] <jgraham>
(of course it is possible to disagree with something when you fully understand the motivation)

[07:03:00.0000] <micheil>
currently, the websocket protocol, to me seems secure, the only times it's not, are when you can crash a server when sending the wrong packets (which I've done, and it was a server level implementation detail, not a problem with websockets)]

[07:03:01.0000] <jgraham>
(but there seems to often be a phse of attacking strawmen derived from the name)

[07:03:02.0000] <micheil>
"phse of attacking strawmen"?

[07:05:00.0000] <Philip`>
s/phse/phase/

[07:05:01.0000] <micheil>
yeah, I got that; but what do you mean by it?

[07:07:00.0000] <jgraham>
micheil: For example on the hybi list people claiming that the amateur programmer requirement implied something like "the protocol has to be implementable by people with IQ 90" and using that to attack the requirement

[07:08:00.0000] <micheil>
I'd have no idea what my IQ is, but I do know that I'm best to leave security to those that specialise in it, just as I often leave design to those that specialise in it.

[07:09:00.0000] <micheil>
specifications aren't something you just write for fun because you like theoretical implementations and theoretical problems. You write them because there's actually a problem that needs to be solved and that you want to see it solved for a better future of development

[07:09:01.0000] <jgraham>
micheil: I have no idea what my IQ is either nor do I want to know, but IQ 85ish is supposed to be 1sigma below the mean so ~15% of people have IQ < 85

[07:10:00.0000] <micheil>
if you want to come up with 1000 reasons why something is secure, then why do we bother implementing anything, as everything is eventually insecure.

[07:12:00.0000] <micheil>
for the rest of stuff, we just want a way to more easily build richer web interactions.

[07:12:01.0000] <micheil>
*rest of us

[07:12:02.0000] <micheil>
/me is really way too tired tonight.

[07:12:03.0000] <jgraham>
micheil: Yes, security is difficult. It is hard to know if the Websocket security is good enough currently. I can easilly believe that the TLS proposal has better security properties but it comes at a high cost to implementations

[07:13:00.0000] <micheil>
I think the overhead of the implementation would be enough to mean that you'd dramatically reduce usage.

[07:14:00.0000] <micheil>
and like I said: most people browse the web use http (I have actually done fulltime browsing with https, as it circumvented a proxy filter, but that's another story)

[07:14:01.0000] <micheil>
so, really, if you were to redesign http now, would you make it by default require SSL?

[07:15:00.0000] <micheil>
rather, TLS

[07:15:01.0000] <jgraham>
I think a good yardstick for simplicity would be "can I implement websockets in popular scipting langauges using only the stdlib"

[07:15:02.0000] <micheil>
yes

[07:16:00.0000] <jgraham>
(not a sufficient condition but a necessary one)

[07:16:01.0000] <micheil>
(as it is, I actually already depend on openssl for the md5 summing, because the bindings provided in node.js are such)

[07:19:00.0000] <micheil>
although, if by default you require tls, would that not also mean you'd need a certificate of authority? 

[07:21:00.0000] <jgraham>
Apparently not

[07:22:00.0000] <micheil>
okay, news to me. I know you can do self-signed certificates, but I do know that a lot of browsers often throw a warning at that.

[07:25:00.0000] <jgraham>
I am under the impression that the TLS proposal can use TLS in a no-certificate mode

[07:25:01.0000] <jgraham>
But I am the definition of non-expert here

[07:25:02.0000] <micheil>
which doesn't really add security then, does it?

[07:26:00.0000] <micheil>
 / if it does, then why on earth do I have to pay hundreds of dollars for a certificate from someone like tharwte

[07:27:00.0000] <micheil>
*thawte

[07:28:00.0000] <jgraham>
I believe it is addressing a different security concern

[07:28:01.0000] <micheil>
I'm totally confused now.

[07:30:00.0000] <jgraham>
I mentioned the non-expert thing, right?

[07:30:01.0000] <jgraham>
:)

[07:30:02.0000] <micheil>
yeah, full disclaimer and all.

[07:30:03.0000] <jgraham>
I would suggest you ask someone else to explain it because they are less likely to be horribly confused than me

[07:30:04.0000] <jgraham>
Notably abarth, since it is his proposal

[07:31:00.0000] <micheil>
to put blankly, given enough knowledge and experience, every protocol is hackable using the simple telnet client or XMLHttpRequest

[07:31:01.0000] <micheil>
and if not a simple telnet client, then with openssl running as a telnet client

[07:32:00.0000] <jgraham>
telneting into a WebSockets server is not really hacking it though

[07:32:01.0000] <jgraham>
In the important sense here

[07:32:02.0000] <micheil>
well, it is accessing it outside of what it was designed to be used with

[07:33:00.0000] <jgraham>
Possibly using XMLHttpRequest to access a websockets server would be a problem, but that should be impossible

[07:33:01.0000] <jgraham>
The main concern is the reverse; using a websockets client to access an SMTP server 

[07:33:02.0000] <micheil>
on draft75 it was more plausible, hence the reason for the sec-* stuff

[07:33:03.0000] <micheil>
abnd key3

[07:33:04.0000] <jgraham>
and send spam

[07:34:00.0000] <micheil>
okay, ten points if you can do that.

[07:34:01.0000] <micheil>
telnet a SMTP server, send it http headers and see what it does.

[07:34:02.0000] <micheil>
you'll probably just get your connection closed.

[07:34:03.0000] <jgraham>
micheil: Apparently it will ignore them

[07:34:04.0000] <jgraham>
I have a reference for this, wait a moment

[07:34:05.0000] <micheil>
k

[07:35:00.0000] <jgraham>
http://www.remote.org/jochen/sec/hfpa/hfpa.pdf

[07:36:00.0000] <jgraham>
For that reason if you try to POST to port 25 in a browser you will find it is blocked

[07:36:01.0000] <micheil>
then again, my ISP blocks me from accessing :25

[07:37:00.0000] <micheil>
and really, if that is the case, then it should be the other protocols that are getting upgrades / patches to fix them against this

[07:38:00.0000] <jgraham>
That clearly isn't a good enough solution

[07:38:01.0000] <micheil>
would it be an idea to implement this security at client-side level?

[07:39:00.0000] <jgraham>
You can't just release a new protocol which opens up security problems and then say "well it's someone else's problem"

[07:39:01.0000] <micheil>
okay, fair point.

[07:40:00.0000] <micheil>
but I don't see it as something that requires a server-side change.

[07:42:00.0000] <micheil>
the websocket client is to expect back a valid http header structure, with a status code of 101, if it doesn't receive that, then it should close the connection

[07:42:01.0000] <micheil>
(iirc, the spec actually says something very similar to that.)

[07:44:00.0000] <jgraham>
That was more or less -75. And it was deem insufficiently secure

[07:44:01.0000] <jgraham>
*deemed

[07:45:00.0000] <micheil>
right

[10:48:00.0000] <hsivonen>
Why is Web Socket still being discussed as if it were up for discussion? surely the window of opportunity for changing it is closing fast as multiple implementations are about to ship?

[11:11:00.0000] <gsnedders>
Because creating a spec that people agree on is more important than one browsers will implement?

[11:32:00.0000] <AryehGregor>
Do screen readers treat <ins> and <u> (for instance) any differently?

[11:33:00.0000] <jgraham>
hsivonen: Yeah, I tend to agree

[11:33:01.0000] <AryehGregor>
Or <b> and <strong>, etc.?

[11:33:02.0000] <AryehGregor>
/me needs to get a screen reader to test this kind of thing with.

[11:35:00.0000] <jgraham>
hsivonen: I think unless the current spec is shown to have substantial security problems the cost of change at this stage is likely to be prohibitive

[11:37:00.0000] <jgraham>
And I would prefer we had discussions on that basis rather than the basis of what would be better given a clean slate of implementations

[11:43:00.0000] <Hixie>
jgraham, hsivonen: if you think that, you shoudl tell the hybi list

[11:44:00.0000] <jgraham>
Hixie: Fair point

[11:48:00.0000] <hsivonen>
I'm not going to start participating on hybi

[11:49:00.0000] <Hixie>
btw have you noticed how traffic has dropped to zero again on that list?

[11:49:01.0000] <Hixie>
after i stopped posting?

[11:49:02.0000] <Hixie>
there is a direct correlation between the volume of traffic and my posting to the list

[11:50:00.0000] <Hixie>
i wonder if there is causation, or if i'm just affected by the same external factors as everyone else

[11:51:00.0000] <hsivonen>
I don't read hybi, so I don't have observational data

[11:53:00.0000] <Philip`>
Hixie: You should generate a random posting schedule, so that the days you post are not correlated to any outside influence

[11:53:01.0000] <Hixie>
i'm considering it

[11:55:00.0000] <hsivonen>
are there any plans to support Web Socket multiplexing over SPDY?

[12:00:00.0000] <Hixie>
i hope not

[12:00:01.0000] <Hixie>
what would the point be?

[12:45:00.0000] <hsivonen>
Hixie: conserving kernel-level resources and using already-established TCP windows

[12:45:01.0000] <hsivonen>
Hixie: perhaps not a good optimization

[13:14:00.0000] <Hixie>
hsivonen: you can do multiplexing already using shared workers

[13:15:00.0000] <hsivonen>
Hixie: doesn't that require the JS layer to do the multiplexing?

[13:15:01.0000] <Hixie>
yes

[13:16:00.0000] <hsivonen>
if multiplexing is desirable, wouldn't it make sense to make the bowser manage it?

[13:16:01.0000] <hsivonen>
*browser

[13:16:02.0000] <Hixie>
the author has to manage it on the server-side anyway

[13:17:00.0000] <Hixie>
it's not clear that forcing a particular multiplexing scheme on the protocol is desireable

[13:17:01.0000] <Hixie>
TCP doesn't do multiplexing

[13:17:02.0000] <gsnedders>
But TCP is lower level anyway

[13:17:03.0000] <Hixie>
websockets is supposed to be TCP for browsers

[13:17:04.0000] <gsnedders>
/me doesn't get the relvence there

[13:17:05.0000] <Hixie>
if it wasn't for security concerns, we'd just be using TCP

[13:17:06.0000] <gsnedders>
I thought websockets was built on TCP. Obviously I misunderstood.

[13:18:00.0000] <gsnedders>
(There again, when I last looked at the spec was, uh, years ago)

[13:18:01.0000] <Hixie>
websockets is the minimal amount on top of TCP to make TCP work for browsers

[14:43:00.0000] <annevk>
what a backlog...

[14:44:00.0000] <annevk>
you'd think less would happen in a week in July on the interwebs

[14:45:00.0000] <annevk>
email not completely dealt with count went from its normal 700 to high 1800

[14:48:00.0000] <Hixie>
heh

[14:53:00.0000] <annevk>
yay for abarth

[15:01:00.0000] <estellevw>
In what cases, if any, would the :optional UI pseudo class match an element. :required matches form elements with the required attribute, which is boolean, so true if present

[15:01:01.0000] <jgraham>
annevk: Yeah, he should get a medal or something

[15:01:02.0000] <estellevw>
is it all form elements that don't have the attribute set?

[15:02:00.0000] <hsivonen>
annevk, jgraham: for general awesomeness or something in particular?

[15:02:01.0000] <annevk>
/me just noticed the URL-spec thread

[15:02:02.0000] <hsivonen>
ah

[15:04:00.0000] <estellevw>
answered my own question - any form element that does not have the attribute of required

[15:05:00.0000] <hsivonen>
hmm. no new objection on the versioning poll

[15:08:00.0000] <jgraham>
hsivonen: We have a few more days though, right

[15:08:01.0000] <jgraham>
?

[15:09:00.0000] <jgraham>
I will reply to that, but it takes more effort than the ascii one

[15:09:01.0000] <hsivonen>
jgraham: yeah, it'll be open for a few days, still

[15:16:00.0000] <annevk>
from Hixie on hybi "I apologise in advance if this causes a spike in traffic to the list."

[15:17:00.0000] <annevk>
and a spike it was, geez :)

[15:17:01.0000] <annevk>
71 emails!

[15:18:00.0000] <Hixie>
only 71?

[15:24:00.0000] <annevk>
well, in that particular thread

[15:38:00.0000] <Hixie>
annevk: oh in that comment i meant all the threads, not just that one

[15:38:01.0000] <Hixie>
but i didn't check the numbers

[15:39:00.0000] <Hixie>
71 just sounds a bit low for what it felt like :-)

[15:47:00.0000] <annevk>
sounds like you get even more email than me if you are underwhelmed by 71 ;p

[15:59:00.0000] <Hixie>
annevk: i have 1735 e-mails in my list of e-mails to reply to :-)

[16:55:00.0000] <jamesr>
i think we should add an explicit iteration cap to http://www.whatwg.org/specs/web-apps/current-work/multipage/tokenization.html#adoptionAgency

[16:56:00.0000] <jamesr>
running the algorithm without a count takes time quadratic in the length of the input


2010-07-26
[18:35:00.0000] <apucacao>
with HTML5 I can use the audio element to put a song on my website. I still need to obtain the rights to do so, correct? What about putting 30 second clips? (not sure if this is the right place to ask though...)

[18:36:00.0000] <aho>
 I still need to obtain the rights to do so, correct? <- yes

[18:36:01.0000] <EclipseGc>
apucacao: this would be more of a technical howto less of a legal "allowed to" channel I suspect

[18:37:00.0000] <aho>
What about putting 30 second clips? <- same thing (in most countries)

[18:37:01.0000] <aho>
so basically... don't do it unless you got the rights (e.g. your own - self produced - music)

[18:38:00.0000] <aho>
(i'm not a lawyer) :>

[18:38:01.0000] <EclipseGc>
yeah, aho that totally ignores fair use (which the music industry would like to ignore exists)

[18:41:00.0000] <aho>
well, where i'm living i'd even have to pay fees if i were to use a single 44.1khz sample (even if that doesn't make any sense whatsoever) :>

[18:42:00.0000] <apucacao>
ok

[18:43:00.0000] <aho>
well, if you're living in the us and make some show about music where you play very short segments and talk about the songs, the album, the artists, etc... it would be *probably* fine

[18:43:01.0000] <aho>
(as long as you dont talk about stuff prince made) :>

[18:45:00.0000] <aho>
someone of thatguywiththeglasses.com makes some show like that

[18:45:01.0000] <aho>
http://thatguywiththeglasses.com/videolinks/teamt/paw/full-circle/3690-full-circle-session-1

[18:52:00.0000] <roc>
apucacao: actully no, HTML5 abolishes the copyright system, see section 4.8.11

[18:54:00.0000] <roc>
:-)

[18:55:00.0000] <EclipseGc>
roc: if only

[00:39:00.0000] <annevk>
heh, drclue is back on list

[00:39:01.0000] <annevk>
"I have suggested in the past that we implement XML and XSL attributes, but somewhere in the excitement of other fascinating topics this humble but incredible suggestion got lost in the winds."

[00:41:00.0000] <othermaciej>
I still don't understand that suggestion

[00:42:00.0000] <Hixie>
i think i have his suggestion on my pile two or three times

[00:42:01.0000] <ksemeks>
Is firefox really slower than chrome when trying to save string/objects in localStorage? 

[00:42:02.0000] <ksemeks>
or is it, cause im doing something wrong?

[00:45:00.0000] <annevk>
hmm, one day IETF costs USD 350

[00:54:00.0000] <Rik`>
ksemeks: https://bugzilla.mozilla.org/show_bug.cgi?id=536544

[00:57:00.0000] <micheil>
annevk: hmm?

[00:58:00.0000] <micheil>
Rik` / annevk: I'm co-hosting an episode on a popular open-source podcast, and the topic in focus is WebSockets, is there anything either of you two would like mentioned? (I'll try my best to mention it, if relevant)

[00:59:00.0000] <annevk>
micheil, http://www.ietf.org/meeting/78/index.html

[00:59:01.0000] <annevk>
micheil, not really, thanks :)

[00:59:02.0000] <micheil>
okay

[01:00:00.0000] <micheil>
that is really weird.. the time 15:15 has come up for different things about 20 times in the pasts two days

[01:03:00.0000] <micheil>
Rik`: websockets in firefox are only ~4.0, right?

[01:10:00.0000] <Rik`>
micheil: yes, since beta1 iirc

[01:11:00.0000] <micheil>
but it's not currently in a stable / released version?

[01:13:00.0000] <Rik`>
micheil: exactly

[01:15:00.0000] <micheil>
okay, /I thought that was the case

[01:28:00.0000] <ksemeks>
where do i find the max value for localStorage? i read every browser has different. where do i find ti?

[01:28:01.0000] <ksemeks>
it*

[01:31:00.0000] <ksemeks>
and what is the max key size?

[01:37:00.0000] <annevk>
http://www.w3.org/blog/CSS/2010/07/21/resolutions_117 -- hmm, they want a reference to HTML5? I think that's a first for most WGs I'm involved in...

[02:54:00.0000] <annevk>
lol, first cookies, now cakes

[03:00:00.0000] <Workshiva>
I thought we wanted to send less traffic with every request, not more

[03:00:01.0000] <Workshiva>
And cakes are usually much bigger than cookies

[03:01:00.0000] <hsivonen>
cakes?

[03:07:00.0000] <jgraham>
There is cake?

[03:07:01.0000] <ksemeks>
xD

[03:08:00.0000] <annevk>
/me tries to find a URL

[03:08:01.0000] <annevk>
http://www.ietf.org/mail-archive/web/http-state/current/msg00893.html

[03:09:00.0000] <annevk>
(has a proposal for a cake header that handles session management)

[03:11:00.0000] <hsivonen>
I don't like writing test cases that need server-side scripting dealing with request timing

[03:12:00.0000] <annevk>
you're doing that now?

[03:12:01.0000] <hsivonen>
annevk: I'm doing it in the sense of trying to figure out how to do it. I'm not doing it in the sense of writing the test just yet.

[04:02:00.0000] <annevk>
Hixie, fwiw, I argued against sub-protocol negotiation on the basis that content negotiation failed

[04:02:01.0000] <annevk>
Hixie, and because imo it was needless complexity for v1

[04:12:00.0000] <hsivonen>
http://www.paulgraham.com/top.html seems relevant to the HTML WG

[04:27:00.0000] <nessy>
hsivonen: why? it's an interesting read but I fail to see how it relates to the HTML WG....

[04:28:00.0000] <hsivonen>
nessy: the "disputes" part

[04:40:00.0000] <Rik`>
anyone know why http://demos.hacks.mozilla.org/openweb/videos/transitions-demos.medium.ogv is not playing on Opera (10.6 Mac)

[04:40:01.0000] <othermaciej>
hsivonen: imagine how much fun it is to be responsible for resolving a lengthy series of disputes

[04:41:00.0000] <othermaciej>
not good for my coding output :-(

[04:46:00.0000] <annevk>
is anyone going to the hybi meeting in Maastricht this Friday?

[04:46:01.0000] <annevk>
I could probably get approval for the day fee but I am somewhat doubtful it is worth it

[04:47:00.0000] <annevk>
especially having read up on some of the discussions

[04:49:00.0000] <jgraham>
annevk: Seems unlikely on the whole :)

[04:51:00.0000] <annevk>
quite nice that they renamed their work "HTML Media Capture" so it gets some more substantial review than before

[05:05:00.0000] <jgraham>
othermaciej: I believe the current protocol meets the requirement that it is easilly implementable in scripting langauge's stdlib

[05:06:00.0000] <othermaciej>
jgraham: "easily" and "efficiently" are definitely not the same standard

[05:06:01.0000] <jgraham>
I would expect them to have functions for generating hashes, but not necessarily for setting up full TLS connections, for examplke

[05:06:02.0000] <hsivonen>
is Content-Type: text/html; charset="utf-8" legal in MIME?

[05:06:03.0000] <hsivonen>
note the quotes around "utf-8"

[05:06:04.0000] <annevk>
hsivonen, yeah

[05:07:00.0000] <annevk>
hsivonen, Gecko has/had a long standing bug on that

[05:07:01.0000] <annevk>
not sure which of the two

[05:07:02.0000] <hsivonen>
annevk: ah. thanks

[05:07:03.0000] <annevk>
/me -> food

[05:07:04.0000] <jgraham>
othermaciej: My definition of "efficiently" was supposed to be "don't have to write significant amounts of code not directly related to WebSockets"

[05:07:05.0000] <othermaciej>
I don't believe MD5 is part of the perl standard library

[05:07:06.0000] <othermaciej>
ah, you meant "efficiently" in the sense of programmer time, rather than software performance?

[05:08:00.0000] <jgraham>
Yes

[05:08:01.0000] <othermaciej>
I misunderstood

[05:08:02.0000] <othermaciej>
anyway, I am performing my "Python QQP" experiment with some real protocols

[05:09:00.0000] <othermaciej>
I have yet to find a protocol where the socket tutorial is on the first page of Google hits

[05:09:01.0000] <jgraham>
othermaciej: I don't know what QQP is, but I am not that surprised

[05:10:00.0000] <Philip`>
http://perldoc.perl.org/perlmodlib.html#Standard-Modules includes Digest::MD5

[05:10:01.0000] <othermaciej>
so far I have tried: SMTP, IMAP, IRC, Jabber, ftp, http

[05:10:02.0000] <othermaciej>
jgraham: I just mean that I searched for "Python X" for many values of X, where X is a network protocol

[05:10:03.0000] <jgraham>
For HTTP, I think the server is basically generic; there is little coupling between the server and the application. So it is not surprising that people use preexisting servers in most cases

[05:11:00.0000] <othermaciej>
in all cases the top hits seem to be a library, not a sockets tutorial that tells you how to write a server from scratch

[05:12:00.0000] <othermaciej>
also tried: tls, caldav, pop3

[05:12:01.0000] <jgraham>
I don't think that's surprising

[05:12:02.0000] <jgraham>
But isn't websockets lower-level in some sense

[05:12:03.0000] <jgraham>
FTP is a protocol for transferring files

[05:13:00.0000] <othermaciej>
is WebSocket going to be the first protocol where that's not the case?

[05:13:01.0000] <jgraham>
WebSockets is a substrate for writing your own protocols

[05:13:02.0000] <jgraham>
That talk to servers

[05:13:03.0000] <jgraham>
from web browsers

[05:13:04.0000] <othermaciej>
so is TCP, but people don't implement TCP themselves on top of IP whenever they need to implement an application protocol on top of TCP

[05:14:00.0000] <jgraham>
So a simple websocket library would look more like a simple socket library than a FTP library

[05:14:01.0000] <hsivonen>
I expect the Web Socket layer to become part of the libs in due course

[05:14:02.0000] <Rik`>
WebSockets is also new, so there's not a lot of frameworks to build on top of

[05:14:03.0000] <othermaciej>
for the record, searching for "Python WebSocket" currently finds a mix of tutorials with socket code, and premade libraries/frameworks

[05:14:04.0000] <jgraham>
So I think the comparison to ordinary sockets is more relevant than the caomparison to FTP or HTTP or whatever

[05:15:00.0000] <othermaciej>
I expect the ratio to move in favor of libraries as WebSocket becomes more popular and less experimental

[05:15:01.0000] <jgraham>
Sure, I don't disagree that people will use libraries

[05:16:00.0000] <jgraham>
But I would expect e.g. python to bundle a low-level libarry that looks like the socket library

[05:16:01.0000] <othermaciej>
I expect the vast majority of people will use libraries

[05:16:02.0000] <jgraham>
rather than something that looks like twisted

[05:16:03.0000] <jgraham>
Like I said, that makes some complexity acceptable

[05:16:04.0000] <jgraham>
e.g. in the handshake

[05:17:00.0000] <othermaciej>
hopefully the library takes care of message framing for you too

[05:17:01.0000] <othermaciej>
it would be perverse if it didn't

[05:17:02.0000] <jgraham>
Yeah. 

[05:18:00.0000] <othermaciej>
and that's pretty much all there is to the protocol

[05:18:01.0000] <jgraham>
Indeed. It is simple :)

[05:18:02.0000] <Philip`>
Could you make a server API that looks very much like the browser client API?

[05:18:03.0000] <othermaciej>
I guess there is also the shutdown sequence (not sure if that is in the draft yet)

[05:18:04.0000] <othermaciej>
yes, I would expect a server API to be about as high-level as the client API

[05:18:05.0000] <jgraham>
Also, I didn't mention Safari 5 because I think that one browser shipping something is much less relevant than 4 browsers shipping something

[05:18:06.0000] <Philip`>
Seems good to aim for that symmetry if possible

[05:19:00.0000] <othermaciej>
the server API has to be a little different, because for a nontrivial service you need to create a new instance of something-or-other for each client connection

[05:19:01.0000] <jgraham>
One browser basically means people can write demos. 

[05:20:00.0000] <jgraham>
Multiple browsers means people will write real applications

[05:20:01.0000] <othermaciej>
so there has to be at least an extra object that represents the listening service, as opposed to a specific client connection, and it makes client connections appear

[05:20:02.0000] <othermaciej>
I think both Safari and Chrome have WebSocket, but I think not the same protocol version :-/

[05:20:03.0000] <jgraham>
Yes

[05:20:04.0000] <othermaciej>
I would agree that in a year or two it may be too late for incompatible changes

[05:20:05.0000] <jgraham>
I think a year or two is optimistic

[05:21:00.0000] <jgraham>
Firefox 4 plans to ship by the year end

[05:21:01.0000] <jgraham>
I think

[05:21:02.0000] <othermaciej>
anyway, I think a server API that looks much like the client API would be *way* easier to use than any protocol you have to implement from scratch, so solutions of that form will dominate

[05:21:03.0000] <jgraham>
Chrome has an aggressive release schedule

[05:21:04.0000] <Rik`>
othermaciej: like micheil's API ?

[05:21:05.0000] <othermaciej>
they've already shipped WebSocket, probably more than once, and have made changes along the way

[05:22:00.0000] <othermaciej>
Rik`: I'm not familiar with that one - pointer?

[05:22:01.0000] <Rik`>
http://github.com/miksago/node-websocket-server/

[05:22:02.0000] <jgraham>
Yes, but like I said it is different if there is > 1 implementor

[05:23:00.0000] <jgraham>
Or at least enough that people rely on it

[05:23:01.0000] <othermaciej>
Rik`: from my quick scan, that looks pretty neat

[05:23:02.0000] <othermaciej>
jgraham: I think services deployed using it is the more significant metric

[05:23:03.0000] <othermaciej>
though it's true, most server operators will not use it til it hits some threshold of deployed client market share

[05:24:00.0000] <Rik`>
jgraham: there are already some libraries and servers that use WebSockets, fallback on Flash or long polling

[05:24:01.0000] <jgraham>
If you want substantial changes, I would push for something concrete as soon as possible, and try to explicitly keep exiting implementors in the loop

[05:25:00.0000] <othermaciej>
fortunately implementors read the list :-)

[05:25:01.0000] <jgraham>
The HyBi list? I would be surprised if everyone keeps up

[05:26:00.0000] <othermaciej>
I don't think I personally would insist on any changes other than to change the handshake if someone can come up with an option that is more secure and otherwise acceptable fairly soon

[05:27:00.0000] <othermaciej>
I'd also like to see support for binary frames added once there is a reasonable way to handle that in JS

[05:27:01.0000] <jgraham>
That has always been the plan for binary AIUI

[05:27:02.0000] <othermaciej>
/me wonders how the ECMA committee is doing on typed arrays

[05:28:00.0000] <gsnedders>
othermaciej: Nothing that on public list about it, at least

[05:28:01.0000] <remysharp>
any reason why Webkit might be **excluding** the referrer in the request header for video requests?

[05:28:02.0000] <othermaciej>
I know it was discussed in a recent f2f

[05:36:00.0000] <micheil>
Rik` / othermaciej ?

[05:39:00.0000] <micheil>
othermaciej: to be fair, I've not yet seen a doesn't tutorial telling anyone "this is how you implement the websocket protocol" — But I rely on the spec for that information

[05:41:00.0000] <micheil>
othermaciej: fwiw, I'm actually implementing a routing api addition to my websocket server, so you can essentially have different actions based on the different resources you can connect to.

[05:41:01.0000] <othermaciej>
micheil: neat!

[05:42:00.0000] <micheil>
Philip`: having server and browser use the similar API doesn't quite work, as the server is more evented, by I've tried to stick to something similar, while still following the node.js http/net module api's

[05:43:00.0000] <micheil>
othermaciej: for a list of protocol version support, see: http://wiki.github.com/miksago/node-websocket-server/browser-support/

[05:45:00.0000] <micheil>
othermaciej: as for other things in browser support, there may be more data out in the next week to two weeks, from what I've heard from various people.

[05:47:00.0000] <micheil>
I'm currently wanting to work with other developers of websocket libraries so that we have just one, and if you have something that want's to give a different api, or provide a different fallback, then it's just an extension on a standard websocket library

[05:48:00.0000] <micheil>
currently I'm working on ways that you can include parts into a websocket server, but not need them in the core of the code (which is more an issue surrounding environment over protocol)

[05:49:00.0000] <micheil>
jgraham: we could use me as a scale of implementability :P (I am after all just another javascript programmer)

[05:58:00.0000] <hsivonen>
Hixie: is it intentional that HTML5 doesn't URL-unescape the value of the name attribute on the <a> element?

[06:17:00.0000] <gsnedders>
hsivonen: yes

[06:18:00.0000] <remysharp>
 sorry chaps, dropped my connection - any word on video referrer headers?

[06:19:00.0000] <remysharp>
do we know if it's on purpose?

[06:19:01.0000] <Peter`>
remysharp: you could also try #chromium

[06:19:02.0000] <remysharp>
it affects Firefox too - which is why I wonder if it's the spec

[06:19:03.0000] <remysharp>
though I wouldn't have thought so - but wanted to check first

[06:26:00.0000] <annevk>
what is in the spec?

[06:27:00.0000] <Peter`>
http://www.whatwg.org/specs/web-apps/current-work/multipage/urls.html#fetch

[06:38:00.0000] <hsivonen>
gsnedders: thanks

[06:39:00.0000] <hsivonen>
gsnedders: I was reading Gecko's old sink code and noticed special treatment of one attribute... (<a name>)

[06:40:00.0000] <annevk>
ooh crap

[06:41:00.0000] <hsivonen>
annevk: ?

[06:41:01.0000] <annevk>
two days left to reply to their reply to my reply to their reply to my comments on WAI-ARIA

[06:41:02.0000] <annevk>
there's just no productive discussion at all

[06:41:03.0000] <annevk>
I give some input

[06:42:00.0000] <annevk>
and months later I get some committee response that is near useless

[06:42:01.0000] <annevk>
maybe I should just give up

[06:43:00.0000] <annevk>
maybe there'll be an abarth that fixes WAI-ARIA half a decade down the road and all be fine

[06:43:01.0000] <hsivonen>
annevk: aargh. I haven't responded, either. Bad email filtering.

[06:44:00.0000] <hsivonen>
Well, today, I'm going to go forward with parser feature work. 

[06:44:01.0000] <hsivonen>
I'll never get software written if I just deal with email

[06:45:00.0000] <annevk>
what are you going to do with the XML parser btw?

[06:45:01.0000] <hsivonen>
annevk: moving it to use the machinery that the HTML parser uses for off-the-main-thread stuff

[06:45:02.0000] <hsivonen>
to unify the way the two parser manage incrementalism

[06:46:00.0000] <hsivonen>
I want to write an XML5 parser

[06:46:01.0000] <hsivonen>
but since Firefox uses DTDs for localization, it's not practical to simply zap DTDs

[06:47:00.0000] <jgraham>
I thought XML5 had DTDs?

[06:47:01.0000] <hsivonen>
and rewriting DTD handling would be quite a distraction

[06:47:02.0000] <annevk>
jgraham, not external

[06:47:03.0000] <jgraham>
Ah

[06:47:04.0000] <hsivonen>
jgraham: well, if it weren't for localization, I'd just argue for killing DTDs in any shape or form

[06:48:00.0000] <hsivonen>
if you have a bad optional feature, someone will do something useful with it, and it becomes harder to kill the feature :-(

[06:48:01.0000] <hsivonen>
just say NO to bad optional features before anyone uses them

[06:49:00.0000] <hsivonen>
also, I haven't in general yet figured out what to do about XUL and XBL

[06:49:01.0000] <hsivonen>
they don't build normal DOMs

[06:49:02.0000] <hsivonen>
they have dedicated tree builders in Gecko

[06:49:03.0000] <hsivonen>
(not the usual XML to DOM builder)

[06:50:00.0000] <hsivonen>
but that's post-Firefox 4.0 stuff

[06:50:01.0000] <hsivonen>
my current concerns are View Source and the sanitizer

[06:50:02.0000] <annevk>
XBL should get fixed by sicking's work right? if that is still ongoing that is

[06:51:00.0000] <hsivonen>
annevk: yeah

[06:51:01.0000] <annevk>
btw, HTTP WG meeting starts in 20min

[06:51:02.0000] <hsivonen>
I don't know exactly what the plan for killing off XBL1 from the *content* process is

[06:51:03.0000] <annevk>
http://tools.ietf.org/wg/httpbis/agenda has details

[06:52:00.0000] <hsivonen>
doh the *chrome* process

[06:57:00.0000] <annevk>
back to 800

[06:57:01.0000] <annevk>
emails

[06:58:00.0000] <annevk>
yay

[06:58:01.0000] <annevk>
also readied CORS for publication

[06:58:02.0000] <annevk>
now Media Queries

[06:58:03.0000] <nessy>
nice!

[08:43:00.0000] <MikeSmith>
https://labs.ericsson.com/blog/beyond-html5-implementing-device-and-stream-management-webkit

[08:46:00.0000] <hsivonen>
MikeSmith: do Ericsson products use WebKit GTK?

[08:46:01.0000] <hsivonen>
/me thought Ericsson was moving Android

[10:13:00.0000] <jgraham>
If you believe wikipedia, Hixie is slightly blurry at the edges

[10:14:00.0000] <Workshiva>
Only the edges?

[10:15:00.0000] <jgraham>
Well the rest could just be down to nice skin

[10:15:01.0000] <Workshiva>
He's also Stalin, according to one editor

[10:19:00.0000] <jgraham>
Ah, I see it is an enlargement from a group photo. Someone should really find one where a) it is actually a photo of him and b) he doesn't have the horizon growing out of his ears

[10:19:01.0000] <gsnedders>
Do you not think it's a good look on him?

[10:20:00.0000] <jgraham>
It makes him look egocentric

[10:20:01.0000] <jgraham>
"look at me, the whole world is spawed from my ears"

[10:20:02.0000] <jgraham>
*spawned

[10:21:00.0000] <jgraham>
(also there is an island or something which is hard to distingusih from the sea, so it looks like the horizon jumps as it goes through his head. That just freaks me out)

[10:22:00.0000] <gsnedders>
A headland of the bay, I think, from the angle

[10:34:00.0000] <dandaman>
<div id="backgrounddiv" name="backgrounddiv" style="border: thin solid #d9d9d9;border-width:2px;background:#f2f5fa;display:table" >

[10:34:01.0000] <dandaman>
that div tag covers everything in the body

[10:34:02.0000] <dandaman>
yet the table that is in it has a little margin on the page

[10:34:03.0000] <dandaman>
looks like 5 pixels from the left

[10:34:04.0000] <dandaman>
and like 4 from the top

[10:35:00.0000] <dandaman>
how can i get it so it fits 100% on the page

[10:35:01.0000] <TabAtkins>
<body> starts with some margin.

[10:35:02.0000] <dandaman>
ahh

[10:35:03.0000] <dandaman>
is there a way to get rid of it?

[10:35:04.0000] <TabAtkins>
The way you'd expect.

[10:35:05.0000] <dandaman>
/me is embarrassed

[10:35:06.0000] <dandaman>
i forgot the margin tag ;\

[10:36:00.0000] <dandaman>
:\

[10:36:01.0000] <dandaman>
margin: 0 auto?

[10:36:02.0000] <TabAtkins>
Sure, or just margin:0, depending on what you want.

[10:36:03.0000] <dandaman>
worked

[10:36:04.0000] <dandaman>
thanks man

[11:12:00.0000] <dandaman>
so i basically am using this code http://www.zurb.com/article/266/super-awesome-buttons-with-css3-and-rgba to make a cool button, i was wondering if anyone could tell me what the style name is to make that button fill an entire <td> cell would be

[11:12:01.0000] <dandaman>
css is kind of dead right now :\

[11:12:02.0000] <dandaman>
sorry that i keep pestering the channel

[11:12:03.0000] <TabAtkins>
height:100%;width:100%?

[11:13:00.0000] <dandaman>
ignorance on my part, thank you

[11:17:00.0000] <hsivonen>
hmm. so the new YouTube iframe has hard-coded width and height...

[11:24:00.0000] <hsivonen>
are there other known-dangerous CSS properties than -moz-binding, binding and anything whose value has expression()?

[11:24:01.0000] <TabAtkins>
In terms of exposing arbitrary scripting, or does it count to kill a page's performance to unusability?

[11:25:00.0000] <hsivonen>
I was just thinking about scripting

[11:25:01.0000] <TabAtkins>
In that case, I don't *think* so.  I don't believe anyone runs scripts in SVG linked through CSS.

[11:25:02.0000] <hsivonen>
TabAtkins: are there properties that are so perf-sensitive that they should be cosidered dangerous?

[11:26:00.0000] <TabAtkins>
Sure.  Shadows can kill a page with 30+ second scroll times.

[11:28:00.0000] <TabAtkins>
I suspect it's possible to attack a page with the ~ combinator, too.

[11:29:00.0000] <Philip`>
hsivonen: Do you care about things being dangerous to IE6 users?

[11:29:01.0000] <Philip`>
Apparently you can do things like list-style-image:url("javascript:alert('XSS')"); there

[11:34:00.0000] <Hixie>
jgraham: belies doesn't mean what you think it means

[11:35:00.0000] <hsivonen>
Philip`: thanks

[11:38:00.0000] <Hixie>
hsivonen: yeah, the weird non-escaping behaviour is intentional

[11:38:01.0000] <hsivonen>
Hixie: ok

[11:39:00.0000] <hsivonen>
(I think the unescaping behavior was weird)

[11:40:00.0000] <Hixie>
no kidding

[11:51:00.0000] <AryehGregor>
hsivonen, MediaWiki blocks filter:, accelerator:, and url().  That's meant to prevent information leaks as well as scripting.

[11:51:01.0000] <TabAtkins>
accelerator?  What's that for?

[11:51:02.0000] <AryehGregor>
I have absolutely no idea.

[11:52:00.0000] <TabAtkins>
http://www.css3.com/css-accelerator/

[11:52:01.0000] <AryehGregor>
/me finds http://apiblog.youtube.com/2010/07/new-way-to-embed-youtube-videos.html, yay!

[11:52:02.0000] <AryehGregor>
/me subscribes to that blog

[11:52:03.0000] <TabAtkins>
Yus, very nice.

[11:54:00.0000] <AryehGregor>
I really have to commend Apple for forcing people to switch to HTML5 video.  Awesome move on their part.  Too bad Google doesn't take the same stand.  Also too bad Apple is completely and irredeemably evil in other ways.

[11:54:01.0000] <jgraham>
Hixie: What do I think it means? i.e. how did I use it?

[11:55:00.0000] <AryehGregor>
/me switches his forum to use the new YouTube embed style

[11:56:00.0000] <AryehGregor>
hsivonen, the current YouTube embed code has hardcoded width and height too.

[11:57:00.0000] <AryehGregor>
Although a *different* hardcoded width and height, I think?

[12:01:00.0000] <Philip`>
AryehGregor: Surely nobody can be irredeemably evil

[12:01:01.0000] <Philip`>
Not even Darth Vader was

[12:02:00.0000] <AryehGregor>
Well, okay.

[12:02:01.0000] <AryehGregor>
I exaggerate.

[12:07:00.0000] <TabAtkins>
I love how Darth Vader is the Hitler of nerd-dom.

[12:08:00.0000] <jgraham>
TabAtkins: If I invoke Godwin's law at this point, what happens? 

[12:08:01.0000] <TabAtkins>
That just declares an argument to be over.  We aren't arguing yet, so it's a noop.

[12:09:00.0000] <jgraham>
I was hoping we could declare your position "I love how..." to be wrong

[12:09:01.0000] <Philip`>
Hitler would have been a poor example to pick, since as far as I'm aware he was not redeemed before his death, so he would have contradicted my argument

[12:09:02.0000] <Philip`>
Palpatine would have been an equally poor example

[12:11:00.0000] <AryehGregor>
Hitler committed suicide, does that count?  Probably not.

[12:12:00.0000] <Philip`>
No

[12:16:00.0000] <Hixie>
jgraham: you used it to mean "reveals" but it really means "disguises"

[12:18:00.0000] <AryehGregor>
Hixie, where did he use it?

[12:18:01.0000] <Hixie>
hybi

[12:19:00.0000] <Hixie>
i only mention it because i keep trying to use the word but can't find a context in which it's correct to use it :-)

[12:20:00.0000] <Philip`>
"Dogs like it when you scratch their belies"

[12:21:00.0000] <AryehGregor>
"I think the current discussion on this list belies a false belief that we are still at a stage where the protocol can be trivially changed."

[12:21:01.0000] <AryehGregor>
Yeah, that's not right.

[12:21:02.0000] <AryehGregor>
It means the opposite.

[12:21:03.0000] <Hixie>
Philip`: lol

[12:29:00.0000] <hsivonen>
annevk: why is the intrinsic size of captured images of more interest than the size in terms of file pixels?

[12:29:01.0000] <jgraham>
Ah

[12:29:02.0000] <hsivonen>
annevk: and when would they differ?

[12:31:00.0000] <jgraham>
Hixie: I suspect I do that sort of thing quite often; anytime my general impression of where a word sounds good doesn't match its real meaning

[12:32:00.0000] <jgraham>
I probably meant to say "betrays"

[12:35:00.0000] <jgraham>
http://jeffkreeftmeijer.com/2010/experimenting-with-node-js/ is fun

[12:36:00.0000] <annevk>
hsivonen, high resolution displays

[12:36:01.0000] <annevk>
hsivonen, though actually I suppose if you haven't given them a size...

[12:37:00.0000] <hsivonen>
I'd expect the site to care about the file pixels when the user is about to upload an image

[12:37:01.0000] <TabAtkins>
jgraham: Haha, that's awesome.

[12:38:00.0000] <annevk>
hsivonen, yeah, I guess there is no difference, not sure what I was thinking

[12:39:00.0000] <annevk>
hsivonen, well, I looked at what HTMLImageElement and HTMLVideoElement did, but they are not too relevant

[12:40:00.0000] <Hixie>
jgraham: yeha like i said, i have the same problem :-)

[12:42:00.0000] <hsivonen>
/me had to look up what belie actually means. I bet "misrepresent" or "contradict" (depending on usage) are both better understood

[12:45:00.0000] <hsivonen>
google failed, btw, and offered me definitions of "bely" in Dutch when I searched for define:belies

[13:08:00.0000] <Philip`>
Hooray for PDF

[13:08:01.0000] <Philip`>
I'm looking at an ISO specification which says "... End system or level   reachable address prefix ..."

[13:08:02.0000] <Philip`>
I assume there's meant to be either a 1 or a 2 in that gap

[13:09:00.0000] <Philip`>
The IETF's text version says "2" so presumably that's what it should be

[15:03:00.0000] <gsnedders>
jgraham: You were talking about ORMs coping cleanly with cases where some conditions were optional, got any code of one doing so?

[15:03:01.0000] <gsnedders>
/me can't see anything like that

[15:24:00.0000] <Philip`>
https://cybersecuritychallenge.org.uk/news.html - ooh, an HTML5 page

[15:25:00.0000] <Philip`>
and it looks like they might be using the sectioning elements sanely

[15:28:00.0000] <TabAtkins>
Yup, that outline looks pretty sane.

[15:29:00.0000] <Philip`>
https://cybersecuritychallenge.org.uk/conformance.html - and they made themselves a nice tick for the validator

[15:30:00.0000] <Philip`>
http://validator.nu/?doc=https://cybersecuritychallenge.org.uk/candidates/registration.html - too bad the site's not actually valid

[16:13:00.0000] <dandaman>
having a little trouble right now, so i'm testing this site on the android emulator(i have disabled scrolling because everything is supposed to fit on the screen at once). problem is whenever you click into a text field it brings up the keyboard on screen and pushes the site up and when the keyboard goes back down it stays pushed up

[16:14:00.0000] <dandaman>
anyone know how i can make the scroll go back to it's original height?

[16:14:01.0000] <TabAtkins>
Absolutely no clue.  Phone browsers are voodoo magic.

[16:16:00.0000] <dandaman>
damn, alright, thanks anyway


2010-07-27
[17:06:00.0000] <boblet>
anyone know the status of HTML5+RDFa validation? coming soon? being worked on? not yet?

[17:07:00.0000] <hober>
IIRC hsivonen isn't working on that

[17:08:00.0000] <hober>
but fortunately v.nu is open source, so perhaps RDFa advocates will build such a thing

[17:10:00.0000] <boblet>
hober: thanks for that. I noticed that w3.org has XHTML+RDFa so wondered if it might be coming…

[19:47:00.0000] <Hixie>
annevk: yt?

[21:31:00.0000] <Hixie>
  .    o

[21:31:01.0000] <Hixie>
   ('>)

[21:31:02.0000] <Hixie>
    LL

[21:32:00.0000] <Hixie>
/me sacrifices the chicken to summon annevk or abarth

[21:33:00.0000] <othermaciej>
poor chicken :-(

[21:34:00.0000] <Hixie>
abarth asked for XMLDocument to be specced (with .async and .load())

[21:34:01.0000] <Hixie>
i'm hoping i can convince anne to spec it in XHR

[21:35:00.0000] <othermaciej>
hmm

[21:35:01.0000] <Hixie>
but in their absence, i'm having to spec it myself

[21:35:02.0000] <Hixie>
curse the time zone difference!

[21:35:03.0000] <othermaciej>
I think the primary use is via createDocument() not XHR

[21:36:00.0000] <Hixie>
oh it has nothing to do with XHR except that it'd reuse a lot of his infrastructure

[21:36:01.0000] <Hixie>
it has nothing to do with HTML either

[21:36:02.0000] <othermaciej>
I also once again idly wonder if it is "compatible enough" to omit the sync version

[21:36:03.0000] <Hixie>
but there we go

[21:36:04.0000] <Hixie>
yeah i saw your mail about that

[21:36:05.0000] <Hixie>
i have no data either way

[21:36:06.0000] <Hixie>
currently webkit browsers don't do it at all

[21:36:07.0000] <othermaciej>
because synchronous I/O is the devil

[21:36:08.0000] <Hixie>
so in some sense, we can omit it altogether...

[21:37:00.0000] <othermaciej>
abarth provided fairly compelling evidence that it is a nontrivial compatibility loss

[21:37:01.0000] <Hixie>
yes

[21:37:02.0000] <othermaciej>
we also found compelling evidence that you can't just add the load() method to all documents

[21:37:03.0000] <Hixie>
yes

[21:37:04.0000] <othermaciej>
by hunting around in old mozilla bugs

[21:37:05.0000] <othermaciej>
no data specific to the sync version afaik

[21:45:00.0000] <GPHemsley>
Is it intended behavior for it to be impossible to style the weight of the text in <option>?

[21:46:00.0000] <Hixie>
i don't understand how document.load() interacts with DOM manipulation of the document in question

[21:47:00.0000] <Hixie>
it seems to be racy

[21:49:00.0000] <Hixie>
in particular, document.load() empties the DOM of the document object, but then if you append a node immediately, what should happen?

[21:50:00.0000] <Hixie>
anyone got IE? what does IE do with something like http://software.hixie.ch/utilities/js/live-dom-viewer/?%3C!DOCTYPE%20html%3E%0D%0A%3Cscript%3E%0D%0A%20%20%20var%20xmlDoc%20%3D%20document.implementation.createDocument(%22%22%2C%20%22%22%2C%20null)%3B%0D%0A%20%20%20w('A%3A%20'%20%2B%20xmlDoc.documentElement)%3B%0D%0A%20%20%20xmlDoc.appendChild(xmlDoc.createElement('test'))%3B%0D%0A%20%20%20w('B%3A%20'%20%2B%20xmlDoc.documentElement)%3B%0D%0A%20%20%20xmlDoc.onload%2

[21:50:01.0000] <Hixie>
make that http://software.hixie.ch/utilities/js/live-dom-viewer/saved/575

[21:59:00.0000] <Hixie>
blimey, xhr is non-trivial these days

[22:43:00.0000] <Hixie>
othermaciej: looks like Firefox's sync document.load() isn't so synchronous

[22:43:01.0000] <Hixie>
othermaciej: it blocks script but nothing else

[22:43:02.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/dom/level0/document/load/002.html

[22:45:00.0000] <othermaciej>
Hixie: it looks like it is running a nested event loop

[22:45:01.0000] <Hixie>
yeah

[22:45:02.0000] <othermaciej>
that's unfortunate

[22:46:00.0000] <othermaciej>
I guess it's nice that it doesn't block the UI, but it surely creates all sorts of re-entrancy challenges

[22:47:00.0000] <Hixie>
yeah

[22:47:01.0000] <othermaciej>
it also violates JS run-to-completion semantics

[22:47:02.0000] <othermaciej>
Hixie: suggested experiment: make that w('LOAD START') into an alert and see what happens if you close the window before the load completes

[22:47:03.0000] <cardona507>
anyone going to the GTUG campout at Google HQ in a couple of weeks?

[22:48:00.0000] <cardona507>
the focus is HTML5 :D

[22:49:00.0000] <Hixie>
othermaciej: http://www.hixie.ch/tests/adhoc/dom/level0/document/load/003.html

[22:49:01.0000] <Hixie>
othermaciej: it immediately fires the alert, with no window

[22:50:00.0000] <Hixie>
othermaciej: interesting way of working around onunload limitations

[22:50:01.0000] <Hixie>
othermaciej: (in other words, it closes the window, and as part of that terminates all network activity, which then resumes the script)

[22:51:00.0000] <othermaciej>
Hixie: I get no LOAD START alert at all, but I might be testing with an older Firefox

[22:52:00.0000] <Hixie>
othermaciej: what version are you testing?

[22:52:01.0000] <Hixie>
i have Mozilla/5.0 (Macintosh; Intel Mac OS X 10.5; rv:2.0b3pre) Gecko/20100724 Minefield/4.0b3pre

[22:53:00.0000] <othermaciej>
Mozilla/5.0 (Macintosh; U; Intel Mac OS X 10.6; en-US; rv:1.9.2.6) Gecko/20100625 Firefox/3.6.6

[22:53:01.0000] <Hixie>
ah, a release

[22:53:02.0000] <Hixie>
weird that they would have changed this since then

[22:53:03.0000] <Hixie>
but oh well

[22:59:00.0000] <othermaciej>
probably not an intentional change

[23:00:00.0000] <othermaciej>
I bet the script runs to completion both ways, and the difference is just whether a windowless alert fails silently or does something

[23:20:00.0000] <annevk>
hmm, responseXML is meant to cache

[23:21:00.0000] <annevk>
though it can also change if you invoke overrideMimeType

[23:39:00.0000] <hsivonen>
Hixie: shouldn't we go for removing .load() from the platform instead of speccing it?

[23:39:01.0000] <hsivonen>
Hixie: if you use .load() in Firefox 4, it warns to console that the feature is going away

[23:42:00.0000] <mcarter>
Hixie, haha, good catch wrt that email... I just resent

[23:44:00.0000] <annevk>
Hixie, aren't the fetch flags <i> rather than <var>?

[23:48:00.0000] <annevk>
Hixie, the simple event needs to be queued in the async case I think

[23:49:00.0000] <annevk>
Hixie, and in the sync case what happens if you invoke load() from the event handler?

[23:49:01.0000] <annevk>
Hixie, might actually also be interesting for the async case

[23:51:00.0000] <annevk>
Hixie, also, http://twitter.com/WHATWG/statuses/19633786262 links one revision to far?

[00:05:00.0000] <hsivonen>
whoa? is this real? https://blogs.apache.org/foundation/entry/the_apache_software_foundation_receives

[00:06:00.0000] <hsivonen>
I didn't know that non-profits can be sold to for-profits

[00:07:00.0000] <hsivonen>
ah. April 1 getting replayed by a planet

[00:07:01.0000] <MikeSmith>
hey, it's mcarter 

[00:07:02.0000] <MikeSmith>
long time no see

[00:08:00.0000] <mcarter>
yeah, hoping to be more of a help with WebSocket stuff

[00:08:01.0000] <MikeSmith>
way cool

[00:08:02.0000] <MikeSmith>
great to see back around

[00:09:00.0000] <mcarter>
I wet my hands a bit with http://orbited.org/orbited2 recently, and it got me pretty excited about actually having websocket native

[00:12:00.0000] <MikeSmith>
mcarter: I think there was a Nostradamus prophecy that said you would re-appear when WebSocket was in a time of great need

[00:12:01.0000] <mcarter>
hahaha

[00:13:00.0000] <mcarter>
The only real great need is for someone to hit reply "what are you talking about? no." to every second hybi email over at the ietf

[00:16:00.0000] <MikeSmith>
heh

[00:20:00.0000] <Hixie>
hsivonen: i'd love to... remove it from firefox and let me know how that goes

[00:21:00.0000] <Hixie>
annevk: oops (re <var>/<i>)

[00:21:01.0000] <Hixie>
annevk: the load event is queued, the whole set up substeps is queued in fact

[00:22:00.0000] <Hixie>
annevk: didn't try reentrancy, good question

[00:24:00.0000] <annevk>
oh sorry, missed the queue a task bit before

[00:24:01.0000] <boblet>
so with lots of phrasing content elements also being flow content, is it still “good practice” to wrap a flow/phrasing element e.g. <small> in a formatBlock candidate e.g. <p>? I know <footer><small> works, but I’d assumed a <p> wrapper was added to DOM…

[00:25:00.0000] <annevk>
I now wonder whether I should further intertwine XMLHttpRequest by using the same definition of "XML MIME type" and "Content-Type metadata"

[00:25:01.0000] <Hixie>
annevk: (the tweet being wrong is because i screwed up the checkin)

[00:26:00.0000] <annevk>
boblet, yeah, implied paragraph semantics is just a convenience

[00:27:00.0000] <Hixie>
http://www.hixie.ch/tests/adhoc/dom/level0/document/load/005.html - i don't understand what firefox is doing

[00:27:01.0000] <annevk>
Hixie, and there's a ~ after step 1 I now notice

[00:27:02.0000] <boblet>
annevk: cool, thanks. “best practice” is hard

[00:28:00.0000] <Hixie>
annevk: yeah, i fixed that

[00:29:00.0000] <annevk>
boblet, initially some wanted to outlaw <body> <img> <p> test </p> </body> and such (like HTML4) but iirc hsivonen convinced Hixie that allowing it would be easier and still ok (with the implied paragraphs concept)

[00:35:00.0000] <boblet>
annevk: initially that looked fine to me, but img are display:inline by default huh. implied <p> is definitely author-friendly

[00:36:00.0000] <annevk>
boblet, well yeah, we no longer call them inline or block level either you might have noticed

[00:36:01.0000] <annevk>
boblet, notice that implied paragraph does not mean a <p> in the DOM

[00:37:00.0000] <annevk>
boblet, it just means that semantically a paragraph is there, for user agents that care about paragraph semantics

[00:37:01.0000] <boblet>
annevk: yes to both :) although initially I thought flow was an equivalent to block-level

[00:40:00.0000] <annevk>
for the new element groupings it probably helps to not think about HTML4 at all, though I guess that will be rather hard for at least another couple of years

[00:40:01.0000] <boblet>
annevk: and if you’re trying to explain them to ppl who only know HTML 4

[00:41:00.0000] <boblet>
btw John Allsopp had the brainwave of using [role] instead of the JS shiv for IE7-8. still need it for IE6 of course

[00:43:00.0000] <annevk>
together with the XHTML2 WG he's probably the only role="" fanatic out there who doesn't consider it an attribute for assistive technology

[00:43:01.0000] <annevk>
iirc he even got an ALA article on that published

[00:44:00.0000] <boblet>
annevk: http://twitter.com/johnallsopp/status/19617327472 ;-)

[00:44:01.0000] <boblet>
he’s reached “in a perfect world…” equilibrium

[00:46:00.0000] <annevk>
ah, well, welcome to the future

[00:47:00.0000] <boblet>
but not the future of the perfect world

[00:59:00.0000] <annevk>
boblet, perfect worlds don't have angle brackets

[01:00:00.0000] <boblet>
annevk: guess we’ll have to settle for this world

[01:02:00.0000] <othermaciej>
hola

[01:03:00.0000] <othermaciej>
hsivonen: I think it would be better to get rid of it, but abarth discovered pretty serious Web compat consequences to not having it

[01:08:00.0000] <erlehmann>
othermaciej, that sentence alone does adequately describe a whole lot of spec quirks ;)

[01:09:00.0000] <othermaciej>
hsivonen: I would love it if Mozilla would actually remove it, or at least the synchronous version - but i don't know if a console warning carried much weight

[01:10:00.0000] <annevk>
we would like that too

[01:13:00.0000] <annevk>
would be nice if there were some people writing papers on how to do format extensibility on the Web, why versioning is an anti-pattern on the Web, etc.

[01:13:01.0000] <annevk>
for future spec writers

[01:16:00.0000] <annevk>
maybe when my beard turns gray

[01:17:00.0000] <Hixie>
annevk: yeah i am surprised as to how often such basic concepts are found to not be understood by people at the w3c or ietf

[01:17:01.0000] <Hixie>
annevk: yet they keep telling us that the reason to go to the w3c or ietf is that we'll get more expert review

[01:18:00.0000] <annevk>
that reminds me of something funny I read in the HyperText CG this morning

[01:19:00.0000] <annevk>
first couple of sentences from http://www.w3.org/2010/07/16-hcg-minutes.html#item01

[01:31:00.0000] <hsivonen>
annevk: that minute item is sad

[01:34:00.0000] <micheil>
Hixie: I always do that on the list. >_>

[01:34:01.0000] <micheil>
I'm use to the google group's mailing lists where the reply-to is the mailing list email address.

[01:34:02.0000] <Hixie>
don't feel bad, mcarter did the exact same thing like 15 minutes before you :-P

[01:35:00.0000] <micheil>
heh heh

[01:35:01.0000] <micheil>
I've done that a few times now; oh well.

[01:36:00.0000] <micheil>
Hixie: is there anything important I should mention on that podcast about the work being done on the websocket protocol?

[01:38:00.0000] <Hixie>
no casualties so far, but the battles are still raging so it's too early to count our chickens?

[01:40:00.0000] <hsivonen>
count chickens?

[01:40:01.0000] <Hixie>
that was a very mixed metaphor

[01:41:00.0000] <Hixie>
the chicken part was an allusion to the proverb "don't count your chickens until the eggs have hatched"

[01:43:00.0000] <hsivonen>
ah

[01:52:00.0000] <mcarter>
is xhr.sendAsBinary a whatwg thing, or an api that mozilla made up?

[01:54:00.0000] <annevk>
the latter

[01:54:01.0000] <annevk>
XHR is a W3C thing atm

[01:59:00.0000] <mcarter>
is there a draft of the proposed binary apis (for webgl, xhr, and potentially websocket) that I saw hixie mention in his recent hybi email?

[01:59:01.0000] <annevk>
anyone have a link handy to all the polls?

[01:59:02.0000] <annevk>
ah

[01:59:03.0000] <annevk>
http://www.w3.org/2002/09/wbs/40318/

[01:59:04.0000] <Hixie>
http://www.w3.org/2002/09/wbs/40318/issue-101-objection-poll/ http://www.w3.org/2002/09/wbs/40318/issues-4-84-objection-poll/

[01:59:05.0000] <MikeSmith>
mcarter: https://cvs.khronos.org/svn/repos/registry/trunk/public/webgl/doc/spec/TypedArray-spec.html is one

[02:00:00.0000] <MikeSmith>
mcarter: if that's what you meant

[02:00:01.0000] <mcarter>
MikeSmith, thanks, I think it may be what I'm talking about

[02:01:00.0000] <MikeSmith>
mcarter: there are some links at the commonjs wiki as well

[02:01:01.0000] <MikeSmith>
/me tries to find the page

[02:01:02.0000] <MikeSmith>
http://wiki.commonjs.org/wiki/Binary

[02:01:03.0000] <othermaciej>
the Khronos folks met with ECMA TC-39 at some point but I don't know what progress has been made

[02:01:04.0000] <mcarter>
I wonder if it would be beneficial to create a binary WebSocket api that could accept a string OR one of these ArrayBuffers. For the string case it would just do what xhr.sendAsBinary does now (truncate the higher order byte of each utf-16 character)

[02:02:00.0000] <MikeSmith>
othermaciej: it's good news that they met at least

[02:02:01.0000] <MikeSmith>
would be nice if they made some minutes available

[02:04:00.0000] <annevk>
hah, public minutes of either alone is already hard afaik

[02:05:00.0000] <Hixie>
ok bed time

[02:05:01.0000] <Hixie>
nn

[02:07:00.0000] <mcarter>
goodnight Hixie

[02:20:00.0000] <annevk>
answered the surveys...

[02:20:01.0000] <annevk>
feels like a waste of time, especially the 101

[02:25:00.0000] <annevk>
still no news on licensing :/

[03:46:00.0000] <jgraham>
Philip` or someone: where are the instructions for committing to the HTML testsuites repository?

[03:52:00.0000] <jgraham>
(I found it)

[03:55:00.0000] <annevk>
use https and your W3C username/password

[03:55:01.0000] <annevk>
I think there's not much else to it

[03:55:02.0000] <annevk>
at least not when I played with the WebApps repository the other day

[03:57:00.0000] <jgraham>
Yeah, it was straightforward in the end

[04:07:00.0000] <hsivonen>
Reading the remote XUL removal bug, I wonder how people decide to develop single-browser apps (be it IE, Firefox or Safari)

[04:07:01.0000] <hsivonen>
well, I guess there probably are Opera-only apps, too

[04:07:02.0000] <hsivonen>
widgets probably

[04:08:00.0000] <annevk>
I read some of that bug, not sure what to think of it

[04:09:00.0000] <Philip`>
I'd guess it's the same way they decide to develop single-OS apps

[04:11:00.0000] <Philip`>
The platform provides features they want to use, enough of their potential users are running that platform, the platform is relatively stable so their app isn't going to break soon, etc

[04:14:00.0000] <hsivonen>
why is it so hard to get non-Google webmail that doesn't suck?

[04:14:01.0000] <hsivonen>
Zimbra is regressing

[04:14:02.0000] <hsivonen>
now it no longer fills in "Foo Bar wrote:" when replying to a message.

[04:19:00.0000] <ksemeks>
how do i in chrome enlarge the databaseStorage size? i m trying with javascript, but the size is always the same

[04:37:00.0000] <othermaciej>
hsivonen: we have learned about a lot of content that is either WebKit-specific or WebKit/Gecko-specific due to the recent HTML5 malformed close tag parsing issue

[04:38:00.0000] <othermaciej>
content that depends on WebKit bugs/quirks/proprietary features includes: Dashboard widgets, apps that use WebKit for their display engine (like chat programs), mobile-targeted versions of web sites, Apple enthusiast centric web sites, and Apple-internal servers

[04:42:00.0000] <othermaciej>
(I think it's specifically the changed handling of <abc</abc> - we will probably have to put a quirk in the HTML5 parser to restore behavior for WebKit-based native apps at minimum)

[04:42:01.0000] <Philip`>
(And Apple web standards marketing demos)

[04:43:00.0000] <hsivonen>
othermaciej: also, <canvas> centric stuff (Bespin) and Gecko-specific intranets (Mozilla's own!)

[04:43:01.0000] <Workshiva>
Google is luckily not a monoculture there :)

[04:43:02.0000] <hsivonen>
that is, Bespin relied on </foo</bar>

[04:44:00.0000] <hsivonen>
and at least two Mozilla intranet pages have relied on recovery when </title> is missing

[04:44:01.0000] <othermaciej>
<abc</abc> is unusual because HTML5 goes with the IE/Opera behavior instead of the WebKit/Gecko behavior

[04:44:02.0000] <Philip`>
http://philip.html5.org/data/gt-in-tag.txt

[04:44:03.0000] <othermaciej>
maybe that's not all that unusual

[04:44:04.0000] <Philip`>
/me can't remember whether he sent that link to abarth or not

[04:44:05.0000] <othermaciej>
but it would be nice to know if there is real breakage from the WebKit/Gecko behavior

[04:44:06.0000] <annevk>
there's breakage either way

[04:44:07.0000] <Philip`>
Um, I should have called that lt-in-tag.txt

[04:46:00.0000] <hsivonen>
(AFAIK, Mozilla's intranet doesn't intend to be Gecko-specific, but stuff that doesn't work in IE but works in Firefox and Mobile Safari happens.)

[04:47:00.0000] <othermaciej>
I guess we'd never find out the real impact of breakage the other way until IE implements the HTML5 parsing algorithm

[04:47:01.0000] <hsivonen>
othermaciej: I believe Opera has experience of that breakage

[05:28:00.0000] <annevk>
so http://www.w3.org/Bugs/Public/show_bug.cgi?id=9745 means the WebSocket handshake is going to change?

[06:02:00.0000] <jgraham>
annevk: Maybe for port 443 only?

[06:02:01.0000] <jgraham>
or rather wss only?

[06:03:00.0000] <annevk>
I suspect it will be something like that

[08:12:00.0000] <AryehGregor>
Finally, <https://bugs.webkit.org/show_bug.cgi?id=40747> is fixed.

[08:13:00.0000] <hsivonen>
aargh. https://bugs.webkit.org/show_bug.cgi?id=40747#c3

[08:13:01.0000] <AryehGregor>
I hope it gets widely deployed to Safari before anyone has a decent implementation that anyone would actually want to use.

[08:13:02.0000] <hsivonen>
can someone, please, stop the Chrome team from adding new doctype sniffing?

[08:14:00.0000] <AryehGregor>
They did, see: https://bugs.webkit.org/show_bug.cgi?id=40520

[08:14:01.0000] <hsivonen>
AryehGregor: ok. whew.

[08:15:00.0000] <AryehGregor>
Initially tkent implemented it for all modes, then saw some bugs and disabled it in quirks mode, then people yelled at him for making the modes different, and people also yelled at him for doing validation at all without UI, so now he's just disabled it across the board.

[08:15:01.0000] <AryehGregor>
And when UI is added, presumably it will be readded for all modes.

[08:15:02.0000] <AryehGregor>
Although by the way, I think that by "<!doctype html>" he means "non-quirks".

[08:18:00.0000] <jgraham>
Argh. Don't do that to me

[08:18:01.0000] <jgraham>
People adding mode-specific things makes me want to cry blood

[08:19:00.0000] <AryehGregor>
People adding things that are completely broken and unusable and thereby burdening web developers with having to do browser sniffing makes me want to cry sulfuric acid.

[08:19:01.0000] <AryehGregor>
(which is much more painful)

[08:25:00.0000] <jgraham>
Who's to say my blood tears were't caused by initial sulfuric acid tears corroding the veins in my eyes?

[08:29:00.0000] <AryehGregor>
But at least in that case, the tears are restricted to your eyes, whereas mine will cause terrible burns across my whole face, and also my hands when I frantically try to wipe it away, and my mouth when it leaks in as I scream.

[08:29:01.0000] <AryehGregor>
Also, wouldn't the acid cauterize the veins?

[08:30:00.0000] <Philip`>
The terrible pain sounds like a bonus, as it will distract you from the HTML issues that initiated the tears

[08:31:00.0000] <annevk>
what is a WG Secretary?

[08:35:00.0000] <annevk>
http://tools.ietf.org/html/rfc2418#section-6.2 -- minute taker

[08:42:00.0000] <MikeSmith>
Lachy: can you remind what the status is on the Selectors API spec?

[08:56:00.0000] <hsivonen>
reminder for everyone who has commented on ARIA: the deadline for accepting/rejecting responses in the current round is "by" tomorrow

[08:56:01.0000] <hsivonen>
(I'm going through my responses now...)

[09:50:00.0000] <TabAtkins>
cardona507: I think I'll be at the campout as a counselor.

[09:51:00.0000] <cardona507>
sweet - I am going to be there also - 

[09:51:01.0000] <cardona507>
how did your talk go the other day?

[09:54:00.0000] <cardona507>
TabAtkins: what are your thoughts on node.js?

[09:58:00.0000] <TabAtkins>
My talk went fine.  The two responses we got back, one very negative and one very positive, were both very accurate.  ^_^

[09:58:01.0000] <TabAtkins>
I think node.js is interesting.  I haven't touched it, but I've read up on it a little bit.

[10:04:00.0000] <cardona507>
any slides from the talk? I am doing front end work on a rails project and the team is interested in nodejs for an upcoming project so I am just now becoming aware of nodejs. It seems pretty cool. And there is definitely a buzz around it. 

[10:05:00.0000] <TabAtkins>
Not from me - I basically just reused my demos from my last talk.  The other dudes had some slides, though I dunno where they are.

[10:25:00.0000] <miketaylr>
cardona507: if you're anywhere near NYC theres a node.js hackday/workshop this saturday

[10:25:01.0000] <cardona507>
miketaylr: I am in Cali - thanks for the heads up though :)

[10:27:00.0000] <TabAtkins>
Ooh, on that note, we've got an internal tech talk about node.js tomorrow!  Yay!

[10:27:01.0000] <miketaylr>
cardona507: its only like a 7 hour flight, cmon! ;)

[10:28:00.0000] <cardona507>
TabAtkins: was that your subtle way of inviting us? ;)

[10:28:01.0000] <cardona507>
miketaylr: if only it were that easy...

[10:30:00.0000] <miketaylr>
yeah, it's only a 30 minute train ride for me and it's not that easy

[10:30:01.0000] <TabAtkins>
cardona507: I dunno if outsiders can attend.  I'll ask, if you want.

[10:30:02.0000] <jgraham>
Dear "I'm too lazy to read the spec right now and will instead go home"web: is there a simple way to get the DOMContentLoaded event on the document on an iframe when you set the src of the iframe (so you don't have the right document object at the point where you can set an event listener)

[10:31:00.0000] <cardona507>
TabAtkins: please ask - that would be great

[10:44:00.0000] <cardona507>
miketaylr: will any of the talks be streamed this saturday?

[10:44:01.0000] <miketaylr>
cardona507: i doubt it. i think its more of a hands-on hack day

[10:44:02.0000] <cardona507>
cool

[10:48:00.0000] <gsnedders>
jgraham: You were talking about ORMs coping cleanly with cases where some conditions were optional, got any code of one doing so?

[10:48:01.0000] <gsnedders>
To ask again…

[10:48:02.0000] <gsnedders>
/me weeps at jgraham's silence

[11:02:00.0000] <jgraham>
gsnedders: Either I am ignoring you or you missed "and will now go home"

[11:02:01.0000] <jgraham>
gsnedders: No examples, but it seems like it shouldn't be too hard

[11:03:00.0000] <jgraham>
/me reads some documentation

[11:04:00.0000] <jgraham>
gsnedders: Is what you want different from using sql alchemy and doing 

[11:05:00.0000] <jgraham>
f = filter(foo.bar = "baz")

[11:05:01.0000] <jgraham>
if condition1:

[11:05:02.0000] <jgraham>
    f = f.filter(foo.foobar = "something")

[11:05:03.0000] <jgraham>
and so on?

[11:05:04.0000] <gsnedders>
no

[11:06:00.0000] <gsnedders>
But I thought you meant there was a way cleaner than that :)

[11:06:01.0000] <jgraham>
Oh

[11:06:02.0000] <jgraham>
Well that seems clean relative to gluing together bits of SQL by hand depending on the conditions :)

[11:07:00.0000] <jgraham>
(and you can probably make it look nicer if you have some good way of mapping conditions to filters)

[11:07:01.0000] <gsnedders>
Well, in the cases where you just create an array and concat them with OR it's not massively cleaner

[11:09:00.0000] <jgraham>
I tend to think that anything not involving gluing together strings is a win

[11:16:00.0000] <AryehGregor>
TabAtkins, in ISSUE-4/ISSUE-84, aren't you supposed to quote things rather than just linking to them?

[11:18:00.0000] <TabAtkins>
AryehGregor: I linked, but then summarized the takeaway point from the link in my reply.

[11:41:00.0000] <hsivonen>
TabAtkins: I think your objecting could use some restatement of the argument for readers who don' already agree with robin's conclusion

[11:41:01.0000] <hsivonen>
*objection

[11:59:00.0000] <AryehGregor>
/me notices this while reading the HTTP 1.0 spec: "Product tokens [like the User-Agent header] should be short and to the point -- use of them for advertizing or other non-essential information is explicitly forbidden. Although any token character may appear in a product-version, this token should only be used for a version identifier (i.e., successive versions of the same product should only differ in the product-version portion of the pro

[11:59:01.0000] <AryehGregor>
Ha.  Ha.  Ha.

[12:00:00.0000] <TabAtkins>
I blame it all on early hackers.  Fuckers, the lot of 'em.

[12:01:00.0000] <hsivonen>
yay for reality-based specs

[12:05:00.0000] <AryehGregor>
Proxy Error

[12:05:01.0000] <AryehGregor>
The proxy server received an invalid response from an upstream server.

[12:05:02.0000] <AryehGregor>
The proxy server could not handle the request POST /2002/09/wbs/40318/issues-4-84-objection-poll/.

[12:05:03.0000] <AryehGregor>
Reason: Error reading from remote server

[12:05:04.0000] <AryehGregor>
I get that when trying to submit my objection at: http://www.w3.org/2002/09/wbs/40318/issues-4-84-objection-poll/

[12:05:05.0000] <AryehGregor>
/me pokes MikeSmith?

[12:06:00.0000] <AryehGregor>
(If that had caused me to lose my giant post that I spent like an hour writing, I'd have killed someone.)

[12:06:01.0000] <Philip`>
Maybe you wrote too much

[12:06:02.0000] <Philip`>
I think hsivonen had that problem

[12:07:00.0000] <AryehGregor>
(Browsers need more bulletproof auto-form-saving.  It's reliable enough these days that I rely on it, but just unreliable enough that it doesn't work enough times to be kind of frustrating.)

[12:07:01.0000] <Philip`>
/me suggests killing the people who haven't added a 'recover recently submitted form values' feature to browsers

[12:07:02.0000] <AryehGregor>
$ wc ~/issue4-objection

[12:07:03.0000] <AryehGregor>
  32  929 5804 /home/aryeh/issue4-objection

[12:07:04.0000] <AryehGregor>
Is that too much?

[12:08:00.0000] <Philip`>
13:01 < MikeSmith> if a comment is 5629 characters or longer, submitting a response will fail

[12:10:00.0000] <Philip`>
(You could Twitterise your response so it fits in the limit, or post to www-archive and link to it)

[12:10:01.0000] <AryehGregor>
Seriously?  5629 is the cutoff?

[12:10:02.0000] <AryehGregor>
Why 5629?

[12:11:00.0000] <Philip`>
/me shrugs

[12:11:01.0000] <AryehGregor>
Wikipedia used to have a problem where some browsers wouldn't handle text boxes properly if they had 32 KB or more of text, but that's at least a vaguely comprehensible number.

[12:12:00.0000] <AryehGregor>
/me is used to Twitterizing git commit summaries so the first line is 50 characters or less, so that should be no big deal to do

[12:14:00.0000] <AryehGregor>
Well, seems like it worked.

[12:14:01.0000] <AryehGregor>
I wasn't too far over, so no big deal.

[12:18:00.0000] <hsivonen>
AryehGregor: I had the same problem. MikeSmith instructed me to post to www-archive and point from the survey to www-archive

[12:18:01.0000] <AryehGregor>
hsivonen, I was only a couple hundred bytes over, so I just shortened it a bit.

[12:32:00.0000] <jgraham>
AryehGregor: Maybe the real limit is 8192 or something, but a whole load of extra bytes are added somewhere?

[12:32:01.0000] <AryehGregor>
Would make sense.

[12:32:02.0000] <jgraham>
8192 is still kinda radom though

[12:32:03.0000] <jgraham>
+n

[12:33:00.0000] <AryehGregor>
I'm guessing the system wasn't really stress-tested so much prior to the HTMLWG "everyone is a member" philosophy.

[12:33:01.0000] <jgraham>
With this poll it's more like "everyone is Alexander Pope"

[12:34:00.0000] <othermaciej>
AryehGregor: if you can't make your response short enough, I you can always mail it to www-archive and post a link

[12:34:01.0000] <AryehGregor>
othermaciej, it's okay, I just shortened it a bit.

[12:35:00.0000] <jgraham>
/me decides that Pope was not quite who he had in mind

[12:35:01.0000] <jgraham>
Although if anyone does write their response in verse form, I shall be impressed

[12:36:00.0000] <jgraham>
Possibly the chairs less so :)

[13:36:00.0000] <Hixie>
Philip`: your advice on http://www.w3.org/Bugs/Public/show_bug.cgi?id=9574 would be welcome

[13:47:00.0000] <jgraham>
Yay for floating point differences

[13:50:00.0000] <Philip`>
Hixie: I have no idea how to define anything that would lead to more interoperability than leaving it undefined

[13:51:00.0000] <gsnedders>
jgraham: No, you're just working in the wrong base.

[13:54:00.0000] <Philip`>
If it's defined like "if |endAngle-startAngle| < 0.001 then assume they are the same point" then you're just shifting the problematic boundary from 0 to 0.001 (e.g. what if |end-start| = 0.00100001)

[13:55:00.0000] <TabAtkins>
Define the boundary as a base-2 fraction.

[13:56:00.0000] <Philip`>
What if I set startAngle = 0, endAngle = 1000*Math.PI?

[13:57:00.0000] <Philip`>
Are we going to define the precise 64-bit floating-point value of Math.PI and mod operation and all the rounding modes and everything?

[13:57:01.0000] <TabAtkins>
That's what we'd need for interop, presumably.

[13:57:02.0000] <TabAtkins>
"dyadic fraction" is the word I was looking for.

[13:57:03.0000] <Philip`>
I'd be surprised if everyone was willing to implement things that precisely

[13:58:00.0000] <TabAtkins>
Me too.

[13:58:01.0000] <Philip`>
particularly since changing rounding modes would hurt performance

[13:58:02.0000] <AryehGregor>
Does x87 have different rounding from the new fancy better x86 floating-point stuff?

[13:59:00.0000] <AryehGregor>
(we can always just say ARM is non-conforming)

[13:59:01.0000] <Philip`>
I don't know how to avoid problems without either defining everything in way too much precision (so most implementations won't bother to follow it), or defining functions so they don't have discontinuities in the output as a function of their inputs

[13:59:02.0000] <TabAtkins>
We could define the cutoff to be obnoxiously large, so rounding is easier.  "Anything smaller than 1/256 is rounded to 0".

[14:00:00.0000] <AryehGregor>
Then you have to do explicit rounding all the time in the implementation.

[14:00:01.0000] <AryehGregor>
Will anyone be willing to do that?

[14:00:02.0000] <Philip`>
(It'd probably be possible to define arc that way but I think the current definition was discussed at length before being settled on, and it's not much fun to do that all over again)

[14:02:00.0000] <Philip`>
AryehGregor: If I remember correcty, x87 uses the rounding mode specified by the FPU control word, which sometimes gets fiddled with by parts of the application or by drivers etc when they want performance

[14:03:00.0000] <AryehGregor>
Awesome.

[14:03:01.0000] <Philip`>
so you need to be quite careful to keep control of that

[14:05:00.0000] <Philip`>
On amd64 you just use SSE for all floating point

[14:05:01.0000] <Philip`>
which has its own rounding mode flag

[14:05:02.0000] <gsnedders>
AryehGregor: x87 also uses 100-bit fp, whereas SSE2 uses 32/64-bit fp

[14:05:03.0000] <TabAtkins>
100b?  That sounds weird.

[14:05:04.0000] <Philip`>
Also, compilers will happily rearrange all your FP operations and keep things in 80-bit registers and mess up your calculations

[14:05:05.0000] <gsnedders>
So if you do multiple instructions on a single piece of data, rounding differences can appear

[14:05:06.0000] <TabAtkins>
Are they using 28b for something else?

[14:05:07.0000] <AryehGregor>
I take it that any remotely recent x86-32 CPUs has SSE too, but the browsers don't want to use it because then they'll break on everyone's old Pentium II's?

[14:05:08.0000] <Philip`>
unless you pass lots of restrictive compiler flags and hope the optimiser respects them sufficiently

[14:05:09.0000] <Philip`>
gsnedders: 80, not 100

[14:05:10.0000] <AryehGregor>
TabAtkins, 80-bit floating point is common too.

[14:05:11.0000] <gsnedders>
AryehGregor: SSE2 is P4 at lesat

[14:05:12.0000] <gsnedders>
Philip`: Gah, close enough.

[14:05:13.0000] <gsnedders>
!= 64 is the point

[14:05:14.0000] <AryehGregor>
/me guesses "too" was inappropriate, then

[14:05:15.0000] <jgraham>
gsnedders: wrong base?

[14:06:00.0000] <gsnedders>
AryehGregor: (and SSE2 introduced double percision fp)

[14:06:01.0000] <gsnedders>
jgraham: well, it's not my fault that 0.1 + 0.7 != 1.0

[14:06:02.0000] <TabAtkins>
80b still sounds weird.  It's even further from it's smallest larger power of 2.

[14:06:03.0000] <Philip`>
http://mxr.mozilla.org/mozilla-central/source/js/src/jsnum.cpp#664 is setting x87 to use 64-bit instead of 80-bit, I think

[14:08:00.0000] <Philip`>
TabAtkins: "Anything smaller than 1/256" - how does that help? It just means your boundary is now 1/256, not 0/256

[14:08:01.0000] <gsnedders>
http://code.google.com/p/v8/issues/detail?id=436

[14:08:02.0000] <TabAtkins>
Philip`: It helps because 1/256 is a precise value in all extant and expected future fp implementations.

[14:09:00.0000] <Philip`>
TabAtkins: So is 0

[14:11:00.0000] <TabAtkins>
Oh, hrm, you're right.  I'm dumb.

[14:11:01.0000] <AryehGregor>
TabAtkins, not everything has to be in powers of two, you know.

[14:11:02.0000] <TabAtkins>
1/256+e will cause the exact same problems.

[14:11:03.0000] <TabAtkins>
AryehGregor: Heresy!

[14:11:04.0000] <Philip`>
https://bugzilla.mozilla.org/show_bug.cgi?id=531915 - those functions are even worse (differences in the ~6th digit)

[14:13:00.0000] <AryehGregor>
Math.tan(-1e300) = -4.802497308567303 (Linux), -4.987183803371025 (Windows)

[14:14:00.0000] <AryehGregor>
That's awful.

[14:14:01.0000] <AryehGregor>
Although not too awful when you think about what you're asking.

[14:14:02.0000] <gsnedders>
ooo, fireworks!

[14:24:00.0000] <jgraham>
Also, fireworks!

[14:24:01.0000] <jgraham>
Although I didn't se them and they have stopped now

[14:27:00.0000] <gsnedders>
THE INTERNET IS BREAKING!

[14:27:01.0000] <gsnedders>
Or at least that's what I feel like every time there's a netsplit.

[14:27:02.0000] <gratz|home>
why did you break it?

[14:27:03.0000] <TabAtkins>
Philip`: If you define it as "everything less than 1/2^n rounds to 0", the problem of being an epsilon over 1/2^n disappears, but being an epsilon *under* 1/2^n remains, right?

[14:29:00.0000] <annevk>
after more than a year: http://www.w3.org/TR/2010/WD-cors-20100727/

[14:30:00.0000] <Philip`>
TabAtkins: Depends what problem you mean

[14:31:00.0000] <Philip`>
The actual problem isn't about rounding to zero, it's about whether you're above or below 2pi

[14:31:01.0000] <TabAtkins>
In that 1/2^n - epsilon may be equal to or less than 1/2^n, depending on accuracy.

[14:32:00.0000] <TabAtkins>
Oh, right, that's a separate and interesting thing.

[14:32:01.0000] <TabAtkins>
We should express it in piradians rather than radians.

[14:32:02.0000] <TabAtkins>
Then you can just draw from 0 to 2.

[14:32:03.0000] <TabAtkins>
Or turns!

[14:33:00.0000] <Philip`>
Oh, actually, doesn't the spec handle this already?

[14:33:01.0000] <Philip`>
I forgot to read one of its paragraphs

[14:40:00.0000] <Philip`>
/me keeps confusing himself

[14:44:00.0000] <Philip`>
/me gives up since his brain is incapable of doing geometry

[14:48:00.0000] <hsivonen>
hmm. something is wrong with taking snapshots by year http://www.w3.org/News/2010.html#entry-8864

[14:49:00.0000] <hsivonen>
if the 2007 snapshot goes to LC in 2010

[14:50:00.0000] <TabAtkins>
Agreed.

[14:52:00.0000] <annevk>
I wondered if that was intentional

[14:52:01.0000] <annevk>
not that it matters much

[14:52:02.0000] <jgraham>
Intentional to make it look like a silly waste of time?

[14:55:00.0000] <Philip`>
Putting dates in names seems a terrible idea, because you'll always miss them

[14:56:00.0000] <Philip`>
even if you take C++0x's approach of giving yourself a 10-year interval

[14:56:01.0000] <TabAtkins>
We could have just renamed it to 2010 snapshot!

[14:56:02.0000] <TabAtkins>
Publishing a 2010 snapshot in 2011 still sounds reasonable.

[14:57:00.0000] <Philip`>
Call it the 2012 snapshot and say you're ahead of schedule

[14:57:01.0000] <annevk>
Snapshot Beijing is cooler

[14:57:02.0000] <TabAtkins>
Problem with that is that the name is completely opaque.  Which can be a good or bad thing, I guess.

[14:57:03.0000] <annevk>
2007 is also opaque

[14:57:04.0000] <Philip`>
Names should be opaque identifiers

[14:57:05.0000] <Philip`>
and should make it clear that they are

[14:58:00.0000] <annevk>
and not completely; Beijing was where this was decided

[14:58:01.0000] <TabAtkins>
By "opaque" I meant "meaningless to anyone not intimately familiar with the CSSWG's operation and the locations in which their FtFs take place".

[14:58:02.0000] <annevk>
in 2007

[14:58:03.0000] <hsivonen>
x in C++0x is now hex

[14:59:00.0000] <annevk>
would be fun to have a series of specs named after beers

[14:59:01.0000] <TabAtkins>
I could get behind that.

[15:00:00.0000] <hsivonen>
does anyone want to place bets on when all the platforms that browser engines need to be ported to have robust C++0x compilers?

[15:00:01.0000] <Philip`>
hsivonen: Doesn't really make much sense to count in hex the number of years after 2000 which is only significant because of its decimal representation

[15:00:02.0000] <Philip`>
hsivonen: Are "the platforms" basically GCC + MSVC?

[15:01:00.0000] <TabAtkins>
Philip`: Nah, 0x is the standard *prefix* for hex numbers, thus the year is completely unspecified now.

[15:01:01.0000] <hsivonen>
Philip`: various version of GCC, GCC without standard lib (Android), Sun Studio

[15:01:02.0000] <hsivonen>
maybe clang in near future

[15:02:00.0000] <Philip`>
Is GCC without standard lib considered a robust C++98 compiler?

[15:02:01.0000] <hsivonen>
it's sad that my attitude towards C++0x is so similar to the attitude of IE6-supporting authors towards CSS3

[15:03:00.0000] <hsivonen>
Philip`: probably not, but browser engines definitely need to compile for Android

[15:03:01.0000] <Philip`>
Lots of the C++0x libraries are already in Boost, so you can use them by just choosing a different namesace

[15:03:02.0000] <Philip`>
s//p/

[15:04:00.0000] <hsivonen>
Boost has an odd license, IIRC

[15:07:00.0000] <Philip`>
http://www.boost.org/users/license.html doesn't look too odd to me

[15:08:00.0000] <hsivonen>
Philip`: looks like a one-off license to me

[15:09:00.0000] <Philip`>
It's an n-off licence where n is the number of Boost libraries

[15:10:00.0000] <franksalim>
lgtm: http://www.opensource.org/licenses/bsl1.0.html, http://www.gnu.org/licenses/license-list.html

[15:10:01.0000] <hsivonen>
well, my point is that to use it, you need to ping licensing gatekeepers and everyone downstream needs to ping theirs

[15:10:02.0000] <hsivonen>
which sucks big time compared to using a well-known license that has already been approved for use everywhere

[15:11:00.0000] <Philip`>
Are any already approved for use everywhere?

[15:11:01.0000] <Philip`>
(Maybe MIT or BSD?)

[15:11:02.0000] <hsivonen>
MIT and 3-clause BSD are doing pretty well

[15:12:00.0000] <TabAtkins>
And GPL, within an ecosystem that's okay with it.

[15:12:01.0000] <jgraham>
I would be nice if everyone used MIT | GPL

[15:12:02.0000] <jgraham>
| LGPL I guess

[15:12:03.0000] <franksalim>
BSD > MIT

[15:12:04.0000] <jgraham>
Why?

[15:13:00.0000] <AndresBotero>
Public domain > BSD

[15:13:01.0000] <franksalim>
the endorsement clause

[15:13:02.0000] <jgraham>
The endorsement clause doesn't make much sense to me

[15:13:03.0000] <jgraham>
I don't see why you need it

[15:13:04.0000] <Hixie>
me either

[15:14:00.0000] <Hixie>
i think MIT is better than BSD-3-clause specifically because of that clause

[15:14:01.0000] <hsivonen>
non-endorsement is the default anyway

[15:15:00.0000] <jgraham>
I would have thought that if someone was misrepresenting your name there would be plenty of other avenues to go down

[15:15:01.0000] <annevk>
/me is with AndresBotero as far as specs/tests go

[15:16:00.0000] <TabAtkins>
Indeed.

[15:16:01.0000] <franksalim>
I can see how bsl, although it is very similar to mit/bsd, could cause you a minor headache if you need legal approval for uncommon licenses. on the other hand, if you just want to make sure you can get your packages into debian, it's fine

[15:16:02.0000] <TabAtkins>
/me duals his stuff in public domain and cc0.

[15:17:00.0000] <franksalim>
/me isn't writing a web browser, though...

[15:17:01.0000] <jgraham>
I was under the impression that public domain scared some people

[15:17:02.0000] <AndresBotero>
It is really about "tastes" and future plans.

[15:18:00.0000] <TabAtkins>
Problem is that public domain doesn't actually exist in some countries, or means something different.

[15:18:01.0000] <AndresBotero>
Well, some people just want recognition, others just want the world to know about what they create.

[15:18:02.0000] <TabAtkins>
So I'm putting trust in CC to get CC0's licensing right.

[15:19:00.0000] <franksalim>
cc0 has an endorsement clause

[15:19:01.0000] <franksalim>
there must be some reason for that

[15:19:02.0000] <Hixie>
cc has done a lot of things wrong imho :-)

[15:19:03.0000] <gsnedders>
AndresBotero: Some people just want help with what they're working on for themselves if anyone else cares :)

[15:19:04.0000] <TabAtkins>
Hixie: Agreed!

[15:20:00.0000] <TabAtkins>
franksalim: you mean the "When citing the work, you should not imply endorsement by the author." sentence?

[15:20:01.0000] <TabAtkins>
(and associated legalese translation)

[15:21:00.0000] <franksalim>
yes, but i actually can't find it in the legalese version

[15:21:01.0000] <jgraham>
The CC0 pages only seem to show the legal text in a tiny box when you click "begin"

[15:22:00.0000] <jgraham>
You are then asked if you agree with all the stuff in the tiny box

[15:22:01.0000] <TabAtkins>
franksalim: You're right - I cant' find it in the legal code.

[15:22:02.0000] <jgraham>
That is insane

[15:22:03.0000] <TabAtkins>
http://creativecommons.org/publicdomain/zero/1.0/legalcode

[15:24:00.0000] <jgraham>
TabAtkins: So how would one find that? The only way I could do it was to load the iframe on the signup page as a tlbc

[15:24:01.0000] <TabAtkins>
jgraham: I dunno how you'd find it from the signup, but from the link they give you it's a link near the bottom: 

[15:24:02.0000] <TabAtkins>
http://creativecommons.org/publicdomain/zero/1.0/

[15:25:00.0000] <jgraham>
I didn't even find that page

[15:26:00.0000] <TabAtkins>
AFter you ask for a license, it should give you that link.

[15:30:00.0000] <jgraham>
Anyway, for software MIT seems simple and safe

[15:30:01.0000] <TabAtkins>
Yeah.

[15:33:00.0000] <Hixie>
why just software?

[15:36:00.0000] <jgraham>
Hixie: Because it is specifically a software license

[15:37:00.0000] <jgraham>
If you change it to not be about software, it is no longer the MIT license (although it may be effectively the same)

[15:38:00.0000] <jgraham>
The indemnification part doesn't make much sense for e.g. a novel though

[15:43:00.0000] <Hixie>
jgraham: the MIT license is about software and documentation

[15:43:01.0000] <Hixie>
specifically, "this software and associated documentation files"

[15:45:00.0000] <jgraham>
OK, but it implies that there is a non-zero amount of software involved

[15:45:01.0000] <jgraham>
I don't think you could use it unmodified to releease *just* documentation

[15:45:02.0000] <AndresBotero>
Yeah, not specifically about JUST software, or just documenttation.

[15:45:03.0000] <AndresBotero>
That

[15:52:00.0000] <Hixie>
jgraham: since the empty string is a valid program in many languages, i don't think that's a problem. There's software in between each letter of the documentation! :-)

[15:52:01.0000] <TabAtkins>
So, your book is just software written in cat?

[15:53:00.0000] <Hixie>
cat?

[15:53:01.0000] <TabAtkins>
The utility.

[15:53:02.0000] <Hixie>
that's not a programming language

[15:53:03.0000] <Hixie>
i use perl

[15:54:00.0000] <TabAtkins>
Pretty sure there's an esolang named that, which used cat as its interpreter.

[15:54:01.0000] <Hixie>
ah

[15:54:02.0000] <TabAtkins>
http://esoteric.voxelperfect.net/wiki/Cat_program

[15:54:03.0000] <Hixie>
well i meant "real" programming languages

[15:54:04.0000] <TabAtkins>
And http://esoteric.voxelperfect.net/wiki/Text

[15:56:00.0000] <AryehGregor>
TabAtkins, #!/usr/bin/cat is unlikely to work, unless you're on Solaris.

[15:56:01.0000] <daedb>
There's also http://en.wikipedia.org/wiki/Whitespace_(programming_language) of course :)

[15:58:00.0000] <daedb>
/me wonders what would happen if you fed the html spec into a whitespace interpreter...

[16:30:00.0000] <Hixie>
i can't work out if this guy is called "Lobotom Dysmon" (as per his sig) or "Thomas Bouchardon" (as per his From: line)

[16:30:01.0000] <TabAtkins>
I'm leaning toward the latter.

[16:30:02.0000] <othermaciej>
the latter sounds a little more like a real name

[16:31:00.0000] <Hixie>
only the former has a facebook page

[16:32:00.0000] <TabAtkins>
That's not a real account, though.

[16:32:01.0000] <Hixie>
i can't tell

[16:32:02.0000] <Hixie>
since i don't have one myself :-)

[16:33:00.0000] <TabAtkins>
It exists for the sole purpose of displaying that avatar.

[16:34:00.0000] <volkmar>
Hixie: Thomas Bouchardon sounds like a typical french name

[16:34:01.0000] <Hixie>
yes

[16:37:00.0000] <Philip`>
Hixie: It looks like you've got both names in the acknowledgements now

[16:37:01.0000] <Hixie>
d'oh

[16:37:02.0000] <Hixie>
oh well

[16:37:03.0000] <Philip`>
I suppose that's one way to be more certain of getting the right one, but I'm not sure whether it's intentional

[16:38:00.0000] <Hixie>
it'll do

[16:39:00.0000] <Philip`>
Also you have a Gavin before a Gareth

[16:41:00.0000] <gavin>
gavins are better than gareths

[16:42:00.0000] <Philip`>
Being later in the list is clearly better than being earlier

[16:44:00.0000] <AryehGregor>
People with Japanese names get better billing, because their names stand out.

[16:45:00.0000] <AryehGregor>
Maybe I should ask for my name there to be changed to "אריה גרגור (Aryeh Gregor)".

[16:45:01.0000] <Philip`>
You should send some feedback under a fake email address with a Japanese name that's actually a rude joke

[16:46:00.0000] <AryehGregor>
Alternatively, I should keep in mind to name all my children "Aaaaaaaaaaaaaah" so they get top billing in situations like this.

[16:46:01.0000] <AryehGregor>
(possibly with an exclamation point at the end)

[16:47:00.0000] <TabAtkins>
/me notes that he must name his children Aaaaaaaaaaaaaaah so as to beat Aryeh's children.

[16:47:01.0000] <Philip`>
There's a game called AaaaaAAaaaAAAaaAAAAaAAAAA!!!

[16:47:02.0000] <AryehGregor>
I'm in pretty good shape, all told, since it's sorted by first name rather than last.  Too bad my parents didn't name me Aaron, then I'd be number three.  Although if they did, I might go by Aharan, which would spoil it all.

[16:47:03.0000] <AryehGregor>
Philip`, I think I saw the review in PC Gamer.

[16:47:04.0000] <Philip`>
/me quite likes it

[16:48:00.0000] <Hixie>
i'm very happy to put in your name in its original form if you tell me what it is :-)

[16:48:01.0000] <AryehGregor>
TabAtkins, then I will simply prefix all my children's names with a null byte, since of course that sorts before everything.

[16:48:02.0000] <AryehGregor>
(I just relied on that for MediaWiki, in fact)

[16:48:03.0000] <Hixie>
AryehGregor: a null byte will turn into FFFD and end up at the end :-P

[16:48:04.0000] <TabAtkins>
"You perform stunts, weaving around the bustling City for points, making split-second decisions: do you snake around those girders to earn a dozen “kisses,” or glide along the side of that steel super-skyscraper for massive “hugs”?"

[16:48:05.0000] <AryehGregor>
(http://www.mediawiki.org/wiki/Special:Code/MediaWiki/69977)

[16:49:00.0000] <TabAtkins>
Prefix your kids' names with a BEEP

[16:49:01.0000] <AryehGregor>
Hixie, only if you use processing tools that aren't binary-safe!  I just need to make sure all my e-mails are sent with MIME type application/octet-stream.

[16:49:02.0000] <AryehGregor>
Then if you mangle the null bytes, you're flagrantly violating the relevant standards.

[16:49:03.0000] <Philip`>
I never got many points from hugs - kisses seem much more important for points

[16:50:00.0000] <Philip`>
and points are important because then you win teeth

[16:51:00.0000] <TabAtkins>
/me will prefix his kid's names with U+-1.

[16:51:01.0000] <TabAtkins>
THE LOST CODEPOINT

[16:52:00.0000] <TabAtkins>
D'oh, I'm not in the acknowledgements.

[16:54:00.0000] <Hixie>
hah

[16:54:01.0000] <Hixie>
i noticed that the other day

[16:54:02.0000] <Hixie>
i figured i'd add you next time i came across an e-mail from you that caused me to change the spec, since that's my normal policy

[16:54:03.0000] <Hixie>
but i haven't come across one yet :-( :-P

[16:54:04.0000] <TabAtkins>
/me wonders if every email he's ever sent has been rejected.

[16:54:05.0000] <Hixie>
maybe!

[16:55:00.0000] <Hixie>
more likely i just missed adding your name at some point

[16:55:01.0000] <Hixie>
and then thought i'd added you so missed many more afterwards

[16:55:02.0000] <TabAtkins>
At the very least, I've influenced your decisions through the medium of IRC.

[16:56:00.0000] <TabAtkins>
Dude, 4 days ago you fixed a typo based on my input.

[16:56:01.0000] <TabAtkins>
Well, hmm.  I suppose it was actually Alex Bishop who spotted it.

[16:58:00.0000] <TabAtkins>
Here we go.  Your "Forms feedback" email from April 6th had you making a change based on a suggestion from me.

[16:59:00.0000] <Hixie>
lies! i, i, i thought of it first!


2010-07-28
[17:00:00.0000] <TabAtkins>
ADD ME OR THE CAT GETS IT.

[17:00:01.0000] <Hixie>
hmmm

[17:00:02.0000] <Hixie>
which cat?

[17:00:03.0000] <TabAtkins>
ALL OF THEM

[17:00:04.0000] <Hixie>
wait what is this "Forms feedback" e-mail

[17:00:05.0000] <Hixie>
how dare you suggest i was actually working in april

[17:00:06.0000] <Hixie>
it's clear from the graph that i haven't worked since october

[17:01:00.0000] <TabAtkins>
Mail headers don't lie.

[17:01:01.0000] <Hixie>
oh actually i did do work in april, go figure

[17:01:02.0000] <Hixie>
that was the last time i did work until about a week ago

[17:02:00.0000] <Hixie>
i have 40 more e-mails from you

[17:02:01.0000] <Hixie>
i'm sure one of them will be convincing

[17:03:00.0000] <TabAtkins>
I have 66 matching 'from:ian⊙hc "tab atkins" label:whatwg'

[17:05:00.0000] <TabAtkins>
The majority of your responses to me consist of or start with the word "Indeed".

[17:05:01.0000] <TabAtkins>
So even if I don't trigger changes, I'm apparently right most of the time when I say something.

[17:07:00.0000] <erlehmann>
haha

[17:08:00.0000] <micheil>
man.. this is seriously how we roll in #whatwg. 

[17:10:00.0000] <TabAtkins>
JS should gain some ability to define an unclosure.  I've seen several places where functions sound like a good idea for something, but the fact that they can close over arbitrary objects makes them too expensive or annoying.

[17:10:01.0000] <TabAtkins>
Serializing unclosures should be easy, frex.

[17:11:00.0000] <Hixie>
TabAtkins: Indeed

[17:11:01.0000] <TabAtkins>
See! ^^^

[17:12:00.0000] <erlehmann>
browsers gonna browse

[17:16:00.0000] <Hixie>
TabAtkins: e-mails to which i reply "Indeed" are my favourite e-mails

[17:16:01.0000] <Hixie>
TabAtkins: but they don't trigger changes to the spec, so they don't land you in the acks :-P

[17:44:00.0000] <Hixie>
re earlier discussion, turns out i've received e-mails from a Lobotom Dysmon who didn't sign with the other name

[17:45:00.0000] <TabAtkins>
I highly doubt they're different people, still.

[17:45:01.0000] <Hixie>
indeed

[17:47:00.0000] <AryehGregor>
/me wonders if Hixie is referring to the previous discussion, or just said "indeed" again without thinking about it

[17:47:01.0000] <TabAtkins>
I've got him trained.

[17:48:00.0000] <variable>
/me wonders if AryehGregor is copying from my keyboard ;) --- I was about to say that

[17:49:00.0000] <Hixie>
i swear it wasn't on purpose!

[17:49:01.0000] <Hixie>
he just keeps saying things that make sense!

[17:49:02.0000] <TabAtkins>
Bwahaha

[17:52:00.0000] <AryehGregor>
It's fun when someone points out some distinctive quirk of someone else's manner of speech, and everyone else is like "Now that you point it out, that's so true."

[17:52:01.0000] <TabAtkins>
More fun when someone points it out for your own speech, and then everyone suddenly notices.

[17:52:02.0000] <AryehGregor>
Yes.

[17:52:03.0000] <AryehGregor>
Like what are quirks of my speech?

[17:52:04.0000] <AryehGregor>
It's hard to notice your own quirks.

[17:52:05.0000] <TabAtkins>
Most quirks don't transmit through IRC well.  Too much self-editing takes place when writing in text.

[17:53:00.0000] <variable>
even more fun when someone points out the quirks of someone's speech and then they suddenly overdo or underdo it ;)

[17:53:01.0000] <AryehGregor>
That's certainly true, people's speech is much more distinctive than their writing.

[17:56:00.0000] <Hixie>
i spend so much time self-editing on irc that i can't actually speak properly anymore, because i'll try to edit things as i'm saying them and if i've already said the part that i'm trying to edit it all comes out garbled

[17:56:01.0000] <Hixie>
this is kind of a serious problem

[17:56:02.0000] <AryehGregor>
TabAtkins' most distinctive quirk of writing is his ludicrous overuse of neologistic abbreviations.

[17:56:03.0000] <AryehGregor>
Hixie, normal people go back and correct themselves . . .

[17:57:00.0000] <TabAtkins>
/me didn't realize he used neologistic abbreviations in the first place.

[17:57:01.0000] <AryehGregor>
Although if your speech gets rusty enough, you could get a TTS converter and just type things IRL too.

[17:57:02.0000] <AryehGregor>
TabAtkins, you use words like "frex" and "abspos" constantly.

[17:57:03.0000] <AryehGregor>
It's very noticeable (at least to me).

[17:57:04.0000] <AryehGregor>
I mean, maybe not strictly neologisms.

[17:57:05.0000] <TabAtkins>
"abs/fix/relpos" is standard terminology around CSS.  ^_^

[17:57:06.0000] <TabAtkins>
I do use "frex" a lot.

[17:57:07.0000] <variable>
AryehGregor, report them to the AAAAA (American Association Against Acroynym Abuse)

[17:58:00.0000] <AryehGregor>
I don't know if you made them up, but you're the one I hear them from first and most.

[17:58:01.0000] <TabAtkins>
I learned them from others in the CSSWG.

[17:58:02.0000] <AryehGregor>
[100727 17:59:32] <TabAtkins> Pretty sure there's an esolang named that, which used cat as its interpreter.

[17:58:03.0000] <AryehGregor>
"esolang"

[17:58:04.0000] <AryehGregor>
You just make these up all the time.

[17:58:05.0000] <TabAtkins>
Esolang is a real word.  A neologism, sure, but not an abbreviation.

[17:58:06.0000] <AryehGregor>
Or at least you're *much* more prone to using them than everyone else.

[17:58:07.0000] <TabAtkins>
I learned it from the internet.

[17:59:00.0000] <AryehGregor>
It's an abbreviation for "esoteric language".

[17:59:01.0000] <AryehGregor>
Which is what they're normally called.

[17:59:02.0000] <TabAtkins>
Yeah, but who wants to type that?

[17:59:03.0000] <TabAtkins>
Bah.

[17:59:04.0000] <TabAtkins>
/me likes conlangs too.

[17:59:05.0000] <Philip`>
/me has only ever noticed one other person use "frex"

[18:00:00.0000] <TabAtkins>
I picked that one up from one specific person on an RPG board I frequented.

[18:00:01.0000] <AryehGregor>
Also stuff like this:  <TabAtkins> 100b?  That sounds weird.

[18:00:02.0000] <AryehGregor>
"100b" instead of "100 bits".

[18:00:03.0000] <TabAtkins>
That's standard terminology!

[18:00:04.0000] <Philip`>
He was in his 60s so I assumed it was a slightly old fashioned phrase rather than a neologism

[18:00:05.0000] <AryehGregor>
Yes, but most people don't normally say it anyway.

[18:00:06.0000] <AryehGregor>
You don't hear people talking about "64b architectures".

[18:00:07.0000] <TabAtkins>
/me actually says "frex" and "abspos" in real speech too.

[18:01:00.0000] <AryehGregor>
You use way more abbreviations of this sort than anyone else I know.

[18:01:01.0000] <AryehGregor>
(it's somewhat tricky to quantify what "of this sort" means, since obviously lots of people use many more abbreviations overall)

[18:01:02.0000] <AryehGregor>
/me was confused the first time he saw "frex", but figured it out eventually

[18:01:03.0000] <TabAtkins>
The only reason I don't say the "b" in real life is because there's not a strong convention for whether it means "b" or "B" when voiced (unlike the higher prefixes, where "B" is generally assumed).

[18:01:04.0000] <Philip`>
Surely "100b" means "4"

[18:02:00.0000] <TabAtkins>
Nah, that's 0b100.

[18:02:01.0000] <AryehGregor>
. . . also, it's exactly the same length as the word "bit" in speech?

[18:02:02.0000] <AryehGregor>
Not in x86 assembler!

[18:02:03.0000] <AryehGregor>
At least the dialect I learned.

[18:02:04.0000] <TabAtkins>
AryehGregor: That doesn't stop people from pronouncing WW2.

[18:02:05.0000] <AryehGregor>
It stops sane people from pronouncing WW2.

[18:02:06.0000] <AryehGregor>
And WWW.

[18:02:07.0000] <AryehGregor>
Well, you can't get around WWW sometimes.

[18:02:08.0000] <TabAtkins>
wuh-wuh-wuh.

[18:02:09.0000] <AryehGregor>
See, there you go trying to abbreviate again.

[18:02:10.0000] <Philip`>
wow-ow

[18:02:11.0000] <AryehGregor>
I bet you do it in speech too.

[18:02:12.0000] <TabAtkins>
I do.

[18:02:13.0000] <AryehGregor>
No, pronouncing "www" is easy, just pretend it's Welsh.

[18:02:14.0000] <AryehGregor>
"oooooo".

[18:03:00.0000] <TabAtkins>
Actually, in speech I pronounced it "dub-dub-dub".

[18:03:01.0000] <AryehGregor>
Yeah, see?

[18:03:02.0000] <AryehGregor>
I told you.

[18:03:03.0000] <TabAtkins>
I pronounce all my acronyms.

[18:03:04.0000] <TabAtkins>
hetimmle, frex.

[18:03:05.0000] <AryehGregor>
Even OHRRPGCE?

[18:03:06.0000] <TabAtkins>
If I knew what that was and had occasion to say it, maybe!

[18:04:00.0000] <AryehGregor>
http://hamsterrepublic.com/ohrrpgce/index.php/Main_Page.html

[18:04:01.0000] <AryehGregor>
I started to write a game using that back in . . . 2002 or something, probably?

[18:04:02.0000] <AryehGregor>
When I was like 14 or whatever.

[18:05:00.0000] <TabAtkins>
K, so, if I was involved in that community for some reason and had a reason to type the acronym, I'd totally pronounce it, since I hear myself speak what I'm typing.

[18:05:01.0000] <AryehGregor>
I'm amused that it still exists, since even back that it was seriously dated, what with only supporting VGA in DOS real mode or something.

[18:05:02.0000] <AryehGregor>
Anyway, it came to mind because the author (a rather eccentric person) said he designed it specifically so that it would be unpronounceable, since pronouncing acronyms is evil.

[18:06:00.0000] <TabAtkins>
oar-pig-see

[18:06:01.0000] <AryehGregor>
I think he also specified that adding vowels was cheating.

[18:07:00.0000] <TabAtkins>
Haters don't get to specify arbitrary rules.

[18:07:01.0000] <AryehGregor>
I got around it by treating things as fricatives and affricates rather than plosives, particularly the G.  So "orp-jseh", with "GC" pronounced as "js" rolled together with no vowel in between.

[18:07:02.0000] <AryehGregor>
You don't really need to follow any fricative with a vowel, you can roll them together endlessly.

[18:07:03.0000] <AryehGregor>
It's only the conventions of the English language that permit "strong" but not "strstrstrstrstrstrstrong".

[18:07:04.0000] <TabAtkins>
Also: adding schwas doesn't count as adding a vowel, since those often get created just by an accent.

[18:07:05.0000] <AryehGregor>
(we should be thankful for such conventions)

[18:08:00.0000] <AryehGregor>
Nonsense, schwas are full-fledged vowels in every sense.  Many dialects add or drop vowels in various words, that doesn't make them not vowels.

[18:08:01.0000] <TabAtkins>
Oh, certainly.  But it *does* make it legal to add them wherever you want to make a word pronouncable.

[18:08:02.0000] <AryehGregor>
For example, most people pronounce "police" as "plees", but rednecks pronounce it as "poh-lees", like it's spelled.

[18:09:00.0000] <AryehGregor>
http://hamsterrepublic.com/ohrrpgce/index.php/Why_did_you_pick_an_acronym_that_is_so_hard_to_pronounce_.html

[18:09:01.0000] <TabAtkins>
By "rednecks" you mean "southerners in general".  There's a difference in accent.

[18:09:02.0000] <AryehGregor>
Yes, yes, I don't draw fine distinctions.

[18:09:03.0000] <TabAtkins>
Of course you don't, yankee.

[18:10:00.0000] <AryehGregor>
I've never been anywhere in the United States outside the East and West Coasts and probably never will be.

[18:10:01.0000] <Philip`>
I thought in America it was always pronounced "cops"

[18:10:02.0000] <TabAtkins>
"po-po".

[18:10:03.0000] <AryehGregor>
Man, now I'm all nostalgic about OHRRPGCE.

[18:10:04.0000] <AryehGregor>
I'll have to see if Wandering Hamster has progressed any.

[18:10:05.0000] <AryehGregor>
It should run fine on DOSBox, I'd think.

[18:11:00.0000] <TabAtkins>
Bringing things back around, I'm extremely amused that my neologisms stick in your eye.

[18:12:00.0000] <AryehGregor>
That's a bit of an overstatement.

[18:12:01.0000] <AryehGregor>
Oh, cool, they have .deb's.

[18:12:02.0000] <AryehGregor>
Actually, maybe it's even available in my package manager.

[18:13:00.0000] <AryehGregor>
It seems not.

[18:14:00.0000] <AryehGregor>
This is a grievous bug in Debian that must be rectified.

[18:15:00.0000] <Philip`>
http://packages.debian.org/search?keywords=dosbox ?

[18:16:00.0000] <Philip`>
They seem to have some dosbox there

[18:16:01.0000] <AryehGregor>
I was talking about Wandering Hamster.

[18:16:02.0000] <AryehGregor>
Which was apparently ported to Linux natively long ago, after being open-sourced.

[18:16:03.0000] <Philip`>
Ah

[18:17:00.0000] <AryehGregor>
/me reads the old DOS 5, DOS 6.22 system requirements: "Plotscripts and battles run a tad slow on a Pentium 166MHz"

[18:19:00.0000] <Philip`>
That seems a bit heavy

[18:19:01.0000] <Philip`>
/me doesn't remember having anything faster than 66MHz when still running DOS

[18:19:02.0000] <variable>
AryehGregor, It reminds me of the map of america with only the states NY, Washington DC, and California given names. The rest are labeled "flyover states" ;)

[20:01:00.0000] <nessy>
does anyone know why Hixie's original email on timed tracks is not archived in the mail archives, see the thread at http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-July/027275.html ?

[20:06:00.0000] <MikeSmith>
nessy: maybe because Jonas changed the subject line and/or started a new thread?

[20:07:00.0000] <nessy>
no, he didn't - in my gmail they are all in the same thread

[20:08:00.0000] <variable>
nessy, gmail is very smart about thread. (it uses the reply-to header)

[20:09:00.0000] <nessy>
Still, it should at least be in the listing at http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-July/027275.html and it isn't

[20:09:01.0000] <nessy>
I cannot find it anywhere in the archives - pretty difficult to point people to without a record :(

[20:09:02.0000] <MikeSmith>
wait, which message exactly?

[20:10:00.0000] <MikeSmith>
I don't find any "Timed tracks for <video>" message that Hixie initiated here either:

[20:10:01.0000] <MikeSmith>
http://www.mail-archive.com/whatwg⊙lwo/thrd4.html#22396

[20:10:02.0000] <MikeSmith>
the thread seems to have been initiated by Carlos Andrés Solís

[20:10:03.0000] <nessy>
yup, not there either

[20:11:00.0000] <MikeSmith>
"My proposal of a subtitle format via an XML-like markup (in progress)"

[20:11:01.0000] <nessy>
it was pretty long - maybe there is a limit on archiving for mail length?

[20:11:02.0000] <MikeSmith>
I don't think se

[20:11:03.0000] <MikeSmith>
*so

[20:11:04.0000] <MikeSmith>
it would be really odd for a message to be missing from two independent archives

[20:11:05.0000] <nessy>
the first line of that email is "I recently added to the HTML spec a mechanism by which external subtitles

[20:11:06.0000] <nessy>
and captions can be added to videos in HTML."

[20:12:00.0000] <MikeSmith>
hmm, yeah

[20:12:01.0000] <MikeSmith>
weird

[20:14:00.0000] <nessy>
it was a mime multipart message, but that still shouldn't stop it from being archived

[20:14:01.0000] <MikeSmith>
maybe you could send a copy of it to www-archive and use that as the reference

[20:16:00.0000] <MikeSmith>
wait, I don't think I got that message

[20:17:00.0000] <MikeSmith>
I think the reason it's nat archived is that it never actually made it to the list

[20:18:00.0000] <MikeSmith>
must be that the reason you got a copy is that Hixie Cc'ed you

[20:18:01.0000] <MikeSmith>
or Bcc'ed you, maybe

[20:20:00.0000] <MikeSmith>
AryehGregor: you still around?

[20:21:00.0000] <MikeSmith>
AryehGregor: wanted to ask if you had worked around the WBS length-limit problem

[20:22:00.0000] <nessy>
oh dear!

[20:22:01.0000] <nessy>
maybe it was too long and is still stuck in a moderation queue?

[20:23:00.0000] <nessy>
is there a moderator around?

[20:24:00.0000] <nessy>
MikeSmith: it's strange though since a whole lot of people received it and replied 

[20:25:00.0000] <nessy>
looking at original headers, I am not on the cc or bcc

[20:27:00.0000] <nessy>
ok, I've sent it to www-archive

[20:57:00.0000] <MikeSmith>
nimbupani: about the "If you were hacking since age 8, it means you were privileged." post, I think it's not necessarily true

[20:58:00.0000] <MikeSmith>
for the reason that at least one of the comments alludes to

[20:58:01.0000] <nimbupani>
MikeSmith: which one?

[20:58:02.0000] <MikeSmith>
which is, a lot of people got started with programming on computers at school, and may not have even had a computer at home at all, or not until much later

[20:59:00.0000] <nimbupani>
MikeSmith: ah like that. 

[20:59:01.0000] <nimbupani>
MikeSmith: Yes, granted that. But I think there is an advantage to having stable environment around you.

[20:59:02.0000] <MikeSmith>
sure, true

[21:00:00.0000] <nimbupani>
I did not have a computer and learnt programming at school on black and white machines. I got my first email ID only in 2000 :/

[21:02:00.0000] <nimbupani>
and I think it is funny that countries where there are more gender discrimination in "real life" has such low discrimination specific to technology.

[21:02:01.0000] <nimbupani>
like, it is a "career" choice not a "way of life". 

[21:02:02.0000] <MikeSmith>
interesting

[21:03:00.0000] <nimbupani>
there are definitely lot more female programmers in India/China

[21:03:01.0000] <nimbupani>
than in US.

[21:03:02.0000] <MikeSmith>
yeah

[21:04:00.0000] <MikeSmith>
but Japan has a lot of gender discrimination in general, and it seems like it also applies to technology

[21:04:01.0000] <nimbupani>
ah k. 

[21:05:00.0000] <MikeSmith>
I think not having a computer and learning programming at school on black-and-white machines is more the rule than the exception

[21:05:01.0000] <MikeSmith>
or at least it used to be

[21:05:02.0000] <nimbupani>
yeah. that is true. but I was thinking of the larger impact of having parents who encourage you to learn and provide a stable environment.

[21:05:03.0000] <MikeSmith>
ah yeah

[21:06:00.0000] <nimbupani>
and sadly that is still a privilege.

[21:07:00.0000] <nimbupani>
what is interesting that has happened because of this outsourcing in India

[21:07:01.0000] <nimbupani>
is that a lot of not-really-middle-class Indians have gained knowledge

[21:08:00.0000] <nimbupani>
and expertise to become the new upcoming middle-class.

[21:08:01.0000] <nimbupani>
so it is seen as a way out. 

[21:09:00.0000] <nimbupani>
so parents actively encourage kids to learn (sadly mainly boys). 

[21:09:01.0000] <MikeSmith>
I think that's really similar to some other places as well

[21:09:02.0000] <MikeSmith>
Vietnam, for one

[21:17:00.0000] <MikeSmith>
though maybe the class boundaries aren't quite as rigid in Vietnam

[21:18:00.0000] <nimbupani>
how does that work? is it because there are very few people in the so-called "middle class"

[21:22:00.0000] <MikeSmith>
nimbupani: in part because it's nominally still a communist country

[21:23:00.0000] <nimbupani>
oh ah I see what you mean. 

[00:00:00.0000] <Cheery>
could I somehow establish P2P connection between HTML5 browsers?

[00:01:00.0000] <Hixie>
not yet, but see http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-July/027129.html

[00:14:00.0000] <annevk>
nessy, http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-July/027386.html ?

[01:32:00.0000] <nessy>
annevk: how did you find that! that definitely wasn't there before - thanks!

[01:36:00.0000] <phrearch>
morning

[01:37:00.0000] <phrearch>
whats the max amount of data thats permitted to be pushed through a websocket to a client?

[01:37:01.0000] <phrearch>
at once that is

[01:37:02.0000] <annevk>
there's no limit

[01:37:03.0000] <franksalim>
phrearch, there is no limit in the protocol as currently specified

[01:38:00.0000] <franksalim>
annevk, beat me by milliseconds :-)

[01:39:00.0000] <phrearch>
aha thanks, somehow when i try to push something like http://paste.pocoo.org/show/242549/

[01:39:01.0000] <annevk>
it's the IRC game ;p

[01:39:02.0000] <phrearch>
it stops at command-script

[01:39:03.0000] <phrearch>
only the part before it is sent

[01:39:04.0000] <annevk>
servers can have limits

[01:40:00.0000] <phrearch>
aha yea

[01:40:01.0000] <phrearch>
http://paste.pocoo.org/show/242550/

[01:40:02.0000] <annevk>
I mean, everything will have limits, they're just encouraged to be as non-limiting as possible

[01:41:00.0000] <phrearch>
im using a twisted websocket server. looks like its capped at MAX_LENGTH = 16384

[01:41:01.0000] <annevk>
that seems quite short

[01:41:02.0000] <phrearch>
yea, and its not closing the connection as expected

[01:53:00.0000] <phrearch>
aha, it was that limit indeed

[01:57:00.0000] <hsivonen>
wow. http://www.w3.org/Bugs/Public/show_bug.cgi?id=9894#c4

[01:59:00.0000] <hsivonen>
also,  I guess the resulution of http://www.w3.org/Bugs/Public/show_bug.cgi?id=10084 hints that there isn't going to be a recusal in the Distributed Extensibility case...

[02:21:00.0000] <annevk>
hsivonen, fun stuff

[03:41:00.0000] <hsivonen>
hmm. I wonder what I've been thinking when I wrote U+0000 handling for MARKUP_DECLARATION_HYPHEN

[03:43:00.0000] <hsivonen>
huh? the spec doesn't even have a state with that name!

[03:43:01.0000] <hsivonen>
I think Hixie has renamed states...

[03:44:00.0000] <annevk>
didn't you turn certain states into substates?

[03:44:01.0000] <annevk>
markup declaration requires consuming several characters or something; I thought you just made more states for that

[03:45:00.0000] <hsivonen>
annevk: good point. that's what's going on

[03:46:00.0000] <hsivonen>
anyway, my utterly bogus handling of U+0000 troubles me

[03:46:01.0000] <hsivonen>
it feels bad to find that I've committed such bogosity

[03:59:00.0000] <MikeSmith>
nessy: fwiw, I did finally get a copy of that "timed tracks for video" message, and the headers show that although it was sent on the 22nd, it wasn't delivered to the list until today

[03:59:01.0000] <nessy>
I'm pretty sure somebody went to the mailing list and authorised the email, cause it was finally archived today, too

[04:00:00.0000] <nessy>
in any case, it's now properly referencable and that's what I was after

[04:00:01.0000] <nessy>
hsivonen: it's good to find out you're human ;)

[04:01:00.0000] <annevk>
must have been Hixie's doing then

[04:02:00.0000] <hsivonen>
I think the two bogus U+0000 cases I found are leftovers from the time when I used U+0000 to signal end of buffer

[04:03:00.0000] <hsivonen>
we really need test cases that put U+0000 and carriage return in every possible tokenizer state

[04:04:00.0000] <hsivonen>
U+0000 and carriage return are my least favorite characters

[04:21:00.0000] <annevk>
Hixie, "with on name" seems like a typo

[04:42:00.0000] <annevk>
why does twitter only have translate button for search results?

[04:42:01.0000] <annevk>
often I need to translate myakura

[05:06:00.0000] <jarib>
whatwg.org down?

[05:10:00.0000] <Philip`>
Looks it

[07:07:00.0000] <mpilgrim>
if anyone would like to say something nice about "Dive Into HTML5" and see it printed on the back cover of the printed edition, send your blurb to the address listed here: http://diveintohtml5.org/about.html

[07:09:00.0000] <Workshiva>
I wonder if mrlastweek would contribute something

[07:10:00.0000] <Philip`>
"This book is okay but why aren't you just reading the free online one?"

[07:12:00.0000] <jgraham>
"Better than a box full of bobcats"

[07:13:00.0000] <Workshiva>
"No risk of drowning"

[07:47:00.0000] <hsivonen>
http://blogs.adobe.com/conversations/2010/07/adobe_expands_enterprise_softw.html

[07:51:00.0000] <Lachy>
why does the Polyglot Markup draft purport to have normative requirements, rather than being a non-normative note that reflects the requirements in HTML5?

[07:51:01.0000] <Lachy>
I've found cases where there are conflicting requirements, so that seems problematic

[07:54:00.0000] <Workshiva>
I'm pretty sure that question has been asked before, but I don't recall how it was un-answered

[07:56:00.0000] <Lachy>
yeah, it probably has. But I have been too busy to pay much attention to that draft till now.

[08:05:00.0000] <hsivonen>
Lachy: feel free to write your rationale in http://www.w3.org/Bugs/Public/show_bug.cgi?id=9969

[08:06:00.0000] <hsivonen>
/me sighs at http://www.w3.org/Bugs/Public/show_bug.cgi?id=10167

[08:13:00.0000] <karlcow>
hsivonen: to be honest, I do not understand the requirements for issue 10167 in the prose.

[08:14:00.0000] <karlcow>
/me wishes we had more annotated specs, but resources, etc yada yada. :)

[08:15:00.0000] <Lachy>
oh, that whole section was wrong in so many ways, as I just noted in my e-mail I just sent.

[08:16:00.0000] <Lachy>
it lists non-conforming attributes, wrongly claims case-sensitivity of values and states an incorrect requirement for lowercase values

[08:18:00.0000] <karlcow>
Lachy: thanks, I thought so. 

[08:58:00.0000] <AryehGregor>
MikeSmith, I eventually posted it by just reducing the length, although it's a pretty silly bug.

[09:29:00.0000] <AryehGregor>
For anyone who hasn't seen this yet on TDWTF: view source on http://www.korea-dpr.com/ and look for "<strong><strong>".

[09:29:01.0000] <AryehGregor>
Fascinating.

[09:29:02.0000] <AryehGregor>
Based on validator.nu output, they do seem to be properly nested.

[09:32:00.0000] <hsivonen>
AryehGregor: I don't see the text "OCN Articles" on the page, but Firefox's "Find" function sees it

[09:32:01.0000] <AryehGregor>
I see it in Chrome.

[09:32:02.0000] <hsivonen>
AryehGregor: I see it in Midori, too

[09:32:03.0000] <AryehGregor>
It's in the bottom right.

[09:33:00.0000] <hsivonen>
AryehGregor: apparently the deep nesting hits the DoS-by-author-incomptence prevention code in the HTML5 parser in Gecko

[09:33:01.0000] <hsivonen>
but it's not clear to me why the text isn't visible

[09:33:02.0000] <AryehGregor>
So did I inadvertently find a site that will break with the HTML5 parser?

[09:34:00.0000] <hsivonen>
AryehGregor: yes

[09:34:01.0000] <AryehGregor>
Hurrah, I thought I was just spamming an amusingly stupidly-written site.

[09:34:02.0000] <AryehGregor>
The DoS part is for real, Web Inspector barely works.

[09:34:03.0000] <AryehGregor>
Maxes out CPU and becomes unresponsive.

[09:36:00.0000] <AryehGregor>
/me counts around a nesting depth of ~883

[09:40:00.0000] <hsivonen>
AryehGregor: filed as https://bugzilla.mozilla.org/show_bug.cgi?id=582620

[10:04:00.0000] <AryehGregor>
Mozilla people: Direct2D doesn't appear to work for me when I fiddle with the appropriate about:config settings and restart the browser, on Windows 7 with a GeForce 6200 SE and the latest drivers from NVIDIA.  It supports DirectX 9.0c.  IE9PP3 plays all the IE demos at good frame rates, but Firefox 4.0b2 doesn't, D2D doesn't seem to be used at all.  Should I report a bug?

[10:10:00.0000] <hsivonen>
AryehGregor: I don't know the details about Gecko's D2D support, but on surface that looks like something that should be filed as a bug

[10:32:00.0000] <Rik`>
AryehGregor: it seems your card is too old for that

[10:32:01.0000] <AryehGregor>
Really?  I thought it was supposed to work with any card supporting DirectX 9.

[10:33:00.0000] <AryehGregor>
I didn't see clear requirements listed anywhere.

[10:33:01.0000] <AryehGregor>
The instructions I got are from some forum post written by I don't know who.

[10:33:02.0000] <Rik`>
ok, now I'm told "it might work" :)

[10:34:00.0000] <AryehGregor>
It does work in IE9PP3, so if it doesn't work in Firefox, that should be fixed for parity.

[10:34:01.0000] <AryehGregor>
But I don't know if it's complete/mature enough to be worth filing bugs yet.

[10:34:02.0000] <AryehGregor>
(I found a bug in 4.0b1, fullscreen video running super-slowly on nouveau, but that was fixed in b2, so I have hope)

[10:38:00.0000] <Rik`>
AryehGregor: http://www.basschouten.com/blog1.php/2010/03/02/presenting-direct2d-hardware-acceleratio ?

[10:38:01.0000] <AryehGregor>
"a high-end DirectX 9 graphics card"

[10:38:02.0000] <AryehGregor>
6200 SE is definitely what I'd call "low-end".  :)

[10:39:00.0000] <AryehGregor>
But if IE9PP3 can do it, surely Firefox 4 should be able to, at least by final release.

[10:39:01.0000] <AryehGregor>
Too bad my only decent graphics cards are in Linux or XP machines.  Oh well.

[10:51:00.0000] <AryehGregor>
TabAtkins, when pasting data URLs into e-mails, you have to make sure they don't line-wrap at inconvenient places.  Newlines are eaten completely when you paste into the URL bar, not converted to spaces.  (at least for me)

[10:52:00.0000] <AryehGregor>
So it has to be manually fixed or you get things like <divstyle= instead of <div style=.

[10:53:00.0000] <Workshiva>
Aren't spaces encoded?

[10:54:00.0000] <AryehGregor>
No, that would be terrible for readability.

[10:55:00.0000] <jgraham>
data urls are supposed to be readble?

[10:57:00.0000] <Workshiva>
They could encode as +

[11:32:00.0000] <TabAtkin1_>
AryehGregor: Ah, sorry about that.

[11:32:01.0000] <AryehGregor>
I don't know why newlines are eaten instead of being converted to spaces.

[11:33:00.0000] <TabAtkin1_>
Workshiva: When I'm writing a test document in my address bar, I don't hand-encode, and neither does the address bar.  I often try to encode before posting it into a bug or something, but that requires an explicit "javascript:alert(encodeURIComponent(''));" call

[11:34:00.0000] <Philip`>
Opera converts them to spaces, I believe

[11:35:00.0000] <Workshiva>
It does, and it's terrible

[11:35:01.0000] <Workshiva>
It breaks URLs in any document or email with hard line wrapping

[11:35:02.0000] <TabAtkin1_>
In general, though, I consider data: url readability not very important, since I can just paste it into the address bar and view-source it if I want.

[11:36:00.0000] <AryehGregor>
I prefer to be able to read it directly.

[13:06:00.0000] <AryehGregor>
/me wonders if YouTube's fake HTML5 fullscreen gets accelerated in Firefox 4

[13:16:00.0000] <jgraham>
 /me guesses not if it is fake

[13:21:00.0000] <AryehGregor>
It sets it to something like position: absolute; top: 0; bottom: 0; left: 0; right: 0.  In principle that could be accelerated just as well as fullscreen, if nothing overlays it, no?

[13:21:01.0000] <AryehGregor>
Particularly if the user hits F11.

[13:26:00.0000] <jgraham>
I love wikipeda

[13:26:01.0000] <jgraham>
"Other than the situation of egg donation, the identity of a child's mother is seldom in doubt"

[13:26:02.0000] <jgraham>
and then it has a citation!

[13:26:03.0000] <Workshiva>
There are no axioms, only references

[13:27:00.0000] <jgraham>
Who needs to read up on why the identity of mothers is generally secure?

[13:27:01.0000] <jgraham>
I am imaining some extremely basement-closeted geeks here

[13:28:00.0000] <jgraham>
*imagining

[13:28:01.0000] <jgraham>
Or maybe it is the same people who depend on the reference in HTML5 to ell them what ascii is

[13:30:00.0000] <jgraham>
The number of people whose assumed father is not their biological father seems to be surprisingly high

[13:30:01.0000] <Workshiva>
It's only surprising that you find it surprising

[13:33:00.0000] <jgraham>
Well umm... I can't really disagree with that, can I

[13:33:01.0000] <jgraham>
But they suggest 1 in 30

[13:33:02.0000] <jgraham>
Which is like one kid from your class at school

[13:33:03.0000] <jgraham>
OTOH it probably varies a lot by socio-economic status

[13:33:04.0000] <Workshiva>
Probably

[13:34:00.0000] <jgraham>
e.g. if you are the prince regent of england, it is like 1 in 2 of your children

[13:34:01.0000] <jgraham>
</scandal>

[13:34:02.0000] <jgraham>
or probably </libel>

[13:34:03.0000] <Workshiva>
Yeah, nice knowing you, hope you enjoy bankrupcy

[13:37:00.0000] <jgraham>
/me should note that that is almost certianly not true :)

[13:37:01.0000] <AryehGregor>
The guy who writes overcomingbias.com argues that we should have routine paternity testing so fathers aren't forced to support kids that aren't theirs.

[13:38:00.0000] <jgraham>
I have a feeling that too much information can be bad for you

[13:38:01.0000] <AryehGregor>
Probably.

[13:39:00.0000] <Workshiva>
I'm not sure I agree with the problem

[13:39:01.0000] <Workshiva>
If you aren't asking for a test yourself, that means you were probably expecting a child anyway

[13:39:02.0000] <AryehGregor>
What do you mean?

[13:40:00.0000] <jgraham>
I guess it is more of an issue in cases where the parents are seperated and there is a dispute

[13:40:01.0000] <Workshiva>
Yeah

[13:42:00.0000] <AryehGregor>
You can seriously get a 500 GB drive for $40 now?  Geez.

[13:42:01.0000] <AryehGregor>
It's Hitachi, though.  Not touching it, my last Hitachi died on me out of nowhere.

[13:43:00.0000] <Workshiva>
I wouldn't buy a 500 GB anyway, not efficient use of the drive wells

[13:45:00.0000] <AryehGregor>
What would you buy?

[13:45:01.0000] <AryehGregor>
1 TB?

[13:47:00.0000] <AryehGregor>
WTF, you can get 1 TB for $70.

[13:47:01.0000] <AryehGregor>
Geez.

[13:51:00.0000] <jgraham>
AryehGregor: I see you buy hardware about as often as I do

[13:51:01.0000] <jgraham>
i.e. almost never

[13:52:00.0000] <AryehGregor>
Yeah, why should I bother buying hardware often?

[13:52:01.0000] <AryehGregor>
I'm just annoyed at my server backups and things getting close to 500 GB.

[13:52:02.0000] <jgraham>
I don't know

[13:52:03.0000] <jgraham>
some people seem to enjoy it

[13:52:04.0000] <AryehGregor>
Don't want to worry about it, so may as well get a couple of 1 TB drives.

[13:53:00.0000] <AryehGregor>
I can just use the first 500 GB for now, to get 1 TB in RAID 10, which will be more space and also faster.  Then if I want, I can replace the 500 GB with 1 TB later to get 2 TB total.

[13:53:01.0000] <Workshiva>
AryehGregor: Yeah, 1 TB is the sweet spot for price now, as far as I know

[13:53:02.0000] <AryehGregor>
Last time I bought, it was closer to 500 GB.

[13:53:03.0000] <Rik`>
/me just bought a 120Gb SSD for 350$

[13:54:00.0000] <AryehGregor>
My drive has been powered on for 6241 hours, which means I probably got them a year ago or somewhat less.

[13:54:01.0000] <AryehGregor>
Rik`, I got an X25-M.  It was great for my gaming machine, but basically useless for web browsing.

[13:54:02.0000] <AryehGregor>
(is great, I should say)

[13:54:03.0000] <AryehGregor>
You're just not I/O-bound often enough with normal desktop use.

[13:54:04.0000] <AryehGregor>
Also good for booting, but I almost never reboot my desktop.

[13:54:05.0000] <Rik`>
well, opening a lot of browsers, closing them

[13:55:00.0000] <AryehGregor>
This is why we have page caches.

[13:55:01.0000] <AryehGregor>
It's usually just a few times a day that you start programs.

[13:55:02.0000] <Workshiva>
For web browsers, shouldn't a ram-backed fs work even better?

[13:55:03.0000] <AryehGregor>
So not worth the money yet IMO.

[13:55:04.0000] <AryehGregor>
But it really helps out for games with level load times.

[13:55:05.0000] <AryehGregor>
Workshiva, yes, except for the part where you crash.

[13:56:00.0000] <Rik`>
yeah, I should also upgrade my RAM, but that's for another time

[13:56:01.0000] <Workshiva>
Why would you crash?

[13:58:00.0000] <AryehGregor>
Workshiva, *I* wouldn't, but my system has been known to do it with nonzero frequency.

[13:59:00.0000] <Workshiva>
In that case, keep only the cache stuff in memory :)

[14:00:00.0000] <AryehGregor>
I am reasonably certain that browsers do, in fact, attempt to do that.

[14:00:01.0000] <Workshiva>
Yeah, but they also have disk caches

[14:00:02.0000] <Workshiva>
Not all of them let you disable disk cache, I believe

[14:00:03.0000] <AryehGregor>
Which are on disk because they're a) meant to persist across reboot and/or b) too large to easily fit in memory.

[14:01:00.0000] <Workshiva>
b) is not so important anymore with 64-bit systems and ample ram

[14:01:01.0000] <AryehGregor>
But even more ample disk space.  On a typical computer, browsers should really be using at least 10 GB of disk space for cache.

[14:01:02.0000] <AryehGregor>
Currently they're way too stingy.

[14:02:00.0000] <Workshiva>
Even if you don't cache video?

[14:02:01.0000] <AryehGregor>
http://www.stevesouders.com/blog/2010/04/26/call-to-improve-browser-caching/

[14:02:02.0000] <AryehGregor>
"55% of people surveyed have a cache that’s over 90% full."

[14:03:00.0000] <Workshiva>
Isn't that natural if you don't ever delete from the cache unless it's full?

[14:04:00.0000] <AryehGregor>
Okay, that's true.  Better data: "40-60% of unique users hit the site with an empty cache at least once per day."

[14:05:00.0000] <AryehGregor>
There's no conceivable reason for this except over-aggressive cache clearing.

[14:06:00.0000] <Workshiva>
Yeah, but unless you stop caching video video will just eat up every new MB, like said in the comments

[14:06:01.0000] <AryehGregor>
Does anyone actually put video in the same cache as everything else?

[14:07:00.0000] <AryehGregor>
That sounds like a crazy bad idea.

[14:07:01.0000] <AryehGregor>
AFAIK, at least Firefox has a separate media cache.

[14:07:02.0000] <AryehGregor>
(which I don't think persists across browser restart)

[14:07:03.0000] <AryehGregor>
(since usually you don't watch the same video every day)

[14:09:00.0000] <Rik`>
only < 100MB of cache for the piece of software you use most feels really small

[14:11:00.0000] <Philip`>
Do the caches have O(1) access costs?

[14:11:01.0000] <Philip`>
i.e. does caching some data you'll never use have any detrimental effect except on disk space?

[14:11:02.0000] <AryehGregor>
I'm guessing O(log(N)) at worst.

[14:12:00.0000] <AryehGregor>
Which is probably negligible at the sizes we're talking about.

[14:12:01.0000] <AryehGregor>
Compared to the cost of extra cache misses.

[14:13:00.0000] <Hixie>
good god

[14:13:01.0000] <Hixie>
now not only is julian arguing about the ascii reference

[14:13:02.0000] <Hixie>
but he even thinks that the reference he is arguing about is one NO ONE WILL FOLLOW

[14:13:03.0000] <Rik`>
the other part of the post about improving eviction algorithms is also important 

[14:13:04.0000] <Hixie>
this is like the epitome of pointlessness

[14:13:05.0000] <Philip`>
/me tried to follow the Bezier reference a few times but found it impossible :-(

[14:14:00.0000] <Rik`>
like fonts, javascripts and CSS are much more important to rendering than images

[14:14:01.0000] <Hixie>
Philip`: yeah i wish we could get better references for some of these things

[14:14:02.0000] <Philip`>
It'd be more useful to reference the Wikipedia entry

[14:15:00.0000] <AryehGregor>
Philip`, I thought that too.

[14:16:00.0000] <AryehGregor>
We don't *need* a normative reference for ASCII.

[14:16:01.0000] <jgraham>
It turns out that people get upset if you reference things that are useful but not offical-looking

[14:16:02.0000] <Hixie>
Philip`: yeah, i've considered doing that

[14:17:00.0000] <jgraham>
Wikipedia is practically the definition of not-official-looking

[14:17:01.0000] <jgraham>
In fact I should edit it to say that...

[14:21:00.0000] <jgraham>
Hmm, someone is sending email to the WHATWG with a trademark sign in their name

[14:21:01.0000] <jgraham>
Didn't MikeSmith patent that 

[14:21:02.0000] <jgraham>
("A method for adding distinguishing characters to a name such that it would be recogniased as unique")

[14:22:00.0000] <jgraham>
wtf

[14:22:01.0000] <jgraham>
How badly did I mangle "recognised"

[14:28:00.0000] <Philip`>
jgraham: The Levenshtein distance is 1, so it doesn't seem badly mangled at all

[14:29:00.0000] <jgraham>
Philip`: I was actually timing how long it would take someone to say that

[14:30:00.0000] <jgraham>
annevk: Hey, what's "Hear the Wind Sing"? and more to the point why haven't I got it

[14:30:01.0000] <Philip`>
/me had to look up the term on Wikipedia :-(

[14:32:00.0000] <jgraham>
/me wonders where one finds can find a copy

[14:32:01.0000] <jgraham>
Hmm, that was a whole extra word

[14:36:00.0000] <annevk>
http://www.schneier.com/blog/archives/2010/07/dnssec_root_key.html weird stuff

[14:36:01.0000] <annevk>
jgraham, I bought one via a store that sells via amazon.com

[14:37:00.0000] <annevk>
jgraham, that and Pinball, 1973 are his first two books of which the English editions are only published via some Japanese library? publisher

[14:37:01.0000] <annevk>
jgraham, together with the wild sheep chase they form the trilogy of the Rat

[14:39:00.0000] <jgraham>
annevk: Ah. Amazon. Taht huld have been obvious, really

[14:39:01.0000] <jgraham>
*That should

[14:40:00.0000] <jgraham>
/me would like to blame the silly lag for his even-worse than usual typing

[14:40:01.0000] <annevk>
I really quite like that first novel

[14:40:02.0000] <annevk>
he goes into this fictional writer a whole lot more and overall it reads pretty good

[14:43:00.0000] <jgraham>
It's unsurprisingly rather expensive

[14:51:00.0000] <[Tyrant]>
I'm having a bit of trouble grasping some of the semantics of html5

[14:52:00.0000] <TabAtkins>
shoot

[14:52:01.0000] <[Tyrant]>
I keep looking at <article>'s needed to be put in a list

[14:52:02.0000] <[Tyrant]>
im so used to lists

[14:53:00.0000] <TabAtkins>
And?

[14:53:01.0000] <[Tyrant]>
so would Twitter's posts be a list of <article>

[14:53:02.0000] <[Tyrant]>
and the feed is a <section>

[14:54:00.0000] <[Tyrant]>
<section><ol><li><article>

[14:54:01.0000] <TabAtkins>
The individual posts would be <article>s, yeah (they're independent, appropriate to be linked directly to, etc.).  It would be fine to put them in a list.

[14:54:02.0000] <TabAtkins>
And then, sure, the entire segment that shows the feed is a section of the page, so <section> is fine there.

[14:55:00.0000] <[Tyrant]>
Ah, well thanks!  Feel a bit better now. :)

[14:57:00.0000] <Hixie>
in case people are wondering why whatwg.org is slow, I present a sample line from the logs: GET /specs/web-apps/current-work/#dom-textarea/#text/#flow-content

[14:57:01.0000] <TabAtkins>
Wut?

[14:59:00.0000] <Hixie>
runaway buggy bot

[15:00:00.0000] <hsivonen>
Hixie: can it be banned by IP?

[15:01:00.0000] <annevk>
TabAtkins, furthermore, unlike what WebKit tolerates, "red" and such are not even valid values for <input type=color>

[15:02:00.0000] <TabAtkins>
I thought so!  But I wasn't quite certain enough to say so.

[15:02:01.0000] <TabAtkins>
I'm pretty sure we just hand the value to our color parser.

[15:02:02.0000] <Hixie>
hsivonen: already done

[15:02:03.0000] <Hixie>
i wonder why this doesn't work?:

[15:02:04.0000] <Hixie>
<FilesMatch "#"> Order Deny,Allow Deny from All

[15:02:05.0000] <Hixie>
</FilesMatch>

[15:02:06.0000] <AryehGregor>
annevk, they can't validly be submitted to the server, but the user can enter them.

[15:03:00.0000] <Hixie>
er, with different line breaking

[15:03:01.0000] <AryehGregor>
Does WebKit actually send them?

[15:04:00.0000] <annevk>
AryehGregor, it matches :valid

[15:04:01.0000] <annevk>
AryehGregor, but then :valid and :invalid don't really make sense for that control if you implement proper UI

[15:05:00.0000] <AryehGregor>
No, they don't.

[15:05:01.0000] <AryehGregor>
Hmm, is WebM also an audio format?

[15:06:00.0000] <Philip`>
Are the PNGs in http://www.w3.org/TR/SVG/painting.html#FillProperties broken, or is it just me?

[15:06:01.0000] <TabAtkins>
Broken.

[15:06:02.0000] <TabAtkins>
I looked at that 2 weeks ago...

[15:08:00.0000] <annevk>
AryehGregor, container format, yes

[15:18:00.0000] <jgraham>
Hixie: Don't become a UI designer  :)

[15:21:00.0000] <Hixie>
i have no plans to :-)

[15:22:00.0000] <Hixie>
(what don't you like about my proposal?)

[15:23:00.0000] <jgraham>
The dropdown...

[15:25:00.0000] <Hixie>
what would be better?

[15:25:01.0000] <jgraham>
Not sure. That's why I'm not a UI designer either :)

[15:25:02.0000] <Hixie>
or what's wrong with it?

[15:25:03.0000] <Hixie>
i've seen apple use that kind of UI, e.g. in Keynote in their Inspector panels

[15:25:04.0000] <Hixie>
but I'm no expert

[15:26:00.0000] <jgraham>
It adds a lot of complexity to something that is conceputally simple. It makes an existing UI harder than it already is

[15:26:01.0000] <jgraham>
Well I'm not either, so I could be totally wrong

[15:26:02.0000] <Hixie>
it's hard not to add complexity when adding functionality

[15:26:03.0000] <AryehGregor>
What proposal is this?

[15:26:04.0000] <jgraham>
Yes, I think that's what they pay the big bucks for

[15:27:00.0000] <jgraham>
UI designers good enough to add functionality but reduce complexity

[15:27:01.0000] <Philip`>
Showing the same list of many options to the user on all sites using <input type=file> seems to ignore that some options are going to be used far more frequently than others on some sites, and that the browser has no way to know that

[15:27:02.0000] <Philip`>
so it can't optimise the UI for the particular use when there's no way to distinguish it from other uses

[15:28:00.0000] <AryehGregor>
Philip`, easy, just have the browser upload statistics to a central server and apply a heuristic based on past users of that page.

[15:28:01.0000] <Hixie>
that would be awesome

[15:28:02.0000] <Philip`>
AryehGregor: That's a privacy violation

[15:28:03.0000] <AryehGregor>
You could anonymize the data if you want.

[15:28:04.0000] <jgraham>
The word you're looking for is awful :)

[15:28:05.0000] <Hixie>
why?

[15:29:00.0000] <AryehGregor>
You could also claim to anonymize it but actually define "anonymize" to mean something counterintuitive and figure it's ethical because no one who cares believed you in the first place.

[15:29:01.0000] <Philip`>
It'd be awful for people writing pages, because they'll write it and test it and see it works okay, but then tomorrow it suddenly starts acting differently

[15:29:02.0000] <jgraham>
Rearranging the UI based on use frequency has a certian Office 97 (or whichever version it was) feel to it

[15:29:03.0000] <AryehGregor>
That wasn't a serious suggestion, by the way.  It was a joke.

[15:29:04.0000] <jgraham>
AryehGregor: That was what I supposed

[15:30:00.0000] <jgraham>
Then I paniced because I wasn't sure if other people were taking you seriously...

[15:31:00.0000] <jgraham>
Anyway, there is something to be said for always having the controls in the same place

[15:31:01.0000] <Philip`>
We could fix all web compatibility problems by just letting browser users edit the markup of the site they're visiting and submit it to a central server so the same fix is applied to all subsequent users

[15:32:00.0000] <jgraham>
Philip`: That sounds like site-patching

[15:32:01.0000] <TabAtkins>
wiki-wide web?

[15:32:02.0000] <jgraham>
Except with user-submitted site patches

[15:32:03.0000] <jgraham>
Rather than hallvord doing the whole web by himself

[15:32:04.0000] <jgraham>
(not actually true)

[15:32:05.0000] <TabAtkins>
s/<body>(.*)/COCKSCOCKSCOCKS/

[15:32:06.0000] <AryehGregor>
Philip`, I wonder if anyone here has familiarity with any software that could be used for that purpose.

[15:33:00.0000] <jgraham>
I think TabAtkins identified a major flaw :)

[15:33:01.0000] <jgraham>
You really don't want to push out site patches without review

[15:33:02.0000] <AryehGregor>
Are you discussing this seriously?

[15:34:00.0000] <jgraham>
Well it actually isn't that far from what Opera already do

[15:34:01.0000] <Philip`>
AryehGregor: If you anonymise the data for the file inputs, how do you prevent abuses, like some Flickr competitor sending a zillion fake messages to the server to tell it to favour totally useless upload options and harm the user experience?

[15:34:02.0000] <jgraham>
Except without the "members of the public" bit

[15:35:00.0000] <AryehGregor>
Philip`, by having the sites pay you an annual fee to change their database entry to match the appearance they want.

[15:35:01.0000] <Philip`>
Maybe you'd have to give authors a way to access the central server and override the default heuristic behaviour, so they can fix problems on their own site

[15:35:02.0000] <AryehGregor>
You didn't think of the "paying" part.

[15:35:03.0000] <Philip`>
but you'd need a way to verify the authors really own that pae

[15:36:00.0000] <AryehGregor>
Well, that's easy.  Whoever pays you the most is presumptively the legitimate owner.

[15:36:01.0000] <Philip`>
so you could require the authors to put some special magic code in their markup to identify themselves

[15:36:02.0000] <TabAtkins>
AryehGregor: You're right, by the way.  I just invented and used "lexenv" in conversation.

[15:36:03.0000] <Philip`>
Perhaps they could add a marker like 'directory' to their <input> markups to do that

[15:36:04.0000] <AryehGregor>
TabAtkins, of course I'm right.

[15:37:00.0000] <jgraham>
TabAtkins: Do you mostly shorten words to increase the ratio of "x" to other letters in your speech?

[15:37:01.0000] <TabAtkins>
jgraham: That's a secondary goal, yes.

[15:38:00.0000] <TabAtkins>
I hope to throw off frequency analysis in my naive cryptographic experiments.

[15:38:01.0000] <hsivonen>
crowdsourcing some hallvors activities for Gecko-based browsers has been seriously suggested

[15:38:02.0000] <hsivonen>
and you guys seem to be joking about it...

[15:39:00.0000] <TabAtkins>
hsivonen: Only because a large part of the submissions will be of the COCKSCOCKSCOCKS variety.

[15:39:01.0000] <jgraham>
hsivonen: That seems... scary

[15:39:02.0000] <hsivonen>
jgraham: indeed

[15:40:00.0000] <hsivonen>
(FWIW, I think we should avoid site patching, since Gecko-based browsers seems to be doing quite well without it)

[15:40:01.0000] <jgraham>
I would imagine that the resources you would need to review the submissions would be close to the resources that you would need to just write them yourself

[15:40:02.0000] <hsivonen>
jgraham: yeah

[15:40:03.0000] <AryehGregor>
WebKit had to do a site patch for MediaWiki.

[15:40:04.0000] <jgraham>
(I would prefer that Opera could avoid site-patching too, but we have much less clout with authors)

[15:40:05.0000] <AryehGregor>
More of a software-specific patch.

[15:41:00.0000] <AryehGregor>
Wasn't an issue of not having clout with authors there, more like not being able to get all sixty bajillion installations updated.

[15:41:01.0000] <Philip`>
$ GET http://www.w3.org/TR/SVG/images/painting/fillrule-nonzero.png|hexdump -C|head -1

[15:41:02.0000] <Philip`>
00000000  89 50 4e 47 0d 0d 0a 1a  0d 0a 00 00 00 0d 49 48  |.PNG..........IH|

[15:41:03.0000] <Philip`>
It's nice of PNG to include some line-ending characters in its header

[15:41:04.0000] <Philip`>
to detect exactly the error that seems to have occurred here

[15:42:00.0000] <jgraham>
AryehGregor: Yoah, distributed installations are a problem, as the IE team found out with jQuery

[15:43:00.0000] <AryehGregor>
Philip`, haha, ick.

[15:43:01.0000] <AryehGregor>
(kind of odd juxtaposition of interjections)

[15:43:02.0000] <Philip`>
Would be much better if it automatically error-corrected in that case

[15:43:03.0000] <Philip`>
since at least the lf->crlf transformation is reversible

[15:43:04.0000] <hsivonen>
AryehGregor: what was the patch tha WebKit applied to mediawiki?

[15:44:00.0000] <AryehGregor>
/me searches

[15:44:01.0000] <AryehGregor>
Why is it that it takes orders of magnitude less time for Google to search the entire web than it takes for them to search my mailbox?

[15:45:00.0000] <TabAtkins>
More resources thrown at the problem.

[15:45:01.0000] <TabAtkins>
*Vastly* more resources.

[15:45:02.0000] <jgraham>
Mwahhahhaha?

[15:45:03.0000] <AryehGregor>
And these can't be, you know, reused to solve similar problems?

[15:45:04.0000] <TabAtkins>
That was implied.

[15:45:05.0000] <TabAtkins>
AryehGregor: Simply put, no.

[15:46:00.0000] <AryehGregor>
hsivonen, https://bugs.webkit.org/show_bug.cgi?id=28350

[15:46:01.0000] <hsivonen>
AryehGregor: thanks

[15:46:02.0000] <AryehGregor>
TabAtkins, now you're being all superior and mysterious just because you work at Google.

[15:46:03.0000] <hsivonen>
AryehGregor: you just have to put your email into gmail

[15:46:04.0000] <jgraham>
AryehGregor: Presumably that would only work if you had spare resources in the large pool

[15:46:05.0000] <AryehGregor>
hsivonen, see also https://bugs.webkit.org/show_bug.cgi?id=29792

[15:47:00.0000] <TabAtkins>
No, because I (a) don't know much more than what I'm saying, and (b) can't talk about it anyway.

[15:47:01.0000] <AryehGregor>
TabAtkins, yes, as I said.

[15:47:02.0000] <jgraham>
In which case why not just reallocate them to the smaller pool

[15:47:03.0000] <jgraham>
(unless you are suggeting the pools could be merged, but it's not clear that the problem domains are really sufficiently similar)

[15:48:00.0000] <AryehGregor>
It seems somewhat pathetic anyway.  I mean, it often takes ten or twenty seconds to do a search.  Fulltext search on a few gigs of data should be faster than that on bottom-end commodity hardware with nothing in memory.

[15:49:00.0000] <AryehGregor>
jgraham, I'm pretty sure Google has a giant pool of servers that they reallocate on the fly to whatever's convenient.  There are papers published about it.

[15:49:01.0000] <jgraham>
But "resources" don't have to be physical servers

[15:49:02.0000] <TabAtkins>
A large percentage of those have been allocated to running the moon base now, though.

[15:50:00.0000] <jgraham>
It can be the fraction of the time allocated to one task vs the other

[15:50:01.0000] <AryehGregor>
I'm certainly pretty sure that it shouldn't have to take fifteen seconds to archive the current e-mail and go to the next one.

[15:50:02.0000] <AryehGregor>
Which sometimes it does anyway.

[15:50:03.0000] <AryehGregor>
(Although not that often anymore, thankfully.)

[15:51:00.0000] <jgraham>
Yeah, I agree that sounds slow

[15:51:01.0000] <Philip`>
AryehGregor: There's no competitive need for Gmail to be extremely fast at searching email, since you put up with its current speed, whereas nobody would accept web searches being so slow

[15:52:00.0000] <AryehGregor>
Philip`, there's no competitive need for Gmail to do much of anything, because it's clearly superior to all other web mail services.

[15:52:01.0000] <AryehGregor>
Whereas search does actually compete to some degree with Bing and Yahoo!, if only because those are the default search engines in a nontrivial number of cases.

[15:52:02.0000] <jgraham>
If you can make money off an email service it seems like a good market to be in because the switching costs are unusually high

[15:53:00.0000] <jgraham>
Unlike search where they are basically zero

[15:53:01.0000] <AryehGregor>
Not really.  Gmail supports forwarding to other addresses indefinitely.

[15:53:02.0000] <Philip`>
Also your mailbox is searched extremely rarely, so the data has extremely low utilisation, and it would be wasteful to use high-speed data stores when most of the time it's not going to be used at all

[15:53:03.0000] <Philip`>
whereas the web is searched quite often

[15:54:00.0000] <AryehGregor>
That's true.

[15:54:01.0000] <jgraham>
AryehGregor: I bet a lot of gmail users don't know that and wouldn't be able to set it up if they did

[15:54:02.0000] <AryehGregor>
Working set for web searches is probably in memory practically all the time, working set for Gmail searches must typically be on disk . . .

[15:55:00.0000] <jgraham>
There are still people who use @operamail.com addresses even though it offers 3MB of storage

[15:55:01.0000] <Philip`>
You can afford to make things much faster when the cost is amortised across a billion users than when it's for one user

[15:55:02.0000] <AryehGregor>
/me is using 4248 MB of e-mail storage :/

[15:56:00.0000] <jgraham>
Or 25MB if you pay money

[15:56:01.0000] <AryehGregor>
lol.

[15:56:02.0000] <jgraham>
(but I don't think we are accepting money any more)

[15:57:00.0000] <jgraham>
Oh my

[15:57:01.0000] <jgraham>
If you try to register an account the captcha is an animated gif

[15:57:02.0000] <jgraham>
"Please enter the letters moving up and down in the centre of the image "

[15:57:03.0000] <jgraham>
I have never seen that before

[15:57:04.0000] <Philip`>
For good reason

[15:58:00.0000] <jgraham>
Indeed

[15:59:00.0000] <jgraham>
"If you can't see the picture, please click here" - reloads the page with a similar Captcha but in Comic Sans

[15:59:01.0000] <TabAtkins>
hahahahaha

[15:59:02.0000] <AryehGregor>
Shouldn't you at least use an obscure font?

[15:59:03.0000] <AryehGregor>
When I set up captchas for my site, I grabbed some moderately-legible fonts off some free font site.

[15:59:04.0000] <jgraham>
(actually I don't think it is Comic Sans, but it looks quite like it)

[16:00:00.0000] <jgraham>
Anyway, I take it there were no a11y people involved with that design...

[16:02:00.0000] <jgraham>
(the page also has a "Buy Opera" link on it, which helps date it somewhat)

[16:03:00.0000] <jgraham>
Oh wow

[16:04:00.0000] <jgraham>
The whole page is document.write(unescape(long_escaped_string))

[16:05:00.0000] <AryehGregor>
Impressive.

[16:06:00.0000] <AryehGregor>
Maybe as an extra deterrent for poorly-written spam bots.

[16:07:00.0000] <jgraham>
Yeah, I guess that is a logical explaination

[16:07:01.0000] <jgraham>
I was thinking "one too many Norwegian winters"

[16:08:00.0000] <AryehGregor>
jgraham, I guess irssi doesn't have built-in spellcheck?

[16:08:01.0000] <TabAtkins>
Nope.

[16:09:00.0000] <jgraham>
AryehGregor: How can you tell? :)

[16:09:01.0000] <AryehGregor>
I dislike XChat overall, but spellcheck is convenient.

[16:09:02.0000] <jgraham>
Yeah, I would like spellcheck

[16:10:00.0000] <jgraham>
But irissi is awesome just because I can use it over ssh

[16:10:01.0000] <AryehGregor>
Yeah, that would be nice to have.

[16:10:02.0000] <jgraham>
Seems to be a plugin for it

[16:11:00.0000] <hober>
This is when I'm supposed to put in a plug for ERC

[16:11:01.0000] <jgraham>
Although the UI for the spllcheck seems dreadful

[16:12:00.0000] <hober>
(which gets things like spellcheck for free. thanks, Emacs!)

[16:15:00.0000] <AryehGregor>
UI in IRC clients is generally horrible.

[16:15:01.0000] <KaOSoFt>
Hey, mIRC works just fine.

[16:16:00.0000] <KaOSoFt>
I mean, it's not like you need smilies and Live Messenger stuff.

[16:16:01.0000] <AryehGregor>
Like everything gets flooded with join/part messages, and if you want to turn them off, you turn them off completely.

[16:16:02.0000] <AryehGregor>
I said UI, not features.

[16:16:03.0000] <AryehGregor>
Features are also lousy, but that's a whole separate issue.

[16:24:00.0000] <AryehGregor>
Is it just me, or does http://dev.w3.org/2006/webapi/WebTiming/ fail to help the use-case of cross-browser performance comparisons by not being precise enough?  It doesn't say exactly what constitutes when a "navigation begins", for example, so UAs might adopt significantly different approaches.

[16:25:00.0000] <AryehGregor>
Like one choosing "as soon as the user clicks a link/hits 'Go'/etc.", and another saying "as soon as the HTTP request is on the wire".

[16:26:00.0000] <AryehGregor>
I guess the latter would really be "fetch", not "navigate".

[16:26:01.0000] <AryehGregor>
/me is still dubious

[16:26:02.0000] <AryehGregor>
/me could send feedback, but already has enough on his plate . . .

[16:28:00.0000] <AryehGregor>
I guess it's precise enough.

[16:28:01.0000] <dandaman>
if i have an inline style of background: and have that tag also have a class with a style of background

[16:28:02.0000] <dandaman>
the inline style will overtake the class background

[16:28:03.0000] <dandaman>
right?

[16:28:04.0000] <AryehGregor>
Unless the class rule has !important specified, yes.

[16:28:05.0000] <dandaman>
but what if i remove the background with javascript

[16:29:00.0000] <dandaman>
by going tag.style.background='';

[16:29:01.0000] <dandaman>
will that make the background the default white

[16:29:02.0000] <dandaman>
or the class's specified background?

[16:29:03.0000] <AryehGregor>
Then you're setting the element's style, so it still overrides the rule in the stylesheet, I assume.

[16:29:04.0000] <AryehGregor>
Although I don't know offhand.  Try it and see.

[16:29:05.0000] <dandaman>
ok

[16:30:00.0000] <dandaman>
do you know of a way to remove the inline style with javascript

[16:30:01.0000] <AryehGregor>
Oh, I didn't read far enough.  The timing spec seems quite precise.  Will be nice to have, I guess.

[16:30:02.0000] <dandaman>
to make the class's stylesheet take over?

[16:30:03.0000] <Hixie>
should we just obsolete <address>? people never understand what it's for

[16:31:00.0000] <AryehGregor>
Hixie, yes.

[16:31:01.0000] <AryehGregor>
Also <kbd> and <samp>, too obscure.  Those can be covered by expanding <code> a bit, or resurrecting <tt> in the fashion of <i> and <b>.

[16:31:02.0000] <AryehGregor>
I filed a bug about it.

[16:31:03.0000] <Hixie>
<kbd> and <samp> are fine, no need to remove them

[16:32:00.0000] <AryehGregor>
Someone is pressuring me to whitelist <address> in MediaWiki at this very moment, as it happens, so this is good timing.

[16:32:01.0000] <AryehGregor>
/me is dubious.

[16:32:02.0000] <Hixie>
the problem is that there are lots and lots of pages that use <address> correctly

[16:32:03.0000] <Hixie>
automatically generated man pages and the like

[16:33:00.0000] <AryehGregor>
Does anyone consume it, though?

[16:34:00.0000] <hober>
IIRC <address>+hCard is used for "canonical hCards"

[16:34:01.0000] <hober>
or "representative hCards"

[16:34:02.0000] <hober>
/me looks up the term

[16:34:03.0000] <Hixie>
AryehGregor: does anyone consume <em>?

[16:35:00.0000] <AryehGregor>
Well, it's rendered in italics, so in that sense yes.  I don't know if anyone distinguishes it from <i>, practically speaking.

[16:35:01.0000] <AryehGregor>
If no one does, that seems like it calls into question the point of distinguishing them.  But probably too late to change that now.

[16:36:00.0000] <dandaman>
AryehGregor: background=' ' made it go to the class's specified background in case you were wondering

[16:36:01.0000] <AryehGregor>
Okay, if you say so.

[16:36:02.0000] <Hixie>
AryehGregor: <address> is also rendered in italics, so in that sense also yes, then. :-)

[16:36:03.0000] <AryehGregor>
Sounds like a hack.

[16:37:00.0000] <AryehGregor>
Touché.

[16:38:00.0000] <AryehGregor>
Meh, I don't really care.  These things are cool ideas, but all basically useless in practice as far as I can tell.  They're used incorrectly such a large percentage of the time that they can't typically be assigned useful non-presentational meaning anyway.

[16:38:01.0000] <Hixie>
is <address> used more incorrectly than <blockquote>?

[16:38:02.0000] <AryehGregor>
Well, it's sure used a lot less in absolute terms.

[16:38:03.0000] <Hixie>
my concern isn't so much that it's used incorrectly, so much as that people don't use it because they think it's for something else

[16:39:00.0000] <AryehGregor>
Whether the usage is more often incorrect percentage-wise, I dunno.

[16:39:01.0000] <AryehGregor>
It should be called <author>.

[16:39:02.0000] <Hixie>
yeah

[16:39:03.0000] <AryehGregor>
Then everyone would use it.

[16:39:04.0000] <Hixie>
indeed

[16:39:05.0000] <AryehGregor>
I mean, at least the people who want to use trendy semantic markup.

[16:39:06.0000] <Hixie>
eh, i guess i'll punt this to the future and we can look at it again

[16:41:00.0000] <AryehGregor>
Shrug.  Fine by me.


2010-07-29
[17:07:00.0000] <paul_irish>
z-index, of course requires an element to be positioned, but positioned elements often don't play well with transformed elements. but i want to manage z-order of my transformed elements. is it worth considering z-index apply to tranformed elements or should vendors address issues of positioned transformed elems?

[18:28:00.0000] <Hixie>
man, can you imagine how the last 10 years on the web would have been if html4 had defined the semantics of elements to the level of care and detail that y'all are making me put into the elements' definitions now?

[18:28:01.0000] <Hixie>
/me updates the wording of the definition of <article> once again

[18:31:00.0000] <TabAtkins>
Hixie: Good or bad?

[18:32:00.0000] <TabAtkins>
paul_irish_: How does z-index and transformations play badly together?

[18:32:01.0000] <micheil>
Hixie: you could put in a claus that every time the spec gets updated for a minor word change that a kitten gets killed.

[18:32:02.0000] <Hixie>
TabAtkins: good, i hope

[18:33:00.0000] <Hixie>
micheil: that would be bad given how many minor mistakes i make

[18:33:01.0000] <aho>
padding + transform is really weird imo

[18:33:02.0000] <micheil>
heh, it was more a reference to yesterday

[18:33:03.0000] <micheil>
http://drp.ly/1rhtfH

[18:33:04.0000] <aho>
eg 0 10px + 90° = 10px 10px ish

[18:34:00.0000] <aho>
(is it really supposed to be like this?) :>

[18:42:00.0000] <TabAtkins>
aho: Yes.  transforms don't alter the geometry of the object - it still takes up exactly as much space as it did before.  So, the space previously taken up by the horizontal padding still exists, but the element also appears to now have "vertical" padding.

[18:48:00.0000] <myakura>
looks like http://www.whatwg.org/specs/web-apps/current-work/complete/ is gone. something gone wrong? politics?

[18:50:00.0000] <TabAtkins>
It's not gone on purpose.

[19:25:00.0000] <Hixie>
myakura: fixed

[20:34:00.0000] <myakura>
Hixie: Thanks!

[00:54:00.0000] <hsivonen>
what makes Web authors declare iso-10646 in meta?

[00:55:00.0000] <hsivonen>
...on pages that aren't in UTF-16BE

[00:58:00.0000] <Rik`>
copy paste ?

[01:04:00.0000] <hsivonen>
where would you copy iso-10646 from?

[01:05:00.0000] <estellevw>
lol

[01:06:00.0000] <Matjas>
How would you guys go about marking up a FAQ? I’m thinking of using a <dl> but I’m not sure if that's a good idea.

[01:06:01.0000] <Matjas>
i.e. <dl> <dt>Q: foo</dt> <dd>A: bar</dd> </dl>

[01:06:02.0000] <hsivonen>
Matjas: that works

[01:07:00.0000] <estellevw>
well, is the answer really defining the question?

[01:07:01.0000] <Rik`>
hsivonen: maybe wrong interpretation of http://www.w3.org/TR/html4/charset.html ?

[01:08:00.0000] <estellevw>
I think <dl> is very oftne, if not generally used for FAQ, but that's not quite semantically correct

[01:09:00.0000] <Hixie>
estellevw: it is in HTML5 as far as I can tell

[01:09:01.0000] <Hixie>
indeed the example for <dt> is a FAQ: http://www.whatwg.org/specs/web-apps/current-work/complete.html#the-dt-element

[01:15:00.0000] <estellevw>
i was looking here: http://dev.w3.org/html5/markup/dt.html, name or term

[01:16:00.0000] <Hixie>
that's not the html5 spec

[01:16:01.0000] <estellevw>
yeah, i know

[01:16:02.0000] <estellevw>
thinking that page needs to be updated to reflect that ther ehas been a change

[01:17:00.0000] <estellevw>
that is the quick cheat sheet  that a lot of implmenetors are using

[01:17:01.0000] <Hixie>
HTML5 itself is pretty clear that "name" is not being used in the english sense here but in the sense of an association list

[01:18:00.0000] <Hixie>
but I guess it could be made even clearer

[01:18:01.0000] <Matjas>
Thanks hsivonen, Hixie and estellevw!

[01:18:02.0000] <annevk>
estellevw, which implementors?

[01:19:00.0000] <estellevw>
There was a lot of discussion around DL at openwebcamp last week

[01:19:01.0000] <Hixie>
i assume estellevw means authors, not implementors

[01:19:02.0000] <estellevw>
front end engineers

[01:19:03.0000] <estellevw>
yes

[01:19:04.0000] <estellevw>
sorry

[01:19:05.0000] <Hixie>
np :-)

[01:19:06.0000] <estellevw>
i'm a front end. I implement at work ;)

[01:19:07.0000] <Hixie>
/me has filed a bug to make HTML5 clearer about this btw

[01:21:00.0000] <estellevw>
the discussion revolved around the semantics, screen readers, accessibility, etc.  I htink the conclusion was that it wasn't quite semantic, but it was the best solution. Glad to see the nuanced change in the HTML5.  Good change. And, good to get an official clarification

[01:21:01.0000] <estellevw>
Plus, the next time I see everyone, i can say "I told you so" :D

[01:27:00.0000] <hsivonen>
/me believes the relationship of semantics and screen readers gets exaggerated

[01:31:00.0000] <estellevw>
hsivonen: Open Web Camp, had several visually impaired users in attendance. It made for interesting conversation, and blew away many notions of what people had assumed were tenets of accessibility.  

[01:31:01.0000] <Hixie>
like what?

[01:32:00.0000] <estellevw>
Many believed the title attribute to be very useful for accessibility.

[01:32:01.0000] <Hixie>
current screen readers make it basically impossible to read the title="" attribute

[01:32:02.0000] <estellevw>
seems that they're not helpful at all for users of screen reader. y

[01:32:03.0000] <Hixie>
it's a major bug in current screen readers

[01:32:04.0000] <estellevw>
yeah

[01:33:00.0000] <Hixie>
seems so easy to fix, too, dunno why they don't

[01:33:01.0000] <estellevw>
probably because most authors abuse the title attribute for feeding google

[01:33:02.0000] <Hixie>
(just have an audio cue when a title="" is available on the element being read out, and have a key to immediately play back the titles of the text currently being played)

[01:34:00.0000] <estellevw>
/me trying to remember 'author' not 'implementor'

[01:34:01.0000] <Hixie>
(plus something to navigate by title, but that can be added to the many existing navigation mechanisms)

[01:36:00.0000] <Hixie>
user/reader, author/webdev/coder/designer/page/app, implementor/vendor/ua/browser

[01:36:01.0000] <Hixie>
the three main classes

[01:36:02.0000] <zdenekkostal>
Could you say in HTML5 spec. how screen readers should read and understand the content? I think it would be very usefull for web developers, because when I code some project, I haven't enought time to test it in screen readers...

[01:37:00.0000] <estellevw>
I don't test in screen readers either

[01:38:00.0000] <estellevw>
the best quick accessibility checks involve navigating your page without your mouse (just use the keyboard), and test the page without images and without css to see how the screen reader would read the page (leave javascript on)

[01:38:01.0000] <Hixie>
if you're on a mac you can use voiceover to test it

[01:39:00.0000] <estellevw>
Windows 7 has a very cool reader as well.

[01:39:01.0000] <estellevw>
unfortunately (or fortunately) I don't have windows 7 yet 

[04:32:00.0000] <annevk>
so unless something unforeseen happens I'm going to Maastricht after all

[04:41:00.0000] <hsivonen>
annevk: how long is the meeting? I thought it would be over by now.

[04:42:00.0000] <annevk>
it's tomorrow midday

[04:42:01.0000] <annevk>
I'm just going for hybi

[04:48:00.0000] <hsivonen>
annevk: "fun"

[04:49:00.0000] <hsivonen>
so in the meta charset sniffing "UTF-16" is special-cased

[04:49:01.0000] <annevk>
we'll see

[04:49:02.0000] <hsivonen>
does that really mean "UTF-16" only or also BE, LE and 32?

[04:49:03.0000] <annevk>
hopefully talking F2F will help clarify a few things

[04:49:04.0000] <annevk>
UTF-32 is irrelevant

[04:50:00.0000] <annevk>
iirc it just means UTF-16 case-insensitive

[04:51:00.0000] <hsivonen>
ok. how about the other cases in the spec where the charset of a URL is checked for "UTF-16", does that mean BE and LE, too?

[04:51:01.0000] <hsivonen>
(my guess is yes)

[04:51:02.0000] <annevk>
oh sorry

[04:51:03.0000] <annevk>
it says "a UTF-16 encoding"

[04:51:04.0000] <annevk>
I guess that means all of them

[04:52:00.0000] <hsivonen>
aliases, too?

[04:52:01.0000] <hsivonen>
it seems to me Safari doesn't do aliases

[04:53:00.0000] <hsivonen>
UTF-16 is such a bad idea :-(

[04:53:01.0000] <hsivonen>
must have seemed great at the time

[04:53:02.0000] <annevk>
aliases too

[04:53:03.0000] <annevk>
in fact, lots of the encoding stuff are pretty bad ideas

[04:54:00.0000] <annevk>
one day i'll sort it out

[04:54:01.0000] <Ms2ger>
Good luck

[04:54:02.0000] <annevk>
and ICU can be obsoleted

[04:54:03.0000] <annevk>
I made quite a bit of progress with encoding detection

[04:54:04.0000] <hsivonen>
annevk: it's good to have goals

[04:54:05.0000] <annevk>
and encodings to be supported by popular user agents

[04:55:00.0000] <annevk>
what there's yet to do is defining for each encoding how it maps to Unicode

[04:55:01.0000] <annevk>
(and possibly how it maps back)

[04:55:02.0000] <hsivonen>
annevk: doesn't ftp.unicode.org already do that except for Microsoft deltas?

[04:55:03.0000] <annevk>
in more detail than encodings are defined today (e.g. precise error handling for UTF-8) and more compatible (lots of ASIAN encodings support more than the standards indicate)

[04:55:04.0000] <hsivonen>
annevk: ok.

[04:57:00.0000] <hsivonen>
Woohoo. at least this iso-10646 thing isn't my mistake but a spec bug :-)

[04:57:01.0000] <hsivonen>
/me files

[05:18:00.0000] <hsivonen>
Philip`: do you happen to have something that you could grep for pages that say iso-10646 in meta and don't have an HTTP-level charset?

[05:19:00.0000] <hsivonen>
I'd like to know if those pages work better as UTF-8 or as Windows-1252

[05:19:01.0000] <hsivonen>
or UTF-8 vs. chardet + default

[05:22:00.0000] <hsivonen>
Philip`: it would be great to have similar data for UTF-16BE, UTF-16LE, UTF-32, UTF-32BE and UTF-32LE

[05:24:00.0000] <Philip`>
hsivonen: http://philip.html5.org/data/charsets-2.html#charset-iso-10646-1

[05:25:00.0000] <Peter`>
Ericsson seems to be playing around with implementing <device> in WebKit: https://labs.ericsson.com/blog/beyond-html5-implementing-device-and-stream-management-webkit

[05:25:01.0000] <hsivonen>
Philip`: thanks! (looks like a rare value, thankfully)

[05:25:02.0000] <Philip`>
hsivonen: Also http://philip.html5.org/data/charsets.html#charset-iso-10646 from a smaller but possibly more reliable set of pages

[05:27:00.0000] <Philip`>
/me doesn't entirely trust his data analysis, particularly for non-ASCII-compatible encodings

[05:31:00.0000] <annevk>
Peter`, pretty cool

[05:31:01.0000] <annevk>
Peter`, though not sure why they use video_player rather than media

[05:32:00.0000] <hsivonen>
the UTF-32 cases no longer say UTF-32...

[05:33:00.0000] <jgraham>
othermaciej: Are you or abarth going to be at the hybi meting?

[05:34:00.0000] <othermaciej>
jgraham: definitely not me

[05:34:01.0000] <annevk>
hsivonen, in the spec? UTF-32 support was dropped

[05:35:00.0000] <hsivonen>
annevk: the pages listed as UTF-32 in Philip`'s data 

[05:35:01.0000] <Peter`>
annevk: apparently they use a hack to circomvent security limitations during development

[05:38:00.0000] <hsivonen>
/me mumbles about x-imap4-modified-utf7 and Java's modified UTF-8

[05:43:00.0000] <hsivonen>
does webkit.org have a source code search that doesn't search changesets?

[05:43:01.0000] <hsivonen>
(I'm looking for the code that maps UTF-16 to UTF-8 in meta)

[05:51:00.0000] <Philip`>
hsivonen: Google Code Search with package:webkit sort of works, vaguely

[05:51:01.0000] <hsivonen>
dear lazy IRC, how do I make Ubuntu show me crash stacks for apps that have debug symbols but that don't come from Canonical?

[05:51:02.0000] <hsivonen>
Philip`: thanks

[05:51:03.0000] <Philip`>
Looks like it might be http://trac.webkit.org/browser/trunk/WebCore/loader/TextResourceDecoder.cpp?rev=64262#L344

[05:52:00.0000] <Philip`>
and http://trac.webkit.org/browser/trunk/WebCore/platform/text/TextEncoding.cpp#L224 which returns UTF-8

[05:52:01.0000] <Philip`>
perhaps

[05:52:02.0000] <jgraham>
othermaciej: OK. Do you have any opinion on the framing issue? Both technical and whether it is worth discussing in the "four week" timescale?

[05:52:03.0000] <hsivonen>
Philip`: interesting. thanks. that doesn't match my black-box testing, though

[05:53:00.0000] <othermaciej>
(I wonder if we should be saying "message" instead of "frame")

[05:53:01.0000] <hsivonen>
(or I misinterpret what "Default" means in Safari's menu)

[05:53:02.0000] <hsivonen>
does Default in Safari mean "what page said" or "user's default"?

[05:53:03.0000] <othermaciej>
jgraham: I think length-delimited text frames would be slightly technically superior to sentinel-delimited, but I don't care very much either way

[05:54:00.0000] <othermaciej>
jgraham: I think it's essential for text and binary to be clearly distinguished, and I think using presence/absence of a MIME type or whether the MIME type starts with text/ are very poor ways to signal text vs binary

[05:55:00.0000] <othermaciej>
jgraham: if we want to change text frames to be length-delimited, it probably needs to happen sooner rather than later

[05:55:01.0000] <jgraham>
othermaciej: OK, that mirrors my thoughts rather well. SO I am a little more confident that I am not toally off base :)

[05:56:00.0000] <jgraham>
I wonder if no one is discussing the handshake issue because they don't feel confident, or simply because the conversation has been led astray

[05:57:00.0000] <hsivonen>
Philip`: blame points to encoding, not decoding: https://bugs.webkit.org/show_bug.cgi?id=21635

[05:58:00.0000] <hsivonen>
/me wonders what proportion of Web users globally is behind a proxy

[06:14:00.0000] <hsivonen>
non-UTF-8 encodings lead to unhappiness

[06:14:01.0000] <annevk>
yeah

[06:15:00.0000] <annevk>
can't believe this Greg Wilkins is pushing for non-UTF-8 support in WebSocket

[06:15:01.0000] <annevk>
I often get the feeling with him he's just pushing for features

[06:15:02.0000] <annevk>
features and complexity

[06:16:00.0000] <hsivonen>
annevk: I trust Hixie is good at saying "no" in that case

[06:17:00.0000] <hsivonen>
annevk: what's the rationale for non-UTF-8?

[06:18:00.0000] <hsivonen>
Hixie: fwiw, when <acronym> is obsoleted, it would be logical to zap <strong>, <em>, <kbd>, <samp> and <cite>, too

[06:19:00.0000] <annevk>
UTF-16 was there and "potential future encodings"

[06:19:01.0000] <hsivonen>
(maybe not practical for validator user-friendliness but consistent with the removal of <acronym>)

[06:19:02.0000] <hsivonen>
annevk: that's so sad

[06:21:00.0000] <hsivonen>
If we ever run out of UTF-8, it's more likely to start allowing 6-byte sequences than to come up with something new

[06:35:00.0000] <annevk>
it in fact allowed those once

[06:52:00.0000] <annevk>
is there a counter proposal for http://lists.w3.org/Archives/Public/public-html/2010Jan/1006.html to keep the wiki in place?

[06:52:01.0000] <annevk>
having more things rely on IANA is a step backwards imo

[06:53:00.0000] <hsivonen>
what's the deal with having to log in to the W3C bugzilla all the time?

[07:10:00.0000] <othermaciej>
annevk: no one ever wrote a counter-proposal

[07:18:00.0000] <annevk>
meh

[07:21:00.0000] <crash\>
Must HTML5 browsers conform with the XHTML-Syntax and support application/xhtml+xml?

[07:22:00.0000] <annevk>
no

[07:24:00.0000] <crash\>
Is there anything about Processing Instructions in the descriped HTML parsing process?

[07:24:01.0000] <crash\>
are they simply skipped?

[07:24:02.0000] <annevk>
they are treated as bogus comments

[07:25:00.0000] <crash\>
ok, thanks

[07:29:00.0000] <Lachy>
othermaciej, given the new information about RFC 20 from Leif yesterday, how will that affect the current ASCII ref poll?

[07:29:01.0000] <annevk>
RFC 20 also does not refer to Unicode

[07:44:00.0000] <hsivonen>
the recent polyglot threads demonstrate why working on a polyglot draft is bad

[07:44:01.0000] <hsivonen>
it's a time sink for the WG

[07:45:00.0000] <Lachy>
it's especially bad when we start getting requests for polyglot-only syntax, which really goes against the whole concept of what a polyglot document is.

[07:46:00.0000] <hsivonen>
Lachy: indeed

[07:57:00.0000] <jgraham>
I really wish I had a clue why anyone wants to add MIME to WebSockets

[07:57:01.0000] <jgraham>
Or specifically Content-Type

[08:17:00.0000] <hsivonen>
argh. I got trolled into the polygot threads again

[08:33:00.0000] <Lachy>
does anyone know where the Mozilla's useragent stylesheet html.css file has gone? It no longer appears in the res directory, as it did in older Firefox builds? I'm trying to see exactly what the new styles for figure are in now in Minefield

[08:34:00.0000] <Lachy>
oh, same as blockquote.

[08:35:00.0000] <Lachy>
found it via DOM Inspector.

[08:48:00.0000] <Ms2ger>
Lachy, that's what the spec said

[08:49:00.0000] <annevk>
fun -- http://www.flumotion.com/first_webm_live_event.php -- WebM streaming

[08:49:01.0000] <annevk>
seems to work fine

[08:49:02.0000] <annevk>
although the the time and general controls seem a bit off

[08:50:00.0000] <hsivonen>
so weird to see "Oracle" on the projector

[08:51:00.0000] <hsivonen>
why do they only advertise Opera and Firefox? Is streaming broken in Chrome?

[08:52:00.0000] <annevk>
hmm, someone is talking about chrome usability, but it's not mpt afaik

[08:52:01.0000] <annevk>
hsivonen, maybe it's not in Chrome beta builds yet?

[08:56:00.0000] <annevk>
s/chrome/Ubuntu/ doh

[08:56:01.0000] <annevk>
well, GNOME

[08:59:00.0000] <zdenekkostal>
the WebM streaming is incredible! Only timeline in Opera seems broken

[09:00:00.0000] <hsivonen>
works great in Minefield. the timeline was a bit jumpy during the first minute but now it looks ok

[09:05:00.0000] <jgraham>
hsivonen: You know how you love document.write...

[09:05:01.0000] <Lachy>
doesn't work in chromium for me on Mac

[09:05:02.0000] <Lachy>
shows one frame, but doesn't play

[09:05:03.0000] <jgraham>
I just found some odd behaviour that seems to be a Gecko (+WebKit) bug...

[09:16:00.0000] <hsivonen>
jgraham: what's the behavior?

[09:16:01.0000] <jgraham>
hsivonen: One moment

[09:19:00.0000] <jgraham>
hsivonen: I can't reproduce over HTTP :(

[09:19:01.0000] <jgraham>
I think it is a race condition

[09:19:02.0000] <jgraham>
http://hoppipolla.co.uk/tests/document_write/001.html

[09:20:00.0000] <jgraham>
The odd behaviour in WebKit reproduces though

[09:20:01.0000] <jgraham>
hsivonen: When I run it locally I get output like:

[09:20:02.0000] <jgraham>
0,54,1,50,2,51,3,56,4,61,4,1280417173326

[09:21:00.0000] <jgraham>
It also didn't reproduce when I moved all the js inline

[09:21:01.0000] <jgraham>
(but did in WebKit, where I think it is not a race condition, just mildly crazy)

[09:23:00.0000] <hsivonen>
Is see 0,52,1,49,2,51,3,49,4,50 in Minefield over HTTP

[09:23:01.0000] <jgraham>
hsivonen: Yeah, that looks sane

[09:23:02.0000] <jgraham>
And is the same as I see over HTTP

[09:24:00.0000] <hsivonen>
ok. that *is* weird

[09:24:01.0000] <hsivonen>
jgraham: thanks

[09:25:00.0000] <jgraham>
hsivonen: (it is not a HTTP vs non-HTTP thing because it is wrong if I run it from a local apache)

[09:25:01.0000] <jgraham>
(so I assume it is speed)

[09:27:00.0000] <hsivonen>
speed of the external script load vs. the initial iframe load?

[09:27:01.0000] <jgraham>
Could be

[09:28:00.0000] <hsivonen>
maybe a local script gets read in as one event loop task

[09:31:00.0000] <hsivonen>
jgraham: filed as https://bugzilla.mozilla.org/show_bug.cgi?id=582975

[09:33:00.0000] <jgraham>
hsivonen: Thanks

[09:36:00.0000] <colapop>
jgraham: isn't start_time null at the time you set the event listener? Maybe the race condition is it fires & calls done() before start_time is initialized?

[09:37:00.0000] <colapop>
er, nevermind :)

[10:08:00.0000] <othermaciej>
I don't see where RFC 20 was mentioned

[10:15:00.0000] <TabAtkins>
othermaciej: In the latest message to the "Issue 101: us-ascii-ref - Straw Poll for Objections" thread.

[10:15:01.0000] <TabAtkins>
He linked http://www.ietf.org/rfc/rfc0020.txt

[10:17:00.0000] <TabAtkins>
Sigh.  Okay, the fancy ascii table formatting is pretty, but really, what's the point of doing something where you have to split up the hexits when you can just do a simple two-column table?  A split 2col table could be equally compact, or likely more compact actually.

[10:17:01.0000] <TabAtkins>
Silly people from 40 years ago.

[10:18:00.0000] <TabAtkins>
Or I guess 10 years ago, maybe?  When it was put into the archives?

[10:19:00.0000] <othermaciej>
TabAtkins: was this on public-html? I don't see it...

[10:19:01.0000] <TabAtkins>
othermaciej: Yeah, it's the thread you started.

[10:20:00.0000] <jgraham>
othermaciej: http://www.w3.org/mid/20100728203158367745.c11b49f9⊙xn

[10:20:01.0000] <jgraham>
If the archive is working again

[10:20:02.0000] <TabAtkins>
What's the purpose of the /mid/ thing, when you can just dive into the individual directories for each list?

[10:23:00.0000] <othermaciej>
jgraham: hmm, oddly I don't see it in my public-html folder

[10:23:01.0000] <othermaciej>
checking if it might be somewhere else

[10:23:02.0000] <TabAtkins>
You been auto-spamming Leif's email?

[10:23:03.0000] <jgraham>
Maybe othermaciej has started snaking on email in the night

[10:23:04.0000] <jgraham>
*snacking

[10:23:05.0000] <othermaciej>
offhand, I am not sure what to do about it, unless someone seriously wants to propose it as an alternative instead of the ones already on the table

[10:24:00.0000] <TabAtkins>
Well, it's an official-looking and seemingly complete ASCII ref.

[10:24:01.0000] <TabAtkins>
And it was written by Vint Cerf!

[10:25:00.0000] <othermaciej>
hard to argue with that

[10:26:00.0000] <othermaciej>
is it in any way superior to the suggested ECMA-006?

[10:26:01.0000] <othermaciej>
my recollection from the poll is that the main objection to 006 is not defining the mapping to unicode, which flaw RFC20 seems to share

[10:26:02.0000] <TabAtkins>
More official-looking.  Otherwise, no, because it lacks the unicode mapping.

[10:27:00.0000] <othermaciej>
I suspect it's actually less official 

[10:28:00.0000] <TabAtkins>
Actual officialness is irrelevant.

[10:28:01.0000] <othermaciej>
ECMA-006 is the ECMA version of the joint publication with ISO that is the successor to ASCII

[10:28:02.0000] <othermaciej>
so it's an official joint publication, not just an ad-hoc copy

[10:28:03.0000] <othermaciej>
at least as I understand it

[10:28:04.0000] <annevk5>
yeah, it's just an RFC

[10:29:00.0000] <annevk5>
though really this is all quite nutty

[10:29:01.0000] <annevk5>
and quite the time sink

[10:29:02.0000] <TabAtkins>
Man, Cerf really liked his joke RFCs.

[10:29:03.0000] <othermaciej>
if we just let the poll continue then mainly it will consume the chairs' time and not much more of anyone else's

[10:30:00.0000] <annevk5>
the number of times this issue has been discussed here on IRC and on the list...

[10:30:01.0000] <annevk5>
anyway, back to super mario

[10:33:00.0000] <jgraham>
annevk5: Mario Galaxy 2?

[10:36:00.0000] <annevk5>
bros

[10:37:00.0000] <jgraham>
Ah

[10:37:01.0000] <TabAtkins>
kickin' it old school

[10:37:02.0000] <jgraham>
/me is wondering how desperate he should be for MG2

[10:37:03.0000] <annevk5>
bros wii that is

[10:37:04.0000] <annevk5>
mg2 is quite cool

[10:37:05.0000] <annevk5>
but some frustrating levels made me give up for now

[10:38:00.0000] <gsnedders>
jgraham: Aww, want it for your birthday?

[10:38:01.0000] <jgraham>
Mario Galaxy + Yoshi sounds like it has to be awesome

[10:38:02.0000] <jgraham>
(although most things + Yoshi sound like that)

[11:26:00.0000] <hsivonen>
so now that IANA has a link registry, it can't be used yet, because more bureaucracy is needed to establish certain flags in the registry???

[11:26:01.0000] <annevk5>
of course

[11:26:02.0000] <annevk5>
that's why we should have a wiki instead

[11:34:00.0000] <Workshiva>
Is the new registry properly registered?

[11:35:00.0000] <annevk5>
think so

[12:07:00.0000] <franksalim>
MIME sockets???

[13:34:00.0000] <Workshiva>
I note that wikipedia deleted the article about DeathStation 9000

[13:37:00.0000] <annevk5>
deletionists strike again?

[13:43:00.0000] <jgraham>
I want to write an article about deletionists and see how long it lasts

[13:44:00.0000] <annevk5>
I'm still not over what they did to the Pokeman pages

[13:44:01.0000] <annevk5>
of course I only started caring after I learned about what happened (though I had seen the original ones as well for unclear reasons)

[13:45:00.0000] <Workshiva>
Gotta protect those bytes, so people don't waste them

[13:50:00.0000] <hsivonen>
wikipedia deletionism is sad and annoying

[13:51:00.0000] <hsivonen>
particularly when you want to know what something is or what someone is supposed to be famous for and you see that there has been an article but is has been deleted as not notable enough

[13:52:00.0000] <jgraham>
/me wonders how articles about TV shows "are more likely to result in articles that are OR"

[13:53:00.0000] <jgraham>
How can watching a TV show and summarising the plot count as original research?

[13:53:01.0000] <jgraham>
The source... is the TV show

[13:53:02.0000] <Workshiva>
First party sources aren't good

[13:54:00.0000] <jgraham>
That's clearly insane

[13:55:00.0000] <jgraham>
If there is a track listing for a CD (common on wikipedia) I don't also expect there to be a link to an independent source listing the tracks on the CD

[13:55:01.0000] <AryehGregor>
It's completely insane, but there you have it.

[13:56:00.0000] <GPHemsley>
Is there a way to excluded a form element (e.g. <input type="submit">) from being submitted in a GET request?

[13:56:01.0000] <GPHemsley>
-d

[13:56:02.0000] <AryehGregor>
Primary sources that have been reliably published may be used in Wikipedia, but only with care, because it is easy to misuse them. Any interpretation of primary source material requires a reliable secondary source for that interpretation. A primary source may only be used on Wikipedia to make straightforward, descriptive statements that any educated person, with access to the source but without specialist knowledge, will be able to verify are

[13:56:03.0000] <AryehGregor>
 supported by the source. For example, an article about a novel may cite passages to describe the plot, but any interpretation needs a secondary source. Do not make analytic, synthetic, interpretive, explanatory, or evaluative claims about material found in a primary source. Do not base articles entirely on primary sources. Do not add unsourced material from your personal experience, because that would make Wikipedia a primary source of that 

[13:56:04.0000] <AryehGregor>
material.

[13:56:05.0000] <AryehGregor>
Blech, too long.

[13:57:00.0000] <GPHemsley>
/me tries to avoid the Wikipedia discussion

[13:57:01.0000] <AryehGregor>
GPHemsley, why do you want to not submit it?

[13:58:00.0000] <GPHemsley>
because, in essence, the form is intended to just add a sort variable to the URL, it doesn't need the submit variable too

[13:58:01.0000] <GPHemsley>
(whether that is a Bad Thing™, I don't know)

[14:01:00.0000] <AryehGregor>
You can't just ignore the submit variable?

[14:03:00.0000] <GPHemsley>
I want pretty URLs :)

[14:03:01.0000] <Workshiva>
GPHemsley: Don't give it a name?

[14:04:00.0000] <GPHemsley>
oh, that's easy :P

[14:04:01.0000] <GPHemsley>
thank you

[14:05:00.0000] <hsivonen>
GPHemsley: see the script on validator.nu

[14:05:01.0000] <GPHemsley>
hsivonen: oh, is that bad?

[14:06:00.0000] <hsivonen>
jgraham: OTOH, wikipedia seems to be fine with using XHTML2 WG's publication themselves as sources when writing about the XHTML2 WG's publications...

[14:06:01.0000] <AryehGregor>
hsivonen, it looks like you can directly repeat what primary sources say, you just can't summarize or interpret them.

[14:07:00.0000] <hsivonen>
GPHemsley: the script on validator.nu does tricks to make GET URLs shorter

[14:07:01.0000] <GPHemsley>
oh, well, I don't want JS tricks :)

[14:08:00.0000] <hsivonen>
AryehGregor: I mean even the propaganda parts of XHTML2 WG's publications

[14:08:01.0000] <GPHemsley>
hsivonen: Agh, why is the view-source of validator.nu afraid of line endings? ;_;

[14:09:00.0000] <AryehGregor>
Well, it's a secondary source on that, I guess.  It shouldn't be taken as fact if it's disputed, it should be cited as the XHTMLWG's opinion.

[14:11:00.0000] <hsivonen>
GPHemsley: it's machine to machine communications :-)

[14:12:00.0000] <GPHemsley>
yeah, well, this machine doesn't like horizontal scrolling ;)

[14:57:00.0000] <jgraham>
This is a public service announcement (with guitars): chocolate from Trinidad is *so* nice

[14:57:01.0000] <jgraham>
At least the stuff I have right now is

[14:58:00.0000] <jgraham>
And I think the single origin Valrhona I particularly liked was from there too 

[14:58:01.0000] <jgraham>
But I am not sure

[15:00:00.0000] <jgraham>
Also, it is really annoying how hard it is to do the simplest things without running into browser bugs

[15:01:00.0000] <jgraham>
It is doubly annoying when you were the one who should have found the bug

[15:01:01.0000] <jgraham>
One day someone will write a musical about the tragic life of a browser QA

[15:02:00.0000] <jgraham>
(I would have said opera, but that could have been mistaken for a pun)

[15:02:01.0000] <gsnedders>
jgraham: I find you notice minor issues far less when not a browser QA

[15:03:00.0000] <boblet>
jgraham: chocolate announcement requires independent verification, please forward to…

[15:03:01.0000] <boblet>
completely agree re: bugs too

[15:06:00.0000] <boblet>
regarding the a element, it says “Contexts in which this element may be used: Where phrasing content is expected”. As a can be flow content, shouldn’t that be where flow or phrasing content is expected?

[15:08:00.0000] <jgraham>
Oh

[15:09:00.0000] <jgraham>
I just discovered a site selling catering-sized bags of chocolate

[15:09:01.0000] <jgraham>
That is *such* a bad thing to know about

[15:09:02.0000] <gsnedders>
Will all end well?

[15:09:03.0000] <jgraham>
At 60GBP a bag, it would end in poverty at least

[15:10:00.0000] <jgraham>
(3kg)

[15:10:01.0000] <gsnedders>
You'll need a lot more rasberies to make up for that…

[15:10:02.0000] <jgraham>
Yeah

[15:10:03.0000] <jgraham>
/me closes that tab quickly

[15:11:00.0000] <boblet>
you need the equivalent of a pet food dispenser to limit consumption. it’d work then

[15:15:00.0000] <boblet>
guess I’ll file a bug, although I can’t believe no one has noticed it until now, which makes me wonder if I’m missing something re: flow/phrasing content :/

[15:15:01.0000] <gsnedders>
Well, a lot of browser people only care about UA requirements

[15:55:00.0000] <jgraham>
Hmm, i think I just managed to DOS myself

[15:55:01.0000] <jgraham>
s/DOS/DoS/

[15:56:00.0000] <jgraham>
I didn't mistakenly install a legacy operating system, after all

[15:57:00.0000] <boblet>
jgraham: that would have been far worse

[15:59:00.0000] <jgraham>
boblet: Well if this doesn't finish soon my laptop will be so hot it will set fire to my house

[15:59:01.0000] <jgraham>
and I will probably die in the flames

[15:59:02.0000] <jgraham>
So I'm not sure I agree with your assessment

[16:00:00.0000] <boblet>
jgraham: you can put some water on it to cool it down

[16:00:01.0000] <jgraham>
/me notes never to let boblet join the fire brigade

[16:01:00.0000] <boblet>
jgraham: good point, ice would be better huh

[16:01:01.0000] <annevk>
you guys missed http://www.w3.org/TR/2010/REC-xhtml-modularization-20100729/ ?

[16:02:00.0000] <jgraham>
annevk: I think "missed" is not quite right

[16:02:01.0000] <jgraham>
Maybe "filtered out as a pointless waste of bits"

[16:03:00.0000] <jgraham>
Although I did click on the link

[16:03:01.0000] <jgraham>
So it may open sometime in the distant future if the browser ever starts responding again

[16:03:02.0000] <annevk>
glad to waste your time ;p

[16:04:00.0000] <annevk>
maybe I'll get some sleep

[16:04:01.0000] <annevk>
got to clean up some stuff tomorrow morning and get to Maastricht in time for some hopefully constructive discussion

[16:05:00.0000] <boblet>
good to see they’re making progress on that whole XHTML thing

[16:08:00.0000] <jgraham>
/me wonders when Hixie is looking at WebSockets

[16:09:00.0000] <annevk>
if anyone wants to have me say anything on WebSockets at the Hybi meeting tomorrow just email and I'll try tor relay

[16:10:00.0000] <TabAtkins>
"stop complicating things, yor morons"?

[16:10:01.0000] <franksalim>
"sockets don't send messages"

[16:10:02.0000] <annevk>
heh, I'm gonna try to work out our different points of view; not sure if "morons" will be effective at that :)

[16:11:00.0000] <jgraham>
franksalim: Hmm? Websockets do at the moment

[16:11:01.0000] <TabAtkins>
"stop complicating things, you wonderful people"?

[16:11:02.0000] <franksalim>
ok, "sockets don't send MIME messages"

[16:11:03.0000] <annevk>
jgraham, I think what he means is that they don't need a media type and all

[16:11:04.0000] <annevk>
right

[16:11:05.0000] <jgraham>
Yeah

[16:11:06.0000] <franksalim>
some of the proposals are so far away from "TCP for the Web" it hurts

[16:12:00.0000] <Hixie>
jgraham: sup?

[16:12:01.0000] <annevk>
I think my main input is gonna be 1) settle on handshake 2) settle on framing 3) keep it very simple; and generally try to explain where we are coming from

[16:12:02.0000] <jgraham>
Hixie: sup??

[16:13:00.0000] <jgraham>
(I have no idea what "sup?" means)

[16:13:01.0000] <TabAtkins>
"what's up"

[16:13:02.0000] <jgraham>
Is this some Google thing

[16:13:03.0000] <annevk>
no

[16:14:00.0000] <TabAtkins>
No, it's an american thing

[16:14:01.0000] <jgraham>
Are you all developing your own langauge

[16:14:02.0000] <annevk>
sup? is pretty normal

[16:14:03.0000] <annevk>
you should watch some more series or movies

[16:14:04.0000] <TabAtkins>
jgraham isn't down with the kid's slang these days

[16:14:05.0000] <Hixie>
jgraham: what do i need to look at?

[16:14:06.0000] <annevk>
lol

[16:14:07.0000] <annevk>
(at Hixie)

[16:15:00.0000] <jgraham>
Hixie: Well there has been a lot of discussion on the list

[16:15:01.0000] <jgraham>
Some more insane than others

[16:16:00.0000] <jgraham>
I think it would be nice to get some input from you, at least about the framing stuff, soon given the "4 week" timetable

[16:16:01.0000] <jgraham>
(much of the other stuff is irrelevant and can be ignored)

[16:16:02.0000] <Hixie>
k

[16:16:03.0000] <jgraham>
(at least in the short term)

[16:16:04.0000] <Hixie>
i looked earlier and didn't see anything new on the framing stuff

[16:16:05.0000] <Hixie>
but i'll look at the newer e-mails

[16:16:06.0000] <annevk>
the chunking stuff seems somewhat compelling

[16:17:00.0000] <Hixie>
chunking is pointless since the client can't do anything until it's received the whole message anyway, as far as i can tell

[16:17:01.0000] <annevk>
according to Yngve something like that might even get more efficient than varied length-encoding

[16:17:02.0000] <jgraham>
Basically at this point I think the IETF people will conclude that they have consensus around length-delimited frames

[16:17:03.0000] <jgraham>
s/delimited/marked/

[16:17:04.0000] <annevk>
chunking is for the server to not have to know the length of a very large message

[16:17:05.0000] <franksalim>
i think lengh prefixing is superior to a terminator, myself

[16:18:00.0000] <Hixie>
length prefixing when the data is UTF-8 is just asking for subtle bugs

[16:18:01.0000] <franksalim>
annevk, why not send fixed sized messages at the socket layer and implement chunking in your protocol?

[16:18:02.0000] <Hixie>
that's a non-starter

[16:18:03.0000] <franksalim>
plenty of protocols over tcp have chunking

[16:18:04.0000] <Hixie>
annevk: for text you don't need to know the length at all

[16:18:05.0000] <franksalim>
Hixie, i think the terminator approach asks for different, complimentary bugs

[16:19:00.0000] <annevk>
franksalim, yeah, I suppose you can implement chunking yourself

[16:19:01.0000] <Hixie>
franksalim: like what?

[16:19:02.0000] <franksalim>
for instance if server code allows non string data to be sent as strings accidentally

[16:19:03.0000] <franksalim>
i have already seen websocket libraries that make that mistake

[16:19:04.0000] <franksalim>
written by professionals no less

[16:19:05.0000] <annevk>
Hixie, yeah, this is for non-text; though some people seem to dislike the sentinel stuff too, but I'm not too convinced myself

[16:19:06.0000] <franksalim>
that accept byte slices and send as UTF-8

[16:19:07.0000] <Hixie>
franksalim: well if people are sending non-UTF-8 content, it doesn't much matter if they're sending lengths or terminators, the data is bogus anyway

[16:20:00.0000] <Hixie>
annevk: for non-text, we can do chunking, sure. That's a non-issue now since you can't send non-text.

[16:20:01.0000] <jgraham>
One argument for length markers was that it helps pre-allocating buffers

[16:20:02.0000] <franksalim>
why would we do chunking for one type and not another?

[16:21:00.0000] <Hixie>
so that people who don't need it don't have to do it

[16:21:01.0000] <franksalim>
also, i agree with folks on the list that it is best to spec binary now even though javascript will not be able to send/recv it

[16:21:02.0000] <jgraham>
Which seems to be good for avoiding typical buffer overflow bugs

[16:21:03.0000] <Hixie>
why?

[16:21:04.0000] <Hixie>
(^to franksalim)

[16:21:05.0000] <franksalim>
Hixie, i don't see why the api and the protocol need to be exactly in lock step

[16:21:06.0000] <jgraham>
Yay! Firefox unfroze!

[16:21:07.0000] <annevk>
binary is more or less defined already

[16:21:08.0000] <franksalim>
Hixie, i think we can _finish_ the protocol before TypedArray

[16:22:00.0000] <annevk>
it's %80 iirc

[16:22:01.0000] <annevk>
it's just invalid for now and not exposed

[16:22:02.0000] <Hixie>
franksalim: without knowing what the API is we can't design the protocol

[16:22:03.0000] <franksalim>
annevk, with the provision that type bytes will be defined later, right?

[16:22:04.0000] <franksalim>
Hixie, i don't think that is true

[16:22:05.0000] <Hixie>
jgraham: i don't see how you could possibly have a buffer overflow if you're not relying on someone telling you the length of the data

[16:22:06.0000] <annevk>
type bytes?

[16:22:07.0000] <jgraham>
It ran for 1763 seconds and then popped up the slow script dialog...

[16:22:08.0000] <annevk>
you mean like media streams?

[16:22:09.0000] <franksalim>
Hixie, i have put different APIs over the same protocol. I have also put the same API over different protocols

[16:23:00.0000] <Hixie>
jgraham: in fact, you're far more likely to have a buffer overflow with a length byte, since it's more likely that you'll allocate a buffer and then mistakenly inspect the data to read it in

[16:23:01.0000] <Hixie>
franksalim: i can't design a protocol without knowing the api.

[16:24:00.0000] <Hixie>
you can always jam things together and make them work, but that's not a good situation to be in.

[16:24:01.0000] <franksalim>
Hixie, what can i say to that?

[16:24:02.0000] <annevk>
while I'm gonna read and sleep some, keep this up; it's nice input :)

[16:24:03.0000] <franksalim>
Hixie, I can?

[16:24:04.0000] <jgraham>
Hixie: Anyway, it would be good if you have this discussion on the list

[16:24:05.0000] <Hixie>
we've had this discussion on the list

[16:24:06.0000] <Hixie>
multiple times over the last year or two

[16:24:07.0000] <jgraham>
Personally I am happy with either type of framing for text

[16:25:00.0000] <Hixie>
i don't see any point repeating what i've already said

[16:25:01.0000] <jgraham>
Hixie: I am pretty much 100% convinced that people will not be happy with that

[16:26:00.0000] <Hixie>
i'm not trying to make people happy, i'm trying to design a protocol

[16:26:01.0000] <jgraham>
Hixie: I don't think they see it like that either

[16:26:02.0000] <Hixie>
that's their problem :-)

[16:26:03.0000] <jgraham>
I think they think that the group is trying to design a protocol

[16:28:00.0000] <franksalim>
this can of worms would have been avoided completely by having the protocol be byte streams (like tcp) instead of discrete messages

[16:28:01.0000] <franksalim>
with byte streams it is clear you can do whatever you want and it is up to the next protocol up the stack to define structure, types, chunking, muxing

[16:29:00.0000] <Hixie>
byte streams would have to be exposed to JS, and I'm not at all convinced that your typical web dev can write code to handle byte streams well

[16:30:00.0000] <franksalim>
a typical web dev can't use opengl, either

[16:30:01.0000] <boblet>
are there any UTF-8 characters apart from & and > that need escaping in HTML5?

[16:30:02.0000] <jgraham>
Yeah, I think byte streams would be bad

[16:30:03.0000] <franksalim>
messaging protocols sitting on top of byte streams are equivalent to scene graphs on webgl

[16:30:04.0000] <TabAtkins>
boblet - you mean <, right?

[16:31:00.0000] <Hixie>
franksalim: i wasn't especially convinced that we should expose webgl either

[16:31:01.0000] <boblet>
TabAtkins: doh, yep

[16:31:02.0000] <TabAtkins>
Then in most circumstances, yes.  In some circumstances you'll want to escape ',", and >.

[16:32:00.0000] <franksalim>
Hixie, if one messaging protocol 'wins,' we can bake it in

[16:32:01.0000] <boblet>
TabAtkins: aah good point. you mean eg in alt text yeah?

[16:33:00.0000] <TabAtkins>
Yeah.

[16:33:01.0000] <franksalim>
starting with a stripped down or half baked messaging protocol is the worst idea, imho

[16:33:02.0000] <TabAtkins>
If you're escaping attributes, escape ' and ".  If you're escaping unquoted attributes, also escape > (as it can early-close the element in some circumstances).

[16:34:00.0000] <jgraham>
Anyway, bedtime

[16:34:01.0000] <jgraham>
Goodnight

[16:34:02.0000] <boblet>
jgraham: happy chocolate dreams

[16:34:03.0000] <jgraham>
:)

[16:35:00.0000] <franksalim>
Hixie, I should say that I am much happier with the frames we currently have than anything heavier weight that has been proposed

[16:36:00.0000] <franksalim>
because lightweight frames allow me to ignore framing and run a real protocol over a stream

[16:43:00.0000] <franksalim>
if your application messages and your wire messages are one and the same, then all the problems like chunking and addressing that have been raised are valid. if you treat websocket like tcp, you handle those concerns in your protocol of choice

[16:43:01.0000] <AryehGregor>
Why do all of these tests fail on Chrome?  It's puzzling me.  I don't seem to be able to easily make a reduced test case.  http://aryeh.name/tmp/html5tests.html

[16:43:02.0000] <AryehGregor>
(not all, 20%, but whatever)

[16:43:03.0000] <AryehGregor>
(I'm idly writing some tests for basic easy-to-test-from-JS stuff, dunno if anyone has written any such so far)


2010-07-30
[17:17:00.0000] <Hixie>
what does "#...#" mean in php?

[17:19:00.0000] <TabAtkins>
Nothing.

[17:19:01.0000] <Hixie>
http://webreflection.blogspot.com/2010/06/websocket-handshake-76-simplified.html

[17:19:02.0000] <Hixie>
preg_match('#GET (.*?) HTTP#', $buffer, $match)

[17:19:03.0000] <Hixie>
why the "#"s?

[17:19:04.0000] <TabAtkins>
Oh, that's preg_match.

[17:19:05.0000] <TabAtkins>
Custom regex delimiters.

[17:20:00.0000] <Hixie>
aah

[17:21:00.0000] <gsnedders>
Whatever the first character is becomes the delimiter

[17:21:01.0000] <Hixie>
why isn't the " the delimiter?

[17:21:02.0000] <gsnedders>
(well, byte without the u flag)

[17:21:03.0000] <gsnedders>
Hixie: It's a string.

[17:22:00.0000] <Hixie>
i'm confused

[17:22:01.0000] <TabAtkins>
Because PHP is stupid.

[17:22:02.0000] <TabAtkins>
Obviously.

[17:22:03.0000] <gsnedders>
Hixie: preg_match is a function whose first argument is a string

[17:22:04.0000] <Hixie>
that's a given, i'm just trying to understand it :-)

[17:22:05.0000] <Hixie>
gsnedders: k

[17:22:06.0000] <gsnedders>
the string's value in that case is #GET (.*?) HTTP#

[17:22:07.0000] <Hixie>
right

[17:23:00.0000] <gsnedders>
Regexps don't exist at a syntaxual level in PHP

[17:23:01.0000] <Hixie>
sure

[17:23:02.0000] <gsnedders>
(That string is just passed to PCRE)

[17:23:03.0000] <Hixie>
but why isn't it just "GET (.*?) HTTP"

[17:23:04.0000] <Hixie>
oh does the PCRE expect its strings to be delimited or something?

[17:23:05.0000] <gsnedders>
Because that's what PCRE does :)

[17:23:06.0000] <Hixie>
that's lame

[17:24:00.0000] <gsnedders>
(you can have flags on the regexp after the ending delimiter)

[17:24:01.0000] <Hixie>
PCRE--

[17:24:02.0000] <AryehGregor>
The sane way to do it would be to have the flags as a separate argument.

[17:24:03.0000] <AryehGregor>
But PHP is not even slightly sane.

[17:25:00.0000] <gsnedders>
Well, this is just a side-effect of what PCRE does in this case

[17:25:01.0000] <AryehGregor>
PHP could put a wrapper around the PCRE call.

[17:25:02.0000] <AryehGregor>
Python uses PCRE too, doesn't it?

[17:25:03.0000] <gsnedders>
Nope

[17:25:04.0000] <gsnedders>
Python has its own regexp impl

[17:25:05.0000] <AryehGregor>
Okay, well, PHP could use Python's syntax, with an extra argument for flags.

[17:25:06.0000] <gsnedders>
AryehGregor: That would mean parsing the regexp itself

[17:25:07.0000] <hober>
I miss CL-PPCRE

[17:26:00.0000] <AryehGregor>
Then it could translate the flags to PCRE flags, sticking delimiters around it, and putting the flags at the end.

[17:26:01.0000] <AryehGregor>
gsnedders, why?

[17:26:02.0000] <AryehGregor>
Just have the wrapper add delimiters.

[17:26:03.0000] <gsnedders>
Oh, yeah, it could do that

[17:26:04.0000] <gsnedders>
But does [\/] work, for example?

[17:29:00.0000] <AryehGregor>
What do you mean?

[17:30:00.0000] <gsnedders>
Does the backscape actually escape there?

[17:30:01.0000] <AryehGregor>
Sure.

[17:30:02.0000] <gsnedders>
I had some memory of it not doing so, but it must

[17:31:00.0000] <gsnedders>
/me is too tired

[17:34:00.0000] <AryehGregor>
Argh, getting 500 ms ping to my ISP.  >:(

[17:48:00.0000] <AryehGregor>
If el is an element with an id attribute set, is "delete el['id'];" supposed to work the same as "el.removeAttribute('id');"?

[17:49:00.0000] <AryehGregor>
The spec doesn't appear to say what that's expected to do, but maybe I'm crazy for even suggesting it.

[17:52:00.0000] <AryehGregor>
data:text/html,<!doctype html><script>var el = document.createElement("a"); var type = typeof el.id; delete el.id; alert(type + " " + typeof el.id);</script>

[17:52:01.0000] <AryehGregor>
That gives "string string" on Firefox and Opera, "string undefined" on WebKit.

[17:57:00.0000] <AryehGregor>
/me files a bug

[17:58:00.0000] <AryehGregor>
http://www.w3.org/Bugs/Public/show_bug.cgi?id=10267

[18:05:00.0000] <Hixie>
that's a WebIDL question

[18:05:01.0000] <othermaciej>
Hixie: that security paper on postMessage is fascinating

[18:06:00.0000] <Hixie>
it's depressing is what it is

[18:06:01.0000] <AryehGregor>
Hmm, okay.

[18:06:02.0000] <othermaciej>
I am going to have to spend some time reading that, as well as abarth et al's recent paper on applying a formal model to find security vulnerabilities in Origin checking, Referer checking, CORS, etc

[18:06:03.0000] <Hixie>
othermaciej: there's something to be said about academics writing papers about how I suck, but I don't know what it is :-P

[18:07:00.0000] <othermaciej>
Hixie: well, it's much better if the papers come soon enough to fix the suckage

[18:07:01.0000] <Hixie>
yeah i wish this kind of thing was sent to the mailing list while we were designing them rather than too late to fix the bugs

[18:07:02.0000] <Hixie>
but oh well

[18:09:00.0000] <othermaciej>
I wonder if it's possible to at least add interfaces that would allow for less error-prone postMessage use

[18:09:01.0000] <othermaciej>
like a version that doesn't take *, and on the receiving side forces you to check the sender origin (e.g. by providing a list of expected senders) to even get the message payload

[18:11:00.0000] <Hixie>
people could easily enough write that in a JS library if they wanted

[18:11:01.0000] <othermaciej>
they have some suggestions along similar lines

[18:12:00.0000] <othermaciej>
I guess the one suggestion from the paper that you can't implement in JS is wildcard-based multicast

[18:12:01.0000] <othermaciej>
(so you could send with a target origin of '*.facebook.com' instead of '*')

[18:12:02.0000] <AryehGregor>
I think this is the relevant spec, but I can't figure out what it actually means: http://dev.w3.org/2006/webapi/WebIDL/#delete

[18:13:00.0000] <othermaciej>
(or a list)

[18:13:01.0000] <AryehGregor>
Is "delete element.id" supposed to set the id JavaScript attribute to undefined, or just remove the content attribute?

[18:13:02.0000] <othermaciej>
neither

[18:14:00.0000] <Hixie>
certainly not the latter

[18:14:01.0000] <othermaciej>
hmm I see a bug in the algorithm there

[18:14:02.0000] <othermaciej>
"If O has the DontDelete attribute, return false."

[18:14:03.0000] <AryehGregor>
What's the expected output of this test case?  Chrome outputs "undefined", Firefox and Opera output "string": data:text/html,<!doctype html><script>var el = document.createElement("a"); delete el.id; alert(typeof el.id);</script>

[18:14:04.0000] <othermaciej>
it should be "If property P of O has the DontDelete attribute, return false."

[18:15:00.0000] <othermaciej>
and host object properties are DontDelete

[18:15:01.0000] <Hixie>
othermaciej: file a bug

[18:15:02.0000] <othermaciej>
(or in ES5 terms, not Configurable)

[18:15:03.0000] <Hixie>
othermaciej: otherwise that'll be lost

[18:15:04.0000] <othermaciej>
does Web IDL use bugzilla?

[18:16:00.0000] <Hixie>
i hope so

[18:16:01.0000] <Hixie>
otherwise we're not able to track bugs anywhere

[18:16:02.0000] <jamesr>
Hixie: http://www.whatwg.org/specs/web-apps/current-work/complete.html links to http://www.whatwg.org/specs/web-apps/current-work/complete/

[18:16:03.0000] <jamesr>
Hixie: http://www.whatwg.org/specs/web-apps/current-work/complete/ 404's

[18:16:04.0000] <othermaciej>
there is a component

[18:16:05.0000] <Hixie>
jamesr: again? wtf

[18:16:06.0000] <Hixie>
something is broken with my update code it seems

[18:17:00.0000] <Hixie>
jamesr: fixed

[18:17:01.0000] <jamesr>
yup, works now. thanks

[18:17:02.0000] <jamesr>
but wait

[18:18:00.0000] <jamesr>
is that really the multi page version?

[18:18:01.0000] <Hixie>
of?

[18:18:02.0000] <jamesr>
ah yes it is

[18:18:03.0000] <othermaciej>
weinig: if you have any interest in doing Web IDL edits any more, here is a trivial bug: http://www.w3.org/Bugs/Public/show_bug.cgi?id=10269

[18:19:00.0000] <othermaciej>
weinig: I would Cc you but I'm not sure if you have a w3c bugzilla account

[18:24:00.0000] <weinig>
othermaciej: I have made the change

[18:24:01.0000] <weinig>
othermaciej: I will commit it shortly

[18:34:00.0000] <dandaman>
http://imgur.com/vqIcL

[18:34:01.0000] <dandaman>
see how the scrollbar messes up the <select> box

[18:34:02.0000] <dandaman>
anyone know how to fix that?

[18:37:00.0000] <AryehGregor>
So does no one know what the expected behavior in my test case is, or are you just not telling me?  :/

[18:37:01.0000] <Hixie>
AryehGregor: i'd have to read webidl to know the answer :-)

[18:38:00.0000] <Hixie>
i suspect the answer is either return false or throw an exception, and in either case don't touch the object

[18:38:01.0000] <Hixie>
but i could be wrong

[18:38:02.0000] <Hixie>
webidl should say

[18:40:00.0000] <AryehGregor>
It looks like it will run deletion steps if they're defined for the particular type, but I'd have to track down the meaning of a lot of jargon to figure out for sure.

[18:41:00.0000] <AryehGregor>
No, maybe not.

[18:41:01.0000] <AryehGregor>
/me has no idea

[18:43:00.0000] <AryehGregor>
Chrome actually unsets the attribute.  That's surely wrong, isn't it?

[18:45:00.0000] <Hixie>
yes

[18:46:00.0000] <Hixie>
wait, no it doesn't

[18:46:01.0000] <Hixie>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/578

[18:46:02.0000] <Hixie>
oh you mean the IDL attribute

[18:46:03.0000] <Hixie>
that's probably wrong too, yes

[18:48:00.0000] <AryehGregor>
Okay, I'll file a bug against WebKit . . . or is this Chrome and not WebKit?

[18:48:01.0000] <TabAtkins>
That sounds like webkit.

[18:49:00.0000] <jamesr>
the bug is in the webkit repo even if it is chrome specific (the bindings live in the webkit svn repo)

[18:49:01.0000] <jamesr>
so file in bugs.webkit.org

[18:54:00.0000] <AryehGregor>
https://bugs.webkit.org/show_bug.cgi?id=43224

[18:56:00.0000] <othermaciej>
AryehGregor: most DOM properties are DontDelete

[18:56:01.0000] <othermaciej>
AryehGregor: per Web IDL

[18:56:02.0000] <othermaciej>
AryehGregor: so according to the Web IDL spec, the delete algorithm should stop short

[18:56:03.0000] <jamesr>
AryehGregor: what's safari do?

[18:56:04.0000] <AryehGregor>
jamesr, I dunno, I'm on Linux.

[18:56:05.0000] <jamesr>
wondering if it's a v8 vs jsc bindings issue

[18:58:00.0000] <othermaciej>
AryehGregor: if you make a "live dom viewer" version of your test case I can try it in Safari

[18:58:01.0000] <AryehGregor>
A data URL won't work?

[18:58:02.0000] <Hixie>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/578

[18:58:03.0000] <othermaciej>
I guess I can just copy it

[18:58:04.0000] <othermaciej>
this alerts "string" in Safari: <!doctype html><script>var el = document.createElement("a"); delete el.id; alert(typeof el.id);</script>

[18:59:00.0000] <othermaciej>
which I believe is correct per spec

[18:59:01.0000] <AryehGregor>
It's what Opera and Firefox do too.

[18:59:02.0000] <othermaciej>
if Chrome does not match, it is very likely a bug in the v8 DOM bindings

[18:59:03.0000] <AryehGregor>
/me doesn't see a component for that

[19:00:00.0000] <othermaciej>
just put [V8] in the bug title

[19:00:01.0000] <AryehGregor>
Okay, now I'm off to bed.

[22:30:00.0000] <WilliamC>
So, how is the debate of Theora v. h.256, or whatever the number is, going?

[23:02:00.0000] <Hixie>
WilliamC: it's now Theora vs h.264 vs WebM

[23:06:00.0000] <WilliamC>
WebM?

[23:07:00.0000] <Hixie>
the format google released a few weeks ago

[23:08:00.0000] <WilliamC>
Wonder which one is better

[00:15:00.0000] <Hixie>
i really don't understand the vision people on hybi have for websockets

[00:16:00.0000] <Hixie>
in what world does it make sense to talk about websockets messages being "dispatched using the platform's mime mechanism"?

[00:28:00.0000] <micheil>
I haven't followed along on that conversation, Hixie 

[00:28:01.0000] <micheil>
although, some of the things proposed do sound a little bit more complicated then what's needed

[00:47:00.0000] <Hixie>
micheil: it's not so much that they're complicated so much as as far as i can tell, they make no sense at all

[00:47:01.0000] <Hixie>
it'd be like if someone was talking about how HTTP should allow you to change nick

[00:47:02.0000] <micheil>
okay, similar idea

[00:47:03.0000] <Hixie>
or if someone was talking about how IRC didn't let you select the printer driver

[00:48:00.0000] <micheil>
well of course irc should let you choose your printer driver, isn't that what your irc server does?

[00:48:01.0000] <micheil>
my included the kitchen sink.

[00:51:00.0000] <hsivonen>
less than 24 hours left on the current HTML WG polls

[01:02:00.0000] <jgraham>
Hixie: The MIME stuff confuses the hell out of me

[01:02:01.0000] <jgraham>
I have no idea why you would want that

[01:07:00.0000] <annevk>
well, it's pretty clear Greg still wants his bidirectional HTTP rather than TCP for browsers

[01:07:01.0000] <annevk>
but I don't get why he argues for mime for the whole stream

[01:07:02.0000] <annevk>
that makes no sense at all

[01:12:00.0000] <hsivonen>
do those who want bidi HTTP want it to be implemented in browsers?

[01:13:00.0000] <jgraham>
hsivonen: I guess so

[01:13:01.0000] <jgraham>
But it's not clear what they rally envision

[01:13:02.0000] <jgraham>
*really

[01:13:03.0000] <jgraham>
e.g. there was lots of stuff about doing dispatch based on content-type

[01:14:00.0000] <jgraham>
But in most websockets cases I can think of, that makes no sense

[01:14:01.0000] <jgraham>
Anyway, my conclusion is that the whole thing is just a bad idea because it is additional complexity

[01:14:02.0000] <jgraham>
and makes the protocol less generic

[01:15:00.0000] <jgraham>
I am more worried by real issues like framing / the handshake

[01:16:00.0000] <hsivonen>
what's the real problem with those?

[01:20:00.0000] <jgraham>
For the handshake there is some question about the security properties

[01:20:01.0000] <jgraham>
Although it looks like wss will change

[01:21:00.0000] <jgraham>
For the framing there is a tenion between the belief that sentinal markers are more secure when sending, and that it is harder to write the recieving code

[01:22:00.0000] <Hixie>
the only change i'm aware of for wss: is the minor addition of the hook into the nextprotoneg feature

[01:23:00.0000] <jgraham>
Hixie: That was what I meant, I think

[01:24:00.0000] <Hixie>
k

[01:24:01.0000] <Hixie>
that's not much of a change :-)

[01:24:02.0000] <hsivonen>
this stuff really needs to be wrapped up and shipped

[01:29:00.0000] <hsivonen>
have there been any positive effects from taking the protocol to the IETF?

[01:42:00.0000] <Hixie>
hsivonen: no

[01:56:00.0000] <kennyluck>
/me waves to MikeSmith

[01:56:01.0000] <MikeSmith>
kennyluck: hey

[01:57:00.0000] <kennyluck>
Hey, Mike, I want to introduce you my friend, pg30123.

[01:57:01.0000] <pg30123>
Hi

[01:57:02.0000] <kennyluck>
He is my high school classmate and very interested in HTML5.

[01:57:03.0000] <kennyluck>
Most importantly, he's going to be a google employee next year :)

[01:57:04.0000] <MikeSmith>
pg30123: hi there

[01:57:05.0000] <MikeSmith>
excellent

[01:58:00.0000] <kennyluck>
Of course I want him to help promote W3C-related work in Taiwan. Hehe.

[01:58:01.0000] <pg30123>
lol

[01:58:02.0000] <kennyluck>
There's little information about HTML5 in Taiwan, honestly.

[01:59:00.0000] <pg30123>
But to begin with, I should mention that I am interested in it but not familiar with it..

[01:59:01.0000] <MikeSmith>
http://diveintohtml5.org/ is a good place to start learning

[01:59:02.0000] <MikeSmith>
and http://html5doctor.com/

[02:00:00.0000] <kennyluck>
MikeSmith: Also he is interested in (using) P2P technology. :)

[02:00:01.0000] <pg30123>
 =.=

[02:00:02.0000] <MikeSmith>
and for a quick overview of the differences from HTML4, http://dev.w3.org/html5/html4-differences/

[02:00:03.0000] <kennyluck>
I noticed that recently there's some discussion about possible P2P with HTML5?

[02:00:04.0000] <MikeSmith>
yeah

[02:01:00.0000] <MikeSmith>
Hixie has a draft spec of an idea

[02:01:01.0000] <kennyluck>
pointer?

[02:01:02.0000] <MikeSmith>
http://www.whatwg.org/specs/web-apps/current-work/complete/commands.html#peer-to-peer-connections

[02:01:03.0000] <kennyluck>
Ah, thanks. How new is this, I wonder.

[02:01:04.0000] <Hixie>
in particular, http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2010-July/027129.html

[02:02:00.0000] <kennyluck>
Thanks!

[02:03:00.0000] <Hixie>
nn

[02:03:01.0000] <pg30123>
Speaking of P2P, is there some kind of real-time video streaming of sharing methods available now?

[02:31:00.0000] <hsivonen>
pg30123: we only have server to browser streaming at the moment. no p2p

[02:33:00.0000] <pg30123>
hsivonen: thx!

[02:35:00.0000] <kennyluck>
pg30123 was thinking about implementing PPS with HTML5. :p

[03:05:00.0000] <jgraham>
What is supposed to happen if I set some_element.spellcheck = true;

[03:05:01.0000] <jgraham>
Note: not "true"

[03:05:02.0000] <jgraham>
Or equally some_element.spellcheck = 0;

[03:06:00.0000] <payman_s>
From spartan log: "Child is a zombie; attempting to reap him..."

[03:06:01.0000] <jgraham>
payman_s: Wrong window?

[03:06:02.0000] <jgraham>
Anyway spellcheck...

[03:07:00.0000] <jgraham>
http://www.whatwg.org/specs/web-apps/current-work/multipage/editing.html#attr-spellcheck

[03:07:01.0000] <jgraham>
talks about setting the IRL attribute to "true", "false" and "default" or otherwise raising an error

[03:07:02.0000] <jgraham>
*IDL

[03:08:00.0000] <jgraham>
But then says

[03:08:01.0000] <Workshiva>
To the specmobile

[03:08:02.0000] <jgraham>
"""On setting, if the new value is true, then the element's spellcheck content attribute must be set to the literal string "true", otherwise it must be set to the literal string "false"."""

[03:10:00.0000] <Workshiva>
That second part probably predates the tristate version?

[03:10:01.0000] <payman_s>
jgraham: yes, sorry.

[03:10:02.0000] <jgraham>
payman_s: :)

[03:10:03.0000] <jgraham>
Workshiva: Coud be

[03:11:00.0000] <jgraham>
/me wonders WDG(&W)D

[03:11:01.0000] <Philip`>
Why would spellcheck = true differ from spellcheck = "true"?

[03:11:02.0000] <Philip`>
WebIDL should convert true to "true" before HTML5 looks at it

[03:11:03.0000] <Workshiva>
Philip`: Because I haven't confirmed that WebIDL transforms boolean true into 'true' yet

[03:11:04.0000] <jgraham>
true isn't an ascii case insenitive match for "true"

[03:11:05.0000] <jgraham>
is it?

[03:12:00.0000] <Workshiva>
I was looking for the IDL definition of spellcheck to make sure it was DOMString

[03:12:01.0000] <Philip`>
http://dev.w3.org/2006/webapi/WebIDL/#es-DOMString

[03:12:02.0000] <Philip`>
It basically just does ToString

[03:12:03.0000] <Philip`>
Workshiva: It is

[03:12:04.0000] <Workshiva>
You're so quick!

[03:12:05.0000] <Philip`>
(Defined on HTMLElement)

[03:13:00.0000] <jgraham>
But 0 shouldn't work, right

[03:14:00.0000] <jgraham>
or 1

[03:14:01.0000] <Workshiva>
Correct

[03:14:02.0000] <Philip`>
That'll become "0" which isn't "true" or "false" or "default"

[03:14:03.0000] <Philip`>
so no

[03:14:04.0000] <Workshiva>
But the paragraph still needs correction

[03:14:05.0000] <Workshiva>
There's also a false" without the leading "

[03:14:06.0000] <jgraham>
The paragraph makes no sense

[03:15:00.0000] <jgraham>
Or at least the trailing sentence should go

[03:15:01.0000] <Workshiva>
Yeah

[03:15:02.0000] <jgraham>
Also it seems that throwing a syntax_err is not web compatible

[03:42:00.0000] <jgraham>
"""With length-prefixed frames, if one endpoint *does* miscalculate the size of a UTF-8 string, the protocol will detect it.""" - can someone explain this to me?

[03:50:00.0000] <Philip`>
jgraham: No

[03:51:00.0000] <Philip`>
Well, I suppose you could make the frames length-prefixed *and* null-terminated

[03:51:01.0000] <Philip`>
so that the protocol has a reliable way to detect framing errors

[03:52:00.0000] <Philip`>
s/null/0xff/

[03:53:00.0000] <jgraham>
Philip`: I was wondering about that

[03:54:00.0000] <Philip`>
Otherwise it doesn't seem like the protocol will have any reliable sync points

[03:54:01.0000] <jgraham>
I wonder if it is a bad idea for some obvious reason

[03:54:02.0000] <Philip`>
It's bad because people will implement the length-prefix and ignore the terminator, or ignore the length-prefix and implement the terminator

[03:54:03.0000] <Philip`>
and it will still work most of the time

[03:54:04.0000] <jgraham>
Yeah :(

[03:55:00.0000] <Philip`>
until they get UTF-8 or until they get attacked

[03:58:00.0000] <Philip`>
Has anyone written a WebSockets server validator yet, which tests its handling of edge cases? If that was sufficiently good and sufficiently well known then I expect pretty much everybody would use it, and it'd help avoid a lot of bugs

[03:58:01.0000] <jgraham>
No, but it does seem like a good idea

[03:58:02.0000] <Philip`>
Is anyone planning to write one?

[03:58:03.0000] <jgraham>
I asked if anyone planned to write tests, but didn;t get any replies

[03:59:00.0000] <Philip`>
(with a more detailed plan than "someone should write on")

[03:59:01.0000] <jgraham>
I guess it could go on my "list of things that would be quite a good idea to do but I would much prefer if someone else did"

[04:02:00.0000] <othermaciej>
jgraham, Philip`: I think what he's saying is that frames are prefixed with a byte identifying the frame type, then the length

[04:03:00.0000] <othermaciej>
if you don't see the frame type byte after reading the length, you know you have missed your boundary

[04:03:01.0000] <othermaciej>
however, I don't think the protocol can safely resync, because you have no guarantee that your frame type byte won't be present in another message (if you read too far)

[04:18:00.0000] <hsivonen>
what's Hixie's plan for binary? length or sentinel+stuffing?

[04:18:01.0000] <hsivonen>
(length makes sense for binary, because data stuffing is annoying)

[04:19:00.0000] <jgraham>
hsivonen: I assume length

[04:20:00.0000] <Workshiva>
It was going to be length in the past, I haven't followed it to know if that has changed

[04:24:00.0000] <Philip`>
If by "plan" you mean "what's already described in the spec for binary frames (which are non-conforming to send or to process)", then they're length-prefixed

[04:24:01.0000] <Philip`>
(with an arbitrary-length integer)

[04:27:00.0000] <annevk5>
so far I have not recognized a single person here

[04:27:01.0000] <annevk5>
except for Yngve, who spotted me

[04:38:00.0000] <Philip`>
"the server has to take the digits from the value to obtain a number [...], then divide that number by the number of spaces" - how many servers are going to crash when you send a string with zero spaces?

[04:40:00.0000] <jgraham>
Philip`: All the ones that didn't follow step 5 closely?

[04:40:01.0000] <jgraham>
(and abort in that case)

[04:41:00.0000] <jgraham>
Or step 6

[04:45:00.0000] <Philip`>
jgraham: I see some implementations that appear to forget that

[04:46:00.0000] <jgraham>
Philip`: Hmm, that seems unfortunate

[04:47:00.0000] <Workshiva>
You should add an ellipsis before "unfortunate"

[04:47:01.0000] <MikeSmith>
annevk: where?

[04:47:02.0000] <MikeSmith>
ah

[04:47:03.0000] <MikeSmith>
IETF78

[04:50:00.0000] <Philip`>
It also looks like server implementations tend to reject frame types != 0

[04:50:01.0000] <Philip`>
which kind of breaks the whole extensibility model

[04:52:00.0000] <jgraham>
Philip`: I thought that was expected

[04:53:00.0000] <jgraham>
If a client tries to send binary to a server taht can't deal with it, the server disconnects

[04:53:01.0000] <jgraham>
The extensibility model is not purely about having different frame types

[04:54:00.0000] <jgraham>
Also about being able to do feature negotiation in headers and so on

[04:57:00.0000] <Philip`>
Hmm, I don't immediately see a bit in the spec saying the server should disconnect

[04:58:00.0000] <Philip`>
It looks like it should discard the bytes, then set /error/ to true, in which case *a WebSocket error has been detected*, and that's all

[05:01:00.0000] <jgraham>
If /type/ is not a 0x00 byte, then the server may abort these           steps and either immediately disconnect from the client or           set the /client terminated/ flag.

[05:01:01.0000] <annevk5>
someone from Microsoft is here

[05:01:02.0000] <annevk5>
he's going to edit the requirements document

[05:01:03.0000] <annevk5>
he says he's new in apps

[05:01:04.0000] <jgraham>
Philip`: Isn't that the relevant bit?

[05:03:00.0000] <Philip`>
jgraham: Oh, looks like I was looking at the UA framing algorithm instead

[05:03:01.0000] <jgraham>
Philip`: Yeah

[05:03:02.0000] <Philip`>
which is helpfully titled just "Data framing"

[05:35:00.0000] <annevk5>
we went through requirements

[05:35:01.0000] <annevk5>
nothing really controversial

[05:35:02.0000] <annevk5>
friendly group

[05:35:03.0000] <jgraham>
annevk5: Did the whole "amateur" thing come up?

[05:36:00.0000] <hsivonen>
annevk5: what's the deal with the mailing list looking like it's full of controversy?

[05:37:00.0000] <annevk5>
jgraham, nope

[05:37:01.0000] <jgraham>
annevk5: OK

[05:37:02.0000] <annevk5>
hsivonen, we haven't gotten to the bad parts yet I think

[05:41:00.0000] <Lachy>
whatwg.org seems to be running really slowly today.

[05:41:01.0000] <Lachy>
even hixie.ch is takes forever to respond.

[05:48:00.0000] <annevk5>
nobody here in favor of sentinel framing

[05:48:01.0000] <jgraham>
Not that surprsing

[05:49:00.0000] <annevk5>
I don't really feel strongly so I didn't comment

[05:49:01.0000] <jgraham>
Have they discussed the actual arguments that Hixie put forward?

[05:49:02.0000] <annevk5>
not really

[05:49:03.0000] <annevk5>
"learn to count" was the argument

[05:49:04.0000] <jgraham>
Fuck

[05:49:05.0000] <annevk5>
maybe I should have spoken up

[05:49:06.0000] <annevk5>
hmm

[05:50:00.0000] <jgraham>
If they don't have a better argument than that we will reach an impass

[05:50:01.0000] <jgraham>
e

[05:50:02.0000] <hsivonen>
"learn to count" isn't compelling at this stage of implementations getting shipped

[05:51:00.0000] <jgraham>
It's not compelling full stop

[05:52:00.0000] <jgraham>
A trivial amount of time with google and the string UnicodeDecodeError will show you how common it is to not get encoding/decoding strings right

[05:52:01.0000] <jgraham>
"learn to count" is denial

[05:55:00.0000] <reschke>
Can you *please* raise your concerns in the IETF chat room?

[05:56:00.0000] <jgraham>
/me doesn't have a jabber client that does group stuff

[05:56:01.0000] <Ms2ger>
Did someone say "denial"?

[05:57:00.0000] <hsivonen>
I guess it would be easier to ask annevk5 to channel jgraham than to join the not-IRC chat room...

[05:58:00.0000] <annevk5>
I raised the concern about impasse

[05:58:01.0000] <annevk5>
but that was dismissed

[05:58:02.0000] <annevk5>
although it seems relevant

[05:59:00.0000] <Ms2ger>
How very surprising

[05:59:01.0000] <annevk5>
as someone later told me, but he was not the chair or the AD

[05:59:02.0000] <jgraham>
If we dismiss concerns of an impasse we are sure to reach one

[05:59:03.0000] <annevk5>
hsivonen, I channelled jgraham but that was not acceptable

[06:00:00.0000] <hsivonen>
annevk5: not acceptable in the sense that to be heard, one must be present or have an IETF-meeting-compatible Jabber setup?

[06:01:00.0000] <annevk5>
I think so

[06:01:01.0000] <hsivonen>
:-(

[06:01:02.0000] <annevk5>
it seemed rather weird to me as the concern about an impasse should concern all

[06:01:03.0000] <annevk5>
if you have a google account it's pretty easy

[06:05:00.0000] <hsivonen>
http://lists.xml.org/archives/xml-dev/201007/msg00089.html

[06:06:00.0000] <annevk5>
people are now discussing all the ways you can do length encoding

[06:07:00.0000] <jgraham>
Hmm, well I managed to join the room

[06:08:00.0000] <jgraham>
Note to any empathy developers: your UI is crap

[06:08:01.0000] <annevk5>
pidgin is ok

[06:08:02.0000] <jgraham>
Or I am grumpy today

[06:08:03.0000] <jgraham>
or both

[06:08:04.0000] <annevk5>
i'm using Adium for mac atm

[06:08:05.0000] <gsnedders>
jgraham: You're always grumpy.

[06:08:06.0000] <annevk5>
worse than Opera IRC

[06:08:07.0000] <jgraham>
I am unusually grumpy today :(

[06:10:00.0000] <annevk5>
ping me here if you say anything; I'll relay in case it falls through

[06:17:00.0000] <jgraham>
annevk5: It is not really possible to follow much of what is going on from the jabber

[06:26:00.0000] <annevk5>
jgraham, there should be an audio channel

[06:32:00.0000] <Workshiva>
So what kind of magic must I do to chrome to get an actual stacktrace in the console?

[06:35:00.0000] <jgraham>
annevk5: You just said what I was thinking

[06:36:00.0000] <annevk5>
the queue here just gets longer

[06:52:00.0000] <annevk5>
now it's about if a message (event) has the potential to consist of multiple frames

[06:52:01.0000] <annevk5>
i think it was clear long ago this was not controversial

[11:58:00.0000] <dandaman>
swiping gestures are something that can be done in html5 right?

[12:08:00.0000] <henrikbjorn>
dandaman: what do you mean ?

[12:09:00.0000] <dandaman>
henrikbjorn: http://www.youtube.com/watch?v=NrXif_Q6QmY

[12:09:01.0000] <dandaman>
stuff like that

[12:09:02.0000] <dandaman>
where you move your finger accross a certain amount of pixels

[12:09:03.0000] <dandaman>
and it brings a message up

[12:09:04.0000] <henrikbjorn>
dont think it should be or is in the spec

[12:10:00.0000] <henrikbjorn>
its jquery touch

[12:10:01.0000] <henrikbjorn>
a mix of mouse hold and move mose events i think

[12:10:02.0000] <dandaman>
so there is nothing in html5 for this?

[12:10:03.0000] <henrikbjorn>
nope

[12:10:04.0000] <dandaman>
its all going to be plug-ins?

[12:10:05.0000] <henrikbjorn>
why should there be

[12:10:06.0000] <dandaman>
because someone in the #android channel lied to me

[12:10:07.0000] <henrikbjorn>
http://jqtouch.com/

[12:10:08.0000] <dandaman>
and told me its html5

[12:11:00.0000] <henrikbjorn>
thats what you are looking for it

[12:11:01.0000] <dandaman>
or rather could be done in html5

[12:11:02.0000] <dandaman>
hopefully this will work in android

[12:11:03.0000] <dandaman>
because i cant just have it working for iphone only

[12:13:00.0000] <Hixie>
dandaman: HTML is just the markup language, touch would be user interaction events, that's a whole different spec. I recommend asking shepazu in #webapps on irc.w3.org, he's the one working on the DOM Events spec

[12:14:00.0000] <dandaman>
k, thanks for the direction!

[12:14:01.0000] <Hixie>
np

[12:16:00.0000] <Hixie>
othermaciej: it seems, based on http://www.ietf.org/mail-archive/web/hybi/current/msg02634.html, that the "change control" fields in IANA registrations have no effect

[12:16:01.0000] <Hixie>
othermaciej: so we can probably just pass on ISSUE-110

[12:18:00.0000] <dandaman>
remote host closed connection

[12:18:01.0000] <dandaman>
cant connect :(

[12:18:02.0000] <dandaman>
to irc.w3.org

[12:18:03.0000] <dandaman>
weak

[12:18:04.0000] <TabAtkins>
connect to port 6665

[12:18:05.0000] <TabAtkins>
iirc

[12:22:00.0000] <dandaman>
k ty

[12:33:00.0000] <Hixie>
so was anyone at the hybi meeting who can give a meeting report?

[12:33:01.0000] <TabAtkins>
anne's there.

[12:46:00.0000] <jgraham>
Hixie: I listened to some of the audio and saw some of the Jabber

[12:46:01.0000] <jgraham>
But you might be better off waiting for Anne

[12:46:02.0000] <jgraham>
I think I missed most of the intersting bits

[13:30:00.0000] <jgraham>
"""in most languages, you have some sort of

[13:30:01.0000] <jgraham>
write() function call that takes a number of bytes to be written, as opposed to passing in a string, and so most implementers of

[13:30:02.0000] <jgraham>
the protocol would have to know the length of the data anyways."""

[13:30:03.0000] <jgraham>
Is that true?

[13:30:04.0000] <jgraham>
I mean obviously "most languages" is hard to quantify

[13:31:00.0000] <jgraham>
But I don't remember ever having to specify the number of bytes I wanted to output

[13:31:01.0000] <TabAtkins>
Yeah, that seems... completely false.

[13:31:02.0000] <TabAtkins>
You sometimes have to say how many bytes you want to *read*, but that's it.

[13:38:00.0000] <Philip`>
It's true if "most languages" is C/C++/Java

[13:39:00.0000] <Philip`>
Scripting languages tend to mix up byte-arrays and strings so it seems much more common for them to just dump a whole string onto the socket

[13:44:00.0000] <TabAtkins>
Indeed, but the popular languages on servers these days are all "scripting languages".

[13:44:01.0000] <TabAtkins>
PHP's socket_write, frex, *accepts* an optional length parameter, but if you don't specify it it just writes the string into the socket.

[13:45:00.0000] <mikekelly>
hi I have a question about <device>

[13:52:00.0000] <othermaciej>
Hixie: I'd certainly like to duck that issue if possible

[15:19:00.0000] <Hixie>
/me wonders where he put his getContext() notes

[15:19:01.0000] <jamesr>
canvas getContext()?

[15:21:00.0000] <Hixie>
yeah

[15:24:00.0000] <jamesr>
it should be async yaknow

[15:24:01.0000] <jamesr>
sucks to have to block script while you create the context

[15:24:02.0000] <jamesr>
especially for 3d where you might have to spin up graphics card drivers, etc, before you know if you can actually create the context

[15:27:00.0000] <Hixie>
jamesr: yeah well it's too late to change that

[15:29:00.0000] <Philip`>
It's not too late to make breaking changes to WebGL

[15:29:01.0000] <Philip`>
and a new getAsyncContext could be added for that

[15:29:02.0000] <Philip`>
if people really care

[15:29:03.0000] <Hixie>
or we could just get the context returned for webgl be something that stores calls until such time as it's ready

[15:30:00.0000] <jamesr>
you'd still have to block on anything that queries state

[15:31:00.0000] <jamesr>
actually that still doesn't work

[15:31:01.0000] <jamesr>
if context initialization fails you have no way to indicate that if you return a buffering context

[15:32:00.0000] <Hixie>
why would context initialization fail?

[15:33:00.0000] <TabAtkins>
getContext("doesNotExist")?

[15:33:01.0000] <Hixie>
that doesn't need to be async

[15:33:02.0000] <jamesr>
getContext("webgl") when the underlying system doesn't support webgl

[15:34:00.0000] <Hixie>
why would the underlying system not support webgl?

[15:34:01.0000] <jamesr>
for example if the system's graphics card drivers fail to initialize, what's the UA supposed to do?

[15:34:02.0000] <Hixie>
fake it?

[15:36:00.0000] <jamesr>
seems nicer to tell the page that it can't have a webgl context than to return a seemingly-valid context that actually does nothing

[15:36:01.0000] <othermaciej>
GL can be done with software rendering

[15:36:02.0000] <othermaciej>
so in some sense there is no such thing as "hardware that doesn't support it"

[15:36:03.0000] <othermaciej>
though software rendering could be unusably slow

[15:36:04.0000] <Hixie>
i mean fake it as in implement webgl slowly

[15:37:00.0000] <Hixie>
just not providing it seems like a useless failure condition

[15:37:01.0000] <Hixie>
no site is ever going to check for that

[15:37:02.0000] <Hixie>
so they'll just crash

[15:37:03.0000] <jamesr>
every webgl site i've ever visited checks for context creation

[15:37:04.0000] <othermaciej>
sites will only check for it if it occurs commonly enough for them to run into it

[15:37:05.0000] <jamesr>
since it commonly fails

[15:38:00.0000] <Hixie>
sure but it fails because browsers don't implement it, not because they don't have driver support

[15:38:01.0000] <TabAtkins>
It commonly fails *now*.  In the future it shoudln't.

[15:38:02.0000] <othermaciej>
right now sites have to test because no shipping browser supports WebGL on by default yet


2010-07-31
[04:42:00.0000] <annevk>
so only Mozilla has implemented ele.spellcheck and they do it as a boolean rather than enumerable attribute as the spec requires?

[04:42:01.0000] <jgraham>
annevk: Yes

[04:43:00.0000] <annevk>
I guess the spec wanted it to be in sync with .contentEditable

[04:43:01.0000] <jgraham>
hybi list fail - Thomas was blue not green. Henry was green. (and James was red)

[04:43:02.0000] <annevk>
maybe even on my request

[04:44:00.0000] <annevk>
jgraham, euh?!

[04:44:01.0000] <jgraham>
Yeah, I think the spec isn't going to happen

[04:45:00.0000] <jgraham>
annevk: Greg's extension of Hixie's transport analogy had a vehicle that is green, runs on rails, and answers to the name Thomas

[04:45:01.0000] <jgraham>
But Thomas was blue

[04:46:00.0000] <jgraham>
(possibly Thomas the Tank Engine is an Anglo-American curio)

[04:47:00.0000] <annevk>
Filed a bug on spellcheck.

[04:47:01.0000] <jgraham>
annevk: I already filed a bug indicating that throwing SYNTAX_ERR wasn't going to work

[05:25:00.0000] <MikeSmith>
annevk: I added an "HTML elements organized by function" section to the HtmlR doc -

[05:25:01.0000] <MikeSmith>
http://dev.w3.org/html5/markup/elements-by-function.html

[05:25:02.0000] <MikeSmith>
(I think you had suggested it should have one)

[06:04:00.0000] <annevk>
ah yeah

[06:04:01.0000] <erlehmann_>
annevk, I want to do some very light DOM manipulation in PHP and intend to use html5lib to get the DOM. Two question: First, is that a good choice? Second, what solution would you recommend to manipulate said DOM in PHP?

[06:04:02.0000] <annevk>
well, I suggested the main draft would be done in that way, but I suppose this works too

[06:04:03.0000] <annevk>
erlehmann_, I don't have experience with the PHP html5lib unfortunately

[06:05:00.0000] <annevk>
erlehmann, nor with PHP DOM manipulation :(

[06:05:01.0000] <annevk>
erlehmann, though overall that sounds like the best way if you plan on using PHP

[06:05:02.0000] <erlehmann>
just saw you as project owner on google code. that's the python part then, right?

[06:06:00.0000] <jgraham>
erlehmann: Well I think PHP isn't a good choice :)

[06:06:01.0000] <jgraham>
But if hat is a constraint then html5lib is a good choice for parsing the HTML 

[06:06:02.0000] <jgraham>
as long as speed is not your main concern

[06:07:00.0000] <jgraham>
gsnedders and ezyang were mainly responsible for the PHP verson

[06:07:01.0000] <erlehmann>
jgraham, i agree wholeheartedly. when i applied for an internship in early 2008 and they asked me if i knew PHP, i told them why i hate it.

[06:07:02.0000] <annevk>
erlehmann, oh, yeah, I did the original Python version in part way back though jgraham knows and did more :)

[06:07:03.0000] <erlehmann>
but right now i have a gsoc project to finish.

[06:08:00.0000] <erlehmann>
and since i am writing a wordpress plugin … well ;)

[06:08:01.0000] <jgraham>
Ah

[06:08:02.0000] <jgraham>
You chose the wrong problem

[06:08:03.0000] <jgraham>
:)

[06:09:00.0000] <jgraham>
It is at least worth trying using PHP html5lib

[06:09:01.0000] <erlehmann>
probably. but all my friends are using wordpress.

[06:09:02.0000] <erlehmann>
and me too. though i will look into habari Really Soon Now [TM]

[06:10:00.0000] <jgraham>
That's PHP too, right?

[06:10:01.0000] <erlehmann>
yeah. i should probably bully my hoster into getting me some WSGI goodness so i can install a python-based imageboard instead of my boring old blog.

[06:13:00.0000] <erlehmann>
i'll look if PHP Simple HTML DOM Parser does it for me. i do not have that many edge cases and it looks nice and usable.

[07:17:00.0000] <gsnedders>
The PHP html5lib is really quite out of date

[07:17:01.0000] <gsnedders>
There's access to the libxml HTML parser from the DOM extension

[12:11:00.0000] <Hixie>
jgraham: yeah i considered saying gordon was green and thomas wasn't an eletric locomotive, but i figured that was maybe being pedantic about hte wrong thing :-)

[12:12:00.0000] <Hixie>
wait, gordon was blue

[12:12:01.0000] <Hixie>
man it's been too long

[12:12:02.0000] <Hixie>
(or possibly not long enough)

[12:13:00.0000] <Workshiva>
The former

[12:13:01.0000] <annevk5>
now you mention trains, apparently there's a Marklin shop here in Utrecht

[12:13:02.0000] <Workshiva>
Thomas is awesome

[12:13:03.0000] <annevk5>
thought of your train set when I saw that :)

[12:14:00.0000] <Hixie>
:-)

[12:19:00.0000] <jgraham>
gordon was indeed blue

[12:19:01.0000] <Workshiva>
Gordon was the fat Thomas

[12:19:02.0000] <Workshiva>
That's how I always thought of him

[12:20:00.0000] <Hixie>
thomas was a switcher, gordon was for long haul... though i don't think the people who wrote the stories understood the difference

[12:21:00.0000] <Lachy>
Percy was the green one.

[12:22:00.0000] <gsnedders>
/me finally realizes what you're on about

[12:22:01.0000] <gsnedders>
Oh man… Bunch of kids.

[12:24:00.0000] <Workshiva>
Yeah, that hurts bad coming from you

[12:27:00.0000] <jgraham>
Heh, I see that I didn't make abarth's list of people from browser vendors who are worth listening to

[12:27:01.0000] <jgraham>
I guess I should try harder or something

[12:28:00.0000] <Workshiva>
Maybe he doesn't know you're from a browser vendor

[12:28:01.0000] <jgraham>
I suppose that is possible

[12:29:00.0000] <jgraham>
But it seems unlikely

[12:31:00.0000] <Philip`>
jgraham: The list was only a "for example", and looks like it's intentionally listing one person per browser vendor

[12:32:00.0000] <gsnedders>
Hixie: How does you writing a separate Web Sockets spec to the IETF one help? Would you keep writing your spec if browser buy-in stuck with the IETF branch?

[12:33:00.0000] <Hixie>
gsnedders: no, if browsers aren't on board it's like with websql, i'd stop editing

[12:33:01.0000] <gsnedders>
Hixie: That wasn't quite clear on the list.

[12:34:00.0000] <Hixie>
well if i didn't i'd just be writing pointless fiction that didn't affect anyone anyway

[12:34:01.0000] <Hixie>
so it's rather moot

[12:37:00.0000] <jgraham>
Philip`: But I want to be important :p

[12:38:00.0000] <Workshiva>
jgraham: Clearly you need to eliminate the Opera employees before you in the ranking

[12:38:01.0000] <Workshiva>
That way you end up on the next list

[12:39:00.0000] <Philip`>
jgraham: You could be just a smidgen behind annevk5 on the perceived importance scale

[12:39:01.0000] <Philip`>
Or you could be right at the bottom

[12:40:00.0000] <Philip`>
so you should eliminate every single Opera employee, just to be sure

[12:40:01.0000] <jgraham>
Hmm

[12:41:00.0000] <jgraham>
How to kill the dutch?

[12:41:01.0000] <Hixie>
you'd be pretty important if you went on a rampaging homocide stream, but i'd urge you to consider if that's the right kind of importance for you

[12:41:02.0000] <jgraham>
Maybe make a series of tiny holes in their levees

[12:41:03.0000] <Hixie>
streak, even

[12:41:04.0000] <Workshiva>
You could crash the tulip market

[12:45:00.0000] <jgraham>
All of this sounds like too much effort really

[12:45:01.0000] <annevk5>
clearly abarth should be arrested for inciting violence

[12:46:00.0000] <jgraham>
I think I will just have to develop a zen-like perspective on my own insignificance

[12:48:00.0000] <annevk5>
is this my cue for saying you're not? or something? ;p

[12:48:01.0000] <jgraham>
No

[12:48:02.0000] <jgraham>
I am developing an indifference to it, remember

[12:48:03.0000] <jgraham>
If you say I'm not it will only confuse and upset me

[12:49:00.0000] <jgraham>
So I might go back to plotting to kill the Dutch

[12:49:01.0000] <annevk5>
I think I stand by my original statement

[12:58:00.0000] <jgraham>
I had forgotten about Percy

[12:59:00.0000] <jgraham>
Is it me or does Sordor sound uncomfortably like Mordor

[13:00:00.0000] <jgraham>
I would never have liked Thomas The Tank Engine so much if I had thought he was mainly carrying Orcs

[13:00:01.0000] <jgraham>
s/Sordor/Sodor/

[13:00:02.0000] <jgraham>
Which I guess makes a difference

[13:01:00.0000] <jgraham>
But still

[13:21:00.0000] <gsnedders>
Time to make me hate zcorpan again, and bring PHP html5lib up to date

[13:24:00.0000] <gsnedders>
Uh, the Python tests don't run for me

[13:25:00.0000] <gsnedders>
jgraham: You broke running tests with UTF-16 Python

[13:38:00.0000] <jgraham>
gsnedders: Ah, I think I expected that

[13:38:01.0000] <jgraham>
I may even have mentioned it in the commit log

[13:38:02.0000] <jgraham>
But I had no easy way to test

[13:39:00.0000] <jgraham>
gsnedders: (that is a lame excuse, yes, but I didn't really have time to fix it then)

[13:40:00.0000] <jgraham>
gsnedders: http://code.google.com/p/html5lib/source/detail?r=964568c175092c45156fe5a32a211e0d5d3781d8

[13:40:01.0000] <jgraham>
Probably

[13:40:02.0000] <gsnedders>
jgraham: There's lots of breakage, not just that

[13:41:00.0000] <jgraham>
Oh

[13:41:01.0000] <gsnedders>
Like, creating http://code.google.com/p/html5lib/source/detail?r=964568c175092c45156fe5a32a211e0d5d3781d8

[13:41:02.0000] <gsnedders>
Um, wrong clipboard

[13:41:03.0000] <gsnedders>
encode_entity_map

[13:41:04.0000] <gsnedders>
That throws an exception. :)

[13:42:00.0000] <gsnedders>
Which means import html5lib fails :)

[13:42:01.0000] <jgraham>
gsnedders: That has nothing to do with me

[13:42:02.0000] <jgraham>
Possibly

[13:42:03.0000] <jgraham>
Unless it was adding more entities that broke it

[13:42:04.0000] <jgraham>
Which is just silly

[13:44:00.0000] <gsnedders>
Adding non-BMP entities for the first time would

[13:44:01.0000] <gsnedders>
Now, to actually get tests passing instead of merely running

[14:00:00.0000] <gsnedders>
Huh, now I really don't get what's going on.

[14:00:01.0000] <gsnedders>
I appear to be hitting a data corruption bug in Python

[14:02:00.0000] <gsnedders>
Hah. This is awesome.

[14:03:00.0000] <gsnedders>
Negative lookbehind assertion in regexp causing data corruption.

[14:04:00.0000] <Philip`>
Got a test case?

[14:05:00.0000] <gsnedders>
Oh, no

[14:05:01.0000] <gsnedders>
I see what's going on

[14:06:00.0000] <gsnedders>
Hah, that is evil.

[14:06:01.0000] <gsnedders>
I can't write code.

[14:07:00.0000] <gsnedders>
Also: I just introduced a bug without breaking any tests.

[14:07:01.0000] <gsnedders>
We need more tests.

[14:08:00.0000] <jgraham>
What bug?

[14:10:00.0000] <gsnedders>
Stripping lone surrogate bytes would also strip the byte where the other half of the surrogate should be

[14:10:01.0000] <jgraham>
You would always remove two bytes rather than one?

[14:12:00.0000] <gsnedders>
Four bytes, two characters.

[14:12:01.0000] <jgraham>
So a test with {lone surrogate}{other} -> {replacemnt}{other} would be sufficient to test it

[14:13:00.0000] <gsnedders>
Yeah, I've added that

[14:13:01.0000] <gsnedders>
https://code.google.com/p/html5lib/source/detail?r=46df29539c714df260a18f280dfeaf96e7af62c5

[14:13:02.0000] <jgraham>
Hah, byte counting fail :)

[14:15:00.0000] <gsnedders>
I haven't tested on UCS4, but I've made no change to the code it uses effectively

[14:15:01.0000] <gsnedders>
/me wonders where his UCS4 build is

[14:15:02.0000] <jgraham>
gsnedders: I'm glad it was clear how I intended it to be patched for the UCS2 case :)

[14:16:00.0000] <jgraham>
gsnedders: Why remove the null from the regexp?

[14:16:01.0000] <jgraham>
Surely it is faster with it in?

[14:17:00.0000] <gsnedders>
More common code.

[14:17:01.0000] <jgraham>
Also, your patch is wrong

[14:17:02.0000] <gsnedders>
How?

[14:17:03.0000] <jgraham>
It doesn't take account of lone surrogates at the end of chunks

[14:18:00.0000] <gsnedders>
That's not a new issue

[14:19:00.0000] <jgraham>
Isn't it?

[14:19:01.0000] <gsnedders>
Well, we at least throw parse errors in that case

[14:19:02.0000] <gsnedders>
So it would fail tokenizer tests for that

[14:20:00.0000] <jgraham>
Can you actually end up with a non-lone surrogate at the end of the chunk in the UCS4 case?

[14:21:00.0000] <jgraham>
i.e. can you actually split the surrogate pair?

[14:22:00.0000] <jgraham>
It depends if we are reading bytes or characters

[14:22:01.0000] <gsnedders>
In the UCS4 case? No, you can never have a valid surrogate.

[14:23:00.0000] <gsnedders>
In the UCS2 case? Sure.

[14:23:01.0000] <jgraham>
Right, so we don't have the bug in the UCS4 case

[14:24:00.0000] <jgraham>
So the UCS2 patch is wrong in the sense that it misses a case that the UCS4 code covers

[14:25:00.0000] <gsnedders>
Indeed

[14:25:01.0000] <gsnedders>
But the UCS2 behaviour is already wrong in that case

[14:25:02.0000] <gsnedders>
And I've not made it any worse than it was before

[14:25:03.0000] <jgraham>
Agreed

[14:25:04.0000] <jgraham>
But the patch is still wrong :)

[14:25:05.0000] <gsnedders>
The patch is right, just incomplete. ;P

[14:25:06.0000] <jgraham>
However you want to think of it

[14:26:00.0000] <jgraham>
(it seems like since you are fixing it now, this would be a good time to make it right because otherwise we will have a subtle bug that will almost never happen but be reasonably surprising when it does)

[14:28:00.0000] <jgraham>
(you need to do roughly the same thing as the CR thing

[14:29:00.0000] <jgraham>
but bonus points for making it not that ugly)

[14:30:00.0000] <gsnedders>
It's harder than the CR thing

[14:30:01.0000] <gsnedders>
the CR thing is easy because you can just convert it to \n and ignore a LF in the next chunk

[14:31:00.0000] <gsnedders>
In this case you can't known what the right behaviour is until you get the next chunk… if there is a next chunk.

[14:35:00.0000] <Philip`>
Can you just stick the character onto the front of the next chunk?

[14:35:01.0000] <jgraham>
That might work

[14:35:02.0000] <Philip`>
or, uh, something like that

[14:35:03.0000] <Philip`>
/me has no idea how the code works really

[14:35:04.0000] <gsnedders>
Philip`: What if there's no next chunk?

[14:36:00.0000] <gsnedders>
(That's the problem with that solution)

[14:36:01.0000] <jgraham>
gsnedders: You just make sure that having a character in the unget buffer menas there is a next chunk

[14:37:00.0000] <jgraham>
Which I think is straightforward with the current code

[14:40:00.0000] <jgraham>
(just do data = self._danglingCharacter + self.dataStream.read(chunkSize)

[14:41:00.0000] <jgraham>
and then if some_regexp.match(data[-1]): self._danglingCharacter = data[-1]; data = data[:-1]; else: self._danglingCharacter = ""

[14:41:01.0000] <jgraham>
)

[14:41:02.0000] <jgraham>
or something

[14:42:00.0000] <jgraham>
There's not even any need for a regexp

[14:43:00.0000] <jgraham>
(just use ord)

[14:44:00.0000] <gsnedders>
jgraham: I don't get how to use the unget buffer for that

[14:44:01.0000] <gsnedders>
With how unget works, that is

[14:46:00.0000] <gsnedders>
Like, there is no buffer for unget

[14:46:01.0000] <jgraham>
gsnedders: I mean you have to create one

[14:46:02.0000] <jgraham>
that's self._danglingCharacter above

[14:47:00.0000] <jgraham>
Sorry, I don't think I was very clear

[14:48:00.0000] <gsnedders>
Really you're still not :)

[14:49:00.0000] <jgraham>
gsnedders: All I'm saying is

[14:50:00.0000] <jgraham>
If the last character is a \r or an unpaired surrogate, make a property that points to that character and slice it off the end of the chunk

[14:50:01.0000] <jgraham>
The next time we go to get a chunk, add it on the start

[14:51:00.0000] <jgraham>
this is sure to work because the signal for "we don't need no more chunks" is that readChunk returns nothing

[14:51:01.0000] <jgraham>
So there is a cost of one more cycle through readChunk if this is the last chunk

[14:52:00.0000] <jgraham>
but that isn't very common so it can be slow

[14:52:01.0000] <jgraham>
(we need to make sure we still do the right thing in that case of course)

[14:53:00.0000] <jgraham>
Then the only special magic we need is to make sure we detect when the last character is special and save it for next time

[14:53:01.0000] <jgraham>
Is that clearer, or am I talking nonsense?

[14:58:00.0000] <gsnedders>
That's clear

[15:00:00.0000] <jgraham>
I guess one special case is if the document is _only_ a \r character

[15:00:01.0000] <jgraham>
then you save the character but get an empty chunk back

[15:01:00.0000] <jgraham>
But you can probably deal with that where readChunk is called, or something

[15:04:00.0000] <jgraham>
Or in readchunk I guess

[15:04:01.0000] <jgraham>
Just by checking if length > 1 before you slice anything of

[15:04:02.0000] <jgraham>
f

[15:04:03.0000] <jgraham>
Which seems much simpler

