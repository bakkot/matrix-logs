2013-03-01
[16:00:14.0000] <Hixie>
where "back up" will mean that the same condition (A, B, etc) will be true again when you go to mode 2, and otherwise it's the next character that's processed

[17:01:44.0000] <TabAtkins>
Well, the two as you wrote them out aren't equivalent, since A will mean that Y gets done twice...

[17:14:54.0000] <jamesr>
Hixie, the as-if clause means that defining an inefficient algorithm in a spec isn't a problem

[17:15:04.0000] <jamesr>
assuming that the same results can be reached by a more efficient algorithm

[17:15:07.0000] <jamesr>
and spec implementors realize this fact

[17:15:50.0000] <jamesr>
but it sounds like your problem is figuring out what behavior you actually want

[00:41:37.0000] <hsivonen>
when has Web Sockets been changed incompatible for the last time? Are more incompatible changes coming up? which browsers implement the spec?

[00:41:49.0000] <hsivonen>
Is Safari still on an ancient version?

[00:44:33.0000] <jgraham>
hsivonen: AFAIK there aren't incompatible changes planned

[00:44:40.0000] <jgraham>
At least it has an RFC now

[00:45:16.0000] <jgraham>
I don't exactly know which browsers implement the spec, but it should be easy to test

[00:45:41.0000] <jgraham>
http://autobahn.ws/testsuite tests the protocol layer

[00:46:22.0000] <hsivonen>
https://developer.mozilla.org/en-US/docs/WebSockets says all browsers implement the RFC in the  latest releases

[00:47:28.0000] <jgraham>
http://w3c-test.org/webapps/WebSockets/tests/ has API tests; the Microsoft ones aren't that great and the Opera ones aren't all converted to testharness yet

[00:47:46.0000] <jgraham>
But happily I don't have anything better to do at the weekend

[00:47:59.0000] <jgraham>
Scare quotes implied

[00:48:57.0000] <jgraham>
(on the subject of which, is there a sync way to perform a request that will (un)set a cookie?)

[00:48:59.0000] <hsivonen>
I find it fascinating that someone wants to use a non-standard Gecko-specific feature but is not OK with using Web Socket, because it is in "BETA"

[00:49:18.0000] <jgraham>
hsivonen: huh?

[00:50:33.0000] <hsivonen>
jgraham: you encounter interesting people when trying to remove engine-specific features that have bad maintainability characteristics

[00:50:51.0000] <annevk>
jgraham: we're trying to remove Gecko XMLHttpRequest multipart

[00:51:10.0000] <annevk>
/me goes to work

[00:51:10.0000] <hsivonen>
I'm sure the move to WebKit will result in people with Opera-dependent intranets complaining

[00:51:56.0000] <zcorpan>
/me is officially back in business

[00:52:06.0000] <jgraham>
Yay!

[00:53:01.0000] <jgraham>
/me has never actually heard of an Opera-dependent intranet

[00:53:24.0000] <jgraham>
Of course, there's lots of things that I haven't heard of that nevertheless exist‚Ä¶

[00:55:10.0000] <hsivonen>
jgraham: and for all those years chaals always got upset when something I said had a slighly intranet-dismissive sentiment

[00:55:10.0000] <jgraham>
zcorpan: I don't suppose that means that you have time to release (y)our postMessage tests? ;)

[00:55:44.0000] <hsivonen>
jgraham: anyway, I wasn't aware that someone would have an intranet app dependent on an encoding label not supported by IE

[00:55:55.0000] <zcorpan>
jgraham: i'd like to get things set up on my new laptop first

[00:56:54.0000] <jgraham>
zcorpan: Sure :) I just did a double take the other day when I realised they had never been released. If you don't get around to it I'm sure I will one of these days

[00:57:18.0000] <jgraham>
hsivonen: Maybe Charles knows things I don't know?

[00:57:25.0000] <zcorpan>
nice

[00:58:31.0000] <marcosc>
/me chuckles at "Opera-dependent intranets"... but who knows... 

[00:59:13.0000] <jgraham>
To be fair, I'm sure there exist presto-dependent non-web environments

[00:59:58.0000] <marcosc>
I was thinking there was probably some, maybe in the countries where Opera has a high uptake

[01:00:23.0000] <marcosc>
I remember when I was at Opera, the time tracking application would only work well with FireFox for a while :)

[01:00:47.0000] <jgraham>
"work well"

[01:01:13.0000] <marcosc>
jgraham: you no like how I talks? :)

[01:01:37.0000] <jgraham>
I dislike your attention to scare quotes

[01:01:55.0000] <marcosc>
fair enough

[01:07:43.0000] <hsivonen>
pretty cool how video stuff can work with FourCCs instead of namespace URIs

[01:08:16.0000] <hsivonen>
I wonder if there's a mapping from FourCCs to RDF URIs. You know, to make them less prone to collision.

[01:10:08.0000] <othermaciej>
http://www.fourcc.org/namespace/four-character-code/D/A/V/C would clearly be superior to 'DAVC'

[01:10:39.0000] <hsivonen>
othermaciej: no year in URI!!!

[01:12:24.0000] <othermaciej>
pardon, http://www.fourcc.org/namespace/1984/four-character-code/D/A/V/C

[01:17:21.0000] <jgraham>
Hmm, "1984" in a video codec namespace URI makes me think of "video watches you" type jokes

[01:18:46.0000] <Philip`>
That'd be good since you could easily extend it to http://www.fourcc.org/namespace/1984/five-character-code/D/A/V/C/E etc if you start running out of four-character strings

[01:20:22.0000] <Philip`>
(Obviously fivecc.org would have been registered by some domain parking spammer so it'd be best to stick with the old domain)

[01:22:16.0000] <jgraham>
(and updating the year would just cause confusion)

[01:23:54.0000] <hsivonen>
I bet there's text/html where the year in xmlns has been updated to the year of document authoring

[01:24:51.0000] <annevk>
Resource with origin A initiates a request to another resource on origin A. That redirects to B. What is the value of the Origin header?

[01:25:19.0000] <Philip`>
http://devfiles.myopera.com/articles/591/nsnamelist-url.htm has some http://www.w3.org/2006/xhtml

[01:25:30.0000] <Philip`>
Also some http://www.w3.org/1999/xphp

[01:28:58.0000] <othermaciej>
annevk: surely the Origin should be A?

[01:29:15.0000] <othermaciej>
(not sure why that case would be ambiguous)

[01:29:20.0000] <annevk>
othermaciej: but if B redirects to C it should be "null"

[01:29:46.0000] <annevk>
othermaciej: but yeah, the origin didn't change, so it can remain the same

[01:29:50.0000] <annevk>
my bad

[01:30:43.0000] <othermaciej>
where is the Origin header spec'd, officially?

[01:31:59.0000] <othermaciej>
is CORS the only spec? has the idea of sending Origin more widely than that been abandoned?

[01:33:05.0000] <annevk>
 https://tools.ietf.org/html/rfc6454 and HTML and CORS both define the requirements.

[01:33:36.0000] <annevk>
My plan is to write Fetch which takes everything from CORS and HTML and will handle all those networking requirements. Well, at least those related to fetching resources.

[01:33:42.0000] <othermaciej>
for some reason I was only able to find the Internet-Draft, not the RFC

[01:35:38.0000] <annevk>
It's actually not a plan anymore, I'm writing a draft...

[01:37:14.0000] <jgraham>
Still kind of a plan unless you have actually achieved all the listed goals

[01:38:20.0000] <annevk>
Ah yeah, that is still the plan. But I'm a bit further than planning.

[02:17:48.0000] <MikeSmith>
jgraham: those websockets binary/ tests fail for me in Chrome

[02:17:57.0000] <MikeSmith>
though they pass everywhere else

[02:18:04.0000] <MikeSmith>
well except I don't know about IE

[02:18:28.0000] <MikeSmith>
but maybe they are failing for Ken in IE for the same reason they fail for me in Chrome

[02:18:42.0000] <MikeSmith>
oh wait

[02:18:45.0000] <MikeSmith>
weired

[02:19:16.0000] <MikeSmith>
nm

[02:19:37.0000] <MikeSmith>
they fail for me in Chromium that I built myself

[02:20:04.0000] <MikeSmith>
but they pass in Canary

[02:20:32.0000] <MikeSmith>
so I guess there's just something wrong in my build

[02:24:18.0000] <jgraham>
MikeSmith: WFM in chrome

[02:24:30.0000] <MikeSmith>
yeah

[02:25:48.0000] <MikeSmith>
I guess I should test stuff first in browsers I haven't made hacks to

[02:26:54.0000] <jgraham>
That sounds very boring

[02:27:25.0000] <MikeSmith>
I need a personal bug tracker

[02:27:29.0000] <zcorpan_>
so mountain lion should have hg preinstalled? -bash: hg: command not found

[02:27:41.0000] <MikeSmith>
so I can harrass myself with bug reports

[02:27:58.0000] <MikeSmith>
zcorpan_: I think it has git but not hg

[02:28:05.0000] <annevk>
zcorpan_: I don't think so... Not even with XCode afaik

[02:28:13.0000] <MikeSmith>
yeah

[02:28:14.0000] <annevk>
oh, Xcode

[02:28:22.0000] <zcorpan_>
ok

[02:31:39.0000] <MikeSmith>
man this is weird, the error I'm getting is "SyntaxError: DOM Exception 12(stack: Error: An invalid or illegal string was specified. at Object.<anonymous> (file:///opt/workspace/webapps/WebSockets/tests/submissions/Opera/binary/002.html:9:12"

[02:33:21.0000] <MikeSmith>
002.html:9:12 is the word "new"

[02:35:31.0000] <zcorpan_>
for html5lib should i clone and run `python setup.py develop` or just `python setup.py`?

[02:35:54.0000] <Ms2ger>
gsnedders, ^

[02:44:05.0000] <MikeSmith>
oh I didn't realize John Luther came from On2

[02:44:13.0000] <MikeSmith>
makes sense

[02:44:58.0000] <MikeSmith>
WebM/VP8|9 PM at Google

[03:06:02.0000] <annevk>
I like this: https://twitter.com/joeyheflich/status/307224956050235394

[03:27:46.0000] <zcorpan>
ok looks like i've got anolis running now. time for lunch

[03:29:43.0000] <MikeSmith>
why are "

[03:30:26.0000] <MikeSmith>
why are "x-dns-prefetch-control" and "X-UA-Compatible" listed on http://wiki.whatwg.org/wiki/PragmaExtensions ?

[03:30:52.0000] <MikeSmith>
the spec says "Such extensions must use a name that is identical to an HTTP header registered in the Permanent Message Header Field Registry"

[03:34:59.0000] <annevk>
because where else would we register such things?

[03:37:48.0000] <MikeSmith>
somewhere other than there

[03:38:23.0000] <MikeSmith>
because if you put them there, people file bugs asking to have them supported in the validator

[03:38:49.0000] <MikeSmith>
but we can't support those because they're not in the Permanent Message Header Field registry

[03:47:34.0000] <jgraham>
zcorpan: with "develop" you will get the fiels left in place, without "develop" it will move the files to the relevant site-packages directory

[03:50:02.0000] <jgraham>
*files

[03:57:14.0000] <annevk>
MikeSmith: so I think we should split that table then into proposed and allowed

[03:57:29.0000] <annevk>
MikeSmith: I can do that if you want

[03:57:41.0000] <MikeSmith>
annevk: nah I can

[03:57:43.0000] <MikeSmith>
will do right now

[03:58:06.0000] <annevk>
MikeSmith: long term Hixie will fix this once he sorts out a plan to do extensions

[03:58:15.0000] <MikeSmith>
ok

[04:28:11.0000] <annevk>
It's so annoying that HTTP headers have no canonical concept

[04:48:34.0000] <zcorpan>
anyone have a clue what https://www.w3.org/Bugs/Public/show_bug.cgi?id=20293 is about?

[04:49:18.0000] <Ms2ger>
Hixie, I hope

[04:52:19.0000] <zcorpan>
Hixie: ^

[04:54:54.0000] <annevk>
sounds like an interesting bug

[05:05:34.0000] <zcorpan>
"there's a quirk for <font face="Wingdings">J</font> which does not exist for <span style="font-family: Wingdings">J</span>" https://bugzilla.mozilla.org/show_bug.cgi?id=450723#c4

[05:06:19.0000] <zcorpan>
can't reproduce though (on a windows laptop with wingdings installed)

[05:06:50.0000] <wilhelm>
OK, that quirk is wonderful.

[05:07:01.0000] <wilhelm>
J is the smiley, often used by Outlook.

[05:07:02.0000] <zcorpan>
ah the same comment says the quirk is busted on trunk

[05:08:55.0000] <jgraham>
Now I feel old

[05:09:03.0000] <jgraham>
I remember bug 90643 from 2001

[05:09:21.0000] <Ms2ger>
Well, on trunk from 2008

[05:11:50.0000] <zcorpan>
yeah. it'd explain why i can't reproduce it now

[05:12:16.0000] <jgraham>
(or at least I remember some bug about that behaviour, although in my mind there were a lot more upset people)

[05:19:47.0000] <MikeSmith>
jgraham: so can I get a critic review set up for https://github.com/w3c/html-testsuite/pull/21 and https://github.com/w3c/html-testsuite/pull/18 ?

[05:20:20.0000] <MikeSmith>
oh wait Ms2ger is already review https://github.com/w3c/html-testsuite/pull/18

[05:20:31.0000] <Ms2ger>
Part of it

[05:20:44.0000] <Ms2ger>
If someone want to beat me to continuing the review, please do :)

[05:21:10.0000] <jgraham>
MikeSmith: Sure, but I can't sync the comments

[05:21:14.0000] <jgraham>
(yet)

[05:21:19.0000] <MikeSmith>
I'll try to do 21 first

[05:21:44.0000] <MikeSmith>
jgraham: no problem because there are not technical comments for it yet anyway

[05:22:46.0000] <MikeSmith>
there was one from Ms2ger but I think Dzenana already responded to it with an updated diff

[05:23:18.0000] <jgraham>
MikeSmith: OK, well set yourself up with a filter for the html-testsuite repo at http://critic.hoppipolla.co.uk/ (bottom of the homepage, select the repo in the dropdown, add / as the path and click save)

[05:23:28.0000] <jgraham>
Then close and reopen the pull request

[05:23:59.0000] <jgraham>
That critic doesn't send email yet

[05:24:17.0000] <jgraham>
But if it did it would ten email you and tell you that it has a new review

[05:24:26.0000] <MikeSmith>
ok

[05:24:28.0000] <jgraham>
and it will appear on your dashboard

[05:25:51.0000] <jgraham>
darobin: Did I already point out http://critic.hoppipolla.co.uk/r/8 to you?

[05:25:59.0000] <jgraham>
Oh I think I mentioned it in the PR

[05:26:10.0000] <jgraham>
So never mind me

[05:26:30.0000] <darobin>
jgraham: you did yes, sorry, putting out other fires ‚Äî will get to it shortly

[05:26:36.0000] <MikeSmith>
jgraham: do I did all those steps but my dashboard says "No reviews!"

[05:27:31.0000] <Ms2ger>
MikeSmith, now click the link again

[05:28:05.0000] <MikeSmith>
Ms2ger: which link? close/reopen?

[05:28:07.0000] <zewt>
... no pointer-events in IE10? seriously?

[05:28:35.0000] <jgraham>
MikeSmith: Hmm, I am getting an error message from git

[05:28:43.0000] <Ms2ger>
MikeSmith, I'm confused, nvm me :)

[05:29:19.0000] <jgraham>
pre-recieve hook declined

[05:29:45.0000] <Ms2ger>
/me tries to break critic

[05:29:50.0000] <Ms2ger>
http://critic.hoppipolla.co.uk/r/%C3%A7

[05:29:55.0000] <Ms2ger>
"Got 'id=ÔøΩ', expected expected integer."

[05:34:32.0000] <jgraham>
MikeSmith: Will need to investigate further later

[05:39:18.0000] <MikeSmith>
jgraham: ok, no worries

[05:39:59.0000] <MikeSmith>
it's Friday night here and getting close to drinking time so I'm not going to be doing any reviewing today anyway

[06:39:23.0000] <hsivonen>
annevk: is suggesting comma-separated values in Access-Control-Allow-Origin correct in https://bugzilla.mozilla.org/show_bug.cgi?id=845789 ?

[06:41:23.0000] <annevk>
hsivonen: the spec only accepts a single value

[06:42:19.0000] <annevk>
hsivonen: somewhat related, http://lists.w3.org/Archives/Public/www-archive/2013Feb/0093.html suggests Firefox has a fundamental bug in header parsing

[06:42:47.0000] <Ms2ger>
I bet we do

[06:42:48.0000] <annevk>
X: TEST CRLF X: TEST and X: TEST, TEST are supposed to be equivalent

[06:43:32.0000] <annevk>
Of course those rules do not work for cookies so...

[06:46:29.0000] <annevk>
hsivonen: added a comment

[06:55:33.0000] <hsivonen>
annevk: thanks

[06:56:10.0000] <hsivonen>
(I was unaware that we had a YSoD equivalent for HTTP header violations)

[07:18:23.0000] <zcorpan>
jgraham: what't the situation with testcases? are they on github now? should i move https://dvcs.w3.org/hg/quirks-mode to github?

[07:18:45.0000] <jgraham>
zcorpan: HTML testcases are on github

[07:19:01.0000] <zcorpan>
ok

[07:19:03.0000] <jgraham>
The plan is to add other testcases to github in the same repo

[07:19:15.0000] <jgraham>
But webapps needs some convincing

[07:19:28.0000] <jgraham>
We will end up with something like web-platform-tests

[07:19:45.0000] <zcorpan>
i guess i'll wait a bit with the quirks tests

[07:21:37.0000] <jgraham>
Yeah I don't really know if you should just dump them in the html-testsuite repo or create a new one

[07:21:47.0000] <Ms2ger>
Dump them, IMO

[07:31:49.0000] <zewt>
one of the more hilarious UI errors: hitting ^R in IE9's console, instead of reloading like everything in the world, asks if you want to clear your browser cache

[07:44:48.0000] <annevk>
hsivonen: CORS has such requirements

[07:44:57.0000] <annevk>
hsivonen: I didn't know we also applied it to Location though...

[08:01:14.0000] <hsivonen>
/me wonders how long until a reference to w3c-css-wg on w3cmemes

[08:03:34.0000] <zcorpan>
Zarro Quirks Boogs

[08:04:07.0000] <jgraham>
hsivonen: w3c-css-wg

[08:04:08.0000] <jgraham>
?

[08:05:18.0000] <hsivonen>
jgraham: read forward from https://lists.w3.org/Archives/Member/w3c-css-wg/2013JanMar/0211.html or backward from https://lists.w3.org/Archives/Member/w3c-css-wg/2013JanMar/0241.html

[08:09:05.0000] <zcorpan>
wat? http://www.w3.org/TR/2013/WD-xhtml-pubid-20130228/

[08:10:14.0000] <annevk>
lol

[08:10:36.0000] <annevk>
I thought the TAG was somewhat odd

[08:15:15.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2125 - unsurprisingly, opera/firefox/chrome don't support that FPI

[08:26:27.0000] <annevk>
HTTP is so sucky

[08:26:43.0000] <annevk>
it's all bytes but everyone talks about as if it's strings

[08:27:22.0000] <annevk>
so how can a spec clearly talk about this?

[08:28:15.0000] <annevk>
E.g. in http://www.w3.org/TR/2013/CR-cors-20130129/#preflight-request (using this link for stable reference) it talks about ASCII lowercasing header field names, but the ASCII lowercasing is a string operation

[08:28:22.0000] <annevk>
so it's wrong

[08:28:31.0000] <SimonSapin>
annevk: WSGI (the Python thing to turn HTTP into a calling convention) uses latin-1

[08:29:07.0000] <annevk>
SimonSapin: and throws for non latin-1 input?

[08:29:33.0000] <annevk>
SimonSapin: but sure, you can do some conversion things at the edges and have input control, but it's not entirely clear what the right approach is

[08:29:46.0000] <SimonSapin>
that is, some headers are represented as Unicoded string decoded from the wire as latin-1. (That is, real ISO-8851-1 where each byte is decoded as a code point of the same value)

[08:30:21.0000] <SimonSapin>
often the actual encoding is something else, so frameworks encode back to bytes and decode again

[08:31:17.0000] <annevk>
lends more credence to the HTTP is a fricking mess meme

[08:42:23.0000] <annevk>
but I guess there's like two people in the world that care about this :-(

[08:47:52.0000] <annevk>
tentative plan, since it's mostly strings that look like bytes, I'll write them out as strings without " and "

[08:47:58.0000] <annevk>
and use stuff like "byte lowercased"

[08:48:15.0000] <SimonSapin>
annevk: Even if you care, I guess the cost of switch is much higher than the benefits of nice byte/character separation

[08:48:18.0000] <annevk>
and hope I'm the only one that thinks of the annoying questions

[08:48:47.0000] <annevk>
SimonSapin: it's not so much the switch as security implications and interoperability considerations in general

[09:03:43.0000] <dglazkov>
good morning, Whatwg!

[10:02:21.0000] <Ms2ger>
jsbell, thanks for those fixes; I'll try to review them soon :)

[10:02:45.0000] <Ms2ger>
/me adds that to the end of his todo list

[10:08:06.0000] <jsbell>
Ms2ger: Thank you!

[10:41:15.0000] <aklein>
Hixie: interested in your thoughts on http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Feb/0189.html (I probably wrote too much in the original email...)

[10:51:45.0000] <TabAtkins>
Is there any good way to expose in IDL that some interface's attributes should all be iterable?

[10:52:09.0000] <TabAtkins>
Context: For CSS Variables, I hang a "var" object off of style that contains only the custom properties.  It's useful to be able to iterate over that.

[10:52:31.0000] <TabAtkins>
You can do a for-in loop, but being able to forEach() it would be good too.

[10:53:55.0000] <TabAtkins>
Also: am I right that you can for-in something that uses named getters/setters to expose all of its properties?

[10:59:30.0000] <Ms2ger>
Yes

[10:59:57.0000] <Ms2ger>
for of should work if you have indexed properties

[11:01:46.0000] <TabAtkins>
Also for named?

[11:01:52.0000] <TabAtkins>
(indexed is only numbered stuff)

[11:02:33.0000] <Ms2ger>
No, but I'm not sure you'd want that

[11:02:52.0000] <TabAtkins>
How else do you iterate over an unknown collection of things?

[11:03:07.0000] <TabAtkins>
Such as "all the custom properties on this element"?

[11:03:09.0000] <Ms2ger>
Well, what would you want to iterate over?

[11:03:24.0000] <Ms2ger>
I mean, having just the values and not the keys doesn't seem useful

[11:03:38.0000] <TabAtkins>
Wait, what?  for-in exposes the keys.

[11:03:43.0000] <Ms2ger>
Yeah, for in does

[11:03:44.0000] <TabAtkins>
You have to grab the values yourself.

[11:03:49.0000] <Ms2ger>
for of / forEach don't

[11:04:07.0000] <TabAtkins>
(forEach does - the key is the second callback argument)

[11:04:20.0000] <TabAtkins>
But yeah, for-of defaults to iterating over values, of course.

[11:04:31.0000] <TabAtkins>
For array-like things.

[11:04:50.0000] <Ms2ger>
I guess you could have a special iterator

[11:04:50.0000] <Hixie>
TabAtkins: the idea is that each time through the algorithm you get a new token, or whatever, unless you "go back", in which case you get the same token again the second time

[11:05:11.0000] <TabAtkins>
Hixie: Oh, so it's just a "reconsume" thing.

[11:05:44.0000] <Hixie>
jamesr__: understood that as-if means they are equivalent, the question is just whether implementors prefer an obviously inefficient but very regular algorithm, or one that isn't quite so overly regular/consistent, but has obvious optimisations taken care of already

[11:05:55.0000] <TabAtkins>
Ms2ger: That's kinda what I'm wondering about, actually.  All the iterable things in ES will expose a default iterator, but then several explicit iterators for going over keys, values, or items.

[11:06:07.0000] <Ms2ger>
Mm

[11:06:15.0000] <Ms2ger>
I don't think anyone does that yet

[11:06:16.0000] <TabAtkins>
I guess that'll work automatically if you have indexed/named properties?

[11:06:18.0000] <TabAtkins>
No, not yet.

[11:06:30.0000] <Ms2ger>
For indexed properties, Gecko does

[11:06:46.0000] <TabAtkins>
I'm going to assume it'll work automatically, and for now just rely on the fact that for-in works over the keys of named properties.

[11:07:00.0000] <Ms2ger>
Probably poke public-script-coord if you want something else

[11:10:16.0000] <Hixie>
aklein: yeah, that thing is on my pile... not sure what thoughts I have. i don't think it's clear that gecko's behaviour is a bug. not sure what the ideal behaviour is though.

[11:11:17.0000] <Hixie>
TabAtkins: right. so my question could be phrased as, if you know what will happen when you reconsume, and it's trivial to describe (e.g. it's "do nothing", or just "output the value unchanged"), should I still reconsume, or should I inline that behaviour.

[11:11:43.0000] <TabAtkins>
Oh, I inline if it's short, and reconsume if it's long.

[11:12:07.0000] <TabAtkins>
It kinda depends on whether the inlining is clear, or if it's clearer to explicitly head into the next case.

[11:12:46.0000] <Hixie>
yeah, that's the annoyingly vague "it depends" conclusion I came to too :-)

[11:12:51.0000] <TabAtkins>
Heh, yeah.

[11:13:19.0000] <TabAtkins>
For short "do nothing" things, though, I pretty much always inline.

[11:13:33.0000] <TabAtkins>
I'm also a fan of early returns in programming languages.

[11:38:43.0000] <zewt>
i can't stand code that tries to avoid multiple returns

[11:39:32.0000] <zewt>
always seems like a mistake people make because someone told them "functions should have only one return" while they were learning, they internalized it before they were experienced enough to think their own thoughts, then they moved forward in their career never questioning it

[11:41:29.0000] <Hixie>
could also be the result of some old languages that didn't have return statements

[11:41:47.0000] <Hixie>
e.g. old versions of pascal only had assign-to-function-result, and no way to early exit, iirc

[11:42:48.0000] <Philip`>
zewt: My favourite thing is "void foo() { int status = OK; ... if (bar()) { status = ERR; goto end; } ... end: return status; }"

[11:43:07.0000] <zewt>
that's probably an old C habit

[11:43:34.0000] <zewt>
where gotos were a common pattern for resource collection over the error paths

[11:43:56.0000] <Philip`>
/me is still writing in C, so that's still the common pattern :-(

[11:44:13.0000] <zewt>
there's no reason to ever write in C today, unless you're on a platform with no C++ compiler (embedded, sometimes)

[11:44:44.0000] <zewt>
(well, or if you're maintaining a legacy C codebase, of course)

[11:46:17.0000] <Philip`>
/me is writing on an embedded platform, and there is a C++ compiler but nobody uses it so nobody is brave enough to be the first person to find all the bugs in it

[11:46:28.0000] <zewt>
yeah that's fair (been there)

[11:46:31.0000] <Hixie>
or you're competing in the ioccc, which knowing Philip` is probably what's going on... :-P

[11:48:52.0000] <Philip`>
Surely they've found most of the interesting ways of obfuscating C by now, and should start the IOC++CC to get a whole new range of possibilities

[11:49:02.0000] <Ms2ger>
The international obfuscated canvas ctesting competition?

[11:59:55.0000] <aklein>
Hixie: k, just glad to know it's somewhere on the stack. thanks.

[12:02:08.0000] <aklein>
Hixie: not clear on how that could not be a bug in Gecko. but then, I don't fully understand the intent of MathML text integration points

[12:02:55.0000] <Hixie>
aklein: the spec doesn't compare the namespaces there, so gecko not comparing them either seems correct. but i haven't looked at the spec closely today.

[12:03:25.0000] <Hixie>
aklein: my recommendation if this is blocking your work would be to get hsivonen to agree to a particular interpretation/change, and then update the list accordingly and i'll make sure the spec matches what y'all agree to

[12:04:02.0000] <Hixie>
(i don't think at the end of the day the precise behaviour is all that important here so long as we all agree on one, since it's only relevant for bogus docs anyway)

[12:06:59.0000] <aklein>
Hixie: agreed that particular behavior isn't terribly important, but I think there are some implementations that are more likely to lead to the parser getting into a bad state. will see if I can raise the issues with hsivonen

[12:07:39.0000] <Hixie>
thanks

[12:17:09.0000] <TabAtkins>
Hixie: Younger people who never used old languages like that still parrot the "one return per function" crap.

[12:19:03.0000] <Ms2ger>
I've never heard that before, fwiw

[12:19:04.0000] <zewt>
it's the programming equivalent of "don't end a sentence with a preposition", with similar effects

[12:19:46.0000] <TabAtkins>
Heh, excellent analogy.

[12:21:41.0000] <aklein>
hsivonen: in case you weren't following ^^, I'm interested in your thoughts on some corner cases of <math> parsing

[12:21:56.0000] <Hixie>
TabAtkins, zewt: yeah

[12:22:35.0000] <zewt>
anybody happen to know the origin or "URL" vs. "URI"? the whole thing always feels like whoever was writing the URI spec went "hey, this isn't exactly the same as URL, so we should call it something different and people will distinguish them and use different parsers" (when what really happened is they're the same thing with no real-world distinction)

[12:23:16.0000] <zewt>
i guess i'm just curious if there's a less stupid reason the term came into being than what amounts to branding, heh

[12:23:59.0000] <TabAtkins>
Sometimes the URL is used merely as an identifier, not a locator.  Thus, the name switch.

[12:24:24.0000] <zewt>
that's almost a worse reason

[12:26:00.0000] <Hixie>
worst thing about regexps is when they don't match and you can't figure out why

[12:26:14.0000] <Ms2ger>
You mean "regexps"

[12:26:46.0000] <TabAtkins>
I presume you meant s/when.*/regexps/ ?

[12:26:58.0000] <zewt>
Hixie: might be able to find a syntax highlighter, so you can walk the cursor across to find which thing doesn't match with what you expected it to

[12:27:42.0000] <Hixie>
zewt: yeah

[12:28:02.0000] <TabAtkins>
Hixie: Try http://regexpal.com/ ?

[12:28:28.0000] <Hixie>
/me tries

[12:28:29.0000] <Hixie>
(thanks)

[12:28:50.0000] <Hixie>
(we're going to ignore that my regexp is dynamically generated so who the fuck knows what it even really is)

[12:30:54.0000] <Hixie>
well according to regexpal it should be working

[12:46:18.0000] <TabAtkins>
Then maybe you're not generating the correct regex?

[12:49:15.0000] <Hixie>
i was making some mistake with /g in perl

[12:49:33.0000] <zewt>
autogenerated regexes in perl? "and now you have four problems"

[12:49:39.0000] <Hixie>
i ended up just not using /g for that part of the code since i didn't need to

[12:49:46.0000] <Hixie>
zewt: 0 problems now :-)

[12:51:00.0000] <Ms2ger>
You just haven't noticed them yet :)

[13:02:14.0000] <TallTed>
zewt - once upon a time, URI(dentifier) was a superclass, with subclasses of URL(ocator) and URN(ame), any of which could be dereferenced according to the rules of their scheme.

[13:02:14.0000] <TallTed>
then someone had the "brilliant" idea to make urn: a non-dereferenceable URI scheme, and URN lost what little traction it had, and URL and URI have since appeared to the uninitiated to be the same things.

[13:03:03.0000] <TallTed>
some historical perspective I was coincidentally looking at earlier today...  http://www.w3.org/DesignIssues/NameMyth.html

[13:24:15.0000] <zewt>
because they have since been the same thing, in the real world :)

[13:25:16.0000] <TallTed>
/me not knowing the difference doesn't make them the same thing

[13:25:52.0000] <zewt>
nobody in the world knowing the difference, using the terms interchangeably for things that look the same and are parsed interchangeably ... makes them the same thing

[13:25:57.0000] <TallTed>
whether a string is URL or URN is unknown and opaque to the user.  only the handling server knows whether it's grabbing a file from a location (URL), or doing something else (URN)

[13:26:09.0000] <zewt>
conversely, calling things by two different name doesn't make them different

[13:26:25.0000] <TallTed>
just because you can't tell the difference between a legit Rembrandt and a forgery, doesn't make them the same thing.

[13:26:34.0000] <TallTed>
unless you want to buy this thing I found in the garage...

[13:27:13.0000] <zewt>
uh huh

[15:07:44.0000] <Hixie>
damnit, i've just reduced my problem to another problem

[15:08:25.0000] <Hixie>
given two strings A and B, how do i do a locale-specific case-insensitive comparison?

[15:08:38.0000] <Hixie>
do we have a UTR we can refer to for that or something?

[15:08:44.0000] <Hixie>
given two strings and a language, i guess

[15:10:29.0000] <ronaldmansveld>
Hixie:  you mean 2 strings in different languages?

[15:11:14.0000] <ronaldmansveld>
ie: 'Ich bin mÔøΩde' <-> 'I'm tired'?

[15:12:49.0000] <Hixie>
two arbitrary strings

[15:13:14.0000] <Hixie>
and a language, though nothing guarantees the strings even use that language's script, let alone be in any language at all

[15:13:58.0000] <ronaldmansveld>
if you want to know if they mean the same, I don't think there will be anything for that

[15:14:21.0000] <ronaldmansveld>
if you want to know if the chars are the same, I'd say converting them to the same encoding will do the trick

[15:15:07.0000] <ronaldmansveld>
But I wouldn't know if there's any way to determine the encoding of a giving string with 100% certainty when given just the string

[15:18:47.0000] <gavinc>
ronaldmansveld: ... that has nothing to do with encoding

[15:19:08.0000] <jgraham>
http://www.ecma-international.org/ecma-262/5.1/#sec-15.5.4.9

[15:19:23.0000] <jgraham>
Er sorry

[15:19:34.0000] <jgraham>
Or, maybe that is what you want

[15:19:41.0000] <gavinc>
Hixie: http://www.w3.org/International/wiki/Case_folding ?

[15:19:51.0000] <jgraham>
Although it basically says "implementation defined"

[15:20:03.0000] <Hixie>
i mean a < vs > comparison

[15:20:06.0000] <Hixie>
not a == vs != comparison

[15:20:08.0000] <Hixie>
sorry for ambiguity

[15:20:18.0000] <ronaldmansveld>
ah, that makes it a lot clearer, sorry

[15:20:37.0000] <gavinc>
Oh, I've ONLY ever seen that done between languages by code point after casefolding :\

[15:20:55.0000] <gavinc>
and it's usually very surprising :\

[15:21:05.0000] <Hixie>
some code points sort differently based on the language being sorted, right?

[15:21:42.0000] <gavinc>
Right, if it's mixed language sort I've only ever seen raw code point sorting :\

[15:22:02.0000] <jgraham>
Hixie: Yes

[15:24:38.0000] <Hixie>
ok so i guess i just need a way to invoke those algorithms

[15:25:57.0000] <ronaldmansveld>
jgraham:  thanks for the links, makes it all a lot clearer now :)

[15:32:47.0000] <TabAtkins>
Hixie: Yes, there's a way.  I forget which list of foldings does the locale-sensitive stuff, though.

[15:33:01.0000] <TabAtkins>
For locale *in*sensitive, use the C+F mapping.

[15:33:14.0000] <TabAtkins>
Defined somewhere.  I'm not very helpful. ^_^

[15:33:46.0000] <Hixie>
TabAtkins: yeah, that would have more or less been my answer if someone asked me :-P

[15:49:14.0000] <Hixie>
how about a raw unicode comparison of two strings A and B? how do i phrase that?

[15:50:03.0000] <TabAtkins>
codepoint-by-codepoint comparison?

[15:50:18.0000] <TabAtkins>
Do you want to do normalization?

[15:50:27.0000] <Hixie>
let's assume we normalised already

[15:50:37.0000] <TabAtkins>
Then what I said.

[15:50:46.0000] <Hixie>
"codepoint-by-codepoint" doesn't tell me anything about which is greater

[15:50:50.0000] <Hixie>
all comparisons are "codepoint-by-codepoint"

[15:50:57.0000] <TabAtkins>
Not necessarily!

[15:51:01.0000] <Hixie>
well fair enough

[15:51:05.0000] <TabAtkins>
But anyway, say it's a lexicographic sort by codepoint.

[15:51:10.0000] <Hixie>
k

[15:53:13.0000] <Hixie>
really no idea how i'm gonna do the language-sensitive one

[15:54:15.0000] <Philip`>
"\ud7ff" < "\ue000" < "\ud800\udc00" sounds fun

[15:54:40.0000] <Hixie>
i actually said to compare by unicode scalar value

[15:54:43.0000] <Hixie>
which takes care of that

[15:54:59.0000] <Philip`>
TabAtkins: Lexicographic sort doesn't really define whether "a" < "aa"

[15:55:11.0000] <Hixie>
that's a more serious problem

[15:55:53.0000] <Hixie>
utr10 is apparently what i need

[15:56:09.0000] <TabAtkins>
It... should?  Isn't lack of something always less than presence?

[15:56:12.0000] <Hixie>
doesn't seem to be written in english though

[15:56:17.0000] <TabAtkins>
Or is that undefined and left to the thing doing the sorting?

[15:57:57.0000] <Philip`>
TabAtkins: My understanding of lexicographic orders is that they're defining (a,b) < (a',b') iff a < a' or (a = a' and b < b'), where you need to define what "=" and "<" and the other "<" mean

[15:58:47.0000] <Hixie>
Unicode Collation Algorithm to the rescue!

[15:59:13.0000] <TabAtkins>
Sure.  I just assumed that it was taken as given that when they're of different length, but equal up to the end of the shorter item, the shorter item is "less".


2013-03-02
[16:01:13.0000] <Hixie>
apparently the magic answer is "Apply the Unicode Collation Algorithm, using the Default Unicode Collation Element Table as customized for the <span>language</span> of the element <var title="">e</var> in the Common Locale Data Repository.

[16:01:17.0000] <Hixie>
"

[16:01:27.0000] <jamesr>
who are you expecting to do this?

[16:01:33.0000] <TabAtkins>
Presumably table sorters.

[16:01:45.0000] <Hixie>
jamesr: ICU implements the UCA already

[16:01:54.0000] <Hixie>
so that should be off-the-shelf

[16:02:07.0000] <jamesr>
and you want browsers to do this whenever table cell values change or something like that?

[16:02:31.0000] <Hixie>
i wouldn't say _I_ want that. but that's what people have been clamouring for, yeah.

[16:03:40.0000] <jamesr>
and what lang do we use for this? the lang of the table or the page or something?

[16:03:50.0000] <Philip`>
TabAtkins: That does seem conventional when comparing strings, but the phrase "lexicographic sort by codepoint" seems to be trying to be precise enough that I think it's not entirely unreasonable to expect it to say how lengths are handled instead of requiring you to infer it

[16:04:05.0000] <Hixie>
jamesr: language of the <th> column's, currently, but that's a minor detail

[16:04:42.0000] <Philip`>
/me might be overly sensitive to the term "lexicographic" though

[16:05:23.0000] <Hixie>
Philip`: i ended up just using the UCA with the defaults in that case

[17:00:39.0000] <zewt>
Hixie: why do you want to do locale-specific case-insensitivity? unicode case folding exists exactly to avoid that mess (for locale-insensitive case-insensitivty)

[17:21:17.0000] <Hixie>
zewt: eh? how does locale-specific case-insensitivity differ from unicode case folding?

[17:23:59.0000] <zewt>
case folding is locale-insensitive by definition

[17:24:05.0000] <zewt>
afaik

[17:25:29.0000] <Hixie>
zewt: you know wrong :-)

[17:25:56.0000] <zewt>
http://www.unicode.org/faq/casemap_charprop.html By contrast, case folding, which is based on the lowercase mapping, is intended to be language-neutral. Since the case folding rules do not vary by language or context, this makes them unsuitable as the basis for displaying or transforming text for human consumption.

[17:25:56.0000] <Hixie>
e.g. look up "turkish i"

[17:26:21.0000] <zewt>
i maps to i in all languages, including turkish, when you're using case folding

[17:26:32.0000] <zewt>
if you want language-specific lowercasing you want case mapping, not case folding

[17:27:13.0000] <Hixie>
all i was is a sort which when in turkish puts lowercase dotted-i and uppercase dotted-i together, and in english does not.

[17:27:37.0000] <zewt>
that's not case folding then

[17:28:02.0000] <Hixie>
which i believe is "the Unicode Collation Algorithm using the Default Unicode Collation Element Table as customized for the language /foo/ in the Common Locale Data Repository, ignoring case"

[21:22:25.0000] <MikeSmith>
wow an actual switch statement in the spec

[21:25:42.0000] <MikeSmith>
oh only in the source

[21:26:35.0000] <MikeSmith>
so Hixie you have some tool for converting the swtich-statement stuff in the source into prose?

[22:44:39.0000] <MikeSmith>
jgraham: please ping me if you are around today and have to chat about the websocket tests. I'm also getting intermittent Timeout errors for them. Maybe 25% or so of the time.

[01:21:44.0000] <krijnh>
teers

[01:21:51.0000] <krijnh>
Err, right

[01:22:08.0000] <krijnh>
Of joy, of course

[01:59:54.0000] <jgraham>
MikeSmith: Sure I am around today

[02:00:47.0000] <MikeSmith>
hey jgraham

[02:00:58.0000] <MikeSmith>
any clues on the timeouts errors?

[02:01:09.0000] <jgraham>
Well

[02:01:47.0000] <jgraham>
Nothing more than "maybe the tests are just a bit close to the timeout"

[02:02:33.0000] <MikeSmith>
is it possible to increase the timeout per-test?

[02:02:40.0000] <jgraham>
Yeah

[02:02:57.0000] <jgraham>
So, iirc, the default is like 1s

[02:03:11.0000] <jgraham>
and the default timeout for the whole file is like 5s

[02:03:51.0000] <jgraham>
To increase the former you pass an options dict like {timeout:timeout-in-ms} to the test constructor

[02:03:59.0000] <MikeSmith>
ok

[02:04:08.0000] <jgraham>
For the latter you do the same to the setup function

[02:04:31.0000] <MikeSmith>
ok

[02:04:53.0000] <jgraham>
Do you have a browser/test combination that gives random behaviour that I can try?

[02:05:00.0000] <MikeSmith>
I could try looking it at it from the server side but really that server has very llight load on it

[02:05:39.0000] <MikeSmith>
jgraham: no they all give me timeout errors maybe 1 out of 4 times or so

[02:07:29.0000] <MikeSmith>
hmm except for Opera right now

[02:07:35.0000] <jgraham>
MikeSmith: Well I tried http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/binary/001.html and couldn't see any timeouts

[02:07:43.0000] <jgraham>
in Firefox/Chrome/Opera

[02:08:31.0000] <jgraham>
OTOH 002.html appears to timeout in all but Chrome, but 100% of the time

[02:09:00.0000] <jgraham>
Maybe you just have more latency to w3c-test.org than me

[02:09:36.0000] <MikeSmith>
002.html times out for me in Chrome too

[02:09:43.0000] <MikeSmith>
but only somtimes

[02:09:46.0000] <MikeSmith>
not always

[02:09:54.0000] <jgraham>
(this is why friends don't let friends run tests on infrastructure they don't control)

[02:10:36.0000] <MikeSmith>
heh

[02:10:53.0000] <jgraham>
What's your ping time to w3c-test.org?

[02:12:59.0000] <MikeSmith>
PING w3c-test.org (128.30.52.118): 56 data bytes

[02:12:59.0000] <MikeSmith>
64 bytes from 128.30.52.118: icmp_seq=0 ttl=35 time=274.241 ms

[02:12:59.0000] <MikeSmith>
64 bytes from 128.30.52.118: icmp_seq=1 ttl=36 time=371.074 ms

[02:12:59.0000] <MikeSmith>
64 bytes from 128.30.52.118: icmp_seq=2 ttl=35 time=291.444 ms

[02:12:59.0000] <MikeSmith>
Request timeout for icmp_seq 3

[02:13:01.0000] <MikeSmith>
64 bytes from 128.30.52.118: icmp_seq=3 ttl=36 time=1144.780 ms

[02:13:04.0000] <MikeSmith>
64 bytes from 128.30.52.118: icmp_seq=4 ttl=36 time=288.365 ms

[02:13:41.0000] <MikeSmith>
but hey I finally had the sense to actually look at the logs on the server and I'm seeing an error

[02:14:45.0000] <MikeSmith>
"mod_pywebsocket: web_socket_transfer_data raised exception for /ws/echo: Connection read error"

[02:16:13.0000] <jgraham>
Yeah, well if you are geting 1 in 4 packets taking > 1s that is a problem on its own :)

[02:16:49.0000] <MikeSmith>
yeah

[14:03:12.0000] <GPHemsley>
Hixie: Don't know if this is still applicable or what, but the Mac OS X sorting algorithm seems to take each embedded series of digits as a separate number, meaning hex numbers sort very unintuitively.


2013-03-03
[17:20:33.0000] <GPHemsley>
You know, I'm surprised all these "don't use X, it's too inconsistent" posts haven't made their way to HTML yet

[17:21:05.0000] <GPHemsley>
(All values of X are generally old technologies that have evolved over a significant period of time: PHP, MySQL, etc.)

[17:21:28.0000] <GPHemsley>
They don't have the benefit of using years of experience to engineer away the problems and inconsistencies

[17:21:47.0000] <Philip`>
I thought that made its way to HTML ages ago, and led to XHTML

[17:21:53.0000] <Philip`>
but we've got over that now

[17:22:14.0000] <GPHemsley>
well, these posts post-date XHTML, but OK

[17:22:58.0000] <Philip`>
I expect nobody actually likes HTML, but most people have just got tired of complaining about it

[17:24:15.0000] <GPHemsley>
the Internet never tires of complaining

[17:25:10.0000] <Hixie>
GPHemsley: yeah, i couldn't work out a way to make hex, "season 1 episode 1", version numbers, IP addresses, 1.245e12, $1.23, and 1.23kg all sort correctly with one algorithm, so i had to punt on one and a half of those (hex and two-part version numbers)

[17:27:01.0000] <Philip`>
What about IPv6 addresses?

[17:30:27.0000] <Hixie>
they're hex

[17:33:23.0000] <Philip`>
Not really, since you'd want 2001:db8::1:1 < 2001:db8::2:2 < 2001:db8::1:1:1

[17:35:09.0000] <Philip`>
Oh, you said hex was one of the things that didn't work, and they're not just hex but they are partially hex, so I suppose that's already covered :-(

[17:35:25.0000] <Philip`>
/me shouldn't IRC when tired

[17:37:45.0000] <Hixie>
i hear ya

[18:01:17.0000] <zewt>
some cases are logically incompatible with other cases, so yeah, gotta pick a subset

[19:40:38.0000] <zewt>
death to specs that screaming case MUST

[19:40:49.0000] <zewt>
was: re: readability matters

[19:42:29.0000] <zewt>
also it's 2013 and i'm still having to read ietf specs optimized for 80x66 fixed-width printers

[19:44:03.0000] <zewt>
i have a mental image of the people writing ietf specs printing them out on their daisywheel printers for proofreading

[19:44:28.0000] <Hixie>
zewt: they're not optimised for printers, so much as teletypes.

[19:44:33.0000] <Hixie>
(...which is worse)

[19:52:38.0000] <othermaciej>
I don't like boldface but lowercase must either

[19:52:53.0000] <othermaciej>
I think small caps must is not so bad

[19:57:40.0000] <Hixie>
i like "must"

[19:58:15.0000] <zewt>
just writing it in plain english is fine and doesn't make my mind stop and scream the word in my head every time

[19:58:53.0000] <zewt>
any kind of caps induces a pause and "MUST!!!!!!!!!" in my head as i'm reading, which is pretty catastrophic when i'm just trying to find out what something is supposed to do

[19:59:57.0000] <zewt>
relatedly, i can't read wikipedia without a user style to hide superscripts, because apparently they think having a footnote number every 3 words is somehow okay

[00:29:19.0000] <Ms2ger>
Hixie, now you're done with sorting, can you start on the useful work again? :)

[03:13:31.0000] <annevk>
In HTML, where did the note go that localization of applications has to be done server-side

[03:13:32.0000] <annevk>
?

[03:22:41.0000] <annevk>
http://html5.org/tools/web-apps-tracker?from=3980&to=3981

[03:29:44.0000] <krijn_>
Hey annevk, how's the UK so far?

[03:31:17.0000] <annevk>
krijn_: pretty good

[03:32:14.0000] <annevk>
krijn: quite used to living here actually, even though it's been just a month now

[03:32:26.0000] <annevk>
krijn: how's Brighton?

[03:32:32.0000] <krijn>
Pretty good

[03:32:46.0000] <krijn>
Quite used already, even though it's been just a week :)

[03:33:21.0000] <krijn>
Without any furniture, but heck

[03:48:50.0000] <annevk>
Same same, but a bad and and some wall-closet space seems sufficient

[03:49:07.0000] <annevk>
euh, bed, bath, and wall-closet space*

[03:56:25.0000] <MikeSmith_>
üç∫

[04:05:58.0000] <annevk>
MikeSmith: yes

[04:06:05.0000] <annevk>
:-)

[04:08:07.0000] <MikeSmith>
I grabbed that from a message that brew emits now when it's done updating

[04:08:22.0000] <MikeSmith>
I dunno how long it's been doing that

[04:08:28.0000] <MikeSmith>
didn't notice it til today

[04:08:43.0000] <MikeSmith>
fun to see that in the console

[04:09:16.0000] <MikeSmith>
unfortunately just shows up as the replacement character in my irssi

[04:10:49.0000] <krijn>
annevk: the gf disagrees :)

[04:11:42.0000] <MikeSmith>
hmm yeah it seems screen(1) doesn't handle it

[04:12:54.0000] <annevk>
I tried to buy a TV yesterday and a sound bar, but that requires first having someone come over to see if they can install it on the wall at all

[04:13:23.0000] <annevk>
so for now I'll settle for the electro at Joe & The Juice

[04:22:50.0000] <krijn>
Man, I can't even get a proper internet connection

[04:24:07.0000] <annevk>
I have to wait a couple more days for that too...

[06:57:58.0000] <jgraham>
So what's the deal? Is *.nl moving to the uk?

[06:58:13.0000] <jgraham>
Don't tell UKIP...

[07:02:20.0000] <jgraham>
MikeSmith: I think all the WebSockets tests under submissions/Opera/interfaces/ are converted now

[07:02:36.0000] <jgraham>
Just cookies/ and unload-a-document/ left to go

[07:02:50.0000] <jgraham>
(i.e. the non-trivial ones :)

[07:03:16.0000] <jgraham>
Also I seem to have broken critic in some way so no pull requests are getting through at the moment

[07:03:27.0000] <jgraham>
Might look into that more later

[08:56:55.0000] <MikeSmith>
jgraham: ok

[12:05:16.0000] <jgraham>
OK, all but one WebSockets test should be updated now

[12:05:33.0000] <jgraham>
But I think the cookies ones might ahve got broken in the conversion

[12:05:54.0000] <jgraham>
I need to ask zcorpan to have a look when he's around

[12:14:39.0000] <Ms2ger>
http://i.imgur.com/kHWtqeq.jpg

[12:15:48.0000] <odinho>
O_O  Little heartbroken foxy.

[13:22:38.0000] <GPHemsley>
How long until we get single-line comments in CSS?

[13:22:47.0000] <GPHemsley>
/me runs and hides.

[13:23:02.0000] <annevk>
I wonder why online furniture shops don't let you search by size

[13:23:05.0000] <annevk>
That'd be really useful

[13:26:14.0000] <jgraham>
GPHemsley: It's OK, making // at the start of a line valid would break the web and the CSS WG are far too responsible to evev consider that

[13:26:23.0000] <jgraham>
No, wait...

[15:30:35.0000] <Yuhong>
Well, IE9 finally supports XHTML, and IE8 is finally becoming obsolete.

[15:31:10.0000] <Yuhong>
The lack of XHTML support in IE8 is far from the only problem that make it a boat anchor.


2013-03-04
[16:04:52.0000] <zewt>
(can't tell if joking)

[16:06:29.0000] <Philip`>
(Depends if he meant IE8 was being a boat anchor, or XHTML was being a boat anchor)

[16:06:49.0000] <Philip`>
(I suggest throwing them both off a boat and seeing which sinks fastest)

[16:29:34.0000] <zewt>
(can't tell if joking about lack of XHTML actually being a problem that needed to be solved)

[17:35:38.0000] <Yuhong>
IE8 being a boat anchor. It for example also do not support much of DOM level 2, which is why jQuery 2.0 won't support it.

[22:30:34.0000] <roc>
on the same day WaSP declares "our work here is done", we have a Chrome ad from Disney saying "a Web experience built for Chrome"

[22:33:09.0000] <tantek>
roc: Wasp has been fairly inactive for a while

[22:33:29.0000] <tantek>
Declaring a boom does not deny the fact that you went out with a whimper.

[02:38:53.0000] <hsivonen>
annevk: is there value other than encoding table and test case savings in dropping single-byte encodings whose lower half is ASCII and upper half has no overlap with ASCII?

[02:39:58.0000] <annevk>
hsivonen: very limited value

[02:40:58.0000] <hsivonen>
hmm. Warner now allows HD movies in iTunes on Mac.

[02:41:08.0000] <annevk>
hsivonen: we can add ibm850 back I suppose

[02:42:10.0000] <hsivonen>
annevk: what other single-byte encodings did we drop? random Mac stuff?

[02:42:24.0000] <hsivonen>
http://www.voddler.com/en/movie/info/2798385737197326461/skyfall/

[02:42:33.0000] <annevk>
hsivonen: I haven't kept track

[02:42:37.0000] <hsivonen>
Voddler advertises Skyfall available for HTML5 streaming

[02:42:44.0000] <annevk>
hsivonen: or was not cc'd, either way

[02:42:59.0000] <hsivonen>
I wonder what HTML5 streaming means

[02:43:07.0000] <hsivonen>
can't be EME at this point in time

[02:43:24.0000] <odinho>
I called what I did HTML5 streaming, that was Ogg Theora + Vorbis. :-)

[02:43:37.0000] <hsivonen>
their payment service is down, so I couldn't pay 3.70 euros to check

[02:44:57.0000] <hsivonen>
annevk: does IE support IBM850? (I'm guessing yes, but didn't launch a VM to check)

[02:45:07.0000] <gsnedders>
That's like 3/4rds the cost of it in Norway. :(

[02:46:45.0000] <annevk>
hsivonen: http://wiki.whatwg.org/wiki/Web_Encodings suggests it does

[02:51:40.0000] <annevk>
hsivonen: I'm not really sure what the right approach here is. Should we add an encoding per report we get?

[02:52:05.0000] <annevk>
hsivonen: given one report it's prolly likely other pages are affected and definitely other users.

[02:52:48.0000] <annevk>
hsivonen: then the next question is what set of labels we add. The same as IE or what we had before?

[02:52:59.0000] <annevk>
/me does not like encodings

[02:54:01.0000] <gsnedders>
You chose to work on it!

[02:54:16.0000] <annevk>
gsnedders: yes, to make it a solved problem

[02:57:13.0000] <mounir>
annevk: you don't like encodings but you have two huge books on that subject on your desk... ;)

[03:01:10.0000] <annevk>
Yeah, they'll be moving to the public bookshelf soon. I haven't opened them in a while now...

[03:01:40.0000] <annevk>
Although I guess I should ask MikeSmith about the CJKV one as technically it's from Keio...

[03:07:08.0000] <hsivonen>
annevk: the stuff we only supported with uninteroperable labels might not be worth putting back

[03:07:44.0000] <hsivonen>
annevk: single-byte encodings that IE supports with sane labels *might* be worth putting back

[03:09:09.0000] <hsivonen>
I'm really quite surprised that someone uses the old DOS Western European encoding on the Web

[03:09:21.0000] <annevk>
hsivonen: on a site with login, no less

[03:09:36.0000] <annevk>
hsivonen: with a copyright statement amended for 2012

[03:09:42.0000] <darobin>
I'm not

[03:09:56.0000] <annevk>
good for you

[03:10:02.0000] <darobin>
plenty of people have really old legacy systems, and those tend to spill over

[03:10:58.0000] <darobin>
"we have this really old machine that handles our inventory, we've managed to put an FTP server in front of its daily exports, can you take that and put it on the web" is a relatively common request

[03:11:55.0000] <darobin>
what happens with the encodings there then really depends on the developer... which means you see horrors

[03:12:50.0000] <darobin>
/me still remembers "it does strange things when our Chinese customers add new entries imported into our system" bug reports

[03:14:42.0000] <MikeSmith>
annevk: that CJKV book didn't belong to Keio, I don't think. It think it belonged personally to Felix Sasaki, and he gave it to me when he left W3C and moved back to Germany. So feel free to do whatever you want with it.

[03:15:10.0000] <annevk>
MikeSmith: my idea was to put it in Mozilla's community area

[03:15:31.0000] <jgraham>
Not to set fire to it?

[03:15:35.0000] <annevk>
MikeSmith: we have a public bookshelf there, but since there's no security someone might take it (but then hopefully they'll read it)

[03:15:55.0000] <jgraham>
Using the medieval adage "a problem enflamed is a problem solved"?

[03:16:32.0000] <hsivonen>
darobin: apparently wind energy is so old that it's old enough to have a DOS-era legacy system

[03:16:47.0000] <annevk>
jgraham: there's electronic copies :-(

[03:20:06.0000] <MikeSmith>
annevk: yeah if you're not needing it yourself any more, seems like it'd be good to put it out there for others to if. If somebody's so keen on it to take it home, that wouldn't be a tragedy

[03:20:40.0000] <hsivonen>
MikeSmith: another person entangled in legacy encodings not a tragedy?

[03:21:00.0000] <MikeSmith>
heh

[03:22:11.0000] <MikeSmith>
I just had to throw away at least 50 books at Keio becausethe office is going to be remodeled and we don't have room for them. I wish somebody had cared enough about any of them to already have walked off with them.

[03:22:47.0000] <MikeSmith>
some of them were pretty old, though. Like, a guide to the Korn shell.

[03:23:49.0000] <annevk>
next time mail them to this office, seems we have some space left

[03:59:11.0000] <annevk>
what's the negation of the first two bullet points under 1. in http://www.w3.org/TR/2013/CR-cors-20130129/#cross-origin-request-with-preflight-0

[03:59:22.0000] <annevk>
boolean logic :(

[04:01:54.0000] <annevk>
NOT(true OR true) == false AND false

[04:02:03.0000] <jgraham>
annevk: Can't really tell where the brackets are in those sentences anyway

[04:02:32.0000] <annevk>
but this is NOT(true OR true AND true) so false AND false OR false

[04:03:06.0000] <jgraham>
annevk: More brackets, please

[04:03:08.0000] <annevk>
jgraham: why not?

[04:03:42.0000] <jgraham>
Is it X OR (Y AND Z) or (X OR Y) AND Z

[04:03:55.0000] <annevk>
AND has precedence no?

[04:04:21.0000] <Ms2ger>
Not if you want to be clear :)

[04:04:27.0000] <annevk>
I'm open to rewriting this even more though

[04:04:37.0000] <annevk>
/me wonders how

[04:04:42.0000] <jgraham>
In English? It's unclear. In other cases there might be rules

[04:04:57.0000] <annevk>
If ...

[04:05:04.0000] <annevk>
* there's no method cache match

[04:05:20.0000] <annevk>
* it's no simple method or the force preflight flag is set

[04:05:45.0000] <jgraham>
!(X OR (Y AND Z)) = !X & !(Y AND Z) = !X & (!Y OR !Z)

[04:06:05.0000] <jgraham>
Which is what you said

[04:06:21.0000] <annevk>
* for every header in request headers there is no cache match and the field name is not a simple header

[04:06:27.0000] <annevk>
Then ... preflight time

[04:06:44.0000] <annevk>
jgraham: does what I just wrote work?

[04:07:16.0000] <annevk>
(but it's wrong :-(, it only has to fail for one header)

[04:07:41.0000] <jgraham>
I'll go with no then :)

[04:07:41.0000] <annevk>
There's at least one header in request headers for which there is no cache match and which is not a simple header

[04:07:46.0000] <jgraham>
But the style is better

[04:07:48.0000] <annevk>
jgraham: try again

[04:07:57.0000] <jgraham>
(lunch)

[04:08:02.0000] <annevk>
so lame

[04:08:07.0000] <annevk>
and late for Sweden

[04:08:57.0000] <gsnedders>
It's jgraham.

[04:09:00.0000] <gsnedders>
It's early for him.

[04:15:31.0000] <annevk>
Great success: http://www.iwanttouse.com/#apng,download

[04:55:46.0000] <jgraham>
Using no specific features

[04:55:48.0000] <jgraham>
reaches 95.43% of web users

[04:56:06.0000] <jgraham>
/me wonders what the other 4.57% are doing

[04:56:59.0000] <Ms2ger>
Amaya

[04:57:26.0000] <jgraham>
darobin is almost 5% of web traffic?

[05:12:21.0000] <hsivonen>
jgraham: did you figure out what that meant?

[05:12:42.0000] <hsivonen>
some "other" browser unspecific matter?

[05:13:12.0000] <jgraham>
hsivonen: I suspect it means that 4.57% of users are using browsers that aren't covered by caniuse.com data

[05:13:22.0000] <jgraham>
Although that seems *very* high

[05:30:14.0000] <darobin>
maybe their UA data includes bots

[05:30:18.0000] <darobin>
(by mistake)

[05:30:29.0000] <jgraham>
Seems to be from statcounter

[05:30:39.0000] <jgraham>
Can't really tell how one would get anything useful out of that

[05:36:38.0000] <annevk>
jgraham: oh it says that now? I had it at 0

[05:37:20.0000] <gsnedders>
Is that not ~% of "other" on statcounter?

[05:37:40.0000] <jgraham>
http://caniuse.com/usage_table.php

[05:38:27.0000] <jgraham>
Still doesn't add up to 100%

[05:50:17.0000] <SimonSapin>
jgraham: did you count "Browsers not included on site" ?

[05:51:47.0000] <jgraham>
Yes

[05:52:11.0000] <SimonSapin>
I get 99.925, could be rounding errors

[05:52:11.0000] <jgraham>
0.865 + 3.38 + 95.68 = 99.925

[05:53:19.0000] <jgraham>
Could be if the top number is only accurate to +- 0.005, I suppose

[05:54:10.0000] <SimonSapin>
or if each of these three values is a sum of rounded values, errors accumulate

[05:54:38.0000] <gsnedders>
Yay floats!

[05:57:09.0000] <jgraham>
Not floats at all

[05:57:20.0000] <jgraham>
Just propogation of errors

[05:57:58.0000] <jgraham>
There are 65 values that are +/- 0.0005 and 12 values that are apparently +/- 0.05

[05:58:05.0000] <jgraham>
er 0.005

[06:00:03.0000] <jgraham>
(and iirc you can just add in quadrature)

[06:09:59.0000] <annevk>
Which task source does WebSocket use? The protocol that is?

[06:12:28.0000] <jgraham>
"The task source for all tasks queued in this section is the WebSocket task source."

[06:15:59.0000] <annevk>
ta

[06:16:15.0000] <annevk>
So is the networking task source the exclusive domain of "fetch"?

[06:16:27.0000] <annevk>
Sounds like we should have named it the fetch task source...

[06:17:14.0000] <zewt>
does it even do anything, except to say "you don't have to guarantee task ordering with anything else"?

[06:18:25.0000] <annevk>
I think that's the main purpose. Which may mean XMLHttpRequest has a bug as it does not use the networking task source but should probably piggyback on that somehow...

[06:24:46.0000] <annevk>
My main problem at the moment is that I don't really have a good interface for return this asynchronously... HTML has this text about queuing tasks, but that does not work for a number of cases...

[06:24:48.0000] <hsivonen>
I wonder if Google has done browser stats internally across all sites that use Google Analytics

[06:25:15.0000] <annevk>
Namely: upload progress events, preflight request done. Maybe something else?

[06:25:53.0000] <annevk>
Did we decide on when upload progress events are done? Is it when you get an ACK from the server?

[06:26:08.0000] <annevk>
Is that even how TCP/IP works?

[06:26:21.0000] <zewt>
annevk: are you basically looking for a way to write callbacks in a spec?

[06:26:42.0000] <gsnedders>
annevk: It's a violation of layering, but yes, it's the only way to do it.

[06:26:52.0000] <annevk>
zewt: kind of

[06:26:57.0000] <zewt>
gsnedders: no, there are different approaches

[06:27:02.0000] <zewt>
well

[06:27:08.0000] <annevk>
zewt: except that if some flag is set there are no callbacks and it becomes a return value

[06:27:13.0000] <zewt>
i guess that's basically what it amounts to either way i'm thinking of

[06:27:47.0000] <zewt>
typically i look at the available buffer space on the socket, and figure out when it's emptied past what I want (but that's basically going to follow ACKs too)

[06:27:47.0000] <annevk>
gsnedders: we can also wait for a full HTTP response which may be what Gecko is doing

[06:28:01.0000] <annevk>
gsnedders: and depending on the status code dispatch either load or error or some such

[06:28:06.0000] <zewt>
annevk: that sounds like it breaks the point of upload progress events entirely

[06:28:33.0000] <zewt>
i mean, if you wait for the response, you're not firing upload progress *during the upload* at all, and that's the whole point ... right?

[06:28:45.0000] <gsnedders>
annevk: I think we shouldn't define it. Not really that nice to depend on things the TCP layer in the OS does‚Ä¶

[06:29:02.0000] <annevk>
zewt: mainly worrying about the final set of events

[06:29:28.0000] <jgraham>
hsivonen: It would be astonishing if they didn't

[06:29:30.0000] <gsnedders>
annevk: Like, I think when you dispatch them during upload cannot be practically defined in such a way it can be implemented on all OSes.

[06:29:32.0000] <annevk>
gsnedders: we tried that, didn't work

[06:29:41.0000] <zewt>
i don't think it makes sense to wait any longer than the 200 OK, and maybe not even that long

[06:30:17.0000] <annevk>
zewt: in practice there's not going to be much difference between that and the full set of headers as I understand it, but sure

[06:30:25.0000] <zewt>
(if the server has a long delay while it figures out the answer to your upload, seems like upload should still be considered finished right away)

[06:30:36.0000] <annevk>
None of this is really helping me unfortunately :-(

[06:30:41.0000] <gsnedders>
Right, I think we have to have a minimum set of number to send (like at completion), but can send more?

[06:30:47.0000] <gsnedders>
Or annevk, that not work?

[06:31:06.0000] <zewt>
but "wait for a full HTTP response" sounds very wrong (then you're waiting for the response body, too)

[06:31:29.0000] <annevk>
zewt: oh sorry, not for the body, just long enough to see if you're gonna redirect

[06:31:34.0000] <zewt>
annevk: lacking more specific questions I can only throw darts :P

[06:32:04.0000] <annevk>
Maybe I should put my sketch up somewhere

[06:32:54.0000] <annevk>
http://html5.org/temp/fetch.html

[06:33:11.0000] <zewt>
also it might help to know what the "becomes a return value" case is about (sounds like sync/async, but my first impression would be to do both with callbacks)

[06:33:15.0000] <annevk>
It hasn't run through Anolis yet so it's quite ugly

[06:33:58.0000] <annevk>
Basically "fetch" is the entry point, which might invoke some other algorithms asynchronously (or synchronously if the synchronous flag is set)

[06:34:00.0000] <zewt>
i mean, if you want a synchronous caller to fetch to be able to get the same info about what's happening (callbacks) as an async one

[06:35:19.0000] <annevk>
I guess I can keep the model where the other algorithms simply return the response to "fetch" which returns it in the end. And they also all queue tasks on the networking task source...

[06:35:45.0000] <annevk>
The latter model would be used by asynchronous invokers, the other model by synchronous...

[06:37:35.0000] <zewt>
so, "notify caller that preflight succeeded..." is a callbacky case

[06:37:56.0000] <annevk>
It still leaves some questions. E.g. how to queue tasks if we don't know yet it'll be a redirect.

[06:39:17.0000] <zewt>
could that be simply "invoke *preflight succeeded callback*, if set", make that an optional parameter to set, then let the caller sort out what to do with it (eg. queueing a task if it's async)

[06:39:37.0000] <zewt>
er, optional parameter to fetch (propagated down to this algorithm)

[06:41:53.0000] <annevk>
Actually, if we do this right we don't need that callback I think.

[06:41:58.0000] <zewt>
then since it's the caller queueing any tasks, fetch doesn't have to care (eg. if websocket or XHR use a different task source)

[06:42:35.0000] <zewt>
are you thinking of having progress events be fired by fetch?

[06:42:38.0000] <annevk>
XHR checks for "preflight complete" but "fetch" can handle that logic perfectly as it knows what is a preflight and what is not

[06:42:44.0000] <zewt>
(iirc they're not very uniform across apis...)

[06:43:12.0000] <annevk>
zewt: not the actual firing, but queueing tasks that make them possible

[06:43:35.0000] <zewt>
that's what this callback is, right?

[06:43:57.0000] <zewt>
(i don't care particularly about this callback, it's just the first callback i saw)

[06:44:22.0000] <annevk>
This callback is kinda pointless. It just indicates that the upload events start when the body is being transmitted, which will always be after the preflight anyway...

[06:44:51.0000] <annevk>
So I think I could remove that from XHR entirely and it would in effect say the same thing...

[06:45:53.0000] <zewt>
afk a bit

[06:45:58.0000] <annevk>
HTML has these callbacks for fetch today: tasks queued while receiving the entity body for incremental display of images. The final task at the end of fetch.

[06:48:04.0000] <annevk>
For XHR I need upload. I also want to clarify somehow that networking tasks should start when we know it's not a redirect. So basically when the entity body is being transferred...

[06:48:47.0000] <annevk>
But maybe we need more granularity for certain APIs...

[06:50:09.0000] <annevk>
I need Hixie

[07:21:37.0000] <annevk>
marcosc: you're missing "HTTP" in hosted app

[07:21:53.0000] <marcosc>
annevk: true

[07:22:03.0000] <marcosc>
Added, thanks!

[07:22:04.0000] <annevk>
marcosc: though calilng a packaged app "web" seems like a stretch

[07:22:13.0000] <marcosc>
heh

[07:22:16.0000] <marcosc>
also true

[07:22:29.0000] <marcosc>
changed it to packaged app

[07:22:52.0000] <marcosc>
hosted web app is ok

[07:22:58.0000] <marcosc>
it still runs off http

[07:40:06.0000] <darobin>
Hixie: do you mind sharing the preprocessor for the stuff that's showing up under http://www.w3.org/html/wg/drafts/html/master/tabular-data.html#parsing-the-sort-key step 5.2?

[07:42:11.0000] <Ms2ger>
Heh, neat

[07:42:36.0000] <darobin>
yeah, it's pretty neat

[07:42:57.0000] <Ms2ger>
And if it breaks you, all the better ;)

[07:43:42.0000] <darobin>
my sweet, sweet and belov√®d Ms2ger. :-*

[07:44:50.0000] <zewt>
gaaah

[07:45:16.0000] <zewt>
i click the order search box on amazon, start typing, and I end up with my search text randomly inserted in the middle of "Title, Department, Recipient"

[07:45:28.0000] <zewt>
dear amazon: use @placeholder, you idiots

[07:47:15.0000] <darobin>
I get the impression that adding more powerful form stuff has only encouraged developers to be more stupid in how they handle forms

[07:48:20.0000] <zewt>
seems like a few people use @placeholder, and everyone else goes "good idea!! i can do that in javascript!"

[07:52:59.0000] <darobin>
yeah

[07:53:12.0000] <darobin>
the Twitter search form helpfully voids itself on load

[07:53:20.0000] <darobin>
it's always great when you type faster than it loads

[07:53:24.0000] <darobin>
which is, well, rather easy

[07:55:44.0000] <zewt>
symptoms of people testing on local networks

[08:32:00.0000] <annevk>
ooh, I was already wondering what that was when reading the diff

[08:32:06.0000] <annevk>
so that's post-processed

[08:35:23.0000] <MikeSmith>
yeah

[08:37:11.0000] <MikeSmith>
seems like something that could be re-purposed in other specs

[08:37:14.0000] <MikeSmith>
fetch?

[08:37:26.0000] <MikeSmith>
the tool I mean

[08:39:04.0000] <annevk>
I was talking about Hixie's case-switch thingie

[08:39:13.0000] <annevk>
for once, although I'd love to talk about Fetch more :p

[08:40:56.0000] <MikeSmith>
I meant since you've just started writing up Fetch, if you have state-machine algorithms in there, you could write them using this case-switch shorthand, then have the tool make it into words for you

[08:41:31.0000] <annevk>
oh sorry, not that much case-switch going on right now

[08:42:18.0000] <dglazkov>
good morning, Whatwg!

[08:42:24.0000] <MikeSmith>
/me pipes a Mark Watson message from his mutt into lynx -stdin so that you can tell which parts are his words and which parts are stuff he's quoting

[08:42:56.0000] <MikeSmith>
/me wishes Mark would write all his messages from his iPhone instead because those are a lot easier to read

[08:53:54.0000] <annevk>
So XHR dispatches loadstart, then readystatechange readystatechange and then progress events start?

[08:54:15.0000] <annevk>
that's prolly roughly what should be happening

[08:56:10.0000] <annevk>
zewt: gsnedders: it seems for upload progress events we resolved to fire loadend when the outgoing buffer is empty

[08:56:20.0000] <annevk>
zewt: gsnedders: and not wait for ACK or some kind of HTTP response

[08:56:54.0000] <annevk>
zewt: gsnedders: http://lists.w3.org/Archives/Public/public-webapps/2012JanMar/0749.html

[10:20:23.0000] <annevk>
Hixie: reply to http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Mar/0024.html would be great, ta

[10:25:16.0000] <TabAtkins>
jgraham: Actually, I've pushed back on single-line comments in CSS until someone can demonstrate a low chance of breakage, particularly in minified stylesheets.

[10:26:30.0000] <annevk>
only allow them when a line starts with whitespace followed by // ?

[10:26:40.0000] <annevk>
but maybe that's not good enough for people

[10:28:32.0000] <TabAtkins>
Nah, people want them at the end of a line, after a property.

[10:38:17.0000] <GPHemsley>
I want the ability to comment properties out without having to go to the beginning and end of a file.

[10:38:27.0000] <GPHemsley>
s/file/line/

[10:38:44.0000] <TabAtkins>
That's easy - just put any invalid property-name char at the beginning of the line.

[10:38:50.0000] <TabAtkins>
If you want, use //

[10:39:35.0000] <GPHemsley>
Yeah, I was thinking that might work

[10:39:53.0000] <TabAtkins>
That "comments it out" by invalidating the declaration, which causes the parser to swallow and ignore the entire declaration but no more.

[10:40:17.0000] <GPHemsley>
hmm... that could even work for inline styles, huh?

[10:40:22.0000] <TabAtkins>
Yup.

[10:40:27.0000] <GPHemsley>
interesting

[10:40:36.0000] <GPHemsley>
I wonder if that should be documented/reminded somewhere?

[10:40:56.0000] <TabAtkins>
The annoying part is that if you want to put a comment *after* a declaration, using // will eat the *next* declaration instead.

[10:41:23.0000] <GPHemsley>
right

[10:41:48.0000] <GPHemsley>
what if you end your comment in a semicolon?

[10:41:55.0000] <TabAtkins>
That'll work.

[10:42:01.0000] <GPHemsley>
hmm

[10:42:26.0000] <TabAtkins>
That doesn't help with comments between blocks, though.  There you'd need to end the comment with a {}, I think.

[10:42:31.0000] <TabAtkins>
Though... maybe not.  Let me test.

[10:43:37.0000] <TabAtkins>
No, you definitely need a {}, because the parser thinks it's in the selector for a style rule.

[10:44:27.0000] <TabAtkins>
So, as long as you're commenting inside of a block, you can do "// <comment here>;" and it'll work.

[10:44:36.0000] <TabAtkins>
Outside of a block, just use block comments.

[10:45:04.0000] <GPHemsley>
that sounds fair

[10:45:04.0000] <TabAtkins>
That might actually be useful to document.

[10:45:19.0000] <TabAtkins>
There's a thread waiting on some conclusions about this - I'll bring it up there.

[10:45:34.0000] <GPHemsley>
Blocks require block comments. That's easy to rememeber.

[10:46:21.0000] <GPHemsley>
Perhaps even explicitly reserve the '//' property for comments?

[10:46:29.0000] <GPHemsley>
(IDK how that works.)

[10:46:41.0000] <TabAtkins>
Properties already can't be named // anyway - they're restricted to idents.

[10:47:06.0000] <GPHemsley>
Hmm... by that logic, then, you could also use #, right?

[10:47:10.0000] <TabAtkins>
Yup.

[10:47:18.0000] <TabAtkins>
Anything and everything that's not a valid property name.

[10:47:22.0000] <GPHemsley>
right

[12:09:41.0000] <Hixie>
any blog admins around?

[12:14:21.0000] <JonathanNeal>
i have a blog

[12:14:50.0000] <Hixie>
i meant the whatwg blog

[12:14:52.0000] <Hixie>
sorry :-)

[12:22:31.0000] <jgraham>
I have an admin (but not for the WHATWG blog)

[12:22:33.0000] <jgraham>
(I think)

[12:37:01.0000] <GPHemsley>
a wiki could be used as a blog... does that count? ;)

[13:02:57.0000] <zewt>
line comments that don't actually work anywhere sound unpleasant

[14:01:19.0000] <jgraham>
MikeSmith: Hej, at some point when you have a moment it would be awesome if you could look and see if there are any serverside errors that look like they correspond to what Ken's seeing?

[14:01:37.0000] <jgraham>
Hmm, that wasn't actually a question

[14:01:57.0000] <jgraham>
s/\?/./ perhaps

[14:03:00.0000] <jgraham>
It is pretty non-obvious to me why it would work for me and for you (most of the time) but never for him, unless it is something on his local network

[14:03:03.0000] <jgraham>
But still

[14:24:26.0000] <annevk>
Hixie: you around?

[14:25:06.0000] <annevk>
Hixie: my first question was about <img> does fetch, then another <img> does a fetch, both queue network tasks, how do you know which task is for which image?

[14:25:38.0000] <Hixie>
why would you not know?

[14:25:59.0000] <Hixie>
that's like saying you put a ball on the ground, i put a ball on the ground, how do you know which ball was put down by whom

[14:32:29.0000] <annevk>
Hixie: there's nothing in the task queue design that tells you these things

[14:33:15.0000] <zewt>
annevk: "the buffer is empty" implies the ACK is received, by definition

[14:34:16.0000] <annevk>
Hixie: as for tasks for uploading, don't you need to signify from the network layer that something is happening and then have the API layer expose that?

[14:41:19.0000] <annevk>
zewt: k

[14:52:39.0000] <Yuhong>
Ah, the WaSP.

[14:53:31.0000] <Yuhong>
That is the one that petitioned Netscape to cancel Mariner, leaving Netscape nothing to compete in time for IE5.

[14:53:48.0000] <Yuhong>
Which ended up increasing the use of document.all.

[14:54:08.0000] <Yuhong>
To the point other browsers had to implement it!

[14:55:40.0000] <Yuhong>
And yea, Mariner was going to implement getElementById too.

[14:55:50.0000] <tantek>
but not CSS

[14:56:01.0000] <tantek>
which was just a wee bit more important than getElementById

[14:56:31.0000] <Yuhong>
Netscape 4 implemented CSS but poorly, Netscape 5 was going to implement CSS better.

[14:56:52.0000] <tantek>
"poorly" is being generous

[14:57:06.0000] <tantek>
"better" than "poorly" was nowhere near good enough

[14:57:22.0000] <tantek>
(in comparison to what everybody else was coding support for)

[14:59:05.0000] <Yuhong>
If I was going to fix CSS support in NS4, I'd consider instead of depending on the JS parser, to have the CSS parser directly call the JSSS functions.

[14:59:22.0000] <tantek>
lol

[14:59:46.0000] <tantek>
except for that whole CSS suddenly disappearing when JS was turned off problem ;)

[15:00:01.0000] <annevk>
Hixie: I think those are basically my questions

[15:00:59.0000] <annevk>
Hixie: and maybe how to queue tasks on the networking task force specifically for cases such as "transmitting entity body", "headers are processed", "receiving entity body", ... and then how the API hooks into those

[15:01:34.0000] <annevk>
Hixie: it all feels a bit handwavy at the moment and in fact XHR has somewhat differing requirements as to when to dispatch progress events :-(

[15:01:57.0000] <annevk>
Hixie: if the fetching model was perfectly clear, none of that would be problematic

[15:04:03.0000] <Yuhong>
To be honest, the CSS spec wasn't all that good either.

[15:04:24.0000] <tantek>
a few of us managed to make it work ;)

[15:04:55.0000] <Yuhong>
hsivonen mentioned in retrospect the CSS spec should have been changed to match browsers instead of quirks and standards mode.

[15:05:48.0000] <Hixie>
annevk: re upload, nothing i've done does anything on upload as far as i know, so i haven't done anything with that

[15:06:14.0000] <tantek>
browsers didn't agree - so there was no such thing as "changed to match browsers"

[15:06:31.0000] <Hixie>
annevk: but sure, if you want to do something that depends on network buffers emptying or something, then sure, tasks for that makes sense

[15:06:36.0000] <annevk>
tantek: the table quirk is pretty much agreed upon now

[15:06:53.0000] <Hixie>
annevk: i don't really understand the other question though. do you have a concrete example of what's ambiguous?

[15:06:54.0000] <tantek>
yes, now.

[15:06:58.0000] <Yuhong>
Yes, but they did agree on one thing that deviated from the CSS standards (box model).

[15:07:01.0000] <tantek>
but not in 1999/2000

[15:07:09.0000] <tantek>
yuhong - nah - depended on which element

[15:07:21.0000] <tantek>
browsers themselves (especially NS) were inconsistent

[15:07:53.0000] <annevk>
Hixie: e.g. how many tasks does XHR use to change from OPENED to HEADERS_RECEIVED to LOADING to DONE assuming there's no response entity body?

[15:09:09.0000] <annevk>
Hixie: I think the browser networking model uses three tasks for that, but there's nothing really currently that requires that in fetch

[15:09:26.0000] <annevk>
Hixie: you could have a single task for the entire response

[15:09:50.0000] <jamesr>
is there a web observable behavior difference?

[15:09:54.0000] <zewt>
annevk: does it matter? ^

[15:10:31.0000] <jamesr>
could you ever tell if a browser was using 1 task or using 3 separate tasks and just choosing to service the tasks from the networking task source back to back?

[15:10:42.0000] <zewt>
i suppose if they're in separate tasks, then it's not guaranteed that nothing can happen between them, where if (in that case) they always use one task, it is

[15:11:05.0000] <jamesr>
it could, but since it's a separate task source it's up to the browser whether anything else happens in between or not

[15:11:12.0000] <jamesr>
since the browser can pick which task source to service at any point in time

[15:11:29.0000] <Yuhong>
Now I realize that even versioning as a buzzword don't make sense.

[15:11:34.0000] <annevk>
jamesr: I'm not sure if there's an observable difference

[15:11:38.0000] <jamesr>
annevk, then why do you care?

[15:11:41.0000] <zewt>
jamesr: right, but if they're in a single task, then they're *required* to ensure nothing else happens in between; in separate tasks, they can choose to do so or not to

[15:11:55.0000] <Hixie>
annevk: well yeah. you could be receiving one byte per TCP packet, or you could get the whole GB all at once with the OS only telling you once it's buffered the whole thing, there's no way to say which is going to happen

[15:12:04.0000] <jamesr>
zewt, very true. so the difference is if you want to require them be back-to-back or not

[15:12:09.0000] <jamesr>
i can't imagine why you would want to

[15:12:12.0000] <Hixie>
annevk: so the number of tasks is entirely arbitrary

[15:13:18.0000] <Yuhong>
MozillaZine's article on this: http://www.mozillazine.org/talkback.html?article=1708

[15:13:38.0000] <zewt>
jamesr: well, if in common cases you can never sit blocked in some of those states on network activity (which I think is the case), then you might be able to get more deterministic behavior

[15:14:01.0000] <zewt>
eg. annevk: weren't you noting that it's impossible to actually sit in HEADERS_RECEIVED, since you always go right to LOADING (or something along those lines)?

[15:14:20.0000] <annevk>
jamesr: I care because a) I don't know and b) XHR is currently somewhat unclear as to whether you could skip certain states because of this

[15:14:59.0000] <annevk>
zewt: I was, but I might have been incorrect if the fetching layer actually does distinguish that case and queues a separate task for it (as XHR expects)

[15:15:59.0000] <zewt>
right, but if in reality browsers do run those states atomically, then it might make sense to require it be in a single task

[15:16:07.0000] <zewt>
(no clue if they do or not)

[15:16:28.0000] <zewt>
probably a tough thing to test, too...

[15:16:42.0000] <zewt>
could depend on buffer sizes, etc

[15:16:45.0000] <jamesr>
so you suspect there are cases where the spec could be more exact, but you aren't sure if that matches implementation's behavior?

[15:17:27.0000] <annevk>
jamesr: no, I think the spec might be incorrect in certain cases because it expects an order that's not necessarily given

[15:18:03.0000] <jamesr>
have an example?

[15:18:05.0000] <zewt>
sorry, lost you a bit--what ordering isn't given?

[15:18:35.0000] <annevk>
jamesr: http://xhr.spec.whatwg.org/#same-origin-request-event-rules will be used exactly once if there was only ever one networking task

[15:18:51.0000] <annevk>
jamesr: which basically falls flat

[15:19:41.0000] <zewt>
actually i don't really know what this section means

[15:20:18.0000] <zewt>
what does "While making the request also follow the same-origin request event rules."? when are these "rules" triggered?

[15:20:51.0000] <zewt>
maybe this is tied to language in fetch that I'm just not familiar with

[15:21:17.0000] <Yuhong>
From http://blogs.msdn.com/b/ieinternals/archive/2011/03/23/understanding-local-machine-zone-lockdown-restricted-this-webpage-from-running-scripts-or-activex-controls.aspx

[15:21:17.0000] <annevk>
no it's vague and I want to fix it

[15:21:55.0000] <annevk>
in part by getting the answer as to whether fetch should give explicit callbacks for these situations or not

[15:22:24.0000] <zewt>
while i'm not the one you want an answer from, i expect the answer is yes :)

[15:22:27.0000] <Yuhong>
About the IE team citra early 2004 when no real work was done on the rendering engine itself: "But it's understandable, at the time, I believe the IE team was under a dozen brave souls, and boy were they busy.]"

[15:23:19.0000] <annevk>
Hixie: would it work to queue tasks on the networking task source with certain hints associated with them?

[15:23:58.0000] <annevk>
Hixie: e.g. "upload task", "headers in the bag task", "receiving some entity task", ...

[15:24:26.0000] <Yuhong>
As I mentioned before, even later on it took until XHTML and DOM Level 2 was more than *10* years old for IE to finally implement them.

[15:24:56.0000] <zewt>
annevk: personally I wouldn't queue tasks, just take algorithm-callbacks by name and invoke them

[15:25:10.0000] <zewt>
if the user (eg. xhr) wants them to happen in some task, then queue a task from there

[15:25:20.0000] <Yuhong>
And by then, XP was in extended support, and thus MS did not release IE9 for them, making IE8 the new Netscape 4.

[15:25:31.0000] <annevk>
Hixie doesn't want to change the model and HTML uses tasks for this all over

[15:25:39.0000] <zewt>
(for XHR, it might want them in the XHR's personal task source, rather than networking)

[15:26:18.0000] <annevk>
We can make the task source configurable, sure

[15:26:23.0000] <zewt>
annevk: don't need to change the model from HTTP's point of view; just wrap the algorithm if needed and you'll get the same result

[15:26:33.0000] <Yuhong>
Why does jQuery 2.0 not support IE8?

[15:27:22.0000] <annevk>
zewt: that sounds hacky

[15:27:23.0000] <Yuhong>
In fact, what changed in IE7 and IE8 is pretty small compared to what changed in IE9.

[15:27:26.0000] <zewt>
not sure

[15:28:33.0000] <annevk>
anyway, bedtime

[15:28:53.0000] <zewt>
don't think it's hacky (it's just like any compatibility shim in an API), but dunno if it's right, either

[15:32:25.0000] <Yuhong>
And BTW mutation events reminds me of win32k user mode callbacks.

[15:33:08.0000] <Yuhong>
http://www.mista.nu/research/mandt-win32k-paper.pdf

[15:35:07.0000] <Yuhong>
With IE10 not implementing mutation observers, I wonder if browsers will ever be able to remove it.

[15:35:14.0000] <Yuhong>
*mutation events.

[15:39:46.0000] <Yuhong>
BTW, the quirks vs standards mode is mentioned in http://www.w3.org/wiki/Evolution/Versions

[15:40:05.0000] <Yuhong>
I am thinking of using CSS box model as an example.

[15:40:29.0000] <Yuhong>
When I finally begin to edit the wiki.

[15:47:02.0000] <Hixie>
anne: don't understand what this is for


2013-03-05
[16:25:35.0000] <jpwhiting>
hey all, I'm trying to use a local copy of validator.nu to validate against a custom schema, but haven't found how to enter the custom schema into the web service

[16:25:49.0000] <jpwhiting>
is this the right place to ask about it?

[16:26:40.0000] <jpwhiting>
hmm, the irc page says many of you share my timezone -0700 interesting

[16:26:44.0000] <jpwhiting>
anyone around by chance?

[16:28:17.0000] <Hixie>
this is a reasonable place to ask

[16:28:23.0000] <Hixie>
you want MikeSmith or hsivonen

[16:28:39.0000] <Hixie>
they're both probably asleep right now

[16:28:41.0000] <jpwhiting>
ok, thx

[16:28:44.0000] <jpwhiting>
ah, europeans?

[16:28:56.0000] <Hixie>
hsivonen: is in europe and MikeSmith in japan

[16:28:59.0000] <Hixie>
er

[16:29:00.0000] <jpwhiting>
np, I'll hang out here for the next week or so probably

[16:29:08.0000] <Hixie>
s/ hsivonen / jpwhiting

[16:29:12.0000] <jpwhiting>
hehe

[16:29:20.0000] <Hixie>
or no, just remove the colon

[16:29:22.0000] <Hixie>
what am i saying

[16:29:25.0000] <jpwhiting>
I've already messed up your tab completion hehe

[16:29:26.0000] <Hixie>
i'm clearly too tired to be working

[16:29:30.0000] <Hixie>
time to edit the spec

[16:33:58.0000] <Hixie>
ap: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=18460

[16:34:15.0000] <ap>
Hixie: looking

[16:37:48.0000] <ap>
Hixie: I don't have a proposed verbiage for the spec. All I know is that XSLT spec requires producing <br></br>, and that this is bad for HTML

[16:38:20.0000] <ap>
Hixie: Simon Pieters appears to know more, having said "If you're going to fix it, why not fix it properly?"

[16:39:21.0000] <ap>
Hixie: whether we can get XSLT spec to change, I also don't know

[16:39:32.0000] <Hixie>
surely XSLT outputs XML

[16:39:43.0000] <Hixie>
if it outputs </br> in text/html then it's just wrong

[16:39:56.0000] <Hixie>
which doesn't seem like an HTML bug

[16:40:10.0000] <ap>
Hixie: they wrote their spec under the assumption that HTML elements have an empty namespace

[16:40:17.0000] <ap>
Hixie: and then HTML changed

[16:41:38.0000] <ap>
Hixie: HTML spec already patches the XSLT spec, http://www.w3.org/TR/html5/dom.html#interactions-with-xpath-and-xslt

[16:41:49.0000] <Hixie>
woah, man, don't like to the TR/ page :-)

[16:41:56.0000] <Hixie>
http://whatwg.org/#interactions-with-xpath-and-xslt

[16:41:58.0000] <Hixie>
er

[16:42:01.0000] <Hixie>
http://whatwg.org/html#interactions-with-xpath-and-xslt

[16:42:08.0000] <zewt>
it's a trap

[16:42:30.0000] <ap>
Hixie: sorry, didn't mean to offend :). just copied the link from https://www.w3.org/Bugs/Public/show_bug.cgi?id=18460

[16:42:37.0000] <Hixie>
ap: sure, i'm happy to patch it more. i just need to know what to say.

[16:43:13.0000] <Hixie>
anyway, i'll ping zcorpan again

[17:23:49.0000] <MikeSmith>
jpwhiting: hi. Looking now

[17:25:34.0000] <MikeSmith>
jpwhiting: ok, you need to use the "schema" parameter

[17:25:41.0000] <MikeSmith>
http://wiki.whatwg.org/wiki/Validator.nu_Common_Input_Parameters#schema

[17:26:01.0000] <MikeSmith>
"This parameter takes a space-separated list of schema IRIs (http or https). The schemas can be RELAX NG 1.0 schemas, Schematron 1.5 schemas or identifiers for built-in non-schema-based checkers."

[17:29:50.0000] <jpwhiting>
MikeSmith: yeah, I'd like to embed mine into the validator.nu itself running locally, but haven't been able to yet

[17:30:13.0000] <MikeSmith>
ah

[17:30:31.0000] <jpwhiting>
I've also found two places within the tool that have schemas, both syntax/relaxng and validator/schema

[17:30:38.0000] <jpwhiting>
not sure which location is used

[17:31:27.0000] <jpwhiting>
I've copied my schema .rnc file to both places and it includes other .rnc files also, but I get an error http://paste.kde.org/687836/

[17:31:53.0000] <jpwhiting>
and have added it to both validator/entity-map.txt and validator/presets.txt

[17:32:20.0000] <jpwhiting>
it's a copy of syntax/relaxng/html5.rnc with some things commented out like ruby and svg

[17:35:04.0000] <MikeSmith>
jpwhiting: if you go into the validator/src/nu/validator/localentities/files directory, do you see a corresponding file there?

[17:36:11.0000] <jpwhiting>
MikeSmith: nope

[17:36:16.0000] <jpwhiting>
no *sta* in there

[17:36:25.0000] <jpwhiting>
I am trying to run with build/build.py --local run

[17:37:19.0000] <MikeSmith>
did you already do a "build/build.py build" after you added the scheam?

[17:37:27.0000] <MikeSmith>
*schema

[17:37:28.0000] <jpwhiting>
ah, no

[17:37:29.0000] <jpwhiting>
/me tries

[17:39:57.0000] <jpwhiting>
ok, then if I run it gives a different error, Syntax error File: http://s.validator.nu/common.rnc Line: 1 Col: 0

[17:40:01.0000] <jpwhiting>
is it not expecting rnc format?

[17:42:01.0000] <jpwhiting>
http://paste.kde.org/687854/

[17:42:47.0000] <MikeSmith>
jpwhiting: Reference to undefined pattern ‚Äúhtml.elem‚Äù.

[17:42:52.0000] <MikeSmith>
appsears to be the root cause

[17:43:24.0000] <MikeSmith>
your schema seems to be using the html.elem pattern before it's defined

[17:43:29.0000] <jpwhiting>
ah, that appears after include "common.rnc"

[17:43:39.0000] <jpwhiting>
just like in syntax/relaxng/html5.rnc

[17:44:03.0000] <jpwhiting>
do I need to move start = html.elem above it?

[17:44:34.0000] <jpwhiting>
does it use the rnc files from syntax/relaxng? or from validator/schema I guess

[17:45:18.0000] <jpwhiting>
/me moves it in validator/schema/sta.rnc

[17:45:26.0000] <jpwhiting>
and rebuilds

[17:45:31.0000] <MikeSmith>
yeah that's probably what you want

[17:46:06.0000] <MikeSmith>
I think what those errors indicate is that it's not finding a common.rnc file a tall

[17:46:09.0000] <MikeSmith>
*at all

[17:46:32.0000] <MikeSmith>
nor any of the other includes

[17:46:38.0000] <jpwhiting>
ah, because that's in syntax/relaxng but not validato/schema

[17:46:41.0000] <jpwhiting>
ok, /me copies

[17:51:21.0000] <MikeSmith>
yeah that may work

[17:51:34.0000] <MikeSmith>
it's seems to be finding the "meter.rnc" file OK

[17:51:47.0000] <MikeSmith>
which I assume is a file you added

[17:51:55.0000] <jpwhiting>
yep

[17:52:10.0000] <MikeSmith>
so if you put copies of the other files in the same place where that one is, you should be OK

[18:19:41.0000] <MikeSmith>
hsivonen: http://validator.nu/ not responding (though http://html5.validator.nu/ is responding fine)

[18:39:08.0000] <MikeSmith>
jgraham: https://code.google.com/p/pywebsocket/issues/detail?id=101 is the same as what's causing the websocket test problems, I think

[18:39:30.0000] <MikeSmith>
fix is https://code.google.com/p/pywebsocket/source/detail?r=552 "Support Python 2.7"

[18:39:58.0000] <MikeSmith>
I think I just need to update the pywebsocket install on w3c-test.org and that should fix it

[18:40:02.0000] <MikeSmith>
hopefully

[18:43:52.0000] <MikeSmith>
hmm no

[18:43:55.0000] <MikeSmith>
unfortunately

[18:44:01.0000] <MikeSmith>
we already have that fix

[18:57:52.0000] <jpwhiting>
MikeSmith: ok, another question, validator/entity-map.txt has html5/html5full.rnc and such but there's no html5 folder in validator/schema

[18:58:01.0000] <jpwhiting>
where do those files come from?

[18:58:46.0000] <MikeSmith>
from syntax/relaxng

[18:59:09.0000] <MikeSmith>
that "html5/" basically is an alias for syntax/relaxng

[19:00:00.0000] <MikeSmith>
sorry for the hairiness of this but it's not something that's really designed to be user-hackable very easily

[19:00:19.0000] <jpwhiting>
ah, so I don't need to copy these files from syntax/relaxng to validator/schema, just need to make my schema use html5/blah for it's includes

[19:00:21.0000] <jpwhiting>
makes sense

[19:00:31.0000] <MikeSmith>
even when I go in and touch that stuff I have to re-learn where everything is

[19:00:46.0000] <jpwhiting>
ah, np I didn't expect it to be simple (for a project that use a build script for running a web service too) :)

[19:00:52.0000] <jpwhiting>
yep, np

[19:04:05.0000] <jpwhiting>
sweet, that worked :)

[19:12:41.0000] <jpwhiting>
hmm, seems to get stuck on the initial html tag though :/

[19:13:10.0000] <jpwhiting>
http://pastebin.com/dkW3xxFV says unnamespaced html element as the first and only error

[19:13:18.0000] <jpwhiting>
when using my schema or html5+svg+mathml schema

[19:13:59.0000] <jpwhiting>
/me checks the html5.rnc that's used in the presets, maybe I'm missing something

[20:23:51.0000] <MikeSmith>
jpwhiting: that would seems to indicate that it's going through the XML parser for some reason

[20:24:02.0000] <MikeSmith>
ah yeah I think I know why

[20:24:18.0000] <MikeSmith>
you have to tell that code that's an HTML-compatiable schema

[20:24:24.0000] <MikeSmith>
I think otherwise it assumes XML

[20:24:34.0000] <MikeSmith>
gimme a minute

[20:27:51.0000] <MikeSmith>
ah no

[20:28:04.0000] <MikeSmith>
it's in the JS for the UI

[20:29:55.0000] <MikeSmith>
jpwhiting: validator/site/script.js you have to add your schema URI to that list of isHtmlCompatiblePreset URIs

[20:30:09.0000] <MikeSmith>
otherwise the validator is going to assume it's XML

[20:54:36.0000] <esprehn_>
hmm, how do you do a createPattern but with image scaling?

[20:54:44.0000] <esprehn_>
drawImage takes a dh and dw

[20:56:00.0000] <esprehn_>
oh sigh, you need to drawImage() it into another canvas :(

[23:26:18.0000] <annevk>
Hixie: :-(

[23:28:54.0000] <annevk>
Hixie: It's really simple. XHR invokes fetch, asynchronously for the purposes of this discussion. Fetch queues tasks. XHR needs to piggyback on those tasks to do various things. If we can label the tasks somehow, that would make the piggybacking easier as the relationship between the tasks queued and what XHR is doing would be perfectly clear.

[23:30:32.0000] <annevk>
Hixie: And as far as I can tell there's a couple of such points: data is being transmitted to the server, header data has been received from the server, body data is being received from the server, everything is in

[23:32:13.0000] <annevk>
So the HTML WG does really copy the WHATWG, including typos in my last name: https://github.com/w3c/html/commit/b2e4d7e252df4c1be9e71666ec794ab0b2fa3a3e

[23:32:34.0000] <annevk>
Glad to see they're also adopting the URL Standard though, that's nice.

[23:33:40.0000] <annevk>
Also amusing that Microsoft would make such a commit. Maybe they didn't pay attention to what was going on? With DOM Parsing & Serialization they were all over it.

[00:54:01.0000] <annevk>
I guess I'll go with both tasks  and callback like things like DOM has. E.g. such as http://dom.spec.whatwg.org/#node-is-inserted

[01:23:49.0000] <SteveF>
MikeSmith: https://twitter.com/brucel/status/308862208396386305

[01:25:19.0000] <annevk>
source code of opera.com looks pretty buggy

[01:26:46.0000] <marcosc>
annevk: is ok, it works in webkit :)

[01:27:27.0000] <annevk>
and it has <main>, prolly all good

[01:27:57.0000] <marcosc>
heh

[01:28:39.0000] <odinho>
Hmm. Should have a tidy post-processing step probably.

[01:29:01.0000] <odinho>
Just because, strange people like annevk takes a look at the source without using an inspector which does it for you P:

[01:30:03.0000] <annevk>
You make me feel like an endangered species

[01:30:43.0000] <SteveF>
so question is does opera mini beta for android expose acc layer provided in webkit?

[01:31:15.0000] <SteveF>
will test and find out...

[01:32:37.0000] <gsnedders>
SteveF: There is no Opera Mini Beta ‚Äî there is just "Opera", with both the Chromium-based renderer and the Presto-based "off-the-road mode".

[01:33:28.0000] <SteveF>
gsnedders: OK so same question diff name

[01:34:00.0000] <jgraham>
SteveF: I think gsnedders answered the question :)

[01:34:22.0000] <gsnedders>
The OBML impl is largely the same, so change there won't exist. The Chromium-based renderer I don't know about here.

[01:35:16.0000] <SteveF>
"Chromium-based renderer" may equal acc layer exposed

[01:36:21.0000] <odinho>
SteveF: Waiting for it ;-)

[01:36:48.0000] <SteveF>
odinho: so is that a not yet?

[01:36:59.0000] <odinho>
SteveF: Waiting for you to test it, that is :D

[01:37:22.0000] <asmodai>
I must say, Opera 14 on my mobile works nicely so far.

[01:37:28.0000] <SteveF>
odinho: OK am firing up nexus now

[01:56:55.0000] <SteveF>
and nexus won't fire up...

[01:57:23.0000] <odinho>
:/

[02:07:21.0000] <SteveF>
some bug when the battery is low, now how to fix

[02:09:33.0000] <annevk>
http://lists.w3.org/Archives/Public/www-international/2013JanMar/0327.html "The web site uses its own non-standard tags, tc and sc. Instead, they should be using the BCP 47 tags zh-Hant and zh-Hans (or zh-Hant-HK and zh-Hans-HK)."

[02:10:05.0000] <annevk>
Given that people already do simple stuff like lang=nl incorrectly, asking them to go to those extremes...

[02:10:23.0000] <annevk>
I think that's basically asking for people to give up on correct annotation.

[02:15:02.0000] <mounir>
annevk: lang=nl is incorrect?

[02:15:30.0000] <annevk>
mounir: no, but people forget to tag it as such or use lang=en instead due to copypasta, etc.

[02:18:06.0000] <mounir>
"tag it as such"?

[02:18:37.0000] <SimonSapin>
mounir: forget to have a lang attr at all?

[02:19:04.0000] <Ms2ger>
<html>Stroopwafels

[02:19:07.0000] <Ms2ger>
<html lang=en>Stroopwafels

[02:19:29.0000] <mounir>
I guess I just should sleep more during the night...

[02:19:47.0000] <annevk>
mounir: http://www.answers.com/topic/tag 11.1 ;-)

[02:19:48.0000] <SimonSapin>
sleeping during the day is fine too

[02:20:00.0000] <annevk>
sleep all the things

[02:20:15.0000] <annevk>
Ms2ger: yum

[02:32:20.0000] <mounir>
SimonSapin: indeed, the main issue is that not everybody agrees with that

[02:38:56.0000] <annevk>
If you have a class that has a couple of subclasses. How do you refer to the class excluding the subclasses?

[02:39:12.0000] <annevk>
And how would you refer to the class including the subclasses?

[03:24:07.0000] <marcosc>
mmm... copypasta

[03:27:07.0000] <marcosc>
annevk: about the classes, are you speaking generally or in some particular language?

[03:31:35.0000] <annevk>
Is https://groups.google.com/forum/?fromgroups=#!forum/jquery-standards dead?

[03:31:43.0000] <annevk>
marcosc: language is English

[03:36:12.0000] <marcosc>
annevk: argh, that's hard as it's context dependent. And gets into taxonomies.

[03:36:38.0000] <annevk>
marcosc: you have a response

[03:36:52.0000] <jgraham>
onology!

[03:36:57.0000] <annevk>
marcosc: a response can be a redirect or network error any other response, named response

[03:36:57.0000] <jgraham>
/me wins the thread

[03:37:15.0000] <annevk>
or any other response*

[03:37:28.0000] <jgraham>
Or I would if I could type

[03:37:31.0000] <jgraham>
sigh

[03:37:33.0000] <annevk>
sometimes you want to refer to response and include redirects and network errors, sometimes you don't

[03:37:53.0000] <jgraham>
*ontology

[03:38:26.0000] <marcosc>
./ban jgraham "forbidden word used!"

[03:38:37.0000] <annevk>
lets owl it up

[03:38:45.0000] <marcosc>
heh

[03:38:49.0000] <annevk>
but really, none of this is helping

[03:38:57.0000] <marcosc>
annevk: you might make a group just for those cases

[03:39:45.0000] <annevk>
marcosc: name it

[03:40:01.0000] <marcosc>
/me runs bikeshed.js

[03:43:07.0000] <marcosc>
argh. That's a hard one. I wonder if you are just better off listing them as you do above.

[03:45:11.0000] <marcosc>
given that you have response already cleanly defined; then you just include x, and exclude y, as you just did. That was making pretty good sense to me.

[03:45:29.0000] <marcosc>
even jgraham could follow along! :)

[03:45:38.0000] <annevk>
okay, so that's what I've done so far

[03:46:39.0000] <jgraham>
/me isn't following :p

[03:47:47.0000] <marcosc>
heh

[04:09:16.0000] <annevk>
Okay, so http://html5.org/temp/fetch.html is a bit clearer now... Now I guess I need to define "request" and remove some of those red boxes...

[04:12:53.0000] <hsivonen>
oh. lovely. Thunderbird uses a different encoding detector interface than Firefox

[04:13:03.0000] <hsivonen>
but we are building that code for Firefox, too

[04:14:14.0000] <annevk>
Meaning we just have some additional dead code?

[04:14:34.0000] <hsivonen>
annevk: well, it's not dead in TB. but dead in FF, yeah

[04:26:48.0000] <hsivonen>
annevk: I wonder if we have use cases for the CJK detector...

[05:07:22.0000] <smaug____>
annevk: so what did you decide? HEADERS_RECEIVED + LOADING in the same task or separate ?

[05:08:16.0000] <smaug____>
ah, perhaps no decision yet. fetch.html doesn't mention either one

[05:14:29.0000] <SteveF>
odinho: browser chrome is usable with talkback on android can't get anything from web content, but that maybe just me as I am not overly familiar with AT on android

[05:27:44.0000] <mounir>
annevk: ping

[05:32:19.0000] <annevk>
mounir: yo

[05:32:59.0000] <annevk>
smaug____: can you think of a way to make that detectable?

[05:33:13.0000] <annevk>
smaug____: if not, it probably does not make sense to make requirements either way

[05:33:52.0000] <annevk>
smaug____: I will make it more explicit in what order headers -> loading -> progress -> done happens though via some kind of English version of callbacks

[05:33:55.0000] <smaug____>
annevk: it is detectable with nested event loop spinning.

[05:34:24.0000] <annevk>
jamesr: ^

[05:34:28.0000] <mounir>
annevk: refresh my memory: if I have a connnection from my laptop (like file:///) to a server, the CORS request will use "Origin: null"?

[05:34:51.0000] <annevk>
mounir: yes, if that works at all

[05:35:06.0000] <mounir>
what do you mean?

[05:35:45.0000] <annevk>
mounir: well UAs might disallow outgoing requests from file: as that could be a privacy concern of sorts

[05:36:20.0000] <mounir>
ok

[05:36:43.0000] <annevk>
smaug____: so during headers_received you invoke showModalDialog or some such and then what? I always forget how this works

[05:37:29.0000] <mounir>
so if UA allows it, we have "Origin: null" and should "Access-Control-Allow-Origin: *" makes "Origin: null" allowed?

[05:37:34.0000] <mounir>
(on the server side)

[05:39:35.0000] <smaug____>
annevk: right. if state is changed twice during the same task and first change spins event loop, the second state change happens only after nested spinning ends... and in fact it would be possible to get ordering wrong. 11243, I think

[05:40:55.0000] <annevk>
smaug____: so once data: URL fetching works, everything will be fetched at once basically

[05:41:18.0000] <annevk>
smaug____: (just saying as another data point)

[05:41:44.0000] <smaug____>
does data: fetching need to work that way?

[05:42:04.0000] <annevk>
we're going to define how it works, it could queue 3 networking tasks

[05:45:10.0000] <annevk>
smaug____: so I think what you're saying makes me think we should always have at least 4 tasks

[05:45:16.0000] <annevk>
1. headers are in

[05:45:27.0000] <annevk>
2. part of the body is in or there is no body

[05:45:38.0000] <annevk>
3. progress is made (repeat)

[05:45:41.0000] <annevk>
4. teehee

[05:46:03.0000] <odinho>
I like the teehee-part.

[05:46:16.0000] <annevk>
mounir: euhm, yes

[05:46:33.0000] <annevk>
mounir: but if there's credentials in the request, it needs to be spelled "null" on the server

[05:46:51.0000] <annevk>
mounir: and there'd need to be a Access-Control-Allow-Credentials header

[05:46:57.0000] <smaug____>
annevk: well, 3 is optional

[05:47:13.0000] <hsivonen>
annevk: is the right way to do encoding alias resolution from JS to do (new TextDecoder(label)).encoding ?

[05:47:31.0000] <annevk>
smaug____: so sometimes we'd not dispatch progress at all? even though we'd dispatch loadstart and loadend? (works for me btw)

[05:47:43.0000] <annevk>
hsivonen: yes

[05:48:02.0000] <hsivonen>
annevk: except that returns in lower case rather than Gecko-canonical case, right?

[05:48:11.0000] <annevk>
hsivonen: yes and it also does not work for replaced

[05:48:17.0000] <mounir>
annevk: didn't catch that

[05:48:39.0000] <annevk>
mounir: is this a fetch via XHR?

[05:48:49.0000] <hsivonen>
annevk: sigh. I guess we'll need some xpconnected goo for getting the pref UI right

[05:49:07.0000] <annevk>
mounir: if so, server requirements depend on the withCredentials attribute

[05:49:27.0000] <annevk>
hsivonen: it seems kinda odd to put such a thing in the standard

[05:49:37.0000] <mounir>
annevk: yes, it's trough XHR

[05:49:46.0000] <annevk>
hsivonen: but implementing the requirements from the standard is trivial just in JS too...

[05:49:56.0000] <annevk>
hsivonen: although someone would have to keep it in sync

[05:50:06.0000] <annevk>
mounir: so what's unclear?

[05:50:37.0000] <smaug____>
annevk: oh, right, there would be the final progress event, maybe

[05:50:45.0000] <annevk>
mounir: * on the server works, if the request has the withCredentials set to true, the server needs null and the ...-Allow-Credentials: true header

[05:51:20.0000] <mounir>
if the request hasn't withCredentals set to true?

[05:51:22.0000] <annevk>
smaug____: oooh, but that means you're right :)

[05:51:22.0000] <hsivonen>
annevk: I'm not suggesting putting the Gecko-canonical case in the spec for now

[05:51:39.0000] <annevk>
smaug____: as the final progress event is dispatched in the same task that dispatches loadend

[05:52:33.0000] <smaug____>
*of course* I'm right :p

[05:53:05.0000] <annevk>
smaug____: if only you realized it :p

[06:29:31.0000] <zewt>
annevk: we were trying to guarantee that an onprogress at 100% would always happen, iirc

[06:30:06.0000] <annevk>
zewt: yeah, I forgot it was there

[06:41:32.0000] <annevk>
Hmm, <track> inherits crossorigin from the parent media element?

[06:51:44.0000] <zcorpan>
annevk: yes

[06:52:22.0000] <zcorpan>
annevk: we considered using <track crossorigin> instead but in the end decided against it

[06:53:29.0000] <zcorpan>
annevk: for reasons involving author expectation, redundancy, and lack of use cases for different crossorigin settings for each track, iirc

[06:53:47.0000] <zcorpan>
and that it's relatively trivial to inherit in the impl

[07:48:44.0000] <jpwhiting>
MikeSmith: still around?

[07:49:18.0000] <jpwhiting>
I added my rnc file to the list of isHtmlCompatiblePreset URIs and now it says "    Schema Error: The chosen preset schema is not appropriate for HTML."

[07:51:18.0000] <jpwhiting>
maybe because I created it in build.py with the same lines as html5core but used schemaDriverToggle_Html5 instead of HtmlCore

[07:51:35.0000] <jpwhiting>
ah, /me missed a line though

[07:52:35.0000] <MikeSmith>
jpwhiting: looking now

[07:54:30.0000] <jpwhiting>
I would send you a diff but your build system uses many svn and mercurial instances to checkout, so it's very tricky to make a patch...

[07:54:32.0000] <MikeSmith>
jpwhiting: yeah as I first thought earlier it's not enough to add your schema to the JS file

[07:54:59.0000] <jpwhiting>
ah

[07:55:12.0000] <MikeSmith>
you have to add your schema URL to validator/servlet/VerifierServletTransaction.java

[07:55:35.0000] <MikeSmith>
line 807 or so

[07:55:40.0000] <MikeSmith>
schemaUrls.startsWith

[07:55:50.0000] <jpwhiting>
I don't have a servlet folder under validator here

[07:56:11.0000] <MikeSmith>
private boolean isHtmlUnsafePreset

[07:56:15.0000] <jpwhiting>
ah, src/nu/validator/servlet?

[07:56:24.0000] <MikeSmith>
ah yeah that

[07:56:40.0000] <MikeSmith>
(shouldda copied the whole path)

[07:57:05.0000] <jpwhiting>
np, ok, I'll try with that too

[07:57:07.0000] <jpwhiting>
thanks

[07:57:53.0000] <jpwhiting>
perfect, thanks

[08:03:23.0000] <mounir>
darobin: could you have a look at https://github.com/darobin/respec/pull/156 ?

[08:23:07.0000] <darobin>
mounir: LGTM

[08:23:12.0000] <darobin>
do you need this in a build soon?

[08:23:31.0000] <jgraham>
darobin: Wrong browser

[08:23:50.0000] <darobin>
jgraham: huduhwha?

[08:24:21.0000] <jgraham>
LGTM = WebKit, r+ = Mozilla, Accepted = Opera (Critic)

[08:24:39.0000] <jgraham>
Dunno what Microsoft use

[08:24:57.0000] <TabAtkins>
jgraham: You're thinking Chrome, maybe?  WebKit is r+

[08:24:57.0000] <jgraham>
We could probably have an uncharitable competition

[08:24:59.0000] <darobin>
heh

[08:25:11.0000] <jgraham>
Oh, Chrome then

[08:25:13.0000] <TabAtkins>
We use bugzilla just like Moz does.

[08:25:41.0000] <jgraham>
Sure, but I hear WebKit people say LGTM in bugzilla

[08:25:48.0000] <jgraham>
Or see, really

[08:25:49.0000] <darobin>
I really meant Let's Go Troll Mounir

[08:25:51.0000] <darobin>
but hey

[08:26:08.0000] <jgraham>
darobin: You mean we weren't supposed to start until now?

[08:26:17.0000] <TabAtkins>
jgraham: Sure, it sounds weird to r+ something in chat.

[08:26:42.0000] <darobin>
jgraham: I thought we were missing some oomph in our trolling

[08:27:18.0000] <jgraham>
TabAtkins: I am clearly not an expert here, but I'm pretty sure I see Moz. people say r+ outside of the status field

[08:28:48.0000] <TabAtkins>
Eh, they could.

[08:29:23.0000] <mounir>
darobin: i need that to get FPWD for the runtime spec

[08:29:31.0000] <mounir>
so if it could be in a build soon that would be great

[08:29:37.0000] <mounir>
but no rush

[08:29:42.0000] <darobin>
is soon == today or soon == tomorrow?

[08:30:35.0000] <mounir>
darobin: as you prefer, really

[08:30:41.0000] <annevk>
no rush means in 5 min typically

[08:31:00.0000] <darobin>
mounir: well, if I preferred today I'd JFDI instead of asking you :)

[08:32:57.0000] <mounir>
darobin: I meant the "no rush" :)

[08:33:03.0000] <mounir>
so do it tomorrow

[08:33:08.0000] <annevk>
So I think we should have three CORS modes

[08:33:17.0000] <annevk>
taint / no / yes

[08:33:28.0000] <darobin>
mounir: coolness then

[08:33:41.0000] <annevk>
and then the other stuff Hixie invented is some kind of cross-origin setting for cookies and such

[08:34:02.0000] <jgraham>
Not :I'm confused", "Seriously WTF" and "I'm going to hunt down the persaon that invented this piece of shit and kill them with a spoon"?

[08:34:18.0000] <darobin>
~~/ Oooh my baby CORS, now it's a yes, now it's a no, really taint what it used to beeee /~~

[08:34:23.0000] <jgraham>
Or am I confusing it with appcache?

[08:34:40.0000] <darobin>
jgraham++

[08:35:22.0000] <jgraham>
Anyway, sorry I think annevk was makign a sensible point‚Ä¶

[08:36:17.0000] <TabAtkins>
annevk: Are those modes that the server opts into, or that the client requests?

[08:36:19.0000] <annevk>
darobin: not sure if joking or expressing an opinion by means of ?

[08:36:28.0000] <TabAtkins>
Or that the fetch algorithm uses?

[08:36:37.0000] <annevk>
TabAtkins: fetch

[08:36:55.0000] <TabAtkins>
Ah, okay.  Yeah, enough things taint that it would be useful to capture that in the algo directly.

[08:37:18.0000] <annevk>
CORS no could then be used instead of the force same-origin flag

[08:37:47.0000] <darobin>
annevk: I was just singing

[08:37:52.0000] <darobin>
probably something sounding like Abba

[08:38:25.0000] <annevk>
and CORS no / CORS taint is what the potentially CORS fetch thing goes into depending on the value of the crossorigin attribute

[08:39:24.0000] <annevk>
and then I guess I'd write some kind of wrapper text that allows Hixie to use the old calling conventions for fetch...?

[08:40:03.0000] <TabAtkins>
Also: write some goddam explanatory text so the rest of us can actually figure out how to invoke your spec. ^_^

[08:44:10.0000] <annevk>
which spec?

[08:44:41.0000] <TabAtkins>
Last time I looked at CORS to try and use it (I forget for which spec), I couldn't figure out what to actually *do* with it.

[08:45:00.0000] <annevk>
there's text on what specifications are supposed to do

[08:45:01.0000] <TabAtkins>
I knew I had to do something with forming a request, and handling it somehow, but that was all I could get without a really deep reading.

[08:45:20.0000] <annevk>
not that specifications did that

[08:46:52.0000] <annevk>
but then specifications were typically not even using fetch to begin with

[08:47:15.0000] <annevk>
so if from a situation without fetch you're also trying to tackle CORS, well, yeah, it's gonna be icky

[08:47:47.0000] <annevk>
also, nobody ever gives written feedback on that

[08:48:23.0000] <TabAtkins>
Heh.

[08:49:06.0000] <TabAtkins>
For example, reading the CORS section, I can't actually find any mention of the fetch algorithm.

[08:50:11.0000] <annevk>
If you search in the CORS specification you'll find that the two relevant fetch instances are linked (and another one that's not so relevant is too)

[08:50:20.0000] <annevk>
Now, this is going to change

[08:50:52.0000] <TabAtkins>
Sure, but why should I know about that?  I'm just a dude trying to write a spec, and someone told me to use CORS.  I look in the section about Specification Advice, and I'm not enlightened.

[08:50:53.0000] <annevk>
http://html5.org/temp/fetch.html is my draft for Fetch, which encompasses both HTML fetch and CORS and will give a single entry point with ideally sensible defaults

[08:51:22.0000] <annevk>
TabAtkins: for starters, there's no such thing as "a dude trying to write a spec" :p

[08:51:33.0000] <TabAtkins>
That's me!

[08:52:24.0000] <annevk>
TabAtkins: it says quite clearly how to construct a cross-origin request though

[08:52:30.0000] <annevk>
TabAtkins: "For all cross-origin requests that APIs can make for which the resource sharing policy in this specification is supposed to apply, the CORS API specification needs to reference the cross-origin request algorithm and set the following input variables appropriately: ..."

[08:53:16.0000] <annevk>
Now this is fairly low-level, but then CORS is fairly low-level. Fetch will make it slightly higher-level.

[08:53:20.0000] <TabAtkins>
I think you and I have different definitions of the word "clearly".

[08:53:22.0000] <TabAtkins>
^_^

[08:53:46.0000] <TabAtkins>
Personally, I'd love something that just started like "To make a request using CORS, ..."

[08:53:52.0000] <annevk>
That's what it says :-)

[08:53:58.0000] <TabAtkins>
Instructions for me, not descriptions of the things I have to produce.

[08:54:45.0000] <annevk>
It's an instruction to reference that algorithm, set the variables correctly, and handle whatever it returns as appropriate...

[08:55:01.0000] <annevk>
In any event, ideally it's obsolete within a month

[08:58:24.0000] <annevk>
TabAtkins: while we're at it, is the box model defined yet? Can I reference some concept defined in CSS for what fullscreen calls "top layer"?

[08:58:41.0000] <TabAtkins>
Hey, I don't live in a glass house.

[09:00:01.0000] <SimonSapin>
annevk: AFAIK "top layer" is a new concept that we have yet to define

[09:00:07.0000] <SimonSapin>
it‚Äôs kind of a super-z-index

[09:00:44.0000] <annevk>
SimonSapin: tell me more ;)

[09:01:13.0000] <SimonSapin>
Fullscreen needs us to define something

[09:01:20.0000] <annevk>
SimonSapin: I wrote Fullscreen ;)

[09:01:21.0000] <SimonSapin>
we discussed it at the last f2f

[09:02:10.0000] <SimonSapin>
annevk: http://lists.w3.org/Archives/Public/www-style/2013Feb/0392.html "Top layer positioning"

[09:02:30.0000] <annevk>
(well, the W3C copy, roc did a bunch of it iirc and Hixie gave input on the top layer bit as it's used by dialog too)

[09:02:38.0000] <annevk>
did I just say W3C copy?

[09:02:43.0000] <annevk>
wow, I meant spec copy

[09:02:57.0000] <SimonSapin>
?

[09:03:08.0000] <SimonSapin>
does spec copy means whatwg?

[09:03:51.0000] <annevk>
SimonSapin: http://fullscreen.spec.whatwg.org/#new-stacking-layer

[09:04:13.0000] <annevk>
surprised that reference was not part of the discussion

[09:06:36.0000] <SimonSapin>
annevk: are :fullscreen and ::backdrop implemented?

[09:06:55.0000] <annevk>
SimonSapin: dunno

[09:07:23.0000] <annevk>
been working on low-level stuff mostly apart from fixing minor bugs there

[09:09:56.0000] <SimonSapin>
so, fullscreen is two things: 1. hide the browser chrome and extend the viewport to be as big as possible, preferably the whole screen 2. Move an element to the top layer and maybe set its width/height to 100%

[09:10:43.0000] <SimonSapin>
annevk: 2. is kind of magic, we discussed having it in CSS even for non-fullscreen stuff

[09:10:50.0000] <SimonSapin>
and make it not magic

[09:11:02.0000] <annevk>
it's needed for <dialog> too

[09:11:09.0000] <annevk>
it's not really magic

[09:11:17.0000] <annevk>
it's just a new stacking layer

[09:11:36.0000] <annevk>
the only problem is that it's monkey patching

[09:11:42.0000] <TabAtkins>
That's magic. :/

[09:11:58.0000] <dglazkov>
good morning, Whatwg!

[09:12:24.0000] <TabAtkins>
The big problem is that <dialog> doesn't just need a new layer - it needs positioning too.  And you don't want to prevent the under-layer from scrolling.

[09:12:34.0000] <SimonSapin>
annevk: yes, basically we want something in csswg space that describes this new stacking layer, and maybe a property/value to put stuff there

[09:12:47.0000] <TabAtkins>
For example, most popup-style tips want to be on the top layer, but they just want to scroll with the page normally.

[09:16:08.0000] <annevk>
So it's been almost a year now since this text has been out there. I made the request for something better around the same time I drafted this and around the time the CSS WG gave feedback. I might have said something in November 2011 too during one of my last CSS WG F2F meetings.

[09:17:16.0000] <annevk>
I don't feel this is really up to me. Maybe we can change this a year after the fact, maybe we can't. I guess we'll see, but thus far I don't see a replacement.

[09:17:47.0000] <TabAtkins>
Yup, and it's one of many important things I've been working on.

[09:21:19.0000] <SimonSapin>
annevk: change what after the fact?

[09:26:32.0000] <annevk>
SimonSapin: details

[09:36:13.0000] <TabAtkins>
Adding a top-layer to fixpos is easy enough, because fixpos doesn't do anything fancy in the first place.

[09:37:12.0000] <TabAtkins>
<dialog>'s complexity is enough to tip it into the "new feature" bucket, though - special-casing it wouldn't make it any simpler, and would shut out a bunch of nearly identical things.

[10:07:22.0000] <jamesr>
anyone around involved with indieui?

[10:07:32.0000] <jamesr>
it's serving from https and trying to load respec from http

[10:07:54.0000] <Ms2ger>
Dunno, tantek?

[10:08:01.0000] <jamesr>
tantek, ^^

[10:08:22.0000] <jamesr>
it's just not the same without respec's familiar FOUC

[10:09:26.0000] <TabAtkins>
On that subject, I just added command-line options to my preprocessor.  I feel like a big boy now.

[10:27:42.0000] <jamesr>
https://dvcs.w3.org/hg/IndieUI/raw-file/default/src/indie-ui-events.html#UIValueChangeRequestEvent

[10:27:44.0000] <jamesr>
is that an enum?

[10:30:00.0000] <Ms2ger>
jamesr, no

[10:30:07.0000] <jamesr>
what is it?

[10:30:14.0000] <Ms2ger>
Stupid

[10:30:21.0000] <jamesr>
or rather, is it *trying* to be an enum?

[10:30:31.0000] <Ms2ger>
No

[10:30:36.0000] <TabAtkins>
Argh, someone needs to review that spec.  And someone shouldn't be me.

[10:30:52.0000] <annevk>
jamesr: fwiw, see whatwg list for why tasks are important

[10:30:54.0000] <TabAtkins>
It's *trying* to do the stupid "hack an enum as a manual set of integers" thing.

[10:30:55.0000] <Ms2ger>
Note that it doesn't even allow you to see which of these ints apply

[10:31:44.0000] <tantek>
/me scrolls up

[10:32:51.0000] <tantek>
am not involved with indieui

[10:32:58.0000] <tantek>
the name is a bit of a misnomer too

[10:33:24.0000] <jamesr>
maybe if respec would load i could see contact info

[10:33:25.0000] <tantek>
it's more about "hardware independent events"

[10:33:43.0000] <tantek>
not really what people think of with the term "indie"

[10:33:55.0000] <tantek>
this is my kind of indie: #indiewebcamp

[10:34:21.0000] <Ms2ger>
    James Craig, Apple Inc.

[10:34:21.0000] <Ms2ger>
    Michael Cooper, W3C

[10:34:24.0000] <Ms2ger>
jamesr, ^

[10:34:25.0000] <tantek>
jamesr - googling for IndieUI gives: http://www.w3.org/WAI/IndieUI/

[10:34:38.0000] <Ms2ger>
And apparently sangwhan and Lachy are involved

[10:34:43.0000] <Ms2ger>
And hober

[10:35:11.0000] <tantek>
email addresses here: http://www.w3.org/WAI/IndieUI/#contacts

[10:35:24.0000] <tantek>
I've chatted a bit with James Craig and hober about it

[10:35:47.0000] <tantek>
conceptually it seems worth exploring - though from my own previous experience with attempting such events I know it's a nontrivial problem so I'm not holding my breath

[10:35:59.0000] <tantek>
or rather, attempting such abstractions

[10:38:45.0000] <annevk>
we haven't even specced the actual events correctly

[10:38:57.0000] <annevk>
building abstractions on top of a turd is unlikely to yield good results

[10:41:14.0000] <tantek>
annevk - that seems like an accurate assessment of the situation.

[10:43:51.0000] <annevk>
I told some people, but people love building turds, so they don't listen. Or maybe it's more that people love building sand castles, which are kinda the same, and wash away just as easily.

[10:44:35.0000] <Ms2ger>
But they look nicer

[10:45:41.0000] <annevk>
Also, the message "build this instead" doesn't work. If I think they should do that instead, I should do that instead, and then yell at them once I'm done. But fixing user interaction events seems even less rewarding than fixing fetching.

[10:49:17.0000] <marcosc>
arg, I wonder if Respec supports given a spec a sub-title.

[11:09:58.0000] <hober>
jamesr: i'll ping jcraig re: his respec bug

[11:12:11.0000] <jamesr>
hober, thanks

[11:12:29.0000] <jamesr>
hober, while you're at it, want to ask him about those ghetto enums?

[11:15:27.0000] <hober>
jamesr: sure. :)

[11:16:24.0000] <esprehn_>
jamesr: that spec needs help

[11:16:35.0000] <Ms2ger>
Or a grave

[11:17:32.0000] <jamesr>
i'd be happy for just loading up the ED with proper styling

[11:51:52.0000] <ojan>
Hixie: this thing of not being able to round-trip the DOM through serialization really sucks for editing code. Any ideas on a solution or are we just doomed?

[11:52:30.0000] <ojan>
Hixie: a thought i had is that you could somehow mark a part of your HTML/DOM as using E4H parsing.

[11:52:56.0000] <ojan>
It's not a great solution because you then need to use E4H parsing wherever you display the content.

[11:53:24.0000] <ojan>
but, then we could also make it so that whenever you copy, we put a text/e4h or something on the clipboard in addition to the text/html

[11:53:40.0000] <ojan>
so that round-tripping through copy-paste could at least be made to work well

[12:23:46.0000] <Hixie>
annevk: i don't understand what's not clear. you call fetch. fetch queues up some tasks for you, including a final task. so you just say "when the task is queued" or "when the final task is queued" or whatever.

[12:24:40.0000] <annevk>
Hixie: okay, maybe that kind of implicit association works

[12:25:34.0000] <annevk>
Hixie: feel free to ignore that part of the email

[12:25:53.0000] <Hixie>
ojan: there are things in the source the DOM can't represent and vice versa; i don't think anyone has made any attempt at fixing that. it's not clear what the use case is. What are you finding hard in editing code?

[12:26:09.0000] <Hixie>
annevk: heh k

[12:26:29.0000] <Hixie>
annevk: i mean, it's always possible that i'm wrong, but then the html spec has a number of problems, since i use that style througout... :-)

[12:26:38.0000] <Hixie>
nobody seems to have had troubles implementing it so far

[12:27:12.0000] <Hixie>
anyone around who's a whatwg blog adminy type person? i have someone who has sent me a link to a translation of some blog entry that they'd like linked to

[12:27:23.0000] <annevk>
Hixie: it's just that if you look at it in the abstract there's a whole number of places that can queue tasks on that networking queue, so how do you know it's yours is kinda undefined / implicit

[12:27:34.0000] <annevk>
Hixie: sounds like SEO scam

[12:29:46.0000] <Hixie>
could be seo spam, but i'm fine with it being linked to with rel=nofollow :-)

[12:30:05.0000] <annevk>
/me updates blog

[12:30:08.0000] <Hixie>
annevk: how do you envisage making it explicit?

[12:30:13.0000] <annevk>
Hixie: I've got admin btw

[12:30:33.0000] <Hixie>
the html spec uses terminology like "Fetching an external script must delay the load event of the element's document until the task that is queued by the networking task source once the resource has been fetched (defined above) has been run"

[12:30:37.0000] <Hixie>
which doesn't seem ambiguous at all

[12:31:54.0000] <Hixie>
hm yeah, actually, this page does seem like seo spam

[12:31:59.0000] <Hixie>
nevermind

[12:32:01.0000] <annevk>
I think maybe I just misunderstood that concept entirely... E.g. XHR ended up (in part based on comments too iirc) with a task source per object.

[12:32:22.0000] <annevk>
So you could easily clear all tasks for one instance.

[12:32:59.0000] <Hixie>
that means that each XHR's events are ordered with respect to the other events for that XHR object, but not with respect to any other events

[12:33:03.0000] <Hixie>
which sounds legit

[12:33:28.0000] <Hixie>
task sources are just a way to make sure things that should be ordered relative to each other, are ordered relative to each other

[12:34:09.0000] <annevk>
But should e.g. img loads be ordered relative to each other or should each img have its own network task source?

[12:35:35.0000] <Hixie>
well it's kind of academic since the order they're put in the task source is dependent on how the UA deals with network traffic

[12:38:11.0000] <ojan>
Hixie: when you copy and then paste in a contentEditable region, we round-trip through an HTML string

[12:38:34.0000] <ojan>
Hixie: so, if you create a DOM that can't be represented by HTML, then your copy-paste doesn't actually end up pasting in the same content

[12:39:11.0000] <ojan>
Hixie: similarly, when you are done with your rich text editing and you serialize the content for showing in a different context (e.g. you send your rich-text email)

[12:39:28.0000] <ojan>
Hixie: the sent result would be different from the result the user saw

[12:45:46.0000] <TabAtkins>
Quick, somebody help me come up with names for a property that suppresses box generation (the thing that display:none does).

[12:45:57.0000] <TabAtkins>
Current candidates are "box" and "show".  We hate these.

[12:46:30.0000] <annevk>
so what's wrong with display:none?

[12:46:34.0000] <TabAtkins>
The current values for the property will be "normal", "none", "contents", and "hide"/"collapsed"/something.  These are up for debate.

[12:46:38.0000] <TabAtkins>
annevk: Whole lots.

[12:47:11.0000] <TabAtkins>
annevk: Ask jQuery, for one - call .hide(), then .show().  What's its display?

[12:47:26.0000] <TabAtkins>
What if it started as display:none, and then they just call .show()?

[12:47:33.0000] <TabAtkins>
Additionally, the hidden attribute.

[12:47:50.0000] <TabAtkins>
Authors need to be able to tweak it (use transitions, etc), so you can't put its effect in the UA !important level.

[12:48:03.0000] <TabAtkins>
But it's way too easy to accidentally override if put in the UA or pres-hint level.

[12:48:09.0000] <yroc>
Hixie: regarding this point: http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2013-February/038973.html, is the fact that nested articles could be something other than comments not a compelling enough reason to add a <comment> element? (e.g., Silvia would have to show that this is a significant problem?)

[12:48:18.0000] <annevk>
TabAtkins: box-tree?

[12:48:19.0000] <TabAtkins>
A completely separate property wouldn't be accidentally overriden by someone setting "display: flex;".

[12:50:51.0000] <Hixie>
ojan: ok but what kind of stuff can't you represent that is user-visible? do you mean like form controls' current values and canvas element's images? or something else?

[12:51:25.0000] <Hixie>
yroc: how could nested <article>s be anything other than comments?

[12:51:44.0000] <ojan>
Hixie: the bug in question involved nested <p>s

[12:52:02.0000] <Hixie>
ah, well, if the DOM is bogus in the first place, yeah...

[12:52:14.0000] <yroc>
Hixie: personally, I don't know, but Silvia seems to think it's possible (without specifying an example)

[12:52:25.0000] <ojan>
i mean...you can create the DOM...so...

[12:52:39.0000] <Hixie>
yroc: the spec says "When article elements are nested, the inner article elements represent articles that are in principle related to the contents of the outer article."

[12:52:49.0000] <ojan>
call it bogus of you like...but in practice, the user experience is busted

[12:52:52.0000] <Hixie>
yroc: i haven't yet dealt with that thread though

[12:52:57.0000] <Hixie>
ojan: sure

[12:53:03.0000] <Hixie>
ojan: i just meant it's not a valid document in the first place

[12:53:20.0000] <Hixie>
ojan: and we make things invalid when they're going to break

[12:53:36.0000] <Hixie>
ojan: as a warning to people that things will break

[12:53:42.0000] <Hixie>
ojan: but sure, some people will do it anyway...

[12:54:17.0000] <Hixie>
ojan: hmm

[12:54:20.0000] <ojan>
i mean...i guess it's not a tragedy for us to break on invalid content.

[12:54:49.0000] <Hixie>
ojan: how did they end up with nested <p>s in the case in question? explicit dom manipulation?

[12:54:59.0000] <ojan>
in this case, funny enough it was WebKit creating the nested paragraphs :(

[12:55:04.0000] <Hixie>
d'oh

[12:55:05.0000] <ojan>
so, we just fixed that

[12:55:08.0000] <esprehn_>
editing code!

[12:55:21.0000] <ojan>
but, explicit DOM manipulation or E4H was what i had in mind

[12:55:29.0000] <Hixie>
if it's just copy-and-paste, i guess one way would be for browsers to have a copy-and-paste format

[12:55:43.0000] <Hixie>
that describes the DOM to be copied somehow

[12:55:58.0000] <ojan>
esprehn_: webkit's editing code is one of those bits of the codebase that falls in that rare category of deserving a full-rewrite IMO.

[12:56:12.0000] <Hixie>
is anyone actually interested in e4h? when i wrote the strawman spec, nobody seemed to want to implement it

[12:56:34.0000] <ojan>
Hixie: yeah, that's what i had in mind with the suggestion to put e4h on the clipboard

[12:56:42.0000] <ojan>
Hixie: I'm interested in solving that problem

[12:56:53.0000] <ojan>
E4H sounds like a fine solution to me.

[12:57:03.0000] <yroc>
Hixie: How about, a nested article could be a chapter of a book *if* the chapter is syndicatable.

[12:57:05.0000] <ojan>
just need someone with the time and skills to implement it

[12:57:33.0000] <esprehn_>
ojan: perhaps even in JS

[12:57:47.0000] <ojan>
anyways... the problem is that it's not just copy-paste

[12:57:49.0000] <Hixie>
yroc: why would it be nested? what's the outer <article>?

[12:58:07.0000] <ojan>
Hixie: think of the case where your sending an email or publishing a blog post

[12:58:18.0000] <ojan>
Hixie: then the server needs a serialized form to serve up

[12:58:34.0000] <yroc>
Hixie: The outer article is the whole book. The inner article is a chapter (again, if the chapter is standalone). There are books like that.

[12:59:45.0000] <ojan>
esprehn_: i could imagine rewriting it in JS if we expose some extra hooks

[13:00:00.0000] <yroc>
Hixie: I'm not talking about most fiction novels, where one chapter doesn't really make sense on its own, and isn't intended to be read by itself.

[13:00:07.0000] <ojan>
and eventually, we could probably standardize those hooks and expose them to web content

[13:00:43.0000] <ojan>
it'd be kind of awesome if contentEditable just became a builtin JS library that all browsers shared

[13:01:30.0000] <Hixie>
ojan: well i wouldn't want people to serve up nested <p>s

[13:01:39.0000] <Hixie>
ojan: but yeah

[13:02:04.0000] <esprehn_>
nested divs and spans though...

[13:02:12.0000] <Hixie>
ojan: i'm skeptical about exposing a third format for the DOM (not counting JS), it's bad enough that we have 2

[13:02:18.0000] <Hixie>
ojan: but yeah

[13:02:29.0000] <Hixie>
ojan: dunno what to tell you exactly :-)

[13:02:44.0000] <Hixie>
yroc: i don't see why you'd wrap the book in an <article>

[13:02:54.0000] <Hixie>
yroc: it's just the page

[13:03:15.0000] <Hixie>
yroc: unless we're talking about a page with multiple books each of which has multiple sub-books? this seems rather hypothetical

[13:03:37.0000] <Hixie>
yroc: anyway, feel free to continue commenting on that thread. like i said, i haven't read it or dealt with it yet.

[13:03:40.0000] <ojan>
Hixie: yeah...it's gross. but...if we were to implement E4H, then we essentially have that 3rd format already, no?

[13:03:40.0000] <Hixie>
gotta go to lunch

[13:03:56.0000] <esprehn_>
where is the E4H spec?

[13:04:01.0000] <esprehn_>
 /strawman

[13:04:16.0000] <ojan>
http://www.hixie.ch/specs/e4h/strawman

[13:04:50.0000] <ojan>
esprehn_: i think it's great and we should implement it.

[13:05:30.0000] <jgraham>
Hixie: Since 100% of the attempts to implemnt the navigation part of the spec have failed, it isn't really clear to me that you can infer anything about the success of the design from the lack of complaints so far

[13:05:32.0000] <ojan>
I used to be a fan of http://wiki.ecmascript.org/doku.php?id=harmony:quasis for this

[13:05:55.0000] <annevk>
quasis doesn't do the runtime thing

[13:06:01.0000] <ojan>
but abarth convinced me that quasis are a much scarier solution than e4h from a security perspective because you have to roundtrip through strings

[13:06:11.0000] <ojan>
runtime thing?

[13:06:23.0000] <annevk>
parse time, sorry

[13:06:46.0000] <annevk>
nobody likes E4H though

[13:06:54.0000] <ojan>
i like E4H!

[13:07:03.0000] <ojan>
who doesn't like it?

[13:07:31.0000] <jgraham>
/me uses logic to deduce that ojan is nobody

[13:07:55.0000] <annevk>
ojan: http://lists.w3.org/Archives/Public/public-script-coord/2011OctDec/thread.html#msg65

[13:08:03.0000] <esprehn_>
ojan: we should probably add the ? syntax for mdv

[13:08:07.0000] <ojan>
It's so insane that $('<div>my random' + randomvar + ' html</div>') is the state of the art for generating DOMs

[13:08:10.0000] <esprehn_>
ojan: checked?={checked} aklein

[13:08:18.0000] <annevk>
ojan: http://lists.w3.org/Archives/Public/public-script-coord/2011OctDec/thread.html#msg33

[13:08:21.0000] <ojan>
rafaelw___: ^^^^

[13:09:56.0000] <annevk>
ojan: http://lists.w3.org/Archives/Public/public-webapps/2012AprJun/thread.html#msg1067 (latest attempt, this time by Hixie with aforementioned strawman)

[13:11:00.0000] <jgraham>
annevk: That is like 3 people and you don;t really follow up with advantages compared to quasis, so I don't think it says much one way or another

[13:11:10.0000] <ojan>
slightlyoff-- for speaking for the Chrome team on that thread

[13:12:26.0000] <annevk>
jgraham: if you don't think it's an uphill battle, go for it! :-)

[13:12:50.0000] <jgraham>
I think everything involving TC39 is an uphill battle

[13:13:30.0000] <jgraham>
But I am also the wrong person to advocate E4H because I don't really know if it's a good design

[13:15:22.0000] <annevk>
I'm not sure anyone involved in platform design really knows what they're doing.

[13:19:25.0000] <ojan>
annevk: hah! that's probably true...but someone has to do it.

[13:19:33.0000] <ojan>
annevk: or we're stuck with jquery forever

[13:25:48.0000] <annevk>
ojan: so if quasis are not going to get through security review we should give this another go maybe

[13:26:38.0000] <annevk>
ojan: having node-primitives in JavaScript is still a good idea I think

[13:28:57.0000] <jpwhiting>
hsivonen: good evening

[13:29:12.0000] <jpwhiting>
is there a way I can make my local validator.nu only use my own schema?

[13:29:28.0000] <jpwhiting>
it's already a choice in the presets, but I want to make it the default also somehow

[13:30:16.0000] <jpwhiting>
/me tries removing the other presets for now

[13:33:16.0000] <jgraham>
jpwhiting: I doubt hsivonen will answer now

[13:33:56.0000] <jpwhiting>
yeah, pretty late there, true

[13:34:00.0000] <jgraham>
Try again in 9-10 hours, perhaps?

[13:34:09.0000] <jpwhiting>
yep, will do

[13:34:20.0000] <jpwhiting>
or wait for MikeSmith to come around

[13:36:06.0000] <jgraham>
MikeSmith never sleeps

[13:36:11.0000] <jgraham>
As far as I can tell

[13:36:18.0000] <jgraham>
I think he might be bionic

[13:36:36.0000] <nimbu>
much like CityBank‚Ñ¢

[13:42:48.0000] <ojan>
abarth: you around?

[13:42:55.0000] <abarth>
ojan: hi

[13:43:52.0000] <abarth>
ojan: what can I do for you?

[13:52:59.0000] <ojan>
abarth: do you remember this quasis vs E4H discussion?

[13:53:05.0000] <abarth>
yes

[13:53:16.0000] <ojan>
abarth: do you still believe quasis have security issues?

[13:54:00.0000] <abarth>
ojan: I don't remember all the details anymore

[13:54:27.0000] <abarth>
ojan: I remember that some of the choices were bad and some were good

[13:54:29.0000] <ojan>
I want us to solve this issue of being able to create DOM in a concise way...i don't feel terribly strongly about E4H vs quasis...but i want one of them to happen and right now i think the feature is in limbo because of disagreement about which is better

[13:54:47.0000] <ojan>
abarth: what i remember is that you disliked quasis because they roundtrip through strings

[13:55:11.0000] <abarth>
yes, you don't want to send any strings that contain untrusted data through the HTML parser

[13:55:18.0000] <abarth>
that means you've lost from a security PoV

[13:55:26.0000] <ojan>
abarth: well...these wouldn't go through the HTML parser

[13:55:40.0000] <abarth>
what happens to the strings?

[13:55:43.0000] <jgraham>
Hmm, I thought that was the point?

[13:55:57.0000] <ojan>
oh...well...the E4H version doesn't

[13:56:01.0000] <jgraham>
Right

[13:56:39.0000] <ojan>
in theory, quasis could use the same sort of parsing the E4H does

[13:56:46.0000] <jgraham>
But html`some string` is syntax sugar for creating a document fragment and setting its innerHTML to some string, with substitutions based on some special syntax, right?

[13:56:58.0000] <ojan>
jgraham: yeah, that's the current proposal

[13:57:25.0000] <ojan>
abarth: what's special about the HTML parser vs. an XML parser?

[13:58:52.0000] <jgraham>
(I think quasis are a bit ugly, but I don't understand the security argument. Or at least I don't see how it is worse than innerHTML which is the defacto solution for this problem today)

[13:58:55.0000] <ojan>
i'd like to restart this discussion on public-script-coord so that we can actually make forward progress here...but i feel like i need to understand the security side of it better to make an argument one way or the other

[13:59:16.0000] <ojan>
jgraham: it's definitely not worse than innerHTML, but if we're designing a new API, we can do better.

[14:00:06.0000] <abarth>
jgraham: innerHTML is a security disaster

[14:01:10.0000] <ojan>
abarth: alternately, if i start a discussion on public-script-coord, would you be willing to chime in with the security argument?

[14:01:48.0000] <ojan>
abarth: that way you don't have to convince me and then later convince everyone else :)

[14:03:23.0000] <jgraham>
OK, well if the argument is that we should do better with new APIs and try to educate people that current best-practice is a security disaster, I can live with that

[14:04:31.0000] <ojan>
jgraham: whatever new API we come up with ideally will be easier to use and more secure. in either case, people will have to learn a new thing to use.

[14:07:59.0000] <abarth>
ojan: sure

[14:10:04.0000] <ojan>
abarth++ thanks

[15:23:22.0000] <Hixie>
ojan: e4h is just javascript

[15:24:11.0000] <Hixie>
ojan: i dunno that i'd want to use JS as a data exchange format

[15:24:33.0000] <Hixie>
ojan: and i'm 100% sure it can't roundtrip everything in the DOM (e.g. you can't roundtrip the current <canvas> state)

[15:24:49.0000] <Hixie>
(using e4h)

[15:26:06.0000] <Hixie>
ojan: (re e4h, if there's anything i can do to help you get it implemented, let me know)

[15:35:43.0000] <ojan>
Hixie: the thing to do is to get other browser vendors vaguely positive about it. if we could get Mozilla to voice support for it, that'd be enough for me to feel comfortable shipping it in Chrome...

[15:35:54.0000] <ojan>
Hixie: i plan to start another thread on public-script-coord

[15:36:10.0000] <ojan>
Hixie: please chime in if i leaving anything important out.

[15:39:00.0000] <Hixie>
roger

[15:39:04.0000] <Hixie>
you got the link to the spec?

[15:39:07.0000] <Hixie>
("spec")

[15:39:13.0000] <JonathanNeal>
has anyone here written up (or knows of) a good article on navigation markup, including sub-navigation, recommended class names, aria, etc?

[15:39:35.0000] <Hixie>
JonathanNeal: what do you mean by "navigation markup"?

[15:40:01.0000] <JonathanNeal>
Just, someone demonstrating best practices, including their own opinion on what roles to throw in even.

[15:40:32.0000] <JonathanNeal>
For instance, there are times when you can use classnames that are sympathetic with aria roles.

[15:41:13.0000] <JonathanNeal>
Or, you could look at a large group of websites, and arrive at a general consensus (or a few consensuses) of what markup people prefer.

[15:43:39.0000] <ronaldmansveld>
I don't know about an article, but my gut tells me that currently a nav with an ul, where li's contain the anchors is considered the way to go. (Just a gut-feeling, no proof for this)

[15:43:56.0000] <Hixie>
JonathanNeal: that seems to be what you mean by "article", not what you mean by "navigation markup" :-)

[15:44:08.0000] <Hixie>
JonathanNeal: do you mean like the links on the side of a page that get you to the home page or whatever?

[15:45:13.0000] <JonathanNeal>
the html markup of a navigation list, where some items may themselves contain sub-navigation lists.

[15:46:36.0000] <Hixie>
i would recommend using <a href="...url...">...label...</a> for the links, and either <p> or <ul><li> for the markup around it

[15:46:43.0000] <Hixie>
no need for any other attributes

[15:47:14.0000] <ronaldmansveld>
BTW Hixie: may I compliment you on the readability of the specs you produce

[15:47:24.0000] <Hixie>
ronaldmansveld: thank you sir

[15:47:45.0000] <Hixie>
though i fear if you find my specs readable you may have just not read much of them :-)

[15:48:16.0000] <ronaldmansveld>
I'm currently plowing through the ECMAScript 5 spec, but in comparison that feels like being forcefed a box of dry biscuits, and then be told to whistle :P

[15:48:51.0000] <JonathanNeal>
Hixie: something deeper, that covers the situation where an item in the navigation list is also the current page.

[15:49:31.0000] <Hixie>
ronaldmansveld: ah well i will definitely agree that my specs tend to be more entertaining :-)

[15:49:36.0000] <Hixie>
especially if you read the examples :-)

[15:49:50.0000] <ronaldmansveld>
Hixie:  absolutely :)

[15:50:09.0000] <Hixie>
JonathanNeal: i'd either just link to the current page and not worry about it, or use <a>...label...</a> and style using :not([href])

[15:50:37.0000] <Hixie>
ronaldmansveld: i'm glad to hear somebody appreciates it. i actually just do it to alleviate my own boredom. :-)

[15:51:27.0000] <ronaldmansveld>
JonathanNeal:  I'm pretty sure links to the current page in most case get a class="active". Maybe in some cases the anchor gets replaced by a span as well

[15:52:32.0000] <Hixie>
replacing the <a> by a <span> is an equally valid solution, though maybe more complicated than necessary

[15:52:40.0000] <JonathanNeal>
Hixie, ronaldmansveld, I wasn't sure if either "current" or "active" had more meaning, or what to call it if a link is for a parent page which contains the current page.

[15:52:41.0000] <Hixie>
using a class is almost certainly more complicated than necessary

[15:53:08.0000] <Hixie>
JonathanNeal: well, technically, class names are opaque. You could use class=green or class='***' and it'd be no less reasonable, per the spec.

[15:53:22.0000] <Hixie>
JonathanNeal: for links to parent pages, i would recommend rel="up", for grandparent pages, rel="up up", etc

[15:53:48.0000] <ronaldmansveld>
Hixie:  I haven't tried writing specs myself (unless you count functional designs as specs), but I'm sure it's a tough job, where we (as a community) don't show enough appreciation for

[15:53:53.0000] <JonathanNeal>
Oh, I thought rel="up" and such were dropped.

[15:54:34.0000] <ronaldmansveld>
JonathanNeal:  classes don't contain meaning, apart from the meaning for the author of the code ;)

[15:55:03.0000] <Hixie>
JonathanNeal: they were dropped by the w3c, but i expect i'll bring them back when i get around to shaking up how the rel values are handled in the spec

[15:55:03.0000] <JonathanNeal>
ronaldmansveld: i understand, which is why i mentioned using classnames that are sympathetic with other known standards.

[15:55:27.0000] <ronaldmansveld>
Hixie:  if you can decide (usually serverside) if a link should get a class 'active', it's equally easy to decide to use a span instead

[15:55:33.0000] <JonathanNeal>
For example, ARIA or Microformats.

[15:55:44.0000] <Hixie>
JonathanNeal: in the meantime you could always just register them in the wiki

[15:55:59.0000] <JonathanNeal>
ronaldmansveld: is that how you would do it in a <template>?

[15:56:04.0000] <Hixie>
ronaldmansveld: depends on your templating language, but sure

[15:56:50.0000] <ronaldmansveld>
JonathanNeal:  As far as I know, no good spec will use classnames to base actions upon (at least in my opinion) (and yes, CSS is the only exception to the rule :P)

[15:57:22.0000] <ronaldmansveld>
JonathanNeal:  if you refer to the html <template>: I wouldn't know, I haven't had time to read up on that


2013-03-06
[16:00:18.0000] <ronaldmansveld>
JonathanNeal:  ARIA and microformats both use their own attributes. aria is prepended with 'aria-', microformats depend on the format your using

[16:00:45.0000] <ronaldmansveld>
JonathanNeal:  Schema.org for instance uses itemscope, itemtype and itemprop (apart from meta-tags)

[16:00:49.0000] <tantek>
microformats pretty consistently use the class attribute

[16:01:05.0000] <tantek>
sometimes rel for page to page relationship things

[16:01:30.0000] <ronaldmansveld>
microformats that use the class-attribute? o_0

[16:01:41.0000] <tantek>
always have

[16:01:45.0000] <Hixie>
ronaldmansveld: you may be confusing microformats with microdata

[16:01:57.0000] <ronaldmansveld>
Hixie:  thanks! Indeed

[16:02:07.0000] <tantek>
http://microformats.org/wiki/ for more

[16:02:17.0000] <Hixie>
microdata is an HTML feature that uses item* attributes, microformats long predates microdata and is a way of using other HTML features for semantics to mark up similar things

[16:02:46.0000] <Hixie>
previously microformats was less generic than microdata, though more recently that's changed (right tantek? i'm not up to date on this)

[16:03:43.0000] <ronaldmansveld>
tantek:  thanks! I'm gonna read up on it :)

[16:09:01.0000] <tantek>
Hixie, yes, microformats2 has syntax independent of vocabulary

[16:09:05.0000] <MikeSmith>
jpwhiting: here now

[16:09:22.0000] <tantek>
I'm not sure about all the weird RDFa-y features that got shoehorned into microdata.

[16:09:37.0000] <tantek>
in terms of being "generic"

[16:09:40.0000] <ronaldmansveld>
Will microformats and microdata both be here to stay?

[16:10:03.0000] <jpwhiting>
MikeSmith: any idea how I can make my local validator.nu always use my schema?

[16:10:10.0000] <ronaldmansveld>
cause a quick read/glance at the wiki gives quite the feeling that they're both trying to achieve the same

[16:10:12.0000] <jpwhiting>
or at least make it the default if no schema is specified

[16:10:12.0000] <tantek>
ronaldmansveld - given that web developers use the class attribute to markup semantics before microformats, and it's on billions of pages already, it's likely to be around a while.

[16:10:43.0000] <tantek>
with search engines supporting both, they're likely to be around a while

[16:10:59.0000] <ronaldmansveld>
tantek:  fair enough, but this feels like we have two standards coming up, where only one could (and should) be sufficient

[16:11:21.0000] <tantek>
ronaldmansveld - actually, three standards, when you include RDFa, which predates microdata.

[16:12:17.0000] <ronaldmansveld>
tantek:  I say overkill... it's like having 3 different specs for HTML, all trying to do the same in a slightly different way

[16:12:47.0000] <tantek>
ronaldmansveld, it's a long story, but in short, microformats solved a bunch of 80/20 use-cases, but was limited. RDFa was totally generic, but much harder to use. microdata reimplemented a simplified version of some 90%+ of the features of RDFa. microformats evolved to become generic.

[16:13:41.0000] <MikeSmith>
jpwhiting: that logic is in VerifierServletTransaction.java in the presets file

[16:13:54.0000] <MikeSmith>
/me takes a look

[16:14:16.0000] <yroc>
Hixie: What does it mean to say that an <article> is a composition on a site (not just a document)? I'm interpreting "site" as multiple pages, but I don't see how that would work.

[16:14:17.0000] <tantek>
ronaldmansveld, I'd say try out both microformats and microdata and see what it feels like to write in your HTML. whichever one seems to work better for you, go ahead and use it and feel free to provide feedback.

[16:14:30.0000] <tantek>
also - if you have any microformats specific questions, feel free to /join #microformats

[16:15:11.0000] <tantek>
a lot of this stuff is still evolving, and we're still figuring out better ways of doing things.

[16:15:22.0000] <ronaldmansveld>
tantek:  I will :) So far my experience with microdata is pretty good, but I'm sure to give microformats a try as well, and yes, feedback (if any) will be provided

[16:15:28.0000] <Hixie>
yroc: i don't understand the question

[16:15:41.0000] <tantek>
thanks ronaldmansveld - appreciated!

[16:16:00.0000] <Hixie>
re microformats and microdata, the most important thing to worry about when picking one or the other is to pick the one that your processing software will parse :-)

[16:16:15.0000] <yroc>
Hixie: Referring to the defn 4.4.2, "The article element represents a complete, or self-contained, composition in a document, page, application, or site..."

[16:16:16.0000] <Hixie>
using microdata when your software only reads microformats will just waste your time, e.g.

[16:16:26.0000] <MikeSmith>
jpwhiting: in the presets.txt file, you'll notice that there are integers before the name of the presets. Give your schema the number 3 if it's a HTML schema, and 7 if it's an XHTML schema

[16:16:32.0000] <tantek>
Hixie - and that your teams can maintain over time (#1 cause of data failure overtime in these things)

[16:16:37.0000] <MikeSmith>
jpwhiting: and just remove the rest of the presets

[16:17:06.0000] <jpwhiting>
MikeSmith: ah, magic numbers?

[16:17:14.0000] <Hixie>
tantek: i mean, if your processing software supports both, then sure, that's a fine thing to pick as a tie breaker, but if your processing sotware only supports microformats, doesn't make much sense to use something else

[16:17:15.0000] <MikeSmith>
yeah

[16:17:26.0000] <jpwhiting>
then if I just submit a file to the service it still does autodetect, though, no?

[16:17:29.0000] <Hixie>
yroc: yes?

[16:17:42.0000] <Hixie>
yroc: sorry, i don't mean to be obtuse, i just don't understand your question

[16:17:47.0000] <jpwhiting>
though I set mine to 1 and removed the others, didn't realize the significance of those numbers

[16:18:09.0000] <yroc>
Hixie: LOL. What does it mean to say that the composition is on a "site" as opposed to a page?

[16:18:24.0000] <tantek>
Hixie, I guess. Though it used to be that search engines supported meta keywords, and nothing supported microformats - yet that changed once publishers started publishing meta keywords.

[16:18:31.0000] <jpwhiting>
MikeSmith: /me changes to 3 and tries

[16:18:37.0000] <yroc>
you're not obtuse. Compared to me you're a genius!

[16:19:02.0000] <Hixie>
yroc: well a "site", generally speaking, is a set of pages, right?

[16:19:11.0000] <Hixie>
like, cnn.com is a site with many pages

[16:19:37.0000] <Hixie>
but you can also make a "site" that is actually just one HTML file

[16:19:43.0000] <yroc>
Hixie: Right. But how can an article be on multiple pages? Or am I reading it wrong?

[16:19:44.0000] <Hixie>
with many "pages"

[16:19:58.0000] <yroc>
Hixie: Pls explain.

[16:20:11.0000] <Hixie>
like, twitter.com

[16:20:20.0000] <Hixie>
or plus.google.com

[16:20:47.0000] <Hixie>
it's basically one HTML file; as you navigate the "site", it loads differnet "pages" dynamically, but there's no actual navigation going on typically

[16:21:02.0000] <Hixie>
the URL changes only because of pushState() or using fragment identifiers

[16:21:16.0000] <Hixie>
so the spec is just saying that it's fine to use <article> for e.g. the posts on plus.google.com

[16:21:22.0000] <jpwhiting>
MikeSmith: awesome, works like a charm

[16:21:24.0000] <jpwhiting>
thanks a lot

[16:21:28.0000] <Hixie>
even though it's a "site" rather than a "page"

[16:21:49.0000] <Hixie>
basically it's trying to be exhaustively inclusive in its definition of what <article> can be used in

[16:21:54.0000] <MikeSmith>
jpwhiting: np

[16:22:08.0000] <ronaldmansveld>
yroc: if an article is spread among multiple pages, it isn't complete anymore (on a given page). So you can't use <article> then. The spec clearly states it has to be "complete or self-contained", which it doesn't in that case

[16:22:55.0000] <yroc>
I see.

[16:23:09.0000] <ronaldmansveld>
yroc:  I'm assuming you refer to a 'page' as something with it's own URL

[16:23:49.0000] <yroc>
ronaldmansveld: Yes, a discrete file.

[16:24:25.0000] <yroc>
So when I saw site, I thought somehow it was possible to spread <article> across multiple files

[16:24:42.0000] <yroc>
Though I had no idea how that would work...

[16:25:10.0000] <Hixie>
yeah, dunno how to get around that

[16:25:15.0000] <Hixie>
the problem is "file" is so vague these days

[16:25:33.0000] <Hixie>
e.g. plus.google.com returns unique content anytime you visit it, with the "current page" prerendered

[16:25:40.0000] <Hixie>
and it then downloads JS to turn the page into dynamic magic

[16:25:45.0000] <ronaldmansveld>
Hixie:  I think the 'complete and self-contained' solves the problem

[16:25:53.0000] <Hixie>
that's why e.g. if you try to comment on a post in g+ just after the page is up it doesn't work

[16:26:05.0000] <MikeSmith>
jpwhiting: yeah if you look at the logic in VerifierServletTransaction.java, there's a constant defined there called HTML5_SCHEMA, with a value of 3. and you'll see further down there's switch statement there, "switch (parser)", and for "case HTML" it does schemaId = HTML5_SCHEMA. That's the logic that handles the defaulting.

[16:26:08.0000] <Hixie>
ronaldmansveld: clearly not since it still confused at least one person :-)

[16:26:29.0000] <jpwhiting>
MikeSmith: ah, gotcha

[16:26:31.0000] <jpwhiting>
very nice

[16:26:39.0000] <ronaldmansveld>
Hixie:  don't be too hard on yourself ;)

[16:26:46.0000] <Hixie>
it's my job :-)

[16:26:58.0000] <yroc>
Hixie: Well, I think a lot of the problem is that people who are reading the spec who don't have the JS background

[16:27:07.0000] <yroc>
DOM background

[16:27:10.0000] <yroc>
etc.

[16:27:19.0000] <ronaldmansveld>
that's a good spirit ;)

[16:27:32.0000] <Hixie>
yroc: yeah

[16:27:36.0000] <yroc>
All these dynamic possibilities that are totally off the radar for me.

[16:29:38.0000] <ronaldmansveld>
yroc:  even though it's not complete yet, http://docs.webplatform.org/wiki/html/elements/article might be helpful :)

[16:30:19.0000] <Hixie>
i like how it says "W3C Working Draft" rather than "WHATWG Living Standard"

[16:30:44.0000] <Hixie>
"first introduced in HTML5" hah

[16:31:47.0000] <jamesr>
Hixie, it's a wiki, should i go fix it and get into an edit war?

[16:31:48.0000] <tantek>
Hixie, it is cc-by - you can fork webplatform.org and fix it ;)

[16:32:25.0000] <zewt>
Hixie: i think w3c spec wrecks need a laugh track

[16:33:11.0000] <Hixie>
turns out it's a structured database, not a wiki

[16:33:22.0000] <Hixie>
in particular, "W3C Working Draft" is from a list of fixed options

[16:33:30.0000] <Hixie>
none of which are the actual status

[16:34:26.0000] <Hixie>
hm, it's some sort of mediawiki frankenmonster?

[16:34:28.0000] <ronaldmansveld>
Hixie: I'm sure shepazu can help you with complaints about that ;)

[16:34:42.0000] <yroc>
ronaldmansveld: Thanks :)

[16:35:06.0000] <Hixie>
if you want to ignore the spec, https://developer.mozilla.org/en-US/docs/HTML/Element/article is a way better page than the webplatform.org page

[16:35:06.0000] <ronaldmansveld>
(or at least redirect you to one of the other people that can change those things)

[16:36:00.0000] <ronaldmansveld>
Hixie:  that's interesting, since MDN was imported to webplatform to form the base-content

[16:36:17.0000] <yroc>
I went to "DOM learning materials". It's blank! :(

[16:36:40.0000] <zewt>
dom learning? you really don't want the DOM becoming self-aware

[16:37:12.0000] <Hixie>
ronaldmansveld: mdn was? or msdn?

[16:37:15.0000] <astearns>
ronaldmansveld: MDN was not mass-imported, there was some licensing issue that prevented it. MDN content is being moved over bit by bit

[16:37:32.0000] <ronaldmansveld>
zewt:  thank you for making me laugh at this time of the night

[16:37:40.0000] <yroc>
zewt: Why not? What will happen?

[16:37:58.0000] <yroc>
Are we talking judgment day?

[16:38:16.0000] <Hixie>
so wait, webplatform.org is licensed CC-BY. Does that mean that anyone coping the article page now has to cite me?

[16:38:18.0000] <zewt>
window.navigator.skynet

[16:38:24.0000] <ronaldmansveld>
astearns:  Ah, I was under the impression all of MDN was imported, sorry 'bout that

[16:39:35.0000] <zewt>
occasionally wishing for native vectors in js

[16:39:49.0000] <zewt>
(but i guess i wish for that any time i need to do vector math in any language except shading languages, which have them)

[16:42:40.0000] <jamesr>
zewt, assuming you mean the geometry type? do you know of many languages that have that sort of stuff built in?

[16:43:06.0000] <zewt>
glsl, etc

[16:43:07.0000] <jamesr>
what i've heard from people who work on these things a lot is nobody can ever agree on what the right APIs for vectors/matrices/etc

[16:43:20.0000] <zewt>
they're optimized for that sort of thing though

[16:43:50.0000] <zewt>
eg. Vec3(1,2,3) * 2 = Vec3(2,4,6), Vec3(1,2,3) * Vec3(.5) = Vec3(0.5, 1, 1.5)

[16:43:52.0000] <jamesr>
yeah, but everybody ends up with their own version

[16:44:34.0000] <zewt>
well, that's not really a good reason for not picking a competently-designed one and using it

[16:44:53.0000] <zewt>
(not to say there may not be other reasons to not have them in a language like JS, of course)

[16:47:21.0000] <ronaldmansveld>
anyhow, it's nearing 2 o'clock here, so I better be off to bed

[16:47:25.0000] <ronaldmansveld>
goodnight all!

[17:35:07.0000] <ojan>
TabAtkins: What happened with removing the min-width: min-content behavior from the flexbox spec? I'd really like to change this ASAP. People keep running into it.

[17:35:18.0000] <ojan>
TabAtkins: there didn't seem to be any opposition on the list

[17:35:26.0000] <ojan>
TabAtkins: are we just waiting for a F2F?

[18:20:29.0000] <TabAtkins>
ojan_away: Got fantasai with me today.  I'll see if I can squeeze it in before we're done for the day.

[20:43:50.0000] <JonathanNeal>
is rel="self" not allowed?

[20:48:47.0000] <MikeSmith>
JonathanNeal: not in HTML

[20:48:57.0000] <MikeSmith>
it's an atom thing

[20:50:02.0000] <MikeSmith>
as in I don't think there's any spec anywhere that defines what it's supposed to mean if you use it in an HTML document

[20:50:04.0000] <JonathanNeal>
Yea, the validators were throwing me an error, but it was recommended to me in another channel. I am trying to markup a simple site navigation that, with currently implemented CSS, can be transformed into a variety of the different navigation styles we see online.

[20:50:16.0000] <MikeSmith>
OK

[20:50:31.0000] <JonathanNeal>
And someone said use rel="self" instead of, say, class="current" on the anchor that links to the current page.

[20:51:06.0000] <JonathanNeal>
made sense to me, and I was a little surprised to see it wasn't a rel.

[20:52:16.0000] <MikeSmith>
yeah I guess it makes some sense but the problem is there's no spec that says what that sense is

[21:01:28.0000] <JonathanNeal>
I hope in the future we have something like :has

[21:01:40.0000] <JonathanNeal>
In the meantime, basing it off the imaginary future of :has and rel="self", https://gist.github.com/jonathantneal/5096851

[22:51:21.0000] <SimonSapin>
Is there any way to know which email address I used on bugzilla?

[00:04:22.0000] <paul_irish>
This may come across as na√Øve, so apologies. In the wake of Opera adopting WebKit. one of the posts that stuck out to me was David Storey's, where he indicated that the now reduction to WebKit, Gecko, and IE introduces an odd constraint on standardization

[00:04:32.0000] <paul_irish>
(his post: http://generatedcontent.org/post/43036827576/hey-o-lets-go )

[00:05:16.0000] <paul_irish>
In both whatwg and w3c land, the buy-in from two vendors is critical. either to land something into a spec or ship a recommendation.

[00:06:44.0000] <paul_irish>
does the new playing field of only 3 engines introduce a big challenge in this regard?

[00:07:28.0000] <paul_irish>
or is this mostly moot as it's vendors rather than engines that matter?

[00:11:17.0000] <MikeSmith>
paul_irish: to me it's just less competition, less diversity, one fewer separate entity trying something different

[00:11:21.0000] <MikeSmith>
Opera was different

[00:11:30.0000] <MikeSmith>
well it still is

[00:11:30.0000] <paul_irish>
Yeah certainly.

[00:11:54.0000] <MikeSmith>
but Presto was different, the Presto core team was different

[00:12:17.0000] <paul_irish>
But you don't see this as a threat to standardization progress when it comes to multiple vendor buy-in, right?

[00:12:28.0000] <MikeSmith>
every browser team has its own culture that brings something valuable

[00:12:30.0000] <paul_irish>
perhaps it could accelerate it because eng resources are partially pooled

[00:12:56.0000] <MikeSmith>
ah specificallly around standardization I do see it as a bit of threat

[00:13:55.0000] <MikeSmith>
in that Opera has a lot of resources -- a lot of people who have their heads in the right place about standards, and Opera had a committment to investing heavily in standards development

[00:14:17.0000] <MikeSmith>
way out of proportion to the size of the company or how much money they were making

[00:15:10.0000] <MikeSmith>
hopefully a lot of those same people are going to be putting that energy into WebKit+Chromium+V8 standards features now

[00:15:16.0000] <MikeSmith>
and testing

[00:15:45.0000] <MikeSmith>
I think Opera has the best testing organization among any of the browser projects

[00:15:55.0000] <paul_irish>
Yeah, confirm.

[00:16:09.0000] <tobie>
yay testing.

[00:16:11.0000] <SimonSapin>
paul_irish: AFAIK in W3C-land this is more about two interoperable *implementations* than buy-in from two vendors. So two WebKit vendors still only have one implementation

[00:17:21.0000] <MikeSmith>
paul_irish: so would be good to try to ensure we have those people still working on testing and working on Web-platform stuff like they have been for the last many years now -- 6,7,8,9 years

[00:17:29.0000] <paul_irish>
SimonSapin: is that true? is implementation defined as "you did the work"?  e.g. 3D transforms have multiple implementations in webkit ports, but flexbox does not?

[00:19:14.0000] <jgraham>
paul_irish: Yes

[00:19:20.0000] <SimonSapin>
paul_irish: I‚Äôm not sure but I guess so: http://dev.w3.org/csswg/css3-flexbox/#cr-exit-criteria "each implementation must be developed by a different party and cannot     share, reuse, or derive from code used by another qualifying     implementation"

[00:19:30.0000] <MikeSmith>
yeah the multiple-implementations criterion needs to be evaluated feature-by-feature, with an understanding of the multiple-ports reality and also separation of the platform parts

[00:19:35.0000] <paul_irish>
Ah. it gets specific. Thanks SimonSapin

[00:19:41.0000] <jgraham>
That was a problem for WebSQL, for example (SQLite was the only implementation)

[00:19:48.0000] <SimonSapin>
I think that was the issue with WebSQL

[00:19:51.0000] <paul_irish>
:)

[00:19:52.0000] <jgraham>
It seems like it will be a problem for WebRTC

[00:19:57.0000] <tobie>
I think it depends where in the stack the implementation is happening. The goal of this "rule" is to prove independent implementations can be built from the spec.

[00:20:26.0000] <SimonSapin>
there is also "Sections of code that have no bearing on the     implementation of this specification are exempt from this requirement." so eg. using the same C++ compiler is fine

[00:20:45.0000] <zcorpan>
MikeSmith: what's the procedure for restarting the websocket server on w3c-test.org? i've changed a handler under Opera/

[00:21:07.0000] <jgraham>
zcorpan: Isn't it MikeSmith-over-irc protocol?

[00:21:38.0000] <MikeSmith>
SimonSapin: I would not ust CSS WG CR exit criteria as a sterling model of how well things should be scoped. That language there seems overly restrictive to me, and not aligned well with how things actually work

[00:21:46.0000] <MikeSmith>
jgraham: heh

[00:22:19.0000] <paul_irish>
MikeSmith: i hope so.  that exit criteria seems like it just got dramatically more challenging. :/

[00:22:57.0000] <MikeSmith>
zcorpan: it involves me ssh'ing into the test machine and running /etc/init.d/apache2 restart

[00:23:02.0000] <MikeSmith>
which I'll doo right now

[00:23:19.0000] <jgraham>
+Scooby

[00:23:42.0000] <SimonSapin>
MikeSmith: Well, that exit criteria is there, and 3 engines instead of 4 is relevant to it. I don‚Äôt know if others WGs have other criteria. And what the CSSWG criteria *should* be is yet another issue

[00:24:20.0000] <SimonSapin>
MikeSmith: I think CSS WG would be open to rewording the criteria

[00:24:39.0000] <tobie>
SimonSapin: exit criteria are WG-specific.

[00:25:04.0000] <jgraham>
But generally there is a standard of two interoperable implementations

[00:25:28.0000] <jgraham>
And all the wiggle is in "implementation" "two" and "interopable"

[00:25:30.0000] <tobie>
jgraham: agreed.

[00:25:39.0000] <jgraham>
*interoperable

[00:26:20.0000] <MikeSmith>
SimonSapin: I'm saying they're free to do what they want but that places no prohibition on the rest of us from constraining exit criteria more thoughtfully. It's not a binding precedent.

[00:26:44.0000] <zcorpan>
MikeSmith: excellent

[00:26:47.0000] <SimonSapin>
MikeSmith: sure.

[00:27:07.0000] <tobie>
jgraham: interoperability is too long a word. Let's be hip and call it i14y.

[00:27:19.0000] <MikeSmith>
zcorpan: restarted now

[00:27:49.0000] <JonathanNeal>
tobie: hi5 / facepalm

[00:27:51.0000] <jgraham>
tobie: Everyone knows that the \w\d\d\w things are things wew can't get right

[00:28:21.0000] <MikeSmith>
tobie: I vote for icKy instead

[00:28:24.0000] <jgraham>
a11y - sucks. i18n - sure, if you live in the USA. So I guess i14y is a bad idea (but perhaps fitting)

[00:29:09.0000] <zcorpan>
MikeSmith: thanks. hmm. http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/cookies/002.html still fails for me. is something more needed than restarting to make changes to http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/handlers/ take effect?

[00:29:22.0000] <tobie>
jgraham it was a joke.

[00:29:45.0000] <jgraham>
tobie: So was my response :)

[00:29:55.0000] <jgraham>
Maybe I just failed at "funny"

[00:30:55.0000] <MikeSmith>
zcorpan: nothing more should be needed as far as I know

[00:31:05.0000] <MikeSmith>
lemme check

[00:31:31.0000] <JonathanNeal>
jgraham: you don't like a11y?

[00:31:33.0000] <zcorpan>
ok. then maybe it's something else being wrong with the test. damn

[00:31:43.0000] <JonathanNeal>
and by that I mean the abbreviation

[00:32:08.0000] <jgraham>
JonathanNeal: I meant that we are bad at it, not that the name sucks

[00:32:19.0000] <jgraham>
/me should be quiet in the future

[00:32:25.0000] <tobie>
paul_irish: great post on the subject of WebKit architecture/multiple WebKits, btw.

[00:32:49.0000] <paul_irish>
:) thanks!

[00:33:10.0000] <SimonSapin>
paul_irish: for your original question: apparently the details depend on what group a spec is in, but most often we seem to be counting implementations rather than vendors. So yes, I think it matters.

[00:33:37.0000] <MikeSmith>
zcorpan: hmm I'm seeing this error: "mod_pywebsocket: web_socket_transfer_data raised exception for /ws/set-cookie: Connection read error"

[00:34:15.0000] <MikeSmith>
but I'm not sure that's indicates an actual problem but I think there might be some retry that happends

[00:34:24.0000] <zcorpan>
MikeSmith: hmmm

[00:34:30.0000] <JonathanNeal>
SimonSapin: implementations = engine, or, features?

[00:35:40.0000] <zcorpan>
MikeSmith: the indentation looks weird in the handler, wonder if that causes ill effects

[00:35:42.0000] <JonathanNeal>
I guess it's implied that it would be engines, since the vendors are likely the ones cutting the features.

[00:35:57.0000] <MikeSmith>
zcorpan: well, it's python..

[00:36:03.0000] <MikeSmith>
/me looks

[00:36:12.0000] <SimonSapin>
JonathanNeal: I‚Äôm not sure what you mean. At least in CSS WG, each feature needs to have at least two independent implementations, where "independent" means not sharing too much relevant code

[00:36:32.0000] <paul_irish>
SimonSapin:  Yeah agreed. Seems like something to bring up as a topic of conversation within the WG sometime.  there were 6 two-implementation possibilities before. now there are 3.

[00:36:47.0000] <JonathanNeal>
jgraham: we are bad at it because the platform or tools are bad, or that we just don't use them enough or effectively?

[00:37:38.0000] <MikeSmith>
zcorpan: that indentation doesn't look to me like it would cause a problem in python

[00:37:40.0000] <SimonSapin>
paul_irish: Do you mean we should change the criteria to something less restrictive?

[00:38:09.0000] <MikeSmith>
.win 20

[00:38:11.0000] <MikeSmith>
oops

[00:38:14.0000] <paul_irish>
SimonSapin: yes

[00:38:27.0000] <zcorpan>
MikeSmith: the last "return" statement has a tab but the line above has 5 spaces

[00:38:35.0000] <SimonSapin>
paul_irish: I‚Äôm not sure how to do that and still keep the criteria useful :/

[00:38:56.0000] <paul_irish>
SimonSapin: unless the WG is comfortable with Exit being ~100% harder than before?

[00:38:57.0000] <SimonSapin>
multiple independent implementations are still a Good Thing¬Æ

[00:38:58.0000] <zcorpan>
now i don't remember the rules exactly for python, but i'm not sure a tab is greater than 5 spaces

[00:39:44.0000] <MikeSmith>
zcorpan: ah I need to do ":set list" in vim (which I normally got set in my own .vimrc but am su'ed to root)

[00:39:44.0000] <jgraham>
8

[00:39:58.0000] <zcorpan>
jgraham: ok

[00:40:06.0000] <jgraham>
But the real rule is that you burn in hell for mixing tabs and spaces

[00:40:42.0000] <SimonSapin>
paul_irish: it‚Äôs a real issue, but I don‚Äôt have a good answer. Please bring it up on www-style

[00:41:06.0000] <zcorpan>
changed to 4 spaces

[00:41:11.0000] <tobie>
paul_irish: Here's what the W3C process doc says: http://www.w3.org/2005/10/Process-20051014/tr#cfr

[00:41:34.0000] <tobie>
"Shown that each feature of the technical report has been implemented. Preferably, the Working Group should be able to demonstrate two interoperable implementations of each feature."

[00:42:27.0000] <MikeSmith>
zcorpan: but the "while True:" above it is only indented 4 spaces, right?

[00:42:43.0000] <tobie>
That leaves a lot of leeway.

[00:42:50.0000] <jgraham>
tobie: Oh, some "preferably" in there too

[00:42:54.0000] <zcorpan>
MikeSmith: previously it was 5 spaces. now it's 4 and the "return" has 8

[00:42:57.0000] <tobie>
yup.

[00:43:08.0000] <MikeSmith>
zcorpan: ah

[00:43:41.0000] <tobie>
MikeSmith: don't you just <3 languages where ws is significant?

[00:44:13.0000] <jgraham>
tobie: Yes, I do :)

[00:45:04.0000] <Philip`>
They're not quite as bad as languages where whitespace is insignificant and you can write

[00:45:08.0000] <Philip`>
  if (x > 0);

[00:45:11.0000] <Philip`>
      foo();

[00:47:02.0000] <tobie>
Lets have a language flamewar in #whatwg. That sounds like a productive use of everyone's time. Ideally, we should ping people, so everyone can have a say.

[00:47:30.0000] <Philip`>
Clearly the best solution is to write all your programs in a single line

[00:47:38.0000] <MikeSmith>
/me dials up all his lisp buddies

[00:48:02.0000] <jgraham>
Philip`: SO, you been learning APL?

[00:48:18.0000] <JonathanNeal>
WEN WILL SASS BE IN SPEC? LINE RETURNS MATTER TOO

[00:48:20.0000] <MikeSmith>
Tastes great! vs Less filling!

[01:01:18.0000] <JonathanNeal>
Is it likely that more link types will be added to the spec, like rel="self"?

[01:06:58.0000] <MikeSmith>
JonathanNeal: some of them may graduate into the HTML spec, but rel="self" isn't going anywhere til somebody actually writes a formal definition of what it means in an HTML doc (as opposed to an atom doc), and probably even then not until there is evidence of wide use of it by applications that consume and actually do something with it

[01:12:35.0000] <zcorpan>
MikeSmith: should the ws handler be working now?

[01:12:38.0000] <annevk>
Oh fricking lovely

[01:13:08.0000] <annevk>
Because Blob does not check its type parameter everyone else will have to https://bugs.webkit.org/show_bug.cgi?id=111380

[01:13:20.0000] <annevk>
Blob should check its type parameter imo

[01:13:30.0000] <marcosc_>
I really don't f'ing understand why the W3C refuses to enable CORS on TR

[01:15:25.0000] <marcosc>
MikeSmith, darobin, any chance you guys could talk to the w3c sys people to enable CORS

[01:15:39.0000] <darobin>
marcosc: enable it where?

[01:15:48.0000] <marcosc>
on /TR/

[01:16:07.0000] <MikeSmith>
marcosc: have been talking already

[01:16:23.0000] <darobin>
h http://www.w3.org/TR/html5/Overview.html | grep Access

[01:16:23.0000] <darobin>
12:Access-Control-Allow-Origin: *

[01:21:43.0000] <marcosc>
darobin: hmm... was not seeing that response header in the browser

[01:22:05.0000] <marcosc>
darobin: I can see it in curl

[01:22:19.0000] <darobin>
you mean you weren't seeing it in XHR?

[01:22:35.0000] <marcosc>
testing it now

[01:23:03.0000] <darobin>
I don't think XHR surfaces CORS headers, but anyway....

[01:23:14.0000] <darobin>
are you telling me that you made a cross-request domain to /TR/

[01:23:19.0000] <darobin>
that you got something back

[01:23:29.0000] <darobin>
and that you thought it didn't work because you couldn't see the header?

[01:23:30.0000] <darobin>
...

[01:23:50.0000] <darobin>
s/cross-request domain/cross-domain request/

[01:24:02.0000] <annevk>
s/cross-domain request/cross-origin request/

[01:24:19.0000] <darobin>
yeah that

[01:24:23.0000] <marcosc>
no, I went to a random spec on TR and was checking if Access-Control-Allow-Origin was sent

[01:24:36.0000] <darobin>
/me heads for coffeee

[01:27:57.0000] <marcosc>
darobin:

[01:27:57.0000] <marcosc>
http://jsfiddle.net/B7AZu/

[01:28:05.0000] <marcosc>
XMLHttpRequest cannot load http://www.w3.org/TR/REC-xml/. Origin http://fiddle.jshell.net is not allowed by Access-Control-Allow-Origin.

[01:28:05.0000] <hsivonen>
jpwhiting: you may be interested in looking at the changesets that added ITS validation

[01:29:15.0000] <darobin>
marcosc: I don't know man, it works on the CLI :)

[01:29:42.0000] <marcosc>
CORS is kinda pointless in the CLI :)

[01:30:56.0000] <marcosc>
Quick, W3C meme this: "Hey guys! We enabled CORS in the CLI. Now you can curl without problems!"

[01:32:22.0000] <darobin>
marcosc: your fiddle works perfectly fine for me...

[01:32:31.0000] <marcosc>
really?

[01:32:38.0000] <marcosc>
what browser?

[01:32:42.0000] <hsivonen>
annevk: FYI: https://www.w3.org/Bugs/Public/show_bug.cgi?id=21203 (CORS and EME)

[01:33:02.0000] <darobin>
wanna W3C "I don't always use jsfiddle, but when I do I can't figure out how to press the Run button"?

[01:33:13.0000] <darobin>
marcosc: Fx18

[01:33:36.0000] <darobin>
anyway, I really need that coffee

[01:33:46.0000] <hsivonen>
darobin: you need a Firefox upgrade

[01:33:51.0000] <darobin>
I need it to make cross brain-blood barrier requests

[01:33:58.0000] <darobin>
hsivonen: I always wait a little bit

[01:35:05.0000] <darobin>
and besides, I don't really restart my browser every six weeks, that's a tad too often

[01:37:06.0000] <hsivonen>
Is the picture in http://w3cmemes.tumblr.com/post/43403131361/and-he-thought-that-special-protector-of-drm a common meme picture one is supposed to recognize?

[01:38:20.0000] <MikeSmith>
hsivonen: I think it is not a common one, no

[01:40:30.0000] <hsivonen>
MikeSmith: ok. do you happen to know the origin of the picture?

[01:41:03.0000] <annevk>
hsivonen: added myself to the cc list

[01:42:18.0000] <annevk>
marcosc: does TR/ send multiple CORS headers?

[01:42:54.0000] <marcosc>
I don't think so. Looks like this is just a bug in Chrome 25. Chrome 27 is fine, as is Safari.

[01:43:06.0000] <hsivonen>
annevk: I tend to think that allowing only one origin or * was a mistake.

[01:43:17.0000] <MikeSmith>
hsivonen: I promised my girlfriend the other day that I would quite lying. So because of that promise, you must permit me to be excused from answering your question directly.

[01:43:43.0000] <hsivonen>
MikeSmith: ok

[01:44:25.0000] <hsivonen>
annevk: that is, some big sites might not want to put a huge ACL in there, but small sites might still benefit from being able to put their full (small but larger than one item) ACL in there

[01:45:09.0000] <annevk>
hsivonen: allowing more can be done, but I suppose the fallback could have been better

[01:45:30.0000] <annevk>
hsivonen: maybe if we want to allow more we should introduce a shorter header too...

[01:46:00.0000] <MikeSmith>
hsivonen: I did find http://i.imgur.com/nMTEg.jpg from google image search

[01:46:02.0000] <annevk>
then Access-Control-Allow-Origin is for fallback

[01:50:06.0000] <hsivonen>
MikeSmith: hmm. so there is some meme pattern there

[01:52:35.0000] <hsivonen>
I wonder how much Stack Overflow is fueled by 386. http://stackoverflow.com/questions/5175840/is-html-a-context-free-language needs a better answer.

[01:54:02.0000] <MikeSmith>
hsivonen: I wouldn't make too much of those two instances as evidence of a pattern. My guess is that one of them just copied the meme connection from the other. :)

[01:54:45.0000] <MikeSmith>
hsivonen: oh boy "The answer is yes. SGML is a well defined Context Free Language, and HTML defined on top of it is also a CFL."

[01:54:55.0000] <MikeSmith>
definitely 386

[01:55:22.0000] <hsivonen>
it's ridiculous that hg strip --no-backup 'roots(outgoing())' takes hours longer than just recloning the full repo

[01:55:42.0000] <MikeSmith>
hsivonen: the NO answer there is pretty good though

[01:57:24.0000] <hsivonen>
today I learned: Even Kingston sells ridiculously slow USB sticks

[01:57:40.0000] <hsivonen>
and here I thought Kingston was an OK brand for that

[02:03:18.0000] <jgraham>
hsivonen: What is that doing? Removing all unpushed code?

[02:03:51.0000] <zcorpan>
MikeSmith: a tcp trace suggests it's still the old handler

[02:04:19.0000] <MikeSmith>
oh

[02:04:22.0000] <MikeSmith>
zcorpan: yeah

[02:04:28.0000] <MikeSmith>
I remember now

[02:04:34.0000] <MikeSmith>
I need to manually copy them

[02:04:41.0000] <zcorpan>
aha

[02:05:05.0000] <MikeSmith>
sorry it just came back to me, from when we talked at TPAC. You remember?

[02:05:25.0000] <MikeSmith>
anyway, fixing it now

[02:05:26.0000] <zcorpan>
hmm. yeah now you mention it

[02:06:42.0000] <zcorpan>
just installed packet peeper, which seems to be pretty neat

[02:07:55.0000] <MikeSmith>
zcorpan: ok the updated file is in the right place now

[02:08:11.0000] <MikeSmith>
sorry for making you burn up time man :(

[02:08:18.0000] <zcorpan>
Pass	 WebSockets: Set-Cookie in response

[02:08:21.0000] <zcorpan>
yay

[02:08:50.0000] <MikeSmith>
cool

[02:08:59.0000] <zcorpan>
MikeSmith: it's ok, i was mostly reading email anyway

[02:09:08.0000] <zcorpan>
hey i just joined 3 WGs

[02:09:21.0000] <zcorpan>
webapps, css, webrtc

[02:09:27.0000] <MikeSmith>
nice

[02:10:04.0000] <zcorpan>
i wonder which specs are in greatest need of an editor

[02:10:12.0000] <MikeSmith>
zcorpan: I just use tcpdump. packet peeper is a gui I guess?

[02:10:23.0000] <zcorpan>
MikeSmith: yeah

[02:10:40.0000] <zcorpan>
MikeSmith: i didn't work out how to read the output of tcpdump

[02:10:59.0000] <zcorpan>
and since the websocket is on port 80 i didn't figure out a good filter

[02:11:14.0000] <hsivonen>
jgraham: it removes all changesets that are not in the current upstream after you've edited .hg/hgrc to give the repo a different upstream than it had originally

[02:11:35.0000] <zcorpan>
in packet peeper i could just scroll through the list and go "trace tcp" when i saw something involving "websocket"

[02:11:56.0000] <zcorpan>
which gave a nice request+response for the websocket connection

[02:12:28.0000] <MikeSmith>
ok

[02:12:50.0000] <zcorpan>
which is similar to the experience of wireshark, but wireshark's UI is horrible

[02:13:56.0000] <MikeSmith>
zcorpan: yeah wireshark is painful

[02:14:53.0000] <jgraham>
hsivonen: I have to ask why? I mean I can imagine wanting to reset the current branch to the new upstream head, but why remove commits? Or is this some hg-ism of not allowing commits that aren't reachable from a head?

[02:15:23.0000] <zcorpan>
the installation was similarly seamless with peeper but less so with wireshark

[02:28:11.0000] <hsivonen>
jgraham: it saves storage and is supposed to be faster than a full clone from the network

[02:28:18.0000] <hsivonen>
jgraham: except that it really is slower

[02:28:35.0000] <hsivonen>
jgraham: the storage saving is probably real, though

[02:28:47.0000] <hsivonen>
I succumbed to 386: http://stackoverflow.com/questions/5175840/is-html-a-context-free-language/15244772#15244772

[02:46:28.0000] <hsivonen>
hmm. maybe the Kingston USB stick is OK but a couple of USB ports on my computer are just terrible...

[02:47:22.0000] <gsnedders>
hsivonen: Is HTML without parse-errors (ignoring validity for now) a CFG?

[02:48:04.0000] <gsnedders>
/me thinks not

[02:54:31.0000] <zcorpan>
hsivonen: " and those rules are complex enough that they can be fully defined using tree automata" s/can/can't/ ?

[03:04:55.0000] <hsivonen>
zcorpan: thanks. fixed

[03:05:43.0000] <hsivonen>
gsnedders: Pretty sure not due to feedback from the tree builder into the tokenizer, but I didn't try to actually develop a proof

[03:09:32.0000] <annevk>
Nice demonstration on stackoverflow.com how you're only as smart as the people that pay attention.

[03:17:00.0000] <hsivonen>
gsnedders: I edited the answer to ack interesting questions in the no parse errors but ignoring validity scenario

[03:21:16.0000] <SimonSapin>
zcorpan: do you really want to spec table layout?

[03:28:05.0000] <annevk>
well, someone has to

[03:28:28.0000] <annevk>
but defining the box model in a different way first might be a good idea

[03:35:05.0000] <zcorpan>
SimonSapin: maybe

[03:41:15.0000] <SimonSapin>
annevk: box model yay https://twitter.com/SimonSapin/status/263190763851116544/photo/1

[03:41:54.0000] <annevk>
SimonSapin: uhuh

[03:42:19.0000] <SimonSapin>
more seriously, I‚Äôd help with a better definition

[03:42:48.0000] <SimonSapin>
it‚Äôd also need hooks for other CSS modules to influence box generation

[03:44:18.0000] <annevk>
CSS needs a little less of "this is how we organize specs" and therefore "this is how to write them" and more "this is how the code works"

[03:44:28.0000] <SimonSapin>
for table layout, hopefully we can push dbaron to help update http://dbaron.org/css/intrinsic/ and put it in css3-sizing

[03:53:57.0000] <annevk>
Hixie: I thought that you said Origin could not always be included in the request. But it seems per the Origin specification it's always included, just sometimes it has the value "null"...

[04:12:33.0000] <annevk>
cross-origin = no-and-fail, no-and-taint, yes-and-fail seems to be pretty much it

[04:13:35.0000] <annevk>
no-and-taint is a typical fetch today

[04:13:59.0000] <annevk>
no-and-fail is workers

[04:14:17.0000] <annevk>
yes-and-fail is XHR, stuff with crossorigin set

[04:17:25.0000] <SimonSapin>
anyway zcorpan, good to have you in the group

[04:17:38.0000] <zcorpan>
SimonSapin: thanks

[04:19:15.0000] <zcorpan>
annevk: what does "yes" and "no" refer to here?

[04:19:36.0000] <annevk>
zcorpan: whether you want to go there at all

[04:20:22.0000] <zcorpan>
ah

[04:21:00.0000] <zcorpan>
so <track> is yes-and-fail, <video> is yes-and-taint (i think)?

[04:21:25.0000] <annevk>
<video> is yes-and-taint? I thought that didn't exist

[04:22:05.0000] <zcorpan>
<video> has a crossorigin attribute, though we didn't implement it for <video> in presto (only for track)

[04:22:11.0000] <annevk>
<track> depends on crossorigin=""

[04:22:25.0000] <zcorpan>
yeah

[04:22:46.0000] <annevk>
if <track> has no crossorigin="" attribute it would be no-and-fail

[04:22:54.0000] <annevk>
otherwise yes-and-fail

[04:22:55.0000] <annevk>
afaict

[04:23:08.0000] <zcorpan>
ah yeah, indeed

[04:23:14.0000] <annevk>
whereas most such as <img> are no-and-taint and yes-and-fail

[04:23:24.0000] <annevk>
I think <video> would just be no-and-taint then

[04:23:38.0000] <zcorpan>
isn't <img> yes-and-taint without crossorigin set?

[04:23:43.0000] <annevk>
no

[04:24:09.0000] <annevk>
yes-and-taint does not exist

[04:24:17.0000] <annevk>
afaik

[04:24:26.0000] <annevk>
(although that was my original design)

[04:24:56.0000] <zcorpan>
but <img src="//cross-origin.com"> loads the resource. so i guess i don't understand your "yes" and "no" still

[04:26:06.0000] <annevk>
yeah, should name it differently

[04:26:48.0000] <annevk>
mode = same-origin, CORS-cross-origin, CORS-same-origin

[04:26:58.0000] <annevk>
well no that's wrong

[04:27:11.0000] <annevk>
same-origin, tainted cross-origin, CORS

[04:27:14.0000] <jgraham>
Hmm, it seems presto and WebKit both set an event property on window during execution of a event handler, at least one set via a content attribute (dunno how it works with nested events)

[04:27:27.0000] <jgraham>
Is that in the spec somewhere I'm not looking

[04:27:29.0000] <jgraham>
?

[04:27:48.0000] <annevk>
it's an IE thing

[04:28:14.0000] <annevk>
which we've wanted to kill for a long time now

[04:29:25.0000] <jgraham>
Some variant of "we" that doesn't include WebKit, it seems

[04:30:10.0000] <annevk>
well yeah, other than arv_ there's not much communication from WebKit about these things :-(

[04:33:11.0000] <hsivonen>
Interesting that my Voddler/Skyfall tweet is not getting retweets. Too shocking to be believed?

[04:34:31.0000] <annevk>
hsivonen: I don't know about Voddler and a single incident is unlikely to convince anyone I think

[04:34:40.0000] <zcorpan>
MikeSmith: i've updated the handlers again. take it when you have time, i'll be travelling anyway

[04:35:16.0000] <hsivonen>
annevk: depends on whether one wants to be convinced of existence proof or about generalization

[04:35:29.0000] <hsivonen>
annevk: it's existence proof but doesn't generalize ATM

[04:36:31.0000] <annevk>
hsivonen: I guess it's kind of noteworthy that you can stream Skyfall to a browser, hadn't really considered it from that perspective

[04:36:40.0000] <annevk>
hsivonen: on the other hand, I don't really follow what's going on in that space

[04:36:58.0000] <hsivonen>
annevk: to a browser without DRM on Linux

[04:37:37.0000] <hsivonen>
that should be off-the-charts notable compared to the other stuff I tweet that gets retweeted all the time

[04:47:23.0000] <annevk>
Dunno how it works. Maybe "HTML5 DRM-free version of Skyfall available for rent. Why do we need EME again?" would work better?

[05:12:54.0000] <gsnedders>
hsivonen: I'm not sure that that cannot be reduced to a single stack in the valid case.

[05:13:13.0000] <gsnedders>
hsivonen: I tried to construct a semi-formal proof before, but got bored and gave up.

[05:56:22.0000] <annevk>
Okay, so the Origin header situation seems really messed up...

[05:57:02.0000] <annevk>
For "potentially CORS-enabled fetch" it's basically only included if a) mode is "Anonymous" or "Use Credentials" and b) the request is cross-origin

[05:57:21.0000] <annevk>
For "fetch" it's only included if "from" is present in the invocation of the algorithm

[05:57:46.0000] <annevk>
The intersection of "potentially CORS-enabled fetch" and "fetch" is "No CORS" taint

[05:58:44.0000] <annevk>
I think to properly support the "potentially CORS-enabled fetch" I'd need to introduce some kind of suppress Origin header flag

[06:00:55.0000] <annevk>
which when set "suppresses" the header for same-origin requests and tainted cross-origin requests while still allowing the response to the request to be marked as CORS-same-origin

[06:01:01.0000] <annevk>
:-(

[06:06:04.0000] <SimonSapin>
getting 500 errors on https://dvcs.w3.org/hg/csswg/ ‚Ä¶ who should I ping?

[06:08:13.0000] <jgraham>
MikeSmith or darobin_

[06:08:24.0000] <jgraham>
Who might proxy the request

[06:08:38.0000] <darobin>
oh for fuck's sake

[06:08:44.0000] <darobin>
that thing's down all the time

[06:08:55.0000] <jgraham>
Or just cuss

[06:08:58.0000] <darobin>
it beats me why hg was even brought into this world

[06:09:40.0000] <darobin>
SimonSapin: should work now

[06:11:21.0000] <darobin>
for reference: https://twitter.com/robinberjon/status/309305376329830400

[06:13:09.0000] <SimonSapin>
darobin: great! Now testing https://github.com/msysgit/msysgit/wiki/Guide-to-git-remote-hg ‚Ä¶

[06:15:16.0000] <darobin>
SimonSapin: good luck

[06:15:37.0000] <darobin>
at some level I think that persuading the CSS WG to switch to git would actually prove *easier*, but I know that's setting the bar pretty high

[06:16:01.0000] <SimonSapin>
easier than using something like git-remote-hg?

[06:16:01.0000] <jgraham>
Easier than what?

[06:31:40.0000] <MikeSmith>
darobin: did you restart the server yet or should I?

[06:32:01.0000] <darobin>
MikeSmith: I did it

[06:32:15.0000] <darobin>
SimonSapin: well, tell me how it goes

[06:32:36.0000] <darobin>
but I suspect that there are enough incompatibilities between git and hg that you might end up with weird issues

[06:33:27.0000] <SimonSapin>
darobin: git and hg are actually very close, afaik hg-git works well enough

[06:33:53.0000] <SimonSapin>
https://github.com/dubiousjim/yagh documents various ways of how to do the reverse

[06:34:29.0000] <darobin>
I couldn't get hg-git to work reliably actually

[06:34:29.0000] <jgraham>
SimonSapin: Whenever I have tried using git with a hg remote "well enough" was a ephemism for "with extreme pain"

[06:34:30.0000] <SimonSapin>
git-hg-again worked fine, but was slow. I suspect it to rewrite the whole commit history ‚Ä¶ sometimes

[06:34:33.0000] <darobin>
and neither could Aryeh

[06:34:51.0000] <jgraham>
I mean it did sort of work

[06:35:08.0000] <darobin>
for the very basics, most of the time

[06:35:11.0000] <jgraham>
But it was hard to recommend as a solution

[06:35:15.0000] <darobin>
but anything slightly exotic...

[06:35:34.0000] <SimonSapin>
with msysgit‚Äôs git-remote-hg, this Just Worked¬Æ: git clone hg::http://dvcs.w3.org/hg/csswg/

[06:35:55.0000] <SimonSapin>
git gc --aggressive to make the repo smaller

[06:36:25.0000] <SimonSapin>
we don‚Äôt have a fancy branch setup in CSSWG

[06:37:30.0000] <SimonSapin>
this implementation looks more solid than various patterns for "hg-git in reverse"

[06:37:54.0000] <jgraham>
Well, if it still works once you are actually using the local repo and want to pull in updates that will be more impressive

[06:38:31.0000] <jgraham>
Since just cloning is quite straightforward, but dealing with merges and so on is less so

[06:39:30.0000] <SimonSapin>
well, merges are done locally by git

[06:39:34.0000] <jgraham>
(I assume the reason that git-svn works OKish is because no one over does anything remotely complex with svn)

[07:00:08.0000] <SimonSapin>
jgraham: https://dvcs.w3.org/hg/csswg/rev/ad000eb1bb5d was just pushed from git

[07:21:29.0000] <zewt>
very first impression of ie10: i load it, click the address bar, start typing a url, and midway through typing it erases the url i'm typing and goes to some "welcome to IE10!" thing

[07:24:37.0000] <darobin>
I've had similar issues with it insisting that I really meant my URLs to be Bing searches

[07:25:55.0000] <jgraham>
IE has terrible UI? Say it isn't so!

[07:35:50.0000] <hsivonen>
I'm eager to see charset menu telemetry hit the release channel. Can't really conclude anything about Nightly, since the usage may be devs debugging rather than real normal users seeing broken pages.

[07:51:07.0000] <annevk>
So lets see. Send Origin when passed for mode tainted cross-origin. Otherwise only send for requests with mode CORS

[07:56:07.0000] <zewt>
all w3 lists are subscriber-only-posting, right?

[07:56:22.0000] <Ms2ger>
I don't think so

[07:56:34.0000] <Ms2ger>
I'm pretty sure anyone can post to www-archive

[07:56:48.0000] <zewt>
(not sure what I should trim from this huge crosspost on the IDB thread)

[07:57:05.0000] <zewt>
probably going to trim to just webapps (has -tag and a zillion random people on i)

[08:18:04.0000] <zewt>
ugh, somebody at firefox needs to be shot

[08:18:41.0000] <zewt>
as of firefox 17 and current webkit, both browsers agreed: headers in XHR are encoded/decoded as UTF-8 and exposed as normal strings

[08:19:02.0000] <zewt>
only IE had the insane, broken and completely unusable behavior of exposing the raw data

[08:19:20.0000] <zewt>
... but firefox 19 is now doing what IE does

[08:20:23.0000] <jgraham>
zewt: What does the spec say?

[08:20:32.0000] <zewt>
it's depressing when we have a majority agreement on good, sane behavior, then we regress to insanity

[08:20:51.0000] <jgraham>
And is there a test case?

[08:20:59.0000] <zewt>
jgraham: the spec says IE's behavior (which is why I was looking into this, I wanted to tell anne to get rid of that crap)

[08:21:32.0000] <zewt>
http://zewt.org/~glenn/blar.html, check the console

[08:22:02.0000] <zewt>
logs filename=Êº¢Â≠ó in FF17 and current Chrome, mojibake in FF19 and IE

[08:25:10.0000] <zewt>
xhr.setRequestHeader also takes a regular UTF-16 string and sends UTF-8 in the header in FF17/WebKit (it doesn't throw); haven't tested to see if FF19 changed anything there

[08:32:02.0000] <SimonSapin>
pango-view --font 'Fontin 30' <(echo cffi)

[08:32:23.0000] <SimonSapin>
sorry, wrong tab

[08:44:20.0000] <asmodai>
Anyone else notice embedding issues with Chrome 26 and the latest Flash for, say, YouTube videos on pages? It shows the Flash embed, but nothing's clickable.

[08:51:41.0000] <dglazkov>
good morning, Whatwg!

[08:52:50.0000] <wilhelm>
"Therefore HTML5 is now permitted in W3C Recommendations."

[08:55:44.0000] <darobin>
wilhelm: that's actually not true

[08:55:52.0000] <darobin>
(or soon not true, I forget)

[08:57:03.0000] <Ms2ger>
Or relevant, for that matter

[08:58:21.0000] <darobin>
oh, wilhelm said "now" :)

[08:58:25.0000] <darobin>
I had read not

[08:58:40.0000] <darobin>
lots of information riding on that letter

[09:07:37.0000] <bholley>
Hixie: yt?

[09:27:04.0000] <asmodai>
Mmm, interesting. Enable the builtin pepperflash of Chrome, the embed works. Use the official flash from the Adobe site and the embed is unclickable.

[09:45:47.0000] <Hixie>
bholley: briefly, if it's quick, or i'll be online again in a bit

[09:46:07.0000] <bholley>
Hixie: naw, it's ok. I commented in bug 19662

[09:46:12.0000] <Hixie>
k

[09:53:44.0000] <JonathanNeal>
Does rel="index" point to a reference list for the site (like the index in a book), or does it point to the main/central document of the site (like how the index file commonly works on the web).

[09:53:58.0000] <Hixie>
what does the definition say?

[09:54:42.0000] <JonathanNeal>
"Refers to a document providing an index for the current document."

[09:57:29.0000] <JonathanNeal>
And I'm unsure if "index" means "top level resource" or not.

[09:57:51.0000] <JonathanNeal>
since "index" uses "index" to define itself.

[09:58:05.0000] <Ms2ger>
Index in a book, I guess

[09:58:16.0000] <Ms2ger>
You refer to index.html?

[09:58:45.0000] <JonathanNeal>
When I think of an index in a book, I think of the table of contents.

[09:58:55.0000] <JonathanNeal>
When I think of an index on the web, I think of a top level resource.

[09:59:06.0000] <JonathanNeal>
like a "home page"

[10:00:41.0000] <JonathanNeal>
Perhaps an index on the web can be thought of similarly as a table of contents, just also with independent content and/or other aggregated content.

[10:00:52.0000] <Ms2ger>
When I think of an index, it's a list of terms at the end of a book

[10:01:19.0000] <JonathanNeal>
Ms2ger: right you are, I was a little turned around.

[10:01:59.0000] <Ms2ger>
I think that's the meaning that's used in the spec too :)

[10:02:49.0000] <JonathanNeal>
Originally, I thought that too, but the spec doesn't clarify, and other resources take the web definition, for instance, https://developer.mozilla.org/en-US/docs/HTML/Link_types

[10:04:17.0000] <JonathanNeal>
Also, I don't see many traditional indexes on the web, except in the form of search results.

[10:05:09.0000] <JonathanNeal>
I'm at a draw, leaning to the web definition, but I think you prove that there's considerable reason to doubt that it means top level resource, unless there's another part of spec that clarifies.

[10:16:17.0000] <jgraham>
tobie: "desired tests" scares me

[10:16:52.0000] <jgraham>
Since there is no mechanism to prove that tests are covering different parts of the specification it's a rather meaningless number

[10:17:29.0000] <jgraham>
Certainly it would be really easy to stuff the repo. with many tests for a feature without testing it deeply

[10:17:39.0000] <jgraham>
This is not in any way a theoretical concern

[10:18:05.0000] <tobie>
That's why we have a review process.

[10:19:04.0000] <tobie>
And we'll have ways to manually override this "desired test" data

[10:19:52.0000] <jgraham>
Well the review process is only likely to catch "this test is wrong" (and even then)

[10:20:19.0000] <jgraham>
It's hard to say to someone "no we don't need tests for 'outline' with 20 different colours"

[10:20:31.0000] <tobie>
how so?

[10:20:42.0000] <tobie>
It's the whole point of this exercise.

[10:20:43.0000] <Ms2ger>
Because Microsoft will push those hard...

[10:20:51.0000] <jgraham>
Because it will cause conflict

[10:21:00.0000] <tobie>
Really?

[10:21:03.0000] <jgraham>
yes

[10:21:21.0000] <tobie>
The whole point of this exercise is to identify areas where writing tests is particularly inmpactful

[10:21:28.0000] <jgraham>
Because if you complain about it the complaint amounts to "I think you are acting in bad faith"

[10:21:55.0000] <jgraham>
Sure, I agree that it is highly useful to identify undertested areas

[10:22:03.0000] <tobie>
well there you go.

[10:22:07.0000] <jgraham>
I don't think the inverse is true or possible

[10:22:23.0000] <jgraham>
"it" - a general method

[10:22:33.0000] <jgraham>
Not this specific presentation

[10:22:44.0000] <tobie>
We can have reviewers override coverage for a section.

[10:22:54.0000] <tobie>
Or test facilitators do the same.

[10:23:27.0000] <tobie>
So you add a hundred useless test and the reviewer looks at it and says: oh well, that's does;t move the needle one bit.

[10:23:33.0000] <tobie>
Actual coverage is still 50%/

[10:23:35.0000] <jgraham>
(I guess the inverse might be possible if we used code coverage data from the implementations contributing to the conformance report... Might be hard to identify the "relevant" code for each part though)

[10:23:58.0000] <tobie>
That's an interesting strategy.

[10:25:10.0000] <tobie>
That said, running these scripts on the HTML5 spec has already uncovered some very valuable info:

[10:25:15.0000] <jgraham>
I guess for Gecko and WebKit implementing new features it might actually work

[10:25:29.0000] <tobie>
we're missing test reviewers more than tests writers.

[10:25:35.0000] <jgraham>
But not for Trident, or features that already exist

[10:26:28.0000] <tobie>
jgraham: are you interested in looking more deeply at this and trying to create similar report using the strategy you just described?

[10:27:58.0000] <jgraham>
tobie: Interested, yes. But not prepared to make promises :)

[10:28:23.0000] <Ms2ger>
jgraham, actually, I'd love to see code coverage, can I task you to do that? :)

[10:28:39.0000] <jgraham>
Ms2ger: How much do you pay? :p

[10:28:52.0000] <Ms2ger>
jgraham, on Opera's time ;)

[11:00:46.0000] <zewt>
wow, gross

[11:01:11.0000] <zewt>
in mobile safari, clicking the document while the onscreen keyboard is open appears to close the keyboard ... if a click event handler is registered

[11:09:38.0000] <astearns>
jgraham: tobie: Ms2ger: If there's a spec section with a questionable set of tests, one possible solution is to go more granular

[11:09:51.0000] <Ms2ger>
Hmm?

[11:09:58.0000] <astearns>
map those tests to subsections, paragraphs or spans (the way WOFF does) to show what's still not covered

[11:09:58.0000] <Ms2ger>
The solution is better tests

[11:10:38.0000] <astearns>
agreed. I'm just looking for a way to settle an argument if one crops up

[11:11:17.0000] <tobie>
what about we wait for the argument to crop up and then act accordingly.

[11:11:48.0000] <tobie>
the data we have is far from being a panacea.

[11:12:28.0000] <tobie>
Yet we can improve it over time, either through better heuristics or by overriding parts of it manually.

[11:12:40.0000] <Ms2ger>
/me grinds his axe

[11:13:53.0000] <tobie>
This data is better than just pulling numbers out of thin air like we've been doing so far.

[11:14:13.0000] <astearns>
yep yep

[11:14:21.0000] <tobie>
During the same meeting, I heard HTML5 needed 1 million tests or 10'000.

[11:14:37.0000] <tobie>
That's two orders of magnitude. And that's ridiculous.

[11:14:40.0000] <Ms2ger>
Both are too low

[11:15:13.0000] <jgraham>
For comparison we had like 1/3 of a million tests for Presto

[11:15:19.0000] <jgraham>
And that was not enough

[11:15:33.0000] <jgraham>
(that's the whole platform of course)

[11:15:57.0000] <tobie>
So one thing we should start doing is count in number of assertions.

[11:16:05.0000] <tobie>
a test means little, really.

[11:16:19.0000] <tobie>
unless we have a shared definition of what a test is.

[11:16:22.0000] <tobie>
?

[11:16:56.0000] <tobie>
jgraham: how much of those can we bring to the W3c repository

[11:18:27.0000] <jgraham>
tobie: Lots of that was stuff that we imported from outside

[11:18:46.0000] <jgraham>
But we are, and have been, working on releasing tests we wrote ourselves

[11:19:09.0000] <jgraham>
There are lots of tests that will likely not get released though just because it would be so much effort

[11:19:53.0000] <tobie>
yeah. git push w3c is painful to type.

[11:19:58.0000] <tobie>
:P

[11:20:08.0000] <jgraham>
You are focussing on the wrong part :)

[11:20:25.0000] <tobie>
:)

[11:21:35.0000] <jgraham>
e.g. for the websockets tests which were written in a slightly pre-testharness.js framework and were already organised well, it took me maybe 2 days of effort to convert the tests and zcorpan is still fixing some edge cases

[11:21:56.0000] <jgraham>
In fact, including the time at TPAC, I guess 2 is an underestimate

[11:22:14.0000] <Ms2ger>
I wish we'd use testharness.js more :/

[11:25:28.0000] <jgraham>
(kind of hard to estimate since it was evenings + etc. so I wasn't really counting)

[11:26:49.0000] <Ms2ger>
I wonder if BjÔøΩrns research on quotes in email could be integrated in thunderbird...

[11:38:50.0000] <Hixie>
JonathanNeal: [define:index] on google says "An alphabetical list of names, subjects, etc., with references to the places where they occur, typically found at the end of a book.

[11:38:53.0000] <Hixie>
"

[11:41:26.0000] <JonathanNeal>
Hixie: exactly, and, as of this moment, I have adopted that definition, since microformats also specifies as "home" type.

[11:41:34.0000] <JonathanNeal>
http://microformats.org/wiki/existing-rel-values#HTML5_link_type_extensions

[11:43:46.0000] <JonathanNeal>
*specifies a "home" type.

[11:44:06.0000] <JonathanNeal>
I also edited the document to prevent the keywords from being used to define themselves.

[11:45:34.0000] <JonathanNeal>
I think TabAtkins has a name for when you do that, something like a game of intellectual taboo.

[11:46:51.0000] <Hixie>
the rel=index and the english word "index" have nothing to do with each other

[11:46:55.0000] <Hixie>
it's not like they're the same word

[11:47:18.0000] <Hixie>
one is an opaque string, the other is a human language word defined in dictionaries and by usage

[11:47:45.0000] <Hixie>
there's no difference between "the 'index' keyword declares an index" and "the 'zoopie' keyword declares an index"

[11:47:51.0000] <Hixie>
if the second of those is well-defined, then so is the first

[11:48:28.0000] <Ms2ger>
Well-defined as long as you have a shared definition of the English word "index" :)

[11:49:34.0000] <Hixie>
that's what i mean

[11:49:52.0000] <Hixie>
but that's got nothing to do with whether you're defining the _keyword_ "index" or "zoopie".

[11:49:58.0000] <Hixie>
(JonathanNeal: ^)

[11:51:19.0000] <JonathanNeal>
I follow, but there were two conflicting meanings for "index". Again, MDN had it the other way https://developer.mozilla.org/en-US/docs/HTML/Link_types

[11:52:26.0000] <Hixie>
two meanings for the keyword or for the word?

[11:52:51.0000] <JonathanNeal>
for the keyword.

[11:58:49.0000] <JonathanNeal>
That's why I linked to both the microformats and mdn wikis, Hixie. I follow what you mean about keyword vs word, and I am talking about the keyword.

[12:00:21.0000] <Hixie>
well the mdn wiki isn't normative, so it's pretty easy to decide which is the right definition :-)

[12:01:32.0000] <Hixie>
if anyone has an opinion on what "the initial about:blank" is, please let https://www.w3.org/Bugs/Public/show_bug.cgi?id=17093 know

[14:22:48.0000] <ronaldmansveld>
tantek, Hixie either of you here?

[14:24:59.0000] <tantek>
sometimes ;)

[14:25:04.0000] <ronaldmansveld>
haha

[14:25:15.0000] <ronaldmansveld>
I have a quick question about the :after pseudo

[14:25:48.0000] <tantek>
which we now prefer ::after for - since it's a pseudo-element (rather than pseudo-class)

[14:25:50.0000] <ronaldmansveld>
(and since you're both editors, I guess you know the answer)

[14:26:05.0000] <ronaldmansveld>
You're correct, thank you

[14:26:07.0000] <tantek>
/me wonders if this is a references to CSS 2.1 or Selectors ;)

[14:26:16.0000] <ronaldmansveld>
2.1

[14:26:55.0000] <ronaldmansveld>
if I do a::after {content: "something";}, I guess the "something" should be clickable as well right? Since it's part of the anchor

[14:27:12.0000] <ronaldmansveld>
(which is implemented that way in IE10, FF and Opera, but not in Chrome)

[14:27:18.0000] <JonathanNeal>
/me looks among his protest paraphernalia and grabs the ::outside advocacy sign

[14:27:36.0000] <tantek>
ronaldmansveld - yes that sounds correct

[14:28:12.0000] <ronaldmansveld>
OK, that makes case for a bugreport :)

[14:28:23.0000] <JonathanNeal>
ronaldmansveld: woohoo

[14:28:43.0000] <tantek>
from a "tree" perspective, ::before and ::after are both *inside* their element, inherit its inheritable CSS properties etc.

[14:29:08.0000] <tantek>
yes that sounds like a webkit bug

[14:29:40.0000] <ronaldmansveld>
I thought so

[14:31:30.0000] <JonathanNeal>
Then, with your clout from this bug, report the missing ::outside

[14:31:34.0000] <JonathanNeal>
Get it landed in canary :)

[14:37:24.0000] <ronaldmansveld>
well, it isn't quite behaving as ::outside either

[14:37:40.0000] <ronaldmansveld>
it does get the styling of the anchor, it just doesn't register the click

[14:37:57.0000] <ronaldmansveld>
but I'll make mention of ::outside in the report :P

[14:39:15.0000] <JonathanNeal>
Oh, I was just being fun. I wouldn't want to discredit your report with something as trivial as ::outside.

[14:39:28.0000] <JonathanNeal>
Your bug report is totally valid and the expectations are clear.

[14:39:38.0000] <JonathanNeal>
My thing was just ‚Ä¶ me wishing.

[14:40:06.0000] <JonathanNeal>
So, by all means, advocate my wish, but don't let it hold you up.

[14:41:34.0000] <ronaldmansveld>
Ah, no need for a report

[14:41:40.0000] <ronaldmansveld>
had been fixed in canary

[14:41:42.0000] <ronaldmansveld>
*has

[14:41:50.0000] <JonathanNeal>
nice

[14:42:22.0000] <ronaldmansveld>
Now I have to wait even longer for my first bug-report :(

[14:45:48.0000] <bholley>
Hixie: yt?

[14:54:31.0000] <Hixie>
bholley: yo

[14:54:39.0000] <bholley>
Hixie: just commented

[14:54:44.0000] <bholley>
Hixie: that make sense?

[14:54:49.0000] <Hixie>
bug #?

[14:54:58.0000] <bholley>
Hixie: bug 19662

[14:55:04.0000] <bholley>
Hixie: if you prefer to do this more async, that's totally fine

[14:55:12.0000] <bholley>
Hixie: I'm not sure how many pots you have boiling

[14:55:35.0000] <bholley>
/me is just in the habit of pinging people to sort out confusion

[14:56:45.0000] <Hixie>
too many to count but sync is fine too :-)

[14:57:17.0000] <Hixie>
bholley: i don't understand what you mean by "implementing the navigation restrictions as restrictions at property-access time"

[14:57:21.0000] <Hixie>
bholley: that doesn't seem to match the spec at all

[14:57:39.0000] <bholley>
Hixie: well, not as it stands now, no

[14:57:56.0000] <bholley>
Hixie: but I'm wondering if there's a qualitative difference

[14:58:19.0000] <bholley>
Hixie: other than the testcase in comment 6

[14:58:29.0000] <Hixie>
well that's the one i care about here :-)

[14:58:52.0000] <Hixie>
why would you do it with this complicated property access thing rather than the simple model in the spec? :-)

[14:59:31.0000] <bholley>
Hixie: because it's faster

[14:59:48.0000] <bholley>
Hixie: and I don't think it's really any more complicated

[15:00:14.0000] <bholley>
Hixie: but I may not understand all the intricacies

[15:01:13.0000] <bholley>
Hixie: is there a reason the spec does things the way it does, as opposed to just defining sandbox as a restriction on the cross-origin accessible properties?

[15:01:16.0000] <Hixie>
i don't understand how a few pointer tests at navigation time can possibly be slow enough to warrant an entirely different security model

[15:01:30.0000] <Hixie>
well, to start with, these aren't cross-origin

[15:02:06.0000] <bholley>
Hixie: they're not? I thought the whole point was that they get a "unique origin"?

[15:02:46.0000] <bholley>
Hixie: if they're same-origin as the stuff they're navigating then it seems pretty pointless to try to prevent them from doing that

[15:03:31.0000] <bholley>
Hixie: as for the pointer tests - the expensive part is computing whether the navigatee is descendant from the frame doing the navigation or not

[15:03:54.0000] <bholley>
Hixie: it's not really that bad, and we only need to do it for sandboxed stuff. But this seemed like any easy optimization

[15:06:57.0000] <bholley>
Hixie: to be clear, I'm totally willing to converge around the spec here, especially if there are substantive differences and the property-access thing is harder for others to implement. But I'd like to work through this disconnect here first :-)

[15:15:53.0000] <Hixie>
bholley: sandbox="allow-same-origin" means the origin is left as is

[15:16:07.0000] <Hixie>
bholley: you can still sandbox same-origin stuff, just turn off scripting, e.g.

[15:16:28.0000] <bholley>
Hixie: sure. But allow-same-origin effectively means that the navigation restrictions go away, right?

[15:16:41.0000] <Hixie>
no

[15:16:44.0000] <Hixie>
doesn't affect them

[15:17:05.0000] <Hixie>
you can have a same-origin blog comment, and still prevent it from navigating the other blog comment iframes using target=""

[15:17:13.0000] <Hixie>
you need it same-origin so you can do seamless=""

[15:17:20.0000] <Hixie>
but you need it sandboxed to kill scripting

[15:17:24.0000] <Hixie>
and so on

[15:17:24.0000] <bholley>
Hixie: ok. Are they useless?

[15:17:35.0000] <bholley>
Hixie: (the navigation restrictions in the same-origin case)

[15:17:39.0000] <Hixie>
no

[15:17:50.0000] <Hixie>
especially not if JS is disabled

[15:18:10.0000] <Hixie>
(obviously same-origin and js-enabled is only useful in some pretty limited "good practice" cases, not for real security)

[15:18:52.0000] <bholley>
Hixie: if js is disabled, what is the difference between allow-same-origin and lack thereof? How does the same-origin policy affect things other than JS?

[15:20:33.0000] <Hixie>
bholley: if they're not same-origin, you can't style the page using seamless=""

[15:20:38.0000] <Hixie>
bholley: e.g.

[15:21:12.0000] <bholley>
Hixie: but the navigation restrictions are irrelevant if JS is disabled, right?

[15:21:30.0000] <Hixie>
no, i just gave some examples where they are still relevant

[15:21:39.0000] <Hixie>
<Hixie> you can have a same-origin blog comment, and still prevent it from navigating the other blog comment iframes using target=""

[15:21:56.0000] <bholley>
Hixie: oh, I missed the target="" part

[15:22:10.0000] <Hixie>
the way sandbox="" is specified right now is the result of over a year of careful design and deliberation, if we want to change it we need to do it really carefully and bring in the other implementors and make sure everyone's on board again with the new model

[15:22:17.0000] <Hixie>
i'm really skeptical that this is a good use of our time :-)

[15:22:28.0000] <Hixie>
security feature design is _hard_

[15:23:12.0000] <bholley>
Hixie: sure. The target="" thing is important

[15:23:39.0000] <bholley>
Hixie: and it means that this can't be done the way imelven was doing it

[15:24:11.0000] <bholley>
Hixie: this is more or less what I was asking in the bug

[15:26:55.0000] <bholley>
Hixie: but in general, it's worth remembering that the spec describes security in a way that matches WebKit's implementation much more than Gecko's. So it's not always simple for us to "just" implement it the way it's written in the spec

[15:27:21.0000] <bholley>
/me goes to comment on the bug

[15:29:03.0000] <Hixie>
bholley: it matches the security model that firefox used to have, that opera used to have, that IE has, and that webkit has

[15:29:19.0000] <Hixie>
bholley: not my fault y'all moved away from that model for what are imho non-web reasons :-P

[15:30:59.0000] <bholley>
Hixie: are you sure it's the model that opera used to have? They did revocation for document.domain, which suggest that they do something more similar to Gecko in terms of cross-origin security checks

[15:34:17.0000] <bholley>
Hixie: and it seems kind of unproductive to call Gecko's security constraints "non-web" when "web" is really just defined by the behavior that browsers happen to have been implementing :P

[15:37:01.0000] <bholley>
(and are capable of implementing)

[15:47:05.0000] <yroc>
Hixie, you there?

[15:47:30.0000] <TabAtkins>
yroc: He just left where he was, so he's presumably currently in transit to his next location.

[15:48:04.0000] <yroc>
TabAtkins: I see. Can I ask you a question re: the article element?

[15:48:44.0000] <TabAtkins>
You can ask me a question about anything, though whether I can answer it is unclear.

[15:49:02.0000] <yroc>
OK, I'll chance it!

[15:49:42.0000] <yroc>
Hixie said yesterday that he can't envision a nested <article> being anything other than a comment.

[15:50:03.0000] <yroc>
This is part of the reason why no need for a <comment> element.

[15:50:34.0000] <yroc>
I suggested, how about a document (single file) that contains a book...

[15:51:02.0000] <yroc>
... where individual chapters might be independently distributable.

[15:51:53.0000] <yroc>
Hixie said why would you wrap the book in an <article> element, because it's the whole page.

[15:52:01.0000] <TabAtkins>
I disagree with Hixie that nested articles must be comments.  Your example seems reasonable (for example, maybe they're short stories!).

[15:52:28.0000] <TabAtkins>
Unless, of course, it's *not* the whole page.

[15:52:29.0000] <yroc>
Yes, that's a good example.

[15:54:10.0000] <yroc>
If the whole page is the book, Hixie said you shouldn't wrap it in an article? Why not I wonder (he scooted for lunch before I had a chance to ask him)

[15:54:56.0000] <yroc>
Does he mean the book should just be the <body>?

[15:57:16.0000] <astearns>
I'm currently reading a book that has chapters, and each chapter consists of several short stories. Seems like at least one level of <article> nesting there

[15:58:35.0000] <yroc>
astearns: That sounds like it could be *two* nesting levels.

[15:59:39.0000] <yroc>
astearns: Would you say the book as a whole is an <article>?


2013-03-07
[16:01:23.0000] <astearns>
could be, or could be the <body>

[16:02:16.0000] <yroc>
Yeah, that seemed to be Hixie's point. But why not <article>, (it's a complete and syndicable composition)?

[16:02:44.0000] <yroc>
This has implications WRT Hixie's claim that nested articles would only be comments.

[16:03:11.0000] <astearns>
that claim makes no sense to me

[16:04:22.0000] <yroc>
OK, well, I seem to have agreement with you and TabAtkins. I guess I'll bring it up to Hixie next time I can catch him.

[16:10:09.0000] <Hixie>
bholley: pretty sure it was opera's model. by "non-web" i mean "not required to render web pages like other browsers"

[16:12:09.0000] <Hixie>
yroc: it's more a

[16:12:27.0000] <Hixie>
yroc: matter of "what is a comment?"

[16:13:41.0000] <Hixie>
yroc: if you have a book of short stories, and the stories are about the topic of the main book, then aren't the stories comments?

[16:13:51.0000] <Hixie>
comments on the topic of the book?

[16:14:02.0000] <Hixie>
anyway, gotta go again, sorry i keep only being here briefly

[16:14:14.0000] <zewt>
seems quite strange to me that several idb "complaints" seem to boil down to "follows platforms conventions"

[16:14:31.0000] <zewt>
not ordinarily considered a flaw

[16:14:37.0000] <bholley>
Hixie: well, it was required to ship a secure product that users could safely use in the face of the already-entrenched addon model, and one that was performant enough given the lack of a generational GC. It doesn't seem fundamentally different from WebKit's lack of a cycle collector making it impossible for them to implement certain things without leaking. What's web and not web really just depends on what ends up in the spec

[16:17:59.0000] <bholley>
Hixie: this is all to say that the html5 effort is one of interoperability among existing implementations, which includes a recognition of the fact that different engines have different implementational constraints. From what I seen you do that admirably, so this isn't any criticism of the way you operate, only one of your "not my problem" comment ;-)

[16:18:20.0000] <bholley>
*from what I've seen

[16:33:12.0000] <zewt>
gar, random mozilla.org stuff down so the last three random things I've tried to do stopped short

[16:34:41.0000] <zewt>
google cache go

[17:09:49.0000] <zewt>
heh uh joy

[17:10:10.0000] <zewt>
it looks like safari nightlies treat Content-Disposition as UTF-8, and other headers as raw data

[17:10:36.0000] <zewt>
(chrome stable just treats them all as UTF-8)

[01:52:16.0000] <zcorpan>
MikeSmith: i get 403 Forbidden for /ws/set-cookie - http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/cookies/002.html

[01:53:11.0000] <zcorpan>
MikeSmith: did i break the handler? or is something else wrong?

[02:04:13.0000] <MikeSmith>
zcorpan: taking a look now

[02:06:12.0000] <MikeSmith>
hm unfamiliar error in the logs

[02:08:37.0000] <MikeSmith>
ok that's unrelated

[03:14:06.0000] <MikeSmith>
zcorpan: mod_pywebsocket: web_socket_do_extra_handshake raised exception for /ws/set-cookie: list index out of range

[03:14:44.0000] <zcorpan>
ah, so i screwed up the handler

[03:15:09.0000] <zcorpan>
i guess it should check if there's a '?' in resource before trying to split on '?'

[03:15:33.0000] <zcorpan>
thanks

[03:15:36.0000] <annevk>
jgraham: https://bugs.webkit.org/show_bug.cgi?id=111602

[03:18:53.0000] <jgraham>
annevk: Let's see if it goes anywhere :)

[03:22:31.0000] <zcorpan>
MikeSmith: i've pushed changes to set-cookie and set-cookie_http

[03:24:11.0000] <annevk>
zcorpan: out of interest, does WebSocket deal with HTTP auth?

[03:26:00.0000] <zcorpan>
   2.  The server can perform additional client authentication, for

[03:26:00.0000] <zcorpan>
       example by returning a 401 status code with the corresponding

[03:26:01.0000] <zcorpan>
       WWW-Authenticate header field as described in [RFC2616].

[03:27:17.0000] <zcorpan>
don't remember if it was implemented in presto

[03:27:36.0000] <MikeSmith>
zcorpan: now getting "failed: Compressed bit must be 0 if no negotiated deflate-frame extension"

[03:28:02.0000] <zcorpan>
MikeSmith: wat :-|

[03:28:15.0000] <MikeSmith>
heh

[03:28:19.0000] <MikeSmith>
indeed

[03:28:28.0000] <zcorpan>
annevk: seems like a bad idea to support http auth for websocket

[03:29:29.0000] <zcorpan>
MikeSmith: at least now i get a different fail for the test: expected object "/ws_test_1362655837981.0.401557051934188=test/" but got "ws_testws_test_=test"

[03:30:15.0000] <MikeSmith>
yeah

[03:32:10.0000] <zcorpan>
i don't understand why the handler gives "Set-Cookie: ws_testws_test_=test; Path=/"

[03:32:16.0000] <annevk>
zcorpan: cookies though, kinda

[03:32:21.0000] <annevk>
zcorpan: too*

[03:32:48.0000] <zcorpan>
annevk: at least cookies don't show up a dialog for the user

[03:32:54.0000] <annevk>
zcorpan: if the server does that, does it require the client to do a new request basically?

[03:33:14.0000] <zcorpan>
annevk: yeah i guess

[03:33:16.0000] <annevk>
zcorpan: oooooh if that's the way HTTP auth for WebSocket theoretically works I sure hope nobody implements that

[03:33:33.0000] <annevk>
(because of the end-user dialog, not the other bit)

[03:34:44.0000] <zcorpan>
i don't think webkit shows up a dialog (if it supports auth at all), but presto might

[03:51:13.0000] <annevk>
HTTP auth is also a kind of undefined part of Fetch

[03:51:46.0000] <annevk>
if there's username/password in the URL, do you do two requests or just one... what if you set a custom Authorization header, ...

[04:34:44.0000] <jgraham>
Have to love "the Process document is silent [...] however the Team enforces"

[04:35:09.0000] <jgraham>
Not just Process, but unwritten Process!

[04:37:48.0000] <zcorpan>
MikeSmith: afaict, the query component isn't included in ws_resource in this server's setup. which makes it a bit hard to use it.

[04:38:01.0000] <annevk>
jgraham: if plh is in a good mood, you might get stuff done

[04:38:45.0000] <MikeSmith>
zcorpan: dunno how to fix that..

[04:40:49.0000] <zcorpan>
http://code.google.com/p/pywebsocket/issues/detail?id=68&can=1&q=uri

[04:41:04.0000] <zcorpan>
was closed but kinda missed the point. argh

[04:43:48.0000] <zcorpan>
http://modpython.org/live/current/doc-html/pyapi-mprequest-mem.html - looks like 'args' would be the query string

[04:44:03.0000] <zcorpan>
if so i can fix it in the handler by using that directly

[05:18:00.0000] <zcorpan>
MikeSmith: i tried 'args' and 'parsed_uri[URL_QUERY]' on our websocket server but that didn't really work. i guess i can try it on w3c-test as well and see if it works there

[05:18:22.0000] <MikeSmith>
ok

[05:22:31.0000] <zcorpan>
MikeSmith: pushed

[05:24:18.0000] <MikeSmith>
PASS :)

[05:24:24.0000] <MikeSmith>
http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/cookies/002.html

[05:24:45.0000] <MikeSmith>
http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/cookies/001.html still failing though

[05:29:36.0000] <darobin_>
slightlyoff: any ETA on making NavCon public?

[05:34:25.0000] <slightlyoff>
Likely tomorrow

[05:34:30.0000] <darobin>
ah, cool

[05:34:35.0000] <zcorpan>
MikeSmith: yay! http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/constructor/016.html now also passes

[05:35:01.0000] <zcorpan>
MikeSmith: 001 passes for me

[05:35:04.0000] <darobin>
that saves me from searching for "mob enforcers with nail-removing plyers near Alex Russel"

[05:36:11.0000] <MikeSmith>
zcorpan: don't pass in FF

[05:36:23.0000] <MikeSmith>
nor in chromium

[05:36:25.0000] <MikeSmith>
for me

[05:36:41.0000] <MikeSmith>
only in Opera

[05:36:46.0000] <annevk>
got to leave how vague WebSocket with regards to cookies and authentication

[05:36:49.0000] <annevk>
love*

[05:37:07.0000] <zcorpan>
MikeSmith: yeah. i guess that indicates a bug in chrome and firefox

[05:37:13.0000] <MikeSmith>
expected object "/ws_test_1362663513149.0.9708405185480612=test/" but got "(none)"

[05:37:17.0000] <MikeSmith>
ok

[05:40:01.0000] <annevk>
Oh man. People still find my fixed positioning page and then ask advice how to make it work in Internet Explorer 9, which supports CSS fixed positioning!

[05:40:42.0000] <annevk>
Apparently, IE9 does not support it if you don't include <!doctype html> at the top, which I advised...

[05:41:11.0000] <annevk>
(Euhm, I advised adding then, and then, "after a few times", it worked...)

[05:41:21.0000] <annevk>
s/then/that/

[05:42:05.0000] <slightlyoff>
darobin: lucky for me you can't spell my last name :-)

[05:42:14.0000] <darobin>
damn, foiled again!

[05:46:49.0000] <jgraham>
(or pilers)

[05:47:20.0000] <jgraham>
(although it seems that some people consider plyers to be a variant spelling)

[05:47:32.0000] <darobin>
possibly more so than "pilers"

[05:47:52.0000] <jgraham>
Hah

[05:48:03.0000] <jgraham>
Well I have never been able to type

[05:48:06.0000] <darobin>
but hey, I'm not the native speaker in this conversation

[05:48:09.0000] <jgraham>
But you have a reputation to maintain

[05:48:40.0000] <darobin>
do I? I hope it's not mine because I likely suck at that job

[05:50:57.0000] <zcorpan>
yay! all cookie tests pass in opera now. finally

[05:54:35.0000] <jgraham>
Finished massaging the results then? ;)

[05:58:00.0000] <zcorpan>
yeah. for the last two tests i just removed a "!" to make them pass

[05:58:34.0000] <zcorpan>
if i want to change the timeout for an async test, do i need to include a title? async_test(func, title, settings) ?

[05:59:54.0000] <zcorpan>
looks like it from the code

[06:25:50.0000] <SimonSapin>
m

[06:32:10.0000] <jgraham>
zcorpan: Not really, you can pass null and it will use document.title

[06:32:31.0000] <jgraham>
But I agree that it should change so that the second argument can also be an options object

[06:40:00.0000] <zcorpan>
jgraham: ok

[06:48:55.0000] <zcorpan>
jgraham: do we want assert_greater_than in testharness?

[06:49:59.0000] <jgraham>
zcorpan: Yes, I have been meaning to add that. I guess we need all of assert_greater_tahn, assert_greater_than_equal, and s/greater/less/ in both

[06:50:39.0000] <zcorpan>
assert_gt, assert_gte etc maybe?

[06:51:06.0000] <jgraham>
This is why I have been holding off :) But no, we haven't used abbreviations like that elsewhere

[06:51:37.0000] <zcorpan>
ok. i'll go ahead and add them now

[06:51:38.0000] <gsnedders>
/me remembers agreeing to implement them before when he needed them, but then uni happened.

[06:51:47.0000] <jgraham>
(probably someone will soon want assert_approx_greater_than or something)

[06:52:28.0000] <zcorpan>
for approx_greater_than you can just reduce what you expect

[06:52:33.0000] <zcorpan>
and use greater_than

[06:52:57.0000] <jgraham>
It would have been nice to have a different design where you did something like assert_relates("eq", expected, actual) or something

[06:53:06.0000] <jgraham>
and invert()

[06:54:00.0000] <zcorpan>
-_- now you're making me consider not implementing it

[06:54:10.0000] <jgraham>
Well that ship sailed

[06:54:28.0000] <jgraham>
Maybe one day we should consider a V2 API

[06:55:05.0000] <jgraham>
But at the moment I think just doing the obvious thing and living with the extra api surface area would be best

[06:55:23.0000] <zcorpan>
where's the repo for testharness these days?

[06:55:46.0000] <zcorpan>
https://dvcs.w3.org/hg/resources/ ?

[06:56:27.0000] <jgraham>
No, the W3c one on github

[06:56:35.0000] <jgraham>
Make a pull request, please

[07:01:47.0000] <marcosc>
when using a datalist, how does one capture the event for when an option is selected?

[07:04:10.0000] <jgraham>
hah

[07:04:58.0000] <annevk>
marcosc: <input oninput>

[07:05:45.0000] <jgraham>
Apparently in Opera that triggers every time you move through the list

[07:06:08.0000] <annevk>
clone Opera or rebel Opera?

[07:06:29.0000] <jgraham>
(this question was being discussed here ‚Äî i.e. in my office ‚Äî earlier; I wonder if marcosc asking is independent of that)

[07:06:31.0000] <marcosc>
yeah, that's not really what you would want

[07:06:36.0000] <jgraham>
rebel alliance Opera

[07:06:58.0000] <marcosc>
/me was listening through a special listening device to everything that is said in jgraham's office

[07:07:33.0000] <jgraham>
Well possibly zcorpan spoke to you about it for some reason. Stranger things have happened :p

[07:08:30.0000] <zcorpan>
i discussed this with jeppe earlier today

[07:09:04.0000] <zcorpan>
i didn't discuss it with marcosc :-)

[07:09:16.0000] <jgraham>
Fair enough :)

[07:09:32.0000] <jgraham>
/me writes down "law of large numbers"

[07:10:00.0000] <zcorpan>
annevk: presto. webkit and gecko fire input when something is selected from the dropdown, which seems better

[07:10:52.0000] <annevk>
Presto had the same problem with <input type=email>'s initial implementation from bratell so that bug has been there since 2006 and back then we had devised the fix...

[07:10:58.0000] <marcosc>
annevk: fwiw, that even does not fire in Chrome or FF

[07:11:07.0000] <zcorpan>
my recommendation to jeppe was using a timeout from 'input' if what you want to do is heavy (like XHR)

[07:11:22.0000] <annevk>
marcosc: at all or just not for a <datalist> selection?

[07:11:24.0000] <zcorpan>
marcosc: input fires in chrome and firefox when i tested it earlier today

[07:11:53.0000] <marcosc>
this is my test: x = document.querySelector("datalist")

[07:12:00.0000] <annevk>
marcosc: data:text/html,<input oninput=alert(1)> wfm

[07:12:19.0000] <marcosc>
x.oninput = function(e){console.log(e)}

[07:12:24.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2135

[07:12:38.0000] <zcorpan>
marcosc: it's fired on <input>

[07:12:40.0000] <zcorpan>
not datalist

[07:12:43.0000] <annevk>
data:text/html,<input oninput=alert(1) list=x><datalist id=x><option>test also fires

[07:12:52.0000] <marcosc>
ah, ok

[07:13:05.0000] <marcosc>
got confused

[07:13:26.0000] <jgraham>
That also confused Jeppe

[07:13:46.0000] <jgraham>
FWIW

[07:13:51.0000] <marcosc>
I expected the datalist also receive an event

[07:14:21.0000] <marcosc>
well, not also, but the place where the event would go

[07:16:03.0000] <annevk>
it's not being mutated

[07:16:11.0000] <annevk>
it's just a data source

[07:16:31.0000] <marcosc>
right, but I was expecting an click event or some kind of "onselect"

[07:16:38.0000] <jgraham>
It seems like a reasonable confusion to me

[07:16:55.0000] <jgraham>
If you imagine that the datalist is the thing that you actually see rendered

[07:16:59.0000] <zcorpan>
jgraham: should i change one of the apisample files?

[07:17:07.0000] <marcosc>
because, conceptually, what I am seeing on screen is a drop down box representing the <datalist> and the <options>

[07:17:12.0000] <jgraham>
zcorpan: If you like that would be nice

[07:17:44.0000] <zcorpan>
jgraham: which one?

[07:18:53.0000] <marcosc>
annevk: another issue, the event does not contain a reference to the <option> element

[07:18:55.0000] <jgraham>
The first one I guess?

[07:19:04.0000] <zcorpan>
yeah

[07:19:23.0000] <jgraham>
darobin: "and I even think it can be done relatively fast" - famous last words there :)

[07:19:33.0000] <darobin>
yeah I know

[07:19:34.0000] <darobin>
but

[07:19:37.0000] <marcosc>
annevk: my use case is, <option value="some thing" data-key="somekey">. I need to get the key of the option that was selected to then populate other form items.

[07:19:40.0000] <darobin>
the fact is that I've already been working on it :)

[07:19:57.0000] <darobin>
things are faster when they've been done (at least in part)

[07:20:18.0000] <annevk>
marcosc: does <option value=key>val</option> not work?

[07:20:18.0000] <jgraham>
But that means we can't have a language flamewar first :p

[07:20:25.0000] <annevk>
marcosc: I guess not...

[07:20:43.0000] <marcosc>
annevk: otherwise, I need to use the value as a CSS selector

[07:21:00.0000] <marcosc>
datalist[value='the value']

[07:21:12.0000] <marcosc>
err, ad an option in there

[07:21:22.0000] <marcosc>
datalist > option [value='the value']

[07:21:25.0000] <annevk>
marcosc: so <datalist> is just providing combobox options, but it's free entry so if the user types in "test" it's equivalent

[07:21:35.0000] <marcosc>
yes, exactly.

[07:21:39.0000] <annevk>
marcosc: so you really need a mapping from the <input>, not the <datalist>

[07:21:52.0000] <annevk>
marcosc: <datalist> is just for <input> hints and autocompletion

[07:22:32.0000] <marcosc>
right, but with a little bit more power (i.e., returning the element that was selected), you can do a lot of more cool things

[07:22:50.0000] <annevk>
I just explained why that doesn't work well

[07:23:20.0000] <marcosc>
ok, np. Thanks for your help annevk! :)

[07:37:34.0000] <zcorpan>
jgraham: hmm, my new apisample tests that are expected to fail are passing. :-( is the impl of assert_greater_than not just assert(typeof actual === "number",...); assert(actual > expected,...); ?

[07:38:33.0000] <jgraham>
That sounds right

[07:39:21.0000] <zcorpan>
i don't understand why the test passes. assert_greater_than(10, 11, "10 is not greater than 11");

[07:39:51.0000] <zcorpan>
oh wait

[07:39:57.0000] <zcorpan>
c/p error in apisample...

[07:41:45.0000] <zewt>
(tip: once you have inequalities in assertion methods, it's nicer to have assert_ge, eq, ne, gt than to spell them all out)

[07:42:14.0000] <jgraham>
Yeah, but I'm not sure that assert_equals and assert_gt makes sense

[07:42:17.0000] <zewt>
though half the time I end up writing assertTrue(2 > 1), since being able to have the resulting values in an error message isn't worth the loss of readability to me

[07:42:54.0000] <zewt>
(with test suites in general, not this API specifically)

[07:43:36.0000] <zewt>
jgraham: possibly a dumb question since I don't know the API you're working on, but why wouldn't assert_equals make sense (if assert_greater_than does)?

[07:44:13.0000] <jgraham>
zewt: assert_equals exists

[07:44:33.0000] <zewt>
but doesn't make sense? :)

[07:44:50.0000] <jgraham>
Adding new asserts, follwoing the "full words" naming convention makes more sense than having some full words and some abbreviated

[07:44:59.0000] <zewt>
parse error? i read "things that don't make sense: assert_equals, assert_gt"

[07:45:11.0000] <jgraham>
So assert_gt doesn't make sense given the current API

[07:45:32.0000] <zcorpan>
we should have ass_gt

[07:45:37.0000] <jgraham>
Right, I meant the combination doesn't make sense, not the two individuallly

[07:45:59.0000] <zcorpan>
ok now i've fixed all c/p errors i think, at least i'm seeing the results i expect

[07:46:39.0000] <zewt>
wish there was a clever way to be able to write assert(a > b && c()), then pick apart the expression and dumb the symbols if it's false

[07:47:20.0000] <zewt>
so it could just say "expected true: 2 > 1 && 0"

[07:47:33.0000] <zewt>
oh well. heh

[07:49:32.0000] <jgraham>
I think python's node module tries to do that by inspecting the AST or something

[07:49:56.0000] <jgraham>
(if you turn on the right output option)

[07:50:01.0000] <jgraham>
*nose

[07:51:15.0000] <zewt>
cute, i use that but haven't seen that option

[07:51:30.0000] <zewt>
not that we'll ever get anything that low-level in JS

[07:51:30.0000] <zcorpan>
jgraham: pull request sent. i hope i clicked the right buttons. :-)

[07:56:55.0000] <jgraham>
zcorpan: Looks fine, but oh gosh is the order of the arguments confusing

[07:57:13.0000] <jgraham>
assert_less_than(10, 11) -> true

[07:57:26.0000] <zcorpan>
jgraham: what's confusing?

[07:58:00.0000] <zcorpan>
10 < 11 -> true

[07:58:27.0000] <jgraham>
it's confusing because I read it as assert less than 10, 11

[07:58:40.0000] <jgraham>
But it's consistent with the other functions and with other libraries

[07:59:10.0000] <zcorpan>
i don't follow, but if it's consistent with everything else it should be fine :-P

[07:59:11.0000] <darobin>
you want ObjC there, assert:10 lessThan:11 :)

[07:59:51.0000] <jgraham>
Well you could do that in javascript too, sort of

[08:00:06.0000] <darobin>
yes

[08:00:12.0000] <jgraham>
assert(actual, {operator:expected})

[08:00:19.0000] <darobin>
assert(10).lessThan(11)

[08:00:30.0000] <jgraham>
Mine is less ugly :p

[08:00:38.0000] <zewt>
jgraham: the weird order is one reason I don't like test methods like that; give me infix, please

[08:00:52.0000] <jgraham>
assert(10 {lessThan:11})

[08:00:57.0000] <zcorpan>
10.lessThan(11) ? :-P

[08:01:07.0000] <zewt>
zcorpan: are you leaking Ruby into the channel?

[08:01:08.0000] <zewt>
D:

[08:01:46.0000] <zewt>
i guess that's not worse than objc, heh

[08:01:52.0000] <jgraham>
Ruby people would start making all sorts of claims about how it was readable as normal english, and you could replace specifications with testsuites

[08:01:58.0000] <darobin>
I don't know if this specific condition is supported with expect.js would have something like expect(10).to.be.less.than(11)

[08:02:03.0000] <zewt>
i really wish javascript had named arguments; assert(10, lessThan=11)

[08:02:29.0000] <jgraham>
Before going on to say "also, wasn't COBOL a great idea"

[08:02:33.0000] <zewt>
jgraham: careful, every time I make fun of Ruby they come out of the woodwork and attack me

[08:02:54.0000] <darobin>
/me points at ruby, laughs! Runs away

[08:03:19.0000] <jgraham>
Except, ironically, they wouldn't so the last bit.

[08:03:24.0000] <jgraham>
*do

[08:03:37.0000] <zcorpan>
MikeSmith: does testharness.js get synced to w3c-test.org automatically?

[08:03:51.0000] <zewt>
at least on stackoverflow, ruby people seemed to take the most righteous offense to the slightest criticism of their holy language, heh

[08:04:42.0000] <zcorpan>
MikeSmith: http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/constructor/014.html uses a new assertion function

[08:04:57.0000] <jgraham>
zcorpan: So are the websockets tests done now?

[08:05:07.0000] <MikeSmith>
zcorpan: it does, I'm pretty sure, but only through a cron jub that I think we have set up to run only every 10 minutes

[08:05:34.0000] <zcorpan>
jgraham: don't know, i'm going through them and checking that they're OK

[08:05:38.0000] <MikeSmith>
zcorpan: I will ssh in and look from teh filesystem

[08:05:54.0000] <zcorpan>
MikeSmith: oh if it gets updated every 10 minutes i can wait 10 minutes

[08:06:55.0000] <jgraham>
zcorpan: Thanks

[08:07:11.0000] <MikeSmith>
zcorpan: timestamps on all the files there say Feb 9

[08:07:22.0000] <MikeSmith>
but I can just force an update from the console

[08:08:11.0000] <MikeSmith>
jgraham: you mean in http://w3c-test.org/resources/ right?

[08:08:40.0000] <jgraham>
MikeSmith: I mean what now?

[08:08:58.0000] <jgraham>
MikeSmith: I imagine that's what zcorpan means

[08:09:10.0000] <jgraham>
or at least where he expectes testharness.js to be updated to

[08:09:27.0000] <jgraham>
So if you really meant to ask me something, I need more context :)

[08:09:46.0000] <MikeSmith>
yeah it seems I don't have it set up to sync yet

[08:09:50.0000] <MikeSmith>
will do it right now

[08:12:29.0000] <zcorpan>
MikeSmith: ws/protocol_array gives a 404 response. :-/

[08:15:10.0000] <MikeSmith>
will check that next

[08:15:47.0000] <MikeSmith>
for now latest testharness.js is pulled and I added to cron job to sync it

[08:18:18.0000] <MikeSmith>
zcorpan: I don't see any protocol_array in https://dvcs.w3.org/hg/webapps/file/default/WebSockets/tests/submissions/Opera

[08:18:23.0000] <zcorpan>
MikeSmith: thanks! 014 passes

[08:18:59.0000] <zcorpan>
MikeSmith: i have an protocol_array_wsh.py file in my working copy

[08:19:43.0000] <MikeSmith>
ah

[08:20:35.0000] <MikeSmith>
zcorpan: well, I see on the server -rwxr-xr-x 1 rsshuser rsshuser 347 Mar  7 15:58 protocol_array_wsh.py

[08:20:59.0000] <jgraham>
It looks like it has a syntax error?

[08:21:07.0000] <jgraham>
Hard to tell from the dvcs display though

[08:21:26.0000] <jgraham>
Line 12

[08:21:33.0000] <zcorpan>
jgraham: is http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/interfaces/WebSocket/bufferedAmount/005.html correct? http://dev.w3.org/2006/webapi/WebIDL/#es-attributes seems to say it should be configurable...

[08:21:43.0000] <zcorpan>
/me looks at _array

[08:22:16.0000] <zcorpan>
bogus indentation, looks like

[08:22:51.0000] <jgraham>
zcorpan: I guess those tests for configurability are wrong? Probably WebIDL changed

[08:23:15.0000] <zcorpan>
jgraham: yeah. thanks

[08:24:35.0000] <zcorpan>
MikeSmith: i fixed protocol_array (i hope!)

[08:33:29.0000] <MikeSmith>
zcorpan: Ok copied over

[08:33:58.0000] <zcorpan>
PASS. thanks MikeSmith!

[08:34:25.0000] <MikeSmith>
super

[08:35:16.0000] <zcorpan>
jgraham: heh what happened here? http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/interfaces/WebSocket/readyState/005.html :-)

[08:37:54.0000] <jgraham>
zcorpan: ctrl-x ctrl-s = save in emacs :)

[08:38:08.0000] <zcorpan>
ah

[08:59:40.0000] <annevk>
So Safari/Chrome implement the "fetch from an origin" thingie for at least navigation by means of <form> submission

[08:59:43.0000] <marcosc>
so, how would one get the browser to display the value of "setCustomValidity()"? I expected it to be displayed just like the error message that pops up when a required field is missing

[08:59:46.0000] <marcosc>
?

[08:59:47.0000] <annevk>
Firefox and Internet Explorer do not

[09:00:09.0000] <annevk>
Rebel Opera doesn't either

[09:00:55.0000] <zcorpan>
jgraham: i'll have to continue tomorrow, i haven't checked everything. but it's getting close now

[09:01:12.0000] <zcorpan>
thanks for your help MikeSmith and jgraham

[09:01:15.0000] <dglazkov>
good morning, Whatwg!

[09:01:50.0000] <marcosc>
/me gives dglazkov a morning hug and kiss! 

[09:46:13.0000] <Hixie>
bholley: the difference with other constraints is that those don't affect existing features, though, right?

[09:46:40.0000] <Hixie>
bholley: whereas here we're talking about something that affects a long-standing, and rather subtle and complicated, aspect of the platform

[11:55:34.0000] <Hixie>
anyone have opinions on how we should define "initial about:blank"?

[11:56:56.0000] <Ms2ger>
hsivonen does, I bet

[12:04:36.0000] <ronaldmansveld>
Hixie:  in what context? Cause I'd say it would be just a blank document, without any sourcecode, thus an empty DOM-tree etc.

[12:04:59.0000] <ronaldmansveld>
Hixie:  I'd have to check on what is currently implemented as about:blank though in browsers

[12:05:36.0000] <ronaldmansveld>
Hixie:  But pretty sure chrome serves an empty document (which then gets autofilled with empty head and body tags)

[12:05:53.0000] <Ms2ger>
ronaldmansveld, I'm not saying you shouldn't... But it may waste away several years of your life

[12:06:41.0000] <ronaldmansveld>
hahaha, then I think i might pass on that one ;)

[12:07:22.0000] <ronaldmansveld>
(even though by now my interest has been sparked to see *what* browsers actually serve when about:blank is requested :P )

[12:07:51.0000] <gsnedders>
ronaldmansveld: It's how it loads synchronously and the like that's complex, not what it is.

[12:09:17.0000] <ronaldmansveld>
but is the way of loading not independent of how you should/would define what "initial about:blank" is? (again, depending on context)

[12:09:50.0000] <gsnedders>
Well, initial about:blank is identical in content to the non-initial variant. It's the loading that differs.

[12:11:29.0000] <ronaldmansveld>
OK, bad timing for wifi to go down

[12:11:56.0000] <jgraham>
No, good timing, now you don't need to think about about:blank anymore

[12:12:11.0000] <ronaldmansveld>
And given Ms2ger's massage I don't think i'd be a good idea to actually obtain that knowledge :P

[12:12:15.0000] <ronaldmansveld>
hahaha, indeed

[12:13:18.0000] <jgraham>
ronaldmansveld: Everything you need to know about about:blank you can learn from the strapline of https://twitter.com/hsivonen

[12:14:06.0000] <ronaldmansveld>
wow, if someone actually can make a living out of it, i'm out

[12:14:35.0000] <ronaldmansveld>
as in: intrigued, but too busy to get myself into that

[12:14:35.0000] <Ms2ger>
Well, hsivonen makes a living of a number of horrible misfeatures :)

[12:14:44.0000] <jgraham>
Ms2ger: We all do

[12:14:50.0000] <jgraham>
Well not you so much

[12:15:15.0000] <ronaldmansveld>
Not yet, but I'm willing to learn a lot and think along ;)

[12:15:19.0000] <Ms2ger>
Yeah, I make nothing off a number of horrible misfeatures :)

[12:15:24.0000] <jgraham>
I meant Ms2ger

[12:15:44.0000] <ronaldmansveld>
haha, it's OK

[12:15:49.0000] <Ms2ger>
But hsivonen has been particularly successful at picking terrible ones, it seems :)

[12:16:08.0000] <gsnedders>
Normally without realizing how bad they are.

[12:16:13.0000] <gsnedders>
Things that appear simple.

[12:16:18.0000] <gsnedders>
Things that really are anything but simple.

[12:17:30.0000] <jgraham>
Pretty much anything to do with loading documents for example

[12:22:03.0000] <ronaldmansveld>
btw, how did you all get involved into specs? (writing etc.)

[12:22:23.0000] <jgraham>
Spent too long here

[12:23:31.0000] <Ms2ger>
Joined www-style one day in 2007

[12:25:10.0000] <jgraham>
Well yes, I guess my actual story starts long before #whatwg

[12:25:33.0000] <jgraham>
But yeah, reading W3C mailing lists is how most people get started

[12:25:37.0000] <Ms2ger>
"I was born"

[12:25:55.0000] <jgraham>
"My parents were born"

[12:26:06.0000] <Ms2ger>
"Primordial soup"

[12:26:25.0000] <Ms2ger>
Might as well take big steps :)

[12:26:36.0000] <jgraham>
"Inflationary expansion"

[12:26:44.0000] <Ms2ger>
"Boom"

[12:31:16.0000] <ronaldmansveld>
But was it like the urge to solve existing problems? Or just plain curiousity?

[12:37:12.0000] <jgraham>
Curiosity I guess

[12:47:14.0000] <Hixie>
ronaldmansveld: i mean, when should an about:Blank document stop being considered the "initial" one, for the purposes of e.g. the logic in https://www.w3.org/Bugs/Public/show_bug.cgi?id=17093

[12:50:39.0000] <ronaldmansveld>
Hixie:  I don't know that much about the subject, so I'll just give my opinion as a user/webdeveloper:

[12:51:16.0000] <ronaldmansveld>
when doing a document.open() (either via JS or opening a new tab), I consider the about:blank to be like a placeholder for the page I'm actually going to open

[12:51:38.0000] <ronaldmansveld>
so I don't see why that should be in my history, not even when pushing the back-button

[12:52:41.0000] <ronaldmansveld>
But as soon as anything happens to the (I presume) empty DOM-tree of about:blank, it's not the placeholder anymore, so at that point I would expect it to be pushed into history

[12:52:49.0000] <ronaldmansveld>
(if that makes sense to you)

[12:53:34.0000] <ronaldmansveld>
it's like about:blank is null. It will remain null untill it's changed

[12:53:46.0000] <ronaldmansveld>
(or replaced for that matter)

[12:54:28.0000] <ronaldmansveld>
(if anyone thinks i'm talking BS here, please do say so ;) )

[12:59:49.0000] <Hixie>
ronaldmansveld: yeah, it's just working out when "anything happens"

[13:01:04.0000] <ronaldmansveld>
I guess that 'anything' would be any alteration to the DOM-tree

[13:01:11.0000] <Hixie>
define "alteration"

[13:01:26.0000] <ronaldmansveld>
since replacing the about:blank with another page will automatically insert a position in history

[13:01:35.0000] <Hixie>
does adding a property to the prototype of the <body> element count?

[13:01:54.0000] <ronaldmansveld>
hmm, tough one

[13:02:09.0000] <Hixie>
same question, for every possible change :-)

[13:02:24.0000] <ronaldmansveld>
I guess 'does the user notice?' isn't a valid point here? :P

[13:02:47.0000] <ronaldmansveld>
(meaning: 'does the user notice' would be the threshold)

[13:03:05.0000] <Hixie>
would you be the one to ask the user each time if he noticed? :-)

[13:03:19.0000] <ronaldmansveld>
well, let's take it even one step back:

[13:03:28.0000] <ronaldmansveld>
about:blank should be a null document

[13:03:41.0000] <ronaldmansveld>
as in: empty, no sourcecode, empty DOM-tree, no elements, no nothing

[13:03:53.0000] <Hixie>
that is incorrect

[13:04:01.0000] <ronaldmansveld>
so it's impossible to add a property to the body element

[13:04:01.0000] <Hixie>
for compat reasons it has at least an <html> element and a <body> element

[13:04:47.0000] <Hixie>
and a Document object

[13:04:49.0000] <Hixie>
and a Window object

[13:04:56.0000] <Hixie>
and all the others, like Location, Navigator, etc

[13:04:58.0000] <ronaldmansveld>
and with that, complexity enters

[13:05:01.0000] <ronaldmansveld>
I see

[13:05:16.0000] <Hixie>
i should go eat lunch, bbiab

[13:05:33.0000] <ronaldmansveld>
enjoy lunch, I'll think about this some more

[13:21:14.0000] <zewt>
bleh, i want a way to have a self-closing element not be

[13:26:26.0000] <jgraham>
zewt: XML? :p

[13:33:16.0000] <esprehn>
when is Anne usually around?

[13:40:19.0000] <Hixie>
esprehn: as far as i can tell, mostly when i'm not, unfortunately for me :-)

[13:41:08.0000] <esprehn_>
yeah

[13:45:13.0000] <ronaldmansveld>
Hixie: I think I've come a bit further

[13:45:53.0000] <JonathanNeal>
I have seen that single html pages are referred to as documents. What are a collection of html pages referred to? A corpus?

[13:46:10.0000] <Hixie>
JonathanNeal: sites?

[13:46:25.0000] <Hixie>
JonathanNeal: depends what the collection is

[13:46:26.0000] <Philip`>
JonathanNeal: HTML books

[13:47:09.0000] <ronaldmansveld>
Hixie:  so just give a shout whenever you're ready

[13:47:20.0000] <jgraham>
I thought the group noun for markup was "clusterfuck"

[13:48:02.0000] <JonathanNeal>
Well, we're all agreed then. Section < Document < Clustersitebookfuck.

[13:48:16.0000] <JonathanNeal>
dot com

[13:48:39.0000] <Hixie>
ronaldmansveld: sure

[13:48:57.0000] <JonathanNeal>
Hixie: you would feel confident that it's a "Site"?

[13:49:31.0000] <JonathanNeal>
In the same generic terms as "Document".

[13:49:42.0000] <Hixie>
JonathanNeal: depends. if you collect the documents from two sites, obviously the collection isn't a site

[13:49:56.0000] <Hixie>
JonathanNeal: without knowing more about what the collection is, i'd call it a "collection" :-)

[13:50:08.0000] <Hixie>
ronaldmansveld: looks like existing places in the spec that deal with this use the term "if the child browsing context's session history contained only one Document when the process the iframe attributes algorithm was invoked, and that was the about:blank Document created when the child browsing context was created"

[13:50:19.0000] <Hixie>
ronaldmansveld: (by "sure" i meant "i'm ready")

[13:50:56.0000] <ronald_mansveld>
Hixie:  I did a quick check to see what browser would give as actual source for about:blank. FF and Chrome show an empty document (no sourcecode), Opera wouldn't open any sourcecode, so I presume it's empty as well, IE10 shows the source as being <html></html>

[13:51:38.0000] <ronald_mansveld>
In the inspectors, this does become a document with an empty <head> and empty <body>, like you said for compat

[13:51:39.0000] <JonathanNeal>
ronald_mansveld: i too have noticed that about:blank is usually an empty document.

[13:51:41.0000] <jgraham>
ronald_mansveld: So, the essential imformation is that about blank the document is the result of parsing the empty string

[13:51:49.0000] <ronald_mansveld>
indeed

[13:51:55.0000] <Hixie>
ronald_mansveld: that part of the question is well established, yes

[13:52:12.0000] <jgraham>
But that doesn't say much about its loading or intereaction with session history

[13:52:13.0000] <ronald_mansveld>
with IE being the exception, since it doesn't serve an empty string ;)

[13:52:18.0000] <JonathanNeal>
In Chrome, under Resources, there is no document listed for about:blank.

[13:52:31.0000] <JonathanNeal>
In Network, no requests.

[13:52:39.0000] <JonathanNeal>
No Source, etc.

[13:52:39.0000] <ronald_mansveld>
I'd say: this parsing of an empty string should be considered the 'base'.

[13:53:01.0000] <ronald_mansveld>
just that base will not insert anything into history, as if it has never existed

[13:53:17.0000] <ronald_mansveld>
so you can't click the back-button to get back to that state

[13:53:21.0000] <Hixie>
jgraham: actually the real initial about:blank, per spec, doesn't even involve an HTML parser

[13:53:47.0000] <ronald_mansveld>
the next question would be: which changes to this 'base' should trigger insertion into history?

[13:54:16.0000] <Hixie>
ronald_mansveld: based on similar situations in the spec so far, it looks like nothing would trigger that

[13:54:18.0000] <ronald_mansveld>
you could opt for all, since a change is a change, which makes it different from the 'base'

[13:54:39.0000] <ronald_mansveld>
but you could also restrict it to changes that trigger a repaint

[13:54:42.0000] <JonathanNeal>
ronald_mansveld: i can navigate back to about:blank, and before, and after.

[13:54:46.0000] <JonathanNeal>
at least, in Chrome.

[13:55:46.0000] <ronald_mansveld>
I noticed you can indeed in chrome, but it's not behaviour i'd expect (since I consider about:blank to be some kind of 'null' document)

[13:56:02.0000] <Hixie>
ronald_mansveld: resizing the window results in a repaint...

[13:56:44.0000] <ronald_mansveld>
Hixie:  it may, but resizing the window is not a change of the document that triggers a repaint ;)

[13:57:17.0000] <ronald_mansveld>
and does resizing the window on an empty document really trigger a repaint?

[13:57:41.0000] <ronald_mansveld>
arent' browsers 'smart' enough to know beforehand that there are no elements to repaint, so they don't even have to trigger it?

[13:58:18.0000] <jgraham>
You *really* don't want to try history to painting

[13:58:26.0000] <Hixie>
resizing the window changes the body element's offsetWidth

[13:58:35.0000] <Hixie>
how is that not a change to the document?

[13:58:50.0000] <Hixie>
and it fires an event

[13:58:56.0000] <Hixie>
there's all kinds of stuff that happens when you resize

[13:59:22.0000] <ronald_mansveld>
hmm, there goes my idea

[14:00:18.0000] <Hixie>
i'll just be consistent with the other places that do this

[14:00:48.0000] <ronald_mansveld>
but Hixie , if about:blank (per spec, like you stated) doesn't involve an HTML parser, why the need for the empty compat head and body?

[14:01:28.0000] <Hixie>
how are the two related?

[14:01:37.0000] <Hixie>
compat needs are driven by what existing pages depend on

[14:01:48.0000] <Hixie>
whether something involves a parser is driven just by how the spec is written

[14:01:53.0000] <ronald_mansveld>
well, if nothing gets parsed, I don't see why the elements should be there

[14:02:08.0000] <Hixie>
because pages rely on them being there

[14:02:56.0000] <Hixie>
jgraham: do you know what i should do when i have a bug blocked on getting feedback from zcorpan, given that i don't want to lose track of it?

[14:03:06.0000] <Hixie>
(if i didn't mind losing track of it, i'd reassign it)

[14:08:54.0000] <jgraham>
Hixie: He is around again now (not *right* now), so maybe he can unblock you?

[14:10:05.0000] <Hixie>
jgraham: https://www.w3.org/Bugs/Public/show_bug.cgi?id=18460

[14:11:57.0000] <ronald_mansveld>
Hixie:  if I read your change correctly, this means that about:blank will not create an entry in history, as long as it was not changed at all

[14:12:18.0000] <ronald_mansveld>
so any change (including ie. resizing the browserwindow), will result in about:blank being added to history

[14:12:38.0000] <Hixie>
that wasn't my intent... what part of the change leads to that interpretation?

[14:13:06.0000] <Hixie>
anyone know what the status is with respect to file api and blob url revocation?

[14:13:10.0000] <ronald_mansveld>
<p>Otherwise, if the <span>browsing context</span>'s <span>session history</span> contains only

[14:13:10.0000] <ronald_mansveld>
+    one <code>Document</code>, and that was the <code>about:blank</code> <code>Document</code>

[14:13:10.0000] <ronald_mansveld>
+    created when the <span>browsing context</span> was created, then let <var title="">replace</var>

[14:13:10.0000] <ronald_mansveld>
+    be true.</p>

[14:13:10.0000] <Hixie>
am i still supposed to do https://www.w3.org/Bugs/Public/show_bug.cgi?id=17765 ?

[14:13:16.0000] <jgraham>
Hixie: Oh, that bug looks rather irrelevant. I think that XSLT should probably define how to produce HTML with XSLT rather than HTML monkeypatching it

[14:13:32.0000] <Hixie>
jgraham: well, we already monkeypatch it a bit

[14:13:39.0000] <jgraham>
Sure

[14:13:40.0000] <Hixie>
jgraham: apparently we broke xslt when we changed the html namespace

[14:13:48.0000] <Hixie>
can't work out why, but that's another issue

[14:14:00.0000] <ronald_mansveld>
I read this as: replace will be true if it contains 1 Document, which is the same as the about:blank Document on creation of the context.

[14:14:02.0000] <jgraham>
Actually broke, or theoretically broke?

[14:14:12.0000] <jgraham>
I mean did it affect any browsers?

[14:14:22.0000] <ronald_mansveld>
any change will make it *not* the same anymore, thus replace will be false

[14:14:23.0000] <Hixie>
ronald_mansveld: right? even if you mutate the Document's children, it's still the same Document

[14:14:35.0000] <Hixie>
ronald_mansveld: if you cut your hair, you don't stop being ronald_mansveld :-)

[14:14:50.0000] <Hixie>
jgraham: theoretically, i think

[14:14:55.0000] <ronald_mansveld>
I'm still ronald_mansveld , but am I the same ronald_mansveld as I was before?

[14:14:59.0000] <jgraham>
(I suspect browsers are hopelessly incompatible in the details of xslt anyway)

[14:15:21.0000] <Hixie>
ronald_mansveld: in the case of the spec, a Document is the same Document even if you change all its properties

[14:15:31.0000] <Hixie>
ronald_mansveld: an object's identity is defined by te JS spec

[14:15:44.0000] <jgraham>
Anyway, if zcorpan doesn't notice, I can point him at the bug in the morning

[14:16:38.0000] <ronald_mansveld>
OK, if the definition of same has been defined elsewhere, and it implies what you meant, than I see no reason to oppose this :)

[14:18:05.0000] <jgraham>
Hixie: I guess we will find out if that navigation change works next time someone reimplements their document loading

[14:18:11.0000] <zewt>
i'm being thwarted by css today

[14:18:23.0000] <Hixie>
jgraham: fifteen years from now, then :-P

[14:18:24.0000] <jgraham>
which would be, ummm, well Servo I guess

[14:18:27.0000] <ronald_mansveld>
especially since in practice, if you do hand out a url to replace the about:blank with, nothing will (or should) happen to about:blank that would make a user go back to about:blank

[14:18:33.0000] <zewt>
background-clip: border-box doesn't change background-position: 100% to mean "bottom of the border" :|

[14:18:54.0000] <Hixie>
zewt: background-origin: border-box is what you want

[14:19:44.0000] <zewt>
ah, didn't see that since i was reading mdn CSS/background at the top (which only lists things that background is shorthand for)

[14:20:00.0000] <zewt>
<- playing the "make css do what an artist came up with in photoshop" game

[14:22:44.0000] <zewt>
(trying to put a left-aligned, fixed-size drop shadow underneath an element, which is something border-image apparently can't do)

[14:24:36.0000] <zewt>
bleh: think i'm going to have to fall back on another element, which is a pain since the graphic is affected by the input's :focus, so it's probably going to need JS

[14:26:06.0000] <ronald_mansveld>
zewt:  maybe ::before and ::after can help you here?

[14:26:25.0000] <zewt>
hmm, i've never used them except to add text

[14:27:51.0000] <zewt>
(i can't even add children to an <input> in script? that's annoying)

[14:29:54.0000] <zewt>
(oh, I'm doing something stupid)

[14:30:49.0000] <jgraham>
Hixie: I don't know if anyone answered you (and I am too lazy to check), but zewt knows about the autorevocation stuff

[14:32:48.0000] <zewt>
(but apparently children of <input> aren't rendered; oh well, weird hack discarded)

[14:36:34.0000] <Hixie>
zewt: is https://www.w3.org/Bugs/Public/show_bug.cgi?id=17765 still relevant?

[14:37:30.0000] <Hixie>
still no heycam

[14:37:32.0000] <Hixie>
hmm

[14:38:02.0000] <zewt>
Hixie: yes, though not up to date (anne and I talked a bit about it and I suspect URL parsing is approximately the right place that can live, now that we have a parsed-URL abstraction)

[14:39:27.0000] <Hixie>
well, the HTML APIs don't parse the URL right away, so it wouldn't be good to do it there

[14:39:31.0000] <Hixie>
or at least, not only there

[14:40:04.0000] <zewt>
the idea is to always parse the URL right away (or whatever the hook is), then stash the parsed URL until it's needed (eg. whenever "update the image data", etc. happen)

[14:40:14.0000] <zewt>
i can talk about this a bit more in an hour or so

[14:40:21.0000] <Hixie>
that doesn't work, since for compat we have to use the base url that's later, sometimes

[14:40:31.0000] <Hixie>
(e.g. <a href>)

[14:41:27.0000] <zewt>
could only do it for absolute urls, maybe

[14:41:41.0000] <zewt>
(sort of hacky, hmm)

[14:41:48.0000] <Hixie>
the whole thing is hacky

[14:41:58.0000] <Hixie>
/me is very much not a fan of this autorevokation thing

[14:42:13.0000] <zewt>
it's better than the manual one by far :)

[14:43:05.0000] <zewt>
Hixie: also, there are issues with non-autorevoke urls that this would deal with (iirc, since "update the image data" might happen sync or async, that would be exposed when updating to a blob URL that gets revoked immediately after assigning img @src)

[14:44:16.0000] <zewt>
eg. url = createObjectURL(blob); img.src = url; revokeObjectURL(url) works if it happens sync but not if it's async

[14:46:50.0000] <Hixie>
zewt: the whole revocation thing is problematic, yes

[15:05:42.0000] <esprehn>
gotta love manual memory management

[15:29:07.0000] <jamesr>
who owns https://www.w3.org/StyleSheets/TR/W3C-ED ?

[15:29:16.0000] <jamesr>
at the bottom it has this: background-image: url(http://www.w3.org/StyleSheets/TR/logo-ED);

[15:29:30.0000] <jamesr>
which produces mixed content if a spec referencing that stylesheet is loaded over https

[15:29:42.0000] <jamesr>
the logo is served over https


2013-03-08
[16:00:42.0000] <zewt>
man, gmail is totally broken right now

[16:00:50.0000] <zewt>
every time i click a reply box, it scrolls up to the top of the mail i'm replying to

[16:31:48.0000] <zewt>
heh StreamBuilder: If there is enough data available to satisfy the amount requested in the read, return the amount specified.	The data should be returned in the order the data was appended.

[16:31:52.0000] <zewt>
should :(

[16:56:27.0000] <Garbee>
zewt, gmail is working fine for me.

[17:00:32.0000] <zewt>
(fyi, not everyone sees the same gmail at the same time)

[17:01:17.0000] <Garbee>
Yea, but are you sure it isn't a plugin messing with it?

[17:01:55.0000] <zewt>
i was seeing it at work in chrome, and now at home in firefox; just smells like i've been stuck in a crappy bucket and I just have to wait for it to wear off

[17:06:15.0000] <Garbee_>
yea, hopefully it will go away in a little bit.

[17:06:46.0000] <Garbee_>
I'm stuck in Freenode hell right now myself. Maybe when I get online in the morning it will be fixed.

[17:22:20.0000] <jamesr>
is the CSS 'display' property defined as animatible currently? where is it defined (or at least its animatibility)? and how the heck do you spell that word?

[17:24:02.0000] <zewt>
no idea about the answer, except that it wouldn't seem to make sense (animate from inline to block?)

[17:25:47.0000] <jamesr>
well presumably it'd animate like any other discrete thing

[17:25:53.0000] <jamesr>
jump from one value to the other at some point

[17:26:19.0000] <zewt>
but it'd have to reflow, which means in theory every block on the page might have to animate somehow

[17:27:30.0000] <jamesr>
that's true of almost any property that can be targetted by an animation

[17:28:30.0000] <zewt>
not most properties i've animated, at least (topp/left in pos: absolute, opacity, transforms, etc)

[17:28:31.0000] <jamesr>
if you animate something to the side such that it causes a vertical scrollbar it'll reflow the world

[17:28:44.0000] <jamesr>
and that just happens suddenly at some point in the animation

[17:28:49.0000] <zewt>
sure, but that just reflows when you cross the boundary

[17:29:00.0000] <jamesr>
and this would reflow whenever the 'display' value changes to a new thing

[17:29:20.0000] <zewt>
if you're animating from block to inline, there's some kind of continuous change happening to everything affected by it

[17:29:44.0000] <jamesr>
no there isn't. look, if you don't know the answer feel free to just say you don't know

[17:29:49.0000] <zewt>
i guess i can't picture what "50% block 50% inline" would mean, visually

[17:29:57.0000] <zewt>
wow, no need to be a dick

[17:30:06.0000] <jamesr>
nothing wrong with that. i don't know where it is either

[17:30:25.0000] <zewt>
in case you didn't read, the very first thing I said is that I don't know the answer

[17:30:41.0000] <zewt>
ending conversation, too irritated

[17:34:51.0000] <zewt>
(sorry, overreacted a bit, but conversing about a question is an ordinary thing on irc)

[17:36:15.0000] <astearns>
jamesr: I think I can say that the animatability of 'display' is not currently defined anywhere. It's not defined in any of the places I'd expect the definition to be, anyway

[17:36:31.0000] <jamesr>
astearns, do you know where the 'display' property itself is defined?

[17:36:42.0000] <tantek>
CSS 2.1

[17:37:04.0000] <jamesr>
ah, appendix F

[17:37:10.0000] <astearns>
jamesr: in CSS2.1 and the new level 3 Display module http://dev.w3.org/csswg/css-display-3/

[17:38:03.0000] <astearns>
but (TabAtkins) the new module says to look to the "individual properties" to see what's animatable, then those properties don't say if they are

[17:38:16.0000] <jamesr>
css transitions has an 'Animatable' section on each property, for instance

[17:38:40.0000] <jamesr>
so looks like the answer is css-display-3 needs to add this row to its tables of property definitions

[17:38:48.0000] <astearns>
yep

[17:39:01.0000] <jamesr>
it has "Animatable:	see individual properties" for the "display" shorthand itself

[17:39:17.0000] <jamesr>
it'll get there, i suppose

[17:39:43.0000] <astearns>
I expect display-box would not be animatable. Not sure about the rest

[17:45:59.0000] <JonathanNeal>
Where is the part of the spec that talks about how to validate an element name or a classname?

[18:20:17.0000] <esprehn>
zewt: I thought we weren't doing StreamBuilder yet

[18:20:56.0000] <esprehn>
or rather, that we were going to replace it with new Stream() like BlobBuilder I'd hope

[18:21:58.0000] <zewt>
esprehn: no idea; all I know about Streams is reading the spec

[18:22:09.0000] <esprehn>
ah

[18:22:11.0000] <zewt>
BlobBuilder is dead (or legacy), right? replace by new Blob()

[18:22:21.0000] <zewt>
replaced

[18:22:59.0000] <zewt>
(however it's constructed I wouldn't expect it to affect those issues, though)

[18:23:11.0000] <zewt>
Steam, I mean

[18:24:19.0000] <zewt>
... Stream (accursed laptop)

[18:28:53.0000] <moo-_->
zewt: yes

[18:29:08.0000] <moo-_->
dead like a doornail

[18:32:01.0000] <zewt>
doing "new Stream" would want to be a subclass of Stream, since you wouldn't want system-provided Streams to also have the StreamBuilder API, but other than that, makes sense

[18:32:35.0000] <zewt>
(though less of a win, since you still end up with two classes)

[19:14:05.0000] <esprehn>
zewt: new WhateverSystemStream I guess, or Stream.create(...) might be okay. The builder stuff is full of sadness

[19:30:14.0000] <zewt>
esprehn: more concerned about the brittle interop smell of script-sourced streams as a concept

[19:30:39.0000] <zewt>
sounds like something that's tempting and sounds useful but might bite everyone in the ass badly long-term

[22:01:45.0000] <nessy>
Hixie: yt?

[22:54:06.0000] <JonathanNeal>
TabAtkins: did you write your js css parser using a tool, or just straight up in js?

[01:58:21.0000] <JonathanNeal>
any string parsers up?

[02:14:31.0000] <SimonSapin>
JonathanNeal: not sure what you mean by string parser, but I‚Äôm pretty sure this one https://github.com/tabatkins/css-parser is written manually based on the algorithms in the spec

[02:14:57.0000] <SimonSapin>
IIRC it‚Äôs even a goal to be very close to the spec

[02:15:17.0000] <JonathanNeal>
Trying to parse "{0 {1 {2 {3} 2} 1} 0} {0 {1 {2 {3} 2} 1} 0}" into a hierarchy.

[02:17:27.0000] <SimonSapin>
JonathanNeal: if you‚Äôre okay with CSS tokens I suppose you could use css-parser and repeatedly call consumeAPrimitive()

[02:18:41.0000] <jgraham>
JonathanNeal: Hmm, are you actually trying to parse CSS or some custom thing?

[02:19:26.0000] <SimonSapin>
but writing recursive decent parsers for simple languages is not too hard

[02:19:57.0000] <JonathanNeal>
some custom thing :) plus i've always wanted to better understand parsers.

[02:21:20.0000] <jgraham>
Well that specific thing doesn't look too hard

[02:23:04.0000] <jgraham>
I mean there are only 3 tokens and no need for lookahead

[02:26:05.0000] <zcorpan>
i don't understand why this fails. :-( http://w3c-test.org/webapps/WebSockets/tests/submissions/Opera/interfaces/WebSocket/close/005.html i don't spot any difference from the old test which passes

[02:28:14.0000] <jgraham>
zcorpan: Which assert fails?

[02:28:30.0000] <zcorpan>
the first in the onclose hanlder

[02:29:25.0000] <JonathanNeal>
jgraham: like this? http://codepen.io/jonneal/pen/hHIzF

[02:30:59.0000] <Ms2ger>
zcorpan, the readyState one?

[02:31:08.0000] <zcorpan>
Ms2ger: yes

[02:31:22.0000] <Ms2ger>
Passes on Fx, it seems

[02:31:40.0000] <zcorpan>
huh, fails for me in firefox

[02:31:53.0000] <Ms2ger>
But I get assert_equals: expected 3 but got 0

[02:32:11.0000] <Ms2ger>
So, passes is a big word :)

[02:32:41.0000] <Ms2ger>
And, uh, timeouts :/

[02:33:55.0000] <zcorpan>
yeah, i guess the timeout can be reduced a lot

[02:38:46.0000] <zcorpan>
ah! s/step/step_func/ makes it pass

[02:38:54.0000] <zcorpan>
so subtle

[02:39:30.0000] <jgraham>
Horray for weak typing?

[02:41:07.0000] <jgraham>
(if you can think of any way I can make it easier to avoid that error please say)

[02:46:41.0000] <zcorpan>
i guess i would have noticed it sooner if i stepped through the script in a debugger

[02:48:16.0000] <zcorpan>
or make step() return a function that gives a warning somewhere

[02:56:04.0000] <zcorpan>
jgraham: i'll implement the warning thing

[02:59:32.0000] <annevk>
http://www.w3.org/TR/2013/WD-html-longdesc-20130312/

[02:59:42.0000] <annevk>
I always thought it was McCathieNeville

[03:00:08.0000] <annevk>
one l

[03:02:23.0000] <SteveF>
annevk: I am now retiring my accessibility work is done!

[03:02:48.0000] <annevk>
no man, need longdesc for <main>

[03:03:49.0000] <SteveF>
oops yeah back to work...

[03:04:29.0000] <SteveF>
am secretly working on longdesc for longdesc but its a secret

[03:04:59.0000] <annevk>
I heard rumors about <img extralongdesc=""> for people that are beyond blind

[03:06:31.0000] <SteveF>
am no longdesc lover, but am pleased the draft has been published so I don't have to think about it anymore

[03:07:12.0000] <SteveF>
though I am a lover and do have a long desk

[03:08:51.0000] <zcorpan>
jgraham: hmm. step() can throw, which makes it a bit hard to make it return a warning function

[03:10:10.0000] <SteveF>
photo of my long desk https://twitter.com/stevefaulkner/status/309984608001343488

[03:10:21.0000] <zcorpan>
that is kinda a showstopper. can't think of a way around it

[03:10:59.0000] <zcorpan>
/me drop it

[03:11:03.0000] <zcorpan>
+s

[03:12:20.0000] <marcosc>
annevk: in XHR, when an event is fired on "onerror", it passes a ProgressEvent. I'm not clear how one gets at the actual "error"? I was expecting some kind of error object to be available.

[03:13:11.0000] <annevk>
marcosc: there's no such thing

[03:14:16.0000] <marcosc>
annevk: sure, but I was kinda hoping for a http://dom.spec.whatwg.org/#dom-domexception-network_err

[03:14:41.0000] <annevk>
marcosc: it's equivalent

[03:14:59.0000] <annevk>
error event is the async version of that

[03:15:33.0000] <marcosc>
ok, what I was after was the details of why it failed. I wanted to display those details or try to do something with them.

[03:16:03.0000] <annevk>
right, there's no such thing

[03:17:00.0000] <marcosc>
Maybe something for XHR level 3? :)

[03:17:00.0000] <zcorpan>
marcosc: exposing to web content why a network request failed is generally considered a security issue

[03:17:06.0000] <annevk>
Fetch exposes 1) end-user abort, 2) network error, 3) redirect (sometimes), 4) everything else

[03:17:20.0000] <annevk>
marcosc: there's no levels anymore

[03:17:28.0000] <annevk>
marcosc: and what zcorpan said

[03:17:51.0000] <marcosc>
ok, makes sense. Just wanted to check the rationale

[03:24:45.0000] <zcorpan>
marcosc: related: hybi tried to expose error reason but that just led to the API spec overriding it http://www.whatwg.org/specs/web-apps/current-work/multipage/network.html#closeWebSocket

[03:25:47.0000] <marcosc>
zcorpan: thanks!

[03:25:59.0000] <zcorpan>
which happened instead of just fixing the protocol spec because people who understand web security had got fed up and stopped paying attention to hybi

[03:28:26.0000] <marcosc>
ok, one more dumb question: when I try to fetch the following URL (http://www.w3.org/TR/2003/NOTE-acdi-20030901), it returns a 301, which causes XHR to throw the error. My understanding is that XHR should do the redirect. What am I missing?

[03:28:55.0000] <darobin>
did you set any specific headers?

[03:29:31.0000] <marcosc>
darobin: no

[03:30:19.0000] <marcosc>
it craps out with http://marcoscaceres.github.com/bib_entry_maker/

[03:30:33.0000] <annevk>
marcosc: does the redirect have CORS headers supplied?

[03:30:47.0000] <marcosc>
/me looks at darobin :) 

[03:30:56.0000] <annevk>
marcosc: I think you're hitting that

[03:31:00.0000] <darobin>
hey you can use curl just as well as I!

[03:31:16.0000] <darobin>
indeed, that's the bug

[03:31:20.0000] <darobin>
I'll alert systeam

[03:31:38.0000] <marcosc>
thanks darobin :)

[03:33:39.0000] <marcosc>
darobin: fwiw, I think some of the really really old specs (pre 2000) also have some CORS issues.

[03:34:24.0000] <Ms2ger>
I think that's the least of their issues

[03:34:29.0000] <marcosc>
heh

[03:35:37.0000] <darobin>
marcosc: that might be possible

[03:35:51.0000] <darobin>
I don't know when the current system was set up ‚Äî there's weird stuff in the oldies

[03:36:05.0000] <marcosc>
yeah, they must be on another server or something

[03:36:20.0000] <darobin>
like this http://www.w3.org/TR/1998/REC-xml-19980210

[03:36:35.0000] <marcosc>
oh man! I'm so gonna start using that BG!

[03:36:46.0000] <darobin>
that one's under CORS alright

[03:36:54.0000] <darobin>
it was all the rage back then

[03:37:01.0000] <darobin>
it makes the specs so readable

[03:37:12.0000] <marcosc>
it's like I'm reading paper

[03:37:21.0000] <Ms2ger>
The PNG spec has it too

[03:37:25.0000] <darobin>
http://www.w3.org/TR/REC-CSS1-961217

[03:37:43.0000] <marcosc>
I even reached out to my screen only to realise that it was not a real thing

[03:38:07.0000] <darobin>
I have fond memories of spending a lot of time with http://www.w3.org/TR/REC-CSS1-961217#appendix-b as my first serious computer hacking project :)

[03:38:13.0000] <marcosc>
and red links FTW!

[03:38:19.0000] <darobin>
I think I still have that background imprinted in my retina

[03:38:46.0000] <marcosc>
heh

[03:38:53.0000] <darobin>
gotta love statements like "The grammar below is LL(1) (but note that most UA's should not use it directly, since it doesn't express the parsing conventions, only the CSS1 syntax)."

[03:39:39.0000] <marcosc>
:)

[03:39:52.0000] <Ms2ger>
"Spec? What spec?"

[03:41:11.0000] <annevk>
"We drank too much to figure out the details, but you know, we had a good time and we think this'll improve the web quite a bit."

[03:41:57.0000] <darobin_>
"If you want to know the parsing conventions we're talking about, no problem, just drop by for a beer" is how I read it

[03:42:51.0000] <annevk>
Which they did, which is why we ended up reverse engineering IE, which was a lot less fun.

[03:43:09.0000] <Ms2ger>
darobin, btw, still waiting for you to move the tests repo

[03:44:06.0000] <darobin>
ah yes, I could do that :)

[03:44:19.0000] <darobin>
annevk: we should've accepted that beeer

[03:44:59.0000] <marcosc>
Ok... now I need to somehow convince the IETF to enable CORS

[03:45:07.0000] <annevk>
hahaha

[03:45:13.0000] <annevk>
too early for jokes man

[03:47:15.0000] <darobin>
marcosc: you might mention something about using HTML while you're there

[03:47:18.0000] <darobin>
oh, and UTF8

[03:47:41.0000] <marcosc>
lets not go crazy

[03:47:57.0000] <darobin>
marcosc: see Twitter

[03:48:06.0000] <darobin>
IMHO your best shot at it

[03:48:15.0000] <marcosc>
heh

[03:48:57.0000] <darobin>
marcosc: I'll let you reply to Mark

[03:49:04.0000] <marcosc>
ok, thanks

[03:49:24.0000] <marcosc>
Once he sees the awesome biblio entry maker, he will make it happen

[04:02:37.0000] <annevk>
so Stream

[04:03:08.0000] <annevk>
what was the reason to have a separate reader object for file?

[04:07:48.0000] <annevk>
I hope somebody knows

[04:09:16.0000] <hsivonen>
lovely charset stuff: https://mxr.mozilla.org/mozilla-central/source/content/base/src/nsXMLHttpRequest.cpp#2661

[04:11:07.0000] <annevk>
hmm

[04:11:18.0000] <annevk>
so the spec asks for lowercasing at the moment I Think

[04:11:21.0000] <annevk>
man

[04:27:14.0000] <jgraham>
darobin: You know that thing about "don't use this grammar" is still in 2.1, right?

[04:31:32.0000] <darobin>
jgraham: yeah but I prefer the original source, it has more style

[04:39:08.0000] <zcorpan>
jgraham: OK i've gone through all the websocket tests now and fixed things i noticed were wrong

[04:39:35.0000] <zcorpan>
jgraham: should i let someone know?

[04:41:05.0000] <jgraham>
zcorpan: public-webapps-testsuite

[04:41:22.0000] <jgraham>
Reply to the last mail I sent there, I guess

[04:41:29.0000] <zcorpan>
i found an old thread, yeah

[04:42:16.0000] <zcorpan>
it's kinda funny that people complained about the proposed timeline

[04:42:16.0000] <jgraham>
http://www.w3.org/mid/512F18DB.3010503‚äôoc is the message to reply to infact

[04:43:52.0000] <zcorpan>
hmm, i guess i'm not subscribed, can't find that in my inbox

[04:44:19.0000] <jgraham>
Subscribe and download the archive files?

[04:44:59.0000] <zcorpan>
seems like bad use of my time :-) i'll just reply to another message and link to the above

[04:45:06.0000] <zcorpan>
and subscribe

[04:45:18.0000] <jgraham>
Fair enough :)

[04:47:10.0000] <jgraham>
Would be kind of useful if mail clients let you set the In-Reply-To header

[04:47:19.0000] <jgraham>
(well I guess some do)

[04:47:29.0000] <darobin>
some clients allow you to show arbitrary headers

[04:47:34.0000] <darobin>
even Mail.app supports that

[04:47:47.0000] <darobin>
the problem is usually getting them to show it in a useful way

[04:51:08.0000] <jgraham>
I mean set when you compose.

[04:51:57.0000] <zcorpan>
jgraham: what's next? postMessage?

[04:52:55.0000] <jgraham>
Possibly register*Handler since that seemed to be almost good to go. But certainly postMessage is the other option

[04:53:36.0000] <zcorpan>
i don't see postMessage in my critic dashboard. but register*Handler is there

[04:53:49.0000] <jgraham>
Right, there isn't a review for postMessage

[04:53:54.0000] <jgraham>
I could create one I guess

[04:54:27.0000] <zcorpan>
ah, ok

[04:55:21.0000] <hsivonen>
annevk: so the File API allows the caller to pass an encoding

[04:55:30.0000] <hsivonen>
annevk: and currently, Firefox throws if the encoding is bogus

[04:56:07.0000] <hsivonen>
annevk: if the BOM overrides, what should happen when there is a BOM and bogus encoding argument?

[04:56:16.0000] <hsivonen>
should the BOM just take precedence

[04:56:25.0000] <hsivonen>
or should the bogosity of the argument be checked first?

[04:57:12.0000] <hsivonen>
/me is quite unhappy that Firefox's File API impl asks the magic 8-ball for charset instead of doing what the spec says and just falling back to UTF-8

[04:58:16.0000] <jgraham>
zcorpan: Created a review for those tests

[05:00:36.0000] <annevk>
hsivonen: see my email to public-webapps

[05:02:39.0000] <hsivonen>
annevk: File API review?

[05:02:47.0000] <annevk>
hsivonen: yeah, I told sicking that would be a BAD IDEA¬Æ

[05:03:06.0000] <annevk>
hsivonen: yeah, end of http://lists.w3.org/Archives/Public/public-webapps/2013JanMar/0707.html

[05:04:13.0000] <hsivonen>
annevk: ok, so throw first

[05:04:21.0000] <hsivonen>
annevk: afaict, WebKit does not throw

[05:04:34.0000] <hsivonen>
and doesn't sniff for BOM, either

[05:04:44.0000] <annevk>
hsivonen: yeah, the current spec does not say to throw

[05:05:07.0000] <annevk>
hsivonen: not looking for the BOM seems like a bug per current spec

[05:06:13.0000] <annevk>
hsivonen: I don't care strongly about the throwing I suppose, although it would be consistent with TextDecoder as I noted in my email

[05:08:00.0000] <hsivonen>
annevk: OK. I'll keep throwing in my patch

[05:31:06.0000] <annevk>
Btw, http://www.w3.org/TR/2013/WD-html-longdesc-20130312/#widl-Element-longdesc is bogus, but I'm not sure if anyone cares...

[05:31:15.0000] <hsivonen>
annevk: wait, when did you tell sicking that using chardet was a bad idea?

[05:32:29.0000] <SteveF>
annevk: have pinged chaals

[05:33:07.0000] <annevk>
hsivonen: dunno, seems it might have been four years ago now?

[05:33:28.0000] <hsivonen>
annevk: whoa. so before review and that stuff still landed?

[05:35:18.0000] <jgraham>
If only the spec had a testsuite and people felt bad about failing it

[05:37:45.0000] <annevk>
hsivonen: http://lists.w3.org/Archives/Public/public-webapps/2009AprJun/1105.html is my earliest feedback

[05:38:07.0000] <annevk>
hsivonen: can't actually find where I said that "doing detection" would be bad because it's not interoperable

[05:53:21.0000] <annevk>
darobin: seems your b-day coincides with red nose day

[05:54:02.0000] <darobin>
annevk: that's, errm

[05:54:20.0000] <annevk>
apt?

[05:54:34.0000] <darobin>
I guess!

[05:55:00.0000] <darobin>
I think it'll be at the Royal Oak in Bethnal Green

[05:55:04.0000] <darobin>
(to be confirmed though)

[05:57:56.0000] <annevk>
that's a bit out of the way, but should be okay

[06:03:23.0000] <darobin>
Bethnal Green rocks :)

[06:03:51.0000] <hsivonen>
not only does File API use the detector, but it uses the detector through the wrong API...

[06:04:07.0000] <jgraham>
darobin comes all the way from France, and you think that going < 10 tube stops is "a bit out of the way"?

[06:04:54.0000] <annevk>
it's like 40min according to Google Maps, though I might be able to avoid the tube by taking a bus

[06:05:04.0000] <jgraham>
(that probably needed a smilie)

[06:05:18.0000] <darobin>
jgraham: in .nl, ten tube stops takes you to Belgium, give him some time to adapt

[06:05:19.0000] <annevk>
I could also walk, which it estimates at 1:07 which is not all bad

[06:05:47.0000] <SimonSapin>
annevk: do you dislike the tube that much?

[06:06:20.0000] <annevk>
SimonSapin: no, the tube connection to there is just bad

[06:06:45.0000] <jgraham>
(seems like bethnal green tube station is <20 minutes by tube from Leicester Square, which is near Moz. at least, iirc)

[06:07:48.0000] <annevk>
(the pub is not next to that station)

[06:09:35.0000] <jgraham>
No

[06:09:51.0000] <jgraham>
It's not next to *any* station

[06:15:15.0000] <annevk>
but it is next to a bus stop :)

[06:16:23.0000] <annevk>
We should maybe put something here about architecture otherwise management might think we're slacking off, solely discussing London's public transport for a b-day party next Friday (not even today!)...

[06:20:56.0000] <jgraham>
I hate MySQL

[06:21:12.0000] <jgraham>
I think that has me covered

[06:22:36.0000] <annevk>
<css/>

[06:22:59.0000] <zewt>
heh

[06:23:21.0000] <zewt>
mysql pretty much seems like what novices pick because nobody told them about postgres

[06:23:38.0000] <jgraham>
In this case that might well be true

[06:23:55.0000] <jgraham>
(actually it might well be Hixie that picked MySQL back in the dawn of time)

[06:24:07.0000] <jgraham>
(I'm not sure)

[06:25:20.0000] <zewt>
"lamp" is probably the single worst open-source quasi-marketing fad there was

[06:26:00.0000] <zewt>
"hey everyone! you should use these three bad technologies so you fit the acronym"

[06:26:49.0000] <jgraham>
Is apache "bad"

[06:26:50.0000] <jgraham>
?

[06:27:10.0000] <jgraham>
(ngix might be better, but it didn't exist at the time)

[06:27:14.0000] <zewt>
well, it's not so good that it should be used without evaluation, at least

[06:28:04.0000] <zewt>
i think it's more the "stop thinking and just use this set of things"-ishness of it all that i found unpleasant

[06:28:48.0000] <jgraham>
So, if anyone does know why MySQL allows you to override the charset and the collation on a per-connection basis, and how I fix the collation to be utf8_bin, that would be helpful

[06:29:18.0000] <zewt>
dear gmail: stop logging me out while i'm writing mail. thanks

[06:29:21.0000] <jgraham>
(Well I can do SET NAMES ...) but I don't know how that interacts with sqlalchemy, exactly

[06:29:35.0000] <annevk>
jgraham: maybe matjas?

[06:29:39.0000] <annevk>
dunno if he's online

[06:37:33.0000] <darobin>
fwiw when LAMP was minted it was descriptive of a practice, not an attempt to prescribe or sell it

[06:39:35.0000] <jgraham>
"The description in the following sections may appear complex, but it has been found in practice that multiple-level defaulting leads to natural and obvious results."

[06:39:52.0000] <zewt>
giggle

[06:40:30.0000] <jgraham>
I believe that is the "I'm high as a kite" moment

[06:41:44.0000] <zewt>
tip to anyone running a business: if the user email thing you use calls itself "constant contact", you're a spammer

[06:43:09.0000] <matjas>
jgraham: check the mysql.conf settings in this post http://mathiasbynens.be/notes/mysql-utf8mb4

[06:43:23.0000] <matjas>
err, /etc/my.cnf

[06:43:32.0000] <matjas>
jgraham: also, why utf8_bin and not utf8mb4_bin?

[06:44:07.0000] <jgraham>
matjas: Don't tell me, I can guess this one, utf8 doesn't actually let you store all of unicode?

[06:44:17.0000] <matjas>
jgraham: you guessed it.

[06:44:26.0000] <matjas>
MySQL‚Äôs `utf8` is a lie

[06:45:36.0000] <jgraham>
OK, I was wrong

[06:45:52.0000] <jgraham>
The "high as a kite" moment came long before they got to the documentation

[06:48:52.0000] <gavinc>
yeah, but utf8mb4 means that all the things you think about how big indexs are and how long the built in types are, are wrong :(

[06:49:57.0000] <gavinc>
a number of places that say "characters" mean, sets of bytes / 3, not bytes / 4

[06:50:18.0000] <jgraham>
/me would be happy if all the things he thought about how equality works were right

[06:50:58.0000] <annevk>
Oh yes, we have a NES at the office!

[06:52:48.0000] <zewt>
sad when I make a big list of what seem to me like horrifying complex interop nightmares, and the reply ignores them all and just goes "but it's easier to implement"

[06:56:51.0000] <zcorpan>
		{if(themALL.code = DOMException.SECURITY_ERR)

[06:56:51.0000] <zcorpan>
			{e++}

[06:57:05.0000] <zcorpan>
jgraham: it seems safe to assume that the above was meant to be ==, right?

[06:58:42.0000] <jgraham>
zcorpan: Yeah

[07:18:07.0000] <jgraham>
zcorpan: (I'm sure it meant to be === :)

[07:18:21.0000] <zcorpan>
jgraham: i made it == :-P

[07:19:24.0000] <zcorpan>
ok i'll call it a day now. will finish my batch of converting URLs to be server-agnostic and commit that on monday

[07:20:03.0000] <zcorpan>
have a nice weekend

[07:20:54.0000] <jgraham>
You too

[07:21:30.0000] <zcorpan>
it doesn't start all too well. i blame brucel for that...

[07:22:11.0000] <zcorpan>
i hope i have recovered on monday at least

[07:22:17.0000] <zcorpan>
anyway

[08:07:43.0000] <annevk>
zewt: fwiw, I agree with sicking et al that passing of Stream from XHR is weird

[08:08:02.0000] <annevk>
zewt: and counter to the model

[08:08:04.0000] <zewt>
i think the "xhr keeps running" thing is completely batshit insane

[08:08:35.0000] <zewt>
and that returning the stream fits the model--start request, something happens, onload fires when the result is available--quite well

[08:09:10.0000] <annevk>
no, the model is that you wait for the complete response, including its entity body, or just wait forever if that happens to load forever

[08:09:45.0000] <zewt>
nothing about the xhr api implies that

[08:09:51.0000] <annevk>
stream is just another way to expose the resonse entity body

[08:10:07.0000] <annevk>
response*

[08:10:34.0000] <annevk>
XHR controls the entire request/response, everything implies that

[08:11:26.0000] <zewt>
nothing i can see :)

[08:11:40.0000] <zewt>
and i think that's a minute concern anyway, compared to all the issues with doing it that way

[08:12:30.0000] <zewt>
every time i think about it, whole new issues come to mind

[08:12:49.0000] <jgraham>
It does seem pretty odd to have an XHR that will never fire onload

[08:13:02.0000] <jgraham>
But doesn't have an error

[08:13:48.0000] <annevk>
zewt: I don't think there's that many issues to be honest

[08:14:05.0000] <annevk>
jgraham: it will fire onload once the connection closes

[08:14:14.0000] <jgraham>
"yay"

[08:14:22.0000] <jgraham>
I mean, that seems rather useless

[08:14:23.0000] <zewt>
i've listed quite a number, so by all means reply to a few :)

[08:14:36.0000] <zewt>
(on the list, can't get into that much detail right now)

[08:15:04.0000] <annevk>
zewt: the event ordering thing is just getting all the task sources right, sync xhr and streams seems pointless, ...

[08:15:14.0000] <jgraham>
It is pretty clear in general that people want a way to hook into "this data is usable now"

[08:15:52.0000] <zewt>
sync xhr and streams isn't useless at all; let me open a synchronous request in a worker and parse the result as it comes in

[08:15:58.0000] <annevk>
jgraham: ah yeah, we should maybe have an event for when the headers are in / first bit of entity body is in

[08:17:02.0000] <jgraham>
Why wouldn't we call that event "load"?

[08:17:06.0000] <annevk>
zewt: since the parsing is async anyway it doesn't have to be loaded sync

[08:17:14.0000] <annevk>
jgraham: because load means the entity body is in

[08:17:16.0000] <zewt>
sorry, don't understand that

[08:17:21.0000] <annevk>
k

[08:17:29.0000] <jgraham>
annevk: That's a very low-level view

[08:17:53.0000] <zewt>
for example, if you wanted to implement something EventSource-like in a worker

[08:18:10.0000] <jgraham>
To put it differently, what's the use case for load being after the stream is closed?

[08:19:46.0000] <zewt>
given a synchronous version of StreamReader (there isn't one yet, but that's a separate problem), you'd just run a sync XHR to create the Stream, then use StreamReader to synchronously read data as it comes in--this seems very useful

[08:25:14.0000] <annevk>
jgraham: tick the progress bar

[08:25:26.0000] <Ms2ger>
jgraham, yt?

[08:26:07.0000] <jgraham>
Ms2ger: For a few seconds

[08:26:48.0000] <jgraham>
annevk: Don't really see how that's a use case for load-after-close

[08:26:57.0000] <jgraham>
Could be a use case for a close event on the stream

[08:26:58.0000] <Ms2ger>
jgraham, do you know what the has_assertions() is for in the testharness.js results table code?

[08:27:03.0000] <zewt>
jgraham: well, i wouldn't necessarily say that we need use cases for side-effects of design

[08:27:29.0000] <annevk>
jgraham: euhm, the stream is somewhat distinct from network transfer

[08:27:46.0000] <annevk>
jgraham: you wouldn't want your progress bar implementation to have to hook into different objects

[08:29:28.0000] <jgraham>
Ms2ger: Not obviously. I am thinking that git blame will point at Aryeh. I will look more at home in a bit

[08:29:53.0000] <Ms2ger>
Mm

[08:29:54.0000] <Ms2ger>
/me looks

[08:30:30.0000] <Ms2ger>
Huh, no, to Peter

[08:30:42.0000] <jgraham>
Right, I was just thinking

[08:31:06.0000] <jgraham>
This is probably to do with the stuff for extracting metadata from the test file

[08:31:31.0000] <Ms2ger>
Oh, that kind of assertions

[08:31:35.0000] <Ms2ger>
Meh

[08:31:42.0000] <jgraham>
You can do something like test(function(){}, name, {assert:"Somethihng from a spec"})

[08:31:52.0000] <jgraham>
Yeah, quite confusing

[08:32:05.0000] <jgraham>
Shouldn't have let that through code review I think, but oh well

[08:41:02.0000] <Ms2ger>
jgraham, btw, is the result table the only user of the templating code?

[09:08:37.0000] <dglazkov>
good morning, Whatwg!

[09:09:00.0000] <annevk>
good afternoon dglazkov

[09:11:53.0000] <annevk>
pushed an update to http://html5.org/temp/fetch.html btw; now maps Hixie-stuff to annevk-stuff

[09:13:01.0000] <annevk>
Hixie: fwiw, I can probably change it back completely, but I think that once we unravel the various request/response things for offline we're going to end up with the kind of request/response model this thing outlines so I'd rather just go there...

[09:13:23.0000] <slightlyoff>
annevk: I owe you a read-through of that

[09:13:36.0000] <slightlyoff>
annevk: would love seeing it in pseudo-code instead of prose, though = (

[09:14:04.0000] <annevk>
slightlyoff: there's http://wiki.whatwg.org/wiki/Fetch#Pseudo-code though it's not entirely accurate anymore

[09:14:29.0000] <annevk>
slightlyoff: but it gives a high-level overview that's somewhat accurate and illustrates some of the weirdness

[09:14:51.0000] <slightlyoff>
aha! thanks.

[09:15:32.0000] <slightlyoff>
I enjoy that this is Python...the language of the web! ;-)

[09:16:28.0000] <annevk>
I find Python more writable and readable than JavaScript and since I don't have to run it anywhere...

[09:17:35.0000] <Ms2ger>
We all hate JS here

[09:17:40.0000] <Ms2ger>
That's why we work on the DOM :)

[09:18:01.0000] <dglazkov>
I don't hate JS

[09:18:28.0000] <annevk>
Right, the DOM will supplant JavaScript eventually :p

[09:18:37.0000] <dglazkov>
I try not to hate anything

[09:19:34.0000] <annevk>
dglazkov: you're not following the channel rules

[09:20:03.0000] <annevk>
(there are none, but you also do and do not have to leave your sense of logic at the door)

[09:21:46.0000] <slightlyoff>
Ms2ger: it shows? ;-)

[09:22:59.0000] <tobie>
slightlyoff: :(

[09:23:23.0000] <annevk>
I usually don't design APIs, but when I do, it shows.

[09:23:26.0000] <slightlyoff>
hah

[09:23:29.0000] <slightlyoff>
= )

[09:23:47.0000] <annevk>
Seriously though, I'm mostly documenting a mess created ten years ago, plus CORS, which is only partly my fault.

[09:28:56.0000] <MikeSmith>
vindication http://lists.w3.org/Archives/Public/public-webapps-testsuite/2013Mar/0015.html Indeed something wonky in MS Redmond network that was causing websocket test failures

[09:29:36.0000] <MikeSmith>
advantage jgraham

[09:30:22.0000] <karlcow>
Oh pseudo-code I can read! http://wiki.whatwg.org/wiki/Fetch#Pseudo-code ‚ô• annevk

[09:31:17.0000] <annevk>
Maybe we should just write specs in Python/JavaScript rather than English

[09:31:31.0000] <karlcow>
\o/

[09:31:44.0000] <annevk>
<- not serious

[09:31:50.0000] <Ms2ger>
Why not brainfuck?

[09:32:28.0000] <karlcow>
/me proposes pseudo-Haiku for minimalism

[09:33:15.0000] <annevk>
Why not Zoidberg?

[09:33:36.0000] <Ms2ger>
Because he's not a programming language

[09:38:49.0000] <MikeSmith>
in programming languages were people, INTERCAL would be me

[09:39:21.0000] <jgraham>
Ms2ger: Yes

[09:43:23.0000] <jgraham>
MikeSmith: So what to do about the websockets thing? Do you actually see the websockets requests for the Microsoft IPs?

[09:45:22.0000] <jgraham>
Ms2ger: Well actually

[09:45:41.0000] <jgraham>
I don't know about the testharnessreport.js that plinss wrote

[09:46:24.0000] <MikeSmith>
jgraham: didn't check yet. I am considering to not do any further troubleshooting of their effed up network for them until they pay me for the invoice I submitted to them for the time I already spent. Which to be fair was probably less than 1 hour total, but I bill at Oracle DBA rates.

[09:46:30.0000] <Ms2ger>
Doesn't look like it

[09:47:04.0000] <MikeSmith>
jgraham: seriously I plan to do nothing except to support moving them into approved

[09:47:18.0000] <jgraham>
MikeSmith: heh

[09:48:02.0000] <jgraham>
Anyway, my suspicion is that it is indeed something on the Microsoft network that's causing the problem

[09:48:12.0000] <MikeSmith>
yup

[09:48:56.0000] <jgraham>
But it looks like Ken believes that the W3C might be treating requests from Microsoft differently

[09:49:08.0000] <jgraham>
So it would be good to rule that out

[10:06:35.0000] <MikeSmith>
jgraham: if W3C is treating requests from MS differently it would be because our network defenses are doing it for a good reason

[10:07:33.0000] <MikeSmith>
e.g., them having some tools that end up making abusive amounts of DTD requests

[10:07:44.0000] <MikeSmith>
DTD DDoS

[10:09:18.0000] <jgraham>
Well yeah, it could be

[10:09:24.0000] <MikeSmith>
actually now that I say that I recall that have in fact already had some specific problems with MS and W3C network that I never heard any resolution about it

[10:09:46.0000] <jgraham>
I don't really see why rate limiting would cause this type of problem though

[10:10:07.0000] <MikeSmith>
yeah it was not a simple rate limiting problem

[10:10:56.0000] <MikeSmith>
I think it may not have even been the W3C network specifically but instead som MIT network defenses

[10:11:44.0000] <jgraham>
Interesting

[10:12:00.0000] <jgraham>
I wonder why it would affect websockets in particular

[10:12:31.0000] <jgraham>
(also, the irony of Microsoft not being able to access tests on a server that they paid for is not lost on me)

[10:12:50.0000] <MikeSmith>
heh

[10:22:00.0000] <Hixie>
christ, the w3c continues its "stable" nonsense

[10:26:04.0000] <marcosc>
:)

[10:26:25.0000] <marcosc>
speaking of which, we are remaking the famous red bar at the bottom of specs: https://github.com/ResponsiveImagesCG/picture-element/issues/21

[10:30:38.0000] <karlcow>
Well Microsoft doesn't always fix their product, even when told. :)

[10:30:54.0000] <karlcow>
/me has his own story with a lunar calendar

[10:31:44.0000] <Hixie>
hm, still no heycam

[10:31:46.0000] <Hixie>
is he on vacation?

[10:31:58.0000] <Ms2ger>
Yeah

[10:32:05.0000] <Hixie>
k

[10:32:14.0000] <Ms2ger>
/me checks the dates

[10:32:22.0000] <Hixie>
no worries

[10:32:39.0000] <Hixie>
/me punts the bug to Q2

[10:32:58.0000] <Ms2ger>
That's probably best

[10:33:17.0000] <Ms2ger>
I suspect he'll spend the rest of Q1 on email backlogs :)

[10:34:19.0000] <Ms2ger>
Looks like heycam is away until the 24th

[10:36:15.0000] <karlcow>
though it seems Apple is no better.

[10:37:10.0000] <jgraham>
karlcow: You were bitten by a Microsoft employee and now you can't go out at the full moon?

[10:37:16.0000] <karlcow>
grep MoonPhase.ics access.log.132* | grep "Feb/2012" | wc -l

[10:37:16.0000] <karlcow>
  516354

[10:37:16.0000] <karlcow>
"GET /2002/09/13-MoonPhase.ics HTTP/1.1" 410 319

[10:38:00.0000] <karlcow>
half a million requests last February for a file which 410 Gone.

[10:38:08.0000] <karlcow>
which is

[10:39:11.0000] <karlcow>
These days it seems to be mostly coming from iOS and DataAccess

[10:39:44.0000] <karlcow>
I guess Microsoft Outlook finally removed it from distribution.

[10:40:49.0000] <karlcow>
the initial file (Gone now) had a cache information for years, but any kind of calendars are still checking everything 30 minutes or so.

[10:41:23.0000] <internaut_jack>
Looks like the "contenteditable" attribute doesn't allow <label> elements to be edited.

[10:41:35.0000] <karlcow>
Sometimes I wonder if instead I should put a calendar with a repeating event every day that would fill the calendar of people

[10:41:38.0000] <internaut_jack>
As in, they look like they should be able to be edited, and the text can be *deleted*

[10:41:42.0000] <internaut_jack>
But not typed

[10:41:45.0000] <internaut_jack>
Anyone seen this?

[10:42:13.0000] <Hixie>
internaut_jack: sounds like a browser-specific issue

[10:42:33.0000] <internaut_jack>
This is in Chrome 25.0.1364.155

[10:42:50.0000] <internaut_jack>
Would someone please validate?  I'll file a bug if it can be replicated.

[10:47:02.0000] <Hixie>
seems to work fine for me

[10:47:23.0000] <Hixie>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2137

[10:54:29.0000] <internaut_jack>
Hixie, the div has the contenteditable attribute in your example, rather than the label

[10:54:35.0000] <internaut_jack>
Try putting it right on the label element itself

[11:15:56.0000] <garciawebdev>
can i use any values on the rel attribute? or just the ones listed on http://www.w3.org/TR/html5/links.html#linkTypes ?

[11:17:41.0000] <JonathanNeal>
garciawebdev: 4.12.5.14 Other link types Extensions to the predefined set of link types may be registered in the microformats wiki existing-rel-values page. http://microformats.org/wiki/index.php?title=existing-rel-values

[11:18:28.0000] <JonathanNeal>
Not sure if the validator reflects it, though.

[11:20:28.0000] <garciawebdev>
JonathanNeal, thanks, validator said my value was not valid

[11:21:09.0000] <garciawebdev>
but i've seen many use other values not specified there, so i just wanted to check

[11:21:16.0000] <JonathanNeal>
Hixie: what I just wrote above, ^ ,is that legit?

[11:22:30.0000] <JonathanNeal>
garciawebdev: I think it's right. It's what the spec says. I just wouldn't want to mislead you.

[11:23:10.0000] <garciawebdev>
JonathanNeal what's right? the validator complaining about my value?

[11:24:37.0000] <JonathanNeal>
Ah, sorry, that you can use those values. I thought it would give you a warning in the validator, but I see that it gives you an error.

[11:24:51.0000] <Hixie>
internaut_jack: i tried it on the <label> too, seemed to work fine

[11:25:00.0000] <Hixie>
internaut_jack: can you make a test case that shows the problem?

[11:25:27.0000] <internaut_jack>
Hixie, I have a fiddle, and it works fine there too.  Debugging further to see if I can replicate elsewhere.

[11:25:35.0000] <Hixie>
JonathanNeal: if there's a spec that defines what the link type does, sure

[11:46:33.0000] <tantek>
garciawebdev - what rel value are you using that's giving you an error?

[11:47:09.0000] <garciawebdev>
tantek, it's rel="invite"

[11:47:16.0000] <garciawebdev>
designer put it...

[11:47:28.0000] <garciawebdev>
and use that to initialize a jQuery plugin

[11:47:43.0000] <garciawebdev>
you know...

[12:04:29.0000] <Hixie>
garciawebdev: what does it do?

[12:05:29.0000] <garciawebdev>
Hixie, sorry, not actually a plugin, it opens a modal

[12:05:40.0000] <garciawebdev>
when clicking on a button

[12:06:22.0000] <Hixie>
but what dos rel=invite mean?

[12:44:55.0000] <garciawebdev>
Hixie that's what i'm not sure

[12:45:25.0000] <garciawebdev>
Hixie, i don't know, maybe the designer thought he could put anything into rel. is it possible or not?

[12:45:33.0000] <garciawebdev>
(to put anything on it)

[13:50:09.0000] <tantek>
garciawebdev - it's possible if it's defined in a spec, and if it's not redundant with existing rel values.

[13:50:35.0000] <tantek>
I'm not sure rel="invite" makes sense for a modal

[13:50:48.0000] <tantek>
I'm not even sure what would make sense for a link to a modal

[13:51:13.0000] <tantek>
is it a dialog like one you would enter in friends's emails to invite them to use the site?

[13:51:14.0000] <garciawebdev>
tantek, i see, i didn't saw it in a spec, also, no, it doesn't. i think a valid href makes more sense

[13:51:30.0000] <tantek>
yeah

[13:51:31.0000] <garciawebdev>
tantek exactly, you seem to read minds

[13:51:38.0000] <garciawebdev>
hahhahah

[13:51:45.0000] <garciawebdev>
exactly that

[13:52:00.0000] <tantek>
/me tries not to abuse his powers.

[14:11:06.0000] <Hixie>
can anyone work out what anne is talking about in https://www.w3.org/Bugs/Public/show_bug.cgi?id=20571 ?

[14:39:22.0000] <tantek>
garciawebdev - looks like there's some use of data-rel=dialog here: http://stackoverflow.com/questions/10949549/jquery-mobile-how-to-simulate-data-rel-dialog

[14:39:28.0000] <tantek>
I wonder if that use is related to your use

[14:40:46.0000] <tantek>
so we have the <dialog> element for marking up in-page dialog content, but we don't really have a way to markup external pages that are used as dialogs for the current page, do we?

[14:40:59.0000] <garciawebdev>
tantek i'm almost sure it's an arbitrary decision of the designer to use it for selecting that anchor from jQuery

[14:58:58.0000] <Hixie>
hsivonen: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=17869

[15:22:46.0000] <zewt>
do people get cool points for calling anything they don't like an "antipattern" now

[15:24:06.0000] <astearns>
calling out buzzwords is an antipattern

[15:33:12.0000] <zewt>
i guess. heh

[15:36:38.0000] <zewt>
hixie called things antipatterns before it was cool


2013-03-09
[16:08:12.0000] <zewt>
no console.log in workers is :|

[19:41:11.0000] <zewt>
... window.console isn't specced anywhere (according to mdn)? jeez

[19:42:05.0000] <zewt>
also, what the heck is window.console.memory in webkit? who decided it was a good idea to put memory statistics on a logging API?

[19:42:19.0000] <zewt>
one thing about browsers: they're forever entertaining

[19:43:06.0000] <zewt>
half expecting window.HTMLInputElement.tetris() to pop up a game

[20:12:04.0000] <MikeSmith>
leave it to Maciej to rain on the parade http://lists.w3.org/Archives/Public/public-html/2013Mar/0063.html

[20:13:01.0000] <MikeSmith>
/me forwards message to some people who could use a bit of reality check

[20:18:51.0000] <zewt>
yeah it's way too late on a friday night for me to be reading armchair lawyering

[20:19:00.0000] <zewt>
/me punts

[20:20:52.0000] <zewt>
i guess i can't bring myself to get invested in that debate, since the decision is going to be an economic one and a lawyery one and nothing I can possibly say will affect the end result in any way

[20:21:23.0000] <zewt>
so I'll stick to the technical stuff that I figure I have the competence to influence in some meaningful way, heh

[20:29:00.0000] <MikeSmith>
_/win 23

[20:29:09.0000] <zewt>
if you have 23 windows, close some

[20:29:15.0000] <zewt>
i have all of 6

[20:30:10.0000] <MikeSmith>
I always have at least 15 open

[20:31:42.0000] <zewt>
hmm, seems like the ability to stop the mouse from moving while dragging is something that's been overlooked; something i'm noticing while trying to use interfaces designed for mice with a macbook trackpad

[20:32:22.0000] <zewt>
quite painful to have to drag the mouse cursor to the bottom again and again while dragging downward

[00:20:09.0000] <Ms2ger>
zewt, MikeSmith wrote a spec for console once

[05:52:05.0000] <jgraham>
So critic seems to be working again, perhaps

[05:52:23.0000] <jgraham>
But all the old user accounts and reviews are gone

[05:57:12.0000] <SimonSapin>
https://dvcs.w3.org/hg/ is down again :/

[06:24:07.0000] <zewt>
gaaaaah

[06:24:28.0000] <zewt>
okay, comment forms that let you write a comment, then *after* you hit post go "okay, now create an account" need to be shredded, lit on fire and then shot into the sun

[07:33:55.0000] <zewt>
eventsource onmessage isn't a trusted event? weird

[08:08:08.0000] <zewt>
indexeddb uses DOM3 events, "default action" and all that mess? ouch


2013-03-10
[22:45:32.0000] <wycats__>
I don't understand "element in specific scope": http://www.whatwg.org/specs/web-apps/current-work/multipage/parsing.html#has-an-element-in-the-specific-scope

[22:45:39.0000] <wycats__>
"If node is the target node, terminate in a match state"

[22:45:43.0000] <wycats__>
I don't know what the target node is

[01:32:45.0000] <jgraham>
wycats__: It isn't super-clear, but the "target node" is supposed to be an element of the type that you are searching for

[01:34:23.0000] <jgraham>
e.g. when it says "has a 'body' element in scope", "target node" is an element named body (I guess it is not 100% clear if that is supposed to be an element in the HTML namespace named body, or any element named body)

[01:34:39.0000] <jgraham>
(I think someone opened a bug about that)

[01:37:11.0000] <jgraham>
but basically "if the stack of open elements has an x element in scope" should be read as "if elementInScope(openElements, targetNode=x)"

[04:43:04.0000] <crocket>
~school

[04:59:57.0000] <crocket>
`school

[08:24:13.0000] <zewt>
heh just saw multipart/x-mixed-replace ... seems pretty nasty, heh

[08:25:05.0000] <zewt>
since multipart/mixed assumes you have the whole data set in advance to pick a boundary guaranteed not to appear in the data (but academic enough of a problem, I guess)

[09:09:17.0000] <Mekzholan>
Is here someone I could tell a feature which relating to the applicationCache?

[09:09:17.0000] <Mekzholan>
I'd love to be able to use partial addresses or wildcards for the CACHE entries, e.g. listing each icon in that file isn't much fun. (It could work by adding wildcarded files to the cache only after they have been used by the page).

[09:09:17.0000] <Mekzholan>
Alternatively (or even additionally) it would be great to add an applicationCache.add() and applicationCache.remove() method to the API.

[09:09:17.0000] <Mekzholan>
And perfect would be an API function that forces a discard of the full cache, realoads the manifest and every file in it...

[09:11:50.0000] <Mekzholan>
-which +whish

[09:24:58.0000] <matjas>
‚ÄúThe <title> element must not be empty‚Äù ‚Äî http://www.whatwg.org/specs/web-apps/current-work/multipage/semantics.html#the-title-element

[09:25:27.0000] <matjas>
HTML4 et al. didn‚Äôt have such a requirement

[14:27:05.0000] <MikeSmith>
matjas: Hixie made that change to the criteria for the title element only a couple months or so ago

[14:27:34.0000] <MikeSmith>
before then even in HTML LS and HTML5, it was allowed to be empty

[14:30:57.0000] <zewt>
(and it's just conformance criteria)

[14:32:47.0000] <MikeSmith>
yeah

[16:40:15.0000] <odinho>
jgraham: I asked GitHub about changing the root of the network, and they said they only needed an email from you if you wanted to do it. (change "main repo" of testharness.js to w3c/testharness.js from jgraham/testharness.js).

[16:40:48.0000] <odinho>
jgraham: I actually didn't ask for that repository, but another one, but remembered it was more or less the same situation with testharness.js.

[16:42:56.0000] <gsnedders>
Yeah, getting most things like that changed in Github is really simple, they just need an email asking them to.


2013-03-11
[17:44:28.0000] <zewt>
... does anybody else get bitten by copies from MDN containing literal nbsp characters, breaking the parsing of the example code you're trying to copy, heh

[01:17:44.0000] <jgraham>
Ms2ger: http://critic.hoppipolla.co.uk/r/4

[01:18:25.0000] <Ms2ger>
I broke the system again?

[01:19:06.0000] <jgraham>
Hmm, that was working last night

[01:19:37.0000] <jgraham>
Oh dammit

[01:24:20.0000] <Ms2ger>
It doesn't sound terribly stable ;)

[01:25:00.0000] <jgraham>
Ms2ger: Try again :)

[01:25:31.0000] <jgraham>
It wasn't really working last night at all. I just didn't notice because it thought I was already authenticated.

[01:25:33.0000] <Ms2ger>
Yay, comments :)

[01:36:20.0000] <Ms2ger>
jgraham, what did you want to add to idlharness.js?

[01:36:53.0000] <jgraham>
Ms2ger: Well it was more of a thought than a requirement (hence it's a note rather than an issue)

[01:37:08.0000] <Ms2ger>
Yeah, but what was the note about? :)

[01:38:37.0000] <jgraham>
Well I was wondering if the test for extra arguments beyond the longest overload set shouldn't have any effect (in particular that they shouldn't get toString or valueOf called) should be an idlharness.js test

[01:39:06.0000] <jgraham>
Wow that sentence is a grammar fail

[01:41:22.0000] <Ms2ger>
Possibly, yes

[01:41:53.0000] <jgraham>
Anyway, I don't really expect you to fix it now, but open a bug perhaps?

[01:42:51.0000] <Ms2ger>
Where? :)

[01:43:06.0000] <Ms2ger>
/me goes for the testharness.js component

[01:43:19.0000] <jgraham>
I think there is a component in the W3C bugzilla

[01:43:24.0000] <jgraham>
Yeah

[01:59:18.0000] <jgraham>
Ms2ger: Review is accepted (you should add your email address to get more spam ;)

[01:59:51.0000] <Ms2ger>
"It's not just good, it's good enough"?

[02:00:33.0000] <jgraham>
I believe that is what the kids are calling a "meme"

[02:00:43.0000] <zcorpan>
i wonder if i can get cssom back into public domain

[02:01:01.0000] <Ms2ger>
I guess you could start from Anne's last commit

[02:01:16.0000] <Ms2ger>
Not sure if anything useful happened to the spec since

[02:01:24.0000] <zcorpan>
yes, that would be my plan. but glenn still wants to be an editor

[02:01:37.0000] <Ms2ger>
jgraham, the "Merge Pull Request" button doesn't seem to work? :)

[02:01:52.0000] <jgraham>
Ms2ger: No, it doesn't work even slightly :)

[02:02:15.0000] <jgraham>
github permissions model = too complicated for me to understand

[02:03:19.0000] <jgraham>
(if anyone reading knows what Oauth permissions you have to request to get that to work, and, prefereably, can give me an example of a request that will make it work, please let me know)

[02:03:27.0000] <jgraham>
*oAuth

[02:03:32.0000] <jgraham>
OAuth?

[02:03:36.0000] <Ms2ger>
OAUTH?

[02:03:43.0000] <jgraham>
COBOL?

[06:05:39.0000] <SteveF>
hixie: re http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Feb/0172.html would be useful to get a response to this as current divergent definitions of <main>  between W3C and WHATWG are not helpful

[06:10:22.0000] <SteveF>
hixie: if the current lack of rationale, uses cases or data is not going to change then a simple heads up would suffice, thanks in advance :-)

[06:14:42.0000] <jgraham>
SteveF: "Authors must not include the main element as a child of an article, aside, footer, header or nav element" - you presumably mean "descendant" there

[06:15:12.0000] <SteveF>
jgraham: yes thanks will fix

[06:21:00.0000] <SteveF>
jgraham: fixed https://github.com/w3c/html/commit/2d051ef356814ea0432b2d0d1f9d09a2836b33c9

[06:22:28.0000] <jgraham>
zcorpan: You going to answer Art?

[06:22:36.0000] <jgraham>
SteveF: Thnks

[06:22:37.0000] <jgraham>
+a

[06:22:49.0000] <jgraham>
Not Web 2.0 anymore

[06:22:59.0000] <zcorpan>
jgraham: i don't even know which those files were

[06:23:06.0000] <zcorpan>
jgraham: i fixed bugs all over the place

[06:24:44.0000] <jgraham>
zcorpan: Presumably the hg history could tell you. I will look if you don't want

[06:25:17.0000] <zcorpan>
i'm in the middle of submitting the register tests :-P

[06:26:01.0000] <jgraham>
OK, I can do it, should only take a moment

[06:26:06.0000] <jgraham>
Although, hg, so who knows

[06:27:31.0000] <zcorpan>
jgraham: why does html-testsuite have an 'html' folder?

[06:27:33.0000] <Ms2ger>
Is binaryType-wrong-value.htm one of yours too?

[06:27:38.0000] <Ms2ger>
zcorpan, one per spec

[06:27:51.0000] <Ms2ger>
zcorpan, so html/microdata/canvas/...

[06:28:03.0000] <zcorpan>
-_-

[06:28:17.0000] <Ms2ger>
*shrug*

[06:28:40.0000] <Ms2ger>
We'll be adding folders for all the webapps specs soon enough too

[06:28:58.0000] <odinho>
Hence the talk about changing the name of html-testsuite to something more suitable.

[06:29:18.0000] <Ms2ger>
The issue is that darobin is lazy

[06:30:13.0000] <zcorpan>
now i need to check in which w3c spec register*handler is defined

[06:32:39.0000] <Ms2ger>
html/webappapis/system-state-and-capabilities/the-navigator-object

[06:33:20.0000] <zcorpan>
yep. thanks

[06:36:16.0000] <jgraham>
zcorpan: Email sent

[06:36:22.0000] <jgraham>
Are you on that list yet?

[06:36:53.0000] <zcorpan>
thanks. yes

[06:37:44.0000] <zcorpan>
though i hadn't read the emails there yet :-)

[06:43:38.0000] <zcorpan>
/me bbiab

[06:55:35.0000] <darobin>
yeah I'm one lazy sob

[06:55:40.0000] <darobin>
/me goes back to his nap

[06:58:47.0000] <Ms2ger>
/me kicks darobin awake

[06:59:13.0000] <darobin>
/me Zzzzzzz

[06:59:48.0000] <jgraham>
Ms2ger: Poor guy is sobbing already

[07:45:42.0000] <zcorpan>
jgraham: ok made a pull request for registerhandler

[07:46:03.0000] <jgraham>
zcorpan: Excellent

[07:47:56.0000] <Ms2ger>
The users assigned to review the changes on the review branch are:

[07:47:56.0000] <Ms2ger>
  Ms2ger

[07:47:56.0000] <Ms2ger>
  James Graham

[07:47:57.0000] <Ms2ger>
Crap

[07:48:03.0000] <jgraham>
Heh

[07:48:29.0000] <jgraham>
Well there is probably some policy that I can't review it :)

[07:49:11.0000] <jgraham>
/me unassigns himself from all files

[07:49:37.0000] <jgraham>
Need to get darobin and MikeSmith to recreate their accounts

[07:49:40.0000] <jgraham>
And tobie

[07:53:13.0000] <odinho>
The easiest review (what mozilla did for cors) is to look at every test you fail, and scrutinize the test to see if it is wrong. Sometimes it indeed is :-)

[07:53:44.0000] <gsnedders>
This is what normally happens unofficially.

[07:55:24.0000] <Ms2ger>
If Gecko fails it, of course it's wrong ;)

[08:26:36.0000] <zcorpan>
does "http://foo bar" fail to resolve according to the url standard?

[08:26:55.0000] <zcorpan>
i tried to step through the spec but got lost

[08:35:36.0000] <tobie>
jgraham: we're getting rid of such policies. There are others ways of addressing people gaming the system than slowing everything down for everyone.

[08:37:56.0000] <jgraham>
tobie: I still don't want to review the tests :)

[08:39:03.0000] <tobie>
Uhm.

[08:39:05.0000] <jgraham>
Review is hard and boring and no one is being apid to so it, so 14:54 < odinho> The easiest review (what mozilla did for cors) is to look at every test you fail, and scrutinize the  test to see if it is wrong. Sometimes it indeed is :-)

[08:39:09.0000] <jgraham>
14:55 < gsnedders> This is what normally happens unofficially.

[08:39:23.0000] <jgraham>
*paid

[08:39:44.0000] <tobie>
yeah. Let's all enjoy false positives.

[08:39:57.0000] <jgraham>
Well

[08:39:58.0000] <gsnedders>
Only if everybody falsey passes it.

[08:40:45.0000] <jgraham>
To be honest I would consider "everybody is actually running the tests" to be such a vast improvment over what ewe have today that I would take a few bad tests as a penalty

[08:40:56.0000] <tobie>
oh absolutely.

[08:40:56.0000] <jgraham>
s/ewe/we/

[08:40:57.0000] <tobie>
Me too.

[08:41:31.0000] <tobie>
I was genuinely embracing false positives. Not being snarky about it.

[08:41:34.0000] <tobie>
Well.

[08:41:39.0000] <tobie>
Only a bit.

[08:41:41.0000] <gsnedders>
I'd love a system run by the W3C that automatically ran tests on all currently available latest builds of browsers, and then you could flag up things where not everyone passes to look at.

[08:42:14.0000] <gsnedders>
But that'll require too much h/w to be practical, probably.

[08:42:24.0000] <tobie>
gsnedders: yes. something like that is being considered to help speedup reviewes.

[08:42:26.0000] <gsnedders>
Even just with one build of each browser per day.

[08:42:47.0000] <Ms2ger>
Maybe Microsoft can donate some servers :)

[08:42:53.0000] <gsnedders>
tobie: I'll start properly paying attention in May again. :P

[08:44:22.0000] <jgraham>
But let's estimate here. How fast can you review code? Well it depends I guess, but we could say something like 2-10 lines/ minute. So zcorpan just pushed something like 2-10 hours worth of review work.

[08:45:02.0000] <tobie>
gsnedders: just running the tests that have been touched by the commit should be relatively fast.

[08:45:12.0000] <jgraham>
Uh, lost a factor there somewhere

[08:45:22.0000] <Ms2ger>
More if you have to read the spec first ;)

[08:45:47.0000] <tobie>
also, the builds don't necessarily need to be running edge all the time.

[08:46:09.0000] <jgraham>
(3.5 - 18 hours)

[08:46:24.0000] <gsnedders>
tobie: Well, that assumes browsers don't regress. Which they do. Which could lead to ugly surprises when trying to get to PR.

[08:46:35.0000] <gsnedders>
(Or, rather, per-process, leave CR)

[08:46:40.0000] <jgraham>
Blah blah, trying to get to PR

[08:46:45.0000] <jgraham>
Not a goal.

[08:46:53.0000] <jgraham>
The only important goal is to get interop.

[08:46:55.0000] <Ms2ger>
^

[08:47:10.0000] <tobie>
I think there's a lot of agreement around that,

[08:47:23.0000] <tobie>
Also, the goal here is to help review the tests.

[08:47:30.0000] <Ms2ger>
Not at the W3C, there isn't

[08:47:31.0000] <jgraham>
The most important way to get that is to ensure that browsers themselves are running the tests as part of their ngihtly builds

[08:47:50.0000] <jgraham>
Or whatever other authomated regression testing they have

[08:48:09.0000] <jgraham>
That's the only surefire way to make them take regressions seriously

[08:48:15.0000] <Ms2ger>
Minions clicking through the tests

[08:48:36.0000] <Ms2ger>
/me waves at Microsoft

[08:48:40.0000] <tobie>
Ms2ger: W3C new testing effort is specifically targeted are looking being testing for rec track purposes.

[08:48:59.0000] <Ms2ger>
I have no idea what you just said

[08:49:03.0000] <tobie>
s/are/at/

[08:49:16.0000] <tobie>
well, no wonder.

[08:49:17.0000] <Ms2ger>
at looking being testing for rec track purposes?

[08:49:32.0000] <tobie>
combination of auto-correct + me badly needing a break.

[08:49:45.0000] <jgraham>
/me still doesn't understand either

[08:49:54.0000] <tobie>
I love that sentence.

[08:50:02.0000] <tobie>
"W3C new testing effort is specifically targeted are looking being testing for rec track purposes."

[08:50:08.0000] <tobie>
Should become my tagline.

[08:50:13.0000] <Ms2ger>
You do need a break :)

[08:50:25.0000] <Ms2ger>
Do I need to call plh to approve that? ;)

[08:50:56.0000] <tobie>
Let me try this again:

[08:51:01.0000] <jgraham>
Ms2ger: I thought you were timbl? You must be able to approve tobie's breaks

[08:51:23.0000] <tobie>
The plot thickens.

[08:51:36.0000] <hsivonen>
yay for the latest post on http://www.librevideo.org/blog/ being over two years old

[08:53:31.0000] <tobie>
W3C's new testing effort is specifically targeted to look beyond testing done strictly to move specs on the rec track.

[08:53:47.0000] <tobie>
still butchered english, but probably more understandable.

[08:54:00.0000] <tobie>
s/probably/hopefully/

[08:54:15.0000] <tobie>
evidently still in dire need of a break.

[08:54:16.0000] <jgraham>
I like that sentence more

[08:54:33.0000] <tobie>
it is more understable.

[08:54:36.0000] <tobie>
argggg

[08:54:47.0000] <tobie>
OK, I quit.

[08:54:52.0000] <Ms2ger>
Bye :)

[08:54:53.0000] <jgraham>
Under stable: below the horses?

[09:05:26.0000] <dglazkov>
good morning, Whatwg!

[09:24:42.0000] <aklein>
hsivonen: ping?

[10:13:38.0000] <annevk>
"I would appreciate if you will define term `event`. After that we can discuss it further." o_O

[10:14:14.0000] <annevk>
Oh man, and sicking cites dvcs.w3.org/hg/domcore

[10:42:02.0000] <annevk>
const DOMString product = "Gecko";

[10:45:47.0000] <annevk>
Oh, ES6 will define ArrayBuffer natively

[11:00:17.0000] <zewt>
annevk: are you reading that IDB thread? heh

[11:01:26.0000] <zewt>
(i recall that guy apparently thinks idb's use of events is a "proposal" and an "antipattern")

[11:05:16.0000] <annevk>
ojan_away: so is a problem with quasis that they require parsing twice or is that not actually the case?

[11:06:34.0000] <zewt>
annoying to see ArrayBuffer being used more and more; it's such a crappy, inconsistent API

[13:14:32.0000] <jgraham>
annevk: The problem with quasis aiui is that they are basically posh string interpolation

[13:15:39.0000] <jgraham>
In particular abarth argues that the default of `Hello {person}` being unsafe isn't good enough

[13:29:48.0000] <jgraham>
Although now I see more mail on that thread, so maybe I am missing some point

[13:47:00.0000] <annevk>
jgraham: but if a quasi will always be just a string, even after having it applied, then you need to effectively parse the thing twice before you get what you want which seems silly

[13:53:08.0000] <jgraham>
annevk: Yeah. But I think sicking suggested that html`stuff` would return a DOM tree

[13:53:26.0000] <jgraham>
I am not exactly sure how that's supposed to work

[15:40:11.0000] <dglazkov>
Hixie: can you help me find where the in the spec the <script> elements don't run or fetch in documents without browsing contexts?

[15:40:39.0000] <dglazkov>
Hixie: need your expertise :)

[15:41:41.0000] <Hixie>
yeah one sec

[15:41:42.0000] <Hixie>
/me looks

[15:44:31.0000] <Hixie>
dglazkov: step 11 of the <script> element "prepare a script" algorithm

[15:51:33.0000] <dglazkov>
\o/

[16:00:03.0000] <Hixie>
hmmm

[16:00:19.0000] <Hixie>
i just noticed that as specified, addTextTrack() is also WebVTT-specific

[16:00:22.0000] <Hixie>
that's interesting

[16:02:06.0000] <rillian>
isn't it?

[16:05:43.0000] <Hixie>
/me fixes

[16:11:29.0000] <Hixie>
there

[16:49:55.0000] <esprehn>
Hixie: can I get an account on http://wiki.whatwg.org/ ?

[16:51:23.0000] <Hixie>
sure

[16:51:24.0000] <Hixie>
e-mail?

[16:52:51.0000] <esprehn>
my handle @gmail.com is fine

[16:53:36.0000] <Hixie>
done


2013-03-12
[17:25:39.0000] <esprehn>
thanks!

[17:48:18.0000] <manu1>
Hixie: There has been some concern raised that the "datetime" attribute for the <time> element has been renamed to "dateTime". I'm trying to verify that this isn't true, and that the HTML <time> element has a content attribute called "datetime" (all lower-case). The HTMLTimeElement DOM interface has an IDL attribute called "dateTime". What's the likelihood of the content attribute being...

[17:48:19.0000] <manu1>
...changed to "dateTime" (I'd hope the answer is almost no chance)?

[17:50:38.0000] <tantek>
manu1 - citation?

[17:51:27.0000] <Hixie>
manu1: no need to ask me, you can just check the spec. :-)

[17:51:38.0000] <Hixie>
manu1: if the spec is ambiguous about this though, please do let me know so I can clarify it

[17:51:43.0000] <manu1>
Hixie: Thanks, that's the answer I was hoping for...

[17:51:50.0000] <manu1>
tantek: http://lists.w3.org/Archives/Public/public-rdfa-wg/2013Mar/0013.html

[17:53:02.0000] <tantek>
manu1 - I don't see a reference to HTML5 / time in that email

[17:53:24.0000] <Hixie>
that is a very confused-looking e-mail

[17:53:30.0000] <tantek>
and the second reference, to XHTML Modularization - is fairly irrelevant as XHTML Modularization / XHTML 1.1 etc. is a dead-end and ignorable.

[17:54:16.0000] <Hixie>
and the first is to a 14+ year old spec...

[17:54:31.0000] <Hixie>
which doesn't have <time>...

[17:55:20.0000] <Hixie>
manu1: if that e-mail quotes the rdf spec correctly, though, it's very wrong

[17:55:24.0000] <Hixie>
manu1: the rdf spec, that is

[17:55:50.0000] <Hixie>
manu1: processing for <time> is defined in the HTML spec and it is not what that quote says

[17:56:14.0000] <manu1>
Hixie, tantek: There are a number rumors combined to make it seem like <time> in HTML5 is not stable... it's led to a couple of really strange readings of specs. I'm trying to dispel those rumors.

[17:57:13.0000] <manu1>
Hixie, tantek: We're just trying to nail down HTML+RDFa 1.1 and it's processing of the <time> element, specifically "datetime"... and some folks are claiming that <time datetime=""> isn't stable because of <insert rumor here>.

[17:58:00.0000] <manu1>
Hixie, tantek: I'm just trying to make the case that <time> is stable, as is "datetime"...

[17:58:48.0000] <manu1>
Hixie: It is somewhat strange that the IDL attribute is "dateTime" and the content attribute is "datetime" - but those haven't changed in years, right?

[17:59:24.0000] <manu1>
(as in, I don't really care if one is camel-case and the other is not... I can see the argument to camel-case the DOM interface IDL attribute")

[17:59:41.0000] <manu1>
in any case, I think I have my answer... thanks Hixie, tantek. :)

[18:00:22.0000] <Hixie>
well the <time> element we have now isn't the one we had a few years ago

[18:00:27.0000] <Hixie>
but that changed a while back

[18:00:38.0000] <Hixie>
i don't know if the IDL changed on <time> recently

[18:00:46.0000] <Hixie>
but that doesn't seem relevant to RDF :-)

[18:00:54.0000] <Hixie>
what _is_ relevant is how you parse the attribute

[18:01:00.0000] <manu1>
/me nods, exactly.

[18:01:06.0000] <Hixie>
that should refer to "datetime value"

[18:01:34.0000] <Hixie>
and more specifically, to the "machine-readable equivalent of the element's contents"

[18:01:40.0000] <Hixie>
which defines precise steps to parse the attribute

[18:01:50.0000] <Hixie>
you should never refer to the <time> element's datetime="" attribute directly

[18:01:55.0000] <Hixie>
that's a layering violation

[18:02:52.0000] <manu1>
ahh, good point. Will update the spec with that language.

[18:03:44.0000] <Hixie>
ah, looks like the IDL for <time> did change recently

[18:03:53.0000] <Hixie>
to match the old <ins> and <del> IDLs

[18:04:00.0000] <Hixie>
which use dateTime

[18:04:39.0000] <manu1>
that must have been what folks got up in arms about... but I think they mis-read that as the content attribute changing...

[18:05:17.0000] <Hixie>
yeah i don't understand what confluence of misunderstandings could result in the e-mail you cited

[18:05:45.0000] <Hixie>
given that <time> is new, the IDL attribute on <ins> and <del> was always dateTime, that the IDL attribute and the content attribute are separate, given what the spec says, etc

[18:06:00.0000] <GPHemsley>
something datetime became dateTime recently

[18:06:07.0000] <GPHemsley>
not sure if it was the IDL, though

[18:06:49.0000] <GPHemsley>
but it was for <time>

[18:09:45.0000] <manu1>
GPHemsley: you're killing me. :) - was the W3C spec changed and not the HTML Living Standard?

[18:10:09.0000] <Hixie>
ignore GPHemsley, just look at the specs

[18:10:13.0000] <Hixie>
#whatwg is not normative

[18:12:15.0000] <manu1>
Hixie, GPHemsley: Yeah, just verified, it was the IDL attribute that changed... http://www.w3.org/TR/html5/text-level-semantics.html#the-time-element

[18:12:26.0000] <manu1>
that's all I needed, thanks again Hixie, tantek, GPHemsley :)

[18:12:27.0000] <Hixie>
good lord, don't quote the TR/ version

[18:12:34.0000] <Hixie>
that's months old

[18:13:22.0000] <GPHemsley>
Hixie recently made the change to the WHATWG version

[18:13:32.0000] <GPHemsley>
can't speak for anything else

[18:13:37.0000] <GPHemsley>
just acting as a memory jogger :)

[18:15:00.0000] <manu1>
Okay, well the latest W3C HTML 5.1 Nightly still has the IDL interface attribute as "datetime": http://www.w3.org/html/wg/drafts/html/master/text-level-semantics.html#the-time-element

[18:15:24.0000] <manu1>
I just need to point to something recent and show that the content attribute "datetime" hasn't changed...

[18:16:31.0000] <manu1>
scratch that, the W3C HTML 5.1 nightly has it as "dateTime" - had to refresh my browser cache to see it. :(

[18:16:52.0000] <manu1>
(has the IDL interface attribute as "dateTime" that is... nothing to see here, moving on)

[18:17:17.0000] <Hixie>
i highly recommend just using the whatwg spec.

[18:18:57.0000] <manu1>
/me will.

[01:25:18.0000] <jgraham>
Agenda: caniusecaniuse?

[02:38:45.0000] <zcorpan_>
<input type=month> for credit card input? seriously? i'd hate a calendar when trying to enter my cc details

[02:39:23.0000] <zcorpan_>
i just want a text field so i can type the numbers

[03:01:19.0000] <Garbee>
zcorpan_, So use type=number

[03:02:02.0000] <zcorpan_>
Garbee: number is not appropriate

[03:04:22.0000] <Garbee>
Depends on how you're taking the input.

[03:04:41.0000] <Garbee>
If you want a month, you can set it to number and have min=1 and max=12. That would cover it.

[03:04:49.0000] <Garbee>
For just a month input.

[03:05:28.0000] <Ms2ger>
Not sure if you'd want up/down buttons for a month

[03:07:09.0000] <Garbee>
Then a simple select from options.

[03:07:38.0000] <Garbee>
Point is, type=month is not the only way to get a valid month value in a form.

[03:08:22.0000] <zcorpan_>
Garbee: indeed

[03:11:57.0000] <Garbee>
Although, I don't think type=month should be displaying a full calendar.

[03:12:16.0000] <Garbee>
I think it should show a list of month names (somehow) localized to the pages language.

[03:12:34.0000] <Garbee>
A full calendar to get a month is overkill imho.

[03:14:14.0000] <zcorpan_>
Garbee: <input type=month> takes year+month as input

[03:15:34.0000] <Garbee>
Why not have type=year secondary? That is tricky.

[03:17:14.0000] <Garbee>
still, a full calendar for month and year is still overkill.

[03:17:40.0000] <Garbee>
Days are completely irrelevant, just adding clutter to the interface (possibly also confusing people.)

[03:47:31.0000] <annevk>
Hmm, so cvs is installed on my laptop... Damn, I was gonna use that as an excuse

[03:48:51.0000] <odinho>
lolwut

[03:54:06.0000] <marcosc>
annevk: just delete the cvs executable. Problem solved.

[03:57:27.0000] <annevk>
zcorpan_: ideally <input type=month> has some set of bindings, one of which makes sense for credit card entry

[03:58:18.0000] <zcorpan_>
annevk: sounds like overengineering for a minor use case

[03:58:46.0000] <annevk>
zcorpan_: if bindings will be complicated, maybe, but hopefully they won't

[03:59:00.0000] <annevk>
also, credit card entry is pretty common

[03:59:12.0000] <zcorpan_>
yes

[03:59:22.0000] <annevk>
for each device sold it'll happen a couple of times typically, sounds like something you want to optimize for

[03:59:27.0000] <zcorpan_>
being common doesn't necessarily mean there's a problem to solve :-)

[04:00:02.0000] <annevk>
on phones I wouldn't want a full keyboard for those inputs for instance

[04:00:18.0000] <annevk>
selecting the month and year would be much quicker typically

[04:00:26.0000] <annevk>
or giving numeric input

[04:02:06.0000] <zcorpan_>
entering cc card info is something i'd optimize for, but the year/month part is just a small part of the whole thing. i'd start with thinking about what i want the optimal interface should be for entering everything

[04:02:49.0000] <zcorpan_>
i'd prefer if i didn't have to type it in at all

[04:03:20.0000] <zcorpan_>
anyway

[04:17:58.0000] <matjas>
zcorpan_: congrats!

[04:18:19.0000] <zcorpan_>
matjas: what for?

[04:40:21.0000] <annevk>
Hmm, being able to set referrer source to a Document has probably introduced a bug in XMLHttpRequest

[04:40:35.0000] <annevk>
So maybe Hixie's abstraction is not a good idea...

[04:43:15.0000] <annevk>
Of course, XHR's decoupling of fetch metadata and running the fetching steps is also not great, but that was already there...

[05:05:40.0000] <zcorpan_>
http://www.w3.org/mid/F9981AFB970564408FEB7DFCF62D44084711FD64‚äôPTc seems interesting

[05:21:16.0000] <annevk>
People have been saying stuff like that for years

[05:31:08.0000] <karlcow>
about biblio db?

[05:35:40.0000] <annevk>
About the "common database"

[05:36:33.0000] <annevk>
Is anything other than CSP touching the fetch algorithm?

[05:36:50.0000] <annevk>
I should have reviewed CSP earlier on :-(

[05:37:04.0000] <annevk>
/me was kinda hoping it'd go away

[05:47:14.0000] <karlcow>
reliability, independence, distributed, interoperability, communities of interests, ‚Ä¶ blablablah :)

[06:08:45.0000] <annevk>
Reads like your average Twitter bio

[07:00:29.0000] <darobin>
zcorpan_: I have a prototype implementation for the shared ref db thing

[07:00:36.0000] <darobin>
I'm working on docs, tests, and deployment now

[07:03:08.0000] <zcorpan_>
darobin: cool

[07:07:47.0000] <darobin>
zcorpan_: the code's at https://github.com/w3c/the-library/ and https://github.com/darobin/couth in case you're interested

[07:07:55.0000] <darobin>
but it's not really ready for prime time just yet

[07:08:25.0000] <zcorpan_>
darobin: WHAT DO YOU MEAN IT'S NOT READY!?

[07:09:17.0000] <darobin>
zcorpan_: I mean there are no docs for wusses like you ‚Äî other than that it works :)

[07:09:32.0000] <zcorpan_>
ah, excellent

[07:14:04.0000] <hsivonen>
Is there a public list of W3C Members with dates of joining?

[08:50:43.0000] <dglazkov>
good morning, Whatwg!

[08:57:53.0000] <annevk>
hsivonen: don't think so

[08:58:10.0000] <annevk>
dglazkov: whoa, early today

[09:14:40.0000] <annevk>
hsivonen: http://www.guardian.co.uk/technology/blog/2013/mar/12/tim-berners-lee-drm-cory-doctorow is relevant to your interests

[09:14:59.0000] <annevk>
maybe also manu-db ^^

[09:21:25.0000] <SteveF>
annevk: clocks have gone back stateside...

[09:21:57.0000] <annevk>
SteveF: :-)

[09:52:12.0000] <dglazkov>
annevk: Daylight Zombie Time

[10:01:19.0000] <annevk>
MikeSmith: how would you feel about public-whatwg-bugs?

[10:01:51.0000] <annevk>
MikeSmith: my use case is getting a summary of newly filed bugs against WHATWG components on a page somewhere

[10:10:52.0000] <manu-db>
/me snickers at "A Web built on the urinary tract infection business model"... re: Doctorow / Berners-Lee blog post above from annevk

[10:13:51.0000] <manu-db>
annevk: Great article, thanks. I was a bit baffled to see Tim so supportive of the EME spec. I honestly think that the only way something "good" is going to come out of this is if an open DRM" scheme is proposed and implemented.

[10:14:08.0000] <manu-db>
(and even in that case, bleh...)

[10:17:15.0000] <annevk>
uhuh

[10:24:10.0000] <jgraham>
Guardian needs a "share on irc" button at the bottom of the article

[10:25:33.0000] <manu-db>
For those that haven't heard yet - the new SimCity game (which is pretty awesome, except for the "you must be online at all times DRM") has a /lot/ of JavaScript and is built on a custom version of WebKit: https://twitter.com/MaxisScott/status/310835756107177984

[10:26:27.0000] <manu-db>
Electronic Arts is starting to do this with a ton of their games... might be a pre-cursor to jumping directly to HTML5+Canvas+WebGL (warning: wild speculation)

[10:26:28.0000] <gavinc>
Eh, I don't think it's DRM at that point so much as a network connected single player game of stupid. DRM doesn't break nearly as badly Sim City seems to be

[10:26:52.0000] <manu-db>
potato, potatoe

[10:26:54.0000] <manu-db>
:)

[11:40:31.0000] <annevk>
@tc39memes, finally

[11:41:29.0000] <marcosc>
:)

[11:41:35.0000] <wilhelm>
Hah.

[11:41:37.0000] <Ms2ger>
var let, eh

[11:52:15.0000] <slightlyoff>
annevk: I really wish people were honest about DRM: it's just a word for "crypto I don't like"

[11:52:59.0000] <annevk>
slightlyoff: if it was just crypto there wouldn't be a black box

[11:53:05.0000] <slightlyoff>
also, someone citing some evidence instead of conjecture about incentives would be hugely refreshing

[11:53:10.0000] <slightlyoff>
annevk: that's absolutely not true

[11:53:59.0000] <annevk>
slightlyoff: the web crypto stuff is not requiring a non-portable black box

[11:54:00.0000] <slightlyoff>
I don't love DRM, but I hate shit arguments for causes I like even more

[12:35:20.0000] <zewt>
that isn't at all what drm is

[12:36:16.0000] <zewt>
there are plenty of ways to define drm ("crypto designed to restrict the end user", "crypto designed to trigger laws against circumventing copy protection mechanisms"), but they're all much more specific than that

[13:15:28.0000] <karlcow>
drm = digital RIGHTS management

[13:16:07.0000] <karlcow>
but it became a suitcase word for many things.

[13:17:06.0000] <karlcow>
so only chaotic discussions can exist.

[13:17:47.0000] <karlcow>
acronym for a few other things too ‚ò∫ https://en.wikipedia.org/wiki/Drm

[13:18:38.0000] <karlcow>
hmm I like this one https://en.wikipedia.org/wiki/Digestive_rate_model

[13:18:54.0000] <karlcow>
Digestive Rate Model of the entertainment industry

[13:19:22.0000] <annevk>
Ms2ger: added Abstract/Goals to http://html5.org/temp/fetch.html

[13:19:48.0000] <Ms2ger>
Crap, now I guess I get to read it

[13:20:08.0000] <Ms2ger>
/me puts that at the end of his todo list

[13:20:14.0000] <annevk>
Ms2ger: not entirely done yet I guess, though I'm not sure how to classify unifying the error handling and redirecting model and such

[13:20:22.0000] <annevk>
Ms2ger: sure sure

[13:21:32.0000] <annevk>
/me is enjoying the E4H exchange

[13:22:07.0000] <marcosc>
yeah, that's been pretty good actually

[13:23:42.0000] <marcosc>
/me chews popcorn loudly ... imagines a world where there are no movies, but only dramas over on ES Discuss 

[13:27:59.0000] <karlcow>
:)

[13:41:29.0000] <jgraham>
marcosc: Wait, what do you mean "imagines"?

[13:43:17.0000] <marcosc>
:)

[13:53:13.0000] <zewt>
karlcow: drm has nothing to do with "rights management"; don't be confused into thinking abbreviations invented for purposes of spin have anything to do with the words they're comprised of

[13:54:17.0000] <karlcow>
and here we come. :)

[13:54:26.0000] <karlcow>
QED

[13:54:39.0000] <zewt>
...

[13:56:38.0000] <jsbell>
dang, wasn't subscribed to public-script-coord, I was missing out. I'd figured E4H was dead ages ago. This *is* good popcorn.

[14:00:42.0000] <zewt>
sadness: img.complete has no corresponding query for a failed load

[14:01:33.0000] <zewt>
so I can reliably tell if an image has successfully loaded, but detecting a failed load is much less reliable

[14:09:43.0000] <jgraham>
karlcow: To be fair the alternative expansion "digital restrictions management" is more accurate from the end user's point of view

[14:10:40.0000] <karlcow>
jgraham: agreed in the cultural context it has been used by the industry.

[14:12:31.0000] <karlcow>
And it's exactly my (own personal) issue with the system.

[14:13:03.0000] <internaut_jack>
Think I found a bug in Chrome with contenteditable attribute.  Someone willing to validate for me?

[14:14:35.0000] <zewt>
(my issues with DRM are 1: that it often exists only to trigger anti-consumer laws, and 2: that it often involves embedding things into the user's own hardware, and having parts of my own property which are designed to act for somebody else's interest and explicitly against my own is exceptionally offensive)

[14:14:56.0000] <jgraham>
internaut_jack: Post a testcase and someone will look, I expect

[14:18:30.0000] <karlcow>
hmm‚Ä¶ hesitating to reply to zewt.

[14:18:40.0000] <karlcow>
/me thinking

[14:20:15.0000] <karlcow>
Train of thoughts goes from cultural artifacts, embodiments of expression, copyright laws, economy of objects, etc. Before even touching the stinky bag of DRM.

[14:24:00.0000] <karlcow>
(dangerous) summary: For example, in the case of the book, you are never the owner of a text you have bought, you own the physical object which is the support of the text. (except if you have written it (: )

[14:25:27.0000] <Hixie>
sweet, an in-the-wild sighting of <progress>!

[14:25:29.0000] <Hixie>
/me does a little dance

[14:25:41.0000] <zewt>
books don't come with a self-destruct mechanism that goes off if i do something the publisher doesn't like

[14:26:16.0000] <zewt>
Hixie: so there's been ... progress progress

[14:29:10.0000] <karlcow>
zewt: agreed but unrelated. :)

[14:29:25.0000] <internaut_jack>
jgraham, Here's the test case: http://jsfiddle.net/wtJVd/8/

[14:29:25.0000] <zewt>
no less related than books, heh

[14:29:33.0000] <ashemedai>
Still not sure if this is Adobe messing up or Chrome: https://bugbase.adobe.com/index.cfm?event=bug&id=3517618  :\

[14:29:45.0000] <internaut_jack>
Hixie, this is a working test case for events in chrome that label elements aren't firing properly:

[14:29:46.0000] <internaut_jack>
http://jsfiddle.net/wtJVd/8/

[14:29:49.0000] <asmodai>
(So reported to both :P )

[14:30:01.0000] <internaut_jack>
Hixie, from our conversation yesterday

[14:31:08.0000] <Hixie>
internaut_jack: looking

[14:31:31.0000] <Hixie>
internaut_jack: what am i looking for here?

[14:31:55.0000] <internaut_jack>
Hixie, There are two elements: a div and a label, both contenteditable.

[14:31:56.0000] <Hixie>
internaut_jack: oh you're saying keyboard events get redirected

[14:31:58.0000] <Hixie>
i see

[14:32:10.0000] <internaut_jack>
Hixie, The label element doesn't fire the events I've listed properly

[14:32:16.0000] <internaut_jack>
Hixie, EXCEPT for the 'input' event

[14:32:38.0000] <internaut_jack>
Hixie, Open your console, and you'll see the ones that get fired and where the label element doesn't report them.

[14:33:21.0000] <zewt>
except all the logs are "true", which is a bit hard to tell apart, heh

[14:33:42.0000] <internaut_jack>
zewt, Yes, but you can change 'em to whatever.

[14:33:55.0000] <internaut_jack>
Point is that they *don't* fire for the label element.

[14:36:20.0000] <internaut_jack>
Updated with more verbose logging: http://jsfiddle.net/wtJVd/10/

[14:36:44.0000] <Hixie>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2160

[14:36:45.0000] <Hixie>
yeah

[14:36:45.0000] <Hixie>
weird

[14:38:07.0000] <internaut_jack>
Hixie, I'm getting some errors on that page you linked.

[14:40:39.0000] <Hixie>
what errors?

[14:41:05.0000] <Hixie>
(yeah, firefox is acting rationally. don't know what's up with chrome.)

[14:45:27.0000] <karlcow>
zewt: to be clearer, before DRM, I have an issue with copyright laws ;)

[14:46:47.0000] <karlcow>
And in a French context even more, not possible to put your own work in public domain. Legal silliness. :)

[14:53:36.0000] <internaut_jack>
Hixie, page doesn't load properly, get these in console:

[14:53:43.0000] <internaut_jack>
Uncaught RangeError: Maximum call stack size exceeded

[14:53:43.0000] <internaut_jack>
Could not send response: Cannot send a response more than once per chrome.extension.onRequest listener per document (message was sent by extension oiaejidbmkiecgbjeifoejpgmdaleoha). miscellaneous_bindings:124

[14:53:43.0000] <internaut_jack>
Uncaught RangeError: Maximum call stack size exceeded

[14:53:48.0000] <internaut_jack>
In Chrome

[14:54:20.0000] <zewt>
looks like an extension problem, not to state the obvious

[14:57:48.0000] <internaut_jack>
zewt, Yes, but whatever that page depends on also breaks, putting this into the log:

[14:57:48.0000] <internaut_jack>
error: Uncaught RangeError: Maximum call stack size exceeded on line 90

[14:57:49.0000] <internaut_jack>
rendering mode: BackCompat

[14:57:49.0000] <internaut_jack>
document has no title

[14:59:32.0000] <Hixie>
internaut_jack: o_O

[14:59:40.0000] <Hixie>
internaut_jack: sounds like you have some sort of broken extension that's messing with the page

[15:00:45.0000] <internaut_jack>
Hixie, still get these in the log using incognito, with no extensions:

[15:00:46.0000] <internaut_jack>
rendering mode: BackCompat

[15:00:46.0000] <internaut_jack>
document has no title

[15:02:18.0000] <zewt>
(i sure hope no browser is actually wasting people's time warning about a lack of title, heh)

[15:36:05.0000] <Hixie>
internaut_jack: yeah, you should get those, that's part of the info the live dom viewer reads out

[15:42:18.0000] <internaut_jack>
https://bugs.webkit.org/show_bug.cgi?id=112201

[15:42:21.0000] <internaut_jack>
For those interested

[16:43:46.0000] <karlcow>
nooooooo "Polyglot: the final thread?"

[16:44:15.0000] <karlcow>
pushing slightlyoff on the edge of the final final final frontier of the universe ;)


2013-03-13
[01:52:55.0000] <zcorpan>
jgraham: hmm. seems like the introduction of transferrable changed the semantics of postMessage(string, '*', []) such that the event.data is an object rather than a string...

[01:54:04.0000] <jgraham>
zcorpan: Oh, so we have lots more updating to do?

[01:54:16.0000] <jgraham>
I started looking at your latest batch of changes

[01:55:48.0000] <zcorpan>
maybe. i don't like the current situation with almost identical tests, maybe i should just kill the "with ports" ones and add a few tests that do more interesting things with ports and transferables

[01:56:11.0000] <zcorpan>
i just don't understand where the object comes from, in the spec

[02:05:22.0000] <zcorpan>
jgraham: wait, does testharness send message events to the test case?

[02:06:03.0000] <zcorpan>
argh!

[02:06:08.0000] <jgraham>
zcorpan: Er, yeah, as of recently it does :(

[02:06:15.0000] <zcorpan>
why

[02:06:19.0000] <zcorpan>
and can i disable it

[02:06:37.0000] <jgraham>
tobie needed it. I dont remember why

[02:06:46.0000] <jgraham>
I should have thought of this at the time :(

[02:06:51.0000] <zcorpan>
it should be opt-in

[02:07:12.0000] <jgraham>
Well, the problem is that it's for running the tests in a harness

[02:07:33.0000] <jgraham>
Making it opt-in doesn't make sense

[02:07:44.0000] <zcorpan>
ah

[02:07:47.0000] <jgraham>
(at least I think that's why)

[02:08:32.0000] <zcorpan>
sigh

[02:09:12.0000] <jgraham>
Sorry

[02:09:16.0000] <zcorpan>
it just shouldn't send the events to the page itself

[02:09:25.0000] <zcorpan>
it can send events to parents and openers, fine

[02:09:41.0000] <tobie>
hey

[02:11:06.0000] <jgraham>
tobie: http://krijnhoetmer.nl/irc-logs/whatwg/20130313#l-251

[02:11:19.0000] <tobie>
yes, just went through the logs

[02:11:38.0000] <tobie>
have to go back through the code.

[02:11:52.0000] <zcorpan>
forEach_windows i guess

[02:12:21.0000] <jgraham>
YEah, it is possible to stop it sending events to the test window itself. I just wonder if anything depends on that

[02:12:44.0000] <jgraham>
I think we might have to and fix the dependencies

[02:12:56.0000] <jgraham>
This is way too much of a sharp edge

[02:12:59.0000] <zcorpan>
s/cache = [[self, true]];/cache = [];/ ?

[02:13:55.0000] <jgraham>
No, we can't change it there

[02:14:10.0000] <jgraham>
The callbacks on the same window should still work

[02:15:11.0000] <jgraham>
I think the right fix is s/if(supports_post_message(w))/if(supports_post_message(w) && w !== self)/g

[02:15:17.0000] <tobie>
yes

[02:15:21.0000] <tobie>
in all three places.

[02:15:21.0000] <zcorpan>
yeah

[02:15:49.0000] <zcorpan>
tobie: can you fix it?

[02:16:09.0000] <tobie>
sure. Is the canonical repo still the hg one?

[02:16:21.0000] <jgraham>
No, it's the github one

[02:16:23.0000] <jgraham>
I think

[02:16:33.0000] <tobie>
the testharness one?

[02:16:38.0000] <tobie>
or the html suite one?

[02:16:54.0000] <zcorpan>
the testharness one

[02:16:55.0000] <jgraham>
The testharness os gets synced to /resources/ on w3c-test.org

[02:17:09.0000] <jgraham>
And it is the canonical testharness.js repo. as far as I'm concerned

[02:17:31.0000] <jgraham>
It's the one hooked up to critic, for example ;)

[02:17:44.0000] <zcorpan>
should we kill the other testharnesses?

[02:18:08.0000] <tobie>
yes please.

[02:19:18.0000] <tobie>
w !== self or w !== window? (I can't remember the difference between the two)

[02:19:56.0000] <jgraham>
self === window

[02:20:03.0000] <jgraham>
Gotta love the DOM

[02:21:08.0000] <tobie>
is it always the case?

[02:21:39.0000] <tobie>
isn't self different within frames or something?

[02:21:40.0000] <jgraham>
http://www.whatwg.org/specs/web-apps/current-work/multipage/browsers.html#dom-self

[02:21:55.0000] <tobie>
Man, I'm getting rusty.

[02:33:47.0000] <tobie>
zcorpan: sorry, weird rebasing issues.

[02:38:13.0000] <tobie>
jgraham, zcorpan: https://github.com/w3c/testharness.js/pull/12/files

[02:39:01.0000] <tobie>
Turns out these weren't weird rebasing issues, but that the PR was automatically done against jgraham's repo (not uptodate) rather than mine.

[02:39:11.0000] <tobie>
s/mine/w3c's/

[02:39:36.0000] <zcorpan>
tobie: thanks

[02:40:10.0000] <tobie>
yet another sign we should probably clarify what the canonical repo is.

[02:41:02.0000] <jgraham>
yeah, apparently I need to email github or something to get testharness.js root to be the W3C copy

[02:41:11.0000] <tobie>
(jgraham you'll need to update your repo, delete W3C's and then transfer yours). Will probably break a number of things in the process.

[02:41:22.0000] <jgraham>
It would be nice if they had UI for it

[02:41:32.0000] <tobie>
they do.

[02:41:35.0000] <tobie>
In admin tools.

[02:41:39.0000] <jgraham>
odinho claimed that an email would be enough

[02:42:14.0000] <tobie>
I doubt it given they have UI for it.

[02:42:33.0000] <tobie>
but who knows.

[02:42:49.0000] <jgraham>
They have UI to solve a different problem

[02:42:57.0000] <jgraham>
AFAICT

[02:43:20.0000] <zcorpan>
now my test passes

[02:43:40.0000] <tobie>
zcorpan: awesome.

[02:43:44.0000] <odinho>
I claimed and it was correct :-)

[02:43:55.0000] <jgraham>
odinho: Who do I mail?

[02:44:00.0000] <odinho>
I did it for another project. T'was easy.  support‚äôgc

[02:44:56.0000] <odinho>
tobie: No UI for changing roots :-)

[02:45:11.0000] <odinho>
tobie: Although you can hack around it like you suggest. But hacky hacky.

[02:45:29.0000] <tobie>
yeah, hacky. hacky.

[02:45:50.0000] <tobie>
But you're both right. The problem is a different one.

[02:46:05.0000] <tobie>
And changing root is the way to go about it.

[02:46:58.0000] <jgraham>
OK, email sent

[02:51:48.0000] <tobie>
Nice.

[02:52:28.0000] <annevk>
/me hopes Fake Alex wakes up soon

[02:57:45.0000] <jgraham>
And real Alex stays asleep?

[03:06:18.0000] <zcorpan>
wonder what to do with data: and same-origin. should we change the spec there?

[03:06:47.0000] <zcorpan>
chrome's behavior is kinda annoying

[03:07:07.0000] <jgraham>
Chrome's behaviour is super-annoying

[03:07:21.0000] <jgraham>
They should really fix that

[03:13:00.0000] <annevk>
zcorpan: http://html5.org/temp/fetch.html treats data as same-origin

[03:13:08.0000] <annevk>
zcorpan: about/blob too

[03:13:25.0000] <zcorpan>
jgraham: i think i'm done now (if you were waiting for things to settle before reviewing)

[03:13:43.0000] <jgraham>
zcorpan: OK

[03:13:45.0000] <zcorpan>
annevk: ok

[03:13:52.0000] <jgraham>
I was reviewing something else

[03:13:53.0000] <annevk>
zcorpan: I expect all specs to use that algorithm eventually so the same type of URLs work in similar places

[03:14:09.0000] <jgraham>
And feeling vaugely bad about doing so much code review :(

[03:14:18.0000] <jgraham>
https://github.com/w3c/testharness.js <- spot the difference

[03:14:29.0000] <zcorpan>
jgraham: heh. you should delegate more :-)

[03:14:57.0000] <zcorpan>
nice!

[03:30:05.0000] <tobie>
wow. That was fast.

[03:38:52.0000] <zcorpan>
ok next up is workers

[03:41:27.0000] <jgraham>
tobie: Did you just do something to the branch you created for the fixpostmessage pr?

[03:41:38.0000] <odinho>
Cool. :-)

[03:41:58.0000] <tobie>
jgraham: yes, deleted it. why?

[03:42:32.0000] <jgraham>
tobie: OK. Critic tried to update the branch and gave me an error message

[03:43:03.0000] <tobie>
Update on my repo?

[03:43:18.0000] <jgraham>
No, update in its local repo

[03:43:22.0000] <tobie>
oh.

[03:43:58.0000] <jgraham>
Probably just need to teach it to stop tracking branches that don't exist upstream anymore

[03:44:12.0000] <jgraham>
(it might even already do that after a while)

[04:18:11.0000] <annevk>
Man, "referrer source" is such a pain

[04:32:22.0000] <annevk>
SimonSapin: so I think what I need from http://simonsapin.github.com/data-urls/ is that it either returns failure or a MIME type and data

[04:33:40.0000] <SimonSapin>
annevk: makes sense

[04:33:53.0000] <SimonSapin>
Returning a "response" with a Content-Type header is not a thing?

[04:34:23.0000] <annevk>
SimonSapin: that's what I'm building out of that

[04:34:34.0000] <SimonSapin>
MIME type, with parameters

[04:34:51.0000] <annevk>
SimonSapin: refresh http://html5.org/temp/fetch.html

[04:34:58.0000] <SimonSapin>
I think we already had that discussion ‚Ä¶ (what is called a mime type)

[04:35:30.0000] <annevk>
yeah including parameters

[04:35:48.0000] <annevk>
whatever you want to call that

[04:36:32.0000] <SimonSapin>
I don‚Äôt really care how it‚Äôs called, as long as it‚Äôs defined somewhere

[04:37:12.0000] <annevk>
agreed :-)

[04:37:31.0000] <annevk>
I think GPHemsley is defining MIME type terminology

[04:37:54.0000] <darobin>
we could just call them GPHemsleys then

[04:38:07.0000] <annevk>
SimonSapin: in any event, the second instance of "data" (including quotes) on that page invokes your algorithm

[04:38:26.0000] <annevk>
SimonSapin: it's not entirely correct yet as it should probably queue a bunch of a tasks rather than simply returning the response

[04:39:11.0000] <SimonSapin>
well, what I have for data: at this point is more a list of issues than an algorithm :)

[04:42:46.0000] <SimonSapin>
annevk: for now I suppose you can write "‚Ä¶ whose value is the MIME type and parameters returned from ‚Ä¶"

[04:43:44.0000] <annevk>
k

[04:45:20.0000] <darobin>
mmm, we'd said web-platform-tests for the new repo name, right? tobie?

[04:45:32.0000] <darobin>
jgraham? --^

[04:45:34.0000] <annevk>
why not "tests"?

[04:45:49.0000] <darobin>
please let's not bikeshed AGAIN

[04:47:07.0000] <jgraham>
darobin: yes

[04:47:12.0000] <darobin>
ok, ta jgraham

[04:47:30.0000] <jgraham>
zcorpan: Did you delete your html-testsuite repository on github?

[04:47:34.0000] <darobin>
if you want to bikeshed with annevk, you have about 90 seconds before something happens

[04:47:58.0000] <zcorpan>
jgraham: yeah. was that a bad thing?

[04:47:59.0000] <SimonSapin>
annevk: in data: the MIME type + parameters is an unparsed string of text, data is a byte string

[04:48:09.0000] <jgraham>
zcorpan: yes :)

[04:48:25.0000] <zcorpan>
lunch, bbiab

[04:48:33.0000] <annevk>
SimonSapin: MIME type should prolly be a byte sequence too

[04:48:47.0000] <jgraham>
zcorpan: Apart from anything else, I don't know where the commits in https://github.com/w3c/html-testsuite/pull/36 live now

[04:48:56.0000] <annevk>
I wish we had some easy way of annotating bytes vs strings

[04:49:12.0000] <annevk>
is Content-Type vs "Content-Type" too subtle?

[04:49:25.0000] <annevk>
(that's what I'm kinda using now)

[04:53:24.0000] <jgraham>
darobin: So, any idea where those commtis *do* live?

[04:53:32.0000] <jgraham>
*commits

[04:54:05.0000] <darobin>
jgraham: commits in a PR from a repo that's been deleted?

[04:54:11.0000] <jgraham>
Yeah

[04:54:27.0000] <jgraham>
If I fetch the html-testsuite repo I don't see them at least

[04:54:41.0000] <jgraham>
But I don't know if fetch gets everything or only reachable commits

[04:54:58.0000] <darobin>
jgraham: first, run git checkout -b zcorpan-master master

[04:55:08.0000] <darobin>
then curl https://github.com/w3c/web-platform-tests/pull/36.patch | git am

[04:55:20.0000] <darobin>
that's the only way to get at them now I think

[04:55:40.0000] <darobin>
it's a miracle they still exist

[04:56:30.0000] <darobin>
rename accomplished

[04:57:02.0000] <darobin>
I guess I should set up a new auto-clone

[04:58:28.0000] <jgraham>
That doesn't make much sense

[04:58:49.0000] <darobin>
jgraham: what doesn't?

[04:59:18.0000] <jgraham>
The patch being the only source of the commits

[04:59:30.0000] <darobin>
I don't know man, I see them in the UI for sure

[04:59:38.0000] <darobin>
but I don't see them anwhere!

[04:59:45.0000] <darobin>
I mean I don't know where they would be

[04:59:49.0000] <jgraham>
If that was true, I don't understand why https://github.com/w3c/web-platform-tests/commit/9ad57834d3d4871e083bcbf202dac74240242ab0 would work

[05:00:13.0000] <darobin>
oh wait

[05:00:24.0000] <jgraham>
Unless the github UI is doing something super-weird it feels like the commit should still exist

[05:01:09.0000] <darobin>
jgraham: can you checkout a branch called 9ad57834d3?

[05:01:30.0000] <darobin>
or somehow track it

[05:01:45.0000] <darobin>
because it's what the UI shows for the branch name

[05:02:38.0000] <darobin>
jgraham: otherwise you can use plumbing commands to get at the commits

[05:02:47.0000] <darobin>
I *guess* you can merge them

[05:03:17.0000] <jgraham>
darobin: Right, you can, in theory, see the commit in git log

[05:03:27.0000] <jgraham>
But that particular commit doesn't seem to be in my clone

[05:03:32.0000] <darobin>
weird

[05:03:47.0000] <jgraham>
And I don't know for sure how to tell if it is in the remote without shell access

[05:03:53.0000] <darobin>
I don't know how PRs are handled tbh

[05:04:05.0000] <jgraham>
git fetch origin {sha1} seems like a good bet

[05:04:12.0000] <darobin>
worth a shot

[05:04:21.0000] <jgraham>
It doesn't work :)

[05:04:41.0000] <jgraham>
fatal: Couldn't find remote ref 9ad57834d3

[05:05:01.0000] <jgraham>
So maybe that ref really doesn't get pulled into the local repo.

[05:05:15.0000] <jgraham>
and we are just seeing cached data

[05:06:35.0000] <darobin>
this is weird

[05:06:47.0000] <darobin>
clearly the GH UI is designed to handle this as gracefully as it can

[05:07:05.0000] <darobin>
because it offers the "grab a patch" option when normally it would tell you how to get at the commits

[05:07:29.0000] <jgraham>
(I can get at the commits via critic fwiw, so they aren't gone in any meaningful sense)

[05:07:40.0000] <darobin>
yeah they're in GH too

[05:07:57.0000] <darobin>
I just don't know in what repo they're stored :) it's bizarre

[05:08:24.0000] <zcorpan>
jgraham: sorry about that. should i do a new pull request?

[05:08:48.0000] <jgraham>
zcorpan: No, but you could recreate the original repo and readd the commits with the same branch name ;)

[05:09:11.0000] <jgraham>
In other news, I wonder how to teach critic that the repo name/url changed

[05:09:18.0000] <jgraham>
/me thinks the answer is pain + SQL

[05:11:12.0000] <zcorpan>
jgraham: how do i do that?

[05:12:14.0000] <darobin>
SQL!

[05:12:17.0000] <darobin>
/me shudders

[05:13:30.0000] <SimonSapin>
annevk: URLs are text, right? (Not bytes.) We have no encoding information for extracting a MIME type from a data: URL

[05:13:48.0000] <SimonSapin>
just use utf-8, maybe?

[05:14:06.0000] <SimonSapin>
is non-ASCII ever relevant in MIME¬†types or parameters?

[05:14:17.0000] <annevk>
SimonSapin: once parsed URLs are text representing bytes

[05:14:34.0000] <SimonSapin>
text representing bytes, what does that mean?

[05:15:03.0000] <annevk>
SimonSapin: a string where all code points are in the range 0-127 and everything else has a %XX escape

[05:15:14.0000] <annevk>
iirc

[05:15:21.0000] <jgraham>
zcorpan: Well I donno really what the easiest way is.

[05:15:48.0000] <SimonSapin>
annevk: so, for data:, should¬†I percent-decode the whole thing before doing anything else?

[05:16:10.0000] <zcorpan>
from my perspective, the easiest thing is to throw away the current pull request and do it all over again. that i know how to do

[05:16:21.0000] <jgraham>
Go for it

[05:16:32.0000] <zcorpan>
ok

[05:16:35.0000] <annevk>
SimonSapin: I think the most logical think would be to first tokenize the start until you get to the data part

[05:16:46.0000] <annevk>
SimonSapin: and then decode the data part using the encoding you found in the MIME type

[05:16:51.0000] <SimonSapin>
annevk: well, %2C or %3B might not be special as , or ; are ‚Ä¶

[05:17:02.0000] <jgraham>
/me does the simple part of the repo move

[05:17:28.0000] <annevk>
SimonSapin: yeah, therefore you prolly want to tokenize, not decode

[05:17:48.0000] <annevk>
SimonSapin: I suspect different implementations do different things here and they probably hacked something together rather than did a proper job

[05:18:25.0000] <SimonSapin>
I‚Äôll prolly need a lot of testing before we can decide if , or ; can be %-encoded

[05:18:40.0000] <darobin>
a beer to whoever can make sense of https://www.w3.org/Bugs/Public/show_bug.cgi?id=20993#c7 for me

[05:19:47.0000] <SimonSapin>
annevk: anyway, we‚Äôll figure this out later

[05:22:07.0000] <annevk>
darobin: sounds like he wants a restriction on the DOCTYPE in XHTML similar to how <meta charset> has a restriction when used in XHTML

[05:22:17.0000] <annevk>
darobin: with a lot of distraction

[05:22:40.0000] <darobin>
annevk: yeah, I sort of get some of the idea, but there's an awful lot of distraction so I'm a bit lost tbh

[05:24:29.0000] <annevk>
darobin: he wants nothing but <!DOCTYPE html> allowed or some such, sounds like a polyboat argument

[05:25:28.0000] <jgraham>
darobin: I was going to read it just to disrupt the global beer economy a little, but then I realised it wasn't worth it

[05:26:43.0000] <darobin>
annevk: close, but that's not enough of an explanation for me to act on it, so no beer (well, beer, but not for that)

[05:26:50.0000] <darobin>
jgraham: it's a lot of effot

[05:26:52.0000] <darobin>
effort

[05:27:09.0000] <darobin>
also, if it's a polygloat thing why not do it in the polygoat?

[05:27:32.0000] <annevk>
darobin: the only relevant sentence is

[05:27:35.0000] <annevk>
"I only want a rule which promotes a HTML5-friendly DOCTYPE if and when a DOCTYPE use used."

[05:27:47.0000] <annevk>
and then you have to do s/use /is /

[05:28:13.0000] <annevk>
which is basically also what the subject of the bug is

[05:28:41.0000] <annevk>
reasonable responses include:

[05:28:45.0000] <annevk>
XHTML: mahahahaha

[05:29:06.0000] <annevk>
o_O *shrug*

[05:29:14.0000] <annevk>
o_O fixed

[05:29:26.0000] <darobin>
I almost went with "huhwah?"

[05:31:35.0000] <SteveF>
wiseguys https://twitter.com/w3cmemes/status/311816660707328000 ;-)

[05:32:44.0000] <SteveF>
what twat said that?...

[05:33:46.0000] <darobin>
tee hee :)

[05:35:27.0000] <darobin>
"I accidentally the repository." -- zcorpan :-)

[05:37:13.0000] <SteveF>
if i ever find out whose behind those damn W3C memes...

[05:43:39.0000] <annevk>
http://lists.w3.org/Archives/Public/public-html/2013Mar/0088.html o_O

[05:45:13.0000] <SteveF>
annevk: hmm odd you just post that link and a w3c meme about it appears on twitter

[05:45:35.0000] <annevk>
yeah I got it from there

[05:45:41.0000] <annevk>
I don't read public-html

[05:45:50.0000] <SteveF>
;-)

[05:46:08.0000] <SteveF>
your'e missing out on soo much

[05:46:18.0000] <darobin>
so much love!

[05:46:54.0000] <SteveF>
love to spare!

[05:47:30.0000] <SteveF>
even html-wg IRC is a groovy place to be these days

[05:48:01.0000] <SteveF>
not as groovy as whatwg irc of course

[05:50:27.0000] <SteveF>
HTML WG is sorta like darobin's 'field of dreams'

[05:54:41.0000] <zcorpan>
jgraham: https://github.com/w3c/web-platform-tests/pull/37

[06:06:31.0000] <SimonSapin>
annevk: better? https://github.com/SimonSapin/data-urls/commit/ce8046bd#diff-1 http://simonsapin.github.com/data-urls/

[06:08:08.0000] <jgraham>
zcorpan: Nice. Critic doesn't seem happy after the move though :(

[06:09:04.0000] <zcorpan>
jgraham: the move being html-testsuite -> web-platform-tests ?

[06:10:04.0000] <jgraham>
Yeah

[06:26:14.0000] <zcorpan>
memes on a roll

[06:51:09.0000] <annevk>
SimonSapin: cool

[06:51:29.0000] <annevk>
SimonSapin: fwiw, a parsed URL's scheme is normalized already so you don't have to do case-insensitively match against it

[06:51:42.0000] <annevk>
s/do//

[06:53:13.0000] <SimonSapin>
annevk: does it include the colon?

[06:53:32.0000] <annevk>
SimonSapin: doesn't actually

[06:57:09.0000] <zcorpan>
are any of these available in workers these days (per spec)? CanvasRenderingContext2D CanvasGradient CanvasPattern TextMetrics

[06:59:06.0000] <zcorpan>
/me gotta go, will read the logs

[07:02:30.0000] <SimonSapin>
annevk: fixed

[07:05:43.0000] <annevk>
cool

[08:00:07.0000] <darobin>
ah, crap, no zcorpan

[08:00:19.0000] <darobin>
oh "will read the logs", good

[08:00:32.0000] <darobin>
zcorpan: since you were interested in this, you might want to look at http://library.2017.im/app/refs/

[08:00:52.0000] <darobin>
it's not the real deployment, so you can break stuff and all

[08:01:01.0000] <darobin>
(you'll need to sign up to make it do anything at all)

[08:05:44.0000] <jgraham>
2017.im?

[08:05:52.0000] <jgraham>
Nothing like years in the hostname

[08:06:23.0000] <darobin>
who said it's a year :)

[08:06:30.0000] <jgraham>
I just did

[08:06:34.0000] <darobin>
oh

[08:06:36.0000] <darobin>
fait point that

[08:07:19.0000] <annevk>
o_O

[08:07:20.0000] <annevk>
http://www.w3.org/TR/xforms/sliceE.html fail

[08:07:26.0000] <annevk>
(is linked from Web Forms 2.0)

[08:07:55.0000] <darobin>
I guess XForms has some Living Slices

[08:35:27.0000] <jgraham>
Horray!

[08:35:38.0000] <jgraham>
I Was missing the FORMAT COMPLAINT

[08:35:45.0000] <jgraham>
*FORMAL

[08:35:47.0000] <jgraham>
Sigh

[08:35:59.0000] <jgraham>
But I also misss the FORMAT COMPLAINT

[08:36:12.0000] <jgraham>
I think I will go and find some 5.25" floppies

[08:36:17.0000] <annevk>
there's a new one?

[08:38:09.0000] <jgraham>
So, anyone care to take bets on who will post the AXIOMATIC PROOF that EME isn't solely a vehicle for DRM?

[08:40:37.0000] <zewt>
heh apparently webkit sometimes runs async xhr synchronously :(

[08:41:17.0000] <jgraham>
In an observable way, other than timing?

[08:41:34.0000] <zewt>
unless my test is brain farted, yeah (one sec)

[08:41:35.0000] <jgraham>
Or so you mean sometimes as in "data URLs"?

[08:41:45.0000] <zewt>
nope, http

[08:42:59.0000] <zewt>
(uh, one sec, my server is being stupid)

[08:43:27.0000] <annevk>
Anyone know an easy way to test HTTP auth on DreamHost? Apparently PHP running under CGI makes this annoying

[08:43:50.0000] <zewt>
oh (unrelated), apparently webkit will pop up a password prompt if an xhr request needs credentials (?!)

[08:46:13.0000] <zewt>
happens when testing on the local network, but not with my remote server, so possibly latency-related; going to play with cache headers to see if I can make it more deterministic

[08:46:35.0000] <dglazkov>
good morning, Whatwg!

[08:47:14.0000] <zewt>
but FWIW http://zewt.org/~glenn/test-webkit-weird-async-xhr.html locally I get c1: 2, 3, 4, Starting c2, c2: 2, 3, 4, Started c2 (as if the second xhr was sync)

[08:48:32.0000] <zewt>
(chrome)

[08:57:15.0000] <tantek>
good morning, dglazkov

[08:57:54.0000] <annevk>
zewt: password prompt is per spec

[08:58:08.0000] <annevk>
zewt: or a SHOULD per spec, as reportedly that was required by some sites, dunno if that's still true

[08:59:31.0000] <annevk>
zewt: sounds weird

[09:00:50.0000] <zewt>
isn't that one of those things that's so catastrophic to security that it trumps web compat?

[09:01:40.0000] <zewt>
can't seem to repro the webkit weirdness when not on the local network, hmm

[09:02:23.0000] <GPHemsley>
https://hacks.mozilla.org/2013/03/font-inspector-and-elements-firefox-development-highlights/

[09:02:33.0000] <GPHemsley>
links to the W3C spec for <time> but the WHATWG spec for <data>

[09:02:43.0000] <GPHemsley>
/me scratches his head.

[09:04:15.0000] <annevk>
zewt: dunno

[09:12:07.0000] <SimonSapin1>
Simon Pieters is sometimes zcorpan on IRC

[09:12:30.0000] <SimonSapin>
eh, wrong channel

[09:16:48.0000] <annevk>
SimonSapin: so... data: URL parsing needs to be async and queue tasks and spin the event loop

[09:16:55.0000] <annevk>
SimonSapin: just like the HTML parser

[09:16:59.0000] <annevk>
SimonSapin: I'm sorry

[09:17:15.0000] <SimonSapin>
oh

[09:17:32.0000] <SimonSapin>
I have no idea how that works :p

[09:17:55.0000] <SimonSapin>
annevk: is it useful to write in spec how to decode the data incrementally?

[09:18:22.0000] <annevk>
It might be enough to say that it happens that way

[09:18:53.0000] <zewt>
... when does URL parsing spin the event loop? that's terrible

[09:19:29.0000] <SimonSapin>
annevk: I mean, if a data: URL is many mega-bytes large, browsers may want to decode incrementally. Is this only an implementation detail or does the spec need to reflect it?

[09:20:01.0000] <SimonSapin>
In particular, does a partially decoded body trigger an event or something?

[09:20:24.0000] <annevk>
SimonSapin: it matters when you load it through XHR or when it contains a <script> and you load it from the address bar

[09:20:52.0000] <zewt>
having xhr.open() spin the event loop sounds a bit catastrophic

[09:21:13.0000] <zewt>
unless I'm misunderstanding (which I'm hoping for :)

[09:21:44.0000] <jgraham>
data uris should be just like any other network data

[09:22:30.0000] <annevk>
yeah, there's a difference between URL parsing and obtaining data

[09:24:27.0000] <jgraham>
So I'm confused. Presumably parsing urls doesn't spin the event loop? But parsing the resulting data might

[09:25:33.0000] <jgraham>
For example data:text/html,<script defer src=slow-loading-script>

[09:26:47.0000] <zewt>
also, you do need to parse a base64 url in advance, since eg. xhr.open("GET", "data:text/html;base64,illegal_string") throws an exception

[09:27:01.0000] <zewt>
so you can't just stash the URL and parse it incrementally

[09:29:03.0000] <annevk>
that it throws an exception is a bug

[09:29:27.0000] <zewt>
it throws in both chrome and firefox, so i don't think it is

[09:29:35.0000] <annevk>
Chrome doesn't support data URLs

[09:29:43.0000] <annevk>
it'll throw either way

[10:04:11.0000] <MikeSmith>
annevk: public-whatwg-bugs sounds fine

[10:04:14.0000] <MikeSmith>
I will get it set up

[10:04:18.0000] <MikeSmith>
but not today

[10:04:23.0000] <MikeSmith>
probably this weekend

[10:04:36.0000] <MikeSmith>
Nao and I care sightseeing in Chicago today and tomorrow

[10:05:05.0000] <annevk>
saw on Twitter, go have fun :)

[10:05:12.0000] <MikeSmith>
thanks

[10:50:03.0000] <matjas>
has there even been a browser that executed <script>s in .innerHTML?

[10:50:48.0000] <matjas>
‚ÄúIE used to execute <script defer> when inserted via innerHTML, but that was fixed.‚Äù says nzakas; anyone know which IE version(s)?

[11:30:17.0000] <annevk>
GPHemsley: given that MIME types are not always in the right group I don't really see the point

[11:30:40.0000] <annevk>
GPHemsley: and sometimes they're in the same group but with wildly different semantics (e.g. image/svg+xml)

[11:35:12.0000] <zewt>
it's not like the "type/subtype" scheme of mime types is for anything but human consumption

[12:03:14.0000] <zcorpan_>
so now i'm an editor of cssom, cssom view and cssom values

[12:03:30.0000] <Ms2ger>
Enjoy

[12:03:32.0000] <zcorpan_>
to my surprise, cssom values is public domain

[12:03:42.0000] <Hixie>
not sure whether "sorry" or "congratulations" is more appropriate

[12:04:15.0000] <zcorpan_>
Hixie: either way, thanks :-)

[12:14:33.0000] <zcorpan_>
interesting how glenn took material from cssom (document license) and pasted into a new spec cssom values (public domain)

[12:18:22.0000] <annevk>
wait what? he copied my work and put it under CC0?!

[12:19:12.0000] <annevk>
zcorpan_: good luck, that stuff is a) hard and b) without fixing the underlying model, extra hard

[12:20:11.0000] <zcorpan_>
annevk: he took your work which was CC0, changed it to the document license, then moved some of it to a new spec with CC0

[12:20:31.0000] <annevk>
zcorpan_: I had changed CSSOM too? interesting

[12:23:37.0000] <zcorpan_>
hmmm. maybe it was glenn who changed from document license to CC0, then changed it back at some point? https://dvcs.w3.org/hg/cssom/rev/74784effb4e3

[12:23:59.0000] <Ms2ger>
No, I'm pretty sure annevk did

[12:24:57.0000] <annevk>
zcorpan_: that seems to indicate more that he moved away from Anolis

[12:25:13.0000] <annevk>
zcorpan_: I think Ms2ger is right and I had a split setup, CC0 for editor drafts and W3C for TR/

[12:25:28.0000] <Ms2ger>
You did TR/ for CSSOM?

[12:26:06.0000] <annevk>
Seems kinda pointless that Glenn would put a bunch of effort into migrating to his own publishing system and then leave all the bugs in the spec...

[12:26:22.0000] <annevk>
Ms2ger: It seems I did, back in 2011

[12:26:36.0000] <Ms2ger>
I dunno, maybe he had fun doing it?

[12:26:42.0000] <zcorpan_>
i guess this is the wrong place https://dvcs.w3.org/hg/cssom/

[12:26:43.0000] <Ms2ger>
And maybe it was easier than actual work?

[12:26:48.0000] <Ms2ger>
zcorpan_, yes

[12:26:52.0000] <annevk>
In fact, it seems thus far nobody updated my TR/ drafts from cssom and cssom-view

[12:26:53.0000] <Ms2ger>
https://dvcs.w3.org/hg/csswg/

[12:27:02.0000] <zewt>
can i petition for him to pick a new name

[12:27:46.0000] <annevk>
Hopefully the CSS WG has realized it should be more careful with people doing actual work

[12:28:10.0000] <Ms2ger>
Bwahahahahahahaha

[12:39:51.0000] <jgraham>
zcorpan_: Gosh, I'm sorry. How did that happen?

[12:40:36.0000] <zcorpan_>
i volunteered

[12:41:24.0000] <zewt>
man. there's no api for anything related to next/previous focusable element and doing it by hand is a pain

[12:41:52.0000] <jgraham>
Hmm, now I'm wondering if brucel infected you with mind worms masquerading as the common cols

[12:41:55.0000] <jgraham>
*cold

[12:49:21.0000] <jgraham>
( I guess I should maybe say that I am actually very happy that you are going to take care of those specs)

[12:49:32.0000] <jgraham>
(I'm glad that I don't have to :)

[12:53:59.0000] <jamesr>
zcorpan_, good luck!

[12:54:12.0000] <zcorpan_>
jamesr: thanks

[12:54:18.0000] <jamesr>
zcorpan_, have any plan of attack?

[13:00:42.0000] <annevk>
oh lol

[13:00:46.0000] <annevk>
cssom-values does not even mention me

[13:01:21.0000] <zcorpan_>
jamesr: http://www.w3.org/mid/op.wtweynahidj3kv‚äôsl

[13:03:57.0000] <zcorpan_>
annevk: filed a bug

[13:04:03.0000] <jamesr>
zcorpan_, d'oh, will have to remember my w3c credentials

[13:04:41.0000] <zcorpan_>
jamesr: first i want to try to get the specs under CC0

[13:09:32.0000] <zcorpan_>
seems like i've pushed a hot button already

[13:18:02.0000] <jgraham>
Well really what were you expecting

[13:21:47.0000] <zcorpan_>
heh yeah i'm not surprised

[13:22:03.0000] <annevk>
So are you co-editor?

[13:22:09.0000] <zcorpan_>
yes

[13:22:11.0000] <annevk>
ouch

[13:24:31.0000] <zcorpan_>
annevk: glenn's now added you under acks for values

[13:25:36.0000] <annevk>
ta

[13:25:42.0000] <annevk>
have fun making it all work

[13:26:11.0000] <annevk>
In my experience what you want is tight integration with the rest of CSS, but I'm not sure how realistic all that is

[13:27:17.0000] <SimonSapin>
zcorpan_: I genuinely curious and don‚Äôt want to imply it‚Äôs not, but why is it useful or important to have a public domain copy?

[13:27:41.0000] <annevk>
Especially with the CSS WG prioritizing organization over solving problems

[13:28:01.0000] <Ms2ger>
SimonSapin, say you want to quote the spec in the source code of a FOSS project

[13:28:18.0000] <SimonSapin>
Ms2ger: that‚Äôs not allowed with the W3C license?

[13:28:19.0000] <annevk>
SimonSapin: http://annevankesteren.nl/2012/11/copyright

[13:28:20.0000] <Ms2ger>
SimonSapin, would you say that the W3C document license allows that?

[13:28:29.0000] <SimonSapin>
I don‚Äôt know

[13:28:39.0000] <SimonSapin>
Let me look at the details ‚Ä¶

[13:28:46.0000] <zcorpan_>
SimonSapin: several reasons. first, it lets people use the text in books and software etc. second, if the people maintaining the spec go "nuts" and screw things up, someone else can take the ball and maintain it somewhere else.

[13:29:06.0000] <zcorpan_>
without having to rewrite it all from scratch

[13:34:23.0000] <annevk>
zcorpan_: should maybe write a new post simply stating that

[13:35:22.0000] <SimonSapin>
annevk: yes, http://annevankesteren.nl/2012/11/copyright looks mostly about ideology. Writing the practical reasons/consequences would help

[13:37:07.0000] <SimonSapin>
I generally agree with you all, but I‚Äôm still judging how bad the situation is

[13:37:15.0000] <SimonSapin>
and honestly I don‚Äôt want to care about licenses

[13:38:51.0000] <zewt>
also other general reuse (eg. if somebody's speccing a canvas-like API for Python, a normative dependency on HTML and a delta spec is probably a really bad approach)

[13:40:05.0000] <GPHemsley>
annevk: That depends on what you believe the semantics are for an image, I suppose.

[13:40:17.0000] <Ms2ger>
I dunno if someone speccing a canvas-like API for anything is something to be encouraged ;)

[13:40:19.0000] <GPHemsley>
annevk: But zewt makes a valid point.

[13:40:34.0000] <jgraham>
As usual glazou misses the point

[13:40:48.0000] <jgraham>
As usual I can't say how because he does it in Member space

[13:41:10.0000] <zewt>
Ms2ger: at an API level, perhaps not, but the careful definitions of how to draw paths and so on may well have other uses

[13:41:14.0000] <GPHemsley>
annevk: Though perhaps not an altogether important one. I'd be interested in hearing your arguments against defining terminology for the various parts.

[13:41:42.0000] <annevk>
GPHemsley: there's no processing that I know of that looks at individual parts

[13:42:30.0000] <GPHemsley>
annevk: So do you believe the mimesniff spec is mistaken in doing so?

[13:45:38.0000] <annevk>
GPHemsley: yeah and it contains bugs therefore too

[13:45:42.0000] <annevk>
GPHemsley: e.g. "If the supplied media type is an image type supported by the user agent, let matched-type be the result of executing the image type pattern matching algorithm with the resource header as the byte sequence to be matched. "

[13:45:55.0000] <annevk>
GPHemsley: is wrong, because image types is defined as wider than the actual supported set

[13:46:43.0000] <annevk>
actually, never mind

[13:46:55.0000] <annevk>
although it does not help either

[13:47:56.0000] <jamesr>
zcorpan_, so a big problem in CSS specs is it's impossible to figure out where the hell anything is

[13:48:12.0000] <jamesr>
a lot's supposed to be in one of om/view/values

[13:48:18.0000] <GPHemsley>
annevk: If there's something you think can be clarified or improved, please file a bug so I don't lose track of it. :)

[13:48:20.0000] <jamesr>
but please cross-ref stuff in a sane way

[13:51:12.0000] <SimonSapin>
zcorpan_: we recently resolved to move CSSPageRule to css3-page. Do you think that‚Äôs a good idea?

[13:53:10.0000] <SimonSapin>
zcorpan_: also, CSSPageRule needs to get at least a cssRules property of type CSSRuleList to expose the page-margin rules. The issue with that is, it doesn‚Äôt preserve the position of at-rules compared to declaration. It‚Äôs not significant in @page, but it could be in future at-rules that mix declarations and at-rules.

[13:53:45.0000] <zcorpan_>
SimonSapin: dunno. having the interface in the same spec that defines the feature seems sane on the face of it

[13:54:02.0000] <zcorpan_>
SimonSapin: but then a lot of cssom should also move to other specs, no?

[13:54:24.0000] <SimonSapin>
probably

[13:58:43.0000] <SimonSapin>
zcorpan_: it‚Äôs already been done for fonts and conditional rules, at least

[13:59:00.0000] <zcorpan_>
SimonSapin: ok

[13:59:29.0000] <SimonSapin>
‚Ä¶ although that‚Äôs not visible in http://dev.w3.org/csswg/cssom/#the-cssfontfacerule-interface or http://dev.w3.org/csswg/cssom/#the-cssmediarule-interface ‚Ä¶

[14:06:22.0000] <annevk>
(I pushed for that, fwiw)

[14:07:44.0000] <annevk>
it's what HTML and SVG and URL and ... are doing too

[14:19:22.0000] <zcorpan_>
thanks SimonSapin

[14:20:20.0000] <SimonSapin>
annevk: what is "that" you pushed for? Moving OM for specific at-rules to their respective spec?

[14:20:38.0000] <annevk>
yeah

[14:20:59.0000] <SimonSapin>
oh, here come the off-list arguments

[14:25:59.0000] <annevk>
:/

[14:26:37.0000] <annevk>
I should not have gotten internet before a proper desk, this is no good

[14:29:12.0000] <zcorpan_>
annevk: new place?

[14:29:57.0000] <annevk>
zcorpan_: I moved to the UK a while back

[14:30:41.0000] <zcorpan_>
yeah. you noticed now you're missing a desk? :-)

[14:31:26.0000] <annevk>
well now I've internet at home that's somewhat reasonable, so yes :-)

[14:31:59.0000] <annevk>
been trying to find some kind of second hand victorian desk but it seems like I need to settle for something else

[14:32:58.0000] <zcorpan_>
i'd like to get a standing desk of some sort at home

[15:05:09.0000] <dcheng>
Question... if the spec defines an attribute to return a DOMString[], it would be incorrect to return null if it's empty right?

[15:05:30.0000] <annevk>
dcheng: yes

[16:12:03.0000] <Hixie>
hsivonen: ping on https://www.w3.org/Bugs/Public/show_bug.cgi?id=17869


2013-03-14
[17:02:48.0000] <dbaron>
Hixie, I think the <ruby> edit you just made is wrong; see my reply to whatwg‚äôwo

[17:04:48.0000] <Hixie>
dbaron: isn't the <rt> a block container?

[17:05:08.0000] <dbaron>
I sure hope not

[17:05:27.0000] <Hixie>
huh

[17:05:30.0000] <dbaron>
ruby elements should all be basically inline

[17:05:39.0000] <dbaron>
behaving a lot like display:inline

[17:05:41.0000] <Hixie>
sure but the annotation is its own inline block like thing, no?

[17:06:05.0000] <Hixie>
i guess we can't really say one way or the other since there's no real spec for this currnetly

[17:07:07.0000] <dbaron>
it shouldn't support 'width', and it participates in inline layout and breaking for its container, so I think it has to be inline

[17:07:12.0000] <dbaron>
maybe run it by fantasai, though

[17:07:16.0000] <Hixie>
fair enough

[17:09:06.0000] <Hixie>
dbaron: btw you asked a while back for specific notification of changes relating to CSS, my plan is to make CSS a subscribable topic in the system you used to get that notification e-mail

[17:09:15.0000] <dbaron>
Hixie, ok, sounds great

[17:09:52.0000] <Hixie>
dbaron: haven't made any CSS feature changes (as opposed to rendering changes, which are already covered by the Rendering topic) since, though, hence it not being done yet

[17:16:53.0000] <Hixie>
woops

[17:16:59.0000] <Hixie>
/me checked in an unrelated change with that revert

[17:19:55.0000] <a-ja>
dbaron: is there bug filed for the recent sections/headings additions?

[17:20:11.0000] <dbaron>
a-ja, eh?

[17:20:55.0000] <a-ja>
um...lemme find it

[17:24:38.0000] <a-ja>
dbaron: new stuff in 2nd figure at http://www.whatwg.org/specs/web-apps/current-work/multipage/rendering.html#sections-and-headings

[02:13:12.0000] <zcorpan>
should we make SVGMatrix available in workers (with a new constructor)?

[04:17:14.0000] <annevk>
SimonSapin: http://annevankesteren.nl/2013/03/zero

[04:31:03.0000] <SimonSapin>
annevk, zcorpan: some people apparently freak out as soon as you say "public domain". How about trying and tweaking the W3C license to allow specific use cases we care about?

[04:31:48.0000] <jgraham>
SimonSapin: We tried that

[04:31:51.0000] <jgraham>
Or rather

[04:31:57.0000] <jgraham>
We tried the MIT license

[04:32:10.0000] <jgraham>
Which IMHO is a fine choice

[04:32:29.0000] <jgraham>
W3C freaked out

[04:32:33.0000] <SimonSapin>
jgraham: how did it go?

[04:32:39.0000] <annevk>
I could live with MIT, but I much prefer CC0

[04:32:46.0000] <annevk>
attribution is such a nuisance

[04:32:55.0000] <annevk>
SimonSapin: just say CC0

[04:33:08.0000] <jgraham>
I guess karlcow will complain at me later if I don't point out that the *Members* freaked out

[04:34:07.0000] <SimonSapin>
annevk: we can try that, but I‚Äôm not sure it‚Äôll be much better

[04:35:46.0000] <jgraham>
I dont' really see why CC0 is better than MIT

[04:36:01.0000] <jgraham>
But of course I am happy with either

[04:36:38.0000] <annevk>
jgraham: MIT requires attribution

[04:37:27.0000] <jgraham>
I don't think requiring attribution is a big deal

[04:37:56.0000] <SimonSapin>
I wonder if I should make use of being in the AC / representing a Member while I still am, to push this kind of stuff.

[04:37:57.0000] <SimonSapin>
(I haven‚Äôt "announced" it yet but it‚Äôs not really secret anymore at this point. I‚Äôm leaving Kozea and joining Mozilla in May.)

[04:38:38.0000] <annevk>
SimonSapin: CC0 addresses the concerns raised on your private list

[04:39:13.0000] <annevk>
jgraham: I didn't say it was a big deal

[04:39:52.0000] <SimonSapin>
annevk: I agree CC0 would be great, but given the resistance we‚Äôve seen yesterday I don‚Äôt see it happening :/

[04:40:19.0000] <annevk>
If you think that's the resistance you haven't really seen much yet :-)

[04:40:52.0000] <annevk>
Also, their concern is that it's not okay per W3C rules, not that it's not okay per se...

[04:42:34.0000] <SimonSapin>
well I got private responses too, and I also say this given it‚Äôs been tried before

[04:43:23.0000] <annevk>
Well, "tried"... I don't think the W3C ever gave it a fair shot

[04:43:41.0000] <annevk>
Some of W3C legal are very much against

[04:54:07.0000] <SimonSapin>
So, to approach this I‚Äôd say: start with practical issues to solve (as you did in today‚Äôs blog post, annevk), emphasize this is compatible with the patent policy (at least I hope it is), emphasize this is following the rules in order to try and change them, only then propose CC0 or MIT as a possible solution.

[04:54:07.0000] <SimonSapin>
The idea is to preemptively defuse responses like "Not gonna happen because XYZ."

[04:55:11.0000] <Ms2ger>
SimonSapin, welcome already :)

[04:57:42.0000] <karlcow>
annevk: "Standards should be resuable"

[04:57:55.0000] <Ms2ger>
/me loves re-suing

[04:59:33.0000] <annevk>
karlcow: fixed

[04:59:59.0000] <Ms2ger>
On another note

[05:00:02.0000] <Ms2ger>
darobin++

[05:01:28.0000] <annevk>
SimonSapin: sounds good

[05:01:35.0000] <darobin>
what did I do wrong this time?

[05:02:10.0000] <Ms2ger>
darobin, the repo move

[05:02:11.0000] <karlcow>
I wonder how it went http://projects.opensource.org/pipermail/license-review/2012-February/000092.html

[05:02:21.0000] <darobin>
jgraham: it would be fairer to say that a few members freaked out

[05:02:23.0000] <karlcow>
long thread http://projects.opensource.org/pipermail/license-review/2012-February/thread.html#92

[05:02:29.0000] <darobin>
Ms2ger: oh, that's yesterday's news :)

[05:02:58.0000] <Ms2ger>
Yeah

[05:03:06.0000] <jgraham>
darobin: Enough members freaked out

[05:03:10.0000] <SimonSapin>
http://opensource.org/faq#cc-zero says "not recommend"

[05:03:39.0000] <Ms2ger>
SimonSapin, do they list the W3C document license? ;)

[05:04:13.0000] <SimonSapin>
Ms2ger: yes: http://opensource.org/licenses/W3C

[05:04:21.0000] <SimonSapin>
whatever that means

[05:04:27.0000] <jgraham>
SimonSapin: Notice it says "software"

[05:04:36.0000] <SimonSapin>
oh yeah

[05:04:51.0000] <SimonSapin>
that‚Äôs a different license from the Document one, right?

[05:04:57.0000] <Ms2ger>
Yep

[05:05:25.0000] <SimonSapin>
looks like OSI is about software?

[05:05:30.0000] <marcosc>
hmm...

[05:05:31.0000] <jgraham>
(I actulaly menat in the CC0 FAQ entry, but yeah, that too)

[05:05:35.0000] <karlcow>
http://www.w3.org/Consortium/Legal/2002/ipr-notice-20021231#Copyright

[05:05:39.0000] <marcosc>
I didn't know about the fallback

[05:05:47.0000] <karlcow>
Documents: http://www.w3.org/Consortium/Legal/2002/copyright-documents-20021231

[05:05:57.0000] <SimonSapin>
jgraham: indeed

[05:05:59.0000] <karlcow>
Softwares: http://www.w3.org/Consortium/Legal/2002/copyright-software-20021231

[05:06:19.0000] <darobin>
SimonSapin: if you want to reopen discussion on the open license with the AC, I encourage you to

[05:06:36.0000] <darobin>
and don't hesitate to ping me first to coordinate ‚Äî there is support to be found

[05:06:45.0000] <SimonSapin>
darobin: is ac-forum the right place?

[05:06:59.0000] <Ms2ger>
darobin, oh dear, what has the guy done to you?

[05:07:16.0000] <darobin>
SimonSapin: yes, but it might be best if we sync up first

[05:07:21.0000] <SimonSapin>
sure

[05:07:22.0000] <darobin>
Ms2ger: the Force is strong with this one

[05:07:39.0000] <Ms2ger>
darobin, strong enough?

[05:07:43.0000] <SimonSapin>
well, I‚Äôm not sure I really want to get into this, but ‚Ä¶

[05:07:52.0000] <darobin>
Ms2ger: find out we must

[05:08:13.0000] <karlcow>
never give up the fight

[05:08:42.0000] <Ms2ger>
SimonSapin, http://images.cryhavok.org/d/3385-2/its-dangerous-to-go-alone-take-this.jpg

[05:12:22.0000] <annevk>
SimonSapin: fwiw, in addition to CC0 the specs disclaim patent stuff to cover the party they don't like

[05:12:31.0000] <annevk>
s/party/part/

[05:16:20.0000] <annevk>
I don't understand one bit of how HTTP auth works.

[05:16:44.0000] <annevk>
I have this in a .htaccess:

[05:16:48.0000] <annevk>
RewriteEngine on

[05:16:48.0000] <annevk>
RewriteRule test.php test.php [E=REMOTE_USER:%{HTTP:Authorization},L]

[05:17:15.0000] <annevk>
in the same directory I have an HTML file for which I get a 403 when I try to open it

[05:17:26.0000] <annevk>
how does that even make sense?

[05:18:55.0000] <darobin>
oh, Apache

[05:19:00.0000] <darobin>
Apache never makes sense

[05:19:44.0000] <annevk>
oh permissions

[05:20:35.0000] <annevk>
my fault this time

[05:23:52.0000] <SimonSapin>
annevk: sorry, what about patents?

[05:24:12.0000] <annevk>
zewt: so IE/Chrome/Firefox/Safari prompt if the request originates from XHR

[05:25:49.0000] <annevk>
zewt: the same happens for <img>

[05:26:28.0000] <annevk>
SimonSapin: see header of specs

[05:27:56.0000] <annevk>
even <script>

[05:28:06.0000] <annevk>
browsers are crazy

[05:28:18.0000] <Ms2ger>
You must be new here

[05:28:43.0000] <annevk>
here longer than you, punk

[05:31:17.0000] <annevk>
I guess the next thing is cross-origin auth

[05:47:54.0000] <annevk>
Okay, so fetch happens, the user agent evaluates the response, prompts the user synchronously and then either issues a new request including the Authorization header or continues fetching?

[05:47:57.0000] <annevk>
shit is weird

[05:48:14.0000] <annevk>
I wonder if you post a large blob if it's posted twice

[05:48:24.0000] <annevk>
prolly is

[06:33:55.0000] <zewt>
annevk: post requests by definition are never supposed to be sent twice, right?

[06:34:42.0000] <annevk>
zewt: if the response is a 307 I don't think that's true

[06:35:00.0000] <zewt>
that's what 100 Continue is for, iirc

[06:35:08.0000] <annevk>
no

[06:35:10.0000] <zewt>
been a while since i've messed with that though

[06:35:42.0000] <annevk>
I think that rule only applies if the server responded with a 2xx code

[06:37:29.0000] <zewt>
i guess the client has to explicitly say that it wants a 100 (the Expect header), and since you don't know in advance if there will be an auth error, nobody will want to use it (since it adds a round-trip delay)

[06:38:14.0000] <zewt>
confused at people talking about "Future" on the event handler thread as if it's a thing that exists

[06:38:18.0000] <zcorpan>
/me learns about step_func_done

[06:39:09.0000] <Ms2ger>
zewt, it will in the future, apparently

[06:39:12.0000] <Ms2ger>
/me ducks

[06:39:34.0000] <zewt>
hopefully that's recursive and it'll always be in the future

[06:39:52.0000] <zewt>
because it's so ugly and out of place and nothing like any API on the platform

[06:41:58.0000] <zewt>
annevk: fwiw, the user only needs to be prompted synchronously if the fetch is synchronous ... i wonder if browsers do that prompting if the fetch is in a worker

[06:44:00.0000] <annevk>
hmm, if XHR defines a timeout, will the prompt just go away?

[06:44:08.0000] <zcorpan>
MikeSmith: something broke? https://dvcs.w3.org/hg/webapps/rev/747f5eb0c352

[06:44:20.0000] <zewt>
worse, in a shared worker, which isn't associated with a specific window (or, once shared workers support cross-origin use, even the same origin)

[06:44:45.0000] <annevk>
yeah if there's no browsing context HTTP auth should just not work

[06:45:00.0000] <zewt>
that sounds implementation-specific (re timeout)

[06:45:00.0000] <annevk>
of course that's not actually defined and importScript might very well do something

[06:45:09.0000] <annevk>
it shouldn't be

[06:45:32.0000] <annevk>
wow, HTTP auth is so full of hurt

[06:45:33.0000] <zewt>
whether the UI is closed should be (what happens if they do decide to do that shouldn't be)

[06:45:43.0000] <zcorpan>
why is importScripts under "also has obsolete members" in the spec?

[06:46:22.0000] <annevk>
zcorpan: is it?

[06:46:35.0000] <zcorpan>
i got 500. but now it seems to work

[06:47:03.0000] <zewt>
doesn't seem to be

[06:47:10.0000] <zcorpan>
except my last change doesn't seem to be synced on w3c-test.org. http://w3c-test.org/webapps/Workers/tests/submissions/Opera/constructors/Worker/ctor-undefined.html should have one test

[06:47:12.0000] <annevk>
zcorpan: oh it is, I think Hixie introduced that as a mistake

[06:47:20.0000] <annevk>
zcorpan: by mistake*

[06:47:31.0000] <annevk>
zcorpan: when he changed it into a partial interface

[06:47:49.0000] <zcorpan>
annevk: is it known or should i file a bug?

[06:47:53.0000] <annevk>
zcorpan: file

[06:48:20.0000] <zewt>
where's that? the idl in 9.3 doesn't say that

[06:48:51.0000] <zcorpan>
http://www.whatwg.org/specs/web-apps/current-work/multipage/workers.html#workerglobalscope does

[06:49:27.0000] <zewt>
oh that

[06:52:32.0000] <zcorpan>
annevk: does "unsupported:" as a url resolve or not per spec?

[06:55:23.0000] <zcorpan>
annevk: scheme data state doesn't say what to do when it gets EOF, i think

[06:56:22.0000] <annevk>
zcorpan: it avoids handling EOF and therefore the loop ends at the next turn

[06:56:34.0000] <annevk>
zcorpan: seems covered

[06:56:39.0000] <zcorpan>
ok

[07:03:46.0000] <zcorpan>
ironic that a non-breaking space breaks the test (when interpreted with the wrong encoding)

[07:13:10.0000] <darobin>
if something goes to the trouble of calling itself "non-breaking" you know it's up to no good

[07:20:12.0000] <zcorpan>
/me made option+space insert a space instead of non-breaking space with keyremap4macbook

[07:25:51.0000] <Ms2ger>
annevk, HTML doesn't use MIT, does it?

[07:26:16.0000] <annevk>
ta

[07:31:12.0000] <zewt>
zcorpan: usually the way i end up with weird literal nbsps in code is due to copying from mdn, heh

[07:31:32.0000] <zewt>
browsers really should fold those to regular spaces on copy

[07:31:49.0000] <zcorpan>
i thought they did

[07:32:09.0000] <zewt>
maybe some do, at least one of firefox and chrome doesn't though

[07:33:43.0000] <zewt>
speaking of which, i should see if there's a firefox option to disable copying as html, that bites me constantly when pasting into gmail...

[07:36:14.0000] <zewt>
i guess this is one of those ungooglable things, since everything related to disabling copying html is people asking how to restrict users from copying, heh

[07:44:09.0000] <zcorpan>
can't you change gmail to plain text only?

[07:44:40.0000] <zewt>
i don't want plain text only, i just don't want weird formatting every time i paste text, heh

[07:45:08.0000] <zewt>
apparently control-shift-v in firefox pastes without formatting (would prefer to just never have it copied in the first place, heh)

[07:50:17.0000] <zcorpan>
http://w3c-test.org/webapps/Workers/tests/submissions/Opera/interfaces/WorkerUtils/importScripts/004.html says e is not defined. i don't understand why not

[07:51:05.0000] <Ms2ger>
} catch(ex) {

[07:51:06.0000] <Ms2ger>
  if (e instanceof SyntaxError)

[07:51:11.0000] <Ms2ger>
This one?

[07:51:43.0000] <jgraham>
That's what I was going to say :)

[07:52:10.0000] <annevk>
hmm so cross-origin XHR actually does something else than <img> or <script> for HTTP auth

[07:52:19.0000] <annevk>
I wish I'd seen the implications back then

[07:52:52.0000] <annevk>
well actually, mode = CORS just means no HTTP auth

[07:53:05.0000] <annevk>
well, unless the request is same-origin to begin with of course

[07:53:25.0000] <zcorpan>
ah, thanks

[08:07:53.0000] <MikeSmith>
zcorpan: looking at that link now

[08:08:17.0000] <MikeSmith>
not seeing any breakage

[08:08:25.0000] <MikeSmith>
maybe darobin restarted the server already?

[08:08:33.0000] <zcorpan>
MikeSmith: i get a 500 response sometimes when pushing

[08:08:42.0000] <MikeSmith>
ok

[08:08:47.0000] <zcorpan>
but it goes through anyway so maybe it's fine

[08:08:53.0000] <MikeSmith>
I'll just go ahead and restart the server

[08:09:52.0000] <SimonSapin>
\o/ First publication! http://www.w3.org/TR/2013/WD-css3-page-20130314/

[08:10:05.0000] <MikeSmith>
nice

[08:10:09.0000] <MikeSmith>
SimonSapin: congrats

[08:10:39.0000] <darobin>
huwah?

[08:10:43.0000] <darobin>
oh, dvcs

[08:10:51.0000] <darobin>
MikeSmith: go back to vacation man!

[08:11:09.0000] <MikeSmith>
SimonSapin: oh I see you've aligned yourself with the Haakon paged-media faction. Good man.

[08:11:31.0000] <darobin>
wait, why is zcorpan putting tests in dvcs?

[08:11:46.0000] <darobin>
zcorpan! go put your tests in the shiny new github repo for everyone!

[08:11:57.0000] <zcorpan>
darobin: i thought webapps was still using it

[08:12:09.0000] <SimonSapin>
MikeSmith: faction?

[08:12:11.0000] <MikeSmith>
darobin: I will! morning here and my girlfriend is getting ready so I got a short window of opportunity for following up on IRC pings before we head out for the day

[08:12:26.0000] <darobin>
doesn't webapps do whatever we're doing?

[08:12:32.0000] <MikeSmith>
SimonSapin: Haakon vs the party leaders

[08:12:46.0000] <darobin>
MikeSmith: ok, say hi to her then :)

[08:13:16.0000] <darobin>
zcorpan: let me go bug Art about that

[08:13:25.0000] <MikeSmith>
SimonSapin: just joking. Was alluding to the exchange between Haakon on glazou and Peter a couple weeks back

[08:13:33.0000] <MikeSmith>
darobin: will do

[08:14:08.0000] <darobin>
"the exchange"

[08:14:19.0000] <SimonSapin>
MikeSmith: well, H√•kon is officially an editor but he has not touched css3-page since before I knew what Working Group is. As to GCPM, I think most of it should be dropped and the rest needs a lot of work

[08:14:19.0000] <darobin>
(of variegated ordnance)

[08:24:13.0000] <zcorpan>
http://w3c-test.org/webapps/Workers/tests/submissions/Opera/semantics/navigation/001.html fails in opera but the old version passes. :-/

[08:27:11.0000] <jgraham>
Do you have the arguments to assert_greater_than the right way around?

[08:27:46.0000] <annevk>
FWIW, all browsers prompt for importScripts running into HTTP auth

[08:27:52.0000] <annevk>
or new Worker() running into HTTP auth

[08:29:57.0000] <zcorpan>
jgraham: yes

[08:30:13.0000] <annevk>
SharedWorker() prompts too in Chrome

[08:30:23.0000] <annevk>
and Safari

[08:33:19.0000] <zcorpan>
hmm. increasing the inner timeout makes it pass

[08:37:54.0000] <annevk>
hmm, if you set www-authenticate as a header, does PHP really do magic to override the status code?

[08:38:02.0000] <annevk>
man

[08:42:07.0000] <jgraham>
Well

[08:42:08.0000] <zcorpan>
yay, workers done

[08:42:10.0000] <jgraham>
You are using PHP

[08:42:26.0000] <jgraham>
zcorpan: Nice

[08:43:24.0000] <annevk>
jgraham: sure, but this kind of low-level stuff is equally annoying in any language

[08:43:36.0000] <annevk>
jgraham: maybe not node.js so much, but that doesn't run by default on DreamHost

[08:44:17.0000] <jgraham>
annevk: Hmm? Other langauges typically don't have HTTP baked in at the language layer

[08:46:43.0000] <annevk>
there's a way to override it btw using header(headernameandvalue, true, status)

[08:48:42.0000] <annevk>
jgraham: Python has the same thing if you do the simple CGI thing

[08:58:12.0000] <gsnedders>
annevk: For HTTP stuff I basically concluded the only sane way was to have a custom server that sent exactly the response you gave it.

[08:58:19.0000] <gsnedders>
Response line and all.

[08:58:41.0000] <jgraham>
You could use mod_asis and apache ont he w3c server, perhaps

[09:00:59.0000] <zcorpan>
annevk: i'm having trouble finding a cssom commit from you that has cc0

[09:01:46.0000] <annevk>
zcorpan: I suspect my stuff is in http://dev.w3.org/cvsweb/csswg/cssom/Attic/

[09:02:18.0000] <annevk>
gsnedders: yeah, pretty much, though I think given what the inspectors gave me think I got away with PHP this time

[09:04:59.0000] <zcorpan>
annevk: still...

[09:05:06.0000] <darobin>
annevk: you can run node on heroku and other things like that

[09:05:34.0000] <darobin>
it's a smart thing actually that php sets the status if you use an auth header, unless you're writing tests it's what you want

[09:05:56.0000] <darobin>
but for testing, you need to work on the metal, so node would certainly be a better choice imho

[09:06:00.0000] <darobin>
(or something like it)

[09:06:04.0000] <Ms2ger>
http://25.media.tumblr.com/14b031162e22a6f909bd43337e79260c/tumblr_mjm4rqmxOv1rmq849o1_400.jpg

[09:06:06.0000] <Ms2ger>
Neat.

[09:07:39.0000] <annevk>
zcorpan: yeah dunno

[09:12:03.0000] <annevk>
zcorpan: if glenn removed it, it must have been in there somehow

[09:12:19.0000] <Ms2ger>
Flawless logic

[09:12:50.0000] <annevk>
did Anolis generate it maybe?

[09:12:59.0000] <Ms2ger>
I doubt it

[09:13:13.0000] <zcorpan>
annevk: https://dvcs.w3.org/hg/cssom/rev/74784effb4e3

[09:13:47.0000] <annevk>
so Glenn put it under CC0?

[09:13:53.0000] <zcorpan>
looks like it

[09:14:14.0000] <annevk>
wfm

[09:14:47.0000] <zcorpan>
but doing so isn't allowed by the document license

[09:15:36.0000] <zcorpan>
so there isn't anything "clean" to start from, i think

[09:23:35.0000] <dglazkov>
good morning, Whatwg!

[09:39:20.0000] <SteveF>
dglazkov: forgotten the stuff i wrote about web components + ARIA thanks for the reminder :-)

[10:17:14.0000] <annevk>
HTTP Authentication: not secure; imposes bogus UI; makes the fetching model complicated

[10:17:19.0000] <annevk>
...

[10:18:29.0000] <annevk>
hahaha

[10:18:42.0000] <annevk>
for Digest they recommend that the realm includes the host requesting the authentication

[10:24:47.0000] <dglazkov>
SteveF: np

[10:26:30.0000] <annevk>
now whenever someone says HTTP Authentication I'll just laugh for a while

[10:59:04.0000] <Hixie>
annevk: is the "URL standard: Query string parsing; host parsing" thread done, or do you still have to respond to it?

[11:33:32.0000] <jwalden>
/me sees this E4H thread and joins the popcorn-eaters

[11:36:41.0000] <jwalden>
tc39 sometimes has a tendency to go for big large solutions over smaller ones, I think

[11:36:48.0000] <jwalden>
e.g. es4

[11:37:30.0000] <hober>
abarth is stopping by tc39 today to have this argument in person

[11:37:36.0000] <hober>
sadly there's no popcorn here

[11:44:13.0000] <jwalden>
:-)

[11:44:43.0000] <zcorpan>
TabAtkins: thanks for the support

[11:45:08.0000] <jwalden>
aside from E4X being a disaster of a spec, and in a few cases doing too much, mostly I think it did about the amount that's desirable

[11:45:37.0000] <jwalden>
trying to solve everything -- URL syntax checking, event handler checking, arbitrary format checking -- seems a bit much to me

[11:45:59.0000] <zcorpan>
/me wonders why https://twitter.com/w3cmemes/status/312259499224354816

[11:46:23.0000] <jwalden>
which is not to say that I like or dislike E4H, haven't looked, although I'm likely super-leery of anything here given previous third-degree burn experience with E4X

[11:47:22.0000] <hober>
zcorpan: I imagine that is due to http://www.w3.org/QA/2013/03/drm_and_the_open_web.html

[12:10:55.0000] <TabAtkins>
zcorpan: I've been planning to do my own specs co-published for a while now, but haven't gotten around to it.  I'll actually do so now. ^_^

[12:11:18.0000] <zcorpan>
TabAtkins: nice

[12:13:09.0000] <TabAtkins>
jwalden: Agree.  Hixie's idea of e4h more or less works, and is really simple.

[12:17:15.0000] <Ms2ger>
zcorpan, ArtB requesting your attention in W3C/#testing

[12:28:22.0000] <zcorpan>
cssom is still generated using anolis

[12:28:56.0000] <zcorpan>
glenn just added a preprocessor and changed the source format to be idl with html in it instead of html with idl in it

[13:11:59.0000] <hober>
abarth steps in front of the firing squad, err, technical committee

[16:57:06.0000] <zewt>
wish i could say <img src=sha1.jpg filename=family.jpg> to hint browsers to save-as with a different filename (without having to fight with servers to set content-disposition)

[16:57:56.0000] <zewt>
but i couldn't even get people to believe i wanted that for <a>


2013-03-15
[17:16:41.0000] <zewt>
oh, jesus christ

[17:16:55.0000] <zewt>
apparently webkit allows navigating to blob URLs, and people are using it for things

[17:17:57.0000] <zewt>
https://github.com/eligrey/FileSaver.js/blob/master/FileSaver.js this idiot is navigating to a blob url to basically polyfill FileSaver

[17:20:12.0000] <zewt>
not entirely sure how since this code is pretty unreadable

[17:22:05.0000] <zewt>
or maybe it's trying to do that on firefox and doing something else in webkit

[17:22:21.0000] <zewt>
stripping down the code to figure it out

[17:25:04.0000] <zewt>
whew: looks like it's trying to do that in firefox, but is already broken (maybe firefox used to allow navigating to blob URLs and they stopped that)

[17:25:48.0000] <zewt>
<- terrified of anything that could make blob URLs more complicated and poorly specced than they already are

[18:24:15.0000] <sicking>
ng

[18:25:52.0000] <zewt>
wt

[02:09:05.0000] <jgraham>
/me wonders how to answer "would it be possible to add tests" without sounding rude

[02:09:45.0000] <jgraham>
The answer is something like "yes, of course. But someone needs to write them"

[02:10:58.0000] <jgraham>
zcorpan: Do you have any plans to add workers typed array tests?

[02:11:37.0000] <zcorpan>
jgraham: yeah i can do that

[02:12:19.0000] <jgraham>
zcorpan: Did you see the email on public-webapps-testsuite? There is a WebGL test but it is in some other format

[02:12:38.0000] <zcorpan>
i guess structured clone and transfer in general needs tests

[02:12:42.0000] <jgraham>
https://github.com/KhronosGroup/WebGL/blob/master/sdk/tests/conformance/typedarrays/typed-arrays-in-workers.html

[02:12:42.0000] <zcorpan>
yeah lemme reply

[02:13:00.0000] <jgraham>
OK, that's one easy solution :)

[02:13:59.0000] <jgraham>
I thought we had some tests for structured clone kicking around in some context, but I'm pretty sure they predate typed arrays

[02:17:21.0000] <zcorpan>
yeah

[02:17:28.0000] <zcorpan>
and probably predate transfer, too

[02:20:38.0000] <zcorpan>
reviewing the microsoft worker gives me the impression that they have tried to get as many test *files* as possible with as little effort as possible

[02:20:45.0000] <zcorpan>
which is a bit annoying

[02:21:14.0000] <zcorpan>
e.g. compare http://w3c-test.org/webapps/Workers/tests/submissions/Microsoft/Worker_ErrorEvent_filename.htm and http://w3c-test.org/webapps/Workers/tests/submissions/Microsoft/Worker_ErrorEvent_lineno.htm

[02:21:52.0000] <zcorpan>
(or maybe s/with as little effort as possible//)

[02:22:07.0000] <tobie>
wrote some basic tests for structured cloning a while back.

[02:22:17.0000] <tobie>
let me try to dig them out.

[02:24:34.0000] <jgraham>
To be fair the old Opera test thing with top.rr encouraged the same behaviour

[02:25:28.0000] <jgraham>
Or encouraged you to do things like passed = e.someProp == "expected1" && e.otherProp == "expected2" && [...]

[02:26:24.0000] <jgraham>
So it's hard to know if it's just a cultral thing where they are writing tests in the same way they always have

[02:35:20.0000] <smaug____>
zcorpan: then r- the tests ;)

[02:35:33.0000] <zcorpan>
smaug____: working on it

[02:35:49.0000] <zcorpan>
jgraham: yes

[02:36:00.0000] <zcorpan>
jgraham: i'm sure i have tests that do this sort of thing as well

[02:37:39.0000] <Ms2ger>
So, git wizards

[02:37:48.0000] <Ms2ger>
How do I make "git pull w3c" work?

[02:37:59.0000] <Ms2ger>
To pull from https://github.com/w3c/web-platform-tests

[02:39:02.0000] <jgraham>
Ms2ger: git remote add w3c git‚äôgc:w3c/web-platform-tests.git

[02:39:13.0000] <jgraham>
If you don't already have a remote called w3c

[02:40:00.0000] <jgraham>
Otherwise git remote set-url w3c git‚äôgc:w3c/web-platform-tests.git

[02:40:02.0000] <Ms2ger>
You asked to pull from the remote 'w3c', but did not specify

[02:40:03.0000] <Ms2ger>
a branch. Because this is not the default configured remote

[02:40:03.0000] <Ms2ger>
for your current branch, you must specify a branch on the command line.

[02:40:15.0000] <jgraham>
OK

[02:40:58.0000] <jgraham>
git branch --set-upstream {branchname} w3c/master

[02:41:35.0000] <jgraham>
(honestlky, I never use git pull. I always use git fetch and then explicity rebase)

[02:43:14.0000] <Ms2ger>
I have no idea what all of those are

[02:43:23.0000] <jgraham>
What all what are?

[02:44:47.0000] <jgraham>
git pull does two things by default: "git fetch" which pulls in all the commits from an upstream and "git merge" which tries to merge the current branch with the upstream branch it's tracking

[02:44:49.0000] <tobie>
zcorpan, jgraham: here: https://gist.github.com/tobie/3d81cd3d48859d2df1dd

[02:45:12.0000] <tobie>
LMK if that's of interest to you, in which case I'll submit them officially.

[02:45:27.0000] <Ms2ger>
I'm only pulling after my PR has been merged

[02:45:37.0000] <jgraham>
That is pretty silly behaviour because a) it is too easy to make a branch that's tracking the wrong thing and b) rebase is better than merge for unpushed changes

[02:46:09.0000] <Ms2ger>
And my unpushed changes are in a hg repo for my sanity

[02:46:17.0000] <jgraham>
So instead of doing the magic all-in-one operation, you can do each part independently (like in hg)

[02:46:41.0000] <jgraham>
git fetch, then git rebase {branch I think is the one this branch should be based on}

[02:46:46.0000] <annevk>
Hixie: I think I should give a response of sorts

[02:47:05.0000] <tobie>
Agreed. git fetch W3C and rebasing is a much more sane strategy.

[02:47:21.0000] <Philip`>
/me likes "git pull --rebase"

[02:47:38.0000] <jgraham>
You can also change the default behaviour of git pull to rebase

[02:48:01.0000] <zcorpan>
tobie: thanks

[02:48:02.0000] <Ms2ger>
So, I fetched

[02:48:12.0000] <Ms2ger>
Now I'm trying to push those commits to my fork

[02:48:21.0000] <jgraham>
(which is "git config branch.autosetuprebase always")

[02:49:11.0000] <jgraham>
git push {remote} HEAD:{remote_branch}

[02:49:51.0000] <jgraham>
Will push HEAD on your local checkout to {remote_branch} in the remote named {remote}

[02:50:12.0000] <jgraham>
(HEAD could be anything commit-like e.g. a branch name)

[02:51:09.0000] <tobie>
zcorpan: note I have zero recollection of why I implemented the structureClone helper function that way.

[02:51:13.0000] <jgraham>
(so you can do things like "git fetch w3c; git push ms2ger w3c/master:master" to update the master branch in the ms2ger remote with the latest commits from the w3c remote)

[02:51:41.0000] <Ms2ger>
*sigh*

[02:51:49.0000] <Ms2ger>
All I want to do is hg pull -u w3c && hg push

[02:51:54.0000] <Ms2ger>
Why is this so hard?

[02:52:03.0000] <jgraham>
It isn't :p

[02:52:34.0000] <Philip`>
Ms2ger: Because you make life hard for yourself by using two tools instead of one?

[02:52:36.0000] <Ms2ger>
Anyway, git pull w3c master and git push seems to have worked

[02:53:00.0000] <Philip`>
It only takes a few months to get used to how git does things

[02:54:36.0000] <Ms2ger>
/me tries to remember what he was going to do before git got in the way

[02:55:01.0000] <jgraham>
If all you are doing is shunting commits between different remote repos, I think you *really* don't want to use git pull

[02:55:19.0000] <jgraham>
But anyway, if you solved your problem, that's good :)

[02:56:16.0000] <Ms2ger>
Well, what did I want to do, then?

[02:57:25.0000] <Ms2ger>
Fetch did something, but apparently not enough

[02:57:36.0000] <SimonSapin>
eh, we found the packet of death that crashes our MTA ‚Ä¶ time to invoke http://xkcd.com/242/

[02:58:10.0000] <jgraham>
Ms2ger: fetch will bring all the remote commits into your local repository

[02:58:58.0000] <Philip`>
I think "git fetch" is equivalent to "hg pull" (without the "-u")

[02:59:36.0000] <Ms2ger>
Then how do I do hg update?

[03:00:21.0000] <SimonSapin>
Ms2ger: git merge origin/master (assuming the branch is master, and you want a merge rather than a rebase)

[03:00:39.0000] <jgraham>
I think the answer is "it depends exactly what you want to do"

[03:00:56.0000] <Ms2ger>
I don't want to merge

[03:01:11.0000] <SimonSapin>
although rebase and merge are the same if nothing have diverged. git calls that a "fast-forward merge"

[03:01:14.0000] <Ms2ger>
My tree is a subset of upstream

[03:01:33.0000] <jgraham>
If you want to checkout the upstream changes

[03:01:48.0000] <jgraham>
Then the safest option is git merge --ff-only

[03:02:05.0000] <SimonSapin>
Ms2ger: it‚Äôs still called a merge, although a "fast-forward" one

[03:02:12.0000] <jgraham>
Which will update your local branch but only if it is really a subset of upstream

[03:02:23.0000] <jgraham>
And throw an error if it isn't

[03:02:34.0000] <jgraham>
If you *do* have local commits

[03:02:47.0000] <Ms2ger>
A merge is when you have two heads, and you create a new commit with the two heads as parents

[03:03:06.0000] <SimonSapin>
Ms2ger: git calls that a non-fast-forward merge

[03:03:28.0000] <Ms2ger>
So git just calls things that aren't merges merges to confuse me?

[03:03:38.0000] <Ms2ger>
That sounds pretty much expected

[03:03:45.0000] <jgraham>
Well you are merging in the remote changes

[03:03:57.0000] <jgraham>
So it's not like it doesn't make sense

[03:06:05.0000] <jgraham>
(I don't tend to think in terms of "heads" with git. I just think in terms of branches)

[03:06:35.0000] <Ms2ger>
Not with my definition of merge :)

[03:07:56.0000] <Ms2ger>
Anyway

[03:08:08.0000] <Ms2ger>
Feel free to review :)

[03:10:48.0000] <jgraham>
I wonder why that didn't get a critic review

[03:11:12.0000] <Ms2ger>
It did

[03:11:22.0000] <Ms2ger>
This is an automatic message generated by the review at:

[03:11:22.0000] <Ms2ger>
  http://critic.hoppipolla.co.uk/r/8

[03:11:40.0000] <jgraham>
Oh, I'm just not set up as a reviewer there :)

[03:11:58.0000] <Ms2ger>
tobie, and I'm pretty sure ES doesn't accept tests from people who aren't employed by a TC member

[03:11:59.0000] <zcorpan>
does https://github.com/w3c/web-platform-tests/pull/37 have a critic review?

[03:13:05.0000] <jgraham>
zcorpan: Does now: http://critic.hoppipolla.co.uk/r/9

[03:13:17.0000] <jgraham>
I forgot to transfer the filters to the new repo.

[03:13:27.0000] <tobie>
Ms2ger: that is just absurd.

[03:13:42.0000] <Ms2ger>
tobie, indeed

[03:13:42.0000] <jgraham>
tobie: Also, true

[03:14:01.0000] <tobie>
mmm.

[03:14:03.0000] <Ms2ger>
tobie, but no, I'm not going to bother fighting them

[03:14:08.0000] <tobie>
I might.

[03:14:12.0000] <jgraham>
Pretty sure the right thing to do is smuggle them in via jwalden or someone

[03:14:24.0000] <tobie>
I live 10 min away from Ecma HQ.

[03:14:27.0000] <Ms2ger>
I could do that

[03:14:34.0000] <Ms2ger>
But then I have to do work

[03:14:45.0000] <jgraham>
Well I mean the right thing to do is to take pitchforks and burning torches to ECMA

[03:14:55.0000] <Ms2ger>
Whereas it's much easier to just route around the damage

[03:15:34.0000] <Ms2ger>
jgraham, do the keyboard shortcuts actually work in Fx?

[03:16:27.0000] <jgraham>
Ms2ger: I think they might not. If they don't work in Chrome either I guess it will get fixed soon ;)

[03:16:36.0000] <Ms2ger>
Heh

[03:16:46.0000] <jgraham>
Otherwise, patches welcome (or I will look)

[03:17:13.0000] <tobie>
what license is test262 under?

[03:17:35.0000] <tobie>
can't find this info on the website.

[03:18:36.0000] <jgraham>
darobin, MikeSmith, tobie, zcorpan, Ms2ger, others: if you had filters on the html-tetssuite repo. in critic you will need to readd tehm for the web-platform-tests repo. Sorry about that.

[03:18:41.0000] <jgraham>
https://github.com/tronical/test262/blob/master/LICENSE

[03:18:43.0000] <jgraham>
Perhaps?

[03:19:17.0000] <tobie>
jgraham: ty.

[03:20:12.0000] <jgraham>
https://mail.mozilla.org/pipermail/test262-discuss/2012-February/000086.html is also relevant

[03:20:20.0000] <tobie>
OK, so I guess we should try to fix the contribution situation at Ecma (I'll give it a try), or fork the repo and pull it in somehow.

[03:30:03.0000] <zcorpan>
is there something that returns a File without user interaction?

[03:30:57.0000] <tobie>
Happy birthday darobin!

[03:31:02.0000] <tobie>
zcorpan: nope.

[03:31:23.0000] <zcorpan>
this is annoying

[03:31:35.0000] <tobie>
There's a thread about that being an issue for testing on the whatwg mailing list, afaik.

[03:31:43.0000] <darobin>
thanks tobie :)

[03:31:44.0000] <zcorpan>
ah

[03:31:50.0000] <tobie>
where I complain direly.

[03:31:53.0000] <jgraham>
Oh, happy birthday

[03:32:18.0000] <darobin>
thank you man :)

[03:34:20.0000] <zcorpan>
tobie: i can't find the thread. what should i search for?

[03:34:33.0000] <tobie>
zcorpan: webapps, actually: http://lists.w3.org/Archives/Public/public-webapps/2012OctDec/0675.html

[03:34:46.0000] <tobie>
and I must've dreamt about complaining.

[03:35:26.0000] <jgraham>
Maybe you are actually Victor Costan in disguise?

[03:36:02.0000] <tobie>
maybe.

[03:36:11.0000] <zcorpan>
tobie: thanks

[03:38:14.0000] <tobie>
jgraham: the more plausible answer is I failed at clicking send.

[03:39:13.0000] <tobie>
jgraham: or the content was so full of some of my signature garbled sentences it was trashed by a spambot.

[03:40:14.0000] <annevk>
darobin darobin darobin

[03:40:31.0000] <annevk>
happy b-day!

[03:40:45.0000] <Ms2ger>
I thought it was darobin's birthday just now...

[03:43:53.0000] <jgraham>
Maybe he's like the Queen

[03:45:45.0000] <tobie>
Ms2ger: Reached out to Ecma. we'll see how this goes. Will keep youposted.

[03:46:12.0000] <Ms2ger>
Ta

[03:47:03.0000] <tobie>
Do we have specs in the WebApps where we feel we have 100% test coverage?

[03:47:21.0000] <tobie>
Trying to validate our test coverage mode, here.

[03:47:28.0000] <tobie>
s/mode/model/

[03:47:39.0000] <Ms2ger>
Mm

[03:47:43.0000] <Ms2ger>
Progress events

[03:48:55.0000] <darobin>
annevk annevk! Thanks :)

[03:51:07.0000] <tobie>
Ms2ger: ty

[03:51:50.0000] <zcorpan>
if i'm reading webidl right, this should throw TypeError: postMessage(null, [null]);

[03:52:15.0000] <zcorpan>
since null isn't a Transferable and can't be converted to one

[03:55:27.0000] <Ms2ger>
What's the definition of postMessage?

[03:59:18.0000] <zcorpan>
 void postMessage(any message, optional sequence<Transferable> transfer);

[03:59:27.0000] <zcorpan>
this is the worker postMessage

[04:01:43.0000] <Ms2ger>
Looks like it would throw, yes

[04:03:50.0000] <zcorpan>
hmm. cross-document messaging is a webapps spec, isn't it? i guess webapps needs to join the github thing if they want the tests i submitted there :-)

[04:04:47.0000] <zcorpan>
maybe i should send an email to public-webapps-testing about that

[04:04:48.0000] <Ms2ger>
We'll see what Art sorts out today

[04:05:55.0000] <zcorpan>
i guess the document structure in the testsuite is generated from the whatwg spec?

[04:06:13.0000] <zcorpan>
or maybe not

[04:06:15.0000] <Ms2ger>
darobin did it

[04:07:02.0000] <tobie>
zcorpan: if you want to use the tests I sent you, I'll need to run them through fb legal. Should be fast, but I still have to do it.

[04:07:27.0000] <Ms2ger>
Fun

[04:07:53.0000] <tobie>
Ms2ger: absolutely.

[04:16:30.0000] <darobin>
zcorpan: the structure is generated from the spec, err, I forgot which variant I used but the differences are small

[04:17:04.0000] <darobin>
as for webapps moving to github, everyone seems to be waiting on the approval from someone else

[04:17:37.0000] <darobin>
so what I would recommend is: JFDI

[04:17:49.0000] <darobin>
ask for forgiveness, not permission and all that

[04:17:57.0000] <darobin>
and even then, screw forgiveness

[04:17:58.0000] <darobin>
just do it

[04:25:58.0000] <Ms2ger>
darobin, Art said he'd try to sort it out today, so maybe we could wait for that :)

[04:26:51.0000] <darobin>
you're such a bureaucratic square Ms2ger

[04:27:27.0000] <Ms2ger>
If you wanted to jfdi, should've done that ages ago :)

[04:28:44.0000] <darobin>
Ms2ger: I'm not working on WebApps testing :p

[04:29:23.0000] <Ms2ger>
Why not? :)

[04:31:09.0000] <jgraham>
Because then plh will apply "jfdi" to his fingers with a hammer?

[04:33:05.0000] <darobin>
Ms2ger: because I have two or three other things to do...

[05:12:24.0000] <annevk>
Ms2ger: but progress events is a useless spec, might be worth adding :)

[05:12:33.0000] <Ms2ger>
True :)

[05:12:44.0000] <Ms2ger>
But he didn't ask that

[05:14:16.0000] <jgraham>
We could write the null spec with 0 conformance requirements so that we have one with complete test coverage

[05:14:35.0000] <jgraham>
Although by "write"

[05:14:42.0000] <jgraham>
I really mean "use HTML4"

[05:16:26.0000] <annevk>
brb, adding quotes to my desk

[05:27:39.0000] <annevk>
http://krijnhoetmer.nl/irc-logs/whatwg/20130315#l-281 :-(

[05:27:46.0000] <annevk>
Sounds like Microsoft's CSS tests

[05:28:26.0000] <annevk>
But then of course they do contribute, whereas others just don't care that much...

[05:57:46.0000] <tobie>
Ms2ger: meeting with Ecma next week. Seems like this is fixable.

[05:57:57.0000] <Ms2ger>
We'll see

[05:58:47.0000] <tobie>
oh come on. A bit of optimism wouldn't hurt. :)

[05:59:05.0000] <Ms2ger>
You must be new here :)

[06:00:02.0000] <gsnedders>
"this"?

[06:00:12.0000] <gsnedders>
/me wonders if tobie is trying to let others submit tests to test262

[06:00:19.0000] <Ms2ger>
Right

[06:00:42.0000] <tobie>
Ms2ger: you know I am. :)

[06:00:57.0000] <gsnedders>
I got the impression this had to go to the Ecma GA to get approved, and nobody had the drive to push it through there.

[06:02:18.0000] <jgraham>
gsnedders: You can tell we are talking javascript if you aren't sure what "this" referes to

[06:02:42.0000] <tobie>
jgraham: I was trying to find a joke to make around this but failed.

[06:02:44.0000] <Ms2ger>
Nicely done

[06:03:01.0000] <gsnedders>
But I know what this refers to! thisArg!

[06:05:45.0000] <zcorpan>
hmm. i'm trying to build cssom with the latest xref/ but get an error: ValueError: Expecting property name: line 26 column 1 (char 791)

[06:05:50.0000] <gsnedders>
How come WebKit/Gecko support blobs for WebWorkers?

[06:06:03.0000] <zcorpan>
  File "/System/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/json/decoder.py", line 382, in raw_decode

[06:06:04.0000] <zcorpan>
    obj, end = self.scan_once(s, idx)

[06:06:21.0000] <Ms2ger>
What's the deepest anolis frame?

[06:06:39.0000] <gsnedders>
I mean for the Worker constructor, here.

[06:07:10.0000] <zcorpan>
Ms2ger: the above is at the bottom of the traceback

[06:07:57.0000] <gsnedders>
zcorpan: But it's not a frame with Anolis in it.

[06:08:28.0000] <zcorpan>
ah.   File "build/bdist.macosx-10.8-intel/egg/anolislib/processes/xspecxref.py", line 56, in buildReferences

[06:08:56.0000] <jgraham>
Is the latest xref/ actually valid json?

[06:09:02.0000] <Ms2ger>
Apparently not

[06:09:16.0000] <zcorpan>
what's broken?

[06:09:46.0000] <Ms2ger>
https://github.com/whatwg/xref/commit/dd82cfef17a9f9230fd487106a7475048f5ee79a

[06:09:57.0000] <Ms2ger>
You can't have a comma at the end of the line

[06:10:04.0000] <zcorpan>
oh, oops!

[06:14:05.0000] <jgraham>
Yeah, what a ridiculous notion

[06:15:02.0000] <zcorpan>
now make gives me `No such file or directory: 'data/xrefs/css/cssom.json'. Please create it first. ` and `[Errno 20] Not a directory: u'data/specs.json'`

[06:15:14.0000] <zcorpan>
though cssom.json exists there afaict :-/

[06:17:05.0000] <Ms2ger>
Oh, so

[06:17:36.0000] <Ms2ger>
Hm

[06:18:20.0000] <Ms2ger>
Maybe try --xref="../xref"?

[06:20:47.0000] <zcorpan>
Ms2ger: where?

[06:21:01.0000] <Ms2ger>
In the makefile

[06:21:05.0000] <Ms2ger>
Like https://github.com/whatwg/xhr/blob/master/Makefile

[06:22:59.0000] <zcorpan>
https://dvcs.w3.org/hg/csswg/file/654203ca5641/cssom/Makefile is the current makefile

[06:24:13.0000] <Ms2ger>
/me tries

[06:25:54.0000] <zcorpan>
i added --xref="data" (since that's where xref lives) but got the same result

[06:34:25.0000] <Ms2ger>
/me is confused

[06:36:46.0000] <zcorpan>
Ms2ger: about what?

[06:53:21.0000] <Ms2ger>
About the fact that anolis doesn't throw here

[06:53:37.0000] <Ms2ger>
But instead gives me an empty Overview.html

[06:54:02.0000] <Ms2ger>
The node stuff, probably

[06:54:38.0000] <Ms2ger>
Ah, here we are

[06:56:16.0000] <Ms2ger>
zcorpan, where do you get the webidl parser?

[06:56:48.0000] <zcorpan>
Ms2ger: https://dvcs.w3.org/hg/csswg/file/654203ca5641/cssom/README

[06:59:04.0000] <annevk>
Ms2ger: did you write that

[06:59:05.0000] <Ms2ger>
/me gives up

[06:59:12.0000] <annevk>
I mean zcorpan

[06:59:37.0000] <zcorpan>
annevk: no

[06:59:43.0000] <annevk>
Defining HTML inline with IDL seems like a terrible idea

[06:59:56.0000] <annevk>
That's what ReSpec does and every spec with ReSpec runs into problems because of it

[07:00:29.0000] <jgraham>
"defining html inline with idl"?

[07:03:09.0000] <zcorpan>
example idl file: https://dvcs.w3.org/hg/csswg/file/654203ca5641/cssom/idl/CSSCharsetRule.idl and the html source which references idls: https://dvcs.w3.org/hg/csswg/file/654203ca5641/cssom/cssom-source

[07:03:50.0000] <jgraham>
/me wonders why kris and plh aren't "ext" in Art's email

[07:05:15.0000] <annevk>
it's the sole thing I dislike about Art

[07:05:17.0000] <annevk>
his email client

[07:05:50.0000] <annevk>
so annoying, I think sometimes it has leaked into my contacts

[07:06:36.0000] <jgraham>
Well

[07:06:39.0000] <jgraham>
To be fair

[07:06:57.0000] <Ms2ger>
Hrm

[07:07:02.0000] <Ms2ger>
It claims to be thunderbird

[07:07:03.0000] <jgraham>
It's better than all the non-plain-text, gmail-toting, Googlers

[07:07:22.0000] <Ms2ger>
And I can confirm that it's not a feature of thunderbird

[07:07:30.0000] <jgraham>
I assumed that it was a feature of nokia

[07:07:53.0000] <jgraham>
That people without @nokia.com addresses are marked external

[07:08:05.0000] <jgraham>
But that theory seems to be wrong

[07:08:30.0000] <Ms2ger>
Also better than: howcome's indented >'s for quoting, Chris Lilley' 'INITIALS>'

[07:09:21.0000] <jgraham>
And <bryan>

[07:10:56.0000] <Ms2ger>
My response is in red

[07:12:00.0000] <tobie>
jgraham: :D

[07:14:13.0000] <annevk>
I'm glad I got you guys inspired, this is entertaining

[07:20:26.0000] <zcorpan>
just do what bjoern does and paper over people's email client's quirks

[07:21:38.0000] <Ms2ger>
I'd love to see his stuff implemented in my client

[07:44:46.0000] <zcorpan>
Ms2ger: jgraham: does https://github.com/w3c/web-platform-tests/pull/38 have a critic review? (how do i create one myself if there isn't?)

[07:44:48.0000] <zewt>
pretty much the most hopelessly broken thing in email today is people who do the "no quote markers at all" thing

[07:45:11.0000] <Ms2ger>
zcorpan, there is one

[07:45:12.0000] <zewt>
which is essentially "i don't care about how the internet does things and it doesn't bother me if i break the thread for everyone else"

[07:45:37.0000] <Ms2ger>
zcorpan, http://critic.hoppipolla.co.uk/r/8

[07:46:29.0000] <jgraham>
zcorpan: Did you add yourself as a reviewer on that repo?

[07:46:53.0000] <zcorpan>
no

[07:47:00.0000] <jgraham>
You should :)

[07:47:36.0000] <jgraham>
I will try to teach critic to comment on the pull request itself at some point

[07:47:56.0000] <zcorpan>
done. yeah that would be nice

[07:50:16.0000] <tobie>
yes. We'll be logging comments shortly, so having critic working properly there would be useful.

[07:52:02.0000] <jgraham>
Logging comments?

[07:52:21.0000] <tobie>
see Im hopeless after 3pm

[07:52:44.0000] <jgraham>
(I just meant critic would push a message saying "Critic review at {url}")

[07:52:51.0000] <tobie>
oh.

[07:52:59.0000] <tobie>
Well that's not very useful.

[07:53:11.0000] <jgraham>
(doing something more is probably possible but I'm not really sure hwo well the data models match)

[07:53:32.0000] <jgraham>
(e.g. as far as I can tell, github things of comments as things that apply to commits)

[07:53:45.0000] <tobie>
yeah, possibly.

[07:53:49.0000] <tobie>
some of them.

[07:53:50.0000] <jgraham>
(not to commits,pullrequest tuples)

[07:54:33.0000] <jgraham>
(also, less seriously, critic allows multiline comments and has two types of comment, whereas gh only has a single type of single line comment)

[07:54:42.0000] <jgraham>
*thinks

[07:54:51.0000] <tobie>
Don't make me have this conversation again.

[07:55:08.0000] <jgraham>
I'm not making you have any conversation

[07:55:19.0000] <jgraham>
I'm just pointing out that there are some difficulties

[07:55:56.0000] <tobie>
/me stays put.

[07:56:17.0000] <tobie>
:D

[07:57:33.0000] <jgraham>
http://developer.github.com/v3/pulls/comments/#create-a-comment does look a little more promising than I thought

[08:00:58.0000] <Ms2ger>
I complained on IRC once...

[08:02:35.0000] <Ms2ger>
Anyone who's on the webgl mailing list?

[08:30:32.0000] <zcorpan>
nice weekend guys

[08:30:55.0000] <annevk>
Hixie: http://ln.hixie.ch/?start=1086158925&order=-1&count=1 seems we are now doing those kind of OS-level APIs :-)

[08:31:09.0000] <annevk>
zcorpan: you too!

[08:32:04.0000] <zcorpan>
thanks :-)

[08:59:40.0000] <darobin>
heh

[09:00:25.0000] <darobin>
what actually happened: "If three of the most bitter rivals in the marketplace ‚Äî all of whom have extensive experience in the subject in question ‚Äî agree on something, then it's probably [...]"

[09:00:29.0000] <darobin>
A) that they don't want the competition

[09:00:46.0000] <darobin>
B) that they have their heads so far up their arses doing what they've done that they can't see alternatives

[09:01:04.0000] <darobin>
C) that they're on their way to lose their dominance or even disappear

[09:01:09.0000] <darobin>
D) all of the above

[09:01:47.0000] <SimonSapin>
darobin: Is that about mobile carriers in France?

[09:02:16.0000] <TabAtkins>
jgraham: The way to answer that question is.  "Yes. Are you volunteering to write them? ^_^" (the smilie at the end is important)

[09:06:12.0000] <darobin>
SimonSapin: no, it's about the 2004 Hixie blog post that annevk pointed to

[09:06:29.0000] <darobin>
featuring Sun Microsystems, assuming you're old enough to remember who that is

[09:07:36.0000] <SimonSapin>
were they W3C members?

[09:08:54.0000] <annevk>
I've not had time to fix many bugs yet, but it's up at http://fetch.spec.whatwg.org/ now

[09:10:49.0000] <annevk>
I'm also thinking of putting basic CORS and redirect handling directly into basic fetch

[09:11:58.0000] <annevk>
Thoughts welcome

[09:15:23.0000] <darobin>
SimonSapin: oh yes

[09:22:09.0000] <SimonSapin>
darobin: I know about Sun, but it ceased to be before I knew about working groups

[09:42:56.0000] <darobin>
SimonSapin: they were very big in XML groups

[09:43:05.0000] <darobin>
and towards the end in anything related to mobile

[10:12:03.0000] <annevk>
darobin: depending on this bus I'm about to take, I might be a bit early or late

[10:13:57.0000] <darobin>
annevk: that's okay, we're heading out in a few minutes so we'll be there

[10:14:31.0000] <annevk>
darobin: are you close to Leicester Square now by any chance?

[10:14:53.0000] <darobin>
not really

[10:14:56.0000] <darobin>
I'm in Bethnal Green

[10:15:17.0000] <darobin>
I'll be walking to that pub

[10:17:01.0000] <annevk>
nice

[10:17:14.0000] <Ms2ger>
Enjoy

[10:19:53.0000] <smaug____>
scheib: ping

[10:22:57.0000] <darobin>
annevk: actually, I'm in the wrong TZ ‚Äî I'll be walking there in about 30min

[10:23:16.0000] <annevk>
right

[10:23:22.0000] <annevk>
it'll take me about an hour anyway

[10:29:57.0000] <marcosc>
darobin: happy birthday, fella!

[10:31:19.0000] <darobin>
marcosc: thanks man!

[10:36:12.0000] <jgraham>
Did anne really just say "my arrival time depends on how long it takes me to get there"?

[10:37:33.0000] <jgraham>
TabAtkins: In this case it wasn't so mcuh "write them" as "rewrite them to not be part of the WebGL testsuite"

[10:37:52.0000] <jgraham>
But as it turns out zcorpan is awesome

[10:38:04.0000] <jgraham>
Next week: sky blue

[10:57:15.0000] <darobin>
"I don't always go to Bethnal Green, but when I do my arrival time depends on how long it takes me to get there" --annevk

[12:04:07.0000] <scheib>
smug____: at lunch. Email?

[12:08:10.0000] <Ms2ger>
smaug____, you mean

[12:14:58.0000] <smaug____>
scheib: ping me after lunch ?

[12:15:12.0000] <smaug____>
scheib: I'm wondering about the focus handling and pointer lock

[12:15:26.0000] <smaug____>
and spec is unclear about documents and windows

[12:54:19.0000] <scheib>
smaug____: Let's discuss pointer lock and focus handling.

[12:55:05.0000] <smaug____>
scheib: so, first, "Pointer lock must succeed only if the target is in the DOM tree."

[12:55:14.0000] <smaug____>
what if the target is in a data document

[12:55:47.0000] <smaug____>
say, document.implementation.createHTMLDocument().body.requestPointerLock()

[12:55:50.0000] <smaug____>
what should happen?

[12:55:51.0000] <scheib>
I'm unfamiliar why that wouldn't be considered as part of the DOM, apologies.

[12:56:21.0000] <Ms2ger>
It's part of the DOM

[12:56:27.0000] <Ms2ger>
But there's no browsing context

[12:56:28.0000] <smaug____>
yes, it is part of DOM

[12:56:30.0000] <smaug____>
right

[12:57:52.0000] <smaug____>
then, about focusing. What should happen to pointer lock when focus is moved to an iframe ?

[12:59:04.0000] <smaug____>
per spec pointer lock is cancelled in that case

[12:59:15.0000] <smaug____>
but I'm not sure whether implementations actually do that always

[13:00:00.0000] <scheib>
So, I'm not personally familiar with createHTMLDocument() yet, just started looking. It seems to create a new document for you, but is it rooted anywhere?

[13:00:17.0000] <smaug____>
"rooted"?

[13:00:22.0000] <smaug____>
it is just a document

[13:00:31.0000] <Ms2ger>
Not in a frame or somehting

[13:01:02.0000] <scheib>
Ok, so you can request a lock on a document, and it will be rejected from locking if it is not the document of an active tab, and the tab in the OS level active window.

[13:01:36.0000] <smaug____>
yeah, something like that. Need to just use spec terminology

[13:01:40.0000] <scheib>
BTW, if we can improve the wording of the specification I'm happy to do so, suggestions welcome.

[13:01:41.0000] <smaug____>
browsing context and such

[13:01:59.0000] <smaug____>
scheib: the focus handling is more interesting

[13:02:09.0000] <smaug____>
hmm, actually, per spec, focusing an iframe doesn't exit lock state, since the parent window is still focused... I think

[13:02:30.0000] <smaug____>
but that may mean that key events go to domain X yet mouse events to domain Y

[13:02:32.0000] <scheib>
Ok, on to that. If focus is in the main document, and not an iframe, I expect a request for pointer lock to fail if made from the iframe.

[13:02:33.0000] <Ms2ger>
"Every bug is two bugs: the bug in your code, and the test you didn't write"

[13:03:01.0000] <smaug____>
scheib: request pointer lock in top level document

[13:03:06.0000] <smaug____>
scheib: then focus iframe

[13:03:13.0000] <smaug____>
what should happen to pointer lock

[13:03:31.0000] <smaug____>
note, mouse isn't used to focus the iframe

[13:03:37.0000] <smaug____>
only .focus() or some such

[13:04:00.0000] <scheib>
Right. I don't see a reason it should exit (yet).

[13:04:29.0000] <smaug____>
well, it is really really odd if key events go to domain X yet all the mouse events to domain Y

[13:04:43.0000] <smaug____>
key events follow focus

[13:04:53.0000] <smaug____>
mouse events follow pointer lock

[13:07:29.0000] <scheib>
'odd' may be subjective here. If mouse input has been locked to a particular target I believe it is reasonable for it to stay locked to that target unless there is a reason to break it (user exit, app exit, user moves operating system focus away from the web page).

[13:08:00.0000] <scheib>
The ability to move the keyboard input focus is intentional, it should move, you should still be able to type into different input boxes, move around with TAB, etc.

[13:08:16.0000] <smaug____>
even cross domain?

[13:08:48.0000] <smaug____>
anyhow, the spec should clarify this

[13:09:20.0000] <scheib>
Crossing into an iframe, from a user point of view, is essentially the same as moving between regions of a web page. Unless we are protecting a user from a security vulnerability I don't know that they should be concerned about the domain, in the same way they aren't normally concerned when they move keyboard focus when outside of pointer lock.

[13:10:02.0000] <scheib>
Re clarifying the spec: certainly, we can do that, let's wrap up that we're in agreement as to what should happen.

[13:10:36.0000] <smaug____>
I think I can live with focus moving

[13:10:46.0000] <smaug____>
at least until a security bug is found

[13:10:53.0000] <smaug____>
:)

[13:12:16.0000] <scheib>
Ok. BTW, I verify that webkit allows the transition in current implementation via http://scheib.github.com/HTMLMisc/PointerLockAndFullscreen.html

[13:13:29.0000] <smaug____>
based on code inspection Gecko allows focus changes in fullscreen mode, but I was thinking to change it

[13:13:34.0000] <smaug____>
but maybe I don't do that yet

[13:13:41.0000] <smaug____>
I'm adding the non-fullscreen mode

[13:20:19.0000] <scheib>
In clarifying the spec for focus, how does this addition in section 7. Requirements sound to you: "The Pointer Lock API must exit the pointer lock state if the user agent, window, or tab loses focus." by adding, " Moving focus between elements in a tab, including into other browser contexts inside iframes, does not exit pointer lock."

[13:21:23.0000] <smaug____>
scheib: sounds ok

[13:21:24.0000] <smaug____>
thanks

[13:36:33.0000] <smaug____>
scheib: if pointer lock and focus are first in iframe, and then focus is moved to parent, what should happen?

[13:36:59.0000] <smaug____>
iframe isn't focused anymore, so I guess pointer lock is cancelled

[13:46:15.0000] <scheib>
smaug____: Same arguments as above, I don't see a reason to exit pointer lock.

[13:47:37.0000] <scheib>
E.g. use case, a 3D model editor that is a composition of 3D window views and a property editor on the right hand side. Pointer lock engaged inside one the of 3D views that are each an iframe, and then keyboard focus moved to a number edit box in the property editor in the parent document. Why break the lock?

[13:53:15.0000] <smaug____>
scheib: well, then the spec needs still some clarifications

[13:54:42.0000] <scheib>
" Moving focus between elements in a tab, including into other browser contexts across iframe boundaries, does not exit pointer lock." ?

[13:55:35.0000] <smaug____>
hmm, actually, need to drop iframe

[13:55:41.0000] <smaug____>
we have frames and what not

[14:01:28.0000] <scheib>
" Moving focus between elements in a tab, including into other browsing contexts, does not exit pointer lock." ?

[14:07:29.0000] <smaug____>
ok

[14:07:38.0000] <scheib>
smaug____: Any suggestions on how to clarify in specification terms the relationship between a document and a tab with active window manager focus?

[14:17:22.0000] <scheib>
smaug____: mmm, I'm thinking along the lines of "active document of the browsing context currently focused by the OS/window manger, e.g. in the active tab of a browser." http://www.whatwg.org/specs/web-apps/current-work/multipage/browsers.html#active-document

[14:20:47.0000] <smaug____>
yeah

[14:20:50.0000] <smaug____>
something like that

[14:36:08.0000] <Hixie>
zewt: <a download> exists now

[14:37:24.0000] <zewt>
that doesn't let me set a filename without also forcing a download (like content-disposition: inline; filename=foo)

[14:37:57.0000] <Hixie>
ah, right

[14:38:33.0000] <zewt>
don't think i ever really understood why we didn't do <a download filename=foo>, keeping them orthogonal (like they are in C-D)

[14:39:57.0000] <Hixie>
more complicated

[14:41:52.0000] <zewt>
keeping unrelated things separate seems simpler to me, at least

[14:47:32.0000] <zewt>
uh gross, firefox is recommending putting BOMs on files (in the console)

[15:44:12.0000] <smaug____>
Web Audio API spec is so sad


2013-03-16
[17:00:41.0000] <GPHemsley>
annevk, Hixie: Feedback welcome, when you get a chance: https://www.w3.org/Bugs/Public/show_bug.cgi?id=21307

[06:11:21.0000] <annevk>
GPHemsley: done

[07:22:58.0000] <zewt>
event thread derailed talking about how it should support some other api that doesn't even exist


2013-03-17
[08:16:52.0000] <Ms2ger>
MikeSmith, hey, https://w3c-test.org/resources/WebIDLParser.js has disappeared

[08:32:43.0000] <Ms2ger>
jgraham, any chance you can merge https://github.com/w3c/testharness.js/pull/13 ?

[08:51:09.0000] <jgraham>
Ms2ger: Seems like the wrongfix to me

[09:06:07.0000] <Ms2ger>
jgraham, got a better one?

[09:35:14.0000] <jgraham>
Ms2ger: I don't know what the bug is. Is it a problem with the tests or with the parser?

[09:35:29.0000] <jgraham>
(I didn't look)

[09:35:42.0000] <jgraham>
(and will have to go in a few minutes so don't plan to)

[09:35:48.0000] <Ms2ger>
The tests all rely on the old parser, not the new one

[09:36:23.0000] <Ms2ger>
And I'd rather not go and find them all to figure out if they need changes

[09:37:14.0000] <jgraham>
So I don't understand why the tests depend on a specific parser

[09:37:58.0000] <Ms2ger>
<script src=/resources/WebIDLParser.js></script>

[09:38:33.0000] <Ms2ger>
Changing that to refer to the new parser may or may not work

[09:38:44.0000] <jgraham>
Yeah well we should try that first at least

[09:38:52.0000] <Ms2ger>
But in either case, the new parser isn't available on http://w3c-test.org/resources/

[09:38:56.0000] <jgraham>
Depending on old unsupported software is bad

[09:39:10.0000] <jgraham>
I guess we need to ci the new parser there

[09:39:30.0000] <jgraham>
Or make some sort of submodule if that will work

[09:39:47.0000] <jgraham>
Probably best to ask darobin

[09:40:46.0000] <Ms2ger>
Anyway, it'd be nice if introducing a new implementation didn't break every consumer

[09:41:26.0000] <jgraham>
YEs, well

[09:41:42.0000] <jgraham>
Maybe the new harness should have a more back-compatible API

[09:42:04.0000] <jgraham>
So we could just create a symlinkor something

[09:42:14.0000] <jgraham>
(no one runs windows, right? :)

[09:43:39.0000] <Ms2ger>
I don't :)

[09:44:02.0000] <jgraham>
But even just updating the filename would be easy if the function names didn't change


2013-03-18
[02:06:34.0000] <zcorpan>
if old gecko looked for "mathml" in the SI, and this is what the mathml spec uses, why is a new FPI suggested instead of doing what old gecko did?

[02:06:44.0000] <zcorpan>
the new FPI isn't going to fix the mathml spec

[02:07:35.0000] <zcorpan>
if the mathml spec is going to be changed (to use the new FPI), it could be changed to use one of the already supported doctypes or to avoid entities

[02:50:23.0000] <odinho>
So, webapps (particulary) and webappsec joining web-platform-tests will create a folder explosion because of all the different specs.

[02:50:44.0000] <odinho>
I am right in that we'll have toplevel folders for every spec, right?

[02:50:58.0000] <odinho>
(because I just said so on the webappsec list :P heh)

[02:51:02.0000] <Ms2ger>
Yes

[02:51:13.0000] <Ms2ger>
Webapps has ~15 at this point

[02:51:15.0000] <odinho>
Okay, goodie, I didn't lie.

[03:03:10.0000] <zcorpan>
Hixie: is it possible to allow https for resources.whatwg.org ?

[03:03:36.0000] <Ms2ger`>
Ah, darobin_

[03:04:30.0000] <zcorpan>
or should we mirror e.g. file-bug.js somewhere on dvcs.w3.org or so? (how?)

[03:05:29.0000] <zcorpan>
darobin_: ^

[03:05:59.0000] <darobin>
zcorpan: what do you want to do with file-bug.js?

[03:06:27.0000] <Ms2ger`>
darobin, I want you to fix https://w3c-test.org/webapps/DOMCore/tests/approved/interfaces.html

[03:06:33.0000] <zcorpan>
darobin: include it in e.g. https://dvcs.w3.org/hg/csswg/raw-file/tip/cssom-view/Overview.html

[03:07:12.0000] <zcorpan>
darobin: http: no longer works and resources.whatwg.org doesn't support https

[03:07:18.0000] <darobin>
zcorpan: ok, but I'm missing some context :) does it need to be on the same origin?

[03:07:22.0000] <darobin>
ah, gotcha

[03:08:06.0000] <darobin>
I reckon you could mirror it yes, or I could set that up

[03:08:19.0000] <darobin>
I could even mirror it to w3c-test.org which does support https

[03:08:58.0000] <zcorpan>
darobin: if you could set up a mirror somewhere, that'd be splendid :-)

[03:09:31.0000] <darobin>
zcorpan: is the source on github somewhere?

[03:09:50.0000] <darobin>
Ms2ger`: it's looking like someone clobbered the webidl2.js clone there, investigating

[03:10:12.0000] <Ms2ger`>
darobin, more to the point, there's no WebIDLParser.js

[03:10:27.0000] <zcorpan>
yes. https://github.com/whatwg/resources.whatwg.org

[03:10:36.0000] <darobin>
zcorpan: ta, looking at that now

[03:10:54.0000] <darobin>
Ms2ger`: hmmmm, yeah, that's... from webidl.js v1 ‚Äî it doesn't exist anymore

[03:11:17.0000] <Ms2ger`>
darobin, why not just call it that too?

[03:11:30.0000] <darobin>
call what what?

[03:11:41.0000] <Ms2ger`>
The new parser .js file

[03:11:52.0000] <darobin>
it doesn't have the same interface

[03:12:06.0000] <darobin>
that DOM test is referring to a dirty hack from ancient history

[03:12:19.0000] <Ms2ger`>
And so do all other idlharness.js tests

[03:12:31.0000] <darobin>
Ms2ger`: oooh, fun!

[03:12:53.0000] <darobin>
so, when I announced an update, I'm guessing no one took notice?

[03:13:03.0000] <Ms2ger`>
Oh, I did test the update

[03:13:15.0000] <Ms2ger`>
Only at that point, it didn't require changing the test

[03:13:22.0000] <darobin>
I didn't remove the WebIDLParser.js

[03:13:25.0000] <darobin>
I have no idea who did

[03:13:36.0000] <darobin>
ok, let me apply a quick fix

[03:15:01.0000] <darobin>
oh right, the quick fix won't work

[03:15:18.0000] <darobin>
/me injects some coffee

[03:15:52.0000] <darobin>
Ms2ger`: may I propose a way forward?

[03:15:57.0000] <darobin>
how about you move those tests to GH

[03:16:08.0000] <darobin>
once they're there, I fix all the idlharness madness?

[03:16:35.0000] <Ms2ger`>
How?

[03:17:22.0000] <Ms2ger`>
darobin, I mean, the tests need to include a <script> that points to the parser, right?

[03:19:04.0000] <darobin>
zcorpan: http://w3c-test.org/resources.whatwg.org/

[03:19:08.0000] <tobie>
Wouldn't it make sense to compile those tests server side anyway?

[03:19:25.0000] <zcorpan>
darobin: thanks!

[03:19:36.0000] <Ms2ger`>
I probably object to any compilation step

[03:19:50.0000] <tobie>
Ms2ger`: why?

[03:20:02.0000] <Ms2ger`>
Because that makes it harder to set up

[03:20:10.0000] <darobin>
Ms2ger`: the right way with the new idlharness is: http://berjon.com/tmp/geotest/

[03:20:26.0000] <tobie>
makes what harder to setup?

[03:20:34.0000] <darobin>
so yes you need to change the <script>

[03:20:47.0000] <darobin>
Ms2ger`: what I was offering was to do that part, but in exchange for that you move the files to GH

[03:21:00.0000] <darobin>
that way, I don't get to do any hg, and you don't get to do any JS

[03:21:06.0000] <darobin>
seems like a good plan for all involved

[03:21:18.0000] <Ms2ger`>
darobin, why? What's wrong with changing the file name of the script to what it was before, instead of changing all the references?

[03:21:36.0000] <darobin>
hmmmm

[03:22:03.0000] <darobin>
I could add a rewrite for sure, but I'm wondering if it's enough

[03:22:27.0000] <Ms2ger`>
tobie, first, I have no idea what kind of compilation you're thinking about, and second, I want to be able to checkout a repository and not need to do any compilation step before I can run my tests

[03:22:33.0000] <Ms2ger`>
darobin, let's try that first, then :)

[03:22:41.0000] <darobin>
sorry, I got up at 5 to go get my daughter at the train station, this "logic" you insist on using is not making it's way through

[03:22:55.0000] <darobin>
/me needs sugar

[03:23:15.0000] <Ms2ger`>
/me wonders what darobin's daughter was doing at the train station at 5am

[03:24:43.0000] <darobin>
Ms2ger`: coming back from her ski holiday :)

[03:32:16.0000] <tobie>
Ms2ger`: what's your use case for running those tests?

[03:32:50.0000] <tobie>
I mean: what are you aiming to do when running them like that?

[03:33:03.0000] <Ms2ger`>
tobie, running tests while offline, adding tests and running them, integrating them in a continuous integration system

[03:34:43.0000] <tobie>
Ms2ger`: there's a bunch of tests that have build steps: e.g.: all ref tests, i18n tests, some other ones I can't remember right now.

[03:34:49.0000] <zcorpan>
Ms2ger`: i guess you have write access to anolis, right?

[03:35:00.0000] <Ms2ger`>
zcorpan, I do, yes

[03:35:19.0000] <Ms2ger`>
tobie, my ref tests run fine without any build steps

[03:35:21.0000] <zcorpan>
Ms2ger`: could you change the <!--logo--> substitution to load the image over https?

[03:35:32.0000] <tobie>
oh. on FF.

[03:35:34.0000] <zcorpan>
Ms2ger`: sub.py, search for "logo"

[03:35:34.0000] <tobie>
Sure.

[03:35:41.0000] <Ms2ger`>
Sure

[03:35:53.0000] <Ms2ger`>
zcorpan, you could also send me a pull request ;)

[03:35:59.0000] <zcorpan>
thanks

[03:36:01.0000] <tobie>
You have a custom build of the browser however. :)

[03:36:23.0000] <zcorpan>
Ms2ger`: oh it's on github now?

[03:36:48.0000] <Ms2ger`>
zcorpan, bitbucket

[03:37:14.0000] <Ms2ger`>
tobie, no, I've also got a test runner that allows running reftests

[03:37:22.0000] <Ms2ger`>
tobie, based on manual inspection, of course

[03:37:32.0000] <tobie>
oh.

[03:37:34.0000] <tobie>
yeah.

[03:38:10.0000] <tobie>
I'm wondering if there's be value in providing build of the test suite.

[03:38:27.0000] <zcorpan>
/me 101 switching trains

[03:38:27.0000] <Ms2ger`>
I still don't know what you mean by "build"

[03:38:55.0000] <tobie>
damned. I thought switching terminology in the middle of my argument would trick you.

[03:40:41.0000] <tobie>
Ms2ger`: for example, i18n tests are all contained in a php file and generated on the fly into testharness tests.

[03:41:15.0000] <tobie>
idlharness tests are also turned into testharness tests, but client-side.

[03:41:16.0000] <Ms2ger`>
I'm not quite convinced that's a reasonable thing to do, but sure

[03:41:39.0000] <tobie>
I'm not convinced either.

[03:41:54.0000] <tobie>
I'd be doing it if I was.

[03:42:00.0000] <tobie>
Not asking about it.

[03:42:03.0000] <tobie>
:)

[03:42:13.0000] <Ms2ger`>
Anyway, I'm off for lunch and class after that

[03:45:54.0000] <Ms2ger`>
And tell zcorpan that I pushed his change

[04:04:15.0000] <zcorpan>
logo-ED is still http: but maybe that was pointed out already? is someone fixing that?

[04:12:20.0000] <zcorpan>
darobin: ^

[04:13:30.0000] <darobin>
damn, he left

[05:00:06.0000] <MikeSmith>
Ms2ger: https://w3c-test.org/resources/WebIDLParser.js seems to be back

[05:01:16.0000] <Ms2ger>
https://w3c-test.org/webapps/DOMCore/tests/approved/interfaces.html is still broken

[05:01:22.0000] <Ms2ger>
/me pokes darobin 

[05:01:49.0000] <darobin>
MikeSmith: it's not the right one

[05:01:58.0000] <darobin>
I'll fix this after lunch

[05:02:01.0000] <MikeSmith>
ok

[05:02:10.0000] <darobin>
go back to vacation :)

[05:03:41.0000] <MikeSmith>
:-)

[05:32:55.0000] <zcorpan_>
darobin: here now

[05:33:54.0000] <darobin>
zcorpan_: I think that bug's been reported before but I can't find a trace of it so I reported it again

[05:34:07.0000] <zcorpan_>
darobin: ok, thanks

[05:46:32.0000] <zcorpan_>
would be fun to see how join() behaves with host objects as this

[05:48:26.0000] <darobin>
zcorpan_: I approve of your idea of fun

[05:49:27.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2165

[05:51:00.0000] <zcorpan_>
that one had the same behavior in opera/chrome/firefox. this one is different in firefox: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2166

[05:52:58.0000] <Ms2ger>
zcorpan_, yeah, that's probably getting fixed as we move form to our new bindings

[06:07:57.0000] <zcorpan_>
for how long are we going to have "experimental-webgl" as the context? forever?

[06:09:07.0000] <Ms2ger>
Probably

[06:10:10.0000] <zcorpan_>
splendid

[06:14:48.0000] <zcorpan_>
Ms2ger: reviewed http://critic.hoppipolla.co.uk/r/8

[06:15:00.0000] <Ms2ger>
Yep, thanks

[06:15:14.0000] <Ms2ger>
And good that that one is notreached indeed :)

[06:23:37.0000] <Ms2ger>
So is it expected that any time I click a critic link, I get redirected to /home instead?

[06:30:16.0000] <Ms2ger>
zcorpan_, so about the spec bug for typed arrays, apparently TC39 is going to spec them and the editors don't care about the Khronos spec anymore

[06:30:55.0000] <zcorpan_>
Ms2ger: is it reported to tc39?

[06:31:41.0000] <Ms2ger>
zcorpan_, not by me, but dherman said they'd make sure to match implementations

[06:32:18.0000] <zcorpan_>
Ms2ger: i got redirected to home once as well. weird. jgraham, you know what's up?

[06:33:11.0000] <odinho>
Man, that was GitHub integration. It asked me to authorize critic when I clicked that.

[06:33:26.0000] <odinho>
I pressed OK, got to home screen, -- but this next time I got to the review. :-)

[06:33:43.0000] <Ms2ger>
I've put a note on my todo list to review the tc39 spec once it happens

[06:35:40.0000] <zcorpan_>
Ms2ger: ok

[06:35:55.0000] <webben>
Hmm. Is there a sane way to read the HTTP bis work in HTML format?

[06:36:37.0000] <webben>
or is going and picking through https://wiki.tools.ietf.org/wg/httpbis/ to get the slightly crufty "HTML" the best currently possible?

[06:36:50.0000] <hsivonen>
From the "are CDMs plug-ins or not" dept: https://plus.google.com/100314989943113365362/posts/ULA2Wvb2MNE

[06:39:12.0000] <zcorpan_>
Ms2ger: jgraham: https://github.com/jensl/critic/issues/33

[06:39:15.0000] <Ms2ger>
webben, things like http://wiki.tools.ietf.org/id/draft-ietf-httpbis-authscheme-registrations-06.html are the best you can get

[06:42:45.0000] <Ms2ger>
odinho, fwiw, I tend to keep my manifests sorted on the filename

[06:44:05.0000] <odinho>
Ms2ger: But they don't even seem alphabetically sorted atm :-)

[06:44:52.0000] <Ms2ger>
odinho, they should be if you ignore the "support" part

[06:46:38.0000] <odinho>
Oh, that's too advanced for me to understand, okay :-) No fan, but I see you have a system.

[06:47:52.0000] <odinho>
I think I would've done ->  manual a, support a, support b, a, b, c

[06:48:01.0000] <Ms2ger>
That would also work

[06:48:21.0000] <Ms2ger>
/me doesn't think it matters too much

[06:48:35.0000] <odinho>
But haven't written in those extra things. -- Nah, it doesn't. Hence note :D

[06:49:59.0000] <webben>
Ms2ger: that's an improvement over what I'd found cheers

[06:50:37.0000] <Ms2ger>
np

[06:50:37.0000] <darobin>
Ms2ger: check https://w3c-test.org/webapps/DOMCore/tests/approved/interfaces.html again sweetie

[06:50:54.0000] <Ms2ger>
Thanks, my love

[06:56:18.0000] <jgraham>
Ms2ger, odinho: Yeah, the critic GH integration doens't pass the url you were actually tryimng to access through the OAuth redirection hoops, so you always end up on the homepage after you log in

[06:56:27.0000] <jgraham>
It's a bug

[06:56:34.0000] <Ms2ger>
Okay

[06:57:44.0000] <odinho>
jgraham: Still I'm impressed, quite nice work there :-)

[07:39:20.0000] <Ms2ger>
Hmm, does critic automatically catch addressed issues?

[07:54:17.0000] <darobin>
zcorpan_: I'm told the logo bug should be gone

[07:55:58.0000] <zcorpan_>
darobin: verified. thanks!

[07:56:22.0000] <darobin>
zcorpan_: I only sent an email, the almighty systeam actually took care of it :)

[07:57:05.0000] <zcorpan_>
Ms2ger: if something is changed on the line(s) of the issue, critic assumes the issue is addressed, i think

[07:57:15.0000] <Ms2ger>
Interesting

[08:18:06.0000] <Ms2ger>
So, anyone who still wants to have a look at the webgl tests?

[08:45:04.0000] <Ms2ger>
If so, feel free to do that at some later point

[08:49:42.0000] <zcorpan_>
jgraham: hmm. i'm trying to use the return value of a function that i run with step()

[08:49:53.0000] <zcorpan_>
jgraham: but step() seems to throw away the return value

[08:50:22.0000] <Ms2ger>
What would you expect it to return?

[08:50:30.0000] <Ms2ger>
step() runs immediately

[08:52:48.0000] <zcorpan_>
var rv = this.step(function() { return 'Foo'; }); // rv === 'Foo'

[08:53:06.0000] <Ms2ger>
Mm

[08:53:13.0000] <zcorpan_>
currently rv === undefined

[08:53:16.0000] <dglazkov>
good morning, Whatwg!

[08:53:34.0000] <Ms2ger>
Pull request? ;)

[08:54:10.0000] <zcorpan_>
sure. i think it's just prepend 'return ' to this line: func.apply(this_obj, Array.prototype.slice.call(arguments, 2));

[09:08:48.0000] <zcorpan_>
https://github.com/w3c/testharness.js/pull/14

[09:28:25.0000] <zcorpan_>
are there specific Date values that are particularly interesting to test in structured clone?

[09:30:38.0000] <zcorpan_>
/me notices that new Date(-0) has two possible implementations per spec

[09:46:21.0000] <jwalden>
it might not take too much pushing to give that only one implementation, if browser engines agree on what should happen with that, but I don't know the actual reason both are permitted -- choice-of-representation seems pretty weak without different implementations actually requiring it

[09:54:54.0000] <zcorpan_>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2167 - opera/chrome have different representations, firefox doesn't

[09:55:21.0000] <zcorpan_>
maybe it depends on the hardware, too

[09:56:43.0000] <zcorpan_>
i'll just test that, whatever the representation, it's consistent between window and worker and it doesn't get mangled from structured clone

[11:39:05.0000] <annevk>
MikeSmith: http://platform.html5.org/history/ needs an entry for fonts

[11:39:08.0000] <annevk>
MikeSmith: but I'm not sure where

[13:26:18.0000] <Hixie>
man, browsers don't seem to have caught up with the dnd model

[13:26:29.0000] <Ms2ger>
Hah

[13:28:37.0000] <tantek>
Hixie, maybe it's a bad model?

[13:29:23.0000] <Ms2ger>
Maybe it's such horrible code that nobody wants to touch it with a foot-long pole?

[13:45:00.0000] <tantek>
Ms2ger, why not both?

[13:47:18.0000] <Ms2ger>
Possible

[15:01:23.0000] <Hixie>
tantek: it's the improvements to the model they're not picking up, not the original model

[15:09:06.0000] <TabAtkins>
Yeah, the original terrible model is reasonably usable everywhere, last I checked.

[15:09:18.0000] <TabAtkins>
But not the good stuff with @dropzone and such.

[15:20:16.0000] <tantek>
maybe there's insufficient web developer demand for the improvements?

[15:20:27.0000] <tantek>
I don't see many web sites with dnd in general

[15:20:40.0000] <tantek>
how well does dnd work with mobile / touch interfaces?

[15:20:49.0000] <tantek>
(wild guess as to why people are not worrying/caring about it)

[15:21:21.0000] <Hixie>
yeah, i'm sure it's not a high priority

[15:26:20.0000] <gsnedders>
tantek: FB uses DND on desktop, at least.

[15:31:57.0000] <tantek>
gsnedders, as does G+ with the whole goofy circles thing

[15:32:09.0000] <tantek>
DnD people from one circle to another etc.

[15:32:21.0000] <tantek>
but of course none of that is available on mobile / touch /  iOS etc.

[15:32:29.0000] <tantek>
so it's ‚Ä¶ meh

[15:32:53.0000] <Hixie>
i don't understand why we couldn't make dnd work on mobile

[15:32:53.0000] <Hixie>
but yeah

[15:33:41.0000] <tantek>
Hixie - ask the UI/UX/designer people

[15:34:27.0000] <tantek>
and I agree - there's something odd how mobile touch UIs are all about "swipe this and swipe that" but no drag & drop

[15:34:39.0000] <tantek>
which seem like almost the same physical gesture

[15:34:51.0000] <tantek>
is it the difference of having a specific hit-target to start swiping from?

[15:35:08.0000] <tantek>
and don't mobile games use swiping from specific hit-targets?

[15:35:15.0000] <tantek>
not sure why it hasn't made its way into web UIs

[15:35:18.0000] <tantek>
just observing that it hasn't

[15:37:38.0000] <gsnedders>
tantek: Does FB not serve the desktop version to tablets? On the other hand, you can't drag files around on iOS/Android‚Ä¶

[15:43:22.0000] <Hixie>
it took me about 3 minutes to work out that "R" in this bug means "are". https://www.w3.org/Bugs/Public/show_bug.cgi?id=9482

[15:43:31.0000] <Hixie>
and the guy probably saved all of 200ms.

[15:43:33.0000] <Hixie>
NOT A WIN.

[15:43:55.0000] <Hixie>
tantek: there's drag-and-drop in some mobile stuff, e.g. bad piggies uses it.

[15:44:20.0000] <gsnedders>
I feel like I should give a witty response to that in txtspk, but I don't think my knowledge of the language is good enough.

[15:47:37.0000] <tantek>
and here I thought R was a programming language http://en.wikipedia.org/wiki/R_%28programming_language%29

[15:54:25.0000] <jwalden>
somebody tell zcorpan if they see him before I do that implementation of new Date(-0) has two representations *only* so that implementations can store dates, internally, as either an int64_t or a double; SpiderMonkey stores internally as double but adds 0 in TimeClip so -0 doesn't have weird behavior; for any implementation using double representation it's easy to look like int64_t, but...

[15:54:27.0000] <jwalden>
...probably far harder the other way; thus mandating +0 behavior is probably the thing the most people'd be compatible with; I can't think of a good reason to support this difference at the hardware level -- anyone using double representation can do +0 to pretend to be int64_t-represented, and implementations have to have double capabilities to represent math generally, so I don't see why...

[15:54:28.0000] <jwalden>
...mandating as-if-by-int64_t would be prevented by hardware issues


2013-03-19
[17:06:08.0000] <Hixie>
rillian: does http://lists.whatwg.org/htdig.cgi/whatwg-whatwg.org/2013-January/038705.html still represent the current state of mozilla's metadata-in-video API work?

[17:08:53.0000] <rillian>
Hixie: yes

[17:09:07.0000] <Hixie>
thanks

[17:09:09.0000] <rillian>
which is to say, I haven't done further work on it

[18:58:42.0000] <zewt>
idb thread cc fail

[19:09:10.0000] <jgraham>
Ms2ger: yes, it is the reviewer's responsibility to reopen any issues that weren't actually addressed by the commit (although of course it is polite if the code author helps them out)

[19:12:25.0000] <jgraham>
zcorpan: I didn't really understand your use case, since it seems like you will always be inside another (async_)step when you might do the thing that returns the value you want. But it seems strictly better than the current API

[21:03:24.0000] <kochi>
MikeSmith: yt?

[02:01:59.0000] <zcorpan>
if i were to encode U+D800 as utf-8, ignoring that it's invalid, would it be: ED 9F C0 ?

[02:05:08.0000] <zcorpan>
/me finds http://mail.python.org/pipermail/python-dev/2009-April/089134.html

[03:25:50.0000] <Steve____>
FYI: there will be a bug opened by chaals against the html spec about changing the conformance requirments for @longdesc, could you deal with it? as I woul;d like to stay at arms length from it given my roles as a11y chair and the controversy surrounding it

[03:27:12.0000] <Steve____>
oops wrong window ;-)

[03:28:23.0000] <Steve____>
darobin_: thats for you

[05:10:53.0000] <MikeSmith>
kochi: here now

[05:35:49.0000] <MikeSmith>
anybody have a link to the draft that defines custom elements?

[05:35:54.0000] <MikeSmith>
for Web Components

[05:38:55.0000] <MikeSmith>
nm

[05:38:58.0000] <MikeSmith>
found it

[05:39:51.0000] <MikeSmith>
next question: Is there yet a spec that actually defines the <decorator> element?

[05:43:16.0000] <JohnAlbin>
MikeSmith: https://dvcs.w3.org/hg/webcomponents/raw-file/tip/explainer/index.html

[05:59:20.0000] <MikeSmith>
JohnAlbin: thanks

[05:59:29.0000] <MikeSmith>
but note, that's non-normative

[05:59:44.0000] <MikeSmith>
it seems Dimitri has yet to write the actual normative draft for it

[06:16:12.0000] <JohnAlbin>
I just happened to have that doc open in my browser. :-)

[06:27:42.0000] <zcorpan>
what is the correct output of new RegExp('').source per spec?

[06:30:00.0000] <zcorpan>
and new RegExp('/').source ?

[06:30:22.0000] <zcorpan>
"The source property of the newly constructed object is set to S.", ES5 says

[06:31:07.0000] <zcorpan>
two paragraphs above, it says S is to be escaped in some way, but isn't particularly exact

[06:31:25.0000] <zcorpan>
"For example, if P is "/", then S could be "\/" or "\u002F", among other possibilities"

[06:34:20.0000] <zcorpan>
http://people.mozilla.org/~jorendorff/es6-draft.html#sec-15.10.5 has the same text

[06:36:21.0000] <hasather>
zcorpan: V8 has a bug it seems, https://code.google.com/p/v8/issues/detail?id=1982

[06:45:10.0000] <zcorpan>
well, sent an email to es-discuss

[06:49:09.0000] <hasather>
zcorpan: what's not clear by the spec?

[06:49:53.0000] <zcorpan>
hasather: what .source should be when Pattern is something that needs to be escaped, e.g. empty string, a slash, a newline

[06:50:56.0000] <hasather>
zcorpan: it says something about both those cases

[06:51:05.0000] <zcorpan>
hasather: the spec gives *two* examples of what to do for a slash, and no specific requirements

[06:53:30.0000] <hasather>
zcorpan: isn't "The characters / occurring in the pattern shall be escaped in S as necessary to ensure that the String value formed by concatenating the Strings "/", S, "/", and F can be parsed (in an appropriate lexical context) as a RegularExpressionLiteral that behaves identically to the constructed regular expression." a requirement?

[06:54:30.0000] <zewt>
that gives me interop twitches (why doesn't it specify exactly how to escape it?)

[06:54:44.0000] <zcorpan>
hasather: yes, it is, but it gives multiple choices

[06:54:59.0000] <zcorpan>
what zewt said

[06:55:03.0000] <zewt>
specs should specify what to do, not what the end result should be

[06:55:20.0000] <hasather>
zcorpan: zewt: right, it would be better if it just specified. Agreed. :)

[06:56:03.0000] <zcorpan>
not surprisingly, browsers suck in this area

[06:56:25.0000] <zcorpan>
when specs give a clear algorithm, browsers tend to implement the algorithm

[06:57:05.0000] <hasather>
zcorpan: apart from the V8 bug, do browsers differ in this specific case?

[06:57:13.0000] <zcorpan>
with text like this saying "yeah you should do the right thing, y'know!", the implementor probably goes "yeah whatever" and moves on to the next thing

[06:57:50.0000] <zcorpan>
for \n, opera/chrome/firefox all give a literal new line as .source even though it violates the requirement

[06:58:02.0000] <zcorpan>
so they don't differ, but they don't conform to the spec

[06:58:15.0000] <zcorpan>
for / and the empty string, they do differ, actually

[06:58:28.0000] <zcorpan>
firefox and opera returns empty string for empty string

[06:59:02.0000] <zcorpan>
opera and firefox return \/ for /, chrome returns /

[06:59:20.0000] <zewt>
my chrome gives \/

[06:59:47.0000] <zewt>
for console.log(/\//.source) (checking that I'm looking at the right thing)

[07:00:35.0000] <zcorpan>
zewt: try new RegExp('/').source

[07:01:34.0000] <zewt>
yeah that does it ... why are they different? maybe /foo/ just copies in the actual literal

[07:02:46.0000] <zewt>
i guess that points to another thing that might be different and/or cause compat issues--is it okay to always re-escape from scratch in order to meet the requirement, or could changing it when you don't have to (resulting in new RegExp(x).source != x) cause compat issues somehow

[07:05:20.0000] <zewt>
also, this seems like some ancient hack to work around injection issues on sites, but that might be irrelevant to the constructor path anyway (especially if Chrome isn't doing it)

[07:07:10.0000] <zewt>
if the escaping could be killed for the ctor, then you might not need anything special for literals; just say "let .source be the exact literal", since the literal itself must have been escaped in the first place

[07:07:24.0000] <zewt>
anyhow, off to work

[07:46:43.0000] <darobin>
Ms2ger: I can close this without taking it, right? https://github.com/w3c/testharness.js/pull/13

[07:46:51.0000] <darobin>
since I fixed it on the server

[07:48:13.0000] <Ms2ger>
darobin, yes

[07:48:16.0000] <darobin>
Ms2ger: cool

[07:51:33.0000] <jgraham_>
darobin: Can you mark your webidl parser issues somehow? I just endured several seconds of confusion :)

[07:51:50.0000] <darobin>
jgraham_: sorry man

[07:51:54.0000] <darobin>
I've just added a label

[07:52:10.0000] <darobin>
they're actually idlharness ‚Äî the parser is in another repo

[07:52:40.0000] <jgraham_>
That also confused me :)

[07:53:10.0000] <darobin>
haha

[07:54:22.0000] <jgraham>
Ms2ger: You should drop http://critic.hoppipolla.co.uk/r/10

[07:55:06.0000] <Ms2ger>
jgraham, I think I've done that

[07:55:47.0000] <zcorpan>
oh, i have to subscribe to es-discuss.

[07:55:49.0000] <jgraham>
perfect, thanks

[08:54:01.0000] <jwalden>
zcorpan: http://krijnhoetmer.nl/irc-logs/whatwg/20130318#l-708 btw

[08:54:24.0000] <zcorpan>
jwalden: yeah i saw it, thanks

[08:54:31.0000] <jwalden>
cool

[08:55:15.0000] <zcorpan>
i sent an email to es-discuss. annevk said it might have been decided in the last meeting already

[08:56:14.0000] <annevk>
I remember reading something about it in the conclusion bits of the minutes

[09:00:11.0000] <jwalden>
I can't find anything in March 12-14 or January 30

[09:00:21.0000] <jwalden>
did see new Date(dateObj) is supposed to clone

[09:00:29.0000] <jwalden>
but that was the only date-ful stuff I noticed

[09:17:16.0000] <dglazkov>
good morning, Whatwg!

[09:36:31.0000] <jwalden>
morning

[09:38:17.0000] <zcorpan>
"somebody would need to develop a proposal that completely specifies the required escaping." - any takers? :-)

[09:38:25.0000] <zcorpan>
(re RegExp.source)

[09:55:12.0000] <Hixie>
btw, i posted https://plus.google.com/u/0/107429617152575897589/posts/iPmatxBYuj2 (re drm)

[09:57:27.0000] <annevk5>
Hixie: old news :p

[09:57:31.0000] <annevk5>
great post though

[10:19:49.0000] <TabAtkins>
zcorpan: What's the requirements for RegExp.source?  The escaping, while not easy, isn't particularly difficult either.

[11:02:27.0000] <karlcow>
http://inessential.com/2013/03/18/brians_stupid_feed_tricks

[11:45:50.0000] <GPHemsley>
the formatting of TAG IRC logs is terrible

[11:52:23.0000] <marcosc>
jamesr: The scheme in the logo uri has been removed from all TR stylesheets.

[11:52:47.0000] <marcosc>
(you mentioned this as causing problems for http/https docs the other day)

[11:52:58.0000] <marcosc>
I asked the W3C to fix it, and they did :)

[11:53:52.0000] <marcosc>
see: https://www.w3.org/StyleSheets/TR/W3C-ED

[12:06:27.0000] <dglazkov>
annevk: you still around?

[12:06:36.0000] <annevk>
I'm alive

[12:06:44.0000] <dglazkov>
annevk: are we doing Event.path?

[12:06:47.0000] <annevk>
just minuted a session on httprange-14

[12:07:07.0000] <annevk>
dglazkov: dunno, someone suggested it might not be needed if we introduce something else?

[12:07:18.0000] <dglazkov>
annevk: ok, let me look on bug

[12:07:38.0000] <annevk>
dglazkov: I'd prefer we get more usage data first with the whole component thing before we add a bunch of features we later regret

[12:07:47.0000] <dglazkov>
alright

[12:14:58.0000] <jamesr>
marcosc, cool! thanks

[12:15:16.0000] <jamesr>
marcosc, for the record, how did you asked the W3C to fix it?

[12:16:01.0000] <marcosc>
jamesr: because I have a bunch of specs that I figured would also be affected

[12:16:12.0000] <marcosc>
I saw this happen recently in Chrome

[12:16:17.0000] <jamesr>
yeah, but i'm wondering what you actually did. send an email to some alias?

[12:16:23.0000] <jamesr>
i dunno how to report a problem like this

[12:16:26.0000] <marcosc>
ah

[12:16:35.0000] <marcosc>
I just emails sysreq‚äôwo

[12:16:51.0000] <jamesr>
aha!

[12:16:53.0000] <marcosc>
emailed*

[12:17:00.0000] <marcosc>
they are fairly responsive

[12:17:18.0000] <marcosc>
otherwise, just annoy MikeSmith or darobin :)

[12:17:40.0000] <MikeSmith>
/me wakes up

[12:17:53.0000] <MikeSmith>
whadda need fixing?

[12:19:24.0000] <jamesr>
MikeSmith, already been fixed, but the issue was w3c logos loading over http:// for specs hosted on https://

[12:19:51.0000] <MikeSmith>
ah yeah

[12:20:35.0000] <MikeSmith>
so the general solution when you run into problems is to do what marcosc said

[12:21:04.0000] <MikeSmith>
that is, ping me or darobin (Robin Berjon) here

[12:21:11.0000] <MikeSmith>
or e-mail me at mike‚äôwo

[12:21:28.0000] <MikeSmith>
mailing sysreq‚äôwo works to but may take longer

[12:24:06.0000] <marcosc>
jamesr: syreq takes longer, but MikeSmith charges more

[12:24:08.0000] <marcosc>
:)

[12:24:38.0000] <MikeSmith>
I just thrive on the love

[12:25:25.0000] <marcosc>
:)

[12:26:55.0000] <jamesr>
sounds like a difficult choice

[13:42:15.0000] <MikeSmith>
dglazkov: if you're around, I wanted to ask if you have a normative draft for <decorator> yet

[13:42:41.0000] <MikeSmith>
and if not, when you might have one -- or maybe, who's going to write it?

[13:42:46.0000] <zcorpan>
TabAtkins: what needs doing is replacing http://krijnhoetmer.nl/irc-logs/whatwg/20130319#l-382 with an algorithm that states what to replace exactly

[13:43:02.0000] <MikeSmith>
dglazkov: maybe something that Dominic could work on?

[13:44:14.0000] <zcorpan>
TabAtkins: what i know so far is "" -> "(?:)", "/" -> "\\/", "\n" -> "\\n" (probably similar for all characters that JS considers as new line)

[14:31:34.0000] <rniwa_>
bot-watchers

[14:31:38.0000] <rniwa_>
ugh...

[16:43:19.0000] <TabAtkins>
zcorpan: Don't you want to escape *all* the \ characters, regardless of what they code for?

[16:43:46.0000] <TabAtkins>
/\n/ selects a newline, after all.  It's a valid escape sequence.


2013-03-20
[17:46:18.0000] <zewt>
i seem to spend a depressing amount of time on both lists trying to convince people that interop matters

[22:03:56.0000] <Hixie>
MikeSmith: please don't change the URL field of WHATWG bugs, our pipeline uses that field for the spec annotations

[22:06:04.0000] <Hixie>
oh nevermind

[22:06:12.0000] <Hixie>
i was misreading the bugmail

[22:06:14.0000] <Hixie>
this is old stuff

[22:26:28.0000] <MikeSmith>
Hixie: ok, well, I'll avoid changing it from now on anyway

[01:45:23.0000] <zcorpan>
why doesn't ImageBitmap have width/height attributes?

[03:05:10.0000] <zcorpan>
TabAtkins: yes, maybe. though an escaped character that doesn't need to be escaped maybe shouldn't be escaped in .source? haven't tested that

[03:07:26.0000] <zcorpan>
TabAtkins: /\n/ is indeed what we want when doing e.g. eval('var re = /' + new RegExp('\n').source + '/'); (instead of getting a literal newline there which would result in an error)

[03:09:40.0000] <hsivonen>
It's uncool that Google+ has a different URL space for desktop Firefox and for Firefox for Android

[03:10:28.0000] <hsivonen>
if you use a desktop URL on mobile, you have to tap through an ad for the G+ Android app and then get redirected to the mobile URL

[03:10:49.0000] <hsivonen>
if you use a mobile URL on desktop, you don't get redirected to desktop UI and URL

[03:37:13.0000] <zcorpan>
it seems opera/chrome/firefox didn't bother implementing this part of structured clone:

[03:37:17.0000] <zcorpan>
If input is an Array object

[03:37:17.0000] <zcorpan>
Let output be a newly constructed empty Array object whose length is equal to the length of input.

[03:37:17.0000] <zcorpan>
Note: This means that the length of sparse arrays is preserved.

[03:37:26.0000] <zcorpan>
http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2170

[05:38:17.0000] <hsivonen>
I really need to find time for validator stuff. I'm so behind the times. On Encoding Standard and everything else.

[05:49:16.0000] <hsivonen>
hmm. what's the content population that was analyzed for https://meaningless-stats.appspot.com/global ?

[05:50:38.0000] <hsivonen>
ooh. it scrapes the DOM in Chrome rather than the source

[05:50:49.0000] <hsivonen>
and its users probably have Gmail open all the time

[05:51:07.0000] <hsivonen>
that would explain the differences between the ARIA numbers between slightlyoff's and Steve's stats

[05:55:27.0000] <hsivonen>
I wonder how much was lost in minuting regarding Jeff Jaffe's juxtapositioning of "security" and "DRM" http://www.w3.org/2013/03/19-tagmem-minutes.html

[06:05:15.0000] <slightlyoff>
hsivonen: my stats are super skewed right now. Need many more users before they become statistically significant

[06:07:05.0000] <slightlyoff>
hsivonen: but yes, generally it should turn up quite a bit more than a surface skim (what most crawlers do) will.

[06:14:40.0000] <hsivonen>
/me notes a job title "innovation architect" 

[06:15:17.0000] <hsivonen>
/me wonder if the TAG is envious of Innovation Architecture. Seems cooler than mere Technical Architectur.

[06:15:57.0000] <annevk>
https://meaningless-stats.appspot.com/about wut?

[06:16:48.0000] <darobin>
/me hsivonen: I think that as Architecture Astronauts they're unlikely to be jealous of anyone

[06:18:15.0000] <darobin>
those stats look like they're considering SVG content as custom elements

[06:20:36.0000] <hsivonen>
why does this press release append Google Widevine to a list of analytics services? http://www.brightcove.com/en/company/press/brightcove-launches-native-player-solution-premium-video-apps-apple-ios-google-android-devices

[06:23:08.0000] <hsivonen>
I wonder if it means that Brightcove's SDK contains a DRM component from Widevine but the person writing the press release doesn't bother to categorize name dropping

[06:25:46.0000] <hsivonen>
how does one get to blog on a community group blog?

[06:25:56.0000] <hsivonen>
just join the group and post away?

[06:26:03.0000] <hsivonen>
or is there some more vetting involved?

[06:31:18.0000] <hsivonen>
whoa. looks like the WordPress posting UI is available to me, too.

[06:31:19.0000] <manu-db>
hsivonen: yeah, I think you just join the group - I can create a new post for every group I'm a part of.

[06:31:21.0000] <slightlyoff>
annevk: that's hipster-ipsum

[06:31:28.0000] <slightlyoff>
annevk: will fix

[06:31:37.0000] <hsivonen>
manu-db: ok

[06:31:52.0000] <annevk>
hehe

[06:32:04.0000] <manu-db>
hsivonen: Actually, you can create a new post for any group - but you can only put it's status as "pending review"

[06:32:20.0000] <manu-db>
an admin actually has to come along and approve the post for the group (I'm guessing it has to be one of the group chairs)

[06:32:55.0000] <slightlyoff>
annevk: http://hipsteripsum.me/

[06:33:44.0000] <annevk>
this amuses me

[06:34:52.0000] <slightlyoff>
annevk: which?

[06:34:53.0000] <manu-db>
hsivonen: Scratch that - I just published something to the RWW main page and I'm just a member of that group...

[06:35:03.0000] <annevk>
slightlyoff: your link

[06:35:21.0000] <slightlyoff>
the "beer me" button mad me LOL the first time I saw it

[06:35:23.0000] <manu-db>
hsivonen: So, basically you can pwn the blog of any group you join... minor security issue there... :)

[06:35:27.0000] <slightlyoff>
fucking hipsters = )

[06:42:12.0000] <darobin>
manu-db: it's not a security issue, CGs are designed to be open

[06:42:30.0000] <darobin>
obviously, that does open up the possibly of someone going on a stupidity rampage

[06:42:38.0000] <darobin>
but to date, that hasn't happened

[06:42:43.0000] <darobin>
(we have mailing lists for that :)

[06:46:43.0000] <manu-db>
darobin: things tend not to be a security issue until somebody abuses the hell out of it. I can think of an automated attack that would have one wordpress account sign up, join all the W3C groups and (using the XML RPC API or WebDriver) delete every blog post from every community group. :)

[06:47:04.0000] <SimonSapin>
darobin: is there some kind of revision history on blogs, in case one is vandalized? (although I don‚Äôt expect that to happen)

[06:47:05.0000] <darobin>
yeah, that might indeed be possible

[06:47:18.0000] <manu-db>
seems like a simple way to prevent that would be to require publication/deletion of any article to be handled by a chair of the group...

[06:47:20.0000] <darobin>
I'm pretty sure we have at the very least backups of everything

[06:47:34.0000] <manu-db>
but I don't care enough about it to make a fuss :)

[06:47:37.0000] <darobin>
manu-db: if you want process, we have CGs for that

[06:47:47.0000] <darobin>
seriously, CGs are made to be open and built on trust

[06:47:49.0000] <manu-db>
CGs? or WGs?

[06:47:57.0000] <darobin>
WGs (above)

[06:48:00.0000] <SimonSapin>
I don‚Äôt think we should worry too much about preventing this, but being able to *revert* it might be good

[06:48:26.0000] <darobin>
we have means to revert, I don't know how convenient they are, but they exist

[06:48:39.0000] <manu-db>
darobin: It's not about trusting folks in the CG... it's about trusting everybody on the Web (which is a bad thing to do)

[06:48:43.0000] <darobin>
in any case, no problem to report in something like 18months

[06:48:58.0000] <darobin>
which isn't to say that it won't happen, but I like the openness, even at the cost of risk

[06:49:20.0000] <darobin>
manu-db: but that's the point: people in the CG should be self-selected from everyone on the Web

[06:49:25.0000] <darobin>
and yes, that includes bad people

[06:49:40.0000] <karlcow>
sigh "JJ: example 1: in the press, the Chinese governments has been running an operation to go through the web and attack information resources around the web." ‚Äî http://www.w3.org/2013/03/19-tagmem-minutes.html

[06:49:43.0000] <manu-db>
darobin: I'm a security guy at heart - I just see an unnecessary security problem here... that's all. :)

[06:49:47.0000] <darobin>
openness breed good faith

[06:49:56.0000] <manu-db>
yeah, just look at 4chan!

[06:50:01.0000] <manu-db>
and chatroulette

[06:50:03.0000] <darobin>
manu-db: I know, but same as for wikis

[06:50:18.0000] <darobin>
chatroulette is full of good faith!

[06:50:32.0000] <manu-db>
most good wikis are heavily watched for spam (which is a constant)

[06:50:43.0000] <manu-db>
re: chatroulette ... and furries!

[06:50:52.0000] <darobin>
I think we actually have tools for spam tracking on the CG system

[06:51:10.0000] <darobin>
W3C has a fairly heavy antispam infrastructure overall ‚Äî we get A LOT of it

[06:52:16.0000] <hsivonen>
fwiw, I didn't see anything that should not have been posted. I was just curious if Dale Cruse has some chair-ish powers and if so with what affiliation

[06:52:24.0000] <karlcow>
Let me guess. US government never never ever hacks other countries systems?

[06:52:54.0000] <hsivonen>
karlcow: I'd be more curious to hear people who were there clarify the "security" and "DRM" juxtaposition

[06:53:11.0000] <MikeSmith>
hsivonen: about the validator I have a couple of big patches in need of landing that I hope you can find time to review soon. One is for the message-filtering feature, and the other is for the show-outline feature.

[06:54:34.0000] <hsivonen>
MikeSmith: do I have requests in my email that I've failed to address?

[06:54:43.0000] <karlcow>
hsivonen: the thing which bothers is the use of "consent manufacturing" information for justifying something.

[06:55:24.0000] <karlcow>
talking about validators I wonder who is in charge of feed-validator these days.

[06:56:20.0000] <hsivonen>
karlcow: is Sam not in charge?

[06:56:48.0000] <MikeSmith>
hsivonen: no I've not sent them to you for review yet because I didn't want to bomb them on you if you were already deluged with day-job work, and have you feel like you needed to get to them right away

[06:56:57.0000] <karlcow>
yeah maybe.

[06:57:59.0000] <MikeSmith>
hsivonen: but I can send them to you and you can just get to them whenever you have time. They're enhancements and nobody else is specifically waiting on them, so there's no rush to land them.

[06:58:50.0000] <hsivonen>
MikeSmith: please do send them. I'll try not to be terrible about review schedule this time

[06:59:10.0000] <MikeSmith>
karlcow: I think it's been a very long time since  anybody has been working on the feed validator

[06:59:14.0000] <MikeSmith>
hsivonen: OK, will do

[06:59:53.0000] <MikeSmith>
karlcow: same for the main W3C validator. Ville was semi-active on it for a while but went quiet a couple years ago.

[07:00:26.0000] <karlcow>
/me found https://github.com/rubys/feedvalidator/issues/7

[07:00:45.0000] <hsivonen>
so what are the top validator issues I should look at? 1) Reviews for MikeSmith, 2) Whine about lack of encoding declaration even if everything is ASCII, 3) Encoding Standard-compliant label handling, 4) ???

[07:01:01.0000] <karlcow>
MikeSmith: yes. I have seen some commits yesterday though.

[07:01:20.0000] <hsivonen>
4) Make a parser release with the XOM null pointer fix in it

[07:01:30.0000] <karlcow>
https://dvcs.w3.org/hg/markup-validator/summary

[07:07:48.0000] <hsivonen>
5) Make HTML4 validation never activate by default

[07:09:07.0000] <annevk>
hsivonen: complain about Polyglot Markup

[07:09:18.0000] <annevk>
</troll>

[07:09:46.0000] <annevk>
hsivonen: Validate HTTP headers?

[07:09:55.0000] <annevk>
hsivonen: e.g. people seem to misuse CORS headers

[07:10:20.0000] <hsivonen>
annevk: good idea. that would be dependent on upgrading the Commons HttpClient

[07:10:29.0000] <hsivonen>
which is a big patch. I should finish it

[07:12:54.0000] <hsivonen>
MikeSmith: so I see you improved IANA charset stuff 10 days ago. Any objections to ditching the IANA data and using the Encoding Standard?

[07:13:01.0000] <hsivonen>
did Hixie already edit the spec accordingly?

[07:17:53.0000] <hsivonen>
annevk: is your build script for munging encoding.json into the table that's in the spec?

[07:18:02.0000] <hsivonen>
...open source and available?

[07:18:52.0000] <annevk>
hsivonen: I run a script and copy and paste

[07:19:16.0000] <hsivonen>
annevk: is the script open source and available?

[07:19:18.0000] <annevk>
hsivonen: the label table is https://github.com/whatwg/encoding/blob/master/tools-label-table.py

[07:19:42.0000] <annevk>
hsivonen: generating the indexes is https://github.com/whatwg/encoding/blob/master/index.py

[07:19:49.0000] <MikeSmith>
hsivonen: no objections to ditching IANA and using the Encoding standard. Good riddance. That fix I made was just a band-aid to help some people who had run into problems with local installs due to IANA changing the format of the registry from plain-text to XML.

[07:20:10.0000] <hsivonen>
annevk: thanks

[07:20:23.0000] <MikeSmith>
I think that's the biggest priority among the items on your list -- #3

[07:20:49.0000] <MikeSmith>
after that, I think we should get around to 5) Make HTML4 validation never activate by default

[07:20:55.0000] <MikeSmith>
as a priority

[07:21:08.0000] <hsivonen>
MikeSmith: ok

[07:55:59.0000] <dglazkov>
good morning, Whatwg!

[07:57:49.0000] <Steve____>
hixie: re http://lists.w3.org/Archives/Public/public-whatwg-archive/2013Feb/0103.html w3c validator now implements <main> validation as per HTML 5.1

[08:06:50.0000] <MikeSmith>
dglazkov: did you see my ping yesterday bout the <decorator> spec?

[08:15:53.0000] <hsivonen>
annevk: hmm. so "replacement" should not be accepted as a valid encoding name by validators, right?

[08:17:55.0000] <MikeSmith>
wow Kevin Lynch left Adobe

[08:18:00.0000] <MikeSmith>
and moved to Apple

[08:18:04.0000] <MikeSmith>
that's pretty big

[08:18:21.0000] <hsivonen>
CTO?

[08:18:26.0000] <MikeSmith>
yeah

[08:18:36.0000] <MikeSmith>
good one, too

[08:18:53.0000] <MikeSmith>
moved to a VP position at Apple

[08:20:20.0000] <hsivonen>
what should the validator say when iso-2022-cn or replacement is used where an encoding label is expected?

[08:20:44.0000] <hsivonen>
same as in the case of an unrecognized label?

[08:21:40.0000] <hsivonen>
I guess so

[08:29:23.0000] <annevk>
hsivonen: only utf-8 really...

[08:40:01.0000] <zewt>
gah, second time i've been bit by this bizarre behavior in ios webkit where having a click handler at all (even one that does nothing) has side-effects

[08:40:26.0000] <zewt>
confusing as hell

[09:01:16.0000] <zewt>
uhh, what the hell?

[09:02:06.0000] <zewt>
i hope i'm going insane, because it seems like in ios webkit, if you click an element, capturing event listeners on the document aren't fired unless a click event handler exists on the actual element you're clicking

[09:02:46.0000] <zewt>
it's like it's not firing the event at all unless a click handler exists on the element itself

[09:18:36.0000] <tobie>
zewt: http://www.quirksmode.org/blog/archives/2010/09/click_event_del.html

[09:18:49.0000] <MikeSmith>
hsivonen: nice work on the encodings support. I'll push it out to the w3c validator today

[09:20:10.0000] <zewt>
sure is nice to have hours wasted by multiple horrible incompetent hacks inside apple

[09:20:36.0000] <zewt>
can't work around it by putting an onclick handler on the element since that has side-effects (which, at the most fundamental design level of events, it shouldn't)

[09:20:57.0000] <zewt>
so i guess i'll have to work around it using touch events directly (which don't seem to have this problem)

[09:23:17.0000] <zewt>
(which throws the hypothesis of this being an optimization out the window; touchmove is fired orders of magnitude more often)

[09:41:19.0000] <darobin>
gotta love ppk

[09:41:26.0000] <darobin>
's comparison to Netscape 3

[09:45:09.0000] <annevk>
MikeSmith: ah cool, what does the encoding support do?

[09:47:43.0000] <dglazkov>
MikeSmith: no, I didn't! was it awesome?

[09:50:35.0000] <dglazkov>
MikeSmith: there's no one working on decorators spec now. If someone volunteers to edit, I'd be happy to help.

[10:13:20.0000] <MikeSmith>
dglazkov: I wonder if Dominic might be interested?

[10:14:09.0000] <MikeSmith>
dglazkov: I can talk to him about it after I get back home (I'm in Indiana on a personal visit for another week)

[10:15:19.0000] <MikeSmith>
annevk: the encoding support currently just restricts the recognized charset encoding values to those that the Encoding standard recognizes (instead of to all that's in the IANA registry)

[10:15:49.0000] <MikeSmith>
it does not yet emit an error message for documents that use a value other than UTF-8

[10:16:29.0000] <MikeSmith>
I don't know if hsivonen intentionally avoided having it do that or if it's something we can plan to add

[10:23:40.0000] <annevk>
sounds good

[10:38:05.0000] <MikeSmith>
annevk: btw I'm happy to add fonts to platform.html5.org but dunno which spec to add

[10:41:17.0000] <annevk>
MikeSmith: I meant for http://platform.html5.org/history/ really

[10:41:29.0000] <annevk>
MikeSmith: I was trying to figure out when we added them to the platform (I still don't know)

[10:42:59.0000] <dglazkov>
MikeSmith: which Dominic?

[10:50:04.0000] <MikeSmith>
GPHemsley: clooney

[10:50:42.0000] <MikeSmith>
dglazkov: ‚Üë

[10:51:43.0000] <MikeSmith>
annevk: ah ok. well, there's a lot of stuff missing still from that page. Like, all of CSS3. I been hoping somebody would take an interest in adding that and other stuff

[13:17:41.0000] <Hixie>
can anyone work out what is wrong with the example that this bug refers to? https://www.w3.org/Bugs/Public/show_bug.cgi?id=19547

[14:32:18.0000] <GPHemsley>
Hixie: Could it be that that person expects "row" to apply to the left, as well?

[14:32:45.0000] <GPHemsley>
Otherwise, I have no idea

[14:32:59.0000] <Hixie>
hmmmm, could be

[14:33:55.0000] <Hixie>
well, spec seems clear that that's an incorrect interpretation, so i guess i'll just leave it as NEEDSINFO

[14:50:10.0000] <Yuhong>
I found an IE9 info leak for ASLR bypass just by looking at this bug: https://www.w3.org/Bugs/Public/show_bug.cgi?id=16757#c10


2013-03-21
[18:21:26.0000] <kochi>
morning, whatwg

[18:23:35.0000] <jamesr>
evening, kochi

[20:46:52.0000] <MikeSmith>
kochi: hey

[20:47:53.0000] <MikeSmith>
kochi: I think we should aim to publish an updated WD of the IME API on April 2nd

[21:13:50.0000] <kochi>
MikeSmith: hi

[21:14:54.0000] <kochi>
MikeSmith: agreed, what steps do I need to make it an updated WD?

[21:16:03.0000] <kochi>
(... and wondering why Apr. 2 specifically?  to avoid April fool that the spec isn't a joke? :)

[21:17:16.0000] <kochi>
maybe people consider any published spec that has date on April 1st is a joke spec (like joke RFCs)

[21:23:49.0000] <MikeSmith>
kochi: we publish only on Tuesdays and Thursdays each week

[21:24:01.0000] <kochi>
MikeSmith: i see.

[21:24:50.0000] <MikeSmith>
kochi: I think you don't need to do much to prepare the draft. I'll take a look at it next week and if there are any problems, I'll let you know. Otherwise, if there are no problems, I'll just go ahead and stage it up for publication.

[21:25:15.0000] <kochi>
MikeSmith: Thanks!!

[02:25:04.0000] <zcorpan>
turns out "HTML 5.0" is causing implementors trouble. who knew? http://www.w3.org/mid/514AC4B1.9070507‚äôoc

[03:25:23.0000] <Ms3ger>
jgraham: can you get me a critic review for https://github.com/w3c/web-platform-tests/pull/18 ?

[03:42:50.0000] <jgraham>
http://critic.hoppipolla.co.uk/r/12

[03:43:04.0000] <jgraham>
Ms3ger: ^

[03:43:11.0000] <jgraham>
In case you didn't already find it

[03:43:27.0000] <Ms3ger>
Ta

[03:55:02.0000] <jgraham>
Ms3ger: Isn't the prototype part of those tests covered by idlharness?

[03:55:25.0000] <Ms3ger>
Mm

[03:55:52.0000] <Ms3ger>
Only if we're creating all those elements

[03:57:04.0000] <Ms3ger>
And if we actually have an idlharness test for HTML

[04:00:18.0000] <Ms3ger>
/me wonders if http://critic.hoppipolla.co.uk/showbatch?review=12 is supposed to show something

[04:02:00.0000] <Ms3ger>
Also wondering why gmail shows a photo of jgraham next to this critic email

[04:02:25.0000] <jgraham>
That's terrifying

[04:03:05.0000] <jgraham>
Ms3ger: If you are asking whether it imports the existing comments, it doesn't

[04:03:39.0000] <jgraham>
If that is a problem you'll have to use github for that review.

[04:04:05.0000] <Ms3ger>
No, the question was why I was redirected to an empty page after submitting the review

[04:06:21.0000] <jgraham>
Oh, I don't know, I have never been redirected to that page

[04:06:41.0000] <jgraham>
You should end up on http://critic.hoppipolla.co.uk/showcommit?first=52ee9be5&last=f2476047&review=12

[04:06:57.0000] <jgraham>
Or something, depending on which commits you were reviewing

[04:13:12.0000] <Ms3ger>
I see

[04:13:19.0000] <Ms3ger>
/me wanders off to lunch

[05:11:44.0000] <jgraham>
Anyone know what happened to the Mozilla wiki page about writing stable tests?

[05:14:02.0000] <gsnedders>
jgraham: https://developer.mozilla.org/en-US/docs/Mozilla/QA/Avoiding_intermittent_oranges

[05:18:48.0000] <jgraham>
And yet a search for "avoiding intermittent orange site:mozilla.org mdn" didn't find it

[05:18:55.0000] <jgraham>
Thanks

[05:22:16.0000] <gsnedders>
"avoid orange mozilla" did :)

[06:14:29.0000] <jgraham>
Maybe Google just hates me then

[06:19:48.0000] <karlcow>
jgraham: you are not clicking often enough on ads :p

[09:25:01.0000] <aklein>
hsivonen: yt, by any chance?

[09:26:19.0000] <aklein>
hsivonen: (interested in your thoughts on namespace-sensitive comparisons on the stack of open elements)

[09:31:44.0000] <jgraham>
aklein: Projecting hsivonen for a moment, I expect he would argue that compat is better than theoretical purity at this point

[09:50:20.0000] <aklein>
jgraham: we already don't have compat. what I'm trying to avoid is crashiness

[09:51:37.0000] <aklein>
jgraham: but I understand what you mean, and I agree that for any of these cases it doesn't particularly matter what we choose to do since the markup makes no sense (e.g., <svg><table><foreignContent><table>)

[09:52:21.0000] <aklein>
it just so happens that comparing namespaces as well as localNames seems like a nice way to explain how these cases get resolved

[09:52:52.0000] <jgraham>
Well, personally I think comparing namespaces makes more sense

[09:53:03.0000] <jgraham>
And I am happy to change html5lib

[09:53:47.0000] <jgraham>
But "it doesn't particularly matter waht we do because the markup doesn't make sense" isn't a great argument since authors don't seem to care if the markup makes sense

[09:54:17.0000] <aklein>
jgraham: fair enough. that's basically what Hixie's response to these questions has been though

[09:58:24.0000] <aklein>
I'll try to put together this change today or tomorrow; I'm curious how many html5lib tests it'll affect

[10:01:28.0000] <MikeSmith>
aklein: you writing a parser?

[10:24:40.0000] <annevk>
MikeSmith: the one in WebKit ;)

[10:25:15.0000] <MikeSmith>
oh

[10:27:31.0000] <annevk>
From mutation observer fame and now <template>

[10:28:12.0000] <MikeSmith>
I'd thought just abarth and Eric Seidel were working on the WebKit parser

[10:28:30.0000] <MikeSmith>
annevk: aklein is implementing the <template> parsing?

[10:28:36.0000] <annevk>
afaik

[10:29:04.0000] <MikeSmith>
ok

[10:29:04.0000] <annevk>
<template> seems to be implemented by other people than those who wrote the parser architecture, at least in Gecko/WebKit

[10:29:18.0000] <TabAtkins>
Correct.

[10:29:18.0000] <MikeSmith>
who implemented it in Gecko?

[10:29:34.0000] <annevk>
And it seems to be specified in such a way too, it being a separate specification (for now)

[10:29:43.0000] <MikeSmith>
yeah

[10:30:16.0000] <annevk>
MikeSmith: I think wchen (not here) is/will be doing it, but not a 100% sure

[10:31:31.0000] <MikeSmith>
hey TabAtkins I'm in America's heartland, visiting my girlfriend in Indiana. She tells me to quit saying Howdy to people here. She says they don't say Howdy here. I feel more comfortable in Texas. Should have convinced here to go to graduate school at UT.

[10:31:50.0000] <MikeSmith>
annevk: ah yeah I vaguely remember

[10:34:02.0000] <TabAtkins>
MikeSmith: Hah, awesome.  Never been to Indiana, but I still say howdy here in Cali sometimes.

[10:34:34.0000] <MikeSmith>
heh yeah I bet

[10:35:01.0000] <TabAtkins>
I'm rather glad that y'all has spread over the country pretty well in the past decade or so.

[10:35:37.0000] <MikeSmith>
yeah. Next we spread "all ya'll"

[10:36:12.0000] <MikeSmith>
speaking of y'all, before you hear the bad news from somebody else: I added longdesc support to the W3C validator

[10:36:18.0000] <MikeSmith>
holding my nose while doing it

[10:36:21.0000] <TabAtkins>
Nuuuuuuuu!

[10:36:32.0000] <paul_irish>
omg

[10:36:33.0000] <MikeSmith>
under a flag

[10:36:40.0000] <MikeSmith>
so it's not in validator.nu

[10:36:53.0000] <MikeSmith>
figured it was better to get it over with

[10:37:26.0000] <MikeSmith>
wonderful thing to see politics and aggressive lobbying triumphing over sound technical arguments

[10:37:38.0000] <MikeSmith>
anyway, tired of fighting

[10:37:41.0000] <nimbu>
trolls need to be fed MikeSmith

[10:37:46.0000] <nimbu>
thanks for fighting.

[10:37:48.0000] <MikeSmith>
heh

[10:58:22.0000] <Ms2ger>
jgraham, do you know what function is being called at https://github.com/w3c/testharness.js/blob/master/testharness.js#L1485 ?

[11:02:16.0000] <Ms2ger>
"I know there's a past history of sketchy PR games around testing. Nevertheless, I would like to start afresh and trust everyone to behave properly."

[11:04:16.0000] <annevk>
nimbu: I am curious now whether I'm the youngest, but I can't find a list

[11:05:24.0000] <MikeSmith>
Ms2ger: where's that quote from?

[11:05:47.0000] <Ms2ger>
MikeSmith, tobie, in the thread titled...

[11:05:58.0000] <Ms2ger>
Review of tests upstreamed by implementors

[11:06:02.0000] <MikeSmith>
ok

[11:06:05.0000] <Ms2ger>
On test-infra

[11:06:12.0000] <annevk>
Yeah, all the bitching about longdesc will sure make it used more and turn it into a huge success

[11:07:25.0000] <TabAtkins>
Haha, ConceptionConnection (from today's SMBC) is a real thing already: http://zirak.github.com/ConceptionConnection/

[11:07:54.0000] <TabAtkins>
Sounds like my parents were probably aroused to unprotected sex by the withdrawal of Israeli troops from Lebanon.

[11:08:03.0000] <MikeSmith>
wtf

[11:08:24.0000] <MikeSmith>
oh, related to that link

[11:08:30.0000] <TabAtkins>
Hahahahahaha

[11:09:10.0000] <annevk>
"The first Nintendo home video game console in United States is released by the Nintendo Entertainment System."

[11:09:16.0000] <annevk>
I can relate to that

[11:09:19.0000] <TabAtkins>
That's an excellent reason!

[11:09:20.0000] <annevk>
though I think my parents can't

[11:09:35.0000] <annevk>
it's great that it handles negative days

[11:09:49.0000] <annevk>
whoa

[11:09:50.0000] <annevk>
also

[11:09:53.0000] <annevk>
"The Free Software Foundation is founded in Massachusetts, USA."

[11:09:56.0000] <annevk>
read over that somehow

[11:10:00.0000] <annevk>
but seems relevant too

[11:10:07.0000] <TabAtkins>
Damn bro, you got an auspicious conception date.

[11:10:24.0000] <annevk>
and "The first flight of Space Shuttle Atlantis." which seems relevant to architecture astronauting

[11:10:37.0000] <annevk>
TabAtkins: this is kinda weird

[11:10:52.0000] <annevk>
but so is Nostradamus

[11:11:12.0000] <Hixie>
annevk: i had to make an edit to the fetch algorithm

[11:11:14.0000] <Hixie>
minor edit

[11:11:23.0000] <Hixie>
just adding a paragraph about how to handle appcache loads

[11:11:25.0000] <TabAtkins>
annevk: Context: http://www.smbc-comics.com/

[11:11:38.0000] <MikeSmith>
mine mentions the Lockheed SR-71 Blackbird

[11:12:19.0000] <Hixie>
because i realised that the navigate algorithm totally failed to actually call fetch if it used an appcache, which resulted in all the things that relied on fetch failing :-)

[11:12:28.0000] <MikeSmith>
annevk: btw glad that Web Notfications support finally landed in Gecko but that notification widget is fugly

[11:12:31.0000] <Hixie>
annevk: might be worth putting the other appcache things directly into fetch

[11:12:44.0000] <annevk>
TabAtkins: hehehe

[11:12:45.0000] <annevk>
Hixie: yes

[11:13:00.0000] <annevk>
Hixie: that's my plan

[11:13:09.0000] <annevk>
well, long term plan

[11:13:17.0000] <annevk>
Hixie: so I have http://fetch.spec.whatwg.org/ written down

[11:13:27.0000] <annevk>
but it misses a bunch of detail stuff

[11:13:32.0000] <annevk>
s/stuff/still/

[11:13:35.0000] <Hixie>
k

[11:13:43.0000] <annevk>
"Legacy" is mapping HTML5 to the new stuff...

[11:14:26.0000] <annevk>
I should have time next week to flush it out more

[11:14:34.0000] <Hixie>
roger

[11:14:36.0000] <annevk>
MikeSmith: euhm yeah, there's a bug on native theming

[11:14:50.0000] <MikeSmith>
ok

[11:16:12.0000] <annevk>
Hixie: so btw wycats__ brought up a number of excellent points on restructuring bits of HTML so we can make subclassing of <input> and such possible in due course

[11:16:30.0000] <Hixie>
lordy

[11:16:34.0000] <Hixie>
yeah

[11:16:38.0000] <Hixie>
eventually we should probably do that

[11:16:46.0000] <Hixie>
let's fix the bugs first...

[11:17:00.0000] <annevk>
Hixie: e.g. currently it's not clear how new elements could hook into <label>; <form> submission algorithm should call into the control and get back the value from it rather than defining the value for each control, etc.

[11:17:19.0000] <Hixie>
i've been doing too much refactoring and so on in the past few months and not enough actual bug fixing and feature speccing

[11:17:33.0000] <Hixie>
need to make more forward progress before i spend more time making things nicer

[11:17:42.0000] <Hixie>
(nicer for spec authors, i mean)

[11:17:53.0000] <annevk>
I think wycats__' plan is to create some kind of list and email this

[11:18:06.0000] <Hixie>
k

[11:18:16.0000] <Hixie>
this would be for web components v2?

[11:18:21.0000] <annevk>
I also think there's some material effect on implementors as we want implementors to implement elements the same way developers implement custom elements, eventually...

[11:18:57.0000] <annevk>
I'm not sure what's in components v1 vs v2 to be honest

[11:19:13.0000] <annevk>
according to dglazkov it's going to solve everything :-)

[11:19:29.0000] <Hixie>
well i doubt we're doing <input> extensions in v1

[11:19:48.0000] <Hixie>
so we probably have many months if not years before this becomes an actual issue

[11:29:05.0000] <annevk>
On the level of X extends HTMLInputElement this may be true, but WebKit is e.g. starting to use ShadowRoot here already and allows others to add additional ShadowRoot elements. Of course that's not quite subclassing completely yet.

[11:29:29.0000] <annevk>
Anyway, we'll see. Wanted to give you a heads up mostly.

[11:29:33.0000] <Hixie>
thanks

[11:29:44.0000] <Hixie>
we'll need implementation experience before we can really do it anyway

[11:29:49.0000] <TabAtkins>
We're not subclassing yet largely because the DOM element stuff is super-sucky.

[11:40:40.0000] <Hixie>
/me resists the temptation to call the algorithm that strips and collapses whitespace the "space vacuum"

[11:41:13.0000] <WeirdAl>
call it a white hole?

[11:44:27.0000] <annevk>
heh

[11:46:41.0000] <Hixie>
feedback in a bug: "The postMessage design outlined in the W3C document edited by Ian Hickson is

[11:46:44.0000] <Hixie>
not good! The design of the cross document messaging by Ian Hickson (Google,

[11:46:47.0000] <Hixie>
Inc.) is very bad. Even the last version is not good either."

[11:46:49.0000] <Hixie>
:-(

[11:46:56.0000] <TabAtkins>
Maybe try to do better?

[11:47:31.0000] <Hixie>
heh, i missed the end of that bug report in my last read-through

[11:47:33.0000] <Hixie>
"If you can do this before march 1st, 2013, I will give you $10."

[11:47:35.0000] <Hixie>
d'oh!

[11:49:05.0000] <annevk>
such are the riches of being a spec writer

[11:49:14.0000] <jamesr>
takes more than $10 to have Hixie redesign postMessage, apparently

[11:52:44.0000] <Hixie>
probably would take less, you just have to make sure i know about it! :-D

[11:55:17.0000] <tobie>
Ms2ger, MikeSmith: context is to trust tests upstreamed from implementors to have been properly reviewed and to allow review by colleagues.

[11:56:18.0000] <Ms2ger>
tobie, fwiw, I would not assume tests checked into Mozilla to have been reviewed

[11:58:00.0000] <Hixie>
oh i misread it after all

[11:58:05.0000] <Hixie>
the money was for implementors, not me

[11:58:37.0000] <annevk>
aah, money always goes to them

[11:58:44.0000] <annevk>
$10000 for dhyatt

[11:58:51.0000] <Hixie>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=20790

[11:59:07.0000] <Hixie>
if anyone wants to proof-read my attempt at rewrapping that comment, please be my guest

[12:00:38.0000] <annevk>
seems okay

[12:00:57.0000] <annevk>
sounds like he wants sharing of data between origins, which localStorage offers via events iirc, but we don't really have an actual API for

[12:01:02.0000] <Hixie>
zcorpan: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=15993

[12:01:25.0000] <annevk>
well, I guess SharedWorker offers it to some extent

[12:02:45.0000] <carlos_antonio>
oh hixie is here, fantastic post on drm :)

[12:03:10.0000] <Hixie>
zcorpan: thanks

[12:03:11.0000] <Hixie>
er

[12:03:13.0000] <Hixie>
carlos_antonio: thanks

[12:03:47.0000] <TabAtkins>
annevk, MikeSmith: Using a different ConceptionConnection <http://nahueljose.com.ar/conception-connection/>, I found an even more likely event to cause my conception - the founding of Hezbellah.

[12:03:54.0000] <TabAtkins>
s/bell/boll/

[12:04:12.0000] <carlos_antonio>
yw, thank you for your work

[12:04:18.0000] <zewt>
Hixie: heh i remember that guy

[12:04:41.0000] <zewt>
at first i thought "i wonder if this guy knows his english is so bad he sounds like a prick", then i realized he just is a prick

[12:04:46.0000] <zcorpan>
Hixie: do you want me to reply to comment 14?

[12:05:32.0000] <jgraham>
Ms2ger: https://github.com/w3c/testharness.js/blob/master/testharness.js#L2060 I assume

[12:05:57.0000] <Ms2ger>
jgraham, ... oh good

[12:06:02.0000] <Ms2ger>
/me looked but didn't find

[12:06:39.0000] <Hixie>
zcorpan: if you're proposing something that doesn't match IE, and if there's a way to convince them, yes please

[12:07:36.0000] <zcorpan>
Hixie: yeah, sure, just wanted to make sure i'd focus on the thing you pinged me for :-)

[12:08:12.0000] <Hixie>
zcorpan: :-)

[12:08:56.0000] <annevk>
Hixie: btw, http://f.cl.ly/items/2L0a0B0R130G3u0k0b1y/Layering.pdf is the background to wycats__' points

[12:09:07.0000] <annevk>
Hixie: at some point I think it touches on the HTML form stuff

[12:13:55.0000] <Hixie>
annevk: i'm already convinced that we need a way to extend <input>

[12:15:25.0000] <WeirdAl>
input already has over 20 types defined for it... how many more do we need? :s

[12:17:11.0000] <annevk>
I find it kinda humorous that we are now on the verge of having distributed extensibility.

[12:18:41.0000] <annevk>
(Of course, this is a whole other ball game than "just" allowing "XML Namespaces".)

[12:20:00.0000] <odinho>
WeirdAl: Many more, and that's the problem ;]

[12:21:16.0000] <MikeSmith>
TabAtkins: auspicious

[12:22:47.0000] <Hixie>
annevk: distributed extensibility with semantic fallback is fine, it's the syntax and lack of fallback that's the main problem with xmlns

[12:22:52.0000] <Hixie>
problems, i guess

[12:23:57.0000] <MikeSmith>
annevk: how are we on the verge of distributed extensibility? Web Components?

[12:23:57.0000] <jwalden>
annevk: if you got first-flight-of-Atlantis, we must be really close in birthdays, although I didn't see any of the other ones you noted for me

[12:24:36.0000] <annevk>
MikeSmith: yes

[13:16:07.0000] <zcorpan>
Hixie: it seems making the quirk not apply to <hr> would make it a bit closer to IE's behavior

[13:22:18.0000] <zcorpan>
Hixie: and making the margin not collapse when a margin was specified in author css...

[13:23:36.0000] <annevk>
notes from the TAG F2F: http://annevankesteren.nl/2013/03/tag-f2f

[13:25:25.0000] <Ms2ger>
s/developers have not/developers do not have/

[13:26:41.0000] <Ms2ger>
And [citation needed] on "IDL not encouraging the kind of APIs that are close to JavaScript"

[13:29:20.0000] <annevk>
heh

[13:31:10.0000] <Ms2ger>
Well, I guess you can cite a lot of people on that

[13:31:17.0000] <Ms2ger>
So [weasel words] instead?

[13:31:54.0000] <annevk>
I think we have to address the mismatch whether it's true or not

[13:32:17.0000] <annevk>
So it doesn't really matter if our goal is to work with TC39

[13:32:35.0000] <Ms2ger>
Well, the question is whether we need technical changes or just convince TC39 that it's not as bad as they want to think :)

[13:33:17.0000] <tobie>
s/TC39/the entire web developer community/

[13:33:20.0000] <annevk>
I think having wording changes might at least help. The wording not being aligned with JavaScript does not help.

[13:33:33.0000] <annevk>
In the IDL syntax that is.

[13:33:33.0000] <tobie>
:)

[13:34:15.0000] <Ms2ger>
I don't think "the entire web developer community" knows the difference between JS and DOM

[13:34:39.0000] <tobie>
Ms2ger: for a good reason. there is none.

[13:34:43.0000] <wycats__>
Hixie: glad to hear that you're already convinced :)

[13:34:47.0000] <wycats__>
tobie: O_O

[13:34:48.0000] <tobie>
Both are jQuery/

[13:35:01.0000] <tobie>
:D

[13:35:10.0000] <TabAtkins>
Haha.

[13:36:34.0000] <zcorpan>
tobie: but html5 has better perf!

[13:37:12.0000] <Ms2ger>
You guys want me to pull out all my hair, do you? :(

[13:37:25.0000] <annevk>
Ms2ger: reportedly you have a lot of it

[13:37:51.0000] <Ms2ger>
Has mounir been talking?

[13:38:46.0000] <annevk>
Ms2ger: In any event, the larger issue is addressing a) communication between TC39 and the rest of the standards world and b) whatever comes out of that hopefully better mutual understanding

[13:39:10.0000] <Ms2ger>
/me approves of better mutual understanding

[13:39:41.0000] <tobie>
alright. bye folks.

[13:41:56.0000] <annevk>
I should go too

[13:42:33.0000] <annevk>
I'll return tomorrow morning (Europe time) as zombie-annevk

[13:42:50.0000] <zcorpan>
aklein: i wouldn't be surprised if it would affect few or none html5lib tests. it'd be good to have new tests that target this specifically

[13:43:05.0000] <Ms2ger>
See you

[14:01:18.0000] <zcorpan>
"Using objects without accounting for the possibility of their death" https://developer.mozilla.org/en-US/docs/Mozilla/QA/Avoiding_intermittent_oranges sounds like a bug, the timer probably shouldn't be collected if its callback can be invoked

[14:01:44.0000] <Ms2ger>
Yeah

[14:01:45.0000] <jgraham>
zcorpan: Isn't that point XPCOm-specific?

[14:01:57.0000] <Ms2ger>
Our XPCOM timers have some issues

[14:02:05.0000] <Ms2ger>
Then again, XPCOM have some issues

[14:02:10.0000] <Ms2ger>
*has

[14:04:26.0000] <gsnedders>
"some"? Doesn't that rather imply there's a part without issue?

[14:06:25.0000] <zcorpan>
"Using magical delay numbers is never necessary." - i find myself using timeouts when i need to test that something *doesn't* happen

[14:07:16.0000] <Ms2ger>
gsnedders, thank you

[14:07:39.0000] <Ms2ger>
zcorpan, well, how do you know it won't happen *after* that delay? :)

[14:08:10.0000] <zcorpan>
Ms2ger: i don't

[14:09:18.0000] <zcorpan>
but i still think such tests can be useful, at least i've found bugs with such tests

[14:09:50.0000] <Ms2ger>
Fair

[14:10:42.0000] <jgraham>
Yeah, timeouts are needed for sure

[14:11:01.0000] <zcorpan>
e.g. opera would sometimes fire several 'close' events with websockets, which is why some of our websocket tests have a timeout after the close event to make sure another close isn't fired immediately afterwards

[14:11:03.0000] <jgraham>
I think that point would be better as "avoid unneeded timeouts"

[14:12:17.0000] <zcorpan>
though i'm probably guilty of using timeouts when i shouldn't have, too :-)

[14:12:50.0000] <jgraham>
Yeah, when writing or reviewing tests it's always worth asking "could this timeout be avoided"

[14:12:54.0000] <jgraham>
+?

[14:15:27.0000] <zcorpan>
speaking of tests, i'm currently testing structured clone with web workers and i'm creating a new worker for each subtest because it was easy to make the worker know which test to expect. but this is pretty inefficient since there are many tests by now

[14:17:02.0000] <zcorpan>
if i want to only start one worker, i'd probably have to come up with a protocol where i first send a message with the test ID, then a message with the test data. and same in the other direction since i test structured clone both ways

[14:18:35.0000] <jgraham>
I would prefer inefficient and simple over efficient and complex

[14:18:42.0000] <jgraham>
For tests

[14:18:52.0000] <jgraham>
Is the performance actually a problem?

[14:19:01.0000] <Ms2ger>
What he said

[14:19:26.0000] <zcorpan>
i guess it's not really a problem

[14:19:53.0000] <zcorpan>
the worker should be cached since it's only the hash that is different

[14:20:47.0000] <zcorpan>
and this test is complex already :-|


2013-03-22
[02:37:26.0000] <zcorpan>
i tried bananabench and ammo.js in firefox with asm enabled and then disabled, but didn't notice much of a difference

[02:39:09.0000] <zcorpan>
oh, that's because i have a mac

[03:53:52.0000] <Ms2ger>
'I used to be down on Web IDL, until I realised I could pronounce it "Web Idyll".'

[03:53:59.0000] <Ms2ger>
Maybe we should tell TC39 that

[04:14:06.0000] <hsivonen>
https://s3.amazonaws.com/f.cl.ly/items/2L0a0B0R130G3u0k0b1y/Layering.pdf looks appealing but fails to discuss the benefits of CSS layout and painting not having to allow JS to plug into points inside the layout and painting process

[04:53:03.0000] <annevk>
hsivonen: From talking to wycats__ and slightlyoff it's not necessarily about exposing all the guts. First defining the layering better and second seeing what needs to be exposed and how. The hope is that implementors scream for future-hostile proposals.

[04:53:16.0000] <annevk>
Which seems pretty reasonable to me.

[04:53:55.0000] <annevk>
And I think it's something we've been doing to some extent already, although a lot of the focus has been on actually defining things in the first place too...

[09:17:35.0000] <dglazkov>
good morning, Whatwg!

[09:22:33.0000] <asmodai>
Well, the HTML5 DRM thing now reached defective by design

[09:22:53.0000] <asmodai>
http://www.defectivebydesign.org/no-drm-in-html5

[10:05:05.0000] <wycats__>
hsivonen: it's not about exposing the guts

[10:05:14.0000] <wycats__>
in fact, it's explicitly about NOT exposing the guts

[10:05:34.0000] <wycats__>
it's about defining a layered model that's architecturally sound but which may be implemented and optimized in different ways

[10:05:51.0000] <wycats__>
which means NOT exposing every single C++ function as a JS hook

[10:05:58.0000] <wycats__>
(that's what we're doing now :/ )

[10:37:15.0000] <Hixie>
asmodai: talk about missing the point

[10:55:50.0000] <Hixie>
anyone know how the content model is broken here? https://www.w3.org/Bugs/Public/show_bug.cgi?id=19650

[10:55:54.0000] <Hixie>
i don't understand the bug report

[11:03:18.0000] <Hixie>
cabanier: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=19818#c1 last paragraph

[11:04:49.0000] <Hixie>
Ms2ger: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=17844

[11:19:54.0000] <JonathanNeal>
Do web browsers download the first half of a video if I tell it to play from the second half on?

[11:20:38.0000] <JonathanNeal>
Say I tell a 10 minute video to play from the 5 minute mark, after, say, the loadedmetadata event, can it skip ahead without downloading the first 5 minutes?

[11:20:50.0000] <Hixie>
depends on many things

[11:21:03.0000] <Hixie>
browser, protocol used for downloading the file, server capabilities, etc

[11:21:47.0000] <JonathanNeal>
Hixie: are these written down somewhere in a friendly fashion? even just for a few of them, like which browsers support downloading fragments?

[11:21:56.0000] <Hixie>
no idea

[11:32:15.0000] <Ms2ger>
Hixie, as I said last time, I know nothing :)

[11:33:34.0000] <Hixie>
say it in the bug, otherwise i forget :-)

[11:33:35.0000] <Hixie>
sorry :-)

[12:24:18.0000] <asmodai>
Hixie: I didn't create it :)

[12:24:43.0000] <asmodai>
Hixie: But that's what the term DRM brings to the table nowadays, I guess.

[13:17:05.0000] <cabanier>
hixie: thanks!

[13:27:35.0000] <MikeSmith>
Hixie: I suspect the commenter doesn't understand "then transparent"

[13:28:01.0000] <MikeSmith>
what you have is clear enough if you understand what "transparent" means in the spec

[13:28:14.0000] <MikeSmith>
but I can imagine it being not very clear if you don's

[13:42:42.0000] <MikeSmith>
I wish we could get the FSF as interested in examining the W3C document license in the context of what kind of copyright/license for core Web standards is in the public interest.

[16:17:05.0000] <danbeam_work>
dglazkov, Hixie, hober, jgraham, matjas, othermaciej, ShaneHud1on, TabAtkins, tantek can haz wiki.whatwg.org account to ever-so-slightly edit RequestAutocomplete spec?

[16:17:23.0000] <danbeam_work>
(http://wiki.whatwg.org/wiki/RequestAutocomplete)

[16:18:05.0000] <othermaciej>
I don't think I have the power to make wiki accounts

[16:18:26.0000] <danbeam_work>
you might want to remove yourself from here then http://wiki.whatwg.org/wiki/IRC

[16:18:28.0000] <danbeam_work>
othermaciej: ^

[16:18:48.0000] <danbeam_work>
as it's in the header to ping somebody on that list

[16:19:02.0000] <danbeam_work>
doh, wrong list

[16:19:22.0000] <othermaciej>
wouldn't you want someone labeled "administrator" on this list? http://wiki.whatwg.org/wiki/Special:ListUsers%26group%3Dautoconfirmed

[16:19:29.0000] <danbeam_work>
yes, just found that, my bad

[16:20:07.0000] <danbeam_work>
/me doesn't see the point of multiple valid link colors

[16:20:22.0000] <danbeam_work>
that link looked invalid

[16:20:59.0000] <danbeam_work>
hsivonen, also ^ (can haz wiki.whatwg.org account?)

[16:21:03.0000] <othermaciej>
as a side note, it would probably be helpful to for the proposal to explain use cases

[16:21:26.0000] <danbeam_work>
othermaciej: agreed

[16:21:47.0000] <danbeam_work>
othermaciej: I'll borrow from some of the other emails we've sent and add on to that for #requestAutocomplete() (i.e. payments for now)

[16:23:18.0000] <othermaciej>
I would have thought autocomplete should always be triggered by the UA or the user, not the website

[16:23:26.0000] <danbeam_work>
(as soon as I get an account, of course)

[16:24:49.0000] <danbeam_work>
othermaciej: http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Oct/0274.html "Some examples:"

[16:25:08.0000] <danbeam_work>
this isn't like autofill or the preview of autofill in chrome now

[16:25:25.0000] <danbeam_work>
it pops a modal dialog, which I wouldn't trust a UA to know what works for all sites' use cases

[16:25:34.0000] <othermaciej>
oh hey, I already commented on the email thread on this, assuming it is the same requestAutocomplete()

[16:25:38.0000] <danbeam_work>
yes

[16:26:20.0000] <danbeam_work>
it was before I mentioned the use cases, though, IIRC

[16:27:27.0000] <danbeam_work>
othermaciej: also, re: autofill vs. autocomplete, complete and fill seem to be used interchangeably here and HTML spec calls out autocomplete= for individual fields *and* a whole form, so I doubt they'll be cleanly separated any time soon

[16:28:39.0000] <othermaciej>
I still think it's a bad idea to let websites initiate autocomplete/autofill as per my earlier message

[16:28:40.0000] <danbeam_work>
othermaciej: there's a few other points I think we responded to from your email - http://lists.w3.org/Archives/Public/public-whatwg-archive/2012Nov/0105.html - it was a while ago, can't really remember

[16:28:44.0000] <othermaciej>
but I guess that can be discussed on the list

[16:28:53.0000] <danbeam_work>
othermaciej: probably the best place

[16:29:07.0000] <danbeam_work>
othermaciej: I should also mention that it's based on user gesture, so it's not solely up to a site

[16:29:15.0000] <danbeam_work>
othermaciej: it's up to both

[16:29:36.0000] <danbeam_work>
othermaciej: as it is currently (at least a site author has the ability to *not* to autofill with autocomplete=off)

[16:32:03.0000] <othermaciej>
probably not useful to discuss it here since I'm sure many people have an opinion


2013-03-23
[10:27:52.0000] <annevk>
So I guess I should document the various Fetch policies we have to illustrate we lack logic

[10:37:04.0000] <conspiritech__>
is there any one or two line html or css way for me to display a 'no svg support' error for an image but have it not be read by screen reader?

[10:41:50.0000] <conspiritech__>
like an alt text except that only sighted users see it would be ideal

[10:46:33.0000] <annevk>
Are there still user agents without SVG support?

[10:46:59.0000] <conspiritech__>
IE8

[10:47:25.0000] <conspiritech__>
and anyone with compatibility mode on accidentally such as my dad

[10:47:35.0000] <annevk>
I think Firefox might have some proprietary way to do that.

[10:47:49.0000] <annevk>
The requirement that a screen reader does not see it makes a standardized way hard given the constrain of HTML/CSS

[10:48:44.0000] <conspiritech__>
i only have one sag, but i imagine if they were suddenly beset by dozens of svg alt text error messages they wouldn't be happy

[10:49:18.0000] <annevk>
you could do <object data=svg><img src=svgnotsupportedmessage></object> maybe

[10:50:36.0000] <conspiritech__>
around this "		<div><img id="topimg" src="images/logo3.svg" alt="logo company name" /></div>

[10:50:44.0000] <conspiritech__>
where does that go?

[10:54:30.0000] <conspiritech__>
oh i think i see

[10:55:26.0000] <conspiritech__>
just after or something

[10:55:43.0000] <conspiritech__>
never heard of <object> before

[10:56:06.0000] <conspiritech__>
thanks

[11:13:35.0000] <annevk>
yw

[11:14:13.0000] <conspiritech>
did not work the way I tried it.  but I've spent too much time on it

[12:03:55.0000] <annevk>
http://wiki.whatwg.org/wiki/HTTP_Fetch_Policy is what I have thus far

[13:22:15.0000] <odinho>
Oh FSF found out about EME -- http://www.defectivebydesign.org/no-drm-in-html5

[15:05:23.0000] <Hixie>
asmodai: yeah, i didn't mean to say you were missing the point :-)

[15:05:51.0000] <Hixie>
MikeSmith: ah, yeah, transparent could be the issue...

[15:05:56.0000] <Hixie>
MikeSmith: no idea how to make that better :-(

[15:38:41.0000] <MikeSmith>
Hixie: me neither

[15:39:04.0000] <MikeSmith>
dude just needs to follow the "transparent" link

[15:43:01.0000] <asmodai>
Hixie: Didn't take your sentence as such :)

[15:43:07.0000] <asmodai>
So no worries ^^

[16:21:03.0000] <ari-_-e>
so here's a conundrum for you:

[16:21:34.0000] <ari-_-e>
I add an iframe to my page which has a different origin than my page

[16:22:04.0000] <ari-_-e>
when that iframe gets loaded, it actually gets redirected to something else that is not the same origin as it originally was

[16:22:25.0000] <ari-_-e>
now I want to postMessage to the window in that iframe

[16:22:45.0000] <ari-_-e>
what targetOrigin do I use?

[16:29:03.0000] <ari-_-e>
let's say that the redirect only changed the protocol from http to https

[16:29:22.0000] <ari-_-e>
so it's still basically the same page and it still makes sense to send the message


2013-03-24
[14:55:27.0000] <Ms2ger>
jgraham, I guess base64.html counts as Aryeh's submission

[15:40:41.0000] <ari-_-e>
does anyone know of a framable postMessage test page hosted anywhere? i.e. a page that listens for messages, prints them, and is framable?

[15:58:08.0000] <jgraham>
ari-_-e: Seems like you could rather easilly write one?

[15:59:37.0000] <ari-_-e>
jgraham: well I'd like to to be on the web somewhere

[16:00:13.0000] <ari-_-e>
as in, I need that for what I'm trying to do

[16:00:40.0000] <ari-_-e>
it's a test case for a bug

[16:01:33.0000] <ari-_-e>
also the embedded and embedding page would ideally be on different hosts as well

[16:02:13.0000] <ari-_-e>
although that's not strictly required


2013-03-25
[02:19:59.0000] <Ms2ger>
"If we don't learn how to produce books from web content, there will soon be no books."

[02:21:19.0000] <jgraham>
/me blinks

[02:24:02.0000] <Ms2ger>
And you're right, getting tests into our automation has made me find bugs

[03:25:20.0000] <Ms2ger>
Hear, hear

[03:25:21.0000] <Ms2ger>
http://www.neowin.net/images/uploaded/screen%20109.jpg

[05:23:12.0000] <hsivonen>
Ms2ger: interesting choice to have rv: but no slash after "Gecko"

[05:23:55.0000] <hsivonen>
Ms2ger: still missing the innovation of syncing engine numbers with product numbers

[05:24:04.0000] <hsivonen>
Trident/7.0 rather than Trident/11.0

[05:24:40.0000] <Ms2ger>
I would have gone with just copying Firefox's entirely, but they didn't ask me :)

[05:30:54.0000] <annevk>
still lots of redundant bytes

[05:37:04.0000] <hsivonen>
also interesting that browser-exposed .Net isn't dead enough to stop being exposed there

[05:37:21.0000] <hsivonen>
I'm glad we never put Java Web Start version info in the UA string

[05:40:15.0000] <SimonSapin>
hsivonen: can plugins have any influence on the UA string?

[05:42:09.0000] <MikeSmith>
hsivonen: speaking of UA strings you may have noticed I checked in a change to the validator sources to make the validator UA string configurable

[05:42:37.0000] <MikeSmith>
reason being, for all the W3C validator services we want to include a URL in the UA string

[05:43:01.0000] <MikeSmith>
due to us and MIT getting abuse reports for IP addresses that are the validator hosts

[05:44:14.0000] <MikeSmith>
so the W3C service now sends the string "Validator.nu/LV http://validator.w3.org/services"

[05:44:51.0000] <zcorpan>
MikeSmith: no version number???????

[05:45:10.0000] <MikeSmith>
heh

[05:45:18.0000] <MikeSmith>
"LV" is the version number

[05:45:23.0000] <MikeSmith>
"Modest traffic from these services does not consitute abuse against your website. Third parties using this service to review content you make publicly available is not substantially different from browsing your site. Web designers frequently evaluate techniques of other websites as a means to learn."

[05:45:27.0000] <jgraham>
"quite a lot like Gecko"

[05:45:59.0000] <jgraham>
Would actually be true for the validator :)

[05:46:03.0000] <zcorpan>
MikeSmith: ah, so 55

[05:46:10.0000] <MikeSmith>
jgraham: yeah

[05:46:27.0000] <annevk>
does User-Agent: http://validator.w3.org/services violate HTTP?

[05:46:40.0000] <MikeSmith>
dunno

[05:46:51.0000] <MikeSmith>
do I have to put it in some delimiters?

[05:46:57.0000] <MikeSmith>
parens or something?

[05:47:16.0000] <jgraham>
It violates the expectations of the twitter generation who expect URLs to be < 10 characters

[05:47:23.0000] <annevk>
I would suggest to not care personally

[05:47:34.0000] <MikeSmith>
OK, that's easy

[05:47:50.0000] <MikeSmith>
because I actually don't care about violating HTTP

[05:47:58.0000] <jgraham>
Yeah, seriously

[05:48:12.0000] <jgraham>
If we all started caring about violationg HTTP now

[05:48:16.0000] <MikeSmith>
rather, given a good opportunity to violate HTTP, I'm going to violate, with pleasure

[05:48:20.0000] <jgraham>
We'd have to set up our own internet

[05:48:31.0000] <jgraham>
and it would only be us and Julian and Roy

[05:48:34.0000] <zcorpan>
http://www.w3.org/Protocols/rfc2616/rfc2616-sec3.html#sec3.8 seems to me a url doesn't violate the production

[05:48:43.0000] <MikeSmith>
ok

[05:48:47.0000] <jgraham>
And how fun would that be?

[05:49:08.0000] <zcorpan>
"They MUST NOT be used for advertising or other non-essential information"

[05:49:54.0000] <jgraham>
So, does the additional character in "consume a character reference" actually do anything? It seems to me that that "Anything else" clause will have the same behaviour

[05:50:06.0000] <zcorpan>
MikeSmith: that seems like an obvious choice if you want to violate http

[05:50:06.0000] <annevk>
zcorpan: it does https://tools.ietf.org/html/rfc2616#page-17

[05:50:22.0000] <annevk>
e.g. : is a separator and cannot be part of a token

[05:50:32.0000] <annevk>
but the requirements are nonsense anyway

[05:50:35.0000] <zcorpan>
annevk: ah

[05:51:04.0000] <zcorpan>
so everyone's User-Agent string are invalid because they contain colons and parens?

[05:53:04.0000] <annevk>
zcorpan: it's roughly token ["/" token] ["(" .... ")]

[05:54:01.0000] <MikeSmith>
jgraham: hey btw can you set me up with critic for https://github.com/w3c/web-platform-tests/pull/21 ?

[05:54:25.0000] <annevk>
zcorpan: might be easier to read https://tools.ietf.org/html/rfc2616#section-14.43 and search for "product =" and "comment ="

[05:54:35.0000] <MikeSmith>
jgraham: or remind me what I need to do

[05:55:34.0000] <Ms2ger>
MikeSmith, can't you log in with your github credentials?

[05:56:53.0000] <jgraham>
MikeSmith: Done

[05:57:05.0000] <zcorpan>
ok so url in parens is allowed

[05:57:52.0000] <zcorpan>
but advertising MikeSmith's hotline for buying viagra is not

[05:59:55.0000] <hsivonen>
SimonSapin: Not in non-IE browsers, AFAIK. Though prior to Firefox 4 (IIRC), extension could add cruft to the Firefox UA string

[06:00:02.0000] <hsivonen>
*extensions

[06:00:21.0000] <SimonSapin>
hsivonen: and Firefox does not allow this anymore?

[06:00:33.0000] <hsivonen>
SimonSapin: not anymore

[06:00:46.0000] <hsivonen>
SimonSapin: though Ubuntu puts "Ubuntu" there somehow anyway

[06:00:59.0000] <SimonSapin>
I see, thanks

[06:01:00.0000] <hsivonen>
perhaps by patching the source of Firefox itself

[06:01:24.0000] <jgraham>
MikeSmith: I can't add you as a reviewer unless you log into critic though :)

[06:01:51.0000] <jgraham>
Or rather unless you create an account, which means logging in at least once

[06:08:47.0000] <jgraham>
On the subject of those tests

[06:09:06.0000] <jgraham>
I note that they overlap a lot (entirely?) with Aryeh's reflection tests

[06:09:18.0000] <jgraham>
http://critic.hoppipolla.co.uk/r/5

[06:10:30.0000] <MikeSmith>
jgraham: OK, I'm logged in

[06:12:18.0000] <Ms2ger>
Want me to submit Mozilla's reflection tests too? :)

[06:13:34.0000] <MikeSmith>
jgraham: so Yeah I thought about that

[06:13:50.0000] <MikeSmith>
but as far as I know, we don't have any policy for redundant tests

[06:15:12.0000] <MikeSmith>
and it would seem to be good to not discourage contributors by saying, Thanks for all your work but sorry we already have test cases that cover the same thing you're submitting

[06:18:51.0000] <jgraham>
Yeah, I don't know either

[06:19:11.0000] <jgraham>
So on the one hand I agree that tell ing people "thanks but no thanks" is bad

[06:19:30.0000] <jgraham>
On the other hand it does create a maintainance burden to have *totally* redundant tests

[06:19:58.0000] <jgraham>
I would of course err on the side of having redundant tests rather than inadequate tests though

[06:21:24.0000] <jgraham>
Ms2ger: Did bz write them? :p

[06:21:34.0000] <Ms2ger>
mounir

[06:23:06.0000] <jgraham>
Now I have to think of a serious reply :(

[06:23:35.0000] <jgraham>
I think the answer is "yes, if you want to convert them to testharness format and don't think they are already covered by existing tests"

[06:24:18.0000] <Ms2ger>
My issue is that Aryeh's give me a headache, so I'm not sure if they cover everything

[06:25:37.0000] <mounir>
Ms2ger: are you pushing my tests somewhere?

[06:25:54.0000] <jgraham>
Yeah, there is a certain amount of headache material there

[06:25:57.0000] <Ms2ger>
I've been thinking about it

[06:26:01.0000] <jgraham>
But they are quite good!

[06:26:14.0000] <jgraham>
Just needs someone to do an epic review job

[06:26:38.0000] <Ms2ger>
He's with Mozilla now, I can't do it

[06:27:23.0000] <jgraham>
Is he? I thought he was studying? And I thought he wrote the tests at Google. So I think you can :)

[06:27:56.0000] <Ms2ger>
Dammit

[06:28:03.0000] <hsivonen>
I wonder how much effort I should put into arguing about the fallback encoding for the Welsh locale

[06:28:07.0000] <Ms2ger>
Er, we're both studying, I can't do it :)

[06:28:27.0000] <jgraham>
Ms2ger: You seem to mostly be on IRC. He seems to be mostly not on IRC :p

[06:28:37.0000] <jgraham>
hsivonen: I think you may already have put in too much effort

[06:52:10.0000] <annevk>
FWIW, https://github.com/slightlyoff/NavigationController/ is now public

[06:52:20.0000] <hsivonen>
annevk: hooray

[06:52:43.0000] <hsivonen>
why is the Web and TV mailing list Member-confidential?

[06:52:45.0000] <jgraham>
Took a long time

[06:53:44.0000] <hsivonen>
I wonder what Opera is telling their TV customers about the Presto to WebKit move

[06:54:36.0000] <zewt>
a "web and TV" mailing list sure sounds like a place to discuss DRM, heh

[06:55:15.0000] <zewt>
which, since I'm a bit cynical, I'd suspect as a reason to keep it private (keep the public out = fewer objections)

[06:56:27.0000] <hsivonen>
so weird that some entities communicate with Liaison Letters instead of just filing bugs

[06:56:51.0000] <zewt>
sounds like the same sort of people who send email to lists with a company name in the from line and signature, with no name

[06:58:18.0000] <Ms2ger>
/me wonders who sent Liaison Letters

[06:58:35.0000] <zewt>
puffer fish

[06:58:36.0000] <zewt>
heh

[06:58:53.0000] <hsivonen>
sorry liaison statement

[06:58:55.0000] <hsivonen>
not letter

[06:59:20.0000] <hsivonen>
Ms2ger: the existence of the liaison statement is disclosed at https://www.w3.org/Bugs/Public/show_bug.cgi?id=21301

[06:59:42.0000] <Ms2ger>
I see

[07:00:34.0000] <zewt>
reminds me of that guy (can't remember who--probably for the best) that was all "if you do this i will object", and didn't argue any further, as if he had total veto power and had no obligation to make technical arguments

[07:01:15.0000] <Ms2ger>
Weird Glenn?

[07:02:09.0000] <zewt>
not sure (and I guess I'd sooner not stick some random guy's name in a log somewhere for something he did a year ago, heh)

[07:02:21.0000] <zewt>
annevk: sadface @ window.event

[07:04:21.0000] <annevk>
yes

[07:04:31.0000] <Ms2ger>
Yay, webkit

[07:04:48.0000] <zewt>
annevk: i wonder if it can be restricted to events fired on DOM nodes, or on DOM nodes inside a document, or something like that

[07:05:03.0000] <zewt>
(maybe it already is; not very familiar with it)

[07:05:24.0000] <annevk>
I recommend advocating such a limitation to WebKit / IE people

[07:05:53.0000] <annevk>
I'm planning to define whatever they implement as just doing it slightly different seems like asking for more trouble going forward

[07:07:14.0000] <zewt>
i'll think more about how much it matters

[07:12:13.0000] <MikeSmith>
jgraham: thanks for the critic setup

[07:13:24.0000] <zewt>
heh, found a broken interop on the very first thing i tried with it (synthesized events don't show up in window.event in IE; they do in webkit)

[07:13:27.0000] <zewt>
(ie9)

[07:18:40.0000] <Ms2ger>
/me rolls his eyes

[07:24:34.0000] <hsivonen>
what's window.event?

[07:24:59.0000] <hsivonen>
some legacy Netscape event thing?

[07:25:20.0000] <Ms2ger>
IE

[07:25:20.0000] <jgraham>
Legacy IE event thing that WebKit supports

[07:25:51.0000] <hsivonen>
oh

[07:25:58.0000] <jgraham>
Creates an "event" variable in the global scope when handling an event

[07:26:51.0000] <sangwhan>
It's also a invitation for enterprising people to try to poll (and fail) instead of listen for events

[07:27:33.0000] <jgraham>
Wait, what? How would that work?

[07:28:02.0000] <jgraham>
Does it have a lifetime longer than the lifetime of the event handler?

[07:29:48.0000] <zcorpan>
Ms2ger: do you have an opinion on https://www.w3.org/Bugs/Public/show_bug.cgi?id=19388 ?

[07:30:38.0000] <Ms2ger`>
zcorpan, I don't

[07:30:43.0000] <zcorpan>
presto supports window.event as well, but maybe we made it undetectable (like document.all)

[07:31:33.0000] <sangwhan>
jgraham: I recall it being leaked globally if you time the access correctly - this might have been fixed though

[07:31:58.0000] <zewt>
it's only set synchronously, so the only theoretical danger is that it lets people access events from code that otherwise wouldn't have access to the variable (which is just a code scoping "who might be messing with my data" thing)

[07:32:34.0000] <zewt>
and that only matters for things that aren't right there in the document (where anyone can get to it anyway, with a capture listener)

[07:34:06.0000] <zewt>
so while random code down the stack having access to my otherwise-private event object in an XHR onload handler is lame, i guess it doesn't really matter much

[07:35:17.0000] <gsnedder1>
zcorpan: Became undetectable along with attachEvent

[07:36:50.0000] <sangwhan>
Nevertheless is a big wtf for proper scoping, wonder why so many browsers implemented it

[07:37:00.0000] <sangwhan>
/me scrummages through Presto history for clues

[07:37:08.0000] <zewt>
that's something we wonder often in here, heh

[07:38:20.0000] <sangwhan>
Not sure who's the best person to ask, but is there any reason why WebKit *only* implements ChildNode.remove() and none of it's friends?

[07:38:35.0000] <Ms2ger`>
Because it's easy, I guess

[07:38:51.0000] <Ms2ger`>
I've got a patch to add it to Gecko too

[07:39:54.0000] <zewt>
it's also one of the more convenient helpers--if I never have to type elem.parentNode.removeChild(elem) again, I'll be happy

[07:40:06.0000] <sangwhan>
If this starts picking up on live content, wonder what we're gonna do about Presto

[07:40:36.0000] <zewt>
still sad that we didn't fix the confusing "before" and "after" method names

[07:40:51.0000] <zcorpan>
seems webkit doesn't have attachEvent

[07:40:52.0000] <zcorpan>
and window.event is detectable

[07:40:55.0000] <sangwhan>
/me already experienced one instance on a *very* major website which eventually got "fixed" with the JQ equivalent

[07:41:17.0000] <miketaylr>
sangwhan: paul_irish might know, i seem to remember him saying something about some conflicts they ran into with the other stuff?

[07:41:21.0000] <miketaylr>
/me could be making this up

[07:42:38.0000] <sangwhan>
before()/after() is confusing, at first look I thought they were traverse helpers

[07:42:55.0000] <zewt>
yeah there's no verb, so they look like queries of some kind

[07:43:16.0000] <sangwhan>
miketaylr: about why WebKit only implements remove()?

[07:43:24.0000] <miketaylr>
sangwhan: yeah

[07:43:30.0000] <miketaylr>
but i bet he's sleeping right now

[07:43:46.0000] <sangwhan>
/me should start using twitter more

[07:44:08.0000] <sangwhan>
/me feels like a caveman in the 21st century. haven't tweeted in more than a year.

[07:44:19.0000] <Ms2ger`>
/me has never tweeted

[07:44:29.0000] <Ms2ger`>
Are you calling me a caveman?!

[07:44:45.0000] <zewt>
i think the real verb is "twitted"

[07:45:32.0000] <miketaylr>
i think cavemen would probably just tweet "Hungry."

[07:45:33.0000] <sangwhan>
Ms2ger`: You don't enjoy the simple life?!

[07:45:43.0000] <miketaylr>
(which is like 90% of all tweets anyways)

[07:45:56.0000] <zewt>
that's more content than most of twitter

[07:46:00.0000] <Ms2ger`>
miketaylr, "eating"

[07:46:08.0000] <miketaylr>
"Sabertooth tiger #YOLO"

[07:46:24.0000] <zewt>
twitter really needs to stop pretending people use it with SMS, and raise the character limit to something that allows expressing thoughts

[07:46:52.0000] <zewt>
it's particularly silly that it has the same character limit for japanese and english, even though japanese is far more dense per-character--so they can actually communicate

[07:47:17.0000] <sangwhan>
Yes, increase the character limit. Just in case they didn't have enough server load :P

[07:47:28.0000] <jgraham>
You mean you don't love the "everyone shouting at each other in a crowded bar" atmosphere it creates?

[07:47:31.0000] <miketaylr>
i've heard that VIPs get a higher char limit

[07:47:33.0000] <miketaylr>
like 255

[07:47:42.0000] <zewt>
jgraham: everyone shouting at each other with their mouth full of food

[07:48:07.0000] <sangwhan>
zewt: Chinese is possibly the most efficient in character count, they don't have verb conjugation or connecting words

[07:48:24.0000] <sangwhan>
Japanese is surprisingly inefficient

[07:48:50.0000] <sangwhan>
/me hopes not to get stabbed in a Tokyo back alley for saying that in a logged chat

[07:49:08.0000] <zewt>
japanese is only inefficient in excessively-polite mode

[07:49:37.0000] <sangwhan>
LOL vs wwwwwwwwwwwwwwwwwwwwww

[07:49:41.0000] <sangwhan>
I rest my case

[07:49:42.0000] <zewt>
heh

[07:51:44.0000] <hsivonen>
looks like Philip TAYLOR (webmaster) is still active on www-validator even though he left the HTML WG

[07:52:28.0000] <zcorpan>
hsivonen: is www-validator a nice list or a noisy list?

[07:52:48.0000] <sangwhan>
Ah, a clue: http://my.opera.com/sitepatching/blog/2012/02/09/window-event-attachevent-detachevent-script-onreadystatechange

[07:52:48.0000] <hsivonen>
zcorpan: I don't read actively. I suspect the latter.

[07:52:58.0000] <zcorpan>
ok

[07:56:29.0000] <MikeSmith>
hsivonen: yeah seems so

[07:59:08.0000] <hsivonen>
MikeSmith: I kinda agree with Jukka that telling people to change the iso-8859-1 label to windows-1252 isn't particularly useful

[08:01:58.0000] <zewt>
really the world should just stop pretending they're different things, and add the win-1252 additions into 8859-1, heh

[08:02:56.0000] <zcorpan>
MikeSmith: hsivonen: IO Error: <data:text/html,%3cmeta%20charset=iso-8859-1%3e> Code: 1/PERCENT_ENCODING_SHOULD_BE_UPPERCASE in PATH: Percent-escape sequences should use uppercase.

[08:03:29.0000] <zcorpan>
now that's annoying after having looked up the ASCII table for "<" and ">" :-P

[08:03:52.0000] <MikeSmith>
hsivonen: I do too actually

[08:04:21.0000] <MikeSmith>
but that's not what the specs say currently

[08:04:29.0000] <MikeSmith>
HTML and Encoding

[08:04:44.0000] <MikeSmith>
so I suppose we need to chat with annevk and Hixie_ about that

[08:05:25.0000] <zcorpan>
Encoding says that anything but "utf-8" is invalid, so you could have the same message for both iso-8859-1 and windows-1252

[08:05:33.0000] <MikeSmith>
zcorpan: we're mostly just passing that message on as-is from the Jena URI library

[08:05:51.0000] <MikeSmith>
zcorpan: yeah but the HTML spec doesn't exactly say that actualy

[08:06:08.0000] <zewt>
is this the "normalized encoding label" thing?

[08:06:22.0000] <MikeSmith>
my read on the HTML spec is that it says any "name" from the Encoding spec is valid

[08:10:36.0000] <zcorpan>
MikeSmith: "Authors should use UTF-8. Conformance checkers may advise authors against using legacy encodings." is only should and may, but gives you the option to give an error message for anything but "utf-8"

[08:10:49.0000] <MikeSmith>
yeah

[08:11:11.0000] <MikeSmith>
I don't know how hsivonen feels about error'ing on anything non-UTF8

[08:11:18.0000] <annevk>
MikeSmith: the Encoding Standard gives the long term view

[08:11:23.0000] <MikeSmith>
ok

[08:11:51.0000] <annevk>
MikeSmith: I think I'd be fine with the validator not yet flagging all non utf-8 cases

[08:12:20.0000] <annevk>
MikeSmith: I think you want to flag cases where no encoding is declared and where the encoding declared is not a valid label per the Encoding Standard or maps to the replaced encoding

[08:12:31.0000] <MikeSmith>
yeah

[08:12:39.0000] <MikeSmith>
those are clearly errors

[08:13:01.0000] <zcorpan>
as far as usefulness goes, at this time i think it would be good to warn for anything but "utf-8" and not whine at all about non-preferred names (except for variants of utf-8)

[08:13:03.0000] <annevk>
MikeSmith: In addition you might want to flag certain crazy encodings, such as iso-2022-* and hz-gb-2312

[08:13:38.0000] <annevk>
yeah, the "preferredness" stuff is noise

[08:13:54.0000] <MikeSmith>
for the ones that are non-UTF8 but that have names in the Encoding standard, we could Warn. And once we get the filtering feature deployed, people will have a lot more control about suppressing warnings that annoy them (or errors too, for that matter)

[08:16:11.0000] <zcorpan>
MikeSmith: does the filter feature log what people filter? that might be a useful communication channel for things we should change in the spec

[08:23:38.0000] <MikeSmith>
zcorpan: no it doesn't because the filtering is all client-side, and persisted only on the client side (using localStorage)

[08:24:17.0000] <zcorpan>
MikeSmith: do you agree that it could be a useful communication channel?

[08:24:33.0000] <MikeSmith>
yeah definitely

[08:25:11.0000] <MikeSmith>
there may be some way we could allow people to opt-in to sharing it back

[08:28:35.0000] <hsivonen>
zcorpan: I was thinking of adding a warning for non-UTF-8

[08:29:06.0000] <hsivonen>
zcorpan: but still, it seems bogus to treat iso-8859-1, TIS-620 and such as errors if windows-1252 is only a warning

[08:29:49.0000] <zcorpan>
hsivonen: yeah. http://krijnhoetmer.nl/irc-logs/whatwg/20130325#l-920

[08:30:39.0000] <hsivonen>
are all the non-preferred names supported in all browser that still matter?

[08:33:09.0000] <annevk>
not quite yet, WebKit does not support some of the iso-8859- labels which gives them compat issues

[08:37:55.0000] <zcorpan>
annevk: is there a list? http://wiki.whatwg.org/wiki/Web_Encodings doesn't include nice tables for safari and chrome

[08:38:38.0000] <annevk>
nah, I just know based on bug reports

[08:38:47.0000] <annevk>
I didn't document that other than by including the labels in the standard

[08:39:08.0000] <annevk>
bug report is mentioned in the commit message I think

[09:02:06.0000] <dglazkov>
good morning, Whatwg!

[10:20:56.0000] <MikeSmith>
hsivonen: btw, the W3C validator.nu backends are doing about 2.5 validations per second these days. With no noticeable performance problems, as far as I can see

[10:21:49.0000] <MikeSmith>
currently 4 hosts doing about 2.5 per second each, please one doing about .9 or so per second

[10:22:38.0000] <MikeSmith>
so a total of about 8.4 validations going on each second

[10:43:18.0000] <paul_irish>
sangwhan: no idea on why webkit only implements remove() and not its bretheren yet.  http://trac.webkit.org/changeset/129400  i imagine because it's higher priority.

[10:44:45.0000] <annevk>
hmm, I wonder how it was added and did not conflict with HTMLSelectElement

[10:45:15.0000] <annevk>
paul_irish: see https://www.w3.org/Bugs/Public/show_bug.cgi?id=20720

[10:45:29.0000] <Ms2ger>
Probably because their bindings suck :)

[10:47:05.0000] <annevk>
hmm

[10:47:13.0000] <annevk>
it seems it simply does not work on <select>

[10:47:20.0000] <annevk>
in WebKit

[10:47:35.0000] <annevk>
which does kinda suck

[10:47:38.0000] <annevk>
paul_irish: ^^

[10:47:54.0000] <Ms2ger>
/me looks if he has a test for that

[10:49:10.0000] <odinho>
Hmm. Think some intern implemented all of that in Presto.

[10:49:36.0000] <odinho>
So there should be some tests for it somewhere at least :P

[10:57:14.0000] <Ms2ger>
Mm, JAM is back?

[10:58:33.0000] <Ms2ger>
odinho, https://github.com/w3c/web-platform-tests/pull/42 if you're interested

[11:01:16.0000] <odinho>
Ms2ger: No name for the first two tests?

[11:01:34.0000] <Ms2ger>
Knew it :)

[11:02:24.0000] <rcombs>
so, not sure if this has been discussed, but are there any plans for an API to combine EventSource and Web Notifications without actually having the page open, via use of a "push proxy"?

[11:02:59.0000] <Ms2ger>
odinho, want to suggest something? :)

[11:04:58.0000] <odinho>
Ms2ger: Uh. No. Something simple will work;  select.remove(n) works, select.options.remove(n) works? :P

[11:05:25.0000] <odinho>
Anyway, other than that looks fine. Haven|t run it though, but guess you have :P

[11:05:56.0000] <odinho>
And we were going to add those author headers these days, no? :-) So prolly cool to add that too.

[11:06:05.0000] <odinho>
So everyone knowns who to bother.

[11:07:52.0000] <odinho>
lol,  nice names.

[11:12:47.0000] <annevk>
rcombs: Web Notifications is just end-user notifications

[11:13:10.0000] <annevk>
rcombs: there are plans for push notifications

[11:13:41.0000] <rcombs>
annevk: cool, any draft specs out, or still in the works?

[11:13:42.0000] <annevk>
rcombs: as far as I know only Mozilla has something in that space

[11:13:59.0000] <annevk>
rcombs: https://wiki.mozilla.org/WebAPI/SimplePush and https://wiki.mozilla.org/WebAPI/PushAPI

[11:14:09.0000] <rcombs>
annevk: nice, thanks

[11:14:11.0000] <rcombs>
/me reads up

[11:16:07.0000] <odinho>
SSE has a document saying how telcos can implement their SSE with underlying SMS push, if I was not mistaken?

[11:16:38.0000] <odinho>
So far I've only seen SSE over HTTP though.

[11:17:07.0000] <odinho>
But the web browser abstracting away all work keeping the connection open and listening.

[11:17:33.0000] <annevk>
Yeah, there's a note, but nothing concrete.

[11:37:50.0000] <Ms2ger>
odinho, okay, want to merge now? :)

[11:38:00.0000] <odinho>
yee

[11:38:58.0000] <odinho>
lol, if I only could. Seems I have no rights to merge. darobin, jgraham, tobie

[11:50:27.0000] <Ms2ger>
/me wonders...

[11:51:07.0000] <Ms2ger>
odinho, you should be able to now

[13:21:24.0000] <annevk>
dglazkov: much more interesting than naming is answering the security questions

[13:21:34.0000] <annevk>
dglazkov: and the model you envision to build on top of rel=whatever

[13:22:10.0000] <annevk>
dglazkov: as that has much more interesting implications

[13:58:44.0000] <jgraham>
odinho: All the tests were selftests :(

[14:45:02.0000] <Ms2ger>
Hixie_, should have wontfixed that bug on its 15th birthday :)

[14:45:32.0000] <Hixie_>
heh

[14:59:02.0000] <Ms2ger>
jgraham, ta

[15:31:21.0000] <Hixie_>
GPHemsley: yt?

[15:33:57.0000] <Hixie_>
GPHemsley: (was wondering about the terminology "media type" vs "MIME type" and wondering if we could move mimesniff towards the latter and leave the former for CSS)

[15:44:18.0000] <annevk>
Hixie_: what's --CLEANUP--?

[15:45:57.0000] <Hixie_>
<!--CLEANUP--> is a comment

[15:46:03.0000] <Hixie_>
that says "CLEANUP"

[15:46:11.0000] <Hixie_>
so i know what i need to clean up

[15:46:30.0000] <Hixie_>
look for diffs with the checkin comment "Cleanup"

[15:46:37.0000] <annevk>
k

[15:47:28.0000] <Hixie_>
people complained that i was reflowing lines at the same time as making changes

[15:47:31.0000] <Hixie_>
so now i do them separately

[16:29:19.0000] <MikeSmith>
so I see the definition of valid e-mail address changed

[16:29:33.0000] <MikeSmith>
/me tries to remember if the validator is actually checking that

[16:49:13.0000] <Hixie_>
http://html5.clearboth.org/spec.html o_O

[16:52:05.0000] <TabAtkins>
That's... a lot of work.

[16:52:31.0000] <Hixie_>
i suspect it's machine-transalted.

[16:52:34.0000] <Hixie_>
translated.

[16:52:42.0000] <TabAtkins>
Likely.

[16:53:16.0000] <Hixie_>
why does http://www.w3.org/TR/webstorage/ have a disproportionate share of the source of bug spam?

[16:53:19.0000] <Hixie_>
weird

[16:53:27.0000] <MikeSmith>
Hixie_: http://html5.org/tools/web-apps-tracker?from=7771&to=7772 seems like a pretty bing change in behavior. Or not?

[16:53:41.0000] <MikeSmith>
the appcache change you just checked in

[16:53:55.0000] <Hixie_>
it's a change.

[16:53:58.0000] <Hixie_>
not a huuuge change.

[16:54:14.0000] <Hixie_>
all it does is switch the order of two steps in the navigate algorithm

[16:54:20.0000] <MikeSmith>
ok

[16:54:33.0000] <MikeSmith>
didn't come from a bug or comment?

[16:54:49.0000] <Hixie_>
should only affect people who have appcaches with a manifest saying they are in prefer-online mode, where some of the resources they explicitly cache happen to have URLs listed in their fallback namespaces

[16:54:57.0000] <Hixie_>
it was something i happened to come across when fixing another bug

[16:55:01.0000] <MikeSmith>
OK

[16:56:31.0000] <Hixie_>
seriously, why is /webstorage/ such a big source of spam


2013-03-26
[17:05:22.0000] <GPHemsley>
Hixie_: Sure. Could you file a bug, if there isn't already one?

[17:08:57.0000] <Hixie_>
sure

[17:09:28.0000] <GPHemsley>
Hixie_: (I know there's already a bug about clarifying the definitions of the various parts.)

[17:10:17.0000] <Hixie_>
https://www.w3.org/Bugs/Public/show_bug.cgi?id=21393

[17:10:50.0000] <GPHemsley>
thanks

[17:13:46.0000] <GPHemsley>
Hixie_: FYI, when that change happens, you may have to update references to algorithms. (I think they use "media type".)

[17:14:49.0000] <Hixie_>
yeah

[17:14:59.0000] <Hixie_>
just reassign the bug to me if there's something to change on my end

[17:16:01.0000] <GPHemsley>
Did your recent commit change all sections that reference mimesniff?

[17:19:00.0000] <Hixie_>
it changed all sections that reference [MIMESNIFF]

[17:19:11.0000] <Hixie_>
i may have some where i forgot the reference, in which case i missed them

[17:19:29.0000] <Hixie_>
i definitely have cases where the references are indirect through the first one that mentions MIMESNIFF, i hope they're ok

[17:21:45.0000] <GPHemsley>
Hixie_: Just so I know, whose responsibility is it to check on that? ;)

[17:24:07.0000] <Hixie_>
my spec, my responsibility

[17:24:16.0000] <Hixie_>
but if you see any, let me know :-)

[17:34:10.0000] <GPHemsley>
Hixie_: Would s/media type/MIME type/ be acceptable, as far as you're concerned?

[17:35:14.0000] <zewt>
calling mime types "media type" seems like calling urls "uris" and megabytes "mibibytes", heh

[17:35:43.0000] <GPHemsley>
zewt: We're past that discussion already.

[17:35:49.0000] <zewt>
javascript "ecmascript"

[17:35:57.0000] <zewt>
GPHemsley: not until people stop doing them :P

[17:36:09.0000] <GPHemsley>
zewt: Well, I meant in this context.

[17:36:50.0000] <GPHemsley>
although your latter two examples have sufficient distinction to warrant separate terms, I think

[17:37:28.0000] <zewt>
they're all things where somebody took a well-understood term, went "we need a new term for some anal reason!", resulting in more confusion than any conceivable benefit. heh

[17:37:49.0000] <zewt>
(or some close variant, of course)

[17:38:33.0000] <GPHemsley>
the binary prefix issue was more than just "some anal reason"

[17:38:50.0000] <GPHemsley>
and there does exist http://javascript.spec.whatwg.org/

[17:38:53.0000] <zewt>
yeah, that's trying to help hard drive marketing departments justify lying

[17:39:14.0000] <zewt>
also, the idea that anyone would seriously expect me to say "gibibytes" out loud with a straight face is pretty legitimately hilarious

[17:39:14.0000] <GPHemsley>
(which may or may not fall under your claims of justifications)

[17:39:50.0000] <GPHemsley>
actually, no, the prefixes maintain the distinction betwen 1000 and 1024

[17:40:08.0000] <GPHemsley>
it's just that now, when people use the SI prefixes, they actually mean the SI meanings

[17:40:20.0000] <GPHemsley>
instead of the binary ones

[17:44:25.0000] <Hixie_>
GPHemsley: fine by me, but obviously as with any such thing check that the result is sound :-)

[17:45:20.0000] <GPHemsley>
I think it is; I don't reference CSS, and I didn't really use "MIME type" before.

[17:47:52.0000] <Hixie_>
i just mean make sure you don't have anything that says "And if you check the <em>media</em> type..." or "the second letter of the term "media type" is "e"" or some such

[17:47:56.0000] <Hixie_>
obviously those examples are silly

[17:47:58.0000] <Hixie_>
but you know what i mean

[17:48:18.0000] <Hixie_>
gotta go

[17:50:28.0000] <GPHemsley>
ah, hmm... the only conflict might be wrt the terminology discussion about the various parts: does "MIME type portion" make the same amount of sense as "media type portion"?

[17:50:39.0000] <GPHemsley>
perhaps not, but that terminology should change anyway

[17:53:03.0000] <GPHemsley>
of course, there may now be a question: should the standard be called "MIME Type Sniffing"?

[18:03:48.0000] <stevefaulkner>
any known implementations of inert attribute?

[18:07:04.0000] <falken_>
stevefaulkner: i'm working on it for webkit, but it's not really done

[18:08:06.0000] <stevefaulkner>
falken_: thanks, what about the dialog element?

[18:08:39.0000] <falken_>
stevefaulkner: yes, i'm also working on that... something is landed but it also has a lot of work still

[18:09:13.0000] <stevefaulkner>
falken_: cool! you have  a bug number?

[18:09:49.0000] <falken_>
stevefaulkner: https://bugs.webkit.org/show_bug.cgi?id=84635

[18:10:05.0000] <stevefaulkner>
falken_: thanks!

[18:10:33.0000] <falken_>
stevefaulkner: np

[21:38:53.0000] <sangwhan>
paul_irish: Yes, I saw this: https://bugs.webkit.org/show_bug.cgi?id=73885 - but there is no rationale, just hard facts. Was curious about the reasoning, apart from it's possibly the lowest hanging fruit.

[03:58:56.0000] <annevk>
Hmm, what the best list to discuss new Web Notifications features?

[03:59:27.0000] <annevk>
Or Notifications API features, really. Now public-web-notification has arisen from the death...

[04:02:36.0000] <smaug____>
hmm, I don't follow public-web-notifications

[04:02:38.0000] <smaug____>
I think

[04:35:09.0000] <annevk>
Man, CSP specifications are a mess...

[04:35:29.0000] <annevk>
If the security crowd gives you that, you gotta wonder...

[05:58:41.0000] <hsivonen>
how should v.nu pharse the whine about non-UTF-8 encodings?

[05:58:45.0000] <hsivonen>
how about "Legacy encoding \u201C" + encoding.getCanonName() + "\u201D used. To avoid data loss in form submissions and data corruption in the handling of non-ASCII characters in query strings in URL, documents should use UTF-8." ?

[05:59:01.0000] <hsivonen>
s/URL/URLs/

[05:59:54.0000] <jgraham>
That sounds over-technical to me

[06:00:39.0000] <jgraham>
Specifically "data corruption in the handling of non-ASCII characters in query strings in URL"

[06:01:14.0000] <hsivonen>
hmm. and the rationale would be untrue for UTF-16

[06:01:19.0000] <hsivonen>
and partially untrue for GB18030

[06:01:53.0000] <hsivonen>
just "Legacy encoding \u201C" + encoding.getCanonName() + "\u201D used. Documents should use UTF-8."

[06:01:56.0000] <hsivonen>
then?

[06:03:41.0000] <jgraham>
Yeah, if you start getting questions about it then add more information

[06:06:06.0000] <hsivonen>
old copyright years in license headers make me feel old and unproductive

[06:16:08.0000] <annevk>
Maybe at some point error messages should have links to more information?

[06:18:16.0000] <hsivonen>
whoa. wchen landed <template>. the first time I have a collision in the htmlparser repo a couple of minutes after hg pull -u

[06:32:49.0000] <hsivonen>
UTF-8 whine deployed: http://html5.validator.nu/?doc=http%3A%2F%2Fhsivonen.iki.fi%2Ftest%2Fmoz%2Fcharset-menu%2Fchild-6-meta-parent-bomless-utf-16-child-with-http.htm16be

[06:50:01.0000] <zcorpan>
hsivonen: nice

[06:50:47.0000] <zcorpan>
hsivonen: do you plan on removing the messages about preferredness?

[06:51:29.0000] <hsivonen>
zcorpan: yes, but I'd rather back it up with Hixie's spec text instead of willfully violating the spec on my own

[06:51:41.0000] <hsivonen>
so I'll work on other stuff first

[06:51:46.0000] <zcorpan>
ok

[06:52:10.0000] <hsivonen>
specifically, changing the parser to use Encoding Standard alias resolution

[06:53:41.0000] <annevk>
alias -> labal

[06:53:49.0000] <annevk>
label even

[07:04:39.0000] <hsivonen>
encodings supported by the Encoding Standard but not by OpenJDK6:

[07:04:52.0000] <hsivonen>
hz-gb-2312

[07:04:53.0000] <hsivonen>
iso-8859-10

[07:04:53.0000] <hsivonen>
iso-8859-14

[07:04:53.0000] <hsivonen>
iso-8859-16

[07:04:53.0000] <hsivonen>
iso-8859-8-i

[07:04:55.0000] <hsivonen>
macintosh

[07:04:57.0000] <hsivonen>
replacement

[07:05:00.0000] <hsivonen>
x-mac-cyrillic

[07:05:02.0000] <hsivonen>
x-user-defined

[07:05:25.0000] <hsivonen>
annevk: why isn't hz-gb-2312 aliased to replacement yet?

[07:05:47.0000] <annevk>
hsivonen: can we remove that encoding?

[07:06:06.0000] <hsivonen>
I hope we can but I don't know

[07:06:41.0000] <odinho>
jgraham: And we can't contribute pike tests back? :P Hehe. Okay :/  They are sometimes possible to transalte though. Although that is $work

[07:13:26.0000] <annevk>
hsivonen: if we remove it I can update the spec

[07:13:50.0000] <annevk>
hsivonen: I'd prefer not going too far ahead of what impls are doing I think

[07:15:17.0000] <hsivonen>
so I think I will need to make the htmlparser depend on https://github.com/whatwg/encoding/ for code generation

[07:15:38.0000] <hsivonen>
what's the right way to deal with a git repo dep in a hg-based project?

[07:16:20.0000] <hsivonen>
should I just put a directory called encoding in ignore and tell people who wish to rerun code generation to pull https://github.com/whatwg/encoding/ into a dir called encoding as a child dir of htmlparser?

[07:16:30.0000] <hsivonen>
or should I tell people to pull it as a sibling

[07:16:36.0000] <hsivonen>
I guess sibling is easier

[07:17:14.0000] <hsivonen>
MikeSmith: any objections to making build.py pull https://github.com/whatwg/encoding/ as a sibling of the other repos?

[07:19:20.0000] <hsivonen>
annevk: thanks for having this stuff under compatible copyright terms :-)

[07:19:58.0000] <annevk>
my pleasure

[07:21:38.0000] <hsivonen>
annevk: do all characters in the single-byte encodings decode to the Basic Multilingual Plane?

[07:22:02.0000] <annevk>
afaik

[07:22:48.0000] <hsivonen>
great

[07:32:36.0000] <MikeSmith>
hsivonen: no objections from me

[07:46:12.0000] <zewt>
are there even any legacy multibyte encodings that go outside it except for gb18030?

[07:46:22.0000] <Hixie_>
hsivonen: if there's something where i'm blocking you, send me a quick mail about it, i'm only barely paying attention to IRC these days due to busy "real world" stuff

[07:46:34.0000] <Hixie_>
(should be back able to pay full attention to stuff in june)

[07:50:10.0000] <hsivonen>
Hixie_: I sent email to the list. basically, allowing non-preferred labels for non-UTF-8 encodings would solve the problem. OK if I assume that?

[07:54:13.0000] <zewt>
(should just use encoding labels, not encoding names, right?)

[07:57:54.0000] <Hixie_>
hsivonen: i guess the logic is that now that there's a fixed set, it doesn't matter what people pick, they are always going to be treated the same?

[07:58:22.0000] <Hixie_>
hsivonen: i'm still a bit dubious about allowing ISO-8859-1 if you're not following the actual 8859-1 spec

[07:58:32.0000] <Hixie_>
hsivonen: which is the main reason the restriction was in place before

[07:58:40.0000] <Hixie_>
hsivonen: iirc

[07:59:18.0000] <zewt>
(the 8859-1 spec should be updated to just include the win-1252 characters and end one little bit of lunacy, heh)

[07:59:34.0000] <Hixie_>
well that's kind what encoding.spec.whatwg.org does

[07:59:52.0000] <hsivonen>
Hixie_: well, it's not particularly useful for authors to be told to change a label that works to another that works

[08:02:25.0000] <Hixie_>
hsivonen: won't there be software that gets it wrong? e.g. anything using iconv presumably doesn't handle 8859-1 "correctly" if you're using win1252 specials, right?

[08:02:26.0000] <zewt>
hsivonen: hmm, yeah, seems like noise that would make the encoding-related warnings that are actually useful stand out less (declare your encoding; use utf-8)

[08:04:41.0000] <hsivonen>
Hixie_: oh if you care about non-browser software that's also Encoding Standard-incompliant, then the legacy labels might indeed be a problem

[08:05:06.0000] <zewt>
maybe that's not a big issue as long as it's at a lower level of warnings (not a big angry red alert)

[08:05:32.0000] <Hixie_>
gotta go

[08:05:53.0000] <Hixie_>
if you decide it's not something we should care about, update the list thread accordingly and say in that mail that i said that i'd do whatever you did

[09:07:46.0000] <zcorpan>
MikeSmith: https://www.w3.org/Bugs/Public/ gives me an error

[09:08:00.0000] <zcorpan>
"Can't connect to the database."

[09:17:54.0000] <nielsle>
Are there any tools for doing something like latex page references with css3 regions? That is: Get the label of a div containing a given label and display it as text within the html-page. (I am not trying to solve a specific problem. I just wondered if it was possible)

[09:19:53.0000] <astearns>
nielsle: Nothing declarative has been decided on. You can of course use JavaScript to accomplish this now, until we agree how it can be done in CSS

[09:20:20.0000] <nielsle>
Thanks :)

[09:21:24.0000] <MikeSmith>
hsivonen: I've pushed the parser encoding-reporting changes to the W3C service now too

[09:22:36.0000] <MikeSmith>
zcorpan: apparently some problem with W3C servers right now

[09:22:44.0000] <MikeSmith>
ah, db

[09:22:55.0000] <MikeSmith>
they working on it

[09:25:51.0000] <hsivonen>
MikeSmith: thanks

[09:26:25.0000] <cwilso_>
Yeah, it's making the logistics of the (just started) Web Audio FTF interesting.  :)  (Can't get to logistics)

[09:26:28.0000] <hsivonen>
MikeSmith: I think I'll implement the label and single-byte stuff from the Encoding Standard soon

[09:26:39.0000] <zcorpan>
/me stumbles upon http://webdevdata.org/

[09:32:30.0000] <nimbu1>
zcorpan: woah wat dat?

[09:32:36.0000] <nimbu1>
who is behind it?

[09:34:31.0000] <miketaylr>
these guys http://www.w3.org/community/webdevdata/

[09:40:15.0000] <sangwhan_>
Interesting how there seems to be a Mozilla bug on "de-supporting" ISO-2022-KR while it's not supported

[09:44:07.0000] <divya>
miketaylr: interesting but what data is being published dont want to download datasets to find out >:|

[09:45:56.0000] <annevk>
sangwhan_: it is supported for decoding

[09:46:40.0000] <annevk>
hsivonen: non-browser software is also why we'd want to restrict to utf-8 though, although I guess a case can be made that most non-browser software knows how to deal with iso-8859-1 in some way

[09:49:28.0000] <sangwhan_>
annevk: Ah, I assume it's still in the Gecko core for Thunderbird use?

[09:49:59.0000] <annevk>
Oh it is disabled now from the browser side?

[09:50:35.0000] <annevk>
sangwhan_: no, https://bugzilla.mozilla.org/show_bug.cgi?id=827796 is not fixed

[09:51:20.0000] <sangwhan_>
It could be the Opera test case I used is flawed, but it passed fine on Chrome and IE7(!)

[09:54:10.0000] <sangwhan_>
Regardless, ISO-2022-KR should go

[09:57:37.0000] <SteveF>
zcorpan: webdevdata is stuff i have collected, the one from dec is expanded (35000) home pages from top 50000

[10:07:08.0000] <SteveF>
<main> element now supported in Chrome stable version 26

[10:14:35.0000] <GPHemsley>
TIL Hixie_ speaks French.

[10:15:40.0000] <Ms2ger>
Like a ten-year-old, apparently

[10:22:09.0000] <GPHemsley>
Hmm... I'm thinking the term "MIME type with parameters" will prove to be problematic with other definitions used in mimesniff

[10:23:54.0000] <GPHemsley>
e.g. I'll have to use "valid MIME type with parameters" everywhere I currently use "valid MIME type"

[10:24:08.0000] <GPHemsley>
which seems unnecessarily unwieldy

[10:25:22.0000] <GPHemsley>
on the other hand, though, I never seem to do anything with parameters

[10:25:55.0000] <GPHemsley>
oh, except in the unfinished "parse a MIME type" algorithm

[10:26:07.0000] <GPHemsley>
hmm

[10:27:15.0000] <GPHemsley>
ah, the parameters are also important for the "supplied MIME type" as it relates to the "MIME type sniffing algorithm"

[10:28:00.0000] <GPHemsley>
but perhaps I will change "MIME type portion" (formerly "media type portion") to "MIME type without parameters"

[10:46:55.0000] <zewt>
i've never viewed parameters as part of a mime type in the first place; mime type as just "text/plain" and parameters metadata associated with it

[11:29:27.0000] <gsnedders>
So how long, how FF includes OdinMonkey, before someone deliberately starts serving code that takes an impractical amount of time to compile, given they're still doing on-thread compilation?

[11:31:50.0000] <SimonSapin>
gsnedders: is there a bug open on this?

[11:33:48.0000] <Ms2ger>
<dvander> (1) it's parallel and (2) that would be a problem in most browsers, for normal js, prior to fx 20

[11:34:41.0000] <gsnedders>
Ms2ger: Ah, last I'd seen making it parallel was still to-do. And the only thing is it's far easier to do with AOT complication.

[11:34:58.0000] <gsnedders>
Yes, you *can* still hit it in other borwsers doing JIT compilation.

[15:19:46.0000] <rillian>
what should document.createElement('track').track return?

[16:45:42.0000] <MikeSmith>
rillian: a TextTrack object with default values for any properties that have defaults

[16:46:49.0000] <MikeSmith>
or undefined?


2013-03-27
[17:09:54.0000] <smaug____>
is whatwg.org down?

[17:11:25.0000] <smaug____>
ah, works now

[17:39:15.0000] <Jasper>
Down again?

[17:46:01.0000] <zewt>
... who would think that browsers can't generate a securely random token? heh

[17:47:15.0000] <jamesr>
4

[17:47:26.0000] <zewt>
4 people?

[17:47:40.0000] <jamesr>
no 4 - chosen by a fair dice roll

[17:47:43.0000] <jamesr>
more seriously, what about https://developer.mozilla.org/en-US/docs/DOM/window.crypto.getRandomValues ?

[17:48:05.0000] <jamesr>
chrome 11+, firefox 21+

[17:48:09.0000] <jamesr>
safari ????

[17:48:44.0000] <zewt>
i mean, sicking guessed that there was a concern that browsers couldn't generate securely-random blob urls, i'm just wondering who would actually think that, heh

[17:49:03.0000] <jamesr>
oh heh. well they ship an API that's supposed to generate securely-random values to JS, so they'd better have a way to do it

[17:49:05.0000] <zewt>
on a technical level if you don't have a secure prng, you probably can't even do tls

[17:49:17.0000] <jamesr>
maybe you could point him at that API

[18:22:14.0000] <Hixie_>
Jasper: yeah, see dreamhoststatus.com for updates

[18:22:31.0000] <Jasper>
Aha, thanks.

[18:22:54.0000] <zewt>
http://www.downforeveryoneorjustme.com/whatwg.org

[04:22:00.0000] <annevk>
beverloo: too pedantic for Twitter: they could have named it in a camelcase way ;-)

[04:22:53.0000] <beverloo>
perhaps, there's an inconsistent mix between lowercase and camelcase right now

[04:23:07.0000] <darobin>
that would make a great tagline

[04:23:17.0000] <darobin>
"AnneVK ‚Äî Too Pedantic For Twitter"

[04:50:00.0000] <jgraham>
I thought that was Ms2ger

[06:40:32.0000] <zcorpan>
anyone with IE9+ around?

[06:41:54.0000] <jgraham>
Yeah, kind of, if I switch computers

[06:43:32.0000] <zcorpan>
i'm wondering what this logs: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2184

[06:44:32.0000] <jgraham>
600px

[06:47:08.0000] <zcorpan>
jgraham: thanks

[06:47:45.0000] <zcorpan>
so opera implements the spec, everyone else doesn't

[06:50:40.0000] <jgraham>
unpossible

[06:51:54.0000] <zcorpan>
inorite

[06:58:52.0000] <zcorpan>
/me installs jumpcut

[07:06:51.0000] <darobin>
does anyone recall something about it being bad for a random third party to mint their own values for @role?

[07:07:06.0000] <darobin>
ISTR a discussion in which it was frowned upon, but I can't seem to find it again

[07:10:51.0000] <jgraham>
Doesn't that have the same problem as minting random proprietary things in general?

[07:11:38.0000] <darobin>
slightlyoff: I take it you're aware of http://webdevdata.org/ and http://www.w3.org/community/webdevdata/?

[07:12:03.0000] <darobin>
jgraham: well, a) extension points are always evil, and b) there are varying degrees of proprietariness

[07:12:22.0000] <darobin>
in this case, the epub people are looking at transitioning from XHTML to proper HTML

[07:12:46.0000] <darobin>
they have idpf:type attributes the values of which would be a good fit for role

[07:12:55.0000] <darobin>
and dropping the namespacing would help

[07:13:07.0000] <slightlyoff>
darobin: nope. It looks to just be scraped via a crawler?

[07:13:26.0000] <darobin>
but at the same time, I don't think that importing all of the IDPF roles into mainline HTML is necessarily great either

[07:13:52.0000] <darobin>
slightlyoff: the data is from a crawler yes, but the CG is the author and I reckon you'd find like-minded souls in there to help port your extension and such

[07:13:52.0000] <wilhelm_>
zcorpan: browserstack.com is your friend.

[07:14:02.0000] <slightlyoff>
darobin: true story

[07:14:12.0000] <slightlyoff>
darobin: was entirely unaware of the effort

[07:14:16.0000] <slightlyoff>
darobin: thanks for the pointer!

[07:14:21.0000] <darobin>
slightlyoff: you're most welcome :)

[07:14:31.0000] <zcorpan>
wilhelm_: thanks

[07:14:49.0000] <slightlyoff>
...and now I get to wait on my AC rep to approve it = )

[07:15:20.0000] <darobin>
yeah, I love how CGs are trivial for anyone *unless* you're a member :)

[07:19:21.0000] <slightlyoff>
also, this looks to be an incredibly shallow crawl

[07:19:31.0000] <slightlyoff>
taht's not bad...but yeah

[07:20:13.0000] <darobin>
slightlyoff: I haven't been tracking the effort but I suspect they did a first page crawl based on Alexa, similar to the Paciello dataset

[07:20:16.0000] <darobin>
so yes, shallow

[07:20:31.0000] <darobin>
marcosc would know, but he's on some remote Greek island this week

[07:21:00.0000] <slightlyoff>
darobin: is there a graph analysis framework on top of this?

[07:21:16.0000] <slightlyoff>
darobin: or is it just an occasional crawl for now?

[07:22:06.0000] <darobin>
slightlyoff: I have no idea, but it's a fairly recent endeavour so I would assume it has goodwill but not necessarily much yet

[07:22:26.0000] <slightlyoff>
who is doing the engineering?

[07:23:27.0000] <darobin>
it looks like it's all marcos, but you'd have to ask him really

[08:49:36.0000] <zcorpan>
jgraham: format_value (in testharness) doesn't play nice with arrays that have circular properties

[08:50:18.0000] <jgraham>
I wonder if that's my fault or not

[08:50:25.0000] <jgraham>
Should be easy enoguh to fix I think

[08:51:00.0000] <zcorpan>
Maximum recursion depth exceeded(stack: format_value([arguments not available])@https://w3c-test.org/resources/testharness.js:500 format_value([arguments not available])@https://w3c-test.org/resources/testharness.js:500 format_value([arguments not available])@https://w3c-test.org/resources/testharness.js:500 format_value([arguments not available])@https://w3c-test.org/resources/testharness.js:500 format_value([arguments no

[08:51:01.0000] <zcorpan>
t available])@https://w3c-test.org/resources/testharness.js:500 format_value([arguments not available])@https://w3c-test.org/resources/testharness.js:500 format_value([arguments not available])@https://w3c-test.org/resources/testharness.js:500 format_value([arguments not available])@https://w3c-test.org/resources/testharness.js:500 format_value([arguments not available])@https://w3c-test.org/resources/testharness.js:500 fo

[08:51:01.0000] <zcorpan>
rmat_value([arguments not available])@https://w3c-test.org/resources/testharness.js:500)

[08:51:18.0000] <zcorpan>
is the message when an assertion fails

[08:51:51.0000] <zcorpan>
for objects this problem doesn't surface, it just says "[object Object]"

[08:52:32.0000] <zcorpan>
unless there's a custom toString that iterates over the properties, i guess

[08:52:59.0000] <jgraham>
Yeah, it needs to record things that it has already seen and avoid recursing into those

[08:53:23.0000] <jgraham>
I can fix this evening

[08:53:30.0000] <zcorpan>
ok, thanks

[09:04:05.0000] <zcorpan>
apparently ie10 implements this requirement of structured clone but opera/webkit/gecko don't: "Let output be a newly constructed empty Array object whose length is equal to the length of input."

[09:04:15.0000] <zcorpan>
test: http://software.hixie.ch/utilities/js/live-dom-viewer/saved/2185

[09:10:02.0000] <darobin>
zcorpan: is there a test for that in the TS?

[09:10:13.0000] <darobin>
it's a requirement that seems to make sense to me

[09:10:43.0000] <zcorpan>
darobin: there will be when i submit the test i'm working on

[09:11:10.0000] <zcorpan>
which is "test everything you can think of in structured clone and transferable", which turns out to be quite a bit

[09:11:21.0000] <zcorpan>
i haven't even started with transferable

[09:12:09.0000] <darobin>
zcorpan: awesome

[09:13:48.0000] <zcorpan>
where "everything you can think of" is really more like "the least amount of tests to have a reasonable coverage of the spec", but still it's quite a bit

[09:51:02.0000] <gavinc>
URL spec question, http://a.example/%66oo-bar is not strictly equivalent to http://a.example/foo-bar but http://a.example/%E8oo-bar is equivalent to http://a.example/√®oo-bar?

[09:53:13.0000] <SteveF>
slightlyoff: for background on how the webdevdata.org stuff was gathered http://blog.paciellogroup.com/2012/04/html5-accessibility-chops-data-for-the-masses/

[09:53:18.0000] <gavinc>
from, "Code points higher than U+009F will be converted to percent-encoded bytes by the URL parser."

[09:53:57.0000] <SteveF>
slightlyoff: i.e. extremly lo-fi but thats my style and the limit  technically

[09:54:46.0000] <slightlyoff>
SteveF: I'm trying to join the CGs now (which i wasn't aware of)

[09:54:53.0000] <slightlyoff>
SteveF: apologies for duplication

[09:55:33.0000] <SteveF>
no duping I nearly creamed myself when I saw your stuff, its great!!!!

[09:55:57.0000] <SteveF>
will happily promote and help where I can

[10:13:43.0000] <jwalden>
gsnedders: making asm.js compilation parallel is coming along pretty quickly, I'd be slightly surprised if it doesn't land before the next aurora/beta/release uplift

[10:37:07.0000] <MikeSmith>
"Is Sam Ruby happy? If not, make him happy." https://github.com/rails/rails/blob/master/RELEASING_RAILS.rdoc#is-sam-ruby-happy--if-not-make-him-happy

[11:26:05.0000] <rillian>
MikeSmith: that was my question, yeah. :)

[11:26:35.0000] <rillian>
the spec says it "must, on getting, return the track element's text track's corresponding TextTrack object."

[11:26:48.0000] <rillian>
so if there's no corresponding object...

[11:26:59.0000] <rillian>
fwiw Chrome returns a default empty TextTrack

[11:31:01.0000] <Ms2ger`>
rillian, clearly there always is one

[11:31:45.0000] <rillian>
is that clear?

[11:32:47.0000] <Ms2ger`>
Well, otherwise the spec would handle that case

[11:38:32.0000] <rillian>
I don't get the sense that the spec thought about that code path

[11:55:22.0000] <smaug____>
Ms2ger`: :)

[12:27:25.0000] <jgraham>
Someone want to review http://critic.hoppipolla.co.uk/r/20 ?

[12:27:28.0000] <jgraham>
Ms2ger`: ^

[12:28:51.0000] <Ms2ger`>
I'll look in a bit

[12:30:38.0000] <jgraham>
Sure, no rush

[13:46:23.0000] <Krinkle>
paul_irish: The repaint improvements in MediaWiki went live yesterday on English Wikipedia (MediaWiki 1.21wmf12)

[13:47:51.0000] <paul_irish>
Krinkle: Thanks! that's great to hear.

[13:51:54.0000] <Krinkle>
paul_irish: Though we've both done some testing, would be nice to get some feedback from you (or people you work with) on how it works out in a real world scenario (like the scenario that brought us here)

[13:53:10.0000] <paul_irish>
Sure thing. I'll take a look later today

[15:30:43.0000] <Hixie_>
anyone here have a default-setup windows or mac install for either israel or egypt they can run some tests for me on?

[16:38:34.0000] <Hixie_>
hsivonen: ping https://www.w3.org/Bugs/Public/show_bug.cgi?id=17845

[16:48:43.0000] <zewt>
dear youtube: stop treating right-clicks as clicks. thanks -me


2013-03-28
[01:54:08.0000] <annevk>
morning

[01:58:09.0000] <jgraham>
annevk: becoming a little more like dglazkov every day

[01:59:54.0000] <annevk>
yes

[02:08:09.0000] <jgraham>
Can we expect you to go through the religious stage ("God morning") and the English stage ("Good morning, what?") on your journey?

[02:11:22.0000] <annevk>
I'm not sure, I'd have to ask dglazkov

[02:35:42.0000] <jgraham>
zcorpan: I fixed testharness.js btw

[02:35:50.0000] <zcorpan>
jgraham: thanks

[02:35:59.0000] <jgraham>
Or, I think I did. Let me know if you still have problems

[03:01:27.0000] <annevk>
thanks zcorpan for testing that

[03:01:43.0000] <zcorpan>
np

[03:01:52.0000] <annevk>
Am I the only one not okay with Hallvord leaving large parts of copy and paste undefined?

[03:02:22.0000] <annevk>
I don't really want to do the explaining again :-(

[03:03:27.0000] <annevk>
I thought leaving large swaths of details undefined was Clearly Bad...

[03:03:45.0000] <jgraham>
Which parts is he leaving undefined?

[03:03:57.0000] <jgraham>
/me hasn't followed this spec at all

[03:04:31.0000] <annevk>
Whoa, so it's 2013 and tantek's name still gets messed up on http://lists.w3.org/Archives/Public/public-webapps/2013JanMar/

[03:05:10.0000] <annevk>
jgraham: "implementations may sanitize pasting" (which is pretty much required)

[03:05:21.0000] <annevk>
(paraphrasing)

[03:06:13.0000] <jgraham>
Hmm

[03:06:38.0000] <jgraham>
So it should clearly have requirements there about things that must be stripped

[03:07:45.0000] <jgraham>
I guess there could be an interop problem if a site assumes that there will never be certain kinds of input based on testing one browser

[03:07:54.0000] <jgraham>
So yeah, I agree, that should be defined

[03:15:54.0000] <annevk>
Can you maybe tell him on the list?

[03:16:25.0000] <jgraham>
Done

[03:16:47.0000] <annevk>
ta

[03:40:39.0000] <jonathanj>
hello, i'm looking for some clarity on the behaviour for HTTP redirects that specify a relative URL

[03:43:42.0000] <annevk>
jonathanj: allowed per HTTP/1.1-bis, has pretty much always worked in practice

[03:54:08.0000] <jonathanj>
annevk: thank you, i guess i was reading the old internet

[06:21:31.0000] <zcorpan>
tobie: odinho: has this happened? http://lists.w3.org/Archives/Public/public-webapps/2013JanMar/0858.html

[06:22:10.0000] <tobie>
zcorpan: not yet.

[06:22:39.0000] <zcorpan>
tobie: so if i want to submit some tests right now, i should use dvcs?

[06:23:05.0000] <tobie>
yup/

[06:23:17.0000] <tobie>
s/\//./

[06:23:21.0000] <zcorpan>
ok

[06:23:30.0000] <jgraham>
That *does* seem like makework

[06:23:59.0000] <tobie>
jgraham: what does?

[06:24:15.0000] <jgraham>
Submitting to dvcs now and then moving to github later

[06:24:56.0000] <tobie>
I guess it depends what you mean by makework

[06:26:20.0000] <tobie>
moving stuff to github won't take more or less time depending on how many tests are in the submission folder.

[06:27:26.0000] <zcorpan>
pushing to dvcs won't give a critic review

[06:29:32.0000] <zcorpan>
tobie: ETA on moving to github?

[06:30:06.0000] <tobie>
zcorpan: what's the WebApps process for CfC?

[06:30:46.0000] <zcorpan>
tobie: i think no objections past the deadline (22 march) means the CfC passes

[06:30:53.0000] <tobie>
ok. cool. Well

[06:31:08.0000] <zcorpan>
tobie: but maybe you should ask AB

[06:31:20.0000] <tobie>
Yeah. We should do this asap/

[06:31:49.0000] <tobie>
Not sure whether Robin has import script we can use.

[06:32:19.0000] <tobie>
Also curious as to whether we can preserve versioning history somehow.

[06:32:47.0000] <jgraham>
He does and we can. I don't know if his script does or not though

[06:33:24.0000] <tobie>
That's pretty cool. I didn't know we could do that when merging into an existing repo.

[06:35:14.0000] <jgraham>
13:36 < ArtB> I don't see any objections so yes

[06:35:21.0000] <jgraham>
[the CfC has passed]

[06:39:32.0000] <zcorpan>
/me *poof*

[06:40:34.0000] <jgraham>
tobie: One approach would be to use subtree-merge for example: http://git-scm.com/book/ch6-7.html

[06:44:30.0000] <tobie>
I'm swamped atm, so if anyone wants to move that forward, please be my guest.

[06:47:54.0000] <jgraham>
I thin it makes sense to sync with darobin. Which I think means "after Easter"

[07:11:36.0000] <zewt>
for great joy: gmail seems to have stopped randomly scrolling the page around whenever i focus the compose box

[07:30:44.0000] <annevk>
the Future is now

[07:30:47.0000] <annevk>
well almost

[07:55:32.0000] <hsivonen>
where's the implementation report for http://www.w3.org/TR/2013/REC-role-attribute-20130328/ ?

[08:35:54.0000] <dglazkov>
good morning, Whatwg!

[09:37:56.0000] <matjas>
annevk: is it too late for this? https://www.w3.org/Bugs/Public/show_bug.cgi?id=21424

[09:38:25.0000] <annevk>
matjas: nah, it's a first draft

[09:38:47.0000] <annevk>
matjas: though I think the TC39 crowd prefers using these keywords now

[09:38:49.0000] <matjas>
pretty exciting for a first draft :)

[09:38:59.0000] <annevk>
I tried to get it right :)

[09:38:59.0000] <matjas>
wat

[09:39:19.0000] <annevk>
matjas: e.g. delete is favored over remove

[09:40:12.0000] <matjas>
i don‚Äôt understand. why break back-compat if it can so easily be avoided?

[09:42:38.0000] <annevk>
arv might know

[09:45:38.0000] <arv>
Yeah, keywords as property names is fine

[09:45:48.0000] <arv>
and used in ES6 standard library

[09:46:12.0000] <arv>
matjas: back compat? All browsers support ES5

[09:47:16.0000] <Ms2ger>
We have always been at war with Eurasia

[09:52:46.0000] <matjas>
arv: older browsers don‚Äôt, and by naming a property `catch` you force people to wrap their code using Futures in `try/catch` if they don‚Äôt want it to break horribly in those older environments

[09:53:05.0000] <matjas>
arv: ‚Ä¶as `foo.catch` is a SyntaxError as per ES3

[09:53:23.0000] <arv>
matjas: Use foo['catch'] if you care

[09:53:49.0000] <matjas>
‚Ä¶not looking forward to that

[09:55:05.0000] <arv>
matjas: Design for the future, not for the past

[09:56:46.0000] <matjas>
arv: sure, but i‚Äôm not talking about changing the [API] design, just renaming a property

[09:57:42.0000] <matjas>
oh well :)

[09:59:01.0000] <jsbell>
This is only a problem if there's some yet-to-be-designed web API which is implementable as a polyfill itself in browsers that only support ES3 and that API uses Futures. Plausible but there is the workaround.

[09:59:49.0000] <jsbell>
Same debate happened with IndexedDB re: IDBCursor.continue().

[10:01:10.0000] <jsbell>
Dangit, and I'd just gotten comfortable saying "... or some hypothetical standard futures/promises/deferreds API"

[10:01:40.0000] <matjas>
haha

[10:02:04.0000] <jgraham>
Presumably one can use Futures directly?

[10:03:08.0000] <jgraham>
That is presumably one can do something like make a library that implements Future XHR using DOM Futures?

[10:04:06.0000] <jgraham>
And then the DOM Futures part of that could be "polyfilled" in javascript

[10:04:22.0000] <jgraham>
So it doesn't depend on a hypothetical future DOM API

[10:04:34.0000] <jgraham>
s/it/the problem described/

[10:06:14.0000] <matjas>
indeed it doesn‚Äôt. my point was that any JS file that contains `foo.catch` outside of a try/catch will throw a SyntaxError in ES3 environments

[10:06:45.0000] <matjas>
even if the code path itself won‚Äôt ever be reached in that browser, e.g. `if (false) { foo.catch; }`

[10:07:10.0000] <jsbell>
I think my point is: if that "Future XHR" is just something you've invented for your own use but not a standard API you're polyfilling, and yet you expect to use it on ES3 browsers, you're inventing your own problem. Indeed it would be nice to have your cake and eat it, but see arv's last point.

[10:08:20.0000] <matjas>
jsbell: this is not about _using_ Futures in ES3 environments

[10:09:23.0000] <matjas>
jsbell: it‚Äôs about being able to have a <script> that contains e.g. `if (featureDetect) { useFutures(); }` without it throwing an error in ES3 (graceful degradation)

[10:09:55.0000] <matjas>
jsbell: yes, it‚Äôs possible, but it requires using `foo['catch']` instead of `foo.catch` every time, or wrapping everything in a try/catch

[10:10:25.0000] <jsbell>
understood and no disagreement

[11:11:32.0000] <annevk>
matjas: I think in part that ship has sailed with continue, URLQuery.delete, and now catch

[11:11:53.0000] <annevk>
matjas: is this IE6 still?

[11:23:49.0000] <jamesr>
annevk, dfn.js calls a getCookie function which isn't defined in my browser

[11:24:16.0000] <annevk>
Hixie_: ^^

[11:25:25.0000] <annevk>
jamesr: cannot fix that unfortunately

[11:25:49.0000] <jamesr>
also is the <!-- help --> asking for help with the intro to dom futures?

[11:25:54.0000] <annevk>
jamesr: will file a bug on HTML so Hixie_ gets to it at some point after adding thenable to Futures

[11:26:22.0000] <annevk>
jamesr: kinda, there's a ton out there, but if someone could write up a nice intro that'd be sweet, otherwise I'll get to it eventually

[11:44:19.0000] <jwalden>
someone should tell matjas that |try { obj.delete; } catch (e) { }| is a syntax error at parse time, not runtime, in es3

[11:44:35.0000] <jwalden>
you can't try-catch away syntax errors

[11:52:06.0000] <annevk>
Futures in DOM now support thenable

[11:52:24.0000] <annevk>
basically by hooking directly into JavaScript internals

[11:52:52.0000] <annevk>
http://dom.spec.whatwg.org/#concept-resolver-resolve fun starts at step 3

[12:34:46.0000] <zewt>
totally don't "get" futures; as far as I knew it was just a crazy bad idea on a blog somewhere, then suddenly it appeared in the spec

[13:10:36.0000] <Hixie_>
dfn.js users have to provide a getCookie() API

[13:11:10.0000] <Hixie_>
/me comments out the call for now

[13:27:33.0000] <TabAtkins>
zewt: Futures/Deferreds/Promises are a great abstraction that captures a lot of concepts better than Events do, and which is used *all over* a lot of modern APIs.  We're just finally settling on a design.

[13:36:11.0000] <zewt>
i haven't even seen an example of a problem with events, much less one that having a second, inconsistent interface solves--and it introduces all kinds of problems (two completely separate interfaces, which will make the platform badly inconsistent and fragmented)

[13:37:35.0000] <zewt>
it would need to solve some significant problems to be worth that

[13:40:19.0000] <jamesr>
events are pretty terrible

[13:40:38.0000] <zewt>
not at all

[13:40:48.0000] <zewt>
(afk, work)

[13:44:33.0000] <TabAtkins>
zewt: Then you're not looking.  Some examples:

[13:45:15.0000] <TabAtkins>
zewt: Events fire once, and if you miss them, you're SOL.  This means that some cases have to be architected very carefully to avoid race issues.  Futures work identically whether they're pending or completed, so there's no need to worry about that.

[13:47:41.0000] <TabAtkins>
zewt: The design of events means that, if you have an operation that you need to wait on the result of, you need to return a value whose sole purpose is to be an event target.  Futures make this less awkward, as the returned value is, in a more immediate sense, the value.

[13:48:37.0000] <TabAtkins>
zewt: Events don't have a useful algebra to build up from.  You can't easily combine events together, or only do something when all of a list of events are finished, etc.  Futures let you do this really easily.

[13:48:53.0000] <TabAtkins>
(And can be handled by a standard library, eventually.)

[13:50:30.0000] <TabAtkins>
zewt: It's much easier and more readable to chain Futures (do async thing A, when it's done do async thing B, when it's done do async thing C) than to do the same with events.

[13:52:14.0000] <TabAtkins>
Those are the big things, I think.  Several things are equal or easier to read/write in Futures than in Events, Futures can be composed in powerful and simple ways, and Futures readily handle the reasonably common case where a value may be either pending *or* completed.

[14:24:41.0000] <odinho>
14:37 < jgraham> 13:36 < ArtB> I don't see any objections so yes 14:37 < jgraham> [the CfC has passed]   *dance *dance :D/-<

[14:32:39.0000] <odinho>
Hm... I don't see my +1 email for that, maybe I forgot sending it :P Ohwell.

[14:54:16.0000] <annevk>
Hixie_: could you make getCookie() optional via an existence check?

[14:54:35.0000] <annevk>
Hixie_: it's not needed for the core functionality as none of my specs provide that

[14:54:44.0000] <annevk>
Hixie_: and they work but get a console error

[14:55:53.0000] <annevk>
TabAtkins: yeah, need to add Future.when() at least

[14:56:01.0000] <annevk>
or .all()

[14:56:09.0000] <annevk>
whatever the most popular name is

[14:57:20.0000] <Hixie_>
annevk: i commented it out

[14:57:34.0000] <annevk>
that works :)

[14:58:02.0000] <TabAtkins>
Yes, .all() and .first() or whatever.

[14:59:23.0000] <Hixie_>
/me is getting tired of making changes to the spec that do nothing but move prose into webidl

[15:05:13.0000] <annevk>
Hixie_: Gecko is implementing Web IDL / winter is coming

[15:18:59.0000] <jgraham>
Winter is coming? We haven't even had spring yet!

[15:21:00.0000] <jgraham>
/me can only do meterological complaints, not pop culture references

[15:21:12.0000] <odinho>
Was a touch of spring on the west coast of Ireland, -- but back here in Oslo it's still bad.

[15:23:36.0000] <jgraham>
Well today it was "OK". But which is mean +4C maximum. And now it is -5C. And my garden is still under 30cm of snow.

[15:45:36.0000] <annevk>
jgraham: you forgot that Web IDL originates from Australia

[15:53:44.0000] <zewt>
TabAtkins: events firing once is a non-issue; that's a well-understood, solved issue in the whole platform

[15:54:33.0000] <zewt>
i see no difference between returning an event target and returning some other object that's called something else

[15:54:51.0000] <TabAtkins>
zewt: It's hardly well-understood or solved.  We have several bad instances of it in HTML (often due to legacy), and we create new ones as we go along, like Font Load Events.

[15:54:59.0000] <zewt>
you can easily handle things like "wait for all events" with DOM Events without making up something completely different

[15:55:29.0000] <jamesr>
events are pretty bad. requestAnimationFrame just avoids the completely, for instance (the original moz proposal used them and it sucked)

[15:55:30.0000] <zewt>
don't understand chaining (need code examples)

[15:55:32.0000] <TabAtkins>
No, you can't, at least not without manually coordinating across event callbacks by decrementing a global variable or something.

[15:56:53.0000] <zewt>
building a "do something when certain events are all received" is hardly a problem that needs a whole new incompatible inconsistent API for (and that's my main issue--ugly API fragmentation with interfaces that are utterly different in design and style)

[15:57:33.0000] <zewt>
also, confusion about something that seemed like a random blog suggestion suddenly appearing in the spec--i didn't see any discussion on this on any of the relevant lists that I know of, it just sort of materialized

[15:57:40.0000] <jwalden>
ugly API fragmentation?  you must be new here :-)

[15:57:49.0000] <zewt>
not really :)

[15:57:53.0000] <jamesr>
https://github.com/slightlyoff/DOMFuture/blob/master/README.md has code examples using XHR

[15:58:04.0000] <zewt>
i've seen enough ugly API fragmentation in web APIs to be wary of introducing more of it, especially at such a core level

[15:59:44.0000] <zewt>
wow there's some bad logic in this page

[16:00:10.0000] <zewt>
"Making matters worse, the callback and event names don't even match! Clearly DOM needs a better way to do things." things are inconsistent, therefore we need a totally different api!

[16:09:03.0000] <zewt>
don't see any practical examples of chaining on that page


2013-03-29
[04:43:57.0000] <smaug____>
Hmm, does some spec define DataChannel

[04:45:28.0000] <Ms2ger>
Sounds like WebRTC?

[04:46:01.0000] <smaug____>
yeah, something like that

[04:46:12.0000] <smaug____>
but that could in fact be gecko thingie

[04:46:25.0000] <smaug____>
it is hard to follow what is happening in webrtc world

[04:46:33.0000] <smaug____>
I'm not sure the spec has been reviewed too well

[04:48:44.0000] <annevk>
http://dev.w3.org/2011/webrtc/editor/webrtc.html

[04:48:47.0000] <annevk>
/me looks

[04:48:58.0000] <Ms2ger>
Ah, annevk is going to review? Excellent :)

[04:49:11.0000] <annevk>
haha doubt it, looks big

[04:49:48.0000] <annevk>
looks like a severe case of ReSpec

[04:52:20.0000] <smaug____>
problem is also that implementations seem to be ahead of the spec

[04:55:21.0000] <annevk>
http://dev.w3.org/2011/webrtc/editor/webrtc.html#idl-def-RTCPeerConnection o_O

[04:55:54.0000] <annevk>
smaug____: yeah I saw some web sites using it already

[04:58:14.0000] <annevk>
ReSpec really makes this spec unreadable

[08:48:11.0000] <GPHemsley>
/me wonders, in a way not intended to be rude, where TabAtkins learned his English.

[08:49:04.0000] <GPHemsley>
/me also still thinks that the CSS Counter Styles "width" property should not include the negative sign.

[08:49:38.0000] <GPHemsley>
s/property/descriptor/

[09:39:26.0000] <TabAtkins>
GPHemsley: From America?

[09:39:54.0000] <TabAtkins>
I've got a few pet peeves that make me write things in a particular way (fucking latin-based irregular plurals), but otherwise speak normal English as far as I know.

[09:41:00.0000] <miketaylr>
not just America, but America America (Texas)

[09:41:10.0000] <TabAtkins>
Real America, natch.

[09:41:41.0000] <TabAtkins>
Texas: The America of America http://smbc.myshopify.com/products/texas-shirt

[09:42:07.0000] <GPHemsley>
I can't say things like "We‚Äôd appreciate people to review this draft carefully"

[09:42:29.0000] <TabAtkins>
Hm, yeah, that's actually slightly awkward.

[09:42:46.0000] <GPHemsley>
though this is just the latest of many recent examples of people using infinitive in strange ways

[09:43:02.0000] <TabAtkins>
Which probably means a grammatical shift in english.

[09:43:03.0000] <GPHemsley>
Though I think they're often native French speakers

[09:43:19.0000] <GPHemsley>
I wish I had more examples to furnish

[09:45:23.0000] <astearns>
TabAtkins: are there any CSS names, keywords, etc. that use the plurals that you detest?

[09:45:40.0000] <TabAtkins>
Not keywords or property names or anything.

[09:45:52.0000] <TabAtkins>
I really just hate axes as a plural of axis.

[09:46:07.0000] <GPHemsley>
Would you prefer axises?

[09:46:24.0000] <TabAtkins>
Yes, and I used that in my specs until fantasai did a search-and-replace on me.

[09:46:38.0000] <GPHemsley>
I mean, I prefer appendixes over appendices, for example

[09:46:43.0000] <GPHemsley>
but axises seems a little odd to me

[09:47:16.0000] <astearns>
I just have a hard time pronouncing 'axises' - once I start, I keep putting additional sibilants on the end

[09:47:59.0000] <TabAtkins>
I get that, and it's probably part of why the irregular plural became popular (also, 1900s grammarians had a massive language-boner for Latin).

[09:48:16.0000] <GPHemsley>
:)

[09:48:17.0000] <TabAtkins>
But the double-sibilant pattern appears all over English, and we deal.

[09:48:36.0000] <TabAtkins>
For example, denoting ownership of anything ending in an s.

[09:48:49.0000] <GPHemsley>
axis's

[09:49:04.0000] <TabAtkins>
The Johnsons' house (the house belonging to Mr. and Mrs. Johnsons).

[09:49:14.0000] <TabAtkins>
We spell it without the s, but still pronounce the implied s there.

[09:49:23.0000] <GPHemsley>
Who has a last name of Johnsons? >_>

[09:49:24.0000] <astearns>
misses's

[09:49:29.0000] <TabAtkins>
GPHemsley: They exist!

[09:49:40.0000] <GPHemsley>
OK, Mr. Atkin

[09:50:51.0000] <GPHemsley>
But I'm totally down with data as singular

[09:51:35.0000] <TabAtkins>
Yeah, sure, that's become a mass noun (and, though I'm not certain, I think it may even have started as data, and then back-formated into datum for a single piece?)

[09:51:36.0000] <GPHemsley>
Unless you're actually talking about handful of data points (which you rarely are), I can't take you seriously if you use data as plural at this point

[09:51:48.0000] <GPHemsley>
I don't recall

[09:52:37.0000] <GPHemsley>
Here's a question: None/Neither ‚Äì singular or plural?

[09:52:59.0000] <GPHemsley>
I guess we're only talking agreement at this point

[09:53:05.0000] <TabAtkins>
I think I make it plural?

[09:53:14.0000] <miketaylr>
both wfm

[09:53:17.0000] <TabAtkins>
"Neither have done something"

[09:53:23.0000] <miketaylr>
"neither is correct" & "neither are correct"

[09:53:24.0000] <GPHemsley>
yeah, I agree

[09:53:25.0000] <TabAtkins>
But I'd accept, and probably say at times, "has" there.

[09:53:38.0000] <miketaylr>
"none is correct" feels weird though

[09:53:59.0000] <GPHemsley>
I think that particular example (with "something") is an odd construct

[09:58:37.0000] <Hixie_>
holy crap, the WebRTC API is a disaster now

[09:59:20.0000] <Hixie_>
it's gone from an API where you could make a video conferencing system in a dozen lines of HTML and an off-the-shelf server, to something where even I have no idea what's going on.

[10:01:11.0000] <TabAtkins>
That's what happens when an API group goes off to its own WG and nobody follows them.

[10:41:20.0000] <Hixie_>
TabAtkins_: i don't understand your e-mail. what wouldn't work?

[10:41:51.0000] <Hixie_>
TabAtkins_: you set the styles for a vertical control and for a horizontal control using separate pseudos, and then you set it to horizontal or vertical by setting the dimensions accordingly.

[10:41:53.0000] <TabAtkins>
Give me an example of some theoretical syntax for how to select, in CSS, whether an element is mostly tall or mostly squat, and style it accordingly.

[10:42:08.0000] <TabAtkins>
And how are those pseudos assigned?  Magically?

[10:42:21.0000] <Hixie_>
"assigned"?

[10:42:40.0000] <TabAtkins>
That means they're irrevocably magic, and can't be done with Web Components. :/

[10:42:46.0000] <Hixie_>
the element has the vertical pseudos if it's vertical and the horizontal ones if it's horizontal

[10:43:01.0000] <Hixie_>
well once you have web components, there's no problem at all. you just bind the appropriate component for what you want.

[10:43:15.0000] <TabAtkins>
How?

[10:44:08.0000] <Hixie_>
however you bind components

[10:44:25.0000] <TabAtkins>
I mean, how do you preferentially bind the vertical version when it's tall?

[10:44:35.0000] <TabAtkins>
Or are you saying that you just choose which one you want?

[10:44:46.0000] <Hixie_>
the author just choses the one the author wants

[10:45:32.0000] <TabAtkins>
All right, cool.  The attribute-based approach is doing the same thing, just communicating in the more natural HTML way.

[10:45:49.0000] <Hixie_>
the attribute-based approach is <font> all over again. let's not go there.

[10:46:24.0000] <TabAtkins>
Until we get decorators, it's the only non-magic way.  And it transitions cleanly into the decorator-based way.

[10:46:53.0000] <Hixie_>
i have neither a problem with magic, nor a problem with not solving it for now :-)

[10:47:03.0000] <TabAtkins>
I have problems with both.  Thus, the disconnect.

[10:47:04.0000] <Hixie_>
i do have a problem with presentational attributes

[11:11:28.0000] <Hixie_>
are we really just redefining ISO-8859-1?

[12:17:06.0000] <annevk>
someone managed to review WebRTC in the interim?

[12:19:35.0000] <annevk>
ooh I see, Hixie_ found out it's a clusterfuck too

[12:21:12.0000] <annevk>
Hixie_: we're defining iso-8859-1 as a label

[12:21:22.0000] <annevk>
Hixie_: of windows-1252

[12:23:57.0000] <Hixie_>
annevk: i'm not one to shy away from arrogantly displacing other standards bodies' work, obviously, but isn't that a bit of a big leap even for us?

[12:24:24.0000] <Hixie_>
annevk: i mean, isn't ISO-8859 used elsewhere than the web?

[12:24:36.0000] <Hixie_>
annevk: or is it really treated as win1252 everywhere

[12:25:04.0000] <annevk>
is HTML parsed as per the HTML Standard everywhere?

[12:25:34.0000] <annevk>
I'd say the end goal is definitely that everyone gets the same encoding library

[12:25:47.0000] <Hixie_>
no, it wasn't parsed per the HTML Standard anywhere. But we didn't make things that were previously valid HTML parse differently, and we did study pretty much every major implementation.

[12:26:10.0000] <Hixie_>
and HTML is pretty specific to the Web

[12:26:21.0000] <annevk>
Wasn't <title/test/ valid HTML?

[12:26:32.0000] <SimonSapin>
Hixie_: that why I named by implementation "python-webencodings" rather than python-encodings.

[12:26:37.0000] <Hixie_>
annevk: not per HTML1

[12:26:38.0000] <SimonSapin>
my* implementation

[12:26:44.0000] <annevk>
hmm

[12:26:55.0000] <Hixie_>
annevk: it briefly was with HTML4, but that was never widely implemented except by the validator

[12:27:16.0000] <Hixie_>
but even that was changed at some point

[12:27:56.0000] <annevk>
Hixie_: I could define iso-8859-1 as an encoding, but you could never get to it from web content, seems kinda meaningless

[12:29:23.0000] <Hixie_>
annevk: what's wrong with what we had before, where ISO-8859-1 was an encoding defined by ISO, but there was no way to refer to its decoder from Web content, because its label caused win1252 decoding, except that it was non-conforming to use bytes that would get processed "wrongly"?

[12:29:41.0000] <Hixie_>
that would at least mean that people who later reuse the text in iso-8859-1-true environments don't get screwed accidentally

[12:29:45.0000] <Hixie_>
if they use a validator, anyway

[12:30:27.0000] <annevk>
Given that there are all kinds of pitfalls with non-utf-8 encodings, it didn't seem worth distinguishing those cases.

[12:30:43.0000] <Hixie_>
anyway, i have to go afk for a bit. i'm just a bit worried that we're doing something with knock-on effects we haven't fully considered. your call, though, obviously.

[12:30:45.0000] <Hixie_>
ttyl

[12:31:29.0000] <annevk>
My take on this has been is that we need to define the legacy, but want everyone on board the utf-8 rocket.

[12:32:28.0000] <annevk>
So spending much time with weird error conditions in the legacy, while using it is wrong anyway is not worth it. Then on top of that, having to go through numerous specifications that do not define all the details you need to know to implement legacy encodings, was something we could improve on.

[12:43:13.0000] <annevk>
Hmm

[12:43:14.0000] <annevk>
https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/Object/is

[12:43:22.0000] <annevk>
So, ==, ===, and now Object.is

[12:43:35.0000] <annevk>
for -0 and NaN

[12:59:22.0000] <jsbell>
annevk: Don't forget the internal SameValueZero for Maps/Sets

[13:00:04.0000] <annevk>
Maybe wycats is right and I should attend one of those meetings for fun times

[13:00:10.0000] <jsbell>
Where SameValueZero(NaN, NaN) but also SameValueZero(0, -0)

[13:00:36.0000] <annevk>
wow

[13:00:46.0000] <annevk>
that's brilliant

[13:01:14.0000] <annevk>
should introduce ==== for Object.is and ===== for that one

[13:02:47.0000] <annevk>
I wonder if companies will start using this as an interview question. "Tell me what you know about comparators in JavaScript and their negative zero and NaN handling."

[13:18:01.0000] <TabAtkins>
annevk: Object.is was introduced pretty much solely to avoid ====.

[13:21:31.0000] <miketaylr>
because fourquals doesn't sound quite as nice as threequals

[13:22:07.0000] <TabAtkins>
I pronounce === as "equals" and == as "kinda like".

[14:31:10.0000] <annevk>
Hixie_: http://html5.org/r/7782 looks most excellent

[14:50:07.0000] <Hixie_>
annevk: cool. btw, i hate to suggest this now that i use them all, but we should consider renaming these algorithms not to sound so similar

[14:50:47.0000] <Hixie_>
annevk: there's so going to be confusion between "decode", "utf-8 decode", and "utf-8 decoder"

[14:51:35.0000] <annevk>
I was kinda hoping only the JavaScript API would hook into the latter, but I think that may have been a false hope

[14:52:39.0000] <annevk>
Hixie_: If I introduce "bomless utf-8 decode" as an alias for the latter, would that help?

[14:53:12.0000] <Hixie_>
well the last one doesn't really exist, it's just the "decoder" for "utf-8" (which BTW I spelt "UTF-8" in the HTML spec, since it's an acronym)

[14:53:25.0000] <Hixie_>
it's the first two that are more confusing

[14:53:57.0000] <annevk>
(it's also an exposed name in the DOM, which is why it's utf-8)

[14:54:27.0000] <annevk>
I see you do use "utf-8 decoder" specifically

[14:54:38.0000] <annevk>
I thought all the other entry points would use "decode"

[14:54:43.0000] <Hixie_>
something like "generic decoder" or "generic byte-to-string converter algorithm" instead of "decode"

[14:54:56.0000] <Hixie_>
might distinguish it from the actual decoders

[14:55:31.0000] <Hixie_>
and something like "BOM-stripping UTF-8 byte-to-character stream conversion algorithm" for utf-8 decode, similarly :-)

[14:55:36.0000] <Hixie_>
anyway

[14:55:40.0000] <SimonSapin>
renaming to avoid "decode" and "decoder" being two different things: yes please

[14:55:41.0000] <Hixie_>
i'm fine if you leave them as is

[14:55:41.0000] <annevk>
so you only use "decoder" as a generic for form stuff

[14:55:43.0000] <Hixie_>
less work for me

[14:56:33.0000] <annevk>
maybe "resource decode" and "utf-8 resource decode"?

[14:57:19.0000] <annevk>
I'll think about it some more

[16:31:32.0000] <Hixie_>
heh, unicode tr9 (updated) step BD9's algorithm uses a "COMEFROM" operator in the third bullet

[16:37:28.0000] <Hixie_>
unicode will have at least three separate characters that are trains.

[16:37:36.0000] <Hixie_>
now i like trains as much as the next guy, probably more, but... really?


2013-03-30
[08:49:36.0000] <zell>
hello

[08:51:16.0000] <zell>
I got an error when I'm importing script from a worker using importScripts function:  Script file not found: assets/js/gamecs.min.js using file:// or gh-pages

[08:51:59.0000] <zell>
is possible to use Web worker's importScripts from file:// ?

[09:18:59.0000] <hsivonen>
Hixie_: please let's not make things. let's keep iso-8859-1 as an alias of windows-1252. we already shipped that.

[09:19:26.0000] <hsivonen>
let's not make things complicated, that is

[09:27:37.0000] <jarek>
Hi

[09:28:18.0000] <jarek>
is there any hope that web components / custom elements / shadow specs will never be implemented by all browser vendors?

[09:28:46.0000] <jarek>
it looks like only Mozilla and Google are pushing it

[09:29:25.0000] <gsnedders>
So, what, will it get implemented by MS?

[09:29:30.0000] <zewt>
that doesn't sound like an "only", heh

[09:29:44.0000] <gsnedders>
It sounds like almost all browser engines nowadays.

[09:30:07.0000] <jarek>
I really hope that it will be blocked by MS because those specs are disastrous

[09:30:27.0000] <gsnedders>
How so?

[09:31:31.0000] <jarek>
gsnedders: it's horribly bloated, all we (developers) really need is a way to sandbox DOM subtrees for the rest of the page

[09:32:08.0000] <jarek>
shadow DOM is overkill

[09:32:19.0000] <jarek>
s/for/from

[09:33:20.0000] <gsnedders>
Last I looked it didn't do much more than that?

[09:34:19.0000] <jarek>
gsnedders: it does, it introduces syntax for custom elements and external template

[09:34:39.0000] <jarek>
and the <style scoped> is just ridicolous

[09:34:45.0000] <jarek>
it could make sense 10 years ago

[09:36:00.0000] <jarek>
are web components implemented in vanilla WebKit?

[09:36:34.0000] <gsnedders>
Mostly, yes.

[09:37:08.0000] <jarek>
we are doomed :/

[09:37:30.0000] <gsnedders>
It seems to be a supserset of what you want?

[09:38:39.0000] <gsnedders>
The shadow DOM is the only part that's pretty much stable ‚Äî and that does everything you want, no?

[09:39:34.0000] <jarek>
gsnedders: let's say that I wanted to create "button" widget

[09:40:29.0000] <jarek>
if I understand it correctly, the fastest way to implement it with shadow dom would be to create new shadow dom root element (document.createShadowRoot())

[09:40:43.0000] <jarek>
and then insert all button elements (e.g. label, icon or tooltip) inside it

[09:42:09.0000] <jarek>
so I end up with something like <x-button><div class="button">...</div></x-button>

[09:42:57.0000] <jarek>
I would rather prefer to just define my button element right away, e.g. <div class="button" sandbox="true"></div>

[09:43:11.0000] <gsnedders>
Or use <shadow>

[09:43:34.0000] <gsnedders>
<shadow><div class="button" sandbox="true"></div></shadow>

[09:43:52.0000] <jarek>
what about styling? Everyone should switch to inline styles now?

[09:44:16.0000] <jarek>
I suspect I could put @import into scoped inline style, but this would be still ugly

[09:44:40.0000] <jarek>
even CSS namespaces (for XML) were more elegant than that

[09:44:41.0000] <gsnedders>
I'm still not convincd there's any clean way to do styles in shadow DOMs.

[09:45:18.0000] <jarek>
gsnedders: <div class="button" scoped-style="some-style.css"></div>

[09:46:34.0000] <jarek>
or just allow "scoped" attribute on <link rel="stylesheet">

[13:20:17.0000] <zewt>
dear chrome: when i change the filename in a save-as dialog to not have a .txt extension, don't ignore me and silently put it back. thanks -me

[13:28:00.0000] <pingveno>
I'm adding HTML 5 support to a Python library. For datalist tags with conflicting/duplicate ids, which one should I choose? The first one? The last one?

[13:30:04.0000] <wilhelm_>
pingveno: Are you sure you're not duplicating the work done here? https://code.google.com/p/html5lib/

[13:33:15.0000] <Ms2ger>
pingveno, what the spec says

[13:41:31.0000] <pingveno>
wilhelm_: No. I'm adding to Mechanize.

[13:42:13.0000] <pingveno>
It's a library that emulates how a browser behaves when it visits web sites, including filling out forms.

[13:43:11.0000] <pingveno>
I have to figure out the best way to handle an input referring to a duplicated datalist id.

[13:46:56.0000] <pingveno>
I can't find anything in the spec about how to resolve the problem.

[16:11:30.0000] <Hixie_>
pingveno: you mean when list="" attributes point to a <datalist> element?


2013-03-31
[19:38:06.0000] <pingveno>
Hixie_: yes

[19:39:51.0000] <pingveno>
<datalist id="foo">...</datalist><datalist id="foo"></datalist>

[19:40:20.0000] <pingveno>
<input list="foo">

[19:45:10.0000] <Hixie_>
pingveno: let's see

[19:46:49.0000] <Hixie_>
pingveno: the spec says "The suggestions source element is the first element in the document in tree order to have an ID equal to the value of the list attribute, if that element is a datalist element"

[19:46:54.0000] <Hixie_>
pingveno: seems pretty unambiguous to me

[19:47:15.0000] <Hixie_>
pingveno: third paragraph of the list="" section, first sentence

[19:47:28.0000] <Hixie_>
http://whatwg.org/html#the-list-attribute

[20:39:30.0000] <pingveno>
Hixie_: Thanks, I think I was looking at the wrong spec.

[20:47:40.0000] <Hixie_>
what were you looking at?

[21:36:10.0000] <pingveno>
Hixie_: http://www.w3.org/html/wg/drafts/html/master/forms.html#the-datalist-element

[21:36:33.0000] <pingveno>
It's part of the first thing you get when you search for html 5 spec

[22:21:45.0000] <Hixie_>
pingveno: ah

[23:01:30.0000] <JonathanNeal>
Confession: I've used <subline> in so many projects that I only just remembered that it isn't in spec.

[23:03:35.0000] <JonathanNeal>
In all honesty, I don't know how I failed to forget.

[23:03:48.0000] <JonathanNeal>
Or how I managed to not notice in a validator.

[23:44:17.0000] <mansgrf>
http://xteensx.info/german-amateur-fucking-outdoors/

[08:52:17.0000] <annevk>
Anyone here fancy defining xml:base: https://www.w3.org/Bugs/Public/show_bug.cgi?id=20976 ?

[12:05:13.0000] <SoWhat>
Hi! I would like to add "web-author" meta tag. Here is description http://www.metatags.info/meta_name_webauthor

[12:05:41.0000] <SoWhat>
any suggestions?

[12:10:25.0000] <SoWhat>
can you help me do this?

[12:23:14.0000] <SoWhat>
 I would like to add "web_author" meta tag. Here is description http://www.metatags.info/meta_name_webauthor

[12:23:29.0000] <SoWhat>
what should I do?

[12:23:53.0000] <zewt>
you just said that

[12:26:40.0000] <wilhelm_>
Just do ... what the page you link to says?

[12:34:33.0000] <SoWhat>
what does this mean to ping a user ?

[12:34:56.0000] <SoWhat>
wiki says "ping an autoconfirmed user on IRC"

[12:59:47.0000] <SimonSapin>
SoWhat: what wiki page? I guess "ping" just means talk to them

[13:03:23.0000] <GPHemsley>
SoWhat: Oh, yeah. "Ping" in this context just means "contact".

[13:04:58.0000] <GPHemsley>
I clarified the wiki message.

[13:08:48.0000] <SoWhat>
thanks SimonSapin and GPHemsley it is written here http://wiki.whatwg.org/wiki/Special:ListUsers%26group%3Dautoconfirmed

[13:09:21.0000] <GPHemsley>
The message shows up on every page if you are not logged in.

[13:09:31.0000] <SimonSapin>
oh I see, autoconfirmed on the wiki

[13:09:42.0000] <SimonSapin>
wait, how did I get there? :p

[13:09:48.0000] <GPHemsley>
I put you there ;)

[13:09:57.0000] <GPHemsley>
I added everyone whose name I recognized

[13:10:07.0000] <SimonSapin>
ok

[13:10:29.0000] <GPHemsley>
under the assumption that if I knew your name, you had enough of a vested interest in the WHATWG that you wouldn't screw up the wiki ;)

[13:12:05.0000] <SimonSapin>
reminds me of how I somehow became part of the Servo team before they told me :)

[13:13:12.0000] <GPHemsley>
SimonSapin: There are instructions for creating users, if you need them in the future: http://wiki.whatwg.org/wiki/WHATWG_Wiki:How_to_create_a_user_account

[13:13:35.0000] <SimonSapin>
good to know, thanks

[13:14:09.0000] <SoWhat>
so guys, how about creating user account for me? :)

[13:14:39.0000] <SimonSapin>
I can do it I guess

[13:15:24.0000] <SimonSapin>
SoWhat: same nickname as here?

[13:15:37.0000] <SoWhat>
hmm

[13:16:12.0000] <SoWhat>
will users be able to see it?

[13:16:44.0000] <SimonSapin>
there is a username, and a real name. "Real name is optional. If you choose to provide it, this will be used for giving you attribution for your work."

[13:17:09.0000] <SoWhat>
okay

[13:17:11.0000] <SoWhat>
username same

[13:17:21.0000] <SoWhat>
real name KƒÅrlis Baumanis

[13:19:16.0000] <SimonSapin>
Ok. You can use http://wiki.whatwg.org/wiki/Special:ChangePassword after logging in

[13:19:57.0000] <SimonSapin>
GPHemsley: should I create an account for whoever asks?

[13:20:24.0000] <GPHemsley>
SimonSapin: I'd say a preliminary vetting wouldn't hurt. Hixie_ might have more to say on the subject.

[13:21:05.0000] <SoWhat>
SimonSapin: It automatically required password change after first login ;)

[13:21:21.0000] <SimonSapin>
good

[13:21:50.0000] <SimonSapin>
well I just repeat what it told me after submitting

[13:24:26.0000] <Hixie_>
SimonSapin: yes, unless they're obviously just out to spam us

[13:24:43.0000] <SimonSapin>
ok

[13:24:58.0000] <Hixie_>
i wish we could just have an entirely open wiki and blog

[13:25:04.0000] <Hixie_>
but, well, spammers.

[13:40:19.0000] <SoWhat>
As I understand, I have to use Proposed state, even though this meta tag is old and is being used a lot?

[14:03:15.0000] <jgraham>
SoWhat: Yes

[14:03:27.0000] <jgraham>
SimonSapin: Is Servo what you will work on?

[14:03:34.0000] <SoWhat>
jgraham: okay, thanks!

[14:05:47.0000] <SimonSapin>
jgraham: Servo, a bit of Gecko, and CSS specs. Starting May 20

[14:07:28.0000] <SimonSapin>
earlier was referring to an email on the Servo list where it seemed a fact I was in the Servo team. That was after the interviews but before I actually got the offer

[14:08:32.0000] <jgraham>
Sounds cool.

[14:09:09.0000] <SimonSapin>
I can‚Äôt wait to start :)

[14:09:29.0000] <jgraham>
It feels like Servo is some kind of litmus test for the Open Web

[14:09:42.0000] <SimonSapin>
litmus test?

[14:10:25.0000] <jgraham>
If Mozilla can make a viable replacement for Gecko in a reasonable timeframe based on specs, the "open" part of "open web" is more or less a success. Otherwise it is more or less a failure.

[14:11:42.0000] <jgraham>
Of course there could be reasons for the project to fail other than "too much of the web was still def-facto specified in implementations"

[14:11:49.0000] <jgraham>
*de-facto

[14:11:58.0000] <SimonSapin>
I see, though it‚Äôs not only based exclusively on specs. Lots of prior knowledge.

[14:12:03.0000] <jgraham>
Sure

[14:12:19.0000] <jgraham>
Which makes my point stronger

[14:12:28.0000] <SimonSapin>
Sometimes all of CSSWG knows and agrees on some detail, but we just forgot to put it in a spec

[14:12:52.0000] <jgraham>
If it fails then we as a community failed to make it so that anyone, even Mozilla, could implement a new web browser engine

[14:13:52.0000] <jgraham>
I hope that one effect of the project will be to give feedback on the parts of specs that haven't been implemented since the spec was written

[14:13:57.0000] <SimonSapin>
WeasyPrint is doing okay so far, based on spec. But of course the bar is much higher for Servo

[14:15:18.0000] <jgraham>
We were doing that with document loading in presto as anyone who was reading the bugs we filed will have reaslised

[14:15:47.0000] <jgraham>
It turned out that there were a lot of issues in that part of the spec

[14:15:59.0000] <jgraham>
Partially because it's super complex

[14:16:07.0000] <SimonSapin>
document loading, is that what annevk is doing with Fetch?

[14:16:15.0000] <jgraham>
and partically because no one had actually tried to implement the spec before

[14:16:26.0000] <jgraham>
Not just fetch, I don't think

[14:17:02.0000] <gsnedders>
SimonSapin: No, lower level than that. Around how you initiate the DOM, and the like.

[14:17:59.0000] <jgraham>
Well not just lower level

[14:18:06.0000] <SimonSapin>
Ah I see. WeasyPrint does none of that (DOM, JS), so I haven‚Äôt had to care yet :)

[14:18:08.0000] <jgraham>
http://www.whatwg.org/specs/web-apps/current-work/multipage/history.html#history <- everything on that page

[14:18:29.0000] <gsnedders>
Oh-god-history-navigation.

[14:18:31.0000] <jgraham>
Plus lots to do with script execution

[14:18:43.0000] <gsnedders>
jgraham: I'm so glad you dealt with all that. I'm glad I avoided working on it.

[14:20:47.0000] <jgraham>
A+++ would work on again.

[14:21:09.0000] <jgraham>
But yeah, quite traumatic

[14:23:17.0000] <jgraham>
Kind of like trying to tip-toe your way across a dark room with holes in the floor and rotten floorboards that collapse when you stand on them and a light so dim it can only illuminate a small fraction of the space at a time.

[14:24:15.0000] <jgraham>
And the only evidence you have that it's possible to make it across the room at all are the people on the other side

[14:24:27.0000] <nimbu>
D: D: maybe they are zombies

[14:25:26.0000] <SimonSapin>
jgraham: did you manage to repair some of the floor along the way?

[14:25:51.0000] <gsnedders>
SimonSapin: Oh, the spec is far closer to something you can implement now and have it work. Still lots of edge-cases, though.

